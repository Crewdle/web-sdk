function a0_0x1d5b(_0x2c1916,_0x2cf71a){const _0x2090c3=a0_0x2090();return a0_0x1d5b=function(_0x1d5bdc,_0x3d1ae8){_0x1d5bdc=_0x1d5bdc-0x162;let _0x4c775f=_0x2090c3[_0x1d5bdc];return _0x4c775f;},a0_0x1d5b(_0x2c1916,_0x2cf71a);}(function(_0x55d563,_0x508201){const _0x5a55f6=a0_0x1d5b,_0x2ee551=_0x55d563();while(!![]){try{const _0x3cc77f=-parseInt(_0x5a55f6(0x368))/0x1*(parseInt(_0x5a55f6(0x780))/0x2)+parseInt(_0x5a55f6(0x884))/0x3*(parseInt(_0x5a55f6(0x7d8))/0x4)+parseInt(_0x5a55f6(0x4d6))/0x5*(-parseInt(_0x5a55f6(0x650))/0x6)+parseInt(_0x5a55f6(0x4f1))/0x7*(parseInt(_0x5a55f6(0x346))/0x8)+-parseInt(_0x5a55f6(0x8c2))/0x9*(-parseInt(_0x5a55f6(0x8f3))/0xa)+parseInt(_0x5a55f6(0x3c5))/0xb*(-parseInt(_0x5a55f6(0x76a))/0xc)+parseInt(_0x5a55f6(0x464))/0xd;if(_0x3cc77f===_0x508201)break;else _0x2ee551['push'](_0x2ee551['shift']());}catch(_0x20fcc1){_0x2ee551['push'](_0x2ee551['shift']());}}}(a0_0x2090,0xc9618),!function(_0x1f104d,_0x27fb42){const _0x4a5223=a0_0x1d5b;if('object'==typeof exports&&_0x4a5223(0x4cc)==typeof module)module[_0x4a5223(0x6b1)]=_0x27fb42();else{if(_0x4a5223(0x2b7)==typeof define&&define[_0x4a5223(0x789)])define([],_0x27fb42);else{var _0x33d4b8=_0x27fb42();for(var _0x35ce86 in _0x33d4b8)('object'==typeof exports?exports:_0x1f104d)[_0x35ce86]=_0x33d4b8[_0x35ce86];}}}(this,()=>((()=>{'use strict';const _0x34a0aa=a0_0x1d5b;var _0x201bae={0x14d:(_0x54534a,_0x12007a,_0x3492f3)=>{const _0x483337=a0_0x1d5b;_0x3492f3['d'](_0x12007a,{'O':()=>_0x2837d9});const _0x2837d9={'version':_0x483337(0x92a),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x483337(0x293),'authDomain':_0x483337(0x62d),'databaseURL':_0x483337(0x8a9),'projectId':_0x483337(0x9a7),'storageBucket':_0x483337(0x20a),'appId':_0x483337(0x9d4),'functionsRegion':'northamerica-northeast1'},'google':{'searchEngineId':_0x483337(0x4cb)},'aws':{'endpoint':_0x483337(0x57f),'region':_0x483337(0x328)}};},0x33b:(_0x1f310a,_0x5d7e6e,_0x30d46f)=>{_0x30d46f['d'](_0x5d7e6e,{'O':()=>_0x5e3f9e});const _0x5e3f9e={};},0x3e6:(_0x48d30c,_0x4b3af1,_0x240148)=>{const _0x57546a=a0_0x1d5b;_0x240148['d'](_0x4b3af1,{'O':()=>_0x593c62});const _0x593c62={'version':_0x57546a(0x2e2),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':_0x57546a(0x51c),'databaseURL':_0x57546a(0x4a2),'projectId':_0x57546a(0x17b),'storageBucket':_0x57546a(0x72b),'messagingSenderId':_0x57546a(0x1b8),'appId':_0x57546a(0x2e9),'measurementId':_0x57546a(0x62f)},'aws':{'endpoint':_0x57546a(0x1a9),'region':_0x57546a(0x328)}};},0x20:(_0x26a98f,_0x401500,_0x575d13)=>{_0x575d13['d'](_0x401500,{'O':()=>_0x34f9ed});const _0x34f9ed={};}},_0xedef01={};function _0x41c0f1(_0x20f314){const _0x2c9cb6=a0_0x1d5b;var _0x3ba3ca=_0xedef01[_0x20f314];if(void 0x0!==_0x3ba3ca)return _0x3ba3ca[_0x2c9cb6(0x6b1)];var _0x1254c0=_0xedef01[_0x20f314]={'exports':{}};return _0x201bae[_0x20f314](_0x1254c0,_0x1254c0[_0x2c9cb6(0x6b1)],_0x41c0f1),_0x1254c0['exports'];}_0x41c0f1['d']=(_0x2b507e,_0x25f301)=>{const _0x4280ae=a0_0x1d5b;for(var _0x471ba7 in _0x25f301)_0x41c0f1['o'](_0x25f301,_0x471ba7)&&!_0x41c0f1['o'](_0x2b507e,_0x471ba7)&&Object[_0x4280ae(0x6c1)](_0x2b507e,_0x471ba7,{'enumerable':!0x0,'get':_0x25f301[_0x471ba7]});},_0x41c0f1['g']=(function(){const _0x469c8d=a0_0x1d5b;if(_0x469c8d(0x4cc)==typeof globalThis)return globalThis;try{return this||new Function(_0x469c8d(0x95e))();}catch(_0x1591c8){if(_0x469c8d(0x4cc)==typeof window)return window;}}()),_0x41c0f1['o']=(_0x3edde1,_0x519dd1)=>Object[_0x34a0aa(0x5de)]['hasOwnProperty'][_0x34a0aa(0x56f)](_0x3edde1,_0x519dd1),_0x41c0f1['r']=_0x20fc10=>{const _0x580621=_0x34a0aa;_0x580621(0x226)!=typeof Symbol&&Symbol[_0x580621(0x871)]&&Object[_0x580621(0x6c1)](_0x20fc10,Symbol[_0x580621(0x871)],{'value':_0x580621(0x46c)}),Object[_0x580621(0x6c1)](_0x20fc10,_0x580621(0x809),{'value':!0x0});};var _0x2df194,_0x367233,_0x5d2ed2,_0x1052b2={};_0x41c0f1['r'](_0x1052b2),_0x41c0f1['d'](_0x1052b2,{'KeyValueDatabase':()=>_0x5e0822,'LayoutBuilder':()=>_0x4842c0,'LoggingChannels':()=>_0x5d2ed2,'QueryBuilder':()=>_0x1a3d4a,'SDK':()=>_0x411a25,'SDKClientErrorCodes':()=>_0x2df194,'TableBuilder':()=>_0x543c2e,'logger':()=>_0x17dbc7}),function(_0x12b5cd){const _0x1a19d4=_0x34a0aa;_0x12b5cd[_0x1a19d4(0x22c)]=_0x1a19d4(0x9f9),_0x12b5cd[_0x1a19d4(0x890)]=_0x1a19d4(0x22e),_0x12b5cd[_0x1a19d4(0x19e)]='external-storage-connection-already-exists',_0x12b5cd[_0x1a19d4(0x9ff)]='external-storage-connection-already-subscribed',_0x12b5cd['ExternalStorageConnectionDoesNotExist']=_0x1a19d4(0x2fb),_0x12b5cd[_0x1a19d4(0x2be)]=_0x1a19d4(0x396),_0x12b5cd[_0x1a19d4(0x39d)]=_0x1a19d4(0x31d),_0x12b5cd[_0x1a19d4(0x93e)]=_0x1a19d4(0x33b),_0x12b5cd[_0x1a19d4(0x681)]='feature-not-enabled',_0x12b5cd[_0x1a19d4(0x9ac)]=_0x1a19d4(0x81a),_0x12b5cd[_0x1a19d4(0x8f1)]=_0x1a19d4(0x4eb),_0x12b5cd[_0x1a19d4(0x862)]='generative-ai-context-job-missing-thread-id',_0x12b5cd[_0x1a19d4(0x175)]=_0x1a19d4(0x46e),_0x12b5cd[_0x1a19d4(0x661)]=_0x1a19d4(0x325),_0x12b5cd['GenerativeAIWorkerMissingConnector']='generative-ai-worker-missing-connector',_0x12b5cd[_0x1a19d4(0x677)]=_0x1a19d4(0x825),_0x12b5cd[_0x1a19d4(0x308)]='graph-database-already-exists',_0x12b5cd[_0x1a19d4(0x5c1)]='graph-database-does-not-exist',_0x12b5cd['GraphDatabaseMissingConnector']='graph-database-missing-connector',_0x12b5cd['GraphDatabaseNameNotString']=_0x1a19d4(0x366),_0x12b5cd['JobDispatcherAlreadyExists']=_0x1a19d4(0x9df),_0x12b5cd[_0x1a19d4(0x7f8)]=_0x1a19d4(0x5c9),_0x12b5cd['JobDispatcherJobExists']=_0x1a19d4(0x860),_0x12b5cd[_0x1a19d4(0x87a)]=_0x1a19d4(0x7f0),_0x12b5cd[_0x1a19d4(0x5b5)]=_0x1a19d4(0x356),_0x12b5cd['JobWorkerAlreadyExists']=_0x1a19d4(0x643),_0x12b5cd[_0x1a19d4(0x9fa)]=_0x1a19d4(0xa1c),_0x12b5cd['ObjectStoreAlreadyExists']=_0x1a19d4(0x711),_0x12b5cd['ObjectStoreAlreadySubscribed']=_0x1a19d4(0x52d),_0x12b5cd[_0x1a19d4(0x7f1)]=_0x1a19d4(0x9bc),_0x12b5cd[_0x1a19d4(0x688)]=_0x1a19d4(0x6c8),_0x12b5cd['ObjectStoreInvalidPayload']=_0x1a19d4(0x5f7),_0x12b5cd[_0x1a19d4(0x788)]=_0x1a19d4(0x195),_0x12b5cd['ObjectStoreNotInSync']=_0x1a19d4(0x68a),_0x12b5cd[_0x1a19d4(0x60b)]=_0x1a19d4(0x5ed),_0x12b5cd[_0x1a19d4(0x6c6)]=_0x1a19d4(0x1fc),_0x12b5cd[_0x1a19d4(0x414)]='key-value-database-already-exists',_0x12b5cd['KeyValueDatabaseDoesNotExist']='key-value-database-does-not-exist',_0x12b5cd[_0x1a19d4(0x5a9)]='key-value-database-index-not-found',_0x12b5cd[_0x1a19d4(0x898)]=_0x1a19d4(0x65a),_0x12b5cd[_0x1a19d4(0x906)]='key-value-database-invalid-value',_0x12b5cd[_0x1a19d4(0x4f5)]=_0x1a19d4(0x2ee),_0x12b5cd[_0x1a19d4(0x4ec)]='key-value-database-not-open',_0x12b5cd[_0x1a19d4(0xa0b)]=_0x1a19d4(0x8ca),_0x12b5cd[_0x1a19d4(0x2f3)]=_0x1a19d4(0xa16),_0x12b5cd['KeyValueDatabaseInvalidLayout']='key-value-database-invalid-layout',_0x12b5cd[_0x1a19d4(0x66f)]=_0x1a19d4(0x738),_0x12b5cd[_0x1a19d4(0x658)]=_0x1a19d4(0x23d),_0x12b5cd[_0x1a19d4(0x3d9)]=_0x1a19d4(0x16f),_0x12b5cd[_0x1a19d4(0x618)]=_0x1a19d4(0x5bb),_0x12b5cd['PubSubTopicNameNotString']=_0x1a19d4(0x27c),_0x12b5cd[_0x1a19d4(0x778)]=_0x1a19d4(0x29e),_0x12b5cd[_0x1a19d4(0x5f0)]='query-helper-invalid-argument',_0x12b5cd[_0x1a19d4(0x2da)]=_0x1a19d4(0x71a),_0x12b5cd[_0x1a19d4(0x8fe)]=_0x1a19d4(0x69f),_0x12b5cd[_0x1a19d4(0x929)]=_0x1a19d4(0x37f),_0x12b5cd[_0x1a19d4(0x836)]='node-not-authenticated',_0x12b5cd[_0x1a19d4(0x67f)]=_0x1a19d4(0x8d1),_0x12b5cd[_0x1a19d4(0x510)]=_0x1a19d4(0x1c6),_0x12b5cd['VectorDatabaseAlreadyExists']=_0x1a19d4(0x4db),_0x12b5cd['VectorDatabaseDoesNotExist']=_0x1a19d4(0x605),_0x12b5cd[_0x1a19d4(0x655)]=_0x1a19d4(0x3e3),_0x12b5cd[_0x1a19d4(0xa05)]=_0x1a19d4(0x4fb);}(_0x2df194||(_0x2df194={}));class _0x4a345c extends Error{['code'];constructor(_0x552af5,_0xfd2639){super(_0xfd2639),this['code']=_0x552af5;}}!function(_0x4b7b36){const _0x13d60a=_0x34a0aa;_0x4b7b36[_0x13d60a(0x421)]=_0x13d60a(0x1c2),_0x4b7b36[_0x13d60a(0x6ec)]=_0x13d60a(0x5e4),_0x4b7b36[_0x13d60a(0x481)]='key-value-database',_0x4b7b36[_0x13d60a(0x42e)]='vector-database',_0x4b7b36[_0x13d60a(0x881)]='graph-database',_0x4b7b36[_0x13d60a(0x46b)]=_0x13d60a(0x597),_0x4b7b36[_0x13d60a(0x18a)]=_0x13d60a(0x646),_0x4b7b36[_0x13d60a(0x7b6)]=_0x13d60a(0x541);}(_0x367233||(_0x367233={})),function(_0x5566d4){const _0xf014e6=_0x34a0aa;_0x5566d4[_0xf014e6(0x3e2)]=_0xf014e6(0x50a),_0x5566d4[_0xf014e6(0x3f5)]='default',_0x5566d4[_0xf014e6(0x783)]=_0xf014e6(0x7c1),_0x5566d4['ConnectionState']=_0xf014e6(0x2b4),_0x5566d4[_0xf014e6(0x9ad)]=_0xf014e6(0x669),_0x5566d4[_0xf014e6(0x562)]=_0xf014e6(0x1f6),_0x5566d4[_0xf014e6(0x247)]=_0xf014e6(0x373),_0x5566d4[_0xf014e6(0x48a)]=_0xf014e6(0x5c4),_0x5566d4[_0xf014e6(0x7ed)]=_0xf014e6(0x4e9),_0x5566d4[_0xf014e6(0x2e3)]=_0xf014e6(0x165),_0x5566d4['Jobs']=_0xf014e6(0x74c),_0x5566d4[_0xf014e6(0x481)]=_0xf014e6(0x4c7),_0x5566d4[_0xf014e6(0x221)]=_0xf014e6(0x3d7),_0x5566d4['Pool']=_0xf014e6(0x80f),_0x5566d4[_0xf014e6(0x421)]=_0xf014e6(0x1c2),_0x5566d4[_0xf014e6(0x95a)]=_0xf014e6(0x7e4),_0x5566d4[_0xf014e6(0x785)]=_0xf014e6(0x858),_0x5566d4[_0xf014e6(0x782)]=_0xf014e6(0x2d3),_0x5566d4[_0xf014e6(0x5ec)]=_0xf014e6(0x7df),_0x5566d4[_0xf014e6(0x992)]=_0xf014e6(0x761),_0x5566d4['Subscription']='subscription',_0x5566d4[_0xf014e6(0x2f1)]='support',_0x5566d4['System']=_0xf014e6(0x46f),_0x5566d4[_0xf014e6(0x487)]=_0xf014e6(0x9cb),_0x5566d4['TestPage']=_0xf014e6(0x71c),_0x5566d4[_0xf014e6(0x25b)]=_0xf014e6(0x8a3);}(_0x5d2ed2||(_0x5d2ed2={}));const _0xb78473=require('@crewdle/web-sdk-types');class _0x1a3d4a{[_0x34a0aa(0x298)];constructor(_0x3c9106){const _0x2a98c6=_0x34a0aa;this[_0x2a98c6(0x298)]={'orderBy':{'key':_0x3c9106,'direction':_0x2a98c6(0x492)}};}static[_0x34a0aa(0x968)](_0x1f975c){const _0x2e6700=_0x34a0aa;if(_0x2e6700(0x6ce)!=typeof _0x1f975c||0x0===_0x1f975c[_0x2e6700(0x831)])throw new _0x4a345c(_0x2df194[_0x2e6700(0x5f0)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x1a3d4a(_0x1f975c);}static['validateQuery'](_0x16f437){try{return _0x1a3d4a['buildQuery'](_0x16f437),!0x0;}catch(_0x4ebbfb){return!0x1;}}static[_0x34a0aa(0x632)](_0x58529a){const _0x200b91=_0x34a0aa,_0x48e4b7=_0x1a3d4a[_0x200b91(0x968)](_0x58529a[_0x200b91(0x1d2)]?.[_0x200b91(0x3bb)]??_0x58529a[_0x200b91(0x887)]?.[_0x200b91(0x3bb)]??'');if(_0x58529a[_0x200b91(0x887)]){const _0x4307c3=_0x58529a[_0x200b91(0x887)];if((_0x1a3d4a[_0x200b91(0x943)](_0x4307c3)||_0x1a3d4a[_0x200b91(0x309)](_0x4307c3)||_0x1a3d4a['isWhereBetween'](_0x4307c3))&&_0x48e4b7[_0x200b91(0x887)](_0x4307c3[_0x200b91(0x277)],_0x4307c3[_0x200b91(0x706)]),_0x58529a[_0x200b91(0x1d2)]?.[_0x200b91(0x3bb)]&&_0x58529a[_0x200b91(0x1d2)]?.[_0x200b91(0x3bb)]!==_0x58529a[_0x200b91(0x887)][_0x200b91(0x3bb)])throw new _0x4a345c(_0x2df194[_0x200b91(0x5f0)],_0x200b91(0x3e9));}return _0x58529a[_0x200b91(0x1d2)]&&_0x48e4b7[_0x200b91(0x1d2)](_0x58529a['orderBy']['direction']),_0x58529a['limit']&&_0x48e4b7['limit'](_0x58529a[_0x200b91(0x8a5)]),_0x58529a[_0x200b91(0x636)]&&_0x48e4b7[_0x200b91(0x636)](_0x58529a[_0x200b91(0x636)]),_0x48e4b7;}[_0x34a0aa(0x1c4)](){const _0x15326d=_0x34a0aa;return{...this[_0x15326d(0x298)]};}['where'](_0xfb07e5,_0x43afeb){const _0x1af52d=_0x34a0aa,_0x53f202={'key':this['query'][_0x1af52d(0x1d2)][_0x1af52d(0x3bb)],'operator':_0xfb07e5,'value':_0x43afeb};if(!_0x1a3d4a[_0x1af52d(0x943)](_0x53f202)&&!_0x1a3d4a[_0x1af52d(0x309)](_0x53f202)&&!_0x1a3d4a[_0x1af52d(0x3c3)](_0x53f202))throw new _0x4a345c(_0x2df194[_0x1af52d(0x5f0)],_0x1af52d(0x6d6));return this['query']['where']=_0x53f202,this;}[_0x34a0aa(0x1d2)](_0x33ebfb){const _0x2776e5=_0x34a0aa;if(_0x2776e5(0x492)!==_0x33ebfb&&'desc'!==_0x33ebfb)throw new _0x4a345c(_0x2df194[_0x2776e5(0x5f0)],_0x2776e5(0x9a2));return this['query']['orderBy']['direction']=_0x33ebfb,this;}[_0x34a0aa(0x8a5)](_0xe4dcb7){const _0x191930=_0x34a0aa;if(_0x191930(0x7f4)!=typeof _0xe4dcb7||_0xe4dcb7<0x0)throw new _0x4a345c(_0x2df194[_0x191930(0x5f0)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x191930(0x298)][_0x191930(0x8a5)]=_0xe4dcb7,this;}[_0x34a0aa(0x636)](_0x2f8a55){const _0x254fb6=_0x34a0aa;if(_0x254fb6(0x7f4)!=typeof _0x2f8a55||_0x2f8a55<0x0)throw new _0x4a345c(_0x2df194[_0x254fb6(0x5f0)],_0x254fb6(0x1ec));return this[_0x254fb6(0x298)]['offset']=_0x2f8a55,this;}static[_0x34a0aa(0x943)](_0x34aaba){const _0xcb8ed2=_0x34a0aa;if(!(_0x34aaba&&_0xcb8ed2(0x4cc)==typeof _0x34aaba&&_0xcb8ed2(0x277)in _0x34aaba&&_0xcb8ed2(0x706)in _0x34aaba))return!0x1;const {operator:_0x43831a,value:_0x14bbb2}=_0x34aaba;return!(!['==','!=','>','<','<=','>='][_0xcb8ed2(0x25d)](_0x43831a)||Array[_0xcb8ed2(0x5d8)](_0x14bbb2));}static[_0x34a0aa(0x309)](_0x2f0892){const _0xd4805d=_0x34a0aa;if(!(_0x2f0892&&_0xd4805d(0x4cc)==typeof _0x2f0892&&_0xd4805d(0x277)in _0x2f0892&&'value'in _0x2f0892))return!0x1;const {operator:_0x19fe64,value:_0x2d32e5}=_0x2f0892;return!(!['in',_0xd4805d(0x682)]['includes'](_0x19fe64)||!Array['isArray'](_0x2d32e5));}static['isWhereBetween'](_0x3a936e){const _0x593ffa=_0x34a0aa;if(!(_0x3a936e&&_0x593ffa(0x4cc)==typeof _0x3a936e&&_0x593ffa(0x277)in _0x3a936e&&_0x593ffa(0x706)in _0x3a936e))return!0x1;const {operator:_0x60f472,value:_0x37dd49}=_0x3a936e;return!('between'!==_0x60f472||!Array['isArray'](_0x37dd49)||0x2!==_0x37dd49[_0x593ffa(0x831)]);}}class _0x4842c0{[_0x34a0aa(0x4c8)];constructor(_0x36221c){const _0x357cb9=_0x34a0aa;this[_0x357cb9(0x4c8)]={'tables':{},'version':_0x36221c};}static[_0x34a0aa(0x6e3)](_0x311351){const _0x3e1f9b=_0x34a0aa;for(const _0x2cf8a9 in _0x311351){if(_0x3e1f9b(0x2fe)!==_0x2cf8a9&&'tables'!==_0x2cf8a9)return[!0x1,'Invalid\x20key\x20\x27'+_0x2cf8a9+_0x3e1f9b(0x9e6)];if(_0x3e1f9b(0x2f5)===_0x2cf8a9)for(const _0x4290c7 in _0x311351['tables']){if(_0x3e1f9b(0x6ce)!=typeof _0x4290c7)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x4290c7+'\x27'];for(const _0x28e367 in _0x311351[_0x3e1f9b(0x2f5)][_0x4290c7]){if(_0x3e1f9b(0x42c)!==_0x28e367)return[!0x1,_0x3e1f9b(0x202)+_0x28e367+'\x27\x20in\x20table\x20\x27'+_0x4290c7+'\x27'];const _0x8236e5=_0x311351['tables'][_0x4290c7][_0x28e367]??[];for(const _0x4563d5 of _0x8236e5)if(void 0x0===_0x4563d5[_0x3e1f9b(0x506)]||_0x3e1f9b(0x6ce)!=typeof _0x4563d5[_0x3e1f9b(0x506)])return[!0x1,_0x3e1f9b(0x395)+_0x4290c7+_0x3e1f9b(0x4f9)];}}else{if(_0x3e1f9b(0x2fe)===_0x2cf8a9&&_0x3e1f9b(0x7f4)!=typeof _0x311351[_0x2cf8a9])return[!0x1,_0x3e1f9b(0x42b)+_0x311351[_0x2cf8a9]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,'Valid\x20layout'];}static[_0x34a0aa(0x4c8)](_0x38fa68){const _0x5b205c=_0x34a0aa,_0xe0514a=new _0x4842c0(_0x38fa68);return _0xe0514a[_0x5b205c(0x4c8)][_0x5b205c(0x2fe)]=_0x38fa68,_0xe0514a;}['table'](_0x260109){const _0x1eb2c5=_0x34a0aa;return this['layout'][_0x1eb2c5(0x2f5)][_0x260109]={},new _0x543c2e(this[_0x1eb2c5(0x4c8)][_0x1eb2c5(0x2f5)][_0x260109]);}['getLayout'](){return this['layout'];}}class _0x543c2e{[_0x34a0aa(0x3e1)];constructor(_0x5f1f22){const _0x46b105=_0x34a0aa;this[_0x46b105(0x3e1)]=_0x5f1f22;}[_0x34a0aa(0x968)](_0x2db982){const _0x25e5b5=_0x34a0aa;return this[_0x25e5b5(0x3e1)][_0x25e5b5(0x42c)]=this[_0x25e5b5(0x3e1)]['indexes']??[],this[_0x25e5b5(0x3e1)][_0x25e5b5(0x42c)][_0x25e5b5(0x32e)]({'keyPath':_0x2db982}),this;}}const _0x8cce46=0x40000,_0x33c5a5=0x3f800,_0x5c3d80=0x1388,_0x659292=_0x34a0aa(0x7bf),_0x52cccd=_0x34a0aa(0x697),_0x5b8702=_0x34a0aa(0x804),_0x5777bf=_0x34a0aa(0x5d6),_0x5147ca=0x493e0,_0x59059a=_0x34a0aa(0x55c),_0x72d537=0x61a8,_0x5a8dca=_0x34a0aa(0x9cd);var _0x514bea;!function(_0x5b5260){const _0x19dc03=_0x34a0aa;_0x5b5260['ConnectionNotinitialized']='connection-not-initialized',_0x5b5260[_0x19dc03(0x52c)]=_0x19dc03(0x52f),_0x5b5260['ConnectionNoRetryQueue']=_0x19dc03(0x404),_0x5b5260[_0x19dc03(0x7c2)]=_0x19dc03(0x1b5),_0x5b5260['GenerativeAIContextCreationFailed']=_0x19dc03(0x7d5),_0x5b5260[_0x19dc03(0x419)]=_0x19dc03(0x362),_0x5b5260[_0x19dc03(0x8f7)]='generative-ai-context-job-already-consumed',_0x5b5260[_0x19dc03(0xa3f)]=_0x19dc03(0x23b),_0x5b5260['GenerativeAIContextJobTimeout']=_0x19dc03(0xa51),_0x5b5260[_0x19dc03(0x48f)]=_0x19dc03(0x774),_0x5b5260[_0x19dc03(0x942)]=_0x19dc03(0x870),_0x5b5260[_0x19dc03(0xa4a)]=_0x19dc03(0x932),_0x5b5260[_0x19dc03(0x20c)]=_0x19dc03(0x2e0),_0x5b5260[_0x19dc03(0x577)]=_0x19dc03(0x409),_0x5b5260['InvalidSubscription']=_0x19dc03(0x377),_0x5b5260['JobDispatcherCreationFailed']='job-dispatcher-creation-failed',_0x5b5260[_0x19dc03(0x997)]=_0x19dc03(0x819),_0x5b5260[_0x19dc03(0x87a)]='job-dispatcher-job-not-found',_0x5b5260[_0x19dc03(0x7bd)]=_0x19dc03(0x9f4),_0x5b5260['JobWorkerCreationFailed']='job-worker-creation-failed',_0x5b5260[_0x19dc03(0x2df)]=_0x19dc03(0x3ac),_0x5b5260[_0x19dc03(0x480)]=_0x19dc03(0x970),_0x5b5260['KeyValueDatabasePeakNotFound']=_0x19dc03(0x8eb),_0x5b5260[_0x19dc03(0x716)]=_0x19dc03(0x8ea),_0x5b5260[_0x19dc03(0x174)]=_0x19dc03(0x8cd),_0x5b5260['KeyValueDatabaseTransactionValueNotSet']=_0x19dc03(0x6b5),_0x5b5260['LocalMediaStreamDoesNotExist']=_0x19dc03(0x7d9),_0x5b5260[_0x19dc03(0x4ae)]=_0x19dc03(0x6c0),_0x5b5260['MissingSystemTopic']='missing-system-topic',_0x5b5260['MistletCapacityReportNotSet']='mistlet-capacity-report-not-set',_0x5b5260[_0x19dc03(0xa42)]=_0x19dc03(0x84a),_0x5b5260[_0x19dc03(0x7d0)]=_0x19dc03(0x6e0),_0x5b5260['ObjectStoreInvalidSyncMessage']=_0x19dc03(0x937),_0x5b5260[_0x19dc03(0x829)]='object-store-not-synced',_0x5b5260['OutgoingMediaStreamNoTopic']=_0x19dc03(0x657),_0x5b5260[_0x19dc03(0x389)]=_0x19dc03(0x70a),_0x5b5260[_0x19dc03(0x237)]=_0x19dc03(0x70e),_0x5b5260[_0x19dc03(0x81d)]=_0x19dc03(0x4b8),_0x5b5260[_0x19dc03(0x1d4)]=_0x19dc03(0x367),_0x5b5260[_0x19dc03(0xa3a)]=_0x19dc03(0x832),_0x5b5260[_0x19dc03(0x301)]=_0x19dc03(0x341),_0x5b5260[_0x19dc03(0x9c6)]='node-does-not-exist',_0x5b5260[_0x19dc03(0x427)]=_0x19dc03(0x81e),_0x5b5260[_0x19dc03(0x380)]=_0x19dc03(0x9ba),_0x5b5260[_0x19dc03(0x1d8)]='vector-database-creation-failed',_0x5b5260[_0x19dc03(0x3a1)]='workflow-does-not-exist',_0x5b5260[_0x19dc03(0x313)]=_0x19dc03(0x61b);}(_0x514bea||(_0x514bea={}));const _0x3504c7=new Map([[_0x514bea[_0x34a0aa(0x4fe)],_0x34a0aa(0x2b2)],[_0x514bea[_0x34a0aa(0x52c)],_0x34a0aa(0x50f)],[_0x514bea[_0x34a0aa(0x612)],_0x34a0aa(0x9da)],[_0x514bea['ConnectionInvalidDataEvent'],'Invalid\x20data\x20event.'],[_0x514bea['GenerativeAIContextCreationFailed'],_0x34a0aa(0x794)],[_0x514bea[_0x34a0aa(0x419)],_0x34a0aa(0xa34)],[_0x514bea[_0x34a0aa(0x8f7)],_0x34a0aa(0x3e0)],[_0x514bea[_0x34a0aa(0xa3f)],_0x34a0aa(0x978)],[_0x514bea[_0x34a0aa(0x85e)],_0x34a0aa(0x42a)],[_0x514bea['GenerativeAIWorkerCreationFailed'],'AI\x20worker\x20creation\x20failed.'],[_0x514bea[_0x34a0aa(0x942)],_0x34a0aa(0x53d)],[_0x514bea[_0x34a0aa(0xa4a)],_0x34a0aa(0x9c8)],[_0x514bea[_0x34a0aa(0x20c)],_0x34a0aa(0x94d)],[_0x514bea['InvalidSubscriber'],_0x34a0aa(0x5d0)],[_0x514bea['InvalidSubscription'],'Invalid\x20subscription.'],[_0x514bea[_0x34a0aa(0x9ea)],_0x34a0aa(0x5f1)],[_0x514bea[_0x34a0aa(0x997)],_0x34a0aa(0x194)],[_0x514bea[_0x34a0aa(0x87a)],_0x34a0aa(0x956)],[_0x514bea[_0x34a0aa(0x7bd)],_0x34a0aa(0x7af)],[_0x514bea[_0x34a0aa(0x1d9)],'Job\x20worker\x20creation\x20failed.'],[_0x514bea[_0x34a0aa(0x2df)],_0x34a0aa(0x1d0)],[_0x514bea[_0x34a0aa(0x480)],_0x34a0aa(0x7bc)],[_0x514bea[_0x34a0aa(0x6aa)],_0x34a0aa(0x78f)],[_0x514bea[_0x34a0aa(0x716)],_0x34a0aa(0x4e6)],[_0x514bea['KeyValueDatabaseTransactionTableNotInitialized'],_0x34a0aa(0x4e4)],[_0x514bea[_0x34a0aa(0x531)],_0x34a0aa(0x1d7)],[_0x514bea[_0x34a0aa(0x545)],_0x34a0aa(0x43b)],[_0x514bea[_0x34a0aa(0x4ae)],_0x34a0aa(0x88e)],[_0x514bea[_0x34a0aa(0x41d)],_0x34a0aa(0x20b)],[_0x514bea[_0x34a0aa(0x27b)],_0x34a0aa(0x770)],[_0x514bea[_0x34a0aa(0xa42)],_0x34a0aa(0x1c0)],[_0x514bea[_0x34a0aa(0x6b6)],_0x34a0aa(0x3f3)],[_0x514bea[_0x34a0aa(0x7d0)],_0x34a0aa(0x2f7)],[_0x514bea[_0x34a0aa(0x829)],_0x34a0aa(0x4e0)],[_0x514bea[_0x34a0aa(0x515)],_0x34a0aa(0x994)],[_0x514bea['RemoteMediaStreamDoesNotExist'],_0x34a0aa(0x601)],[_0x514bea[_0x34a0aa(0x237)],_0x34a0aa(0xa4d)],[_0x514bea[_0x34a0aa(0x81d)],_0x34a0aa(0x848)],[_0x514bea[_0x34a0aa(0x1d4)],_0x34a0aa(0x8a8)],[_0x514bea[_0x34a0aa(0xa3a)],'Subscription\x20request\x20failed.'],[_0x514bea[_0x34a0aa(0x301)],_0x34a0aa(0x9f6)],[_0x514bea[_0x34a0aa(0x9c6)],_0x34a0aa(0x4b6)],[_0x514bea[_0x34a0aa(0x427)],'Node\x20already\x20exists.'],[_0x514bea[_0x34a0aa(0x380)],_0x34a0aa(0x8b7)],[_0x514bea[_0x34a0aa(0x1d8)],'Vector\x20database\x20creation\x20failed.'],[_0x514bea[_0x34a0aa(0x3a1)],_0x34a0aa(0xa43)],[_0x514bea['WorkflowInvalidBlockType'],'Invalid\x20workflow\x20block\x20type.']]);class _0x4e89dd extends Error{[_0x34a0aa(0x99d)];static [_0x34a0aa(0x4ea)]=_0x514bea;[_0x34a0aa(0x1ad)];constructor(_0x5c9149,_0x5e3f66){const _0x20a318=_0x34a0aa;super('Internal\x20SDK\x20Error:\x20'+_0x5c9149+':\x20'+_0x3504c7['get'](_0x5c9149)+_0x20a318(0x8cc)+JSON[_0x20a318(0xa4f)](_0x5e3f66)),this[_0x20a318(0x99d)]=_0x5c9149,this['data']=_0x5e3f66||{};}}var _0x5402c8,_0x40870a,_0x1e69d3,_0x9072a2,_0x454824,_0x1bff38,_0x174459;!function(_0x486e62){const _0xed11aa=_0x34a0aa;_0x486e62[_0x486e62[_0xed11aa(0xa12)]=0x0]=_0xed11aa(0xa12),_0x486e62[_0x486e62[_0xed11aa(0x344)]=0x1]='CloseJobDispatcher',_0x486e62[_0x486e62[_0xed11aa(0x8b8)]=0x2]=_0xed11aa(0x8b8),_0x486e62[_0x486e62[_0xed11aa(0x2db)]=0x3]='CloseExternalStorageConnection',_0x486e62[_0x486e62[_0xed11aa(0xa50)]=0x4]=_0xed11aa(0xa50),_0x486e62[_0x486e62['CloseMediaStream']=0x5]=_0xed11aa(0xa37),_0x486e62[_0x486e62[_0xed11aa(0x2e8)]=0x6]=_0xed11aa(0x2e8),_0x486e62[_0x486e62[_0xed11aa(0x6c3)]=0x7]=_0xed11aa(0x6c3),_0x486e62[_0x486e62[_0xed11aa(0x5af)]=0x8]=_0xed11aa(0x5af),_0x486e62[_0x486e62[_0xed11aa(0x4e7)]=0x9]='ExternalStorageStats',_0x486e62[_0x486e62['GenerativeAIContextStats']=0xa]='GenerativeAIContextStats',_0x486e62[_0x486e62[_0xed11aa(0x59f)]=0xb]=_0xed11aa(0x59f),_0x486e62[_0x486e62['GraphDatabaseStats']=0xc]=_0xed11aa(0x639),_0x486e62[_0x486e62['KeyValueDatabaseContentAvailable']=0xd]='KeyValueDatabaseContentAvailable',_0x486e62[_0x486e62['KeyValueDatabaseContentSynchronized']=0xe]=_0xed11aa(0x4b7),_0x486e62[_0x486e62[_0xed11aa(0x43f)]=0xf]=_0xed11aa(0x43f),_0x486e62[_0x486e62[_0xed11aa(0x9ca)]=0x10]=_0xed11aa(0x9ca),_0x486e62[_0x486e62[_0xed11aa(0x428)]=0x11]='KeyValueDatabaseSendTransactions',_0x486e62[_0x486e62['KeyValueDatabaseStats']=0x12]=_0xed11aa(0x6c5),_0x486e62[_0x486e62[_0xed11aa(0x9c1)]=0x13]=_0xed11aa(0x9c1),_0x486e62[_0x486e62['LocalMediaStreamTrackFail']=0x14]=_0xed11aa(0x7dd),_0x486e62[_0x486e62[_0xed11aa(0x4fa)]=0x15]=_0xed11aa(0x4fa),_0x486e62[_0x486e62[_0xed11aa(0x570)]=0x16]=_0xed11aa(0x570),_0x486e62[_0x486e62[_0xed11aa(0x360)]=0x17]=_0xed11aa(0x360),_0x486e62[_0x486e62[_0xed11aa(0x1e2)]=0x18]=_0xed11aa(0x1e2),_0x486e62[_0x486e62['SubscribeMediaStream']=0x19]=_0xed11aa(0x27a),_0x486e62[_0x486e62[_0xed11aa(0x84d)]=0x1a]=_0xed11aa(0x84d),_0x486e62[_0x486e62['UnsubscribeMediaStream']=0x1b]='UnsubscribeMediaStream',_0x486e62[_0x486e62[_0xed11aa(0x993)]=0x1c]=_0xed11aa(0x993),_0x486e62[_0x486e62[_0xed11aa(0x1a0)]=0x1d]=_0xed11aa(0x1a0);}(_0x5402c8||(_0x5402c8={})),function(_0xc5850b){const _0x266c42=_0x34a0aa;_0xc5850b[_0x266c42(0x558)]=_0x266c42(0x63c),_0xc5850b[_0x266c42(0x8ef)]='folder-create',_0xc5850b[_0x266c42(0x844)]=_0x266c42(0x9c4),_0xc5850b['Move']=_0x266c42(0x3be),_0xc5850b[_0x266c42(0x5a3)]=_0x266c42(0x784),_0xc5850b[_0x266c42(0x352)]='request-accepted',_0xc5850b[_0x266c42(0x7f9)]=_0x266c42(0x1a2),_0xc5850b[_0x266c42(0x8ac)]='request-file-write';}(_0x40870a||(_0x40870a={})),function(_0x6071c){const _0x4dd2a5=_0x34a0aa;_0x6071c[_0x4dd2a5(0x2c5)]=_0x4dd2a5(0x8b2),_0x6071c['Transaction']=_0x4dd2a5(0x5f3);}(_0x1e69d3||(_0x1e69d3={})),function(_0x3fddd4){const _0x2fbd01=_0x34a0aa;_0x3fddd4['Add']='add',_0x3fddd4[_0x2fbd01(0x5cb)]=_0x2fbd01(0x792),_0x3fddd4['Delete']='delete';}(_0x9072a2||(_0x9072a2={})),function(_0x55b091){const _0x119f94=_0x34a0aa;_0x55b091[_0x119f94(0xa17)]=_0x119f94(0x56b),_0x55b091['List']=_0x119f94(0x61a),_0x55b091[_0x119f94(0x538)]='count';}(_0x454824||(_0x454824={})),function(_0x21277c){const _0x9976cc=_0x34a0aa;_0x21277c[_0x21277c[_0x9976cc(0x2c5)]=0x0]='Request',_0x21277c[_0x21277c[_0x9976cc(0x205)]=0x1]='Bid',_0x21277c[_0x21277c[_0x9976cc(0x415)]=0x2]='Attribution',_0x21277c[_0x21277c[_0x9976cc(0x1fe)]=0x3]=_0x9976cc(0x1fe),_0x21277c[_0x21277c[_0x9976cc(0x791)]=0x4]=_0x9976cc(0x791),_0x21277c[_0x21277c['Failed']=0x5]=_0x9976cc(0x2dc);}(_0x1bff38||(_0x1bff38={})),function(_0x499dcd){const _0x26be22=_0x34a0aa;_0x499dcd[_0x499dcd[_0x26be22(0x25b)]=0x0]=_0x26be22(0x25b),_0x499dcd[_0x499dcd[_0x26be22(0x221)]=0x1]=_0x26be22(0x221),_0x499dcd[_0x499dcd['Content']=0x2]=_0x26be22(0x562),_0x499dcd[_0x499dcd[_0x26be22(0x4e5)]=0x3]='Subscription',_0x499dcd[_0x499dcd[_0x26be22(0x992)]=0x4]=_0x26be22(0x992),_0x499dcd[_0x499dcd[_0x26be22(0x48a)]=0x5]=_0x26be22(0x48a),_0x499dcd[_0x499dcd['Remediation']=0x6]='Remediation';}(_0x174459||(_0x174459={}));class _0x3ab478{[_0x34a0aa(0x48c)];['label'];[_0x34a0aa(0x9b5)];constructor(_0x2ba795,_0x551aa8){const _0x3d123a=_0x34a0aa;this['owner']=_0x2ba795,this[_0x3d123a(0x5b0)]=_0x551aa8;}[_0x34a0aa(0x35a)](){const _0x4e0ac4=_0x34a0aa;return this[_0x4e0ac4(0x5b0)];}[_0x34a0aa(0x8a2)](){const _0x5606eb=_0x34a0aa;return this['owner'][_0x5606eb(0x3ad)]();}[_0x34a0aa(0x5ff)](){}[_0x34a0aa(0x58f)](_0x43b16f){const _0x193fad=_0x34a0aa;this[_0x193fad(0x9b5)]=_0x43b16f;}['unregisterSystemPublisher'](){const _0x48b736=_0x34a0aa;delete this[_0x48b736(0x9b5)];}}const _0xd69cc3=require('firebase/firestore');let _0x1847dc=_0x41c0f1(0x14d)['O'];function _0x35bfb7(_0x552518){const _0x26aa34=_0x34a0aa;return!(!_0x552518||_0x26aa34(0x4cc)!=typeof _0x552518||Array[_0x26aa34(0x5d8)](_0x552518));}_0x1847dc=function _0x37221d(_0x391d7a,..._0x3f5404){const _0x3358a1=_0x34a0aa;if(!Array[_0x3358a1(0x5d8)](_0x3f5404)||0x0===_0x3f5404[_0x3358a1(0x831)])return _0x391d7a;const _0x1a29d6=_0x3f5404['shift']();if(_0x35bfb7(_0x391d7a)&&_0x35bfb7(_0x1a29d6)){for(const _0x11f884 in _0x1a29d6)_0x35bfb7(_0x1a29d6[_0x11f884])?(_0x391d7a[_0x11f884]||Object[_0x3358a1(0x44c)](_0x391d7a,{[_0x11f884]:{}}),_0x37221d(_0x391d7a[_0x11f884],_0x1a29d6[_0x11f884])):Object[_0x3358a1(0x44c)](_0x391d7a,{[_0x11f884]:_0x1a29d6[_0x11f884]});}return _0x37221d(_0x391d7a,..._0x3f5404);}(_0x1847dc,_0x41c0f1(0x3e6)['O']);const _0x37296e=_0x1847dc,_0x4dee63=require('firebase/app'),_0x4e3764=require('firebase/auth'),_0x2d734b=require('firebase/database'),_0x54e986=require('firebase/functions'),_0xa47bd4=require('uuid'),_0x119203=_0x34a0aa(0x712);class _0x38465f{static [_0x34a0aa(0x1cf)];['app'];[_0x34a0aa(0x830)];[_0x34a0aa(0x615)];[_0x34a0aa(0x9d6)];[_0x34a0aa(0x55e)];['clockSkew'];[_0x34a0aa(0x60e)];constructor(){const _0x44b606=_0x34a0aa;this[_0x44b606(0x571)]();}static[_0x34a0aa(0x800)](){const _0x1bc671=_0x34a0aa;return _0x38465f[_0x1bc671(0x1cf)]||(_0x38465f[_0x1bc671(0x1cf)]=new _0x38465f()),_0x38465f[_0x1bc671(0x1cf)];}[_0x34a0aa(0x571)](){const _0x1816b4=_0x34a0aa;if(!this[_0x1816b4(0x598)]){let _0x521d6f=_0x119203;_0x1816b4(0x226)!=typeof window&&(_0x521d6f=_0x119203+'-'+(0x0,_0xa47bd4['v4'])()),this['app']=(0x0,_0x4dee63[_0x1816b4(0x85d)])(_0x37296e['firebaseConfig'],''+_0x521d6f);}return this[_0x1816b4(0x598)];}[_0x34a0aa(0x88d)](){const _0x10d92e=_0x34a0aa;return this[_0x10d92e(0x830)]||(this[_0x10d92e(0x830)]=(0x0,_0x4e3764['getAuth'])(this[_0x10d92e(0x571)]())),this['auth'];}[_0x34a0aa(0x5b9)](){const _0x302c36=_0x34a0aa;return this[_0x302c36(0x615)]||(this[_0x302c36(0x615)]=(0x0,_0x54e986[_0x302c36(0x5b9)])(this[_0x302c36(0x571)](),_0x37296e[_0x302c36(0x619)][_0x302c36(0x163)])),this[_0x302c36(0x615)];}[_0x34a0aa(0x536)](){const _0x5bb210=_0x34a0aa;return this['database']||(this[_0x5bb210(0x9d6)]=(0x0,_0x2d734b['getDatabase'])(this[_0x5bb210(0x571)]())),this[_0x5bb210(0x9d6)];}[_0x34a0aa(0x245)](){const _0x12f7a8=_0x34a0aa;return this[_0x12f7a8(0x55e)]||(this[_0x12f7a8(0x55e)]=(0x0,_0xd69cc3['getFirestore'])(this['getApp']())),this['firestore'];}async['getEstimatedTimestamp'](){const _0x4e6f7e=_0x34a0aa;if(this[_0x4e6f7e(0x60a)]&&this[_0x4e6f7e(0x60e)]&&Date[_0x4e6f7e(0x517)]()-this[_0x4e6f7e(0x60e)]<0x493e0)return Date[_0x4e6f7e(0x517)]()+this['clockSkew'];const _0x1b8819=this[_0x4e6f7e(0x536)](),_0x304413=(0x0,_0x2d734b[_0x4e6f7e(0x91f)])(_0x1b8819,_0x4e6f7e(0x1bd));return new Promise(_0x530c3b=>{const _0x27c607=_0x4e6f7e;(0x0,_0x2d734b[_0x27c607(0xa35)])(_0x304413,_0x10ee83=>{const _0x29457d=_0x27c607;(0x0,_0x2d734b[_0x29457d(0x8c6)])(_0x304413),this['clockSkew']=_0x10ee83[_0x29457d(0x3af)](),this[_0x29457d(0x60e)]=Date['now'](),_0x530c3b(Date[_0x29457d(0x517)]()+(this[_0x29457d(0x60a)]??0x0));});});}}const _0x27d84b=_0x38465f['getInstance']();class _0x3c130c{static [_0x34a0aa(0x1cf)];['enabledChannels']=[_0x5d2ed2['Default']];[_0x34a0aa(0x50b)]=!0x1;['loggingConnectors'];['vendorId']='';[_0x34a0aa(0x329)];[_0x34a0aa(0x3f1)]=[];[_0x34a0aa(0x588)];[_0x34a0aa(0x674)];[_0x34a0aa(0x248)]=0xa;['retryDelay']=0x1f4;[_0x34a0aa(0x6d8)]=0x1c2;[_0x34a0aa(0x85f)]=0x3e8;constructor(){const _0x24046e=_0x34a0aa;if(_0x24046e(0x226)!=typeof window)this[_0x24046e(0x329)]=window;else{if(void 0x0===_0x41c0f1['g'])throw new Error(_0x24046e(0x52b));this['globalObject']=_0x41c0f1['g'];}this[_0x24046e(0x1f3)](),this['globalObject'][_0x24046e(0x407)]=_0x174340=>{const _0x5ee1c1=_0x24046e;if(_0x174340===_0x5d2ed2[_0x5ee1c1(0x3e2)])return this['enabledChannels']=Object[_0x5ee1c1(0x7d3)](_0x5d2ed2)[_0x5ee1c1(0x403)](_0x1f8366=>_0x5d2ed2[_0x1f8366]),void Object['keys'](_0x5d2ed2)[_0x5ee1c1(0x66c)](_0x172cf0=>{const _0x30be1a=_0x5ee1c1,_0x2ec8bf=_0x172cf0;localStorage[_0x30be1a(0x579)]('crewdle-sdk-logging-'+_0x5d2ed2[_0x2ec8bf],_0x30be1a(0x6bc));});this['enabledChannels'][_0x5ee1c1(0x25d)](_0x174340)||(this[_0x5ee1c1(0x9b2)]['push'](_0x174340),localStorage['setItem'](_0x5ee1c1(0xa21)+_0x174340,_0x5ee1c1(0x6bc)));},this[_0x24046e(0x329)][_0x24046e(0x67b)]=_0x22c7f3=>{const _0x169f37=_0x24046e;if(!_0x22c7f3||_0x22c7f3===_0x5d2ed2[_0x169f37(0x3e2)])return this[_0x169f37(0x9b2)]=[],void Object[_0x169f37(0x7d3)](_0x5d2ed2)[_0x169f37(0x66c)](_0xca51ed=>{const _0x3a4c8a=_0x169f37,_0x31c62b=_0xca51ed;localStorage[_0x3a4c8a(0x468)](_0x3a4c8a(0xa21)+_0x5d2ed2[_0x31c62b]);});this[_0x169f37(0x9b2)][_0x169f37(0x25d)](_0x22c7f3)&&(this[_0x169f37(0x9b2)]=this[_0x169f37(0x9b2)][_0x169f37(0x285)](_0x370653=>_0x370653!==_0x22c7f3),localStorage[_0x169f37(0x468)](_0x169f37(0xa21)+_0x22c7f3));},this[_0x24046e(0x329)]['crewdleSDKLoggingChannels']=_0x5d2ed2;}static[_0x34a0aa(0x800)](){const _0x466f11=_0x34a0aa;try{return _0x3c130c['instance']||(_0x3c130c[_0x466f11(0x1cf)]=new _0x3c130c()),_0x3c130c['instance'];}catch(_0x4de619){return console[_0x466f11(0x165)](_0x466f11(0x3e7),_0x4de619),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x34a0aa(0x91c)](_0x484d89){const _0x20729d=_0x34a0aa;this[_0x20729d(0x853)]=_0x484d89,this['batchQueue']=[],this[_0x20729d(0x588)]=this['createNewBatch'](),this['batchTimeout']&&(clearTimeout(this[_0x20729d(0x674)]),this[_0x20729d(0x674)]=void 0x0);}[_0x34a0aa(0x520)](_0x260f35){const _0x34fcb3=_0x34a0aa;this[_0x34fcb3(0x38e)]=_0x260f35;}[_0x34a0aa(0x951)](_0xd97b48,..._0x46dec1){const _0x153151=_0x34a0aa;this['debugEnabled']&&this[_0x153151(0x6cb)](_0x5d2ed2[_0x153151(0x3f5)],'DEBUG\x20-\x20'+_0xd97b48,..._0x46dec1);}[_0x34a0aa(0x6cb)](_0x435d31,_0x500611,..._0x285431){const _0x4ec897=_0x34a0aa;_0x37296e[_0x4ec897(0x416)]||(this[_0x4ec897(0x9b2)][_0x4ec897(0x25d)](_0x435d31)&&console['log'](_0x4ec897(0x1af)+_0x435d31+'\x27\x0a',new Date()+'\x0a',_0x500611,..._0x285431),this[_0x4ec897(0x38e)]&&this[_0x4ec897(0x38e)]['forEach'](_0x1aef79=>{const _0xd969fb=_0x4ec897;this[_0xd969fb(0xa30)](_0x1aef79)&&_0x1aef79[_0xd969fb(0x82b)]()[_0xd969fb(0x25d)](_0x435d31)&&_0x1aef79[_0xd969fb(0x6cb)](_0x500611,{'vendorId':this[_0xd969fb(0x853)],'nodeId':'','nodeType':'','data':{'channel':_0x435d31,..._0x285431}});}));}[_0x34a0aa(0x7bb)](_0x8f1808,_0x215eb2,..._0x329684){const _0xe29607=_0x34a0aa;_0x37296e[_0xe29607(0x416)]||(this[_0xe29607(0x9b2)][_0xe29607(0x25d)](_0x8f1808)&&console[_0xe29607(0x6cb)](_0x215eb2,..._0x329684),this[_0xe29607(0x38e)]&&this[_0xe29607(0x38e)]['forEach'](_0x291d5c=>{const _0x17ba65=_0xe29607;this[_0x17ba65(0xa30)](_0x291d5c)&&_0x291d5c[_0x17ba65(0x82b)]()[_0x17ba65(0x25d)](_0x8f1808)&&_0x291d5c[_0x17ba65(0x6cb)](_0x215eb2,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x8f1808,..._0x329684}});}));}[_0x34a0aa(0x582)](_0x38cc3e,_0x188470){const _0x46ac4c=_0x34a0aa;if(!this[_0x46ac4c(0x38e)])return;const _0xf6959d={'vendorId':this['vendorId'],..._0x188470};this[_0x46ac4c(0x38e)]['forEach'](_0x3e3b3d=>{const _0x2594e1=_0x46ac4c;_0x3e3b3d[_0x2594e1(0x6cb)](_0x38cc3e,_0xf6959d);});}[_0x34a0aa(0x920)](_0x4cf76e,_0x45a662){const _0x197cef=_0x34a0aa;this[_0x197cef(0x228)](_0x4cf76e,_0x45a662),this[_0x197cef(0x602)]();}[_0x34a0aa(0x181)](_0x2bcb25,_0x597ec9,_0x59010f){const _0x219502=_0x34a0aa;(0x0,_0xd69cc3[_0x219502(0x714)])((0x0,_0xd69cc3[_0x219502(0x77f)])(_0x27d84b['getFirestore'](),_0x219502(0x9dc)+this[_0x219502(0x853)]+'/'+_0x2bcb25+'/'+_0x597ec9),{'storage':_0x59010f,'timestamp':(0x0,_0xd69cc3['serverTimestamp'])()});}['logBatch'](){const _0x561e17=_0x34a0aa;this['currentBatch']&&(this[_0x561e17(0x588)][_0x561e17(0x8bb)]+=0x1,this['currentBatch'][_0x561e17(0x8bb)]===this[_0x561e17(0x6d8)]?this[_0x561e17(0x260)]():this[_0x561e17(0x674)]||(this['batchTimeout']=this[_0x561e17(0x329)][_0x561e17(0x8f6)](()=>this[_0x561e17(0x260)](),this[_0x561e17(0x85f)])));}async[_0x34a0aa(0x260)](){const _0x14fb15=_0x34a0aa;if(this[_0x14fb15(0x588)]){for(this['batchQueue']['push'](this[_0x14fb15(0x588)]),this['currentBatch']=this['createNewBatch']();this[_0x14fb15(0x3f1)][_0x14fb15(0x831)]>0x0;){const _0x524c50=this[_0x14fb15(0x3f1)][_0x14fb15(0x179)]();if(!await this[_0x14fb15(0x197)](_0x524c50))break;}clearTimeout(this[_0x14fb15(0x674)]),this['batchTimeout']=void 0x0;}}[_0x34a0aa(0x165)](_0xa8b013,_0x5cb3c7,..._0xd4484d){const _0x516b67=_0x34a0aa;if(console[_0x516b67(0x165)](new Date(),_0xa8b013,_0x5cb3c7,..._0xd4484d),this[_0x516b67(0x38e)]){const _0x31bdf5={'vendorId':this[_0x516b67(0x853)],..._0x5cb3c7};this[_0x516b67(0x38e)][_0x516b67(0x66c)](_0x1fdb99=>{const _0x489762=_0x516b67;_0x1fdb99[_0x489762(0x165)](_0xa8b013,_0x31bdf5);});}}['warning'](_0x4b0d5a,_0x24c0e9,..._0x1da441){const _0x2404b0=_0x34a0aa;if(console['warn'](new Date(),_0x4b0d5a,_0x24c0e9,_0x1da441),this[_0x2404b0(0x38e)]){const _0x1e1b6e={'vendorId':this[_0x2404b0(0x853)],..._0x24c0e9};this[_0x2404b0(0x38e)][_0x2404b0(0x66c)](_0x230bbf=>{const _0x1e0f6f=_0x2404b0;_0x230bbf[_0x1e0f6f(0xa44)](_0x4b0d5a,_0x1e1b6e);});}}['isChannelEnabled'](_0x56f71c){const _0x287bfe=_0x34a0aa;return this[_0x287bfe(0x9b2)]['includes'](_0x56f71c);}async['commitBatch'](_0xc2a999,_0x120acc=0x0){const _0x4c9636=_0x34a0aa;if(_0xc2a999[_0x4c9636(0x8bb)]>0x0)try{return await _0xc2a999[_0x4c9636(0x3d1)][_0x4c9636(0x3b6)](),!0x0;}catch(_0x4a1504){if(console['error'](_0x4c9636(0x1d1),_0x4a1504,'Operations:',_0xc2a999[_0x4c9636(0x34e)]),!(_0x120acc<this[_0x4c9636(0x248)])){const {nodeId:_0x339a59='',nodeType:_0x1bfee1='',clusterId:_0x38a9fe=''}=_0xc2a999[_0x4c9636(0x34e)][0x0][_0x4c9636(0x1ad)],_0x4ce5a8={'nodeId':_0x339a59,'nodeType':_0x1bfee1,'clusterId':_0x38a9fe,'data':{'operations':_0xc2a999[_0x4c9636(0x34e)],'error':_0x4a1504}};return this[_0x4c9636(0x165)](_0x4c9636(0x976),_0x4ce5a8),!0x1;}{const _0x478442=this['createBatch'](_0xc2a999[_0x4c9636(0x34e)]);setTimeout(()=>this[_0x4c9636(0x197)](_0x478442,_0x120acc+0x1),this[_0x4c9636(0x5fd)]*Math[_0x4c9636(0x83c)](0x2,_0x120acc));}}}[_0x34a0aa(0x1f3)](){const _0x420096=_0x34a0aa;try{Object[_0x420096(0x7d3)](_0x5d2ed2)['forEach'](_0x48e263=>{const _0x5c0b62=_0x420096,_0x54b264=_0x48e263;localStorage[_0x5c0b62(0x49b)]('crewdle-sdk-logging-'+_0x5d2ed2[_0x54b264])&&(console[_0x5c0b62(0x6cb)](_0x5c0b62(0x9f7),_0x5d2ed2[_0x54b264]),this[_0x5c0b62(0x9b2)][_0x5c0b62(0x32e)](_0x5d2ed2[_0x54b264]));});}catch(_0x409879){}}[_0x34a0aa(0xa30)](_0x1badf0){const _0x385e0a=_0x34a0aa;return void 0x0!==_0x1badf0[_0x385e0a(0x82b)];}[_0x34a0aa(0x68d)](){const _0x19b9cf=_0x34a0aa;return{'batch':(0x0,_0xd69cc3[_0x19b9cf(0x662)])(_0x27d84b[_0x19b9cf(0x245)]()),'operations':[],'counter':0x0};}[_0x34a0aa(0x539)](_0x1e8f1f){const _0x1ae68e=_0x34a0aa,_0x1bf7f8=(0x0,_0xd69cc3[_0x1ae68e(0x662)])(_0x27d84b[_0x1ae68e(0x245)]());return _0x1e8f1f[_0x1ae68e(0x66c)](_0x5e6ad2=>this[_0x1ae68e(0x5dd)](_0x1bf7f8,_0x5e6ad2)),{'batch':_0x1bf7f8,'operations':_0x1e8f1f,'counter':_0x1e8f1f['length']};}[_0x34a0aa(0x5dd)](_0x42da7e,_0x326b76){const _0x344712=_0x34a0aa;switch(_0x326b76[_0x344712(0x852)]){case _0x344712(0x286):_0x42da7e[_0x344712(0x286)](_0x326b76[_0x344712(0x91f)],_0x326b76[_0x344712(0x1ad)]);break;case _0x344712(0x792):_0x42da7e[_0x344712(0x792)](_0x326b76[_0x344712(0x91f)],_0x326b76[_0x344712(0x1ad)]);break;case _0x344712(0x9c4):_0x42da7e[_0x344712(0x9c4)](_0x326b76[_0x344712(0x91f)]);}}[_0x34a0aa(0x228)](_0x34394f,_0x5e3048){const _0x5d2a1e=_0x34a0aa;this[_0x5d2a1e(0x588)]||(this[_0x5d2a1e(0x588)]=this['createNewBatch']());const _0x3e235c=(0x0,_0xd69cc3[_0x5d2a1e(0x77f)])((0x0,_0xd69cc3[_0x5d2a1e(0x8b4)])(_0x27d84b[_0x5d2a1e(0x245)](),_0x5d2a1e(0x9dc)+this[_0x5d2a1e(0x853)]+'/logs')),_0x52970c={..._0x5e3048,'service':_0x34394f,'timestamp':(0x0,_0xd69cc3[_0x5d2a1e(0x2d9)])()},_0x4c1949={'type':_0x5d2a1e(0x286),'path':_0x3e235c['path'],'ref':_0x3e235c,'data':_0x52970c};return this[_0x5d2a1e(0x588)][_0x5d2a1e(0x34e)][_0x5d2a1e(0x32e)](_0x4c1949),this[_0x5d2a1e(0x5dd)](this[_0x5d2a1e(0x588)]['batch'],_0x4c1949),_0x3e235c;}}const _0x17dbc7=_0x3c130c['getInstance']();function _0x5348d1(_0x279df6,_0x21ffab){return'/'===_0x279df6?_0x279df6+_0x21ffab:_0x279df6+'/'+_0x21ffab;}function _0x228c2a(_0x27d3eb){const _0x2aa906=_0x34a0aa,_0x439a24=function(_0x35b91d){const _0x38b951=a0_0x1d5b;return _0x35b91d[_0x38b951(0x4bf)]('/')[_0x38b951(0x285)](_0x1a397c=>_0x1a397c[_0x38b951(0x831)]>0x0);}(_0x27d3eb),_0x130e37=_0x439a24['pop']()||'',_0x22c85a=_0x439a24[_0x2aa906(0x45b)]('/');return[0x0===_0x22c85a['length']?'/':_0x22c85a,_0x130e37];}async function _0x57aac8(_0x3c81fd){const _0x1636ca=_0x34a0aa;let _0x1629c5;const _0x37b74b=_0x3c81fd[_0x1636ca(0x57d)]/0x100000;_0x1629c5=_0x37b74b<=0xa?0x1:_0x37b74b<=0x64?0.5:_0x37b74b<=0x1f4?0.1:0.05;const _0x351646=Math[_0x1636ca(0x38d)](_0x3c81fd[_0x1636ca(0x57d)]/_0x8cce46),_0x1a6a56=Math[_0x1636ca(0x38d)](_0x351646*_0x1629c5);let _0x42e9d0=new Uint8Array();for(let _0x5dcfb7=0x0;_0x5dcfb7<_0x1a6a56;_0x5dcfb7++){const _0x40a746=Math[_0x1636ca(0x82e)](_0x5dcfb7/_0x1a6a56*_0x3c81fd[_0x1636ca(0x57d)]);let _0x56e360=_0x40a746+_0x8cce46;_0x56e360>_0x3c81fd['size']&&(_0x56e360=_0x3c81fd[_0x1636ca(0x57d)]);const _0x1abc8d=_0x3c81fd[_0x1636ca(0x28b)](_0x40a746,_0x56e360),_0x547963=await _0x1abc8d[_0x1636ca(0x24a)](),_0x2be8d6=new Uint8Array([..._0x42e9d0,...new Uint8Array(_0x547963)]);_0x42e9d0=new Uint8Array(await crypto[_0x1636ca(0x644)]['digest'](_0x1636ca(0x475),_0x2be8d6));}return Array[_0x1636ca(0x856)](new Uint8Array(_0x42e9d0))[_0x1636ca(0x403)](_0x20b582=>_0x20b582[_0x1636ca(0x8fc)](0x10)[_0x1636ca(0x63d)](0x2,'0'))[_0x1636ca(0x45b)]('');}async function*_0x36a541(_0x15df81,_0x38b9c5=0x0,_0x43c0ef){const _0x445f68=_0x34a0aa;let _0x2245ec=_0x38b9c5*_0x33c5a5,_0x460707=_0x15df81;for(;_0x2245ec<_0x460707['size'];){let _0x77f3ad=_0x2245ec+_0x33c5a5;_0x77f3ad>_0x460707['size']&&(_0x77f3ad=_0x460707['size']);let _0x487879=0x0;for(;_0x487879<0x14;)try{await _0x43c0ef?.();const _0x2b178f=_0x460707[_0x445f68(0x28b)](_0x2245ec,_0x77f3ad,'application/octet-stream'),_0x53a321=await _0x2b178f['arrayBuffer']();yield _0x53a321,_0x2245ec=_0x77f3ad,await new Promise(_0x5c2059=>setTimeout(_0x5c2059,0x0));break;}catch(_0x9f9764){if(console['error']('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0x487879+0x1)+_0x445f68(0x2aa),_0x9f9764),_0x487879++,_0x487879>0x14)throw _0x9f9764;let _0x183bd2=0x3e8*Math[_0x445f68(0x83c)](0x2,_0x487879);_0x183bd2>0x7530&&(_0x183bd2=0x7530),await new Promise(_0x2d3683=>setTimeout(_0x2d3683,_0x183bd2));}}}class _0x2008ae extends _0x3ab478{['outgoingTopic'];[_0x34a0aa(0x40d)];[_0x34a0aa(0x370)]=new Map();[_0x34a0aa(0x9b0)]=0x0;['messagesReceived']=0x0;[_0x34a0aa(0x995)]=0x0;[_0x34a0aa(0x75a)]=0x0;constructor(_0x372327,_0x3f2d5d){super(_0x372327,_0x3f2d5d);}['getLabel'](){const _0x2aed66=_0x34a0aa;return this[_0x2aed66(0x5b0)];}[_0x34a0aa(0x3dd)](){const _0x1c6333=_0x34a0aa;return this[_0x1c6333(0x5b0)];}['getContentType'](){const _0x2f4097=_0x34a0aa;return _0xb78473[_0x2f4097(0x1b6)][_0x2f4097(0x6a7)];}[_0x34a0aa(0x29b)](){return this['label'];}[_0x34a0aa(0x296)](_0x21a145){const _0x370252=_0x34a0aa;if(this[_0x370252(0x7fb)])throw new _0x4e89dd(_0x4e89dd[_0x370252(0x4ea)][_0x370252(0x20c)],{'message':_0x370252(0x6de)+this[_0x370252(0x48c)][_0x370252(0x3ad)]()+_0x370252(0x29f)+this[_0x370252(0x5b0)],'topic':this[_0x370252(0x7fb)]});this[_0x370252(0x7fb)]=_0x21a145;}[_0x34a0aa(0x584)](_0x339582){const _0xbd950e=_0x34a0aa;if(this['incomingTopic'])throw new _0x4e89dd(_0x4e89dd[_0xbd950e(0x4ea)][_0xbd950e(0x577)],{'message':_0xbd950e(0x837)+this['owner'][_0xbd950e(0x3ad)]()+_0xbd950e(0x29f)+this[_0xbd950e(0x5b0)],'topic':this[_0xbd950e(0x40d)]});this[_0xbd950e(0x40d)]=_0x339582;}[_0x34a0aa(0x8d7)](){const _0x57e489=_0x34a0aa;delete this[_0x57e489(0x7fb)];}['unregisterSubscriber'](){const _0x2fa647=_0x34a0aa;delete this[_0x2fa647(0x40d)];}async['send'](_0x33753d,_0x2fd5c6){const _0x144955=_0x34a0aa;if(_0x17dbc7[_0x144955(0x6cb)](_0x5d2ed2[_0x144955(0x247)],_0x144955(0x1fd),this[_0x144955(0x48c)][_0x144955(0x3ad)](),_0x33753d,_0x2fd5c6),this[_0x144955(0x9b0)]+=0x1,_0x33753d instanceof File){const _0x2d399f=await async function(_0x126ac2){const _0x4d65f0=[];for await(const _0x1afa59 of _0x36a541(_0x126ac2))_0x4d65f0['push'](_0x1afa59);return _0x4d65f0;}(_0x33753d);return this['bytesSent']+=_0x2d399f[_0x144955(0x25c)]((_0xf81caa,_0x2db2fe)=>_0xf81caa+_0x2db2fe[_0x144955(0x402)],0x0),void _0x2d399f[_0x144955(0x66c)]((_0x94d42,_0x28963f)=>{const _0x3a833c=_0x144955;this['outgoingTopic'][_0x3a833c(0x5c0)]({'sourceId':this[_0x3a833c(0x48c)][_0x3a833c(0x3ad)](),'destinationIds':_0x2fd5c6,'propagate':!0x0,'contentType':_0xb78473[_0x3a833c(0x1b6)][_0x3a833c(0x9b3)],'content':{'name':_0x33753d['name'],'type':_0x33753d[_0x3a833c(0x852)],'data':_0x94d42,'index':_0x28963f,'total':_0x2d399f[_0x3a833c(0x831)]}});});}this[_0x144955(0x995)]+=JSON['stringify'](_0x33753d)[_0x144955(0x831)],this[_0x144955(0x7fb)]['publish']({'sourceId':this['owner']['getId'](),'destinationIds':_0x2fd5c6,'propagate':!0x0,'contentType':_0xb78473['ContentType'][_0x144955(0x6a7)],'content':_0x33753d});}[_0x34a0aa(0x749)](_0x59c57a){const _0x3be7b5=_0x34a0aa;return this[_0x3be7b5(0x40d)][_0x3be7b5(0x253)](_0xf87aee=>{const _0x4279a5=_0x3be7b5;switch(_0x17dbc7[_0x4279a5(0x6cb)](_0x5d2ed2[_0x4279a5(0x247)],'DataStream\x20onMessage',this[_0x4279a5(0x48c)][_0x4279a5(0x3ad)](),_0xf87aee),_0xf87aee[_0x4279a5(0x7da)]){case _0xb78473['ContentType'][_0x4279a5(0x6a7)]:this[_0x4279a5(0x204)]+=0x1,this[_0x4279a5(0x75a)]+=JSON[_0x4279a5(0xa4f)](_0xf87aee['content'])[_0x4279a5(0x831)],_0x59c57a(_0xf87aee['sourceId'],_0xf87aee[_0x4279a5(0x1f6)]);break;case _0xb78473[_0x4279a5(0x1b6)][_0x4279a5(0x9b3)]:this['fileChunks'][_0x4279a5(0x664)](_0xf87aee[_0x4279a5(0x1f6)]['name'])||this[_0x4279a5(0x370)][_0x4279a5(0x286)](_0xf87aee['content']['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x1a9394=this['fileChunks']['get'](_0xf87aee[_0x4279a5(0x1f6)][_0x4279a5(0x9d9)]);if(_0x1a9394[_0x4279a5(0x95b)]+=0x1,_0x1a9394[_0x4279a5(0x75a)]+=_0xf87aee['content']['data']['byteLength'],_0x1a9394[_0x4279a5(0x1f6)]&&(_0x1a9394[_0x4279a5(0x1f6)][_0xf87aee[_0x4279a5(0x1f6)][_0x4279a5(0x968)]]=_0xf87aee['content'][_0x4279a5(0x1ad)]),this[_0x4279a5(0x370)][_0x4279a5(0x286)](_0xf87aee[_0x4279a5(0x1f6)][_0x4279a5(0x9d9)],_0x1a9394),_0x1a9394[_0x4279a5(0x95b)]+0x1<_0xf87aee[_0x4279a5(0x1f6)][_0x4279a5(0x93a)])return;this[_0x4279a5(0x204)]+=0x1,this[_0x4279a5(0x75a)]+=_0x1a9394[_0x4279a5(0x75a)],_0x1a9394[_0x4279a5(0x1f6)]&&_0x59c57a(_0xf87aee[_0x4279a5(0x7b7)],(_0x2dc18d=_0x1a9394['content'],_0x4742b8=_0xf87aee[_0x4279a5(0x1f6)][_0x4279a5(0x9d9)],_0xb1c10c=_0xf87aee[_0x4279a5(0x1f6)][_0x4279a5(0x852)],new File(_0x2dc18d,_0x4742b8,{'type':_0xb1c10c}))),this[_0x4279a5(0x370)][_0x4279a5(0x9c4)](_0xf87aee['content'][_0x4279a5(0x9d9)]);}var _0x2dc18d,_0x4742b8,_0xb1c10c;});}}function _0x5a3b06(){const _0x2875a6=_0x34a0aa;let _0x537259=[];return{'subscribe':_0x5ee636=>(_0x537259[_0x2875a6(0x32e)](_0x5ee636),()=>{const _0x4f582c=_0x2875a6;_0x537259=_0x537259[_0x4f582c(0x285)](_0x3f0907=>_0x3f0907!==_0x5ee636);}),'publish':_0x220464=>{const _0x3bcf99=_0x2875a6;_0x537259[_0x3bcf99(0x66c)](_0x9c1c91=>_0x9c1c91(_0x220464));}};}function _0x41e5d0(){let _0x539266;return{'subscribe':_0x1a9f41=>(_0x539266=_0x1a9f41,()=>{_0x539266=void 0x0;}),'publish':_0xadfd86=>{_0x539266&&_0x539266(_0xadfd86);}};}class _0xdde4cb{['connector'];['tableName'];[_0x34a0aa(0x41b)];[_0x34a0aa(0x2b3)]=_0x41e5d0();[_0x34a0aa(0x5e0)];constructor(_0x396042,_0x13cf17,_0x34dd50){const _0x564e26=_0x34a0aa;this[_0x564e26(0x45d)]=_0x396042,this['tableName']=_0x13cf17,this['tableObserver']=_0x34dd50;}[_0x34a0aa(0x5ff)](){const _0xed3a34=_0x34a0aa;this[_0xed3a34(0x5e0)]?.();}async[_0x34a0aa(0x56b)](_0x1ebb65){const _0x124558=_0x34a0aa,_0x19025d={'key':_0x1ebb65,'tableName':this[_0x124558(0x705)],'action':_0x454824['Get']};return this[_0x124558(0x41b)][_0x124558(0x5c0)](_0x19025d),this[_0x124558(0x45d)][_0x124558(0x56b)](_0x1ebb65);}async[_0x34a0aa(0x286)](_0x2704e7,_0x61bc9b,_0x558bf2=!0x0){const _0x1e1f2f=_0x34a0aa;this[_0x1e1f2f(0x224)](_0x61bc9b);const _0x26aff0=await this[_0x1e1f2f(0x45d)][_0x1e1f2f(0x56b)](_0x2704e7),_0x5e46a9=await this['connector']['set'](_0x2704e7,_0x61bc9b),_0x93782f=_0x26aff0?_0x9072a2[_0x1e1f2f(0x5cb)]:_0x9072a2[_0x1e1f2f(0x529)];if(this[_0x1e1f2f(0x5c0)](_0x93782f,_0x5e46a9),!_0x558bf2)return _0x5e46a9;const _0x2ad268={'key':_0x2704e7,'tableName':this[_0x1e1f2f(0x705)],'action':_0x93782f,'value':_0x5e46a9};return this['tableObserver']['publish'](_0x2ad268),_0x5e46a9;}async[_0x34a0aa(0x4a3)](_0x4b9921){const _0x3c97c0=_0x34a0aa;this[_0x3c97c0(0x224)](_0x4b9921);const _0x120039=await this[_0x3c97c0(0x45d)][_0x3c97c0(0x4a3)](_0x4b9921),_0x449a4b={'key':_0x120039['id'],'tableName':this[_0x3c97c0(0x705)],'action':_0x9072a2[_0x3c97c0(0x529)],'value':_0x120039};return this['tableObserver'][_0x3c97c0(0x5c0)](_0x449a4b),this[_0x3c97c0(0x5c0)](_0x449a4b[_0x3c97c0(0x379)],_0x120039),_0x120039;}async['delete'](_0x443cba,_0x3f0443=!0x0){const _0x1d79a9=_0x34a0aa,_0x5dd859=await this[_0x1d79a9(0x45d)][_0x1d79a9(0x56b)](_0x443cba);if(!_0x5dd859)return;await this['connector']['delete'](_0x443cba);const _0x480d3=_0x9072a2[_0x1d79a9(0x844)];if(this[_0x1d79a9(0x5c0)](_0x480d3,_0x5dd859),!_0x3f0443)return;const _0x15ef0c={'key':_0x443cba,'tableName':this['tableName'],'action':_0x480d3,'value':_0x5dd859};this['tableObserver'][_0x1d79a9(0x5c0)](_0x15ef0c);}async['clear'](){const _0x471c6d=_0x34a0aa,_0x335e0b=await this['list']();for(const _0x226ea3 of _0x335e0b){const _0x766033=_0x9072a2[_0x471c6d(0x844)];this[_0x471c6d(0x5c0)](_0x766033,_0x226ea3);const _0x4bf029={'key':_0x226ea3['id'],'tableName':this[_0x471c6d(0x705)],'action':_0x766033,'value':_0x226ea3};this[_0x471c6d(0x41b)][_0x471c6d(0x5c0)](_0x4bf029);}return this[_0x471c6d(0x45d)]['clear']();}async['list'](_0x14172e){const _0x49daea=_0x34a0aa,_0x3a1f3a={'key':'','tableName':this[_0x49daea(0x705)],'action':_0x454824[_0x49daea(0x628)]};this['tableObserver']['publish'](_0x3a1f3a);try{_0x14172e&&(_0x14172e=_0x14172e instanceof _0x1a3d4a?_0x14172e[_0x49daea(0x1c4)]():_0x1a3d4a[_0x49daea(0x632)](_0x14172e)[_0x49daea(0x1c4)]());}catch(_0x28fe68){throw new _0x4a345c(_0x2df194['KeyValueDatabaseInvalidQuery'],_0x49daea(0x4cf));}try{return await this[_0x49daea(0x45d)][_0x49daea(0x61a)](_0x14172e);}catch(_0x29532c){let _0x10b7df=_0x49daea(0x4cf);throw _0x29532c instanceof Error&&(_0x10b7df=_0x29532c[_0x49daea(0x7e0)]),new _0x4a345c(_0x2df194[_0x49daea(0x898)],_0x10b7df);}}async['count'](_0x5205b3){const _0x27d60c=_0x34a0aa,_0x37f7f4={'key':'','tableName':this[_0x27d60c(0x705)],'action':_0x454824[_0x27d60c(0x538)]};this[_0x27d60c(0x41b)][_0x27d60c(0x5c0)](_0x37f7f4);try{_0x5205b3&&(_0x5205b3=_0x5205b3 instanceof _0x1a3d4a?_0x5205b3[_0x27d60c(0x1c4)]():_0x1a3d4a[_0x27d60c(0x632)](_0x5205b3)[_0x27d60c(0x1c4)]());}catch(_0x54e127){throw new _0x4a345c(_0x2df194['KeyValueDatabaseInvalidQuery'],_0x27d60c(0x4cf));}try{return await this[_0x27d60c(0x45d)][_0x27d60c(0x305)](_0x5205b3);}catch(_0x4d9636){let _0x352865=_0x27d60c(0x4cf);throw _0x4d9636 instanceof Error&&(_0x352865=_0x4d9636[_0x27d60c(0x7e0)]),new _0x4a345c(_0x2df194[_0x27d60c(0x898)],_0x352865);}}[_0x34a0aa(0x565)](){const _0x14753=_0x34a0aa;return this[_0x14753(0x45d)][_0x14753(0x565)]();}[_0x34a0aa(0x253)](_0x15c65f){const _0x4f5fc7=_0x34a0aa;this[_0x4f5fc7(0x5e0)]=this[_0x4f5fc7(0x2b3)]['subscribe'](_0x15c65f);}['unsubscribe'](){const _0x4e98e7=_0x34a0aa;this[_0x4e98e7(0x5e0)]?.();}[_0x34a0aa(0x5c0)](_0x860a24,_0x160e69){const _0x375579=_0x34a0aa,_0x3f0d57=this[_0x375579(0x4b2)](_0x860a24,_0x160e69);this['eventListener'][_0x375579(0x5c0)](_0x3f0d57);}[_0x34a0aa(0x4b2)](_0x2fdf2f,_0xd1df6d){const _0x4040dd=_0x34a0aa;let _0x43c743;switch(_0x2fdf2f){case _0x9072a2[_0x4040dd(0x529)]:_0x43c743=_0x4040dd(0x4a3);break;case _0x9072a2[_0x4040dd(0x5cb)]:_0x43c743='update';break;case _0x9072a2['Delete']:_0x43c743=_0x4040dd(0x9c4);}return{'action':_0x43c743,'value':_0xd1df6d};}[_0x34a0aa(0x224)](_0x308462){const _0x4822d7=_0x34a0aa;if(_0x4822d7(0x4cc)!=typeof _0x308462||null===_0x308462)throw new _0x4a345c(_0x2df194[_0x4822d7(0x906)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x4b2684 in _0x308462){const _0x4ef872=_0x308462[_0x4b2684];if(_0x4822d7(0x4cc)!=typeof _0x4ef872||_0x4ef872 instanceof Date){if(![_0x4822d7(0x6ce),'number','boolean'][_0x4822d7(0x25d)](typeof _0x4ef872))throw new _0x4a345c(_0x2df194[_0x4822d7(0x906)],_0x4822d7(0x7ce)+_0x4b2684+_0x4822d7(0x31e));}else this['validateValue'](_0x4ef872);}}}class _0x3ce83a{[_0x34a0aa(0x3de)]=[];[_0x34a0aa(0x94f)]=0x0;[_0x34a0aa(0x4a1)]=[];[_0x34a0aa(0x1a5)]=!0x1;[_0x34a0aa(0x289)]=null;[_0x34a0aa(0x40f)]=null;[_0x34a0aa(0x22a)];[_0x34a0aa(0x759)]=null;['readyPromises']=[];[_0x34a0aa(0x3a7)];[_0x34a0aa(0x566)]=Promise[_0x34a0aa(0x38b)]();[_0x34a0aa(0x8e3)]=0x0;constructor(){}get['ready'](){const _0x2abbb1=_0x34a0aa;return this[_0x2abbb1(0x566)];}async[_0x34a0aa(0x39e)](_0x5ada35,_0x256372=0x0){const _0x5daf32=_0x34a0aa;this[_0x5daf32(0x759)]||(this[_0x5daf32(0x566)]=new Promise(_0x18883a=>{this['readyResolve']=_0x18883a;}),this[_0x5daf32(0x8e3)]=_0x256372);const _0x354864=Date[_0x5daf32(0x517)]();if(this[_0x5daf32(0x1a5)])return void this['transactionQueue']['push'](_0x5ada35);this[_0x5daf32(0x1a5)]=!0x0;let _0x86172a={'hash':await this[_0x5daf32(0x9a6)](_0x5ada35),'height':0x0};const _0x435489=this['combinePeaks'](_0x86172a);this[_0x5daf32(0x651)]['push'](_0x435489),await _0x435489,this[_0x5daf32(0x94f)]+=0x1;const _0xbc943c=this[_0x5daf32(0x4a1)][_0x5daf32(0x831)];for(;this['transactionQueue'][_0x5daf32(0x831)]>0x0;){const _0x178ef2=this[_0x5daf32(0x4a1)][_0x5daf32(0x179)]();await this[_0x5daf32(0x39e)](_0x178ef2);}this['debounceReady'](),await this[_0x5daf32(0x499)],this[_0x5daf32(0x638)](_0x354864,_0xbc943c);}async[_0x34a0aa(0x9d1)](){const _0x2b9c3e=_0x34a0aa;return await this['_ready'],this[_0x2b9c3e(0x1a5)]?(this[_0x2b9c3e(0x40f)]||(this['rootComputationPromise']=this[_0x2b9c3e(0x440)]()),await this[_0x2b9c3e(0x40f)]):this['cachedRoot'];}['getPeaks'](){const _0x1dca7e=_0x34a0aa;return this['peaks'][_0x1dca7e(0x403)](({hash:_0x29464e,height:_0x22470a})=>({'hash':_0x29464e,'height':_0x22470a}));}[_0x34a0aa(0x2a1)](){const _0xe8c2c7=_0x34a0aa;return this[_0xe8c2c7(0x94f)];}[_0x34a0aa(0x73f)](_0x2719d6){const _0x4dcd28=_0x34a0aa;return this[_0x4dcd28(0x3de)][_0x4dcd28(0x3f0)](_0x5019dd=>_0x5019dd['height']===_0x2719d6);}async[_0x34a0aa(0x5df)](_0x82249,_0x559ec3){return await this['computeHash'](_0x82249+_0x559ec3);}async[_0x34a0aa(0x9a6)](_0x30b68f){const _0x451b85=_0x34a0aa;return await this[_0x451b85(0x218)](JSON[_0x451b85(0xa4f)](_0x30b68f));}[_0x34a0aa(0x2b6)](_0x351dea){const _0x28d33e=_0x34a0aa,_0x287822=this[_0x28d33e(0x5a5)](),_0x384836=[],_0x4584f0=[],_0x3a4b82=[];for(const _0x3659c6 of _0x287822){const _0x4b410a=_0x351dea[_0x28d33e(0x3f0)](_0x4b3ea5=>_0x4b3ea5[_0x28d33e(0x5fa)]===_0x3659c6['height']);_0x4b410a?_0x3659c6[_0x28d33e(0x3cb)]!==_0x4b410a[_0x28d33e(0x3cb)]&&_0x384836[_0x28d33e(0x32e)]({'height':_0x3659c6[_0x28d33e(0x5fa)],'localPeak':_0x3659c6,'remotePeak':_0x4b410a}):_0x4584f0[_0x28d33e(0x32e)](_0x3659c6);}for(const _0x5a80c5 of _0x351dea)_0x287822[_0x28d33e(0x3f0)](_0x1635cb=>_0x1635cb[_0x28d33e(0x5fa)]===_0x5a80c5[_0x28d33e(0x5fa)])||_0x3a4b82[_0x28d33e(0x32e)](_0x5a80c5);return{'differingPeaks':_0x384836,'peaksMissingInRemote':_0x4584f0,'peaksMissingInLocal':_0x3a4b82};}async[_0x34a0aa(0x440)](){const _0x53dc1f=_0x34a0aa;this[_0x53dc1f(0x1a5)]=!0x0;const _0x4af628=this['peaks'][_0x53dc1f(0x403)](_0x148837=>_0x148837['hash']);return this['cachedRoot']=await this[_0x53dc1f(0x19d)](_0x4af628),this[_0x53dc1f(0x1a5)]=!0x1,this[_0x53dc1f(0x40f)]=null,this[_0x53dc1f(0x590)](),this[_0x53dc1f(0x289)];}async[_0x34a0aa(0x218)](_0x2f8e05){const _0x5639fd=_0x34a0aa;try{const _0x3e84d2=new TextEncoder()[_0x5639fd(0x7e3)](_0x2f8e05),_0x3f37df=await crypto['subtle'][_0x5639fd(0x4d3)]('SHA-256',_0x3e84d2);return Array[_0x5639fd(0x856)](new Uint8Array(_0x3f37df))[_0x5639fd(0x403)](_0x3881f2=>_0x3881f2[_0x5639fd(0x8fc)](0x10)[_0x5639fd(0x63d)](0x2,'0'))['join']('');}catch(_0x496744){return console[_0x5639fd(0x165)](_0x5639fd(0x9e1),_0x496744),this['computeHash'](_0x2f8e05);}}async[_0x34a0aa(0x19d)](_0x491874){const _0x4d24a3=_0x34a0aa;return await this['computeHash'](_0x491874[_0x4d24a3(0x45b)](''));}async[_0x34a0aa(0x8cb)](_0x3b37aa){const _0x2c5c93=_0x34a0aa;for(;this['peaks'][_0x2c5c93(0x831)]>0x0&&this[_0x2c5c93(0x3de)][this['peaks'][_0x2c5c93(0x831)]-0x1][_0x2c5c93(0x5fa)]===_0x3b37aa[_0x2c5c93(0x5fa)];){const _0x20f092=this[_0x2c5c93(0x3de)][_0x2c5c93(0x1ea)]();_0x3b37aa={'hash':await this[_0x2c5c93(0x5df)](_0x20f092['hash'],_0x3b37aa[_0x2c5c93(0x3cb)]),'left':_0x20f092,'right':_0x3b37aa,'height':_0x3b37aa['height']+0x1};}this['peaks'][_0x2c5c93(0x32e)](_0x3b37aa),await this[_0x2c5c93(0x440)]();}[_0x34a0aa(0x638)](_0x350426,_0x18815b){const _0x2d58b9=_0x34a0aa;if(!_0x17dbc7[_0x2d58b9(0x500)](_0x5d2ed2[_0x2d58b9(0x481)]))return;this[_0x2d58b9(0x22a)]&&clearTimeout(this['debounceLogTimeout']);const _0x787498=Date[_0x2d58b9(0x517)]();this['debounceLogTimeout']=setTimeout(()=>_0x17dbc7['log'](_0x5d2ed2[_0x2d58b9(0x481)],_0x2d58b9(0x6a9),this['cachedRoot'],'nodes',this[_0x2d58b9(0x2a1)](),'queueLength',_0x18815b,_0x2d58b9(0x3e8),_0x787498-_0x350426),0x7d0);}['debounceReady'](){const _0x34d116=_0x34a0aa;this[_0x34d116(0x3a7)]&&clearTimeout(this[_0x34d116(0x3a7)]),this[_0x34d116(0x3a7)]=setTimeout(async()=>{const _0x29945e=_0x34d116;try{const _0x3ba6ef=this['readyPromises'];if(this[_0x29945e(0x651)]=[],await Promise[_0x29945e(0x50a)](_0x3ba6ef),this['expectedTransactions']-=_0x3ba6ef['length'],this[_0x29945e(0x651)][_0x29945e(0x831)]>0x0||this[_0x29945e(0x8e3)]>0x0)return this[_0x29945e(0x590)]();this[_0x29945e(0x759)]&&(this[_0x29945e(0x759)](),this[_0x29945e(0x759)]=null),this['_ready']=Promise[_0x29945e(0x38b)](),this[_0x29945e(0x1a5)]=!0x1;}catch(_0x4ddc9a){console[_0x29945e(0x165)](_0x29945e(0x75c),_0x4ddc9a);}},0xa);}}const _0x34adce=[_0x34a0aa(0x25b),_0x34a0aa(0x221),_0x34a0aa(0x562),_0x34a0aa(0x4e5),_0x34a0aa(0x992),_0x34a0aa(0x48a),'Remediation'],_0xf35bcd=[[_0x34a0aa(0xa3b),_0x34a0aa(0x828),_0x34a0aa(0x60f),_0x34a0aa(0x6a4),_0x34a0aa(0x9f8),_0x34a0aa(0x3ed),_0x34a0aa(0x231),_0x34a0aa(0x992),'OptimizationConnectionSuccess'],['NodeJoin',_0x34a0aa(0x54d),_0x34a0aa(0x58a),'NodeLeave'],[_0x34a0aa(0xa12),_0x34a0aa(0x344),_0x34a0aa(0x8b8),_0x34a0aa(0x2db),'CloseKeyValueDatabase',_0x34a0aa(0xa37),'CloseObjectStoreBucket',_0x34a0aa(0x6c3),_0x34a0aa(0x5af),_0x34a0aa(0x4e7),_0x34a0aa(0x191),_0x34a0aa(0x59f),_0x34a0aa(0x639),'KeyValueDatabaseContentAvailable',_0x34a0aa(0x4b7),_0x34a0aa(0x43f),_0x34a0aa(0x9ca),_0x34a0aa(0x428),'KeyValueDatabaseStats',_0x34a0aa(0x9c1),_0x34a0aa(0x7dd),_0x34a0aa(0x4fa),'PubSubTopicStats','PublishMediaStream',_0x34a0aa(0x1e2),_0x34a0aa(0x27a),_0x34a0aa(0x84d),_0x34a0aa(0x8fa),_0x34a0aa(0x993),_0x34a0aa(0x1a0)],[_0x34a0aa(0x27a),_0x34a0aa(0x993),_0x34a0aa(0x23e),_0x34a0aa(0x730),'CannotProvideMediaStream',_0x34a0aa(0x689)],[_0x34a0aa(0x6f6),_0x34a0aa(0x6d4)],[_0x34a0aa(0x8a6)],[_0x34a0aa(0x785),'RemoteRemediation']];function _0x1f0f91(_0xe05a20){const _0x1eb6d4=_0x34a0aa;return{..._0xe05a20,'systemMessageType':_0x34adce[_0xe05a20[_0x1eb6d4(0x282)]],'systemContentMessageType':_0xf35bcd[_0xe05a20[_0x1eb6d4(0x282)]][_0xe05a20[_0x1eb6d4(0x1f6)][_0x1eb6d4(0x852)]]};}const _0x48efa7={'hour':_0x34a0aa(0x975),'minute':_0x34a0aa(0x975),'second':_0x34a0aa(0x975)};function _0x584909(_0x1de866,_0x15076c){const _0x18d824=_0x34a0aa,_0x57ef7a=(function(){const _0x1d89fe=a0_0x1d5b,_0x3d3d7c=new Date(),_0x2da661=_0x3d3d7c['getMilliseconds'](),_0x2bfbe7=_0x3d3d7c[_0x1d89fe(0x1c8)](_0x1d89fe(0x66e),_0x48efa7)[_0x1d89fe(0x542)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x2bfbe7+'.'+(_0x2da661>0x64?''+_0x2da661:_0x2da661>0xa?'0'+_0x2da661:'00'+_0x2da661);}()),{sourceId:_0x426504,destinationIds:_0x375d9d,systemMessageType:_0x31e49c,systemContentMessageType:_0x2af810}=_0x1f0f91(_0x1de866);return _0x57ef7a+_0x18d824(0x29f)+_0x15076c+_0x18d824(0x29f)+(_0x426504===_0x15076c?'Sending\x20\x27'+_0x31e49c+_0x18d824(0x34b)+(_0x375d9d?''+_0x375d9d:'everyone'):_0x1de866[_0x18d824(0x7b7)]===_0x5a8dca?_0x18d824(0x2fc)+_0x31e49c+'\x27':(_0x375d9d?'':_0x18d824(0x1fb))+_0x18d824(0x8f8)+_0x31e49c+_0x18d824(0x521)+_0x426504)+_0x18d824(0x63b)+_0x2af810+_0x18d824(0x51e);}function _0x342a1f(_0x1b502a,_0x359ec9){const _0x511fed=_0x34a0aa;if(!_0x17dbc7[_0x511fed(0x500)](_0x1b502a))return;if(_0x37296e[_0x511fed(0x416)])return;if(_0x511fed(0x226)==typeof process)return;const _0x4d7f55=process[_0x511fed(0x2d5)]();console['log'](_0x511fed(0x9b8)+_0x359ec9+':');for(const _0x437a78 in _0x4d7f55)console[_0x511fed(0x6cb)]('\x20\x20'+_0x437a78+':\x20'+(_0x4d7f55[_0x437a78]/0x400/0x400)['toFixed'](0x2)+'\x20MB');}function _0xcb96bc(_0x57e414,_0x110880){const _0x39f587=_0x34a0aa;if(!_0x17dbc7[_0x39f587(0x500)](_0x110880))return _0x17dbc7[_0x39f587(0x951)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x110880),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x1a8e38,_0x4494e6)=>_0x4494e6}};let _0x2430fd=0x0;return{'timingLogger':((()=>{const _0x5b2916=_0x39f587;let _0x22bbc9=Date[_0x5b2916(0x517)]();return{'start':()=>{const _0x3388f7=_0x5b2916;_0x22bbc9=Date[_0x3388f7(0x517)]();},'now':()=>Date['now'](),'logWaitTime':_0x2657b9=>{const _0x3fd94a=_0x5b2916;_0x2430fd+=Date[_0x3fd94a(0x517)]()-_0x22bbc9,_0x17dbc7['log'](_0x110880,_0x2657b9,_0x2430fd+'ms',_0x57e414);}};})()),'logger':{'log':(_0x40fe48,_0x5dfcba=()=>{})=>{const _0x598abb=_0x39f587,_0x397daa=_0x5dfcba();_0x397daa?_0x17dbc7['log'](_0x110880,_0x40fe48,_0x397daa,_0x57e414):_0x17dbc7[_0x598abb(0x6cb)](_0x110880,_0x40fe48,_0x57e414);},'performCalculation':(_0x47eb80,_0x4cf036)=>_0x47eb80()}};}function _0xb2798e(_0x1a2fe7){const _0x3c8396=_0x34a0aa;return'undefined'==typeof Buffer?0x0:Buffer[_0x3c8396(0x402)](JSON[_0x3c8396(0xa4f)](_0x1a2fe7),_0x3c8396(0x945));}function _0x44bb2a(_0x1e93ed){const _0x79c8bc=_0x34a0aa;if(0x0===_0x1e93ed)return'0\x20B';const _0xce1f6e=Math[_0x79c8bc(0x82e)](Math[_0x79c8bc(0x6cb)](_0x1e93ed)/Math[_0x79c8bc(0x6cb)](0x400));return parseFloat((_0x1e93ed/Math[_0x79c8bc(0x83c)](0x400,_0xce1f6e))[_0x79c8bc(0x33f)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0xce1f6e];}class _0x5e0822 extends _0x2008ae{[_0x34a0aa(0x411)];['clusterId'];['vendorId'];[_0x34a0aa(0x170)];['db'];[_0x34a0aa(0x412)];[_0x34a0aa(0x2f5)]=new Map();[_0x34a0aa(0x41b)];[_0x34a0aa(0x758)];[_0x34a0aa(0x17d)];[_0x34a0aa(0x5be)];[_0x34a0aa(0x2bb)];[_0x34a0aa(0x99a)]=[];[_0x34a0aa(0x38f)]=()=>{};[_0x34a0aa(0x648)];[_0x34a0aa(0x2b3)]=_0x41e5d0();[_0x34a0aa(0x5e0)];['syncTransactionsWritten']=[];['layout'];['debounceStats'];[_0x34a0aa(0x6af)]=0x0;[_0x34a0aa(0x66a)]=0x0;[_0x34a0aa(0x5a4)]=!0x1;['mmr']=new _0x3ce83a();[_0x34a0aa(0x833)]=new Map();[_0x34a0aa(0x51b)]=[];['debounceRebuildMMR'];[_0x34a0aa(0x930)]=[];['loggingCycle'];constructor(_0x53b11d,_0x1bf2fa,_0x16eb37,_0x1fda29,_0x153cfc,_0x3a95c1,_0x2bed5c){const _0x47bd21=_0x34a0aa;if(_0x47bd21(0x6ce)!=typeof _0x1bf2fa)throw new _0x4a345c(_0x2df194[_0x47bd21(0x4f5)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x53b11d,_0x1bf2fa),this[_0x47bd21(0x411)]=_0x53b11d,this[_0x47bd21(0x222)]=_0x16eb37,this['vendorId']=_0x1fda29,this[_0x47bd21(0x170)]=_0x2bed5c,this[_0x47bd21(0x412)]='ccc'+this[_0x47bd21(0x853)]+_0x47bd21(0x2eb)+this[_0x47bd21(0x222)]+_0x47bd21(0x2eb)+this[_0x47bd21(0x5b0)],this[_0x47bd21(0x41b)]=_0x41e5d0(),this[_0x47bd21(0x8b6)]=function(_0x278510,_0x3ed569){const _0x25530d=_0x47bd21;if(!_0x17dbc7[_0x25530d(0x500)](_0x3ed569))return _0x17dbc7[_0x25530d(0x951)](_0x25530d(0x8aa)+_0x3ed569),{..._0xcb96bc(_0x278510,_0x3ed569),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x25530d(0x375),'dataReceived':_0x25530d(0x375)})};const {timingLogger:_0x1b371c,logger:_0x4fda02}=_0xcb96bc(_0x278510,_0x3ed569);let _0x14d100=0x0,_0x10d1b4=0x0;return{'timingLogger':_0x1b371c,'logger':_0x4fda02,'logDataSent':(_0x500470,_0x5f123a=!0x1)=>{const _0x4a0116=_0x25530d,_0x391190=_0xb2798e(_0x500470);return _0x5f123a&&_0x17dbc7[_0x4a0116(0x6cb)](_0x3ed569,_0x4a0116(0x574),_0x278510,_0x391190),_0x14d100+=_0x391190,_0x391190;},'logDataReceived':(_0xc2bc28,_0x3b18e5=!0x1)=>{const _0x59bfe9=_0x25530d,_0x16af5f=_0xb2798e(_0xc2bc28);return _0x3b18e5&&_0x17dbc7[_0x59bfe9(0x6cb)](_0x3ed569,'Data\x20Received',_0x278510,_0x16af5f),_0x10d1b4+=_0x16af5f,_0x16af5f;},'getDataLogged':()=>({'dataSent':_0x44bb2a(_0x14d100),'dataReceived':_0x44bb2a(_0x10d1b4)})};}(this[_0x47bd21(0x5b0)],_0x5d2ed2[_0x47bd21(0x481)]),this[_0x47bd21(0x5be)]=new Promise(_0x590877=>{const _0x5c360c=_0x47bd21;this[_0x5c360c(0x2bb)]=_0x590877;}),_0x153cfc instanceof _0x4842c0)this[_0x47bd21(0x4c8)]=_0x153cfc[_0x47bd21(0x2d2)]();else{const [_0x278c76,_0x192462]=_0x4842c0[_0x47bd21(0x6e3)](_0x153cfc);if(!_0x278c76)throw new _0x4a345c(_0x2df194[_0x47bd21(0x188)],'Invalid\x20layout:\x20'+_0x192462);this['layout']=structuredClone(_0x153cfc);}this[_0x47bd21(0x668)](this[_0x47bd21(0x4c8)]),this['db']=new _0x3a95c1(this[_0x47bd21(0x412)],this[_0x47bd21(0x4c8)]),this[_0x47bd21(0x2a7)]();}async[_0x34a0aa(0x4be)](_0x20db69,_0x3113d2){const _0x66f95c=_0x34a0aa;if(_0x17dbc7[_0x66f95c(0x6cb)](_0x5d2ed2[_0x66f95c(0x481)],_0x66f95c(0x397),this[_0x66f95c(0x5b0)]),!this[_0x66f95c(0x758)])throw new _0x4e89dd(_0x4e89dd[_0x66f95c(0x4ea)][_0x66f95c(0x174)]);if(await this[_0x66f95c(0x5be)],await this['isNodeReady'](_0x20db69),await this['mmr']['getRoot']()===_0x3113d2){const _0x36a1bd={'sourceId':this[_0x66f95c(0x411)][_0x66f95c(0x3ad)](),'destinationIds':[_0x20db69],'propagate':!0x0,'messageType':_0x174459['Content'],'content':{'type':_0x5402c8[_0x66f95c(0x4b7)],'label':this[_0x66f95c(0x5b0)],'mmrRoot':_0x3113d2}};return this['loggingCycle']['logDataSent'](_0x36a1bd),void this[_0x66f95c(0x9b5)][_0x66f95c(0x5c0)](_0x36a1bd);}const _0x21c0e8=this['mmr'][_0x66f95c(0x5a5)](),_0x54e72e={'sourceId':this[_0x66f95c(0x411)]['getId'](),'destinationIds':[_0x20db69],'propagate':!0x0,'messageType':_0x174459[_0x66f95c(0x562)],'content':{'type':_0x5402c8['KeyValueDatabaseContentAvailable'],'label':this[_0x66f95c(0x5b0)],'peaks':_0x21c0e8}};this[_0x66f95c(0x8b6)][_0x66f95c(0x6d2)](_0x54e72e),this[_0x66f95c(0x9b5)]['publish'](_0x54e72e);}async['processContentSynchronized'](_0x3627cd,_0x33f2d5){const _0x453be0=_0x34a0aa,_0x22cca2=await this[_0x453be0(0x7ad)][_0x453be0(0x9d1)](),_0x1e3c79=_0x22cca2===_0x33f2d5;if(_0x17dbc7[_0x453be0(0x6cb)](_0x5d2ed2[_0x453be0(0x481)],'Received\x20ContentSynchronized\x20from\x20'+_0x3627cd+_0x453be0(0x40e)+_0x1e3c79,this[_0x453be0(0x5b0)]),_0x1e3c79)return this['clearSyncTimeout'](),void this[_0x453be0(0x1e0)]();_0x17dbc7['log'](_0x5d2ed2[_0x453be0(0x481)],_0x453be0(0x47a),_0x22cca2,_0x33f2d5),_0x17dbc7[_0x453be0(0x701)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this['localNode'][_0x453be0(0x3ad)](),'nodeType':this[_0x453be0(0x411)]['type'],'remoteId':_0x3627cd,'data':{'localMMRRoot':_0x22cca2,'remoteMMRRoot':_0x33f2d5}});const _0x3467fa={'sourceId':this[_0x453be0(0x411)][_0x453be0(0x3ad)](),'messageType':_0x174459[_0x453be0(0x562)],'propagate':!0x0,'content':{'type':_0x5402c8[_0x453be0(0x9c1)],'label':this[_0x453be0(0x5b0)],'mmrRoot':_0x22cca2}};this[_0x453be0(0x9b5)][_0x453be0(0x5c0)](_0x3467fa);}async[_0x34a0aa(0x473)](_0x57e6f3,_0x2f5855){const _0x532b4a=_0x34a0aa;if(_0x17dbc7['log'](_0x5d2ed2[_0x532b4a(0x481)],_0x532b4a(0x3ec),_0x57e6f3,_0x532b4a(0x5b0),this[_0x532b4a(0x5b0)],_0x532b4a(0x3de),_0x2f5855),this['contentRequestSent'])return;this[_0x532b4a(0x5a4)]=!0x0,this[_0x532b4a(0x484)]();const {differingPeaks:_0x5971e5,peaksMissingInLocal:_0x2014b0,peaksMissingInRemote:_0xd6b9ee}=this[_0x532b4a(0x7ad)][_0x532b4a(0x2b6)](_0x2f5855);_0x17dbc7[_0x532b4a(0x6cb)](_0x5d2ed2[_0x532b4a(0x481)],'processContentAvailable\x20-\x20Peak\x20comparison:',{'differingPeaks':_0x5971e5,'peaksMissingInLocal':_0x2014b0,'peaksMissingInRemote':_0xd6b9ee});const _0x18030c={'sourceId':this[_0x532b4a(0x411)][_0x532b4a(0x3ad)](),'destinationIds':[_0x57e6f3],'propagate':!0x0,'messageType':_0x174459[_0x532b4a(0x562)],'content':{'type':_0x5402c8[_0x532b4a(0x43f)],'label':this[_0x532b4a(0x5b0)],'peakHeights':_0x2014b0[_0x532b4a(0x403)](_0x2093ad=>_0x2093ad[_0x532b4a(0x5fa)])[_0x532b4a(0x2a8)](_0x5971e5['map'](_0x1f721c=>_0x1f721c[_0x532b4a(0x5fa)]))}};if(this[_0x532b4a(0x9b5)][_0x532b4a(0x5c0)](_0x18030c),_0x5971e5[_0x532b4a(0x831)]>0x0||_0xd6b9ee['length']>0x0){const _0x5cb7b2=_0xd6b9ee[_0x532b4a(0x403)](_0x12851a=>_0x12851a[_0x532b4a(0x5fa)])['concat'](_0x5971e5[_0x532b4a(0x403)](_0x368453=>_0x368453['height']));await this['sendPeakTransactions'](_0x57e6f3,_0x5cb7b2,!0x0);}}async[_0x34a0aa(0x2de)](_0x496b4c,_0x113427,_0x48cda8=!0x1){const _0x3458b3=_0x34a0aa;_0x17dbc7[_0x3458b3(0x6cb)](_0x5d2ed2[_0x3458b3(0x481)],'Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.',this[_0x3458b3(0x5b0)]);const _0x24aec8=_0x113427[_0x3458b3(0x403)](_0x55326f=>this[_0x3458b3(0x7ad)]['getPeakNode'](_0x55326f))['filter'](Boolean);if(!_0x24aec8[_0x3458b3(0x831)]||_0x113427[_0x3458b3(0x831)]!==_0x24aec8[_0x3458b3(0x831)])throw new _0x4e89dd(_0x4e89dd[_0x3458b3(0x4ea)][_0x3458b3(0x6aa)],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x113427,'peaks':_0x24aec8[_0x3458b3(0x403)](_0x452b43=>_0x452b43['height']),'nodeId':_0x496b4c});const _0x257ff5=[];for(const _0x2b6115 of _0x24aec8)this[_0x3458b3(0x72a)](_0x2b6115,_0x257ff5);const _0x991717=_0x48cda8?void 0x0:[_0x496b4c],_0x422092={'sourceId':this[_0x3458b3(0x411)][_0x3458b3(0x3ad)](),'destinationIds':_0x991717,'messageType':_0x174459[_0x3458b3(0x562)],'propagate':!0x0,'content':{'type':_0x5402c8[_0x3458b3(0x428)],'label':this[_0x3458b3(0x5b0)],'transactions':_0x257ff5}};this[_0x3458b3(0x8b6)][_0x3458b3(0x6d2)](_0x422092),this[_0x3458b3(0x9b5)][_0x3458b3(0x5c0)](_0x422092);}async[_0x34a0aa(0x2ca)](_0x4ba3bb,_0x2f437b){const _0x1789de=_0x34a0aa;_0x17dbc7[_0x1789de(0x6cb)](_0x5d2ed2[_0x1789de(0x481)],_0x1789de(0x3ef)+_0x2f437b[_0x1789de(0x831)]+'\x20transactions\x20from\x20node\x20'+_0x4ba3bb+_0x1789de(0x29f)+this[_0x1789de(0x5b0)]);for(const _0x40d6dd of _0x2f437b){const _0x326401=await this[_0x1789de(0x758)][_0x1789de(0x56b)](_0x40d6dd['id']);if(!(_0x326401&&this[_0x1789de(0x3c9)](_0x326401,_0x40d6dd)>=0x0)){if(_0x40d6dd[_0x1789de(0x379)]===_0x9072a2['Delete']){const [_0x63d8f0,_0x31e29c]=_0x40d6dd['id'][_0x1789de(0x4bf)]('::'),_0x2cd99c=this[_0x1789de(0x606)](_0x63d8f0);await _0x2cd99c[_0x1789de(0x9c4)](_0x31e29c);}else this[_0x1789de(0x99a)][_0x1789de(0x32e)](_0x40d6dd['id']);}}if(_0x17dbc7['log'](_0x5d2ed2['KeyValueDatabase'],_0x1789de(0x5b4)+this[_0x1789de(0x99a)][_0x1789de(0x831)]+_0x1789de(0x425),this[_0x1789de(0x5b0)]),this[_0x1789de(0x99a)]['length']>0x0){const _0x5af0d4={'sourceId':this[_0x1789de(0x411)][_0x1789de(0x3ad)](),'destinationIds':[_0x4ba3bb],'messageType':_0x174459[_0x1789de(0x562)],'propagate':!0x0,'content':{'type':_0x5402c8[_0x1789de(0x9ca)],'label':this[_0x1789de(0x5b0)],'transactionIds':this[_0x1789de(0x99a)]}};this[_0x1789de(0x8b6)][_0x1789de(0x6d2)](_0x5af0d4),this['systemTopic'][_0x1789de(0x5c0)](_0x5af0d4);}}[_0x34a0aa(0x240)](){const _0x223105=_0x34a0aa;this[_0x223105(0x2a7)]();}['getContentType'](){const _0x3d824a=_0x34a0aa;return _0xb78473[_0x3d824a(0x1b6)]['KeyValueDatabase'];}[_0x34a0aa(0x5ff)](){const _0x4396ed=_0x34a0aa;this['db'][_0x4396ed(0x39a)](),this[_0x4396ed(0x17d)]?.(),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x4396ed(0x5ff)]();}[_0x34a0aa(0x39a)](){const _0x5b0796=_0x34a0aa;this['clearSyncTimeout'](),this[_0x5b0796(0x9b5)][_0x5b0796(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x5b0796(0x562)],'content':{'type':_0x5402c8[_0x5b0796(0xa50)],'label':this[_0x5b0796(0x5b0)]}});}[_0x34a0aa(0x606)](_0x5c26db){const _0x2ff626=_0x34a0aa,_0x31767a=this['tables'][_0x2ff626(0x56b)](_0x5c26db);if(_0x31767a)return _0x31767a;try{if(!this['db'][_0x2ff626(0x928)](_0x5c26db))throw new _0x4a345c(_0x2df194[_0x2ff626(0x2f3)],'Table\x20not\x20found');const _0x3136e2=new _0xdde4cb(this['db'][_0x2ff626(0x9f0)](_0x5c26db),_0x5c26db,this['tableObserver']);return this[_0x2ff626(0x2f5)][_0x2ff626(0x286)](_0x5c26db,_0x3136e2),{'get':_0x3136e2['get'][_0x2ff626(0xa1e)](_0x3136e2),'set':_0x3136e2['set']['bind'](_0x3136e2),'add':_0x3136e2[_0x2ff626(0x4a3)]['bind'](_0x3136e2),'delete':_0x3136e2[_0x2ff626(0x9c4)][_0x2ff626(0xa1e)](_0x3136e2),'clear':_0x3136e2['clear'][_0x2ff626(0xa1e)](_0x3136e2),'list':_0x3136e2[_0x2ff626(0x61a)][_0x2ff626(0xa1e)](_0x3136e2),'count':_0x3136e2[_0x2ff626(0x305)]['bind'](_0x3136e2),'subscribe':_0x3136e2[_0x2ff626(0x253)]['bind'](_0x3136e2),'unsubscribe':_0x3136e2['unsubscribe'][_0x2ff626(0xa1e)](_0x3136e2)};}catch(_0x51b3fb){if(_0x51b3fb instanceof _0x4a345c)throw _0x51b3fb;throw new _0x4a345c(_0x2df194[_0x2ff626(0x4ec)],_0x2ff626(0x876));}}['subscribe'](_0x5640d9){const _0x4a282d=_0x34a0aa;this['listenerUnsubscriber']=this[_0x4a282d(0x2b3)][_0x4a282d(0x253)](_0x5640d9),this[_0x4a282d(0x6b7)](this[_0x4a282d(0x5be)])['then'](_0x549699=>{const _0x2c71d3=_0x4a282d;_0x549699&&this[_0x2c71d3(0x2b3)][_0x2c71d3(0x5c0)]({'event':_0xb78473['DatabaseEvent'][_0x2c71d3(0x1cc)]});});}['unsubscribe'](){const _0x13f0ad=_0x34a0aa;this[_0x13f0ad(0x5e0)]?.(),this[_0x13f0ad(0x5e0)]=void 0x0;}async['open'](){const _0x3e584d=_0x34a0aa;_0x342a1f(_0x5d2ed2[_0x3e584d(0x481)],_0x3e584d(0x2c3));const _0x21065c=[_0x5b8702,_0x5777bf],_0x3f0ac9=[];try{await this['db'][_0x3e584d(0x8f9)]();const _0xd0ef4c=this['db'][_0x3e584d(0x9f0)](_0x5777bf),_0x272a26=await _0xd0ef4c[_0x3e584d(0x61a)](),{id:_0x12b099,layout:_0x325d3d}=_0x272a26[0x0]??{};if(_0x325d3d){for(const _0x505e07 in _0x325d3d)_0x21065c[_0x3e584d(0x25d)](_0x505e07)||this['db'][_0x3e584d(0x928)](_0x505e07)||_0x3f0ac9[_0x3e584d(0x32e)](_0x505e07);await _0xd0ef4c[_0x3e584d(0x286)](_0x12b099,{'layout':this['layout']});}else await _0xd0ef4c[_0x3e584d(0x4a3)]({'layout':this['layout']});}catch(_0x478d47){throw new _0x4a345c(_0x2df194[_0x3e584d(0x4ec)],_0x478d47[_0x3e584d(0x7e0)]||_0x3e584d(0x381));}this[_0x3e584d(0x1ab)](),await this[_0x3e584d(0x9cf)](),this[_0x3e584d(0x274)](),this[_0x3e584d(0x7eb)](),_0x3f0ac9[_0x3e584d(0x66c)](_0x316599=>this[_0x3e584d(0x7d2)](_0x316599));}async['sync'](_0x11abd9,_0x24da10=()=>{},_0x190864=!0x1){const _0x23d502=_0x34a0aa;if(!_0x11abd9)return setTimeout(()=>{const _0x431f57=a0_0x1d5b;this[_0x431f57(0x484)](),this[_0x431f57(0x1e0)]();},0x0),!0x0;if(this[_0x23d502(0x5a4)]=!0x1,this[_0x23d502(0x38f)]=_0x24da10,this[_0x23d502(0x648)]=setTimeout(_0x24da10,0x7d0),!this[_0x23d502(0x9b5)])throw new _0x4e89dd(_0x4e89dd[_0x23d502(0x4ea)]['MissingSystemTopic']);const _0x4bf521=await this['mmr'][_0x23d502(0x9d1)](),_0xc1fd62={'sourceId':this['localNode'][_0x23d502(0x3ad)](),'messageType':_0x174459[_0x23d502(0x562)],'propagate':_0x190864,'content':{'type':_0x5402c8['KeyValueDatabaseSyncRequired'],'label':this[_0x23d502(0x5b0)],'mmrRoot':_0x4bf521}};return this['loggingCycle']['logDataSent'](_0xc1fd62),this[_0x23d502(0x9b5)][_0x23d502(0x5c0)](_0xc1fd62),this['isSync'];}async[_0x34a0aa(0x1f1)](_0xa3afa1,_0x29e90f){const _0x1dddad=_0x34a0aa;if(_0x17dbc7[_0x1dddad(0x6cb)](_0x5d2ed2['KeyValueDatabase'],_0x1dddad(0xa01)+_0x29e90f['length'],this['label']),!this[_0x1dddad(0x758)])throw new _0x4e89dd(_0x4e89dd[_0x1dddad(0x4ea)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x3d7d39 of _0x29e90f){const _0x32084a=await this[_0x1dddad(0x758)][_0x1dddad(0x56b)](_0x3d7d39);if(!_0x32084a)continue;const [_0x1ddb7e,_0x2979b3]=_0x3d7d39[_0x1dddad(0x4bf)]('::'),_0x266493=this[_0x1dddad(0x606)](_0x1ddb7e),_0x948773=await _0x266493[_0x1dddad(0x56b)](_0x2979b3);_0x948773?(_0x32084a[_0x1dddad(0x706)]=_0x948773,this[_0x1dddad(0x92f)](_0x32084a,[_0xa3afa1])):_0x17dbc7[_0x1dddad(0x701)](_0x1dddad(0x65e),{'nodeId':this[_0x1dddad(0x411)][_0x1dddad(0x3ad)](),'nodeType':this['localNode'][_0x1dddad(0x852)],'remoteId':_0xa3afa1,'data':{'tableKeys':Object[_0x1dddad(0x7d3)](this[_0x1dddad(0x2f5)]),'transactionId':_0x3d7d39,'transactions':this[_0x1dddad(0x99a)],'tableName':_0x1ddb7e,'key':_0x2979b3}});}}async[_0x34a0aa(0x4ff)](_0x3e26a3){const _0x4b667b=_0x34a0aa;if(!this[_0x4b667b(0x758)])throw new _0x4e89dd(_0x4e89dd['codes'][_0x4b667b(0x174)]);const _0x3417e3=await this[_0x4b667b(0x7ad)][_0x4b667b(0x9a6)](_0x3e26a3),_0xc19718=this[_0x4b667b(0x833)][_0x4b667b(0x56b)](_0x3417e3);if(_0xc19718&&this['compareTransactions'](_0x3e26a3,_0xc19718)<=0x0)return void _0x17dbc7[_0x4b667b(0x6cb)](_0x5d2ed2['KeyValueDatabase'],_0x4b667b(0x30d),_0x3e26a3);const _0x418002={..._0x3e26a3};return delete _0x418002[_0x4b667b(0x706)],this[_0x4b667b(0x72f)](_0x418002),await this[_0x4b667b(0x758)][_0x4b667b(0x286)](_0x3e26a3['id'],_0x418002),_0x3e26a3;}[_0x34a0aa(0x3c9)](_0x48a046,_0x4a6a2e){const _0x4ab85a=_0x34a0aa;return _0x48a046[_0x4ab85a(0x6a3)]!==_0x4a6a2e[_0x4ab85a(0x6a3)]?_0x48a046[_0x4ab85a(0x6a3)]-_0x4a6a2e[_0x4ab85a(0x6a3)]:_0x48a046[_0x4ab85a(0x820)]-_0x4a6a2e[_0x4ab85a(0x820)];}async['getTransactionFromTableWriteEvent'](_0x5a63e8){const _0x4b583f=_0x34a0aa;if(!this[_0x4b583f(0x758)])throw new _0x4e89dd(_0x4e89dd[_0x4b583f(0x4ea)][_0x4b583f(0x174)]);const _0x386488=_0x5a63e8[_0x4b583f(0x705)]+'::'+_0x5a63e8[_0x4b583f(0x3bb)],_0x972935=await _0x27d84b[_0x4b583f(0xa49)](),_0x262b25={'id':_0x386488,'priority':Math[_0x4b583f(0x926)](),'timestamp':_0x972935,'action':_0x5a63e8[_0x4b583f(0x379)]};if(await this['writeTransaction'](_0x262b25))return _0x262b25;}async[_0x34a0aa(0x7d2)](_0x4ba60f){const _0x1db443=_0x34a0aa;if(!this[_0x1db443(0x758)])throw new _0x4e89dd(_0x4e89dd[_0x1db443(0x4ea)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x3f7b39=_0x1a3d4a[_0x1db443(0x968)]('id')['where']('between',[_0x4ba60f+'::',_0x4ba60f+_0x1db443(0x882)]),_0x24602e=await this[_0x1db443(0x758)][_0x1db443(0x61a)](_0x3f7b39[_0x1db443(0x1c4)]());for(const _0x9c0f54 of _0x24602e)await this[_0x1db443(0x758)][_0x1db443(0x9c4)](_0x9c0f54['id']);}['setOnMessageHandler'](){const _0x52959e=_0x34a0aa;this[_0x52959e(0x749)](async(_0x5dcf13,_0x18080b)=>{const _0x56e5e3=_0x52959e;if(_0x18080b instanceof File)return;if(this[_0x56e5e3(0x8b6)]['logDataReceived'](_0x18080b),!await this[_0x56e5e3(0x4ff)](_0x18080b))return void this[_0x56e5e3(0xa33)](_0x5dcf13,_0x18080b);if(!_0x18080b[_0x56e5e3(0x706)])throw new _0x4e89dd(_0x4e89dd[_0x56e5e3(0x4ea)]['KeyValueDatabaseTransactionValueNotSet']);const [_0x352f1d,_0x264d36]=_0x18080b['id'][_0x56e5e3(0x4bf)]('::'),_0x2f3d0f=this['getTable'](_0x352f1d);if(!_0x2f3d0f)throw new _0x4e89dd(_0x4e89dd[_0x56e5e3(0x4ea)][_0x56e5e3(0x716)],{'table':_0x2f3d0f});let _0x6b7d27=0x0;switch(_0x18080b[_0x56e5e3(0x379)]){case _0x9072a2[_0x56e5e3(0x529)]:case _0x9072a2[_0x56e5e3(0x5cb)]:{const _0x5d2055=_0x2f3d0f['set'](_0x264d36,_0x18080b[_0x56e5e3(0x706)],!0x1);_0x6b7d27=JSON[_0x56e5e3(0xa4f)](_0x18080b['value'])['length'],this[_0x56e5e3(0x99a)][_0x56e5e3(0x25d)](_0x18080b['id'])&&this[_0x56e5e3(0x30b)]['push'](_0x5d2055);break;}case _0x9072a2[_0x56e5e3(0x844)]:{const _0x40b5ac=_0x2f3d0f[_0x56e5e3(0x9c4)](_0x264d36,!0x1);this['transactionsToSync'][_0x56e5e3(0x25d)](_0x18080b['id'])&&this[_0x56e5e3(0x30b)][_0x56e5e3(0x32e)](_0x40b5ac);break;}}_0x17dbc7['logServiceEvent'](_0x367233[_0x56e5e3(0x481)],{'type':'sync','label':this[_0x56e5e3(0x5b0)],'nodeId':this[_0x56e5e3(0x411)][_0x56e5e3(0x3ad)](),'nodeType':this['localNode'][_0x56e5e3(0x852)],'clusterId':this[_0x56e5e3(0x222)],'tableName':_0x352f1d,'key':_0x264d36,'size':_0x6b7d27}),this[_0x56e5e3(0xa33)](_0x5dcf13,_0x18080b);});}[_0x34a0aa(0x7eb)](){const _0x16814c=_0x34a0aa;this[_0x16814c(0x17d)]=this[_0x16814c(0x41b)][_0x16814c(0x253)](async _0x259671=>{const _0x1aff08=_0x16814c;let _0x45620a=0x0;switch(_0x259671['action']){case _0x9072a2[_0x1aff08(0x529)]:case _0x9072a2['Update']:case _0x9072a2[_0x1aff08(0x844)]:{const _0xbc7a94=await this[_0x1aff08(0x903)](_0x259671);if(!_0xbc7a94)return;_0xbc7a94[_0x1aff08(0x706)]=_0x259671[_0x1aff08(0x706)],this[_0x1aff08(0x92f)](_0xbc7a94),_0x45620a=JSON[_0x1aff08(0xa4f)](_0x259671[_0x1aff08(0x706)])['length'],this[_0x1aff08(0x6af)]+=0x1;break;}case _0x454824[_0x1aff08(0xa17)]:case _0x454824[_0x1aff08(0x628)]:case _0x454824[_0x1aff08(0x538)]:this[_0x1aff08(0x66a)]+=0x1;}_0x17dbc7[_0x1aff08(0x920)](_0x367233['KeyValueDatabase'],{'type':_0x259671['action'],'label':this['label'],'nodeId':this[_0x1aff08(0x411)][_0x1aff08(0x3ad)](),'nodeType':this[_0x1aff08(0x411)]['type'],'clusterId':this[_0x1aff08(0x222)],'tableName':_0x259671[_0x1aff08(0x705)],'key':_0x259671[_0x1aff08(0x3bb)],'size':_0x45620a}),this[_0x1aff08(0x2a7)]();});}[_0x34a0aa(0x1ab)](){const _0x2604dc=_0x34a0aa;this['db']&&(this['transactionTable']||(this[_0x2604dc(0x758)]=this['db'][_0x2604dc(0x9f0)](_0x5b8702)));}[_0x34a0aa(0x484)](){const _0x374df3=_0x34a0aa;this[_0x374df3(0x648)]&&(clearTimeout(this[_0x374df3(0x648)]),delete this[_0x374df3(0x648)]);}async[_0x34a0aa(0x1e0)](){const _0x2f9809=_0x34a0aa;await this[_0x2f9809(0x7ad)][_0x2f9809(0x499)],this['logSyncMetrics'](),this[_0x2f9809(0x2b3)]['publish']({'event':_0xb78473[_0x2f9809(0x2ba)]['SyncComplete']}),this[_0x2f9809(0x2bb)]?.(!0x0),delete this[_0x2f9809(0x2bb)],this[_0x2f9809(0x2a7)](),_0x17dbc7[_0x2f9809(0x6cb)](_0x5d2ed2[_0x2f9809(0x481)],_0x2f9809(0x741),this[_0x2f9809(0x5b0)]);}async[_0x34a0aa(0x5c3)](_0x13a271){const _0x5135ba=_0x34a0aa;await Promise[_0x5135ba(0x50a)](this[_0x5135ba(0x30b)]),_0x17dbc7[_0x5135ba(0x6cb)](_0x5d2ed2[_0x5135ba(0x481)],_0x5135ba(0x164)+this[_0x5135ba(0x30b)]['length']+_0x5135ba(0xa2e)+_0x13a271+_0x5135ba(0x439),this[_0x5135ba(0x5b0)]),await this[_0x5135ba(0x7ad)][_0x5135ba(0x499)],await this[_0x5135ba(0x97f)](_0x13a271),await this[_0x5135ba(0x1e0)]();}[_0x34a0aa(0xa33)](_0x47fe75,_0x1b444a){const _0x5a6386=_0x34a0aa;this[_0x5a6386(0x99a)][_0x5a6386(0x25d)](_0x1b444a['id'])&&(this[_0x5a6386(0x484)](),this[_0x5a6386(0x99a)]=this['transactionsToSync'][_0x5a6386(0x285)](_0x15fbb1=>_0x15fbb1!==_0x1b444a['id']),0x0!==this['transactionsToSync'][_0x5a6386(0x831)]?this['syncTimeout']=setTimeout(this[_0x5a6386(0x38f)],0x7d0):this[_0x5a6386(0x5c3)](_0x47fe75));}['sendStats'](){const _0x191183=_0x34a0aa;this[_0x191183(0x550)]&&clearTimeout(this[_0x191183(0x550)]),this[_0x191183(0x550)]=setTimeout(async()=>{const _0x310066=_0x191183;delete this[_0x310066(0x550)];let _0x577cd7=0x0;for(const _0x16aa43 of this['tables']['values']())_0x577cd7+=await _0x16aa43[_0x310066(0x565)]();this[_0x310066(0x9b5)]['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459['Content'],'content':{'type':_0x5402c8[_0x310066(0x6c5)],'label':this[_0x310066(0x5b0)],'stats':{'timestamp':Date[_0x310066(0x517)](),'storage':_0x577cd7,'messagesSent':this[_0x310066(0x9b0)],'messagesReceived':this[_0x310066(0x204)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x310066(0x75a)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x17dbc7['logStorage'](_0x367233[_0x310066(0x481)],'ccc'+this[_0x310066(0x222)]+_0x310066(0x2eb)+this[_0x310066(0x5b0)],_0x577cd7);},_0x5c3d80);}[_0x34a0aa(0x668)](_0x550261){const _0x1fd37d=_0x34a0aa;if(_0x550261[_0x1fd37d(0x2f5)][_0x5b8702])throw new _0x4a345c(_0x2df194['KeyValueDatabaseTableNameReserved'],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x5b8702+_0x1fd37d(0x7a2));if(_0x550261[_0x1fd37d(0x2f5)][_0x5777bf])throw new _0x4a345c(_0x2df194[_0x1fd37d(0xa0b)],_0x1fd37d(0x5fc)+_0x5777bf+_0x1fd37d(0x7a2));_0x550261[_0x1fd37d(0x2f5)][_0x5b8702]={'indexes':[]},_0x550261[_0x1fd37d(0x2f5)][_0x5777bf]={'indexes':[]};}async[_0x34a0aa(0x6b7)](_0x30f622){const _0x3999c1=_0x34a0aa;return Promise['race']([_0x30f622,Promise[_0x3999c1(0x38b)](_0x3999c1(0x8af))])['then'](_0x4b1a9f=>_0x3999c1(0x8af)!==_0x4b1a9f);}async[_0x34a0aa(0x97f)](_0x295ba0){const _0x2f0a3f=_0x34a0aa;await this['processTransactionsToComputeMMR']();const _0x5d327c=await this[_0x2f0a3f(0x7ad)][_0x2f0a3f(0x9d1)](),_0x265794={'sourceId':this['localNode']['getId'](),'destinationIds':[_0x295ba0],'propagate':!0x0,'messageType':_0x174459[_0x2f0a3f(0x562)],'content':{'type':_0x5402c8['KeyValueDatabaseContentSynchronized'],'label':this[_0x2f0a3f(0x5b0)],'mmrRoot':_0x5d327c}};this[_0x2f0a3f(0x9b5)][_0x2f0a3f(0x5c0)](_0x265794);}async[_0x34a0aa(0x9cf)](){const _0xb89059=_0x34a0aa;if(!this[_0xb89059(0x758)])throw new _0x4e89dd(_0x4e89dd['codes'][_0xb89059(0x174)]);this['transactions']=await this[_0xb89059(0x758)][_0xb89059(0x61a)](),this[_0xb89059(0x51b)][_0xb89059(0x9b6)](this[_0xb89059(0x3c9)]),this[_0xb89059(0x7ad)]=new _0x3ce83a(),this[_0xb89059(0x833)]=new Map();for(const _0x586077 of this[_0xb89059(0x51b)])this[_0xb89059(0x51f)](_0x586077,this[_0xb89059(0x51b)][_0xb89059(0x831)]);this[_0xb89059(0x39c)]();}async[_0x34a0aa(0x51f)](_0x627fff,_0x3c28ec){const _0x5dc8cf=_0x34a0aa,_0x1583c7={..._0x627fff};delete _0x1583c7[_0x5dc8cf(0x706)],await this['mmr'][_0x5dc8cf(0x39e)](_0x1583c7,_0x3c28ec);const _0x471508=await this['mmr'][_0x5dc8cf(0x9a6)](_0x1583c7);this[_0x5dc8cf(0x833)][_0x5dc8cf(0x286)](_0x471508,_0x627fff);}[_0x34a0aa(0x37b)](_0x28eb40){const _0x43bbd6=_0x34a0aa;return this['transactionHashMap'][_0x43bbd6(0x56b)](_0x28eb40);}[_0x34a0aa(0x72a)](_0x179452,_0x59fcb5){const _0x48a2a4=_0x34a0aa;if(0x0!==_0x179452[_0x48a2a4(0x5fa)])_0x179452[_0x48a2a4(0x816)]&&this[_0x48a2a4(0x72a)](_0x179452['left'],_0x59fcb5),_0x179452['right']&&this[_0x48a2a4(0x72a)](_0x179452[_0x48a2a4(0x46d)],_0x59fcb5);else{const _0x3f29b9=this['getTransactionByHash'](_0x179452[_0x48a2a4(0x3cb)]);_0x3f29b9&&_0x59fcb5[_0x48a2a4(0x32e)](_0x3f29b9);}}async['rebuildMMR'](){const _0x102225=_0x34a0aa;this[_0x102225(0x4fd)]&&(clearTimeout(this[_0x102225(0x4fd)]),delete this[_0x102225(0x4fd)],this[_0x102225(0x930)][_0x102225(0x831)]>0x0&&(this[_0x102225(0x51b)][_0x102225(0x32e)](...this[_0x102225(0x930)][_0x102225(0x9b6)](this[_0x102225(0x3c9)])),this[_0x102225(0x930)]=[]));const _0x21edb7=this[_0x102225(0x1df)]();this['mmr']=new _0x3ce83a(),this[_0x102225(0x833)][_0x102225(0x620)](),this[_0x102225(0x51b)][_0x102225(0x9b6)](this[_0x102225(0x3c9)]);for(const _0x15c7ee of this['transactions'])this[_0x102225(0x51f)](_0x15c7ee,this[_0x102225(0x51b)][_0x102225(0x831)]);await this[_0x102225(0x7ad)]['ready'],this[_0x102225(0x698)](_0x21edb7);}[_0x34a0aa(0x1df)](){const _0x531305=_0x34a0aa;return this[_0x531305(0x8b6)][_0x531305(0x5ea)][_0x531305(0x764)](async()=>{const _0x444751=_0x531305,_0x48e6d2=await this[_0x444751(0x7ad)]['getRoot']();return{'startTime':Date[_0x444751(0x517)](),'initialRoot':_0x48e6d2};},Promise[_0x531305(0x38b)]({'startTime':0x0,'initialRoot':''}));}async[_0x34a0aa(0x698)](_0x4c7800){const _0x2ff256=_0x34a0aa;try{const {startTime:_0x4499f4,initialRoot:_0x4a815c}=await _0x4c7800,_0x11f32a=await this[_0x2ff256(0x7ad)][_0x2ff256(0x9d1)](),_0x21ec53=[_0x2ff256(0x246)+(_0x4a815c!==_0x11f32a),_0x2ff256(0x32c)+_0x4a815c,_0x2ff256(0x3d0)+_0x11f32a,_0x2ff256(0x67d)+this[_0x2ff256(0x7ad)]['getTotalNodes'](),'\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20'+(Date[_0x2ff256(0x517)]()-_0x4499f4)+_0x2ff256(0x897)]['join']('\x20');this[_0x2ff256(0x8b6)]['logger']['log']('',()=>_0x21ec53);}catch(_0x238fe4){console['error']('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x238fe4);}}[_0x34a0aa(0x72f)](_0x5df792){const _0x4a739d=_0x34a0aa;this[_0x4a739d(0x930)][_0x4a739d(0x32e)](_0x5df792),this[_0x4a739d(0x4fd)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x4a739d(0x4fd)]),this[_0x4a739d(0x4fd)]=setTimeout(()=>{const _0x34c9ea=_0x4a739d;this[_0x34c9ea(0x406)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x2c4682=_0x34a0aa;if(this[_0x2c4682(0x4fd)]&&(clearTimeout(this[_0x2c4682(0x4fd)]),delete this[_0x2c4682(0x4fd)]),0x0!==this[_0x2c4682(0x930)]['length']){if(0x0===this[_0x2c4682(0x51b)][_0x2c4682(0x831)])return this[_0x2c4682(0x51b)]=this[_0x2c4682(0x930)],this['transactionsToAppend']=[],await this[_0x2c4682(0x476)]();if(this['transactionsToAppend'][_0x2c4682(0x9b6)](this[_0x2c4682(0x3c9)]),this[_0x2c4682(0x3c9)](this[_0x2c4682(0x930)][0x0],this[_0x2c4682(0x51b)][this[_0x2c4682(0x51b)][_0x2c4682(0x831)]-0x1])>0x0){this[_0x2c4682(0x8b6)]['logger'][_0x2c4682(0x6cb)](_0x2c4682(0x225)+this[_0x2c4682(0x930)][_0x2c4682(0x831)]+_0x2c4682(0x2fd)+this[_0x2c4682(0x51b)]['length']);for(const _0x4b244c of this[_0x2c4682(0x930)])this[_0x2c4682(0x51b)][_0x2c4682(0x32e)](_0x4b244c),this[_0x2c4682(0x51f)](_0x4b244c,this[_0x2c4682(0x930)][_0x2c4682(0x831)]);return this[_0x2c4682(0x930)]=[],void this[_0x2c4682(0x8b6)][_0x2c4682(0x5ea)][_0x2c4682(0x6cb)](_0x2c4682(0x33a),async()=>_0x2c4682(0x65b)+await this[_0x2c4682(0x7ad)][_0x2c4682(0x9d1)]()+_0x2c4682(0x74d)+this['mmr']['getTotalNodes']());}this[_0x2c4682(0x8b6)][_0x2c4682(0x5ea)][_0x2c4682(0x6cb)](_0x2c4682(0x721)+this[_0x2c4682(0x930)]['length']+_0x2c4682(0x2fd)+this['transactions'][_0x2c4682(0x831)]),this[_0x2c4682(0x51b)][_0x2c4682(0x32e)](...this[_0x2c4682(0x930)]),this['transactionsToAppend']=[],this['rebuildMMR']();}}async[_0x34a0aa(0x795)](){const _0x527dab=_0x34a0aa;if(!_0x17dbc7['isChannelEnabled'](_0x5d2ed2[_0x527dab(0x481)]))return;await this[_0x527dab(0x7ad)][_0x527dab(0x499)];const {dataSent:_0x3f3fa4,dataReceived:_0x969d1a}=this[_0x527dab(0x8b6)]['getDataLogged']();_0x17dbc7['log'](_0x5d2ed2[_0x527dab(0x481)],'Key-Value\x20Database\x20-\x20Sync\x20Completed',this['label'],_0x527dab(0x3c0)+_0x3f3fa4,_0x527dab(0x8dd)+_0x969d1a,'\x0a\x20===\x20Current\x20MMR\x20Root',await this[_0x527dab(0x7ad)][_0x527dab(0x9d1)](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x527dab(0x7ad)][_0x527dab(0x2a1)]());}async[_0x34a0aa(0x39c)](){const _0x4ff109=_0x34a0aa;if(!_0x17dbc7[_0x4ff109(0x500)](_0x5d2ed2[_0x4ff109(0x481)]))return;const _0x3fbb5c=this[_0x4ff109(0x7ad)][_0x4ff109(0x5a5)](),_0x195263=_0x3fbb5c[_0x4ff109(0x403)](_0x229031=>_0x229031[_0x4ff109(0x5fa)]),_0x57ec33=await this[_0x4ff109(0x7ad)][_0x4ff109(0x9d1)]();_0x17dbc7[_0x4ff109(0x6cb)](_0x5d2ed2['KeyValueDatabase'],_0x4ff109(0x92e),this[_0x4ff109(0x51b)][_0x4ff109(0x831)],'transactions',this['mmr']['getTotalNodes'](),_0x4ff109(0x94f),_0x3fbb5c[_0x4ff109(0x831)],_0x4ff109(0x3de),_0x195263,_0x4ff109(0x33c),_0x57ec33);}}const _0x502b82=require('@crewdle/mist-connector-opfs'),_0x5120ac=require('@crewdle/mist-connector-indexed-db'),_0x1cba67=require('@crewdle/mist-connector-webrtc-browser'),_0x2d6e82=0x1fc00000;var _0x41e71b,_0x12973d,_0x376bcb,_0x17021b,_0xaa7f04,_0xc6ed77,_0x525d63,_0x8df199,_0x17629b;!function(_0xbc8b20){const _0x55548c=_0x34a0aa;_0xbc8b20[_0x55548c(0x996)]='AudioContext',_0xbc8b20['AudioOutput']='AudioOutput',_0xbc8b20[_0x55548c(0x7c7)]=_0x55548c(0x7c7),_0xbc8b20[_0x55548c(0x44f)]=_0x55548c(0x44f),_0xbc8b20[_0x55548c(0x54e)]=_0x55548c(0x54e),_0xbc8b20['MediaStream']=_0x55548c(0x18a),_0xbc8b20[_0x55548c(0x98b)]=_0x55548c(0x98b),_0xbc8b20['ScreenSharing']=_0x55548c(0x3b3),_0xbc8b20[_0x55548c(0x79b)]=_0x55548c(0x79b),_0xbc8b20[_0x55548c(0x432)]=_0x55548c(0x432);}(_0x41e71b||(_0x41e71b={}));class _0x1a5802{[_0x34a0aa(0x213)];['bufferedEvents'];['eventTarget'];constructor(_0x28cc95=new Map(),_0x40ae7d=new Map(),_0x95a25c=new EventTarget()){const _0x4dfc9e=_0x34a0aa;this[_0x4dfc9e(0x213)]=_0x28cc95,this[_0x4dfc9e(0x7cb)]=_0x40ae7d,this[_0x4dfc9e(0x2b8)]=_0x95a25c;}['emit']=(_0x18a742,_0x74e5ef)=>this[_0x34a0aa(0x213)][_0x34a0aa(0x664)](_0x18a742)?(_0x17dbc7[_0x34a0aa(0x6cb)](_0x5d2ed2['Events'],_0x34a0aa(0xa19),{'event':_0x18a742,'data':_0x74e5ef}),this[_0x34a0aa(0x2b8)]['dispatchEvent'](new CustomEvent(_0x18a742,{'detail':_0x74e5ef})),!0x0):(this['bufferEvent'](_0x18a742,_0x74e5ef),!0x1);['on']=(_0xdc154a,_0x535a40)=>{const _0x17f37b=_0x34a0aa,_0x58b446=_0x36f36c=>{const _0x2136d5=a0_0x1d5b;_0x17dbc7[_0x2136d5(0x6cb)](_0x5d2ed2[_0x2136d5(0x7ed)],_0x2136d5(0x3b2),_0x36f36c[_0x2136d5(0x852)],_0x36f36c[_0x2136d5(0x99f)]),_0x535a40(_0x36f36c['detail']);};return this['registeredListeners']['set'](_0xdc154a,_0x58b446),this[_0x17f37b(0x2b8)][_0x17f37b(0x3bd)](_0xdc154a,_0x58b446),_0x17dbc7[_0x17f37b(0x6cb)](_0x5d2ed2[_0x17f37b(0x9ad)],_0x17f37b(0x6f3),_0xdc154a,_0x535a40),this['consumeBufferedEvents'](_0xdc154a),this;};[_0x34a0aa(0x8c6)](_0x1cba32){const _0x21a440=_0x34a0aa;if(!_0x1cba32)return this[_0x21a440(0x213)][_0x21a440(0x66c)]((_0xffc342,_0x2b3b11)=>{const _0x596b51=_0x21a440;this[_0x596b51(0x2b8)][_0x596b51(0x911)](_0x2b3b11,_0xffc342);}),void this[_0x21a440(0x213)][_0x21a440(0x620)]();_0x21a440(0x6ce)==typeof _0x1cba32&&this[_0x21a440(0x59d)](_0x1cba32),Array[_0x21a440(0x5d8)](_0x1cba32)&&_0x1cba32[_0x21a440(0x66c)](_0x72e6ca=>{this['removeListener'](_0x72e6ca);});}[_0x34a0aa(0x59d)](_0x308da8){const _0x1ad660=_0x34a0aa,_0x5675a9=this[_0x1ad660(0x213)][_0x1ad660(0x56b)](_0x308da8);_0x5675a9&&(this[_0x1ad660(0x2b8)][_0x1ad660(0x911)](_0x308da8,_0x5675a9),this[_0x1ad660(0x213)][_0x1ad660(0x9c4)](_0x308da8));}['bufferEvent'](_0x14ff0e,_0x53f6e5){const _0xcf075a=_0x34a0aa;_0x17dbc7[_0xcf075a(0x6cb)](_0x5d2ed2[_0xcf075a(0x7ed)],_0xcf075a(0x694),{'event':_0x14ff0e,'data':_0x53f6e5});const _0x282ff9=this['bufferedEvents'][_0xcf075a(0x56b)](_0x14ff0e)||[];this[_0xcf075a(0x7cb)][_0xcf075a(0x286)](_0x14ff0e,[..._0x282ff9,_0x53f6e5]);}[_0x34a0aa(0x64e)](_0x48b78e){const _0x2dbe49=_0x34a0aa,_0x229371=this[_0x2dbe49(0x7cb)][_0x2dbe49(0x56b)](_0x48b78e);_0x229371&&(_0x229371[_0x2dbe49(0x66c)](_0xf48756=>{const _0x3bb8ac=_0x2dbe49;_0x17dbc7[_0x3bb8ac(0x6cb)](_0x5d2ed2[_0x3bb8ac(0x7ed)],_0x3bb8ac(0x3b0),{'event':_0x48b78e,'data':_0xf48756}),this[_0x3bb8ac(0x2b8)][_0x3bb8ac(0x40a)](new CustomEvent(_0x48b78e,{'detail':_0xf48756}));}),this[_0x2dbe49(0x7cb)]['delete'](_0x48b78e));}}class _0x2e8877 extends Error{constructor(_0x3c3ead){const _0x42bd2b=_0x34a0aa;super(_0x42bd2b(0x594)+_0x3c3ead);}}!function(_0xcd4876){const _0x5c546d=_0x34a0aa;_0xcd4876[_0xcd4876[_0x5c546d(0x3db)]=0x0]=_0x5c546d(0x3db),_0xcd4876[_0xcd4876['Optimization']=0x1]=_0x5c546d(0x410);}(_0x12973d||(_0x12973d={})),function(_0x31b2c0){const _0x1496c0=_0x34a0aa;_0x31b2c0[_0x31b2c0[_0x1496c0(0xa3b)]=0x0]=_0x1496c0(0xa3b),_0x31b2c0[_0x31b2c0[_0x1496c0(0x828)]=0x1]=_0x1496c0(0x828),_0x31b2c0[_0x31b2c0[_0x1496c0(0x60f)]=0x2]='Handshake',_0x31b2c0[_0x31b2c0['Success']=0x3]='Success',_0x31b2c0[_0x31b2c0[_0x1496c0(0x9f8)]=0x4]=_0x1496c0(0x9f8),_0x31b2c0[_0x31b2c0[_0x1496c0(0x3ed)]=0x5]=_0x1496c0(0x3ed),_0x31b2c0[_0x31b2c0[_0x1496c0(0x231)]=0x6]=_0x1496c0(0x231),_0x31b2c0[_0x31b2c0['Stats']=0x7]=_0x1496c0(0x992),_0x31b2c0[_0x31b2c0[_0x1496c0(0x6cd)]=0x8]=_0x1496c0(0x6cd);}(_0x376bcb||(_0x376bcb={})),function(_0xe3efad){const _0x5d349f=_0x34a0aa;_0xe3efad[_0xe3efad[_0x5d349f(0x80e)]=0x0]='Sender',_0xe3efad[_0xe3efad[_0x5d349f(0x5ca)]=0x1]=_0x5d349f(0x5ca);}(_0x17021b||(_0x17021b={})),function(_0x15baa3){const _0x109d0e=_0x34a0aa;_0x15baa3[_0x109d0e(0x18a)]=_0x109d0e(0x646);}(_0xaa7f04||(_0xaa7f04={})),function(_0x290718){const _0x7d276e=_0x34a0aa;_0x290718[_0x290718[_0x7d276e(0x2b1)]=0x0]=_0x7d276e(0x2b1),_0x290718[_0x290718['NodeUpdate']=0x1]=_0x7d276e(0x54d),_0x290718[_0x290718[_0x7d276e(0x58a)]=0x2]=_0x7d276e(0x58a),_0x290718[_0x290718[_0x7d276e(0xa04)]=0x3]='NodeLeave';}(_0xc6ed77||(_0xc6ed77={})),function(_0x2fc02d){const _0x24bd14=_0x34a0aa;_0x2fc02d[_0x2fc02d['Remediation']=0x0]='Remediation',_0x2fc02d[_0x2fc02d[_0x24bd14(0x894)]=0x1]=_0x24bd14(0x894);}(_0x525d63||(_0x525d63={})),function(_0x366de3){const _0x50b79e=_0x34a0aa;_0x366de3['Upgrade']='upgrade',_0x366de3['Downgrade']=_0x50b79e(0x958);}(_0x8df199||(_0x8df199={})),function(_0x531d51){const _0x4d4949=_0x34a0aa;_0x531d51[_0x4d4949(0x431)]=_0x4d4949(0x67a),_0x531d51[_0x4d4949(0x981)]=_0x4d4949(0x4c5);}(_0x17629b||(_0x17629b={}));const _0x3f70bf=require('aws-amplify'),_0x562504=require('aws-amplify/utils'),_0x21db5=require('@aws-amplify/api'),_0x628fab=require('@aws-amplify/core');class _0x53253d{[_0x34a0aa(0x222)];['localNode'];[_0x34a0aa(0x41a)];constructor(_0x530d89,_0x5d148a,_0x111ead){const _0x2b8157=_0x34a0aa;this[_0x2b8157(0x222)]=_0x530d89,this[_0x2b8157(0x411)]=_0x5d148a,this['remoteId']=_0x111ead;}[_0x34a0aa(0x917)](){const _0xa8aa3d=_0x34a0aa;return this[_0xa8aa3d(0x411)][_0xa8aa3d(0x3ad)]();}['getRemoteId'](){const _0x95e267=_0x34a0aa;return this[_0x95e267(0x41a)];}}var _0x25ef62,_0x3a7e17,_0x255510;function _0x40ee5c(_0x4a2679,_0x583222){const _0x42671d=_0x34a0aa;return _0x4a2679[_0x42671d(0x7b7)]===_0x583222;}function _0x5b6ad3(_0x469ab3,_0x5f53cf){const _0x41a5cf=_0x34a0aa;return _0x469ab3[_0x41a5cf(0x686)]?.[_0x41a5cf(0x25d)](_0x5f53cf)??function(_0x4a669b){const _0x51245a=_0x41a5cf;return void 0x0===_0x4a669b[_0x51245a(0x686)];}(_0x469ab3);}function _0x2445b5(_0x4f1c7d,{contentType:_0x5b2be3,label:_0x47ea33,remoteId:_0x5c4247}){return _0x4f1c7d+'-'+_0x5b2be3+'-'+_0x47ea33+'-'+_0x5c4247;}function _0x5147fa(_0x2cf05e,_0x4b24e9,_0x261d39){return''+_0x2cf05e+_0x4b24e9+_0x261d39;}function _0x363294(_0x4ba545){const _0x3fed6d=_0x34a0aa;return _0x4ba545===_0x3a7e17['Incoming']?'IncomingSubscription':_0x3fed6d(0x96d);}function _0x5764d4(_0x368050,_0x52ab80){const _0x46cfbc=_0x34a0aa;return{'label':_0x368050['getInternalStreamId'](),'contentType':_0x368050['getContentType'](),'remoteId':_0x52ab80[_0x46cfbc(0x9ed)](),'supportsContentType':_0x52ab80[_0x46cfbc(0x338)]()[_0x46cfbc(0x25d)](_0x368050[_0x46cfbc(0x561)]())};}!function(_0x5945cc){const _0xfbfc73=_0x34a0aa;_0x5945cc[_0x5945cc[_0xfbfc73(0x99b)]=0x0]=_0xfbfc73(0x99b),_0x5945cc[_0x5945cc[_0xfbfc73(0x93b)]=0x1]='Accepted',_0x5945cc[_0x5945cc[_0xfbfc73(0x495)]=0x2]='Rejected';}(_0x25ef62||(_0x25ef62={})),function(_0x4bbade){const _0x47f240=_0x34a0aa;_0x4bbade['Incoming']='in',_0x4bbade[_0x47f240(0x6db)]=_0x47f240(0x875);}(_0x3a7e17||(_0x3a7e17={}));class _0xc70130{[_0x34a0aa(0x30a)];[_0x34a0aa(0x33e)];constructor(_0x426d5e,_0x50f867){const _0x37aadc=_0x34a0aa;this[_0x37aadc(0x30a)]=_0x426d5e,this[_0x37aadc(0x33e)]=_0x50f867;}[_0x34a0aa(0x56f)](_0x1a5adf){const _0x43de5c=_0x34a0aa;this[_0x43de5c(0x30a)](_0x1a5adf);}async[_0x34a0aa(0x35b)](){const _0x245040=_0x34a0aa;await this[_0x245040(0x33e)]();}}class _0x481085{[_0x34a0aa(0x30a)];[_0x34a0aa(0x33e)];constructor(_0x27003e,_0x2e02c2){this['callback']=_0x27003e,this['retryCallback']=_0x2e02c2;}async[_0x34a0aa(0x56f)](_0xaf876d){const _0x2b3aae=_0x34a0aa;await this[_0x2b3aae(0x30a)](_0xaf876d);}async[_0x34a0aa(0x35b)](){const _0xf0729=_0x34a0aa;await this[_0xf0729(0x33e)]();}}function _0x494a62(_0x2a7bac=()=>{},_0x263bdf=()=>!0x1,_0x568304=()=>{}){let _0x4a6ac1,_0x556efc,_0x2fdac3=0x0;return{get 'size'(){return _0x2fdac3;},get 'head'(){return _0x4a6ac1;},get 'tail'(){return _0x556efc;},set 'head'(_0x2b3671){_0x4a6ac1=_0x2b3671;},set 'tail'(_0x5b965f){_0x556efc=_0x5b965f;},'push'(_0x44da6e,_0x23c5b3=!0x0){const _0xf55fb8=a0_0x1d5b,_0xb58ba8={'value':_0x44da6e};_0x23c5b3&&_0x263bdf(_0xb58ba8)?_0x2a7bac():(_0x556efc&&(_0xb58ba8[_0xf55fb8(0x7e9)]=_0x556efc,_0x556efc['next']=_0xb58ba8),_0x556efc=_0xb58ba8,_0x4a6ac1||(_0x4a6ac1=_0xb58ba8),_0x2fdac3+=0x1,_0x23c5b3&&_0x2a7bac());},'pop'(){const _0x29193e=a0_0x1d5b;if(!_0x556efc)return;const _0xe3460f=_0x556efc[_0x29193e(0x706)];return _0x556efc=_0x556efc[_0x29193e(0x7e9)],_0x556efc&&delete _0x556efc['next'],_0x556efc||(_0x4a6ac1=void 0x0),_0x2fdac3-=0x1,_0xe3460f;},'unshift'(_0x3c69e2,_0x361132=!0x0){const _0xe0d51a=a0_0x1d5b,_0x4d262e={'value':_0x3c69e2};_0x361132&&_0x263bdf(_0x4d262e)?_0x2a7bac():(_0x4a6ac1&&(_0x4a6ac1[_0xe0d51a(0x7e9)]=_0x4d262e,_0x4d262e[_0xe0d51a(0x54f)]=_0x4a6ac1),_0x4a6ac1=_0x4d262e,_0x556efc||(_0x556efc=_0x4d262e),_0x2fdac3+=0x1,_0x361132&&_0x2a7bac());},'shift'(){const _0x32e8c4=a0_0x1d5b;if(!_0x4a6ac1)return;const _0x11850c=_0x4a6ac1[_0x32e8c4(0x706)];return _0x4a6ac1=_0x4a6ac1[_0x32e8c4(0x54f)],_0x4a6ac1&&delete _0x4a6ac1['previous'],_0x4a6ac1||(_0x556efc=void 0x0),_0x2fdac3-=0x1,_0x11850c;},'clear'(){_0x568304(),_0x4a6ac1=void 0x0,_0x556efc=void 0x0,_0x2fdac3=0x0;}};}function _0x5c0007(_0x3770ad,_0x471ef1=!0x1,_0x41a907=()=>{},_0x419763=()=>!0x1,_0xe0e4e1=()=>{}){let _0x2a0b45=!0x1;const _0x40d017=_0x494a62(async function(){const _0x1d1122=a0_0x1d5b;if(!_0x2a0b45){for(_0x2a0b45=!0x0;_0x40d017[_0x1d1122(0x9ab)];){const _0x4b98a7=_0x40d017[_0x1d1122(0x179)]();if(_0x4b98a7)try{_0x3770ad instanceof _0xc70130&&_0x3770ad[_0x1d1122(0x56f)](_0x4b98a7),_0x3770ad instanceof _0x481085&&await _0x3770ad[_0x1d1122(0x56f)](_0x4b98a7),_0x41a907(_0x4b98a7);}catch(_0x45e267){_0x471ef1?_0x40d017[_0x1d1122(0x32e)](_0x4b98a7,!0x1):_0x40d017['unshift'](_0x4b98a7,!0x1),await _0x3770ad[_0x1d1122(0x35b)]();}}_0x2a0b45=!0x1;}},_0x419763,_0xe0e4e1);return _0x40d017;}class _0x12edd4 extends _0x53253d{['vendorId'];[_0x34a0aa(0x925)];['connectionState']=_0x21db5[_0x34a0aa(0x316)][_0x34a0aa(0x386)];[_0x34a0aa(0x186)]=_0x41e5d0();[_0x34a0aa(0x86b)]=_0x5a3b06();['subscription'];[_0x34a0aa(0x4f3)];[_0x34a0aa(0x220)]=_0x5c0007(new _0x481085(this['sendAction'][_0x34a0aa(0xa1e)](this),this[_0x34a0aa(0x5d2)]['bind'](this)));['client'];constructor(_0x106b58,_0x52ec13,_0x4a0f9e,_0x26a853,_0x3fc517){super(_0x52ec13,_0x4a0f9e,_0x26a853),this['vendorId']=_0x106b58,this['authService']=_0x3fc517;}async[_0x34a0aa(0xa48)](){const _0x4bb75a=_0x34a0aa;try{const _0x5154eb={'getTokens':async()=>{const _0x17a27b=a0_0x1d5b,_0x115f86=await this[_0x17a27b(0x925)][_0x17a27b(0x874)]();return{'accessToken':(0x0,_0x628fab[_0x17a27b(0x94c)])(_0x115f86),'idToken':(0x0,_0x628fab[_0x17a27b(0x94c)])(_0x115f86)};}};_0x3f70bf[_0x4bb75a(0x20e)][_0x4bb75a(0x4b9)]({'API':{'GraphQL':{'endpoint':_0x37296e[_0x4bb75a(0x98d)][_0x4bb75a(0x969)],'region':_0x37296e['aws'][_0x4bb75a(0x7b4)],'defaultAuthMode':_0x4bb75a(0x554)}}},{'Auth':{'tokenProvider':_0x5154eb}});const _0x296155=(0x0,_0x21db5[_0x4bb75a(0x4c0)])();this[_0x4bb75a(0x4e8)]=_0x296155,await this[_0x4bb75a(0x253)](),this[_0x4bb75a(0x4f3)]=_0x562504[_0x4bb75a(0xa1f)][_0x4bb75a(0x5e1)](_0x4bb75a(0x719),async({payload:_0x284174})=>{const _0x183c54=_0x4bb75a;if(_0x284174[_0x183c54(0x21c)]===_0x21db5['CONNECTION_STATE_CHANGE']){const _0x1f8134=_0x284174[_0x183c54(0x1ad)];this[_0x183c54(0x843)]=_0x1f8134['connectionState'],this[_0x183c54(0x186)][_0x183c54(0x5c0)](_0x1f8134['connectionState']),this[_0x183c54(0x843)]===_0x21db5[_0x183c54(0x316)][_0x183c54(0x386)]?(_0x17dbc7[_0x183c54(0x165)](_0x183c54(0x5ce),{'clusterId':this[_0x183c54(0x222)],'nodeId':this[_0x183c54(0x917)](),'nodeType':this[_0x183c54(0x411)][_0x183c54(0x852)]}),this[_0x183c54(0x39a)](),this['connect']()):this[_0x183c54(0x843)]===_0x21db5[_0x183c54(0x316)][_0x183c54(0x45f)]?_0x17dbc7[_0x183c54(0x701)]('appsync-connect',{'clusterId':this[_0x183c54(0x222)],'nodeId':this[_0x183c54(0x917)](),'nodeType':this[_0x183c54(0x411)][_0x183c54(0x852)]}):_0x17dbc7[_0x183c54(0x701)]('appsync-statechange',{'clusterId':this['clusterId'],'nodeId':this[_0x183c54(0x917)](),'nodeType':this[_0x183c54(0x411)]['type'],'data':{'state':_0x1f8134[_0x183c54(0x843)]}});}});}catch(_0x5bbbba){_0x17dbc7['error'](_0x4bb75a(0x2cd),{'clusterId':this[_0x4bb75a(0x222)],'nodeId':this[_0x4bb75a(0x917)](),'nodeType':this['localNode']['type']});}}['close'](){const _0x2f741c=_0x34a0aa;_0x17dbc7[_0x2f741c(0x701)]('appsync-close',{'clusterId':this[_0x2f741c(0x222)],'nodeId':this[_0x2f741c(0x917)](),'nodeType':this['localNode'][_0x2f741c(0x852)]}),this[_0x2f741c(0x220)][_0x2f741c(0x620)](),this[_0x2f741c(0x4f3)]?.(),this[_0x2f741c(0x55d)]?.[_0x2f741c(0x626)](),delete this[_0x2f741c(0x55d)];}[_0x34a0aa(0x18b)](){const _0x14360e=_0x34a0aa;return this[_0x14360e(0x843)]===_0x21db5[_0x14360e(0x316)][_0x14360e(0x45f)];}[_0x34a0aa(0x92f)](_0x432cab){this['retryQueue']['push'](_0x432cab);}[_0x34a0aa(0x749)](_0x538245){const _0x27fcd7=_0x34a0aa;return this[_0x27fcd7(0x86b)]['subscribe'](_0x538245);}[_0x34a0aa(0x338)](){const _0x48ac2c=_0x34a0aa;return[_0xb78473['ContentType'][_0x48ac2c(0x6a7)]];}async[_0x34a0aa(0x5d2)](){const _0x41913a=_0x34a0aa;if(!this[_0x41913a(0x18b)]())return new Promise(_0x59d21f=>{const _0x7f0f0c=_0x41913a,_0x47621f=this[_0x7f0f0c(0x186)][_0x7f0f0c(0x253)](_0x1dcee1=>{const _0x41b603=_0x7f0f0c;_0x1dcee1===_0x21db5['ConnectionState'][_0x41b603(0x45f)]&&(_0x47621f(),_0x59d21f());});});}async[_0x34a0aa(0x3a3)](_0x499ae4){const _0x15d125=_0x34a0aa;if(this[_0x15d125(0x843)]!==_0x21db5[_0x15d125(0x316)][_0x15d125(0x45f)])throw new Error(_0x15d125(0x496));_0x499ae4[_0x15d125(0x686)]&&0x1===_0x499ae4[_0x15d125(0x686)][_0x15d125(0x831)]?await this['publish'](_0x499ae4[_0x15d125(0x686)][0x0],JSON['stringify'](_0x499ae4)):_0x17dbc7[_0x15d125(0x165)](_0x15d125(0x212),{'clusterId':this[_0x15d125(0x222)],'nodeId':this[_0x15d125(0x917)](),'nodeType':this[_0x15d125(0x411)][_0x15d125(0x852)]});}async[_0x34a0aa(0x5c0)](_0x3af354,_0x4c1bed){const _0x5ddd78=_0x34a0aa;if(!this[_0x5ddd78(0x4e8)])throw new Error(_0x5ddd78(0x811));_0x17dbc7[_0x5ddd78(0x6cb)](_0x5d2ed2[_0x5ddd78(0x5ec)],_0x5ddd78(0x8df),this['getLocalId'](),_0x4c1bed),await this['client'][_0x5ddd78(0x314)]({'query':_0x5ddd78(0x6bb),'variables':{'name':await this['getHash'](_0x3af354),'data':_0x4c1bed}});}async[_0x34a0aa(0x253)](){const _0x375481=_0x34a0aa;if(this[_0x375481(0x55d)])return;if(!this[_0x375481(0x4e8)])throw new Error(_0x375481(0x811));_0x17dbc7[_0x375481(0x6cb)](_0x5d2ed2[_0x375481(0x5ec)],_0x375481(0x420),this[_0x375481(0x917)]());const _0xae7371=await this[_0x375481(0x4e8)]['graphql']({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x375481(0x1f9)]()},'authToken':await this[_0x375481(0x925)][_0x375481(0x874)]()},{'Authorization':await this[_0x375481(0x925)]['getIdToken']()});this[_0x375481(0x55d)]=_0xae7371[_0x375481(0x253)]({'next':({data:_0x5aa4e7})=>{const _0x25b0b3=_0x375481,_0x5440df=JSON[_0x25b0b3(0x4a0)](_0x5aa4e7[_0x25b0b3(0x253)][_0x25b0b3(0x1ad)]);!_0x40ee5c(_0x5440df,this[_0x25b0b3(0x917)]())&&_0x5b6ad3(_0x5440df,this['getLocalId']())&&this['messageListeners']['publish'](_0x5440df);},'error':console[_0x375481(0x6cb)]});}async[_0x34a0aa(0x1f9)](_0x114b78){const _0x20ea1e=_0x34a0aa,_0x398d82=await crypto[_0x20ea1e(0x644)]['digest'](_0x20ea1e(0x275),new TextEncoder()[_0x20ea1e(0x7e3)](this[_0x20ea1e(0x853)]+'-'+this[_0x20ea1e(0x222)]+'-'+(_0x114b78??this[_0x20ea1e(0x917)]())));return Array[_0x20ea1e(0x856)](new Uint8Array(_0x398d82))[_0x20ea1e(0x403)](_0x53d595=>_0x53d595[_0x20ea1e(0x8fc)](0x10)['padStart'](0x2,'0'))[_0x20ea1e(0x45b)]('');}}!function(_0x7a7fa9){const _0x2295b5=_0x34a0aa;_0x7a7fa9[_0x7a7fa9[_0x2295b5(0x529)]=0x0]=_0x2295b5(0x529),_0x7a7fa9[_0x7a7fa9[_0x2295b5(0x4e1)]=0x1]=_0x2295b5(0x4e1),_0x7a7fa9[_0x7a7fa9[_0x2295b5(0x5cb)]=0x2]=_0x2295b5(0x5cb),_0x7a7fa9[_0x7a7fa9[_0x2295b5(0x387)]=0x3]=_0x2295b5(0x387),_0x7a7fa9[_0x7a7fa9[_0x2295b5(0x3e6)]=0x4]=_0x2295b5(0x3e6);}(_0x255510||(_0x255510={}));const _0x4523f5='0',_0x3a98b0=_0x34a0aa(0x7d7),_0x1044b0=_0x33c5a5,_0x1d69dc=0xbe800;class _0x2fb140{[_0x34a0aa(0x222)];[_0x34a0aa(0x411)];[_0x34a0aa(0x41a)];['iceServers'];['connectionType'];[_0x34a0aa(0x184)];['connection'];[_0x34a0aa(0x999)];[_0x34a0aa(0x835)]=0x1;[_0x34a0aa(0x9b5)];[_0x34a0aa(0x461)]=[];[_0x34a0aa(0x278)]=[];[_0x34a0aa(0x2e5)];constructor(_0x1847d0,_0x5f4ff7,_0x182e5b,_0x2678f5,_0x5a0827,_0x416a03){const _0xef8528=_0x34a0aa;this[_0xef8528(0x222)]=_0x1847d0,this[_0xef8528(0x411)]=_0x5f4ff7,this[_0xef8528(0x41a)]=_0x182e5b,this[_0xef8528(0x519)]=_0x2678f5,this[_0xef8528(0x486)]=_0x5a0827,this[_0xef8528(0x184)]=_0x416a03,this[_0xef8528(0x7c1)]=new this[(_0xef8528(0x184))]({'handshakeServers':this[_0xef8528(0x519)]}),this[_0xef8528(0x847)]();}[_0x34a0aa(0x39a)](){const _0x46c813=_0x34a0aa;this[_0x46c813(0x998)]();}[_0x34a0aa(0x324)](_0x4534b2){const _0x45f587=_0x34a0aa;this[_0x45f587(0x486)]=_0x4534b2;}async[_0x34a0aa(0xa2d)](_0x686d93,_0x2d156b){const _0x4077fb=_0x34a0aa;if(_0x2d156b===this['currentVersion'])for(const _0x2ad914 of _0x686d93){if(!this[_0x4077fb(0x7c1)][_0x4077fb(0x979)])return this[_0x4077fb(0x1c1)](_0x2ad914);try{await this[_0x4077fb(0x7c1)]['addCandidate'](_0x2ad914);}catch(_0x171bc8){this[_0x4077fb(0x1c1)](_0x2ad914);}}}[_0x34a0aa(0x18b)](){const _0x312e6c=_0x34a0aa;return this[_0x312e6c(0x79f)](),_0x312e6c(0x3cf)===this['connection']['connectionState']&&['connected',_0x312e6c(0x6d1)][_0x312e6c(0x25d)](this['connection'][_0x312e6c(0x880)])&&_0x312e6c(0x556)!==this[_0x312e6c(0x7c1)]['signalingState']&&_0x312e6c(0x8f9)===this[_0x312e6c(0x999)]?.[_0x312e6c(0x7e1)];}['registerSystemPublisher'](_0x3b4feb){const _0x31fb8b=_0x34a0aa;this[_0x31fb8b(0x9b5)]=_0x3b4feb;}[_0x34a0aa(0x5f8)](){delete this['systemTopic'];}['resetConnection'](_0x57056d){const _0x3f1e37=_0x34a0aa;this[_0x3f1e37(0x998)](),this[_0x3f1e37(0x7c1)]=new this[(_0x3f1e37(0x184))]({'handshakeServers':this['iceServers']}),_0x57056d?this[_0x3f1e37(0x835)]=_0x57056d:this['currentVersion']+=0x1,this['setupConnectionEvents']();}[_0x34a0aa(0x7d6)](){const _0x124046=_0x34a0aa;this[_0x124046(0x278)][_0x124046(0x66c)](_0x11febc=>{const _0x2c88f9=_0x124046;try{this[_0x2c88f9(0x7c1)][_0x2c88f9(0x83e)](_0x11febc);}catch(_0x106062){}}),this[_0x124046(0x278)]=[];}[_0x34a0aa(0x84f)](_0x1b2587,_0x3cc0f5){const _0x1d81d9=_0x34a0aa;if(!this[_0x1d81d9(0x9b5)])throw new _0x4e89dd(_0x4e89dd[_0x1d81d9(0x4ea)][_0x1d81d9(0x41d)],{'content':_0x1b2587});const _0x432bd2={'sourceId':this[_0x1d81d9(0x411)][_0x1d81d9(0x3ad)](),'destinationIds':[this['remoteId']],'propagate':this[_0x1d81d9(0x486)]!==_0x12973d[_0x1d81d9(0x3db)],'retry':this['connectionType']!==_0x12973d[_0x1d81d9(0x3db)],'messageType':_0x174459[_0x1d81d9(0x25b)],'content':_0x1b2587};_0x3cc0f5&&(_0x432bd2[_0x1d81d9(0x666)]=_0x3cc0f5),this['systemTopic']['publish'](_0x432bd2);}[_0x34a0aa(0x847)](){const _0x11a233=_0x34a0aa;this['connection']['onGatheringStateChange']=()=>{const _0x213a8d=a0_0x1d5b;_0x213a8d(0x89f)===this['connection'][_0x213a8d(0x80b)]&&this[_0x213a8d(0x461)][_0x213a8d(0x831)]>0x0&&(this[_0x213a8d(0x2e5)]&&clearTimeout(this['handshakeDebounce']),this['handshakeDebounce']=setTimeout(()=>{const _0x503fe=_0x213a8d;delete this[_0x503fe(0x2e5)],this[_0x503fe(0x93d)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x11a233(0x7c1)][_0x11a233(0x21f)]=_0x2f34ee=>{const _0x13ff3f=_0x11a233;_0x2f34ee[_0x13ff3f(0x7a9)]&&this[_0x13ff3f(0x461)]['push'](_0x2f34ee[_0x13ff3f(0x7a9)]);};}[_0x34a0aa(0x998)](){const _0x1028ba=_0x34a0aa;clearTimeout(this['handshakeDebounce']),delete this[_0x1028ba(0x2e5)],this[_0x1028ba(0x461)]=[],this[_0x1028ba(0x278)]=[],this[_0x1028ba(0x999)]&&(this['dataChannel'][_0x1028ba(0x749)]=null,this['dataChannel'][_0x1028ba(0x771)]=null,this[_0x1028ba(0x999)]['close'](),delete this['dataChannel']),this[_0x1028ba(0x7c1)][_0x1028ba(0x592)]=null,this[_0x1028ba(0x7c1)][_0x1028ba(0x21f)]=null,this[_0x1028ba(0x7c1)]['onHandshakeStateChange']=null,this[_0x1028ba(0x7c1)][_0x1028ba(0x691)]=null,this[_0x1028ba(0x7c1)][_0x1028ba(0x73b)]=null,this[_0x1028ba(0x7c1)][_0x1028ba(0x3c6)]=null,this[_0x1028ba(0x7c1)]['close']();}[_0x34a0aa(0x1c1)](_0x5079e4){const _0x54c3dc=_0x34a0aa;this[_0x54c3dc(0x278)][_0x54c3dc(0x32e)](_0x5079e4);}[_0x34a0aa(0x79f)](){const _0x469692=_0x34a0aa;_0x17dbc7[_0x469692(0x6cb)](_0x5d2ed2[_0x469692(0x316)],_0x469692(0x834),{'localId':this[_0x469692(0x411)][_0x469692(0x3ad)](),'remoteId':this[_0x469692(0x41a)],'connectionState':this[_0x469692(0x7c1)][_0x469692(0x843)],'handshakeState':this['connection'][_0x469692(0x880)],'signalingState':this[_0x469692(0x7c1)]['signalingState'],'dataChannelState':this[_0x469692(0x999)]?.[_0x469692(0x7e1)]});}}function _0x2fd8b4(_0x3cc422,_0x2b22d3){const _0x16a95d=_0x34a0aa;_0x2b22d3['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x16a95d(0x25b)],'content':_0x3cc422});}class _0xcf41ea{static [_0x34a0aa(0x1cf)];[_0x34a0aa(0x7f2)]=[];[_0x34a0aa(0x4f0)];constructor(){setInterval(()=>{const _0x4cc13f=a0_0x1d5b;this[_0x4cc13f(0x7f2)][_0x4cc13f(0x66c)](_0x3cdd8f=>{const _0x2f1c10=_0x4cc13f;if(Date[_0x2f1c10(0x517)]()-_0x3cdd8f[_0x2f1c10(0x3a4)]>_0x3cdd8f[_0x2f1c10(0x950)]){try{_0x3cdd8f['callback']();}catch(_0x3f05b7){}_0x3cdd8f[_0x2f1c10(0x3a4)]=Date['now']();}});},0x64);}static[_0x34a0aa(0x800)](){const _0x460cd6=_0x34a0aa;return _0xcf41ea['instance']||(_0xcf41ea[_0x460cd6(0x1cf)]=new _0xcf41ea()),_0xcf41ea[_0x460cd6(0x1cf)];}[_0x34a0aa(0x79a)](_0x361b33){const _0x3a5cb0=_0x34a0aa,_0x2b25fb=this[_0x3a5cb0(0x599)](_0x361b33),_0x4f6e61=_0x361b33[_0x3a5cb0(0x1bb)]();_0x4f6e61&&_0x2b25fb&&(_0x4f6e61[_0x3a5cb0(0x6ac)][_0x3a5cb0(0x706)]=0.001,_0x2b25fb[_0x3a5cb0(0xa48)](_0x4f6e61),_0x4f6e61['connect'](_0x361b33[_0x3a5cb0(0x58e)]),_0x2b25fb[_0x3a5cb0(0x9a5)]());}[_0x34a0aa(0xa40)](){const _0x1f23d0=_0x34a0aa;this[_0x1f23d0(0x4f0)]&&(this['source']['stop'](),this[_0x1f23d0(0x4f0)][_0x1f23d0(0x7ef)](),this['source']=void 0x0);}['wait'](_0x551473){return new Promise(_0x39bf4d=>{setTimeout(_0x39bf4d,_0x551473);});}[_0x34a0aa(0xa10)](_0x4c24f5,_0x66a935){const _0x322dc2=_0x34a0aa;return this[_0x322dc2(0x7f2)][_0x322dc2(0x32e)]({'callback':_0x4c24f5,'interval':_0x66a935,'lastExecuted':Date[_0x322dc2(0x517)]()}),()=>{const _0x5de153=_0x322dc2;this['parameters']=this[_0x5de153(0x7f2)][_0x5de153(0x285)](_0x351cc0=>_0x351cc0[_0x5de153(0x30a)]!==_0x4c24f5);};}[_0x34a0aa(0x599)](_0x5b26d1){const _0xd49547=_0x34a0aa;if(_0x5b26d1[_0xd49547(0x599)])return _0x5b26d1[_0xd49547(0x599)]();const _0x4e2df5=_0x5b26d1['createBufferSource'](),_0xfe1a38=_0x5b26d1[_0xd49547(0x390)](0x1,0x1,_0x5b26d1['sampleRate']);return _0xfe1a38['getChannelData'](0x0)[0x0]=0xa,_0x4e2df5[_0xd49547(0x3dc)]=_0xfe1a38,_0x4e2df5[_0xd49547(0x893)]=!0x0,_0x4e2df5;}}const _0x293ade=_0xcf41ea[_0x34a0aa(0x800)]();class _0x55867 extends _0x2fb140{[_0x34a0aa(0x972)]=_0x41e5d0();[_0x34a0aa(0x2a4)]=_0x41e5d0();[_0x34a0aa(0x699)]=_0x41e5d0();[_0x34a0aa(0x631)]=new Map();[_0x34a0aa(0x16d)]=new Map();[_0x34a0aa(0xa38)];[_0x34a0aa(0x204)]=0x0;[_0x34a0aa(0x7e8)]={'messages':{'total':0x0}};[_0x34a0aa(0x75a)]=0x0;[_0x34a0aa(0x5b6)]=0x0;[_0x34a0aa(0x8b6)]=_0xcb96bc(_0x34a0aa(0x198),_0x5d2ed2[_0x34a0aa(0x95a)]);['close'](){const _0x2f9171=_0x34a0aa;this[_0x2f9171(0x19b)](),this['receivers']['clear'](),super['close']();}async[_0x34a0aa(0x7ca)](_0x19a5dd,_0x3543dc){const _0x15d967=_0x34a0aa;this[_0x15d967(0x835)]=_0x3543dc,this[_0x15d967(0x19b)]();const _0x25003e=await this['connection']['createAnswer'](_0x19a5dd);this['processPendingHandshakeCandidates']();const _0x251858=(0x0,_0xa47bd4['v4'])();this[_0x15d967(0x84f)]({'type':_0x376bcb[_0x15d967(0x828)],'answer':_0x25003e,'version':_0x3543dc,'connectionType':this[_0x15d967(0x486)]},_0x251858),this[_0x15d967(0x486)]===_0x12973d[_0x15d967(0x3db)]&&(this[_0x15d967(0xa38)]=_0x293ade[_0x15d967(0xa10)](()=>{const _0x5263e8=_0x15d967;this[_0x5263e8(0x84f)]({'type':_0x376bcb[_0x5263e8(0x828)],'answer':_0x25003e,'version':_0x3543dc,'connectionType':this[_0x5263e8(0x486)]},_0x251858);},0x1388));}[_0x34a0aa(0x1e9)](){const _0x1914c0=_0x34a0aa;this[_0x1914c0(0x19b)]();}[_0x34a0aa(0x660)](_0x3bb20a){const _0x540653=_0x34a0aa;this[_0x540653(0x1e1)](_0x3bb20a),this[_0x540653(0x84f)]({'type':_0x376bcb[_0x540653(0x3ed)]});}async['collectStats'](){const _0x2afeda=_0x34a0aa;this[_0x2afeda(0x9b5)]&&(await this[_0x2afeda(0x7c1)]['collectReceiversStats'](this[_0x2afeda(0x631)],(_0x21a370,_0x37cae4)=>{const _0x2a9937=_0x2afeda;_0x2fd8b4({'type':_0x376bcb[_0x2a9937(0x992)],'streamId':_0x37cae4,'nodeId':this['remoteId'],'stats':_0x21a370},this[_0x2a9937(0x9b5)]);}),this[_0x2afeda(0x9b5)][_0x2afeda(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x2afeda(0x25b)],'content':{'type':_0x376bcb[_0x2afeda(0x992)],'nodeId':this[_0x2afeda(0x41a)],'stats':{'origin':_0x17021b['Receiver'],'timestamp':Date[_0x2afeda(0x517)](),'messagesReceived':this[_0x2afeda(0x204)],'bytesReceived':this[_0x2afeda(0x75a)],'timeReceiving':this[_0x2afeda(0x5b6)],'systemMessages':this[_0x2afeda(0x7e8)]}}}));}[_0x34a0aa(0x749)](_0x91575d){const _0x478d57=_0x34a0aa;return _0x37296e[_0x478d57(0x416)]?this['messageCallback'][_0x478d57(0x253)](_0x91575d):this[_0x478d57(0x972)][_0x478d57(0x253)](_0x10b6d6=>{const _0x244132=_0x478d57;0x0===_0x10b6d6[_0x244132(0x2a2)]&&_0x10b6d6[_0x244132(0x282)]===_0x174459[_0x244132(0x562)]&&this[_0x244132(0x8b6)][_0x244132(0x5ea)][_0x244132(0x6cb)](_0x244132(0x292)+this[_0x244132(0x41a)],()=>_0x1f0f91(_0x10b6d6)),_0x91575d(_0x10b6d6);});}[_0x34a0aa(0x73b)](_0x390773){const _0x41047b=_0x34a0aa;return this['trackCallback'][_0x41047b(0x253)](({track:_0x3b52a1,stream:_0x47fca9})=>_0x390773(_0x3b52a1,_0x47fca9));}[_0x34a0aa(0xa22)](_0x1d0fd3){const _0x8c3401=_0x34a0aa;return this[_0x8c3401(0x699)][_0x8c3401(0x253)](({track:_0x33c6c9,stream:_0x4ef55a})=>_0x1d0fd3(_0x33c6c9,_0x4ef55a));}['resetConnection'](_0x3d9962){const _0x215205=_0x34a0aa;this[_0x215205(0x19b)](),this[_0x215205(0x631)][_0x215205(0x66c)](_0x54b43a=>{const _0x1aca6f=_0x215205;_0x54b43a[_0x1aca6f(0x620)]();}),super['resetConnection'](_0x3d9962);}[_0x34a0aa(0x93d)](){const _0x2229ce=_0x34a0aa;this['publishSystemMessage']({'type':_0x376bcb[_0x2229ce(0x60f)],'candidates':this[_0x2229ce(0x461)],'origin':_0x17021b[_0x2229ce(0x5ca)],'version':this[_0x2229ce(0x835)],'connectionType':this[_0x2229ce(0x486)]});}[_0x34a0aa(0x847)](){const _0xacd75a=_0x34a0aa;super[_0xacd75a(0x847)](),this['connection'][_0xacd75a(0x73b)]=_0x2bc63a=>{const _0x4c8eff=_0xacd75a;_0x17dbc7['log'](_0x5d2ed2[_0x4c8eff(0x783)],_0x4c8eff(0x4c6),this[_0x4c8eff(0x411)][_0x4c8eff(0x3ad)](),_0x2bc63a),_0x2bc63a[_0x4c8eff(0x885)][0x0][_0x4c8eff(0x5db)]=_0x1b7b55=>{const _0x4f68d5=_0x4c8eff;this['receivers'][_0x4f68d5(0x56b)](_0x2bc63a[_0x4f68d5(0x885)][0x0]['id'])?.['delete'](_0x1b7b55[_0x4f68d5(0x6d0)]),0x0===this[_0x4f68d5(0x631)][_0x4f68d5(0x56b)](_0x2bc63a['streams'][0x0]['id'])?.[_0x4f68d5(0x57d)]&&this[_0x4f68d5(0x631)]['delete'](_0x2bc63a[_0x4f68d5(0x885)][0x0]['id']),this[_0x4f68d5(0x699)][_0x4f68d5(0x5c0)]({'track':_0x1b7b55['track'],'stream':_0x2bc63a['streams'][0x0]});},this['receivers']['has'](_0x2bc63a['streams'][0x0]['id'])||this[_0x4c8eff(0x631)]['set'](_0x2bc63a[_0x4c8eff(0x885)][0x0]['id'],new Set()),this[_0x4c8eff(0x631)][_0x4c8eff(0x56b)](_0x2bc63a[_0x4c8eff(0x885)][0x0]['id'])['add'](_0x2bc63a[_0x4c8eff(0x6d0)]),this[_0x4c8eff(0x2a4)]['publish']({'track':_0x2bc63a[_0x4c8eff(0x6d0)],'stream':_0x2bc63a[_0x4c8eff(0x885)][0x0]});},this[_0xacd75a(0x7c1)][_0xacd75a(0x3c6)]=_0xf4b456=>{const _0x2d2a54=_0xacd75a;this[_0x2d2a54(0x999)]=_0xf4b456[_0x2d2a54(0x569)],this[_0x2d2a54(0x999)][_0x2d2a54(0x749)]=_0x5dae91=>{const _0x269e61=_0x2d2a54;if(_0x5dae91[_0x269e61(0x1ad)]!==_0x4523f5)this['handleOnMessage'](_0x5dae91[_0x269e61(0x1ad)]);else{if(!this[_0x269e61(0x999)])return void _0x17dbc7[_0x269e61(0x165)]('missing-datachannel',{'clusterId':this['clusterId'],'nodeId':this[_0x269e61(0x411)][_0x269e61(0x3ad)](),'nodeType':this[_0x269e61(0x411)][_0x269e61(0x852)],'remoteId':this['remoteId'],'data':{'connection':_0x269e61(0x717)}});if('open'!==this[_0x269e61(0x999)][_0x269e61(0x7e1)])return;this[_0x269e61(0x999)][_0x269e61(0x92f)]('1');}};};}[_0x34a0aa(0x9e0)](_0x238ef5){const _0x484134=_0x34a0aa;if(_0x484134(0x6ce)==typeof _0x238ef5&&_0x238ef5[_0x484134(0x8fd)](_0x3a98b0))return this[_0x484134(0x204)]+=0x1,this['bytesReceived']+=_0x238ef5['length'],this[_0x484134(0x7fa)](_0x238ef5);setTimeout(()=>{const _0x57b8b8=_0x484134,_0x13119b=Date[_0x57b8b8(0x517)]();let _0x429692;if((_0x238ef5 instanceof ArrayBuffer||_0x238ef5[_0x57b8b8(0x831)]<=_0x1044b0)&&(this['messagesReceived']+=0x1,this[_0x57b8b8(0x75a)]+=_0x238ef5 instanceof ArrayBuffer?_0x238ef5[_0x57b8b8(0x402)]:_0x238ef5['length']),_0x238ef5 instanceof ArrayBuffer){const [_0x418497,_0x85b806]=this[_0x57b8b8(0x2fa)](_0x238ef5);_0x429692=_0x418497,_0x429692['content'][_0x57b8b8(0x1ad)]=_0x85b806;}else _0x429692=JSON[_0x57b8b8(0x4a0)](_0x238ef5);if(0x0===_0x429692[_0x57b8b8(0x2a2)]){this[_0x57b8b8(0x7e8)][_0x57b8b8(0x5bd)][_0x57b8b8(0x93a)]+=0x1;const {systemMessageType:_0x5a441f,systemContentMessageType:_0x14fe25}=_0x1f0f91(_0x429692);this['systemMessagesReceived'][_0x5a441f]||(this['systemMessagesReceived'][_0x5a441f]={[_0x14fe25]:0x0}),this[_0x57b8b8(0x7e8)][_0x5a441f][_0x14fe25]||(this['systemMessagesReceived'][_0x5a441f][_0x14fe25]=0x0),this['systemMessagesReceived'][_0x5a441f][_0x57b8b8(0x93a)]||(this[_0x57b8b8(0x7e8)][_0x5a441f][_0x57b8b8(0x93a)]=0x0),this[_0x57b8b8(0x7e8)][_0x5a441f][_0x14fe25]+=0x1,this[_0x57b8b8(0x7e8)][_0x5a441f][_0x57b8b8(0x93a)]+=0x1;}this[_0x57b8b8(0x972)]['publish'](_0x429692),this[_0x57b8b8(0x5b6)]+=Date[_0x57b8b8(0x517)]()-_0x13119b;},0x0);}[_0x34a0aa(0x7fa)](_0x366ced){const _0x51152b=_0x34a0aa,_0x29ec44=_0x366ced[_0x51152b(0x4bf)](';'),_0x8c79df=_0x29ec44[0x1],_0x1291e5=parseInt(_0x29ec44[0x2],0xa),_0x343ba8=parseInt(_0x29ec44[0x3],0xa),_0x31cd70=_0x366ced[_0x51152b(0x633)](_0x3a98b0+';'+_0x8c79df+';'+_0x1291e5+';'+_0x343ba8+';','');this[_0x51152b(0x16d)]['has'](_0x8c79df)||this[_0x51152b(0x16d)]['set'](_0x8c79df,[]);const _0x58ff66=this['chunks'][_0x51152b(0x56b)](_0x8c79df);_0x58ff66[_0x1291e5]=_0x31cd70,_0x58ff66['length']===_0x343ba8&&(this[_0x51152b(0x9e0)](_0x58ff66[_0x51152b(0x45b)]('')),this['chunks'][_0x51152b(0x9c4)](_0x8c79df));}[_0x34a0aa(0x19b)](){const _0x2af9a2=_0x34a0aa;this[_0x2af9a2(0xa38)]?.(),delete this[_0x2af9a2(0xa38)];}['arrayBufferToObject'](_0x511c61){const _0x5da4ae=_0x34a0aa,_0x593365=new TextDecoder()[_0x5da4ae(0x5e5)](_0x511c61);return JSON[_0x5da4ae(0x4a0)](_0x593365);}[_0x34a0aa(0x2fa)](_0x1de2ea){const _0x457dad=_0x34a0aa,_0x28476b=new Uint8Array(_0x1de2ea[_0x457dad(0x28b)](0x0,0x4)),_0x3659da=new Uint32Array(_0x28476b[_0x457dad(0x3dc)])[0x0],_0x3e496d=new Uint8Array(_0x1de2ea['slice'](0x4,0x4+_0x3659da)),_0x6fcd73=new Uint8Array(_0x1de2ea[_0x457dad(0x28b)](0x4+_0x3659da));return[this[_0x457dad(0x5b2)](_0x3e496d[_0x457dad(0x3dc)]),_0x6fcd73[_0x457dad(0x3dc)]];}}const _0x3f2e77=0xc350;var _0x4685fa,_0x590b6e;!function(_0x2fd9cb){const _0xe626fc=_0x34a0aa;_0x2fd9cb[_0x2fd9cb['High']=0x0]='High',_0x2fd9cb[_0x2fd9cb['Medium']=0x1]=_0xe626fc(0x94e),_0x2fd9cb[_0x2fd9cb['Low']=0x2]='Low';}(_0x4685fa||(_0x4685fa={}));class _0x4b5940 extends _0x2fb140{['maxFps'];['maxBpp'];[_0x34a0aa(0x343)]=new Map();['heartbeatUnsubscriber'];[_0x34a0aa(0x442)];[_0x34a0aa(0x679)];[_0x34a0aa(0x734)]=!0x1;[_0x34a0aa(0x6b3)];[_0x34a0aa(0x2a5)];[_0x34a0aa(0x2cb)];[_0x34a0aa(0x220)]=function(e,t=_0x4685fa,s=!0x1){const _0x132b7a=_0x34a0aa;let n=!0x1;const i=[];async function o(){const _0x487ae8=a0_0x1d5b;if(!n){for(n=!0x0;i[_0x487ae8(0x9bd)](e=>e[_0x487ae8(0x9ab)]);){let t,n=0x0;for(const [e,s]of i[_0x487ae8(0x595)]())if(t=s[_0x487ae8(0x179)](),n=e,t)break;if(t)try{if(e instanceof _0xc70130&&e[_0x487ae8(0x56f)](t),e instanceof _0x481085&&await e['call'](t),i[_0x487ae8(0x28b)](-0x1)[_0x487ae8(0x9bd)](e=>e[_0x487ae8(0x9ab)]))continue;const s=i[_0x487ae8(0x831)]-0x1;n===s&&i[s][_0x487ae8(0x9ab)]&&await _0x293ade[_0x487ae8(0x35b)](0x0);}catch(o){s?i[n][_0x487ae8(0x32e)](t,!0x1):i[n][_0x487ae8(0x4ba)](t,!0x1),await e['wait']();}}n=!0x1;}}return Object[_0x132b7a(0x8ec)](t)['forEach'](e=>{'string'!=typeof e&&(i[e]=_0x494a62(o));}),{'queues':i};}(new _0xc70130(this['sendAction'][_0x34a0aa(0xa1e)](this),this[_0x34a0aa(0x3fc)][_0x34a0aa(0xa1e)](this)));[_0x34a0aa(0x9b0)]=0x0;[_0x34a0aa(0x995)]=0x0;['timeSending']=0x0;[_0x34a0aa(0x516)]=0x0;['oncloseTimeout'];['loggingCycle']=_0xcb96bc(_0x34a0aa(0x24f),_0x5d2ed2[_0x34a0aa(0x782)]);constructor(_0x921352,_0x1bb2aa,_0x4b98ba,_0x127791,_0x35e8a2,_0x4488d5,_0xf9f417,_0x300f5e){const _0x3350f3=_0x34a0aa;super(_0x921352,_0x1bb2aa,_0x4b98ba,_0x127791,_0x35e8a2,_0x300f5e),this[_0x3350f3(0x30f)]=_0x4488d5,this[_0x3350f3(0x560)]=_0xf9f417;}[_0x34a0aa(0x39a)](){const _0x1e4f1b=_0x34a0aa;this[_0x1e4f1b(0x323)](),this[_0x1e4f1b(0x888)](),delete this['lastHeartbeat'],this[_0x1e4f1b(0x44a)](),this[_0x1e4f1b(0x8f2)](),this[_0x1e4f1b(0x4c1)](),this['senders'][_0x1e4f1b(0x620)](),this[_0x1e4f1b(0x734)]=!0x1,this[_0x1e4f1b(0x220)][_0x1e4f1b(0x243)][_0x1e4f1b(0x66c)](_0x1eb7e6=>_0x1eb7e6['clear']()),this[_0x1e4f1b(0x99c)](),super[_0x1e4f1b(0x39a)]();}[_0x34a0aa(0x18b)](){const _0x15e33e=_0x34a0aa;return!!this[_0x15e33e(0x679)]&&super[_0x15e33e(0x18b)]()&&Date[_0x15e33e(0x517)]()-this[_0x15e33e(0x679)]<0x3a98;}async['collectStats'](){const _0x4fdc74=_0x34a0aa;this[_0x4fdc74(0x9b5)]&&(await this[_0x4fdc74(0x7c1)]['collectSendersStats'](this[_0x4fdc74(0x343)],(_0x12569a,_0x428332)=>{const _0xcc3ae1=_0x4fdc74;_0x2fd8b4({'type':_0x376bcb['Stats'],'streamId':_0x428332,'nodeId':this[_0xcc3ae1(0x41a)],'stats':_0x12569a},this[_0xcc3ae1(0x9b5)]);}),this[_0x4fdc74(0x9b5)][_0x4fdc74(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x4fdc74(0x25b)],'content':{'type':_0x376bcb[_0x4fdc74(0x992)],'nodeId':this[_0x4fdc74(0x41a)],'stats':{'origin':_0x17021b['Sender'],'timestamp':Date['now'](),'messagesSent':this[_0x4fdc74(0x9b0)],'bytesSent':this['bytesSent'],'timeSending':this['timeSending'],'roundTripTime':this[_0x4fdc74(0x516)]}}}));}async['createOffer'](_0x1bdbc7){const _0x194389=_0x34a0aa;_0x17dbc7['log'](_0x5d2ed2[_0x194389(0x783)],'CrewdleSenderConnection\x20createOffer',this['localNode'][_0x194389(0x3ad)](),this[_0x194389(0x41a)]),this[_0x194389(0x44a)](),this[_0x194389(0x8f2)](),this[_0x194389(0x4c1)](),this[_0x194389(0x6b3)]=setTimeout(()=>{const _0x288106=_0x194389;this[_0x288106(0x394)]();},0x7530),this['dataChannel']||(this['dataChannel']=this[_0x194389(0x7c1)][_0x194389(0x5a0)](_0x194389(0x1ad)),this[_0x194389(0x999)]['bufferedAmountLowThreshold']=_0x1d69dc,this['dataChannel'][_0x194389(0x771)]=()=>{const _0x3baeb6=_0x194389;this[_0x3baeb6(0x276)]=setTimeout(()=>{const _0x46f939=_0x3baeb6;delete this['oncloseTimeout'],[_0x46f939(0x71b),_0x46f939(0x8f9)][_0x46f939(0x25d)](this['dataChannel']?.[_0x46f939(0x7e1)]??'')||this[_0x46f939(0x394)]();},0xfa);});const _0x51cc9a=await this[_0x194389(0x7c1)]['createOffer'](_0x1bdbc7);this[_0x194389(0x679)]||(this['lastHeartbeat']=Date[_0x194389(0x517)]());const _0x5caf75=(0x0,_0xa47bd4['v4'])();this[_0x194389(0x84f)]({'type':_0x376bcb['Offer'],'offer':_0x51cc9a,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x5caf75),this[_0x194389(0x486)]===_0x12973d[_0x194389(0x3db)]&&(this['waitAnswer']=_0x293ade[_0x194389(0xa10)](()=>{const _0x6419cb=_0x194389;this['publishSystemMessage']({'type':_0x376bcb[_0x6419cb(0xa3b)],'offer':_0x51cc9a,'version':this['currentVersion'],'connectionType':this[_0x6419cb(0x486)]},_0x5caf75);},0x1388));}async[_0x34a0aa(0x3f8)](_0x2685b2,_0x28247b){const _0x810275=_0x34a0aa;if(_0x28247b===this['currentVersion']){this[_0x810275(0x4c1)]();try{await this[_0x810275(0x7c1)][_0x810275(0x3f8)](_0x2685b2,this['createOffer'][_0x810275(0xa1e)](this)),this['processPendingHandshakeCandidates'](),this[_0x810275(0x8f2)](),this[_0x810275(0x586)]();}catch(_0x25b5e7){this[_0x810275(0x394)]();}}}[_0x34a0aa(0x92f)](_0x49b230){const _0x41b475=_0x34a0aa;if(!this[_0x41b475(0x999)])throw new _0x4e89dd(_0x4e89dd['codes'][_0x41b475(0xa4a)],{'message':_0x41b475(0xa1d),'localId':this['localNode']['getId'](),'remoteId':this[_0x41b475(0x41a)],'eventMessage':_0x49b230});if(_0x41b475(0x8f9)!==this[_0x41b475(0x999)][_0x41b475(0x7e1)])throw new _0x4e89dd(_0x4e89dd[_0x41b475(0x4ea)][_0x41b475(0xa4a)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x41b475(0x411)][_0x41b475(0x3ad)](),'remoteId':this[_0x41b475(0x41a)],'eventMessage':_0x49b230});let _0x16878d;if(_0x49b230['content']['data']instanceof ArrayBuffer){const _0xbbf655=_0x49b230['content']['data'];_0x49b230={..._0x49b230,'content':{..._0x49b230['content'],'data':void 0x0}},_0x16878d=this[_0x41b475(0x869)](_0x49b230,_0xbbf655);}else _0x16878d=JSON[_0x41b475(0xa4f)](_0x49b230);if(_0x41b475(0x6ce)==typeof _0x16878d&&_0x16878d['length']>_0x1044b0)return this['sendChunked'](_0x49b230,_0x16878d);0x0===_0x49b230[_0x41b475(0x2a2)]&&_0x49b230[_0x41b475(0x282)]===_0x174459[_0x41b475(0x562)]&&this[_0x41b475(0x8b6)][_0x41b475(0x5ea)][_0x41b475(0x764)](()=>_0x17dbc7[_0x41b475(0x6cb)](_0x5d2ed2['SenderSendMessage'],_0x41b475(0x801),this['remoteId'],_0x1f0f91(_0x49b230)),void 0x0);const _0x2084da=0x0===_0x49b230['topicLabel']&&[_0x174459[_0x41b475(0x4e5)],_0x174459[_0x41b475(0x25b)]][_0x41b475(0x25d)](_0x49b230[_0x41b475(0x282)])?_0x4685fa['High']:_0x49b230 instanceof ArrayBuffer?_0x4685fa['Low']:_0x4685fa['Medium'];this[_0x41b475(0x670)](_0x16878d,_0x2084da);}[_0x34a0aa(0x3fe)](_0x11932c,_0x327d52,_0x5103d2,_0x5b635c){const _0x166169=_0x34a0aa,_0x4a0c05=(_0x58a477=this[_0x166169(0x30f)],_0x46f7a5=this[_0x166169(0x560)],Math[_0x166169(0x82e)](0xe1000*_0x58a477*_0x46f7a5));var _0x58a477,_0x46f7a5;const _0xf8299d=this['senders'][_0x166169(0x56b)](_0x327d52['id'])||{'stream':_0x327d52,'priority':_0x5103d2,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x4a0c05,'maxBitrate':_0x4a0c05,'framerate':this[_0x166169(0x30f)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x5b635c},_0x52c838=_0xf8299d[_0x166169(0x53c)][_0x11932c[_0x166169(0x6ea)]]||{'track':_0x11932c};if(_0x52c838[_0x166169(0x482)]?(_0x52c838[_0x166169(0x6d0)]=_0x11932c,this['connection']['replaceTrack'](_0x11932c,_0x52c838['sender'])):_0x52c838[_0x166169(0x482)]=this[_0x166169(0x7c1)]['addTrack'](_0x11932c,_0x327d52),_0xf8299d[_0x166169(0x53c)][_0x11932c['kind']]=_0x52c838,_0x5b635c&&(_0xf8299d[_0x166169(0x78e)]=_0x5b635c),_0x5b635c&&'video'===_0x5b635c[_0x166169(0x6ea)]&&_0x5b635c[_0x166169(0x67a)]&&_0x5b635c['maxResolution']&&(_0xf8299d[_0x166169(0x7a3)]=this[_0x166169(0x81f)](_0x5b635c[_0x166169(0x67a)],_0x5b635c['maxResolution']),_0xf8299d[_0x166169(0x169)]=_0xf8299d[_0x166169(0x7a3)],_0xf8299d[_0x166169(0x53c)]['video']&&_0xf8299d[_0x166169(0x53c)][_0x166169(0x827)][_0x166169(0x482)])){const _0x155c1c=_0xf8299d[_0x166169(0x53c)][_0x166169(0x827)][_0x166169(0x482)];this[_0x166169(0x7c1)][_0x166169(0x86a)](_0x155c1c,Math[_0x166169(0x82e)](0xa*_0xf8299d[_0x166169(0x7a3)])/0xa,_0xf8299d[_0x166169(0x733)],_0xf8299d[_0x166169(0x4c5)],_0xf8299d[_0x166169(0x820)]);}this[_0x166169(0x343)][_0x166169(0x286)](_0x327d52['id'],_0xf8299d);}[_0x34a0aa(0x17c)](_0x1ec433,_0x3c1282){const _0x2ec1cf=_0x34a0aa,_0x49ea54=this[_0x2ec1cf(0x343)][_0x2ec1cf(0x56b)](_0x1ec433['id']);if(_0x49ea54&&_0x49ea54[_0x2ec1cf(0x820)]!==_0x3c1282&&(_0x49ea54[_0x2ec1cf(0x820)]=_0x3c1282,_0x49ea54[_0x2ec1cf(0x53c)][_0x2ec1cf(0x827)]&&_0x49ea54[_0x2ec1cf(0x53c)][_0x2ec1cf(0x827)][_0x2ec1cf(0x482)])){const _0xa066f8=_0x49ea54[_0x2ec1cf(0x53c)][_0x2ec1cf(0x827)][_0x2ec1cf(0x482)];this[_0x2ec1cf(0x7c1)][_0x2ec1cf(0x86a)](_0xa066f8,Math[_0x2ec1cf(0x82e)](0xa*_0x49ea54[_0x2ec1cf(0x7a3)])/0xa,_0x49ea54['framerate'],_0x49ea54[_0x2ec1cf(0x4c5)],_0x49ea54[_0x2ec1cf(0x820)]);}}[_0x34a0aa(0x838)](_0x2d6d09,_0x2791b8){const _0x562d78=_0x34a0aa,_0x5e9e09=this['senders'][_0x562d78(0x56b)](_0x2d6d09['id']);if(_0x5e9e09){if(_0x5e9e09[_0x562d78(0x78e)]=_0x2791b8,_0x2791b8&&_0x562d78(0x827)===_0x2791b8[_0x562d78(0x6ea)]&&_0x2791b8[_0x562d78(0x67a)]&&_0x2791b8[_0x562d78(0x4de)]){if(_0x5e9e09[_0x562d78(0x169)]=this[_0x562d78(0x81f)](_0x2791b8['resolution'],_0x2791b8['maxResolution']),_0x5e9e09['resolutionScale']<_0x5e9e09[_0x562d78(0x169)]&&(_0x5e9e09[_0x562d78(0x7a3)]=_0x5e9e09[_0x562d78(0x169)]),_0x5e9e09[_0x562d78(0x53c)][_0x562d78(0x827)]&&_0x5e9e09[_0x562d78(0x53c)][_0x562d78(0x827)][_0x562d78(0x482)]){const _0x48671a=_0x5e9e09['tracks'][_0x562d78(0x827)]['sender'];this['connection'][_0x562d78(0x86a)](_0x48671a,Math[_0x562d78(0x82e)](0xa*_0x5e9e09['resolutionScale'])/0xa,_0x5e9e09[_0x562d78(0x733)],_0x5e9e09[_0x562d78(0x4c5)],_0x5e9e09[_0x562d78(0x820)]);}this[_0x562d78(0x323)](),this[_0x562d78(0x2dd)]();}this['senders']['set'](_0x2d6d09['id'],_0x5e9e09);}}[_0x34a0aa(0x2f8)](_0x4bb2c7,_0x3e670){const _0x4e38d6=_0x34a0aa,_0x268349=this[_0x4e38d6(0x343)][_0x4e38d6(0x56b)](_0x3e670['id']);if(_0x268349){const _0x5c349a=_0x268349[_0x4e38d6(0x53c)][_0x4bb2c7[_0x4e38d6(0x6ea)]];_0x5c349a&&(_0x5c349a[_0x4e38d6(0x482)]&&this[_0x4e38d6(0x7c1)][_0x4e38d6(0x2f8)](_0x5c349a[_0x4e38d6(0x482)]),_0x5c349a[_0x4e38d6(0x6d0)]=void 0x0);}}[_0x34a0aa(0x9c5)](_0x2857f){const _0x25438a=_0x34a0aa;this[_0x25438a(0x323)]();const _0x55d331=function(_0x53c7cf,_0x4ba174){const _0xd5a3f6=_0x25438a;return _0x53c7cf['sort']((_0x5fb0a2,_0x587c6b)=>_0x4ba174[_0xd5a3f6(0x379)]===_0x8df199[_0xd5a3f6(0x2ac)]?_0x587c6b['priority']-_0x5fb0a2[_0xd5a3f6(0x820)]:_0x5fb0a2[_0xd5a3f6(0x820)]-_0x587c6b[_0xd5a3f6(0x820)])[_0xd5a3f6(0x3f0)](_0x41cfde=>function(_0x24d227,_0x1fe428){const _0xd0363e=_0xd5a3f6;if(_0x1fe428[_0xd0363e(0x379)]===_0x8df199[_0xd0363e(0x2ac)]){if(_0x1fe428[_0xd0363e(0x864)]===_0x17629b['Resolution'])return _0x24d227['resolutionScale']<0x4||_0x24d227['maxFramerate']>0xf;if(_0x1fe428[_0xd0363e(0x864)]===_0x17629b['Bitrate'])return _0x24d227[_0xd0363e(0x617)]>_0x3f2e77;}return _0x24d227[_0xd0363e(0x7a3)]>_0x24d227[_0xd0363e(0x169)]||_0x24d227[_0xd0363e(0x733)]<_0x24d227[_0xd0363e(0x793)]||_0x24d227[_0xd0363e(0x4c5)]<_0x24d227['maxBitrate'];}(_0x41cfde,_0x4ba174));}(Array[_0x25438a(0x856)](this[_0x25438a(0x343)][_0x25438a(0x8ec)]()),_0x2857f);if(_0x55d331&&(function(_0x10f820,_0x37c1c9){const _0x18b08b=_0x25438a;_0x10f820[_0x18b08b(0x53c)]['video']&&_0x10f820[_0x18b08b(0x53c)]['video'][_0x18b08b(0x482)]&&(_0x10f820[_0x18b08b(0x7a3)]=function(_0x5265f7,_0x393e0c,_0x7c07ed){const _0x5a9563=_0x18b08b;switch(_0x7c07ed[_0x5a9563(0x379)]){case _0x8df199['Downgrade']:_0x7c07ed[_0x5a9563(0x864)]===_0x17629b[_0x5a9563(0x431)]&&(_0x5265f7+=0.5)>0x4&&(_0x5265f7=0x4);break;case _0x8df199[_0x5a9563(0x5a1)]:(_0x5265f7-=0.5)<_0x393e0c&&(_0x5265f7=_0x393e0c);}return _0x5265f7;}(_0x10f820['resolutionScale'],_0x10f820[_0x18b08b(0x169)],_0x37c1c9),_0x10f820['framerate']=function(_0x5a4954,_0x2e77ab,_0x2f1492){const _0x28ba25=_0x18b08b;switch(_0x2f1492[_0x28ba25(0x379)]){case _0x8df199[_0x28ba25(0x2ac)]:_0x2f1492[_0x28ba25(0x864)]===_0x17629b['Resolution']&&(_0x5a4954-=0x3)<0xf&&(_0x5a4954=0xf);break;case _0x8df199[_0x28ba25(0x5a1)]:(_0x5a4954+=0x3)>_0x2e77ab&&(_0x5a4954=_0x2e77ab);}return _0x5a4954;}(_0x10f820[_0x18b08b(0x733)],_0x10f820['maxFramerate'],_0x37c1c9),_0x10f820['bitrate']=function(_0x5eab23,_0x27329a,_0x31d2aa){const _0xe30508=_0x18b08b;switch(_0x31d2aa[_0xe30508(0x379)]){case _0x8df199[_0xe30508(0x2ac)]:_0x31d2aa[_0xe30508(0x864)]===_0x17629b[_0xe30508(0x981)]&&(_0x5eab23*=0.75)<_0x3f2e77&&(_0x5eab23=_0x3f2e77);break;case _0x8df199['Upgrade']:(_0x5eab23*=1.25)>_0x27329a&&(_0x5eab23=_0x27329a);}return _0x5eab23;}(_0x10f820[_0x18b08b(0x4c5)],_0x10f820[_0x18b08b(0x617)],_0x37c1c9));}(_0x55d331,_0x2857f),_0x55d331[_0x25438a(0x53c)][_0x25438a(0x827)]&&_0x55d331[_0x25438a(0x53c)]['video']['sender'])){const _0x51a1a0=_0x55d331[_0x25438a(0x53c)][_0x25438a(0x827)][_0x25438a(0x482)];this[_0x25438a(0x7c1)][_0x25438a(0x86a)](_0x51a1a0,Math[_0x25438a(0x82e)](0xa*_0x55d331['resolutionScale'])/0xa,_0x55d331['framerate'],_0x55d331['bitrate'],_0x55d331[_0x25438a(0x820)]);}(_0x55d331||_0x2857f[_0x25438a(0x379)]===_0x8df199[_0x25438a(0x2ac)])&&this[_0x25438a(0x2dd)]();}['calculateArrayBufferSize'](){const _0x3e19f0=_0x34a0aa;return this['retryQueue'][_0x3e19f0(0x243)][_0x3e19f0(0x25c)]((_0x4168a1,_0x3a92d1)=>_0x4168a1+_0x3a92d1[_0x3e19f0(0x57d)],0x0)*_0x33c5a5;}[_0x34a0aa(0x645)](){const _0x2ce087=_0x34a0aa;return this[_0x2ce087(0x999)]?.['bufferedAmount']??0x0;}[_0x34a0aa(0x1e1)](){const _0x184746=_0x34a0aa;super[_0x184746(0x1e1)](),this[_0x184746(0x99c)](),this['clearWaitAnswer'](),this['senders'][_0x184746(0x66c)](_0x3937ee=>{const _0x21ca05=_0x184746;_0x3937ee[_0x21ca05(0x53c)][_0x21ca05(0x827)]&&(_0x3937ee['tracks'][_0x21ca05(0x827)][_0x21ca05(0x482)]=void 0x0),_0x3937ee['tracks']['audio']&&(_0x3937ee[_0x21ca05(0x53c)][_0x21ca05(0x9d3)][_0x21ca05(0x482)]=void 0x0);}),this[_0x184746(0x734)]=!0x0;}async[_0x34a0aa(0x3fc)](){return new Promise(async _0x87c4ab=>{const _0x46a72a=a0_0x1d5b;if(!this['dataChannel']||_0x46a72a(0x8f9)!==this['dataChannel'][_0x46a72a(0x7e1)])return await _0x293ade['wait'](0x64),void _0x87c4ab();this[_0x46a72a(0x999)][_0x46a72a(0x5f5)]<_0x1d69dc?_0x87c4ab():this[_0x46a72a(0x999)][_0x46a72a(0x30e)]=()=>{const _0x7fb1b2=_0x46a72a;this[_0x7fb1b2(0x999)]&&(this[_0x7fb1b2(0x999)]['onBufferedAmountLow']=null),_0x87c4ab();};});}[_0x34a0aa(0x986)](_0x227b01,_0x544cd4){const _0x374263=_0x34a0aa,_0x599051=[];for(let _0x56d90d=0x0;_0x56d90d<_0x544cd4[_0x374263(0x831)];_0x56d90d+=_0x1044b0)_0x599051[_0x374263(0x32e)](_0x544cd4[_0x374263(0x28b)](_0x56d90d,_0x56d90d+_0x1044b0));for(const _0xea0143 of _0x599051)this[_0x374263(0x670)](_0x3a98b0+';'+_0x227b01['uuid']+';'+_0x599051['indexOf'](_0xea0143)+';'+_0x599051['length']+';'+_0xea0143,_0x4685fa[_0x374263(0x865)]);}async[_0x34a0aa(0x670)](_0x2aff45,_0x27b03e){const _0x491c9a=_0x34a0aa;_0x2aff45===_0x4523f5?this['retryQueue'][_0x491c9a(0x243)][_0x27b03e][_0x491c9a(0x9ab)]?.['value']!==_0x4523f5&&this[_0x491c9a(0x220)][_0x491c9a(0x243)][_0x27b03e][_0x491c9a(0x4ba)](_0x2aff45):this[_0x491c9a(0x220)]['queues'][_0x27b03e][_0x491c9a(0x32e)](_0x2aff45);}[_0x34a0aa(0x3a3)](_0x25a3cc){const _0x3ace0d=_0x34a0aa;if(!this['dataChannel']||_0x3ace0d(0x8f9)!==this[_0x3ace0d(0x999)]['state'])throw new Error(_0x3ace0d(0x73c));if(this['dataChannel'][_0x3ace0d(0x5f5)]>=0xbe8000)throw new Error(_0x3ace0d(0x28a));const _0x2059fe=Date[_0x3ace0d(0x517)]();_0x25a3cc!==_0x4523f5&&(this[_0x3ace0d(0x9b0)]+=0x1,this[_0x3ace0d(0x995)]+=_0x25a3cc instanceof ArrayBuffer?_0x25a3cc[_0x3ace0d(0x402)]:_0x25a3cc[_0x3ace0d(0x831)]),ArrayBuffer,this['dataChannel'][_0x3ace0d(0x92f)](_0x25a3cc),this[_0x3ace0d(0x185)]+=Date[_0x3ace0d(0x517)]()-_0x2059fe;}[_0x34a0aa(0x586)](){const _0x52cc43=_0x34a0aa;this[_0x52cc43(0x944)]&&this['clearHeartbeat']();let _0x5e3373=!0x0,_0x382bdc=Date[_0x52cc43(0x517)]();this['lastHeartbeat']=Date['now'](),this[_0x52cc43(0x999)][_0x52cc43(0x749)]=_0x3fd186=>{const _0x40ee2d=_0x52cc43;'1'===_0x3fd186[_0x40ee2d(0x1ad)]&&(this[_0x40ee2d(0x516)]=Date[_0x40ee2d(0x517)]()-_0x382bdc,_0x5e3373&&this['publishSystemMessage']({'type':_0x376bcb[_0x40ee2d(0x6a4)]}),_0x5e3373=!0x1,this[_0x40ee2d(0x679)]=Date[_0x40ee2d(0x517)](),this[_0x40ee2d(0x734)]&&(this[_0x40ee2d(0x734)]=!0x1,this[_0x40ee2d(0x656)]()));},this[_0x52cc43(0x944)]=_0x293ade[_0x52cc43(0xa10)](()=>{const _0x147314=_0x52cc43;_0x382bdc=Date[_0x147314(0x517)](),this[_0x147314(0x670)](_0x4523f5,_0x4685fa['High']),Date[_0x147314(0x517)]()-this['lastHeartbeat']>(_0x5e3373?0x15f90:0x3a98)&&this[_0x147314(0x394)]();},0xbb8);}['handleMissingSenders'](){const _0x55da5c=_0x34a0aa;this['senders'][_0x55da5c(0x66c)](_0x4f0e2a=>{const _0x18e6a8=_0x55da5c;_0x4f0e2a['tracks'][_0x18e6a8(0x827)]&&_0x4f0e2a[_0x18e6a8(0x53c)][_0x18e6a8(0x827)][_0x18e6a8(0x6d0)]&&!_0x4f0e2a[_0x18e6a8(0x53c)][_0x18e6a8(0x827)][_0x18e6a8(0x482)]&&(_0x4f0e2a[_0x18e6a8(0x53c)][_0x18e6a8(0x827)][_0x18e6a8(0x482)]=this['connection'][_0x18e6a8(0x3fe)](_0x4f0e2a['tracks'][_0x18e6a8(0x827)][_0x18e6a8(0x6d0)],_0x4f0e2a['stream'])),_0x4f0e2a[_0x18e6a8(0x53c)][_0x18e6a8(0x9d3)]&&_0x4f0e2a[_0x18e6a8(0x53c)][_0x18e6a8(0x9d3)][_0x18e6a8(0x6d0)]&&!_0x4f0e2a[_0x18e6a8(0x53c)][_0x18e6a8(0x9d3)][_0x18e6a8(0x482)]&&(_0x4f0e2a[_0x18e6a8(0x53c)][_0x18e6a8(0x9d3)][_0x18e6a8(0x482)]=this[_0x18e6a8(0x7c1)]['addTrack'](_0x4f0e2a[_0x18e6a8(0x53c)][_0x18e6a8(0x9d3)][_0x18e6a8(0x6d0)],_0x4f0e2a['stream']));});}[_0x34a0aa(0x93d)](){const _0x249344=_0x34a0aa;this[_0x249344(0x84f)]({'type':_0x376bcb[_0x249344(0x60f)],'candidates':this[_0x249344(0x461)],'origin':_0x17021b[_0x249344(0x80e)],'version':this['currentVersion'],'connectionType':this['connectionType']});}['setupConnectionEvents'](){const _0x195c8e=_0x34a0aa;super[_0x195c8e(0x847)](),this[_0x195c8e(0x7c1)]['onHandshakeStateChange']=()=>{const _0x38afc5=_0x195c8e;if(_0x38afc5(0x625)===this[_0x38afc5(0x7c1)][_0x38afc5(0x880)]){_0x17dbc7[_0x38afc5(0x6cb)](_0x5d2ed2[_0x38afc5(0x316)],_0x38afc5(0x3bc),this[_0x38afc5(0x411)]['getId'](),this[_0x38afc5(0x41a)]);try{if(this[_0x38afc5(0x7c1)][_0x38afc5(0x8b9)])return void this['connection']['restartHandshake']();}catch(_0x18a67d){}this[_0x38afc5(0x1b9)]({'handshakeRestart':!0x0});}},this[_0x195c8e(0x7c1)][_0x195c8e(0x691)]=()=>{const _0x12041b=_0x195c8e;_0x12041b(0x1c7)!==this[_0x12041b(0x7c1)][_0x12041b(0x843)]&&_0x12041b(0x625)!==this[_0x12041b(0x7c1)][_0x12041b(0x843)]||this['handleDisconnect']();};}[_0x34a0aa(0x394)](){const _0x3e7d15=_0x34a0aa;this['clearHeartbeat'](),this[_0x3e7d15(0x44a)](),this['clearConnectionTimeout'](),_0x17dbc7[_0x3e7d15(0x701)](_0x3e7d15(0x7ef),{'clusterId':this[_0x3e7d15(0x222)],'nodeId':this[_0x3e7d15(0x411)]['getId'](),'nodeType':this[_0x3e7d15(0x411)][_0x3e7d15(0x852)],'remoteId':this[_0x3e7d15(0x41a)],'data':{'connectionType':this[_0x3e7d15(0x486)],'connectionState':this[_0x3e7d15(0x7c1)][_0x3e7d15(0x843)],'iceConnectionState':this[_0x3e7d15(0x7c1)][_0x3e7d15(0x880)],'signalingState':this[_0x3e7d15(0x7c1)]['signalingState'],'readyState':this[_0x3e7d15(0x999)]?.[_0x3e7d15(0x7e1)]||'','lastHeartbeat':this[_0x3e7d15(0x679)]?Date[_0x3e7d15(0x517)]()-this['lastHeartbeat']:'','retryQueue':this[_0x3e7d15(0x220)]}}),(this[_0x3e7d15(0x679)]&&Date[_0x3e7d15(0x517)]()-this[_0x3e7d15(0x679)]>0xea60)??0x1?this[_0x3e7d15(0x9b5)]['publish']({'sourceId':this['remoteId'],'destinationIds':[this['localNode']['getId']()],'messageType':_0x174459[_0x3e7d15(0x25b)],'content':{'type':_0x376bcb[_0x3e7d15(0x231)]}}):(this[_0x3e7d15(0x1e1)](),this[_0x3e7d15(0x84f)]({'type':_0x376bcb[_0x3e7d15(0x9f8)],'version':this['currentVersion'],'connectionType':this['connectionType']}),this[_0x3e7d15(0x2a5)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0x34a0aa(0x888)](){const _0x4a9bd7=_0x34a0aa;this['heartbeatUnsubscriber']?.(),delete this[_0x4a9bd7(0x944)];}['clearConnectionTimeout'](){const _0x4f2357=_0x34a0aa;this[_0x4f2357(0x6b3)]&&(clearTimeout(this[_0x4f2357(0x6b3)]),delete this['connectionTimeout']);}[_0x34a0aa(0x44a)](){const _0x2e1817=_0x34a0aa;this['restartTimeout']&&(clearTimeout(this[_0x2e1817(0x2a5)]),delete this[_0x2e1817(0x2a5)]);}['clearUpgradeTimeout'](){const _0x4eb31d=_0x34a0aa;this['upgradeTimeout']&&(clearTimeout(this['upgradeTimeout']),delete this[_0x4eb31d(0x2cb)]);}[_0x34a0aa(0x2dd)](){this['upgradeTimeout']=setTimeout(()=>{const _0x292bb4=a0_0x1d5b;this[_0x292bb4(0x9c5)]({'type':_0x525d63[_0x292bb4(0x785)],'action':_0x8df199[_0x292bb4(0x5a1)]});},0x3a98);}[_0x34a0aa(0x81f)](_0x4180ab,_0x53f10d){const _0x481f7c=_0x34a0aa,_0x3b26b8=Math[_0x481f7c(0x6a6)](_0x4180ab['width']/_0x53f10d[_0x481f7c(0x659)],_0x4180ab['height']/_0x53f10d[_0x481f7c(0x5fa)]);return Math[_0x481f7c(0x498)](Math['max'](_0x3b26b8,0x1),0x4);}[_0x34a0aa(0x4c1)](){const _0x5ad309=_0x34a0aa;this[_0x5ad309(0x442)]?.(),delete this[_0x5ad309(0x442)];}['clearOncloseTimeout'](){const _0x50fc7a=_0x34a0aa;this[_0x50fc7a(0x276)]&&(clearTimeout(this[_0x50fc7a(0x276)]),delete this[_0x50fc7a(0x276)]);}['objectToArrayBuffer'](_0x34e275){const _0x582132=_0x34a0aa,_0x5e3ea3=JSON[_0x582132(0xa4f)](_0x34e275);return new TextEncoder()[_0x582132(0x7e3)](_0x5e3ea3)[_0x582132(0x3dc)];}['mergeParts'](_0x983d3c,_0x1a4fbe){const _0x43def7=_0x34a0aa,_0x1c9c2b=this[_0x43def7(0x364)](_0x983d3c),_0x37bd2a=new Uint8Array(0x4),_0x579aaf=new Uint8Array(_0x1c9c2b),_0x5eadeb=new Uint8Array(_0x1a4fbe);_0x37bd2a[_0x43def7(0x286)](new Uint8Array(new Uint32Array([_0x579aaf[_0x43def7(0x831)]])[_0x43def7(0x3dc)]));const _0x2be972=new Uint8Array(0x4+_0x579aaf['length']+_0x5eadeb['length']);return _0x2be972[_0x43def7(0x286)](_0x37bd2a),_0x2be972[_0x43def7(0x286)](_0x579aaf,0x4),_0x2be972[_0x43def7(0x286)](_0x5eadeb,0x4+_0x579aaf[_0x43def7(0x831)]),_0x2be972['buffer'];}}class _0x92a2cc extends _0x53253d{[_0x34a0aa(0x519)];['connectionType'];[_0x34a0aa(0x30f)];['maxBpp'];['connectionConstructor'];[_0x34a0aa(0xa07)];[_0x34a0aa(0x273)];[_0x34a0aa(0x17a)]=[];[_0x34a0aa(0x86b)]=_0x5a3b06();['trackListeners']=_0x5a3b06();[_0x34a0aa(0x34c)]=_0x5a3b06();[_0x34a0aa(0x593)]=[];[_0x34a0aa(0x9b5)];[_0x34a0aa(0x591)]=new Map();['dataUnsubscribers']=new Map();[_0x34a0aa(0x8e0)]=new Map();[_0x34a0aa(0x23c)]=new Map();[_0x34a0aa(0xa1b)]=!0x1;constructor(_0x385791,_0x465f9c,_0x28e281,_0x9ea8a2,_0x17ca78,_0x3a605c,_0x5bd936,_0x25e7fc){const _0x3a1d1e=_0x34a0aa;super(_0x385791,_0x465f9c,_0x28e281),this[_0x3a1d1e(0x519)]=_0x9ea8a2,this[_0x3a1d1e(0x486)]=_0x17ca78,this[_0x3a1d1e(0x30f)]=_0x3a605c,this[_0x3a1d1e(0x560)]=_0x5bd936,this[_0x3a1d1e(0x184)]=_0x25e7fc;}['registerPublisher'](_0x10830d){const _0x6c7c7b=_0x34a0aa;switch(_0x10830d[_0x6c7c7b(0x561)]()){case _0xb78473['ContentType'][_0x6c7c7b(0x6a7)]:case _0xb78473[_0x6c7c7b(0x1b6)]['PubSub']:case _0xb78473['ContentType'][_0x6c7c7b(0x7c5)]:case _0xb78473[_0x6c7c7b(0x1b6)][_0x6c7c7b(0x481)]:case _0xb78473[_0x6c7c7b(0x1b6)][_0x6c7c7b(0x1f8)]:case _0xb78473[_0x6c7c7b(0x1b6)][_0x6c7c7b(0x42e)]:case _0xb78473['ContentType'][_0x6c7c7b(0x881)]:case _0xb78473[_0x6c7c7b(0x1b6)][_0x6c7c7b(0x46b)]:this['dataTopics'][_0x6c7c7b(0x286)](_0x10830d[_0x6c7c7b(0x35a)](),_0x10830d);break;case _0xb78473[_0x6c7c7b(0x1b6)]['Media']:this['mediaTopics']['set'](_0x10830d[_0x6c7c7b(0x35a)](),_0x10830d);}}[_0x34a0aa(0x8d7)](_0x332b4d){const _0xa77ae3=_0x34a0aa;switch(_0x332b4d[_0xa77ae3(0x561)]()){case _0xb78473[_0xa77ae3(0x1b6)][_0xa77ae3(0x6a7)]:case _0xb78473[_0xa77ae3(0x1b6)][_0xa77ae3(0x421)]:case _0xb78473[_0xa77ae3(0x1b6)][_0xa77ae3(0x7c5)]:case _0xb78473[_0xa77ae3(0x1b6)]['KeyValueDatabase']:case _0xb78473[_0xa77ae3(0x1b6)][_0xa77ae3(0x1f8)]:case _0xb78473['ContentType'][_0xa77ae3(0x42e)]:case _0xb78473[_0xa77ae3(0x1b6)][_0xa77ae3(0x881)]:case _0xb78473[_0xa77ae3(0x1b6)]['ExternalStorage']:this['dataTopics'][_0xa77ae3(0x9c4)](_0x332b4d[_0xa77ae3(0x35a)]());break;case _0xb78473[_0xa77ae3(0x1b6)][_0xa77ae3(0x8d3)]:this[_0xa77ae3(0x8e0)][_0xa77ae3(0x9c4)](_0x332b4d[_0xa77ae3(0x35a)]());}}['registerSubscriber'](_0x546595){const _0x526724=_0x34a0aa;switch(_0x546595['getContentType']()){case _0xb78473[_0x526724(0x1b6)][_0x526724(0x6a7)]:case _0xb78473[_0x526724(0x1b6)]['PubSub']:case _0xb78473[_0x526724(0x1b6)][_0x526724(0x7c5)]:case _0xb78473[_0x526724(0x1b6)][_0x526724(0x481)]:case _0xb78473[_0x526724(0x1b6)][_0x526724(0x1f8)]:case _0xb78473['ContentType'][_0x526724(0x42e)]:case _0xb78473['ContentType']['GraphDatabase']:case _0xb78473['ContentType'][_0x526724(0x46b)]:{const _0x4c82b4=_0x546595[_0x526724(0x253)](_0x4c2d93=>{const _0x3df39e=_0x526724;_0x40ee5c(_0x4c2d93,this[_0x3df39e(0x917)]())&&_0x5b6ad3(_0x4c2d93,this[_0x3df39e(0x41a)])&&this[_0x3df39e(0x92f)](_0x4c2d93);});this[_0x526724(0xa14)][_0x526724(0x286)](_0x546595['getLabel'](),_0x4c82b4);break;}case _0xb78473[_0x526724(0x1b6)][_0x526724(0x8d3)]:{const _0xa10310=_0x546595[_0x526724(0x253)](({content:_0x3cf12f})=>{const _0x36ecdb=_0x526724;switch(_0x3cf12f['action']){case _0x255510['Add']:this[_0x36ecdb(0x3fe)](_0x3cf12f[_0x36ecdb(0x6d0)],_0x3cf12f[_0x36ecdb(0x77a)],_0x3cf12f[_0x36ecdb(0x820)],_0x3cf12f[_0x36ecdb(0x78e)]);break;case _0x255510[_0x36ecdb(0x4e1)]:this['removeTrack'](_0x3cf12f[_0x36ecdb(0x6d0)],_0x3cf12f[_0x36ecdb(0x77a)]);break;case _0x255510[_0x36ecdb(0x5cb)]:_0x3cf12f[_0x36ecdb(0x820)]&&this[_0x36ecdb(0x17c)](_0x3cf12f[_0x36ecdb(0x77a)],_0x3cf12f[_0x36ecdb(0x820)]),_0x3cf12f[_0x36ecdb(0x78e)]&&this[_0x36ecdb(0x838)](_0x3cf12f[_0x36ecdb(0x77a)],_0x3cf12f[_0x36ecdb(0x78e)]);}});this[_0x526724(0x23c)]['set'](_0x546595[_0x526724(0x35a)](),_0xa10310);break;}}}['unregisterSubscriber'](_0x51dcf8){const _0x243c38=_0x34a0aa;switch(_0x51dcf8[_0x243c38(0x561)]()){case _0xb78473[_0x243c38(0x1b6)][_0x243c38(0x6a7)]:case _0xb78473[_0x243c38(0x1b6)][_0x243c38(0x421)]:case _0xb78473['ContentType'][_0x243c38(0x7c5)]:case _0xb78473[_0x243c38(0x1b6)][_0x243c38(0x481)]:case _0xb78473[_0x243c38(0x1b6)]['Job']:case _0xb78473['ContentType'][_0x243c38(0x42e)]:case _0xb78473[_0x243c38(0x1b6)][_0x243c38(0x881)]:case _0xb78473[_0x243c38(0x1b6)][_0x243c38(0x46b)]:this['dataUnsubscribers'][_0x243c38(0x56b)](_0x51dcf8['getLabel']())?.(),this['dataUnsubscribers'][_0x243c38(0x9c4)](_0x51dcf8[_0x243c38(0x35a)]());break;case _0xb78473[_0x243c38(0x1b6)][_0x243c38(0x8d3)]:this[_0x243c38(0x23c)][_0x243c38(0x56b)](_0x51dcf8[_0x243c38(0x35a)]())?.(),this[_0x243c38(0x23c)][_0x243c38(0x9c4)](_0x51dcf8[_0x243c38(0x35a)]());}}['getSupportedContentTypes'](){const _0x92c22e=_0x34a0aa;return[_0xb78473['ContentType'][_0x92c22e(0x6a7)],_0xb78473['ContentType'][_0x92c22e(0x8d3)],_0xb78473[_0x92c22e(0x1b6)][_0x92c22e(0x421)],_0xb78473[_0x92c22e(0x1b6)][_0x92c22e(0x7c5)],_0xb78473[_0x92c22e(0x1b6)]['KeyValueDatabase'],_0xb78473[_0x92c22e(0x1b6)][_0x92c22e(0x1f8)],_0xb78473['ContentType']['VectorDatabase'],_0xb78473['ContentType'][_0x92c22e(0x881)],_0xb78473[_0x92c22e(0x1b6)][_0x92c22e(0x46b)]];}[_0x34a0aa(0x58f)](_0x51cd4d){const _0x59fd83=_0x34a0aa;this[_0x59fd83(0x9b5)]=_0x51cd4d;}[_0x34a0aa(0x5f8)](){const _0x12df54=_0x34a0aa;delete this[_0x12df54(0x9b5)];}async['connect'](){const _0x499b23=_0x34a0aa;this['setupListeners'](),await this[_0x499b23(0x1b9)]();}['close'](){const _0x3f4d65=_0x34a0aa;this[_0x3f4d65(0x593)][_0x3f4d65(0x66c)](_0x547af2=>_0x547af2()),this[_0x3f4d65(0x593)]=[],this[_0x3f4d65(0xa07)]?.[_0x3f4d65(0x5f8)](),this[_0x3f4d65(0xa07)]?.['close'](),delete this['senderConnection'],this[_0x3f4d65(0x17a)][_0x3f4d65(0x66c)](_0x209c6c=>_0x209c6c()),this[_0x3f4d65(0x17a)]=[],this['receiverConnection']?.[_0x3f4d65(0x5f8)](),this[_0x3f4d65(0x273)]?.['close'](),delete this['receiverConnection'];}[_0x34a0aa(0x18b)](){const _0x260154=_0x34a0aa;return this['senderConnection']?.['isConnected']()&&this['receiverConnection']?.[_0x260154(0x18b)]()||!0x1;}['send'](_0xfdfa9f){const _0xe3b34e=_0x34a0aa;if(!this[_0xe3b34e(0xa07)]||!this[_0xe3b34e(0x18b)]())throw new _0x4e89dd(_0x4e89dd[_0xe3b34e(0x4ea)]['ConnectionNotinitialized'],{'message':_0xe3b34e(0x649),'senderConnected':this[_0xe3b34e(0xa07)]?.[_0xe3b34e(0x18b)](),'receiverConnected':this[_0xe3b34e(0x273)]?.[_0xe3b34e(0x18b)](),'localId':this[_0xe3b34e(0x917)](),'remoteId':this['remoteId'],'data':_0xfdfa9f});this[_0xe3b34e(0xa07)][_0xe3b34e(0x92f)](_0xfdfa9f);}['onMessage'](_0x367e9f){const _0x3c0963=_0x34a0aa;return this['messageListeners'][_0x3c0963(0x253)](_0x367e9f);}[_0x34a0aa(0x73b)](_0xb4e61f){const _0x1a4c50=_0x34a0aa;return this[_0x1a4c50(0x90d)][_0x1a4c50(0x253)](({track:_0xb3237b,stream:_0x471e65})=>_0xb4e61f(_0xb3237b,_0x471e65));}[_0x34a0aa(0xa22)](_0x2f33b0){const _0x3957c2=_0x34a0aa;return this[_0x3957c2(0x34c)][_0x3957c2(0x253)](({track:_0x33a26a,stream:_0x523b44})=>_0x2f33b0(_0x33a26a,_0x523b44));}[_0x34a0aa(0x3fe)](_0x323aab,_0x462a8d,_0x18fb59,_0x588bda){const _0x119b9e=_0x34a0aa;this[_0x119b9e(0xa07)]?.['addTrack'](_0x323aab,_0x462a8d,_0x18fb59,_0x588bda);}[_0x34a0aa(0x17c)](_0x3383e7,_0x514e41){const _0x2cab33=_0x34a0aa;this[_0x2cab33(0xa07)]?.['setPriority'](_0x3383e7,_0x514e41);}[_0x34a0aa(0x838)](_0x88e21b,_0x4f91b4){const _0x20ec46=_0x34a0aa;this[_0x20ec46(0xa07)]?.['setParams'](_0x88e21b,_0x4f91b4);}[_0x34a0aa(0x2f8)](_0x30bda7,_0x32e3f9){const _0xb3d2c2=_0x34a0aa;this[_0xb3d2c2(0xa07)]?.['removeTrack'](_0x30bda7,_0x32e3f9);}async[_0x34a0aa(0x182)](_0x857c3b){const _0x5ceeea=_0x34a0aa;_0x17dbc7['log'](_0x5d2ed2[_0x5ceeea(0x783)],_0x5ceeea(0x8e7),this[_0x5ceeea(0x917)](),_0x857c3b);const {content:_0x51db44}=_0x857c3b;switch(_0x51db44['type']){case _0x376bcb[_0x5ceeea(0xa3b)]:await this['handleOffer'](_0x51db44);break;case _0x376bcb['Answer']:await this[_0x5ceeea(0x3f8)](_0x51db44);break;case _0x376bcb[_0x5ceeea(0x6a4)]:this[_0x5ceeea(0x1e9)]();break;case _0x376bcb[_0x5ceeea(0x60f)]:await this[_0x5ceeea(0x6e5)](_0x51db44);break;case _0x376bcb[_0x5ceeea(0x9f8)]:this[_0x5ceeea(0x660)](_0x51db44);break;case _0x376bcb['Restart']:await this[_0x5ceeea(0x1b9)]();}}[_0x34a0aa(0x97a)](_0x3d8b5f){const _0x13fbdf=_0x34a0aa;this['senderConnection']?.[_0x13fbdf(0x9c5)](_0x3d8b5f[_0x13fbdf(0x1f6)][_0x13fbdf(0x1ad)]);}[_0x34a0aa(0x279)](){const _0x3b497c=_0x34a0aa;return this[_0x3b497c(0x486)];}[_0x34a0aa(0x324)](_0x3c6c9e){const _0x12653f=_0x34a0aa;this[_0x12653f(0x486)]=_0x3c6c9e,this[_0x12653f(0xa07)]?.[_0x12653f(0x324)](_0x3c6c9e),this['receiverConnection']?.['setConnectionType'](_0x3c6c9e);}async[_0x34a0aa(0x4a7)](){const _0x15a021=_0x34a0aa;await this[_0x15a021(0xa07)]?.[_0x15a021(0x4a7)](),await this[_0x15a021(0x273)]?.[_0x15a021(0x4a7)]();}['calculateArrayBufferSize'](){const _0x867119=_0x34a0aa;return this[_0x867119(0xa07)]?.['calculateArrayBufferSize']()??0x0;}[_0x34a0aa(0x645)](){const _0x26aee9=_0x34a0aa;return this['senderConnection']?.[_0x26aee9(0x645)]()??0x0;}[_0x34a0aa(0x1bc)](){const _0x5ec20f=_0x34a0aa;this['listenerUnsubscribers'][_0x5ec20f(0x32e)](this['onMessage'](_0x1280eb=>{const _0x33a3d1=_0x5ec20f;_0x5b6ad3(_0x1280eb,this[_0x33a3d1(0x917)]())&&0x0!==_0x1280eb['topicLabel']&&this['dataTopics'][_0x33a3d1(0x56b)](_0x1280eb[_0x33a3d1(0x2a2)])?.[_0x33a3d1(0x5c0)](_0x1280eb);})),this[_0x5ec20f(0x593)][_0x5ec20f(0x32e)](this['onTrack']((_0x1897ba,_0x348401)=>{const _0x16c5c9=_0x5ec20f,_0x5d80e2=_0x5147fa(_0xb78473[_0x16c5c9(0x1b6)][_0x16c5c9(0x8d3)],_0x348401['id'],this[_0x16c5c9(0x41a)]);this[_0x16c5c9(0x8e0)][_0x16c5c9(0x56b)](_0x5d80e2)?.[_0x16c5c9(0x5c0)]({'topicLabel':_0x5d80e2,'sourceId':this[_0x16c5c9(0x41a)],'contentType':_0xb78473['ContentType']['Media'],'content':{'action':_0x255510['RemoteAdd'],'track':_0x1897ba,'stream':_0x348401,'providerId':this['remoteId']}});})),this[_0x5ec20f(0x593)]['push'](this[_0x5ec20f(0xa22)]((_0x38f44b,_0x2cb6de)=>{const _0x300e0e=_0x5ec20f,_0x5c3a49=_0x5147fa(_0xb78473['ContentType'][_0x300e0e(0x8d3)],_0x2cb6de['id'],this[_0x300e0e(0x41a)]);this['mediaTopics'][_0x300e0e(0x56b)](_0x5c3a49)?.[_0x300e0e(0x5c0)]({'topicLabel':_0x5c3a49,'sourceId':this[_0x300e0e(0x41a)],'contentType':_0xb78473[_0x300e0e(0x1b6)][_0x300e0e(0x8d3)],'content':{'action':_0x255510[_0x300e0e(0x3e6)],'track':_0x38f44b,'stream':_0x2cb6de,'providerId':this['remoteId']}});}));}['handleIceCandidates']({candidates:_0x170b11,origin:_0x150321,version:_0x3c7f08}){const _0x33ee50=_0x34a0aa;return _0x150321===_0x17021b[_0x33ee50(0x80e)]?(this[_0x33ee50(0x273)]||this[_0x33ee50(0x242)](),this[_0x33ee50(0x273)][_0x33ee50(0xa2d)](_0x170b11,_0x3c7f08)):this[_0x33ee50(0xa07)][_0x33ee50(0xa2d)](_0x170b11,_0x3c7f08);}async[_0x34a0aa(0x1b9)](){const _0x59ea18=_0x34a0aa;this[_0x59ea18(0xa07)]||this[_0x59ea18(0x2ce)](),await this[_0x59ea18(0xa07)][_0x59ea18(0x1b9)]();}async['handleOffer']({offer:_0x353eda,version:_0x32dbb3}){const _0x4c64d7=_0x34a0aa;this[_0x4c64d7(0x273)]||this[_0x4c64d7(0x242)](),await this[_0x4c64d7(0x273)][_0x4c64d7(0x7ca)](_0x353eda,_0x32dbb3);}async[_0x34a0aa(0x3f8)]({answer:_0x4d3fb6,version:_0x2e5b5c}){const _0x105bc4=_0x34a0aa;if(!this[_0x105bc4(0xa07)])throw new _0x4e89dd(_0x4e89dd['codes'][_0x105bc4(0x4fe)],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this[_0x105bc4(0x917)](),'remoteId':this[_0x105bc4(0x41a)],'answer':_0x4d3fb6});await this[_0x105bc4(0xa07)]['handleAnswer'](_0x4d3fb6,_0x2e5b5c);}[_0x34a0aa(0x1e9)](){const _0x3d83bd=_0x34a0aa;if(!this['receiverConnection'])throw new _0x4e89dd(_0x4e89dd[_0x3d83bd(0x4ea)][_0x3d83bd(0x4fe)],{'message':_0x3d83bd(0x6ba),'localId':this['getLocalId'](),'remoteId':this[_0x3d83bd(0x41a)]});this[_0x3d83bd(0x273)]['handleSuccess'](),this[_0x3d83bd(0xa1b)]||this[_0x3d83bd(0x486)]!==_0x12973d[_0x3d83bd(0x410)]||(this[_0x3d83bd(0xa1b)]=!0x0,this[_0x3d83bd(0x9b5)]?.['publish']({'sourceId':this[_0x3d83bd(0x41a)],'destinationIds':[this[_0x3d83bd(0x917)]()],'messageType':_0x174459['PeerConnection'],'content':{'type':_0x376bcb['OptimizationConnectionSuccess']}}));}[_0x34a0aa(0x660)](_0x48ea12){const _0x1ac58c=_0x34a0aa;this[_0x1ac58c(0x273)]||this[_0x1ac58c(0x242)](),this[_0x1ac58c(0x273)][_0x1ac58c(0x660)](_0x48ea12[_0x1ac58c(0x2fe)]);}['createSenderConnection'](){const _0x9c6d78=_0x34a0aa;this['senderConnection']=new _0x4b5940(this['clusterId'],this[_0x9c6d78(0x411)],this[_0x9c6d78(0x41a)],this[_0x9c6d78(0x519)],this['connectionType'],this[_0x9c6d78(0x30f)],this[_0x9c6d78(0x560)],this[_0x9c6d78(0x184)]),this[_0x9c6d78(0xa07)][_0x9c6d78(0x58f)](this['systemTopic']);}['createReceiverConnection'](){const _0x1f6d0d=_0x34a0aa;this[_0x1f6d0d(0x273)]=new _0x55867(this[_0x1f6d0d(0x222)],this[_0x1f6d0d(0x411)],this[_0x1f6d0d(0x41a)],this['iceServers'],this[_0x1f6d0d(0x486)],this['connectionConstructor']),this[_0x1f6d0d(0x273)][_0x1f6d0d(0x58f)](this[_0x1f6d0d(0x9b5)]),this[_0x1f6d0d(0x17a)]['push'](this['receiverConnection'][_0x1f6d0d(0x749)](_0x2f0a10=>this['messageListeners'][_0x1f6d0d(0x5c0)](_0x2f0a10))),this[_0x1f6d0d(0x17a)][_0x1f6d0d(0x32e)](this[_0x1f6d0d(0x273)][_0x1f6d0d(0x73b)]((_0x1d5805,_0xe16a8)=>this[_0x1f6d0d(0x90d)][_0x1f6d0d(0x5c0)]({'track':_0x1d5805,'stream':_0xe16a8}))),this[_0x1f6d0d(0x17a)][_0x1f6d0d(0x32e)](this['receiverConnection'][_0x1f6d0d(0xa22)]((_0x556911,_0x5546ea)=>this[_0x1f6d0d(0x34c)][_0x1f6d0d(0x5c0)]({'track':_0x556911,'stream':_0x5546ea})));}}class _0x17d213{[_0x34a0aa(0x3b7)];[_0x34a0aa(0x9d7)];[_0x34a0aa(0x6eb)];[_0x34a0aa(0x798)]=new Map();[_0x34a0aa(0x86b)]=_0x5a3b06();[_0x34a0aa(0x433)];['dataTopics']=new Map();[_0x34a0aa(0xa14)]=new Map();[_0x34a0aa(0x3fb)]=new Map();constructor(_0x4622ce,_0x2d30bb,_0x555f1b){const _0x65bb86=_0x34a0aa;this[_0x65bb86(0x3b7)]=_0x4622ce,this[_0x65bb86(0x9d7)]=_0x2d30bb,this['graphService']=_0x555f1b,this[_0x65bb86(0x433)]=this[_0x65bb86(0x749)](_0x24513c=>{const _0x421d23=_0x65bb86;this[_0x421d23(0x9d7)]['hasMessage'](_0x24513c[_0x421d23(0x666)])||(_0x5b6ad3(_0x24513c,this[_0x421d23(0x3b7)])&&0x0!==_0x24513c['topicLabel']&&(this[_0x421d23(0x9d7)][_0x421d23(0x9fe)](_0x24513c['uuid']),this['dataTopics']['get'](_0x24513c[_0x421d23(0x2a2)])?.[_0x421d23(0x5c0)](_0x24513c)),_0x24513c[_0x421d23(0x1c5)]&&this[_0x421d23(0x92f)](_0x24513c));});}[_0x34a0aa(0x39a)](){const _0x5d668d=_0x34a0aa;this[_0x5d668d(0x433)]?.();}[_0x34a0aa(0x26a)](_0x20c02c){const _0x4c51bb=_0x34a0aa,_0x26910a=_0x20c02c[_0x4c51bb(0x749)](_0x19088c=>{const _0x385a79=_0x4c51bb;this[_0x385a79(0x86b)][_0x385a79(0x5c0)](_0x19088c);});this[_0x4c51bb(0x798)][_0x4c51bb(0x286)](_0x20c02c,_0x26910a),this['retryQueues'][_0x4c51bb(0x286)](_0x20c02c[_0x4c51bb(0x9ed)](),function(_0x3d7dac,_0x212879=!0x1){let _0xbfec7e=new Map();const _0x4a8957=_0x5c0007(_0x3d7dac,_0x212879,function(_0x31eb22){const _0x447ee3=a0_0x1d5b;_0x128db3(_0x31eb22)&&_0xbfec7e[_0x447ee3(0x9c4)](_0x31eb22[_0x447ee3(0x7b7)]+'-'+(_0x31eb22[_0x447ee3(0x686)]??[])+'-'+_0x31eb22[_0x447ee3(0x282)]+'-'+_0x31eb22['content']['type']);},function(_0x49944f){return!!function(_0x3971a8){const _0x4483d5=a0_0x1d5b,_0x164e71=_0x3971a8[_0x4483d5(0x706)];if(!_0x128db3(_0x164e71))return!0x1;const _0x474a67=_0x164e71['sourceId']+'-'+(_0x164e71[_0x4483d5(0x686)]??[])+'-'+_0x164e71[_0x4483d5(0x282)]+'-'+_0x164e71[_0x4483d5(0x1f6)]['type'],_0x341364={'version':_0x164e71[_0x4483d5(0x1f6)]['version'],'element':_0x3971a8},_0x2d6322=_0xbfec7e[_0x4483d5(0x56b)](_0x474a67);return _0x2d6322?(_0x2d6322[_0x4483d5(0x2fe)]>=_0x164e71[_0x4483d5(0x1f6)][_0x4483d5(0x2fe)]||(_0x2d6322['element'][_0x4483d5(0x7e9)]&&(_0x2d6322['element'][_0x4483d5(0x7e9)][_0x4483d5(0x54f)]=_0x3971a8,_0x3971a8[_0x4483d5(0x7e9)]=_0x2d6322['element'][_0x4483d5(0x7e9)]),_0x2d6322['element'][_0x4483d5(0x54f)]&&(_0x2d6322['element'][_0x4483d5(0x54f)][_0x4483d5(0x7e9)]=_0x3971a8,_0x3971a8[_0x4483d5(0x54f)]=_0x2d6322[_0x4483d5(0x32b)][_0x4483d5(0x54f)]),_0x2d6322[_0x4483d5(0x32b)]===_0x4a8957[_0x4483d5(0x9ab)]&&(_0x4a8957[_0x4483d5(0x9ab)]=_0x3971a8),_0x2d6322[_0x4483d5(0x32b)]===_0x4a8957[_0x4483d5(0x267)]&&(_0x4a8957[_0x4483d5(0x267)]=_0x3971a8),_0xbfec7e['set'](_0x474a67,_0x341364)),!0x0):(_0xbfec7e[_0x4483d5(0x286)](_0x474a67,_0x341364),!0x1);}(_0x49944f);},function(){const _0x51ce57=a0_0x1d5b;_0xbfec7e[_0x51ce57(0x620)]();});function _0x128db3(_0x2e420a){const _0xa6c4a3=a0_0x1d5b;if(_0x2e420a&&_0xa6c4a3(0x4cc)==typeof _0x2e420a&&_0x2e420a[_0xa6c4a3(0x25a)](_0xa6c4a3(0x1f6))&&_0x2e420a[_0xa6c4a3(0x25a)](_0xa6c4a3(0x282))&&_0x2e420a[_0xa6c4a3(0x25a)](_0xa6c4a3(0x7b7))){const _0x24e497=_0x2e420a;if(_0x24e497[_0xa6c4a3(0x1f6)]&&_0xa6c4a3(0x4cc)==typeof _0x24e497[_0xa6c4a3(0x1f6)]&&_0x24e497['content']['hasOwnProperty']('version')&&_0x24e497[_0xa6c4a3(0x1f6)]['hasOwnProperty'](_0xa6c4a3(0x852)))return!0x0;}return!0x1;}return _0x4a8957;}(new _0xc70130(_0x17bbb6=>_0x20c02c[_0x4c51bb(0x92f)](_0x17bbb6),()=>_0x293ade[_0x4c51bb(0x35b)](0x64))));}[_0x34a0aa(0x21b)](_0x23f371){const _0x53e5c3=_0x34a0aa;this['connections'][_0x53e5c3(0x56b)](_0x23f371)?.(),this[_0x53e5c3(0x798)][_0x53e5c3(0x9c4)](_0x23f371),this[_0x53e5c3(0x3fb)][_0x53e5c3(0x56b)](_0x23f371[_0x53e5c3(0x9ed)]())?.[_0x53e5c3(0x620)](),this[_0x53e5c3(0x3fb)][_0x53e5c3(0x9c4)](_0x23f371[_0x53e5c3(0x9ed)]());}[_0x34a0aa(0x18b)](_0xf7ea8f){const _0x5893e1=_0x34a0aa;return _0x17dbc7[_0x5893e1(0x6cb)](_0x5d2ed2[_0x5893e1(0x316)],_0x5893e1(0x2c8),this['localId'],this[_0x5893e1(0x798)][_0x5893e1(0x7d3)]()),0x0!==this[_0x5893e1(0x798)][_0x5893e1(0x57d)]&&(Array[_0x5893e1(0x856)](this[_0x5893e1(0x798)][_0x5893e1(0x7d3)]())['find'](_0x4701c1=>_0x4701c1['getRemoteId']()===_0xf7ea8f)?.[_0x5893e1(0x18b)]()??!0x1);}[_0x34a0aa(0x296)](_0x333978){const _0x4f05db=_0x34a0aa;this[_0x4f05db(0x591)]['set'](_0x333978[_0x4f05db(0x35a)](),_0x333978);}[_0x34a0aa(0x8d7)](_0x401e3d){const _0x432733=_0x34a0aa;this['dataTopics'][_0x432733(0x9c4)](_0x401e3d[_0x432733(0x35a)]());}[_0x34a0aa(0x584)](_0x157a64){const _0x1280ee=_0x34a0aa,_0x39af24=_0x157a64[_0x1280ee(0x253)](this[_0x1280ee(0x92f)][_0x1280ee(0xa1e)](this));this[_0x1280ee(0xa14)]['set'](_0x157a64[_0x1280ee(0x35a)](),_0x39af24);}[_0x34a0aa(0x680)](_0x3d74f4){const _0x3413d1=_0x34a0aa;this[_0x3413d1(0xa14)]['get'](_0x3d74f4[_0x3413d1(0x35a)]())?.(),this[_0x3413d1(0xa14)][_0x3413d1(0x9c4)](_0x3d74f4[_0x3413d1(0x35a)]());}[_0x34a0aa(0x338)](){const _0x4c44ba=_0x34a0aa;return[_0xb78473[_0x4c44ba(0x1b6)]['Data'],_0xb78473[_0x4c44ba(0x1b6)][_0x4c44ba(0x421)],_0xb78473[_0x4c44ba(0x1b6)][_0x4c44ba(0x7c5)],_0xb78473[_0x4c44ba(0x1b6)][_0x4c44ba(0x481)],_0xb78473['ContentType']['Job'],_0xb78473['ContentType']['VectorDatabase'],_0xb78473[_0x4c44ba(0x1b6)][_0x4c44ba(0x881)],_0xb78473[_0x4c44ba(0x1b6)][_0x4c44ba(0x46b)]];}['send'](_0x4f88e8){const _0x18853b=_0x34a0aa;if(!0x1===_0x4f88e8[_0x18853b(0x824)]){if(_0x4f88e8[_0x18853b(0x1c5)]||!_0x4f88e8['destinationIds']||0x1!==_0x4f88e8[_0x18853b(0x686)][_0x18853b(0x831)])throw new _0x4e89dd(_0x4e89dd[_0x18853b(0x4ea)]['ConnectionInvalidDataEvent'],{'message':_0x18853b(0x710),'localId':this['localId']});if(!this['isConnected'](_0x4f88e8[_0x18853b(0x686)][0x0]))throw new _0x2e8877(_0x18853b(0x9d5));}const _0x28bc6e=_0x4f88e8[_0x18853b(0x9ae)]??[];try{const {filteredDestinationIds:_0x3f556b,extendedRecipients:_0x460640}=this[_0x18853b(0x436)](_0x4f88e8,_0x28bc6e);_0x4f88e8['destinationIds']=_0x3f556b,_0x4f88e8[_0x18853b(0x9ae)]=_0x460640;}catch(_0x5e8ff1){if(_0x5e8ff1 instanceof _0x2e8877)return void _0x17dbc7[_0x18853b(0x6cb)](_0x5d2ed2[_0x18853b(0x783)],_0x18853b(0x7e6),'Early\x20return',_0x4f88e8,_0x5e8ff1[_0x18853b(0x7e0)]);}const _0x345d5e=this[_0x18853b(0x883)](_0x4f88e8);this[_0x18853b(0x4d8)](_0x4f88e8,_0x345d5e),_0x4f88e8[_0x18853b(0x1c5)]=_0x345d5e;const _0x487514=this[_0x18853b(0x80d)](_0x4f88e8,_0x28bc6e);for(const _0x271e6d of _0x487514){const _0x2804ef=this[_0x18853b(0x3fb)][_0x18853b(0x56b)](_0x271e6d[_0x18853b(0x9ed)]());if(!_0x2804ef)throw new _0x4e89dd(_0x4e89dd[_0x18853b(0x4ea)][_0x18853b(0x612)],{'message':_0x18853b(0x974),'localId':this[_0x18853b(0x3b7)],'remoteId':_0x271e6d[_0x18853b(0x9ed)](),'data':_0x4f88e8});_0x2804ef['push'](_0x4f88e8);}}[_0x34a0aa(0x9ed)](){return'';}['getLocalId'](){const _0x41a179=_0x34a0aa;return this[_0x41a179(0x3b7)];}[_0x34a0aa(0x749)](_0x4adcb1){const _0x4f9396=_0x34a0aa;return this[_0x4f9396(0x86b)][_0x4f9396(0x253)](_0x4adcb1);}[_0x34a0aa(0x436)](_0x3fdf73,_0x25ad5a){const _0xc42681=_0x34a0aa,_0x5219f4={'filteredDestinationIds':_0x3fdf73[_0xc42681(0x686)],'extendedRecipients':_0x3fdf73[_0xc42681(0x9ae)]};if(!_0x3fdf73[_0xc42681(0x1c5)])return _0x5219f4;const _0x2c8d42=Array[_0xc42681(0x856)](this[_0xc42681(0x798)][_0xc42681(0x7d3)]())[_0xc42681(0x285)](_0x4d34ad=>_0x4d34ad[_0xc42681(0x279)]()===_0x12973d[_0xc42681(0x3db)]||_0x4d34ad[_0xc42681(0x18b)]())[_0xc42681(0x403)](_0x250ac5=>_0x250ac5[_0xc42681(0x9ed)]());if(_0x2c8d42[_0xc42681(0x25c)]((_0x4a9ff2,_0x153911)=>_0x4a9ff2&&_0x3fdf73[_0xc42681(0x9ae)]['includes'](_0x153911),!0x0))throw new _0x2e8877(_0xc42681(0x2bd));if(_0x3fdf73[_0xc42681(0x686)]){const _0x3570bb=_0x3fdf73[_0xc42681(0x686)][_0xc42681(0x285)](_0x4b4ddd=>_0x4b4ddd!==this['localId']&&!_0x3fdf73['recipients'][_0xc42681(0x25d)](_0x4b4ddd));if(0x0===_0x3570bb[_0xc42681(0x831)])throw new _0x2e8877('No\x20destinationIds\x20left');_0x5219f4[_0xc42681(0x227)]=_0x3570bb;}return _0x5219f4['extendedRecipients']=[...new Set([..._0x25ad5a,..._0x2c8d42,this['localId']])],_0x5219f4;}['logPropagateSystemEvent'](_0x25511d,_0x39597e=!0x1){const _0x572262=_0x34a0aa;if(0x0===_0x25511d['topicLabel']&&!_0x40ee5c(_0x25511d,this[_0x572262(0x3b7)])&&_0x25511d[_0x572262(0x1c5)]){const _0x1d6c90=_0x584909(_0x25511d,this[_0x572262(0x3b7)]);_0x17dbc7['logRaw'](_0x5d2ed2[_0x572262(0x54a)],_0x25511d[_0x572262(0x666)]+_0x572262(0x552)+_0x39597e+')\x20'+_0x1d6c90,_0x25511d,_0x39597e);}}['shouldContinuePropagation'](_0x35a57a){const _0x2b053c=_0x34a0aa;if(_0x35a57a['destinationIds']&&_0x35a57a['propagate']){const _0x5eb782=Array[_0x2b053c(0x856)](this[_0x2b053c(0x798)]['keys']())[_0x2b053c(0x285)](_0x50ea76=>_0x50ea76[_0x2b053c(0x279)]()===_0x12973d[_0x2b053c(0x3db)]||_0x50ea76[_0x2b053c(0x18b)]())[_0x2b053c(0x403)](_0xd8e76b=>_0xd8e76b[_0x2b053c(0x9ed)]());return!_0x35a57a[_0x2b053c(0x686)][_0x2b053c(0x25c)]((_0x1d0a0e,_0x3813a8)=>_0x1d0a0e&&_0x5eb782[_0x2b053c(0x25d)](_0x3813a8),!0x0);}return _0x35a57a[_0x2b053c(0x1c5)]??!0x1;}[_0x34a0aa(0x80d)](_0x1188a3,_0x3a4605){const _0x9e2fd5=_0x34a0aa;if(_0x1188a3[_0x9e2fd5(0x1c5)]&&_0x1188a3[_0x9e2fd5(0x686)]){const _0x22f14d=Array[_0x9e2fd5(0x856)](this[_0x9e2fd5(0x798)][_0x9e2fd5(0x7d3)]())['filter'](_0x49f5e6=>_0x49f5e6[_0x9e2fd5(0x279)]()===_0x12973d[_0x9e2fd5(0x3db)]||_0x49f5e6['isConnected']())[_0x9e2fd5(0x403)](_0x11941b=>_0x11941b[_0x9e2fd5(0x9ed)]()),_0x42fc03=new Set(),_0x35885f=_0x1188a3[_0x9e2fd5(0x7b7)]===this[_0x9e2fd5(0x3b7)]?0x3:0x1;return _0x1188a3[_0x9e2fd5(0x686)]['forEach'](_0x16eb4a=>{const _0x216d45=_0x9e2fd5,_0x49ac25=this[_0x216d45(0x6eb)][_0x216d45(0x401)](_0x22f14d,_0x16eb4a);let _0x5917ef=0x0,_0xfeffc4=0x0;_0x49ac25[_0x216d45(0x66c)](_0x460388=>{const _0x5ce8f5=_0x216d45;if(_0x5917ef>=_0x35885f)return;const _0x2c7807=Array[_0x5ce8f5(0x856)](this[_0x5ce8f5(0x798)]['keys']())['find'](_0x5e30db=>_0x5e30db[_0x5ce8f5(0x9ed)]()===_0x460388);if(_0x2c7807){if(_0x2c7807[_0x5ce8f5(0x279)]()===_0x12973d['Core']&&_0xfeffc4>0x0)return void(_0xfeffc4-=0x1);_0x42fc03[_0x5ce8f5(0x4a3)](_0x2c7807),_0x2c7807[_0x5ce8f5(0x279)]()===_0x12973d[_0x5ce8f5(0x410)]&&(_0xfeffc4+=0x1),_0x5917ef+=0x1;}});}),Array[_0x9e2fd5(0x856)](_0x42fc03);}return Array['from'](this[_0x9e2fd5(0x798)][_0x9e2fd5(0x7d3)]())[_0x9e2fd5(0x285)](_0x1d29de=>{const _0x46d65b=_0x9e2fd5;return _0x4a7c71=_0x1d29de[_0x46d65b(0x9ed)](),!_0x3a4605[_0x46d65b(0x25d)](_0x4a7c71)&&(_0x5b6ad3(_0x1188a3,_0x4a7c71)||_0x1188a3[_0x46d65b(0x1c5)])&&(!_0x1188a3[_0x46d65b(0x1c5)]||_0x1d29de[_0x46d65b(0x18b)]()||_0x1d29de['getConnectionType']()===_0x12973d[_0x46d65b(0x3db)]);var _0x4a7c71;});}}class _0x412f2b{[_0x34a0aa(0x3b7)];[_0x34a0aa(0x9d7)];[_0x34a0aa(0x798)]=new Map();['systemTopic'];constructor(_0x1d456c,_0x578f80){const _0x6bcac2=_0x34a0aa;this[_0x6bcac2(0x3b7)]=_0x1d456c,this[_0x6bcac2(0x9d7)]=_0x578f80;}[_0x34a0aa(0x39a)](){}[_0x34a0aa(0x92f)](_0x5a8418){const _0x4f2845=_0x34a0aa;for(const _0x3def66 of this['connections'][_0x4f2845(0x7d3)]())try{return void _0x3def66[_0x4f2845(0x92f)]({'retry':!0x1,..._0x5a8418});}catch(_0x24ac26){_0x24ac26 instanceof _0x2e8877||_0x17dbc7[_0x4f2845(0x6cb)](_0x5d2ed2[_0x4f2845(0x967)],_0x4f2845(0x349)+_0x3def66,_0x24ac26,_0x5a8418);}_0x17dbc7[_0x4f2845(0x6cb)](_0x5d2ed2[_0x4f2845(0x967)],_0x4f2845(0x491));}[_0x34a0aa(0x26a)](_0x9ef90d){const _0x17a0bb=_0x34a0aa,_0x30d4b7=_0x9ef90d['onMessage'](_0x255709=>{const _0x51d366=a0_0x1d5b;this[_0x51d366(0x9d7)]['hasMessage'](_0x255709[_0x51d366(0x666)])||0x0===_0x255709[_0x51d366(0x2a2)]&&(this[_0x51d366(0x9d7)][_0x51d366(0x9fe)](_0x255709[_0x51d366(0x666)]),_0x5b6ad3(_0x255709,this[_0x51d366(0x3b7)])&&this[_0x51d366(0x9b5)]?.[_0x51d366(0x5c0)](_0x255709));});this[_0x17a0bb(0x798)][_0x17a0bb(0x286)](_0x9ef90d,_0x30d4b7);}['removeConnection'](_0x38b321){const _0x2ce470=_0x34a0aa;this['connections'][_0x2ce470(0x56b)](_0x38b321)?.(),this[_0x2ce470(0x798)][_0x2ce470(0x9c4)](_0x38b321);}['getLocalId'](){const _0x3a7613=_0x34a0aa;return this[_0x3a7613(0x3b7)];}['getRemoteId'](){return'';}['getSupportedContentTypes'](){const _0xb34ac8=_0x34a0aa;return[_0xb78473[_0xb34ac8(0x1b6)][_0xb34ac8(0x6a7)]];}[_0x34a0aa(0x18b)](){const _0xcaa411=_0x34a0aa;throw new Error(_0xcaa411(0x530));}[_0x34a0aa(0x58f)](_0x48f35b){const _0x2e5c86=_0x34a0aa;this[_0x2e5c86(0x9b5)]=_0x48f35b;}['unregisterSystemPublisher'](){const _0x2051f9=_0x34a0aa;delete this[_0x2051f9(0x9b5)];}}class _0x1b4fb5{[_0x34a0aa(0x3dc)]=new Map();[_0x34a0aa(0x5d5)];constructor(){const _0x2b103c=_0x34a0aa;this[_0x2b103c(0x5d5)]=_0x293ade['setInterval'](()=>{const _0x281751=_0x2b103c;for(const [_0x3291f6,_0x305c71]of this[_0x281751(0x3dc)][_0x281751(0x595)]())Date[_0x281751(0x517)]()-_0x305c71>0x124f80&&this[_0x281751(0x3dc)]['delete'](_0x3291f6);},0x1d4c0);}[_0x34a0aa(0x39a)](){const _0x5a4710=_0x34a0aa;this[_0x5a4710(0x5d5)]();}[_0x34a0aa(0x9fe)](_0x1766ff){const _0x54d5f3=_0x34a0aa;this[_0x54d5f3(0x3dc)][_0x54d5f3(0x286)](_0x1766ff,Date[_0x54d5f3(0x517)]());}['hasMessage'](_0x2bf47d){const _0xfe1afb=_0x34a0aa;return this[_0xfe1afb(0x3dc)][_0xfe1afb(0x664)](_0x2bf47d);}}class _0x2af467{['configs'];[_0x34a0aa(0x925)];['iceServers'];[_0x34a0aa(0x21d)];[_0x34a0aa(0x798)]=new Map();[_0x34a0aa(0x6f7)];[_0x34a0aa(0x5e9)];[_0x34a0aa(0x70b)];[_0x34a0aa(0x9d7)];constructor(_0x157b6a,_0x262cf8,_0x6213a2,_0x290d03,_0x4215c0){const _0x19d1ce=_0x34a0aa;this[_0x19d1ce(0x6f1)]=_0x157b6a,this[_0x19d1ce(0x925)]=_0x262cf8,this['iceServers']=_0x290d03,this[_0x19d1ce(0x21d)]=_0x4215c0,this['messageBuffer']=new _0x1b4fb5(),this[_0x19d1ce(0x5e9)]=new _0x17d213(this['configs'][_0x19d1ce(0x411)][_0x19d1ce(0x3ad)](),this[_0x19d1ce(0x9d7)],_0x6213a2),this[_0x19d1ce(0x70b)]=new _0x12edd4(this['configs'][_0x19d1ce(0x853)],this[_0x19d1ce(0x6f1)]['clusterId'],this[_0x19d1ce(0x6f1)][_0x19d1ce(0x411)],_0x19d1ce(0x1ed),this[_0x19d1ce(0x925)]),this[_0x19d1ce(0x6f7)]=new _0x412f2b(this[_0x19d1ce(0x6f1)][_0x19d1ce(0x411)][_0x19d1ce(0x3ad)](),this[_0x19d1ce(0x9d7)]),this[_0x19d1ce(0x6f7)][_0x19d1ce(0x26a)](this[_0x19d1ce(0x5e9)]),this[_0x19d1ce(0x6f7)]['addConnection'](this[_0x19d1ce(0x70b)]),this[_0x19d1ce(0x6f1)][_0x19d1ce(0x872)][_0x19d1ce(0x7f7)](this[_0x19d1ce(0x6f7)]);}['close'](){const _0x1ff072=_0x34a0aa;this[_0x1ff072(0x9d7)][_0x1ff072(0x39a)](),this[_0x1ff072(0x798)][_0x1ff072(0x66c)]((_0x47d9f0,_0x4066c6)=>this['closeConnection'](_0x4066c6)),this[_0x1ff072(0x6f1)][_0x1ff072(0x872)]['unregisterSystemSource'](this['connectionPool']),this[_0x1ff072(0x6f7)][_0x1ff072(0x21b)](this[_0x1ff072(0x70b)]),this[_0x1ff072(0x6f7)]['removeConnection'](this[_0x1ff072(0x5e9)]),this[_0x1ff072(0x6f7)][_0x1ff072(0x39a)](),this['signalingServer'][_0x1ff072(0x39a)](),this[_0x1ff072(0x5e9)][_0x1ff072(0x39a)]();}async['initialize'](){const _0x47da60=_0x34a0aa;await this[_0x47da60(0x70b)][_0x47da60(0xa48)]();}async['createConnection'](_0x3a2892,_0x59d215=_0x12973d[_0x34a0aa(0x3db)]){const _0x324bee=_0x34a0aa;if(this[_0x324bee(0x798)][_0x324bee(0x664)](_0x3a2892)){if(this[_0x324bee(0x798)][_0x324bee(0x56b)](_0x3a2892)?.[_0x324bee(0x279)]()===_0x12973d[_0x324bee(0x410)]&&_0x59d215===_0x12973d[_0x324bee(0x3db)])return void this[_0x324bee(0x798)]['get'](_0x3a2892)?.['setConnectionType'](_0x12973d[_0x324bee(0x3db)]);throw new _0x4e89dd(_0x4e89dd[_0x324bee(0x4ea)][_0x324bee(0x81d)],{'localId':this[_0x324bee(0x6f1)][_0x324bee(0x411)][_0x324bee(0x3ad)](),'remoteId':_0x3a2892});}const _0x2be384=new _0x92a2cc(this[_0x324bee(0x6f1)][_0x324bee(0x222)],this['configs']['localNode'],_0x3a2892,this[_0x324bee(0x519)],_0x59d215,this[_0x324bee(0x21d)]['maxFps'],this['options'][_0x324bee(0x560)],this[_0x324bee(0x21d)]['peerConnectionConnector']);this[_0x324bee(0x798)][_0x324bee(0x286)](_0x3a2892,_0x2be384),this[_0x324bee(0x5e9)]['addConnection'](_0x2be384),this[_0x324bee(0x6f1)][_0x324bee(0x872)]['registerSystemSource'](_0x2be384),this[_0x324bee(0x6f1)][_0x324bee(0x872)][_0x324bee(0x718)](_0x3a2892),await _0x2be384[_0x324bee(0xa48)]();}[_0x34a0aa(0x727)](){const _0x930a45=_0x34a0aa;return this[_0x930a45(0x5e9)];}['getConnection'](_0x1783b9){const _0x10c37f=_0x34a0aa;if(!this[_0x10c37f(0x798)][_0x10c37f(0x664)](_0x1783b9))throw new _0x4e89dd(_0x4e89dd[_0x10c37f(0x4ea)][_0x10c37f(0x4ae)],{'localId':this[_0x10c37f(0x6f1)][_0x10c37f(0x411)]['getId'](),'remoteId':_0x1783b9});return this[_0x10c37f(0x798)]['get'](_0x1783b9);}['getConnections'](_0x20ee37){const _0x4abcd5=_0x34a0aa,_0x53780c=Array[_0x4abcd5(0x856)](this[_0x4abcd5(0x798)][_0x4abcd5(0x8ec)]());return _0x20ee37?_0x53780c['filter'](_0x20ee37):_0x53780c;}async[_0x34a0aa(0x4a7)](_0x5f31c0){const _0x5d16ff=_0x34a0aa,_0x3bf8e3=this[_0x5d16ff(0x798)]['get'](_0x5f31c0);_0x3bf8e3&&_0x3bf8e3[_0x5d16ff(0x18b)]()&&await _0x3bf8e3[_0x5d16ff(0x4a7)]();}[_0x34a0aa(0x1ef)](_0x3e3402){const _0x92e9d4=_0x34a0aa;if(_0x3e3402[_0x92e9d4(0x282)]!==_0x174459[_0x92e9d4(0x25b)]||_0x3e3402[_0x92e9d4(0x1c5)])try{this['connectionGroup']['send'](_0x3e3402);}catch(_0x19d67c){if(_0x19d67c instanceof _0x2e8877)return;throw _0x19d67c;}else this[_0x92e9d4(0x6f7)]['send'](_0x3e3402);}async[_0x34a0aa(0x182)](_0x5c669b){const _0x32f6f7=_0x34a0aa;switch(_0x5c669b[_0x32f6f7(0x1f6)]['type']){case _0x376bcb['Disconnect']:case _0x376bcb['Stats']:case _0x376bcb[_0x32f6f7(0x6cd)]:return;}if(!_0x5c669b[_0x32f6f7(0x686)]||0x1!==_0x5c669b[_0x32f6f7(0x686)][_0x32f6f7(0x831)])throw new _0x4e89dd(_0x4e89dd[_0x32f6f7(0x4ea)][_0x32f6f7(0x380)],{'message':_0x32f6f7(0x7db),'event':_0x5c669b});if(_0x5c669b[_0x32f6f7(0x686)][0x0]!==this[_0x32f6f7(0x6f1)][_0x32f6f7(0x411)]['getId']())throw new _0x4e89dd(_0x4e89dd[_0x32f6f7(0x4ea)][_0x32f6f7(0x380)],{'message':_0x32f6f7(0x50e),'event':_0x5c669b});if(!this[_0x32f6f7(0x798)][_0x32f6f7(0x664)](_0x5c669b[_0x32f6f7(0x7b7)])){let _0x22e7d5=_0x12973d[_0x32f6f7(0x3db)];if(!(this[_0x32f6f7(0x6d9)](_0x5c669b[_0x32f6f7(0x1f6)])||this['isIceCandidate'](_0x5c669b['content'])||this[_0x32f6f7(0x4fc)](_0x5c669b['content'])))return;_0x22e7d5=_0x5c669b[_0x32f6f7(0x1f6)]['connectionType'],await this[_0x32f6f7(0x287)](_0x5c669b[_0x32f6f7(0x7b7)],_0x22e7d5);}const _0x67c6e3=this[_0x32f6f7(0x798)][_0x32f6f7(0x56b)](_0x5c669b['sourceId']);await _0x67c6e3[_0x32f6f7(0x182)](_0x5c669b);}[_0x34a0aa(0x97a)](_0x1ae44b){const _0x2452a6=_0x34a0aa;if(_0x1ae44b['content'][_0x2452a6(0x852)]===_0x525d63[_0x2452a6(0x785)]){if(_0x1ae44b[_0x2452a6(0x1f6)][_0x2452a6(0x4f7)]===this[_0x2452a6(0x6f1)][_0x2452a6(0x411)][_0x2452a6(0x3ad)]())return void this['connections'][_0x2452a6(0x66c)](_0x11212f=>_0x11212f[_0x2452a6(0x97a)](_0x1ae44b));this[_0x2452a6(0x798)][_0x2452a6(0x56b)](_0x1ae44b[_0x2452a6(0x1f6)]['targetId'])?.[_0x2452a6(0x97a)](_0x1ae44b);}}['handleNodeSystemEvents']({content:_0x44bbe9}){const _0x2fdc27=_0x34a0aa;_0x44bbe9['type']===_0xc6ed77[_0x2fdc27(0xa04)]&&this[_0x2fdc27(0x59b)](_0x44bbe9['id']);}[_0x34a0aa(0x241)](){const _0x39313a=_0x34a0aa,_0x3a07ef=Array['from'](this[_0x39313a(0x798)][_0x39313a(0x8ec)]())[_0x39313a(0x25c)]((_0xd4e9a8,_0x5dd100)=>_0xd4e9a8+_0x5dd100[_0x39313a(0x471)](),0x0);return _0x3a07ef<_0x2d6e82?Promise[_0x39313a(0x38b)](_0x3a07ef):new Promise(_0xa59e8d=>{const _0x1d7810=setInterval(()=>{const _0x2bee45=a0_0x1d5b,_0x5cb63b=Array[_0x2bee45(0x856)](this['connections'][_0x2bee45(0x8ec)]())['reduce']((_0x3a23a6,_0x4ab390)=>_0x3a23a6+_0x4ab390[_0x2bee45(0x471)](),0x0);_0x5cb63b<_0x2d6e82&&(clearInterval(_0x1d7810),_0xa59e8d(_0x5cb63b));},0x3e8);});}['hasBufferedData'](){const _0x5d8afa=_0x34a0aa;for(const _0x1987f1 of this[_0x5d8afa(0x798)][_0x5d8afa(0x8ec)]())if(_0x1987f1[_0x5d8afa(0x645)]()>0x0||_0x1987f1[_0x5d8afa(0x471)]()>0x0)return!0x0;return!0x1;}[_0x34a0aa(0x59b)](_0x5eea7a){const _0x2a08c8=_0x34a0aa,_0x38f097=this[_0x2a08c8(0x798)][_0x2a08c8(0x56b)](_0x5eea7a);_0x38f097&&(this['configs'][_0x2a08c8(0x872)]['unregisterRemoteNode'](_0x5eea7a),this['configs'][_0x2a08c8(0x872)][_0x2a08c8(0x97c)](_0x38f097),_0x38f097 instanceof _0x92a2cc&&this[_0x2a08c8(0x5e9)]['removeConnection'](_0x38f097),_0x38f097[_0x2a08c8(0x39a)](),this[_0x2a08c8(0x798)]['delete'](_0x5eea7a));}[_0x34a0aa(0x6d9)](_0x3e64d9){const _0xe7324f=_0x34a0aa;return _0x3e64d9['type']===_0x376bcb[_0xe7324f(0xa3b)];}[_0x34a0aa(0x4fc)](_0x241504){const _0x75cd4c=_0x34a0aa;return _0x241504['type']===_0x376bcb[_0x75cd4c(0x9f8)];}['isIceCandidate'](_0xee25f1){const _0x2ff6cf=_0x34a0aa;return _0xee25f1['type']===_0x376bcb[_0x2ff6cf(0x60f)];}}!function(_0x5f47a2){const _0x3ebee2=_0x34a0aa;_0x5f47a2[_0x5f47a2['SubscribeMediaStream']=0x0]=_0x3ebee2(0x27a),_0x5f47a2[_0x5f47a2[_0x3ebee2(0x993)]=0x1]=_0x3ebee2(0x993),_0x5f47a2[_0x5f47a2['UnsubscribeMediaStream']=0x2]=_0x3ebee2(0x8fa),_0x5f47a2[_0x5f47a2['NeedMediaStream']=0x3]=_0x3ebee2(0x340),_0x5f47a2[_0x5f47a2[_0x3ebee2(0x263)]=0x4]=_0x3ebee2(0x263),_0x5f47a2[_0x5f47a2[_0x3ebee2(0x730)]=0x5]=_0x3ebee2(0x730),_0x5f47a2[_0x5f47a2[_0x3ebee2(0x8b1)]=0x6]=_0x3ebee2(0x8b1),_0x5f47a2[_0x5f47a2[_0x3ebee2(0x689)]=0x7]=_0x3ebee2(0x689);}(_0x590b6e||(_0x590b6e={}));class _0x543bdf extends _0x2008ae{[_0x34a0aa(0x411)];[_0x34a0aa(0x222)];[_0x34a0aa(0x853)];[_0x34a0aa(0x587)];[_0x34a0aa(0x550)];[_0x34a0aa(0x66a)]=0x0;[_0x34a0aa(0x45d)];[_0x34a0aa(0x2b3)]=_0x5a3b06();[_0x34a0aa(0x593)]=new Map();[_0x34a0aa(0x578)];constructor(_0x3f019a,_0x17b65d,_0x5704ee,_0xc868bd,_0x2979c2){const _0x1462ba=_0x34a0aa;if(_0x1462ba(0x6ce)!=typeof _0x17b65d)throw new _0x4a345c(_0x2df194[_0x1462ba(0x93e)],_0x1462ba(0x176));super(_0x3f019a,_0x17b65d),this['localNode']=_0x3f019a,this[_0x1462ba(0x222)]=_0x5704ee,this[_0x1462ba(0x853)]=_0xc868bd,this['connectorConstructor']=_0x2979c2,this['sendStats']();}['destroy'](){const _0x454acc=_0x34a0aa;this[_0x454acc(0x578)]?.(),this[_0x454acc(0x593)]['forEach'](_0x2e9ef6=>_0x2e9ef6()),clearTimeout(this[_0x454acc(0x550)]),delete this[_0x454acc(0x550)],super['destroy']();}[_0x34a0aa(0x240)](){const _0x3409=_0x34a0aa;this[_0x3409(0x2a7)]();}[_0x34a0aa(0x39a)](){const _0x2ecb8f=_0x34a0aa;this['systemTopic']['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459['Content'],'content':{'type':_0x5402c8[_0x2ecb8f(0x2db)],'label':this[_0x2ecb8f(0x5b0)]}});}[_0x34a0aa(0x561)](){const _0x1da359=_0x34a0aa;return _0xb78473['ContentType'][_0x1da359(0x46b)];}async[_0x34a0aa(0x56b)](_0x39a2d5){const _0x4518a4=_0x34a0aa;if(!this[_0x4518a4(0x45d)])throw new _0x4a345c(_0x2df194['ExternalStorageConnectorsMissing'],_0x4518a4(0x6fc));_0x17dbc7[_0x4518a4(0x920)](_0x367233['ExternalStorage'],{'type':_0x4518a4(0x56b),'label':this['label'],'nodeId':this[_0x4518a4(0x411)][_0x4518a4(0x3ad)](),'nodeType':this[_0x4518a4(0x411)][_0x4518a4(0x852)],'clusterId':this['clusterId'],'path':_0x39a2d5}),this[_0x4518a4(0x66a)]+=0x1,this[_0x4518a4(0x2a7)]();try{return await this[_0x4518a4(0x45d)]['get'](_0x39a2d5);}catch(_0x483f39){throw new _0x4a345c(_0x2df194[_0x4518a4(0x39d)],_0x4518a4(0x41f)+_0x39a2d5);}}async['list'](_0x22975d,_0x99a4b6){const _0x7930fd=_0x34a0aa;if(!this[_0x7930fd(0x45d)])throw new _0x4a345c(_0x2df194[_0x7930fd(0x2be)],_0x7930fd(0x955));const {recursive:_0x3802b2=!0x1}=_0x99a4b6??{};_0x17dbc7[_0x7930fd(0x920)](_0x367233[_0x7930fd(0x46b)],{'type':_0x7930fd(0x61a),'label':this[_0x7930fd(0x5b0)],'nodeId':this[_0x7930fd(0x411)][_0x7930fd(0x3ad)](),'nodeType':this[_0x7930fd(0x411)][_0x7930fd(0x852)],'clusterId':this[_0x7930fd(0x222)],'path':_0x22975d}),this['reads']+=0x1,this[_0x7930fd(0x2a7)]();try{return await this['connector'][_0x7930fd(0x61a)](_0x22975d,_0x3802b2);}catch(_0x446688){throw new _0x4a345c(_0x2df194['ExternalStorageInvalidPath'],'Cannot\x20list\x20directory:\x20'+_0x22975d);}}[_0x34a0aa(0x253)](_0x407522,_0x38dd03){const _0x3322f4=_0x34a0aa;if(this['listenerUnsubscribers'][_0x3322f4(0x664)](_0x407522))throw new _0x4a345c(_0x2df194[_0x3322f4(0x9ff)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x3322f4(0x593)][_0x3322f4(0x286)](_0x407522,this[_0x3322f4(0x2b3)][_0x3322f4(0x253)](_0x38dd03));}[_0x34a0aa(0x626)](_0x1e256a){const _0x391f82=_0x34a0aa;this['listenerUnsubscribers'][_0x391f82(0x56b)](_0x1e256a)?.(),this[_0x391f82(0x593)][_0x391f82(0x9c4)](_0x1e256a);}async[_0x34a0aa(0x8f9)](){const _0x77a2fd=_0x34a0aa,_0x36661b=(await(0x0,_0xd69cc3[_0x77a2fd(0x763)])((0x0,_0xd69cc3['doc'])(_0x27d84b['getFirestore'](),_0x77a2fd(0x51d)+this['vendorId']+'/resources/external-storage/items/'+this['label'])))['data']();if(!_0x36661b)throw new _0x4a345c(_0x2df194[_0x77a2fd(0x320)],_0x77a2fd(0x6ef)+this[_0x77a2fd(0x5b0)]);const {site:_0x2ab9f5,drive:_0x271e7d}=_0x36661b,_0x440944=(await(0x0,_0x54e986[_0x77a2fd(0x8a1)])(_0x27d84b[_0x77a2fd(0x5b9)](),'msalGetAccessToken')({'storageId':this['label']}))['data'][_0x77a2fd(0x259)];this[_0x77a2fd(0x45d)]=new this[(_0x77a2fd(0x587))](_0x2ab9f5['id'],_0x271e7d['id'],_0x440944,async()=>(await(0x0,_0x54e986[_0x77a2fd(0x8a1)])(_0x27d84b['getFunctions'](),'msalRefreshToken')({'storageId':this[_0x77a2fd(0x5b0)]}))[_0x77a2fd(0x1ad)][_0x77a2fd(0x259)]),this[_0x77a2fd(0x183)]();}[_0x34a0aa(0x2a7)](){const _0x2a6abc=_0x34a0aa;this[_0x2a6abc(0x550)]&&clearTimeout(this[_0x2a6abc(0x550)]),this[_0x2a6abc(0x550)]=setTimeout(async()=>{const _0x41b667=_0x2a6abc;delete this[_0x41b667(0x550)],this[_0x41b667(0x9b5)][_0x41b667(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x41b667(0x562)],'content':{'type':_0x5402c8[_0x41b667(0x4e7)],'label':this['label'],'stats':{'timestamp':Date[_0x41b667(0x517)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x41b667(0x66a)],'prompts':0x0,'tokens':0x0}}});},_0x5c3d80);}async[_0x34a0aa(0x183)](){const _0x52f88e=_0x34a0aa;await this[_0x52f88e(0x45d)]?.['listChanges'](),this[_0x52f88e(0x578)]=_0x293ade[_0x52f88e(0xa10)](async()=>{const _0x92c9d1=_0x52f88e;try{if(!this[_0x92c9d1(0x45d)])return;const _0x48918e=await this[_0x92c9d1(0x45d)][_0x92c9d1(0x383)]();for(const _0x2afe71 of _0x48918e)this[_0x92c9d1(0x2b3)]['publish'](_0x2afe71);}catch(_0x4c7576){}},0x493e0);}}const _0x5d5c6f=require('rxjs');class _0x16500d extends _0x2008ae{[_0x34a0aa(0x6eb)];[_0x34a0aa(0x74c)]=new Map();[_0x34a0aa(0x8f0)]=new Map();[_0x34a0aa(0x585)]=new Map();[_0x34a0aa(0x5d5)];constructor(_0x2900ae,_0x2c5073,_0x457fc6){const _0x4e4d5f=_0x34a0aa;super(_0x2900ae,_0x2c5073),this[_0x4e4d5f(0x6eb)]=_0x457fc6;}[_0x34a0aa(0x561)](){const _0x26900e=_0x34a0aa;return _0xb78473[_0x26900e(0x1b6)][_0x26900e(0x1f8)];}[_0x34a0aa(0x8f9)](){this['unsubscribeHandler']=this['onMessage']((_0x126098,_0x24a728)=>{const _0x17b327=a0_0x1d5b;if(_0x17dbc7[_0x17b327(0x6cb)](_0x5d2ed2['Jobs'],_0x17b327(0x6fb),_0x126098,_0x24a728,this[_0x17b327(0x6eb)][_0x17b327(0x64d)]()),!(_0x24a728 instanceof File)){if(!_0x24a728)throw new _0x4e89dd(_0x4e89dd[_0x17b327(0x4ea)][_0x17b327(0x997)]);return this[_0x17b327(0x393)](_0x24a728)?this['addBidResponse'](_0x126098,_0x24a728['id'],_0x24a728):this[_0x17b327(0x3ee)](_0x24a728)?(_0x17dbc7[_0x17b327(0x6cb)](_0x5d2ed2[_0x17b327(0x437)],_0x17b327(0x49e)+_0x24a728['id']+_0x17b327(0x627),_0x24a728[_0x17b327(0x2b9)]),void this['evaluatePartialJob'](_0x24a728['id'],_0x24a728)):this[_0x17b327(0x9e7)](_0x24a728)?(_0x17dbc7[_0x17b327(0x6cb)](_0x5d2ed2[_0x17b327(0x437)],_0x17b327(0x49e)+_0x24a728['id']+_0x17b327(0x262),_0x24a728[_0x17b327(0x2b9)]),void this[_0x17b327(0x75f)](_0x24a728['id'],_0x24a728)):void(this['isFailedResponse'](_0x24a728)&&this[_0x17b327(0x47e)](_0x24a728['id'],_0x24a728['message']));}});}[_0x34a0aa(0x240)](){const _0x49f0a8=_0x34a0aa;this['clear'](),this[_0x49f0a8(0x8f9)]();}[_0x34a0aa(0x5ff)](){const _0x17c725=_0x34a0aa;this[_0x17c725(0x620)](),super[_0x17c725(0x5ff)]();}[_0x34a0aa(0x620)](){const _0x5605f7=_0x34a0aa;this[_0x5605f7(0x74c)][_0x5605f7(0x620)](),this[_0x5605f7(0x5d5)]&&this['unsubscribeHandler']();}[_0x34a0aa(0x39a)](){const _0x351aba=_0x34a0aa;this[_0x351aba(0x9b5)]?.[_0x351aba(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x351aba(0x562)],'content':{'type':_0x5402c8[_0x351aba(0x344)],'label':this[_0x351aba(0x5b0)]}});}async['createJob'](_0x46931f){const _0x549f5e=_0x34a0aa,{id:_0x5f4b1e,parameters:_0x2574f5,jobType:_0x263c0e}=_0x46931f,_0x124095={'id':_0x5f4b1e,'jobType':_0x263c0e,'parameters':_0x2574f5,'status':_0xb78473[_0x549f5e(0x555)]['Pending'],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x549f5e(0x664)](_0x124095['id']))throw new _0x4a345c(_0x2df194[_0x549f5e(0x767)],_0x549f5e(0x1bf)+_0x124095['id']+'\x20already\x20exists.');_0x124095[_0x549f5e(0x2f0)]=new Date(),_0x124095[_0x549f5e(0xa2c)]=new Date();const _0x4613e1=new _0x5d5c6f[(_0x549f5e(0x1eb))]();this[_0x549f5e(0x74c)][_0x549f5e(0x286)](_0x124095['id'],_0x124095),this['jobObservers'][_0x549f5e(0x286)](_0x124095['id'],_0x4613e1);try{const _0x1ce3c2={'id':_0x124095['id'],'jobPhase':_0x1bff38[_0x549f5e(0x2c5)],'jobType':_0x124095[_0x549f5e(0x8d5)]},_0x7f38a7=0x3;let _0x1dc127=0x0;const _0x1374e1=async()=>{const _0x247598=_0x549f5e;_0x1dc127+=0x1;try{_0x17dbc7[_0x247598(0x6cb)](_0x5d2ed2[_0x247598(0x437)],_0x247598(0x49e)+_0x124095['id']+_0x247598(0x7ae)+_0x1dc127+'.',this[_0x247598(0x6eb)][_0x247598(0x64d)]()),await this[_0x247598(0x92f)](_0x1ce3c2),_0x124095[_0x247598(0xa2c)]=new Date(),this[_0x247598(0x74c)]['set'](_0x124095['id'],_0x124095),this[_0x247598(0x77b)](_0x124095['id']);}catch(_0x1d821a){_0x1dc127<_0x7f38a7?(_0x17dbc7[_0x247598(0x701)]('Attempt\x20'+_0x1dc127+_0x247598(0x68c)+_0x124095['id']+'\x20failed.\x20Retrying...',{'nodeId':this[_0x247598(0x48c)][_0x247598(0x3ad)](),'nodeType':this[_0x247598(0x48c)][_0x247598(0x852)],'data':{'job':_0x124095,'attempts':_0x1dc127,'maxRetries':_0x7f38a7}}),setTimeout(_0x1374e1,0x3e8)):(_0x124095[_0x247598(0x563)]=_0xb78473[_0x247598(0x555)][_0x247598(0x2dc)],_0x124095[_0x247598(0xa2c)]=new Date(),this[_0x247598(0x74c)][_0x247598(0x286)](_0x124095['id'],_0x124095),_0x17dbc7[_0x247598(0x165)]('Failed\x20to\x20send\x20job\x20'+_0x124095['id']+_0x247598(0x796)+_0x7f38a7+_0x247598(0x2aa),{'nodeId':this[_0x247598(0x48c)]['getId'](),'nodeType':this[_0x247598(0x48c)][_0x247598(0x852)],'data':{'job':_0x124095,'attempts':_0x1dc127,'maxRetries':_0x7f38a7,'error':_0x1d821a}}));}};_0x1374e1();const {id:_0x21cdb8}=_0x124095;this['logEvent'](_0x549f5e(0x49e)+_0x124095['id']+_0x549f5e(0x477),{'jobId':_0x21cdb8}),_0x124095['updated']=new Date();}catch(_0x37d6c7){_0x124095[_0x549f5e(0x563)]=_0xb78473[_0x549f5e(0x555)][_0x549f5e(0x2dc)],_0x17dbc7['error'](_0x549f5e(0x2c1)+_0x124095['id']+':',{'nodeId':this[_0x549f5e(0x48c)][_0x549f5e(0x3ad)](),'nodeType':this[_0x549f5e(0x48c)][_0x549f5e(0x852)],'data':{'job':_0x124095,'error':_0x37d6c7}});}return _0x4613e1['asObservable']();}[_0x34a0aa(0x1cb)](_0x3a0efd){const _0x49d553=_0x34a0aa,_0x41cdec=this[_0x49d553(0x74c)][_0x49d553(0x56b)](_0x3a0efd);if(!_0x41cdec)throw new _0x4a345c(_0x2df194['JobDispatcherJobNotFound'],_0x49d553(0x1bf)+_0x3a0efd+_0x49d553(0x8f5));return{'id':_0x41cdec['id'],'jobType':_0x41cdec[_0x49d553(0x8d5)],'status':_0x41cdec[_0x49d553(0x563)],'parameters':_0x41cdec[_0x49d553(0x7f2)]};}[_0x34a0aa(0x315)](){const _0x505b49=_0x34a0aa;return Array[_0x505b49(0x856)](this[_0x505b49(0x74c)][_0x505b49(0x8ec)]())['map'](_0x4c002d=>this[_0x505b49(0x1cb)](_0x4c002d['id']));}async['updateJob'](_0xcb7d56,_0x4b3e30){const _0x171cd6=_0x34a0aa,_0x41179b=this[_0x171cd6(0x74c)]['get'](_0xcb7d56);if(!_0x41179b)throw new _0x4a345c(_0x2df194['JobDispatcherJobNotFound'],'Job\x20with\x20id\x20'+_0xcb7d56+'\x20not\x20found.');_0x41179b[_0x171cd6(0x7f2)]=_0x4b3e30,_0x41179b[_0x171cd6(0xa2c)]=new Date(),this['jobs'][_0x171cd6(0x286)](_0xcb7d56,_0x41179b);}async[_0x34a0aa(0x8ce)](_0x1e8fea){const _0x5b3731=_0x34a0aa;if(!this[_0x5b3731(0x74c)]['delete'](_0x1e8fea))throw new _0x4a345c(_0x2df194[_0x5b3731(0x87a)],'Job\x20with\x20id\x20'+_0x1e8fea+_0x5b3731(0x8f5));const _0x1f3202=this[_0x5b3731(0x8f0)]['get'](_0x1e8fea);if(!_0x1f3202)throw new _0x4e89dd(_0x4e89dd[_0x5b3731(0x4ea)]['JobDispatcherObserverNotFound']);_0x1f3202[_0x5b3731(0x89f)](),this['jobObservers'][_0x5b3731(0x9c4)](_0x1e8fea),_0x17dbc7['log'](_0x5d2ed2[_0x5b3731(0x437)],_0x5b3731(0x49e)+_0x1e8fea+_0x5b3731(0x7c3));}['addBidResponse'](_0x5e28b4,_0x417351,_0x3e6ced){const _0x56c369=_0x34a0aa,_0x5d29f1=this[_0x56c369(0x585)][_0x56c369(0x56b)](_0x417351)??new Map();_0x5d29f1['set'](_0x5e28b4,[_0x3e6ced,Date[_0x56c369(0x517)]()]),this['jobBids']['set'](_0x417351,_0x5d29f1),this[_0x56c369(0x728)](_0x417351);}[_0x34a0aa(0x77b)](_0xf8790d){const _0x4d51f0=_0x34a0aa,_0x155a71=this[_0x4d51f0(0x74c)][_0x4d51f0(0x56b)](_0xf8790d);if(!_0x155a71)throw new _0x4e89dd(_0x4e89dd['codes'][_0x4d51f0(0x87a)]);const _0x1bd32b=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0xf8790d,!0x0),0xbb8);_0x155a71[_0x4d51f0(0x991)]=_0x1bd32b,this[_0x4d51f0(0x74c)][_0x4d51f0(0x286)](_0x155a71['id'],_0x155a71);}[_0x34a0aa(0x728)](_0x15fd9d,_0x4be49f=!0x1){const _0x57700b=_0x34a0aa,_0x3969d4=this[_0x57700b(0x6eb)]['getRemoteNodes'](),_0xa657f9=Array['from'](_0x3969d4[_0x57700b(0x8ec)]())[_0x57700b(0x285)](_0x988fc8=>_0x988fc8[_0x57700b(0x852)]===_0xb78473['NodeType'][_0x57700b(0x32d)]),_0x55a826=this[_0x57700b(0x585)][_0x57700b(0x56b)](_0x15fd9d)??new Map();if(!_0x4be49f&&(!_0x55a826||_0x55a826[_0x57700b(0x57d)]<_0xa657f9[_0x57700b(0x831)]))return;const _0x49e84c=this[_0x57700b(0x74c)][_0x57700b(0x56b)](_0x15fd9d);if(!_0x49e84c)throw new _0x4e89dd(_0x4e89dd['codes'][_0x57700b(0x87a)]);if(clearTimeout(_0x49e84c[_0x57700b(0x991)]),_0x17dbc7['log'](_0x5d2ed2[_0x57700b(0x437)],_0x57700b(0x49e)+_0x49e84c['id']+'\x20received\x20responses:',_0x55a826,this[_0x57700b(0x585)]),!_0x55a826||0x0===_0x55a826['size']){_0x49e84c[_0x57700b(0x563)]=_0xb78473[_0x57700b(0x555)]['Failed'],_0x49e84c['updated']=new Date(),_0x17dbc7[_0x57700b(0x165)](_0x57700b(0x49e)+_0x49e84c['id']+_0x57700b(0x53f),{'nodeId':this[_0x57700b(0x48c)]['getId'](),'nodeType':this[_0x57700b(0x48c)]['type'],'data':{'job':_0x49e84c,'responses':_0x55a826}});const _0x415745=this['jobObservers'][_0x57700b(0x56b)](_0x15fd9d);if(!_0x415745)throw new _0x4e89dd(_0x4e89dd[_0x57700b(0x4ea)][_0x57700b(0x7bd)]);const _0x2ca743=_0x57700b(0x5ae),_0x136d8a={'id':_0x49e84c['id'],'status':_0x49e84c['status'],'message':_0x2ca743};return _0x415745[_0x57700b(0x54f)](_0x136d8a),_0x415745['complete'](),this[_0x57700b(0x74c)]['set'](_0x49e84c['id'],_0x49e84c),void this[_0x57700b(0x585)][_0x57700b(0x9c4)](_0x15fd9d);}const {nodeId:_0x545f34,response:_0x294bf7}=this[_0x57700b(0xa0d)](_0x49e84c['id'],_0x55a826);_0x49e84c[_0x57700b(0x563)]=_0xb78473[_0x57700b(0x555)][_0x57700b(0x6b2)],_0x49e84c[_0x57700b(0xa2c)]=new Date(),_0x17dbc7[_0x57700b(0x6cb)](_0x5d2ed2['Jobs'],'Job\x20'+_0x49e84c['id']+_0x57700b(0x8dc)+_0x545f34+'\x20with\x20response:',_0x294bf7);const _0x278fb7={'id':_0x49e84c['id'],'jobType':_0x49e84c[_0x57700b(0x8d5)],'jobPhase':_0x1bff38[_0x57700b(0x415)],'parameters':_0x49e84c[_0x57700b(0x7f2)]};this['send'](_0x278fb7,[_0x545f34]),this[_0x57700b(0x74c)]['set'](_0x49e84c['id'],_0x49e84c),this[_0x57700b(0x585)][_0x57700b(0x9c4)](_0x15fd9d);}[_0x34a0aa(0xa0d)](_0x5dadad,_0x4bcb1a){const _0x40bb41=_0x34a0aa;let _0x2380a8;const _0x51782c=Array[_0x40bb41(0x856)](_0x4bcb1a[_0x40bb41(0x595)]())['filter'](([,[_0xa1863d]])=>_0xa1863d['available']);if(_0x2380a8=_0x51782c[_0x40bb41(0x831)]>0x0?Array[_0x40bb41(0x856)](_0x4bcb1a['entries']())['sort']((_0x9f48b4,_0x2b84db)=>_0x2b84db[0x1][0x0][_0x40bb41(0x75b)]-_0x9f48b4[0x1][0x0][_0x40bb41(0x75b)]):Array[_0x40bb41(0x856)](_0x4bcb1a[_0x40bb41(0x595)]())[_0x40bb41(0x9b6)]((_0x516ff2,_0x3e2287)=>_0x516ff2[0x1][0x0][_0x40bb41(0x5a6)]-_0x3e2287[0x1][0x0]['queueLength']),0x1===_0x2380a8['length'])return{'nodeId':_0x2380a8[0x0][0x0],'response':_0x2380a8[0x0][0x1][0x0]};let _0x55c000;if(_0x55c000=_0x51782c[_0x40bb41(0x831)]>0x0?(_0x408030=>{const _0x258219=_0x40bb41,_0x21fa83=_0x408030[0x0][0x1][0x0][_0x258219(0x75b)];return _0x408030[_0x258219(0x285)](([,[_0x8eab0b]])=>_0x8eab0b[_0x258219(0x75b)]===_0x21fa83);})(_0x2380a8):(_0x31bf84=>{const _0x4ca2ac=_0x40bb41,_0x14e5f0=_0x31bf84[0x0][0x1][0x0][_0x4ca2ac(0x5a6)];return _0x31bf84['filter'](([,[_0x524ed0]])=>_0x524ed0[_0x4ca2ac(0x5a6)]===_0x14e5f0);})(_0x2380a8),0x1===_0x55c000[_0x40bb41(0x831)])return{'nodeId':_0x55c000[0x0][0x0],'response':_0x55c000[0x0][0x1][0x0]};const _0x4635ec=this[_0x40bb41(0x74c)]['get'](_0x5dadad);if(!_0x4635ec)throw new _0x4e89dd(_0x4e89dd['codes'][_0x40bb41(0x87a)]);const _0x5cb222=_0x4635ec[_0x40bb41(0x2f0)][_0x40bb41(0x6f8)](),_0x428d7f=_0x55c000[_0x40bb41(0x403)](([_0x443ee4,[,_0x15041c]])=>({'nodeId':_0x443ee4,'rtt':_0x15041c-_0x5cb222})),_0x47b686=Math['min'](..._0x428d7f[_0x40bb41(0x403)](({rtt:_0x33b6de})=>_0x33b6de)),_0x1c4d37=_0x428d7f['find'](({rtt:_0x3a8107})=>_0x3a8107===_0x47b686),[,[_0x43b70c]]=_0x55c000[_0x40bb41(0x3f0)](([_0x529299])=>_0x529299===_0x1c4d37['nodeId']);return{'nodeId':_0x1c4d37[_0x40bb41(0x2af)],'response':_0x43b70c};}[_0x34a0aa(0x41e)](_0x3a3d6c,_0x532cbd){const _0x50d429=_0x34a0aa,_0x2c95f6=this[_0x50d429(0x74c)]['get'](_0x3a3d6c);if(!_0x2c95f6)throw new _0x4e89dd(_0x4e89dd[_0x50d429(0x4ea)][_0x50d429(0x87a)]);const _0x378735=this[_0x50d429(0x8f0)]['get'](_0x3a3d6c);if(!_0x378735)throw new _0x4e89dd(_0x4e89dd['codes']['JobDispatcherObserverNotFound']);const _0x508816={'id':_0x2c95f6['id'],'status':_0xb78473[_0x50d429(0x555)][_0x50d429(0x919)],'result':_0x532cbd[_0x50d429(0x2b9)]};_0x378735[_0x50d429(0x54f)](_0x508816);}['evaluateProccessedJob'](_0x365604,_0x2d11df){const _0x140e3f=_0x34a0aa,_0x2dfc6e=this[_0x140e3f(0x74c)]['get'](_0x365604);if(!_0x2dfc6e)throw new _0x4e89dd(_0x4e89dd['codes'][_0x140e3f(0x87a)]);const _0x335f69=this['jobObservers'][_0x140e3f(0x56b)](_0x365604);if(!_0x335f69)throw new _0x4e89dd(_0x4e89dd[_0x140e3f(0x4ea)]['JobDispatcherObserverNotFound']);_0x2dfc6e[_0x140e3f(0x563)]=_0xb78473[_0x140e3f(0x555)]['Completed'];const _0x8cf7c4={'id':_0x2dfc6e['id'],'status':_0x2dfc6e[_0x140e3f(0x563)],'result':_0x2d11df[_0x140e3f(0x2b9)]};_0x335f69[_0x140e3f(0x54f)](_0x8cf7c4),_0x335f69['complete'](),this['jobObservers'][_0x140e3f(0x9c4)](_0x365604),this[_0x140e3f(0x582)]('Job\x20'+_0x365604+_0x140e3f(0x26f),{'jobId':_0x365604});}[_0x34a0aa(0x47e)](_0x53bb13,_0x24ccc3){const _0x4195b7=_0x34a0aa,_0x25733f=this['jobs'][_0x4195b7(0x56b)](_0x53bb13);if(!_0x25733f)throw new _0x4e89dd(_0x4e89dd['codes'][_0x4195b7(0x87a)]);const _0x442753=this[_0x4195b7(0x8f0)][_0x4195b7(0x56b)](_0x53bb13);if(!_0x442753)throw new _0x4e89dd(_0x4e89dd[_0x4195b7(0x4ea)][_0x4195b7(0x7bd)]);_0x25733f[_0x4195b7(0x563)]=_0xb78473['JobStatus'][_0x4195b7(0x2dc)];const _0x4e99b9={'id':_0x25733f['id'],'status':_0x25733f[_0x4195b7(0x563)],'message':_0x24ccc3};_0x442753[_0x4195b7(0x54f)](_0x4e99b9),_0x442753[_0x4195b7(0x89f)](),this[_0x4195b7(0x8f0)]['delete'](_0x53bb13),this[_0x4195b7(0x582)](_0x4195b7(0x49e)+_0x53bb13+_0x4195b7(0x79e),{'jobId':_0x53bb13});}['logEvent'](_0x3e74fa,{jobId:_0x1273ee}){const _0x1abdec=_0x34a0aa,_0xcd828b={'jobId':_0x1273ee,'mistletIds':Array[_0x1abdec(0x856)](this[_0x1abdec(0x6eb)]['getRemoteNodes']()[_0x1abdec(0x8ec)]())[_0x1abdec(0x285)](_0x551204=>_0x551204['type']===_0xb78473['NodeType'][_0x1abdec(0x32d)])['map'](_0x19bb1a=>_0x19bb1a['getId']())};_0x17dbc7[_0x1abdec(0x582)](_0x3e74fa,{'nodeId':this[_0x1abdec(0x8a2)](),'nodeType':this['owner'][_0x1abdec(0x852)],'data':_0xcd828b}),_0x17dbc7['log'](_0x5d2ed2[_0x1abdec(0x437)],_0x3e74fa,_0xcd828b);}[_0x34a0aa(0x393)](_0x2433ac){const _0x5cef04=_0x34a0aa,{jobPhase:_0x525aaf,available:_0x189775,bid:_0x4af9c3}=_0x2433ac;return _0x525aaf===_0x1bff38[_0x5cef04(0x205)]&&void 0x0!==_0x189775&&void 0x0!==_0x4af9c3;}[_0x34a0aa(0x3ee)](_0x2804f6){const _0x1969d1=_0x34a0aa,{jobPhase:_0x269c90,result:_0x4e65dd}=_0x2804f6;return _0x269c90===_0x1bff38[_0x1969d1(0x1fe)]&&void 0x0!==_0x4e65dd;}[_0x34a0aa(0x9e7)](_0x3a46ca){const _0x458f96=_0x34a0aa,{jobPhase:_0x5df17c,result:_0x570b9b}=_0x3a46ca;return _0x5df17c===_0x1bff38[_0x458f96(0x791)]&&void 0x0!==_0x570b9b;}[_0x34a0aa(0x6ff)](_0x191eed){const _0x2aa306=_0x34a0aa,{jobPhase:_0x578b68,message:_0x5e22f9}=_0x191eed;return _0x578b68===_0x1bff38[_0x2aa306(0x2dc)]&&void 0x0!==_0x5e22f9&&_0x2aa306(0x6ce)==typeof _0x5e22f9;}}var _0x53746c,_0x2d0ced,_0x4c796f,_0x165347;!function(_0xbb72f7){const _0x2cb68b=_0x34a0aa;_0xbb72f7[_0x2cb68b(0x6ec)]=_0x2cb68b(0x5e4),_0xbb72f7[_0x2cb68b(0x46b)]=_0x2cb68b(0x597);}(_0x53746c||(_0x53746c={})),function(_0x1f9676){const _0x211ec5=_0x34a0aa;_0x1f9676[_0x211ec5(0x32d)]=_0x211ec5(0x3fa),_0x1f9676[_0x211ec5(0x28f)]=_0x211ec5(0x5ac),_0x1f9676[_0x211ec5(0x18e)]=_0x211ec5(0x547),_0x1f9676[_0x211ec5(0x29a)]='knowledge',_0x1f9676[_0x211ec5(0x1dd)]=_0x211ec5(0x687),_0x1f9676[_0x211ec5(0x828)]=_0x211ec5(0x48e),_0x1f9676[_0x211ec5(0x2f9)]=_0x211ec5(0x3e8),_0x1f9676[_0x211ec5(0x86e)]=_0x211ec5(0x99d),_0x1f9676['Search']='search',_0x1f9676[_0x211ec5(0x769)]=_0x211ec5(0x533),_0x1f9676[_0x211ec5(0x3ce)]=_0x211ec5(0x614),_0x1f9676[_0x211ec5(0x640)]=_0x211ec5(0x73e),_0x1f9676['WordSplitter']=_0x211ec5(0x886);}(_0x2d0ced||(_0x2d0ced={})),function(_0x273125){const _0x130ebc=_0x34a0aa;_0x273125[_0x130ebc(0x845)]=_0x130ebc(0x663),_0x273125['ExternalStorageUpload']='external-storage-upload',_0x273125[_0x130ebc(0x62a)]=_0x130ebc(0x219),_0x273125[_0x130ebc(0x3ce)]='chunk-splitter',_0x273125[_0x130ebc(0x281)]=_0x130ebc(0x886),_0x273125['SentenceSplitter']=_0x130ebc(0x73e),_0x273125[_0x130ebc(0x4b3)]=_0x130ebc(0x71e),_0x273125['EntityExtractor']=_0x130ebc(0x532),_0x273125['Reranker']=_0x130ebc(0x3a6),_0x273125[_0x130ebc(0x873)]=_0x130ebc(0x83f),_0x273125[_0x130ebc(0x32d)]='agent',_0x273125[_0x130ebc(0x1ac)]=_0x130ebc(0x5e4),_0x273125[_0x130ebc(0x481)]='key-value-database',_0x273125[_0x130ebc(0x42e)]=_0x130ebc(0x47c),_0x273125[_0x130ebc(0x881)]=_0x130ebc(0x69b),_0x273125['Prompt']=_0x130ebc(0x687),_0x273125[_0x130ebc(0x299)]=_0x130ebc(0x726);}(_0x4c796f||(_0x4c796f={})),function(_0x58e0bd){const _0x15de70=_0x34a0aa;_0x58e0bd['File']=_0x15de70(0x478),_0x58e0bd[_0x15de70(0x4da)]=_0x15de70(0x86c),_0x58e0bd[_0x15de70(0x6f2)]=_0x15de70(0x230),_0x58e0bd[_0x15de70(0x171)]=_0x15de70(0x9d3),_0x58e0bd[_0x15de70(0x6a7)]=_0x15de70(0x1ad),_0x58e0bd[_0x15de70(0x3a2)]=_0x15de70(0x210),_0x58e0bd['Entity']=_0x15de70(0x959),_0x58e0bd[_0x15de70(0x32f)]='relation',_0x58e0bd[_0x15de70(0x19a)]=_0x15de70(0x3b5),_0x58e0bd['Index']='index',_0x58e0bd[_0x15de70(0x29a)]=_0x15de70(0x489),_0x58e0bd[_0x15de70(0x27f)]=_0x15de70(0x68e);}(_0x165347||(_0x165347={}));class _0x587885{static [_0x34a0aa(0x1cf)];constructor(){}static[_0x34a0aa(0x800)](){const _0xc3cdc=_0x34a0aa;return _0x587885['instance']||(_0x587885[_0xc3cdc(0x1cf)]=new _0x587885()),_0x587885[_0xc3cdc(0x1cf)];}async[_0x34a0aa(0x8ee)](_0x3b52f4,_0x376377){const _0x32d3dd=_0x34a0aa,_0x3acdc3=await(0x0,_0xd69cc3['getDoc'])((0x0,_0xd69cc3[_0x32d3dd(0x77f)])(_0x27d84b[_0x32d3dd(0x245)](),_0x32d3dd(0x51d)+_0x3b52f4+_0x32d3dd(0x209)+_0x376377)),_0x40fe0a=await this[_0x32d3dd(0x359)](_0x3b52f4),_0x2eb053=await this[_0x32d3dd(0x589)](_0x3b52f4),_0x194946=await this[_0x32d3dd(0x3bf)](_0x3b52f4);if(!_0x3acdc3[_0x32d3dd(0x523)]())throw new _0x4e89dd(_0x4e89dd[_0x32d3dd(0x4ea)][_0x32d3dd(0x3a1)]);return this['parseWorkflowDocument'](_0x3acdc3,_0x40fe0a,_0x2eb053,_0x194946);}[_0x34a0aa(0x89d)](_0x18f4e2,_0x40960e,_0xff08c9,_0x27689b){const _0xe5e2ba=_0x34a0aa,_0x3dc000=_0x18f4e2[_0xe5e2ba(0x1ad)]();if(!_0x3dc000)throw new _0x4e89dd(_0x4e89dd[_0xe5e2ba(0x4ea)][_0xe5e2ba(0x3a1)]);const _0x4b5b1d=_0x3dc000[_0xe5e2ba(0x203)]&&_0x3dc000[_0xe5e2ba(0x766)]?_0x3dc000['versions'][_0x3dc000[_0xe5e2ba(0x203)]-0x1]:_0x3dc000,_0x397b74=this[_0xe5e2ba(0x306)](_0x4b5b1d[_0xe5e2ba(0x729)],_0x40960e,_0xff08c9);return{'id':_0x18f4e2['id'],'modelsBucketId':_0x3dc000[_0xe5e2ba(0x37d)],'blocks':_0x397b74,'models':this['getWorkflowModels'](_0x397b74,_0x27689b),'dataBucketIds':this[_0xe5e2ba(0x987)](_0x397b74),'externalStorageConnectionIds':this[_0xe5e2ba(0x621)](_0x397b74)};}['getWorkflowModels'](_0x2fa1ae,_0x5332c1){const _0x4f927f=_0x34a0aa,_0xf7c819=new Set();for(const _0x57af4c of _0x2fa1ae)if(_0x57af4c[_0x4f927f(0x852)]!==_0x2d0ced[_0x4f927f(0x32d)]&&_0x57af4c[_0x4f927f(0x852)]!==_0x2d0ced[_0x4f927f(0x28f)]||_0xf7c819[_0x4f927f(0x4a3)](_0x57af4c[_0x4f927f(0x797)]),_0x57af4c[_0x4f927f(0x852)]===_0x2d0ced[_0x4f927f(0x29a)]||_0x57af4c[_0x4f927f(0x852)]===_0x2d0ced[_0x4f927f(0x18e)]){for(const _0x25cbb1 of[..._0x57af4c['ingestBlocks'],..._0x57af4c['retrieveBlocks']])_0x25cbb1['type']===_0x4c796f[_0x4f927f(0x873)]&&_0xf7c819[_0x4f927f(0x4a3)](_0x25cbb1['id']),_0x25cbb1['type']===_0x4c796f['Agent']&&_0xf7c819[_0x4f927f(0x4a3)](_0x25cbb1[_0x4f927f(0x797)]);}return Array['from'](_0xf7c819)[_0x4f927f(0x403)](_0x543d7c=>{const _0x4ba36b=_0x4f927f,{id:_0x434415,engineType:_0x55dbaf,taskType:_0x3266f4,inputType:_0x42b9d9,outputType:_0x2db758,sourceUrl:_0x3970d9}=_0x5332c1[_0x4ba36b(0x3f0)](_0x2b51e4=>_0x2b51e4['id']===_0x543d7c);return{'id':_0x434415,'engineType':_0x55dbaf,'taskType':_0x3266f4,'inputType':_0x42b9d9,'outputType':_0x2db758,'sourceUrl':_0x3970d9};});}[_0x34a0aa(0x987)](_0x2b9653){const _0x47cc47=_0x34a0aa,_0x14ad8e=new Set();for(const _0x462a54 of _0x2b9653)switch(_0x462a54[_0x47cc47(0x852)]){case _0x2d0ced[_0x47cc47(0x29a)]:case _0x2d0ced[_0x47cc47(0x18e)]:for(const _0x21d620 of[..._0x462a54[_0x47cc47(0x768)],..._0x462a54[_0x47cc47(0x7ba)]])_0x21d620['type']===_0x4c796f['ObjectStorageUpload']&&_0x14ad8e[_0x47cc47(0x4a3)](_0x21d620['id']);}return Array[_0x47cc47(0x856)](_0x14ad8e);}['getWorkflowExternalStorageConnections'](_0x3b0c8c){const _0x1cdcb0=_0x34a0aa,_0x457540=new Set();for(const _0x1c2ab4 of _0x3b0c8c)switch(_0x1c2ab4[_0x1cdcb0(0x852)]){case _0x2d0ced['Knowledge']:case _0x2d0ced[_0x1cdcb0(0x18e)]:for(const _0x52d0b3 of[..._0x1c2ab4[_0x1cdcb0(0x768)],..._0x1c2ab4['retrieveBlocks']])_0x52d0b3[_0x1cdcb0(0x852)]===_0x4c796f[_0x1cdcb0(0x4a6)]&&_0x457540['add'](_0x52d0b3['id']);}return Array['from'](_0x457540);}[_0x34a0aa(0x306)](_0x5ea9e6,_0x431a2b,_0x1b5493){return _0x5ea9e6['map'](_0x43132d=>{const _0x171da2=a0_0x1d5b;switch(_0x43132d[_0x171da2(0x852)]){case _0x2d0ced[_0x171da2(0x32d)]:case _0x2d0ced[_0x171da2(0x28f)]:const _0x363d0d=_0x431a2b['find'](_0xc15458=>_0xc15458['id']===_0x43132d['id']);if(!_0x363d0d)throw new _0x4e89dd(_0x4e89dd[_0x171da2(0x4ea)][_0x171da2(0x313)],{'block':_0x43132d});const _0xb615bd=_0x43132d[_0x171da2(0x2fe)]&&_0x363d0d[_0x171da2(0x766)]?_0x363d0d['versions'][_0x43132d[_0x171da2(0x2fe)]-0x1]:_0x363d0d;return{'type':_0x363d0d[_0x171da2(0x852)],'id':_0x363d0d['id'],'uid':_0x43132d[_0x171da2(0x53e)],'description':_0xb615bd['description'],'instructions':_0xb615bd[_0x171da2(0x447)],'temperature':_0xb615bd[_0x171da2(0x1b3)],'maxTokens':_0xb615bd[_0x171da2(0x445)],'modelId':_0xb615bd[_0x171da2(0x797)],'links':_0x43132d[_0x171da2(0x173)]};case _0x2d0ced['Knowledge']:case _0x2d0ced[_0x171da2(0x18e)]:const _0x47d203=_0x1b5493[_0x171da2(0x3f0)](_0x552f77=>_0x552f77['id']===_0x43132d['id']);if(!_0x47d203)throw new _0x4e89dd(_0x4e89dd[_0x171da2(0x4ea)][_0x171da2(0x313)],{'block':_0x43132d});const _0x5dba5a=_0x43132d[_0x171da2(0x2fe)]&&_0x47d203['versions']?_0x47d203[_0x171da2(0x766)][_0x43132d['version']-0x1]:_0x47d203;return{'type':_0x43132d[_0x171da2(0x852)],'id':_0x47d203['id'],'uid':_0x43132d[_0x171da2(0x53e)],'description':_0x5dba5a[_0x171da2(0x957)],'ingestBlocks':this[_0x171da2(0x88f)](_0x5dba5a[_0x171da2(0x768)],_0x431a2b),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x5dba5a[_0x171da2(0x7ba)],_0x431a2b),'links':_0x43132d[_0x171da2(0x173)]};case _0x2d0ced['Prompt']:case _0x2d0ced[_0x171da2(0x828)]:case _0x2d0ced[_0x171da2(0x2f9)]:case _0x2d0ced[_0x171da2(0x86e)]:case _0x2d0ced[_0x171da2(0x19a)]:case _0x2d0ced[_0x171da2(0x769)]:case _0x2d0ced['SentenceSplitter']:return{'type':_0x43132d[_0x171da2(0x852)],'id':_0x43132d['id'],'uid':_0x43132d[_0x171da2(0x53e)],'links':_0x43132d['links']};case _0x2d0ced['ChunkSplitter']:case _0x2d0ced[_0x171da2(0x281)]:return{'type':_0x43132d['type'],'id':_0x43132d['id'],'uid':_0x43132d['uid'],'links':_0x43132d['links'],'attributes':_0x43132d['attributes']};default:throw new _0x4e89dd(_0x4e89dd[_0x171da2(0x4ea)][_0x171da2(0x313)],{'block':_0x43132d});}});}[_0x34a0aa(0x88f)](_0x58a81d,_0x3544ab){return _0x58a81d['map'](_0xe062ec=>{const _0x30817f=a0_0x1d5b;switch(_0xe062ec[_0x30817f(0x852)]){case _0x4c796f[_0x30817f(0x32d)]:const _0x949d08=_0x3544ab[_0x30817f(0x3f0)](_0x168fe6=>_0x168fe6['id']===_0xe062ec['id']);if(!_0x949d08)throw new _0x4e89dd(_0x4e89dd[_0x30817f(0x4ea)]['WorkflowInvalidBlockType'],{'block':_0xe062ec});return{'type':_0xe062ec[_0x30817f(0x852)],'id':_0xe062ec['id'],'uid':_0xe062ec[_0x30817f(0x53e)],'description':_0x949d08[_0x30817f(0x957)],'instructions':_0x949d08[_0x30817f(0x447)],'temperature':_0x949d08[_0x30817f(0x1b3)],'maxTokens':_0x949d08['maxTokens'],'modelId':_0x949d08[_0x30817f(0x797)],'links':_0xe062ec[_0x30817f(0x173)]};case _0x4c796f[_0x30817f(0x881)]:case _0x4c796f[_0x30817f(0x42e)]:case _0x4c796f[_0x30817f(0x281)]:case _0x4c796f[_0x30817f(0x3ce)]:case _0x4c796f[_0x30817f(0x1ee)]:case _0x4c796f[_0x30817f(0x52e)]:return{'type':_0xe062ec[_0x30817f(0x852)],'id':_0xe062ec['id'],'uid':_0xe062ec['uid'],'links':_0xe062ec[_0x30817f(0x173)],'attributes':_0xe062ec['attributes']};case _0x4c796f['Model']:case _0x4c796f[_0x30817f(0x1ac)]:case _0x4c796f['KeyValueDatabase']:case _0x4c796f[_0x30817f(0x4b3)]:case _0x4c796f[_0x30817f(0x62a)]:case _0x4c796f[_0x30817f(0x640)]:case _0x4c796f[_0x30817f(0x845)]:case _0x4c796f[_0x30817f(0x4a6)]:case _0x4c796f[_0x30817f(0x299)]:case _0x4c796f[_0x30817f(0x1dd)]:return{'type':_0xe062ec['type'],'id':_0xe062ec['id'],'uid':_0xe062ec[_0x30817f(0x53e)],'links':_0xe062ec[_0x30817f(0x173)]};default:throw new _0x4e89dd(_0x4e89dd[_0x30817f(0x4ea)][_0x30817f(0x313)],{'block':_0xe062ec});}});}async['getAgents'](_0x2ba7ce){const _0x4dcab3=_0x34a0aa;return(await(0x0,_0xd69cc3[_0x4dcab3(0x1b2)])((0x0,_0xd69cc3[_0x4dcab3(0x8b4)])(_0x27d84b[_0x4dcab3(0x245)](),_0x4dcab3(0x51d)+_0x2ba7ce+_0x4dcab3(0xa0a))))[_0x4dcab3(0x7c9)][_0x4dcab3(0x403)](_0x3c5b36=>{const _0x2160d2=_0x4dcab3,_0x5e3eee=_0x3c5b36['data']();return{'type':_0x2d0ced['Agent'],'id':_0x3c5b36['id'],'description':_0x5e3eee[_0x2160d2(0x957)],'instructions':_0x5e3eee[_0x2160d2(0x447)],'temperature':_0x5e3eee[_0x2160d2(0x1b3)],'maxTokens':_0x5e3eee[_0x2160d2(0x445)],'modelId':_0x5e3eee['modelId'],'versions':_0x5e3eee[_0x2160d2(0x766)]};});}async[_0x34a0aa(0x589)](_0x578be9){const _0x5c33e5=_0x34a0aa;return(await(0x0,_0xd69cc3[_0x5c33e5(0x1b2)])((0x0,_0xd69cc3[_0x5c33e5(0x8b4)])(_0x27d84b[_0x5c33e5(0x245)](),_0x5c33e5(0x51d)+_0x578be9+_0x5c33e5(0x193))))[_0x5c33e5(0x7c9)]['map'](_0x265da1=>{const _0x418c13=_0x5c33e5,_0xb2638a=_0x265da1['data']();return{'type':_0x2d0ced[_0x418c13(0x18e)],'id':_0x265da1['id'],'description':_0xb2638a[_0x418c13(0x957)],'ingestBlocks':_0xb2638a['ingestBlocks'],'retrieveBlocks':_0xb2638a[_0x418c13(0x7ba)],'versions':_0xb2638a[_0x418c13(0x766)]};});}async['getModels'](_0x18fe34){const _0x147c93=_0x34a0aa;return(await(0x0,_0xd69cc3[_0x147c93(0x1b2)])((0x0,_0xd69cc3[_0x147c93(0x8b4)])(_0x27d84b[_0x147c93(0x245)](),_0x147c93(0x51d)+_0x18fe34+'/resources/generative-ai-model/items')))['docs'][_0x147c93(0x403)](_0x14cb83=>{const _0x4df748=_0x147c93,_0x1b7ecc=_0x14cb83[_0x4df748(0x1ad)]();return{'id':_0x14cb83['id'],'modelName':_0x1b7ecc[_0x4df748(0x3ea)],'engineType':_0x1b7ecc[_0x4df748(0x60c)],'taskType':_0x1b7ecc['task'],'inputType':_0x1b7ecc['inputType']??_0xb78473[_0x4df748(0x2ea)][_0x4df748(0x4da)],'outputType':_0x1b7ecc['outputType']??_0xb78473[_0x4df748(0x866)][_0x4df748(0x4da)],'sourceUrl':_0x1b7ecc['url']};});}}const _0x28a73c=_0x587885[_0x34a0aa(0x800)]();class _0x3d44a9 extends _0x16500d{[_0x34a0aa(0x411)];[_0x34a0aa(0x853)];[_0x34a0aa(0x940)]=0x0;[_0x34a0aa(0x81c)]=0x0;[_0x34a0aa(0x550)];constructor(_0x27a2fa,_0x5d951d,_0x8208a,_0x49fea4){const _0x507db7=_0x34a0aa;super(_0x27a2fa,_0x5d951d,_0x49fea4),this[_0x507db7(0x411)]=_0x27a2fa,this[_0x507db7(0x853)]=_0x8208a,this[_0x507db7(0x2a7)]();}[_0x34a0aa(0x5ff)](){const _0x2f2d05=_0x34a0aa;this[_0x2f2d05(0x550)]&&(clearTimeout(this['debounceStats']),delete this[_0x2f2d05(0x550)]),super[_0x2f2d05(0x5ff)]();}[_0x34a0aa(0x240)](){const _0x5b658a=_0x34a0aa;this['prompts']=0x0,this[_0x5b658a(0x81c)]=0x0,this['sendStats'](),super[_0x5b658a(0x240)]();}[_0x34a0aa(0x78a)](_0x9969aa){const _0x1226a2=_0x34a0aa,_0x4d14aa=_0x1226a2(0x841)+(0x0,_0xa47bd4['v4'])();switch(_0x9969aa['type']){case'prompt':let _0x5db64e=!0x1;const _0x52aa69=()=>{const _0x4c6a74=_0x1226a2;if(_0x5db64e)throw new _0x4e89dd(_0x4e89dd[_0x4c6a74(0x4ea)][_0x4c6a74(0x8f7)]);_0x5db64e=!0x0;},_0x358f44=()=>(_0x52aa69(),this['prompt'](_0x4d14aa,_0x9969aa['prompt'],_0x9969aa[_0x1226a2(0x21d)])),_0x19404e=()=>(_0x52aa69(),this[_0x1226a2(0x77a)](_0x4d14aa,_0x9969aa[_0x1226a2(0x687)],_0x9969aa[_0x1226a2(0x21d)]));return{'id':_0x4d14aa,'prompt':_0x9969aa[_0x1226a2(0x687)],'options':_0x9969aa[_0x1226a2(0x21d)]??{'threadId':_0x1226a2(0x846)+(0x0,_0xa47bd4['v4'])()},'run':_0x358f44,'stream':_0x19404e};case _0x1226a2(0x8d6):let _0x3caa8c=!0x1;const _0xb97782=()=>{const _0xe3e726=_0x1226a2;if(_0x3caa8c)throw new _0x4e89dd(_0x4e89dd[_0xe3e726(0x4ea)][_0xe3e726(0x8f7)]);_0x3caa8c=!0x0;},_0x1733d1=()=>(_0xb97782(),this[_0x1226a2(0x28e)](_0x4d14aa,_0x9969aa[_0x1226a2(0x607)],_0x9969aa[_0x1226a2(0x443)],_0x9969aa[_0x1226a2(0x21d)]));if(!_0x9969aa[_0x1226a2(0x21d)]?.['threadId'])throw new _0x4a345c(_0x2df194[_0x1226a2(0x862)],_0x1226a2(0x2cf));return{'id':_0x4d14aa,'rating':_0x9969aa[_0x1226a2(0x607)],'options':_0x9969aa[_0x1226a2(0x21d)]??{'threadId':_0x1226a2(0x846)+(0x0,_0xa47bd4['v4'])()},'rate':_0x1733d1};case _0x1226a2(0x961):let _0x2e6c4f=!0x1;const _0x45fd47=()=>{const _0x5d159d=_0x1226a2;if(_0x2e6c4f)throw new _0x4e89dd(_0x4e89dd[_0x5d159d(0x4ea)][_0x5d159d(0x8f7)]);_0x2e6c4f=!0x0;};return{'id':_0x4d14aa,'objectStoreId':'','documentPath':_0x9969aa[_0x1226a2(0x984)],'download':()=>(_0x45fd47(),this['internalDownloadDocument'](_0x4d14aa,_0x9969aa[_0x1226a2(0x7b2)],_0x9969aa[_0x1226a2(0x984)]))};}}async[_0x34a0aa(0x4ca)](_0x3dbb00){const _0xea95e7=_0x34a0aa;return this[_0xea95e7(0x78a)](_0x3dbb00)[_0xea95e7(0x8d6)]();}async[_0x34a0aa(0x961)](_0x4a2cad){const _0x30900e=_0x34a0aa,_0x58c175={'type':_0x30900e(0x961),'objectStoreId':'','documentPath':_0x4a2cad};return this[_0x30900e(0x78a)](_0x58c175)[_0x30900e(0x5d3)]();}async[_0x34a0aa(0x28e)](_0x10b2ae,_0x16fd3b,_0x108df3,{threadId:_0x28d185,feedback:_0x11993e=''}){const _0x8fd93c=_0x34a0aa,_0x2c0865={'type':'rate','jobId':_0x108df3,'threadId':_0x28d185,'rating':_0x16fd3b,'feedback':_0x11993e},_0x567f5f=await this[_0x8fd93c(0x69d)](_0x10b2ae,_0xb78473[_0x8fd93c(0x3f6)][_0x8fd93c(0x1f8)],_0x2c0865,{'threadId':_0x28d185,'feedback':_0x11993e});return new Promise((_0x568a57,_0x56c85d)=>{const _0x1d4a70=_0x8fd93c;let _0x23689c;const _0x48c776=_0x567f5f[_0x1d4a70(0x253)]({'next':_0x19f94c=>{const _0x306801=_0x1d4a70;switch(_0x19f94c[_0x306801(0x563)]){case _0xb78473[_0x306801(0x555)]['Completed']:clearTimeout(_0x23689c),_0x568a57(_0x19f94c['result']),_0x48c776[_0x306801(0x626)]();break;case _0xb78473[_0x306801(0x555)][_0x306801(0x2dc)]:clearTimeout(_0x23689c),_0x56c85d(new _0x4e89dd(_0x4e89dd[_0x306801(0x4ea)][_0x306801(0xa3f)],{'updatedJob':_0x19f94c})),_0x48c776['unsubscribe']();}},'error':_0x58cb76=>{const _0x35c69c=_0x1d4a70;clearTimeout(_0x23689c),_0x56c85d(new _0x4e89dd(_0x4e89dd[_0x35c69c(0x4ea)][_0x35c69c(0xa3f)],{'err':_0x58cb76})),_0x48c776['unsubscribe']();}});_0x23689c=setTimeout(()=>{const _0x18a854=_0x1d4a70;_0x56c85d(new _0x4e89dd(_0x4e89dd[_0x18a854(0x4ea)]['GenerativeAIContextJobTimeout'])),_0x48c776[_0x18a854(0x626)]();},_0x5147ca);});}async[_0x34a0aa(0x695)](_0x2a1526,_0x4c9def,_0x155cb1){const _0x3ee258=_0x34a0aa,_0x41eb04={'type':_0x3ee258(0x961),'objectStoreId':_0x4c9def,'documentPath':_0x155cb1,'threadId':_0x3ee258(0x846)+(0x0,_0xa47bd4['v4'])()},_0x5ceda5=await this['getJobObservable'](_0x2a1526,_0xb78473[_0x3ee258(0x3f6)]['Job'],_0x41eb04);return new Promise((_0x23978e,_0x233e1e)=>{const _0x429122=_0x3ee258;let _0x35c832;const _0x3ba4a9=_0x5ceda5[_0x429122(0x253)]({'next':_0x350635=>{const _0x174ac4=_0x429122;switch(_0x350635[_0x174ac4(0x563)]){case _0xb78473[_0x174ac4(0x555)][_0x174ac4(0x382)]:clearTimeout(_0x35c832),_0x23978e(_0x350635[_0x174ac4(0x2b9)]),_0x3ba4a9[_0x174ac4(0x626)]();break;case _0xb78473[_0x174ac4(0x555)]['Failed']:clearTimeout(_0x35c832),_0x233e1e(new _0x4e89dd(_0x4e89dd[_0x174ac4(0x4ea)][_0x174ac4(0xa3f)],{'updatedJob':_0x350635})),_0x3ba4a9[_0x174ac4(0x626)]();}},'error':_0x3005d3=>{const _0x212a6a=_0x429122;clearTimeout(_0x35c832),_0x233e1e(new _0x4e89dd(_0x4e89dd[_0x212a6a(0x4ea)][_0x212a6a(0xa3f)],{'err':_0x3005d3})),_0x3ba4a9['unsubscribe']();}});_0x35c832=setTimeout(()=>{const _0x38b3f4=_0x429122;_0x233e1e(new _0x4e89dd(_0x4e89dd[_0x38b3f4(0x4ea)][_0x38b3f4(0x85e)])),_0x3ba4a9[_0x38b3f4(0x626)]();},_0x5147ca);});}async[_0x34a0aa(0x687)](_0x13a74c,_0x484a5b,_0x2428ae){const _0x4e1b36=_0x34a0aa,_0x2a48f4={'type':_0x4e1b36(0x687),'prompt':_0x484a5b,'threadId':_0x2428ae?.[_0x4e1b36(0x485)]??'thread-'+(0x0,_0xa47bd4['v4'])()},_0x3efb76=await this[_0x4e1b36(0x69d)](_0x13a74c,_0xb78473[_0x4e1b36(0x3f6)]['Job'],_0x2a48f4,_0x2428ae);return new Promise((_0x7a223f,_0xac7bbc)=>{const _0x2a374e=_0x4e1b36;let _0x37bda5;const _0x348801=_0x3efb76[_0x2a374e(0x253)]({'next':_0x368636=>{const _0x16e321=_0x2a374e;switch(_0x368636[_0x16e321(0x563)]){case _0xb78473[_0x16e321(0x555)]['Completed']:if('prompt'!==_0x368636[_0x16e321(0x2b9)][_0x16e321(0x852)])return;const _0x329819=_0x368636['result'][_0x16e321(0x64a)]??0x0;this['logServiceEvent'](_0x484a5b,_0x329819),clearTimeout(_0x37bda5),_0x7a223f(_0x368636[_0x16e321(0x2b9)]),_0x348801['unsubscribe'](),this[_0x16e321(0x940)]+=0x1,this[_0x16e321(0x81c)]+=_0x329819,this[_0x16e321(0x2a7)]();break;case _0xb78473[_0x16e321(0x555)][_0x16e321(0x2dc)]:clearTimeout(_0x37bda5),_0xac7bbc(new _0x4e89dd(_0x4e89dd[_0x16e321(0x4ea)][_0x16e321(0xa3f)],{'updatedJob':_0x368636})),_0x348801['unsubscribe'](),this[_0x16e321(0x2a7)]();}},'error':_0xea3569=>{const _0x2f8773=_0x2a374e;clearTimeout(_0x37bda5),_0xac7bbc(new _0x4e89dd(_0x4e89dd[_0x2f8773(0x4ea)][_0x2f8773(0xa3f)],{'err':_0xea3569})),_0x348801['unsubscribe']();}});_0x37bda5=setTimeout(()=>{const _0x3adc42=_0x2a374e;_0xac7bbc(new _0x4e89dd(_0x4e89dd[_0x3adc42(0x4ea)][_0x3adc42(0x85e)])),_0x348801[_0x3adc42(0x626)]();},_0x5147ca);});}async*[_0x34a0aa(0x77a)](_0xa99b78,_0x387c21,_0x1a1903){const _0x53cec6=_0x34a0aa,_0x105443={'type':_0x53cec6(0x687),'prompt':_0x387c21,'threadId':_0x1a1903?.[_0x53cec6(0x485)]??'thread-'+(0x0,_0xa47bd4['v4'])()},_0x4c4126=await this[_0x53cec6(0x69d)](_0xa99b78,_0xb78473['JobType'][_0x53cec6(0x654)],_0x105443,_0x1a1903);let _0x1211ca,_0x2831c9,_0x404160=!0x1,_0x2e417f=0x0;const _0x4e9b97=[],_0x2f90ae=new Map();let _0x4ec8dd=null;const _0x3da6a5=()=>{_0x4ec8dd&&(_0x4ec8dd(),_0x4ec8dd=null);},_0x15221d=_0x669108=>{_0x404160=!0x0,_0x3da6a5(),_0x506d78['unsubscribe'](),_0x2831c9=_0x669108;},_0x506d78=_0x4c4126[_0x53cec6(0x253)]({'next':_0x1e576c=>{const _0x2e06c5=_0x53cec6;switch(_0x1e576c[_0x2e06c5(0x563)]){case _0xb78473[_0x2e06c5(0x555)][_0x2e06c5(0x919)]:if(_0x2e06c5(0x687)!==_0x1e576c[_0x2e06c5(0x2b9)][_0x2e06c5(0x852)])return;if(_0x1e576c[_0x2e06c5(0x2b9)]&&void 0x0!==_0x1e576c[_0x2e06c5(0x2b9)][_0x2e06c5(0x1e3)]){if(void 0x0===_0x1e576c[_0x2e06c5(0x2b9)][_0x2e06c5(0x968)])return void _0x15221d(_0x4e89dd[_0x2e06c5(0x4ea)]['GenerativeAIContextInvalidPartialResult']);_0x2e417f===_0x1e576c[_0x2e06c5(0x2b9)][_0x2e06c5(0x968)]?(_0x4e9b97[_0x2e06c5(0x32e)](_0x1e576c[_0x2e06c5(0x2b9)]),_0x2e417f++,((()=>{const _0x440b23=_0x2e06c5;for(;_0x2f90ae['has'](_0x2e417f);)_0x4e9b97[_0x440b23(0x32e)](_0x2f90ae['get'](_0x4e9b97[_0x440b23(0x831)])),_0x2f90ae[_0x440b23(0x9c4)](_0x4e9b97['length']),_0x2e417f++;})()),_0x3da6a5(),_0x42a3a9()):_0x2f90ae[_0x2e06c5(0x286)](_0x1e576c['result']['index'],_0x1e576c[_0x2e06c5(0x2b9)]);}break;case _0xb78473[_0x2e06c5(0x555)][_0x2e06c5(0x382)]:if(_0x2e06c5(0x687)!==_0x1e576c[_0x2e06c5(0x2b9)]['type'])return;const _0x197006=_0x1e576c[_0x2e06c5(0x2b9)][_0x2e06c5(0x64a)]??0x0;this[_0x2e06c5(0x920)](_0x387c21,_0x197006),clearTimeout(_0x1211ca),_0x15221d(),this['prompts']+=0x1,this['tokens']+=_0x197006,this[_0x2e06c5(0x2a7)]();break;case _0xb78473[_0x2e06c5(0x555)][_0x2e06c5(0x2dc)]:clearTimeout(_0x1211ca),_0x15221d(_0x4e89dd[_0x2e06c5(0x4ea)]['GenerativeAIContextJobFailed']),this[_0x2e06c5(0x2a7)]();}},'error':_0x46cdab=>{const _0x33bceb=_0x53cec6;clearTimeout(_0x1211ca),_0x15221d(_0x4e89dd[_0x33bceb(0x4ea)][_0x33bceb(0xa3f)]);}}),_0x32a9fc=()=>{const _0x22e727=_0x53cec6;_0x15221d(_0x4e89dd[_0x22e727(0x4ea)]['GenerativeAIContextJobTimeout']);},_0x42a3a9=()=>{clearTimeout(_0x1211ca),_0x1211ca=setTimeout(_0x32a9fc,_0x5147ca);};for(_0x1211ca=setTimeout(_0x32a9fc,_0x5147ca);!_0x404160||_0x4e9b97['length']>0x0;)_0x4e9b97[_0x53cec6(0x831)]>0x0?yield _0x4e9b97[_0x53cec6(0x179)]():await new Promise(_0x22e6af=>_0x4ec8dd=_0x22e6af);if(_0x2831c9)throw _0x17dbc7['error'](_0x53cec6(0x7a7),{'nodeId':this[_0x53cec6(0x411)][_0x53cec6(0x3ad)](),'nodeType':this['localNode'][_0x53cec6(0x852)]}),new _0x4e89dd(_0x2831c9);}async['getDataBucketIds'](){const _0x2117b1=_0x34a0aa;return(await _0x28a73c[_0x2117b1(0x8ee)](this['vendorId'],this[_0x2117b1(0x5b0)]))[_0x2117b1(0x720)];}[_0x34a0aa(0x920)](_0xe324c6,_0x3ed62f){const _0x20a215=_0x34a0aa,_0x47e778=this[_0x20a215(0x5b0)],_0x19bc96=this[_0x20a215(0x8a2)]();_0x17dbc7[_0x20a215(0x920)](_0x367233[_0x20a215(0x7b6)],{'topic':_0x47e778,'prompt':_0xe324c6,'type':_0x20a215(0x687),'nodeId':_0x19bc96,'tokenCount':_0x3ed62f});}async[_0x34a0aa(0x69d)](_0x3d6ca7,_0x223349,_0x5a288e,_0x57bb5c={}){const _0x1f9b0a=_0x34a0aa;let _0x1be606;switch(_0x5a288e[_0x1f9b0a(0x852)]){case'prompt':{const {threadId:_0x5d1837}=_0x57bb5c;_0x1be606={'id':_0x3d6ca7,'jobType':_0x223349,'parameters':{..._0x57bb5c,'type':_0x1f9b0a(0x687),'prompt':_0x5a288e[_0x1f9b0a(0x687)],'threadId':_0x5d1837},'status':_0xb78473['JobStatus'][_0x1f9b0a(0x452)]};break;}case _0x1f9b0a(0x8d6):{const {threadId:_0x4047f3}=_0x57bb5c;_0x1be606={'id':_0x3d6ca7,'jobType':_0x223349,'parameters':{..._0x57bb5c,'type':_0x1f9b0a(0x8d6),'jobId':_0x5a288e[_0x1f9b0a(0x443)],'rating':_0x5a288e['rating'],'feedback':_0x5a288e[_0x1f9b0a(0x459)]??'','threadId':_0x4047f3},'status':_0xb78473['JobStatus'][_0x1f9b0a(0x452)]};break;}case'downloadDocument':_0x1be606={'id':_0x3d6ca7,'jobType':_0x223349,'parameters':{..._0x57bb5c,'type':_0x1f9b0a(0x961),'objectStoreId':_0x5a288e[_0x1f9b0a(0x7b2)],'documentPath':_0x5a288e[_0x1f9b0a(0x984)]},'status':_0xb78473[_0x1f9b0a(0x555)][_0x1f9b0a(0x452)]};}return await this[_0x1f9b0a(0x82a)](_0x1be606);}['sendStats'](){const _0x297e63=_0x34a0aa;this['debounceStats']&&clearTimeout(this[_0x297e63(0x550)]),this[_0x297e63(0x550)]=setTimeout(async()=>{const _0x5131d4=_0x297e63;delete this['debounceStats'],this[_0x5131d4(0x9b5)][_0x5131d4(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459['Content'],'content':{'type':_0x5402c8[_0x5131d4(0x191)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x5131d4(0x9b0)],'messagesReceived':this[_0x5131d4(0x204)],'bytesSent':this[_0x5131d4(0x995)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x5131d4(0x940)],'tokens':this[_0x5131d4(0x81c)]}}});},_0x5c3d80);}}class _0x15273e{static [_0x34a0aa(0x1cf)];['jobQueue']=[];[_0x34a0aa(0x70f)]=!0x1;constructor(){}static[_0x34a0aa(0x800)](){const _0x177ed0=_0x34a0aa;return _0x15273e[_0x177ed0(0x1cf)]||(_0x15273e['instance']=new _0x15273e()),_0x15273e[_0x177ed0(0x1cf)];}get[_0x34a0aa(0x831)](){const _0x571711=_0x34a0aa;return this[_0x571711(0x2e1)][_0x571711(0x831)];}['isAvailable'](){const _0x2decbf=_0x34a0aa;return!this[_0x2decbf(0x70f)];}[_0x34a0aa(0x620)](_0x4a6422){const _0xbaec23=_0x34a0aa;_0x4a6422?this['jobQueue']=this[_0xbaec23(0x2e1)][_0xbaec23(0x285)](_0x3f4189=>_0x3f4189['ownerId']!==_0x4a6422):(this[_0xbaec23(0x2e1)]=[],this[_0xbaec23(0x70f)]=!0x1);}['add'](_0x30ab2d,_0x132dde){const _0x13fa3a=_0x34a0aa;this[_0x13fa3a(0x2e1)][_0x13fa3a(0x32e)]({'callback':_0x132dde,'ownerId':_0x30ab2d}),this['runJobQueue']();}async[_0x34a0aa(0x6b8)](){const _0x194581=_0x34a0aa;if(!this['isRunning']){for(this[_0x194581(0x70f)]=!0x0;this[_0x194581(0x2e1)]['length']>0x0;){const _0x49d109=this[_0x194581(0x2e1)]['shift']();if(_0x49d109)try{console[_0x194581(0xa44)]('JobQueueService:\x20Running\x20job'),await _0x49d109[_0x194581(0x30a)]();}catch(_0x34c2fe){console[_0x194581(0x165)](_0x194581(0x896),_0x34c2fe);}}this[_0x194581(0x70f)]=!0x1;}}}const _0x1e673a=_0x15273e[_0x34a0aa(0x800)]();class _0x450082 extends _0x2008ae{[_0x34a0aa(0x4c9)];[_0x34a0aa(0x96a)];constructor(_0x227bc6,_0x42c82d,_0xa2b755){const _0x45d729=_0x34a0aa;super(_0x227bc6,_0x42c82d),this[_0x45d729(0x4c9)]=_0xa2b755;}['getContentType'](){const _0x2a2027=_0x34a0aa;return _0xb78473[_0x2a2027(0x1b6)][_0x2a2027(0x1f8)];}['open'](){const _0x300594=_0x34a0aa;this[_0x300594(0x4ef)]();}[_0x34a0aa(0x39a)](){const _0x1ae5a4=_0x34a0aa;this['systemTopic']?.[_0x1ae5a4(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x1ae5a4(0x562)],'content':{'type':_0x5402c8['CloseJobWorker'],'label':this[_0x1ae5a4(0x5b0)]}});}[_0x34a0aa(0x240)](){const _0x314a25=_0x34a0aa;this[_0x314a25(0x96a)]?.(),delete this['unsubscribeListener'],this[_0x314a25(0x8f9)]();}[_0x34a0aa(0x5ff)](){const _0x3a95a2=_0x34a0aa;_0x1e673a[_0x3a95a2(0x620)](this[_0x3a95a2(0x5b0)]),this['unsubscribeListener']?.(),delete this[_0x3a95a2(0x96a)],super['destroy']();}['isAvailable'](){const _0x289c0a=_0x34a0aa;return _0x1e673a[_0x289c0a(0x426)]();}[_0x34a0aa(0xa0c)](){return 0x1;}[_0x34a0aa(0x497)](_0x28a3da,_0x16ae29,_0x3ebd85){}['accumulateResult'](_0x429377,_0x2e91b4){return _0x429377;}[_0x34a0aa(0x64f)](_0x264aff,_0x4a030b){const _0x207b81=_0x34a0aa;console[_0x207b81(0xa44)](_0x207b81(0x4bc));}[_0x34a0aa(0x7b9)](_0x5c4fb2,_0x116822){const _0x23810c=_0x34a0aa;console[_0x23810c(0xa44)](_0x23810c(0x4bc));}[_0x34a0aa(0x4ef)](){const _0x24191b=_0x34a0aa;this['unsubscribeListener']||(this[_0x24191b(0x96a)]=this['onMessage']((_0x45513a,_0x31f651)=>{const _0x2ea5f1=_0x24191b;if(_0x17dbc7[_0x2ea5f1(0x6cb)](_0x5d2ed2[_0x2ea5f1(0x437)],_0x2ea5f1(0x2d6),_0x31f651),!(_0x31f651 instanceof File)){if(this[_0x2ea5f1(0x456)](_0x31f651))_0x17dbc7[_0x2ea5f1(0x6cb)](_0x5d2ed2['Jobs'],'JobWorker:\x20Received\x20job\x20request',_0x31f651),this[_0x2ea5f1(0x426)]()?this[_0x2ea5f1(0xa13)](_0x31f651['id'],_0x31f651['jobType'],_0x45513a):this[_0x2ea5f1(0x18f)](_0x31f651['id'],_0x31f651[_0x2ea5f1(0x8d5)],_0x45513a);else{if(this[_0x2ea5f1(0x941)](_0x31f651)){_0x17dbc7[_0x2ea5f1(0x6cb)](_0x5d2ed2[_0x2ea5f1(0x437)],_0x2ea5f1(0x1c9),_0x31f651);const {id:_0x359803,parameters:_0x4464f5}=_0x31f651;this[_0x2ea5f1(0x64f)](_0x359803,_0x4464f5),_0x1e673a[_0x2ea5f1(0x4a3)](this['label'],()=>this[_0x2ea5f1(0x6b0)](_0x31f651['id'],_0x31f651,_0x45513a));}}}}));}['sendBid'](_0x19d88d,_0x53590b,_0x5bf401){const _0x35a6a1=_0x34a0aa,_0xd98e5b={'id':_0x19d88d,'jobType':_0x53590b,'jobPhase':_0x1bff38[_0x35a6a1(0x205)],'available':!0x0,'queueLength':_0x1e673a[_0x35a6a1(0x831)],'bid':this['getBid']()};_0x17dbc7[_0x35a6a1(0x6cb)](_0x5d2ed2[_0x35a6a1(0x437)],'JobWorker:\x20Sending\x20job\x20bid',_0xd98e5b),this[_0x35a6a1(0x92f)](_0xd98e5b,[_0x5bf401]);}['sendReject'](_0x52a1d7,_0x5e89ca,_0x12ffb0){const _0x80bb76=_0x34a0aa,_0x5a303e={'id':_0x52a1d7,'jobType':_0x5e89ca,'jobPhase':_0x1bff38[_0x80bb76(0x205)],'available':!0x1,'queueLength':_0x1e673a[_0x80bb76(0x831)],'bid':0x0};_0x17dbc7['log'](_0x5d2ed2['Jobs'],_0x80bb76(0x7de),_0x5a303e),this[_0x80bb76(0x92f)](_0x5a303e,[_0x12ffb0]);}async['handleJobAttribution'](_0x36538f,_0x3bdd29,_0x383e66){const _0xe697fe=_0x34a0aa;_0x17dbc7[_0xe697fe(0x6cb)](_0x5d2ed2['Jobs'],_0xe697fe(0x623),_0x3bdd29);const _0x477505={'id':_0x36538f,'jobType':_0x3bdd29[_0xe697fe(0x8d5)],'parameters':_0x3bdd29[_0xe697fe(0x7f2)]};try{switch(_0x3bdd29[_0xe697fe(0x8d5)]){case _0xb78473[_0xe697fe(0x3f6)][_0xe697fe(0x1f8)]:await this[_0xe697fe(0x57a)](_0x36538f,_0x3bdd29,_0x477505,_0x383e66);break;case _0xb78473[_0xe697fe(0x3f6)]['JobStream']:await this[_0xe697fe(0x4d0)](_0x36538f,_0x3bdd29,_0x477505,_0x383e66);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x2103d4){_0x17dbc7['error'](_0xe697fe(0x33d),{'nodeId':this[_0xe697fe(0x48c)][_0xe697fe(0x3ad)](),'nodeType':this[_0xe697fe(0x48c)][_0xe697fe(0x852)],'data':{'job':_0x477505}},_0x2103d4);const _0x4c112e=_0x2103d4 instanceof Error?_0x2103d4['message']:_0xe697fe(0x9bb),_0x39ce0d={'id':_0x36538f,'jobType':_0x3bdd29[_0xe697fe(0x8d5)],'jobPhase':_0x1bff38[_0xe697fe(0x2dc)],'message':_0x4c112e};await this['send'](_0x39ce0d,[_0x383e66]);}}async[_0x34a0aa(0x57a)](_0x4550db,_0x32c0e5,_0x89f687,_0x500e0f){const _0x5bac5c=_0x34a0aa,_0x3199d9=Date[_0x5bac5c(0x517)](),_0x422451=await this[_0x5bac5c(0x3e4)](_0x4550db,_0x89f687[_0x5bac5c(0x7f2)]);this[_0x5bac5c(0x497)](_0x422451,_0x3199d9,Date[_0x5bac5c(0x517)]());const _0x16c2bf={'id':_0x4550db,'jobType':_0x32c0e5[_0x5bac5c(0x8d5)],'jobPhase':_0x1bff38[_0x5bac5c(0x791)],'result':_0x422451};_0x17dbc7[_0x5bac5c(0x6cb)](_0x5d2ed2[_0x5bac5c(0x437)],'JobWorker:\x20Sending\x20job\x20result',_0x16c2bf),await this[_0x5bac5c(0x92f)](_0x16c2bf,[_0x500e0f]),this[_0x5bac5c(0x7b9)](_0x4550db,_0x89f687['parameters']);}async[_0x34a0aa(0x4d0)](_0x5cd33c,_0x244232,_0x4efc18,_0x4c8d9f){const _0x16b7ca=_0x34a0aa,_0x2f023c=Date[_0x16b7ca(0x517)]();let _0x4c8d77=0x0,_0x58cb1e={};for await(const _0x5aa2c3 of this[_0x16b7ca(0x26d)](_0x4efc18['id'],_0x4efc18[_0x16b7ca(0x7f2)])){const _0x52c899={'id':_0x5cd33c,'jobType':_0x244232['jobType'],'jobPhase':_0x1bff38['PartialResult'],'result':{..._0x5aa2c3,'index':_0x4c8d77}};_0x17dbc7[_0x16b7ca(0x6cb)](_0x5d2ed2[_0x16b7ca(0x437)],_0x16b7ca(0x2ab),_0x52c899),this[_0x16b7ca(0x92f)](_0x52c899,[_0x4c8d9f]),_0x58cb1e=this[_0x16b7ca(0x823)](_0x58cb1e,_0x5aa2c3),_0x4c8d77++;}this[_0x16b7ca(0x497)](_0x58cb1e,_0x2f023c,Date[_0x16b7ca(0x517)]());const _0x30e75a={'id':_0x5cd33c,'jobType':_0x244232['jobType'],'jobPhase':_0x1bff38[_0x16b7ca(0x791)],'result':_0x58cb1e};_0x17dbc7['log'](_0x5d2ed2[_0x16b7ca(0x437)],_0x16b7ca(0x3d6),_0x30e75a),await this['send'](_0x30e75a,[_0x4c8d9f]),this[_0x16b7ca(0x7b9)](_0x5cd33c,_0x4efc18[_0x16b7ca(0x7f2)]);}[_0x34a0aa(0x456)](_0x132af0){return _0x132af0['jobPhase']===_0x1bff38['Request'];}[_0x34a0aa(0x941)](_0x2bea1d){const _0x5e1020=_0x34a0aa;return _0x2bea1d[_0x5e1020(0x460)]===_0x1bff38[_0x5e1020(0x415)];}}var _0xf48d64,_0x56512d,_0x184ee4,_0x7156b2,_0x5aa705,_0xa3729,_0x5cf9d3,_0x2676e8,_0x3b8db5,_0x505942,_0x535890;function _0x19dcc3(_0x4cc974,_0x4a4869){const _0x4cc68f=_0x34a0aa;return _0x4cc68f(0x799)+_0x4cc974+'-'+_0x4a4869;}function _0x3380e2(){const _0x1046c4=_0x34a0aa,_0x43e135=_0x4842c0[_0x1046c4(0x4c8)](0x1);return _0x43e135['table'](_0x1046c4(0x71f))[_0x1046c4(0x968)]('id')[_0x1046c4(0x968)](_0x1046c4(0x443))[_0x1046c4(0x968)](_0x1046c4(0x206))[_0x1046c4(0x968)]('threadId')[_0x1046c4(0x968)](_0x1046c4(0x6a3))[_0x1046c4(0x968)]('sequence'),_0x43e135;}function _0x580da3(_0x3992d6){const _0x54a7bc=_0x34a0aa;try{return JSON[_0x54a7bc(0xa4f)](_0x3992d6);}catch(_0x3bbaad){return _0x3992d6 instanceof Error?_0x3992d6['toString']():JSON['stringify'](_0x54a7bc(0x802));}}!function(_0x260630){const _0x1b4bb3=_0x34a0aa;_0x260630['AITrace']='AITrace',_0x260630[_0x1b4bb3(0x3b9)]=_0x1b4bb3(0x3b9),_0x260630[_0x1b4bb3(0x199)]=_0x1b4bb3(0x199),_0x260630['WorkflowTrace']=_0x1b4bb3(0x505);}(_0xf48d64||(_0xf48d64={})),function(_0x2c7a59){const _0x19004d=_0x34a0aa;_0x2c7a59['ModelText']=_0x19004d(0x777),_0x2c7a59['ModelVector']=_0x19004d(0xa28),_0x2c7a59['VectorSearch']=_0x19004d(0x814),_0x2c7a59[_0x19004d(0x1ee)]=_0x19004d(0x1ee),_0x2c7a59[_0x19004d(0x215)]=_0x19004d(0x215),_0x2c7a59[_0x19004d(0x52e)]=_0x19004d(0x52e);}(_0x56512d||(_0x56512d={})),function(_0x283bba){const _0x449706=_0x34a0aa;_0x283bba[_0x283bba[_0x449706(0x254)]=0x0]=_0x449706(0x254),_0x283bba[_0x283bba['Info']=0x5]=_0x449706(0x7cc),_0x283bba[_0x283bba[_0x449706(0x4bb)]=0xa]=_0x449706(0x4bb),_0x283bba[_0x283bba['Error']=0xf]='Error';}(_0x184ee4||(_0x184ee4={})),function(_0x34fe5e){const _0xda56e2=_0x34a0aa;_0x34fe5e[_0xda56e2(0x67e)]=_0xda56e2(0x67e),_0x34fe5e[_0xda56e2(0x94b)]=_0xda56e2(0x94b),_0x34fe5e['Knowledge']=_0xda56e2(0x29a),_0x34fe5e[_0xda56e2(0x27f)]='Skill',_0x34fe5e[_0xda56e2(0x4b4)]=_0xda56e2(0x4b4),_0x34fe5e[_0xda56e2(0x1f8)]=_0xda56e2(0x1f8),_0x34fe5e[_0xda56e2(0x790)]=_0xda56e2(0x790),_0x34fe5e['Rating']='Rating';}(_0x7156b2||(_0x7156b2={})),function(_0x267366){const _0x437091=_0x34a0aa;_0x267366[_0x437091(0x326)]=_0x437091(0x326),_0x267366[_0x437091(0x382)]='Completed';}(_0x5aa705||(_0x5aa705={})),function(_0x4b0a45){const _0xf908cd=_0x34a0aa;_0x4b0a45['InitialPrompt']='InitialPrompt',_0x4b0a45[_0xf908cd(0x6dd)]=_0xf908cd(0x6dd),_0x4b0a45[_0xf908cd(0x18e)]=_0xf908cd(0x18e),_0x4b0a45[_0xf908cd(0x5dc)]=_0xf908cd(0x5dc);}(_0xa3729||(_0xa3729={})),function(_0x14ca0e){const _0x13926c=_0x34a0aa;_0x14ca0e['ChunkSplitter']=_0x13926c(0x3ce),_0x14ca0e[_0x13926c(0x62a)]='DocumentParser',_0x14ca0e[_0x13926c(0x1ee)]=_0x13926c(0x1ee),_0x14ca0e[_0x13926c(0x881)]=_0x13926c(0x881),_0x14ca0e[_0x13926c(0x32d)]=_0x13926c(0x32d),_0x14ca0e[_0x13926c(0x777)]='ModelText',_0x14ca0e['ModelVector']=_0x13926c(0xa28),_0x14ca0e[_0x13926c(0x4b3)]=_0x13926c(0x4b3),_0x14ca0e[_0x13926c(0x640)]=_0x13926c(0x640),_0x14ca0e[_0x13926c(0x42e)]='VectorDatabase',_0x14ca0e[_0x13926c(0x281)]=_0x13926c(0x281);}(_0x5cf9d3||(_0x5cf9d3={})),function(_0x307bdd){const _0x47dc10=_0x34a0aa;_0x307bdd[_0x47dc10(0x8c7)]='GetContextQuery',_0x307bdd[_0x47dc10(0x635)]=_0x47dc10(0x635);}(_0x2676e8||(_0x2676e8={})),function(_0x2e902d){const _0x191a5c=_0x34a0aa;_0x2e902d[_0x191a5c(0x83a)]=_0x191a5c(0x83a),_0x2e902d[_0x191a5c(0x162)]=_0x191a5c(0x162),_0x2e902d[_0x191a5c(0x573)]=_0x191a5c(0x573),_0x2e902d[_0x191a5c(0x261)]=_0x191a5c(0x261),_0x2e902d[_0x191a5c(0x217)]=_0x191a5c(0x217);}(_0x3b8db5||(_0x3b8db5={})),function(_0x3d3638){const _0x1d5a29=_0x34a0aa;_0x3d3638[_0x1d5a29(0x65c)]=_0x1d5a29(0x65c),_0x3d3638[_0x1d5a29(0x1e8)]='LoadSkillFunction';}(_0x505942||(_0x505942={})),function(_0x133a8b){const _0x13e443=_0x34a0aa;_0x133a8b[_0x13e443(0x6bd)]=_0x13e443(0x6bd);}(_0x535890||(_0x535890={}));class _0x46c5bd{static [_0x34a0aa(0x1cf)];['logLevel']=_0x184ee4[_0x34a0aa(0x2e3)];[_0x34a0aa(0x55f)]=_0x184ee4[_0x34a0aa(0x7cc)];[_0x34a0aa(0x69e)]=_0x7156b2[_0x34a0aa(0x67e)];['openedTraces']={};static [_0x34a0aa(0x800)]=()=>(_0x46c5bd[_0x34a0aa(0x1cf)]||(_0x46c5bd[_0x34a0aa(0x1cf)]=new _0x46c5bd()),_0x46c5bd[_0x34a0aa(0x1cf)]);[_0x34a0aa(0x6a1)](_0x3c1d0e,_0x82c71d,_0x4f973a=!0x0){const _0x34c9ad=_0x34a0aa;try{if(this[_0x34c9ad(0x3da)][_0x82c71d])throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set');const _0x2b3311={'sequence':0x0};if(this[_0x34c9ad(0x3da)][_0x82c71d]=_0x2b3311,!_0x3c1d0e)return!0x0;const _0x521f7f=function(_0x329842){const _0x3ca515=_0x34c9ad;return _0x329842['getTable'](_0x3ca515(0x71f));}(_0x3c1d0e);return _0x2b3311[_0x34c9ad(0x9d6)]=_0x3c1d0e,_0x2b3311[_0x34c9ad(0x39f)]=_0x521f7f,!0x0;}catch(_0x550041){return console[_0x34c9ad(0x165)](_0x34c9ad(0xa36)+_0x4f973a,_0x550041),!!_0x4f973a&&(this[_0x34c9ad(0x8fb)](_0x82c71d),this['openTrace'](_0x3c1d0e,_0x82c71d,!0x1));}}['trace'](_0x5c2c8d){const _0x2be8f5=_0x34a0aa;try{const _0x1afa8a=this[_0x2be8f5(0x3da)][_0x5c2c8d[_0x2be8f5(0x443)]];if(!_0x1afa8a)throw new Error(_0x2be8f5(0x333));_0x5c2c8d[_0x2be8f5(0x2d1)]=_0x1afa8a[_0x2be8f5(0x2d1)]++,_0x5c2c8d[_0x2be8f5(0x1f5)]>=this['logLevel']&&console['log'](JSON[_0x2be8f5(0xa4f)](_0x5c2c8d,null,0x2)),this[_0x2be8f5(0x75d)](_0x5c2c8d);}catch(_0x1f10ad){console['error'](_0x2be8f5(0x1f2),_0x1f10ad);}}[_0x34a0aa(0x8fb)](_0x35e586){const _0x1f7703=_0x34a0aa;if(!_0x46c5bd[_0x1f7703(0x1cf)])throw new Error(_0x1f7703(0xa4c));if(!this[_0x1f7703(0x3da)][_0x35e586])throw new Error(_0x1f7703(0x96e));delete this[_0x1f7703(0x3da)][_0x35e586];}[_0x34a0aa(0x75d)](_0x128b6d){const _0x4f7c01=_0x34a0aa;if(_0x128b6d['traceLevel']<this[_0x4f7c01(0x55f)]&&_0x128b6d[_0x4f7c01(0x8d5)]!==this[_0x4f7c01(0x69e)])return;if(!this['openedTraces'][_0x128b6d[_0x4f7c01(0x443)]])throw new Error(_0x4f7c01(0xa00));const _0x2ae6e5=this[_0x4f7c01(0x3da)][_0x128b6d[_0x4f7c01(0x443)]];if(!_0x2ae6e5['database'])throw new Error(_0x4f7c01(0x2ef));if(!_0x2ae6e5['table'])throw new Error(_0x4f7c01(0x339));try{const _0x4a34c5=function(_0x4a86ce){const _0x29e3b4=_0x4f7c01,_0x451182=['startTime','timestamp',_0x29e3b4(0x8d5),_0x29e3b4(0x852),_0x29e3b4(0x443),_0x29e3b4(0x1f5),_0x29e3b4(0x470),_0x29e3b4(0x563),_0x29e3b4(0x2d1),'errorDetails'],_0x214d37={..._0x4a86ce};for(const _0x56668b of _0x451182)delete _0x214d37[_0x56668b];return{'timestamp':_0x4a86ce[_0x29e3b4(0x6a3)],'jobType':_0x4a86ce['jobType'],'type':_0x4a86ce['type'],'jobId':_0x4a86ce[_0x29e3b4(0x443)],'agentId':_0x4a86ce[_0x29e3b4(0x206)]??'','traceLevel':_0x4a86ce[_0x29e3b4(0x1f5)],'blockId':_0x4a86ce[_0x29e3b4(0x470)]??'','startTime':_0x4a86ce['startTime'],'status':_0x4a86ce['status'],'sequence':_0x4a86ce[_0x29e3b4(0x2d1)]??0x0,'errorDetails':_0x4a86ce[_0x29e3b4(0x1ae)]??'','metadata':_0x580da3(_0x214d37)};}(_0x128b6d),_0xdb11fb=(0x0,_0xa47bd4['v4'])();console[_0x4f7c01(0x6cb)](_0x4f7c01(0xa41),_0x4a34c5[_0x4f7c01(0x852)]),_0x2ae6e5[_0x4f7c01(0x39f)]['set'](_0xdb11fb,_0x4a34c5);}catch(_0x4200c0){console[_0x4f7c01(0x165)](_0x4f7c01(0x5bc),_0x4200c0);}}}const _0x1c9b15=_0x46c5bd[_0x34a0aa(0x800)]();async function _0x5ea856(_0x127313,_0x515d30,_0x27fc7d,_0x1f3557,_0x10831a){const _0x15a4a7=_0x34a0aa,_0x2300dc=Date[_0x15a4a7(0x517)](),_0x49037f=_0x10831a['models'][_0x15a4a7(0x3f0)](_0x487afe=>_0x487afe['id']===_0x27fc7d['modelId']);if(!_0x49037f)throw new Error('Model\x20not\x20found');const _0x16d5e2=_0x10831a[_0x15a4a7(0x5da)][_0x15a4a7(0x3f0)](_0x2cb75f=>_0x2cb75f[_0x15a4a7(0x916)]()===_0x49037f[_0x15a4a7(0x55b)]);if(!_0x16d5e2)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x13655f=(0x0,_0xa47bd4['v4'])(),_0x4bd699=await _0x16d5e2[_0x15a4a7(0x57a)]({'type':_0x15a4a7(0x687),'prompt':_0x515d30,'instructions':_0x27fc7d[_0x15a4a7(0x447)],'temperature':_0x27fc7d['temperature'],'maxTokens':_0x27fc7d[_0x15a4a7(0x445)],'threadId':_0x13655f},{'model':_0x49037f});if(_0x15a4a7(0x6ce)!=typeof _0x4bd699[_0x15a4a7(0x1e3)])throw new Error(_0x15a4a7(0x49d));_0x1c9b15[_0x15a4a7(0x5f6)]({'jobType':_0x7156b2[_0x15a4a7(0x94b)],'type':_0x5cf9d3[_0x15a4a7(0x32d)],'jobId':_0x127313,'blockId':_0x27fc7d['id'],'traceLevel':_0x184ee4[_0x15a4a7(0x254)],'timestamp':Date[_0x15a4a7(0x517)](),'startTime':_0x2300dc,'status':'success','agentId':_0x13655f,'content':_0x515d30,'result':_0x4bd699[_0x15a4a7(0x1e3)]}),await _0x5f54dd(_0x127313,_0x4bd699[_0x15a4a7(0x1e3)],_0x27fc7d,_0x1f3557,_0x10831a);}async function _0xda5773(_0x4b504f,_0x1b6ce2,_0x54bb2d,_0x505d2e,_0x5abd78){const _0x2f67ca=_0x34a0aa,_0x15d763=Date[_0x2f67ca(0x517)]();let _0x34e767=[];if(_0x1b6ce2 instanceof Array){for(const _0x248411 of _0x1b6ce2)_0x34e767=_0x34e767['concat'](_0xf10bf1(_0x248411[_0x2f67ca(0x1f6)],_0x54bb2d,_0x248411[_0x2f67ca(0x9a5)],_0x248411[_0x2f67ca(0x831)]));}else _0x34e767=_0xf10bf1(_0x1b6ce2,_0x54bb2d);_0x1c9b15['trace']({'jobType':_0x7156b2['Ingest'],'type':_0x5cf9d3[_0x2f67ca(0x3ce)],'traceLevel':_0x184ee4[_0x2f67ca(0x254)],'jobId':_0x4b504f,'blockId':_0x54bb2d['id'],'startTime':_0x15d763,'timestamp':Date[_0x2f67ca(0x517)](),'status':_0x2f67ca(0x752),'totalChunks':_0x34e767[_0x2f67ca(0x831)],'chunkSize':_0x54bb2d[_0x2f67ca(0x192)][_0x2f67ca(0x57d)]}),await _0x5f54dd(_0x4b504f,_0x34e767,_0x54bb2d,_0x505d2e,_0x5abd78);}function _0xf10bf1(_0x58c57c,_0x48b322,_0x560036,_0x3a59f4){const _0x150db2=_0x34a0aa,_0xde2795=[];let _0x148277=0x0;for(let _0x2ceace=0x0;_0x2ceace<_0x58c57c[_0x150db2(0x831)];_0x2ceace+=_0x48b322[_0x150db2(0x192)][_0x150db2(0x57d)]){let _0x5e0f3b=_0x2ceace-_0x48b322[_0x150db2(0x192)]['overlap'];_0x5e0f3b<0x0&&(_0x5e0f3b=0x0);let _0x3dcc6c=_0x2ceace+_0x48b322[_0x150db2(0x192)][_0x150db2(0x57d)]+_0x48b322[_0x150db2(0x192)][_0x150db2(0x6ae)];_0x3dcc6c>_0x58c57c['length']&&(_0x3dcc6c=_0x58c57c['length']);const _0x13402c=_0x58c57c['substring'](_0x5e0f3b,_0x3dcc6c);_0xde2795['push']({'content':_0x13402c,'start':_0x560036??_0x148277,'length':_0x3a59f4??_0x13402c[_0x150db2(0x831)]}),_0x148277+=_0x13402c[_0x150db2(0x831)];}return _0xde2795;}async function _0x50d010(_0x31e9dd,_0x2f82bb,_0xd01369,_0x51d1a3,_0x530cc9){const _0xe0a9e=_0x34a0aa,_0x2c9988=Date['now']();let _0xf787e;if(_0x2f82bb['file']['type'][_0xe0a9e(0x8fd)](_0xe0a9e(0x642))||(_0x1081ac=_0x2f82bb['file'][_0xe0a9e(0x9d9)],_0x15aa7b[_0xe0a9e(0x25d)]('.'+(_0x1081ac[_0xe0a9e(0x4bf)]('.')[_0xe0a9e(0x1ea)]()?.[_0xe0a9e(0x37c)]()||''))))_0xf787e=await _0x2f82bb[_0xe0a9e(0x478)]['text']();else{if(!_0x530cc9[_0xe0a9e(0x9cc)][_0xe0a9e(0x86d)](_0x2f82bb[_0xe0a9e(0x478)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x2f82bb[_0xe0a9e(0x478)][_0xe0a9e(0x852)]+_0xe0a9e(0x29f)+_0x2f82bb[_0xe0a9e(0x478)][_0xe0a9e(0x9d9)]);_0xf787e=await _0x530cc9[_0xe0a9e(0x9cc)][_0xe0a9e(0x4a0)](_0x2f82bb[_0xe0a9e(0x478)]);}var _0x1081ac;_0x1c9b15[_0xe0a9e(0x5f6)]({'jobType':_0x7156b2[_0xe0a9e(0x94b)],'type':_0x5cf9d3[_0xe0a9e(0x62a)],'traceLevel':_0x184ee4[_0xe0a9e(0x254)],'blockId':_0xd01369['id'],'jobId':_0x31e9dd,'startTime':_0x2c9988,'timestamp':Date[_0xe0a9e(0x517)](),'status':_0xe0a9e(0x752),'documentType':_0x2f82bb[_0xe0a9e(0x478)][_0xe0a9e(0x852)],'documentName':_0x2f82bb[_0xe0a9e(0x478)][_0xe0a9e(0x9d9)],'extractionMethod':_0xe0a9e(0x3eb)}),await _0x5f54dd(_0x31e9dd,_0xf787e,_0xd01369,_0x51d1a3,_0x530cc9);}const _0x15aa7b=['.js','.ts',_0x34a0aa(0x4b5),_0x34a0aa(0x35d),_0x34a0aa(0x494),_0x34a0aa(0x90c),_0x34a0aa(0x4aa),_0x34a0aa(0x95d),_0x34a0aa(0x189),_0x34a0aa(0xa52),_0x34a0aa(0x37a),_0x34a0aa(0x7a4),_0x34a0aa(0x6b9),_0x34a0aa(0x312),_0x34a0aa(0x878),'.conf',_0x34a0aa(0x1de),_0x34a0aa(0x1da),_0x34a0aa(0x704),_0x34a0aa(0x857),'.c',_0x34a0aa(0x34d),_0x34a0aa(0x417),'.r',_0x34a0aa(0x63f),_0x34a0aa(0x4dd),_0x34a0aa(0x270),_0x34a0aa(0x3f7),'.rs',_0x34a0aa(0x92c),_0x34a0aa(0x59a),_0x34a0aa(0x258),_0x34a0aa(0x290),_0x34a0aa(0x868),_0x34a0aa(0x511),_0x34a0aa(0x466),_0x34a0aa(0x74a),_0x34a0aa(0x78b),'.vb',_0x34a0aa(0x983),_0x34a0aa(0x6c9),'.m',_0x34a0aa(0x4ce),_0x34a0aa(0x813),'.rkt',_0x34a0aa(0x93c),_0x34a0aa(0x672),_0x34a0aa(0x7a0),'.tsx',_0x34a0aa(0x24b),_0x34a0aa(0x80c),_0x34a0aa(0x776),_0x34a0aa(0x9a0),_0x34a0aa(0x38c),_0x34a0aa(0x31b),_0x34a0aa(0x934),_0x34a0aa(0x2e7),'.liquid',_0x34a0aa(0x26e),_0x34a0aa(0x757),_0x34a0aa(0x6f5),'.j2',_0x34a0aa(0x1dc)];async function _0x4f4e0c(_0x5a1701,_0x33282a,_0x24dc2c,_0x4f31cd,_0x3c7e6c){const _0x44a959=_0x34a0aa,_0x4a3d5e=Date['now'](),_0x42117c=new Set();let _0xf5e00a=0x0;for(const _0x5ce4e9 of _0x33282a)_0xf5e00a+=_0x5ce4e9[_0x44a959(0x1f6)][_0x44a959(0x831)],await _0x849eb1(_0x5ce4e9[_0x44a959(0x1f6)],_0x42117c,_0x24dc2c,_0x3c7e6c[_0x44a959(0xa31)]);_0x1c9b15[_0x44a959(0x5f6)]({'jobType':_0x7156b2[_0x44a959(0x94b)],'type':_0x5cf9d3[_0x44a959(0x1ee)],'jobId':_0x5a1701,'blockId':_0x24dc2c['id'],'traceLevel':_0x184ee4['Debug'],'startTime':_0x4a3d5e,'timestamp':Date[_0x44a959(0x517)](),'status':_0x44a959(0x752),'contentLength':_0xf5e00a,'totalChunks':_0x33282a instanceof Array?_0x33282a[_0x44a959(0x831)]:0x1,'entitiesExtracted':_0x42117c,'totalEntities':_0x42117c[_0x44a959(0x57d)]}),await _0x5f54dd(_0x5a1701,_0x42117c,_0x24dc2c,_0x4f31cd,_0x3c7e6c);}async function _0x849eb1(_0x524afa,_0x88e113,_0x34953a,_0x278935){const _0x50afa4=_0x34a0aa,_0x2485a8=await _0x278935['getEntities'](_0x524afa,{'ner':_0x34953a[_0x50afa4(0x192)]['ner'],'noun':_0x34953a[_0x50afa4(0x192)][_0x50afa4(0x6c4)],'propn':_0x34953a['attributes'][_0x50afa4(0x6da)],'verb':_0x34953a[_0x50afa4(0x192)]['verb']});for(const _0x56725d of _0x2485a8)_0x88e113[_0x50afa4(0x4a3)](_0x56725d);}function _0xacde02(_0x3699db,_0x5ca276,_0x59c3ad,_0xa106a2,_0x31623e){const _0x3204d7=_0x34a0aa,_0x24acca=Date['now']();if(_0x59c3ad['accumulated']||(_0x59c3ad[_0x3204d7(0x168)]={}),_0x3204d7(0x6ce)==typeof _0x5ca276?_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x1f6)]=_0x5ca276:_0x5ca276 instanceof Set?_0x59c3ad[_0x3204d7(0x168)]['entities']=_0x5ca276:_0x5ca276 instanceof Map?_0x59c3ad['accumulated'][_0x3204d7(0x549)]=_0x5ca276:_0x5ca276 instanceof Array?_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x968)]=_0x5ca276:_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x478)]=_0x5ca276,_0x59c3ad[_0x3204d7(0x472)]=_0x59c3ad[_0x3204d7(0x472)]?_0x59c3ad[_0x3204d7(0x472)]+0x1:0x1,_0x2bbcb5(_0x59c3ad,_0xa106a2)>_0x59c3ad[_0x3204d7(0x472)])return;if(!(_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x851)]&&_0x59c3ad[_0x3204d7(0x168)]['file']&&_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x1f6)]&&_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x968)]))throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');let _0x5d7851=0x0;const _0x14f0ba=_0x31623e[_0x3204d7(0x641)][_0x3204d7(0x6a8)](_0x59c3ad['id']);for(const _0x2d4a17 of _0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x851)]){let _0x4bd08e=[];_0x4bd08e=_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x968)][_0x3204d7(0x285)](_0x3840d7=>_0x3840d7['content'][_0x3204d7(0x25d)](_0x2d4a17));try{_0x14f0ba['addNode'](_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x478)][_0x3204d7(0x707)],_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x1f6)],_0x4bd08e,_0x2d4a17),_0x5d7851+=0x1;}catch(_0x3713c6){}}if(_0x59c3ad['accumulated'][_0x3204d7(0x549)]){for(const [_0x55bf79,_0x239c6b]of _0x59c3ad['accumulated'][_0x3204d7(0x549)])for(const _0x3ed393 of _0x239c6b)try{_0x14f0ba[_0x3204d7(0x89e)](_0x55bf79,_0x3ed393);}catch(_0x345e12){}_0x1c9b15[_0x3204d7(0x5f6)]({'jobType':_0x7156b2[_0x3204d7(0x94b)],'type':_0x5cf9d3[_0x3204d7(0x881)],'jobId':_0x3699db,'blockId':_0x59c3ad['id'],'status':_0x3204d7(0x752),'startTime':_0x24acca,'timestamp':Date[_0x3204d7(0x517)](),'traceLevel':_0x184ee4[_0x3204d7(0x254)],'nodesAdded':_0x5d7851,'entities':_0x59c3ad[_0x3204d7(0x168)][_0x3204d7(0x851)],'relations':_0x59c3ad['accumulated']['relations']});}}async function _0x7ab5b5(_0x885e6d,_0x33f269,_0x12c4a4,_0x51a1af,_0x134a88){const _0x530bb6=_0x34a0aa,_0xc92c5e=_0x134a88[_0x530bb6(0x43a)][_0x530bb6(0x3f0)](_0x155511=>_0x155511['id']===_0x12c4a4['id']);if(!_0xc92c5e)throw new Error(_0x530bb6(0x616));switch(_0xc92c5e[_0x530bb6(0x46a)]){case _0xb78473[_0x530bb6(0x866)]['Text']:if(_0x530bb6(0x6ce)!=typeof _0x33f269)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x572428,_0x17b04b,_0x449119,_0x271880,_0x2c9372,_0xd909f0){const _0x451c33=_0x530bb6,_0x58ee77=Date[_0x451c33(0x517)]();let _0x55ac60;const _0x2ab59a=_0xd909f0[_0x451c33(0x5da)]['find'](_0x336b67=>_0x336b67['getEngineType']()===_0x449119['engineType']);if(!_0x2ab59a)throw new Error(_0x451c33(0x912));_0x55ac60=await async function(_0x6a9ab8,_0x3f4411,_0x3b852f){const _0x2f7a52=_0x451c33,_0x34ec6d=await _0x3f4411[_0x2f7a52(0x57a)]({'type':'prompt','prompt':_0x6a9ab8,'threadId':''},{'model':_0x3b852f});if(_0x34ec6d[_0x2f7a52(0x1e3)]instanceof Array)throw new Error('Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text');return _0x34ec6d['output'];}(_0x17b04b,_0x2ab59a,_0x449119),_0x1c9b15['trace']({'jobType':_0x7156b2[_0x451c33(0x94b)],'type':_0x5cf9d3[_0x451c33(0x777)],'jobId':_0x572428,'blockId':_0x271880['id'],'traceLevel':_0x184ee4[_0x451c33(0x254)],'timestamp':Date['now'](),'startTime':_0x58ee77,'status':_0x451c33(0x752),'modelName':_0x449119['id'],'inputType':_0x449119[_0x451c33(0x2d7)],'outputType':_0x449119[_0x451c33(0x46a)],'content':_0x17b04b,'results':_0x55ac60}),await _0x5f54dd(_0x572428,_0x55ac60,_0x271880,_0x2c9372,_0xd909f0);}(_0x885e6d,_0x33f269,_0xc92c5e,_0x12c4a4,_0x51a1af,_0x134a88);break;case _0xb78473[_0x530bb6(0x866)][_0x530bb6(0x3a2)]:if(!(_0x33f269 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x49af00,_0x130576,_0x23dd21,_0x2c4b65,_0x70f52,_0x268642){const _0xe9596a=_0x530bb6,_0x7ced99=Date[_0xe9596a(0x517)](),_0xe69f86=[],_0x10ae6a=_0x268642['generativeAIWorkerConnectors'][_0xe9596a(0x3f0)](_0x4c7016=>_0x4c7016['getEngineType']()===_0x23dd21[_0xe9596a(0x55b)]);if(!_0x10ae6a)throw new Error(_0xe9596a(0x912));for(const _0x534626 of _0x130576)_0xe69f86[_0xe9596a(0x32e)](await _0x42cae7(_0x534626,_0x10ae6a,_0x23dd21));_0x1c9b15['trace']({'jobType':_0x7156b2[_0xe9596a(0x94b)],'type':_0x5cf9d3['ModelVector'],'jobId':_0x49af00,'blockId':_0x2c4b65['id'],'traceLevel':_0x184ee4[_0xe9596a(0x254)],'timestamp':Date[_0xe9596a(0x517)](),'startTime':_0x7ced99,'status':_0xe9596a(0x752),'modelName':_0x23dd21['id'],'inputType':_0x23dd21[_0xe9596a(0x2d7)],'outputType':_0x23dd21[_0xe9596a(0x46a)],'totalVectors':_0xe69f86[_0xe9596a(0x831)]}),await _0x5f54dd(_0x49af00,_0xe69f86,_0x2c4b65,_0x70f52,_0x268642);}(_0x885e6d,_0x33f269,_0xc92c5e,_0x12c4a4,_0x51a1af,_0x134a88);}}async function _0x42cae7(_0x2c34f3,_0x1bff8a,_0x588400){const _0x56841c=_0x34a0aa;return(await _0x1bff8a['processJob']({'type':_0x56841c(0x687),'prompt':_0x2c34f3[_0x56841c(0x1f6)],'threadId':''},{'model':_0x588400}))[_0x56841c(0x1e3)];}async function _0x31bab4(_0x43f833,_0x349d49,_0x619e34,_0x3dbcc4,_0x32a9a0){const _0x1c936f=_0x34a0aa,_0x590fbb=Date[_0x1c936f(0x517)]();if(_0x619e34[_0x1c936f(0x168)]||(_0x619e34['accumulated']={}),_0x349d49 instanceof Array?_0x619e34['accumulated']['index']=_0x349d49:_0x619e34[_0x1c936f(0x168)]['entities']=_0x349d49,_0x619e34['timesCalled']=_0x619e34[_0x1c936f(0x472)]?_0x619e34[_0x1c936f(0x472)]+0x1:0x1,_0x2bbcb5(_0x619e34,_0x3dbcc4)>_0x619e34['timesCalled'])return;if(!_0x619e34[_0x1c936f(0x168)][_0x1c936f(0x968)]||!_0x619e34[_0x1c936f(0x168)][_0x1c936f(0x851)])throw new Error(_0x1c936f(0x8a0));const _0x334740=new Map();for(const _0x236116 of _0x619e34[_0x1c936f(0x168)][_0x1c936f(0x968)])_0x2d121e(_0x236116[_0x1c936f(0x1f6)],_0x619e34[_0x1c936f(0x168)][_0x1c936f(0x851)],_0x334740);_0x1c9b15[_0x1c936f(0x5f6)]({'jobType':_0x7156b2[_0x1c936f(0x94b)],'type':_0x5cf9d3[_0x1c936f(0x4b3)],'jobId':_0x43f833,'blockId':_0x619e34['id'],'traceLevel':_0x184ee4['Debug'],'timestamp':Date[_0x1c936f(0x517)](),'startTime':_0x590fbb,'status':_0x1c936f(0x752),'entities':_0x619e34['accumulated'][_0x1c936f(0x851)],'relations':_0x334740,'totalRelationsExtracted':_0x334740[_0x1c936f(0x57d)]}),await _0x5f54dd(_0x43f833,_0x334740,_0x619e34,_0x3dbcc4,_0x32a9a0);}function _0x2d121e(_0x33f460,_0x5c0df6,_0x2680a3){const _0x136e69=_0x34a0aa;for(const _0x3e4178 of _0x5c0df6)for(const _0x459e44 of _0x5c0df6){if(_0x3e4178===_0x459e44)continue;const _0x395c2b=_0x33f460[_0x136e69(0x87b)](_0x3e4178),_0x365fd5=_0x33f460[_0x136e69(0x87b)](_0x459e44);-0x1!==_0x395c2b&&-0x1!==_0x365fd5&&(_0x2680a3[_0x136e69(0x664)](_0x3e4178)||_0x2680a3[_0x136e69(0x286)](_0x3e4178,new Set()),_0x2680a3[_0x136e69(0x56b)](_0x3e4178)[_0x136e69(0x4a3)](_0x459e44));}return _0x2680a3;}async function _0x4498d3(_0x359db4,_0x30211e,_0x58d59a,_0x22eeba,_0x42179b){const _0x1ee287=_0x34a0aa,_0x58499e=Date[_0x1ee287(0x517)]();let _0x5c8a40=[];if(_0x30211e instanceof Array)for(const _0x39b4cf of _0x30211e){const _0x2f3001=await _0x42179b['nlpLibraryConnector']['getSentences'](_0x39b4cf[_0x1ee287(0x1f6)]);_0x5c8a40=_0x5c8a40['concat'](_0x2f3001[_0x1ee287(0x403)](_0x360734=>({'content':_0x360734,'start':_0x39b4cf[_0x1ee287(0x9a5)],'length':_0x39b4cf[_0x1ee287(0x831)]})));}else _0x5c8a40=(await _0x42179b[_0x1ee287(0xa31)]['getSentences'](_0x30211e))['map'](_0x63f73b=>({'content':_0x63f73b,'start':_0x30211e[_0x1ee287(0x87b)](_0x63f73b),'length':_0x63f73b['length']}));_0x1c9b15[_0x1ee287(0x5f6)]({'jobType':_0x7156b2[_0x1ee287(0x94b)],'type':_0x5cf9d3[_0x1ee287(0x640)],'jobId':_0x359db4,'blockId':_0x58d59a['id'],'traceLevel':_0x184ee4[_0x1ee287(0x254)],'startTime':_0x58499e,'timestamp':Date[_0x1ee287(0x517)](),'status':_0x1ee287(0x752),'totalSentences':_0x5c8a40[_0x1ee287(0x831)],'averageSentenceLength':_0x5c8a40[_0x1ee287(0x25c)]((_0x55a0e5,_0x1ad647)=>_0x55a0e5+_0x1ad647[_0x1ee287(0x831)],0x0)/_0x5c8a40[_0x1ee287(0x831)]}),await _0x5f54dd(_0x359db4,_0x5c8a40,_0x58d59a,_0x22eeba,_0x42179b);}function _0x1ce462(_0x3b2efc,_0x121bda,_0xc3c20c,_0x227843,_0x53ff5c){const _0x5346c0=_0x34a0aa,_0x7fa94c=Date['now']();var _0x525795;if(_0xc3c20c['accumulated']||(_0xc3c20c[_0x5346c0(0x168)]={}),_0x121bda instanceof Array?(_0x525795=_0x121bda)[0x0]instanceof Array&&_0x5346c0(0x7f4)==typeof _0x525795[0x0]?.[0x0]?_0xc3c20c['accumulated'][_0x5346c0(0xa2a)]=_0x121bda:_0xc3c20c[_0x5346c0(0x168)][_0x5346c0(0x968)]=_0x121bda:'string'==typeof _0x121bda?_0xc3c20c[_0x5346c0(0x168)]['content']=_0x121bda:_0xc3c20c[_0x5346c0(0x168)][_0x5346c0(0x478)]=_0x121bda,_0xc3c20c[_0x5346c0(0x472)]=_0xc3c20c[_0x5346c0(0x472)]?_0xc3c20c[_0x5346c0(0x472)]+0x1:0x1,_0x2bbcb5(_0xc3c20c,_0x227843)>_0xc3c20c['timesCalled'])return;if(!(_0xc3c20c[_0x5346c0(0x168)]['content']&&_0xc3c20c[_0x5346c0(0x168)]['index']&&_0xc3c20c[_0x5346c0(0x168)][_0x5346c0(0xa2a)]&&_0xc3c20c[_0x5346c0(0x168)]['file']))throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x42f159=_0x53ff5c[_0x5346c0(0x641)]['getVectorDatabase'](_0xc3c20c['id']);_0x42f159[_0x5346c0(0x87e)](_0xc3c20c[_0x5346c0(0x168)]['file'][_0x5346c0(0x707)],_0xc3c20c[_0x5346c0(0x168)][_0x5346c0(0x1f6)],_0xc3c20c[_0x5346c0(0x168)][_0x5346c0(0x968)],_0xc3c20c[_0x5346c0(0x168)][_0x5346c0(0xa2a)]),_0x1c9b15[_0x5346c0(0x5f6)]({'jobType':_0x7156b2['Ingest'],'type':_0x5cf9d3[_0x5346c0(0x42e)],'jobId':_0x3b2efc,'blockId':_0xc3c20c['id'],'traceLevel':_0x184ee4[_0x5346c0(0x254)],'startTime':_0x7fa94c,'timestamp':Date[_0x5346c0(0x517)](),'status':'success','databaseName':_0x42f159['getName'](),'vectorsAdded':_0xc3c20c[_0x5346c0(0x168)]['vectors'][_0x5346c0(0x831)],'filePathName':_0xc3c20c['accumulated'][_0x5346c0(0x478)]['pathName']});}async function _0x5bfcc3(_0x2dbd6e,_0x54fddc,_0x5cf16a,_0x5a465c,_0x51b99e){const _0x46f1bb=_0x34a0aa,_0x5ab889=Date[_0x46f1bb(0x517)]();let _0x32ad53=[];if(_0x54fddc instanceof Array){for(const _0x10aca5 of _0x54fddc)_0x32ad53=_0x32ad53[_0x46f1bb(0x2a8)](_0x4a3b34(_0x10aca5[_0x46f1bb(0x1f6)],_0x5cf16a,_0x10aca5[_0x46f1bb(0x9a5)],_0x10aca5['length']));}else _0x32ad53=_0x4a3b34(_0x54fddc,_0x5cf16a);_0x1c9b15['trace']({'jobType':_0x7156b2['Ingest'],'type':_0x5cf9d3[_0x46f1bb(0x281)],'jobId':_0x2dbd6e,'traceLevel':_0x184ee4[_0x46f1bb(0x254)],'blockId':_0x5cf16a['id'],'startTime':_0x5ab889,'timestamp':Date['now'](),'status':_0x46f1bb(0x752),'totalChunks':_0x32ad53[_0x46f1bb(0x831)],'averageChunkLength':_0x32ad53[_0x46f1bb(0x25c)]((_0x27daea,_0x4d2844)=>_0x27daea+_0x4d2844[_0x46f1bb(0x831)],0x0)/_0x32ad53[_0x46f1bb(0x831)]}),await _0x5f54dd(_0x2dbd6e,_0x32ad53,_0x5cf16a,_0x5a465c,_0x51b99e);}function _0x4a3b34(_0x3936a8,_0x32e189,_0x1b70b9,_0x18181a){const _0x37a63f=_0x34a0aa,_0x3cf31b=[],_0xfc7f7=_0x3936a8[_0x37a63f(0x4bf)]('\x20');let _0x3f2884='',_0x25a795=0x0,_0x436974=0x0,_0x488ac3=0x0;for(const _0x1135fe of _0xfc7f7){if(_0x3f2884[_0x37a63f(0x831)]+_0x1135fe[_0x37a63f(0x831)]>_0x32e189[_0x37a63f(0x192)]['size']){const _0x373a25=_0x3f2884[_0x37a63f(0x831)];let _0x986f8d=_0x25a795,_0x510240='';for(;_0x986f8d>=0x0&&_0x510240[_0x37a63f(0x831)]+_0xfc7f7[_0x986f8d]['length']<_0x32e189[_0x37a63f(0x192)][_0x37a63f(0x6ae)];)_0x510240=_0xfc7f7[_0x986f8d]+'\x20'+_0x510240,_0x986f8d--;let _0x1d1a10=_0x436974,_0x4d1a72='';for(;_0x1d1a10<_0xfc7f7[_0x37a63f(0x831)]&&_0x4d1a72[_0x37a63f(0x831)]+_0xfc7f7[_0x1d1a10]['length']<_0x32e189[_0x37a63f(0x192)]['overlap'];)_0x4d1a72+=_0xfc7f7[_0x1d1a10]+'\x20',_0x1d1a10++;_0x3f2884=_0x510240+_0x3f2884+_0x4d1a72,_0x3cf31b[_0x37a63f(0x32e)]({'content':_0x3f2884['trim'](),'start':_0x1b70b9??_0x488ac3,'length':_0x18181a??_0x3f2884['length']}),_0x3f2884='',_0x25a795=_0x436974,_0x488ac3+=_0x373a25;}_0x3f2884+=_0x1135fe+'\x20',_0x436974++;}if(_0x3f2884[_0x37a63f(0x831)]>0x0){const _0x4283eb=_0x3f2884[_0x37a63f(0x831)];let _0x5ed366=_0x25a795,_0x2f64ce='';for(;_0x5ed366>=0x0&&_0x2f64ce[_0x37a63f(0x831)]+_0xfc7f7[_0x5ed366][_0x37a63f(0x831)]<_0x32e189['attributes'][_0x37a63f(0x6ae)];)_0x2f64ce=_0xfc7f7[_0x5ed366]+'\x20'+_0x2f64ce,_0x5ed366--;_0x3f2884=_0x2f64ce+_0x3f2884,_0x3cf31b[_0x37a63f(0x32e)]({'content':_0x3f2884[_0x37a63f(0x458)](),'start':_0x1b70b9??_0x488ac3,'length':_0x18181a??_0x4283eb});}return _0x3cf31b;}async function _0x5f54dd(_0xd8340e,_0x34ea68,_0x46526d,_0x431b9f,_0x43950e){const _0x598202=_0x34a0aa;for(const _0x4d69f5 of _0x46526d[_0x598202(0x173)]||[]){const _0x2c0329=_0x431b9f[_0x598202(0x3f0)](_0x4d04e6=>_0x4d04e6[_0x598202(0x53e)]===_0x4d69f5[_0x598202(0x53e)]);if(_0x2c0329)switch(_0x2c0329[_0x598202(0x852)]){case _0x4c796f[_0x598202(0x32d)]:await _0x5ea856(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);break;case _0x4c796f[_0x598202(0x3ce)]:await _0xda5773(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);break;case _0x4c796f[_0x598202(0x62a)]:await _0x50d010(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);break;case _0x4c796f[_0x598202(0x1ee)]:await _0x4f4e0c(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);break;case _0x4c796f[_0x598202(0x881)]:_0xacde02(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);break;case _0x4c796f[_0x598202(0x873)]:await _0x7ab5b5(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);break;case _0x4c796f['RelationExtractor']:await _0x31bab4(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);break;case _0x4c796f['SentenceSplitter']:await _0x4498d3(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);break;case _0x4c796f[_0x598202(0x42e)]:_0x1ce462(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);break;case _0x4c796f[_0x598202(0x281)]:await _0x5bfcc3(_0xd8340e,_0x34ea68,_0x2c0329,_0x431b9f,_0x43950e);}}}function _0x2bbcb5(_0x3e8e8a,_0x1d0a1d){const _0x52683c=_0x34a0aa;return _0x1d0a1d[_0x52683c(0x285)](_0x52e1f4=>_0x52e1f4[_0x52683c(0x173)]?.['some'](_0x356d91=>_0x356d91[_0x52683c(0x53e)]===_0x3e8e8a[_0x52683c(0x53e)]))[_0x52683c(0x831)];}async function _0x112ff6(_0x1d5149,_0x1dd811,_0x386493,_0x3d08dc,_0x2621ea){const _0x199523=_0x34a0aa;try{let _0x13346d;switch(_0x386493[_0x199523(0x852)]){case _0x4c796f['ObjectStorageUpload']:const _0x19424b=_0x2621ea[_0x199523(0x641)][_0x199523(0x7c6)](_0x386493['id']);_0x13346d=await _0x19424b['get'](_0x1dd811);break;case _0x4c796f[_0x199523(0x4a6)]:const _0x301d7f=_0x2621ea[_0x199523(0x641)][_0x199523(0x9d8)](_0x386493['id']);_0x13346d=await _0x301d7f[_0x199523(0x56b)](_0x1dd811);}if(!_0x13346d)throw new Error('Failed\x20to\x20get\x20file');await _0x5f54dd(_0x1d5149,{'file':_0x13346d,'pathName':_0x1dd811},_0x386493,structuredClone(_0x3d08dc),_0x2621ea);}catch(_0x1c8079){console[_0x199523(0x165)](_0x199523(0x66b),_0x1c8079);}}async function _0x404acf(_0x2b2356,_0x179601,_0x2cbed7,_0x54ee2a,_0x5f894a,_0x293a20,_0x3a7b6e){const _0xf74730=_0x34a0aa,_0x2f9e9d=Date['now'](),_0x2d804a=new Set();if(_0x2cbed7 instanceof Array){for(const _0x203224 of _0x2cbed7)await _0x343faf(_0x203224['content'],_0x5f894a,_0x2d804a,_0x3a7b6e[_0xf74730(0xa31)]);}else await _0x343faf(_0x2cbed7,_0x5f894a,_0x2d804a,_0x3a7b6e['nlpLibraryConnector']);_0x1c9b15[_0xf74730(0x5f6)]({'jobType':_0x7156b2[_0xf74730(0x67e)],'type':_0x56512d[_0xf74730(0x1ee)],'jobId':_0x2b2356,'threadId':_0x179601,'blockId':_0x5f894a['id'],'traceLevel':_0x184ee4[_0xf74730(0x254)],'startTime':_0x2f9e9d,'timestamp':Date['now'](),'status':'success','content':_0x2cbed7,'entitiesExtracted':Array[_0xf74730(0x856)](_0x2d804a),'totalEntities':_0x2d804a['size']}),await _0x110be5(_0x2b2356,_0x179601,_0x2d804a,_0x54ee2a,_0x5f894a,_0x293a20,_0x3a7b6e);}async function _0x343faf(_0x572cfa,_0x43f5b9,_0x42e56e,_0x43c4bc){const _0x168890=_0x34a0aa,_0x4bf4c5=await _0x43c4bc[_0x168890(0x74b)](_0x572cfa,{'ner':_0x43f5b9[_0x168890(0x192)][_0x168890(0x207)],'noun':_0x43f5b9[_0x168890(0x192)][_0x168890(0x6c4)],'propn':_0x43f5b9['attributes'][_0x168890(0x6da)],'verb':_0x43f5b9[_0x168890(0x192)][_0x168890(0x50c)]});for(const _0x390db6 of _0x4bf4c5)_0x42e56e[_0x168890(0x4a3)](_0x390db6);}async function _0x331d73(_0x3ebeca,_0x25ab17,_0x325356,_0x17cefa,_0x192582,_0x1a4138,_0x20eb32){const _0x596103=_0x34a0aa,_0x46739f=Date[_0x596103(0x517)]();if(_0x192582[_0x596103(0x168)]||(_0x192582[_0x596103(0x168)]={}),_0x325356 instanceof Array?(_0x192582[_0x596103(0x168)]['results']||(_0x192582['accumulated'][_0x596103(0x946)]=[]),_0x192582[_0x596103(0x168)]['results'][_0x596103(0x32e)](..._0x325356)):_0x325356 instanceof Set?_0x192582['accumulated']['entities']=_0x325356:_0x192582[_0x596103(0x168)][_0x596103(0x687)]=_0x325356,_0x192582[_0x596103(0x472)]=_0x192582[_0x596103(0x472)]?_0x192582[_0x596103(0x472)]+0x1:0x1,_0x3a6e56(_0x192582,_0x1a4138)>_0x192582[_0x596103(0x472)])return;if(!_0x192582[_0x596103(0x168)][_0x596103(0x687)]&&!_0x192582[_0x596103(0x168)]['results']||!_0x192582[_0x596103(0x168)][_0x596103(0x851)])throw new Error(_0x596103(0x3b1));const _0x1b657d=_0x20eb32[_0x596103(0x641)]['getGraphDatabase'](_0x192582['id'])[_0x596103(0x534)](Array['from'](_0x192582['accumulated'][_0x596103(0x851)]),_0x192582['attributes'][_0x596103(0x5c2)],_0x192582['attributes']['contentSize']);let _0x3d8eac=[];for(const _0xa4049 in _0x1b657d){const _0x164299=_0x1b657d[_0xa4049];for(const _0x353656 of _0x164299){let _0x8a055d=0x0;if(_0x192582[_0x596103(0x168)][_0x596103(0x687)]&&(_0x8a055d=await _0x20eb32[_0x596103(0xa31)][_0x596103(0x5ba)](_0x192582[_0x596103(0x168)][_0x596103(0x687)],_0x353656)),_0x192582[_0x596103(0x168)]['results']){for(const _0xfa2fa5 of _0x192582[_0x596103(0x168)][_0x596103(0x946)])_0x8a055d=Math[_0x596103(0x6a6)](_0x8a055d,await _0x20eb32[_0x596103(0xa31)][_0x596103(0x5ba)](_0xfa2fa5[_0x596103(0x1f6)],_0x353656));}_0x8a055d<_0x192582[_0x596103(0x192)][_0x596103(0x255)]||_0x3d8eac[_0x596103(0x32e)]({'content':_0x353656,'relevance':_0x8a055d,'pathName':_0xa4049});}}_0x3d8eac=_0x3d8eac[_0x596103(0x9b6)]((_0x40ab22,_0x58c424)=>_0x58c424['relevance']-_0x40ab22[_0x596103(0x2c6)])[_0x596103(0x28b)](0x0,_0x192582[_0x596103(0x192)][_0x596103(0x70c)]),_0x1c9b15[_0x596103(0x5f6)]({'jobType':_0x7156b2[_0x596103(0x67e)],'type':_0x56512d['GraphSearch'],'jobId':_0x3ebeca,'threadId':_0x25ab17,'blockId':_0x192582['id'],'traceLevel':_0x184ee4['Debug'],'timestamp':Date[_0x596103(0x517)](),'startTime':_0x46739f,'status':'success','content':_0x325356,'topResults':_0x3d8eac,'numResults':_0x3d8eac['length']}),await _0x110be5(_0x3ebeca,_0x25ab17,_0x3d8eac,_0x17cefa,_0x192582,_0x1a4138,_0x20eb32);}async function _0x5474a9(_0x508677,_0x15b78c,_0x4a0bcb,_0x4fffd8,_0xcbf78,_0x151d40,_0x97cb92){const _0x541ac2=_0x34a0aa,_0x2af911=_0x97cb92[_0x541ac2(0x43a)]['find'](_0x32b7e0=>_0x32b7e0['id']===_0xcbf78['id']);if(!_0x2af911)throw new Error(_0x541ac2(0x616));let _0x316908='';switch(_0x316908=_0x4a0bcb instanceof Array?_0x4a0bcb[_0x541ac2(0x403)](_0x20a8b2=>_0x20a8b2[_0x541ac2(0x1f6)])['join'](',\x20'):_0x4a0bcb,_0x2af911[_0x541ac2(0x46a)]){case _0xb78473[_0x541ac2(0x866)][_0x541ac2(0x4da)]:await async function(_0x491658,_0x892573,_0xd664b0,_0x4ca4a8,_0x108e15,_0x554d6a,_0x6a3607,_0x53c717){const _0x41587a=_0x541ac2,_0x1999de=Date[_0x41587a(0x517)](),_0x347892=_0x53c717[_0x41587a(0x5da)][_0x41587a(0x3f0)](_0x576edf=>_0x576edf[_0x41587a(0x916)]()===_0x108e15[_0x41587a(0x55b)]);if(!_0x347892)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x1cb9bc=await async function(_0x1eb5fe,_0x13dc47,_0x34ae8e,_0x4743ed,_0xf5da00){const _0x458116=_0x41587a,_0x572ac9={'type':'prompt','prompt':_0x13dc47,'threadId':_0x1eb5fe};_0x34ae8e[_0x458116(0x726)][_0x458116(0x831)]>0x0&&(_0x572ac9[_0x458116(0x447)]=_0x458116(0x905)+_0x34ae8e['context']['map'](_0x2ad40c=>'From\x20'+_0x2ad40c[_0x458116(0x707)]+':\x20'+_0x2ad40c[_0x458116(0x1f6)])[_0x458116(0x45b)]('\x0a'));const _0x2b0826=await _0x4743ed[_0x458116(0x57a)](_0x572ac9,{'model':_0xf5da00});if(_0x2b0826[_0x458116(0x1e3)]instanceof Array)throw new Error('Unexpected\x20output\x20type');return _0x34ae8e[_0x458116(0x64a)]+=_0x2b0826[_0x458116(0x64a)]??0x0,_0x34ae8e[_0x458116(0x372)]+=_0x2b0826[_0x458116(0x372)]??0x0,_0x2b0826[_0x458116(0x1e3)];}(_0x892573,_0xd664b0,_0x4ca4a8,_0x347892,_0x108e15);_0x1c9b15['trace']({'jobType':_0x7156b2[_0x41587a(0x67e)],'type':_0x56512d['ModelText'],'jobId':_0x491658,'threadId':_0x892573,'blockId':_0x554d6a['id'],'traceLevel':_0x184ee4['Debug'],'startTime':_0x1999de,'timestamp':Date[_0x41587a(0x517)](),'status':_0x41587a(0x752),'modelName':_0x108e15['id'],'content':_0xd664b0,'newPrompt':_0x1cb9bc,'inputType':_0x108e15[_0x41587a(0x2d7)],'outputType':_0x108e15[_0x41587a(0x46a)]}),await _0x110be5(_0x491658,_0x892573,_0x1cb9bc,_0x4ca4a8,_0x554d6a,_0x6a3607,_0x53c717);}(_0x508677,_0x15b78c,_0x316908,_0x4fffd8,_0x2af911,_0xcbf78,_0x151d40,_0x97cb92);break;case _0xb78473[_0x541ac2(0x866)][_0x541ac2(0x3a2)]:await async function(_0x3e536a,_0x2af129,_0xd3be95,_0x18dafa,_0x1378f3,_0x23e3a2,_0x43f6ee,_0x28f15f){const _0x5d51f5=_0x541ac2,_0x106368=Date[_0x5d51f5(0x517)](),_0xfe93f7=_0x28f15f[_0x5d51f5(0x5da)][_0x5d51f5(0x3f0)](_0x35f006=>_0x35f006['getEngineType']()===_0x1378f3['engineType']);if(!_0xfe93f7)throw new Error(_0x5d51f5(0x912));const _0x559065=await async function(_0x53d677,_0x2a1030,_0x2ae373,_0x61e0e8){const _0x206a70=_0x5d51f5;return(await _0x2ae373['processJob']({'type':_0x206a70(0x687),'prompt':_0x2a1030,'threadId':_0x53d677},{'model':_0x61e0e8}))[_0x206a70(0x1e3)];}(_0x2af129,_0xd3be95,_0xfe93f7,_0x1378f3);_0x1c9b15[_0x5d51f5(0x5f6)]({'jobType':_0x7156b2['Retrieve'],'type':_0x56512d[_0x5d51f5(0xa28)],'jobId':_0x3e536a,'threadId':_0x2af129,'blockId':_0x23e3a2['id'],'traceLevel':_0x184ee4[_0x5d51f5(0x254)],'startTime':_0x106368,'timestamp':Date[_0x5d51f5(0x517)](),'status':_0x5d51f5(0x752),'modelName':_0x1378f3['id'],'content':_0xd3be95,'totalVectors':_0x559065[_0x5d51f5(0x831)]}),await _0x110be5(_0x3e536a,_0x2af129,_0x559065,_0x18dafa,_0x23e3a2,_0x43f6ee,_0x28f15f);}(_0x508677,_0x15b78c,_0x316908,_0x4fffd8,_0x2af911,_0xcbf78,_0x151d40,_0x97cb92);}}async function _0x38e8bf(_0x502a55,_0x41c580,_0x330e75,_0x7c8e03,_0x4676c4,_0x484b39,_0xa3b92d){const _0x1cb73d=_0x34a0aa,_0x1238b0=Date[_0x1cb73d(0x517)](),_0x2d3b20=_0xa3b92d[_0x1cb73d(0x641)][_0x1cb73d(0x927)](_0x4676c4['id'])[_0x1cb73d(0x3b5)](_0x330e75,_0x4676c4[_0x1cb73d(0x192)][_0x1cb73d(0x70c)],_0x4676c4['attributes'][_0x1cb73d(0x255)],_0x4676c4[_0x1cb73d(0x192)][_0x1cb73d(0x96f)]);_0x1c9b15[_0x1cb73d(0x5f6)]({'jobType':_0x7156b2[_0x1cb73d(0x67e)],'type':_0x56512d[_0x1cb73d(0x814)],'jobId':_0x502a55,'threadId':_0x41c580,'blockId':_0x4676c4['id'],'traceLevel':_0x184ee4[_0x1cb73d(0x254)],'startTime':_0x1238b0,'timestamp':Date[_0x1cb73d(0x517)](),'status':'success','topResults':_0x2d3b20,'numResults':_0x2d3b20[_0x1cb73d(0x831)]}),await _0x110be5(_0x502a55,_0x41c580,_0x2d3b20,_0x7c8e03,_0x4676c4,_0x484b39,_0xa3b92d);}async function _0x338844(_0x4f0974,_0x52ab8e,_0x3e65f9,_0x3a05b5,_0x1f7b58,_0x528153,_0x1a412f){const _0x551075=_0x34a0aa,_0x1e3edd=Date[_0x551075(0x517)]();if(_0x1f7b58[_0x551075(0x168)]||(_0x1f7b58['accumulated']={}),_0x3e65f9 instanceof Array?(_0x1f7b58[_0x551075(0x168)][_0x551075(0x946)]||(_0x1f7b58[_0x551075(0x168)]['results']=[]),_0x1f7b58[_0x551075(0x168)][_0x551075(0x946)][_0x551075(0x32e)](..._0x3e65f9)):_0x1f7b58[_0x551075(0x168)]['prompt']=_0x3e65f9,_0x1f7b58['timesCalled']=_0x1f7b58[_0x551075(0x472)]?_0x1f7b58[_0x551075(0x472)]+0x1:0x1,_0x3a6e56(_0x1f7b58,_0x528153)>_0x1f7b58[_0x551075(0x472)])return;if(!_0x1f7b58[_0x551075(0x168)]['prompt']||!_0x1f7b58[_0x551075(0x168)][_0x551075(0x946)])throw new Error(_0x551075(0x74e));for(const _0x1de082 of _0x1f7b58[_0x551075(0x168)][_0x551075(0x946)])_0x1de082[_0x551075(0x2c6)]=await _0x1a412f[_0x551075(0xa31)]['getSimilarity'](_0x1f7b58['accumulated']['prompt'],_0x1de082[_0x551075(0x1f6)]);const _0x4ae6b1=_0x1f7b58[_0x551075(0x168)]['results'][_0x551075(0x285)](_0x6c9058=>_0x6c9058[_0x551075(0x2c6)]>_0x1f7b58[_0x551075(0x192)][_0x551075(0x255)])[_0x551075(0x9b6)]((_0x361528,_0x116c38)=>_0x116c38[_0x551075(0x2c6)]-_0x361528['relevance'])[_0x551075(0x28b)](0x0,_0x1f7b58[_0x551075(0x192)][_0x551075(0x70c)]);_0x1c9b15[_0x551075(0x5f6)]({'jobType':_0x7156b2[_0x551075(0x67e)],'type':_0x56512d['Reranker'],'jobId':_0x4f0974,'threadId':_0x52ab8e,'blockId':_0x1f7b58['id'],'traceLevel':_0x184ee4[_0x551075(0x254)],'startTime':_0x1e3edd,'timestamp':Date[_0x551075(0x517)](),'status':_0x551075(0x752),'inputResults':_0x1f7b58['accumulated']['results'],'rerankedResults':_0x4ae6b1}),await _0x110be5(_0x4f0974,_0x52ab8e,_0x4ae6b1,_0x3a05b5,_0x1f7b58,_0x528153,_0x1a412f);}async function _0x110be5(_0x47fd29,_0x44773f,_0x3694ac,_0x42e960,_0x515bc2,_0x14656a,_0x174008){const _0x1e27bd=_0x34a0aa;for(const _0x31e446 of _0x515bc2[_0x1e27bd(0x173)]||[]){const _0x3a15da=_0x14656a[_0x1e27bd(0x3f0)](_0x40a3d4=>_0x40a3d4[_0x1e27bd(0x53e)]===_0x31e446[_0x1e27bd(0x53e)]);if(_0x3a15da)switch(_0x3a15da[_0x1e27bd(0x852)]){case _0x4c796f[_0x1e27bd(0x299)]:_0x42e960['context'][_0x1e27bd(0x32e)](..._0x3694ac);break;case _0x4c796f['EntityExtractor']:await _0x404acf(_0x47fd29,_0x44773f,_0x3694ac,_0x42e960,_0x3a15da,_0x14656a,_0x174008);break;case _0x4c796f[_0x1e27bd(0x881)]:await _0x331d73(_0x47fd29,_0x44773f,_0x3694ac,_0x42e960,_0x3a15da,_0x14656a,_0x174008);break;case _0x4c796f['Model']:await _0x5474a9(_0x47fd29,_0x44773f,_0x3694ac,_0x42e960,_0x3a15da,_0x14656a,_0x174008);break;case _0x4c796f[_0x1e27bd(0x52e)]:await _0x338844(_0x47fd29,_0x44773f,_0x3694ac,_0x42e960,_0x3a15da,_0x14656a,_0x174008);break;case _0x4c796f[_0x1e27bd(0x42e)]:await _0x38e8bf(_0x47fd29,_0x44773f,_0x3694ac,_0x42e960,_0x3a15da,_0x14656a,_0x174008);}}}function _0x3a6e56(_0x2043ff,_0x2e1553){const _0x385a4b=_0x34a0aa;return _0x2e1553[_0x385a4b(0x285)](_0x37f200=>_0x37f200['links']?.['some'](_0x434f97=>_0x434f97[_0x385a4b(0x53e)]===_0x2043ff[_0x385a4b(0x53e)]))['length'];}async function _0x102a0b(_0x1d0e0a,_0x6f7707,_0x5d49e7,_0x3f252d,_0x1213bc,_0x5cfe9f){const _0x2a88fd=_0x34a0aa,_0x95760d={'type':_0x2a88fd(0x687),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x110be5(_0x1d0e0a,_0x6f7707,_0x5d49e7,_0x95760d,_0x3f252d,structuredClone(_0x1213bc),_0x5cfe9f),_0x95760d['output']='Additional\x20context:\x0a'+_0x95760d[_0x2a88fd(0x726)][_0x2a88fd(0x403)](_0x2ca547=>_0x2a88fd(0x42f)+_0x2ca547[_0x2a88fd(0x707)]+':\x20'+_0x2ca547['content'])[_0x2a88fd(0x45b)]('\x0a');}catch(_0x11909c){console[_0x2a88fd(0x165)](_0x2a88fd(0x7a1),_0x11909c);}return _0x95760d;}function _0x200779(_0x2bbdaf,_0x46fa12,_0x40d175,_0x5887a6,_0x5f5bd6,_0x22330c,_0x28ac1b){const _0xf8cd5a=_0x34a0aa,_0x23b86f=new Map(),_0x3f13ed=_0x22330c[_0xf8cd5a(0x285)](_0x5a325a=>_0x5a325a[_0xf8cd5a(0x173)]?.['find'](_0x46a12d=>_0x46a12d['uid']===_0x5f5bd6[_0xf8cd5a(0x53e)]&&(_0x46a12d[_0xf8cd5a(0x852)]===_0x165347['Knowledge']||_0x46a12d[_0xf8cd5a(0x852)]===_0x165347[_0xf8cd5a(0x27f)])));for(const _0x29e132 of _0x3f13ed)_0x29e132[_0xf8cd5a(0x852)]===_0x2d0ced['Knowledge']||_0x29e132[_0xf8cd5a(0x852)]===_0x2d0ced[_0xf8cd5a(0x18e)]?_0x23b86f[_0xf8cd5a(0x286)](_0xf8cd5a(0x73d)+_0x29e132['id'],_0x33f016(_0x2bbdaf,_0x46fa12,_0x40d175,_0x5887a6,_0x29e132,_0x28ac1b)):_0x29e132[_0xf8cd5a(0x852)]===_0x2d0ced[_0xf8cd5a(0x28f)]||_0x29e132[_0xf8cd5a(0x852)]===_0x2d0ced[_0xf8cd5a(0x32d)]?_0x23b86f[_0xf8cd5a(0x286)](_0xf8cd5a(0x87f)+_0x29e132['id'],_0x429bfe(_0x2bbdaf,_0x46fa12,_0x40d175,_0x5887a6,_0x29e132,_0x28ac1b)):_0x23b86f['set'](_0x45d208(_0x29e132),_0x369b84(_0x2bbdaf,_0x46fa12,_0x40d175,_0x29e132,_0x28ac1b));return _0x23b86f;}function _0x429bfe(_0x4f4134,_0x33f153,_0x50dcf9,_0x59223a,_0x39d4cd,_0x5b2c4c){const _0x10a2f9=_0x34a0aa,_0x3b1236=_0x10a2f9(0x283)+_0x39d4cd['description']+'\x20to\x20generate\x20a\x20response\x20based\x20on\x20the\x20provided\x20user\x20prompt\x20and\x20agent\x20prompt.',_0x5c9954={'userPrompt':{'type':_0xb78473[_0x10a2f9(0xa09)][_0x10a2f9(0x3d2)]},'agentPrompt':{'type':_0xb78473[_0x10a2f9(0xa09)][_0x10a2f9(0x3d2)]}};return _0x1c9b15[_0x10a2f9(0x5f6)]({'jobType':_0x7156b2[_0x10a2f9(0x790)],'type':_0x505942[_0x10a2f9(0x1e8)],'jobId':_0x4f4134,'agentId':_0x33f153,'threadId':_0x50dcf9,'traceLevel':_0x184ee4[_0x10a2f9(0x7cc)],'startTime':Date[_0x10a2f9(0x517)](),'timestamp':Date[_0x10a2f9(0x517)](),'status':'success','function':_0x3b8db5['ExecuteAgent'],'params':_0x5c9954,'functionDescription':_0x3b1236}),{'description':_0x3b1236,'params':_0x5c9954,'callback':async _0x9cca97=>{const _0x1f4a02=_0x10a2f9,_0xee11aa=Date['now']();if(_0x1f4a02(0x6ce)!=typeof _0x9cca97?.[_0x1f4a02(0x513)])return'userPrompt\x20is\x20required';if('string'!=typeof _0x9cca97?.[_0x1f4a02(0x465)])return _0x1f4a02(0x91e);try{const _0x2663fe=_0x5b2c4c['models']['find'](_0x251afd=>_0x251afd['id']===_0x39d4cd[_0x1f4a02(0x797)]);if(!_0x2663fe)throw new Error(_0x1f4a02(0x616));const _0x5cddf5=_0x5b2c4c['generativeAIWorkerConnectors'][_0x1f4a02(0x3f0)](_0x13fdf6=>_0x13fdf6[_0x1f4a02(0x916)]()===_0x2663fe[_0x1f4a02(0x55b)]);if(!_0x5cddf5)throw new Error(_0x1f4a02(0x912));const _0x3d0cc7=(0x0,_0xa47bd4['v4'])(),_0x4f75a4=await _0x5cddf5[_0x1f4a02(0x57a)]({'type':_0x1f4a02(0x687),'prompt':_0x9cca97[_0x1f4a02(0x465)],'instructions':_0x39d4cd['instructions']+_0x1f4a02(0x1e7)+_0x9cca97[_0x1f4a02(0x513)],'temperature':_0x39d4cd[_0x1f4a02(0x1b3)],'maxTokens':_0x39d4cd['maxTokens'],'threadId':_0x50dcf9},{'model':_0x2663fe});if(_0x1f4a02(0x6ce)!=typeof _0x4f75a4[_0x1f4a02(0x1e3)])throw new Error(_0x1f4a02(0x49d));return _0x1c9b15['trace']({'jobType':_0x7156b2[_0x1f4a02(0x27f)],'type':_0x3b8db5['ExecuteAgent'],'jobId':_0x4f4134,'blockId':_0x39d4cd['id'],'agentId':_0x3d0cc7,'threadId':_0x50dcf9,'traceLevel':_0x184ee4['Info'],'startTime':_0xee11aa,'timestamp':Date[_0x1f4a02(0x517)](),'status':_0x1f4a02(0x752),'userPrompt':_0x9cca97[_0x1f4a02(0x513)],'agentPrompt':_0x9cca97[_0x1f4a02(0x465)],'result':_0x4f75a4[_0x1f4a02(0x1e3)],'inputTokens':_0x4f75a4['inputTokens']??0x0,'outputTokens':_0x4f75a4['outputTokens']??0x0}),_0x59223a[_0x1f4a02(0x64a)]+=_0x4f75a4['inputTokens']??0x0,_0x59223a['outputTokens']+=_0x4f75a4['outputTokens']??0x0,_0x4f75a4['output'];}catch(_0x142aa1){return console['error'](_0x142aa1),_0x1c9b15['trace']({'jobType':_0x7156b2['Skill'],'type':_0x3b8db5[_0x1f4a02(0x217)],'jobId':_0x4f4134,'blockId':_0x39d4cd['id'],'agentId':_0x33f153,'threadId':_0x50dcf9,'traceLevel':_0x184ee4['Info'],'startTime':_0xee11aa,'timestamp':Date[_0x1f4a02(0x517)](),'status':_0x1f4a02(0x165),'errorDetails':_0x556be6(_0x142aa1),'userPrompt':_0x9cca97[_0x1f4a02(0x513)],'agentPrompt':_0x9cca97[_0x1f4a02(0x465)],'result':'','inputTokens':0x0,'outputTokens':0x0}),'Error\x20executing\x20agent';}}};}function _0x33f016(_0x4bf34e,_0x504a78,_0x3e29ef,_0x258533,_0x2b2b32,_0x5cf16c){const _0x5df995=_0x34a0aa,_0x4267f6=_0x5df995(0x850)+_0x2b2b32['description']+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.',_0x788af7={'queryOrPrompt':{'type':_0xb78473[_0x5df995(0xa09)][_0x5df995(0x3d2)]}};return _0x1c9b15[_0x5df995(0x5f6)]({'jobType':_0x7156b2[_0x5df995(0x790)],'type':_0x505942['LoadKnowledgeFunction'],'jobId':_0x4bf34e,'agentId':_0x504a78,'threadId':_0x3e29ef,'blockId':_0x2b2b32['id'],'traceLevel':_0x184ee4[_0x5df995(0x7cc)],'startTime':Date[_0x5df995(0x517)](),'timestamp':Date[_0x5df995(0x517)](),'status':_0x5df995(0x752),'function':_0x2676e8[_0x5df995(0x8c7)],'params':_0x788af7,'functionDescription':_0x4267f6}),{'description':_0x4267f6,'params':_0x788af7,'callback':async _0x2a3e7a=>{const _0x85be14=_0x5df995,_0x2158c5=Date[_0x85be14(0x517)]();if(_0x85be14(0x6ce)!=typeof _0x2a3e7a?.[_0x85be14(0x9bf)])return _0x85be14(0x342);try{const _0xbcde36=_0x2b2b32['retrieveBlocks'][_0x85be14(0x3f0)](_0x1bb876=>_0x1bb876[_0x85be14(0x852)]===_0x4c796f[_0x85be14(0x1dd)]),_0x7593b0=await _0x102a0b(_0x4bf34e,_0x3e29ef,_0x2a3e7a[_0x85be14(0x9bf)],_0xbcde36,_0x2b2b32[_0x85be14(0x7ba)],_0x5cf16c);return _0x258533[_0x85be14(0x726)]=Array['from'](new Set([..._0x258533['context'],..._0x7593b0[_0x85be14(0x726)]])),_0x258533[_0x85be14(0x64a)]+=_0x7593b0['inputTokens']??0x0,_0x258533[_0x85be14(0x372)]+=_0x7593b0[_0x85be14(0x372)]??0x0,_0x1c9b15['trace']({'jobType':_0x7156b2['Knowledge'],'type':_0x2676e8['GetContextResult'],'jobId':_0x4bf34e,'blockId':_0x2b2b32['id'],'agentId':_0x504a78,'threadId':_0x3e29ef,'traceLevel':_0x184ee4['Info'],'startTime':_0x2158c5,'timestamp':Date['now'](),'status':_0x85be14(0x752),'query':_0x2a3e7a['queryOrPrompt'],'context':_0x7593b0[_0x85be14(0x726)]??[],'inputTokens':_0x7593b0[_0x85be14(0x64a)]??0x0,'outputTokens':_0x7593b0[_0x85be14(0x372)]??0x0}),_0x7593b0[_0x85be14(0x1e3)];}catch(_0x1856b1){return console[_0x85be14(0x165)](_0x1856b1),_0x1c9b15[_0x85be14(0x5f6)]({'jobType':_0x7156b2[_0x85be14(0x29a)],'type':_0x2676e8[_0x85be14(0x635)],'jobId':_0x4bf34e,'blockId':_0x2b2b32['id'],'agentId':_0x504a78,'threadId':_0x3e29ef,'traceLevel':_0x184ee4[_0x85be14(0x7cc)],'startTime':_0x2158c5,'timestamp':Date[_0x85be14(0x517)](),'status':_0x85be14(0x165),'errorDetails':_0x556be6(_0x1856b1),'query':_0x2a3e7a[_0x85be14(0x9bf)],'context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x85be14(0x413);}}};}function _0x45d208(_0x3a327b){const _0x567cd1=_0x34a0aa;switch(_0x3a327b['type']){case _0x2d0ced[_0x567cd1(0x2f9)]:return _0x567cd1(0x535);case _0x2d0ced[_0x567cd1(0x86e)]:return'executeJavascriptCodeSnippet';case _0x2d0ced[_0x567cd1(0x19a)]:return _0x567cd1(0x559);case _0x2d0ced[_0x567cd1(0x769)]:return _0x567cd1(0x772);}throw new Error(_0x567cd1(0x72c));}function _0x369b84(_0x6744a1,_0x2fa0f9,_0x174b76,_0x2184f5,_0x1312d2){const _0x3fe94f=_0x34a0aa;switch(_0x2184f5['type']){case _0x2d0ced[_0x3fe94f(0x2f9)]:return function(_0x2a9438,_0x302392,_0x5e65a9,_0xfc36ec){const _0x507fbd=_0x3fe94f,_0x509a08=_0x507fbd(0x44e);return _0x1c9b15[_0x507fbd(0x5f6)]({'jobType':_0x7156b2['JobContext'],'type':_0x505942[_0x507fbd(0x1e8)],'jobId':_0x2a9438,'agentId':_0x302392,'threadId':_0x5e65a9,'traceLevel':_0x184ee4[_0x507fbd(0x7cc)],'startTime':Date[_0x507fbd(0x517)](),'timestamp':Date[_0x507fbd(0x517)](),'status':_0x507fbd(0x752),'function':_0x3b8db5[_0x507fbd(0x162)],'params':{},'functionDescription':_0x509a08}),{'description':_0x509a08,'callback':()=>{const _0x261a7c=_0x507fbd,_0x235992=Date['now'](),_0x3769e9=new Date()['toLocaleString']();return _0x1c9b15[_0x261a7c(0x5f6)]({'jobType':_0x7156b2['Skill'],'type':_0x3b8db5[_0x261a7c(0x162)],'jobId':_0x2a9438,'agentId':_0x302392,'threadId':_0x5e65a9,'blockId':_0xfc36ec,'traceLevel':_0x184ee4['Info'],'startTime':_0x235992,'timestamp':Date[_0x261a7c(0x517)](),'status':_0x261a7c(0x752),'date':_0x3769e9}),_0x3769e9;}};}(_0x6744a1,_0x2fa0f9,_0x174b76,_0x2184f5['id']);case _0x2d0ced[_0x3fe94f(0x86e)]:return function(_0x5b6529,_0x34466f,_0x96c4ab,_0x1df5c6){const _0x3da363=_0x3fe94f,_0x14852c=_0x3da363(0x2c9),_0x2f8584={'code':{'type':_0xb78473['PromptFunctionParamsType'][_0x3da363(0x3d2)]}};return _0x1c9b15['trace']({'jobType':_0x7156b2[_0x3da363(0x790)],'type':_0x505942[_0x3da363(0x1e8)],'jobId':_0x5b6529,'agentId':_0x34466f,'threadId':_0x96c4ab,'traceLevel':_0x184ee4['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x3da363(0x752),'function':_0x3b8db5['ExecuteCode'],'params':_0x2f8584,'functionDescription':_0x14852c}),{'description':_0x14852c,'params':_0x2f8584,'callback':_0x350ed8=>{const _0x17f3b5=_0x3da363,_0x16ad7a=Date['now']();if(_0x17f3b5(0x6ce)!=typeof _0x350ed8?.[_0x17f3b5(0x99d)])return _0x17f3b5(0x1db);try{const _0x26df26=Function(''+_0x350ed8?.[_0x17f3b5(0x99d)])();let _0x323dbe='';try{_0x323dbe=JSON[_0x17f3b5(0xa4f)](_0x26df26);}catch{_0x323dbe=_0x26df26[_0x17f3b5(0x8fc)]();}return _0x1c9b15['trace']({'jobType':_0x7156b2[_0x17f3b5(0x27f)],'type':_0x3b8db5[_0x17f3b5(0x83a)],'agentId':_0x34466f,'threadId':_0x96c4ab,'jobId':_0x5b6529,'blockId':_0x1df5c6,'traceLevel':_0x184ee4[_0x17f3b5(0x7cc)],'startTime':_0x16ad7a,'timestamp':Date[_0x17f3b5(0x517)](),'status':_0x17f3b5(0x752),'code':_0x350ed8[_0x17f3b5(0x99d)],'result':_0x323dbe}),_0x26df26;}catch(_0x11e3d9){return console[_0x17f3b5(0x165)](_0x11e3d9),_0x1c9b15['trace']({'jobType':_0x7156b2[_0x17f3b5(0x27f)],'type':_0x3b8db5[_0x17f3b5(0x83a)],'jobId':_0x5b6529,'blockId':_0x1df5c6,'traceLevel':_0x184ee4[_0x17f3b5(0x7cc)],'startTime':_0x16ad7a,'timestamp':Date[_0x17f3b5(0x517)](),'status':'error','errorDetails':_0x556be6(_0x11e3d9),'agentId':_0x34466f,'threadId':_0x96c4ab,'code':_0x350ed8[_0x17f3b5(0x99d)],'result':_0x17f3b5(0x779)}),_0x17f3b5(0x779);}}};}(_0x6744a1,_0x2fa0f9,_0x174b76,_0x2184f5['id']);case _0x2d0ced[_0x3fe94f(0x19a)]:return function(_0x41bfd5,_0x3c21c0,_0x45672a,_0x3b553b,_0x4239ec,_0x42bc5d){const _0xc39153=_0x3fe94f,_0x5d12d3=_0xc39153(0x76c),_0x25464a={'query':{'type':_0xb78473[_0xc39153(0xa09)][_0xc39153(0x3d2)]}};return _0x1c9b15[_0xc39153(0x5f6)]({'jobType':_0x7156b2['JobContext'],'type':_0x505942[_0xc39153(0x1e8)],'jobId':_0x41bfd5,'agentId':_0x3c21c0,'threadId':_0x45672a,'traceLevel':_0x184ee4[_0xc39153(0x7cc)],'startTime':Date['now'](),'timestamp':Date[_0xc39153(0x517)](),'status':_0xc39153(0x752),'function':_0x3b8db5[_0xc39153(0x261)],'params':_0x25464a,'functionDescription':_0x5d12d3}),{'description':_0x5d12d3,'params':_0x25464a,'callback':async _0x40f0f8=>{const _0x494df8=_0xc39153,_0x54d076=Date['now']();if(!_0x42bc5d[_0x494df8(0x91b)])return _0x494df8(0x89c);if('string'!=typeof _0x40f0f8?.[_0x494df8(0x298)])return _0x494df8(0x342);try{const _0x37f45c=await _0x42bc5d[_0x494df8(0x91b)][_0x494df8(0x3b5)](_0x40f0f8['query'],_0x4239ec,_0x37296e[_0x494df8(0x8c3)][_0x494df8(0x27e)]);let _0x28dd2b='';for(const _0x5a8107 of _0x37f45c)_0x28dd2b+=_0x5a8107['title']+_0x494df8(0x29f)+_0x5a8107[_0x494df8(0x9ee)]+'\x0a'+_0x5a8107[_0x494df8(0xa27)]+'\x0a\x0a';return _0x1c9b15[_0x494df8(0x5f6)]({'jobType':_0x7156b2['Skill'],'type':_0x3b8db5[_0x494df8(0x261)],'jobId':_0x41bfd5,'agentId':_0x3c21c0,'threadId':_0x45672a,'blockId':_0x3b553b,'traceLevel':_0x184ee4['Info'],'startTime':_0x54d076,'timestamp':Date[_0x494df8(0x517)](),'status':_0x494df8(0x752),'query':_0x40f0f8[_0x494df8(0x298)],'results':_0x28dd2b}),_0x28dd2b;}catch(_0x3519cc){return console[_0x494df8(0x165)](_0x3519cc),_0x1c9b15['trace']({'jobType':_0x7156b2[_0x494df8(0x27f)],'type':_0x3b8db5[_0x494df8(0x261)],'jobId':_0x41bfd5,'blockId':_0x3b553b,'traceLevel':_0x184ee4['Info'],'startTime':_0x54d076,'timestamp':Date[_0x494df8(0x517)](),'status':_0x494df8(0x165),'errorDetails':_0x556be6(_0x3519cc),'agentId':_0x3c21c0,'threadId':_0x45672a,'query':_0x40f0f8['query'],'results':'Error\x20searching'}),_0x494df8(0x2a9);}}};}(_0x6744a1,_0x2fa0f9,_0x174b76,_0x2184f5['id'],_0x1312d2[_0x3fe94f(0x463)],_0x1312d2);case _0x2d0ced[_0x3fe94f(0x769)]:return function(_0x25044d,_0x231e41,_0x2693b1,_0x788db9){const _0x1372c7=_0x3fe94f,_0x344b63=_0x1372c7(0x6fa),_0x338ab9={'url':{'type':_0xb78473[_0x1372c7(0xa09)][_0x1372c7(0x3d2)]},'page':{'type':_0xb78473[_0x1372c7(0xa09)][_0x1372c7(0x451)]}};return _0x1c9b15[_0x1372c7(0x5f6)]({'jobType':_0x7156b2[_0x1372c7(0x790)],'type':_0x505942[_0x1372c7(0x1e8)],'jobId':_0x25044d,'agentId':_0x231e41,'threadId':_0x2693b1,'traceLevel':_0x184ee4[_0x1372c7(0x7cc)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x3b8db5[_0x1372c7(0x573)],'params':_0x338ab9,'functionDescription':_0x344b63}),{'description':_0x344b63,'params':_0x338ab9,'callback':async _0x999d2a=>{const _0x557382=_0x1372c7,_0x2d5d9e=Date[_0x557382(0x517)]();if('string'!=typeof _0x999d2a?.[_0x557382(0x9ee)])return _0x557382(0x7b5);try{const _0x387134=await fetch(_0x999d2a[_0x557382(0x9ee)]),_0x1b70f2=await _0x387134[_0x557382(0x86c)](),_0x17e051=_0x1b70f2['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x373d86=(_0x17e051?_0x17e051[0x1]:_0x1b70f2)[_0x557382(0x633)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x557382(0x633)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x557382(0x633)](/<br\s*\/?>/gi,'\x20'),_0x2bece8=_0x373d86[_0x557382(0x633)](/&nbsp;/g,'\x20')[_0x557382(0x633)](/<\/?[^>]+(>|$)/g,'')['replace'](/\s\s+/g,'\x20')[_0x557382(0x458)](),_0x26e9dd=_0x557382(0x7f4)==typeof _0x999d2a[_0x557382(0x773)]?_0x999d2a[_0x557382(0x773)]:0x1,_0x8ead97=Math[_0x557382(0x38d)](_0x2bece8[_0x557382(0x831)]/_0x72d537);let _0x31a199=_0x2bece8;if(_0x2bece8[_0x557382(0x831)]>_0x72d537){if(_0x557382(0x7f4)!=typeof _0x999d2a?.['page'])throw new Error(_0x557382(0x900));_0x31a199=_0x2bece8['substring']((_0x999d2a[_0x557382(0x773)]-0x1)*_0x72d537,_0x72d537)+_0x557382(0x265)+(_0x999d2a[_0x557382(0x773)]+0x1)+_0x557382(0x9fb)+_0x8ead97+'.';}return _0x1c9b15[_0x557382(0x5f6)]({'jobType':_0x7156b2['Skill'],'type':_0x3b8db5[_0x557382(0x573)],'jobId':_0x25044d,'agentId':_0x231e41,'threadId':_0x2693b1,'blockId':_0x788db9,'traceLevel':_0x184ee4[_0x557382(0x7cc)],'startTime':_0x2d5d9e,'timestamp':Date['now'](),'status':_0x387134['ok']?'success':_0x557382(0x165),'url':_0x999d2a[_0x557382(0x9ee)],'page':_0x26e9dd,'totalPages':_0x8ead97,'response':_0x31a199}),_0x31a199;}catch(_0xc4209c){const _0x2732ea=_0xc4209c instanceof Error?_0xc4209c[_0x557382(0x7e0)]:_0x557382(0x914);return _0x1c9b15[_0x557382(0x5f6)]({'jobType':_0x7156b2[_0x557382(0x27f)],'type':_0x3b8db5['FetchUrl'],'jobId':_0x25044d,'blockId':_0x788db9,'threadId':_0x2693b1,'traceLevel':_0x184ee4[_0x557382(0x7cc)],'startTime':_0x2d5d9e,'timestamp':Date['now'](),'agentId':_0x231e41,'status':_0x557382(0x165),'errorDetails':_0x556be6(_0xc4209c),'url':_0x999d2a['url'],'page':0x0,'totalPages':0x0,'response':_0x2732ea}),_0x2732ea;}}};}(_0x6744a1,_0x2fa0f9,_0x174b76,_0x2184f5['id']);}throw new Error('Unknown\x20skill\x20type');}function _0x556be6(_0x1f6b4){const _0x304bb0=_0x34a0aa;try{return JSON[_0x304bb0(0xa4f)](_0x1f6b4);}catch(_0x5b37f6){return _0x1f6b4 instanceof Error?_0x1f6b4['toString']():'Error\x20fetching\x20context';}}async function _0x160b70(_0x480ebc,_0x657bc,_0x34e68f,_0x1cab28,_0x4ca2f4,_0x37da7a,_0x3fb9e0){const _0x77e2db=_0x34a0aa;for(const _0x3d7e76 of _0x4ca2f4[_0x77e2db(0x173)]||[]){const _0x3e6a4d=_0x37da7a[_0x77e2db(0x3f0)](_0x2254d8=>_0x2254d8[_0x77e2db(0x53e)]===_0x3d7e76['uid']);if(_0x3e6a4d&&_0x3e6a4d[_0x77e2db(0x852)]===_0x2d0ced[_0x77e2db(0x828)]){if(_0x4ca2f4[_0x77e2db(0x168)]||(_0x4ca2f4[_0x77e2db(0x168)]={}),_0x657bc instanceof Array?_0x4ca2f4[_0x77e2db(0x168)][_0x77e2db(0x726)]=_0x657bc:_0x4ca2f4['accumulated'][_0x77e2db(0x687)]=_0x657bc,_0x4ca2f4['timesCalled']=_0x4ca2f4[_0x77e2db(0x472)]?_0x4ca2f4[_0x77e2db(0x472)]+0x1:0x1,_0x330529(_0x4ca2f4,_0x37da7a)>_0x4ca2f4[_0x77e2db(0x472)])return;return _0x4ca2f4;}}if(_0x4ca2f4['accumulated']||(_0x4ca2f4['accumulated']={}),_0x657bc instanceof Array?_0x4ca2f4['accumulated'][_0x77e2db(0x726)]=_0x657bc:_0x4ca2f4[_0x77e2db(0x168)]['prompt']=_0x657bc,_0x4ca2f4['timesCalled']=_0x4ca2f4[_0x77e2db(0x472)]?_0x4ca2f4[_0x77e2db(0x472)]+0x1:0x1,_0x330529(_0x4ca2f4,_0x37da7a)>_0x4ca2f4[_0x77e2db(0x472)])return;if(!_0x4ca2f4[_0x77e2db(0x168)][_0x77e2db(0x687)])throw new Error(_0x77e2db(0x3f4));const _0x23deb1=_0x3fb9e0[_0x77e2db(0x43a)]['find'](_0x4953cd=>_0x4953cd['id']===_0x4ca2f4[_0x77e2db(0x797)]);if(!_0x23deb1)throw new Error('Model\x20not\x20found');const _0x12318a=_0x3fb9e0[_0x77e2db(0x5da)][_0x77e2db(0x3f0)](_0xa3ab08=>_0xa3ab08['getEngineType']()===_0x23deb1[_0x77e2db(0x55b)]);if(!_0x12318a)throw new Error(_0x77e2db(0x912));const _0x25f67e=Date[_0x77e2db(0x517)](),_0xf4a0c5=(0x0,_0xa47bd4['v4'])(),_0x3873f8=await _0x12318a[_0x77e2db(0x57a)]({'type':_0x77e2db(0x687),'prompt':_0x4ca2f4['accumulated'][_0x77e2db(0x687)],'instructions':''+_0x4ca2f4[_0x77e2db(0x447)]+(_0x34e68f[_0x77e2db(0x447)]??'')+(_0x4ca2f4['accumulated'][_0x77e2db(0x726)]?'\x0aAdditional\x20Context:\x20'+_0x4ca2f4[_0x77e2db(0x168)]['context'][_0x77e2db(0x403)](_0x32d3a3=>_0x32d3a3[_0x77e2db(0x1f6)])[_0x77e2db(0x45b)]('\x0a'):''),'temperature':_0x4ca2f4[_0x77e2db(0x1b3)],'maxTokens':_0x4ca2f4[_0x77e2db(0x445)],'history':_0x34e68f['history'],'functions':_0x200779(_0x480ebc,_0xf4a0c5,_0x34e68f[_0x77e2db(0x485)],_0x1cab28,_0x4ca2f4,_0x37da7a,_0x3fb9e0),'threadId':_0x34e68f[_0x77e2db(0x485)]},{'model':_0x23deb1});if('string'!=typeof _0x3873f8['output'])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x1cab28[_0x77e2db(0x64a)]+=_0x3873f8[_0x77e2db(0x64a)]??0x0,_0x1cab28[_0x77e2db(0x372)]+=_0x3873f8[_0x77e2db(0x372)]??0x0,_0x1c9b15['trace']({'jobType':_0x7156b2['Workflow'],'type':_0xa3729[_0x77e2db(0x6dd)],'jobId':_0x480ebc,'agentId':_0xf4a0c5,'threadId':_0x34e68f['threadId'],'traceLevel':_0x184ee4[_0x77e2db(0x7cc)],'startTime':_0x25f67e,'timestamp':Date[_0x77e2db(0x517)](),'blockId':_0x4ca2f4['id'],'status':'success','output':_0x3873f8[_0x77e2db(0x1e3)]?.[_0x77e2db(0x8fc)]()??'','history':[],'instructions':''+_0x4ca2f4['instructions']+(_0x34e68f[_0x77e2db(0x447)]??''),'ragContext':_0x3873f8[_0x77e2db(0x726)]??[],'inputTokens':_0x3873f8[_0x77e2db(0x64a)]??0x0,'outputTokens':_0x3873f8[_0x77e2db(0x372)]??0x0}),_0x1828f2(_0x480ebc,_0x3873f8[_0x77e2db(0x1e3)],_0x34e68f,_0x1cab28,_0x4ca2f4,_0x37da7a,_0x3fb9e0);}async function _0x5d9b56(_0x1ee683,_0x10d5e2,_0x182c02,_0x4983c0,_0xdb45cb,_0x1b1a88,_0x3c8ba7){const _0xbab354=function(_0x10fef5,_0x365524){const _0x99afc8=a0_0x1d5b,_0x4a2adc=[];for(let _0x413358=0x0;_0x413358<_0x10fef5[_0x99afc8(0x831)];_0x413358+=_0x365524[_0x99afc8(0x192)][_0x99afc8(0x57d)]){let _0x5eb8ff=_0x413358-_0x365524[_0x99afc8(0x192)][_0x99afc8(0x6ae)];_0x5eb8ff<0x0&&(_0x5eb8ff=0x0);let _0x2babde=_0x413358+_0x365524[_0x99afc8(0x192)][_0x99afc8(0x57d)]+_0x365524[_0x99afc8(0x192)][_0x99afc8(0x6ae)];_0x2babde>_0x10fef5['length']&&(_0x2babde=_0x10fef5[_0x99afc8(0x831)]),length||(length=_0x413358+_0x365524['attributes'][_0x99afc8(0x57d)],length>_0x10fef5[_0x99afc8(0x831)]&&(length=_0x10fef5[_0x99afc8(0x831)])),_0x4a2adc[_0x99afc8(0x32e)](_0x10fef5['substring'](_0x5eb8ff,_0x2babde));}return _0x4a2adc;}(_0x10d5e2,_0xdb45cb);return _0x1828f2(_0x1ee683,_0xbab354,_0x182c02,_0x4983c0,_0xdb45cb,_0x1b1a88,_0x3c8ba7);}async function _0x6df41b(_0x50cd96,_0x5b56ba,_0x5a15ed,_0x1dcc96,_0x23665f,_0x594fab,_0xadc24d){const _0x574a50=_0x34a0aa;if(_0x23665f['accumulated']||(_0x23665f[_0x574a50(0x168)]={}),_0x23665f[_0x574a50(0x168)][_0x574a50(0x64b)]||(_0x23665f[_0x574a50(0x168)][_0x574a50(0x64b)]=[]),_0x5b56ba instanceof Array?_0x23665f[_0x574a50(0x168)][_0x574a50(0x64b)][_0x574a50(0x32e)](..._0x5b56ba):_0x23665f[_0x574a50(0x168)][_0x574a50(0x64b)][_0x574a50(0x32e)](_0x5b56ba),_0x23665f[_0x574a50(0x472)]=_0x23665f[_0x574a50(0x472)]?_0x23665f[_0x574a50(0x472)]+0x1:0x1,_0x330529(_0x23665f,_0x594fab)>_0x23665f[_0x574a50(0x472)])return;if(0x0===_0x23665f[_0x574a50(0x168)][_0x574a50(0x64b)][_0x574a50(0x831)])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x532de3=[];const _0x5524a6=Date[_0x574a50(0x517)]();try{let _0x129278=0x0,_0xbec1a2=0x0;for(const _0x58dffe of _0x23665f[_0x574a50(0x168)][_0x574a50(0x64b)]){const _0x4b78ef=_0x23665f[_0x574a50(0x7ba)][_0x574a50(0x3f0)](_0xfd4335=>_0xfd4335[_0x574a50(0x852)]===_0x4c796f[_0x574a50(0x1dd)]),_0x578365=await _0x102a0b(_0x50cd96,_0x5a15ed['threadId'],_0x58dffe,_0x4b78ef,_0x23665f[_0x574a50(0x7ba)],_0xadc24d);_0x532de3=Array[_0x574a50(0x856)](new Set([..._0x532de3,..._0x578365[_0x574a50(0x726)]])),_0x129278+=_0x578365[_0x574a50(0x64a)]??0x0,_0xbec1a2+=_0x578365[_0x574a50(0x372)]??0x0;}_0x1dcc96[_0x574a50(0x64a)]+=_0x129278,_0x1dcc96[_0x574a50(0x372)]+=_0xbec1a2,_0x1dcc96[_0x574a50(0x726)]=Array['from'](new Set([..._0x1dcc96[_0x574a50(0x726)],..._0x532de3])),_0x1c9b15['trace']({'jobType':_0x7156b2['Workflow'],'type':_0xa3729[_0x574a50(0x18e)],'jobId':_0x50cd96,'threadId':_0x5a15ed[_0x574a50(0x485)],'traceLevel':_0x184ee4['Info'],'startTime':_0x5524a6,'timestamp':Date['now'](),'blockId':_0x23665f['id'],'status':_0x574a50(0x752),'queries':_0x23665f[_0x574a50(0x168)][_0x574a50(0x64b)],'context':_0x532de3,'inputTokens':_0x129278,'outputTokens':_0xbec1a2});}catch(_0x35dc5f){console['error'](_0x35dc5f),_0x1c9b15[_0x574a50(0x5f6)]({'jobType':_0x7156b2[_0x574a50(0x4b4)],'type':_0xa3729[_0x574a50(0x18e)],'jobId':_0x50cd96,'threadId':_0x5a15ed[_0x574a50(0x485)],'traceLevel':_0x184ee4[_0x574a50(0x7cc)],'startTime':_0x5524a6,'timestamp':Date[_0x574a50(0x517)](),'blockId':_0x23665f['id'],'status':_0x574a50(0x165),'queries':_0x23665f[_0x574a50(0x168)]['queries'],'context':[],'inputTokens':0x0,'outputTokens':0x0});}return _0x1828f2(_0x50cd96,_0x532de3,_0x5a15ed,_0x1dcc96,_0x23665f,_0x594fab,_0xadc24d);}async function _0x57d4cd(_0xe598a6,_0x4e7faa,_0x1a8589,_0x270a85,_0x1d9c8d,_0x59f2aa,_0xd960a){const _0x57708a=_0x34a0aa;return _0x1828f2(_0xe598a6,await _0xd960a[_0x57708a(0xa31)][_0x57708a(0x450)](_0x4e7faa),_0x1a8589,_0x270a85,_0x1d9c8d,_0x59f2aa,_0xd960a);}async function _0x4cb648(_0x110850,_0x1c98c2,_0x6304a1,_0x4dbdf1,_0x42e8fb,_0x5abedf,_0x2aad8b){const _0x48c222=function(_0x2ea82d,_0x559379){const _0xdc4218=a0_0x1d5b,_0x42218e=[],_0x3492a1=_0x2ea82d['split']('\x20');let _0x463e10='',_0x3a7c5c=0x0,_0x4c7ea9=0x0,_0x4893f=0x0;for(const _0x455f4c of _0x3492a1){if(_0x463e10['length']+_0x455f4c['length']>_0x559379[_0xdc4218(0x192)][_0xdc4218(0x57d)]){let _0x358d1e=_0x3a7c5c,_0x1ad8bf='';for(;_0x358d1e>=0x0&&_0x1ad8bf[_0xdc4218(0x831)]+_0x3492a1[_0x358d1e][_0xdc4218(0x831)]<_0x559379['attributes'][_0xdc4218(0x6ae)];)_0x1ad8bf=_0x3492a1[_0x358d1e]+'\x20'+_0x1ad8bf,_0x358d1e--;let _0x499790=_0x4c7ea9,_0x5a4ce0='';for(;_0x499790<_0x3492a1['length']&&_0x5a4ce0[_0xdc4218(0x831)]+_0x3492a1[_0x499790][_0xdc4218(0x831)]<_0x559379[_0xdc4218(0x192)]['overlap'];)_0x5a4ce0+=_0x3492a1[_0x499790]+'\x20',_0x499790++;_0x463e10=_0x1ad8bf+_0x463e10+_0x5a4ce0,_0x42218e[_0xdc4218(0x32e)](_0x463e10[_0xdc4218(0x458)]()),_0x463e10='',_0x3a7c5c=_0x4c7ea9;}_0x463e10+=_0x455f4c+'\x20',_0x4c7ea9++,_0x4893f+=_0x455f4c[_0xdc4218(0x831)]+0x1;}if(_0x463e10[_0xdc4218(0x831)]>0x0){let _0x58dc68=_0x3a7c5c,_0xbb3310='';for(;_0x58dc68>=0x0&&_0xbb3310[_0xdc4218(0x831)]+_0x3492a1[_0x58dc68]['length']<_0x559379[_0xdc4218(0x192)][_0xdc4218(0x6ae)];)_0xbb3310=_0x3492a1[_0x58dc68]+'\x20'+_0xbb3310,_0x58dc68--;_0x463e10=_0xbb3310+_0x463e10,_0x42218e['push'](_0x463e10[_0xdc4218(0x458)]());}return _0x42218e;}(_0x1c98c2,_0x42e8fb);return _0x1828f2(_0x110850,_0x48c222,_0x6304a1,_0x4dbdf1,_0x42e8fb,_0x5abedf,_0x2aad8b);}async function _0x1828f2(_0x20889c,_0x5bc0ca,_0x811a90,_0x196e03,_0x38894a,_0x36b3b5,_0x54b62e){const _0x49fe2e=_0x34a0aa;let _0x3afb2f;for(const _0x4a6ee4 of _0x38894a[_0x49fe2e(0x173)]||[]){const _0x5e7752=_0x36b3b5[_0x49fe2e(0x3f0)](_0x4a41cf=>_0x4a41cf['uid']===_0x4a6ee4[_0x49fe2e(0x53e)]);if(_0x5e7752){switch(_0x5e7752[_0x49fe2e(0x852)]){case _0x2d0ced[_0x49fe2e(0x32d)]:_0x3afb2f=await _0x160b70(_0x20889c,_0x5bc0ca,_0x811a90,_0x196e03,_0x5e7752,_0x36b3b5,_0x54b62e);break;case _0x2d0ced[_0x49fe2e(0x3ce)]:_0x3afb2f=await _0x5d9b56(_0x20889c,_0x5bc0ca,_0x811a90,_0x196e03,_0x5e7752,_0x36b3b5,_0x54b62e);break;case _0x2d0ced[_0x49fe2e(0x18e)]:_0x3afb2f=await _0x6df41b(_0x20889c,_0x5bc0ca,_0x811a90,_0x196e03,_0x5e7752,_0x36b3b5,_0x54b62e);break;case _0x2d0ced[_0x49fe2e(0x640)]:_0x3afb2f=await _0x57d4cd(_0x20889c,_0x5bc0ca,_0x811a90,_0x196e03,_0x5e7752,_0x36b3b5,_0x54b62e);break;case _0x2d0ced[_0x49fe2e(0x281)]:_0x3afb2f=await _0x4cb648(_0x20889c,_0x5bc0ca,_0x811a90,_0x196e03,_0x5e7752,_0x36b3b5,_0x54b62e);}if(_0x3afb2f)return _0x3afb2f;}}}function _0x330529(_0x57b118,_0xfcb767){const _0x3adae1=_0x34a0aa;return _0xfcb767[_0x3adae1(0x285)](_0x25459a=>_0x25459a[_0x3adae1(0x173)]?.[_0x3adae1(0x9bd)](_0xb7c7e1=>_0xb7c7e1['type']!==_0x165347[_0x3adae1(0x29a)]&&_0xb7c7e1[_0x3adae1(0x852)]!==_0x165347[_0x3adae1(0x27f)]&&_0xb7c7e1[_0x3adae1(0x53e)]===_0x57b118[_0x3adae1(0x53e)]))[_0x3adae1(0x831)];}class _0x304ddc extends _0x450082{['localNode'];[_0x34a0aa(0x853)];['contentMediator'];[_0x34a0aa(0x5da)];[_0x34a0aa(0x9cc)];[_0x34a0aa(0xa31)];['searchApiKey'];[_0x34a0aa(0x91b)];[_0x34a0aa(0x5b8)];[_0x34a0aa(0x8ff)];[_0x34a0aa(0x7d1)]=new Map();['externalStores']=new Map();[_0x34a0aa(0x6e6)];['models']=new Map();['debounceStats'];[_0x34a0aa(0x940)]=0x0;['tokens']=0x0;[_0x34a0aa(0x966)]=!0x1;constructor(_0x16533e,_0x2f4b3e,_0xfaa4cb,_0x55e77e,_0x291266,_0x591de1,_0x3fbb0a,_0x56d1e0,_0xe3d10b,_0x4f240b){const _0x1ab454=_0x34a0aa;super(_0x16533e,_0x2f4b3e,_0x55e77e),this[_0x1ab454(0x411)]=_0x16533e,this[_0x1ab454(0x853)]=_0xfaa4cb,this['contentMediator']=_0x291266,this[_0x1ab454(0x5da)]=_0x591de1,this[_0x1ab454(0x9cc)]=_0x3fbb0a,this[_0x1ab454(0xa31)]=_0x56d1e0,this[_0x1ab454(0x463)]=_0xe3d10b,this['searchConnector']=_0x4f240b;}async[_0x34a0aa(0x5ff)](){const _0x242a67=_0x34a0aa;for(const _0xe6b6a3 of this[_0x242a67(0x5da)])await _0xe6b6a3['close']();this[_0x242a67(0x8ff)]?.[_0x242a67(0x626)](this[_0x242a67(0x5b0)]),this['dataStores'][_0x242a67(0x66c)](_0x5f322a=>_0x5f322a[_0x242a67(0x626)](this[_0x242a67(0x5b0)])),this['debounceStats']&&(clearTimeout(this[_0x242a67(0x550)]),delete this[_0x242a67(0x550)]),super[_0x242a67(0x5ff)]();}async['open'](_0x30c4a5=!0x1){const _0x201648=_0x34a0aa;if(this[_0x201648(0x966)])super[_0x201648(0x8f9)]();else{if(this[_0x201648(0x5b8)]=await _0x28a73c[_0x201648(0x8ee)](this[_0x201648(0x853)],this['label']),this[_0x201648(0x8ff)]=this[_0x201648(0x641)][_0x201648(0x7c6)](this['workflow']['modelsBucketId']),!this[_0x201648(0x8ff)])throw new Error(_0x201648(0x3ba));this[_0x201648(0x92b)](),_0x30c4a5||await this[_0x201648(0x693)](this[_0x201648(0x8ff)]);for(const _0x214753 of this[_0x201648(0x5b8)][_0x201648(0x43a)])try{let _0x2cc9e3;_0x214753['engineType']===_0xb78473[_0x201648(0x441)][_0x201648(0x300)]&&(_0x2cc9e3=await this[_0x201648(0xa0e)]('/'+_0x214753['id']+_0x59059a)),this[_0x201648(0x43a)][_0x201648(0x286)](_0x214753['id'],{'id':_0x214753['id'],'engineType':_0x214753[_0x201648(0x55b)],'taskType':_0x214753[_0x201648(0x630)],'inputType':_0x214753[_0x201648(0x2d7)],'outputType':_0x214753[_0x201648(0x46a)],'sourceUrl':_0x214753[_0x201648(0x685)],'pathName':_0x2cc9e3});}catch(_0x413772){await this['modelStore']['publish']({'action':_0xb78473['PayloadAction']['File'],'file':new File([''],''+_0x214753['id']+_0x59059a),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x214753[_0x201648(0x685)]}}),this[_0x201648(0x43a)]['set'](_0x214753['id'],{'id':_0x214753['id'],'engineType':_0x214753['engineType'],'taskType':_0x214753[_0x201648(0x630)],'inputType':_0x214753['inputType'],'outputType':_0x214753['outputType'],'sourceUrl':_0x214753[_0x201648(0x685)],'pathName':await this[_0x201648(0xa0e)]('/'+_0x214753['id']+_0x59059a)});}for(const _0x9437bd of this['generativeAIWorkerConnectors'])await _0x9437bd['initialize'](this[_0x201648(0x5b0)],this[_0x201648(0x43a)]);for(const _0x397876 of this[_0x201648(0x5b8)][_0x201648(0x720)])this['dataStores'][_0x201648(0x286)](_0x397876,this['contentMediator']['getObjectStoreBucket'](_0x397876));await this['loadLocalContent'](_0x30c4a5),this[_0x201648(0x8bc)]();for(const _0x133866 of this[_0x201648(0x5b8)][_0x201648(0x637)])this['externalStores'][_0x201648(0x286)](_0x133866,this[_0x201648(0x641)][_0x201648(0x9d8)](_0x133866));await this[_0x201648(0x6a0)](),this[_0x201648(0xa11)](),this['sendStats'](),this[_0x201648(0x966)]=!0x0,super[_0x201648(0x8f9)]();}}[_0x34a0aa(0x240)](){const _0x5b291f=_0x34a0aa;this['prompts']=0x0,this['tokens']=0x0,this['sendStats'](),super[_0x5b291f(0x240)]();}['getBid'](){const _0x44f719=_0x34a0aa;return this[_0x44f719(0x2a7)](),this['getCoresFromCapacityReport']();}[_0x34a0aa(0x497)](_0xb9ce41,_0x5b3466,_0x5b6c56){const _0x25eba8=_0x34a0aa,{outputTokens:_0x572fb8=0x0,output:_0x495519=''}=_0xb9ce41,_0x1477c9=_0x572fb8/((_0x5b6c56-_0x5b3466)/0x3e8);this[_0x25eba8(0x940)]+=0x1,this['tokens']+=_0x572fb8,this[_0x25eba8(0x920)](_0x1477c9,_0x572fb8),this[_0x25eba8(0x2a7)]();}['accumulateResult'](_0x16b9e3,_0x8027b8){const _0x305dd8=_0x34a0aa;return _0x16b9e3['output']=_0x16b9e3[_0x305dd8(0x1e3)]??'',{'type':_0x305dd8(0x687),'output':_0x305dd8(0x6ce)==typeof _0x16b9e3[_0x305dd8(0x1e3)]&&_0x305dd8(0x6ce)==typeof _0x8027b8['output']?_0x16b9e3[_0x305dd8(0x1e3)]+_0x8027b8[_0x305dd8(0x1e3)]:_0x8027b8['output'],'outputTokens':_0x8027b8[_0x305dd8(0x372)]??_0x16b9e3[_0x305dd8(0x372)],'inputTokens':_0x8027b8['inputTokens']??_0x16b9e3[_0x305dd8(0x64a)]};}async[_0x34a0aa(0x3e4)](_0x5a1a75,_0x3a21f6){const _0x432b4c=_0x34a0aa;if(!this[_0x432b4c(0x5b8)])throw new Error(_0x432b4c(0x936));if(_0x432b4c(0x687)===_0x3a21f6[_0x432b4c(0x852)]){const _0xdb1dbb=this[_0x432b4c(0x5b8)][_0x432b4c(0x729)]['find'](_0x1940ee=>_0x1940ee[_0x432b4c(0x852)]===_0x2d0ced['Prompt']),_0x1e7b60=await async function(_0x25f736,_0x15cb7e,_0x55923c,_0x48b8a1,_0x1f946c){const _0x21019c=_0x432b4c,_0x17c8c4=(0x0,_0xa47bd4['v4'])();_0x1c9b15[_0x21019c(0x5f6)]({'jobType':_0x7156b2[_0x21019c(0x4b4)],'type':_0xa3729[_0x21019c(0x6b4)],'jobId':_0x25f736,'blockId':_0x55923c['id'],'agentId':_0x17c8c4,'threadId':_0x15cb7e[_0x21019c(0x485)],'traceLevel':_0x184ee4[_0x21019c(0x7cc)],'startTime':Date['now'](),'timestamp':Date[_0x21019c(0x517)](),'status':_0x21019c(0x752),'initialPrompt':_0x15cb7e[_0x21019c(0x687)]});const _0x2a036f={'type':_0x15cb7e[_0x21019c(0x852)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x6511f5=await _0x1828f2(_0x25f736,''+_0x15cb7e[_0x21019c(0x687)],_0x15cb7e,_0x2a036f,_0x55923c,_0x48b8a1,_0x1f946c);if(!_0x6511f5)throw new Error(_0x21019c(0x72d));const _0x455b2f=_0x1f946c[_0x21019c(0x43a)]['find'](_0x3e3c72=>_0x3e3c72['id']===_0x6511f5[_0x21019c(0x797)]);if(!_0x455b2f)throw new Error('Model\x20not\x20found');const _0x11a464=_0x1f946c[_0x21019c(0x5da)][_0x21019c(0x3f0)](_0x304286=>_0x304286['getEngineType']()===_0x455b2f[_0x21019c(0x55b)]);if(!_0x11a464)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x30a968=Date[_0x21019c(0x517)](),_0x18f588=await _0x11a464[_0x21019c(0x57a)]({'type':_0x15cb7e[_0x21019c(0x852)],'prompt':_0x6511f5[_0x21019c(0x168)][_0x21019c(0x687)],'instructions':''+_0x6511f5[_0x21019c(0x447)]+(_0x15cb7e['instructions']??'')+(_0x6511f5[_0x21019c(0x168)]?.['context']?_0x21019c(0x43c)+_0x6511f5['accumulated']['context'][_0x21019c(0x403)](_0x597136=>_0x597136[_0x21019c(0x1f6)])[_0x21019c(0x45b)]('\x0a'):''),'temperature':_0x6511f5[_0x21019c(0x1b3)],'maxTokens':_0x6511f5[_0x21019c(0x445)],'history':_0x15cb7e['history'],'functions':_0x200779(_0x25f736,_0x17c8c4,_0x15cb7e[_0x21019c(0x485)],_0x2a036f,_0x6511f5,_0x48b8a1,_0x1f946c),'threadId':_0x15cb7e[_0x21019c(0x485)]},{'model':_0x455b2f}),{inputTokens:_0x2d2176=0x0,outputTokens:_0x1e615c=0x0,context:_0x4c4ccf=[]}=_0x18f588;return _0x1c9b15[_0x21019c(0x5f6)]({'jobType':_0x7156b2[_0x21019c(0x4b4)],'type':_0xa3729[_0x21019c(0x5dc)],'jobId':_0x25f736,'agentId':_0x17c8c4,'threadId':_0x15cb7e[_0x21019c(0x485)],'traceLevel':_0x184ee4[_0x21019c(0x7cc)],'startTime':_0x30a968,'timestamp':Date[_0x21019c(0x517)](),'blockId':_0x55923c['id'],'status':_0x21019c(0x752),'output':_0x18f588[_0x21019c(0x1e3)]?.[_0x21019c(0x8fc)]()??'','history':_0x15cb7e[_0x21019c(0x2c0)]??[],'instructions':''+_0x6511f5[_0x21019c(0x447)]+(_0x15cb7e[_0x21019c(0x447)]??''),'ragContext':_0x4c4ccf,'inputTokens':_0x2d2176,'outputTokens':_0x1e615c}),{'type':_0x15cb7e[_0x21019c(0x852)],'output':_0x18f588[_0x21019c(0x1e3)],'context':_0x2a036f[_0x21019c(0x726)],'inputTokens':(_0x2a036f[_0x21019c(0x64a)]??0x0)+(_0x18f588['inputTokens']??0x0),'outputTokens':(_0x2a036f['outputTokens']??0x0)+(_0x18f588[_0x21019c(0x372)]??0x0)};}(_0x5a1a75,_0x3a21f6,_0xdb1dbb,this[_0x432b4c(0x5b8)]['blocks'],{'documentParserConnector':this[_0x432b4c(0x9cc)],'nlpLibraryConnector':this[_0x432b4c(0xa31)],'generativeAIWorkerConnectors':this[_0x432b4c(0x5da)],'models':this[_0x432b4c(0x5b8)]['models'],'contentMediator':this[_0x432b4c(0x641)],'searchApiKey':this[_0x432b4c(0x463)],'searchConnector':this[_0x432b4c(0x91b)]});return _0x1e7b60;}if(_0x432b4c(0x8d6)===_0x3a21f6[_0x432b4c(0x852)])return _0x1c9b15[_0x432b4c(0x5f6)]({'jobType':_0x7156b2[_0x432b4c(0x5bf)],'type':_0x535890[_0x432b4c(0x6bd)],'jobId':_0x3a21f6[_0x432b4c(0x443)],'threadId':_0x3a21f6[_0x432b4c(0x485)],'traceLevel':_0x184ee4[_0x432b4c(0x7cc)],'startTime':Date[_0x432b4c(0x517)](),'timestamp':Date[_0x432b4c(0x517)](),'status':_0x432b4c(0x752),'rating':_0x3a21f6[_0x432b4c(0x607)],'feedback':_0x3a21f6[_0x432b4c(0x459)]}),{'type':_0x432b4c(0x8d6),'status':_0xb78473['GenerativeAIRatingStatus']['Success']};if(_0x432b4c(0x961)===_0x3a21f6['type']){let _0x2331cd;const _0x478aa1=this['dataStores'][_0x432b4c(0x7d3)]();for(;!_0x2331cd;){const _0xf9136a=_0x478aa1['next']()['value'];if(!_0xf9136a)throw new Error(_0x432b4c(0x891));_0x2331cd=this[_0x432b4c(0x7d1)][_0x432b4c(0x56b)](_0xf9136a);try{const _0x5c5441=await _0x2331cd[_0x432b4c(0x56b)](_0x3a21f6[_0x432b4c(0x984)]);return{'type':_0x432b4c(0x961),'fileName':_0x5c5441[_0x432b4c(0x9d9)],'mimeType':_0x5c5441[_0x432b4c(0x852)],'document':await _0x5c5441[_0x432b4c(0x24a)]()};}catch(_0x2e0df2){continue;}}throw new Error(_0x432b4c(0x891));}throw new Error(_0x432b4c(0x746));}async*['internalProcessJobStream'](_0x3aee88,_0x25d6a9){const _0x552dc8=_0x34a0aa;if(!this[_0x552dc8(0x5b8)])throw new Error(_0x552dc8(0x936));const _0x3b20e1=this[_0x552dc8(0x5b8)]['blocks'][_0x552dc8(0x3f0)](_0x1548d6=>_0x1548d6[_0x552dc8(0x852)]===_0x2d0ced[_0x552dc8(0x1dd)]);for await(const _0x12b096 of async function*(_0x5cc158,_0x394f39,_0x5cf269,_0x1885fb,_0x20db70){const _0x222484=_0x552dc8,_0x1e91e9=(0x0,_0xa47bd4['v4'])();_0x1c9b15[_0x222484(0x5f6)]({'jobType':_0x7156b2[_0x222484(0x4b4)],'type':_0xa3729['InitialPrompt'],'jobId':_0x5cc158,'agentId':_0x1e91e9,'threadId':_0x394f39[_0x222484(0x485)],'traceLevel':_0x184ee4[_0x222484(0x7cc)],'startTime':Date[_0x222484(0x517)](),'timestamp':Date[_0x222484(0x517)](),'blockId':_0x5cf269['id'],'status':_0x222484(0x752),'initialPrompt':_0x394f39[_0x222484(0x687)]});const _0x436ea0={'type':_0x394f39[_0x222484(0x852)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x52b361=await _0x1828f2(_0x5cc158,''+_0x394f39[_0x222484(0x687)],_0x394f39,_0x436ea0,_0x5cf269,_0x1885fb,_0x20db70);if(!_0x52b361)throw new Error(_0x222484(0x72d));const _0x102905=_0x20db70['models'][_0x222484(0x3f0)](_0x2a6bcf=>_0x2a6bcf['id']===_0x52b361[_0x222484(0x797)]);if(!_0x102905)throw new Error(_0x222484(0x616));const _0x100078=_0x20db70[_0x222484(0x5da)][_0x222484(0x3f0)](_0x294388=>_0x294388[_0x222484(0x916)]()===_0x102905[_0x222484(0x55b)]);if(!_0x100078)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x4d567e=Date[_0x222484(0x517)]();let _0x3b237b='',_0x59cb3={'type':_0x394f39['type']};for await(const _0x389100 of _0x100078[_0x222484(0x4d0)]({'type':_0x394f39['type'],'prompt':_0x52b361[_0x222484(0x168)]['prompt'],'instructions':''+_0x52b361['instructions']+(_0x394f39[_0x222484(0x447)]??'')+(_0x52b361[_0x222484(0x168)]?.[_0x222484(0x726)]?_0x222484(0x43c)+_0x52b361['accumulated'][_0x222484(0x726)][_0x222484(0x403)](_0x32f06f=>_0x32f06f[_0x222484(0x1f6)])[_0x222484(0x45b)]('\x0a'):''),'temperature':_0x52b361[_0x222484(0x1b3)],'maxTokens':_0x52b361[_0x222484(0x445)],'history':_0x394f39[_0x222484(0x2c0)],'functions':_0x200779(_0x5cc158,_0x1e91e9,_0x394f39[_0x222484(0x485)],_0x436ea0,_0x52b361,_0x1885fb,_0x20db70),'threadId':_0x394f39[_0x222484(0x485)]},{'model':_0x102905}))_0x3b237b+=_0x389100[_0x222484(0x1e3)],_0x59cb3={'type':_0x394f39[_0x222484(0x852)],'output':_0x389100[_0x222484(0x1e3)],'context':_0x436ea0[_0x222484(0x726)],'inputTokens':(_0x436ea0[_0x222484(0x64a)]??0x0)+(_0x389100[_0x222484(0x64a)]??0x0),'outputTokens':(_0x436ea0[_0x222484(0x372)]??0x0)+(_0x389100[_0x222484(0x372)]??0x0)},yield _0x59cb3;const {inputTokens:_0x5ac620=0x0,outputTokens:_0x15e033=0x0,context:_0x52c181=[]}=_0x59cb3;_0x1c9b15[_0x222484(0x5f6)]({'jobType':_0x7156b2[_0x222484(0x4b4)],'type':_0xa3729[_0x222484(0x5dc)],'jobId':_0x5cc158,'agentId':_0x1e91e9,'threadId':_0x394f39[_0x222484(0x485)],'traceLevel':_0x184ee4[_0x222484(0x7cc)],'startTime':_0x4d567e,'timestamp':Date['now'](),'blockId':_0x5cf269['id'],'status':'success','output':_0x3b237b,'history':_0x394f39['history']??[],'instructions':''+_0x52b361['instructions']+(_0x394f39[_0x222484(0x447)]??''),'ragContext':_0x52c181,'inputTokens':_0x5ac620,'outputTokens':_0x15e033});}(_0x3aee88,_0x25d6a9,_0x3b20e1,this[_0x552dc8(0x5b8)][_0x552dc8(0x729)],{'documentParserConnector':this[_0x552dc8(0x9cc)],'nlpLibraryConnector':this[_0x552dc8(0xa31)],'generativeAIWorkerConnectors':this[_0x552dc8(0x5da)],'models':this[_0x552dc8(0x5b8)][_0x552dc8(0x43a)],'contentMediator':this[_0x552dc8(0x641)],'searchApiKey':this[_0x552dc8(0x463)],'searchConnector':this[_0x552dc8(0x91b)]}))yield _0x12b096;}[_0x34a0aa(0x64f)](_0x378de9,_0x4a94ca){const _0x1b8df2=_0x34a0aa;if(_0x1b8df2(0x8d6)===_0x4a94ca[_0x1b8df2(0x852)])return _0x378de9=_0x4a94ca[_0x1b8df2(0x443)],void this[_0x1b8df2(0x6a1)](_0x378de9);this[_0x1b8df2(0x6a1)](_0x378de9),_0x1c9b15[_0x1b8df2(0x5f6)]({'jobType':_0x7156b2[_0x1b8df2(0x1f8)],'type':_0x5aa705[_0x1b8df2(0x326)],'traceLevel':_0x184ee4[_0x1b8df2(0x7cc)],'jobId':_0x378de9,'threadId':_0x4a94ca[_0x1b8df2(0x485)],'startTime':Date[_0x1b8df2(0x517)](),'timestamp':Date['now'](),'status':_0x1b8df2(0x752)});}[_0x34a0aa(0x7b9)](_0x399584,_0x13c612){const _0x34f627=_0x34a0aa;if(_0x34f627(0x8d6)===_0x13c612[_0x34f627(0x852)])return _0x399584=_0x13c612[_0x34f627(0x443)],void this[_0x34f627(0x8fb)](_0x399584);_0x1c9b15[_0x34f627(0x5f6)]({'jobType':_0x7156b2[_0x34f627(0x1f8)],'type':_0x5aa705[_0x34f627(0x382)],'traceLevel':_0x184ee4['Info'],'jobId':_0x399584,'threadId':_0x13c612[_0x34f627(0x485)],'startTime':Date[_0x34f627(0x517)](),'timestamp':Date[_0x34f627(0x517)](),'status':_0x34f627(0x752)}),this[_0x34f627(0x8fb)](_0x399584);}async[_0x34a0aa(0x693)](_0x773abe){await new Promise(_0x559ed6=>{const _0x4df9c9=a0_0x1d5b;_0x773abe[_0x4df9c9(0x253)](this[_0x4df9c9(0x5b0)],async _0x2e2409=>{const _0x1943d6=_0x4df9c9;_0x2e2409[_0x1943d6(0x21c)]===_0xb78473[_0x1943d6(0x502)][_0x1943d6(0x1cc)]&&(_0x773abe[_0x1943d6(0x626)](this[_0x1943d6(0x5b0)]),_0x559ed6());});});}async[_0x34a0aa(0xa0e)](_0x395c26){const _0x2dd078=_0x34a0aa;if(!this[_0x2dd078(0x8ff)])throw new Error(_0x2dd078(0x3ba));const _0x2044c0=await this[_0x2dd078(0x8ff)][_0x2dd078(0x61a)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x5b5cfd of _0x2044c0)if(_0x5b5cfd['kind']===_0xb78473['ObjectKind'][_0x2dd078(0x9b3)]&&_0x5b5cfd[_0x2dd078(0x707)]===_0x395c26)return _0x5b5cfd[_0x2dd078(0x36a)]??_0x5b5cfd[_0x2dd078(0x707)];throw new Error(_0x2dd078(0x8e8)+_0x395c26);}async[_0x34a0aa(0x19f)](_0x188dc0){const _0x2b18fe=_0x34a0aa;for(const _0xa23100 of this[_0x2b18fe(0x7d1)]['values']())try{_0x188dc0||await this[_0x2b18fe(0x693)](_0xa23100);const _0x2cc4b2=await _0xa23100[_0x2b18fe(0x61a)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this['syncFolder'](_0x53746c[_0x2b18fe(0x6ec)],_0xa23100[_0x2b18fe(0x3dd)](),_0x2cc4b2);}catch(_0x318d9d){_0x17dbc7['error']('Error\x20loading\x20existing\x20content',{'nodeId':this[_0x2b18fe(0x411)][_0x2b18fe(0x3ad)](),'nodeType':this[_0x2b18fe(0x411)][_0x2b18fe(0x852)]});}}async['loadExternalContent'](){const _0x570517=_0x34a0aa;for(const _0x1d6b1d of this['externalStores']['values']())try{const _0x13022b=await _0x1d6b1d[_0x570517(0x61a)]('/',{'recursive':!0x0});await this[_0x570517(0x861)](_0x53746c[_0x570517(0x46b)],_0x1d6b1d[_0x570517(0x3dd)](),_0x13022b);}catch(_0x241f90){_0x17dbc7[_0x570517(0x165)](_0x570517(0x924),{'nodeId':this[_0x570517(0x411)]['getId'](),'nodeType':this[_0x570517(0x411)]['type']});}}async[_0x34a0aa(0x861)](_0x4edd0b,_0x1e5790,_0x1a9950){const _0x555ab7=_0x34a0aa;for(const _0x58945b of _0x1a9950){if(_0x58945b[_0x555ab7(0x6ea)]===_0xb78473['ObjectKind'][_0x555ab7(0x4cd)]){if(!_0x58945b[_0x555ab7(0x595)]||0x0===_0x58945b[_0x555ab7(0x595)][_0x555ab7(0x831)])continue;await this['syncFolder'](_0x4edd0b,_0x1e5790,_0x58945b[_0x555ab7(0x595)]);}_0x58945b['kind']===_0xb78473['ObjectKind'][_0x555ab7(0x9b3)]&&await this[_0x555ab7(0x7cd)](_0x4edd0b,_0x1e5790,_0x58945b[_0x555ab7(0x707)]);}}['subscribeToLocalContent'](){const _0xeb56d5=_0x34a0aa;for(const _0x1d18d5 of this[_0xeb56d5(0x7d1)][_0xeb56d5(0x8ec)]())_0x1d18d5[_0xeb56d5(0x253)](this[_0xeb56d5(0x5b0)],async _0x453c56=>{const _0x283e9f=_0xeb56d5;switch(_0x453c56[_0x283e9f(0x21c)]){case _0xb78473['StorageEventType'][_0x283e9f(0x558)]:this[_0x283e9f(0x56c)](_0x1d18d5[_0x283e9f(0x3dd)](),_0x453c56[_0x283e9f(0x60d)][_0x283e9f(0x478)]['pathName']),await this[_0x283e9f(0x7cd)](_0x53746c['ObjectStorage'],_0x1d18d5['getName'](),_0x453c56['payload'][_0x283e9f(0x478)][_0x283e9f(0x707)]);break;case _0xb78473['StorageEventType'][_0x283e9f(0x98e)]:this[_0x283e9f(0x56c)](_0x1d18d5[_0x283e9f(0x3dd)](),_0x453c56[_0x283e9f(0x60d)]['name']);}});}[_0x34a0aa(0xa11)](){const _0x5da58a=_0x34a0aa;for(const _0x22797d of this[_0x5da58a(0x7fc)]['values']())_0x22797d[_0x5da58a(0x253)](this[_0x5da58a(0x5b0)],async _0x5376cb=>{const _0x5ee112=_0x5da58a;switch(_0x5376cb[_0x5ee112(0x21c)]){case _0xb78473[_0x5ee112(0x502)][_0x5ee112(0x558)]:this[_0x5ee112(0x56c)](_0x22797d['getName'](),_0x5376cb[_0x5ee112(0x60d)][_0x5ee112(0x478)][_0x5ee112(0x707)]),await this['addContent'](_0x53746c[_0x5ee112(0x46b)],_0x22797d[_0x5ee112(0x3dd)](),_0x5376cb[_0x5ee112(0x60d)][_0x5ee112(0x478)][_0x5ee112(0x707)]);break;case _0xb78473[_0x5ee112(0x502)]['FileDelete']:this[_0x5ee112(0x56c)](_0x22797d[_0x5ee112(0x3dd)](),_0x5376cb[_0x5ee112(0x60d)][_0x5ee112(0x9d9)]);}});}async[_0x34a0aa(0x7cd)](_0x358367,_0x590e04,_0x2c1fcd){const _0x1d4999=_0x34a0aa;if(!this[_0x1d4999(0x5b8)])throw new Error(_0x1d4999(0x936));let _0x47afe5;switch(_0x358367){case _0x53746c[_0x1d4999(0x6ec)]:_0x47afe5=_0x4c796f[_0x1d4999(0x845)];break;case _0x53746c[_0x1d4999(0x46b)]:_0x47afe5=_0x4c796f[_0x1d4999(0x4a6)];}if(!_0x47afe5)return;const _0x34fb42=this[_0x1d4999(0x5b8)][_0x1d4999(0x729)][_0x1d4999(0x285)](_0x5a0452=>_0x5a0452[_0x1d4999(0x852)]===_0x2d0ced[_0x1d4999(0x29a)]||_0x5a0452[_0x1d4999(0x852)]===_0x2d0ced[_0x1d4999(0x18e)]),_0x41046b=new Set(_0x34fb42[_0x1d4999(0x403)](_0x226e97=>_0x226e97['id'])),_0x1bf00d=_0x34fb42[_0x1d4999(0x285)](_0x4050da=>_0x4050da[_0x1d4999(0x768)][_0x1d4999(0x9bd)](_0x151125=>_0x151125[_0x1d4999(0x852)]===_0x47afe5&&_0x151125['id']['indexOf'](_0x590e04)>-0x1));for(const _0x3f8e43 of _0x1bf00d){if(!_0x41046b[_0x1d4999(0x664)](_0x3f8e43['id']))continue;_0x41046b['delete'](_0x3f8e43['id']);const _0x541d37=_0x3f8e43[_0x1d4999(0x768)][_0x1d4999(0x3f0)](_0x4f00c9=>_0x4f00c9[_0x1d4999(0x852)]===_0x47afe5&&_0x4f00c9['id'][_0x1d4999(0x87b)](_0x590e04)>-0x1);if(!_0x541d37)continue;const _0x500976=(0x0,_0xa47bd4['v4'])();_0x1c9b15[_0x1d4999(0x6a1)](null,_0x500976),await _0x112ff6(_0x500976,_0x2c1fcd,_0x541d37,_0x3f8e43[_0x1d4999(0x768)],{'documentParserConnector':this[_0x1d4999(0x9cc)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x1d4999(0x5da)],'models':this[_0x1d4999(0x5b8)][_0x1d4999(0x43a)],'contentMediator':this[_0x1d4999(0x641)],'searchApiKey':this[_0x1d4999(0x463)]}),_0x1c9b15['closeTrace'](_0x500976);}this['sendStats']();}[_0x34a0aa(0x56c)](_0x50427c,_0xfb227f){const _0x4931af=_0x34a0aa;if(!this[_0x4931af(0x5b8)])throw new Error(_0x4931af(0x936));const _0x1194e9=this[_0x4931af(0x5b8)][_0x4931af(0x729)][_0x4931af(0x285)](_0x27b756=>_0x27b756['type']===_0x2d0ced['Knowledge'])['find'](_0x35f05b=>_0x35f05b[_0x4931af(0x768)][_0x4931af(0x9bd)](_0x1cda51=>_0x1cda51['id']===_0x50427c));for(const _0x314145 of _0x1194e9?.['ingestBlocks']??[])_0x314145[_0x4931af(0x852)]===_0x4c796f[_0x4931af(0x42e)]&&this[_0x4931af(0x641)]['getVectorDatabase'](_0x314145['id'])[_0x4931af(0x754)](_0xfb227f),_0x314145[_0x4931af(0x852)]===_0x4c796f[_0x4931af(0x881)]&&this[_0x4931af(0x641)][_0x4931af(0x6a8)](_0x314145['id'])['remove'](_0xfb227f);this[_0x4931af(0x2a7)]();}[_0x34a0aa(0xa23)](){const _0x32c624=_0x34a0aa;try{return this[_0x32c624(0x4c9)]['getCapacityReport']()[_0x32c624(0x5aa)][_0x32c624(0x29c)]*(0x1-this[_0x32c624(0x4c9)][_0x32c624(0x86f)]()[_0x32c624(0x5aa)][_0x32c624(0x8e1)]);}catch(_0x59d785){return _0x17dbc7[_0x32c624(0x6cb)](_0x5d2ed2[_0x32c624(0x437)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x59d785),0x0;}}[_0x34a0aa(0x2a7)](){const _0x1a9cfe=_0x34a0aa;this[_0x1a9cfe(0x550)]&&clearTimeout(this[_0x1a9cfe(0x550)]),this[_0x1a9cfe(0x550)]=setTimeout(async()=>{const _0x462977=_0x1a9cfe;if(delete this[_0x462977(0x550)],!this['modelStore'])return;let _0x44fee0=await this[_0x462977(0x8ff)][_0x462977(0x3e5)]();for(const _0x4e458d of this['dataStores']['values']())_0x44fee0+=await _0x4e458d[_0x462977(0x3e5)]();this[_0x462977(0x9b5)]['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x462977(0x562)],'content':{'type':_0x5402c8['GenerativeAIWorkerStats'],'label':this[_0x462977(0x5b0)],'stats':{'timestamp':Date[_0x462977(0x517)](),'storage':_0x44fee0,'messagesSent':this[_0x462977(0x9b0)],'messagesReceived':this[_0x462977(0x204)],'bytesSent':this[_0x462977(0x995)],'bytesReceived':this[_0x462977(0x75a)],'writes':0x0,'reads':0x0,'prompts':this[_0x462977(0x940)],'tokens':this[_0x462977(0x81c)]}}});},_0x5c3d80);}[_0x34a0aa(0x920)](_0x241210,_0x41b62e){const _0x3b5de5=_0x34a0aa,_0x33a53b=this[_0x3b5de5(0x5b0)],_0x367619=this[_0x3b5de5(0x8a2)]();_0x17dbc7[_0x3b5de5(0x920)](_0x367233[_0x3b5de5(0x7b6)],{'topic':_0x33a53b,'type':_0x3b5de5(0x48e),'nodeId':_0x367619,'tokenCount':_0x41b62e,'tokensPerSecond':_0x241210});}[_0x34a0aa(0x6a1)](_0x1441ac){const _0x1ef476=_0x34a0aa;try{if(!this['workflow'])throw new Error(_0x1ef476(0x936));if(!this[_0x1ef476(0x6e6)])throw new Error(_0x1ef476(0x22d));if(!_0x1c9b15[_0x1ef476(0x6a1)](this['loggingDb'],_0x1441ac))throw new Error('Error\x20opening\x20trace');return _0x1441ac;}catch(_0x10bc5a){return console[_0x1ef476(0x165)](_0x1ef476(0x363),_0x10bc5a),_0x1ef476(0x787);}}['closeTrace'](_0x277996){const _0x2dee0e=_0x34a0aa;try{_0x1c9b15[_0x2dee0e(0x8fb)](_0x277996);}catch(_0x2882ce){console[_0x2dee0e(0x165)](_0x2dee0e(0x696),{'jobId':_0x277996,'error':_0x2882ce});}}async[_0x34a0aa(0x92b)](){return new Promise(_0x71ea6b=>{const _0x575d72=a0_0x1d5b;try{const _0x53edf6=_0x19dcc3(this[_0x575d72(0x853)],this['label']);this[_0x575d72(0x6e6)]=this[_0x575d72(0x641)]['getKeyValueDatabase'](_0x53edf6),this[_0x575d72(0x6e6)]['subscribe'](({event:_0x5a71da})=>{const _0x306acc=_0x575d72;_0x5a71da===_0xb78473[_0x306acc(0x2ba)][_0x306acc(0x1cc)]&&(this[_0x306acc(0x6e6)][_0x306acc(0x626)](),_0x71ea6b());});}catch(_0x2b989b){console['error']('Error\x20initializing\x20logging\x20database\x20with\x20\x27'+_0x19dcc3(this[_0x575d72(0x853)],this[_0x575d72(0x5b0)])+_0x575d72(0x980),_0x2b989b),_0x71ea6b();}});}}class _0x54b8e3 extends _0x2008ae{['localNode'];[_0x34a0aa(0x222)];['db'];[_0x34a0aa(0x550)];[_0x34a0aa(0x6af)]=0x0;['reads']=0x0;constructor(_0x513512,_0x1d0f0a,_0x3c6f27,_0x28e3f4){const _0x158c3e=_0x34a0aa;if(_0x158c3e(0x6ce)!=typeof _0x1d0f0a)throw new _0x4a345c(_0x2df194[_0x158c3e(0x5e8)],_0x158c3e(0x47b));super(_0x513512,_0x1d0f0a),this[_0x158c3e(0x411)]=_0x513512,this[_0x158c3e(0x222)]=_0x3c6f27,this['db']=new _0x28e3f4(),this[_0x158c3e(0x2a7)]();}[_0x34a0aa(0x5ff)](){const _0x40b619=_0x34a0aa;clearTimeout(this[_0x40b619(0x550)]),delete this[_0x40b619(0x550)],super[_0x40b619(0x5ff)]();}[_0x34a0aa(0x39a)](){const _0x5544ea=_0x34a0aa;this[_0x5544ea(0x9b5)]['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459['Content'],'content':{'type':_0x5402c8[_0x5544ea(0xa12)],'label':this[_0x5544ea(0x5b0)]}});}[_0x34a0aa(0x561)](){const _0x40ff02=_0x34a0aa;return _0xb78473['ContentType'][_0x40ff02(0x881)];}[_0x34a0aa(0x240)](){const _0x2f6b5c=_0x34a0aa;this[_0x2f6b5c(0x2a7)]();}[_0x34a0aa(0x551)](_0x38c6a0,_0x2eb4dc,_0x3fe3d6,_0x3e860d){const _0x461da0=_0x34a0aa;this['db']['addNode'](_0x38c6a0,_0x2eb4dc,_0x3fe3d6,_0x3e860d),this[_0x461da0(0x6af)]+=0x1,this['sendStats']();}['addEdge'](_0x1266d1,_0x1c6b6c){const _0x5f1412=_0x34a0aa;this['db'][_0x5f1412(0x89e)](_0x1266d1,_0x1c6b6c),this[_0x5f1412(0x6af)]+=0x1,this[_0x5f1412(0x2a7)]();}['getContent'](_0xa755d6,_0x1f795f,_0xac6287){const _0x249836=_0x34a0aa,_0x4db044=this['db'][_0x249836(0x534)](_0xa755d6,_0x1f795f,_0xac6287);return this['reads']+=0x1,_0x17dbc7[_0x249836(0x920)](_0x367233['GraphDatabase'],{'type':'get-content','label':this['label'],'nodeId':this[_0x249836(0x411)]['getId'](),'nodeType':this[_0x249836(0x411)][_0x249836(0x852)],'clusterId':this[_0x249836(0x222)],'size':0x0}),this['sendStats'](),_0x4db044;}[_0x34a0aa(0x754)](_0x2cae79){const _0x53c432=_0x34a0aa;this['db']['remove'](_0x2cae79),this[_0x53c432(0x6af)]+=0x1,this[_0x53c432(0x2a7)]();}[_0x34a0aa(0x2a7)](){const _0x4fa0df=_0x34a0aa;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x4fa0df(0x550)]=setTimeout(async()=>{const _0x26ba39=_0x4fa0df;delete this['debounceStats'];const _0x1112bc=this['db'][_0x26ba39(0x3e5)]();this[_0x26ba39(0x9b5)]['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x26ba39(0x562)],'content':{'type':_0x5402c8['GraphDatabaseStats'],'label':this[_0x26ba39(0x5b0)],'stats':{'timestamp':Date['now'](),'storage':_0x1112bc,'messagesSent':this[_0x26ba39(0x9b0)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x26ba39(0x995)],'bytesReceived':this['bytesReceived'],'writes':this[_0x26ba39(0x6af)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x17dbc7[_0x26ba39(0x181)](_0x367233[_0x26ba39(0x881)],_0x26ba39(0x2eb)+this[_0x26ba39(0x222)]+_0x26ba39(0x2eb)+this[_0x26ba39(0x5b0)],_0x1112bc);},_0x5c3d80);}}class _0x3aeee2 extends _0x3ab478{[_0x34a0aa(0x53a)];constructor(_0x7411d9,_0xa3ecfe,_0x2c72d6){const _0x5edfb1=_0x34a0aa;super(_0x7411d9,_0xa3ecfe),this[_0x5edfb1(0x53a)]=_0x2c72d6;}[_0x34a0aa(0x561)](){const _0x5691a6=_0x34a0aa;return _0xb78473[_0x5691a6(0x1b6)][_0x5691a6(0x8d3)];}[_0x34a0aa(0x297)](){const _0x571c01=_0x34a0aa;return this[_0x571c01(0x53a)];}[_0x34a0aa(0x29b)](){return this['mediaStream']['id'];}}class _0x1b75c1 extends _0x3aeee2{[_0x34a0aa(0x41a)];[_0x34a0aa(0x78e)];[_0x34a0aa(0x385)];[_0x34a0aa(0x3c4)]=_0x41e5d0();constructor(_0x14488b,_0x3c97be,_0x5722b3,_0x350892,_0x4dbefa){const _0xf7c38b=_0x34a0aa;super(_0x14488b,_0x3c97be,_0x5722b3),this['remoteId']=_0x350892,this[_0xf7c38b(0x78e)]=_0x4dbefa;}[_0x34a0aa(0x5ff)](){const _0x40b221=_0x34a0aa;this['removeTrack']('audio'),this[_0x40b221(0x2f8)]('video'),super['destroy']();}[_0x34a0aa(0x3fe)](_0x508e2b){const _0x3a4f36=_0x34a0aa;if(!this[_0x3a4f36(0x385)])throw new _0x4e89dd(_0x4e89dd['codes'][_0x3a4f36(0x515)],{'label':this[_0x3a4f36(0x5b0)],'ownerId':this[_0x3a4f36(0x48c)][_0x3a4f36(0x3ad)](),'remoteId':this[_0x3a4f36(0x41a)]});this[_0x3a4f36(0x385)][_0x3a4f36(0x5c0)]({'sourceId':this[_0x3a4f36(0x48c)][_0x3a4f36(0x3ad)](),'content':{'action':_0x255510[_0x3a4f36(0x529)],'track':_0x508e2b,'stream':this['mediaStream'],'priority':_0xb78473[_0x3a4f36(0x49f)][_0x3a4f36(0x3f5)],'params':this['getInternalTrackParams'](_0x508e2b['kind'],this[_0x3a4f36(0x78e)])}});}[_0x34a0aa(0x2f8)](_0x1e5a00){const _0x5de801=_0x34a0aa,_0x38227d=this[_0x5de801(0x9de)](_0x1e5a00);if(_0x38227d){if(!this['topic'])return null;this[_0x5de801(0x385)]['publish']({'sourceId':this[_0x5de801(0x48c)]['getId'](),'content':{'action':_0x255510[_0x5de801(0x4e1)],'track':_0x38227d,'stream':this['mediaStream']}});}return _0x38227d;}[_0x34a0aa(0x17c)](_0x23eb57){const _0x5dd578=_0x34a0aa;if(!this[_0x5dd578(0x385)])throw new _0x4e89dd(_0x4e89dd[_0x5dd578(0x4ea)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x5dd578(0x5b0)],'ownerId':this[_0x5dd578(0x48c)][_0x5dd578(0x3ad)](),'remoteId':this['remoteId']});this[_0x5dd578(0x385)][_0x5dd578(0x5c0)]({'sourceId':this['owner'][_0x5dd578(0x3ad)](),'content':{'action':_0x255510[_0x5dd578(0x5cb)],'priority':_0x23eb57,'stream':this[_0x5dd578(0x53a)]}});}[_0x34a0aa(0x253)]({trackKinds:_0x5664d4,params:_0x449dbb},_0x18b25b){const _0x46b4d9=_0x34a0aa;if(!this[_0x46b4d9(0x385)])throw new _0x4e89dd(_0x4e89dd['codes'][_0x46b4d9(0x515)],{'label':this[_0x46b4d9(0x5b0)],'ownerId':this[_0x46b4d9(0x48c)][_0x46b4d9(0x3ad)](),'remoteId':this['remoteId']});for(const _0x2921cb of this['mediaStream'][_0x46b4d9(0x9e4)]())_0x5664d4[_0x46b4d9(0x25d)](_0x2921cb[_0x46b4d9(0x6ea)])&&this['topic'][_0x46b4d9(0x5c0)]({'sourceId':this[_0x46b4d9(0x48c)][_0x46b4d9(0x3ad)](),'content':{'action':_0x255510[_0x46b4d9(0x529)],'track':_0x2921cb,'stream':this[_0x46b4d9(0x53a)],'priority':_0x18b25b,'params':this[_0x46b4d9(0x725)](_0x2921cb['kind'],_0x449dbb)}});}['update']({params:_0x4a5fc5}){const _0x246cf6=_0x34a0aa;if(!this[_0x246cf6(0x385)])throw new _0x4e89dd(_0x4e89dd[_0x246cf6(0x4ea)][_0x246cf6(0x515)],{'label':this[_0x246cf6(0x5b0)],'ownerId':this[_0x246cf6(0x48c)][_0x246cf6(0x3ad)](),'remoteId':this[_0x246cf6(0x41a)]});for(const _0x23075f of this[_0x246cf6(0x53a)][_0x246cf6(0x9e4)]())this['topic'][_0x246cf6(0x5c0)]({'sourceId':this['owner'][_0x246cf6(0x3ad)](),'content':{'action':_0x255510[_0x246cf6(0x5cb)],'stream':this[_0x246cf6(0x53a)],'params':this['getInternalTrackParams'](_0x23075f[_0x246cf6(0x6ea)],_0x4a5fc5)}});}[_0x34a0aa(0x626)]({trackKinds:_0x11cecb}){const _0x4de087=_0x34a0aa;if(this[_0x4de087(0x385)]){for(const _0x2fd67e of this[_0x4de087(0x53a)]['getTracks']())_0x11cecb[_0x4de087(0x25d)](_0x2fd67e[_0x4de087(0x6ea)])&&this[_0x4de087(0x385)][_0x4de087(0x5c0)]({'sourceId':this[_0x4de087(0x48c)]['getId'](),'content':{'action':_0x255510[_0x4de087(0x4e1)],'stream':this[_0x4de087(0x53a)],'track':_0x2fd67e}});}}[_0x34a0aa(0x296)](_0x46a6d0){this['topic']=_0x46a6d0;}['unregisterPublisher'](_0x1aa1d9){const _0x14f188=_0x34a0aa;_0x1aa1d9===this[_0x14f188(0x385)]&&(delete this[_0x14f188(0x385)],this[_0x14f188(0x3c4)][_0x14f188(0x5c0)]());}[_0x34a0aa(0x7c4)](_0x473804){const _0x1d315c=_0x34a0aa;return this[_0x1d315c(0x3c4)][_0x1d315c(0x253)](_0x473804);}[_0x34a0aa(0x9de)](_0x291f67){const _0x5b52fa=_0x34a0aa;return this[_0x5b52fa(0x53a)][_0x5b52fa(0x9e4)]()[_0x5b52fa(0x3f0)](_0x43d90c=>_0x43d90c[_0x5b52fa(0x6ea)]===_0x291f67)||null;}[_0x34a0aa(0x725)](_0x582bb4,_0x5cd7c5){const _0x405208=_0x34a0aa;let _0x32b5f2;return _0x405208(0x827)===_0x582bb4&&_0x5cd7c5?.[_0x405208(0x827)]&&'boolean'!=typeof _0x5cd7c5['video']&&(_0x32b5f2={'kind':_0x405208(0x827),..._0x5cd7c5['video']},_0x32b5f2[_0x405208(0x67a)]=this[_0x405208(0x98c)]()),_0x405208(0x9d3)===_0x582bb4&&_0x5cd7c5?.[_0x405208(0x9d3)]&&_0x405208(0x307)!=typeof _0x5cd7c5[_0x405208(0x9d3)]&&(_0x32b5f2={'kind':_0x405208(0x9d3),..._0x5cd7c5[_0x405208(0x9d3)]}),_0x32b5f2;}[_0x34a0aa(0x98c)](){const _0x573b35=_0x34a0aa;let _0x5620a2={'width':0x0,'height':0x0};const _0x194fd9=this[_0x573b35(0x53a)][_0x573b35(0x671)]();if(_0x194fd9[_0x573b35(0x831)]>0x0){const _0x5e647f=_0x194fd9[0x0][_0x573b35(0x371)]();_0x5e647f['width']&&_0x5e647f['height']&&(_0x5620a2={'width':_0x5e647f[_0x573b35(0x659)],'height':_0x5e647f[_0x573b35(0x5fa)]});}return _0x5620a2;}}class _0x197ba9 extends _0x3aeee2{[_0x34a0aa(0x222)];[_0x34a0aa(0x820)]=_0xb78473[_0x34a0aa(0x49f)][_0x34a0aa(0x3f5)];['trackEndedListeners']=new Map();['outgoingStreams']=new Map();constructor(_0x39ea0c,_0x202502,_0x32437e,_0x3089e4){const _0x448e5b=_0x34a0aa;super(_0x39ea0c,_0x202502,_0x32437e instanceof MediaStream?_0x32437e:_0x32437e[_0x448e5b(0x923)]?_0x32437e['srcObject']:_0x32437e['captureStream']()),this[_0x448e5b(0x222)]=_0x3089e4,this[_0x448e5b(0x53a)][_0x448e5b(0x9e4)]()['forEach'](_0x2e0fbb=>this['setupTrackEndedListeners'](_0x2e0fbb)),_0x17dbc7[_0x448e5b(0x920)](_0x367233[_0x448e5b(0x18a)],{'type':_0x448e5b(0x5c0),'label':this['label'],'nodeId':this['owner'][_0x448e5b(0x3ad)](),'nodeType':this[_0x448e5b(0x48c)][_0x448e5b(0x852)],'clusterId':this[_0x448e5b(0x222)],'streamId':this[_0x448e5b(0x29b)](),'trackKinds':this[_0x448e5b(0x53a)]['getTracks']()[_0x448e5b(0x403)](_0x43f5a7=>_0x43f5a7[_0x448e5b(0x6ea)])});}[_0x34a0aa(0x5ff)](){const _0x1e0b6b=_0x34a0aa;this[_0x1e0b6b(0x24d)][_0x1e0b6b(0x57d)]>0x0&&(this[_0x1e0b6b(0x24d)][_0x1e0b6b(0x66c)](_0x1fc74e=>{const _0x3cd73c=_0x1e0b6b;_0x1fc74e[_0x3cd73c(0x5f8)](),_0x1fc74e[_0x3cd73c(0x5ff)]();}),this[_0x1e0b6b(0x24d)][_0x1e0b6b(0x620)]()),this[_0x1e0b6b(0x4f8)][_0x1e0b6b(0x66c)](_0x317a9f=>_0x317a9f()),super[_0x1e0b6b(0x5ff)]();}[_0x34a0aa(0x5c0)](_0x214732){const _0xf78b53=_0x34a0aa;this[_0xf78b53(0x9b5)]['publish']({'sourceId':this['owner'][_0xf78b53(0x3ad)](),'destinationIds':_0x214732?[_0x214732]:void 0x0,'propagate':!0x0,'messageType':_0x174459['Content'],'content':{'type':_0x5402c8['PublishMediaStream'],'ownerId':this[_0xf78b53(0x48c)][_0xf78b53(0x3ad)](),'label':this[_0xf78b53(0x5b0)],'stream':{'streamId':this[_0xf78b53(0x29b)](),'availableTrackKinds':this[_0xf78b53(0x53a)][_0xf78b53(0x9e4)]()[_0xf78b53(0x403)](_0x35cca5=>_0x35cca5[_0xf78b53(0x6ea)])}}});}['unpublish'](){const _0x3935d9=_0x34a0aa;this[_0x3935d9(0x9b5)][_0x3935d9(0x5c0)]({'sourceId':this[_0x3935d9(0x48c)]['getId'](),'propagate':!0x0,'messageType':_0x174459['Content'],'content':{'type':_0x5402c8[_0x3935d9(0x84d)],'ownerId':this['owner'][_0x3935d9(0x3ad)](),'label':this[_0x3935d9(0x5b0)]}}),this[_0x3935d9(0x9b5)]['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x3935d9(0x562)],'content':{'type':_0x5402c8[_0x3935d9(0xa37)],'label':this[_0x3935d9(0x5b0)]}}),_0x17dbc7[_0x3935d9(0x920)](_0x367233[_0x3935d9(0x18a)],{'type':_0x3935d9(0x190),'label':this['label'],'nodeId':this[_0x3935d9(0x48c)]['getId'](),'nodeType':this[_0x3935d9(0x48c)][_0x3935d9(0x852)],'clusterId':this[_0x3935d9(0x222)],'streamId':this[_0x3935d9(0x29b)]()});}[_0x34a0aa(0x418)](){const _0x31b249=_0x34a0aa;return this[_0x31b249(0x820)];}[_0x34a0aa(0x17c)](_0x253ee0){const _0x1d257b=_0x34a0aa;this[_0x1d257b(0x820)]=_0x253ee0,this[_0x1d257b(0x24d)]['forEach'](_0x199536=>_0x199536[_0x1d257b(0x17c)](_0x253ee0));}['getShareableStream'](_0x9df341,_0x57655a){const _0xc6a143=_0x34a0aa;if(!this[_0xc6a143(0x24d)][_0xc6a143(0x664)](_0x9df341)){const _0x239a8e=new _0x1b75c1(this[_0xc6a143(0x48c)],this[_0xc6a143(0x5b0)],this[_0xc6a143(0x53a)],_0x9df341,_0x57655a),_0x248974=_0x239a8e['onUnregisterPublisher'](()=>{const _0x54c10d=_0xc6a143;_0x248974(),this[_0x54c10d(0x24d)]['get'](_0x9df341)?.[_0x54c10d(0x5ff)](),this[_0x54c10d(0x24d)][_0x54c10d(0x9c4)](_0x9df341);});this[_0xc6a143(0x24d)][_0xc6a143(0x286)](_0x9df341,_0x239a8e),_0x239a8e[_0xc6a143(0x58f)](this['systemTopic']);}return this['outgoingStreams'][_0xc6a143(0x56b)](_0x9df341);}[_0x34a0aa(0x350)](){const _0x4e3811=_0x34a0aa;return this[_0x4e3811(0x53a)]['id'];}['handleLocalTrackFailure'](_0xbb0122){const _0x302211=_0x34a0aa;this['systemTopic'][_0x302211(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x302211(0x562)],'content':{'type':_0x5402c8[_0x302211(0x7dd)],'label':this[_0x302211(0x5b0)],'trackKinds':[_0xbb0122[_0x302211(0x6ea)]]}});}[_0x34a0aa(0x4f6)](_0x22535b){const _0x205496=_0x34a0aa,_0x328163=()=>this[_0x205496(0x7e5)](_0x22535b);_0x22535b[_0x205496(0x3bd)](_0x205496(0x960),_0x328163),_0x22535b[_0x205496(0x3bd)](_0x205496(0x907),_0x328163),this[_0x205496(0x4f8)][_0x205496(0x286)](_0x22535b[_0x205496(0x6ea)],()=>{const _0x1c6ee8=_0x205496;_0x22535b[_0x1c6ee8(0x911)](_0x1c6ee8(0x960),_0x328163),_0x22535b[_0x1c6ee8(0x911)](_0x1c6ee8(0x907),_0x328163),this['trackEndedListeners'][_0x1c6ee8(0x9c4)](_0x22535b[_0x1c6ee8(0x6ea)]);});}}class _0x3fcb6d extends _0x197ba9{[_0x34a0aa(0x683)];[_0x34a0aa(0x449)]=[];[_0x34a0aa(0x67c)];['audioSource'];[_0x34a0aa(0x25e)];['sourceVideo'];['canvas'];[_0x34a0aa(0x726)];['interval'];constructor(_0x187056,_0x368cdb,_0x3c7c39,_0x44ac1a,_0x20536a,_0x34a1ec){const _0x4ecc92=_0x34a0aa;if(super(_0x187056,_0x368cdb,_0x3c7c39,_0x34a1ec),this[_0x4ecc92(0x683)]=_0x20536a,this[_0x4ecc92(0x67c)]=this[_0x4ecc92(0x53a)],this[_0x4ecc92(0x9eb)]=document[_0x4ecc92(0x1f0)](_0x4ecc92(0x827)),this[_0x4ecc92(0x9eb)][_0x4ecc92(0x889)]=!0x0,this[_0x4ecc92(0x9eb)][_0x4ecc92(0x3ab)]=!0x0,this[_0x4ecc92(0x9eb)][_0x4ecc92(0x923)]=this['clientStream'],this[_0x4ecc92(0x9eb)][_0x4ecc92(0x8e1)](),this[_0x4ecc92(0x9eb)][_0x4ecc92(0x840)]=()=>{const _0x2c8afb=_0x4ecc92;this[_0x2c8afb(0x9eb)][_0x2c8afb(0x322)]();},this[_0x4ecc92(0x817)]=document[_0x4ecc92(0x1f0)]('canvas'),this[_0x4ecc92(0x726)]=this[_0x4ecc92(0x817)][_0x4ecc92(0x18d)]('2d'),this[_0x4ecc92(0x53a)]=this[_0x4ecc92(0x817)][_0x4ecc92(0x1b7)](_0x44ac1a),this[_0x4ecc92(0x25e)]=this[_0x4ecc92(0x683)][_0x4ecc92(0x453)](),this[_0x4ecc92(0x67c)][_0x4ecc92(0x1aa)]()[_0x4ecc92(0x831)]>0x0){const _0x3706fb=this['clientStream']['getAudioTracks']()[0x0];this['audioSource']=this['audioContext'][_0x4ecc92(0x8c5)](new MediaStream([_0x3706fb])),this['audioSource'][_0x4ecc92(0xa48)](this[_0x4ecc92(0x25e)]);}const _0x24bf5f=this[_0x4ecc92(0x25e)][_0x4ecc92(0x77a)][_0x4ecc92(0x9e4)]()[0x0];this[_0x4ecc92(0x53a)][_0x4ecc92(0x3fe)](_0x24bf5f),this[_0x4ecc92(0x950)]=setInterval(()=>{const _0x4416c5=_0x4ecc92;this['canvas'][_0x4416c5(0x659)]=this[_0x4416c5(0x9eb)]['videoWidth'],this[_0x4416c5(0x817)]['height']=this[_0x4416c5(0x9eb)]['videoHeight'],this[_0x4416c5(0x9eb)][_0x4416c5(0x59e)]?(0x0!==this[_0x4416c5(0x67c)][_0x4416c5(0x671)]()[_0x4416c5(0x831)]&&this[_0x4416c5(0x67c)]['getVideoTracks']()[0x0][_0x4416c5(0x9ce)]?this[_0x4416c5(0x53a)][_0x4416c5(0x671)]()[0x0][_0x4416c5(0x9ce)]=!0x0:this[_0x4416c5(0x53a)]['getVideoTracks']()[0x0][_0x4416c5(0x9ce)]=!0x1,0x0!==this[_0x4416c5(0x67c)][_0x4416c5(0x1aa)]()[_0x4416c5(0x831)]&&this[_0x4416c5(0x67c)][_0x4416c5(0x1aa)]()[0x0][_0x4416c5(0x9ce)]?this[_0x4416c5(0x53a)]['getAudioTracks']()[0x0][_0x4416c5(0x9ce)]=!0x0:this[_0x4416c5(0x53a)][_0x4416c5(0x1aa)]()[0x0][_0x4416c5(0x9ce)]=!0x1,this[_0x4416c5(0x726)][_0x4416c5(0x7a6)](this[_0x4416c5(0x9eb)],0x0,0x0)):this[_0x4416c5(0x726)][_0x4416c5(0x76d)](0x0,0x0,this[_0x4416c5(0x817)]['width'],this['canvas'][_0x4416c5(0x5fa)]);},0x3e8/_0x44ac1a);}[_0x34a0aa(0x5ff)](){const _0x4a89e5=_0x34a0aa;clearInterval(this[_0x4a89e5(0x950)]),this[_0x4a89e5(0x9eb)][_0x4a89e5(0x754)](),this['canvas']['remove'](),this[_0x4a89e5(0x877)]?.['disconnect'](),this[_0x4a89e5(0x25e)][_0x4a89e5(0x7ef)](),this[_0x4a89e5(0x53a)][_0x4a89e5(0x9e4)]()[_0x4a89e5(0x66c)](_0xe81cd7=>{const _0x44a074=_0x4a89e5;_0xe81cd7['stop'](),this[_0x44a074(0x53a)][_0x44a074(0x2f8)](_0xe81cd7);}),super['destroy']();}[_0x34a0aa(0x3fe)](_0x3f8a6c){const _0x2bb23a=_0x34a0aa,_0x584ea2=this[_0x2bb23a(0x9de)](_0x3f8a6c['kind']);_0x584ea2&&this['removeTrack'](_0x584ea2),_0x2bb23a(0x9d3)!==_0x3f8a6c[_0x2bb23a(0x6ea)]?(_0x2bb23a(0x827)===_0x3f8a6c[_0x2bb23a(0x6ea)]&&this[_0x2bb23a(0x392)](_0x3f8a6c),this[_0x2bb23a(0x4f6)](_0x3f8a6c)):this[_0x2bb23a(0x32a)](_0x3f8a6c);}[_0x34a0aa(0x2f8)](_0x50fa22){const _0x4f2373=_0x34a0aa,_0x44912d=this['getTrackFromParam'](_0x50fa22);return _0x44912d&&(_0x4f2373(0x9d3)===_0x44912d[_0x4f2373(0x6ea)]&&(this['audioSource']?.[_0x4f2373(0x7ef)](),this[_0x4f2373(0x877)]=void 0x0),this[_0x4f2373(0x4f8)]['get'](_0x44912d[_0x4f2373(0x6ea)])?.(),this['clientStream'][_0x4f2373(0x2f8)](_0x44912d)),_0x44912d;}['replaceTrack'](_0x5a5d82){const _0x2daec3=_0x34a0aa;this[_0x2daec3(0x2f8)](_0x5a5d82['kind']),this['addTrack'](_0x5a5d82);}['setTransformations'](_0x1aff1b){const _0x43a796=_0x34a0aa;this[_0x43a796(0x449)]=_0x1aff1b;}[_0x34a0aa(0x9de)](_0x488c67){const _0x2fb949=_0x34a0aa;return this[_0x2fb949(0x67c)][_0x2fb949(0x9e4)]()[_0x2fb949(0x3f0)](_0x3ade3b=>_0x3ade3b[_0x2fb949(0x6ea)]===_0x488c67)||null;}[_0x34a0aa(0x5eb)](_0x47bd06){const _0x50f154=_0x34a0aa;return _0x50f154(0x6ce)==typeof _0x47bd06?this[_0x50f154(0x9de)](_0x47bd06):_0x47bd06;}[_0x34a0aa(0x32a)](_0x17c9b6){const _0xd721c7=_0x34a0aa;_0xd721c7(0x7b0)===this[_0xd721c7(0x683)][_0xd721c7(0x7e1)]&&this[_0xd721c7(0x683)]['resume'](),this['clientStream'][_0xd721c7(0x3fe)](_0x17c9b6),this[_0xd721c7(0x877)]=this[_0xd721c7(0x683)]['createMediaStreamSource'](this[_0xd721c7(0x67c)]),this[_0xd721c7(0x877)][_0xd721c7(0xa48)](this[_0xd721c7(0x25e)]);}[_0x34a0aa(0x392)](_0xabce1f){const _0x143ef8=_0x34a0aa;this['clientStream'][_0x143ef8(0x3fe)](_0xabce1f),this[_0x143ef8(0x9eb)][_0x143ef8(0x8e1)]();}}class _0x4ce061 extends _0x197ba9{}class _0x10cda4 extends _0x2008ae{[_0x34a0aa(0x411)];['clusterId'];[_0x34a0aa(0x853)];[_0x34a0aa(0x949)];['waitForArrayBufferSize'];[_0x34a0aa(0x5d5)];[_0x34a0aa(0x88a)];[_0x34a0aa(0x28d)]=new Map();[_0x34a0aa(0x4ac)]=new Map();[_0x34a0aa(0x244)]=new Map();[_0x34a0aa(0x622)]=new Map();[_0x34a0aa(0x3f9)]=new Map();[_0x34a0aa(0x208)]=new Map();[_0x34a0aa(0x9e8)];['eventListener']=_0x5a3b06();[_0x34a0aa(0x593)]=new Map();[_0x34a0aa(0x550)];[_0x34a0aa(0x6af)]=0x0;[_0x34a0aa(0x66a)]=0x0;[_0x34a0aa(0x9be)]=!0x0;[_0x34a0aa(0x9e3)]=!0x0;[_0x34a0aa(0x249)]=0x0;constructor(_0x21db91,_0x5ec5e0,_0x2e6e12,_0x14bdd7,_0xb901d4,_0x476ee0,_0x459c1e){const _0x497de1=_0x34a0aa;if('string'!=typeof _0x5ec5e0)throw new _0x4a345c(_0x2df194[_0x497de1(0x688)],_0x497de1(0xa03));super(_0x21db91,_0x5ec5e0),this['localNode']=_0x21db91,this[_0x497de1(0x222)]=_0x2e6e12,this['vendorId']=_0x14bdd7,this[_0x497de1(0x949)]=_0xb901d4,this[_0x497de1(0x241)]=_0x459c1e;const _0x501a15=_0x497de1(0x2eb)+this[_0x497de1(0x853)]+_0x497de1(0x2eb)+this['clusterId']+_0x497de1(0x2eb)+_0x5ec5e0;this[_0x497de1(0x9e8)]=new _0x476ee0(_0x501a15),this[_0x497de1(0x2a7)]();}[_0x34a0aa(0x240)](){const _0x3dd326=_0x34a0aa;this[_0x3dd326(0x2a7)]();}[_0x34a0aa(0x561)](){const _0x8eb465=_0x34a0aa;return _0xb78473['ContentType'][_0x8eb465(0x7c5)];}async[_0x34a0aa(0x2a3)](_0x3a6861){const _0x2d3843=_0x34a0aa;void 0x0!==_0x3a6861&&(this[_0x2d3843(0x9be)]=_0x3a6861),this[_0x2d3843(0x9e3)]=!0x0;try{const _0x5a76c6=await this[_0x2d3843(0x9e8)][_0x2d3843(0x56b)](_0x659292),_0x18836d=await _0x5a76c6[_0x2d3843(0x86c)]();this[_0x2d3843(0x88a)]=_0x18836d;}catch(_0x2ee799){}this[_0x2d3843(0x5d5)]=this['onMessage'](async(_0x57fcfa,_0x40429b)=>{const _0x25395b=_0x2d3843;if(!(_0x40429b instanceof File))try{if(_0x40429b['payloadType']===_0x1e69d3[_0x25395b(0x2c5)])return void this[_0x25395b(0x2bf)](_0x40429b);this[_0x25395b(0x4c3)](_0x40429b);}catch(_0x4efe12){if(_0x4efe12 instanceof _0x4e89dd)throw _0x4efe12;throw new _0x4e89dd(_0x4e89dd[_0x25395b(0x4ea)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x40429b});}}),await this[_0x2d3843(0x355)](),this[_0x2d3843(0x9be)]?await this['syncPendingFiles']():this[_0x2d3843(0x985)](),this[_0x2d3843(0x2a7)]();}[_0x34a0aa(0x5ff)](){const _0x5ce486=_0x34a0aa;this[_0x5ce486(0x5d5)]?.(),this[_0x5ce486(0x593)][_0x5ce486(0x66c)](_0x556801=>_0x556801()),clearTimeout(this[_0x5ce486(0x550)]),delete this[_0x5ce486(0x550)],super['destroy']();}[_0x34a0aa(0x39a)](){const _0x3a6190=_0x34a0aa;this[_0x3a6190(0x9b5)]?.['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x3a6190(0x562)],'content':{'type':_0x5402c8[_0x3a6190(0x2e8)],'label':this[_0x3a6190(0x5b0)]}});}[_0x34a0aa(0x253)](_0x11c046,_0x3955e1){const _0x2a222a=_0x34a0aa;if(this[_0x2a222a(0x593)][_0x2a222a(0x664)](_0x11c046))throw new _0x4a345c(_0x2df194['ObjectStoreAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x2a222a(0x593)][_0x2a222a(0x286)](_0x11c046,this[_0x2a222a(0x2b3)]['subscribe'](_0x3955e1)),this['isSyncing']||this[_0x2a222a(0x2b3)][_0x2a222a(0x5c0)]({'event':_0xb78473[_0x2a222a(0x502)][_0x2a222a(0x1cc)],'payload':null});}[_0x34a0aa(0x626)](_0x57f302){const _0x3e9c75=_0x34a0aa;this[_0x3e9c75(0x593)]['get'](_0x57f302)?.(),this[_0x3e9c75(0x593)]['delete'](_0x57f302);}['publish'](_0x36fa56){const _0x17593d=_0x34a0aa;switch(_0x36fa56[_0x17593d(0x379)]){case _0xb78473[_0x17593d(0x1d6)]['File']:return this[_0x17593d(0x1c3)](_0x36fa56['file'],_0x36fa56['path'],_0x36fa56[_0x17593d(0x21d)]);case _0xb78473[_0x17593d(0x1d6)][_0x17593d(0x4cd)]:return this[_0x17593d(0x989)](_0x36fa56[_0x17593d(0x7ee)]);case _0xb78473[_0x17593d(0x1d6)][_0x17593d(0x8e4)]:return this['publishMove'](_0x36fa56[_0x17593d(0x7ee)],_0x36fa56[_0x17593d(0x5d1)]);default:throw new _0x4a345c(_0x2df194[_0x17593d(0xa20)],_0x17593d(0x7f3)+_0x36fa56);}}async[_0x34a0aa(0x190)](_0x23994a){const _0x4c9038=_0x34a0aa;try{const _0x3ea1d0=(0x0,_0xa47bd4['v4'])(),_0x25bf7a=this[_0x4c9038(0x88a)],_0x41b7bf={'payloadType':_0x1e69d3['Transaction'],'action':_0x40870a[_0x4c9038(0x844)],'id':_0x3ea1d0,'parentId':_0x25bf7a,'path':_0x23994a};await this[_0x4c9038(0x334)](_0x41b7bf);const _0xb5850f=await this[_0x4c9038(0x96c)](_0x23994a);await this['send'](_0x41b7bf),_0x17dbc7[_0x4c9038(0x920)](_0x367233[_0x4c9038(0x6ec)],{'type':'unpublish','label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x4c9038(0x411)][_0x4c9038(0x852)],'clusterId':this[_0x4c9038(0x222)],'kind':_0xb5850f,'path':_0x23994a}),this[_0x4c9038(0x6af)]+=0x1,this[_0x4c9038(0x2a7)]();}catch(_0x2375c0){if(_0x2375c0 instanceof _0x4e89dd)throw new _0x4a345c(_0x2df194[_0x4c9038(0x611)],'Cannot\x20unpublish\x20object\x20at\x20'+_0x23994a+_0x4c9038(0x376));throw new _0x4a345c(_0x2df194[_0x4c9038(0x788)],_0x4c9038(0x5b1)+_0x23994a);}}async[_0x34a0aa(0x56b)](_0x517d08,_0x21b4a3){const _0x36cad8=_0x34a0aa;_0x17dbc7[_0x36cad8(0x920)](_0x367233[_0x36cad8(0x6ec)],{'type':_0x36cad8(0x56b),'label':this[_0x36cad8(0x5b0)],'nodeId':this[_0x36cad8(0x411)]['getId'](),'nodeType':this[_0x36cad8(0x411)]['type'],'clusterId':this[_0x36cad8(0x222)],'path':_0x517d08}),this[_0x36cad8(0x66a)]+=0x1,this[_0x36cad8(0x2a7)]();try{return await this[_0x36cad8(0x9e8)][_0x36cad8(0x56b)](_0x517d08,_0x21b4a3);}catch(_0x2a29d6){try{await this['objectStoreConnector'][_0x36cad8(0x56b)](_0x517d08+_0x52cccd);}catch(_0x40a0d9){throw new _0x4a345c(_0x2df194[_0x36cad8(0x788)],_0x36cad8(0x41f)+_0x517d08);}throw new _0x4a345c(_0x2df194[_0x36cad8(0x611)],_0x36cad8(0x8d0));}}async[_0x34a0aa(0x61a)](_0x3e93e8,_0x277aa4){const _0xe928c6=_0x34a0aa,{recursive:_0x5536d1=!0x1,includeSyncingFiles:_0x2f360f=!0x1}=_0x277aa4??{};_0x17dbc7[_0xe928c6(0x920)](_0x367233['ObjectStorage'],{'type':_0xe928c6(0x61a),'label':this[_0xe928c6(0x5b0)],'nodeId':this[_0xe928c6(0x411)][_0xe928c6(0x3ad)](),'nodeType':this['localNode'][_0xe928c6(0x852)],'clusterId':this[_0xe928c6(0x222)],'path':_0x3e93e8}),this[_0xe928c6(0x66a)]+=0x1,this[_0xe928c6(0x2a7)]();try{const _0x5a1f21=await this[_0xe928c6(0x9e8)]['list'](_0x3e93e8,_0x5536d1);return this[_0xe928c6(0x24e)](_0x5a1f21,{'recursive':_0x5536d1,'includeSyncingFiles':_0x2f360f});}catch(_0x2cbe1d){throw new _0x4a345c(_0x2df194['ObjectStoreInvalidPath'],_0xe928c6(0x479)+_0x3e93e8);}}[_0x34a0aa(0x4d4)](_0x1292dd){const _0x103ebf=_0x34a0aa;this['nodesConnected']+=0x1;for(const _0x430ed5 of this[_0x103ebf(0x4ac)][_0x103ebf(0x8ec)]())this['send'](_0x430ed5,[_0x1292dd]);}[_0x34a0aa(0x9a1)](_0x2e7c4c){const _0x4d4242=_0x34a0aa;this[_0x4d4242(0x249)]-=0x1;const _0x421205=this['pendingFilesSyncing'][_0x4d4242(0x56b)](_0x2e7c4c);if(_0x421205){for(const [_0x81f6f4,_0x201624]of _0x421205[_0x4d4242(0x8ec)]())this[_0x4d4242(0x2d0)](_0x81f6f4,_0x201624);this[_0x4d4242(0x244)]['delete'](_0x2e7c4c);}}async[_0x34a0aa(0x3e5)](_0x50168c='/'){const _0x2fc9eb=_0x34a0aa;try{return await this[_0x2fc9eb(0x9e8)][_0x2fc9eb(0x565)](_0x50168c);}catch(_0x187520){if(_0x187520 instanceof Error&&_0x187520['message'][_0x2fc9eb(0x25d)]('ENOENT'))return 0x0;throw new _0x4a345c(_0x2df194[_0x2fc9eb(0x788)],_0x2fc9eb(0x71d)+_0x50168c);}}[_0x34a0aa(0x985)](){const _0x5262fc=_0x34a0aa;this[_0x5262fc(0x9e3)]&&(this[_0x5262fc(0x9e3)]=!0x1,this[_0x5262fc(0x2b3)]['publish']({'event':_0xb78473[_0x5262fc(0x502)]['SyncComplete'],'payload':null}));}async[_0x34a0aa(0x24e)](_0x3a1178,{includeSyncingFiles:_0x14e078=!0x1}){const _0x2e665b=_0x34a0aa,_0x430ae8=[];for(const _0x48f021 of _0x3a1178)if(_0x48f021[_0x2e665b(0x6ea)]!==_0xb78473['ObjectKind'][_0x2e665b(0x4cd)]){if(_0x48f021[_0x2e665b(0x9d9)]!==_0x659292){if(_0x48f021[_0x2e665b(0x9d9)][_0x2e665b(0x8c1)](_0x52cccd)){if(!_0x14e078)continue;const _0x104822=_0x48f021;if(_0x104822[_0x2e665b(0x9d9)]=_0x104822[_0x2e665b(0x9d9)]['replace'](_0x52cccd,''),_0x104822[_0x2e665b(0x707)]=_0x104822[_0x2e665b(0x707)][_0x2e665b(0x633)](_0x52cccd,''),await this[_0x2e665b(0x398)](_0x104822[_0x2e665b(0x707)])){_0x3a1178[_0x2e665b(0x3f0)](_0x221d70=>_0x221d70['pathName']===_0x104822['pathName'])['status']=_0xb78473['FileStatus'][_0x2e665b(0x54c)];continue;}_0x104822[_0x2e665b(0x563)]=_0xb78473[_0x2e665b(0x211)]['Pending'];}_0x430ae8[_0x2e665b(0x32e)](_0x48f021);}}else _0x48f021[_0x2e665b(0x595)]=await this[_0x2e665b(0x24e)](_0x48f021[_0x2e665b(0x595)]??[],{'includeSyncingFiles':_0x14e078}),_0x430ae8[_0x2e665b(0x32e)](_0x48f021);return _0x430ae8;}async[_0x34a0aa(0x1c3)](_0x2670a5,_0x1f6c89,_0x4b201d){const _0x46d4f3=_0x34a0aa;try{const _0x4319ee=(0x0,_0xa47bd4['v4'])(),_0x739023=await _0x57aac8(_0x2670a5),_0x1ec78f=_0x5348d1(_0x1f6c89??'/',_0x2670a5[_0x46d4f3(0x9d9)]);let _0x4c3dd3=!0x0;const _0x2ea76b={'payloadType':_0x1e69d3['Transaction'],'action':_0x40870a[_0x46d4f3(0x558)],'id':_0x4319ee,'parentId':this[_0x46d4f3(0x88a)],'answererId':this[_0x46d4f3(0x411)]['getId'](),'name':_0x2670a5['name'],'type':_0x2670a5[_0x46d4f3(0x852)],'path':_0x1f6c89??'/','skipEncryption':_0x4b201d?.[_0x46d4f3(0x8ab)]??!0x1,'checksum':_0x739023};try{const _0x44f422=_0x1ec78f+_0x52cccd;await this[_0x46d4f3(0x9e8)]['get'](_0x44f422),_0x4c3dd3=!0x1,await this[_0x46d4f3(0x9e8)][_0x46d4f3(0x96c)](_0x44f422),this[_0x46d4f3(0x4ac)][_0x46d4f3(0x9c4)](_0x1ec78f);}catch(_0x5f11e3){await this[_0x46d4f3(0x334)](_0x2ea76b);}if(this[_0x46d4f3(0x9be)]?await this[_0x46d4f3(0x6ca)](_0x2670a5,_0x1f6c89,_0x4b201d):await this[_0x46d4f3(0x271)](_0x2670a5['name'],_0x1f6c89??'/',{'checksum':_0x739023,'skipEncryption':_0x4b201d?.[_0x46d4f3(0x8ab)]??!0x1}),this[_0x46d4f3(0x208)][_0x46d4f3(0x664)](_0x1ec78f)){const [_0x29bcfe,_0x3e8b48]=this[_0x46d4f3(0x208)][_0x46d4f3(0x56b)](_0x1ec78f);this['fileSendingMap']['set'](_0x1ec78f,[!0x0,_0x3e8b48]);try{await _0x3e8b48;}catch(_0x27a120){}this[_0x46d4f3(0x208)][_0x46d4f3(0x9c4)](_0x1ec78f);}_0x4c3dd3&&this[_0x46d4f3(0x249)]>0x0&&await this[_0x46d4f3(0x604)](_0x2670a5,_0x2ea76b),_0x17dbc7['logServiceEvent'](_0x367233[_0x46d4f3(0x6ec)],{'type':'publish','label':this[_0x46d4f3(0x5b0)],'nodeId':this[_0x46d4f3(0x411)]['getId'](),'nodeType':this[_0x46d4f3(0x411)][_0x46d4f3(0x852)],'clusterId':this[_0x46d4f3(0x222)],'kind':_0xb78473[_0x46d4f3(0x4e3)][_0x46d4f3(0x9b3)],'path':_0x1f6c89,'fileName':_0x2670a5[_0x46d4f3(0x9d9)],'fileType':_0x2670a5[_0x46d4f3(0x852)],'size':_0x2670a5[_0x46d4f3(0x57d)]}),this[_0x46d4f3(0x6af)]+=0x1,this[_0x46d4f3(0x2a7)]();}catch(_0x3e5426){if(_0x3e5426 instanceof _0x4e89dd)throw new _0x4a345c(_0x2df194[_0x46d4f3(0x611)],_0x46d4f3(0x8d0));throw new _0x4a345c(_0x2df194[_0x46d4f3(0x788)],_0x46d4f3(0x859)+_0x1f6c89+(_0x1f6c89?.[_0x46d4f3(0x8c1)]('/')?'':'/')+_0x2670a5[_0x46d4f3(0x9d9)]);}}async[_0x34a0aa(0x989)](_0x483ebd){const _0x150e5f=_0x34a0aa;try{const _0x2f850b=(0x0,_0xa47bd4['v4'])(),_0x2b19cb=this['lastTransactionId'],_0x56129b={'payloadType':_0x1e69d3['Transaction'],'action':_0x40870a[_0x150e5f(0x8ef)],'id':_0x2f850b,'parentId':_0x2b19cb,'path':_0x483ebd};await this[_0x150e5f(0x334)](_0x56129b),await this[_0x150e5f(0x9e8)][_0x150e5f(0x408)](_0x483ebd),await this[_0x150e5f(0x92f)](_0x56129b),_0x17dbc7[_0x150e5f(0x920)](_0x367233['ObjectStorage'],{'type':_0x150e5f(0x5c0),'label':this['label'],'nodeId':this[_0x150e5f(0x411)]['getId'](),'nodeType':this[_0x150e5f(0x411)][_0x150e5f(0x852)],'clusterId':this[_0x150e5f(0x222)],'kind':_0xb78473['ObjectKind'][_0x150e5f(0x4cd)],'path':_0x483ebd}),this['writes']+=0x1,this['sendStats']();}catch(_0x5d8d9c){if(_0x5d8d9c instanceof _0x4e89dd)throw new _0x4a345c(_0x2df194[_0x150e5f(0x611)],_0x150e5f(0x8d0));throw new _0x4a345c(_0x2df194['ObjectStoreInvalidPath'],'Cannot\x20publish\x20folder:\x20'+_0x483ebd);}}async[_0x34a0aa(0x405)](_0x34d258,_0x5635e2){const _0x5a5de7=_0x34a0aa;try{const _0x4a9c1a=(0x0,_0xa47bd4['v4'])(),_0x163f23=this[_0x5a5de7(0x88a)],_0x47598a={'payloadType':_0x1e69d3['Transaction'],'action':_0x40870a[_0x5a5de7(0x8e4)],'id':_0x4a9c1a,'parentId':_0x163f23,'path':_0x34d258,'newPath':_0x5635e2};await this['publishTransaction'](_0x47598a);const _0x469b8b=await this[_0x5a5de7(0x310)](_0x34d258,_0x5635e2);await this[_0x5a5de7(0x92f)](_0x47598a),_0x17dbc7[_0x5a5de7(0x920)](_0x367233['ObjectStorage'],{'type':_0x5a5de7(0x3be),'label':this[_0x5a5de7(0x5b0)],'nodeId':this[_0x5a5de7(0x411)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0x5a5de7(0x222)],'kind':_0x469b8b,'path':_0x34d258,'newPath':_0x5635e2}),this['writes']+=0x1,this[_0x5a5de7(0x2a7)]();}catch(_0x7774c0){if(_0x7774c0 instanceof _0x4e89dd)throw new _0x4a345c(_0x2df194['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x4a345c(_0x2df194['ObjectStoreInvalidPath'],_0x5a5de7(0x8ba)+_0x34d258);}}async['handleTransactionPayload'](_0x5a94ce,_0x3f2f8f=!0x1){const _0x8aedb5=_0x34a0aa;if(this['lastTransactionId']&&_0x5a94ce[_0x8aedb5(0x422)]!==this[_0x8aedb5(0x88a)]&&_0x5a94ce['id']!==this['lastTransactionId']){if(!_0x5a94ce[_0x8aedb5(0x422)])throw new _0x4e89dd(_0x4e89dd['codes'][_0x8aedb5(0x6b6)]);this[_0x8aedb5(0x28d)][_0x8aedb5(0x286)](_0x5a94ce[_0x8aedb5(0x422)],_0x5a94ce);}else{try{await this['processTransactionPayload'](_0x5a94ce,_0x3f2f8f);}catch(_0x11df64){}await this['updateLastTransactionId'](_0x5a94ce['id']),await this['processPendingSyncTransactions'](_0x5a94ce['id'],_0x3f2f8f);}}async[_0x34a0aa(0x7ab)](_0x1e7c4f,_0x182631=!0x1){const _0x197bb6=_0x34a0aa;switch(_0x1e7c4f['action']){case _0x40870a[_0x197bb6(0x558)]:await this[_0x197bb6(0x849)](_0x1e7c4f);break;case _0x40870a[_0x197bb6(0x8ef)]:await this[_0x197bb6(0x5ad)](_0x1e7c4f);break;case _0x40870a[_0x197bb6(0x8e4)]:await this['handleObjectMove'](_0x1e7c4f,_0x182631);break;case _0x40870a['Delete']:await this[_0x197bb6(0x37e)](_0x1e7c4f,_0x182631);break;default:throw new _0x4e89dd(_0x4e89dd['codes'][_0x197bb6(0x6b6)],{'payload':_0x1e7c4f});}}async['processPendingSyncTransactions'](_0x5d7b9c,_0xb439c9=!0x1){const _0x20935a=_0x34a0aa;if(this[_0x20935a(0x28d)][_0x20935a(0x664)](_0x5d7b9c)){const _0x1747eb=this[_0x20935a(0x28d)]['get'](_0x5d7b9c);this[_0x20935a(0x28d)]['delete'](_0x5d7b9c),await this['handleTransactionPayload'](_0x1747eb,_0xb439c9);}}async['handleRequestPayload'](_0x530e19){const _0x4331e8=_0x34a0aa;switch(_0x530e19[_0x4331e8(0x379)]){case _0x40870a[_0x4331e8(0x5a3)]:return this[_0x4331e8(0x20f)](_0x530e19);case _0x40870a[_0x4331e8(0x352)]:return this['handleFileRequestAnswer'](_0x530e19);case _0x40870a[_0x4331e8(0x7f9)]:return this[_0x4331e8(0x3a0)](_0x530e19);case _0x40870a[_0x4331e8(0x8ac)]:return this[_0x4331e8(0x849)](_0x530e19);default:throw new _0x4e89dd(_0x4e89dd[_0x4331e8(0x4ea)][_0x4331e8(0x6b6)],{'payload':_0x530e19});}}async[_0x34a0aa(0x849)](_0x123e39,_0x5b509b=0x0){const _0x2d959c=_0x34a0aa,_0x5e05d4=_0x5348d1(_0x123e39[_0x2d959c(0x7ee)],_0x123e39[_0x2d959c(0x9d9)]);if(!_0x123e39['data']||void 0x0===_0x123e39[_0x2d959c(0x968)]||!_0x123e39['total'])return this[_0x2d959c(0x370)][_0x2d959c(0x9c4)](_0x5e05d4),void await this[_0x2d959c(0x271)](_0x123e39[_0x2d959c(0x9d9)],_0x123e39['path'],{'checksum':_0x123e39[_0x2d959c(0x49c)],'skipEncryption':_0x123e39['skipEncryption']});if(this[_0x2d959c(0x370)]['has'](_0x5e05d4)){const _0x596a0d=this[_0x2d959c(0x370)][_0x2d959c(0x56b)](_0x5e05d4);_0x596a0d['checksum']!==_0x123e39[_0x2d959c(0x49c)]&&(_0x596a0d[_0x2d959c(0x77a)]?.[_0x2d959c(0x39a)](),this['fileChunks'][_0x2d959c(0x9c4)](_0x5e05d4));}if(!this[_0x2d959c(0x370)]['has'](_0x5e05d4)){try{await this[_0x2d959c(0x9e8)][_0x2d959c(0x96c)](_0x5e05d4);}catch(_0x10bf48){}try{const _0x5242c3=this[_0x2d959c(0x9be)]?await this[_0x2d959c(0x9e8)][_0x2d959c(0x55a)](_0x5e05d4,{'skipEncryption':_0x123e39[_0x2d959c(0x8ab)]}):void 0x0,_0x2990c6={'chunksReceived':_0x123e39[_0x2d959c(0x82f)]??0x0,'bytesReceived':0x0,'stream':_0x5242c3,'checksum':_0x123e39[_0x2d959c(0x49c)]};this[_0x2d959c(0x370)][_0x2d959c(0x286)](_0x5e05d4,_0x2990c6),await this['createPendingFileWrite'](_0x123e39[_0x2d959c(0x9d9)],_0x123e39[_0x2d959c(0x7ee)],{'checksum':_0x123e39[_0x2d959c(0x49c)],'skipEncryption':_0x123e39[_0x2d959c(0x8ab)]});}catch(_0x2dd787){}}const _0x3f29cc=this[_0x2d959c(0x370)][_0x2d959c(0x56b)](_0x5e05d4);if(_0x123e39[_0x2d959c(0x49c)]!==_0x3f29cc[_0x2d959c(0x49c)])return;if(this['setPendingFileSyncingPayload'](_0x123e39,_0x5e05d4),this[_0x2d959c(0x9be)]){if(!_0x3f29cc['stream'])throw new _0x4e89dd(_0x4e89dd['codes'][_0x2d959c(0x6b6)],{'message':_0x2d959c(0x31a)});let _0x361908=_0x3f29cc[_0x2d959c(0x95b)];if(_0x123e39['index']!==_0x361908){if(_0x361908>_0x123e39[_0x2d959c(0x968)])return;const _0x36957b=2064.1259842519685;if(_0x123e39[_0x2d959c(0x968)]>_0x361908+_0x36957b)return;if(_0x3f29cc['bufferedChunks']||(_0x3f29cc[_0x2d959c(0x5e2)]=[]),_0x3f29cc[_0x2d959c(0x5e2)][_0x2d959c(0x831)]>8256.503937007874)throw this[_0x2d959c(0x370)]['delete'](_0x5e05d4),new _0x4e89dd(_0x4e89dd[_0x2d959c(0x4ea)][_0x2d959c(0x6b6)],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x3f29cc['bufferedChunks'][_0x2d959c(0x32e)](_0x123e39);}try{_0x3f29cc[_0x2d959c(0x95b)]+=0x1,_0x3f29cc[_0x2d959c(0x75a)]+=_0x123e39[_0x2d959c(0x1ad)][_0x2d959c(0x402)],await _0x3f29cc[_0x2d959c(0x77a)][_0x2d959c(0x8c8)](_0x123e39[_0x2d959c(0x1ad)]);}catch(_0x35c876){if(console['error']('Error\x20writing\x20chunk\x20to\x20stream',_0x35c876),_0x5b509b>0x3)throw this[_0x2d959c(0x370)][_0x2d959c(0x9c4)](_0x5e05d4),console[_0x2d959c(0x165)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x35c876),new _0x4e89dd(_0x4e89dd['codes'][_0x2d959c(0x6b6)],{'message':_0x2d959c(0x808)});return this['handleFileWrite'](_0x123e39,_0x5b509b+0x1);}}try{await this[_0x2d959c(0x4c4)](_0x3f29cc,_0x123e39[_0x2d959c(0x968)]+0x1);}catch(_0x451829){throw this[_0x2d959c(0x370)][_0x2d959c(0x9c4)](_0x5e05d4),_0x451829;}if(this[_0x2d959c(0x370)][_0x2d959c(0x286)](_0x5e05d4,_0x3f29cc),_0x3f29cc['chunksReceived']<_0x123e39['total'])return;await this[_0x2d959c(0x5f4)](_0x5e05d4),this[_0x2d959c(0x9be)]&&(await this[_0x2d959c(0x3c8)](_0x123e39),_0x17dbc7[_0x2d959c(0x920)](_0x367233[_0x2d959c(0x6ec)],{'type':_0x2d959c(0x2a3),'label':this['label'],'nodeId':this[_0x2d959c(0x411)][_0x2d959c(0x3ad)](),'nodeType':this[_0x2d959c(0x411)][_0x2d959c(0x852)],'clusterId':this['clusterId'],'kind':_0xb78473[_0x2d959c(0x4e3)][_0x2d959c(0x9b3)],'path':_0x123e39['path'],'fileName':_0x123e39[_0x2d959c(0x9d9)],'fileType':_0x123e39['type'],'size':_0x3f29cc[_0x2d959c(0x75a)]}));const _0x2f5510=this[_0x2d959c(0x622)][_0x2d959c(0x56b)](_0x123e39[_0x2d959c(0x7ee)])??[];for(const _0x1046bd of _0x2f5510)await this[_0x2d959c(0x7ab)](_0x1046bd);this[_0x2d959c(0x622)]['delete'](_0x123e39[_0x2d959c(0x7ee)]),this[_0x2d959c(0x2b3)][_0x2d959c(0x5c0)]({'event':_0xb78473[_0x2d959c(0x502)][_0x2d959c(0x558)],'payload':{'file':{'kind':_0xb78473[_0x2d959c(0x4e3)][_0x2d959c(0x9b3)],'path':_0x123e39[_0x2d959c(0x7ee)],'type':_0x123e39['type'],'size':_0x3f29cc[_0x2d959c(0x75a)],'name':_0x123e39[_0x2d959c(0x9d9)],'pathName':_0x5e05d4,'status':this['syncContent']?_0xb78473[_0x2d959c(0x211)][_0x2d959c(0x7b1)]:_0xb78473['FileStatus'][_0x2d959c(0x452)]}}}),this[_0x2d959c(0x2a7)]();}async[_0x34a0aa(0x4c4)](_0x75009a,_0x453349){const _0x25a97b=_0x34a0aa,_0x12a380=_0x75009a[_0x25a97b(0x77a)];let _0x24476a=0x0;for(;_0x75009a[_0x25a97b(0x5e2)]&&_0x75009a['bufferedChunks']['length']>0x0;){const _0x3937b6=_0x75009a[_0x25a97b(0x5e2)]['find'](_0x2a815c=>_0x2a815c[_0x25a97b(0x968)]===_0x453349+0x1);if(!_0x3937b6)break;_0x75009a[_0x25a97b(0x5e2)]=_0x75009a[_0x25a97b(0x5e2)]['filter'](_0x425b8b=>_0x425b8b[_0x25a97b(0x968)]!==_0x453349+0x1);try{await _0x12a380[_0x25a97b(0x8c8)](_0x3937b6[_0x25a97b(0x1ad)]),_0x453349++;}catch(_0x23e01b){if(console[_0x25a97b(0x165)](_0x25a97b(0x85b),_0x23e01b),_0x24476a>0x3)throw console['error'](_0x25a97b(0x58b),_0x23e01b),new _0x4e89dd(_0x4e89dd['codes'][_0x25a97b(0x6b6)],{'message':_0x25a97b(0x58b)});_0x24476a++;continue;}_0x75009a[_0x25a97b(0x95b)]+=0x1,_0x75009a[_0x25a97b(0x75a)]+=_0x3937b6[_0x25a97b(0x1ad)][_0x25a97b(0x402)];}}async[_0x34a0aa(0x5ad)](_0x7153f3){const _0x34e304=_0x34a0aa;await this[_0x34e304(0x9e8)]['createFolder'](_0x7153f3['path']);const [_0x35eaed,_0x3e7fbe]=_0x228c2a(_0x7153f3[_0x34e304(0x7ee)]);this['eventListener'][_0x34e304(0x5c0)]({'event':_0xb78473[_0x34e304(0x502)]['FolderCreate'],'payload':{'folder':{'kind':_0xb78473[_0x34e304(0x4e3)][_0x34e304(0x4cd)],'name':_0x3e7fbe,'path':_0x35eaed,'pathName':_0x7153f3[_0x34e304(0x7ee)]}}});}async[_0x34a0aa(0x37e)](_0x17ca2d,_0x191f1b=!0x1){const _0x34b748=_0x34a0aa;if(!_0x191f1b&&!this[_0x34b748(0x786)](_0x17ca2d))return;const _0x38d596=await this[_0x34b748(0x96c)](_0x17ca2d[_0x34b748(0x7ee)]),[_0xbf1894,_0x7dff13]=_0x228c2a(_0x17ca2d['path']);this[_0x34b748(0x2b3)][_0x34b748(0x5c0)]({'event':_0x38d596===_0xb78473[_0x34b748(0x4e3)][_0x34b748(0x4cd)]?_0xb78473['StorageEventType'][_0x34b748(0x715)]:_0xb78473[_0x34b748(0x502)]['FileDelete'],'payload':{'name':_0x7dff13,'path':_0xbf1894,'pathName':_0x17ca2d[_0x34b748(0x7ee)]}}),this[_0x34b748(0x2a7)]();}async[_0x34a0aa(0x353)](_0xae2e8a,_0x3aa656=!0x1){const _0xfb4eaf=_0x34a0aa;if(!_0x3aa656&&!this[_0xfb4eaf(0x786)](_0xae2e8a))return this['pendingFilesRename']['set'](_0xae2e8a[_0xfb4eaf(0x5d1)],this[_0xfb4eaf(0x3f9)][_0xfb4eaf(0x56b)](_0xae2e8a[_0xfb4eaf(0x7ee)])??_0xae2e8a[_0xfb4eaf(0x7ee)]),void this[_0xfb4eaf(0x3f9)][_0xfb4eaf(0x9c4)](_0xae2e8a[_0xfb4eaf(0x7ee)]);this[_0xfb4eaf(0x3f9)][_0xfb4eaf(0x9c4)](_0xae2e8a[_0xfb4eaf(0x7ee)]);const _0x3b9944=await this[_0xfb4eaf(0x9e8)][_0xfb4eaf(0x310)](_0xae2e8a[_0xfb4eaf(0x7ee)],_0xae2e8a['newPath']),[_0x6e3362,_0x496dec]=_0x228c2a(_0xae2e8a[_0xfb4eaf(0x7ee)]),[_0x1dde9f,_0x2e352a]=_0x228c2a(_0xae2e8a[_0xfb4eaf(0x5d1)]);this[_0xfb4eaf(0x2b3)]['publish']({'event':_0x3b9944===_0xb78473['ObjectKind'][_0xfb4eaf(0x4cd)]?_0xb78473['StorageEventType'][_0xfb4eaf(0x6e8)]:_0xb78473['StorageEventType'][_0xfb4eaf(0x724)],'payload':{'name':_0x2e352a,'path':_0x1dde9f,'pathName':_0xae2e8a[_0xfb4eaf(0x5d1)],'oldName':_0x496dec,'oldPath':_0x6e3362,'oldPathName':_0xae2e8a['path']}}),this[_0xfb4eaf(0x2a7)]();}['shouldProcessTransaction'](_0x337bec){const _0x2cc51f=_0x34a0aa,_0x466155=this['pendingFilesRename'][_0x2cc51f(0x56b)](_0x337bec[_0x2cc51f(0x7ee)])??_0x337bec[_0x2cc51f(0x7ee)];let _0x40d1ed=!0x1;for(const _0x35b1d8 of this[_0x2cc51f(0x370)][_0x2cc51f(0x7d3)]())if(_0x35b1d8[_0x2cc51f(0x8fd)](_0x466155)){const _0x17894b=this[_0x2cc51f(0x622)]['get'](_0x35b1d8)??[];_0x17894b[_0x2cc51f(0x32e)](_0x337bec),this['pendingFilesTransactions'][_0x2cc51f(0x286)](_0x35b1d8,_0x17894b),_0x40d1ed=!0x0;}return!_0x40d1ed;}async[_0x34a0aa(0x334)](_0x4e9a04){const _0x4c643d=_0x34a0aa;if(!_0x4e9a04['id'])throw new _0x4e89dd(_0x4e89dd[_0x4c643d(0x4ea)][_0x4c643d(0x6b6)],{'message':_0x4c643d(0x84e)});if(_0x4e9a04['parentId']!==this['lastTransactionId'])throw new _0x4e89dd(_0x4e89dd[_0x4c643d(0x4ea)][_0x4c643d(0x829)]);await this[_0x4c643d(0x949)][_0x4c643d(0x4ff)](_0x4e9a04,this[_0x4c643d(0x5b0)]),await this['updateLastTransactionId'](_0x4e9a04['id']);}async[_0x34a0aa(0xa08)](_0x5b09eb){const _0x3fa6ce=_0x34a0aa;this[_0x3fa6ce(0x88a)]=_0x5b09eb;const _0x18e77f=new File([new Blob([this[_0x3fa6ce(0x88a)]])],_0x659292,{'type':_0x3fa6ce(0x3a8)});await this[_0x3fa6ce(0x6ca)](_0x18e77f,'/');}async[_0x34a0aa(0x20f)](_0x52fb19){const _0x1b6cf4=_0x34a0aa;try{const _0xdbd00d=await this[_0x1b6cf4(0x56b)](_0x52fb19[_0x1b6cf4(0x7ee)]+'/'+_0x52fb19[_0x1b6cf4(0x9d9)],{'skipEncryption':_0x52fb19[_0x1b6cf4(0x8ab)]}),_0xcc916b=await _0x57aac8(_0xdbd00d);if(''!==_0x52fb19['checksum']&&_0xcc916b!==_0x52fb19[_0x1b6cf4(0x49c)])return;_0x52fb19['answererId']=this[_0x1b6cf4(0x411)][_0x1b6cf4(0x3ad)](),_0x52fb19['action']=_0x40870a[_0x1b6cf4(0x352)],await this[_0x1b6cf4(0x92f)](_0x52fb19,[_0x52fb19['sourceId']]);}catch(_0x2524a9){}}async[_0x34a0aa(0x61c)](_0x5e4bd5){const _0x5be276=_0x34a0aa,_0x397bb6=_0x5348d1(_0x5e4bd5[_0x5be276(0x7ee)],_0x5e4bd5[_0x5be276(0x9d9)]);if(!this['objectRequests'][_0x5be276(0x664)](_0x397bb6))return;const _0x4ebe1e=this[_0x5be276(0x4ac)][_0x5be276(0x56b)](_0x397bb6);_0x4ebe1e[_0x5be276(0x379)]=_0x40870a[_0x5be276(0x7f9)];const _0x173eaa=_0x5e4bd5[_0x5be276(0x501)];if(!_0x173eaa)throw new _0x4e89dd(_0x4e89dd[_0x5be276(0x4ea)][_0x5be276(0x6b6)],{'message':_0x5be276(0xa0f)});if(this[_0x5be276(0x4ac)]['delete'](_0x397bb6),this[_0x5be276(0x244)][_0x5be276(0x664)](_0x173eaa)||this[_0x5be276(0x244)]['set'](_0x173eaa,new Map()),this['pendingFilesSyncing'][_0x5be276(0x56b)](_0x173eaa)[_0x5be276(0x286)](_0x397bb6,[_0x4ebe1e,this['getOrResetPendingFileTimeout'](_0x173eaa,_0x397bb6)]),_0x4ebe1e[_0x5be276(0x501)]=_0x173eaa,_0x4ebe1e['startIndex']=this[_0x5be276(0x370)][_0x5be276(0x56b)](_0x397bb6)?.[_0x5be276(0x95b)]??0x0,0x0===_0x4ebe1e['startIndex'])try{const [_0x2f1fc1,_0x18560]=await this[_0x5be276(0x603)](_0x5e4bd5[_0x5be276(0x9d9)],_0x5e4bd5[_0x5be276(0x7ee)],_0x5e4bd5[_0x5be276(0x49c)]);_0x2f1fc1&&(_0x4ebe1e[_0x5be276(0x82f)]=_0x18560);}catch(_0x14bfa2){}this[_0x5be276(0x92f)](_0x4ebe1e,[_0x173eaa]);}async['handleFileSync'](_0x4c28de){const _0x55f202=_0x34a0aa,_0x30b7c4=_0x5348d1(_0x4c28de[_0x55f202(0x7ee)],_0x4c28de[_0x55f202(0x9d9)]),_0x1402ab=await this[_0x55f202(0x56b)](_0x30b7c4,{'skipEncryption':_0x4c28de[_0x55f202(0x8ab)]}),_0x4ac5e9={..._0x4c28de,'answererId':this[_0x55f202(0x411)]['getId'](),'action':_0x40870a[_0x55f202(0x8ac)],'startIndex':_0x4c28de[_0x55f202(0x82f)]??0x0};await this[_0x55f202(0x604)](_0x1402ab,_0x4ac5e9,[_0x4c28de[_0x55f202(0x7b7)]]);}async[_0x34a0aa(0x604)](_0x4f1660,_0x510890,_0x44beb5){let _0x535b5f,_0x52270a;const _0x199b71=new Promise(async(_0x3d1d86,_0x35ded5)=>{_0x535b5f=_0x3d1d86,_0x52270a=_0x35ded5;});return((async()=>{const _0x4263b0=a0_0x1d5b,_0x561906=Math[_0x4263b0(0x38d)](_0x4f1660[_0x4263b0(0x57d)]/_0x33c5a5);let _0xd0c657=_0x510890[_0x4263b0(0x82f)]??0x0;const _0x9feb74=_0x5348d1(_0x510890[_0x4263b0(0x7ee)],_0x510890[_0x4263b0(0x9d9)]);this['fileSendingMap']['set'](_0x9feb74,[!0x1,_0x199b71]);for await(const _0x456ba2 of async function*(_0x28900d,_0x1c07cc=0x0,_0x5ae3b4){for await(const _0x181953 of _0x36a541(_0x28900d,_0x1c07cc,_0x5ae3b4))yield _0x181953;}(_0x4f1660,_0xd0c657,this[_0x4263b0(0x241)])){const [_0x450207]=this['fileSendingMap'][_0x4263b0(0x56b)](_0x9feb74)??[];if(_0x450207)return this[_0x4263b0(0x208)]['delete'](_0x9feb74),void _0x52270a(new Error(_0x4263b0(0x7fd)));if(this['pendingFilesTransactions']['has'](_0x9feb74)){const _0x7ca054=this[_0x4263b0(0x622)][_0x4263b0(0x56b)](_0x9feb74);for(const _0xa39a10 of _0x7ca054)if(_0xa39a10[_0x4263b0(0x379)]===_0x40870a[_0x4263b0(0x558)]||_0xa39a10[_0x4263b0(0x379)]===_0x40870a[_0x4263b0(0x844)])return;}const _0xb44714={..._0x510890,'type':_0x4f1660[_0x4263b0(0x852)],'data':_0x456ba2,'index':_0xd0c657,'total':_0x561906};this[_0x4263b0(0x92f)](_0xb44714,_0x44beb5),_0xd0c657++;}const _0x2e667a=setInterval(async()=>{const _0x3ed1a1=_0x4263b0;await this[_0x3ed1a1(0x241)]()>0x0||(clearInterval(_0x2e667a),_0x535b5f());});this[_0x4263b0(0x208)]['delete'](_0x9feb74);})()),_0x199b71;}async[_0x34a0aa(0x3c8)](_0xdcbe9d){const _0x3b3c44=_0x34a0aa;try{const _0x4d46f4=_0x5348d1(_0xdcbe9d[_0x3b3c44(0x7ee)],_0xdcbe9d[_0x3b3c44(0x9d9)]),_0x37da92=_0x4d46f4+_0x52cccd;await this['deleteObject'](_0x37da92);const [,_0x198335]=this[_0x3b3c44(0x244)][_0x3b3c44(0x56b)](_0xdcbe9d[_0x3b3c44(0x501)])?.[_0x3b3c44(0x56b)](_0x4d46f4)??[];_0x198335&&(clearTimeout(_0x198335),this[_0x3b3c44(0x244)]['get'](_0xdcbe9d['answererId'])['delete'](_0x4d46f4));}catch(_0x432bf0){}0x0===this[_0x3b3c44(0x244)][_0x3b3c44(0x56b)](_0xdcbe9d[_0x3b3c44(0x501)])?.[_0x3b3c44(0x57d)]&&this[_0x3b3c44(0x244)][_0x3b3c44(0x9c4)](_0xdcbe9d[_0x3b3c44(0x501)]),0x0===this['pendingFilesSyncing'][_0x3b3c44(0x57d)]&&0x0===this['objectRequests'][_0x3b3c44(0x57d)]&&this[_0x3b3c44(0x985)]();}async['syncTransactions'](){const _0x14c34f=_0x34a0aa;try{const _0x3e37f5=await this[_0x14c34f(0x949)][_0x14c34f(0x288)](this[_0x14c34f(0x5b0)],this[_0x14c34f(0x88a)]);for(const _0x5f5dc5 of _0x3e37f5)await this[_0x14c34f(0x4c3)](_0x5f5dc5,!0x0);}catch(_0x398939){if(_0x398939 instanceof _0x4e89dd&&_0x398939[_0x14c34f(0x99d)]===_0x4e89dd[_0x14c34f(0x4ea)][_0x14c34f(0x7d0)]){await this[_0x14c34f(0x9e8)][_0x14c34f(0x96c)](_0x659292),delete this[_0x14c34f(0x88a)];try{const _0x1db14c=await this[_0x14c34f(0x9e8)][_0x14c34f(0x61a)]('/',!0x1);for(const _0x41a40b of _0x1db14c)await this[_0x14c34f(0x9e8)][_0x14c34f(0x96c)](_0x41a40b[_0x14c34f(0x707)]);}catch(_0x51ea1c){}return await this[_0x14c34f(0x355)]();}throw _0x398939;}}async[_0x34a0aa(0x234)](){const _0x20e876=_0x34a0aa,_0x118869=await this[_0x20e876(0x61a)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x49c770=async _0x2fb9d4=>{const _0x9bafd9=_0x20e876;for(const _0x19daa4 of _0x2fb9d4){if(_0x19daa4[_0x9bafd9(0x6ea)]===_0xb78473[_0x9bafd9(0x4e3)][_0x9bafd9(0x4cd)]){_0x19daa4[_0x9bafd9(0x595)]&&_0x19daa4[_0x9bafd9(0x595)][_0x9bafd9(0x831)]>0x0&&await _0x49c770(_0x19daa4[_0x9bafd9(0x595)]);continue;}if(_0x19daa4[_0x9bafd9(0x563)]!==_0xb78473['FileStatus'][_0x9bafd9(0x452)])continue;const _0x100066=await this[_0x9bafd9(0x56b)](_0x19daa4[_0x9bafd9(0x707)]+_0x52cccd),_0x19001d=JSON[_0x9bafd9(0x4a0)](await _0x100066[_0x9bafd9(0x86c)]()),_0xb9cbd8=_0x19daa4[_0x9bafd9(0x9d9)][_0x9bafd9(0x633)](_0x52cccd,''),_0x1e9716={'payloadType':_0x1e69d3[_0x9bafd9(0x2c5)],'action':_0x40870a[_0x9bafd9(0x5a3)],'sourceId':this[_0x9bafd9(0x411)][_0x9bafd9(0x3ad)](),'type':'','path':_0x19daa4[_0x9bafd9(0x7ee)],'name':_0xb9cbd8,'checksum':_0x19001d[_0x9bafd9(0x49c)],'skipEncryption':_0x19001d['skipEncryption']},_0x14131c=_0x5348d1(_0x19daa4[_0x9bafd9(0x7ee)],_0xb9cbd8);this['objectRequests'][_0x9bafd9(0x286)](_0x14131c,_0x1e9716);}};await _0x49c770(_0x118869),0x0===this[_0x20e876(0x4ac)][_0x20e876(0x57d)]&&0x0===this[_0x20e876(0x244)][_0x20e876(0x57d)]&&this[_0x20e876(0x985)]();}async['createPendingFileWrite'](_0x4bd9c0,_0x3c1034,_0x28952b){const _0x2971c1=_0x34a0aa,_0x4ecaad=new File([new Blob([JSON[_0x2971c1(0xa4f)](_0x28952b)])],''+_0x4bd9c0+_0x52cccd,{'type':_0x2971c1(0x3a8)});await this[_0x2971c1(0x6ca)](_0x4ecaad,_0x3c1034);}async['checkExistingPendingFileContent'](_0x1a444e,_0x46a322,_0x5179d6){const _0x1d2cec=_0x34a0aa;try{const _0x3b2f12=_0x5348d1(_0x46a322,_0x1a444e),_0x439bb9=_0x3b2f12+_0x52cccd,_0x39535d=await this[_0x1d2cec(0x9e8)][_0x1d2cec(0x56b)](_0x439bb9),{checksum:_0x4e5a65,skipEncryption:_0x558c6a}=JSON[_0x1d2cec(0x4a0)](await _0x39535d[_0x1d2cec(0x86c)]()),_0xc78d46=(await this[_0x1d2cec(0x9e8)]['get'](_0x3b2f12,{'skipEncryption':_0x558c6a}))['size'];return _0x4e5a65===_0x5179d6&&_0xc78d46%_0x33c5a5==0x0?[!0x0,Math[_0x1d2cec(0x347)](_0xc78d46/_0x33c5a5)]:(await this[_0x1d2cec(0x9e8)][_0x1d2cec(0x96c)](_0x3b2f12),[!0x1,0x0]);}catch(_0x363d0c){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x165889,_0x4c2eb1){const _0x125552=_0x34a0aa,[_0x3152a8,_0x28303c]=this[_0x125552(0x244)][_0x125552(0x56b)](_0x165889)?.[_0x125552(0x56b)](_0x4c2eb1)??[];return _0x28303c&&clearTimeout(_0x28303c),setTimeout(()=>{const _0x22cd01=_0x125552,[_0x3d537e,_0x5b39e3]=this[_0x22cd01(0x244)][_0x22cd01(0x56b)](_0x165889)[_0x22cd01(0x56b)](_0x4c2eb1);this[_0x22cd01(0x2d0)](_0x3d537e,_0x5b39e3);},0x927c0);}async[_0x34a0aa(0x2d0)](_0x17e102,_0x8854c8){const _0x34de84=_0x34a0aa;clearTimeout(_0x8854c8),_0x17e102['action']=_0x40870a[_0x34de84(0x5a3)],this[_0x34de84(0x4ac)][_0x34de84(0x286)](_0x5348d1(_0x17e102[_0x34de84(0x7ee)],_0x17e102[_0x34de84(0x9d9)]),_0x17e102),this[_0x34de84(0x92f)](_0x17e102);}[_0x34a0aa(0x374)](_0x526df9,_0x1bebba){const _0x1a713b=_0x34a0aa;if(!this[_0x1a713b(0x9be)])return;this['pendingFilesSyncing'][_0x1a713b(0x664)](_0x526df9['answererId'])||this[_0x1a713b(0x244)][_0x1a713b(0x286)](_0x526df9[_0x1a713b(0x501)],new Map());const [_0x5e1640]=this['pendingFilesSyncing'][_0x1a713b(0x56b)](_0x526df9[_0x1a713b(0x501)])['get'](_0x1bebba)??[{'payloadType':_0x1e69d3[_0x1a713b(0x2c5)],'action':_0x40870a[_0x1a713b(0x5a3)],'sourceId':this[_0x1a713b(0x411)][_0x1a713b(0x3ad)](),'type':_0x526df9[_0x1a713b(0x852)],'name':_0x526df9[_0x1a713b(0x9d9)],'path':_0x526df9[_0x1a713b(0x7ee)],'skipEncryption':_0x526df9[_0x1a713b(0x8ab)],'checksum':_0x526df9[_0x1a713b(0x49c)],'answererId':_0x526df9[_0x1a713b(0x501)]}];this['pendingFilesSyncing'][_0x1a713b(0x56b)](_0x526df9['answererId'])['set'](_0x1bebba,[_0x5e1640,this[_0x1a713b(0x90e)](_0x526df9[_0x1a713b(0x501)],_0x1bebba)]);}async[_0x34a0aa(0x6ca)](_0x457c3d,_0x132d02,_0x811c5a){const _0x1a5970=_0x34a0aa;await this[_0x1a5970(0x9e8)][_0x1a5970(0x6ca)](_0x457c3d,_0x132d02,_0x811c5a);}async[_0x34a0aa(0x96c)](_0x1a32b0){const _0x244810=_0x34a0aa;try{const _0x5925df=await this[_0x244810(0x9e8)]['deleteObject'](_0x1a32b0);if(!_0x1a32b0[_0x244810(0x8c1)](_0x52cccd))try{await this[_0x244810(0x9e8)]['deleteObject'](_0x1a32b0+_0x52cccd);}catch(_0x176f27){}return _0x5925df;}catch(_0xd81e6d){return await this[_0x244810(0x9e8)][_0x244810(0x96c)](_0x1a32b0+_0x52cccd);}}async[_0x34a0aa(0x310)](_0xa4adc3,_0x1b99b7){const _0x3b1eb4=_0x34a0aa;try{const _0x2860a8=await this[_0x3b1eb4(0x9e8)][_0x3b1eb4(0x310)](_0xa4adc3,_0x1b99b7);if(!_0xa4adc3['endsWith'](_0x52cccd))try{await this['objectStoreConnector']['moveObject'](_0xa4adc3+_0x52cccd,_0x1b99b7+_0x52cccd);}catch(_0x36770d){}return _0x2860a8;}catch(_0x492b24){return await this[_0x3b1eb4(0x9e8)]['moveObject'](_0xa4adc3+_0x52cccd,_0x1b99b7+_0x52cccd);}}['sendStats'](){const _0x25ca52=_0x34a0aa;this[_0x25ca52(0x550)]&&clearTimeout(this[_0x25ca52(0x550)]),this[_0x25ca52(0x550)]=setTimeout(async()=>{const _0x2865b7=_0x25ca52;delete this[_0x2865b7(0x550)];const _0x54780d=await this[_0x2865b7(0x9e8)]['calculateSize']('/');this[_0x2865b7(0x9b5)]?.[_0x2865b7(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x2865b7(0x562)],'content':{'type':_0x5402c8[_0x2865b7(0x4fa)],'label':this[_0x2865b7(0x5b0)],'stats':{'timestamp':Date[_0x2865b7(0x517)](),'storage':_0x54780d,'messagesSent':this[_0x2865b7(0x9b0)],'messagesReceived':this[_0x2865b7(0x204)],'bytesSent':this[_0x2865b7(0x995)],'bytesReceived':this[_0x2865b7(0x75a)],'writes':this[_0x2865b7(0x6af)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x2865b7(0x9be)]&&_0x17dbc7[_0x2865b7(0x181)](_0x367233[_0x2865b7(0x6ec)],_0x2865b7(0x2eb)+this[_0x2865b7(0x222)]+'ccc'+this[_0x2865b7(0x5b0)],_0x54780d);},_0x5c3d80);}async[_0x34a0aa(0x398)](_0x50d305){try{return await this['get'](_0x50d305),!0x0;}catch(_0x4ed56f){return!0x1;}}async[_0x34a0aa(0x5f4)](_0x3e78b3){const _0x3e8c4e=_0x34a0aa;if(!this['fileChunks'][_0x3e8c4e(0x664)](_0x3e78b3))return;const _0x2e0c66=this[_0x3e8c4e(0x370)][_0x3e8c4e(0x56b)](_0x3e78b3);if(_0x2e0c66[_0x3e8c4e(0x77a)])try{await _0x2e0c66['stream']['close']();}catch(_0x4820f9){console['error'](_0x3e8c4e(0x2bc),_0x4820f9);}this[_0x3e8c4e(0x370)][_0x3e8c4e(0x9c4)](_0x3e78b3);}}class _0x2a299a extends _0x2008ae{['localNode'];['clusterId'];['unsubscribeHandler']=new Map();['debounceStats'];constructor(_0x2ea2a8,_0x4e765d,_0x222aad){const _0x184afb=_0x34a0aa;if(_0x184afb(0x6ce)!=typeof _0x4e765d)throw new _0x4a345c(_0x2df194[_0x184afb(0x2f4)],_0x184afb(0x34f));super(_0x2ea2a8,_0x4e765d),this[_0x184afb(0x411)]=_0x2ea2a8,this[_0x184afb(0x222)]=_0x222aad,this[_0x184afb(0x2a7)]();}[_0x34a0aa(0x240)](){const _0x220842=_0x34a0aa;this[_0x220842(0x2a7)]();}[_0x34a0aa(0x561)](){const _0x5244e1=_0x34a0aa;return _0xb78473[_0x5244e1(0x1b6)][_0x5244e1(0x421)];}[_0x34a0aa(0x5c0)](_0xfa0d80,_0x3617cb){const _0x205569=_0x34a0aa;_0x17dbc7[_0x205569(0x6cb)](_0x5d2ed2[_0x205569(0x421)],_0x205569(0x98f),this[_0x205569(0x411)][_0x205569(0x3ad)](),_0xfa0d80,_0x3617cb),_0x17dbc7[_0x205569(0x920)](_0x367233[_0x205569(0x421)],{'type':_0x205569(0x5c0),'label':this['label'],'nodeId':this['localNode'][_0x205569(0x3ad)](),'nodeType':this[_0x205569(0x411)][_0x205569(0x852)],'clusterId':this[_0x205569(0x222)],'remoteIds':_0x3617cb??[],'contentType':_0xfa0d80 instanceof File?_0xb78473[_0x205569(0x1b6)][_0x205569(0x9b3)]:_0xb78473[_0x205569(0x1b6)][_0x205569(0x6a7)],'size':_0xfa0d80 instanceof File?_0xfa0d80[_0x205569(0x57d)]:JSON[_0x205569(0xa4f)](_0xfa0d80)['length']}),this[_0x205569(0x2a7)](),this[_0x205569(0x92f)](_0xfa0d80,_0x3617cb);}[_0x34a0aa(0x253)](_0x578341,_0x34f0d6){const _0x2f6b19=_0x34a0aa;if(this['unsubscribeHandler'][_0x2f6b19(0x664)](_0x578341))throw new _0x4a345c(_0x2df194[_0x2f6b19(0x778)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x2f6b19(0x5d5)][_0x2f6b19(0x286)](_0x578341,this['onMessage']((_0x31334f,_0x3d1d1d)=>{const _0x1b3970=_0x2f6b19;_0x1b3970(0x1ad)===_0x578341&&_0x3d1d1d instanceof File||!('file'!==_0x578341||_0x3d1d1d instanceof File)||(_0x17dbc7[_0x1b3970(0x6cb)](_0x5d2ed2[_0x1b3970(0x421)],_0x1b3970(0x9fd),this[_0x1b3970(0x411)][_0x1b3970(0x3ad)](),_0x31334f,_0x3d1d1d),_0x17dbc7[_0x1b3970(0x920)](_0x367233[_0x1b3970(0x421)],{'type':_0x1b3970(0x253),'label':this[_0x1b3970(0x5b0)],'nodeId':this[_0x1b3970(0x411)][_0x1b3970(0x3ad)](),'nodeType':this[_0x1b3970(0x411)][_0x1b3970(0x852)],'clusterId':this['clusterId'],'remoteId':_0x31334f,'contentType':_0x578341,'size':_0x3d1d1d instanceof File?_0x3d1d1d[_0x1b3970(0x57d)]:JSON[_0x1b3970(0xa4f)](_0x3d1d1d)[_0x1b3970(0x831)]}),this[_0x1b3970(0x2a7)](),_0x34f0d6(_0x31334f,_0x3d1d1d));}));}[_0x34a0aa(0x626)](_0xc553c){const _0x323fd3=_0x34a0aa;this[_0x323fd3(0x5d5)]['get'](_0xc553c)?.(),this[_0x323fd3(0x5d5)][_0x323fd3(0x9c4)](_0xc553c);}[_0x34a0aa(0x5ff)](){const _0xa04bd1=_0x34a0aa;this['unsubscribeHandler'][_0xa04bd1(0x66c)](_0x36a1b2=>_0x36a1b2()),clearTimeout(this[_0xa04bd1(0x550)]),delete this['debounceStats'],super[_0xa04bd1(0x5ff)]();}[_0x34a0aa(0x39a)](){const _0x4015e6=_0x34a0aa;this[_0x4015e6(0x9b5)]?.[_0x4015e6(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x4015e6(0x562)],'content':{'type':_0x5402c8[_0x4015e6(0x6c3)],'label':this[_0x4015e6(0x5b0)]}});}['sendStats'](){const _0x5350c7=_0x34a0aa;this[_0x5350c7(0x550)]&&clearTimeout(this[_0x5350c7(0x550)]),this[_0x5350c7(0x550)]=setTimeout(()=>{const _0xf5aa54=_0x5350c7;this[_0xf5aa54(0x9b5)]?.[_0xf5aa54(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0xf5aa54(0x562)],'content':{'type':_0x5402c8[_0xf5aa54(0x570)],'label':this['label'],'stats':{'timestamp':Date[_0xf5aa54(0x517)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0xf5aa54(0x204)],'bytesSent':this[_0xf5aa54(0x995)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x5c3d80);}}class _0x249d8b extends _0x3aeee2{['localNode'];[_0x34a0aa(0x1ca)];['availableTrackKinds'];['clusterId'];['unsubscribeHandler'];[_0x34a0aa(0x963)];[_0x34a0aa(0x765)];[_0x34a0aa(0x24d)]=new Map();[_0x34a0aa(0x665)];[_0x34a0aa(0x8c0)]=new Set();[_0x34a0aa(0xa2b)];[_0x34a0aa(0x743)]=_0x5a3b06();[_0x34a0aa(0x4f8)]=new Map();constructor(_0x124868,_0x1e7d4e,_0x248ceb,_0x44cdca,_0x17d863,_0x1174ed){const _0x2e06ab=_0x34a0aa;super(_0x1e7d4e,_0x248ceb,new MediaStream()),this[_0x2e06ab(0x411)]=_0x124868,this[_0x2e06ab(0x1ca)]=_0x44cdca,this['availableTrackKinds']=_0x17d863,this[_0x2e06ab(0x222)]=_0x1174ed,this[_0x2e06ab(0x53a)][_0x2e06ab(0x9e4)]()['forEach'](_0x188ffe=>this['setupTrackEndedListeners'](_0x188ffe));}['destroy'](){const _0x3b2663=_0x34a0aa;this[_0x3b2663(0x24d)][_0x3b2663(0x57d)]>0x0&&(this['outgoingStreams'][_0x3b2663(0x66c)](_0x3b0b2f=>{const _0x89ff4d=_0x3b2663;_0x3b0b2f['unregisterSystemPublisher'](),_0x3b0b2f[_0x89ff4d(0x5ff)]();}),this['outgoingStreams'][_0x3b2663(0x620)]()),this[_0x3b2663(0x4f8)][_0x3b2663(0x66c)](_0x308fc8=>_0x308fc8()),this[_0x3b2663(0x53a)]['getTracks']()['forEach'](_0x37dd51=>this[_0x3b2663(0x53a)][_0x3b2663(0x2f8)](_0x37dd51)),this[_0x3b2663(0x765)]&&(clearTimeout(this[_0x3b2663(0x765)]),delete this[_0x3b2663(0x765)]),this[_0x3b2663(0x963)]?.(),super[_0x3b2663(0x5ff)]();}[_0x34a0aa(0x584)](_0x209574){const _0xe9da83=_0x34a0aa;this[_0xe9da83(0x5d5)]=_0x209574[_0xe9da83(0x253)](({content:_0x405853})=>{const _0x543a28=_0xe9da83;switch(_0x405853[_0x543a28(0x379)]){case _0x255510['RemoteAdd']:if(_0x17dbc7[_0x543a28(0x6cb)](_0x5d2ed2['Subscription'],_0x543a28(0x4ab),this[_0x543a28(0x411)][_0x543a28(0x3ad)](),this[_0x543a28(0xa2b)]),_0x405853[_0x543a28(0x77a)]['id']!==this[_0x543a28(0x1ca)]||_0x405853['providerId']!==this[_0x543a28(0xa2b)])return;this[_0x543a28(0x2f8)](_0x405853[_0x543a28(0x6d0)]['kind']),this['mediaStream']['addTrack'](_0x405853[_0x543a28(0x6d0)]);for(const [_0x2fe2b7,_0x4f1015]of this[_0x543a28(0x24d)][_0x543a28(0x595)]())try{_0x4f1015['addTrack'](_0x405853[_0x543a28(0x6d0)]);}catch(_0x18575b){_0x4f1015[_0x543a28(0x5ff)](),this[_0x543a28(0x24d)][_0x543a28(0x9c4)](_0x2fe2b7);}this['setupTrackEndedListeners'](_0x405853['track']),this[_0x543a28(0x6df)](),_0x543a28(0x827)===_0x405853[_0x543a28(0x6d0)]['kind']&&this['renderElement']&&(this[_0x543a28(0x53a)][_0x543a28(0x488)]?setTimeout(()=>this['renderElement']?.['play'](),0x0):setTimeout(()=>this[_0x543a28(0x665)]?.[_0x543a28(0x8e1)](),0x0),this[_0x543a28(0x9d2)]());break;case _0x255510[_0x543a28(0x3e6)]:if(_0x405853[_0x543a28(0x77a)]['id']!==this[_0x543a28(0x1ca)]||_0x405853[_0x543a28(0xa2b)]!==this[_0x543a28(0xa2b)])return;this[_0x543a28(0x2f8)](_0x405853[_0x543a28(0x6d0)][_0x543a28(0x6ea)]),this['renderElement']&&_0x543a28(0x827)===_0x405853[_0x543a28(0x6d0)]['kind']&&(this[_0x543a28(0x963)]?.(),this['mediaStream']['getTracks']()[_0x543a28(0x831)]>0x0?this[_0x543a28(0x665)][_0x543a28(0x8e1)]():this[_0x543a28(0x665)][_0x543a28(0x923)]=null);}});}[_0x34a0aa(0x680)](){const _0x4b64f1=_0x34a0aa;this['unsubscribeHandler']?.(),this[_0x4b64f1(0x4f8)][_0x4b64f1(0x66c)](_0x1d31da=>_0x1d31da()),delete this[_0x4b64f1(0x5d5)];}[_0x34a0aa(0x29b)](){const _0x2f6575=_0x34a0aa;return this[_0x2f6575(0x1ca)];}['setInternalId'](_0x4c74f0){this['internalId']=_0x4c74f0;}[_0x34a0aa(0x92d)](){const _0x48cbce=_0x34a0aa;return this[_0x48cbce(0x319)];}['hasTracks'](_0x32b17f){const _0x255b03=_0x34a0aa;for(const _0x305319 of _0x32b17f||this[_0x255b03(0x319)])if(!this[_0x255b03(0x53a)][_0x255b03(0x9e4)]()[_0x255b03(0x3f0)](_0x41b6cb=>_0x41b6cb[_0x255b03(0x6ea)]===_0x305319))return!0x1;return!0x0;}[_0x34a0aa(0x98c)](){const _0x4e213f=_0x34a0aa;let _0x5e7ef9={'width':0x0,'height':0x0};const _0x1bd711=this[_0x4e213f(0x53a)][_0x4e213f(0x671)]();if(_0x1bd711['length']>0x0){const _0x28b711=_0x1bd711[0x0][_0x4e213f(0x371)]();_0x28b711['width']&&_0x28b711[_0x4e213f(0x5fa)]&&(_0x5e7ef9={'width':_0x28b711[_0x4e213f(0x659)],'height':_0x28b711[_0x4e213f(0x5fa)]});}return _0x5e7ef9;}[_0x34a0aa(0x9a3)](_0x1cbed0){const _0x87735=_0x34a0aa;for(const _0xd4c252 of _0x1cbed0)if(!this[_0x87735(0x8c0)][_0x87735(0x664)](_0xd4c252))return!0x1;return!0x0;}[_0x34a0aa(0x964)](_0x44f705,_0x57ec8e){const _0x5133aa=_0x34a0aa;if(!this[_0x5133aa(0x24d)][_0x5133aa(0x664)](_0x44f705)){const _0x20cbd5=new _0x1b75c1(this[_0x5133aa(0x48c)],this[_0x5133aa(0x5b0)],this['mediaStream'],_0x44f705,_0x57ec8e),_0x97bd7f=_0x20cbd5[_0x5133aa(0x7c4)](()=>{const _0x2600ca=_0x5133aa;_0x97bd7f(),this[_0x2600ca(0x24d)]['get'](_0x44f705)?.[_0x2600ca(0x5ff)](),this[_0x2600ca(0x24d)][_0x2600ca(0x9c4)](_0x44f705);});this[_0x5133aa(0x24d)]['set'](_0x44f705,_0x20cbd5),_0x20cbd5[_0x5133aa(0x58f)](this['systemTopic']);}return this[_0x5133aa(0x24d)][_0x5133aa(0x56b)](_0x44f705);}[_0x34a0aa(0x350)](){const _0x313786=_0x34a0aa;return this[_0x313786(0x53a)]['id'];}[_0x34a0aa(0x418)](){const _0x28ba75=_0x34a0aa;return _0xb78473[_0x28ba75(0x49f)]['Default'];}['getSubscribedTracks'](){const _0x5cfe38=_0x34a0aa;return Array[_0x5cfe38(0x856)](this[_0x5cfe38(0x8c0)]);}['subscribe'](_0x192b4f){const _0x1f95c1=_0x34a0aa;let _0x5802cc=[];if(_0x192b4f){_0x1f95c1(0x4cc)!=typeof _0x192b4f[_0x1f95c1(0x827)]||_0x192b4f[_0x1f95c1(0x827)]['renderElement']instanceof HTMLVideoElement||!this[_0x1f95c1(0x665)]||(_0x192b4f[_0x1f95c1(0x827)]={'renderElement':this[_0x1f95c1(0x665)]});try{(0x0,_0xb78473[_0x1f95c1(0x24c)])(_0x192b4f);}catch(_0xecd00a){throw new _0x4a345c(_0x2df194[_0x1f95c1(0x8fe)],_0x1f95c1(0x1fa));}_0x192b4f[_0x1f95c1(0x827)]&&(_0x5802cc[_0x1f95c1(0x32e)]('video'),_0x1f95c1(0x307)!=typeof _0x192b4f[_0x1f95c1(0x827)]&&_0x192b4f[_0x1f95c1(0x827)][_0x1f95c1(0x665)]&&(this[_0x1f95c1(0x665)]=_0x192b4f[_0x1f95c1(0x827)][_0x1f95c1(0x665)],_0x192b4f[_0x1f95c1(0x827)][_0x1f95c1(0x4de)]||(_0x192b4f[_0x1f95c1(0x827)]['maxResolution']={'width':this[_0x1f95c1(0x665)]['clientWidth'],'height':this[_0x1f95c1(0x665)][_0x1f95c1(0x5cd)]}),delete _0x192b4f[_0x1f95c1(0x827)][_0x1f95c1(0x665)])),_0x192b4f[_0x1f95c1(0x9d3)]&&_0x5802cc['push']('audio');}else _0x5802cc=this[_0x1f95c1(0x92d)]();this['isSubscribed'](_0x5802cc)||(_0x5802cc[_0x1f95c1(0x66c)](_0x3aff9a=>this['subscribedTracks'][_0x1f95c1(0x4a3)](_0x3aff9a)),this[_0x1f95c1(0x9b5)][_0x1f95c1(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x1f95c1(0x562)],'content':{'type':_0x5402c8['SubscribeMediaStream'],'label':this['label'],'ownerId':this['owner'][_0x1f95c1(0x3ad)](),'trackKinds':_0x5802cc,'params':_0x192b4f}}),_0x17dbc7[_0x1f95c1(0x920)](_0x367233['MediaStream'],{'type':_0x1f95c1(0x253),'label':this[_0x1f95c1(0x5b0)],'nodeId':this[_0x1f95c1(0x411)]['getId'](),'nodeType':this[_0x1f95c1(0x411)]['type'],'clusterId':this[_0x1f95c1(0x222)],'sourceId':this['owner'][_0x1f95c1(0x3ad)](),'streamId':this[_0x1f95c1(0x1ca)],'trackKinds':_0x5802cc}));}[_0x34a0aa(0x792)](_0x3c7ea3){const _0x57637c=_0x34a0aa;try{(0x0,_0xb78473[_0x57637c(0x24c)])(_0x3c7ea3);}catch(_0x3e2e35){throw new _0x4a345c(_0x2df194[_0x57637c(0x8fe)],_0x57637c(0x1fa));}this['updateDebounce']&&clearTimeout(this[_0x57637c(0x765)]),this['updateDebounce']=setTimeout(()=>{const _0x115231=_0x57637c;delete this[_0x115231(0x765)],this[_0x115231(0x9b5)][_0x115231(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459['Content'],'content':{'type':_0x5402c8['UpdateMediaStream'],'label':this[_0x115231(0x5b0)],'ownerId':this['owner'][_0x115231(0x3ad)](),'params':_0x3c7ea3}});},0x1f4);}[_0x34a0aa(0x626)](_0x3ccf04){const _0x5e3b6b=_0x34a0aa;_0x3ccf04||(_0x3ccf04=this[_0x5e3b6b(0x92d)]()),(_0x3ccf04=Array[_0x5e3b6b(0x5d8)](_0x3ccf04)?_0x3ccf04:[_0x3ccf04])[_0x5e3b6b(0x66c)](_0x3cade8=>this[_0x5e3b6b(0x8c0)][_0x5e3b6b(0x9c4)](_0x3cade8)),this['systemTopic']['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x5e3b6b(0x562)],'content':{'type':_0x5402c8['UnsubscribeMediaStream'],'label':this['label'],'ownerId':this[_0x5e3b6b(0x48c)]['getId'](),'trackKinds':_0x3ccf04,'remainingTracks':this[_0x5e3b6b(0x8c0)]['size']}});}[_0x34a0aa(0x9f5)](_0x364c84){const _0x1818d6=_0x34a0aa;return this[_0x1818d6(0x743)][_0x1818d6(0x253)](_0x364c84);}['getProviderId'](){const _0x29bfe8=_0x34a0aa;return this[_0x29bfe8(0xa2b)];}['setProviderId'](_0x25dbc6){const _0x2c442e=_0x34a0aa;this[_0x2c442e(0xa2b)]!==_0x25dbc6&&(this[_0x2c442e(0xa2b)]=_0x25dbc6,this[_0x2c442e(0x743)][_0x2c442e(0x5c0)](_0x25dbc6));}[_0x34a0aa(0x3b8)](_0x20af0e){const _0x29bf36=_0x34a0aa;this[_0x29bf36(0x4f8)][_0x29bf36(0x56b)](_0x20af0e)?.(),this[_0x29bf36(0x4f8)][_0x29bf36(0x9c4)](_0x20af0e);}[_0x34a0aa(0x2f8)](_0xd92ee3){const _0xb249ab=_0x34a0aa,_0x48fe54=this[_0xb249ab(0x53a)]['getTracks']()[_0xb249ab(0x3f0)](_0x35d68d=>_0x35d68d[_0xb249ab(0x6ea)]===_0xd92ee3);_0x48fe54&&(this[_0xb249ab(0x53a)][_0xb249ab(0x2f8)](_0x48fe54),this[_0xb249ab(0x24d)]['forEach'](_0x4e3e24=>_0x4e3e24['removeTrack'](_0xd92ee3)),this[_0xb249ab(0x4f8)][_0xb249ab(0x56b)](_0xd92ee3)?.());}[_0x34a0aa(0x6df)](){const _0x547550=_0x34a0aa;this[_0x547550(0x665)]&&(this['renderElement'][_0x547550(0x923)]&&this[_0x547550(0x665)][_0x547550(0x923)]===this['mediaStream']||(this[_0x547550(0x665)][_0x547550(0x923)]=this['mediaStream']));}[_0x34a0aa(0x9d2)](){const _0x13c4f5=_0x34a0aa;if(this[_0x13c4f5(0x665)]&&!this['resizeHandler']&&_0x13c4f5(0x226)!=typeof ResizeObserver){let _0x56a142=this[_0x13c4f5(0x665)][_0x13c4f5(0x36f)],_0x581756=this[_0x13c4f5(0x665)][_0x13c4f5(0x5cd)];const _0x260042=new ResizeObserver(_0x2a6254=>{const _0xf52b27=_0x13c4f5,{width:_0x3290b4,height:_0x574119}=_0x2a6254[0x0][_0xf52b27(0x8c9)];_0x56a142===_0x3290b4&&_0x581756===_0x574119||(_0x56a142=Math['floor'](_0x3290b4),_0x581756=Math[_0xf52b27(0x82e)](_0x574119),this[_0xf52b27(0x792)]({'video':{'maxResolution':{'width':_0x3290b4,'height':_0x574119}}}));});_0x260042[_0x13c4f5(0x576)](this[_0x13c4f5(0x665)]),this[_0x13c4f5(0x963)]=()=>_0x260042[_0x13c4f5(0x7ef)]();}}[_0x34a0aa(0x537)](_0x5a1e85){const _0x2abcd2=_0x34a0aa,_0x3615dd=[];for(const _0x54e456 of this['subscribedTracks'])this[_0x2abcd2(0x2f8)](_0x54e456),_0x3615dd[_0x2abcd2(0x32e)](_0x54e456);this[_0x2abcd2(0xa2b)]&&this['systemTopic']['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x2abcd2(0x562)],'content':{'type':_0x5402c8[_0x2abcd2(0x1e2)],'label':this[_0x2abcd2(0x5b0)],'streamId':this[_0x2abcd2(0x1ca)],'ownerId':this[_0x2abcd2(0x48c)]['getId'](),'providerId':this[_0x2abcd2(0xa2b)],'trackKinds':_0x3615dd}});}[_0x34a0aa(0x4f6)](_0x1edddd){const _0x4e1c5b=_0x34a0aa,_0x32b157=()=>this[_0x4e1c5b(0x537)](_0x1edddd);_0x1edddd[_0x4e1c5b(0x3bd)](_0x4e1c5b(0x960),_0x32b157),_0x1edddd[_0x4e1c5b(0x3bd)](_0x4e1c5b(0x907),_0x32b157),this['trackEndedListeners'][_0x4e1c5b(0x286)](_0x1edddd[_0x4e1c5b(0x6ea)],()=>{const _0x1de8ed=_0x4e1c5b;_0x1edddd[_0x1de8ed(0x911)](_0x1de8ed(0x960),_0x32b157),_0x1edddd['removeEventListener'](_0x1de8ed(0x907),_0x32b157),this[_0x1de8ed(0x4f8)][_0x1de8ed(0x9c4)](_0x1edddd[_0x1de8ed(0x6ea)]);});}}class _0x422e45 extends _0x2008ae{[_0x34a0aa(0x411)];[_0x34a0aa(0x222)];['db'];[_0x34a0aa(0x550)];[_0x34a0aa(0x6af)]=0x0;[_0x34a0aa(0x66a)]=0x0;constructor(_0x1780b5,_0x571e79,_0x2e35fd,_0x367b79){const _0x2fec1e=_0x34a0aa;if(_0x2fec1e(0x6ce)!=typeof _0x571e79)throw new _0x4a345c(_0x2df194['VectorDatabaseNameNotString'],_0x2fec1e(0x722));super(_0x1780b5,_0x571e79),this[_0x2fec1e(0x411)]=_0x1780b5,this[_0x2fec1e(0x222)]=_0x2e35fd,this['db']=new _0x367b79(),this[_0x2fec1e(0x2a7)]();}['destroy'](){const _0x5dc17b=_0x34a0aa;clearTimeout(this[_0x5dc17b(0x550)]),delete this[_0x5dc17b(0x550)],super[_0x5dc17b(0x5ff)]();}[_0x34a0aa(0x39a)](){const _0x19bd1d=_0x34a0aa;this[_0x19bd1d(0x9b5)][_0x19bd1d(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x19bd1d(0x562)],'content':{'type':_0x5402c8[_0x19bd1d(0x5af)],'label':this['label']}});}[_0x34a0aa(0x240)](){const _0x12a5e8=_0x34a0aa;this[_0x12a5e8(0x2a7)]();}['getContentType'](){const _0x1c3575=_0x34a0aa;return _0xb78473[_0x1c3575(0x1b6)]['VectorDatabase'];}['search'](_0x4f3062,_0x1f19aa,_0x229afe,_0x38a76d){const _0x189879=_0x34a0aa,_0x3534bd=this['db'][_0x189879(0x3b5)](_0x4f3062,_0x1f19aa,_0x229afe,_0x38a76d);return this[_0x189879(0x66a)]+=0x1,_0x17dbc7[_0x189879(0x920)](_0x367233['VectorDatabase'],{'type':_0x189879(0x3b5),'label':this[_0x189879(0x5b0)],'nodeId':this['localNode'][_0x189879(0x3ad)](),'nodeType':this[_0x189879(0x411)]['type'],'clusterId':this[_0x189879(0x222)],'size':0x0}),this['sendStats'](),_0x3534bd;}[_0x34a0aa(0x87e)](_0xe71e96,_0x1adbf2,_0x12fd8b,_0x20d565){const _0x3879ec=_0x34a0aa;this['db'][_0x3879ec(0x87e)](_0xe71e96,_0x1adbf2,_0x12fd8b,_0x20d565),this[_0x3879ec(0x6af)]+=0x1,_0x17dbc7[_0x3879ec(0x920)](_0x367233['VectorDatabase'],{'type':'insert','label':this[_0x3879ec(0x5b0)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'size':_0x20d565[_0x3879ec(0x25c)]((_0x1a3429,_0x3f42e5)=>_0x1a3429+_0x3f42e5[_0x3879ec(0x831)],0x0)}),this[_0x3879ec(0x2a7)]();}['remove'](_0x4d9111){const _0x32dd5f=_0x34a0aa;this['db'][_0x32dd5f(0x754)](_0x4d9111),this[_0x32dd5f(0x6af)]+=0x1,_0x17dbc7[_0x32dd5f(0x920)](_0x367233[_0x32dd5f(0x42e)],{'type':_0x32dd5f(0x754),'label':this['label'],'nodeId':this[_0x32dd5f(0x411)][_0x32dd5f(0x3ad)](),'nodeType':this[_0x32dd5f(0x411)]['type'],'clusterId':this[_0x32dd5f(0x222)],'size':0x0}),this[_0x32dd5f(0x2a7)]();}['sendStats'](){const _0x2dd2e9=_0x34a0aa;this[_0x2dd2e9(0x550)]&&clearTimeout(this[_0x2dd2e9(0x550)]),this[_0x2dd2e9(0x550)]=setTimeout(async()=>{const _0x5cc603=_0x2dd2e9;delete this['debounceStats'];const _0x4f9858=this['db']['getBuffer']()[_0x5cc603(0x402)];this[_0x5cc603(0x9b5)]['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x5cc603(0x562)],'content':{'type':_0x5402c8[_0x5cc603(0x1a0)],'label':this['label'],'stats':{'timestamp':Date[_0x5cc603(0x517)](),'storage':_0x4f9858,'messagesSent':this[_0x5cc603(0x9b0)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x5cc603(0x995)],'bytesReceived':this[_0x5cc603(0x75a)],'writes':this[_0x5cc603(0x6af)],'reads':this[_0x5cc603(0x66a)],'prompts':0x0,'tokens':0x0}}}),_0x17dbc7[_0x5cc603(0x181)](_0x367233[_0x5cc603(0x42e)],_0x5cc603(0x2eb)+this[_0x5cc603(0x222)]+'ccc'+this['label'],_0x4f9858);},_0x5c3d80);}}class _0x2ec5cc{['id'];[_0x34a0aa(0x238)];[_0x34a0aa(0x58d)];constructor(_0x471059,_0x476d68=new Set(),_0x1543c3){const _0x43dfee=_0x34a0aa;this['id']=_0x471059,this[_0x43dfee(0x238)]=_0x476d68,this[_0x43dfee(0x58d)]=_0x1543c3;}[_0x34a0aa(0x39a)](){const _0x227340=_0x34a0aa;this[_0x227340(0x58d)]=void 0x0,this['remoteConnections'][_0x227340(0x620)]();}[_0x34a0aa(0x3ad)](){return this['id'];}[_0x34a0aa(0x88c)](){const _0x270eb7=_0x34a0aa;return this[_0x270eb7(0x58d)];}[_0x34a0aa(0x5e6)](){const _0x5a17d3=_0x34a0aa;return this[_0x5a17d3(0x238)];}}class _0x560783 extends _0x2ec5cc{['id'];[_0x34a0aa(0x6e7)];['email'];['remoteConnections'];['rank'];[_0x34a0aa(0x852)]=_0xb78473[_0x34a0aa(0x7b3)][_0x34a0aa(0x49a)];constructor(_0x21c65c,_0x5b2e1e,_0x3d2769,_0x2fa1d5=new Set(),_0x1d71e3){const _0xedd8fd=_0x34a0aa;super(_0x21c65c,_0x2fa1d5,_0x1d71e3),this['id']=_0x21c65c,this['displayName']=_0x5b2e1e,this['email']=_0x3d2769,this[_0xedd8fd(0x238)]=_0x2fa1d5,this['rank']=_0x1d71e3;}[_0x34a0aa(0x391)](){const _0xffb6e8=_0x34a0aa;return this[_0xffb6e8(0x6e7)];}['getEmail'](){const _0x322821=_0x34a0aa;return this[_0x322821(0x304)];}}class _0x82934e{[_0x34a0aa(0x853)];[_0x34a0aa(0x222)];['clusterKey'];constructor(_0x30184d,_0x4907b2){const _0x2a7f55=_0x34a0aa;this['vendorId']=_0x30184d,this[_0x2a7f55(0x222)]=_0x4907b2,this[_0x2a7f55(0x522)]='ccc'+this[_0x2a7f55(0x853)]+_0x2a7f55(0x2eb)+this[_0x2a7f55(0x222)];}async[_0x34a0aa(0x4ff)](_0xcae97d,_0x55ae28){const _0x5d7ef3=_0x34a0aa,_0x4619e7=(0x0,_0x2d734b[_0x5d7ef3(0x91f)])(_0x27d84b[_0x5d7ef3(0x536)](),'clusters/'+this[_0x5d7ef3(0x522)]+_0x5d7ef3(0x9d0)+_0x55ae28+_0x5d7ef3(0x1a6)+_0xcae97d['id']),_0x4dde9b=(0x0,_0x2d734b[_0x5d7ef3(0x22b)])(_0x4619e7);_0x4dde9b[_0x5d7ef3(0x754)](),_0xcae97d['parentId']||delete _0xcae97d['parentId'];try{await(0x0,_0x2d734b[_0x5d7ef3(0x286)])(_0x4619e7,_0xcae97d);}catch(_0x18c005){throw await _0x4dde9b[_0x5d7ef3(0x528)](),new _0x4e89dd(_0x4e89dd[_0x5d7ef3(0x4ea)][_0x5d7ef3(0xa42)]);}if(!0x1===(await(0x0,_0x2d734b[_0x5d7ef3(0x369)])((0x0,_0x2d734b[_0x5d7ef3(0x91f)])(_0x27d84b[_0x5d7ef3(0x536)](),_0x5d7ef3(0x233)+this[_0x5d7ef3(0x522)]+_0x5d7ef3(0x9d0)+_0x55ae28+_0x5d7ef3(0xa25)),_0x5c2374=>_0x5c2374?_0x5c2374===_0xcae97d[_0x5d7ef3(0x422)]?_0xcae97d['id']:void 0x0:_0xcae97d['parentId']?_0xcae97d[_0x5d7ef3(0x422)]:_0xcae97d['id']))[_0x5d7ef3(0x2c4)])throw await(0x0,_0x2d734b[_0x5d7ef3(0x754)])(_0x4619e7),await _0x4dde9b[_0x5d7ef3(0x528)](),new _0x4e89dd(_0x4e89dd['codes'][_0x5d7ef3(0x829)]);await _0x4dde9b[_0x5d7ef3(0x528)]();}async[_0x34a0aa(0x288)](_0x1ca7a2,_0x440720){const _0x1a1ed4=_0x34a0aa;let _0x46f7e5=[];const _0x43e265=(0x0,_0x2d734b[_0x1a1ed4(0x91f)])(_0x27d84b[_0x1a1ed4(0x536)](),'clusters/'+this[_0x1a1ed4(0x522)]+'/objectstores/'+_0x1ca7a2+'/transactions');let _0x243f83=await(0x0,_0x2d734b[_0x1a1ed4(0x56b)])((0x0,_0x2d734b['query'])(_0x43e265,(0x0,_0x2d734b['limitToFirst'])(0x65),(0x0,_0x2d734b['orderByKey'])()));if(!_0x243f83['exists']()){if(void 0x0!==_0x440720)throw new _0x4e89dd(_0x4e89dd[_0x1a1ed4(0x4ea)]['ObjectStoreInvalidState']);return _0x46f7e5;}const _0x31cecf=_0x243f83[_0x1a1ed4(0x3af)]();for(;Object[_0x1a1ed4(0x7d3)](_0x243f83[_0x1a1ed4(0x3af)]())[_0x1a1ed4(0x831)]>0x64;){const _0x288deb=Object[_0x1a1ed4(0x7d3)](_0x243f83[_0x1a1ed4(0x3af)]()),_0x1ca339=_0x288deb[_0x288deb[_0x1a1ed4(0x831)]-0x1];_0x243f83=await(0x0,_0x2d734b[_0x1a1ed4(0x56b)])((0x0,_0x2d734b[_0x1a1ed4(0x298)])(_0x43e265,(0x0,_0x2d734b['limitToFirst'])(0x65),(0x0,_0x2d734b[_0x1a1ed4(0x7fe)])(_0x1ca339),(0x0,_0x2d734b[_0x1a1ed4(0x4ee)])())),Object[_0x1a1ed4(0x44c)](_0x31cecf,_0x243f83[_0x1a1ed4(0x3af)]());}if(_0x46f7e5=Object[_0x1a1ed4(0x8ec)](_0x31cecf)[_0x1a1ed4(0x285)](_0x551beb=>_0x1a1ed4(0x6ce)!=typeof _0x551beb),0x0===_0x46f7e5[_0x1a1ed4(0x831)]&&void 0x0!==_0x440720)throw new _0x4e89dd(_0x4e89dd[_0x1a1ed4(0x4ea)][_0x1a1ed4(0x7d0)]);if(_0x46f7e5[_0x1a1ed4(0x831)]>0x0&&void 0x0!==_0x440720&&!_0x46f7e5['find'](_0x42d4ef=>_0x42d4ef['id']===_0x440720))throw new _0x4e89dd(_0x4e89dd['codes'][_0x1a1ed4(0x7d0)]);const _0x37629c=[];let _0x2e44e4=_0x46f7e5[_0x1a1ed4(0x3f0)](_0x5a2dda=>_0x5a2dda['parentId']===_0x440720);for(;_0x2e44e4;)_0x37629c[_0x1a1ed4(0x32e)](_0x2e44e4),_0x2e44e4=_0x46f7e5['find'](_0x23cbd5=>_0x23cbd5[_0x1a1ed4(0x422)]===_0x2e44e4['id']);return _0x37629c;}}class _0x4486eb{[_0x34a0aa(0x6f1)];[_0x34a0aa(0x21d)];['searchApiKey'];[_0x34a0aa(0x9a4)]=new Map();[_0x34a0aa(0x9dd)]=new Map();[_0x34a0aa(0x388)]=new Map();[_0x34a0aa(0x76e)]=new Map();[_0x34a0aa(0x82d)]=new Map();[_0x34a0aa(0x508)]=new Map();[_0x34a0aa(0x5f2)]=new Map();[_0x34a0aa(0x250)]=new Map();[_0x34a0aa(0x3d8)]=new Map();[_0x34a0aa(0x742)]=new Map();[_0x34a0aa(0x949)];constructor(_0x3120e0,_0x406a6,_0x19bbdc){const _0x235ab1=_0x34a0aa;this[_0x235ab1(0x6f1)]=_0x3120e0,this['options']=_0x406a6,this['searchApiKey']=_0x19bbdc,this[_0x235ab1(0x949)]=new _0x82934e(this['configs']['vendorId'],this['configs'][_0x235ab1(0x222)]);}[_0x34a0aa(0x39a)](_0x9b8b5=!0x1){const _0x1ca765=_0x34a0aa;this[_0x1ca765(0x9dd)][_0x1ca765(0x66c)]((_0x55126a,_0x570b94)=>{const _0x4c054d=_0x1ca765;_0x55126a[_0x4c054d(0x66c)]((_0x16251d,_0x111971)=>{const _0x7b5518=_0x4c054d;this[_0x7b5518(0x31f)](_0x570b94,_0x111971);});}),_0x9b8b5||(_0x1e673a[_0x1ca765(0x620)](),this['localMediaStreams']['forEach']((_0x6d47d2,_0xed2377)=>{const _0x3f26a4=_0x1ca765;this[_0x3f26a4(0x2ec)](_0xed2377);}),this[_0x1ca765(0x388)][_0x1ca765(0x66c)]((_0x5dc98f,_0x3582fd)=>{const _0x53cb93=_0x1ca765;this[_0x53cb93(0x378)](_0x3582fd);}),this[_0x1ca765(0x76e)][_0x1ca765(0x66c)]((_0x17fde9,_0x446833)=>{const _0x207903=_0x1ca765;this[_0x207903(0x25f)](_0x446833);}),this['externalStorageConnections'][_0x1ca765(0x66c)]((_0x568aef,_0x53b2fd)=>{const _0x22f511=_0x1ca765;this[_0x22f511(0x4d2)](_0x53b2fd);}),this['keyValueDatabases']['forEach']((_0x381ff2,_0x498138)=>{this['removeKeyValueDatabase'](_0x498138);}),this[_0x1ca765(0x3d8)][_0x1ca765(0x66c)]((_0x437df1,_0x371ab0)=>{const _0x8805b6=_0x1ca765;this[_0x8805b6(0x345)](_0x371ab0);}),this[_0x1ca765(0x742)][_0x1ca765(0x66c)]((_0x497804,_0x468745)=>{const _0x51238b=_0x1ca765;this[_0x51238b(0x781)](_0x468745);}),this['vectorDatabases'][_0x1ca765(0x66c)]((_0x419c5b,_0x529609)=>{const _0x1d228e=_0x1ca765;this[_0x1d228e(0x68f)](_0x529609);}),this[_0x1ca765(0x250)]['forEach']((_0x538e79,_0xd4d79f)=>{const _0x19dc10=_0x1ca765;this[_0x19dc10(0x9e2)](_0xd4d79f);}));}[_0x34a0aa(0x361)](_0x2c8f15,_0x245a4c){const _0x1600f2=_0x34a0aa;if(this[_0x1600f2(0x76e)][_0x1600f2(0x664)](_0x2c8f15))throw new _0x4a345c(_0x2df194['ObjectStoreAlreadyExists'],_0x1600f2(0x354));const _0x4d9a06=new _0x10cda4(this['configs']['localNode'],_0x2c8f15,this[_0x1600f2(0x6f1)]['clusterId'],this[_0x1600f2(0x6f1)][_0x1600f2(0x853)],this['transactionService'],_0x245a4c,()=>this[_0x1600f2(0x6f1)][_0x1600f2(0x872)]['waitForArrayBufferSize']());return this['objectStores']['set'](_0x2c8f15,_0x4d9a06),this[_0x1600f2(0x6f1)][_0x1600f2(0x872)][_0x1600f2(0x7f7)](_0x4d9a06),_0x4d9a06;}[_0x34a0aa(0x79d)](_0x389a3f,_0x5208eb){const _0xc9fff4=_0x34a0aa;if(this['objectStores'][_0xc9fff4(0x664)](_0x389a3f))throw new _0x4a345c(_0x2df194[_0xc9fff4(0x19e)],_0xc9fff4(0x6e4));const _0x5cd240=new _0x543bdf(this[_0xc9fff4(0x6f1)][_0xc9fff4(0x411)],_0x389a3f,this[_0xc9fff4(0x6f1)][_0xc9fff4(0x222)],this[_0xc9fff4(0x6f1)][_0xc9fff4(0x853)],_0x5208eb);return this['externalStorageConnections'][_0xc9fff4(0x286)](_0x389a3f,_0x5cd240),this[_0xc9fff4(0x6f1)][_0xc9fff4(0x872)][_0xc9fff4(0x7f7)](_0x5cd240),_0x5cd240;}async['createKeyValueDatabase'](_0x45e251,_0x513c23,_0x4c9ea7){const _0xc44cc0=_0x34a0aa;if(this[_0xc44cc0(0x508)][_0xc44cc0(0x664)](_0x45e251))throw new _0x4a345c(_0x2df194[_0xc44cc0(0x414)],_0xc44cc0(0xa32));try{const _0x1cef89=this[_0xc44cc0(0x6f1)][_0xc44cc0(0x872)]['isNodeReady'][_0xc44cc0(0xa1e)](this['configs']['mediator']),_0x25b4ea=new _0x5e0822(this[_0xc44cc0(0x6f1)][_0xc44cc0(0x411)],_0x45e251,this[_0xc44cc0(0x6f1)][_0xc44cc0(0x222)],this[_0xc44cc0(0x6f1)][_0xc44cc0(0x853)],_0x513c23,_0x4c9ea7,_0x1cef89);return this[_0xc44cc0(0x508)][_0xc44cc0(0x286)](_0x45e251,_0x25b4ea),this[_0xc44cc0(0x6f1)][_0xc44cc0(0x872)]['registerSystemSource'](_0x25b4ea),_0x25b4ea;}catch(_0x545095){if(_0x545095 instanceof _0x4a345c)throw _0x545095;throw new _0x4e89dd(_0x4e89dd[_0xc44cc0(0x4ea)][_0xc44cc0(0x480)],{'label':_0x45e251,'clusterId':this['configs'][_0xc44cc0(0x222)],'vendorId':this[_0xc44cc0(0x6f1)]['vendorId']});}}async[_0x34a0aa(0x446)](_0x1d5580,_0x47a384){const _0x3112f4=_0x34a0aa;if(this['jobDispatchers'][_0x3112f4(0x664)](_0x1d5580))throw new _0x4a345c(_0x2df194[_0x3112f4(0x821)],_0x3112f4(0x4ed));try{const _0x5c135c=new _0x16500d(this[_0x3112f4(0x6f1)][_0x3112f4(0x411)],_0x1d5580,_0x47a384);return this[_0x3112f4(0x3d8)][_0x3112f4(0x286)](_0x1d5580,_0x5c135c),this[_0x3112f4(0x6f1)]['mediator'][_0x3112f4(0x7f7)](_0x5c135c),_0x5c135c;}catch(_0x4d9c35){if(_0x4d9c35 instanceof _0x4a345c)throw _0x4d9c35;throw new _0x4e89dd(_0x4e89dd[_0x3112f4(0x4ea)][_0x3112f4(0x9ea)],{'label':_0x1d5580,'clusterId':this['configs'][_0x3112f4(0x222)],'vendorId':this['configs'][_0x3112f4(0x853)]});}}async['createGenerativeAIContext'](_0x343fed,_0x45bf78){const _0x1d3ed8=_0x34a0aa;if(this['jobDispatchers']['has'](_0x343fed))throw new _0x4a345c(_0x2df194['GenerativeAIContextAlreadyExists'],_0x1d3ed8(0x26b));if(this[_0x1d3ed8(0x742)]['has'](_0x343fed))throw new _0x4a345c(_0x2df194['GenerativeAILabelConflict'],_0x1d3ed8(0x97b));try{const _0x4c5291=new _0x3d44a9(this['configs'][_0x1d3ed8(0x411)],_0x343fed,this[_0x1d3ed8(0x6f1)][_0x1d3ed8(0x853)],_0x45bf78);return this[_0x1d3ed8(0x3d8)][_0x1d3ed8(0x286)](_0x343fed,_0x4c5291),this[_0x1d3ed8(0x6f1)][_0x1d3ed8(0x872)][_0x1d3ed8(0x7f7)](_0x4c5291),_0x4c5291;}catch(_0x9f8d62){if(_0x9f8d62 instanceof _0x4a345c)throw _0x9f8d62;throw new _0x4e89dd(_0x4e89dd['codes'][_0x1d3ed8(0xa46)],{'label':_0x343fed,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x1d3ed8(0x6f1)][_0x1d3ed8(0x853)]});}}async[_0x34a0aa(0x921)](_0x48cc53,_0x1e4f32,_0xd885b4,_0x50ad4c,_0x58565c,_0x21ae15){const _0xa299f9=_0x34a0aa;if(this[_0xa299f9(0x742)]['has'](_0x48cc53))throw new _0x4a345c(_0x2df194['GenerativeAIWorkerAlreadyExists'],_0xa299f9(0xa29));if(this[_0xa299f9(0x3d8)][_0xa299f9(0x664)](_0x48cc53))throw new _0x4a345c(_0x2df194[_0xa299f9(0x175)],_0xa299f9(0x97b));try{const _0x12d2d4=new _0x304ddc(this[_0xa299f9(0x6f1)][_0xa299f9(0x411)],_0x48cc53,this['configs'][_0xa299f9(0x853)],_0x1e4f32,this,_0xd885b4,_0x50ad4c,_0x58565c,this['searchApiKey'],_0x21ae15);return this[_0xa299f9(0x742)]['set'](_0x48cc53,_0x12d2d4),this[_0xa299f9(0x6f1)][_0xa299f9(0x872)][_0xa299f9(0x7f7)](_0x12d2d4),_0x12d2d4;}catch(_0x7cf699){if(_0x7cf699 instanceof _0x4a345c)throw _0x7cf699;throw new _0x4e89dd(_0x4e89dd[_0xa299f9(0x4ea)]['GenerativeAIWorkerCreationFailed'],{'label':_0x48cc53,'clusterId':this['configs']['clusterId'],'vendorId':this[_0xa299f9(0x6f1)]['vendorId']});}}['createGraphDatabase'](_0xc68913,_0x1e2673){const _0x1e8079=_0x34a0aa;if(this[_0x1e8079(0x250)][_0x1e8079(0x664)](_0xc68913))throw new _0x4a345c(_0x2df194[_0x1e8079(0x308)],_0x1e8079(0xa32));try{const _0x15aebc=new _0x54b8e3(this[_0x1e8079(0x6f1)][_0x1e8079(0x411)],_0xc68913,this[_0x1e8079(0x6f1)][_0x1e8079(0x222)],_0x1e2673);return this['graphDatabases'][_0x1e8079(0x286)](_0xc68913,_0x15aebc),this[_0x1e8079(0x6f1)]['mediator'][_0x1e8079(0x7f7)](_0x15aebc),_0x15aebc;}catch(_0x21074b){if(_0x21074b instanceof _0x4a345c)throw _0x21074b;throw new _0x4e89dd(_0x4e89dd['codes'][_0x1e8079(0x942)],{'label':_0xc68913,'clusterId':this['configs'][_0x1e8079(0x222)],'vendorId':this[_0x1e8079(0x6f1)][_0x1e8079(0x853)]});}}[_0x34a0aa(0x2ed)](_0x522a8c,_0x4eba1b){const _0x231f57=_0x34a0aa;if(this[_0x231f57(0x9a4)][_0x231f57(0x664)](_0x522a8c))throw new _0x4a345c(_0x2df194[_0x231f57(0x66f)],_0x231f57(0x624));if(!this[_0x231f57(0x21d)][_0x231f57(0x683)])throw new _0x4a345c(_0x2df194[_0x231f57(0x658)],'AudioContext\x20is\x20not\x20available');const _0x510f01=new _0x3fcb6d(this[_0x231f57(0x6f1)]['localNode'],_0x522a8c,_0x4eba1b,this[_0x231f57(0x21d)][_0x231f57(0x30f)],this['options'][_0x231f57(0x683)],this['configs'][_0x231f57(0x222)]);return this['localMediaStreams'][_0x231f57(0x286)](_0x522a8c,_0x510f01),this['configs'][_0x231f57(0x872)][_0x231f57(0x7f7)](_0x510f01),_0x510f01[_0x231f57(0x5c0)](),_0x510f01;}[_0x34a0aa(0x178)](_0x22992c,_0x10e973){const _0x3c41d3=_0x34a0aa;if(this[_0x3c41d3(0x9a4)][_0x3c41d3(0x664)](_0x22992c))throw new _0x4a345c(_0x2df194['LocalMediaStreamAlreadyExists'],_0x3c41d3(0x9b1));const _0x51f046=new _0x4ce061(this[_0x3c41d3(0x6f1)][_0x3c41d3(0x411)],_0x22992c,_0x10e973,this['configs'][_0x3c41d3(0x222)]);return this[_0x3c41d3(0x9a4)][_0x3c41d3(0x286)](_0x22992c,_0x51f046),this['configs'][_0x3c41d3(0x872)][_0x3c41d3(0x7f7)](_0x51f046),_0x51f046[_0x3c41d3(0x5c0)](),_0x51f046;}[_0x34a0aa(0x96b)](_0x3780bf){const _0x51725b=_0x34a0aa;if(this['pubSubTopics']['has'](_0x3780bf))throw new _0x4a345c(_0x2df194[_0x51725b(0x3d9)],'PubSub\x20already\x20exists');const _0x3518e0=new _0x2a299a(this[_0x51725b(0x6f1)][_0x51725b(0x411)],_0x3780bf,this[_0x51725b(0x6f1)][_0x51725b(0x222)]);return this['pubSubTopics']['set'](_0x3780bf,_0x3518e0),this[_0x51725b(0x6f1)]['mediator']['registerSystemSource'](_0x3518e0),_0x3518e0;}[_0x34a0aa(0x740)](_0x80bee7,_0x3ab2e2,_0x28afdf,_0x36f939){const _0x40d579=_0x34a0aa;this[_0x40d579(0x9dd)]['has'](_0x80bee7)||this[_0x40d579(0x9dd)][_0x40d579(0x286)](_0x80bee7,new Map());const _0x417bef=this[_0x40d579(0x9dd)][_0x40d579(0x56b)](_0x80bee7);if(_0x417bef[_0x40d579(0x664)](_0x3ab2e2))throw new _0x4a345c(_0x2df194[_0x40d579(0x2da)],'Remote\x20MediaStream\x20already\x20exists');const _0x127037=new _0x560783(_0x80bee7,'',''),_0x2ee8a3=new _0x249d8b(this[_0x40d579(0x6f1)][_0x40d579(0x411)],_0x127037,_0x3ab2e2,_0x28afdf,_0x36f939,this['configs'][_0x40d579(0x222)]);return _0x417bef[_0x40d579(0x286)](_0x3ab2e2,_0x2ee8a3),this[_0x40d579(0x6f1)]['mediator'][_0x40d579(0x7f7)](_0x2ee8a3),_0x2ee8a3;}['createVectorDatabase'](_0x499422,_0x10c1a9){const _0x4598c8=_0x34a0aa;if(this['vectorDatabases'][_0x4598c8(0x664)](_0x499422))throw new _0x4a345c(_0x2df194[_0x4598c8(0x7be)],_0x4598c8(0xa32));try{const _0x333d8e=new _0x422e45(this['configs'][_0x4598c8(0x411)],_0x499422,this[_0x4598c8(0x6f1)][_0x4598c8(0x222)],_0x10c1a9);return this[_0x4598c8(0x5f2)][_0x4598c8(0x286)](_0x499422,_0x333d8e),this[_0x4598c8(0x6f1)][_0x4598c8(0x872)][_0x4598c8(0x7f7)](_0x333d8e),_0x333d8e;}catch(_0x44d598){if(_0x44d598 instanceof _0x4a345c)throw _0x44d598;throw new _0x4e89dd(_0x4e89dd['codes'][_0x4598c8(0x1d8)],{'label':_0x499422,'clusterId':this[_0x4598c8(0x6f1)][_0x4598c8(0x222)],'vendorId':this['configs'][_0x4598c8(0x853)]});}}['getObjectStoreBuckets'](_0x411d13){const _0x7a1a0c=_0x34a0aa,_0x929242=Array[_0x7a1a0c(0x856)](this[_0x7a1a0c(0x76e)]['values']());return _0x411d13?_0x929242[_0x7a1a0c(0x285)](_0x411d13):_0x929242;}['getExternalStorageConnections'](_0x27959a){const _0x2d6205=_0x34a0aa,_0x572afb=Array[_0x2d6205(0x856)](this[_0x2d6205(0x82d)][_0x2d6205(0x8ec)]());return _0x27959a?_0x572afb[_0x2d6205(0x285)](_0x27959a):_0x572afb;}[_0x34a0aa(0x63a)](_0x3e4dad){const _0x5d6205=_0x34a0aa,_0x2cb19b=Array[_0x5d6205(0x856)](this[_0x5d6205(0x508)][_0x5d6205(0x8ec)]());return _0x3e4dad?_0x2cb19b[_0x5d6205(0x285)](_0x3e4dad):_0x2cb19b;}['getJobDispatchers'](_0x3b41dc){const _0x8bc10e=_0x34a0aa,_0x11a1d8=Array['from'](this[_0x8bc10e(0x3d8)][_0x8bc10e(0x8ec)]());return _0x3b41dc?_0x11a1d8[_0x8bc10e(0x285)](_0x3b41dc):_0x11a1d8;}['getJobWorkers'](_0x48ca30){const _0x1de466=_0x34a0aa,_0x40e340=Array[_0x1de466(0x856)](this[_0x1de466(0x742)][_0x1de466(0x8ec)]());return _0x48ca30?_0x40e340[_0x1de466(0x285)](_0x48ca30):_0x40e340;}[_0x34a0aa(0x990)](_0x5d4fb1){const _0x2731a7=_0x34a0aa,_0x331a3f=Array[_0x2731a7(0x856)](this['jobDispatchers'][_0x2731a7(0x8ec)]())[_0x2731a7(0x285)](_0x1f6b61=>_0x1f6b61 instanceof _0x3d44a9);return _0x5d4fb1?_0x331a3f[_0x2731a7(0x285)](_0x5d4fb1):_0x331a3f;}[_0x34a0aa(0x6be)](_0x20bae9){const _0x2b13e4=_0x34a0aa,_0x22b089=Array[_0x2b13e4(0x856)](this[_0x2b13e4(0x742)]['values']())[_0x2b13e4(0x285)](_0x5b4d2e=>_0x5b4d2e instanceof _0x304ddc);return _0x20bae9?_0x22b089['filter'](_0x20bae9):_0x22b089;}[_0x34a0aa(0x20d)](_0x42cdbc){const _0x4054f2=_0x34a0aa,_0x9dc7ae=Array['from'](this['graphDatabases'][_0x4054f2(0x8ec)]());return _0x42cdbc?_0x9dc7ae[_0x4054f2(0x285)](_0x42cdbc):_0x9dc7ae;}[_0x34a0aa(0x52a)](_0x56b5ee){const _0x156646=_0x34a0aa,_0x5d7690=Array[_0x156646(0x856)](this[_0x156646(0x9a4)]['values']());return _0x56b5ee?_0x5d7690['filter'](_0x56b5ee):_0x5d7690;}['getPubSubTopics'](_0x2290b3){const _0x5c9bda=_0x34a0aa,_0x7d77ae=Array[_0x5c9bda(0x856)](this['pubSubTopics'][_0x5c9bda(0x8ec)]());return _0x2290b3?_0x7d77ae[_0x5c9bda(0x285)](_0x2290b3):_0x7d77ae;}[_0x34a0aa(0x6fe)](_0x4fc2b6){const _0xeacafe=_0x34a0aa,_0x2da426=Array['from'](this['remoteMediaStreams'][_0xeacafe(0x8ec)]())['reduce']((_0x66407e,_0x35f5f0)=>[..._0x66407e,...Array[_0xeacafe(0x856)](_0x35f5f0[_0xeacafe(0x8ec)]())],[]);return _0x4fc2b6?_0x2da426[_0xeacafe(0x285)](_0x4fc2b6):_0x2da426;}[_0x34a0aa(0x4d9)](_0x2fd8a8){const _0x414ecf=_0x34a0aa,_0x4ae550=Array[_0x414ecf(0x856)](this[_0x414ecf(0x5f2)]['values']());return _0x2fd8a8?_0x4ae550[_0x414ecf(0x285)](_0x2fd8a8):_0x4ae550;}['getObjectStoreBucket'](_0x5de331){const _0x4efc27=_0x34a0aa,_0x3f94c1=this[_0x4efc27(0x76e)][_0x4efc27(0x56b)](_0x5de331);if(!_0x3f94c1)throw new _0x4a345c(_0x2df194[_0x4efc27(0x7f1)],'ObjectStore\x20not\x20found');return _0x3f94c1;}[_0x34a0aa(0x9d8)](_0xee250c){const _0x4eb078=_0x34a0aa,_0x4d1486=_0xee250c[_0x4eb078(0x4bf)]('-'),_0x186b9f=this[_0x4eb078(0x82d)][_0x4eb078(0x56b)](_0x4d1486[0x1]);if(!_0x186b9f)throw new _0x4a345c(_0x2df194[_0x4eb078(0x320)],_0x4eb078(0x2d8));return _0x186b9f;}[_0x34a0aa(0x6a8)](_0x5e1ed5){const _0x4558e3=_0x34a0aa,_0x8c82a=this[_0x4558e3(0x250)][_0x4558e3(0x56b)](_0x5e1ed5);if(!_0x8c82a)throw new _0x4a345c(_0x2df194[_0x4558e3(0x5c1)],_0x4558e3(0x82c));return _0x8c82a;}[_0x34a0aa(0x236)](_0x1e4355){const _0x20d1ca=_0x34a0aa,_0x55afb5=this['keyValueDatabases'][_0x20d1ca(0x56b)](_0x1e4355);if(!_0x55afb5)throw new _0x4a345c(_0x2df194[_0x20d1ca(0x731)],'KeyValueDatabase\x20not\x20found');return _0x55afb5;}[_0x34a0aa(0x84b)](_0x36e0fb){const _0x4b472d=_0x34a0aa,_0xc294ab=this[_0x4b472d(0x388)][_0x4b472d(0x56b)](_0x36e0fb);if(!_0xc294ab)throw new _0x4a345c(_0x2df194[_0x4b472d(0x618)],'PubSubTopic\x20not\x20found');return _0xc294ab;}[_0x34a0aa(0x927)](_0x564ea3){const _0x2a1fbf=_0x34a0aa,_0x1a67db=this['vectorDatabases'][_0x2a1fbf(0x56b)](_0x564ea3);if(!_0x1a67db)throw new _0x4a345c(_0x2df194[_0x2a1fbf(0x61f)],_0x2a1fbf(0x268));return _0x1a67db;}[_0x34a0aa(0x751)](_0x4d664d){const _0x3a3288=_0x34a0aa;switch(_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x852)]){case _0x5402c8[_0x3a3288(0x360)]:this['handlePublishMediaStream'](_0x4d664d[_0x3a3288(0x1f6)]);break;case _0x5402c8[_0x3a3288(0x84d)]:this[_0x3a3288(0x318)](_0x4d664d[_0x3a3288(0x1f6)]);break;case _0x5402c8[_0x3a3288(0x344)]:this['removeJobDispatcher'](_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x5b0)]);break;case _0x5402c8[_0x3a3288(0x8b8)]:this[_0x3a3288(0x781)](_0x4d664d['content'][_0x3a3288(0x5b0)]);break;case _0x5402c8['CloseMediaStream']:this[_0x3a3288(0x2ec)](_0x4d664d[_0x3a3288(0x1f6)]['label']);break;case _0x5402c8[_0x3a3288(0x6c3)]:this[_0x3a3288(0x378)](_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x5b0)]);break;case _0x5402c8[_0x3a3288(0x2e8)]:this['removeObjectStore'](_0x4d664d[_0x3a3288(0x1f6)]['label']);break;case _0x5402c8[_0x3a3288(0x2db)]:this[_0x3a3288(0x4d2)](_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x5b0)]);break;case _0x5402c8[_0x3a3288(0xa50)]:this[_0x3a3288(0x3c2)](_0x4d664d[_0x3a3288(0x1f6)]['label']);break;case _0x5402c8['CloseVectorDatabase']:this[_0x3a3288(0x68f)](_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x5b0)]);break;case _0x5402c8[_0x3a3288(0xa12)]:this[_0x3a3288(0x9e2)](_0x4d664d['content'][_0x3a3288(0x5b0)]);break;case _0x5402c8[_0x3a3288(0x8fa)]:this['handleContentUnsubscribeMediaStream'](_0x4d664d[_0x3a3288(0x1f6)]);break;case _0x5402c8[_0x3a3288(0x9c1)]:this[_0x3a3288(0x508)][_0x3a3288(0x56b)](_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x5b0)])?.[_0x3a3288(0x4be)](_0x4d664d[_0x3a3288(0x7b7)],_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x867)]);break;case _0x5402c8['KeyValueDatabaseContentSynchronized']:this['keyValueDatabases']['get'](_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x5b0)])?.['processContentSynchronized'](_0x4d664d[_0x3a3288(0x7b7)],_0x4d664d['content'][_0x3a3288(0x867)]);break;case _0x5402c8[_0x3a3288(0x348)]:this[_0x3a3288(0x508)]['get'](_0x4d664d['content'][_0x3a3288(0x5b0)])?.[_0x3a3288(0x473)](_0x4d664d[_0x3a3288(0x7b7)],_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x3de)]);break;case _0x5402c8['KeyValueDatabaseRequestPeakTransactions']:this['keyValueDatabases']['get'](_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x5b0)])?.[_0x3a3288(0x2de)](_0x4d664d['sourceId'],_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x3a9)]);break;case _0x5402c8['KeyValueDatabaseRequestTransactionsValue']:this[_0x3a3288(0x508)][_0x3a3288(0x56b)](_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x5b0)])?.[_0x3a3288(0x1f1)](_0x4d664d[_0x3a3288(0x7b7)],_0x4d664d['content'][_0x3a3288(0x68b)]);break;case _0x5402c8[_0x3a3288(0x428)]:this[_0x3a3288(0x508)]['get'](_0x4d664d[_0x3a3288(0x1f6)]['label'])?.[_0x3a3288(0x2ca)](_0x4d664d[_0x3a3288(0x7b7)],_0x4d664d[_0x3a3288(0x1f6)][_0x3a3288(0x51b)]);break;case _0x5402c8[_0x3a3288(0x7dd)]:this['configs'][_0x3a3288(0x872)][_0x3a3288(0x3d5)](_0x3a3288(0x81b),{'label':_0x4d664d['content'][_0x3a3288(0x5b0)],'trackKinds':_0x4d664d[_0x3a3288(0x1f6)]['trackKinds']});}}[_0x34a0aa(0x38a)]({content:_0x2d92b3}){const _0x466396=_0x34a0aa;switch(_0x2d92b3[_0x466396(0x852)]){case _0xc6ed77['NodeJoin']:this[_0x466396(0x965)](_0x2d92b3),this[_0x466396(0x737)](_0x2d92b3);break;case _0xc6ed77[_0x466396(0xa04)]:this[_0x466396(0x9a1)](_0x2d92b3),this[_0x466396(0x8f4)](_0x2d92b3);}}[_0x34a0aa(0xa47)](_0x24ada6){const _0x522ab3=_0x34a0aa;switch(_0x24ada6[_0x522ab3(0x1f6)][_0x522ab3(0x852)]){case _0x590b6e[_0x522ab3(0x27a)]:this[_0x522ab3(0x429)](_0x24ada6[_0x522ab3(0x7b7)],_0x24ada6[_0x522ab3(0x1f6)]);break;case _0x590b6e['UpdateMediaStream']:this[_0x522ab3(0x4a8)](_0x24ada6['sourceId'],_0x24ada6[_0x522ab3(0x1f6)]);break;case _0x590b6e[_0x522ab3(0x8fa)]:this[_0x522ab3(0x8be)](_0x24ada6[_0x522ab3(0x7b7)],_0x24ada6[_0x522ab3(0x1f6)]);}}[_0x34a0aa(0x948)](_0x3585af){const _0x5b56bc=_0x34a0aa;if(0x0===_0x3585af[_0x5b56bc(0x4f4)])this[_0x5b56bc(0x9dd)]['get'](_0x3585af[_0x5b56bc(0x59c)])?.[_0x5b56bc(0x56b)](_0x3585af[_0x5b56bc(0x5b0)])?.[_0x5b56bc(0x5ff)]();else{const _0x171a27=this[_0x5b56bc(0x9dd)]['get'](_0x3585af[_0x5b56bc(0x59c)])?.['get'](_0x3585af[_0x5b56bc(0x5b0)]);if(!_0x171a27)return;_0x3585af[_0x5b56bc(0x469)][_0x5b56bc(0x66c)](_0x4d6b26=>_0x171a27[_0x5b56bc(0x3b8)](_0x4d6b26));}}[_0x34a0aa(0x509)](_0x4660a3){const _0x20abd3=_0x34a0aa,{label:_0x459d47,ownerId:_0xb1a371,stream:{streamId:_0x1e746b,availableTrackKinds:_0x5dd06d}}=_0x4660a3;if(this['remoteMediaStreams']['get'](_0xb1a371)?.[_0x20abd3(0x664)](_0x459d47))return void _0x17dbc7['log'](_0x5d2ed2['Content'],_0x20abd3(0x9b1),_0x1e746b);const _0x331bcc=this['createRemoteMediaStream'](_0xb1a371,_0x459d47,_0x1e746b,_0x5dd06d);this[_0x20abd3(0x6f1)][_0x20abd3(0x872)][_0x20abd3(0x3d5)](_0x20abd3(0x5e3),{'ownerId':_0xb1a371,'stream':_0x331bcc});}[_0x34a0aa(0x318)]({ownerId:_0x28e8bf,label:_0x500063}){const _0x134e22=_0x34a0aa;this[_0x134e22(0x31f)](_0x28e8bf,_0x500063),this['configs'][_0x134e22(0x872)]['notifyCluster'](_0x134e22(0x760),{'ownerId':_0x28e8bf,'label':_0x500063});}[_0x34a0aa(0x429)](_0x1714f0,_0x3054b0){const _0x211e73=_0x34a0aa,{ownerId:_0x49b18d,label:_0x539ac0}=_0x3054b0;let _0x3bfe9c;_0x3bfe9c=_0x49b18d!==this[_0x211e73(0x6f1)][_0x211e73(0x411)][_0x211e73(0x3ad)]()?this[_0x211e73(0x9dd)][_0x211e73(0x56b)](_0x49b18d)[_0x211e73(0x56b)](_0x539ac0):this['localMediaStreams']['get'](_0x539ac0),_0x3bfe9c[_0x211e73(0x964)](_0x1714f0,_0x3054b0[_0x211e73(0x78e)])[_0x211e73(0x253)](_0x3054b0,_0x3bfe9c[_0x211e73(0x418)]());}[_0x34a0aa(0x4a8)](_0xa24582,_0x4699e3){const _0x48406b=_0x34a0aa,{ownerId:_0x51ba92,label:_0x4392d9}=_0x4699e3;let _0x573f20;_0x573f20=_0x51ba92!==this[_0x48406b(0x6f1)][_0x48406b(0x411)][_0x48406b(0x3ad)]()?this[_0x48406b(0x9dd)][_0x48406b(0x56b)](_0x51ba92)['get'](_0x4392d9):this[_0x48406b(0x9a4)][_0x48406b(0x56b)](_0x4392d9),_0x573f20[_0x48406b(0x964)](_0xa24582,_0x4699e3[_0x48406b(0x78e)])[_0x48406b(0x792)](_0x4699e3);}[_0x34a0aa(0x8be)](_0x18edd6,_0x54b496){const _0x1e227c=_0x34a0aa,{ownerId:_0x1489d0,label:_0x206629}=_0x54b496;let _0x4f4b70;_0x4f4b70=_0x1489d0!==this[_0x1e227c(0x6f1)][_0x1e227c(0x411)]['getId']()?this['remoteMediaStreams'][_0x1e227c(0x56b)](_0x1489d0)[_0x1e227c(0x56b)](_0x206629):this['localMediaStreams'][_0x1e227c(0x56b)](_0x206629),_0x4f4b70['getShareableStream'](_0x18edd6)[_0x1e227c(0x626)](_0x54b496);}['handleNodeJoinNeedPublishedStream']({id:_0x1619be}){const _0xc6f83c=_0x34a0aa;this[_0xc6f83c(0x52a)]()[_0xc6f83c(0x66c)](_0x48482d=>{const _0x1a66a3=_0xc6f83c;_0x48482d[_0x1a66a3(0x5c0)](_0x1619be);});}[_0x34a0aa(0x9a1)]({id:_0x34e347}){const _0x11bcb3=_0x34a0aa;this[_0x11bcb3(0x6fe)](_0x1ffe46=>_0x1ffe46[_0x11bcb3(0x8a2)]()===_0x34e347)[_0x11bcb3(0x66c)](_0x333973=>{const _0x234133=_0x11bcb3;this[_0x234133(0x31f)](_0x333973[_0x234133(0x8a2)](),_0x333973[_0x234133(0x35a)]());});}[_0x34a0aa(0x737)]({id:_0x3b2368}){const _0x3e2242=_0x34a0aa;this['objectStores'][_0x3e2242(0x66c)](_0x4ad000=>_0x4ad000[_0x3e2242(0x4d4)](_0x3b2368));}['notifyObjectStoreOfNodeLeave']({id:_0x223611}){const _0x4eba18=_0x34a0aa;this[_0x4eba18(0x76e)][_0x4eba18(0x66c)](_0x33147b=>_0x33147b[_0x4eba18(0x9a1)](_0x223611));}[_0x34a0aa(0x345)](_0x138b0b){const _0x55339a=_0x34a0aa;if(!this[_0x55339a(0x3d8)][_0x55339a(0x664)](_0x138b0b))throw new _0x4a345c(_0x2df194[_0x55339a(0x7f8)],_0x55339a(0x2ff));const _0x387a4f=this[_0x55339a(0x3d8)]['get'](_0x138b0b);this['jobDispatchers'][_0x55339a(0x9c4)](_0x138b0b),_0x387a4f[_0x55339a(0x5ff)](),this[_0x55339a(0x6f1)][_0x55339a(0x872)]['unregisterSystemSource'](_0x387a4f);}['removeJobWorker'](_0x2468f1){const _0x218893=_0x34a0aa;if(!this[_0x218893(0x742)][_0x218893(0x664)](_0x2468f1))throw new _0x4a345c(_0x2df194[_0x218893(0x9fa)],_0x218893(0x69a));const _0x8b6463=this[_0x218893(0x742)][_0x218893(0x56b)](_0x2468f1);this['jobWorkers'][_0x218893(0x9c4)](_0x2468f1),_0x8b6463[_0x218893(0x5ff)](),this['configs'][_0x218893(0x872)][_0x218893(0x97c)](_0x8b6463);}[_0x34a0aa(0x25f)](_0x32f1ec){const _0x1408cc=_0x34a0aa;if(!this['objectStores'][_0x1408cc(0x664)](_0x32f1ec))throw new _0x4a345c(_0x2df194[_0x1408cc(0x7f1)],_0x1408cc(0x9db));const _0x30b82d=this[_0x1408cc(0x76e)]['get'](_0x32f1ec);this['objectStores']['delete'](_0x32f1ec),_0x30b82d[_0x1408cc(0x5ff)](),this['configs']['mediator'][_0x1408cc(0x97c)](_0x30b82d);}[_0x34a0aa(0x4d2)](_0xa32462){const _0x3a0c4f=_0x34a0aa;if(!this[_0x3a0c4f(0x82d)][_0x3a0c4f(0x664)](_0xa32462))throw new _0x4a345c(_0x2df194[_0x3a0c4f(0x320)],_0x3a0c4f(0x7f5));const _0x2b4bd2=this[_0x3a0c4f(0x82d)]['get'](_0xa32462);this[_0x3a0c4f(0x82d)][_0x3a0c4f(0x9c4)](_0xa32462),_0x2b4bd2[_0x3a0c4f(0x5ff)](),this[_0x3a0c4f(0x6f1)]['mediator'][_0x3a0c4f(0x97c)](_0x2b4bd2);}[_0x34a0aa(0x378)](_0x4d284c){const _0x77ed83=_0x34a0aa;if(!this[_0x77ed83(0x388)]['has'](_0x4d284c))throw new _0x4a345c(_0x2df194[_0x77ed83(0x618)],'Stream\x20does\x20not\x20exist');const _0x4964a0=this[_0x77ed83(0x388)][_0x77ed83(0x56b)](_0x4d284c);this[_0x77ed83(0x388)][_0x77ed83(0x9c4)](_0x4d284c),_0x4964a0[_0x77ed83(0x5ff)](),this[_0x77ed83(0x6f1)][_0x77ed83(0x872)][_0x77ed83(0x97c)](_0x4964a0);}[_0x34a0aa(0x3c2)](_0x3e1f88){const _0x544cc1=_0x34a0aa;if(!this[_0x544cc1(0x508)][_0x544cc1(0x664)](_0x3e1f88))throw new _0x4a345c(_0x2df194['KeyValueDatabaseDoesNotExist'],_0x544cc1(0x357));const _0x24bdb0=this[_0x544cc1(0x508)]['get'](_0x3e1f88);this[_0x544cc1(0x508)]['delete'](_0x3e1f88),_0x24bdb0[_0x544cc1(0x5ff)](),this[_0x544cc1(0x6f1)]['mediator'][_0x544cc1(0x97c)](_0x24bdb0);}[_0x34a0aa(0x68f)](_0x336335){const _0x3ac3c0=_0x34a0aa;if(!this[_0x3ac3c0(0x5f2)][_0x3ac3c0(0x664)](_0x336335))throw new _0x4a345c(_0x2df194[_0x3ac3c0(0x61f)],_0x3ac3c0(0x357));const _0x7d7e=this[_0x3ac3c0(0x5f2)][_0x3ac3c0(0x56b)](_0x336335);this['vectorDatabases'][_0x3ac3c0(0x9c4)](_0x336335),_0x7d7e['destroy'](),this[_0x3ac3c0(0x6f1)][_0x3ac3c0(0x872)][_0x3ac3c0(0x97c)](_0x7d7e);}[_0x34a0aa(0x9e2)](_0x5cf4d2){const _0x514e9c=_0x34a0aa;if(!this[_0x514e9c(0x250)]['has'](_0x5cf4d2))throw new _0x4a345c(_0x2df194['GraphDatabaseDoesNotExist'],_0x514e9c(0x357));const _0x585d68=this[_0x514e9c(0x250)][_0x514e9c(0x56b)](_0x5cf4d2);this[_0x514e9c(0x250)][_0x514e9c(0x9c4)](_0x5cf4d2),_0x585d68[_0x514e9c(0x5ff)](),this[_0x514e9c(0x6f1)][_0x514e9c(0x872)]['unregisterSystemSource'](_0x585d68);}[_0x34a0aa(0x2ec)](_0x4f5c3c){const _0x574757=_0x34a0aa;if(!this[_0x574757(0x9a4)][_0x574757(0x664)](_0x4f5c3c))throw new _0x4e89dd(_0x4e89dd[_0x574757(0x4ea)][_0x574757(0x545)],{'label':_0x4f5c3c,'localId':this[_0x574757(0x6f1)][_0x574757(0x411)][_0x574757(0x3ad)]()});const _0x41bec6=this[_0x574757(0x9a4)][_0x574757(0x56b)](_0x4f5c3c);this[_0x574757(0x6f1)]['mediator'][_0x574757(0x97c)](_0x41bec6),_0x41bec6[_0x574757(0x5ff)](),this['localMediaStreams'][_0x574757(0x9c4)](_0x4f5c3c);}[_0x34a0aa(0x31f)](_0x645b66,_0x4c096b){const _0x201914=_0x34a0aa;if(!this[_0x201914(0x9dd)][_0x201914(0x664)](_0x645b66))throw new _0x4e89dd(_0x4e89dd[_0x201914(0x4ea)]['NodeDoesNotExist'],{'nodeId':_0x645b66,'localId':this[_0x201914(0x6f1)][_0x201914(0x411)][_0x201914(0x3ad)]()});const _0x586772=this[_0x201914(0x9dd)]['get'](_0x645b66);if(!_0x586772['has'](_0x4c096b))throw new _0x4e89dd(_0x4e89dd[_0x201914(0x4ea)][_0x201914(0x389)],{'nodeId':_0x645b66,'label':_0x4c096b,'localId':this['configs'][_0x201914(0x411)][_0x201914(0x3ad)]()});const _0x3ff559=_0x586772[_0x201914(0x56b)](_0x4c096b);this[_0x201914(0x6f1)][_0x201914(0x872)][_0x201914(0x97c)](_0x3ff559),_0x3ff559[_0x201914(0x5ff)](),_0x586772[_0x201914(0x9c4)](_0x4c096b);}}var _0x21eb96,_0x3c3e8c,_0x47bc5e;!function(_0x49e961){const _0x22ddb3=_0x34a0aa;_0x49e961[_0x22ddb3(0x4e2)]=_0x22ddb3(0x95c),_0x49e961[_0x22ddb3(0x504)]='dt_volatility',_0x49e961['TimePerFrame']=_0x22ddb3(0x806),_0x49e961[_0x22ddb3(0x981)]='bitrate',_0x49e961[_0x22ddb3(0x1f4)]=_0x22ddb3(0x44d),_0x49e961[_0x22ddb3(0x583)]=_0x22ddb3(0x295),_0x49e961[_0x22ddb3(0x1d5)]=_0x22ddb3(0x22f),_0x49e961[_0x22ddb3(0x16a)]='av_delay';}(_0x21eb96||(_0x21eb96={})),function(_0x248d10){const _0x532c68=_0x34a0aa;_0x248d10[_0x532c68(0x1a1)]=_0x532c68(0x4bd),_0x248d10['TimePerFrame']=_0x532c68(0x302),_0x248d10[_0x532c68(0x16a)]=_0x532c68(0x713),_0x248d10[_0x532c68(0x583)]='cpu.fps',_0x248d10[_0x532c68(0x981)]=_0x532c68(0x2e6),_0x248d10[_0x532c68(0x1f4)]='bandwidth.jitter',_0x248d10[_0x532c68(0x1d5)]=_0x532c68(0x6e9);}(_0x3c3e8c||(_0x3c3e8c={})),function(_0x329526){const _0x375b02=_0x34a0aa;_0x329526[_0x329526[_0x375b02(0x8a6)]=0x0]=_0x375b02(0x8a6);}(_0x47bc5e||(_0x47bc5e={}));const _0x2b5e5d=[{'type':_0x21eb96[_0x34a0aa(0x4e2)],'reportMetric':_0x2b911c=>_0x2b911c['STVolatility'],'maxThreshold':2.5},{'type':_0x21eb96[_0x34a0aa(0x504)],'reportMetric':_0x2df27d=>_0x2df27d['DTVolatility'],'maxThreshold':0.5}],_0x5dcf72=[{'type':_0x21eb96[_0x34a0aa(0x6ee)],'reportMetric':_0x209f1a=>{const _0x48a9d7=_0x34a0aa,_0x5a5d89=0x3e8/_0x209f1a['FPS'];return _0x209f1a[_0x48a9d7(0x1be)]/_0x5a5d89;},'maxThreshold':0.75},{'type':_0x21eb96[_0x34a0aa(0x981)],'reportMetric':_0x22bc0d=>{const _0x28abaf=_0x34a0aa,_0x2930ae=_0x22bc0d[_0x28abaf(0x8bf)]*_0x22bc0d[_0x28abaf(0x750)]*_0x22bc0d[_0x28abaf(0x543)]*0.12;return _0x22bc0d[_0x28abaf(0x4c5)]/_0x2930ae;},'minThreshold':0.25},{'type':_0x21eb96[_0x34a0aa(0x1f4)],'reportMetric':_0xfc7cd9=>_0xfc7cd9[_0x34a0aa(0x44d)],'maxThreshold':0.6},{'type':_0x21eb96[_0x34a0aa(0x583)],'reportMetric':_0x34a70d=>_0x34a70d['FPS'],'minThreshold':0xa}],_0x5e87fb=[{'type':_0x21eb96['Jitter'],'reportMetric':_0x1ecb97=>_0x1ecb97[_0x34a0aa(0x44d)],'maxThreshold':0.6}],_0x5c2665=[{'type':_0x21eb96[_0x34a0aa(0x1d5)],'reportMetric':_0x41603a=>_0x41603a[_0x34a0aa(0x516)],'maxThreshold':0x1/0x0}],_0x10cf50=[{'type':_0x21eb96[_0x34a0aa(0x16a)],'reportMetric':_0x4f25d3=>_0x4f25d3[_0x34a0aa(0x16a)],'maxThreshold':0x12c}],_0x2f0823=[{'type':_0x3c3e8c[_0x34a0aa(0x1a1)],'issues':[{'type':_0x21eb96[_0x34a0aa(0x4e2)],'threshold':0x5},{'type':_0x21eb96[_0x34a0aa(0x504)],'threshold':0x5}]},{'type':_0x3c3e8c[_0x34a0aa(0x6ee)],'issues':[{'type':_0x21eb96[_0x34a0aa(0x6ee)],'threshold':0x3}]},{'type':_0x3c3e8c['AudioVideoDelay'],'issues':[{'type':_0x21eb96['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x3c3e8c[_0x34a0aa(0x583)],'issues':[{'type':_0x21eb96[_0x34a0aa(0x583)],'threshold':0x3}]},{'type':_0x3c3e8c['Bitrate'],'issues':[{'type':_0x21eb96['Bitrate'],'threshold':0x3}]},{'type':_0x3c3e8c[_0x34a0aa(0x1f4)],'issues':[{'type':_0x21eb96[_0x34a0aa(0x1f4)],'threshold':0x3}]},{'type':_0x3c3e8c[_0x34a0aa(0x1d5)],'issues':[{'type':_0x21eb96[_0x34a0aa(0x1d5)],'threshold':0x3}]}];var _0x53aa9b,_0xb924e5;!function(_0x3150a0){const _0x1be648=_0x34a0aa;_0x3150a0[_0x3150a0[_0x1be648(0x6f6)]=0x0]=_0x1be648(0x6f6),_0x3150a0[_0x3150a0['LocalReport']=0x1]=_0x1be648(0x6d4);}(_0x53aa9b||(_0x53aa9b={}));class _0x13da9f{[_0x34a0aa(0x6f1)];[_0x34a0aa(0x61d)]=[];[_0x34a0aa(0x9b5)];constructor(_0x444405){const _0x47ab3a=_0x34a0aa;this[_0x47ab3a(0x6f1)]=_0x444405,this[_0x47ab3a(0x6f1)][_0x47ab3a(0x872)][_0x47ab3a(0x7f7)](this);}[_0x34a0aa(0x58f)](_0x3742f4){const _0x187496=_0x34a0aa;this[_0x187496(0x9b5)]=_0x3742f4;}['unregisterSystemPublisher'](){this['systemTopic']=void 0x0;}['close'](){const _0x47c0b7=_0x34a0aa;this[_0x47c0b7(0x6f1)]['mediator'][_0x47c0b7(0x97c)](this),this[_0x47c0b7(0x61d)]=[];}[_0x34a0aa(0x490)](_0x4bbad2){const _0x35a656=_0x34a0aa;switch(_0x4bbad2[_0x35a656(0x1f6)]['type']){case _0x53aa9b[_0x35a656(0x6d4)]:this[_0x35a656(0x9f3)](_0x4bbad2['content']['data']);break;case _0x53aa9b[_0x35a656(0x6f6)]:this[_0x35a656(0x9aa)](_0x4bbad2[_0x35a656(0x1f6)]['data']);}}[_0x34a0aa(0x57e)](_0x48c45a,_0x2d9759,_0x36c49c,_0x1a6612){const _0x5ea809=_0x34a0aa,_0x2bb7c2=_0x2f0823['find'](_0x121bd7=>_0x121bd7[_0x5ea809(0x61d)][_0x5ea809(0x9bd)](_0x56fdc7=>_0x56fdc7[_0x5ea809(0x852)]===_0x48c45a));_0x1a6612>=_0x2bb7c2[_0x5ea809(0x61d)][_0x5ea809(0x3f0)](_0x5085af=>_0x5085af[_0x5ea809(0x852)]===_0x48c45a)[_0x5ea809(0x177)]&&(this[_0x5ea809(0x629)](_0x2bb7c2[_0x5ea809(0x852)],_0x2d9759,_0x36c49c),this[_0x5ea809(0x61d)]=this['issues'][_0x5ea809(0x285)](_0x2f8a77=>!(_0x2f8a77[_0x5ea809(0x852)]===_0x48c45a&&_0x2f8a77[_0x5ea809(0x2af)]===_0x2d9759&&_0x2f8a77[_0x5ea809(0x8d2)]===_0x36c49c)));}['detectLocalIssues'](_0x603bf7){const _0x5e9761=_0x34a0aa;_0x2b5e5d[_0x5e9761(0x66c)](_0x1152ea=>{const _0x4b1eb2=_0x5e9761,_0x26ca70=_0x1152ea[_0x4b1eb2(0x745)](_0x603bf7);_0x1152ea['maxThreshold']&&_0x26ca70>_0x1152ea[_0x4b1eb2(0x90b)]&&this[_0x4b1eb2(0x4b1)](_0x1152ea[_0x4b1eb2(0x852)],this['configs']['localNode'][_0x4b1eb2(0x3ad)](),_0x17021b[_0x4b1eb2(0x80e)],_0x26ca70),_0x1152ea[_0x4b1eb2(0x23f)]&&_0x26ca70<_0x1152ea[_0x4b1eb2(0x23f)]&&this[_0x4b1eb2(0x4b1)](_0x1152ea[_0x4b1eb2(0x852)],this[_0x4b1eb2(0x6f1)]['localNode'][_0x4b1eb2(0x3ad)](),_0x17021b[_0x4b1eb2(0x80e)],_0x26ca70);});}[_0x34a0aa(0x9aa)](_0x5a2aac){const _0x50dc6a=_0x34a0aa;let _0x50961c=[];switch(_0x5a2aac[_0x50dc6a(0x8d2)]){case _0x17021b[_0x50dc6a(0x80e)]:_0x50961c=_0x5c2665;break;case _0x17021b[_0x50dc6a(0x5ca)]:_0x50961c=_0x10cf50;}_0x5a2aac[_0x50dc6a(0x827)]&&this[_0x50dc6a(0x493)](_0x5a2aac[_0x50dc6a(0x2af)],_0x17021b['Sender'],_0x5a2aac[_0x50dc6a(0x827)]),_0x5a2aac['audio']&&this[_0x50dc6a(0x351)](_0x5a2aac[_0x50dc6a(0x2af)],_0x17021b[_0x50dc6a(0x80e)],_0x5a2aac[_0x50dc6a(0x9d3)]),_0x50961c['forEach'](_0x40e7c5=>{const _0x5002cf=_0x50dc6a,_0x6a23ba=_0x40e7c5[_0x5002cf(0x745)](_0x5a2aac);_0x40e7c5[_0x5002cf(0x90b)]&&_0x6a23ba>_0x40e7c5[_0x5002cf(0x90b)]&&this['addIssue'](_0x40e7c5['type'],_0x5a2aac[_0x5002cf(0x2af)],_0x17021b[_0x5002cf(0x80e)],_0x6a23ba),_0x40e7c5['minThreshold']&&_0x6a23ba<_0x40e7c5['minThreshold']&&this[_0x5002cf(0x4b1)](_0x40e7c5[_0x5002cf(0x852)],_0x5a2aac['nodeId'],_0x17021b[_0x5002cf(0x80e)],_0x6a23ba);});}[_0x34a0aa(0x493)](_0x1fd0b5,_0x2d43ed,_0x545139){const _0x3f5d51=_0x34a0aa;0x0!==_0x545139[_0x3f5d51(0x4c5)]&&_0x5dcf72[_0x3f5d51(0x66c)](_0x54a96c=>{const _0x14260e=_0x3f5d51,_0x4f4f21=_0x54a96c['reportMetric'](_0x545139);_0x54a96c['maxThreshold']&&_0x4f4f21>_0x54a96c[_0x14260e(0x90b)]&&this[_0x14260e(0x4b1)](_0x54a96c[_0x14260e(0x852)],_0x1fd0b5,_0x2d43ed,_0x4f4f21,'video'),_0x54a96c[_0x14260e(0x23f)]&&_0x4f4f21<_0x54a96c['minThreshold']&&this[_0x14260e(0x4b1)](_0x54a96c['type'],_0x1fd0b5,_0x2d43ed,_0x4f4f21,_0x14260e(0x827));});}[_0x34a0aa(0x351)](_0x529941,_0x476f7f,_0x160aab){const _0x1c8b7f=_0x34a0aa;0x0!==_0x160aab[_0x1c8b7f(0x4c5)]&&_0x5e87fb[_0x1c8b7f(0x66c)](_0x35b583=>{const _0x543137=_0x1c8b7f,_0x93f510=_0x35b583[_0x543137(0x745)](_0x160aab);_0x35b583[_0x543137(0x90b)]&&_0x93f510>_0x35b583[_0x543137(0x90b)]&&this[_0x543137(0x4b1)](_0x35b583[_0x543137(0x852)],_0x529941,_0x476f7f,_0x93f510,_0x543137(0x9d3)),_0x35b583[_0x543137(0x23f)]&&_0x93f510<_0x35b583[_0x543137(0x23f)]&&this[_0x543137(0x4b1)](_0x35b583[_0x543137(0x852)],_0x529941,_0x476f7f,_0x93f510,_0x543137(0x9d3));});}[_0x34a0aa(0x4b1)](_0x2a91f7,_0x325d0e,_0x13b9d6,_0x2781ba,_0x159b2a){const _0x436b31=_0x34a0aa;_0x17dbc7[_0x436b31(0x6cb)](_0x5d2ed2[_0x436b31(0x48a)],_0x436b31(0x913)+_0x2a91f7,_0x2a91f7,_0x2781ba),_0x17dbc7[_0x436b31(0x582)](_0x436b31(0x41c),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x436b31(0x6f1)][_0x436b31(0x411)][_0x436b31(0x3ad)](),'nodeType':this['configs'][_0x436b31(0x411)][_0x436b31(0x852)],'remoteId':_0x325d0e,'data':{'type':_0x2a91f7,'value':_0x2781ba,'kind':_0x159b2a}}),this[_0x436b31(0x61d)]=this[_0x436b31(0x61d)]['filter'](_0x3890bb=>Date[_0x436b31(0x517)]()-_0x3890bb[_0x436b31(0x6a3)]<0x7530),this[_0x436b31(0x61d)][_0x436b31(0x32e)]({'timestamp':Date['now'](),'type':_0x2a91f7,'nodeId':_0x325d0e,'origin':_0x13b9d6,'value':_0x2781ba,'kind':_0x159b2a});const _0x512d12=this[_0x436b31(0x61d)]['filter'](_0xfea459=>_0xfea459[_0x436b31(0x852)]===_0x2a91f7&&_0xfea459[_0x436b31(0x2af)]===_0x325d0e&&_0xfea459['origin']===_0x13b9d6)[_0x436b31(0x831)];this[_0x436b31(0x57e)](_0x2a91f7,_0x325d0e,_0x13b9d6,_0x512d12);}['addProblem'](_0x5c8797,_0x34011c,_0x2cddca){const _0x4c4bef=_0x34a0aa;_0x17dbc7[_0x4c4bef(0x6cb)](_0x5d2ed2['Detection'],'Problem\x20detected:\x20'+_0x5c8797),_0x17dbc7[_0x4c4bef(0x582)](_0x4c4bef(0x2b5),{'clusterId':this[_0x4c4bef(0x6f1)][_0x4c4bef(0x222)],'nodeId':this[_0x4c4bef(0x6f1)][_0x4c4bef(0x411)][_0x4c4bef(0x3ad)](),'nodeType':this[_0x4c4bef(0x6f1)]['localNode'][_0x4c4bef(0x852)],'remoteId':_0x34011c,'data':{'type':_0x5c8797}}),this[_0x4c4bef(0x9b5)]?.[_0x4c4bef(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x4c4bef(0x48a)],'content':{'type':_0x47bc5e[_0x4c4bef(0x8a6)],'data':{'timestamp':Date['now'](),'nodeId':_0x34011c,'origin':_0x17021b['Sender'],'type':_0x5c8797}}});}}class _0x541e5c extends _0x2ec5cc{['type']=_0xb78473[_0x34a0aa(0x7b3)][_0x34a0aa(0x32d)];}class _0x1fa6ca extends _0x541e5c{[_0x34a0aa(0x9b5)];[_0x34a0aa(0x835)]=Date[_0x34a0aa(0x517)]();[_0x34a0aa(0x467)];[_0x34a0aa(0x524)];[_0x34a0aa(0x39a)](){const _0x596964=_0x34a0aa;this[_0x596964(0x467)]&&(clearTimeout(this[_0x596964(0x467)]),delete this[_0x596964(0x467)]),delete this[_0x596964(0x524)],this[_0x596964(0x835)]=Date[_0x596964(0x517)](),super[_0x596964(0x39a)]();}[_0x34a0aa(0x58f)](_0x1033dc){this['systemTopic']=_0x1033dc;}[_0x34a0aa(0x5f8)](){const _0x63c39c=_0x34a0aa;delete this[_0x63c39c(0x9b5)];}[_0x34a0aa(0x7c8)](_0x50a2ab){const _0x1cf575=_0x34a0aa;!this[_0x1cf575(0x467)]&&this[_0x1cf575(0x58d)]&&this[_0x1cf575(0x9b5)][_0x1cf575(0x5c0)]({'sourceId':this['id'],'destinationIds':[_0x50a2ab],'propagate':!0x0,'messageType':_0x174459[_0x1cf575(0x221)],'content':{'type':_0xc6ed77[_0x1cf575(0x54d)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x1cf575(0x88c)](),'remoteConnections':Array[_0x1cf575(0x856)](this[_0x1cf575(0x238)]),'version':this[_0x1cf575(0x835)]}});}[_0x34a0aa(0x910)](_0x29f02f){const _0x42879d=_0x34a0aa;this[_0x42879d(0x238)][_0x42879d(0x664)](_0x29f02f)||(this['remoteConnections'][_0x42879d(0x4a3)](_0x29f02f),this[_0x42879d(0x572)](),this['publishUserUpdate'](!0x0));}[_0x34a0aa(0x423)](_0x467283){const _0x4e2d7a=_0x34a0aa;this[_0x4e2d7a(0x238)][_0x4e2d7a(0x664)](_0x467283)&&(this[_0x4e2d7a(0x238)][_0x4e2d7a(0x9c4)](_0x467283),this['incrementVersion'](),this[_0x4e2d7a(0x962)](!0x0));}[_0x34a0aa(0xa3e)](){const _0x76ad66=_0x34a0aa;return this[_0x76ad66(0x835)];}['setRank'](_0x59359,_0x1c827e=!0x0){const _0x430bfe=_0x34a0aa;this[_0x430bfe(0x58d)]!==_0x59359&&(this[_0x430bfe(0x58d)]=_0x59359,_0x1c827e&&(this['incrementVersion'](),this[_0x430bfe(0x962)]()));}[_0x34a0aa(0x572)](){const _0x477b12=_0x34a0aa;this[_0x477b12(0x835)]=Date[_0x477b12(0x517)]();}['publishUserUpdate'](_0x39719e=!0x1){const _0xaee73a=_0x34a0aa;if(this['rank']){if(this[_0xaee73a(0x524)]||(this[_0xaee73a(0x524)]=Date[_0xaee73a(0x517)]()),this[_0xaee73a(0x467)]){if(Date[_0xaee73a(0x517)]()-this[_0xaee73a(0x524)]>0x2328)return;clearTimeout(this[_0xaee73a(0x467)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x4006cc=_0xaee73a;delete this[_0x4006cc(0x524)],delete this[_0x4006cc(0x467)],this[_0x4006cc(0x9b5)][_0x4006cc(0x5c0)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x174459[_0x4006cc(0x221)],'content':{'type':_0x39719e?_0xc6ed77[_0x4006cc(0x58a)]:_0xc6ed77['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x4006cc(0x852)]},'rank':this['getRank'](),'remoteConnections':Array[_0x4006cc(0x856)](this[_0x4006cc(0x238)]),'version':this[_0x4006cc(0x835)]}});},0x3e8);}}}class _0x238615 extends _0x560783{['systemTopic'];[_0x34a0aa(0x835)]=Date[_0x34a0aa(0x517)]();[_0x34a0aa(0x467)];['lastUpdated'];[_0x34a0aa(0x39a)](){const _0x54995d=_0x34a0aa;this[_0x54995d(0x467)]&&(clearTimeout(this[_0x54995d(0x467)]),delete this[_0x54995d(0x467)]),delete this[_0x54995d(0x524)],this['currentVersion']=Date[_0x54995d(0x517)](),super['close']();}[_0x34a0aa(0x58f)](_0x592f4d){const _0x570367=_0x34a0aa;this[_0x570367(0x9b5)]=_0x592f4d;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x34a0aa(0x7c8)](_0x667019){const _0x21bea1=_0x34a0aa;!this['updateDebounceTimeout']&&this[_0x21bea1(0x58d)]&&this[_0x21bea1(0x9b5)][_0x21bea1(0x5c0)]({'sourceId':this['id'],'destinationIds':[_0x667019],'propagate':!0x0,'messageType':_0x174459['Node'],'content':{'type':_0xc6ed77['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x21bea1(0x852)],'displayName':this[_0x21bea1(0x391)](),'email':this[_0x21bea1(0xa15)]()},'rank':this[_0x21bea1(0x88c)](),'remoteConnections':Array[_0x21bea1(0x856)](this[_0x21bea1(0x238)]),'version':this['currentVersion']}});}[_0x34a0aa(0x910)](_0x45152d){const _0x520326=_0x34a0aa;this[_0x520326(0x238)][_0x520326(0x664)](_0x45152d)||(this[_0x520326(0x238)][_0x520326(0x4a3)](_0x45152d),this[_0x520326(0x572)](),this['publishUserUpdate'](!0x0));}[_0x34a0aa(0x423)](_0xa8f9da){const _0x56ada8=_0x34a0aa;this[_0x56ada8(0x238)][_0x56ada8(0x664)](_0xa8f9da)&&(this[_0x56ada8(0x238)]['delete'](_0xa8f9da),this['incrementVersion'](),this[_0x56ada8(0x962)](!0x0));}[_0x34a0aa(0xa3e)](){const _0x46d81a=_0x34a0aa;return this[_0x46d81a(0x835)];}['setDisplayName'](_0x143dde){const _0x4d449c=_0x34a0aa;this['displayName']!==_0x143dde&&(this['displayName']=_0x143dde,this['incrementVersion'](),this[_0x4d449c(0x962)]());}['setEmail'](_0x1172cb){const _0x23bbbd=_0x34a0aa;this[_0x23bbbd(0x304)]!==_0x1172cb&&(this[_0x23bbbd(0x304)]=_0x1172cb,this[_0x23bbbd(0x572)](),this[_0x23bbbd(0x962)]());}[_0x34a0aa(0x4f2)](_0x3657fe,_0x1079d1=!0x0){const _0xa25dea=_0x34a0aa;this[_0xa25dea(0x58d)]!==_0x3657fe&&(this[_0xa25dea(0x58d)]=_0x3657fe,_0x1079d1&&(this[_0xa25dea(0x572)](),this[_0xa25dea(0x962)]()));}[_0x34a0aa(0x572)](){const _0x494523=_0x34a0aa;this[_0x494523(0x835)]=Date[_0x494523(0x517)]();}[_0x34a0aa(0x962)](_0x29c65f=!0x1){const _0x508b4c=_0x34a0aa;if(this[_0x508b4c(0x58d)]){if(this[_0x508b4c(0x524)]||(this['lastUpdated']=Date['now']()),this['updateDebounceTimeout']){if(Date[_0x508b4c(0x517)]()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x508b4c(0x467)]);}this[_0x508b4c(0x467)]=setTimeout(()=>{const _0x4e1671=_0x508b4c;delete this[_0x4e1671(0x524)],delete this[_0x4e1671(0x467)],this[_0x4e1671(0x9b5)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x174459[_0x4e1671(0x221)],'content':{'type':_0x29c65f?_0xc6ed77[_0x4e1671(0x58a)]:_0xc6ed77['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x4e1671(0x852)],'displayName':this[_0x4e1671(0x391)](),'email':this[_0x4e1671(0xa15)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x4e1671(0x856)](this['remoteConnections']),'version':this[_0x4e1671(0x835)]}});},0x3e8);}}}class _0x312db7{['id'];[_0x34a0aa(0x6e2)];[_0x34a0aa(0x853)];[_0x34a0aa(0x424)];['type']=_0xb78473['NodeType'][_0x34a0aa(0x32d)];[_0x34a0aa(0x50d)];constructor(_0x7ca425,_0x3e9c51,_0x4f9f01,_0x1e01ef){const _0x487be5=_0x34a0aa;this['id']=_0x7ca425,this[_0x487be5(0x6e2)]=_0x3e9c51,this['vendorId']=_0x4f9f01,this['agentConfig']=_0x1e01ef;}[_0x34a0aa(0x3ad)](){return this['id'];}[_0x34a0aa(0x5b3)](_0x1e631c){const _0x41d577=_0x34a0aa,_0x236ba5=(0x0,_0xd69cc3[_0x41d577(0x613)])((0x0,_0xd69cc3[_0x41d577(0x77f)])(_0x27d84b[_0x41d577(0x245)](),_0x41d577(0x9dc)+this['vendorId']+_0x41d577(0x939)+this[_0x41d577(0x6e2)]),_0x5a4789=>{const _0x170944=_0x41d577;if(_0x5a4789[_0x170944(0x523)]()){const _0x196843=_0x5a4789[_0x170944(0x1ad)]();if(this[_0x170944(0x424)][_0x170944(0x6a3)]['isEqual'](_0x196843['timestamp']))return;_0x17dbc7['log'](_0x5d2ed2['Node'],_0x170944(0x854),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this['agentConfig'],'newConfig':_0x196843}),this['agentConfig']=_0x196843,_0x1e631c();}});return()=>_0x236ba5();}[_0x34a0aa(0x931)](_0xb3e700){const _0x5f0b62=_0x34a0aa;return this[_0x5f0b62(0x5c6)](this[_0x5f0b62(0x6e2)],_0xb3e700),_0x293ade[_0x5f0b62(0xa10)](()=>this['reportCapacity'](this[_0x5f0b62(0x6e2)],_0xb3e700),0x7530);}[_0x34a0aa(0x86f)](){const _0x50594c=_0x34a0aa;if(!this[_0x50594c(0x50d)])throw new _0x4e89dd(_0x4e89dd['codes'][_0x50594c(0x27b)]);return this[_0x50594c(0x50d)];}async['reportCapacity'](_0x530373,_0x2211cc){const _0x2edb6d=_0x34a0aa,_0x4caac9=await _0x2211cc();this[_0x2edb6d(0x50d)]=_0x4caac9,await(0x0,_0xd69cc3[_0x2edb6d(0x62e)])((0x0,_0xd69cc3[_0x2edb6d(0x8b4)])(_0x27d84b[_0x2edb6d(0x245)](),'developers/'+this[_0x2edb6d(0x853)]+_0x2edb6d(0x9c3)),{'agentId':this['id'],'groupId':_0x530373,'timestamp':(0x0,_0xd69cc3[_0x2edb6d(0x2d9)])(),'capacity':_0x4caac9});}}!function(_0x4040a8){const _0x5052df=_0x34a0aa;_0x4040a8[_0x4040a8['Online']=0x0]=_0x5052df(0x739),_0x4040a8[_0x4040a8[_0x5052df(0x65d)]=0x1]=_0x5052df(0x65d);}(_0xb924e5||(_0xb924e5={}));class _0x4e659c extends _0x541e5c{[_0x34a0aa(0x835)];[_0x34a0aa(0x563)]=_0xb924e5[_0x34a0aa(0x739)];[_0x34a0aa(0x524)]=Date[_0x34a0aa(0x517)]();constructor(_0x7b0816,_0x4c8362=new Set(),_0x52a295,_0x1d5dc9){const _0x380c04=_0x34a0aa;super(_0x7b0816,_0x4c8362,_0x1d5dc9),this[_0x380c04(0x835)]=_0x52a295;}[_0x34a0aa(0xa3e)](){const _0x216ffd=_0x34a0aa;return this[_0x216ffd(0x835)];}[_0x34a0aa(0x935)](){const _0x347ea8=_0x34a0aa;return this[_0x347ea8(0x563)];}['getLastUpdated'](){return this['lastUpdated'];}[_0x34a0aa(0x4f2)](_0x36c4f9){const _0x2b171a=_0x34a0aa;this['rank']!==_0x36c4f9&&(this['rank']=_0x36c4f9,this[_0x2b171a(0x1ce)]());}[_0x34a0aa(0x933)](_0x543f9a){const _0x285869=_0x34a0aa;let _0x4a7e49=!0x1;for(const _0x5a6056 of this[_0x285869(0x238)])_0x543f9a[_0x285869(0x25d)](_0x5a6056)||(_0x4a7e49=!0x0,this[_0x285869(0x238)][_0x285869(0x9c4)](_0x5a6056));for(const _0x4b3db0 of _0x543f9a)this[_0x285869(0x238)][_0x285869(0x664)](_0x4b3db0)||(_0x4a7e49=!0x0,this[_0x285869(0x238)][_0x285869(0x4a3)](_0x4b3db0));_0x4a7e49&&this[_0x285869(0x1ce)]();}[_0x34a0aa(0x7a5)](_0xc2312e){const _0x198a29=_0x34a0aa;this['currentVersion']!==_0xc2312e&&(this['currentVersion']=_0xc2312e,this[_0x198a29(0x1ce)]());}[_0x34a0aa(0x5d9)](_0x479002){const _0x4fdb6b=_0x34a0aa;this['status']!==_0x479002&&(this['status']=_0x479002,this[_0x4fdb6b(0x1ce)](),_0x479002===_0xb924e5[_0x4fdb6b(0x65d)]&&this[_0x4fdb6b(0x39a)]());}[_0x34a0aa(0x1ce)](){const _0x12b77b=_0x34a0aa;this['lastUpdated']=Date[_0x12b77b(0x517)]();}}class _0x1fdabf extends _0x560783{[_0x34a0aa(0x835)];[_0x34a0aa(0x563)]=_0xb924e5[_0x34a0aa(0x739)];[_0x34a0aa(0x524)]=Date[_0x34a0aa(0x517)]();constructor(_0x1983de,_0x14c8a6,_0x1345ad,_0x456992=new Set(),_0x41c7cf,_0x5c055d){const _0x577faf=_0x34a0aa;super(_0x1983de,_0x14c8a6,_0x1345ad,_0x456992,_0x5c055d),this[_0x577faf(0x835)]=_0x41c7cf;}[_0x34a0aa(0xa3e)](){return this['currentVersion'];}[_0x34a0aa(0x935)](){return this['status'];}[_0x34a0aa(0x40b)](){const _0xc0fe76=_0x34a0aa;return this[_0xc0fe76(0x524)];}[_0x34a0aa(0x77c)](_0x55c99f){const _0x5892b9=_0x34a0aa;this[_0x5892b9(0x6e7)]!==_0x55c99f&&(this[_0x5892b9(0x6e7)]=_0x55c99f,this['updateLastUpdated']());}['setEmail'](_0x15a7d4){const _0x367cb4=_0x34a0aa;this[_0x367cb4(0x304)]!==_0x15a7d4&&(this[_0x367cb4(0x304)]=_0x15a7d4,this['updateLastUpdated']());}[_0x34a0aa(0x4f2)](_0x2d7a1d){const _0x5bddde=_0x34a0aa;this[_0x5bddde(0x58d)]!==_0x2d7a1d&&(this[_0x5bddde(0x58d)]=_0x2d7a1d,this[_0x5bddde(0x1ce)]());}[_0x34a0aa(0x933)](_0x552a65){const _0x381f91=_0x34a0aa;let _0x2fd4bc=!0x1;for(const _0x4c07b0 of this[_0x381f91(0x238)])_0x552a65['includes'](_0x4c07b0)||(_0x2fd4bc=!0x0,this['remoteConnections'][_0x381f91(0x9c4)](_0x4c07b0));for(const _0x52a80d of _0x552a65)this[_0x381f91(0x238)][_0x381f91(0x664)](_0x52a80d)||(_0x2fd4bc=!0x0,this['remoteConnections'][_0x381f91(0x4a3)](_0x52a80d));_0x2fd4bc&&this[_0x381f91(0x1ce)]();}[_0x34a0aa(0x7a5)](_0xe17402){const _0x17695f=_0x34a0aa;this[_0x17695f(0x835)]!==_0xe17402&&(this['currentVersion']=_0xe17402,this[_0x17695f(0x1ce)]());}[_0x34a0aa(0x5d9)](_0x12083b){const _0x63f865=_0x34a0aa;this['status']!==_0x12083b&&(this[_0x63f865(0x563)]=_0x12083b,this[_0x63f865(0x1ce)](),_0x12083b===_0xb924e5[_0x63f865(0x65d)]&&this['close']());}[_0x34a0aa(0x1ce)](){const _0x22fe25=_0x34a0aa;this[_0x22fe25(0x524)]=Date[_0x22fe25(0x517)]();}}class _0x1114d3{[_0x34a0aa(0x853)];[_0x34a0aa(0x222)];[_0x34a0aa(0x411)];[_0x34a0aa(0x709)];['disconnectCallback']=_0x41e5d0();[_0x34a0aa(0x6f0)];[_0x34a0aa(0x90a)];[_0x34a0aa(0x8ae)];[_0x34a0aa(0x3cf)]=!0x1;[_0x34a0aa(0x522)];[_0x34a0aa(0x8b3)];constructor(_0x335d4d,_0xd9cef3,_0x23da44,_0x2d65d1){const _0x96be55=_0x34a0aa;this[_0x96be55(0x853)]=_0x335d4d,this[_0x96be55(0x222)]=_0xd9cef3,this[_0x96be55(0x411)]=_0x23da44,this[_0x96be55(0x709)]=_0x2d65d1,this[_0x96be55(0x522)]=_0x96be55(0x2eb)+this['vendorId']+_0x96be55(0x2eb)+this['clusterId'],this[_0x96be55(0x8b3)]='ccc'+this['vendorId']+_0x96be55(0x2eb)+this[_0x96be55(0x411)][_0x96be55(0x3ad)](),this[_0x96be55(0x6f0)]=(0x0,_0x2d734b[_0x96be55(0xa35)])((0x0,_0x2d734b[_0x96be55(0x91f)])(_0x27d84b['getDatabase'](),'.info/connected'),_0x507114=>{const _0x283e10=_0x96be55;!0x0!==_0x507114[_0x283e10(0x3af)]()?this['connected']&&_0x17dbc7[_0x283e10(0x165)](_0x283e10(0x8ad),{'clusterId':this['clusterId'],'nodeId':this[_0x283e10(0x411)][_0x283e10(0x3ad)](),'nodeType':this[_0x283e10(0x411)][_0x283e10(0x852)]}):(this['connected']=!0x0,this[_0x283e10(0xa3d)](),_0x17dbc7[_0x283e10(0x701)]('firebase-connect',{'clusterId':this[_0x283e10(0x222)],'nodeId':this['localNode'][_0x283e10(0x3ad)](),'nodeType':this[_0x283e10(0x411)][_0x283e10(0x852)]}));});}async[_0x34a0aa(0x45b)](){const _0x2cf03b=_0x34a0aa;await this[_0x2cf03b(0x47d)]();const _0x26a90b=await this['getAncestors']();return this[_0x2cf03b(0x90a)]=(0x0,_0x2d734b[_0x2cf03b(0x35f)])((0x0,_0x2d734b[_0x2cf03b(0x91f)])(_0x27d84b[_0x2cf03b(0x536)](),_0x2cf03b(0x233)+this[_0x2cf03b(0x522)]+_0x2cf03b(0x43d)),_0x509393=>{const _0x15d8a1=_0x2cf03b,_0xb1a35c=_0x509393[_0x15d8a1(0x3bb)];if(!_0xb1a35c)return;const _0x461f7c=_0xb1a35c[_0x15d8a1(0x633)](_0x15d8a1(0x2eb)+this[_0x15d8a1(0x853)]+'ccc','');this[_0x15d8a1(0x201)]['publish'](_0x461f7c);}),_0x26a90b;}async[_0x34a0aa(0x39a)](){const _0x1c5ace=_0x34a0aa;this[_0x1c5ace(0x90a)]?.(),delete this[_0x1c5ace(0x90a)],this[_0x1c5ace(0x8ae)]?.['cancel'](),delete this[_0x1c5ace(0x8ae)],this[_0x1c5ace(0x6f0)]?.(),delete this[_0x1c5ace(0x6f0)],await(0x0,_0x2d734b[_0x1c5ace(0x754)])((0x0,_0x2d734b['ref'])(_0x27d84b['getDatabase'](),_0x1c5ace(0x233)+this[_0x1c5ace(0x522)]+_0x1c5ace(0x8a7)+this[_0x1c5ace(0x8b3)]));}[_0x34a0aa(0x6ab)](_0x4a1603){const _0x35c5cc=_0x34a0aa;return this[_0x35c5cc(0x201)][_0x35c5cc(0x253)](_0x4a1603);}async[_0x34a0aa(0x26c)](){const _0x58760e=_0x34a0aa,_0x2d37bd=[],_0x2ed8af=await(0x0,_0x2d734b[_0x58760e(0x56b)])((0x0,_0x2d734b[_0x58760e(0x91f)])(_0x27d84b[_0x58760e(0x536)](),_0x58760e(0x233)+this[_0x58760e(0x522)]+'/nodes')),_0x4f4fd1=[];return _0x2ed8af[_0x58760e(0x66c)](_0x13e4ca=>{const _0x5d4bce=_0x58760e,_0x3fa836=_0x13e4ca[_0x5d4bce(0x3bb)]?.[_0x5d4bce(0x633)](_0x5d4bce(0x2eb)+this['vendorId']+_0x5d4bce(0x2eb),'');_0x4f4fd1[_0x5d4bce(0x32e)]({'id':_0x3fa836,'joinedAt':_0x13e4ca['val']()[_0x5d4bce(0x235)],'priority':_0x13e4ca[_0x5d4bce(0x3af)]()['priority']});}),_0x4f4fd1[_0x58760e(0x9b6)]((_0x2e625f,_0x1c7ba4)=>_0x2e625f['joinedAt']===_0x1c7ba4[_0x58760e(0x235)]?_0x2e625f['priority']-_0x1c7ba4['priority']:_0x2e625f[_0x58760e(0x235)]-_0x1c7ba4[_0x58760e(0x235)])[_0x58760e(0x892)](_0x4f4fd1[_0x58760e(0x1ba)](_0x4c53f9=>_0x4c53f9['id']===this[_0x58760e(0x411)]['getId']())),_0x4f4fd1[_0x58760e(0x9b6)]((_0x118bfd,_0x15655f)=>_0x15655f['joinedAt']===_0x118bfd[_0x58760e(0x235)]?_0x15655f[_0x58760e(0x820)]-_0x118bfd[_0x58760e(0x820)]:_0x15655f['joinedAt']-_0x118bfd[_0x58760e(0x235)])[_0x58760e(0x66c)](_0xdd25a=>{const _0x5ce831=_0x58760e;_0x2d37bd[_0x5ce831(0x831)]>=this['minConnections']||_0x2d37bd['push'](_0xdd25a['id']);}),_0x17dbc7[_0x58760e(0x582)](_0x58760e(0x826),{'clusterId':this[_0x58760e(0x222)],'nodeId':this[_0x58760e(0x411)]['getId'](),'nodeType':this[_0x58760e(0x411)]['type'],'data':{'ancestorIds':_0x2d37bd,'allNodes':_0x4f4fd1}}),_0x2d37bd;}async[_0x34a0aa(0x47d)](){const _0x31285f=_0x34a0aa;await(0x0,_0x2d734b['set'])((0x0,_0x2d734b['ref'])(_0x27d84b[_0x31285f(0x536)](),_0x31285f(0x233)+this['clusterKey']+_0x31285f(0x8a7)+this[_0x31285f(0x8b3)]),{'joinedAt':(0x0,_0x2d734b['serverTimestamp'])(),'priority':Math[_0x31285f(0x926)]()});}[_0x34a0aa(0xa3d)](){const _0x38af5c=_0x34a0aa;this[_0x38af5c(0x8ae)]&&this['onDisconnectHandler'][_0x38af5c(0x528)](),this[_0x38af5c(0x8ae)]=(0x0,_0x2d734b[_0x38af5c(0x22b)])((0x0,_0x2d734b[_0x38af5c(0x91f)])(_0x27d84b[_0x38af5c(0x536)](),_0x38af5c(0x233)+this[_0x38af5c(0x522)]+_0x38af5c(0x8a7)+this[_0x38af5c(0x8b3)])),this[_0x38af5c(0x8ae)][_0x38af5c(0x754)]();}}class _0x42af32{[_0x34a0aa(0x6f1)];[_0x34a0aa(0x6eb)];['remoteUnsubscriber'];['discoveryService'];[_0x34a0aa(0x600)];[_0x34a0aa(0x51a)]=[];[_0x34a0aa(0x9b5)];[_0x34a0aa(0x5e7)]=new Map();[_0x34a0aa(0x35c)];['lastProcessRank'];[_0x34a0aa(0x702)];[_0x34a0aa(0x4d5)];[_0x34a0aa(0x5c7)];[_0x34a0aa(0x2ad)];constructor(_0x4499d5,_0x4dd798){const _0x5ea5b0=_0x34a0aa;this[_0x5ea5b0(0x6f1)]=_0x4499d5,this[_0x5ea5b0(0x6eb)]=_0x4dd798,this['_isReady']=new Promise((_0x1028d2,_0x361de4)=>{const _0x33b65f=_0x5ea5b0;this[_0x33b65f(0x4d5)]=_0x1028d2,this['rejectReady']=_0x361de4;}),this[_0x5ea5b0(0x4d7)]=new _0x1114d3(this[_0x5ea5b0(0x6f1)][_0x5ea5b0(0x853)],this[_0x5ea5b0(0x6f1)][_0x5ea5b0(0x222)],this[_0x5ea5b0(0x6f1)]['localNode'],this['graphService'][_0x5ea5b0(0x4a4)]()),this[_0x5ea5b0(0x600)]=this[_0x5ea5b0(0x4d7)][_0x5ea5b0(0x6ab)](this[_0x5ea5b0(0x84c)][_0x5ea5b0(0xa1e)](this)),this[_0x5ea5b0(0x6f1)]['mediator'][_0x5ea5b0(0x7f7)](this[_0x5ea5b0(0x6f1)][_0x5ea5b0(0x411)]),this[_0x5ea5b0(0x6f1)]['mediator'][_0x5ea5b0(0x7f7)](this),this[_0x5ea5b0(0x8de)]=_0x293ade[_0x5ea5b0(0xa10)](()=>{const _0x476537=_0x5ea5b0,_0x57b3e0=Date[_0x476537(0x517)]();this[_0x476537(0x6eb)][_0x476537(0x64d)]()['forEach'](_0x49e682=>{const _0x366fdf=_0x476537;_0x49e682[_0x366fdf(0x935)]()===_0xb924e5[_0x366fdf(0x65d)]&&_0x49e682[_0x366fdf(0x40b)]()<_0x57b3e0-0x493e0&&this['graphService'][_0x366fdf(0x34a)](_0x49e682[_0x366fdf(0x3ad)]());});},0xea60);}async[_0x34a0aa(0x172)](){const _0x4de851=_0x34a0aa;return this[_0x4de851(0x702)];}async[_0x34a0aa(0x170)](_0x227d9b){return new Promise((_0x5a0d0f,_0x3dfc05)=>{const _0x175b34=setTimeout(()=>{const _0x11cf4e=a0_0x1d5b;this[_0x11cf4e(0x6eb)][_0x11cf4e(0x232)](_0x3626c6),_0x3dfc05(new Error(_0x11cf4e(0x4df)+_0x227d9b+'\x27\x20is\x20not\x20ready'));},0x2710),_0x3626c6=()=>{this['graphService']['hasRemoteNode'](_0x227d9b)&&(clearTimeout(_0x175b34),_0x5a0d0f(!0x0));};_0x3626c6(),this['graphService']['onNodeUpdate'](_0x3626c6);});}[_0x34a0aa(0x58f)](_0x115007){const _0x2f9d66=_0x34a0aa;this[_0x2f9d66(0x9b5)]=_0x115007;}[_0x34a0aa(0x5f8)](){const _0x34750a=_0x34a0aa;delete this[_0x34750a(0x9b5)];}['close'](){const _0x12b671=_0x34a0aa;this[_0x12b671(0x35c)]&&(clearTimeout(this[_0x12b671(0x35c)]),delete this[_0x12b671(0x35c)]),delete this[_0x12b671(0x47f)],this[_0x12b671(0x6f1)][_0x12b671(0x411)]['close'](),this['remoteUnsubscriber'](),this['discoveryUnsubscriber'](),this[_0x12b671(0x6f1)]['mediator']['unregisterSystemSource'](this['configs']['localNode']),this['configs']['mediator'][_0x12b671(0x97c)](this),this['discoveryService'][_0x12b671(0x39a)]();}['getAncestorIds'](){const _0x273809=_0x34a0aa;return this[_0x273809(0x51a)];}[_0x34a0aa(0x917)](){const _0x497d4b=_0x34a0aa;return this[_0x497d4b(0x6f1)][_0x497d4b(0x411)][_0x497d4b(0x3ad)]();}['getLocalNode'](){const _0x271da8=_0x34a0aa;return this[_0x271da8(0x6f1)]['localNode'];}[_0x34a0aa(0x64d)](_0x3941ab){const _0x14c03b=_0x34a0aa,_0x15d705=Array[_0x14c03b(0x856)](this[_0x14c03b(0x6eb)]['getRemoteNodes']()[_0x14c03b(0x8ec)]())[_0x14c03b(0x285)](_0x238564=>_0x238564[_0x14c03b(0x935)]()===_0xb924e5['Online']);return _0x3941ab?_0x15d705[_0x14c03b(0x285)](_0x3941ab):_0x15d705;}async[_0x34a0aa(0x826)](){const _0xff44c5=_0x34a0aa;return this[_0xff44c5(0x51a)]=await this[_0xff44c5(0x4d7)][_0xff44c5(0x45b)](),this[_0xff44c5(0x51a)][_0xff44c5(0x831)]<this[_0xff44c5(0x6eb)][_0xff44c5(0x4a4)]()&&(this[_0xff44c5(0x6f1)][_0xff44c5(0x411)][_0xff44c5(0x4f2)](this[_0xff44c5(0x51a)]['length']+0x1),this[_0xff44c5(0xa45)]()),this['ancestors'];}[_0x34a0aa(0x609)](_0x28c95f,_0x1afea3){const _0x5c2037=_0x34a0aa,_0x57f9fa=this['configs'][_0x5c2037(0x411)][_0x5c2037(0x5e6)](),_0x447272=new Set(_0x57f9fa),_0x4a039d=Array[_0x5c2037(0x856)](_0x57f9fa)[_0x5c2037(0x285)](_0xd9550f=>_0xd9550f!==_0x28c95f)[_0x5c2037(0x403)](_0x5048f5=>({'id':_0x5048f5,'distance':0x1}));for(;_0x4a039d[_0x5c2037(0x831)]>0x0;){const _0x37b9ee=_0x4a039d[_0x5c2037(0x179)]();if(!_0x37b9ee)continue;if(_0x37b9ee['id']===_0x1afea3)return _0x37b9ee[_0x5c2037(0x56d)];const _0x2feb13=this[_0x5c2037(0x6eb)][_0x5c2037(0x8c4)](_0x37b9ee['id']);_0x2feb13&&_0x2feb13[_0x5c2037(0x935)]()!==_0xb924e5[_0x5c2037(0x65d)]&&_0x2feb13[_0x5c2037(0x5e6)]()[_0x5c2037(0x66c)](_0x11304a=>{const _0x1800b8=_0x5c2037;_0x447272['has'](_0x11304a)||(_0x447272['add'](_0x11304a),_0x4a039d[_0x1800b8(0x32e)]({'id':_0x11304a,'distance':_0x37b9ee[_0x1800b8(0x56d)]+0x1}));});}return-0x1;}[_0x34a0aa(0x38a)](_0x45ce20){const _0xf45394=_0x34a0aa;try{switch(_0x45ce20[_0xf45394(0x1f6)][_0xf45394(0x852)]){case _0xc6ed77[_0xf45394(0x54d)]:case _0xc6ed77[_0xf45394(0x58a)]:this['handleNodeUpdate'](_0x45ce20[_0xf45394(0x1f6)]),_0x17dbc7['log'](_0x5d2ed2[_0xf45394(0x221)],_0xf45394(0x8cf),'\x27'+this['configs']['localNode']['getId']()+',\x20'+_0x45ce20[_0xf45394(0x7b7)]+'\x27',_0x45ce20,_0x45ce20[_0xf45394(0x1f6)]);break;case _0xc6ed77['NodeLeave']:this[_0xf45394(0x3ff)](_0x45ce20['content']['id']),_0x17dbc7[_0xf45394(0x6cb)](_0x5d2ed2[_0xf45394(0x221)],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0xf45394(0x6f1)][_0xf45394(0x411)][_0xf45394(0x3ad)]()+',\x20'+_0x45ce20[_0xf45394(0x7b7)]+'\x27',_0x45ce20,_0x45ce20['content']);}}catch(_0x21a7f0){if(_0x21a7f0 instanceof _0x2e8877)return void _0x17dbc7[_0xf45394(0x6cb)](_0x5d2ed2[_0xf45394(0x221)],_0x21a7f0[_0xf45394(0x7e0)]);throw _0x21a7f0;}}[_0x34a0aa(0x182)](_0x595528){const _0x59d936=_0x34a0aa;switch(_0x595528['content']['type']){case _0x376bcb[_0x59d936(0x6a4)]:this[_0x59d936(0x483)](_0x595528['sourceId']),_0x17dbc7['log'](_0x5d2ed2[_0x59d936(0x221)],_0x59d936(0x9c0),'\x27'+this[_0x59d936(0x6f1)]['localNode'][_0x59d936(0x3ad)]()+',\x20'+_0x595528[_0x59d936(0x7b7)]+'\x27',_0x595528,_0x595528[_0x59d936(0x1f6)]);break;case _0x376bcb[_0x59d936(0x231)]:this[_0x59d936(0x803)](_0x595528['sourceId']),_0x17dbc7['log'](_0x5d2ed2[_0x59d936(0x221)],_0x59d936(0x1d3),this['configs'][_0x59d936(0x411)][_0x59d936(0x3ad)](),_0x595528,_0x595528['content']);}}[_0x34a0aa(0x4d4)](_0x228da0){const _0x466c78=_0x34a0aa;this[_0x466c78(0x196)](_0x228da0),this['notifyJoin'](_0x228da0);}[_0x34a0aa(0x3c7)](_0x37f6ef){const _0x41866d=_0x34a0aa;this[_0x41866d(0x6f1)][_0x41866d(0x411)][_0x41866d(0x7c8)](_0x37f6ef['id']),this[_0x41866d(0x75e)](_0x37f6ef['id']),this['notifyClusterNodeJoin'](_0x37f6ef);}[_0x34a0aa(0x444)](_0x5bdd9e){const _0xec86d0=_0x34a0aa,{id:_0x1948ee,metaData:_0x1fe6d9,rank:_0x134bfb,remoteConnections:_0x5f3ca4,version:_0x24679e}=_0x5bdd9e,_0x4a1166=this[_0xec86d0(0x6eb)]['getRemoteNode'](_0x1948ee);if(_0x4a1166){if(!(_0x24679e<=_0x4a1166[_0xec86d0(0xa3e)]())){if(_0x4a1166[_0xec86d0(0x933)](_0x5f3ca4),_0x4a1166[_0xec86d0(0x7a5)](_0x24679e),_0x4a1166[_0xec86d0(0x852)]===_0xb78473[_0xec86d0(0x7b3)][_0xec86d0(0x49a)]&&_0x1fe6d9[_0xec86d0(0x852)]===_0xb78473[_0xec86d0(0x7b3)][_0xec86d0(0x49a)]&&(_0x4a1166['setDisplayName'](_0x1fe6d9['displayName']),_0x4a1166[_0xec86d0(0x19c)](_0x1fe6d9[_0xec86d0(0x304)])),_0x134bfb&&_0x4a1166[_0xec86d0(0x4f2)](_0x134bfb),this[_0xec86d0(0x95f)](_0x1948ee,_0x134bfb),_0x4a1166['getStatus']()===_0xb924e5['Offline'])return _0x4a1166[_0xec86d0(0x5d9)](_0xb924e5[_0xec86d0(0x739)]),this[_0xec86d0(0xa45)](),void this[_0xec86d0(0x3c7)](_0x5bdd9e);this[_0xec86d0(0xa45)](),this[_0xec86d0(0xa2f)]({'id':_0x1948ee,'metaData':_0x1fe6d9,'remoteConnections':_0x5f3ca4,'version':_0x24679e});}}else this[_0xec86d0(0x4d4)](_0x5bdd9e);}['setLocalRank'](_0x7c3859,_0xf9b4de){const _0xd7fd50=_0x34a0aa;_0xf9b4de&&this[_0xd7fd50(0x51a)][_0xd7fd50(0x25d)](_0x7c3859)&&this[_0xd7fd50(0x6f1)][_0xd7fd50(0x411)][_0xd7fd50(0x4f2)](_0xf9b4de+this[_0xd7fd50(0x51a)][_0xd7fd50(0x87b)](_0x7c3859)+0x1);}[_0x34a0aa(0x483)](_0x1cac97){const _0x839fe4=_0x34a0aa;this[_0x839fe4(0x6f1)]['localNode']['addRemoteConnection'](_0x1cac97);}['createRemoteNode']({id:_0x327e18,metaData:_0x7207a4,rank:_0x561662,remoteConnections:_0xa7ebaa,version:_0x46a8a6}){const _0x566e19=_0x34a0aa;if(this[_0x566e19(0x6eb)]['hasRemoteNode'](_0x327e18))throw new _0x2e8877(_0x566e19(0x503)+_0x327e18);switch(_0x7207a4[_0x566e19(0x852)]){case _0xb78473[_0x566e19(0x7b3)][_0x566e19(0x49a)]:const {displayName:_0x4e6fbf,email:_0x464acb}=_0x7207a4;this[_0x566e19(0x6eb)]['setRemoteNode'](_0x327e18,new _0x1fdabf(_0x327e18,_0x4e6fbf,_0x464acb,new Set(_0xa7ebaa),_0x46a8a6,_0x561662));break;case _0xb78473[_0x566e19(0x7b3)]['Agent']:this[_0x566e19(0x6eb)][_0x566e19(0x6c2)](_0x327e18,new _0x4e659c(_0x327e18,new Set(_0xa7ebaa),_0x46a8a6,_0x561662));}const _0x218e34=this[_0x566e19(0x64d)](),_0x45c4b3=new Set(this['ancestors']);_0x218e34[_0x566e19(0x66c)](_0x18d843=>{const _0x1d7d43=_0x566e19;_0x45c4b3[_0x1d7d43(0x664)](_0x18d843[_0x1d7d43(0x3ad)]())&&_0x45c4b3['delete'](_0x18d843['getId']());}),0x0===_0x45c4b3[_0x566e19(0x57d)]&&this['resolveReady']&&(this[_0x566e19(0x2ad)]&&clearTimeout(this[_0x566e19(0x2ad)]),this[_0x566e19(0x2ad)]=setTimeout(()=>{const _0x4d2f1f=_0x566e19;this[_0x4d2f1f(0x4d5)]?.(!0x0),delete this['resolveReady'],delete this[_0x4d2f1f(0x5c7)];},0x7d0)),this['setLocalRank'](_0x327e18,_0x561662),this['processRank']();}[_0x34a0aa(0x75e)](_0x30fa55){const _0x1b858d=_0x34a0aa;this[_0x1b858d(0x9b5)][_0x1b858d(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x1b858d(0x221)],'content':{'type':_0xc6ed77[_0x1b858d(0x2b1)],'id':_0x30fa55}});}[_0x34a0aa(0x803)](_0x17a2be){const _0xeb0ed8=_0x34a0aa;this[_0xeb0ed8(0x9b5)]?.['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459[_0xeb0ed8(0x221)],'content':{'type':_0xc6ed77['NodeLeave'],'id':_0x17a2be}});}[_0x34a0aa(0x84c)](_0x548525){const _0x24de7c=_0x34a0aa;if(_0x548525===this[_0x24de7c(0x6f1)][_0x24de7c(0x411)][_0x24de7c(0x3ad)]())return this[_0x24de7c(0x6f1)][_0x24de7c(0x872)][_0x24de7c(0x3d5)]('cluster-disconnect',{'id':_0x548525}),this['configs'][_0x24de7c(0x872)][_0x24de7c(0x39a)]({'force':!0x0},!0x0),this[_0x24de7c(0x6f1)][_0x24de7c(0x872)][_0x24de7c(0x8f9)](),void this[_0x24de7c(0x6f1)]['mediator']['initialize']();this['publishNodeLeave'](_0x548525);}[_0x34a0aa(0x3ff)](_0x7e8704){const _0x4a058d=_0x34a0aa;this[_0x4a058d(0x51a)][_0x4a058d(0x25d)](_0x7e8704)?this[_0x4a058d(0x2ae)](_0x7e8704):this['configs'][_0x4a058d(0x411)]['getRemoteConnections']()['has'](_0x7e8704)&&this[_0x4a058d(0x5d7)](_0x7e8704),this['configs'][_0x4a058d(0x411)][_0x4a058d(0x423)](_0x7e8704);const _0x5617e7=Array[_0x4a058d(0x856)](this[_0x4a058d(0x5e7)][_0x4a058d(0x595)]())[_0x4a058d(0x3f0)](([,_0x31f3e6])=>_0x31f3e6==_0x31f3e6);_0x5617e7&&this[_0x4a058d(0x5e7)][_0x4a058d(0x9c4)](_0x5617e7[0x0]);const _0x282a58=this['graphService'][_0x4a058d(0x8c4)](_0x7e8704);if(!_0x282a58)return;const _0x547f57=_0x282a58['getRank'](),_0x28716b=this[_0x4a058d(0x6f1)]['localNode'][_0x4a058d(0x88c)]();_0x28716b&&_0x547f57&&_0x547f57<_0x28716b&&this['configs'][_0x4a058d(0x411)]['setRank'](_0x28716b-0x1,!0x1),Array['from'](this[_0x4a058d(0x6eb)]['getRemoteNodes']()['values']())[_0x4a058d(0x66c)](_0x1e37cf=>{const _0x15b089=_0x4a058d,_0x148a66=_0x1e37cf[_0x15b089(0x88c)]();_0x148a66&&_0x547f57&&_0x547f57<_0x148a66&&_0x1e37cf['setRank'](_0x148a66-0x1);}),_0x282a58[_0x4a058d(0x5d9)](_0xb924e5[_0x4a058d(0x65d)]),this[_0x4a058d(0x6f1)]['mediator'][_0x4a058d(0x3d5)](_0x282a58[_0x4a058d(0x852)]+_0x4a058d(0x5b7),{'id':_0x7e8704});}['notifyClusterNodeJoin']({id:_0x3510b0,metaData:_0x755005,remoteConnections:_0x1e17d8}){const _0x234746=_0x34a0aa;switch(_0x755005['type']){case _0xb78473['NodeType'][_0x234746(0x49a)]:this[_0x234746(0x6f1)]['mediator'][_0x234746(0x3d5)](_0x234746(0x1f7),{'id':_0x3510b0,'metaData':_0x755005,'remoteConnections':_0x1e17d8});break;case _0xb78473[_0x234746(0x7b3)]['Agent']:this[_0x234746(0x6f1)][_0x234746(0x872)][_0x234746(0x3d5)]('agent-join',{'id':_0x3510b0,'metaData':_0x755005,'remoteConnections':_0x1e17d8});}}[_0x34a0aa(0xa2f)]({id:_0x5e18df,metaData:_0xc11131,remoteConnections:_0x48b420}){const _0x46a3fa=_0x34a0aa;switch(_0xc11131[_0x46a3fa(0x852)]){case _0xb78473[_0x46a3fa(0x7b3)][_0x46a3fa(0x49a)]:this[_0x46a3fa(0x6f1)][_0x46a3fa(0x872)][_0x46a3fa(0x3d5)](_0x46a3fa(0x6f9),{'id':_0x5e18df,'metaData':_0xc11131,'remoteConnections':_0x48b420});break;case _0xb78473[_0x46a3fa(0x7b3)]['Agent']:this[_0x46a3fa(0x6f1)][_0x46a3fa(0x872)][_0x46a3fa(0x3d5)]('agent-update',{'id':_0x5e18df,'metaData':_0xc11131,'remoteConnections':_0x48b420});}}[_0x34a0aa(0xa45)](){const _0x2f6897=_0x34a0aa;if(this[_0x2f6897(0x47f)]||(this['lastProcessRank']=Date[_0x2f6897(0x517)]()),this[_0x2f6897(0x35c)]){if(Date[_0x2f6897(0x517)]()-this[_0x2f6897(0x47f)]>0x2328)return;clearTimeout(this[_0x2f6897(0x35c)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x249882=_0x2f6897;delete this[_0x249882(0x47f)],delete this['debounceProcessRank'];const _0x337cde=this['configs'][_0x249882(0x411)][_0x249882(0x88c)]();if(!_0x337cde)return;const _0x43cf4b=this[_0x249882(0x6eb)][_0x249882(0x954)](this[_0x249882(0x6eb)][_0x249882(0x64d)]()[_0x249882(0x57d)]);if(this[_0x249882(0x5e7)][_0x249882(0x57d)]>=_0x43cf4b)return;let _0x50b42a=0x1;for(;this[_0x249882(0x6f1)][_0x249882(0x872)]['getConnections']()[_0x249882(0x831)]<this[_0x249882(0x6eb)][_0x249882(0x2f6)]()&&_0x50b42a<=_0x43cf4b;){if(this[_0x249882(0x5e7)][_0x249882(0x664)](_0x50b42a)){_0x50b42a+=0x1;continue;}const _0x1580b4=this[_0x249882(0x6eb)][_0x249882(0x8e6)](_0x337cde,_0x50b42a),_0x471d45=Array[_0x249882(0x856)](this[_0x249882(0x6eb)][_0x249882(0x64d)]()[_0x249882(0x8ec)]())[_0x249882(0x3f0)](_0x298481=>_0x298481[_0x249882(0x88c)]()===_0x1580b4&&_0x298481[_0x249882(0x935)]()===_0xb924e5[_0x249882(0x739)]);if(_0x471d45){try{await this[_0x249882(0x6f1)][_0x249882(0x872)][_0x249882(0x287)](_0x471d45['getId'](),_0x12973d[_0x249882(0x410)]),this[_0x249882(0x5e7)][_0x249882(0x286)](_0x50b42a,_0x471d45[_0x249882(0x3ad)]());}catch(_0x1b8c01){if(!(_0x1b8c01 instanceof _0x4e89dd&&_0x1b8c01[_0x249882(0x99d)]===_0x4e89dd[_0x249882(0x4ea)][_0x249882(0x81d)]))throw _0x1b8c01;_0x17dbc7[_0x249882(0x6cb)](_0x5d2ed2['Node'],this[_0x249882(0x6f1)][_0x249882(0x411)][_0x249882(0x3ad)](),_0x471d45[_0x249882(0x3ad)](),_0x1b8c01[_0x249882(0x7e0)]);}_0x50b42a+=0x1;}else _0x50b42a+=0x1;}},0x3e8);}async[_0x34a0aa(0x2ae)](_0x5794b4){const _0xefa16e=_0x34a0aa;this[_0xefa16e(0x51a)]['splice'](this[_0xefa16e(0x51a)][_0xefa16e(0x87b)](_0x5794b4),0x1);const _0x268620=await this['discoveryService'][_0xefa16e(0x26c)]();for(const _0x2b9af1 of _0x268620)if(!this[_0xefa16e(0x51a)]['includes'](_0x2b9af1)){const _0x60a149=Array[_0xefa16e(0x856)](this[_0xefa16e(0x5e7)][_0xefa16e(0x595)]())['find'](([,_0x2be269])=>_0x2be269===_0x2b9af1);_0x60a149&&this['optimizationLayers'][_0xefa16e(0x9c4)](_0x60a149[0x0]),this[_0xefa16e(0x6f1)][_0xefa16e(0x872)][_0xefa16e(0x287)](_0x2b9af1,_0x12973d[_0xefa16e(0x3db)]);}0x0===_0x268620['length']&&this['configs'][_0xefa16e(0x411)][_0xefa16e(0x4f2)](0x1),this['ancestors']=_0x268620;}async[_0x34a0aa(0x5d7)](_0x133030){const _0x3e5a57=_0x34a0aa,_0xf84ae=this[_0x3e5a57(0x6f1)][_0x3e5a57(0x411)]['getRank']();if(!_0xf84ae)return;const _0x25de26=this['graphService'][_0x3e5a57(0x8c4)](_0x133030);if(!_0x25de26||_0x25de26[_0x3e5a57(0x935)]()===_0xb924e5[_0x3e5a57(0x65d)])return;const _0x2916b3=_0x25de26[_0x3e5a57(0x88c)]();if(!_0x2916b3||_0x2916b3<_0xf84ae)return;const _0x38e411=this['getOutgoingOptimizationConnections'](this[_0x3e5a57(0x6f1)][_0x3e5a57(0x411)][_0x3e5a57(0x5e6)](),_0xf84ae),_0xafbe0d=this['getOutgoingOptimizationConnections'](_0x25de26[_0x3e5a57(0x5e6)](),_0x2916b3)[_0x38e411[_0x3e5a57(0x1ba)](([_0x3010a1])=>_0x3010a1===_0x133030)];if(!_0xafbe0d||this['configs'][_0x3e5a57(0x411)][_0x3e5a57(0x5e6)]()['has'](_0xafbe0d[0x0]))return;const _0x1ad298=this[_0x3e5a57(0x6eb)][_0x3e5a57(0x8c4)](_0xafbe0d[0x0]);if(_0x1ad298&&_0x1ad298[_0x3e5a57(0x935)]()!==_0xb924e5[_0x3e5a57(0x65d)])try{await this[_0x3e5a57(0x6f1)][_0x3e5a57(0x872)][_0x3e5a57(0x287)](_0xafbe0d[0x0],_0x12973d[_0x3e5a57(0x410)]);const _0x2b487c=Array[_0x3e5a57(0x856)](this[_0x3e5a57(0x5e7)]['entries']())[_0x3e5a57(0x3f0)](([,_0x85d59a])=>_0x85d59a===_0x133030);_0x2b487c&&this[_0x3e5a57(0x5e7)][_0x3e5a57(0x286)](_0x2b487c[0x0],_0xafbe0d[0x0]);}catch(_0x28038a){if(!(_0x28038a instanceof _0x4e89dd&&_0x28038a[_0x3e5a57(0x99d)]===_0x4e89dd[_0x3e5a57(0x4ea)][_0x3e5a57(0x81d)]))throw _0x28038a;_0x17dbc7[_0x3e5a57(0x6cb)](_0x5d2ed2[_0x3e5a57(0x221)],this[_0x3e5a57(0x6f1)]['localNode'][_0x3e5a57(0x3ad)](),_0xafbe0d[0x0],_0x28038a[_0x3e5a57(0x7e0)]);}}[_0x34a0aa(0x7aa)](_0x124e52,_0x23cd31){const _0x4ffee4=_0x34a0aa;return Array[_0x4ffee4(0x856)](_0x124e52)[_0x4ffee4(0x25c)]((_0x58a87e,_0x52b50a)=>{const _0x11bb04=_0x4ffee4,_0x230fef=this[_0x11bb04(0x6eb)][_0x11bb04(0x8c4)](_0x52b50a);if(!_0x230fef||_0x230fef[_0x11bb04(0x935)]()===_0xb924e5[_0x11bb04(0x65d)])return _0x58a87e;const _0x3c9c31=_0x230fef[_0x11bb04(0x88c)]();if(!_0x3c9c31)return _0x58a87e;const _0x11d2e=_0x3c9c31-_0x23cd31;return _0x11d2e<=this[_0x11bb04(0x6eb)]['getMinConnections']()||_0x58a87e[_0x11bb04(0x32e)]([_0x52b50a,_0x11d2e]),_0x58a87e;},[])[_0x4ffee4(0x9b6)](([,_0x2cf8f3],[,_0x103b81])=>_0x2cf8f3-_0x103b81);}}const _0x2ec5d1=[{'problemType':_0x3c3e8c[_0x34a0aa(0x1a1)],'remediations':[{'type':_0x525d63[_0x34a0aa(0x785)],'component':_0x17629b[_0x34a0aa(0x431)],'action':_0x8df199[_0x34a0aa(0x2ac)]},{'type':_0x525d63[_0x34a0aa(0x894)],'component':_0x17629b['Resolution'],'action':_0x8df199[_0x34a0aa(0x2ac)]}]},{'problemType':_0x3c3e8c[_0x34a0aa(0x6ee)],'remediations':[{'type':_0x525d63['Remediation'],'component':_0x17629b[_0x34a0aa(0x431)],'action':_0x8df199['Downgrade']}]},{'problemType':_0x3c3e8c[_0x34a0aa(0x16a)],'remediations':[{'type':_0x525d63[_0x34a0aa(0x785)],'component':_0x17629b[_0x34a0aa(0x431)],'action':_0x8df199[_0x34a0aa(0x2ac)]}]},{'problemType':_0x3c3e8c['FramePerSecond'],'remediations':[{'type':_0x525d63[_0x34a0aa(0x785)],'component':_0x17629b['Resolution'],'action':_0x8df199[_0x34a0aa(0x2ac)]}]},{'problemType':_0x3c3e8c['Bitrate'],'remediations':[{'type':_0x525d63[_0x34a0aa(0x785)],'component':_0x17629b['Bitrate'],'action':_0x8df199['Downgrade']}]},{'problemType':_0x3c3e8c[_0x34a0aa(0x1f4)],'remediations':[{'type':_0x525d63[_0x34a0aa(0x785)],'component':_0x17629b[_0x34a0aa(0x981)],'action':_0x8df199[_0x34a0aa(0x2ac)]}]},{'problemType':_0x3c3e8c[_0x34a0aa(0x1d5)],'remediations':[{'type':_0x525d63['Remediation'],'component':_0x17629b[_0x34a0aa(0x981)],'action':_0x8df199[_0x34a0aa(0x2ac)]}]}];class _0x4423a1{[_0x34a0aa(0x6f1)];['systemTopic'];[_0x34a0aa(0xa3c)]=new Map();constructor(_0x3bb520){const _0x5b1bdb=_0x34a0aa;this['configs']=_0x3bb520,this['configs']['mediator'][_0x5b1bdb(0x7f7)](this);}[_0x34a0aa(0x39a)](){const _0x5ad22=_0x34a0aa;this[_0x5ad22(0x6f1)][_0x5ad22(0x872)][_0x5ad22(0x97c)](this);}[_0x34a0aa(0x58f)](_0x3a5ae7){const _0xadeacb=_0x34a0aa;this[_0xadeacb(0x9b5)]=_0x3a5ae7;}[_0x34a0aa(0x5f8)](){const _0x8c7b58=_0x34a0aa;delete this[_0x8c7b58(0x9b5)];}[_0x34a0aa(0x89b)](_0x1a5cf6){const _0x277eb8=_0x34a0aa;_0x1a5cf6[_0x277eb8(0x1f6)][_0x277eb8(0x852)]===_0x47bc5e[_0x277eb8(0x8a6)]&&this[_0x277eb8(0x5d4)](_0x1a5cf6[_0x277eb8(0x1f6)][_0x277eb8(0x1ad)]);}['handleRemediationSystemEvents'](_0x573f10){const _0x468b28=_0x34a0aa;_0x573f10['content'][_0x468b28(0x852)]===_0x525d63[_0x468b28(0x894)]&&this[_0x468b28(0x9c5)](_0x573f10[_0x468b28(0x7b7)],{'type':_0x525d63[_0x468b28(0x785)],'component':_0x573f10[_0x468b28(0x1f6)][_0x468b28(0x1ad)]['component'],'action':_0x573f10[_0x468b28(0x1f6)]['data'][_0x468b28(0x379)]});}[_0x34a0aa(0x5d4)](_0x3f26f1){const _0x22be8a=_0x34a0aa,_0x33366e=_0x2ec5d1['find'](_0x1a25ef=>_0x1a25ef[_0x22be8a(0x72e)]===_0x3f26f1[_0x22be8a(0x852)]);_0x33366e[_0x22be8a(0x1e5)]?.[_0x22be8a(0x66c)](_0x4646be=>{const _0x779f61=_0x22be8a;this[_0x779f61(0x9c5)](_0x3f26f1[_0x779f61(0x2af)],{'type':_0x3f26f1[_0x779f61(0x8d2)]===_0x17021b[_0x779f61(0x80e)]?_0x525d63[_0x779f61(0x785)]:_0x525d63[_0x779f61(0x894)],'component':_0x4646be['component'],'action':_0x4646be[_0x779f61(0x379)]});});}['applyRemediation'](_0x41f8c5,_0x185a2d){const _0x5f07c5=_0x34a0aa;if(_0x185a2d[_0x5f07c5(0x852)]===_0x525d63['Remediation']){const _0x4b92fd=Date[_0x5f07c5(0x517)](),_0x5d1f0e=this[_0x5f07c5(0xa3c)]['get'](_0x41f8c5);if(_0x5d1f0e&&_0x4b92fd-_0x5d1f0e<0x1388)return;this['lastRemediations'][_0x5f07c5(0x286)](_0x41f8c5,_0x4b92fd);}_0x17dbc7[_0x5f07c5(0x6cb)](_0x5d2ed2[_0x5f07c5(0x785)],_0x5f07c5(0x6a5),_0x185a2d),_0x17dbc7[_0x5f07c5(0x582)](_0x5f07c5(0x858),{'clusterId':this[_0x5f07c5(0x6f1)][_0x5f07c5(0x222)],'nodeId':this[_0x5f07c5(0x6f1)]['localNode'][_0x5f07c5(0x3ad)](),'nodeType':this[_0x5f07c5(0x6f1)][_0x5f07c5(0x411)][_0x5f07c5(0x852)],'remoteId':_0x41f8c5,'data':{'type':_0x185a2d[_0x5f07c5(0x852)],'component':_0x185a2d[_0x5f07c5(0x864)],'action':_0x185a2d[_0x5f07c5(0x379)]}});let _0x534539,_0x3e21c7=_0x5a8dca;_0x185a2d[_0x5f07c5(0x852)]===_0x525d63[_0x5f07c5(0x894)]&&(_0x3e21c7=this['configs'][_0x5f07c5(0x411)][_0x5f07c5(0x3ad)](),_0x534539=[_0x41f8c5]),this[_0x5f07c5(0x9b5)][_0x5f07c5(0x5c0)]({'sourceId':_0x3e21c7,'destinationIds':_0x534539,'messageType':_0x174459[_0x5f07c5(0x785)],'content':{'type':_0x185a2d['type'],'targetId':_0x41f8c5,'data':_0x185a2d}});}}const _0x235547=0x3e8,_0x219e49=0x7530,_0x1f888a='outbound-rtp',_0x6abbc6=_0x34a0aa(0x4a9),_0x50785d=_0x34a0aa(0x1a8),_0x56b975=[_0x1f888a,_0x6abbc6],_0x8a36cb=[_0x50785d];class _0x5587cc{[_0x34a0aa(0x516)]=0x0;['estimatedPlayoutTimestamp']=0x0;['jitter']=0x0;['packetsLost']=0x0;['packets']=0x0;['currentTimestamp']=0x0;[_0x34a0aa(0x35e)]=0x0;[_0x34a0aa(0x6e1)]=0x0;[_0x34a0aa(0x166)]=0x0;get['bitrate'](){const _0x16c148=_0x34a0aa;return this[_0x16c148(0x703)]>0x0&&this[_0x16c148(0x35e)]>0x0&&Date['now']()-this[_0x16c148(0x703)]<_0x219e49?(this['currentBytes']-this[_0x16c148(0x166)])/(this[_0x16c148(0x703)]-this[_0x16c148(0x35e)])*0x8*0x3e8:0x0;}[_0x34a0aa(0x48b)](_0x1dd313){const _0x1960ca=_0x34a0aa;switch(_0x1dd313[_0x1960ca(0x852)]){case _0x50785d:this['processInboundReport'](_0x1dd313);break;case _0x1f888a:this[_0x1960ca(0x61e)](_0x1dd313);break;case _0x6abbc6:this['processRemoteInboundReport'](_0x1dd313);}}[_0x34a0aa(0x435)](){const _0x17edd5=_0x34a0aa;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x17edd5(0x9fc)](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x17edd5(0x44d)]};}[_0x34a0aa(0x6f4)](_0x546d70){const _0x4624c1=_0x34a0aa;this[_0x4624c1(0x8d9)](_0x546d70[_0x4624c1(0x75a)]),this[_0x4624c1(0x732)](_0x546d70[_0x4624c1(0x6a3)]),this[_0x4624c1(0x634)]=_0x546d70[_0x4624c1(0x36b)],this[_0x4624c1(0x365)]=_0x546d70[_0x4624c1(0x365)],void 0x0!==_0x546d70[_0x4624c1(0x44d)]?this[_0x4624c1(0x44d)]=_0x546d70[_0x4624c1(0x44d)]:this[_0x4624c1(0x44d)]=0x0,void 0x0!==_0x546d70['estimatedPlayoutTimestamp']?this[_0x4624c1(0x2c2)]=_0x546d70[_0x4624c1(0x2c2)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x34a0aa(0x61e)](_0x145a00){const _0x5e3484=_0x34a0aa;this['setBytes'](_0x145a00['bytesSent']),this[_0x5e3484(0x732)](_0x145a00['timestamp']),this[_0x5e3484(0x634)]=_0x145a00[_0x5e3484(0x922)];}['processRemoteInboundReport'](_0x50d795){const _0x2428e3=_0x34a0aa;this[_0x2428e3(0x516)]=0x3e8*_0x50d795[_0x2428e3(0x516)],void 0x0!==_0x50d795['jitter']?this[_0x2428e3(0x44d)]=_0x50d795[_0x2428e3(0x44d)]:this[_0x2428e3(0x44d)]=0x0;}[_0x34a0aa(0x9fc)](){const _0x3320ad=_0x34a0aa;return this['packets']>0x0?this[_0x3320ad(0x365)]/this[_0x3320ad(0x634)]:0x0;}[_0x34a0aa(0x732)](_0x58e080){const _0x288680=_0x34a0aa;_0x58e080>this['currentTimestamp']&&(this[_0x288680(0x35e)]=this['currentTimestamp'],this[_0x288680(0x703)]=_0x58e080);}[_0x34a0aa(0x8d9)](_0x59650e){const _0x50282c=_0x34a0aa;this[_0x50282c(0x166)]=this['currentBytes'],this[_0x50282c(0x6e1)]=_0x59650e;}}class _0x51b6b5 extends _0x5587cc{}class _0x1be2b0 extends _0x5587cc{[_0x34a0aa(0x1e4)]=0x0;[_0x34a0aa(0x750)]=0x0;[_0x34a0aa(0x543)]=0x0;[_0x34a0aa(0x78d)]=0x0;['previousFrames']=0x0;get[_0x34a0aa(0x295)](){const _0x2a7293=_0x34a0aa;return this['currentTimestamp']>0x0&&this[_0x2a7293(0x35e)]>0x0&&Date['now']()-this['currentTimestamp']<_0x219e49?(this[_0x2a7293(0x78d)]-this[_0x2a7293(0x23a)])/(this[_0x2a7293(0x703)]-this['previousTimestamp'])*0x3e8:0x0;}get['timePerFrame'](){const _0x566d30=_0x34a0aa;return this['frameTime']&&this[_0x566d30(0x78d)]&&this['currentFrames']>0x0?this[_0x566d30(0x1e4)]/this['currentFrames']:0x0;}set[_0x34a0aa(0x5fb)](_0x52f1f5){const _0x2cb8ad=_0x34a0aa;this[_0x2cb8ad(0x23a)]=this[_0x2cb8ad(0x78d)],this[_0x2cb8ad(0x78d)]=_0x52f1f5;}[_0x34a0aa(0x435)](){const _0x1408ec=_0x34a0aa;return{...super[_0x1408ec(0x435)](),'FPS':this[_0x1408ec(0x295)],'timePerFrame':this[_0x1408ec(0x1be)],'frameWidth':this[_0x1408ec(0x750)],'frameHeight':this[_0x1408ec(0x543)]};}['processInboundReport'](_0x32d098){const _0x4fc5db=_0x34a0aa;super['processInboundReport'](_0x32d098),this['frameTime']=_0x32d098['totalDecodeTime'],this[_0x4fc5db(0x5fb)]=_0x32d098[_0x4fc5db(0x514)],this['frameWidth']=_0x32d098['frameWidth'],this[_0x4fc5db(0x543)]=_0x32d098[_0x4fc5db(0x543)];}[_0x34a0aa(0x61e)](_0x584ddf){const _0x5a5261=_0x34a0aa;super[_0x5a5261(0x61e)](_0x584ddf),this[_0x5a5261(0x1e4)]=_0x584ddf[_0x5a5261(0x70d)],this['frames']=_0x584ddf[_0x5a5261(0x327)],this[_0x5a5261(0x750)]=_0x584ddf[_0x5a5261(0x750)],this[_0x5a5261(0x543)]=_0x584ddf[_0x5a5261(0x543)];}}class _0x5ead0b{[_0x34a0aa(0x9d3)]=new _0x51b6b5();[_0x34a0aa(0x827)]=new _0x1be2b0();get[_0x34a0aa(0x4c5)](){const _0x42f817=_0x34a0aa;return this['audio'][_0x42f817(0x4c5)]+this[_0x42f817(0x827)][_0x42f817(0x4c5)];}[_0x34a0aa(0x56a)](_0x37823b){const _0x145968=_0x34a0aa;return _0x37823b[_0x145968(0x66c)](_0x71b34b=>{const _0x4cc9c4=_0x145968;switch(_0x71b34b[_0x4cc9c4(0x6ea)]){case _0x4cc9c4(0x9d3):this[_0x4cc9c4(0x9d3)][_0x4cc9c4(0x48b)](_0x71b34b);break;case _0x4cc9c4(0x827):this[_0x4cc9c4(0x827)][_0x4cc9c4(0x48b)](_0x71b34b);}}),this[_0x145968(0x435)]();}[_0x34a0aa(0x435)](){const _0x39b3c7=_0x34a0aa;return{'audio':this[_0x39b3c7(0x9d3)]['getReport'](),'video':this['video'][_0x39b3c7(0x435)](),'roundTripTime':this[_0x39b3c7(0x812)](),'AudioVideoDelay':this[_0x39b3c7(0x684)](),'bitrate':this[_0x39b3c7(0x4c5)]};}[_0x34a0aa(0x812)](){const _0x17bcbc=_0x34a0aa;return Math[_0x17bcbc(0x82e)]((this[_0x17bcbc(0x9d3)][_0x17bcbc(0x516)]+this[_0x17bcbc(0x827)][_0x17bcbc(0x516)])/0x2);}[_0x34a0aa(0x684)](){const _0x4f8f40=_0x34a0aa;return this[_0x4f8f40(0x9d3)]['estimatedPlayoutTimestamp']-this['video']['estimatedPlayoutTimestamp'];}}class _0x40baa6{[_0x34a0aa(0x8e9)]=0x0;[_0x34a0aa(0x9c2)]=0x0;[_0x34a0aa(0x2a6)]=0x0;[_0x34a0aa(0x735)]=0x0;[_0x34a0aa(0x44b)]=0x0;[_0x34a0aa(0x454)]=0x0;[_0x34a0aa(0x564)]=0x0;['receiverPreviousBytes']=0x0;['senderTotalMessages']=0x0;[_0x34a0aa(0x7ea)]=0x0;[_0x34a0aa(0x85a)]=0x0;[_0x34a0aa(0x575)]=0x0;[_0x34a0aa(0x516)]=0x0;get['bitrate'](){const _0x117114=_0x34a0aa;return this[_0x117114(0x7a8)]+this['receiverBitrate'];}get[_0x34a0aa(0x7a8)](){const _0x4da82a=_0x34a0aa;return this[_0x4da82a(0x8e9)]>0x0&&this[_0x4da82a(0x9c2)]>0x0&&Date[_0x4da82a(0x517)]()-this[_0x4da82a(0x8e9)]<_0x219e49?(this[_0x4da82a(0x44b)]-this['senderPreviousBytes'])/(this[_0x4da82a(0x8e9)]-this[_0x4da82a(0x9c2)])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x45bd4d=_0x34a0aa;return this[_0x45bd4d(0x2a6)]>0x0&&this[_0x45bd4d(0x735)]>0x0&&Date[_0x45bd4d(0x517)]()-this[_0x45bd4d(0x2a6)]<_0x219e49?(this[_0x45bd4d(0x564)]-this['receiverPreviousBytes'])/(this[_0x45bd4d(0x2a6)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}[_0x34a0aa(0x48b)](_0x5c1bac){const _0x18379b=_0x34a0aa;switch(_0x5c1bac[_0x18379b(0x8d2)]){case _0x17021b[_0x18379b(0x80e)]:this[_0x18379b(0x692)](_0x5c1bac);break;case _0x17021b['Receiver']:this[_0x18379b(0x269)](_0x5c1bac);}}['getReport'](){const _0x117f55=_0x34a0aa;return{'bitrate':this[_0x117f55(0x4c5)],'senderBitrate':this[_0x117f55(0x7a8)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x117f55(0x947)](),'senderTotalBytes':this[_0x117f55(0x7ac)](),'receiverTotalBytes':this[_0x117f55(0x708)](),'totalMessages':this['senderTotalMessages']+this['receiverTotalMessages'],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this['senderTimeProcessing']+this[_0x117f55(0x575)],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this[_0x117f55(0x575)],'roundTripTime':this[_0x117f55(0x516)]};}[_0x34a0aa(0x947)](){const _0x159c2b=_0x34a0aa;return this['senderCurrentBytes']+this[_0x159c2b(0x564)];}[_0x34a0aa(0x7ac)](){const _0x1ed30d=_0x34a0aa;return this[_0x1ed30d(0x44b)];}[_0x34a0aa(0x708)](){const _0x1d1bba=_0x34a0aa;return this[_0x1d1bba(0x564)];}[_0x34a0aa(0x692)](_0x947b4c){const _0x18cc9e=_0x34a0aa;this['setSenderTimestamp'](_0x947b4c['timestamp']),this[_0x18cc9e(0x8d9)](_0x947b4c['bytesSent']),this['senderTotalMessages']=_0x947b4c[_0x18cc9e(0x9b0)],this['senderTimeProcessing']=_0x947b4c['timeSending'],this[_0x18cc9e(0x516)]=_0x947b4c['roundTripTime'];}[_0x34a0aa(0x269)](_0x553eaa){const _0x2180e5=_0x34a0aa;this[_0x2180e5(0x384)](_0x553eaa[_0x2180e5(0x6a3)]),this[_0x2180e5(0x7ec)](_0x553eaa['bytesReceived']),this['receiverTotalMessages']=_0x553eaa[_0x2180e5(0x204)],this[_0x2180e5(0x575)]=_0x553eaa[_0x2180e5(0x5b6)];}['setSenderTimestamp'](_0xbcfa3a){const _0x26ec66=_0x34a0aa;_0xbcfa3a>this[_0x26ec66(0x8e9)]&&(this[_0x26ec66(0x9c2)]=this[_0x26ec66(0x8e9)],this['senderCurrentTimestamp']=_0xbcfa3a);}['setReceiverTimestamp'](_0x427da8){const _0x25d08b=_0x34a0aa;_0x427da8>this[_0x25d08b(0x2a6)]&&(this[_0x25d08b(0x735)]=this[_0x25d08b(0x2a6)],this[_0x25d08b(0x2a6)]=_0x427da8);}[_0x34a0aa(0x8d9)](_0x2ffd4a){const _0x11e4b3=_0x34a0aa;this[_0x11e4b3(0x454)]=this[_0x11e4b3(0x44b)],this[_0x11e4b3(0x44b)]=_0x2ffd4a;}['setReceiverBytes'](_0x153e3a){const _0x1870fb=_0x34a0aa;this['receiverPreviousBytes']=this[_0x1870fb(0x564)],this[_0x1870fb(0x564)]=_0x153e3a;}}class _0x44b592{['senderStreams']=new Map();[_0x34a0aa(0x332)]=new Map();[_0x34a0aa(0x999)]=new _0x40baa6();get[_0x34a0aa(0x7a8)](){const _0x4469a7=_0x34a0aa;let _0x513fae=0x0;return this[_0x4469a7(0x291)][_0x4469a7(0x66c)](_0xdd2187=>{const _0x2bb0e0=_0x4469a7;_0x513fae+=_0xdd2187[_0x2bb0e0(0x4c5)];}),_0x513fae+=this[_0x4469a7(0x999)][_0x4469a7(0x7a8)],_0x513fae;}get[_0x34a0aa(0x9b4)](){const _0x3f1fbe=_0x34a0aa;let _0x4df71f=0x0;return this[_0x3f1fbe(0x332)][_0x3f1fbe(0x66c)](_0x507059=>{const _0x32d0e2=_0x3f1fbe;_0x4df71f+=_0x507059[_0x32d0e2(0x4c5)];}),_0x4df71f+=this[_0x3f1fbe(0x999)]['receiverBitrate'],_0x4df71f;}get[_0x34a0aa(0x4c5)](){const _0x3e37e7=_0x34a0aa;return this['senderBitrate']+this[_0x3e37e7(0x9b4)];}[_0x34a0aa(0x56a)](_0x2367d2,_0x483ce7){const _0x2dbe9c=_0x34a0aa,_0x137d0b=[],_0x502a47=[];return _0x2367d2 instanceof Array?_0x2367d2[_0x2dbe9c(0x66c)](_0x585146=>{const _0x428f62=_0x2dbe9c;_0x585146[_0x428f62(0x66c)](_0x5d7d8f=>{const _0xa6302f=_0x428f62;_0x8a36cb[_0xa6302f(0x25d)](_0x5d7d8f[_0xa6302f(0x852)])&&_0x137d0b[_0xa6302f(0x32e)](_0x5d7d8f),_0x56b975[_0xa6302f(0x25d)](_0x5d7d8f[_0xa6302f(0x852)])&&_0x502a47[_0xa6302f(0x32e)](_0x5d7d8f);});}):this[_0x2dbe9c(0x999)][_0x2dbe9c(0x48b)](_0x2367d2),_0x137d0b[_0x2dbe9c(0x831)]>0x0&&_0x483ce7?{...this[_0x2dbe9c(0x400)](_0x483ce7,_0x137d0b),'origin':_0x17021b[_0x2dbe9c(0x5ca)],'streamId':_0x483ce7}:_0x502a47[_0x2dbe9c(0x831)]>0x0&&_0x483ce7?{...this[_0x2dbe9c(0x1ff)](_0x483ce7,_0x502a47),'origin':_0x17021b[_0x2dbe9c(0x80e)],'streamId':_0x483ce7}:void 0x0;}[_0x34a0aa(0x435)](){const _0x4953ef=_0x34a0aa,_0x256e5b={};this[_0x4953ef(0x291)]['forEach']((_0x59ad5d,_0x10cac1)=>{const _0x36672c=_0x4953ef;_0x256e5b[_0x10cac1]=_0x59ad5d[_0x36672c(0x435)]();});const _0x51fb82={};return this[_0x4953ef(0x332)][_0x4953ef(0x66c)]((_0x5ce79d,_0x55e136)=>{const _0x29a692=_0x4953ef;_0x51fb82[_0x55e136]=_0x5ce79d[_0x29a692(0x435)]();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0x4953ef(0x7a8)],'receiverBitrate':this[_0x4953ef(0x9b4)],'senderStreams':_0x256e5b,'receiverStreams':_0x51fb82,'dataChannel':this[_0x4953ef(0x999)][_0x4953ef(0x435)]()};}[_0x34a0aa(0x400)](_0x1d81bb,_0x16cda3){const _0x11ad59=_0x34a0aa;return this[_0x11ad59(0x332)][_0x11ad59(0x664)](_0x1d81bb)||this['receiverStreams'][_0x11ad59(0x286)](_0x1d81bb,new _0x5ead0b()),this[_0x11ad59(0x332)][_0x11ad59(0x56b)](_0x1d81bb)[_0x11ad59(0x56a)](_0x16cda3);}[_0x34a0aa(0x1ff)](_0x332793,_0x4ec895){const _0x58d9ee=_0x34a0aa;return this[_0x58d9ee(0x291)][_0x58d9ee(0x664)](_0x332793)||this[_0x58d9ee(0x291)][_0x58d9ee(0x286)](_0x332793,new _0x5ead0b()),this[_0x58d9ee(0x291)][_0x58d9ee(0x56b)](_0x332793)[_0x58d9ee(0x56a)](_0x4ec895);}}class _0x2acbf4{[_0x34a0aa(0x748)]=new Map();[_0x34a0aa(0x755)]=0x0;[_0x34a0aa(0x311)]=0x0;[_0x34a0aa(0x89a)]=new Map();[_0x34a0aa(0x76e)]=new Map();['keyValueDatabases']=new Map();[_0x34a0aa(0x200)]=new Map();[_0x34a0aa(0x45a)]=new Map();['vectorDatabases']=new Map();[_0x34a0aa(0x250)]=new Map();[_0x34a0aa(0x83d)]=new Map();[_0x34a0aa(0x9e9)]=new Map();[_0x34a0aa(0x7ea)]=new Map();['senderTimeProcessing']=new Map();[_0x34a0aa(0x575)]=new Map();[_0x34a0aa(0x676)]=new Map();[_0x34a0aa(0x9b5)];[_0x34a0aa(0x435)](){const _0x11f111=_0x34a0aa,_0xd0bd2c={};this['nodes']['forEach']((_0x2032e3,_0x1ad8b3)=>{const _0x1eb84b=a0_0x1d5b;_0xd0bd2c[_0x1ad8b3]=_0x2032e3[_0x1eb84b(0x435)]();});let _0x413928=0x0;this[_0x11f111(0x85a)]['forEach'](_0x5da0e1=>{_0x413928+=_0x5da0e1;});let _0x337cd8=0x0;this[_0x11f111(0x575)][_0x11f111(0x66c)](_0x529013=>{_0x337cd8+=_0x529013;});const _0x57f0bd=_0x413928+_0x337cd8;let _0x2e6af0={'messages':{'total':0x0}};this[_0x11f111(0x676)][_0x11f111(0x66c)](_0x37a6e3=>{const _0x2ea6d6=_0x11f111;Object[_0x2ea6d6(0x7d3)](_0x37a6e3)['forEach'](_0x305491=>{const _0x823112=_0x2ea6d6;_0x2e6af0[_0x305491]||(_0x2e6af0[_0x305491]={}),Object[_0x823112(0x7d3)](_0x37a6e3[_0x305491])['forEach'](_0x191089=>{_0x2e6af0[_0x305491][_0x191089]||(_0x2e6af0[_0x305491][_0x191089]=0x0),_0x2e6af0[_0x305491][_0x191089]+=_0x37a6e3[_0x305491][_0x191089];});});});let _0x4a3994=0x0,_0xbe0d7c=0x0,_0x240d3b=0x0,_0x11f5ed=0x0,_0x2e7c05=0x0;return this[_0x11f111(0x89a)][_0x11f111(0x66c)](_0x185bcc=>{const _0xe8fa3a=_0x11f111;_0xbe0d7c+=_0x185bcc[_0xe8fa3a(0x9b0)],_0x240d3b+=_0x185bcc[_0xe8fa3a(0x204)],_0x11f5ed+=_0x185bcc['bytesSent'],_0x2e7c05+=_0x185bcc[_0xe8fa3a(0x75a)];}),this['objectStores'][_0x11f111(0x66c)](_0x3592cf=>{const _0x2dfade=_0x11f111;_0x4a3994+=_0x3592cf[_0x2dfade(0x73a)],_0xbe0d7c+=_0x3592cf[_0x2dfade(0x9b0)],_0x240d3b+=_0x3592cf[_0x2dfade(0x204)],_0x11f5ed+=_0x3592cf[_0x2dfade(0x995)],_0x2e7c05+=_0x3592cf['bytesReceived'];}),this[_0x11f111(0x508)][_0x11f111(0x66c)](_0x7abc9a=>{const _0x5cf132=_0x11f111;_0x4a3994+=_0x7abc9a[_0x5cf132(0x73a)],_0xbe0d7c+=_0x7abc9a[_0x5cf132(0x9b0)],_0x240d3b+=_0x7abc9a[_0x5cf132(0x204)],_0x11f5ed+=_0x7abc9a['bytesSent'],_0x2e7c05+=_0x7abc9a[_0x5cf132(0x75a)];}),this[_0x11f111(0x200)][_0x11f111(0x66c)](_0x53ee39=>{const _0x195517=_0x11f111;_0x4a3994+=_0x53ee39['storage'],_0xbe0d7c+=_0x53ee39[_0x195517(0x9b0)],_0x240d3b+=_0x53ee39[_0x195517(0x204)],_0x11f5ed+=_0x53ee39[_0x195517(0x995)],_0x2e7c05+=_0x53ee39[_0x195517(0x75a)];}),this[_0x11f111(0x45a)]['forEach'](_0x193677=>{const _0x286fa0=_0x11f111;_0x4a3994+=_0x193677['storage'],_0xbe0d7c+=_0x193677[_0x286fa0(0x9b0)],_0x240d3b+=_0x193677[_0x286fa0(0x204)],_0x11f5ed+=_0x193677[_0x286fa0(0x995)],_0x2e7c05+=_0x193677['bytesReceived'];}),this[_0x11f111(0x5f2)]['forEach'](_0x530065=>{const _0x2e22c9=_0x11f111;_0x4a3994+=_0x530065[_0x2e22c9(0x73a)],_0xbe0d7c+=_0x530065[_0x2e22c9(0x9b0)],_0x240d3b+=_0x530065['messagesReceived'],_0x11f5ed+=_0x530065[_0x2e22c9(0x995)],_0x2e7c05+=_0x530065['bytesReceived'];}),this[_0x11f111(0x250)][_0x11f111(0x66c)](_0x19152=>{const _0x1e95c8=_0x11f111;_0x4a3994+=_0x19152[_0x1e95c8(0x73a)],_0xbe0d7c+=_0x19152[_0x1e95c8(0x9b0)],_0x240d3b+=_0x19152[_0x1e95c8(0x204)],_0x11f5ed+=_0x19152[_0x1e95c8(0x995)],_0x2e7c05+=_0x19152[_0x1e95c8(0x75a)];}),{'STVolatility':this[_0x11f111(0x527)](),'DTVolatility':this[_0x11f111(0x438)](),'bitrate':this[_0x11f111(0x9ef)](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this[_0x11f111(0x1a3)](),'totalStorageSize':_0x4a3994,'totalMessages':_0xbe0d7c+_0x240d3b,'totalMessagesSent':_0xbe0d7c,'totalMessagesReceived':_0x240d3b,'totalBytes':_0x11f5ed+_0x2e7c05,'totalBytesSent':_0x11f5ed,'totalBytesReceived':_0x2e7c05,'systemMessages':_0x2e6af0,'timeProcessing':_0x57f0bd,'nodes':_0xd0bd2c,'pubsubTopics':Object[_0x11f111(0x94a)](this[_0x11f111(0x89a)]),'objectStores':Object[_0x11f111(0x94a)](this[_0x11f111(0x76e)]),'keyValueDatabases':Object[_0x11f111(0x94a)](this[_0x11f111(0x508)]),'generativeAIContexts':Object['fromEntries'](this[_0x11f111(0x200)]),'generativeAIWorkers':Object[_0x11f111(0x94a)](this[_0x11f111(0x45a)]),'vectorDatabases':Object[_0x11f111(0x94a)](this[_0x11f111(0x5f2)]),'graphDatabases':Object['fromEntries'](this[_0x11f111(0x250)]),'externalStorages':Object[_0x11f111(0x94a)](this[_0x11f111(0x83d)])};}['addRemoteNode'](_0x292c64){const _0x37782b=_0x34a0aa;this[_0x37782b(0x748)][_0x37782b(0x286)](_0x292c64,new _0x44b592());}[_0x34a0aa(0x180)](_0x26dd7c){const _0x111e5b=_0x34a0aa;this[_0x111e5b(0x748)][_0x111e5b(0x9c4)](_0x26dd7c);}[_0x34a0aa(0x56a)](_0x161fdc,_0x49455d,_0x468d57){const _0x20c33b=_0x34a0aa;_0x49455d instanceof Array||this[_0x20c33b(0x744)](_0x161fdc,_0x49455d);const _0x486314=this[_0x20c33b(0x748)]['get'](_0x161fdc)?.['processReports'](_0x49455d,_0x468d57);_0x486314&&this[_0x20c33b(0x9b5)]['publish']({'sourceId':_0x5a8dca,'messageType':_0x174459['Stats'],'content':{'type':_0x53aa9b['StreamReport'],'data':{..._0x486314,'nodeId':_0x161fdc}}});}[_0x34a0aa(0x1e6)](_0x1095c5){const _0x3a480c=_0x34a0aa;this[_0x3a480c(0x507)](_0x1095c5['secheduleTime']),this[_0x3a480c(0x239)](_0x1095c5[_0x3a480c(0x311)]),this[_0x3a480c(0x9b5)][_0x3a480c(0x5c0)]({'sourceId':_0x5a8dca,'messageType':_0x174459[_0x3a480c(0x992)],'content':{'type':_0x53aa9b[_0x3a480c(0x6d4)],'data':{'STVolatility':this[_0x3a480c(0x527)](),'DTVolatility':this[_0x3a480c(0x438)]()}}});}[_0x34a0aa(0x30c)](_0x480c20,_0x3f6f6b,_0x486018){const _0x2c91fe=_0x34a0aa;switch(_0x3f6f6b){case _0x5402c8['PubSubTopicStats']:this[_0x2c91fe(0x89a)][_0x2c91fe(0x286)](_0x480c20,_0x486018);break;case _0x5402c8[_0x2c91fe(0x4fa)]:this['objectStores']['set'](_0x480c20,_0x486018);break;case _0x5402c8['KeyValueDatabaseStats']:this[_0x2c91fe(0x508)][_0x2c91fe(0x286)](_0x480c20,_0x486018);break;case _0x5402c8[_0x2c91fe(0x191)]:this['generativeAIContexts'][_0x2c91fe(0x286)](_0x480c20,_0x486018);break;case _0x5402c8['GenerativeAIWorkerStats']:this['generativeAIWorkers'][_0x2c91fe(0x286)](_0x480c20,_0x486018);break;case _0x5402c8['VectorDatabaseStats']:this[_0x2c91fe(0x5f2)][_0x2c91fe(0x286)](_0x480c20,_0x486018);break;case _0x5402c8[_0x2c91fe(0x639)]:this[_0x2c91fe(0x250)][_0x2c91fe(0x286)](_0x480c20,_0x486018);break;case _0x5402c8[_0x2c91fe(0x4e7)]:this['externalStorages']['set'](_0x480c20,_0x486018);}}[_0x34a0aa(0x58f)](_0x4e867d){const _0x106b37=_0x34a0aa;this[_0x106b37(0x9b5)]=_0x4e867d;}[_0x34a0aa(0x5f8)](){const _0x3bd3a0=_0x34a0aa;delete this[_0x3bd3a0(0x9b5)];}[_0x34a0aa(0x527)](){const _0x53cf80=_0x34a0aa;return this[_0x53cf80(0x755)]>0x0&&this[_0x53cf80(0x755)]-_0x235547>0x0?(this[_0x53cf80(0x755)]-_0x235547)/_0x235547:0x0;}[_0x34a0aa(0x438)](){const _0x2e5892=_0x34a0aa;return this[_0x2e5892(0x311)]>0x0&&this[_0x2e5892(0x311)]-0x64>0x0?(this[_0x2e5892(0x311)]-0x64)/0x64:0x0;}[_0x34a0aa(0x252)](){const _0x26e10a=_0x34a0aa;let _0x309a0c=0x0;return this[_0x26e10a(0x748)][_0x26e10a(0x66c)](_0x5a0a56=>{const _0x16eb8b=_0x26e10a;_0x309a0c+=_0x5a0a56[_0x16eb8b(0x7a8)];}),_0x309a0c;}['getReceiverBitrate'](){const _0x1d4809=_0x34a0aa;let _0x29be1d=0x0;return this[_0x1d4809(0x748)]['forEach'](_0x27cc10=>{_0x29be1d+=_0x27cc10['receiverBitrate'];}),_0x29be1d;}[_0x34a0aa(0x9ef)](){const _0x47e3c7=_0x34a0aa;let _0x31ccaa=0x0;return this['nodes'][_0x47e3c7(0x66c)](_0x5da8a9=>{const _0x228df5=_0x47e3c7;_0x31ccaa+=_0x5da8a9[_0x228df5(0x4c5)];}),_0x31ccaa;}['setScheduleTime'](_0x3fddd6){const _0x2a4e35=_0x34a0aa;this[_0x2a4e35(0x755)]=_0x3fddd6;}[_0x34a0aa(0x239)](_0x3ef8bc){this['durationTime']=_0x3ef8bc;}['processDataChannelReport'](_0x456dc1,_0x2ade86){const _0x32aeaf=_0x34a0aa;switch(_0x2ade86['origin']){case _0x17021b[_0x32aeaf(0x80e)]:this['processSenderReport'](_0x456dc1,_0x2ade86);break;case _0x17021b[_0x32aeaf(0x5ca)]:this[_0x32aeaf(0x269)](_0x456dc1,_0x2ade86);}}[_0x34a0aa(0x692)](_0x5650af,_0x43d1de){const _0x15d3c0=_0x34a0aa;this[_0x15d3c0(0x9e9)][_0x15d3c0(0x286)](_0x5650af,_0x43d1de[_0x15d3c0(0x9b0)]),this[_0x15d3c0(0x85a)]['set'](_0x5650af,_0x43d1de[_0x15d3c0(0x185)]);}['processReceiverReport'](_0x13a962,_0x417b84){const _0x1052c2=_0x34a0aa;this['receiverTotalMessages'][_0x1052c2(0x286)](_0x13a962,_0x417b84[_0x1052c2(0x204)]),this['receiverTimeProcessing'][_0x1052c2(0x286)](_0x13a962,_0x417b84[_0x1052c2(0x5b6)]),this['systemMessages']['set'](_0x13a962,_0x417b84[_0x1052c2(0x676)]);}}class _0x5c2e92{[_0x34a0aa(0x6f1)];[_0x34a0aa(0x63e)]=new Set();[_0x34a0aa(0x53b)];[_0x34a0aa(0x5cc)];[_0x34a0aa(0x5c5)];[_0x34a0aa(0x8da)]=new _0x2acbf4();constructor(_0x33aa0f){const _0x509320=_0x34a0aa;this[_0x509320(0x6f1)]=_0x33aa0f,this[_0x509320(0x6f1)][_0x509320(0x872)][_0x509320(0x7f7)](this['statsReport']),this['statsCollection']=this[_0x509320(0x93f)](),this[_0x509320(0x5c5)]=this[_0x509320(0x79c)]();}[_0x34a0aa(0x39a)](){const _0x5781c0=_0x34a0aa;this['configs'][_0x5781c0(0x872)][_0x5781c0(0x97c)](this['statsReport']),this[_0x5781c0(0x5c5)](),this['statsCollection']();}[_0x34a0aa(0xa1a)](_0x19a9af){const _0x1b9c50=_0x34a0aa;this[_0x1b9c50(0x63e)][_0x1b9c50(0x4a3)](_0x19a9af),this['statsReport'][_0x1b9c50(0xa1a)](_0x19a9af);}[_0x34a0aa(0x180)](_0x50e8a2){const _0x57c5a9=_0x34a0aa;this[_0x57c5a9(0x63e)][_0x57c5a9(0x9c4)](_0x50e8a2),this['statsReport'][_0x57c5a9(0x180)](_0x50e8a2);}[_0x34a0aa(0x182)](_0xec4bbb){const _0x2cd9cb=_0x34a0aa;if(_0xec4bbb[_0x2cd9cb(0x1f6)][_0x2cd9cb(0x852)]===_0x376bcb['Stats']){const {nodeId:_0xc937d6,streamId:_0x5261bf,stats:_0x53a0d3}=_0xec4bbb[_0x2cd9cb(0x1f6)];this[_0x2cd9cb(0x8da)][_0x2cd9cb(0x56a)](_0xc937d6,_0x53a0d3,_0x5261bf);}}[_0x34a0aa(0x751)](_0x1e3ca1){const _0x4f5160=_0x34a0aa;switch(_0x1e3ca1['content'][_0x4f5160(0x852)]){case _0x5402c8[_0x4f5160(0x4fa)]:case _0x5402c8[_0x4f5160(0x6c5)]:case _0x5402c8[_0x4f5160(0x570)]:case _0x5402c8[_0x4f5160(0x191)]:case _0x5402c8['GenerativeAIWorkerStats']:case _0x5402c8['VectorDatabaseStats']:case _0x5402c8['GraphDatabaseStats']:case _0x5402c8[_0x4f5160(0x4e7)]:this[_0x4f5160(0x8da)][_0x4f5160(0x30c)](_0x1e3ca1[_0x4f5160(0x1f6)][_0x4f5160(0x5b0)],_0x1e3ca1[_0x4f5160(0x1f6)][_0x4f5160(0x852)],_0x1e3ca1[_0x4f5160(0x1f6)]['stats']);}}[_0x34a0aa(0x79c)](){const _0x4608eb=_0x34a0aa;return _0x293ade[_0x4608eb(0xa10)](()=>{const _0x34187e=_0x4608eb,_0x4a26ae=this[_0x34187e(0x8da)][_0x34187e(0x435)]();_0x17dbc7[_0x34187e(0x6cb)](_0x5d2ed2[_0x34187e(0x992)],_0x34187e(0x938),_0x4a26ae),(0x0,_0xd69cc3[_0x34187e(0x62e)])((0x0,_0xd69cc3[_0x34187e(0x8b4)])(_0x27d84b[_0x34187e(0x245)](),_0x34187e(0x9dc)+this[_0x34187e(0x6f1)][_0x34187e(0x853)]+_0x34187e(0x4dc)),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x34187e(0x6f1)][_0x34187e(0x411)][_0x34187e(0x3ad)](),'nodeType':this[_0x34187e(0x6f1)][_0x34187e(0x411)][_0x34187e(0x852)],'timestamp':(0x0,_0xd69cc3[_0x34187e(0x2d9)])(),'report':_0x4a26ae}),_0x17dbc7[_0x34187e(0x582)]('stats',{'clusterId':this['configs'][_0x34187e(0x222)],'nodeId':this['configs'][_0x34187e(0x411)][_0x34187e(0x3ad)](),'nodeType':this[_0x34187e(0x6f1)][_0x34187e(0x411)][_0x34187e(0x852)],'data':{'report':_0x4a26ae}});},_0x219e49);}[_0x34a0aa(0x93f)](){const _0x8acb0e=_0x34a0aa;let _0x45ca5a=!0x1,_0x1cec9d=Date[_0x8acb0e(0x517)]();return _0x293ade[_0x8acb0e(0xa10)](async()=>{const _0xb51b02=_0x8acb0e;if(_0x45ca5a)return;if(_0x45ca5a=!0x0,0x0===this[_0xb51b02(0x63e)][_0xb51b02(0x57d)])return delete this[_0xb51b02(0x53b)],void(_0x45ca5a=!0x1);const _0x2291fa=Date[_0xb51b02(0x517)]();this[_0xb51b02(0x430)]();try{await this['configs'][_0xb51b02(0x872)]['collectStats'](this['nextNodeId']);}catch(_0x263028){}this[_0xb51b02(0x8da)][_0xb51b02(0x1e6)]({'secheduleTime':_0x2291fa-_0x1cec9d,'durationTime':Date[_0xb51b02(0x517)]()-_0x2291fa}),_0x1cec9d=_0x2291fa,_0x45ca5a=!0x1;},_0x235547);}[_0x34a0aa(0x430)](){const _0x2b7163=_0x34a0aa;let _0x14a62e,_0x3a186c=!0x1;this[_0x2b7163(0x53b)]&&(this[_0x2b7163(0x63e)][_0x2b7163(0x664)](this['nextNodeId'])||delete this[_0x2b7163(0x53b)]);for(const _0x12295b of this[_0x2b7163(0x63e)])if(_0x14a62e||(_0x14a62e=_0x12295b),this[_0x2b7163(0x53b)]!==_0x12295b){if(_0x3a186c)return void(this[_0x2b7163(0x53b)]=_0x12295b);}else _0x3a186c=!0x0,delete this['nextNodeId'];this[_0x2b7163(0x53b)]||(this['nextNodeId']=_0x14a62e);}}class _0xed471{[_0x34a0aa(0x4f0)];[_0x34a0aa(0x58e)];[_0x34a0aa(0x9b5)];constructor(_0x227955,_0x1f0a01){const _0x52fd99=_0x34a0aa;this[_0x52fd99(0x4f0)]=_0x227955,this[_0x52fd99(0x58e)]=_0x1f0a01;}[_0x34a0aa(0x58f)](_0x459495){this['systemTopic']=_0x459495;}[_0x34a0aa(0x5f8)](){const _0x3362d0=_0x34a0aa;delete this[_0x3362d0(0x9b5)];}}class _0x483365 extends _0xed471{[_0x34a0aa(0x4f0)];[_0x34a0aa(0x58e)];[_0x34a0aa(0x78e)];constructor(_0x2fb4b6,_0x14fe96,_0x49c09b){const _0x115e21=_0x34a0aa;super(_0x2fb4b6,_0x14fe96),this[_0x115e21(0x4f0)]=_0x2fb4b6,this['destination']=_0x14fe96,this['params']=_0x49c09b;}['subscribe'](_0x5dd683,_0x3a732f,_0x325629){const _0x475881=_0x34a0aa;if(this[_0x475881(0x58e)][_0x475881(0x561)]()===_0xb78473['ContentType']['Media']){const _0x40c364={'type':_0x590b6e[_0x475881(0x27a)],'label':this[_0x475881(0x58e)][_0x475881(0x35a)](),'ownerId':_0x5dd683,'trackKinds':_0x3a732f??this[_0x475881(0x58e)][_0x475881(0x92d)](),'params':_0x325629};this['systemTopic'][_0x475881(0x5c0)]({'sourceId':this[_0x475881(0x4f0)][_0x475881(0x917)](),'destinationIds':[this[_0x475881(0x4f0)]['getRemoteId']()],'messageType':_0x174459['Subscription'],'content':_0x40c364}),this[_0x475881(0x78e)]=_0x325629;}}[_0x34a0aa(0x792)](_0x50ab00,_0x24ed3c){const _0x478354=_0x34a0aa;if(this['destination'][_0x478354(0x561)]()===_0xb78473['ContentType'][_0x478354(0x8d3)]){const _0x33748d={'type':_0x590b6e[_0x478354(0x993)],'label':this[_0x478354(0x58e)][_0x478354(0x35a)](),'ownerId':_0x50ab00,'params':_0x24ed3c};this[_0x478354(0x9b5)]['publish']({'sourceId':this['source'][_0x478354(0x917)](),'destinationIds':[this[_0x478354(0x4f0)]['getRemoteId']()],'messageType':_0x174459['Subscription'],'content':_0x33748d}),this['params']=_0x24ed3c;}}['unsubscribe'](_0x253cc9,_0x3e8da6,_0x26f8f5){const _0x4d9450=_0x34a0aa;if(this[_0x4d9450(0x58e)][_0x4d9450(0x561)]()===_0xb78473[_0x4d9450(0x1b6)][_0x4d9450(0x8d3)]){const _0x306c26={'type':_0x590b6e[_0x4d9450(0x8fa)],'label':this[_0x4d9450(0x58e)]['getLabel'](),'ownerId':_0x253cc9,'trackKinds':_0x26f8f5??this['destination'][_0x4d9450(0x92d)](),'remainingTracks':_0x3e8da6};this['systemTopic'][_0x4d9450(0x5c0)]({'sourceId':this[_0x4d9450(0x4f0)][_0x4d9450(0x917)](),'destinationIds':[this[_0x4d9450(0x4f0)]['getRemoteId']()],'messageType':_0x174459[_0x4d9450(0x4e5)],'content':_0x306c26});}}}class _0x7af748{[_0x34a0aa(0x336)];[_0x34a0aa(0xa06)];[_0x34a0aa(0x53c)];[_0x34a0aa(0x9b5)];[_0x34a0aa(0x97e)]=new Set();[_0x34a0aa(0x855)]=Date[_0x34a0aa(0x517)]();[_0x34a0aa(0x78e)];[_0x34a0aa(0x1a7)]=0x0;constructor(_0x3fc96a,_0x4c330f,_0x150a29,_0x179ea9){const _0x2a292e=_0x34a0aa;this[_0x2a292e(0x336)]=_0x4c330f,this['maxDistance']=_0x150a29,this[_0x2a292e(0x53c)]=_0x179ea9,_0x3fc96a['forEach'](_0x26e3bd=>{const _0x4ed89a=_0x2a292e;this['answers']['add']({'nodeId':_0x26e3bd,'type':_0x25ef62[_0x4ed89a(0x99b)]});});}['getTracks'](){const _0x5b527d=_0x34a0aa;return this[_0x5b527d(0x53c)];}[_0x34a0aa(0x58f)](_0x3ccac0){this['systemTopic']=_0x3ccac0;}[_0x34a0aa(0x5f8)](){const _0x44e7a4=_0x34a0aa;delete this[_0x44e7a4(0x9b5)];}[_0x34a0aa(0x240)](_0x135c51,_0x448399){const _0x45a8a9=_0x34a0aa;this[_0x45a8a9(0x855)]=Date[_0x45a8a9(0x517)](),this['answers'][_0x45a8a9(0x620)](),_0x135c51['forEach'](_0x33d2f6=>{const _0x10eab2=_0x45a8a9;this[_0x10eab2(0x97e)][_0x10eab2(0x4a3)]({'nodeId':_0x33d2f6,'type':_0x25ef62[_0x10eab2(0x99b)]});}),this['retryCount']+=0x1,this['currentDistance']=_0x448399;}[_0x34a0aa(0x512)](_0x162c27,_0xbb6221,_0x1ddc61,_0x3dea0f,_0x3549b3){const _0x32aa8f=_0x34a0aa;if(this[_0x32aa8f(0x1a7)]>0xa)throw new _0x4e89dd(_0x4e89dd[_0x32aa8f(0x4ea)][_0x32aa8f(0x301)],{'answers':Array['from'](this[_0x32aa8f(0x97e)])['map'](_0x349fa8=>({'nodeId':_0x349fa8[_0x32aa8f(0x2af)],'type':_0x349fa8[_0x32aa8f(0x852)]}))});const _0x3fa86a=Array[_0x32aa8f(0x856)](this[_0x32aa8f(0x97e)])[_0x32aa8f(0x403)](_0xfac99d=>_0xfac99d[_0x32aa8f(0x2af)]);this[_0x32aa8f(0x78e)]=_0x3549b3,this[_0x32aa8f(0x9b5)]['publish']({'sourceId':_0x162c27,'destinationIds':_0x3fa86a,'messageType':_0x174459[_0x32aa8f(0x4e5)],'content':{'type':_0x590b6e[_0x32aa8f(0x340)],'label':_0x1ddc61,'ownerId':_0xbb6221,'trackKinds':_0x3dea0f,'params':_0x3549b3}}),_0x17dbc7[_0x32aa8f(0x6cb)](_0x5d2ed2[_0x32aa8f(0x4e5)],_0x32aa8f(0x91d),_0x162c27,_0x3fa86a);}['handleSubscriptionSystemEvents'](_0x149928,_0x455e65){const _0x2d9b83=_0x34a0aa;switch(_0x455e65[_0x2d9b83(0x852)]){case _0x590b6e[_0x2d9b83(0x730)]:{const _0xc7e116=this[_0x2d9b83(0x336)]>=_0x455e65[_0x2d9b83(0x56d)]&&_0x455e65['distance']<=this[_0x2d9b83(0xa06)],_0x2f3673=Array[_0x2d9b83(0x856)](this[_0x2d9b83(0x97e)])[_0x2d9b83(0x3f0)](_0x333488=>_0x333488[_0x2d9b83(0x2af)]===_0x149928);_0x2f3673['type']=_0xc7e116?_0x25ef62[_0x2d9b83(0x93b)]:_0x25ef62['Rejected'],_0x2f3673['cost']=_0x455e65['cost'],_0x2f3673[_0x2d9b83(0x56d)]=_0x455e65[_0x2d9b83(0x56d)],_0x2f3673[_0x2d9b83(0x9f1)]=_0x455e65[_0x2d9b83(0x9f1)],_0x2f3673['roundTripTime']=Date[_0x2d9b83(0x517)]()-this['startTime'],_0x2f3673[_0x2d9b83(0x78e)]=this[_0x2d9b83(0x78e)],_0x2f3673[_0x2d9b83(0x59c)]=_0x455e65[_0x2d9b83(0x59c)],_0x2f3673[_0x2d9b83(0x469)]=_0x455e65[_0x2d9b83(0x469)],_0x2f3673[_0x2d9b83(0x9b7)]=_0x455e65[_0x2d9b83(0x5b0)],_0x17dbc7[_0x2d9b83(0x6cb)](_0x5d2ed2[_0x2d9b83(0x4e5)],(_0xc7e116?'Accepted':'Rejected')+_0x2d9b83(0x21e),_0x2f3673);break;}case _0x590b6e[_0x2d9b83(0x8b1)]:{const _0x26026c=Array[_0x2d9b83(0x856)](this[_0x2d9b83(0x97e)])[_0x2d9b83(0x3f0)](_0x221b11=>_0x221b11[_0x2d9b83(0x2af)]===_0x149928);_0x26026c[_0x2d9b83(0x852)]=_0x25ef62['Rejected'],_0x17dbc7[_0x2d9b83(0x6cb)](_0x5d2ed2[_0x2d9b83(0x4e5)],_0x2d9b83(0x97d),_0x26026c);break;}}if(this['canChooseAnswer']())return this[_0x2d9b83(0x747)]();}[_0x34a0aa(0x747)](){const _0x389bf6=_0x34a0aa,_0x581f76=Array[_0x389bf6(0x856)](this[_0x389bf6(0x97e)])[_0x389bf6(0x285)](_0x318d0b=>_0x318d0b[_0x389bf6(0x852)]===_0x25ef62[_0x389bf6(0x93b)])[_0x389bf6(0x9b6)]((_0x1c742e,_0x43edf6)=>_0x1c742e['cost']===_0x43edf6[_0x389bf6(0x272)]?_0x1c742e[_0x389bf6(0x516)]-_0x43edf6[_0x389bf6(0x516)]:_0x1c742e[_0x389bf6(0x272)]-_0x43edf6[_0x389bf6(0x272)]);if(0x0===_0x581f76[_0x389bf6(0x831)])throw new _0x4e89dd(_0x4e89dd['codes'][_0x389bf6(0x301)],{'answers':Array[_0x389bf6(0x856)](this[_0x389bf6(0x97e)])['map'](_0x439fd3=>({'nodeId':_0x439fd3[_0x389bf6(0x2af)],'type':_0x439fd3[_0x389bf6(0x852)]}))});return _0x17dbc7['log'](_0x5d2ed2[_0x389bf6(0x4e5)],_0x389bf6(0x9c9),_0x581f76[0x0],this['answers']),_0x581f76[0x0];}[_0x34a0aa(0x988)](){const _0x5d64aa=_0x34a0aa;for(const _0x386f6b of this[_0x5d64aa(0x97e)])if(_0x386f6b[_0x5d64aa(0x852)]===_0x25ef62[_0x5d64aa(0x99b)])return!0x1;return!0x0;}}class _0x51e612{[_0x34a0aa(0x5b0)];[_0x34a0aa(0x7da)];[_0x34a0aa(0x6cf)]=_0x5a3b06();constructor(_0x4ebcb5,_0x1f4ecc){const _0xc8e2a1=_0x34a0aa;this['label']=_0x4ebcb5,this[_0xc8e2a1(0x7da)]=_0x1f4ecc;}['getLabel'](){return this['label'];}[_0x34a0aa(0x561)](){const _0x2b50a1=_0x34a0aa;return this[_0x2b50a1(0x7da)];}[_0x34a0aa(0x3f2)](_0x42bdcb){const _0x24f57b=_0x34a0aa;_0x42bdcb[_0x24f57b(0x296)](this);}['registerDestination'](_0x322521){const _0x2f5860=_0x34a0aa;_0x322521[_0x2f5860(0x584)](this);}['publish'](_0x3807f9){const _0x13b625=_0x34a0aa;this[_0x13b625(0x6cf)][_0x13b625(0x5c0)]({'topicLabel':this[_0x13b625(0x5b0)],'contentType':this[_0x13b625(0x7da)],'uuid':(0x0,_0xa47bd4['v4'])(),'recipients':[],..._0x3807f9});}[_0x34a0aa(0x253)](_0x3c7fca){const _0x582b75=_0x34a0aa;return this['listener'][_0x582b75(0x253)](_0x3c7fca);}['unregisterSource'](_0x76348e){const _0x310d5f=_0x34a0aa;_0x76348e[_0x310d5f(0x8d7)](this);}['unregisterDestination'](_0x978c0e){const _0x15c97f=_0x34a0aa;_0x978c0e[_0x15c97f(0x680)](this);}}class _0xf569cf{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x34a0aa(0x736)];constructor(_0x282678){const _0x18d9a9=_0x34a0aa;this[_0x18d9a9(0x736)]=_0x282678;}get[_0x34a0aa(0x952)](){const _0xfa5564=_0x34a0aa;return this[_0xfa5564(0x3aa)]['subscriptions'];}get[_0x34a0aa(0xa4e)](){const _0x18808f=_0x34a0aa;return this[_0x18808f(0x3aa)][_0x18808f(0xa4e)];}['createSubscription'](_0xc50a1b,_0x2426a2){const _0x275dab=_0x34a0aa,_0x56510b=this['getPartsFromSubscription'](_0x2426a2),_0x12f3dd=_0x363294(_0xc50a1b);if(!_0x56510b[_0x275dab(0xa24)])throw new _0x4e89dd(_0x4e89dd[_0x275dab(0x4ea)][_0x275dab(0x358)],{'message':_0x12f3dd+':\x20'+_0x56510b[_0x275dab(0x41a)]+_0x275dab(0x77d)+_0x56510b[_0x275dab(0x7da)],'subscriptionType':_0xc50a1b,'subscription':_0x2426a2,'subscriptonParts':_0x56510b});const _0x63ae63=_0x2445b5(_0xc50a1b,_0x56510b);if(this[_0x275dab(0x3aa)]['subscriptions'][_0x275dab(0x664)](_0x63ae63))throw new _0x4e89dd(_0x4e89dd['codes'][_0x275dab(0x358)],{'message':_0x12f3dd+':\x20'+_0x63ae63+_0x275dab(0x6a2),'subscriptionType':_0xc50a1b,'subscription':_0x2426a2,'subscriptonParts':_0x56510b});this[_0x275dab(0x3aa)][_0x275dab(0x952)][_0x275dab(0x286)](_0x63ae63,_0x2426a2),this['createTopic'](_0x56510b,_0x2426a2);}['removeSubscription'](_0x339c61,_0x1206ae){const _0x353e69=_0x34a0aa,_0x149e0d=_0x2445b5(_0x1206ae,_0x339c61),_0x2fbd4a=this[_0x353e69(0x3aa)][_0x353e69(0x952)]['get'](_0x149e0d);if(!_0x2fbd4a)throw new _0x4e89dd(_0x4e89dd['codes'][_0x353e69(0x358)],{'message':_0x363294(_0x1206ae)+':\x20'+_0x149e0d+_0x353e69(0x3ca),'subscriptionType':_0x1206ae,'subscription':_0x2fbd4a,'subscriptonParts':_0x339c61});this[_0x353e69(0x546)](_0x2fbd4a,_0x149e0d,_0x339c61);}[_0x34a0aa(0x546)](_0x54533a,_0x37d0b0,_0x3c4c88){const _0x22a909=_0x34a0aa;_0x3c4c88=_0x3c4c88||this[_0x22a909(0x736)](_0x54533a),this[_0x22a909(0x3aa)]['subscriptions']['delete'](_0x37d0b0),this['removeTopic'](_0x3c4c88,_0x54533a);}[_0x34a0aa(0x1b1)](_0x5eec1a,{source:_0x590e94,destination:_0x2b02f8}){const _0x69d55c=_0x34a0aa,{contentType:_0x1b321a,label:_0x171a51,remoteId:_0x1a5cef}=_0x5eec1a,_0x2e9519=_0x5147fa(_0x1b321a,_0x171a51,_0x1a5cef),_0x5b7089=new _0x51e612(_0x2e9519,_0x1b321a);_0x5b7089[_0x69d55c(0x3f2)](_0x590e94),_0x5b7089[_0x69d55c(0x915)](_0x2b02f8),this[_0x69d55c(0x3aa)][_0x69d55c(0xa4e)][_0x69d55c(0x286)](_0x5b7089['getLabel'](),_0x5b7089);}[_0x34a0aa(0x8e2)](_0x2b75b6,_0x552ce3){const _0x48072=_0x34a0aa,{contentType:_0x2f7024,label:_0x4951b3,remoteId:_0x162b0d}=_0x2b75b6,_0x127151=_0x5147fa(_0x2f7024,_0x4951b3,_0x162b0d),_0x3ae71e=this['maps'][_0x48072(0xa4e)][_0x48072(0x56b)](_0x127151);_0x3ae71e&&(this[_0x48072(0x815)](_0x3ae71e,_0x552ce3),this[_0x48072(0x3aa)]['topics'][_0x48072(0x9c4)](_0x127151));}[_0x34a0aa(0x815)](_0xef5eab,{source:_0x142028,destination:_0x14e3c8}){const _0x45712a=_0x34a0aa;_0xef5eab[_0x45712a(0x54b)](_0x142028),_0xef5eab[_0x45712a(0x568)](_0x14e3c8);}['removeSubscriptionsForNode'](_0x4a7698){const _0x5f2efe=_0x34a0aa;this[_0x5f2efe(0x3aa)][_0x5f2efe(0x952)][_0x5f2efe(0x66c)]((_0x5d2dd2,_0xd547da)=>{const _0x5cc4fd=_0x5f2efe;_0xd547da[_0x5cc4fd(0x8c1)](_0x4a7698)&&this[_0x5cc4fd(0x546)](_0x5d2dd2,_0xd547da);});}}class _0x35dc91{[_0x34a0aa(0x6f1)];[_0x34a0aa(0xa06)];[_0x34a0aa(0x214)]=new Map();[_0x34a0aa(0x3cc)]=_0x5c0007(new _0xc70130(this[_0x34a0aa(0x69c)][_0x34a0aa(0xa1e)](this),()=>_0x293ade[_0x34a0aa(0x35b)](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();['maps'];[_0x34a0aa(0x91a)]=new Map();constructor(_0x79b18,_0x124a1f){const _0x4244be=_0x34a0aa;this[_0x4244be(0x6f1)]=_0x79b18,this[_0x4244be(0xa06)]=_0x124a1f,this['maps']=new _0xf569cf(({source:_0x18659c,destination:_0x294624})=>_0x5764d4(_0x294624,_0x18659c));}['createSubscription'](_0x220881,_0x52e802){const _0x171c87=_0x34a0aa,_0x4e8fec=this[_0x171c87(0x673)](_0x220881)&&this[_0x171c87(0x216)](_0x52e802)?new _0x483365(_0x220881,_0x52e802):new _0xed471(_0x220881,_0x52e802);this[_0x171c87(0x3aa)][_0x171c87(0x3df)](_0x3a7e17[_0x171c87(0x567)],_0x4e8fec),this['configs'][_0x171c87(0x872)][_0x171c87(0x7f7)](_0x4e8fec);}['removeSubscription'](_0x56478e,_0x181880,_0x5867c4=''){const _0x180728=_0x34a0aa,_0x393352={'contentType':_0x181880,'label':_0x56478e,'remoteId':_0x5867c4},_0x1d730c=_0x2445b5(_0x3a7e17[_0x180728(0x567)],_0x393352),_0x1393f1=this['maps'][_0x180728(0x952)]['get'](_0x1d730c);_0x1393f1&&this[_0x180728(0x546)](_0x1393f1,_0x1d730c);}['handleContentUnpublishMediaStream'](_0x558ef7){const _0x581b09=_0x34a0aa;this[_0x581b09(0x518)](_0x558ef7);}['handleContentSubscribeMediaStream']({label:_0x1b08fd,ownerId:_0xcb8c6a,trackKinds:_0x2818d0,params:_0x3a5081}){const _0x293335=_0x34a0aa;this[_0x293335(0x690)](_0x1b08fd,_0xcb8c6a,_0x2818d0,_0x3a5081);}[_0x34a0aa(0x977)]({ownerId:_0x4a5631,label:_0x3b070b,params:_0x4cacb4}){const _0x498f50=_0x34a0aa,{subscriptionLabel:_0x1e8a72}=this['getSubscriptionLabel'](_0x3b070b,_0x4a5631),_0x182c31=this[_0x498f50(0x462)](_0x1e8a72);_0x182c31&&_0x182c31[_0x498f50(0x792)](_0x4a5631,_0x4cacb4);}['handleContentUnsubscribeMediaStream']({ownerId:_0x307079,label:_0x515d2b,trackKinds:_0x9f5966,remainingTracks:_0x213839}){const _0x5bf47b=_0x34a0aa,_0x39cf01=_0x2445b5(_0x3a7e17['Incoming'],{'contentType':_0xb78473[_0x5bf47b(0x1b6)][_0x5bf47b(0x8d3)],'label':_0x515d2b,'remoteId':_0x307079});this[_0x5bf47b(0x256)](_0x39cf01);const _0x521294=this[_0x5bf47b(0x214)][_0x5bf47b(0x56b)](_0x39cf01);_0x521294&&(this[_0x5bf47b(0x6f1)][_0x5bf47b(0x872)][_0x5bf47b(0x97c)](_0x521294),this[_0x5bf47b(0x214)][_0x5bf47b(0x9c4)](_0x39cf01));const {parts:_0x3233bc,subscriptionLabel:_0x5ad2c9}=this[_0x5bf47b(0x66d)](_0x515d2b,_0x307079),_0x4010ed=this[_0x5bf47b(0x462)](_0x5ad2c9);_0x4010ed&&(_0x4010ed['unsubscribe'](_0x307079,_0x213839,_0x9f5966),0x0===_0x213839&&this['removeSubscription'](_0x3233bc[_0x5bf47b(0x5b0)],_0x3233bc[_0x5bf47b(0x7da)],_0x3233bc[_0x5bf47b(0x41a)]));}[_0x34a0aa(0x18c)](_0xb2badc,{label:_0x4d496b,ownerId:_0x55b637,trackKinds:_0x4e62cb,streamId:_0x12e4ac,params:_0x3d6d88}){const _0x27d85d=_0x34a0aa,_0x2fefe2=_0x2445b5(_0x3a7e17[_0x27d85d(0x567)],{'contentType':_0xb78473[_0x27d85d(0x1b6)]['Media'],'label':_0x12e4ac,'remoteId':_0xb2badc}),_0x717ee7=this[_0x27d85d(0x3aa)][_0x27d85d(0x952)][_0x27d85d(0x56b)](_0x2fefe2);if(!(_0x717ee7&&_0x717ee7 instanceof _0x483365))throw new _0x4e89dd(_0x4e89dd[_0x27d85d(0x4ea)]['SubscriptionRequestDoesNotExist'],{'label':_0x2fefe2,'ownerId':_0x55b637});this[_0x27d85d(0x546)](_0x717ee7,_0x2fefe2),this[_0x27d85d(0x690)](_0x4d496b,_0x55b637,_0x4e62cb,_0x3d6d88);}[_0x34a0aa(0x5cf)](_0x24984f,_0x20963e){const _0x46de49=_0x34a0aa,{label:_0x4f49c8,ownerId:_0xdd7287,trackKinds:_0x9adadc,params:_0x3c1cda}=_0x20963e,_0x17a76a=_0x2445b5(_0x3a7e17[_0x46de49(0x567)],{'contentType':_0xb78473[_0x46de49(0x1b6)][_0x46de49(0x8d3)],'label':_0x4f49c8,'remoteId':_0xdd7287});if(!this['subscriptionRequests']['has'](_0x17a76a))throw new _0x4e89dd(_0x4e89dd[_0x46de49(0x4ea)]['SubscriptionRequestDoesNotExist'],{'label':_0x17a76a,'ownerId':_0xdd7287,'streamId':_0x20963e[_0x46de49(0x9f1)],'requests':this['subscriptionRequests']});const _0x25e897=this[_0x46de49(0x214)][_0x46de49(0x56b)](_0x17a76a);if(_0x9adadc['length']===_0x25e897[_0x46de49(0x9e4)]()[_0x46de49(0x831)]&&_0x9adadc[_0x46de49(0x7ff)](_0x4efba8=>_0x25e897[_0x46de49(0x9e4)]()[_0x46de49(0x25d)](_0x4efba8)))try{const _0x511065=_0x25e897[_0x46de49(0xa47)](_0x24984f,_0x20963e);if(!_0x511065)return;this[_0x46de49(0x253)](_0x511065,_0xdd7287,_0x4f49c8,_0x17a76a,_0x9adadc);}catch(_0x5280f0){return void this[_0x46de49(0x700)](_0x4f49c8,_0xdd7287,_0x9adadc,_0x3c1cda);}}[_0x34a0aa(0x9a9)](_0xdcdfa5,{label:_0x1c5650,ownerId:_0x53ee38,trackKinds:_0xa0823e}){const _0x117111=_0x34a0aa,_0x55d26e=this[_0x117111(0x6f1)][_0x117111(0x872)][_0x117111(0x9b9)](_0x53ee38,_0x1c5650);if(!_0x55d26e)return;const _0x36dbe7=_0x55d26e['getInternalStreamId'](),_0xa94dd5=_0x55d26e[_0x117111(0x77e)]();_0xa94dd5[_0x117111(0x9bd)](_0xbdd5e8=>_0xa0823e[_0x117111(0x25d)](_0xbdd5e8))&&this['findNewMediaSubscription'](_0xdcdfa5,_0x1c5650,_0x36dbe7,_0x53ee38,_0xa94dd5);}[_0x34a0aa(0x525)]({label:_0x306f8a,providerId:_0x335c5f,ownerId:_0x50cb01,streamId:_0x11b788,trackKinds:_0x20d707}){this['findNewMediaSubscription'](_0x335c5f,_0x306f8a,_0x11b788,_0x50cb01,_0x20d707);}[_0x34a0aa(0x596)](_0x4a71af){const _0x35e234=_0x34a0aa;for(const _0x10f46a of this['chosenAnswers'][_0x35e234(0x8ec)]()){const {streamLabel:_0x102ae1,ownerId:_0x46a248,trackKinds:_0x26dd94,params:_0x3219e9}=_0x10f46a;if(!_0x46a248||!_0x26dd94||!_0x102ae1)return;this[_0x35e234(0x3cc)][_0x35e234(0x32e)]({'label':_0x102ae1,'ownerId':_0x46a248,'trackKinds':_0x26dd94,'params':_0x3219e9,'remoteId':_0x4a71af});}}[_0x34a0aa(0x982)](_0x5a78a0){const _0x53b736=_0x34a0aa;this[_0x53b736(0x3aa)][_0x53b736(0x952)][_0x53b736(0x66c)]((_0x40bfd1,_0x2e0662)=>{const _0x250492=_0x53b736;if(_0x2e0662[_0x250492(0x8c1)](_0x5a78a0)){if(_0x40bfd1['destination'][_0x250492(0x561)]()===_0xb78473[_0x250492(0x1b6)][_0x250492(0x8d3)]){const _0x28a7f6=_0x40bfd1[_0x250492(0x58e)];if(_0x28a7f6[_0x250492(0x77e)]()['length']>0x0){const _0x34a601={'type':_0x590b6e[_0x250492(0x689)],'label':_0x28a7f6[_0x250492(0x35a)](),'ownerId':_0x28a7f6[_0x250492(0x8a2)](),'trackKinds':_0x28a7f6['getSubscribedTracks']()};return void this[_0x250492(0x9a9)](_0x5a78a0,_0x34a601);}}this[_0x250492(0x546)](_0x40bfd1,_0x2e0662);}});}[_0x34a0aa(0x39a)](){const _0x22959f=_0x34a0aa;this[_0x22959f(0x3aa)]['subscriptions'][_0x22959f(0x66c)](this[_0x22959f(0x546)]['bind'](this));}[_0x34a0aa(0x253)](_0x57e9d5,_0x3cc1eb,_0x580a2a,_0x4c63a0,_0x59f5f8){const _0x513f68=_0x34a0aa,_0x44d923=this[_0x513f68(0x6f1)][_0x513f68(0x872)][_0x513f68(0x9af)](_0x57e9d5[_0x513f68(0x2af)]),_0x41c73f=this[_0x513f68(0x6f1)][_0x513f68(0x872)][_0x513f68(0x9b9)](_0x3cc1eb,_0x580a2a);this[_0x513f68(0x256)](_0x4c63a0),this[_0x513f68(0x214)][_0x513f68(0x664)](_0x4c63a0)&&(this[_0x513f68(0x6f1)][_0x513f68(0x872)]['unregisterSystemSource'](this[_0x513f68(0x214)][_0x513f68(0x56b)](_0x4c63a0)),this['subscriptionRequests'][_0x513f68(0x9c4)](_0x4c63a0)),this[_0x513f68(0x918)](_0x57e9d5,_0x3cc1eb,_0x580a2a,_0x41c73f),_0x41c73f[_0x513f68(0x17e)](_0x57e9d5[_0x513f68(0x9f1)]),_0x41c73f[_0x513f68(0x17f)](_0x57e9d5['nodeId']);const _0x32050a=_0x5764d4(_0x41c73f,_0x44d923),_0x1f63dc=_0x2445b5(_0x3a7e17['Incoming'],_0x32050a);this[_0x513f68(0x3aa)][_0x513f68(0x952)]['has'](_0x1f63dc)||this[_0x513f68(0x3df)](_0x44d923,_0x41c73f);const _0xac47ba=this['maps'][_0x513f68(0x952)][_0x513f68(0x56b)](_0x1f63dc);if(!(_0xac47ba&&_0xac47ba instanceof _0x483365))throw new _0x4e89dd(_0x4e89dd[_0x513f68(0x4ea)][_0x513f68(0x1d4)],{'label':_0x4c63a0,'ownerId':_0x3cc1eb});_0x17dbc7[_0x513f68(0x582)]('subscription',{'clusterId':this['configs'][_0x513f68(0x222)],'nodeId':this[_0x513f68(0x6f1)][_0x513f68(0x411)]['getId'](),'nodeType':this['configs'][_0x513f68(0x411)]['type'],'data':{'subscriptionLabel':_0x1f63dc,'chosenAnswer':_0x57e9d5}}),this[_0x513f68(0x91a)][_0x513f68(0x286)](_0x1f63dc,_0x57e9d5),_0xac47ba[_0x513f68(0x253)](_0x3cc1eb,_0x59f5f8,_0x57e9d5['params']);}[_0x34a0aa(0x518)]({ownerId:_0x301b72,label:_0x340090}){const _0x149097=_0x34a0aa,_0x4d327c=this[_0x149097(0x6f1)][_0x149097(0x872)][_0x149097(0x9b9)](_0x301b72,_0x340090),[_0x58fbd1,_0x2a8747]=Array['from'](this['maps'][_0x149097(0x952)]['entries']())[_0x149097(0x3f0)](([_0x101a4c,_0x215015])=>-0x1!==_0x101a4c[_0x149097(0x87b)](_0x4d327c[_0x149097(0x29b)]()));return this['closeSubscription'](_0x2a8747,_0x58fbd1);}[_0x34a0aa(0x546)](_0x1af5ee,_0x2dc11e){const _0xf350bd=_0x34a0aa;this[_0xf350bd(0x6f1)][_0xf350bd(0x872)]['unregisterSystemSource'](_0x1af5ee),this[_0xf350bd(0x3aa)]['closeSubscription'](_0x1af5ee,_0x2dc11e);}[_0x34a0aa(0x673)](_0x13300d){const _0x3abc68=_0x34a0aa;return _0x13300d[_0x3abc68(0x338)]()[_0x3abc68(0x25d)](_0xb78473[_0x3abc68(0x1b6)][_0x3abc68(0x8d3)]);}[_0x34a0aa(0x216)](_0x1c0636){const _0x42215a=_0x34a0aa;return _0x1c0636[_0x42215a(0x561)]()===_0xb78473[_0x42215a(0x1b6)][_0x42215a(0x8d3)];}async['handleNoAnswer'](_0x939047,_0x3247ad,_0xcc4545,_0x861c7c){const _0x56b0ec=_0x34a0aa;await _0x293ade[_0x56b0ec(0x35b)](0x3e8);const _0x57b3e4=_0x2445b5(_0x3a7e17['Incoming'],{'contentType':_0xb78473[_0x56b0ec(0x1b6)][_0x56b0ec(0x8d3)],'label':_0x939047,'remoteId':_0x3247ad});this[_0x56b0ec(0x256)](_0x57b3e4);const _0x206531=this[_0x56b0ec(0x214)][_0x56b0ec(0x56b)](_0x57b3e4);if(!_0x206531)throw new _0x4e89dd(_0x4e89dd[_0x56b0ec(0x4ea)]['SubscriptionRequestDoesNotExist'],{'label':_0x57b3e4,'ownerId':_0x3247ad});const _0x2882ff=this['configs'][_0x56b0ec(0x872)][_0x56b0ec(0x65f)](_0x3ea8c9=>_0x3ea8c9[_0x56b0ec(0x18b)]()),_0x3a6479=this[_0x56b0ec(0x6f1)][_0x56b0ec(0x872)][_0x56b0ec(0x609)](this[_0x56b0ec(0x6f1)]['localNode']['getId'](),_0x3247ad);_0x206531[_0x56b0ec(0x240)](_0x2882ff[_0x56b0ec(0x403)](_0x38981c=>_0x38981c[_0x56b0ec(0x9ed)]()),_0x3a6479);try{_0x206531[_0x56b0ec(0x512)](this[_0x56b0ec(0x6f1)][_0x56b0ec(0x411)][_0x56b0ec(0x3ad)](),_0x3247ad,_0x939047,_0xcc4545,_0x861c7c),this['setSubscriptionRequestTimeout'](_0x939047,_0x3247ad,_0xcc4545,_0x861c7c,_0x57b3e4,_0x206531);}catch(_0x4ecaeb){this[_0x56b0ec(0x3cc)][_0x56b0ec(0x32e)]({'label':_0x939047,'ownerId':_0x3247ad,'trackKinds':_0xcc4545,'params':_0x861c7c});}}[_0x34a0aa(0x690)](_0x53637d,_0x339399,_0x9c22ae,_0x19c8fd){const _0x4f8411=_0x34a0aa;this[_0x4f8411(0x3cc)][_0x4f8411(0x32e)]({'label':_0x53637d,'ownerId':_0x339399,'trackKinds':_0x9c22ae,'params':_0x19c8fd});}[_0x34a0aa(0x69c)]({label:_0x408712,ownerId:_0x20e6c3,trackKinds:_0x1dcf5d,params:_0x5754df,remoteId:_0x299389}){const _0x3515ce=_0x34a0aa;if(!this[_0x3515ce(0x6f1)]['mediator']['getRemoteMediaStream'](_0x20e6c3,_0x408712))return;if(!this[_0x3515ce(0x6f1)]['mediator']['getLocalNode']()['getRank']())throw new Error(_0x3515ce(0x257));if(_0x299389){const _0xa0fb15=this[_0x3515ce(0x6f1)][_0x3515ce(0x872)]['getRemoteNodes']()[_0x3515ce(0x3f0)](_0x216a3f=>_0x216a3f['getId']()===_0x299389),_0x39b73b=_0xa0fb15?.[_0x3515ce(0x88c)]();if(!_0xa0fb15||!_0x39b73b)throw new Error(_0x3515ce(0x3ae));const _0x51af50=this[_0x3515ce(0x6f1)][_0x3515ce(0x872)][_0x3515ce(0x64d)]()[_0x3515ce(0x3f0)](_0x5e6b20=>_0x5e6b20[_0x3515ce(0x3ad)]()===_0x20e6c3),_0x202b5d=_0x51af50?.[_0x3515ce(0x88c)]();if(!_0x51af50||!_0x202b5d)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x371873=this[_0x3515ce(0x91a)][_0x3515ce(0x56b)](_0x408712);if(_0x371873){const _0xebb1cb=this[_0x3515ce(0x6f1)]['mediator'][_0x3515ce(0x64d)]()[_0x3515ce(0x3f0)](_0x27698a=>_0x27698a[_0x3515ce(0x3ad)]()===_0x371873[_0x3515ce(0x2af)]),_0x21492e=_0xebb1cb?.[_0x3515ce(0x88c)]();if(!_0xebb1cb||!_0x21492e)throw new Error(_0x3515ce(0x56e));if(Math[_0x3515ce(0x762)](_0x21492e-_0x202b5d)<Math[_0x3515ce(0x762)](_0x39b73b-_0x202b5d))return;}}const _0x37e718=this[_0x3515ce(0x6f1)][_0x3515ce(0x872)][_0x3515ce(0x65f)](_0x59e0e6=>_0x59e0e6[_0x3515ce(0x18b)]()&&(!_0x299389||_0x59e0e6[_0x3515ce(0x9ed)]()===_0x299389));if(!_0x37e718[_0x3515ce(0x831)]||0x0===_0x37e718[_0x3515ce(0x831)])throw new Error(_0x3515ce(0x57c));const _0x168709=this[_0x3515ce(0x6f1)]['mediator'][_0x3515ce(0x609)](this[_0x3515ce(0x6f1)][_0x3515ce(0x411)][_0x3515ce(0x3ad)](),_0x20e6c3),_0x1b3298=_0x2445b5(_0x3a7e17[_0x3515ce(0x567)],{'contentType':_0xb78473['ContentType']['Media'],'label':_0x408712,'remoteId':_0x20e6c3});if(this[_0x3515ce(0x214)]['has'](_0x1b3298)){if(_0x299389)throw new Error(_0x3515ce(0x76f));const _0x20d450=this[_0x3515ce(0x214)][_0x3515ce(0x56b)](_0x1b3298)[_0x3515ce(0x9e4)]();if(_0x20d450[_0x3515ce(0x831)]===_0x1dcf5d['length']&&_0x20d450['every'](_0x4ceaa2=>_0x1dcf5d[_0x3515ce(0x25d)](_0x4ceaa2)))return;this['configs']['mediator']['unregisterSystemSource'](this[_0x3515ce(0x214)][_0x3515ce(0x56b)](_0x1b3298)),this[_0x3515ce(0x214)][_0x3515ce(0x9c4)](_0x1b3298),_0x1dcf5d=Array[_0x3515ce(0x856)](new Set(_0x1dcf5d[_0x3515ce(0x2a8)](_0x20d450))),this[_0x3515ce(0x256)](_0x1b3298);}const _0xb8f6e0=new _0x7af748(_0x37e718[_0x3515ce(0x403)](_0x645a36=>_0x645a36[_0x3515ce(0x9ed)]()),_0x168709,this['maxDistance'],_0x1dcf5d);this[_0x3515ce(0x6f1)]['mediator'][_0x3515ce(0x7f7)](_0xb8f6e0),this[_0x3515ce(0x214)][_0x3515ce(0x286)](_0x1b3298,_0xb8f6e0),_0xb8f6e0['sendRequest'](this[_0x3515ce(0x6f1)]['localNode'][_0x3515ce(0x3ad)](),_0x20e6c3,_0x408712,_0x1dcf5d,_0x5754df),this[_0x3515ce(0x36e)](_0x408712,_0x20e6c3,_0x1dcf5d,_0x5754df,_0x1b3298,_0xb8f6e0);}[_0x34a0aa(0x256)](_0x57d27f){const _0x3c832c=_0x34a0aa;this['subscriptionRequestTimeouts']['has'](_0x57d27f)&&(clearTimeout(this['subscriptionRequestTimeouts']['get'](_0x57d27f)),this[_0x3c832c(0x807)][_0x3c832c(0x9c4)](_0x57d27f));}[_0x34a0aa(0x36e)](_0x37fb99,_0x27f543,_0x52a659,_0x196e2f,_0x472369,_0x4c06a0){const _0x13ffa8=_0x34a0aa;this[_0x13ffa8(0x256)](_0x472369),this[_0x13ffa8(0x807)][_0x13ffa8(0x286)](_0x472369,setTimeout(()=>{const _0x246ffa=_0x13ffa8;this[_0x246ffa(0x807)][_0x246ffa(0x9c4)](_0x472369);try{const _0xf1cc7=_0x4c06a0[_0x246ffa(0x747)]();this[_0x246ffa(0x253)](_0xf1cc7,_0x27f543,_0x37fb99,_0x472369,_0x52a659);}catch(_0x169e6a){this[_0x246ffa(0x700)](_0x37fb99,_0x27f543,_0x52a659,_0x196e2f);}},0x7d0));}[_0x34a0aa(0x6ed)](_0xaa9d95,_0x3f6394,_0x3d222e,_0x2eead1,_0x4ad013){const _0x322daf=_0x34a0aa,{subscriptionLabel:_0x5e54bc}=this[_0x322daf(0x66d)](_0x3f6394,_0x2eead1),_0x24a209=this[_0x322daf(0x462)](_0x5e54bc),_0x5283f7=_0x24a209?.[_0x322daf(0x78e)];_0x24a209&&(_0x24a209[_0x322daf(0x626)](_0x2eead1,0x0),this[_0x322daf(0x7d4)](_0x3d222e,_0xb78473['ContentType'][_0x322daf(0x8d3)],_0xaa9d95)),this['requestSubscription'](_0x3f6394,_0x2eead1,_0x4ad013,_0x5283f7);}[_0x34a0aa(0x462)](_0x87f81b){const _0x928f4a=_0x34a0aa,_0x23ede9=this[_0x928f4a(0x3aa)]['subscriptions'][_0x928f4a(0x56b)](_0x87f81b);if(_0x23ede9){if(!(_0x23ede9 instanceof _0x483365))throw new _0x4e89dd(_0x4e89dd[_0x928f4a(0x4ea)][_0x928f4a(0x358)],{'label':_0x87f81b,'subscription':_0x23ede9});return _0x23ede9;}}[_0x34a0aa(0x66d)](_0x427419,_0x55118a){const _0x36b894=_0x34a0aa,_0x42a49d=this[_0x36b894(0x88b)](_0x427419,_0x55118a);return{'parts':_0x42a49d,'subscriptionLabel':_0x2445b5(_0x3a7e17['Incoming'],_0x42a49d)};}[_0x34a0aa(0x88b)](_0x89653a,_0xa71dc7){const _0x42bf54=_0x34a0aa,_0x10a630=this[_0x42bf54(0x6f1)][_0x42bf54(0x872)][_0x42bf54(0x9b9)](_0xa71dc7,_0x89653a),_0x4b5cf4=_0x10a630[_0x42bf54(0x810)]();if(!_0x4b5cf4)throw new _0x4e89dd(_0x4e89dd[_0x42bf54(0x4ea)][_0x42bf54(0x237)],{'label':_0x89653a,'streamId':_0x10a630['getInternalStreamId'](),'ownerId':_0xa71dc7,'localId':this[_0x42bf54(0x6f1)][_0x42bf54(0x411)][_0x42bf54(0x3ad)]()});return{'contentType':_0xb78473[_0x42bf54(0x1b6)][_0x42bf54(0x8d3)],'label':_0x10a630['getInternalStreamId'](),'remoteId':_0x4b5cf4};}[_0x34a0aa(0x918)](_0x531b05,_0x2578f6,_0x2b4962,_0x35b901){const _0x296440=_0x34a0aa,_0x3df224=_0x35b901[_0x296440(0x810)]();if(_0x3df224&&_0x3df224!==_0x531b05[_0x296440(0x2af)]){const {parts:_0x319536,subscriptionLabel:_0xfbaa78}=this[_0x296440(0x66d)](_0x2b4962,_0x2578f6),_0x2433ce=this[_0x296440(0x462)](_0xfbaa78);_0x2433ce&&(_0x2433ce['unsubscribe'](_0x2578f6,0x0),this[_0x296440(0x7d4)](_0x319536[_0x296440(0x5b0)],_0x319536['contentType'],_0x319536[_0x296440(0x41a)]));}}}class _0x5babd0{[_0x34a0aa(0x6f1)];['maxOutgoingSubscriptions'];['maps'];constructor(_0x4aa7e5,_0x23ce8b){const _0x19d862=_0x34a0aa;this[_0x19d862(0x6f1)]=_0x4aa7e5,this[_0x19d862(0x8b0)]=_0x23ce8b,this[_0x19d862(0x3aa)]=new _0xf569cf(({source:_0x5852c8,destination:_0x3ffd74})=>_0x5764d4(_0x5852c8,_0x3ffd74));}[_0x34a0aa(0x3df)](_0x48f6c8,_0x1547b6){const _0x1c4459=_0x34a0aa,_0x5b92ac={'source':_0x48f6c8,'destination':_0x1547b6};this[_0x1c4459(0x3aa)]['createSubscription'](_0x3a7e17['Outgoing'],_0x5b92ac);}[_0x34a0aa(0x7d4)](_0x2abe30,_0x2e22f9,_0x25ac04=''){const _0x536869=_0x34a0aa,_0x29edcc={'contentType':_0x2e22f9,'label':_0x2abe30,'remoteId':_0x25ac04};this[_0x536869(0x3aa)]['removeSubscription'](_0x29edcc,_0x3a7e17[_0x536869(0x6db)]);}['handleSubscriptionSubscribeMediaStream'](_0x40099a,_0x363ff7){const _0x472b25=_0x34a0aa;let _0x5e694e;_0x5e694e=_0x363ff7[_0x472b25(0x59c)]!==this['configs']['localNode']['getId']()?this[_0x472b25(0x6f1)][_0x472b25(0x872)]['getRemoteMediaStream'](_0x363ff7[_0x472b25(0x59c)],_0x363ff7[_0x472b25(0x5b0)]):this[_0x472b25(0x6f1)][_0x472b25(0x872)][_0x472b25(0x6c7)](_0x363ff7[_0x472b25(0x5b0)]);const _0x26c834=_0x2445b5(_0x3a7e17['Outgoing'],{'contentType':_0xb78473[_0x472b25(0x1b6)][_0x472b25(0x8d3)],'label':_0x5e694e[_0x472b25(0x350)](),'remoteId':_0x40099a}),_0x37cd0e=this[_0x472b25(0x909)]();if(!this[_0x472b25(0x3aa)][_0x472b25(0x952)][_0x472b25(0x664)](_0x26c834)&&_0x37cd0e>=this[_0x472b25(0x8b0)])return{'type':_0x590b6e[_0x472b25(0x263)],'ownerId':_0x363ff7[_0x472b25(0x59c)],'label':_0x363ff7[_0x472b25(0x5b0)],'streamId':_0x5e694e[_0x472b25(0x350)](),'trackKinds':_0x363ff7['trackKinds'],'params':_0x363ff7[_0x472b25(0x78e)]};_0x5e694e instanceof _0x249d8b&&!_0x5e694e[_0x472b25(0x9a3)](_0x363ff7['trackKinds'])&&_0x5e694e['subscribe'](_0x363ff7[_0x472b25(0x78e)]),this['maps'][_0x472b25(0x952)][_0x472b25(0x664)](_0x26c834)||this[_0x472b25(0x3df)](_0x5e694e[_0x472b25(0x964)](_0x40099a),this[_0x472b25(0x6f1)]['mediator'][_0x472b25(0x9af)](_0x40099a));}[_0x34a0aa(0x580)](_0x43c457,{label:_0x321962,ownerId:_0x359b83,remainingTracks:_0x29d3b8}){const _0xf7efd3=_0x34a0aa;if(_0x29d3b8>0x0)return;let _0x3fd8ce;_0x3fd8ce=_0x359b83!==this['configs'][_0xf7efd3(0x411)]['getId']()?this[_0xf7efd3(0x6f1)]['mediator']['getRemoteMediaStream'](_0x359b83,_0x321962):this[_0xf7efd3(0x6f1)][_0xf7efd3(0x872)][_0xf7efd3(0x6c7)](_0x321962);const _0x330634=_0x3fd8ce[_0xf7efd3(0x350)](),_0x478da9=_0xb78473[_0xf7efd3(0x1b6)][_0xf7efd3(0x8d3)];this[_0xf7efd3(0x7d4)](_0x330634,_0x478da9,_0x43c457);}[_0x34a0aa(0x948)](_0x562990,{label:_0x1286e0,ownerId:_0x3153f4,trackKinds:_0x4c039a}){const _0x564c99=_0x34a0aa;if(_0x562990!==_0x5a8dca)return[];let _0x26342d=[];for(const _0x4c7e5c of this[_0x564c99(0x3aa)][_0x564c99(0x952)]){const {source:_0xab27d7,destination:_0x34b032}=_0x4c7e5c[0x1];_0xab27d7['getLabel']()===_0x1286e0&&_0xab27d7[_0x564c99(0x8a2)]()===_0x3153f4&&_0x26342d['push']({'sourceId':this['configs'][_0x564c99(0x411)][_0x564c99(0x3ad)](),'destinationIds':[_0x34b032['getRemoteId']()],'messageType':_0x174459['Subscription'],'content':{'type':_0x590b6e['MediaStreamUnavailable'],'label':_0x1286e0,'ownerId':_0x3153f4,'trackKinds':_0x4c039a}});}return _0x26342d;}[_0x34a0aa(0x1cd)](_0x2fd2ce,_0x56a6af){const _0x2b9403=_0x34a0aa,{label:_0x185ef7,ownerId:_0x1633b3,trackKinds:_0x49ee2a,params:_0x2bdae0}=_0x56a6af,{hasTracks:_0x5df379,streamId:_0x5ea5bd,hasResolution:_0x5e4df0,distance:_0x1ae7d3,subscriptionLabel:_0x4dd15f}=this[_0x2b9403(0xa26)](_0x2fd2ce,_0x56a6af);let _0x145cd4=this[_0x2b9403(0x909)]()<this[_0x2b9403(0x8b0)]&&(_0x5df379||_0x1ae7d3>-0x1)?_0x590b6e['CanProvideMediaStream']:_0x590b6e[_0x2b9403(0x8b1)];const _0x4051f0=_0x1ae7d3<0x0?0xa:_0x1ae7d3;let _0x233108=_0x5df379?_0x5e4df0?_0x4051f0:_0x4051f0+0x0:_0x4051f0+0xa;return _0x4dd15f&&this['maps']['subscriptions'][_0x2b9403(0x664)](_0x4dd15f)&&(_0x5df379&&(_0x233108=0x0),_0x145cd4=_0x590b6e[_0x2b9403(0x730)]),{'type':_0x145cd4,'cost':_0x233108,'distance':_0x1ae7d3,'label':_0x185ef7,'ownerId':_0x1633b3,'streamId':_0x5ea5bd,'trackKinds':_0x49ee2a,'params':_0x2bdae0};}[_0x34a0aa(0x548)](_0x5bde4b){const _0x3e7a3b=_0x34a0aa,{label:_0x3957f2,ownerId:_0x16ba90}=_0x5bde4b,_0x30e9c4=this[_0x3e7a3b(0x6f1)][_0x3e7a3b(0x872)][_0x3e7a3b(0x9b9)](_0x16ba90,_0x3957f2);this[_0x3e7a3b(0x3aa)][_0x3e7a3b(0x952)]['forEach'](_0x39401e=>{const _0x22693e=_0x3e7a3b;if(_0x39401e[_0x22693e(0x4f0)]['getInternalStreamId']()===_0x30e9c4['getShareableStreamId']()){const _0x3be4b1=_0x39401e[_0x22693e(0x58e)];this['removeSubscription'](_0x30e9c4['getShareableStreamId'](),_0xb78473['ContentType']['Media'],_0x3be4b1[_0x22693e(0x9ed)]());}});}[_0x34a0aa(0x321)]({label:_0x20f8f9}){const _0x496258=_0x34a0aa,_0x303f38=this[_0x496258(0x6f1)][_0x496258(0x872)][_0x496258(0x6c7)](_0x20f8f9);this['maps']['subscriptions'][_0x496258(0x66c)](_0x596a4a=>{const _0x1abb77=_0x496258;if(_0x596a4a[_0x1abb77(0x4f0)]['getInternalStreamId']()===_0x303f38['getShareableStreamId']()){const _0x206e60=_0x596a4a[_0x1abb77(0x58e)];this[_0x1abb77(0x7d4)](_0x303f38[_0x1abb77(0x350)](),_0xb78473[_0x1abb77(0x1b6)][_0x1abb77(0x8d3)],_0x206e60[_0x1abb77(0x9ed)]());}});}[_0x34a0aa(0x982)](_0x5ef5d3){const _0x5d5f22=_0x34a0aa;this[_0x5d5f22(0x3aa)][_0x5d5f22(0x982)](_0x5ef5d3);}['close'](){const _0x48160b=_0x34a0aa;this['maps'][_0x48160b(0x952)]['forEach'](this[_0x48160b(0x546)][_0x48160b(0xa1e)](this));}[_0x34a0aa(0x546)](_0x4c52e9,_0x33a33c){this['maps']['closeSubscription'](_0x4c52e9,_0x33a33c);}['getSubscriptionInfo'](_0x5b4014,{label:_0x438a82,ownerId:_0x2e72e0,trackKinds:_0x5d6f35,params:_0x37eb28}){const _0x4ac1c1=_0x34a0aa;if(_0x2e72e0!==this['configs'][_0x4ac1c1(0x411)][_0x4ac1c1(0x3ad)]()){const _0x4390de=this['configs'][_0x4ac1c1(0x872)][_0x4ac1c1(0x9b9)](_0x2e72e0,_0x438a82);return _0x4390de&&_0x4390de[_0x4ac1c1(0x810)]()!==_0x5b4014?{'hasTracks':_0x4390de[_0x4ac1c1(0x540)](_0x5d6f35),'hasResolution':this[_0x4ac1c1(0x1b0)](_0x4390de['getResolution'](),_0x37eb28),'streamId':_0x4390de['getShareableStreamId'](),'distance':this[_0x4ac1c1(0x6f1)][_0x4ac1c1(0x872)][_0x4ac1c1(0x609)](_0x5b4014,_0x2e72e0),'subscriptionLabel':_0x2445b5(_0x3a7e17[_0x4ac1c1(0x6db)],{'contentType':_0xb78473['ContentType']['Media'],'label':_0x4390de[_0x4ac1c1(0x350)](),'remoteId':_0x5b4014})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x5eccaa=this['configs'][_0x4ac1c1(0x872)][_0x4ac1c1(0x6c7)](_0x438a82);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x5eccaa[_0x4ac1c1(0x350)](),'distance':0x0,'subscriptionLabel':_0x2445b5(_0x3a7e17[_0x4ac1c1(0x6db)],{'contentType':_0xb78473[_0x4ac1c1(0x1b6)]['Media'],'label':_0x5eccaa['getShareableStreamId'](),'remoteId':_0x5b4014})};}[_0x34a0aa(0x909)](){const _0x3d89ba=_0x34a0aa;return Array[_0x3d89ba(0x856)](this[_0x3d89ba(0x3aa)][_0x3d89ba(0x952)][_0x3d89ba(0x595)]())['filter'](([_0x4131ed,{source:_0x4da100}])=>_0x4131ed[_0x3d89ba(0x8fd)](_0x3a7e17['Outgoing'])&&_0x4da100[_0x3d89ba(0x561)]()===_0xb78473[_0x3d89ba(0x1b6)][_0x3d89ba(0x8d3)])['length'];}[_0x34a0aa(0x1b0)](_0x544d59,_0x2a434e){const _0x406290=_0x34a0aa;if(!_0x2a434e||!_0x2a434e[_0x406290(0x827)]||_0x406290(0x307)==typeof _0x2a434e[_0x406290(0x827)]||!_0x2a434e[_0x406290(0x827)][_0x406290(0x4de)])return!0x0;const {width:_0x56af41,height:_0x598840}=_0x2a434e[_0x406290(0x827)][_0x406290(0x4de)];return _0x544d59[_0x406290(0x659)]>=_0x56af41&&_0x544d59['height']>=_0x598840;}}class _0x4ce990{['configs'];[_0x34a0aa(0x8b0)];[_0x34a0aa(0xa06)];[_0x34a0aa(0x9b5)];[_0x34a0aa(0x4b0)];['outgoingManager'];constructor(_0x18f2b8,_0x13b211,_0x5ea1cc){const _0x2e8248=_0x34a0aa;this[_0x2e8248(0x6f1)]=_0x18f2b8,this[_0x2e8248(0x8b0)]=_0x13b211,this[_0x2e8248(0xa06)]=_0x5ea1cc,this['configs'][_0x2e8248(0x872)][_0x2e8248(0x7f7)](this),this[_0x2e8248(0x4b0)]=new _0x35dc91(this[_0x2e8248(0x6f1)],this[_0x2e8248(0xa06)]),this[_0x2e8248(0x8db)]=new _0x5babd0(this['configs'],this[_0x2e8248(0x8b0)]);}['registerSystemPublisher'](_0xc7df57){const _0x344a87=_0x34a0aa;this[_0x344a87(0x9b5)]=_0xc7df57;}[_0x34a0aa(0x5f8)](){const _0x19ad65=_0x34a0aa;delete this[_0x19ad65(0x9b5)];}[_0x34a0aa(0x39a)](){const _0x2da01f=_0x34a0aa;this['incomingManager']['close'](),this['outgoingManager'][_0x2da01f(0x39a)](),this[_0x2da01f(0x6f1)][_0x2da01f(0x872)][_0x2da01f(0x97c)](this);}[_0x34a0aa(0x8bd)](_0x38ae55,_0x244b5f){const _0x4b852f=_0x34a0aa;this['incomingManager'][_0x4b852f(0x3df)](_0x38ae55,_0x244b5f);}[_0x34a0aa(0x4af)](_0x11a0cf,_0x558bda){const _0x3c5342=_0x34a0aa;this['outgoingManager'][_0x3c5342(0x3df)](_0x11a0cf,_0x558bda);}[_0x34a0aa(0x5a7)](_0x175163,_0xe6877b,_0x65b953=''){const _0x374bbc=_0x34a0aa;this[_0x374bbc(0x4b0)][_0x374bbc(0x7d4)](_0x175163,_0xe6877b,_0x65b953);}[_0x34a0aa(0x57b)](_0x527ce3,_0x461d29,_0x2cb6b3=''){const _0xdbbbec=_0x34a0aa;try{this[_0xdbbbec(0x8db)]['removeSubscription'](_0x527ce3,_0x461d29,_0x2cb6b3);}catch(_0x2eb666){if(_0x2eb666 instanceof _0x4e89dd&&_0x2eb666[_0xdbbbec(0x99d)]===_0x4e89dd[_0xdbbbec(0x4ea)][_0xdbbbec(0x358)])return;}}[_0x34a0aa(0xa47)](_0x41567a){const _0x4ad0e5=_0x34a0aa;switch(_0x41567a[_0x4ad0e5(0x1f6)][_0x4ad0e5(0x852)]){case _0x590b6e[_0x4ad0e5(0x27a)]:this[_0x4ad0e5(0xa4b)](_0x41567a[_0x4ad0e5(0x7b7)],_0x41567a[_0x4ad0e5(0x1f6)]);break;case _0x590b6e[_0x4ad0e5(0x8fa)]:this[_0x4ad0e5(0x8db)][_0x4ad0e5(0x580)](_0x41567a[_0x4ad0e5(0x7b7)],_0x41567a['content']);break;case _0x590b6e[_0x4ad0e5(0x340)]:this[_0x4ad0e5(0x1cd)](_0x41567a[_0x4ad0e5(0x7b7)],_0x41567a[_0x4ad0e5(0x1f6)]);break;case _0x590b6e['RestartNeedMediaStream']:this['incomingManager']['handleSubscriptionRestartNeedMediaStream'](_0x41567a[_0x4ad0e5(0x7b7)],_0x41567a[_0x4ad0e5(0x1f6)]);break;case _0x590b6e[_0x4ad0e5(0x730)]:case _0x590b6e[_0x4ad0e5(0x8b1)]:this[_0x4ad0e5(0x4b0)][_0x4ad0e5(0x5cf)](_0x41567a[_0x4ad0e5(0x7b7)],_0x41567a[_0x4ad0e5(0x1f6)]);break;case _0x590b6e[_0x4ad0e5(0x689)]:this['incomingManager'][_0x4ad0e5(0x9a9)](_0x41567a[_0x4ad0e5(0x7b7)],_0x41567a[_0x4ad0e5(0x1f6)]);}}['handleContentSystemEvents'](_0x102964){const _0x39548f=_0x34a0aa;switch(_0x102964['content']['type']){case _0x5402c8[_0x39548f(0x84d)]:this[_0x39548f(0x4b0)]['handleContentUnpublishMediaStream'](_0x102964[_0x39548f(0x1f6)]),this['outgoingManager']['handleContentUnpublishMediaStream'](_0x102964[_0x39548f(0x1f6)]);break;case _0x5402c8[_0x39548f(0x27a)]:this['incomingManager']['handleContentSubscribeMediaStream'](_0x102964[_0x39548f(0x1f6)]);break;case _0x5402c8[_0x39548f(0x993)]:this[_0x39548f(0x4b0)][_0x39548f(0x977)](_0x102964[_0x39548f(0x1f6)]);break;case _0x5402c8[_0x39548f(0x8fa)]:this[_0x39548f(0x948)](_0x102964[_0x39548f(0x7b7)],_0x102964[_0x39548f(0x1f6)]);break;case _0x5402c8[_0x39548f(0xa37)]:this[_0x39548f(0x8db)][_0x39548f(0x321)](_0x102964['content']);break;case _0x5402c8[_0x39548f(0x6c3)]:this['handleCloseContent'](_0x102964['content'][_0x39548f(0x5b0)],_0xb78473[_0x39548f(0x1b6)]['PubSub']);break;case _0x5402c8['CloseObjectStoreBucket']:this[_0x39548f(0x610)](_0x102964[_0x39548f(0x1f6)][_0x39548f(0x5b0)],_0xb78473[_0x39548f(0x1b6)][_0x39548f(0x7c5)]);break;case _0x5402c8[_0x39548f(0x2db)]:this['handleCloseContent'](_0x102964['content'][_0x39548f(0x5b0)],_0xb78473['ContentType'][_0x39548f(0x46b)]);break;case _0x5402c8[_0x39548f(0xa50)]:this[_0x39548f(0x610)](_0x102964[_0x39548f(0x1f6)][_0x39548f(0x5b0)],_0xb78473['ContentType'][_0x39548f(0x481)]);break;case _0x5402c8[_0x39548f(0x5af)]:this[_0x39548f(0x610)](_0x102964[_0x39548f(0x1f6)][_0x39548f(0x5b0)],_0xb78473[_0x39548f(0x1b6)][_0x39548f(0x42e)]);break;case _0x5402c8['CloseGraphDatabase']:this[_0x39548f(0x610)](_0x102964[_0x39548f(0x1f6)][_0x39548f(0x5b0)],_0xb78473[_0x39548f(0x1b6)][_0x39548f(0x881)]);break;case _0x5402c8['CloseJobDispatcher']:case _0x5402c8[_0x39548f(0x8b8)]:this[_0x39548f(0x610)](_0x102964[_0x39548f(0x1f6)][_0x39548f(0x5b0)],_0xb78473[_0x39548f(0x1b6)][_0x39548f(0x1f8)]);break;case _0x5402c8[_0x39548f(0x1e2)]:this[_0x39548f(0x4b0)][_0x39548f(0x525)](_0x102964[_0x39548f(0x1f6)]);}}[_0x34a0aa(0x38a)]({content:_0x1f022e}){const _0x4852cf=_0x34a0aa;_0x1f022e[_0x4852cf(0x852)]===_0xc6ed77['NodeLeave']&&this[_0x4852cf(0x982)](_0x1f022e);}[_0x34a0aa(0x182)](_0x265a6a){const _0x4f3472=_0x34a0aa;_0x265a6a[_0x4f3472(0x1f6)][_0x4f3472(0x852)]===_0x376bcb['OptimizationConnectionSuccess']&&this[_0x4f3472(0x4b0)]['handleOptimizationConnectionSuccess'](_0x265a6a[_0x4f3472(0x7b7)]);}['handleContentUnsubscribeMediaStream'](_0x2b4943,_0x2d0632){const _0x39b27b=_0x34a0aa;this[_0x39b27b(0x4b0)][_0x39b27b(0x948)](_0x2d0632),this['outgoingManager'][_0x39b27b(0x948)](_0x2b4943,_0x2d0632)[_0x39b27b(0x66c)](_0x458787=>this[_0x39b27b(0x9b5)]['publish'](_0x458787));}[_0x34a0aa(0xa4b)](_0x3cc9da,_0x1a1960){const _0x1e0702=_0x34a0aa,_0x220a01=this[_0x1e0702(0x8db)][_0x1e0702(0xa4b)](_0x3cc9da,_0x1a1960);if(_0x220a01&&(this[_0x1e0702(0x9b5)][_0x1e0702(0x5c0)]({'sourceId':this[_0x1e0702(0x6f1)][_0x1e0702(0x411)][_0x1e0702(0x3ad)](),'destinationIds':[_0x3cc9da],'messageType':_0x174459[_0x1e0702(0x4e5)],'content':_0x220a01}),_0x220a01[_0x1e0702(0x852)]===_0x590b6e[_0x1e0702(0x263)]))throw new _0x2e8877(_0x1e0702(0x5fe));}[_0x34a0aa(0x1cd)](_0xe80c21,_0x42506c){const _0x2bd204=_0x34a0aa,_0x7ef073=this['outgoingManager'][_0x2bd204(0x1cd)](_0xe80c21,_0x42506c);this[_0x2bd204(0x9b5)][_0x2bd204(0x5c0)]({'sourceId':this['configs'][_0x2bd204(0x411)]['getId'](),'destinationIds':[_0xe80c21],'messageType':_0x174459[_0x2bd204(0x4e5)],'content':_0x7ef073});}[_0x34a0aa(0x610)](_0x3dba08,_0x161793){const _0x205ac8=_0x34a0aa;this[_0x205ac8(0x5a7)](_0x3dba08,_0x161793),this[_0x205ac8(0x57b)](_0x3dba08,_0x161793);}[_0x34a0aa(0x982)]({id:_0x5348d9}){const _0x3c233e=_0x34a0aa;this[_0x3c233e(0x4b0)][_0x3c233e(0x982)](_0x5348d9),this[_0x3c233e(0x8db)][_0x3c233e(0x982)](_0x5348d9);}}class _0x4fff2f{[_0x34a0aa(0x5b0)];[_0x34a0aa(0x6cf)]=_0x5a3b06();constructor(){const _0xa1d5d8=_0x34a0aa;this[_0xa1d5d8(0x5b0)]=0x0;}[_0x34a0aa(0x35a)](){const _0x17ad0e=_0x34a0aa;return this[_0x17ad0e(0x5b0)];}['getContentType'](){const _0xf868fa=_0x34a0aa;return _0xb78473['ContentType'][_0xf868fa(0x6a7)];}[_0x34a0aa(0x3f2)](_0xa11ff6){const _0x38b94e=_0x34a0aa;_0xa11ff6[_0x38b94e(0x58f)](this);}[_0x34a0aa(0x54b)](_0x2de990){const _0x13117d=_0x34a0aa;_0x2de990[_0x13117d(0x5f8)]();}[_0x34a0aa(0x5c0)](_0x33e322){const _0x1c921c=_0x34a0aa;_0x17dbc7[_0x1c921c(0x6cb)](_0x5d2ed2[_0x1c921c(0x7ed)],_0x1c921c(0x87d),_0x33e322[_0x1c921c(0x7b7)],_0x33e322),this[_0x1c921c(0x6cf)][_0x1c921c(0x5c0)]({'topicLabel':this[_0x1c921c(0x5b0)],'contentType':_0xb78473[_0x1c921c(0x1b6)]['Data'],'uuid':_0x33e322['uuid']??(0x0,_0xa47bd4['v4'])(),'recipients':_0x33e322[_0x1c921c(0x9ae)]??[],..._0x33e322});}[_0x34a0aa(0x253)](_0x5d335a){const _0x3dc9df=_0x34a0aa;return this[_0x3dc9df(0x6cf)][_0x3dc9df(0x253)](_0x5d335a);}}const _0x2243a7=require('events');class _0xb07270{['options'];[_0x34a0aa(0x723)]=[];[_0x34a0aa(0x229)];[_0x34a0aa(0x63e)]=new Map();[_0x34a0aa(0x21a)]=new _0x2243a7[(_0x34a0aa(0x899))]();constructor(_0x1b9f10){const _0x109bbc=_0x34a0aa;this[_0x109bbc(0x21d)]=_0x1b9f10,this[_0x109bbc(0x229)]=(this[_0x109bbc(0x21d)][_0x109bbc(0xa02)]-0x2*this[_0x109bbc(0x21d)][_0x109bbc(0x709)])/0x2,this[_0x109bbc(0x723)][_0x109bbc(0x32e)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x4ceef6=0x0;_0x4ceef6<this[_0x109bbc(0x229)];++_0x4ceef6)this[_0x109bbc(0x723)][_0x109bbc(0x32e)]({'start':this[_0x109bbc(0x8e6)](0x1,_0x4ceef6+0x1),'end':this[_0x109bbc(0x8e6)](0x1,_0x4ceef6+0x2)-0x1});}['getNextTargetRank'](_0x4b5034,_0x517a77=0x1){const _0x5c5425=_0x34a0aa;let _0xda4fdd=this['options'][_0x5c5425(0xa06)]-this[_0x5c5425(0x21d)][_0x5c5425(0x709)],_0x27c045=0x1;for(let _0x127580=0x1;_0x127580<_0x517a77;++_0x127580)_0xda4fdd*=this[_0x5c5425(0x21d)][_0x5c5425(0xa06)]-this[_0x5c5425(0x21d)][_0x5c5425(0x709)]-_0x127580,_0x27c045*=this[_0x5c5425(0x21d)]['maxDistance']-this[_0x5c5425(0x21d)][_0x5c5425(0x709)]-_0x127580+0x1;return _0xda4fdd*this['options'][_0x5c5425(0x709)]+_0x4b5034-_0x27c045;}[_0x34a0aa(0x954)](_0xf43841){const _0xedab4f=_0x34a0aa;let _0x2e05f9=0x0;for(;this[_0xedab4f(0x723)][_0x2e05f9][_0xedab4f(0x971)]<_0xf43841;)_0x2e05f9+=0x1;return _0x2e05f9;}[_0x34a0aa(0x4a4)](){const _0x15e873=_0x34a0aa;return this['options'][_0x15e873(0x709)];}[_0x34a0aa(0x2f6)](){const _0x53075b=_0x34a0aa;return this[_0x53075b(0x21d)][_0x53075b(0xa02)];}['getMaxDistance'](){const _0x72f9bc=_0x34a0aa;return this[_0x72f9bc(0x21d)][_0x72f9bc(0xa06)];}[_0x34a0aa(0x64d)](){const _0x2da357=_0x34a0aa;return this[_0x2da357(0x63e)];}[_0x34a0aa(0x6c2)](_0x217a5a,_0x5900d2){const _0x55791a=_0x34a0aa;this[_0x55791a(0x63e)][_0x55791a(0x286)](_0x217a5a,_0x5900d2),this[_0x55791a(0x21a)][_0x55791a(0x9a8)](_0x55791a(0x3d4));}[_0x34a0aa(0x34a)](_0x1447eb){const _0x1a2ff7=_0x34a0aa;this['remoteNodes'][_0x1a2ff7(0x9c4)](_0x1447eb),this[_0x1a2ff7(0x21a)][_0x1a2ff7(0x9a8)]('nodeUpdate');}[_0x34a0aa(0x5f9)](_0x166659){const _0x5a9bb7=_0x34a0aa;return this[_0x5a9bb7(0x63e)][_0x5a9bb7(0x664)](_0x166659);}[_0x34a0aa(0x8c4)](_0x4aaf4f){const _0x22c28e=_0x34a0aa;return this[_0x22c28e(0x63e)][_0x22c28e(0x56b)](_0x4aaf4f);}['getClosestNodes'](_0x29916b,_0x2bbf17){const _0xa79c7=_0x34a0aa,_0x23a9f7=this[_0xa79c7(0x8c4)](_0x2bbf17)?.[_0xa79c7(0x88c)]()??0x0;return _0x29916b[_0xa79c7(0x403)](_0x2ae3bc=>this[_0xa79c7(0x8c4)](_0x2ae3bc))[_0xa79c7(0x285)](_0x506fe0=>void 0x0!==_0x506fe0)[_0xa79c7(0x9b6)]((_0xa43714,_0x40a4ef)=>Math[_0xa79c7(0x762)](_0x23a9f7-(_0xa43714&&_0xa43714[_0xa79c7(0x88c)]()||0x1/0x0))-Math[_0xa79c7(0x762)](_0x23a9f7-(_0x40a4ef&&_0x40a4ef[_0xa79c7(0x88c)]()||0x1/0x0)))[_0xa79c7(0x403)](_0x464645=>_0x464645['getId']());}[_0x34a0aa(0x953)](_0x4f80f8){const _0x2b77f5=_0x34a0aa;this[_0x2b77f5(0x21a)]['on'](_0x2b77f5(0x3d4),_0x4f80f8);}[_0x34a0aa(0x232)](_0x54db1e){const _0x430405=_0x34a0aa;this[_0x430405(0x21a)]['off'](_0x430405(0x3d4),_0x54db1e);}}class _0x33e779{[_0x34a0aa(0x853)];[_0x34a0aa(0x222)];[_0x34a0aa(0x842)];[_0x34a0aa(0x925)];[_0x34a0aa(0x21d)];[_0x34a0aa(0x6f1)];[_0x34a0aa(0x98a)];[_0x34a0aa(0x42d)];[_0x34a0aa(0x678)];[_0x34a0aa(0x90f)];[_0x34a0aa(0x474)];[_0x34a0aa(0x6fd)];['remediationManager'];[_0x34a0aa(0x264)];[_0x34a0aa(0x6eb)];[_0x34a0aa(0x9b5)]=new _0x4fff2f();[_0x34a0aa(0x74f)];[_0x34a0aa(0x411)];constructor(_0x23c544,_0x338550,_0x103310,_0x1b28c6,_0x6ccec3,_0x1cf145,_0x44ed88){const _0x8535e1=_0x34a0aa;switch(this[_0x8535e1(0x853)]=_0x23c544,this['clusterId']=_0x338550,this['authNode']=_0x103310,this[_0x8535e1(0x925)]=_0x1b28c6,this[_0x8535e1(0x21d)]=_0x6ccec3,this[_0x8535e1(0x6f1)]=_0x1cf145,this[_0x8535e1(0x98a)]=_0x44ed88,_0x103310['type']){case _0xb78473['NodeType'][_0x8535e1(0x49a)]:this['localNode']=new _0x238615(_0x103310['getId'](),_0x103310[_0x8535e1(0x391)](),_0x103310[_0x8535e1(0xa15)]());break;case _0xb78473['NodeType']['Agent']:default:this[_0x8535e1(0x411)]=new _0x1fa6ca(_0x103310[_0x8535e1(0x3ad)]());}const _0x3c47a6=this[_0x8535e1(0x187)]();this[_0x8535e1(0x6eb)]=new _0xb07270(this[_0x8535e1(0x21d)]),this[_0x8535e1(0x42d)]=new _0x4486eb(_0x3c47a6,this['options'],this[_0x8535e1(0x6f1)][_0x8535e1(0x463)]),this[_0x8535e1(0x678)]=new _0x2af467(_0x3c47a6,this[_0x8535e1(0x925)],this[_0x8535e1(0x6eb)],this['configs']['iceServers'],this[_0x8535e1(0x21d)]),this[_0x8535e1(0x90f)]=new _0x4ce990(_0x3c47a6,this[_0x8535e1(0x21d)][_0x8535e1(0x8b0)],this[_0x8535e1(0x6eb)][_0x8535e1(0x64c)]()),this[_0x8535e1(0x474)]=new _0x5c2e92(_0x3c47a6),this[_0x8535e1(0x6fd)]=new _0x13da9f(_0x3c47a6),this[_0x8535e1(0x753)]=new _0x4423a1(_0x3c47a6),this[_0x8535e1(0x264)]=new _0x42af32(_0x3c47a6,this[_0x8535e1(0x6eb)]),this['systemTopicUnsubscribe']=this[_0x8535e1(0x901)]();}[_0x34a0aa(0x8f9)](){const _0x3373c6=_0x34a0aa,_0x497c8d=this[_0x3373c6(0x187)]();this['connectionManager']=new _0x2af467(_0x497c8d,this['authService'],this['graphService'],this[_0x3373c6(0x6f1)][_0x3373c6(0x519)],this[_0x3373c6(0x21d)]),this['subscriptionManager']=new _0x4ce990(_0x497c8d,this[_0x3373c6(0x21d)][_0x3373c6(0x8b0)],this['graphService'][_0x3373c6(0x64c)]()),this['statsManager']=new _0x5c2e92(_0x497c8d),this[_0x3373c6(0x6fd)]=new _0x13da9f(_0x497c8d),this['remediationManager']=new _0x4423a1(_0x497c8d),this[_0x3373c6(0x264)]=new _0x42af32(_0x497c8d,this[_0x3373c6(0x6eb)]);const _0x55d105=this[_0x3373c6(0x678)][_0x3373c6(0x727)]();this[_0x3373c6(0x42d)]['getPubSubTopics']()[_0x3373c6(0x66c)](_0x1d7c4b=>{const _0x40a911=_0x3373c6;this[_0x40a911(0x90f)][_0x40a911(0x4af)](_0x1d7c4b,_0x55d105),this['subscriptionManager'][_0x40a911(0x8bd)](_0x55d105,_0x1d7c4b),_0x1d7c4b[_0x40a911(0x240)]();}),this[_0x3373c6(0x42d)]['getObjectStoreBuckets']()[_0x3373c6(0x66c)](_0x137d3d=>{const _0xaa8264=_0x3373c6;this['subscriptionManager']['createOutgoingSubscription'](_0x137d3d,_0x55d105),this[_0xaa8264(0x90f)]['createIncomingSubscription'](_0x55d105,_0x137d3d),_0x137d3d[_0xaa8264(0x240)](),_0x137d3d['sync']();}),this[_0x3373c6(0x42d)]['getKeyValueDatabases']()[_0x3373c6(0x66c)](_0x2fdec2=>{const _0x350c11=_0x3373c6;this['subscriptionManager']['createOutgoingSubscription'](_0x2fdec2,_0x55d105),this[_0x350c11(0x90f)][_0x350c11(0x8bd)](_0x55d105,_0x2fdec2),_0x2fdec2[_0x350c11(0x240)](),this[_0x350c11(0x8e5)](_0x2fdec2);}),this[_0x3373c6(0x42d)][_0x3373c6(0x775)]()[_0x3373c6(0x66c)](_0xe2d377=>{const _0x1470d6=_0x3373c6;this[_0x1470d6(0x90f)]['createOutgoingSubscription'](_0xe2d377,_0x55d105),this[_0x1470d6(0x90f)][_0x1470d6(0x8bd)](_0x55d105,_0xe2d377),_0xe2d377[_0x1470d6(0x240)]();}),this['contentManager'][_0x3373c6(0x6cc)]()[_0x3373c6(0x66c)](_0x56454c=>{const _0x2d449e=_0x3373c6;this[_0x2d449e(0x90f)][_0x2d449e(0x4af)](_0x56454c,_0x55d105),this[_0x2d449e(0x90f)][_0x2d449e(0x8bd)](_0x55d105,_0x56454c),_0x56454c[_0x2d449e(0x240)]();}),this['contentManager']['getVectorDatabases']()[_0x3373c6(0x66c)](_0x32126c=>{const _0x4e8980=_0x3373c6;this[_0x4e8980(0x90f)][_0x4e8980(0x4af)](_0x32126c,_0x55d105),this[_0x4e8980(0x90f)][_0x4e8980(0x8bd)](_0x55d105,_0x32126c),_0x32126c['reset']();}),this['contentManager']['getGraphDatabases']()['forEach'](_0x46977c=>{const _0x1059bf=_0x3373c6;this['subscriptionManager']['createOutgoingSubscription'](_0x46977c,_0x55d105),this['subscriptionManager'][_0x1059bf(0x8bd)](_0x55d105,_0x46977c),_0x46977c['reset']();}),this[_0x3373c6(0x74f)]=this[_0x3373c6(0x901)]();}['registerSystemSource'](_0x484cd8){const _0x244627=_0x34a0aa;try{this['systemTopic'][_0x244627(0x3f2)](_0x484cd8);}catch(_0x35f188){this[_0x244627(0x7dc)](_0x35f188,{});}}[_0x34a0aa(0x97c)](_0x47e7b5){const _0x59cb11=_0x34a0aa;try{this['systemTopic'][_0x59cb11(0x54b)](_0x47e7b5);}catch(_0x117c08){this[_0x59cb11(0x7dc)](_0x117c08,{});}}['createConnection'](_0x473be3,_0x4f0eb0){const _0x20f842=_0x34a0aa;return this[_0x20f842(0x678)][_0x20f842(0x287)](_0x473be3,_0x4f0eb0);}['getConnection'](_0x5f3ea7){const _0x27da5c=_0x34a0aa;try{return this[_0x27da5c(0x678)][_0x27da5c(0x9af)](_0x5f3ea7);}catch(_0x52a6c9){throw this[_0x27da5c(0x7dc)](_0x52a6c9,{});}}[_0x34a0aa(0x65f)](_0x48901c){const _0x2e2c77=_0x34a0aa;try{return this[_0x2e2c77(0x678)][_0x2e2c77(0x65f)](_0x48901c);}catch(_0x1de876){throw this[_0x2e2c77(0x7dc)](_0x1de876,{});}}[_0x34a0aa(0x9b9)](_0x21b85e,_0x5f0a29){const _0x329943=_0x34a0aa;try{return this[_0x329943(0x42d)][_0x329943(0x6fe)](_0x5812be=>_0x5812be[_0x329943(0x8a2)]()===_0x21b85e&&_0x5812be[_0x329943(0x35a)]()===_0x5f0a29)[0x0];}catch(_0x3a2ab1){throw this[_0x329943(0x7dc)](_0x3a2ab1,{});}}[_0x34a0aa(0x6c7)](_0x510db0){const _0x433acb=_0x34a0aa;try{return this[_0x433acb(0x42d)]['getLocalMediaStreams'](_0x319c9b=>_0x319c9b[_0x433acb(0x35a)]()===_0x510db0)[0x0];}catch(_0x45c937){throw this['handleError'](_0x45c937,{});}}['notifyCluster']=(..._0x40b129)=>{const _0x343cca=_0x34a0aa;try{return this[_0x343cca(0x98a)][_0x343cca(0x9a8)](..._0x40b129);}catch(_0x6f83cf){throw this[_0x343cca(0x7dc)](_0x6f83cf,{});}};[_0x34a0aa(0x718)](_0x1330f9){const _0x13a87e=_0x34a0aa;try{this[_0x13a87e(0x474)]['addRemoteNode'](_0x1330f9);}catch(_0x4d7792){throw this['handleError'](_0x4d7792,{});}}[_0x34a0aa(0x4a5)](_0xdf132){const _0x1f55b7=_0x34a0aa;try{this[_0x1f55b7(0x474)][_0x1f55b7(0x180)](_0xdf132);}catch(_0x233b06){throw this[_0x1f55b7(0x7dc)](_0x233b06,{});}}[_0x34a0aa(0x4a7)](_0x27b9a5){return this['connectionManager']['collectStats'](_0x27b9a5);}async['initialize'](){const _0x140d17=_0x34a0aa;try{await this[_0x140d17(0x678)][_0x140d17(0x284)]();const _0x86289c=await this[_0x140d17(0x264)]['discover']();for(const _0x458849 of _0x86289c)this[_0x140d17(0x678)][_0x140d17(0x287)](_0x458849);}catch(_0x4acbcd){throw this[_0x140d17(0x7dc)](_0x4acbcd,{});}}[_0x34a0aa(0x5c8)](_0x8c3aae){const _0x552b50=_0x34a0aa;this[_0x552b50(0x411)][_0x552b50(0x852)]===_0xb78473[_0x552b50(0x7b3)][_0x552b50(0x49a)]&&(this[_0x552b50(0x411)][_0x552b50(0x19c)](_0x8c3aae['getEmail']()),this[_0x552b50(0x411)][_0x552b50(0x77c)](_0x8c3aae[_0x552b50(0x391)]()));}[_0x34a0aa(0x39a)]({force:_0x155c59=!0x1},_0x858c7a=!0x1){const _0x85067d=_0x34a0aa;if(_0x17dbc7['warning'](_0x85067d(0x7cf),{'clusterId':this['clusterId'],'nodeId':this[_0x85067d(0x411)]['getId'](),'nodeType':this[_0x85067d(0x411)][_0x85067d(0x852)]}),!_0x155c59&&this[_0x85067d(0x678)][_0x85067d(0x544)]())throw new _0x4a345c(_0x2df194[_0x85067d(0x22c)],_0x85067d(0x45c));_0x17dbc7[_0x85067d(0x260)](),this['systemTopicUnsubscribe'](),this[_0x85067d(0x753)][_0x85067d(0x39a)](),this[_0x85067d(0x6fd)][_0x85067d(0x39a)](),this[_0x85067d(0x474)][_0x85067d(0x39a)](),this[_0x85067d(0x90f)]['close'](),this[_0x85067d(0x678)][_0x85067d(0x39a)](),this['contentManager']['close'](_0x858c7a),this[_0x85067d(0x264)][_0x85067d(0x39a)]();}[_0x34a0aa(0x805)](_0x2bdead){const _0x2c04d9=_0x34a0aa;try{const _0x4a176e=this[_0x2c04d9(0x42d)][_0x2c04d9(0x96b)](_0x2bdead),_0x5f4b82=this['connectionManager'][_0x2c04d9(0x727)]();return this[_0x2c04d9(0x90f)][_0x2c04d9(0x4af)](_0x4a176e,_0x5f4b82),this[_0x2c04d9(0x90f)][_0x2c04d9(0x8bd)](_0x5f4b82,_0x4a176e),_0x4a176e;}catch(_0x20324a){throw this[_0x2c04d9(0x7dc)](_0x20324a,{});}}async['openObjectStoreBucket'](_0x634dd4,_0x2e22c6){const _0xc4581b=_0x34a0aa;try{const _0x55cc48=this[_0xc4581b(0x42d)]['createObjectStoreBucket'](_0x634dd4,this[_0xc4581b(0x21d)][_0xc4581b(0x9e8)]),_0x5e83e7=this[_0xc4581b(0x678)][_0xc4581b(0x727)]();return this[_0xc4581b(0x90f)][_0xc4581b(0x4af)](_0x55cc48,_0x5e83e7),this[_0xc4581b(0x90f)][_0xc4581b(0x8bd)](_0x5e83e7,_0x55cc48),await _0x55cc48['sync'](_0x2e22c6?.[_0xc4581b(0x9be)]??!0x0),_0x55cc48;}catch(_0x27166a){throw this['handleError'](_0x27166a,{});}}async[_0x34a0aa(0x7c0)](_0x2afc74,_0x3272df){const _0x1c9ed9=_0x34a0aa;try{if(!this['options'][_0x1c9ed9(0x8d4)])throw new _0x4a345c(_0x2df194[_0x1c9ed9(0x2be)],_0x1c9ed9(0x16c));if(!(this['authNode']instanceof _0x312db7))throw new _0x4a345c(_0x2df194[_0x1c9ed9(0x67f)],_0x1c9ed9(0x9e5));const _0x35c7a5=this[_0x1c9ed9(0x21d)][_0x1c9ed9(0x8d4)][_0x1c9ed9(0x56b)](_0x3272df);if(!_0x35c7a5)throw new _0x4a345c(_0x2df194['ExternalStorageConnectorsMissing'],_0x1c9ed9(0x16c));const _0x3e8531=this[_0x1c9ed9(0x42d)][_0x1c9ed9(0x79d)](_0x2afc74,_0x35c7a5),_0x32d9d5=this['connectionManager']['getConnectionGroup']();return this['subscriptionManager'][_0x1c9ed9(0x4af)](_0x3e8531,_0x32d9d5),this[_0x1c9ed9(0x90f)][_0x1c9ed9(0x8bd)](_0x32d9d5,_0x3e8531),await _0x3e8531[_0x1c9ed9(0x8f9)](),_0x3e8531;}catch(_0x233fa0){throw this[_0x1c9ed9(0x7dc)](_0x233fa0,{});}}async[_0x34a0aa(0x8a4)](_0x505b4d,_0x11f241,_0x4505d5){const _0x20dbdf=_0x34a0aa;try{_0x4505d5=_0x4505d5||this['options'][_0x20dbdf(0x266)];const _0x1ad3fa=await this[_0x20dbdf(0x42d)][_0x20dbdf(0x27d)](_0x505b4d,_0x11f241,_0x4505d5),_0x328ecc=this[_0x20dbdf(0x678)][_0x20dbdf(0x727)]();return this[_0x20dbdf(0x90f)][_0x20dbdf(0x4af)](_0x1ad3fa,_0x328ecc),this['subscriptionManager']['createIncomingSubscription'](_0x328ecc,_0x1ad3fa),await _0x1ad3fa[_0x20dbdf(0x8f9)](),this[_0x20dbdf(0x8e5)](_0x1ad3fa),_0x1ad3fa;}catch(_0x34e27f){throw this[_0x20dbdf(0x7dc)](_0x34e27f,{});}}async[_0x34a0aa(0x7e7)](_0x248db0){const _0x196712=_0x34a0aa;try{const _0x424906=await this[_0x196712(0x42d)][_0x196712(0x446)](_0x248db0,this[_0x196712(0x6eb)]),_0x24ccda=this[_0x196712(0x678)][_0x196712(0x727)]();return this[_0x196712(0x90f)][_0x196712(0x4af)](_0x424906,_0x24ccda),this[_0x196712(0x90f)][_0x196712(0x8bd)](_0x24ccda,_0x424906),_0x424906[_0x196712(0x8f9)](),_0x424906;}catch(_0x3cb3a6){throw this[_0x196712(0x7dc)](_0x3cb3a6,{});}}async[_0x34a0aa(0x330)](_0x48d71d){throw new Error('Method\x20not\x20supported');}async[_0x34a0aa(0x6d5)](_0x2d92ed){const _0x360edc=_0x34a0aa;try{const _0x401c3c=await this[_0x360edc(0x42d)]['createGenerativeAIContext'](_0x2d92ed,this[_0x360edc(0x6eb)]),_0x5b59c1=this[_0x360edc(0x678)][_0x360edc(0x727)]();return this[_0x360edc(0x90f)][_0x360edc(0x4af)](_0x401c3c,_0x5b59c1),this[_0x360edc(0x90f)]['createIncomingSubscription'](_0x5b59c1,_0x401c3c),_0x401c3c['open'](),_0x401c3c;}catch(_0xf5926a){throw console[_0x360edc(0x165)](_0xf5926a),this[_0x360edc(0x7dc)](_0xf5926a,{});}}async[_0x34a0aa(0x80a)](_0x1ed908){const _0x229309=_0x34a0aa;try{if(!this[_0x229309(0x21d)][_0x229309(0x5da)]||!this[_0x229309(0x21d)][_0x229309(0x9cc)]||!this[_0x229309(0x21d)]['nlpLibraryConnector'])throw new _0x4a345c(_0x2df194[_0x229309(0x2c7)],_0x229309(0x85c));if(!(this[_0x229309(0x842)]instanceof _0x312db7))throw new _0x4a345c(_0x2df194[_0x229309(0x67f)],_0x229309(0x9e5));const _0xae78a6=[];for(const _0x5f2bc3 of this[_0x229309(0x21d)][_0x229309(0x5da)])_0xae78a6[_0x229309(0x32e)](new _0x5f2bc3());const _0x3f0495=new this[(_0x229309(0x21d))]['documentParserConnector'](),_0x53d2bd=new this[(_0x229309(0x21d))][(_0x229309(0xa31))]();let _0x2e4114;this[_0x229309(0x21d)]['searchConnector']&&(_0x2e4114=new this[(_0x229309(0x21d))][(_0x229309(0x91b))]());const _0x669875=await this['contentManager'][_0x229309(0x921)](_0x1ed908,this[_0x229309(0x842)],_0xae78a6,_0x3f0495,_0x53d2bd,_0x2e4114),_0x2d23d9=this['connectionManager'][_0x229309(0x727)]();this['subscriptionManager'][_0x229309(0x4af)](_0x669875,_0x2d23d9),this[_0x229309(0x90f)][_0x229309(0x8bd)](_0x2d23d9,_0x669875);const _0x1f3aa6=this[_0x229309(0x264)][_0x229309(0x608)]();return _0x669875['open'](0x0===_0x1f3aa6[_0x229309(0x831)]||void 0x0),_0x669875;}catch(_0x2364ad){throw this['handleError'](_0x2364ad,{});}}[_0x34a0aa(0x5a2)](_0x349271){const _0x442e75=_0x34a0aa;try{if(!this['options'][_0x442e75(0x902)])throw new _0x4a345c(_0x2df194['GraphDatabaseMissingConnector'],'Missing\x20graph\x20database\x20connector');if(!(this[_0x442e75(0x842)]instanceof _0x312db7))throw new _0x4a345c(_0x2df194[_0x442e75(0x67f)],'Node\x20is\x20not\x20an\x20agent');const _0x4c5f64=this['contentManager'][_0x442e75(0x675)](_0x349271,this[_0x442e75(0x21d)][_0x442e75(0x902)]),_0x21d3c1=this[_0x442e75(0x678)]['getConnectionGroup']();return this[_0x442e75(0x90f)]['createOutgoingSubscription'](_0x4c5f64,_0x21d3c1),this['subscriptionManager'][_0x442e75(0x8bd)](_0x21d3c1,_0x4c5f64),_0x4c5f64;}catch(_0x45b2c9){throw this[_0x442e75(0x7dc)](_0x45b2c9,{});}}[_0x34a0aa(0x399)](_0x37de2){const _0x45c282=_0x34a0aa;try{if(!this[_0x45c282(0x21d)][_0x45c282(0x895)])throw new _0x4a345c(_0x2df194[_0x45c282(0x655)],'Missing\x20vector\x20database\x20connector');if(!(this[_0x45c282(0x842)]instanceof _0x312db7))throw new _0x4a345c(_0x2df194[_0x45c282(0x67f)],_0x45c282(0x9e5));const _0x4ab72c=this[_0x45c282(0x42d)][_0x45c282(0x83b)](_0x37de2,this[_0x45c282(0x21d)][_0x45c282(0x895)]),_0x5d5581=this['connectionManager'][_0x45c282(0x727)]();return this[_0x45c282(0x90f)][_0x45c282(0x4af)](_0x4ab72c,_0x5d5581),this['subscriptionManager'][_0x45c282(0x8bd)](_0x5d5581,_0x4ab72c),_0x4ab72c;}catch(_0x52bdc5){throw this[_0x45c282(0x7dc)](_0x52bdc5,{});}}[_0x34a0aa(0x448)](_0x10270b){const _0x248474=_0x34a0aa;try{return this[_0x248474(0x42d)]['getPubSubTopics'](_0x10270b);}catch(_0x39952d){throw this[_0x248474(0x7dc)](_0x39952d,{});}}[_0x34a0aa(0x251)](_0xb962c4){const _0x54382e=_0x34a0aa;try{return this[_0x54382e(0x42d)]['getObjectStoreBuckets'](_0xb962c4);}catch(_0x47050e){throw this[_0x54382e(0x7dc)](_0x47050e,{});}}['getExternalStorageConnections'](_0x284379){const _0x5e2821=_0x34a0aa;try{return this['contentManager'][_0x5e2821(0x167)](_0x284379);}catch(_0x405f09){throw this[_0x5e2821(0x7dc)](_0x405f09,{});}}[_0x34a0aa(0x63a)](_0x14e13a){const _0x3c7a3e=_0x34a0aa;try{return this['contentManager']['getKeyValueDatabases'](_0x14e13a);}catch(_0x4e8e4d){throw this[_0x3c7a3e(0x7dc)](_0x4e8e4d,{});}}['getGenerativeAIContexts'](_0x243409){const _0x3744dc=_0x34a0aa;try{return this[_0x3744dc(0x42d)][_0x3744dc(0x990)](_0x243409);}catch(_0x49c39a){throw this['handleError'](_0x49c39a,{});}}['getGenerativeAIWorkers'](_0x2e1323){const _0x5f264f=_0x34a0aa;try{return this[_0x5f264f(0x42d)][_0x5f264f(0x6be)](_0x2e1323);}catch(_0x76c0e8){throw this[_0x5f264f(0x7dc)](_0x76c0e8,{});}}[_0x34a0aa(0x20d)](_0x4864df){const _0xca350=_0x34a0aa;try{return this[_0xca350(0x42d)][_0xca350(0x20d)](_0x4864df);}catch(_0x5bc24b){throw this[_0xca350(0x7dc)](_0x5bc24b,{});}}[_0x34a0aa(0x178)](_0xc388a4,_0x2f6690){const _0x380abb=_0x34a0aa;if(!this['configs']['features'][_0x380abb(0x25d)](_0xaa7f04['MediaStream']))throw new _0x4a345c(_0x2df194[_0x380abb(0x681)],_0x380abb(0x4c2));try{return this[_0x380abb(0x42d)][_0x380abb(0x178)](_0xc388a4,_0x2f6690);}catch(_0x38fc50){throw this[_0x380abb(0x7dc)](_0x38fc50,{});}}['createLocalDynamicMediaStream'](_0x595059,_0x14546f){const _0x577a99=_0x34a0aa;if(!this[_0x577a99(0x6f1)][_0x577a99(0x7b8)][_0x577a99(0x25d)](_0xaa7f04[_0x577a99(0x18a)]))throw new _0x4a345c(_0x2df194[_0x577a99(0x681)],_0x577a99(0x4c2));try{return this[_0x577a99(0x42d)][_0x577a99(0x2ed)](_0x595059,_0x14546f);}catch(_0x45a344){throw this[_0x577a99(0x7dc)](_0x45a344,{});}}[_0x34a0aa(0x52a)](_0x45f6a7){const _0x4e63b4=_0x34a0aa;if(!this[_0x4e63b4(0x6f1)][_0x4e63b4(0x7b8)][_0x4e63b4(0x25d)](_0xaa7f04[_0x4e63b4(0x18a)]))throw new _0x4a345c(_0x2df194[_0x4e63b4(0x681)],_0x4e63b4(0x4c2));try{return this[_0x4e63b4(0x42d)][_0x4e63b4(0x52a)](_0x45f6a7);}catch(_0xe6e6be){throw this['handleError'](_0xe6e6be,{});}}[_0x34a0aa(0x6fe)](_0x59aacc){const _0x839d2f=_0x34a0aa;if(!this[_0x839d2f(0x6f1)][_0x839d2f(0x7b8)][_0x839d2f(0x25d)](_0xaa7f04[_0x839d2f(0x18a)]))throw new _0x4a345c(_0x2df194[_0x839d2f(0x681)],_0x839d2f(0x4c2));try{return this[_0x839d2f(0x42d)][_0x839d2f(0x6fe)](_0x59aacc);}catch(_0x264720){throw this[_0x839d2f(0x7dc)](_0x264720,{});}}[_0x34a0aa(0x4d9)](_0x2c58b9){const _0x2bfc84=_0x34a0aa;try{return this[_0x2bfc84(0x42d)]['getVectorDatabases'](_0x2c58b9);}catch(_0x472c0f){throw this['handleError'](_0x472c0f,{});}}[_0x34a0aa(0x609)](_0x516801,_0x371da0){const _0x122eb0=_0x34a0aa;return this[_0x122eb0(0x264)][_0x122eb0(0x609)](_0x516801,_0x371da0);}[_0x34a0aa(0x652)](){const _0x11c0a4=_0x34a0aa;return this['nodeManager'][_0x11c0a4(0x652)]();}['getRemoteNodes'](_0x166478){const _0x140d07=_0x34a0aa;try{return this['nodeManager'][_0x140d07(0x64d)](_0x166478);}catch(_0x518c73){throw this[_0x140d07(0x7dc)](_0x518c73,{});}}[_0x34a0aa(0x241)](){const _0x22b39d=_0x34a0aa;return this[_0x22b39d(0x678)]['waitForArrayBufferSize']();}[_0x34a0aa(0x170)](_0x2c9d9a){const _0x22356d=_0x34a0aa;return this[_0x22356d(0x264)][_0x22356d(0x170)](_0x2c9d9a);}async[_0x34a0aa(0x40c)](_0x4cd03e){const _0xe4f7f3=_0x34a0aa;try{if(_0x17dbc7[_0xe4f7f3(0x6cb)](_0x5d2ed2['Events'],_0xe4f7f3(0x337),this[_0xe4f7f3(0x264)][_0xe4f7f3(0x917)](),_0x4cd03e),_0x40ee5c(_0x4cd03e,this['nodeManager']['getLocalId']()))return void this[_0xe4f7f3(0x678)][_0xe4f7f3(0x1ef)](_0x4cd03e);switch(_0x4cd03e['messageType']){case _0x174459[_0xe4f7f3(0x562)]:this[_0xe4f7f3(0x474)]['handleContentSystemEvents'](_0x4cd03e),this[_0xe4f7f3(0x90f)]['handleContentSystemEvents'](_0x4cd03e),this[_0xe4f7f3(0x42d)][_0xe4f7f3(0x751)](_0x4cd03e);break;case _0x174459[_0xe4f7f3(0x221)]:this[_0xe4f7f3(0x90f)][_0xe4f7f3(0x38a)](_0x4cd03e),this['connectionManager']['handleNodeSystemEvents'](_0x4cd03e),this[_0xe4f7f3(0x42d)]['handleNodeSystemEvents'](_0x4cd03e),this[_0xe4f7f3(0x264)][_0xe4f7f3(0x38a)](_0x4cd03e);break;case _0x174459[_0xe4f7f3(0x48a)]:this[_0xe4f7f3(0x753)][_0xe4f7f3(0x89b)](_0x4cd03e);break;case _0x174459['Remediation']:this[_0xe4f7f3(0x753)][_0xe4f7f3(0x97a)](_0x4cd03e);break;case _0x174459['Stats']:this[_0xe4f7f3(0x6fd)][_0xe4f7f3(0x490)](_0x4cd03e);break;case _0x174459[_0xe4f7f3(0x4e5)]:_0x4cd03e[_0xe4f7f3(0x1f6)][_0xe4f7f3(0x852)]!==_0x590b6e[_0xe4f7f3(0x8fa)]?(this[_0xe4f7f3(0x90f)][_0xe4f7f3(0xa47)](_0x4cd03e),this[_0xe4f7f3(0x42d)][_0xe4f7f3(0xa47)](_0x4cd03e)):(this[_0xe4f7f3(0x42d)]['handleSubscriptionSystemEvents'](_0x4cd03e),this[_0xe4f7f3(0x90f)][_0xe4f7f3(0xa47)](_0x4cd03e));break;case _0x174459['PeerConnection']:await this['connectionManager'][_0xe4f7f3(0x182)](_0x4cd03e),this[_0xe4f7f3(0x474)][_0xe4f7f3(0x182)](_0x4cd03e),this['nodeManager'][_0xe4f7f3(0x182)](_0x4cd03e),this[_0xe4f7f3(0x90f)][_0xe4f7f3(0x182)](_0x4cd03e);}}catch(_0x2c6b61){throw _0x17dbc7[_0xe4f7f3(0x951)]('handleSystemEvents',_0x2c6b61),this[_0xe4f7f3(0x7dc)](_0x2c6b61,{});}}[_0x34a0aa(0x7dc)](_0x57d440,_0x6cf3b9){const _0x41e727=_0x34a0aa;if(!(_0x57d440 instanceof _0x2e8877)){if(_0x57d440 instanceof _0x4a345c)throw _0x57d440;if(!(_0x57d440 instanceof Error))throw new _0x4a345c(_0x2df194[_0x41e727(0x60b)],_0x41e727(0x5ef)+_0x57d440);if(!(_0x57d440 instanceof _0x4e89dd))throw new _0x4a345c(_0x2df194[_0x41e727(0x60b)],_0x41e727(0xa18)+_0x57d440[_0x41e727(0x7e0)]);switch(_0x57d440[_0x41e727(0x99d)]){case _0x4e89dd['codes']['MissingSystemTopic']:case _0x4e89dd[_0x41e727(0x4ea)]['MissingRemoteConnection']:case _0x4e89dd['codes'][_0x41e727(0x380)]:case _0x4e89dd['codes'][_0x41e727(0x4fe)]:case _0x4e89dd[_0x41e727(0x4ea)][_0x41e727(0x52c)]:case _0x4e89dd['codes']['InvalidDataChannel']:case _0x4e89dd['codes']['InvalidPublisher']:case _0x4e89dd[_0x41e727(0x4ea)][_0x41e727(0x577)]:case _0x4e89dd[_0x41e727(0x4ea)][_0x41e727(0x1d4)]:case _0x4e89dd[_0x41e727(0x4ea)][_0x41e727(0xa3a)]:case _0x4e89dd[_0x41e727(0x4ea)][_0x41e727(0x301)]:case _0x4e89dd[_0x41e727(0x4ea)][_0x41e727(0x358)]:}throw _0x17dbc7[_0x41e727(0x165)](_0x41e727(0x4ad)+_0x57d440['message'],{'clusterId':this[_0x41e727(0x222)],'nodeId':this[_0x41e727(0x411)][_0x41e727(0x3ad)](),'nodeType':this[_0x41e727(0x411)][_0x41e727(0x852)]},_0x57d440),new _0x4a345c(_0x2df194[_0x41e727(0x60b)],_0x41e727(0x223)+_0x57d440[_0x41e727(0x7e0)]);}}['getConfigs'](){const _0x44054c=_0x34a0aa;return{'mediator':this,'vendorId':this[_0x44054c(0x853)],'clusterId':this[_0x44054c(0x222)],'localNode':this[_0x44054c(0x411)]};}[_0x34a0aa(0x901)](){const _0x1094f4=_0x34a0aa;return this[_0x1094f4(0x9b5)][_0x1094f4(0x253)](_0x47606a=>{const _0x2ef656=_0x1094f4,_0xd9ad=_0x584909(_0x47606a,this[_0x2ef656(0x411)][_0x2ef656(0x3ad)]()),_0x467d65=_0x47606a[_0x2ef656(0x282)]===_0x174459[_0x2ef656(0x992)]||_0x47606a[_0x2ef656(0x282)]===_0x174459[_0x2ef656(0x25b)]&&_0x47606a[_0x2ef656(0x1f6)]['type']===_0x376bcb[_0x2ef656(0x992)]?_0x5d2ed2[_0x2ef656(0x487)]:_0x5d2ed2[_0x2ef656(0x54a)];_0x17dbc7[_0x2ef656(0x7bb)](_0x467d65,_0x47606a[_0x2ef656(0x666)]+_0x2ef656(0x29f)+_0xd9ad,_0x47606a),this[_0x2ef656(0x40c)](_0x47606a)['catch'](_0x38d5d3=>{console['error'](_0x38d5d3);});});}async[_0x34a0aa(0x8e5)](_0x28f0f2){const _0x3d869e=_0x34a0aa,{timingLogger:_0x1beef1,logger:_0x413696,logBeforeSync:_0x2c8f7b,logAfterSync:_0x1168de}=function(_0x34f437,_0x4d4d7c){const _0x32527f=a0_0x1d5b;if(!_0x17dbc7['isChannelEnabled'](_0x4d4d7c))return _0x17dbc7[_0x32527f(0x951)](_0x32527f(0x8aa)+_0x4d4d7c),{..._0xcb96bc(_0x34f437,_0x4d4d7c),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x52fef9,logger:_0xd374ff}=_0xcb96bc(_0x34f437,_0x4d4d7c);let _0x113018=0x0;return _0x113018=Date[_0x32527f(0x517)](),{'syncStartTime':_0x113018,'timingLogger':_0x52fef9,'logger':_0xd374ff,'logBeforeSync':()=>(_0x342a1f(_0x4d4d7c,_0x32527f(0x31c)),_0x52fef9['now']()),'logAfterSync':(_0x2c2359,_0x26d01b)=>{const _0x54830c=_0x32527f,_0xebe2ad=Date[_0x54830c(0x517)]();_0x342a1f(_0x4d4d7c,_0x54830c(0x5a8)+_0x26d01b);const _0x528195=(_0xebe2ad-_0x113018)/0x3e8,_0x3dbc3c=(_0xebe2ad-_0x2c2359)/0x3e8;_0x17dbc7[_0x54830c(0x6cb)](_0x4d4d7c,_0x54830c(0x457),_0x34f437,'\x0a\x20===\x20Total\x20Time:\x20'+_0x528195[_0x54830c(0x33f)](0x2)+_0x54830c(0x557),'\x0a\x20===\x20Wait\x20Time:\x20'+_0x3dbc3c[_0x54830c(0x33f)](0x3)+_0x54830c(0x557),_0x54830c(0x6d7)+((_0xebe2ad-_0x113018)/0x3e8-_0x3dbc3c)[_0x54830c(0x33f)](0x2)+_0x54830c(0x557));}};}(_0x28f0f2['getLabel'](),_0x5d2ed2[_0x3d869e(0x481)]);_0x413696[_0x3d869e(0x6cb)](_0x3d869e(0x62b));const _0x5e4d88=this['nodeManager'][_0x3d869e(0x608)]()[_0x3d869e(0x831)]>0x0;if(_0x5e4d88){_0x413696['log']('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this[_0x3d869e(0x264)]['getAncestorIds']()),_0x1beef1[_0x3d869e(0x9a5)](),await Promise['all'](this['nodeManager'][_0x3d869e(0x608)]()[_0x3d869e(0x403)](async _0x3a785d=>await this[_0x3d869e(0x264)]['isNodeReady'](_0x3a785d)))[_0x3d869e(0x908)](_0x24a002=>_0x17dbc7[_0x3d869e(0x701)](_0x3d869e(0x43e),{'nodeId':this[_0x3d869e(0x411)][_0x3d869e(0x3ad)](),'nodeType':this[_0x3d869e(0x411)][_0x3d869e(0x852)]}));const _0x2ffc72=_0x413696[_0x3d869e(0x764)](()=>this['nodeManager'][_0x3d869e(0x608)](),[]);_0x1beef1[_0x3d869e(0x335)]('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0x2ffc72+_0x3d869e(0x1b4));}_0x1168de(_0x2c8f7b(),await _0x28f0f2['sync'](_0x5e4d88,async()=>{const _0xc38b6=_0x3d869e;_0x1beef1['start'](),await this[_0xc38b6(0x264)][_0xc38b6(0x172)](),_0x1beef1[_0xc38b6(0x335)](_0xc38b6(0x76b)),_0x28f0f2[_0xc38b6(0x2a3)](!0x0,()=>{const _0x5212b1=_0xc38b6;_0x413696[_0x5212b1(0x6cb)](_0x5212b1(0x526)),_0x28f0f2[_0x5212b1(0x2a3)](!0x1);},!0x0);}));}}class _0x492e59{[_0x34a0aa(0x853)];[_0x34a0aa(0x222)];[_0x34a0aa(0x842)];[_0x34a0aa(0x21a)];[_0x34a0aa(0x653)];constructor(_0x41e87b,_0x49ce44,_0x1d3da0,_0x31bed9,_0x522f54,_0x288c8f,_0x36db9b=new _0x1a5802()){const _0x4ae88a=_0x34a0aa;this['vendorId']=_0x41e87b,this['clusterId']=_0x49ce44,this[_0x4ae88a(0x842)]=_0x1d3da0,this[_0x4ae88a(0x21a)]=_0x36db9b,this[_0x4ae88a(0x653)]=new _0x33e779(this[_0x4ae88a(0x853)],this[_0x4ae88a(0x222)],_0x1d3da0,_0x31bed9,_0x522f54,_0x288c8f,this);}async[_0x34a0aa(0x45b)](){const _0x388128=_0x34a0aa;await this[_0x388128(0x653)][_0x388128(0x284)](),this[_0x388128(0x842)][_0x388128(0x852)]===_0xb78473[_0x388128(0x7b3)]['User']&&this[_0x388128(0x842)][_0x388128(0x36c)](this[_0x388128(0x222)],_0x59fab0=>{const _0x336520=_0x388128;this[_0x336520(0x653)][_0x336520(0x5c8)](_0x59fab0);});}['leave'](_0x31116e={}){const _0x2fb9a4=_0x34a0aa;this['orchestrator']['close'](_0x31116e),this['authNode'][_0x2fb9a4(0x852)]===_0xb78473[_0x2fb9a4(0x7b3)][_0x2fb9a4(0x49a)]&&this[_0x2fb9a4(0x842)][_0x2fb9a4(0x6bf)](this['clusterId']),this[_0x2fb9a4(0x9a8)](_0x2fb9a4(0x667),void 0x0);}[_0x34a0aa(0x805)](_0x4a2d57){const _0x46d412=_0x34a0aa,_0x4283e7=this[_0x46d412(0x653)]['openPubSubTopic'](_0x4a2d57);return{'getName':_0x4283e7['getName'][_0x46d412(0xa1e)](_0x4283e7),'getOwnerId':_0x4283e7[_0x46d412(0x8a2)][_0x46d412(0xa1e)](_0x4283e7),'getContentType':_0x4283e7[_0x46d412(0x561)][_0x46d412(0xa1e)](_0x4283e7),'publish':_0x4283e7[_0x46d412(0x5c0)][_0x46d412(0xa1e)](_0x4283e7),'subscribe':_0x4283e7['subscribe'][_0x46d412(0xa1e)](_0x4283e7),'unsubscribe':_0x4283e7[_0x46d412(0x626)][_0x46d412(0xa1e)](_0x4283e7),'close':_0x4283e7[_0x46d412(0x39a)]['bind'](_0x4283e7)};}async[_0x34a0aa(0x5ee)](_0x47f0a4,_0x48b097){const _0x2f7b7e=_0x34a0aa,_0x1b1241=await this[_0x2f7b7e(0x653)][_0x2f7b7e(0x5ee)](_0x47f0a4,_0x48b097);return{'getName':_0x1b1241['getName'][_0x2f7b7e(0xa1e)](_0x1b1241),'getOwnerId':_0x1b1241['getOwnerId'][_0x2f7b7e(0xa1e)](_0x1b1241),'getContentType':_0x1b1241[_0x2f7b7e(0x561)][_0x2f7b7e(0xa1e)](_0x1b1241),'publish':_0x1b1241[_0x2f7b7e(0x5c0)][_0x2f7b7e(0xa1e)](_0x1b1241),'unpublish':_0x1b1241['unpublish'][_0x2f7b7e(0xa1e)](_0x1b1241),'get':_0x1b1241[_0x2f7b7e(0x56b)]['bind'](_0x1b1241),'list':_0x1b1241[_0x2f7b7e(0x61a)][_0x2f7b7e(0xa1e)](_0x1b1241),'getSize':_0x1b1241[_0x2f7b7e(0x3e5)]['bind'](_0x1b1241),'subscribe':_0x1b1241['subscribe']['bind'](_0x1b1241),'unsubscribe':_0x1b1241[_0x2f7b7e(0x626)][_0x2f7b7e(0xa1e)](_0x1b1241),'close':_0x1b1241[_0x2f7b7e(0x39a)]['bind'](_0x1b1241)};}async[_0x34a0aa(0x7c0)](_0x3d05be,_0x2eb447){const _0x328b4f=_0x34a0aa,_0x293a25=await this[_0x328b4f(0x653)]['openExternalStorageConnection'](_0x3d05be,_0x2eb447);return{'getName':_0x293a25['getName'][_0x328b4f(0xa1e)](_0x293a25),'getOwnerId':_0x293a25['getOwnerId'][_0x328b4f(0xa1e)](_0x293a25),'getContentType':_0x293a25['getContentType']['bind'](_0x293a25),'close':_0x293a25[_0x328b4f(0x39a)][_0x328b4f(0xa1e)](_0x293a25),'get':_0x293a25[_0x328b4f(0x56b)][_0x328b4f(0xa1e)](_0x293a25),'list':_0x293a25['list'][_0x328b4f(0xa1e)](_0x293a25),'subscribe':_0x293a25['subscribe'][_0x328b4f(0xa1e)](_0x293a25),'unsubscribe':_0x293a25[_0x328b4f(0x626)]['bind'](_0x293a25)};}async[_0x34a0aa(0x8a4)](_0x12d761,_0x382c98,_0x4ad404){const _0x1bd6d6=_0x34a0aa,_0x19141b=await this['orchestrator'][_0x1bd6d6(0x8a4)](_0x12d761,_0x382c98,_0x4ad404);return{'getName':_0x19141b[_0x1bd6d6(0x3dd)][_0x1bd6d6(0xa1e)](_0x19141b),'getOwnerId':_0x19141b[_0x1bd6d6(0x8a2)]['bind'](_0x19141b),'getContentType':_0x19141b['getContentType'][_0x1bd6d6(0xa1e)](_0x19141b),'getTable':_0x19141b[_0x1bd6d6(0x606)]['bind'](_0x19141b),'subscribe':_0x19141b[_0x1bd6d6(0x253)]['bind'](_0x19141b),'unsubscribe':_0x19141b[_0x1bd6d6(0x626)]['bind'](_0x19141b),'close':_0x19141b['close'][_0x1bd6d6(0xa1e)](_0x19141b)};}async[_0x34a0aa(0x7e7)](_0x258f03){const _0x4654c1=_0x34a0aa,_0x316330=await this[_0x4654c1(0x653)][_0x4654c1(0x7e7)](_0x258f03);return{'getName':_0x316330[_0x4654c1(0x3dd)]['bind'](_0x316330),'getOwnerId':_0x316330[_0x4654c1(0x8a2)]['bind'](_0x316330),'getContentType':_0x316330[_0x4654c1(0x561)]['bind'](_0x316330),'createJob':_0x316330['createJob']['bind'](_0x316330),'getJob':_0x316330[_0x4654c1(0x1cb)][_0x4654c1(0xa1e)](_0x316330),'getJobs':_0x316330[_0x4654c1(0x315)]['bind'](_0x316330),'close':_0x316330['close'][_0x4654c1(0xa1e)](_0x316330)};}async['openJobWorker'](_0x67bfaa){const _0x4f9115=_0x34a0aa,_0x1faf0e=await this[_0x4f9115(0x653)][_0x4f9115(0x330)](_0x67bfaa);return{'close':_0x1faf0e['close'][_0x4f9115(0xa1e)](_0x1faf0e)};}async[_0x34a0aa(0x6d5)](_0x1d30d0){const _0x5e6523=_0x34a0aa,_0x5bf7f2=await this['orchestrator']['openGenerativeAIContext'](_0x1d30d0);return{'createAIJob':_0x5bf7f2[_0x5e6523(0x78a)][_0x5e6523(0xa1e)](_0x5bf7f2),'ratePrompt':_0x5bf7f2[_0x5e6523(0x4ca)][_0x5e6523(0xa1e)](_0x5bf7f2),'downloadDocument':_0x5bf7f2[_0x5e6523(0x961)][_0x5e6523(0xa1e)](_0x5bf7f2),'getDataBucketIds':_0x5bf7f2['getDataBucketIds'][_0x5e6523(0xa1e)](_0x5bf7f2),'close':_0x5bf7f2[_0x5e6523(0x39a)]['bind'](_0x5bf7f2)};}async['openGenerativeAIWorker'](_0x508ba4){const _0xbdb98f=_0x34a0aa,_0x874a45=await this[_0xbdb98f(0x653)][_0xbdb98f(0x80a)](_0x508ba4);return{'close':_0x874a45['close'][_0xbdb98f(0xa1e)](_0x874a45)};}[_0x34a0aa(0x5a2)](_0x425b0b){const _0x449756=_0x34a0aa,_0x131cf9=this['orchestrator'][_0x449756(0x5a2)](_0x425b0b);return{'getName':_0x131cf9[_0x449756(0x3dd)][_0x449756(0xa1e)](_0x131cf9),'getOwnerId':_0x131cf9[_0x449756(0x8a2)][_0x449756(0xa1e)](_0x131cf9),'getContentType':_0x131cf9[_0x449756(0x561)]['bind'](_0x131cf9),'addNode':_0x131cf9[_0x449756(0x551)][_0x449756(0xa1e)](_0x131cf9),'addEdge':_0x131cf9[_0x449756(0x89e)]['bind'](_0x131cf9),'getContent':_0x131cf9['getContent'][_0x449756(0xa1e)](_0x131cf9),'remove':_0x131cf9[_0x449756(0x754)][_0x449756(0xa1e)](_0x131cf9),'close':_0x131cf9[_0x449756(0x39a)][_0x449756(0xa1e)](_0x131cf9)};}['openVectorDatabase'](_0x7c76c0){const _0x3b5420=_0x34a0aa,_0xe9efcf=this[_0x3b5420(0x653)][_0x3b5420(0x399)](_0x7c76c0);return{'getName':_0xe9efcf['getName'][_0x3b5420(0xa1e)](_0xe9efcf),'getOwnerId':_0xe9efcf[_0x3b5420(0x8a2)][_0x3b5420(0xa1e)](_0xe9efcf),'getContentType':_0xe9efcf[_0x3b5420(0x561)]['bind'](_0xe9efcf),'search':_0xe9efcf['search'][_0x3b5420(0xa1e)](_0xe9efcf),'insert':_0xe9efcf[_0x3b5420(0x87e)][_0x3b5420(0xa1e)](_0xe9efcf),'remove':_0xe9efcf['remove'][_0x3b5420(0xa1e)](_0xe9efcf),'close':_0xe9efcf[_0x3b5420(0x39a)]['bind'](_0xe9efcf)};}[_0x34a0aa(0x448)](_0x3c84fe){const _0x3f7af3=_0x34a0aa;return this['orchestrator'][_0x3f7af3(0x448)](_0x3c84fe)[_0x3f7af3(0x403)](_0x152554=>({'getName':_0x152554[_0x3f7af3(0x3dd)][_0x3f7af3(0xa1e)](_0x152554),'getOwnerId':_0x152554[_0x3f7af3(0x8a2)][_0x3f7af3(0xa1e)](_0x152554),'getContentType':_0x152554[_0x3f7af3(0x561)][_0x3f7af3(0xa1e)](_0x152554),'publish':_0x152554[_0x3f7af3(0x5c0)][_0x3f7af3(0xa1e)](_0x152554),'subscribe':_0x152554[_0x3f7af3(0x253)][_0x3f7af3(0xa1e)](_0x152554),'unsubscribe':_0x152554[_0x3f7af3(0x626)][_0x3f7af3(0xa1e)](_0x152554),'close':_0x152554[_0x3f7af3(0x39a)][_0x3f7af3(0xa1e)](_0x152554)}));}[_0x34a0aa(0x251)](_0x566580){const _0xede42c=_0x34a0aa;return this['orchestrator'][_0xede42c(0x251)](_0x566580)[_0xede42c(0x403)](_0x41643e=>({'getName':_0x41643e[_0xede42c(0x3dd)][_0xede42c(0xa1e)](_0x41643e),'getOwnerId':_0x41643e[_0xede42c(0x8a2)]['bind'](_0x41643e),'getContentType':_0x41643e['getContentType'][_0xede42c(0xa1e)](_0x41643e),'publish':_0x41643e[_0xede42c(0x5c0)][_0xede42c(0xa1e)](_0x41643e),'unpublish':_0x41643e['unpublish'][_0xede42c(0xa1e)](_0x41643e),'get':_0x41643e['get'][_0xede42c(0xa1e)](_0x41643e),'list':_0x41643e[_0xede42c(0x61a)][_0xede42c(0xa1e)](_0x41643e),'getSize':_0x41643e[_0xede42c(0x3e5)][_0xede42c(0xa1e)](_0x41643e),'subscribe':_0x41643e[_0xede42c(0x253)]['bind'](_0x41643e),'unsubscribe':_0x41643e['unsubscribe'][_0xede42c(0xa1e)](_0x41643e),'close':_0x41643e[_0xede42c(0x39a)][_0xede42c(0xa1e)](_0x41643e)}));}[_0x34a0aa(0x167)](_0xbf2f32){const _0x2e8512=_0x34a0aa;return this[_0x2e8512(0x653)][_0x2e8512(0x167)](_0xbf2f32)[_0x2e8512(0x403)](_0x5a88d8=>({'getName':_0x5a88d8[_0x2e8512(0x3dd)][_0x2e8512(0xa1e)](_0x5a88d8),'getOwnerId':_0x5a88d8[_0x2e8512(0x8a2)][_0x2e8512(0xa1e)](_0x5a88d8),'getContentType':_0x5a88d8['getContentType'][_0x2e8512(0xa1e)](_0x5a88d8),'close':_0x5a88d8[_0x2e8512(0x39a)][_0x2e8512(0xa1e)](_0x5a88d8),'get':_0x5a88d8['get']['bind'](_0x5a88d8),'list':_0x5a88d8[_0x2e8512(0x61a)]['bind'](_0x5a88d8),'subscribe':_0x5a88d8[_0x2e8512(0x253)]['bind'](_0x5a88d8),'unsubscribe':_0x5a88d8[_0x2e8512(0x626)][_0x2e8512(0xa1e)](_0x5a88d8)}));}[_0x34a0aa(0x63a)](_0x1bce06){const _0x2a028a=_0x34a0aa;return this[_0x2a028a(0x653)]['getKeyValueDatabases'](_0x1bce06)[_0x2a028a(0x403)](_0x42a646=>({'getName':_0x42a646['getName'][_0x2a028a(0xa1e)](_0x42a646),'getOwnerId':_0x42a646[_0x2a028a(0x8a2)][_0x2a028a(0xa1e)](_0x42a646),'getContentType':_0x42a646[_0x2a028a(0x561)][_0x2a028a(0xa1e)](_0x42a646),'getTable':_0x42a646['getTable'][_0x2a028a(0xa1e)](_0x42a646),'subscribe':_0x42a646['subscribe'][_0x2a028a(0xa1e)](_0x42a646),'unsubscribe':_0x42a646['unsubscribe']['bind'](_0x42a646),'close':_0x42a646[_0x2a028a(0x39a)][_0x2a028a(0xa1e)](_0x42a646)}));}[_0x34a0aa(0x990)](_0x4bd681){const _0x499e02=_0x34a0aa;return this[_0x499e02(0x653)]['getGenerativeAIContexts'](_0x4bd681)[_0x499e02(0x403)](_0x1edecf=>({'createAIJob':_0x1edecf[_0x499e02(0x78a)][_0x499e02(0xa1e)](_0x1edecf),'ratePrompt':_0x1edecf[_0x499e02(0x4ca)]['bind'](_0x1edecf),'downloadDocument':_0x1edecf[_0x499e02(0x961)]['bind'](_0x1edecf),'getDataBucketIds':_0x1edecf['getDataBucketIds'][_0x499e02(0xa1e)](_0x1edecf),'close':_0x1edecf[_0x499e02(0x39a)]['bind'](_0x1edecf)}));}['getGenerativeAIWorkers'](_0xc71d72){const _0x232a49=_0x34a0aa;return this[_0x232a49(0x653)][_0x232a49(0x6be)](_0xc71d72)[_0x232a49(0x403)](_0x10617a=>({'close':_0x10617a[_0x232a49(0x39a)][_0x232a49(0xa1e)](_0x10617a)}));}[_0x34a0aa(0x28c)](_0x9790fb,_0x43da9e){const _0x14f363=_0x34a0aa,_0x15d337=this[_0x14f363(0x653)]['createLocalMediaStream'](_0x9790fb,_0x43da9e);return{'getLabel':_0x15d337[_0x14f363(0x35a)][_0x14f363(0xa1e)](_0x15d337),'getOwnerId':_0x15d337[_0x14f363(0x8a2)]['bind'](_0x15d337),'getContentType':_0x15d337[_0x14f363(0x561)][_0x14f363(0xa1e)](_0x15d337),'getMediaStream':_0x15d337['getMediaStream']['bind'](_0x15d337),'setPriority':_0x15d337[_0x14f363(0x17c)][_0x14f363(0xa1e)](_0x15d337),'unpublish':_0x15d337['unpublish'][_0x14f363(0xa1e)](_0x15d337)};}['publishLocalDynamicMediaStream'](_0x3f0215,_0x18fdf5){const _0x84e0b5=_0x34a0aa,_0x498ce9=this[_0x84e0b5(0x653)][_0x84e0b5(0x2ed)](_0x3f0215,_0x18fdf5);return{'getLabel':_0x498ce9[_0x84e0b5(0x35a)][_0x84e0b5(0xa1e)](_0x498ce9),'getOwnerId':_0x498ce9['getOwnerId'][_0x84e0b5(0xa1e)](_0x498ce9),'getContentType':_0x498ce9[_0x84e0b5(0x561)][_0x84e0b5(0xa1e)](_0x498ce9),'setPriority':_0x498ce9[_0x84e0b5(0x17c)][_0x84e0b5(0xa1e)](_0x498ce9),'unpublish':_0x498ce9[_0x84e0b5(0x190)]['bind'](_0x498ce9),'getMediaStream':_0x498ce9['getMediaStream'][_0x84e0b5(0xa1e)](_0x498ce9),'addTrack':_0x498ce9[_0x84e0b5(0x3fe)][_0x84e0b5(0xa1e)](_0x498ce9),'removeTrack':_0x498ce9[_0x84e0b5(0x2f8)][_0x84e0b5(0xa1e)](_0x498ce9),'replaceTrack':_0x498ce9[_0x84e0b5(0x455)]['bind'](_0x498ce9),'setTransformations':_0x498ce9[_0x84e0b5(0x1a4)][_0x84e0b5(0xa1e)](_0x498ce9)};}[_0x34a0aa(0x52a)](_0x1750d6){const _0x1e05e7=_0x34a0aa;return this['orchestrator']['getLocalMediaStreams'](_0x1750d6)[_0x1e05e7(0x403)](_0x53e31d=>({'getLabel':_0x53e31d[_0x1e05e7(0x35a)][_0x1e05e7(0xa1e)](_0x53e31d),'getOwnerId':_0x53e31d[_0x1e05e7(0x8a2)][_0x1e05e7(0xa1e)](_0x53e31d),'getContentType':_0x53e31d[_0x1e05e7(0x561)]['bind'](_0x53e31d),'getMediaStream':_0x53e31d['getMediaStream']['bind'](_0x53e31d),'setPriority':_0x53e31d[_0x1e05e7(0x17c)][_0x1e05e7(0xa1e)](_0x53e31d),'unpublish':_0x53e31d[_0x1e05e7(0x190)][_0x1e05e7(0xa1e)](_0x53e31d)}));}[_0x34a0aa(0x6fe)](_0xe98d6){const _0x28fad3=_0x34a0aa;return this[_0x28fad3(0x653)]['getRemoteMediaStreams'](_0xe98d6)[_0x28fad3(0x403)](_0x37bc57=>({'getLabel':_0x37bc57[_0x28fad3(0x35a)]['bind'](_0x37bc57),'getOwnerId':_0x37bc57[_0x28fad3(0x8a2)][_0x28fad3(0xa1e)](_0x37bc57),'getContentType':_0x37bc57[_0x28fad3(0x561)][_0x28fad3(0xa1e)](_0x37bc57),'getMediaStream':_0x37bc57[_0x28fad3(0x297)][_0x28fad3(0xa1e)](_0x37bc57),'subscribe':_0x37bc57[_0x28fad3(0x253)][_0x28fad3(0xa1e)](_0x37bc57),'unsubscribe':_0x37bc57[_0x28fad3(0x626)][_0x28fad3(0xa1e)](_0x37bc57),'getAvailableTrackKinds':_0x37bc57['getAvailableTrackKinds'][_0x28fad3(0xa1e)](_0x37bc57),'update':_0x37bc57[_0x28fad3(0x792)][_0x28fad3(0xa1e)](_0x37bc57),'onProviderChange':_0x37bc57[_0x28fad3(0x9f5)][_0x28fad3(0xa1e)](_0x37bc57)}));}[_0x34a0aa(0x20d)](_0x2f3d45){const _0xc6d462=_0x34a0aa;return this['orchestrator'][_0xc6d462(0x20d)](_0x2f3d45)[_0xc6d462(0x403)](_0x2ac98c=>({'getName':_0x2ac98c[_0xc6d462(0x3dd)][_0xc6d462(0xa1e)](_0x2ac98c),'getOwnerId':_0x2ac98c['getOwnerId'][_0xc6d462(0xa1e)](_0x2ac98c),'getContentType':_0x2ac98c['getContentType'][_0xc6d462(0xa1e)](_0x2ac98c),'addNode':_0x2ac98c[_0xc6d462(0x551)][_0xc6d462(0xa1e)](_0x2ac98c),'addEdge':_0x2ac98c[_0xc6d462(0x89e)][_0xc6d462(0xa1e)](_0x2ac98c),'getContent':_0x2ac98c[_0xc6d462(0x534)][_0xc6d462(0xa1e)](_0x2ac98c),'remove':_0x2ac98c[_0xc6d462(0x754)][_0xc6d462(0xa1e)](_0x2ac98c),'close':_0x2ac98c[_0xc6d462(0x39a)][_0xc6d462(0xa1e)](_0x2ac98c)}));}[_0x34a0aa(0x4d9)](_0x3eeaad){const _0xab6ed7=_0x34a0aa;return this[_0xab6ed7(0x653)][_0xab6ed7(0x4d9)](_0x3eeaad)[_0xab6ed7(0x403)](_0x5c7da8=>({'getName':_0x5c7da8['getName']['bind'](_0x5c7da8),'getOwnerId':_0x5c7da8['getOwnerId']['bind'](_0x5c7da8),'getContentType':_0x5c7da8[_0xab6ed7(0x561)][_0xab6ed7(0xa1e)](_0x5c7da8),'search':_0x5c7da8[_0xab6ed7(0x3b5)][_0xab6ed7(0xa1e)](_0x5c7da8),'insert':_0x5c7da8['insert'][_0xab6ed7(0xa1e)](_0x5c7da8),'remove':_0x5c7da8[_0xab6ed7(0x754)][_0xab6ed7(0xa1e)](_0x5c7da8),'close':_0x5c7da8['close'][_0xab6ed7(0xa1e)](_0x5c7da8)}));}[_0x34a0aa(0x652)](){const _0x10c532=_0x34a0aa,_0x74ff52=this['orchestrator'][_0x10c532(0x652)]();switch(_0x74ff52[_0x10c532(0x852)]){case _0xb78473[_0x10c532(0x7b3)][_0x10c532(0x49a)]:return{'type':_0xb78473[_0x10c532(0x7b3)]['User'],'getId':_0x74ff52[_0x10c532(0x3ad)][_0x10c532(0xa1e)](_0x74ff52),'getDisplayName':_0x74ff52[_0x10c532(0x391)][_0x10c532(0xa1e)](_0x74ff52),'getEmail':_0x74ff52[_0x10c532(0xa15)][_0x10c532(0xa1e)](_0x74ff52),'getRemoteConnections':_0x74ff52['getRemoteConnections']['bind'](_0x74ff52),'setDisplayName':_0x74ff52[_0x10c532(0x77c)][_0x10c532(0xa1e)](_0x74ff52),'setEmail':_0x74ff52[_0x10c532(0x19c)][_0x10c532(0xa1e)](_0x74ff52)};case _0xb78473[_0x10c532(0x7b3)]['Agent']:default:return{'type':_0xb78473['NodeType']['Agent'],'getId':_0x74ff52[_0x10c532(0x3ad)]['bind'](_0x74ff52),'getRemoteConnections':_0x74ff52['getRemoteConnections'][_0x10c532(0xa1e)](_0x74ff52)};}}['getRemoteNodes'](_0x38d3b5){const _0x412f8a=_0x34a0aa;return this['orchestrator'][_0x412f8a(0x64d)](_0x38d3b5)[_0x412f8a(0x403)](_0x1fdce9=>{const _0x136575=_0x412f8a;switch(_0x1fdce9[_0x136575(0x852)]){case _0xb78473['NodeType'][_0x136575(0x49a)]:return{'type':_0xb78473[_0x136575(0x7b3)][_0x136575(0x49a)],'getId':_0x1fdce9[_0x136575(0x3ad)][_0x136575(0xa1e)](_0x1fdce9),'getDisplayName':_0x1fdce9[_0x136575(0x391)][_0x136575(0xa1e)](_0x1fdce9),'getEmail':_0x1fdce9[_0x136575(0xa15)][_0x136575(0xa1e)](_0x1fdce9),'getRemoteConnections':_0x1fdce9['getRemoteConnections'][_0x136575(0xa1e)](_0x1fdce9)};case _0xb78473[_0x136575(0x7b3)][_0x136575(0x32d)]:return{'type':_0xb78473[_0x136575(0x7b3)][_0x136575(0x32d)],'getId':_0x1fdce9[_0x136575(0x3ad)][_0x136575(0xa1e)](_0x1fdce9),'getRemoteConnections':_0x1fdce9[_0x136575(0x5e6)]['bind'](_0x1fdce9)};default:throw new _0x4a345c(_0x2df194[_0x136575(0x67f)],'Invalid\x20node\x20type');}});}['on']=(..._0x33a774)=>{const _0x23d6ff=_0x34a0aa;this[_0x23d6ff(0x21a)]['on'](..._0x33a774);};[_0x34a0aa(0x9a8)]=(..._0x1e8e65)=>this[_0x34a0aa(0x21a)][_0x34a0aa(0x9a8)](..._0x1e8e65);[_0x34a0aa(0x8c6)](..._0x3e54cd){const _0x11d3aa=_0x34a0aa;this[_0x11d3aa(0x21a)][_0x11d3aa(0x8c6)](..._0x3e54cd);}}class _0x39514c{['id'];[_0x34a0aa(0x6e7)];[_0x34a0aa(0x304)];[_0x34a0aa(0x852)]=_0xb78473[_0x34a0aa(0x7b3)][_0x34a0aa(0x49a)];['joinedClusters']=new Map();[_0x34a0aa(0x48d)]=_0x5a3b06();constructor(_0x3b51a7,_0x543d50,_0x396d2b){const _0xfc5df6=_0x34a0aa;this['id']=_0x3b51a7,this[_0xfc5df6(0x6e7)]=_0x543d50,this[_0xfc5df6(0x304)]=_0x396d2b;}[_0x34a0aa(0x3ad)](){return this['id'];}[_0x34a0aa(0x391)](){const _0x1734b0=_0x34a0aa;return this[_0x1734b0(0x6e7)];}[_0x34a0aa(0xa15)](){const _0x3f58ef=_0x34a0aa;return this[_0x3f58ef(0x304)];}[_0x34a0aa(0x77c)](_0x5b0850){const _0x235c51=_0x34a0aa;this[_0x235c51(0x6e7)]!==_0x5b0850&&(this['displayName']=_0x5b0850,this[_0x235c51(0x48d)][_0x235c51(0x5c0)](this));}['setEmail'](_0x365378){const _0x288b8b=_0x34a0aa;this[_0x288b8b(0x304)]!==_0x365378&&(this[_0x288b8b(0x304)]=_0x365378,this['observer']['publish'](this));}[_0x34a0aa(0x36c)](_0x2c35ec,_0x542f9e){const _0x174f53=_0x34a0aa;if(this[_0x174f53(0x6d3)][_0x174f53(0x664)](_0x2c35ec))return;const _0x229be4=this[_0x174f53(0x48d)]['subscribe'](_0x542f9e);this[_0x174f53(0x6d3)][_0x174f53(0x286)](_0x2c35ec,_0x229be4);}[_0x34a0aa(0x6bf)](_0x3acf88){const _0xaf1b1=_0x34a0aa;if(!this[_0xaf1b1(0x6d3)][_0xaf1b1(0x664)](_0x3acf88))return;const _0x451dd7=this['joinedClusters'][_0xaf1b1(0x56b)](_0x3acf88);_0x451dd7&&_0x451dd7(),this[_0xaf1b1(0x6d3)][_0xaf1b1(0x9c4)](_0x3acf88);}}class _0x42321c{[_0x34a0aa(0x853)];[_0x34a0aa(0x6ad)];constructor(_0x10debc){this['vendorId']=_0x10debc;}async['signInWithCredential'](_0x263700){const _0x5bcfd9=_0x34a0aa,_0x4a486b=await(0x0,_0x54e986['httpsCallable'])(_0x27d84b['getFunctions'](),_0x5bcfd9(0x2e4))({'uid':_0x5bcfd9(0x2eb)+this[_0x5bcfd9(0x853)]+_0x5bcfd9(0x2eb)+_0x263700['id']}),_0x564332=await(0x0,_0x4e3764[_0x5bcfd9(0x822)])(_0x27d84b[_0x5bcfd9(0x88d)](),_0x4a486b[_0x5bcfd9(0x1ad)][_0x5bcfd9(0x5ab)]);this[_0x5bcfd9(0x6ad)]=_0x564332[_0x5bcfd9(0x6ad)];}async[_0x34a0aa(0x879)](){const _0x1b3041=_0x34a0aa;await(0x0,_0x4e3764[_0x1b3041(0x879)])(_0x27d84b[_0x1b3041(0x88d)]());}['getIdToken'](){const _0x4afad4=_0x34a0aa;return this[_0x4afad4(0x6ad)]?.[_0x4afad4(0x874)]()??Promise[_0x4afad4(0x3fd)](_0x4afad4(0x863));}}class _0x3b076f{static [_0x34a0aa(0x1cf)];[_0x34a0aa(0x8d8)]=[];constructor(){}static[_0x34a0aa(0x800)](){const _0x2145a7=_0x34a0aa;return _0x3b076f[_0x2145a7(0x1cf)]||(_0x3b076f[_0x2145a7(0x1cf)]=new _0x3b076f()),_0x3b076f[_0x2145a7(0x1cf)];}[_0x34a0aa(0x284)](){const _0xcd1dbb=_0x34a0aa;this[_0xcd1dbb(0x2f2)](),this[_0xcd1dbb(0x331)](),this['checkScreenSharing'](),this[_0xcd1dbb(0x16e)](),this[_0xcd1dbb(0x818)](),this[_0xcd1dbb(0x2a0)](),this['checkMediaRecording'](),this[_0xcd1dbb(0x280)](),this['checkWebGL'](),this['checkAudioContext'](),_0x17dbc7[_0xcd1dbb(0x6cb)](_0x5d2ed2[_0xcd1dbb(0x2f1)],'Support:\x20current\x20config',{'featureSupport':this[_0xcd1dbb(0x8d8)]});}[_0x34a0aa(0x16b)](_0x82cdee){const _0x3f17cc=_0x34a0aa,_0x10547a=this[_0x3f17cc(0x8d8)][_0x3f17cc(0x3f0)](_0xe38c40=>_0xe38c40[_0x3f17cc(0x9d9)]===_0x82cdee);return!!_0x10547a&&_0x10547a['supported'];}[_0x34a0aa(0x904)](_0x512a66){const _0x14472d=_0x34a0aa;_0x17dbc7[_0x14472d(0x582)](_0x14472d(0x9c7),{'nodeId':_0x512a66[_0x14472d(0x3ad)](),'nodeType':_0x512a66[_0x14472d(0x852)],'data':{'featureSupport':this[_0x14472d(0x8d8)]}});}[_0x34a0aa(0x2f2)](){const _0x520252=_0x34a0aa,_0x351236=_0x41e71b[_0x520252(0x432)];let _0xf7fc5f=!0x1;'function'==typeof RTCPeerConnection&&'function'==typeof RTCIceCandidate&&_0x520252(0x2b7)==typeof RTCSessionDescription?_0xf7fc5f=!0x0:_0x17dbc7[_0x520252(0x6cb)](_0x5d2ed2[_0x520252(0x2f1)],'Support:\x20'+_0x351236+_0x520252(0x7f6)),this[_0x520252(0x8d8)]['push']({'name':_0x351236,'supported':_0xf7fc5f});}[_0x34a0aa(0x331)](){const _0x590f2f=_0x34a0aa,_0x21e43f=_0x41e71b[_0x590f2f(0x18a)];let _0x12d942=!0x1;_0x590f2f(0x2b7)==typeof MediaStream&&_0x590f2f(0x2b7)==typeof MediaStreamTrack&&_0x590f2f(0x4cc)==typeof navigator&&_0x590f2f(0x4cc)==typeof navigator[_0x590f2f(0x3cd)]&&_0x590f2f(0x2b7)==typeof navigator['mediaDevices'][_0x590f2f(0x7e2)]?_0x12d942=!0x0:_0x17dbc7['log'](_0x5d2ed2[_0x590f2f(0x2f1)],'Support:\x20'+_0x21e43f+_0x590f2f(0x7f6)),this[_0x590f2f(0x8d8)][_0x590f2f(0x32e)]({'name':_0x21e43f,'supported':_0x12d942});}[_0x34a0aa(0x294)](){const _0x161d20=_0x34a0aa,_0x2bc10d=_0x41e71b[_0x161d20(0x3b3)];let _0x4b2281=!0x1;_0x161d20(0x4cc)==typeof navigator&&_0x161d20(0x4cc)==typeof navigator[_0x161d20(0x3cd)]&&_0x161d20(0x2b7)==typeof navigator[_0x161d20(0x3cd)][_0x161d20(0x9ec)]?_0x4b2281=!0x0:_0x17dbc7['log'](_0x5d2ed2[_0x161d20(0x2f1)],_0x161d20(0x8b5)+_0x2bc10d+_0x161d20(0x7f6)),this[_0x161d20(0x8d8)]['push']({'name':_0x2bc10d,'supported':_0x4b2281});}['checkAudioVolume'](){const _0x8bdefd=_0x34a0aa,_0x8e9599=_0x41e71b['AudioVolume'];let _0x3a74b6=!0x1;'function'!=typeof AudioContext||_0x8bdefd(0x2b7)!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x17dbc7[_0x8bdefd(0x6cb)](_0x5d2ed2[_0x8bdefd(0x2f1)],_0x8bdefd(0x8b5)+_0x8e9599+_0x8bdefd(0x7f6)):_0x3a74b6=!0x0,this[_0x8bdefd(0x8d8)][_0x8bdefd(0x32e)]({'name':_0x8e9599,'supported':_0x3a74b6});}[_0x34a0aa(0x818)](){const _0x5ec06b=_0x34a0aa,_0x21fa5e=_0x41e71b[_0x5ec06b(0x54e)];let _0x693672=!0x1;_0x5ec06b(0x4cc)==typeof navigator&&'object'==typeof navigator[_0x5ec06b(0x3cd)]&&'function'==typeof navigator[_0x5ec06b(0x3cd)][_0x5ec06b(0x581)]&&_0x5ec06b(0x2b7)==typeof MediaDeviceInfo?_0x693672=!0x0:_0x17dbc7[_0x5ec06b(0x6cb)](_0x5d2ed2[_0x5ec06b(0x2f1)],_0x5ec06b(0x8b5)+_0x21fa5e+_0x5ec06b(0x7f6)),this['featureSupport'][_0x5ec06b(0x32e)]({'name':_0x21fa5e,'supported':_0x693672});}['checkAudioOutput'](){const _0x644bea=_0x34a0aa,_0x5877d7=_0x41e71b[_0x644bea(0x2cc)];let _0x1076dc=!0x1;_0x644bea(0x4cc)==typeof document&&_0x644bea(0x2b7)==typeof document['createElement'](_0x644bea(0x827))['setSinkId']?_0x1076dc=!0x0:_0x17dbc7[_0x644bea(0x6cb)](_0x5d2ed2[_0x644bea(0x2f1)],_0x644bea(0x8b5)+_0x5877d7+_0x644bea(0x7f6)),this[_0x644bea(0x8d8)][_0x644bea(0x32e)]({'name':_0x5877d7,'supported':_0x1076dc});}async[_0x34a0aa(0x99e)](){const _0x3b1a2e=_0x34a0aa,_0x4d3bb2=_0x41e71b['Recording'];let _0x321792=!0x1;try{const _0x16d897=document['createElement'](_0x3b1a2e(0x817));if(MediaRecorder&&MediaSource&&_0x16d897[_0x3b1a2e(0x1b7)]){const _0x551d03=_0x16d897[_0x3b1a2e(0x1b7)](),_0x5955ed=new MediaRecorder(_0x551d03);_0x5955ed['start'](),await new Promise(_0x4302a8=>setTimeout(_0x4302a8,0x7d0)),_0x5955ed[_0x3b1a2e(0x8ed)](),_0x321792=_0x3b1a2e(0xa39)===_0x5955ed[_0x3b1a2e(0x7e1)];}}catch(_0x57af0d){_0x17dbc7[_0x3b1a2e(0x6cb)](_0x5d2ed2[_0x3b1a2e(0x2f1)],_0x3b1a2e(0x8b5)+_0x4d3bb2+_0x3b1a2e(0x45e),_0x57af0d);}this[_0x3b1a2e(0x8d8)][_0x3b1a2e(0x32e)]({'name':_0x4d3bb2,'supported':_0x321792}),_0x321792||_0x17dbc7[_0x3b1a2e(0x6cb)](_0x5d2ed2['Support'],'Support:\x20'+_0x4d3bb2+'\x20not\x20supported');}[_0x34a0aa(0x280)](){const _0x23ccf1=_0x34a0aa,_0x3d2dcc=_0x41e71b[_0x23ccf1(0x44f)];let _0x5c2077=!0x1;try{document['createElement'](_0x23ccf1(0x817))[_0x23ccf1(0x1b7)]&&(_0x5c2077=!0x0);}catch(_0x246d10){_0x17dbc7[_0x23ccf1(0x6cb)](_0x5d2ed2['Support'],'Support:\x20'+_0x3d2dcc+_0x23ccf1(0x45e),_0x246d10);}this[_0x23ccf1(0x8d8)][_0x23ccf1(0x32e)]({'name':_0x3d2dcc,'supported':_0x5c2077}),_0x5c2077||_0x17dbc7[_0x23ccf1(0x6cb)](_0x5d2ed2[_0x23ccf1(0x2f1)],'Support:\x20'+_0x3d2dcc+_0x23ccf1(0x7f6));}[_0x34a0aa(0x756)](){const _0x2cbef1=_0x34a0aa,_0x2639d7=_0x41e71b['WebGL'];let _0x1804b3=!0x1;try{const _0x561d2d=document['createElement'](_0x2cbef1(0x817));WebGLRenderingContext&&_0x561d2d['getContext']('webgl')&&(_0x1804b3=!0x0);}catch(_0x22f53a){_0x17dbc7[_0x2cbef1(0x6cb)](_0x5d2ed2[_0x2cbef1(0x2f1)],'Support:\x20'+_0x2639d7+_0x2cbef1(0x45e),_0x22f53a);}this['featureSupport'][_0x2cbef1(0x32e)]({'name':_0x2639d7,'supported':_0x1804b3}),_0x1804b3||_0x17dbc7[_0x2cbef1(0x6cb)](_0x5d2ed2['Support'],'Support:\x20'+_0x2639d7+_0x2cbef1(0x7f6));}[_0x34a0aa(0x3b4)](){const _0x46edc7=_0x34a0aa,_0x1561c8=_0x41e71b['AudioContext'];let _0x43d6e2=!0x1;'function'==typeof AudioContext?_0x43d6e2=!0x0:_0x17dbc7[_0x46edc7(0x6cb)](_0x5d2ed2['Support'],_0x46edc7(0x8b5)+_0x1561c8+_0x46edc7(0x7f6)),this['featureSupport']['push']({'name':_0x1561c8,'supported':_0x43d6e2});}}const _0x36aca5=_0x3b076f['getInstance']();class _0x411a25{static [_0x34a0aa(0x1cf)];static [_0x34a0aa(0x626)];[_0x34a0aa(0x925)];[_0x34a0aa(0x853)];[_0x34a0aa(0x21d)];['configs'];[_0x34a0aa(0x3c1)]=new Map();[_0x34a0aa(0x973)];constructor(_0x966f54,_0x304f33,_0x1108f6){const _0x234ae1=_0x34a0aa;this[_0x234ae1(0x853)]=_0x966f54,this['configs']=_0x304f33,this[_0x234ae1(0x925)]=new _0x42321c(this['vendorId']),_0x36aca5[_0x234ae1(0x284)](),this[_0x234ae1(0x21d)]={'audioContext':_0x1108f6?.[_0x234ae1(0x683)]??(_0x36aca5['isFeatureSupported'](_0x41e71b[_0x234ae1(0x996)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x1108f6?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x1108f6?.[_0x234ae1(0x709)]??0x3,'maxConnections':_0x1108f6?.[_0x234ae1(0xa02)]??(_0x1108f6?.[_0x234ae1(0x709)]&&0x4*_0x1108f6[_0x234ae1(0x709)])??0xc,'maxDistance':_0x1108f6?.[_0x234ae1(0xa06)]??0xa,'maxFps':_0x1108f6?.[_0x234ae1(0x30f)]??0x18,'maxBpp':_0x1108f6?.[_0x234ae1(0x560)]??0.12,'objectStoreConnector':_0x1108f6?.[_0x234ae1(0x9e8)]??_0x502b82[_0x234ae1(0x58c)],'externalStorageConnectors':_0x1108f6?.['externalStorageConnectors'],'keyValueDatabaseConnector':_0x1108f6?.[_0x234ae1(0x266)]??_0x5120ac[_0x234ae1(0x4d1)],'loggingDatabaseConnector':_0x1108f6?.['loggingDatabaseConnector']??_0x5120ac[_0x234ae1(0x4d1)],'peerConnectionConnector':_0x1108f6?.['peerConnectionConnector']??_0x1cba67[_0x234ae1(0x3a5)],'generativeAIWorkerConnectors':_0x1108f6?.['generativeAIWorkerConnectors'],'vectorDatabaseConnector':_0x1108f6?.[_0x234ae1(0x895)],'graphDatabaseConnector':_0x1108f6?.[_0x234ae1(0x902)],'documentParserConnector':_0x1108f6?.[_0x234ae1(0x9cc)],'nlpLibraryConnector':_0x1108f6?.['nlpLibraryConnector'],'searchConnector':_0x1108f6?.['searchConnector']},_0x1108f6?.[_0x234ae1(0x62c)]&&this['options'][_0x234ae1(0x683)]&&_0x293ade[_0x234ae1(0x79a)](this[_0x234ae1(0x21d)][_0x234ae1(0x683)]),_0x17dbc7[_0x234ae1(0x91c)](this['vendorId']),_0x1108f6?.[_0x234ae1(0x38e)]&&_0x17dbc7['setLoggingConnectors'](_0x1108f6[_0x234ae1(0x38e)]);}static async[_0x34a0aa(0x800)](_0x1c2632,_0x39137e,_0x85968d,_0x9bd9b3){const _0xefb7df=_0x34a0aa,_0x569baa=await this[_0xefb7df(0x553)](_0x1c2632,_0x39137e,_0x9bd9b3);return _0x411a25[_0xefb7df(0x1cf)]||(_0x411a25[_0xefb7df(0x1cf)]=new _0x411a25(_0x1c2632,_0x569baa,_0x85968d)),{'close':_0x411a25[_0xefb7df(0x1cf)][_0xefb7df(0x39a)]['bind'](_0x411a25[_0xefb7df(0x1cf)]),'authenticateUser':_0x411a25[_0xefb7df(0x1cf)][_0xefb7df(0x647)]['bind'](_0x411a25[_0xefb7df(0x1cf)]),'authenticateAgent':_0x411a25['instance'][_0xefb7df(0x2d4)][_0xefb7df(0xa1e)](_0x411a25[_0xefb7df(0x1cf)]),'joinCluster':_0x411a25['instance'][_0xefb7df(0x47d)]['bind'](_0x411a25[_0xefb7df(0x1cf)])};}static async[_0x34a0aa(0x6a3)](){const _0x1644c8=_0x34a0aa;return _0x27d84b[_0x1644c8(0xa49)]();}static['isProduction'](){const _0x5618a8=_0x34a0aa;return _0x37296e[_0x5618a8(0x416)];}async['close'](_0x8a5a21){const _0x3346e7=_0x34a0aa;this['clusters'][_0x3346e7(0x66c)](_0xc12e70=>{const _0x460820=_0x3346e7;_0xc12e70[_0x460820(0x8c6)](),_0xc12e70[_0x460820(0x78c)](_0x8a5a21);}),this[_0x3346e7(0x3c1)][_0x3346e7(0x620)](),this[_0x3346e7(0x21d)]['audioContext']&&_0x293ade[_0x3346e7(0xa40)](),_0x411a25[_0x3346e7(0x626)]?.(),_0x411a25['unsubscribe']=void 0x0,this[_0x3346e7(0x973)]=void 0x0,await this['authService'][_0x3346e7(0x879)](),_0x411a25[_0x3346e7(0x1cf)]=void 0x0;}static async[_0x34a0aa(0x553)](_0x533ea5,_0x52fd9e,_0x4c5b2f){const _0x1af742=_0x34a0aa;let _0x37befe;try{_0x37befe=await(0x0,_0x54e986[_0x1af742(0x8a1)])(_0x27d84b['getFunctions'](),'sdkValidateAccess')({'vendorId':_0x533ea5,'accessToken':_0x52fd9e,'secretKey':_0x4c5b2f});}catch(_0x15a880){throw new _0x4a345c(_0x2df194['InvalidAccess'],_0x1af742(0x2b0));}if(!this[_0x1af742(0x317)](_0x37befe[_0x1af742(0x1ad)]))throw new _0x4a345c(_0x2df194['InvalidAccess'],_0x1af742(0x2b0));const _0x42226c=_0x37befe[_0x1af742(0x1ad)];return _0x42226c[_0x1af742(0x7b8)]||(_0x42226c[_0x1af742(0x7b8)]=[]),this['unsubscribe']||(this[_0x1af742(0x626)]=_0x293ade[_0x1af742(0xa10)](async()=>{const _0x1d4aed=_0x1af742;try{const _0x4546a6=await this[_0x1d4aed(0x553)](_0x533ea5,_0x52fd9e,_0x4c5b2f);_0x42226c[_0x1d4aed(0x519)]=_0x4546a6[_0x1d4aed(0x519)];}catch(_0x226a40){}},0x1b7740)),_0x42226c;}async[_0x34a0aa(0x647)](_0x15ab3b){const _0x186196=_0x34a0aa;await this[_0x186196(0x925)][_0x186196(0x6dc)](_0x15ab3b);const _0x26e858=new _0x39514c(_0x15ab3b['id'],_0x15ab3b[_0x186196(0x6e7)],_0x15ab3b['email']);return this[_0x186196(0x973)]={'node':_0x26e858},_0x36aca5[_0x186196(0x904)](_0x26e858),{'type':_0xb78473[_0x186196(0x7b3)]['User'],'getId':_0x26e858[_0x186196(0x3ad)][_0x186196(0xa1e)](_0x26e858),'getDisplayName':_0x26e858[_0x186196(0x391)][_0x186196(0xa1e)](_0x26e858),'getEmail':_0x26e858['getEmail'][_0x186196(0xa1e)](_0x26e858),'setDisplayName':_0x26e858[_0x186196(0x77c)][_0x186196(0xa1e)](_0x26e858),'setEmail':_0x26e858[_0x186196(0x19c)][_0x186196(0xa1e)](_0x26e858)};}async['authenticateAgent'](_0x18bbc6){const _0x444dc5=_0x34a0aa,{id:_0x1fb673,groupId:_0x176a7f}=_0x18bbc6,_0x5866e9=await(0x0,_0xd69cc3['getDoc'])((0x0,_0xd69cc3[_0x444dc5(0x77f)])(_0x27d84b[_0x444dc5(0x245)](),'developers/'+this[_0x444dc5(0x853)]+_0x444dc5(0x939)+_0x176a7f));if(!_0x5866e9['exists']())throw new _0x4a345c(_0x2df194[_0x444dc5(0x836)],_0x444dc5(0x29d));const _0x278793=_0x5866e9['data']();await this[_0x444dc5(0x925)][_0x444dc5(0x6dc)]({'id':_0x1fb673});const _0x547f13=new _0x312db7(_0x1fb673,_0x176a7f,this[_0x444dc5(0x853)],_0x278793);return this['authContext']={'node':_0x547f13},_0x36aca5[_0x444dc5(0x904)](_0x547f13),await this[_0x444dc5(0x39b)](_0x547f13),{'type':_0xb78473['NodeType'][_0x444dc5(0x32d)],'getId':_0x547f13[_0x444dc5(0x3ad)][_0x444dc5(0xa1e)](_0x547f13),'onConfigurationChange':_0x547f13[_0x444dc5(0x5b3)][_0x444dc5(0xa1e)](_0x547f13),'setReportCapacity':_0x547f13[_0x444dc5(0x931)][_0x444dc5(0xa1e)](_0x547f13)};}async[_0x34a0aa(0x47d)](_0x203e88){const _0x1d04ca=_0x34a0aa;if(!this[_0x1d04ca(0x973)])throw new _0x4a345c(_0x2df194['NodeNotAuthenticated'],'Node\x20not\x20authenticated');if(this[_0x1d04ca(0x973)][_0x1d04ca(0x3d7)]['type']!==_0xb78473['NodeType'][_0x1d04ca(0x49a)])throw new _0x4a345c(_0x2df194['NodeTypeNotSupported'],_0x1d04ca(0x3d3));if(this[_0x1d04ca(0x3c1)]['has'](_0x203e88))throw new _0x4a345c(_0x2df194[_0x1d04ca(0x890)],_0x1d04ca(0x87c));const _0x27329c=new _0x492e59(this[_0x1d04ca(0x853)],_0x203e88,this[_0x1d04ca(0x973)][_0x1d04ca(0x3d7)],this[_0x1d04ca(0x925)],this['options'],this[_0x1d04ca(0x6f1)]);return await _0x27329c[_0x1d04ca(0x45b)](),this['addCluster'](_0x203e88,_0x27329c),_0x17dbc7[_0x1d04ca(0x582)](_0x1d04ca(0x36d),{'clusterId':_0x203e88,'nodeId':this[_0x1d04ca(0x973)]['node'][_0x1d04ca(0x3ad)](),'nodeType':this[_0x1d04ca(0x973)][_0x1d04ca(0x3d7)]['type']}),{'leave':_0x27329c[_0x1d04ca(0x78c)]['bind'](_0x27329c),'getLocalNode':_0x27329c['getLocalNode'][_0x1d04ca(0xa1e)](_0x27329c),'openPubSubTopic':_0x27329c[_0x1d04ca(0x805)]['bind'](_0x27329c),'openObjectStoreBucket':_0x27329c[_0x1d04ca(0x5ee)][_0x1d04ca(0xa1e)](_0x27329c),'openExternalStorageConnection':_0x27329c[_0x1d04ca(0x7c0)][_0x1d04ca(0xa1e)](_0x27329c),'openKeyValueDatabase':_0x27329c[_0x1d04ca(0x8a4)][_0x1d04ca(0xa1e)](_0x27329c),'openGenerativeAIContext':_0x27329c[_0x1d04ca(0x6d5)][_0x1d04ca(0xa1e)](_0x27329c),'openGenerativeAIWorker':_0x27329c[_0x1d04ca(0x80a)][_0x1d04ca(0xa1e)](_0x27329c),'openGraphDatabase':_0x27329c[_0x1d04ca(0x5a2)][_0x1d04ca(0xa1e)](_0x27329c),'openVectorDatabase':_0x27329c['openVectorDatabase']['bind'](_0x27329c),'publishLocalMediaStream':_0x27329c[_0x1d04ca(0x28c)][_0x1d04ca(0xa1e)](_0x27329c),'publishLocalDynamicMediaStream':_0x27329c[_0x1d04ca(0x303)][_0x1d04ca(0xa1e)](_0x27329c),'getPubSubTopics':_0x27329c[_0x1d04ca(0x448)][_0x1d04ca(0xa1e)](_0x27329c),'getObjectStoreBuckets':_0x27329c['getObjectStoreBuckets'][_0x1d04ca(0xa1e)](_0x27329c),'getExternalStorageConnections':_0x27329c['getExternalStorageConnections'][_0x1d04ca(0xa1e)](_0x27329c),'getKeyValueDatabases':_0x27329c['getKeyValueDatabases']['bind'](_0x27329c),'getGenerativeAIContexts':_0x27329c['getGenerativeAIContexts'][_0x1d04ca(0xa1e)](_0x27329c),'getGenerativeAIWorkers':_0x27329c[_0x1d04ca(0x6be)][_0x1d04ca(0xa1e)](_0x27329c),'getGraphDatabases':_0x27329c[_0x1d04ca(0x20d)]['bind'](_0x27329c),'getVectorDatabases':_0x27329c[_0x1d04ca(0x4d9)]['bind'](_0x27329c),'getLocalMediaStreams':_0x27329c[_0x1d04ca(0x52a)][_0x1d04ca(0xa1e)](_0x27329c),'getRemoteMediaStreams':_0x27329c[_0x1d04ca(0x6fe)][_0x1d04ca(0xa1e)](_0x27329c),'getRemoteNodes':_0x27329c[_0x1d04ca(0x64d)][_0x1d04ca(0xa1e)](_0x27329c),'on':_0x27329c['on'][_0x1d04ca(0xa1e)](_0x27329c),'off':_0x27329c[_0x1d04ca(0x8c6)][_0x1d04ca(0xa1e)](_0x27329c)};}async[_0x34a0aa(0x39b)](_0x1808e0){const _0x757e1f=_0x34a0aa;for(const _0x1ed83f of _0x1808e0['agentConfig']['clusters']){const _0x38c7fe=new _0x492e59(this[_0x757e1f(0x853)],_0x1ed83f['id'],_0x1808e0,this[_0x757e1f(0x925)],this[_0x757e1f(0x21d)],this[_0x757e1f(0x6f1)]);await _0x38c7fe[_0x757e1f(0x45b)](),this[_0x757e1f(0x434)](_0x1ed83f['id'],_0x38c7fe);for(const _0x11a548 of _0x1ed83f[_0x757e1f(0x388)]??[])_0x38c7fe['openPubSubTopic'](_0x11a548);for(const _0x12cf88 of _0x1ed83f[_0x757e1f(0x839)]??[])await _0x38c7fe[_0x757e1f(0x5ee)](_0x12cf88);for(const _0x24a98e of _0x1ed83f['externalStorageConnections']??[]){const _0x26da5e=_0x24a98e['split']('-');await _0x38c7fe[_0x757e1f(0x7c0)](_0x26da5e[0x1],_0x26da5e[0x0]);}for(const _0x5c12f6 of _0x1ed83f['keyValueDatabases']??[])await _0x38c7fe[_0x757e1f(0x8a4)](_0x5c12f6,{'version':0x1,'tables':{}});for(const _0x330bac of _0x1ed83f[_0x757e1f(0x250)]??[])_0x38c7fe[_0x757e1f(0x5a2)](_0x330bac);for(const _0x4502ec of _0x1ed83f[_0x757e1f(0x5f2)]??[])_0x38c7fe[_0x757e1f(0x399)](_0x4502ec);for(const _0x5d7665 of _0x1ed83f[_0x757e1f(0x200)]??[]){await _0x38c7fe[_0x757e1f(0x80a)](_0x5d7665);const _0x12bcbd=_0x19dcc3(this[_0x757e1f(0x853)],_0x5d7665),_0x3e8b37=_0x3380e2(),_0x41ec35=this['options'][_0x757e1f(0x9f2)]??this['options']['keyValueDatabaseConnector'];await _0x38c7fe[_0x757e1f(0x8a4)](_0x12bcbd,_0x3e8b37,_0x41ec35);}}}[_0x34a0aa(0x434)](_0x58279a,_0x435768){const _0x2b835a=_0x34a0aa;this[_0x2b835a(0x3c1)][_0x2b835a(0x286)](_0x58279a,_0x435768),_0x435768['on'](_0x2b835a(0x667),()=>{const _0x3d8797=_0x2b835a;_0x435768[_0x3d8797(0x8c6)](),this['clusters'][_0x3d8797(0x9c4)](_0x58279a);});}static[_0x34a0aa(0x317)](_0xf925a7){const _0x6d1a7c=_0x34a0aa;return void 0x0!==_0xf925a7[_0x6d1a7c(0x519)];}}return _0x1052b2;})())));function a0_0x2090(){const _0x260b60=['fromEntries','Ingest','decodeJWT','Invalid\x20publisher.','Medium','totalNodes','interval','debug','subscriptions','onNodeUpdate','getCurrentMaxLayer','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','Job\x20service\x20job\x20not\x20found.','description','downgrade','entity','ReceiverOnMessage','chunksReceived','st_volatility','.xml','return\x20this','setLocalRank','ended','downloadDocument','publishUserUpdate','resizeHandler','getShareableStream','handleNodeJoinNeedPublishedStream','isOpened','Pool','index','endpoint','unsubscribeListener','createPubSubTopic','deleteObject','OutgoingSubscription','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','contentSize','key-value-database-creation-failed','end','messageCallback','authContext','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','2-digit','Failed\x20to\x20commit\x20batch\x20after\x20retries:','handleContentUpdateMediaStream','Generative\x20AI\x20context\x20job\x20failed.','canAddCandidates','handleRemediationSystemEvents','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','unregisterSystemSource','Rejected\x20answer','answers','confirmSynchronization','\x27\x20dabatase\x20id.','Bitrate','removeSubscriptionsForNode','.ps1','documentPath','completeSync','sendChunked','getWorkflowObjectStorageBuckets','canChooseAnswer','publishFolder','clusterEventEmitter','Recording','getResolution','aws','FileDelete','PubSubTopic\x20publish','getGenerativeAIContexts','responseTimeout','Stats','UpdateMediaStream','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','bytesSent','AudioContext','JobDispatcherInvalidPayload','stopConnection','dataChannel','transactionsToSync','Waiting','clearOncloseTimeout','code','checkMediaRecording','detail','.jinja2','handleNodeLeave','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','isSubscribed','localMediaStreams','start','hashTransaction','crewdle-sdk-stg','emit','handleSubscriptionMediaStreamUnavailable','detectStreamIssues','head','GenerativeAIContextAlreadyExists','Cluster','recipients','getConnection','messagesSent','Stream\x20already\x20exists','enabledChannels','File','receiverBitrate','systemTopic','sort','streamLabel','Memory\x20Usage\x20at\x20','getRemoteMediaStream','peer-connection-invalid-destination','An\x20error\x20occurred','object-store-stream-does-not-exist','some','syncContent','queryOrPrompt','NodeManager\x20-\x20ConnectionSuccess','KeyValueDatabaseSyncRequired','senderPreviousTimestamp','/capacities','delete','applyRemediation','NodeDoesNotExist','support','Invalid\x20data\x20channel.','Chosen\x20answer','KeyValueDatabaseRequestTransactionsValue','system-stats','documentParserConnector','internal','enabled','buildInitialMMR','/objectstores/','getRoot','setupResizeHandler','audio','1:519415702791:web:5dd39042f881cfde3251a2','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','database','messageBuffer','getExternalStorageConnection','name','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','Stream\x20does\x20not\x20exist','developers/','remoteMediaStreams','getTrack','job-dispatcher-already-exists','handleOnMessage','Hash\x20computation\x20failed,\x20retrying...','removeGraphDatabase','isSyncing','getTracks','Node\x20is\x20not\x20an\x20agent','\x27\x20in\x20layout','isResultResponse','objectStoreConnector','senderTotalMessages','JobDispatcherCreationFailed','sourceVideo','getDisplayMedia','getRemoteId','url','getBitrate','getTableConnector','streamId','loggingDatabaseConnector','detectLocalIssues','job-dispatcher-observer-not-found','onProviderChange','Subscription\x20request\x20has\x20not\x20been\x20answered.','LoggingService:\x20logging\x20enabled\x20for','NeedRestart','connection-buffer-not-empty','JobWorkerDoesNotExist','.Total\x20pages\x20available:\x20','getPacketsLostPerc','PubSubTopic\x20onMessage','addMessage','ExternalStorageConnectionAlreadySubscribed','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','maxConnections','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','NodeLeave','VectorDatabaseNameNotString','maxDistance','senderConnection','updateLastTransactionId','PromptFunctionParamsType','/resources/generative-ai-agent/items','KeyValueDatabaseTableNameReserved','getBid','evaluateBids','getModel','Missing\x20answerer\x20id\x20on\x20request\x20answer','setInterval','subscribeToExternalContent','CloseGraphDatabase','sendBid','dataUnsubscribers','getEmail','key-value-database-table-not-found','Get','Internal\x20error:\x20','Emitting\x20event\x20on\x20local\x20cluster','addRemoteNode','successNotified','job-worker-does-not-exist','DataChannel\x20is\x20not\x20initialized.','bind','Hub','ObjectStoreInvalidPayload','crewdle-sdk-logging-','onRemoveTrack','getCoresFromCapacityReport','supportsContentType','/transactions/lastTransaction','getSubscriptionInfo','snippet','ModelVector','AI\x20Worker\x20already\x20exists','vectors','providerId','updated','handleHandshake','\x20writes\x20from\x20','notifyClusterNodeUpdate','isInternalLoggingConnector','nlpLibraryConnector','Database\x20already\x20exists','checkSyncComplete','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','onValue','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','CloseMediaStream','waitSuccess','inactive','SubscriptionRequestFailed','Offer','lastRemediations','setOnDisconnectHandler','getCurrentVersion','GenerativeAIContextJobFailed','stopNoThrottlingHack','Logging\x20trace','ObjectStoreCannotWriteTransaction','Workflow\x20does\x20not\x20exist.','warn','processRank','GenerativeAIContextCreationFailed','handleSubscriptionSystemEvents','connect','getEstimatedTimestamp','InvalidDataChannel','handleSubscriptionSubscribeMediaStream','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','topics','stringify','CloseKeyValueDatabase','generative-ai-context-job-timeout','.yml','GetDate','functionsRegion','publishSyncCompletedAfterWrites\x20-\x20','error','previousBytes','getExternalStorageConnections','accumulated','minResolutionScale','AudioVideoDelay','isFeatureSupported','Missing\x20external\x20storage\x20connector','chunks','checkAudioVolume','pub-sub-topic-already-exists','isNodeReady','Audio','isReady','links','KeyValueDatabaseTransactionTableNotInitialized','GenerativeAILabelConflict','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','threshold','createLocalMediaStream','shift','receiverUnsubscribers','crewdle-sdk','setPriority','tableUnsubscriber','setInternalId','setProviderId','removeRemoteNode','logStorage','handlePeerConnectionSystemEvents','trackChanges','connectionConstructor','timeSending','connectionStateListener','getConfigs','KeyValueDatabaseInvalidLayout','.md','MediaStream','isConnected','handleSubscriptionRestartNeedMediaStream','getContext','DataCollection','sendReject','unpublish','GenerativeAIContextStats','attributes','/resources/generative-ai-collection/items','Invalid\x20job\x20service\x20payload.','object-store-invalid-path','createRemoteNode','commitBatch','ReceiverPeerConnection.onMessage','RetrieveTrace','Search','clearWaitSuccess','setEmail','hashPeakHashes','ExternalStorageConnectionAlreadyExists','loadLocalContent','VectorDatabaseStats','CPUCycle','request-file-sync','getReceiverBitrate','setTransformations','isComputingMMR','/transactions/','retryCount','inbound-rtp','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','getAudioTracks','instantiateTransactionTable','ObjectStorageBucket','data','errorDetails','Channel\x20\x27','canProvideResolution','createTopic','getDocs','temperature','\x20were\x20ready\x20in','connection-invalid-data-event','ContentType','captureStream','420235181083','createOffer','findIndex','createGain','setupListeners','.info/serverTimeOffset','timePerFrame','Job\x20with\x20id\x20','Cannot\x20write\x20transaction.','addPendingHandshakeCandidate','pubsub','publishFile','getQuery','propagate','node-type-not-supported','disconnected','toLocaleDateString','JobWorker:\x20Received\x20job\x20attribution','internalId','getJob','SyncComplete','handleSubscriptionNeedMediaStream','updateLastUpdated','instance','Invalid\x20job\x20worker\x20type.','Error\x20committing\x20batch:','orderBy','NodeManager\x20-\x20PublishNodeLeave','SubscriptionRequestDoesNotExist','RoundTripTime','PayloadAction','Key-value\x20database\x20transaction\x20value\x20not\x20set.','VectorDatabaseCreationFailed','JobWorkerCreationFailed','.rb','Code\x20is\x20required','.djt','Prompt','.sql','startLoggingCycle','publishSyncCompleted','resetConnection','RemoteMediaStreamTrackFail','output','frameTime','remediations','processLocalReport','\x0aUser\x20Prompt:\x20','LoadSkillFunction','handleSuccess','pop','Subject','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','server','EntityExtractor','handleOutgoingSystemEvents','createElement','sendTransactionsValue','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','loadEnabledChannels','Jitter','traceLevel','content','user-join','Job','getHash','Invalid\x20params','Everyone\x20','invalid-access','DataStream\x20send','PartialResult','processOutboundReports','generativeAIContexts','disconnectCallback','Invalid\x20key\x20\x27','deployedVersion','messagesReceived','Bid','agentId','ner','fileSendingMap','/resources/generative-ai-workflow/items/','crewdle-sdk-stg.appspot.com','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','InvalidPublisher','getGraphDatabases','Amplify','handleFileRequest','vector','FileStatus','appsync-no-destination','registeredListeners','subscriptionRequests','GraphSearch','isMediaDestination','ExecuteAgent','computeHash','document-parser','eventEmitter','removeConnection','event','options','\x20answer','onCandidate','retryQueue','Node','clusterId','Internal\x20SDK\x20error:\x20','validateValue','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','undefined','filteredDestinationIds','createBatchOperation','maxLayer','debounceLogTimeout','onDisconnect','ConnectionBufferNotEmpty','Logging\x20database\x20not\x20initialized','cluster-already-joined','rtt','image','Disconnect','offNodeUpdate','clusters/','syncPendingFiles','joinedAt','getKeyValueDatabase','RemoteMediaStreamMissingProviderId','remoteConnections','setDurationTime','previousFrames','generative-ai-context-job-failed','mediaUnsubscribers','local-media-stream-no-audio-context','UnsubscribeMediaStreamdiaStream','minThreshold','reset','waitForArrayBufferSize','createReceiverConnection','queues','pendingFilesSyncing','getFirestore','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','DataStream','retryLimit','nodesConnected','arrayBuffer','.vue','isValidMediaSubscriptionParams','outgoingStreams','processList','SenderPeerConnection.send','graphDatabases','getObjectStoreBuckets','getSenderBitrate','subscribe','Debug','minRelevance','clearSubscriptionRequestTimeout','Local\x20node\x20rank\x20is\x20not\x20set','.lua','accessToken','hasOwnProperty','PeerConnection','reduce','includes','audioDestination','removeObjectStore','processBatch','SearchGoogle','\x20received\x20result:','RestartNeedMediaStream','nodeManager','More\x20content\x20available\x20on\x20page\x20','keyValueDatabaseConnector','tail','VectorDatabase\x20not\x20found','processReceiverReport','addConnection','AI\x20Service\x20already\x20exists','getAncestors','internalProcessJobStream','.mustache','\x20finalized.','.scala','createPendingFileWrite','cost','receiverConnection','setOnMessageHandler','SHA-1','oncloseTimeout','operator','pendingHandshakeCandidates','getConnectionType','SubscribeMediaStream','MistletCapacityReportNotSet','pub-sub-topic-name-not-string','createKeyValueDatabase','searchEngineId','Skill','checkBackgrounds','WordSplitter','messageType','Run\x20the\x20agent\x20','initialize','filter','set','createConnection','getTransactions','cachedRoot','DataChannel\x20buffer\x20is\x20full.','slice','publishLocalMediaStream','pendingSyncTransactions','internalRatePrompt','AgentSkill','.hs','senderStreams','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','checkScreenSharing','fps','registerPublisher','getMediaStream','query','Context','Knowledge','getInternalStreamId','cores','Agent\x20group\x20not\x20found','pub-sub-topic-already-subscribed','\x20-\x20','checkAudioOutput','getTotalNodes','topicLabel','sync','trackCallback','restartTimeout','receiverCurrentTimestamp','sendStats','concat','Error\x20searching','\x20attempts:','JobWorker:\x20Sending\x20job\x20partial\x20result','Downgrade','readyDebounce','manageAncestor','nodeId','Invalid\x20credentials','NodeJoin','Connection\x20not\x20initialized.','eventListener','connection-state','problem','comparePeaks','function','eventTarget','result','DatabaseEvent','syncResolve','Error\x20closing\x20writable\x20stream','All\x20recipients\x20already\x20received','ExternalStorageConnectorsMissing','handleRequestPayload','history','Failed\x20to\x20send\x20job\x20','estimatedPlayoutTimestamp','Database\x20Opened','committed','Request','relevance','GenerativeAIWorkerMissingConnector','ConnectionGroup','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','processReceivedTransactions','upgradeTimeout','AudioOutput','appsync-connect-fail','createSenderConnection','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','sendFileRequestPayload','sequence','getLayout','sender-send-message','authenticateAgent','memoryUsage','JobWorker:\x20Received\x20job','inputType','ExternalStorageConnection\x20not\x20found','serverTimestamp','RemoteMediaStreamAlreadyExists','CloseExternalStorageConnection','Failed','setUpgradeTimeout','sendPeakTransactions','JobWorkerInvalidType','invalid-publisher','jobQueue','0.7.1','Error','sdkCreateToken','handshakeDebounce','bandwidth.bitrate','.pug','CloseObjectStoreBucket','1:420235181083:web:4eff6062bd845cb0748cbe','GenerativeAIModelInputType','ccc','removeLocalMediaStream','createLocalDynamicMediaStream','key-value-database-name-not-string','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','created','Support','checkWebRTC','KeyValueDatabaseTableNotFound','PubSubTopicNameNotString','tables','getMaxConnections','Invalid\x20object\x20store\x20state.','removeTrack','Time','splitParts','external-storage-connection-does-not-exist','Internal\x20event\x20\x27',',\x20Transactions:\x20','version','Job\x20Dispatcher\x20does\x20not\x20exist','Llamacpp','SubscriptionRequestNoAnswer','cpu.time_per_frame','publishLocalDynamicMediaStream','email','count','parseWorkflowBlocks','boolean','GraphDatabaseAlreadyExists','isWhereValues','callback','syncTransactionsWritten','processServiceReport','writeTransaction\x20-\x20transaction\x20already\x20exists','onBufferedAmountLow','maxFps','moveObject','durationTime','.ini','WorkflowInvalidBlockType','graphql','getJobs','ConnectionState','isInternalSDKConfigs','handleUnpublishMediaStream','availableTrackKinds','Writable\x20stream\x20is\x20missing','.handlebars','Before\x20Synchronization','external-storage-invalid-path','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','removeRemoteMediaStream','ExternalStorageConnectionDoesNotExist','handleContentCloseMediaStream','play','clearUpgradeTimeout','setConnectionType','generative-ai-worker-already-exists','Queued','framesEncoded','us-east-1','globalObject','addAudioTrack','element','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','Agent','push','Relation','openJobWorker','checkMediaStream','receiverStreams','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','publishTransaction','logWaitTime','currentDistance','Orchestrator\x20handleSystemEvents','getSupportedContentTypes','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','external-storage-name-not-string','root\x20hash:\x20','JobWorker:\x20Error\x20processing\x20job','retryCallback','toFixed','NeedMediaStream','subscription-request-no-answer','Query\x20is\x20required','senders','CloseJobDispatcher','removeJobDispatcher','7400tnoiqc','round','KeyValueDatabaseContentAvailable','send\x20error\x20on\x20','deleteRemoteNode','\x27\x20to\x20','removeTrackListeners','.cpp','operations','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','getShareableStreamId','detectAudioIssues','RequestAccepted','handleObjectMove','Store\x20already\x20exists','syncTransactions','job-dispatcher-invalid-job-type','Database\x20does\x20not\x20exist','InvalidSubscription','getAgents','getLabel','wait','debounceProcessRank','.json','previousTimestamp','onChildRemoved','PublishMediaStream','createObjectStoreBucket','generative-ai-context-invalid-partial-result','Error\x20opening\x20trace','objectToArrayBuffer','packetsLost','graph-database-name-not-string','subscription-request-does-not-exist','14oWroAs','runTransaction','absolutePathName','packetsReceived','registerCluster','join-cluster','setSubscriptionRequestTimeout','clientWidth','fileChunks','getSettings','outputTokens','data-stream','setPendingFileSyncingPayload','0\x20B',':\x20Object\x20store\x20is\x20not\x20in\x20sync','invalid-subscription','removePubSubTopic','action','.yaml','getTransactionByHash','toLowerCase','bucketId','handleObjectDelete','subscription-request-in-progress','PeerConnectionInvalidDestination','Error\x20encountered\x20while\x20opening\x20database','Completed','listChanges','setReceiverTimestamp','topic','Disconnected','RemoteAdd','pubSubTopics','RemoteMediaStreamDoesNotExist','handleNodeSystemEvents','resolve','.hbs','ceil','loggingConnectors','timeoutCallback','createBuffer','getDisplayName','addVideoTrack','isBidResponse','handleDisconnect','Invalid\x20index\x20in\x20table\x20\x27','external-storage-connectors-missing','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','syncedFileExists','openVectorDatabase','close','connectAgent','logInitialMMR','ExternalStorageInvalidPath','appendTransaction','table','handleFileSync','WorkflowDoesNotExist','Vector','sendAction','lastExecuted','WebRTCBrowserPeerConnectionConnector','reranker','debounceReadyTimeout','text/plain','peakHeights','maps','muted','job-worker-invalid-type','getId','Missing\x20remote\x20node\x20or\x20rank','val','Consuming\x20buffered\x20event','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','Received\x20event\x20on\x20cluster','ScreenSharing','checkAudioContext','search','commit','localId','unsubscribeTrackEndedListener','IngestTrace','Model\x20store\x20not\x20initialized','key','iceConnectionState\x20failed','addEventListener','move','getModels','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','clusters','removeKeyValueDatabase','isWhereBetween','unregisterPublisherListener','9229Bzgenh','onDataChannel','notifyJoin','deletePendingFile','compareTransactions','\x20does\x20not\x20exists','hash','subscriptionRequestsQueue','mediaDevices','ChunkSplitter','connected','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','batch','String','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','nodeUpdate','notifyCluster','JobWorker:\x20Sending\x20job\x20result','node','jobDispatchers','PubSubTopicAlreadyExists','openedTraces','Core','buffer','getName','peaks','createSubscription','Generative\x20AI\x20context\x20job\x20already\x20consumed.','tableLayout','All','vector-database-missing-connector','internalProcessJob','getSize','RemoteRemove','Logger.getInstance','time','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','modelName','OfficeParser','Received\x20content\x20available\x20from\x20node','Restart','isPartialResultResponse','Received\x20','find','batchQueue','registerSource','Invalid\x20object\x20store\x20sync\x20message.','Agent\x20block\x20is\x20missing\x20required\x20data','Default','JobType','.kt','handleAnswer','pendingFilesRename','agent','retryQueues','waitSendBuffer','reject','addTrack','removeNode','processInboundReports','getClosestNodes','byteLength','map','connection-no-retry-queue','publishMove','processTransactionsToComputeMMR','crewdleSDKEnableLogging','createFolder','invalid-subscriber','dispatchEvent','getLastUpdated','handleSystemEvents','incomingTopic','.\x20Confirmation?\x20','rootComputationPromise','Optimization','localNode','dbKey','Error\x20retrieving\x20context','KeyValueDatabaseAlreadyExists','Attribution','isProduction','.cs','getPriority','GenerativeAIContextInvalidPartialResult','remoteId','tableObserver','issue','MissingSystemTopic','evaluatePartialJob','Cannot\x20get\x20file:\x20','AppSync\x20subscribe','PubSub','parentId','removeRemoteConnection','agentConfig','\x20new\x20transactions','isAvailable','NodeAlreadyExist','KeyValueDatabaseSendTransactions','handleSubscribeMediaStream','Generative\x20AI\x20context\x20job\x20timeout.','Invalid\x20version\x20\x27','indexes','contentManager','VectorDatabase','From\x20','findNextNodeId','Resolution','WebRTC','messageUnsubscriber','addCluster','getReport','updatePropagationProperties','Jobs','getDTVolatility','\x20completed.','models','Local\x20stream\x20does\x20not\x20exist.','\x0aAdditional\x20Context:\x20','/nodes','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','KeyValueDatabaseRequestPeakTransactions','recomputeRoot','GenerativeAIEngineType','waitAnswer','jobId','handleNodeUpdate','maxTokens','createJobDispatcher','instructions','getPubSubTopics','transformations','clearRestartTimeout','senderCurrentBytes','assign','jitter','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','Backgrounds','getSentences','Number','Pending','createMediaStreamDestination','senderPreviousBytes','replaceTrack','isJobRequest','KeyValueDatabase\x20-\x20Sync\x20completed','trim','feedback','generativeAIWorkers','join','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','connector','\x20check\x20failed','Connected','jobPhase','handshakeCandidates','getMediaSubscription','searchApiKey','10790793UBHqKw','agentPrompt','.erl','updateDebounceTimeout','removeItem','trackKinds','outputType','ExternalStorage','Module','right','generative-ai-label-conflict','system','blockId','calculateArrayBufferSize','timesCalled','processContentAvailable','statsManager','SHA-256','rebuildMMR','\x20created\x20and\x20dispatched.','file','Cannot\x20list\x20directory:\x20','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','vector-database','joinCluster','failJob','lastProcessRank','KeyValueDatabaseCreationFailed','KeyValueDatabase','sender','handleConnectionSuccess','clearSyncTimeout','threadId','connectionType','SystemStats','active','knowledge','Detection','processReport','owner','observer','answer','GenerativeAIWorkerCreationFailed','handleStatsSystemEvents','No\x20connections\x20available\x20to\x20send\x20message','asc','detectVideoIssues','.txt','Rejected','AppSync\x20connection\x20not\x20ready','compileStats','min','ready','User','getItem','checksum','Agent\x20output\x20is\x20not\x20a\x20string','Job\x20','MediaStreamPriority','parse','transactionQueue','https://crewdle-sdk-default-rtdb.firebaseio.com','add','getMinConnections','unregisterRemoteNode','ExternalStorageUpload','collectStats','handleUpdateMediaStream','remote-inbound-rtp','.css','Received\x20track','objectRequests','sdk-internal-error:\x20','MissingRemoteConnection','createOutgoingSubscription','incomingManager','addIssue','buildTableEvent','RelationExtractor','Workflow','.py','Node\x20does\x20not\x20exist.','KeyValueDatabaseContentSynchronized','remote-connection-exists','configure','unshift','Warning','JobWorker:\x20Tracing\x20not\x20implemented','cpu.cycle','answerContentAvailable','split','generateClient','clearWaitAnswer','MediaStream\x20feature\x20not\x20enabled','handleTransactionPayload','manageBufferedChunks','bitrate','CrewdleReceiverConnection\x20ontrack','key-value-database','layout','capacityReporter','ratePrompt','21a9d78dee97f487b','object','Folder','.vbs','Invalid\x20query','processJobStream','IDBDatabaseConnector','removeExternalStorageConnection','digest','handleNodeJoin','resolveReady','95335kCEvqF','discoveryService','logPropagateSystemEvent','getVectorDatabases','Text','vector-database-already-exists','/stats','.swift','maxResolution','Node\x20\x27','Object\x20store\x20not\x20synced.','Remove','STVolatility','ObjectKind','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Subscription','Key-value\x20database\x20table\x20does\x20not\x20exist.','ExternalStorageStats','client','events','codes','generative-ai-context-does-not-exist','KeyValueDatabaseNotOpen','Job\x20Dispatcher\x20already\x20exists','orderByKey','subscribeToJobs','source','3423INSNlt','setRank','listenUnsubscriber','remainingTracks','KeyValueDatabaseNameNotString','setupTrackEndedListeners','targetId','trackEndedListeners','\x27:\x20missing\x20or\x20invalid\x20keyPath','ObjectStoreStats','vector-database-name-not-string','isNeedRestart','debounceRebuildMMR','ConnectionNotinitialized','writeTransaction','isChannelEnabled','answererId','StorageEventType','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','DTVolatility','WorkflowTrace','keyPath','setScheduleTime','keyValueDatabases','handlePublishMediaStream','all','debugEnabled','verb','lastCapacityReport','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','Connection\x20not\x20connected.','NodeTypeNotSupported','.groovy','sendRequest','userPrompt','framesDecoded','OutgoingMediaStreamNoTopic','roundTripTime','now','removeRemoteStreamSubscription','iceServers','ancestors','transactions','crewdle-sdk.firebaseapp.com','/developers/','\x27\x20payload:','appendTransactionAndUpdateHashMap','setLoggingConnectors','\x27\x20from\x20','clusterKey','exists','lastUpdated','handleContentRemoteMediaStreamTrackFail','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','getSTVolatility','cancel','Add','getLocalMediaStreams','No\x20global\x20object\x20found','ConnectionNotConnected','object-store-already-subscribed','Reranker','connection-not-connected','Method\x20not\x20implemented.','KeyValueDatabaseTransactionValueNotSet','entity-extractor','web-scraper','getContent','getCurrentDate','getDatabase','handleRemoteTrackFailure','Count','createBatch','mediaStream','nextNodeId','tracks','Graph\x20database\x20creation\x20failed.','uid','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','hasTracks','generative-ai','match','frameHeight','hasBufferedData','LocalMediaStreamDoesNotExist','closeSubscription','data-collection','handleContentUnpublishMediaStream','relations','System','unregisterSource','Syncing','NodeUpdate','DeviceConfig','next','debounceStats','addNode','\x20-\x20Sending\x20propagation\x20(','validateAccess','oidc','JobStatus','closed','\x20seconds','FileWrite','searchOnGoogle','createWritableStream','engineType','.gguf','subscription','firestore','commitLevel','maxBpp','getContentType','Content','status','receiverCurrentBytes','calculateSize','_ready','Incoming','unregisterDestination','channel','processReports','get','removeContent','distance','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','call','PubSubTopicStats','getApp','incrementVersion','FetchUrl','Data\x20Sent','receiverTimeProcessing','observe','InvalidSubscriber','changesUnsubscriber','setItem','processJob','removeOutgoingSubscription','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','size','detectProblems','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','handleSubscriptionUnsubscribeMediaStream','enumerateDevices','logEvent','FramePerSecond','registerSubscriber','jobBids','startHeartbeat','connectorConstructor','currentBatch','getDataCollections','NodeConnectionsUpdate','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','OPFSObjectStoreConnector','rank','destination','registerSystemPublisher','debounceReady','dataTopics','onGatheringStateChange','listenerUnsubscribers','Early\x20return:\x20','entries','handleOptimizationConnectionSuccess','external-storage','app','createConstantSource','.pl','closeConnection','ownerId','removeListener','videoWidth','GenerativeAIWorkerStats','createDataChannel','Upgrade','openGraphDatabase','RequestFile','contentRequestSent','getPeaks','queueLength','removeIncomingSubscription','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','KeyValueDatabaseIndexNotFound','gpu','token','agent-skill','handleFolderCreate','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','CloseVectorDatabase','label','Cannot\x20unpublish\x20object:\x20','arrayBufferToObject','onConfigurationChange','Found\x20','JobDispatcherInvalidJobType','timeReceiving','-leave','workflow','getFunctions','getSimilarity','pub-sub-topic-does-not-exist','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','messages','isSync','Rating','publish','GraphDatabaseDoesNotExist','maxDepth','publishSyncCompletedAfterWrites','detection','statsReporting','reportCapacity','rejectReady','updateUser','job-dispatcher-does-not-exist','Receiver','Update','statsCollection','clientHeight','appsync-disconnect','handleSubscriptionProvideMediaStream','Invalid\x20subscriber.','newPath','waitConnected','download','handleProblem','unsubscribeHandler','.crewdle-layout','manageOptimization','isArray','setStatus','generativeAIWorkerConnectors','onremovetrack','FinalOutput','addBatchOperation','prototype','hashNodes','listenerUnsubscriber','listen','bufferedChunks','content-publish-media','object-storage','decode','getRemoteConnections','optimizationLayers','GraphDatabaseNameNotString','connectionGroup','logger','getTrackFromParam','Signaling','internal-sdk-error','openObjectStoreBucket','Internal\x20unknown\x20error:\x20','QueryBuilderInvalidArgument','Job\x20service\x20creation\x20failed.','vectorDatabases','transaction','deleteFileChunks','bufferedAmount','trace','object-store-invalid-payload','unregisterSystemPublisher','hasRemoteNode','height','frames','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','retryDelay','Restart\x20NeedMediaStream','destroy','discoveryUnsubscriber','Remote\x20stream\x20does\x20not\x20exist.','logBatch','checkExistingPendingFileContent','sendFile','vector-database-does-not-exist','getTable','rating','getAncestorIds','getDistance','clockSkew','InternalSDKError','engine','payload','lastClockUpdate','Handshake','handleCloseContent','ObjectStoreNotInSync','ConnectionNoRetryQueue','onSnapshot','chunk-splitter','functions','Model\x20not\x20found','maxBitrate','PubSubTopicDoesNotExist','firebaseConfig','list','workflow-invalid-block-type','handleFileRequestAnswer','issues','processOutboundReport','VectorDatabaseDoesNotExist','clear','getWorkflowExternalStorageConnections','pendingFilesTransactions','JobWorker:\x20Handling\x20job\x20attribution','Local\x20MediaStream\x20already\x20exists','failed','unsubscribe','\x20received\x20partial\x20result:','List','addProblem','DocumentParser','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','disableIntervalHack','crewdle-sdk-stg.firebaseapp.com','addDoc','G-F7W8KXRKQB','taskType','receivers','buildQuery','replace','packets','GetContextResult','offset','externalStorageConnectionIds','debounceAppendLog','GraphDatabaseStats','getKeyValueDatabases','\x20with\x20\x27','file-write','padStart','remoteNodes','.go','SentenceSplitter','contentMediator','text/','job-worker-already-exists','subtle','getBufferedAmount','media-stream','authenticateUser','syncTimeout','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','inputTokens','queries','getMaxDistance','getRemoteNodes','consumeBufferedEvents','startTracing','438axOdVq','readyPromises','getLocalNode','orchestrator','JobStream','VectorDatabaseMissingConnector','handleMissingSenders','outgoing-stream-no-topic','LocalMediaStreamNoAudioContext','width','key-value-database-invalid-query','New\x20MMR\x20Root:\x20','LoadKnowledgeFunction','Offline','sendTransactionsValue\x20-\x20value\x20not\x20found','getConnections','handleNeedRestart','GenerativeAIWorkerAlreadyExists','writeBatch','object-storage-upload','has','renderElement','uuid','cluster-leave','addReservedTables','cluster','reads','Error\x20processing\x20ingest','forEach','getSubscriptionLabel','en-US','LocalMediaStreamAlreadyExists','sendWithRetry','getVideoTracks','.ipynb','isMediaSource','batchTimeout','createGraphDatabase','systemMessages','GenerativeAIWorkerModelSyncError','connectionManager','lastHeartbeat','resolution','crewdleSDKDisableLogging','clientStream','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Retrieve','NodeInvalidType','unregisterSubscriber','FeatureNotEnabled','not-in','audioContext','getAudioVideoDelay','sourceUrl','destinationIds','prompt','ObjectStoreNameNotString','MediaStreamUnavailable','object-store-not-in-sync','transactionIds','\x20to\x20send\x20dispatcherJob\x20','createNewBatch','skill','removeVectorDatabase','requestSubscription','onConnectionStateChange','processSenderReport','waitForSyncComplete','Buffering\x20event','internalDownloadDocument','Error\x20closing\x20trace','.crewdle-pending','logMMRRebuild','removeTrackCallback','Job\x20Worker\x20does\x20not\x20exist','graph-database','requestSubscriptionAction','getJobObservable','commitType','remote-media-stream-invalid-subscription-params','loadExternalContent','openTrace','\x20already\x20exists','timestamp','Success','Apply\x20remediation','max','Data','getGraphDatabase','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','KeyValueDatabasePeakNotFound','onNodeDisconnect','gain','user','overlap','writes','handleJobAttribution','exports','Processing','connectionTimeout','InitialPrompt','key-value-database-transaction-value-not-set','ObjectStoreInvalidSyncMessage','isPromiseResolved','runJobQueue','.bat','Receiver\x20connection\x20is\x20not\x20initialized.','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','true','PromptRating','getGenerativeAIWorkers','unregisterCluster','missing-incoming-connection','defineProperty','setRemoteNode','ClosePubSubTopic','noun','KeyValueDatabaseStats','InvalidAccess','getLocalMediaStream','object-store-name-not-string','.tcl','writeFile','log','getJobWorkers','OptimizationConnectionSuccess','string','listener','track','completed','logDataSent','joinedClusters','LocalReport','openGenerativeAIContext','Invalid\x20where\x20clause','\x0a\x20===\x20Synchronization\x20Time:\x20','batchSize','isOffer','propn','Outgoing','signInWithCredential','IntermediateOutput','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','setupRenderElement','object-store-invalid-state','currentBytes','groupId','validateLayout','Connection\x20already\x20exists','handleIceCandidates','loggingDb','displayName','FolderMove','bandwidth.rtt','kind','graphService','ObjectStorage','findNewMediaSubscription','TimePerFrame','Cannot\x20find\x20External\x20Storage\x20connection:\x20','firebaseUnsubscriber','configs','Image','Subscribing\x20to\x20an\x20event:\x20on','processInboundReport','.twig','StreamReport','connectionPool','getTime','user-update','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','JobDispatcher:\x20Received\x20job','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','detectionManager','getRemoteMediaStreams','isFailedResponse','handleNoAnswer','warning','_isReady','currentTimestamp','.php','tableName','value','pathName','getReceiverTotalBytes','minConnections','remote-stream-does-not-exist','signalingServer','topK','totalEncodeTime','remote-stream-missing-provider-id','isRunning','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','object-store-already-exists','CREWDLE_WEB_SDK','cpu.av_delay','setDoc','FolderDelete','KeyValueDatabaseTableDoesNotExist','receiver','registerRemoteNode','api','remote-media-stream-already-exists','connecting','test-page','Cannot\x20get\x20size\x20of\x20path:\x20','relation-extractor','logs','dataBucketIds','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','ranges','FileMove','getInternalTrackParams','context','getConnectionGroup','evaluateBidsAndAttributeJob','blocks','collectTransactionsFromNode','crewdle-sdk.appspot.com','Unknown\x20skill\x20type','No\x20answer\x20block\x20found','problemType','debounceRebuildMMRWithTransaction','CanProvideMediaStream','KeyValueDatabaseDoesNotExist','setTimestamp','framerate','isReconnecting','receiverPreviousTimestamp','getPartsFromSubscription','notifyObjectStoreOfNodeJoin','local-media-stream-already-exists','Online','storage','onTrack','DataChannel\x20is\x20not\x20open.','searchInDataCollection','sentence-splitter','getPeakNode','createRemoteMediaStream','Sync\x20completed','jobWorkers','providerListener','processDataChannelReport','reportMetric','Unsupported\x20job\x20type','chooseAnswer','nodes','onMessage','.ex','getEntities','jobs',',\x20Total\x20Nodes:','Reranker\x20block\x20is\x20missing\x20required\x20data','systemTopicUnsubscribe','frameWidth','handleContentSystemEvents','success','remediationManager','remove','scheduleTime','checkWebGL','.tpl','transactionTable','readyResolve','bytesReceived','bid','Error\x20resolving\x20readyPromises:','commitTrace','publishNodeJoin','evaluateProccessedJob','content-unpublish-media','stats','abs','getDoc','performCalculation','updateDebounce','versions','JobDispatcherJobExists','ingestBlocks','WebScraper','9132hVgsZW','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','Retrieve\x20relevant\x20context\x20from\x20a\x20web\x20search\x20query\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','clearRect','objectStores','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Mistlet\x20capacity\x20report\x20not\x20set.','onClose','fetchContentFromUrl','page','generative-ai-worker-creation-failed','getJobDispatchers','.jinja','ModelText','PubSubTopicAlreadySubscribed','Error\x20executing\x20code','stream','startBidResponseHandling','setDisplayName','\x20does\x20not\x20support\x20content\x20type\x20','getSubscribedTracks','doc','82852PECVld','removeJobWorker','SenderSendMessage','Connection','request-file','Remediation','shouldProcessTransaction','Could\x20not\x20open\x20trace','ObjectStoreInvalidPath','amd','createAIJob','.exs','leave','currentFrames','params','Key-value\x20database\x20peak\x20not\x20found.','JobContext','Result','update','maxFramerate','Generative\x20AI\x20context\x20creation\x20failed.','logSyncMetrics','\x20after\x20','modelId','connections','logging-db-','startNoThrottlingHack','WebGL','setupStatsReporting','createExternalStorageConnection','\x20failed.','logConnectionState','.jsx','Error\x20processing\x20retrieve','\x27\x20reserved','resolutionScale','.sh','setCurrentVersion','drawImage','GenerativeAIContext\x20stream\x20error','senderBitrate','candidate','getOutgoingOptimizationConnections','processTransactionPayload','getSenderTotalBytes','mmr','\x20sending\x20attempt\x20','Job\x20service\x20observer\x20not\x20found.','suspended','Synced','objectStoreId','NodeType','region','URL\x20is\x20required','GenerativeAIContext','sourceId','features','stopTracing','retrieveBlocks','logRaw','Key-value\x20database\x20creation\x20failed.','JobDispatcherObserverNotFound','VectorDatabaseAlreadyExists','.crewdle-last-transaction','openExternalStorageConnection','connection','ConnectionInvalidDataEvent','\x20deleted.','onUnregisterPublisher','ObjectStore','getObjectStoreBucket','AudioVolume','answerJoin','docs','handleOffer','bufferedEvents','Info','addContent','Invalid\x20value.\x20Property\x20\x27','orchestrator-close','ObjectStoreInvalidState','dataStores','deleteTransactionsForTable','keys','removeSubscription','generative-ai-context-creation-failed','processPendingHandshakeCandidates','chunk','1206764ApSlsG','local-stream-does-not-exist','contentType','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','handleError','LocalMediaStreamTrackFail','JobWorker:\x20Sending\x20job\x20reject','signaling','message','state','getUserMedia','encode','receiver-on-message','handleLocalTrackFailure','CrewdleConnectionGroup','openJobDispatcher','systemMessagesReceived','previous','receiverTotalMessages','setOnTableWriteHandler','setReceiverBytes','Events','path','disconnect','job-dispatcher-job-not-found','ObjectStoreDoesNotExist','parameters','Cannot\x20publish\x20payload:\x20','number','Connection\x20does\x20not\x20exist','\x20not\x20supported','registerSystemSource','JobDispatcherDoesNotExist','RequestFileSync','handleChunkMessage','outgoingTopic','externalStores','File\x20sending\x20interrupted','startAt','every','getInstance','SenderPeerConnection\x20send','Error\x20stringifying\x20object','publishNodeLeave','.crewdle-transactions','openPubSubTopic','time_per_frame','subscriptionRequestTimeouts','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','__esModule','openGenerativeAIWorker','gatheringState','.erb','getConnectionDestinations','Sender','pool','getProviderId','AppSync\x20client\x20not\x20ready','getRoundTripTime','.awk','VectorSearch','closeTopic','left','canvas','checkDeviceConfig','job-dispatcher-invalid-payload','generative-ai-context-already-exists','local-media-stream-track-fail','tokens','RemoteConnectionExists','node-already-exist','getResolutionScale','priority','JobDispatcherAlreadyExists','signInWithCustomToken','accumulateResult','retry','generative-ai-worker-model-sync-error','discover','video','Answer','ObjectStoreNotSynced','createJob','getEnabledChannels','GraphDatabase\x20not\x20found','externalStorageConnections','floor','startIndex','auth','length','subscription-request-failed','transactionHashMap','Base\x20Peer\x20Connection','currentVersion','NodeNotAuthenticated','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','setParams','objectStorageBuckets','ExecuteCode','createVectorDatabase','pow','externalStorages','addCandidate','model','onloadeddata','job-','authNode','connectionState','Delete','ObjectStorageUpload','thread-','setupConnectionEvents','Remote\x20connection\x20already\x20exists.','handleFileWrite','object-store-cannot-write-transaction','getPubSubTopic','handleNodeDisconnect','UnpublishMediaStream','Missing\x20transaction\x20id','publishSystemMessage','Search\x20in\x20data\x20collection\x20','entities','type','vendorId','agent-config-changed','startTime','from','.java','remediation','Cannot\x20publish\x20file:\x20','senderTimeProcessing','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','Missing\x20AI\x20worker\x20connector','initializeApp','GenerativeAIContextJobTimeout','timeoutValue','job-dispatcher-job-exists','syncFolder','GenerativeAIContextJobMissingThreadId','User\x20not\x20signed\x20in','component','Low','GenerativeAIModelOutputType','mmrRoot','.clj','mergeParts','setEncodingParameters','messageListeners','text','supports','Code','getCapacityReport','graph-database-creation-failed','toStringTag','mediator','Model','getIdToken','out','Database\x20not\x20open','audioSource','.cfg','signOut','JobDispatcherJobNotFound','indexOf','Cluster\x20already\x20joined','SystemTopic\x20publish','insert','runAgent','handshakeState','GraphDatabase','::','shouldContinuePropagation','6kyqPeF','streams','word-splitter','where','clearHeartbeat','autoplay','lastTransactionId','getPartsForSubscriptionLabel','getRank','getAuth','Connection\x20does\x20not\x20exist.','parseDataCollectionBlocks','ClusterAlreadyJoined','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','splice','loop','RemoteRemediation','vectorDatabaseConnector','JobQueueService:\x20Error\x20running\x20job','\x20ms\x0a','KeyValueDatabaseInvalidQuery','EventEmitter','pubsubTopics','handleDetectionSystemEvents','Search\x20connector\x20not\x20found','parseWorkflowDocument','addEdge','complete','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','httpsCallable','getOwnerId','peer-connection','openKeyValueDatabase','limit','Problem','/nodes/','Subscription\x20request\x20does\x20not\x20exist.','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','Logging\x20not\x20enabled\x20for\x20channel\x20','skipEncryption','RequestFileWrite','firebase-disconnect','onDisconnectHandler','not-resolved','maxOutgoingSubscriptions','CannotProvideMediaStream','request','nodeKey','collection','Support:\x20','loggingCycle','Invalid\x20peer\x20connection\x20event\x20destination.','CloseJobWorker','canRestartHandshake','Cannot\x20publish\x20move\x20operation:\x20','counter','subscribeToLocalContent','createIncomingSubscription','handleUnsubscribeMediaStream','FPS','subscribedTracks','endsWith','162HiJEWP','google','getRemoteNode','createMediaStreamSource','off','GetContextQuery','write','contentRect','key-value-database-table-name-reserved','combinePeaks','\x0aAdditional\x20data:\x20','key-value-database-transaction-table-not-initialized','deleteJob','NodeManager\x20-\x20NodeUpdate','Object\x20store\x20is\x20not\x20in\x20sync','node-invalid-type','origin','Media','externalStorageConnectors','jobType','rate','unregisterPublisher','featureSupport','setBytes','statsReport','outgoingManager','\x20attributed\x20to\x20','\x0a\x20===\x20Total\x20Data\x20Received:\x20','remoteUnsubscriber','AppSync\x20publish','mediaTopics','load','removeTopic','expectedTransactions','Move','syncKeyValueDatabase','getNextTargetRank','CrewdleConnection\x20handlePeerConnectionSystemEvents','Model\x20not\x20found:\x20','senderCurrentTimestamp','key-value-database-table-does-not-exist','key-value-database-peak-not-found','values','stop','getWorkflow','FolderCreate','jobObservers','GenerativeAIContextDoesNotExist','clearConnectionTimeout','860790oIfOTh','notifyObjectStoreOfNodeLeave','\x20not\x20found.','setTimeout','GenerativeAIContextJobAlreadyConsumed','Receiving\x20\x27','open','UnsubscribeMediaStream','closeTrace','toString','startsWith','RemoteMediaStreamInvalidSubscriptionParams','modelStore','Page\x20is\x20required','initializeSystemTopic','graphDatabaseConnector','getTransactionFromTableWriteEvent','logSupport','Additional\x20context:\x0a','KeyValueDatabaseInvalidValue','mute','catch','getNumberOutgoingSubscriptions','childRemovedUnsubscriber','maxThreshold','.html','trackListeners','getOrResetPendingFileTimeout','subscriptionManager','addRemoteConnection','removeEventListener','No\x20connector\x20found\x20for\x20model','Issue\x20detected:\x20','Error\x20fetching\x20URL','registerDestination','getEngineType','getLocalId','cleanOldSubscription','Partial','chosenAnswers','searchConnector','setVendorId','Send\x20request','agentPrompt\x20is\x20required','ref','logServiceEvent','createGenerativeAIWorker','packetsSent','srcObject','Error\x20loading\x20external\x20content','authService','random','getVectorDatabase','hasTable','SubscriptionRequestInProgress','0.7.1.0','initializeLoggingDatabase','.dart','getAvailableTrackKinds','Initial\x20MMR\x20built\x20with','send','transactionsToAppend','setReportCapacity','invalid-data-chanel','setRemoteConnections','.ejs','getStatus','Workflow\x20not\x20initialized','object-store-invalid-sync-message','Stats:\x20report','/resources/agent/items/','total','Accepted','.jl','sendIceCandidates','ExternalStorageNameNotString','setupStatsCollection','prompts','isJobAttribution','GraphDatabaseCreationFailed','isWhereValue','heartbeatUnsubscriber','utf8','results','getTotalBytes','handleContentUnsubscribeMediaStream','transactionService'];a0_0x2090=function(){return _0x260b60;};return a0_0x2090();}