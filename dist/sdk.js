function a0_0x1a3f(){const _0x2e8d8c=['run','.vue','lastExecuted','sender-send-message','Strategizing\x20Agent','captureStream','All\x20recipients\x20already\x20received','Method\x20not\x20implemented.','updatePropagationProperties','.crewdle-pending','race','/transactions/','/stats','processSenderReport','publishUserUpdate','Job\x20service\x20job\x20not\x20found.','Module','RoundTripTime','destinationIds','clearRect','graph-database-missing-connector','usage','limit','job-worker-does-not-exist','isJobAttribution','handleJobAttribution','where','setOnMessageHandler','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','JobDispatcherJobNotFound','transactionTable','encode','getItem','getSentences','Stats','load','JobWorkerInvalidType','Buffering\x20event','openObjectStoreBucket','en-US','Disconnect','setReportCapacity','minRelevance','discover','word-splitter','digest','dataTopics','collection','bytesSent','events','getEngineType','searchOnPerplexity','getGenerativeAIWorkers','remoteNodes','removeListener','offset','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','links','isFailedResponse','numeric','onUnregisterPublisher','generative-ai-worker-model-sync-error','generative-ai-context-invalid-partial-result','createRemoteNode','internalJob','unsubscribe','KeyValueDatabaseCreationFailed','FramePerSecond','Key-value\x20database\x20peak\x20not\x20found.','NodeInvalidType','logSyncMetrics','GenerativeAITaskType','title','gain','listener','transactionIds','MediaStreamPriority','PromptRating','isResultResponse','handleNodeJoinNeedPublishedStream','handleUnpublishMediaStream','providerId','syncResolve','localNode','getTable','warning',',\x20Total\x20Nodes:','.twig','registerSource','ContentType','createRemoteMediaStream','get-content','getSenderBitrate','receiverCurrentTimestamp','connection','isArray','renderElement','queries','getDatabase','Data\x20Sent','all','request-file-sync','getSubscribedTracks','updateLastUpdated','fileConnector','connection-not-initialized','debounceLogTimeout','detectProblems','Missing\x20OpenAI\x20API\x20key','NodeUpdate','stopConnection','dataChannel','active','getMediaStream','chunk','removeRemoteNode','PubSubTopicAlreadyExists','distance','.jsx','remainingTracks','authService','getFunctions','parse','errorDetails','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','all-minilm-l12-v2','contentMediator','VectorDatabaseDoesNotExist','registerRemoteNode','Search\x20connector\x20not\x20set','push','executeQuery','Error\x20during\x20MMR\x20rebuild\x20logging:','comparePeaks','ObjectStoreNotSynced','.awk','unregisterRemoteNode','syncedFileExists','Invalid\x20object\x20store\x20sync\x20message.','receiverCurrentBytes','subscriptionRequests','mistlet-capacity-report-not-set','setIsLoaded','Error\x20reading\x20file\x20chunk\x20after\x20','findIndex','system-stats','Could\x20not\x20open\x20trace','ExternalStorageUpload','extendedRecipients','contextOutputVariable','Events','setVendorId','removeEventListener','queryFileConnector','UnsubscribeMediaStream','Internal\x20unknown\x20error:\x20','saveToDisk','.exs','graphService','fetch-url','request-accepted','Logger.getInstance','muted','transactionsToAppend','left','onNodeDisconnect','setSubscriptionRequestTimeout','setPendingFileSyncingPayload','outbound-rtp','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','externalStorages','No\x20connector\x20found\x20for\x20model','strategizing-agent','Low','Key-value\x20database\x20creation\x20failed.','object-store-invalid-state','Move','failJob','add','streams','UnpublishMediaStream','invalid-access','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','graph-database','amd','.scala','Error\x20resolving\x20readyPromises:','call','handleOnMessage','move','invalid-data-chanel','\x20seconds','pendingFilesRename','senderPreviousTimestamp','1:519415702791:web:5dd39042f881cfde3251a2','isSync','SHA-1','ModelVector','WriteFile','collectionId','agent-skill','createLocalMediaStream','text/plain','handleCloseContent','closeTopic','if_else','openTrace','removeSubscriptionsForNode','JobDispatcherDoesNotExist','checkDeviceConfig','messagesSent','successNotified','RetrieveTrace','app','Internal\x20error:\x20','trackChanges','DataStream','Invalid\x20object\x20store\x20state.','Query\x20must\x20refer\x20to\x20the\x20file\x20table','SystemTopic\x20publish','OfficeParser','getToolDescription','nodeKey','scheduleTime','headers','timePerFrame','setOnTableWriteHandler','remoteMediaStreams','ExternalStorageConnectionDoesNotExist','splice','sampleRate','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','open','maxFramerate','getTrackFromParam','includes','complete','Folder','TestPage','No\x20file\x20content\x20found','createJobDispatcher','openJobWorker','contentManager','GraphDatabaseNameNotString','deleteFileChunks','split','getVectorDatabases','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','OutgoingSubscription','clientWidth','tableUnsubscriber','vector-database-already-exists','2061880QGiVLR','handleHandshake','streamId','data:\x20[DONE]\x0a\x0a','Ingest','filesSynced','\x0a\x20===\x20Synchronization\x20Time:\x20','Store\x20already\x20exists','connectionState','KeyValueDatabaseStats','params','Executing\x20custom\x20skill:\x20','Search\x20in\x20data\x20collection\x20','Code\x20is\x20required','candidate','key-value-database-index-not-found','Synced','registerSystemPublisher','srcObject','toLocaleDateString','KeyValueDatabaseTransactionTableNotInitialized','region','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','GenerativeAIContextJobMissingThreadId','SenderSendMessage','onConnectionStateChange','bufferedChunks','All','cancel','mediaUnsubscribers','maxBpp','[DONE]','setupListeners','retryDelay','onTrack','instance','Invalid\x20job\x20service\x20payload.','Content','createPubSubTopic','appendTransaction','LocalMediaStreamAlreadyExists','url','notifyCluster','Request','connection-state','getInstance','\x20transactions\x20from\x20node\x20','Job\x20','type','handleFileWrite','Connected','reportCapacity','GenerativeAIContextAlreadyExists','dt_volatility','jobBids','/search','getWorkflowObjectStorageBuckets','generative-ai-worker-missing-connector','clearSubscriptionRequestTimeout','subtle','reads','removeConnection','jitter','getTime','Connection\x20already\x20exists','iceServers','\x20check\x20failed','addRemoteNode','subscriptionRequestsQueue','queryFile','.lua','retry','senderTimeProcessing','configure','completed','unregisterDestination','Node\x20does\x20not\x20exist.','ExternalStorageConnection\x20not\x20found','\x0a\x20===\x20Wait\x20Time:\x20','addBatchOperation','onCandidate','knowledgeCutoffDate','receiverConnection','not-in','canProvideResolution','getAvailableTrackKinds','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','currentVersion','Failed\x20to\x20send\x20job\x20','detectStreamIssues','destination','handleRequestPayload','.Total\x20pages\x20available:\x20','Invalid\x20publisher.','LoggingService:\x20logging\x20enabled\x20for','getDocs','leave','verb','removeKeyValueDatabase','Subscription\x20request\x20failed.','timeoutValue','Support:\x20','external-storage-name-not-string','pub-sub-topic-name-not-string','buildInitialMMR','readyResolve','removeRemoteStreamSubscription','database','minConnections','logSupport','prompt','StreamReport','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','subscriptionRequestTimeouts','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','ModelText','GenerativeAIWorker:\x20Opened','subscribedTracks','answers','object-storage-upload','Workflow','queueLength','getTransactionFromTableWriteEvent','manageOptimization','IntermediateOutput','Cannot\x20get\x20file:\x20','processInboundReports','getReader','emit','getEnabledChannels','.pdf','getObjectStoreBucket','reject','Number','ObjectStoreInvalidPayload','SubscriptionRequestNoAnswer','generativeAIWorkerConnectors','getCoresFromCapacityReport','Online','Model\x20not\x20found','auth','manageBufferedChunks','unregisterSystemSource','hasTracks','senders','local-media-stream-already-exists','competitive-agent','keyValueDatabases','nodeManager','processDataChannelReport','publishLocalDynamicMediaStream','\x20sending\x20attempt\x20','Logging\x20not\x20enabled\x20for\x20channel\x20','waitForArrayBufferSize','bufferedAmountLowThreshold','registeredListeners','timeoutCallback','searchConnector','isOpened','\x0a\x20\x20===\x20Total\x20Nodes:\x20','gpt-4o-mini','\x20must\x20be\x20a\x20string','fetchUrl','\x0a\x20===\x20Total\x20Data\x20Received:\x20','commitLevel','getPeaks','unregisterPublisherListener','NodeManager\x20-\x20NodeLeave','page','transformations','/developers/','.rs','\x20must\x20be\x20a\x20number','Connection\x20does\x20not\x20exist.','startTracing','senderPreviousBytes','lastProcessRank','clearWaitSuccess','isReconnecting','bandwidth.rtt','logWaitTime','Get','changesUnsubscriber','newPath','utf8','logger','NodeTypeRequired','AgentSkill','.jinja','onProviderChange','statsReport','node-not-authenticated','rejectReady','getDisplayMedia','vectorDatabaseConnector','count','getPacketsLostPerc','FolderMove','AudioVolume','KeyValueDatabaseNameNotString','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','lastUpdated','processReports','aiSearchApiKey','handleContentUnsubscribeMediaStream','isWhereValues','keys','time_per_frame','Missing\x20owner\x20node\x20or\x20rank','Node\x20not\x20authenticated','wait','bandwidth.bitrate','getResolution','addPendingHandshakeCandidate','removeVectorDatabase','external-storage-connection-already-subscribed','getName','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','.yml','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','connectionConstructor','kind','file-write','Error\x20committing\x20batch:','ReadableStream\x20is\x20not\x20supported','pub-sub-topic-already-exists','KeyValueDatabaseSyncRequired','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','outputTokens','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','getOutgoingOptimizationConnections','external-storage-connectors-missing','ragConnector','ExternalStorageConnectorsMissing','data:\x20','graph-database-creation-failed','handleContentCloseMediaStream','GenerativeAIContextDoesNotExist','LoadKnowledgeFunction','debounceReadyTimeout','blocks','String','observe','toLowerCase','handleContentSubscribeMediaStream','lastHeartbeat','senderBitrate','Error\x20closing\x20trace','incomingManager','file','graphDatabases','object-store-cannot-write-transaction','size','GenerativeAIWorkerMissingConnector','getTransactionByHash','/workflows/','tools','setEmail','ObjectStoreCannotWriteTransaction','unpublish','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','start','openedTraces','frameWidth','getDataCollection','JobWorker:\x20Sending\x20job\x20partial\x20result','Found\x20','CloseJobWorker','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','Remediation','displayName','totalDecodeTime','propagate','collectReceiversStats','Llamacpp','addNode','bid','handleObjectDelete','\x20failed.\x20Retrying...','Unsupported\x20job\x20type','stringify','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','getAudioVideoDelay','Transaction','@context.','onRemoveTrack','document-parser','text/csv','setConnectionType','OpenAI','Stream\x20does\x20not\x20exist','Processing','Object\x20store\x20is\x20not\x20in\x20sync','graphql','query-file','Missing\x20search\x20API\x20key','handleFolderCreate','entities','\x20already\x20exists','logPropagateSystemEvent','Partial','Database\x20already\x20exists','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','replaceTrack','GenerativeAIContext','getMediaSubscription','createReceiverConnection','senderCurrentBytes','receiverTimeProcessing','WaitTrue','trackEndedListeners','score','replace','ownerId','Error\x20executing\x20code','setInternalId','has','handleSubscriptionMediaStreamUnavailable','6YMAcMY','summary-generator','URL\x20is\x20required','handleOutgoingSystemEvents','Job\x20with\x20id\x20',':\x20Object\x20store\x20is\x20not\x20in\x20sync','-leave','signInWithCredential','December\x202023','Method\x20not\x20supported','Error\x20closing\x20writable\x20stream','removeExternalStorageConnection','handlePublishMediaStream','handleMissingSenders','SubscribeMediaStream','getAncestorIds','checkAudioVolume','isMediaSource','parseDataCollectionBlocks','AppSync\x20subscribe','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','getHash','enumerateDevices','mute','tableName','setupConnectionEvents','insert','Prompt','receiverBitrate','connection-buffer-not-empty','InvalidSubscription','\x20after\x20','AiSearch','tables','buffer','vector-database-creation-failed','next','apiUrl','openGenerativeAIContext','pathName','/objectstores/','getIsLoaded','getLocalId','topK','handleContentUnpublishMediaStream','Medium','pubSubTopics','getBid','oidc','Add','Success','batchQueue','threadId','internalProcessJobStream','gpu','debounceReady','logInitialMMR','clusters','models','isWhereValue','detail','temperature','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','getGenerativeAIContexts','childRemovedUnsubscriber','processJob','ConnectionBufferNotEmpty','MediaStream',',\x20Transactions:\x20','clientHeight','VectorDatabase','startHeartbeat','content-publish-media','GenerativeAIInferenceToolType','incomingTopic','context','setupResizeHandler','job-dispatcher-does-not-exist','statsReporting','stats','frameTime','ObjectStoreAlreadySubscribed','jobWorkers','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','head','unregisterSubscriber','connect','.kt','cpu.av_delay','outgoingStreams','learn-agent','workflow-does-not-exist','discoveryUnsubscriber','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','disconnected','getConnection','sync','uuid','openaiApiKey','bitrate','Failed\x20to\x20get\x20file','traceLevel','canvas','Completed','Missing\x20AI\x20worker\x20connector','Media','JobStream','::ï¿¿','Error\x20fetching\x20context','interval','checkExistingPendingFileContent','Invalid\x20job\x20type','Hash\x20computation\x20failed,\x20retrying...','publishNodeJoin','orderByKey','accumulateResult','topic','sourceId','pub-sub-topic-does-not-exist','tableObserver','results','setTimeout','VectorDatabaseNameNotString','WordSplitter','lastRemediations','createBufferSource','JobDispatcherAlreadyExists','isInternalSDKConfigs','isFeatureSupported','handleConnectionSuccess','ObjectStorage','JobQueueService:\x20Running\x20job','GraphDatabaseDoesNotExist','processTransactionsToComputeMMR','getWorkflowExternalStorageConnections','byteLength','startsWith','createPendingFileWrite','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','getCurrentVersion','agentId','KeyValueDatabaseTableDoesNotExist','StorageEventType','Subscribing\x20to\x20an\x20event:\x20on','loadEnabledChannels','hasRemoteNode','NodeConnectionsUpdate','getDataLogged','readyPromises','Error\x20searching','TextGeneration','capacityReporter','handleNoAnswer','setLocalRank','issues','graphDatabaseConnector','addReservedTables','PubSubTopicNameNotString','embedding','865872XfQxTY','outgoing-stream-no-topic','createGain','local-media-stream-track-fail','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','SyncComplete','RelationExtractor','connecting','asc','writes','addAudioTrack','api','ended','createGraphDatabase','processPendingSyncTransactions','From\x20','maxFps','getExternalStorageConnections','Feedback\x20Agent','available','connectionManager','SenderPeerConnection.send','/chat/completions','sort','debug','NodeManager\x20-\x20ConnectionSuccess','default','\x20to\x20generate\x20a\x20response.','RequestAccepted','\x20finalized.','tool-call','pendingFilesTransactions','owner','getShareableStream','Sender\x20connection\x20is\x20not\x20initialized.','output','setLoggingConnectors','createAnswer','maxThreshold','Offer','handleSuccess','origin','previousBytes','data','problemType','previous','SubscriptionRequestFailed','stopTracing','\x20not\x20found.','hashPeakHashes','appendTransactionAndUpdateHashMap','tail','noun','.swift','data-collection','messageType','.ts','setupStatsCollection','InvalidAccess','Received\x20content\x20available\x20from\x20node','clusterKey','evaluateProccessedJob','openVectorDatabase','Invalid\x20value.\x20Property\x20\x27','abs','JobWorker:\x20Received\x20job','searchInDataCollection','sendRequest','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','crewdleSDKDisableLogging','folder-create','\x20with\x20response:','previousTimestamp','AI\x20worker\x20creation\x20failed.','totalEncodeTime','Operations:','isSyncing','Cannot\x20list\x20directory:\x20','priority','3GfTosc','bodyParameters','Vector\x20database\x20creation\x20failed.','addConnection','handleAnswer','map','IncomingSubscription','chunks','msalGetAccessToken','key-value-database-table-name-reserved','.ps1','writeBatch','Error\x20opening\x20trace','SearchPerplexity','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','accessToken','publishTransaction','systemTopic','trim','blank-agent','appsync-disconnect','getSettings','ObjectStorageUpload','object-store-invalid-path','User','currentDistance','timeReceiving','suspended','answererId','retryCount','disableIntervalHack','handleIceCandidates','getApp','skill','sendPeakTransactions','Cannot\x20publish\x20folder:\x20','arrayBuffer','phi-4-14b','queues','onClose','getTableConnector','jobType','standalone','checkScreenSharing','Support','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','\x0a\x20===\x20Current\x20MMR\x20Root','maxResolution','createIncomingSubscription','max','feature-not-enabled','isPartialResultResponse','GraphDatabaseStats','NodeLeave','CloseVectorDatabase','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','state','writeFile','isJobRequest','publishLocalMediaStream','RemoteMediaStreamAlreadyExists','messageUnsubscriber','senderCurrentTimestamp','Missing\x20transaction\x20id','action','batchSize','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','4027852OHNYhf','createGenerativeAIContext','entries','grammar','Missing\x20remote\x20node\x20or\x20rank','\x27\x20reserved','Before\x20Synchronization','Bitrate','getRoot','getRemoteMediaStreams','answerContentAvailable','loggingCycle','issue','job-dispatcher-creation-failed','JobDispatcher:\x20Received\x20job','getRemoteMediaStream','DocumentParser','isComputingMMR','setupRenderElement','propn','collection-delete','NodeAlreadyExist','rank','/transactions/lastTransaction','serverTimestamp','minResolutionScale','onHandshakeStateChange','Retrieve','defineProperty','incrementVersion','signaling','.liquid','object','success','inputTokens','ConnectionNotinitialized','Handshake','Remove','Job\x20worker\x20creation\x20failed.','connection-invalid-data-event','getMaxConnections','ready','\x20-\x20','agent-join','File','router','filter','CrewdleConnection\x20handlePeerConnectionSystemEvents','splitParts','clearUpgradeTimeout','JobWorker:\x20Received\x20job\x20request','sourceVideo','framesDecoded','firebaseConfig','RemoteMediaStreamTrackFail','checkWebGL','validateQuery','workflowId','JobWorker:\x20Tracing\x20not\x20implemented','objectStores','indexes','notifyJoin','getQuery','Skill','handleContentRemoteMediaStreamTrackFail','batchTimeout','Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','Table\x20not\x20found','Cluster','mediaTopics','connectionGroup','Joined\x20cluster','Database\x20does\x20not\x20exist','doc','Key-value\x20database\x20transaction\x20value\x20not\x20set.','eventListener','setRemoteNode','.vbs','\x20not\x20supported','notifyObjectStoreOfNodeJoin','once','June\x202024','\x20new\x20transactions','handleSubscriptionSubscribeMediaStream','Competitive\x20Analysis\x20Agent','Detection','Text','PayloadAction','peaks','TimePerFrame','.ipynb','getOwnerId','inbound-rtp','limitToFirst','WaitFalse','from','ObjectStoreInvalidSyncMessage','List','NeedMediaStream','stun:','server','More\x20content\x20available\x20on\x20page\x20','SHA-256','destroy','developers/','key-value-database-invalid-layout','setTimestamp','CannotProvideMediaStream','peer-connection-invalid-destination','\x20already\x20exists.','createAIJob','.xls','getConfigs','removeRemoteMediaStream','October\x202023','NodeManager\x20-\x20PublishNodeLeave','syncTimeout','JobWorker:\x20Error\x20processing\x20job','object-store-already-exists','Hub','email','pool','internalContext','documentPath','FetchUrl','missing-incoming-connection','bandwidth.jitter','onConfigurationChange','DEBUG\x20-\x20','setupTrackEndedListeners','text','.cpp','handleUpdateMediaStream','KeyValueDatabaseDoesNotExist','createCollection','KeyValueDatabaseTransactionValueNotSet','.info/connected','getVideoTracks','publishSystemMessage','Missing\x20graph\x20database\x20connector','Invalid\x20params','getLastUpdated','2-digit','closeConnection','openGraphDatabase','\x20failed.','@root','JobDispatcherCreationFailed','Rating','Local\x20node\x20rank\x20is\x20not\x20set','json','string','user-update','inference','System','NeedRestart','updated','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','instructions','aws','Error\x20fetching\x20URL','ReceiverOnMessage','onBufferedAmountLow','handleSubscriptionSystemEvents','retryCallback','getRemoteNodes','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','OptimizationConnectionSuccess','Attribution','loop','.crewdle-transactions','setDurationTime','FileMove','audio','debounceAppendLog','application/json','agentConfig','logServiceEvent','bufferedEvents','getSenderTotalBytes','listenerUnsubscriber','Model','framerate','jobPhase','Invalid\x20JSON:','processContentSynchronized','handleChunkMessage','Error\x20writing\x20chunk\x20to\x20stream','senderStreams','getRank','prototype','outgoingTopic','cluster','compareTransactions','Subscription\x20request\x20does\x20not\x20exist.','debounceRebuildMMR','getAncestors','_ready','registerPublisher','relations','CrewdleSenderConnection\x20createOffer','.crewdle-layout','resolveReady','syncTransactionsWritten','createOutgoingSubscription','PeerConnection','Vector','\x20answer','availableTrackKinds','sendWithRetry','createNewBatch','/capacities','vector-database-does-not-exist','instantiateTransactionTable','unsubscribeListener','ConnectionNoRetryQueue','version','GraphDatabase\x20not\x20found','GenerativeAIModelInputType','Node\x20type\x20is\x20invalid','signalingState','request','checkWebRTC','Info','checkAudioContext','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','FolderCreate','clockSkew','JobWorkerAlreadyExists','RequestFile','Amplify','stopNoThrottlingHack','publishFolder','error','functions','systemMessagesReceived','handshakeState','connectorConstructor','receivers','onNodeUpdate','getId','signInWithCustomToken','stream','getAgents','content-unpublish-media','answer','getExternalStorageConnection','processLocalReport','processList','realtime-session-create','description','Remote\x20MediaStream\x20already\x20exists','Learning\x20Agent','JobContext','processJobStream','Today\x20Date:\x20','lastClockUpdate','processContentAvailable','getToolParams','operator','request-file-write','maxTokens','removeJobWorker','Incoming','Valid\x20layout','.clj','update','removeLocalMediaStream','/logs','validateLayout','long','tracks','Subject','JobStatus','objectStoreConnector','registerSubscriber','tool','ObjectStoreStats','removeRemoteConnection','search','updateJob','Outgoing','JobDispatcherInvalidPayload','crewdleSDKLoggingChannels','embed','firestore','InitialPrompt','RemoteConnectionExists','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','off','getJobDispatchers','receiverPreviousBytes','send','consumeBufferedEvents','getMinConnections','Result','decodeJWT','currentBatch','DataChannel\x20buffer\x20is\x20full.','createSubscription','drawImage','checkMediaRecording','getIdToken','appsync-connect-fail','AITrace','Early\x20return','KeyValueDatabaseIndexNotFound','hasTable','Error\x20writing\x20file','.pptx','reportMetric','peerConnectionConnector','JobWorkerDoesNotExist','subscription-request-in-progress','VectorDatabase\x20not\x20found','getLabel','\x27\x20in\x20table\x20\x27','Jitter','unregisterSystemPublisher','AudioOutput','sdkValidateAccess','base64','\x20does\x20not\x20exists','signalingServer','us-east-1','threshold','arguments','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','createExternalStorageConnection','forceLog','prompts','cpu.cycle','setDisplayName','confirmSynchronization','unregisterSource','body','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','createBuffer','configs','listChanges','searchOnGoogle','detection','DataCollection','LocalReport','handleFileSync','SentenceSplitter','.xlsx','connectionType','clusterEventEmitter','getDTVolatility','cachedRoot','Knowledge\x20Cutoff\x20Date:\x20','ExternalStorageInvalidPath','video','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','addDoc','handleNodeSystemEvents','getJob','height','write','ExecuteCode','history','clearRestartTimeout','Warning','No\x20global\x20object\x20found','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','removeItem','removeIncomingSubscription','createConstantSource','httpsCallable','parseWorkflowBlocks','VectorDatabaseMissingConnector','RequestFileWrite','sentence-splitter','\x0aAdditional\x20data:\x20','syncContent','node-invalid-type','buildQuery','getTotalBytes','getToolName','startIndex','currentBytes','FileStatus','Rejected','unsubscribeTrackEndedListener','DTVolatility','AISearch','GenerativeAIContextJobAlreadyConsumed','DatabaseEvent','parseWorkflowDocument','PubSubTopicDoesNotExist','No\x20parameters\x20provided','wait-false','setProviderId','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','detectLocalIssues','featureSupport','deleteFile','handleObjectMove','.sh','Connection\x20not\x20initialized.','KeyValueDatabaseInvalidValue','options','.ex','ancestors','getCapacityReport','.crewdle-last-transaction','vectors','connected','getSubscriptionInfo','getShareableStreamId','WorkflowDoesNotExist','inputType','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','rebuildMMR','copywriter-agent','Database\x20Opened','KeyValueDatabaseContentAvailable','getReport','waitConnected','crewdle-sdk-stg.firebaseapp.com','systemTopicUnsubscribe','KeyValueDatabasePeakNotFound','.jl','processRank','isIceCandidate','timestamp','createOffer','Invalid\x20table\x20name\x20\x27','retryQueue','removeNode','.bat','ref','Accepted','vector-database','readyDebounce','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','pipe','No\x20RAG\x20connector\x20available','remediation','trend-spotter','key-value-database-transaction-table-not-initialized','ingestBlocks','.hbs','GenerativeAIWorkerStats','keyValueDatabaseConnector','Relation','transactionService','handleNeedRestart','connectionTimeout','GenerativeAIContextJobFailed','Audio','receiver','connectionStateListener','\x20were\x20ready\x20in','engineType','deletePendingFile','.json','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','.jinja2','openai','/resources/generative-ai-agent/items','requestSubscription','Core','.\x20Confirmation?\x20','handleSubscribeMediaStream','ObjectStoreInvalidState','timeSending','New\x20MMR\x20Root:\x20','Copywriter\x20Agent','GenerativeAIContextJobInvalidType','Local\x20MediaStream\x20already\x20exists','subscribe','Internal\x20SDK\x20Error:\x20','clearSyncTimeout','setReceiverTimestamp','key-value-database','addCandidate','getTracks','__esModule','listenUnsubscriber','handleError','closeSubscription','sendIceCandidates','chunk-splitter','answerJoin','OutputAudioStream','cluster-leave','openAIKey','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','remoteId','msalRefreshToken','token','logStorage','ObjectStoreDoesNotExist','pow','deleteObject','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','listenerUnsubscribers','some','/resources/generative-ai-workflow/items/','globalObject','Signaling','getStatus','Support:\x20current\x20config','\x20does\x20not\x20support\x20content\x20type\x20','resolutionScale','setTransformations','Query\x20file\x20connector\x20not\x20set','LoadSkillFunction','setItem','clusters/','channel','internalProcessJob','handleUnsubscribeMediaStream','input-audio-stream','Wait','messageBuffer','getDataBucketIds','mmrRoot','between','Early\x20return:\x20','entity-extractor','7036694rEPtCC','orderBy','file.content','lastTransactionId','system','isWhereBetween','object-store-not-in-sync','EntityExtractor','jobDispatchers','Image','getContentType','result','Generative\x20AI\x20context\x20job\x20already\x20consumed.','addProblem','ApiKeyMissing','Offline','.rb','object-store-invalid-sync-message','handleSubscriptionUnsubscribeMediaStream','isConnected','groupId','GraphDatabaseCreationFailed','getInternalStreamId','getEstimatedTimestamp','debounceRebuildMMRWithTransaction','removeTrackListeners','\x20attempts:','ingestFile','KeyValueDatabaseTableNameReserved','Connection\x20does\x20not\x20exist','crewdle-sdk-stg.appspot.com','RemoteRemove','Database\x20not\x20open','firebaseUnsubscriber','compileStats','CrewdleReceiverConnection\x20ontrack','VectorDatabaseCreationFailed','GenerativeAIContextInvalidPartialResult','hash','ScreenSharing','Answer','High','handleOffer','.cs','setSenderTimestamp','ObjectStorageBucket','log','removeTopic','logDataSent','mode','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','api-key-missing','.yaml','\x20with\x20\x27','hasMessage','WorkflowInvalidBlockType','handleLocalTrackFailure','clearWaitAnswer','maxConnections','nextNodeId','connections','event','Workflow\x20does\x20not\x20exist.','OutgoingMediaStreamNoTopic','CloseGraphDatabase','https://api.crewdle.ai','ExternalStorageStats','receiver-on-message','job-worker-invalid-type','Job\x20service\x20creation\x20failed.','notifyObjectStoreOfNodeLeave','uid','authenticateAgent','ENOENT','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','getNumberOutgoingSubscriptions','Data','catch','transactionsToSync','getLocalMediaStream','updateDebounce','optimizationLayers','handleSubscriptionProvideMediaStream','packets','debugEnabled','data-stream','\x20-\x20Sending\x20propagation\x20(','localId','listFiles','CloseJobDispatcher','functionsRegion','audioSource','setOnDisconnectHandler','request-file','relevance','addVideoTrack','connector','GenerativeAIModelOutputType','delete','ObjectStore','reasoning','job-dispatcher-job-not-found','crewdle','commitType','handleFileRequest','crewdle-sdk','custom-skill','timesCalled','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','frameHeight','external-storage-upload','SenderPeerConnection\x20send','Optimization','right','st_volatility','ObjectStoreInvalidPath','executeAgent','KeyValueDatabaseAlreadyExists','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','getAudioTracks','MissingSystemTopic','GenerativeAIRatingStatus','send\x20error\x20on\x20','waitAnswer','removeObjectStore','Sync\x20completed','KeyValueDatabaseInvalidQuery','direction','connectAgent','FPS','LocalMediaStreamDoesNotExist','onDataChannel','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','startNoThrottlingHack','object-store-already-subscribed','width','handleFileRequestAnswer','\x27\x20payload:','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','detectVideoIssues','job-dispatcher-already-exists','rootComputationPromise','JobType','boolean','exists','endpointUrl','reduce','https://crewdle-sdk-default-rtdb.firebaseio.com','eventTarget','Delete','/nodes','Connection','GraphDatabaseMissingConnector','clearHeartbeat','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','Failed','createFolder','manageAncestor','isEqual','Conditional\x20Router','IngestTrace','systemMessages','ChunkSplitter','Everyone\x20','component','AI\x20Service\x20already\x20exists','mediator','Mistlet\x20capacity\x20report\x20not\x20set.','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','Resolution','maps','commitTrace','CloseMediaStream','Initial\x20MMR\x20built\x20with','\x20must\x20be\x20a\x20valid\x20JSON\x20string','/nodes/','Sending\x20\x27','pub-sub-topic-already-subscribed','getKeyValueDatabases','label','getFirestore','subscription-request-no-answer','getConnectionGroup','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Knowledge','publishFile','removeGraphDatabase','45IIBJfk','external-storage','addBidResponse','Writable\x20stream\x20is\x20missing','.html','RemoteAdd','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','299358GyiTpB','POST','generative-ai-context-job-failed','hasOwnProperty','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','logDataReceived','shift','function','senderConnection','text/event-stream','RestartNeedMediaStream','JobWorker:\x20Handling\x20job\x20attribution','publishSyncCompletedAfterWrites','aiSearchConnector','ConnectionNotConnected','everyone','Execute\x20skill\x20','object-store-name-not-string','logMMRRebuild','key-value-database-name-not-string','isMediaDestination','isBidResponse','sendBid','delta','createConnection','relation-extractor','IDBDatabaseConnector','trace','packetsLost','openExternalStorageConnection','joinCluster','getOrResetPendingFileTimeout','Boolean','externalStorageConnectors','senderTotalMessages','publishNodeLeave','.xml','removeJobDispatcher','calculateArrayBufferSize','publishSyncCompletedAfterWrites\x20-\x20','\x20to\x20send\x20dispatcherJob\x20','getJobObservable','waitSuccess','job-dispatcher-invalid-job-type','bytesReceived','chunksReceived','ObjectStoreAlreadyExists','JobDispatcherJobExists','NodeNotAuthenticated','jobObservers','Internal\x20event\x20\x27','getProviderId','dataBucketIds','loadFromDisk','contentSize','getVectorDatabase','Cannot\x20write\x20transaction.','stop','getDistance','content','removeSubscription','transactions','PromptFunctionParamsType','Count','Invalid\x20where\x20clause','appsync-close','cost','appsync-connect','createWritableStream','external-storage-invalid-path','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','Cannot\x20get\x20size\x20of\x20path:\x20','JobQueueService:\x20Job\x20completed','Opened\x20generative\x20AI\x20worker','then','.docx','GenerativeAIWorkerCreationFailed','checkBackgrounds','processReport','Context','out','assign','getGraphDatabase','ccc','Send\x20request','getEntities','jobId','isNodeReady','openJobDispatcher','getReceiverTotalBytes','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','publish','counter','Node\x20is\x20not\x20an\x20agent','calculateSize','Received\x20ContentSynchronized\x20from\x20','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','RemoteMediaStreamDoesNotExist','currentFrames','searchEngineId','feedback-agent','addEventListener','observer','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','moveObject','onValue','Node\x20\x27','heartbeatUnsubscriber','KeyValueDatabaseRequestTransactionsValue','Cannot\x20publish\x20payload:\x20','feedback','responseTimeout','element','getPartsFromSubscription','ranges','Invalid\x20key\x20\x27','commitBatch','CloseExternalStorageConnection','processRemoteInboundReport','getBufferedAmount','LocalMediaStreamTrackFail','gpt-4o','Human','key-value-database-transaction-value-not-set','InvalidDataChannel','.hs','user','retrieveBlocks','codes','generativeAIWorkers','parentId','completeSync','PartialResult','appsync-statechange','writeTransaction\x20-\x20transaction\x20already\x20exists','round','Job','InvalidPublisher','handleNodeLeave','getObjectStoreBuckets','modelId','getInternalTrackParams','value','collection-query','ner','eventEmitter','handlePeerConnectionSystemEvents','av_delay','/jobs','indexOf','syncTransactions','Additional\x20context:\x0a','estimatedPlayoutTimestamp','Missing\x20AI\x20search\x20API\x20key','sendAction','Receiver','condition_result','cleanOldSubscription','o3-mini','ClosePubSubTopic','onremovetrack','resolution','endpointMethod','getWorkflow','knowledge','syncKeyValueDatabase','.php','GenerativeAIContext\x20stream\x20error','undefined','setRank','GenerativeAIContextStats','externalStorageConnections','subscription-request-failed','Entity','collection-create','message','orchestrator','file.type','initializeApp','peakHeights','onDisconnect','rating','GraphSearch','Node\x20already\x20exists.','processOutboundReports','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','GraphDatabase','peer-connection','WorkflowTrace','join','handshakeCandidates','unregisterPublisher','DataChannel\x20is\x20not\x20initialized.','ExecuteCustomSkill','RemoteMediaStreamInvalidSubscriptionParams','receiverTotalMessages','disconnect','handleSystemEvents','Cannot\x20publish\x20file:\x20','getPeakNode','processTransactionPayload','blockId','.conf','statusText','publishSyncCompleted','nodeUpdate','transactionQueue','wait-true','Cannot\x20unpublish\x20object\x20at\x20','remote-connection-exists','query-generator','getPartsForSubscriptionLabel','WebScraper','Error\x20processing\x20ingest','endsWith','attributes','generative-ai-worker-creation-failed','enabled','receiverPreviousTimestamp','local-media-stream-no-audio-context','asObservable','requestSubscriptionAction','bufferedAmount','outputType','processPendingHandshakeCandidates','take','debounceStats','application/octet-stream','Summary\x20Generator','clientStream','trackCallback','setEncodingParameters','objectRequests','Generic\x20AI\x20Agent','setBytes','/traces','Cannot\x20unpublish\x20object:\x20','notifyClusterNodeUpdate','FileWrite','isInternalLoggingConnector','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','bind','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','removePubSubTopic','startBidResponseHandling','upgrade','expectedTransactions','getSTVolatility','FeatureNotEnabled','setPriority','deleteRemoteNode','NodeJoin','receiverUnsubscribers','cluster-already-joined','RequestFileSync','chosenAnswers','GenerativeAIWorkerAlreadyExists','match','Object\x20store\x20not\x20synced.','Remote\x20stream\x20does\x20not\x20exist.','Invalid\x20query','clearOncloseTimeout','remove','createKeyValueDatabase','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','time','AppSync\x20client\x20not\x20ready','canChooseAnswer','code','jobQueue','setUpgradeTimeout','sendReject','\x20created\x20and\x20dispatched.','vector-database-name-not-string','durationTime','Update','authContext','getJobWorkers','trackKinds','handleOptimizationConnectionSuccess','object-store-invalid-payload','getRemoteConnections','subject','ragApiKey','AudioVideoDelay','recipients','.js','executeJavascriptCodeSnippet','choices','Search\x20Agent','job-dispatcher-observer-not-found','logRaw','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','dataUnsubscribers','isNeedRestart','setCurrentVersion','tableLayout','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','2693310PGffiN','vector','random','nodesConnected','getReceiverBitrate','reset','source','UpdateMediaStream','handleSubscriptionNeedMediaStream','createBatchOperation','processContentAvailable\x20-\x20Peak\x20comparison:','getChannelData','localMediaStreams','getDisplayName','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','getPriority','bufferEvent','generative-ai-worker-already-exists','Waiting','queryOrPrompt','listen','substring','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','MediaStreamUnavailable','enabledChannels','updateLastTransactionId','openPubSubTopic','Write\x20text\x20data\x20to\x20a\x20file.','JobWorker:\x20Sending\x20job\x20bid','invalid-publisher','statsManager','list','file-delete','getRemoteId','findNextNodeId','generic-agent','VectorDatabaseStats','ConnectionGroup','Downgrade','vectorDatabases','removeTrackCallback','CPUCycle','commit','query-helper-invalid-argument','combinePeaks','Tool','inactive','shouldContinuePropagation','Unknown\x20skill\x20type','Invalid\x20data\x20event.','Disconnected','ObjectKind','name','InternalSDKError','Upgrade','VectorSearch','KeyValueDatabaseSendTransactions','oncloseTimeout','detectAudioIssues','SubscriptionRequestDoesNotExist','createTopic','buildTableEvent','Error\x20querying\x20file','notifyClusterNodeJoin','upgradeTimeout','isPromiseResolved','JobDispatcherObserverNotFound','validateValue','restartTimeout','Invalid\x20subscriber.','logConnectionState','Sender','Internal\x20SDK\x20error:\x20','getConnectionDestinations','LocalMediaStreamNoAudioContext','parameters','Graph\x20database\x20creation\x20failed.','setupStatsReporting','\x0a\x0adata:\x20','objectToArrayBuffer','getRoundTripTime','WebRTC','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','sdkCreateToken','signOut','external-storage-connection-does-not-exist','getEmail','close','https://api.stg.crewdle.ai','GraphDatabaseAlreadyExists','collectTransactionsFromNode','generative-ai-context-creation-failed','removeOutgoingSubscription','Remote\x20connection\x20already\x20exists.','evaluateBids','GenerativeAIEngineType','retryQueues','Invalid\x20subscription.','createObjectStoreBucket','Stream\x20already\x20exists','disconnectCallback','Search','index','handleRemoteTrackFailure','fileChunks','checkMediaStream','handleNodeUpdate','CloseKeyValueDatabase','resizeHandler','OPFSObjectStoreConnector','Parameter\x20','\x20ms\x0a','getDataCollections','recomputeRoot','handleNodeDisconnect','processOutboundReport','KeyValueDatabaseRequestPeakTransactions','remote-stream-does-not-exist','Base\x20Peer\x20Connection','local-stream-does-not-exist','processBatch','ObjectStoreNotInSync','queryParameters','decode','dbKey','pubsub','getMaxDistance','Key-value\x20database\x20table\x20does\x20not\x20exist.','deleteTransactionsForTable','lastCapacityReport','pubsubTopics','hashNodes','createBatch','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','Router','1:420235181083:web:4eff6062bd845cb0748cbe','setStatus','createElement','media-stream','files','topicLabel','addMessage','getCurrentMaxLayer','createLocalDynamicMediaStream','generativeAIContexts','pendingHandshakeCandidates','Restart','Pending','Done','getNextTargetRank','supported','sdk-internal-error:\x20','internalId','createGenerativeAIWorker','registerSystemSource','autoplay','Invalid\x20workflow\x20block\x20type.','callback','Missing\x20RAG\x20API\x20key','memoryUsage','node','getJobs','Rejected\x20answer','restartHandshake','addEdge','rtt','Jobs','trackListeners','getLocalMediaStreams','slice','.go','MediaStream\x20feature\x20not\x20enabled','getResolutionScale','processRemoveContent','key-value-database-not-open','cores','WebGL','DataCollectionDoesNotExist','Error\x20stringifying\x20object','padStart','frames','totalNodes','onChildRemoved','unsubscribeHandler','transactionHashMap','messageCallback','JobWorker:\x20Sending\x20job\x20reject','Local\x20stream\x20does\x20not\x20exist.','fps','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','handleTransactionPayload','handshakeDebounce','createVectorDatabase','isValidMediaSubscriptionParams','Debug','SyncKeyValueDatabase\x20-\x20Ancestors\x20','model','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','InvalidSubscriber','total','validateAccess','No\x20destinationIds\x20left','RemoteMediaStreamMissingProviderId','receiverStreams','isLoaded','AudioContext','420235181083','addIssue','ObjectStoreNameNotString','audioDestination','outgoingManager','processInboundReport','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','overlap','GenerativeAIContextJobTimeout','closeTrace','secheduleTime','DeviceConfig','isProduction','openKeyValueDatabase','completion_tokens','maxBitrate','previousFrames','computeHash','mediaStream','authNode','table','Chosen\x20answer','handleContentSystemEvents','sendFile','.pl','Archival\x20Search\x20Agent','Received\x20','remote-inbound-rtp','Embeddings','Node','runJobQueue','initialPrompt','cluster-disconnect','path','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','Agent','queryCollection','loggingConnectors','AppSync\x20connection\x20not\x20ready','CREWDLE_WEB_SDK','processReceiverReport','processReceivedTransactions','Invalid\x20peer\x20connection\x20event\x20destination.','nlpLibraryConnector','KeyValueDatabaseTableNotFound','/embeddings','val','connectionPool','GetContextQuery','Publish\x20the\x20transaction','/transactions','QueryBuilderInvalidArgument','getPubSubTopic','resetConnection','messageListeners','unshift','0\x20B','isReady','215556XkLdwQ','dataStores','crewdle-sdk-logging-','get','clusterId','waitSendBuffer','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','Data\x20Received','KeyValueDatabaseContentSynchronized','CustomSkill','getUserMedia','length','clearConnectionTimeout','find','agent-update','\x0a\x20===\x20Total\x20Nodes:','chooseAnswer','desc','connection-no-retry-queue','transaction','retryLimit','21a9d78dee97f487b','file-list','onDisconnectHandler','every','number','CanProvideMediaStream','docs','roundTripTime','handleStatsSystemEvents','fileSendingMap','writeTransaction','getPubSubTopics','true','KeyValueDatabaseInvalidLayout','agent','getConnections','Default','STVolatility','CloseObjectStoreBucket','sequence','Data\x20cluster\x20is\x20not\x20open.','client','Agent\x20output\x20is\x20not\x20a\x20string','floor','generative-ai-label-conflict','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','_isReady','mediaDevices','RemoteRemediation','sendTransactionsValue','Code','Key-Value\x20Database\x20-\x20Sync\x20Completed','PubSubTopic\x20not\x20found','handleProblem','getSimilarity','mergeParts','statsCollection','toString','documentParserConnector','return\x20this','GetContextResult','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','operations','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','failed','ExternalStorageConnectionAlreadyExists','Stats:\x20report','web-scraper','Reranker','support','arrayBufferToObject','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','ObjectStore\x20not\x20found','Backgrounds','accumulated','JobWorkerCreationFailed','ExecuteAgent','file-download','joinedAt','node-type-required','isOffer','SubscriptionRequestInProgress','initializeSystemTopic','applyRemediation','getRemoteNode','MissingRemoteConnection','.doc','storage','nodes','maxDistance','concat','write-file','.tpl','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','validateKey','detectionManager','isAvailable','FinalOutput','QueryFile','features','unregisterCluster','Recording','Node\x20type\x20is\x20required','getLayout','PromptSource','\x20completed.','removeTrack','Invalid\x20data\x20channel.','Index','WebScraperRaw','PubSub\x20already\x20exists','addTrack','search-agent','not-resolved','skipEncryption','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','pendingSyncTransactions','PeerConnectionInvalidDestination','.dart','handleDetectionSystemEvents','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','Orchestrator\x20handleSystemEvents','\x27\x20to\x20','.rkt','Subscription','graph-database-already-exists','fetchContentFromUrl','object-store-stream-does-not-exist','.erb','mmr','initialize','updateDebounceTimeout','graph-database-does-not-exist','Error','getKeyValueDatabase','set','handleSubscriptionRestartNeedMediaStream','if-else-router','Data\x20collection\x20does\x20not\x20exist.','setParams','discoveryService','Text\x20is\x20required','Invalid\x20node\x20type','isSubscribed','Missing\x20external\x20storage\x20connector','messagesReceived','createJob','resolve','getContent','false','contentType','/resources/agent/items/','updateUser','forEach','setRemoteConnections','getSize','Prompt\x20is\x20required','fromEntries','/resources/generative-ai-collection/items','crewdle-sdk.firebaseapp.com','.vb','track','createSenderConnection','handleDisconnect','GenerativeAIContextCreationFailed','job-worker-creation-failed','llama-3.2-3b','findNewMediaSubscription','.md','Job\x20Dispatcher\x20does\x20not\x20exist','ceil','Bid','orchestrator-close','nodeId','getTotalNodes','vendorId','job-dispatcher-invalid-payload','addRemoteConnection','authenticateUser','maxOutgoingSubscriptions','getBitrate','GenerativeAILabelConflict','tokens','sendChunked','.txt','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','maxLayer','Received\x20track','ConnectionState','addCluster','Memory\x20Usage\x20at\x20','logBatch','startTime','getDoc','object-storage','getSubscriptionLabel','PubSub','contentRequestSent','currentTimestamp','DataStream\x20onMessage','hashTransaction','entity','isRunning','publishMove','maxDepth','createDataChannel','setInterval','exports','toFixed','getTrack','sendStats','SearchGoogle','remoteUnsubscriber','remoteConnections','remediationManager','\x20received\x20result:','Invalid\x20credentials','Missing\x20answerer\x20id\x20on\x20request\x20answer','Invalid\x20layout:\x20','ai-search','hasBufferedData','runTransaction','Cannot\x20find\x20External\x20Storage\x20connection:\x20','setDoc','PubSubTopicAlreadySubscribed','onMessage','/vector_stores/','subscriptions','node-already-exist','onloadeddata','checkSyncComplete','Attempt\x20','pendingFilesSyncing','key','collectStats','canRestartHandshake','targetId','Error\x20processing\x20retrieve','rate','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','closed','\x20received\x20partial\x20result:','getTransactions','evaluateBidsAndAttributeJob','openGenerativeAIWorker','handleRemediationSystemEvents','jobs','Error\x20parsing\x20JSON:','.tcl','connection-not-connected','toStringTag','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','KeyValueDatabaseNotOpen','status','clear','No\x20connections\x20available\x20to\x20send\x20message','UnsubscribeMediaStreamdiaStream','layout','Generative\x20AI\x20context\x20creation\x20failed.','Generative\x20AI\x20context\x20job\x20failed.','/jobs/','getGraphDatabases','searchApiKey','handleNodeJoin','min','processServiceReport','minThreshold','\x27\x20is\x20not\x20ready','audioContext','getLocalNode','.djt','checksum','query','evaluatePartialJob','Model\x20not\x20found\x20','thread-','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','registerDestination','contextInputVariable','isChannelEnabled','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','crewdleSDKEnableLogging','committed','Invalid\x20version\x20\x27','topics','performCalculation','now','pop','subscription','providerListener','MistletCapacityReportNotSet','key-value-database-already-exists','values','sendFileRequestPayload','ExternalStorage','logEvent','Problem','Query\x20is\x20required','key-value-database-does-not-exist','ExternalStorageConnectionAlreadySubscribed','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','user-join','joinedClusters','Invalid\x20index\x20in\x20table\x20\x27','file-ingest','PublishMediaStream','NodeType','Pool','PubSubTopicStats','NodeTypeNotSupported','setScheduleTime','filename','getSupportedContentTypes','debounceProcessRank','getAuth','syncPendingFiles','registerCluster','sender','logLevel','KeyValueDatabase','subscriptionManager','getContext','Job\x20Worker\x20does\x20not\x20exist','getConnectionType'];a0_0x1a3f=function(){return _0x2e8d8c;};return a0_0x1a3f();}function a0_0x5cc9(_0x35590e,_0x33b343){const _0x1a3fc8=a0_0x1a3f();return a0_0x5cc9=function(_0x5cc9e3,_0x1bddee){_0x5cc9e3=_0x5cc9e3-0x172;let _0x560991=_0x1a3fc8[_0x5cc9e3];return _0x560991;},a0_0x5cc9(_0x35590e,_0x33b343);}(function(_0xf4b8c5,_0x2c9a46){const _0x175a3f=a0_0x5cc9,_0x5d71c2=_0xf4b8c5();while(!![]){try{const _0xb379b7=parseInt(_0x175a3f(0x89e))/0x1+parseInt(_0x175a3f(0x66b))/0x2+parseInt(_0x175a3f(0x35b))/0x3*(parseInt(_0x175a3f(0x39e))/0x4)+-parseInt(_0x175a3f(0xadf))/0x5+-parseInt(_0x175a3f(0x26d))/0x6*(-parseInt(_0x175a3f(0x5a9))/0x7)+-parseInt(_0x175a3f(0x30c))/0x8+parseInt(_0x175a3f(0x664))/0x9*(-parseInt(_0x175a3f(0x796))/0xa);if(_0xb379b7===_0x2c9a46)break;else _0x5d71c2['push'](_0x5d71c2['shift']());}catch(_0x2ba0b3){_0x5d71c2['push'](_0x5d71c2['shift']());}}}(a0_0x1a3f,0x7c8df),!function(_0x104605,_0x93e4d3){const _0x3f40e4=a0_0x5cc9;if(_0x3f40e4(0x3be)==typeof exports&&_0x3f40e4(0x3be)==typeof module)module[_0x3f40e4(0x96e)]=_0x93e4d3();else{if(_0x3f40e4(0x672)==typeof define&&define[_0x3f40e4(0xa9b)])define([],_0x93e4d3);else{var _0x138089=_0x93e4d3();for(var _0x1d8f1a in _0x138089)('object'==typeof exports?exports:_0x104605)[_0x1d8f1a]=_0x138089[_0x1d8f1a];}}}(this,()=>((()=>{'use strict';const _0x677888=a0_0x5cc9;var _0x5d7d7b={0x14d:(_0x3fc284,_0x539ff5,_0x527e3c)=>{const _0x67ab42=a0_0x5cc9;_0x527e3c['d'](_0x539ff5,{'O':()=>_0x158fb8});const _0x158fb8={'version':'1.0.28.0','isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x67ab42(0x542),'databaseURL':_0x67ab42(0x208),'projectId':'crewdle-sdk-stg','storageBucket':_0x67ab42(0x5c7),'appId':_0x67ab42(0xaa5),'functionsRegion':'northamerica-northeast1'},'apiUrl':_0x67ab42(0x7ee),'google':{'searchEngineId':_0x67ab42(0x8b3)},'aws':{'endpoint':_0x67ab42(0x2ca),'region':_0x67ab42(0x4e2)}};},0x33b:(_0x569954,_0x572833,_0x31fd39)=>{_0x31fd39['d'](_0x572833,{'O':()=>_0x59f3b2});const _0x59f3b2={};},0x3e6:(_0x3ad32c,_0x32e960,_0x5e4f5f)=>{const _0x2be253=a0_0x5cc9;_0x5e4f5f['d'](_0x32e960,{'O':()=>_0x3523a});const _0x3523a={'version':'1.0.28','isProduction':!0x0,'firebaseConfig':{'apiKey':_0x2be253(0x50b),'authDomain':_0x2be253(0x93e),'databaseURL':_0x2be253(0x63c),'projectId':_0x2be253(0x612),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x2be253(0x864),'appId':_0x2be253(0x81d),'measurementId':'G-F7W8KXRKQB'},'apiUrl':_0x2be253(0x5ea),'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x2be253(0x4e2)}};},0x20:(_0x14f767,_0x187f92,_0x2ce836)=>{_0x2ce836['d'](_0x187f92,{'O':()=>_0x440df5});const _0x440df5={};}},_0x462f9c={};function _0x11dd7d(_0x3632c7){const _0x3f1ad2=a0_0x5cc9;var _0x6ebe96=_0x462f9c[_0x3632c7];if(void 0x0!==_0x6ebe96)return _0x6ebe96['exports'];var _0x1eeed4=_0x462f9c[_0x3632c7]={'exports':{}};return _0x5d7d7b[_0x3632c7](_0x1eeed4,_0x1eeed4[_0x3f1ad2(0x96e)],_0x11dd7d),_0x1eeed4[_0x3f1ad2(0x96e)];}_0x11dd7d['d']=(_0x5993d7,_0x27bd1b)=>{const _0x49da9b=a0_0x5cc9;for(var _0x43efaa in _0x27bd1b)_0x11dd7d['o'](_0x27bd1b,_0x43efaa)&&!_0x11dd7d['o'](_0x5993d7,_0x43efaa)&&Object[_0x49da9b(0x3ba)](_0x5993d7,_0x43efaa,{'enumerable':!0x0,'get':_0x27bd1b[_0x43efaa]});},_0x11dd7d['g']=(function(){const _0x21a59d=a0_0x5cc9;if(_0x21a59d(0x3be)==typeof globalThis)return globalThis;try{return this||new Function(_0x21a59d(0x8da))();}catch(_0x32f203){if(_0x21a59d(0x3be)==typeof window)return window;}}()),_0x11dd7d['o']=(_0x59260b,_0x5b5e28)=>Object[_0x677888(0x45c)][_0x677888(0x66e)][_0x677888(0xa9e)](_0x59260b,_0x5b5e28),_0x11dd7d['r']=_0x2d3a43=>{const _0x1e0273=_0x677888;_0x1e0273(0x714)!=typeof Symbol&&Symbol[_0x1e0273(0x999)]&&Object[_0x1e0273(0x3ba)](_0x2d3a43,Symbol[_0x1e0273(0x999)],{'value':_0x1e0273(0x9f3)}),Object[_0x1e0273(0x3ba)](_0x2d3a43,_0x1e0273(0x57d),{'value':!0x0});};var _0x4e0a41,_0x1cdbf5,_0x86d570,_0x37b190={};_0x11dd7d['r'](_0x37b190),_0x11dd7d['d'](_0x37b190,{'KeyValueDatabase':()=>_0x2113e7,'LayoutBuilder':()=>_0xb04762,'LoggingChannels':()=>_0x86d570,'QueryBuilder':()=>_0x485251,'SDK':()=>_0x2144c6,'SDKClientErrorCodes':()=>_0x4e0a41,'TableBuilder':()=>_0x4a16bc,'logger':()=>_0x5bf0c2}),function(_0x4c28f6){const _0xe9b011=_0x677888;_0x4c28f6[_0xe9b011(0x5b7)]=_0xe9b011(0x5dc),_0x4c28f6[_0xe9b011(0x2af)]=_0xe9b011(0x28a),_0x4c28f6['ClusterAlreadyJoined']=_0xe9b011(0x769),_0x4c28f6[_0xe9b011(0x8e0)]='external-storage-connection-already-exists',_0x4c28f6[_0xe9b011(0x9ca)]=_0xe9b011(0x206),_0x4c28f6[_0xe9b011(0xac7)]=_0xe9b011(0x7eb),_0x4c28f6[_0xe9b011(0x218)]=_0xe9b011(0x216),_0x4c28f6[_0xe9b011(0x4fe)]=_0xe9b011(0x6b0),_0x4c28f6['ExternalStorageNameNotString']=_0xe9b011(0x195),_0x4c28f6[_0xe9b011(0x764)]=_0xe9b011(0x38d),_0x4c28f6[_0xe9b011(0xb13)]='generative-ai-context-already-exists',_0x4c28f6[_0xe9b011(0x21c)]='generative-ai-context-does-not-exist',_0x4c28f6[_0xe9b011(0xaf6)]='generative-ai-context-job-missing-thread-id',_0x4c28f6['GenerativeAIContextJobInvalidType']='generative-ai-context-job-invalid-type',_0x4c28f6[_0xe9b011(0x954)]=_0xe9b011(0x8cb),_0x4c28f6[_0xe9b011(0x76c)]=_0xe9b011(0x7a7),_0x4c28f6[_0xe9b011(0x22c)]=_0xe9b011(0xb18),_0x4c28f6['GenerativeAIWorkerModelSyncError']=_0xe9b011(0xa20),_0x4c28f6['GraphDatabaseAlreadyExists']=_0xe9b011(0x91c),_0x4c28f6[_0xe9b011(0x2f1)]=_0xe9b011(0x923),_0x4c28f6['GraphDatabaseMissingConnector']=_0xe9b011(0x9f7),_0x4c28f6['GraphDatabaseNameNotString']='graph-database-name-not-string',_0x4c28f6[_0xe9b011(0x2eb)]=_0xe9b011(0x635),_0x4c28f6[_0xe9b011(0xab3)]=_0xe9b011(0x2ba),_0x4c28f6[_0xe9b011(0x69a)]='job-dispatcher-job-exists',_0x4c28f6[_0xe9b011(0xa00)]=_0xe9b011(0x60e),_0x4c28f6['JobDispatcherInvalidJobType']=_0xe9b011(0x696),_0x4c28f6[_0xe9b011(0x482)]='job-worker-already-exists',_0x4c28f6['JobWorkerDoesNotExist']=_0xe9b011(0x9fa),_0x4c28f6[_0xe9b011(0x699)]=_0xe9b011(0x414),_0x4c28f6[_0xe9b011(0x2be)]=_0xe9b011(0x62f),_0x4c28f6[_0xe9b011(0x58c)]=_0xe9b011(0x91e),_0x4c28f6[_0xe9b011(0x866)]=_0xe9b011(0x67c),_0x4c28f6[_0xe9b011(0x1b5)]=_0xe9b011(0x784),_0x4c28f6[_0xe9b011(0x61c)]=_0xe9b011(0x372),_0x4c28f6[_0xe9b011(0x80f)]=_0xe9b011(0x5af),_0x4c28f6['InternalSDKError']='internal-sdk-error',_0x4c28f6['InvalidAccess']=_0xe9b011(0xa98),_0x4c28f6['KeyValueDatabaseAlreadyExists']=_0xe9b011(0x9c2),_0x4c28f6[_0xe9b011(0x423)]=_0xe9b011(0x9c9),_0x4c28f6[_0xe9b011(0x4d0)]=_0xe9b011(0xaee),_0x4c28f6[_0xe9b011(0x627)]='key-value-database-invalid-query',_0x4c28f6[_0xe9b011(0x52f)]='key-value-database-invalid-value',_0x4c28f6[_0xe9b011(0x1f6)]=_0xe9b011(0x67e),_0x4c28f6['KeyValueDatabaseNotOpen']=_0xe9b011(0x844),_0x4c28f6[_0xe9b011(0x5c5)]=_0xe9b011(0x364),_0x4c28f6['KeyValueDatabaseTableNotFound']='key-value-database-table-not-found',_0x4c28f6[_0xe9b011(0x8c0)]=_0xe9b011(0x407),_0x4c28f6['LocalMediaStreamAlreadyExists']=_0xe9b011(0x1c0),_0x4c28f6[_0xe9b011(0x7e0)]=_0xe9b011(0x747),_0x4c28f6['PubSubTopicAlreadyExists']=_0xe9b011(0x210),_0x4c28f6[_0xe9b011(0x524)]=_0xe9b011(0x2e3),_0x4c28f6[_0xe9b011(0x30a)]=_0xe9b011(0x196),_0x4c28f6[_0xe9b011(0x97f)]=_0xe9b011(0x65a),_0x4c28f6[_0xe9b011(0x897)]=_0xe9b011(0x7c1),_0x4c28f6[_0xe9b011(0x397)]='remote-media-stream-already-exists',_0x4c28f6[_0xe9b011(0x72e)]='remote-media-stream-invalid-subscription-params',_0x4c28f6[_0xe9b011(0x8f0)]=_0xe9b011(0x4d7),_0x4c28f6[_0xe9b011(0x69b)]=_0xe9b011(0x1ee),_0x4c28f6[_0xe9b011(0xa28)]=_0xe9b011(0x516),_0x4c28f6['NodeTypeNotSupported']='node-type-not-supported',_0x4c28f6[_0xe9b011(0x1e9)]=_0xe9b011(0x8ee),_0x4c28f6['VectorDatabaseAlreadyExists']=_0xe9b011(0xade),_0x4c28f6[_0xe9b011(0xa62)]=_0xe9b011(0x472),_0x4c28f6['VectorDatabaseMissingConnector']='vector-database-missing-connector',_0x4c28f6[_0xe9b011(0x2e7)]=_0xe9b011(0x77d);}(_0x4e0a41||(_0x4e0a41={}));class _0x2ed9c0 extends Error{['code'];constructor(_0x369cad,_0x5022d5){const _0x726932=_0x677888;super(_0x5022d5),this[_0x726932(0x778)]=_0x369cad;}}!function(_0xaca100){const _0x37274d=_0x677888;_0xaca100['PubSub']=_0x37274d(0x813),_0xaca100['ObjectStorage']=_0x37274d(0x961),_0xaca100[_0x37274d(0x9de)]='key-value-database',_0xaca100['VectorDatabase']='vector-database',_0xaca100[_0x37274d(0x726)]=_0x37274d(0xa9a),_0xaca100[_0x37274d(0x9c5)]=_0x37274d(0x665),_0xaca100[_0x37274d(0x2b0)]=_0x37274d(0x820),_0xaca100['GenerativeAIContext']='generative-ai';}(_0x1cdbf5||(_0x1cdbf5={})),function(_0x113d73){const _0x427e0b=_0x677888;_0x113d73[_0x427e0b(0xafa)]=_0x427e0b(0xa47),_0x113d73['Default']=_0x427e0b(0x326),_0x113d73[_0x427e0b(0x640)]=_0x427e0b(0xa41),_0x113d73[_0x427e0b(0x95b)]=_0x427e0b(0xb0b),_0x113d73[_0x427e0b(0x3e2)]=_0x427e0b(0x45e),_0x113d73[_0x427e0b(0xb04)]=_0x427e0b(0x6a6),_0x113d73[_0x427e0b(0xabb)]=_0x427e0b(0x5fe),_0x113d73[_0x427e0b(0x3f3)]=_0x427e0b(0x4f3),_0x113d73[_0x427e0b(0xa79)]=_0x427e0b(0xa14),_0x113d73['Error']=_0x427e0b(0x487),_0x113d73[_0x427e0b(0x83c)]='jobs',_0x113d73[_0x427e0b(0x9de)]='key-value-database',_0x113d73[_0x427e0b(0x881)]=_0x427e0b(0x836),_0x113d73['Pool']=_0x427e0b(0x417),_0x113d73[_0x427e0b(0x963)]=_0x427e0b(0x813),_0x113d73[_0x427e0b(0x43f)]=_0x427e0b(0x5ec),_0x113d73[_0x427e0b(0x23c)]=_0x427e0b(0x555),_0x113d73[_0x427e0b(0xaf7)]=_0x427e0b(0x9e6),_0x113d73[_0x427e0b(0x594)]=_0x427e0b(0x3bc),_0x113d73[_0x427e0b(0xa05)]=_0x427e0b(0x2bc),_0x113d73[_0x427e0b(0x91b)]=_0x427e0b(0x9bf),_0x113d73[_0x427e0b(0x387)]=_0x427e0b(0x8e4),_0x113d73[_0x427e0b(0x438)]=_0x427e0b(0x5ad),_0x113d73['SystemStats']=_0x427e0b(0xa74),_0x113d73[_0x427e0b(0xad1)]='test-page',_0x113d73[_0x427e0b(0x46b)]=_0x427e0b(0x727);}(_0x86d570||(_0x86d570={}));const _0x1736bb=require('@crewdle/web-sdk-types');class _0x485251{[_0x677888(0x9af)];constructor(_0x39d383){const _0x3344cb=_0x677888;this['query']={'orderBy':{'key':_0x39d383,'direction':_0x3344cb(0x314)}};}static['index'](_0xe5997c){const _0x30544b=_0x677888;if(_0x30544b(0x435)!=typeof _0xe5997c||0x0===_0xe5997c[_0x30544b(0x8a9)])throw new _0x2ed9c0(_0x4e0a41[_0x30544b(0x897)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x485251(_0xe5997c);}static[_0x677888(0x3d6)](_0x12fd1a){const _0x1710a4=_0x677888;try{return _0x485251[_0x1710a4(0x517)](_0x12fd1a),!0x0;}catch(_0x5baadd){return!0x1;}}static[_0x677888(0x517)](_0x50fde3){const _0x12b731=_0x677888,_0x244922=_0x485251[_0x12b731(0x7fc)](_0x50fde3[_0x12b731(0x5aa)]?.[_0x12b731(0x988)]??_0x50fde3[_0x12b731(0x9fd)]?.['key']??'');if(_0x50fde3[_0x12b731(0x9fd)]){const _0xd215f2=_0x50fde3['where'];if((_0x485251[_0x12b731(0x2a8)](_0xd215f2)||_0x485251[_0x12b731(0x1fc)](_0xd215f2)||_0x485251[_0x12b731(0x5ae)](_0xd215f2))&&_0x244922[_0x12b731(0x9fd)](_0xd215f2['operator'],_0xd215f2[_0x12b731(0x6fa)]),_0x50fde3['orderBy']?.[_0x12b731(0x988)]&&_0x50fde3[_0x12b731(0x5aa)]?.[_0x12b731(0x988)]!==_0x50fde3[_0x12b731(0x9fd)]['key'])throw new _0x2ed9c0(_0x4e0a41[_0x12b731(0x897)],_0x12b731(0x790));}return _0x50fde3['orderBy']&&_0x244922['orderBy'](_0x50fde3['orderBy'][_0x12b731(0x628)]),_0x50fde3[_0x12b731(0x9f9)]&&_0x244922[_0x12b731(0x9f9)](_0x50fde3[_0x12b731(0x9f9)]),_0x50fde3[_0x12b731(0xa1a)]&&_0x244922['offset'](_0x50fde3['offset']),_0x244922;}[_0x677888(0x3dc)](){const _0x4cf6d2=_0x677888;return{...this[_0x4cf6d2(0x9af)]};}[_0x677888(0x9fd)](_0x121c6a,_0x2a1f7a){const _0x21d154=_0x677888,_0x30b064={'key':this[_0x21d154(0x9af)]['orderBy'][_0x21d154(0x988)],'operator':_0x121c6a,'value':_0x2a1f7a};if(!_0x485251[_0x21d154(0x2a8)](_0x30b064)&&!_0x485251[_0x21d154(0x1fc)](_0x30b064)&&!_0x485251[_0x21d154(0x5ae)](_0x30b064))throw new _0x2ed9c0(_0x4e0a41['QueryBuilderInvalidArgument'],_0x21d154(0x6ab));return this['query'][_0x21d154(0x9fd)]=_0x30b064,this;}[_0x677888(0x5aa)](_0x2d74bf){const _0xff5111=_0x677888;if('asc'!==_0x2d74bf&&_0xff5111(0x8af)!==_0x2d74bf)throw new _0x2ed9c0(_0x4e0a41[_0xff5111(0x897)],_0xff5111(0x8de));return this['query'][_0xff5111(0x5aa)][_0xff5111(0x628)]=_0x2d74bf,this;}[_0x677888(0x9f9)](_0x262f3f){const _0x28cfce=_0x677888;if('number'!=typeof _0x262f3f||_0x262f3f<0x0)throw new _0x2ed9c0(_0x4e0a41[_0x28cfce(0x897)],_0x28cfce(0x9b3));return this[_0x28cfce(0x9af)][_0x28cfce(0x9f9)]=_0x262f3f,this;}[_0x677888(0xa1a)](_0x5a0f42){const _0x565434=_0x677888;if(_0x565434(0x8b7)!=typeof _0x5a0f42||_0x5a0f42<0x0)throw new _0x2ed9c0(_0x4e0a41[_0x565434(0x897)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x565434(0x9af)][_0x565434(0xa1a)]=_0x5a0f42,this;}static[_0x677888(0x2a8)](_0x4ffc41){const _0x2a79e8=_0x677888;if(!(_0x4ffc41&&_0x2a79e8(0x3be)==typeof _0x4ffc41&&_0x2a79e8(0x4a1)in _0x4ffc41&&_0x2a79e8(0x6fa)in _0x4ffc41))return!0x1;const {operator:_0x138e24,value:_0x4f016c}=_0x4ffc41;return!(!['==','!=','>','<','<=','>='][_0x2a79e8(0xace)](_0x138e24)||Array[_0x2a79e8(0xa42)](_0x4f016c));}static[_0x677888(0x1fc)](_0x4dee6e){const _0x547618=_0x677888;if(!(_0x4dee6e&&'object'==typeof _0x4dee6e&&_0x547618(0x4a1)in _0x4dee6e&&_0x547618(0x6fa)in _0x4dee6e))return!0x1;const {operator:_0x267744,value:_0xc29b5a}=_0x4dee6e;return!(!['in',_0x547618(0x182)]['includes'](_0x267744)||!Array[_0x547618(0xa42)](_0xc29b5a));}static['isWhereBetween'](_0x51ff33){const _0x1da16b=_0x677888;if(!(_0x51ff33&&'object'==typeof _0x51ff33&&'operator'in _0x51ff33&&'value'in _0x51ff33))return!0x1;const {operator:_0x5cea15,value:_0x5d9865}=_0x51ff33;return!(_0x1da16b(0x5a6)!==_0x5cea15||!Array[_0x1da16b(0xa42)](_0x5d9865)||0x2!==_0x5d9865[_0x1da16b(0x8a9)]);}}class _0xb04762{[_0x677888(0x9a0)];constructor(_0x51a8b1){this['layout']={'tables':{},'version':_0x51a8b1};}static['validateLayout'](_0xc8343){const _0xa2cda=_0x677888;for(const _0x4c1695 in _0xc8343){if(_0xa2cda(0x476)!==_0x4c1695&&_0xa2cda(0x28e)!==_0x4c1695)return[!0x1,_0xa2cda(0x6df)+_0x4c1695+'\x27\x20in\x20layout'];if(_0xa2cda(0x28e)===_0x4c1695)for(const _0x57fd5d in _0xc8343[_0xa2cda(0x28e)]){if(_0xa2cda(0x435)!=typeof _0x57fd5d)return[!0x1,_0xa2cda(0x54a)+_0x57fd5d+'\x27'];for(const _0x2be45c in _0xc8343[_0xa2cda(0x28e)][_0x57fd5d]){if(_0xa2cda(0x3da)!==_0x2be45c)return[!0x1,_0xa2cda(0x6df)+_0x2be45c+_0xa2cda(0x4da)+_0x57fd5d+'\x27'];const _0x516e7f=_0xc8343[_0xa2cda(0x28e)][_0x57fd5d][_0x2be45c]??[];for(const _0x2805a8 of _0x516e7f)if(void 0x0===_0x2805a8['keyPath']||_0xa2cda(0x435)!=typeof _0x2805a8['keyPath'])return[!0x1,_0xa2cda(0x9ce)+_0x57fd5d+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if('version'===_0x4c1695&&_0xa2cda(0x8b7)!=typeof _0xc8343[_0x4c1695])return[!0x1,_0xa2cda(0x9ba)+_0xc8343[_0x4c1695]+'\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number'];}}return[!0x0,_0xa2cda(0x4a6)];}static[_0x677888(0x9a0)](_0x257491){const _0x3b0789=_0x677888,_0x4d7e19=new _0xb04762(_0x257491);return _0x4d7e19[_0x3b0789(0x9a0)][_0x3b0789(0x476)]=_0x257491,_0x4d7e19;}[_0x677888(0x878)](_0x408669){const _0x15ec31=_0x677888;return this[_0x15ec31(0x9a0)][_0x15ec31(0x28e)][_0x408669]={},new _0x4a16bc(this[_0x15ec31(0x9a0)][_0x15ec31(0x28e)][_0x408669]);}[_0x677888(0x906)](){const _0x175251=_0x677888;return this[_0x175251(0x9a0)];}}class _0x4a16bc{['tableLayout'];constructor(_0x1d51c4){const _0x4fb345=_0x677888;this[_0x4fb345(0x794)]=_0x1d51c4;}[_0x677888(0x7fc)](_0x1495ed){const _0x80d9df=_0x677888;return this[_0x80d9df(0x794)][_0x80d9df(0x3da)]=this[_0x80d9df(0x794)][_0x80d9df(0x3da)]??[],this[_0x80d9df(0x794)][_0x80d9df(0x3da)][_0x80d9df(0xa65)]({'keyPath':_0x1495ed}),this;}}const _0x3bf8c1=0x40000,_0x16c951=0x20000,_0x3025f9=0x1388,_0x54e1da=_0x677888(0x534),_0x2293c7=_0x677888(0x9ec),_0x56c53c=_0x677888(0x448),_0x1547d2=_0x677888(0x467),_0x4c9aef=0xdbba0,_0x251766=0x61a8,_0x158186='internal';var _0x456bd0;!function(_0x4fe024){const _0x436753=_0x677888;_0x4fe024['ConnectionNotinitialized']=_0x436753(0xa4c),_0x4fe024[_0x436753(0x679)]=_0x436753(0x998),_0x4fe024['ConnectionNoRetryQueue']=_0x436753(0x8b0),_0x4fe024['ConnectionInvalidDataEvent']=_0x436753(0x3c5),_0x4fe024['DataCollectionDoesNotExist']='data-collection-does-not-exist',_0x4fe024[_0x436753(0x943)]=_0x436753(0x7f1),_0x4fe024[_0x436753(0x5ce)]=_0x436753(0xa21),_0x4fe024[_0x436753(0x521)]='generative-ai-context-job-already-consumed',_0x4fe024[_0x436753(0x560)]=_0x436753(0x66d),_0x4fe024[_0x436753(0x86c)]='generative-ai-context-job-timeout',_0x4fe024[_0x436753(0x6b7)]=_0x436753(0x744),_0x4fe024['GraphDatabaseCreationFailed']=_0x436753(0x21a),_0x4fe024[_0x436753(0x6e8)]=_0x436753(0xaa1),_0x4fe024[_0x436753(0x6f5)]=_0x436753(0x7b3),_0x4fe024[_0x436753(0x85c)]='invalid-subscriber',_0x4fe024['InvalidSubscription']='invalid-subscription',_0x4fe024['JobDispatcherCreationFailed']=_0x436753(0x3ab),_0x4fe024['JobDispatcherInvalidPayload']=_0x436753(0x94f),_0x4fe024[_0x436753(0xa00)]=_0x436753(0x60e),_0x4fe024['JobDispatcherObserverNotFound']=_0x436753(0x78e),_0x4fe024['JobWorkerCreationFailed']=_0x436753(0x944),_0x4fe024[_0x436753(0xa07)]=_0x436753(0x5ed),_0x4fe024[_0x436753(0xa25)]='key-value-database-creation-failed',_0x4fe024[_0x436753(0x544)]='key-value-database-peak-not-found',_0x4fe024[_0x436753(0x2fa)]='key-value-database-table-does-not-exist',_0x4fe024[_0x436753(0xaf3)]=_0x436753(0x557),_0x4fe024[_0x436753(0x425)]=_0x436753(0x6e7),_0x4fe024[_0x436753(0x62b)]=_0x436753(0x80d),_0x4fe024[_0x436753(0x8f4)]=_0x436753(0x41b),_0x4fe024[_0x436753(0x621)]='missing-system-topic',_0x4fe024['MistletCapacityReportNotSet']=_0x436753(0xa70),_0x4fe024[_0x436753(0x231)]=_0x436753(0x22a),_0x4fe024['ObjectStoreInvalidState']=_0x436753(0xa92),_0x4fe024[_0x436753(0x3fe)]=_0x436753(0x5ba),_0x4fe024['ObjectStoreNotSynced']='object-store-not-synced',_0x4fe024[_0x436753(0x5e8)]=_0x436753(0x30d),_0x4fe024[_0x436753(0x6cd)]=_0x436753(0x80b),_0x4fe024['RemoteMediaStreamMissingProviderId']='remote-stream-missing-provider-id',_0x4fe024[_0x436753(0x4bd)]=_0x436753(0x73d),_0x4fe024[_0x436753(0x7d1)]='subscription-request-does-not-exist',_0x4fe024[_0x436753(0x33a)]=_0x436753(0x718),_0x4fe024[_0x436753(0x1b6)]=_0x436753(0x65e),_0x4fe024['NodeDoesNotExist']='node-does-not-exist',_0x4fe024['NodeAlreadyExist']=_0x436753(0x983),_0x4fe024['PeerConnectionInvalidDestination']=_0x436753(0x40a),_0x4fe024[_0x436753(0x5cd)]=_0x436753(0x290),_0x4fe024[_0x436753(0x539)]=_0x436753(0x2c8),_0x4fe024['WorkflowInvalidBlockType']='workflow-invalid-block-type';}(_0x456bd0||(_0x456bd0={}));const _0x34591a=new Map([[_0x456bd0['ConnectionNotinitialized'],_0x677888(0x52e)],[_0x456bd0[_0x677888(0x679)],'Connection\x20not\x20connected.'],[_0x456bd0['ConnectionNoRetryQueue'],_0x677888(0x23b)],[_0x456bd0['ConnectionInvalidDataEvent'],_0x677888(0x7c7)],[_0x456bd0[_0x677888(0x847)],_0x677888(0x929)],[_0x456bd0[_0x677888(0x943)],_0x677888(0x9a1)],[_0x456bd0[_0x677888(0x5ce)],_0x677888(0x214)],[_0x456bd0['GenerativeAIContextJobAlreadyConsumed'],_0x677888(0x5b5)],[_0x456bd0['GenerativeAIContextJobFailed'],_0x677888(0x9a2)],[_0x456bd0[_0x677888(0x86c)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x456bd0[_0x677888(0x6b7)],_0x677888(0x355)],[_0x456bd0[_0x677888(0x5be)],_0x677888(0x7e2)],[_0x456bd0['InvalidDataChannel'],_0x677888(0x90a)],[_0x456bd0[_0x677888(0x6f5)],_0x677888(0x18c)],[_0x456bd0[_0x677888(0x85c)],_0x677888(0x7db)],[_0x456bd0['InvalidSubscription'],_0x677888(0x7f7)],[_0x456bd0[_0x677888(0x431)],_0x677888(0x5ee)],[_0x456bd0[_0x677888(0x4b8)],_0x677888(0xb03)],[_0x456bd0[_0x677888(0xa00)],_0x677888(0x9f2)],[_0x456bd0[_0x677888(0x7d8)],'Job\x20service\x20observer\x20not\x20found.'],[_0x456bd0[_0x677888(0x8ea)],_0x677888(0x3c4)],[_0x456bd0[_0x677888(0xa07)],'Invalid\x20job\x20worker\x20type.'],[_0x456bd0[_0x677888(0xa25)],_0x677888(0xa91)],[_0x456bd0[_0x677888(0x544)],_0x677888(0xa27)],[_0x456bd0[_0x677888(0x2fa)],_0x677888(0x815)],[_0x456bd0[_0x677888(0xaf3)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x456bd0[_0x677888(0x425)],_0x677888(0x3e8)],[_0x456bd0['LocalMediaStreamDoesNotExist'],_0x677888(0x851)],[_0x456bd0[_0x677888(0x8f4)],_0x677888(0x1dc)],[_0x456bd0[_0x677888(0x621)],_0x677888(0x7e8)],[_0x456bd0[_0x677888(0x9c1)],_0x677888(0x650)],[_0x456bd0[_0x677888(0x231)],_0x677888(0x6a3)],[_0x456bd0[_0x677888(0x3fe)],_0x677888(0xa6d)],[_0x456bd0[_0x677888(0x570)],_0x677888(0xabc)],[_0x456bd0[_0x677888(0xa69)],_0x677888(0x76e)],[_0x456bd0[_0x677888(0x5e8)],_0x677888(0x66a)],[_0x456bd0['RemoteMediaStreamDoesNotExist'],_0x677888(0x76f)],[_0x456bd0[_0x677888(0x860)],_0x677888(0x9cb)],[_0x456bd0['RemoteConnectionExists'],_0x677888(0x7f3)],[_0x456bd0[_0x677888(0x7d1)],_0x677888(0x460)],[_0x456bd0[_0x677888(0x33a)],_0x677888(0x192)],[_0x456bd0[_0x677888(0x1b6)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x456bd0['NodeDoesNotExist'],_0x677888(0x17b)],[_0x456bd0[_0x677888(0x3b3)],_0x677888(0x723)],[_0x456bd0['PeerConnectionInvalidDestination'],_0x677888(0x88e)],[_0x456bd0['VectorDatabaseCreationFailed'],_0x677888(0x35d)],[_0x456bd0[_0x677888(0x539)],_0x677888(0x5e7)],[_0x456bd0[_0x677888(0x5e0)],_0x677888(0x832)]]);class _0x4dab04 extends Error{[_0x677888(0x778)];static [_0x677888(0x6ec)]=_0x456bd0;[_0x677888(0x337)];constructor(_0x7d5ff,_0x5a68e9){const _0x1b49ac=_0x677888;super(_0x1b49ac(0x577)+_0x7d5ff+':\x20'+_0x34591a[_0x1b49ac(0x8a1)](_0x7d5ff)+_0x1b49ac(0x514)+JSON[_0x1b49ac(0x247)](_0x5a68e9)),this[_0x1b49ac(0x778)]=_0x7d5ff,this[_0x1b49ac(0x337)]=_0x5a68e9||{};}}var _0x17da44,_0x1d95c4,_0x2f8a3f,_0x30c0ff,_0x1ee0bc,_0x326baa,_0x59623a;!function(_0x2c0337){const _0x3e89b4=_0x677888;_0x2c0337[_0x2c0337[_0x3e89b4(0x5e9)]=0x0]=_0x3e89b4(0x5e9),_0x2c0337[_0x2c0337['CloseJobDispatcher']=0x1]=_0x3e89b4(0x602),_0x2c0337[_0x2c0337[_0x3e89b4(0x23a)]=0x2]='CloseJobWorker',_0x2c0337[_0x2c0337['CloseExternalStorageConnection']=0x3]=_0x3e89b4(0x6e1),_0x2c0337[_0x2c0337['CloseKeyValueDatabase']=0x4]=_0x3e89b4(0x801),_0x2c0337[_0x2c0337[_0x3e89b4(0x655)]=0x5]=_0x3e89b4(0x655),_0x2c0337[_0x2c0337[_0x3e89b4(0x8c5)]=0x6]=_0x3e89b4(0x8c5),_0x2c0337[_0x2c0337[_0x3e89b4(0x70b)]=0x7]=_0x3e89b4(0x70b),_0x2c0337[_0x2c0337['CloseVectorDatabase']=0x8]=_0x3e89b4(0x391),_0x2c0337[_0x2c0337[_0x3e89b4(0x5eb)]=0x9]=_0x3e89b4(0x5eb),_0x2c0337[_0x2c0337['GenerativeAIContextStats']=0xa]=_0x3e89b4(0x716),_0x2c0337[_0x2c0337[_0x3e89b4(0x55a)]=0xb]=_0x3e89b4(0x55a),_0x2c0337[_0x2c0337[_0x3e89b4(0x38f)]=0xc]='GraphDatabaseStats',_0x2c0337[_0x2c0337['KeyValueDatabaseContentAvailable']=0xd]=_0x3e89b4(0x53f),_0x2c0337[_0x2c0337[_0x3e89b4(0x8a6)]=0xe]=_0x3e89b4(0x8a6),_0x2c0337[_0x2c0337['KeyValueDatabaseRequestPeakTransactions']=0xf]='KeyValueDatabaseRequestPeakTransactions',_0x2c0337[_0x2c0337[_0x3e89b4(0x6d8)]=0x10]=_0x3e89b4(0x6d8),_0x2c0337[_0x2c0337[_0x3e89b4(0x7ce)]=0x11]=_0x3e89b4(0x7ce),_0x2c0337[_0x2c0337[_0x3e89b4(0xae8)]=0x12]='KeyValueDatabaseStats',_0x2c0337[_0x2c0337[_0x3e89b4(0x211)]=0x13]=_0x3e89b4(0x211),_0x2c0337[_0x2c0337[_0x3e89b4(0x6e4)]=0x14]='LocalMediaStreamTrackFail',_0x2c0337[_0x2c0337[_0x3e89b4(0x4b3)]=0x15]=_0x3e89b4(0x4b3),_0x2c0337[_0x2c0337[_0x3e89b4(0x9d3)]=0x16]=_0x3e89b4(0x9d3),_0x2c0337[_0x2c0337[_0x3e89b4(0x9d0)]=0x17]='PublishMediaStream',_0x2c0337[_0x2c0337[_0x3e89b4(0x3d4)]=0x18]='RemoteMediaStreamTrackFail',_0x2c0337[_0x2c0337[_0x3e89b4(0x27b)]=0x19]=_0x3e89b4(0x27b),_0x2c0337[_0x2c0337[_0x3e89b4(0xa97)]=0x1a]='UnpublishMediaStream',_0x2c0337[_0x2c0337[_0x3e89b4(0xa7d)]=0x1b]='UnsubscribeMediaStream',_0x2c0337[_0x2c0337['UpdateMediaStream']=0x1c]='UpdateMediaStream',_0x2c0337[_0x2c0337[_0x3e89b4(0x7ba)]=0x1d]=_0x3e89b4(0x7ba);}(_0x17da44||(_0x17da44={})),function(_0x6b5247){const _0x2226e4=_0x677888;_0x6b5247[_0x2226e4(0x75a)]=_0x2226e4(0x20d),_0x6b5247[_0x2226e4(0x480)]=_0x2226e4(0x352),_0x6b5247['Delete']=_0x2226e4(0x60b),_0x6b5247['Move']=_0x2226e4(0xaa0),_0x6b5247[_0x2226e4(0x483)]=_0x2226e4(0x606),_0x6b5247[_0x2226e4(0x328)]=_0x2226e4(0xa83),_0x6b5247[_0x2226e4(0x76a)]=_0x2226e4(0xa48),_0x6b5247['RequestFileWrite']=_0x2226e4(0x4a2);}(_0x1d95c4||(_0x1d95c4={})),function(_0xcbd6d9){const _0x1f4ef0=_0x677888;_0xcbd6d9[_0x1f4ef0(0xb0a)]=_0x1f4ef0(0x47b),_0xcbd6d9[_0x1f4ef0(0x24a)]=_0x1f4ef0(0x8b1);}(_0x2f8a3f||(_0x2f8a3f={})),function(_0x4205cd){const _0x1c4f31=_0x677888;_0x4205cd[_0x1c4f31(0x29e)]='add',_0x4205cd[_0x1c4f31(0x77f)]='update',_0x4205cd[_0x1c4f31(0x63e)]=_0x1c4f31(0x60b);}(_0x30c0ff||(_0x30c0ff={})),function(_0x112c60){const _0x23d50a=_0x677888;_0x112c60[_0x23d50a(0x1e4)]=_0x23d50a(0x8a1),_0x112c60['List']=_0x23d50a(0x7b5),_0x112c60[_0x23d50a(0x6aa)]=_0x23d50a(0x1f2);}(_0x1ee0bc||(_0x1ee0bc={})),function(_0x5e7d03){const _0x5bd913=_0x677888;_0x5e7d03[_0x5e7d03[_0x5bd913(0xb0a)]=0x0]=_0x5bd913(0xb0a),_0x5e7d03[_0x5e7d03[_0x5bd913(0x94a)]=0x1]='Bid',_0x5e7d03[_0x5e7d03[_0x5bd913(0x446)]=0x2]=_0x5bd913(0x446),_0x5e7d03[_0x5e7d03[_0x5bd913(0x6f0)]=0x3]=_0x5bd913(0x6f0),_0x5e7d03[_0x5e7d03['Result']=0x4]=_0x5bd913(0x4c5),_0x5e7d03[_0x5e7d03[_0x5bd913(0x644)]=0x5]='Failed';}(_0x326baa||(_0x326baa={})),function(_0x4250f8){const _0x7c62ac=_0x677888;_0x4250f8[_0x4250f8[_0x7c62ac(0x46b)]=0x0]=_0x7c62ac(0x46b),_0x4250f8[_0x4250f8[_0x7c62ac(0x881)]=0x1]=_0x7c62ac(0x881),_0x4250f8[_0x4250f8['Content']=0x2]='Content',_0x4250f8[_0x4250f8[_0x7c62ac(0x91b)]=0x3]=_0x7c62ac(0x91b),_0x4250f8[_0x4250f8[_0x7c62ac(0xa05)]=0x4]=_0x7c62ac(0xa05),_0x4250f8[_0x4250f8[_0x7c62ac(0x3f3)]=0x5]=_0x7c62ac(0x3f3),_0x4250f8[_0x4250f8[_0x7c62ac(0x23c)]=0x6]=_0x7c62ac(0x23c);}(_0x59623a||(_0x59623a={}));class _0x3216a2{[_0x677888(0x32c)];[_0x677888(0x65c)];[_0x677888(0x36c)];constructor(_0x89c1a5,_0x3083cc){const _0x4237b6=_0x677888;this['owner']=_0x89c1a5,this[_0x4237b6(0x65c)]=_0x3083cc;}[_0x677888(0x4d9)](){const _0x575332=_0x677888;return this[_0x575332(0x65c)];}[_0x677888(0x3f9)](){const _0x5b4923=_0x677888;return this[_0x5b4923(0x32c)]['getId']();}[_0x677888(0x405)](){}[_0x677888(0xaf0)](_0x451690){this['systemTopic']=_0x451690;}['unregisterSystemPublisher'](){const _0x5e26e2=_0x677888;delete this[_0x5e26e2(0x36c)];}}const _0x214774=require('firebase/firestore');let _0x4cc2ad=_0x11dd7d(0x14d)['O'];function _0x5cd809(_0xd21039){const _0x5bcc3d=_0x677888;return!(!_0xd21039||_0x5bcc3d(0x3be)!=typeof _0xd21039||Array[_0x5bcc3d(0xa42)](_0xd21039));}_0x4cc2ad=function _0x4074b0(_0x52d043,..._0x44d013){const _0x505919=_0x677888;if(!Array[_0x505919(0xa42)](_0x44d013)||0x0===_0x44d013[_0x505919(0x8a9)])return _0x52d043;const _0x9921a3=_0x44d013[_0x505919(0x671)]();if(_0x5cd809(_0x52d043)&&_0x5cd809(_0x9921a3)){for(const _0x549752 in _0x9921a3)_0x5cd809(_0x9921a3[_0x549752])?(_0x52d043[_0x549752]||Object[_0x505919(0x6bc)](_0x52d043,{[_0x549752]:{}}),_0x4074b0(_0x52d043[_0x549752],_0x9921a3[_0x549752])):Object[_0x505919(0x6bc)](_0x52d043,{[_0x549752]:_0x9921a3[_0x549752]});}return _0x4074b0(_0x52d043,..._0x44d013);}(_0x4cc2ad,_0x11dd7d(0x3e6)['O']);const _0xd27c01=_0x4cc2ad,_0x43b1c4=require('firebase/app'),_0xf24250=require('firebase/auth'),_0xb117e1=require('firebase/database'),_0x425f91=require('firebase/functions'),_0x1514a8=require('uuid'),_0x376341=_0x677888(0x88b);class _0x38aabf{static ['instance'];['app'];[_0x677888(0x1bb)];[_0x677888(0x488)];[_0x677888(0x19a)];[_0x677888(0x4bb)];[_0x677888(0x481)];['lastClockUpdate'];constructor(){const _0x1cb784=_0x677888;this[_0x1cb784(0x37b)]();}static[_0x677888(0xb0c)](){const _0x573e12=_0x677888;return _0x38aabf[_0x573e12(0xb02)]||(_0x38aabf[_0x573e12(0xb02)]=new _0x38aabf()),_0x38aabf[_0x573e12(0xb02)];}[_0x677888(0x37b)](){const _0x3e24f3=_0x677888;if(!this['app']){let _0x5d5a82=_0x376341;'undefined'!=typeof window&&(_0x5d5a82=_0x376341+'-'+(0x0,_0x1514a8['v4'])()),this[_0x3e24f3(0xab8)]=(0x0,_0x43b1c4[_0x3e24f3(0x71e)])(_0xd27c01[_0x3e24f3(0x3d3)],''+_0x5d5a82);}return this[_0x3e24f3(0xab8)];}['getAuth'](){const _0x368d0d=_0x677888;return this[_0x368d0d(0x1bb)]||(this[_0x368d0d(0x1bb)]=(0x0,_0xf24250[_0x368d0d(0x9d9)])(this[_0x368d0d(0x37b)]())),this[_0x368d0d(0x1bb)];}[_0x677888(0xa5c)](){const _0x3fdb47=_0x677888;return this['functions']||(this['functions']=(0x0,_0x425f91[_0x3fdb47(0xa5c)])(this[_0x3fdb47(0x37b)](),_0xd27c01[_0x3fdb47(0x3d3)][_0x3fdb47(0x603)])),this[_0x3fdb47(0x488)];}['getDatabase'](){const _0x1fa3b4=_0x677888;return this[_0x1fa3b4(0x19a)]||(this[_0x1fa3b4(0x19a)]=(0x0,_0xb117e1[_0x1fa3b4(0xa45)])(this[_0x1fa3b4(0x37b)]())),this[_0x1fa3b4(0x19a)];}[_0x677888(0x65d)](){const _0x48d48d=_0x677888;return this[_0x48d48d(0x4bb)]||(this[_0x48d48d(0x4bb)]=(0x0,_0x214774[_0x48d48d(0x65d)])(this[_0x48d48d(0x37b)]())),this['firestore'];}async['getEstimatedTimestamp'](){const _0x19944f=_0x677888;if(this['clockSkew']&&this[_0x19944f(0x49e)]&&Date['now']()-this[_0x19944f(0x49e)]<0x493e0)return Date[_0x19944f(0x9bd)]()+this[_0x19944f(0x481)];const _0x400a3e=this[_0x19944f(0xa45)](),_0x41c70b=(0x0,_0xb117e1[_0x19944f(0x54e)])(_0x400a3e,'.info/serverTimeOffset');return new Promise(_0x188619=>{const _0x2ef4ed=_0x19944f;(0x0,_0xb117e1[_0x2ef4ed(0x6d5)])(_0x41c70b,_0x4e6965=>{const _0x9334e6=_0x2ef4ed;(0x0,_0xb117e1[_0x9334e6(0x4bf)])(_0x41c70b),this['clockSkew']=_0x4e6965[_0x9334e6(0x892)](),this[_0x9334e6(0x49e)]=Date[_0x9334e6(0x9bd)](),_0x188619(Date['now']()+(this['clockSkew']??0x0));});});}}const _0x66e9=_0x38aabf[_0x677888(0xb0c)]();class _0x199a8a{static [_0x677888(0xb02)];[_0x677888(0x7ae)]=[_0x86d570[_0x677888(0x8c3)]];[_0x677888(0x5fd)]=!0x1;[_0x677888(0x889)];[_0x677888(0x94e)]='';[_0x677888(0x593)];[_0x677888(0x2a0)]=[];[_0x677888(0x4c7)];[_0x677888(0x3df)];[_0x677888(0x8b2)]=0xa;[_0x677888(0xb00)]=0x1f4;['batchSize']=0x1c2;[_0x677888(0x193)]=0x3e8;constructor(){const _0x2e0a07=_0x677888;if(_0x2e0a07(0x714)!=typeof window)this[_0x2e0a07(0x593)]=window;else{if(void 0x0===_0x11dd7d['g'])throw new Error(_0x2e0a07(0x50a));this[_0x2e0a07(0x593)]=_0x11dd7d['g'];}this[_0x2e0a07(0x2fd)](),this['globalObject'][_0x2e0a07(0x9b8)]=_0x23a305=>{const _0x1ece0d=_0x2e0a07;if(_0x23a305===_0x86d570[_0x1ece0d(0xafa)])return this[_0x1ece0d(0x7ae)]=Object[_0x1ece0d(0x1fd)](_0x86d570)['map'](_0x57a71b=>_0x86d570[_0x57a71b]),void Object['keys'](_0x86d570)[_0x1ece0d(0x938)](_0x1c3476=>{const _0x17bbf1=_0x1ece0d,_0x285dcd=_0x1c3476;localStorage[_0x17bbf1(0x59c)](_0x17bbf1(0x8a0)+_0x86d570[_0x285dcd],_0x17bbf1(0x8bf));});this[_0x1ece0d(0x7ae)][_0x1ece0d(0xace)](_0x23a305)||(this[_0x1ece0d(0x7ae)][_0x1ece0d(0xa65)](_0x23a305),localStorage[_0x1ece0d(0x59c)](_0x1ece0d(0x8a0)+_0x23a305,_0x1ece0d(0x8bf)));},this[_0x2e0a07(0x593)][_0x2e0a07(0x351)]=_0x58881d=>{const _0x3f312b=_0x2e0a07;if(!_0x58881d||_0x58881d===_0x86d570[_0x3f312b(0xafa)])return this[_0x3f312b(0x7ae)]=[],void Object['keys'](_0x86d570)[_0x3f312b(0x938)](_0x3e8868=>{const _0x365fbd=_0x3f312b,_0x1413ab=_0x3e8868;localStorage[_0x365fbd(0x50c)](_0x365fbd(0x8a0)+_0x86d570[_0x1413ab]);});this[_0x3f312b(0x7ae)][_0x3f312b(0xace)](_0x58881d)&&(this['enabledChannels']=this['enabledChannels'][_0x3f312b(0x3cc)](_0x25acf0=>_0x25acf0!==_0x58881d),localStorage[_0x3f312b(0x50c)](_0x3f312b(0x8a0)+_0x58881d));},this['globalObject'][_0x2e0a07(0x4b9)]=_0x86d570;}static[_0x677888(0xb0c)](){const _0x228093=_0x677888;try{return _0x199a8a[_0x228093(0xb02)]||(_0x199a8a[_0x228093(0xb02)]=new _0x199a8a()),_0x199a8a[_0x228093(0xb02)];}catch(_0x37043a){return console['error'](_0x228093(0xa84),_0x37043a),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x21f23f){const _0x15b602=_0x677888;this[_0x15b602(0x94e)]=_0x21f23f,this[_0x15b602(0x2a0)]=[],this[_0x15b602(0x4c7)]=this[_0x15b602(0x470)](),this[_0x15b602(0x3df)]&&(clearTimeout(this[_0x15b602(0x3df)]),this[_0x15b602(0x3df)]=void 0x0);}[_0x677888(0x330)](_0x3ce551){const _0x33de50=_0x677888;this[_0x33de50(0x889)]=_0x3ce551;}[_0x677888(0x324)](_0x210596,..._0x2d2876){const _0x1ea4fe=_0x677888;this[_0x1ea4fe(0x5fd)]&&this['log'](_0x86d570[_0x1ea4fe(0x8c3)],_0x1ea4fe(0x41e)+_0x210596,..._0x2d2876);}[_0x677888(0x4e7)](_0x33f092,..._0x33f89a){const _0x573a62=_0x677888;console[_0x573a62(0x5d7)](_0x33f092,..._0x33f89a),this[_0x573a62(0x889)]&&this['loggingConnectors'][_0x573a62(0x938)](_0x10a383=>{const _0x39d02b=_0x573a62;_0x10a383[_0x39d02b(0x5d7)](_0x33f092,{'vendorId':this[_0x39d02b(0x94e)],'nodeId':'','nodeType':'','data':{..._0x33f89a}});});}['log'](_0x128e61,_0x35accf,..._0x172571){const _0xc44169=_0x677888;_0xd27c01[_0xc44169(0x870)]||(this[_0xc44169(0x7ae)][_0xc44169(0xace)](_0x128e61)&&console['log']('Channel\x20\x27'+_0x128e61+'\x27\x0a',new Date()+'\x0a',_0x35accf,..._0x172571),this[_0xc44169(0x889)]&&this[_0xc44169(0x889)]['forEach'](_0x3d6b34=>{const _0x2a540f=_0xc44169;this[_0x2a540f(0x75b)](_0x3d6b34)&&_0x3d6b34[_0x2a540f(0x1b0)]()[_0x2a540f(0xace)](_0x128e61)&&_0x3d6b34[_0x2a540f(0x5d7)](_0x35accf,{'vendorId':this[_0x2a540f(0x94e)],'nodeId':'','nodeType':'','data':{'channel':_0x128e61,..._0x172571}});}));}[_0x677888(0x78f)](_0x573551,_0x3442df,..._0x19ee79){const _0x107ac7=_0x677888;_0xd27c01[_0x107ac7(0x870)]||(this[_0x107ac7(0x7ae)]['includes'](_0x573551)&&console[_0x107ac7(0x5d7)](_0x3442df,..._0x19ee79),this['loggingConnectors']&&this[_0x107ac7(0x889)][_0x107ac7(0x938)](_0x354b35=>{const _0x576c52=_0x107ac7;this['isInternalLoggingConnector'](_0x354b35)&&_0x354b35[_0x576c52(0x1b0)]()[_0x576c52(0xace)](_0x573551)&&_0x354b35[_0x576c52(0x5d7)](_0x3442df,{'vendorId':this[_0x576c52(0x94e)],'nodeId':'','nodeType':'','data':{'channel':_0x573551,..._0x19ee79}});}));}['logEvent'](_0x39e4b7,_0x2c8524){const _0x5e1281=_0x677888;if(!this[_0x5e1281(0x889)])return;const _0x1eab2b={'vendorId':this[_0x5e1281(0x94e)],..._0x2c8524};this[_0x5e1281(0x889)]['forEach'](_0x36a9bb=>{const _0x403f51=_0x5e1281;_0x36a9bb[_0x403f51(0x5d7)](_0x39e4b7,_0x1eab2b);});}[_0x677888(0x44f)](_0x25cb51,_0x3d27c3){const _0x324fee=_0x677888;this[_0x324fee(0x79f)](_0x25cb51,_0x3d27c3),this[_0x324fee(0x95e)]();}[_0x677888(0x58b)](_0x1557f6,_0x34b828,_0x58a8e2){const _0x17e4bb=_0x677888;(0x0,_0x214774[_0x17e4bb(0x97e)])((0x0,_0x214774[_0x17e4bb(0x3e7)])(_0x66e9[_0x17e4bb(0x65d)](),_0x17e4bb(0x406)+this[_0x17e4bb(0x94e)]+'/'+_0x1557f6+'/'+_0x34b828),{'storage':_0x58a8e2,'timestamp':(0x0,_0x214774[_0x17e4bb(0x3b6)])()});}['logBatch'](){const _0x45efda=_0x677888;this[_0x45efda(0x4c7)]&&(this['currentBatch'][_0x45efda(0x6c7)]+=0x1,this[_0x45efda(0x4c7)][_0x45efda(0x6c7)]===this[_0x45efda(0x39c)]?this['processBatch']():this[_0x45efda(0x3df)]||(this[_0x45efda(0x3df)]=this[_0x45efda(0x593)][_0x45efda(0x2e6)](()=>this['processBatch'](),this[_0x45efda(0x193)])));}async[_0x677888(0x80e)](){const _0x1ed54f=_0x677888;if(this[_0x1ed54f(0x4c7)]){for(this[_0x1ed54f(0x2a0)][_0x1ed54f(0xa65)](this[_0x1ed54f(0x4c7)]),this[_0x1ed54f(0x4c7)]=this[_0x1ed54f(0x470)]();this[_0x1ed54f(0x2a0)][_0x1ed54f(0x8a9)]>0x0;){const _0x1c7af5=this[_0x1ed54f(0x2a0)][_0x1ed54f(0x671)]();if(!await this['commitBatch'](_0x1c7af5))break;}clearTimeout(this[_0x1ed54f(0x3df)]),this[_0x1ed54f(0x3df)]=void 0x0;}}[_0x677888(0x487)](_0x1a97ae,_0x19eaea,..._0xee1be0){const _0x474127=_0x677888;if(console[_0x474127(0x487)](new Date(),_0x1a97ae,_0x19eaea,..._0xee1be0),this[_0x474127(0x889)]){const _0x3a3359={'vendorId':this['vendorId'],..._0x19eaea};this[_0x474127(0x889)][_0x474127(0x938)](_0x2a33b4=>{const _0x201751=_0x474127;_0x2a33b4[_0x201751(0x487)](_0x1a97ae,_0x3a3359);});}}[_0x677888(0xa38)](_0x3cc64a,_0x2a49f7,..._0x153527){const _0x2055ab=_0x677888;if(console['warn'](new Date(),_0x3cc64a,_0x2a49f7,_0x153527),this[_0x2055ab(0x889)]){const _0x560d79={'vendorId':this[_0x2055ab(0x94e)],..._0x2a49f7};this['loggingConnectors'][_0x2055ab(0x938)](_0x4375fa=>{_0x4375fa['warn'](_0x3cc64a,_0x560d79);});}}[_0x677888(0x9b6)](_0x50fb6a){const _0x555c2e=_0x677888;return this[_0x555c2e(0x7ae)][_0x555c2e(0xace)](_0x50fb6a);}async[_0x677888(0x6e0)](_0x9c3c04,_0x3335a7=0x0){const _0x59d8ed=_0x677888;if(_0x9c3c04[_0x59d8ed(0x6c7)]>0x0)try{return await _0x9c3c04['batch'][_0x59d8ed(0x7c0)](),!0x0;}catch(_0x57c51f){if(console[_0x59d8ed(0x487)](_0x59d8ed(0x20e),_0x57c51f,_0x59d8ed(0x357),_0x9c3c04['operations']),!(_0x3335a7<this[_0x59d8ed(0x8b2)])){const {nodeId:_0x8e5334='',nodeType:_0x59ed0c='',clusterId:_0x41096c=''}=_0x9c3c04[_0x59d8ed(0x8dd)][0x0][_0x59d8ed(0x337)],_0xbaf93={'nodeId':_0x8e5334,'nodeType':_0x59ed0c,'clusterId':_0x41096c,'data':{'operations':_0x9c3c04[_0x59d8ed(0x8dd)],'error':_0x57c51f}};return this[_0x59d8ed(0x487)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0xbaf93),!0x1;}{const _0x218e7a=this['createBatch'](_0x9c3c04['operations']);setTimeout(()=>this[_0x59d8ed(0x6e0)](_0x218e7a,_0x3335a7+0x1),this[_0x59d8ed(0xb00)]*Math[_0x59d8ed(0x58d)](0x2,_0x3335a7));}}}['loadEnabledChannels'](){const _0x5a31b7=_0x677888;try{Object[_0x5a31b7(0x1fd)](_0x86d570)[_0x5a31b7(0x938)](_0x5e83e2=>{const _0x2078ae=_0x5a31b7,_0x269311=_0x5e83e2;localStorage[_0x2078ae(0xa03)](_0x2078ae(0x8a0)+_0x86d570[_0x269311])&&(console[_0x2078ae(0x5d7)](_0x2078ae(0x18d),_0x86d570[_0x269311]),this['enabledChannels'][_0x2078ae(0xa65)](_0x86d570[_0x269311]));});}catch(_0x3554d8){}}['isInternalLoggingConnector'](_0x4df03a){const _0x57fb2f=_0x677888;return void 0x0!==_0x4df03a[_0x57fb2f(0x1b0)];}[_0x677888(0x470)](){const _0xeb9c63=_0x677888;return{'batch':(0x0,_0x214774[_0xeb9c63(0x366)])(_0x66e9[_0xeb9c63(0x65d)]()),'operations':[],'counter':0x0};}[_0x677888(0x81a)](_0x4e684c){const _0x269ffa=_0x677888,_0x5bf60b=(0x0,_0x214774['writeBatch'])(_0x66e9[_0x269ffa(0x65d)]());return _0x4e684c['forEach'](_0x5eef49=>this[_0x269ffa(0x17e)](_0x5bf60b,_0x5eef49)),{'batch':_0x5bf60b,'operations':_0x4e684c,'counter':_0x4e684c['length']};}[_0x677888(0x17e)](_0x3be8a0,_0x66cdbe){const _0x52ac26=_0x677888;switch(_0x66cdbe[_0x52ac26(0xb0f)]){case _0x52ac26(0x926):_0x3be8a0[_0x52ac26(0x926)](_0x66cdbe[_0x52ac26(0x54e)],_0x66cdbe['data']);break;case _0x52ac26(0x4a8):_0x3be8a0[_0x52ac26(0x4a8)](_0x66cdbe[_0x52ac26(0x54e)],_0x66cdbe[_0x52ac26(0x337)]);break;case _0x52ac26(0x60b):_0x3be8a0[_0x52ac26(0x60b)](_0x66cdbe[_0x52ac26(0x54e)]);}}[_0x677888(0x79f)](_0x5d3b23,_0x522564){const _0x1aada3=_0x677888;this['currentBatch']||(this[_0x1aada3(0x4c7)]=this[_0x1aada3(0x470)]());const _0x44a47f=(0x0,_0x214774['doc'])((0x0,_0x214774['collection'])(_0x66e9[_0x1aada3(0x65d)](),_0x1aada3(0x406)+this[_0x1aada3(0x94e)]+_0x1aada3(0x4aa))),_0x282d9e={..._0x522564,'service':_0x5d3b23,'timestamp':(0x0,_0x214774['serverTimestamp'])()},_0x14396f={'type':_0x1aada3(0x926),'path':_0x44a47f[_0x1aada3(0x885)],'ref':_0x44a47f,'data':_0x282d9e};return this[_0x1aada3(0x4c7)][_0x1aada3(0x8dd)][_0x1aada3(0xa65)](_0x14396f),this[_0x1aada3(0x17e)](this[_0x1aada3(0x4c7)]['batch'],_0x14396f),_0x44a47f;}}const _0x5bf0c2=_0x199a8a[_0x677888(0xb0c)]();function _0x4014e2(_0x21226f,_0x3e7926){return'/'===_0x21226f?_0x21226f+_0x3e7926:_0x21226f+'/'+_0x3e7926;}function _0x525ed9(_0x3715c6){const _0x43a979=_0x677888,_0xaf9f95=function(_0x547dd3){const _0x345ab9=a0_0x5cc9;return _0x547dd3['split']('/')[_0x345ab9(0x3cc)](_0x3c1492=>_0x3c1492[_0x345ab9(0x8a9)]>0x0);}(_0x3715c6),_0x2e112c=_0xaf9f95[_0x43a979(0x9be)]()||'',_0x3b6dec=_0xaf9f95[_0x43a979(0x729)]('/');return[0x0===_0x3b6dec[_0x43a979(0x8a9)]?'/':_0x3b6dec,_0x2e112c];}async function _0x5a7f07(_0xf6a854){const _0x4bd51a=_0x677888;let _0x3e60fb;const _0x4e0229=_0xf6a854['size']/0x100000;_0x3e60fb=_0x4e0229<=0xa?0x1:_0x4e0229<=0x64?0.5:_0x4e0229<=0x1f4?0.1:0.05;const _0x3b7b0d=Math[_0x4bd51a(0x949)](_0xf6a854[_0x4bd51a(0x22b)]/_0x3bf8c1),_0x16df16=Math[_0x4bd51a(0x949)](_0x3b7b0d*_0x3e60fb);let _0x29619e=new Uint8Array();for(let _0x2cf0c4=0x0;_0x2cf0c4<_0x16df16;_0x2cf0c4++){const _0x2b5095=Math[_0x4bd51a(0x8ca)](_0x2cf0c4/_0x16df16*_0xf6a854[_0x4bd51a(0x22b)]);let _0x542869=_0x2b5095+_0x3bf8c1;_0x542869>_0xf6a854[_0x4bd51a(0x22b)]&&(_0x542869=_0xf6a854['size']);const _0x70fdbf=_0xf6a854[_0x4bd51a(0x83f)](_0x2b5095,_0x542869),_0x201f3b=await _0x70fdbf['arrayBuffer'](),_0x401e9f=new Uint8Array([..._0x29619e,...new Uint8Array(_0x201f3b)]);_0x29619e=new Uint8Array(await crypto[_0x4bd51a(0xb1a)]['digest'](_0x4bd51a(0x404),_0x401e9f));}return Array['from'](new Uint8Array(_0x29619e))[_0x4bd51a(0x360)](_0xa33e69=>_0xa33e69[_0x4bd51a(0x8d8)](0x10)['padStart'](0x2,'0'))[_0x4bd51a(0x729)]('');}async function*_0x135b2a(_0x1503cb,_0x17ab82=0x0,_0x4f3c1c){const _0x439338=_0x677888;let _0x290067=_0x17ab82*_0x16c951,_0xf27abc=_0x1503cb;for(;_0x290067<_0xf27abc[_0x439338(0x22b)];){let _0x2dbee7=_0x290067+_0x16c951;_0x2dbee7>_0xf27abc[_0x439338(0x22b)]&&(_0x2dbee7=_0xf27abc[_0x439338(0x22b)]);let _0x1e7931=0x0;for(;_0x1e7931<0x14;)try{await _0x4f3c1c?.();const _0x203466=_0xf27abc[_0x439338(0x83f)](_0x290067,_0x2dbee7,_0x439338(0x74f)),_0x1a0e6c=await _0x203466['arrayBuffer']();yield _0x1a0e6c,_0x290067=_0x2dbee7,await new Promise(_0x4e41e4=>setTimeout(_0x4e41e4,0x0));break;}catch(_0x1d0ab1){if(console['error'](_0x439338(0xa72)+(_0x1e7931+0x1)+'\x20attempts:',_0x1d0ab1),_0x1e7931++,_0x1e7931>0x14)throw _0x1d0ab1;let _0x47d852=0x3e8*Math[_0x439338(0x58d)](0x2,_0x1e7931);_0x47d852>0x7530&&(_0x47d852=0x7530),await new Promise(_0x27317b=>setTimeout(_0x27317b,_0x47d852));}}}class _0x5853dd extends _0x3216a2{[_0x677888(0x45d)];['incomingTopic'];[_0x677888(0x7fe)]=new Map();[_0x677888(0xab5)]=0x0;['messagesReceived']=0x0;[_0x677888(0xa13)]=0x0;['bytesReceived']=0x0;constructor(_0x203922,_0x6b0105){super(_0x203922,_0x6b0105);}['getLabel'](){const _0x21c96c=_0x677888;return this[_0x21c96c(0x65c)];}[_0x677888(0x207)](){const _0x30268d=_0x677888;return this[_0x30268d(0x65c)];}['getContentType'](){const _0x1d6cb2=_0x677888;return _0x1736bb['ContentType'][_0x1d6cb2(0x5f5)];}['getInternalStreamId'](){const _0x4c9ed2=_0x677888;return this[_0x4c9ed2(0x65c)];}[_0x677888(0x464)](_0x29c54a){const _0x256f24=_0x677888;if(this[_0x256f24(0x45d)])throw new _0x4dab04(_0x4dab04[_0x256f24(0x6ec)][_0x256f24(0x6f5)],{'message':_0x256f24(0xa1b)+this['owner'][_0x256f24(0x48e)]()+_0x256f24(0x3c8)+this[_0x256f24(0x65c)],'topic':this[_0x256f24(0x45d)]});this['outgoingTopic']=_0x29c54a;}[_0x677888(0x4b1)](_0x2181e0){const _0x22417e=_0x677888;if(this[_0x22417e(0x2b7)])throw new _0x4dab04(_0x4dab04[_0x22417e(0x6ec)][_0x22417e(0x85c)],{'message':_0x22417e(0x86a)+this[_0x22417e(0x32c)]['getId']()+_0x22417e(0x3c8)+this[_0x22417e(0x65c)],'topic':this[_0x22417e(0x2b7)]});this[_0x22417e(0x2b7)]=_0x2181e0;}[_0x677888(0x72b)](){delete this['outgoingTopic'];}['unregisterSubscriber'](){const _0x1b1f71=_0x677888;delete this[_0x1b1f71(0x2b7)];}async[_0x677888(0x4c2)](_0x4133c6,_0xfd6836){const _0x5ccf28=_0x677888;if(_0x5bf0c2['log'](_0x86d570[_0x5ccf28(0xabb)],'DataStream\x20send',this[_0x5ccf28(0x32c)][_0x5ccf28(0x48e)](),_0x4133c6,_0xfd6836),this[_0x5ccf28(0xab5)]+=0x1,_0x4133c6 instanceof File){const _0x1f0f92=await async function(_0x51c52e){const _0x607af0=_0x5ccf28,_0x174c9b=[];for await(const _0x3e677c of _0x135b2a(_0x51c52e))_0x174c9b[_0x607af0(0xa65)](_0x3e677c);return _0x174c9b;}(_0x4133c6);return this[_0x5ccf28(0xa13)]+=_0x1f0f92['reduce']((_0x2a0e07,_0x3cd18c)=>_0x2a0e07+_0x3cd18c[_0x5ccf28(0x2f4)],0x0),void _0x1f0f92[_0x5ccf28(0x938)]((_0x455c08,_0x513212)=>{const _0x1735f9=_0x5ccf28;this['outgoingTopic'][_0x1735f9(0x6c6)]({'sourceId':this[_0x1735f9(0x32c)][_0x1735f9(0x48e)](),'destinationIds':_0xfd6836,'propagate':!0x0,'contentType':_0x1736bb['ContentType'][_0x1735f9(0x3ca)],'content':{'name':_0x4133c6[_0x1735f9(0x7ca)],'type':_0x4133c6[_0x1735f9(0xb0f)],'data':_0x455c08,'index':_0x513212,'total':_0x1f0f92['length']}});});}this[_0x5ccf28(0xa13)]+=JSON[_0x5ccf28(0x247)](_0x4133c6)['length'],this[_0x5ccf28(0x45d)]['publish']({'sourceId':this['owner'][_0x5ccf28(0x48e)](),'destinationIds':_0xfd6836,'propagate':!0x0,'contentType':_0x1736bb[_0x5ccf28(0xa3c)][_0x5ccf28(0x5f5)],'content':_0x4133c6});}['onMessage'](_0x551502){const _0x296910=_0x677888;return this[_0x296910(0x2b7)][_0x296910(0x576)](_0x25d24f=>{const _0x5a0323=_0x296910;switch(_0x5bf0c2[_0x5a0323(0x5d7)](_0x86d570[_0x5a0323(0xabb)],_0x5a0323(0x966),this[_0x5a0323(0x32c)][_0x5a0323(0x48e)](),_0x25d24f),_0x25d24f[_0x5a0323(0x935)]){case _0x1736bb[_0x5a0323(0xa3c)][_0x5a0323(0x5f5)]:this[_0x5a0323(0x930)]+=0x1,this[_0x5a0323(0x697)]+=JSON[_0x5a0323(0x247)](_0x25d24f[_0x5a0323(0x6a6)])[_0x5a0323(0x8a9)],_0x551502(_0x25d24f[_0x5a0323(0x2e2)],_0x25d24f[_0x5a0323(0x6a6)]);break;case _0x1736bb[_0x5a0323(0xa3c)][_0x5a0323(0x3ca)]:this[_0x5a0323(0x7fe)][_0x5a0323(0x26b)](_0x25d24f[_0x5a0323(0x6a6)]['name'])||this[_0x5a0323(0x7fe)][_0x5a0323(0x926)](_0x25d24f[_0x5a0323(0x6a6)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x55bc7e=this[_0x5a0323(0x7fe)][_0x5a0323(0x8a1)](_0x25d24f[_0x5a0323(0x6a6)]['name']);if(_0x55bc7e['chunksReceived']+=0x1,_0x55bc7e[_0x5a0323(0x697)]+=_0x25d24f[_0x5a0323(0x6a6)][_0x5a0323(0x337)]['byteLength'],_0x55bc7e['content']&&(_0x55bc7e['content'][_0x25d24f[_0x5a0323(0x6a6)]['index']]=_0x25d24f[_0x5a0323(0x6a6)]['data']),this[_0x5a0323(0x7fe)][_0x5a0323(0x926)](_0x25d24f[_0x5a0323(0x6a6)][_0x5a0323(0x7ca)],_0x55bc7e),_0x55bc7e[_0x5a0323(0x698)]+0x1<_0x25d24f['content'][_0x5a0323(0x85d)])return;this[_0x5a0323(0x930)]+=0x1,this[_0x5a0323(0x697)]+=_0x55bc7e[_0x5a0323(0x697)],_0x55bc7e[_0x5a0323(0x6a6)]&&_0x551502(_0x25d24f[_0x5a0323(0x2e2)],(_0x42239c=_0x55bc7e[_0x5a0323(0x6a6)],_0x2ac156=_0x25d24f[_0x5a0323(0x6a6)][_0x5a0323(0x7ca)],_0xf2163d=_0x25d24f[_0x5a0323(0x6a6)][_0x5a0323(0xb0f)],new File(_0x42239c,_0x2ac156,{'type':_0xf2163d}))),this[_0x5a0323(0x7fe)][_0x5a0323(0x60b)](_0x25d24f[_0x5a0323(0x6a6)]['name']);}var _0x42239c,_0x2ac156,_0xf2163d;});}}function _0x484270(){const _0x5db287=_0x677888;let _0x4415a2=[];return{'subscribe':_0x54a58e=>(_0x4415a2[_0x5db287(0xa65)](_0x54a58e),()=>{_0x4415a2=_0x4415a2['filter'](_0x473d1e=>_0x473d1e!==_0x54a58e);}),'publish':_0x3762ab=>{_0x4415a2['forEach'](_0x1e710c=>_0x1e710c(_0x3762ab));}};}function _0x11d010(){let _0x354c0b;return{'subscribe':_0xaae942=>(_0x354c0b=_0xaae942,()=>{_0x354c0b=void 0x0;}),'publish':_0x244c06=>{_0x354c0b&&_0x354c0b(_0x244c06);}};}class _0x268c98{['connector'];[_0x677888(0x285)];[_0x677888(0x2e4)];[_0x677888(0x3e9)]=_0x11d010();[_0x677888(0x452)];constructor(_0x25897a,_0x4cc803,_0x3a3507){const _0x426539=_0x677888;this[_0x426539(0x609)]=_0x25897a,this[_0x426539(0x285)]=_0x4cc803,this[_0x426539(0x2e4)]=_0x3a3507;}[_0x677888(0x405)](){const _0x4940f0=_0x677888;this[_0x4940f0(0x452)]?.();}async[_0x677888(0x8a1)](_0x35ea22){const _0x5c8785=_0x677888,_0x4052d7={'key':_0x35ea22,'tableName':this['tableName'],'action':_0x1ee0bc['Get']};return this[_0x5c8785(0x2e4)][_0x5c8785(0x6c6)](_0x4052d7),this[_0x5c8785(0x609)]['get'](_0x35ea22);}async[_0x677888(0x926)](_0x2fe32a,_0x23d309,_0x35a267=!0x0){const _0x108148=_0x677888;this[_0x108148(0x7d9)](_0x23d309);const _0x684e01=await this[_0x108148(0x609)][_0x108148(0x8a1)](_0x2fe32a),_0x3f09d1=await this[_0x108148(0x609)][_0x108148(0x926)](_0x2fe32a,_0x23d309),_0x5aed8a=_0x684e01?_0x30c0ff[_0x108148(0x77f)]:_0x30c0ff[_0x108148(0x29e)];if(this[_0x108148(0x6c6)](_0x5aed8a,_0x3f09d1),!_0x35a267)return _0x3f09d1;const _0x3f424d={'key':_0x2fe32a,'tableName':this[_0x108148(0x285)],'action':_0x5aed8a,'value':_0x3f09d1};return this[_0x108148(0x2e4)][_0x108148(0x6c6)](_0x3f424d),_0x3f09d1;}async['add'](_0x2367d9){const _0x197658=_0x677888;this[_0x197658(0x7d9)](_0x2367d9);const _0x179682=await this[_0x197658(0x609)][_0x197658(0xa95)](_0x2367d9),_0x2ce91a={'key':_0x179682['id'],'tableName':this[_0x197658(0x285)],'action':_0x30c0ff[_0x197658(0x29e)],'value':_0x179682};return this[_0x197658(0x2e4)][_0x197658(0x6c6)](_0x2ce91a),this['publish'](_0x2ce91a[_0x197658(0x39b)],_0x179682),_0x179682;}async[_0x677888(0x60b)](_0x429976,_0x2ae422=!0x0){const _0x51b021=_0x677888,_0x4db244=await this[_0x51b021(0x609)][_0x51b021(0x8a1)](_0x429976);if(!_0x4db244)return;await this['connector']['delete'](_0x429976);const _0x4287a5=_0x30c0ff[_0x51b021(0x63e)];if(this[_0x51b021(0x6c6)](_0x4287a5,_0x4db244),!_0x2ae422)return;const _0x529818={'key':_0x429976,'tableName':this['tableName'],'action':_0x4287a5,'value':_0x4db244};this[_0x51b021(0x2e4)][_0x51b021(0x6c6)](_0x529818);}async['clear'](){const _0x384a69=_0x677888,_0x2a6c4a=await this[_0x384a69(0x7b5)]();for(const _0x5d1521 of _0x2a6c4a){const _0x53e63a=_0x30c0ff[_0x384a69(0x63e)];this[_0x384a69(0x6c6)](_0x53e63a,_0x5d1521);const _0x4273ec={'key':_0x5d1521['id'],'tableName':this[_0x384a69(0x285)],'action':_0x53e63a,'value':_0x5d1521};this[_0x384a69(0x2e4)][_0x384a69(0x6c6)](_0x4273ec);}return this['connector']['clear']();}async[_0x677888(0x7b5)](_0x1d2039){const _0x3c2341=_0x677888,_0xcf1a71={'key':'','tableName':this[_0x3c2341(0x285)],'action':_0x1ee0bc[_0x3c2341(0x3ff)]};this[_0x3c2341(0x2e4)][_0x3c2341(0x6c6)](_0xcf1a71);try{_0x1d2039&&(_0x1d2039=_0x1d2039 instanceof _0x485251?_0x1d2039[_0x3c2341(0x3dc)]():_0x485251[_0x3c2341(0x517)](_0x1d2039)['getQuery']());}catch(_0x4e0786){throw new _0x2ed9c0(_0x4e0a41['KeyValueDatabaseInvalidQuery'],_0x3c2341(0x770));}try{return await this[_0x3c2341(0x609)][_0x3c2341(0x7b5)](_0x1d2039);}catch(_0x5dd533){let _0x4c39a9=_0x3c2341(0x770);throw _0x5dd533 instanceof Error&&(_0x4c39a9=_0x5dd533['message']),new _0x2ed9c0(_0x4e0a41['KeyValueDatabaseInvalidQuery'],_0x4c39a9);}}async['count'](_0x4a7815){const _0x2dbc14=_0x677888,_0x36d8d={'key':'','tableName':this[_0x2dbc14(0x285)],'action':_0x1ee0bc['Count']};this[_0x2dbc14(0x2e4)][_0x2dbc14(0x6c6)](_0x36d8d);try{_0x4a7815&&(_0x4a7815=_0x4a7815 instanceof _0x485251?_0x4a7815[_0x2dbc14(0x3dc)]():_0x485251[_0x2dbc14(0x517)](_0x4a7815)[_0x2dbc14(0x3dc)]());}catch(_0x374adc){throw new _0x2ed9c0(_0x4e0a41['KeyValueDatabaseInvalidQuery'],_0x2dbc14(0x770));}try{return await this[_0x2dbc14(0x609)][_0x2dbc14(0x1f2)](_0x4a7815);}catch(_0x2156c9){let _0x40dc0d=_0x2dbc14(0x770);throw _0x2156c9 instanceof Error&&(_0x40dc0d=_0x2156c9[_0x2dbc14(0x71b)]),new _0x2ed9c0(_0x4e0a41[_0x2dbc14(0x627)],_0x40dc0d);}}[_0x677888(0x6c9)](){const _0x1414f1=_0x677888;return this[_0x1414f1(0x609)][_0x1414f1(0x6c9)]();}['subscribe'](_0x33708f){this['listenerUnsubscriber']=this['eventListener']['subscribe'](_0x33708f);}['unsubscribe'](){this['listenerUnsubscriber']?.();}[_0x677888(0x6c6)](_0x4d8074,_0x416ac6){const _0x12f7b6=_0x677888,_0x343b8a=this[_0x12f7b6(0x7d3)](_0x4d8074,_0x416ac6);this[_0x12f7b6(0x3e9)][_0x12f7b6(0x6c6)](_0x343b8a);}['buildTableEvent'](_0x5a04ab,_0xfb23b){const _0x14d89d=_0x677888;let _0x1a07cc;switch(_0x5a04ab){case _0x30c0ff[_0x14d89d(0x29e)]:_0x1a07cc='add';break;case _0x30c0ff[_0x14d89d(0x77f)]:_0x1a07cc=_0x14d89d(0x4a8);break;case _0x30c0ff[_0x14d89d(0x63e)]:_0x1a07cc=_0x14d89d(0x60b);}return{'action':_0x1a07cc,'value':_0xfb23b};}[_0x677888(0x7d9)](_0x42c9f1){const _0x493c5c=_0x677888;if(_0x493c5c(0x3be)!=typeof _0x42c9f1||null===_0x42c9f1)throw new _0x2ed9c0(_0x4e0a41['KeyValueDatabaseInvalidValue'],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x38f39f in _0x42c9f1){const _0x126365=_0x42c9f1[_0x38f39f];if(_0x493c5c(0x3be)!=typeof _0x126365||_0x126365 instanceof Date){if(![_0x493c5c(0x435),_0x493c5c(0x8b7),_0x493c5c(0x638)][_0x493c5c(0xace)](typeof _0x126365))throw new _0x2ed9c0(_0x4e0a41[_0x493c5c(0x52f)],_0x493c5c(0x34b)+_0x38f39f+_0x493c5c(0x853));}else this['validateValue'](_0x126365);}}}class _0x12b7ed{['peaks']=[];[_0x677888(0x84b)]=0x0;[_0x677888(0x73a)]=[];[_0x677888(0x3af)]=!0x1;[_0x677888(0x4fc)]=null;[_0x677888(0x636)]=null;[_0x677888(0xa4d)];[_0x677888(0x198)]=null;[_0x677888(0x301)]=[];[_0x677888(0x21e)];['_ready']=Promise[_0x677888(0x932)]();[_0x677888(0x762)]=0x0;constructor(){}get[_0x677888(0x3c7)](){const _0x6b129e=_0x677888;return this[_0x6b129e(0x463)];}async['appendTransaction'](_0x3dc4c4,_0x3a6dee=0x0){const _0x5d5651=_0x677888;this['readyResolve']||(this[_0x5d5651(0x463)]=new Promise(_0x4f121f=>{this['readyResolve']=_0x4f121f;}),this['expectedTransactions']=_0x3a6dee);const _0x2aba39=Date[_0x5d5651(0x9bd)]();if(this[_0x5d5651(0x3af)])return void this[_0x5d5651(0x73a)][_0x5d5651(0xa65)](_0x3dc4c4);this[_0x5d5651(0x3af)]=!0x0;let _0x43203e={'hash':await this[_0x5d5651(0x967)](_0x3dc4c4),'height':0x0};const _0x5f5be5=this[_0x5d5651(0x7c2)](_0x43203e);this['readyPromises'][_0x5d5651(0xa65)](_0x5f5be5),await _0x5f5be5,this[_0x5d5651(0x84b)]+=0x1;const _0xa6d284=this['transactionQueue']['length'];for(;this['transactionQueue'][_0x5d5651(0x8a9)]>0x0;){const _0x121200=this[_0x5d5651(0x73a)][_0x5d5651(0x671)]();await this[_0x5d5651(0xb06)](_0x121200);}this['debounceReady'](),await this[_0x5d5651(0x3c7)],this[_0x5d5651(0x44c)](_0x2aba39,_0xa6d284);}async['getRoot'](){const _0x5deeae=_0x677888;return await this[_0x5deeae(0x463)],this[_0x5deeae(0x3af)]?(this[_0x5deeae(0x636)]||(this['rootComputationPromise']=this[_0x5deeae(0x807)]()),await this['rootComputationPromise']):this[_0x5deeae(0x4fc)];}[_0x677888(0x1d4)](){const _0xf4fdfc=_0x677888;return this['peaks'][_0xf4fdfc(0x360)](({hash:_0x59b474,height:_0x499c63})=>({'hash':_0x59b474,'height':_0x499c63}));}['getTotalNodes'](){return this['totalNodes'];}['getPeakNode'](_0x1013aa){const _0x2bf183=_0x677888;return this[_0x2bf183(0x3f6)]['find'](_0x45c9d3=>_0x45c9d3['height']===_0x1013aa);}async[_0x677888(0x819)](_0x74604a,_0x11533c){return await this['computeHash'](_0x74604a+_0x11533c);}async[_0x677888(0x967)](_0x5cee78){const _0x3f830f=_0x677888;return await this[_0x3f830f(0x875)](JSON['stringify'](_0x5cee78));}[_0x677888(0xa68)](_0x88b705){const _0x392a91=_0x677888,_0x2bac9e=this[_0x392a91(0x1d4)](),_0x248d0b=[],_0x509333=[],_0x3f0442=[];for(const _0x49db1f of _0x2bac9e){const _0x4d8224=_0x88b705[_0x392a91(0x8ab)](_0x4be78d=>_0x4be78d[_0x392a91(0x504)]===_0x49db1f[_0x392a91(0x504)]);_0x4d8224?_0x49db1f[_0x392a91(0x5cf)]!==_0x4d8224[_0x392a91(0x5cf)]&&_0x248d0b['push']({'height':_0x49db1f[_0x392a91(0x504)],'localPeak':_0x49db1f,'remotePeak':_0x4d8224}):_0x509333['push'](_0x49db1f);}for(const _0x39ab2c of _0x88b705)_0x2bac9e[_0x392a91(0x8ab)](_0x32b141=>_0x32b141['height']===_0x39ab2c[_0x392a91(0x504)])||_0x3f0442[_0x392a91(0xa65)](_0x39ab2c);return{'differingPeaks':_0x248d0b,'peaksMissingInRemote':_0x509333,'peaksMissingInLocal':_0x3f0442};}async[_0x677888(0x807)](){const _0x1ed796=_0x677888;this['isComputingMMR']=!0x0;const _0x35d88f=this[_0x1ed796(0x3f6)][_0x1ed796(0x360)](_0x279179=>_0x279179[_0x1ed796(0x5cf)]);return this[_0x1ed796(0x4fc)]=await this[_0x1ed796(0x33d)](_0x35d88f),this['isComputingMMR']=!0x1,this[_0x1ed796(0x636)]=null,this[_0x1ed796(0x2a4)](),this['cachedRoot'];}async['computeHash'](_0x4d633a){const _0x176533=_0x677888;try{const _0x36265e=new TextEncoder()['encode'](_0x4d633a),_0x5352df=await crypto[_0x176533(0xb1a)]['digest'](_0x176533(0x404),_0x36265e);return Array[_0x176533(0x3fd)](new Uint8Array(_0x5352df))[_0x176533(0x360)](_0x53d541=>_0x53d541[_0x176533(0x8d8)](0x10)[_0x176533(0x849)](0x2,'0'))[_0x176533(0x729)]('');}catch(_0x54b53b){return console['error'](_0x176533(0x2dd),_0x54b53b),this['computeHash'](_0x4d633a);}}async[_0x677888(0x33d)](_0xbe6fd3){const _0x233a56=_0x677888;return await this[_0x233a56(0x875)](_0xbe6fd3['join'](''));}async['combinePeaks'](_0x3862db){const _0x9721f8=_0x677888;for(;this['peaks'][_0x9721f8(0x8a9)]>0x0&&this[_0x9721f8(0x3f6)][this[_0x9721f8(0x3f6)][_0x9721f8(0x8a9)]-0x1]['height']===_0x3862db[_0x9721f8(0x504)];){const _0x38990c=this[_0x9721f8(0x3f6)][_0x9721f8(0x9be)]();_0x3862db={'hash':await this[_0x9721f8(0x819)](_0x38990c[_0x9721f8(0x5cf)],_0x3862db[_0x9721f8(0x5cf)]),'left':_0x38990c,'right':_0x3862db,'height':_0x3862db['height']+0x1};}this[_0x9721f8(0x3f6)]['push'](_0x3862db),await this[_0x9721f8(0x807)]();}['debounceAppendLog'](_0x9ca8cf,_0x354bc2){const _0x424b2a=_0x677888;if(!_0x5bf0c2['isChannelEnabled'](_0x86d570['KeyValueDatabase']))return;this[_0x424b2a(0xa4d)]&&clearTimeout(this['debounceLogTimeout']);const _0x46354f=Date[_0x424b2a(0x9bd)]();this[_0x424b2a(0xa4d)]=setTimeout(()=>_0x5bf0c2[_0x424b2a(0x5d7)](_0x86d570['KeyValueDatabase'],_0x424b2a(0x66f),this[_0x424b2a(0x4fc)],_0x424b2a(0x8f7),this[_0x424b2a(0x94d)](),_0x424b2a(0x1a8),_0x354bc2,_0x424b2a(0x775),_0x46354f-_0x9ca8cf),0x7d0);}[_0x677888(0x2a4)](){const _0x4c2619=_0x677888;this['debounceReadyTimeout']&&clearTimeout(this[_0x4c2619(0x21e)]),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x17a9e6=_0x4c2619;try{const _0x336d05=this[_0x17a9e6(0x301)];if(this[_0x17a9e6(0x301)]=[],await Promise[_0x17a9e6(0xa47)](_0x336d05),this[_0x17a9e6(0x762)]-=_0x336d05[_0x17a9e6(0x8a9)],this[_0x17a9e6(0x301)]['length']>0x0||this[_0x17a9e6(0x762)]>0x0)return this[_0x17a9e6(0x2a4)]();this[_0x17a9e6(0x198)]&&(this[_0x17a9e6(0x198)](),this[_0x17a9e6(0x198)]=null),this[_0x17a9e6(0x463)]=Promise['resolve'](),this[_0x17a9e6(0x3af)]=!0x1;}catch(_0x2f0d04){console['error'](_0x17a9e6(0xa9d),_0x2f0d04);}},0xa);}}const _0x1329b1=['PeerConnection','Node',_0x677888(0xb04),'Subscription',_0x677888(0xa05),'Detection','Remediation'],_0x26dafe=[[_0x677888(0x333),'Answer','Handshake',_0x677888(0x29f),'NeedRestart',_0x677888(0x828),_0x677888(0xa0b),_0x677888(0xa05),_0x677888(0x445)],[_0x677888(0x767),_0x677888(0xa50),_0x677888(0x2ff),_0x677888(0x390)],[_0x677888(0x5e9),_0x677888(0x602),_0x677888(0x23a),_0x677888(0x6e1),_0x677888(0x801),_0x677888(0x655),'CloseObjectStoreBucket',_0x677888(0x70b),'CloseVectorDatabase',_0x677888(0x5eb),'GenerativeAIContextStats',_0x677888(0x55a),_0x677888(0x38f),_0x677888(0x53f),'KeyValueDatabaseContentSynchronized',_0x677888(0x80a),_0x677888(0x6d8),'KeyValueDatabaseSendTransactions',_0x677888(0xae8),_0x677888(0x211),_0x677888(0x6e4),_0x677888(0x4b3),_0x677888(0x9d3),_0x677888(0x9d0),'RemoteMediaStreamTrackFail','SubscribeMediaStream',_0x677888(0xa97),_0x677888(0xa7d),_0x677888(0x79d),_0x677888(0x7ba)],[_0x677888(0x27b),_0x677888(0x79d),_0x677888(0x99f),_0x677888(0x8b8),_0x677888(0x409),_0x677888(0x7ad)],[_0x677888(0x19e),'LocalReport'],[_0x677888(0x9c7)],[_0x677888(0x23c),_0x677888(0x8cf)]];function _0x67b4a2(_0x4010db){const _0x1b7ee5=_0x677888;return{..._0x4010db,'systemMessageType':_0x1329b1[_0x4010db[_0x1b7ee5(0x343)]],'systemContentMessageType':_0x26dafe[_0x4010db[_0x1b7ee5(0x343)]][_0x4010db['content'][_0x1b7ee5(0xb0f)]]};}const _0x56dd77={'hour':_0x677888(0x42c),'minute':_0x677888(0x42c),'second':_0x677888(0x42c)};function _0x38c506(_0x3a62a1,_0xbb848e){const _0x386b7c=_0x677888,_0xe78d78=(function(){const _0x69fdbb=a0_0x5cc9,_0x5a4337=new Date(),_0x3d3e73=_0x5a4337['getMilliseconds'](),_0x472f0f=_0x5a4337[_0x69fdbb(0xaf2)](_0x69fdbb(0xa0a),_0x56dd77)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x472f0f+'.'+(_0x3d3e73>0x64?''+_0x3d3e73:_0x3d3e73>0xa?'0'+_0x3d3e73:'00'+_0x3d3e73);}()),{sourceId:_0x11679a,destinationIds:_0x3a8e4f,systemMessageType:_0x5df948,systemContentMessageType:_0x1241de}=_0x67b4a2(_0x3a62a1);return _0xe78d78+'\x20-\x20'+_0xbb848e+_0x386b7c(0x3c8)+(_0x11679a===_0xbb848e?_0x386b7c(0x659)+_0x5df948+_0x386b7c(0x919)+(_0x3a8e4f?''+_0x3a8e4f:_0x386b7c(0x67a)):_0x3a62a1[_0x386b7c(0x2e2)]===_0x158186?_0x386b7c(0x69d)+_0x5df948+'\x27':(_0x3a8e4f?'':_0x386b7c(0x64c))+'Receiving\x20\x27'+_0x5df948+'\x27\x20from\x20'+_0x11679a)+_0x386b7c(0x5de)+_0x1241de+_0x386b7c(0x632);}function _0x511163(_0x96ed52,_0x29a894){const _0x18b6a6=_0x677888;if(!_0x5bf0c2[_0x18b6a6(0x9b6)](_0x96ed52))return;if(_0xd27c01['isProduction'])return;if(_0x18b6a6(0x714)==typeof process)return;const _0x54919b=process[_0x18b6a6(0x835)]();console[_0x18b6a6(0x5d7)](_0x18b6a6(0x95d)+_0x29a894+':');for(const _0x541dd6 in _0x54919b)console[_0x18b6a6(0x5d7)]('\x20\x20'+_0x541dd6+':\x20'+(_0x54919b[_0x541dd6]/0x400/0x400)[_0x18b6a6(0x96f)](0x2)+'\x20MB');}function _0x597206(_0x37c86b,_0x4e9fc4){const _0x259fe1=_0x677888;if(!_0x5bf0c2[_0x259fe1(0x9b6)](_0x4e9fc4))return _0x5bf0c2[_0x259fe1(0x324)](_0x259fe1(0x1c7)+_0x4e9fc4),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x4b689d,_0x5d2239)=>_0x5d2239}};let _0x50fde6=0x0;return{'timingLogger':((()=>{const _0x40ec7e=_0x259fe1;let _0x40ab8e=Date['now']();return{'start':()=>{const _0x5274e0=a0_0x5cc9;_0x40ab8e=Date[_0x5274e0(0x9bd)]();},'now':()=>Date[_0x40ec7e(0x9bd)](),'logWaitTime':_0x2d0c87=>{const _0xe24cf1=_0x40ec7e;_0x50fde6+=Date[_0xe24cf1(0x9bd)]()-_0x40ab8e,_0x5bf0c2['log'](_0x4e9fc4,_0x2d0c87,_0x50fde6+'ms',_0x37c86b);}};})()),'logger':{'log':(_0x28e5c1,_0x47392e=()=>{})=>{const _0x5b963a=_0x259fe1,_0x14ea84=_0x47392e();_0x14ea84?_0x5bf0c2['log'](_0x4e9fc4,_0x28e5c1,_0x14ea84,_0x37c86b):_0x5bf0c2[_0x5b963a(0x5d7)](_0x4e9fc4,_0x28e5c1,_0x37c86b);},'performCalculation':(_0x368813,_0xd5f829)=>_0x368813()}};}function _0x5f1622(_0x1bbcfc){const _0x53ee64=_0x677888;return _0x53ee64(0x714)==typeof Buffer?0x0:Buffer[_0x53ee64(0x2f4)](JSON[_0x53ee64(0x247)](_0x1bbcfc),_0x53ee64(0x1e7));}function _0x2dd56a(_0x24ed10){const _0x4f75b5=_0x677888;if(0x0===_0x24ed10)return _0x4f75b5(0x89c);const _0x3477e7=Math[_0x4f75b5(0x8ca)](Math[_0x4f75b5(0x5d7)](_0x24ed10)/Math[_0x4f75b5(0x5d7)](0x400));return parseFloat((_0x24ed10/Math[_0x4f75b5(0x58d)](0x400,_0x3477e7))['toFixed'](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x3477e7];}class _0x2113e7 extends _0x5853dd{['localNode'];[_0x677888(0x8a2)];[_0x677888(0x94e)];[_0x677888(0x6c2)];['db'];['dbKey'];[_0x677888(0x28e)]=new Map();[_0x677888(0x2e4)];['transactionTable'];[_0x677888(0xadd)];[_0x677888(0xaa6)];[_0x677888(0xa35)];['transactionsToSync']=[];[_0x677888(0x1cb)]=()=>{};[_0x677888(0x412)];[_0x677888(0x3e9)]=_0x11d010();[_0x677888(0x452)];[_0x677888(0x469)]=[];[_0x677888(0x9a0)];[_0x677888(0x74e)];[_0x677888(0x315)]=0x0;[_0x677888(0xb1b)]=0x0;[_0x677888(0x964)]=!0x1;[_0x677888(0x920)]=new _0x12b7ed();[_0x677888(0x84e)]=new Map();['transactions']=[];[_0x677888(0x461)];['transactionsToAppend']=[];[_0x677888(0x3a9)];constructor(_0x1d9206,_0x23b702,_0x25d7e5,_0x716bd,_0x1e3087,_0x5bbe10,_0x529f77){const _0x51a745=_0x677888;if(_0x51a745(0x435)!=typeof _0x23b702)throw new _0x2ed9c0(_0x4e0a41['KeyValueDatabaseNameNotString'],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x1d9206,_0x23b702),this[_0x51a745(0xa36)]=_0x1d9206,this['clusterId']=_0x25d7e5,this[_0x51a745(0x94e)]=_0x716bd,this[_0x51a745(0x6c2)]=_0x529f77,this[_0x51a745(0x812)]='ccc'+this[_0x51a745(0x94e)]+_0x51a745(0x6be)+this[_0x51a745(0x8a2)]+_0x51a745(0x6be)+this[_0x51a745(0x65c)],this['tableObserver']=_0x11d010(),this['loggingCycle']=function(_0x56746,_0x3715f8){const _0x4ed0e5=_0x51a745;if(!_0x5bf0c2[_0x4ed0e5(0x9b6)](_0x3715f8))return _0x5bf0c2[_0x4ed0e5(0x324)](_0x4ed0e5(0x1c7)+_0x3715f8),{..._0x597206(_0x56746,_0x3715f8),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':'0\x20B'})};const {timingLogger:_0x3d1108,logger:_0x366ef8}=_0x597206(_0x56746,_0x3715f8);let _0x595a02=0x0,_0x324346=0x0;return{'timingLogger':_0x3d1108,'logger':_0x366ef8,'logDataSent':(_0xaee09d,_0x21de4c=!0x1)=>{const _0x187e2d=_0x4ed0e5,_0x8e27ee=_0x5f1622(_0xaee09d);return _0x21de4c&&_0x5bf0c2[_0x187e2d(0x5d7)](_0x3715f8,_0x187e2d(0xa46),_0x56746,_0x8e27ee),_0x595a02+=_0x8e27ee,_0x8e27ee;},'logDataReceived':(_0x2902b0,_0x3b763d=!0x1)=>{const _0x59068a=_0x4ed0e5,_0x1aabc4=_0x5f1622(_0x2902b0);return _0x3b763d&&_0x5bf0c2[_0x59068a(0x5d7)](_0x3715f8,_0x59068a(0x8a5),_0x56746,_0x1aabc4),_0x324346+=_0x1aabc4,_0x1aabc4;},'getDataLogged':()=>({'dataSent':_0x2dd56a(_0x595a02),'dataReceived':_0x2dd56a(_0x324346)})};}(this[_0x51a745(0x65c)],_0x86d570['KeyValueDatabase']),this['isSync']=new Promise(_0x3017b2=>{const _0x3817c3=_0x51a745;this[_0x3817c3(0xa35)]=_0x3017b2;}),_0x1e3087 instanceof _0xb04762)this[_0x51a745(0x9a0)]=_0x1e3087[_0x51a745(0x906)]();else{const [_0x267b0a,_0x4c0c11]=_0xb04762[_0x51a745(0x4ab)](_0x1e3087);if(!_0x267b0a)throw new _0x2ed9c0(_0x4e0a41[_0x51a745(0x8c0)],_0x51a745(0x979)+_0x4c0c11);this[_0x51a745(0x9a0)]=structuredClone(_0x1e3087);}this[_0x51a745(0x309)](this[_0x51a745(0x9a0)]),this['db']=new _0x5bbe10(this[_0x51a745(0x812)],this['layout']),this[_0x51a745(0x971)]();}async[_0x677888(0x3a8)](_0x1ab2f5,_0x2a98b2){const _0x322650=_0x677888;if(_0x5bf0c2['log'](_0x86d570['KeyValueDatabase'],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x322650(0x65c)]),!this[_0x322650(0xa01)])throw new _0x4dab04(_0x4dab04[_0x322650(0x6ec)][_0x322650(0xaf3)]);if(await this[_0x322650(0xaa6)],await this['isNodeReady'](_0x1ab2f5),await this[_0x322650(0x920)][_0x322650(0x3a6)]()===_0x2a98b2){const _0x4efdd0={'sourceId':this[_0x322650(0xa36)][_0x322650(0x48e)](),'destinationIds':[_0x1ab2f5],'propagate':!0x0,'messageType':_0x59623a[_0x322650(0xb04)],'content':{'type':_0x17da44[_0x322650(0x8a6)],'label':this[_0x322650(0x65c)],'mmrRoot':_0x2a98b2}};return this[_0x322650(0x3a9)][_0x322650(0x5d9)](_0x4efdd0),void this[_0x322650(0x36c)]['publish'](_0x4efdd0);}const _0x5b573=this[_0x322650(0x920)][_0x322650(0x1d4)](),_0x5261da={'sourceId':this[_0x322650(0xa36)][_0x322650(0x48e)](),'destinationIds':[_0x1ab2f5],'propagate':!0x0,'messageType':_0x59623a[_0x322650(0xb04)],'content':{'type':_0x17da44[_0x322650(0x53f)],'label':this[_0x322650(0x65c)],'peaks':_0x5b573}};this[_0x322650(0x3a9)][_0x322650(0x5d9)](_0x5261da),this[_0x322650(0x36c)]['publish'](_0x5261da);}async['processContentSynchronized'](_0x200937,_0x566717){const _0x1d868a=_0x677888,_0x38c9bc=await this['mmr'][_0x1d868a(0x3a6)](),_0x24ff23=_0x38c9bc===_0x566717;if(_0x5bf0c2[_0x1d868a(0x5d7)](_0x86d570['KeyValueDatabase'],_0x1d868a(0x6ca)+_0x200937+_0x1d868a(0x56e)+_0x24ff23,this[_0x1d868a(0x65c)]),_0x24ff23)return this[_0x1d868a(0x578)](),void this[_0x1d868a(0x738)]();_0x5bf0c2[_0x1d868a(0x5d7)](_0x86d570['KeyValueDatabase'],_0x1d868a(0x2ab),_0x38c9bc,_0x566717),_0x5bf0c2[_0x1d868a(0xa38)](_0x1d868a(0x2ab),{'nodeId':this[_0x1d868a(0xa36)][_0x1d868a(0x48e)](),'nodeType':this[_0x1d868a(0xa36)][_0x1d868a(0xb0f)],'remoteId':_0x200937,'data':{'localMMRRoot':_0x38c9bc,'remoteMMRRoot':_0x566717}});const _0x36f424={'sourceId':this[_0x1d868a(0xa36)][_0x1d868a(0x48e)](),'messageType':_0x59623a[_0x1d868a(0xb04)],'propagate':!0x0,'content':{'type':_0x17da44['KeyValueDatabaseSyncRequired'],'label':this[_0x1d868a(0x65c)],'mmrRoot':_0x38c9bc}};this[_0x1d868a(0x36c)]['publish'](_0x36f424);}async[_0x677888(0x49f)](_0x108176,_0x547f22){const _0x146dba=_0x677888;if(_0x5bf0c2['log'](_0x86d570['KeyValueDatabase'],_0x146dba(0x347),_0x108176,_0x146dba(0x65c),this[_0x146dba(0x65c)],'peaks',_0x547f22),this[_0x146dba(0x964)])return;this['contentRequestSent']=!0x0,this[_0x146dba(0x578)]();const {differingPeaks:_0x37347e,peaksMissingInLocal:_0x2fc1a8,peaksMissingInRemote:_0x5604cb}=this[_0x146dba(0x920)]['comparePeaks'](_0x547f22);_0x5bf0c2[_0x146dba(0x5d7)](_0x86d570[_0x146dba(0x9de)],_0x146dba(0x7a0),{'differingPeaks':_0x37347e,'peaksMissingInLocal':_0x2fc1a8,'peaksMissingInRemote':_0x5604cb});const _0x383ef1={'sourceId':this[_0x146dba(0xa36)]['getId'](),'destinationIds':[_0x108176],'propagate':!0x0,'messageType':_0x59623a[_0x146dba(0xb04)],'content':{'type':_0x17da44[_0x146dba(0x80a)],'label':this[_0x146dba(0x65c)],'peakHeights':_0x2fc1a8[_0x146dba(0x360)](_0x14e4d9=>_0x14e4d9[_0x146dba(0x504)])['concat'](_0x37347e[_0x146dba(0x360)](_0x4a2791=>_0x4a2791[_0x146dba(0x504)]))}};if(this['systemTopic'][_0x146dba(0x6c6)](_0x383ef1),_0x37347e[_0x146dba(0x8a9)]>0x0||_0x5604cb[_0x146dba(0x8a9)]>0x0){const _0xa2dc64=_0x5604cb['map'](_0x10c76b=>_0x10c76b['height'])['concat'](_0x37347e[_0x146dba(0x360)](_0x24ea95=>_0x24ea95[_0x146dba(0x504)]));await this[_0x146dba(0x37d)](_0x108176,_0xa2dc64,!0x0);}}async[_0x677888(0x37d)](_0x103e54,_0x2f85b1,_0x264523=!0x1){const _0x20edca=_0x677888;_0x5bf0c2[_0x20edca(0x5d7)](_0x86d570[_0x20edca(0x9de)],_0x20edca(0x2c0),this[_0x20edca(0x65c)]);const _0x241baa=_0x2f85b1[_0x20edca(0x360)](_0x265f13=>this['mmr'][_0x20edca(0x733)](_0x265f13))[_0x20edca(0x3cc)](Boolean);if(!_0x241baa[_0x20edca(0x8a9)]||_0x2f85b1[_0x20edca(0x8a9)]!==_0x241baa[_0x20edca(0x8a9)])throw new _0x4dab04(_0x4dab04[_0x20edca(0x6ec)]['KeyValueDatabasePeakNotFound'],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x2f85b1,'peaks':_0x241baa[_0x20edca(0x360)](_0x472198=>_0x472198[_0x20edca(0x504)]),'nodeId':_0x103e54});const _0x3f33ac=[];for(const _0x1d9dd3 of _0x241baa)this['collectTransactionsFromNode'](_0x1d9dd3,_0x3f33ac);const _0x4043c1=_0x264523?void 0x0:[_0x103e54],_0x1c815e={'sourceId':this['localNode'][_0x20edca(0x48e)](),'destinationIds':_0x4043c1,'messageType':_0x59623a[_0x20edca(0xb04)],'propagate':!0x0,'content':{'type':_0x17da44[_0x20edca(0x7ce)],'label':this[_0x20edca(0x65c)],'transactions':_0x3f33ac}};this[_0x20edca(0x3a9)][_0x20edca(0x5d9)](_0x1c815e),this[_0x20edca(0x36c)][_0x20edca(0x6c6)](_0x1c815e);}async[_0x677888(0x88d)](_0x31c58c,_0x175712){const _0x4057e9=_0x677888;_0x5bf0c2[_0x4057e9(0x5d7)](_0x86d570['KeyValueDatabase'],_0x4057e9(0x87e)+_0x175712[_0x4057e9(0x8a9)]+_0x4057e9(0xb0d)+_0x31c58c+_0x4057e9(0x3c8)+this[_0x4057e9(0x65c)]);for(const _0x375316 of _0x175712){const _0x283ed7=await this[_0x4057e9(0xa01)][_0x4057e9(0x8a1)](_0x375316['id']);if(!(_0x283ed7&&this[_0x4057e9(0x45f)](_0x283ed7,_0x375316)>=0x0)){if(_0x375316[_0x4057e9(0x39b)]===_0x30c0ff[_0x4057e9(0x63e)]){const [_0x5b4c8d,_0x471325]=_0x375316['id'][_0x4057e9(0xad8)]('::'),_0x5bfd1c=this[_0x4057e9(0xa37)](_0x5b4c8d);await _0x5bfd1c['delete'](_0x471325);}else this[_0x4057e9(0x5f7)]['push'](_0x375316['id']);}}if(_0x5bf0c2['log'](_0x86d570[_0x4057e9(0x9de)],_0x4057e9(0x239)+this[_0x4057e9(0x5f7)][_0x4057e9(0x8a9)]+_0x4057e9(0x3f0),this['label']),this[_0x4057e9(0x5f7)]['length']>0x0){const _0x2b6d1c={'sourceId':this[_0x4057e9(0xa36)][_0x4057e9(0x48e)](),'destinationIds':[_0x31c58c],'messageType':_0x59623a[_0x4057e9(0xb04)],'propagate':!0x0,'content':{'type':_0x17da44[_0x4057e9(0x6d8)],'label':this[_0x4057e9(0x65c)],'transactionIds':this[_0x4057e9(0x5f7)]}};this[_0x4057e9(0x3a9)][_0x4057e9(0x5d9)](_0x2b6d1c),this[_0x4057e9(0x36c)][_0x4057e9(0x6c6)](_0x2b6d1c);}}[_0x677888(0x79b)](){const _0xd801af=_0x677888;this[_0xd801af(0x971)]();}['getContentType'](){const _0x13c30c=_0x677888;return _0x1736bb[_0x13c30c(0xa3c)]['KeyValueDatabase'];}[_0x677888(0x405)](){const _0x54d873=_0x677888;this['db'][_0x54d873(0x7ed)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x54d873(0x74e)]),delete this[_0x54d873(0x74e)],super['destroy']();}[_0x677888(0x7ed)](){const _0xf6554=_0x677888;this[_0xf6554(0x578)](),this[_0xf6554(0x36c)]['publish']({'sourceId':_0x158186,'messageType':_0x59623a[_0xf6554(0xb04)],'content':{'type':_0x17da44[_0xf6554(0x801)],'label':this[_0xf6554(0x65c)]}});}['getTable'](_0x225dd0){const _0x13379d=_0x677888,_0x478402=this[_0x13379d(0x28e)][_0x13379d(0x8a1)](_0x225dd0);if(_0x478402)return _0x478402;try{if(!this['db']['hasTable'](_0x225dd0))throw new _0x2ed9c0(_0x4e0a41[_0x13379d(0x890)],_0x13379d(0x3e1));const _0x56ffea=new _0x268c98(this['db'][_0x13379d(0x383)](_0x225dd0),_0x225dd0,this[_0x13379d(0x2e4)]);return this['tables'][_0x13379d(0x926)](_0x225dd0,_0x56ffea),{'get':_0x56ffea[_0x13379d(0x8a1)][_0x13379d(0x75d)](_0x56ffea),'set':_0x56ffea[_0x13379d(0x926)][_0x13379d(0x75d)](_0x56ffea),'add':_0x56ffea['add'][_0x13379d(0x75d)](_0x56ffea),'delete':_0x56ffea['delete']['bind'](_0x56ffea),'clear':_0x56ffea[_0x13379d(0x99d)][_0x13379d(0x75d)](_0x56ffea),'list':_0x56ffea[_0x13379d(0x7b5)][_0x13379d(0x75d)](_0x56ffea),'count':_0x56ffea[_0x13379d(0x1f2)][_0x13379d(0x75d)](_0x56ffea),'subscribe':_0x56ffea[_0x13379d(0x576)][_0x13379d(0x75d)](_0x56ffea),'unsubscribe':_0x56ffea['unsubscribe'][_0x13379d(0x75d)](_0x56ffea)};}catch(_0x10019c){if(_0x10019c instanceof _0x2ed9c0)throw _0x10019c;throw new _0x2ed9c0(_0x4e0a41[_0x13379d(0x99b)],_0x13379d(0x5c9));}}[_0x677888(0x576)](_0x4ec237){const _0x605415=_0x677888;this['listenerUnsubscriber']=this[_0x605415(0x3e9)][_0x605415(0x576)](_0x4ec237),this[_0x605415(0x7d7)](this[_0x605415(0xaa6)])[_0x605415(0x6b5)](_0x777b4e=>{const _0x213d38=_0x605415;_0x777b4e&&this[_0x213d38(0x3e9)]['publish']({'event':_0x1736bb[_0x213d38(0x522)][_0x213d38(0x311)]});});}[_0x677888(0xa24)](){const _0x39f4ac=_0x677888;this[_0x39f4ac(0x452)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x677888(0xacb)](){const _0x27173a=_0x677888;_0x511163(_0x86d570[_0x27173a(0x9de)],_0x27173a(0x53e));const _0x5e1677=[_0x56c53c,_0x1547d2],_0x5736ae=[];try{await this['db']['open']();const _0x33b675=this['db'][_0x27173a(0x383)](_0x1547d2),_0x5e7ec3=await _0x33b675['list'](),{id:_0x4ff0c2,layout:_0x52eabe}=_0x5e7ec3[0x0]??{};if(_0x52eabe){for(const _0xfc8604 in _0x52eabe)_0x5e1677[_0x27173a(0xace)](_0xfc8604)||this['db'][_0x27173a(0x4d1)](_0xfc8604)||_0x5736ae[_0x27173a(0xa65)](_0xfc8604);await _0x33b675[_0x27173a(0x926)](_0x4ff0c2,{'layout':this['layout']});}else await _0x33b675[_0x27173a(0xa95)]({'layout':this[_0x27173a(0x9a0)]});}catch(_0x4e1931){throw new _0x2ed9c0(_0x4e0a41[_0x27173a(0x99b)],_0x4e1931[_0x27173a(0x71b)]||'Error\x20encountered\x20while\x20opening\x20database');}this[_0x27173a(0x473)](),await this[_0x27173a(0x197)](),this[_0x27173a(0x9fe)](),this[_0x27173a(0xac5)](),_0x5736ae[_0x27173a(0x938)](_0x4824bc=>this['deleteTransactionsForTable'](_0x4824bc));}async[_0x677888(0x2cd)](_0x22a90b,_0x59c407=()=>{},_0x32a4dc=!0x1){const _0x4d8c67=_0x677888;if(!_0x22a90b)return setTimeout(()=>{const _0x456bd7=a0_0x5cc9;this[_0x456bd7(0x578)](),this[_0x456bd7(0x738)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x4d8c67(0x1cb)]=_0x59c407,this['syncTimeout']=setTimeout(_0x59c407,0x7d0),!this['systemTopic'])throw new _0x4dab04(_0x4dab04['codes']['MissingSystemTopic']);const _0x26c8ad=await this[_0x4d8c67(0x920)][_0x4d8c67(0x3a6)](),_0x453205={'sourceId':this[_0x4d8c67(0xa36)][_0x4d8c67(0x48e)](),'messageType':_0x59623a[_0x4d8c67(0xb04)],'propagate':_0x32a4dc,'content':{'type':_0x17da44[_0x4d8c67(0x211)],'label':this[_0x4d8c67(0x65c)],'mmrRoot':_0x26c8ad}};return this['loggingCycle'][_0x4d8c67(0x5d9)](_0x453205),this[_0x4d8c67(0x36c)]['publish'](_0x453205),this[_0x4d8c67(0xaa6)];}async['sendTransactionsValue'](_0x203dcf,_0x11c65e){const _0x313f5a=_0x677888;if(_0x5bf0c2[_0x313f5a(0x5d7)](_0x86d570['KeyValueDatabase'],_0x313f5a(0x633)+_0x11c65e['length'],this[_0x313f5a(0x65c)]),!this['transactionTable'])throw new _0x4dab04(_0x4dab04[_0x313f5a(0x6ec)][_0x313f5a(0xaf3)]);for(const _0xf2bea2 of _0x11c65e){const _0x34bd64=await this['transactionTable'][_0x313f5a(0x8a1)](_0xf2bea2);if(!_0x34bd64)continue;const [_0x5ea37e,_0x10746f]=_0xf2bea2['split']('::'),_0x25c760=this[_0x313f5a(0xa37)](_0x5ea37e),_0xf27cfd=await _0x25c760['get'](_0x10746f);_0xf27cfd?(_0x34bd64[_0x313f5a(0x6fa)]=_0xf27cfd,this['send'](_0x34bd64,[_0x203dcf])):_0x5bf0c2['warning']('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x313f5a(0xa36)][_0x313f5a(0xb0f)],'remoteId':_0x203dcf,'data':{'tableKeys':Object[_0x313f5a(0x1fd)](this['tables']),'transactionId':_0xf2bea2,'transactions':this[_0x313f5a(0x5f7)],'tableName':_0x5ea37e,'key':_0x10746f}});}}async['writeTransaction'](_0x5a7151){const _0x44db92=_0x677888;if(!this['transactionTable'])throw new _0x4dab04(_0x4dab04['codes'][_0x44db92(0xaf3)]);const _0x1cbc18=await this[_0x44db92(0x920)][_0x44db92(0x967)](_0x5a7151),_0x59b4e5=this['transactionHashMap'][_0x44db92(0x8a1)](_0x1cbc18);if(_0x59b4e5&&this[_0x44db92(0x45f)](_0x5a7151,_0x59b4e5)<=0x0)return void _0x5bf0c2[_0x44db92(0x5d7)](_0x86d570[_0x44db92(0x9de)],_0x44db92(0x6f2),_0x5a7151);const _0x5f2d8c={..._0x5a7151};return delete _0x5f2d8c[_0x44db92(0x6fa)],this[_0x44db92(0x5c1)](_0x5f2d8c),await this[_0x44db92(0xa01)][_0x44db92(0x926)](_0x5a7151['id'],_0x5f2d8c),_0x5a7151;}['compareTransactions'](_0x59a8da,_0x3c6dd0){const _0x547b06=_0x677888;return _0x59a8da[_0x547b06(0x548)]!==_0x3c6dd0[_0x547b06(0x548)]?_0x59a8da[_0x547b06(0x548)]-_0x3c6dd0['timestamp']:_0x59a8da[_0x547b06(0x35a)]-_0x3c6dd0[_0x547b06(0x35a)];}async['getTransactionFromTableWriteEvent'](_0x4ce7a2){const _0x18b425=_0x677888;if(!this[_0x18b425(0xa01)])throw new _0x4dab04(_0x4dab04[_0x18b425(0x6ec)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x4717f3=_0x4ce7a2[_0x18b425(0x285)]+'::'+_0x4ce7a2['key'],_0x4ec8eb=await _0x66e9[_0x18b425(0x5c0)](),_0x26a842={'id':_0x4717f3,'priority':Math[_0x18b425(0x798)](),'timestamp':_0x4ec8eb,'action':_0x4ce7a2['action']};if(await this[_0x18b425(0x8bd)](_0x26a842))return _0x26a842;}async[_0x677888(0x816)](_0x136952){const _0x8e79e6=_0x677888;if(!this[_0x8e79e6(0xa01)])throw new _0x4dab04(_0x4dab04[_0x8e79e6(0x6ec)][_0x8e79e6(0xaf3)]);const _0x5564e5=_0x485251[_0x8e79e6(0x7fc)]('id')[_0x8e79e6(0x9fd)](_0x8e79e6(0x5a6),[_0x136952+'::',_0x136952+_0x8e79e6(0x2d8)]),_0x3661dc=await this[_0x8e79e6(0xa01)][_0x8e79e6(0x7b5)](_0x5564e5[_0x8e79e6(0x3dc)]());for(const _0x38e9e3 of _0x3661dc)await this[_0x8e79e6(0xa01)]['delete'](_0x38e9e3['id']);}[_0x677888(0x9fe)](){const _0x2f7062=_0x677888;this[_0x2f7062(0x980)](async(_0xe495fb,_0x1eb80a)=>{const _0x529191=_0x2f7062;if(_0x1eb80a instanceof File)return;if(this[_0x529191(0x3a9)][_0x529191(0x670)](_0x1eb80a),!await this[_0x529191(0x8bd)](_0x1eb80a))return void this[_0x529191(0x985)](_0xe495fb,_0x1eb80a);if(!_0x1eb80a[_0x529191(0x6fa)])throw new _0x4dab04(_0x4dab04[_0x529191(0x6ec)][_0x529191(0x425)]);const [_0x574144,_0x2e4a6b]=_0x1eb80a['id']['split']('::'),_0x4ebd5d=this['getTable'](_0x574144);if(!_0x4ebd5d)throw new _0x4dab04(_0x4dab04[_0x529191(0x6ec)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x4ebd5d});let _0x6106b3=0x0;switch(_0x1eb80a[_0x529191(0x39b)]){case _0x30c0ff[_0x529191(0x29e)]:case _0x30c0ff[_0x529191(0x77f)]:{const _0x387c06=_0x4ebd5d[_0x529191(0x926)](_0x2e4a6b,_0x1eb80a[_0x529191(0x6fa)],!0x1);_0x6106b3=JSON['stringify'](_0x1eb80a[_0x529191(0x6fa)])[_0x529191(0x8a9)],this['transactionsToSync'][_0x529191(0xace)](_0x1eb80a['id'])&&this[_0x529191(0x469)][_0x529191(0xa65)](_0x387c06);break;}case _0x30c0ff[_0x529191(0x63e)]:{const _0x3e5fe2=_0x4ebd5d[_0x529191(0x60b)](_0x2e4a6b,!0x1);this[_0x529191(0x5f7)][_0x529191(0xace)](_0x1eb80a['id'])&&this[_0x529191(0x469)][_0x529191(0xa65)](_0x3e5fe2);break;}}_0x5bf0c2['logServiceEvent'](_0x1cdbf5[_0x529191(0x9de)],{'type':_0x529191(0x2cd),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x529191(0xa36)][_0x529191(0xb0f)],'clusterId':this[_0x529191(0x8a2)],'tableName':_0x574144,'key':_0x2e4a6b,'size':_0x6106b3}),this[_0x529191(0x985)](_0xe495fb,_0x1eb80a);});}['setOnTableWriteHandler'](){const _0x287c30=_0x677888;this[_0x287c30(0xadd)]=this['tableObserver'][_0x287c30(0x576)](async _0x5009e3=>{const _0x2641af=_0x287c30;let _0x5593a8=0x0;switch(_0x5009e3[_0x2641af(0x39b)]){case _0x30c0ff[_0x2641af(0x29e)]:case _0x30c0ff[_0x2641af(0x77f)]:case _0x30c0ff[_0x2641af(0x63e)]:{const _0x2bb6d3=await this[_0x2641af(0x1a9)](_0x5009e3);if(!_0x2bb6d3)return;_0x2bb6d3[_0x2641af(0x6fa)]=_0x5009e3[_0x2641af(0x6fa)],this[_0x2641af(0x4c2)](_0x2bb6d3),_0x5593a8=JSON[_0x2641af(0x247)](_0x5009e3[_0x2641af(0x6fa)])[_0x2641af(0x8a9)],this[_0x2641af(0x315)]+=0x1;break;}case _0x1ee0bc[_0x2641af(0x1e4)]:case _0x1ee0bc[_0x2641af(0x3ff)]:case _0x1ee0bc['Count']:this['reads']+=0x1;}_0x5bf0c2['logServiceEvent'](_0x1cdbf5[_0x2641af(0x9de)],{'type':_0x5009e3[_0x2641af(0x39b)],'label':this[_0x2641af(0x65c)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x2641af(0xa36)][_0x2641af(0xb0f)],'clusterId':this[_0x2641af(0x8a2)],'tableName':_0x5009e3[_0x2641af(0x285)],'key':_0x5009e3[_0x2641af(0x988)],'size':_0x5593a8}),this[_0x2641af(0x971)]();});}[_0x677888(0x473)](){const _0x1092d8=_0x677888;this['db']&&(this[_0x1092d8(0xa01)]||(this[_0x1092d8(0xa01)]=this['db'][_0x1092d8(0x383)](_0x56c53c)));}[_0x677888(0x578)](){const _0x116020=_0x677888;this['syncTimeout']&&(clearTimeout(this[_0x116020(0x412)]),delete this[_0x116020(0x412)]);}async[_0x677888(0x738)](){const _0x3e5b0a=_0x677888;await this[_0x3e5b0a(0x920)][_0x3e5b0a(0x3c7)],this[_0x3e5b0a(0xa29)](),this[_0x3e5b0a(0x3e9)][_0x3e5b0a(0x6c6)]({'event':_0x1736bb[_0x3e5b0a(0x522)][_0x3e5b0a(0x311)]}),this[_0x3e5b0a(0xa35)]?.(!0x0),delete this['syncResolve'],this[_0x3e5b0a(0x971)](),_0x5bf0c2[_0x3e5b0a(0x5d7)](_0x86d570[_0x3e5b0a(0x9de)],_0x3e5b0a(0x626),this['label']);}async[_0x677888(0x677)](_0x205ad4){const _0x11a05f=_0x677888;await Promise[_0x11a05f(0xa47)](this['syncTransactionsWritten']),_0x5bf0c2['log'](_0x86d570[_0x11a05f(0x9de)],_0x11a05f(0x692)+this[_0x11a05f(0x469)][_0x11a05f(0x8a9)]+'\x20writes\x20from\x20'+_0x205ad4+_0x11a05f(0x908),this[_0x11a05f(0x65c)]),await this[_0x11a05f(0x920)][_0x11a05f(0x3c7)],await this[_0x11a05f(0x4eb)](_0x205ad4),await this[_0x11a05f(0x738)]();}[_0x677888(0x985)](_0x285295,_0x591c29){const _0x295699=_0x677888;this[_0x295699(0x5f7)][_0x295699(0xace)](_0x591c29['id'])&&(this[_0x295699(0x578)](),this['transactionsToSync']=this[_0x295699(0x5f7)]['filter'](_0x4c3e78=>_0x4c3e78!==_0x591c29['id']),0x0!==this[_0x295699(0x5f7)][_0x295699(0x8a9)]?this['syncTimeout']=setTimeout(this[_0x295699(0x1cb)],0x7d0):this[_0x295699(0x677)](_0x285295));}[_0x677888(0x971)](){const _0x4b955f=_0x677888;this[_0x4b955f(0x74e)]&&clearTimeout(this[_0x4b955f(0x74e)]),this[_0x4b955f(0x74e)]=setTimeout(async()=>{const _0x2d53d6=_0x4b955f;delete this[_0x2d53d6(0x74e)];let _0x47e13f=0x0;for(const _0x3f1e0b of this[_0x2d53d6(0x28e)][_0x2d53d6(0x9c3)]())_0x47e13f+=await _0x3f1e0b['calculateSize']();this['systemTopic'][_0x2d53d6(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x2d53d6(0xb04)],'content':{'type':_0x17da44['KeyValueDatabaseStats'],'label':this[_0x2d53d6(0x65c)],'stats':{'timestamp':Date[_0x2d53d6(0x9bd)](),'storage':_0x47e13f,'messagesSent':this[_0x2d53d6(0xab5)],'messagesReceived':this[_0x2d53d6(0x930)],'bytesSent':this[_0x2d53d6(0xa13)],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0x2d53d6(0xb1b)],'prompts':0x0,'tokens':0x0}}}),_0x5bf0c2[_0x2d53d6(0x58b)](_0x1cdbf5[_0x2d53d6(0x9de)],'ccc'+this[_0x2d53d6(0x8a2)]+_0x2d53d6(0x6be)+this[_0x2d53d6(0x65c)],_0x47e13f);},_0x3025f9);}[_0x677888(0x309)](_0xc13e94){const _0x541edb=_0x677888;if(_0xc13e94[_0x541edb(0x28e)][_0x56c53c])throw new _0x2ed9c0(_0x4e0a41[_0x541edb(0x5c5)],_0x541edb(0x568)+_0x56c53c+_0x541edb(0x3a3));if(_0xc13e94[_0x541edb(0x28e)][_0x1547d2])throw new _0x2ed9c0(_0x4e0a41[_0x541edb(0x5c5)],_0x541edb(0x568)+_0x1547d2+_0x541edb(0x3a3));_0xc13e94[_0x541edb(0x28e)][_0x56c53c]={'indexes':[]},_0xc13e94['tables'][_0x1547d2]={'indexes':[]};}async['isPromiseResolved'](_0x1742c1){const _0x18e5a9=_0x677888;return Promise[_0x18e5a9(0x9ed)]([_0x1742c1,Promise[_0x18e5a9(0x932)](_0x18e5a9(0x910))])[_0x18e5a9(0x6b5)](_0x3ad551=>_0x18e5a9(0x910)!==_0x3ad551);}async[_0x677888(0x4eb)](_0x33e21c){const _0x45bdb4=_0x677888;await this[_0x45bdb4(0x2f2)]();const _0x4b367a=await this[_0x45bdb4(0x920)][_0x45bdb4(0x3a6)](),_0x1d965c={'sourceId':this[_0x45bdb4(0xa36)][_0x45bdb4(0x48e)](),'destinationIds':[_0x33e21c],'propagate':!0x0,'messageType':_0x59623a[_0x45bdb4(0xb04)],'content':{'type':_0x17da44[_0x45bdb4(0x8a6)],'label':this[_0x45bdb4(0x65c)],'mmrRoot':_0x4b367a}};this[_0x45bdb4(0x36c)][_0x45bdb4(0x6c6)](_0x1d965c);}async[_0x677888(0x197)](){const _0x27174a=_0x677888;if(!this[_0x27174a(0xa01)])throw new _0x4dab04(_0x4dab04[_0x27174a(0x6ec)][_0x27174a(0xaf3)]);this['transactions']=await this[_0x27174a(0xa01)][_0x27174a(0x7b5)](),this[_0x27174a(0x6a8)]['sort'](this[_0x27174a(0x45f)]),this[_0x27174a(0x920)]=new _0x12b7ed(),this['transactionHashMap']=new Map();for(const _0x50c80e of this[_0x27174a(0x6a8)])this[_0x27174a(0x33e)](_0x50c80e,this['transactions'][_0x27174a(0x8a9)]);this[_0x27174a(0x2a5)]();}async[_0x677888(0x33e)](_0x575d7d,_0x339348){const _0x1d8a92=_0x677888,_0x45afd4={..._0x575d7d};delete _0x45afd4[_0x1d8a92(0x6fa)],await this[_0x1d8a92(0x920)]['appendTransaction'](_0x45afd4,_0x339348);const _0x20d452=await this['mmr']['hashTransaction'](_0x45afd4);this[_0x1d8a92(0x84e)][_0x1d8a92(0x926)](_0x20d452,_0x575d7d);}[_0x677888(0x22d)](_0x5dde12){const _0x281235=_0x677888;return this[_0x281235(0x84e)]['get'](_0x5dde12);}[_0x677888(0x7f0)](_0x3dd83c,_0x237e9d){const _0x2d8876=_0x677888;if(0x0!==_0x3dd83c[_0x2d8876(0x504)])_0x3dd83c[_0x2d8876(0xa87)]&&this['collectTransactionsFromNode'](_0x3dd83c[_0x2d8876(0xa87)],_0x237e9d),_0x3dd83c[_0x2d8876(0x61a)]&&this[_0x2d8876(0x7f0)](_0x3dd83c[_0x2d8876(0x61a)],_0x237e9d);else{const _0x84414=this[_0x2d8876(0x22d)](_0x3dd83c[_0x2d8876(0x5cf)]);_0x84414&&_0x237e9d[_0x2d8876(0xa65)](_0x84414);}}async[_0x677888(0x53c)](){const _0x3f0c5a=_0x677888;this[_0x3f0c5a(0x461)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x3f0c5a(0x461)],this[_0x3f0c5a(0xa86)]['length']>0x0&&(this[_0x3f0c5a(0x6a8)][_0x3f0c5a(0xa65)](...this[_0x3f0c5a(0xa86)][_0x3f0c5a(0x323)](this[_0x3f0c5a(0x45f)])),this[_0x3f0c5a(0xa86)]=[]));const _0x790de=this['startLoggingCycle']();this['mmr']=new _0x12b7ed(),this[_0x3f0c5a(0x84e)][_0x3f0c5a(0x99d)](),this[_0x3f0c5a(0x6a8)]['sort'](this['compareTransactions']);for(const _0x54e606 of this[_0x3f0c5a(0x6a8)])this[_0x3f0c5a(0x33e)](_0x54e606,this[_0x3f0c5a(0x6a8)][_0x3f0c5a(0x8a9)]);await this[_0x3f0c5a(0x920)][_0x3f0c5a(0x3c7)],this[_0x3f0c5a(0x67d)](_0x790de);}['startLoggingCycle'](){const _0x238b5c=_0x677888;return this[_0x238b5c(0x3a9)][_0x238b5c(0x1e8)][_0x238b5c(0x9bc)](async()=>{const _0x2e6752=_0x238b5c,_0x713ce6=await this['mmr'][_0x2e6752(0x3a6)]();return{'startTime':Date[_0x2e6752(0x9bd)](),'initialRoot':_0x713ce6};},Promise[_0x238b5c(0x932)]({'startTime':0x0,'initialRoot':''}));}async[_0x677888(0x67d)](_0x2fb696){const _0x21f0e8=_0x677888;try{const {startTime:_0x19739e,initialRoot:_0x5a9a7b}=await _0x2fb696,_0x543236=await this[_0x21f0e8(0x920)][_0x21f0e8(0x3a6)](),_0x55ec0a=[_0x21f0e8(0xa8c)+(_0x5a9a7b!==_0x543236),_0x21f0e8(0x8cc)+_0x5a9a7b,_0x21f0e8(0x2f7)+_0x543236,_0x21f0e8(0x1ce)+this[_0x21f0e8(0x920)]['getTotalNodes'](),_0x21f0e8(0x9b7)+(Date[_0x21f0e8(0x9bd)]()-_0x19739e)+_0x21f0e8(0x805)][_0x21f0e8(0x729)]('\x20');this[_0x21f0e8(0x3a9)]['logger'][_0x21f0e8(0x5d7)]('',()=>_0x55ec0a);}catch(_0x509b60){console[_0x21f0e8(0x487)](_0x21f0e8(0xa67),_0x509b60);}}['debounceRebuildMMRWithTransaction'](_0x2560f3){const _0x3d128e=_0x677888;this[_0x3d128e(0xa86)][_0x3d128e(0xa65)](_0x2560f3),this['debounceRebuildMMR']&&(clearTimeout(this[_0x3d128e(0x461)]),delete this[_0x3d128e(0x461)]),this[_0x3d128e(0x461)]=setTimeout(()=>{const _0x3dd7ce=_0x3d128e;this[_0x3dd7ce(0x2f2)]();},0x3e8);}async[_0x677888(0x2f2)](){const _0x37ccd9=_0x677888;if(this[_0x37ccd9(0x461)]&&(clearTimeout(this[_0x37ccd9(0x461)]),delete this[_0x37ccd9(0x461)]),0x0!==this[_0x37ccd9(0xa86)][_0x37ccd9(0x8a9)]){if(0x0===this[_0x37ccd9(0x6a8)][_0x37ccd9(0x8a9)])return this['transactions']=this[_0x37ccd9(0xa86)],this[_0x37ccd9(0xa86)]=[],await this[_0x37ccd9(0x53c)]();if(this[_0x37ccd9(0xa86)][_0x37ccd9(0x323)](this[_0x37ccd9(0x45f)]),this['compareTransactions'](this[_0x37ccd9(0xa86)][0x0],this[_0x37ccd9(0x6a8)][this['transactions'][_0x37ccd9(0x8a9)]-0x1])>0x0){this[_0x37ccd9(0x3a9)][_0x37ccd9(0x1e8)][_0x37ccd9(0x5d7)]('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this['transactionsToAppend']['length']+_0x37ccd9(0x2b1)+this[_0x37ccd9(0x6a8)][_0x37ccd9(0x8a9)]);for(const _0x554f5d of this[_0x37ccd9(0xa86)])this[_0x37ccd9(0x6a8)][_0x37ccd9(0xa65)](_0x554f5d),this[_0x37ccd9(0x33e)](_0x554f5d,this['transactionsToAppend']['length']);return this[_0x37ccd9(0xa86)]=[],void this[_0x37ccd9(0x3a9)][_0x37ccd9(0x1e8)][_0x37ccd9(0x5d7)]('processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-',async()=>_0x37ccd9(0x572)+await this[_0x37ccd9(0x920)]['getRoot']()+_0x37ccd9(0xa39)+this[_0x37ccd9(0x920)][_0x37ccd9(0x94d)]());}this[_0x37ccd9(0x3a9)]['logger'][_0x37ccd9(0x5d7)](_0x37ccd9(0x6cb)+this[_0x37ccd9(0xa86)]['length']+',\x20Transactions:\x20'+this[_0x37ccd9(0x6a8)]['length']),this[_0x37ccd9(0x6a8)]['push'](...this[_0x37ccd9(0xa86)]),this[_0x37ccd9(0xa86)]=[],this[_0x37ccd9(0x53c)]();}}async['logSyncMetrics'](){const _0x479e94=_0x677888;if(!_0x5bf0c2[_0x479e94(0x9b6)](_0x86d570[_0x479e94(0x9de)]))return;await this[_0x479e94(0x920)][_0x479e94(0x3c7)];const {dataSent:_0xd47575,dataReceived:_0x49583e}=this['loggingCycle'][_0x479e94(0x300)]();_0x5bf0c2['log'](_0x86d570['KeyValueDatabase'],_0x479e94(0x8d2),this['label'],_0x479e94(0x85b)+_0xd47575,_0x479e94(0x1d2)+_0x49583e,_0x479e94(0x389),await this[_0x479e94(0x920)][_0x479e94(0x3a6)](),_0x479e94(0x8ad),this[_0x479e94(0x920)][_0x479e94(0x94d)]());}async['logInitialMMR'](){const _0x253ab5=_0x677888;if(!_0x5bf0c2[_0x253ab5(0x9b6)](_0x86d570[_0x253ab5(0x9de)]))return;const _0x3da03c=this[_0x253ab5(0x920)][_0x253ab5(0x1d4)](),_0x1072d6=_0x3da03c[_0x253ab5(0x360)](_0x42285d=>_0x42285d['height']),_0x10f397=await this[_0x253ab5(0x920)][_0x253ab5(0x3a6)]();_0x5bf0c2['log'](_0x86d570[_0x253ab5(0x9de)],_0x253ab5(0x656),this['transactions']['length'],'transactions',this[_0x253ab5(0x920)][_0x253ab5(0x94d)](),_0x253ab5(0x84b),_0x3da03c['length'],_0x253ab5(0x3f6),_0x1072d6,'root\x20hash:\x20',_0x10f397);}}const _0x1376ec=require('@crewdle/mist-connector-opfs'),_0x5cbc4f=require('@crewdle/mist-connector-indexed-db'),_0x2dd2d1=require('@crewdle/mist-connector-webrtc-browser'),_0x400e86=0x10000000;var _0x4e1b28,_0x2a143c,_0x3ba04a,_0x1b2fd6,_0x15bf84,_0x1577f4,_0x50c54d,_0x21ab36,_0x2ca34d;!function(_0x17a2d2){const _0x36a1e8=_0x677888;_0x17a2d2['AudioContext']=_0x36a1e8(0x863),_0x17a2d2[_0x36a1e8(0x4dd)]=_0x36a1e8(0x4dd),_0x17a2d2[_0x36a1e8(0x1f5)]=_0x36a1e8(0x1f5),_0x17a2d2['Backgrounds']=_0x36a1e8(0x8e8),_0x17a2d2[_0x36a1e8(0x86f)]=_0x36a1e8(0x86f),_0x17a2d2[_0x36a1e8(0x2b0)]=_0x36a1e8(0x2b0),_0x17a2d2[_0x36a1e8(0x904)]='Recording',_0x17a2d2[_0x36a1e8(0x5d0)]='ScreenSharing',_0x17a2d2[_0x36a1e8(0x846)]=_0x36a1e8(0x846),_0x17a2d2[_0x36a1e8(0x7e7)]='WebRTC';}(_0x4e1b28||(_0x4e1b28={}));class _0x45df22{[_0x677888(0x1ca)];['bufferedEvents'];['eventTarget'];constructor(_0x4af7e2=new Map(),_0x144f80=new Map(),_0x2d52e3=new EventTarget()){const _0x445aef=_0x677888;this[_0x445aef(0x1ca)]=_0x4af7e2,this[_0x445aef(0x450)]=_0x144f80,this[_0x445aef(0x63d)]=_0x2d52e3;}[_0x677888(0x1af)]=(_0xfce174,_0xe1b2c8)=>this['registeredListeners'][_0x677888(0x26b)](_0xfce174)?(_0x5bf0c2[_0x677888(0x5d7)](_0x86d570[_0x677888(0xa79)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0xfce174,'data':_0xe1b2c8}),this[_0x677888(0x63d)]['dispatchEvent'](new CustomEvent(_0xfce174,{'detail':_0xe1b2c8})),!0x0):(this['bufferEvent'](_0xfce174,_0xe1b2c8),!0x1);['on']=(_0x55deb7,_0x2728b9)=>{const _0x209c2e=_0x677888,_0x367d51=_0x1f67ce=>{const _0xf04b5d=a0_0x5cc9;_0x5bf0c2[_0xf04b5d(0x5d7)](_0x86d570[_0xf04b5d(0xa79)],'Received\x20event\x20on\x20cluster',_0x1f67ce[_0xf04b5d(0xb0f)],_0x1f67ce[_0xf04b5d(0x2a9)]),_0x2728b9(_0x1f67ce[_0xf04b5d(0x2a9)]);};return this[_0x209c2e(0x1ca)][_0x209c2e(0x926)](_0x55deb7,_0x367d51),this[_0x209c2e(0x63d)]['addEventListener'](_0x55deb7,_0x367d51),_0x5bf0c2[_0x209c2e(0x5d7)](_0x86d570[_0x209c2e(0x3e2)],_0x209c2e(0x2fc),_0x55deb7,_0x2728b9),this[_0x209c2e(0x4c3)](_0x55deb7),this;};[_0x677888(0x4bf)](_0x2abbb2){const _0x1298d6=_0x677888;if(!_0x2abbb2)return this[_0x1298d6(0x1ca)][_0x1298d6(0x938)]((_0x20dcc0,_0x38b012)=>{const _0x836466=_0x1298d6;this[_0x836466(0x63d)][_0x836466(0xa7b)](_0x38b012,_0x20dcc0);}),void this[_0x1298d6(0x1ca)][_0x1298d6(0x99d)]();'string'==typeof _0x2abbb2&&this[_0x1298d6(0xa19)](_0x2abbb2),Array['isArray'](_0x2abbb2)&&_0x2abbb2[_0x1298d6(0x938)](_0x37ce89=>{const _0x38f2d7=_0x1298d6;this[_0x38f2d7(0xa19)](_0x37ce89);});}[_0x677888(0xa19)](_0x35a4e4){const _0x5c901c=_0x677888,_0x32b920=this[_0x5c901c(0x1ca)][_0x5c901c(0x8a1)](_0x35a4e4);_0x32b920&&(this['eventTarget'][_0x5c901c(0xa7b)](_0x35a4e4,_0x32b920),this[_0x5c901c(0x1ca)][_0x5c901c(0x60b)](_0x35a4e4));}[_0x677888(0x7a6)](_0x3d26ba,_0x2820f6){const _0x17ba9a=_0x677888;_0x5bf0c2[_0x17ba9a(0x5d7)](_0x86d570['Events'],_0x17ba9a(0xa08),{'event':_0x3d26ba,'data':_0x2820f6});const _0x29b87e=this[_0x17ba9a(0x450)][_0x17ba9a(0x8a1)](_0x3d26ba)||[];this[_0x17ba9a(0x450)][_0x17ba9a(0x926)](_0x3d26ba,[..._0x29b87e,_0x2820f6]);}[_0x677888(0x4c3)](_0x3cfba2){const _0x39feca=_0x677888,_0x577d34=this['bufferedEvents']['get'](_0x3cfba2);_0x577d34&&(_0x577d34[_0x39feca(0x938)](_0x8e8126=>{const _0x36197d=_0x39feca;_0x5bf0c2['log'](_0x86d570['Events'],'Consuming\x20buffered\x20event',{'event':_0x3cfba2,'data':_0x8e8126}),this[_0x36197d(0x63d)]['dispatchEvent'](new CustomEvent(_0x3cfba2,{'detail':_0x8e8126}));}),this[_0x39feca(0x450)]['delete'](_0x3cfba2));}}class _0x205f08 extends Error{constructor(_0x35f45b){const _0x157f3a=_0x677888;super(_0x157f3a(0x5a7)+_0x35f45b);}}!function(_0x2a845b){const _0x130c3f=_0x677888;_0x2a845b[_0x2a845b[_0x130c3f(0x56d)]=0x0]=_0x130c3f(0x56d),_0x2a845b[_0x2a845b[_0x130c3f(0x619)]=0x1]=_0x130c3f(0x619);}(_0x2a143c||(_0x2a143c={})),function(_0x618a31){const _0x241b28=_0x677888;_0x618a31[_0x618a31['Offer']=0x0]=_0x241b28(0x333),_0x618a31[_0x618a31[_0x241b28(0x5d1)]=0x1]='Answer',_0x618a31[_0x618a31['Handshake']=0x2]=_0x241b28(0x3c2),_0x618a31[_0x618a31['Success']=0x3]='Success',_0x618a31[_0x618a31[_0x241b28(0x439)]=0x4]=_0x241b28(0x439),_0x618a31[_0x618a31[_0x241b28(0x828)]=0x5]='Restart',_0x618a31[_0x618a31[_0x241b28(0xa0b)]=0x6]=_0x241b28(0xa0b),_0x618a31[_0x618a31[_0x241b28(0xa05)]=0x7]=_0x241b28(0xa05),_0x618a31[_0x618a31[_0x241b28(0x445)]=0x8]=_0x241b28(0x445);}(_0x3ba04a||(_0x3ba04a={})),function(_0x5b3612){const _0x1e4c56=_0x677888;_0x5b3612[_0x5b3612[_0x1e4c56(0x7dd)]=0x0]=_0x1e4c56(0x7dd),_0x5b3612[_0x5b3612['Receiver']=0x1]=_0x1e4c56(0x707);}(_0x1b2fd6||(_0x1b2fd6={})),function(_0x2637ed){const _0x50d000=_0x677888;_0x2637ed['MediaStream']=_0x50d000(0x820);}(_0x15bf84||(_0x15bf84={})),function(_0x45c0d3){const _0x219355=_0x677888;_0x45c0d3[_0x45c0d3[_0x219355(0x767)]=0x0]=_0x219355(0x767),_0x45c0d3[_0x45c0d3['NodeUpdate']=0x1]='NodeUpdate',_0x45c0d3[_0x45c0d3[_0x219355(0x2ff)]=0x2]=_0x219355(0x2ff),_0x45c0d3[_0x45c0d3['NodeLeave']=0x3]='NodeLeave';}(_0x1577f4||(_0x1577f4={})),function(_0x252c5c){const _0x481e93=_0x677888;_0x252c5c[_0x252c5c[_0x481e93(0x23c)]=0x0]=_0x481e93(0x23c),_0x252c5c[_0x252c5c[_0x481e93(0x8cf)]=0x1]=_0x481e93(0x8cf);}(_0x50c54d||(_0x50c54d={})),function(_0x3c6109){const _0x1708c9=_0x677888;_0x3c6109[_0x1708c9(0x7cc)]=_0x1708c9(0x761),_0x3c6109[_0x1708c9(0x7bc)]='downgrade';}(_0x21ab36||(_0x21ab36={})),function(_0x205a5b){const _0x13e6eb=_0x677888;_0x205a5b[_0x13e6eb(0x652)]=_0x13e6eb(0x70d),_0x205a5b['Bitrate']=_0x13e6eb(0x2d0);}(_0x2ca34d||(_0x2ca34d={}));const _0x24b0ec=require('aws-amplify'),_0x20e411=require('aws-amplify/utils'),_0x48517b=require('@aws-amplify/api'),_0x104508=require('@aws-amplify/core');class _0x7eda95{['clusterId'];[_0x677888(0xa36)];[_0x677888(0x588)];constructor(_0x4e2bde,_0x2d2f02,_0x42cc1f){const _0x99e0e2=_0x677888;this['clusterId']=_0x4e2bde,this[_0x99e0e2(0xa36)]=_0x2d2f02,this[_0x99e0e2(0x588)]=_0x42cc1f;}['getLocalId'](){const _0x5ae1b3=_0x677888;return this[_0x5ae1b3(0xa36)][_0x5ae1b3(0x48e)]();}['getRemoteId'](){const _0x5b421e=_0x677888;return this[_0x5b421e(0x588)];}}var _0x10adec,_0x3eaadf,_0x374938;function _0x4ee3b9(_0x5c425d,_0x5d9d35){return _0x5c425d['sourceId']===_0x5d9d35;}function _0x1cbb7f(_0x41d06f,_0x9f93ae){return _0x41d06f['destinationIds']?.['includes'](_0x9f93ae)??function(_0xd50ccb){const _0x714407=a0_0x5cc9;return void 0x0===_0xd50ccb[_0x714407(0x9f5)];}(_0x41d06f);}function _0x467126(_0x33d1b2,{contentType:_0x361638,label:_0x91412f,remoteId:_0x499fd1}){return _0x33d1b2+'-'+_0x361638+'-'+_0x91412f+'-'+_0x499fd1;}function _0x31c948(_0x2198a4,_0x24889f,_0x12f3d6){return''+_0x2198a4+_0x24889f+_0x12f3d6;}function _0x1e1a1b(_0x7a0af){const _0x8a9974=_0x677888;return _0x7a0af===_0x3eaadf['Incoming']?_0x8a9974(0x361):_0x8a9974(0xadb);}function _0x38bc1d(_0x326b2f,_0x182cd0){const _0x3f089d=_0x677888;return{'label':_0x326b2f['getInternalStreamId'](),'contentType':_0x326b2f['getContentType'](),'remoteId':_0x182cd0[_0x3f089d(0x7b7)](),'supportsContentType':_0x182cd0[_0x3f089d(0x9d7)]()[_0x3f089d(0xace)](_0x326b2f[_0x3f089d(0x5b3)]())};}!function(_0x541767){const _0xc5d501=_0x677888;_0x541767[_0x541767['Waiting']=0x0]=_0xc5d501(0x7a8),_0x541767[_0x541767[_0xc5d501(0x54f)]=0x1]=_0xc5d501(0x54f),_0x541767[_0x541767['Rejected']=0x2]=_0xc5d501(0x51d);}(_0x10adec||(_0x10adec={})),function(_0x3cda73){const _0x3f0163=_0x677888;_0x3cda73[_0x3f0163(0x4a5)]='in',_0x3cda73['Outgoing']=_0x3f0163(0x6bb);}(_0x3eaadf||(_0x3eaadf={}));class _0x23a9d0{[_0x677888(0x833)];['retryCallback'];constructor(_0x23baf9,_0x35ac94){const _0x17d6ee=_0x677888;this[_0x17d6ee(0x833)]=_0x23baf9,this[_0x17d6ee(0x442)]=_0x35ac94;}[_0x677888(0xa9e)](_0x5207f6){const _0x11d440=_0x677888;this[_0x11d440(0x833)](_0x5207f6);}async['wait'](){await this['retryCallback']();}}class _0x184684{[_0x677888(0x833)];[_0x677888(0x442)];constructor(_0x102c5a,_0x62bdf4){const _0x4b19e0=_0x677888;this[_0x4b19e0(0x833)]=_0x102c5a,this[_0x4b19e0(0x442)]=_0x62bdf4;}async[_0x677888(0xa9e)](_0x2e390b){const _0xef1caa=_0x677888;await this[_0xef1caa(0x833)](_0x2e390b);}async[_0x677888(0x201)](){const _0x1cbf9c=_0x677888;await this[_0x1cbf9c(0x442)]();}}function _0x1c299a(_0x231385=()=>{},_0x16a28b=()=>!0x1,_0x5f1f8f=()=>{}){let _0x285dfd,_0x51e595,_0x50e3e6=0x0;return{get 'size'(){return _0x50e3e6;},get 'head'(){return _0x285dfd;},get 'tail'(){return _0x51e595;},set 'head'(_0x4f04cc){_0x285dfd=_0x4f04cc;},set 'tail'(_0x379da6){_0x51e595=_0x379da6;},'push'(_0x3bacc1,_0xa71ce7=!0x0){const _0x452da2=a0_0x5cc9,_0x2584b5={'value':_0x3bacc1};_0xa71ce7&&_0x16a28b(_0x2584b5)?_0x231385():(_0x51e595&&(_0x2584b5[_0x452da2(0x339)]=_0x51e595,_0x51e595['next']=_0x2584b5),_0x51e595=_0x2584b5,_0x285dfd||(_0x285dfd=_0x2584b5),_0x50e3e6+=0x1,_0xa71ce7&&_0x231385());},'pop'(){const _0x4cbc90=a0_0x5cc9;if(!_0x51e595)return;const _0x4c4190=_0x51e595['value'];return _0x51e595=_0x51e595['previous'],_0x51e595&&delete _0x51e595[_0x4cbc90(0x291)],_0x51e595||(_0x285dfd=void 0x0),_0x50e3e6-=0x1,_0x4c4190;},'unshift'(_0x1df776,_0x3dcfbe=!0x0){const _0x12c887=a0_0x5cc9,_0x404b3f={'value':_0x1df776};_0x3dcfbe&&_0x16a28b(_0x404b3f)?_0x231385():(_0x285dfd&&(_0x285dfd[_0x12c887(0x339)]=_0x404b3f,_0x404b3f[_0x12c887(0x291)]=_0x285dfd),_0x285dfd=_0x404b3f,_0x51e595||(_0x51e595=_0x404b3f),_0x50e3e6+=0x1,_0x3dcfbe&&_0x231385());},'shift'(){const _0x3c6a16=a0_0x5cc9;if(!_0x285dfd)return;const _0x4599fa=_0x285dfd[_0x3c6a16(0x6fa)];return _0x285dfd=_0x285dfd[_0x3c6a16(0x291)],_0x285dfd&&delete _0x285dfd[_0x3c6a16(0x339)],_0x285dfd||(_0x51e595=void 0x0),_0x50e3e6-=0x1,_0x4599fa;},'clear'(){_0x5f1f8f(),_0x285dfd=void 0x0,_0x51e595=void 0x0,_0x50e3e6=0x0;}};}function _0x4e695b(_0x2c8885,_0x3985c9=!0x1,_0x4fcaff=()=>{},_0x2e45f8=()=>!0x1,_0x274b77=()=>{}){let _0xc2bce2=!0x1;const _0x1e2e63=_0x1c299a(async function(){const _0x434c95=a0_0x5cc9;if(!_0xc2bce2){for(_0xc2bce2=!0x0;_0x1e2e63['head'];){const _0x60dfaa=_0x1e2e63[_0x434c95(0x671)]();if(_0x60dfaa)try{_0x2c8885 instanceof _0x23a9d0&&_0x2c8885[_0x434c95(0xa9e)](_0x60dfaa),_0x2c8885 instanceof _0x184684&&await _0x2c8885[_0x434c95(0xa9e)](_0x60dfaa),_0x4fcaff(_0x60dfaa);}catch(_0x2fa5ad){_0x3985c9?_0x1e2e63[_0x434c95(0xa65)](_0x60dfaa,!0x1):_0x1e2e63[_0x434c95(0x89b)](_0x60dfaa,!0x1),await _0x2c8885[_0x434c95(0x201)]();}}_0xc2bce2=!0x1;}},_0x2e45f8,_0x274b77);return _0x1e2e63;}class _0x65fa02 extends _0x7eda95{['vendorId'];['authService'];[_0x677888(0xae7)]=_0x48517b[_0x677888(0x95b)][_0x677888(0x7c8)];[_0x677888(0x563)]=_0x11d010();[_0x677888(0x89a)]=_0x484270();[_0x677888(0x9bf)];[_0x677888(0x57e)];[_0x677888(0x54b)]=_0x4e695b(new _0x184684(this[_0x677888(0x706)]['bind'](this),this['waitConnected'][_0x677888(0x75d)](this)));[_0x677888(0x8c8)];constructor(_0x1c10a1,_0x17b4c6,_0x4dc208,_0x53af97,_0x344fab){const _0x2dff70=_0x677888;super(_0x17b4c6,_0x4dc208,_0x53af97),this[_0x2dff70(0x94e)]=_0x1c10a1,this[_0x2dff70(0xa5b)]=_0x344fab;}async[_0x677888(0x2c3)](){const _0x222f86=_0x677888;try{const _0x505300={'getTokens':async()=>{const _0x4d8181=a0_0x5cc9,_0x2418b5=await this['authService'][_0x4d8181(0x4cc)]();return{'accessToken':(0x0,_0x104508[_0x4d8181(0x4c6)])(_0x2418b5),'idToken':(0x0,_0x104508[_0x4d8181(0x4c6)])(_0x2418b5)};}};_0x24b0ec[_0x222f86(0x484)][_0x222f86(0x178)]({'API':{'GraphQL':{'endpoint':_0xd27c01[_0x222f86(0x43d)]['endpoint'],'region':_0xd27c01[_0x222f86(0x43d)][_0x222f86(0xaf4)],'defaultAuthMode':_0x222f86(0x29d)}}},{'Auth':{'tokenProvider':_0x505300}});const _0x11565e=(0x0,_0x48517b['generateClient'])();this[_0x222f86(0x8c8)]=_0x11565e,await this[_0x222f86(0x576)](),this['listenUnsubscriber']=_0x20e411[_0x222f86(0x415)][_0x222f86(0x7aa)](_0x222f86(0x317),async({payload:_0xb819f1})=>{const _0x10d60d=_0x222f86;if(_0xb819f1[_0x10d60d(0x5e6)]===_0x48517b['CONNECTION_STATE_CHANGE']){const _0x20f833=_0xb819f1[_0x10d60d(0x337)];this[_0x10d60d(0xae7)]=_0x20f833[_0x10d60d(0xae7)],this['connectionStateListener'][_0x10d60d(0x6c6)](_0x20f833['connectionState']),this[_0x10d60d(0xae7)]===_0x48517b[_0x10d60d(0x95b)]['Disconnected']?(_0x5bf0c2[_0x10d60d(0x487)](_0x10d60d(0x36f),{'clusterId':this[_0x10d60d(0x8a2)],'nodeId':this[_0x10d60d(0x297)](),'nodeType':this[_0x10d60d(0xa36)][_0x10d60d(0xb0f)]}),this['close'](),this[_0x10d60d(0x2c3)]()):this[_0x10d60d(0xae7)]===_0x48517b[_0x10d60d(0x95b)][_0x10d60d(0xb11)]?_0x5bf0c2[_0x10d60d(0xa38)](_0x10d60d(0x6ae),{'clusterId':this[_0x10d60d(0x8a2)],'nodeId':this[_0x10d60d(0x297)](),'nodeType':this[_0x10d60d(0xa36)]['type']}):_0x5bf0c2['warning'](_0x10d60d(0x6f1),{'clusterId':this[_0x10d60d(0x8a2)],'nodeId':this[_0x10d60d(0x297)](),'nodeType':this[_0x10d60d(0xa36)][_0x10d60d(0xb0f)],'data':{'state':_0x20f833[_0x10d60d(0xae7)]}});}});}catch(_0x7c9e22){_0x5bf0c2[_0x222f86(0x487)](_0x222f86(0x4cd),{'clusterId':this[_0x222f86(0x8a2)],'nodeId':this[_0x222f86(0x297)](),'nodeType':this[_0x222f86(0xa36)]['type']});}}['close'](){const _0x1a9f84=_0x677888;_0x5bf0c2[_0x1a9f84(0xa38)](_0x1a9f84(0x6ac),{'clusterId':this[_0x1a9f84(0x8a2)],'nodeId':this[_0x1a9f84(0x297)](),'nodeType':this[_0x1a9f84(0xa36)][_0x1a9f84(0xb0f)]}),this[_0x1a9f84(0x54b)]['clear'](),this[_0x1a9f84(0x57e)]?.(),this[_0x1a9f84(0x9bf)]?.[_0x1a9f84(0xa24)](),delete this[_0x1a9f84(0x9bf)];}[_0x677888(0x5bc)](){const _0x3bc8b9=_0x677888;return this[_0x3bc8b9(0xae7)]===_0x48517b['ConnectionState'][_0x3bc8b9(0xb11)];}[_0x677888(0x4c2)](_0x52237a){const _0x3c41c7=_0x677888;this[_0x3c41c7(0x54b)]['push'](_0x52237a);}[_0x677888(0x980)](_0x28c051){const _0x4ca27a=_0x677888;return this[_0x4ca27a(0x89a)][_0x4ca27a(0x576)](_0x28c051);}[_0x677888(0x9d7)](){const _0x393765=_0x677888;return[_0x1736bb[_0x393765(0xa3c)][_0x393765(0x5f5)]];}async[_0x677888(0x541)](){const _0x40d342=_0x677888;if(!this[_0x40d342(0x5bc)]())return new Promise(_0x352548=>{const _0xf92fab=_0x40d342,_0x47b5aa=this['connectionStateListener'][_0xf92fab(0x576)](_0xe14677=>{const _0x92aff1=_0xf92fab;_0xe14677===_0x48517b['ConnectionState'][_0x92aff1(0xb11)]&&(_0x47b5aa(),_0x352548());});});}async[_0x677888(0x706)](_0x13bab4){const _0x101f21=_0x677888;if(this['connectionState']!==_0x48517b[_0x101f21(0x95b)][_0x101f21(0xb11)])throw new Error(_0x101f21(0x88a));_0x13bab4[_0x101f21(0x9f5)]&&0x1===_0x13bab4[_0x101f21(0x9f5)][_0x101f21(0x8a9)]?await this[_0x101f21(0x6c6)](_0x13bab4[_0x101f21(0x9f5)][0x0],JSON[_0x101f21(0x247)](_0x13bab4)):_0x5bf0c2[_0x101f21(0x487)]('appsync-no-destination',{'clusterId':this[_0x101f21(0x8a2)],'nodeId':this[_0x101f21(0x297)](),'nodeType':this['localNode'][_0x101f21(0xb0f)]});}async[_0x677888(0x6c6)](_0x4711b2,_0x41d6ef){const _0x391057=_0x677888;if(!this[_0x391057(0x8c8)])throw new Error(_0x391057(0x776));_0x5bf0c2[_0x391057(0x5d7)](_0x86d570['Signaling'],'AppSync\x20publish',this['getLocalId'](),_0x41d6ef),await this['client']['graphql']({'query':_0x391057(0xa5f),'variables':{'name':await this[_0x391057(0x282)](_0x4711b2),'data':_0x41d6ef}});}async[_0x677888(0x576)](){const _0x53e2be=_0x677888;if(this[_0x53e2be(0x9bf)])return;if(!this[_0x53e2be(0x8c8)])throw new Error('AppSync\x20client\x20not\x20ready');_0x5bf0c2['log'](_0x86d570['Signaling'],_0x53e2be(0x280),this[_0x53e2be(0x297)]());const _0x503fea=await this['client'][_0x53e2be(0x254)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this['getHash']()},'authToken':await this[_0x53e2be(0xa5b)][_0x53e2be(0x4cc)]()},{'Authorization':await this['authService']['getIdToken']()});this[_0x53e2be(0x9bf)]=_0x503fea['subscribe']({'next':({data:_0x59f63e})=>{const _0x2c2728=_0x53e2be,_0x2fadd0=JSON[_0x2c2728(0xa5d)](_0x59f63e['subscribe'][_0x2c2728(0x337)]);!_0x4ee3b9(_0x2fadd0,this['getLocalId']())&&_0x1cbb7f(_0x2fadd0,this[_0x2c2728(0x297)]())&&this[_0x2c2728(0x89a)][_0x2c2728(0x6c6)](_0x2fadd0);},'error':console[_0x53e2be(0x5d7)]});}async['getHash'](_0x13aadf){const _0x186f70=_0x677888,_0x3db1c2=await crypto[_0x186f70(0xb1a)][_0x186f70(0xa10)](_0x186f70(0xaa7),new TextEncoder()[_0x186f70(0xa02)](this['vendorId']+'-'+this[_0x186f70(0x8a2)]+'-'+(_0x13aadf??this[_0x186f70(0x297)]())));return Array[_0x186f70(0x3fd)](new Uint8Array(_0x3db1c2))[_0x186f70(0x360)](_0x2e6212=>_0x2e6212[_0x186f70(0x8d8)](0x10)[_0x186f70(0x849)](0x2,'0'))[_0x186f70(0x729)]('');}}!function(_0x39744d){const _0x5046b3=_0x677888;_0x39744d[_0x39744d[_0x5046b3(0x29e)]=0x0]=_0x5046b3(0x29e),_0x39744d[_0x39744d[_0x5046b3(0x3c3)]=0x1]=_0x5046b3(0x3c3),_0x39744d[_0x39744d[_0x5046b3(0x77f)]=0x2]=_0x5046b3(0x77f),_0x39744d[_0x39744d[_0x5046b3(0x669)]=0x3]=_0x5046b3(0x669),_0x39744d[_0x39744d['RemoteRemove']=0x4]=_0x5046b3(0x5c8);}(_0x374938||(_0x374938={}));const _0xf1d7d4='0',_0x148e9e=_0x677888(0xa55),_0x24b902=_0x16c951,_0x5b363a=0x60000;class _0x375f94{['clusterId'];[_0x677888(0xa36)];[_0x677888(0x588)];['iceServers'];[_0x677888(0x4f9)];['connectionConstructor'];[_0x677888(0xa41)];[_0x677888(0xa52)];[_0x677888(0x186)]=0x1;[_0x677888(0x36c)];['handshakeCandidates']=[];[_0x677888(0x827)]=[];[_0x677888(0x855)];constructor(_0x450147,_0x50b02f,_0x446779,_0x459754,_0x55622e,_0x1f6ec3){const _0x41cdf5=_0x677888;this[_0x41cdf5(0x8a2)]=_0x450147,this[_0x41cdf5(0xa36)]=_0x50b02f,this[_0x41cdf5(0x588)]=_0x446779,this[_0x41cdf5(0xb20)]=_0x459754,this[_0x41cdf5(0x4f9)]=_0x55622e,this[_0x41cdf5(0x20b)]=_0x1f6ec3,this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x41cdf5(0xb20)]}),this[_0x41cdf5(0x286)]();}['close'](){this['stopConnection']();}[_0x677888(0x24f)](_0x2e5547){this['connectionType']=_0x2e5547;}async['handleHandshake'](_0x2e1411,_0x33855c){const _0x1ad927=_0x677888;if(_0x33855c===this[_0x1ad927(0x186)])for(const _0x4bfc83 of _0x2e1411){if(!this[_0x1ad927(0xa41)]['canAddCandidates'])return this[_0x1ad927(0x204)](_0x4bfc83);try{await this[_0x1ad927(0xa41)][_0x1ad927(0x57b)](_0x4bfc83);}catch(_0x58aced){this[_0x1ad927(0x204)](_0x4bfc83);}}}[_0x677888(0x5bc)](){const _0xc0e676=_0x677888;return this['logConnectionState'](),'connected'===this[_0xc0e676(0xa41)][_0xc0e676(0xae7)]&&[_0xc0e676(0x536),_0xc0e676(0x179)][_0xc0e676(0xace)](this['connection']['handshakeState'])&&_0xc0e676(0x98f)!==this[_0xc0e676(0xa41)][_0xc0e676(0x47a)]&&_0xc0e676(0xacb)===this[_0xc0e676(0xa52)]?.[_0xc0e676(0x393)];}[_0x677888(0xaf0)](_0x3a69e9){const _0x186470=_0x677888;this[_0x186470(0x36c)]=_0x3a69e9;}[_0x677888(0x4dc)](){delete this['systemTopic'];}[_0x677888(0x899)](_0x51edbb){const _0x360460=_0x677888;this['stopConnection'](),this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x360460(0xb20)]}),_0x51edbb?this['currentVersion']=_0x51edbb:this['currentVersion']+=0x1,this[_0x360460(0x286)]();}[_0x677888(0x74c)](){const _0x1a9a9c=_0x677888;this[_0x1a9a9c(0x827)]['forEach'](_0x2a1b60=>{const _0x5e6d30=_0x1a9a9c;try{this[_0x5e6d30(0xa41)][_0x5e6d30(0x57b)](_0x2a1b60);}catch(_0x3a1ddf){}}),this[_0x1a9a9c(0x827)]=[];}[_0x677888(0x428)](_0x103e15,_0x3526a7){const _0x3a1d4b=_0x677888;if(!this[_0x3a1d4b(0x36c)])throw new _0x4dab04(_0x4dab04['codes'][_0x3a1d4b(0x621)],{'content':_0x103e15});const _0x54ab7c={'sourceId':this[_0x3a1d4b(0xa36)][_0x3a1d4b(0x48e)](),'destinationIds':[this['remoteId']],'propagate':this[_0x3a1d4b(0x4f9)]!==_0x2a143c[_0x3a1d4b(0x56d)],'retry':this[_0x3a1d4b(0x4f9)]!==_0x2a143c[_0x3a1d4b(0x56d)],'messageType':_0x59623a[_0x3a1d4b(0x46b)],'content':_0x103e15};_0x3526a7&&(_0x54ab7c['uuid']=_0x3526a7),this[_0x3a1d4b(0x36c)][_0x3a1d4b(0x6c6)](_0x54ab7c);}['setupConnectionEvents'](){const _0x174108=_0x677888;this[_0x174108(0xa41)]['onGatheringStateChange']=()=>{const _0x41eb9f=_0x174108;_0x41eb9f(0xacf)===this[_0x41eb9f(0xa41)]['gatheringState']&&this[_0x41eb9f(0x72a)][_0x41eb9f(0x8a9)]>0x0&&(this[_0x41eb9f(0x855)]&&clearTimeout(this[_0x41eb9f(0x855)]),this[_0x41eb9f(0x855)]=setTimeout(()=>{const _0xd59d83=_0x41eb9f;delete this['handshakeDebounce'],this[_0xd59d83(0x581)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x174108(0xa41)][_0x174108(0x17f)]=_0x39e242=>{const _0xd42c79=_0x174108;_0x39e242['candidate']&&this[_0xd42c79(0x72a)][_0xd42c79(0xa65)](_0x39e242[_0xd42c79(0xaed)]);};}[_0x677888(0xa51)](){const _0x584f5f=_0x677888;clearTimeout(this['handshakeDebounce']),delete this['handshakeDebounce'],this[_0x584f5f(0x72a)]=[],this[_0x584f5f(0x827)]=[],this[_0x584f5f(0xa52)]&&(this[_0x584f5f(0xa52)][_0x584f5f(0x980)]=null,this[_0x584f5f(0xa52)][_0x584f5f(0x382)]=null,this['dataChannel'][_0x584f5f(0x7ed)](),delete this['dataChannel']),this[_0x584f5f(0xa41)]['onGatheringStateChange']=null,this[_0x584f5f(0xa41)][_0x584f5f(0x17f)]=null,this[_0x584f5f(0xa41)]['onHandshakeStateChange']=null,this[_0x584f5f(0xa41)][_0x584f5f(0xaf8)]=null,this[_0x584f5f(0xa41)][_0x584f5f(0xb01)]=null,this[_0x584f5f(0xa41)][_0x584f5f(0x62c)]=null,this[_0x584f5f(0xa41)][_0x584f5f(0x7ed)]();}[_0x677888(0x204)](_0x41dfa7){const _0x16f4ab=_0x677888;this[_0x16f4ab(0x827)]['push'](_0x41dfa7);}[_0x677888(0x7dc)](){const _0x328ce7=_0x677888;_0x5bf0c2[_0x328ce7(0x5d7)](_0x86d570[_0x328ce7(0x95b)],_0x328ce7(0x80c),{'localId':this['localNode']['getId'](),'remoteId':this['remoteId'],'connectionState':this[_0x328ce7(0xa41)][_0x328ce7(0xae7)],'handshakeState':this['connection'][_0x328ce7(0x48a)],'signalingState':this[_0x328ce7(0xa41)][_0x328ce7(0x47a)],'dataChannelState':this[_0x328ce7(0xa52)]?.[_0x328ce7(0x393)]});}}function _0x4ca1c3(_0x5c653c,_0x27a7bf){const _0x338646=_0x677888;_0x27a7bf[_0x338646(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x338646(0x46b)],'content':_0x5c653c});}class _0x1c0218{static [_0x677888(0xb02)];['parameters']=[];['source'];constructor(){setInterval(()=>{const _0x20a4cf=a0_0x5cc9;this['parameters'][_0x20a4cf(0x938)](_0x42831c=>{const _0x6c5e91=_0x20a4cf;if(Date['now']()-_0x42831c[_0x6c5e91(0x9e5)]>_0x42831c[_0x6c5e91(0x2da)]){try{_0x42831c[_0x6c5e91(0x833)]();}catch(_0x24d7b5){}_0x42831c[_0x6c5e91(0x9e5)]=Date['now']();}});},0x64);}static[_0x677888(0xb0c)](){const _0x1c002d=_0x677888;return _0x1c0218[_0x1c002d(0xb02)]||(_0x1c0218[_0x1c002d(0xb02)]=new _0x1c0218()),_0x1c0218[_0x1c002d(0xb02)];}[_0x677888(0x62e)](_0xeedb86){const _0x13f325=_0x677888,_0x3a4120=this['createConstantSource'](_0xeedb86),_0x23f0bc=_0xeedb86[_0x13f325(0x30e)]();_0x23f0bc&&_0x3a4120&&(_0x23f0bc[_0x13f325(0xa2c)][_0x13f325(0x6fa)]=0.001,_0x3a4120[_0x13f325(0x2c3)](_0x23f0bc),_0x23f0bc[_0x13f325(0x2c3)](_0xeedb86[_0x13f325(0x189)]),_0x3a4120[_0x13f325(0x234)]());}['stopNoThrottlingHack'](){const _0x23b4db=_0x677888;this[_0x23b4db(0x79c)]&&(this[_0x23b4db(0x79c)][_0x23b4db(0x6a4)](),this[_0x23b4db(0x79c)]['disconnect'](),this[_0x23b4db(0x79c)]=void 0x0);}[_0x677888(0x201)](_0x13d057){return new Promise(_0x31a4ed=>{setTimeout(_0x31a4ed,_0x13d057);});}[_0x677888(0x96d)](_0x1f1393,_0x429fdf){const _0x7b759d=_0x677888;return this[_0x7b759d(0x7e1)]['push']({'callback':_0x1f1393,'interval':_0x429fdf,'lastExecuted':Date[_0x7b759d(0x9bd)]()}),()=>{const _0x7dff23=_0x7b759d;this[_0x7dff23(0x7e1)]=this[_0x7dff23(0x7e1)][_0x7dff23(0x3cc)](_0x34f516=>_0x34f516[_0x7dff23(0x833)]!==_0x1f1393);};}[_0x677888(0x50e)](_0x23ae32){const _0x516187=_0x677888;if(_0x23ae32[_0x516187(0x50e)])return _0x23ae32[_0x516187(0x50e)]();const _0x27f204=_0x23ae32[_0x516187(0x2ea)](),_0x3e80c0=_0x23ae32[_0x516187(0x4ef)](0x1,0x1,_0x23ae32[_0x516187(0xac9)]);return _0x3e80c0[_0x516187(0x7a1)](0x0)[0x0]=0xa,_0x27f204[_0x516187(0x28f)]=_0x3e80c0,_0x27f204[_0x516187(0x447)]=!0x0,_0x27f204;}}const _0x450481=_0x1c0218['getInstance']();class _0x558e8e extends _0x375f94{[_0x677888(0x84f)]=_0x11d010();[_0x677888(0x752)]=_0x11d010();[_0x677888(0x7be)]=_0x11d010();[_0x677888(0x48c)]=new Map();[_0x677888(0x362)]=new Map();['waitSuccess'];['messagesReceived']=0x0;[_0x677888(0x489)]={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x677888(0x375)]=0x0;['loggingCycle']=_0x597206('ReceiverPeerConnection.onMessage',_0x86d570['ReceiverOnMessage']);[_0x677888(0x7ed)](){const _0x53682f=_0x677888;this[_0x53682f(0x1e0)](),this[_0x53682f(0x48c)][_0x53682f(0x99d)](),super['close']();}async[_0x677888(0x5d3)](_0x40b6d9,_0x205de4){const _0x5ee990=_0x677888;this[_0x5ee990(0x186)]=_0x205de4,this['clearWaitSuccess']();const _0x4875ba=await this[_0x5ee990(0xa41)][_0x5ee990(0x331)](_0x40b6d9);this[_0x5ee990(0x74c)]();const _0x409ae3=(0x0,_0x1514a8['v4'])();this[_0x5ee990(0x428)]({'type':_0x3ba04a['Answer'],'answer':_0x4875ba,'version':_0x205de4,'connectionType':this['connectionType']},_0x409ae3),this[_0x5ee990(0x4f9)]===_0x2a143c['Core']&&(this[_0x5ee990(0x695)]=_0x450481['setInterval'](()=>{const _0x403672=_0x5ee990;this['publishSystemMessage']({'type':_0x3ba04a[_0x403672(0x5d1)],'answer':_0x4875ba,'version':_0x205de4,'connectionType':this[_0x403672(0x4f9)]},_0x409ae3);},0x1388));}[_0x677888(0x334)](){const _0x5c6f7d=_0x677888;this[_0x5c6f7d(0x1e0)]();}['handleNeedRestart'](_0x3db7f7){const _0x35d1f5=_0x677888;this[_0x35d1f5(0x899)](_0x3db7f7),this[_0x35d1f5(0x428)]({'type':_0x3ba04a[_0x35d1f5(0x828)]});}async[_0x677888(0x989)](){const _0x4037b4=_0x677888;this['systemTopic']&&(await this[_0x4037b4(0xa41)][_0x4037b4(0x240)](this[_0x4037b4(0x48c)],(_0x303360,_0x26069d)=>{const _0x3d7505=_0x4037b4;_0x4ca1c3({'type':_0x3ba04a['Stats'],'streamId':_0x26069d,'nodeId':this[_0x3d7505(0x588)],'stats':_0x303360},this[_0x3d7505(0x36c)]);}),this[_0x4037b4(0x36c)][_0x4037b4(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x4037b4(0x46b)],'content':{'type':_0x3ba04a[_0x4037b4(0xa05)],'nodeId':this[_0x4037b4(0x588)],'stats':{'origin':_0x1b2fd6[_0x4037b4(0x707)],'timestamp':Date[_0x4037b4(0x9bd)](),'messagesReceived':this[_0x4037b4(0x930)],'bytesReceived':this['bytesReceived'],'timeReceiving':this['timeReceiving'],'systemMessages':this['systemMessagesReceived']}}}));}[_0x677888(0x980)](_0x248a8e){const _0x1f7f7d=_0x677888;return _0xd27c01[_0x1f7f7d(0x870)]?this[_0x1f7f7d(0x84f)][_0x1f7f7d(0x576)](_0x248a8e):this[_0x1f7f7d(0x84f)][_0x1f7f7d(0x576)](_0x53874f=>{const _0x323ede=_0x1f7f7d;0x0===_0x53874f['topicLabel']&&_0x53874f[_0x323ede(0x343)]===_0x59623a['Content']&&this[_0x323ede(0x3a9)]['logger'][_0x323ede(0x5d7)](_0x323ede(0x20a)+this[_0x323ede(0x588)],()=>_0x67b4a2(_0x53874f)),_0x248a8e(_0x53874f);});}[_0x677888(0xb01)](_0x3c7c50){const _0xf713f7=_0x677888;return this['trackCallback'][_0xf713f7(0x576)](({track:_0x1bac39,stream:_0x811dd4})=>_0x3c7c50(_0x1bac39,_0x811dd4));}[_0x677888(0x24c)](_0x13a5eb){const _0xa81311=_0x677888;return this[_0xa81311(0x7be)][_0xa81311(0x576)](({track:_0x1f5c78,stream:_0x903426})=>_0x13a5eb(_0x1f5c78,_0x903426));}[_0x677888(0x899)](_0xcd8232){const _0x3e00f2=_0x677888;this['clearWaitSuccess'](),this[_0x3e00f2(0x48c)]['forEach'](_0x5092ac=>{const _0x411751=_0x3e00f2;_0x5092ac[_0x411751(0x99d)]();}),super[_0x3e00f2(0x899)](_0xcd8232);}['sendIceCandidates'](){const _0x42e724=_0x677888;this[_0x42e724(0x428)]({'type':_0x3ba04a['Handshake'],'candidates':this[_0x42e724(0x72a)],'origin':_0x1b2fd6[_0x42e724(0x707)],'version':this['currentVersion'],'connectionType':this[_0x42e724(0x4f9)]});}[_0x677888(0x286)](){const _0x3ba617=_0x677888;super[_0x3ba617(0x286)](),this[_0x3ba617(0xa41)][_0x3ba617(0xb01)]=_0x474e45=>{const _0xfcaf1b=_0x3ba617;_0x5bf0c2['log'](_0x86d570[_0xfcaf1b(0x640)],_0xfcaf1b(0x5cc),this[_0xfcaf1b(0xa36)]['getId'](),_0x474e45),_0x474e45[_0xfcaf1b(0xa96)][0x0][_0xfcaf1b(0x70c)]=_0x5e4568=>{const _0x4afdd0=_0xfcaf1b;this[_0x4afdd0(0x48c)][_0x4afdd0(0x8a1)](_0x474e45[_0x4afdd0(0xa96)][0x0]['id'])?.['delete'](_0x5e4568[_0x4afdd0(0x940)]),0x0===this[_0x4afdd0(0x48c)][_0x4afdd0(0x8a1)](_0x474e45[_0x4afdd0(0xa96)][0x0]['id'])?.[_0x4afdd0(0x22b)]&&this[_0x4afdd0(0x48c)][_0x4afdd0(0x60b)](_0x474e45[_0x4afdd0(0xa96)][0x0]['id']),this[_0x4afdd0(0x7be)][_0x4afdd0(0x6c6)]({'track':_0x5e4568[_0x4afdd0(0x940)],'stream':_0x474e45[_0x4afdd0(0xa96)][0x0]});},this[_0xfcaf1b(0x48c)][_0xfcaf1b(0x26b)](_0x474e45['streams'][0x0]['id'])||this['receivers'][_0xfcaf1b(0x926)](_0x474e45[_0xfcaf1b(0xa96)][0x0]['id'],new Set()),this[_0xfcaf1b(0x48c)][_0xfcaf1b(0x8a1)](_0x474e45[_0xfcaf1b(0xa96)][0x0]['id'])['add'](_0x474e45[_0xfcaf1b(0x940)]),this[_0xfcaf1b(0x752)][_0xfcaf1b(0x6c6)]({'track':_0x474e45[_0xfcaf1b(0x940)],'stream':_0x474e45[_0xfcaf1b(0xa96)][0x0]});},this['connection'][_0x3ba617(0x62c)]=_0x3b4cdf=>{const _0x94ad45=_0x3ba617;this['dataChannel']=_0x3b4cdf[_0x94ad45(0x59e)],this[_0x94ad45(0xa52)]['onMessage']=_0x333b9e=>{const _0x5a5a65=_0x94ad45;if(_0x333b9e[_0x5a5a65(0x337)]!==_0xf1d7d4)this[_0x5a5a65(0xa9f)](_0x333b9e['data']);else{if(!this['dataChannel'])return void _0x5bf0c2[_0x5a5a65(0x487)]('missing-datachannel',{'clusterId':this[_0x5a5a65(0x8a2)],'nodeId':this['localNode'][_0x5a5a65(0x48e)](),'nodeType':this['localNode']['type'],'remoteId':this['remoteId'],'data':{'connection':_0x5a5a65(0x562)}});if('open'!==this[_0x5a5a65(0xa52)][_0x5a5a65(0x393)])return;this['dataChannel'][_0x5a5a65(0x4c2)]('1');}};};}['handleOnMessage'](_0x4f5b30){const _0xba2e93=_0x677888;if(_0xba2e93(0x435)==typeof _0x4f5b30&&_0x4f5b30[_0xba2e93(0x2f5)](_0x148e9e))return this['messagesReceived']+=0x1,this[_0xba2e93(0x697)]+=_0x4f5b30['length'],this[_0xba2e93(0x458)](_0x4f5b30);setTimeout(()=>{const _0x3356c5=_0xba2e93,_0xcc6a5d=Date[_0x3356c5(0x9bd)]();let _0x490844;if((_0x4f5b30 instanceof ArrayBuffer||_0x4f5b30['length']<=_0x24b902)&&(this[_0x3356c5(0x930)]+=0x1,this[_0x3356c5(0x697)]+=_0x4f5b30 instanceof ArrayBuffer?_0x4f5b30[_0x3356c5(0x2f4)]:_0x4f5b30[_0x3356c5(0x8a9)]),_0x4f5b30 instanceof ArrayBuffer){const [_0x4be9d5,_0x3faf94]=this[_0x3356c5(0x3ce)](_0x4f5b30);_0x490844=_0x4be9d5,_0x490844['content'][_0x3356c5(0x337)]=_0x3faf94;}else _0x490844=JSON[_0x3356c5(0xa5d)](_0x4f5b30);if(0x0===_0x490844[_0x3356c5(0x822)]){this[_0x3356c5(0x489)]['messages'][_0x3356c5(0x85d)]+=0x1;const {systemMessageType:_0x3b6292,systemContentMessageType:_0x48a2cd}=_0x67b4a2(_0x490844);this[_0x3356c5(0x489)][_0x3b6292]||(this['systemMessagesReceived'][_0x3b6292]={[_0x48a2cd]:0x0}),this['systemMessagesReceived'][_0x3b6292][_0x48a2cd]||(this[_0x3356c5(0x489)][_0x3b6292][_0x48a2cd]=0x0),this[_0x3356c5(0x489)][_0x3b6292][_0x3356c5(0x85d)]||(this[_0x3356c5(0x489)][_0x3b6292][_0x3356c5(0x85d)]=0x0),this[_0x3356c5(0x489)][_0x3b6292][_0x48a2cd]+=0x1,this[_0x3356c5(0x489)][_0x3b6292]['total']+=0x1;}this[_0x3356c5(0x84f)][_0x3356c5(0x6c6)](_0x490844),this['timeReceiving']+=Date[_0x3356c5(0x9bd)]()-_0xcc6a5d;},0x0);}[_0x677888(0x458)](_0x42f598){const _0x41cecb=_0x677888,_0x132470=_0x42f598[_0x41cecb(0xad8)](';'),_0x2589b0=_0x132470[0x1],_0x23952f=parseInt(_0x132470[0x2],0xa),_0x2db7cf=parseInt(_0x132470[0x3],0xa),_0xdbe4e=_0x42f598[_0x41cecb(0x267)](_0x148e9e+';'+_0x2589b0+';'+_0x23952f+';'+_0x2db7cf+';','');this[_0x41cecb(0x362)][_0x41cecb(0x26b)](_0x2589b0)||this['chunks'][_0x41cecb(0x926)](_0x2589b0,[]);const _0x138434=this[_0x41cecb(0x362)][_0x41cecb(0x8a1)](_0x2589b0);_0x138434[_0x23952f]=_0xdbe4e,_0x138434[_0x41cecb(0x8a9)]===_0x2db7cf&&(this[_0x41cecb(0xa9f)](_0x138434[_0x41cecb(0x729)]('')),this[_0x41cecb(0x362)][_0x41cecb(0x60b)](_0x2589b0));}[_0x677888(0x1e0)](){const _0x599bac=_0x677888;this[_0x599bac(0x695)]?.(),delete this[_0x599bac(0x695)];}[_0x677888(0x8e5)](_0x208725){const _0x393a30=_0x677888,_0x5225d0=new TextDecoder()[_0x393a30(0x811)](_0x208725);return JSON[_0x393a30(0xa5d)](_0x5225d0);}[_0x677888(0x3ce)](_0x46ebfa){const _0x430dce=_0x677888,_0x29140d=new Uint8Array(_0x46ebfa['slice'](0x0,0x4)),_0xeb218=new Uint32Array(_0x29140d[_0x430dce(0x28f)])[0x0],_0x823e30=new Uint8Array(_0x46ebfa[_0x430dce(0x83f)](0x4,0x4+_0xeb218)),_0x2d6e82=new Uint8Array(_0x46ebfa[_0x430dce(0x83f)](0x4+_0xeb218));return[this[_0x430dce(0x8e5)](_0x823e30[_0x430dce(0x28f)]),_0x2d6e82['buffer']];}}const _0x519220=0xc350;var _0x3a8363,_0x1f2399;!function(_0x34a263){const _0x364f56=_0x677888;_0x34a263[_0x34a263['High']=0x0]='High',_0x34a263[_0x34a263[_0x364f56(0x29a)]=0x1]='Medium',_0x34a263[_0x34a263[_0x364f56(0xa90)]=0x2]=_0x364f56(0xa90);}(_0x3a8363||(_0x3a8363={}));class _0x3f2273 extends _0x375f94{[_0x677888(0x31c)];[_0x677888(0xafd)];[_0x677888(0x1bf)]=new Map();[_0x677888(0x6d7)];[_0x677888(0x624)];[_0x677888(0x224)];[_0x677888(0x1e1)]=!0x1;[_0x677888(0x55f)];[_0x677888(0x7da)];[_0x677888(0x7d6)];['retryQueue']=function(e,t=_0x3a8363,s=!0x1){const _0x15bd9f=_0x677888;let n=!0x1;const i=[];async function o(){const _0x88939=a0_0x5cc9;if(!n){for(n=!0x0;i[_0x88939(0x591)](e=>e['head']);){let t,n=0x0;for(const [e,s]of i[_0x88939(0x3a0)]())if(t=s[_0x88939(0x671)](),n=e,t)break;if(t)try{if(e instanceof _0x23a9d0&&e[_0x88939(0xa9e)](t),e instanceof _0x184684&&await e[_0x88939(0xa9e)](t),i[_0x88939(0x83f)](-0x1)[_0x88939(0x591)](e=>e['head']))continue;const s=i[_0x88939(0x8a9)]-0x1;n===s&&i[s][_0x88939(0x2c1)]&&await _0x450481[_0x88939(0x201)](0x0);}catch(o){s?i[n][_0x88939(0xa65)](t,!0x1):i[n][_0x88939(0x89b)](t,!0x1),await e[_0x88939(0x201)]();}}n=!0x1;}}return Object[_0x15bd9f(0x9c3)](t)[_0x15bd9f(0x938)](e=>{const _0xba458b=_0x15bd9f;_0xba458b(0x435)!=typeof e&&(i[e]=_0x1c299a(o));}),{'queues':i};}(new _0x23a9d0(this['sendAction']['bind'](this),this[_0x677888(0x8a3)][_0x677888(0x75d)](this)));[_0x677888(0xab5)]=0x0;[_0x677888(0xa13)]=0x0;[_0x677888(0x571)]=0x0;['roundTripTime']=0x0;['oncloseTimeout'];[_0x677888(0x3a9)]=_0x597206(_0x677888(0x321),_0x86d570[_0x677888(0xaf7)]);constructor(_0x4434ee,_0x154950,_0x14b980,_0x210b86,_0x268340,_0x578736,_0x1b13a2,_0x28d70c){const _0x34d37a=_0x677888;super(_0x4434ee,_0x154950,_0x14b980,_0x210b86,_0x268340,_0x28d70c),this[_0x34d37a(0x31c)]=_0x578736,this[_0x34d37a(0xafd)]=_0x1b13a2;}['close'](){const _0x5d6cd0=_0x677888;this[_0x5d6cd0(0x3cf)](),this[_0x5d6cd0(0x642)](),delete this[_0x5d6cd0(0x224)],this[_0x5d6cd0(0x508)](),this[_0x5d6cd0(0x8aa)](),this['clearWaitAnswer'](),this[_0x5d6cd0(0x1bf)][_0x5d6cd0(0x99d)](),this[_0x5d6cd0(0x1e1)]=!0x1,this[_0x5d6cd0(0x54b)][_0x5d6cd0(0x381)][_0x5d6cd0(0x938)](_0x2d3d13=>_0x2d3d13['clear']()),this[_0x5d6cd0(0x771)](),super[_0x5d6cd0(0x7ed)]();}['isConnected'](){const _0x371510=_0x677888;return!!this[_0x371510(0x224)]&&super[_0x371510(0x5bc)]()&&Date[_0x371510(0x9bd)]()-this[_0x371510(0x224)]<0x3a98;}async['collectStats'](){const _0x25c60d=_0x677888;this[_0x25c60d(0x36c)]&&(await this[_0x25c60d(0xa41)]['collectSendersStats'](this[_0x25c60d(0x1bf)],(_0x1c9bc5,_0x1f4170)=>{const _0x377bcb=_0x25c60d;_0x4ca1c3({'type':_0x3ba04a['Stats'],'streamId':_0x1f4170,'nodeId':this[_0x377bcb(0x588)],'stats':_0x1c9bc5},this[_0x377bcb(0x36c)]);}),this[_0x25c60d(0x36c)][_0x25c60d(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a['PeerConnection'],'content':{'type':_0x3ba04a['Stats'],'nodeId':this[_0x25c60d(0x588)],'stats':{'origin':_0x1b2fd6['Sender'],'timestamp':Date[_0x25c60d(0x9bd)](),'messagesSent':this[_0x25c60d(0xab5)],'bytesSent':this[_0x25c60d(0xa13)],'timeSending':this['timeSending'],'roundTripTime':this['roundTripTime']}}}));}async['createOffer'](_0xb19eb2){const _0x57917c=_0x677888;_0x5bf0c2[_0x57917c(0x5d7)](_0x86d570['Connection'],_0x57917c(0x466),this[_0x57917c(0xa36)][_0x57917c(0x48e)](),this[_0x57917c(0x588)]),this[_0x57917c(0x508)](),this[_0x57917c(0x8aa)](),this[_0x57917c(0x5e2)](),this[_0x57917c(0x55f)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this['dataChannel']||(this[_0x57917c(0xa52)]=this[_0x57917c(0xa41)][_0x57917c(0x96c)](_0x57917c(0x337)),this[_0x57917c(0xa52)][_0x57917c(0x1c9)]=_0x5b363a,this['dataChannel'][_0x57917c(0x382)]=()=>{const _0xd8ea47=_0x57917c;this[_0xd8ea47(0x7cf)]=setTimeout(()=>{const _0x25c621=_0xd8ea47;delete this[_0x25c621(0x7cf)],[_0x25c621(0x313),_0x25c621(0xacb)][_0x25c621(0xace)](this[_0x25c621(0xa52)]?.['state']??'')||this[_0x25c621(0x942)]();},0xfa);});const _0x4fb9ca=await this[_0x57917c(0xa41)][_0x57917c(0x549)](_0xb19eb2);this[_0x57917c(0x224)]||(this[_0x57917c(0x224)]=Date[_0x57917c(0x9bd)]());const _0x516243=(0x0,_0x1514a8['v4'])();this[_0x57917c(0x428)]({'type':_0x3ba04a[_0x57917c(0x333)],'offer':_0x4fb9ca,'version':this['currentVersion'],'connectionType':this[_0x57917c(0x4f9)]},_0x516243),this['connectionType']===_0x2a143c['Core']&&(this[_0x57917c(0x624)]=_0x450481[_0x57917c(0x96d)](()=>{const _0x597dc5=_0x57917c;this[_0x597dc5(0x428)]({'type':_0x3ba04a[_0x597dc5(0x333)],'offer':_0x4fb9ca,'version':this['currentVersion'],'connectionType':this[_0x597dc5(0x4f9)]},_0x516243);},0x1388));}async[_0x677888(0x35f)](_0xf22857,_0x297183){const _0x2eed97=_0x677888;if(_0x297183===this[_0x2eed97(0x186)]){this[_0x2eed97(0x5e2)]();try{await this['connection'][_0x2eed97(0x35f)](_0xf22857,this[_0x2eed97(0x549)]['bind'](this)),this[_0x2eed97(0x74c)](),this[_0x2eed97(0x8aa)](),this['startHeartbeat']();}catch(_0x3d2748){this['handleDisconnect']();}}}[_0x677888(0x4c2)](_0x8576c3){const _0x4975e5=_0x677888;if(!this[_0x4975e5(0xa52)])throw new _0x4dab04(_0x4dab04[_0x4975e5(0x6ec)][_0x4975e5(0x6e8)],{'message':_0x4975e5(0x72c),'localId':this[_0x4975e5(0xa36)][_0x4975e5(0x48e)](),'remoteId':this[_0x4975e5(0x588)],'eventMessage':_0x8576c3});if(_0x4975e5(0xacb)!==this['dataChannel']['state'])throw new _0x4dab04(_0x4dab04[_0x4975e5(0x6ec)][_0x4975e5(0x6e8)],{'message':_0x4975e5(0x8c7),'localId':this[_0x4975e5(0xa36)][_0x4975e5(0x48e)](),'remoteId':this['remoteId'],'eventMessage':_0x8576c3});let _0x373d64;if(_0x8576c3['content'][_0x4975e5(0x337)]instanceof ArrayBuffer){const _0x965aaa=_0x8576c3[_0x4975e5(0x6a6)][_0x4975e5(0x337)];_0x8576c3={..._0x8576c3,'content':{..._0x8576c3[_0x4975e5(0x6a6)],'data':void 0x0}},_0x373d64=this['mergeParts'](_0x8576c3,_0x965aaa);}else _0x373d64=JSON['stringify'](_0x8576c3);if(_0x4975e5(0x435)==typeof _0x373d64&&_0x373d64[_0x4975e5(0x8a9)]>_0x24b902)return void this['sendChunked'](_0x8576c3,_0x373d64);0x0===_0x8576c3['topicLabel']&&_0x8576c3['messageType']===_0x59623a[_0x4975e5(0xb04)]&&this['loggingCycle'][_0x4975e5(0x1e8)][_0x4975e5(0x9bc)](()=>_0x5bf0c2['log'](_0x86d570['SenderSendMessage'],_0x4975e5(0x618),this[_0x4975e5(0x588)],_0x67b4a2(_0x8576c3)),void 0x0);const _0x4622f5=0x0===_0x8576c3[_0x4975e5(0x822)]&&[_0x59623a[_0x4975e5(0x91b)],_0x59623a[_0x4975e5(0x46b)]][_0x4975e5(0xace)](_0x8576c3[_0x4975e5(0x343)])?_0x3a8363[_0x4975e5(0x5d2)]:_0x8576c3 instanceof ArrayBuffer?_0x3a8363['Low']:_0x3a8363[_0x4975e5(0x29a)];this[_0x4975e5(0x46f)](_0x373d64,_0x4622f5);}['addTrack'](_0x9c8ccb,_0xf99ffc,_0xec4892,_0x523037){const _0x3631ea=_0x677888,_0x3f027a=(_0xf40327=this[_0x3631ea(0x31c)],_0x16f0a3=this[_0x3631ea(0xafd)],Math[_0x3631ea(0x8ca)](0xe1000*_0xf40327*_0x16f0a3));var _0xf40327,_0x16f0a3;const _0x59a746=this[_0x3631ea(0x1bf)][_0x3631ea(0x8a1)](_0xf99ffc['id'])||{'stream':_0xf99ffc,'priority':_0xec4892,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x3f027a,'maxBitrate':_0x3f027a,'framerate':this['maxFps'],'maxFramerate':this[_0x3631ea(0x31c)],'tracks':{},'params':_0x523037},_0x3e48ef=_0x59a746[_0x3631ea(0x4ad)][_0x9c8ccb[_0x3631ea(0x20c)]]||{'track':_0x9c8ccb};if(_0x3e48ef[_0x3631ea(0x9dc)]?(_0x3e48ef[_0x3631ea(0x940)]=_0x9c8ccb,this[_0x3631ea(0xa41)][_0x3631ea(0x25e)](_0x9c8ccb,_0x3e48ef[_0x3631ea(0x9dc)])):_0x3e48ef[_0x3631ea(0x9dc)]=this['connection'][_0x3631ea(0x90e)](_0x9c8ccb,_0xf99ffc),_0x59a746[_0x3631ea(0x4ad)][_0x9c8ccb[_0x3631ea(0x20c)]]=_0x3e48ef,_0x523037&&(_0x59a746[_0x3631ea(0xae9)]=_0x523037),_0x523037&&_0x3631ea(0x4ff)===_0x523037[_0x3631ea(0x20c)]&&_0x523037['resolution']&&_0x523037[_0x3631ea(0x38a)]&&(_0x59a746[_0x3631ea(0x598)]=this[_0x3631ea(0x842)](_0x523037['resolution'],_0x523037[_0x3631ea(0x38a)]),_0x59a746[_0x3631ea(0x3b7)]=_0x59a746[_0x3631ea(0x598)],_0x59a746['tracks'][_0x3631ea(0x4ff)]&&_0x59a746['tracks'][_0x3631ea(0x4ff)][_0x3631ea(0x9dc)])){const _0x1522d2=_0x59a746['tracks'][_0x3631ea(0x4ff)]['sender'];this['connection'][_0x3631ea(0x753)](_0x1522d2,Math[_0x3631ea(0x8ca)](0xa*_0x59a746[_0x3631ea(0x598)])/0xa,_0x59a746[_0x3631ea(0x454)],_0x59a746[_0x3631ea(0x2d0)],_0x59a746['priority']);}this[_0x3631ea(0x1bf)][_0x3631ea(0x926)](_0xf99ffc['id'],_0x59a746);}[_0x677888(0x765)](_0x53fba9,_0x5a348a){const _0x4522a7=_0x677888,_0x2896b9=this[_0x4522a7(0x1bf)][_0x4522a7(0x8a1)](_0x53fba9['id']);if(_0x2896b9&&_0x2896b9[_0x4522a7(0x35a)]!==_0x5a348a&&(_0x2896b9[_0x4522a7(0x35a)]=_0x5a348a,_0x2896b9[_0x4522a7(0x4ad)][_0x4522a7(0x4ff)]&&_0x2896b9['tracks']['video'][_0x4522a7(0x9dc)])){const _0x5a66d2=_0x2896b9[_0x4522a7(0x4ad)][_0x4522a7(0x4ff)][_0x4522a7(0x9dc)];this[_0x4522a7(0xa41)][_0x4522a7(0x753)](_0x5a66d2,Math[_0x4522a7(0x8ca)](0xa*_0x2896b9[_0x4522a7(0x598)])/0xa,_0x2896b9[_0x4522a7(0x454)],_0x2896b9[_0x4522a7(0x2d0)],_0x2896b9[_0x4522a7(0x35a)]);}}[_0x677888(0x92a)](_0xa348de,_0x45cf7d){const _0x7cfc47=_0x677888,_0x59f4d3=this['senders'][_0x7cfc47(0x8a1)](_0xa348de['id']);if(_0x59f4d3){if(_0x59f4d3[_0x7cfc47(0xae9)]=_0x45cf7d,_0x45cf7d&&_0x7cfc47(0x4ff)===_0x45cf7d[_0x7cfc47(0x20c)]&&_0x45cf7d[_0x7cfc47(0x70d)]&&_0x45cf7d[_0x7cfc47(0x38a)]){if(_0x59f4d3[_0x7cfc47(0x3b7)]=this[_0x7cfc47(0x842)](_0x45cf7d[_0x7cfc47(0x70d)],_0x45cf7d['maxResolution']),_0x59f4d3[_0x7cfc47(0x598)]<_0x59f4d3[_0x7cfc47(0x3b7)]&&(_0x59f4d3[_0x7cfc47(0x598)]=_0x59f4d3[_0x7cfc47(0x3b7)]),_0x59f4d3[_0x7cfc47(0x4ad)][_0x7cfc47(0x4ff)]&&_0x59f4d3[_0x7cfc47(0x4ad)][_0x7cfc47(0x4ff)][_0x7cfc47(0x9dc)]){const _0x378430=_0x59f4d3[_0x7cfc47(0x4ad)][_0x7cfc47(0x4ff)][_0x7cfc47(0x9dc)];this[_0x7cfc47(0xa41)]['setEncodingParameters'](_0x378430,Math[_0x7cfc47(0x8ca)](0xa*_0x59f4d3[_0x7cfc47(0x598)])/0xa,_0x59f4d3[_0x7cfc47(0x454)],_0x59f4d3['bitrate'],_0x59f4d3[_0x7cfc47(0x35a)]);}this['clearUpgradeTimeout'](),this[_0x7cfc47(0x77a)]();}this[_0x7cfc47(0x1bf)]['set'](_0xa348de['id'],_0x59f4d3);}}[_0x677888(0x909)](_0x52b7e5,_0x23e603){const _0x333ec0=_0x677888,_0x3351af=this[_0x333ec0(0x1bf)][_0x333ec0(0x8a1)](_0x23e603['id']);if(_0x3351af){const _0x5f0652=_0x3351af[_0x333ec0(0x4ad)][_0x52b7e5[_0x333ec0(0x20c)]];_0x5f0652&&(_0x5f0652[_0x333ec0(0x9dc)]&&this[_0x333ec0(0xa41)][_0x333ec0(0x909)](_0x5f0652[_0x333ec0(0x9dc)]),_0x5f0652['track']=void 0x0);}}[_0x677888(0x8f2)](_0x50939f){const _0x1b1c13=_0x677888;this[_0x1b1c13(0x3cf)]();const _0x5a20ae=function(_0xbe21ff,_0x480186){const _0x3be2bd=_0x1b1c13;return _0xbe21ff[_0x3be2bd(0x323)]((_0x2bf837,_0x2d66e1)=>_0x480186['action']===_0x21ab36['Downgrade']?_0x2d66e1[_0x3be2bd(0x35a)]-_0x2bf837['priority']:_0x2bf837[_0x3be2bd(0x35a)]-_0x2d66e1[_0x3be2bd(0x35a)])['find'](_0x5da0a2=>function(_0x13bad2,_0x50662b){const _0x2bef6f=_0x3be2bd;if(_0x50662b['action']===_0x21ab36[_0x2bef6f(0x7bc)]){if(_0x50662b[_0x2bef6f(0x64d)]===_0x2ca34d[_0x2bef6f(0x652)])return _0x13bad2[_0x2bef6f(0x598)]<0x4||_0x13bad2['maxFramerate']>0xf;if(_0x50662b[_0x2bef6f(0x64d)]===_0x2ca34d[_0x2bef6f(0x3a5)])return _0x13bad2[_0x2bef6f(0x873)]>_0x519220;}return _0x13bad2[_0x2bef6f(0x598)]>_0x13bad2[_0x2bef6f(0x3b7)]||_0x13bad2[_0x2bef6f(0x454)]<_0x13bad2[_0x2bef6f(0xacc)]||_0x13bad2['bitrate']<_0x13bad2[_0x2bef6f(0x873)];}(_0x5da0a2,_0x480186));}(Array[_0x1b1c13(0x3fd)](this[_0x1b1c13(0x1bf)][_0x1b1c13(0x9c3)]()),_0x50939f);if(_0x5a20ae&&(function(_0x34e6d7,_0x6988bc){const _0x269d5c=_0x1b1c13;_0x34e6d7[_0x269d5c(0x4ad)][_0x269d5c(0x4ff)]&&_0x34e6d7[_0x269d5c(0x4ad)][_0x269d5c(0x4ff)][_0x269d5c(0x9dc)]&&(_0x34e6d7['resolutionScale']=function(_0x1b71b4,_0x24bf83,_0x27805a){const _0x9cffcf=_0x269d5c;switch(_0x27805a[_0x9cffcf(0x39b)]){case _0x21ab36[_0x9cffcf(0x7bc)]:_0x27805a[_0x9cffcf(0x64d)]===_0x2ca34d[_0x9cffcf(0x652)]&&(_0x1b71b4+=0.5)>0x4&&(_0x1b71b4=0x4);break;case _0x21ab36[_0x9cffcf(0x7cc)]:(_0x1b71b4-=0.5)<_0x24bf83&&(_0x1b71b4=_0x24bf83);}return _0x1b71b4;}(_0x34e6d7[_0x269d5c(0x598)],_0x34e6d7[_0x269d5c(0x3b7)],_0x6988bc),_0x34e6d7[_0x269d5c(0x454)]=function(_0x18861a,_0x5cfba9,_0x168b98){const _0x37b5fc=_0x269d5c;switch(_0x168b98[_0x37b5fc(0x39b)]){case _0x21ab36['Downgrade']:_0x168b98[_0x37b5fc(0x64d)]===_0x2ca34d[_0x37b5fc(0x652)]&&(_0x18861a-=0x3)<0xf&&(_0x18861a=0xf);break;case _0x21ab36[_0x37b5fc(0x7cc)]:(_0x18861a+=0x3)>_0x5cfba9&&(_0x18861a=_0x5cfba9);}return _0x18861a;}(_0x34e6d7[_0x269d5c(0x454)],_0x34e6d7['maxFramerate'],_0x6988bc),_0x34e6d7[_0x269d5c(0x2d0)]=function(_0x54a27b,_0x22c3eb,_0x31bc0d){const _0x5ddb9d=_0x269d5c;switch(_0x31bc0d['action']){case _0x21ab36['Downgrade']:_0x31bc0d[_0x5ddb9d(0x64d)]===_0x2ca34d[_0x5ddb9d(0x3a5)]&&(_0x54a27b*=0.75)<_0x519220&&(_0x54a27b=_0x519220);break;case _0x21ab36['Upgrade']:(_0x54a27b*=1.25)>_0x22c3eb&&(_0x54a27b=_0x22c3eb);}return _0x54a27b;}(_0x34e6d7['bitrate'],_0x34e6d7[_0x269d5c(0x873)],_0x6988bc));}(_0x5a20ae,_0x50939f),_0x5a20ae[_0x1b1c13(0x4ad)][_0x1b1c13(0x4ff)]&&_0x5a20ae[_0x1b1c13(0x4ad)][_0x1b1c13(0x4ff)]['sender'])){const _0x392f97=_0x5a20ae[_0x1b1c13(0x4ad)][_0x1b1c13(0x4ff)][_0x1b1c13(0x9dc)];this[_0x1b1c13(0xa41)][_0x1b1c13(0x753)](_0x392f97,Math['floor'](0xa*_0x5a20ae[_0x1b1c13(0x598)])/0xa,_0x5a20ae[_0x1b1c13(0x454)],_0x5a20ae[_0x1b1c13(0x2d0)],_0x5a20ae[_0x1b1c13(0x35a)]);}(_0x5a20ae||_0x50939f[_0x1b1c13(0x39b)]===_0x21ab36[_0x1b1c13(0x7bc)])&&this[_0x1b1c13(0x77a)]();}['calculateArrayBufferSize'](){const _0x332bbc=_0x677888;return this[_0x332bbc(0x54b)][_0x332bbc(0x381)][_0x332bbc(0x63b)]((_0x3e0a63,_0x36b88e)=>_0x3e0a63+_0x36b88e[_0x332bbc(0x22b)],0x0)*_0x16c951;}['getBufferedAmount'](){const _0x9ab8d3=_0x677888;return this[_0x9ab8d3(0xa52)]?.[_0x9ab8d3(0x74a)]??0x0;}[_0x677888(0x899)](){const _0x454c32=_0x677888;super[_0x454c32(0x899)](),this[_0x454c32(0x771)](),this[_0x454c32(0x5e2)](),this[_0x454c32(0x1bf)][_0x454c32(0x938)](_0x3a06d6=>{const _0x40def4=_0x454c32;_0x3a06d6[_0x40def4(0x4ad)]['video']&&(_0x3a06d6[_0x40def4(0x4ad)][_0x40def4(0x4ff)][_0x40def4(0x9dc)]=void 0x0),_0x3a06d6[_0x40def4(0x4ad)][_0x40def4(0x44b)]&&(_0x3a06d6[_0x40def4(0x4ad)]['audio']['sender']=void 0x0);}),this[_0x454c32(0x1e1)]=!0x0;}async[_0x677888(0x8a3)](){return new Promise(async _0x34d424=>{const _0x1bdd10=a0_0x5cc9;if(!this[_0x1bdd10(0xa52)]||'open'!==this[_0x1bdd10(0xa52)][_0x1bdd10(0x393)])return await _0x450481[_0x1bdd10(0x201)](0x64),void _0x34d424();this[_0x1bdd10(0xa52)][_0x1bdd10(0x74a)]<_0x5b363a?_0x34d424():this[_0x1bdd10(0xa52)][_0x1bdd10(0x440)]=()=>{const _0x3eeb77=_0x1bdd10;this['dataChannel']&&(this['dataChannel'][_0x3eeb77(0x440)]=null),_0x34d424();};});}async[_0x677888(0x956)](_0x50f9a0,_0x362ebd){const _0x4da3ed=_0x677888,_0x3d74a6=[];for(let _0x1e92ff=0x0;_0x1e92ff<_0x362ebd[_0x4da3ed(0x8a9)];_0x1e92ff+=_0x24b902)_0x3d74a6['push'](_0x362ebd[_0x4da3ed(0x83f)](_0x1e92ff,_0x1e92ff+_0x24b902));for(const _0x417c75 of _0x3d74a6){for(;this[_0x4da3ed(0x54b)]['queues'][_0x3a8363['Low']][_0x4da3ed(0x22b)]>0x1;)await _0x450481[_0x4da3ed(0x201)](0x64);this[_0x4da3ed(0x46f)](_0x148e9e+';'+_0x50f9a0['uuid']+';'+_0x3d74a6[_0x4da3ed(0x701)](_0x417c75)+';'+_0x3d74a6[_0x4da3ed(0x8a9)]+';'+_0x417c75,_0x3a8363[_0x4da3ed(0xa90)]);}}async[_0x677888(0x46f)](_0xa3459f,_0x3e94c7){const _0x198f75=_0x677888;_0xa3459f===_0xf1d7d4?this[_0x198f75(0x54b)][_0x198f75(0x381)][_0x3e94c7]['head']?.[_0x198f75(0x6fa)]!==_0xf1d7d4&&this[_0x198f75(0x54b)][_0x198f75(0x381)][_0x3e94c7][_0x198f75(0x89b)](_0xa3459f):this[_0x198f75(0x54b)][_0x198f75(0x381)][_0x3e94c7]['push'](_0xa3459f);}[_0x677888(0x706)](_0x518157){const _0x26cf17=_0x677888;if(!this['dataChannel']||_0x26cf17(0xacb)!==this['dataChannel'][_0x26cf17(0x393)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this['dataChannel'][_0x26cf17(0x74a)]>=0x600000)throw new Error(_0x26cf17(0x4c8));const _0x222eb4=Date[_0x26cf17(0x9bd)]();_0x518157!==_0xf1d7d4&&(this[_0x26cf17(0xab5)]+=0x1,this[_0x26cf17(0xa13)]+=_0x518157 instanceof ArrayBuffer?_0x518157[_0x26cf17(0x2f4)]:_0x518157['length']);try{ArrayBuffer,this[_0x26cf17(0xa52)][_0x26cf17(0x4c2)](_0x518157);}catch(_0x44ccc4){throw console[_0x26cf17(0x487)]('DataChannel\x20send\x20error',_0x44ccc4),_0x44ccc4;}this[_0x26cf17(0x571)]+=Date['now']()-_0x222eb4;}[_0x677888(0x2b4)](){const _0x47ce30=_0x677888;this[_0x47ce30(0x6d7)]&&this[_0x47ce30(0x642)]();let _0x13835b=!0x0,_0x20f382=Date[_0x47ce30(0x9bd)]();this[_0x47ce30(0x224)]=Date[_0x47ce30(0x9bd)](),this[_0x47ce30(0xa52)][_0x47ce30(0x980)]=_0x593066=>{const _0x5a19e7=_0x47ce30;'1'===_0x593066['data']&&(this[_0x5a19e7(0x8ba)]=Date[_0x5a19e7(0x9bd)]()-_0x20f382,_0x13835b&&this[_0x5a19e7(0x428)]({'type':_0x3ba04a[_0x5a19e7(0x29f)]}),_0x13835b=!0x1,this[_0x5a19e7(0x224)]=Date['now'](),this[_0x5a19e7(0x1e1)]&&(this[_0x5a19e7(0x1e1)]=!0x1,this['handleMissingSenders']()));},this['heartbeatUnsubscriber']=_0x450481[_0x47ce30(0x96d)](()=>{const _0x573acc=_0x47ce30;_0x20f382=Date[_0x573acc(0x9bd)](),this[_0x573acc(0x46f)](_0xf1d7d4,_0x3a8363[_0x573acc(0x5d2)]),Date[_0x573acc(0x9bd)]()-this['lastHeartbeat']>(_0x13835b?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x677888(0x27a)](){const _0x268ebb=_0x677888;this[_0x268ebb(0x1bf)][_0x268ebb(0x938)](_0x563f41=>{const _0x169d7e=_0x268ebb;_0x563f41[_0x169d7e(0x4ad)][_0x169d7e(0x4ff)]&&_0x563f41[_0x169d7e(0x4ad)][_0x169d7e(0x4ff)]['track']&&!_0x563f41[_0x169d7e(0x4ad)][_0x169d7e(0x4ff)]['sender']&&(_0x563f41[_0x169d7e(0x4ad)][_0x169d7e(0x4ff)][_0x169d7e(0x9dc)]=this[_0x169d7e(0xa41)][_0x169d7e(0x90e)](_0x563f41[_0x169d7e(0x4ad)][_0x169d7e(0x4ff)]['track'],_0x563f41['stream'])),_0x563f41[_0x169d7e(0x4ad)][_0x169d7e(0x44b)]&&_0x563f41['tracks'][_0x169d7e(0x44b)][_0x169d7e(0x940)]&&!_0x563f41['tracks'][_0x169d7e(0x44b)][_0x169d7e(0x9dc)]&&(_0x563f41['tracks'][_0x169d7e(0x44b)][_0x169d7e(0x9dc)]=this[_0x169d7e(0xa41)]['addTrack'](_0x563f41[_0x169d7e(0x4ad)]['audio'][_0x169d7e(0x940)],_0x563f41[_0x169d7e(0x490)]));});}['sendIceCandidates'](){const _0x38317a=_0x677888;this['publishSystemMessage']({'type':_0x3ba04a['Handshake'],'candidates':this['handshakeCandidates'],'origin':_0x1b2fd6[_0x38317a(0x7dd)],'version':this[_0x38317a(0x186)],'connectionType':this[_0x38317a(0x4f9)]});}[_0x677888(0x286)](){const _0xe7debd=_0x677888;super[_0xe7debd(0x286)](),this[_0xe7debd(0xa41)][_0xe7debd(0x3b8)]=()=>{const _0x3d4a4e=_0xe7debd;if(_0x3d4a4e(0x8df)===this['connection'][_0x3d4a4e(0x48a)]){_0x5bf0c2[_0x3d4a4e(0x5d7)](_0x86d570[_0x3d4a4e(0x95b)],'iceConnectionState\x20failed',this['localNode'][_0x3d4a4e(0x48e)](),this[_0x3d4a4e(0x588)]);try{if(this[_0x3d4a4e(0xa41)][_0x3d4a4e(0x98a)])return void this[_0x3d4a4e(0xa41)][_0x3d4a4e(0x839)]();}catch(_0x2228f2){}this[_0x3d4a4e(0x549)]({'handshakeRestart':!0x0});}},this['connection'][_0xe7debd(0xaf8)]=()=>{const _0x35b204=_0xe7debd;_0x35b204(0x2cb)!==this[_0x35b204(0xa41)][_0x35b204(0xae7)]&&_0x35b204(0x8df)!==this[_0x35b204(0xa41)][_0x35b204(0xae7)]||this['handleDisconnect']();};}[_0x677888(0x942)](){const _0xc7f8ed=_0x677888;this[_0xc7f8ed(0x642)](),this[_0xc7f8ed(0x508)](),this['clearConnectionTimeout'](),_0x5bf0c2[_0xc7f8ed(0xa38)](_0xc7f8ed(0x730),{'clusterId':this[_0xc7f8ed(0x8a2)],'nodeId':this[_0xc7f8ed(0xa36)][_0xc7f8ed(0x48e)](),'nodeType':this[_0xc7f8ed(0xa36)]['type'],'remoteId':this[_0xc7f8ed(0x588)],'data':{'connectionType':this[_0xc7f8ed(0x4f9)],'connectionState':this['connection'][_0xc7f8ed(0xae7)],'iceConnectionState':this[_0xc7f8ed(0xa41)][_0xc7f8ed(0x48a)],'signalingState':this['connection'][_0xc7f8ed(0x47a)],'readyState':this[_0xc7f8ed(0xa52)]?.[_0xc7f8ed(0x393)]||'','lastHeartbeat':this[_0xc7f8ed(0x224)]?Date[_0xc7f8ed(0x9bd)]()-this['lastHeartbeat']:'','retryQueue':this[_0xc7f8ed(0x54b)]}}),(this['lastHeartbeat']&&Date['now']()-this[_0xc7f8ed(0x224)]>0xea60)??0x1?this[_0xc7f8ed(0x36c)][_0xc7f8ed(0x6c6)]({'sourceId':this[_0xc7f8ed(0x588)],'destinationIds':[this[_0xc7f8ed(0xa36)][_0xc7f8ed(0x48e)]()],'messageType':_0x59623a[_0xc7f8ed(0x46b)],'content':{'type':_0x3ba04a[_0xc7f8ed(0xa0b)]}}):(this['resetConnection'](),this[_0xc7f8ed(0x428)]({'type':_0x3ba04a[_0xc7f8ed(0x439)],'version':this[_0xc7f8ed(0x186)],'connectionType':this['connectionType']}),this[_0xc7f8ed(0x7da)]=setTimeout(()=>{const _0x1e94d4=_0xc7f8ed;this[_0x1e94d4(0x942)]();},0x7530));}[_0x677888(0x642)](){const _0x771837=_0x677888;this[_0x771837(0x6d7)]?.(),delete this['heartbeatUnsubscriber'];}[_0x677888(0x8aa)](){const _0x2b1227=_0x677888;this[_0x2b1227(0x55f)]&&(clearTimeout(this[_0x2b1227(0x55f)]),delete this[_0x2b1227(0x55f)]);}[_0x677888(0x508)](){const _0x3c6c26=_0x677888;this['restartTimeout']&&(clearTimeout(this[_0x3c6c26(0x7da)]),delete this[_0x3c6c26(0x7da)]);}[_0x677888(0x3cf)](){const _0xff1231=_0x677888;this['upgradeTimeout']&&(clearTimeout(this['upgradeTimeout']),delete this[_0xff1231(0x7d6)]);}[_0x677888(0x77a)](){const _0xd9b374=_0x677888;this[_0xd9b374(0x7d6)]=setTimeout(()=>{const _0x4b9ffe=_0xd9b374;this['applyRemediation']({'type':_0x50c54d[_0x4b9ffe(0x23c)],'action':_0x21ab36[_0x4b9ffe(0x7cc)]});},0x3a98);}[_0x677888(0x842)](_0xc4e66d,_0x430763){const _0x324491=_0x677888,_0x35d8d8=Math['max'](_0xc4e66d['width']/_0x430763['width'],_0xc4e66d[_0x324491(0x504)]/_0x430763[_0x324491(0x504)]);return Math[_0x324491(0x9a7)](Math[_0x324491(0x38c)](_0x35d8d8,0x1),0x4);}[_0x677888(0x5e2)](){const _0xe80db6=_0x677888;this[_0xe80db6(0x624)]?.(),delete this[_0xe80db6(0x624)];}[_0x677888(0x771)](){const _0xa42bf6=_0x677888;this[_0xa42bf6(0x7cf)]&&(clearTimeout(this[_0xa42bf6(0x7cf)]),delete this[_0xa42bf6(0x7cf)]);}[_0x677888(0x7e5)](_0x39d561){const _0x29ec4d=_0x677888,_0x29d406=JSON[_0x29ec4d(0x247)](_0x39d561);return new TextEncoder()[_0x29ec4d(0xa02)](_0x29d406)['buffer'];}[_0x677888(0x8d6)](_0x5f27f1,_0x16d0d2){const _0x2035a6=_0x677888,_0x5af78b=this[_0x2035a6(0x7e5)](_0x5f27f1),_0x365906=new Uint8Array(0x4),_0x3fdb38=new Uint8Array(_0x5af78b),_0x4009db=new Uint8Array(_0x16d0d2);_0x365906['set'](new Uint8Array(new Uint32Array([_0x3fdb38[_0x2035a6(0x8a9)]])['buffer']));const _0x57d0bc=new Uint8Array(0x4+_0x3fdb38[_0x2035a6(0x8a9)]+_0x4009db[_0x2035a6(0x8a9)]);return _0x57d0bc[_0x2035a6(0x926)](_0x365906),_0x57d0bc[_0x2035a6(0x926)](_0x3fdb38,0x4),_0x57d0bc[_0x2035a6(0x926)](_0x4009db,0x4+_0x3fdb38[_0x2035a6(0x8a9)]),_0x57d0bc['buffer'];}}class _0x4dd65a extends _0x7eda95{[_0x677888(0xb20)];[_0x677888(0x4f9)];['maxFps'];[_0x677888(0xafd)];[_0x677888(0x20b)];['senderConnection'];['receiverConnection'];['receiverUnsubscribers']=[];[_0x677888(0x89a)]=_0x484270();[_0x677888(0x83d)]=_0x484270();[_0x677888(0x5c2)]=_0x484270();['listenerUnsubscribers']=[];[_0x677888(0x36c)];['dataTopics']=new Map();[_0x677888(0x791)]=new Map();['mediaTopics']=new Map();[_0x677888(0xafc)]=new Map();[_0x677888(0xab6)]=!0x1;constructor(_0x366464,_0x210656,_0x4e815d,_0xe69547,_0x652369,_0x43636b,_0x3e67bb,_0x1ba607){const _0x146d1a=_0x677888;super(_0x366464,_0x210656,_0x4e815d),this[_0x146d1a(0xb20)]=_0xe69547,this[_0x146d1a(0x4f9)]=_0x652369,this['maxFps']=_0x43636b,this['maxBpp']=_0x3e67bb,this[_0x146d1a(0x20b)]=_0x1ba607;}[_0x677888(0x464)](_0x3f0285){const _0x5df625=_0x677888;switch(_0x3f0285[_0x5df625(0x5b3)]()){case _0x1736bb[_0x5df625(0xa3c)][_0x5df625(0x5f5)]:case _0x1736bb[_0x5df625(0xa3c)][_0x5df625(0x963)]:case _0x1736bb[_0x5df625(0xa3c)]['ObjectStore']:case _0x1736bb['ContentType'][_0x5df625(0x9de)]:case _0x1736bb['ContentType']['Job']:case _0x1736bb['ContentType'][_0x5df625(0x2b3)]:case _0x1736bb[_0x5df625(0xa3c)][_0x5df625(0x726)]:case _0x1736bb[_0x5df625(0xa3c)][_0x5df625(0x9c5)]:this[_0x5df625(0xa11)][_0x5df625(0x926)](_0x3f0285['getLabel'](),_0x3f0285);break;case _0x1736bb[_0x5df625(0xa3c)][_0x5df625(0x2d6)]:this[_0x5df625(0x3e3)][_0x5df625(0x926)](_0x3f0285['getLabel'](),_0x3f0285);}}[_0x677888(0x72b)](_0x7fe500){const _0x3394e4=_0x677888;switch(_0x7fe500[_0x3394e4(0x5b3)]()){case _0x1736bb[_0x3394e4(0xa3c)][_0x3394e4(0x5f5)]:case _0x1736bb[_0x3394e4(0xa3c)]['PubSub']:case _0x1736bb[_0x3394e4(0xa3c)][_0x3394e4(0x60c)]:case _0x1736bb['ContentType']['KeyValueDatabase']:case _0x1736bb[_0x3394e4(0xa3c)][_0x3394e4(0x6f4)]:case _0x1736bb['ContentType'][_0x3394e4(0x2b3)]:case _0x1736bb[_0x3394e4(0xa3c)][_0x3394e4(0x726)]:case _0x1736bb[_0x3394e4(0xa3c)][_0x3394e4(0x9c5)]:this[_0x3394e4(0xa11)][_0x3394e4(0x60b)](_0x7fe500[_0x3394e4(0x4d9)]());break;case _0x1736bb[_0x3394e4(0xa3c)][_0x3394e4(0x2d6)]:this[_0x3394e4(0x3e3)][_0x3394e4(0x60b)](_0x7fe500['getLabel']());}}['registerSubscriber'](_0x686144){const _0x2280da=_0x677888;switch(_0x686144['getContentType']()){case _0x1736bb[_0x2280da(0xa3c)][_0x2280da(0x5f5)]:case _0x1736bb[_0x2280da(0xa3c)][_0x2280da(0x963)]:case _0x1736bb[_0x2280da(0xa3c)][_0x2280da(0x60c)]:case _0x1736bb[_0x2280da(0xa3c)][_0x2280da(0x9de)]:case _0x1736bb[_0x2280da(0xa3c)][_0x2280da(0x6f4)]:case _0x1736bb[_0x2280da(0xa3c)]['VectorDatabase']:case _0x1736bb[_0x2280da(0xa3c)]['GraphDatabase']:case _0x1736bb[_0x2280da(0xa3c)][_0x2280da(0x9c5)]:{const _0x410af3=_0x686144[_0x2280da(0x576)](_0x5c3a0e=>{const _0x43c06e=_0x2280da;_0x4ee3b9(_0x5c3a0e,this[_0x43c06e(0x297)]())&&_0x1cbb7f(_0x5c3a0e,this[_0x43c06e(0x588)])&&this[_0x43c06e(0x4c2)](_0x5c3a0e);});this[_0x2280da(0x791)][_0x2280da(0x926)](_0x686144['getLabel'](),_0x410af3);break;}case _0x1736bb[_0x2280da(0xa3c)]['Media']:{const _0x569f77=_0x686144[_0x2280da(0x576)](({content:_0x75460})=>{const _0x3c9b46=_0x2280da;switch(_0x75460[_0x3c9b46(0x39b)]){case _0x374938[_0x3c9b46(0x29e)]:this[_0x3c9b46(0x90e)](_0x75460[_0x3c9b46(0x940)],_0x75460[_0x3c9b46(0x490)],_0x75460[_0x3c9b46(0x35a)],_0x75460[_0x3c9b46(0xae9)]);break;case _0x374938[_0x3c9b46(0x3c3)]:this['removeTrack'](_0x75460[_0x3c9b46(0x940)],_0x75460[_0x3c9b46(0x490)]);break;case _0x374938[_0x3c9b46(0x77f)]:_0x75460[_0x3c9b46(0x35a)]&&this['setPriority'](_0x75460[_0x3c9b46(0x490)],_0x75460[_0x3c9b46(0x35a)]),_0x75460[_0x3c9b46(0xae9)]&&this[_0x3c9b46(0x92a)](_0x75460[_0x3c9b46(0x490)],_0x75460[_0x3c9b46(0xae9)]);}});this[_0x2280da(0xafc)][_0x2280da(0x926)](_0x686144[_0x2280da(0x4d9)](),_0x569f77);break;}}}['unregisterSubscriber'](_0x1fa39f){const _0x59025e=_0x677888;switch(_0x1fa39f[_0x59025e(0x5b3)]()){case _0x1736bb[_0x59025e(0xa3c)][_0x59025e(0x5f5)]:case _0x1736bb[_0x59025e(0xa3c)][_0x59025e(0x963)]:case _0x1736bb[_0x59025e(0xa3c)][_0x59025e(0x60c)]:case _0x1736bb['ContentType'][_0x59025e(0x9de)]:case _0x1736bb['ContentType'][_0x59025e(0x6f4)]:case _0x1736bb['ContentType'][_0x59025e(0x2b3)]:case _0x1736bb[_0x59025e(0xa3c)][_0x59025e(0x726)]:case _0x1736bb[_0x59025e(0xa3c)][_0x59025e(0x9c5)]:this[_0x59025e(0x791)][_0x59025e(0x8a1)](_0x1fa39f[_0x59025e(0x4d9)]())?.(),this['dataUnsubscribers']['delete'](_0x1fa39f[_0x59025e(0x4d9)]());break;case _0x1736bb['ContentType'][_0x59025e(0x2d6)]:this[_0x59025e(0xafc)][_0x59025e(0x8a1)](_0x1fa39f[_0x59025e(0x4d9)]())?.(),this[_0x59025e(0xafc)][_0x59025e(0x60b)](_0x1fa39f[_0x59025e(0x4d9)]());}}['getSupportedContentTypes'](){const _0x2879a1=_0x677888;return[_0x1736bb[_0x2879a1(0xa3c)][_0x2879a1(0x5f5)],_0x1736bb[_0x2879a1(0xa3c)][_0x2879a1(0x2d6)],_0x1736bb['ContentType']['PubSub'],_0x1736bb[_0x2879a1(0xa3c)][_0x2879a1(0x60c)],_0x1736bb['ContentType'][_0x2879a1(0x9de)],_0x1736bb[_0x2879a1(0xa3c)][_0x2879a1(0x6f4)],_0x1736bb[_0x2879a1(0xa3c)][_0x2879a1(0x2b3)],_0x1736bb['ContentType'][_0x2879a1(0x726)],_0x1736bb[_0x2879a1(0xa3c)]['ExternalStorage']];}[_0x677888(0xaf0)](_0x35fdd7){this['systemTopic']=_0x35fdd7;}[_0x677888(0x4dc)](){delete this['systemTopic'];}async[_0x677888(0x2c3)](){const _0xf152dd=_0x677888;this[_0xf152dd(0xaff)](),await this[_0xf152dd(0x549)]();}[_0x677888(0x7ed)](){const _0x198966=_0x677888;this[_0x198966(0x590)][_0x198966(0x938)](_0x19b89d=>_0x19b89d()),this[_0x198966(0x590)]=[],this['senderConnection']?.[_0x198966(0x4dc)](),this[_0x198966(0x673)]?.[_0x198966(0x7ed)](),delete this['senderConnection'],this[_0x198966(0x768)][_0x198966(0x938)](_0x1b5089=>_0x1b5089()),this[_0x198966(0x768)]=[],this[_0x198966(0x181)]?.[_0x198966(0x4dc)](),this[_0x198966(0x181)]?.['close'](),delete this[_0x198966(0x181)];}['isConnected'](){const _0x19d3c0=_0x677888;return this[_0x19d3c0(0x673)]?.['isConnected']()&&this[_0x19d3c0(0x181)]?.['isConnected']()||!0x1;}['send'](_0x7a03a5){const _0x2d6317=_0x677888;if(!this['senderConnection']||!this[_0x2d6317(0x5bc)]())throw new _0x4dab04(_0x4dab04[_0x2d6317(0x6ec)]['ConnectionNotinitialized'],{'message':_0x2d6317(0x917),'senderConnected':this[_0x2d6317(0x673)]?.[_0x2d6317(0x5bc)](),'receiverConnected':this['receiverConnection']?.[_0x2d6317(0x5bc)](),'localId':this[_0x2d6317(0x297)](),'remoteId':this['remoteId'],'data':_0x7a03a5});this['senderConnection'][_0x2d6317(0x4c2)](_0x7a03a5);}[_0x677888(0x980)](_0x4a244c){const _0x2e5b31=_0x677888;return this[_0x2e5b31(0x89a)][_0x2e5b31(0x576)](_0x4a244c);}['onTrack'](_0xf22421){const _0xd414b7=_0x677888;return this[_0xd414b7(0x83d)][_0xd414b7(0x576)](({track:_0x1e288d,stream:_0x471f04})=>_0xf22421(_0x1e288d,_0x471f04));}[_0x677888(0x24c)](_0x593d84){return this['removeTrackListeners']['subscribe'](({track:_0x4e1a40,stream:_0x52fd9e})=>_0x593d84(_0x4e1a40,_0x52fd9e));}[_0x677888(0x90e)](_0x1ac94a,_0x17967b,_0x2be112,_0x228321){const _0x4a70a2=_0x677888;this[_0x4a70a2(0x673)]?.['addTrack'](_0x1ac94a,_0x17967b,_0x2be112,_0x228321);}[_0x677888(0x765)](_0x5ac525,_0x1ddcb6){const _0xd88c99=_0x677888;this[_0xd88c99(0x673)]?.[_0xd88c99(0x765)](_0x5ac525,_0x1ddcb6);}[_0x677888(0x92a)](_0x52c3bf,_0x4c9a48){const _0x1eb69c=_0x677888;this[_0x1eb69c(0x673)]?.['setParams'](_0x52c3bf,_0x4c9a48);}['removeTrack'](_0x54075d,_0x2a6bca){const _0x16d3cf=_0x677888;this['senderConnection']?.[_0x16d3cf(0x909)](_0x54075d,_0x2a6bca);}async[_0x677888(0x6fe)](_0x1c3e1b){const _0x29181f=_0x677888;_0x5bf0c2['log'](_0x86d570[_0x29181f(0x640)],_0x29181f(0x3cd),this[_0x29181f(0x297)](),_0x1c3e1b);const {content:_0x5a8894}=_0x1c3e1b;switch(_0x5a8894[_0x29181f(0xb0f)]){case _0x3ba04a['Offer']:await this[_0x29181f(0x5d3)](_0x5a8894);break;case _0x3ba04a[_0x29181f(0x5d1)]:await this['handleAnswer'](_0x5a8894);break;case _0x3ba04a[_0x29181f(0x29f)]:this['handleSuccess']();break;case _0x3ba04a[_0x29181f(0x3c2)]:await this[_0x29181f(0x37a)](_0x5a8894);break;case _0x3ba04a['NeedRestart']:this['handleNeedRestart'](_0x5a8894);break;case _0x3ba04a[_0x29181f(0x828)]:await this['createOffer']();}}[_0x677888(0x994)](_0xc81ae5){const _0x16052a=_0x677888;this[_0x16052a(0x673)]?.[_0x16052a(0x8f2)](_0xc81ae5[_0x16052a(0x6a6)][_0x16052a(0x337)]);}[_0x677888(0x9e2)](){return this['connectionType'];}['setConnectionType'](_0x142daf){const _0x1c15ca=_0x677888;this[_0x1c15ca(0x4f9)]=_0x142daf,this[_0x1c15ca(0x673)]?.['setConnectionType'](_0x142daf),this['receiverConnection']?.['setConnectionType'](_0x142daf);}async[_0x677888(0x989)](){const _0x1f96ed=_0x677888;await this[_0x1f96ed(0x673)]?.[_0x1f96ed(0x989)](),await this['receiverConnection']?.[_0x1f96ed(0x989)]();}[_0x677888(0x691)](){const _0x2c127b=_0x677888;return this[_0x2c127b(0x673)]?.[_0x2c127b(0x691)]()??0x0;}['getBufferedAmount'](){const _0x5e98db=_0x677888;return this[_0x5e98db(0x673)]?.[_0x5e98db(0x6e3)]()??0x0;}['setupListeners'](){const _0x25aae0=_0x677888;this[_0x25aae0(0x590)][_0x25aae0(0xa65)](this['onMessage'](_0x53f557=>{const _0x47617a=_0x25aae0;_0x1cbb7f(_0x53f557,this[_0x47617a(0x297)]())&&0x0!==_0x53f557[_0x47617a(0x822)]&&this[_0x47617a(0xa11)][_0x47617a(0x8a1)](_0x53f557[_0x47617a(0x822)])?.[_0x47617a(0x6c6)](_0x53f557);})),this[_0x25aae0(0x590)][_0x25aae0(0xa65)](this['onTrack']((_0x23eacf,_0x128ed7)=>{const _0x479101=_0x25aae0,_0x228819=_0x31c948(_0x1736bb[_0x479101(0xa3c)][_0x479101(0x2d6)],_0x128ed7['id'],this[_0x479101(0x588)]);this[_0x479101(0x3e3)][_0x479101(0x8a1)](_0x228819)?.[_0x479101(0x6c6)]({'topicLabel':_0x228819,'sourceId':this[_0x479101(0x588)],'contentType':_0x1736bb[_0x479101(0xa3c)][_0x479101(0x2d6)],'content':{'action':_0x374938[_0x479101(0x669)],'track':_0x23eacf,'stream':_0x128ed7,'providerId':this[_0x479101(0x588)]}});})),this[_0x25aae0(0x590)][_0x25aae0(0xa65)](this[_0x25aae0(0x24c)]((_0x40a497,_0x544caa)=>{const _0x1f0b41=_0x25aae0,_0x43671b=_0x31c948(_0x1736bb['ContentType']['Media'],_0x544caa['id'],this[_0x1f0b41(0x588)]);this['mediaTopics'][_0x1f0b41(0x8a1)](_0x43671b)?.['publish']({'topicLabel':_0x43671b,'sourceId':this[_0x1f0b41(0x588)],'contentType':_0x1736bb[_0x1f0b41(0xa3c)]['Media'],'content':{'action':_0x374938[_0x1f0b41(0x5c8)],'track':_0x40a497,'stream':_0x544caa,'providerId':this[_0x1f0b41(0x588)]}});}));}[_0x677888(0x37a)]({candidates:_0x47ddba,origin:_0x2e8dc4,version:_0x5cdf83}){const _0x1090e1=_0x677888;return _0x2e8dc4===_0x1b2fd6[_0x1090e1(0x7dd)]?(this[_0x1090e1(0x181)]||this[_0x1090e1(0x261)](),this[_0x1090e1(0x181)][_0x1090e1(0xae0)](_0x47ddba,_0x5cdf83)):this[_0x1090e1(0x673)][_0x1090e1(0xae0)](_0x47ddba,_0x5cdf83);}async[_0x677888(0x549)](){const _0x314a33=_0x677888;this[_0x314a33(0x673)]||this[_0x314a33(0x941)](),await this[_0x314a33(0x673)]['createOffer']();}async['handleOffer']({offer:_0x4263e8,version:_0x288602}){const _0x43e337=_0x677888;this[_0x43e337(0x181)]||this[_0x43e337(0x261)](),await this[_0x43e337(0x181)][_0x43e337(0x5d3)](_0x4263e8,_0x288602);}async['handleAnswer']({answer:_0x485294,version:_0x4512ac}){const _0x55a228=_0x677888;if(!this['senderConnection'])throw new _0x4dab04(_0x4dab04[_0x55a228(0x6ec)][_0x55a228(0x3c1)],{'message':_0x55a228(0x32e),'localId':this['getLocalId'](),'remoteId':this[_0x55a228(0x588)],'answer':_0x485294});await this[_0x55a228(0x673)][_0x55a228(0x35f)](_0x485294,_0x4512ac);}['handleSuccess'](){const _0x3f527a=_0x677888;if(!this[_0x3f527a(0x181)])throw new _0x4dab04(_0x4dab04[_0x3f527a(0x6ec)][_0x3f527a(0x3c1)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this['getLocalId'](),'remoteId':this[_0x3f527a(0x588)]});this[_0x3f527a(0x181)][_0x3f527a(0x334)](),this[_0x3f527a(0xab6)]||this['connectionType']!==_0x2a143c[_0x3f527a(0x619)]||(this['successNotified']=!0x0,this[_0x3f527a(0x36c)]?.[_0x3f527a(0x6c6)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x3f527a(0x297)]()],'messageType':_0x59623a[_0x3f527a(0x46b)],'content':{'type':_0x3ba04a[_0x3f527a(0x445)]}}));}['handleNeedRestart'](_0x506a7e){const _0x1bd2e8=_0x677888;this[_0x1bd2e8(0x181)]||this['createReceiverConnection'](),this[_0x1bd2e8(0x181)][_0x1bd2e8(0x55e)](_0x506a7e[_0x1bd2e8(0x476)]);}[_0x677888(0x941)](){const _0x51f083=_0x677888;this[_0x51f083(0x673)]=new _0x3f2273(this['clusterId'],this[_0x51f083(0xa36)],this[_0x51f083(0x588)],this[_0x51f083(0xb20)],this['connectionType'],this[_0x51f083(0x31c)],this[_0x51f083(0xafd)],this[_0x51f083(0x20b)]),this['senderConnection'][_0x51f083(0xaf0)](this[_0x51f083(0x36c)]);}[_0x677888(0x261)](){const _0x2a5a20=_0x677888;this[_0x2a5a20(0x181)]=new _0x558e8e(this[_0x2a5a20(0x8a2)],this[_0x2a5a20(0xa36)],this[_0x2a5a20(0x588)],this[_0x2a5a20(0xb20)],this['connectionType'],this[_0x2a5a20(0x20b)]),this['receiverConnection']['registerSystemPublisher'](this[_0x2a5a20(0x36c)]),this[_0x2a5a20(0x768)]['push'](this[_0x2a5a20(0x181)][_0x2a5a20(0x980)](_0x4d3f96=>this[_0x2a5a20(0x89a)][_0x2a5a20(0x6c6)](_0x4d3f96))),this['receiverUnsubscribers'][_0x2a5a20(0xa65)](this[_0x2a5a20(0x181)][_0x2a5a20(0xb01)]((_0x579ae4,_0x6f3e50)=>this[_0x2a5a20(0x83d)][_0x2a5a20(0x6c6)]({'track':_0x579ae4,'stream':_0x6f3e50}))),this['receiverUnsubscribers'][_0x2a5a20(0xa65)](this['receiverConnection'][_0x2a5a20(0x24c)]((_0x1e5480,_0x124c79)=>this[_0x2a5a20(0x5c2)]['publish']({'track':_0x1e5480,'stream':_0x124c79})));}}class _0x118453{[_0x677888(0x600)];[_0x677888(0x5a3)];[_0x677888(0xa81)];['connections']=new Map();['messageListeners']=_0x484270();[_0x677888(0x398)];[_0x677888(0xa11)]=new Map();[_0x677888(0x791)]=new Map();[_0x677888(0x7f6)]=new Map();constructor(_0x3a3183,_0x3749ae,_0x436457){const _0x414f38=_0x677888;this['localId']=_0x3a3183,this[_0x414f38(0x5a3)]=_0x3749ae,this[_0x414f38(0xa81)]=_0x436457,this['messageUnsubscriber']=this['onMessage'](_0x47be7c=>{const _0x370c0e=_0x414f38;this['messageBuffer'][_0x370c0e(0x5df)](_0x47be7c[_0x370c0e(0x2ce)])||(_0x1cbb7f(_0x47be7c,this[_0x370c0e(0x600)])&&0x0!==_0x47be7c[_0x370c0e(0x822)]&&(this['messageBuffer']['addMessage'](_0x47be7c[_0x370c0e(0x2ce)]),this['dataTopics']['get'](_0x47be7c[_0x370c0e(0x822)])?.[_0x370c0e(0x6c6)](_0x47be7c)),_0x47be7c[_0x370c0e(0x23f)]&&this[_0x370c0e(0x4c2)](_0x47be7c));});}[_0x677888(0x7ed)](){const _0x16a793=_0x677888;this[_0x16a793(0x398)]?.();}['addConnection'](_0x4da6a4){const _0x1cf81d=_0x677888,_0x2e7adc=_0x4da6a4[_0x1cf81d(0x980)](_0x3c8325=>{const _0x5db177=_0x1cf81d;this[_0x5db177(0x89a)][_0x5db177(0x6c6)](_0x3c8325);});this[_0x1cf81d(0x5e5)][_0x1cf81d(0x926)](_0x4da6a4,_0x2e7adc),this[_0x1cf81d(0x7f6)][_0x1cf81d(0x926)](_0x4da6a4[_0x1cf81d(0x7b7)](),function(_0x56375d,_0x18481d=!0x1){let _0xbc8bab=new Map();const _0x237543=_0x4e695b(_0x56375d,_0x18481d,function(_0x77c1c7){const _0x51b071=a0_0x5cc9;_0x32dd87(_0x77c1c7)&&_0xbc8bab[_0x51b071(0x60b)](_0x77c1c7[_0x51b071(0x2e2)]+'-'+(_0x77c1c7[_0x51b071(0x9f5)]??[])+'-'+_0x77c1c7[_0x51b071(0x343)]+'-'+_0x77c1c7[_0x51b071(0x6a6)][_0x51b071(0xb0f)]);},function(_0x132901){return!!function(_0x24423e){const _0x730177=a0_0x5cc9,_0x16e9f1=_0x24423e[_0x730177(0x6fa)];if(!_0x32dd87(_0x16e9f1))return!0x1;const _0x3ac7f4=_0x16e9f1[_0x730177(0x2e2)]+'-'+(_0x16e9f1['destinationIds']??[])+'-'+_0x16e9f1[_0x730177(0x343)]+'-'+_0x16e9f1[_0x730177(0x6a6)][_0x730177(0xb0f)],_0x548c50={'version':_0x16e9f1['content'][_0x730177(0x476)],'element':_0x24423e},_0x38139d=_0xbc8bab[_0x730177(0x8a1)](_0x3ac7f4);return _0x38139d?(_0x38139d[_0x730177(0x476)]>=_0x16e9f1[_0x730177(0x6a6)][_0x730177(0x476)]||(_0x38139d['element'][_0x730177(0x339)]&&(_0x38139d[_0x730177(0x6dc)][_0x730177(0x339)][_0x730177(0x291)]=_0x24423e,_0x24423e[_0x730177(0x339)]=_0x38139d[_0x730177(0x6dc)][_0x730177(0x339)]),_0x38139d[_0x730177(0x6dc)][_0x730177(0x291)]&&(_0x38139d[_0x730177(0x6dc)]['next']['previous']=_0x24423e,_0x24423e[_0x730177(0x291)]=_0x38139d[_0x730177(0x6dc)][_0x730177(0x291)]),_0x38139d['element']===_0x237543['head']&&(_0x237543[_0x730177(0x2c1)]=_0x24423e),_0x38139d[_0x730177(0x6dc)]===_0x237543[_0x730177(0x33f)]&&(_0x237543[_0x730177(0x33f)]=_0x24423e),_0xbc8bab['set'](_0x3ac7f4,_0x548c50)),!0x0):(_0xbc8bab[_0x730177(0x926)](_0x3ac7f4,_0x548c50),!0x1);}(_0x132901);},function(){const _0x152397=a0_0x5cc9;_0xbc8bab[_0x152397(0x99d)]();});function _0x32dd87(_0x38e5e2){const _0x3fd358=a0_0x5cc9;if(_0x38e5e2&&_0x3fd358(0x3be)==typeof _0x38e5e2&&_0x38e5e2[_0x3fd358(0x66e)](_0x3fd358(0x6a6))&&_0x38e5e2[_0x3fd358(0x66e)](_0x3fd358(0x343))&&_0x38e5e2['hasOwnProperty'](_0x3fd358(0x2e2))){const _0x1924d7=_0x38e5e2;if(_0x1924d7['content']&&_0x3fd358(0x3be)==typeof _0x1924d7[_0x3fd358(0x6a6)]&&_0x1924d7[_0x3fd358(0x6a6)][_0x3fd358(0x66e)](_0x3fd358(0x476))&&_0x1924d7[_0x3fd358(0x6a6)][_0x3fd358(0x66e)](_0x3fd358(0xb0f)))return!0x0;}return!0x1;}return _0x237543;}(new _0x23a9d0(_0x4b3ba8=>_0x4da6a4[_0x1cf81d(0x4c2)](_0x4b3ba8),()=>_0x450481[_0x1cf81d(0x201)](0x64))));}[_0x677888(0xb1c)](_0x9a60f8){const _0x29544e=_0x677888;this[_0x29544e(0x5e5)][_0x29544e(0x8a1)](_0x9a60f8)?.(),this['connections'][_0x29544e(0x60b)](_0x9a60f8),this[_0x29544e(0x7f6)]['get'](_0x9a60f8[_0x29544e(0x7b7)]())?.[_0x29544e(0x99d)](),this['retryQueues'][_0x29544e(0x60b)](_0x9a60f8[_0x29544e(0x7b7)]());}['isConnected'](_0x2b22d4){const _0x50fa36=_0x677888;return _0x5bf0c2['log'](_0x86d570[_0x50fa36(0x95b)],_0x50fa36(0x7bb),this[_0x50fa36(0x600)],this[_0x50fa36(0x5e5)]['keys']()),0x0!==this[_0x50fa36(0x5e5)][_0x50fa36(0x22b)]&&(Array['from'](this[_0x50fa36(0x5e5)][_0x50fa36(0x1fd)]())[_0x50fa36(0x8ab)](_0x3a672f=>_0x3a672f[_0x50fa36(0x7b7)]()===_0x2b22d4)?.['isConnected']()??!0x1);}[_0x677888(0x464)](_0x299436){const _0x1abdcd=_0x677888;this[_0x1abdcd(0xa11)]['set'](_0x299436[_0x1abdcd(0x4d9)](),_0x299436);}[_0x677888(0x72b)](_0x72ee82){const _0x2e9953=_0x677888;this[_0x2e9953(0xa11)]['delete'](_0x72ee82[_0x2e9953(0x4d9)]());}[_0x677888(0x4b1)](_0x2ce1af){const _0x51f299=_0x677888,_0x565d02=_0x2ce1af[_0x51f299(0x576)](this['send'][_0x51f299(0x75d)](this));this[_0x51f299(0x791)][_0x51f299(0x926)](_0x2ce1af[_0x51f299(0x4d9)](),_0x565d02);}[_0x677888(0x2c2)](_0x14d17b){const _0x36c73b=_0x677888;this[_0x36c73b(0x791)][_0x36c73b(0x8a1)](_0x14d17b[_0x36c73b(0x4d9)]())?.(),this['dataUnsubscribers'][_0x36c73b(0x60b)](_0x14d17b['getLabel']());}['getSupportedContentTypes'](){const _0x2063c8=_0x677888;return[_0x1736bb[_0x2063c8(0xa3c)][_0x2063c8(0x5f5)],_0x1736bb[_0x2063c8(0xa3c)][_0x2063c8(0x963)],_0x1736bb['ContentType'][_0x2063c8(0x60c)],_0x1736bb[_0x2063c8(0xa3c)]['KeyValueDatabase'],_0x1736bb[_0x2063c8(0xa3c)]['Job'],_0x1736bb[_0x2063c8(0xa3c)][_0x2063c8(0x2b3)],_0x1736bb[_0x2063c8(0xa3c)][_0x2063c8(0x726)],_0x1736bb[_0x2063c8(0xa3c)][_0x2063c8(0x9c5)]];}[_0x677888(0x4c2)](_0x4457bf){const _0x4e31fa=_0x677888;if(!0x1===_0x4457bf[_0x4e31fa(0x176)]){if(_0x4457bf[_0x4e31fa(0x23f)]||!_0x4457bf[_0x4e31fa(0x9f5)]||0x1!==_0x4457bf['destinationIds'][_0x4e31fa(0x8a9)])throw new _0x4dab04(_0x4dab04['codes']['ConnectionInvalidDataEvent'],{'message':_0x4e31fa(0x552),'localId':this[_0x4e31fa(0x600)]});if(!this['isConnected'](_0x4457bf[_0x4e31fa(0x9f5)][0x0]))throw new _0x205f08(_0x4e31fa(0xa99));}const _0x597eba=_0x4457bf['recipients']??[];try{const {filteredDestinationIds:_0x1de44f,extendedRecipients:_0x39f399}=this[_0x4e31fa(0x9eb)](_0x4457bf,_0x597eba);_0x4457bf[_0x4e31fa(0x9f5)]=_0x1de44f,_0x4457bf[_0x4e31fa(0x789)]=_0x39f399;}catch(_0x443bb0){if(_0x443bb0 instanceof _0x205f08)return void _0x5bf0c2[_0x4e31fa(0x5d7)](_0x86d570['Connection'],'CrewdleConnectionGroup',_0x4e31fa(0x4cf),_0x4457bf,_0x443bb0[_0x4e31fa(0x71b)]);}const _0x3ff102=this[_0x4e31fa(0x7c5)](_0x4457bf);this[_0x4e31fa(0x25a)](_0x4457bf,_0x3ff102),_0x4457bf[_0x4e31fa(0x23f)]=_0x3ff102;const _0x536467=this[_0x4e31fa(0x7df)](_0x4457bf,_0x597eba);for(const _0x259a35 of _0x536467){const _0x546161=this[_0x4e31fa(0x7f6)]['get'](_0x259a35[_0x4e31fa(0x7b7)]());if(!_0x546161)throw new _0x4dab04(_0x4dab04[_0x4e31fa(0x6ec)][_0x4e31fa(0x475)],{'message':_0x4e31fa(0x43b),'localId':this[_0x4e31fa(0x600)],'remoteId':_0x259a35[_0x4e31fa(0x7b7)](),'data':_0x4457bf});_0x546161['push'](_0x4457bf);}}[_0x677888(0x7b7)](){return'';}[_0x677888(0x297)](){const _0x215f9e=_0x677888;return this[_0x215f9e(0x600)];}[_0x677888(0x980)](_0x20c346){const _0x13d376=_0x677888;return this['messageListeners'][_0x13d376(0x576)](_0x20c346);}['updatePropagationProperties'](_0x123d7e,_0x2e4d68){const _0x42e9e2=_0x677888,_0x5971d9={'filteredDestinationIds':_0x123d7e[_0x42e9e2(0x9f5)],'extendedRecipients':_0x123d7e[_0x42e9e2(0x789)]};if(!_0x123d7e[_0x42e9e2(0x23f)])return _0x5971d9;const _0xe463fa=Array[_0x42e9e2(0x3fd)](this['connections']['keys']())['filter'](_0x46eb44=>_0x46eb44[_0x42e9e2(0x9e2)]()===_0x2a143c['Core']||_0x46eb44[_0x42e9e2(0x5bc)]())[_0x42e9e2(0x360)](_0x3c0a5b=>_0x3c0a5b[_0x42e9e2(0x7b7)]());if(_0xe463fa[_0x42e9e2(0x63b)]((_0x55807e,_0x2cd946)=>_0x55807e&&_0x123d7e['recipients'][_0x42e9e2(0xace)](_0x2cd946),!0x0))throw new _0x205f08(_0x42e9e2(0x9e9));if(_0x123d7e['destinationIds']){const _0x3f7713=_0x123d7e[_0x42e9e2(0x9f5)][_0x42e9e2(0x3cc)](_0x297587=>_0x297587!==this[_0x42e9e2(0x600)]&&!_0x123d7e['recipients'][_0x42e9e2(0xace)](_0x297587));if(0x0===_0x3f7713[_0x42e9e2(0x8a9)])throw new _0x205f08(_0x42e9e2(0x85f));_0x5971d9['filteredDestinationIds']=_0x3f7713;}return _0x5971d9[_0x42e9e2(0xa77)]=[...new Set([..._0x2e4d68,..._0xe463fa,this['localId']])],_0x5971d9;}[_0x677888(0x25a)](_0x5c44fd,_0x128b1f=!0x1){const _0x774f67=_0x677888;if(0x0===_0x5c44fd[_0x774f67(0x822)]&&!_0x4ee3b9(_0x5c44fd,this[_0x774f67(0x600)])&&_0x5c44fd[_0x774f67(0x23f)]){const _0x35520a=_0x38c506(_0x5c44fd,this[_0x774f67(0x600)]);_0x5bf0c2[_0x774f67(0x78f)](_0x86d570[_0x774f67(0x438)],_0x5c44fd[_0x774f67(0x2ce)]+_0x774f67(0x5ff)+_0x128b1f+')\x20'+_0x35520a,_0x5c44fd,_0x128b1f);}}[_0x677888(0x7c5)](_0x4792c6){const _0x47e98f=_0x677888;if(_0x4792c6['destinationIds']&&_0x4792c6[_0x47e98f(0x23f)]){const _0x3975e1=Array[_0x47e98f(0x3fd)](this[_0x47e98f(0x5e5)][_0x47e98f(0x1fd)]())[_0x47e98f(0x3cc)](_0x530557=>_0x530557[_0x47e98f(0x9e2)]()===_0x2a143c['Core']||_0x530557[_0x47e98f(0x5bc)]())[_0x47e98f(0x360)](_0x1fe59b=>_0x1fe59b[_0x47e98f(0x7b7)]());return!_0x4792c6[_0x47e98f(0x9f5)][_0x47e98f(0x63b)]((_0x599e1e,_0x5b2b34)=>_0x599e1e&&_0x3975e1[_0x47e98f(0xace)](_0x5b2b34),!0x0);}return _0x4792c6['propagate']??!0x1;}[_0x677888(0x7df)](_0x35acca,_0x34b80e){const _0x4a1790=_0x677888;if(_0x35acca[_0x4a1790(0x23f)]&&_0x35acca[_0x4a1790(0x9f5)]){const _0x37234c=Array['from'](this[_0x4a1790(0x5e5)]['keys']())['filter'](_0x1d5304=>_0x1d5304['getConnectionType']()===_0x2a143c[_0x4a1790(0x56d)]||_0x1d5304['isConnected']())[_0x4a1790(0x360)](_0x191199=>_0x191199[_0x4a1790(0x7b7)]()),_0x4112c8=new Set(),_0x4a2b87=_0x35acca[_0x4a1790(0x2e2)]===this[_0x4a1790(0x600)]?0x3:0x1;return _0x35acca[_0x4a1790(0x9f5)][_0x4a1790(0x938)](_0x10aab4=>{const _0x25c27b=_0x4a1790,_0x371da1=this[_0x25c27b(0xa81)]['getClosestNodes'](_0x37234c,_0x10aab4);let _0x361136=0x0,_0x5c63c0=0x0;_0x371da1[_0x25c27b(0x938)](_0x515655=>{const _0x5c1406=_0x25c27b;if(_0x361136>=_0x4a2b87)return;const _0x3e5c6e=Array[_0x5c1406(0x3fd)](this['connections']['keys']())['find'](_0x341b2f=>_0x341b2f[_0x5c1406(0x7b7)]()===_0x515655);if(_0x3e5c6e){if(_0x3e5c6e[_0x5c1406(0x9e2)]()===_0x2a143c['Core']&&_0x5c63c0>0x0)return void(_0x5c63c0-=0x1);_0x4112c8['add'](_0x3e5c6e),_0x3e5c6e['getConnectionType']()===_0x2a143c[_0x5c1406(0x619)]&&(_0x5c63c0+=0x1),_0x361136+=0x1;}});}),Array['from'](_0x4112c8);}return Array[_0x4a1790(0x3fd)](this[_0x4a1790(0x5e5)]['keys']())[_0x4a1790(0x3cc)](_0x34c1b4=>{const _0x3ba1da=_0x4a1790;return _0x4ca9a6=_0x34c1b4[_0x3ba1da(0x7b7)](),!_0x34b80e[_0x3ba1da(0xace)](_0x4ca9a6)&&(_0x1cbb7f(_0x35acca,_0x4ca9a6)||_0x35acca['propagate'])&&(!_0x35acca[_0x3ba1da(0x23f)]||_0x34c1b4[_0x3ba1da(0x5bc)]()||_0x34c1b4[_0x3ba1da(0x9e2)]()===_0x2a143c['Core']);var _0x4ca9a6;});}}class _0x415b48{[_0x677888(0x600)];[_0x677888(0x5a3)];['connections']=new Map();[_0x677888(0x36c)];constructor(_0x5c3d94,_0x4513fa){const _0x50f2c4=_0x677888;this[_0x50f2c4(0x600)]=_0x5c3d94,this[_0x50f2c4(0x5a3)]=_0x4513fa;}['close'](){}[_0x677888(0x4c2)](_0x2c5588){const _0x2af90c=_0x677888;for(const _0x2ae23b of this[_0x2af90c(0x5e5)][_0x2af90c(0x1fd)]())try{return void _0x2ae23b[_0x2af90c(0x4c2)]({'retry':!0x1,..._0x2c5588});}catch(_0x217e19){_0x217e19 instanceof _0x205f08||_0x5bf0c2['log'](_0x86d570['Pool'],_0x2af90c(0x623)+_0x2ae23b,_0x217e19,_0x2c5588);}_0x5bf0c2[_0x2af90c(0x5d7)](_0x86d570[_0x2af90c(0x9d2)],_0x2af90c(0x99e));}[_0x677888(0x35e)](_0xbfe43){const _0x8db600=_0x677888,_0x12a31b=_0xbfe43[_0x8db600(0x980)](_0x2ee159=>{const _0x441b33=_0x8db600;this['messageBuffer'][_0x441b33(0x5df)](_0x2ee159[_0x441b33(0x2ce)])||0x0===_0x2ee159[_0x441b33(0x822)]&&(this[_0x441b33(0x5a3)][_0x441b33(0x823)](_0x2ee159[_0x441b33(0x2ce)]),_0x1cbb7f(_0x2ee159,this[_0x441b33(0x600)])&&this[_0x441b33(0x36c)]?.[_0x441b33(0x6c6)](_0x2ee159));});this[_0x8db600(0x5e5)][_0x8db600(0x926)](_0xbfe43,_0x12a31b);}[_0x677888(0xb1c)](_0x34453f){const _0x7f779d=_0x677888;this[_0x7f779d(0x5e5)][_0x7f779d(0x8a1)](_0x34453f)?.(),this[_0x7f779d(0x5e5)][_0x7f779d(0x60b)](_0x34453f);}[_0x677888(0x297)](){return this['localId'];}[_0x677888(0x7b7)](){return'';}['getSupportedContentTypes'](){const _0x30adf8=_0x677888;return[_0x1736bb[_0x30adf8(0xa3c)][_0x30adf8(0x5f5)]];}['isConnected'](){const _0xf0d96f=_0x677888;throw new Error(_0xf0d96f(0x9ea));}['registerSystemPublisher'](_0x1369ce){const _0x2fb51b=_0x677888;this[_0x2fb51b(0x36c)]=_0x1369ce;}[_0x677888(0x4dc)](){const _0x30222b=_0x677888;delete this[_0x30222b(0x36c)];}}class _0x8c1f9e{[_0x677888(0x28f)]=new Map();[_0x677888(0x84d)];constructor(){const _0x30a3d8=_0x677888;this['unsubscribeHandler']=_0x450481[_0x30a3d8(0x96d)](()=>{const _0x87a71f=_0x30a3d8;for(const [_0x324216,_0xd7d9e9]of this[_0x87a71f(0x28f)][_0x87a71f(0x3a0)]())Date[_0x87a71f(0x9bd)]()-_0xd7d9e9>0x124f80&&this[_0x87a71f(0x28f)][_0x87a71f(0x60b)](_0x324216);},0x1d4c0);}['close'](){const _0x4c1204=_0x677888;this[_0x4c1204(0x84d)]();}[_0x677888(0x823)](_0x4431c9){const _0x5be51c=_0x677888;this[_0x5be51c(0x28f)]['set'](_0x4431c9,Date[_0x5be51c(0x9bd)]());}[_0x677888(0x5df)](_0x460336){const _0x541256=_0x677888;return this['buffer'][_0x541256(0x26b)](_0x460336);}}class _0x2cacd9{['configs'];[_0x677888(0xa5b)];[_0x677888(0xb20)];[_0x677888(0x530)];[_0x677888(0x5e5)]=new Map();[_0x677888(0x893)];[_0x677888(0x3e4)];['signalingServer'];[_0x677888(0x5a3)];constructor(_0x4f5d36,_0x2950d9,_0x11c45c,_0x147181,_0x10b7eb){const _0x47ab3c=_0x677888;this[_0x47ab3c(0x4f0)]=_0x4f5d36,this[_0x47ab3c(0xa5b)]=_0x2950d9,this['iceServers']=_0x147181,this['options']=_0x10b7eb,this[_0x47ab3c(0x5a3)]=new _0x8c1f9e(),this[_0x47ab3c(0x3e4)]=new _0x118453(this[_0x47ab3c(0x4f0)][_0x47ab3c(0xa36)][_0x47ab3c(0x48e)](),this['messageBuffer'],_0x11c45c),this[_0x47ab3c(0x4e1)]=new _0x65fa02(this[_0x47ab3c(0x4f0)][_0x47ab3c(0x94e)],this[_0x47ab3c(0x4f0)]['clusterId'],this[_0x47ab3c(0x4f0)][_0x47ab3c(0xa36)],_0x47ab3c(0x402),this['authService']),this[_0x47ab3c(0x893)]=new _0x415b48(this['configs'][_0x47ab3c(0xa36)][_0x47ab3c(0x48e)](),this[_0x47ab3c(0x5a3)]),this[_0x47ab3c(0x893)][_0x47ab3c(0x35e)](this['connectionGroup']),this[_0x47ab3c(0x893)][_0x47ab3c(0x35e)](this['signalingServer']),this[_0x47ab3c(0x4f0)][_0x47ab3c(0x64f)][_0x47ab3c(0x830)](this[_0x47ab3c(0x893)]);}['close'](){const _0x50a763=_0x677888;this[_0x50a763(0x5a3)][_0x50a763(0x7ed)](),this[_0x50a763(0x5e5)][_0x50a763(0x938)]((_0x11fcd6,_0x3ee5a4)=>this[_0x50a763(0x42d)](_0x3ee5a4)),this[_0x50a763(0x4f0)]['mediator'][_0x50a763(0x1bd)](this[_0x50a763(0x893)]),this[_0x50a763(0x893)][_0x50a763(0xb1c)](this[_0x50a763(0x4e1)]),this[_0x50a763(0x893)]['removeConnection'](this[_0x50a763(0x3e4)]),this['connectionPool']['close'](),this[_0x50a763(0x4e1)][_0x50a763(0x7ed)](),this[_0x50a763(0x3e4)][_0x50a763(0x7ed)]();}async[_0x677888(0x921)](){const _0xf62464=_0x677888;await this['signalingServer'][_0xf62464(0x2c3)]();}async[_0x677888(0x683)](_0x3cd926,_0x5ac60b=_0x2a143c[_0x677888(0x56d)]){const _0x4d0660=_0x677888;if(this[_0x4d0660(0x5e5)]['has'](_0x3cd926)){if(this[_0x4d0660(0x5e5)][_0x4d0660(0x8a1)](_0x3cd926)?.[_0x4d0660(0x9e2)]()===_0x2a143c[_0x4d0660(0x619)]&&_0x5ac60b===_0x2a143c[_0x4d0660(0x56d)])return void this[_0x4d0660(0x5e5)][_0x4d0660(0x8a1)](_0x3cd926)?.['setConnectionType'](_0x2a143c[_0x4d0660(0x56d)]);throw new _0x4dab04(_0x4dab04['codes'][_0x4d0660(0x4bd)],{'localId':this['configs']['localNode'][_0x4d0660(0x48e)](),'remoteId':_0x3cd926});}const _0xe750af=new _0x4dd65a(this['configs'][_0x4d0660(0x8a2)],this[_0x4d0660(0x4f0)][_0x4d0660(0xa36)],_0x3cd926,this[_0x4d0660(0xb20)],_0x5ac60b,this[_0x4d0660(0x530)]['maxFps'],this[_0x4d0660(0x530)][_0x4d0660(0xafd)],this['options'][_0x4d0660(0x4d5)]);this[_0x4d0660(0x5e5)][_0x4d0660(0x926)](_0x3cd926,_0xe750af),this['connectionGroup'][_0x4d0660(0x35e)](_0xe750af),this[_0x4d0660(0x4f0)][_0x4d0660(0x64f)]['registerSystemSource'](_0xe750af),this[_0x4d0660(0x4f0)][_0x4d0660(0x64f)]['registerRemoteNode'](_0x3cd926),await _0xe750af[_0x4d0660(0x2c3)]();}['getConnectionGroup'](){const _0x176122=_0x677888;return this[_0x176122(0x3e4)];}[_0x677888(0x2cc)](_0xbeb07d){const _0x21d239=_0x677888;if(!this[_0x21d239(0x5e5)][_0x21d239(0x26b)](_0xbeb07d))throw new _0x4dab04(_0x4dab04[_0x21d239(0x6ec)][_0x21d239(0x8f4)],{'localId':this[_0x21d239(0x4f0)][_0x21d239(0xa36)][_0x21d239(0x48e)](),'remoteId':_0xbeb07d});return this[_0x21d239(0x5e5)][_0x21d239(0x8a1)](_0xbeb07d);}[_0x677888(0x8c2)](_0x13667e){const _0x27ff3c=_0x677888,_0x39d673=Array['from'](this[_0x27ff3c(0x5e5)][_0x27ff3c(0x9c3)]());return _0x13667e?_0x39d673['filter'](_0x13667e):_0x39d673;}async['collectStats'](_0x329306){const _0xd4169c=_0x677888,_0x802ea9=this[_0xd4169c(0x5e5)]['get'](_0x329306);_0x802ea9&&_0x802ea9[_0xd4169c(0x5bc)]()&&await _0x802ea9['collectStats']();}[_0x677888(0x270)](_0xd206ab){const _0x31d5fe=_0x677888;if(_0xd206ab['messageType']!==_0x59623a[_0x31d5fe(0x46b)]||_0xd206ab[_0x31d5fe(0x23f)])try{this[_0x31d5fe(0x3e4)]['send'](_0xd206ab);}catch(_0x45a819){if(_0x45a819 instanceof _0x205f08)return;throw _0x45a819;}else this[_0x31d5fe(0x893)][_0x31d5fe(0x4c2)](_0xd206ab);}async[_0x677888(0x6fe)](_0x4cdb6d){const _0x1ac209=_0x677888;switch(_0x4cdb6d['content']['type']){case _0x3ba04a[_0x1ac209(0xa0b)]:case _0x3ba04a['Stats']:case _0x3ba04a[_0x1ac209(0x445)]:return;}if(!_0x4cdb6d[_0x1ac209(0x9f5)]||0x1!==_0x4cdb6d[_0x1ac209(0x9f5)][_0x1ac209(0x8a9)])throw new _0x4dab04(_0x4dab04['codes'][_0x1ac209(0x914)],{'message':_0x1ac209(0x39d),'event':_0x4cdb6d});if(_0x4cdb6d[_0x1ac209(0x9f5)][0x0]!==this[_0x1ac209(0x4f0)][_0x1ac209(0xa36)][_0x1ac209(0x48e)]())throw new _0x4dab04(_0x4dab04[_0x1ac209(0x6ec)]['PeerConnectionInvalidDestination'],{'message':_0x1ac209(0x587),'event':_0x4cdb6d});if(!this[_0x1ac209(0x5e5)][_0x1ac209(0x26b)](_0x4cdb6d[_0x1ac209(0x2e2)])){let _0x40adb6=_0x2a143c[_0x1ac209(0x56d)];if(!(this[_0x1ac209(0x8ef)](_0x4cdb6d['content'])||this[_0x1ac209(0x547)](_0x4cdb6d[_0x1ac209(0x6a6)])||this[_0x1ac209(0x792)](_0x4cdb6d[_0x1ac209(0x6a6)])))return;_0x40adb6=_0x4cdb6d['content'][_0x1ac209(0x4f9)],await this[_0x1ac209(0x683)](_0x4cdb6d[_0x1ac209(0x2e2)],_0x40adb6);}const _0x58d511=this['connections'][_0x1ac209(0x8a1)](_0x4cdb6d[_0x1ac209(0x2e2)]);await _0x58d511['handlePeerConnectionSystemEvents'](_0x4cdb6d);}['handleRemediationSystemEvents'](_0x54487c){const _0x3115a1=_0x677888;if(_0x54487c['content'][_0x3115a1(0xb0f)]===_0x50c54d['Remediation']){if(_0x54487c[_0x3115a1(0x6a6)][_0x3115a1(0x98b)]===this[_0x3115a1(0x4f0)][_0x3115a1(0xa36)][_0x3115a1(0x48e)]())return void this[_0x3115a1(0x5e5)][_0x3115a1(0x938)](_0x1f47ef=>_0x1f47ef[_0x3115a1(0x994)](_0x54487c));this[_0x3115a1(0x5e5)]['get'](_0x54487c['content']['targetId'])?.['handleRemediationSystemEvents'](_0x54487c);}}[_0x677888(0x502)]({content:_0x339db3}){const _0x39c5e0=_0x677888;_0x339db3[_0x39c5e0(0xb0f)]===_0x1577f4[_0x39c5e0(0x390)]&&this[_0x39c5e0(0x42d)](_0x339db3['id']);}['waitForArrayBufferSize'](){const _0x305cae=_0x677888,_0x3e48e6=Array[_0x305cae(0x3fd)](this['connections'][_0x305cae(0x9c3)]())[_0x305cae(0x63b)]((_0x4be8ce,_0x55767c)=>_0x4be8ce+_0x55767c['calculateArrayBufferSize'](),0x0);return _0x3e48e6<_0x400e86?Promise['resolve'](_0x3e48e6):new Promise(_0x2539d5=>{const _0x40824=setInterval(()=>{const _0xc2599e=a0_0x5cc9,_0x7215af=Array[_0xc2599e(0x3fd)](this[_0xc2599e(0x5e5)][_0xc2599e(0x9c3)]())[_0xc2599e(0x63b)]((_0x3c36e5,_0x4b0c91)=>_0x3c36e5+_0x4b0c91[_0xc2599e(0x691)](),0x0);_0x7215af<_0x400e86&&(clearInterval(_0x40824),_0x2539d5(_0x7215af));},0x3e8);});}[_0x677888(0x97b)](){const _0x321c33=_0x677888;for(const _0x2bc389 of this['connections']['values']())if(_0x2bc389[_0x321c33(0x6e3)]()>0x0||_0x2bc389[_0x321c33(0x691)]()>0x0)return!0x0;return!0x1;}[_0x677888(0x42d)](_0x5b065b){const _0x39e201=_0x677888,_0x176399=this[_0x39e201(0x5e5)][_0x39e201(0x8a1)](_0x5b065b);_0x176399&&(this['configs'][_0x39e201(0x64f)]['unregisterRemoteNode'](_0x5b065b),this[_0x39e201(0x4f0)][_0x39e201(0x64f)][_0x39e201(0x1bd)](_0x176399),_0x176399 instanceof _0x4dd65a&&this['connectionGroup'][_0x39e201(0xb1c)](_0x176399),_0x176399[_0x39e201(0x7ed)](),this[_0x39e201(0x5e5)][_0x39e201(0x60b)](_0x5b065b));}[_0x677888(0x8ef)](_0x29432f){const _0x9d964a=_0x677888;return _0x29432f[_0x9d964a(0xb0f)]===_0x3ba04a[_0x9d964a(0x333)];}['isNeedRestart'](_0x375db3){const _0x265a3c=_0x677888;return _0x375db3[_0x265a3c(0xb0f)]===_0x3ba04a['NeedRestart'];}[_0x677888(0x547)](_0x29d419){const _0x4cad57=_0x677888;return _0x29d419[_0x4cad57(0xb0f)]===_0x3ba04a[_0x4cad57(0x3c2)];}}!function(_0x5bd6d0){const _0x1dfb85=_0x677888;_0x5bd6d0[_0x5bd6d0[_0x1dfb85(0x27b)]=0x0]=_0x1dfb85(0x27b),_0x5bd6d0[_0x5bd6d0[_0x1dfb85(0x79d)]=0x1]=_0x1dfb85(0x79d),_0x5bd6d0[_0x5bd6d0['UnsubscribeMediaStream']=0x2]='UnsubscribeMediaStream',_0x5bd6d0[_0x5bd6d0[_0x1dfb85(0x400)]=0x3]=_0x1dfb85(0x400),_0x5bd6d0[_0x5bd6d0[_0x1dfb85(0x675)]=0x4]=_0x1dfb85(0x675),_0x5bd6d0[_0x5bd6d0[_0x1dfb85(0x8b8)]=0x5]=_0x1dfb85(0x8b8),_0x5bd6d0[_0x5bd6d0[_0x1dfb85(0x409)]=0x6]=_0x1dfb85(0x409),_0x5bd6d0[_0x5bd6d0[_0x1dfb85(0x7ad)]=0x7]=_0x1dfb85(0x7ad);}(_0x1f2399||(_0x1f2399={}));class _0x449087 extends _0x5853dd{['localNode'];[_0x677888(0x8a2)];[_0x677888(0x94e)];[_0x677888(0x48b)];[_0x677888(0x74e)];[_0x677888(0xb1b)]=0x0;[_0x677888(0x609)];['eventListener']=_0x484270();[_0x677888(0x590)]=new Map();[_0x677888(0x1e5)];constructor(_0x199ab4,_0x583697,_0x355d1b,_0x58b032,_0x3f8ece){const _0x1c82f2=_0x677888;if(_0x1c82f2(0x435)!=typeof _0x583697)throw new _0x2ed9c0(_0x4e0a41['ExternalStorageNameNotString'],_0x1c82f2(0x1a1));super(_0x199ab4,_0x583697),this[_0x1c82f2(0xa36)]=_0x199ab4,this[_0x1c82f2(0x8a2)]=_0x355d1b,this[_0x1c82f2(0x94e)]=_0x58b032,this[_0x1c82f2(0x48b)]=_0x3f8ece,this[_0x1c82f2(0x971)]();}[_0x677888(0x405)](){const _0x2859a5=_0x677888;this[_0x2859a5(0x1e5)]?.(),this[_0x2859a5(0x590)][_0x2859a5(0x938)](_0x467879=>_0x467879()),clearTimeout(this[_0x2859a5(0x74e)]),delete this['debounceStats'],super[_0x2859a5(0x405)]();}[_0x677888(0x79b)](){const _0x403b12=_0x677888;this[_0x403b12(0x971)]();}['close'](){const _0x114b9b=_0x677888;this[_0x114b9b(0x36c)][_0x114b9b(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x114b9b(0xb04)],'content':{'type':_0x17da44['CloseExternalStorageConnection'],'label':this[_0x114b9b(0x65c)]}});}[_0x677888(0x5b3)](){return _0x1736bb['ContentType']['ExternalStorage'];}async[_0x677888(0x8a1)](_0x5e3f2e){const _0x2a7893=_0x677888;if(!this['connector'])throw new _0x2ed9c0(_0x4e0a41[_0x2a7893(0x218)],_0x2a7893(0x774));_0x5bf0c2[_0x2a7893(0x44f)](_0x1cdbf5[_0x2a7893(0x9c5)],{'type':_0x2a7893(0x8a1),'label':this[_0x2a7893(0x65c)],'nodeId':this[_0x2a7893(0xa36)][_0x2a7893(0x48e)](),'nodeType':this[_0x2a7893(0xa36)]['type'],'clusterId':this[_0x2a7893(0x8a2)],'path':_0x5e3f2e}),this[_0x2a7893(0xb1b)]+=0x1,this[_0x2a7893(0x971)]();try{return await this[_0x2a7893(0x609)][_0x2a7893(0x8a1)](_0x5e3f2e);}catch(_0x496571){throw new _0x2ed9c0(_0x4e0a41['ExternalStorageInvalidPath'],_0x2a7893(0x1ac)+_0x5e3f2e);}}async[_0x677888(0x7b5)](_0x1e3abe,_0x283c8a){const _0x5d4ac7=_0x677888;if(!this[_0x5d4ac7(0x609)])throw new _0x2ed9c0(_0x4e0a41[_0x5d4ac7(0x218)],_0x5d4ac7(0x369));const {recursive:_0x2e4389=!0x1}=_0x283c8a??{};_0x5bf0c2[_0x5d4ac7(0x44f)](_0x1cdbf5[_0x5d4ac7(0x9c5)],{'type':_0x5d4ac7(0x7b5),'label':this['label'],'nodeId':this[_0x5d4ac7(0xa36)][_0x5d4ac7(0x48e)](),'nodeType':this[_0x5d4ac7(0xa36)]['type'],'clusterId':this[_0x5d4ac7(0x8a2)],'path':_0x1e3abe}),this[_0x5d4ac7(0xb1b)]+=0x1,this[_0x5d4ac7(0x971)]();try{return await this[_0x5d4ac7(0x609)][_0x5d4ac7(0x7b5)](_0x1e3abe,_0x2e4389);}catch(_0x15fca7){throw new _0x2ed9c0(_0x4e0a41[_0x5d4ac7(0x4fe)],_0x5d4ac7(0x359)+_0x1e3abe);}}[_0x677888(0x576)](_0x5e9e4c,_0x69beed){const _0x1a5479=_0x677888;if(this['listenerUnsubscribers'][_0x1a5479(0x26b)](_0x5e9e4c))throw new _0x2ed9c0(_0x4e0a41[_0x1a5479(0x9ca)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this['listenerUnsubscribers'][_0x1a5479(0x926)](_0x5e9e4c,this[_0x1a5479(0x3e9)][_0x1a5479(0x576)](_0x69beed));}[_0x677888(0xa24)](_0x119e3d){const _0x51eae8=_0x677888;this[_0x51eae8(0x590)][_0x51eae8(0x8a1)](_0x119e3d)?.(),this[_0x51eae8(0x590)][_0x51eae8(0x60b)](_0x119e3d);}async[_0x677888(0xacb)](){const _0x2a12c1=_0x677888,_0x544ae8=(await(0x0,_0x214774[_0x2a12c1(0x960)])((0x0,_0x214774[_0x2a12c1(0x3e7)])(_0x66e9['getFirestore'](),'/developers/'+this['vendorId']+'/resources/external-storage/items/'+this[_0x2a12c1(0x65c)])))[_0x2a12c1(0x337)]();if(!_0x544ae8)throw new _0x2ed9c0(_0x4e0a41[_0x2a12c1(0xac7)],_0x2a12c1(0x97d)+this[_0x2a12c1(0x65c)]);const {site:_0x36abbd,drive:_0x178c40}=_0x544ae8,_0x251128=(await(0x0,_0x425f91['httpsCallable'])(_0x66e9[_0x2a12c1(0xa5c)](),_0x2a12c1(0x363))({'storageId':this[_0x2a12c1(0x65c)]}))['data'][_0x2a12c1(0x36a)];this[_0x2a12c1(0x609)]=new this[(_0x2a12c1(0x48b))](_0x36abbd['id'],_0x178c40['id'],_0x251128,async()=>(await(0x0,_0x425f91[_0x2a12c1(0x50f)])(_0x66e9[_0x2a12c1(0xa5c)](),_0x2a12c1(0x589))({'storageId':this[_0x2a12c1(0x65c)]}))[_0x2a12c1(0x337)][_0x2a12c1(0x36a)]),this[_0x2a12c1(0xaba)]();}[_0x677888(0x971)](){const _0x56e05d=_0x677888;this[_0x56e05d(0x74e)]&&clearTimeout(this[_0x56e05d(0x74e)]),this[_0x56e05d(0x74e)]=setTimeout(async()=>{const _0x262f39=_0x56e05d;delete this[_0x262f39(0x74e)],this[_0x262f39(0x36c)][_0x262f39(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x262f39(0xb04)],'content':{'type':_0x17da44['ExternalStorageStats'],'label':this['label'],'stats':{'timestamp':Date[_0x262f39(0x9bd)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x262f39(0xb1b)],'prompts':0x0,'tokens':0x0}}});},_0x3025f9);}async[_0x677888(0xaba)](){const _0x288f49=_0x677888;await this[_0x288f49(0x609)]?.[_0x288f49(0x4f1)](),this['changesUnsubscriber']=_0x450481[_0x288f49(0x96d)](async()=>{const _0xa23262=_0x288f49;try{if(!this[_0xa23262(0x609)])return;const _0x5309c8=await this[_0xa23262(0x609)][_0xa23262(0x4f1)]();for(const _0x528af8 of _0x5309c8)this['eventListener'][_0xa23262(0x6c6)](_0x528af8);}catch(_0xebc886){}},0x493e0);}}const _0x2089ea=require('rxjs');class _0x14ad5c extends _0x5853dd{[_0x677888(0xa81)];[_0x677888(0x995)]=new Map();[_0x677888(0x69c)]=new Map();[_0x677888(0xb15)]=new Map();[_0x677888(0x84d)];constructor(_0x57cb51,_0x3ddf1c,_0x49a3a7){const _0xef42d2=_0x677888;super(_0x57cb51,_0x3ddf1c),this[_0xef42d2(0xa81)]=_0x49a3a7;}['getContentType'](){const _0x53254c=_0x677888;return _0x1736bb['ContentType'][_0x53254c(0x6f4)];}[_0x677888(0xacb)](){const _0x13d30f=_0x677888;this['unsubscribeHandler']=this[_0x13d30f(0x980)]((_0x362524,_0x250eef)=>{const _0x21a8bf=_0x13d30f;if(_0x5bf0c2['log'](_0x86d570[_0x21a8bf(0x83c)],_0x21a8bf(0x3ac),_0x362524,_0x250eef,this[_0x21a8bf(0xa81)]['getRemoteNodes']()),!(_0x250eef instanceof File)){if(!_0x250eef)throw new _0x4dab04(_0x4dab04[_0x21a8bf(0x6ec)][_0x21a8bf(0x4b8)]);return this['isBidResponse'](_0x250eef)?this[_0x21a8bf(0x666)](_0x362524,_0x250eef['id'],_0x250eef):this[_0x21a8bf(0x38e)](_0x250eef)?(_0x5bf0c2[_0x21a8bf(0x5d7)](_0x86d570[_0x21a8bf(0x83c)],'Job\x20'+_0x250eef['id']+_0x21a8bf(0x990),_0x250eef[_0x21a8bf(0x5b4)]),void this['evaluatePartialJob'](_0x250eef['id'],_0x250eef)):this['isResultResponse'](_0x250eef)?(_0x5bf0c2[_0x21a8bf(0x5d7)](_0x86d570[_0x21a8bf(0x83c)],_0x21a8bf(0xb0e)+_0x250eef['id']+_0x21a8bf(0x976),_0x250eef[_0x21a8bf(0x5b4)]),void this[_0x21a8bf(0x349)](_0x250eef['id'],_0x250eef)):void(this['isFailedResponse'](_0x250eef)&&this[_0x21a8bf(0xa94)](_0x250eef['id'],_0x250eef[_0x21a8bf(0x71b)]));}});}[_0x677888(0x79b)](){const _0x247cf7=_0x677888;this[_0x247cf7(0x99d)](),this[_0x247cf7(0xacb)]();}[_0x677888(0x405)](){const _0x5b66ac=_0x677888;this[_0x5b66ac(0x99d)](),super[_0x5b66ac(0x405)]();}[_0x677888(0x99d)](){const _0x2de8bd=_0x677888;this[_0x2de8bd(0x995)]['clear'](),this[_0x2de8bd(0x84d)]&&this['unsubscribeHandler']();}['close'](){const _0x659777=_0x677888;this[_0x659777(0x36c)]?.[_0x659777(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x659777(0xb04)],'content':{'type':_0x17da44[_0x659777(0x602)],'label':this[_0x659777(0x65c)]}});}async[_0x677888(0x931)](_0x537868){const _0x55b05b=_0x677888,{id:_0x5bdfbb,parameters:_0x158260,jobType:_0x45073b}=_0x537868,_0xf2d76={'id':_0x5bdfbb,'jobType':_0x45073b,'parameters':_0x158260,'status':_0x1736bb['JobStatus']['Pending'],'created':new Date(),'updated':new Date()};if(this[_0x55b05b(0x995)][_0x55b05b(0x26b)](_0xf2d76['id']))throw new _0x2ed9c0(_0x4e0a41[_0x55b05b(0x69a)],'Job\x20with\x20id\x20'+_0xf2d76['id']+_0x55b05b(0x40b));_0xf2d76['created']=new Date(),_0xf2d76[_0x55b05b(0x43a)]=new Date();const _0x16daa0=new _0x2089ea[(_0x55b05b(0x4ae))]();this[_0x55b05b(0x995)][_0x55b05b(0x926)](_0xf2d76['id'],_0xf2d76),this['jobObservers'][_0x55b05b(0x926)](_0xf2d76['id'],_0x16daa0);try{const _0x5fbbda={'id':_0xf2d76['id'],'jobPhase':_0x326baa[_0x55b05b(0xb0a)],'jobType':_0xf2d76[_0x55b05b(0x384)]},_0x5cc59a=0x3;let _0x300af9=0x0;const _0x5943d2=async()=>{const _0x15a39a=_0x55b05b;_0x300af9+=0x1;try{_0x5bf0c2[_0x15a39a(0x5d7)](_0x86d570[_0x15a39a(0x83c)],_0x15a39a(0xb0e)+_0xf2d76['id']+_0x15a39a(0x1c6)+_0x300af9+'.',this[_0x15a39a(0xa81)][_0x15a39a(0x443)]()),await this[_0x15a39a(0x4c2)](_0x5fbbda),_0xf2d76['updated']=new Date(),this[_0x15a39a(0x995)][_0x15a39a(0x926)](_0xf2d76['id'],_0xf2d76),this[_0x15a39a(0x760)](_0xf2d76['id']);}catch(_0x3cbf43){_0x300af9<_0x5cc59a?(_0x5bf0c2[_0x15a39a(0xa38)](_0x15a39a(0x986)+_0x300af9+_0x15a39a(0x693)+_0xf2d76['id']+_0x15a39a(0x245),{'nodeId':this[_0x15a39a(0x32c)]['getId'](),'nodeType':this[_0x15a39a(0x32c)][_0x15a39a(0xb0f)],'data':{'job':_0xf2d76,'attempts':_0x300af9,'maxRetries':_0x5cc59a}}),setTimeout(_0x5943d2,0x3e8)):(_0xf2d76[_0x15a39a(0x99c)]=_0x1736bb[_0x15a39a(0x4af)][_0x15a39a(0x644)],_0xf2d76[_0x15a39a(0x43a)]=new Date(),this[_0x15a39a(0x995)][_0x15a39a(0x926)](_0xf2d76['id'],_0xf2d76),_0x5bf0c2[_0x15a39a(0x487)](_0x15a39a(0x187)+_0xf2d76['id']+_0x15a39a(0x28c)+_0x5cc59a+_0x15a39a(0x5c3),{'nodeId':this[_0x15a39a(0x32c)][_0x15a39a(0x48e)](),'nodeType':this[_0x15a39a(0x32c)]['type'],'data':{'job':_0xf2d76,'attempts':_0x300af9,'maxRetries':_0x5cc59a,'error':_0x3cbf43}}));}};_0x5943d2();const {id:_0x328838}=_0xf2d76;this[_0x55b05b(0x9c6)](_0x55b05b(0xb0e)+_0xf2d76['id']+_0x55b05b(0x77c),{'jobId':_0x328838}),_0xf2d76['updated']=new Date();}catch(_0x38952c){_0xf2d76[_0x55b05b(0x99c)]=_0x1736bb['JobStatus'][_0x55b05b(0x644)],_0x5bf0c2[_0x55b05b(0x487)](_0x55b05b(0x187)+_0xf2d76['id']+':',{'nodeId':this[_0x55b05b(0x32c)][_0x55b05b(0x48e)](),'nodeType':this[_0x55b05b(0x32c)][_0x55b05b(0xb0f)],'data':{'job':_0xf2d76,'error':_0x38952c}});}return _0x16daa0[_0x55b05b(0x748)]();}[_0x677888(0x503)](_0x56c915){const _0x5dacfb=_0x677888,_0x3924f3=this[_0x5dacfb(0x995)][_0x5dacfb(0x8a1)](_0x56c915);if(!_0x3924f3)throw new _0x2ed9c0(_0x4e0a41[_0x5dacfb(0xa00)],_0x5dacfb(0x271)+_0x56c915+'\x20not\x20found.');return{'id':_0x3924f3['id'],'jobType':_0x3924f3[_0x5dacfb(0x384)],'status':_0x3924f3[_0x5dacfb(0x99c)],'parameters':_0x3924f3['parameters']};}[_0x677888(0x837)](){const _0x1cfb7d=_0x677888;return Array[_0x1cfb7d(0x3fd)](this[_0x1cfb7d(0x995)][_0x1cfb7d(0x9c3)]())[_0x1cfb7d(0x360)](_0x1a8652=>this[_0x1cfb7d(0x503)](_0x1a8652['id']));}async[_0x677888(0x4b6)](_0x49cfaa,_0x22392c){const _0x7beaa9=_0x677888,_0xce399a=this[_0x7beaa9(0x995)]['get'](_0x49cfaa);if(!_0xce399a)throw new _0x2ed9c0(_0x4e0a41['JobDispatcherJobNotFound'],_0x7beaa9(0x271)+_0x49cfaa+_0x7beaa9(0x33c));_0xce399a[_0x7beaa9(0x7e1)]=_0x22392c,_0xce399a[_0x7beaa9(0x43a)]=new Date(),this['jobs']['set'](_0x49cfaa,_0xce399a);}async['deleteJob'](_0x2c30f9){const _0x52a976=_0x677888;if(!this[_0x52a976(0x995)][_0x52a976(0x60b)](_0x2c30f9))throw new _0x2ed9c0(_0x4e0a41[_0x52a976(0xa00)],_0x52a976(0x271)+_0x2c30f9+_0x52a976(0x33c));const _0x44e8b9=this['jobObservers'][_0x52a976(0x8a1)](_0x2c30f9);if(!_0x44e8b9)throw new _0x4dab04(_0x4dab04[_0x52a976(0x6ec)]['JobDispatcherObserverNotFound']);_0x44e8b9[_0x52a976(0xacf)](),this[_0x52a976(0x69c)]['delete'](_0x2c30f9),_0x5bf0c2[_0x52a976(0x5d7)](_0x86d570[_0x52a976(0x83c)],_0x52a976(0xb0e)+_0x2c30f9+'\x20deleted.');}['addBidResponse'](_0x269840,_0x261d2b,_0x11160f){const _0x279dbb=_0x677888,_0x2d3817=this[_0x279dbb(0xb15)][_0x279dbb(0x8a1)](_0x261d2b)??new Map();_0x2d3817['set'](_0x269840,[_0x11160f,Date[_0x279dbb(0x9bd)]()]),this[_0x279dbb(0xb15)][_0x279dbb(0x926)](_0x261d2b,_0x2d3817),this[_0x279dbb(0x992)](_0x261d2b);}[_0x677888(0x760)](_0x1bec39){const _0x53ab48=_0x677888,_0x39379e=this['jobs'][_0x53ab48(0x8a1)](_0x1bec39);if(!_0x39379e)throw new _0x4dab04(_0x4dab04[_0x53ab48(0x6ec)][_0x53ab48(0xa00)]);const _0x3d11ba=setTimeout(()=>this[_0x53ab48(0x992)](_0x1bec39,!0x0),0xbb8);_0x39379e[_0x53ab48(0x6db)]=_0x3d11ba,this[_0x53ab48(0x995)][_0x53ab48(0x926)](_0x39379e['id'],_0x39379e);}[_0x677888(0x992)](_0x587a26,_0x40044d=!0x1){const _0x4aa106=_0x677888,_0x2c2999=this[_0x4aa106(0xa81)][_0x4aa106(0x443)](),_0x31edae=Array[_0x4aa106(0x3fd)](_0x2c2999['values']())[_0x4aa106(0x3cc)](_0x440cd9=>_0x440cd9['type']===_0x1736bb[_0x4aa106(0x9d1)][_0x4aa106(0x887)]),_0x272edb=this[_0x4aa106(0xb15)][_0x4aa106(0x8a1)](_0x587a26)??new Map();if(!_0x40044d&&(!_0x272edb||_0x272edb[_0x4aa106(0x22b)]<_0x31edae['length']))return;const _0x2c4b4b=this['jobs'][_0x4aa106(0x8a1)](_0x587a26);if(!_0x2c4b4b)throw new _0x4dab04(_0x4dab04[_0x4aa106(0x6ec)][_0x4aa106(0xa00)]);if(clearTimeout(_0x2c4b4b['responseTimeout']),_0x5bf0c2[_0x4aa106(0x5d7)](_0x86d570['Jobs'],_0x4aa106(0xb0e)+_0x2c4b4b['id']+'\x20received\x20responses:',_0x272edb,this[_0x4aa106(0xb15)]),!_0x272edb||0x0===_0x272edb['size']){_0x2c4b4b['status']=_0x1736bb[_0x4aa106(0x4af)][_0x4aa106(0x644)],_0x2c4b4b['updated']=new Date(),_0x5bf0c2[_0x4aa106(0x487)](_0x4aa106(0xb0e)+_0x2c4b4b['id']+_0x4aa106(0x7ac),{'nodeId':this[_0x4aa106(0x32c)][_0x4aa106(0x48e)](),'nodeType':this['owner'][_0x4aa106(0xb0f)],'data':{'job':_0x2c4b4b,'responses':_0x272edb}});const _0x393a90=this[_0x4aa106(0x69c)][_0x4aa106(0x8a1)](_0x587a26);if(!_0x393a90)throw new _0x4dab04(_0x4dab04[_0x4aa106(0x6ec)][_0x4aa106(0x7d8)]);const _0x251143='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x4bcc38={'id':_0x2c4b4b['id'],'status':_0x2c4b4b[_0x4aa106(0x99c)],'message':_0x251143};return _0x393a90[_0x4aa106(0x291)](_0x4bcc38),_0x393a90[_0x4aa106(0xacf)](),this[_0x4aa106(0x995)]['set'](_0x2c4b4b['id'],_0x2c4b4b),void this['jobBids']['delete'](_0x587a26);}const {nodeId:_0x57c9ae,response:_0x312a92}=this[_0x4aa106(0x7f4)](_0x2c4b4b['id'],_0x272edb);_0x2c4b4b[_0x4aa106(0x99c)]=_0x1736bb[_0x4aa106(0x4af)][_0x4aa106(0x252)],_0x2c4b4b[_0x4aa106(0x43a)]=new Date(),_0x5bf0c2[_0x4aa106(0x5d7)](_0x86d570[_0x4aa106(0x83c)],'Job\x20'+_0x2c4b4b['id']+'\x20attributed\x20to\x20'+_0x57c9ae+_0x4aa106(0x353),_0x312a92);const _0x49689c={'id':_0x2c4b4b['id'],'jobType':_0x2c4b4b[_0x4aa106(0x384)],'jobPhase':_0x326baa[_0x4aa106(0x446)],'parameters':_0x2c4b4b['parameters']};this[_0x4aa106(0x4c2)](_0x49689c,[_0x57c9ae]),this[_0x4aa106(0x995)][_0x4aa106(0x926)](_0x2c4b4b['id'],_0x2c4b4b),this['jobBids'][_0x4aa106(0x60b)](_0x587a26);}['evaluateBids'](_0xb2d963,_0x1ce431){const _0x447bf5=_0x677888;let _0x566e0e;const _0x4d49f4=Array[_0x447bf5(0x3fd)](_0x1ce431[_0x447bf5(0x3a0)]())[_0x447bf5(0x3cc)](([,[_0x370ccc]])=>_0x370ccc[_0x447bf5(0x31f)]);if(_0x566e0e=_0x4d49f4[_0x447bf5(0x8a9)]>0x0?Array[_0x447bf5(0x3fd)](_0x1ce431[_0x447bf5(0x3a0)]())[_0x447bf5(0x323)]((_0x2906c1,_0x31fffe)=>_0x31fffe[0x1][0x0][_0x447bf5(0x243)]-_0x2906c1[0x1][0x0][_0x447bf5(0x243)]):Array['from'](_0x1ce431[_0x447bf5(0x3a0)]())[_0x447bf5(0x323)]((_0x55f00e,_0x261bc4)=>_0x55f00e[0x1][0x0]['queueLength']-_0x261bc4[0x1][0x0]['queueLength']),0x1===_0x566e0e[_0x447bf5(0x8a9)])return{'nodeId':_0x566e0e[0x0][0x0],'response':_0x566e0e[0x0][0x1][0x0]};let _0x406055;if(_0x406055=_0x4d49f4[_0x447bf5(0x8a9)]>0x0?(_0x34a4e1=>{const _0x40e9ec=_0x447bf5,_0x5f0bdd=_0x34a4e1[0x0][0x1][0x0][_0x40e9ec(0x243)];return _0x34a4e1[_0x40e9ec(0x3cc)](([,[_0x39e656]])=>_0x39e656[_0x40e9ec(0x243)]===_0x5f0bdd);})(_0x566e0e):(_0x2ea6fe=>{const _0x323a7e=_0x447bf5,_0x5d9cd9=_0x2ea6fe[0x0][0x1][0x0][_0x323a7e(0x1a8)];return _0x2ea6fe['filter'](([,[_0x24848b]])=>_0x24848b['queueLength']===_0x5d9cd9);})(_0x566e0e),0x1===_0x406055[_0x447bf5(0x8a9)])return{'nodeId':_0x406055[0x0][0x0],'response':_0x406055[0x0][0x1][0x0]};const _0x266275=this[_0x447bf5(0x995)][_0x447bf5(0x8a1)](_0xb2d963);if(!_0x266275)throw new _0x4dab04(_0x4dab04[_0x447bf5(0x6ec)]['JobDispatcherJobNotFound']);const _0x1aa116=_0x266275['created'][_0x447bf5(0xb1e)](),_0x3fb9f4=_0x406055[_0x447bf5(0x360)](([_0x1e9fa7,[,_0x266bfd]])=>({'nodeId':_0x1e9fa7,'rtt':_0x266bfd-_0x1aa116})),_0x1b2fe1=Math[_0x447bf5(0x9a7)](..._0x3fb9f4[_0x447bf5(0x360)](({rtt:_0x4d39e5})=>_0x4d39e5)),_0x167549=_0x3fb9f4[_0x447bf5(0x8ab)](({rtt:_0x127d6d})=>_0x127d6d===_0x1b2fe1),[,[_0xe418a6]]=_0x406055[_0x447bf5(0x8ab)](([_0x5e69ea])=>_0x5e69ea===_0x167549[_0x447bf5(0x94c)]);return{'nodeId':_0x167549['nodeId'],'response':_0xe418a6};}[_0x677888(0x9b0)](_0x468cc9,_0x62dc1b){const _0x1e780d=_0x677888,_0xec31af=this['jobs'][_0x1e780d(0x8a1)](_0x468cc9);if(!_0xec31af)throw new _0x4dab04(_0x4dab04[_0x1e780d(0x6ec)]['JobDispatcherJobNotFound']);const _0x23b362=this[_0x1e780d(0x69c)][_0x1e780d(0x8a1)](_0x468cc9);if(!_0x23b362)throw new _0x4dab04(_0x4dab04[_0x1e780d(0x6ec)]['JobDispatcherObserverNotFound']);const _0x21bb0a={'id':_0xec31af['id'],'status':_0x1736bb[_0x1e780d(0x4af)]['Partial'],'result':_0x62dc1b['result']};_0x23b362[_0x1e780d(0x291)](_0x21bb0a);}['evaluateProccessedJob'](_0x39f14e,_0x49d45){const _0x229f90=_0x677888,_0x33e4f4=this[_0x229f90(0x995)]['get'](_0x39f14e);if(!_0x33e4f4)throw new _0x4dab04(_0x4dab04[_0x229f90(0x6ec)][_0x229f90(0xa00)]);const _0x1737ac=this['jobObservers']['get'](_0x39f14e);if(!_0x1737ac)throw new _0x4dab04(_0x4dab04[_0x229f90(0x6ec)][_0x229f90(0x7d8)]);_0x33e4f4['status']=_0x1736bb[_0x229f90(0x4af)][_0x229f90(0x2d4)];const _0x3ddfcb={'id':_0x33e4f4['id'],'status':_0x33e4f4[_0x229f90(0x99c)],'result':_0x49d45[_0x229f90(0x5b4)]};_0x1737ac['next'](_0x3ddfcb),_0x1737ac[_0x229f90(0xacf)](),this[_0x229f90(0x69c)][_0x229f90(0x60b)](_0x39f14e),this['logEvent']('Job\x20'+_0x39f14e+_0x229f90(0x329),{'jobId':_0x39f14e});}['failJob'](_0x5e9bc8,_0x1bb28){const _0x2b4ce0=_0x677888,_0x7b3e9f=this['jobs']['get'](_0x5e9bc8);if(!_0x7b3e9f)throw new _0x4dab04(_0x4dab04[_0x2b4ce0(0x6ec)]['JobDispatcherJobNotFound']);const _0x1c9139=this[_0x2b4ce0(0x69c)][_0x2b4ce0(0x8a1)](_0x5e9bc8);if(!_0x1c9139)throw new _0x4dab04(_0x4dab04[_0x2b4ce0(0x6ec)][_0x2b4ce0(0x7d8)]);_0x7b3e9f[_0x2b4ce0(0x99c)]=_0x1736bb[_0x2b4ce0(0x4af)][_0x2b4ce0(0x644)];const _0x1ec832={'id':_0x7b3e9f['id'],'status':_0x7b3e9f[_0x2b4ce0(0x99c)],'message':_0x1bb28};_0x1c9139[_0x2b4ce0(0x291)](_0x1ec832),_0x1c9139[_0x2b4ce0(0xacf)](),this['jobObservers']['delete'](_0x5e9bc8),this[_0x2b4ce0(0x9c6)](_0x2b4ce0(0xb0e)+_0x5e9bc8+_0x2b4ce0(0x42f),{'jobId':_0x5e9bc8});}[_0x677888(0x9c6)](_0x509bca,{jobId:_0x42892c}){const _0x2a9d91=_0x677888,_0x1c2254={'jobId':_0x42892c,'mistletIds':Array[_0x2a9d91(0x3fd)](this[_0x2a9d91(0xa81)][_0x2a9d91(0x443)]()['values']())['filter'](_0x30522b=>_0x30522b[_0x2a9d91(0xb0f)]===_0x1736bb['NodeType'][_0x2a9d91(0x887)])[_0x2a9d91(0x360)](_0x590de9=>_0x590de9['getId']())};_0x5bf0c2[_0x2a9d91(0x9c6)](_0x509bca,{'nodeId':this[_0x2a9d91(0x3f9)](),'nodeType':this[_0x2a9d91(0x32c)][_0x2a9d91(0xb0f)],'data':_0x1c2254}),_0x5bf0c2[_0x2a9d91(0x5d7)](_0x86d570[_0x2a9d91(0x83c)],_0x509bca,_0x1c2254);}[_0x677888(0x680)](_0x4fb9ae){const _0x31b9b2=_0x677888,{jobPhase:_0x5b3eea,available:_0x5bdfad,bid:_0x184b63}=_0x4fb9ae;return _0x5b3eea===_0x326baa[_0x31b9b2(0x94a)]&&void 0x0!==_0x5bdfad&&void 0x0!==_0x184b63;}[_0x677888(0x38e)](_0x1d4c71){const _0xb92376=_0x677888,{jobPhase:_0x585ecf,result:_0x1a3110}=_0x1d4c71;return _0x585ecf===_0x326baa[_0xb92376(0x6f0)]&&void 0x0!==_0x1a3110;}[_0x677888(0xa31)](_0x5457a8){const _0x335e1c=_0x677888,{jobPhase:_0x32dc72,result:_0x83a1d5}=_0x5457a8;return _0x32dc72===_0x326baa[_0x335e1c(0x4c5)]&&void 0x0!==_0x83a1d5;}[_0x677888(0xa1d)](_0x4d7ef8){const _0x35e87f=_0x677888,{jobPhase:_0x55dc72,message:_0xf1bbc4}=_0x4d7ef8;return _0x55dc72===_0x326baa['Failed']&&void 0x0!==_0xf1bbc4&&_0x35e87f(0x435)==typeof _0xf1bbc4;}}var _0x50c030,_0x3ba53a,_0x11f239,_0x2582ba;!function(_0x5ebf79){const _0x2d7681=_0x677888;_0x5ebf79[_0x2d7681(0x2ef)]=_0x2d7681(0x961),_0x5ebf79[_0x2d7681(0x9c5)]=_0x2d7681(0x665);}(_0x50c030||(_0x50c030={})),function(_0x455c1c){const _0x299a17=_0x677888;_0x455c1c[_0x299a17(0x887)]=_0x299a17(0x8c1),_0x455c1c[_0x299a17(0x1ea)]=_0x299a17(0xaab),_0x455c1c[_0x299a17(0x81c)]=_0x299a17(0x3cb),_0x455c1c['CustomSkill']=_0x299a17(0x613),_0x455c1c[_0x299a17(0x4f4)]=_0x299a17(0x342),_0x455c1c['Knowledge']=_0x299a17(0x710),_0x455c1c[_0x299a17(0x288)]='prompt',_0x455c1c[_0x299a17(0x5d1)]=_0x299a17(0x493),_0x455c1c[_0x299a17(0x8d1)]=_0x299a17(0x778),_0x455c1c[_0x299a17(0x7fb)]=_0x299a17(0x4b5),_0x455c1c[_0x299a17(0x28d)]='ai-search',_0x455c1c[_0x299a17(0x740)]=_0x299a17(0x8e2),_0x455c1c[_0x299a17(0x90c)]='web-scraper-raw',_0x455c1c['QueryFile']=_0x299a17(0x255),_0x455c1c[_0x299a17(0xaa9)]=_0x299a17(0x8fa),_0x455c1c[_0x299a17(0x64b)]=_0x299a17(0x582),_0x455c1c['SentenceSplitter']=_0x299a17(0x513),_0x455c1c[_0x299a17(0x2e8)]=_0x299a17(0xa0f),_0x455c1c[_0x299a17(0x3ae)]='document-parser',_0x455c1c['InputAudioStream']=_0x299a17(0x5a1),_0x455c1c['OutputAudioStream']='output-audio-stream';}(_0x3ba53a||(_0x3ba53a={})),function(_0x4e4b99){const _0xde6388=_0x677888;_0x4e4b99['ObjectStorageUpload']=_0xde6388(0x1a6),_0x4e4b99[_0xde6388(0xa76)]=_0xde6388(0x617),_0x4e4b99[_0xde6388(0x3ae)]=_0xde6388(0x24d),_0x4e4b99['ChunkSplitter']='chunk-splitter',_0x4e4b99['WordSplitter']=_0xde6388(0xa0f),_0x4e4b99[_0xde6388(0x4f7)]=_0xde6388(0x513),_0x4e4b99[_0xde6388(0x312)]=_0xde6388(0x684),_0x4e4b99['EntityExtractor']=_0xde6388(0x5a8),_0x4e4b99[_0xde6388(0x8e3)]='reranker',_0x4e4b99[_0xde6388(0x453)]=_0xde6388(0x85a),_0x4e4b99[_0xde6388(0x887)]=_0xde6388(0x8c1),_0x4e4b99[_0xde6388(0x5d6)]=_0xde6388(0x961),_0x4e4b99[_0xde6388(0x9de)]=_0xde6388(0x57a),_0x4e4b99[_0xde6388(0x2b3)]=_0xde6388(0x550),_0x4e4b99[_0xde6388(0x726)]=_0xde6388(0xa9a),_0x4e4b99['Prompt']=_0xde6388(0x19d),_0x4e4b99[_0xde6388(0x6ba)]='context';}(_0x11f239||(_0x11f239={})),function(_0x532767){const _0x27b30e=_0x677888;_0x532767[_0x27b30e(0x3ca)]=_0x27b30e(0x228),_0x532767['Text']=_0x27b30e(0x420),_0x532767[_0x27b30e(0x5b2)]='image',_0x532767[_0x27b30e(0x561)]='audio',_0x532767['Data']='data',_0x532767[_0x27b30e(0x46c)]=_0x27b30e(0x797),_0x532767['Entity']=_0x27b30e(0x968),_0x532767[_0x27b30e(0x55c)]='relation',_0x532767[_0x27b30e(0x7fb)]=_0x27b30e(0x4b5),_0x532767['Index']=_0x27b30e(0x7fc),_0x532767[_0x27b30e(0x7c3)]=_0x27b30e(0x4b2),_0x532767[_0x27b30e(0x6ba)]=_0x27b30e(0x2b8),_0x532767[_0x27b30e(0x5a2)]=_0x27b30e(0x201),_0x532767[_0x27b30e(0x264)]=_0x27b30e(0x73b),_0x532767['WaitFalse']=_0x27b30e(0x526);}(_0x2582ba||(_0x2582ba={}));const _0x508a08=[{'id':_0x677888(0x928),'name':_0x677888(0x648),'description':_0x677888(0x886),'modelId':'gpt-4o-mini','instructions':'Returns\x20\x22true\x22\x20or\x20\x22false\x22\x20based\x20on\x20the\x20input\x20condition.','grammar':_0x677888(0xab0),'temperature':0x0,'maxTokens':0x64}],_0x3724c9=[{'id':_0x677888(0x36e),'name':'Blank\x20Agent','description':'','modelId':'gpt-4o-mini','instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0x7b9),'name':_0x677888(0x755),'description':'A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','modelId':_0x677888(0x1cf),'instructions':_0x677888(0x47f),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0x90f),'name':_0x677888(0x78d),'description':_0x677888(0x75c),'modelId':'gpt-4o-mini','instructions':_0x677888(0x5db),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0x6d0),'name':_0x677888(0x31e),'description':_0x677888(0x5f3),'modelId':_0x677888(0x1cf),'instructions':_0x677888(0x19f),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0x2c7),'name':_0x677888(0x49a),'description':_0x677888(0x500),'modelId':_0x677888(0x1cf),'instructions':_0x677888(0x81b),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0x73e),'name':'Query\x20Generator','description':_0x677888(0x310),'modelId':_0x677888(0x1cf),'instructions':'Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0x1c1),'name':_0x677888(0x3f2),'description':'Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','modelId':_0x677888(0x1cf),'instructions':_0x677888(0xaf5),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0xa8f),'name':_0x677888(0x9e7),'description':'Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','modelId':'gpt-4o-mini','instructions':_0x677888(0x3e0),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0x26e),'name':_0x677888(0x750),'description':_0x677888(0x53b),'modelId':'gpt-4o-mini','instructions':_0x677888(0x61f),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'archival-search','name':_0x677888(0x87d),'description':'Retrieves\x20historical\x20data\x20from\x20online\x20archives.','modelId':_0x677888(0x1cf),'instructions':'Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0x556),'name':'Trend\x20Spotter','description':_0x677888(0x62d),'modelId':_0x677888(0x1cf),'instructions':'Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x677888(0x53d),'name':_0x677888(0x573),'description':_0x677888(0x75e),'modelId':_0x677888(0x1cf),'instructions':'Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','grammar':'','temperature':0.8,'maxTokens':0x3e8}];class _0x4aabc6{static [_0x677888(0xb02)];constructor(){}static[_0x677888(0xb0c)](){const _0x1a4076=_0x677888;return _0x4aabc6[_0x1a4076(0xb02)]||(_0x4aabc6[_0x1a4076(0xb02)]=new _0x4aabc6()),_0x4aabc6[_0x1a4076(0xb02)];}async[_0x677888(0x70f)](_0x4e22c1,_0x84581a){const _0x24ac92=_0x677888,_0x34d7fd=await(0x0,_0x214774[_0x24ac92(0x960)])((0x0,_0x214774[_0x24ac92(0x3e7)])(_0x66e9[_0x24ac92(0x65d)](),_0x24ac92(0x1d9)+_0x4e22c1+_0x24ac92(0x592)+_0x84581a)),_0x287e57=await this[_0x24ac92(0x491)](_0x4e22c1);_0x287e57[_0x24ac92(0xa65)](..._0x508a08),_0x287e57[_0x24ac92(0xa65)](..._0x3724c9);const _0x577174=await this[_0x24ac92(0x806)](_0x4e22c1);if(!_0x34d7fd[_0x24ac92(0x639)]())throw new _0x4dab04(_0x4dab04['codes'][_0x24ac92(0x539)]);return this[_0x24ac92(0x523)](_0x34d7fd,_0x287e57,_0x577174);}async[_0x677888(0x237)](_0x47b66c,_0x317599){const _0x1d2662=_0x677888,_0x2c6ce5=await(0x0,_0x214774[_0x1d2662(0x960)])((0x0,_0x214774[_0x1d2662(0x3e7)])(_0x66e9[_0x1d2662(0x65d)](),'/developers/'+_0x47b66c+'/resources/generative-ai-collection/items/'+_0x317599)),_0x41b30e=await this[_0x1d2662(0x491)](_0x47b66c),_0x35dc27=_0x2c6ce5['data']();if(!_0x35dc27)throw new _0x4dab04(_0x4dab04[_0x1d2662(0x6ec)][_0x1d2662(0x847)]);return{'type':_0x3ba53a[_0x1d2662(0x4f4)],'id':_0x317599,'uid':_0x317599,'name':_0x35dc27[_0x1d2662(0x7ca)],'description':_0x35dc27[_0x1d2662(0x498)],'ingestBlocks':this[_0x1d2662(0x27f)](_0x35dc27[_0x1d2662(0x558)],_0x41b30e),'retrieveBlocks':this[_0x1d2662(0x27f)](_0x35dc27[_0x1d2662(0x6eb)],_0x41b30e),'links':[]};}['parseWorkflowDocument'](_0x2bf802,_0x1d1e8d,_0x26eb07){const _0x51ab1a=_0x677888,_0x3d8fe4=_0x2bf802[_0x51ab1a(0x337)]();if(!_0x3d8fe4)throw new _0x4dab04(_0x4dab04['codes']['WorkflowDoesNotExist']);const _0x1c731c=this[_0x51ab1a(0x510)](_0x3d8fe4[_0x51ab1a(0x21f)],_0x1d1e8d,_0x26eb07);return{'id':_0x2bf802['id'],'blocks':_0x1c731c,'dataBucketIds':this[_0x51ab1a(0xb17)](_0x1c731c),'externalStorageConnectionIds':this[_0x51ab1a(0x2f3)](_0x1c731c),'initialPrompt':_0x3d8fe4[_0x51ab1a(0x883)]};}[_0x677888(0xb17)](_0x1a6b09){const _0x1f1f36=_0x677888,_0x514c37=new Set();for(const _0x59829f of _0x1a6b09)switch(_0x59829f[_0x1f1f36(0xb0f)]){case _0x3ba53a[_0x1f1f36(0x661)]:case _0x3ba53a[_0x1f1f36(0x4f4)]:for(const _0x334071 of[..._0x59829f['ingestBlocks'],..._0x59829f['retrieveBlocks']])_0x334071[_0x1f1f36(0xb0f)]===_0x11f239['ObjectStorageUpload']&&_0x514c37[_0x1f1f36(0xa95)](_0x334071['id']);}return Array[_0x1f1f36(0x3fd)](_0x514c37);}['getWorkflowExternalStorageConnections'](_0x5252b0){const _0x3861b6=_0x677888,_0x69074a=new Set();for(const _0x3ef96b of _0x5252b0)switch(_0x3ef96b[_0x3861b6(0xb0f)]){case _0x3ba53a[_0x3861b6(0x661)]:case _0x3ba53a['DataCollection']:for(const _0x337fb2 of[..._0x3ef96b['ingestBlocks'],..._0x3ef96b['retrieveBlocks']])_0x337fb2['type']===_0x11f239['ExternalStorageUpload']&&_0x69074a['add'](_0x337fb2['id']);}return Array[_0x3861b6(0x3fd)](_0x69074a);}[_0x677888(0x510)](_0x45f6c0,_0x54a73c,_0x2f0eeb){const _0xd12d7c=_0x677888;return _0x45f6c0[_0xd12d7c(0x360)](_0x1894d0=>{const _0x454f8b=_0xd12d7c;switch(_0x1894d0[_0x454f8b(0xb0f)]){case _0x3ba53a['Agent']:case _0x3ba53a[_0x454f8b(0x1ea)]:case _0x3ba53a['Router']:const _0x21d75a=_0x54a73c['find'](_0x3a4817=>_0x3a4817['id']===_0x1894d0['id']);if(!_0x21d75a)throw new _0x4dab04(_0x4dab04[_0x454f8b(0x6ec)][_0x454f8b(0x5e0)],{'block':_0x1894d0});return{'type':_0x3ba53a[_0x454f8b(0x887)],'id':_0x21d75a['id'],'uid':_0x1894d0['uid'],'name':_0x21d75a[_0x454f8b(0x7ca)],'description':_0x21d75a[_0x454f8b(0x498)],'instructions':(_0x21d75a[_0x454f8b(0x43c)]+'\x0a\x0a'+(_0x1894d0[_0x454f8b(0x8c1)]?.['additionnalInstructions']??''))['trim'](),'contextOutputVariable':_0x1894d0['agent']?.['contextOutputVariable'],'contextInputVariable':_0x1894d0[_0x454f8b(0x8c1)]?.['contextInputVariable'],'reasoning':_0x1894d0[_0x454f8b(0x8c1)]?.[_0x454f8b(0x60d)]??!0x1,'grammar':_0x1894d0['agent']?.[_0x454f8b(0x3a1)]??_0x454f8b(0x326),'temperature':_0x1894d0[_0x454f8b(0x8c1)]?.['temperature']??0.5,'maxTokens':_0x1894d0[_0x454f8b(0x8c1)]?.[_0x454f8b(0x4a3)]??0x1f4,'modelId':_0x1894d0[_0x454f8b(0x8c1)]?.['modelId']??_0x454f8b(0x1cf),'links':_0x1894d0['links']};case _0x3ba53a[_0x454f8b(0x661)]:case _0x3ba53a[_0x454f8b(0x4f4)]:const _0xb023f3=_0x2f0eeb[_0x454f8b(0x8ab)](_0xce1530=>_0xce1530['id']===_0x1894d0['id']);if(!_0xb023f3)throw new _0x4dab04(_0x4dab04['codes'][_0x454f8b(0x5e0)],{'block':_0x1894d0});return{'type':_0x1894d0[_0x454f8b(0xb0f)],'id':_0xb023f3['id'],'uid':_0x1894d0['uid'],'name':_0xb023f3['name'],'description':_0xb023f3[_0x454f8b(0x498)],'ingestBlocks':this['parseDataCollectionBlocks'](_0xb023f3[_0x454f8b(0x558)],_0x54a73c),'retrieveBlocks':this[_0x454f8b(0x27f)](_0xb023f3[_0x454f8b(0x6eb)],_0x54a73c),'links':_0x1894d0['links']};case _0x3ba53a[_0x454f8b(0x8a7)]:return{'type':_0x1894d0['type'],'id':_0x1894d0['id'],'uid':_0x1894d0[_0x454f8b(0x5f0)],'name':_0x1894d0[_0x454f8b(0x37c)][_0x454f8b(0x7ca)],'description':_0x1894d0[_0x454f8b(0x37c)]['description'],'parameters':_0x1894d0[_0x454f8b(0x37c)]['parameters'],'endpointUrl':_0x1894d0[_0x454f8b(0x37c)]['endpointUrl'],'endpointMethod':_0x1894d0['skill']['endpointMethod'],'headers':_0x1894d0[_0x454f8b(0x37c)][_0x454f8b(0xac3)],'queryParameters':_0x1894d0[_0x454f8b(0x37c)][_0x454f8b(0x810)],'bodyParameters':_0x1894d0[_0x454f8b(0x37c)][_0x454f8b(0x35c)],'contextOutputVariable':_0x1894d0[_0x454f8b(0x37c)][_0x454f8b(0xa78)],'links':_0x1894d0[_0x454f8b(0xa1c)]};case _0x3ba53a[_0x454f8b(0x288)]:case _0x3ba53a['InputAudioStream']:case _0x3ba53a[_0x454f8b(0x5d1)]:case _0x3ba53a[_0x454f8b(0x584)]:case _0x3ba53a[_0x454f8b(0x8d1)]:case _0x3ba53a[_0x454f8b(0x7fb)]:case _0x3ba53a['AiSearch']:case _0x3ba53a[_0x454f8b(0x740)]:case _0x3ba53a['WebScraperRaw']:case _0x3ba53a[_0x454f8b(0x901)]:case _0x3ba53a[_0x454f8b(0xaa9)]:case _0x3ba53a['SentenceSplitter']:case _0x3ba53a[_0x454f8b(0x3ae)]:return{'type':_0x1894d0[_0x454f8b(0xb0f)],'id':_0x1894d0['id'],'uid':_0x1894d0[_0x454f8b(0x5f0)],'links':_0x1894d0['links']};case _0x3ba53a[_0x454f8b(0x64b)]:case _0x3ba53a[_0x454f8b(0x2e8)]:return{'type':_0x1894d0[_0x454f8b(0xb0f)],'id':_0x1894d0['id'],'uid':_0x1894d0[_0x454f8b(0x5f0)],'links':_0x1894d0[_0x454f8b(0xa1c)],'attributes':_0x1894d0[_0x454f8b(0x743)]};default:throw new _0x4dab04(_0x4dab04[_0x454f8b(0x6ec)][_0x454f8b(0x5e0)],{'block':_0x1894d0});}});}['parseDataCollectionBlocks'](_0x1ecdc2,_0x17e8c4){return _0x1ecdc2?_0x1ecdc2['map'](_0xd74e19=>{const _0x273e79=a0_0x5cc9;switch(_0xd74e19[_0x273e79(0xb0f)]){case _0x11f239[_0x273e79(0x887)]:const _0x5abdad=_0x17e8c4['find'](_0x437d27=>_0x437d27['id']===_0xd74e19['id']);if(!_0x5abdad)throw new _0x4dab04(_0x4dab04[_0x273e79(0x6ec)][_0x273e79(0x5e0)],{'block':_0xd74e19});return{'type':_0xd74e19['type'],'id':_0xd74e19['id'],'uid':_0xd74e19[_0x273e79(0x5f0)],'description':_0x5abdad['description'],'instructions':_0x5abdad['instructions'],'reasoning':_0x5abdad[_0x273e79(0x60d)]??!0x1,'grammar':_0x5abdad['grammar'],'temperature':_0x5abdad[_0x273e79(0x2aa)],'maxTokens':_0x5abdad[_0x273e79(0x4a3)],'modelId':_0x5abdad['modelId'],'links':_0xd74e19[_0x273e79(0xa1c)]};case _0x11f239['GraphDatabase']:case _0x11f239[_0x273e79(0x2b3)]:case _0x11f239[_0x273e79(0x2e8)]:case _0x11f239['ChunkSplitter']:case _0x11f239[_0x273e79(0x5b0)]:case _0x11f239[_0x273e79(0x8e3)]:return{'type':_0xd74e19[_0x273e79(0xb0f)],'id':_0xd74e19['id'],'uid':_0xd74e19[_0x273e79(0x5f0)],'links':_0xd74e19['links'],'attributes':_0xd74e19[_0x273e79(0x743)]};case _0x11f239[_0x273e79(0x453)]:case _0x11f239[_0x273e79(0x5d6)]:case _0x11f239[_0x273e79(0x9de)]:case _0x11f239[_0x273e79(0x312)]:case _0x11f239[_0x273e79(0x3ae)]:case _0x11f239[_0x273e79(0x4f7)]:case _0x11f239['ObjectStorageUpload']:case _0x11f239[_0x273e79(0xa76)]:case _0x11f239[_0x273e79(0x6ba)]:case _0x11f239[_0x273e79(0x288)]:return{'type':_0xd74e19[_0x273e79(0xb0f)],'id':_0xd74e19['id'],'uid':_0xd74e19[_0x273e79(0x5f0)],'links':_0xd74e19['links']};default:throw new _0x4dab04(_0x4dab04[_0x273e79(0x6ec)][_0x273e79(0x5e0)],{'block':_0xd74e19});}}):[];}async[_0x677888(0x491)](_0xe6ea28){const _0xabcf27=_0x677888;return(await(0x0,_0x214774[_0xabcf27(0x18e)])((0x0,_0x214774[_0xabcf27(0xa12)])(_0x66e9[_0xabcf27(0x65d)](),'/developers/'+_0xe6ea28+_0xabcf27(0x56b))))['docs'][_0xabcf27(0x360)](_0x45209a=>{const _0x1f4d67=_0xabcf27,_0x1b82fc=_0x45209a[_0x1f4d67(0x337)]();return{'type':_0x3ba53a[_0x1f4d67(0x887)],'id':_0x45209a['id'],'name':_0x1b82fc[_0x1f4d67(0x7ca)],'description':_0x1b82fc['description'],'instructions':_0x1b82fc[_0x1f4d67(0x43c)]};});}async[_0x677888(0x806)](_0x2c29f9){const _0x159006=_0x677888;return(await(0x0,_0x214774['getDocs'])((0x0,_0x214774[_0x159006(0xa12)])(_0x66e9[_0x159006(0x65d)](),_0x159006(0x1d9)+_0x2c29f9+_0x159006(0x93d))))[_0x159006(0x8b9)]['map'](_0x23efea=>{const _0x5566be=_0x159006,_0x361100=_0x23efea['data']();return{'type':_0x3ba53a[_0x5566be(0x4f4)],'id':_0x23efea['id'],'name':_0x361100[_0x5566be(0x7ca)],'description':_0x361100[_0x5566be(0x498)],'ingestBlocks':_0x361100[_0x5566be(0x558)],'retrieveBlocks':_0x361100[_0x5566be(0x6eb)]};});}}const _0x353947=_0x4aabc6[_0x677888(0xb0c)]();class _0x14acfd extends _0x14ad5c{[_0x677888(0xa36)];['vendorId'];[_0x677888(0x4e8)]=0x0;[_0x677888(0x955)]=0x0;['debounceStats'];constructor(_0xcde872,_0x2436c4,_0x5f4780,_0x35f5cb){const _0x19feab=_0x677888;super(_0xcde872,_0x2436c4,_0x35f5cb),this[_0x19feab(0xa36)]=_0xcde872,this[_0x19feab(0x94e)]=_0x5f4780,this[_0x19feab(0x971)]();}[_0x677888(0x405)](){const _0x49dc97=_0x677888;this[_0x49dc97(0x74e)]&&(clearTimeout(this['debounceStats']),delete this['debounceStats']),super[_0x49dc97(0x405)]();}[_0x677888(0x79b)](){const _0x57018f=_0x677888;this['prompts']=0x0,this[_0x57018f(0x955)]=0x0,this['sendStats'](),super['reset']();}[_0x677888(0x40c)](_0x23a258){const _0x11fdfc=_0x677888,_0x1b3641='job-'+(0x0,_0x1514a8['v4'])();switch(_0x23a258[_0x11fdfc(0xb0f)]){case'collection-create':{let _0x2ac978=!0x1;const _0x32f4ea=()=>{const _0x3109b1=_0x11fdfc;if(_0x2ac978)throw new _0x4dab04(_0x4dab04[_0x3109b1(0x6ec)]['GenerativeAIContextJobAlreadyConsumed']);_0x2ac978=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x32f4ea(),this[_0x11fdfc(0xa23)](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x3b2):{let _0x571b9f=!0x1;const _0x297124=()=>{const _0x553b33=_0x11fdfc;if(_0x571b9f)throw new _0x4dab04(_0x4dab04[_0x553b33(0x6ec)][_0x553b33(0x521)]);_0x571b9f=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x297124(),this[_0x11fdfc(0xa23)](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x6fb):{let _0x3583e1=!0x1;const _0x6e99ec=()=>{const _0x1825b3=_0x11fdfc;if(_0x3583e1)throw new _0x4dab04(_0x4dab04[_0x1825b3(0x6ec)][_0x1825b3(0x521)]);_0x3583e1=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x6e99ec(),this[_0x11fdfc(0xa23)](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x7b6):{let _0xf7a5c9=!0x1;const _0x405ea5=()=>{const _0x592851=_0x11fdfc;if(_0xf7a5c9)throw new _0x4dab04(_0x4dab04[_0x592851(0x6ec)]['GenerativeAIContextJobAlreadyConsumed']);_0xf7a5c9=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x405ea5(),this['internalJob'](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x8ec):{let _0x26a51f=!0x1;const _0x4038b4=()=>{const _0x244655=_0x11fdfc;if(_0x26a51f)throw new _0x4dab04(_0x4dab04[_0x244655(0x6ec)][_0x244655(0x521)]);_0x26a51f=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x4038b4(),this[_0x11fdfc(0xa23)](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x9cf):{let _0x448f20=!0x1;const _0x11264a=()=>{const _0x21f3e1=_0x11fdfc;if(_0x448f20)throw new _0x4dab04(_0x4dab04['codes'][_0x21f3e1(0x521)]);_0x448f20=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x11264a(),this['internalJob'](_0x1b3641,_0x23a258))};}case'file-list':{let _0x1f87df=!0x1;const _0x47f004=()=>{const _0x1a67d8=_0x11fdfc;if(_0x1f87df)throw new _0x4dab04(_0x4dab04[_0x1a67d8(0x6ec)][_0x1a67d8(0x521)]);_0x1f87df=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x47f004(),this[_0x11fdfc(0xa23)](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x98d):{let _0x1dd926=!0x1;const _0x2416b4=()=>{const _0x57cd82=_0x11fdfc;if(_0x1dd926)throw new _0x4dab04(_0x4dab04[_0x57cd82(0x6ec)]['GenerativeAIContextJobAlreadyConsumed']);_0x1dd926=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x2416b4(),this[_0x11fdfc(0xa23)](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x497):{let _0x363bda=!0x1;const _0x127691=()=>{const _0x355162=_0x11fdfc;if(_0x363bda)throw new _0x4dab04(_0x4dab04[_0x355162(0x6ec)]['GenerativeAIContextJobAlreadyConsumed']);_0x363bda=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x127691(),this[_0x11fdfc(0xa23)](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x32a):{let _0x3051fc=!0x1;const _0x4da76d=()=>{const _0x293d81=_0x11fdfc;if(_0x3051fc)throw new _0x4dab04(_0x4dab04[_0x293d81(0x6ec)][_0x293d81(0x521)]);_0x3051fc=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x4da76d(),this[_0x11fdfc(0xa23)](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x4ba):{let _0x3e0729=!0x1;const _0x22e879=()=>{if(_0x3e0729)throw new _0x4dab04(_0x4dab04['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x3e0729=!0x0;};return{'id':_0x1b3641,..._0x23a258,'run':()=>(_0x22e879(),this[_0x11fdfc(0xa23)](_0x1b3641,_0x23a258))};}case _0x11fdfc(0x437):case _0x11fdfc(0x19d):let _0x378bcb=!0x1;const _0x2270a3=()=>{if(_0x378bcb)throw new _0x4dab04(_0x4dab04['codes']['GenerativeAIContextJobAlreadyConsumed']);_0x378bcb=!0x0;},_0x356991=()=>(_0x2270a3(),this[_0x11fdfc(0x9e3)](_0x1b3641,_0x23a258)),_0x650965=()=>(_0x2270a3(),this[_0x11fdfc(0x490)](_0x1b3641,_0x23a258));return{'id':_0x1b3641,'options':{'threadId':_0x11fdfc(0x9b2)+(0x0,_0x1514a8['v4'])()},..._0x23a258,'run':_0x356991,'stream':_0x650965};default:throw new Error(_0x11fdfc(0x2dc));}}async[_0x677888(0xa23)](_0x29122f,_0x5c59dd){const _0x253949=_0x677888;if(_0x253949(0x437)===_0x5c59dd[_0x253949(0xb0f)]||_0x253949(0x19d)===_0x5c59dd[_0x253949(0xb0f)])throw new _0x2ed9c0(_0x4e0a41[_0x253949(0x574)],_0x253949(0x2dc));const _0x3b148e={'threadId':_0x253949(0x9b2)+(0x0,_0x1514a8['v4'])(),..._0x5c59dd},_0x1ea40b=await this[_0x253949(0x694)](_0x29122f,_0x1736bb[_0x253949(0x637)][_0x253949(0x6f4)],_0x3b148e);return new Promise((_0x25c81b,_0x198f77)=>{const _0x44e552=_0x253949;let _0xd4d2c;const _0x21c556=_0x1ea40b[_0x44e552(0x576)]({'next':_0x3b7e0b=>{const _0x11331b=_0x44e552;switch(_0x3b7e0b[_0x11331b(0x99c)]){case _0x1736bb[_0x11331b(0x4af)]['Completed']:clearTimeout(_0xd4d2c),_0x25c81b(_0x3b7e0b[_0x11331b(0x5b4)]),_0x21c556['unsubscribe']();break;case _0x1736bb[_0x11331b(0x4af)][_0x11331b(0x644)]:clearTimeout(_0xd4d2c),_0x198f77(new _0x4dab04(_0x4dab04[_0x11331b(0x6ec)][_0x11331b(0x560)],{'updatedJob':_0x3b7e0b})),_0x21c556[_0x11331b(0xa24)]();}},'error':_0x314d4a=>{const _0xdfdb81=_0x44e552;clearTimeout(_0xd4d2c),_0x198f77(new _0x4dab04(_0x4dab04[_0xdfdb81(0x6ec)][_0xdfdb81(0x560)],{'err':_0x314d4a})),_0x21c556[_0xdfdb81(0xa24)]();}});_0xd4d2c=setTimeout(()=>{const _0x2cbeb1=_0x44e552;_0x198f77(new _0x4dab04(_0x4dab04[_0x2cbeb1(0x6ec)][_0x2cbeb1(0x86c)])),_0x21c556[_0x2cbeb1(0xa24)]();},_0x4c9aef);});}async[_0x677888(0x9e3)](_0x481761,_0x3ea98b){const _0x46a884=_0x677888,_0x2e1102=await this['getJobObservable'](_0x481761,_0x1736bb[_0x46a884(0x637)][_0x46a884(0x6f4)],_0x3ea98b);return new Promise((_0x39d018,_0x3f4c80)=>{const _0x4c2ed4=_0x46a884;let _0x3028c4;const _0x1829f6=_0x2e1102[_0x4c2ed4(0x576)]({'next':_0x582311=>{const _0x240b7a=_0x4c2ed4;switch(_0x582311['status']){case _0x1736bb['JobStatus']['Completed']:if(_0x240b7a(0x19d)!==_0x582311['result']['type'])return;const _0x562573=_0x582311['result'][_0x240b7a(0x3c0)]??0x0;this[_0x240b7a(0x44f)](_0x3ea98b[_0x240b7a(0x19d)],_0x562573),clearTimeout(_0x3028c4),_0x39d018(_0x582311[_0x240b7a(0x5b4)]),_0x1829f6['unsubscribe'](),this['prompts']+=0x1,this[_0x240b7a(0x955)]+=_0x562573,this[_0x240b7a(0x971)]();break;case _0x1736bb[_0x240b7a(0x4af)][_0x240b7a(0x644)]:clearTimeout(_0x3028c4),_0x3f4c80(new _0x4dab04(_0x4dab04[_0x240b7a(0x6ec)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x582311})),_0x1829f6[_0x240b7a(0xa24)](),this['sendStats']();}},'error':_0x51f75d=>{const _0x5c66e5=_0x4c2ed4;clearTimeout(_0x3028c4),_0x3f4c80(new _0x4dab04(_0x4dab04['codes']['GenerativeAIContextJobFailed'],{'err':_0x51f75d})),_0x1829f6[_0x5c66e5(0xa24)]();}});_0x3028c4=setTimeout(()=>{const _0x5787c4=_0x4c2ed4;_0x3f4c80(new _0x4dab04(_0x4dab04[_0x5787c4(0x6ec)][_0x5787c4(0x86c)])),_0x1829f6[_0x5787c4(0xa24)]();},_0x4c9aef);});}async*[_0x677888(0x490)](_0x384e5f,_0x239b63){const _0x1589c1=_0x677888,_0x2f4a78=await this[_0x1589c1(0x694)](_0x384e5f,_0x1736bb[_0x1589c1(0x637)][_0x1589c1(0x2d7)],_0x239b63);let _0x514d30,_0x485bb8,_0x75ac5a=!0x1,_0x4b7de4=0x0;const _0xc44fa3=[],_0x33ba31=new Map();let _0x10c764=null;const _0x300fa1=()=>{_0x10c764&&(_0x10c764(),_0x10c764=null);},_0x102119=_0x502846=>{const _0x243156=_0x1589c1;_0x75ac5a=!0x0,_0x300fa1(),_0x1bf07a[_0x243156(0xa24)](),_0x485bb8=_0x502846;},_0x1bf07a=_0x2f4a78[_0x1589c1(0x576)]({'next':async _0x531f06=>{const _0x1a1b7f=_0x1589c1;switch(_0x531f06[_0x1a1b7f(0x99c)]){case _0x1736bb[_0x1a1b7f(0x4af)][_0x1a1b7f(0x25b)]:if(_0x1a1b7f(0x19d)!==_0x531f06[_0x1a1b7f(0x5b4)][_0x1a1b7f(0xb0f)])return;if(void 0x0!==_0x531f06['result']['output']){if(void 0x0===_0x531f06['result'][_0x1a1b7f(0x7fc)])return void _0x102119(_0x4dab04[_0x1a1b7f(0x6ec)][_0x1a1b7f(0x5ce)]);_0x4b7de4===_0x531f06[_0x1a1b7f(0x5b4)][_0x1a1b7f(0x7fc)]?(_0xc44fa3[_0x1a1b7f(0xa65)](_0x531f06['result']),_0x4b7de4++,((()=>{const _0x46a111=_0x1a1b7f;for(;_0x33ba31[_0x46a111(0x26b)](_0x4b7de4);)_0xc44fa3[_0x46a111(0xa65)](_0x33ba31[_0x46a111(0x8a1)](_0xc44fa3['length'])),_0x33ba31[_0x46a111(0x60b)](_0xc44fa3[_0x46a111(0x8a9)]),_0x4b7de4++;})()),_0x300fa1(),_0x373c3a()):_0x33ba31[_0x1a1b7f(0x926)](_0x531f06[_0x1a1b7f(0x5b4)]['index'],_0x531f06[_0x1a1b7f(0x5b4)]);}break;case _0x1736bb['JobStatus'][_0x1a1b7f(0x2d4)]:if(_0x1a1b7f(0x19d)!==_0x531f06[_0x1a1b7f(0x5b4)]['type'])return;for(;_0x4b7de4!==_0x531f06[_0x1a1b7f(0x5b4)]['index'];)await _0x450481['wait'](0x3e8);const _0x535276=_0x531f06['result'][_0x1a1b7f(0x3c0)]??0x0;this[_0x1a1b7f(0x44f)](_0x239b63[_0x1a1b7f(0x19d)],_0x535276),clearTimeout(_0x514d30),_0x102119(),this[_0x1a1b7f(0x4e8)]+=0x1,this['tokens']+=_0x535276,this[_0x1a1b7f(0x971)]();break;case _0x1736bb['JobStatus']['Failed']:clearTimeout(_0x514d30),_0x102119(_0x4dab04[_0x1a1b7f(0x6ec)][_0x1a1b7f(0x560)]),this[_0x1a1b7f(0x971)]();}},'error':_0x448834=>{const _0x2be55f=_0x1589c1;clearTimeout(_0x514d30),_0x102119(_0x4dab04[_0x2be55f(0x6ec)][_0x2be55f(0x560)]);}}),_0x5e52d7=()=>{const _0x19bd8d=_0x1589c1;_0x102119(_0x4dab04[_0x19bd8d(0x6ec)]['GenerativeAIContextJobTimeout']);},_0x373c3a=()=>{clearTimeout(_0x514d30),_0x514d30=setTimeout(_0x5e52d7,_0x4c9aef);};for(_0x514d30=setTimeout(_0x5e52d7,_0x4c9aef);!_0x75ac5a||_0xc44fa3[_0x1589c1(0x8a9)]>0x0;)_0xc44fa3['length']>0x0?yield _0xc44fa3['shift']():await new Promise(_0x4ad330=>_0x10c764=_0x4ad330);if(_0x485bb8)throw _0x5bf0c2[_0x1589c1(0x487)](_0x1589c1(0x713),{'nodeId':this[_0x1589c1(0xa36)]['getId'](),'nodeType':this['localNode'][_0x1589c1(0xb0f)]}),new _0x4dab04(_0x485bb8);}async[_0x677888(0x5a4)](){const _0x1f3013=_0x677888;return(await _0x353947['getWorkflow'](this[_0x1f3013(0x94e)],this['label']))[_0x1f3013(0x69f)];}[_0x677888(0x44f)](_0x54c67f,_0x109e7f){const _0x67dd=_0x677888,_0xa00b18=this[_0x67dd(0x65c)],_0x47902a=this[_0x67dd(0x3f9)]();_0x5bf0c2[_0x67dd(0x44f)](_0x1cdbf5['GenerativeAIContext'],{'topic':_0xa00b18,'prompt':_0x54c67f,'type':'prompt','nodeId':_0x47902a,'tokenCount':_0x109e7f});}async[_0x677888(0x694)](_0x17cb1d,_0x5d0e44,_0x2bb4d7,_0x2d311f={}){const _0x4be1a5=_0x677888;let _0x6de91c;switch(_0x2bb4d7['type']){case _0x4be1a5(0x71a):case _0x4be1a5(0x3b2):case'collection-query':case'embed':case _0x4be1a5(0x7b6):case _0x4be1a5(0x8ec):case'file-ingest':case'file-list':case _0x4be1a5(0x437):case _0x4be1a5(0x19d):case _0x4be1a5(0x98d):case'realtime-session-create':case'tool-call':_0x6de91c={'id':_0x17cb1d,'jobType':_0x5d0e44,'parameters':{..._0x2d311f,..._0x2bb4d7},'status':_0x1736bb[_0x4be1a5(0x4af)][_0x4be1a5(0x829)]};break;default:throw new Error(_0x4be1a5(0x2dc));}return await this[_0x4be1a5(0x931)](_0x6de91c);}[_0x677888(0x971)](){const _0x5881f2=_0x677888;this[_0x5881f2(0x74e)]&&clearTimeout(this[_0x5881f2(0x74e)]),this[_0x5881f2(0x74e)]=setTimeout(async()=>{const _0x3b9e91=_0x5881f2;delete this[_0x3b9e91(0x74e)],this[_0x3b9e91(0x36c)][_0x3b9e91(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a['Content'],'content':{'type':_0x17da44[_0x3b9e91(0x716)],'label':this[_0x3b9e91(0x65c)],'stats':{'timestamp':Date[_0x3b9e91(0x9bd)](),'storage':0x0,'messagesSent':this[_0x3b9e91(0xab5)],'messagesReceived':this[_0x3b9e91(0x930)],'bytesSent':this[_0x3b9e91(0xa13)],'bytesReceived':this[_0x3b9e91(0x697)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x3b9e91(0x955)]}}});},_0x3025f9);}}var _0x277b18,_0x359ec4,_0xaed68,_0x4d885d,_0x99e02c,_0x14b496,_0x42ff19,_0x18dea2,_0x13e715,_0x1cdb9b,_0x407bb2;!function(_0x1cce9c){const _0x2ef826=_0x677888;_0x1cce9c[_0x2ef826(0x4ce)]=_0x2ef826(0x4ce),_0x1cce9c['IngestTrace']=_0x2ef826(0x649),_0x1cce9c[_0x2ef826(0xab7)]=_0x2ef826(0xab7),_0x1cce9c[_0x2ef826(0x728)]=_0x2ef826(0x728);}(_0x277b18||(_0x277b18={})),function(_0x1ff250){const _0x2e7e32=_0x677888;_0x1ff250[_0x2e7e32(0x1a2)]=_0x2e7e32(0x1a2),_0x1ff250['ModelVector']='ModelVector',_0x1ff250['VectorSearch']=_0x2e7e32(0x7cd),_0x1ff250[_0x2e7e32(0x5b0)]=_0x2e7e32(0x5b0),_0x1ff250[_0x2e7e32(0x722)]=_0x2e7e32(0x722),_0x1ff250['Reranker']='Reranker';}(_0x359ec4||(_0x359ec4={})),function(_0x1fadb5){const _0x5cf2f8=_0x677888;_0x1fadb5[_0x1fadb5['Debug']=0x0]=_0x5cf2f8(0x858),_0x1fadb5[_0x1fadb5['Info']=0x5]='Info',_0x1fadb5[_0x1fadb5[_0x5cf2f8(0x509)]=0xa]=_0x5cf2f8(0x509),_0x1fadb5[_0x1fadb5[_0x5cf2f8(0x924)]=0xf]=_0x5cf2f8(0x924);}(_0xaed68||(_0xaed68={})),function(_0x55e613){const _0x3ff919=_0x677888;_0x55e613[_0x3ff919(0x3b9)]=_0x3ff919(0x3b9),_0x55e613[_0x3ff919(0xae3)]=_0x3ff919(0xae3),_0x55e613[_0x3ff919(0x661)]=_0x3ff919(0x661),_0x55e613[_0x3ff919(0x3dd)]=_0x3ff919(0x3dd),_0x55e613[_0x3ff919(0x1a7)]='Workflow',_0x55e613[_0x3ff919(0x6f4)]=_0x3ff919(0x6f4),_0x55e613[_0x3ff919(0x49b)]=_0x3ff919(0x49b),_0x55e613['Rating']=_0x3ff919(0x432);}(_0x4d885d||(_0x4d885d={})),function(_0x227537){_0x227537['Queued']='Queued',_0x227537['Completed']='Completed';}(_0x99e02c||(_0x99e02c={})),function(_0x548344){const _0x438bf4=_0x677888;_0x548344[_0x438bf4(0x4bc)]=_0x438bf4(0x4bc),_0x548344[_0x438bf4(0x1ab)]=_0x438bf4(0x1ab),_0x548344[_0x438bf4(0x4f4)]=_0x438bf4(0x4f4),_0x548344[_0x438bf4(0x900)]=_0x438bf4(0x900);}(_0x14b496||(_0x14b496={})),function(_0x3cf205){const _0x4972d3=_0x677888;_0x3cf205['ChunkSplitter']=_0x4972d3(0x64b),_0x3cf205[_0x4972d3(0x3ae)]='DocumentParser',_0x3cf205['EntityExtractor']='EntityExtractor',_0x3cf205[_0x4972d3(0x726)]=_0x4972d3(0x726),_0x3cf205[_0x4972d3(0x887)]=_0x4972d3(0x887),_0x3cf205[_0x4972d3(0x1a2)]='ModelText',_0x3cf205[_0x4972d3(0xaa8)]=_0x4972d3(0xaa8),_0x3cf205['RelationExtractor']=_0x4972d3(0x312),_0x3cf205[_0x4972d3(0x4f7)]=_0x4972d3(0x4f7),_0x3cf205[_0x4972d3(0x2b3)]=_0x4972d3(0x2b3),_0x3cf205[_0x4972d3(0x2e8)]='WordSplitter';}(_0x42ff19||(_0x42ff19={})),function(_0x4cbc55){const _0x274d58=_0x677888;_0x4cbc55[_0x274d58(0x894)]=_0x274d58(0x894),_0x4cbc55[_0x274d58(0x8db)]='GetContextResult';}(_0x18dea2||(_0x18dea2={})),function(_0x5dead7){const _0x5778af=_0x677888;_0x5dead7[_0x5778af(0x506)]=_0x5778af(0x506),_0x5dead7[_0x5778af(0x41a)]=_0x5778af(0x41a),_0x5dead7[_0x5778af(0x972)]='SearchGoogle',_0x5dead7[_0x5778af(0x368)]=_0x5778af(0x368),_0x5dead7[_0x5778af(0x8eb)]=_0x5778af(0x8eb),_0x5dead7[_0x5778af(0x72d)]='ExecuteCustomSkill',_0x5dead7['QueryFile']=_0x5778af(0x901),_0x5dead7['WriteFile']=_0x5778af(0xaa9);}(_0x13e715||(_0x13e715={})),function(_0x1d0a21){const _0x1945fc=_0x677888;_0x1d0a21[_0x1945fc(0x21d)]=_0x1945fc(0x21d),_0x1d0a21[_0x1945fc(0x59b)]='LoadSkillFunction';}(_0x1cdb9b||(_0x1cdb9b={})),function(_0x41d4a1){_0x41d4a1['PromptRating']='PromptRating';}(_0x407bb2||(_0x407bb2={}));class _0x456a7c{static ['instance']=new _0x456a7c();['jobQueue']=[];[_0x677888(0x969)]=!0x1;constructor(){}static['getInstance'](){const _0x153c9c=_0x677888;return _0x456a7c[_0x153c9c(0xb02)];}get[_0x677888(0x8a9)](){const _0x5ac334=_0x677888;return this[_0x5ac334(0x779)][_0x5ac334(0x8a9)];}[_0x677888(0x8ff)](){const _0xef6e25=_0x677888;return!this[_0xef6e25(0x969)];}[_0x677888(0x99d)](_0x45c8e7){const _0x2cbf65=_0x677888;_0x45c8e7?this[_0x2cbf65(0x779)]=this[_0x2cbf65(0x779)][_0x2cbf65(0x3cc)](_0x4e93c8=>_0x4e93c8[_0x2cbf65(0x268)]!==_0x45c8e7):(this[_0x2cbf65(0x779)]=[],this[_0x2cbf65(0x969)]=!0x1);}[_0x677888(0xa95)](_0x418781,_0x207e28){const _0x50b7d9=_0x677888;this['jobQueue'][_0x50b7d9(0xa65)]({'callback':_0x207e28,'ownerId':_0x418781}),this[_0x50b7d9(0x882)]();}async[_0x677888(0x882)](){const _0x29f1c2=_0x677888;if(!this['isRunning']){for(this[_0x29f1c2(0x969)]=!0x0;this['jobQueue'][_0x29f1c2(0x8a9)]>0x0;){const _0x1aa56e=this[_0x29f1c2(0x779)]['shift']();if(_0x1aa56e)try{console['warn'](_0x29f1c2(0x2f0)),await _0x1aa56e[_0x29f1c2(0x833)](),console['warn'](_0x29f1c2(0x6b3));}catch(_0x42ed1b){console[_0x29f1c2(0x487)]('JobQueueService:\x20Error\x20running\x20job',_0x42ed1b);}}this[_0x29f1c2(0x969)]=!0x1;}}}const _0x4e9e46=_0x456a7c['getInstance']();class _0xab6e5 extends _0x5853dd{['capacityReporter'];[_0x677888(0x474)];constructor(_0x5eda04,_0x1ce9f4,_0x1fb8f4){const _0x2a647a=_0x677888;super(_0x5eda04,_0x1ce9f4),this[_0x2a647a(0x304)]=_0x1fb8f4;}[_0x677888(0x5b3)](){const _0x3595ee=_0x677888;return _0x1736bb[_0x3595ee(0xa3c)][_0x3595ee(0x6f4)];}[_0x677888(0xacb)](){this['subscribeToJobs']();}[_0x677888(0x7ed)](){const _0x51e1bf=_0x677888;this[_0x51e1bf(0x36c)]?.[_0x51e1bf(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x51e1bf(0xb04)],'content':{'type':_0x17da44[_0x51e1bf(0x23a)],'label':this['label']}});}[_0x677888(0x79b)](){const _0x56624a=_0x677888;this[_0x56624a(0x474)]?.(),delete this[_0x56624a(0x474)],this[_0x56624a(0xacb)]();}[_0x677888(0x405)](){const _0x2ecaca=_0x677888;_0x4e9e46[_0x2ecaca(0x99d)](this[_0x2ecaca(0x65c)]),this[_0x2ecaca(0x474)]?.(),delete this[_0x2ecaca(0x474)],super[_0x2ecaca(0x405)]();}[_0x677888(0x8ff)](){const _0x2d7c33=_0x677888;return _0x4e9e46[_0x2d7c33(0x8ff)]();}[_0x677888(0x29c)](){return 0x1;}[_0x677888(0x5cb)](_0x19de59,_0xa43e5a,_0x4f83e0){}[_0x677888(0x2e0)](_0x1bf908,_0x10b4e1){return _0x1bf908;}async[_0x677888(0x1dd)](_0x4be29b,_0x251346){const _0x5d31e4=_0x677888;console['warn'](_0x5d31e4(0x3d8));}async[_0x677888(0x33b)](_0xc81f1b,_0x3034f6){const _0x25d2eb=_0x677888;console['warn'](_0x25d2eb(0x3d8));}['subscribeToJobs'](){const _0x593a42=_0x677888;this[_0x593a42(0x474)]||(this[_0x593a42(0x474)]=this[_0x593a42(0x980)](async(_0x442ae4,_0x110734)=>{const _0xd9c644=_0x593a42;if(_0x5bf0c2[_0xd9c644(0x5d7)](_0x86d570[_0xd9c644(0x83c)],_0xd9c644(0x34d),_0x110734),!(_0x110734 instanceof File)){if(this[_0xd9c644(0x395)](_0x110734))_0x5bf0c2[_0xd9c644(0x5d7)](_0x86d570[_0xd9c644(0x83c)],_0xd9c644(0x3d0),_0x110734),this[_0xd9c644(0x8ff)]()?this[_0xd9c644(0x681)](_0x110734['id'],_0x110734['jobType'],_0x442ae4):this[_0xd9c644(0x77b)](_0x110734['id'],_0x110734['jobType'],_0x442ae4);else{if(this[_0xd9c644(0x9fb)](_0x110734)){_0x5bf0c2[_0xd9c644(0x5d7)](_0x86d570[_0xd9c644(0x83c)],'JobWorker:\x20Received\x20job\x20attribution',_0x110734);const {id:_0x345211,parameters:_0x12d842}=_0x110734;await this[_0xd9c644(0x1dd)](_0x345211,_0x12d842),this[_0xd9c644(0x9fc)](_0x110734['id'],_0x110734,_0x442ae4);}}}}));}[_0x677888(0x681)](_0x442250,_0x50dccf,_0x290ad6){const _0x1329df=_0x677888,_0x5e8668={'id':_0x442250,'jobType':_0x50dccf,'jobPhase':_0x326baa[_0x1329df(0x94a)],'available':!0x0,'queueLength':_0x4e9e46['length'],'bid':this[_0x1329df(0x29c)]()};_0x5bf0c2['log'](_0x86d570[_0x1329df(0x83c)],_0x1329df(0x7b2),_0x5e8668),this['send'](_0x5e8668,[_0x290ad6]);}[_0x677888(0x77b)](_0x341cad,_0x2539dc,_0x574c8e){const _0x25975f=_0x677888,_0x506ebf={'id':_0x341cad,'jobType':_0x2539dc,'jobPhase':_0x326baa[_0x25975f(0x94a)],'available':!0x1,'queueLength':_0x4e9e46[_0x25975f(0x8a9)],'bid':0x0};_0x5bf0c2['log'](_0x86d570[_0x25975f(0x83c)],_0x25975f(0x850),_0x506ebf),this[_0x25975f(0x4c2)](_0x506ebf,[_0x574c8e]);}async[_0x677888(0x9fc)](_0x1b6fa3,_0xa35f24,_0x2650a9){const _0x4cef83=_0x677888;_0x5bf0c2['log'](_0x86d570[_0x4cef83(0x83c)],_0x4cef83(0x676),_0xa35f24);const _0x5defee={'id':_0x1b6fa3,'jobType':_0xa35f24[_0x4cef83(0x384)],'parameters':_0xa35f24['parameters']};try{switch(_0xa35f24[_0x4cef83(0x384)]){case _0x1736bb[_0x4cef83(0x637)][_0x4cef83(0x6f4)]:await this[_0x4cef83(0x2ae)](_0x1b6fa3,_0xa35f24,_0x5defee,_0x2650a9);break;case _0x1736bb[_0x4cef83(0x637)][_0x4cef83(0x2d7)]:await this[_0x4cef83(0x49c)](_0x1b6fa3,_0xa35f24,_0x5defee,_0x2650a9);break;default:throw new Error(_0x4cef83(0x246));}}catch(_0x4f0142){_0x5bf0c2[_0x4cef83(0x487)](_0x4cef83(0x413),{'nodeId':this[_0x4cef83(0x32c)][_0x4cef83(0x48e)](),'nodeType':this[_0x4cef83(0x32c)]['type'],'data':{'job':_0x5defee}},_0x4f0142);const _0x37b63e=_0x4f0142 instanceof Error?_0x4f0142[_0x4cef83(0x71b)]:'An\x20error\x20occurred',_0x4bc470={'id':_0x1b6fa3,'jobType':_0xa35f24[_0x4cef83(0x384)],'jobPhase':_0x326baa[_0x4cef83(0x644)],'message':_0x37b63e};await this[_0x4cef83(0x4c2)](_0x4bc470,[_0x2650a9]);}}async[_0x677888(0x2ae)](_0x547057,_0x1fc58b,_0x189391,_0x324074){const _0x4b12de=_0x677888,_0xed370d=Date[_0x4b12de(0x9bd)](),_0x4c0c07=await this[_0x4b12de(0x59f)](_0x547057,_0x189391[_0x4b12de(0x7e1)]);this[_0x4b12de(0x5cb)](_0x4c0c07,_0xed370d,Date['now']());const _0xf812e2={'id':_0x547057,'jobType':_0x1fc58b[_0x4b12de(0x384)],'jobPhase':_0x326baa[_0x4b12de(0x4c5)],'result':_0x4c0c07};_0x5bf0c2['log'](_0x86d570[_0x4b12de(0x83c)],'JobWorker:\x20Sending\x20job\x20result',_0xf812e2),await this[_0x4b12de(0x4c2)](_0xf812e2,[_0x324074]),await this[_0x4b12de(0x33b)](_0x547057,_0x189391['parameters']);}async[_0x677888(0x49c)](_0x300318,_0x209a19,_0x23a9eb,_0x3d2c1d){const _0x414da1=_0x677888,_0x1e7c28=Date['now']();let _0x379c3a=0x0,_0x170a2d={};for await(const _0x1176dc of this[_0x414da1(0x2a2)](_0x23a9eb['id'],_0x23a9eb[_0x414da1(0x7e1)])){const _0xb38d90={'id':_0x300318,'jobType':_0x209a19[_0x414da1(0x384)],'jobPhase':_0x326baa[_0x414da1(0x6f0)],'result':{..._0x1176dc,'index':_0x379c3a}};_0x5bf0c2[_0x414da1(0x5d7)](_0x86d570[_0x414da1(0x83c)],_0x414da1(0x238),_0xb38d90),this['send'](_0xb38d90,[_0x3d2c1d]),_0x170a2d=this['accumulateResult'](_0x170a2d,_0x1176dc),_0x379c3a++;}this[_0x414da1(0x5cb)](_0x170a2d,_0x1e7c28,Date[_0x414da1(0x9bd)]());const _0x217761={'id':_0x300318,'jobType':_0x209a19[_0x414da1(0x384)],'jobPhase':_0x326baa[_0x414da1(0x4c5)],'result':{..._0x170a2d,'index':_0x379c3a}};_0x5bf0c2[_0x414da1(0x5d7)](_0x86d570[_0x414da1(0x83c)],'JobWorker:\x20Sending\x20job\x20result',_0x217761),await this[_0x414da1(0x4c2)](_0x217761,[_0x3d2c1d]),await this[_0x414da1(0x33b)](_0x300318,_0x23a9eb[_0x414da1(0x7e1)]);}['isJobRequest'](_0x300a65){const _0x1b99c2=_0x677888;return _0x300a65[_0x1b99c2(0x455)]===_0x326baa[_0x1b99c2(0xb0a)];}[_0x677888(0x9fb)](_0x36ced0){const _0x211cdd=_0x677888;return _0x36ced0[_0x211cdd(0x455)]===_0x326baa[_0x211cdd(0x446)];}}function _0x3a9e24(_0x15d77a){const _0x42204a=_0x677888;try{return JSON[_0x42204a(0x247)](_0x15d77a);}catch(_0x428f05){return _0x15d77a instanceof Error?_0x15d77a[_0x42204a(0x8d8)]():JSON[_0x42204a(0x247)](_0x42204a(0x848));}}class _0x27053e{static [_0x677888(0xb02)];[_0x677888(0x9dd)]=_0xaed68[_0x677888(0x924)];['commitLevel']=_0xaed68[_0x677888(0x47d)];[_0x677888(0x610)]=_0x4d885d[_0x677888(0x3b9)];['openedTraces']={};static [_0x677888(0xb0c)]=()=>(_0x27053e[_0x677888(0xb02)]||(_0x27053e['instance']=new _0x27053e()),_0x27053e[_0x677888(0xb02)]);async[_0x677888(0xab1)](_0x52a527,_0x2219be,_0x52fa77,_0x2ff4f4){const _0x54fdb0=_0x677888;try{if(this[_0x54fdb0(0x235)][_0x2219be])throw new Error(_0x54fdb0(0x1f7));const _0xe3b06b={'vendorId':_0x52a527,'workflowId':_0x52fa77,'sequence':0x0};return this[_0x54fdb0(0x235)][_0x2219be]=_0xe3b06b,!_0x2ff4f4||!_0x52fa77||(await(0x0,_0x214774[_0x54fdb0(0x97e)])((0x0,_0x214774[_0x54fdb0(0x3e7)])(_0x66e9[_0x54fdb0(0x65d)](),_0x54fdb0(0x406)+_0x52a527+_0x54fdb0(0x22e)+_0x52fa77+_0x54fdb0(0x700),_0x2219be),{'threadId':_0x2ff4f4,'startTime':(0x0,_0x214774[_0x54fdb0(0x3b6)])()}),!0x0);}catch(_0x5acb4d){return console[_0x54fdb0(0x487)](_0x54fdb0(0x528),_0x5acb4d),!0x1;}}async['trace'](_0x4883d4){const _0x5b81be=_0x677888;try{const _0xfb4de8=this[_0x5b81be(0x235)][_0x4883d4['jobId']];if(!_0xfb4de8)throw new Error(_0x5b81be(0x6d3));_0x4883d4[_0x5b81be(0x8c6)]=_0xfb4de8['sequence']++,_0x4883d4[_0x5b81be(0x2d2)]>=this[_0x5b81be(0x9dd)]&&console[_0x5b81be(0x5d7)](JSON[_0x5b81be(0x247)](_0x4883d4,null,0x2)),await this['commitTrace'](_0x4883d4);}catch(_0x319bf8){console[_0x5b81be(0x487)](_0x5b81be(0x98e),_0x319bf8);}}async['closeTrace'](_0x251f69,_0x3a2265){const _0xa04132=_0x677888;if(!_0x27053e['instance'])throw new Error('GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open');if(!this[_0xa04132(0x235)][_0x251f69])throw new Error(_0xa04132(0x725));if(_0x3a2265&&this[_0xa04132(0x235)][_0x251f69][_0xa04132(0x3d7)])try{await(0x0,_0x214774[_0xa04132(0x97e)])((0x0,_0x214774['doc'])(_0x66e9[_0xa04132(0x65d)](),_0xa04132(0x406)+this[_0xa04132(0x235)][_0x251f69][_0xa04132(0x94e)]+_0xa04132(0x22e)+this[_0xa04132(0x235)][_0x251f69]['workflowId']+'/jobs',_0x251f69),{'endTime':(0x0,_0x214774['serverTimestamp'])()},{'merge':!0x0}),delete this['openedTraces'][_0x251f69];}catch(_0x5c678e){console[_0xa04132(0x487)](_0xa04132(0x281),_0x5c678e);}else delete this[_0xa04132(0x235)][_0x251f69];}async[_0x677888(0x654)](_0x15b82e){const _0x202ae5=_0x677888;if(_0x15b82e[_0x202ae5(0x2d2)]<this[_0x202ae5(0x1d3)]&&_0x15b82e['jobType']!==this['commitType'])return;if(!this[_0x202ae5(0x235)][_0x15b82e[_0x202ae5(0x6c1)]])throw new Error(_0x202ae5(0x233));const _0xa81461=this[_0x202ae5(0x235)][_0x15b82e[_0x202ae5(0x6c1)]];try{const _0x556745=function(_0x228c27){const _0x26555e=_0x202ae5,_0x474b52=[_0x26555e(0x95f),_0x26555e(0x548),'jobType',_0x26555e(0xb0f),_0x26555e(0x6c1),_0x26555e(0x2d2),_0x26555e(0x735),_0x26555e(0x99c),_0x26555e(0x8c6),_0x26555e(0xa5e)],_0x9bf52b={..._0x228c27};for(const _0x31ff03 of _0x474b52)delete _0x9bf52b[_0x31ff03];return{'timestamp':_0x228c27[_0x26555e(0x548)],'jobType':_0x228c27['jobType'],'type':_0x228c27[_0x26555e(0xb0f)],'jobId':_0x228c27[_0x26555e(0x6c1)],'agentId':_0x228c27[_0x26555e(0x2f9)]??'','traceLevel':_0x228c27[_0x26555e(0x2d2)],'blockId':_0x228c27[_0x26555e(0x735)]??'','startTime':_0x228c27[_0x26555e(0x95f)],'status':_0x228c27[_0x26555e(0x99c)],'sequence':_0x228c27[_0x26555e(0x8c6)]??0x0,'errorDetails':_0x228c27[_0x26555e(0xa5e)]??'','metadata':_0x3a9e24(_0x9bf52b)};}(_0x15b82e),_0x17b720=(0x0,_0x1514a8['v4'])();console['log']('Logging\x20trace',_0x556745[_0x202ae5(0xb0f)]),await(0x0,_0x214774[_0x202ae5(0x97e)])((0x0,_0x214774[_0x202ae5(0x3e7)])(_0x66e9[_0x202ae5(0x65d)](),_0x202ae5(0x406)+_0xa81461[_0x202ae5(0x94e)]+_0x202ae5(0x22e)+_0xa81461[_0x202ae5(0x3d7)]+_0x202ae5(0x9a3)+_0x15b82e[_0x202ae5(0x6c1)]+_0x202ae5(0x757),_0x17b720),_0x556745),_0x15b82e[_0x202ae5(0xb0f)]===_0x407bb2[_0x202ae5(0xa30)]&&await(0x0,_0x214774[_0x202ae5(0x97e)])((0x0,_0x214774['doc'])(_0x66e9['getFirestore'](),_0x202ae5(0x406)+_0xa81461[_0x202ae5(0x94e)]+'/workflows/'+_0xa81461[_0x202ae5(0x3d7)]+_0x202ae5(0x700),_0x15b82e[_0x202ae5(0x6c1)]),{'rating':_0x15b82e[_0x202ae5(0x721)]},{'merge':!0x0});}catch(_0x3d1be0){console[_0x202ae5(0x487)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x3d1be0);}}}const _0x427409=_0x27053e[_0x677888(0xb0c)]();async function _0x43252d(_0x60f891,_0x388d5a,_0xfc509d,_0xe5c00f,_0x3afad8,_0x111cd9){const _0x2871b2=_0x677888,_0xcfbf3a=Date[_0x2871b2(0x9bd)]();if(!_0x111cd9['models'][_0x2871b2(0x8ab)](_0x45fdc9=>_0x45fdc9['id']===_0xe5c00f[_0x2871b2(0x6f8)]))throw new Error(_0x2871b2(0x1ba));const _0x47a6e9=(0x0,_0x1514a8['v4'])(),_0x11f58d=[];_0x11f58d[_0x2871b2(0xa65)]({'role':_0x2871b2(0x5ad),'content':_0xe5c00f[_0x2871b2(0x43c)]}),_0x11f58d['push']({'role':_0x2871b2(0x6ea),'content':_0xfc509d});const _0xbad2c5=await fetch(_0xd27c01['apiUrl']+_0x2871b2(0x322),{'method':'POST','headers':{'Content-Type':_0x2871b2(0x44d),'x-vendor-id':_0x60f891},'body':JSON[_0x2871b2(0x247)]({'model':_0xe5c00f['modelId'],'messages':_0x11f58d,'max_completion_tokens':_0xe5c00f[_0x2871b2(0x4a3)],'temperature':_0xe5c00f[_0x2871b2(0x2aa)],'threadId':_0x47a6e9})}),_0x4525e2=(await _0xbad2c5[_0x2871b2(0x434)]())[_0x2871b2(0x78c)][0x0][_0x2871b2(0x71b)][_0x2871b2(0x6a6)];await _0x427409[_0x2871b2(0x686)]({'jobType':_0x4d885d[_0x2871b2(0xae3)],'type':_0x42ff19[_0x2871b2(0x887)],'jobId':_0x388d5a,'blockId':_0xe5c00f['id'],'traceLevel':_0xaed68[_0x2871b2(0x858)],'timestamp':Date[_0x2871b2(0x9bd)](),'startTime':_0xcfbf3a,'status':'success','agentId':_0x47a6e9,'content':_0xfc509d,'instructions':_0xe5c00f[_0x2871b2(0x43c)],'result':_0x4525e2});const _0x591907=[];if(_0xe5c00f[_0x2871b2(0xa1c)]?.[_0x2871b2(0x591)](_0x324b88=>_0x324b88[_0x2871b2(0xb0f)]===_0x2582ba[_0x2871b2(0x3f4)]))return _0x591907[_0x2871b2(0xa65)]({'content':_0x4525e2,'start':0x0,'length':_0x4525e2[_0x2871b2(0x8a9)]}),await _0x2127fa(_0x60f891,_0x388d5a,_0x591907,_0xe5c00f,_0x3afad8,_0x111cd9),void await _0x2127fa(_0x60f891,_0x388d5a,_0x4525e2,_0xe5c00f,_0x3afad8,_0x111cd9);_0x591907[_0x2871b2(0xa65)]({'content':_0x4525e2,'start':0x0,'length':_0xfc509d[_0x2871b2(0x8a9)]}),await _0x2127fa(_0x60f891,_0x388d5a,_0x591907,_0xe5c00f,_0x3afad8,_0x111cd9);}async function _0x5d8810(_0x9fb96e,_0x22cd6a,_0xa7a550,_0x5b88ea,_0x550726,_0x2b4b91){const _0x41ab9f=_0x677888,_0x516820=Date[_0x41ab9f(0x9bd)]();let _0x18089b=[];if(_0xa7a550 instanceof Array){for(const _0x52973e of _0xa7a550)_0x18089b=_0x18089b[_0x41ab9f(0x8f9)](_0x25cd1c(_0x52973e['content'],_0x5b88ea,_0x52973e[_0x41ab9f(0x234)],_0x52973e[_0x41ab9f(0x8a9)]));}else _0x18089b=_0x25cd1c(_0xa7a550,_0x5b88ea);await _0x427409[_0x41ab9f(0x686)]({'jobType':_0x4d885d[_0x41ab9f(0xae3)],'type':_0x42ff19[_0x41ab9f(0x64b)],'traceLevel':_0xaed68[_0x41ab9f(0x858)],'jobId':_0x22cd6a,'blockId':_0x5b88ea['id'],'startTime':_0x516820,'timestamp':Date[_0x41ab9f(0x9bd)](),'status':_0x41ab9f(0x3bf),'totalChunks':_0x18089b[_0x41ab9f(0x8a9)],'chunkSize':_0x5b88ea[_0x41ab9f(0x743)][_0x41ab9f(0x22b)]}),await _0x2127fa(_0x9fb96e,_0x22cd6a,_0x18089b,_0x5b88ea,_0x550726,_0x2b4b91);}function _0x25cd1c(_0x40f88f,_0x175b60,_0x14ad74,_0x37a59e){const _0x39f090=_0x677888,_0x34856a=[];for(let _0x3b51e1=0x0;_0x3b51e1<_0x40f88f[_0x39f090(0x8a9)];_0x3b51e1+=_0x175b60[_0x39f090(0x743)][_0x39f090(0x22b)]){let _0x1ac906=_0x3b51e1-_0x175b60[_0x39f090(0x743)][_0x39f090(0x86b)];_0x1ac906<0x0&&(_0x1ac906=0x0);let _0x16ce76=_0x3b51e1+_0x175b60[_0x39f090(0x743)][_0x39f090(0x22b)]+_0x175b60['attributes'][_0x39f090(0x86b)];_0x16ce76>_0x40f88f[_0x39f090(0x8a9)]&&(_0x16ce76=_0x40f88f[_0x39f090(0x8a9)]);const _0x13a1d8=_0x40f88f[_0x39f090(0x7ab)](_0x1ac906,_0x16ce76);_0x34856a['push']({'content':_0x13a1d8,'start':_0x14ad74??_0x3b51e1,'length':_0x37a59e??(_0x3b51e1+_0x175b60[_0x39f090(0x743)][_0x39f090(0x22b)]>_0x40f88f[_0x39f090(0x8a9)]?_0x40f88f[_0x39f090(0x8a9)]-_0x3b51e1:_0x175b60[_0x39f090(0x743)][_0x39f090(0x22b)])});}return _0x34856a;}async function _0x4a3084(_0xb74b14,_0x53e800,_0x2cdc01,_0x18c39b,_0x511c51,_0x186ad1){const _0x42747e=_0x677888,_0x5d57be=Date[_0x42747e(0x9bd)]();let _0xf3c56e;if(_0x2cdc01[_0x42747e(0x228)][_0x42747e(0xb0f)]['startsWith']('text/')||(_0x59b1f1=_0x2cdc01[_0x42747e(0x228)][_0x42747e(0x7ca)],_0x35cb6d[_0x42747e(0xace)]('.'+(_0x59b1f1[_0x42747e(0xad8)]('.')[_0x42747e(0x9be)]()?.[_0x42747e(0x222)]()||''))))_0xf3c56e=await _0x2cdc01[_0x42747e(0x228)][_0x42747e(0x420)]();else{if(!_0x186ad1['documentParserConnector']['supports'](_0x2cdc01[_0x42747e(0x228)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x2cdc01[_0x42747e(0x228)]['type']+_0x42747e(0x3c8)+_0x2cdc01[_0x42747e(0x228)]['name']);_0xf3c56e=await _0x186ad1[_0x42747e(0x8d9)][_0x42747e(0xa5d)](_0x2cdc01['file']);}var _0x59b1f1;await _0x427409[_0x42747e(0x686)]({'jobType':_0x4d885d[_0x42747e(0xae3)],'type':_0x42ff19[_0x42747e(0x3ae)],'traceLevel':_0xaed68['Debug'],'blockId':_0x18c39b['id'],'jobId':_0x53e800,'startTime':_0x5d57be,'timestamp':Date[_0x42747e(0x9bd)](),'status':_0x42747e(0x3bf),'documentType':_0x2cdc01[_0x42747e(0x228)][_0x42747e(0xb0f)],'documentName':_0x2cdc01[_0x42747e(0x228)][_0x42747e(0x7ca)],'extractionMethod':_0x42747e(0xabf)}),await _0x2127fa(_0xb74b14,_0x53e800,_0xf3c56e,_0x18c39b,_0x511c51,_0x186ad1);const _0x27214f=[{'content':_0xf3c56e,'start':0x0,'length':_0xf3c56e[_0x42747e(0x8a9)]}];await _0x2127fa(_0xb74b14,_0x53e800,_0x27214f,_0x18c39b,_0x511c51,_0x186ad1);}const _0x35cb6d=[_0x677888(0x78a),_0x677888(0x344),'.py',_0x677888(0x567),_0x677888(0x957),_0x677888(0x668),'.css',_0x677888(0x68f),_0x677888(0x947),_0x677888(0x209),_0x677888(0x5dd),_0x677888(0x52d),_0x677888(0x54d),'.ini','.cfg',_0x677888(0x736),'.sql',_0x677888(0x5b9),_0x677888(0x712),'.java','.c',_0x677888(0x421),_0x677888(0x5d4),'.r',_0x677888(0x840),_0x677888(0x341),_0x677888(0xa9c),_0x677888(0x2c4),_0x677888(0x1da),_0x677888(0x915),_0x677888(0x87c),_0x677888(0x175),_0x677888(0x6e9),_0x677888(0x4a7),'.groovy','.erl',_0x677888(0x531),_0x677888(0xa80),_0x677888(0x93f),_0x677888(0x365),_0x677888(0x997),'.m',_0x677888(0x3eb),_0x677888(0xa6a),_0x677888(0x91a),_0x677888(0x545),_0x677888(0x3f8),_0x677888(0xa59),'.tsx',_0x677888(0x9e4),_0x677888(0x91f),_0x677888(0x1eb),_0x677888(0x569),_0x677888(0x559),'.handlebars','.ejs','.pug',_0x677888(0x3bd),'.mustache',_0x677888(0x8fb),_0x677888(0xa3a),'.j2',_0x677888(0x9ad)];async function _0x1cbe03(_0x27d12d,_0x21ce60,_0x2bed85,_0x41e3e3,_0x5491b4,_0x1e0a03){const _0x139234=_0x677888,_0x34fd2a=Date[_0x139234(0x9bd)](),_0x23dd74=new Set();let _0x67a3a0=0x0;for(const _0x302fbb of _0x2bed85)_0x67a3a0+=_0x302fbb[_0x139234(0x6a6)][_0x139234(0x8a9)],await _0x501908(_0x302fbb[_0x139234(0x6a6)],_0x23dd74,_0x41e3e3,_0x1e0a03[_0x139234(0x88f)]);await _0x427409[_0x139234(0x686)]({'jobType':_0x4d885d[_0x139234(0xae3)],'type':_0x42ff19['EntityExtractor'],'jobId':_0x21ce60,'blockId':_0x41e3e3['id'],'traceLevel':_0xaed68['Debug'],'startTime':_0x34fd2a,'timestamp':Date['now'](),'status':_0x139234(0x3bf),'contentLength':_0x67a3a0,'totalChunks':_0x2bed85 instanceof Array?_0x2bed85[_0x139234(0x8a9)]:0x1,'entitiesExtracted':_0x23dd74,'totalEntities':_0x23dd74['size']}),await _0x2127fa(_0x27d12d,_0x21ce60,_0x23dd74,_0x41e3e3,_0x5491b4,_0x1e0a03);}async function _0x501908(_0x57be92,_0x132473,_0x128e54,_0x7a17e0){const _0x5fefda=_0x677888,_0x5bd44f=await _0x7a17e0[_0x5fefda(0x6c0)](_0x57be92,{'ner':_0x128e54[_0x5fefda(0x743)]['ner'],'noun':_0x128e54[_0x5fefda(0x743)]['noun'],'propn':_0x128e54[_0x5fefda(0x743)][_0x5fefda(0x3b1)],'verb':_0x128e54['attributes'][_0x5fefda(0x190)]});for(const _0x1b47e3 of _0x5bd44f)_0x132473[_0x5fefda(0xa95)](_0x1b47e3);}async function _0x1127fe(_0x5d5bc0,_0x1e397e,_0x55cf54,_0x20b1ae,_0x472660){const _0x62a642=_0x677888,_0xd0c0a3=Date[_0x62a642(0x9bd)]();if(_0x55cf54[_0x62a642(0x8e9)]||(_0x55cf54[_0x62a642(0x8e9)]={}),_0x62a642(0x435)==typeof _0x1e397e?_0x55cf54['accumulated'][_0x62a642(0x6a6)]=_0x1e397e:_0x1e397e instanceof Set?_0x55cf54[_0x62a642(0x8e9)][_0x62a642(0x258)]=_0x1e397e:_0x1e397e instanceof Map?_0x55cf54['accumulated']['relations']=_0x1e397e:_0x1e397e instanceof Array?_0x55cf54[_0x62a642(0x8e9)][_0x62a642(0x7fc)]=_0x1e397e:_0x55cf54[_0x62a642(0x8e9)][_0x62a642(0x228)]=_0x1e397e,_0x55cf54[_0x62a642(0x614)]=_0x55cf54[_0x62a642(0x614)]?_0x55cf54[_0x62a642(0x614)]+0x1:0x1,_0x2188ef(_0x55cf54,_0x20b1ae)>_0x55cf54['timesCalled'])return;if(!(_0x55cf54['accumulated'][_0x62a642(0x258)]&&_0x55cf54['accumulated'][_0x62a642(0x228)]&&_0x55cf54['accumulated'][_0x62a642(0x6a6)]&&_0x55cf54[_0x62a642(0x8e9)][_0x62a642(0x7fc)]))throw new Error(_0x62a642(0x8e6));let _0x20ee3c=0x0;const _0x13a0b9=_0x472660[_0x62a642(0xa61)][_0x62a642(0x6bd)](_0x55cf54['id']);for(const _0x5cf145 of _0x55cf54[_0x62a642(0x8e9)][_0x62a642(0x258)]){let _0x8f4ac8=[];_0x8f4ac8=_0x55cf54[_0x62a642(0x8e9)]['index'][_0x62a642(0x3cc)](_0x1ffab3=>_0x1ffab3['content']['includes'](_0x5cf145));try{_0x13a0b9['addNode'](_0x55cf54[_0x62a642(0x8e9)][_0x62a642(0x228)]['pathName'],_0x55cf54[_0x62a642(0x8e9)][_0x62a642(0x6a6)],_0x8f4ac8,_0x5cf145),_0x20ee3c+=0x1;}catch(_0x26c4ab){}}if(_0x55cf54[_0x62a642(0x8e9)][_0x62a642(0x465)]){for(const [_0x43fb8f,_0x581546]of _0x55cf54['accumulated']['relations'])for(const _0x4da5a2 of _0x581546)try{_0x13a0b9[_0x62a642(0x83a)](_0x43fb8f,_0x4da5a2);}catch(_0x413d3e){}await _0x427409[_0x62a642(0x686)]({'jobType':_0x4d885d[_0x62a642(0xae3)],'type':_0x42ff19[_0x62a642(0x726)],'jobId':_0x5d5bc0,'blockId':_0x55cf54['id'],'status':'success','startTime':_0xd0c0a3,'timestamp':Date[_0x62a642(0x9bd)](),'traceLevel':_0xaed68['Debug'],'nodesAdded':_0x20ee3c,'entities':_0x55cf54[_0x62a642(0x8e9)][_0x62a642(0x258)],'relations':_0x55cf54['accumulated']['relations']});}}async function _0x48e130(_0x4aa784,_0x56f487,_0x325479,_0x3abbd8,_0x142393,_0x5cdd64){const _0x259d80=_0x677888,_0x554d02=_0x5cdd64['models'][_0x259d80(0x8ab)](_0x2fe1d9=>_0x2fe1d9['id']===_0x3abbd8['id']);if(!_0x554d02)throw new Error(_0x259d80(0x1ba));switch(_0x554d02[_0x259d80(0x74b)]){case _0x1736bb[_0x259d80(0x60a)][_0x259d80(0x3f4)]:if(_0x259d80(0x435)!=typeof _0x325479)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x483c42,_0x585387,_0x46444c,_0x116e32,_0x86ffe5,_0x33f27a,_0x12fd63){const _0x3e3004=_0x259d80,_0x17b4cf=Date[_0x3e3004(0x9bd)]();let _0x2b4bd4;const _0x3dfbaf=await fetch(_0xd27c01[_0x3e3004(0x292)]+_0x3e3004(0x322),{'method':'POST','headers':{'Content-Type':'application/json','x-vendor-id':_0x483c42},'body':JSON[_0x3e3004(0x247)]({'messages':[{'role':_0x3e3004(0x6ea),'content':_0x46444c}]})});_0x2b4bd4=(await _0x3dfbaf['json']())['choices'][0x0][_0x3e3004(0x71b)]['content'],await _0x427409[_0x3e3004(0x686)]({'jobType':_0x4d885d[_0x3e3004(0xae3)],'type':_0x42ff19[_0x3e3004(0x1a2)],'jobId':_0x585387,'blockId':_0x86ffe5['id'],'traceLevel':_0xaed68[_0x3e3004(0x858)],'timestamp':Date['now'](),'startTime':_0x17b4cf,'status':_0x3e3004(0x3bf),'modelName':_0x116e32['id'],'inputType':_0x116e32[_0x3e3004(0x53a)],'outputType':_0x116e32[_0x3e3004(0x74b)],'content':_0x46444c,'results':_0x2b4bd4}),await _0x2127fa(_0x483c42,_0x585387,_0x2b4bd4,_0x86ffe5,_0x33f27a,_0x12fd63);}(_0x4aa784,_0x56f487,_0x325479,_0x554d02,_0x3abbd8,_0x142393,_0x5cdd64);break;case _0x1736bb[_0x259d80(0x60a)][_0x259d80(0x46c)]:if(!(_0x325479 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x3ca81b,_0x2f5fcf,_0x13cd33,_0x5d8746,_0x198550,_0x59d79c,_0x2f3860){const _0x245cf2=_0x259d80,_0x5276d8=Date[_0x245cf2(0x9bd)](),_0x3d7d7c=await fetch(_0xd27c01[_0x245cf2(0x292)]+'/embeddings',{'method':_0x245cf2(0x66c),'headers':{'Content-Type':'application/json','x-vendor-id':_0x3ca81b},'body':JSON['stringify']({'input':_0x13cd33[_0x245cf2(0x360)](_0x39ee84=>_0x39ee84['content'])})}),_0x234dde=(await _0x3d7d7c[_0x245cf2(0x434)]())['data']['map'](_0x44434b=>_0x44434b[_0x245cf2(0x30b)]);await _0x427409[_0x245cf2(0x686)]({'jobType':_0x4d885d[_0x245cf2(0xae3)],'type':_0x42ff19[_0x245cf2(0xaa8)],'jobId':_0x2f5fcf,'blockId':_0x198550['id'],'traceLevel':_0xaed68[_0x245cf2(0x858)],'timestamp':Date['now'](),'startTime':_0x5276d8,'status':_0x245cf2(0x3bf),'modelName':_0x5d8746['id'],'inputType':_0x5d8746[_0x245cf2(0x53a)],'outputType':_0x5d8746[_0x245cf2(0x74b)],'totalVectors':_0x234dde[_0x245cf2(0x8a9)]}),await _0x2127fa(_0x3ca81b,_0x2f5fcf,_0x234dde,_0x198550,_0x59d79c,_0x2f3860);}(_0x4aa784,_0x56f487,_0x325479,_0x554d02,_0x3abbd8,_0x142393,_0x5cdd64);}}async function _0x257098(_0x23dc48,_0x403c99,_0x5709b2,_0x183d26,_0x27e180,_0x52624a){const _0x5c7c1f=_0x677888,_0x1715d4=Date[_0x5c7c1f(0x9bd)]();if(_0x183d26[_0x5c7c1f(0x8e9)]||(_0x183d26[_0x5c7c1f(0x8e9)]={}),_0x5709b2 instanceof Array?_0x183d26[_0x5c7c1f(0x8e9)][_0x5c7c1f(0x7fc)]=_0x5709b2:_0x183d26[_0x5c7c1f(0x8e9)][_0x5c7c1f(0x258)]=_0x5709b2,_0x183d26[_0x5c7c1f(0x614)]=_0x183d26['timesCalled']?_0x183d26['timesCalled']+0x1:0x1,_0x2188ef(_0x183d26,_0x27e180)>_0x183d26[_0x5c7c1f(0x614)])return;if(!_0x183d26[_0x5c7c1f(0x8e9)][_0x5c7c1f(0x7fc)]||!_0x183d26[_0x5c7c1f(0x8e9)]['entities'])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0x17c561=new Map();for(const _0x14c28e of _0x183d26['accumulated'][_0x5c7c1f(0x7fc)])_0x5717c2(_0x14c28e['content'],_0x183d26[_0x5c7c1f(0x8e9)][_0x5c7c1f(0x258)],_0x17c561);await _0x427409['trace']({'jobType':_0x4d885d[_0x5c7c1f(0xae3)],'type':_0x42ff19[_0x5c7c1f(0x312)],'jobId':_0x403c99,'blockId':_0x183d26['id'],'traceLevel':_0xaed68[_0x5c7c1f(0x858)],'timestamp':Date[_0x5c7c1f(0x9bd)](),'startTime':_0x1715d4,'status':_0x5c7c1f(0x3bf),'entities':_0x183d26[_0x5c7c1f(0x8e9)][_0x5c7c1f(0x258)],'relations':_0x17c561,'totalRelationsExtracted':_0x17c561['size']}),await _0x2127fa(_0x23dc48,_0x403c99,_0x17c561,_0x183d26,_0x27e180,_0x52624a);}function _0x5717c2(_0x3adf05,_0x5e4ec2,_0x2d95b3){const _0x324c87=_0x677888;for(const _0x5a23c2 of _0x5e4ec2)for(const _0xce5572 of _0x5e4ec2){if(_0x5a23c2===_0xce5572)continue;const _0x36a470=_0x3adf05[_0x324c87(0x701)](_0x5a23c2),_0x25e9a9=_0x3adf05['indexOf'](_0xce5572);-0x1!==_0x36a470&&-0x1!==_0x25e9a9&&(_0x2d95b3[_0x324c87(0x26b)](_0x5a23c2)||_0x2d95b3[_0x324c87(0x926)](_0x5a23c2,new Set()),_0x2d95b3[_0x324c87(0x8a1)](_0x5a23c2)['add'](_0xce5572));}return _0x2d95b3;}async function _0x59d6c1(_0x1c8828,_0x9bc9e7,_0x4185a7,_0x48488e,_0x562bb3,_0x1d240c){const _0x4da1da=_0x677888,_0x16df15=Date[_0x4da1da(0x9bd)]();let _0x2a3080=[];if(_0x4185a7 instanceof Array)for(const _0x216f08 of _0x4185a7){const _0x43d469=await _0x1d240c[_0x4da1da(0x88f)][_0x4da1da(0xa04)](_0x216f08['content']);_0x2a3080=_0x2a3080['concat'](_0x43d469['map'](_0x3d991d=>({'content':_0x3d991d,'start':_0x216f08[_0x4da1da(0x234)],'length':_0x216f08[_0x4da1da(0x8a9)]})));}else _0x2a3080=(await _0x1d240c[_0x4da1da(0x88f)][_0x4da1da(0xa04)](_0x4185a7))[_0x4da1da(0x360)](_0x21a38b=>({'content':_0x21a38b,'start':_0x4185a7['indexOf'](_0x21a38b),'length':_0x21a38b[_0x4da1da(0x8a9)]}));await _0x427409[_0x4da1da(0x686)]({'jobType':_0x4d885d[_0x4da1da(0xae3)],'type':_0x42ff19[_0x4da1da(0x4f7)],'jobId':_0x9bc9e7,'blockId':_0x48488e['id'],'traceLevel':_0xaed68[_0x4da1da(0x858)],'startTime':_0x16df15,'timestamp':Date[_0x4da1da(0x9bd)](),'status':_0x4da1da(0x3bf),'totalSentences':_0x2a3080[_0x4da1da(0x8a9)],'averageSentenceLength':_0x2a3080[_0x4da1da(0x63b)]((_0x1960cf,_0x172e82)=>_0x1960cf+_0x172e82[_0x4da1da(0x8a9)],0x0)/_0x2a3080[_0x4da1da(0x8a9)]}),await _0x2127fa(_0x1c8828,_0x9bc9e7,_0x2a3080,_0x48488e,_0x562bb3,_0x1d240c);}async function _0x31f1ce(_0x5e9fa6,_0x2db37a,_0xb65e19,_0x5c58d6,_0x112e78){const _0x22191a=_0x677888,_0x188679=Date[_0x22191a(0x9bd)]();var _0x51bd73;if(_0xb65e19[_0x22191a(0x8e9)]||(_0xb65e19[_0x22191a(0x8e9)]={}),_0x2db37a instanceof Array?(_0x51bd73=_0x2db37a)[0x0]instanceof Array&&_0x22191a(0x8b7)==typeof _0x51bd73[0x0]?.[0x0]?_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x535)]=_0x2db37a:_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x7fc)]=_0x2db37a:'string'==typeof _0x2db37a?_0xb65e19['accumulated'][_0x22191a(0x6a6)]=_0x2db37a:_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x228)]=_0x2db37a,_0xb65e19['timesCalled']=_0xb65e19[_0x22191a(0x614)]?_0xb65e19[_0x22191a(0x614)]+0x1:0x1,_0x2188ef(_0xb65e19,_0x5c58d6)>_0xb65e19[_0x22191a(0x614)])return;if(!(_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x6a6)]&&_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x7fc)]&&_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x535)]&&_0xb65e19['accumulated']['file']))throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x6de85=_0x112e78[_0x22191a(0xa61)][_0x22191a(0x6a2)](_0xb65e19['id']);_0x6de85[_0x22191a(0x287)](_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x228)][_0x22191a(0x294)],_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x6a6)],_0xb65e19[_0x22191a(0x8e9)]['index'],_0xb65e19['accumulated'][_0x22191a(0x535)]),await _0x427409['trace']({'jobType':_0x4d885d[_0x22191a(0xae3)],'type':_0x42ff19[_0x22191a(0x2b3)],'jobId':_0x5e9fa6,'blockId':_0xb65e19['id'],'traceLevel':_0xaed68['Debug'],'startTime':_0x188679,'timestamp':Date[_0x22191a(0x9bd)](),'status':_0x22191a(0x3bf),'databaseName':_0x6de85['getName'](),'vectorsAdded':_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x535)][_0x22191a(0x8a9)],'filePathName':_0xb65e19[_0x22191a(0x8e9)][_0x22191a(0x228)][_0x22191a(0x294)]});}async function _0xc73cb4(_0x4cc1e9,_0x23b42a,_0x5c0f9a,_0x11e851,_0x34943c,_0x41fc88){const _0x37f226=_0x677888,_0x2716d9=Date[_0x37f226(0x9bd)]();let _0x347294=[];if(_0x5c0f9a instanceof Array){for(const _0x2994b2 of _0x5c0f9a)_0x347294=_0x347294[_0x37f226(0x8f9)](_0x2ed5c6(_0x2994b2[_0x37f226(0x6a6)],_0x11e851,_0x2994b2[_0x37f226(0x234)],_0x2994b2[_0x37f226(0x8a9)]));}else _0x347294=_0x2ed5c6(_0x5c0f9a,_0x11e851);await _0x427409['trace']({'jobType':_0x4d885d[_0x37f226(0xae3)],'type':_0x42ff19[_0x37f226(0x2e8)],'jobId':_0x23b42a,'traceLevel':_0xaed68[_0x37f226(0x858)],'blockId':_0x11e851['id'],'startTime':_0x2716d9,'timestamp':Date['now'](),'status':_0x37f226(0x3bf),'totalChunks':_0x347294[_0x37f226(0x8a9)],'averageChunkLength':_0x347294['reduce']((_0x55cae4,_0x147c70)=>_0x55cae4+_0x147c70[_0x37f226(0x8a9)],0x0)/_0x347294['length']}),await _0x2127fa(_0x4cc1e9,_0x23b42a,_0x347294,_0x11e851,_0x34943c,_0x41fc88);}function _0x2ed5c6(_0x6b2432,_0x29d32e,_0x5b3d99,_0x5a0faa){const _0x1478bb=_0x677888,_0x1fc7eb=[],_0x51bd43=_0x6b2432[_0x1478bb(0xad8)]('\x20');let _0xbda640='',_0x4c0bf5=-0x1,_0x2f856e=0x0,_0x157728=0x0;for(const _0x324c65 of _0x51bd43){if(_0xbda640[_0x1478bb(0x8a9)]+_0x324c65['length']>_0x29d32e['attributes'][_0x1478bb(0x22b)]){const _0x4733f9=_0xbda640[_0x1478bb(0x8a9)];let _0x59e619=_0x4c0bf5,_0x34a1b5='';for(;_0x59e619>=0x0&&_0x34a1b5[_0x1478bb(0x8a9)]+_0x51bd43[_0x59e619][_0x1478bb(0x8a9)]<_0x29d32e['attributes'][_0x1478bb(0x86b)];)_0x34a1b5=_0x51bd43[_0x59e619]+'\x20'+_0x34a1b5,_0x59e619--;let _0x4f768a=_0x2f856e,_0x46796e='';for(;_0x4f768a<_0x51bd43[_0x1478bb(0x8a9)]&&_0x46796e['length']+_0x51bd43[_0x4f768a]['length']<_0x29d32e[_0x1478bb(0x743)]['overlap'];)_0x46796e+=_0x51bd43[_0x4f768a]+'\x20',_0x4f768a++;_0xbda640=_0x34a1b5+_0xbda640+_0x46796e,_0x1fc7eb['push']({'content':_0xbda640['trim'](),'start':_0x5b3d99??_0x157728,'length':_0x5a0faa??_0x4733f9}),_0xbda640='',_0x4c0bf5=_0x2f856e-0x1,_0x157728+=_0x4733f9;}_0xbda640+=_0x324c65+'\x20',_0x2f856e++;}if(_0xbda640[_0x1478bb(0x8a9)]>0x0){const _0x2e6a8b=_0xbda640[_0x1478bb(0x8a9)];let _0x56b438=_0x4c0bf5,_0x47ce36='';for(;_0x56b438>=0x0&&_0x47ce36['length']+_0x51bd43[_0x56b438][_0x1478bb(0x8a9)]<_0x29d32e[_0x1478bb(0x743)]['overlap'];)_0x47ce36=_0x51bd43[_0x56b438]+'\x20'+_0x47ce36,_0x56b438--;_0xbda640=_0x47ce36+_0xbda640,_0x1fc7eb[_0x1478bb(0xa65)]({'content':_0xbda640[_0x1478bb(0x36d)](),'start':_0x5b3d99??_0x157728,'length':_0x5a0faa??_0x2e6a8b});}return _0x1fc7eb;}async function _0x2127fa(_0x178714,_0x32e1b5,_0x43dc80,_0x5c6caa,_0x4ad710,_0x1fb555){const _0x1b7d21=_0x677888;for(const _0x187df3 of _0x5c6caa[_0x1b7d21(0xa1c)]||[]){const _0x31198d=_0x4ad710[_0x1b7d21(0x8ab)](_0x40612e=>_0x40612e['uid']===_0x187df3[_0x1b7d21(0x5f0)]);if(_0x31198d)switch(_0x31198d[_0x1b7d21(0xb0f)]){case _0x11f239[_0x1b7d21(0x887)]:_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x3f4)]&&_0x1b7d21(0x435)==typeof _0x43dc80&&await _0x43252d(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);break;case _0x11f239[_0x1b7d21(0x64b)]:_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x3f4)]&&_0x1b7d21(0x435)==typeof _0x43dc80&&await _0x5d8810(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3['type']===_0x2582ba[_0x1b7d21(0x90b)]&&_0x43dc80 instanceof Array&&await _0x5d8810(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);break;case _0x11f239[_0x1b7d21(0x3ae)]:_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba['File']&&await _0x4a3084(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);break;case _0x11f239[_0x1b7d21(0x5b0)]:_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x90b)]&&_0x43dc80 instanceof Array&&await _0x1cbe03(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);break;case _0x11f239[_0x1b7d21(0x726)]:_0x187df3['type']===_0x2582ba[_0x1b7d21(0x3f4)]&&_0x1b7d21(0x435)==typeof _0x43dc80&&await _0x1127fe(_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3['type']===_0x2582ba[_0x1b7d21(0x90b)]&&_0x43dc80 instanceof Array&&await _0x1127fe(_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3['type']===_0x2582ba['Entity']&&_0x43dc80 instanceof Set&&await _0x1127fe(_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x55c)]&&_0x43dc80 instanceof Map&&await _0x1127fe(_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x3ca)]&&await _0x1127fe(_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);break;case _0x11f239[_0x1b7d21(0x453)]:_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x3f4)]&&_0x1b7d21(0x435)==typeof _0x43dc80&&await _0x48e130(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x90b)]&&_0x43dc80 instanceof Array&&await _0x48e130(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);break;case _0x11f239[_0x1b7d21(0x312)]:_0x187df3['type']===_0x2582ba[_0x1b7d21(0x90b)]&&_0x43dc80 instanceof Array&&await _0x257098(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x719)]&&_0x43dc80 instanceof Set&&await _0x257098(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);break;case _0x11f239['SentenceSplitter']:_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x3f4)]&&_0x1b7d21(0x435)==typeof _0x43dc80&&await _0x59d6c1(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x90b)]&&_0x43dc80 instanceof Array&&await _0x59d6c1(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);break;case _0x11f239[_0x1b7d21(0x2b3)]:_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x3f4)]&&_0x1b7d21(0x435)==typeof _0x43dc80&&await _0x31f1ce(_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3['type']===_0x2582ba[_0x1b7d21(0x90b)]&&_0x43dc80 instanceof Array&&await _0x31f1ce(_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba['Vector']&&_0x43dc80 instanceof Array&&await _0x31f1ce(_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3['type']===_0x2582ba['File']&&await _0x31f1ce(_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);break;case _0x11f239[_0x1b7d21(0x2e8)]:_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x3f4)]&&_0x1b7d21(0x435)==typeof _0x43dc80&&await _0xc73cb4(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555),_0x187df3[_0x1b7d21(0xb0f)]===_0x2582ba[_0x1b7d21(0x90b)]&&_0x43dc80 instanceof Array&&await _0xc73cb4(_0x178714,_0x32e1b5,_0x43dc80,_0x31198d,_0x4ad710,_0x1fb555);}}}function _0x2188ef(_0x53bad1,_0x4d7645){const _0x5adda7=_0x677888;return _0x4d7645[_0x5adda7(0x3cc)](_0x592e35=>_0x592e35[_0x5adda7(0xa1c)]?.[_0x5adda7(0x591)](_0x4013cf=>_0x4013cf[_0x5adda7(0x5f0)]===_0x53bad1['uid']))['length'];}async function _0x479bbf(_0x576f92,_0x1ca2fa,_0x762a83,_0x15da2f,_0xcf30f2,_0x5d0803,_0x2cb2ff,_0xf66943){const _0x36579c=_0x677888,_0x5dba92=Date[_0x36579c(0x9bd)](),_0x91c0e8=new Set();if(_0x15da2f instanceof Array){for(const _0x6b1e80 of _0x15da2f)await _0x1d2d21(_0x6b1e80[_0x36579c(0x6a6)],_0x5d0803,_0x91c0e8,_0xf66943[_0x36579c(0x88f)]);}else await _0x1d2d21(_0x15da2f,_0x5d0803,_0x91c0e8,_0xf66943[_0x36579c(0x88f)]);await _0x427409[_0x36579c(0x686)]({'jobType':_0x4d885d['Retrieve'],'type':_0x359ec4[_0x36579c(0x5b0)],'jobId':_0x1ca2fa,'threadId':_0x762a83,'blockId':_0x5d0803['id'],'traceLevel':_0xaed68['Debug'],'startTime':_0x5dba92,'timestamp':Date[_0x36579c(0x9bd)](),'status':_0x36579c(0x3bf),'content':_0x15da2f,'entitiesExtracted':Array[_0x36579c(0x3fd)](_0x91c0e8),'totalEntities':_0x91c0e8['size']}),await _0xa6d57d(_0x576f92,_0x1ca2fa,_0x762a83,_0x91c0e8,_0xcf30f2,_0x5d0803,_0x2cb2ff,_0xf66943);}async function _0x1d2d21(_0x1bfbff,_0x43e193,_0x568d97,_0xb87fed){const _0x2b2038=_0x677888,_0x213643=await _0xb87fed[_0x2b2038(0x6c0)](_0x1bfbff,{'ner':_0x43e193[_0x2b2038(0x743)][_0x2b2038(0x6fc)],'noun':_0x43e193[_0x2b2038(0x743)][_0x2b2038(0x340)],'propn':_0x43e193[_0x2b2038(0x743)][_0x2b2038(0x3b1)],'verb':_0x43e193[_0x2b2038(0x743)][_0x2b2038(0x190)]});for(const _0x277ea2 of _0x213643)_0x568d97[_0x2b2038(0xa95)](_0x277ea2);}async function _0x47a8aa(_0x16a10c,_0xdac40d,_0x583e4b,_0x3dc350,_0x16c8bc,_0x1ca594,_0x2a152d,_0x3cf792){const _0xffab91=_0x677888,_0x249fee=Date[_0xffab91(0x9bd)]();if(_0x1ca594[_0xffab91(0x8e9)]||(_0x1ca594[_0xffab91(0x8e9)]={}),_0x3dc350 instanceof Array?(_0x1ca594[_0xffab91(0x8e9)][_0xffab91(0x2e5)]||(_0x1ca594[_0xffab91(0x8e9)][_0xffab91(0x2e5)]=[]),_0x1ca594[_0xffab91(0x8e9)][_0xffab91(0x2e5)][_0xffab91(0xa65)](..._0x3dc350)):_0x3dc350 instanceof Set?_0x1ca594[_0xffab91(0x8e9)][_0xffab91(0x258)]=_0x3dc350:_0x1ca594[_0xffab91(0x8e9)][_0xffab91(0x19d)]=_0x3dc350,_0x1ca594['timesCalled']=_0x1ca594[_0xffab91(0x614)]?_0x1ca594[_0xffab91(0x614)]+0x1:0x1,_0x4398fc(_0x1ca594,_0x2a152d)>_0x1ca594[_0xffab91(0x614)])return;if(!_0x1ca594[_0xffab91(0x8e9)][_0xffab91(0x19d)]&&!_0x1ca594[_0xffab91(0x8e9)]['results']||!_0x1ca594[_0xffab91(0x8e9)][_0xffab91(0x258)])throw new Error(_0xffab91(0x8e6));const _0x5f5399=_0x3cf792[_0xffab91(0xa61)][_0xffab91(0x6bd)](_0x1ca594['id'])[_0xffab91(0x933)](Array[_0xffab91(0x3fd)](_0x1ca594[_0xffab91(0x8e9)]['entities']),_0x1ca594[_0xffab91(0x743)][_0xffab91(0x96b)],_0x1ca594['attributes'][_0xffab91(0x6a1)]);let _0x59e1de=[];for(const _0x195abb in _0x5f5399){const _0x5f560c=_0x5f5399[_0x195abb];for(const _0x217c1a of _0x5f560c){let _0x1bf003=0x0;if(_0x1ca594[_0xffab91(0x8e9)][_0xffab91(0x19d)]&&(_0x1bf003=await _0x3cf792[_0xffab91(0x88f)][_0xffab91(0x8d5)](_0x1ca594[_0xffab91(0x8e9)]['prompt'],_0x217c1a)),_0x1ca594[_0xffab91(0x8e9)][_0xffab91(0x2e5)]){for(const _0xab4451 of _0x1ca594['accumulated'][_0xffab91(0x2e5)])_0x1bf003=Math[_0xffab91(0x38c)](_0x1bf003,await _0x3cf792[_0xffab91(0x88f)][_0xffab91(0x8d5)](_0xab4451[_0xffab91(0x6a6)],_0x217c1a));}_0x1bf003<_0x1ca594[_0xffab91(0x743)]['minRelevance']||_0x59e1de[_0xffab91(0xa65)]({'content':_0x217c1a,'relevance':_0x1bf003,'pathName':_0x195abb});}}_0x59e1de=_0x59e1de[_0xffab91(0x323)]((_0x245513,_0x30795b)=>_0x30795b[_0xffab91(0x607)]-_0x245513['relevance'])[_0xffab91(0x83f)](0x0,_0x1ca594[_0xffab91(0x743)][_0xffab91(0x298)]),await _0x427409[_0xffab91(0x686)]({'jobType':_0x4d885d[_0xffab91(0x3b9)],'type':_0x359ec4[_0xffab91(0x722)],'jobId':_0xdac40d,'threadId':_0x583e4b,'blockId':_0x1ca594['id'],'traceLevel':_0xaed68[_0xffab91(0x858)],'timestamp':Date[_0xffab91(0x9bd)](),'startTime':_0x249fee,'status':'success','content':_0x3dc350,'topResults':_0x59e1de,'numResults':_0x59e1de[_0xffab91(0x8a9)]}),await _0xa6d57d(_0x16a10c,_0xdac40d,_0x583e4b,_0x59e1de,_0x16c8bc,_0x1ca594,_0x2a152d,_0x3cf792);}async function _0x127d1e(_0x2f2b72,_0x1cd36b,_0x26dce7,_0xec9f3e,_0x2a0814,_0x2b5d97,_0x22c64e,_0x2d95dd){const _0x1ca219=_0x677888,_0x218d66=_0x2d95dd[_0x1ca219(0x2a7)][_0x1ca219(0x8ab)](_0x4b2817=>_0x4b2817['id']===_0x2b5d97['id']);if(!_0x218d66)throw new Error('Model\x20not\x20found');let _0x2037ee='';switch(_0x2037ee=_0xec9f3e instanceof Array?_0xec9f3e['map'](_0x228bc6=>_0x228bc6[_0x1ca219(0x6a6)])[_0x1ca219(0x729)](',\x20'):_0xec9f3e,_0x218d66['outputType']){case _0x1736bb[_0x1ca219(0x60a)][_0x1ca219(0x3f4)]:await async function(_0x8e2214,_0x2b2d0a,_0x33ea44,_0x44a7f7,_0x2b0182,_0x4dba90,_0x48d20f,_0x13e739,_0x53f372){const _0x55869f=_0x1ca219,_0x175353=Date[_0x55869f(0x9bd)](),_0x127703=await fetch(_0xd27c01[_0x55869f(0x292)]+_0x55869f(0x322),{'method':_0x55869f(0x66c),'headers':{'Content-Type':_0x55869f(0x44d),'x-vendor-id':_0x8e2214},'body':JSON['stringify']({'messages':[{'role':'user','content':_0x44a7f7}]})}),_0x34ed62=(await _0x127703[_0x55869f(0x434)]())[_0x55869f(0x78c)][0x0][_0x55869f(0x71b)][_0x55869f(0x6a6)];await _0x427409[_0x55869f(0x686)]({'jobType':_0x4d885d[_0x55869f(0x3b9)],'type':_0x359ec4[_0x55869f(0x1a2)],'jobId':_0x2b2d0a,'threadId':_0x33ea44,'blockId':_0x48d20f['id'],'traceLevel':_0xaed68[_0x55869f(0x858)],'startTime':_0x175353,'timestamp':Date[_0x55869f(0x9bd)](),'status':_0x55869f(0x3bf),'modelName':_0x4dba90['id'],'content':_0x44a7f7,'newPrompt':_0x34ed62,'inputType':_0x4dba90[_0x55869f(0x53a)],'outputType':_0x4dba90['outputType']}),await _0xa6d57d(_0x8e2214,_0x2b2d0a,_0x33ea44,_0x34ed62,_0x2b0182,_0x48d20f,_0x13e739,_0x53f372);}(_0x2f2b72,_0x1cd36b,_0x26dce7,_0x2037ee,_0x2a0814,_0x218d66,_0x2b5d97,_0x22c64e,_0x2d95dd);break;case _0x1736bb[_0x1ca219(0x60a)]['Vector']:await async function(_0x11b8c8,_0x1c5068,_0xc04067,_0xc3192f,_0x2700dd,_0xe9f307,_0x21e6e2,_0x2485f3,_0x185713){const _0x4c7ac8=_0x1ca219,_0x2ded45=Date[_0x4c7ac8(0x9bd)](),_0x3d0186=await fetch(_0xd27c01['apiUrl']+_0x4c7ac8(0x891),{'method':_0x4c7ac8(0x66c),'headers':{'Content-Type':_0x4c7ac8(0x44d),'x-vendor-id':_0x11b8c8},'body':JSON[_0x4c7ac8(0x247)]({'input':_0xc3192f})}),_0x130688=(await _0x3d0186[_0x4c7ac8(0x434)]())['data'][0x0]['embedding'];await _0x427409[_0x4c7ac8(0x686)]({'jobType':_0x4d885d[_0x4c7ac8(0x3b9)],'type':_0x359ec4[_0x4c7ac8(0xaa8)],'jobId':_0x1c5068,'threadId':_0xc04067,'blockId':_0x21e6e2['id'],'traceLevel':_0xaed68['Debug'],'startTime':_0x2ded45,'timestamp':Date[_0x4c7ac8(0x9bd)](),'status':_0x4c7ac8(0x3bf),'modelName':_0xe9f307['id'],'content':_0xc3192f,'totalVectors':_0x130688['length']}),await _0xa6d57d(_0x11b8c8,_0x1c5068,_0xc04067,_0x130688,_0x2700dd,_0x21e6e2,_0x2485f3,_0x185713);}(_0x2f2b72,_0x1cd36b,_0x26dce7,_0x2037ee,_0x2a0814,_0x218d66,_0x2b5d97,_0x22c64e,_0x2d95dd);}}async function _0x141b6c(_0xed76c7,_0x2481da,_0x5ff485,_0x191706,_0x581193,_0xc28f88,_0x4f7702,_0x123f43){const _0x6a5ad4=_0x677888,_0xbae1ca=Date['now']();if(_0xc28f88['accumulated']||(_0xc28f88[_0x6a5ad4(0x8e9)]={}),_0x191706 instanceof Array?(_0xc28f88[_0x6a5ad4(0x8e9)]['results']||(_0xc28f88[_0x6a5ad4(0x8e9)][_0x6a5ad4(0x2e5)]=[]),_0xc28f88[_0x6a5ad4(0x8e9)][_0x6a5ad4(0x2e5)]['push'](..._0x191706)):_0xc28f88[_0x6a5ad4(0x8e9)]['prompt']=_0x191706,_0xc28f88[_0x6a5ad4(0x614)]=_0xc28f88['timesCalled']?_0xc28f88[_0x6a5ad4(0x614)]+0x1:0x1,_0x4398fc(_0xc28f88,_0x4f7702)>_0xc28f88['timesCalled'])return;if(!_0xc28f88[_0x6a5ad4(0x8e9)][_0x6a5ad4(0x19d)]||!_0xc28f88[_0x6a5ad4(0x8e9)][_0x6a5ad4(0x2e5)])throw new Error('Reranker\x20block\x20is\x20missing\x20required\x20data');for(const _0x32d1d0 of _0xc28f88[_0x6a5ad4(0x8e9)][_0x6a5ad4(0x2e5)])_0x32d1d0[_0x6a5ad4(0x607)]=await _0x123f43['nlpLibraryConnector'][_0x6a5ad4(0x8d5)](_0xc28f88[_0x6a5ad4(0x8e9)][_0x6a5ad4(0x19d)],_0x32d1d0[_0x6a5ad4(0x6a6)]);const _0x4b3618=_0xc28f88[_0x6a5ad4(0x8e9)][_0x6a5ad4(0x2e5)]['filter'](_0x36fa1c=>_0x36fa1c['relevance']>_0xc28f88[_0x6a5ad4(0x743)][_0x6a5ad4(0xa0d)])[_0x6a5ad4(0x323)]((_0x26f778,_0x4059ec)=>_0x4059ec[_0x6a5ad4(0x607)]-_0x26f778[_0x6a5ad4(0x607)])[_0x6a5ad4(0x83f)](0x0,_0xc28f88[_0x6a5ad4(0x743)][_0x6a5ad4(0x298)]);await _0x427409['trace']({'jobType':_0x4d885d[_0x6a5ad4(0x3b9)],'type':_0x359ec4[_0x6a5ad4(0x8e3)],'jobId':_0x2481da,'threadId':_0x5ff485,'blockId':_0xc28f88['id'],'traceLevel':_0xaed68[_0x6a5ad4(0x858)],'startTime':_0xbae1ca,'timestamp':Date['now'](),'status':_0x6a5ad4(0x3bf),'inputResults':_0xc28f88['accumulated'][_0x6a5ad4(0x2e5)],'rerankedResults':_0x4b3618}),await _0xa6d57d(_0xed76c7,_0x2481da,_0x5ff485,_0x4b3618,_0x581193,_0xc28f88,_0x4f7702,_0x123f43);}async function _0x16cacb(_0x4ce4f7,_0x4c6f06,_0x47da1a,_0x3de0ca,_0x315204,_0x1f82a5,_0x59137d,_0x42b5ec){const _0x1a5b10=_0x677888,_0xdac8ed=Date[_0x1a5b10(0x9bd)]();if(_0x1f82a5[_0x1a5b10(0x8e9)]||(_0x1f82a5[_0x1a5b10(0x8e9)]={}),_0x3de0ca instanceof Array?_0x1f82a5[_0x1a5b10(0x8e9)][_0x1a5b10(0x797)]=_0x3de0ca:_0x1f82a5[_0x1a5b10(0x8e9)][_0x1a5b10(0x6a6)]=_0x3de0ca,_0x1f82a5[_0x1a5b10(0x614)]=_0x1f82a5[_0x1a5b10(0x614)]?_0x1f82a5['timesCalled']+0x1:0x1,_0x4398fc(_0x1f82a5,_0x59137d)>_0x1f82a5[_0x1a5b10(0x614)])return;if(!_0x1f82a5[_0x1a5b10(0x8e9)][_0x1a5b10(0x797)]||!_0x1f82a5[_0x1a5b10(0x8e9)][_0x1a5b10(0x6a6)])throw new Error(_0x1a5b10(0x651));const _0x20c1b6=await _0x42b5ec['nlpLibraryConnector'][_0x1a5b10(0x6c0)](_0x1f82a5[_0x1a5b10(0x8e9)][_0x1a5b10(0x6a6)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x1e32c5=_0x42b5ec[_0x1a5b10(0xa61)][_0x1a5b10(0x6a2)](_0x1f82a5['id'])['search'](_0x20c1b6,_0x1f82a5[_0x1a5b10(0x8e9)]['vector'],_0x1f82a5[_0x1a5b10(0x743)]['topK'],_0x1f82a5[_0x1a5b10(0x743)]['minRelevance'],_0x1f82a5['attributes']['contentSize']);await _0x427409[_0x1a5b10(0x686)]({'jobType':_0x4d885d[_0x1a5b10(0x3b9)],'type':_0x359ec4[_0x1a5b10(0x7cd)],'jobId':_0x4c6f06,'threadId':_0x47da1a,'blockId':_0x1f82a5['id'],'traceLevel':_0xaed68[_0x1a5b10(0x858)],'startTime':_0xdac8ed,'timestamp':Date[_0x1a5b10(0x9bd)](),'status':_0x1a5b10(0x3bf),'topResults':_0x1e32c5,'numResults':_0x1e32c5['length']}),await _0xa6d57d(_0x4ce4f7,_0x4c6f06,_0x47da1a,_0x1e32c5,_0x315204,_0x1f82a5,_0x59137d,_0x42b5ec);}async function _0xa6d57d(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x53d81f,_0x5e1573,_0x20d7d0){const _0x25d96d=_0x677888;for(const _0x586d55 of _0x53d81f['links']||[]){const _0x3dbbd8=_0x5e1573[_0x25d96d(0x8ab)](_0x1ff24e=>_0x1ff24e[_0x25d96d(0x5f0)]===_0x586d55['uid']);if(_0x3dbbd8)switch(_0x3dbbd8[_0x25d96d(0xb0f)]){case _0x11f239[_0x25d96d(0x6ba)]:_0x586d55['type']===_0x2582ba[_0x25d96d(0x7fb)]&&_0x47f096 instanceof Array&&_0x26f4a3[_0x25d96d(0x2b8)]['push'](..._0x47f096);break;case _0x11f239[_0x25d96d(0x5b0)]:_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba[_0x25d96d(0x3f4)]&&'string'==typeof _0x47f096&&await _0x479bbf(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0),_0x586d55['type']===_0x2582ba[_0x25d96d(0x7fb)]&&_0x47f096 instanceof Array&&await _0x479bbf(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0);break;case _0x11f239[_0x25d96d(0x726)]:_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba[_0x25d96d(0x3f4)]&&_0x25d96d(0x435)==typeof _0x47f096&&await _0x47a8aa(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0),_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba[_0x25d96d(0x7fb)]&&_0x47f096 instanceof Array&&await _0x47a8aa(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0),_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba[_0x25d96d(0x719)]&&_0x47f096 instanceof Set&&await _0x47a8aa(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0);break;case _0x11f239['Model']:_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba[_0x25d96d(0x3f4)]&&_0x25d96d(0x435)==typeof _0x47f096&&await _0x127d1e(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0),_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba[_0x25d96d(0x7fb)]&&_0x47f096 instanceof Array&&await _0x127d1e(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0);break;case _0x11f239[_0x25d96d(0x8e3)]:_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba[_0x25d96d(0x3f4)]&&_0x25d96d(0x435)==typeof _0x47f096&&await _0x141b6c(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0),_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba[_0x25d96d(0x7fb)]&&_0x47f096 instanceof Array&&await _0x141b6c(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0);break;case _0x11f239['VectorDatabase']:_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba['Text']&&_0x25d96d(0x435)==typeof _0x47f096&&await _0x16cacb(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0),_0x586d55[_0x25d96d(0xb0f)]===_0x2582ba['Vector']&&_0x47f096 instanceof Array&&await _0x16cacb(_0x1a70a8,_0x2432b4,_0x33601e,_0x47f096,_0x26f4a3,_0x3dbbd8,_0x5e1573,_0x20d7d0);}}}function _0x4398fc(_0x150836,_0x4090ec){const _0x1ad17c=_0x677888;return _0x4090ec['filter'](_0x58c316=>_0x58c316[_0x1ad17c(0xa1c)]?.[_0x1ad17c(0x591)](_0x2e0044=>_0x2e0044[_0x1ad17c(0x5f0)]===_0x150836[_0x1ad17c(0x5f0)]))[_0x1ad17c(0x8a9)];}const _0xae5be9=require('rxjs/operators');class _0x49a005{[_0x677888(0x786)];constructor(){const _0x32517d=_0x677888;this[_0x32517d(0x786)]=new _0x2089ea['Subject']();}[_0x677888(0x1af)](_0x2eaf7f){this['subject']['next'](_0x2eaf7f);}async[_0x677888(0x3ee)](){const _0x4874c3=_0x677888;return(0x0,_0x2089ea['firstValueFrom'])(this[_0x4874c3(0x786)][_0x4874c3(0x553)]((0x0,_0xae5be9[_0x4874c3(0x74d)])(0x1)));}}async function _0x3a8b7c(_0x5a3a69,_0x285415,_0x3dffe7){const _0x1dc650=_0x677888;if(0x0===_0x5a3a69[_0x1dc650(0x8a9)])return;const _0x232642=_0x285415['internalContext']?.[_0x1dc650(0x821)]?_0x285415['internalContext'][_0x1dc650(0x821)]['split'](','):[];for(const _0x3c1cec of _0x5a3a69){const _0x2f55de=await _0x3dffe7[_0x1dc650(0xa4b)][_0x1dc650(0x394)](_0x3c1cec);_0x232642[_0x1dc650(0xa65)](_0x2f55de);}_0x285415['internalContext']||(_0x285415[_0x1dc650(0x418)]={}),_0x285415['internalContext'][_0x1dc650(0x821)]=_0x232642[_0x1dc650(0x729)](',');}async function _0xf068c2(_0x331441,_0x207372,_0x35f4f0,_0x28725c,_0x2b1961,_0x2ea69d,_0x41f983,_0x1082f8,_0x1ac284){const _0x2986e7=_0x677888;if(_0x2ea69d['accumulated']||(_0x2ea69d[_0x2986e7(0x8e9)]={}),_0x207372===_0x2582ba['Text']&&_0x2986e7(0x435)==typeof _0x35f4f0&&(_0x2ea69d[_0x2986e7(0x8e9)]['prompt']||(_0x2ea69d['accumulated'][_0x2986e7(0x19d)]=[]),_0x2ea69d[_0x2986e7(0x8e9)][_0x2986e7(0x19d)]['push'](_0x35f4f0)),_0x2ea69d[_0x2986e7(0x614)]=_0x2ea69d[_0x2986e7(0x614)]?_0x2ea69d[_0x2986e7(0x614)]+0x1:0x1,_0x37aa91(_0x2ea69d,_0x41f983)>_0x2ea69d[_0x2986e7(0x614)])return;if(_0x5bf0c2[_0x2986e7(0x4e7)]('Processing\x20agent\x20block:\x20'+_0x2ea69d['name'],_0x2ea69d['timesCalled']),!_0x2ea69d[_0x2986e7(0x8e9)][_0x2986e7(0x19d)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x2ea69d['name']);const _0x5a8b82=_0x1082f8[_0x2986e7(0x2a7)]['find'](_0x15c92e=>_0x15c92e['id']===_0x2ea69d[_0x2986e7(0x6f8)]);if(!_0x5a8b82)throw new Error(_0x2986e7(0x9b1)+_0x2ea69d['modelId']);const _0x39a5bf=Date['now'](),_0x5e4bbe=(0x0,_0x1514a8['v4'])();let _0x4c0959='',_0x221e41=0x0,_0x388d46=0x0;const _0x4e04c5=[],_0x31e34e=function(_0x118971,_0x164e45,_0x24be68){const _0xdefff7=_0x2986e7;if(_0x24be68['contextInputVariable']){const _0x5e672d=_0x24be68[_0xdefff7(0x9b5)][_0xdefff7(0xad8)](',');for(const _0x112afe of _0x5e672d)_0xdefff7(0x821)!==_0x112afe&&_0x164e45[_0xdefff7(0x418)]?.[_0x112afe]&&(_0x118971='<'+_0x112afe+'>'+_0x164e45[_0xdefff7(0x418)][_0x112afe]+'</'+_0x112afe+'>\x0a\x0a'+_0x118971);}return _0x118971;}(_0x2ea69d[_0x2986e7(0x8e9)][_0x2986e7(0x19d)][_0x2986e7(0x729)]('\x0a\x0a'),_0x2b1961,_0x2ea69d);let _0x5785ad=_0x31e34e;const _0x50612d=_0x2ea69d[_0x2986e7(0x9b5)]?.[_0x2986e7(0xad8)](',');if(_0x2b1961[_0x2986e7(0x418)]?.[_0x2986e7(0x821)]&&_0x50612d?.['includes'](_0x2986e7(0x821))){const _0x5484ec=_0x2b1961[_0x2986e7(0x418)]['files'][_0x2986e7(0xad8)](',');_0x5785ad=[];for(const _0x214587 of _0x5484ec)_0x5785ad['push']({'type':_0x2986e7(0x228),'file':{'file_id':_0x214587}});_0x5785ad['push']({'type':_0x2986e7(0x420),'text':_0x31e34e});}if(_0x4e04c5[_0x2986e7(0xa65)]({'role':_0x2986e7(0x5ad),'content':_0x5afe89(_0x28725c[_0x2986e7(0x43c)]??'',_0x2ea69d,_0x5a8b82)}),_0x4e04c5[_0x2986e7(0xa65)](..._0x28725c[_0x2986e7(0x507)]?.[_0x2986e7(0x360)](_0x19bb77=>({'role':_0x19bb77[_0x2986e7(0x79c)]===_0x1736bb[_0x2986e7(0x907)][_0x2986e7(0x6e6)]?_0x2986e7(0x6ea):'assistant','content':_0x19bb77[_0x2986e7(0x71b)]}))??[]),_0x4e04c5[_0x2986e7(0xa65)]({'role':_0x2986e7(0x6ea),'content':_0x5785ad}),_0x1ac284){const _0x49a4aa=_0x2ea69d[_0x2986e7(0xa1c)]?.[_0x2986e7(0x591)](_0x259eb0=>{const _0x10bde3=_0x2986e7,_0x115df7=_0x41f983[_0x10bde3(0x8ab)](_0x97c0a1=>_0x97c0a1['uid']===_0x259eb0[_0x10bde3(0x5f0)]);return!!_0x115df7&&_0x259eb0[_0x10bde3(0xb0f)]===_0x2582ba['Text']&&_0x115df7[_0x10bde3(0xb0f)]===_0x3ba53a['Answer'];})??!0x1,_0xd33319=_0x41f983[_0x2986e7(0x3cc)](_0x2c62f9=>_0x2c62f9[_0x2986e7(0xa1c)]?.['some'](_0x5a6f1b=>_0x5a6f1b[_0x2986e7(0x5f0)]===_0x2ea69d['uid']&&_0x5a6f1b[_0x2986e7(0xb0f)]===_0x2582ba['Tool'])),_0x4bc622=await fetch(_0xd27c01[_0x2986e7(0x292)]+_0x2986e7(0x322),{'method':_0x2986e7(0x66c),'headers':{'Accept':_0x2986e7(0x674),'Content-Type':'application/json','x-vendor-id':_0x28725c[_0x2986e7(0x94e)]},'body':JSON[_0x2986e7(0x247)]({'model':_0x2ea69d['modelId'],'messages':_0x4e04c5,'max_completion_tokens':_0x2ea69d[_0x2986e7(0x4a3)],'temperature':_0x2ea69d[_0x2986e7(0x2aa)],'stream':!0x0,'stream_options':{'include_usage':!0x0},'context':_0x2b1961[_0x2986e7(0x418)]??{},'structured_output':_0x2ea69d['grammar'],'tools':_0xd33319[_0x2986e7(0x360)](_0x27d263=>({'type':_0x27d263[_0x2986e7(0xb0f)],'name':_0x27d263[_0x2986e7(0x7ca)]??'','description':_0x27d263[_0x2986e7(0x498)]??'','parameters':_0x27d263[_0x2986e7(0x7e1)]??[],'headers':_0x27d263[_0x2986e7(0xac3)]??[],'queryParameters':_0x27d263[_0x2986e7(0x810)]??[],'bodyParameters':_0x27d263[_0x2986e7(0x35c)]??[],'endpointUrl':_0x27d263[_0x2986e7(0x63a)]??'','endpointMethod':_0x27d263['endpointMethod']??'','contextOutputVariable':_0x27d263[_0x2986e7(0xa78)]??'','modelId':_0x27d263[_0x2986e7(0x85a)]??'','instructions':_0x27d263[_0x2986e7(0x43c)]??'','maxTokens':_0x27d263[_0x2986e7(0x4a3)]??0x0,'temperature':_0x27d263[_0x2986e7(0x2aa)]??0x0,'collectionId':_0x27d263[_0x2986e7(0xb0f)]===_0x3ba53a['DataCollection']||_0x27d263[_0x2986e7(0xb0f)]===_0x3ba53a['Knowledge']?_0x27d263['id']:''}))})});if(!_0x4bc622[_0x2986e7(0x4ed)])throw new Error(_0x2986e7(0x20f));const _0x2c9f30=_0x4bc622[_0x2986e7(0x4ed)][_0x2986e7(0x1ae)](),_0xf2ea3a=new TextDecoder();for(;;){const {value:_0x13b208,done:_0xb07bbf}=await _0x2c9f30['read']();if(_0xb07bbf)break;const _0x4c4142=_0xf2ea3a[_0x2986e7(0x811)](_0x13b208,{'stream':!0x0});if(_0x2986e7(0xae2)===_0x4c4142)break;const _0x271925=_0x4c4142[_0x2986e7(0xad8)](_0x2986e7(0x7e4))[_0x2986e7(0x360)](_0x4e17c0=>_0x4e17c0[_0x2986e7(0x267)](_0x2986e7(0x219),'')['trim']())['filter'](_0x30e4f0=>''!==_0x30e4f0)[_0x2986e7(0x360)](_0x4c432e=>{const _0x47662a=_0x2986e7;if(_0x47662a(0xafe)===_0x4c432e)return null;try{return JSON['parse'](_0x4c432e);}catch(_0x45b353){return console[_0x47662a(0x487)](_0x47662a(0x456),_0x4c432e),null;}})[_0x2986e7(0x3cc)](_0x58335c=>null!==_0x58335c);for(const _0x4f2e56 of _0x271925)_0x4f2e56[_0x2986e7(0x78c)]&&_0x4f2e56[_0x2986e7(0x78c)][0x0]&&(_0x49a4aa&&''!==_0x4f2e56[_0x2986e7(0x78c)][0x0][_0x2986e7(0x682)][_0x2986e7(0x6a6)]&&(_0x4c0959+=_0x4f2e56['choices'][0x0][_0x2986e7(0x682)][_0x2986e7(0x6a6)]??'',_0x1ac284[_0x2986e7(0x1af)]({'output':_0x4f2e56[_0x2986e7(0x78c)][0x0][_0x2986e7(0x682)][_0x2986e7(0x6a6)],'type':'prompt'}),await _0x450481[_0x2986e7(0x201)](0x1)),_0x4c0959+=_0x4f2e56[_0x2986e7(0x78c)][0x0]['delta'][_0x2986e7(0x6a6)]??'',_0x221e41=_0x4f2e56['usage']?.['prompt_tokens']??0x0,_0x388d46=_0x4f2e56[_0x2986e7(0x9f8)]?.[_0x2986e7(0x872)]??0x0);}_0x49a4aa||_0x1ac284[_0x2986e7(0x1af)]({'output':'','type':_0x2986e7(0x19d)});}else{const _0x4a1668=await fetch(_0xd27c01['apiUrl']+_0x2986e7(0x322),{'method':_0x2986e7(0x66c),'headers':{'Content-Type':_0x2986e7(0x44d),'x-vendor-id':_0x28725c[_0x2986e7(0x94e)]},'body':JSON[_0x2986e7(0x247)]({'model':_0x2ea69d[_0x2986e7(0x6f8)],'messages':_0x4e04c5,'max_completion_tokens':_0x2ea69d[_0x2986e7(0x4a3)],'temperature':_0x2ea69d[_0x2986e7(0x2aa)]})}),_0x12507a=await _0x4a1668[_0x2986e7(0x434)]();_0x4c0959=_0x12507a[_0x2986e7(0x78c)][0x0][_0x2986e7(0x71b)]['content'],_0x221e41=_0x12507a['usage']['prompt_tokens'],_0x2b1961['outputTokens']=_0x12507a[_0x2986e7(0x9f8)][_0x2986e7(0x872)];}if(_0x2ea69d['contextOutputVariable']&&(_0x2b1961['internalContext']||(_0x2b1961[_0x2986e7(0x418)]={}),_0x2b1961['internalContext'][_0x2ea69d[_0x2986e7(0xa78)]]=_0x4c0959),await _0x427409['trace']({'jobType':_0x4d885d[_0x2986e7(0x1a7)],'type':_0x14b496[_0x2986e7(0x1ab)],'jobId':_0x331441,'agentId':_0x5e4bbe,'threadId':_0x28725c['threadId'],'traceLevel':_0xaed68[_0x2986e7(0x47d)],'startTime':_0x39a5bf,'timestamp':Date[_0x2986e7(0x9bd)](),'blockId':_0x2ea69d['id'],'status':'success','output':_0x4c0959,'prompt':_0x31e34e,'agentName':_0x2ea69d['name'],'history':[],'instructions':''+_0x2ea69d[_0x2986e7(0x43c)]+(_0x28725c[_0x2986e7(0x43c)]??''),'ragContext':[],'inputTokens':_0x221e41??0x0,'outputTokens':_0x388d46??0x0}),_0x2986e7(0xab0)===_0x2ea69d[_0x2986e7(0x3a1)])try{_0x4c0959=JSON[_0x2986e7(0xa5d)](_0x4c0959)[_0x2986e7(0x708)]?_0x2986e7(0x8bf):_0x2986e7(0x934);}catch(_0x448580){console[_0x2986e7(0x487)](_0x2986e7(0x996),_0x4c0959),_0x4c0959=_0x2986e7(0x934);}await _0x4ba0ea(_0x331441,_0x4c0959,_0x28725c,_0x2b1961,_0x2ea69d,_0x41f983,_0x1082f8,_0x1ac284);}function _0x5afe89(_0x4b2181,_0x3f07ea,_0x2d692f){const _0x3750c4=_0x677888;let _0x1d414a='';return _0x2d692f[_0x3750c4(0x180)]&&''!==_0x2d692f[_0x3750c4(0x180)]&&(_0x1d414a=_0x3750c4(0x4fd)+_0x2d692f['knowledgeCutoffDate']+'\x0a\x0a'),_0x1d414a=_0x1d414a+_0x3750c4(0x49d)+new Date()['toLocaleDateString'](void 0x0,{'weekday':_0x3750c4(0x4ac),'year':_0x3750c4(0xa1e),'month':_0x3750c4(0x4ac),'day':_0x3750c4(0xa1e)})+'\x0a\x0a',''+_0x1d414a+_0x3f07ea[_0x3750c4(0x43c)]+_0x4b2181;}async function _0x21b273(_0x1b97e6,_0x45ee60,_0x19b8bd,_0x1bede0,_0x2e7a76,_0x30cdf6,_0x610281,_0x22ee7c){const _0x54f45b=function(_0x4c79e4,_0x2392cd){const _0x592bec=a0_0x5cc9,_0x110662=[];for(let _0x114b6b=0x0;_0x114b6b<_0x4c79e4[_0x592bec(0x8a9)];_0x114b6b+=_0x2392cd['attributes'][_0x592bec(0x22b)]){let _0x595ff7=_0x114b6b-_0x2392cd[_0x592bec(0x743)][_0x592bec(0x86b)];_0x595ff7<0x0&&(_0x595ff7=0x0);let _0x247976=_0x114b6b+_0x2392cd[_0x592bec(0x743)][_0x592bec(0x22b)]+_0x2392cd[_0x592bec(0x743)][_0x592bec(0x86b)];_0x247976>_0x4c79e4[_0x592bec(0x8a9)]&&(_0x247976=_0x4c79e4[_0x592bec(0x8a9)]),length||(length=_0x114b6b+_0x2392cd[_0x592bec(0x743)][_0x592bec(0x22b)],length>_0x4c79e4[_0x592bec(0x8a9)]&&(length=_0x4c79e4['length'])),_0x110662['push'](_0x4c79e4[_0x592bec(0x7ab)](_0x595ff7,_0x247976));}return _0x110662;}(_0x45ee60,_0x2e7a76);await _0x4ba0ea(_0x1b97e6,_0x54f45b,_0x19b8bd,_0x1bede0,_0x2e7a76,_0x30cdf6,_0x610281,_0x22ee7c);}async function _0x295890(_0x2729c0,_0x1d83aa,_0x405114,_0x4c90d6,_0x2ea3ae,_0x3471dd,_0x31f696,_0x1a7519){const _0x5b91d7=_0x677888;if(_0x2ea3ae['accumulated']||(_0x2ea3ae['accumulated']={}),_0x2ea3ae['accumulated'][_0x5b91d7(0xa44)]||(_0x2ea3ae[_0x5b91d7(0x8e9)][_0x5b91d7(0xa44)]=[]),_0x1d83aa instanceof Array?_0x2ea3ae[_0x5b91d7(0x8e9)]['queries']['push'](..._0x1d83aa):_0x2ea3ae[_0x5b91d7(0x8e9)]['queries']['push'](_0x1d83aa),_0x2ea3ae[_0x5b91d7(0x614)]=_0x2ea3ae['timesCalled']?_0x2ea3ae[_0x5b91d7(0x614)]+0x1:0x1,_0x37aa91(_0x2ea3ae,_0x3471dd)>_0x2ea3ae[_0x5b91d7(0x614)])return;if(0x0===_0x2ea3ae[_0x5b91d7(0x8e9)][_0x5b91d7(0xa44)]['length'])throw new Error(_0x5b91d7(0x25d));let _0x32392b=[];const _0x4458d6=Date['now']();try{let _0x2f3f59=0x0,_0x1d2fa4=0x0;for(const _0x5268e0 of _0x2ea3ae[_0x5b91d7(0x8e9)][_0x5b91d7(0xa44)]){const _0x3092ed=await fetch(_0xd27c01[_0x5b91d7(0x292)]+_0x5b91d7(0x981)+_0x2ea3ae['id']+_0x5b91d7(0xb16),{'method':'POST','headers':{'Content-Type':_0x5b91d7(0x44d),'x-vendor-id':_0x405114['vendorId']},'body':JSON[_0x5b91d7(0x247)]({'query':_0x5268e0})}),_0x4c5d80=((await _0x3092ed[_0x5b91d7(0x434)]())[_0x5b91d7(0x337)]??[])[_0x5b91d7(0x360)](_0x5213ee=>({'pathName':_0x5213ee[_0x5b91d7(0x9d6)],'relevance':_0x5213ee[_0x5b91d7(0x266)],'content':_0x5213ee['content'][_0x5b91d7(0x420)]}));_0x32392b=Array[_0x5b91d7(0x3fd)](new Set([..._0x32392b,..._0x4c5d80])),_0x2f3f59+=_0x4c5d80['inputTokens']??0x0,_0x1d2fa4+=_0x4c5d80[_0x5b91d7(0x213)]??0x0;}_0x4c90d6[_0x5b91d7(0x3c0)]+=_0x2f3f59,_0x4c90d6[_0x5b91d7(0x213)]+=_0x1d2fa4,_0x4c90d6['context']=Array['from'](new Set([..._0x4c90d6[_0x5b91d7(0x2b8)],..._0x32392b])),await _0x427409['trace']({'jobType':_0x4d885d[_0x5b91d7(0x1a7)],'type':_0x14b496[_0x5b91d7(0x4f4)],'jobId':_0x2729c0,'threadId':_0x405114['threadId'],'traceLevel':_0xaed68[_0x5b91d7(0x47d)],'startTime':_0x4458d6,'timestamp':Date[_0x5b91d7(0x9bd)](),'blockId':_0x2ea3ae['id'],'status':_0x5b91d7(0x3bf),'queries':_0x2ea3ae[_0x5b91d7(0x8e9)][_0x5b91d7(0xa44)],'context':_0x32392b,'inputTokens':_0x2f3f59,'outputTokens':_0x1d2fa4});}catch(_0x5916e2){console[_0x5b91d7(0x487)](_0x5916e2),await _0x427409['trace']({'jobType':_0x4d885d[_0x5b91d7(0x1a7)],'type':_0x14b496[_0x5b91d7(0x4f4)],'jobId':_0x2729c0,'threadId':_0x405114[_0x5b91d7(0x2a1)],'traceLevel':_0xaed68[_0x5b91d7(0x47d)],'startTime':_0x4458d6,'timestamp':Date[_0x5b91d7(0x9bd)](),'blockId':_0x2ea3ae['id'],'status':_0x5b91d7(0x487),'queries':_0x2ea3ae[_0x5b91d7(0x8e9)][_0x5b91d7(0xa44)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x4ba0ea(_0x2729c0,'',_0x405114,_0x4c90d6,_0x2ea3ae,_0x3471dd,_0x31f696,_0x1a7519);}async function _0x583b78(_0x34daa2,_0x559f9c,_0x32c114,_0xdac214,_0x1d3b18,_0x4b04cf,_0x559c94,_0x448edd){const _0x54fd29=_0x677888,_0xa2f834=await _0x559c94[_0x54fd29(0x88f)][_0x54fd29(0xa04)](_0x559f9c);await _0x4ba0ea(_0x34daa2,_0xa2f834,_0x32c114,_0xdac214,_0x1d3b18,_0x4b04cf,_0x559c94,_0x448edd);}async function _0x275cc4(_0x5ea304,_0x217005,_0x499120,_0x1c098b,_0x3efd35,_0x441cc7,_0x381d67,_0x538d32){const _0x4414ba=function(_0x386870,_0x4c8c29){const _0x159dc2=a0_0x5cc9,_0x31d702=[],_0xeec6ce=_0x386870['split']('\x20');let _0x269261='',_0x1f2fd5=0x0,_0x5f39fb=0x0,_0x534345=0x0;for(const _0x223188 of _0xeec6ce){if(_0x269261[_0x159dc2(0x8a9)]+_0x223188[_0x159dc2(0x8a9)]>_0x4c8c29[_0x159dc2(0x743)][_0x159dc2(0x22b)]){let _0x42d4f2=_0x1f2fd5,_0xbe46c8='';for(;_0x42d4f2>=0x0&&_0xbe46c8['length']+_0xeec6ce[_0x42d4f2][_0x159dc2(0x8a9)]<_0x4c8c29['attributes']['overlap'];)_0xbe46c8=_0xeec6ce[_0x42d4f2]+'\x20'+_0xbe46c8,_0x42d4f2--;let _0x81428a=_0x5f39fb,_0x2dcbab='';for(;_0x81428a<_0xeec6ce[_0x159dc2(0x8a9)]&&_0x2dcbab['length']+_0xeec6ce[_0x81428a][_0x159dc2(0x8a9)]<_0x4c8c29[_0x159dc2(0x743)][_0x159dc2(0x86b)];)_0x2dcbab+=_0xeec6ce[_0x81428a]+'\x20',_0x81428a++;_0x269261=_0xbe46c8+_0x269261+_0x2dcbab,_0x31d702[_0x159dc2(0xa65)](_0x269261[_0x159dc2(0x36d)]()),_0x269261='',_0x1f2fd5=_0x5f39fb;}_0x269261+=_0x223188+'\x20',_0x5f39fb++,_0x534345+=_0x223188[_0x159dc2(0x8a9)]+0x1;}if(_0x269261['length']>0x0){let _0x5adb90=_0x1f2fd5,_0xf11bb8='';for(;_0x5adb90>=0x0&&_0xf11bb8[_0x159dc2(0x8a9)]+_0xeec6ce[_0x5adb90][_0x159dc2(0x8a9)]<_0x4c8c29[_0x159dc2(0x743)]['overlap'];)_0xf11bb8=_0xeec6ce[_0x5adb90]+'\x20'+_0xf11bb8,_0x5adb90--;_0x269261=_0xf11bb8+_0x269261,_0x31d702[_0x159dc2(0xa65)](_0x269261[_0x159dc2(0x36d)]());}return _0x31d702;}(_0x217005,_0x3efd35);await _0x4ba0ea(_0x5ea304,_0x4414ba,_0x499120,_0x1c098b,_0x3efd35,_0x441cc7,_0x381d67,_0x538d32);}async function _0x4ba0ea(_0x338461,_0x419c13,_0x52efb7,_0x3c234c,_0x1f4b93,_0x35a4f3,_0x1c7c49,_0x2d013d){const _0x49d906=_0x677888;if(await _0x450481[_0x49d906(0x201)](0x1),_0x1f4b93[_0x49d906(0xa1c)]){for(const _0x58aed2 of _0x1f4b93[_0x49d906(0xa1c)]){if(_0x58aed2[_0x49d906(0xb0f)]===_0x2582ba[_0x49d906(0x6ba)])continue;const _0x326953=_0x35a4f3[_0x49d906(0x8ab)](_0x2fe80f=>_0x2fe80f[_0x49d906(0x5f0)]===_0x58aed2[_0x49d906(0x5f0)]);if(_0x326953)switch(_0x326953[_0x49d906(0xb0f)]){case _0x3ba53a['Agent']:_0x58aed2['type']!==_0x2582ba['Text']&&_0x58aed2['type']!==_0x2582ba['Wait']||_0x49d906(0x435)!=typeof _0x419c13||await _0xf068c2(_0x338461,_0x58aed2[_0x49d906(0xb0f)],_0x419c13,_0x52efb7,_0x3c234c,_0x326953,_0x35a4f3,_0x1c7c49,_0x2d013d),_0x58aed2['type']===_0x2582ba['WaitTrue']&&_0x49d906(0x8bf)===_0x419c13&&await _0xf068c2(_0x338461,_0x58aed2[_0x49d906(0xb0f)],_0x419c13,_0x52efb7,_0x3c234c,_0x326953,_0x35a4f3,_0x1c7c49,_0x2d013d),_0x58aed2['type']===_0x2582ba[_0x49d906(0x3fc)]&&'false'===_0x419c13&&await _0xf068c2(_0x338461,_0x58aed2['type'],_0x419c13,_0x52efb7,_0x3c234c,_0x326953,_0x35a4f3,_0x1c7c49,_0x2d013d);break;case _0x3ba53a['ChunkSplitter']:_0x58aed2[_0x49d906(0xb0f)]===_0x2582ba['Text']&&_0x49d906(0x435)==typeof _0x419c13&&await _0x21b273(_0x338461,_0x419c13,_0x52efb7,_0x3c234c,_0x326953,_0x35a4f3,_0x1c7c49,_0x2d013d);break;case _0x3ba53a[_0x49d906(0x4f4)]:_0x58aed2[_0x49d906(0xb0f)]===_0x2582ba[_0x49d906(0x3f4)]&&_0x49d906(0x435)==typeof _0x419c13&&await _0x295890(_0x338461,_0x419c13,_0x52efb7,_0x3c234c,_0x326953,_0x35a4f3,_0x1c7c49,_0x2d013d),_0x58aed2['type']===_0x2582ba['Text']&&_0x419c13 instanceof Array&&await _0x295890(_0x338461,_0x419c13,_0x52efb7,_0x3c234c,_0x326953,_0x35a4f3,_0x1c7c49,_0x2d013d);break;case _0x3ba53a[_0x49d906(0x4f7)]:_0x58aed2['type']===_0x2582ba[_0x49d906(0x3f4)]&&'string'==typeof _0x419c13&&await _0x583b78(_0x338461,_0x419c13,_0x52efb7,_0x3c234c,_0x326953,_0x35a4f3,_0x1c7c49,_0x2d013d);break;case _0x3ba53a[_0x49d906(0x2e8)]:_0x58aed2[_0x49d906(0xb0f)]===_0x2582ba['Text']&&_0x49d906(0x435)==typeof _0x419c13&&await _0x275cc4(_0x338461,_0x419c13,_0x52efb7,_0x3c234c,_0x326953,_0x35a4f3,_0x1c7c49,_0x2d013d);}}_0x1f4b93[_0x49d906(0xb0f)]===_0x3ba53a['Prompt']&&_0x2d013d&&_0x2d013d[_0x49d906(0x1af)](void 0x0);}else _0x1f4b93[_0x49d906(0xb0f)]===_0x3ba53a[_0x49d906(0x288)]&&_0x2d013d&&_0x2d013d[_0x49d906(0x1af)](void 0x0);}function _0x37aa91(_0x56f173,_0x1d0fc2){const _0x2d5a0d=_0x677888;let _0xa00a=0x0;for(const _0x4ca066 of _0x1d0fc2)for(const _0x54f73e of _0x4ca066[_0x2d5a0d(0xa1c)]??[])_0x54f73e[_0x2d5a0d(0xb0f)]!==_0x2582ba[_0x2d5a0d(0x6ba)]&&_0x54f73e[_0x2d5a0d(0xb0f)]!==_0x2582ba[_0x2d5a0d(0x7c3)]&&_0x54f73e[_0x2d5a0d(0x5f0)]===_0x56f173[_0x2d5a0d(0x5f0)]&&_0xa00a++;return _0xa00a;}async function _0x105be9(_0x38118b,_0x307cf2,_0x4857ce,_0xbd8547,_0x475b77){const _0x40b6fa=_0x677888;if(_0x38118b[_0x40b6fa(0x821)]&&_0x4857ce[_0x40b6fa(0xa1c)]){const _0x2ae156=[];for(const _0x378ddf of _0x38118b['files'])_0x2ae156[_0x40b6fa(0xa65)](_0x110d18(_0x378ddf));for(const _0x2b77c6 of _0x4857ce[_0x40b6fa(0xa1c)])if(_0x40b6fa(0x228)===_0x2b77c6[_0x40b6fa(0xb0f)]){const _0x4851d2=_0xbd8547[_0x40b6fa(0x8ab)](_0x4d2fb1=>_0x4d2fb1[_0x40b6fa(0x5f0)]===_0x2b77c6[_0x40b6fa(0x5f0)]);if(!_0x4851d2)continue;_0x4851d2[_0x40b6fa(0xb0f)]===_0x3ba53a[_0x40b6fa(0x3ae)]&&await _0x3a8b7c(_0x2ae156,_0x307cf2,_0x475b77);}}}function _0x110d18(_0x352a55){const _0x2922ef=_0x677888,_0x3e8139=Uint8Array[_0x2922ef(0x3fd)](Buffer[_0x2922ef(0x3fd)](_0x352a55[_0x2922ef(0x6a6)],_0x2922ef(0x4df))),_0x28803a=new Blob([_0x3e8139],{'type':_0x352a55[_0x2922ef(0xb0f)]});return new File([_0x28803a],_0x352a55[_0x2922ef(0x7ca)],{'type':_0x352a55['type']});}async function _0x281727(_0x6b0a97,_0x1ed11b,_0x26306d,_0x59d155,_0x10a362,_0x374e59){const _0x3f2fca=_0x677888,_0x34bf0c='Execute\x20the\x20agent\x20'+_0x59d155[_0x3f2fca(0x498)]+_0x3f2fca(0x327),_0x42565={'prompt':{'type':_0x1736bb['PromptFunctionParamsType'][_0x3f2fca(0x220)]}};return await _0x427409['trace']({'jobType':_0x4d885d[_0x3f2fca(0x49b)],'type':_0x1cdb9b[_0x3f2fca(0x59b)],'jobId':_0x6b0a97,'agentId':_0x1ed11b,'threadId':_0x26306d[_0x3f2fca(0x2a1)],'traceLevel':_0xaed68['Info'],'startTime':Date[_0x3f2fca(0x9bd)](),'timestamp':Date[_0x3f2fca(0x9bd)](),'status':_0x3f2fca(0x3bf),'function':_0x13e715[_0x3f2fca(0x8eb)],'params':_0x42565,'functionDescription':_0x34bf0c}),{'description':_0x34bf0c,'params':_0x42565,'callback':async _0x292767=>_0x5f20ce(_0x26306d[_0x3f2fca(0x94e)],_0x59d155,_0x10a362,_0x292767,_0x6b0a97,_0x1ed11b,_0x26306d[_0x3f2fca(0x2a1)],_0x374e59)};}async function _0x5f20ce(_0x5c18bb,_0x1b48d2,_0x2b3220,_0x467c8b,_0x1d152f,_0x5282f7,_0x282bba,_0x36f1ff){const _0x162931=_0x677888,_0x5e8023=Date[_0x162931(0x9bd)]();try{if(_0x162931(0x435)!=typeof _0x467c8b?.[_0x162931(0x19d)])throw new Error(_0x162931(0x93b));if(!_0x2b3220[_0x162931(0x2a7)][_0x162931(0x8ab)](_0x5b70ca=>_0x5b70ca['id']===_0x1b48d2[_0x162931(0x6f8)]))throw new Error(_0x162931(0x1ba));let _0x5b8b90='',_0x61bb8d=[];if(_0x1b48d2[_0x162931(0x43c)]&&_0x61bb8d[_0x162931(0xa65)]({'role':_0x162931(0x5ad),'content':_0x1b48d2[_0x162931(0x43c)]}),_0x61bb8d[_0x162931(0xa65)]({'role':_0x162931(0x6ea),'content':_0x467c8b[_0x162931(0x19d)]}),_0x36f1ff){const _0x390ecd=await fetch(_0xd27c01[_0x162931(0x292)]+_0x162931(0x322),{'method':_0x162931(0x66c),'headers':{'Accept':_0x162931(0x674),'Content-Type':_0x162931(0x44d),'x-vendor-id':_0x5c18bb},'body':JSON[_0x162931(0x247)]({'model':_0x1b48d2[_0x162931(0x6f8)],'messages':_0x61bb8d,'max_completion_tokens':_0x1b48d2[_0x162931(0x4a3)],'temperature':_0x1b48d2[_0x162931(0x2aa)],'stream':!0x0})});if(!_0x390ecd[_0x162931(0x4ed)])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x5e4ce5=_0x390ecd[_0x162931(0x4ed)][_0x162931(0x1ae)](),_0x44b132=new TextDecoder();for(;;){const {value:_0xdda5a2,done:_0x2801ae}=await _0x5e4ce5['read']();if(_0x2801ae)break;const _0x273c0b=JSON[_0x162931(0xa5d)](_0x44b132['decode'](_0xdda5a2,{'stream':!0x0}));_0x36f1ff[_0x162931(0x1af)]({'output':_0x273c0b['choices'][0x0][_0x162931(0x682)][_0x162931(0x6a6)],'type':'prompt'}),await _0x450481[_0x162931(0x201)](0x1),_0x5b8b90=_0x273c0b['choices'][0x0][_0x162931(0x682)]['content'];}}else{const _0x322477=await fetch(_0xd27c01[_0x162931(0x292)]+_0x162931(0x322),{'method':_0x162931(0x66c),'headers':{'Content-Type':_0x162931(0x44d),'x-vendor-id':_0x5c18bb},'body':JSON[_0x162931(0x247)]({'model':_0x1b48d2[_0x162931(0x6f8)],'messages':_0x61bb8d,'max_completion_tokens':_0x1b48d2[_0x162931(0x4a3)],'temperature':_0x1b48d2[_0x162931(0x2aa)]})});_0x5b8b90=(await _0x322477['json']())[_0x162931(0x78c)][0x0][_0x162931(0x71b)][_0x162931(0x6a6)];}if(_0x162931(0x435)!=typeof _0x5b8b90)throw new Error(_0x162931(0x8c9));return _0x1d152f&&_0x5282f7&&_0x282bba&&await _0x427409[_0x162931(0x686)]({'jobType':_0x4d885d[_0x162931(0x3dd)],'type':_0x13e715[_0x162931(0x8eb)],'jobId':_0x1d152f,'blockId':_0x162931(0x8c1),'agentId':_0x5282f7,'threadId':_0x282bba,'traceLevel':_0xaed68[_0x162931(0x47d)],'startTime':_0x5e8023,'timestamp':Date[_0x162931(0x9bd)](),'status':_0x162931(0x3bf),'agentName':_0x1b48d2[_0x162931(0x7ca)],'prompt':_0x467c8b[_0x162931(0x19d)],'instructions':_0x1b48d2[_0x162931(0x43c)]??'','result':_0x5b8b90,'inputTokens':0x0,'outputTokens':0x0}),_0x5b8b90;}catch(_0x3b2c7f){return console['error'](_0x3b2c7f),_0x1d152f&&_0x5282f7&&_0x282bba&&await _0x427409[_0x162931(0x686)]({'jobType':_0x4d885d[_0x162931(0x3dd)],'type':_0x13e715[_0x162931(0x8eb)],'jobId':_0x1d152f,'blockId':_0x162931(0x8c1),'agentId':_0x5282f7,'threadId':_0x282bba,'traceLevel':_0xaed68[_0x162931(0x47d)],'startTime':_0x5e8023,'timestamp':Date[_0x162931(0x9bd)](),'status':_0x162931(0x487),'errorDetails':_0x18f7f9(_0x3b2c7f),'agentName':_0x1b48d2['name'],'prompt':_0x467c8b?.[_0x162931(0x19d)]??'','instructions':_0x1b48d2[_0x162931(0x43c)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x3b2c7f instanceof Error?_0x3b2c7f['message']:'Error\x20executing\x20agent';}}async function _0x53f10c(_0x36cf80,_0x4e94e6,_0x5f4628,_0x689b0b,_0x26c19a){const _0x2c56f1=_0x677888,_0x4b0792=Date[_0x2c56f1(0x9bd)]();try{if(!_0x36cf80[_0x2c56f1(0x678)])throw new Error('AI\x20Search\x20connector\x20not\x20set');if('string'!=typeof _0x4e94e6?.[_0x2c56f1(0x9af)])throw new Error('Query\x20is\x20required');const _0x4e93ef=await _0x36cf80['aiSearchConnector'][_0x2c56f1(0x4b5)](_0x4e94e6[_0x2c56f1(0x9af)]);return _0x5f4628&&_0x689b0b&&_0x26c19a&&await _0x427409[_0x2c56f1(0x686)]({'jobType':_0x4d885d[_0x2c56f1(0x3dd)],'type':_0x13e715[_0x2c56f1(0x368)],'jobId':_0x5f4628,'agentId':_0x689b0b,'threadId':_0x26c19a,'blockId':_0x2c56f1(0x97a),'traceLevel':_0xaed68[_0x2c56f1(0x47d)],'startTime':_0x4b0792,'timestamp':Date['now'](),'status':_0x2c56f1(0x3bf),'query':_0x4e94e6[_0x2c56f1(0x9af)],'results':_0x4e93ef}),_0x4e93ef;}catch(_0x4728d4){return console[_0x2c56f1(0x487)](_0x4728d4),_0x5f4628&&_0x689b0b&&_0x26c19a&&await _0x427409[_0x2c56f1(0x686)]({'jobType':_0x4d885d[_0x2c56f1(0x3dd)],'type':_0x13e715[_0x2c56f1(0x368)],'jobId':_0x5f4628,'blockId':_0x2c56f1(0x97a),'traceLevel':_0xaed68['Info'],'startTime':_0x4b0792,'timestamp':Date[_0x2c56f1(0x9bd)](),'status':_0x2c56f1(0x487),'errorDetails':_0x18f7f9(_0x4728d4),'agentId':_0x689b0b,'threadId':_0x26c19a,'query':_0x4e94e6?.[_0x2c56f1(0x9af)]??'','results':_0x2c56f1(0x302)}),_0x4728d4 instanceof Error?_0x4728d4[_0x2c56f1(0x71b)]:_0x2c56f1(0x302);}}async function _0x2740a1(_0x34d1bf,_0x1c3067,_0x1ad81a,_0x362772){const _0x459a2a=_0x677888,_0x5342ac=Date[_0x459a2a(0x9bd)]();try{if('string'!=typeof _0x34d1bf?.['code'])throw new Error(_0x459a2a(0xaec));const _0x405fff=Function(''+_0x34d1bf?.[_0x459a2a(0x778)])();let _0x185508='';try{_0x185508=JSON[_0x459a2a(0x247)](_0x405fff);}catch{_0x185508=_0x405fff[_0x459a2a(0x8d8)]();}return _0x1c3067&&_0x1ad81a&&_0x362772&&await _0x427409[_0x459a2a(0x686)]({'jobType':_0x4d885d[_0x459a2a(0x3dd)],'type':_0x13e715[_0x459a2a(0x506)],'agentId':_0x1ad81a,'threadId':_0x362772,'jobId':_0x1c3067,'blockId':'code','traceLevel':_0xaed68[_0x459a2a(0x47d)],'startTime':_0x5342ac,'timestamp':Date['now'](),'status':_0x459a2a(0x3bf),'code':_0x34d1bf[_0x459a2a(0x778)],'result':_0x185508}),_0x405fff;}catch(_0x374502){return console[_0x459a2a(0x487)](_0x374502),_0x1c3067&&_0x1ad81a&&_0x362772&&await _0x427409[_0x459a2a(0x686)]({'jobType':_0x4d885d[_0x459a2a(0x3dd)],'type':_0x13e715[_0x459a2a(0x506)],'jobId':_0x1c3067,'blockId':_0x459a2a(0x778),'traceLevel':_0xaed68['Info'],'startTime':_0x5342ac,'timestamp':Date['now'](),'status':'error','errorDetails':_0x18f7f9(_0x374502),'agentId':_0x1ad81a,'threadId':_0x362772,'code':_0x34d1bf?.[_0x459a2a(0x778)]??'','result':_0x459a2a(0x269)}),_0x374502 instanceof Error?_0x374502[_0x459a2a(0x71b)]:_0x459a2a(0x269);}}async function _0x57121a(_0x27fd82,_0x1af37b,_0x4a0d34,_0x3953d9,_0x183349){const _0x16f22b=_0x677888,_0x14ba6a=_0x16f22b(0xaeb)+_0x183349[_0x16f22b(0x498)]+_0x16f22b(0x958),_0x5831a2={'queryOrPrompt':{'type':_0x1736bb[_0x16f22b(0x6a9)][_0x16f22b(0x220)]}};return await _0x427409['trace']({'jobType':_0x4d885d['JobContext'],'type':_0x1cdb9b[_0x16f22b(0x21d)],'jobId':_0x27fd82,'agentId':_0x1af37b,'threadId':_0x4a0d34[_0x16f22b(0x2a1)],'blockId':_0x16f22b(0x342),'traceLevel':_0xaed68['Info'],'startTime':Date[_0x16f22b(0x9bd)](),'timestamp':Date[_0x16f22b(0x9bd)](),'status':_0x16f22b(0x3bf),'function':_0x18dea2['GetContextQuery'],'params':_0x5831a2,'functionDescription':_0x14ba6a}),{'description':_0x14ba6a,'params':_0x5831a2,'callback':async _0x349c27=>_0x258959(_0x4a0d34[_0x16f22b(0x94e)],_0x183349,_0x349c27,_0x27fd82,_0x1af37b,_0x4a0d34['threadId'],_0x3953d9)};}async function _0x258959(_0x405c49,_0x4ffe77,_0x1bd241,_0x2f701a,_0x25f392,_0x5a8c31,_0x3a7290){const _0x3213be=_0x677888,_0x5a1039=Date[_0x3213be(0x9bd)]();try{if('string'!=typeof _0x1bd241?.['queryOrPrompt'])throw new Error(_0x3213be(0x9c8));const _0x1f3e90=await fetch(_0xd27c01[_0x3213be(0x292)]+_0x3213be(0x981)+_0x4ffe77[_0x3213be(0xaaa)]+_0x3213be(0xb16),{'method':'POST','headers':{'Content-Type':_0x3213be(0x44d),'x-vendor-id':_0x405c49},'body':JSON['stringify']({'query':_0x1bd241[_0x3213be(0x7a9)]})}),_0x37a991=((await _0x1f3e90[_0x3213be(0x434)]())[_0x3213be(0x337)]??[])[_0x3213be(0x360)](_0x54a0d1=>({'pathName':_0x54a0d1[_0x3213be(0x9d6)],'relevance':_0x54a0d1[_0x3213be(0x266)],'content':_0x54a0d1[_0x3213be(0x6a6)][_0x3213be(0x420)]}));return _0x3a7290&&(_0x3a7290['context']=Array['from'](new Set([..._0x3a7290[_0x3213be(0x2b8)]??[],..._0x37a991]))),_0x2f701a&&_0x25f392&&_0x5a8c31&&await _0x427409[_0x3213be(0x686)]({'jobType':_0x4d885d[_0x3213be(0x661)],'type':_0x18dea2['GetContextResult'],'jobId':_0x2f701a,'blockId':'data-collection','agentId':_0x25f392,'threadId':_0x5a8c31,'traceLevel':_0xaed68[_0x3213be(0x47d)],'startTime':_0x5a1039,'timestamp':Date[_0x3213be(0x9bd)](),'status':_0x3213be(0x3bf),'query':_0x1bd241[_0x3213be(0x7a9)],'context':_0x37a991[_0x3213be(0x2b8)]??[],'inputTokens':_0x37a991[_0x3213be(0x3c0)]??0x0,'outputTokens':_0x37a991['outputTokens']??0x0}),_0x37a991['reduce']((_0x5c89bb,_0x2d194d)=>_0x5c89bb+'\x0a'+_0x2d194d['content'],'');}catch(_0x2bd44c){return console[_0x3213be(0x487)](_0x2bd44c),_0x2f701a&&_0x25f392&&_0x5a8c31&&await _0x427409[_0x3213be(0x686)]({'jobType':_0x4d885d[_0x3213be(0x661)],'type':_0x18dea2[_0x3213be(0x8db)],'jobId':_0x2f701a,'blockId':_0x3213be(0x342),'agentId':_0x25f392,'threadId':_0x5a8c31,'traceLevel':_0xaed68[_0x3213be(0x47d)],'startTime':_0x5a1039,'timestamp':Date[_0x3213be(0x9bd)](),'status':_0x3213be(0x487),'errorDetails':_0x18f7f9(_0x2bd44c),'query':_0x1bd241?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x2bd44c instanceof Error?_0x2bd44c[_0x3213be(0x71b)]:'Error\x20retrieving\x20context';}}async function _0x43fd8d(_0x12255c,_0x4d6242,_0x4b5c55,_0x55434c,_0x1d3792){const _0x444a8=_0x677888,_0x511b04={};for(const _0x25c034 of _0x1d3792[_0x444a8(0x7e1)]??[])switch(_0x25c034[_0x444a8(0xb0f)]){case _0x444a8(0x435):case'json':_0x511b04[_0x25c034[_0x444a8(0x7ca)]]={'type':_0x1736bb[_0x444a8(0x6a9)][_0x444a8(0x220)]};break;case _0x444a8(0x8b7):_0x511b04[_0x25c034[_0x444a8(0x7ca)]]={'type':_0x1736bb[_0x444a8(0x6a9)][_0x444a8(0x1b4)]};break;case _0x444a8(0x638):_0x511b04[_0x25c034[_0x444a8(0x7ca)]]={'type':_0x1736bb[_0x444a8(0x6a9)][_0x444a8(0x68b)]};}return await _0x427409[_0x444a8(0x686)]({'jobType':_0x4d885d['JobContext'],'type':_0x1cdb9b[_0x444a8(0x59b)],'jobId':_0x12255c,'agentId':_0x4d6242,'threadId':_0x4b5c55,'traceLevel':_0xaed68['Info'],'startTime':Date['now'](),'timestamp':Date[_0x444a8(0x9bd)](),'status':'success','function':_0x13e715[_0x444a8(0x72d)],'params':_0x511b04,'functionDescription':_0x1d3792['description']??''}),{'description':_0x444a8(0x67b)+_0x1d3792[_0x444a8(0x498)],'params':_0x511b04,'callback':async _0x547cdf=>_0x5e94da(_0x1d3792,_0x547cdf,_0x12255c,_0x4d6242,_0x4b5c55,_0x55434c)};}async function _0x5e94da(_0x4a43bc,_0x52ea6e,_0x29eabf,_0x36657e,_0x19b958,_0x1902d4){const _0x4559e1=_0x677888,_0x148fb7=Date[_0x4559e1(0x9bd)]();try{if(!_0x52ea6e)throw new Error(_0x4559e1(0x525));for(const _0x8c0750 of _0x4a43bc[_0x4559e1(0x7e1)]??[]){if(void 0x0===_0x52ea6e[_0x8c0750['name']])throw new Error(_0x4559e1(0x804)+_0x8c0750[_0x4559e1(0x7ca)]+'\x20is\x20required');if(_0x4559e1(0x435)===_0x8c0750['type']&&'string'!=typeof _0x52ea6e[_0x8c0750[_0x4559e1(0x7ca)]])throw new Error(_0x4559e1(0x804)+_0x8c0750['name']+_0x4559e1(0x1d0));if(_0x4559e1(0x8b7)===_0x8c0750['type']&&_0x4559e1(0x8b7)!=typeof _0x52ea6e[_0x8c0750['name']])throw new Error(_0x4559e1(0x804)+_0x8c0750[_0x4559e1(0x7ca)]+_0x4559e1(0x1db));if(_0x4559e1(0x638)===_0x8c0750[_0x4559e1(0xb0f)]&&_0x4559e1(0x638)!=typeof _0x52ea6e[_0x8c0750[_0x4559e1(0x7ca)]])throw new Error(_0x4559e1(0x804)+_0x8c0750[_0x4559e1(0x7ca)]+'\x20must\x20be\x20a\x20boolean');if(_0x4559e1(0x434)===_0x8c0750[_0x4559e1(0xb0f)]&&'string'!=typeof _0x52ea6e[_0x8c0750['name']])throw new Error(_0x4559e1(0x804)+_0x8c0750[_0x4559e1(0x7ca)]+_0x4559e1(0x1d0));if(_0x4559e1(0x434)===_0x8c0750[_0x4559e1(0xb0f)])try{_0x52ea6e[_0x8c0750[_0x4559e1(0x7ca)]]=JSON[_0x4559e1(0xa5d)](_0x52ea6e[_0x8c0750[_0x4559e1(0x7ca)]]);}catch{throw new Error(_0x4559e1(0x804)+_0x8c0750[_0x4559e1(0x7ca)]+_0x4559e1(0x657));}}const _0xe0a91={};for(const _0x5e2d87 of _0x4a43bc['headers']??[]){let _0x5e9b1a=_0x5e2d87[_0x4559e1(0x6fa)];_0x5e9b1a[_0x4559e1(0x76d)](/\$[a-zA-Z0-9]+/)&&(_0x5e9b1a=_0x5e9b1a['replace'](/\$[a-zA-Z0-9]+/g,_0x396c08=>{const _0x12775a=_0x4559e1,_0x5d4a19=_0x396c08[_0x12775a(0x83f)](0x1);return _0x52ea6e[_0x5d4a19];})),_0xe0a91[_0x5e2d87[_0x4559e1(0x7ca)]]=_0x5e9b1a;}const _0x228683=new URLSearchParams();for(const _0x449750 of _0x4a43bc['queryParameters']??[]){let _0x588579=_0x449750[_0x4559e1(0x6fa)];if('string'==typeof _0x588579&&_0x588579[_0x4559e1(0x2f5)]('$')){const _0x58cbca=_0x588579[_0x4559e1(0x83f)](0x1);_0x588579=_0x52ea6e[_0x58cbca];}if(_0x4559e1(0x435)==typeof _0x588579&&_0x588579['startsWith'](_0x4559e1(0x24b))){const _0x6d3154=_0x588579[_0x4559e1(0x267)](_0x4559e1(0x24b),'');if(_0x588579=_0x1902d4?.[_0x4559e1(0x418)]?.[_0x6d3154],_0x4559e1(0x435)==typeof _0x588579&&_0x588579['startsWith']('{')&&_0x588579[_0x4559e1(0x742)]('}'))try{_0x588579=JSON[_0x4559e1(0xa5d)](_0x588579);}catch{}}_0x4559e1(0x435)==typeof _0x588579&&_0x588579[_0x4559e1(0x2f5)]('[')&&_0x588579[_0x4559e1(0x742)](']')&&(_0x588579=JSON[_0x4559e1(0xa5d)](_0x588579)),_0x228683['append'](_0x449750['name'],_0x588579);}let _0xaae47f=_0x4a43bc[_0x4559e1(0x63a)]??'';_0x228683[_0x4559e1(0x22b)]>0x0&&(_0xaae47f+='?'+_0x228683[_0x4559e1(0x8d8)]());let _0xfac97={};for(const _0x144701 of _0x4a43bc[_0x4559e1(0x35c)]??[]){let _0x586836=_0x144701['value'];if(_0x4559e1(0x435)==typeof _0x586836&&_0x586836['startsWith']('$')){const _0x169acf=_0x586836[_0x4559e1(0x83f)](0x1);_0x586836=_0x52ea6e[_0x169acf];}if('string'==typeof _0x586836&&_0x586836[_0x4559e1(0x2f5)](_0x4559e1(0x24b))){const _0x3c224d=_0x586836['replace'](_0x4559e1(0x24b),'');if(_0x586836=_0x1902d4?.[_0x4559e1(0x418)]?.[_0x3c224d],_0x4559e1(0x435)==typeof _0x586836&&_0x586836['startsWith']('{')&&_0x586836[_0x4559e1(0x742)]('}'))try{_0x586836=JSON[_0x4559e1(0xa5d)](_0x586836);}catch{}}if('string'==typeof _0x586836&&_0x586836[_0x4559e1(0x2f5)]('[')&&_0x586836[_0x4559e1(0x742)](']')&&(_0x586836=JSON[_0x4559e1(0xa5d)](_0x586836)),_0x4559e1(0x430)===_0x144701[_0x4559e1(0x7ca)]){const _0x1bf213=_0x586836[_0x4559e1(0x76d)](/```html(.*)```/s);_0x1bf213&&(_0x586836=_0x1bf213[0x1]),_0x586836=_0x586836['replace'](/\n/g,''),_0x586836=_0x586836[_0x4559e1(0x267)](/'/g,'\x22'),_0xfac97=_0x586836;break;}if(-0x1===_0x144701[_0x4559e1(0x7ca)][_0x4559e1(0x701)]('.'))_0xfac97[_0x144701[_0x4559e1(0x7ca)]]=_0x586836;else{const [_0x1070f6,_0x314b09]=_0x144701[_0x4559e1(0x7ca)][_0x4559e1(0xad8)]('.');_0xfac97[_0x1070f6]||(_0xfac97[_0x1070f6]={}),_0xfac97[_0x1070f6][_0x314b09]=_0x586836;}}console[_0x4559e1(0x5d7)](_0x4559e1(0xaea)+_0x4a43bc[_0x4559e1(0x7ca)]+'\x20with\x20'+JSON[_0x4559e1(0x247)](_0xfac97));const _0x42df18=await fetch(_0xaae47f,{'method':_0x4a43bc[_0x4559e1(0x70e)],'headers':_0xe0a91,'body':_0x4559e1(0x435)==typeof _0xfac97?_0xfac97:JSON['stringify'](_0xfac97)});if(_0x42df18['ok']){let _0x205eba=await _0x42df18[_0x4559e1(0x434)]();return'string'!=typeof _0x1902d4&&(_0x205eba=JSON[_0x4559e1(0x247)](_0x1902d4)),_0x29eabf&&_0x36657e&&_0x19b958&&await _0x427409[_0x4559e1(0x686)]({'jobType':_0x4d885d[_0x4559e1(0x3dd)],'type':_0x13e715[_0x4559e1(0x72d)],'jobId':_0x29eabf,'agentId':_0x36657e,'threadId':_0x19b958,'blockId':'custom-skill','traceLevel':_0xaed68['Info'],'startTime':_0x148fb7,'timestamp':Date[_0x4559e1(0x9bd)](),'status':_0x4559e1(0x3bf),'skillName':_0x4a43bc[_0x4559e1(0x7ca)],'params':_0x52ea6e,'result':_0x205eba}),_0x1902d4&&_0x4a43bc[_0x4559e1(0xa78)]&&''!==_0x4a43bc[_0x4559e1(0xa78)]&&(_0x1902d4['internalContext']||(_0x1902d4['internalContext']={}),_0x1902d4['internalContext'][_0x4a43bc['contextOutputVariable']]=_0x205eba),_0x205eba;}throw new Error(_0x42df18[_0x4559e1(0x737)]);}catch(_0x5d40e3){console[_0x4559e1(0x487)](_0x5d40e3);const _0x2b9602=_0x5d40e3 instanceof Error?_0x5d40e3[_0x4559e1(0x71b)]:_0x4559e1(0x43e);return _0x29eabf&&_0x36657e&&_0x19b958&&await _0x427409[_0x4559e1(0x686)]({'jobType':_0x4d885d[_0x4559e1(0x3dd)],'type':_0x13e715[_0x4559e1(0x72d)],'jobId':_0x29eabf,'blockId':_0x4559e1(0x613),'threadId':_0x19b958,'traceLevel':_0xaed68[_0x4559e1(0x47d)],'startTime':_0x148fb7,'timestamp':Date[_0x4559e1(0x9bd)](),'agentId':_0x36657e,'status':_0x4559e1(0x487),'skillName':_0x4a43bc['name'],'params':_0x52ea6e??{},'result':_0x2b9602}),_0x2b9602;}}async function _0x202c5e(_0x190665,_0x3e2cbd,_0x4c543b,_0x45c406=!0x0){const _0x4d5e78=_0x677888,_0x19429b=_0x4d5e78(0x8dc),_0x393dd5={'url':{'type':_0x1736bb['PromptFunctionParamsType'][_0x4d5e78(0x220)]},'page':{'type':_0x1736bb['PromptFunctionParamsType'][_0x4d5e78(0x1b4)]}};return await _0x427409[_0x4d5e78(0x686)]({'jobType':_0x4d885d['JobContext'],'type':_0x1cdb9b[_0x4d5e78(0x59b)],'jobId':_0x190665,'agentId':_0x3e2cbd,'threadId':_0x4c543b,'traceLevel':_0xaed68[_0x4d5e78(0x47d)],'startTime':Date['now'](),'timestamp':Date[_0x4d5e78(0x9bd)](),'status':'success','function':_0x13e715[_0x4d5e78(0x41a)],'params':_0x393dd5,'functionDescription':_0x19429b}),{'description':_0x19429b,'params':_0x393dd5,'callback':async _0x4d2cb1=>_0x46d0b9(_0x4d2cb1,_0x45c406,_0x190665,_0x3e2cbd,_0x4c543b)};}async function _0x46d0b9(_0xb8e4dc,_0x1ca512=!0x0,_0x828392,_0x242882,_0x4e8069){const _0x55a35a=_0x677888,_0x29c5d3=Date[_0x55a35a(0x9bd)]();try{if(_0x55a35a(0x435)!=typeof _0xb8e4dc?.['url'])throw new Error(_0x55a35a(0x26f));const _0x5c88e6=_0xb8e4dc[_0x55a35a(0xb08)];if([_0x55a35a(0x1b1),_0x55a35a(0x8f5),_0x55a35a(0x6b6),'.ppt',_0x55a35a(0x4d3),_0x55a35a(0x40d),_0x55a35a(0x4f8)][_0x55a35a(0x591)](_0x20f19b=>_0x5c88e6[_0x55a35a(0x742)](_0x20f19b)))throw new Error(_0x55a35a(0x6cc));const _0x43e301=await fetch(_0x5c88e6),_0x36e4ce=await _0x43e301[_0x55a35a(0x420)]();let _0x1193c5=_0x36e4ce;if(_0x1ca512){const _0x422e44=_0x36e4ce[_0x55a35a(0x76d)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x4b5af0=_0x422e44?_0x422e44[0x1]:_0x36e4ce,_0x21190b=_0x4b5af0[_0x55a35a(0x267)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x55a35a(0x267)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x55a35a(0x267)](/<br\s*\/?>/gi,'\x20')[_0x55a35a(0x267)](/&nbsp;/g,'\x20');_0x1193c5=_0x21190b[_0x55a35a(0x267)](/<\/?[^>]+(>|$)/g,'')[_0x55a35a(0x267)](/\s\s+/g,'\x20')[_0x55a35a(0x36d)]();}const _0x20af2e='number'==typeof _0xb8e4dc[_0x55a35a(0x1d7)]?_0xb8e4dc[_0x55a35a(0x1d7)]:0x1,_0x6a38eb=Math[_0x55a35a(0x949)](_0x1193c5[_0x55a35a(0x8a9)]/_0x251766);return _0x1193c5['length']>_0x251766&&(_0x1193c5=_0x1193c5['substring']((_0x20af2e-0x1)*_0x251766,(_0x20af2e-0x1)*_0x251766+_0x251766)+_0x55a35a(0x403)+(_0x20af2e+0x1)+_0x55a35a(0x18b)+_0x6a38eb+'.'),_0x828392&&_0x242882&&_0x4e8069&&await _0x427409[_0x55a35a(0x686)]({'jobType':_0x4d885d[_0x55a35a(0x3dd)],'type':_0x13e715[_0x55a35a(0x41a)],'jobId':_0x828392,'agentId':_0x242882,'threadId':_0x4e8069,'blockId':_0x55a35a(0xa82),'traceLevel':_0xaed68[_0x55a35a(0x47d)],'startTime':_0x29c5d3,'timestamp':Date['now'](),'status':_0x43e301['ok']?_0x55a35a(0x3bf):_0x55a35a(0x487),'url':_0xb8e4dc[_0x55a35a(0xb08)],'page':_0x20af2e,'totalPages':_0x6a38eb,'response':_0x1193c5}),_0x1193c5;}catch(_0x101515){console['error'](_0x101515);const _0x1019bd=_0x101515 instanceof Error?_0x101515['message']:_0x55a35a(0x43e);return _0x828392&&_0x242882&&_0x4e8069&&await _0x427409[_0x55a35a(0x686)]({'jobType':_0x4d885d['Skill'],'type':_0x13e715['FetchUrl'],'jobId':_0x828392,'blockId':_0x55a35a(0xa82),'threadId':_0x4e8069,'traceLevel':_0xaed68[_0x55a35a(0x47d)],'startTime':_0x29c5d3,'timestamp':Date[_0x55a35a(0x9bd)](),'agentId':_0x242882,'status':_0x55a35a(0x487),'errorDetails':_0x18f7f9(_0x101515),'url':_0xb8e4dc?.[_0x55a35a(0xb08)]??'','page':0x0,'totalPages':0x0,'response':_0x1019bd}),_0x1019bd;}}async function _0x5d7d64(_0x350612,_0x5378e6,_0xb77ed4,_0x1c27e5,_0x10c9af){const _0x109cc7=_0x677888,_0xd442a4=Date[_0x109cc7(0x9bd)]();try{if(!_0x350612[_0x109cc7(0x1cc)])throw new Error(_0x109cc7(0xa64));if(_0x109cc7(0x435)!=typeof _0x5378e6?.[_0x109cc7(0x9af)])throw new Error(_0x109cc7(0x9c8));const _0x570977=await _0x350612[_0x109cc7(0x1cc)][_0x109cc7(0x4b5)](_0x5378e6[_0x109cc7(0x9af)],_0xd27c01['google'][_0x109cc7(0x6cf)]);let _0x47c739='';for(const _0x286dfb of _0x570977)_0x47c739+=_0x286dfb[_0x109cc7(0xa2b)]+_0x109cc7(0x3c8)+_0x286dfb['url']+'\x0a'+_0x286dfb['snippet']+'\x0a\x0a';return _0xb77ed4&&_0x1c27e5&&_0x10c9af&&await _0x427409[_0x109cc7(0x686)]({'jobType':_0x4d885d[_0x109cc7(0x3dd)],'type':_0x13e715[_0x109cc7(0x972)],'jobId':_0xb77ed4,'agentId':_0x1c27e5,'threadId':_0x10c9af,'blockId':'search','traceLevel':_0xaed68[_0x109cc7(0x47d)],'startTime':_0xd442a4,'timestamp':Date[_0x109cc7(0x9bd)](),'status':_0x109cc7(0x3bf),'query':_0x5378e6[_0x109cc7(0x9af)],'results':_0x47c739}),_0x47c739;}catch(_0x2103c1){return console[_0x109cc7(0x487)](_0x2103c1),_0xb77ed4&&_0x1c27e5&&_0x10c9af&&await _0x427409['trace']({'jobType':_0x4d885d[_0x109cc7(0x3dd)],'type':_0x13e715['SearchGoogle'],'jobId':_0xb77ed4,'blockId':_0x109cc7(0x4b5),'traceLevel':_0xaed68[_0x109cc7(0x47d)],'startTime':_0xd442a4,'timestamp':Date[_0x109cc7(0x9bd)](),'status':_0x109cc7(0x487),'errorDetails':_0x18f7f9(_0x2103c1),'agentId':_0x1c27e5,'threadId':_0x10c9af,'query':_0x5378e6?.[_0x109cc7(0x9af)]??'','results':_0x109cc7(0x302)}),_0x2103c1 instanceof Error?_0x2103c1['message']:_0x109cc7(0x302);}}async function _0x12f04b(_0x4a4cd0,_0x584642,_0x37c52d,_0xfb6468,_0x10a77c,_0x589cb4,_0x1ae868){const _0x3c25ab=_0x677888,_0x20ad04=new Map();for(const _0x28035b of _0x10a77c)_0x28035b['type']===_0x1736bb[_0x3c25ab(0x2b6)]['Knowledge']||_0x28035b[_0x3c25ab(0xb0f)]===_0x1736bb[_0x3c25ab(0x2b6)][_0x3c25ab(0x4f4)]?_0x20ad04[_0x3c25ab(0x926)](_0x3c25ab(0x34e)+_0x28035b['name'][_0x3c25ab(0x267)](/[^a-zA-Z]/g,''),await _0x57121a(_0x4a4cd0,_0x584642,_0x37c52d,_0xfb6468,_0x28035b)):_0x28035b[_0x3c25ab(0xb0f)]===_0x1736bb[_0x3c25ab(0x2b6)][_0x3c25ab(0x1ea)]||_0x28035b[_0x3c25ab(0xb0f)]===_0x1736bb[_0x3c25ab(0x2b6)][_0x3c25ab(0x887)]?_0x20ad04[_0x3c25ab(0x926)](_0x3c25ab(0x61d)+_0x28035b[_0x3c25ab(0x7ca)]['replace'](/[^a-zA-Z]/g,''),await _0x281727(_0x4a4cd0,_0x584642,_0x37c52d,_0x28035b,_0x589cb4,_0x1ae868)):_0x28035b[_0x3c25ab(0xb0f)]===_0x1736bb['GenerativeAIInferenceToolType'][_0x3c25ab(0x8a7)]?_0x20ad04[_0x3c25ab(0x926)](_0x28035b[_0x3c25ab(0x7ca)][_0x3c25ab(0x267)](/[^a-zA-Z]/g,''),await _0x43fd8d(_0x4a4cd0,_0x584642,_0x37c52d[_0x3c25ab(0x2a1)],_0xfb6468,_0x28035b)):_0x20ad04[_0x3c25ab(0x926)](_0x278b51(_0x28035b),await _0x34d333(_0x4a4cd0,_0x584642,_0x37c52d[_0x3c25ab(0x2a1)],_0xfb6468,_0x28035b,_0x589cb4));return _0x20ad04;}function _0x278b51(_0x3c9a0c){const _0x2c5a03=_0x677888;switch(_0x3c9a0c[_0x2c5a03(0xb0f)]){case _0x1736bb[_0x2c5a03(0x2b6)][_0x2c5a03(0x520)]:return'searchOnPerplexity';case _0x1736bb['GenerativeAIInferenceToolType'][_0x2c5a03(0x8d1)]:return'executeJavascriptCodeSnippet';case _0x1736bb['GenerativeAIInferenceToolType']['QueryFile']:return _0x2c5a03(0x174);case _0x1736bb['GenerativeAIInferenceToolType'][_0x2c5a03(0x7fb)]:return _0x2c5a03(0x4f2);case _0x1736bb['GenerativeAIInferenceToolType']['WebScraper']:case _0x1736bb[_0x2c5a03(0x2b6)][_0x2c5a03(0x90c)]:return _0x2c5a03(0x91d);case _0x1736bb['GenerativeAIInferenceToolType'][_0x2c5a03(0xaa9)]:return _0x2c5a03(0x394);}throw new Error(_0x2c5a03(0x7c6));}async function _0x34d333(_0xa96839,_0x50e747,_0x59cfe0,_0x194e03,_0x5b1b44,_0x4a4fa5){const _0xa8f78a=_0x677888;switch(_0x5b1b44['type']){case _0x1736bb['GenerativeAIInferenceToolType'][_0xa8f78a(0x520)]:return async function(_0x5464a8,_0x508e7c,_0x1405c0,_0x260df7){const _0x163e6e=_0xa8f78a,_0x274f95='Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x1185d3={'query':{'type':_0x1736bb[_0x163e6e(0x6a9)][_0x163e6e(0x220)]}};return await _0x427409[_0x163e6e(0x686)]({'jobType':_0x4d885d[_0x163e6e(0x49b)],'type':_0x1cdb9b[_0x163e6e(0x59b)],'jobId':_0x5464a8,'agentId':_0x508e7c,'threadId':_0x1405c0,'traceLevel':_0xaed68['Info'],'startTime':Date['now'](),'timestamp':Date[_0x163e6e(0x9bd)](),'status':_0x163e6e(0x3bf),'function':_0x13e715[_0x163e6e(0x368)],'params':_0x1185d3,'functionDescription':_0x274f95}),{'description':_0x274f95,'params':_0x1185d3,'callback':async _0x328394=>_0x53f10c(_0x260df7,_0x328394,_0x5464a8,_0x508e7c,_0x1405c0)};}(_0xa96839,_0x50e747,_0x59cfe0,_0x4a4fa5);case _0x1736bb['GenerativeAIInferenceToolType'][_0xa8f78a(0x8d1)]:return async function(_0x26a7f2,_0x235397,_0x5eaab3){const _0x32aca3=_0xa8f78a,_0xdca56e='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x46f445={'code':{'type':_0x1736bb['PromptFunctionParamsType'][_0x32aca3(0x220)]}};return await _0x427409['trace']({'jobType':_0x4d885d['JobContext'],'type':_0x1cdb9b['LoadSkillFunction'],'jobId':_0x26a7f2,'agentId':_0x235397,'threadId':_0x5eaab3,'traceLevel':_0xaed68['Info'],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x13e715[_0x32aca3(0x506)],'params':_0x46f445,'functionDescription':_0xdca56e}),{'description':_0xdca56e,'params':_0x46f445,'callback':async _0x48bf83=>_0x2740a1(_0x48bf83,_0x26a7f2,_0x235397,_0x5eaab3)};}(_0xa96839,_0x50e747,_0x59cfe0);case _0x1736bb[_0xa8f78a(0x2b6)][_0xa8f78a(0x901)]:return async function(_0x145983,_0x25209e,_0x3d3386,_0x5575dd,_0x4cf60b){const _0x27fd8d=_0xa8f78a,_0x53359d=[',',';','\x09','|',':'],_0x4fd10e=['\x22','\x27'];let _0x48c697='';if(_0x27fd8d(0x24e)===_0x5575dd[_0x27fd8d(0x418)]?.['file.type']&&_0x5575dd[_0x27fd8d(0x418)]?.['file.content']&&(_0x48c697=_0x5575dd[_0x27fd8d(0x418)][_0x27fd8d(0x5ab)]),''===_0x48c697)throw new Error(_0x27fd8d(0xad2));const _0x5c0eea=_0x48c697['split']('\x0a')[0x0];let _0x37e57b=null,_0xec0e60=null,_0x50d442=0x0;for(const _0x458553 of _0x53359d){const _0x42cc1c=(_0x5c0eea[_0x27fd8d(0x76d)](new RegExp('\x5c'+_0x458553,'g'))||[])[_0x27fd8d(0x8a9)];_0x42cc1c>_0x50d442&&(_0x50d442=_0x42cc1c,_0x37e57b=_0x458553);}_0x37e57b||(_0x37e57b=','),_0x50d442=0x0;for(const _0xddee0 of _0x4fd10e){const _0x333b4e=(_0x5c0eea[_0x27fd8d(0x76d)](new RegExp('\x5c'+_0xddee0,'g'))||[])[_0x27fd8d(0x8a9)];_0x333b4e>_0x50d442&&(_0x50d442=_0x333b4e,_0xec0e60=_0xddee0);}_0xec0e60||(_0xec0e60='\x22');const _0x142bde=_0x27fd8d(0x4ee)+_0x5c0eea[_0x27fd8d(0xad8)](_0x37e57b)[_0x27fd8d(0x729)](',\x20'),_0x3de2a5={'query':{'type':_0x1736bb[_0x27fd8d(0x6a9)]['String']}};return await _0x427409[_0x27fd8d(0x686)]({'jobType':_0x4d885d[_0x27fd8d(0x49b)],'type':_0x1cdb9b['LoadSkillFunction'],'jobId':_0x145983,'agentId':_0x25209e,'threadId':_0x3d3386,'traceLevel':_0xaed68[_0x27fd8d(0x47d)],'startTime':Date[_0x27fd8d(0x9bd)](),'timestamp':Date[_0x27fd8d(0x9bd)](),'status':_0x27fd8d(0x3bf),'function':_0x13e715['QueryFile'],'params':_0x3de2a5,'functionDescription':_0x142bde}),{'description':_0x142bde,'params':_0x3de2a5,'callback':async _0x3b35d1=>{const _0x37246e=_0x27fd8d,_0x39b738=Date[_0x37246e(0x9bd)]();try{if(!_0x4cf60b[_0x37246e(0xa7c)])throw new Error(_0x37246e(0x59a));if(_0x37246e(0x435)!=typeof _0x3b35d1?.[_0x37246e(0x9af)])throw new Error(_0x37246e(0x9c8));if(!_0x3b35d1['query'][_0x37246e(0xace)]('FROM\x20file'))throw new Error(_0x37246e(0xabd));const _0x39e1cc=await _0x4cf60b[_0x37246e(0xa7c)][_0x37246e(0xa66)](_0x48c697,_0x3b35d1[_0x37246e(0x9af)],{'headers':!0x0,'quote':_0xec0e60,'separator':_0x37e57b});await _0x427409[_0x37246e(0x686)]({'jobType':_0x4d885d[_0x37246e(0x3dd)],'type':_0x13e715[_0x37246e(0x901)],'jobId':_0x145983,'agentId':_0x25209e,'threadId':_0x3d3386,'blockId':_0x37246e(0x255),'traceLevel':_0xaed68[_0x37246e(0x47d)],'startTime':_0x39b738,'timestamp':Date[_0x37246e(0x9bd)](),'status':_0x37246e(0x3bf),'query':_0x3b35d1[_0x37246e(0x9af)],'results':_0x39e1cc[_0x37246e(0x7ab)](0x0,0x3e8)});const _0x1af55d=JSON['parse'](_0x39e1cc);let _0x18dfc2='';if(_0x1af55d['length']>0x0){const _0x17cf5d=Object[_0x37246e(0x1fd)](_0x1af55d[0x0]);_0x18dfc2=_0x17cf5d[_0x37246e(0x360)](_0x6e5064=>'\x22'+_0x6e5064+'\x22')[_0x37246e(0x729)](',')+'\x0a';for(const _0x4921c3 of _0x1af55d)_0x18dfc2+=_0x17cf5d[_0x37246e(0x360)](_0xabf17b=>'\x22'+_0x4921c3[_0xabf17b]+'\x22')[_0x37246e(0x729)](',')+'\x0a';}return _0x5575dd[_0x37246e(0x418)]||(_0x5575dd[_0x37246e(0x418)]={}),_0x5575dd['internalContext'][_0x37246e(0x5ab)]=_0x18dfc2,_0x5575dd['internalContext'][_0x37246e(0x71d)]=_0x37246e(0x24e),_0x39e1cc[_0x37246e(0x7ab)](0x0,0x3e8);}catch(_0x3df886){return console[_0x37246e(0x487)](_0x3df886),await _0x427409[_0x37246e(0x686)]({'jobType':_0x4d885d[_0x37246e(0x3dd)],'type':_0x13e715['QueryFile'],'jobId':_0x145983,'blockId':_0x37246e(0x255),'traceLevel':_0xaed68[_0x37246e(0x47d)],'startTime':_0x39b738,'timestamp':Date[_0x37246e(0x9bd)](),'status':_0x37246e(0x487),'errorDetails':_0x18f7f9(_0x3df886),'agentId':_0x25209e,'threadId':_0x3d3386,'query':_0x3b35d1?.['query']??'','results':'Error\x20searching'}),_0x3df886 instanceof Error?_0x3df886[_0x37246e(0x71b)]:_0x37246e(0x7d4);}}};}(_0xa96839,_0x50e747,_0x59cfe0,_0x194e03,_0x4a4fa5);case _0x1736bb[_0xa8f78a(0x2b6)][_0xa8f78a(0x7fb)]:return async function(_0x51d912,_0x554d95,_0x3fda1b,_0x56d672){const _0x4a5394=_0xa8f78a,_0x155e25=_0x4a5394(0x615),_0xc223ef={'query':{'type':_0x1736bb[_0x4a5394(0x6a9)][_0x4a5394(0x220)]}};return await _0x427409[_0x4a5394(0x686)]({'jobType':_0x4d885d[_0x4a5394(0x49b)],'type':_0x1cdb9b[_0x4a5394(0x59b)],'jobId':_0x51d912,'agentId':_0x554d95,'threadId':_0x3fda1b,'traceLevel':_0xaed68[_0x4a5394(0x47d)],'startTime':Date['now'](),'timestamp':Date[_0x4a5394(0x9bd)](),'status':_0x4a5394(0x3bf),'function':_0x13e715[_0x4a5394(0x972)],'params':_0xc223ef,'functionDescription':_0x155e25}),{'description':_0x155e25,'params':_0xc223ef,'callback':async _0x2d4124=>_0x5d7d64(_0x56d672,_0x2d4124,_0x51d912,_0x554d95,_0x3fda1b)};}(_0xa96839,_0x50e747,_0x59cfe0,_0x4a4fa5);case _0x1736bb['GenerativeAIInferenceToolType']['WebScraper']:return _0x202c5e(_0xa96839,_0x50e747,_0x59cfe0);case _0x1736bb[_0xa8f78a(0x2b6)][_0xa8f78a(0x90c)]:return _0x202c5e(_0xa96839,_0x50e747,_0x59cfe0,!0x1);case _0x1736bb[_0xa8f78a(0x2b6)][_0xa8f78a(0xaa9)]:return async function(_0x322971,_0x3460df,_0x4b584e,_0x397a7f){const _0x32017f=_0xa8f78a,_0x6f858e=_0x32017f(0x7b1),_0x4f7ea9={'text':{'type':_0x1736bb['PromptFunctionParamsType'][_0x32017f(0x220)]}};return await _0x427409[_0x32017f(0x686)]({'jobType':_0x4d885d['JobContext'],'type':_0x1cdb9b[_0x32017f(0x59b)],'jobId':_0x322971,'agentId':_0x3460df,'threadId':_0x4b584e,'traceLevel':_0xaed68[_0x32017f(0x47d)],'startTime':Date[_0x32017f(0x9bd)](),'timestamp':Date[_0x32017f(0x9bd)](),'status':_0x32017f(0x3bf),'function':_0x13e715[_0x32017f(0xaa9)],'params':_0x4f7ea9,'functionDescription':_0x6f858e}),{'description':_0x6f858e,'params':_0x4f7ea9,'callback':async _0x43284b=>{const _0x2d35bf=_0x32017f,_0x210d4c=Date[_0x2d35bf(0x9bd)]();try{if('string'!=typeof _0x43284b?.[_0x2d35bf(0x420)])throw new Error(_0x2d35bf(0x92c));return await _0x427409['trace']({'jobType':_0x4d885d[_0x2d35bf(0x3dd)],'type':_0x13e715[_0x2d35bf(0xaa9)],'jobId':_0x322971,'agentId':_0x3460df,'threadId':_0x4b584e,'blockId':_0x2d35bf(0x8fa),'traceLevel':_0xaed68[_0x2d35bf(0x47d)],'startTime':_0x210d4c,'timestamp':Date[_0x2d35bf(0x9bd)](),'status':'success','content':_0x43284b['text']}),_0x397a7f['internalContext']||(_0x397a7f[_0x2d35bf(0x418)]={}),_0x397a7f[_0x2d35bf(0x418)][_0x2d35bf(0x5ab)]=_0x43284b[_0x2d35bf(0x420)],_0x397a7f[_0x2d35bf(0x418)][_0x2d35bf(0x71d)]=_0x2d35bf(0xaad),_0x2d35bf(0x82a);}catch(_0x202a47){return console[_0x2d35bf(0x487)](_0x202a47),await _0x427409[_0x2d35bf(0x686)]({'jobType':_0x4d885d[_0x2d35bf(0x3dd)],'type':_0x13e715[_0x2d35bf(0xaa9)],'jobId':_0x322971,'blockId':'write-file','traceLevel':_0xaed68[_0x2d35bf(0x47d)],'startTime':_0x210d4c,'timestamp':Date[_0x2d35bf(0x9bd)](),'status':_0x2d35bf(0x487),'errorDetails':_0x18f7f9(_0x202a47),'agentId':_0x3460df,'threadId':_0x4b584e,'content':_0x2d35bf(0x435)==typeof _0x43284b?.[_0x2d35bf(0x420)]?_0x43284b[_0x2d35bf(0x420)]:''}),_0x202a47 instanceof Error?_0x202a47['message']:_0x2d35bf(0x4d2);}}};}(_0xa96839,_0x50e747,_0x59cfe0,_0x194e03);}throw new Error(_0xa8f78a(0x7c6));}function _0x18f7f9(_0x117daa){const _0x31a8cc=_0x677888;try{return JSON[_0x31a8cc(0x247)](_0x117daa);}catch(_0x54dbe4){return _0x117daa instanceof Error?_0x117daa[_0x31a8cc(0x8d8)]():_0x31a8cc(0x2d9);}}class _0x3dec82 extends _0xab6e5{[_0x677888(0xa61)];['generativeAIWorkerConnectors'];[_0x677888(0x8d9)];['fileConnector'];[_0x677888(0x88f)];[_0x677888(0x1cc)];[_0x677888(0x678)];['queryFileConnector'];[_0x677888(0x217)];[_0x677888(0x586)];[_0x677888(0x89f)]=new Map();[_0x677888(0x2a7)]=new Map();[_0x677888(0x74e)];['prompts']=0x0;[_0x677888(0x955)]=0x0;[_0x677888(0x1cd)]=!0x1;constructor(_0x15fb08,_0x3adaba,_0x5e3c5f,_0x3b3801,_0x10e625,_0x58b751,_0x35948c,_0x54e6e1,_0x17653a,_0x334030,_0x3efdbc,_0x599132,_0x48e990){const _0x4eac3b=_0x677888;super(_0x15fb08,_0x3adaba,_0x5e3c5f),this['contentMediator']=_0x3b3801,this[_0x4eac3b(0x1b7)]=_0x10e625,this[_0x4eac3b(0x8d9)]=_0x58b751,this[_0x4eac3b(0xa4b)]=_0x35948c,this[_0x4eac3b(0x88f)]=_0x54e6e1,this[_0x4eac3b(0x1cc)]=_0x17653a,this[_0x4eac3b(0x678)]=_0x334030,this[_0x4eac3b(0xa7c)]=_0x3efdbc,this[_0x4eac3b(0x217)]=_0x599132,this['openAIKey']=_0x48e990;}async[_0x677888(0x405)](){const _0x12be8b=_0x677888;for(const _0x161fac of this[_0x12be8b(0x1b7)])await _0x161fac['close']();this[_0x12be8b(0x89f)][_0x12be8b(0x938)](_0xfaa4a3=>_0xfaa4a3[_0x12be8b(0xa24)](this[_0x12be8b(0x65c)])),this[_0x12be8b(0x74e)]&&(clearTimeout(this['debounceStats']),delete this['debounceStats']),super[_0x12be8b(0x405)]();}async[_0x677888(0xacb)](_0x148e50=!0x1){const _0x39eb7a=_0x677888;if(this[_0x39eb7a(0x1cd)])super[_0x39eb7a(0xacb)]();else{_0x5bf0c2[_0x39eb7a(0x4e7)]('GenerativeAIWorker:\x20Opening',this[_0x39eb7a(0x65c)]),this['models'][_0x39eb7a(0x926)]('all-minilm-l12-v2',{'id':_0x39eb7a(0xa60),'engineType':_0x1736bb[_0x39eb7a(0x7f5)][_0x39eb7a(0x241)],'taskType':_0x1736bb[_0x39eb7a(0xa2a)][_0x39eb7a(0x880)],'inputType':_0x1736bb['GenerativeAIModelInputType'][_0x39eb7a(0x3f4)],'outputType':_0x1736bb[_0x39eb7a(0x60a)][_0x39eb7a(0x46c)],'sourceUrl':_0x39eb7a(0x58f)}),this[_0x39eb7a(0x2a7)]['set']('llama-3.1-8b',{'id':'llama-3.1-8b','engineType':_0x1736bb[_0x39eb7a(0x7f5)][_0x39eb7a(0x241)],'taskType':_0x1736bb['GenerativeAITaskType'][_0x39eb7a(0x303)],'inputType':_0x1736bb['GenerativeAIModelInputType'][_0x39eb7a(0x3f4)],'outputType':_0x1736bb[_0x39eb7a(0x60a)]['Text'],'knowledgeCutoffDate':_0x39eb7a(0x275),'sourceUrl':'https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf'}),this[_0x39eb7a(0x2a7)][_0x39eb7a(0x926)](_0x39eb7a(0x945),{'id':_0x39eb7a(0x945),'engineType':_0x1736bb['GenerativeAIEngineType']['Llamacpp'],'taskType':_0x1736bb[_0x39eb7a(0xa2a)][_0x39eb7a(0x303)],'inputType':_0x1736bb[_0x39eb7a(0x478)][_0x39eb7a(0x3f4)],'outputType':_0x1736bb['GenerativeAIModelOutputType'][_0x39eb7a(0x3f4)],'knowledgeCutoffDate':_0x39eb7a(0x275),'sourceUrl':'https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf'}),this[_0x39eb7a(0x2a7)][_0x39eb7a(0x926)](_0x39eb7a(0x380),{'id':_0x39eb7a(0x380),'engineType':_0x1736bb['GenerativeAIEngineType'][_0x39eb7a(0x241)],'taskType':_0x1736bb[_0x39eb7a(0xa2a)][_0x39eb7a(0x303)],'inputType':_0x1736bb[_0x39eb7a(0x478)][_0x39eb7a(0x3f4)],'outputType':_0x1736bb['GenerativeAIModelOutputType'][_0x39eb7a(0x3f4)],'knowledgeCutoffDate':_0x39eb7a(0x3ef),'sourceUrl':_0x39eb7a(0x4be)}),this[_0x39eb7a(0x2a7)][_0x39eb7a(0x926)](_0x39eb7a(0x6e5),{'id':_0x39eb7a(0x6e5),'engineType':_0x1736bb[_0x39eb7a(0x7f5)][_0x39eb7a(0x250)],'taskType':_0x1736bb[_0x39eb7a(0xa2a)]['TextGeneration'],'inputType':_0x1736bb['GenerativeAIModelInputType'][_0x39eb7a(0x3f4)],'outputType':_0x1736bb['GenerativeAIModelOutputType'][_0x39eb7a(0x3f4)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}),this[_0x39eb7a(0x2a7)]['set']('gpt-4o-mini',{'id':_0x39eb7a(0x1cf),'engineType':_0x1736bb[_0x39eb7a(0x7f5)]['OpenAI'],'taskType':_0x1736bb[_0x39eb7a(0xa2a)][_0x39eb7a(0x303)],'inputType':_0x1736bb[_0x39eb7a(0x478)][_0x39eb7a(0x3f4)],'outputType':_0x1736bb['GenerativeAIModelOutputType'][_0x39eb7a(0x3f4)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}),this[_0x39eb7a(0x2a7)][_0x39eb7a(0x926)]('o1',{'id':'o1','engineType':_0x1736bb[_0x39eb7a(0x7f5)]['OpenAI'],'taskType':_0x1736bb[_0x39eb7a(0xa2a)]['TextGeneration'],'inputType':_0x1736bb['GenerativeAIModelInputType'][_0x39eb7a(0x3f4)],'outputType':_0x1736bb[_0x39eb7a(0x60a)][_0x39eb7a(0x3f4)],'knowledgeCutoffDate':_0x39eb7a(0x410),'sourceUrl':''}),this[_0x39eb7a(0x2a7)]['set'](_0x39eb7a(0x70a),{'id':_0x39eb7a(0x70a),'engineType':_0x1736bb[_0x39eb7a(0x7f5)][_0x39eb7a(0x250)],'taskType':_0x1736bb[_0x39eb7a(0xa2a)][_0x39eb7a(0x303)],'inputType':_0x1736bb['GenerativeAIModelInputType'][_0x39eb7a(0x3f4)],'outputType':_0x1736bb[_0x39eb7a(0x60a)][_0x39eb7a(0x3f4)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''});try{for(const _0x26f82d of this[_0x39eb7a(0x1b7)])await _0x26f82d[_0x39eb7a(0x921)](this[_0x39eb7a(0x65c)],this[_0x39eb7a(0x2a7)]);}catch(_0x5e42c2){return this[_0x39eb7a(0xacb)](_0x148e50);}this[_0x39eb7a(0x1cd)]=!0x0,this[_0x39eb7a(0x971)](),super[_0x39eb7a(0xacb)](),_0x5bf0c2[_0x39eb7a(0x4e7)](_0x39eb7a(0x1a3),this[_0x39eb7a(0x65c)]);}}[_0x677888(0x79b)](){const _0x33e2b0=_0x677888;this[_0x33e2b0(0x4e8)]=0x0,this['tokens']=0x0,this[_0x33e2b0(0x971)](),super[_0x33e2b0(0x79b)]();}[_0x677888(0x29c)](){const _0x32c293=_0x677888;return this[_0x32c293(0x971)](),this[_0x32c293(0x1b8)]();}[_0x677888(0x5cb)](_0x45b260,_0x2165ad,_0x4506ff){const _0x2076e7=_0x677888,{outputTokens:_0x317211=0x0,output:_0x4a4023=''}=_0x45b260,_0x2957f5=_0x317211/((_0x4506ff-_0x2165ad)/0x3e8);this['prompts']+=0x1,this[_0x2076e7(0x955)]+=_0x317211,this['logServiceEvent'](_0x2957f5,_0x317211),this['sendStats']();}[_0x677888(0x2e0)](_0x4a33be,_0x4d9fef){const _0x9c4899=_0x677888;return _0x4a33be[_0x9c4899(0x32f)]=_0x4a33be[_0x9c4899(0x32f)]??'',{'type':_0x9c4899(0x19d),'output':_0x9c4899(0x435)==typeof _0x4a33be[_0x9c4899(0x32f)]&&_0x9c4899(0x435)==typeof _0x4d9fef[_0x9c4899(0x32f)]?_0x4a33be['output']+_0x4d9fef[_0x9c4899(0x32f)]:_0x4d9fef[_0x9c4899(0x32f)],'outputTokens':_0x4d9fef['outputTokens']??_0x4a33be[_0x9c4899(0x213)],'inputTokens':_0x4d9fef[_0x9c4899(0x3c0)]??_0x4a33be['inputTokens']};}async[_0x677888(0x59f)](_0xd7da12,_0x3382ca){const _0x4e0ea2=_0x677888;if('prompt'===_0x3382ca['type']){const _0x4035b7=await _0x353947[_0x4e0ea2(0x70f)](_0x3382ca[_0x4e0ea2(0x94e)],_0x3382ca[_0x4e0ea2(0x3d7)]),_0x313d4c=_0x4035b7[_0x4e0ea2(0x21f)][_0x4e0ea2(0x8ab)](_0x176234=>_0x176234['type']===_0x3ba53a[_0x4e0ea2(0x288)]),_0x46d49a=await async function(_0x4eabea,_0x216469,_0xe71330,_0x180d47,_0x5d0323){const _0x328483=_0x4e0ea2,_0x26a1da=(0x0,_0x1514a8['v4'])(),_0x46574c=Date['now']();await _0x427409[_0x328483(0x686)]({'jobType':_0x4d885d[_0x328483(0x1a7)],'type':_0x14b496[_0x328483(0x4bc)],'jobId':_0x4eabea,'blockId':_0xe71330['id'],'agentId':_0x26a1da,'threadId':_0x216469['threadId'],'traceLevel':_0xaed68[_0x328483(0x47d)],'startTime':Date[_0x328483(0x9bd)](),'timestamp':Date['now'](),'status':_0x328483(0x3bf),'initialPrompt':_0x216469[_0x328483(0x19d)]});const _0x377e12={'type':_0x328483(0x19d),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x216469['internalContext']&&(_0x377e12[_0x328483(0x418)]=_0x216469[_0x328483(0x418)]),await _0x105be9(_0x216469,_0x377e12,_0xe71330,_0x180d47,_0x5d0323),await _0x4ba0ea(_0x4eabea,''+_0x216469[_0x328483(0x19d)],_0x216469,_0x377e12,_0xe71330,_0x180d47,_0x5d0323);const {inputTokens:_0x4192e3=0x0,outputTokens:_0x2f37c0=0x0,context:_0x525ddc=[]}=_0x377e12;await _0x427409['trace']({'jobType':_0x4d885d[_0x328483(0x1a7)],'type':_0x14b496[_0x328483(0x900)],'jobId':_0x4eabea,'agentId':_0x26a1da,'threadId':_0x216469[_0x328483(0x2a1)],'traceLevel':_0xaed68['Info'],'startTime':_0x46574c,'timestamp':Date['now'](),'blockId':_0xe71330['id'],'status':_0x328483(0x3bf),'output':_0x377e12[_0x328483(0x32f)]?.['toString']()??'','prompt':_0x216469[_0x328483(0x19d)],'agentName':'','history':_0x216469[_0x328483(0x507)]??[],'instructions':''+(_0x216469[_0x328483(0x43c)]??''),'ragContext':_0x525ddc,'inputTokens':_0x4192e3,'outputTokens':_0x2f37c0});const _0x4b28d5=_0x180d47[_0x328483(0x8ab)](_0x38afa0=>_0x38afa0[_0x328483(0xb0f)]===_0x3ba53a[_0x328483(0x5d1)]);return{'type':'prompt','output':_0x377e12[_0x328483(0x32f)],'context':_0x377e12[_0x328483(0x2b8)],'internalContext':_0x377e12[_0x328483(0x418)],'resultFile':await _0x4b28d5?.[_0x328483(0x8e9)]?.[_0x328483(0x228)]?.[_0x328483(0x420)]()??void 0x0,'inputTokens':_0x377e12[_0x328483(0x3c0)]??0x0,'outputTokens':_0x377e12[_0x328483(0x213)]??0x0};}(_0xd7da12,_0x3382ca,_0x313d4c,_0x4035b7[_0x4e0ea2(0x21f)],{'documentParserConnector':this[_0x4e0ea2(0x8d9)],'fileConnector':this[_0x4e0ea2(0xa4b)],'nlpLibraryConnector':this[_0x4e0ea2(0x88f)],'generativeAIWorkerConnectors':this[_0x4e0ea2(0x1b7)],'models':Array[_0x4e0ea2(0x3fd)](this[_0x4e0ea2(0x2a7)][_0x4e0ea2(0x9c3)]()),'contentMediator':this[_0x4e0ea2(0xa61)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x4e0ea2(0x678)],'queryFileConnector':this[_0x4e0ea2(0xa7c)]});return _0x46d49a;}if(_0x4e0ea2(0x4ba)===_0x3382ca[_0x4e0ea2(0xb0f)])return await async function(_0x3d1fc0,_0x47b6ce){const _0x79cb24=_0x4e0ea2,_0x2c7c26={'type':_0x79cb24(0x19d),'inputTokens':0x0,'outputTokens':0x0};return await async function(_0x362597,_0x1742c7){const _0x3c6fe6=_0x79cb24,_0x555032=_0x1742c7[_0x3c6fe6(0x2a7)][_0x3c6fe6(0x8ab)](_0x5bd5c2=>_0x5bd5c2['id']===_0x362597[_0x3c6fe6(0x85a)]);if(!_0x555032)throw new Error('Model\x20not\x20found');const _0x309b79=_0x1742c7['generativeAIWorkerConnectors'][_0x3c6fe6(0x8ab)](_0x364dd9=>_0x364dd9['getEngineType']()===_0x555032[_0x3c6fe6(0x565)]);if(!_0x309b79)throw new Error('No\x20connector\x20found\x20for\x20model');return _0x309b79[_0x3c6fe6(0x2ae)]({'type':_0x3c6fe6(0x19d),'prompt':_0x362597[_0x3c6fe6(0x420)],'threadId':_0x362597[_0x3c6fe6(0x2a1)]},{'model':_0x555032,'sequences':0x1});}(_0x3d1fc0,_0x47b6ce),{'type':'prompt','output':_0x2c7c26[_0x79cb24(0x32f)],'inputTokens':_0x2c7c26[_0x79cb24(0x3c0)]??0x0,'outputTokens':_0x2c7c26[_0x79cb24(0x213)]??0x0};}(_0x3382ca,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x4e0ea2(0x88f)],'generativeAIWorkerConnectors':this[_0x4e0ea2(0x1b7)],'models':Array['from'](this[_0x4e0ea2(0x2a7)][_0x4e0ea2(0x9c3)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x4e0ea2(0x1cc)],'aiSearchConnector':this[_0x4e0ea2(0x678)],'queryFileConnector':this[_0x4e0ea2(0xa7c)]});if(_0x4e0ea2(0x437)===_0x3382ca['type'])return await async function(_0x480b09,_0x4f837b,_0x363c44){const _0x1b40a7=_0x4e0ea2,_0x3a0c28=(0x0,_0x1514a8['v4'])(),_0x4a3644={'type':_0x1b40a7(0x19d),'context':[],'internalContext':_0x4f837b[_0x1b40a7(0x418)]??{},'inputTokens':0x0,'outputTokens':0x0};return await async function(_0x3edaf6,_0x44d9b4,_0x536d44,_0x3849c6,_0x431e05){const _0x288246=_0x1b40a7,_0x3e5390=_0x431e05[_0x288246(0x2a7)][_0x288246(0x8ab)](_0x5e72a1=>_0x5e72a1['id']===_0x536d44['model']);if(!_0x3e5390)throw new Error(_0x288246(0x1ba));const _0x1cfa2a=_0x431e05[_0x288246(0x1b7)][_0x288246(0x8ab)](_0xce4034=>_0xce4034[_0x288246(0xa15)]()===_0x3e5390[_0x288246(0x565)]);if(!_0x1cfa2a)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x59a2c3=await _0x12f04b(_0x3edaf6,_0x44d9b4,_0x536d44,_0x3849c6,_0x536d44[_0x288246(0x22f)]??[],_0x431e05);return _0x1cfa2a[_0x288246(0x2ae)]({'type':_0x288246(0x19d),'prompt':_0x536d44[_0x288246(0x19d)],'instructions':_0x536d44[_0x288246(0x43c)],'reasoning':_0x536d44[_0x288246(0x60d)],'grammar':_0x536d44[_0x288246(0x3a1)],'temperature':_0x536d44[_0x288246(0x2aa)],'maxTokens':_0x536d44[_0x288246(0x4a3)],'history':_0x536d44['history'],'functions':_0x59a2c3,'threadId':_0x536d44[_0x288246(0x2a1)]},{'model':_0x3e5390,'sequences':Array[_0x288246(0x3fd)](_0x59a2c3[_0x288246(0x1fd)]())['some'](_0x10f714=>_0x10f714[_0x288246(0x2f5)](_0x288246(0x61d)))?0x2:0x1});}(_0x480b09,_0x3a0c28,_0x4f837b,_0x4a3644,_0x363c44),{'type':'prompt','output':_0x4a3644[_0x1b40a7(0x32f)],'context':_0x4a3644[_0x1b40a7(0x2b8)],'internalContext':_0x4a3644[_0x1b40a7(0x418)]??{},'inputTokens':_0x4a3644[_0x1b40a7(0x3c0)]??0x0,'outputTokens':_0x4a3644[_0x1b40a7(0x213)]??0x0};}(_0xd7da12,_0x3382ca,{'documentParserConnector':this[_0x4e0ea2(0x8d9)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x4e0ea2(0x88f)],'generativeAIWorkerConnectors':this[_0x4e0ea2(0x1b7)],'models':Array[_0x4e0ea2(0x3fd)](this[_0x4e0ea2(0x2a7)][_0x4e0ea2(0x9c3)]()),'contentMediator':this[_0x4e0ea2(0xa61)],'searchConnector':this[_0x4e0ea2(0x1cc)],'aiSearchConnector':this[_0x4e0ea2(0x678)],'queryFileConnector':this[_0x4e0ea2(0xa7c)]});if(_0x4e0ea2(0x98d)===_0x3382ca[_0x4e0ea2(0xb0f)])return await _0x427409[_0x4e0ea2(0x686)]({'jobType':_0x4d885d['Rating'],'type':_0x407bb2[_0x4e0ea2(0xa30)],'jobId':_0x3382ca[_0x4e0ea2(0x6c1)],'threadId':_0x3382ca['threadId'],'traceLevel':_0xaed68['Info'],'startTime':Date[_0x4e0ea2(0x9bd)](),'timestamp':Date['now'](),'status':_0x4e0ea2(0x3bf),'rating':_0x3382ca[_0x4e0ea2(0x721)],'feedback':_0x3382ca[_0x4e0ea2(0x6da)]}),{'type':'rate','status':_0x1736bb[_0x4e0ea2(0x622)][_0x4e0ea2(0x29f)]};if(_0x4e0ea2(0x32a)===_0x3382ca['type']){const _0x15d9ea=await async function(_0x45355d,_0x400377){const _0x14d7ba=_0x4e0ea2;let _0x1e0f77='';switch(_0x45355d[_0x14d7ba(0x4b2)][_0x14d7ba(0xb0f)]){case _0x1736bb[_0x14d7ba(0x2b6)][_0x14d7ba(0x887)]:case _0x1736bb[_0x14d7ba(0x2b6)][_0x14d7ba(0x1ea)]:_0x1e0f77=await _0x5f20ce(_0x45355d['vendorId'],_0x45355d[_0x14d7ba(0x4b2)],_0x400377,_0x45355d[_0x14d7ba(0x4e4)]);break;case _0x1736bb[_0x14d7ba(0x2b6)][_0x14d7ba(0x520)]:_0x1e0f77=await _0x53f10c(_0x400377,_0x45355d[_0x14d7ba(0x4e4)]);break;case _0x1736bb['GenerativeAIInferenceToolType']['Code']:_0x1e0f77=await _0x2740a1(_0x45355d[_0x14d7ba(0x4e4)]);break;case _0x1736bb[_0x14d7ba(0x2b6)][_0x14d7ba(0x4f4)]:case _0x1736bb[_0x14d7ba(0x2b6)][_0x14d7ba(0x661)]:_0x1e0f77=await _0x258959(_0x45355d[_0x14d7ba(0x94e)],_0x45355d[_0x14d7ba(0x4b2)],_0x45355d[_0x14d7ba(0x4e4)]);break;case _0x1736bb[_0x14d7ba(0x2b6)]['CustomSkill']:_0x1e0f77=await _0x5e94da(_0x45355d[_0x14d7ba(0x4b2)],_0x45355d[_0x14d7ba(0x4e4)]);break;case _0x1736bb[_0x14d7ba(0x2b6)][_0x14d7ba(0x740)]:_0x1e0f77=await _0x46d0b9(_0x45355d[_0x14d7ba(0x4e4)]);break;case _0x1736bb[_0x14d7ba(0x2b6)]['WebScraperRaw']:_0x1e0f77=await _0x46d0b9(_0x45355d['arguments'],!0x1);break;case _0x1736bb[_0x14d7ba(0x2b6)][_0x14d7ba(0x7fb)]:_0x1e0f77=await _0x5d7d64(_0x400377,_0x45355d[_0x14d7ba(0x4e4)]);}return{'type':'tool-call','output':_0x1e0f77};}(_0x3382ca,{'documentParserConnector':this[_0x4e0ea2(0x8d9)],'fileConnector':this[_0x4e0ea2(0xa4b)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x4e0ea2(0x1b7)],'models':Array[_0x4e0ea2(0x3fd)](this[_0x4e0ea2(0x2a7)][_0x4e0ea2(0x9c3)]()),'contentMediator':this[_0x4e0ea2(0xa61)],'searchConnector':this[_0x4e0ea2(0x1cc)],'aiSearchConnector':this[_0x4e0ea2(0x678)],'queryFileConnector':this[_0x4e0ea2(0xa7c)]});return _0x15d9ea;}if('realtime-session-create'===_0x3382ca['type']){const _0x2a7d30=await _0x353947['getWorkflow'](_0x3382ca[_0x4e0ea2(0x94e)],_0x3382ca[_0x4e0ea2(0x3d7)]),_0x4e118d=_0x2a7d30[_0x4e0ea2(0x21f)][_0x4e0ea2(0x8ab)](_0x47e809=>_0x47e809[_0x4e0ea2(0xb0f)]===_0x3ba53a['Agent']),_0x5d91e2=_0x2a7d30[_0x4e0ea2(0x21f)][_0x4e0ea2(0x3cc)](_0x59cf94=>_0x59cf94[_0x4e0ea2(0xa1c)]?.['some'](_0x30c417=>_0x30c417[_0x4e0ea2(0xb0f)]===_0x2582ba['Tool']&&_0x30c417[_0x4e0ea2(0x5f0)]===_0x4e118d['uid']));return{'type':_0x4e0ea2(0x497),'apiKey':this[_0x4e0ea2(0x586)],'modelId':_0x4e118d[_0x4e0ea2(0x6f8)],'instructions':_0x4e118d[_0x4e0ea2(0x43c)],'temperature':_0x4e118d[_0x4e0ea2(0x2aa)],'maxTokens':_0x4e118d['maxTokens'],'initialPrompt':_0x2a7d30[_0x4e0ea2(0x883)],'tools':_0x5d91e2[_0x4e0ea2(0x360)](_0x763c44=>({'type':_0x763c44['type'],'name':this[_0x4e0ea2(0x519)](_0x763c44),'description':this[_0x4e0ea2(0xac0)](_0x763c44),'parameters':this['getToolParams'](_0x763c44),'headers':_0x763c44[_0x4e0ea2(0xac3)]??[],'queryParameters':_0x763c44['queryParameters']??[],'bodyParameters':_0x763c44['bodyParameters']??[],'endpointUrl':_0x763c44[_0x4e0ea2(0x63a)]??'','endpointMethod':_0x763c44[_0x4e0ea2(0x70e)]??'','modelId':_0x763c44[_0x4e0ea2(0x85a)]??'','instructions':_0x763c44[_0x4e0ea2(0x43c)]??'','maxTokens':_0x763c44[_0x4e0ea2(0x4a3)]??0x0,'temperature':_0x763c44[_0x4e0ea2(0x2aa)]??0x0,'collectionId':_0x763c44[_0x4e0ea2(0xb0f)]===_0x3ba53a[_0x4e0ea2(0x4f4)]||_0x763c44[_0x4e0ea2(0xb0f)]===_0x3ba53a[_0x4e0ea2(0x661)]?_0x763c44['id']:''}))};}if('file-delete'===_0x3382ca[_0x4e0ea2(0xb0f)]){const {vendorId:_0x2e1d9a,collectionId:_0x5fda63,fileId:_0x1ad6ed}=_0x3382ca,_0x324378=await _0x353947[_0x4e0ea2(0x237)](_0x2e1d9a,_0x5fda63),_0x2c9d62=_0x324378[_0x4e0ea2(0x6eb)]?.[_0x4e0ea2(0x8ab)](_0x50dd9e=>_0x50dd9e[_0x4e0ea2(0xb0f)]===_0x11f239[_0x4e0ea2(0x288)]);if(!_0x2c9d62){if(!this[_0x4e0ea2(0x217)])throw new Error(_0x4e0ea2(0x554));return await this[_0x4e0ea2(0x217)][_0x4e0ea2(0x52b)](_0x5fda63,_0x1ad6ed),{'type':'file-delete'};}return this[_0x4e0ea2(0x843)](_0x324378,_0x1ad6ed),{'type':_0x4e0ea2(0x7b6)};}if('file-download'===_0x3382ca[_0x4e0ea2(0xb0f)]){let _0x9a4ac1;const _0x22a3c7=this[_0x4e0ea2(0x89f)][_0x4e0ea2(0x1fd)]();for(;!_0x9a4ac1;){const _0x4988ca=_0x22a3c7[_0x4e0ea2(0x291)]()[_0x4e0ea2(0x6fa)];if(!_0x4988ca)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x9a4ac1=this[_0x4e0ea2(0x89f)]['get'](_0x4988ca);try{const _0x305899=await _0x9a4ac1[_0x4e0ea2(0x8a1)](_0x3382ca[_0x4e0ea2(0x419)]);return{'type':_0x4e0ea2(0x8ec),'fileName':_0x305899[_0x4e0ea2(0x7ca)],'mimeType':_0x305899[_0x4e0ea2(0xb0f)],'document':await _0x305899[_0x4e0ea2(0x37f)]()};}catch(_0x39b1e0){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}if(_0x4e0ea2(0x9cf)===_0x3382ca[_0x4e0ea2(0xb0f)]){const {vendorId:_0x2e0439,collectionId:_0x63a4f6,fileName:_0x22171d,content:_0x38e4b6}=_0x3382ca,_0x62a431=await _0x353947[_0x4e0ea2(0x237)](_0x2e0439,_0x63a4f6),_0x37fa83=_0x62a431['retrieveBlocks']?.[_0x4e0ea2(0x8ab)](_0x453ad1=>_0x453ad1[_0x4e0ea2(0xb0f)]===_0x11f239[_0x4e0ea2(0x288)]);if(!_0x37fa83){if(!this[_0x4e0ea2(0x217)])throw new Error(_0x4e0ea2(0x554));return await this[_0x4e0ea2(0x217)][_0x4e0ea2(0x5c4)](_0x63a4f6,_0x22171d,_0x38e4b6),{'type':'file-ingest'};}const _0x2e8015=_0x62a431['ingestBlocks']?.[_0x4e0ea2(0x8ab)](_0x5207a6=>_0x5207a6[_0x4e0ea2(0xb0f)]===_0x11f239[_0x4e0ea2(0x371)]);if(!_0x2e8015)throw new Error('No\x20start\x20block\x20found');const _0x54f578=(0x0,_0x1514a8['v4'])();return _0x427409[_0x4e0ea2(0xab1)](_0x2e0439,_0x54f578),await async function(_0x10cdd0,_0x216168,_0x208945,_0x3b35bc,_0x50a27d,_0x402c90){const _0x1132a8=_0x4e0ea2;try{let _0x2a0d3b;switch(_0x3b35bc[_0x1132a8(0xb0f)]){case _0x11f239[_0x1132a8(0x371)]:const _0x5d8c3d=_0x402c90[_0x1132a8(0xa61)][_0x1132a8(0x1b2)](_0x3b35bc['id']);_0x2a0d3b=await _0x5d8c3d[_0x1132a8(0x8a1)](_0x208945);break;case _0x11f239[_0x1132a8(0xa76)]:const _0x4de140=_0x402c90[_0x1132a8(0xa61)][_0x1132a8(0x494)](_0x3b35bc['id']);_0x2a0d3b=await _0x4de140[_0x1132a8(0x8a1)](_0x208945);}if(!_0x2a0d3b)throw new Error(_0x1132a8(0x2d1));await _0x2127fa(_0x10cdd0,_0x216168,{'file':_0x2a0d3b,'pathName':_0x208945},_0x3b35bc,structuredClone(_0x50a27d),_0x402c90);}catch(_0x167e50){console[_0x1132a8(0x487)](_0x1132a8(0x741),_0x167e50);}}(_0x3382ca[_0x4e0ea2(0x94e)],_0x54f578,'./'+_0x22171d,_0x2e8015,_0x62a431[_0x4e0ea2(0x558)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x4e0ea2(0xa4b)],'nlpLibraryConnector':this[_0x4e0ea2(0x88f)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this[_0x4e0ea2(0x2a7)]['values']()),'contentMediator':this['contentMediator']}),_0x427409[_0x4e0ea2(0x86d)](_0x54f578),{'type':'file-ingest'};}if('file-list'===_0x3382ca[_0x4e0ea2(0xb0f)]){if(!this[_0x4e0ea2(0x217)])throw new Error(_0x4e0ea2(0x554));return{'type':_0x4e0ea2(0x8b4),'files':await this['ragConnector'][_0x4e0ea2(0x601)](_0x3382ca[_0x4e0ea2(0xaaa)])};}if(_0x4e0ea2(0x71a)===_0x3382ca[_0x4e0ea2(0xb0f)])return this['ragConnector']?(await this[_0x4e0ea2(0x217)][_0x4e0ea2(0x424)](_0x3382ca['collectionId']),{'type':'collection-create'}):{'type':'collection-create'};if(_0x4e0ea2(0x3b2)===_0x3382ca['type'])return this[_0x4e0ea2(0x217)]?(await this[_0x4e0ea2(0x217)]['deleteCollection'](_0x3382ca[_0x4e0ea2(0xaaa)]),{'type':_0x4e0ea2(0x3b2)}):{'type':_0x4e0ea2(0x3b2)};if(_0x4e0ea2(0x6fb)===_0x3382ca[_0x4e0ea2(0xb0f)]){const {query:_0x151d99,vendorId:_0x119700,collectionId:_0x127203}=_0x3382ca,_0x5e3dbb=await _0x353947[_0x4e0ea2(0x237)](_0x119700,_0x127203),_0x4e786b=_0x5e3dbb['retrieveBlocks']?.[_0x4e0ea2(0x8ab)](_0x4eb375=>_0x4eb375[_0x4e0ea2(0xb0f)]===_0x11f239['Prompt']);if(!_0x4e786b){if(!this['ragConnector'])throw new Error('No\x20RAG\x20connector\x20available');return{'type':_0x4e0ea2(0x6fb),'results':await this[_0x4e0ea2(0x217)][_0x4e0ea2(0x888)](_0x127203,_0x151d99)};}const _0x2566c5=await async function(_0x1eac5d,_0x991b8b,_0x291e1d,_0x347405,_0x57bbe2,_0x3917c8,_0x5dd402){const _0x531aa8=_0x4e0ea2,_0x47b539={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x50667d;await _0xa6d57d(_0x1eac5d,_0x991b8b,'',_0x347405,_0x47b539,_0x57bbe2,structuredClone(_0x3917c8),_0x5dd402),_0x47b539[_0x531aa8(0x2b8)][_0x531aa8(0x63b)]((_0xa5bcb7,_0x420c95)=>_0xa5bcb7+_0x420c95[_0x531aa8(0x6a6)][_0x531aa8(0x8a9)],0x0)>_0x251766&&(_0x50667d=Math['floor'](_0x251766/_0x47b539[_0x531aa8(0x2b8)][_0x531aa8(0x8a9)])),_0x47b539['output']=_0x531aa8(0x703)+_0x47b539[_0x531aa8(0x2b8)][_0x531aa8(0x360)](_0x30e22c=>_0x531aa8(0x31b)+_0x30e22c[_0x531aa8(0x294)]+':\x20'+_0x30e22c['content'][_0x531aa8(0x7ab)](0x0,_0x50667d))[_0x531aa8(0x729)]('\x0a');}catch(_0x147128){console[_0x531aa8(0x487)](_0x531aa8(0x98c),_0x147128);}return _0x47b539;}(_0x3382ca[_0x4e0ea2(0x94e)],_0xd7da12,0x0,_0x151d99,_0x4e786b,_0x5e3dbb[_0x4e0ea2(0x6eb)],{'documentParserConnector':this[_0x4e0ea2(0x8d9)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x4e0ea2(0x1b7)],'models':Array[_0x4e0ea2(0x3fd)](this[_0x4e0ea2(0x2a7)]['values']()),'contentMediator':this[_0x4e0ea2(0xa61)],'searchConnector':this[_0x4e0ea2(0x1cc)],'aiSearchConnector':this[_0x4e0ea2(0x678)],'queryFileConnector':this['queryFileConnector']});return _0x2566c5;}throw new Error(_0x4e0ea2(0x246));}async*[_0x677888(0x2a2)](_0x452507,_0x8bbc10){const _0x6c6038=_0x677888;if(_0x6c6038(0x19d)===_0x8bbc10[_0x6c6038(0xb0f)]){const _0x360b84=await _0x353947[_0x6c6038(0x70f)](_0x8bbc10[_0x6c6038(0x94e)],_0x8bbc10[_0x6c6038(0x3d7)]),_0x2cf53d=_0x360b84[_0x6c6038(0x21f)][_0x6c6038(0x8ab)](_0xd82e8=>_0xd82e8['type']===_0x3ba53a['Prompt']);for await(const _0x47dd32 of async function*(_0x1caf44,_0x5a03b0,_0x916c5,_0x5924e1,_0x4f74c9){const _0x86b54b=_0x6c6038,_0x45a5de=(0x0,_0x1514a8['v4'])(),_0x181b4e=Date[_0x86b54b(0x9bd)]();await _0x427409[_0x86b54b(0x686)]({'jobType':_0x4d885d[_0x86b54b(0x1a7)],'type':_0x14b496[_0x86b54b(0x4bc)],'jobId':_0x1caf44,'agentId':_0x45a5de,'threadId':_0x5a03b0[_0x86b54b(0x2a1)],'traceLevel':_0xaed68[_0x86b54b(0x47d)],'startTime':Date[_0x86b54b(0x9bd)](),'timestamp':Date[_0x86b54b(0x9bd)](),'blockId':_0x916c5['id'],'status':_0x86b54b(0x3bf),'initialPrompt':_0x5a03b0[_0x86b54b(0x19d)]});const _0x443526={'type':_0x86b54b(0x19d),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x5a03b0['internalContext']&&(_0x443526[_0x86b54b(0x418)]=_0x5a03b0['internalContext']);const _0x238c9d=new _0x49a005();await _0x105be9(_0x5a03b0,_0x443526,_0x916c5,_0x5924e1,_0x4f74c9),_0x4ba0ea(_0x1caf44,''+_0x5a03b0[_0x86b54b(0x19d)],_0x5a03b0,_0x443526,_0x916c5,_0x5924e1,_0x4f74c9,_0x238c9d);let _0x598829='',_0x429177={'type':_0x86b54b(0x19d)};for(;;){const _0x47e7a5=await _0x238c9d[_0x86b54b(0x3ee)]();if(!_0x47e7a5)break;_0x598829+=_0x47e7a5[_0x86b54b(0x32f)],_0x429177={'type':_0x86b54b(0x19d),'output':_0x47e7a5[_0x86b54b(0x32f)],'context':_0x443526['context'],'resultFile':void 0x0,'inputTokens':(_0x443526['inputTokens']??0x0)+(_0x47e7a5[_0x86b54b(0x3c0)]??0x0),'outputTokens':(_0x443526['outputTokens']??0x0)+(_0x47e7a5[_0x86b54b(0x213)]??0x0)},yield _0x429177;}const _0x2a1263=_0x5924e1[_0x86b54b(0x8ab)](_0xc60e24=>_0xc60e24[_0x86b54b(0xb0f)]===_0x3ba53a[_0x86b54b(0x5d1)]);yield{..._0x429177,'output':'','internalContext':_0x443526[_0x86b54b(0x418)],'resultFile':await _0x2a1263?.['accumulated']?.[_0x86b54b(0x228)]?.[_0x86b54b(0x420)]()??void 0x0};const {inputTokens:_0x5114f9=0x0,outputTokens:_0x5eedd0=0x0,context:_0x46006d=[]}=_0x429177;await _0x427409[_0x86b54b(0x686)]({'jobType':_0x4d885d[_0x86b54b(0x1a7)],'type':_0x14b496[_0x86b54b(0x900)],'jobId':_0x1caf44,'agentId':_0x45a5de,'threadId':_0x5a03b0['threadId'],'traceLevel':_0xaed68[_0x86b54b(0x47d)],'startTime':_0x181b4e,'timestamp':Date['now'](),'blockId':_0x916c5['id'],'status':_0x86b54b(0x3bf),'output':_0x598829,'prompt':_0x5a03b0['prompt'],'agentName':'','history':_0x5a03b0['history']??[],'instructions':''+(_0x5a03b0[_0x86b54b(0x43c)]??''),'ragContext':_0x46006d,'inputTokens':_0x5114f9,'outputTokens':_0x5eedd0});}(_0x452507,_0x8bbc10,_0x2cf53d,_0x360b84[_0x6c6038(0x21f)],{'documentParserConnector':this[_0x6c6038(0x8d9)],'fileConnector':this[_0x6c6038(0xa4b)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x6c6038(0x1b7)],'models':Array['from'](this[_0x6c6038(0x2a7)][_0x6c6038(0x9c3)]()),'contentMediator':this[_0x6c6038(0xa61)],'searchConnector':this[_0x6c6038(0x1cc)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x6c6038(0xa7c)]}))yield _0x47dd32;}if('inference'===_0x8bbc10[_0x6c6038(0xb0f)]){for await(const _0x28687d of async function*(_0x2c7bee,_0x19beb4,_0x542adf){const _0x410927=_0x6c6038,_0x501c3e=(0x0,_0x1514a8['v4'])(),_0xd9b762={'type':_0x410927(0x19d),'context':[],'internalContext':_0x19beb4['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x28e5de=new _0x49a005();!async function(_0x32632f,_0x2153c1,_0x2d9f6d,_0x218d4a,_0x2bfee7,_0x286980){const _0x14ce59=_0x410927,_0x3eaab9=_0x286980[_0x14ce59(0x2a7)][_0x14ce59(0x8ab)](_0x5e1334=>_0x5e1334['id']===_0x2d9f6d[_0x14ce59(0x85a)]);if(!_0x3eaab9)throw new Error(_0x14ce59(0x1ba));const _0x16457d=_0x286980[_0x14ce59(0x1b7)][_0x14ce59(0x8ab)](_0x16022b=>_0x16022b['getEngineType']()===_0x3eaab9[_0x14ce59(0x565)]);if(!_0x16457d)throw new Error(_0x14ce59(0xa8e));const _0x4f177a={'type':_0x14ce59(0x19d),'output':''},_0x2193e3=await _0x12f04b(_0x32632f,_0x2153c1,_0x2d9f6d,_0x218d4a,_0x2d9f6d[_0x14ce59(0x22f)]??[],_0x286980,_0x2bfee7);for await(const _0x2a246c of _0x16457d['processJobStream']({'type':_0x14ce59(0x19d),'prompt':_0x2d9f6d[_0x14ce59(0x19d)],'instructions':_0x2d9f6d[_0x14ce59(0x43c)],'reasoning':_0x2d9f6d[_0x14ce59(0x60d)],'grammar':_0x2d9f6d[_0x14ce59(0x3a1)],'temperature':_0x2d9f6d[_0x14ce59(0x2aa)],'maxTokens':_0x2d9f6d[_0x14ce59(0x4a3)],'history':_0x2d9f6d[_0x14ce59(0x507)],'functions':_0x2193e3,'threadId':_0x2d9f6d['threadId']},{'model':_0x3eaab9,'sequences':Array[_0x14ce59(0x3fd)](_0x2193e3[_0x14ce59(0x1fd)]())['some'](_0x264634=>_0x264634['startsWith'](_0x14ce59(0x61d)))?0x2:0x1}))_0x2bfee7[_0x14ce59(0x1af)](_0x2a246c),_0x14ce59(0x435)==typeof _0x4f177a[_0x14ce59(0x32f)]&&_0x14ce59(0x435)==typeof _0x2a246c[_0x14ce59(0x32f)]&&(_0x4f177a[_0x14ce59(0x32f)]+=_0x2a246c[_0x14ce59(0x32f)]),_0x4f177a[_0x14ce59(0x3c0)]=_0x2a246c[_0x14ce59(0x3c0)],_0x4f177a['outputTokens']=_0x2a246c[_0x14ce59(0x213)];_0x2bfee7[_0x14ce59(0x1af)](void 0x0);}(_0x2c7bee,_0x501c3e,_0x19beb4,_0xd9b762,_0x28e5de,_0x542adf);let _0x3a6144='',_0x38e8b8={'type':_0x410927(0x19d)};for(;;){const _0x595993=await _0x28e5de[_0x410927(0x3ee)]();if(!_0x595993)break;_0x3a6144+=_0x595993[_0x410927(0x32f)],_0x38e8b8={'type':_0x410927(0x19d),'output':_0x595993[_0x410927(0x32f)],'context':_0xd9b762[_0x410927(0x2b8)],'internalContext':{},'inputTokens':(_0xd9b762[_0x410927(0x3c0)]??0x0)+(_0x595993[_0x410927(0x3c0)]??0x0),'outputTokens':(_0xd9b762[_0x410927(0x213)]??0x0)+(_0x595993[_0x410927(0x213)]??0x0)},yield _0x38e8b8;}yield{..._0x38e8b8,'output':'','internalContext':_0xd9b762['internalContext']??{}};}(_0x452507,_0x8bbc10,{'documentParserConnector':this[_0x6c6038(0x8d9)],'fileConnector':this[_0x6c6038(0xa4b)],'nlpLibraryConnector':this[_0x6c6038(0x88f)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x6c6038(0x3fd)](this[_0x6c6038(0x2a7)][_0x6c6038(0x9c3)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x6c6038(0x678)],'queryFileConnector':this[_0x6c6038(0xa7c)]}))yield _0x28687d;}}async[_0x677888(0x1dd)](_0x57dad8,_0x23f1ae){const _0x2712ce=_0x677888;if(_0x2712ce(0x98d)===_0x23f1ae[_0x2712ce(0xb0f)])return _0x57dad8=_0x23f1ae[_0x2712ce(0x6c1)],void await this['openTrace'](_0x57dad8,_0x23f1ae[_0x2712ce(0x94e)],_0x23f1ae[_0x2712ce(0x3d7)]);await this['openTrace'](_0x57dad8,_0x23f1ae['vendorId'],_0x23f1ae['workflowId'],_0x23f1ae[_0x2712ce(0x2a1)]),await _0x427409[_0x2712ce(0x686)]({'jobType':_0x4d885d[_0x2712ce(0x6f4)],'type':_0x99e02c['Queued'],'traceLevel':_0xaed68[_0x2712ce(0x47d)],'jobId':_0x57dad8,'threadId':_0x23f1ae['threadId'],'startTime':Date[_0x2712ce(0x9bd)](),'timestamp':Date['now'](),'status':'success'});}async[_0x677888(0x33b)](_0x1f6cfd,_0x32229b){const _0x1e6c92=_0x677888;if(_0x1e6c92(0x98d)===_0x32229b[_0x1e6c92(0xb0f)])return _0x1f6cfd=_0x32229b[_0x1e6c92(0x6c1)],void await this['closeTrace'](_0x1f6cfd);await _0x427409[_0x1e6c92(0x686)]({'jobType':_0x4d885d[_0x1e6c92(0x6f4)],'type':_0x99e02c[_0x1e6c92(0x2d4)],'traceLevel':_0xaed68[_0x1e6c92(0x47d)],'jobId':_0x1f6cfd,'threadId':_0x32229b[_0x1e6c92(0x2a1)],'startTime':Date[_0x1e6c92(0x9bd)](),'timestamp':Date[_0x1e6c92(0x9bd)](),'status':_0x1e6c92(0x3bf)}),await this[_0x1e6c92(0x86d)](_0x1f6cfd,_0x32229b[_0x1e6c92(0x2a1)]);}[_0x677888(0x519)](_0x90720b){const _0x4eabcd=_0x677888;switch(_0x90720b[_0x4eabcd(0xb0f)]){case _0x3ba53a['Agent']:case _0x3ba53a[_0x4eabcd(0x1ea)]:return _0x4eabcd(0x61d)+_0x90720b[_0x4eabcd(0x7ca)]['replace'](/[^a-zA-Z]/g,'');case _0x3ba53a[_0x4eabcd(0x4f4)]:case _0x3ba53a[_0x4eabcd(0x661)]:return _0x4eabcd(0x34e)+_0x90720b[_0x4eabcd(0x7ca)]['replace'](/[^a-zA-Z]/g,'');case _0x3ba53a[_0x4eabcd(0x8a7)]:return _0x90720b[_0x4eabcd(0x7ca)]['replace'](/[^a-zA-Z]/g,'');case _0x3ba53a[_0x4eabcd(0x28d)]:return _0x4eabcd(0xa16);case _0x3ba53a[_0x4eabcd(0x8d1)]:return _0x4eabcd(0x78b);case _0x3ba53a[_0x4eabcd(0x7fb)]:return _0x4eabcd(0x4f2);case _0x3ba53a[_0x4eabcd(0x740)]:case _0x3ba53a[_0x4eabcd(0x90c)]:return _0x4eabcd(0x91d);default:return'';}}['getToolDescription'](_0x2b20c6){const _0x334bb4=_0x677888;switch(_0x2b20c6[_0x334bb4(0xb0f)]){case _0x3ba53a['Agent']:case _0x3ba53a[_0x334bb4(0x1ea)]:return'Execute\x20the\x20agent\x20'+_0x2b20c6[_0x334bb4(0x498)]+_0x334bb4(0x327);case _0x3ba53a[_0x334bb4(0x4f4)]:case _0x3ba53a['Knowledge']:return _0x334bb4(0xaeb)+_0x2b20c6[_0x334bb4(0x498)]+_0x334bb4(0x958);case _0x3ba53a[_0x334bb4(0x8a7)]:return _0x334bb4(0x67b)+_0x2b20c6[_0x334bb4(0x498)];case _0x3ba53a[_0x334bb4(0x28d)]:return _0x334bb4(0x660);case _0x3ba53a[_0x334bb4(0x8d1)]:return'Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.';case _0x3ba53a[_0x334bb4(0x7fb)]:return _0x334bb4(0x615);case _0x3ba53a['WebScraper']:case _0x3ba53a['WebScraperRaw']:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';default:return'';}}[_0x677888(0x4a0)](_0x13a4f5){const _0x26127f=_0x677888;switch(_0x13a4f5[_0x26127f(0xb0f)]){case _0x3ba53a['Agent']:case _0x3ba53a[_0x26127f(0x1ea)]:return[{'name':_0x26127f(0x19d),'type':'string'}];case _0x3ba53a[_0x26127f(0x4f4)]:case _0x3ba53a[_0x26127f(0x661)]:return[{'name':_0x26127f(0x7a9),'type':_0x26127f(0x435)}];case _0x3ba53a['CustomSkill']:return _0x13a4f5[_0x26127f(0x7e1)]['map'](_0x22dac7=>({'name':_0x22dac7[_0x26127f(0x7ca)],'type':_0x22dac7[_0x26127f(0xb0f)]??_0x26127f(0x435)}))??[];case _0x3ba53a[_0x26127f(0x28d)]:return[{'name':_0x26127f(0x9af),'type':_0x26127f(0x435)}];case _0x3ba53a[_0x26127f(0x8d1)]:return[{'name':_0x26127f(0x778),'type':_0x26127f(0x435)}];case _0x3ba53a[_0x26127f(0x7fb)]:return[{'name':_0x26127f(0x9af),'type':_0x26127f(0x435)}];case _0x3ba53a[_0x26127f(0x740)]:case _0x3ba53a[_0x26127f(0x90c)]:return[{'name':_0x26127f(0xb08),'type':_0x26127f(0x435)},{'name':_0x26127f(0x1d7),'type':'number'}];default:return[];}}[_0x677888(0x1b8)](){const _0xf97725=_0x677888;try{return this[_0xf97725(0x304)][_0xf97725(0x533)]()[_0xf97725(0x2a3)][_0xf97725(0x845)]*(0x1-this[_0xf97725(0x304)][_0xf97725(0x533)]()['gpu']['load']);}catch(_0x238aa6){return _0x5bf0c2[_0xf97725(0x5d7)](_0x86d570[_0xf97725(0x83c)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x238aa6),0x0;}}[_0x677888(0x971)](){const _0x19779e=_0x677888;this['isOpened']&&(this[_0x19779e(0x74e)]&&clearTimeout(this['debounceStats']),this[_0x19779e(0x74e)]=setTimeout(async()=>{const _0xafcd6a=_0x19779e;delete this['debounceStats'];let _0x1ea8c2=0x0;for(const _0x322e53 of this['dataStores'][_0xafcd6a(0x9c3)]())_0x1ea8c2+=await _0x322e53[_0xafcd6a(0x93a)]();this[_0xafcd6a(0x36c)][_0xafcd6a(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a['Content'],'content':{'type':_0x17da44[_0xafcd6a(0x55a)],'label':this['label'],'stats':{'timestamp':Date[_0xafcd6a(0x9bd)](),'storage':_0x1ea8c2,'messagesSent':this[_0xafcd6a(0xab5)],'messagesReceived':this[_0xafcd6a(0x930)],'bytesSent':this[_0xafcd6a(0xa13)],'bytesReceived':this[_0xafcd6a(0x697)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0xafcd6a(0x955)]}}});},_0x3025f9));}['logServiceEvent'](_0x58588c,_0x7ccf0){const _0x15ee5c=_0x677888,_0x2c16cd=this[_0x15ee5c(0x65c)],_0x3ea1ba=this[_0x15ee5c(0x3f9)]();_0x5bf0c2['logServiceEvent'](_0x1cdbf5[_0x15ee5c(0x25f)],{'topic':_0x2c16cd,'type':_0x15ee5c(0x493),'nodeId':_0x3ea1ba,'tokenCount':_0x7ccf0,'tokensPerSecond':_0x58588c});}async[_0x677888(0xab1)](_0x41c1fc,_0x96c432,_0x322730,_0xce1724){const _0x525fdc=_0x677888;try{if(!await _0x427409[_0x525fdc(0xab1)](_0x96c432,_0x41c1fc,_0x322730,_0xce1724))throw new Error(_0x525fdc(0x367));return _0x41c1fc;}catch(_0xc1c847){return console[_0x525fdc(0x487)](_0x525fdc(0x367),_0xc1c847),_0x525fdc(0xa75);}}async[_0x677888(0x86d)](_0x17bf2d,_0x40185d){const _0x2a8a41=_0x677888;try{await _0x427409[_0x2a8a41(0x86d)](_0x17bf2d,_0x40185d);}catch(_0x2eec8d){console[_0x2a8a41(0x487)](_0x2a8a41(0x226),{'jobId':_0x17bf2d,'error':_0x2eec8d});}}[_0x677888(0x843)](_0x3bc05c,_0x5c68fe){const _0x58cc01=_0x677888;for(const _0x17cdd1 of _0x3bc05c[_0x58cc01(0x558)]??[])_0x17cdd1[_0x58cc01(0xb0f)]===_0x11f239[_0x58cc01(0x2b3)]&&this[_0x58cc01(0xa61)][_0x58cc01(0x6a2)](_0x17cdd1['id'])[_0x58cc01(0x772)](_0x5c68fe),_0x17cdd1['type']===_0x11f239[_0x58cc01(0x726)]&&this[_0x58cc01(0xa61)][_0x58cc01(0x6bd)](_0x17cdd1['id'])[_0x58cc01(0x772)](_0x5c68fe);}}class _0x479f36 extends _0x5853dd{[_0x677888(0xa36)];['clusterId'];[_0x677888(0x94e)];['db'];[_0x677888(0x74e)];[_0x677888(0x315)]=0x0;[_0x677888(0xb1b)]=0x0;[_0x677888(0x862)]=!0x1;constructor(_0x14dbb9,_0x2cda46,_0x3402a8,_0x108b8d,_0x19ddeb){const _0x1a29eb=_0x677888;if(_0x1a29eb(0x435)!=typeof _0x2cda46)throw new _0x2ed9c0(_0x4e0a41[_0x1a29eb(0xad6)],_0x1a29eb(0x212));super(_0x14dbb9,_0x2cda46),this[_0x1a29eb(0xa36)]=_0x14dbb9,this[_0x1a29eb(0x8a2)]=_0x3402a8,this[_0x1a29eb(0x94e)]=_0x108b8d;const _0x1f2999='ccc'+this[_0x1a29eb(0x94e)]+_0x1a29eb(0x6be)+this[_0x1a29eb(0x8a2)]+'ccc'+this[_0x1a29eb(0x65c)];this['db']=new _0x19ddeb(_0x1f2999),this[_0x1a29eb(0x971)]();}[_0x677888(0x296)](){return this['isLoaded'];}[_0x677888(0xa71)](_0x46c886){this['isLoaded']=_0x46c886;}['destroy'](){const _0x1243c4=_0x677888;clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x1243c4(0x405)]();}['close'](){const _0x26c1e4=_0x677888;this[_0x26c1e4(0x36c)][_0x26c1e4(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a['Content'],'content':{'type':_0x17da44['CloseGraphDatabase'],'label':this[_0x26c1e4(0x65c)]}});}[_0x677888(0x5b3)](){const _0x237744=_0x677888;return _0x1736bb[_0x237744(0xa3c)][_0x237744(0x726)];}[_0x677888(0x79b)](){const _0x57ec58=_0x677888;this[_0x57ec58(0x971)]();}[_0x677888(0x242)](_0x3955f3,_0x23c6be,_0x57d5ec,_0x5d4247){const _0x33d1b9=_0x677888;this['db'][_0x33d1b9(0x242)](_0x3955f3,_0x23c6be,_0x57d5ec,_0x5d4247),this[_0x33d1b9(0x315)]+=0x1,this[_0x33d1b9(0x971)]();}['addEdge'](_0x1ccba0,_0x5a8c25){const _0x2b8379=_0x677888;this['db'][_0x2b8379(0x83a)](_0x1ccba0,_0x5a8c25),this[_0x2b8379(0x315)]+=0x1,this['sendStats']();}[_0x677888(0x933)](_0x51ad2f,_0x24860d,_0xbb865f){const _0x5145b9=_0x677888,_0x17feb7=this['db']['getContent'](_0x51ad2f,_0x24860d,_0xbb865f);return this[_0x5145b9(0xb1b)]+=0x1,_0x5bf0c2[_0x5145b9(0x44f)](_0x1cdbf5['GraphDatabase'],{'type':_0x5145b9(0xa3e),'label':this[_0x5145b9(0x65c)],'nodeId':this['localNode'][_0x5145b9(0x48e)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x5145b9(0x971)](),_0x17feb7;}[_0x677888(0x772)](_0x39ce0b){const _0x576fc3=_0x677888;this['db'][_0x576fc3(0x772)](_0x39ce0b),this[_0x576fc3(0x315)]+=0x1,this[_0x576fc3(0x971)]();}[_0x677888(0xa7f)](_0x2782f6){const _0x3d33fd=_0x677888;this['db'][_0x3d33fd(0xa7f)](_0x2782f6);}[_0x677888(0x6a0)](_0x26f069){const _0x52d88a=_0x677888;this['db'][_0x52d88a(0x6a0)](_0x26f069);}[_0x677888(0x971)](){const _0x502ca8=_0x677888;this[_0x502ca8(0x74e)]&&clearTimeout(this[_0x502ca8(0x74e)]),this[_0x502ca8(0x74e)]=setTimeout(async()=>{const _0x155cc3=_0x502ca8;delete this[_0x155cc3(0x74e)];const _0xb7686c=this['db'][_0x155cc3(0x93a)]();this['systemTopic'][_0x155cc3(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x155cc3(0xb04)],'content':{'type':_0x17da44[_0x155cc3(0x38f)],'label':this[_0x155cc3(0x65c)],'stats':{'timestamp':Date[_0x155cc3(0x9bd)](),'storage':_0xb7686c,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x155cc3(0x697)],'writes':this[_0x155cc3(0x315)],'reads':this[_0x155cc3(0xb1b)],'prompts':0x0,'tokens':0x0}}}),_0x5bf0c2[_0x155cc3(0x58b)](_0x1cdbf5['GraphDatabase'],_0x155cc3(0x6be)+this[_0x155cc3(0x8a2)]+'ccc'+this[_0x155cc3(0x65c)],_0xb7686c);},_0x3025f9);}}class _0x348f32 extends _0x3216a2{['mediaStream'];constructor(_0x440b88,_0x64d130,_0x425cbe){super(_0x440b88,_0x64d130),this['mediaStream']=_0x425cbe;}[_0x677888(0x5b3)](){const _0x27427e=_0x677888;return _0x1736bb[_0x27427e(0xa3c)][_0x27427e(0x2d6)];}[_0x677888(0xa54)](){const _0x315e25=_0x677888;return this[_0x315e25(0x876)];}[_0x677888(0x5bf)](){const _0x3cb652=_0x677888;return this[_0x3cb652(0x876)]['id'];}}class _0x5b1521 extends _0x348f32{['remoteId'];['params'];[_0x677888(0x2e1)];[_0x677888(0x1d5)]=_0x11d010();constructor(_0x4e0a34,_0x3de866,_0x349306,_0x2208fe,_0x624c56){const _0x3bbf9d=_0x677888;super(_0x4e0a34,_0x3de866,_0x349306),this[_0x3bbf9d(0x588)]=_0x2208fe,this[_0x3bbf9d(0xae9)]=_0x624c56;}['destroy'](){const _0x2b111d=_0x677888;this[_0x2b111d(0x909)](_0x2b111d(0x44b)),this[_0x2b111d(0x909)](_0x2b111d(0x4ff)),super[_0x2b111d(0x405)]();}[_0x677888(0x90e)](_0x42e947){const _0x350422=_0x677888;if(!this[_0x350422(0x2e1)])throw new _0x4dab04(_0x4dab04['codes'][_0x350422(0x5e8)],{'label':this['label'],'ownerId':this[_0x350422(0x32c)][_0x350422(0x48e)](),'remoteId':this[_0x350422(0x588)]});this[_0x350422(0x2e1)][_0x350422(0x6c6)]({'sourceId':this['owner'][_0x350422(0x48e)](),'content':{'action':_0x374938[_0x350422(0x29e)],'track':_0x42e947,'stream':this[_0x350422(0x876)],'priority':_0x1736bb[_0x350422(0xa2f)][_0x350422(0x8c3)],'params':this[_0x350422(0x6f9)](_0x42e947[_0x350422(0x20c)],this[_0x350422(0xae9)])}});}[_0x677888(0x909)](_0x9d503b){const _0x2ddf13=_0x677888,_0x3b2779=this[_0x2ddf13(0x970)](_0x9d503b);if(_0x3b2779){if(!this[_0x2ddf13(0x2e1)])return null;this[_0x2ddf13(0x2e1)][_0x2ddf13(0x6c6)]({'sourceId':this[_0x2ddf13(0x32c)][_0x2ddf13(0x48e)](),'content':{'action':_0x374938[_0x2ddf13(0x3c3)],'track':_0x3b2779,'stream':this[_0x2ddf13(0x876)]}});}return _0x3b2779;}['setPriority'](_0x5219e1){const _0x557fb4=_0x677888;if(!this[_0x557fb4(0x2e1)])throw new _0x4dab04(_0x4dab04['codes'][_0x557fb4(0x5e8)],{'label':this[_0x557fb4(0x65c)],'ownerId':this[_0x557fb4(0x32c)][_0x557fb4(0x48e)](),'remoteId':this[_0x557fb4(0x588)]});this[_0x557fb4(0x2e1)]['publish']({'sourceId':this[_0x557fb4(0x32c)][_0x557fb4(0x48e)](),'content':{'action':_0x374938[_0x557fb4(0x77f)],'priority':_0x5219e1,'stream':this[_0x557fb4(0x876)]}});}[_0x677888(0x576)]({trackKinds:_0x248ee0,params:_0x53b717},_0x99ecbe){const _0x1baa59=_0x677888;if(!this['topic'])throw new _0x4dab04(_0x4dab04['codes'][_0x1baa59(0x5e8)],{'label':this[_0x1baa59(0x65c)],'ownerId':this[_0x1baa59(0x32c)][_0x1baa59(0x48e)](),'remoteId':this[_0x1baa59(0x588)]});for(const _0x515757 of this[_0x1baa59(0x876)][_0x1baa59(0x57c)]())_0x248ee0[_0x1baa59(0xace)](_0x515757[_0x1baa59(0x20c)])&&this[_0x1baa59(0x2e1)][_0x1baa59(0x6c6)]({'sourceId':this[_0x1baa59(0x32c)][_0x1baa59(0x48e)](),'content':{'action':_0x374938[_0x1baa59(0x29e)],'track':_0x515757,'stream':this[_0x1baa59(0x876)],'priority':_0x99ecbe,'params':this['getInternalTrackParams'](_0x515757[_0x1baa59(0x20c)],_0x53b717)}});}[_0x677888(0x4a8)]({params:_0x1f659b}){const _0x54acc4=_0x677888;if(!this['topic'])throw new _0x4dab04(_0x4dab04[_0x54acc4(0x6ec)][_0x54acc4(0x5e8)],{'label':this[_0x54acc4(0x65c)],'ownerId':this['owner'][_0x54acc4(0x48e)](),'remoteId':this[_0x54acc4(0x588)]});for(const _0x342d46 of this['mediaStream']['getTracks']())this[_0x54acc4(0x2e1)][_0x54acc4(0x6c6)]({'sourceId':this[_0x54acc4(0x32c)][_0x54acc4(0x48e)](),'content':{'action':_0x374938[_0x54acc4(0x77f)],'stream':this[_0x54acc4(0x876)],'params':this[_0x54acc4(0x6f9)](_0x342d46['kind'],_0x1f659b)}});}[_0x677888(0xa24)]({trackKinds:_0x44e2b8}){const _0x3ec082=_0x677888;if(this[_0x3ec082(0x2e1)]){for(const _0x45d583 of this['mediaStream']['getTracks']())_0x44e2b8[_0x3ec082(0xace)](_0x45d583['kind'])&&this[_0x3ec082(0x2e1)][_0x3ec082(0x6c6)]({'sourceId':this[_0x3ec082(0x32c)]['getId'](),'content':{'action':_0x374938[_0x3ec082(0x3c3)],'stream':this[_0x3ec082(0x876)],'track':_0x45d583}});}}['registerPublisher'](_0x3ab112){const _0x1e9cd5=_0x677888;this[_0x1e9cd5(0x2e1)]=_0x3ab112;}['unregisterPublisher'](_0x41f4de){const _0x19c282=_0x677888;_0x41f4de===this[_0x19c282(0x2e1)]&&(delete this['topic'],this['unregisterPublisherListener'][_0x19c282(0x6c6)]());}[_0x677888(0xa1f)](_0x34e1f5){const _0x36d5cf=_0x677888;return this[_0x36d5cf(0x1d5)]['subscribe'](_0x34e1f5);}[_0x677888(0x970)](_0x16b61a){const _0x1c557d=_0x677888;return this[_0x1c557d(0x876)][_0x1c557d(0x57c)]()[_0x1c557d(0x8ab)](_0x260a8b=>_0x260a8b[_0x1c557d(0x20c)]===_0x16b61a)||null;}['getInternalTrackParams'](_0x593c17,_0x10d9fb){const _0x4a7341=_0x677888;let _0x43a6c3;return _0x4a7341(0x4ff)===_0x593c17&&_0x10d9fb?.[_0x4a7341(0x4ff)]&&_0x4a7341(0x638)!=typeof _0x10d9fb[_0x4a7341(0x4ff)]&&(_0x43a6c3={'kind':_0x4a7341(0x4ff),..._0x10d9fb[_0x4a7341(0x4ff)]},_0x43a6c3[_0x4a7341(0x70d)]=this[_0x4a7341(0x203)]()),_0x4a7341(0x44b)===_0x593c17&&_0x10d9fb?.[_0x4a7341(0x44b)]&&_0x4a7341(0x638)!=typeof _0x10d9fb[_0x4a7341(0x44b)]&&(_0x43a6c3={'kind':_0x4a7341(0x44b),..._0x10d9fb['audio']}),_0x43a6c3;}['getResolution'](){const _0x35a630=_0x677888;let _0x24da01={'width':0x0,'height':0x0};const _0x70ed6=this[_0x35a630(0x876)][_0x35a630(0x427)]();if(_0x70ed6[_0x35a630(0x8a9)]>0x0){const _0x6f0548=_0x70ed6[0x0][_0x35a630(0x370)]();_0x6f0548[_0x35a630(0x630)]&&_0x6f0548[_0x35a630(0x504)]&&(_0x24da01={'width':_0x6f0548[_0x35a630(0x630)],'height':_0x6f0548[_0x35a630(0x504)]});}return _0x24da01;}}class _0xf695dc extends _0x348f32{[_0x677888(0x8a2)];[_0x677888(0x35a)]=_0x1736bb[_0x677888(0xa2f)][_0x677888(0x8c3)];[_0x677888(0x265)]=new Map();['outgoingStreams']=new Map();constructor(_0x4a4fa8,_0x1233aa,_0x91609e,_0x55b097){const _0x41fba0=_0x677888;super(_0x4a4fa8,_0x1233aa,_0x91609e instanceof MediaStream?_0x91609e:_0x91609e[_0x41fba0(0xaf1)]?_0x91609e[_0x41fba0(0xaf1)]:_0x91609e[_0x41fba0(0x9e8)]()),this[_0x41fba0(0x8a2)]=_0x55b097,this[_0x41fba0(0x876)][_0x41fba0(0x57c)]()[_0x41fba0(0x938)](_0x512830=>this[_0x41fba0(0x41f)](_0x512830)),_0x5bf0c2['logServiceEvent'](_0x1cdbf5[_0x41fba0(0x2b0)],{'type':_0x41fba0(0x6c6),'label':this[_0x41fba0(0x65c)],'nodeId':this[_0x41fba0(0x32c)][_0x41fba0(0x48e)](),'nodeType':this[_0x41fba0(0x32c)][_0x41fba0(0xb0f)],'clusterId':this[_0x41fba0(0x8a2)],'streamId':this[_0x41fba0(0x5bf)](),'trackKinds':this[_0x41fba0(0x876)][_0x41fba0(0x57c)]()[_0x41fba0(0x360)](_0x227903=>_0x227903['kind'])});}[_0x677888(0x405)](){const _0x40ed1d=_0x677888;this[_0x40ed1d(0x2c6)]['size']>0x0&&(this[_0x40ed1d(0x2c6)][_0x40ed1d(0x938)](_0x1ef61b=>{const _0x57f120=_0x40ed1d;_0x1ef61b[_0x57f120(0x4dc)](),_0x1ef61b[_0x57f120(0x405)]();}),this['outgoingStreams'][_0x40ed1d(0x99d)]()),this[_0x40ed1d(0x265)][_0x40ed1d(0x938)](_0x1024ff=>_0x1024ff()),super[_0x40ed1d(0x405)]();}['publish'](_0x40ef8d){const _0x10fc24=_0x677888;this[_0x10fc24(0x36c)][_0x10fc24(0x6c6)]({'sourceId':this[_0x10fc24(0x32c)][_0x10fc24(0x48e)](),'destinationIds':_0x40ef8d?[_0x40ef8d]:void 0x0,'propagate':!0x0,'messageType':_0x59623a[_0x10fc24(0xb04)],'content':{'type':_0x17da44[_0x10fc24(0x9d0)],'ownerId':this['owner']['getId'](),'label':this[_0x10fc24(0x65c)],'stream':{'streamId':this[_0x10fc24(0x5bf)](),'availableTrackKinds':this['mediaStream']['getTracks']()[_0x10fc24(0x360)](_0x261b46=>_0x261b46[_0x10fc24(0x20c)])}}});}[_0x677888(0x232)](){const _0x3b9b9f=_0x677888;this[_0x3b9b9f(0x36c)]['publish']({'sourceId':this[_0x3b9b9f(0x32c)][_0x3b9b9f(0x48e)](),'propagate':!0x0,'messageType':_0x59623a[_0x3b9b9f(0xb04)],'content':{'type':_0x17da44[_0x3b9b9f(0xa97)],'ownerId':this['owner']['getId'](),'label':this[_0x3b9b9f(0x65c)]}}),this['systemTopic'][_0x3b9b9f(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x3b9b9f(0xb04)],'content':{'type':_0x17da44[_0x3b9b9f(0x655)],'label':this[_0x3b9b9f(0x65c)]}}),_0x5bf0c2['logServiceEvent'](_0x1cdbf5[_0x3b9b9f(0x2b0)],{'type':_0x3b9b9f(0x232),'label':this['label'],'nodeId':this[_0x3b9b9f(0x32c)][_0x3b9b9f(0x48e)](),'nodeType':this[_0x3b9b9f(0x32c)]['type'],'clusterId':this[_0x3b9b9f(0x8a2)],'streamId':this[_0x3b9b9f(0x5bf)]()});}[_0x677888(0x7a5)](){const _0x39d20f=_0x677888;return this[_0x39d20f(0x35a)];}[_0x677888(0x765)](_0x4e7141){const _0x48c600=_0x677888;this[_0x48c600(0x35a)]=_0x4e7141,this[_0x48c600(0x2c6)]['forEach'](_0x2c856=>_0x2c856[_0x48c600(0x765)](_0x4e7141));}[_0x677888(0x32d)](_0x2d72c1,_0x54d64b){const _0x234fbc=_0x677888;if(!this[_0x234fbc(0x2c6)][_0x234fbc(0x26b)](_0x2d72c1)){const _0xcfe1dc=new _0x5b1521(this[_0x234fbc(0x32c)],this[_0x234fbc(0x65c)],this[_0x234fbc(0x876)],_0x2d72c1,_0x54d64b),_0x5cc04e=_0xcfe1dc[_0x234fbc(0xa1f)](()=>{const _0x274ada=_0x234fbc;_0x5cc04e(),this['outgoingStreams']['get'](_0x2d72c1)?.[_0x274ada(0x405)](),this['outgoingStreams'][_0x274ada(0x60b)](_0x2d72c1);});this[_0x234fbc(0x2c6)]['set'](_0x2d72c1,_0xcfe1dc),_0xcfe1dc[_0x234fbc(0xaf0)](this[_0x234fbc(0x36c)]);}return this[_0x234fbc(0x2c6)][_0x234fbc(0x8a1)](_0x2d72c1);}[_0x677888(0x538)](){return this['mediaStream']['id'];}[_0x677888(0x5e1)](_0x1c1089){const _0x2ea1c9=_0x677888;this['systemTopic']['publish']({'sourceId':_0x158186,'messageType':_0x59623a[_0x2ea1c9(0xb04)],'content':{'type':_0x17da44['LocalMediaStreamTrackFail'],'label':this['label'],'trackKinds':[_0x1c1089[_0x2ea1c9(0x20c)]]}});}[_0x677888(0x41f)](_0x2eaf53){const _0x5283b2=_0x677888,_0x2313f6=()=>this[_0x5283b2(0x5e1)](_0x2eaf53);_0x2eaf53[_0x5283b2(0x6d1)]('ended',_0x2313f6),_0x2eaf53[_0x5283b2(0x6d1)](_0x5283b2(0x284),_0x2313f6),this['trackEndedListeners'][_0x5283b2(0x926)](_0x2eaf53[_0x5283b2(0x20c)],()=>{const _0x5a7fed=_0x5283b2;_0x2eaf53[_0x5a7fed(0xa7b)](_0x5a7fed(0x318),_0x2313f6),_0x2eaf53['removeEventListener'](_0x5a7fed(0x284),_0x2313f6),this[_0x5a7fed(0x265)][_0x5a7fed(0x60b)](_0x2eaf53[_0x5a7fed(0x20c)]);});}}class _0x372965 extends _0xf695dc{[_0x677888(0x9ab)];['transformations']=[];['clientStream'];['audioSource'];[_0x677888(0x867)];[_0x677888(0x3d1)];['canvas'];['context'];[_0x677888(0x2da)];constructor(_0x18598f,_0xa9aefe,_0x4c126c,_0x419e81,_0x11812a,_0x2fe974){const _0x438571=_0x677888;if(super(_0x18598f,_0xa9aefe,_0x4c126c,_0x2fe974),this[_0x438571(0x9ab)]=_0x11812a,this['clientStream']=this[_0x438571(0x876)],this[_0x438571(0x3d1)]=document[_0x438571(0x81f)](_0x438571(0x4ff)),this[_0x438571(0x3d1)][_0x438571(0x831)]=!0x0,this[_0x438571(0x3d1)][_0x438571(0xa85)]=!0x0,this[_0x438571(0x3d1)][_0x438571(0xaf1)]=this[_0x438571(0x751)],this[_0x438571(0x3d1)]['load'](),this[_0x438571(0x3d1)][_0x438571(0x984)]=()=>{const _0x52287f=_0x438571;this[_0x52287f(0x3d1)]['play']();},this['canvas']=document[_0x438571(0x81f)]('canvas'),this[_0x438571(0x2b8)]=this[_0x438571(0x2d3)]['getContext']('2d'),this[_0x438571(0x876)]=this[_0x438571(0x2d3)][_0x438571(0x9e8)](_0x419e81),this[_0x438571(0x867)]=this[_0x438571(0x9ab)]['createMediaStreamDestination'](),this[_0x438571(0x751)][_0x438571(0x620)]()[_0x438571(0x8a9)]>0x0){const _0x4b21bf=this[_0x438571(0x751)][_0x438571(0x620)]()[0x0];this['audioSource']=this['audioContext']['createMediaStreamSource'](new MediaStream([_0x4b21bf])),this[_0x438571(0x604)][_0x438571(0x2c3)](this['audioDestination']);}const _0x254423=this['audioDestination'][_0x438571(0x490)]['getTracks']()[0x0];this[_0x438571(0x876)][_0x438571(0x90e)](_0x254423),this[_0x438571(0x2da)]=setInterval(()=>{const _0x2f7799=_0x438571;this[_0x2f7799(0x2d3)][_0x2f7799(0x630)]=this[_0x2f7799(0x3d1)]['videoWidth'],this[_0x2f7799(0x2d3)][_0x2f7799(0x504)]=this[_0x2f7799(0x3d1)]['videoHeight'],this[_0x2f7799(0x3d1)]['videoWidth']?(0x0!==this[_0x2f7799(0x751)][_0x2f7799(0x427)]()[_0x2f7799(0x8a9)]&&this[_0x2f7799(0x751)][_0x2f7799(0x427)]()[0x0][_0x2f7799(0x745)]?this[_0x2f7799(0x876)][_0x2f7799(0x427)]()[0x0][_0x2f7799(0x745)]=!0x0:this['mediaStream']['getVideoTracks']()[0x0][_0x2f7799(0x745)]=!0x1,0x0!==this[_0x2f7799(0x751)][_0x2f7799(0x620)]()[_0x2f7799(0x8a9)]&&this[_0x2f7799(0x751)]['getAudioTracks']()[0x0]['enabled']?this['mediaStream'][_0x2f7799(0x620)]()[0x0][_0x2f7799(0x745)]=!0x0:this[_0x2f7799(0x876)]['getAudioTracks']()[0x0][_0x2f7799(0x745)]=!0x1,this[_0x2f7799(0x2b8)][_0x2f7799(0x4ca)](this[_0x2f7799(0x3d1)],0x0,0x0)):this[_0x2f7799(0x2b8)][_0x2f7799(0x9f6)](0x0,0x0,this[_0x2f7799(0x2d3)][_0x2f7799(0x630)],this[_0x2f7799(0x2d3)][_0x2f7799(0x504)]);},0x3e8/_0x419e81);}['destroy'](){const _0x412d8d=_0x677888;clearInterval(this[_0x412d8d(0x2da)]),this[_0x412d8d(0x3d1)][_0x412d8d(0x772)](),this[_0x412d8d(0x2d3)][_0x412d8d(0x772)](),this[_0x412d8d(0x604)]?.[_0x412d8d(0x730)](),this[_0x412d8d(0x867)][_0x412d8d(0x730)](),this[_0x412d8d(0x876)]['getTracks']()['forEach'](_0x125ea8=>{const _0x39cc77=_0x412d8d;_0x125ea8[_0x39cc77(0x6a4)](),this['mediaStream'][_0x39cc77(0x909)](_0x125ea8);}),super[_0x412d8d(0x405)]();}[_0x677888(0x90e)](_0x544d78){const _0x14c103=_0x677888,_0x420b41=this[_0x14c103(0x970)](_0x544d78[_0x14c103(0x20c)]);_0x420b41&&this[_0x14c103(0x909)](_0x420b41),'audio'!==_0x544d78[_0x14c103(0x20c)]?(_0x14c103(0x4ff)===_0x544d78[_0x14c103(0x20c)]&&this['addVideoTrack'](_0x544d78),this[_0x14c103(0x41f)](_0x544d78)):this['addAudioTrack'](_0x544d78);}[_0x677888(0x909)](_0x2ac454){const _0x356825=_0x677888,_0x485684=this['getTrackFromParam'](_0x2ac454);return _0x485684&&(_0x356825(0x44b)===_0x485684[_0x356825(0x20c)]&&(this['audioSource']?.[_0x356825(0x730)](),this[_0x356825(0x604)]=void 0x0),this[_0x356825(0x265)][_0x356825(0x8a1)](_0x485684['kind'])?.(),this[_0x356825(0x751)][_0x356825(0x909)](_0x485684)),_0x485684;}[_0x677888(0x25e)](_0x27d63f){const _0x4562f3=_0x677888;this[_0x4562f3(0x909)](_0x27d63f[_0x4562f3(0x20c)]),this[_0x4562f3(0x90e)](_0x27d63f);}['setTransformations'](_0x2d5af2){const _0x195b16=_0x677888;this[_0x195b16(0x1d8)]=_0x2d5af2;}[_0x677888(0x970)](_0x2734d6){const _0x2c725f=_0x677888;return this[_0x2c725f(0x751)]['getTracks']()[_0x2c725f(0x8ab)](_0x5698d9=>_0x5698d9[_0x2c725f(0x20c)]===_0x2734d6)||null;}[_0x677888(0xacd)](_0xae4318){const _0x3254c9=_0x677888;return _0x3254c9(0x435)==typeof _0xae4318?this[_0x3254c9(0x970)](_0xae4318):_0xae4318;}[_0x677888(0x316)](_0x1d5212){const _0x145afb=_0x677888;_0x145afb(0x376)===this[_0x145afb(0x9ab)][_0x145afb(0x393)]&&this[_0x145afb(0x9ab)]['resume'](),this[_0x145afb(0x751)][_0x145afb(0x90e)](_0x1d5212),this[_0x145afb(0x604)]=this[_0x145afb(0x9ab)]['createMediaStreamSource'](this[_0x145afb(0x751)]),this[_0x145afb(0x604)]['connect'](this[_0x145afb(0x867)]);}[_0x677888(0x608)](_0x544423){const _0x382647=_0x677888;this['clientStream']['addTrack'](_0x544423),this['sourceVideo'][_0x382647(0xa06)]();}}class _0x4e37f2 extends _0xf695dc{}class _0xf3a67e extends _0x5853dd{[_0x677888(0xa36)];[_0x677888(0x8a2)];[_0x677888(0x94e)];[_0x677888(0x55d)];[_0x677888(0x1c8)];[_0x677888(0x530)];[_0x677888(0x84d)];[_0x677888(0x5ac)];[_0x677888(0x913)]=new Map();[_0x677888(0x754)]=new Map();[_0x677888(0x987)]=new Map();[_0x677888(0x32b)]=new Map();[_0x677888(0xaa3)]=new Map();[_0x677888(0x8bc)]=new Map();[_0x677888(0x4b0)];['eventListener']=_0x484270();[_0x677888(0x590)]=new Map();[_0x677888(0x74e)];['writes']=0x0;[_0x677888(0xb1b)]=0x0;[_0x677888(0x515)]=!0x0;[_0x677888(0x358)]=!0x0;[_0x677888(0xae4)]=0x0;[_0x677888(0x799)]=0x0;constructor(_0x3d088b,_0x796ad7,_0x4b8e12,_0x1833b8,_0x26f91b,_0x226a6e,_0x3bf08b,_0x53008a){const _0x6501ff=_0x677888;if(_0x6501ff(0x435)!=typeof _0x796ad7)throw new _0x2ed9c0(_0x4e0a41[_0x6501ff(0x866)],_0x6501ff(0x7a4));super(_0x3d088b,_0x796ad7),this[_0x6501ff(0xa36)]=_0x3d088b,this['clusterId']=_0x4b8e12,this[_0x6501ff(0x94e)]=_0x1833b8,this[_0x6501ff(0x55d)]=_0x26f91b,this[_0x6501ff(0x1c8)]=_0x3bf08b,this[_0x6501ff(0x530)]=_0x53008a;const _0x403b7a='ccc'+this[_0x6501ff(0x94e)]+_0x6501ff(0x6be)+this[_0x6501ff(0x8a2)]+_0x6501ff(0x6be)+_0x796ad7;this['objectStoreConnector']=new _0x226a6e(_0x403b7a),this[_0x6501ff(0x515)]=this[_0x6501ff(0x530)]?.[_0x6501ff(0x515)]??!0x0,this[_0x6501ff(0x530)]?.[_0x6501ff(0x385)]&&(this[_0x6501ff(0x515)]=!0x1),this[_0x6501ff(0x971)]();}['reset'](){this['sendStats']();}[_0x677888(0x5b3)](){const _0x1a847a=_0x677888;return _0x1736bb[_0x1a847a(0xa3c)]['ObjectStore'];}async[_0x677888(0x2cd)](){const _0x560d0e=_0x677888;this[_0x560d0e(0x358)]=!0x0;try{const _0x4f154d=await this[_0x560d0e(0x4b0)][_0x560d0e(0x8a1)](_0x54e1da),_0x4310cb=await _0x4f154d[_0x560d0e(0x420)]();this[_0x560d0e(0x5ac)]=_0x4310cb;}catch(_0x490a2d){}this[_0x560d0e(0x84d)]=this[_0x560d0e(0x980)](async(_0x1b9570,_0x2ff1ca)=>{const _0x38344c=_0x560d0e;if(!(_0x2ff1ca instanceof File))try{if(_0x2ff1ca['payloadType']===_0x2f8a3f[_0x38344c(0xb0a)])return void this[_0x38344c(0x18a)](_0x2ff1ca);this[_0x38344c(0x854)](_0x2ff1ca);}catch(_0x4bd3fb){if(_0x4bd3fb instanceof _0x4dab04)throw _0x4bd3fb;throw new _0x4dab04(_0x4dab04[_0x38344c(0x6ec)][_0x38344c(0x3fe)],{'payload':_0x2ff1ca});}}),await this[_0x560d0e(0x702)](),this[_0x560d0e(0x515)]?await this[_0x560d0e(0x9da)]():this[_0x560d0e(0x6ef)](),this['sendStats']();}[_0x677888(0x405)](){const _0x36ea3e=_0x677888;this[_0x36ea3e(0x84d)]?.(),this['listenerUnsubscribers'][_0x36ea3e(0x938)](_0x5b8ed1=>_0x5b8ed1()),this[_0x36ea3e(0x590)][_0x36ea3e(0x99d)](),clearTimeout(this[_0x36ea3e(0x74e)]),delete this[_0x36ea3e(0x74e)],super[_0x36ea3e(0x405)]();}[_0x677888(0x7ed)](){const _0x51fae8=_0x677888;this[_0x51fae8(0x36c)]?.[_0x51fae8(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a['Content'],'content':{'type':_0x17da44[_0x51fae8(0x8c5)],'label':this[_0x51fae8(0x65c)]}});}[_0x677888(0x576)](_0xda26e6,_0x1ab734){const _0x1c44ea=_0x677888;if(this[_0x1c44ea(0x590)]['has'](_0xda26e6))throw new _0x2ed9c0(_0x4e0a41['ObjectStoreAlreadySubscribed'],_0x1c44ea(0x912));this[_0x1c44ea(0x590)]['set'](_0xda26e6,this[_0x1c44ea(0x3e9)][_0x1c44ea(0x576)](_0x1ab734)),this['isSyncing']||this['eventListener'][_0x1c44ea(0x6c6)]({'event':_0x1736bb['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this[_0x1c44ea(0xae4)]}});}['unsubscribe'](_0xd0948d){const _0x2b267f=_0x677888;this[_0x2b267f(0x590)][_0x2b267f(0x8a1)](_0xd0948d)?.(),this[_0x2b267f(0x590)]['delete'](_0xd0948d);}[_0x677888(0x6c6)](_0x3849e8){const _0x35c575=_0x677888;switch(_0x3849e8[_0x35c575(0x39b)]){case _0x1736bb['PayloadAction'][_0x35c575(0x3ca)]:return this[_0x35c575(0x662)](_0x3849e8[_0x35c575(0x228)],_0x3849e8[_0x35c575(0x885)],_0x3849e8[_0x35c575(0x530)]);case _0x1736bb[_0x35c575(0x3f5)]['Folder']:return this[_0x35c575(0x486)](_0x3849e8[_0x35c575(0x885)]);case _0x1736bb[_0x35c575(0x3f5)][_0x35c575(0xa93)]:return this[_0x35c575(0x96a)](_0x3849e8['path'],_0x3849e8['newPath']);default:throw new _0x2ed9c0(_0x4e0a41[_0x35c575(0x1b5)],_0x35c575(0x6d9)+_0x3849e8);}}async[_0x677888(0x232)](_0x34d73f){const _0x376bc8=_0x677888;try{const _0x25714c=(0x0,_0x1514a8['v4'])(),_0x55e4aa=this[_0x376bc8(0x5ac)],_0x581efd={'payloadType':_0x2f8a3f[_0x376bc8(0x24a)],'action':_0x1d95c4[_0x376bc8(0x63e)],'id':_0x25714c,'parentId':_0x55e4aa,'path':_0x34d73f};await this[_0x376bc8(0x36b)](_0x581efd);const _0x5c41d8=await this[_0x376bc8(0x58e)](_0x34d73f);!0x0!==this[_0x376bc8(0x530)]?.[_0x376bc8(0x385)]&&await this[_0x376bc8(0x4c2)](_0x581efd),_0x5bf0c2[_0x376bc8(0x44f)](_0x1cdbf5[_0x376bc8(0x2ef)],{'type':_0x376bc8(0x232),'label':this[_0x376bc8(0x65c)],'nodeId':this[_0x376bc8(0xa36)]['getId'](),'nodeType':this[_0x376bc8(0xa36)][_0x376bc8(0xb0f)],'clusterId':this['clusterId'],'kind':_0x5c41d8,'path':_0x34d73f}),this[_0x376bc8(0x315)]+=0x1,this[_0x376bc8(0x971)]();}catch(_0x3d40a7){if(_0x3d40a7 instanceof _0x4dab04)throw new _0x2ed9c0(_0x4e0a41[_0x376bc8(0x80f)],_0x376bc8(0x73c)+_0x34d73f+_0x376bc8(0x272));throw new _0x2ed9c0(_0x4e0a41[_0x376bc8(0x61c)],_0x376bc8(0x758)+_0x34d73f);}}async[_0x677888(0x8a1)](_0x5cfee0,_0x219010){const _0x114a24=_0x677888;_0x5bf0c2[_0x114a24(0x44f)](_0x1cdbf5[_0x114a24(0x2ef)],{'type':_0x114a24(0x8a1),'label':this[_0x114a24(0x65c)],'nodeId':this[_0x114a24(0xa36)][_0x114a24(0x48e)](),'nodeType':this[_0x114a24(0xa36)]['type'],'clusterId':this[_0x114a24(0x8a2)],'path':_0x5cfee0}),this[_0x114a24(0xb1b)]+=0x1,this['sendStats']();try{return await this[_0x114a24(0x4b0)]['get'](_0x5cfee0,_0x219010);}catch(_0xb7c859){try{await this[_0x114a24(0x4b0)][_0x114a24(0x8a1)](_0x5cfee0+_0x2293c7);}catch(_0x14212b){throw new _0x2ed9c0(_0x4e0a41[_0x114a24(0x61c)],_0x114a24(0x1ac)+_0x5cfee0);}throw new _0x2ed9c0(_0x4e0a41[_0x114a24(0x80f)],_0x114a24(0x253));}}async[_0x677888(0x7b5)](_0x3b397c,_0x1c8e92){const _0x781cdb=_0x677888,{recursive:_0xd6a346=!0x1,includeSyncingFiles:_0xedeefb=!0x1}=_0x1c8e92??{};_0x5bf0c2[_0x781cdb(0x44f)](_0x1cdbf5[_0x781cdb(0x2ef)],{'type':_0x781cdb(0x7b5),'label':this[_0x781cdb(0x65c)],'nodeId':this['localNode'][_0x781cdb(0x48e)](),'nodeType':this['localNode'][_0x781cdb(0xb0f)],'clusterId':this['clusterId'],'path':_0x3b397c}),this[_0x781cdb(0xb1b)]+=0x1,this['sendStats']();try{const _0x2da9fa=await this['objectStoreConnector'][_0x781cdb(0x7b5)](_0x3b397c,_0xd6a346);return this[_0x781cdb(0x496)](_0x2da9fa,{'recursive':_0xd6a346,'includeSyncingFiles':_0xedeefb});}catch(_0x46ffea){throw new _0x2ed9c0(_0x4e0a41['ObjectStoreInvalidPath'],_0x781cdb(0x359)+_0x3b397c);}}[_0x677888(0x9a6)](_0x2d40d4){const _0x4b8c59=_0x677888;this[_0x4b8c59(0x799)]+=0x1;for(const _0x413064 of this['objectRequests'][_0x4b8c59(0x9c3)]())this[_0x4b8c59(0x4c2)](_0x413064,[_0x2d40d4]);}[_0x677888(0x6f6)](_0x24049f){const _0x156dee=_0x677888;this[_0x156dee(0x799)]-=0x1;const _0x33e597=this[_0x156dee(0x987)]['get'](_0x24049f);if(_0x33e597){for(const [_0x1befb6,_0xddcbd6]of _0x33e597[_0x156dee(0x9c3)]())this[_0x156dee(0x9c4)](_0x1befb6,_0xddcbd6);this[_0x156dee(0x987)][_0x156dee(0x60b)](_0x24049f);}}async[_0x677888(0x93a)](_0x4a00a1='/'){const _0x1b50ab=_0x677888;try{return await this[_0x1b50ab(0x4b0)][_0x1b50ab(0x6c9)](_0x4a00a1);}catch(_0x239b85){if(_0x239b85 instanceof Error&&_0x239b85[_0x1b50ab(0x71b)][_0x1b50ab(0xace)](_0x1b50ab(0x5f2)))return 0x0;throw new _0x2ed9c0(_0x4e0a41[_0x1b50ab(0x61c)],_0x1b50ab(0x6b2)+_0x4a00a1);}}[_0x677888(0x6ef)](){const _0x4e5af4=_0x677888;this[_0x4e5af4(0x358)]&&(this[_0x4e5af4(0x358)]=!0x1,this['eventListener']['publish']({'event':_0x1736bb[_0x4e5af4(0x2fb)][_0x4e5af4(0x311)],'payload':{'filesSynced':this[_0x4e5af4(0xae4)]}}));}async[_0x677888(0x496)](_0x511056,{includeSyncingFiles:_0x4a303e=!0x1}){const _0x456b19=_0x677888,_0x44c51d=[];for(const _0x11bf05 of _0x511056)if(_0x11bf05[_0x456b19(0x20c)]!==_0x1736bb['ObjectKind'][_0x456b19(0xad0)]){if(_0x11bf05[_0x456b19(0x7ca)]!==_0x54e1da){if(_0x11bf05[_0x456b19(0x7ca)][_0x456b19(0x742)](_0x2293c7)){if(!_0x4a303e)continue;const _0x5eee47=_0x11bf05;if(_0x5eee47[_0x456b19(0x7ca)]=_0x5eee47[_0x456b19(0x7ca)]['replace'](_0x2293c7,''),_0x5eee47[_0x456b19(0x294)]=_0x5eee47[_0x456b19(0x294)][_0x456b19(0x267)](_0x2293c7,''),await this[_0x456b19(0xa6c)](_0x5eee47['pathName'])){_0x511056[_0x456b19(0x8ab)](_0x1844f4=>_0x1844f4['pathName']===_0x5eee47[_0x456b19(0x294)])[_0x456b19(0x99c)]=_0x1736bb['FileStatus']['Syncing'];continue;}_0x5eee47['status']=_0x1736bb[_0x456b19(0x51c)][_0x456b19(0x829)];}_0x44c51d[_0x456b19(0xa65)](_0x11bf05);}}else _0x11bf05[_0x456b19(0x3a0)]=await this[_0x456b19(0x496)](_0x11bf05[_0x456b19(0x3a0)]??[],{'includeSyncingFiles':_0x4a303e}),_0x44c51d['push'](_0x11bf05);return _0x44c51d;}async[_0x677888(0x662)](_0x5e8723,_0x5909c0,_0x54b0f6){const _0x606a24=_0x677888;try{const _0x26d1e2=(0x0,_0x1514a8['v4'])(),_0x10f8ab=await _0x5a7f07(_0x5e8723),_0x179bda=_0x4014e2(_0x5909c0??'/',_0x5e8723[_0x606a24(0x7ca)]);let _0x72ac7e=!0x0;const _0x5cdc82={'payloadType':_0x2f8a3f['Transaction'],'action':_0x1d95c4[_0x606a24(0x75a)],'id':_0x26d1e2,'parentId':this[_0x606a24(0x5ac)],'answererId':this[_0x606a24(0xa36)][_0x606a24(0x48e)](),'name':_0x5e8723[_0x606a24(0x7ca)],'type':_0x5e8723[_0x606a24(0xb0f)],'path':_0x5909c0??'/','skipEncryption':_0x54b0f6?.['skipEncryption']??!0x1,'checksum':_0x10f8ab};try{if(!_0x54b0f6?.[_0x606a24(0x1d1)])throw new Error(_0x606a24(0x895));const _0x45c6aa=_0x179bda+_0x2293c7;await this[_0x606a24(0x4b0)][_0x606a24(0x8a1)](_0x45c6aa),_0x72ac7e=!0x1,await this[_0x606a24(0x4b0)]['deleteObject'](_0x45c6aa),this[_0x606a24(0x754)]['delete'](_0x179bda);}catch(_0x23bc6c){await this['publishTransaction'](_0x5cdc82);}if(this[_0x606a24(0x515)]||this[_0x606a24(0x530)]?.['standalone']?await this[_0x606a24(0x394)](_0x5e8723,_0x5909c0,_0x54b0f6):await this[_0x606a24(0x2f6)](_0x5e8723['name'],_0x5909c0??'/',{'checksum':_0x10f8ab,'skipEncryption':_0x54b0f6?.[_0x606a24(0x911)]??!0x1}),this[_0x606a24(0x8bc)][_0x606a24(0x26b)](_0x179bda)){const [_0x5ea069,_0x27d50f]=this[_0x606a24(0x8bc)]['get'](_0x179bda);this[_0x606a24(0x8bc)]['set'](_0x179bda,[!0x0,_0x27d50f]);try{await _0x27d50f;}catch(_0x3af1ff){}this[_0x606a24(0x8bc)]['delete'](_0x179bda);}_0x72ac7e&&this[_0x606a24(0x799)]>0x0&&!0x0!==this[_0x606a24(0x530)]?.[_0x606a24(0x385)]&&await this['sendFile'](_0x5e8723,_0x5cdc82),_0x5bf0c2[_0x606a24(0x44f)](_0x1cdbf5[_0x606a24(0x2ef)],{'type':_0x606a24(0x6c6),'label':this[_0x606a24(0x65c)],'nodeId':this['localNode'][_0x606a24(0x48e)](),'nodeType':this[_0x606a24(0xa36)]['type'],'clusterId':this[_0x606a24(0x8a2)],'kind':_0x1736bb['ObjectKind']['File'],'path':_0x5909c0,'fileName':_0x5e8723[_0x606a24(0x7ca)],'fileType':_0x5e8723[_0x606a24(0xb0f)],'size':_0x5e8723[_0x606a24(0x22b)]}),this[_0x606a24(0x315)]+=0x1,this[_0x606a24(0x971)]();}catch(_0xa3f13d){if(_0xa3f13d instanceof _0x4dab04)throw new _0x2ed9c0(_0x4e0a41[_0x606a24(0x80f)],_0x606a24(0x253));throw new _0x2ed9c0(_0x4e0a41[_0x606a24(0x61c)],_0x606a24(0x732)+_0x5909c0+(_0x5909c0?.[_0x606a24(0x742)]('/')?'':'/')+_0x5e8723[_0x606a24(0x7ca)]);}}async['publishFolder'](_0x5a88f2){const _0x20b8b4=_0x677888;try{const _0x3757b8=(0x0,_0x1514a8['v4'])(),_0x5ae7c4=this[_0x20b8b4(0x5ac)],_0x4e4734={'payloadType':_0x2f8a3f['Transaction'],'action':_0x1d95c4[_0x20b8b4(0x480)],'id':_0x3757b8,'parentId':_0x5ae7c4,'path':_0x5a88f2};await this['publishTransaction'](_0x4e4734),await this[_0x20b8b4(0x4b0)][_0x20b8b4(0x645)](_0x5a88f2),!0x0!==this[_0x20b8b4(0x530)]?.[_0x20b8b4(0x385)]&&await this[_0x20b8b4(0x4c2)](_0x4e4734),_0x5bf0c2[_0x20b8b4(0x44f)](_0x1cdbf5['ObjectStorage'],{'type':_0x20b8b4(0x6c6),'label':this['label'],'nodeId':this[_0x20b8b4(0xa36)][_0x20b8b4(0x48e)](),'nodeType':this[_0x20b8b4(0xa36)][_0x20b8b4(0xb0f)],'clusterId':this[_0x20b8b4(0x8a2)],'kind':_0x1736bb['ObjectKind']['Folder'],'path':_0x5a88f2}),this['writes']+=0x1,this['sendStats']();}catch(_0x153a05){if(_0x153a05 instanceof _0x4dab04)throw new _0x2ed9c0(_0x4e0a41['ObjectStoreNotInSync'],_0x20b8b4(0x253));throw new _0x2ed9c0(_0x4e0a41[_0x20b8b4(0x61c)],_0x20b8b4(0x37e)+_0x5a88f2);}}async[_0x677888(0x96a)](_0x9308e1,_0x11469b){const _0x27918b=_0x677888;try{const _0x4db949=(0x0,_0x1514a8['v4'])(),_0xf1b3a3=this[_0x27918b(0x5ac)],_0x4adddb={'payloadType':_0x2f8a3f[_0x27918b(0x24a)],'action':_0x1d95c4[_0x27918b(0xa93)],'id':_0x4db949,'parentId':_0xf1b3a3,'path':_0x9308e1,'newPath':_0x11469b};await this[_0x27918b(0x36b)](_0x4adddb);const _0x144e41=await this[_0x27918b(0x6d4)](_0x9308e1,_0x11469b);!0x0!==this[_0x27918b(0x530)]?.[_0x27918b(0x385)]&&await this['send'](_0x4adddb),_0x5bf0c2[_0x27918b(0x44f)](_0x1cdbf5[_0x27918b(0x2ef)],{'type':_0x27918b(0xaa0),'label':this[_0x27918b(0x65c)],'nodeId':this['localNode'][_0x27918b(0x48e)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x27918b(0x8a2)],'kind':_0x144e41,'path':_0x9308e1,'newPath':_0x11469b}),this[_0x27918b(0x315)]+=0x1,this[_0x27918b(0x971)]();}catch(_0x22d659){if(_0x22d659 instanceof _0x4dab04)throw new _0x2ed9c0(_0x4e0a41['ObjectStoreNotInSync'],_0x27918b(0x253));throw new _0x2ed9c0(_0x4e0a41[_0x27918b(0x61c)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x9308e1);}}async[_0x677888(0x854)](_0x25f769,_0x1af939=!0x1){const _0x134683=_0x677888;if(this['lastTransactionId']&&_0x25f769[_0x134683(0x6ee)]!==this['lastTransactionId']&&_0x25f769['id']!==this['lastTransactionId']){if(!_0x25f769['parentId'])throw new _0x4dab04(_0x4dab04[_0x134683(0x6ec)][_0x134683(0x3fe)]);this['pendingSyncTransactions'][_0x134683(0x926)](_0x25f769['parentId'],_0x25f769);}else{try{await this[_0x134683(0x734)](_0x25f769,_0x1af939);}catch(_0x21cfca){}await this[_0x134683(0x7af)](_0x25f769['id']),await this[_0x134683(0x31a)](_0x25f769['id'],_0x1af939);}}async[_0x677888(0x734)](_0xc77399,_0x52628f=!0x1){const _0x3e1fa3=_0x677888;switch(_0xc77399[_0x3e1fa3(0x39b)]){case _0x1d95c4['FileWrite']:await this[_0x3e1fa3(0xb10)](_0xc77399);break;case _0x1d95c4[_0x3e1fa3(0x480)]:await this[_0x3e1fa3(0x257)](_0xc77399);break;case _0x1d95c4['Move']:await this[_0x3e1fa3(0x52c)](_0xc77399,_0x52628f);break;case _0x1d95c4[_0x3e1fa3(0x63e)]:await this[_0x3e1fa3(0x244)](_0xc77399,_0x52628f);break;default:throw new _0x4dab04(_0x4dab04[_0x3e1fa3(0x6ec)][_0x3e1fa3(0x3fe)],{'payload':_0xc77399});}}async['processPendingSyncTransactions'](_0x1719cb,_0x2ccc1c=!0x1){const _0x14cf34=_0x677888;if(this[_0x14cf34(0x913)][_0x14cf34(0x26b)](_0x1719cb)){const _0x433050=this[_0x14cf34(0x913)][_0x14cf34(0x8a1)](_0x1719cb);this[_0x14cf34(0x913)][_0x14cf34(0x60b)](_0x1719cb),await this[_0x14cf34(0x854)](_0x433050,_0x2ccc1c);}}async['handleRequestPayload'](_0x28b8f0){const _0x38d1bc=_0x677888;switch(_0x28b8f0[_0x38d1bc(0x39b)]){case _0x1d95c4['RequestFile']:return this[_0x38d1bc(0x611)](_0x28b8f0);case _0x1d95c4['RequestAccepted']:return this[_0x38d1bc(0x631)](_0x28b8f0);case _0x1d95c4[_0x38d1bc(0x76a)]:return this[_0x38d1bc(0x4f6)](_0x28b8f0);case _0x1d95c4[_0x38d1bc(0x512)]:return this[_0x38d1bc(0xb10)](_0x28b8f0);default:throw new _0x4dab04(_0x4dab04[_0x38d1bc(0x6ec)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x28b8f0});}}async[_0x677888(0xb10)](_0x17e976,_0x47fc12=0x0){const _0x1bcd35=_0x677888,_0x316365=_0x4014e2(_0x17e976[_0x1bcd35(0x885)],_0x17e976[_0x1bcd35(0x7ca)]);if(!_0x17e976[_0x1bcd35(0x337)]||void 0x0===_0x17e976[_0x1bcd35(0x7fc)]||!_0x17e976[_0x1bcd35(0x85d)])return this[_0x1bcd35(0x7fe)][_0x1bcd35(0x60b)](_0x316365),void await this[_0x1bcd35(0x2f6)](_0x17e976[_0x1bcd35(0x7ca)],_0x17e976[_0x1bcd35(0x885)],{'checksum':_0x17e976[_0x1bcd35(0x9ae)],'skipEncryption':_0x17e976[_0x1bcd35(0x911)]});if(this['fileChunks'][_0x1bcd35(0x26b)](_0x316365)){const _0x4b599b=this[_0x1bcd35(0x7fe)][_0x1bcd35(0x8a1)](_0x316365);_0x4b599b[_0x1bcd35(0x9ae)]!==_0x17e976[_0x1bcd35(0x9ae)]&&(_0x4b599b[_0x1bcd35(0x490)]?.[_0x1bcd35(0x7ed)](),this[_0x1bcd35(0x7fe)][_0x1bcd35(0x60b)](_0x316365));}if(!this['fileChunks'][_0x1bcd35(0x26b)](_0x316365)){try{await this[_0x1bcd35(0x4b0)][_0x1bcd35(0x58e)](_0x316365);}catch(_0xdd997){}try{const _0x857007=this[_0x1bcd35(0x515)]?await this[_0x1bcd35(0x4b0)][_0x1bcd35(0x6af)](_0x316365,{'skipEncryption':_0x17e976[_0x1bcd35(0x911)]}):void 0x0,_0x3f65c7={'chunksReceived':_0x17e976[_0x1bcd35(0x51a)]??0x0,'bytesReceived':0x0,'stream':_0x857007,'checksum':_0x17e976[_0x1bcd35(0x9ae)]};this[_0x1bcd35(0x7fe)][_0x1bcd35(0x926)](_0x316365,_0x3f65c7),await this[_0x1bcd35(0x2f6)](_0x17e976['name'],_0x17e976[_0x1bcd35(0x885)],{'checksum':_0x17e976[_0x1bcd35(0x9ae)],'skipEncryption':_0x17e976['skipEncryption']});}catch(_0xe19332){}}const _0x27276e=this[_0x1bcd35(0x7fe)][_0x1bcd35(0x8a1)](_0x316365);if(_0x17e976[_0x1bcd35(0x9ae)]!==_0x27276e['checksum'])return;if(this[_0x1bcd35(0xa8a)](_0x17e976,_0x316365),this[_0x1bcd35(0x515)]){if(!_0x27276e[_0x1bcd35(0x490)])throw new _0x4dab04(_0x4dab04[_0x1bcd35(0x6ec)][_0x1bcd35(0x3fe)],{'message':_0x1bcd35(0x667)});let _0x301a00=_0x27276e[_0x1bcd35(0x698)];if(_0x17e976[_0x1bcd35(0x7fc)]!==_0x301a00){if(_0x301a00>_0x17e976[_0x1bcd35(0x7fc)])return;const _0x55082c=0x1000;if(_0x17e976[_0x1bcd35(0x7fc)]>_0x301a00+_0x55082c)return;if(_0x27276e[_0x1bcd35(0xaf9)]||(_0x27276e[_0x1bcd35(0xaf9)]=[]),_0x27276e['bufferedChunks'][_0x1bcd35(0x8a9)]>0x4000)throw this[_0x1bcd35(0x7fe)][_0x1bcd35(0x60b)](_0x316365),new _0x4dab04(_0x4dab04[_0x1bcd35(0x6ec)]['ObjectStoreInvalidSyncMessage'],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x27276e['bufferedChunks']['push'](_0x17e976);}try{_0x27276e[_0x1bcd35(0x698)]+=0x1,_0x27276e[_0x1bcd35(0x697)]+=_0x17e976[_0x1bcd35(0x337)][_0x1bcd35(0x2f4)],await _0x27276e['stream'][_0x1bcd35(0x505)](_0x17e976[_0x1bcd35(0x337)]);}catch(_0x27cd2c){if(console[_0x1bcd35(0x487)](_0x1bcd35(0x459),_0x27cd2c),_0x47fc12>0x3)throw this['fileChunks'][_0x1bcd35(0x60b)](_0x316365),console[_0x1bcd35(0x487)](_0x1bcd35(0x643),_0x27cd2c),new _0x4dab04(_0x4dab04[_0x1bcd35(0x6ec)]['ObjectStoreInvalidSyncMessage'],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this[_0x1bcd35(0xb10)](_0x17e976,_0x47fc12+0x1);}}try{await this[_0x1bcd35(0x1bc)](_0x27276e,_0x17e976[_0x1bcd35(0x7fc)]+0x1);}catch(_0x5a0808){throw this[_0x1bcd35(0x7fe)][_0x1bcd35(0x60b)](_0x316365),_0x5a0808;}if(this[_0x1bcd35(0x7fe)][_0x1bcd35(0x926)](_0x316365,_0x27276e),_0x27276e[_0x1bcd35(0x698)]<_0x17e976[_0x1bcd35(0x85d)])return;await this[_0x1bcd35(0xad7)](_0x316365),this['syncContent']&&(await this['deletePendingFile'](_0x17e976),_0x5bf0c2[_0x1bcd35(0x44f)](_0x1cdbf5[_0x1bcd35(0x2ef)],{'type':_0x1bcd35(0x2cd),'label':this['label'],'nodeId':this['localNode'][_0x1bcd35(0x48e)](),'nodeType':this[_0x1bcd35(0xa36)]['type'],'clusterId':this[_0x1bcd35(0x8a2)],'kind':_0x1736bb[_0x1bcd35(0x7c9)][_0x1bcd35(0x3ca)],'path':_0x17e976[_0x1bcd35(0x885)],'fileName':_0x17e976['name'],'fileType':_0x17e976[_0x1bcd35(0xb0f)],'size':_0x27276e[_0x1bcd35(0x697)]}));const _0xac67d8=this[_0x1bcd35(0x32b)]['get'](_0x17e976[_0x1bcd35(0x885)])??[];for(const _0x9ffa2f of _0xac67d8)await this['processTransactionPayload'](_0x9ffa2f);this[_0x1bcd35(0x32b)][_0x1bcd35(0x60b)](_0x17e976[_0x1bcd35(0x885)]),this[_0x1bcd35(0x3e9)]['publish']({'event':_0x1736bb['StorageEventType'][_0x1bcd35(0x75a)],'payload':{'file':{'kind':_0x1736bb['ObjectKind'][_0x1bcd35(0x3ca)],'path':_0x17e976['path'],'type':_0x17e976[_0x1bcd35(0xb0f)],'size':_0x27276e[_0x1bcd35(0x697)],'name':_0x17e976['name'],'pathName':_0x316365,'status':this[_0x1bcd35(0x515)]?_0x1736bb[_0x1bcd35(0x51c)][_0x1bcd35(0xaef)]:_0x1736bb[_0x1bcd35(0x51c)][_0x1bcd35(0x829)]}}}),this[_0x1bcd35(0x971)]();}async['manageBufferedChunks'](_0x19655f,_0x589136){const _0x4b0fe7=_0x677888,_0x4fa955=_0x19655f[_0x4b0fe7(0x490)];let _0x35930d=0x0;for(;_0x19655f[_0x4b0fe7(0xaf9)]&&_0x19655f[_0x4b0fe7(0xaf9)]['length']>0x0;){const _0x4d05a0=_0x19655f[_0x4b0fe7(0xaf9)][_0x4b0fe7(0x8ab)](_0x4ce982=>_0x4ce982[_0x4b0fe7(0x7fc)]===_0x589136+0x1);if(!_0x4d05a0)break;_0x19655f['bufferedChunks']=_0x19655f[_0x4b0fe7(0xaf9)]['filter'](_0x279298=>_0x279298[_0x4b0fe7(0x7fc)]!==_0x589136+0x1);try{await _0x4fa955[_0x4b0fe7(0x505)](_0x4d05a0[_0x4b0fe7(0x337)]),_0x589136++;}catch(_0x1c9cdc){if(console[_0x4b0fe7(0x487)](_0x4b0fe7(0x350),_0x1c9cdc),_0x35930d>0x3)throw console[_0x4b0fe7(0x487)](_0x4b0fe7(0x248),_0x1c9cdc),new _0x4dab04(_0x4dab04[_0x4b0fe7(0x6ec)][_0x4b0fe7(0x3fe)],{'message':_0x4b0fe7(0x248)});_0x35930d++;continue;}_0x19655f[_0x4b0fe7(0x698)]+=0x1,_0x19655f[_0x4b0fe7(0x697)]+=_0x4d05a0[_0x4b0fe7(0x337)][_0x4b0fe7(0x2f4)];}}async[_0x677888(0x257)](_0x32e9b5){const _0x287d6a=_0x677888;await this[_0x287d6a(0x4b0)]['createFolder'](_0x32e9b5[_0x287d6a(0x885)]);const [_0x18cdd4,_0x150f82]=_0x525ed9(_0x32e9b5[_0x287d6a(0x885)]);this[_0x287d6a(0x3e9)][_0x287d6a(0x6c6)]({'event':_0x1736bb[_0x287d6a(0x2fb)][_0x287d6a(0x480)],'payload':{'folder':{'kind':_0x1736bb[_0x287d6a(0x7c9)][_0x287d6a(0xad0)],'name':_0x150f82,'path':_0x18cdd4,'pathName':_0x32e9b5[_0x287d6a(0x885)]}}});}async[_0x677888(0x244)](_0x54b3a9,_0x36180d=!0x1){const _0x34718e=_0x677888;if(!_0x36180d&&!this['shouldProcessTransaction'](_0x54b3a9))return;const _0x156915=await this[_0x34718e(0x58e)](_0x54b3a9[_0x34718e(0x885)]),[_0x164ad8,_0x5c4f61]=_0x525ed9(_0x54b3a9['path']);this[_0x34718e(0x3e9)][_0x34718e(0x6c6)]({'event':_0x156915===_0x1736bb[_0x34718e(0x7c9)]['Folder']?_0x1736bb[_0x34718e(0x2fb)]['FolderDelete']:_0x1736bb[_0x34718e(0x2fb)]['FileDelete'],'payload':{'name':_0x5c4f61,'path':_0x164ad8,'pathName':_0x54b3a9['path']}}),this[_0x34718e(0x971)]();}async[_0x677888(0x52c)](_0x5419f9,_0x3511fb=!0x1){const _0x509be9=_0x677888;if(!_0x3511fb&&!this['shouldProcessTransaction'](_0x5419f9))return this['pendingFilesRename'][_0x509be9(0x926)](_0x5419f9['newPath'],this['pendingFilesRename'][_0x509be9(0x8a1)](_0x5419f9[_0x509be9(0x885)])??_0x5419f9[_0x509be9(0x885)]),void this[_0x509be9(0xaa3)][_0x509be9(0x60b)](_0x5419f9[_0x509be9(0x885)]);this[_0x509be9(0xaa3)]['delete'](_0x5419f9[_0x509be9(0x885)]);const _0x43b762=await this[_0x509be9(0x4b0)]['moveObject'](_0x5419f9[_0x509be9(0x885)],_0x5419f9[_0x509be9(0x1e6)]),[_0x57cbbc,_0x3ff9bb]=_0x525ed9(_0x5419f9[_0x509be9(0x885)]),[_0x18399b,_0x26f9fd]=_0x525ed9(_0x5419f9[_0x509be9(0x1e6)]);this[_0x509be9(0x3e9)][_0x509be9(0x6c6)]({'event':_0x43b762===_0x1736bb[_0x509be9(0x7c9)][_0x509be9(0xad0)]?_0x1736bb['StorageEventType'][_0x509be9(0x1f4)]:_0x1736bb[_0x509be9(0x2fb)][_0x509be9(0x44a)],'payload':{'name':_0x26f9fd,'path':_0x18399b,'pathName':_0x5419f9[_0x509be9(0x1e6)],'oldName':_0x3ff9bb,'oldPath':_0x57cbbc,'oldPathName':_0x5419f9[_0x509be9(0x885)]}}),this[_0x509be9(0x971)]();}['shouldProcessTransaction'](_0x5e7c1f){const _0x4d65aa=_0x677888,_0x1eb70a=this[_0x4d65aa(0xaa3)][_0x4d65aa(0x8a1)](_0x5e7c1f[_0x4d65aa(0x885)])??_0x5e7c1f[_0x4d65aa(0x885)];let _0x3d5c3d=!0x1;for(const _0x10823b of this[_0x4d65aa(0x7fe)][_0x4d65aa(0x1fd)]())if(_0x10823b[_0x4d65aa(0x2f5)](_0x1eb70a)){const _0x30328d=this['pendingFilesTransactions'][_0x4d65aa(0x8a1)](_0x10823b)??[];_0x30328d[_0x4d65aa(0xa65)](_0x5e7c1f),this[_0x4d65aa(0x32b)][_0x4d65aa(0x926)](_0x10823b,_0x30328d),_0x3d5c3d=!0x0;}return!_0x3d5c3d;}async[_0x677888(0x36b)](_0xe9f350){const _0x30cb2e=_0x677888;if(!this[_0x30cb2e(0x530)]?.[_0x30cb2e(0x385)]){if(!_0xe9f350['id'])throw new _0x4dab04(_0x4dab04[_0x30cb2e(0x6ec)][_0x30cb2e(0x3fe)],{'message':_0x30cb2e(0x39a)});if(_0xe9f350[_0x30cb2e(0x6ee)]!==this[_0x30cb2e(0x5ac)])throw new _0x4dab04(_0x4dab04[_0x30cb2e(0x6ec)][_0x30cb2e(0xa69)]);await this[_0x30cb2e(0x55d)][_0x30cb2e(0x8bd)](_0xe9f350,this[_0x30cb2e(0x65c)]),await this[_0x30cb2e(0x7af)](_0xe9f350['id']);}}async[_0x677888(0x7af)](_0xc759a9){const _0x142707=_0x677888;this[_0x142707(0x5ac)]=_0xc759a9;const _0x230cf3=new File([new Blob([this['lastTransactionId']])],_0x54e1da,{'type':'text/plain'});await this['writeFile'](_0x230cf3,'/');}async['handleFileRequest'](_0x18b5b2){const _0x5f421e=_0x677888;try{const _0x16883e=await this[_0x5f421e(0x8a1)](_0x18b5b2['path']+'/'+_0x18b5b2[_0x5f421e(0x7ca)],{'skipEncryption':_0x18b5b2[_0x5f421e(0x911)]}),_0x5d7971=await _0x5a7f07(_0x16883e);if(''!==_0x18b5b2[_0x5f421e(0x9ae)]&&_0x5d7971!==_0x18b5b2[_0x5f421e(0x9ae)])return;_0x18b5b2[_0x5f421e(0x377)]=this[_0x5f421e(0xa36)][_0x5f421e(0x48e)](),_0x18b5b2[_0x5f421e(0x39b)]=_0x1d95c4[_0x5f421e(0x328)],await this[_0x5f421e(0x4c2)](_0x18b5b2,[_0x18b5b2[_0x5f421e(0x2e2)]]);}catch(_0x1c2875){}}async[_0x677888(0x631)](_0x132a85){const _0x2fa2ee=_0x677888,_0x3ef9e7=_0x4014e2(_0x132a85[_0x2fa2ee(0x885)],_0x132a85[_0x2fa2ee(0x7ca)]);if(!this['objectRequests']['has'](_0x3ef9e7))return;const _0x4c034a=this[_0x2fa2ee(0x754)][_0x2fa2ee(0x8a1)](_0x3ef9e7);_0x4c034a[_0x2fa2ee(0x39b)]=_0x1d95c4[_0x2fa2ee(0x76a)];const _0x1d63a7=_0x132a85[_0x2fa2ee(0x377)];if(!_0x1d63a7)throw new _0x4dab04(_0x4dab04['codes'][_0x2fa2ee(0x3fe)],{'message':_0x2fa2ee(0x978)});if(this[_0x2fa2ee(0x754)][_0x2fa2ee(0x60b)](_0x3ef9e7),this[_0x2fa2ee(0x987)][_0x2fa2ee(0x26b)](_0x1d63a7)||this[_0x2fa2ee(0x987)][_0x2fa2ee(0x926)](_0x1d63a7,new Map()),this[_0x2fa2ee(0x987)][_0x2fa2ee(0x8a1)](_0x1d63a7)[_0x2fa2ee(0x926)](_0x3ef9e7,[_0x4c034a,this[_0x2fa2ee(0x68a)](_0x1d63a7,_0x3ef9e7)]),_0x4c034a['answererId']=_0x1d63a7,_0x4c034a[_0x2fa2ee(0x51a)]=this[_0x2fa2ee(0x7fe)][_0x2fa2ee(0x8a1)](_0x3ef9e7)?.[_0x2fa2ee(0x698)]??0x0,0x0===_0x4c034a[_0x2fa2ee(0x51a)])try{const [_0x50b460,_0x361828]=await this['checkExistingPendingFileContent'](_0x132a85[_0x2fa2ee(0x7ca)],_0x132a85[_0x2fa2ee(0x885)],_0x132a85[_0x2fa2ee(0x9ae)]);_0x50b460&&(_0x4c034a['startIndex']=_0x361828);}catch(_0x1b903b){}this[_0x2fa2ee(0x4c2)](_0x4c034a,[_0x1d63a7]);}async[_0x677888(0x4f6)](_0x44dc04){const _0x46f6a5=_0x677888,_0x24e967=_0x4014e2(_0x44dc04[_0x46f6a5(0x885)],_0x44dc04[_0x46f6a5(0x7ca)]),_0x15256f=await this[_0x46f6a5(0x8a1)](_0x24e967,{'skipEncryption':_0x44dc04[_0x46f6a5(0x911)]}),_0x51c180={..._0x44dc04,'answererId':this['localNode']['getId'](),'action':_0x1d95c4[_0x46f6a5(0x512)],'startIndex':_0x44dc04[_0x46f6a5(0x51a)]??0x0};await this[_0x46f6a5(0x87b)](_0x15256f,_0x51c180,[_0x44dc04[_0x46f6a5(0x2e2)]]);}async['sendFile'](_0x143f22,_0xc7e555,_0x4dbba8){let _0x4ac467,_0x4a7d1c;const _0x313e50=new Promise(async(_0xcaed6e,_0x1d40c8)=>{_0x4ac467=_0xcaed6e,_0x4a7d1c=_0x1d40c8;});return((async()=>{const _0x379319=a0_0x5cc9,_0x534f04=Math['ceil'](_0x143f22[_0x379319(0x22b)]/_0x16c951);let _0x2a83dc=_0xc7e555[_0x379319(0x51a)]??0x0;const _0xa82d36=_0x4014e2(_0xc7e555[_0x379319(0x885)],_0xc7e555[_0x379319(0x7ca)]);this[_0x379319(0x8bc)][_0x379319(0x926)](_0xa82d36,[!0x1,_0x313e50]);for await(const _0x206b30 of async function*(_0x3a2b0e,_0x38a4cd=0x0,_0x4f66f4){for await(const _0x442ecd of _0x135b2a(_0x3a2b0e,_0x38a4cd,_0x4f66f4))yield _0x442ecd;}(_0x143f22,_0x2a83dc,this[_0x379319(0x1c8)])){const [_0xf4bc5a]=this['fileSendingMap']['get'](_0xa82d36)??[];if(_0xf4bc5a)return this['fileSendingMap'][_0x379319(0x60b)](_0xa82d36),void _0x4a7d1c(new Error('File\x20sending\x20interrupted'));if(this[_0x379319(0x32b)][_0x379319(0x26b)](_0xa82d36)){const _0x11672f=this[_0x379319(0x32b)][_0x379319(0x8a1)](_0xa82d36);for(const _0x4b9598 of _0x11672f)if(_0x4b9598[_0x379319(0x39b)]===_0x1d95c4[_0x379319(0x75a)]||_0x4b9598[_0x379319(0x39b)]===_0x1d95c4[_0x379319(0x63e)])return;}const _0x482b41={..._0xc7e555,'type':_0x143f22['type'],'data':_0x206b30,'index':_0x2a83dc,'total':_0x534f04};this[_0x379319(0x4c2)](_0x482b41,_0x4dbba8),_0x2a83dc++;}const _0x43358b=setInterval(async()=>{const _0x20e08d=_0x379319;await this[_0x20e08d(0x1c8)]()>0x0||(clearInterval(_0x43358b),_0x4ac467());});this['fileSendingMap']['delete'](_0xa82d36);})()),_0x313e50;}async[_0x677888(0x566)](_0x11fbb8){const _0x261e2a=_0x677888;try{const _0x33b039=_0x4014e2(_0x11fbb8['path'],_0x11fbb8[_0x261e2a(0x7ca)]),_0x3b2486=_0x33b039+_0x2293c7;await this[_0x261e2a(0x58e)](_0x3b2486);const [,_0xe35263]=this['pendingFilesSyncing'][_0x261e2a(0x8a1)](_0x11fbb8[_0x261e2a(0x377)])?.[_0x261e2a(0x8a1)](_0x33b039)??[];_0xe35263&&(clearTimeout(_0xe35263),this['pendingFilesSyncing']['get'](_0x11fbb8[_0x261e2a(0x377)])['delete'](_0x33b039));}catch(_0x275d66){}0x0===this[_0x261e2a(0x987)]['get'](_0x11fbb8[_0x261e2a(0x377)])?.[_0x261e2a(0x22b)]&&this[_0x261e2a(0x987)]['delete'](_0x11fbb8[_0x261e2a(0x377)]),0x0===this[_0x261e2a(0x987)][_0x261e2a(0x22b)]&&0x0===this[_0x261e2a(0x754)][_0x261e2a(0x22b)]&&this[_0x261e2a(0x6ef)]();}async[_0x677888(0x702)](){const _0x582821=_0x677888;try{const _0x3480e8=await this[_0x582821(0x55d)][_0x582821(0x991)](this['label'],this[_0x582821(0x5ac)]);for(const _0x199b7f of _0x3480e8)await this[_0x582821(0x854)](_0x199b7f,!0x0);}catch(_0x1d6d59){if(_0x1d6d59 instanceof _0x4dab04&&_0x1d6d59[_0x582821(0x778)]===_0x4dab04[_0x582821(0x6ec)][_0x582821(0x570)]){await this[_0x582821(0x4b0)][_0x582821(0x58e)](_0x54e1da),delete this[_0x582821(0x5ac)];try{const _0xe6804e=await this[_0x582821(0x4b0)][_0x582821(0x7b5)]('/',!0x1);for(const _0x4578df of _0xe6804e)await this[_0x582821(0x4b0)][_0x582821(0x58e)](_0x4578df['pathName']);}catch(_0x4ba556){}return await this[_0x582821(0x702)]();}throw _0x1d6d59;}}async[_0x677888(0x9da)](){const _0xb3bd13=_0x677888,_0x46241e=await this[_0xb3bd13(0x7b5)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x3b26e1=async _0x4f0c45=>{const _0x16d48d=_0xb3bd13;for(const _0x34c210 of _0x4f0c45){if(_0x34c210[_0x16d48d(0x20c)]===_0x1736bb[_0x16d48d(0x7c9)]['Folder']){_0x34c210['entries']&&_0x34c210[_0x16d48d(0x3a0)][_0x16d48d(0x8a9)]>0x0&&await _0x3b26e1(_0x34c210[_0x16d48d(0x3a0)]);continue;}if(_0x34c210[_0x16d48d(0x99c)]!==_0x1736bb[_0x16d48d(0x51c)][_0x16d48d(0x829)])continue;const _0x26807d=await this[_0x16d48d(0x8a1)](_0x34c210[_0x16d48d(0x294)]+_0x2293c7),_0x213d63=JSON[_0x16d48d(0xa5d)](await _0x26807d['text']()),_0x1bff3e=_0x34c210['name'][_0x16d48d(0x267)](_0x2293c7,''),_0x7080ef={'payloadType':_0x2f8a3f[_0x16d48d(0xb0a)],'action':_0x1d95c4[_0x16d48d(0x483)],'sourceId':this['localNode'][_0x16d48d(0x48e)](),'type':'','path':_0x34c210[_0x16d48d(0x885)],'name':_0x1bff3e,'checksum':_0x213d63[_0x16d48d(0x9ae)],'skipEncryption':_0x213d63['skipEncryption']},_0x6caa7e=_0x4014e2(_0x34c210[_0x16d48d(0x885)],_0x1bff3e);this[_0x16d48d(0x754)][_0x16d48d(0x926)](_0x6caa7e,_0x7080ef);}};await _0x3b26e1(_0x46241e),0x0===this[_0xb3bd13(0x754)][_0xb3bd13(0x22b)]&&0x0===this[_0xb3bd13(0x987)][_0xb3bd13(0x22b)]&&this[_0xb3bd13(0x6ef)]();}async[_0x677888(0x2f6)](_0x2408d3,_0x26f8f2,_0xc14e53){const _0x11578a=_0x677888,_0x13b9e8=new File([new Blob([JSON[_0x11578a(0x247)](_0xc14e53)])],''+_0x2408d3+_0x2293c7,{'type':_0x11578a(0xaad)});await this[_0x11578a(0x394)](_0x13b9e8,_0x26f8f2);}async[_0x677888(0x2db)](_0x191f1b,_0x3510ef,_0x1538cf){const _0x42ccd7=_0x677888;try{const _0x2c8b18=_0x4014e2(_0x3510ef,_0x191f1b),_0x3b771d=_0x2c8b18+_0x2293c7,_0x418771=await this[_0x42ccd7(0x4b0)][_0x42ccd7(0x8a1)](_0x3b771d),{checksum:_0x3d4c76,skipEncryption:_0x5c0633}=JSON[_0x42ccd7(0xa5d)](await _0x418771[_0x42ccd7(0x420)]()),_0x3eea5d=(await this[_0x42ccd7(0x4b0)]['get'](_0x2c8b18,{'skipEncryption':_0x5c0633}))[_0x42ccd7(0x22b)];return _0x3d4c76===_0x1538cf&&_0x3eea5d%_0x16c951==0x0?[!0x0,Math[_0x42ccd7(0x6f3)](_0x3eea5d/_0x16c951)]:(await this[_0x42ccd7(0x4b0)][_0x42ccd7(0x58e)](_0x2c8b18),[!0x1,0x0]);}catch(_0x38efff){return[!0x1,0x0];}}[_0x677888(0x68a)](_0x16d8af,_0x567b7f){const _0x15a53c=_0x677888,[_0x11ad74,_0x276f09]=this[_0x15a53c(0x987)][_0x15a53c(0x8a1)](_0x16d8af)?.[_0x15a53c(0x8a1)](_0x567b7f)??[];return _0x276f09&&clearTimeout(_0x276f09),setTimeout(()=>{const _0x5715c6=_0x15a53c,[_0x3189e0,_0x3759a1]=this[_0x5715c6(0x987)][_0x5715c6(0x8a1)](_0x16d8af)[_0x5715c6(0x8a1)](_0x567b7f);this[_0x5715c6(0x9c4)](_0x3189e0,_0x3759a1);},0x927c0);}async[_0x677888(0x9c4)](_0x5613b0,_0x3b3380){const _0x5bae91=_0x677888;clearTimeout(_0x3b3380),_0x5613b0[_0x5bae91(0x39b)]=_0x1d95c4[_0x5bae91(0x483)],this[_0x5bae91(0x754)][_0x5bae91(0x926)](_0x4014e2(_0x5613b0['path'],_0x5613b0[_0x5bae91(0x7ca)]),_0x5613b0),this[_0x5bae91(0x4c2)](_0x5613b0);}[_0x677888(0xa8a)](_0x5bcf9c,_0x136241){const _0x3cf0ad=_0x677888;if(!this['syncContent'])return;this[_0x3cf0ad(0x987)][_0x3cf0ad(0x26b)](_0x5bcf9c[_0x3cf0ad(0x377)])||this[_0x3cf0ad(0x987)][_0x3cf0ad(0x926)](_0x5bcf9c[_0x3cf0ad(0x377)],new Map());const [_0x37ee74]=this[_0x3cf0ad(0x987)][_0x3cf0ad(0x8a1)](_0x5bcf9c[_0x3cf0ad(0x377)])[_0x3cf0ad(0x8a1)](_0x136241)??[{'payloadType':_0x2f8a3f['Request'],'action':_0x1d95c4[_0x3cf0ad(0x483)],'sourceId':this[_0x3cf0ad(0xa36)][_0x3cf0ad(0x48e)](),'type':_0x5bcf9c['type'],'name':_0x5bcf9c[_0x3cf0ad(0x7ca)],'path':_0x5bcf9c[_0x3cf0ad(0x885)],'skipEncryption':_0x5bcf9c['skipEncryption'],'checksum':_0x5bcf9c[_0x3cf0ad(0x9ae)],'answererId':_0x5bcf9c[_0x3cf0ad(0x377)]}];this[_0x3cf0ad(0x987)][_0x3cf0ad(0x8a1)](_0x5bcf9c['answererId'])[_0x3cf0ad(0x926)](_0x136241,[_0x37ee74,this[_0x3cf0ad(0x68a)](_0x5bcf9c[_0x3cf0ad(0x377)],_0x136241)]);}async[_0x677888(0x394)](_0x30d16d,_0x4f6103,_0x5887b7){const _0x324b22=_0x677888;this[_0x324b22(0x358)]&&(this['filesSynced']+=0x1),await this[_0x324b22(0x4b0)]['writeFile'](_0x30d16d,_0x4f6103,_0x5887b7);}async[_0x677888(0x58e)](_0x1c3d79){const _0xc24582=_0x677888;try{const _0x2bd7ab=await this[_0xc24582(0x4b0)][_0xc24582(0x58e)](_0x1c3d79);if(!_0x1c3d79['endsWith'](_0x2293c7))try{await this[_0xc24582(0x4b0)][_0xc24582(0x58e)](_0x1c3d79+_0x2293c7);}catch(_0x4fce27){}return this['isSyncing']&&_0x2bd7ab===_0x1736bb[_0xc24582(0x7c9)]['File']&&(this[_0xc24582(0xae4)]+=0x1),_0x2bd7ab;}catch(_0x41b789){return await this['objectStoreConnector'][_0xc24582(0x58e)](_0x1c3d79+_0x2293c7);}}async[_0x677888(0x6d4)](_0xb4f14d,_0x44b87c){const _0x52b6a5=_0x677888;try{const _0xa1fd30=await this[_0x52b6a5(0x4b0)][_0x52b6a5(0x6d4)](_0xb4f14d,_0x44b87c);if(!_0xb4f14d[_0x52b6a5(0x742)](_0x2293c7))try{await this[_0x52b6a5(0x4b0)]['moveObject'](_0xb4f14d+_0x2293c7,_0x44b87c+_0x2293c7);}catch(_0x1b24d2){}return _0xa1fd30;}catch(_0x35e4a5){return await this['objectStoreConnector'][_0x52b6a5(0x6d4)](_0xb4f14d+_0x2293c7,_0x44b87c+_0x2293c7);}}[_0x677888(0x971)](){const _0x4bd554=_0x677888;this['debounceStats']&&clearTimeout(this[_0x4bd554(0x74e)]),this['debounceStats']=setTimeout(async()=>{const _0x3f6e63=_0x4bd554;delete this[_0x3f6e63(0x74e)];const _0x54e793=await this[_0x3f6e63(0x4b0)][_0x3f6e63(0x6c9)]('/');this[_0x3f6e63(0x36c)]?.[_0x3f6e63(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x3f6e63(0xb04)],'content':{'type':_0x17da44['ObjectStoreStats'],'label':this[_0x3f6e63(0x65c)],'stats':{'timestamp':Date[_0x3f6e63(0x9bd)](),'storage':_0x54e793,'messagesSent':this[_0x3f6e63(0xab5)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3f6e63(0xa13)],'bytesReceived':this[_0x3f6e63(0x697)],'writes':this['writes'],'reads':this[_0x3f6e63(0xb1b)],'prompts':0x0,'tokens':0x0}}}),this[_0x3f6e63(0x515)]&&_0x5bf0c2[_0x3f6e63(0x58b)](_0x1cdbf5['ObjectStorage'],_0x3f6e63(0x6be)+this[_0x3f6e63(0x8a2)]+_0x3f6e63(0x6be)+this[_0x3f6e63(0x65c)],_0x54e793);},_0x3025f9);}async[_0x677888(0xa6c)](_0x1d9420){const _0x23ddd8=_0x677888;try{return await this[_0x23ddd8(0x8a1)](_0x1d9420),!0x0;}catch(_0x591324){return!0x1;}}async[_0x677888(0xad7)](_0x4bccd4){const _0x463f28=_0x677888;if(!this[_0x463f28(0x7fe)][_0x463f28(0x26b)](_0x4bccd4))return;const _0x365772=this['fileChunks'][_0x463f28(0x8a1)](_0x4bccd4);if(_0x365772[_0x463f28(0x490)])try{await _0x365772[_0x463f28(0x490)][_0x463f28(0x7ed)]();}catch(_0x10b9a7){console[_0x463f28(0x487)](_0x463f28(0x277),_0x10b9a7);}this[_0x463f28(0x7fe)]['delete'](_0x4bccd4);}}class _0x18ebb0 extends _0x5853dd{[_0x677888(0xa36)];[_0x677888(0x8a2)];[_0x677888(0x84d)]=new Map();[_0x677888(0x74e)];constructor(_0xb6e9a5,_0x40feca,_0x5e265e){const _0x531d41=_0x677888;if('string'!=typeof _0x40feca)throw new _0x2ed9c0(_0x4e0a41['PubSubTopicNameNotString'],_0x531d41(0x8a4));super(_0xb6e9a5,_0x40feca),this['localNode']=_0xb6e9a5,this[_0x531d41(0x8a2)]=_0x5e265e,this[_0x531d41(0x971)]();}[_0x677888(0x79b)](){const _0x4708dd=_0x677888;this[_0x4708dd(0x971)]();}[_0x677888(0x5b3)](){const _0x336d9b=_0x677888;return _0x1736bb[_0x336d9b(0xa3c)]['PubSub'];}['publish'](_0x32134b,_0x18c7cb){const _0x267d33=_0x677888;_0x5bf0c2[_0x267d33(0x5d7)](_0x86d570[_0x267d33(0x963)],'PubSubTopic\x20publish',this[_0x267d33(0xa36)][_0x267d33(0x48e)](),_0x32134b,_0x18c7cb),_0x5bf0c2[_0x267d33(0x44f)](_0x1cdbf5[_0x267d33(0x963)],{'type':_0x267d33(0x6c6),'label':this[_0x267d33(0x65c)],'nodeId':this['localNode'][_0x267d33(0x48e)](),'nodeType':this['localNode'][_0x267d33(0xb0f)],'clusterId':this['clusterId'],'remoteIds':_0x18c7cb??[],'contentType':_0x32134b instanceof File?_0x1736bb['ContentType']['File']:_0x1736bb[_0x267d33(0xa3c)][_0x267d33(0x5f5)],'size':_0x32134b instanceof File?_0x32134b[_0x267d33(0x22b)]:JSON['stringify'](_0x32134b)[_0x267d33(0x8a9)]}),this[_0x267d33(0x971)](),this['send'](_0x32134b,_0x18c7cb);}[_0x677888(0x576)](_0x5d320c,_0x2d08eb){const _0xf148ed=_0x677888;if(this[_0xf148ed(0x84d)][_0xf148ed(0x26b)](_0x5d320c))throw new _0x2ed9c0(_0x4e0a41['PubSubTopicAlreadySubscribed'],_0xf148ed(0xaca));this[_0xf148ed(0x84d)][_0xf148ed(0x926)](_0x5d320c,this[_0xf148ed(0x980)]((_0x4a9468,_0x246857)=>{const _0x5de32d=_0xf148ed;_0x5de32d(0x337)===_0x5d320c&&_0x246857 instanceof File||!(_0x5de32d(0x228)!==_0x5d320c||_0x246857 instanceof File)||(_0x5bf0c2[_0x5de32d(0x5d7)](_0x86d570[_0x5de32d(0x963)],'PubSubTopic\x20onMessage',this[_0x5de32d(0xa36)][_0x5de32d(0x48e)](),_0x4a9468,_0x246857),_0x5bf0c2['logServiceEvent'](_0x1cdbf5[_0x5de32d(0x963)],{'type':_0x5de32d(0x576),'label':this[_0x5de32d(0x65c)],'nodeId':this[_0x5de32d(0xa36)]['getId'](),'nodeType':this[_0x5de32d(0xa36)][_0x5de32d(0xb0f)],'clusterId':this[_0x5de32d(0x8a2)],'remoteId':_0x4a9468,'contentType':_0x5d320c,'size':_0x246857 instanceof File?_0x246857['size']:JSON[_0x5de32d(0x247)](_0x246857)['length']}),this[_0x5de32d(0x971)](),_0x2d08eb(_0x4a9468,_0x246857));}));}[_0x677888(0xa24)](_0x2fe250){const _0x9a52ad=_0x677888;this[_0x9a52ad(0x84d)][_0x9a52ad(0x8a1)](_0x2fe250)?.(),this['unsubscribeHandler'][_0x9a52ad(0x60b)](_0x2fe250);}[_0x677888(0x405)](){const _0x89e5b=_0x677888;this[_0x89e5b(0x84d)][_0x89e5b(0x938)](_0x453d18=>_0x453d18()),clearTimeout(this['debounceStats']),delete this[_0x89e5b(0x74e)],super[_0x89e5b(0x405)]();}[_0x677888(0x7ed)](){const _0x152a26=_0x677888;this[_0x152a26(0x36c)]?.[_0x152a26(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a['Content'],'content':{'type':_0x17da44[_0x152a26(0x70b)],'label':this['label']}});}[_0x677888(0x971)](){const _0x410c66=_0x677888;this[_0x410c66(0x74e)]&&clearTimeout(this['debounceStats']),this[_0x410c66(0x74e)]=setTimeout(()=>{const _0x4bac4e=_0x410c66;this[_0x4bac4e(0x36c)]?.[_0x4bac4e(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x4bac4e(0xb04)],'content':{'type':_0x17da44['PubSubTopicStats'],'label':this[_0x4bac4e(0x65c)],'stats':{'timestamp':Date[_0x4bac4e(0x9bd)](),'storage':0x0,'messagesSent':this[_0x4bac4e(0xab5)],'messagesReceived':this[_0x4bac4e(0x930)],'bytesSent':this[_0x4bac4e(0xa13)],'bytesReceived':this[_0x4bac4e(0x697)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x3025f9);}}class _0x58777d extends _0x348f32{[_0x677888(0xa36)];['internalId'];[_0x677888(0x46e)];[_0x677888(0x8a2)];[_0x677888(0x84d)];[_0x677888(0x802)];[_0x677888(0x5f9)];['outgoingStreams']=new Map();[_0x677888(0xa43)];[_0x677888(0x1a4)]=new Set();[_0x677888(0xa34)];['providerListener']=_0x484270();['trackEndedListeners']=new Map();constructor(_0x1a73ce,_0x51274b,_0x346a50,_0x42e005,_0x2c2181,_0x4b82f0){const _0xb113ca=_0x677888;super(_0x51274b,_0x346a50,new MediaStream()),this[_0xb113ca(0xa36)]=_0x1a73ce,this[_0xb113ca(0x82e)]=_0x42e005,this['availableTrackKinds']=_0x2c2181,this[_0xb113ca(0x8a2)]=_0x4b82f0,this[_0xb113ca(0x876)][_0xb113ca(0x57c)]()[_0xb113ca(0x938)](_0xe8b262=>this[_0xb113ca(0x41f)](_0xe8b262));}[_0x677888(0x405)](){const _0x492c1a=_0x677888;this['outgoingStreams'][_0x492c1a(0x22b)]>0x0&&(this['outgoingStreams'][_0x492c1a(0x938)](_0x219e4d=>{const _0x2c476e=_0x492c1a;_0x219e4d[_0x2c476e(0x4dc)](),_0x219e4d['destroy']();}),this['outgoingStreams'][_0x492c1a(0x99d)]()),this['trackEndedListeners'][_0x492c1a(0x938)](_0x44d5e6=>_0x44d5e6()),this[_0x492c1a(0x876)][_0x492c1a(0x57c)]()[_0x492c1a(0x938)](_0x163bb3=>this[_0x492c1a(0x876)][_0x492c1a(0x909)](_0x163bb3)),this['updateDebounce']&&(clearTimeout(this['updateDebounce']),delete this[_0x492c1a(0x5f9)]),this[_0x492c1a(0x802)]?.(),super[_0x492c1a(0x405)]();}[_0x677888(0x4b1)](_0x482ad3){const _0x31de91=_0x677888;this[_0x31de91(0x84d)]=_0x482ad3[_0x31de91(0x576)](({content:_0x30779d})=>{const _0x4b2bb1=_0x31de91;switch(_0x30779d[_0x4b2bb1(0x39b)]){case _0x374938[_0x4b2bb1(0x669)]:if(_0x5bf0c2[_0x4b2bb1(0x5d7)](_0x86d570['Subscription'],_0x4b2bb1(0x95a),this[_0x4b2bb1(0xa36)]['getId'](),this[_0x4b2bb1(0xa34)]),_0x30779d[_0x4b2bb1(0x490)]['id']!==this[_0x4b2bb1(0x82e)]||_0x30779d[_0x4b2bb1(0xa34)]!==this['providerId'])return;this['removeTrack'](_0x30779d[_0x4b2bb1(0x940)][_0x4b2bb1(0x20c)]),this[_0x4b2bb1(0x876)][_0x4b2bb1(0x90e)](_0x30779d['track']);for(const [_0x14bc44,_0xe8563b]of this[_0x4b2bb1(0x2c6)][_0x4b2bb1(0x3a0)]())try{_0xe8563b[_0x4b2bb1(0x90e)](_0x30779d[_0x4b2bb1(0x940)]);}catch(_0x5deb15){_0xe8563b['destroy'](),this[_0x4b2bb1(0x2c6)][_0x4b2bb1(0x60b)](_0x14bc44);}this[_0x4b2bb1(0x41f)](_0x30779d['track']),this[_0x4b2bb1(0x3b0)](),'video'===_0x30779d[_0x4b2bb1(0x940)][_0x4b2bb1(0x20c)]&&this[_0x4b2bb1(0xa43)]&&(this['mediaStream'][_0x4b2bb1(0xa53)]?setTimeout(()=>this[_0x4b2bb1(0xa43)]?.['play'](),0x0):setTimeout(()=>this[_0x4b2bb1(0xa43)]?.['load'](),0x0),this[_0x4b2bb1(0x2b9)]());break;case _0x374938[_0x4b2bb1(0x5c8)]:if(_0x30779d[_0x4b2bb1(0x490)]['id']!==this['internalId']||_0x30779d[_0x4b2bb1(0xa34)]!==this[_0x4b2bb1(0xa34)])return;this[_0x4b2bb1(0x909)](_0x30779d[_0x4b2bb1(0x940)]['kind']),this['renderElement']&&_0x4b2bb1(0x4ff)===_0x30779d[_0x4b2bb1(0x940)][_0x4b2bb1(0x20c)]&&(this[_0x4b2bb1(0x802)]?.(),this[_0x4b2bb1(0x876)][_0x4b2bb1(0x57c)]()[_0x4b2bb1(0x8a9)]>0x0?this[_0x4b2bb1(0xa43)][_0x4b2bb1(0xa06)]():this['renderElement'][_0x4b2bb1(0xaf1)]=null);}});}[_0x677888(0x2c2)](){const _0x281f0c=_0x677888;this[_0x281f0c(0x84d)]?.(),this[_0x281f0c(0x265)][_0x281f0c(0x938)](_0x353f94=>_0x353f94()),delete this[_0x281f0c(0x84d)];}[_0x677888(0x5bf)](){const _0x4290a7=_0x677888;return this[_0x4290a7(0x82e)];}['setInternalId'](_0x18b495){this['internalId']=_0x18b495;}[_0x677888(0x184)](){return this['availableTrackKinds'];}['hasTracks'](_0x6acf63){const _0x2a02fe=_0x677888;for(const _0x4cca3c of _0x6acf63||this[_0x2a02fe(0x46e)])if(!this['mediaStream'][_0x2a02fe(0x57c)]()['find'](_0x528319=>_0x528319[_0x2a02fe(0x20c)]===_0x4cca3c))return!0x1;return!0x0;}['getResolution'](){const _0x4ee6d2=_0x677888;let _0x48e3e6={'width':0x0,'height':0x0};const _0x53fcbe=this[_0x4ee6d2(0x876)][_0x4ee6d2(0x427)]();if(_0x53fcbe[_0x4ee6d2(0x8a9)]>0x0){const _0x2930c1=_0x53fcbe[0x0][_0x4ee6d2(0x370)]();_0x2930c1[_0x4ee6d2(0x630)]&&_0x2930c1[_0x4ee6d2(0x504)]&&(_0x48e3e6={'width':_0x2930c1[_0x4ee6d2(0x630)],'height':_0x2930c1[_0x4ee6d2(0x504)]});}return _0x48e3e6;}[_0x677888(0x92e)](_0x12b6c1){const _0x107674=_0x677888;for(const _0x326413 of _0x12b6c1)if(!this[_0x107674(0x1a4)][_0x107674(0x26b)](_0x326413))return!0x1;return!0x0;}[_0x677888(0x32d)](_0x140228,_0x9ee52c){const _0xd1ea11=_0x677888;if(!this[_0xd1ea11(0x2c6)][_0xd1ea11(0x26b)](_0x140228)){const _0x3c72fd=new _0x5b1521(this[_0xd1ea11(0x32c)],this[_0xd1ea11(0x65c)],this[_0xd1ea11(0x876)],_0x140228,_0x9ee52c),_0x105ab8=_0x3c72fd[_0xd1ea11(0xa1f)](()=>{const _0x1ab0b6=_0xd1ea11;_0x105ab8(),this[_0x1ab0b6(0x2c6)][_0x1ab0b6(0x8a1)](_0x140228)?.[_0x1ab0b6(0x405)](),this[_0x1ab0b6(0x2c6)][_0x1ab0b6(0x60b)](_0x140228);});this[_0xd1ea11(0x2c6)]['set'](_0x140228,_0x3c72fd),_0x3c72fd[_0xd1ea11(0xaf0)](this['systemTopic']);}return this['outgoingStreams'][_0xd1ea11(0x8a1)](_0x140228);}['getShareableStreamId'](){return this['mediaStream']['id'];}[_0x677888(0x7a5)](){const _0x596a09=_0x677888;return _0x1736bb[_0x596a09(0xa2f)]['Default'];}[_0x677888(0xa49)](){const _0x5170e7=_0x677888;return Array[_0x5170e7(0x3fd)](this['subscribedTracks']);}[_0x677888(0x576)](_0x3e01e2){const _0x439b77=_0x677888;let _0x156daf=[];if(_0x3e01e2){'object'!=typeof _0x3e01e2[_0x439b77(0x4ff)]||_0x3e01e2[_0x439b77(0x4ff)][_0x439b77(0xa43)]instanceof HTMLVideoElement||!this[_0x439b77(0xa43)]||(_0x3e01e2['video']={'renderElement':this[_0x439b77(0xa43)]});try{(0x0,_0x1736bb[_0x439b77(0x857)])(_0x3e01e2);}catch(_0xf38c80){throw new _0x2ed9c0(_0x4e0a41[_0x439b77(0x72e)],'Invalid\x20params');}_0x3e01e2['video']&&(_0x156daf[_0x439b77(0xa65)](_0x439b77(0x4ff)),_0x439b77(0x638)!=typeof _0x3e01e2['video']&&_0x3e01e2[_0x439b77(0x4ff)]['renderElement']&&(this[_0x439b77(0xa43)]=_0x3e01e2[_0x439b77(0x4ff)]['renderElement'],_0x3e01e2[_0x439b77(0x4ff)][_0x439b77(0x38a)]||(_0x3e01e2[_0x439b77(0x4ff)][_0x439b77(0x38a)]={'width':this[_0x439b77(0xa43)]['clientWidth'],'height':this[_0x439b77(0xa43)][_0x439b77(0x2b2)]}),delete _0x3e01e2['video'][_0x439b77(0xa43)])),_0x3e01e2[_0x439b77(0x44b)]&&_0x156daf[_0x439b77(0xa65)]('audio');}else _0x156daf=this[_0x439b77(0x184)]();this[_0x439b77(0x92e)](_0x156daf)||(_0x156daf['forEach'](_0x427901=>this[_0x439b77(0x1a4)][_0x439b77(0xa95)](_0x427901)),this['systemTopic'][_0x439b77(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x439b77(0xb04)],'content':{'type':_0x17da44['SubscribeMediaStream'],'label':this[_0x439b77(0x65c)],'ownerId':this[_0x439b77(0x32c)][_0x439b77(0x48e)](),'trackKinds':_0x156daf,'params':_0x3e01e2}}),_0x5bf0c2[_0x439b77(0x44f)](_0x1cdbf5['MediaStream'],{'type':_0x439b77(0x576),'label':this['label'],'nodeId':this[_0x439b77(0xa36)]['getId'](),'nodeType':this['localNode'][_0x439b77(0xb0f)],'clusterId':this[_0x439b77(0x8a2)],'sourceId':this[_0x439b77(0x32c)]['getId'](),'streamId':this['internalId'],'trackKinds':_0x156daf}));}[_0x677888(0x4a8)](_0x189409){const _0x25f499=_0x677888;try{(0x0,_0x1736bb[_0x25f499(0x857)])(_0x189409);}catch(_0x1b210f){throw new _0x2ed9c0(_0x4e0a41[_0x25f499(0x72e)],_0x25f499(0x42a));}this[_0x25f499(0x5f9)]&&clearTimeout(this[_0x25f499(0x5f9)]),this[_0x25f499(0x5f9)]=setTimeout(()=>{const _0x34cdae=_0x25f499;delete this[_0x34cdae(0x5f9)],this['systemTopic'][_0x34cdae(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x34cdae(0xb04)],'content':{'type':_0x17da44[_0x34cdae(0x79d)],'label':this[_0x34cdae(0x65c)],'ownerId':this[_0x34cdae(0x32c)][_0x34cdae(0x48e)](),'params':_0x189409}});},0x1f4);}[_0x677888(0xa24)](_0x2d96a8){const _0x17c6bb=_0x677888;_0x2d96a8||(_0x2d96a8=this[_0x17c6bb(0x184)]()),(_0x2d96a8=Array[_0x17c6bb(0xa42)](_0x2d96a8)?_0x2d96a8:[_0x2d96a8])['forEach'](_0x2b5d51=>this[_0x17c6bb(0x1a4)][_0x17c6bb(0x60b)](_0x2b5d51)),this[_0x17c6bb(0x36c)]['publish']({'sourceId':_0x158186,'messageType':_0x59623a[_0x17c6bb(0xb04)],'content':{'type':_0x17da44[_0x17c6bb(0xa7d)],'label':this[_0x17c6bb(0x65c)],'ownerId':this['owner']['getId'](),'trackKinds':_0x2d96a8,'remainingTracks':this[_0x17c6bb(0x1a4)][_0x17c6bb(0x22b)]}});}[_0x677888(0x1ec)](_0x17fc15){const _0x317abf=_0x677888;return this[_0x317abf(0x9c0)][_0x317abf(0x576)](_0x17fc15);}[_0x677888(0x69e)](){const _0x127722=_0x677888;return this[_0x127722(0xa34)];}[_0x677888(0x527)](_0x386e30){const _0x5407d5=_0x677888;this[_0x5407d5(0xa34)]!==_0x386e30&&(this[_0x5407d5(0xa34)]=_0x386e30,this['providerListener'][_0x5407d5(0x6c6)](_0x386e30));}[_0x677888(0x51e)](_0x2e5e5d){const _0x449656=_0x677888;this['trackEndedListeners'][_0x449656(0x8a1)](_0x2e5e5d)?.(),this['trackEndedListeners'][_0x449656(0x60b)](_0x2e5e5d);}['removeTrack'](_0x1f3a66){const _0x5e2e2e=_0x677888,_0x250bc2=this[_0x5e2e2e(0x876)][_0x5e2e2e(0x57c)]()[_0x5e2e2e(0x8ab)](_0x46f142=>_0x46f142[_0x5e2e2e(0x20c)]===_0x1f3a66);_0x250bc2&&(this[_0x5e2e2e(0x876)][_0x5e2e2e(0x909)](_0x250bc2),this[_0x5e2e2e(0x2c6)][_0x5e2e2e(0x938)](_0x64e69d=>_0x64e69d[_0x5e2e2e(0x909)](_0x1f3a66)),this[_0x5e2e2e(0x265)][_0x5e2e2e(0x8a1)](_0x1f3a66)?.());}[_0x677888(0x3b0)](){const _0x5b3abd=_0x677888;this[_0x5b3abd(0xa43)]&&(this[_0x5b3abd(0xa43)]['srcObject']&&this[_0x5b3abd(0xa43)][_0x5b3abd(0xaf1)]===this[_0x5b3abd(0x876)]||(this['renderElement']['srcObject']=this['mediaStream']));}[_0x677888(0x2b9)](){const _0x56e255=_0x677888;if(this[_0x56e255(0xa43)]&&!this['resizeHandler']&&'undefined'!=typeof ResizeObserver){let _0x334968=this['renderElement'][_0x56e255(0xadc)],_0x4a4bf6=this[_0x56e255(0xa43)][_0x56e255(0x2b2)];const _0x44d3d3=new ResizeObserver(_0x97a03e=>{const _0x1001a2=_0x56e255,{width:_0x3a9d0d,height:_0x297ecb}=_0x97a03e[0x0]['contentRect'];_0x334968===_0x3a9d0d&&_0x4a4bf6===_0x297ecb||(_0x334968=Math[_0x1001a2(0x8ca)](_0x3a9d0d),_0x4a4bf6=Math[_0x1001a2(0x8ca)](_0x297ecb),this[_0x1001a2(0x4a8)]({'video':{'maxResolution':{'width':_0x3a9d0d,'height':_0x297ecb}}}));});_0x44d3d3[_0x56e255(0x221)](this[_0x56e255(0xa43)]),this[_0x56e255(0x802)]=()=>_0x44d3d3[_0x56e255(0x730)]();}}[_0x677888(0x7fd)](_0x360430){const _0x522650=_0x677888,_0x428e13=[];for(const _0x1b691a of this[_0x522650(0x1a4)])this['removeTrack'](_0x1b691a),_0x428e13[_0x522650(0xa65)](_0x1b691a);this['providerId']&&this['systemTopic']['publish']({'sourceId':_0x158186,'messageType':_0x59623a['Content'],'content':{'type':_0x17da44[_0x522650(0x3d4)],'label':this[_0x522650(0x65c)],'streamId':this[_0x522650(0x82e)],'ownerId':this[_0x522650(0x32c)]['getId'](),'providerId':this[_0x522650(0xa34)],'trackKinds':_0x428e13}});}[_0x677888(0x41f)](_0x5e7526){const _0x3ffd85=_0x677888,_0x1d849a=()=>this['handleRemoteTrackFailure'](_0x5e7526);_0x5e7526[_0x3ffd85(0x6d1)](_0x3ffd85(0x318),_0x1d849a),_0x5e7526[_0x3ffd85(0x6d1)](_0x3ffd85(0x284),_0x1d849a),this[_0x3ffd85(0x265)][_0x3ffd85(0x926)](_0x5e7526['kind'],()=>{const _0x3eb3fb=_0x3ffd85;_0x5e7526[_0x3eb3fb(0xa7b)](_0x3eb3fb(0x318),_0x1d849a),_0x5e7526[_0x3eb3fb(0xa7b)](_0x3eb3fb(0x284),_0x1d849a),this[_0x3eb3fb(0x265)][_0x3eb3fb(0x60b)](_0x5e7526[_0x3eb3fb(0x20c)]);});}}class _0x2ba888 extends _0x5853dd{[_0x677888(0xa36)];[_0x677888(0x8a2)];[_0x677888(0x94e)];['db'];[_0x677888(0x74e)];[_0x677888(0x315)]=0x0;[_0x677888(0xb1b)]=0x0;['isLoaded']=!0x1;constructor(_0x5a88b0,_0x573805,_0x23053a,_0x19c628,_0x2dab35){const _0x44efe2=_0x677888;if(_0x44efe2(0x435)!=typeof _0x573805)throw new _0x2ed9c0(_0x4e0a41['VectorDatabaseNameNotString'],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x5a88b0,_0x573805),this[_0x44efe2(0xa36)]=_0x5a88b0,this[_0x44efe2(0x8a2)]=_0x23053a,this[_0x44efe2(0x94e)]=_0x19c628;const _0x549567=_0x44efe2(0x6be)+this[_0x44efe2(0x94e)]+_0x44efe2(0x6be)+this['clusterId']+_0x44efe2(0x6be)+this['label'];this['db']=new _0x2dab35(_0x549567),this[_0x44efe2(0x971)]();}['getIsLoaded'](){const _0x13325b=_0x677888;return this[_0x13325b(0x862)];}[_0x677888(0xa71)](_0x36fc0e){const _0x21ec51=_0x677888;this[_0x21ec51(0x862)]=_0x36fc0e;}[_0x677888(0x405)](){const _0x594521=_0x677888;clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x594521(0x405)]();}['close'](){const _0x5c671b=_0x677888;this[_0x5c671b(0x36c)]['publish']({'sourceId':_0x158186,'messageType':_0x59623a[_0x5c671b(0xb04)],'content':{'type':_0x17da44[_0x5c671b(0x391)],'label':this[_0x5c671b(0x65c)]}});}[_0x677888(0x79b)](){const _0x58b979=_0x677888;this[_0x58b979(0x971)]();}[_0x677888(0x5b3)](){const _0x26eaee=_0x677888;return _0x1736bb[_0x26eaee(0xa3c)]['VectorDatabase'];}['search'](_0x481144,_0x38e380,_0x9465b9,_0x218d80,_0x569ba9){const _0x4cb23a=_0x677888,_0x31ebf5=this['db'][_0x4cb23a(0x4b5)](_0x481144,_0x38e380,_0x9465b9,_0x218d80,_0x569ba9);return this[_0x4cb23a(0xb1b)]+=0x1,_0x5bf0c2['logServiceEvent'](_0x1cdbf5[_0x4cb23a(0x2b3)],{'type':_0x4cb23a(0x4b5),'label':this[_0x4cb23a(0x65c)],'nodeId':this[_0x4cb23a(0xa36)][_0x4cb23a(0x48e)](),'nodeType':this[_0x4cb23a(0xa36)][_0x4cb23a(0xb0f)],'clusterId':this[_0x4cb23a(0x8a2)],'size':0x0}),this['sendStats'](),_0x31ebf5;}[_0x677888(0x287)](_0x413099,_0x2f6d64,_0x5b960b,_0x2acebe){const _0x8ec28b=_0x677888;this['db']['insert'](_0x413099,_0x2f6d64,_0x5b960b,_0x2acebe),this['writes']+=0x1,_0x5bf0c2[_0x8ec28b(0x44f)](_0x1cdbf5['VectorDatabase'],{'type':_0x8ec28b(0x287),'label':this['label'],'nodeId':this[_0x8ec28b(0xa36)][_0x8ec28b(0x48e)](),'nodeType':this[_0x8ec28b(0xa36)][_0x8ec28b(0xb0f)],'clusterId':this[_0x8ec28b(0x8a2)],'size':_0x2acebe[_0x8ec28b(0x63b)]((_0x55beb5,_0x3d6be7)=>_0x55beb5+_0x3d6be7[_0x8ec28b(0x8a9)],0x0)}),this[_0x8ec28b(0x971)]();}['remove'](_0x26ec83){const _0x565218=_0x677888;this['db'][_0x565218(0x772)](_0x26ec83),this[_0x565218(0x315)]+=0x1,_0x5bf0c2[_0x565218(0x44f)](_0x1cdbf5[_0x565218(0x2b3)],{'type':_0x565218(0x772),'label':this['label'],'nodeId':this[_0x565218(0xa36)][_0x565218(0x48e)](),'nodeType':this[_0x565218(0xa36)][_0x565218(0xb0f)],'clusterId':this[_0x565218(0x8a2)],'size':0x0}),this['sendStats']();}['saveToDisk'](_0x1778d4){const _0x4a0f17=_0x677888;this['db'][_0x4a0f17(0xa7f)](_0x1778d4);}[_0x677888(0x6a0)](_0x35bf43){const _0x324703=_0x677888;this['db'][_0x324703(0x6a0)](_0x35bf43);}[_0x677888(0x971)](){const _0x5d286e=_0x677888;this[_0x5d286e(0x74e)]&&clearTimeout(this[_0x5d286e(0x74e)]),this[_0x5d286e(0x74e)]=setTimeout(async()=>{const _0x1509d1=_0x5d286e;delete this[_0x1509d1(0x74e)];const _0xd84ca7=this['db']['getBuffer']()[_0x1509d1(0x2f4)];this[_0x1509d1(0x36c)][_0x1509d1(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x1509d1(0xb04)],'content':{'type':_0x17da44[_0x1509d1(0x7ba)],'label':this[_0x1509d1(0x65c)],'stats':{'timestamp':Date[_0x1509d1(0x9bd)](),'storage':_0xd84ca7,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1509d1(0x930)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x1509d1(0x697)],'writes':this['writes'],'reads':this[_0x1509d1(0xb1b)],'prompts':0x0,'tokens':0x0}}}),_0x5bf0c2[_0x1509d1(0x58b)](_0x1cdbf5['VectorDatabase'],'ccc'+this[_0x1509d1(0x8a2)]+_0x1509d1(0x6be)+this[_0x1509d1(0x65c)],_0xd84ca7);},_0x3025f9);}}class _0x427316{['id'];['remoteConnections'];[_0x677888(0x3b4)];constructor(_0x464249,_0x2c9b5f=new Set(),_0x40b847){const _0x18cebe=_0x677888;this['id']=_0x464249,this[_0x18cebe(0x974)]=_0x2c9b5f,this[_0x18cebe(0x3b4)]=_0x40b847;}['close'](){const _0x47b259=_0x677888;this[_0x47b259(0x3b4)]=void 0x0,this[_0x47b259(0x974)][_0x47b259(0x99d)]();}[_0x677888(0x48e)](){return this['id'];}['getRank'](){const _0x4627b0=_0x677888;return this[_0x4627b0(0x3b4)];}[_0x677888(0x785)](){return this['remoteConnections'];}}class _0x37a123 extends _0x427316{['id'];[_0x677888(0x23d)];['email'];[_0x677888(0x974)];['rank'];[_0x677888(0xb0f)]=_0x1736bb[_0x677888(0x9d1)][_0x677888(0x373)];constructor(_0x3123cf,_0x348e74,_0x3572a1,_0x98b2d0=new Set(),_0x52cada){const _0x184829=_0x677888;super(_0x3123cf,_0x98b2d0,_0x52cada),this['id']=_0x3123cf,this[_0x184829(0x23d)]=_0x348e74,this['email']=_0x3572a1,this[_0x184829(0x974)]=_0x98b2d0,this[_0x184829(0x3b4)]=_0x52cada;}[_0x677888(0x7a3)](){const _0xa7dc0d=_0x677888;return this[_0xa7dc0d(0x23d)];}[_0x677888(0x7ec)](){const _0x362a03=_0x677888;return this[_0x362a03(0x416)];}}class _0x41348e{[_0x677888(0x94e)];[_0x677888(0x8a2)];[_0x677888(0x348)];constructor(_0x321aba,_0x50a6b0){const _0x43863a=_0x677888;this[_0x43863a(0x94e)]=_0x321aba,this[_0x43863a(0x8a2)]=_0x50a6b0,this[_0x43863a(0x348)]=_0x43863a(0x6be)+this[_0x43863a(0x94e)]+_0x43863a(0x6be)+this[_0x43863a(0x8a2)];}async[_0x677888(0x8bd)](_0x514f44,_0x15cd0a){const _0x3b4e19=_0x677888,_0x5128b7=(0x0,_0xb117e1['ref'])(_0x66e9[_0x3b4e19(0xa45)](),_0x3b4e19(0x59d)+this[_0x3b4e19(0x348)]+_0x3b4e19(0x295)+_0x15cd0a+_0x3b4e19(0x9ee)+_0x514f44['id']),_0x4ba4b0=(0x0,_0xb117e1[_0x3b4e19(0x720)])(_0x5128b7);_0x4ba4b0[_0x3b4e19(0x772)](),_0x514f44[_0x3b4e19(0x6ee)]||delete _0x514f44[_0x3b4e19(0x6ee)];try{await(0x0,_0xb117e1[_0x3b4e19(0x926)])(_0x5128b7,_0x514f44);}catch(_0x43416f){throw await _0x4ba4b0[_0x3b4e19(0xafb)](),new _0x4dab04(_0x4dab04[_0x3b4e19(0x6ec)][_0x3b4e19(0x231)]);}if(!0x1===(await(0x0,_0xb117e1[_0x3b4e19(0x97c)])((0x0,_0xb117e1[_0x3b4e19(0x54e)])(_0x66e9[_0x3b4e19(0xa45)](),_0x3b4e19(0x59d)+this['clusterKey']+'/objectstores/'+_0x15cd0a+_0x3b4e19(0x3b5)),_0xba03e=>_0xba03e?_0xba03e===_0x514f44[_0x3b4e19(0x6ee)]?_0x514f44['id']:void 0x0:_0x514f44['parentId']?_0x514f44[_0x3b4e19(0x6ee)]:_0x514f44['id']))[_0x3b4e19(0x9b9)])throw await(0x0,_0xb117e1['remove'])(_0x5128b7),await _0x4ba4b0[_0x3b4e19(0xafb)](),new _0x4dab04(_0x4dab04[_0x3b4e19(0x6ec)][_0x3b4e19(0xa69)]);await _0x4ba4b0[_0x3b4e19(0xafb)]();}async[_0x677888(0x991)](_0x2e4806,_0x17ca57){const _0x4ecf23=_0x677888;let _0x4cd8da=[];const _0x3a2ec0=(0x0,_0xb117e1['ref'])(_0x66e9[_0x4ecf23(0xa45)](),'clusters/'+this[_0x4ecf23(0x348)]+_0x4ecf23(0x295)+_0x2e4806+_0x4ecf23(0x896));let _0xe1a70f=await(0x0,_0xb117e1['get'])((0x0,_0xb117e1[_0x4ecf23(0x9af)])(_0x3a2ec0,(0x0,_0xb117e1['limitToFirst'])(0x65),(0x0,_0xb117e1[_0x4ecf23(0x2df)])()));if(!_0xe1a70f[_0x4ecf23(0x639)]()){if(void 0x0!==_0x17ca57)throw new _0x4dab04(_0x4dab04[_0x4ecf23(0x6ec)][_0x4ecf23(0x570)]);return _0x4cd8da;}const _0x39f12a=_0xe1a70f['val']();for(;Object['keys'](_0xe1a70f[_0x4ecf23(0x892)]())['length']>0x64;){const _0x25dec6=Object['keys'](_0xe1a70f[_0x4ecf23(0x892)]()),_0x45ec86=_0x25dec6[_0x25dec6[_0x4ecf23(0x8a9)]-0x1];_0xe1a70f=await(0x0,_0xb117e1[_0x4ecf23(0x8a1)])((0x0,_0xb117e1[_0x4ecf23(0x9af)])(_0x3a2ec0,(0x0,_0xb117e1[_0x4ecf23(0x3fb)])(0x65),(0x0,_0xb117e1['startAt'])(_0x45ec86),(0x0,_0xb117e1['orderByKey'])())),Object[_0x4ecf23(0x6bc)](_0x39f12a,_0xe1a70f[_0x4ecf23(0x892)]());}if(_0x4cd8da=Object[_0x4ecf23(0x9c3)](_0x39f12a)[_0x4ecf23(0x3cc)](_0x1f6f7a=>_0x4ecf23(0x435)!=typeof _0x1f6f7a),0x0===_0x4cd8da[_0x4ecf23(0x8a9)]&&void 0x0!==_0x17ca57)throw new _0x4dab04(_0x4dab04[_0x4ecf23(0x6ec)][_0x4ecf23(0x570)]);if(_0x4cd8da[_0x4ecf23(0x8a9)]>0x0&&void 0x0!==_0x17ca57&&!_0x4cd8da[_0x4ecf23(0x8ab)](_0x1572c5=>_0x1572c5['id']===_0x17ca57))throw new _0x4dab04(_0x4dab04[_0x4ecf23(0x6ec)]['ObjectStoreInvalidState']);const _0x1a2c18=[];let _0x4828c4=_0x4cd8da[_0x4ecf23(0x8ab)](_0x349e7f=>_0x349e7f[_0x4ecf23(0x6ee)]===_0x17ca57);for(;_0x4828c4;)_0x1a2c18[_0x4ecf23(0xa65)](_0x4828c4),_0x4828c4=_0x4cd8da[_0x4ecf23(0x8ab)](_0x199bee=>_0x199bee['parentId']===_0x4828c4['id']);return _0x1a2c18;}}class _0x59d39b{[_0x677888(0x4f0)];['options'];[_0x677888(0x7a2)]=new Map();[_0x677888(0xac6)]=new Map();['pubSubTopics']=new Map();[_0x677888(0x3d9)]=new Map();[_0x677888(0x717)]=new Map();['keyValueDatabases']=new Map();[_0x677888(0x7bd)]=new Map();[_0x677888(0x229)]=new Map();['jobDispatchers']=new Map();[_0x677888(0x2bf)]=new Map();['transactionService'];constructor(_0xed2379,_0x1336f8){const _0x1ac51f=_0x677888;this[_0x1ac51f(0x4f0)]=_0xed2379,this[_0x1ac51f(0x530)]=_0x1336f8,this['transactionService']=new _0x41348e(this[_0x1ac51f(0x4f0)]['vendorId'],this[_0x1ac51f(0x4f0)][_0x1ac51f(0x8a2)]);}['close'](_0x551d7b=!0x1){const _0x313787=_0x677888;this[_0x313787(0xac6)][_0x313787(0x938)]((_0x4b119b,_0x597143)=>{_0x4b119b['forEach']((_0x2a12d5,_0x45c019)=>{const _0x830d89=a0_0x5cc9;this[_0x830d89(0x40f)](_0x597143,_0x45c019);});}),_0x551d7b||(_0x4e9e46[_0x313787(0x99d)](),this[_0x313787(0x7a2)]['forEach']((_0x4921e7,_0x2f9566)=>{const _0x2ecdf3=_0x313787;this[_0x2ecdf3(0x4a9)](_0x2f9566);}),this[_0x313787(0x29b)][_0x313787(0x938)]((_0x8f33e4,_0x8f8e6)=>{const _0x16f160=_0x313787;this[_0x16f160(0x75f)](_0x8f8e6);}),this[_0x313787(0x3d9)][_0x313787(0x938)]((_0x33c7a3,_0x364179)=>{const _0x7b9174=_0x313787;this[_0x7b9174(0x625)](_0x364179);}),this[_0x313787(0x717)][_0x313787(0x938)]((_0x5e750c,_0x42af4a)=>{const _0x207bc4=_0x313787;this[_0x207bc4(0x278)](_0x42af4a);}),this[_0x313787(0x1c2)][_0x313787(0x938)]((_0x316310,_0x5ca3ed)=>{const _0x46b4e7=_0x313787;this[_0x46b4e7(0x191)](_0x5ca3ed);}),this[_0x313787(0x5b1)]['forEach']((_0x1174cd,_0x21d2fa)=>{const _0x3c7048=_0x313787;this[_0x3c7048(0x690)](_0x21d2fa);}),this[_0x313787(0x2bf)][_0x313787(0x938)]((_0xa7c587,_0x4e9e91)=>{this['removeJobWorker'](_0x4e9e91);}),this[_0x313787(0x7bd)]['forEach']((_0x5daf20,_0x5857e7)=>{this['removeVectorDatabase'](_0x5857e7);}),this[_0x313787(0x229)][_0x313787(0x938)]((_0x3a03e7,_0x427c80)=>{const _0x2bc76e=_0x313787;this[_0x2bc76e(0x663)](_0x427c80);}));}[_0x677888(0x7f8)](_0x4169b5,_0x1f9e64,_0x2644c9){const _0x555782=_0x677888;if(this[_0x555782(0x3d9)][_0x555782(0x26b)](_0x4169b5))throw new _0x2ed9c0(_0x4e0a41[_0x555782(0x699)],_0x555782(0xae6));const _0x12a7b5=new _0xf3a67e(this['configs'][_0x555782(0xa36)],_0x4169b5,this[_0x555782(0x4f0)]['clusterId'],this[_0x555782(0x4f0)]['vendorId'],this[_0x555782(0x55d)],_0x1f9e64,()=>this['configs'][_0x555782(0x64f)][_0x555782(0x1c8)](),_0x2644c9);return this[_0x555782(0x3d9)]['set'](_0x4169b5,_0x12a7b5),this[_0x555782(0x4f0)][_0x555782(0x64f)][_0x555782(0x830)](_0x12a7b5),_0x12a7b5;}[_0x677888(0x4e6)](_0x543fd4,_0x490ba8){const _0xea1423=_0x677888;if(this[_0xea1423(0x3d9)][_0xea1423(0x26b)](_0x543fd4))throw new _0x2ed9c0(_0x4e0a41['ExternalStorageConnectionAlreadyExists'],_0xea1423(0xb1f));const _0x15c66a=new _0x449087(this[_0xea1423(0x4f0)][_0xea1423(0xa36)],_0x543fd4,this[_0xea1423(0x4f0)]['clusterId'],this[_0xea1423(0x4f0)][_0xea1423(0x94e)],_0x490ba8);return this[_0xea1423(0x717)][_0xea1423(0x926)](_0x543fd4,_0x15c66a),this[_0xea1423(0x4f0)][_0xea1423(0x64f)]['registerSystemSource'](_0x15c66a),_0x15c66a;}async[_0x677888(0x773)](_0xbe90f9,_0x4164ec,_0xe4fe7b){const _0x5e94fa=_0x677888;if(this['keyValueDatabases'][_0x5e94fa(0x26b)](_0xbe90f9))throw new _0x2ed9c0(_0x4e0a41[_0x5e94fa(0x61e)],_0x5e94fa(0x25c));try{const _0x4d5a5c=this[_0x5e94fa(0x4f0)][_0x5e94fa(0x64f)][_0x5e94fa(0x6c2)][_0x5e94fa(0x75d)](this['configs'][_0x5e94fa(0x64f)]),_0x7751ef=new _0x2113e7(this[_0x5e94fa(0x4f0)]['localNode'],_0xbe90f9,this[_0x5e94fa(0x4f0)]['clusterId'],this['configs']['vendorId'],_0x4164ec,_0xe4fe7b,_0x4d5a5c);return this['keyValueDatabases'][_0x5e94fa(0x926)](_0xbe90f9,_0x7751ef),this['configs'][_0x5e94fa(0x64f)]['registerSystemSource'](_0x7751ef),_0x7751ef;}catch(_0x1e517c){if(_0x1e517c instanceof _0x2ed9c0)throw _0x1e517c;throw new _0x4dab04(_0x4dab04[_0x5e94fa(0x6ec)][_0x5e94fa(0xa25)],{'label':_0xbe90f9,'clusterId':this[_0x5e94fa(0x4f0)][_0x5e94fa(0x8a2)],'vendorId':this['configs'][_0x5e94fa(0x94e)]});}}async[_0x677888(0xad3)](_0x10784c,_0x1666c4){const _0x27c563=_0x677888;if(this[_0x27c563(0x5b1)]['has'](_0x10784c))throw new _0x2ed9c0(_0x4e0a41[_0x27c563(0x2eb)],'Job\x20Dispatcher\x20already\x20exists');try{const _0x35df47=new _0x14ad5c(this['configs'][_0x27c563(0xa36)],_0x10784c,_0x1666c4);return this[_0x27c563(0x5b1)][_0x27c563(0x926)](_0x10784c,_0x35df47),this[_0x27c563(0x4f0)][_0x27c563(0x64f)]['registerSystemSource'](_0x35df47),_0x35df47;}catch(_0xc513ea){if(_0xc513ea instanceof _0x2ed9c0)throw _0xc513ea;throw new _0x4dab04(_0x4dab04[_0x27c563(0x6ec)][_0x27c563(0x431)],{'label':_0x10784c,'clusterId':this['configs'][_0x27c563(0x8a2)],'vendorId':this['configs'][_0x27c563(0x94e)]});}}async[_0x677888(0x39f)](_0x3e1512,_0x5544a0){const _0x97fa58=_0x677888;if(this[_0x97fa58(0x5b1)]['has'](_0x3e1512))throw new _0x2ed9c0(_0x4e0a41['GenerativeAIContextAlreadyExists'],_0x97fa58(0x64e));if(this[_0x97fa58(0x2bf)]['has'](_0x3e1512))throw new _0x2ed9c0(_0x4e0a41[_0x97fa58(0x954)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x7356e5=new _0x14acfd(this[_0x97fa58(0x4f0)][_0x97fa58(0xa36)],_0x3e1512,this[_0x97fa58(0x4f0)][_0x97fa58(0x94e)],_0x5544a0);return this[_0x97fa58(0x5b1)][_0x97fa58(0x926)](_0x3e1512,_0x7356e5),this['configs']['mediator'][_0x97fa58(0x830)](_0x7356e5),_0x7356e5;}catch(_0x3eece0){if(_0x3eece0 instanceof _0x2ed9c0)throw _0x3eece0;throw new _0x4dab04(_0x4dab04[_0x97fa58(0x6ec)][_0x97fa58(0x943)],{'label':_0x3e1512,'clusterId':this[_0x97fa58(0x4f0)]['clusterId'],'vendorId':this[_0x97fa58(0x4f0)][_0x97fa58(0x94e)]});}}async[_0x677888(0x82f)](_0x5dbb3c,_0x10654f,_0xc32389,_0x50aefd,_0x16d0eb,_0x1b0ffc,_0x480ee1,_0x4f83df,_0x5de1f4,_0x2f450e,_0x46cc6b){const _0x2eaf1c=_0x677888;if(this[_0x2eaf1c(0x2bf)][_0x2eaf1c(0x26b)](_0x5dbb3c))throw new _0x2ed9c0(_0x4e0a41[_0x2eaf1c(0x76c)],'AI\x20Worker\x20already\x20exists');if(this['jobDispatchers'][_0x2eaf1c(0x26b)](_0x5dbb3c))throw new _0x2ed9c0(_0x4e0a41[_0x2eaf1c(0x954)],_0x2eaf1c(0xada));try{const _0x4df6ed=new _0x3dec82(this['configs'][_0x2eaf1c(0xa36)],_0x5dbb3c,_0x10654f,this,_0xc32389,_0x50aefd,_0x16d0eb,_0x1b0ffc,_0x480ee1,_0x4f83df,_0x5de1f4,_0x2f450e,_0x46cc6b);return this[_0x2eaf1c(0x2bf)]['set'](_0x5dbb3c,_0x4df6ed),this['configs'][_0x2eaf1c(0x64f)][_0x2eaf1c(0x830)](_0x4df6ed),_0x4df6ed;}catch(_0x56de52){if(_0x56de52 instanceof _0x2ed9c0)throw _0x56de52;throw new _0x4dab04(_0x4dab04[_0x2eaf1c(0x6ec)][_0x2eaf1c(0x6b7)],{'label':_0x5dbb3c,'clusterId':this[_0x2eaf1c(0x4f0)]['clusterId'],'vendorId':this[_0x2eaf1c(0x4f0)][_0x2eaf1c(0x94e)]});}}['createGraphDatabase'](_0x25f668,_0x5a9ca6){const _0x5612c1=_0x677888;if(this[_0x5612c1(0x229)][_0x5612c1(0x26b)](_0x25f668))throw new _0x2ed9c0(_0x4e0a41[_0x5612c1(0x7ef)],_0x5612c1(0x25c));try{const _0x35d116=new _0x479f36(this[_0x5612c1(0x4f0)][_0x5612c1(0xa36)],_0x25f668,this[_0x5612c1(0x4f0)][_0x5612c1(0x8a2)],this[_0x5612c1(0x4f0)][_0x5612c1(0x94e)],_0x5a9ca6);return this[_0x5612c1(0x229)][_0x5612c1(0x926)](_0x25f668,_0x35d116),this[_0x5612c1(0x4f0)][_0x5612c1(0x64f)][_0x5612c1(0x830)](_0x35d116),_0x35d116;}catch(_0x21f9e5){if(_0x21f9e5 instanceof _0x2ed9c0)throw _0x21f9e5;throw new _0x4dab04(_0x4dab04['codes']['GraphDatabaseCreationFailed'],{'label':_0x25f668,'clusterId':this[_0x5612c1(0x4f0)][_0x5612c1(0x8a2)],'vendorId':this[_0x5612c1(0x4f0)][_0x5612c1(0x94e)]});}}[_0x677888(0x825)](_0x4280fa,_0x1d9105){const _0x46bff4=_0x677888;if(this[_0x46bff4(0x7a2)][_0x46bff4(0x26b)](_0x4280fa))throw new _0x2ed9c0(_0x4e0a41[_0x46bff4(0xb07)],_0x46bff4(0x575));if(!this['options'][_0x46bff4(0x9ab)])throw new _0x2ed9c0(_0x4e0a41[_0x46bff4(0x7e0)],'AudioContext\x20is\x20not\x20available');const _0x21cf83=new _0x372965(this['configs']['localNode'],_0x4280fa,_0x1d9105,this[_0x46bff4(0x530)][_0x46bff4(0x31c)],this['options'][_0x46bff4(0x9ab)],this['configs']['clusterId']);return this['localMediaStreams'][_0x46bff4(0x926)](_0x4280fa,_0x21cf83),this[_0x46bff4(0x4f0)][_0x46bff4(0x64f)]['registerSystemSource'](_0x21cf83),_0x21cf83[_0x46bff4(0x6c6)](),_0x21cf83;}[_0x677888(0xaac)](_0x107dac,_0x5ea3b6){const _0x4be9bf=_0x677888;if(this[_0x4be9bf(0x7a2)][_0x4be9bf(0x26b)](_0x107dac))throw new _0x2ed9c0(_0x4e0a41[_0x4be9bf(0xb07)],_0x4be9bf(0x7f9));const _0x127f6c=new _0x4e37f2(this[_0x4be9bf(0x4f0)][_0x4be9bf(0xa36)],_0x107dac,_0x5ea3b6,this[_0x4be9bf(0x4f0)][_0x4be9bf(0x8a2)]);return this[_0x4be9bf(0x7a2)][_0x4be9bf(0x926)](_0x107dac,_0x127f6c),this[_0x4be9bf(0x4f0)][_0x4be9bf(0x64f)][_0x4be9bf(0x830)](_0x127f6c),_0x127f6c[_0x4be9bf(0x6c6)](),_0x127f6c;}[_0x677888(0xb05)](_0x230297){const _0x3a94c3=_0x677888;if(this[_0x3a94c3(0x29b)][_0x3a94c3(0x26b)](_0x230297))throw new _0x2ed9c0(_0x4e0a41[_0x3a94c3(0xa57)],_0x3a94c3(0x90d));const _0x5b154a=new _0x18ebb0(this['configs']['localNode'],_0x230297,this['configs']['clusterId']);return this[_0x3a94c3(0x29b)][_0x3a94c3(0x926)](_0x230297,_0x5b154a),this[_0x3a94c3(0x4f0)][_0x3a94c3(0x64f)][_0x3a94c3(0x830)](_0x5b154a),_0x5b154a;}[_0x677888(0xa3d)](_0x221c27,_0xddf66c,_0x3293cf,_0x5e642e){const _0x12204f=_0x677888;this['remoteMediaStreams']['has'](_0x221c27)||this[_0x12204f(0xac6)]['set'](_0x221c27,new Map());const _0x112e30=this[_0x12204f(0xac6)][_0x12204f(0x8a1)](_0x221c27);if(_0x112e30['has'](_0xddf66c))throw new _0x2ed9c0(_0x4e0a41[_0x12204f(0x397)],_0x12204f(0x499));const _0x502536=new _0x37a123(_0x221c27,'',''),_0x478516=new _0x58777d(this[_0x12204f(0x4f0)][_0x12204f(0xa36)],_0x502536,_0xddf66c,_0x3293cf,_0x5e642e,this[_0x12204f(0x4f0)][_0x12204f(0x8a2)]);return _0x112e30['set'](_0xddf66c,_0x478516),this[_0x12204f(0x4f0)][_0x12204f(0x64f)][_0x12204f(0x830)](_0x478516),_0x478516;}[_0x677888(0x856)](_0x5de9c2,_0x574b3e){const _0x260461=_0x677888;if(this['vectorDatabases']['has'](_0x5de9c2))throw new _0x2ed9c0(_0x4e0a41['VectorDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x23c66b=new _0x2ba888(this['configs'][_0x260461(0xa36)],_0x5de9c2,this[_0x260461(0x4f0)]['clusterId'],this[_0x260461(0x4f0)][_0x260461(0x94e)],_0x574b3e);return this['vectorDatabases'][_0x260461(0x926)](_0x5de9c2,_0x23c66b),this[_0x260461(0x4f0)]['mediator'][_0x260461(0x830)](_0x23c66b),_0x23c66b;}catch(_0x251f47){if(_0x251f47 instanceof _0x2ed9c0)throw _0x251f47;throw new _0x4dab04(_0x4dab04['codes'][_0x260461(0x5cd)],{'label':_0x5de9c2,'clusterId':this[_0x260461(0x4f0)][_0x260461(0x8a2)],'vendorId':this[_0x260461(0x4f0)][_0x260461(0x94e)]});}}[_0x677888(0x6f7)](_0x2c0902){const _0x2ef624=_0x677888,_0x4f06ce=Array[_0x2ef624(0x3fd)](this['objectStores'][_0x2ef624(0x9c3)]());return _0x2c0902?_0x4f06ce[_0x2ef624(0x3cc)](_0x2c0902):_0x4f06ce;}[_0x677888(0x31d)](_0x35c0fc){const _0x347136=_0x677888,_0x14d9d8=Array[_0x347136(0x3fd)](this[_0x347136(0x717)][_0x347136(0x9c3)]());return _0x35c0fc?_0x14d9d8[_0x347136(0x3cc)](_0x35c0fc):_0x14d9d8;}[_0x677888(0x65b)](_0x438d48){const _0x4694a4=_0x677888,_0x3dca15=Array[_0x4694a4(0x3fd)](this['keyValueDatabases']['values']());return _0x438d48?_0x3dca15[_0x4694a4(0x3cc)](_0x438d48):_0x3dca15;}[_0x677888(0x4c0)](_0xdf6c8e){const _0x96d81c=_0x677888,_0x3df502=Array[_0x96d81c(0x3fd)](this[_0x96d81c(0x5b1)][_0x96d81c(0x9c3)]());return _0xdf6c8e?_0x3df502['filter'](_0xdf6c8e):_0x3df502;}[_0x677888(0x781)](_0x6ef99c){const _0x34981d=_0x677888,_0x38764f=Array['from'](this[_0x34981d(0x2bf)][_0x34981d(0x9c3)]());return _0x6ef99c?_0x38764f[_0x34981d(0x3cc)](_0x6ef99c):_0x38764f;}[_0x677888(0x2ac)](_0x35dd10){const _0x4450d0=_0x677888,_0xadd8af=Array['from'](this['jobDispatchers'][_0x4450d0(0x9c3)]())[_0x4450d0(0x3cc)](_0x3248f4=>_0x3248f4 instanceof _0x14acfd);return _0x35dd10?_0xadd8af[_0x4450d0(0x3cc)](_0x35dd10):_0xadd8af;}['getGenerativeAIWorkers'](_0x4c0ac9){const _0x1b165f=_0x677888,_0x452ba1=Array['from'](this[_0x1b165f(0x2bf)][_0x1b165f(0x9c3)]())[_0x1b165f(0x3cc)](_0x902d74=>_0x902d74 instanceof _0x3dec82);return _0x4c0ac9?_0x452ba1[_0x1b165f(0x3cc)](_0x4c0ac9):_0x452ba1;}[_0x677888(0x9a4)](_0x33aa05){const _0x18f5c6=_0x677888,_0x6de58c=Array[_0x18f5c6(0x3fd)](this[_0x18f5c6(0x229)][_0x18f5c6(0x9c3)]());return _0x33aa05?_0x6de58c[_0x18f5c6(0x3cc)](_0x33aa05):_0x6de58c;}[_0x677888(0x83e)](_0x2f599d){const _0x4b41a2=_0x677888,_0x3b7aed=Array['from'](this[_0x4b41a2(0x7a2)][_0x4b41a2(0x9c3)]());return _0x2f599d?_0x3b7aed[_0x4b41a2(0x3cc)](_0x2f599d):_0x3b7aed;}['getPubSubTopics'](_0x43d4cc){const _0x7b0cc4=_0x677888,_0x45f9da=Array[_0x7b0cc4(0x3fd)](this[_0x7b0cc4(0x29b)]['values']());return _0x43d4cc?_0x45f9da[_0x7b0cc4(0x3cc)](_0x43d4cc):_0x45f9da;}[_0x677888(0x3a7)](_0x7bdbe0){const _0x45aaac=_0x677888,_0xe1db7b=Array[_0x45aaac(0x3fd)](this['remoteMediaStreams'][_0x45aaac(0x9c3)]())[_0x45aaac(0x63b)]((_0x376d68,_0x44dd38)=>[..._0x376d68,...Array[_0x45aaac(0x3fd)](_0x44dd38[_0x45aaac(0x9c3)]())],[]);return _0x7bdbe0?_0xe1db7b[_0x45aaac(0x3cc)](_0x7bdbe0):_0xe1db7b;}[_0x677888(0xad9)](_0x90fcfa){const _0x483141=_0x677888,_0x5e1bfb=Array['from'](this[_0x483141(0x7bd)]['values']());return _0x90fcfa?_0x5e1bfb[_0x483141(0x3cc)](_0x90fcfa):_0x5e1bfb;}[_0x677888(0x1b2)](_0x2e816b){const _0x1f2084=_0x677888,_0xf50fb8=this[_0x1f2084(0x3d9)]['get'](_0x2e816b);if(!_0xf50fb8)throw new _0x2ed9c0(_0x4e0a41[_0x1f2084(0x58c)],_0x1f2084(0x8e7));return _0xf50fb8;}['getExternalStorageConnection'](_0xf385fc){const _0x49f00e=_0x677888,_0x5bf07b=_0xf385fc[_0x49f00e(0xad8)]('-'),_0x2eb254=this['externalStorageConnections'][_0x49f00e(0x8a1)](_0x5bf07b[0x1]);if(!_0x2eb254)throw new _0x2ed9c0(_0x4e0a41[_0x49f00e(0xac7)],_0x49f00e(0x17c));return _0x2eb254;}[_0x677888(0x6bd)](_0x2080e3){const _0x23324b=_0x677888,_0xd7380c=this[_0x23324b(0x229)][_0x23324b(0x8a1)](_0x2080e3);if(!_0xd7380c)throw new _0x2ed9c0(_0x4e0a41['GraphDatabaseDoesNotExist'],_0x23324b(0x477));return _0xd7380c;}[_0x677888(0x925)](_0x20c045){const _0x3778f3=_0x677888,_0x55c4cd=this['keyValueDatabases'][_0x3778f3(0x8a1)](_0x20c045);if(!_0x55c4cd)throw new _0x2ed9c0(_0x4e0a41['KeyValueDatabaseDoesNotExist'],'KeyValueDatabase\x20not\x20found');return _0x55c4cd;}[_0x677888(0x898)](_0x508fc9){const _0x39a101=_0x677888,_0x2eabe9=this[_0x39a101(0x29b)][_0x39a101(0x8a1)](_0x508fc9);if(!_0x2eabe9)throw new _0x2ed9c0(_0x4e0a41[_0x39a101(0x524)],_0x39a101(0x8d3));return _0x2eabe9;}['getVectorDatabase'](_0x3e50e9){const _0x1923ec=_0x677888,_0x271a6e=this['vectorDatabases'][_0x1923ec(0x8a1)](_0x3e50e9);if(!_0x271a6e)throw new _0x2ed9c0(_0x4e0a41[_0x1923ec(0xa62)],_0x1923ec(0x4d8));return _0x271a6e;}[_0x677888(0x87a)](_0x2b940e){const _0x3b1691=_0x677888;switch(_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0xb0f)]){case _0x17da44[_0x3b1691(0x9d0)]:this[_0x3b1691(0x279)](_0x2b940e[_0x3b1691(0x6a6)]);break;case _0x17da44[_0x3b1691(0xa97)]:this['handleUnpublishMediaStream'](_0x2b940e[_0x3b1691(0x6a6)]);break;case _0x17da44[_0x3b1691(0x602)]:this[_0x3b1691(0x690)](_0x2b940e['content']['label']);break;case _0x17da44[_0x3b1691(0x23a)]:this[_0x3b1691(0x4a4)](_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x65c)]);break;case _0x17da44[_0x3b1691(0x655)]:this['removeLocalMediaStream'](_0x2b940e['content'][_0x3b1691(0x65c)]);break;case _0x17da44[_0x3b1691(0x70b)]:this[_0x3b1691(0x75f)](_0x2b940e[_0x3b1691(0x6a6)]['label']);break;case _0x17da44[_0x3b1691(0x8c5)]:this[_0x3b1691(0x625)](_0x2b940e[_0x3b1691(0x6a6)]['label']);break;case _0x17da44[_0x3b1691(0x6e1)]:this[_0x3b1691(0x278)](_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x65c)]);break;case _0x17da44[_0x3b1691(0x801)]:this['removeKeyValueDatabase'](_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x65c)]);break;case _0x17da44[_0x3b1691(0x391)]:this[_0x3b1691(0x205)](_0x2b940e['content'][_0x3b1691(0x65c)]);break;case _0x17da44['CloseGraphDatabase']:this[_0x3b1691(0x663)](_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x65c)]);break;case _0x17da44[_0x3b1691(0xa7d)]:this[_0x3b1691(0x1fb)](_0x2b940e[_0x3b1691(0x6a6)]);break;case _0x17da44[_0x3b1691(0x211)]:this['keyValueDatabases'][_0x3b1691(0x8a1)](_0x2b940e[_0x3b1691(0x6a6)]['label'])?.[_0x3b1691(0x3a8)](_0x2b940e['sourceId'],_0x2b940e[_0x3b1691(0x6a6)]['mmrRoot']);break;case _0x17da44[_0x3b1691(0x8a6)]:this[_0x3b1691(0x1c2)][_0x3b1691(0x8a1)](_0x2b940e['content']['label'])?.[_0x3b1691(0x457)](_0x2b940e[_0x3b1691(0x2e2)],_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x5a5)]);break;case _0x17da44[_0x3b1691(0x53f)]:this['keyValueDatabases'][_0x3b1691(0x8a1)](_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x65c)])?.[_0x3b1691(0x49f)](_0x2b940e[_0x3b1691(0x2e2)],_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x3f6)]);break;case _0x17da44[_0x3b1691(0x80a)]:this[_0x3b1691(0x1c2)][_0x3b1691(0x8a1)](_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x65c)])?.[_0x3b1691(0x37d)](_0x2b940e[_0x3b1691(0x2e2)],_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x71f)]);break;case _0x17da44[_0x3b1691(0x6d8)]:this[_0x3b1691(0x1c2)][_0x3b1691(0x8a1)](_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x65c)])?.[_0x3b1691(0x8d0)](_0x2b940e[_0x3b1691(0x2e2)],_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0xa2e)]);break;case _0x17da44[_0x3b1691(0x7ce)]:this[_0x3b1691(0x1c2)][_0x3b1691(0x8a1)](_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x65c)])?.['processReceivedTransactions'](_0x2b940e['sourceId'],_0x2b940e[_0x3b1691(0x6a6)]['transactions']);break;case _0x17da44[_0x3b1691(0x6e4)]:this[_0x3b1691(0x4f0)][_0x3b1691(0x64f)]['notifyCluster'](_0x3b1691(0x30f),{'label':_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x65c)],'trackKinds':_0x2b940e[_0x3b1691(0x6a6)][_0x3b1691(0x782)]});}}[_0x677888(0x502)]({content:_0x2a33ff}){const _0x5b4602=_0x677888;switch(_0x2a33ff[_0x5b4602(0xb0f)]){case _0x1577f4[_0x5b4602(0x767)]:this[_0x5b4602(0xa32)](_0x2a33ff),this[_0x5b4602(0x3ed)](_0x2a33ff);break;case _0x1577f4[_0x5b4602(0x390)]:this[_0x5b4602(0x6f6)](_0x2a33ff),this['notifyObjectStoreOfNodeLeave'](_0x2a33ff);}}['handleSubscriptionSystemEvents'](_0x5bd2d6){const _0x475592=_0x677888;switch(_0x5bd2d6[_0x475592(0x6a6)]['type']){case _0x1f2399[_0x475592(0x27b)]:this['handleSubscribeMediaStream'](_0x5bd2d6[_0x475592(0x2e2)],_0x5bd2d6[_0x475592(0x6a6)]);break;case _0x1f2399[_0x475592(0x79d)]:this[_0x475592(0x422)](_0x5bd2d6['sourceId'],_0x5bd2d6[_0x475592(0x6a6)]);break;case _0x1f2399['UnsubscribeMediaStream']:this[_0x475592(0x5a0)](_0x5bd2d6[_0x475592(0x2e2)],_0x5bd2d6['content']);}}['handleContentUnsubscribeMediaStream'](_0x3823f2){const _0x3e6d81=_0x677888;if(0x0===_0x3823f2[_0x3e6d81(0xa5a)])this[_0x3e6d81(0xac6)][_0x3e6d81(0x8a1)](_0x3823f2['ownerId'])?.[_0x3e6d81(0x8a1)](_0x3823f2[_0x3e6d81(0x65c)])?.['destroy']();else{const _0x44d401=this[_0x3e6d81(0xac6)]['get'](_0x3823f2[_0x3e6d81(0x268)])?.['get'](_0x3823f2[_0x3e6d81(0x65c)]);if(!_0x44d401)return;_0x3823f2[_0x3e6d81(0x782)][_0x3e6d81(0x938)](_0x27b15d=>_0x44d401[_0x3e6d81(0x51e)](_0x27b15d));}}[_0x677888(0x279)](_0x6577e8){const _0x5ae9cb=_0x677888,{label:_0x54be0f,ownerId:_0x5a6e8c,stream:{streamId:_0x45cba9,availableTrackKinds:_0x1ecc4c}}=_0x6577e8;if(this[_0x5ae9cb(0xac6)][_0x5ae9cb(0x8a1)](_0x5a6e8c)?.['has'](_0x54be0f))return void _0x5bf0c2[_0x5ae9cb(0x5d7)](_0x86d570[_0x5ae9cb(0xb04)],_0x5ae9cb(0x7f9),_0x45cba9);const _0x3088ee=this['createRemoteMediaStream'](_0x5a6e8c,_0x54be0f,_0x45cba9,_0x1ecc4c);this[_0x5ae9cb(0x4f0)][_0x5ae9cb(0x64f)][_0x5ae9cb(0xb09)](_0x5ae9cb(0x2b5),{'ownerId':_0x5a6e8c,'stream':_0x3088ee});}[_0x677888(0xa33)]({ownerId:_0x56c2f9,label:_0xf78990}){const _0xfd2da9=_0x677888;this['removeRemoteMediaStream'](_0x56c2f9,_0xf78990),this[_0xfd2da9(0x4f0)][_0xfd2da9(0x64f)][_0xfd2da9(0xb09)](_0xfd2da9(0x492),{'ownerId':_0x56c2f9,'label':_0xf78990});}[_0x677888(0x56f)](_0x11db62,_0xddfe2b){const _0x1ff445=_0x677888,{ownerId:_0x5ece79,label:_0x3b6606}=_0xddfe2b;let _0x5dc5fd;_0x5dc5fd=_0x5ece79!==this[_0x1ff445(0x4f0)]['localNode'][_0x1ff445(0x48e)]()?this[_0x1ff445(0xac6)][_0x1ff445(0x8a1)](_0x5ece79)[_0x1ff445(0x8a1)](_0x3b6606):this[_0x1ff445(0x7a2)][_0x1ff445(0x8a1)](_0x3b6606),_0x5dc5fd[_0x1ff445(0x32d)](_0x11db62,_0xddfe2b[_0x1ff445(0xae9)])['subscribe'](_0xddfe2b,_0x5dc5fd[_0x1ff445(0x7a5)]());}[_0x677888(0x422)](_0x559224,_0x29a397){const _0x3abac9=_0x677888,{ownerId:_0x31b54b,label:_0x415107}=_0x29a397;let _0x4d894e;_0x4d894e=_0x31b54b!==this[_0x3abac9(0x4f0)][_0x3abac9(0xa36)]['getId']()?this[_0x3abac9(0xac6)][_0x3abac9(0x8a1)](_0x31b54b)[_0x3abac9(0x8a1)](_0x415107):this[_0x3abac9(0x7a2)][_0x3abac9(0x8a1)](_0x415107),_0x4d894e['getShareableStream'](_0x559224,_0x29a397[_0x3abac9(0xae9)])['update'](_0x29a397);}[_0x677888(0x5a0)](_0x5d15c7,_0x24f35d){const _0x2e237b=_0x677888,{ownerId:_0x47b046,label:_0x5ef459}=_0x24f35d;let _0x959232;_0x959232=_0x47b046!==this[_0x2e237b(0x4f0)][_0x2e237b(0xa36)][_0x2e237b(0x48e)]()?this[_0x2e237b(0xac6)][_0x2e237b(0x8a1)](_0x47b046)[_0x2e237b(0x8a1)](_0x5ef459):this[_0x2e237b(0x7a2)][_0x2e237b(0x8a1)](_0x5ef459),_0x959232[_0x2e237b(0x32d)](_0x5d15c7)[_0x2e237b(0xa24)](_0x24f35d);}[_0x677888(0xa32)]({id:_0x4ed246}){const _0x1d4430=_0x677888;this[_0x1d4430(0x83e)]()[_0x1d4430(0x938)](_0x5f2bda=>{_0x5f2bda['publish'](_0x4ed246);});}[_0x677888(0x6f6)]({id:_0x16c8b4}){const _0x55d0c6=_0x677888;this[_0x55d0c6(0x3a7)](_0x48865c=>_0x48865c[_0x55d0c6(0x3f9)]()===_0x16c8b4)[_0x55d0c6(0x938)](_0x18e1dd=>{const _0x301679=_0x55d0c6;this[_0x301679(0x40f)](_0x18e1dd[_0x301679(0x3f9)](),_0x18e1dd[_0x301679(0x4d9)]());});}['notifyObjectStoreOfNodeJoin']({id:_0x4401de}){const _0x1eb474=_0x677888;this['objectStores'][_0x1eb474(0x938)](_0x265881=>_0x265881[_0x1eb474(0x9a6)](_0x4401de));}[_0x677888(0x5ef)]({id:_0xa96b01}){const _0x163975=_0x677888;this['objectStores'][_0x163975(0x938)](_0xea1a35=>_0xea1a35[_0x163975(0x6f6)](_0xa96b01));}[_0x677888(0x690)](_0x58a27c){const _0x1c5dae=_0x677888;if(!this['jobDispatchers'][_0x1c5dae(0x26b)](_0x58a27c))throw new _0x2ed9c0(_0x4e0a41[_0x1c5dae(0xab3)],_0x1c5dae(0x948));const _0x30e33b=this['jobDispatchers'][_0x1c5dae(0x8a1)](_0x58a27c);this[_0x1c5dae(0x5b1)][_0x1c5dae(0x60b)](_0x58a27c),_0x30e33b['destroy'](),this['configs'][_0x1c5dae(0x64f)][_0x1c5dae(0x1bd)](_0x30e33b);}[_0x677888(0x4a4)](_0x2e71cb){const _0x547b7d=_0x677888;if(!this['jobWorkers'][_0x547b7d(0x26b)](_0x2e71cb))throw new _0x2ed9c0(_0x4e0a41[_0x547b7d(0x4d6)],_0x547b7d(0x9e1));const _0x185888=this[_0x547b7d(0x2bf)][_0x547b7d(0x8a1)](_0x2e71cb);this['jobWorkers'][_0x547b7d(0x60b)](_0x2e71cb),_0x185888[_0x547b7d(0x405)](),this[_0x547b7d(0x4f0)][_0x547b7d(0x64f)]['unregisterSystemSource'](_0x185888);}[_0x677888(0x625)](_0x1ccfa7){const _0x2dc8bc=_0x677888;if(!this['objectStores'][_0x2dc8bc(0x26b)](_0x1ccfa7))throw new _0x2ed9c0(_0x4e0a41[_0x2dc8bc(0x58c)],_0x2dc8bc(0x251));const _0x3e646d=this[_0x2dc8bc(0x3d9)]['get'](_0x1ccfa7);this[_0x2dc8bc(0x3d9)]['delete'](_0x1ccfa7),_0x3e646d[_0x2dc8bc(0x405)](),this[_0x2dc8bc(0x4f0)][_0x2dc8bc(0x64f)][_0x2dc8bc(0x1bd)](_0x3e646d);}[_0x677888(0x278)](_0x3456be){const _0x2f3854=_0x677888;if(!this['externalStorageConnections'][_0x2f3854(0x26b)](_0x3456be))throw new _0x2ed9c0(_0x4e0a41[_0x2f3854(0xac7)],_0x2f3854(0x5c6));const _0x4a4237=this[_0x2f3854(0x717)][_0x2f3854(0x8a1)](_0x3456be);this[_0x2f3854(0x717)][_0x2f3854(0x60b)](_0x3456be),_0x4a4237['destroy'](),this[_0x2f3854(0x4f0)][_0x2f3854(0x64f)][_0x2f3854(0x1bd)](_0x4a4237);}[_0x677888(0x75f)](_0x53a4b0){const _0x9e7149=_0x677888;if(!this['pubSubTopics'][_0x9e7149(0x26b)](_0x53a4b0))throw new _0x2ed9c0(_0x4e0a41[_0x9e7149(0x524)],'Stream\x20does\x20not\x20exist');const _0x291dbc=this[_0x9e7149(0x29b)][_0x9e7149(0x8a1)](_0x53a4b0);this[_0x9e7149(0x29b)]['delete'](_0x53a4b0),_0x291dbc[_0x9e7149(0x405)](),this['configs'][_0x9e7149(0x64f)][_0x9e7149(0x1bd)](_0x291dbc);}[_0x677888(0x191)](_0x5db695){const _0x4fd186=_0x677888;if(!this[_0x4fd186(0x1c2)][_0x4fd186(0x26b)](_0x5db695))throw new _0x2ed9c0(_0x4e0a41[_0x4fd186(0x423)],'Database\x20does\x20not\x20exist');const _0x2d92e7=this['keyValueDatabases'][_0x4fd186(0x8a1)](_0x5db695);this[_0x4fd186(0x1c2)][_0x4fd186(0x60b)](_0x5db695),_0x2d92e7[_0x4fd186(0x405)](),this[_0x4fd186(0x4f0)][_0x4fd186(0x64f)][_0x4fd186(0x1bd)](_0x2d92e7);}[_0x677888(0x205)](_0x17eccb){const _0x3944e4=_0x677888;if(!this[_0x3944e4(0x7bd)][_0x3944e4(0x26b)](_0x17eccb))throw new _0x2ed9c0(_0x4e0a41[_0x3944e4(0xa62)],'Database\x20does\x20not\x20exist');const _0x16c4e6=this['vectorDatabases']['get'](_0x17eccb);this['vectorDatabases'][_0x3944e4(0x60b)](_0x17eccb),_0x16c4e6['destroy'](),this['configs'][_0x3944e4(0x64f)][_0x3944e4(0x1bd)](_0x16c4e6);}['removeGraphDatabase'](_0x829dae){const _0x5226d8=_0x677888;if(!this[_0x5226d8(0x229)]['has'](_0x829dae))throw new _0x2ed9c0(_0x4e0a41['GraphDatabaseDoesNotExist'],_0x5226d8(0x3e6));const _0x2ea64a=this['graphDatabases'][_0x5226d8(0x8a1)](_0x829dae);this['graphDatabases'][_0x5226d8(0x60b)](_0x829dae),_0x2ea64a[_0x5226d8(0x405)](),this['configs'][_0x5226d8(0x64f)][_0x5226d8(0x1bd)](_0x2ea64a);}[_0x677888(0x4a9)](_0x199ddb){const _0x14d92e=_0x677888;if(!this[_0x14d92e(0x7a2)][_0x14d92e(0x26b)](_0x199ddb))throw new _0x4dab04(_0x4dab04[_0x14d92e(0x6ec)][_0x14d92e(0x62b)],{'label':_0x199ddb,'localId':this['configs'][_0x14d92e(0xa36)]['getId']()});const _0x19e29d=this[_0x14d92e(0x7a2)][_0x14d92e(0x8a1)](_0x199ddb);this['configs']['mediator'][_0x14d92e(0x1bd)](_0x19e29d),_0x19e29d[_0x14d92e(0x405)](),this[_0x14d92e(0x7a2)]['delete'](_0x199ddb);}[_0x677888(0x40f)](_0x3e3768,_0x16fbea){const _0x145a99=_0x677888;if(!this[_0x145a99(0xac6)][_0x145a99(0x26b)](_0x3e3768))throw new _0x4dab04(_0x4dab04['codes']['NodeDoesNotExist'],{'nodeId':_0x3e3768,'localId':this['configs'][_0x145a99(0xa36)]['getId']()});const _0x123303=this[_0x145a99(0xac6)][_0x145a99(0x8a1)](_0x3e3768);if(!_0x123303[_0x145a99(0x26b)](_0x16fbea))throw new _0x4dab04(_0x4dab04[_0x145a99(0x6ec)]['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x3e3768,'label':_0x16fbea,'localId':this[_0x145a99(0x4f0)][_0x145a99(0xa36)][_0x145a99(0x48e)]()});const _0x1ac000=_0x123303[_0x145a99(0x8a1)](_0x16fbea);this[_0x145a99(0x4f0)][_0x145a99(0x64f)][_0x145a99(0x1bd)](_0x1ac000),_0x1ac000[_0x145a99(0x405)](),_0x123303[_0x145a99(0x60b)](_0x16fbea);}}var _0x76b058,_0x1e07b6,_0x5e8cde;!function(_0x15f45f){const _0x437901=_0x677888;_0x15f45f[_0x437901(0x8c4)]=_0x437901(0x61b),_0x15f45f[_0x437901(0x51f)]=_0x437901(0xb14),_0x15f45f[_0x437901(0x3f7)]=_0x437901(0x1fe),_0x15f45f[_0x437901(0x3a5)]=_0x437901(0x2d0),_0x15f45f[_0x437901(0x4db)]=_0x437901(0xb1d),_0x15f45f[_0x437901(0xa26)]=_0x437901(0x852),_0x15f45f['RoundTripTime']=_0x437901(0x83b),_0x15f45f[_0x437901(0x788)]=_0x437901(0x6ff);}(_0x76b058||(_0x76b058={})),function(_0x10aea5){const _0x2d4fd8=_0x677888;_0x10aea5[_0x2d4fd8(0x7bf)]=_0x2d4fd8(0x4e9),_0x10aea5['TimePerFrame']='cpu.time_per_frame',_0x10aea5[_0x2d4fd8(0x788)]=_0x2d4fd8(0x2c5),_0x10aea5[_0x2d4fd8(0xa26)]='cpu.fps',_0x10aea5[_0x2d4fd8(0x3a5)]=_0x2d4fd8(0x202),_0x10aea5[_0x2d4fd8(0x4db)]=_0x2d4fd8(0x41c),_0x10aea5[_0x2d4fd8(0x9f4)]=_0x2d4fd8(0x1e2);}(_0x1e07b6||(_0x1e07b6={})),function(_0x1554da){const _0x40f6db=_0x677888;_0x1554da[_0x1554da[_0x40f6db(0x9c7)]=0x0]=_0x40f6db(0x9c7);}(_0x5e8cde||(_0x5e8cde={}));const _0x38942f=[{'type':_0x76b058[_0x677888(0x8c4)],'reportMetric':_0x2e1b3d=>_0x2e1b3d[_0x677888(0x8c4)],'maxThreshold':2.5},{'type':_0x76b058['DTVolatility'],'reportMetric':_0x5a5158=>_0x5a5158['DTVolatility'],'maxThreshold':0.5}],_0x1f37a9=[{'type':_0x76b058[_0x677888(0x3f7)],'reportMetric':_0x283a4c=>{const _0x4d72f9=_0x677888,_0x878fac=0x3e8/_0x283a4c[_0x4d72f9(0x62a)];return _0x283a4c[_0x4d72f9(0xac4)]/_0x878fac;},'maxThreshold':0.75},{'type':_0x76b058[_0x677888(0x3a5)],'reportMetric':_0x480d6b=>{const _0x99265a=_0x677888,_0x33cc4c=_0x480d6b[_0x99265a(0x62a)]*_0x480d6b[_0x99265a(0x236)]*_0x480d6b[_0x99265a(0x616)]*0.12;return _0x480d6b[_0x99265a(0x2d0)]/_0x33cc4c;},'minThreshold':0.25},{'type':_0x76b058[_0x677888(0x4db)],'reportMetric':_0x329512=>_0x329512[_0x677888(0xb1d)],'maxThreshold':0.6},{'type':_0x76b058[_0x677888(0xa26)],'reportMetric':_0x32d32b=>_0x32d32b[_0x677888(0x62a)],'minThreshold':0xa}],_0x45501f=[{'type':_0x76b058[_0x677888(0x4db)],'reportMetric':_0xec2690=>_0xec2690['jitter'],'maxThreshold':0.6}],_0x112df8=[{'type':_0x76b058[_0x677888(0x9f4)],'reportMetric':_0xc36272=>_0xc36272['roundTripTime'],'maxThreshold':0x1/0x0}],_0x1eebdb=[{'type':_0x76b058['AudioVideoDelay'],'reportMetric':_0x125f71=>_0x125f71[_0x677888(0x788)],'maxThreshold':0x12c}],_0x4e36ff=[{'type':_0x1e07b6[_0x677888(0x7bf)],'issues':[{'type':_0x76b058[_0x677888(0x8c4)],'threshold':0x5},{'type':_0x76b058[_0x677888(0x51f)],'threshold':0x5}]},{'type':_0x1e07b6[_0x677888(0x3f7)],'issues':[{'type':_0x76b058['TimePerFrame'],'threshold':0x3}]},{'type':_0x1e07b6[_0x677888(0x788)],'issues':[{'type':_0x76b058['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x1e07b6[_0x677888(0xa26)],'issues':[{'type':_0x76b058[_0x677888(0xa26)],'threshold':0x3}]},{'type':_0x1e07b6[_0x677888(0x3a5)],'issues':[{'type':_0x76b058['Bitrate'],'threshold':0x3}]},{'type':_0x1e07b6[_0x677888(0x4db)],'issues':[{'type':_0x76b058['Jitter'],'threshold':0x3}]},{'type':_0x1e07b6[_0x677888(0x9f4)],'issues':[{'type':_0x76b058[_0x677888(0x9f4)],'threshold':0x3}]}];var _0x43d5f3,_0x317316;!function(_0x1e6776){const _0x5e6829=_0x677888;_0x1e6776[_0x1e6776[_0x5e6829(0x19e)]=0x0]=_0x5e6829(0x19e),_0x1e6776[_0x1e6776[_0x5e6829(0x4f5)]=0x1]=_0x5e6829(0x4f5);}(_0x43d5f3||(_0x43d5f3={}));class _0x57b8e4{[_0x677888(0x4f0)];[_0x677888(0x307)]=[];[_0x677888(0x36c)];constructor(_0x2a6f42){const _0x1e84ac=_0x677888;this[_0x1e84ac(0x4f0)]=_0x2a6f42,this['configs']['mediator']['registerSystemSource'](this);}[_0x677888(0xaf0)](_0x4621e4){const _0x3ea3f8=_0x677888;this[_0x3ea3f8(0x36c)]=_0x4621e4;}['unregisterSystemPublisher'](){const _0xeb384=_0x677888;this[_0xeb384(0x36c)]=void 0x0;}[_0x677888(0x7ed)](){const _0x5b2409=_0x677888;this['configs'][_0x5b2409(0x64f)][_0x5b2409(0x1bd)](this),this[_0x5b2409(0x307)]=[];}['handleStatsSystemEvents'](_0xcade10){const _0x1a14bd=_0x677888;switch(_0xcade10['content']['type']){case _0x43d5f3['LocalReport']:this['detectLocalIssues'](_0xcade10[_0x1a14bd(0x6a6)][_0x1a14bd(0x337)]);break;case _0x43d5f3['StreamReport']:this[_0x1a14bd(0x188)](_0xcade10[_0x1a14bd(0x6a6)][_0x1a14bd(0x337)]);}}['detectProblems'](_0x1203da,_0x2bf9f1,_0x2e0e7c,_0x1420b1){const _0xfb5d5d=_0x677888,_0x28db5a=_0x4e36ff[_0xfb5d5d(0x8ab)](_0x2c6e7f=>_0x2c6e7f['issues'][_0xfb5d5d(0x591)](_0x4a2cd8=>_0x4a2cd8[_0xfb5d5d(0xb0f)]===_0x1203da));_0x1420b1>=_0x28db5a[_0xfb5d5d(0x307)]['find'](_0x1f1f12=>_0x1f1f12['type']===_0x1203da)[_0xfb5d5d(0x4e3)]&&(this['addProblem'](_0x28db5a[_0xfb5d5d(0xb0f)],_0x2bf9f1,_0x2e0e7c),this[_0xfb5d5d(0x307)]=this[_0xfb5d5d(0x307)][_0xfb5d5d(0x3cc)](_0x47b6c1=>!(_0x47b6c1[_0xfb5d5d(0xb0f)]===_0x1203da&&_0x47b6c1[_0xfb5d5d(0x94c)]===_0x2bf9f1&&_0x47b6c1[_0xfb5d5d(0x335)]===_0x2e0e7c)));}[_0x677888(0x529)](_0x3a08ca){const _0x148707=_0x677888;_0x38942f[_0x148707(0x938)](_0x11a45b=>{const _0x169cb7=_0x148707,_0x46c173=_0x11a45b[_0x169cb7(0x4d4)](_0x3a08ca);_0x11a45b[_0x169cb7(0x332)]&&_0x46c173>_0x11a45b[_0x169cb7(0x332)]&&this[_0x169cb7(0x865)](_0x11a45b[_0x169cb7(0xb0f)],this[_0x169cb7(0x4f0)][_0x169cb7(0xa36)][_0x169cb7(0x48e)](),_0x1b2fd6['Sender'],_0x46c173),_0x11a45b[_0x169cb7(0x9a9)]&&_0x46c173<_0x11a45b[_0x169cb7(0x9a9)]&&this[_0x169cb7(0x865)](_0x11a45b[_0x169cb7(0xb0f)],this['configs'][_0x169cb7(0xa36)]['getId'](),_0x1b2fd6['Sender'],_0x46c173);});}[_0x677888(0x188)](_0x484fb6){const _0x30553f=_0x677888;let _0x4d5608=[];switch(_0x484fb6['origin']){case _0x1b2fd6[_0x30553f(0x7dd)]:_0x4d5608=_0x112df8;break;case _0x1b2fd6[_0x30553f(0x707)]:_0x4d5608=_0x1eebdb;}_0x484fb6[_0x30553f(0x4ff)]&&this['detectVideoIssues'](_0x484fb6[_0x30553f(0x94c)],_0x1b2fd6['Sender'],_0x484fb6['video']),_0x484fb6[_0x30553f(0x44b)]&&this['detectAudioIssues'](_0x484fb6[_0x30553f(0x94c)],_0x1b2fd6[_0x30553f(0x7dd)],_0x484fb6[_0x30553f(0x44b)]),_0x4d5608['forEach'](_0x4b42ae=>{const _0x3bebfd=_0x30553f,_0x5a4817=_0x4b42ae['reportMetric'](_0x484fb6);_0x4b42ae['maxThreshold']&&_0x5a4817>_0x4b42ae[_0x3bebfd(0x332)]&&this['addIssue'](_0x4b42ae[_0x3bebfd(0xb0f)],_0x484fb6[_0x3bebfd(0x94c)],_0x1b2fd6[_0x3bebfd(0x7dd)],_0x5a4817),_0x4b42ae[_0x3bebfd(0x9a9)]&&_0x5a4817<_0x4b42ae[_0x3bebfd(0x9a9)]&&this['addIssue'](_0x4b42ae['type'],_0x484fb6[_0x3bebfd(0x94c)],_0x1b2fd6['Sender'],_0x5a4817);});}[_0x677888(0x634)](_0x29bbd4,_0x499123,_0x4405e1){const _0x334556=_0x677888;0x0!==_0x4405e1[_0x334556(0x2d0)]&&_0x1f37a9['forEach'](_0x334de5=>{const _0x293098=_0x334556,_0x6471e7=_0x334de5[_0x293098(0x4d4)](_0x4405e1);_0x334de5[_0x293098(0x332)]&&_0x6471e7>_0x334de5[_0x293098(0x332)]&&this['addIssue'](_0x334de5[_0x293098(0xb0f)],_0x29bbd4,_0x499123,_0x6471e7,'video'),_0x334de5['minThreshold']&&_0x6471e7<_0x334de5[_0x293098(0x9a9)]&&this['addIssue'](_0x334de5['type'],_0x29bbd4,_0x499123,_0x6471e7,_0x293098(0x4ff));});}[_0x677888(0x7d0)](_0xb7ac0e,_0x4562a5,_0x3ff92f){const _0x34cef4=_0x677888;0x0!==_0x3ff92f[_0x34cef4(0x2d0)]&&_0x45501f[_0x34cef4(0x938)](_0x25abdb=>{const _0x5e671c=_0x34cef4,_0x4d2991=_0x25abdb['reportMetric'](_0x3ff92f);_0x25abdb[_0x5e671c(0x332)]&&_0x4d2991>_0x25abdb['maxThreshold']&&this[_0x5e671c(0x865)](_0x25abdb[_0x5e671c(0xb0f)],_0xb7ac0e,_0x4562a5,_0x4d2991,_0x5e671c(0x44b)),_0x25abdb['minThreshold']&&_0x4d2991<_0x25abdb[_0x5e671c(0x9a9)]&&this['addIssue'](_0x25abdb[_0x5e671c(0xb0f)],_0xb7ac0e,_0x4562a5,_0x4d2991,_0x5e671c(0x44b));});}['addIssue'](_0x3a2099,_0x5bbe9a,_0x4a74cb,_0x3e30a4,_0x5f0aa9){const _0xd47aa1=_0x677888;_0x5bf0c2[_0xd47aa1(0x5d7)](_0x86d570['Detection'],'Issue\x20detected:\x20'+_0x3a2099,_0x3a2099,_0x3e30a4),_0x5bf0c2[_0xd47aa1(0x9c6)](_0xd47aa1(0x3aa),{'clusterId':this[_0xd47aa1(0x4f0)][_0xd47aa1(0x8a2)],'nodeId':this[_0xd47aa1(0x4f0)][_0xd47aa1(0xa36)]['getId'](),'nodeType':this[_0xd47aa1(0x4f0)][_0xd47aa1(0xa36)][_0xd47aa1(0xb0f)],'remoteId':_0x5bbe9a,'data':{'type':_0x3a2099,'value':_0x3e30a4,'kind':_0x5f0aa9}}),this[_0xd47aa1(0x307)]=this['issues'][_0xd47aa1(0x3cc)](_0x40361e=>Date[_0xd47aa1(0x9bd)]()-_0x40361e['timestamp']<0x7530),this['issues']['push']({'timestamp':Date['now'](),'type':_0x3a2099,'nodeId':_0x5bbe9a,'origin':_0x4a74cb,'value':_0x3e30a4,'kind':_0x5f0aa9});const _0x543979=this['issues'][_0xd47aa1(0x3cc)](_0x15655a=>_0x15655a[_0xd47aa1(0xb0f)]===_0x3a2099&&_0x15655a[_0xd47aa1(0x94c)]===_0x5bbe9a&&_0x15655a[_0xd47aa1(0x335)]===_0x4a74cb)['length'];this[_0xd47aa1(0xa4e)](_0x3a2099,_0x5bbe9a,_0x4a74cb,_0x543979);}[_0x677888(0x5b6)](_0x1c4e5b,_0x18f159,_0x2a35fe){const _0x3469ec=_0x677888;_0x5bf0c2[_0x3469ec(0x5d7)](_0x86d570['Detection'],'Problem\x20detected:\x20'+_0x1c4e5b),_0x5bf0c2[_0x3469ec(0x9c6)]('problem',{'clusterId':this[_0x3469ec(0x4f0)]['clusterId'],'nodeId':this['configs'][_0x3469ec(0xa36)][_0x3469ec(0x48e)](),'nodeType':this[_0x3469ec(0x4f0)][_0x3469ec(0xa36)][_0x3469ec(0xb0f)],'remoteId':_0x18f159,'data':{'type':_0x1c4e5b}}),this['systemTopic']?.[_0x3469ec(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a['Detection'],'content':{'type':_0x5e8cde['Problem'],'data':{'timestamp':Date[_0x3469ec(0x9bd)](),'nodeId':_0x18f159,'origin':_0x1b2fd6['Sender'],'type':_0x1c4e5b}}});}}class _0x19234b extends _0x427316{[_0x677888(0xb0f)]=_0x1736bb[_0x677888(0x9d1)][_0x677888(0x887)];}class _0x220954 extends _0x19234b{[_0x677888(0x36c)];[_0x677888(0x186)]=Date[_0x677888(0x9bd)]();[_0x677888(0x922)];[_0x677888(0x1f8)];[_0x677888(0x7ed)](){const _0x12d051=_0x677888;this[_0x12d051(0x922)]&&(clearTimeout(this[_0x12d051(0x922)]),delete this[_0x12d051(0x922)]),delete this[_0x12d051(0x1f8)],this['currentVersion']=Date[_0x12d051(0x9bd)](),super[_0x12d051(0x7ed)]();}[_0x677888(0xaf0)](_0x34daad){const _0x2be879=_0x677888;this[_0x2be879(0x36c)]=_0x34daad;}[_0x677888(0x4dc)](){const _0x2ae955=_0x677888;delete this[_0x2ae955(0x36c)];}[_0x677888(0x583)](_0x30f801){const _0x406d58=_0x677888;!this[_0x406d58(0x922)]&&this['rank']&&this['systemTopic']['publish']({'sourceId':this['id'],'destinationIds':[_0x30f801],'propagate':!0x0,'messageType':_0x59623a[_0x406d58(0x881)],'content':{'type':_0x1577f4['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x406d58(0xb0f)]},'rank':this[_0x406d58(0x45b)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x406d58(0x186)]}});}[_0x677888(0x950)](_0xad4767){const _0x24503a=_0x677888;this[_0x24503a(0x974)][_0x24503a(0x26b)](_0xad4767)||(this[_0x24503a(0x974)]['add'](_0xad4767),this[_0x24503a(0x3bb)](),this[_0x24503a(0x9f1)](!0x0));}[_0x677888(0x4b4)](_0x35db3d){const _0x4807fd=_0x677888;this['remoteConnections'][_0x4807fd(0x26b)](_0x35db3d)&&(this['remoteConnections'][_0x4807fd(0x60b)](_0x35db3d),this[_0x4807fd(0x3bb)](),this[_0x4807fd(0x9f1)](!0x0));}[_0x677888(0x2f8)](){return this['currentVersion'];}[_0x677888(0x715)](_0x203c8b,_0x53bafe=!0x0){const _0x4a4b9b=_0x677888;this['rank']!==_0x203c8b&&(this[_0x4a4b9b(0x3b4)]=_0x203c8b,_0x53bafe&&(this[_0x4a4b9b(0x3bb)](),this[_0x4a4b9b(0x9f1)]()));}['incrementVersion'](){this['currentVersion']=Date['now']();}[_0x677888(0x9f1)](_0x4824f0=!0x1){const _0x1bb3da=_0x677888;if(this[_0x1bb3da(0x3b4)]){if(this['lastUpdated']||(this[_0x1bb3da(0x1f8)]=Date[_0x1bb3da(0x9bd)]()),this[_0x1bb3da(0x922)]){if(Date[_0x1bb3da(0x9bd)]()-this[_0x1bb3da(0x1f8)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x1bb3da(0x922)]=setTimeout(()=>{const _0x23aa17=_0x1bb3da;delete this['lastUpdated'],delete this[_0x23aa17(0x922)],this[_0x23aa17(0x36c)][_0x23aa17(0x6c6)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x59623a[_0x23aa17(0x881)],'content':{'type':_0x4824f0?_0x1577f4['NodeConnectionsUpdate']:_0x1577f4['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x23aa17(0xb0f)]},'rank':this['getRank'](),'remoteConnections':Array[_0x23aa17(0x3fd)](this[_0x23aa17(0x974)]),'version':this[_0x23aa17(0x186)]}});},0x3e8);}}}class _0x371399 extends _0x37a123{[_0x677888(0x36c)];[_0x677888(0x186)]=Date[_0x677888(0x9bd)]();['updateDebounceTimeout'];['lastUpdated'];[_0x677888(0x7ed)](){const _0x274b26=_0x677888;this[_0x274b26(0x922)]&&(clearTimeout(this['updateDebounceTimeout']),delete this['updateDebounceTimeout']),delete this['lastUpdated'],this[_0x274b26(0x186)]=Date[_0x274b26(0x9bd)](),super[_0x274b26(0x7ed)]();}[_0x677888(0xaf0)](_0x19b4b8){const _0x5e0b24=_0x677888;this[_0x5e0b24(0x36c)]=_0x19b4b8;}[_0x677888(0x4dc)](){delete this['systemTopic'];}[_0x677888(0x583)](_0x1e835e){const _0x3062b9=_0x677888;!this[_0x3062b9(0x922)]&&this[_0x3062b9(0x3b4)]&&this[_0x3062b9(0x36c)]['publish']({'sourceId':this['id'],'destinationIds':[_0x1e835e],'propagate':!0x0,'messageType':_0x59623a['Node'],'content':{'type':_0x1577f4[_0x3062b9(0xa50)],'id':this['id'],'metaData':{'type':this[_0x3062b9(0xb0f)],'displayName':this[_0x3062b9(0x7a3)](),'email':this['getEmail']()},'rank':this[_0x3062b9(0x45b)](),'remoteConnections':Array[_0x3062b9(0x3fd)](this['remoteConnections']),'version':this[_0x3062b9(0x186)]}});}['addRemoteConnection'](_0x1a790c){const _0x34b0e1=_0x677888;this[_0x34b0e1(0x974)][_0x34b0e1(0x26b)](_0x1a790c)||(this[_0x34b0e1(0x974)][_0x34b0e1(0xa95)](_0x1a790c),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x677888(0x4b4)](_0x16beac){const _0x9cccaa=_0x677888;this[_0x9cccaa(0x974)][_0x9cccaa(0x26b)](_0x16beac)&&(this[_0x9cccaa(0x974)]['delete'](_0x16beac),this[_0x9cccaa(0x3bb)](),this[_0x9cccaa(0x9f1)](!0x0));}[_0x677888(0x2f8)](){const _0x28bf58=_0x677888;return this[_0x28bf58(0x186)];}[_0x677888(0x4ea)](_0x39c9bc){const _0xdf01df=_0x677888;this[_0xdf01df(0x23d)]!==_0x39c9bc&&(this[_0xdf01df(0x23d)]=_0x39c9bc,this[_0xdf01df(0x3bb)](),this['publishUserUpdate']());}['setEmail'](_0x34ef26){const _0x39b3ff=_0x677888;this[_0x39b3ff(0x416)]!==_0x34ef26&&(this[_0x39b3ff(0x416)]=_0x34ef26,this[_0x39b3ff(0x3bb)](),this[_0x39b3ff(0x9f1)]());}['setRank'](_0x28724d,_0x366a39=!0x0){const _0x572c92=_0x677888;this[_0x572c92(0x3b4)]!==_0x28724d&&(this['rank']=_0x28724d,_0x366a39&&(this[_0x572c92(0x3bb)](),this[_0x572c92(0x9f1)]()));}[_0x677888(0x3bb)](){const _0x46c238=_0x677888;this[_0x46c238(0x186)]=Date[_0x46c238(0x9bd)]();}[_0x677888(0x9f1)](_0x40ad94=!0x1){const _0x5a2753=_0x677888;if(this[_0x5a2753(0x3b4)]){if(this['lastUpdated']||(this[_0x5a2753(0x1f8)]=Date[_0x5a2753(0x9bd)]()),this[_0x5a2753(0x922)]){if(Date[_0x5a2753(0x9bd)]()-this[_0x5a2753(0x1f8)]>0x2328)return;clearTimeout(this[_0x5a2753(0x922)]);}this[_0x5a2753(0x922)]=setTimeout(()=>{const _0x293c73=_0x5a2753;delete this[_0x293c73(0x1f8)],delete this[_0x293c73(0x922)],this[_0x293c73(0x36c)][_0x293c73(0x6c6)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x59623a[_0x293c73(0x881)],'content':{'type':_0x40ad94?_0x1577f4['NodeConnectionsUpdate']:_0x1577f4[_0x293c73(0xa50)],'id':this['id'],'metaData':{'type':this[_0x293c73(0xb0f)],'displayName':this[_0x293c73(0x7a3)](),'email':this[_0x293c73(0x7ec)]()},'rank':this[_0x293c73(0x45b)](),'remoteConnections':Array['from'](this[_0x293c73(0x974)]),'version':this[_0x293c73(0x186)]}});},0x3e8);}}}class _0x1f1ed9{['id'];[_0x677888(0x5bd)];[_0x677888(0x94e)];['agentConfig'];[_0x677888(0xb0f)]=_0x1736bb['NodeType'][_0x677888(0x887)];[_0x677888(0x817)];constructor(_0x4c5d3a,_0x25224f,_0x18db54,_0x34ffc2){const _0x24ad5d=_0x677888;this['id']=_0x4c5d3a,this[_0x24ad5d(0x5bd)]=_0x25224f,this['vendorId']=_0x18db54,this[_0x24ad5d(0x44e)]=_0x34ffc2;}[_0x677888(0x48e)](){return this['id'];}['onConfigurationChange'](_0x5c42f0){const _0x139cd4=_0x677888,_0x1bf23a=(0x0,_0x214774['onSnapshot'])((0x0,_0x214774[_0x139cd4(0x3e7)])(_0x66e9[_0x139cd4(0x65d)](),_0x139cd4(0x406)+this[_0x139cd4(0x94e)]+_0x139cd4(0x936)+this[_0x139cd4(0x5bd)]),_0x3cb217=>{const _0x33b01f=_0x139cd4;if(_0x3cb217[_0x33b01f(0x639)]()){const _0x576fce=_0x3cb217[_0x33b01f(0x337)]();if(this[_0x33b01f(0x44e)][_0x33b01f(0x548)][_0x33b01f(0x647)](_0x576fce[_0x33b01f(0x548)]))return;_0x5bf0c2[_0x33b01f(0x5d7)](_0x86d570[_0x33b01f(0x881)],'agent-config-changed',{'agentId':this['id'],'groupId':this[_0x33b01f(0x5bd)],'oldConfig':this['agentConfig'],'newConfig':_0x576fce}),this[_0x33b01f(0x44e)]=_0x576fce,_0x5c42f0();}});return()=>_0x1bf23a();}[_0x677888(0xa0c)](_0x54ceea){const _0x3e4e49=_0x677888;return this[_0x3e4e49(0xb12)](this[_0x3e4e49(0x5bd)],_0x54ceea),_0x450481['setInterval'](()=>this[_0x3e4e49(0xb12)](this[_0x3e4e49(0x5bd)],_0x54ceea),0x7530);}[_0x677888(0x533)](){const _0x3fbfcf=_0x677888;if(!this['lastCapacityReport'])throw new _0x4dab04(_0x4dab04['codes'][_0x3fbfcf(0x9c1)]);return this[_0x3fbfcf(0x817)];}async['reportCapacity'](_0x2c7d9d,_0x48c219){const _0x5f1eee=_0x677888,_0x498e8f=await _0x48c219();this[_0x5f1eee(0x817)]=_0x498e8f,await(0x0,_0x214774['addDoc'])((0x0,_0x214774[_0x5f1eee(0xa12)])(_0x66e9['getFirestore'](),_0x5f1eee(0x406)+this[_0x5f1eee(0x94e)]+_0x5f1eee(0x471)),{'agentId':this['id'],'groupId':_0x2c7d9d,'timestamp':(0x0,_0x214774[_0x5f1eee(0x3b6)])(),'capacity':_0x498e8f});}}!function(_0x42dacb){const _0x5054e1=_0x677888;_0x42dacb[_0x42dacb[_0x5054e1(0x1b9)]=0x0]=_0x5054e1(0x1b9),_0x42dacb[_0x42dacb[_0x5054e1(0x5b8)]=0x1]='Offline';}(_0x317316||(_0x317316={}));class _0x2a3fe4 extends _0x19234b{[_0x677888(0x186)];[_0x677888(0x99c)]=_0x317316['Online'];[_0x677888(0x1f8)]=Date[_0x677888(0x9bd)]();constructor(_0x42202c,_0x20d166=new Set(),_0x604b7f,_0x1acc09){const _0x2ee95c=_0x677888;super(_0x42202c,_0x20d166,_0x1acc09),this[_0x2ee95c(0x186)]=_0x604b7f;}[_0x677888(0x2f8)](){const _0x4b540e=_0x677888;return this[_0x4b540e(0x186)];}[_0x677888(0x595)](){return this['status'];}[_0x677888(0x42b)](){const _0x1db4b0=_0x677888;return this[_0x1db4b0(0x1f8)];}[_0x677888(0x715)](_0x2c4075){const _0x728fce=_0x677888;this[_0x728fce(0x3b4)]!==_0x2c4075&&(this[_0x728fce(0x3b4)]=_0x2c4075,this[_0x728fce(0xa4a)]());}[_0x677888(0x939)](_0x4f606a){const _0x283444=_0x677888;let _0x65f36b=!0x1;for(const _0x301462 of this[_0x283444(0x974)])_0x4f606a[_0x283444(0xace)](_0x301462)||(_0x65f36b=!0x0,this['remoteConnections'][_0x283444(0x60b)](_0x301462));for(const _0x5db581 of _0x4f606a)this[_0x283444(0x974)][_0x283444(0x26b)](_0x5db581)||(_0x65f36b=!0x0,this[_0x283444(0x974)][_0x283444(0xa95)](_0x5db581));_0x65f36b&&this['updateLastUpdated']();}[_0x677888(0x793)](_0x375b71){const _0x2b684e=_0x677888;this[_0x2b684e(0x186)]!==_0x375b71&&(this[_0x2b684e(0x186)]=_0x375b71,this['updateLastUpdated']());}[_0x677888(0x81e)](_0x145152){const _0x43120c=_0x677888;this['status']!==_0x145152&&(this[_0x43120c(0x99c)]=_0x145152,this[_0x43120c(0xa4a)](),_0x145152===_0x317316['Offline']&&this['close']());}[_0x677888(0xa4a)](){const _0x401505=_0x677888;this[_0x401505(0x1f8)]=Date[_0x401505(0x9bd)]();}}class _0x3d3c4e extends _0x37a123{[_0x677888(0x186)];['status']=_0x317316[_0x677888(0x1b9)];['lastUpdated']=Date[_0x677888(0x9bd)]();constructor(_0x33045f,_0x4700d6,_0x57f5d7,_0x282995=new Set(),_0x2e0168,_0x578ffa){super(_0x33045f,_0x4700d6,_0x57f5d7,_0x282995,_0x578ffa),this['currentVersion']=_0x2e0168;}[_0x677888(0x2f8)](){const _0x459925=_0x677888;return this[_0x459925(0x186)];}['getStatus'](){const _0x1613ec=_0x677888;return this[_0x1613ec(0x99c)];}[_0x677888(0x42b)](){return this['lastUpdated'];}[_0x677888(0x4ea)](_0x11631a){const _0x5bea77=_0x677888;this[_0x5bea77(0x23d)]!==_0x11631a&&(this[_0x5bea77(0x23d)]=_0x11631a,this[_0x5bea77(0xa4a)]());}[_0x677888(0x230)](_0x48e574){const _0x40a0a0=_0x677888;this[_0x40a0a0(0x416)]!==_0x48e574&&(this[_0x40a0a0(0x416)]=_0x48e574,this[_0x40a0a0(0xa4a)]());}[_0x677888(0x715)](_0x164181){const _0x4d7039=_0x677888;this[_0x4d7039(0x3b4)]!==_0x164181&&(this[_0x4d7039(0x3b4)]=_0x164181,this[_0x4d7039(0xa4a)]());}[_0x677888(0x939)](_0x489837){const _0x3ab181=_0x677888;let _0x5b4314=!0x1;for(const _0x4dc7f1 of this[_0x3ab181(0x974)])_0x489837[_0x3ab181(0xace)](_0x4dc7f1)||(_0x5b4314=!0x0,this[_0x3ab181(0x974)][_0x3ab181(0x60b)](_0x4dc7f1));for(const _0x91a034 of _0x489837)this[_0x3ab181(0x974)][_0x3ab181(0x26b)](_0x91a034)||(_0x5b4314=!0x0,this[_0x3ab181(0x974)][_0x3ab181(0xa95)](_0x91a034));_0x5b4314&&this[_0x3ab181(0xa4a)]();}[_0x677888(0x793)](_0x34dfb6){const _0x50f86d=_0x677888;this['currentVersion']!==_0x34dfb6&&(this[_0x50f86d(0x186)]=_0x34dfb6,this[_0x50f86d(0xa4a)]());}[_0x677888(0x81e)](_0x2538fa){const _0x1a4ab8=_0x677888;this['status']!==_0x2538fa&&(this[_0x1a4ab8(0x99c)]=_0x2538fa,this[_0x1a4ab8(0xa4a)](),_0x2538fa===_0x317316['Offline']&&this[_0x1a4ab8(0x7ed)]());}[_0x677888(0xa4a)](){const _0x2be9f6=_0x677888;this['lastUpdated']=Date[_0x2be9f6(0x9bd)]();}}class _0x92df93{[_0x677888(0x94e)];[_0x677888(0x8a2)];['localNode'];['minConnections'];[_0x677888(0x7fa)]=_0x11d010();['firebaseUnsubscriber'];[_0x677888(0x2ad)];[_0x677888(0x8b5)];[_0x677888(0x536)]=!0x1;[_0x677888(0x348)];['nodeKey'];constructor(_0x6dfe83,_0xf8cb4a,_0x244a9f,_0x4d7000){const _0x2cb0a9=_0x677888;this[_0x2cb0a9(0x94e)]=_0x6dfe83,this[_0x2cb0a9(0x8a2)]=_0xf8cb4a,this['localNode']=_0x244a9f,this[_0x2cb0a9(0x19b)]=_0x4d7000,this['clusterKey']=_0x2cb0a9(0x6be)+this[_0x2cb0a9(0x94e)]+_0x2cb0a9(0x6be)+this['clusterId'],this[_0x2cb0a9(0xac1)]=_0x2cb0a9(0x6be)+this[_0x2cb0a9(0x94e)]+_0x2cb0a9(0x6be)+this[_0x2cb0a9(0xa36)]['getId'](),this[_0x2cb0a9(0x5ca)]=(0x0,_0xb117e1[_0x2cb0a9(0x6d5)])((0x0,_0xb117e1[_0x2cb0a9(0x54e)])(_0x66e9['getDatabase'](),_0x2cb0a9(0x426)),_0x2b4b2a=>{const _0x737424=_0x2cb0a9;!0x0!==_0x2b4b2a[_0x737424(0x892)]()?this[_0x737424(0x536)]&&_0x5bf0c2[_0x737424(0x487)]('firebase-disconnect',{'clusterId':this[_0x737424(0x8a2)],'nodeId':this[_0x737424(0xa36)][_0x737424(0x48e)](),'nodeType':this['localNode'][_0x737424(0xb0f)]}):(this[_0x737424(0x536)]=!0x0,this[_0x737424(0x605)](),_0x5bf0c2[_0x737424(0xa38)]('firebase-connect',{'clusterId':this[_0x737424(0x8a2)],'nodeId':this[_0x737424(0xa36)][_0x737424(0x48e)](),'nodeType':this['localNode'][_0x737424(0xb0f)]}));});}async['join'](){const _0x512cce=_0x677888;await this[_0x512cce(0x689)]();const _0x344848=await this[_0x512cce(0x462)]();return this['childRemovedUnsubscriber']=(0x0,_0xb117e1[_0x512cce(0x84c)])((0x0,_0xb117e1['ref'])(_0x66e9[_0x512cce(0xa45)](),_0x512cce(0x59d)+this[_0x512cce(0x348)]+_0x512cce(0x63f)),_0x5ca0ec=>{const _0x4726ef=_0x512cce,_0x2fe2b7=_0x5ca0ec[_0x4726ef(0x988)];if(!_0x2fe2b7)return;const _0x4428b1=_0x2fe2b7[_0x4726ef(0x267)](_0x4726ef(0x6be)+this[_0x4726ef(0x94e)]+_0x4726ef(0x6be),'');this[_0x4726ef(0x7fa)]['publish'](_0x4428b1);}),_0x344848;}async[_0x677888(0x7ed)](){const _0x56e36d=_0x677888;this[_0x56e36d(0x2ad)]?.(),delete this['childRemovedUnsubscriber'],this[_0x56e36d(0x8b5)]?.[_0x56e36d(0xafb)](),delete this['onDisconnectHandler'],this[_0x56e36d(0x5ca)]?.(),delete this[_0x56e36d(0x5ca)],await(0x0,_0xb117e1[_0x56e36d(0x772)])((0x0,_0xb117e1['ref'])(_0x66e9[_0x56e36d(0xa45)](),'clusters/'+this[_0x56e36d(0x348)]+_0x56e36d(0x658)+this[_0x56e36d(0xac1)]));}[_0x677888(0xa88)](_0x25e0f3){const _0x32b8b2=_0x677888;return this[_0x32b8b2(0x7fa)][_0x32b8b2(0x576)](_0x25e0f3);}async[_0x677888(0x462)](){const _0x276e03=_0x677888,_0x3a8c31=[],_0x8a3365=await(0x0,_0xb117e1['get'])((0x0,_0xb117e1['ref'])(_0x66e9[_0x276e03(0xa45)](),'clusters/'+this[_0x276e03(0x348)]+_0x276e03(0x63f))),_0x5718d3=[];return _0x8a3365[_0x276e03(0x938)](_0x267a93=>{const _0x1db8b6=_0x276e03,_0x23c0fb=_0x267a93[_0x1db8b6(0x988)]?.[_0x1db8b6(0x267)]('ccc'+this[_0x1db8b6(0x94e)]+_0x1db8b6(0x6be),'');_0x5718d3['push']({'id':_0x23c0fb,'joinedAt':_0x267a93['val']()[_0x1db8b6(0x8ed)],'priority':_0x267a93[_0x1db8b6(0x892)]()[_0x1db8b6(0x35a)]});}),_0x5718d3['sort']((_0x10e5da,_0x497584)=>_0x10e5da[_0x276e03(0x8ed)]===_0x497584[_0x276e03(0x8ed)]?_0x10e5da['priority']-_0x497584['priority']:_0x10e5da[_0x276e03(0x8ed)]-_0x497584['joinedAt'])[_0x276e03(0xac8)](_0x5718d3[_0x276e03(0xa73)](_0x3e1df1=>_0x3e1df1['id']===this['localNode'][_0x276e03(0x48e)]())),_0x5718d3[_0x276e03(0x323)]((_0x1ffd4d,_0x51c416)=>_0x51c416[_0x276e03(0x8ed)]===_0x1ffd4d[_0x276e03(0x8ed)]?_0x51c416['priority']-_0x1ffd4d['priority']:_0x51c416[_0x276e03(0x8ed)]-_0x1ffd4d['joinedAt'])[_0x276e03(0x938)](_0x370a25=>{const _0x119b47=_0x276e03;_0x3a8c31[_0x119b47(0x8a9)]>=this['minConnections']||_0x3a8c31[_0x119b47(0xa65)](_0x370a25['id']);}),_0x5bf0c2[_0x276e03(0x9c6)]('discover',{'clusterId':this[_0x276e03(0x8a2)],'nodeId':this[_0x276e03(0xa36)]['getId'](),'nodeType':this['localNode']['type'],'data':{'ancestorIds':_0x3a8c31,'allNodes':_0x5718d3}}),_0x3a8c31;}async['joinCluster'](){const _0x2e594c=_0x677888;await(0x0,_0xb117e1[_0x2e594c(0x926)])((0x0,_0xb117e1[_0x2e594c(0x54e)])(_0x66e9[_0x2e594c(0xa45)](),'clusters/'+this[_0x2e594c(0x348)]+_0x2e594c(0x658)+this[_0x2e594c(0xac1)]),{'joinedAt':(0x0,_0xb117e1[_0x2e594c(0x3b6)])(),'priority':Math[_0x2e594c(0x798)]()});}[_0x677888(0x605)](){const _0x5679c4=_0x677888;this[_0x5679c4(0x8b5)]&&this[_0x5679c4(0x8b5)][_0x5679c4(0xafb)](),this[_0x5679c4(0x8b5)]=(0x0,_0xb117e1[_0x5679c4(0x720)])((0x0,_0xb117e1['ref'])(_0x66e9[_0x5679c4(0xa45)](),_0x5679c4(0x59d)+this[_0x5679c4(0x348)]+'/nodes/'+this[_0x5679c4(0xac1)])),this[_0x5679c4(0x8b5)][_0x5679c4(0x772)]();}}class _0x296d34{['configs'];[_0x677888(0xa81)];['remoteUnsubscriber'];['discoveryService'];[_0x677888(0x2c9)];[_0x677888(0x532)]=[];['systemTopic'];[_0x677888(0x5fa)]=new Map();['debounceProcessRank'];[_0x677888(0x1df)];[_0x677888(0x8cd)];[_0x677888(0x468)];['rejectReady'];[_0x677888(0x551)];constructor(_0x223d8c,_0x121e94){const _0x181740=_0x677888;this[_0x181740(0x4f0)]=_0x223d8c,this[_0x181740(0xa81)]=_0x121e94,this['_isReady']=new Promise((_0x21a4b4,_0x1ecb40)=>{this['resolveReady']=_0x21a4b4,this['rejectReady']=_0x1ecb40;}),this['discoveryService']=new _0x92df93(this[_0x181740(0x4f0)]['vendorId'],this[_0x181740(0x4f0)][_0x181740(0x8a2)],this[_0x181740(0x4f0)][_0x181740(0xa36)],this['graphService'][_0x181740(0x4c4)]()),this[_0x181740(0x2c9)]=this[_0x181740(0x92b)][_0x181740(0xa88)](this[_0x181740(0x808)][_0x181740(0x75d)](this)),this[_0x181740(0x4f0)]['mediator'][_0x181740(0x830)](this[_0x181740(0x4f0)]['localNode']),this['configs'][_0x181740(0x64f)][_0x181740(0x830)](this),this[_0x181740(0x973)]=_0x450481[_0x181740(0x96d)](()=>{const _0x12c5c8=_0x181740,_0x181145=Date[_0x12c5c8(0x9bd)]();this[_0x12c5c8(0xa81)][_0x12c5c8(0x443)]()[_0x12c5c8(0x938)](_0x5db0f6=>{const _0x24ed6c=_0x12c5c8;_0x5db0f6[_0x24ed6c(0x595)]()===_0x317316[_0x24ed6c(0x5b8)]&&_0x5db0f6[_0x24ed6c(0x42b)]()<_0x181145-0x493e0&&this[_0x24ed6c(0xa81)][_0x24ed6c(0x766)](_0x5db0f6[_0x24ed6c(0x48e)]());});},0xea60);}async['isReady'](){const _0xda887c=_0x677888;return this[_0xda887c(0x8cd)];}async[_0x677888(0x6c2)](_0x584a9c){return new Promise((_0x444bd7,_0x34104e)=>{const _0xb11ce=a0_0x5cc9;let _0x4299a7;const _0x1b1daa=setTimeout(()=>{const _0x39d3a9=a0_0x5cc9;_0x4299a7?.(),_0x34104e(new Error(_0x39d3a9(0x6d6)+_0x584a9c+_0x39d3a9(0x9aa)));},0x2710);if(this[_0xb11ce(0xa81)][_0xb11ce(0x2fe)](_0x584a9c))return clearTimeout(_0x1b1daa),void _0x444bd7(!0x0);_0x4299a7=this[_0xb11ce(0xa81)]['onNodeUpdate'](()=>{const _0x4fb364=_0xb11ce;this['graphService'][_0x4fb364(0x2fe)](_0x584a9c)&&(clearTimeout(_0x1b1daa),_0x444bd7(!0x0),_0x4299a7?.());});});}[_0x677888(0xaf0)](_0x5e5e13){const _0x4d3e95=_0x677888;this[_0x4d3e95(0x36c)]=_0x5e5e13;}[_0x677888(0x4dc)](){delete this['systemTopic'];}['close'](){const _0x4c6648=_0x677888;this[_0x4c6648(0x9d8)]&&(clearTimeout(this[_0x4c6648(0x9d8)]),delete this[_0x4c6648(0x9d8)]),delete this[_0x4c6648(0x1df)],this[_0x4c6648(0x4f0)]['localNode']['close'](),this[_0x4c6648(0x973)](),this[_0x4c6648(0x2c9)](),this[_0x4c6648(0x4f0)][_0x4c6648(0x64f)]['unregisterSystemSource'](this['configs']['localNode']),this[_0x4c6648(0x4f0)][_0x4c6648(0x64f)][_0x4c6648(0x1bd)](this),this[_0x4c6648(0x92b)][_0x4c6648(0x7ed)]();}[_0x677888(0x27c)](){const _0x11acf7=_0x677888;return this[_0x11acf7(0x532)];}[_0x677888(0x297)](){const _0x2a6181=_0x677888;return this[_0x2a6181(0x4f0)][_0x2a6181(0xa36)][_0x2a6181(0x48e)]();}[_0x677888(0x9ac)](){const _0x2ffe8a=_0x677888;return this[_0x2ffe8a(0x4f0)][_0x2ffe8a(0xa36)];}[_0x677888(0x443)](_0x536434){const _0x30065c=_0x677888,_0x37e964=Array[_0x30065c(0x3fd)](this['graphService']['getRemoteNodes']()[_0x30065c(0x9c3)]())['filter'](_0x82c270=>_0x82c270['getStatus']()===_0x317316[_0x30065c(0x1b9)]);return _0x536434?_0x37e964[_0x30065c(0x3cc)](_0x536434):_0x37e964;}async[_0x677888(0xa0e)](){const _0x139db2=_0x677888;return this[_0x139db2(0x532)]=await this['discoveryService'][_0x139db2(0x729)](),this[_0x139db2(0x532)][_0x139db2(0x8a9)]<this[_0x139db2(0xa81)][_0x139db2(0x4c4)]()&&(this['configs'][_0x139db2(0xa36)]['setRank'](this[_0x139db2(0x532)][_0x139db2(0x8a9)]+0x1),this['processRank']()),this['ancestors'];}[_0x677888(0x6a5)](_0x30cd88,_0x3bfd07){const _0x35b123=_0x677888,_0x5ec10e=this[_0x35b123(0x4f0)]['localNode'][_0x35b123(0x785)](),_0x48c53c=new Set(_0x5ec10e),_0x21b1b2=Array[_0x35b123(0x3fd)](_0x5ec10e)['filter'](_0x52bfdf=>_0x52bfdf!==_0x30cd88)[_0x35b123(0x360)](_0x23dc49=>({'id':_0x23dc49,'distance':0x1}));for(;_0x21b1b2[_0x35b123(0x8a9)]>0x0;){const _0x205267=_0x21b1b2['shift']();if(!_0x205267)continue;if(_0x205267['id']===_0x3bfd07)return _0x205267[_0x35b123(0xa58)];const _0x3eac3a=this['graphService'][_0x35b123(0x8f3)](_0x205267['id']);_0x3eac3a&&_0x3eac3a['getStatus']()!==_0x317316[_0x35b123(0x5b8)]&&_0x3eac3a[_0x35b123(0x785)]()['forEach'](_0x3a8616=>{const _0x297c01=_0x35b123;_0x48c53c[_0x297c01(0x26b)](_0x3a8616)||(_0x48c53c[_0x297c01(0xa95)](_0x3a8616),_0x21b1b2['push']({'id':_0x3a8616,'distance':_0x205267[_0x297c01(0xa58)]+0x1}));});}return-0x1;}[_0x677888(0x502)](_0x4136ee){const _0x51a874=_0x677888;try{switch(_0x4136ee['content'][_0x51a874(0xb0f)]){case _0x1577f4[_0x51a874(0xa50)]:case _0x1577f4[_0x51a874(0x2ff)]:this[_0x51a874(0x800)](_0x4136ee[_0x51a874(0x6a6)]),_0x5bf0c2['log'](_0x86d570[_0x51a874(0x881)],'NodeManager\x20-\x20NodeUpdate','\x27'+this['configs'][_0x51a874(0xa36)][_0x51a874(0x48e)]()+',\x20'+_0x4136ee['sourceId']+'\x27',_0x4136ee,_0x4136ee[_0x51a874(0x6a6)]);break;case _0x1577f4[_0x51a874(0x390)]:this['removeNode'](_0x4136ee['content']['id']),_0x5bf0c2['log'](_0x86d570[_0x51a874(0x881)],_0x51a874(0x1d6),'\x27'+this[_0x51a874(0x4f0)][_0x51a874(0xa36)][_0x51a874(0x48e)]()+',\x20'+_0x4136ee['sourceId']+'\x27',_0x4136ee,_0x4136ee[_0x51a874(0x6a6)]);}}catch(_0x4cdd75){if(_0x4cdd75 instanceof _0x205f08)return void _0x5bf0c2['log'](_0x86d570[_0x51a874(0x881)],_0x4cdd75['message']);throw _0x4cdd75;}}[_0x677888(0x6fe)](_0xe70a50){const _0x1c327e=_0x677888;switch(_0xe70a50['content'][_0x1c327e(0xb0f)]){case _0x3ba04a[_0x1c327e(0x29f)]:this[_0x1c327e(0x2ee)](_0xe70a50[_0x1c327e(0x2e2)]),_0x5bf0c2['log'](_0x86d570[_0x1c327e(0x881)],_0x1c327e(0x325),'\x27'+this[_0x1c327e(0x4f0)]['localNode'][_0x1c327e(0x48e)]()+',\x20'+_0xe70a50[_0x1c327e(0x2e2)]+'\x27',_0xe70a50,_0xe70a50[_0x1c327e(0x6a6)]);break;case _0x3ba04a[_0x1c327e(0xa0b)]:this[_0x1c327e(0x68e)](_0xe70a50['sourceId']),_0x5bf0c2['log'](_0x86d570[_0x1c327e(0x881)],_0x1c327e(0x411),this[_0x1c327e(0x4f0)][_0x1c327e(0xa36)][_0x1c327e(0x48e)](),_0xe70a50,_0xe70a50['content']);}}['handleNodeJoin'](_0x112cda){const _0x3aa9da=_0x677888;this[_0x3aa9da(0xa22)](_0x112cda),this[_0x3aa9da(0x3db)](_0x112cda);}[_0x677888(0x3db)](_0x2ca796){const _0xfa6e1d=_0x677888;this[_0xfa6e1d(0x4f0)][_0xfa6e1d(0xa36)][_0xfa6e1d(0x583)](_0x2ca796['id']),this[_0xfa6e1d(0x2de)](_0x2ca796['id']),this[_0xfa6e1d(0x7d5)](_0x2ca796);}[_0x677888(0x800)](_0x57df4a){const _0x21e433=_0x677888,{id:_0x420f02,metaData:_0x23e76e,rank:_0xd484e,remoteConnections:_0x50be0c,version:_0x5ec9a8}=_0x57df4a,_0x4cd540=this[_0x21e433(0xa81)][_0x21e433(0x8f3)](_0x420f02);if(_0x4cd540){if(!(_0x5ec9a8<=_0x4cd540[_0x21e433(0x2f8)]())){if(_0x4cd540[_0x21e433(0x939)](_0x50be0c),_0x4cd540['setCurrentVersion'](_0x5ec9a8),_0x4cd540['type']===_0x1736bb[_0x21e433(0x9d1)][_0x21e433(0x373)]&&_0x23e76e[_0x21e433(0xb0f)]===_0x1736bb[_0x21e433(0x9d1)][_0x21e433(0x373)]&&(_0x4cd540[_0x21e433(0x4ea)](_0x23e76e['displayName']),_0x4cd540[_0x21e433(0x230)](_0x23e76e[_0x21e433(0x416)])),_0xd484e&&_0x4cd540[_0x21e433(0x715)](_0xd484e),this[_0x21e433(0x306)](_0x420f02,_0xd484e),_0x4cd540[_0x21e433(0x595)]()===_0x317316[_0x21e433(0x5b8)])return _0x4cd540[_0x21e433(0x81e)](_0x317316[_0x21e433(0x1b9)]),this['processRank'](),void this[_0x21e433(0x3db)](_0x57df4a);this[_0x21e433(0x546)](),this[_0x21e433(0x759)]({'id':_0x420f02,'metaData':_0x23e76e,'remoteConnections':_0x50be0c,'version':_0x5ec9a8});}}else this[_0x21e433(0x9a6)](_0x57df4a);}['setLocalRank'](_0x25ecd1,_0x505706){const _0xcd0957=_0x677888;_0x505706&&this[_0xcd0957(0x532)][_0xcd0957(0xace)](_0x25ecd1)&&this[_0xcd0957(0x4f0)][_0xcd0957(0xa36)][_0xcd0957(0x715)](_0x505706+this[_0xcd0957(0x532)]['indexOf'](_0x25ecd1)+0x1);}['handleConnectionSuccess'](_0x19f84e){const _0x487381=_0x677888;this[_0x487381(0x4f0)][_0x487381(0xa36)]['addRemoteConnection'](_0x19f84e);}[_0x677888(0xa22)]({id:_0xf8ebbf,metaData:_0x5981b9,rank:_0x436217,remoteConnections:_0x32b308,version:_0x5c5818}){const _0x43d930=_0x677888;if(this['graphService'][_0x43d930(0x2fe)](_0xf8ebbf))throw new _0x205f08(_0x43d930(0x388)+_0xf8ebbf);switch(_0x5981b9[_0x43d930(0xb0f)]){case _0x1736bb['NodeType']['User']:const {displayName:_0x22f20f,email:_0x510e90}=_0x5981b9;this[_0x43d930(0xa81)][_0x43d930(0x3ea)](_0xf8ebbf,new _0x3d3c4e(_0xf8ebbf,_0x22f20f,_0x510e90,new Set(_0x32b308),_0x5c5818,_0x436217));break;case _0x1736bb[_0x43d930(0x9d1)][_0x43d930(0x887)]:this[_0x43d930(0xa81)][_0x43d930(0x3ea)](_0xf8ebbf,new _0x2a3fe4(_0xf8ebbf,new Set(_0x32b308),_0x5c5818,_0x436217));}const _0x412242=this[_0x43d930(0x443)](),_0x203e8a=new Set(this['ancestors']);_0x412242[_0x43d930(0x938)](_0x2c2566=>{const _0x585005=_0x43d930;_0x203e8a[_0x585005(0x26b)](_0x2c2566[_0x585005(0x48e)]())&&_0x203e8a[_0x585005(0x60b)](_0x2c2566['getId']());}),0x0===_0x203e8a[_0x43d930(0x22b)]&&this['resolveReady']&&(this[_0x43d930(0x551)]&&clearTimeout(this[_0x43d930(0x551)]),this['readyDebounce']=setTimeout(()=>{const _0xc74d24=_0x43d930;this[_0xc74d24(0x468)]?.(!0x0),delete this[_0xc74d24(0x468)],delete this[_0xc74d24(0x1ef)];},0x7d0)),this['setLocalRank'](_0xf8ebbf,_0x436217),this[_0x43d930(0x546)]();}[_0x677888(0x2de)](_0x26120c){const _0x555265=_0x677888;this[_0x555265(0x36c)][_0x555265(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x555265(0x881)],'content':{'type':_0x1577f4[_0x555265(0x767)],'id':_0x26120c}});}['publishNodeLeave'](_0x54889c){const _0x4e348a=_0x677888;this[_0x4e348a(0x36c)]?.[_0x4e348a(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x4e348a(0x881)],'content':{'type':_0x1577f4[_0x4e348a(0x390)],'id':_0x54889c}});}[_0x677888(0x808)](_0x365027){const _0x4bc6bf=_0x677888;if(_0x365027===this[_0x4bc6bf(0x4f0)]['localNode'][_0x4bc6bf(0x48e)]())return this[_0x4bc6bf(0x4f0)][_0x4bc6bf(0x64f)][_0x4bc6bf(0xb09)](_0x4bc6bf(0x884),{'id':_0x365027}),this[_0x4bc6bf(0x4f0)]['mediator'][_0x4bc6bf(0x7ed)]({'force':!0x0},!0x0),this[_0x4bc6bf(0x4f0)][_0x4bc6bf(0x64f)][_0x4bc6bf(0xacb)](),void this[_0x4bc6bf(0x4f0)]['mediator'][_0x4bc6bf(0x921)]();this[_0x4bc6bf(0x68e)](_0x365027);}[_0x677888(0x54c)](_0x4628f1){const _0x3adc67=_0x677888;this[_0x3adc67(0x532)][_0x3adc67(0xace)](_0x4628f1)?this['manageAncestor'](_0x4628f1):this[_0x3adc67(0x4f0)]['localNode']['getRemoteConnections']()[_0x3adc67(0x26b)](_0x4628f1)&&this[_0x3adc67(0x1aa)](_0x4628f1),this[_0x3adc67(0x4f0)][_0x3adc67(0xa36)]['removeRemoteConnection'](_0x4628f1);const _0x374e2d=Array[_0x3adc67(0x3fd)](this[_0x3adc67(0x5fa)]['entries']())['find'](([,_0x2f320d])=>_0x2f320d==_0x2f320d);_0x374e2d&&this[_0x3adc67(0x5fa)][_0x3adc67(0x60b)](_0x374e2d[0x0]);const _0x50fc70=this['graphService']['getRemoteNode'](_0x4628f1);if(!_0x50fc70)return;const _0x10204d=_0x50fc70[_0x3adc67(0x45b)](),_0x34e366=this['configs']['localNode'][_0x3adc67(0x45b)]();_0x34e366&&_0x10204d&&_0x10204d<_0x34e366&&this[_0x3adc67(0x4f0)][_0x3adc67(0xa36)]['setRank'](_0x34e366-0x1,!0x1),Array[_0x3adc67(0x3fd)](this[_0x3adc67(0xa81)][_0x3adc67(0x443)]()[_0x3adc67(0x9c3)]())[_0x3adc67(0x938)](_0x65e38=>{const _0x14bb2e=_0x65e38['getRank']();_0x14bb2e&&_0x10204d&&_0x10204d<_0x14bb2e&&_0x65e38['setRank'](_0x14bb2e-0x1);}),_0x50fc70[_0x3adc67(0x81e)](_0x317316['Offline']),this['configs']['mediator'][_0x3adc67(0xb09)](_0x50fc70[_0x3adc67(0xb0f)]+_0x3adc67(0x273),{'id':_0x4628f1});}[_0x677888(0x7d5)]({id:_0x5d1782,metaData:_0x4b620b,remoteConnections:_0x5a74f3}){const _0x1d655b=_0x677888;switch(_0x4b620b[_0x1d655b(0xb0f)]){case _0x1736bb[_0x1d655b(0x9d1)][_0x1d655b(0x373)]:this['configs']['mediator'][_0x1d655b(0xb09)](_0x1d655b(0x9cc),{'id':_0x5d1782,'metaData':_0x4b620b,'remoteConnections':_0x5a74f3});break;case _0x1736bb[_0x1d655b(0x9d1)][_0x1d655b(0x887)]:this[_0x1d655b(0x4f0)][_0x1d655b(0x64f)][_0x1d655b(0xb09)](_0x1d655b(0x3c9),{'id':_0x5d1782,'metaData':_0x4b620b,'remoteConnections':_0x5a74f3});}}[_0x677888(0x759)]({id:_0x21d7dc,metaData:_0xb4f5f3,remoteConnections:_0x517400}){const _0x2a8fa9=_0x677888;switch(_0xb4f5f3[_0x2a8fa9(0xb0f)]){case _0x1736bb[_0x2a8fa9(0x9d1)][_0x2a8fa9(0x373)]:this['configs']['mediator']['notifyCluster'](_0x2a8fa9(0x436),{'id':_0x21d7dc,'metaData':_0xb4f5f3,'remoteConnections':_0x517400});break;case _0x1736bb[_0x2a8fa9(0x9d1)]['Agent']:this[_0x2a8fa9(0x4f0)][_0x2a8fa9(0x64f)][_0x2a8fa9(0xb09)](_0x2a8fa9(0x8ac),{'id':_0x21d7dc,'metaData':_0xb4f5f3,'remoteConnections':_0x517400});}}[_0x677888(0x546)](){const _0x2cef44=_0x677888;if(this['lastProcessRank']||(this[_0x2cef44(0x1df)]=Date['now']()),this['debounceProcessRank']){if(Date[_0x2cef44(0x9bd)]()-this[_0x2cef44(0x1df)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x2cef44(0x9d8)]=setTimeout(async()=>{const _0x586a42=_0x2cef44;delete this[_0x586a42(0x1df)],delete this[_0x586a42(0x9d8)];const _0x8070bf=this[_0x586a42(0x4f0)][_0x586a42(0xa36)][_0x586a42(0x45b)]();if(!_0x8070bf)return;const _0x2a7bc5=this['graphService']['getCurrentMaxLayer'](this[_0x586a42(0xa81)][_0x586a42(0x443)]()['size']);if(this[_0x586a42(0x5fa)]['size']>=_0x2a7bc5)return;let _0x118ef0=0x1;for(;this[_0x586a42(0x4f0)]['mediator'][_0x586a42(0x8c2)]()[_0x586a42(0x8a9)]<this['graphService'][_0x586a42(0x3c6)]()&&_0x118ef0<=_0x2a7bc5;){if(this['optimizationLayers'][_0x586a42(0x26b)](_0x118ef0)){_0x118ef0+=0x1;continue;}const _0x43aa97=this[_0x586a42(0xa81)][_0x586a42(0x82b)](_0x8070bf,_0x118ef0),_0x3bf4bb=Array['from'](this[_0x586a42(0xa81)][_0x586a42(0x443)]()[_0x586a42(0x9c3)]())[_0x586a42(0x8ab)](_0x44b52d=>_0x44b52d['getRank']()===_0x43aa97&&_0x44b52d[_0x586a42(0x595)]()===_0x317316[_0x586a42(0x1b9)]);if(_0x3bf4bb){try{await this[_0x586a42(0x4f0)][_0x586a42(0x64f)]['createConnection'](_0x3bf4bb[_0x586a42(0x48e)](),_0x2a143c[_0x586a42(0x619)]),this[_0x586a42(0x5fa)][_0x586a42(0x926)](_0x118ef0,_0x3bf4bb['getId']());}catch(_0x7abb52){if(!(_0x7abb52 instanceof _0x4dab04&&_0x7abb52[_0x586a42(0x778)]===_0x4dab04[_0x586a42(0x6ec)]['RemoteConnectionExists']))throw _0x7abb52;_0x5bf0c2[_0x586a42(0x5d7)](_0x86d570[_0x586a42(0x881)],this['configs'][_0x586a42(0xa36)]['getId'](),_0x3bf4bb[_0x586a42(0x48e)](),_0x7abb52['message']);}_0x118ef0+=0x1;}else _0x118ef0+=0x1;}},0x3e8);}async[_0x677888(0x646)](_0x412562){const _0x1b3330=_0x677888;this['ancestors'][_0x1b3330(0xac8)](this[_0x1b3330(0x532)][_0x1b3330(0x701)](_0x412562),0x1);const _0x37bc61=await this['discoveryService']['getAncestors']();for(const _0x408d66 of _0x37bc61)if(!this['ancestors'][_0x1b3330(0xace)](_0x408d66)){const _0x2fc9d6=Array[_0x1b3330(0x3fd)](this['optimizationLayers']['entries']())[_0x1b3330(0x8ab)](([,_0x146636])=>_0x146636===_0x408d66);_0x2fc9d6&&this[_0x1b3330(0x5fa)][_0x1b3330(0x60b)](_0x2fc9d6[0x0]),this[_0x1b3330(0x4f0)][_0x1b3330(0x64f)]['createConnection'](_0x408d66,_0x2a143c[_0x1b3330(0x56d)]);}0x0===_0x37bc61[_0x1b3330(0x8a9)]&&this[_0x1b3330(0x4f0)]['localNode'][_0x1b3330(0x715)](0x1),this[_0x1b3330(0x532)]=_0x37bc61;}async[_0x677888(0x1aa)](_0x4a3b91){const _0x19ed55=_0x677888,_0x4c76aa=this[_0x19ed55(0x4f0)]['localNode']['getRank']();if(!_0x4c76aa)return;const _0x52998b=this[_0x19ed55(0xa81)][_0x19ed55(0x8f3)](_0x4a3b91);if(!_0x52998b||_0x52998b[_0x19ed55(0x595)]()===_0x317316[_0x19ed55(0x5b8)])return;const _0x21f126=_0x52998b[_0x19ed55(0x45b)]();if(!_0x21f126||_0x21f126<_0x4c76aa)return;const _0x2052a4=this[_0x19ed55(0x215)](this['configs'][_0x19ed55(0xa36)][_0x19ed55(0x785)](),_0x4c76aa),_0x1e7f91=this['getOutgoingOptimizationConnections'](_0x52998b['getRemoteConnections'](),_0x21f126)[_0x2052a4['findIndex'](([_0x558877])=>_0x558877===_0x4a3b91)];if(!_0x1e7f91||this[_0x19ed55(0x4f0)][_0x19ed55(0xa36)][_0x19ed55(0x785)]()[_0x19ed55(0x26b)](_0x1e7f91[0x0]))return;const _0x600830=this[_0x19ed55(0xa81)][_0x19ed55(0x8f3)](_0x1e7f91[0x0]);if(_0x600830&&_0x600830['getStatus']()!==_0x317316['Offline'])try{await this[_0x19ed55(0x4f0)][_0x19ed55(0x64f)][_0x19ed55(0x683)](_0x1e7f91[0x0],_0x2a143c[_0x19ed55(0x619)]);const _0x47df90=Array[_0x19ed55(0x3fd)](this[_0x19ed55(0x5fa)][_0x19ed55(0x3a0)]())['find'](([,_0x3285b2])=>_0x3285b2===_0x4a3b91);_0x47df90&&this[_0x19ed55(0x5fa)][_0x19ed55(0x926)](_0x47df90[0x0],_0x1e7f91[0x0]);}catch(_0x38606d){if(!(_0x38606d instanceof _0x4dab04&&_0x38606d['code']===_0x4dab04['codes'][_0x19ed55(0x4bd)]))throw _0x38606d;_0x5bf0c2[_0x19ed55(0x5d7)](_0x86d570[_0x19ed55(0x881)],this[_0x19ed55(0x4f0)][_0x19ed55(0xa36)][_0x19ed55(0x48e)](),_0x1e7f91[0x0],_0x38606d[_0x19ed55(0x71b)]);}}[_0x677888(0x215)](_0x3d6e9a,_0x4f5935){const _0x495f23=_0x677888;return Array[_0x495f23(0x3fd)](_0x3d6e9a)['reduce']((_0x216440,_0x575923)=>{const _0x24fdcf=_0x495f23,_0x241aa5=this['graphService'][_0x24fdcf(0x8f3)](_0x575923);if(!_0x241aa5||_0x241aa5['getStatus']()===_0x317316[_0x24fdcf(0x5b8)])return _0x216440;const _0x3c5825=_0x241aa5[_0x24fdcf(0x45b)]();if(!_0x3c5825)return _0x216440;const _0x932ba2=_0x3c5825-_0x4f5935;return _0x932ba2<=this['graphService'][_0x24fdcf(0x4c4)]()||_0x216440['push']([_0x575923,_0x932ba2]),_0x216440;},[])[_0x495f23(0x323)](([,_0x313e57],[,_0x48389b])=>_0x313e57-_0x48389b);}}const _0x57417a=[{'problemType':_0x1e07b6[_0x677888(0x7bf)],'remediations':[{'type':_0x50c54d[_0x677888(0x23c)],'component':_0x2ca34d['Resolution'],'action':_0x21ab36['Downgrade']},{'type':_0x50c54d[_0x677888(0x8cf)],'component':_0x2ca34d[_0x677888(0x652)],'action':_0x21ab36['Downgrade']}]},{'problemType':_0x1e07b6['TimePerFrame'],'remediations':[{'type':_0x50c54d[_0x677888(0x23c)],'component':_0x2ca34d['Resolution'],'action':_0x21ab36[_0x677888(0x7bc)]}]},{'problemType':_0x1e07b6['AudioVideoDelay'],'remediations':[{'type':_0x50c54d['Remediation'],'component':_0x2ca34d[_0x677888(0x652)],'action':_0x21ab36[_0x677888(0x7bc)]}]},{'problemType':_0x1e07b6[_0x677888(0xa26)],'remediations':[{'type':_0x50c54d[_0x677888(0x23c)],'component':_0x2ca34d[_0x677888(0x652)],'action':_0x21ab36[_0x677888(0x7bc)]}]},{'problemType':_0x1e07b6['Bitrate'],'remediations':[{'type':_0x50c54d['Remediation'],'component':_0x2ca34d[_0x677888(0x3a5)],'action':_0x21ab36['Downgrade']}]},{'problemType':_0x1e07b6[_0x677888(0x4db)],'remediations':[{'type':_0x50c54d[_0x677888(0x23c)],'component':_0x2ca34d[_0x677888(0x3a5)],'action':_0x21ab36[_0x677888(0x7bc)]}]},{'problemType':_0x1e07b6[_0x677888(0x9f4)],'remediations':[{'type':_0x50c54d[_0x677888(0x23c)],'component':_0x2ca34d['Bitrate'],'action':_0x21ab36[_0x677888(0x7bc)]}]}];class _0x1151c9{[_0x677888(0x4f0)];[_0x677888(0x36c)];[_0x677888(0x2e9)]=new Map();constructor(_0x5f02a7){const _0x47c008=_0x677888;this[_0x47c008(0x4f0)]=_0x5f02a7,this['configs']['mediator'][_0x47c008(0x830)](this);}[_0x677888(0x7ed)](){const _0x471255=_0x677888;this[_0x471255(0x4f0)][_0x471255(0x64f)]['unregisterSystemSource'](this);}['registerSystemPublisher'](_0x3fc7a1){const _0x1d91ab=_0x677888;this[_0x1d91ab(0x36c)]=_0x3fc7a1;}[_0x677888(0x4dc)](){const _0x531218=_0x677888;delete this[_0x531218(0x36c)];}[_0x677888(0x916)](_0x3ca9a0){const _0xa40274=_0x677888;_0x3ca9a0[_0xa40274(0x6a6)][_0xa40274(0xb0f)]===_0x5e8cde[_0xa40274(0x9c7)]&&this['handleProblem'](_0x3ca9a0[_0xa40274(0x6a6)][_0xa40274(0x337)]);}[_0x677888(0x994)](_0x2f3710){const _0x128cbc=_0x677888;_0x2f3710[_0x128cbc(0x6a6)][_0x128cbc(0xb0f)]===_0x50c54d[_0x128cbc(0x8cf)]&&this['applyRemediation'](_0x2f3710[_0x128cbc(0x2e2)],{'type':_0x50c54d[_0x128cbc(0x23c)],'component':_0x2f3710[_0x128cbc(0x6a6)]['data'][_0x128cbc(0x64d)],'action':_0x2f3710[_0x128cbc(0x6a6)][_0x128cbc(0x337)][_0x128cbc(0x39b)]});}[_0x677888(0x8d4)](_0x2093b8){const _0x145efa=_0x677888,_0x3e0207=_0x57417a[_0x145efa(0x8ab)](_0x5baea8=>_0x5baea8[_0x145efa(0x338)]===_0x2093b8[_0x145efa(0xb0f)]);_0x3e0207['remediations']?.[_0x145efa(0x938)](_0x5629ff=>{const _0x96aa09=_0x145efa;this[_0x96aa09(0x8f2)](_0x2093b8[_0x96aa09(0x94c)],{'type':_0x2093b8['origin']===_0x1b2fd6[_0x96aa09(0x7dd)]?_0x50c54d[_0x96aa09(0x23c)]:_0x50c54d[_0x96aa09(0x8cf)],'component':_0x5629ff[_0x96aa09(0x64d)],'action':_0x5629ff[_0x96aa09(0x39b)]});});}['applyRemediation'](_0x691774,_0x1146eb){const _0x90db00=_0x677888;if(_0x1146eb[_0x90db00(0xb0f)]===_0x50c54d[_0x90db00(0x23c)]){const _0x549762=Date[_0x90db00(0x9bd)](),_0x100dfa=this[_0x90db00(0x2e9)][_0x90db00(0x8a1)](_0x691774);if(_0x100dfa&&_0x549762-_0x100dfa<0x1388)return;this[_0x90db00(0x2e9)][_0x90db00(0x926)](_0x691774,_0x549762);}_0x5bf0c2[_0x90db00(0x5d7)](_0x86d570[_0x90db00(0x23c)],'Apply\x20remediation',_0x1146eb),_0x5bf0c2[_0x90db00(0x9c6)](_0x90db00(0x555),{'clusterId':this[_0x90db00(0x4f0)][_0x90db00(0x8a2)],'nodeId':this[_0x90db00(0x4f0)][_0x90db00(0xa36)][_0x90db00(0x48e)](),'nodeType':this[_0x90db00(0x4f0)][_0x90db00(0xa36)][_0x90db00(0xb0f)],'remoteId':_0x691774,'data':{'type':_0x1146eb[_0x90db00(0xb0f)],'component':_0x1146eb[_0x90db00(0x64d)],'action':_0x1146eb['action']}});let _0xdcaed0,_0x260508=_0x158186;_0x1146eb[_0x90db00(0xb0f)]===_0x50c54d[_0x90db00(0x8cf)]&&(_0x260508=this[_0x90db00(0x4f0)][_0x90db00(0xa36)][_0x90db00(0x48e)](),_0xdcaed0=[_0x691774]),this[_0x90db00(0x36c)]['publish']({'sourceId':_0x260508,'destinationIds':_0xdcaed0,'messageType':_0x59623a[_0x90db00(0x23c)],'content':{'type':_0x1146eb[_0x90db00(0xb0f)],'targetId':_0x691774,'data':_0x1146eb}});}}const _0x58aea4=0x3e8,_0x1f893d=0x7530,_0x14d464=_0x677888(0xa8b),_0x95effe=_0x677888(0x87f),_0x440bd5=_0x677888(0x3fa),_0x150136=[_0x14d464,_0x95effe],_0x53d3c9=[_0x440bd5];class _0x2011f6{[_0x677888(0x8ba)]=0x0;[_0x677888(0x704)]=0x0;['jitter']=0x0;['packetsLost']=0x0;[_0x677888(0x5fc)]=0x0;[_0x677888(0x965)]=0x0;[_0x677888(0x354)]=0x0;[_0x677888(0x51b)]=0x0;[_0x677888(0x336)]=0x0;get[_0x677888(0x2d0)](){const _0x3b04f1=_0x677888;return this['currentTimestamp']>0x0&&this[_0x3b04f1(0x354)]>0x0&&Date[_0x3b04f1(0x9bd)]()-this[_0x3b04f1(0x965)]<_0x1f893d?(this[_0x3b04f1(0x51b)]-this['previousBytes'])/(this[_0x3b04f1(0x965)]-this[_0x3b04f1(0x354)])*0x8*0x3e8:0x0;}['processReport'](_0x220026){const _0x49d1e5=_0x677888;switch(_0x220026[_0x49d1e5(0xb0f)]){case _0x440bd5:this[_0x49d1e5(0x869)](_0x220026);break;case _0x14d464:this[_0x49d1e5(0x809)](_0x220026);break;case _0x95effe:this[_0x49d1e5(0x6e2)](_0x220026);}}['getReport'](){const _0xa6d603=_0x677888;return{'bitrate':this[_0xa6d603(0x2d0)],'packetsLostPerc':this[_0xa6d603(0x1f3)](),'roundTripTime':this[_0xa6d603(0x8ba)],'jitter':this[_0xa6d603(0xb1d)]};}[_0x677888(0x869)](_0x11a651){const _0x3cbeae=_0x677888;this[_0x3cbeae(0x756)](_0x11a651[_0x3cbeae(0x697)]),this[_0x3cbeae(0x408)](_0x11a651['timestamp']),this[_0x3cbeae(0x5fc)]=_0x11a651['packetsReceived'],this[_0x3cbeae(0x687)]=_0x11a651['packetsLost'],void 0x0!==_0x11a651[_0x3cbeae(0xb1d)]?this['jitter']=_0x11a651[_0x3cbeae(0xb1d)]:this[_0x3cbeae(0xb1d)]=0x0,void 0x0!==_0x11a651[_0x3cbeae(0x704)]?this[_0x3cbeae(0x704)]=_0x11a651[_0x3cbeae(0x704)]:this[_0x3cbeae(0x704)]=0x0;}[_0x677888(0x809)](_0x3e374d){const _0x3d22a9=_0x677888;this[_0x3d22a9(0x756)](_0x3e374d[_0x3d22a9(0xa13)]),this['setTimestamp'](_0x3e374d['timestamp']),this[_0x3d22a9(0x5fc)]=_0x3e374d['packetsSent'];}[_0x677888(0x6e2)](_0x1d5c95){const _0x408815=_0x677888;this['roundTripTime']=0x3e8*_0x1d5c95[_0x408815(0x8ba)],void 0x0!==_0x1d5c95[_0x408815(0xb1d)]?this[_0x408815(0xb1d)]=_0x1d5c95[_0x408815(0xb1d)]:this[_0x408815(0xb1d)]=0x0;}[_0x677888(0x1f3)](){const _0x855601=_0x677888;return this[_0x855601(0x5fc)]>0x0?this['packetsLost']/this[_0x855601(0x5fc)]:0x0;}[_0x677888(0x408)](_0x525358){const _0x30794c=_0x677888;_0x525358>this[_0x30794c(0x965)]&&(this[_0x30794c(0x354)]=this[_0x30794c(0x965)],this[_0x30794c(0x965)]=_0x525358);}[_0x677888(0x756)](_0xbb54d7){const _0x49b98a=_0x677888;this[_0x49b98a(0x336)]=this[_0x49b98a(0x51b)],this['currentBytes']=_0xbb54d7;}}class _0x16bd7c extends _0x2011f6{}class _0x4183d3 extends _0x2011f6{[_0x677888(0x2bd)]=0x0;[_0x677888(0x236)]=0x0;[_0x677888(0x616)]=0x0;['currentFrames']=0x0;[_0x677888(0x874)]=0x0;get['fps'](){const _0x3855b5=_0x677888;return this[_0x3855b5(0x965)]>0x0&&this[_0x3855b5(0x354)]>0x0&&Date[_0x3855b5(0x9bd)]()-this[_0x3855b5(0x965)]<_0x1f893d?(this[_0x3855b5(0x6ce)]-this['previousFrames'])/(this[_0x3855b5(0x965)]-this['previousTimestamp'])*0x3e8:0x0;}get[_0x677888(0xac4)](){const _0x5858a0=_0x677888;return this['frameTime']&&this[_0x5858a0(0x6ce)]&&this['currentFrames']>0x0?this[_0x5858a0(0x2bd)]/this[_0x5858a0(0x6ce)]:0x0;}set[_0x677888(0x84a)](_0x42a5b1){const _0x1a7a71=_0x677888;this['previousFrames']=this[_0x1a7a71(0x6ce)],this[_0x1a7a71(0x6ce)]=_0x42a5b1;}[_0x677888(0x540)](){const _0x55f72a=_0x677888;return{...super[_0x55f72a(0x540)](),'FPS':this[_0x55f72a(0x852)],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x55f72a(0x236)],'frameHeight':this['frameHeight']};}[_0x677888(0x869)](_0x181c14){const _0xfcd87f=_0x677888;super[_0xfcd87f(0x869)](_0x181c14),this[_0xfcd87f(0x2bd)]=_0x181c14[_0xfcd87f(0x23e)],this['frames']=_0x181c14[_0xfcd87f(0x3d2)],this['frameWidth']=_0x181c14['frameWidth'],this[_0xfcd87f(0x616)]=_0x181c14[_0xfcd87f(0x616)];}['processOutboundReport'](_0x4e1811){const _0x507d00=_0x677888;super[_0x507d00(0x809)](_0x4e1811),this['frameTime']=_0x4e1811[_0x507d00(0x356)],this['frames']=_0x4e1811['framesEncoded'],this['frameWidth']=_0x4e1811[_0x507d00(0x236)],this[_0x507d00(0x616)]=_0x4e1811[_0x507d00(0x616)];}}class _0x378c50{[_0x677888(0x44b)]=new _0x16bd7c();[_0x677888(0x4ff)]=new _0x4183d3();get[_0x677888(0x2d0)](){const _0x40097e=_0x677888;return this[_0x40097e(0x44b)][_0x40097e(0x2d0)]+this[_0x40097e(0x4ff)][_0x40097e(0x2d0)];}[_0x677888(0x1f9)](_0x2767a9){const _0x7a7c5f=_0x677888;return _0x2767a9[_0x7a7c5f(0x938)](_0x46d4ac=>{const _0x242bf9=_0x7a7c5f;switch(_0x46d4ac[_0x242bf9(0x20c)]){case _0x242bf9(0x44b):this[_0x242bf9(0x44b)]['processReport'](_0x46d4ac);break;case _0x242bf9(0x4ff):this[_0x242bf9(0x4ff)][_0x242bf9(0x6b9)](_0x46d4ac);}}),this['getReport']();}[_0x677888(0x540)](){const _0x15788d=_0x677888;return{'audio':this['audio']['getReport'](),'video':this['video'][_0x15788d(0x540)](),'roundTripTime':this[_0x15788d(0x7e6)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x15788d(0x2d0)]};}[_0x677888(0x7e6)](){const _0x42df8c=_0x677888;return Math[_0x42df8c(0x8ca)]((this['audio'][_0x42df8c(0x8ba)]+this[_0x42df8c(0x4ff)][_0x42df8c(0x8ba)])/0x2);}[_0x677888(0x249)](){const _0x3cfe28=_0x677888;return this[_0x3cfe28(0x44b)][_0x3cfe28(0x704)]-this[_0x3cfe28(0x4ff)]['estimatedPlayoutTimestamp'];}}class _0x5dd98{[_0x677888(0x399)]=0x0;[_0x677888(0xaa4)]=0x0;[_0x677888(0xa40)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x677888(0x262)]=0x0;[_0x677888(0x1de)]=0x0;[_0x677888(0xa6e)]=0x0;[_0x677888(0x4c1)]=0x0;[_0x677888(0x68d)]=0x0;[_0x677888(0x72f)]=0x0;[_0x677888(0x177)]=0x0;[_0x677888(0x263)]=0x0;[_0x677888(0x8ba)]=0x0;get[_0x677888(0x2d0)](){const _0x4253c2=_0x677888;return this['senderBitrate']+this[_0x4253c2(0x289)];}get[_0x677888(0x225)](){const _0x58c913=_0x677888;return this[_0x58c913(0x399)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date['now']()-this[_0x58c913(0x399)]<_0x1f893d?(this[_0x58c913(0x262)]-this['senderPreviousBytes'])/(this[_0x58c913(0x399)]-this['senderPreviousTimestamp'])*0x8*0x3e8:0x0;}get[_0x677888(0x289)](){const _0xe7c6d7=_0x677888;return this[_0xe7c6d7(0xa40)]>0x0&&this[_0xe7c6d7(0x746)]>0x0&&Date[_0xe7c6d7(0x9bd)]()-this['receiverCurrentTimestamp']<_0x1f893d?(this[_0xe7c6d7(0xa6e)]-this['receiverPreviousBytes'])/(this[_0xe7c6d7(0xa40)]-this[_0xe7c6d7(0x746)])*0x8*0x3e8:0x0;}['processReport'](_0x374e8d){const _0x513324=_0x677888;switch(_0x374e8d['origin']){case _0x1b2fd6[_0x513324(0x7dd)]:this['processSenderReport'](_0x374e8d);break;case _0x1b2fd6[_0x513324(0x707)]:this[_0x513324(0x88c)](_0x374e8d);}}[_0x677888(0x540)](){const _0x237fbb=_0x677888;return{'bitrate':this[_0x237fbb(0x2d0)],'senderBitrate':this[_0x237fbb(0x225)],'receiverBitrate':this[_0x237fbb(0x289)],'totalBytes':this[_0x237fbb(0x518)](),'senderTotalBytes':this[_0x237fbb(0x451)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0x237fbb(0x68d)]+this[_0x237fbb(0x72f)],'senderTotalMessages':this[_0x237fbb(0x68d)],'receiverTotalMessages':this[_0x237fbb(0x72f)],'timeProcessing':this[_0x237fbb(0x177)]+this[_0x237fbb(0x263)],'senderTimeProcessing':this[_0x237fbb(0x177)],'receiverTimeProcessing':this[_0x237fbb(0x263)],'roundTripTime':this[_0x237fbb(0x8ba)]};}['getTotalBytes'](){return this['senderCurrentBytes']+this['receiverCurrentBytes'];}[_0x677888(0x451)](){const _0xa958b3=_0x677888;return this[_0xa958b3(0x262)];}[_0x677888(0x6c4)](){const _0x2c8c90=_0x677888;return this[_0x2c8c90(0xa6e)];}[_0x677888(0x9f0)](_0x5f38e5){const _0x43f469=_0x677888;this[_0x43f469(0x5d5)](_0x5f38e5[_0x43f469(0x548)]),this[_0x43f469(0x756)](_0x5f38e5['bytesSent']),this[_0x43f469(0x68d)]=_0x5f38e5[_0x43f469(0xab5)],this[_0x43f469(0x177)]=_0x5f38e5[_0x43f469(0x571)],this[_0x43f469(0x8ba)]=_0x5f38e5[_0x43f469(0x8ba)];}[_0x677888(0x88c)](_0x5459f2){const _0x2d427a=_0x677888;this[_0x2d427a(0x579)](_0x5459f2[_0x2d427a(0x548)]),this['setReceiverBytes'](_0x5459f2[_0x2d427a(0x697)]),this['receiverTotalMessages']=_0x5459f2['messagesReceived'],this[_0x2d427a(0x263)]=_0x5459f2['timeReceiving'];}['setSenderTimestamp'](_0x43c7df){const _0x5e295f=_0x677888;_0x43c7df>this[_0x5e295f(0x399)]&&(this['senderPreviousTimestamp']=this['senderCurrentTimestamp'],this[_0x5e295f(0x399)]=_0x43c7df);}[_0x677888(0x579)](_0x4d26a3){const _0x1ee0e0=_0x677888;_0x4d26a3>this[_0x1ee0e0(0xa40)]&&(this[_0x1ee0e0(0x746)]=this[_0x1ee0e0(0xa40)],this[_0x1ee0e0(0xa40)]=_0x4d26a3);}[_0x677888(0x756)](_0x10b6b4){const _0x739e68=_0x677888;this[_0x739e68(0x1de)]=this[_0x739e68(0x262)],this[_0x739e68(0x262)]=_0x10b6b4;}['setReceiverBytes'](_0x2d98ba){const _0x266a2d=_0x677888;this[_0x266a2d(0x4c1)]=this[_0x266a2d(0xa6e)],this[_0x266a2d(0xa6e)]=_0x2d98ba;}}class _0x3539dd{[_0x677888(0x45a)]=new Map();[_0x677888(0x861)]=new Map();[_0x677888(0xa52)]=new _0x5dd98();get[_0x677888(0x225)](){const _0x2b0eb4=_0x677888;let _0x5e34f8=0x0;return this['senderStreams'][_0x2b0eb4(0x938)](_0x21bada=>{const _0x21637c=_0x2b0eb4;_0x5e34f8+=_0x21bada[_0x21637c(0x2d0)];}),_0x5e34f8+=this['dataChannel'][_0x2b0eb4(0x225)],_0x5e34f8;}get[_0x677888(0x289)](){const _0x18d37e=_0x677888;let _0xd9d502=0x0;return this[_0x18d37e(0x861)][_0x18d37e(0x938)](_0x3ea793=>{_0xd9d502+=_0x3ea793['bitrate'];}),_0xd9d502+=this[_0x18d37e(0xa52)][_0x18d37e(0x289)],_0xd9d502;}get[_0x677888(0x2d0)](){const _0x2321a4=_0x677888;return this[_0x2321a4(0x225)]+this['receiverBitrate'];}['processReports'](_0x314518,_0x1fba11){const _0x3451fb=_0x677888,_0x1d0e92=[],_0x5a6061=[];return _0x314518 instanceof Array?_0x314518[_0x3451fb(0x938)](_0x564fed=>{_0x564fed['forEach'](_0xffa081=>{const _0x47b0cf=a0_0x5cc9;_0x53d3c9[_0x47b0cf(0xace)](_0xffa081['type'])&&_0x1d0e92[_0x47b0cf(0xa65)](_0xffa081),_0x150136[_0x47b0cf(0xace)](_0xffa081[_0x47b0cf(0xb0f)])&&_0x5a6061[_0x47b0cf(0xa65)](_0xffa081);});}):this[_0x3451fb(0xa52)][_0x3451fb(0x6b9)](_0x314518),_0x1d0e92[_0x3451fb(0x8a9)]>0x0&&_0x1fba11?{...this['processInboundReports'](_0x1fba11,_0x1d0e92),'origin':_0x1b2fd6['Receiver'],'streamId':_0x1fba11}:_0x5a6061[_0x3451fb(0x8a9)]>0x0&&_0x1fba11?{...this[_0x3451fb(0x724)](_0x1fba11,_0x5a6061),'origin':_0x1b2fd6[_0x3451fb(0x7dd)],'streamId':_0x1fba11}:void 0x0;}[_0x677888(0x540)](){const _0x3020f3=_0x677888,_0x9fcc9c={};this['senderStreams'][_0x3020f3(0x938)]((_0x5856e5,_0x13ec72)=>{_0x9fcc9c[_0x13ec72]=_0x5856e5['getReport']();});const _0x388439={};return this[_0x3020f3(0x861)][_0x3020f3(0x938)]((_0xb04ae2,_0x62ac5e)=>{_0x388439[_0x62ac5e]=_0xb04ae2['getReport']();}),{'bitrate':this[_0x3020f3(0x2d0)],'senderBitrate':this[_0x3020f3(0x225)],'receiverBitrate':this[_0x3020f3(0x289)],'senderStreams':_0x9fcc9c,'receiverStreams':_0x388439,'dataChannel':this[_0x3020f3(0xa52)][_0x3020f3(0x540)]()};}[_0x677888(0x1ad)](_0xfdf01f,_0x1c1973){const _0x528879=_0x677888;return this['receiverStreams'][_0x528879(0x26b)](_0xfdf01f)||this[_0x528879(0x861)][_0x528879(0x926)](_0xfdf01f,new _0x378c50()),this[_0x528879(0x861)]['get'](_0xfdf01f)[_0x528879(0x1f9)](_0x1c1973);}[_0x677888(0x724)](_0x422025,_0x51bb01){const _0x26cebd=_0x677888;return this['senderStreams'][_0x26cebd(0x26b)](_0x422025)||this['senderStreams']['set'](_0x422025,new _0x378c50()),this[_0x26cebd(0x45a)]['get'](_0x422025)[_0x26cebd(0x1f9)](_0x51bb01);}}class _0x297e45{['nodes']=new Map();['scheduleTime']=0x0;[_0x677888(0x77e)]=0x0;[_0x677888(0x818)]=new Map();[_0x677888(0x3d9)]=new Map();['keyValueDatabases']=new Map();[_0x677888(0x826)]=new Map();[_0x677888(0x6ed)]=new Map();[_0x677888(0x7bd)]=new Map();['graphDatabases']=new Map();[_0x677888(0xa8d)]=new Map();[_0x677888(0x68d)]=new Map();['receiverTotalMessages']=new Map();[_0x677888(0x177)]=new Map();[_0x677888(0x263)]=new Map();['systemMessages']=new Map();[_0x677888(0x36c)];[_0x677888(0x540)](){const _0x22baf7=_0x677888,_0x117d8d={};this[_0x22baf7(0x8f7)][_0x22baf7(0x938)]((_0x5ef0d4,_0x213006)=>{const _0x47903f=_0x22baf7;_0x117d8d[_0x213006]=_0x5ef0d4[_0x47903f(0x540)]();});let _0x4e6943=0x0;this['senderTimeProcessing'][_0x22baf7(0x938)](_0x5dce9a=>{_0x4e6943+=_0x5dce9a;});let _0x24213b=0x0;this[_0x22baf7(0x263)][_0x22baf7(0x938)](_0x4b0418=>{_0x24213b+=_0x4b0418;});const _0x16df32=_0x4e6943+_0x24213b;let _0x33c80a={'messages':{'total':0x0}};this['systemMessages'][_0x22baf7(0x938)](_0x52ab08=>{const _0x5281c0=_0x22baf7;Object['keys'](_0x52ab08)[_0x5281c0(0x938)](_0x19b504=>{const _0x43c4bd=_0x5281c0;_0x33c80a[_0x19b504]||(_0x33c80a[_0x19b504]={}),Object['keys'](_0x52ab08[_0x19b504])[_0x43c4bd(0x938)](_0x2503c7=>{_0x33c80a[_0x19b504][_0x2503c7]||(_0x33c80a[_0x19b504][_0x2503c7]=0x0),_0x33c80a[_0x19b504][_0x2503c7]+=_0x52ab08[_0x19b504][_0x2503c7];});});});let _0x15febd=0x0,_0x36c3d4=0x0,_0x49b6ff=0x0,_0x582bc3=0x0,_0x1ab224=0x0;return this['pubsubTopics'][_0x22baf7(0x938)](_0x3039e4=>{const _0x5c696a=_0x22baf7;_0x36c3d4+=_0x3039e4[_0x5c696a(0xab5)],_0x49b6ff+=_0x3039e4[_0x5c696a(0x930)],_0x582bc3+=_0x3039e4[_0x5c696a(0xa13)],_0x1ab224+=_0x3039e4[_0x5c696a(0x697)];}),this['objectStores']['forEach'](_0x433c6d=>{const _0x6bbd35=_0x22baf7;_0x15febd+=_0x433c6d[_0x6bbd35(0x8f6)],_0x36c3d4+=_0x433c6d['messagesSent'],_0x49b6ff+=_0x433c6d['messagesReceived'],_0x582bc3+=_0x433c6d[_0x6bbd35(0xa13)],_0x1ab224+=_0x433c6d[_0x6bbd35(0x697)];}),this[_0x22baf7(0x1c2)][_0x22baf7(0x938)](_0x2a4371=>{const _0x4e4e51=_0x22baf7;_0x15febd+=_0x2a4371[_0x4e4e51(0x8f6)],_0x36c3d4+=_0x2a4371[_0x4e4e51(0xab5)],_0x49b6ff+=_0x2a4371[_0x4e4e51(0x930)],_0x582bc3+=_0x2a4371[_0x4e4e51(0xa13)],_0x1ab224+=_0x2a4371[_0x4e4e51(0x697)];}),this[_0x22baf7(0x826)][_0x22baf7(0x938)](_0x518e31=>{const _0xa73591=_0x22baf7;_0x15febd+=_0x518e31[_0xa73591(0x8f6)],_0x36c3d4+=_0x518e31[_0xa73591(0xab5)],_0x49b6ff+=_0x518e31[_0xa73591(0x930)],_0x582bc3+=_0x518e31['bytesSent'],_0x1ab224+=_0x518e31['bytesReceived'];}),this[_0x22baf7(0x6ed)][_0x22baf7(0x938)](_0x21f567=>{const _0x3d9e9f=_0x22baf7;_0x15febd+=_0x21f567['storage'],_0x36c3d4+=_0x21f567[_0x3d9e9f(0xab5)],_0x49b6ff+=_0x21f567[_0x3d9e9f(0x930)],_0x582bc3+=_0x21f567[_0x3d9e9f(0xa13)],_0x1ab224+=_0x21f567[_0x3d9e9f(0x697)];}),this[_0x22baf7(0x7bd)][_0x22baf7(0x938)](_0x3ea484=>{const _0x47b8ad=_0x22baf7;_0x15febd+=_0x3ea484['storage'],_0x36c3d4+=_0x3ea484[_0x47b8ad(0xab5)],_0x49b6ff+=_0x3ea484[_0x47b8ad(0x930)],_0x582bc3+=_0x3ea484[_0x47b8ad(0xa13)],_0x1ab224+=_0x3ea484[_0x47b8ad(0x697)];}),this[_0x22baf7(0x229)][_0x22baf7(0x938)](_0xb1dd7b=>{const _0x5985fd=_0x22baf7;_0x15febd+=_0xb1dd7b['storage'],_0x36c3d4+=_0xb1dd7b[_0x5985fd(0xab5)],_0x49b6ff+=_0xb1dd7b[_0x5985fd(0x930)],_0x582bc3+=_0xb1dd7b['bytesSent'],_0x1ab224+=_0xb1dd7b[_0x5985fd(0x697)];}),{'STVolatility':this[_0x22baf7(0x763)](),'DTVolatility':this[_0x22baf7(0x4fb)](),'bitrate':this[_0x22baf7(0x953)](),'senderBitrate':this[_0x22baf7(0xa3f)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x15febd,'totalMessages':_0x36c3d4+_0x49b6ff,'totalMessagesSent':_0x36c3d4,'totalMessagesReceived':_0x49b6ff,'totalBytes':_0x582bc3+_0x1ab224,'totalBytesSent':_0x582bc3,'totalBytesReceived':_0x1ab224,'systemMessages':_0x33c80a,'timeProcessing':_0x16df32,'nodes':_0x117d8d,'pubsubTopics':Object[_0x22baf7(0x93c)](this['pubsubTopics']),'objectStores':Object[_0x22baf7(0x93c)](this[_0x22baf7(0x3d9)]),'keyValueDatabases':Object[_0x22baf7(0x93c)](this['keyValueDatabases']),'generativeAIContexts':Object[_0x22baf7(0x93c)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x22baf7(0x93c)](this[_0x22baf7(0x6ed)]),'vectorDatabases':Object[_0x22baf7(0x93c)](this[_0x22baf7(0x7bd)]),'graphDatabases':Object[_0x22baf7(0x93c)](this[_0x22baf7(0x229)]),'externalStorages':Object[_0x22baf7(0x93c)](this[_0x22baf7(0xa8d)])};}['addRemoteNode'](_0x4caefd){const _0x4baecd=_0x677888;this[_0x4baecd(0x8f7)][_0x4baecd(0x926)](_0x4caefd,new _0x3539dd());}[_0x677888(0xa56)](_0x5c993d){const _0x2edc40=_0x677888;this[_0x2edc40(0x8f7)][_0x2edc40(0x60b)](_0x5c993d);}['processReports'](_0x48f508,_0x5ec58b,_0x37d6a5){const _0x5c9f22=_0x677888;_0x5ec58b instanceof Array||this[_0x5c9f22(0x1c4)](_0x48f508,_0x5ec58b);const _0x3cebda=this[_0x5c9f22(0x8f7)][_0x5c9f22(0x8a1)](_0x48f508)?.[_0x5c9f22(0x1f9)](_0x5ec58b,_0x37d6a5);_0x3cebda&&this[_0x5c9f22(0x36c)][_0x5c9f22(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x5c9f22(0xa05)],'content':{'type':_0x43d5f3[_0x5c9f22(0x19e)],'data':{..._0x3cebda,'nodeId':_0x48f508}}});}['processLocalReport'](_0x31f1f8){const _0x1543ec=_0x677888;this[_0x1543ec(0x9d5)](_0x31f1f8[_0x1543ec(0x86e)]),this[_0x1543ec(0x449)](_0x31f1f8[_0x1543ec(0x77e)]),this[_0x1543ec(0x36c)][_0x1543ec(0x6c6)]({'sourceId':_0x158186,'messageType':_0x59623a[_0x1543ec(0xa05)],'content':{'type':_0x43d5f3['LocalReport'],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x1543ec(0x4fb)]()}}});}[_0x677888(0x9a8)](_0xf39a7c,_0x420129,_0x402513){const _0xb290d8=_0x677888;switch(_0x420129){case _0x17da44[_0xb290d8(0x9d3)]:this[_0xb290d8(0x818)][_0xb290d8(0x926)](_0xf39a7c,_0x402513);break;case _0x17da44[_0xb290d8(0x4b3)]:this[_0xb290d8(0x3d9)][_0xb290d8(0x926)](_0xf39a7c,_0x402513);break;case _0x17da44['KeyValueDatabaseStats']:this['keyValueDatabases'][_0xb290d8(0x926)](_0xf39a7c,_0x402513);break;case _0x17da44['GenerativeAIContextStats']:this['generativeAIContexts']['set'](_0xf39a7c,_0x402513);break;case _0x17da44[_0xb290d8(0x55a)]:this[_0xb290d8(0x6ed)][_0xb290d8(0x926)](_0xf39a7c,_0x402513);break;case _0x17da44[_0xb290d8(0x7ba)]:this[_0xb290d8(0x7bd)]['set'](_0xf39a7c,_0x402513);break;case _0x17da44[_0xb290d8(0x38f)]:this[_0xb290d8(0x229)]['set'](_0xf39a7c,_0x402513);break;case _0x17da44[_0xb290d8(0x5eb)]:this[_0xb290d8(0xa8d)]['set'](_0xf39a7c,_0x402513);}}['registerSystemPublisher'](_0x457d9e){const _0x2a1bde=_0x677888;this[_0x2a1bde(0x36c)]=_0x457d9e;}[_0x677888(0x4dc)](){const _0x169d5a=_0x677888;delete this[_0x169d5a(0x36c)];}[_0x677888(0x763)](){const _0x4a98a0=_0x677888;return this['scheduleTime']>0x0&&this['scheduleTime']-_0x58aea4>0x0?(this[_0x4a98a0(0xac2)]-_0x58aea4)/_0x58aea4:0x0;}[_0x677888(0x4fb)](){const _0x3baef9=_0x677888;return this[_0x3baef9(0x77e)]>0x0&&this[_0x3baef9(0x77e)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x15302b=_0x677888;let _0x14bd96=0x0;return this['nodes'][_0x15302b(0x938)](_0x2c190a=>{const _0x50e421=_0x15302b;_0x14bd96+=_0x2c190a[_0x50e421(0x225)];}),_0x14bd96;}[_0x677888(0x79a)](){const _0x16789d=_0x677888;let _0x2d80c6=0x0;return this[_0x16789d(0x8f7)][_0x16789d(0x938)](_0x2d904b=>{_0x2d80c6+=_0x2d904b['receiverBitrate'];}),_0x2d80c6;}[_0x677888(0x953)](){const _0x80c54f=_0x677888;let _0x334bfc=0x0;return this[_0x80c54f(0x8f7)]['forEach'](_0x192a17=>{const _0x3bd480=_0x80c54f;_0x334bfc+=_0x192a17[_0x3bd480(0x2d0)];}),_0x334bfc;}[_0x677888(0x9d5)](_0x406e9b){const _0x52d0c0=_0x677888;this[_0x52d0c0(0xac2)]=_0x406e9b;}[_0x677888(0x449)](_0x3877fd){const _0x17dcea=_0x677888;this[_0x17dcea(0x77e)]=_0x3877fd;}[_0x677888(0x1c4)](_0x177d7e,_0xb92cd3){const _0x37977c=_0x677888;switch(_0xb92cd3[_0x37977c(0x335)]){case _0x1b2fd6[_0x37977c(0x7dd)]:this[_0x37977c(0x9f0)](_0x177d7e,_0xb92cd3);break;case _0x1b2fd6[_0x37977c(0x707)]:this[_0x37977c(0x88c)](_0x177d7e,_0xb92cd3);}}[_0x677888(0x9f0)](_0x2e962b,_0x53887c){const _0x1d6dd6=_0x677888;this['senderTotalMessages']['set'](_0x2e962b,_0x53887c[_0x1d6dd6(0xab5)]),this[_0x1d6dd6(0x177)][_0x1d6dd6(0x926)](_0x2e962b,_0x53887c['timeSending']);}[_0x677888(0x88c)](_0x134450,_0x25f549){const _0x1c8235=_0x677888;this[_0x1c8235(0x72f)][_0x1c8235(0x926)](_0x134450,_0x25f549[_0x1c8235(0x930)]),this[_0x1c8235(0x263)]['set'](_0x134450,_0x25f549['timeReceiving']),this[_0x1c8235(0x64a)][_0x1c8235(0x926)](_0x134450,_0x25f549[_0x1c8235(0x64a)]);}}class _0x379f03{[_0x677888(0x4f0)];[_0x677888(0xa18)]=new Set();[_0x677888(0x5e4)];[_0x677888(0x8d7)];[_0x677888(0x2bb)];[_0x677888(0x1ed)]=new _0x297e45();constructor(_0x9bafbb){const _0x466fad=_0x677888;this[_0x466fad(0x4f0)]=_0x9bafbb,this['configs']['mediator'][_0x466fad(0x830)](this['statsReport']),this[_0x466fad(0x8d7)]=this['setupStatsCollection'](),this[_0x466fad(0x2bb)]=this['setupStatsReporting']();}[_0x677888(0x7ed)](){const _0x222206=_0x677888;this['configs'][_0x222206(0x64f)][_0x222206(0x1bd)](this[_0x222206(0x1ed)]),this['statsReporting'](),this[_0x222206(0x8d7)]();}['addRemoteNode'](_0x3f0dad){const _0x1f579f=_0x677888;this[_0x1f579f(0xa18)]['add'](_0x3f0dad),this[_0x1f579f(0x1ed)][_0x1f579f(0x172)](_0x3f0dad);}[_0x677888(0xa56)](_0x24b404){const _0x5d20b7=_0x677888;this[_0x5d20b7(0xa18)][_0x5d20b7(0x60b)](_0x24b404),this[_0x5d20b7(0x1ed)]['removeRemoteNode'](_0x24b404);}['handlePeerConnectionSystemEvents'](_0x16798b){const _0x1c1e49=_0x677888;if(_0x16798b['content'][_0x1c1e49(0xb0f)]===_0x3ba04a[_0x1c1e49(0xa05)]){const {nodeId:_0x5991cc,streamId:_0x5f4ccb,stats:_0x15fd3c}=_0x16798b[_0x1c1e49(0x6a6)];this['statsReport'][_0x1c1e49(0x1f9)](_0x5991cc,_0x15fd3c,_0x5f4ccb);}}[_0x677888(0x87a)](_0x3e0a15){const _0x2abe05=_0x677888;switch(_0x3e0a15[_0x2abe05(0x6a6)][_0x2abe05(0xb0f)]){case _0x17da44['ObjectStoreStats']:case _0x17da44['KeyValueDatabaseStats']:case _0x17da44[_0x2abe05(0x9d3)]:case _0x17da44[_0x2abe05(0x716)]:case _0x17da44[_0x2abe05(0x55a)]:case _0x17da44[_0x2abe05(0x7ba)]:case _0x17da44['GraphDatabaseStats']:case _0x17da44['ExternalStorageStats']:this[_0x2abe05(0x1ed)]['processServiceReport'](_0x3e0a15[_0x2abe05(0x6a6)][_0x2abe05(0x65c)],_0x3e0a15[_0x2abe05(0x6a6)][_0x2abe05(0xb0f)],_0x3e0a15[_0x2abe05(0x6a6)][_0x2abe05(0x2bc)]);}}[_0x677888(0x7e3)](){const _0x1d9c9c=_0x677888;return _0x450481[_0x1d9c9c(0x96d)](()=>{const _0x32bec8=_0x1d9c9c,_0x3a376c=this[_0x32bec8(0x1ed)][_0x32bec8(0x540)]();_0x5bf0c2[_0x32bec8(0x5d7)](_0x86d570[_0x32bec8(0xa05)],_0x32bec8(0x8e1),_0x3a376c),(0x0,_0x214774[_0x32bec8(0x501)])((0x0,_0x214774['collection'])(_0x66e9[_0x32bec8(0x65d)](),_0x32bec8(0x406)+this[_0x32bec8(0x4f0)][_0x32bec8(0x94e)]+_0x32bec8(0x9ef)),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x32bec8(0x4f0)][_0x32bec8(0xa36)][_0x32bec8(0x48e)](),'nodeType':this[_0x32bec8(0x4f0)][_0x32bec8(0xa36)][_0x32bec8(0xb0f)],'timestamp':(0x0,_0x214774[_0x32bec8(0x3b6)])(),'report':_0x3a376c}),_0x5bf0c2[_0x32bec8(0x9c6)](_0x32bec8(0x2bc),{'clusterId':this[_0x32bec8(0x4f0)]['clusterId'],'nodeId':this['configs'][_0x32bec8(0xa36)][_0x32bec8(0x48e)](),'nodeType':this[_0x32bec8(0x4f0)][_0x32bec8(0xa36)][_0x32bec8(0xb0f)],'data':{'report':_0x3a376c}});},_0x1f893d);}[_0x677888(0x345)](){const _0x5b0b4b=_0x677888;let _0x52911a=!0x1,_0x4b2ee6=Date['now']();return _0x450481[_0x5b0b4b(0x96d)](async()=>{const _0x1b22ba=_0x5b0b4b;if(_0x52911a)return;if(_0x52911a=!0x0,0x0===this['remoteNodes'][_0x1b22ba(0x22b)])return delete this['nextNodeId'],void(_0x52911a=!0x1);const _0x35c530=Date[_0x1b22ba(0x9bd)]();this[_0x1b22ba(0x7b8)]();try{await this[_0x1b22ba(0x4f0)][_0x1b22ba(0x64f)]['collectStats'](this[_0x1b22ba(0x5e4)]);}catch(_0x3fb5ce){}this[_0x1b22ba(0x1ed)][_0x1b22ba(0x495)]({'secheduleTime':_0x35c530-_0x4b2ee6,'durationTime':Date[_0x1b22ba(0x9bd)]()-_0x35c530}),_0x4b2ee6=_0x35c530,_0x52911a=!0x1;},_0x58aea4);}['findNextNodeId'](){const _0x4d6838=_0x677888;let _0x17b630,_0x4a6818=!0x1;this[_0x4d6838(0x5e4)]&&(this[_0x4d6838(0xa18)][_0x4d6838(0x26b)](this[_0x4d6838(0x5e4)])||delete this[_0x4d6838(0x5e4)]);for(const _0x4e5e1e of this[_0x4d6838(0xa18)])if(_0x17b630||(_0x17b630=_0x4e5e1e),this[_0x4d6838(0x5e4)]!==_0x4e5e1e){if(_0x4a6818)return void(this[_0x4d6838(0x5e4)]=_0x4e5e1e);}else _0x4a6818=!0x0,delete this['nextNodeId'];this[_0x4d6838(0x5e4)]||(this[_0x4d6838(0x5e4)]=_0x17b630);}}class _0x353f15{['source'];['destination'];[_0x677888(0x36c)];constructor(_0x4f3483,_0x4f061a){const _0xba49f6=_0x677888;this[_0xba49f6(0x79c)]=_0x4f3483,this[_0xba49f6(0x189)]=_0x4f061a;}[_0x677888(0xaf0)](_0x14bbeb){const _0x38e113=_0x677888;this[_0x38e113(0x36c)]=_0x14bbeb;}['unregisterSystemPublisher'](){const _0x461add=_0x677888;delete this[_0x461add(0x36c)];}}class _0x3082ac extends _0x353f15{[_0x677888(0x79c)];[_0x677888(0x189)];['params'];constructor(_0x49d08a,_0x18346b,_0x63e644){const _0x5296f6=_0x677888;super(_0x49d08a,_0x18346b),this['source']=_0x49d08a,this[_0x5296f6(0x189)]=_0x18346b,this[_0x5296f6(0xae9)]=_0x63e644;}[_0x677888(0x576)](_0x4499cd,_0x43950f,_0x2edc88){const _0x564f9e=_0x677888;if(this[_0x564f9e(0x189)][_0x564f9e(0x5b3)]()===_0x1736bb[_0x564f9e(0xa3c)][_0x564f9e(0x2d6)]){const _0x3992dd={'type':_0x1f2399[_0x564f9e(0x27b)],'label':this[_0x564f9e(0x189)][_0x564f9e(0x4d9)](),'ownerId':_0x4499cd,'trackKinds':_0x43950f??this[_0x564f9e(0x189)][_0x564f9e(0x184)](),'params':_0x2edc88};this[_0x564f9e(0x36c)]['publish']({'sourceId':this[_0x564f9e(0x79c)][_0x564f9e(0x297)](),'destinationIds':[this['source'][_0x564f9e(0x7b7)]()],'messageType':_0x59623a[_0x564f9e(0x91b)],'content':_0x3992dd}),this[_0x564f9e(0xae9)]=_0x2edc88;}}['update'](_0x32cba1,_0x43c874){const _0x1ec9b5=_0x677888;if(this[_0x1ec9b5(0x189)][_0x1ec9b5(0x5b3)]()===_0x1736bb['ContentType']['Media']){const _0x4e3fdc={'type':_0x1f2399[_0x1ec9b5(0x79d)],'label':this[_0x1ec9b5(0x189)][_0x1ec9b5(0x4d9)](),'ownerId':_0x32cba1,'params':_0x43c874};this['systemTopic'][_0x1ec9b5(0x6c6)]({'sourceId':this[_0x1ec9b5(0x79c)]['getLocalId'](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x59623a['Subscription'],'content':_0x4e3fdc}),this['params']=_0x43c874;}}[_0x677888(0xa24)](_0x4ff774,_0x46fe84,_0x1a59e3){const _0x20f7e4=_0x677888;if(this[_0x20f7e4(0x189)][_0x20f7e4(0x5b3)]()===_0x1736bb[_0x20f7e4(0xa3c)][_0x20f7e4(0x2d6)]){const _0x5341dd={'type':_0x1f2399[_0x20f7e4(0xa7d)],'label':this[_0x20f7e4(0x189)][_0x20f7e4(0x4d9)](),'ownerId':_0x4ff774,'trackKinds':_0x1a59e3??this['destination'][_0x20f7e4(0x184)](),'remainingTracks':_0x46fe84};this['systemTopic'][_0x20f7e4(0x6c6)]({'sourceId':this['source'][_0x20f7e4(0x297)](),'destinationIds':[this[_0x20f7e4(0x79c)]['getRemoteId']()],'messageType':_0x59623a[_0x20f7e4(0x91b)],'content':_0x5341dd});}}}class _0x96c2d3{[_0x677888(0x374)];[_0x677888(0x8f8)];[_0x677888(0x4ad)];[_0x677888(0x36c)];[_0x677888(0x1a5)]=new Set();['startTime']=Date['now']();[_0x677888(0xae9)];[_0x677888(0x378)]=0x0;constructor(_0xba5644,_0x8f60f6,_0x576b51,_0x59cf14){const _0x5220c5=_0x677888;this['currentDistance']=_0x8f60f6,this['maxDistance']=_0x576b51,this[_0x5220c5(0x4ad)]=_0x59cf14,_0xba5644[_0x5220c5(0x938)](_0xffa9f8=>{const _0x37b621=_0x5220c5;this['answers']['add']({'nodeId':_0xffa9f8,'type':_0x10adec[_0x37b621(0x7a8)]});});}[_0x677888(0x57c)](){const _0x495d2f=_0x677888;return this[_0x495d2f(0x4ad)];}[_0x677888(0xaf0)](_0x5b9643){const _0x367472=_0x677888;this[_0x367472(0x36c)]=_0x5b9643;}[_0x677888(0x4dc)](){const _0x13a1f7=_0x677888;delete this[_0x13a1f7(0x36c)];}[_0x677888(0x79b)](_0x315ae5,_0xaca6f9){const _0x2fcd16=_0x677888;this[_0x2fcd16(0x95f)]=Date['now'](),this['answers'][_0x2fcd16(0x99d)](),_0x315ae5['forEach'](_0x289417=>{const _0x272919=_0x2fcd16;this[_0x272919(0x1a5)]['add']({'nodeId':_0x289417,'type':_0x10adec['Waiting']});}),this[_0x2fcd16(0x378)]+=0x1,this['currentDistance']=_0xaca6f9;}['sendRequest'](_0x4d637d,_0x3751eb,_0x10144f,_0x4e7edb,_0x401099){const _0x30f5cd=_0x677888;if(this[_0x30f5cd(0x378)]>0xa)throw new _0x4dab04(_0x4dab04[_0x30f5cd(0x6ec)][_0x30f5cd(0x1b6)],{'answers':Array[_0x30f5cd(0x3fd)](this[_0x30f5cd(0x1a5)])[_0x30f5cd(0x360)](_0x275dd7=>({'nodeId':_0x275dd7['nodeId'],'type':_0x275dd7[_0x30f5cd(0xb0f)]}))});const _0x2dbb33=Array[_0x30f5cd(0x3fd)](this['answers'])[_0x30f5cd(0x360)](_0x525288=>_0x525288['nodeId']);this['params']=_0x401099,this[_0x30f5cd(0x36c)][_0x30f5cd(0x6c6)]({'sourceId':_0x4d637d,'destinationIds':_0x2dbb33,'messageType':_0x59623a[_0x30f5cd(0x91b)],'content':{'type':_0x1f2399[_0x30f5cd(0x400)],'label':_0x10144f,'ownerId':_0x3751eb,'trackKinds':_0x4e7edb,'params':_0x401099}}),_0x5bf0c2[_0x30f5cd(0x5d7)](_0x86d570[_0x30f5cd(0x91b)],_0x30f5cd(0x6bf),_0x4d637d,_0x2dbb33);}[_0x677888(0x441)](_0x238923,_0x43ee33){const _0x5a881a=_0x677888;switch(_0x43ee33[_0x5a881a(0xb0f)]){case _0x1f2399[_0x5a881a(0x8b8)]:{const _0x23c1fa=this['currentDistance']>=_0x43ee33[_0x5a881a(0xa58)]&&_0x43ee33['distance']<=this[_0x5a881a(0x8f8)],_0x2fa597=Array[_0x5a881a(0x3fd)](this[_0x5a881a(0x1a5)])['find'](_0x7eb78a=>_0x7eb78a[_0x5a881a(0x94c)]===_0x238923);_0x2fa597[_0x5a881a(0xb0f)]=_0x23c1fa?_0x10adec[_0x5a881a(0x54f)]:_0x10adec['Rejected'],_0x2fa597[_0x5a881a(0x6ad)]=_0x43ee33['cost'],_0x2fa597[_0x5a881a(0xa58)]=_0x43ee33['distance'],_0x2fa597[_0x5a881a(0xae1)]=_0x43ee33[_0x5a881a(0xae1)],_0x2fa597['roundTripTime']=Date[_0x5a881a(0x9bd)]()-this[_0x5a881a(0x95f)],_0x2fa597[_0x5a881a(0xae9)]=this[_0x5a881a(0xae9)],_0x2fa597[_0x5a881a(0x268)]=_0x43ee33[_0x5a881a(0x268)],_0x2fa597['trackKinds']=_0x43ee33['trackKinds'],_0x2fa597['streamLabel']=_0x43ee33[_0x5a881a(0x65c)],_0x5bf0c2[_0x5a881a(0x5d7)](_0x86d570[_0x5a881a(0x91b)],(_0x23c1fa?_0x5a881a(0x54f):_0x5a881a(0x51d))+_0x5a881a(0x46d),_0x2fa597);break;}case _0x1f2399[_0x5a881a(0x409)]:{const _0x1f4232=Array[_0x5a881a(0x3fd)](this[_0x5a881a(0x1a5)])[_0x5a881a(0x8ab)](_0x372bda=>_0x372bda[_0x5a881a(0x94c)]===_0x238923);_0x1f4232[_0x5a881a(0xb0f)]=_0x10adec[_0x5a881a(0x51d)],_0x5bf0c2['log'](_0x86d570['Subscription'],_0x5a881a(0x838),_0x1f4232);break;}}if(this[_0x5a881a(0x777)]())return this[_0x5a881a(0x8ae)]();}['chooseAnswer'](){const _0x2188d0=_0x677888,_0x13344c=Array['from'](this['answers'])[_0x2188d0(0x3cc)](_0x5ce36c=>_0x5ce36c[_0x2188d0(0xb0f)]===_0x10adec['Accepted'])[_0x2188d0(0x323)]((_0x33274a,_0x2b438d)=>_0x33274a[_0x2188d0(0x6ad)]===_0x2b438d[_0x2188d0(0x6ad)]?_0x33274a['roundTripTime']-_0x2b438d[_0x2188d0(0x8ba)]:_0x33274a[_0x2188d0(0x6ad)]-_0x2b438d[_0x2188d0(0x6ad)]);if(0x0===_0x13344c['length'])throw new _0x4dab04(_0x4dab04[_0x2188d0(0x6ec)][_0x2188d0(0x1b6)],{'answers':Array[_0x2188d0(0x3fd)](this[_0x2188d0(0x1a5)])['map'](_0x14f4c0=>({'nodeId':_0x14f4c0['nodeId'],'type':_0x14f4c0[_0x2188d0(0xb0f)]}))});return _0x5bf0c2['log'](_0x86d570[_0x2188d0(0x91b)],_0x2188d0(0x879),_0x13344c[0x0],this[_0x2188d0(0x1a5)]),_0x13344c[0x0];}[_0x677888(0x777)](){const _0xf9f435=_0x677888;for(const _0xa76cad of this[_0xf9f435(0x1a5)])if(_0xa76cad[_0xf9f435(0xb0f)]===_0x10adec[_0xf9f435(0x7a8)])return!0x1;return!0x0;}}class _0xfa6c61{[_0x677888(0x65c)];[_0x677888(0x935)];[_0x677888(0xa2d)]=_0x484270();constructor(_0x47415f,_0x2915b9){const _0x497e1c=_0x677888;this[_0x497e1c(0x65c)]=_0x47415f,this['contentType']=_0x2915b9;}['getLabel'](){return this['label'];}[_0x677888(0x5b3)](){return this['contentType'];}['registerSource'](_0x124b6c){const _0x5b9df1=_0x677888;_0x124b6c[_0x5b9df1(0x464)](this);}[_0x677888(0x9b4)](_0x1d203a){_0x1d203a['registerSubscriber'](this);}[_0x677888(0x6c6)](_0x4cf474){const _0x43da7a=_0x677888;this[_0x43da7a(0xa2d)][_0x43da7a(0x6c6)]({'topicLabel':this[_0x43da7a(0x65c)],'contentType':this[_0x43da7a(0x935)],'uuid':(0x0,_0x1514a8['v4'])(),'recipients':[],..._0x4cf474});}['subscribe'](_0x527327){const _0x27965b=_0x677888;return this[_0x27965b(0xa2d)][_0x27965b(0x576)](_0x527327);}['unregisterSource'](_0x24b1a1){const _0x35a84a=_0x677888;_0x24b1a1[_0x35a84a(0x72b)](this);}[_0x677888(0x17a)](_0x32e13f){_0x32e13f['unregisterSubscriber'](this);}}class _0x44368c{['maps']={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x1785dd){const _0xe135bb=_0x677888;this[_0xe135bb(0x6dd)]=_0x1785dd;}get[_0x677888(0x982)](){const _0x2c5ba8=_0x677888;return this[_0x2c5ba8(0x653)][_0x2c5ba8(0x982)];}get[_0x677888(0x9bb)](){const _0x1014f8=_0x677888;return this[_0x1014f8(0x653)][_0x1014f8(0x9bb)];}[_0x677888(0x4c9)](_0xddcceb,_0x6ee2dd){const _0x3460fd=_0x677888,_0x1c6a4c=this[_0x3460fd(0x6dd)](_0x6ee2dd),_0x1490c7=_0x1e1a1b(_0xddcceb);if(!_0x1c6a4c['supportsContentType'])throw new _0x4dab04(_0x4dab04[_0x3460fd(0x6ec)]['InvalidSubscription'],{'message':_0x1490c7+':\x20'+_0x1c6a4c['remoteId']+_0x3460fd(0x597)+_0x1c6a4c[_0x3460fd(0x935)],'subscriptionType':_0xddcceb,'subscription':_0x6ee2dd,'subscriptonParts':_0x1c6a4c});const _0x11a09a=_0x467126(_0xddcceb,_0x1c6a4c);if(this[_0x3460fd(0x653)][_0x3460fd(0x982)][_0x3460fd(0x26b)](_0x11a09a))throw new _0x4dab04(_0x4dab04[_0x3460fd(0x6ec)][_0x3460fd(0x28b)],{'message':_0x1490c7+':\x20'+_0x11a09a+_0x3460fd(0x259),'subscriptionType':_0xddcceb,'subscription':_0x6ee2dd,'subscriptonParts':_0x1c6a4c});this[_0x3460fd(0x653)]['subscriptions'][_0x3460fd(0x926)](_0x11a09a,_0x6ee2dd),this[_0x3460fd(0x7d2)](_0x1c6a4c,_0x6ee2dd);}['removeSubscription'](_0x3f945f,_0x457e2d){const _0x4b5924=_0x677888,_0x267aea=_0x467126(_0x457e2d,_0x3f945f),_0x196be3=this[_0x4b5924(0x653)]['subscriptions'][_0x4b5924(0x8a1)](_0x267aea);if(!_0x196be3)throw new _0x4dab04(_0x4dab04[_0x4b5924(0x6ec)]['InvalidSubscription'],{'message':_0x1e1a1b(_0x457e2d)+':\x20'+_0x267aea+_0x4b5924(0x4e0),'subscriptionType':_0x457e2d,'subscription':_0x196be3,'subscriptonParts':_0x3f945f});this[_0x4b5924(0x580)](_0x196be3,_0x267aea,_0x3f945f);}['closeSubscription'](_0x582ce9,_0x4f6663,_0x3f3318){const _0x4a29a0=_0x677888;_0x3f3318=_0x3f3318||this[_0x4a29a0(0x6dd)](_0x582ce9),this[_0x4a29a0(0x653)]['subscriptions'][_0x4a29a0(0x60b)](_0x4f6663),this[_0x4a29a0(0x5d8)](_0x3f3318,_0x582ce9);}[_0x677888(0x7d2)](_0x2f8a9b,{source:_0x24d678,destination:_0x4897d1}){const _0x12be4e=_0x677888,{contentType:_0x3e98a8,label:_0x54cf92,remoteId:_0x901da6}=_0x2f8a9b,_0x46d9da=_0x31c948(_0x3e98a8,_0x54cf92,_0x901da6),_0xca954d=new _0xfa6c61(_0x46d9da,_0x3e98a8);_0xca954d[_0x12be4e(0xa3b)](_0x24d678),_0xca954d[_0x12be4e(0x9b4)](_0x4897d1),this[_0x12be4e(0x653)]['topics'][_0x12be4e(0x926)](_0xca954d[_0x12be4e(0x4d9)](),_0xca954d);}[_0x677888(0x5d8)](_0x36a537,_0x3214f9){const _0x3fc397=_0x677888,{contentType:_0x1fa9d0,label:_0x6c3c91,remoteId:_0x37de6c}=_0x36a537,_0x1f4772=_0x31c948(_0x1fa9d0,_0x6c3c91,_0x37de6c),_0x41d362=this[_0x3fc397(0x653)][_0x3fc397(0x9bb)]['get'](_0x1f4772);_0x41d362&&(this[_0x3fc397(0xaaf)](_0x41d362,_0x3214f9),this[_0x3fc397(0x653)]['topics'][_0x3fc397(0x60b)](_0x1f4772));}[_0x677888(0xaaf)](_0x32619e,{source:_0x14edad,destination:_0x522010}){const _0x3d23b9=_0x677888;_0x32619e[_0x3d23b9(0x4ec)](_0x14edad),_0x32619e[_0x3d23b9(0x17a)](_0x522010);}[_0x677888(0xab2)](_0x2d05ab){const _0x1a1b4f=_0x677888;this[_0x1a1b4f(0x653)][_0x1a1b4f(0x982)]['forEach']((_0x5f20a2,_0x575a37)=>{const _0x13545b=_0x1a1b4f;_0x575a37[_0x13545b(0x742)](_0x2d05ab)&&this[_0x13545b(0x580)](_0x5f20a2,_0x575a37);});}}class _0x1e6b4a{['configs'];['maxDistance'];[_0x677888(0xa6f)]=new Map();[_0x677888(0x173)]=_0x4e695b(new _0x23a9d0(this[_0x677888(0x749)][_0x677888(0x75d)](this),()=>_0x450481['wait'](0x64)),!0x0);[_0x677888(0x1a0)]=new Map();[_0x677888(0x653)];[_0x677888(0x76b)]=new Map();constructor(_0x8b4f8e,_0x4529e7){const _0x6ff287=_0x677888;this[_0x6ff287(0x4f0)]=_0x8b4f8e,this[_0x6ff287(0x8f8)]=_0x4529e7,this[_0x6ff287(0x653)]=new _0x44368c(({source:_0xf08447,destination:_0x52e855})=>_0x38bc1d(_0x52e855,_0xf08447));}[_0x677888(0x4c9)](_0x531b24,_0x578266){const _0x72fa28=_0x677888,_0x169c05=this[_0x72fa28(0x27e)](_0x531b24)&&this[_0x72fa28(0x67f)](_0x578266)?new _0x3082ac(_0x531b24,_0x578266):new _0x353f15(_0x531b24,_0x578266);this['maps'][_0x72fa28(0x4c9)](_0x3eaadf[_0x72fa28(0x4a5)],_0x169c05),this[_0x72fa28(0x4f0)][_0x72fa28(0x64f)][_0x72fa28(0x830)](_0x169c05);}[_0x677888(0x6a7)](_0x4666c9,_0x218813,_0x44f400=''){const _0x44ad7c=_0x677888,_0x298029={'contentType':_0x218813,'label':_0x4666c9,'remoteId':_0x44f400},_0x299ea2=_0x467126(_0x3eaadf[_0x44ad7c(0x4a5)],_0x298029),_0x199f51=this[_0x44ad7c(0x653)][_0x44ad7c(0x982)]['get'](_0x299ea2);_0x199f51&&this['closeSubscription'](_0x199f51,_0x299ea2);}[_0x677888(0x299)](_0x22231b){const _0x136f46=_0x677888;this[_0x136f46(0x199)](_0x22231b);}['handleContentSubscribeMediaStream']({label:_0x2c2c0f,ownerId:_0x254c75,trackKinds:_0x12eedf,params:_0x24ecfc}){const _0x1a1528=_0x677888;this[_0x1a1528(0x56c)](_0x2c2c0f,_0x254c75,_0x12eedf,_0x24ecfc);}['handleContentUpdateMediaStream']({ownerId:_0x580ae6,label:_0x3e60dc,params:_0x228505}){const _0x38589a=_0x677888,{subscriptionLabel:_0x4c562e}=this[_0x38589a(0x962)](_0x3e60dc,_0x580ae6),_0x52a5cb=this['getMediaSubscription'](_0x4c562e);_0x52a5cb&&_0x52a5cb[_0x38589a(0x4a8)](_0x580ae6,_0x228505);}[_0x677888(0x1fb)]({ownerId:_0xc47dc4,label:_0x3cf18a,trackKinds:_0x198802,remainingTracks:_0x13d2b0}){const _0xb60ba6=_0x677888,_0x5f2422=_0x467126(_0x3eaadf['Incoming'],{'contentType':_0x1736bb[_0xb60ba6(0xa3c)][_0xb60ba6(0x2d6)],'label':_0x3cf18a,'remoteId':_0xc47dc4});this['clearSubscriptionRequestTimeout'](_0x5f2422);const _0x4df1b7=this[_0xb60ba6(0xa6f)][_0xb60ba6(0x8a1)](_0x5f2422);_0x4df1b7&&(this[_0xb60ba6(0x4f0)]['mediator'][_0xb60ba6(0x1bd)](_0x4df1b7),this[_0xb60ba6(0xa6f)][_0xb60ba6(0x60b)](_0x5f2422));const {parts:_0x359222,subscriptionLabel:_0x56bf08}=this[_0xb60ba6(0x962)](_0x3cf18a,_0xc47dc4),_0x25c682=this[_0xb60ba6(0x260)](_0x56bf08);_0x25c682&&(_0x25c682['unsubscribe'](_0xc47dc4,_0x13d2b0,_0x198802),0x0===_0x13d2b0&&this[_0xb60ba6(0x6a7)](_0x359222[_0xb60ba6(0x65c)],_0x359222[_0xb60ba6(0x935)],_0x359222['remoteId']));}[_0x677888(0x927)](_0x57dae2,{label:_0x14a429,ownerId:_0x4cd59f,trackKinds:_0x2178db,streamId:_0x30911d,params:_0x2f5788}){const _0x519efc=_0x677888,_0x2e8f40=_0x467126(_0x3eaadf[_0x519efc(0x4a5)],{'contentType':_0x1736bb[_0x519efc(0xa3c)]['Media'],'label':_0x30911d,'remoteId':_0x57dae2}),_0xbe0877=this[_0x519efc(0x653)][_0x519efc(0x982)][_0x519efc(0x8a1)](_0x2e8f40);if(!(_0xbe0877&&_0xbe0877 instanceof _0x3082ac))throw new _0x4dab04(_0x4dab04[_0x519efc(0x6ec)][_0x519efc(0x7d1)],{'label':_0x2e8f40,'ownerId':_0x4cd59f});this[_0x519efc(0x580)](_0xbe0877,_0x2e8f40),this[_0x519efc(0x56c)](_0x14a429,_0x4cd59f,_0x2178db,_0x2f5788);}[_0x677888(0x5fb)](_0x2dd7a6,_0x4b8d5c){const _0x507306=_0x677888,{label:_0x5bb283,ownerId:_0x580a23,trackKinds:_0x276bc6,params:_0x1fdcc7}=_0x4b8d5c,_0xcef60d=_0x467126(_0x3eaadf[_0x507306(0x4a5)],{'contentType':_0x1736bb[_0x507306(0xa3c)][_0x507306(0x2d6)],'label':_0x5bb283,'remoteId':_0x580a23});if(!this[_0x507306(0xa6f)][_0x507306(0x26b)](_0xcef60d))throw new _0x4dab04(_0x4dab04[_0x507306(0x6ec)][_0x507306(0x7d1)],{'label':_0xcef60d,'ownerId':_0x580a23,'streamId':_0x4b8d5c[_0x507306(0xae1)],'requests':this[_0x507306(0xa6f)]});const _0x2efd79=this[_0x507306(0xa6f)][_0x507306(0x8a1)](_0xcef60d);if(_0x276bc6[_0x507306(0x8a9)]===_0x2efd79['getTracks']()[_0x507306(0x8a9)]&&_0x276bc6[_0x507306(0x8b6)](_0x238a31=>_0x2efd79['getTracks']()[_0x507306(0xace)](_0x238a31)))try{const _0x34091d=_0x2efd79[_0x507306(0x441)](_0x2dd7a6,_0x4b8d5c);if(!_0x34091d)return;this[_0x507306(0x576)](_0x34091d,_0x580a23,_0x5bb283,_0xcef60d,_0x276bc6);}catch(_0x389a2b){return void this['handleNoAnswer'](_0x5bb283,_0x580a23,_0x276bc6,_0x1fdcc7);}}[_0x677888(0x26c)](_0x544e4a,{label:_0x224a04,ownerId:_0x5b91e8,trackKinds:_0x273453}){const _0xf84b11=_0x677888,_0xb437b2=this[_0xf84b11(0x4f0)][_0xf84b11(0x64f)][_0xf84b11(0x3ad)](_0x5b91e8,_0x224a04);if(!_0xb437b2)return;const _0x2550dc=_0xb437b2[_0xf84b11(0x5bf)](),_0x41b51c=_0xb437b2['getSubscribedTracks']();_0x41b51c[_0xf84b11(0x591)](_0x466e41=>_0x273453['includes'](_0x466e41))&&this[_0xf84b11(0x946)](_0x544e4a,_0x224a04,_0x2550dc,_0x5b91e8,_0x41b51c);}[_0x677888(0x3de)]({label:_0x5a7ae8,providerId:_0x5d42f0,ownerId:_0x532b6b,streamId:_0x4bbdb2,trackKinds:_0x4fab8d}){const _0x19f15c=_0x677888;this[_0x19f15c(0x946)](_0x5d42f0,_0x5a7ae8,_0x4bbdb2,_0x532b6b,_0x4fab8d);}[_0x677888(0x783)](_0xec2bd9){const _0x30d83f=_0x677888;for(const _0x11ae98 of this[_0x30d83f(0x76b)][_0x30d83f(0x9c3)]()){const {streamLabel:_0x585805,ownerId:_0x5b3149,trackKinds:_0x1d7a3b,params:_0x5af81e}=_0x11ae98;if(!_0x5b3149||!_0x1d7a3b||!_0x585805)return;this[_0x30d83f(0x173)][_0x30d83f(0xa65)]({'label':_0x585805,'ownerId':_0x5b3149,'trackKinds':_0x1d7a3b,'params':_0x5af81e,'remoteId':_0xec2bd9});}}[_0x677888(0xab2)](_0x22a220){const _0x59bdfe=_0x677888;this[_0x59bdfe(0x653)]['subscriptions'][_0x59bdfe(0x938)]((_0x2c71fd,_0x2cf043)=>{const _0x3c005c=_0x59bdfe;if(_0x2cf043[_0x3c005c(0x742)](_0x22a220)){if(_0x2c71fd[_0x3c005c(0x189)][_0x3c005c(0x5b3)]()===_0x1736bb[_0x3c005c(0xa3c)][_0x3c005c(0x2d6)]){const _0xd489bd=_0x2c71fd[_0x3c005c(0x189)];if(_0xd489bd['getSubscribedTracks']()[_0x3c005c(0x8a9)]>0x0){const _0x44c3ba={'type':_0x1f2399[_0x3c005c(0x7ad)],'label':_0xd489bd['getLabel'](),'ownerId':_0xd489bd['getOwnerId'](),'trackKinds':_0xd489bd[_0x3c005c(0xa49)]()};return void this[_0x3c005c(0x26c)](_0x22a220,_0x44c3ba);}}this[_0x3c005c(0x580)](_0x2c71fd,_0x2cf043);}});}[_0x677888(0x7ed)](){const _0x2a7279=_0x677888;this[_0x2a7279(0x653)][_0x2a7279(0x982)][_0x2a7279(0x938)](this['closeSubscription'][_0x2a7279(0x75d)](this));}[_0x677888(0x576)](_0x43997e,_0x570fed,_0x197162,_0x141867,_0x435799){const _0x766ed3=_0x677888,_0x37189d=this[_0x766ed3(0x4f0)][_0x766ed3(0x64f)][_0x766ed3(0x2cc)](_0x43997e['nodeId']),_0x2978d8=this['configs']['mediator'][_0x766ed3(0x3ad)](_0x570fed,_0x197162);this[_0x766ed3(0xb19)](_0x141867),this['subscriptionRequests']['has'](_0x141867)&&(this[_0x766ed3(0x4f0)]['mediator'][_0x766ed3(0x1bd)](this[_0x766ed3(0xa6f)]['get'](_0x141867)),this[_0x766ed3(0xa6f)]['delete'](_0x141867)),this[_0x766ed3(0x709)](_0x43997e,_0x570fed,_0x197162,_0x2978d8),_0x2978d8[_0x766ed3(0x26a)](_0x43997e[_0x766ed3(0xae1)]),_0x2978d8[_0x766ed3(0x527)](_0x43997e['nodeId']);const _0x4c48af=_0x38bc1d(_0x2978d8,_0x37189d),_0x559d27=_0x467126(_0x3eaadf[_0x766ed3(0x4a5)],_0x4c48af);this[_0x766ed3(0x653)][_0x766ed3(0x982)]['has'](_0x559d27)||this['createSubscription'](_0x37189d,_0x2978d8);const _0x40fb54=this[_0x766ed3(0x653)][_0x766ed3(0x982)][_0x766ed3(0x8a1)](_0x559d27);if(!(_0x40fb54&&_0x40fb54 instanceof _0x3082ac))throw new _0x4dab04(_0x4dab04[_0x766ed3(0x6ec)][_0x766ed3(0x7d1)],{'label':_0x141867,'ownerId':_0x570fed});_0x5bf0c2[_0x766ed3(0x9c6)](_0x766ed3(0x9bf),{'clusterId':this[_0x766ed3(0x4f0)][_0x766ed3(0x8a2)],'nodeId':this['configs'][_0x766ed3(0xa36)][_0x766ed3(0x48e)](),'nodeType':this['configs'][_0x766ed3(0xa36)][_0x766ed3(0xb0f)],'data':{'subscriptionLabel':_0x559d27,'chosenAnswer':_0x43997e}}),this[_0x766ed3(0x76b)][_0x766ed3(0x926)](_0x559d27,_0x43997e),_0x40fb54[_0x766ed3(0x576)](_0x570fed,_0x435799,_0x43997e[_0x766ed3(0xae9)]);}[_0x677888(0x199)]({ownerId:_0x1b83ee,label:_0x486f6c}){const _0x10406e=_0x677888,_0x39d48d=this[_0x10406e(0x4f0)][_0x10406e(0x64f)][_0x10406e(0x3ad)](_0x1b83ee,_0x486f6c),[_0x4faeda,_0x14f571]=Array[_0x10406e(0x3fd)](this[_0x10406e(0x653)][_0x10406e(0x982)][_0x10406e(0x3a0)]())[_0x10406e(0x8ab)](([_0x173352,_0x4a48e6])=>-0x1!==_0x173352[_0x10406e(0x701)](_0x39d48d[_0x10406e(0x5bf)]()));return this[_0x10406e(0x580)](_0x14f571,_0x4faeda);}[_0x677888(0x580)](_0x107f09,_0x55ce07){const _0x22959d=_0x677888;this[_0x22959d(0x4f0)][_0x22959d(0x64f)][_0x22959d(0x1bd)](_0x107f09),this['maps'][_0x22959d(0x580)](_0x107f09,_0x55ce07);}['isMediaSource'](_0x244f36){const _0x593e56=_0x677888;return _0x244f36[_0x593e56(0x9d7)]()[_0x593e56(0xace)](_0x1736bb[_0x593e56(0xa3c)]['Media']);}[_0x677888(0x67f)](_0x2fc258){const _0x255953=_0x677888;return _0x2fc258[_0x255953(0x5b3)]()===_0x1736bb['ContentType'][_0x255953(0x2d6)];}async[_0x677888(0x305)](_0x342ba6,_0x3d377e,_0x3fa80b,_0x2b3243){const _0x24633e=_0x677888;await _0x450481[_0x24633e(0x201)](0x3e8);const _0x3e050c=_0x467126(_0x3eaadf[_0x24633e(0x4a5)],{'contentType':_0x1736bb[_0x24633e(0xa3c)]['Media'],'label':_0x342ba6,'remoteId':_0x3d377e});this[_0x24633e(0xb19)](_0x3e050c);const _0x4c3026=this[_0x24633e(0xa6f)]['get'](_0x3e050c);if(!_0x4c3026)throw new _0x4dab04(_0x4dab04['codes'][_0x24633e(0x7d1)],{'label':_0x3e050c,'ownerId':_0x3d377e});const _0x461a1b=this[_0x24633e(0x4f0)][_0x24633e(0x64f)][_0x24633e(0x8c2)](_0x2bef28=>_0x2bef28['isConnected']()),_0x510fe9=this[_0x24633e(0x4f0)][_0x24633e(0x64f)]['getDistance'](this[_0x24633e(0x4f0)][_0x24633e(0xa36)][_0x24633e(0x48e)](),_0x3d377e);_0x4c3026[_0x24633e(0x79b)](_0x461a1b[_0x24633e(0x360)](_0x59d123=>_0x59d123['getRemoteId']()),_0x510fe9);try{_0x4c3026['sendRequest'](this['configs'][_0x24633e(0xa36)][_0x24633e(0x48e)](),_0x3d377e,_0x342ba6,_0x3fa80b,_0x2b3243),this[_0x24633e(0xa89)](_0x342ba6,_0x3d377e,_0x3fa80b,_0x2b3243,_0x3e050c,_0x4c3026);}catch(_0x4f67b3){this[_0x24633e(0x173)][_0x24633e(0xa65)]({'label':_0x342ba6,'ownerId':_0x3d377e,'trackKinds':_0x3fa80b,'params':_0x2b3243});}}[_0x677888(0x56c)](_0x23c277,_0x231356,_0x1b5536,_0x554ce4){this['subscriptionRequestsQueue']['push']({'label':_0x23c277,'ownerId':_0x231356,'trackKinds':_0x1b5536,'params':_0x554ce4});}[_0x677888(0x749)]({label:_0xf83397,ownerId:_0x147693,trackKinds:_0x53733d,params:_0x4e07b0,remoteId:_0x2c87f5}){const _0x3dc875=_0x677888;if(!this['configs']['mediator'][_0x3dc875(0x3ad)](_0x147693,_0xf83397))return;if(!this[_0x3dc875(0x4f0)][_0x3dc875(0x64f)][_0x3dc875(0x9ac)]()[_0x3dc875(0x45b)]())throw new Error(_0x3dc875(0x433));if(_0x2c87f5){const _0xbc8629=this[_0x3dc875(0x4f0)]['mediator']['getRemoteNodes']()[_0x3dc875(0x8ab)](_0x25d207=>_0x25d207[_0x3dc875(0x48e)]()===_0x2c87f5),_0x52a6b6=_0xbc8629?.[_0x3dc875(0x45b)]();if(!_0xbc8629||!_0x52a6b6)throw new Error(_0x3dc875(0x3a2));const _0xe376f=this[_0x3dc875(0x4f0)][_0x3dc875(0x64f)]['getRemoteNodes']()[_0x3dc875(0x8ab)](_0x38daaa=>_0x38daaa[_0x3dc875(0x48e)]()===_0x147693),_0x5dd125=_0xe376f?.['getRank']();if(!_0xe376f||!_0x5dd125)throw new Error(_0x3dc875(0x1ff));const _0x18c941=this[_0x3dc875(0x76b)][_0x3dc875(0x8a1)](_0xf83397);if(_0x18c941){const _0x56396b=this['configs']['mediator'][_0x3dc875(0x443)]()['find'](_0x5a9bf3=>_0x5a9bf3['getId']()===_0x18c941[_0x3dc875(0x94c)]),_0x4fd725=_0x56396b?.[_0x3dc875(0x45b)]();if(!_0x56396b||!_0x4fd725)throw new Error(_0x3dc875(0x444));if(Math['abs'](_0x4fd725-_0x5dd125)<Math[_0x3dc875(0x34c)](_0x52a6b6-_0x5dd125))return;}}const _0x124193=this['configs']['mediator']['getConnections'](_0xbc7a77=>_0xbc7a77[_0x3dc875(0x5bc)]()&&(!_0x2c87f5||_0xbc7a77['getRemoteId']()===_0x2c87f5));if(!_0x124193['length']||0x0===_0x124193[_0x3dc875(0x8a9)])throw new Error(_0x3dc875(0x8fc));const _0x3c1427=this[_0x3dc875(0x4f0)][_0x3dc875(0x64f)]['getDistance'](this[_0x3dc875(0x4f0)][_0x3dc875(0xa36)][_0x3dc875(0x48e)](),_0x147693),_0x14c137=_0x467126(_0x3eaadf[_0x3dc875(0x4a5)],{'contentType':_0x1736bb[_0x3dc875(0xa3c)][_0x3dc875(0x2d6)],'label':_0xf83397,'remoteId':_0x147693});if(this[_0x3dc875(0xa6f)]['has'](_0x14c137)){if(_0x2c87f5)throw new Error(_0x3dc875(0x795));const _0x3b79c0=this[_0x3dc875(0xa6f)]['get'](_0x14c137)[_0x3dc875(0x57c)]();if(_0x3b79c0['length']===_0x53733d[_0x3dc875(0x8a9)]&&_0x3b79c0[_0x3dc875(0x8b6)](_0x37376a=>_0x53733d[_0x3dc875(0xace)](_0x37376a)))return;this[_0x3dc875(0x4f0)][_0x3dc875(0x64f)]['unregisterSystemSource'](this[_0x3dc875(0xa6f)][_0x3dc875(0x8a1)](_0x14c137)),this[_0x3dc875(0xa6f)][_0x3dc875(0x60b)](_0x14c137),_0x53733d=Array[_0x3dc875(0x3fd)](new Set(_0x53733d[_0x3dc875(0x8f9)](_0x3b79c0))),this[_0x3dc875(0xb19)](_0x14c137);}const _0x1ed123=new _0x96c2d3(_0x124193[_0x3dc875(0x360)](_0x26804b=>_0x26804b[_0x3dc875(0x7b7)]()),_0x3c1427,this['maxDistance'],_0x53733d);this['configs'][_0x3dc875(0x64f)][_0x3dc875(0x830)](_0x1ed123),this[_0x3dc875(0xa6f)][_0x3dc875(0x926)](_0x14c137,_0x1ed123),_0x1ed123[_0x3dc875(0x34f)](this[_0x3dc875(0x4f0)][_0x3dc875(0xa36)]['getId'](),_0x147693,_0xf83397,_0x53733d,_0x4e07b0),this['setSubscriptionRequestTimeout'](_0xf83397,_0x147693,_0x53733d,_0x4e07b0,_0x14c137,_0x1ed123);}[_0x677888(0xb19)](_0x53ea9d){const _0x4dc689=_0x677888;this['subscriptionRequestTimeouts'][_0x4dc689(0x26b)](_0x53ea9d)&&(clearTimeout(this[_0x4dc689(0x1a0)][_0x4dc689(0x8a1)](_0x53ea9d)),this[_0x4dc689(0x1a0)][_0x4dc689(0x60b)](_0x53ea9d));}[_0x677888(0xa89)](_0x9b82f0,_0x505962,_0x462ee8,_0x492885,_0x225063,_0x4f823d){const _0x5e8127=_0x677888;this[_0x5e8127(0xb19)](_0x225063),this[_0x5e8127(0x1a0)][_0x5e8127(0x926)](_0x225063,setTimeout(()=>{const _0x1f2369=_0x5e8127;this[_0x1f2369(0x1a0)][_0x1f2369(0x60b)](_0x225063);try{const _0x329552=_0x4f823d['chooseAnswer']();this[_0x1f2369(0x576)](_0x329552,_0x505962,_0x9b82f0,_0x225063,_0x462ee8);}catch(_0x5c3da1){this[_0x1f2369(0x305)](_0x9b82f0,_0x505962,_0x462ee8,_0x492885);}},0x7d0));}['findNewMediaSubscription'](_0x5cf31c,_0x40921e,_0x45ab50,_0x41b462,_0x43dd9e){const _0x31b4e3=_0x677888,{subscriptionLabel:_0xb70d49}=this[_0x31b4e3(0x962)](_0x40921e,_0x41b462),_0x33a9ce=this['getMediaSubscription'](_0xb70d49),_0x4e0a10=_0x33a9ce?.[_0x31b4e3(0xae9)];_0x33a9ce&&(_0x33a9ce['unsubscribe'](_0x41b462,0x0),this[_0x31b4e3(0x6a7)](_0x45ab50,_0x1736bb[_0x31b4e3(0xa3c)]['Media'],_0x5cf31c)),this[_0x31b4e3(0x56c)](_0x40921e,_0x41b462,_0x43dd9e,_0x4e0a10);}[_0x677888(0x260)](_0x1fb1be){const _0x408418=_0x677888,_0x3fc116=this[_0x408418(0x653)]['subscriptions'][_0x408418(0x8a1)](_0x1fb1be);if(_0x3fc116){if(!(_0x3fc116 instanceof _0x3082ac))throw new _0x4dab04(_0x4dab04['codes'][_0x408418(0x28b)],{'label':_0x1fb1be,'subscription':_0x3fc116});return _0x3fc116;}}[_0x677888(0x962)](_0x4f80c6,_0x2d5455){const _0x98ff3d=_0x677888,_0x3b88ae=this[_0x98ff3d(0x73f)](_0x4f80c6,_0x2d5455);return{'parts':_0x3b88ae,'subscriptionLabel':_0x467126(_0x3eaadf[_0x98ff3d(0x4a5)],_0x3b88ae)};}[_0x677888(0x73f)](_0x423213,_0x42c6d8){const _0x407eae=_0x677888,_0x17ba67=this[_0x407eae(0x4f0)][_0x407eae(0x64f)]['getRemoteMediaStream'](_0x42c6d8,_0x423213),_0xa017f0=_0x17ba67[_0x407eae(0x69e)]();if(!_0xa017f0)throw new _0x4dab04(_0x4dab04[_0x407eae(0x6ec)][_0x407eae(0x860)],{'label':_0x423213,'streamId':_0x17ba67['getInternalStreamId'](),'ownerId':_0x42c6d8,'localId':this[_0x407eae(0x4f0)][_0x407eae(0xa36)][_0x407eae(0x48e)]()});return{'contentType':_0x1736bb[_0x407eae(0xa3c)][_0x407eae(0x2d6)],'label':_0x17ba67['getInternalStreamId'](),'remoteId':_0xa017f0};}[_0x677888(0x709)](_0x220255,_0x55c40c,_0x3317a9,_0x3a790c){const _0x3be31e=_0x677888,_0x47e1a2=_0x3a790c[_0x3be31e(0x69e)]();if(_0x47e1a2&&_0x47e1a2!==_0x220255[_0x3be31e(0x94c)]){const {parts:_0x386864,subscriptionLabel:_0x2f74e7}=this[_0x3be31e(0x962)](_0x3317a9,_0x55c40c),_0x3a582d=this['getMediaSubscription'](_0x2f74e7);_0x3a582d&&(_0x3a582d[_0x3be31e(0xa24)](_0x55c40c,0x0),this['removeSubscription'](_0x386864[_0x3be31e(0x65c)],_0x386864[_0x3be31e(0x935)],_0x386864[_0x3be31e(0x588)]));}}}class _0x72a9ea{['configs'];[_0x677888(0x952)];[_0x677888(0x653)];constructor(_0xccc4cf,_0x3a0b32){const _0x140da0=_0x677888;this[_0x140da0(0x4f0)]=_0xccc4cf,this[_0x140da0(0x952)]=_0x3a0b32,this['maps']=new _0x44368c(({source:_0x3fd998,destination:_0x3440ab})=>_0x38bc1d(_0x3fd998,_0x3440ab));}[_0x677888(0x4c9)](_0x28adff,_0x348343){const _0x47c5e3=_0x677888,_0x506504={'source':_0x28adff,'destination':_0x348343};this[_0x47c5e3(0x653)]['createSubscription'](_0x3eaadf[_0x47c5e3(0x4b7)],_0x506504);}[_0x677888(0x6a7)](_0x1d89ea,_0x186bdd,_0xb2bde2=''){const _0x57afe9=_0x677888,_0x30a4d9={'contentType':_0x186bdd,'label':_0x1d89ea,'remoteId':_0xb2bde2};this['maps'][_0x57afe9(0x6a7)](_0x30a4d9,_0x3eaadf['Outgoing']);}[_0x677888(0x3f1)](_0x48be8b,_0x5155e7){const _0x4c2137=_0x677888;let _0x1a0183;_0x1a0183=_0x5155e7[_0x4c2137(0x268)]!==this[_0x4c2137(0x4f0)][_0x4c2137(0xa36)][_0x4c2137(0x48e)]()?this[_0x4c2137(0x4f0)]['mediator'][_0x4c2137(0x3ad)](_0x5155e7[_0x4c2137(0x268)],_0x5155e7['label']):this['configs']['mediator'][_0x4c2137(0x5f8)](_0x5155e7[_0x4c2137(0x65c)]);const _0x5c11cc=_0x467126(_0x3eaadf[_0x4c2137(0x4b7)],{'contentType':_0x1736bb[_0x4c2137(0xa3c)][_0x4c2137(0x2d6)],'label':_0x1a0183[_0x4c2137(0x538)](),'remoteId':_0x48be8b}),_0x3c8607=this[_0x4c2137(0x5f4)]();if(!this[_0x4c2137(0x653)][_0x4c2137(0x982)][_0x4c2137(0x26b)](_0x5c11cc)&&_0x3c8607>=this[_0x4c2137(0x952)])return{'type':_0x1f2399['RestartNeedMediaStream'],'ownerId':_0x5155e7[_0x4c2137(0x268)],'label':_0x5155e7[_0x4c2137(0x65c)],'streamId':_0x1a0183[_0x4c2137(0x538)](),'trackKinds':_0x5155e7['trackKinds'],'params':_0x5155e7[_0x4c2137(0xae9)]};_0x1a0183 instanceof _0x58777d&&!_0x1a0183[_0x4c2137(0x92e)](_0x5155e7[_0x4c2137(0x782)])&&_0x1a0183[_0x4c2137(0x576)](_0x5155e7['params']),this['maps']['subscriptions']['has'](_0x5c11cc)||this[_0x4c2137(0x4c9)](_0x1a0183[_0x4c2137(0x32d)](_0x48be8b),this[_0x4c2137(0x4f0)][_0x4c2137(0x64f)][_0x4c2137(0x2cc)](_0x48be8b));}[_0x677888(0x5bb)](_0x3b1067,{label:_0x3b25ef,ownerId:_0x3d8058,remainingTracks:_0x38dcbc}){const _0x4822ad=_0x677888;if(_0x38dcbc>0x0)return;let _0x120892;_0x120892=_0x3d8058!==this[_0x4822ad(0x4f0)]['localNode'][_0x4822ad(0x48e)]()?this[_0x4822ad(0x4f0)][_0x4822ad(0x64f)]['getRemoteMediaStream'](_0x3d8058,_0x3b25ef):this[_0x4822ad(0x4f0)][_0x4822ad(0x64f)][_0x4822ad(0x5f8)](_0x3b25ef);const _0x512536=_0x120892['getShareableStreamId'](),_0x48a3d2=_0x1736bb[_0x4822ad(0xa3c)][_0x4822ad(0x2d6)];this[_0x4822ad(0x6a7)](_0x512536,_0x48a3d2,_0x3b1067);}[_0x677888(0x1fb)](_0xd36f70,{label:_0x480042,ownerId:_0x19622d,trackKinds:_0x2e8b28}){const _0x1140b4=_0x677888;if(_0xd36f70!==_0x158186)return[];let _0x3e19ab=[];for(const _0x12474a of this['maps']['subscriptions']){const {source:_0x10dd75,destination:_0x348925}=_0x12474a[0x1];_0x10dd75[_0x1140b4(0x4d9)]()===_0x480042&&_0x10dd75[_0x1140b4(0x3f9)]()===_0x19622d&&_0x3e19ab[_0x1140b4(0xa65)]({'sourceId':this[_0x1140b4(0x4f0)][_0x1140b4(0xa36)]['getId'](),'destinationIds':[_0x348925[_0x1140b4(0x7b7)]()],'messageType':_0x59623a[_0x1140b4(0x91b)],'content':{'type':_0x1f2399['MediaStreamUnavailable'],'label':_0x480042,'ownerId':_0x19622d,'trackKinds':_0x2e8b28}});}return _0x3e19ab;}[_0x677888(0x79e)](_0x1c3d69,_0x25d4e8){const _0x1e827c=_0x677888,{label:_0x2636cb,ownerId:_0x14bca3,trackKinds:_0x581fe7,params:_0x481d77}=_0x25d4e8,{hasTracks:_0x41ca6e,streamId:_0x18eaa7,hasResolution:_0x148892,distance:_0x57a92f,subscriptionLabel:_0x52fd3d}=this[_0x1e827c(0x537)](_0x1c3d69,_0x25d4e8);let _0x58bf09=this[_0x1e827c(0x5f4)]()<this[_0x1e827c(0x952)]&&(_0x41ca6e||_0x57a92f>-0x1)?_0x1f2399[_0x1e827c(0x8b8)]:_0x1f2399[_0x1e827c(0x409)];const _0x40c12b=_0x57a92f<0x0?0xa:_0x57a92f;let _0x13e8f3=_0x41ca6e?_0x148892?_0x40c12b:_0x40c12b+0x0:_0x40c12b+0xa;return _0x52fd3d&&this[_0x1e827c(0x653)][_0x1e827c(0x982)][_0x1e827c(0x26b)](_0x52fd3d)&&(_0x41ca6e&&(_0x13e8f3=0x0),_0x58bf09=_0x1f2399['CanProvideMediaStream']),{'type':_0x58bf09,'cost':_0x13e8f3,'distance':_0x57a92f,'label':_0x2636cb,'ownerId':_0x14bca3,'streamId':_0x18eaa7,'trackKinds':_0x581fe7,'params':_0x481d77};}[_0x677888(0x299)](_0x1d8308){const _0x309e6e=_0x677888,{label:_0x3cf822,ownerId:_0xc11270}=_0x1d8308,_0x2fc3a1=this[_0x309e6e(0x4f0)][_0x309e6e(0x64f)][_0x309e6e(0x3ad)](_0xc11270,_0x3cf822);this[_0x309e6e(0x653)][_0x309e6e(0x982)][_0x309e6e(0x938)](_0x48e124=>{const _0x7716b2=_0x309e6e;if(_0x48e124[_0x7716b2(0x79c)][_0x7716b2(0x5bf)]()===_0x2fc3a1[_0x7716b2(0x538)]()){const _0x39a194=_0x48e124['destination'];this[_0x7716b2(0x6a7)](_0x2fc3a1[_0x7716b2(0x538)](),_0x1736bb[_0x7716b2(0xa3c)][_0x7716b2(0x2d6)],_0x39a194['getRemoteId']());}});}[_0x677888(0x21b)]({label:_0x3d4b66}){const _0x39fe52=_0x677888,_0x462e71=this[_0x39fe52(0x4f0)][_0x39fe52(0x64f)]['getLocalMediaStream'](_0x3d4b66);this[_0x39fe52(0x653)][_0x39fe52(0x982)][_0x39fe52(0x938)](_0x4969ca=>{const _0x15a784=_0x39fe52;if(_0x4969ca[_0x15a784(0x79c)][_0x15a784(0x5bf)]()===_0x462e71[_0x15a784(0x538)]()){const _0x62df19=_0x4969ca[_0x15a784(0x189)];this[_0x15a784(0x6a7)](_0x462e71[_0x15a784(0x538)](),_0x1736bb[_0x15a784(0xa3c)][_0x15a784(0x2d6)],_0x62df19[_0x15a784(0x7b7)]());}});}[_0x677888(0xab2)](_0x26653f){const _0x4a7e5c=_0x677888;this[_0x4a7e5c(0x653)][_0x4a7e5c(0xab2)](_0x26653f);}[_0x677888(0x7ed)](){const _0x569d44=_0x677888;this[_0x569d44(0x653)][_0x569d44(0x982)]['forEach'](this[_0x569d44(0x580)][_0x569d44(0x75d)](this));}['closeSubscription'](_0x90b5ce,_0x14ba51){const _0x2194ff=_0x677888;this[_0x2194ff(0x653)][_0x2194ff(0x580)](_0x90b5ce,_0x14ba51);}[_0x677888(0x537)](_0xe8fd86,{label:_0x2418d9,ownerId:_0xcba7bb,trackKinds:_0xca0e0b,params:_0x419f2a}){const _0x17637f=_0x677888;if(_0xcba7bb!==this[_0x17637f(0x4f0)]['localNode']['getId']()){const _0x27dd90=this[_0x17637f(0x4f0)][_0x17637f(0x64f)][_0x17637f(0x3ad)](_0xcba7bb,_0x2418d9);return _0x27dd90&&_0x27dd90['getProviderId']()!==_0xe8fd86?{'hasTracks':_0x27dd90[_0x17637f(0x1be)](_0xca0e0b),'hasResolution':this['canProvideResolution'](_0x27dd90['getResolution'](),_0x419f2a),'streamId':_0x27dd90['getShareableStreamId'](),'distance':this[_0x17637f(0x4f0)][_0x17637f(0x64f)]['getDistance'](_0xe8fd86,_0xcba7bb),'subscriptionLabel':_0x467126(_0x3eaadf['Outgoing'],{'contentType':_0x1736bb[_0x17637f(0xa3c)][_0x17637f(0x2d6)],'label':_0x27dd90[_0x17637f(0x538)](),'remoteId':_0xe8fd86})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x273967=this[_0x17637f(0x4f0)][_0x17637f(0x64f)][_0x17637f(0x5f8)](_0x2418d9);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x273967['getShareableStreamId'](),'distance':0x0,'subscriptionLabel':_0x467126(_0x3eaadf['Outgoing'],{'contentType':_0x1736bb[_0x17637f(0xa3c)][_0x17637f(0x2d6)],'label':_0x273967[_0x17637f(0x538)](),'remoteId':_0xe8fd86})};}[_0x677888(0x5f4)](){const _0x477f82=_0x677888;return Array['from'](this['maps'][_0x477f82(0x982)][_0x477f82(0x3a0)]())[_0x477f82(0x3cc)](([_0xf374c3,{source:_0xe6a379}])=>_0xf374c3['startsWith'](_0x3eaadf[_0x477f82(0x4b7)])&&_0xe6a379[_0x477f82(0x5b3)]()===_0x1736bb[_0x477f82(0xa3c)][_0x477f82(0x2d6)])[_0x477f82(0x8a9)];}[_0x677888(0x183)](_0x59cbeb,_0x45ce6c){const _0x3e3589=_0x677888;if(!_0x45ce6c||!_0x45ce6c[_0x3e3589(0x4ff)]||_0x3e3589(0x638)==typeof _0x45ce6c['video']||!_0x45ce6c['video'][_0x3e3589(0x38a)])return!0x0;const {width:_0xcb5f7f,height:_0xbab925}=_0x45ce6c['video'][_0x3e3589(0x38a)];return _0x59cbeb['width']>=_0xcb5f7f&&_0x59cbeb[_0x3e3589(0x504)]>=_0xbab925;}}class _0x491d46{[_0x677888(0x4f0)];[_0x677888(0x952)];[_0x677888(0x8f8)];['systemTopic'];[_0x677888(0x227)];[_0x677888(0x868)];constructor(_0x5ee384,_0x3891c6,_0x3c7425){const _0x3ddfc1=_0x677888;this[_0x3ddfc1(0x4f0)]=_0x5ee384,this[_0x3ddfc1(0x952)]=_0x3891c6,this[_0x3ddfc1(0x8f8)]=_0x3c7425,this['configs'][_0x3ddfc1(0x64f)]['registerSystemSource'](this),this['incomingManager']=new _0x1e6b4a(this[_0x3ddfc1(0x4f0)],this[_0x3ddfc1(0x8f8)]),this['outgoingManager']=new _0x72a9ea(this[_0x3ddfc1(0x4f0)],this[_0x3ddfc1(0x952)]);}[_0x677888(0xaf0)](_0x5a78db){this['systemTopic']=_0x5a78db;}[_0x677888(0x4dc)](){const _0x5649f7=_0x677888;delete this[_0x5649f7(0x36c)];}[_0x677888(0x7ed)](){const _0x484b45=_0x677888;this['incomingManager'][_0x484b45(0x7ed)](),this[_0x484b45(0x868)]['close'](),this['configs'][_0x484b45(0x64f)][_0x484b45(0x1bd)](this);}[_0x677888(0x38b)](_0x284492,_0x1b2c97){const _0x149011=_0x677888;this[_0x149011(0x227)][_0x149011(0x4c9)](_0x284492,_0x1b2c97);}['createOutgoingSubscription'](_0x37065a,_0xb0b773){const _0x2ed2ef=_0x677888;this['outgoingManager'][_0x2ed2ef(0x4c9)](_0x37065a,_0xb0b773);}[_0x677888(0x50d)](_0x126f8d,_0x226874,_0x2ea7f8=''){const _0x4b6185=_0x677888;this[_0x4b6185(0x227)][_0x4b6185(0x6a7)](_0x126f8d,_0x226874,_0x2ea7f8);}['removeOutgoingSubscription'](_0x36c125,_0x28f30d,_0x55c4bb=''){const _0x5ed482=_0x677888;try{this['outgoingManager'][_0x5ed482(0x6a7)](_0x36c125,_0x28f30d,_0x55c4bb);}catch(_0x53e034){if(_0x53e034 instanceof _0x4dab04&&_0x53e034[_0x5ed482(0x778)]===_0x4dab04[_0x5ed482(0x6ec)][_0x5ed482(0x28b)])return;}}['handleSubscriptionSystemEvents'](_0x57f1da){const _0x79ce82=_0x677888;switch(_0x57f1da[_0x79ce82(0x6a6)][_0x79ce82(0xb0f)]){case _0x1f2399['SubscribeMediaStream']:this[_0x79ce82(0x3f1)](_0x57f1da[_0x79ce82(0x2e2)],_0x57f1da[_0x79ce82(0x6a6)]);break;case _0x1f2399[_0x79ce82(0xa7d)]:this[_0x79ce82(0x868)][_0x79ce82(0x5bb)](_0x57f1da[_0x79ce82(0x2e2)],_0x57f1da[_0x79ce82(0x6a6)]);break;case _0x1f2399['NeedMediaStream']:this[_0x79ce82(0x79e)](_0x57f1da[_0x79ce82(0x2e2)],_0x57f1da[_0x79ce82(0x6a6)]);break;case _0x1f2399['RestartNeedMediaStream']:this[_0x79ce82(0x227)][_0x79ce82(0x927)](_0x57f1da[_0x79ce82(0x2e2)],_0x57f1da['content']);break;case _0x1f2399[_0x79ce82(0x8b8)]:case _0x1f2399[_0x79ce82(0x409)]:this['incomingManager']['handleSubscriptionProvideMediaStream'](_0x57f1da[_0x79ce82(0x2e2)],_0x57f1da[_0x79ce82(0x6a6)]);break;case _0x1f2399['MediaStreamUnavailable']:this[_0x79ce82(0x227)]['handleSubscriptionMediaStreamUnavailable'](_0x57f1da[_0x79ce82(0x2e2)],_0x57f1da[_0x79ce82(0x6a6)]);}}[_0x677888(0x87a)](_0x6a18c6){const _0x20664f=_0x677888;switch(_0x6a18c6['content']['type']){case _0x17da44[_0x20664f(0xa97)]:this[_0x20664f(0x227)][_0x20664f(0x299)](_0x6a18c6['content']),this[_0x20664f(0x868)][_0x20664f(0x299)](_0x6a18c6['content']);break;case _0x17da44[_0x20664f(0x27b)]:this[_0x20664f(0x227)][_0x20664f(0x223)](_0x6a18c6[_0x20664f(0x6a6)]);break;case _0x17da44[_0x20664f(0x79d)]:this[_0x20664f(0x227)]['handleContentUpdateMediaStream'](_0x6a18c6['content']);break;case _0x17da44[_0x20664f(0xa7d)]:this[_0x20664f(0x1fb)](_0x6a18c6[_0x20664f(0x2e2)],_0x6a18c6[_0x20664f(0x6a6)]);break;case _0x17da44['CloseMediaStream']:this['outgoingManager'][_0x20664f(0x21b)](_0x6a18c6[_0x20664f(0x6a6)]);break;case _0x17da44[_0x20664f(0x70b)]:this[_0x20664f(0xaae)](_0x6a18c6[_0x20664f(0x6a6)][_0x20664f(0x65c)],_0x1736bb[_0x20664f(0xa3c)][_0x20664f(0x963)]);break;case _0x17da44[_0x20664f(0x8c5)]:this[_0x20664f(0xaae)](_0x6a18c6[_0x20664f(0x6a6)][_0x20664f(0x65c)],_0x1736bb['ContentType'][_0x20664f(0x60c)]);break;case _0x17da44[_0x20664f(0x6e1)]:this[_0x20664f(0xaae)](_0x6a18c6[_0x20664f(0x6a6)][_0x20664f(0x65c)],_0x1736bb[_0x20664f(0xa3c)][_0x20664f(0x9c5)]);break;case _0x17da44[_0x20664f(0x801)]:this[_0x20664f(0xaae)](_0x6a18c6[_0x20664f(0x6a6)]['label'],_0x1736bb[_0x20664f(0xa3c)][_0x20664f(0x9de)]);break;case _0x17da44['CloseVectorDatabase']:this['handleCloseContent'](_0x6a18c6['content'][_0x20664f(0x65c)],_0x1736bb[_0x20664f(0xa3c)][_0x20664f(0x2b3)]);break;case _0x17da44[_0x20664f(0x5e9)]:this[_0x20664f(0xaae)](_0x6a18c6[_0x20664f(0x6a6)]['label'],_0x1736bb[_0x20664f(0xa3c)][_0x20664f(0x726)]);break;case _0x17da44[_0x20664f(0x602)]:case _0x17da44[_0x20664f(0x23a)]:this[_0x20664f(0xaae)](_0x6a18c6[_0x20664f(0x6a6)][_0x20664f(0x65c)],_0x1736bb[_0x20664f(0xa3c)][_0x20664f(0x6f4)]);break;case _0x17da44['RemoteMediaStreamTrackFail']:this['incomingManager'][_0x20664f(0x3de)](_0x6a18c6[_0x20664f(0x6a6)]);}}[_0x677888(0x502)]({content:_0x3013af}){const _0x1f72d6=_0x677888;_0x3013af['type']===_0x1577f4[_0x1f72d6(0x390)]&&this[_0x1f72d6(0xab2)](_0x3013af);}[_0x677888(0x6fe)](_0x18d766){const _0xcae9e4=_0x677888;_0x18d766[_0xcae9e4(0x6a6)][_0xcae9e4(0xb0f)]===_0x3ba04a[_0xcae9e4(0x445)]&&this[_0xcae9e4(0x227)][_0xcae9e4(0x783)](_0x18d766[_0xcae9e4(0x2e2)]);}[_0x677888(0x1fb)](_0x378311,_0x115e23){const _0x149b1e=_0x677888;this['incomingManager'][_0x149b1e(0x1fb)](_0x115e23),this[_0x149b1e(0x868)][_0x149b1e(0x1fb)](_0x378311,_0x115e23)[_0x149b1e(0x938)](_0x431967=>this[_0x149b1e(0x36c)]['publish'](_0x431967));}['handleSubscriptionSubscribeMediaStream'](_0x1f49c3,_0x2111b7){const _0x476005=_0x677888,_0x2386cb=this[_0x476005(0x868)][_0x476005(0x3f1)](_0x1f49c3,_0x2111b7);if(_0x2386cb&&(this[_0x476005(0x36c)]['publish']({'sourceId':this[_0x476005(0x4f0)][_0x476005(0xa36)]['getId'](),'destinationIds':[_0x1f49c3],'messageType':_0x59623a[_0x476005(0x91b)],'content':_0x2386cb}),_0x2386cb[_0x476005(0xb0f)]===_0x1f2399[_0x476005(0x675)]))throw new _0x205f08('Restart\x20NeedMediaStream');}[_0x677888(0x79e)](_0x38e869,_0x245a02){const _0x211499=_0x677888,_0x47c017=this['outgoingManager']['handleSubscriptionNeedMediaStream'](_0x38e869,_0x245a02);this[_0x211499(0x36c)]['publish']({'sourceId':this[_0x211499(0x4f0)][_0x211499(0xa36)][_0x211499(0x48e)](),'destinationIds':[_0x38e869],'messageType':_0x59623a['Subscription'],'content':_0x47c017});}[_0x677888(0xaae)](_0x1a0325,_0x317ceb){const _0x5cf3cd=_0x677888;this[_0x5cf3cd(0x50d)](_0x1a0325,_0x317ceb),this[_0x5cf3cd(0x7f2)](_0x1a0325,_0x317ceb);}[_0x677888(0xab2)]({id:_0x3fc858}){const _0x4aad70=_0x677888;this['incomingManager']['removeSubscriptionsForNode'](_0x3fc858),this['outgoingManager'][_0x4aad70(0xab2)](_0x3fc858);}}class _0xc092be{['label'];[_0x677888(0xa2d)]=_0x484270();constructor(){const _0xd364b=_0x677888;this[_0xd364b(0x65c)]=0x0;}[_0x677888(0x4d9)](){const _0x29bd60=_0x677888;return this[_0x29bd60(0x65c)];}[_0x677888(0x5b3)](){const _0xe8c18c=_0x677888;return _0x1736bb[_0xe8c18c(0xa3c)][_0xe8c18c(0x5f5)];}[_0x677888(0xa3b)](_0x5ef083){const _0x253e12=_0x677888;_0x5ef083[_0x253e12(0xaf0)](this);}[_0x677888(0x4ec)](_0x5c4f97){const _0x47f37f=_0x677888;_0x5c4f97[_0x47f37f(0x4dc)]();}[_0x677888(0x6c6)](_0x50cad9){const _0x401225=_0x677888;_0x5bf0c2[_0x401225(0x5d7)](_0x86d570[_0x401225(0xa79)],_0x401225(0xabe),_0x50cad9[_0x401225(0x2e2)],_0x50cad9),this['listener'][_0x401225(0x6c6)]({'topicLabel':this[_0x401225(0x65c)],'contentType':_0x1736bb[_0x401225(0xa3c)][_0x401225(0x5f5)],'uuid':_0x50cad9[_0x401225(0x2ce)]??(0x0,_0x1514a8['v4'])(),'recipients':_0x50cad9[_0x401225(0x789)]??[],..._0x50cad9});}['subscribe'](_0xc11c09){const _0x4f6ab9=_0x677888;return this[_0x4f6ab9(0xa2d)]['subscribe'](_0xc11c09);}}class _0x281459{[_0x677888(0x530)];[_0x677888(0x6de)]=[];[_0x677888(0x959)];[_0x677888(0xa18)]=new Map();['nodeUpdate']=_0x484270();constructor(_0x1cef67){const _0x17fd67=_0x677888;this[_0x17fd67(0x530)]=_0x1cef67,this[_0x17fd67(0x959)]=(this[_0x17fd67(0x530)][_0x17fd67(0x5e3)]-0x2*this[_0x17fd67(0x530)][_0x17fd67(0x19b)])/0x2,this['ranges']['push']({'start':0x1,'end':this[_0x17fd67(0x82b)](0x1,0x1)-0x1});for(let _0x491e11=0x0;_0x491e11<this[_0x17fd67(0x959)];++_0x491e11)this['ranges'][_0x17fd67(0xa65)]({'start':this[_0x17fd67(0x82b)](0x1,_0x491e11+0x1),'end':this[_0x17fd67(0x82b)](0x1,_0x491e11+0x2)-0x1});}['getNextTargetRank'](_0x4ed0ee,_0xfce4ac=0x1){const _0xdb9c59=_0x677888;let _0x2fdef0=this[_0xdb9c59(0x530)][_0xdb9c59(0x8f8)]-this[_0xdb9c59(0x530)][_0xdb9c59(0x19b)],_0x26d169=0x1;for(let _0x1704ee=0x1;_0x1704ee<_0xfce4ac;++_0x1704ee)_0x2fdef0*=this['options'][_0xdb9c59(0x8f8)]-this[_0xdb9c59(0x530)][_0xdb9c59(0x19b)]-_0x1704ee,_0x26d169*=this['options'][_0xdb9c59(0x8f8)]-this['options'][_0xdb9c59(0x19b)]-_0x1704ee+0x1;return _0x2fdef0*this[_0xdb9c59(0x530)][_0xdb9c59(0x19b)]+_0x4ed0ee-_0x26d169;}[_0x677888(0x824)](_0x30eea6){let _0x881f8f=0x0;for(;this['ranges'][_0x881f8f]['end']<_0x30eea6;)_0x881f8f+=0x1;return _0x881f8f;}[_0x677888(0x4c4)](){const _0x61fb36=_0x677888;return this[_0x61fb36(0x530)][_0x61fb36(0x19b)];}[_0x677888(0x3c6)](){const _0x478286=_0x677888;return this[_0x478286(0x530)]['maxConnections'];}['getMaxDistance'](){const _0x380af8=_0x677888;return this[_0x380af8(0x530)][_0x380af8(0x8f8)];}[_0x677888(0x443)](){return this['remoteNodes'];}['setRemoteNode'](_0x4b958a,_0x2c566e){const _0x31ae1e=_0x677888;this['remoteNodes'][_0x31ae1e(0x926)](_0x4b958a,_0x2c566e),this['nodeUpdate']['publish']();}[_0x677888(0x766)](_0x3ff00c){const _0x1e57dd=_0x677888;this[_0x1e57dd(0xa18)][_0x1e57dd(0x60b)](_0x3ff00c),this[_0x1e57dd(0x739)][_0x1e57dd(0x6c6)]();}['hasRemoteNode'](_0x13ca36){const _0x16687b=_0x677888;return this[_0x16687b(0xa18)][_0x16687b(0x26b)](_0x13ca36);}[_0x677888(0x8f3)](_0x4e67bc){const _0x2ecab1=_0x677888;return this['remoteNodes'][_0x2ecab1(0x8a1)](_0x4e67bc);}['getClosestNodes'](_0xe4f00,_0x21b300){const _0x28e37d=_0x677888,_0x2e1fa6=this[_0x28e37d(0x8f3)](_0x21b300)?.[_0x28e37d(0x45b)]()??0x0;return _0xe4f00[_0x28e37d(0x360)](_0x466b24=>this['getRemoteNode'](_0x466b24))[_0x28e37d(0x3cc)](_0x396c04=>void 0x0!==_0x396c04)[_0x28e37d(0x323)]((_0x44de32,_0x18c0aa)=>Math[_0x28e37d(0x34c)](_0x2e1fa6-(_0x44de32&&_0x44de32[_0x28e37d(0x45b)]()||0x1/0x0))-Math[_0x28e37d(0x34c)](_0x2e1fa6-(_0x18c0aa&&_0x18c0aa[_0x28e37d(0x45b)]()||0x1/0x0)))['map'](_0x247028=>_0x247028[_0x28e37d(0x48e)]());}[_0x677888(0x48d)](_0x46817b){const _0x17ca22=_0x677888;return this[_0x17ca22(0x739)][_0x17ca22(0x576)](_0x46817b);}}class _0x417e2d{[_0x677888(0x94e)];['clusterId'];[_0x677888(0x877)];[_0x677888(0xa5b)];[_0x677888(0x530)];[_0x677888(0x4f0)];[_0x677888(0x4fa)];[_0x677888(0xad5)];[_0x677888(0x320)];[_0x677888(0x9df)];[_0x677888(0x7b4)];[_0x677888(0x8fe)];[_0x677888(0x975)];[_0x677888(0x1c3)];[_0x677888(0xa81)];[_0x677888(0x36c)]=new _0xc092be();[_0x677888(0x543)];[_0x677888(0xa36)];constructor(_0x3bbe53,_0x581427,_0x1b6157,_0x4070a7,_0x4980e3,_0x4fca79,_0x1061f9){const _0x31ead6=_0x677888;switch(this[_0x31ead6(0x94e)]=_0x3bbe53,this[_0x31ead6(0x8a2)]=_0x581427,this[_0x31ead6(0x877)]=_0x1b6157,this[_0x31ead6(0xa5b)]=_0x4070a7,this[_0x31ead6(0x530)]=_0x4980e3,this[_0x31ead6(0x4f0)]=_0x4fca79,this[_0x31ead6(0x4fa)]=_0x1061f9,_0x1b6157[_0x31ead6(0xb0f)]){case _0x1736bb[_0x31ead6(0x9d1)]['User']:this['localNode']=new _0x371399(_0x1b6157[_0x31ead6(0x48e)](),_0x1b6157[_0x31ead6(0x7a3)](),_0x1b6157['getEmail']());break;case _0x1736bb[_0x31ead6(0x9d1)][_0x31ead6(0x887)]:default:this[_0x31ead6(0xa36)]=new _0x220954(_0x1b6157[_0x31ead6(0x48e)]());}const _0x3aae56=this[_0x31ead6(0x40e)]();this[_0x31ead6(0xa81)]=new _0x281459(this[_0x31ead6(0x530)]),this[_0x31ead6(0xad5)]=new _0x59d39b(_0x3aae56,this[_0x31ead6(0x530)]),this['connectionManager']=new _0x2cacd9(_0x3aae56,this[_0x31ead6(0xa5b)],this[_0x31ead6(0xa81)],this['configs']['iceServers'],this[_0x31ead6(0x530)]),this['subscriptionManager']=new _0x491d46(_0x3aae56,this[_0x31ead6(0x530)]['maxOutgoingSubscriptions'],this[_0x31ead6(0xa81)][_0x31ead6(0x814)]()),this[_0x31ead6(0x7b4)]=new _0x379f03(_0x3aae56),this[_0x31ead6(0x8fe)]=new _0x57b8e4(_0x3aae56),this[_0x31ead6(0x975)]=new _0x1151c9(_0x3aae56),this[_0x31ead6(0x1c3)]=new _0x296d34(_0x3aae56,this['graphService']),this[_0x31ead6(0x543)]=this[_0x31ead6(0x8f1)]();}['open'](){const _0x5570a9=_0x677888,_0x5c7fca=this[_0x5570a9(0x40e)]();this[_0x5570a9(0x320)]=new _0x2cacd9(_0x5c7fca,this[_0x5570a9(0xa5b)],this[_0x5570a9(0xa81)],this[_0x5570a9(0x4f0)][_0x5570a9(0xb20)],this[_0x5570a9(0x530)]),this[_0x5570a9(0x9df)]=new _0x491d46(_0x5c7fca,this[_0x5570a9(0x530)][_0x5570a9(0x952)],this['graphService'][_0x5570a9(0x814)]()),this[_0x5570a9(0x7b4)]=new _0x379f03(_0x5c7fca),this[_0x5570a9(0x8fe)]=new _0x57b8e4(_0x5c7fca),this['remediationManager']=new _0x1151c9(_0x5c7fca),this[_0x5570a9(0x1c3)]=new _0x296d34(_0x5c7fca,this['graphService']);const _0x360513=this[_0x5570a9(0x320)][_0x5570a9(0x65f)]();this[_0x5570a9(0xad5)][_0x5570a9(0x8be)]()[_0x5570a9(0x938)](_0x8779f1=>{const _0x51e0d7=_0x5570a9;this[_0x51e0d7(0x9df)]['createOutgoingSubscription'](_0x8779f1,_0x360513),this[_0x51e0d7(0x9df)][_0x51e0d7(0x38b)](_0x360513,_0x8779f1),_0x8779f1[_0x51e0d7(0x79b)]();}),this['contentManager']['getObjectStoreBuckets']()[_0x5570a9(0x938)](_0x3e357c=>{const _0x563191=_0x5570a9;this[_0x563191(0x9df)]['createOutgoingSubscription'](_0x3e357c,_0x360513),this['subscriptionManager'][_0x563191(0x38b)](_0x360513,_0x3e357c),_0x3e357c[_0x563191(0x79b)](),_0x3e357c[_0x563191(0x2cd)]();}),this['contentManager']['getKeyValueDatabases']()[_0x5570a9(0x938)](_0x27c88b=>{const _0x362c2a=_0x5570a9;this[_0x362c2a(0x9df)][_0x362c2a(0x46a)](_0x27c88b,_0x360513),this[_0x362c2a(0x9df)][_0x362c2a(0x38b)](_0x360513,_0x27c88b),_0x27c88b[_0x362c2a(0x79b)](),this[_0x362c2a(0x711)](_0x27c88b);}),this[_0x5570a9(0xad5)][_0x5570a9(0x4c0)]()[_0x5570a9(0x938)](_0x5bffa2=>{const _0x43f470=_0x5570a9;this[_0x43f470(0x9df)][_0x43f470(0x46a)](_0x5bffa2,_0x360513),this['subscriptionManager']['createIncomingSubscription'](_0x360513,_0x5bffa2),_0x5bffa2[_0x43f470(0x79b)]();}),this[_0x5570a9(0xad5)][_0x5570a9(0x781)]()[_0x5570a9(0x938)](_0x181c05=>{const _0x4e9eae=_0x5570a9;this[_0x4e9eae(0x9df)][_0x4e9eae(0x46a)](_0x181c05,_0x360513),this[_0x4e9eae(0x9df)][_0x4e9eae(0x38b)](_0x360513,_0x181c05),_0x181c05['reset']();}),this[_0x5570a9(0xad5)]['getVectorDatabases']()[_0x5570a9(0x938)](_0x24ce95=>{const _0x516d6b=_0x5570a9;this[_0x516d6b(0x9df)][_0x516d6b(0x46a)](_0x24ce95,_0x360513),this['subscriptionManager'][_0x516d6b(0x38b)](_0x360513,_0x24ce95),_0x24ce95[_0x516d6b(0x79b)]();}),this[_0x5570a9(0xad5)]['getGraphDatabases']()[_0x5570a9(0x938)](_0x45057c=>{const _0xfbc498=_0x5570a9;this[_0xfbc498(0x9df)]['createOutgoingSubscription'](_0x45057c,_0x360513),this['subscriptionManager'][_0xfbc498(0x38b)](_0x360513,_0x45057c),_0x45057c[_0xfbc498(0x79b)]();}),this[_0x5570a9(0x543)]=this[_0x5570a9(0x8f1)]();}['registerSystemSource'](_0x64e6c1){const _0x189692=_0x677888;try{this[_0x189692(0x36c)][_0x189692(0xa3b)](_0x64e6c1);}catch(_0x4b28a4){this[_0x189692(0x57f)](_0x4b28a4,{});}}[_0x677888(0x1bd)](_0x3b301e){const _0x123587=_0x677888;try{this[_0x123587(0x36c)][_0x123587(0x4ec)](_0x3b301e);}catch(_0x3a0bb0){this[_0x123587(0x57f)](_0x3a0bb0,{});}}[_0x677888(0x683)](_0x16b161,_0x5be64c){const _0x20324e=_0x677888;return this[_0x20324e(0x320)]['createConnection'](_0x16b161,_0x5be64c);}[_0x677888(0x2cc)](_0x5221e0){const _0xb5cf15=_0x677888;try{return this['connectionManager'][_0xb5cf15(0x2cc)](_0x5221e0);}catch(_0x3f2b1c){throw this[_0xb5cf15(0x57f)](_0x3f2b1c,{});}}['getConnections'](_0x43efc3){const _0x18a604=_0x677888;try{return this[_0x18a604(0x320)][_0x18a604(0x8c2)](_0x43efc3);}catch(_0x1c72ad){throw this[_0x18a604(0x57f)](_0x1c72ad,{});}}[_0x677888(0x3ad)](_0x5b93de,_0x259e5e){const _0x35ead2=_0x677888;try{return this[_0x35ead2(0xad5)][_0x35ead2(0x3a7)](_0x35fb7a=>_0x35fb7a['getOwnerId']()===_0x5b93de&&_0x35fb7a[_0x35ead2(0x4d9)]()===_0x259e5e)[0x0];}catch(_0x519a87){throw this['handleError'](_0x519a87,{});}}[_0x677888(0x5f8)](_0x35c4e3){const _0xd5b9a0=_0x677888;try{return this[_0xd5b9a0(0xad5)][_0xd5b9a0(0x83e)](_0x4809f5=>_0x4809f5[_0xd5b9a0(0x4d9)]()===_0x35c4e3)[0x0];}catch(_0x43f8cf){throw this[_0xd5b9a0(0x57f)](_0x43f8cf,{});}}['notifyCluster']=(..._0x444f89)=>{const _0x5c0d04=_0x677888;try{return this['clusterEventEmitter']['emit'](..._0x444f89);}catch(_0x4813a6){throw this[_0x5c0d04(0x57f)](_0x4813a6,{});}};[_0x677888(0xa63)](_0x4e2536){const _0x1b2c72=_0x677888;try{this['statsManager'][_0x1b2c72(0x172)](_0x4e2536);}catch(_0x289144){throw this[_0x1b2c72(0x57f)](_0x289144,{});}}[_0x677888(0xa6b)](_0x2812d4){const _0x5394fb=_0x677888;try{this[_0x5394fb(0x7b4)][_0x5394fb(0xa56)](_0x2812d4);}catch(_0xc98c5f){throw this[_0x5394fb(0x57f)](_0xc98c5f,{});}}[_0x677888(0x989)](_0x1a64d5){const _0x5e9d5d=_0x677888;return this['connectionManager'][_0x5e9d5d(0x989)](_0x1a64d5);}async[_0x677888(0x921)](){const _0x43c515=_0x677888;try{await this[_0x43c515(0x320)]['initialize']();const _0x4d56c4=await this[_0x43c515(0x1c3)][_0x43c515(0xa0e)]();for(const _0x4ab80d of _0x4d56c4)this[_0x43c515(0x320)][_0x43c515(0x683)](_0x4ab80d);}catch(_0xc5bb85){throw this[_0x43c515(0x57f)](_0xc5bb85,{});}}['updateUser'](_0x1027b7){const _0x2fa854=_0x677888;this['localNode'][_0x2fa854(0xb0f)]===_0x1736bb['NodeType']['User']&&(this['localNode']['setEmail'](_0x1027b7['getEmail']()),this[_0x2fa854(0xa36)][_0x2fa854(0x4ea)](_0x1027b7['getDisplayName']()));}[_0x677888(0x7ed)]({force:_0x501d9b=!0x1},_0x497b57=!0x1){const _0x10c3f1=_0x677888;if(_0x5bf0c2['warning'](_0x10c3f1(0x94b),{'clusterId':this[_0x10c3f1(0x8a2)],'nodeId':this[_0x10c3f1(0xa36)][_0x10c3f1(0x48e)](),'nodeType':this[_0x10c3f1(0xa36)][_0x10c3f1(0xb0f)]}),!_0x501d9b&&this[_0x10c3f1(0x320)][_0x10c3f1(0x97b)]())throw new _0x2ed9c0(_0x4e0a41[_0x10c3f1(0x2af)],_0x10c3f1(0x392));_0x5bf0c2[_0x10c3f1(0x80e)](),this[_0x10c3f1(0x543)](),this[_0x10c3f1(0x975)][_0x10c3f1(0x7ed)](),this[_0x10c3f1(0x8fe)][_0x10c3f1(0x7ed)](),this['statsManager'][_0x10c3f1(0x7ed)](),this[_0x10c3f1(0x9df)][_0x10c3f1(0x7ed)](),this['connectionManager'][_0x10c3f1(0x7ed)](),this[_0x10c3f1(0xad5)][_0x10c3f1(0x7ed)](_0x497b57),this[_0x10c3f1(0x1c3)][_0x10c3f1(0x7ed)]();}[_0x677888(0x7b0)](_0x4bf3b8){const _0x496ad0=_0x677888;try{const _0x32f410=this[_0x496ad0(0xad5)][_0x496ad0(0xb05)](_0x4bf3b8),_0x50dffd=this[_0x496ad0(0x320)][_0x496ad0(0x65f)]();return this['subscriptionManager'][_0x496ad0(0x46a)](_0x32f410,_0x50dffd),this['subscriptionManager']['createIncomingSubscription'](_0x50dffd,_0x32f410),_0x32f410;}catch(_0x5619da){throw this[_0x496ad0(0x57f)](_0x5619da,{});}}async[_0x677888(0xa09)](_0x5a77fc,_0x57d12b){const _0x1b98c5=_0x677888;try{const _0x4e4288=this[_0x1b98c5(0xad5)][_0x1b98c5(0x7f8)](_0x5a77fc,this[_0x1b98c5(0x530)][_0x1b98c5(0x4b0)],_0x57d12b),_0x22ba09=this['connectionManager'][_0x1b98c5(0x65f)]();return this[_0x1b98c5(0x9df)][_0x1b98c5(0x46a)](_0x4e4288,_0x22ba09),this[_0x1b98c5(0x9df)][_0x1b98c5(0x38b)](_0x22ba09,_0x4e4288),await _0x4e4288['sync'](),_0x4e4288;}catch(_0x3e172d){throw this[_0x1b98c5(0x57f)](_0x3e172d,{});}}async[_0x677888(0x688)](_0x261088,_0x50b60b){const _0x5ebd76=_0x677888;try{if(!this[_0x5ebd76(0x530)][_0x5ebd76(0x68c)])throw new _0x2ed9c0(_0x4e0a41[_0x5ebd76(0x218)],'Missing\x20external\x20storage\x20connector');if(!(this[_0x5ebd76(0x877)]instanceof _0x1f1ed9))throw new _0x2ed9c0(_0x4e0a41[_0x5ebd76(0xa28)],_0x5ebd76(0x6c8));const _0x16a3cf=this[_0x5ebd76(0x530)]['externalStorageConnectors']['get'](_0x50b60b);if(!_0x16a3cf)throw new _0x2ed9c0(_0x4e0a41[_0x5ebd76(0x218)],_0x5ebd76(0x92f));const _0xb44fcc=this['contentManager']['createExternalStorageConnection'](_0x261088,_0x16a3cf),_0x22e197=this[_0x5ebd76(0x320)][_0x5ebd76(0x65f)]();return this[_0x5ebd76(0x9df)]['createOutgoingSubscription'](_0xb44fcc,_0x22e197),this[_0x5ebd76(0x9df)]['createIncomingSubscription'](_0x22e197,_0xb44fcc),await _0xb44fcc['open'](),_0xb44fcc;}catch(_0x160b98){throw this[_0x5ebd76(0x57f)](_0x160b98,{});}}async['openKeyValueDatabase'](_0x3ec653,_0x3da21f,_0x230e41){const _0x454a4b=_0x677888;try{_0x230e41=_0x230e41||this[_0x454a4b(0x530)][_0x454a4b(0x55b)];const _0x16a42b=await this[_0x454a4b(0xad5)][_0x454a4b(0x773)](_0x3ec653,_0x3da21f,_0x230e41),_0x137fc5=this[_0x454a4b(0x320)]['getConnectionGroup']();return this[_0x454a4b(0x9df)][_0x454a4b(0x46a)](_0x16a42b,_0x137fc5),this[_0x454a4b(0x9df)][_0x454a4b(0x38b)](_0x137fc5,_0x16a42b),await _0x16a42b['open'](),this['syncKeyValueDatabase'](_0x16a42b),_0x16a42b;}catch(_0x1e0553){throw this[_0x454a4b(0x57f)](_0x1e0553,{});}}async[_0x677888(0x6c3)](_0x4a11ac){const _0x1856a8=_0x677888;try{const _0x23f33d=await this[_0x1856a8(0xad5)][_0x1856a8(0xad3)](_0x4a11ac,this['graphService']),_0x4fa6aa=this[_0x1856a8(0x320)][_0x1856a8(0x65f)]();return this['subscriptionManager'][_0x1856a8(0x46a)](_0x23f33d,_0x4fa6aa),this[_0x1856a8(0x9df)]['createIncomingSubscription'](_0x4fa6aa,_0x23f33d),_0x23f33d[_0x1856a8(0xacb)](),_0x23f33d;}catch(_0x324d6a){throw this[_0x1856a8(0x57f)](_0x324d6a,{});}}async[_0x677888(0xad4)](_0x1e8aa2){const _0x545567=_0x677888;throw new Error(_0x545567(0x276));}async[_0x677888(0x293)](_0x4b4e68){const _0x377955=_0x677888;try{const _0x201dac=await this[_0x377955(0xad5)]['createGenerativeAIContext'](_0x4b4e68,this[_0x377955(0xa81)]),_0x14363b=this['connectionManager'][_0x377955(0x65f)]();return this[_0x377955(0x9df)][_0x377955(0x46a)](_0x201dac,_0x14363b),this[_0x377955(0x9df)]['createIncomingSubscription'](_0x14363b,_0x201dac),_0x201dac['open'](),_0x201dac;}catch(_0xb1c8ad){throw console[_0x377955(0x487)](_0xb1c8ad),this[_0x377955(0x57f)](_0xb1c8ad,{});}}async['openGenerativeAIWorker'](_0x4b266d){const _0x44c378=_0x677888;try{if(!(this[_0x44c378(0x530)][_0x44c378(0x1b7)]&&this['options'][_0x44c378(0x8d9)]&&this[_0x44c378(0x530)][_0x44c378(0xa4b)]&&this[_0x44c378(0x530)]['nlpLibraryConnector']))throw new _0x2ed9c0(_0x4e0a41[_0x44c378(0x22c)],_0x44c378(0x2d5));if(!(this['authNode']instanceof _0x1f1ed9))throw new _0x2ed9c0(_0x4e0a41[_0x44c378(0xa28)],'Node\x20is\x20not\x20an\x20agent');if(!this[_0x44c378(0x4f0)][_0x44c378(0x2cf)])throw new _0x2ed9c0(_0x4e0a41[_0x44c378(0x5b7)],_0x44c378(0xa4f));const _0x382424=[];for(const [_0x53ed41,_0x253873]of this['options'][_0x44c378(0x1b7)]){let _0x533e32;_0x44c378(0x56a)===_0x53ed41&&(_0x533e32=this[_0x44c378(0x4f0)]['openaiApiKey']),_0x382424[_0x44c378(0xa65)](new _0x253873(_0x533e32));}const _0x561ed3=new this[(_0x44c378(0x530))]['documentParserConnector'](),_0x55ba1e=new this[(_0x44c378(0x530))][(_0x44c378(0xa4b))](this[_0x44c378(0x4f0)]['openaiApiKey']),_0x3727ec=new this[(_0x44c378(0x530))][(_0x44c378(0x88f))]();let _0x50de1a,_0x1dd8d7,_0x4da208,_0xf23e21;if(this[_0x44c378(0x530)][_0x44c378(0x1cc)]){if(!this[_0x44c378(0x4f0)][_0x44c378(0x9a5)])throw new _0x2ed9c0(_0x4e0a41[_0x44c378(0x5b7)],_0x44c378(0x256));_0x50de1a=new this[(_0x44c378(0x530))][(_0x44c378(0x1cc))](this[_0x44c378(0x4f0)][_0x44c378(0x9a5)]);}if(this[_0x44c378(0x530)][_0x44c378(0x678)]){if(!this[_0x44c378(0x4f0)][_0x44c378(0x1fa)])throw new _0x2ed9c0(_0x4e0a41[_0x44c378(0x5b7)],_0x44c378(0x705));_0x1dd8d7=new this[(_0x44c378(0x530))][(_0x44c378(0x678))](this[_0x44c378(0x4f0)][_0x44c378(0x1fa)]);}if(this[_0x44c378(0x530)][_0x44c378(0xa7c)]&&(_0x4da208=new this[(_0x44c378(0x530))][(_0x44c378(0xa7c))]()),this[_0x44c378(0x530)]['ragConnector']){if(!this[_0x44c378(0x4f0)][_0x44c378(0x787)])throw new _0x2ed9c0(_0x4e0a41['ApiKeyMissing'],_0x44c378(0x834));_0xf23e21=new this[(_0x44c378(0x530))][(_0x44c378(0x217))](this['configs'][_0x44c378(0x787)]);}const _0x4edcb5=await this[_0x44c378(0xad5)][_0x44c378(0x82f)](_0x4b266d,this[_0x44c378(0x877)],_0x382424,_0x561ed3,_0x55ba1e,_0x3727ec,_0x50de1a,_0x1dd8d7,_0x4da208,_0xf23e21,this[_0x44c378(0x4f0)][_0x44c378(0x2cf)]),_0x385251=this[_0x44c378(0x320)][_0x44c378(0x65f)]();this[_0x44c378(0x9df)][_0x44c378(0x46a)](_0x4edcb5,_0x385251),this['subscriptionManager'][_0x44c378(0x38b)](_0x385251,_0x4edcb5);const _0xf495a6=this[_0x44c378(0x1c3)][_0x44c378(0x27c)]();return await _0x4edcb5[_0x44c378(0xacb)](0x0===_0xf495a6[_0x44c378(0x8a9)]||void 0x0),_0x4edcb5;}catch(_0x194e71){throw this[_0x44c378(0x57f)](_0x194e71,{});}}[_0x677888(0x42e)](_0x40bd84){const _0x310bb9=_0x677888;try{if(!this[_0x310bb9(0x530)][_0x310bb9(0x308)])throw new _0x2ed9c0(_0x4e0a41[_0x310bb9(0x641)],_0x310bb9(0x429));if(!(this[_0x310bb9(0x877)]instanceof _0x1f1ed9))throw new _0x2ed9c0(_0x4e0a41[_0x310bb9(0xa28)],_0x310bb9(0x6c8));const _0x456df2=this[_0x310bb9(0xad5)][_0x310bb9(0x319)](_0x40bd84,this[_0x310bb9(0x530)]['graphDatabaseConnector']),_0x4c8b68=this['connectionManager'][_0x310bb9(0x65f)]();return this['subscriptionManager'][_0x310bb9(0x46a)](_0x456df2,_0x4c8b68),this['subscriptionManager']['createIncomingSubscription'](_0x4c8b68,_0x456df2),_0x456df2;}catch(_0x2ee508){throw this[_0x310bb9(0x57f)](_0x2ee508,{});}}[_0x677888(0x34a)](_0x16a307){const _0x50c84e=_0x677888;try{if(!this[_0x50c84e(0x530)][_0x50c84e(0x1f1)])throw new _0x2ed9c0(_0x4e0a41[_0x50c84e(0x511)],'Missing\x20vector\x20database\x20connector');if(!(this[_0x50c84e(0x877)]instanceof _0x1f1ed9))throw new _0x2ed9c0(_0x4e0a41[_0x50c84e(0xa28)],'Node\x20is\x20not\x20an\x20agent');const _0xd7d697=this[_0x50c84e(0xad5)][_0x50c84e(0x856)](_0x16a307,this[_0x50c84e(0x530)][_0x50c84e(0x1f1)]),_0x172227=this[_0x50c84e(0x320)][_0x50c84e(0x65f)]();return this[_0x50c84e(0x9df)][_0x50c84e(0x46a)](_0xd7d697,_0x172227),this[_0x50c84e(0x9df)]['createIncomingSubscription'](_0x172227,_0xd7d697),_0xd7d697;}catch(_0x41ae4b){throw this[_0x50c84e(0x57f)](_0x41ae4b,{});}}[_0x677888(0x8be)](_0xe965a){const _0x4bf098=_0x677888;try{return this[_0x4bf098(0xad5)][_0x4bf098(0x8be)](_0xe965a);}catch(_0x5a4e88){throw this['handleError'](_0x5a4e88,{});}}[_0x677888(0x6f7)](_0x24f86e){const _0x25392d=_0x677888;try{return this[_0x25392d(0xad5)]['getObjectStoreBuckets'](_0x24f86e);}catch(_0x395938){throw this[_0x25392d(0x57f)](_0x395938,{});}}['getExternalStorageConnections'](_0x18ab33){const _0x2f5de8=_0x677888;try{return this['contentManager'][_0x2f5de8(0x31d)](_0x18ab33);}catch(_0x3c0ba7){throw this[_0x2f5de8(0x57f)](_0x3c0ba7,{});}}[_0x677888(0x65b)](_0x59ef05){const _0xd85826=_0x677888;try{return this[_0xd85826(0xad5)][_0xd85826(0x65b)](_0x59ef05);}catch(_0x208d4c){throw this[_0xd85826(0x57f)](_0x208d4c,{});}}[_0x677888(0x2ac)](_0x2167a2){const _0x226fca=_0x677888;try{return this[_0x226fca(0xad5)][_0x226fca(0x2ac)](_0x2167a2);}catch(_0x345b28){throw this['handleError'](_0x345b28,{});}}[_0x677888(0xa17)](_0x551b89){const _0x30ff64=_0x677888;try{return this[_0x30ff64(0xad5)][_0x30ff64(0xa17)](_0x551b89);}catch(_0x4a3eac){throw this['handleError'](_0x4a3eac,{});}}[_0x677888(0x9a4)](_0x5181cb){const _0x4dedc9=_0x677888;try{return this[_0x4dedc9(0xad5)][_0x4dedc9(0x9a4)](_0x5181cb);}catch(_0x10eabc){throw this[_0x4dedc9(0x57f)](_0x10eabc,{});}}['createLocalMediaStream'](_0x291a27,_0x405870){const _0x523206=_0x677888;if(!this[_0x523206(0x4f0)][_0x523206(0x902)][_0x523206(0xace)](_0x15bf84['MediaStream']))throw new _0x2ed9c0(_0x4e0a41[_0x523206(0x764)],_0x523206(0x841));try{return this[_0x523206(0xad5)][_0x523206(0xaac)](_0x291a27,_0x405870);}catch(_0x1195df){throw this[_0x523206(0x57f)](_0x1195df,{});}}[_0x677888(0x825)](_0x1eb9db,_0x33ae6c){const _0x5c81f1=_0x677888;if(!this[_0x5c81f1(0x4f0)][_0x5c81f1(0x902)]['includes'](_0x15bf84[_0x5c81f1(0x2b0)]))throw new _0x2ed9c0(_0x4e0a41['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x5c81f1(0xad5)]['createLocalDynamicMediaStream'](_0x1eb9db,_0x33ae6c);}catch(_0x560a3b){throw this[_0x5c81f1(0x57f)](_0x560a3b,{});}}[_0x677888(0x83e)](_0x5f5b00){const _0x3e3156=_0x677888;if(!this[_0x3e3156(0x4f0)][_0x3e3156(0x902)]['includes'](_0x15bf84[_0x3e3156(0x2b0)]))throw new _0x2ed9c0(_0x4e0a41[_0x3e3156(0x764)],_0x3e3156(0x841));try{return this['contentManager']['getLocalMediaStreams'](_0x5f5b00);}catch(_0x3a7e05){throw this[_0x3e3156(0x57f)](_0x3a7e05,{});}}[_0x677888(0x3a7)](_0x3a4b80){const _0x5aded6=_0x677888;if(!this[_0x5aded6(0x4f0)][_0x5aded6(0x902)][_0x5aded6(0xace)](_0x15bf84[_0x5aded6(0x2b0)]))throw new _0x2ed9c0(_0x4e0a41[_0x5aded6(0x764)],_0x5aded6(0x841));try{return this[_0x5aded6(0xad5)][_0x5aded6(0x3a7)](_0x3a4b80);}catch(_0xf8b234){throw this[_0x5aded6(0x57f)](_0xf8b234,{});}}['getVectorDatabases'](_0x5ce8d4){const _0x3d5d46=_0x677888;try{return this[_0x3d5d46(0xad5)][_0x3d5d46(0xad9)](_0x5ce8d4);}catch(_0x397bfd){throw this[_0x3d5d46(0x57f)](_0x397bfd,{});}}[_0x677888(0x6a5)](_0x17bf69,_0x42c5a2){const _0x10aa52=_0x677888;return this[_0x10aa52(0x1c3)][_0x10aa52(0x6a5)](_0x17bf69,_0x42c5a2);}[_0x677888(0x9ac)](){const _0x58c85d=_0x677888;return this[_0x58c85d(0x1c3)][_0x58c85d(0x9ac)]();}[_0x677888(0x443)](_0x301b7a){const _0x4c67d0=_0x677888;try{return this[_0x4c67d0(0x1c3)][_0x4c67d0(0x443)](_0x301b7a);}catch(_0x1c7de9){throw this[_0x4c67d0(0x57f)](_0x1c7de9,{});}}['waitForArrayBufferSize'](){const _0x191bbf=_0x677888;return this[_0x191bbf(0x320)][_0x191bbf(0x1c8)]();}[_0x677888(0x6c2)](_0xc642e0){return this['nodeManager']['isNodeReady'](_0xc642e0);}async[_0x677888(0x731)](_0x229339){const _0x3c2fbd=_0x677888;try{if(_0x5bf0c2[_0x3c2fbd(0x5d7)](_0x86d570['Events'],_0x3c2fbd(0x918),this[_0x3c2fbd(0x1c3)]['getLocalId'](),_0x229339),_0x4ee3b9(_0x229339,this['nodeManager'][_0x3c2fbd(0x297)]()))return void this[_0x3c2fbd(0x320)][_0x3c2fbd(0x270)](_0x229339);switch(_0x229339[_0x3c2fbd(0x343)]){case _0x59623a['Content']:this[_0x3c2fbd(0x7b4)][_0x3c2fbd(0x87a)](_0x229339),this[_0x3c2fbd(0x9df)]['handleContentSystemEvents'](_0x229339),this['contentManager'][_0x3c2fbd(0x87a)](_0x229339);break;case _0x59623a[_0x3c2fbd(0x881)]:this[_0x3c2fbd(0x9df)][_0x3c2fbd(0x502)](_0x229339),this[_0x3c2fbd(0x320)]['handleNodeSystemEvents'](_0x229339),this[_0x3c2fbd(0xad5)][_0x3c2fbd(0x502)](_0x229339),this[_0x3c2fbd(0x1c3)][_0x3c2fbd(0x502)](_0x229339);break;case _0x59623a[_0x3c2fbd(0x3f3)]:this['remediationManager'][_0x3c2fbd(0x916)](_0x229339);break;case _0x59623a[_0x3c2fbd(0x23c)]:this['remediationManager'][_0x3c2fbd(0x994)](_0x229339);break;case _0x59623a[_0x3c2fbd(0xa05)]:this[_0x3c2fbd(0x8fe)][_0x3c2fbd(0x8bb)](_0x229339);break;case _0x59623a[_0x3c2fbd(0x91b)]:_0x229339[_0x3c2fbd(0x6a6)][_0x3c2fbd(0xb0f)]!==_0x1f2399[_0x3c2fbd(0xa7d)]?(this[_0x3c2fbd(0x9df)][_0x3c2fbd(0x441)](_0x229339),this[_0x3c2fbd(0xad5)]['handleSubscriptionSystemEvents'](_0x229339)):(this['contentManager'][_0x3c2fbd(0x441)](_0x229339),this[_0x3c2fbd(0x9df)][_0x3c2fbd(0x441)](_0x229339));break;case _0x59623a[_0x3c2fbd(0x46b)]:await this[_0x3c2fbd(0x320)][_0x3c2fbd(0x6fe)](_0x229339),this[_0x3c2fbd(0x7b4)][_0x3c2fbd(0x6fe)](_0x229339),this[_0x3c2fbd(0x1c3)][_0x3c2fbd(0x6fe)](_0x229339),this['subscriptionManager'][_0x3c2fbd(0x6fe)](_0x229339);}}catch(_0xe42898){throw _0x5bf0c2[_0x3c2fbd(0x324)](_0x3c2fbd(0x731),_0xe42898),this['handleError'](_0xe42898,{});}}[_0x677888(0x57f)](_0x2502f1,_0x17d91c){const _0xf30d84=_0x677888;if(!(_0x2502f1 instanceof _0x205f08)){if(_0x2502f1 instanceof _0x2ed9c0)throw _0x2502f1;if(!(_0x2502f1 instanceof Error))throw new _0x2ed9c0(_0x4e0a41[_0xf30d84(0x7cb)],_0xf30d84(0xa7e)+_0x2502f1);if(!(_0x2502f1 instanceof _0x4dab04))throw new _0x2ed9c0(_0x4e0a41['InternalSDKError'],_0xf30d84(0xab9)+_0x2502f1[_0xf30d84(0x71b)]);switch(_0x2502f1[_0xf30d84(0x778)]){case _0x4dab04[_0xf30d84(0x6ec)][_0xf30d84(0x621)]:case _0x4dab04[_0xf30d84(0x6ec)]['MissingRemoteConnection']:case _0x4dab04['codes'][_0xf30d84(0x914)]:case _0x4dab04[_0xf30d84(0x6ec)][_0xf30d84(0x3c1)]:case _0x4dab04['codes'][_0xf30d84(0x679)]:case _0x4dab04['codes'][_0xf30d84(0x6e8)]:case _0x4dab04[_0xf30d84(0x6ec)]['InvalidPublisher']:case _0x4dab04['codes'][_0xf30d84(0x85c)]:case _0x4dab04[_0xf30d84(0x6ec)][_0xf30d84(0x7d1)]:case _0x4dab04[_0xf30d84(0x6ec)][_0xf30d84(0x33a)]:case _0x4dab04['codes'][_0xf30d84(0x1b6)]:case _0x4dab04[_0xf30d84(0x6ec)][_0xf30d84(0x28b)]:}throw _0x5bf0c2[_0xf30d84(0x487)](_0xf30d84(0x82d)+_0x2502f1['message'],{'clusterId':this[_0xf30d84(0x8a2)],'nodeId':this[_0xf30d84(0xa36)][_0xf30d84(0x48e)](),'nodeType':this[_0xf30d84(0xa36)][_0xf30d84(0xb0f)]},_0x2502f1),new _0x2ed9c0(_0x4e0a41['InternalSDKError'],_0xf30d84(0x7de)+_0x2502f1[_0xf30d84(0x71b)]);}}[_0x677888(0x40e)](){const _0x2b6b3c=_0x677888;return{'mediator':this,'vendorId':this[_0x2b6b3c(0x94e)],'clusterId':this[_0x2b6b3c(0x8a2)],'localNode':this[_0x2b6b3c(0xa36)]};}['initializeSystemTopic'](){const _0x3e0fee=_0x677888;return this[_0x3e0fee(0x36c)][_0x3e0fee(0x576)](_0x3f1018=>{const _0xfcf4a7=_0x3e0fee,_0x13a8a2=_0x38c506(_0x3f1018,this[_0xfcf4a7(0xa36)][_0xfcf4a7(0x48e)]()),_0x23bb9d=_0x3f1018[_0xfcf4a7(0x343)]===_0x59623a[_0xfcf4a7(0xa05)]||_0x3f1018[_0xfcf4a7(0x343)]===_0x59623a[_0xfcf4a7(0x46b)]&&_0x3f1018[_0xfcf4a7(0x6a6)][_0xfcf4a7(0xb0f)]===_0x3ba04a['Stats']?_0x86d570['SystemStats']:_0x86d570[_0xfcf4a7(0x438)];_0x5bf0c2[_0xfcf4a7(0x78f)](_0x23bb9d,_0x3f1018[_0xfcf4a7(0x2ce)]+_0xfcf4a7(0x3c8)+_0x13a8a2,_0x3f1018),this[_0xfcf4a7(0x731)](_0x3f1018)[_0xfcf4a7(0x5f6)](_0x4af625=>{const _0x5ca9fd=_0xfcf4a7;console[_0x5ca9fd(0x487)](_0x4af625);});});}async[_0x677888(0x711)](_0x1e4197){const _0x4afb3c=_0x677888,{timingLogger:_0x411f59,logger:_0x4d6188,logBeforeSync:_0x1a43a8,logAfterSync:_0x47cf6f}=function(_0x5b9df4,_0x3d5d93){const _0xfe4783=a0_0x5cc9;if(!_0x5bf0c2['isChannelEnabled'](_0x3d5d93))return _0x5bf0c2[_0xfe4783(0x324)](_0xfe4783(0x1c7)+_0x3d5d93),{..._0x597206(_0x5b9df4,_0x3d5d93),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x19ef3c,logger:_0x30b13b}=_0x597206(_0x5b9df4,_0x3d5d93);let _0x1abcb3=0x0;return _0x1abcb3=Date[_0xfe4783(0x9bd)](),{'syncStartTime':_0x1abcb3,'timingLogger':_0x19ef3c,'logger':_0x30b13b,'logBeforeSync':()=>(_0x511163(_0x3d5d93,_0xfe4783(0x3a4)),_0x19ef3c[_0xfe4783(0x9bd)]()),'logAfterSync':(_0x55bc58,_0x5d2898)=>{const _0x673634=_0xfe4783,_0x1aebf7=Date['now']();_0x511163(_0x3d5d93,_0x673634(0x99a)+_0x5d2898);const _0x24d707=(_0x1aebf7-_0x1abcb3)/0x3e8,_0x45684a=(_0x1aebf7-_0x55bc58)/0x3e8;_0x5bf0c2[_0x673634(0x5d7)](_0x3d5d93,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x5b9df4,'\x0a\x20===\x20Total\x20Time:\x20'+_0x24d707[_0x673634(0x96f)](0x2)+_0x673634(0xaa2),_0x673634(0x17d)+_0x45684a[_0x673634(0x96f)](0x3)+'\x20seconds',_0x673634(0xae5)+((_0x1aebf7-_0x1abcb3)/0x3e8-_0x45684a)['toFixed'](0x2)+_0x673634(0xaa2));}};}(_0x1e4197[_0x4afb3c(0x4d9)](),_0x86d570[_0x4afb3c(0x9de)]);_0x4d6188[_0x4afb3c(0x5d7)](_0x4afb3c(0x185));const _0xd88fce=this[_0x4afb3c(0x1c3)]['getAncestorIds']()[_0x4afb3c(0x8a9)]>0x0;if(_0xd88fce){_0x4d6188[_0x4afb3c(0x5d7)](_0x4afb3c(0x9ff),()=>this[_0x4afb3c(0x1c3)][_0x4afb3c(0x27c)]()),_0x411f59[_0x4afb3c(0x234)](),await Promise[_0x4afb3c(0xa47)](this[_0x4afb3c(0x1c3)][_0x4afb3c(0x27c)]()['map'](async _0xfb6acd=>await this[_0x4afb3c(0x1c3)][_0x4afb3c(0x6c2)](_0xfb6acd)))[_0x4afb3c(0x5f6)](_0xa29a6c=>_0x5bf0c2[_0x4afb3c(0xa38)](_0x4afb3c(0x6c5),{'nodeId':this[_0x4afb3c(0xa36)]['getId'](),'nodeType':this[_0x4afb3c(0xa36)][_0x4afb3c(0xb0f)]}));const _0x21bf4a=_0x4d6188[_0x4afb3c(0x9bc)](()=>this[_0x4afb3c(0x1c3)][_0x4afb3c(0x27c)](),[]);_0x411f59[_0x4afb3c(0x1e3)](_0x4afb3c(0x859)+_0x21bf4a+_0x4afb3c(0x564));}_0x47cf6f(_0x1a43a8(),await _0x1e4197[_0x4afb3c(0x2cd)](_0xd88fce,async()=>{const _0x5ab0a9=_0x4afb3c;_0x411f59['start'](),await this[_0x5ab0a9(0x1c3)][_0x5ab0a9(0x89d)](),_0x411f59[_0x5ab0a9(0x1e3)](_0x5ab0a9(0x6b1)),_0x1e4197['sync'](!0x0,()=>{const _0xd0557d=_0x5ab0a9;_0x4d6188[_0xd0557d(0x5d7)](_0xd0557d(0x4e5)),_0x1e4197[_0xd0557d(0x2cd)](!0x1);},!0x0);}));}}class _0x2e0746{['vendorId'];[_0x677888(0x8a2)];['authNode'];['eventEmitter'];[_0x677888(0x71c)];constructor(_0x426ece,_0xdbbb2,_0x6b6450,_0x21946e,_0x25f764,_0x189872,_0x36a23f=new _0x45df22()){const _0x5b0039=_0x677888;this[_0x5b0039(0x94e)]=_0x426ece,this[_0x5b0039(0x8a2)]=_0xdbbb2,this[_0x5b0039(0x877)]=_0x6b6450,this[_0x5b0039(0x6fd)]=_0x36a23f,this['orchestrator']=new _0x417e2d(this['vendorId'],this[_0x5b0039(0x8a2)],_0x6b6450,_0x21946e,_0x25f764,_0x189872,this);}async['join'](){const _0x3a0e32=_0x677888;await this['orchestrator']['initialize'](),this[_0x3a0e32(0x877)][_0x3a0e32(0xb0f)]===_0x1736bb[_0x3a0e32(0x9d1)][_0x3a0e32(0x373)]&&this[_0x3a0e32(0x877)][_0x3a0e32(0x9db)](this[_0x3a0e32(0x8a2)],_0x1ee767=>{const _0x4cca7b=_0x3a0e32;this[_0x4cca7b(0x71c)][_0x4cca7b(0x937)](_0x1ee767);});}[_0x677888(0x18f)](_0x47e19d={}){const _0x59b7f6=_0x677888;this[_0x59b7f6(0x71c)][_0x59b7f6(0x7ed)](_0x47e19d),this[_0x59b7f6(0x877)]['type']===_0x1736bb[_0x59b7f6(0x9d1)]['User']&&this[_0x59b7f6(0x877)][_0x59b7f6(0x903)](this[_0x59b7f6(0x8a2)]),this[_0x59b7f6(0x1af)](_0x59b7f6(0x585),void 0x0);}[_0x677888(0x7b0)](_0x4f26e8){const _0x52080c=_0x677888,_0x3f6600=this[_0x52080c(0x71c)]['openPubSubTopic'](_0x4f26e8);return{'getName':_0x3f6600['getName'][_0x52080c(0x75d)](_0x3f6600),'getOwnerId':_0x3f6600[_0x52080c(0x3f9)][_0x52080c(0x75d)](_0x3f6600),'getContentType':_0x3f6600[_0x52080c(0x5b3)][_0x52080c(0x75d)](_0x3f6600),'publish':_0x3f6600[_0x52080c(0x6c6)][_0x52080c(0x75d)](_0x3f6600),'subscribe':_0x3f6600[_0x52080c(0x576)][_0x52080c(0x75d)](_0x3f6600),'unsubscribe':_0x3f6600['unsubscribe']['bind'](_0x3f6600),'close':_0x3f6600[_0x52080c(0x7ed)][_0x52080c(0x75d)](_0x3f6600)};}async['openObjectStoreBucket'](_0x17e47f,_0x5f1af7){const _0x4ce18b=_0x677888,_0x5cd6e8=await this[_0x4ce18b(0x71c)][_0x4ce18b(0xa09)](_0x17e47f,_0x5f1af7);return{'getName':_0x5cd6e8[_0x4ce18b(0x207)][_0x4ce18b(0x75d)](_0x5cd6e8),'getOwnerId':_0x5cd6e8['getOwnerId'][_0x4ce18b(0x75d)](_0x5cd6e8),'getContentType':_0x5cd6e8[_0x4ce18b(0x5b3)][_0x4ce18b(0x75d)](_0x5cd6e8),'publish':_0x5cd6e8[_0x4ce18b(0x6c6)][_0x4ce18b(0x75d)](_0x5cd6e8),'unpublish':_0x5cd6e8['unpublish']['bind'](_0x5cd6e8),'get':_0x5cd6e8['get'][_0x4ce18b(0x75d)](_0x5cd6e8),'list':_0x5cd6e8[_0x4ce18b(0x7b5)]['bind'](_0x5cd6e8),'getSize':_0x5cd6e8[_0x4ce18b(0x93a)]['bind'](_0x5cd6e8),'subscribe':_0x5cd6e8[_0x4ce18b(0x576)][_0x4ce18b(0x75d)](_0x5cd6e8),'unsubscribe':_0x5cd6e8['unsubscribe'][_0x4ce18b(0x75d)](_0x5cd6e8),'close':_0x5cd6e8[_0x4ce18b(0x7ed)][_0x4ce18b(0x75d)](_0x5cd6e8)};}async[_0x677888(0x688)](_0x5c6e4c,_0x1640a8){const _0x3a6229=_0x677888,_0x434a8b=await this[_0x3a6229(0x71c)][_0x3a6229(0x688)](_0x5c6e4c,_0x1640a8);return{'getName':_0x434a8b[_0x3a6229(0x207)]['bind'](_0x434a8b),'getOwnerId':_0x434a8b[_0x3a6229(0x3f9)]['bind'](_0x434a8b),'getContentType':_0x434a8b[_0x3a6229(0x5b3)][_0x3a6229(0x75d)](_0x434a8b),'close':_0x434a8b[_0x3a6229(0x7ed)][_0x3a6229(0x75d)](_0x434a8b),'get':_0x434a8b[_0x3a6229(0x8a1)][_0x3a6229(0x75d)](_0x434a8b),'list':_0x434a8b[_0x3a6229(0x7b5)][_0x3a6229(0x75d)](_0x434a8b),'subscribe':_0x434a8b['subscribe'][_0x3a6229(0x75d)](_0x434a8b),'unsubscribe':_0x434a8b[_0x3a6229(0xa24)][_0x3a6229(0x75d)](_0x434a8b)};}async[_0x677888(0x871)](_0x27d904,_0x383972,_0x108d3e){const _0x5bfd3f=_0x677888,_0x2c4a59=await this[_0x5bfd3f(0x71c)][_0x5bfd3f(0x871)](_0x27d904,_0x383972,_0x108d3e);return{'getName':_0x2c4a59[_0x5bfd3f(0x207)][_0x5bfd3f(0x75d)](_0x2c4a59),'getOwnerId':_0x2c4a59[_0x5bfd3f(0x3f9)]['bind'](_0x2c4a59),'getContentType':_0x2c4a59[_0x5bfd3f(0x5b3)][_0x5bfd3f(0x75d)](_0x2c4a59),'getTable':_0x2c4a59[_0x5bfd3f(0xa37)][_0x5bfd3f(0x75d)](_0x2c4a59),'subscribe':_0x2c4a59[_0x5bfd3f(0x576)][_0x5bfd3f(0x75d)](_0x2c4a59),'unsubscribe':_0x2c4a59[_0x5bfd3f(0xa24)][_0x5bfd3f(0x75d)](_0x2c4a59),'close':_0x2c4a59[_0x5bfd3f(0x7ed)][_0x5bfd3f(0x75d)](_0x2c4a59)};}async[_0x677888(0x6c3)](_0x3a4416){const _0x5d74cb=_0x677888,_0x20cc96=await this[_0x5d74cb(0x71c)][_0x5d74cb(0x6c3)](_0x3a4416);return{'getName':_0x20cc96[_0x5d74cb(0x207)][_0x5d74cb(0x75d)](_0x20cc96),'getOwnerId':_0x20cc96[_0x5d74cb(0x3f9)][_0x5d74cb(0x75d)](_0x20cc96),'getContentType':_0x20cc96[_0x5d74cb(0x5b3)][_0x5d74cb(0x75d)](_0x20cc96),'createJob':_0x20cc96['createJob'][_0x5d74cb(0x75d)](_0x20cc96),'getJob':_0x20cc96['getJob']['bind'](_0x20cc96),'getJobs':_0x20cc96[_0x5d74cb(0x837)]['bind'](_0x20cc96),'close':_0x20cc96[_0x5d74cb(0x7ed)][_0x5d74cb(0x75d)](_0x20cc96)};}async[_0x677888(0xad4)](_0x57513f){const _0x204bd2=_0x677888,_0x42e3ef=await this[_0x204bd2(0x71c)]['openJobWorker'](_0x57513f);return{'close':_0x42e3ef[_0x204bd2(0x7ed)][_0x204bd2(0x75d)](_0x42e3ef)};}async['openGenerativeAIContext'](_0x340157){const _0x347383=_0x677888,_0x1cfe57=await this[_0x347383(0x71c)][_0x347383(0x293)](_0x340157);return{'createAIJob':_0x1cfe57[_0x347383(0x40c)][_0x347383(0x75d)](_0x1cfe57),'getDataBucketIds':_0x1cfe57[_0x347383(0x5a4)][_0x347383(0x75d)](_0x1cfe57),'close':_0x1cfe57[_0x347383(0x7ed)][_0x347383(0x75d)](_0x1cfe57)};}async[_0x677888(0x993)](_0x3dd148){const _0x2ca186=_0x677888,_0x5becb1=await this[_0x2ca186(0x71c)][_0x2ca186(0x993)](_0x3dd148);return{'close':_0x5becb1['close'][_0x2ca186(0x75d)](_0x5becb1)};}['openGraphDatabase'](_0x525a91){const _0x51590b=_0x677888,_0x1e7e28=this[_0x51590b(0x71c)][_0x51590b(0x42e)](_0x525a91);return{'getName':_0x1e7e28[_0x51590b(0x207)]['bind'](_0x1e7e28),'getOwnerId':_0x1e7e28[_0x51590b(0x3f9)][_0x51590b(0x75d)](_0x1e7e28),'getContentType':_0x1e7e28['getContentType'][_0x51590b(0x75d)](_0x1e7e28),'addNode':_0x1e7e28['addNode'][_0x51590b(0x75d)](_0x1e7e28),'addEdge':_0x1e7e28[_0x51590b(0x83a)][_0x51590b(0x75d)](_0x1e7e28),'getContent':_0x1e7e28['getContent'][_0x51590b(0x75d)](_0x1e7e28),'remove':_0x1e7e28[_0x51590b(0x772)][_0x51590b(0x75d)](_0x1e7e28),'saveToDisk':_0x1e7e28[_0x51590b(0xa7f)][_0x51590b(0x75d)](_0x1e7e28),'loadFromDisk':_0x1e7e28[_0x51590b(0x6a0)][_0x51590b(0x75d)](_0x1e7e28),'close':_0x1e7e28[_0x51590b(0x7ed)][_0x51590b(0x75d)](_0x1e7e28)};}[_0x677888(0x34a)](_0x58b99a){const _0x565b94=_0x677888,_0x2a9119=this[_0x565b94(0x71c)][_0x565b94(0x34a)](_0x58b99a);return{'getName':_0x2a9119[_0x565b94(0x207)][_0x565b94(0x75d)](_0x2a9119),'getOwnerId':_0x2a9119['getOwnerId'][_0x565b94(0x75d)](_0x2a9119),'getContentType':_0x2a9119[_0x565b94(0x5b3)][_0x565b94(0x75d)](_0x2a9119),'search':_0x2a9119[_0x565b94(0x4b5)]['bind'](_0x2a9119),'insert':_0x2a9119[_0x565b94(0x287)][_0x565b94(0x75d)](_0x2a9119),'remove':_0x2a9119[_0x565b94(0x772)][_0x565b94(0x75d)](_0x2a9119),'saveToDisk':_0x2a9119[_0x565b94(0xa7f)][_0x565b94(0x75d)](_0x2a9119),'loadFromDisk':_0x2a9119[_0x565b94(0x6a0)]['bind'](_0x2a9119),'close':_0x2a9119[_0x565b94(0x7ed)][_0x565b94(0x75d)](_0x2a9119)};}['getPubSubTopics'](_0x3227e1){const _0x1e1653=_0x677888;return this['orchestrator'][_0x1e1653(0x8be)](_0x3227e1)[_0x1e1653(0x360)](_0x11a4d2=>({'getName':_0x11a4d2[_0x1e1653(0x207)][_0x1e1653(0x75d)](_0x11a4d2),'getOwnerId':_0x11a4d2[_0x1e1653(0x3f9)][_0x1e1653(0x75d)](_0x11a4d2),'getContentType':_0x11a4d2[_0x1e1653(0x5b3)][_0x1e1653(0x75d)](_0x11a4d2),'publish':_0x11a4d2['publish']['bind'](_0x11a4d2),'subscribe':_0x11a4d2[_0x1e1653(0x576)][_0x1e1653(0x75d)](_0x11a4d2),'unsubscribe':_0x11a4d2[_0x1e1653(0xa24)][_0x1e1653(0x75d)](_0x11a4d2),'close':_0x11a4d2['close'][_0x1e1653(0x75d)](_0x11a4d2)}));}[_0x677888(0x6f7)](_0x12acce){const _0x159954=_0x677888;return this[_0x159954(0x71c)]['getObjectStoreBuckets'](_0x12acce)[_0x159954(0x360)](_0x5c99b2=>({'getName':_0x5c99b2[_0x159954(0x207)]['bind'](_0x5c99b2),'getOwnerId':_0x5c99b2['getOwnerId'][_0x159954(0x75d)](_0x5c99b2),'getContentType':_0x5c99b2['getContentType'][_0x159954(0x75d)](_0x5c99b2),'publish':_0x5c99b2[_0x159954(0x6c6)][_0x159954(0x75d)](_0x5c99b2),'unpublish':_0x5c99b2['unpublish'][_0x159954(0x75d)](_0x5c99b2),'get':_0x5c99b2[_0x159954(0x8a1)]['bind'](_0x5c99b2),'list':_0x5c99b2['list']['bind'](_0x5c99b2),'getSize':_0x5c99b2[_0x159954(0x93a)][_0x159954(0x75d)](_0x5c99b2),'subscribe':_0x5c99b2['subscribe'][_0x159954(0x75d)](_0x5c99b2),'unsubscribe':_0x5c99b2['unsubscribe'][_0x159954(0x75d)](_0x5c99b2),'close':_0x5c99b2['close'][_0x159954(0x75d)](_0x5c99b2)}));}[_0x677888(0x31d)](_0x86a153){const _0x49c974=_0x677888;return this[_0x49c974(0x71c)][_0x49c974(0x31d)](_0x86a153)[_0x49c974(0x360)](_0xd7fe45=>({'getName':_0xd7fe45[_0x49c974(0x207)]['bind'](_0xd7fe45),'getOwnerId':_0xd7fe45[_0x49c974(0x3f9)]['bind'](_0xd7fe45),'getContentType':_0xd7fe45['getContentType'][_0x49c974(0x75d)](_0xd7fe45),'close':_0xd7fe45[_0x49c974(0x7ed)][_0x49c974(0x75d)](_0xd7fe45),'get':_0xd7fe45['get'][_0x49c974(0x75d)](_0xd7fe45),'list':_0xd7fe45[_0x49c974(0x7b5)]['bind'](_0xd7fe45),'subscribe':_0xd7fe45['subscribe'][_0x49c974(0x75d)](_0xd7fe45),'unsubscribe':_0xd7fe45['unsubscribe']['bind'](_0xd7fe45)}));}[_0x677888(0x65b)](_0x25a7ad){const _0x5c8b72=_0x677888;return this['orchestrator'][_0x5c8b72(0x65b)](_0x25a7ad)['map'](_0x596e14=>({'getName':_0x596e14['getName']['bind'](_0x596e14),'getOwnerId':_0x596e14['getOwnerId'][_0x5c8b72(0x75d)](_0x596e14),'getContentType':_0x596e14[_0x5c8b72(0x5b3)]['bind'](_0x596e14),'getTable':_0x596e14[_0x5c8b72(0xa37)]['bind'](_0x596e14),'subscribe':_0x596e14[_0x5c8b72(0x576)][_0x5c8b72(0x75d)](_0x596e14),'unsubscribe':_0x596e14['unsubscribe'][_0x5c8b72(0x75d)](_0x596e14),'close':_0x596e14[_0x5c8b72(0x7ed)][_0x5c8b72(0x75d)](_0x596e14)}));}[_0x677888(0x2ac)](_0xb7e30f){const _0x25fc8e=_0x677888;return this[_0x25fc8e(0x71c)][_0x25fc8e(0x2ac)](_0xb7e30f)[_0x25fc8e(0x360)](_0x37dc1a=>({'createAIJob':_0x37dc1a['createAIJob'][_0x25fc8e(0x75d)](_0x37dc1a),'getDataBucketIds':_0x37dc1a['getDataBucketIds'][_0x25fc8e(0x75d)](_0x37dc1a),'close':_0x37dc1a[_0x25fc8e(0x7ed)][_0x25fc8e(0x75d)](_0x37dc1a)}));}[_0x677888(0xa17)](_0x242c59){const _0x3d284f=_0x677888;return this[_0x3d284f(0x71c)][_0x3d284f(0xa17)](_0x242c59)[_0x3d284f(0x360)](_0x424bc2=>({'close':_0x424bc2['close'][_0x3d284f(0x75d)](_0x424bc2)}));}['publishLocalMediaStream'](_0x41aa54,_0xbbfeda){const _0x1417fe=_0x677888,_0x5aa839=this[_0x1417fe(0x71c)][_0x1417fe(0xaac)](_0x41aa54,_0xbbfeda);return{'getLabel':_0x5aa839[_0x1417fe(0x4d9)]['bind'](_0x5aa839),'getOwnerId':_0x5aa839[_0x1417fe(0x3f9)][_0x1417fe(0x75d)](_0x5aa839),'getContentType':_0x5aa839['getContentType'][_0x1417fe(0x75d)](_0x5aa839),'getMediaStream':_0x5aa839['getMediaStream'][_0x1417fe(0x75d)](_0x5aa839),'setPriority':_0x5aa839[_0x1417fe(0x765)]['bind'](_0x5aa839),'unpublish':_0x5aa839[_0x1417fe(0x232)]['bind'](_0x5aa839)};}[_0x677888(0x1c5)](_0x3ced77,_0x2d0dfa){const _0x4a023f=_0x677888,_0x2a2158=this[_0x4a023f(0x71c)][_0x4a023f(0x825)](_0x3ced77,_0x2d0dfa);return{'getLabel':_0x2a2158['getLabel'][_0x4a023f(0x75d)](_0x2a2158),'getOwnerId':_0x2a2158['getOwnerId'][_0x4a023f(0x75d)](_0x2a2158),'getContentType':_0x2a2158[_0x4a023f(0x5b3)][_0x4a023f(0x75d)](_0x2a2158),'setPriority':_0x2a2158['setPriority'][_0x4a023f(0x75d)](_0x2a2158),'unpublish':_0x2a2158['unpublish']['bind'](_0x2a2158),'getMediaStream':_0x2a2158['getMediaStream'][_0x4a023f(0x75d)](_0x2a2158),'addTrack':_0x2a2158[_0x4a023f(0x90e)][_0x4a023f(0x75d)](_0x2a2158),'removeTrack':_0x2a2158[_0x4a023f(0x909)][_0x4a023f(0x75d)](_0x2a2158),'replaceTrack':_0x2a2158[_0x4a023f(0x25e)]['bind'](_0x2a2158),'setTransformations':_0x2a2158[_0x4a023f(0x599)][_0x4a023f(0x75d)](_0x2a2158)};}['getLocalMediaStreams'](_0x1cf6e5){const _0x7b69b6=_0x677888;return this[_0x7b69b6(0x71c)][_0x7b69b6(0x83e)](_0x1cf6e5)[_0x7b69b6(0x360)](_0x55fd1b=>({'getLabel':_0x55fd1b['getLabel'][_0x7b69b6(0x75d)](_0x55fd1b),'getOwnerId':_0x55fd1b[_0x7b69b6(0x3f9)][_0x7b69b6(0x75d)](_0x55fd1b),'getContentType':_0x55fd1b[_0x7b69b6(0x5b3)][_0x7b69b6(0x75d)](_0x55fd1b),'getMediaStream':_0x55fd1b['getMediaStream'][_0x7b69b6(0x75d)](_0x55fd1b),'setPriority':_0x55fd1b['setPriority']['bind'](_0x55fd1b),'unpublish':_0x55fd1b['unpublish']['bind'](_0x55fd1b)}));}[_0x677888(0x3a7)](_0x2e0548){const _0x816faf=_0x677888;return this['orchestrator']['getRemoteMediaStreams'](_0x2e0548)['map'](_0x28c3d0=>({'getLabel':_0x28c3d0[_0x816faf(0x4d9)]['bind'](_0x28c3d0),'getOwnerId':_0x28c3d0[_0x816faf(0x3f9)][_0x816faf(0x75d)](_0x28c3d0),'getContentType':_0x28c3d0[_0x816faf(0x5b3)]['bind'](_0x28c3d0),'getMediaStream':_0x28c3d0[_0x816faf(0xa54)][_0x816faf(0x75d)](_0x28c3d0),'subscribe':_0x28c3d0[_0x816faf(0x576)][_0x816faf(0x75d)](_0x28c3d0),'unsubscribe':_0x28c3d0['unsubscribe'][_0x816faf(0x75d)](_0x28c3d0),'getAvailableTrackKinds':_0x28c3d0['getAvailableTrackKinds'][_0x816faf(0x75d)](_0x28c3d0),'update':_0x28c3d0[_0x816faf(0x4a8)][_0x816faf(0x75d)](_0x28c3d0),'onProviderChange':_0x28c3d0[_0x816faf(0x1ec)][_0x816faf(0x75d)](_0x28c3d0)}));}[_0x677888(0x9a4)](_0x11a1a6){const _0x1d3b4e=_0x677888;return this[_0x1d3b4e(0x71c)][_0x1d3b4e(0x9a4)](_0x11a1a6)['map'](_0x27f827=>({'getName':_0x27f827[_0x1d3b4e(0x207)][_0x1d3b4e(0x75d)](_0x27f827),'getOwnerId':_0x27f827[_0x1d3b4e(0x3f9)][_0x1d3b4e(0x75d)](_0x27f827),'getContentType':_0x27f827[_0x1d3b4e(0x5b3)]['bind'](_0x27f827),'addNode':_0x27f827[_0x1d3b4e(0x242)][_0x1d3b4e(0x75d)](_0x27f827),'addEdge':_0x27f827[_0x1d3b4e(0x83a)][_0x1d3b4e(0x75d)](_0x27f827),'getContent':_0x27f827[_0x1d3b4e(0x933)][_0x1d3b4e(0x75d)](_0x27f827),'remove':_0x27f827[_0x1d3b4e(0x772)]['bind'](_0x27f827),'saveToDisk':_0x27f827[_0x1d3b4e(0xa7f)][_0x1d3b4e(0x75d)](_0x27f827),'loadFromDisk':_0x27f827[_0x1d3b4e(0x6a0)]['bind'](_0x27f827),'close':_0x27f827[_0x1d3b4e(0x7ed)][_0x1d3b4e(0x75d)](_0x27f827)}));}[_0x677888(0xad9)](_0x196211){const _0x4e9b59=_0x677888;return this[_0x4e9b59(0x71c)][_0x4e9b59(0xad9)](_0x196211)[_0x4e9b59(0x360)](_0x13b1a0=>({'getName':_0x13b1a0[_0x4e9b59(0x207)]['bind'](_0x13b1a0),'getOwnerId':_0x13b1a0[_0x4e9b59(0x3f9)][_0x4e9b59(0x75d)](_0x13b1a0),'getContentType':_0x13b1a0[_0x4e9b59(0x5b3)][_0x4e9b59(0x75d)](_0x13b1a0),'search':_0x13b1a0['search'][_0x4e9b59(0x75d)](_0x13b1a0),'insert':_0x13b1a0['insert'][_0x4e9b59(0x75d)](_0x13b1a0),'remove':_0x13b1a0[_0x4e9b59(0x772)][_0x4e9b59(0x75d)](_0x13b1a0),'saveToDisk':_0x13b1a0[_0x4e9b59(0xa7f)][_0x4e9b59(0x75d)](_0x13b1a0),'loadFromDisk':_0x13b1a0[_0x4e9b59(0x6a0)]['bind'](_0x13b1a0),'close':_0x13b1a0['close'][_0x4e9b59(0x75d)](_0x13b1a0)}));}['getLocalNode'](){const _0x59deba=_0x677888,_0x5d2c96=this[_0x59deba(0x71c)][_0x59deba(0x9ac)]();switch(_0x5d2c96[_0x59deba(0xb0f)]){case _0x1736bb['NodeType'][_0x59deba(0x373)]:return{'type':_0x1736bb[_0x59deba(0x9d1)][_0x59deba(0x373)],'getId':_0x5d2c96[_0x59deba(0x48e)][_0x59deba(0x75d)](_0x5d2c96),'getDisplayName':_0x5d2c96['getDisplayName']['bind'](_0x5d2c96),'getEmail':_0x5d2c96[_0x59deba(0x7ec)]['bind'](_0x5d2c96),'getRemoteConnections':_0x5d2c96[_0x59deba(0x785)][_0x59deba(0x75d)](_0x5d2c96),'setDisplayName':_0x5d2c96[_0x59deba(0x4ea)]['bind'](_0x5d2c96),'setEmail':_0x5d2c96['setEmail'][_0x59deba(0x75d)](_0x5d2c96)};case _0x1736bb[_0x59deba(0x9d1)][_0x59deba(0x887)]:default:return{'type':_0x1736bb[_0x59deba(0x9d1)]['Agent'],'getId':_0x5d2c96[_0x59deba(0x48e)][_0x59deba(0x75d)](_0x5d2c96),'getRemoteConnections':_0x5d2c96[_0x59deba(0x785)][_0x59deba(0x75d)](_0x5d2c96)};}}[_0x677888(0x443)](_0x1b8a71){const _0x4335bd=_0x677888;return this[_0x4335bd(0x71c)][_0x4335bd(0x443)](_0x1b8a71)['map'](_0x14bc54=>{const _0x360c64=_0x4335bd;switch(_0x14bc54[_0x360c64(0xb0f)]){case _0x1736bb[_0x360c64(0x9d1)][_0x360c64(0x373)]:return{'type':_0x1736bb[_0x360c64(0x9d1)][_0x360c64(0x373)],'getId':_0x14bc54['getId'][_0x360c64(0x75d)](_0x14bc54),'getDisplayName':_0x14bc54[_0x360c64(0x7a3)]['bind'](_0x14bc54),'getEmail':_0x14bc54[_0x360c64(0x7ec)]['bind'](_0x14bc54),'getRemoteConnections':_0x14bc54[_0x360c64(0x785)][_0x360c64(0x75d)](_0x14bc54)};case _0x1736bb[_0x360c64(0x9d1)][_0x360c64(0x887)]:return{'type':_0x1736bb['NodeType'][_0x360c64(0x887)],'getId':_0x14bc54[_0x360c64(0x48e)][_0x360c64(0x75d)](_0x14bc54),'getRemoteConnections':_0x14bc54[_0x360c64(0x785)][_0x360c64(0x75d)](_0x14bc54)};default:throw new _0x2ed9c0(_0x4e0a41[_0x360c64(0xa28)],_0x360c64(0x92d));}});}['on']=(..._0x404a81)=>{const _0x39a700=_0x677888;this[_0x39a700(0x6fd)]['on'](..._0x404a81);};['emit']=(..._0x275e5f)=>this['eventEmitter'][_0x677888(0x1af)](..._0x275e5f);[_0x677888(0x4bf)](..._0x2f2a05){const _0x498271=_0x677888;this[_0x498271(0x6fd)][_0x498271(0x4bf)](..._0x2f2a05);}}class _0x29e4e0{['id'];[_0x677888(0x23d)];['email'];['type']=_0x1736bb['NodeType'][_0x677888(0x373)];['joinedClusters']=new Map();[_0x677888(0x6d2)]=_0x484270();constructor(_0x5009e6,_0x54f1cb,_0x2761b6){const _0x424d39=_0x677888;this['id']=_0x5009e6,this[_0x424d39(0x23d)]=_0x54f1cb,this[_0x424d39(0x416)]=_0x2761b6;}[_0x677888(0x48e)](){return this['id'];}['getDisplayName'](){return this['displayName'];}[_0x677888(0x7ec)](){const _0x3eef7a=_0x677888;return this[_0x3eef7a(0x416)];}['setDisplayName'](_0x3db1cd){const _0x5b8347=_0x677888;this['displayName']!==_0x3db1cd&&(this[_0x5b8347(0x23d)]=_0x3db1cd,this[_0x5b8347(0x6d2)]['publish'](this));}['setEmail'](_0x430738){const _0x49e7df=_0x677888;this[_0x49e7df(0x416)]!==_0x430738&&(this[_0x49e7df(0x416)]=_0x430738,this[_0x49e7df(0x6d2)][_0x49e7df(0x6c6)](this));}[_0x677888(0x9db)](_0x5a863a,_0x2b77df){const _0x451478=_0x677888;if(this['joinedClusters']['has'](_0x5a863a))return;const _0xe6449b=this[_0x451478(0x6d2)][_0x451478(0x576)](_0x2b77df);this['joinedClusters']['set'](_0x5a863a,_0xe6449b);}[_0x677888(0x903)](_0x487674){const _0x25d390=_0x677888;if(!this[_0x25d390(0x9cd)]['has'](_0x487674))return;const _0x1f5646=this['joinedClusters'][_0x25d390(0x8a1)](_0x487674);_0x1f5646&&_0x1f5646(),this[_0x25d390(0x9cd)][_0x25d390(0x60b)](_0x487674);}}class _0x51a637{[_0x677888(0x94e)];['user'];constructor(_0x536019){const _0x55f86f=_0x677888;this[_0x55f86f(0x94e)]=_0x536019;}async[_0x677888(0x274)](_0x37d2fd){const _0x420c59=_0x677888,_0x4a2fd1=await(0x0,_0x425f91[_0x420c59(0x50f)])(_0x66e9['getFunctions'](),_0x420c59(0x7e9))({'uid':_0x420c59(0x6be)+this[_0x420c59(0x94e)]+_0x420c59(0x6be)+_0x37d2fd['id']}),_0x1a104e=await(0x0,_0xf24250[_0x420c59(0x48f)])(_0x66e9[_0x420c59(0x9d9)](),_0x4a2fd1[_0x420c59(0x337)][_0x420c59(0x58a)]);this[_0x420c59(0x6ea)]=_0x1a104e[_0x420c59(0x6ea)];}async['signOut'](){const _0x1ae009=_0x677888;await(0x0,_0xf24250[_0x1ae009(0x7ea)])(_0x66e9[_0x1ae009(0x9d9)]());}[_0x677888(0x4cc)](){const _0x3ab790=_0x677888;return this[_0x3ab790(0x6ea)]?.[_0x3ab790(0x4cc)]()??Promise[_0x3ab790(0x1b3)]('User\x20not\x20signed\x20in');}}class _0x38f020{static [_0x677888(0xb02)];[_0x677888(0x52a)]=[];constructor(){}static[_0x677888(0xb0c)](){const _0x362ee0=_0x677888;return _0x38f020[_0x362ee0(0xb02)]||(_0x38f020['instance']=new _0x38f020()),_0x38f020[_0x362ee0(0xb02)];}[_0x677888(0x921)](){const _0x233346=_0x677888;this[_0x233346(0x47c)](),this[_0x233346(0x7ff)](),this[_0x233346(0x386)](),this[_0x233346(0x27d)](),this['checkDeviceConfig'](),this['checkAudioOutput'](),this[_0x233346(0x4cb)](),this[_0x233346(0x6b8)](),this['checkWebGL'](),this[_0x233346(0x47e)](),_0x5bf0c2[_0x233346(0x5d7)](_0x86d570[_0x233346(0x387)],_0x233346(0x596),{'featureSupport':this[_0x233346(0x52a)]});}[_0x677888(0x2ed)](_0x2f9ba5){const _0x2bf3ba=_0x677888,_0x3daec2=this['featureSupport']['find'](_0x2e899=>_0x2e899[_0x2bf3ba(0x7ca)]===_0x2f9ba5);return!!_0x3daec2&&_0x3daec2[_0x2bf3ba(0x82c)];}[_0x677888(0x19c)](_0x5149da){const _0x1ac169=_0x677888;_0x5bf0c2[_0x1ac169(0x9c6)](_0x1ac169(0x8e4),{'nodeId':_0x5149da[_0x1ac169(0x48e)](),'nodeType':_0x5149da[_0x1ac169(0xb0f)],'data':{'featureSupport':this['featureSupport']}});}[_0x677888(0x47c)](){const _0xd739e5=_0x677888,_0x1ba9bb=_0x4e1b28['WebRTC'];let _0x2d8538=!0x1;_0xd739e5(0x672)==typeof RTCPeerConnection&&_0xd739e5(0x672)==typeof RTCIceCandidate&&_0xd739e5(0x672)==typeof RTCSessionDescription?_0x2d8538=!0x0:_0x5bf0c2['log'](_0x86d570[_0xd739e5(0x387)],_0xd739e5(0x194)+_0x1ba9bb+_0xd739e5(0x3ec)),this[_0xd739e5(0x52a)]['push']({'name':_0x1ba9bb,'supported':_0x2d8538});}[_0x677888(0x7ff)](){const _0x16d7a6=_0x677888,_0x10e2ac=_0x4e1b28[_0x16d7a6(0x2b0)];let _0x3dc330=!0x1;_0x16d7a6(0x672)==typeof MediaStream&&_0x16d7a6(0x672)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x16d7a6(0x3be)==typeof navigator[_0x16d7a6(0x8ce)]&&_0x16d7a6(0x672)==typeof navigator[_0x16d7a6(0x8ce)][_0x16d7a6(0x8a8)]?_0x3dc330=!0x0:_0x5bf0c2['log'](_0x86d570[_0x16d7a6(0x387)],_0x16d7a6(0x194)+_0x10e2ac+_0x16d7a6(0x3ec)),this[_0x16d7a6(0x52a)][_0x16d7a6(0xa65)]({'name':_0x10e2ac,'supported':_0x3dc330});}[_0x677888(0x386)](){const _0x20ec6a=_0x677888,_0x28374a=_0x4e1b28[_0x20ec6a(0x5d0)];let _0x2a899a=!0x1;_0x20ec6a(0x3be)==typeof navigator&&_0x20ec6a(0x3be)==typeof navigator[_0x20ec6a(0x8ce)]&&_0x20ec6a(0x672)==typeof navigator[_0x20ec6a(0x8ce)][_0x20ec6a(0x1f0)]?_0x2a899a=!0x0:_0x5bf0c2[_0x20ec6a(0x5d7)](_0x86d570['Support'],_0x20ec6a(0x194)+_0x28374a+_0x20ec6a(0x3ec)),this[_0x20ec6a(0x52a)][_0x20ec6a(0xa65)]({'name':_0x28374a,'supported':_0x2a899a});}[_0x677888(0x27d)](){const _0x47cc8b=_0x677888,_0x269466=_0x4e1b28['AudioVolume'];let _0x456a2b=!0x1;_0x47cc8b(0x672)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&'function'!=typeof AudioWorkletNode||_0x47cc8b(0x672)!=typeof MediaStreamAudioSourceNode?_0x5bf0c2[_0x47cc8b(0x5d7)](_0x86d570[_0x47cc8b(0x387)],_0x47cc8b(0x194)+_0x269466+_0x47cc8b(0x3ec)):_0x456a2b=!0x0,this[_0x47cc8b(0x52a)][_0x47cc8b(0xa65)]({'name':_0x269466,'supported':_0x456a2b});}[_0x677888(0xab4)](){const _0x202694=_0x677888,_0x5b8de4=_0x4e1b28['DeviceConfig'];let _0x161db2=!0x1;_0x202694(0x3be)==typeof navigator&&_0x202694(0x3be)==typeof navigator[_0x202694(0x8ce)]&&_0x202694(0x672)==typeof navigator['mediaDevices'][_0x202694(0x283)]&&_0x202694(0x672)==typeof MediaDeviceInfo?_0x161db2=!0x0:_0x5bf0c2['log'](_0x86d570['Support'],_0x202694(0x194)+_0x5b8de4+_0x202694(0x3ec)),this[_0x202694(0x52a)][_0x202694(0xa65)]({'name':_0x5b8de4,'supported':_0x161db2});}['checkAudioOutput'](){const _0x27a062=_0x677888,_0x1dbe69=_0x4e1b28[_0x27a062(0x4dd)];let _0x3816a5=!0x1;'object'==typeof document&&_0x27a062(0x672)==typeof document['createElement']('video')['setSinkId']?_0x3816a5=!0x0:_0x5bf0c2['log'](_0x86d570[_0x27a062(0x387)],_0x27a062(0x194)+_0x1dbe69+_0x27a062(0x3ec)),this[_0x27a062(0x52a)]['push']({'name':_0x1dbe69,'supported':_0x3816a5});}async[_0x677888(0x4cb)](){const _0x47db77=_0x677888,_0x3a6fe8=_0x4e1b28[_0x47db77(0x904)];let _0x2f53c1=!0x1;try{const _0x1a2f92=document[_0x47db77(0x81f)](_0x47db77(0x2d3));if(MediaRecorder&&MediaSource&&_0x1a2f92['captureStream']){const _0x13c160=_0x1a2f92[_0x47db77(0x9e8)](),_0x1d5cbd=new MediaRecorder(_0x13c160);_0x1d5cbd['start'](),await new Promise(_0x4eb316=>setTimeout(_0x4eb316,0x7d0)),_0x1d5cbd['stop'](),_0x2f53c1=_0x47db77(0x7c4)===_0x1d5cbd[_0x47db77(0x393)];}}catch(_0x523ee2){_0x5bf0c2[_0x47db77(0x5d7)](_0x86d570[_0x47db77(0x387)],_0x47db77(0x194)+_0x3a6fe8+'\x20check\x20failed',_0x523ee2);}this[_0x47db77(0x52a)][_0x47db77(0xa65)]({'name':_0x3a6fe8,'supported':_0x2f53c1}),_0x2f53c1||_0x5bf0c2[_0x47db77(0x5d7)](_0x86d570[_0x47db77(0x387)],'Support:\x20'+_0x3a6fe8+_0x47db77(0x3ec));}[_0x677888(0x6b8)](){const _0x2e111e=_0x677888,_0x320ebd=_0x4e1b28[_0x2e111e(0x8e8)];let _0x4730f8=!0x1;try{document[_0x2e111e(0x81f)](_0x2e111e(0x2d3))[_0x2e111e(0x9e8)]&&(_0x4730f8=!0x0);}catch(_0x35858c){_0x5bf0c2[_0x2e111e(0x5d7)](_0x86d570[_0x2e111e(0x387)],_0x2e111e(0x194)+_0x320ebd+_0x2e111e(0xb21),_0x35858c);}this['featureSupport']['push']({'name':_0x320ebd,'supported':_0x4730f8}),_0x4730f8||_0x5bf0c2['log'](_0x86d570['Support'],_0x2e111e(0x194)+_0x320ebd+_0x2e111e(0x3ec));}[_0x677888(0x3d5)](){const _0x3609ed=_0x677888,_0x1c02a3=_0x4e1b28['WebGL'];let _0x41b830=!0x1;try{const _0x10348a=document[_0x3609ed(0x81f)](_0x3609ed(0x2d3));WebGLRenderingContext&&_0x10348a[_0x3609ed(0x9e0)]('webgl')&&(_0x41b830=!0x0);}catch(_0x201406){_0x5bf0c2[_0x3609ed(0x5d7)](_0x86d570[_0x3609ed(0x387)],_0x3609ed(0x194)+_0x1c02a3+_0x3609ed(0xb21),_0x201406);}this[_0x3609ed(0x52a)][_0x3609ed(0xa65)]({'name':_0x1c02a3,'supported':_0x41b830}),_0x41b830||_0x5bf0c2[_0x3609ed(0x5d7)](_0x86d570[_0x3609ed(0x387)],_0x3609ed(0x194)+_0x1c02a3+_0x3609ed(0x3ec));}[_0x677888(0x47e)](){const _0x5e8ace=_0x677888,_0x5eccf2=_0x4e1b28[_0x5e8ace(0x863)];let _0x167d41=!0x1;_0x5e8ace(0x672)==typeof AudioContext?_0x167d41=!0x0:_0x5bf0c2[_0x5e8ace(0x5d7)](_0x86d570['Support'],_0x5e8ace(0x194)+_0x5eccf2+'\x20not\x20supported'),this[_0x5e8ace(0x52a)][_0x5e8ace(0xa65)]({'name':_0x5eccf2,'supported':_0x167d41});}}const _0x32148f=_0x38f020[_0x677888(0xb0c)]();class _0x2144c6{static [_0x677888(0xb02)];static ['unsubscribe'];static [_0x677888(0x5da)];[_0x677888(0xa5b)];[_0x677888(0x94e)];[_0x677888(0x530)];[_0x677888(0x4f0)];['clusters']=new Map();[_0x677888(0x780)];constructor(_0x50c9b7,_0x5005dd,_0x11988c){const _0xcd8d48=_0x677888;this[_0xcd8d48(0x94e)]=_0x50c9b7,this[_0xcd8d48(0x4f0)]=_0x5005dd,this['authService']=new _0x51a637(this[_0xcd8d48(0x94e)]),_0x32148f[_0xcd8d48(0x921)](),this[_0xcd8d48(0x530)]={'audioContext':_0x11988c?.[_0xcd8d48(0x9ab)]??(_0x32148f[_0xcd8d48(0x2ed)](_0x4e1b28[_0xcd8d48(0x863)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x11988c?.[_0xcd8d48(0x952)]??0x1,'minConnections':_0x11988c?.[_0xcd8d48(0x19b)]??0x3,'maxConnections':_0x11988c?.[_0xcd8d48(0x5e3)]??(_0x11988c?.[_0xcd8d48(0x19b)]&&0x4*_0x11988c[_0xcd8d48(0x19b)])??0xc,'maxDistance':_0x11988c?.[_0xcd8d48(0x8f8)]??0xa,'maxFps':_0x11988c?.[_0xcd8d48(0x31c)]??0x18,'maxBpp':_0x11988c?.[_0xcd8d48(0xafd)]??0.12,'objectStoreConnector':_0x11988c?.[_0xcd8d48(0x4b0)]??_0x1376ec[_0xcd8d48(0x803)],'externalStorageConnectors':_0x11988c?.[_0xcd8d48(0x68c)],'keyValueDatabaseConnector':_0x11988c?.[_0xcd8d48(0x55b)]??_0x5cbc4f[_0xcd8d48(0x685)],'peerConnectionConnector':_0x11988c?.[_0xcd8d48(0x4d5)]??_0x2dd2d1['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x11988c?.[_0xcd8d48(0x1b7)],'vectorDatabaseConnector':_0x11988c?.[_0xcd8d48(0x1f1)],'graphDatabaseConnector':_0x11988c?.[_0xcd8d48(0x308)],'documentParserConnector':_0x11988c?.[_0xcd8d48(0x8d9)],'fileConnector':_0x11988c?.[_0xcd8d48(0xa4b)],'nlpLibraryConnector':_0x11988c?.['nlpLibraryConnector'],'searchConnector':_0x11988c?.[_0xcd8d48(0x1cc)],'aiSearchConnector':_0x11988c?.[_0xcd8d48(0x678)],'queryFileConnector':_0x11988c?.[_0xcd8d48(0xa7c)],'ragConnector':_0x11988c?.[_0xcd8d48(0x217)]},_0x11988c?.[_0xcd8d48(0x379)]&&this[_0xcd8d48(0x530)][_0xcd8d48(0x9ab)]&&_0x450481[_0xcd8d48(0x62e)](this[_0xcd8d48(0x530)][_0xcd8d48(0x9ab)]),_0x5bf0c2[_0xcd8d48(0xa7a)](this[_0xcd8d48(0x94e)]),_0x11988c?.['loggingConnectors']&&_0x5bf0c2[_0xcd8d48(0x330)](_0x11988c['loggingConnectors']);}static async[_0x677888(0xb0c)](_0x453950,_0x7d8a21,_0x4ccae4,_0x53481e,_0x3fe5b2){const _0x21fdbb=_0x677888;this[_0x21fdbb(0x5da)]=_0x4ccae4;const _0xb58dfa=await this[_0x21fdbb(0x85e)](_0x453950,_0x7d8a21,_0x3fe5b2);return _0x2144c6[_0x21fdbb(0xb02)]||(_0x2144c6['instance']=new _0x2144c6(_0x453950,_0xb58dfa,_0x53481e)),{'close':_0x2144c6['instance']['close'][_0x21fdbb(0x75d)](_0x2144c6[_0x21fdbb(0xb02)]),'authenticateUser':_0x2144c6['instance'][_0x21fdbb(0x951)]['bind'](_0x2144c6[_0x21fdbb(0xb02)]),'authenticateAgent':_0x2144c6[_0x21fdbb(0xb02)][_0x21fdbb(0x5f1)][_0x21fdbb(0x75d)](_0x2144c6['instance']),'validateKey':_0x2144c6['instance'][_0x21fdbb(0x8fd)][_0x21fdbb(0x75d)](_0x2144c6[_0x21fdbb(0xb02)]),'joinCluster':_0x2144c6['instance'][_0x21fdbb(0x689)][_0x21fdbb(0x75d)](_0x2144c6['instance'])};}static async[_0x677888(0x548)](){const _0x59b481=_0x677888;return _0x66e9[_0x59b481(0x5c0)]();}static[_0x677888(0x870)](){const _0x5b73fa=_0x677888;return _0xd27c01[_0x5b73fa(0x870)];}async['close'](_0x6abb7b){const _0x52c8aa=_0x677888;this[_0x52c8aa(0x2a6)][_0x52c8aa(0x938)](_0x40521d=>{const _0x43061e=_0x52c8aa;_0x40521d['off'](),_0x40521d[_0x43061e(0x18f)](_0x6abb7b);}),this[_0x52c8aa(0x2a6)]['clear'](),this[_0x52c8aa(0x530)][_0x52c8aa(0x9ab)]&&_0x450481[_0x52c8aa(0x485)](),_0x2144c6[_0x52c8aa(0xa24)]?.(),_0x2144c6['unsubscribe']=void 0x0,this[_0x52c8aa(0x780)]=void 0x0,await this[_0x52c8aa(0xa5b)]['signOut'](),_0x2144c6[_0x52c8aa(0xb02)]=void 0x0;}static async['validateAccess'](_0xbc2bd5,_0xad2b55,_0x533ae2){const _0x458ceb=_0x677888;if(!this[_0x458ceb(0x5da)])throw new _0x2ed9c0(_0x4e0a41[_0x458ceb(0x1e9)],_0x458ceb(0x905));let _0x3005eb;try{_0x3005eb=await(0x0,_0x425f91[_0x458ceb(0x50f)])(_0x66e9['getFunctions'](),_0x458ceb(0x4de))({'vendorId':_0xbc2bd5,'accessToken':_0xad2b55,'secretKey':_0x533ae2});}catch(_0x150bb9){throw new _0x2ed9c0(_0x4e0a41[_0x458ceb(0x346)],_0x458ceb(0x977));}if(!this[_0x458ceb(0x2ec)](_0x3005eb[_0x458ceb(0x337)]))throw new _0x2ed9c0(_0x4e0a41['InvalidAccess'],_0x458ceb(0x977));const _0x242d52=_0x3005eb[_0x458ceb(0x337)];return _0x242d52[_0x458ceb(0x902)]||(_0x242d52[_0x458ceb(0x902)]=[]),this[_0x458ceb(0xa24)]||(this[_0x458ceb(0xa24)]=_0x450481[_0x458ceb(0x96d)](async()=>{const _0x32741d=_0x458ceb;try{const _0x4d6f9f=await this['validateAccess'](_0xbc2bd5,_0xad2b55,_0x533ae2);this['mode']===_0x1736bb[_0x32741d(0x9d1)]['Agent']&&(_0x4d6f9f[_0x32741d(0xb20)]=_0x4d6f9f[_0x32741d(0xb20)][_0x32741d(0x3cc)](_0x3660a3=>_0x3660a3['urls'][_0x32741d(0x2f5)](_0x32741d(0x401)))),_0x242d52[_0x32741d(0xb20)]=_0x4d6f9f[_0x32741d(0xb20)];}catch(_0x16bab1){}},0x1b7740)),_0x242d52;}async[_0x677888(0x951)](_0x287cb0){const _0x4196a9=_0x677888;if(_0x2144c6[_0x4196a9(0x5da)]!==_0x1736bb['NodeType'][_0x4196a9(0x373)])throw new _0x2ed9c0(_0x4e0a41[_0x4196a9(0xa28)],_0x4196a9(0x479));await this[_0x4196a9(0xa5b)][_0x4196a9(0x274)](_0x287cb0);const _0x1cbfd5=new _0x29e4e0(_0x287cb0['id'],_0x287cb0['displayName'],_0x287cb0['email']);return this['authContext']={'node':_0x1cbfd5},_0x32148f['logSupport'](_0x1cbfd5),{'type':_0x1736bb['NodeType'][_0x4196a9(0x373)],'getId':_0x1cbfd5[_0x4196a9(0x48e)]['bind'](_0x1cbfd5),'getDisplayName':_0x1cbfd5[_0x4196a9(0x7a3)][_0x4196a9(0x75d)](_0x1cbfd5),'getEmail':_0x1cbfd5['getEmail'][_0x4196a9(0x75d)](_0x1cbfd5),'setDisplayName':_0x1cbfd5[_0x4196a9(0x4ea)]['bind'](_0x1cbfd5),'setEmail':_0x1cbfd5[_0x4196a9(0x230)][_0x4196a9(0x75d)](_0x1cbfd5)};}async[_0x677888(0x5f1)](_0x3d4966){const _0x4a2a7b=_0x677888;if(_0x2144c6[_0x4a2a7b(0x5da)]!==_0x1736bb['NodeType'][_0x4a2a7b(0x887)])throw new _0x2ed9c0(_0x4e0a41[_0x4a2a7b(0xa28)],'Node\x20type\x20is\x20invalid');const {id:_0x48d5ec,groupId:_0x551113}=_0x3d4966,_0x1a92b7=await(0x0,_0x214774[_0x4a2a7b(0x960)])((0x0,_0x214774[_0x4a2a7b(0x3e7)])(_0x66e9['getFirestore'](),_0x4a2a7b(0x406)+this['vendorId']+_0x4a2a7b(0x936)+_0x551113));if(!_0x1a92b7['exists']())throw new _0x2ed9c0(_0x4e0a41[_0x4a2a7b(0x69b)],'Agent\x20group\x20not\x20found');const _0x19af26=_0x1a92b7[_0x4a2a7b(0x337)]();await this['authService'][_0x4a2a7b(0x274)]({'id':_0x48d5ec});const _0x1e33ce=new _0x1f1ed9(_0x48d5ec,_0x551113,this[_0x4a2a7b(0x94e)],_0x19af26);return this[_0x4a2a7b(0x780)]={'node':_0x1e33ce},_0x32148f[_0x4a2a7b(0x19c)](_0x1e33ce),this['connectAgent'](_0x1e33ce),{'type':_0x1736bb[_0x4a2a7b(0x9d1)][_0x4a2a7b(0x887)],'getId':_0x1e33ce[_0x4a2a7b(0x48e)][_0x4a2a7b(0x75d)](_0x1e33ce),'onConfigurationChange':_0x1e33ce[_0x4a2a7b(0x41d)][_0x4a2a7b(0x75d)](_0x1e33ce),'setReportCapacity':_0x1e33ce[_0x4a2a7b(0xa0c)][_0x4a2a7b(0x75d)](_0x1e33ce)};}async[_0x677888(0x8fd)](_0x43e919){const _0x1a8b3a=_0x677888,_0x44e88c=await(0x0,_0x214774[_0x1a8b3a(0x960)])((0x0,_0x214774[_0x1a8b3a(0x3e7)])(_0x66e9[_0x1a8b3a(0x65d)](),'apikeys/'+_0x43e919));if(!_0x44e88c[_0x1a8b3a(0x639)]())throw new _0x2ed9c0(_0x4e0a41[_0x1a8b3a(0x346)],'Invalid\x20key');return _0x44e88c[_0x1a8b3a(0x337)]()['vendorId'];}async[_0x677888(0x689)](_0x5096e3){const _0x590e8f=_0x677888;if(!this[_0x590e8f(0x780)])throw new _0x2ed9c0(_0x4e0a41[_0x590e8f(0x69b)],_0x590e8f(0x200));if(this[_0x590e8f(0x780)][_0x590e8f(0x836)]['type']!==_0x1736bb[_0x590e8f(0x9d1)]['User'])throw new _0x2ed9c0(_0x4e0a41[_0x590e8f(0x9d4)],'Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user');if(this[_0x590e8f(0x2a6)]['has'](_0x5096e3))throw new _0x2ed9c0(_0x4e0a41['ClusterAlreadyJoined'],'Cluster\x20already\x20joined');const _0x1cc456=new _0x2e0746(this[_0x590e8f(0x94e)],_0x5096e3,this[_0x590e8f(0x780)][_0x590e8f(0x836)],this[_0x590e8f(0xa5b)],this[_0x590e8f(0x530)],this[_0x590e8f(0x4f0)]);return await _0x1cc456['join'](),this[_0x590e8f(0x95c)](_0x5096e3,_0x1cc456),_0x5bf0c2[_0x590e8f(0x9c6)]('join-cluster',{'clusterId':_0x5096e3,'nodeId':this[_0x590e8f(0x780)][_0x590e8f(0x836)][_0x590e8f(0x48e)](),'nodeType':this[_0x590e8f(0x780)][_0x590e8f(0x836)]['type']}),{'leave':_0x1cc456[_0x590e8f(0x18f)]['bind'](_0x1cc456),'getLocalNode':_0x1cc456[_0x590e8f(0x9ac)]['bind'](_0x1cc456),'openPubSubTopic':_0x1cc456[_0x590e8f(0x7b0)][_0x590e8f(0x75d)](_0x1cc456),'openObjectStoreBucket':_0x1cc456[_0x590e8f(0xa09)]['bind'](_0x1cc456),'openExternalStorageConnection':_0x1cc456['openExternalStorageConnection'][_0x590e8f(0x75d)](_0x1cc456),'openKeyValueDatabase':_0x1cc456[_0x590e8f(0x871)]['bind'](_0x1cc456),'openGenerativeAIContext':_0x1cc456['openGenerativeAIContext'][_0x590e8f(0x75d)](_0x1cc456),'openGenerativeAIWorker':_0x1cc456[_0x590e8f(0x993)][_0x590e8f(0x75d)](_0x1cc456),'openGraphDatabase':_0x1cc456[_0x590e8f(0x42e)]['bind'](_0x1cc456),'openVectorDatabase':_0x1cc456[_0x590e8f(0x34a)][_0x590e8f(0x75d)](_0x1cc456),'publishLocalMediaStream':_0x1cc456[_0x590e8f(0x396)][_0x590e8f(0x75d)](_0x1cc456),'publishLocalDynamicMediaStream':_0x1cc456['publishLocalDynamicMediaStream'][_0x590e8f(0x75d)](_0x1cc456),'getPubSubTopics':_0x1cc456[_0x590e8f(0x8be)][_0x590e8f(0x75d)](_0x1cc456),'getObjectStoreBuckets':_0x1cc456[_0x590e8f(0x6f7)][_0x590e8f(0x75d)](_0x1cc456),'getExternalStorageConnections':_0x1cc456[_0x590e8f(0x31d)][_0x590e8f(0x75d)](_0x1cc456),'getKeyValueDatabases':_0x1cc456[_0x590e8f(0x65b)]['bind'](_0x1cc456),'getGenerativeAIContexts':_0x1cc456[_0x590e8f(0x2ac)][_0x590e8f(0x75d)](_0x1cc456),'getGenerativeAIWorkers':_0x1cc456[_0x590e8f(0xa17)][_0x590e8f(0x75d)](_0x1cc456),'getGraphDatabases':_0x1cc456['getGraphDatabases'][_0x590e8f(0x75d)](_0x1cc456),'getVectorDatabases':_0x1cc456[_0x590e8f(0xad9)]['bind'](_0x1cc456),'getLocalMediaStreams':_0x1cc456['getLocalMediaStreams']['bind'](_0x1cc456),'getRemoteMediaStreams':_0x1cc456[_0x590e8f(0x3a7)][_0x590e8f(0x75d)](_0x1cc456),'getRemoteNodes':_0x1cc456[_0x590e8f(0x443)][_0x590e8f(0x75d)](_0x1cc456),'on':_0x1cc456['on']['bind'](_0x1cc456),'off':_0x1cc456[_0x590e8f(0x4bf)]['bind'](_0x1cc456)};}async[_0x677888(0x629)](_0x42289b){const _0x409c11=_0x677888,_0x4245f8=new _0x2e0746(this[_0x409c11(0x94e)],'crewdle',_0x42289b,this['authService'],this[_0x409c11(0x530)],this[_0x409c11(0x4f0)]);await _0x4245f8[_0x409c11(0x729)](),this[_0x409c11(0x95c)](_0x409c11(0x60f),_0x4245f8),_0x5bf0c2[_0x409c11(0x4e7)](_0x409c11(0x3e5),'crewdle'),await _0x4245f8[_0x409c11(0x993)]('crewdle'),_0x5bf0c2[_0x409c11(0x4e7)](_0x409c11(0x6b4),_0x409c11(0x60f));}[_0x677888(0x95c)](_0x227f40,_0xb031de){const _0x82a716=_0x677888;this[_0x82a716(0x2a6)]['set'](_0x227f40,_0xb031de),_0xb031de['on']('cluster-leave',()=>{const _0x5ad3ce=_0x82a716;_0xb031de[_0x5ad3ce(0x4bf)](),this['clusters']['delete'](_0x227f40);});}static['isInternalSDKConfigs'](_0x31d62d){const _0x34d870=_0x677888;return void 0x0!==_0x31d62d[_0x34d870(0xb20)];}}return _0x37b190;})())));