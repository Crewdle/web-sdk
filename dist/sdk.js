function a0_0x2287(_0x1cea84,_0x3e0875){const _0x1c1f26=a0_0x1c1f();return a0_0x2287=function(_0x228796,_0x4f856f){_0x228796=_0x228796-0x1cd;let _0x1a9d61=_0x1c1f26[_0x228796];return _0x1a9d61;},a0_0x2287(_0x1cea84,_0x3e0875);}function a0_0x1c1f(){const _0x994a91=['connection-no-retry-queue','processInboundReport','not-in','messageCallback','getSenderTotalBytes','pendingSyncTransactions','setOnMessageHandler','ended','Stats:\x20report','Invalid\x20value.\x20Must\x20be\x20an\x20object.','unsubscribe','Restart\x20NeedMediaStream','20018710MBCrHH','ConnectionNotConnected','browserVersion','object-store-already-exists','ConnectionInvalidDataEvent','content','users','clusterId','SHA-1','getSettings','High','isWhereValues','text','senderTotalMessages','createMediaStreamSource','unsubscribeTrackEndedListener','handleIceCandidates','Failed\x20to\x20create\x20key\x20value\x20database','authenticateUser','Invalid\x20query','deleteRemoteUser','request-file-sync','Update','iceServers','everyone','removeSubscription','stringify','us-east-1','source','assign','estimatedPlayoutTimestamp','onmessage','clearConnectionTimeout','getLayout','enabled','checkSyncComplete','codes','app','sender','InvalidPublisher','loggingConnectors','registerRemoteUser','receiverCurrentBytes','addTrack','connection-state','maxBitrate','receiverPreviousTimestamp','incrementVersion','DeviceConfig','region','checkScreenSharing','retryCount','onNodeDisconnect','mediaTopics','tracks','joinedClusters','closeTopic','object-store-stream-does-not-exist','transactionService','events','getFile','statsCollection','total','discoveryUnsubscriber','validateQuery','off','\x27\x20in\x20table\x20\x27','contentType','getMediaSubscription','FeatureNotEnabled','srcObject','key-value-database-not-open','Connection\x20does\x20not\x20exist.','system','count','processReport','User\x20does\x20not\x20exist.','AudioVideoDelay','dataTopics','Sender','some','waitSendBuffer','request-accepted','Ice','getRank','Back\x20off:\x20Table\x20name\x20reserved','topics','from','setRank','clearWaitAnswer','NodeManager\x20-\x20UserLeave','Retry\x20request\x20with\x20chosen\x20answer\x20user\x20or\x20rank','UnsubscribeMediaStream','getDatabase','handleContentClosePubSubTopic','remoteConnections','ownerId','reduce','InvalidDataChannel','\x20not\x20supported','FileMove','ConnectionNoRetryQueue','\x20not\x20supported\x20-\x20old\x20Firefox','params','close','\x20does\x20not\x20exists','connection-invalid-data-event','225qCrmiV','publishLocalDynamicMediaStream','Stats','key-value-database-does-not-exist','desc','getAncestors','7UGRCNr','874106ehYtMB','Remote\x20connection\x20already\x20exists.','previousBytes','LoggingService:\x20logging\x20enabled\x20for','addEventListener','isSubscribed','getDisplayName','move','bufferEvent','bitrate','logRaw','tableUnsubscriber','MediaStreamUnavailable','framesDecoded','retryQueues','Transaction','asc','Disconnect','listenerUnsubscribers','createLocalMediaStream','TestPage','onChildRemoved','Content','audioContext','CPUCycle','getPacketsLostPerc','subscription-request-in-progress','folder-move','setDoc','resolutionScale','isIceCandidate','unregisterSource','stream','onbufferedamountlow','createLocalDynamicMediaStream','LocalMediaStreamAlreadyExists','setRemoteConnections','unregisterSystemPublisher','targetId','CanProvideMediaStream','vendorId','setupRenderElement','addVideoTrack','instance','getAuth','objectstore','ref','replaceTrack','crewdleSDKEnableLogging','setupStatsCollection','authService','getRemoteUser','goOnline','canvas','sendRequest','resetConnection','pub-sub-topic-already-exists','availableTrackKinds','publish','createConstantSource','createPendingFileWrite','out','checkDeviceConfig','Disconnected','removeUser','hasRemoteUser','objectStoreConnector','Cannot\x20list\x20directory:\x20','createMediaStreamDestination','northamerica-northeast1','requestSubscription','messagesReceived','subscriptionManager','enumerateDevices','transactionTable','sendIceCandidates','outgoingStreams','receiverCurrentTimestamp','PubSub\x20already\x20exists','Subscription\x20request\x20does\x20not\x20exist.','Pool','Local\x20MediaStream\x20already\x20exists','state','detectLocalIssues','key-value-database-table-name-reserved','key-value-database-name-not-string','Missing\x20remote\x20user\x20or\x20rank','UserUpdate','successNotified','RemoteMediaStreamDoesNotExist','graphql','Cannot\x20unpublish\x20object:\x20','error','processTransactionPayload','join','ClosePubSubTopic','handleSubscriptionNeedMediaStream','AppSync\x20connection\x20not\x20ready','currentBytes','receivers','detectAudioIssues','bandwidth.bitrate','bytesReceived','iceCandidates','crewdleSDKLoggingChannels','1:519415702791:web:5dd39042f881cfde3251a2','getQuery','isMediaSource','removeSubscriptionsForUser','Key-value\x20database\x20transaction\x20value\x20not\x20set.','receiverBitrate','PubSubTopicAlreadyExists','inbound-rtp','createDataChannel','getMediaStream','remoteUnsubscriber','token','handleTransactionPayload','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','maxOutgoingSubscriptions','removeLocalMediaStream','registeredListeners','setOnDisconnectHandler','validateValue','handleContentSystemEvents','Restart','maxFps','registerSource','sendTransactionsDump','transactionIds','removePubSubTopic','isWhereValue','connectionTimeout','packetsLost','getMinConnections','handleUserJoin','createElement','between','getRemoteId','handleRemediationSystemEvents','result','NeedRestart','pop','handleContentCloseMediaStream','unregisterSystemSource','Connection\x20not\x20connected.','currentDistance','removeOutgoingSubscription','RoundTripTime','setSenderTimestamp','cost','timePerFrame','file-write','updateDebounce','maxFramerate','handleOnMessage','setLocalRank','getPriority','getLocalMediaStream','getUser','opera','childRemovedUnsubscriber','getTransactions','webgl','renderElement','\x20not\x20supported\x20-\x20old\x20Chrome','createOffer','SystemStats','api','setupConnectionEvents','mute','Node','notifyClusterUserJoin','decodeJWT','audioDestination','getClosestUsers','request','isNeedRestart','Folder','senderConnection','Subscription\x20request\x20failed.','transactionsToSync','createBufferSource','outgoing-stream-no-topic','checkAudioVolume','sampleRate','statsReporting','Incoming\x20WebRTC\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','connectionManager','currentVersion','connectionPool','handleObjectMove','streams','hasTable','recipients','bytesSent','cpu.time_per_frame','sdk-internal-error:\x20','start','handleSubscriptionMediaStreamUnavailable','createAnswer','keyValueDatabases','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','contentManager','kind','minThreshold','minResolutionScale','MediaStream\x20feature\x20not\x20enabled','ObjectStorage','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','remote-media-stream-already-exists','function','AppSync\x20subscribe','removeEventListener','clearUpgradeTimeout','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','getLabel','downgrade','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','signInWithCredential','shouldProcessTransaction','Resolution','setUpgradeTimeout','getShareableStream','clearSyncTimeout','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','connector','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','packetsSent','restartIce','getTransactionFromTableWriteEvent','userAgent','size','nodeKey','addProblem','previousFrames','objectToArrayBuffer','frameHeight','handleStatsSystemEvents','isProduction','handleWebRTCOptimizationConnectionSuccess','ranges','remediationManager','Internal\x20SDK\x20Error:\x20','Method\x20not\x20implemented.','floor','open','upgrade','lastProcessRank','ConnectionGroup','true','lastHeartbeat','getEstimatedTimestamp','receiverUnsubscribers','fromEntries','pendingIceCandidates','RemoteMediaStreamTrackFail','processReceiverReport','Signaling','getTables','detectVideoIssues','getName','chosenAnswers','openPubSubTopic','maxBpp','packetsReceived','hasIndex','handleSubscriptionRestartNeedMediaStream','tableObserver','subscription-request-does-not-exist','crewdle-sdk.appspot.com','media-stream','onload','sourceVideo','slice','uuid','browser','createTopic','setScheduleTime','clearHeartbeat','getConnections','checkMediaRecording','providerListener','\x20check\x20failed','concat','upgradeTimeout','ObjectStoreNotInSync','Online','generateClient','remoteDescription','PubSubTopic\x20onMessage','messageListeners','dbKey','suspended','handleFolderCreate','getTableConnector','senderPreviousBytes','sendrecv','KeyValueDatabaseNotOpen','setLoggingConnectors','initialize','appsync-connect-fail','handleContentUnsubscribeMediaStream','PublishMediaStream','mediaStream','\x20with\x20\x27','object-store-not-synced','8754QVbPCj','setRemoteUser','internalId','handleSubscriptionProvideMediaStream','FramePerSecond','userId','every','senders','outbound-rtp','key-value-database-invalid-value','remediation','client','KeyValueDatabaseTransactionTableNotInitialized','toString','element','ObjectStoreNameNotString','trackListeners','createIncomingSubscription','stats','failed','maps','clearRect','RequestFileSync','getReceiverTotalBytes','video','Invalid\x20where\x20clause','getContentType','handleNeedRestart','/nodes','Cannot\x20get\x20file:\x20','Detection','remote-media-stream-invalid-subscription-params','timestamp','updatePropagationProperties','orchestrator','wait','CannotProvideMediaStream','handleProblem','getConnectionDestinations','statsManager','registerSystemSource','handleContentRemoteMediaStreamTrackFail','getDistance','connectionState','setInternalId','user-publish-media','.info/serverTimeOffset','index','OutgoingSubscription','Missing\x20answerer\x20id\x20on\x20request\x20answer','subscription-request-failed','framerate','getAudioTracks','onUnregisterPublisher','getConnection','bufferedAmountLowThreshold','subscriptionRequestsQueue','FPS','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','\x20not\x20supported\x20-\x20old\x20Opera','isFeatureSupported','processOutboundReports','ObjectStoreStats','displayName','origin','context','maxThreshold','addRemoteUser','writes','captureStream','currentTimestamp','mediaUnsubscribers','providerId','data','getLocalMediaStreams','cpu.fps','support','Connection\x20not\x20initialized.','logStorage','chunk','publishUserUpdate','SyncComplete','messageBuffer','toLocaleDateString','setDurationTime','handleFileSync','processRemoteInboundReport','key-value-database-transaction-value-not-set','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','eventTarget','file','KeyValueDatabaseInvalidValue','update','Optimization','default','statsReport','processServiceReport','parameters','Key-value\x20database\x20table\x20does\x20not\x20exist.','Consuming\x20buffered\x20event','propagate','eventEmitter','padStart','registerDestination','timeoutCallback','Subscription\x20request\x20has\x20not\x20been\x20answered.','optimizationLayers','amd','createTable','startTime','Success','remoteId','st_volatility','All','/transactions','receiverStreams','abs','text/plain','low','LocalMediaStreamDoesNotExist','InvalidSubscriber','framesEncoded','limit','setSinkId','audioSource','addAudioTrack','crewdle-sdk-stg','getLastUpdated','\x20-\x20Sending\x20propagation\x20(','cleanList','registerPublisher','committed','encode','removeRemoteMediaStream','onloadeddata','iceDebounce','emit','user-leave','configs','ObjectStoreAlreadyExists','detectProblems','TimePerFrame','getAncestorIds','processReports','getSubscriptionLabel','ConnectedPendingKeepAlive','connectionGroup','answerJoin','CloseObjectStoreBucket','event','Receiver\x20connection\x20is\x20not\x20initialized.','bind','storage','RemoteConnectionExists','next','outgoingManager','onLine','RemoteMediaStreamAlreadyExists','eventListener','tables','ObjectStore','syncResolve','sendFile','pubSubTopics','handleCloseObjectStore','getFunctions','getPubSubTopics','processPendingSyncTransactions','findNextAncestor','handleUpdateMediaStream','values','Invalid\x20resolution','unregisterPublisher','Missing\x20transaction\x20id','getNumberOutgoingSubscriptions','remote-connection-exists','getRoundTripTime','videoWidth','RequestSyncKeyValueDatabase','connection-not-connected','firebaseConfig','isArray','completed','ccc','parentId','WebRTCInvalidDestination','resolution','KeyValueDatabaseCreationFailed','onerror','pool','InvalidSubscription','handleUserLeave','MissingRemoteConnection','createSubscription','FileWrite','Table\x20not\x20found','firefox','CloseMediaStream','drawImage','UpdateMediaStream','handleNoAnswer','instantiateTransactionTable','receiverPreviousBytes','audio','clientWidth','handleCloseMediaStream','ObjectStoreNotSynced','handleDisconnect','getIndexes','localUser','clientStream','length','checkWebGL','Connected','callback','getTrackFromParam','removeItem','browserDetails','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','RequestFile','sdkCreateToken','previous','stop','UserAlreadyExist','Stream\x20does\x20not\x20exist','Offline','ConnectionNotinitialized','setLocalDescription','join-cluster','Database\x20already\x20exists','DTVolatility','indexes','handleOffer','getRemoteUsers','registerCluster','get','file-delete','disconnectTimeout','createRemoteUser','getCurrentMaxLayer','logConnectionState','addPendingIceCandidate','message','setEmail','Offer','waitConnected','graphService','getRemoteConnections','.crewdle-last-transaction','setReceiverTimestamp','onProviderChanged','hasOwnProperty','onicegatheringstatechange','getAvailableTrackKinds','clusterKey','Move','subscribe','unpublish','pubsub','SubscriptionRequestDoesNotExist','key-value-database','joinCluster','STVolatility','Amplify','supported','disableIntervalHack','action','__esModule','undefined','boolean','destroy','rank','isConnected','Invalid\x20layout:\x20','restartTimeout','query-helper-invalid-argument','\x20-\x20','buffer','KeyValueDatabaseTableNameReserved','oniceconnectionstatechange','ObjectStoreAlreadySubscribed','isReconnecting','Medium','max','readyState','object-store-invalid-path','listenUnsubscriber','handleSuccess','deleteTable','debounceProcessRank','Media','ondatachannel','handleRequestPayload','AppSync\x20client\x20not\x20ready','auth','local-media-stream-track-fail','createSenderConnection','addIssue','notifyObjectStoreOfUserLeave','closed','setItem','setConnectionType','incomingManager','Core','getLocalId','SubscriptionRequestNoAnswer','setRemoteDescription','DEBUG\x20-\x20','logSupport','/transactions/','/logs','Orchestrator\x20handleSystemEvents','All\x20recipients\x20already\x20received','receiverConnection','collectStats','object-store-invalid-payload','issue','connectionStateListener','LocalReport','setTimestamp','debug','value','maxResolution','pendingFilesTransactions','objectStores','enabledChannels','getMaxConnections','Default','OPFSObjectStoreConnector','onTrack','setupListeners','\x20does\x20not\x20support\x20content\x20type\x20','localMediaStreams','hasTracks','Delete','List','Invalid\x20subscriber.','database','initializeApp','NeedMediaStream','KeyValueDatabaseInvalidLayout','WebGL','user','getAudioVideoDelay','remoteMediaStreams','subscriptions','destinationIds','SubscribeMediaStream','server','senderStreams','publishUserJoin','handleOutgoingSystemEvents','getSupportedContentTypes','tableLayout','Module','debounceStats','PubSubTopicNameNotString','user-already-exist','notifyObjectStoreOfUserJoin','processRank','getOwnerId','internal','publishLocalMediaStream','tableName','arrayBufferToObject','subscription','canProvideResolution','checkBackgrounds','Receiver','onDisconnect','reportMetric','Jitter','list','removeRemoteStreamSubscription','/stats','durationTime','request-file','incomingTopic','systemMessagesReceived','code','jitter','getTrack','lastTransactionId','cpu.av_delay','node','send','Incoming','File','invalid-data-chanel','removeRemoteConnection','sync','AudioOutput','calculateSize','getLocalUser','tail','doc','timeReceiving','scheduleTime','removeTopic','iceConnectionState\x20failed','connect','DataChannel\x20is\x20not\x20open.','topicLabel','set','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','previousTimestamp','Internal\x20unknown\x20error:\x20','\x20not\x20supported\x20-\x20old\x20Edge','syncTimeout','options','Events','handleContentCloseObjectStore','path','Received\x20track','removeTrackListeners','collection','Outgoing','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','SystemTopic\x20publish','clusters/','removeIncomingSubscription','pendingFilesSyncing','version','sendFileRequestPayload','add','waitSuccess','getStats','component','splitParts','unregisterSubscriber','sort','chrome','cleanOldSubscription','Support','exists','senderTimeProcessing','handleSubscriptionUnsubscribeMediaStream','systemTopic','findNextUserId','KeyValueDatabaseTableDoesNotExist','connectionType','handleUserJoinNeedPublishedStream','buildQuery','secheduleTime','threshold','No\x20destinationIds\x20left','missing-datachannel','WebRTC','handleNodeSystemEvents','orderBy','handleContentCloseKeyValueDatabase','sourceId','Issue\x20detected:\x20','label','QueryBuilderInvalidArgument','lastExecuted','joinedAt','removeTrackCallback','isInternalLoggingConnector','processTransactionsDump','updateLastUpdated','pubsubTopics','30wsuqsN','WebRTC\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','hasMessage','ObjectStoreInvalidSyncMessage','catch','crewdle-sdk.firebaseapp.com','pub-sub-topic-already-subscribed','warn','pendingFilesRename','reads','heartbeatUnsubscriber','KeyValueDatabase','UserLeave','getOrResetPendingFileTimeout','Support:\x20','Request','RemoteMediaStreamMissingProviderId','FolderMove','frames','Recording','setDisplayName','stopConnection','listenerUnsubscriber','filteredDestinationIds','clearSubscriptionRequestTimeout','totalEncodeTime','IDBDatabaseConnector','objectRequests','getOrCreateFolderHandle','addRemoteConnection','getKeyValueDatabases','handleFileRequestAnswer','setStatus','/objectstores/','deleteTransactionsForTable','getSubscribedTracks','issues','minConnections','closeSubscription','addDoc','Waiting','deletePendingFile','/nodes/','logServiceEvent','PubSubTopicDoesNotExist','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','findNewMediaSubscription','processPendingIceCandidates','runTransaction','maxConnections','folder-create','LocalMediaStreamTrackFail','466950lKZQEW','\x27\x20to\x20','dataUnsubscribers','getBitrate','Store\x20already\x20exists','maxLayer','keyPath','localDescription','candidate','getDTVolatility','table','mediaDevices','active','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','byteLength','key-value-database-invalid-layout','handleWebRTCSystemEvents','UserJoin','disconnected','handleSubscriptionSubscribeMediaStream','end','ObjectStoreInvalidPath','maxDistance','MediaStream','Problem','createConnection','streamId','exports','createGain','isOffer','key-value-database-transaction-table-not-initialized','KeyValueDatabaseInvalidQuery','senderBitrate','checkMediaStream','processOutboundReport','getEmail','dt_volatility','getContext','key-value-database-table-not-found','ObjectStoreDoesNotExist','disconnect','match','requestSubscriptionAction','loadEnabledClusters','onDisconnectHandler','findIndex','0.1.0','push','getSTVolatility','logEvent','answererId','debugEnabled','toStringTag','Get','setInterval','Base\x20WebRTC\x20Connection','RestartNeedMediaStream','handlePublishMediaStream','getReport','remote-stream-missing-provider-id','Cannot\x20write\x20transaction.','trackKinds','getNextTargetRank','messageType','subtle','setProviderId','Rejected','registerSubscriber','has','syncPendingFiles','status','track','connection','splice','remove','clockSkew','RemoteAdd','listener','object-store-invalid-sync-message','webrtc-invalid-destination','contentRect','UserConnectionsUpdate','OutgoingMediaStreamNoTopic','\x27\x20in\x20layout','getHash','removeListener','ObjectStoreCannotWriteTransaction','publishFile','safari','iceConnectionState','unsubscribeHandler','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','val','UserNotAuthenticated','applyRemediation','openKeyValueDatabase','onValue','getSenderBitrate','processSenderReport','getRemoteMediaStream','UserDoesNotExist','getTable','unregisterDestination','remediations','ontrack','5245768KZlsYp','clientHeight','detail','signalingServer','interval','key-value-database-creation-failed','appsync-no-destination','retryQueue','FileDelete','PubSub','signalingState','.crewdle-pending','UnpublishMediaStream','Early\x20return','delete','Invalid\x20object\x20store\x20sync\x20message.','removeRemoteUser','49592rhWgZX','Count','receiverTotalMessages','getIdToken','getTracks','chooseAnswer','handleWebRTCSuccess','features','RequestFileWrite','videoHeight','buildTableEvent','\x20already\x20exists','Support:\x20unrecognized\x20Safari\x20user\x20agent','RemoteRemove','user-update','aws','Valid\x20layout','handleSystemEvents','removeKeyValueDatabase','Database\x20not\x20open','Backgrounds','reset','createIndex','layout','where','firestore','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','resume','RequestAccepted','Invalid\x20key\x20\x27','Bitrate','G-F7W8KXRKQB','unregisterPublisherListener','SubscriptionRequestInProgress','Cannot\x20publish\x20move\x20operation:\x20','messagesSent','cpu.cycle','Object\x20store\x20is\x20not\x20in\x20sync','unregisterRemoteUser','getConnectionType','observer','discoveryService','Early\x20return:\x20','Stream\x20already\x20exists','remoteUsers','signaling','setPendingFileSyncingPayload','AudioVolume','Local\x20user\x20rank\x20is\x20not\x20set','featureSupport','CloseKeyValueDatabase','onconnectionstatechange','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','compareTransactions','openObjectStoreBucket','defineProperty','detectStreamIssues','getStatus','unregisterCluster','key-value-database-index-not-found','AppSync\x20publish','user-unpublish-media','object-storage','startsWith','local-stream-does-not-exist','crewdle-sdk-stg.appspot.com','deleteObject','PubSubTopicStats','indexOf','Answer','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','getEnabledChannels','KeyValueDatabaseNameNotString','queues','getVideoTracks','handleDetectionSystemEvents','folder-delete','subscriptionRequestTimeouts','connected','mediator','isClusterEnabled','connections','checksum','getCurrentVersion','getResolutionScale','Subscription','publishUserLeave','newPath','Remediation','crewdle-sdk-logging-','getMaxDistance','sendTransactionsValue','mergeParts','number','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','feature-not-enabled','manageOptimization','arrayBuffer','cancel','processLocalReport','trackCallback','sync-complete','KeyValueDatabaseTransactionValueNotSet','handleRemoteTrackFailure','lastRemediations','StreamReport','functions','sendAction','handleContentUnpublishMediaStream','https://crewdle-sdk-default-rtdb.firebaseio.com','retryCallback','validateLayout','call','functionsRegion','setReceiverBytes','Upgrade','systemTopicUnsubscribe','getOutgoingOptimizationConnections','parse','getResolution','outgoingTopic','height','cluster','Invalid\x20WebRTC\x20event\x20destination.','publishTransaction','problem','find','validateAccess','removeTrack','senderPreviousTimestamp','clear','filter','string','Data','setTransformations','handleUnpublishMediaStream','getShareableStreamId','MediaRecorder','1:420235181083:web:4eff6062bd845cb0748cbe','\x0aAdditional\x20data:\x20','handleLocalTrackFailure','notifyJoin','getParameters','closeConnection','setCurrentVersion','system-stats','System','initializeSystemTopic','SubscriptionRequestFailed','head','registerSystemPublisher','clearOncloseTimeout','Invalid\x20table\x20name\x20\x27','syncKeyValueDatabase','FolderDelete','frameWidth','warning','CrewdleReceiverConnection\x20ontrack','\x20answer','handleError','crewdle-sdk-stg.firebaseapp.com','name','publishWebRTCMessage','handleFileWrite','sendStats','setParams','handleContentSubscribeMediaStream','shouldContinuePropagation','setVendorId','object-store-already-subscribed','WebGLRenderingContext','addIceCandidate','rtt','onMessage','receiver','KeyValueDatabaseDoesNotExist','endpoint','disconnectCallback','Connection','setupTrackEndedListeners','test-page','detection','handleAnswer','leave','IncomingSubscription','handleChunkMessage','Invalid\x20data\x20event.','.crewdle-transactions','setTimeout','map','Receiving\x20\x27','nodeManager','keyValueDatabaseConnector','startNoThrottlingHack','resizeHandler','removeObjectStore','clearRestartTimeout','addConnection','subscriptionRequests','all','onRemoveTrack','currentFrames','Internal\x20error:\x20','query','MissingSystemTopic','RemoteMediaStreamInvalidSubscriptionParams','onicecandidate','removeConnection','RemoteRemediation','nextUserId','replace','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','No\x20connections\x20available\x20to\x20send\x20message','Remove','firebaseUnsubscriber','ScreenSharing','invalid-publisher','syncTransactionsWritten','Sending\x20\x27','priority','fileChunks','roundTripTime','totalDecodeTime','listen','handleSubscribeMediaStream','Invalid\x20index\x20in\x20table\x20\x27','crewdleSDKDisableLogging','clearWaitSuccess','ancestors','addMessage','handleMissingSenders','dispatchEvent','forEach','checkAudioOutput','entries','operator','load','trackEndedListeners','lastUpdated','transformations','split','Support:\x20current\x20config','Problem\x20detected:\x20','scaleResolutionDownBy','KeyValueDatabaseTableNotFound','getRemoteMediaStreams','getSubscriptionInfo','answers','createReceiverConnection','firebase-disconnect','onnegotiationneeded','getInternalStreamId','writeTransaction','publishMove','topic','random','FolderCreate','frameTime','setParameters','getProviderId','Key-value\x20database\x20creation\x20failed.','httpsCallable','2-digit','publishSyncCompleted','Downgrade','clusterEventEmitter','now','shift','type','object-store-name-not-string','getReceiverBitrate','keys','Accepted','6287841AhQTBg','includes','key-value-database-already-exists','getApp','offset','handleSubscriptionSystemEvents','sendChunked','email','processDataChannelReport','bufferedEvents','/transactions/lastTransaction','getObjectStoreBuckets','discover','packets','InternalSDKError','isSync','subscribedTracks','width','extendedRecipients','createPubSubTopic','isWhereBetween','logPropagateSystemEvent','sendWithRetry','getId','Rejected\x20answer','high','publishFolder','log','isMediaDestination','Internal\x20event\x20\x27','ObjectStoreInvalidPayload','navigator','CrewdleSenderConnection\x20createOffer','timeSending','writeFile','Remote\x20stream\x20does\x20not\x20exist.','getFirestore','decode','setPriority','notifyCluster','consumeBufferedEvents','waitAnswer','Everyone\x20','folder','key','time_per_frame','chunks','Low','handleContentUpdateMediaStream','authUser','OptimizationConnectionSuccess','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','getTotalBytes','messageUnsubscriber','authContext','unshift','createOutgoingSubscription','oncloseTimeout','createKeyValueDatabase','systemMessages','setSubscriptionRequestTimeout','getInstance','getConnectionGroup','serverTimestamp','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','iceGatheringState','handleCloseKeyValueDatabase','dataChannel','handleClosePubSubTopic','inactive','senderCurrentTimestamp','user-join','appsync-disconnect','object','pub-sub-topic-does-not-exist','PubSubTopicAlreadySubscribed','object-store-cannot-write-transaction','updateUser','SendTransactionsDump','isInitiator','destination','receiverTimeProcessing','handleObjectDelete','setBytes','Missing\x20owner\x20user\x20or\x20rank','getConfigs','Logger.getInstance','startHeartbeat','moveObject','Database\x20does\x20not\x20exist','edge','fps','en-US','updateDebounceTimeout','processInboundReports','distance','Add','::￿','signInWithCustomToken','getInternalTrackParams','Invalid\x20params','handleUnsubscribeMediaStream','KeyValueDatabaseStats','localId','createRemoteMediaStream','updateLastTransactionId','Data\x20cluster\x20is\x20not\x20open.','ConnectionState','endsWith','senderCurrentBytes','handleNodeDisconnect','user-not-authenticated'];a0_0x1c1f=function(){return _0x994a91;};return a0_0x1c1f();}(function(_0xa822ec,_0x7a1ea7){const _0x3384a8=a0_0x2287,_0x422502=_0xa822ec();while(!![]){try{const _0x4ab2d9=parseInt(_0x3384a8(0x4b1))/0x1+-parseInt(_0x3384a8(0x72a))/0x2+-parseInt(_0x3384a8(0x47d))/0x3*(parseInt(_0x3384a8(0x52b))/0x4)+-parseInt(_0x3384a8(0x723))/0x5*(parseInt(_0x3384a8(0x2af))/0x6)+parseInt(_0x3384a8(0x729))/0x7*(-parseInt(_0x3384a8(0x51a))/0x8)+-parseInt(_0x3384a8(0x63c))/0x9+parseInt(_0x3384a8(0x6b8))/0xa;if(_0x4ab2d9===_0x7a1ea7)break;else _0x422502['push'](_0x422502['shift']());}catch(_0x5c147d){_0x422502['push'](_0x422502['shift']());}}}(a0_0x1c1f,0x77153),!function(_0x3632e5,_0x2d326d){const _0x182598=a0_0x2287;if(_0x182598(0x685)==typeof exports&&_0x182598(0x685)==typeof module)module[_0x182598(0x4cc)]=_0x2d326d();else{if(_0x182598(0x24f)==typeof define&&define[_0x182598(0x31a)])define([],_0x2d326d);else{var _0x1a5f1a=_0x2d326d();for(var _0x257a1d in _0x1a5f1a)(_0x182598(0x685)==typeof exports?exports:_0x3632e5)[_0x257a1d]=_0x1a5f1a[_0x257a1d];}}}(this,()=>((()=>{'use strict';const _0x277a21=a0_0x2287;var _0xda1505={0xa9:(_0x19d22c,_0x56f324,_0xd564cd)=>{const _0x407b6d=a0_0x2287;_0xd564cd['d'](_0x56f324,{'q':()=>_0x4ef20b});const _0x4ef20b={'version':_0x407b6d(0x4df),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x407b6d(0x5cb),'databaseURL':_0x407b6d(0x4aa),'projectId':_0x407b6d(0x32d),'storageBucket':_0x407b6d(0x56c),'appId':_0x407b6d(0x1e5),'functionsRegion':_0x407b6d(0x76f)},'aws':{'endpoint':_0x407b6d(0x25d),'region':_0x407b6d(0x6d3)}};},0x1c4:(_0x2344c2,_0x4b3d2f,_0xf0c58c)=>{_0xf0c58c['d'](_0x4b3d2f,{'q':()=>_0x45db2b});const _0x45db2b={};},0x1fc:(_0x3ca2ba,_0x443726,_0x517c6d)=>{const _0xd9807c=a0_0x2287;_0x517c6d['d'](_0x443726,{'q':()=>_0x26d811});const _0x26d811={'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':_0xd9807c(0x482),'databaseURL':_0xd9807c(0x598),'projectId':'crewdle-sdk','storageBucket':_0xd9807c(0x28a),'messagingSenderId':'420235181083','appId':_0xd9807c(0x5b5),'measurementId':_0xd9807c(0x54a)},'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':_0xd9807c(0x6d3)}};},0x2ac:(_0x43af79,_0x5080b8,_0x47b1d5)=>{_0x47b1d5['d'](_0x5080b8,{'q':()=>_0x31c905});const _0x31c905={};}},_0xe5044a={};function _0x90a358(_0x528a78){const _0x3d3907=a0_0x2287;var _0x58e24d=_0xe5044a[_0x528a78];if(void 0x0!==_0x58e24d)return _0x58e24d['exports'];var _0x320d7c=_0xe5044a[_0x528a78]={'exports':{}};return _0xda1505[_0x528a78](_0x320d7c,_0x320d7c['exports'],_0x90a358),_0x320d7c[_0x3d3907(0x4cc)];}_0x90a358['n']=_0x52a605=>{const _0x311db7=a0_0x2287;var _0x1ed3fb=_0x52a605&&_0x52a605['__esModule']?()=>_0x52a605[_0x311db7(0x30d)]:()=>_0x52a605;return _0x90a358['d'](_0x1ed3fb,{'a':_0x1ed3fb}),_0x1ed3fb;},_0x90a358['d']=(_0x5eb852,_0x55346a)=>{const _0x4d9ec7=a0_0x2287;for(var _0xadb74a in _0x55346a)_0x90a358['o'](_0x55346a,_0xadb74a)&&!_0x90a358['o'](_0x5eb852,_0xadb74a)&&Object[_0x4d9ec7(0x562)](_0x5eb852,_0xadb74a,{'enumerable':!0x0,'get':_0x55346a[_0xadb74a]});},_0x90a358['o']=(_0x841636,_0x4928d9)=>Object['prototype'][_0x277a21(0x3aa)]['call'](_0x841636,_0x4928d9),_0x90a358['r']=_0x7449a3=>{const _0xd3e9fb=_0x277a21;_0xd3e9fb(0x3bb)!=typeof Symbol&&Symbol[_0xd3e9fb(0x4e5)]&&Object['defineProperty'](_0x7449a3,Symbol[_0xd3e9fb(0x4e5)],{'value':_0xd3e9fb(0x411)}),Object['defineProperty'](_0x7449a3,_0xd3e9fb(0x3ba),{'value':!0x0});};var _0x58ae7a={};return((()=>{const _0x440fb7=_0x277a21;var _0x10e0db,_0x399927,_0x119d00,_0x220ad7,_0x1afea7,_0x14ca27,_0x274936,_0x1ba8b6,_0x233447;_0x90a358['r'](_0x58ae7a),_0x90a358['d'](_0x58ae7a,{'ContentType':()=>_0x14ca27,'DatabaseEvent':()=>_0x220ad7,'KeyValueDatabase':()=>_0x1aa85d,'LayoutBuilder':()=>_0x1df388,'LoggingChannels':()=>_0x233447,'MediaStreamPriority':()=>_0x274936,'ObjectKind':()=>_0x10e0db,'PayloadAction':()=>_0x399927,'QueryBuilder':()=>_0x50b16d,'SDK':()=>_0x49a883,'SDKClientErrorCodes':()=>_0x1afea7,'StorageEventType':()=>_0x119d00,'logger':()=>_0x571f6a}),function(_0x19e798){const _0x94d40a=a0_0x2287;_0x19e798[_0x94d40a(0x432)]='file',_0x19e798['Folder']=_0x94d40a(0x667);}(_0x10e0db||(_0x10e0db={})),function(_0xac465e){const _0x5c1ec5=a0_0x2287;_0xac465e['File']=_0x5c1ec5(0x309),_0xac465e[_0x5c1ec5(0x22e)]=_0x5c1ec5(0x667),_0xac465e[_0x5c1ec5(0x3ae)]=_0x5c1ec5(0x731);}(_0x399927||(_0x399927={})),function(_0x441319){const _0x1e4fe0=a0_0x2287;_0x441319[_0x1e4fe0(0x371)]='file-write',_0x441319[_0x1e4fe0(0x522)]=_0x1e4fe0(0x39b),_0x441319[_0x1e4fe0(0x71c)]='file-move',_0x441319[_0x1e4fe0(0x62b)]=_0x1e4fe0(0x4af),_0x441319[_0x1e4fe0(0x5c5)]=_0x1e4fe0(0x577),_0x441319[_0x1e4fe0(0x48e)]=_0x1e4fe0(0x745);}(_0x119d00||(_0x119d00={})),function(_0x2dbff8){const _0x35fb1a=a0_0x2287;_0x2dbff8[_0x35fb1a(0x300)]=_0x35fb1a(0x590);}(_0x220ad7||(_0x220ad7={})),function(_0x41f3a4){const _0x318dc5=a0_0x2287;_0x41f3a4[_0x318dc5(0x6fd)]=_0x318dc5(0x58a),_0x41f3a4['ObjectStoreAlreadyExists']=_0x318dc5(0x6bb),_0x41f3a4['ObjectStoreAlreadySubscribed']=_0x318dc5(0x5d4),_0x41f3a4[_0x318dc5(0x4d8)]=_0x318dc5(0x6f1),_0x41f3a4['ObjectStoreNameNotString']=_0x318dc5(0x638),_0x41f3a4[_0x318dc5(0x65a)]=_0x318dc5(0x3ea),_0x41f3a4[_0x318dc5(0x4c6)]=_0x318dc5(0x3cc),_0x41f3a4[_0x318dc5(0x29a)]='object-store-not-in-sync',_0x41f3a4[_0x318dc5(0x64a)]='internal-sdk-error',_0x41f3a4['KeyValueDatabaseAlreadyExists']=_0x318dc5(0x63e),_0x41f3a4[_0x318dc5(0x5da)]=_0x318dc5(0x726),_0x41f3a4['KeyValueDatabaseIndexNotFound']=_0x318dc5(0x566),_0x41f3a4[_0x318dc5(0x4d0)]='key-value-database-invalid-query',_0x41f3a4['KeyValueDatabaseInvalidValue']=_0x318dc5(0x2b8),_0x41f3a4['KeyValueDatabaseNameNotString']=_0x318dc5(0x1d1),_0x41f3a4['KeyValueDatabaseNotOpen']=_0x318dc5(0x6ff),_0x41f3a4[_0x318dc5(0x3c5)]=_0x318dc5(0x1d0),_0x41f3a4['KeyValueDatabaseTableNotFound']=_0x318dc5(0x4d7),_0x41f3a4[_0x318dc5(0x403)]=_0x318dc5(0x4c0),_0x41f3a4[_0x318dc5(0x74d)]='local-media-stream-already-exists',_0x41f3a4[_0x318dc5(0x1eb)]=_0x318dc5(0x762),_0x41f3a4[_0x318dc5(0x4a9)]=_0x318dc5(0x686),_0x41f3a4[_0x318dc5(0x413)]='pub-sub-topic-name-not-string',_0x41f3a4[_0x318dc5(0x687)]=_0x318dc5(0x483),_0x41f3a4[_0x318dc5(0x475)]=_0x318dc5(0x3c2),_0x41f3a4[_0x318dc5(0x34c)]=_0x318dc5(0x24e),_0x41f3a4[_0x318dc5(0x5f8)]=_0x318dc5(0x2ce),_0x41f3a4[_0x318dc5(0x54c)]=_0x318dc5(0x744),_0x41f3a4[_0x318dc5(0x50e)]=_0x318dc5(0x6ab);}(_0x1afea7||(_0x1afea7={}));class _0x40d3d5 extends Error{[_0x440fb7(0x42a)];constructor(_0x217a35,_0x5a7ff2){const _0x4ba66a=_0x440fb7;super(_0x5a7ff2),this[_0x4ba66a(0x42a)]=_0x217a35;}}function _0x2ed8a1(_0x48f97d){const _0x109975=_0x440fb7;if(!_0x48f97d)throw new _0x40d3d5(_0x1afea7['RemoteMediaStreamInvalidSubscriptionParams'],_0x109975(0x6a0));if(_0x109975(0x685)!=typeof _0x48f97d)throw new _0x40d3d5(_0x1afea7[_0x109975(0x5f8)],_0x109975(0x6a0));const _0x11a6f4=_0x48f97d;if(_0x11a6f4['video']&&_0x109975(0x3bc)!=typeof _0x11a6f4[_0x109975(0x2c7)]){if(_0x11a6f4[_0x109975(0x2c7)][_0x109975(0x3f1)]&&(_0x109975(0x588)!=typeof _0x11a6f4['video'][_0x109975(0x3f1)]['width']||_0x109975(0x588)!=typeof _0x11a6f4[_0x109975(0x2c7)][_0x109975(0x3f1)]['height']))throw new _0x40d3d5(_0x1afea7[_0x109975(0x5f8)],_0x109975(0x35a));if(_0x11a6f4[_0x109975(0x2c7)]['renderElement']&&!(_0x11a6f4[_0x109975(0x2c7)][_0x109975(0x220)]instanceof HTMLVideoElement))throw new _0x40d3d5(_0x1afea7[_0x109975(0x5f8)],'Invalid\x20render\x20element');}return!0x0;}!function(_0x4b8aee){const _0x12be59=_0x440fb7;_0x4b8aee[_0x12be59(0x5b0)]=_0x12be59(0x2f8),_0x4b8aee['Media']='media',_0x4b8aee[_0x12be59(0x432)]=_0x12be59(0x309),_0x4b8aee[_0x12be59(0x523)]=_0x12be59(0x3b1),_0x4b8aee['ObjectStore']=_0x12be59(0x757),_0x4b8aee[_0x12be59(0x488)]='keyvaluedatabase';}(_0x14ca27||(_0x14ca27={})),function(_0x341617){const _0x5ba40b=_0x440fb7;_0x341617[_0x341617[_0x5ba40b(0x6c2)]=0x1]=_0x5ba40b(0x6c2),_0x341617[_0x341617[_0x5ba40b(0x3f6)]=0x2]='Default',_0x341617[_0x341617['Low']=0x3]=_0x5ba40b(0x66b);}(_0x274936||(_0x274936={})),function(_0x22cfc8){const _0x125a47=_0x440fb7;_0x22cfc8['PubSub']=_0x125a47(0x3b1),_0x22cfc8[_0x125a47(0x24c)]=_0x125a47(0x569),_0x22cfc8[_0x125a47(0x488)]=_0x125a47(0x3b3),_0x22cfc8['MediaStream']=_0x125a47(0x28b);}(_0x1ba8b6||(_0x1ba8b6={})),function(_0x35f63a){const _0x5d4aeb=_0x440fb7;_0x35f63a[_0x5d4aeb(0x320)]=_0x5d4aeb(0x5f2),_0x35f63a[_0x5d4aeb(0x3f6)]=_0x5d4aeb(0x30d),_0x35f63a[_0x5d4aeb(0x5dd)]=_0x5d4aeb(0x4f9),_0x35f63a[_0x5d4aeb(0x6a7)]=_0x5d4aeb(0x6e4),_0x35f63a['Cluster']=_0x5d4aeb(0x5a5),_0x35f63a[_0x5d4aeb(0x740)]=_0x5d4aeb(0x6bd),_0x35f63a[_0x5d4aeb(0x2cd)]=_0x5d4aeb(0x5e0),_0x35f63a[_0x5d4aeb(0x449)]=_0x5d4aeb(0x6f3),_0x35f63a['Error']=_0x5d4aeb(0x1d8),_0x35f63a[_0x5d4aeb(0x227)]=_0x5d4aeb(0x42f),_0x35f63a[_0x5d4aeb(0x77a)]=_0x5d4aeb(0x36c),_0x35f63a[_0x5d4aeb(0x523)]=_0x5d4aeb(0x3b1),_0x35f63a[_0x5d4aeb(0x583)]='remediation',_0x35f63a[_0x5d4aeb(0x27e)]=_0x5d4aeb(0x558),_0x35f63a[_0x5d4aeb(0x725)]=_0x5d4aeb(0x2c1),_0x35f63a[_0x5d4aeb(0x580)]=_0x5d4aeb(0x41c),_0x35f63a['Support']=_0x5d4aeb(0x2fb),_0x35f63a[_0x5d4aeb(0x5bd)]=_0x5d4aeb(0x701),_0x35f63a['SystemStats']=_0x5d4aeb(0x5bc),_0x35f63a[_0x5d4aeb(0x73e)]=_0x5d4aeb(0x5df),_0x35f63a[_0x5d4aeb(0x46e)]='webrtc';}(_0x233447||(_0x233447={}));class _0x50b16d{[_0x440fb7(0x5f6)];constructor(_0x422e0b){const _0x10c9b1=_0x440fb7;this[_0x10c9b1(0x5f6)]={'orderBy':{'key':_0x422e0b,'direction':_0x10c9b1(0x73a)}};}static[_0x440fb7(0x2de)](_0x3dfa92){const _0x556d3b=_0x440fb7;if(_0x556d3b(0x5af)!=typeof _0x3dfa92||0x0===_0x3dfa92[_0x556d3b(0x382)])throw new _0x40d3d5(_0x1afea7[_0x556d3b(0x475)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x50b16d(_0x3dfa92);}static[_0x440fb7(0x6f8)](_0x1824b4){const _0x149690=_0x440fb7;try{return _0x50b16d[_0x149690(0x469)](_0x1824b4),!0x0;}catch(_0x2a3aa2){return!0x1;}}static[_0x440fb7(0x469)](_0x523f64){const _0x41739a=_0x440fb7,_0x189136=_0x50b16d[_0x41739a(0x2de)](_0x523f64[_0x41739a(0x470)]?.[_0x41739a(0x668)]??_0x523f64[_0x41739a(0x543)]?.[_0x41739a(0x668)]??'');if(_0x523f64[_0x41739a(0x543)]){const _0x458e9d=_0x523f64[_0x41739a(0x543)];if((_0x50b16d[_0x41739a(0x1ff)](_0x458e9d)||_0x50b16d[_0x41739a(0x6c3)](_0x458e9d)||_0x50b16d[_0x41739a(0x650)](_0x458e9d))&&_0x189136['where'](_0x458e9d['operator'],_0x458e9d[_0x41739a(0x3f0)]),_0x523f64['orderBy']?.[_0x41739a(0x668)]&&_0x523f64['orderBy']?.[_0x41739a(0x668)]!==_0x523f64[_0x41739a(0x543)][_0x41739a(0x668)])throw new _0x40d3d5(_0x1afea7[_0x41739a(0x475)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x523f64[_0x41739a(0x470)]&&_0x189136[_0x41739a(0x470)](_0x523f64[_0x41739a(0x470)]['direction']),_0x523f64['limit']&&_0x189136[_0x41739a(0x329)](_0x523f64[_0x41739a(0x329)]),_0x523f64[_0x41739a(0x640)]&&_0x189136[_0x41739a(0x640)](_0x523f64[_0x41739a(0x640)]),_0x189136;}[_0x440fb7(0x1e6)](){const _0x2977b2=_0x440fb7;return{...this[_0x2977b2(0x5f6)]};}[_0x440fb7(0x543)](_0x3af368,_0x1f4ee6){const _0x1fd0ff=_0x440fb7,_0x46a7ac={'key':this['query'][_0x1fd0ff(0x470)][_0x1fd0ff(0x668)],'operator':_0x3af368,'value':_0x1f4ee6};if(!_0x50b16d[_0x1fd0ff(0x1ff)](_0x46a7ac)&&!_0x50b16d[_0x1fd0ff(0x6c3)](_0x46a7ac)&&!_0x50b16d[_0x1fd0ff(0x650)](_0x46a7ac))throw new _0x40d3d5(_0x1afea7[_0x1fd0ff(0x475)],_0x1fd0ff(0x2c8));return this[_0x1fd0ff(0x5f6)][_0x1fd0ff(0x543)]=_0x46a7ac,this;}['orderBy'](_0x228411){const _0x1020dd=_0x440fb7;if(_0x1020dd(0x73a)!==_0x228411&&_0x1020dd(0x727)!==_0x228411)throw new _0x40d3d5(_0x1afea7[_0x1020dd(0x475)],_0x1020dd(0x253));return this[_0x1020dd(0x5f6)][_0x1020dd(0x470)]['direction']=_0x228411,this;}[_0x440fb7(0x329)](_0x567c3e){const _0x1e666c=_0x440fb7;if(_0x1e666c(0x588)!=typeof _0x567c3e||_0x567c3e<0x0)throw new _0x40d3d5(_0x1afea7[_0x1e666c(0x475)],_0x1e666c(0x589));return this[_0x1e666c(0x5f6)][_0x1e666c(0x329)]=_0x567c3e,this;}['offset'](_0x8272fb){const _0xb8c6d4=_0x440fb7;if(_0xb8c6d4(0x588)!=typeof _0x8272fb||_0x8272fb<0x0)throw new _0x40d3d5(_0x1afea7[_0xb8c6d4(0x475)],_0xb8c6d4(0x571));return this[_0xb8c6d4(0x5f6)][_0xb8c6d4(0x640)]=_0x8272fb,this;}static[_0x440fb7(0x1ff)](_0x1fbd93){const _0x2a91e8=_0x440fb7;if(!(_0x1fbd93&&'object'==typeof _0x1fbd93&&_0x2a91e8(0x616)in _0x1fbd93&&_0x2a91e8(0x3f0)in _0x1fbd93))return!0x1;const {operator:_0x34d875,value:_0x25eab9}=_0x1fbd93;return!(!['==','!=','>','<','<=','>='][_0x2a91e8(0x63d)](_0x34d875)||Array[_0x2a91e8(0x364)](_0x25eab9));}static[_0x440fb7(0x6c3)](_0x319ef7){const _0x1f2640=_0x440fb7;if(!(_0x319ef7&&_0x1f2640(0x685)==typeof _0x319ef7&&_0x1f2640(0x616)in _0x319ef7&&_0x1f2640(0x3f0)in _0x319ef7))return!0x1;const {operator:_0x2916d6,value:_0x56f217}=_0x319ef7;return!(!['in',_0x1f2640(0x6ae)][_0x1f2640(0x63d)](_0x2916d6)||!Array[_0x1f2640(0x364)](_0x56f217));}static[_0x440fb7(0x650)](_0x31ae5a){const _0xf4ae56=_0x440fb7;if(!(_0x31ae5a&&_0xf4ae56(0x685)==typeof _0x31ae5a&&_0xf4ae56(0x616)in _0x31ae5a&&_0xf4ae56(0x3f0)in _0x31ae5a))return!0x1;const {operator:_0x5305ce,value:_0x3bebb3}=_0x31ae5a;return!('between'!==_0x5305ce||!Array[_0xf4ae56(0x364)](_0x3bebb3)||0x2!==_0x3bebb3['length']);}}class _0x1df388{[_0x440fb7(0x542)];constructor(_0x3be6c0){const _0x36edbc=_0x440fb7;this[_0x36edbc(0x542)]={'tables':{},'version':_0x3be6c0};}static[_0x440fb7(0x59a)](_0x14a9a1){const _0x182dab=_0x440fb7;for(const _0x3cbb34 in _0x14a9a1){if('version'!==_0x3cbb34&&_0x182dab(0x34e)!==_0x3cbb34)return[!0x1,_0x182dab(0x548)+_0x3cbb34+_0x182dab(0x504)];if(_0x182dab(0x34e)===_0x3cbb34)for(const _0x1b2563 in _0x14a9a1[_0x182dab(0x34e)]){if(_0x182dab(0x5af)!=typeof _0x1b2563)return[!0x1,_0x182dab(0x5c3)+_0x1b2563+'\x27'];for(const _0x5d6797 in _0x14a9a1[_0x182dab(0x34e)][_0x1b2563]){if(_0x182dab(0x396)!==_0x5d6797)return[!0x1,'Invalid\x20key\x20\x27'+_0x5d6797+_0x182dab(0x6fa)+_0x1b2563+'\x27'];const _0x5863e5=_0x14a9a1['tables'][_0x1b2563][_0x5d6797]??[];for(const _0x757e5d of _0x5863e5)if(void 0x0===_0x757e5d[_0x182dab(0x4b7)]||'string'!=typeof _0x757e5d[_0x182dab(0x4b7)])return[!0x1,_0x182dab(0x60c)+_0x1b2563+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x182dab(0x455)===_0x3cbb34&&'number'!=typeof _0x14a9a1[_0x3cbb34])return[!0x1,'Invalid\x20version\x20\x27'+_0x14a9a1[_0x3cbb34]+_0x182dab(0x4be)];}}return[!0x0,_0x182dab(0x53b)];}static[_0x440fb7(0x542)](_0x1ef08e){const _0x371622=_0x440fb7,_0x157d21=new _0x1df388(_0x1ef08e);return _0x157d21[_0x371622(0x542)][_0x371622(0x455)]=_0x1ef08e,_0x157d21;}[_0x440fb7(0x4bb)](_0x194966){const _0x5112a2=_0x440fb7;return this['layout'][_0x5112a2(0x34e)][_0x194966]={},new _0x702a90(this['layout'][_0x5112a2(0x34e)][_0x194966]);}[_0x440fb7(0x6d9)](){const _0x503490=_0x440fb7;return this[_0x503490(0x542)];}}class _0x702a90{[_0x440fb7(0x410)];constructor(_0x185704){const _0x93cda5=_0x440fb7;this[_0x93cda5(0x410)]=_0x185704;}['index'](_0x3d769a){const _0x476d2b=_0x440fb7;return this[_0x476d2b(0x410)][_0x476d2b(0x396)]=this[_0x476d2b(0x410)][_0x476d2b(0x396)]??[],this[_0x476d2b(0x410)][_0x476d2b(0x396)][_0x476d2b(0x4e0)]({'keyPath':_0x3d769a}),this;}}const _0x2a1e25=_0x440fb7(0x3a7),_0x2a94ea=_0x440fb7(0x525),_0x3715a4=_0x440fb7(0x5e6),_0x242c46=0x7530,_0x513fd0=_0x440fb7(0x418);var _0x4e7043;!function(_0x27af08){const _0x594db2=_0x440fb7;_0x27af08['ConnectionNotinitialized']='connection-not-initialized',_0x27af08[_0x594db2(0x6b9)]=_0x594db2(0x362),_0x27af08['ConnectionNoRetryQueue']=_0x594db2(0x6ac),_0x27af08['ConnectionInvalidDataEvent']=_0x594db2(0x722),_0x27af08[_0x594db2(0x507)]=_0x594db2(0x688),_0x27af08['ObjectStoreInvalidSyncMessage']=_0x594db2(0x4ff),_0x27af08['ObjectStoreNotSynced']=_0x594db2(0x2ae),_0x27af08['InvalidDataChannel']=_0x594db2(0x433),_0x27af08[_0x594db2(0x6df)]=_0x594db2(0x603),_0x27af08[_0x594db2(0x327)]='invalid-subscriber',_0x27af08[_0x594db2(0x36d)]='invalid-subscription',_0x27af08[_0x594db2(0x36a)]=_0x594db2(0x51f),_0x27af08[_0x594db2(0x466)]='key-value-database-table-does-not-exist',_0x27af08[_0x594db2(0x2bb)]=_0x594db2(0x4cf),_0x27af08[_0x594db2(0x591)]=_0x594db2(0x306),_0x27af08[_0x594db2(0x326)]=_0x594db2(0x56b),_0x27af08[_0x594db2(0x36f)]='missing-incoming-connection',_0x27af08[_0x594db2(0x5f7)]='missing-system-topic',_0x27af08[_0x594db2(0x503)]=_0x594db2(0x233),_0x27af08[_0x594db2(0x1d5)]='remote-stream-does-not-exist',_0x27af08[_0x594db2(0x48d)]=_0x594db2(0x4ec),_0x27af08[_0x594db2(0x348)]=_0x594db2(0x35e),_0x27af08[_0x594db2(0x3b2)]=_0x594db2(0x289),_0x27af08[_0x594db2(0x5bf)]=_0x594db2(0x2e1),_0x27af08[_0x594db2(0x3e0)]='subscription-request-no-answer',_0x27af08[_0x594db2(0x515)]='user-does-not-exist',_0x27af08[_0x594db2(0x38e)]=_0x594db2(0x414),_0x27af08[_0x594db2(0x368)]=_0x594db2(0x500);}(_0x4e7043||(_0x4e7043={}));const _0x164280=new Map([[_0x4e7043[_0x440fb7(0x391)],_0x440fb7(0x2fc)],[_0x4e7043[_0x440fb7(0x6b9)],_0x440fb7(0x20d)],[_0x4e7043[_0x440fb7(0x71d)],_0x440fb7(0x24d)],[_0x4e7043[_0x440fb7(0x6bc)],_0x440fb7(0x5e5)],[_0x4e7043[_0x440fb7(0x507)],_0x440fb7(0x4ed)],[_0x4e7043[_0x440fb7(0x480)],_0x440fb7(0x529)],[_0x4e7043[_0x440fb7(0x37d)],'Object\x20store\x20not\x20synced.'],[_0x4e7043[_0x440fb7(0x71a)],'Invalid\x20data\x20chan_NO_RENAMEENAl.'],[_0x4e7043[_0x440fb7(0x6df)],'Invalid\x20publisher.'],[_0x4e7043[_0x440fb7(0x327)],_0x440fb7(0x3ff)],[_0x4e7043[_0x440fb7(0x36d)],'Invalid\x20subscription.'],[_0x4e7043[_0x440fb7(0x36a)],_0x440fb7(0x62f)],[_0x4e7043['KeyValueDatabaseTableDoesNotExist'],_0x440fb7(0x311)],[_0x4e7043[_0x440fb7(0x2bb)],_0x440fb7(0x545)],[_0x4e7043['KeyValueDatabaseTransactionValueNotSet'],_0x440fb7(0x1e9)],[_0x4e7043[_0x440fb7(0x326)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x4e7043[_0x440fb7(0x36f)],_0x440fb7(0x700)],[_0x4e7043[_0x440fb7(0x5f7)],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x4e7043[_0x440fb7(0x503)],_0x440fb7(0x55f)],[_0x4e7043[_0x440fb7(0x1d5)],_0x440fb7(0x65f)],[_0x4e7043[_0x440fb7(0x48d)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x4e7043[_0x440fb7(0x348)],_0x440fb7(0x72b)],[_0x4e7043[_0x440fb7(0x3b2)],_0x440fb7(0x779)],[_0x4e7043[_0x440fb7(0x5bf)],_0x440fb7(0x230)],[_0x4e7043[_0x440fb7(0x3e0)],_0x440fb7(0x318)],[_0x4e7043[_0x440fb7(0x515)],_0x440fb7(0x704)],[_0x4e7043[_0x440fb7(0x38e)],'User\x20already\x20exists.'],[_0x4e7043[_0x440fb7(0x368)],_0x440fb7(0x5a6)]]);class _0x717bed extends Error{[_0x440fb7(0x42a)];static [_0x440fb7(0x6dc)]=_0x4e7043;[_0x440fb7(0x2f8)];constructor(_0xa0f053,_0x48c2be){const _0x3a41cf=_0x440fb7;super(_0x3a41cf(0x26f)+_0xa0f053+':\x20'+_0x164280[_0x3a41cf(0x39a)](_0xa0f053)+_0x3a41cf(0x5b6)+JSON[_0x3a41cf(0x6d2)](_0x48c2be)),this[_0x3a41cf(0x42a)]=_0xa0f053,this['data']=_0x48c2be||{};}}var _0x1ee405,_0x1680a0,_0x5eac2f,_0x443cd8,_0x444549,_0x5a2832;!function(_0x5a472e){const _0x190da0=_0x440fb7;_0x5a472e[_0x5a472e[_0x190da0(0x2ab)]=0x0]=_0x190da0(0x2ab),_0x5a472e[_0x5a472e['UnpublishMediaStream']=0x1]=_0x190da0(0x526),_0x5a472e[_0x5a472e[_0x190da0(0x40a)]=0x2]=_0x190da0(0x40a),_0x5a472e[_0x5a472e[_0x190da0(0x376)]=0x3]=_0x190da0(0x376),_0x5a472e[_0x5a472e['UnsubscribeMediaStream']=0x4]='UnsubscribeMediaStream',_0x5a472e[_0x5a472e[_0x190da0(0x343)]=0x5]=_0x190da0(0x343),_0x5a472e[_0x5a472e['CloseKeyValueDatabase']=0x6]=_0x190da0(0x55d),_0x5a472e[_0x5a472e[_0x190da0(0x1db)]=0x7]=_0x190da0(0x1db),_0x5a472e[_0x5a472e[_0x190da0(0x374)]=0x8]=_0x190da0(0x374),_0x5a472e[_0x5a472e['LocalMediaStreamTrackFail']=0x9]='LocalMediaStreamTrackFail',_0x5a472e[_0x5a472e[_0x190da0(0x27c)]=0xa]=_0x190da0(0x27c),_0x5a472e[_0x5a472e[_0x190da0(0x361)]=0xb]=_0x190da0(0x361),_0x5a472e[_0x5a472e[_0x190da0(0x68a)]=0xc]='SendTransactionsDump',_0x5a472e[_0x5a472e['RequestTransactionsValue']=0xd]='RequestTransactionsValue',_0x5a472e[_0x5a472e[_0x190da0(0x56e)]=0xe]=_0x190da0(0x56e),_0x5a472e[_0x5a472e[_0x190da0(0x2ed)]=0xf]=_0x190da0(0x2ed),_0x5a472e[_0x5a472e[_0x190da0(0x6a2)]=0x10]='KeyValueDatabaseStats';}(_0x1ee405||(_0x1ee405={})),function(_0x44869b){const _0x5d41eb=_0x440fb7;_0x44869b[_0x5d41eb(0x371)]=_0x5d41eb(0x214),_0x44869b[_0x5d41eb(0x62b)]=_0x5d41eb(0x4af),_0x44869b['Delete']='delete',_0x44869b[_0x5d41eb(0x3ae)]=_0x5d41eb(0x731),_0x44869b[_0x5d41eb(0x38a)]=_0x5d41eb(0x427),_0x44869b[_0x5d41eb(0x547)]=_0x5d41eb(0x70a),_0x44869b[_0x5d41eb(0x2c5)]=_0x5d41eb(0x6cd),_0x44869b['RequestFileWrite']='request-file-write';}(_0x1680a0||(_0x1680a0={})),function(_0x329e80){const _0x4d7309=_0x440fb7;_0x329e80[_0x4d7309(0x48c)]=_0x4d7309(0x22c),_0x329e80['Transaction']='transaction';}(_0x5eac2f||(_0x5eac2f={})),function(_0x17171c){const _0x16463a=_0x440fb7;_0x17171c[_0x16463a(0x69c)]='add',_0x17171c[_0x16463a(0x6ce)]=_0x16463a(0x30b),_0x17171c[_0x16463a(0x3fd)]='delete';}(_0x443cd8||(_0x443cd8={})),function(_0x4b9374){const _0x5cdb3e=_0x440fb7;_0x4b9374[_0x5cdb3e(0x4e6)]=_0x5cdb3e(0x39a),_0x4b9374[_0x5cdb3e(0x3fe)]='list',_0x4b9374[_0x5cdb3e(0x52c)]=_0x5cdb3e(0x702);}(_0x444549||(_0x444549={})),function(_0xbdb5c4){const _0x26e95e=_0x440fb7;_0xbdb5c4[_0xbdb5c4['WebRTC']=0x0]='WebRTC',_0xbdb5c4[_0xbdb5c4[_0x26e95e(0x227)]=0x1]='Node',_0xbdb5c4[_0xbdb5c4[_0x26e95e(0x740)]=0x2]=_0x26e95e(0x740),_0xbdb5c4[_0xbdb5c4[_0x26e95e(0x580)]=0x3]=_0x26e95e(0x580),_0xbdb5c4[_0xbdb5c4[_0x26e95e(0x725)]=0x4]='Stats',_0xbdb5c4[_0xbdb5c4[_0x26e95e(0x2cd)]=0x5]=_0x26e95e(0x2cd),_0xbdb5c4[_0xbdb5c4['Remediation']=0x6]=_0x26e95e(0x583);}(_0x5a2832||(_0x5a2832={}));class _0x1d30bd{[_0x440fb7(0x718)];['label'];['systemTopic'];constructor(_0x226ab7,_0x4a18bd){const _0x4002b1=_0x440fb7;this[_0x4002b1(0x718)]=_0x226ab7,this[_0x4002b1(0x474)]=_0x4a18bd;}[_0x440fb7(0x254)](){const _0x5537f2=_0x440fb7;return this[_0x5537f2(0x474)];}[_0x440fb7(0x417)](){const _0x3d3b1e=_0x440fb7;return this[_0x3d3b1e(0x718)];}['destroy'](){}[_0x440fb7(0x5c1)](_0x52afb1){const _0x5d49b4=_0x440fb7;this[_0x5d49b4(0x464)]=_0x52afb1;}[_0x440fb7(0x74f)](){const _0x31ee86=_0x440fb7;delete this[_0x31ee86(0x464)];}}function _0x2373f1(_0x262de6,_0x37b5a3){return'/'===_0x262de6?_0x262de6+_0x37b5a3:_0x262de6+'/'+_0x37b5a3;}function _0x5dadd6(_0x969c2b){const _0x1625ac=_0x440fb7,_0x43102b=function(_0x45cb0e){const _0x7acd8=a0_0x2287;return _0x45cb0e[_0x7acd8(0x61b)]('/')[_0x7acd8(0x5ae)](_0xaba4b0=>_0xaba4b0[_0x7acd8(0x382)]>0x0);}(_0x969c2b),_0x234cc3=_0x43102b[_0x1625ac(0x20a)]()||'',_0x2995a2=_0x43102b[_0x1625ac(0x1da)]('/');return[0x0===_0x2995a2['length']?'/':_0x2995a2,_0x234cc3];}async function _0x525e01(_0x3f708e){const _0x4821ec=_0x440fb7,_0x3b0d8d=await _0x3f708e[_0x4821ec(0x58c)](),_0x4aec56=new Uint8Array(_0x3b0d8d);let _0x3e9df1=0x0;for(const _0x134391 of _0x4aec56)_0x3e9df1+=_0x134391;return _0x3e9df1[_0x4821ec(0x2bc)]();}function _0x4e9d7b(_0x3a7dc2){return new Promise((_0x34396e,_0x56b3f6)=>{!function(_0x36179c,_0x283cce,_0x4f0971){let _0x18e11a=0x0;const _0x7c544c=[],_0x2acd2c=()=>{const _0x14ee98=a0_0x2287;let _0x1da56f=_0x18e11a+0x3f800;_0x1da56f>_0x36179c[_0x14ee98(0x264)]&&(_0x1da56f=_0x36179c[_0x14ee98(0x264)]);let _0xf75011=_0x36179c['slice'](_0x18e11a,_0x1da56f),_0x3a46f=new FileReader();_0x3a46f[_0x14ee98(0x28c)]=_0x423cb7=>{const _0x58ea6c=_0x14ee98;_0x7c544c[_0x58ea6c(0x4e0)](_0x3a46f[_0x58ea6c(0x208)]),_0x18e11a=_0x1da56f,_0x18e11a<_0x36179c[_0x58ea6c(0x264)]?_0x2acd2c():_0x283cce(_0x7c544c);},_0x3a46f[_0x14ee98(0x36b)]=_0x442834=>{_0x4f0971(_0x442834);},_0x3a46f['readAsArrayBuffer'](_0xf75011);};_0x2acd2c();}(_0x3a7dc2,_0x34396e,_0x56b3f6);});}function _0x447672(_0x291156,_0x324c6d,_0x167e1d){return new File(_0x291156,_0x324c6d,{'type':_0x167e1d});}class _0x288ad9 extends _0x1d30bd{[_0x440fb7(0x5a3)];['incomingTopic'];[_0x440fb7(0x607)]=new Map();['messagesSent']=0x0;[_0x440fb7(0x771)]=0x0;[_0x440fb7(0x23f)]=0x0;['bytesReceived']=0x0;constructor(_0xf0adae,_0x418822){super(_0xf0adae,_0x418822);}[_0x440fb7(0x254)](){const _0x2cd00f=_0x440fb7;return this[_0x2cd00f(0x474)];}[_0x440fb7(0x281)](){const _0x4055b6=_0x440fb7;return this[_0x4055b6(0x474)];}['getContentType'](){const _0xc102ed=_0x440fb7;return _0x14ca27[_0xc102ed(0x5b0)];}[_0x440fb7(0x626)](){const _0x8d4ae=_0x440fb7;return this[_0x8d4ae(0x474)];}['registerPublisher'](_0x57a5f7){const _0x4ae6f1=_0x440fb7;if(this['outgoingTopic'])throw new _0x717bed(_0x717bed['codes'][_0x4ae6f1(0x6df)],{'message':_0x4ae6f1(0x443)+this[_0x4ae6f1(0x718)]+_0x4ae6f1(0x3c3)+this[_0x4ae6f1(0x474)],'topic':this[_0x4ae6f1(0x5a3)]});this[_0x4ae6f1(0x5a3)]=_0x57a5f7;}[_0x440fb7(0x4f4)](_0x5c33fc){const _0x5bd65b=_0x440fb7;if(this[_0x5bd65b(0x428)])throw new _0x717bed(_0x717bed[_0x5bd65b(0x6dc)]['InvalidSubscriber'],{'message':_0x5bd65b(0x25f)+this['ownerId']+_0x5bd65b(0x3c3)+this[_0x5bd65b(0x474)],'topic':this['incomingTopic']});this[_0x5bd65b(0x428)]=_0x5c33fc;}[_0x440fb7(0x35b)](){delete this['outgoingTopic'];}[_0x440fb7(0x45c)](){delete this['incomingTopic'];}async[_0x440fb7(0x430)](_0x6c184f,_0x3743b2){const _0x4fed1d=_0x440fb7;if(this[_0x4fed1d(0x54e)]+=0x1,_0x6c184f instanceof File){const _0x39c793=await _0x4e9d7b(_0x6c184f);return this[_0x4fed1d(0x23f)]+=_0x39c793[_0x4fed1d(0x719)]((_0x12c45d,_0x163123)=>_0x12c45d+_0x163123[_0x4fed1d(0x4bf)],0x0),void _0x39c793['forEach']((_0x4b9559,_0x428692)=>{const _0x4e769f=_0x4fed1d;this[_0x4e769f(0x5a3)]['publish']({'sourceId':this[_0x4e769f(0x718)],'destinationIds':_0x3743b2,'propagate':!0x0,'contentType':_0x14ca27['File'],'content':{'name':_0x6c184f['name'],'type':_0x6c184f[_0x4e769f(0x637)],'data':_0x4b9559,'index':_0x428692,'total':_0x39c793['length']}});});}this[_0x4fed1d(0x23f)]+=JSON['stringify'](_0x6c184f)['length'],this[_0x4fed1d(0x5a3)][_0x4fed1d(0x764)]({'sourceId':this['ownerId'],'destinationIds':_0x3743b2,'propagate':!0x0,'contentType':_0x14ca27[_0x4fed1d(0x5b0)],'content':_0x6c184f});}[_0x440fb7(0x5d8)](_0x5e8bc3){const _0x2827e1=_0x440fb7;return this[_0x2827e1(0x428)][_0x2827e1(0x3af)](_0x3ab904=>{const _0x5076ee=_0x2827e1;switch(_0x3ab904['contentType']){case _0x14ca27[_0x5076ee(0x5b0)]:this[_0x5076ee(0x771)]+=0x1,this[_0x5076ee(0x1e2)]+=JSON[_0x5076ee(0x6d2)](_0x3ab904['content'])[_0x5076ee(0x382)],_0x5e8bc3(_0x3ab904[_0x5076ee(0x472)],_0x3ab904[_0x5076ee(0x6bd)]);break;case _0x14ca27[_0x5076ee(0x432)]:this[_0x5076ee(0x607)]['has'](_0x3ab904[_0x5076ee(0x6bd)]['name'])||this[_0x5076ee(0x607)]['set'](_0x3ab904['content'][_0x5076ee(0x5cc)],[]);const _0x46cb71=this[_0x5076ee(0x607)][_0x5076ee(0x39a)](_0x3ab904['content'][_0x5076ee(0x5cc)]);_0x46cb71[_0x3ab904[_0x5076ee(0x6bd)][_0x5076ee(0x2de)]]=_0x3ab904[_0x5076ee(0x6bd)][_0x5076ee(0x2f8)],_0x46cb71[_0x5076ee(0x382)]===_0x3ab904[_0x5076ee(0x6bd)][_0x5076ee(0x6f6)]&&(this[_0x5076ee(0x771)]+=0x1,this['bytesReceived']+=_0x46cb71[_0x5076ee(0x719)]((_0x1f062f,_0x8bab36)=>_0x1f062f+_0x8bab36[_0x5076ee(0x4bf)],0x0),_0x5e8bc3(_0x3ab904['sourceId'],_0x447672(_0x46cb71,_0x3ab904['content']['name'],_0x3ab904[_0x5076ee(0x6bd)][_0x5076ee(0x637)])),this[_0x5076ee(0x607)][_0x5076ee(0x528)](_0x3ab904[_0x5076ee(0x6bd)]['name']));}});}}function _0x548ac7(){const _0x18426e=_0x440fb7;let _0x1021bc=[];return{'subscribe':_0x5805ab=>(_0x1021bc[_0x18426e(0x4e0)](_0x5805ab),()=>{const _0x222718=_0x18426e;_0x1021bc=_0x1021bc[_0x222718(0x5ae)](_0x1a00d6=>_0x1a00d6!==_0x5805ab);}),'publish':_0x27275a=>{const _0x4a09fa=_0x18426e;_0x1021bc[_0x4a09fa(0x613)](_0x4b2b77=>_0x4b2b77(_0x27275a));}};}function _0x487683(){let _0x5ebe1b;return{'subscribe':_0x3113be=>(_0x5ebe1b=_0x3113be,()=>{_0x5ebe1b=void 0x0;}),'publish':_0x16b8ee=>{_0x5ebe1b&&_0x5ebe1b(_0x16b8ee);}};}class _0x53eb00{[_0x440fb7(0x25e)];['tableName'];['tableObserver'];[_0x440fb7(0x34d)]=_0x487683();['listenerUnsubscriber'];constructor(_0x8fc377,_0x1bf865,_0x2a0e3e){const _0x12a356=_0x440fb7;this['connector']=_0x8fc377,this[_0x12a356(0x41a)]=_0x1bf865,this[_0x12a356(0x288)]=_0x2a0e3e;}[_0x440fb7(0x3bd)](){const _0x43a8b2=_0x440fb7;this[_0x43a8b2(0x493)]?.();}async[_0x440fb7(0x39a)](_0x4c2b76){const _0x2de563=_0x440fb7,_0x39dbb2={'key':_0x4c2b76,'tableName':this[_0x2de563(0x41a)],'action':_0x444549[_0x2de563(0x4e6)]};return this[_0x2de563(0x288)]['publish'](_0x39dbb2),this[_0x2de563(0x25e)]['get'](_0x4c2b76);}async['set'](_0x3b91b3,_0x365172,_0x28dc82=!0x0){const _0x27a872=_0x440fb7;this[_0x27a872(0x1f7)](_0x365172);const _0x43cbec=await this['connector'][_0x27a872(0x39a)](_0x3b91b3),_0x5825a4=await this[_0x27a872(0x25e)][_0x27a872(0x442)](_0x3b91b3,_0x365172),_0x14fff5=_0x43cbec?_0x443cd8[_0x27a872(0x6ce)]:_0x443cd8[_0x27a872(0x69c)];if(this[_0x27a872(0x764)](_0x14fff5,_0x5825a4),!_0x28dc82)return _0x5825a4;const _0x481489={'key':_0x3b91b3,'tableName':this['tableName'],'action':_0x14fff5,'value':_0x5825a4};return this[_0x27a872(0x288)][_0x27a872(0x764)](_0x481489),_0x5825a4;}async[_0x440fb7(0x457)](_0x4a744a){const _0x2c27af=_0x440fb7;this[_0x2c27af(0x1f7)](_0x4a744a);const _0x39ec2c=await this[_0x2c27af(0x25e)][_0x2c27af(0x457)](_0x4a744a),_0x5c7978={'key':_0x39ec2c['id'],'tableName':this[_0x2c27af(0x41a)],'action':_0x443cd8[_0x2c27af(0x69c)],'value':_0x39ec2c};return this['tableObserver'][_0x2c27af(0x764)](_0x5c7978),this['publish'](_0x5c7978[_0x2c27af(0x3b9)],_0x39ec2c),_0x39ec2c;}async[_0x440fb7(0x528)](_0x418116,_0x5eeb5a=!0x0){const _0xeb680b=_0x440fb7,_0x4d98cf=await this[_0xeb680b(0x25e)][_0xeb680b(0x39a)](_0x418116);if(!_0x4d98cf)return;await this[_0xeb680b(0x25e)][_0xeb680b(0x528)](_0x418116);const _0x4924f4=_0x443cd8[_0xeb680b(0x3fd)];if(this[_0xeb680b(0x764)](_0x4924f4,_0x4d98cf),!_0x5eeb5a)return;const _0x460a51={'key':_0x418116,'tableName':this[_0xeb680b(0x41a)],'action':_0x4924f4,'value':_0x4d98cf};this[_0xeb680b(0x288)]['publish'](_0x460a51);}async['clear'](){const _0x54a5fb=_0x440fb7,_0x2bd41a=await this[_0x54a5fb(0x423)]();for(const _0x59aa49 of _0x2bd41a){const _0x20ec0c=_0x443cd8[_0x54a5fb(0x3fd)];this[_0x54a5fb(0x764)](_0x20ec0c,_0x59aa49);const _0x5c1017={'key':_0x59aa49['id'],'tableName':this[_0x54a5fb(0x41a)],'action':_0x20ec0c,'value':_0x59aa49};this[_0x54a5fb(0x288)][_0x54a5fb(0x764)](_0x5c1017);}return this['connector']['clear']();}async[_0x440fb7(0x423)](_0x3fa28c){const _0x296578=_0x440fb7,_0x3792fc={'key':'','tableName':this[_0x296578(0x41a)],'action':_0x444549[_0x296578(0x3fe)]};this[_0x296578(0x288)][_0x296578(0x764)](_0x3792fc);try{_0x3fa28c&&(_0x3fa28c=_0x3fa28c instanceof _0x50b16d?_0x3fa28c[_0x296578(0x1e6)]():_0x50b16d[_0x296578(0x469)](_0x3fa28c)[_0x296578(0x1e6)]());}catch(_0x41b853){throw new _0x40d3d5(_0x1afea7[_0x296578(0x4d0)],_0x296578(0x6cb));}try{return await this['connector'][_0x296578(0x423)](_0x3fa28c);}catch(_0x1f80b5){let _0x541f4a=_0x296578(0x6cb);throw _0x1f80b5 instanceof Error&&(_0x541f4a=_0x1f80b5[_0x296578(0x3a1)]),new _0x40d3d5(_0x1afea7['KeyValueDatabaseInvalidQuery'],_0x541f4a);}}async[_0x440fb7(0x702)](_0x4a0a91){const _0x643876=_0x440fb7,_0x3f60c9={'key':'','tableName':this[_0x643876(0x41a)],'action':_0x444549[_0x643876(0x52c)]};this[_0x643876(0x288)]['publish'](_0x3f60c9);try{_0x4a0a91&&(_0x4a0a91=_0x4a0a91 instanceof _0x50b16d?_0x4a0a91[_0x643876(0x1e6)]():_0x50b16d[_0x643876(0x469)](_0x4a0a91)[_0x643876(0x1e6)]());}catch(_0xf855fb){throw new _0x40d3d5(_0x1afea7['KeyValueDatabaseInvalidQuery'],_0x643876(0x6cb));}try{return await this[_0x643876(0x25e)][_0x643876(0x702)](_0x4a0a91);}catch(_0x387e7a){let _0xce3ee8='Invalid\x20query';throw _0x387e7a instanceof Error&&(_0xce3ee8=_0x387e7a['message']),new _0x40d3d5(_0x1afea7[_0x643876(0x4d0)],_0xce3ee8);}}[_0x440fb7(0x437)](){const _0x2dd0ce=_0x440fb7;return this['connector'][_0x2dd0ce(0x437)]();}[_0x440fb7(0x3af)](_0x1a0e19){const _0x4db99d=_0x440fb7;this['listenerUnsubscriber']=this['eventListener'][_0x4db99d(0x3af)](_0x1a0e19);}['unsubscribe'](){const _0x135d12=_0x440fb7;this[_0x135d12(0x493)]?.();}['publish'](_0x138fc9,_0x39eebb){const _0x16385f=_0x440fb7,_0x7ca228=this[_0x16385f(0x535)](_0x138fc9,_0x39eebb);this['eventListener']['publish'](_0x7ca228);}[_0x440fb7(0x535)](_0x302afd,_0xd283be){const _0x586d3f=_0x440fb7;let _0x1892f0;switch(_0x302afd){case _0x443cd8[_0x586d3f(0x69c)]:_0x1892f0=_0x586d3f(0x457);break;case _0x443cd8['Update']:_0x1892f0=_0x586d3f(0x30b);break;case _0x443cd8[_0x586d3f(0x3fd)]:_0x1892f0=_0x586d3f(0x528);}return{'action':_0x1892f0,'value':_0xd283be};}[_0x440fb7(0x1f7)](_0x33afcd){const _0x266fec=_0x440fb7;if(_0x266fec(0x685)!=typeof _0x33afcd||null===_0x33afcd)throw new _0x40d3d5(_0x1afea7[_0x266fec(0x30a)],_0x266fec(0x6b5));for(const _0x1bc1bc in _0x33afcd){const _0x2bd62d=_0x33afcd[_0x1bc1bc];if('object'!=typeof _0x2bd62d||_0x2bd62d instanceof Date){if(![_0x266fec(0x5af),_0x266fec(0x588),_0x266fec(0x3bc)][_0x266fec(0x63d)](typeof _0x2bd62d))throw new _0x40d3d5(_0x1afea7[_0x266fec(0x30a)],'Invalid\x20value.\x20Property\x20\x27'+_0x1bc1bc+_0x266fec(0x246));}else this[_0x266fec(0x1f7)](_0x2bd62d);}}}const _0xba4e71=require('firebase/app'),_0x3d5ab4=require('firebase/auth'),_0x2ddf83=require('firebase/database'),_0x299849=require('firebase/firestore'),_0x5172a0=require('firebase/functions');let _0x2c7d13=_0x90a358(0xa9)['q'];function _0x56000c(_0x58c814){const _0x2ecded=_0x440fb7;return!(!_0x58c814||_0x2ecded(0x685)!=typeof _0x58c814||Array[_0x2ecded(0x364)](_0x58c814));}_0x2c7d13=function _0x19883d(_0x13cc67,..._0x166065){const _0x606a40=_0x440fb7;if(!Array[_0x606a40(0x364)](_0x166065)||0x0===_0x166065[_0x606a40(0x382)])return _0x13cc67;const _0x44c4cd=_0x166065[_0x606a40(0x636)]();if(_0x56000c(_0x13cc67)&&_0x56000c(_0x44c4cd)){for(const _0xbda08 in _0x44c4cd)_0x56000c(_0x44c4cd[_0xbda08])?(_0x13cc67[_0xbda08]||Object[_0x606a40(0x6d5)](_0x13cc67,{[_0xbda08]:{}}),_0x19883d(_0x13cc67[_0xbda08],_0x44c4cd[_0xbda08])):Object[_0x606a40(0x6d5)](_0x13cc67,{[_0xbda08]:_0x44c4cd[_0xbda08]});}return _0x19883d(_0x13cc67,..._0x166065);}(_0x2c7d13,_0x90a358(0x1fc)['q']);const _0x31577e=_0x2c7d13;class _0x3109af{static [_0x440fb7(0x755)];[_0x440fb7(0x6dd)];[_0x440fb7(0x3d5)];[_0x440fb7(0x595)];[_0x440fb7(0x400)];[_0x440fb7(0x544)];[_0x440fb7(0x4fc)];constructor(){}static[_0x440fb7(0x679)](){const _0x180be9=_0x440fb7;return _0x3109af[_0x180be9(0x755)]||(_0x3109af[_0x180be9(0x755)]=new _0x3109af()),_0x3109af[_0x180be9(0x755)];}[_0x440fb7(0x63f)](){const _0x410228=_0x440fb7;return this[_0x410228(0x6dd)]||(this[_0x410228(0x6dd)]=(0x0,_0xba4e71[_0x410228(0x401)])(_0x31577e[_0x410228(0x363)])),this[_0x410228(0x6dd)];}[_0x440fb7(0x756)](){const _0x3a79d1=_0x440fb7;return this[_0x3a79d1(0x3d5)]||(this['auth']=(0x0,_0x3d5ab4[_0x3a79d1(0x756)])(this['getApp']())),this[_0x3a79d1(0x3d5)];}[_0x440fb7(0x354)](){const _0x221ee8=_0x440fb7;return this[_0x221ee8(0x595)]||(this[_0x221ee8(0x595)]=(0x0,_0x5172a0[_0x221ee8(0x354)])(this[_0x221ee8(0x63f)](),_0x31577e[_0x221ee8(0x363)][_0x221ee8(0x59c)])),this['functions'];}[_0x440fb7(0x715)](){const _0x203955=_0x440fb7;return this[_0x203955(0x400)]||(this['database']=(0x0,_0x2ddf83['getDatabase'])(this['getApp']())),this[_0x203955(0x400)];}[_0x440fb7(0x660)](){const _0x21d368=_0x440fb7;return this[_0x21d368(0x544)]||(this[_0x21d368(0x544)]=(0x0,_0x299849[_0x21d368(0x660)])(this[_0x21d368(0x63f)]())),this['firestore'];}async['getEstimatedTimestamp'](){const _0x354a3a=_0x440fb7;if(this[_0x354a3a(0x4fc)])return Date[_0x354a3a(0x635)]()+this[_0x354a3a(0x4fc)];const _0x2bd955=this[_0x354a3a(0x715)](),_0x9c3e9b=(0x0,_0x2ddf83[_0x354a3a(0x758)])(_0x2bd955,'.info/connected'),_0x39bc28=(0x0,_0x2ddf83[_0x354a3a(0x511)])(_0x9c3e9b,_0x2acc48=>{const _0x14b791=_0x354a3a;!0x1===_0x2acc48[_0x14b791(0x50d)]()&&(_0x39bc28(),delete this[_0x14b791(0x4fc)]);}),_0x10ecb4=(0x0,_0x2ddf83[_0x354a3a(0x758)])(_0x2bd955,_0x354a3a(0x2dd));return new Promise(_0xfa85c2=>{const _0x395528=_0x354a3a;(0x0,_0x2ddf83[_0x395528(0x511)])(_0x10ecb4,_0x1efa9a=>{const _0x2e3fe6=_0x395528;(0x0,_0x2ddf83['off'])(_0x10ecb4),this['clockSkew']=_0x1efa9a[_0x2e3fe6(0x50d)](),_0xfa85c2(Date[_0x2e3fe6(0x635)]()+(this[_0x2e3fe6(0x4fc)]??0x0));});});}}const _0x4055d0=_0x3109af[_0x440fb7(0x679)]();class _0x1244f4{static [_0x440fb7(0x755)];[_0x440fb7(0x3f4)]=[_0x233447['Default']];['debugEnabled']=!0x0;[_0x440fb7(0x6e0)];[_0x440fb7(0x752)]='';constructor(){const _0x214db4=_0x440fb7;this[_0x214db4(0x4dc)](),window[_0x214db4(0x75a)]=_0x1126ac=>{const _0x5082db=_0x214db4;if(_0x1126ac===_0x233447[_0x5082db(0x320)])return this['enabledChannels']=Object[_0x5082db(0x63a)](_0x233447)['map'](_0x4ef7b0=>_0x233447[_0x4ef7b0]),void Object[_0x5082db(0x63a)](_0x233447)[_0x5082db(0x613)](_0x4055e3=>{const _0x266a41=_0x5082db,_0x4b3097=_0x4055e3;localStorage[_0x266a41(0x3db)]('crewdle-sdk-logging-'+_0x233447[_0x4b3097],_0x266a41(0x276));});this[_0x5082db(0x3f4)][_0x5082db(0x63d)](_0x1126ac)||(this[_0x5082db(0x3f4)][_0x5082db(0x4e0)](_0x1126ac),localStorage[_0x5082db(0x3db)]('crewdle-sdk-logging-'+_0x1126ac,_0x5082db(0x276)));},window[_0x214db4(0x60d)]=_0x31557e=>{const _0xba5a32=_0x214db4;if(!_0x31557e||_0x31557e===_0x233447[_0xba5a32(0x320)])return this[_0xba5a32(0x3f4)]=[],void Object[_0xba5a32(0x63a)](_0x233447)[_0xba5a32(0x613)](_0x5074e3=>{const _0x132219=_0xba5a32,_0x167370=_0x5074e3;localStorage[_0x132219(0x387)](_0x132219(0x584)+_0x233447[_0x167370]);});this[_0xba5a32(0x3f4)][_0xba5a32(0x63d)](_0x31557e)&&(this['enabledChannels']=this['enabledChannels'][_0xba5a32(0x5ae)](_0x539b78=>_0x539b78!==_0x31557e),localStorage['removeItem']('crewdle-sdk-logging-'+_0x31557e));},window[_0x214db4(0x1e4)]=_0x233447;}static[_0x440fb7(0x679)](){const _0x245db3=_0x440fb7;try{return _0x1244f4['instance']||(_0x1244f4[_0x245db3(0x755)]=new _0x1244f4()),_0x1244f4[_0x245db3(0x755)];}catch(_0x1c0ec){return console['error'](_0x245db3(0x692),_0x1c0ec),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isClusterEnabled':()=>!0x1};}}['setVendorId'](_0x5923d9){const _0x2836c1=_0x440fb7;this[_0x2836c1(0x752)]=_0x5923d9;}[_0x440fb7(0x2a7)](_0x446f66){const _0x5ac4d2=_0x440fb7;this[_0x5ac4d2(0x6e0)]=_0x446f66;}[_0x440fb7(0x3ef)](_0x3f4eb0,..._0x4c43af){const _0x2c57be=_0x440fb7;this[_0x2c57be(0x4e4)]&&this[_0x2c57be(0x657)](_0x233447['Default'],_0x2c57be(0x3e2)+_0x3f4eb0,..._0x4c43af);}[_0x440fb7(0x657)](_0x31a180,_0x5b2cac,..._0x4dc12c){const _0x10ac76=_0x440fb7;_0x31577e[_0x10ac76(0x26b)]||(this[_0x10ac76(0x3f4)][_0x10ac76(0x63d)](_0x31a180)&&console[_0x10ac76(0x657)]('Cluster\x20\x27'+_0x31a180+'\x27\x0a',new Date()+'\x0a',_0x5b2cac,..._0x4dc12c),this[_0x10ac76(0x6e0)]&&this[_0x10ac76(0x6e0)][_0x10ac76(0x613)](_0x3f499e=>{const _0x1bb492=_0x10ac76;this[_0x1bb492(0x479)](_0x3f499e)&&_0x3f499e[_0x1bb492(0x572)]()['includes'](_0x31a180)&&_0x3f499e[_0x1bb492(0x657)](_0x5b2cac,{'vendorId':this[_0x1bb492(0x752)],'userId':'','data':{'cluster':_0x31a180,..._0x4dc12c}});}));}[_0x440fb7(0x734)](_0x1732d0,_0xbe5271,..._0x35cf42){const _0x13fa64=_0x440fb7;_0x31577e[_0x13fa64(0x26b)]||(this['enabledChannels'][_0x13fa64(0x63d)](_0x1732d0)&&console[_0x13fa64(0x657)](_0xbe5271,..._0x35cf42),this[_0x13fa64(0x6e0)]&&this[_0x13fa64(0x6e0)][_0x13fa64(0x613)](_0x5288a0=>{const _0x513d1b=_0x13fa64;this['isInternalLoggingConnector'](_0x5288a0)&&_0x5288a0[_0x513d1b(0x572)]()[_0x513d1b(0x63d)](_0x1732d0)&&_0x5288a0[_0x513d1b(0x657)](_0xbe5271,{'vendorId':this[_0x513d1b(0x752)],'userId':'','data':{'cluster':_0x1732d0,..._0x35cf42}});}));}[_0x440fb7(0x4e2)](_0x28cdf3,_0x6fa9e6){const _0x3ddf23=_0x440fb7;if(this[_0x3ddf23(0x6e0)]){const _0xc283b9={'vendorId':this[_0x3ddf23(0x752)],..._0x6fa9e6};this[_0x3ddf23(0x6e0)]['forEach'](_0x29f3e1=>{const _0x379ec6=_0x3ddf23;_0x29f3e1[_0x379ec6(0x657)](_0x28cdf3,_0xc283b9);});}}[_0x440fb7(0x4a8)](_0x7aadf3,_0x3e1df1){const _0x33cef4=_0x440fb7;(0x0,_0x299849[_0x33cef4(0x4a4)])((0x0,_0x299849['collection'])(_0x4055d0['getFirestore'](),'developers/'+this[_0x33cef4(0x752)]+_0x33cef4(0x3e5)),{..._0x3e1df1,'service':_0x7aadf3,'timestamp':(0x0,_0x299849[_0x33cef4(0x67b)])()});}[_0x440fb7(0x2fd)](_0x3c9cb9,_0x3befbc,_0x49d917){const _0x361d5c=_0x440fb7;(0x0,_0x299849[_0x361d5c(0x746)])((0x0,_0x299849[_0x361d5c(0x43a)])(_0x4055d0[_0x361d5c(0x660)](),'developers/'+this[_0x361d5c(0x752)]+'/'+_0x3c9cb9+'/'+_0x3befbc),{'storage':_0x49d917,'timestamp':(0x0,_0x299849[_0x361d5c(0x67b)])()});}[_0x440fb7(0x1d8)](_0x270883,_0x1c2065,..._0x34b86f){const _0x55a0cc=_0x440fb7;if(console[_0x55a0cc(0x1d8)](new Date(),_0x270883,_0x1c2065,..._0x34b86f),this[_0x55a0cc(0x6e0)]){const _0x4a82e5={'vendorId':this[_0x55a0cc(0x752)],..._0x1c2065};this['loggingConnectors'][_0x55a0cc(0x613)](_0x3acdb=>{_0x3acdb['error'](_0x270883,_0x4a82e5);});}}[_0x440fb7(0x5c7)](_0xd23957,_0x30be37,..._0x555a3e){const _0x1082a7=_0x440fb7;if(console[_0x1082a7(0x484)](new Date(),_0xd23957,_0x30be37,_0x555a3e),this['loggingConnectors']){const _0x19e1de={'vendorId':this[_0x1082a7(0x752)],..._0x30be37};this[_0x1082a7(0x6e0)][_0x1082a7(0x613)](_0x288fca=>{_0x288fca['warn'](_0xd23957,_0x19e1de);});}}[_0x440fb7(0x57b)](_0x1dd883){const _0x1f643d=_0x440fb7;return this[_0x1f643d(0x3f4)]['includes'](_0x1dd883);}[_0x440fb7(0x4dc)](){const _0xe422e4=_0x440fb7;try{Object[_0xe422e4(0x63a)](_0x233447)[_0xe422e4(0x613)](_0x2fb6f4=>{const _0x3d1d9c=_0xe422e4,_0x1bfff0=_0x2fb6f4;localStorage['getItem']('crewdle-sdk-logging-'+_0x233447[_0x1bfff0])&&(console[_0x3d1d9c(0x657)](_0x3d1d9c(0x72d),_0x233447[_0x1bfff0]),this[_0x3d1d9c(0x3f4)][_0x3d1d9c(0x4e0)](_0x233447[_0x1bfff0]));});}catch(_0x4d483b){}}[_0x440fb7(0x479)](_0x10eb64){const _0x56aeeb=_0x440fb7;return void 0x0!==_0x10eb64[_0x56aeeb(0x572)];}}const _0x571f6a=_0x1244f4[_0x440fb7(0x679)]();class _0x1aa85d extends _0x288ad9{[_0x440fb7(0x6a3)];[_0x440fb7(0x6bf)];[_0x440fb7(0x752)];['db'];['dbKey'];[_0x440fb7(0x34e)]=new Map();[_0x440fb7(0x288)];[_0x440fb7(0x774)];[_0x440fb7(0x735)];[_0x440fb7(0x64b)];['syncResolve'];[_0x440fb7(0x231)]=[];[_0x440fb7(0x317)]=()=>{};[_0x440fb7(0x447)];[_0x440fb7(0x34d)]=_0x487683();[_0x440fb7(0x493)];[_0x440fb7(0x604)]=[];[_0x440fb7(0x542)];['debounceStats'];[_0x440fb7(0x2f3)]=0x0;[_0x440fb7(0x486)]=0x0;constructor(_0xc14a64,_0x2f3b29,_0x1b05fc,_0x35f0c9,_0x8b80b,_0x1fd765){const _0x41e95f=_0x440fb7;if(_0x41e95f(0x5af)!=typeof _0x2f3b29)throw new _0x40d3d5(_0x1afea7[_0x41e95f(0x573)],_0x41e95f(0x1f2));if(super(_0xc14a64,_0x2f3b29),this[_0x41e95f(0x6a3)]=_0xc14a64,this[_0x41e95f(0x6bf)]=_0x1b05fc,this['vendorId']=_0x35f0c9,this[_0x41e95f(0x2a0)]=_0x41e95f(0x366)+this['vendorId']+'ccc'+this[_0x41e95f(0x6bf)]+_0x41e95f(0x366)+this[_0x41e95f(0x474)],this['tableObserver']=_0x487683(),this[_0x41e95f(0x64b)]=new Promise(_0x5c36a8=>{const _0x2053e5=_0x41e95f;this[_0x2053e5(0x350)]=_0x5c36a8;}),_0x8b80b instanceof _0x1df388)this['layout']=_0x8b80b[_0x41e95f(0x6d9)]();else{const [_0x441901,_0x7e88a5]=_0x1df388[_0x41e95f(0x59a)](_0x8b80b);if(!_0x441901)throw new _0x40d3d5(_0x1afea7[_0x41e95f(0x403)],_0x41e95f(0x3c0)+_0x7e88a5);this[_0x41e95f(0x542)]=_0x8b80b;}this['db']=new _0x1fd765(this[_0x41e95f(0x2a0)],this[_0x41e95f(0x542)]);}[_0x440fb7(0x2c9)](){const _0x441364=_0x440fb7;return _0x14ca27[_0x441364(0x488)];}[_0x440fb7(0x3bd)](){const _0x4b0ec3=_0x440fb7;this['db']['close'](),this[_0x4b0ec3(0x735)]?.(),clearTimeout(this[_0x4b0ec3(0x412)]),delete this[_0x4b0ec3(0x412)],super['destroy']();}['close'](){const _0x65b370=_0x440fb7;this['systemTopic']['publish']({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x65b370(0x740)],'content':{'type':_0x1ee405['CloseKeyValueDatabase'],'label':this[_0x65b370(0x474)]}});}[_0x440fb7(0x516)](_0x254e6d){const _0x3298ec=_0x440fb7,_0x3d0cb9=this[_0x3298ec(0x34e)][_0x3298ec(0x39a)](_0x254e6d);if(_0x3d0cb9)return _0x3d0cb9;try{if(!this['db'][_0x3298ec(0x23d)](_0x254e6d))throw new _0x40d3d5(_0x1afea7[_0x3298ec(0x61f)],_0x3298ec(0x372));const _0x3dd286=new _0x53eb00(this['db']['getTableConnector'](_0x254e6d),_0x254e6d,this[_0x3298ec(0x288)]);return this[_0x3298ec(0x34e)]['set'](_0x254e6d,_0x3dd286),{'get':_0x3dd286[_0x3298ec(0x39a)]['bind'](_0x3dd286),'set':_0x3dd286[_0x3298ec(0x442)][_0x3298ec(0x346)](_0x3dd286),'add':_0x3dd286[_0x3298ec(0x457)][_0x3298ec(0x346)](_0x3dd286),'delete':_0x3dd286[_0x3298ec(0x528)][_0x3298ec(0x346)](_0x3dd286),'clear':_0x3dd286[_0x3298ec(0x5ad)]['bind'](_0x3dd286),'list':_0x3dd286[_0x3298ec(0x423)][_0x3298ec(0x346)](_0x3dd286),'count':_0x3dd286[_0x3298ec(0x702)]['bind'](_0x3dd286),'subscribe':_0x3dd286[_0x3298ec(0x3af)][_0x3298ec(0x346)](_0x3dd286),'unsubscribe':_0x3dd286[_0x3298ec(0x6b6)][_0x3298ec(0x346)](_0x3dd286)};}catch(_0x46a6bd){throw new _0x40d3d5(_0x1afea7[_0x3298ec(0x2a6)],_0x3298ec(0x53e));}}[_0x440fb7(0x3af)](_0x2e5387){const _0x43f455=_0x440fb7;this[_0x43f455(0x493)]=this[_0x43f455(0x34d)]['subscribe'](_0x2e5387);}[_0x440fb7(0x6b6)](){const _0x4a6b05=_0x440fb7;this[_0x4a6b05(0x493)]?.();}async[_0x440fb7(0x272)](){const _0x17a943=_0x440fb7,_0x1691c4=[_0x3715a4],_0x296d97=[];await this['db'][_0x17a943(0x272)](_0x724bcb=>{const _0x3aef61=_0x17a943;for(const _0x2da8dd in this[_0x3aef61(0x542)]['tables']){if(_0x1691c4[_0x3aef61(0x63d)](_0x2da8dd))throw new _0x40d3d5(_0x1afea7[_0x3aef61(0x3c5)],_0x3aef61(0x70d));const _0x54d1b4=this[_0x3aef61(0x542)][_0x3aef61(0x34e)][_0x2da8dd];if(_0x724bcb[_0x3aef61(0x23d)](_0x2da8dd)){_0x54d1b4['indexes']?.['forEach'](_0x59b660=>{const _0x58c372=_0x3aef61;_0x724bcb[_0x58c372(0x286)](_0x2da8dd,_0x59b660[_0x58c372(0x4b7)])||_0x724bcb[_0x58c372(0x541)](_0x2da8dd,_0x59b660[_0x58c372(0x4b7)]);});for(const _0x202a81 of _0x724bcb[_0x3aef61(0x37f)](_0x2da8dd))_0x54d1b4[_0x3aef61(0x396)]?.[_0x3aef61(0x5a9)](_0x42bf3d=>_0x42bf3d[_0x3aef61(0x4b7)]===_0x202a81)||_0x724bcb['deleteIndex'](_0x2da8dd,_0x202a81);}else _0x724bcb[_0x3aef61(0x31b)](_0x2da8dd),_0x54d1b4['indexes']?.['forEach'](_0x972303=>{const _0x15628e=_0x3aef61;_0x724bcb[_0x15628e(0x541)](_0x2da8dd,_0x972303['keyPath']);});}for(const _0x4f9496 of _0x724bcb[_0x3aef61(0x27f)]())_0x1691c4[_0x3aef61(0x63d)](_0x4f9496)||this[_0x3aef61(0x542)][_0x3aef61(0x34e)][_0x4f9496]||(_0x724bcb[_0x3aef61(0x3cf)](_0x4f9496),_0x296d97[_0x3aef61(0x4e0)](_0x4f9496));}),this['instantiateTransactionTable'](),this[_0x17a943(0x6b2)](),this['setOnTableWriteHandler'](),_0x296d97[_0x17a943(0x613)](_0x227e95=>this['deleteTransactionsForTable'](_0x227e95));}async[_0x440fb7(0x435)](_0x473329,_0x554f54){const _0x134338=_0x440fb7;_0x473329?(this[_0x134338(0x317)]=_0x554f54,this['syncTimeout']=window['setTimeout'](_0x554f54,_0x242c46),this[_0x134338(0x464)]['publish']({'sourceId':this[_0x134338(0x6a3)],'destinationIds':[_0x473329],'messageType':_0x5a2832[_0x134338(0x740)],'content':{'type':_0x1ee405['RequestSyncKeyValueDatabase'],'label':this[_0x134338(0x474)]}}),await this[_0x134338(0x64b)]):setTimeout(()=>{const _0x39e5c5=_0x134338;this['clearSyncTimeout'](),this[_0x39e5c5(0x632)]();},0x0);}async['sendTransactionsDump'](_0x228f4c){const _0x2aae11=_0x440fb7;if(!this['transactionTable'])throw new _0x717bed(_0x717bed['codes'][_0x2aae11(0x2bb)]);await this[_0x2aae11(0x64b)];const _0x427645=await this[_0x2aae11(0x774)]['list']();this['systemTopic'][_0x2aae11(0x764)]({'sourceId':this['localId'],'destinationIds':[_0x228f4c],'messageType':_0x5a2832[_0x2aae11(0x740)],'content':{'type':_0x1ee405[_0x2aae11(0x68a)],'label':this['label'],'transactions':_0x427645}});}async[_0x440fb7(0x47a)](_0x19aaab,_0x39aca0){const _0x286e00=_0x440fb7;if(!this[_0x286e00(0x774)])throw new _0x717bed(_0x717bed['codes'][_0x286e00(0x2bb)]);this[_0x286e00(0x25c)]();const _0x26e041=await this[_0x286e00(0x774)][_0x286e00(0x423)]();for(const _0x1b24ca of _0x26e041){const _0x2d7930=_0x39aca0[_0x286e00(0x5a9)](_0xa991f6=>_0xa991f6['id']===_0x1b24ca['id']);if(_0x2d7930&&this['compareTransactions'](_0x1b24ca,_0x2d7930)<=0x0)continue;const [_0x2101d9,_0x4fb89a]=_0x1b24ca['id']['split']('::'),_0x3cb868=this[_0x286e00(0x34e)][_0x286e00(0x39a)](_0x2101d9),_0x5016e0=await _0x3cb868?.[_0x286e00(0x39a)](_0x4fb89a);_0x1b24ca[_0x286e00(0x3f0)]=_0x5016e0,this[_0x286e00(0x430)](_0x1b24ca);}for(const _0x35222a of _0x39aca0){const _0x35453b=await this[_0x286e00(0x774)][_0x286e00(0x39a)](_0x35222a['id']);if(!(_0x35453b&&this[_0x286e00(0x560)](_0x35222a,_0x35453b)<=0x0)){if(_0x35222a['action']===_0x443cd8[_0x286e00(0x3fd)]){const [_0x483e78,_0x3c5922]=_0x35222a['id'][_0x286e00(0x61b)]('::'),_0x35d824=this[_0x286e00(0x34e)][_0x286e00(0x39a)](_0x483e78);await _0x35d824?.['delete'](_0x3c5922,!0x1);}else this['transactionsToSync']['push'](_0x35222a['id']);}}if(0x0===this[_0x286e00(0x231)][_0x286e00(0x382)])return this[_0x286e00(0x25c)](),void this[_0x286e00(0x632)]();this[_0x286e00(0x447)]=window[_0x286e00(0x5e7)](this['timeoutCallback'],_0x242c46),this[_0x286e00(0x464)][_0x286e00(0x764)]({'sourceId':this[_0x286e00(0x6a3)],'destinationIds':[_0x19aaab],'messageType':_0x5a2832[_0x286e00(0x740)],'content':{'type':_0x1ee405['RequestTransactionsValue'],'label':this[_0x286e00(0x474)],'transactionIds':this[_0x286e00(0x231)]}});}async['sendTransactionsValue'](_0x59e0a4,_0x5301bc){const _0x11bb9c=_0x440fb7;if(!this[_0x11bb9c(0x774)])throw new _0x717bed(_0x717bed[_0x11bb9c(0x6dc)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x257b6c of _0x5301bc){const _0x347ff8=await this[_0x11bb9c(0x774)][_0x11bb9c(0x39a)](_0x257b6c);if(!_0x347ff8)continue;const [_0x1488c4,_0x19f30e]=_0x257b6c[_0x11bb9c(0x61b)]('::'),_0x44a1c4=this[_0x11bb9c(0x34e)]['get'](_0x1488c4),_0x59c09a=await _0x44a1c4?.['get'](_0x19f30e);_0x347ff8[_0x11bb9c(0x3f0)]=_0x59c09a,this['send'](_0x347ff8,[_0x59e0a4]);}}async['writeTransaction'](_0x10826d){const _0x26242a=_0x440fb7;if(!this[_0x26242a(0x774)])throw new _0x717bed(_0x717bed[_0x26242a(0x6dc)][_0x26242a(0x2bb)]);const _0x54d078=await this[_0x26242a(0x774)][_0x26242a(0x39a)](_0x10826d['id']);if(_0x54d078&&this['compareTransactions'](_0x10826d,_0x54d078)<=0x0)return;const _0x2dd684={..._0x10826d};return delete _0x2dd684['value'],await this[_0x26242a(0x774)][_0x26242a(0x442)](_0x10826d['id'],_0x2dd684),_0x10826d;}[_0x440fb7(0x560)](_0xc838ef,_0x154298){const _0x25fb16=_0x440fb7;return _0xc838ef[_0x25fb16(0x2cf)]<_0x154298[_0x25fb16(0x2cf)]?-0x1:_0xc838ef['timestamp']>_0x154298[_0x25fb16(0x2cf)]?0x1:_0xc838ef[_0x25fb16(0x606)]-_0x154298[_0x25fb16(0x606)];}async['getTransactionFromTableWriteEvent'](_0x55f514){const _0x5a787a=_0x440fb7;if(!this['transactionTable'])throw new _0x717bed(_0x717bed[_0x5a787a(0x6dc)][_0x5a787a(0x2bb)]);const _0x113e88=_0x55f514[_0x5a787a(0x41a)]+'::'+_0x55f514[_0x5a787a(0x668)],_0x43bb7a=await _0x4055d0[_0x5a787a(0x278)](),_0xd07a36={'id':_0x113e88,'priority':Math[_0x5a787a(0x62a)](),'timestamp':_0x43bb7a,'action':_0x55f514[_0x5a787a(0x3b9)]};if(await this[_0x5a787a(0x627)](_0xd07a36))return _0xd07a36;}async[_0x440fb7(0x49f)](_0x16dd8f){const _0x4eb6de=_0x440fb7;if(!this[_0x4eb6de(0x774)])throw new _0x717bed(_0x717bed[_0x4eb6de(0x6dc)][_0x4eb6de(0x2bb)]);const _0x125bb9=_0x50b16d[_0x4eb6de(0x2de)]('id')[_0x4eb6de(0x543)](_0x4eb6de(0x205),[_0x16dd8f+'::',_0x16dd8f+_0x4eb6de(0x69d)]),_0x3c6ee0=await this[_0x4eb6de(0x774)][_0x4eb6de(0x423)](_0x125bb9[_0x4eb6de(0x1e6)]());for(const _0x53333b of _0x3c6ee0)await this[_0x4eb6de(0x774)][_0x4eb6de(0x528)](_0x53333b['id']);}[_0x440fb7(0x6b2)](){this['onMessage'](async(_0x12c81a,_0xaefb77)=>{const _0x1c80a1=a0_0x2287;if(_0xaefb77 instanceof File)return;if(!await this[_0x1c80a1(0x627)](_0xaefb77))return void this[_0x1c80a1(0x6db)](_0xaefb77);if(!_0xaefb77['value'])throw new _0x717bed(_0x717bed[_0x1c80a1(0x6dc)][_0x1c80a1(0x591)]);const [_0x8e34c,_0x5b93ce]=_0xaefb77['id'][_0x1c80a1(0x61b)]('::'),_0x54c607=this['tables'][_0x1c80a1(0x39a)](_0x8e34c);if(!_0x54c607)throw new _0x717bed(_0x717bed[_0x1c80a1(0x6dc)][_0x1c80a1(0x466)],{'table':_0x54c607});let _0x4e2270=0x0;switch(_0xaefb77[_0x1c80a1(0x3b9)]){case _0x443cd8['Add']:case _0x443cd8['Update']:{const _0x3ca57f=_0x54c607['set'](_0x5b93ce,_0xaefb77[_0x1c80a1(0x3f0)],!0x1);_0x4e2270=JSON[_0x1c80a1(0x6d2)](_0xaefb77[_0x1c80a1(0x3f0)])[_0x1c80a1(0x382)],this[_0x1c80a1(0x231)]['includes'](_0xaefb77['id'])&&this[_0x1c80a1(0x604)][_0x1c80a1(0x4e0)](_0x3ca57f);break;}case _0x443cd8[_0x1c80a1(0x3fd)]:{const _0x7bb66b=_0x54c607[_0x1c80a1(0x528)](_0x5b93ce,!0x1);this[_0x1c80a1(0x231)][_0x1c80a1(0x63d)](_0xaefb77['id'])&&this[_0x1c80a1(0x604)][_0x1c80a1(0x4e0)](_0x7bb66b);break;}}_0x571f6a[_0x1c80a1(0x4a8)](_0x1ba8b6['KeyValueDatabase'],{'type':_0x1c80a1(0x435),'label':this[_0x1c80a1(0x474)],'userId':this[_0x1c80a1(0x6a3)],'tableName':_0x8e34c,'key':_0x5b93ce,'size':_0x4e2270}),this[_0x1c80a1(0x6db)](_0xaefb77);});}['setOnTableWriteHandler'](){const _0x15a636=_0x440fb7;this[_0x15a636(0x735)]=this[_0x15a636(0x288)]['subscribe'](async _0x35be3c=>{const _0x439df2=_0x15a636;let _0x23e600=0x0;switch(_0x35be3c[_0x439df2(0x3b9)]){case _0x443cd8[_0x439df2(0x69c)]:case _0x443cd8[_0x439df2(0x6ce)]:case _0x443cd8[_0x439df2(0x3fd)]:{const _0x1474e9=await this[_0x439df2(0x262)](_0x35be3c);if(!_0x1474e9)return;_0x1474e9[_0x439df2(0x3f0)]=_0x35be3c[_0x439df2(0x3f0)],this[_0x439df2(0x430)](_0x1474e9),_0x23e600=JSON['stringify'](_0x35be3c[_0x439df2(0x3f0)])[_0x439df2(0x382)],this[_0x439df2(0x2f3)]+=0x1;break;}case _0x444549[_0x439df2(0x4e6)]:case _0x444549[_0x439df2(0x3fe)]:case _0x444549['Count']:this[_0x439df2(0x486)]+=0x1;}_0x571f6a[_0x439df2(0x4a8)](_0x1ba8b6[_0x439df2(0x488)],{'type':_0x35be3c[_0x439df2(0x3b9)],'label':this['label'],'userId':this[_0x439df2(0x6a3)],'tableName':_0x35be3c['tableName'],'key':_0x35be3c[_0x439df2(0x668)],'size':_0x23e600}),this[_0x439df2(0x5cf)]();});}[_0x440fb7(0x378)](){const _0x35c10d=_0x440fb7;this['db']&&(this[_0x35c10d(0x774)]||(this['db'][_0x35c10d(0x23d)](_0x3715a4)||this['db'][_0x35c10d(0x31b)](_0x3715a4),this[_0x35c10d(0x774)]=this['db'][_0x35c10d(0x2a3)](_0x3715a4)));}[_0x440fb7(0x25c)](){const _0x520859=_0x440fb7;this[_0x520859(0x447)]&&(clearTimeout(this[_0x520859(0x447)]),delete this[_0x520859(0x447)]);}['publishSyncCompleted'](){const _0x338aca=_0x440fb7;this[_0x338aca(0x34d)][_0x338aca(0x764)]({'event':_0x220ad7[_0x338aca(0x300)]}),this[_0x338aca(0x350)]?.(!0x0),delete this[_0x338aca(0x350)],this[_0x338aca(0x5cf)]();}async['publishSyncCompletedAfterWrites'](){const _0x420225=_0x440fb7;await Promise[_0x420225(0x5f2)](this['syncTransactionsWritten']),this[_0x420225(0x632)]();}[_0x440fb7(0x6db)](_0x4e7508){const _0x3f9ffd=_0x440fb7;this[_0x3f9ffd(0x231)][_0x3f9ffd(0x63d)](_0x4e7508['id'])&&(this['clearSyncTimeout'](),this[_0x3f9ffd(0x231)]=this['transactionsToSync'][_0x3f9ffd(0x5ae)](_0xa1fedd=>_0xa1fedd!==_0x4e7508['id']),0x0!==this['transactionsToSync'][_0x3f9ffd(0x382)]?this['syncTimeout']=window['setTimeout'](this[_0x3f9ffd(0x317)],_0x242c46):this['publishSyncCompletedAfterWrites']());}[_0x440fb7(0x5cf)](){const _0x3409f4=_0x440fb7;this[_0x3409f4(0x412)]&&clearTimeout(this['debounceStats']),this[_0x3409f4(0x412)]=window['setTimeout'](async()=>{const _0x2d3daf=_0x3409f4;delete this['debounceStats'];let _0x46500b=0x0;for(const _0x5ddf8a of this[_0x2d3daf(0x34e)][_0x2d3daf(0x359)]())_0x46500b+=await _0x5ddf8a[_0x2d3daf(0x437)]();this[_0x2d3daf(0x464)][_0x2d3daf(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x2d3daf(0x740)],'content':{'type':_0x1ee405[_0x2d3daf(0x6a2)],'label':this[_0x2d3daf(0x474)],'stats':{'timestamp':Date[_0x2d3daf(0x635)](),'storage':_0x46500b,'messagesSent':this[_0x2d3daf(0x54e)],'messagesReceived':this[_0x2d3daf(0x771)],'bytesSent':this[_0x2d3daf(0x23f)],'bytesReceived':this['bytesReceived'],'writes':this[_0x2d3daf(0x2f3)],'reads':this[_0x2d3daf(0x486)]}}}),_0x571f6a[_0x2d3daf(0x2fd)](_0x1ba8b6[_0x2d3daf(0x488)],this[_0x2d3daf(0x474)],_0x46500b);},0x1388);}}const _0x3b7dd2=require('@crewdle/mist-connector-opfs'),_0x567493=require('@crewdle/mist-connector-indexed-db');class _0x458e2d{[_0x440fb7(0x1f5)];[_0x440fb7(0x645)];[_0x440fb7(0x308)];constructor(_0x2761c9=new Map(),_0x20a2ee=new Map(),_0x38d37e=new EventTarget()){const _0x5473cb=_0x440fb7;this['registeredListeners']=_0x2761c9,this[_0x5473cb(0x645)]=_0x20a2ee,this[_0x5473cb(0x308)]=_0x38d37e;}[_0x440fb7(0x337)]=(_0x2eba78,_0x63b5e5)=>this[_0x440fb7(0x1f5)][_0x440fb7(0x4f5)](_0x2eba78)?(_0x571f6a[_0x440fb7(0x657)](_0x233447[_0x440fb7(0x449)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x2eba78,'data':_0x63b5e5}),this[_0x440fb7(0x308)][_0x440fb7(0x612)](new CustomEvent(_0x2eba78,{'detail':_0x63b5e5})),!0x0):(this[_0x440fb7(0x732)](_0x2eba78,_0x63b5e5),!0x1);['on']=(_0x1bd0a9,_0x5dca48)=>{const _0x3962f8=_0x440fb7,_0x2f2b93=_0x23b68e=>{const _0xb13af0=a0_0x2287;_0x571f6a['log'](_0x233447['Events'],'Received\x20event\x20on\x20cluster',_0x23b68e['type'],_0x23b68e[_0xb13af0(0x51c)]),_0x5dca48(_0x23b68e[_0xb13af0(0x51c)]);};return this['registeredListeners'][_0x3962f8(0x442)](_0x1bd0a9,_0x2f2b93),this[_0x3962f8(0x308)][_0x3962f8(0x72e)](_0x1bd0a9,_0x2f2b93),_0x571f6a['log'](_0x233447['Cluster'],'Subscribing\x20to\x20an\x20event:\x20on',_0x1bd0a9,_0x5dca48),this[_0x3962f8(0x664)](_0x1bd0a9),this;};[_0x440fb7(0x6f9)](_0x163bb6){const _0x4a3074=_0x440fb7;if(!_0x163bb6)return this[_0x4a3074(0x1f5)][_0x4a3074(0x613)]((_0x5196e6,_0x56787e)=>{const _0x16ba22=_0x4a3074;this[_0x16ba22(0x308)][_0x16ba22(0x251)](_0x56787e,_0x5196e6);}),void this['registeredListeners'][_0x4a3074(0x5ad)]();_0x4a3074(0x5af)==typeof _0x163bb6&&this[_0x4a3074(0x506)](_0x163bb6),Array[_0x4a3074(0x364)](_0x163bb6)&&_0x163bb6['forEach'](_0x3ffabf=>{this['removeListener'](_0x3ffabf);});}['removeListener'](_0x14f629){const _0x13403b=_0x440fb7,_0x23693e=this['registeredListeners'][_0x13403b(0x39a)](_0x14f629);_0x23693e&&(this[_0x13403b(0x308)][_0x13403b(0x251)](_0x14f629,_0x23693e),this[_0x13403b(0x1f5)][_0x13403b(0x528)](_0x14f629));}[_0x440fb7(0x732)](_0x1cff66,_0x25ff4f){const _0x10c383=_0x440fb7;_0x571f6a[_0x10c383(0x657)](_0x233447[_0x10c383(0x449)],'Buffering\x20event',{'event':_0x1cff66,'data':_0x25ff4f});const _0x288bc0=this[_0x10c383(0x645)]['get'](_0x1cff66)||[];this[_0x10c383(0x645)][_0x10c383(0x442)](_0x1cff66,[..._0x288bc0,_0x25ff4f]);}[_0x440fb7(0x664)](_0xdd9786){const _0x587e4d=_0x440fb7,_0x58e2c0=this['bufferedEvents']['get'](_0xdd9786);_0x58e2c0&&(_0x58e2c0[_0x587e4d(0x613)](_0x4793a9=>{const _0x3e8f55=_0x587e4d;_0x571f6a['log'](_0x233447[_0x3e8f55(0x449)],_0x3e8f55(0x312),{'event':_0xdd9786,'data':_0x4793a9}),this[_0x3e8f55(0x308)][_0x3e8f55(0x612)](new CustomEvent(_0xdd9786,{'detail':_0x4793a9}));}),this['bufferedEvents']['delete'](_0xdd9786));}}class _0x1283cb extends Error{constructor(_0x5470a8){const _0x3f5c07=_0x440fb7;super(_0x3f5c07(0x555)+_0x5470a8);}}var _0x98444c,_0x244554,_0x49fc66,_0x25b86c,_0x13a6c4,_0xe8a9ad,_0x11cc4b,_0x4eaa4d;!function(_0x5ab55d){const _0x29bab2=_0x440fb7;_0x5ab55d[_0x5ab55d[_0x29bab2(0x707)]=0x0]=_0x29bab2(0x707),_0x5ab55d[_0x5ab55d[_0x29bab2(0x41f)]=0x1]='Receiver';}(_0x98444c||(_0x98444c={})),function(_0x4d98a6){const _0xb2007d=_0x440fb7;_0x4d98a6[_0x4d98a6[_0xb2007d(0x3a3)]=0x0]=_0xb2007d(0x3a3),_0x4d98a6[_0x4d98a6[_0xb2007d(0x570)]=0x1]=_0xb2007d(0x570),_0x4d98a6[_0x4d98a6[_0xb2007d(0x70b)]=0x2]=_0xb2007d(0x70b),_0x4d98a6[_0x4d98a6[_0xb2007d(0x31d)]=0x3]='Success',_0x4d98a6[_0x4d98a6[_0xb2007d(0x209)]=0x4]=_0xb2007d(0x209),_0x4d98a6[_0x4d98a6[_0xb2007d(0x1f9)]=0x5]=_0xb2007d(0x1f9),_0x4d98a6[_0x4d98a6[_0xb2007d(0x73b)]=0x6]=_0xb2007d(0x73b),_0x4d98a6[_0x4d98a6[_0xb2007d(0x725)]=0x7]=_0xb2007d(0x725),_0x4d98a6[_0x4d98a6['OptimizationConnectionSuccess']=0x8]='OptimizationConnectionSuccess';}(_0x244554||(_0x244554={})),function(_0x46aa24){_0x46aa24['MediaStream']='media-stream';}(_0x49fc66||(_0x49fc66={})),function(_0x44b7a8){const _0x16adaa=_0x440fb7;_0x44b7a8[_0x44b7a8[_0x16adaa(0x3de)]=0x0]=_0x16adaa(0x3de),_0x44b7a8[_0x44b7a8[_0x16adaa(0x30c)]=0x1]=_0x16adaa(0x30c);}(_0x25b86c||(_0x25b86c={})),function(_0xc6cb3e){const _0x504eb4=_0x440fb7;_0xc6cb3e[_0xc6cb3e['UserJoin']=0x0]=_0x504eb4(0x4c2),_0xc6cb3e[_0xc6cb3e['UserUpdate']=0x1]=_0x504eb4(0x1d3),_0xc6cb3e[_0xc6cb3e[_0x504eb4(0x502)]=0x2]=_0x504eb4(0x502),_0xc6cb3e[_0xc6cb3e[_0x504eb4(0x489)]=0x3]=_0x504eb4(0x489);}(_0x13a6c4||(_0x13a6c4={})),function(_0xd025a7){const _0x56f026=_0x440fb7;_0xd025a7[_0xd025a7[_0x56f026(0x583)]=0x0]='Remediation',_0xd025a7[_0xd025a7[_0x56f026(0x5fb)]=0x1]='RemoteRemediation';}(_0xe8a9ad||(_0xe8a9ad={})),function(_0x8e0b1e){const _0x38e4cf=_0x440fb7;_0x8e0b1e['Upgrade']=_0x38e4cf(0x273),_0x8e0b1e[_0x38e4cf(0x633)]=_0x38e4cf(0x255);}(_0x11cc4b||(_0x11cc4b={})),function(_0x54a4b3){const _0x29889e=_0x440fb7;_0x54a4b3[_0x29889e(0x259)]='resolution',_0x54a4b3[_0x29889e(0x549)]=_0x29889e(0x733);}(_0x4eaa4d||(_0x4eaa4d={}));const _0x41e386=require('aws-amplify'),_0x385b07=require('aws-amplify/utils'),_0x361765=require('@aws-amplify/api'),_0x334089=require('@aws-amplify/core');class _0x2bccd5{[_0x440fb7(0x6bf)];[_0x440fb7(0x6a3)];['remoteId'];constructor(_0x41cd9a,_0x103b06,_0x529d54){const _0x35e11b=_0x440fb7;this[_0x35e11b(0x6bf)]=_0x41cd9a,this[_0x35e11b(0x6a3)]=_0x103b06,this[_0x35e11b(0x31e)]=_0x529d54;}[_0x440fb7(0x3df)](){const _0x561a46=_0x440fb7;return this[_0x561a46(0x6a3)];}['getRemoteId'](){const _0x3f1b6e=_0x440fb7;return this[_0x3f1b6e(0x31e)];}}var _0x3fc3e5,_0x37868d,_0x59734b;function _0x303b8a(_0xb7f255,_0x27c1ab){return _0xb7f255['sourceId']===_0x27c1ab;}function _0x5cb79a(_0x2ee76b,_0x100293){const _0x54c433=_0x440fb7;return _0x2ee76b[_0x54c433(0x409)]?.[_0x54c433(0x63d)](_0x100293)??function(_0x1f49e4){return void 0x0===_0x1f49e4['destinationIds'];}(_0x2ee76b);}function _0x20f3fb(_0x322ba3,{contentType:_0x49f7d2,label:_0x3ee36f,remoteId:_0x3bc5bf}){return _0x322ba3+'-'+_0x49f7d2+'-'+_0x3ee36f+'-'+_0x3bc5bf;}function _0x4670fa(_0x20921a,_0xa60278,_0x15ce16){return''+_0x20921a+_0xa60278+_0x15ce16;}function _0x37d75a(_0x193688){const _0x56f080=_0x440fb7;return _0x193688===_0x37868d[_0x56f080(0x431)]?_0x56f080(0x5e3):_0x56f080(0x2df);}function _0x478eba(_0x1fdcdc,_0x5a7fe4){const _0x5584b1=_0x440fb7;return{'label':_0x1fdcdc[_0x5584b1(0x626)](),'contentType':_0x1fdcdc[_0x5584b1(0x2c9)](),'remoteId':_0x5a7fe4[_0x5584b1(0x206)](),'supportsContentType':_0x5a7fe4[_0x5584b1(0x40f)]()[_0x5584b1(0x63d)](_0x1fdcdc[_0x5584b1(0x2c9)]())};}!function(_0x2cb26a){const _0x54fdbf=_0x440fb7;_0x2cb26a[_0x2cb26a['Waiting']=0x0]=_0x54fdbf(0x4a5),_0x2cb26a[_0x2cb26a[_0x54fdbf(0x63b)]=0x1]='Accepted',_0x2cb26a[_0x2cb26a[_0x54fdbf(0x4f3)]=0x2]=_0x54fdbf(0x4f3);}(_0x3fc3e5||(_0x3fc3e5={})),function(_0x26bddd){const _0x34f7c0=_0x440fb7;_0x26bddd[_0x34f7c0(0x431)]='in',_0x26bddd[_0x34f7c0(0x44f)]=_0x34f7c0(0x767);}(_0x37868d||(_0x37868d={}));class _0x3189e7{[_0x440fb7(0x385)];[_0x440fb7(0x599)];constructor(_0xeab87b,_0x2e3e60){const _0x4030ec=_0x440fb7;this[_0x4030ec(0x385)]=_0xeab87b,this['retryCallback']=_0x2e3e60;}[_0x440fb7(0x59b)](_0x46658d){const _0x48737b=_0x440fb7;this[_0x48737b(0x385)](_0x46658d);}async['wait'](){const _0x4d66=_0x440fb7;await this[_0x4d66(0x599)]();}}class _0x2c95c7{['callback'];[_0x440fb7(0x599)];constructor(_0x1671f9,_0x485fed){const _0x15c3ca=_0x440fb7;this[_0x15c3ca(0x385)]=_0x1671f9,this[_0x15c3ca(0x599)]=_0x485fed;}async[_0x440fb7(0x59b)](_0xa97312){const _0x2636bc=_0x440fb7;await this[_0x2636bc(0x385)](_0xa97312);}async[_0x440fb7(0x2d2)](){const _0x11805e=_0x440fb7;await this[_0x11805e(0x599)]();}}function _0x4dd437(_0x21ef37=()=>{},_0x11054f=()=>!0x1,_0x42769f=()=>{}){let _0x20c0e6,_0xdab149,_0x5983f5=0x0;return{get 'size'(){return _0x5983f5;},get 'head'(){return _0x20c0e6;},get 'tail'(){return _0xdab149;},set 'head'(_0x2c6630){_0x20c0e6=_0x2c6630;},set 'tail'(_0xf186c6){_0xdab149=_0xf186c6;},'push'(_0x3a8fda,_0x106cd4=!0x0){const _0x41f3ed={'value':_0x3a8fda};_0x106cd4&&_0x11054f(_0x41f3ed)?_0x21ef37():(_0xdab149&&(_0x41f3ed['previous']=_0xdab149,_0xdab149['next']=_0x41f3ed),_0xdab149=_0x41f3ed,_0x20c0e6||(_0x20c0e6=_0x41f3ed),_0x5983f5+=0x1,_0x106cd4&&_0x21ef37());},'pop'(){const _0x4bcd17=a0_0x2287;if(!_0xdab149)return;const _0xd09390=_0xdab149['value'];return _0xdab149=_0xdab149[_0x4bcd17(0x38c)],_0xdab149&&delete _0xdab149[_0x4bcd17(0x349)],_0xdab149||(_0x20c0e6=void 0x0),_0x5983f5-=0x1,_0xd09390;},'unshift'(_0x3089a0,_0x980756=!0x0){const _0x35d92b=a0_0x2287,_0xf70b99={'value':_0x3089a0};_0x980756&&_0x11054f(_0xf70b99)?_0x21ef37():(_0x20c0e6&&(_0x20c0e6[_0x35d92b(0x38c)]=_0xf70b99,_0xf70b99[_0x35d92b(0x349)]=_0x20c0e6),_0x20c0e6=_0xf70b99,_0xdab149||(_0xdab149=_0xf70b99),_0x5983f5+=0x1,_0x980756&&_0x21ef37());},'shift'(){const _0x23397b=a0_0x2287;if(!_0x20c0e6)return;const _0xe7274a=_0x20c0e6[_0x23397b(0x3f0)];return _0x20c0e6=_0x20c0e6['next'],_0x20c0e6&&delete _0x20c0e6[_0x23397b(0x38c)],_0x20c0e6||(_0xdab149=void 0x0),_0x5983f5-=0x1,_0xe7274a;},'clear'(){_0x42769f(),_0x20c0e6=void 0x0,_0xdab149=void 0x0,_0x5983f5=0x0;}};}function _0x2137d6(_0x51b4a2,_0x44e0d0=!0x1,_0x301678=()=>{},_0x15b7f4=()=>!0x1,_0x208248=()=>{}){let _0x22900f=!0x1;const _0x54dbbd=_0x4dd437(async function(){const _0x40012e=a0_0x2287;if(!_0x22900f){for(_0x22900f=!0x0;_0x54dbbd['head'];){const _0x2b65ac=_0x54dbbd[_0x40012e(0x636)]();if(_0x2b65ac)try{_0x51b4a2 instanceof _0x3189e7&&_0x51b4a2['call'](_0x2b65ac),_0x51b4a2 instanceof _0x2c95c7&&await _0x51b4a2['call'](_0x2b65ac),_0x301678(_0x2b65ac);}catch(_0x241949){_0x44e0d0?_0x54dbbd['push'](_0x2b65ac,!0x1):_0x54dbbd[_0x40012e(0x673)](_0x2b65ac,!0x1),await _0x51b4a2[_0x40012e(0x2d2)]();}}_0x22900f=!0x1;}},_0x15b7f4,_0x208248);return _0x54dbbd;}class _0x524d24 extends _0x2bccd5{['vendorId'];['authService'];[_0x440fb7(0x2da)]=_0x361765['ConnectionState'][_0x440fb7(0x769)];[_0x440fb7(0x3ec)]=_0x487683();['messageListeners']=_0x548ac7();[_0x440fb7(0x41c)];[_0x440fb7(0x3cd)];[_0x440fb7(0x521)]=_0x2137d6(new _0x2c95c7(this[_0x440fb7(0x596)]['bind'](this),this[_0x440fb7(0x3a4)][_0x440fb7(0x346)](this)));[_0x440fb7(0x2ba)];constructor(_0x596ba5,_0x2d3a7f,_0x5ce65f,_0x4a1d8e,_0x511e6b){super(_0x2d3a7f,_0x5ce65f,_0x4a1d8e),this['vendorId']=_0x596ba5,this['authService']=_0x511e6b;}async[_0x440fb7(0x43f)](){const _0x110e92=_0x440fb7;try{const _0x5c75ad=await this[_0x110e92(0x75c)][_0x110e92(0x52e)](),_0x3dd201={'getTokens':async()=>({'accessToken':(0x0,_0x334089['decodeJWT'])(_0x5c75ad),'idToken':(0x0,_0x334089[_0x110e92(0x229)])(_0x5c75ad)})};_0x41e386[_0x110e92(0x3b6)]['configure']({'API':{'GraphQL':{'endpoint':_0x31577e[_0x110e92(0x53a)][_0x110e92(0x5db)],'region':_0x31577e[_0x110e92(0x53a)][_0x110e92(0x6e9)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x3dd201}}),this[_0x110e92(0x2ba)]=(0x0,_0x361765[_0x110e92(0x29c)])(),await this[_0x110e92(0x3af)](),this['listenUnsubscriber']=_0x385b07['Hub'][_0x110e92(0x60a)](_0x110e92(0x224),({payload:_0xbe0c05})=>{const _0x3e39e3=_0x110e92;if(_0xbe0c05[_0x3e39e3(0x344)]===_0x361765['CONNECTION_STATE_CHANGE']){const _0x2dd05b=_0xbe0c05[_0x3e39e3(0x2f8)];this[_0x3e39e3(0x2da)]=_0x2dd05b[_0x3e39e3(0x2da)],this[_0x3e39e3(0x3ec)][_0x3e39e3(0x764)](_0x2dd05b['connectionState']),this[_0x3e39e3(0x2da)]===_0x361765[_0x3e39e3(0x6a7)][_0x3e39e3(0x340)]&&(this[_0x3e39e3(0x41c)]?.[_0x3e39e3(0x6b6)](),delete this[_0x3e39e3(0x41c)]),this[_0x3e39e3(0x2da)]===_0x361765[_0x3e39e3(0x6a7)][_0x3e39e3(0x769)]&&(_0x571f6a[_0x3e39e3(0x1d8)](_0x3e39e3(0x684),{'clusterId':this['clusterId'],'userId':this[_0x3e39e3(0x6a3)]}),this[_0x3e39e3(0x3af)]());}});}catch(_0x415bcf){_0x571f6a[_0x110e92(0x1d8)](_0x110e92(0x2a9),{'clusterId':this['clusterId'],'userId':this[_0x110e92(0x6a3)]});}}['close'](){const _0x1b607f=_0x440fb7;this[_0x1b607f(0x521)][_0x1b607f(0x5ad)](),this[_0x1b607f(0x3cd)]?.(),this['subscription']?.['unsubscribe'](),delete this[_0x1b607f(0x41c)];}[_0x440fb7(0x3bf)](){const _0x92bf3=_0x440fb7;return this[_0x92bf3(0x2da)]===_0x361765[_0x92bf3(0x6a7)][_0x92bf3(0x384)];}[_0x440fb7(0x430)](_0x4be6c1){const _0x96b6c2=_0x440fb7;this[_0x96b6c2(0x521)][_0x96b6c2(0x4e0)](_0x4be6c1);}[_0x440fb7(0x5d8)](_0x4d8054){const _0x58b87d=_0x440fb7;return this[_0x58b87d(0x29f)][_0x58b87d(0x3af)](_0x4d8054);}[_0x440fb7(0x40f)](){const _0xdcfe7a=_0x440fb7;return[_0x14ca27[_0xdcfe7a(0x5b0)]];}async['waitConnected'](){const _0x4b51fc=_0x440fb7;if(!this[_0x4b51fc(0x3bf)]())return new Promise(_0x2c49c0=>{const _0x127409=_0x4b51fc,_0x12c0f9=this[_0x127409(0x3ec)][_0x127409(0x3af)](_0x16c8c4=>{const _0xfcb680=_0x127409;_0x16c8c4===_0x361765[_0xfcb680(0x6a7)][_0xfcb680(0x384)]&&(_0x12c0f9(),_0x2c49c0());});});}async[_0x440fb7(0x596)](_0x326b32){const _0x4d7ba9=_0x440fb7;if(this[_0x4d7ba9(0x2da)]!==_0x361765[_0x4d7ba9(0x6a7)][_0x4d7ba9(0x384)])throw new Error(_0x4d7ba9(0x1dd));_0x326b32['destinationIds']&&0x1===_0x326b32[_0x4d7ba9(0x409)][_0x4d7ba9(0x382)]?await this[_0x4d7ba9(0x764)](_0x326b32[_0x4d7ba9(0x409)][0x0],JSON[_0x4d7ba9(0x6d2)](_0x326b32)):_0x571f6a[_0x4d7ba9(0x1d8)](_0x4d7ba9(0x520),{'clusterId':this[_0x4d7ba9(0x6bf)],'userId':this[_0x4d7ba9(0x6a3)]});}async[_0x440fb7(0x764)](_0x13d98a,_0x3a61e9){const _0xebb569=_0x440fb7;if(!this['client'])throw new Error(_0xebb569(0x3d4));_0x571f6a['log'](_0x233447['Signaling'],_0xebb569(0x567),this[_0xebb569(0x6a3)],_0x3a61e9),await this[_0xebb569(0x2ba)]['graphql']({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0xebb569(0x505)](_0x13d98a),'data':_0x3a61e9}});}async[_0x440fb7(0x3af)](){const _0x5b748d=_0x440fb7;if(this[_0x5b748d(0x41c)])return;if(!this['client'])throw new Error(_0x5b748d(0x3d4));_0x571f6a[_0x5b748d(0x657)](_0x233447[_0x5b748d(0x27e)],_0x5b748d(0x250),this[_0x5b748d(0x6a3)]);const _0xe6a1e8=await this[_0x5b748d(0x2ba)][_0x5b748d(0x1d6)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x5b748d(0x505)]()},'authToken':await this[_0x5b748d(0x75c)]['getIdToken']()},{'Authorization':await this['authService']['getIdToken']()});this[_0x5b748d(0x41c)]=_0xe6a1e8[_0x5b748d(0x3af)]({'next':({data:_0x5636db})=>{const _0x13ff7f=_0x5b748d,_0x24a947=JSON['parse'](_0x5636db[_0x13ff7f(0x3af)][_0x13ff7f(0x2f8)]);!_0x303b8a(_0x24a947,this[_0x13ff7f(0x6a3)])&&_0x5cb79a(_0x24a947,this[_0x13ff7f(0x6a3)])&&this[_0x13ff7f(0x29f)][_0x13ff7f(0x764)](_0x24a947);},'error':console[_0x5b748d(0x657)]});}async['getHash'](_0x11352f){const _0x5a4b0b=_0x440fb7,_0x2f9949=await crypto[_0x5a4b0b(0x4f1)]['digest'](_0x5a4b0b(0x6c0),new TextEncoder()['encode'](this[_0x5a4b0b(0x752)]+'-'+this[_0x5a4b0b(0x6bf)]+'-'+(_0x11352f??this[_0x5a4b0b(0x6a3)])));return Array[_0x5a4b0b(0x70f)](new Uint8Array(_0x2f9949))[_0x5a4b0b(0x5e8)](_0x264b32=>_0x264b32['toString'](0x10)[_0x5a4b0b(0x315)](0x2,'0'))[_0x5a4b0b(0x1da)]('');}}!function(_0x363c7d){const _0x44ff5c=_0x440fb7;_0x363c7d[_0x363c7d[_0x44ff5c(0x69c)]=0x0]=_0x44ff5c(0x69c),_0x363c7d[_0x363c7d['Remove']=0x1]='Remove',_0x363c7d[_0x363c7d[_0x44ff5c(0x6ce)]=0x2]=_0x44ff5c(0x6ce),_0x363c7d[_0x363c7d[_0x44ff5c(0x4fd)]=0x3]=_0x44ff5c(0x4fd),_0x363c7d[_0x363c7d[_0x44ff5c(0x538)]=0x4]=_0x44ff5c(0x538);}(_0x59734b||(_0x59734b={}));const _0x298a8a=require('uuid'),_0x21735a='0',_0x56072e=_0x440fb7(0x2fe),_0x370606=0x3fc00;class _0x4dcba1{[_0x440fb7(0x6bf)];[_0x440fb7(0x6a3)];['remoteId'];['iceServers'];['connectionType'];[_0x440fb7(0x4f9)];[_0x440fb7(0x67f)];[_0x440fb7(0x239)]=0x1;[_0x440fb7(0x464)];[_0x440fb7(0x1e3)]=[];[_0x440fb7(0x27b)]=[];[_0x440fb7(0x336)];constructor(_0x278be8,_0x21c9ae,_0x25fc43,_0x5d55bf,_0x3b4097){const _0x1d9f07=_0x440fb7;this[_0x1d9f07(0x6bf)]=_0x278be8,this[_0x1d9f07(0x6a3)]=_0x21c9ae,this[_0x1d9f07(0x31e)]=_0x25fc43,this[_0x1d9f07(0x6cf)]=_0x5d55bf,this[_0x1d9f07(0x467)]=_0x3b4097,this[_0x1d9f07(0x4f9)]=new RTCPeerConnection({'iceServers':_0x5d55bf}),this[_0x1d9f07(0x225)]();}['close'](){const _0x338c86=_0x440fb7;this[_0x338c86(0x492)]();}[_0x440fb7(0x3dc)](_0x591651){const _0x23da6b=_0x440fb7;this[_0x23da6b(0x467)]=_0x591651;}async[_0x440fb7(0x6c8)](_0x5c1ca4,_0x231d2b){const _0x560189=_0x440fb7;if(_0x231d2b===this[_0x560189(0x239)])for(const _0x57697a of _0x5c1ca4){if(!this[_0x560189(0x4f9)][_0x560189(0x29d)])return this[_0x560189(0x3a0)](_0x57697a);await this[_0x560189(0x4f9)]['addIceCandidate'](_0x57697a);}}[_0x440fb7(0x3bf)](){const _0x339dbb=_0x440fb7;return this[_0x339dbb(0x39f)](),'connected'===this[_0x339dbb(0x4f9)][_0x339dbb(0x2da)]&&[_0x339dbb(0x579),_0x339dbb(0x365)][_0x339dbb(0x63d)](this[_0x339dbb(0x4f9)][_0x339dbb(0x50a)])&&_0x339dbb(0x3da)!==this[_0x339dbb(0x4f9)][_0x339dbb(0x524)]&&_0x339dbb(0x272)===this[_0x339dbb(0x67f)]?.[_0x339dbb(0x3cb)];}[_0x440fb7(0x5c1)](_0x1527a5){const _0x5342dd=_0x440fb7;this[_0x5342dd(0x464)]=_0x1527a5;}[_0x440fb7(0x74f)](){const _0x2f96e9=_0x440fb7;delete this[_0x2f96e9(0x464)];}[_0x440fb7(0x761)](_0x38b23f){const _0x2f1d89=_0x440fb7;this['stopConnection'](),this[_0x2f1d89(0x4f9)]=new RTCPeerConnection({'iceServers':this[_0x2f1d89(0x6cf)]}),_0x38b23f?this[_0x2f1d89(0x239)]=_0x38b23f:this[_0x2f1d89(0x239)]+=0x1,this[_0x2f1d89(0x225)]();}[_0x440fb7(0x4ac)](){const _0x243f2d=_0x440fb7;this[_0x243f2d(0x27b)][_0x243f2d(0x613)](_0x4d9306=>this[_0x243f2d(0x4f9)][_0x243f2d(0x5d6)](_0x4d9306)),this[_0x243f2d(0x27b)]=[];}['publishWebRTCMessage'](_0x270597,_0x3c2958){const _0x3c4ccd=_0x440fb7;if(!this[_0x3c4ccd(0x464)])throw new _0x717bed(_0x717bed[_0x3c4ccd(0x6dc)][_0x3c4ccd(0x5f7)],{'content':_0x270597});const _0x2d6866={'sourceId':this['localId'],'destinationIds':[this['remoteId']],'propagate':this[_0x3c4ccd(0x467)]!==_0x25b86c[_0x3c4ccd(0x3de)],'retry':this[_0x3c4ccd(0x467)]!==_0x25b86c['Core'],'messageType':_0x5a2832['WebRTC'],'content':_0x270597};_0x3c2958&&(_0x2d6866[_0x3c4ccd(0x28f)]=_0x3c2958),this[_0x3c4ccd(0x464)][_0x3c4ccd(0x764)](_0x2d6866);}['setupConnectionEvents'](){const _0x39ca58=_0x440fb7;this[_0x39ca58(0x4f9)][_0x39ca58(0x3ab)]=()=>{const _0x197a7d=_0x39ca58;'complete'===this['connection'][_0x197a7d(0x67d)]&&this[_0x197a7d(0x1e3)][_0x197a7d(0x382)]>0x0&&(this[_0x197a7d(0x336)]&&clearTimeout(this['iceDebounce']),this['iceDebounce']=setTimeout(()=>{const _0x145945=_0x197a7d;delete this['iceDebounce'],this[_0x145945(0x775)](),this[_0x145945(0x1e3)]=[];},0x1f4));},this[_0x39ca58(0x4f9)][_0x39ca58(0x5f9)]=_0x586f4c=>{const _0x1077fc=_0x39ca58;_0x586f4c[_0x1077fc(0x4b9)]&&this[_0x1077fc(0x1e3)][_0x1077fc(0x4e0)](_0x586f4c[_0x1077fc(0x4b9)]);};}[_0x440fb7(0x492)](){const _0x46e200=_0x440fb7;clearTimeout(this[_0x46e200(0x336)]),delete this[_0x46e200(0x336)],this['iceCandidates']=[],this[_0x46e200(0x67f)]&&(this[_0x46e200(0x67f)][_0x46e200(0x6d7)]=null,this[_0x46e200(0x67f)]['onclose']=null,this[_0x46e200(0x67f)][_0x46e200(0x720)](),delete this[_0x46e200(0x67f)]),this[_0x46e200(0x4f9)][_0x46e200(0x3ab)]=null,this[_0x46e200(0x4f9)][_0x46e200(0x5f9)]=null,this[_0x46e200(0x4f9)][_0x46e200(0x3c6)]=null,this[_0x46e200(0x4f9)]['onconnectionstatechange']=null,this[_0x46e200(0x4f9)][_0x46e200(0x519)]=null,this[_0x46e200(0x4f9)][_0x46e200(0x3d2)]=null,this['connection']['close']();}['addPendingIceCandidate'](_0x34fdc6){const _0x2b935d=_0x440fb7;this[_0x2b935d(0x27b)][_0x2b935d(0x4e0)](_0x34fdc6);}[_0x440fb7(0x39f)](){const _0xdcbd37=_0x440fb7;_0x571f6a[_0xdcbd37(0x657)](_0x233447['ConnectionState'],_0xdcbd37(0x4e8),{'localId':this[_0xdcbd37(0x6a3)],'remoteId':this[_0xdcbd37(0x31e)],'connectionState':this[_0xdcbd37(0x4f9)]['connectionState'],'iceConnectionState':this[_0xdcbd37(0x4f9)]['iceConnectionState'],'signalingState':this[_0xdcbd37(0x4f9)][_0xdcbd37(0x524)],'dataChannelState':this[_0xdcbd37(0x67f)]?.['readyState']});}}function _0x360b69(_0x4236a0,_0x413d72){const _0x202fc6=_0x440fb7;_0x413d72[_0x202fc6(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832['WebRTC'],'content':_0x4236a0});}class _0x544673{static [_0x440fb7(0x755)];[_0x440fb7(0x310)]=[];constructor(){setInterval(()=>{const _0x20c28a=a0_0x2287;this[_0x20c28a(0x310)][_0x20c28a(0x613)](_0x575042=>{const _0x597d12=_0x20c28a;if(Date[_0x597d12(0x635)]()-_0x575042[_0x597d12(0x476)]>_0x575042[_0x597d12(0x51e)]){try{_0x575042[_0x597d12(0x385)]();}catch(_0x54a422){}_0x575042[_0x597d12(0x476)]=Date[_0x597d12(0x635)]();}});},0x64);}static[_0x440fb7(0x679)](){const _0x3cd675=_0x440fb7;return _0x544673[_0x3cd675(0x755)]||(_0x544673[_0x3cd675(0x755)]=new _0x544673()),_0x544673[_0x3cd675(0x755)];}[_0x440fb7(0x5ec)](_0x264e46){const _0x298ee8=_0x440fb7,_0x3685f9=this[_0x298ee8(0x765)](_0x264e46),_0x4f5915=_0x264e46[_0x298ee8(0x4cd)]();_0x4f5915&&_0x3685f9&&(_0x4f5915['gain'][_0x298ee8(0x3f0)]=0.001,_0x3685f9[_0x298ee8(0x43f)](_0x4f5915),_0x4f5915[_0x298ee8(0x43f)](_0x264e46[_0x298ee8(0x68c)]),_0x3685f9[_0x298ee8(0x242)]());}[_0x440fb7(0x2d2)](_0x1fe961){return new Promise(_0x42216a=>{setTimeout(_0x42216a,_0x1fe961);});}[_0x440fb7(0x4e7)](_0x2a2438,_0x30da3b){const _0x278c6e=_0x440fb7;return this[_0x278c6e(0x310)][_0x278c6e(0x4e0)]({'callback':_0x2a2438,'interval':_0x30da3b,'lastExecuted':Date['now']()}),()=>{const _0x544b7d=_0x278c6e;this[_0x544b7d(0x310)]=this[_0x544b7d(0x310)][_0x544b7d(0x5ae)](_0x168fd2=>_0x168fd2[_0x544b7d(0x385)]!==_0x2a2438);};}[_0x440fb7(0x765)](_0x586c33){const _0x54c120=_0x440fb7;if(_0x586c33[_0x54c120(0x765)])return _0x586c33[_0x54c120(0x765)]();const _0x277f15=_0x586c33[_0x54c120(0x232)](),_0x1d51a0=_0x586c33['createBuffer'](0x1,0x1,_0x586c33[_0x54c120(0x235)]);return _0x1d51a0['getChannelData'](0x0)[0x0]=0xa,_0x277f15[_0x54c120(0x3c4)]=_0x1d51a0,_0x277f15['loop']=!0x0,_0x277f15;}}const _0x4a8cb3=_0x544673[_0x440fb7(0x679)](),_0x51746b=[_0x440fb7(0x46e),_0x440fb7(0x227),_0x440fb7(0x740),_0x440fb7(0x580),_0x440fb7(0x725),'Detection',_0x440fb7(0x583)],_0x2814b4=[[_0x440fb7(0x3a3),_0x440fb7(0x570),_0x440fb7(0x70b),_0x440fb7(0x31d),_0x440fb7(0x209),_0x440fb7(0x1f9),_0x440fb7(0x73b),_0x440fb7(0x725),_0x440fb7(0x66e)],[_0x440fb7(0x4c2),_0x440fb7(0x1d3),_0x440fb7(0x502),_0x440fb7(0x489)],[_0x440fb7(0x2ab),_0x440fb7(0x526),_0x440fb7(0x40a),'UpdateMediaStream',_0x440fb7(0x714),_0x440fb7(0x343),'CloseKeyValueDatabase',_0x440fb7(0x1db),'CloseMediaStream',_0x440fb7(0x4b0),'RemoteMediaStreamTrackFail',_0x440fb7(0x361),_0x440fb7(0x68a),'RequestTransactionsValue','ObjectStoreStats',_0x440fb7(0x6a2)],[_0x440fb7(0x40a),_0x440fb7(0x376),_0x440fb7(0x714),_0x440fb7(0x402),'RestartNeedMediaStream',_0x440fb7(0x751),_0x440fb7(0x2d3),'MediaStreamUnavailable'],[_0x440fb7(0x594),_0x440fb7(0x3ed)],[_0x440fb7(0x4c9)],[_0x440fb7(0x583),'RemoteRemediation']];function _0x35a69a(_0x2a8165){const _0x22cb30=_0x440fb7;return{..._0x2a8165,'systemMessageType':_0x51746b[_0x2a8165[_0x22cb30(0x4f0)]],'systemContentMessageType':_0x2814b4[_0x2a8165['messageType']][_0x2a8165[_0x22cb30(0x6bd)][_0x22cb30(0x637)]]};}const _0x3bd8e5={'hour':'2-digit','minute':_0x440fb7(0x631),'second':'2-digit'};function _0x5881b6(_0x249b8c,_0x1b190c){const _0x35fef5=_0x440fb7,_0x2d960d=(function(){const _0x16995d=a0_0x2287,_0x5c4fb3=new Date(),_0x119db6=_0x5c4fb3['getMilliseconds'](),_0x331021=_0x5c4fb3[_0x16995d(0x302)](_0x16995d(0x698),_0x3bd8e5)[_0x16995d(0x4da)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x331021+'.'+(_0x119db6>0x64?''+_0x119db6:_0x119db6>0xa?'0'+_0x119db6:'00'+_0x119db6);}()),{sourceId:_0x126c89,destinationIds:_0x102028,systemMessageType:_0x4155f5,systemContentMessageType:_0x1fb80b}=_0x35a69a(_0x249b8c);return _0x2d960d+_0x35fef5(0x3c3)+_0x1b190c+_0x35fef5(0x3c3)+(_0x126c89===_0x1b190c?_0x35fef5(0x605)+_0x4155f5+_0x35fef5(0x4b2)+(_0x102028?''+_0x102028:_0x35fef5(0x6d0)):_0x249b8c[_0x35fef5(0x472)]===_0x513fd0?_0x35fef5(0x659)+_0x4155f5+'\x27':(_0x102028?'':_0x35fef5(0x666))+_0x35fef5(0x5e9)+_0x4155f5+'\x27\x20from\x20'+_0x126c89)+_0x35fef5(0x2ad)+_0x1fb80b+'\x27\x20payload:';}class _0x147149 extends _0x4dcba1{[_0x440fb7(0x6af)]=_0x487683();[_0x440fb7(0x58f)]=_0x487683();[_0x440fb7(0x478)]=_0x487683();[_0x440fb7(0x1df)]=new Map();[_0x440fb7(0x66a)]=new Map();[_0x440fb7(0x458)];[_0x440fb7(0x771)]=0x0;[_0x440fb7(0x429)]={'messages':{'total':0x0}};[_0x440fb7(0x1e2)]=0x0;[_0x440fb7(0x43b)]=0x0;[_0x440fb7(0x720)](){const _0x105959=_0x440fb7;this[_0x105959(0x60e)](),this['receivers']['clear'](),super[_0x105959(0x720)]();}async[_0x440fb7(0x397)](_0x58b855,_0xfcd466){const _0x23a696=_0x440fb7;this[_0x23a696(0x239)]=_0xfcd466,this[_0x23a696(0x60e)](),await this['connection'][_0x23a696(0x3e1)](_0x58b855);const _0x5883c7=await this['connection'][_0x23a696(0x244)]();await this[_0x23a696(0x4f9)][_0x23a696(0x392)](_0x5883c7),this['processPendingIceCandidates']();const _0x659b8b=(0x0,_0x298a8a['v4'])();this['publishWebRTCMessage']({'type':_0x244554['Answer'],'answer':this[_0x23a696(0x4f9)]['localDescription'],'version':_0xfcd466,'connectionType':this[_0x23a696(0x467)]},_0x659b8b),this[_0x23a696(0x467)]===_0x25b86c[_0x23a696(0x3de)]&&(this['waitSuccess']=_0x4a8cb3[_0x23a696(0x4e7)](()=>{const _0x2f6a50=_0x23a696;this[_0x2f6a50(0x5cd)]({'type':_0x244554[_0x2f6a50(0x570)],'answer':this['connection'][_0x2f6a50(0x4b8)],'version':_0xfcd466,'connectionType':this[_0x2f6a50(0x467)]},_0x659b8b);},0x1388));}['handleSuccess'](){this['clearWaitSuccess']();}[_0x440fb7(0x2ca)](_0x42050d){const _0x44219e=_0x440fb7;this['resetConnection'](_0x42050d),this[_0x44219e(0x5cd)]({'type':_0x244554[_0x44219e(0x1f9)]});}async['collectStats'](){const _0x5a22fe=_0x440fb7;await async function(_0x3ee377,_0x525d3d,_0x498dce,_0x53e7ae){const _0x52257f=a0_0x2287;for(const [_0x48aaad,_0x10536d]of _0x525d3d){const _0xc96c5f=[];for(const _0x2cc545 of _0x10536d)_0xc96c5f['push'](await _0x498dce['getStats'](_0x2cc545));0x0!==_0xc96c5f[_0x52257f(0x382)]&&_0x360b69({'type':_0x244554[_0x52257f(0x725)],'streamId':_0x48aaad,'userId':_0x3ee377,'stats':_0xc96c5f},_0x53e7ae);}}(this[_0x5a22fe(0x31e)],this['receivers'],this['connection'],this['systemTopic']),this['systemTopic'][_0x5a22fe(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832['WebRTC'],'content':{'type':_0x244554[_0x5a22fe(0x725)],'userId':this[_0x5a22fe(0x31e)],'stats':{'origin':_0x98444c['Receiver'],'timestamp':Date[_0x5a22fe(0x635)](),'messagesReceived':this[_0x5a22fe(0x771)],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x5a22fe(0x43b)],'systemMessages':this[_0x5a22fe(0x429)]}}});}['onMessage'](_0x4fe571){const _0x5c2a0b=_0x440fb7;return this['messageCallback'][_0x5c2a0b(0x3af)](_0x4fe571);}[_0x440fb7(0x3f8)](_0x1c7c8a){const _0x1d81d2=_0x440fb7;return this[_0x1d81d2(0x58f)][_0x1d81d2(0x3af)](({track:_0x484e4a,stream:_0x353e51})=>_0x1c7c8a(_0x484e4a,_0x353e51));}[_0x440fb7(0x5f3)](_0x5ecf3d){const _0x534742=_0x440fb7;return this['removeTrackCallback'][_0x534742(0x3af)](({track:_0x50d4f5,stream:_0xf33484})=>_0x5ecf3d(_0x50d4f5,_0xf33484));}[_0x440fb7(0x761)](_0x3c8cbf){const _0x5b9175=_0x440fb7;this['clearWaitSuccess'](),this[_0x5b9175(0x1df)][_0x5b9175(0x613)](_0x412a6a=>{const _0x314fa4=_0x5b9175;_0x412a6a[_0x314fa4(0x5ad)]();}),super[_0x5b9175(0x761)](_0x3c8cbf);}[_0x440fb7(0x775)](){const _0x4c834a=_0x440fb7;this[_0x4c834a(0x5cd)]({'type':_0x244554[_0x4c834a(0x70b)],'candidates':this[_0x4c834a(0x1e3)],'origin':_0x98444c[_0x4c834a(0x41f)],'version':this[_0x4c834a(0x239)],'connectionType':this['connectionType']});}[_0x440fb7(0x225)](){const _0x52110f=_0x440fb7;super[_0x52110f(0x225)](),this[_0x52110f(0x4f9)][_0x52110f(0x519)]=_0x252d99=>{const _0x2d2f0a=_0x52110f;_0x571f6a['log'](_0x233447[_0x2d2f0a(0x5dd)],_0x2d2f0a(0x5c8),this[_0x2d2f0a(0x6a3)],_0x252d99),_0x252d99[_0x2d2f0a(0x23c)][0x0]['onremovetrack']=_0x547a74=>{const _0x2325e3=_0x2d2f0a;this[_0x2325e3(0x1df)]['get'](_0x252d99[_0x2325e3(0x23c)][0x0]['id'])?.[_0x2325e3(0x528)](_0x547a74[_0x2325e3(0x4f8)]),0x0===this['receivers'][_0x2325e3(0x39a)](_0x252d99[_0x2325e3(0x23c)][0x0]['id'])?.[_0x2325e3(0x264)]&&this[_0x2325e3(0x1df)][_0x2325e3(0x528)](_0x252d99[_0x2325e3(0x23c)][0x0]['id']),this[_0x2325e3(0x478)][_0x2325e3(0x764)]({'track':_0x547a74[_0x2325e3(0x4f8)],'stream':_0x252d99['streams'][0x0]});},this[_0x2d2f0a(0x1df)]['has'](_0x252d99[_0x2d2f0a(0x23c)][0x0]['id'])||this['receivers']['set'](_0x252d99['streams'][0x0]['id'],new Set()),this[_0x2d2f0a(0x1df)][_0x2d2f0a(0x39a)](_0x252d99[_0x2d2f0a(0x23c)][0x0]['id'])[_0x2d2f0a(0x457)](_0x252d99[_0x2d2f0a(0x4f8)]),this[_0x2d2f0a(0x58f)][_0x2d2f0a(0x764)]({'track':_0x252d99[_0x2d2f0a(0x4f8)],'stream':_0x252d99[_0x2d2f0a(0x23c)][0x0]});},this['connection'][_0x52110f(0x3d2)]=_0x534ac4=>{const _0x3e0852=_0x52110f;this[_0x3e0852(0x67f)]=_0x534ac4['channel'],this['dataChannel']['onmessage']=_0x4698b0=>{const _0x5c1229=_0x3e0852;if(_0x4698b0['data']!==_0x21735a)this['handleOnMessage'](_0x4698b0['data']);else{if(!this[_0x5c1229(0x67f)])return void _0x571f6a[_0x5c1229(0x1d8)](_0x5c1229(0x46d),{'clusterId':this['clusterId'],'userId':this['localId'],'remoteId':this['remoteId'],'data':{'connection':_0x5c1229(0x5d9)}});if('open'!==this[_0x5c1229(0x67f)][_0x5c1229(0x3cb)])return;this['dataChannel'][_0x5c1229(0x430)]('1');}};};}[_0x440fb7(0x217)](_0xe849be){const _0x44c4b8=_0x440fb7;if(_0x44c4b8(0x5af)==typeof _0xe849be&&_0xe849be[_0x44c4b8(0x56a)](_0x56072e))return this[_0x44c4b8(0x771)]+=0x1,this[_0x44c4b8(0x1e2)]+=_0xe849be[_0x44c4b8(0x382)],this[_0x44c4b8(0x5e4)](_0xe849be);setTimeout(()=>{const _0xd6845e=_0x44c4b8,_0x27ad07=Date[_0xd6845e(0x635)]();let _0x46c77f;if((_0xe849be instanceof ArrayBuffer||_0xe849be['length']<=_0x370606)&&(this['messagesReceived']+=0x1,this[_0xd6845e(0x1e2)]+=_0xe849be instanceof ArrayBuffer?_0xe849be[_0xd6845e(0x4bf)]:_0xe849be[_0xd6845e(0x382)]),_0xe849be instanceof ArrayBuffer){const [_0x131b6e,_0x595a52]=this[_0xd6845e(0x45b)](_0xe849be);_0x46c77f=_0x131b6e,_0x46c77f[_0xd6845e(0x6bd)]['data']=_0x595a52;}else _0x46c77f=JSON['parse'](_0xe849be);if(0x0===_0x46c77f[_0xd6845e(0x441)]){this['systemMessagesReceived']['messages']['total']+=0x1;const {systemMessageType:_0x1af1b8,systemContentMessageType:_0x38a986}=_0x35a69a(_0x46c77f);this['systemMessagesReceived'][_0x1af1b8]||(this[_0xd6845e(0x429)][_0x1af1b8]={[_0x38a986]:0x0}),this[_0xd6845e(0x429)][_0x1af1b8][_0x38a986]||(this[_0xd6845e(0x429)][_0x1af1b8][_0x38a986]=0x0),this[_0xd6845e(0x429)][_0x1af1b8][_0xd6845e(0x6f6)]||(this[_0xd6845e(0x429)][_0x1af1b8]['total']=0x0),this[_0xd6845e(0x429)][_0x1af1b8][_0x38a986]+=0x1,this[_0xd6845e(0x429)][_0x1af1b8][_0xd6845e(0x6f6)]+=0x1;}this[_0xd6845e(0x6af)][_0xd6845e(0x764)](_0x46c77f),this[_0xd6845e(0x43b)]+=Date['now']()-_0x27ad07;},0x0);}[_0x440fb7(0x5e4)](_0x435126){const _0x6cc51c=_0x440fb7,_0x389d8b=_0x435126[_0x6cc51c(0x61b)](';'),_0x456650=_0x389d8b[0x1],_0x14fb15=parseInt(_0x389d8b[0x2],0xa),_0x45c2e7=parseInt(_0x389d8b[0x3],0xa),_0x394988=_0x435126[_0x6cc51c(0x5fd)](_0x56072e+';'+_0x456650+';'+_0x14fb15+';'+_0x45c2e7+';','');this[_0x6cc51c(0x66a)][_0x6cc51c(0x4f5)](_0x456650)||this['chunks'][_0x6cc51c(0x442)](_0x456650,[]);const _0x33c5fa=this[_0x6cc51c(0x66a)][_0x6cc51c(0x39a)](_0x456650);_0x33c5fa[_0x14fb15]=_0x394988,_0x33c5fa[_0x6cc51c(0x382)]===_0x45c2e7&&(this[_0x6cc51c(0x217)](_0x33c5fa['join']('')),this['chunks'][_0x6cc51c(0x528)](_0x456650));}['clearWaitSuccess'](){const _0x492bc2=_0x440fb7;this[_0x492bc2(0x458)]?.(),delete this['waitSuccess'];}[_0x440fb7(0x41b)](_0x3c0a69){const _0x454315=_0x440fb7,_0x2a7cb3=new TextDecoder()[_0x454315(0x661)](_0x3c0a69);return JSON[_0x454315(0x5a1)](_0x2a7cb3);}[_0x440fb7(0x45b)](_0x395536){const _0x12d318=_0x440fb7,_0x52cec1=new Uint8Array(_0x395536[_0x12d318(0x28e)](0x0,0x4)),_0x44ad52=new Uint32Array(_0x52cec1[_0x12d318(0x3c4)])[0x0],_0xaed3db=new Uint8Array(_0x395536[_0x12d318(0x28e)](0x4,0x4+_0x44ad52)),_0x12dba4=new Uint8Array(_0x395536[_0x12d318(0x28e)](0x4+_0x44ad52));return[this[_0x12d318(0x41b)](_0xaed3db['buffer']),_0x12dba4[_0x12d318(0x3c4)]];}}const _0x2f6f69=0xc350;var _0x4fae97,_0x6413dc,_0x167d1a,_0x208225,_0x4f6aba;function _0x3fc96f(_0x3f4292){const _0x3d143e=_0x440fb7;if(_0x3f4292['tracks']['video']&&_0x3f4292[_0x3d143e(0x6ee)]['video'][_0x3d143e(0x6de)]){const _0x2ef9d3=_0x3f4292[_0x3d143e(0x6ee)][_0x3d143e(0x2c7)][_0x3d143e(0x6de)]['getParameters']();if(!_0x2ef9d3)return;_0x2ef9d3['encodings'][_0x3d143e(0x613)](_0x48a5ec=>{const _0x2b10d2=_0x3d143e;_0x48a5ec['scaleResolutionDownBy']=Math[_0x2b10d2(0x271)](0xa*_0x3f4292[_0x2b10d2(0x747)])/0xa,_0x48a5ec['maxFramerate']=_0x3f4292[_0x2b10d2(0x2e2)],_0x48a5ec['maxBitrate']=_0x3f4292[_0x2b10d2(0x733)],_0x48a5ec[_0x2b10d2(0x606)]=_0x9608a(_0x3f4292[_0x2b10d2(0x606)]);}),_0x3f4292[_0x3d143e(0x6ee)][_0x3d143e(0x2c7)][_0x3d143e(0x6de)][_0x3d143e(0x62d)](_0x2ef9d3)[_0x3d143e(0x481)](()=>{});}}function _0x9608a(_0x425768){const _0x254367=_0x440fb7;switch(_0x425768){case _0x274936[_0x254367(0x66b)]:return _0x254367(0x325);case _0x274936[_0x254367(0x6c2)]:return _0x254367(0x655);default:return'medium';}}!function(_0x19c5c3){const _0x690c2b=_0x440fb7;_0x19c5c3[_0x19c5c3['High']=0x0]=_0x690c2b(0x6c2),_0x19c5c3[_0x19c5c3[_0x690c2b(0x3c9)]=0x1]='Medium',_0x19c5c3[_0x19c5c3[_0x690c2b(0x66b)]=0x2]='Low';}(_0x4fae97||(_0x4fae97={}));class _0x5d6230 extends _0x4dcba1{[_0x440fb7(0x1fa)];[_0x440fb7(0x284)];[_0x440fb7(0x2b6)]=new Map();[_0x440fb7(0x487)];[_0x440fb7(0x665)];[_0x440fb7(0x277)];['isReconnecting']=!0x1;[_0x440fb7(0x200)];[_0x440fb7(0x3c1)];['upgradeTimeout'];[_0x440fb7(0x521)]=function(e,t=_0x4fae97,s=!0x1){const _0x20d9e9=_0x440fb7;let i=!0x1;const n=[];async function a(){const _0x35acea=a0_0x2287;if(!i){for(i=!0x0;n[_0x35acea(0x708)](e=>e[_0x35acea(0x5c0)]);){let t,i=0x0;for(const [e,s]of n[_0x35acea(0x615)]())if(t=s[_0x35acea(0x636)](),i=e,t)break;if(t)try{if(e instanceof _0x3189e7&&e['call'](t),e instanceof _0x2c95c7&&await e['call'](t),n[_0x35acea(0x28e)](-0x1)[_0x35acea(0x708)](e=>e[_0x35acea(0x5c0)]))continue;const s=n[_0x35acea(0x382)]-0x1;i===s&&n[s]['head']&&await _0x4a8cb3[_0x35acea(0x2d2)](0x0);}catch(a){s?n[i][_0x35acea(0x4e0)](t,!0x1):n[i]['unshift'](t,!0x1),await e[_0x35acea(0x2d2)]();}}i=!0x1;}}return Object[_0x20d9e9(0x359)](t)[_0x20d9e9(0x613)](e=>{'string'!=typeof e&&(n[e]=_0x4dd437(a));}),{'queues':n};}(new _0x3189e7(this['sendAction']['bind'](this),this[_0x440fb7(0x709)][_0x440fb7(0x346)](this)));[_0x440fb7(0x54e)]=0x0;[_0x440fb7(0x23f)]=0x0;[_0x440fb7(0x65d)]=0x0;[_0x440fb7(0x608)]=0x0;[_0x440fb7(0x675)];constructor(_0x447380,_0x3fcb08,_0x3c0dfc,_0x5a38f3,_0x3ac776,_0x57be4f,_0x184c64){const _0xfb3b03=_0x440fb7;super(_0x447380,_0x3fcb08,_0x3c0dfc,_0x5a38f3,_0x3ac776),this[_0xfb3b03(0x1fa)]=_0x57be4f,this[_0xfb3b03(0x284)]=_0x184c64;}[_0x440fb7(0x720)](){const _0x30262e=_0x440fb7;this[_0x30262e(0x252)](),this[_0x30262e(0x293)](),delete this[_0x30262e(0x277)],this[_0x30262e(0x5ef)](),this[_0x30262e(0x6d8)](),this[_0x30262e(0x711)](),this[_0x30262e(0x2b6)][_0x30262e(0x5ad)](),this[_0x30262e(0x3c8)]=!0x1,this[_0x30262e(0x521)][_0x30262e(0x574)][_0x30262e(0x613)](_0x55b087=>_0x55b087['clear']()),this[_0x30262e(0x5c2)](),super['close']();}['isConnected'](){const _0x147c98=_0x440fb7;return!!this[_0x147c98(0x277)]&&super[_0x147c98(0x3bf)]()&&Date[_0x147c98(0x635)]()-this['lastHeartbeat']<0x3a98;}async['collectStats'](){const _0x18f8df=_0x440fb7;await async function(_0x402882,_0x54dcc9,_0x11a5a3,_0x5edb8b){const _0x960b7f=a0_0x2287;for(const [_0x2bb628,_0x10a3b3]of _0x54dcc9){const _0x4e37f2=[];_0x10a3b3[_0x960b7f(0x6ee)][_0x960b7f(0x2c7)]?.[_0x960b7f(0x4f8)]&&_0x10a3b3[_0x960b7f(0x6ee)][_0x960b7f(0x2c7)]?.[_0x960b7f(0x6de)]&&_0x4e37f2[_0x960b7f(0x4e0)](await _0x11a5a3['getStats'](_0x10a3b3['tracks']['video']['track'])),_0x10a3b3[_0x960b7f(0x6ee)]['audio']?.[_0x960b7f(0x4f8)]&&_0x10a3b3[_0x960b7f(0x6ee)]['audio']?.[_0x960b7f(0x6de)]&&_0x4e37f2[_0x960b7f(0x4e0)](await _0x11a5a3[_0x960b7f(0x459)](_0x10a3b3[_0x960b7f(0x6ee)][_0x960b7f(0x37a)][_0x960b7f(0x4f8)])),0x0!==_0x4e37f2[_0x960b7f(0x382)]&&_0x360b69({'type':_0x244554[_0x960b7f(0x725)],'streamId':_0x2bb628,'userId':_0x402882,'stats':_0x4e37f2},_0x5edb8b);}}(this[_0x18f8df(0x31e)],this[_0x18f8df(0x2b6)],this[_0x18f8df(0x4f9)],this['systemTopic']),this['systemTopic'][_0x18f8df(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832['WebRTC'],'content':{'type':_0x244554[_0x18f8df(0x725)],'userId':this['remoteId'],'stats':{'origin':_0x98444c['Sender'],'timestamp':Date[_0x18f8df(0x635)](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x18f8df(0x23f)],'timeSending':this[_0x18f8df(0x65d)],'roundTripTime':this['roundTripTime']}}});}async['createOffer'](_0x30c109){const _0x4086bc=_0x440fb7;_0x571f6a['log'](_0x233447[_0x4086bc(0x5dd)],_0x4086bc(0x65c),this[_0x4086bc(0x6a3)],this[_0x4086bc(0x31e)]),this['clearRestartTimeout'](),this[_0x4086bc(0x6d8)](),this[_0x4086bc(0x711)](),this[_0x4086bc(0x200)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0x4086bc(0x67f)]||(this['dataChannel']=this['connection'][_0x4086bc(0x1ed)](_0x4086bc(0x2f8)),this['dataChannel'][_0x4086bc(0x2e6)]=0x10000,this[_0x4086bc(0x67f)]['onclose']=()=>{const _0x4274e4=_0x4086bc;this[_0x4274e4(0x675)]=setTimeout(()=>{const _0x5d330d=_0x4274e4;delete this[_0x5d330d(0x675)],['connecting',_0x5d330d(0x272)][_0x5d330d(0x63d)](this[_0x5d330d(0x67f)]?.['readyState']??'')||this[_0x5d330d(0x37e)]();},0xfa);});const _0x5595af=await this[_0x4086bc(0x4f9)][_0x4086bc(0x222)](_0x30c109);this[_0x4086bc(0x277)]||(this['lastHeartbeat']=Date['now']()),await this[_0x4086bc(0x4f9)][_0x4086bc(0x392)](_0x5595af);const _0x38345a=(0x0,_0x298a8a['v4'])();this['publishWebRTCMessage']({'type':_0x244554[_0x4086bc(0x3a3)],'offer':this[_0x4086bc(0x4f9)][_0x4086bc(0x4b8)],'version':this['currentVersion'],'connectionType':this['connectionType']},_0x38345a),this[_0x4086bc(0x467)]===_0x25b86c[_0x4086bc(0x3de)]&&(this[_0x4086bc(0x665)]=_0x4a8cb3[_0x4086bc(0x4e7)](()=>{const _0x260ebd=_0x4086bc;this[_0x260ebd(0x5cd)]({'type':_0x244554['Offer'],'offer':this[_0x260ebd(0x4f9)]['localDescription'],'version':this[_0x260ebd(0x239)],'connectionType':this[_0x260ebd(0x467)]},_0x38345a);},0x1388));}async[_0x440fb7(0x5e1)](_0x7f7f9,_0x8932d7){const _0x532aba=_0x440fb7;if(_0x8932d7===this[_0x532aba(0x239)]){this[_0x532aba(0x711)]();try{await this[_0x532aba(0x4f9)][_0x532aba(0x3e1)](_0x7f7f9),this[_0x532aba(0x4ac)](),this[_0x532aba(0x4f9)][_0x532aba(0x625)]||(this[_0x532aba(0x4f9)][_0x532aba(0x625)]=()=>this[_0x532aba(0x222)]()),this[_0x532aba(0x6d8)](),this[_0x532aba(0x693)]();}catch(_0x1d2b6c){this[_0x532aba(0x37e)]();}}}['send'](_0x3336c8){const _0x44dec1=_0x440fb7;if(!this[_0x44dec1(0x67f)])throw new _0x717bed(_0x717bed['codes'][_0x44dec1(0x71a)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x44dec1(0x6a3)],'remoteId':this[_0x44dec1(0x31e)],'eventMessage':_0x3336c8});if(_0x44dec1(0x272)!==this['dataChannel'][_0x44dec1(0x3cb)])throw new _0x717bed(_0x717bed[_0x44dec1(0x6dc)][_0x44dec1(0x71a)],{'message':_0x44dec1(0x6a6),'localId':this[_0x44dec1(0x6a3)],'remoteId':this[_0x44dec1(0x31e)],'eventMessage':_0x3336c8});let _0x562111;if(_0x3336c8[_0x44dec1(0x6bd)][_0x44dec1(0x2f8)]instanceof ArrayBuffer){const _0x399ccc=_0x3336c8[_0x44dec1(0x6bd)]['data'];delete _0x3336c8['content']['data'],_0x562111=this['mergeParts'](_0x3336c8,_0x399ccc);}else _0x562111=JSON[_0x44dec1(0x6d2)](_0x3336c8);if(_0x44dec1(0x5af)==typeof _0x562111&&_0x562111[_0x44dec1(0x382)]>_0x370606)return this[_0x44dec1(0x642)](_0x3336c8,_0x562111);const _0x5a14a4=0x0===_0x3336c8[_0x44dec1(0x441)]&&[_0x5a2832[_0x44dec1(0x580)],_0x5a2832[_0x44dec1(0x46e)]][_0x44dec1(0x63d)](_0x3336c8[_0x44dec1(0x4f0)])?_0x4fae97[_0x44dec1(0x6c2)]:_0x3336c8 instanceof ArrayBuffer?_0x4fae97['Low']:_0x4fae97[_0x44dec1(0x3c9)];this[_0x44dec1(0x652)](_0x562111,_0x5a14a4);}['addTrack'](_0x415908,_0x1bf317,_0x27f3b6,_0x3e7ece){const _0x1a5954=_0x440fb7,_0x369e6a=(_0x465a83=this[_0x1a5954(0x1fa)],_0x40d841=this[_0x1a5954(0x284)],Math['floor'](0xe1000*_0x465a83*_0x40d841));var _0x465a83,_0x40d841;const _0x43d368=this[_0x1a5954(0x2b6)][_0x1a5954(0x39a)](_0x1bf317['id'])||{'stream':_0x1bf317,'priority':_0x27f3b6,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x369e6a,'maxBitrate':_0x369e6a,'framerate':this[_0x1a5954(0x1fa)],'maxFramerate':this[_0x1a5954(0x1fa)],'tracks':{},'params':_0x3e7ece},_0xa0e1=_0x43d368[_0x1a5954(0x6ee)][_0x415908[_0x1a5954(0x248)]]||{'track':_0x415908};_0xa0e1[_0x1a5954(0x6de)]?(_0xa0e1['track']=_0x415908,_0xa0e1[_0x1a5954(0x6de)][_0x1a5954(0x759)](_0x415908),this[_0x1a5954(0x4f9)]['getTransceivers']()[_0x1a5954(0x613)](_0x2637da=>{const _0x33a431=_0x1a5954;_0x2637da['sender']===_0xa0e1[_0x33a431(0x6de)]&&(_0x2637da['direction']=_0x33a431(0x2a5));})):_0xa0e1[_0x1a5954(0x6de)]=this[_0x1a5954(0x4f9)][_0x1a5954(0x6e3)](_0x415908,_0x1bf317),_0x43d368['tracks'][_0x415908['kind']]=_0xa0e1,_0x3e7ece&&(_0x43d368[_0x1a5954(0x71f)]=_0x3e7ece),_0x3e7ece&&_0x1a5954(0x2c7)===_0x3e7ece[_0x1a5954(0x248)]&&_0x3e7ece[_0x1a5954(0x369)]&&_0x3e7ece['maxResolution']&&(_0x43d368[_0x1a5954(0x747)]=this[_0x1a5954(0x57f)](_0x3e7ece[_0x1a5954(0x369)],_0x3e7ece[_0x1a5954(0x3f1)]),_0x43d368[_0x1a5954(0x24a)]=_0x43d368[_0x1a5954(0x747)],_0x3fc96f(_0x43d368)),this[_0x1a5954(0x2b6)][_0x1a5954(0x442)](_0x1bf317['id'],_0x43d368);}[_0x440fb7(0x662)](_0x28c970,_0x2e97f2){const _0xec8afc=_0x440fb7,_0x567661=this[_0xec8afc(0x2b6)][_0xec8afc(0x39a)](_0x28c970['id']);_0x567661&&_0x567661[_0xec8afc(0x606)]!==_0x2e97f2&&(_0x567661[_0xec8afc(0x606)]=_0x2e97f2,_0x3fc96f(_0x567661));}[_0x440fb7(0x5d0)](_0x296d9d,_0x1c6fbf){const _0x526dc4=_0x440fb7,_0x16d8e3=this[_0x526dc4(0x2b6)]['get'](_0x296d9d['id']);_0x16d8e3&&(_0x16d8e3[_0x526dc4(0x71f)]=_0x1c6fbf,_0x1c6fbf&&_0x526dc4(0x2c7)===_0x1c6fbf[_0x526dc4(0x248)]&&_0x1c6fbf[_0x526dc4(0x369)]&&_0x1c6fbf[_0x526dc4(0x3f1)]&&(_0x16d8e3['minResolutionScale']=this[_0x526dc4(0x57f)](_0x1c6fbf[_0x526dc4(0x369)],_0x1c6fbf[_0x526dc4(0x3f1)]),_0x16d8e3[_0x526dc4(0x747)]<_0x16d8e3[_0x526dc4(0x24a)]&&(_0x16d8e3[_0x526dc4(0x747)]=_0x16d8e3[_0x526dc4(0x24a)]),_0x3fc96f(_0x16d8e3),this['clearUpgradeTimeout'](),this[_0x526dc4(0x25a)]()),this[_0x526dc4(0x2b6)][_0x526dc4(0x442)](_0x296d9d['id'],_0x16d8e3));}[_0x440fb7(0x5ab)](_0x1e67f8,_0x5678d1){const _0x31b665=_0x440fb7,_0x20f438=this['senders']['get'](_0x5678d1['id']);if(_0x20f438){const _0xa2e136=_0x20f438[_0x31b665(0x6ee)][_0x1e67f8['kind']];_0xa2e136&&(_0xa2e136[_0x31b665(0x6de)]&&this[_0x31b665(0x4f9)][_0x31b665(0x5ab)](_0xa2e136[_0x31b665(0x6de)]),_0xa2e136[_0x31b665(0x4f8)]=void 0x0);}}[_0x440fb7(0x50f)](_0x2d1fcb){const _0x58ae92=_0x440fb7;this[_0x58ae92(0x252)]();const _0x20ac0b=function(_0x39b0bc,_0x3b78bb){const _0x4781d1=_0x58ae92;return _0x39b0bc[_0x4781d1(0x45d)]((_0x28b0ef,_0x5e83da)=>_0x3b78bb[_0x4781d1(0x3b9)]===_0x11cc4b['Downgrade']?_0x5e83da['priority']-_0x28b0ef[_0x4781d1(0x606)]:_0x28b0ef[_0x4781d1(0x606)]-_0x5e83da['priority'])[_0x4781d1(0x5a9)](_0x373acd=>function(_0x5a992f,_0x4356a2){const _0x463369=_0x4781d1;if(_0x4356a2[_0x463369(0x3b9)]===_0x11cc4b['Downgrade']){if(_0x4356a2[_0x463369(0x45a)]===_0x4eaa4d[_0x463369(0x259)])return _0x5a992f[_0x463369(0x747)]<0x4||_0x5a992f[_0x463369(0x216)]>0xf;if(_0x4356a2[_0x463369(0x45a)]===_0x4eaa4d[_0x463369(0x549)])return _0x5a992f[_0x463369(0x6e5)]>_0x2f6f69;}return _0x5a992f['resolutionScale']>_0x5a992f['minResolutionScale']||_0x5a992f[_0x463369(0x2e2)]<_0x5a992f[_0x463369(0x216)]||_0x5a992f['bitrate']<_0x5a992f[_0x463369(0x6e5)];}(_0x373acd,_0x3b78bb));}(Array['from'](this[_0x58ae92(0x2b6)]['values']()),_0x2d1fcb);_0x20ac0b&&function(_0x227c93,_0x6804d2){const _0x42672d=_0x58ae92;if(_0x227c93[_0x42672d(0x6ee)][_0x42672d(0x2c7)]&&_0x227c93[_0x42672d(0x6ee)]['video'][_0x42672d(0x6de)]){_0x227c93[_0x42672d(0x747)]=function(_0x8cc18c,_0x16a361,_0x480e9f){const _0x2f0e59=_0x42672d;switch(_0x480e9f[_0x2f0e59(0x3b9)]){case _0x11cc4b[_0x2f0e59(0x633)]:_0x480e9f['component']===_0x4eaa4d[_0x2f0e59(0x259)]&&(_0x8cc18c+=0.5)>0x4&&(_0x8cc18c=0x4);break;case _0x11cc4b['Upgrade']:(_0x8cc18c-=0.5)<_0x16a361&&(_0x8cc18c=_0x16a361);}return _0x8cc18c;}(_0x227c93[_0x42672d(0x747)],_0x227c93[_0x42672d(0x24a)],_0x6804d2),_0x227c93[_0x42672d(0x2e2)]=function(_0x4f2134,_0xad205b,_0x1c4727){const _0x3f9583=_0x42672d;switch(_0x1c4727['action']){case _0x11cc4b[_0x3f9583(0x633)]:_0x1c4727['component']===_0x4eaa4d[_0x3f9583(0x259)]&&(_0x4f2134-=0x3)<0xf&&(_0x4f2134=0xf);break;case _0x11cc4b[_0x3f9583(0x59e)]:(_0x4f2134+=0x3)>_0xad205b&&(_0x4f2134=_0xad205b);}return _0x4f2134;}(_0x227c93['framerate'],_0x227c93[_0x42672d(0x216)],_0x6804d2),_0x227c93['bitrate']=function(_0x205801,_0x261729,_0x572b23){const _0x2aaa32=_0x42672d;switch(_0x572b23[_0x2aaa32(0x3b9)]){case _0x11cc4b['Downgrade']:_0x572b23[_0x2aaa32(0x45a)]===_0x4eaa4d[_0x2aaa32(0x549)]&&(_0x205801*=0.75)<_0x2f6f69&&(_0x205801=_0x2f6f69);break;case _0x11cc4b['Upgrade']:(_0x205801*=1.25)>_0x261729&&(_0x205801=_0x261729);}return _0x205801;}(_0x227c93[_0x42672d(0x733)],_0x227c93['maxBitrate'],_0x6804d2);const _0x189041=_0x227c93[_0x42672d(0x6ee)][_0x42672d(0x2c7)][_0x42672d(0x6de)][_0x42672d(0x5b9)]();_0x189041['encodings'][_0x42672d(0x613)](_0x26e9a0=>{const _0x5d2cc1=_0x42672d;_0x26e9a0[_0x5d2cc1(0x61e)]=Math[_0x5d2cc1(0x271)](0xa*_0x227c93[_0x5d2cc1(0x747)])/0xa,_0x26e9a0[_0x5d2cc1(0x216)]=_0x227c93[_0x5d2cc1(0x2e2)],_0x26e9a0[_0x5d2cc1(0x6e5)]=_0x227c93[_0x5d2cc1(0x733)],_0x26e9a0['priority']=_0x9608a(_0x227c93['priority']);}),_0x227c93[_0x42672d(0x6ee)]['video']['sender']['setParameters'](_0x189041)['catch'](()=>{});}}(_0x20ac0b,_0x2d1fcb),(_0x20ac0b||_0x2d1fcb['action']===_0x11cc4b[_0x58ae92(0x633)])&&this[_0x58ae92(0x25a)]();}['resetConnection'](){const _0x15f676=_0x440fb7;super[_0x15f676(0x761)](),this[_0x15f676(0x5c2)](),this['clearWaitAnswer'](),this[_0x15f676(0x2b6)][_0x15f676(0x613)](_0x28751c=>{const _0x4aabc5=_0x15f676;_0x28751c[_0x4aabc5(0x6ee)][_0x4aabc5(0x2c7)]&&(_0x28751c['tracks']['video']['sender']=void 0x0),_0x28751c[_0x4aabc5(0x6ee)][_0x4aabc5(0x37a)]&&(_0x28751c[_0x4aabc5(0x6ee)][_0x4aabc5(0x37a)][_0x4aabc5(0x6de)]=void 0x0);}),this[_0x15f676(0x3c8)]=!0x0;}async[_0x440fb7(0x709)](){return new Promise(async _0x3be493=>{const _0x470a9f=a0_0x2287;if(!this[_0x470a9f(0x67f)]||_0x470a9f(0x272)!==this[_0x470a9f(0x67f)][_0x470a9f(0x3cb)])return await _0x4a8cb3[_0x470a9f(0x2d2)](0x64),void _0x3be493();this['dataChannel']['bufferedAmount']<0x10000?_0x3be493():this['dataChannel']['onbufferedamountlow']=()=>{const _0x3aae92=_0x470a9f;this[_0x3aae92(0x67f)]&&(this['dataChannel'][_0x3aae92(0x74b)]=null),_0x3be493();};});}[_0x440fb7(0x642)](_0x2b2dda,_0x5b3779){const _0x331a1b=_0x440fb7,_0x5b49f0=[];for(let _0x574c5b=0x0;_0x574c5b<_0x5b3779[_0x331a1b(0x382)];_0x574c5b+=_0x370606)_0x5b49f0['push'](_0x5b3779[_0x331a1b(0x28e)](_0x574c5b,_0x574c5b+_0x370606));for(const _0x54fdb2 of _0x5b49f0)this[_0x331a1b(0x652)](_0x56072e+';'+_0x2b2dda['uuid']+';'+_0x5b49f0[_0x331a1b(0x56f)](_0x54fdb2)+';'+_0x5b49f0[_0x331a1b(0x382)]+';'+_0x54fdb2,_0x4fae97['Low']);}async[_0x440fb7(0x652)](_0x3d0b8d,_0x47300b){const _0x1640fa=_0x440fb7;_0x3d0b8d===_0x21735a?this[_0x1640fa(0x521)][_0x1640fa(0x574)][_0x47300b][_0x1640fa(0x5c0)]?.[_0x1640fa(0x3f0)]!==_0x21735a&&this['retryQueue'][_0x1640fa(0x574)][_0x47300b][_0x1640fa(0x673)](_0x3d0b8d):this[_0x1640fa(0x521)][_0x1640fa(0x574)][_0x47300b][_0x1640fa(0x4e0)](_0x3d0b8d);}[_0x440fb7(0x596)](_0x2f11bc){const _0x3326ba=_0x440fb7;if(!this[_0x3326ba(0x67f)]||_0x3326ba(0x272)!==this[_0x3326ba(0x67f)][_0x3326ba(0x3cb)])throw new Error(_0x3326ba(0x440));const _0x723add=Date[_0x3326ba(0x635)]();_0x2f11bc!==_0x21735a&&(this[_0x3326ba(0x54e)]+=0x1,this[_0x3326ba(0x23f)]+=_0x2f11bc instanceof ArrayBuffer?_0x2f11bc[_0x3326ba(0x4bf)]:_0x2f11bc['length']),ArrayBuffer,this[_0x3326ba(0x67f)]['send'](_0x2f11bc),this[_0x3326ba(0x65d)]+=Date['now']()-_0x723add;}[_0x440fb7(0x693)](){const _0x1b1bbc=_0x440fb7;this[_0x1b1bbc(0x487)]&&this[_0x1b1bbc(0x293)]();let _0xe8eded=!0x0,_0x15bea6=Date['now']();this[_0x1b1bbc(0x277)]=Date[_0x1b1bbc(0x635)](),this[_0x1b1bbc(0x67f)][_0x1b1bbc(0x6d7)]=_0x336270=>{const _0x54e95c=_0x1b1bbc;'1'===_0x336270[_0x54e95c(0x2f8)]&&(this[_0x54e95c(0x608)]=Date[_0x54e95c(0x635)]()-_0x15bea6,_0xe8eded&&this['publishWebRTCMessage']({'type':_0x244554[_0x54e95c(0x31d)]}),_0xe8eded=!0x1,this['lastHeartbeat']=Date[_0x54e95c(0x635)](),this[_0x54e95c(0x3c8)]&&(this[_0x54e95c(0x3c8)]=!0x1,this['handleMissingSenders']()));},this[_0x1b1bbc(0x487)]=_0x4a8cb3[_0x1b1bbc(0x4e7)](()=>{const _0x2c5c90=_0x1b1bbc;_0x15bea6=Date[_0x2c5c90(0x635)](),this[_0x2c5c90(0x652)](_0x21735a,_0x4fae97['High']),Date['now']()-this[_0x2c5c90(0x277)]>(_0xe8eded?0x15f90:0x3a98)&&this[_0x2c5c90(0x37e)]();},0xbb8);}[_0x440fb7(0x611)](){const _0x119594=_0x440fb7;this['senders'][_0x119594(0x613)](_0x1ec808=>{const _0x105167=_0x119594;_0x1ec808['tracks'][_0x105167(0x2c7)]&&_0x1ec808[_0x105167(0x6ee)][_0x105167(0x2c7)][_0x105167(0x4f8)]&&!_0x1ec808['tracks'][_0x105167(0x2c7)][_0x105167(0x6de)]&&(_0x1ec808[_0x105167(0x6ee)][_0x105167(0x2c7)]['sender']=this[_0x105167(0x4f9)]['addTrack'](_0x1ec808[_0x105167(0x6ee)]['video']['track'],_0x1ec808[_0x105167(0x74a)])),_0x1ec808[_0x105167(0x6ee)][_0x105167(0x37a)]&&_0x1ec808[_0x105167(0x6ee)][_0x105167(0x37a)][_0x105167(0x4f8)]&&!_0x1ec808[_0x105167(0x6ee)][_0x105167(0x37a)][_0x105167(0x6de)]&&(_0x1ec808[_0x105167(0x6ee)]['audio']['sender']=this[_0x105167(0x4f9)][_0x105167(0x6e3)](_0x1ec808['tracks']['audio'][_0x105167(0x4f8)],_0x1ec808['stream']));});}[_0x440fb7(0x775)](){const _0xc49bc3=_0x440fb7;this[_0xc49bc3(0x5cd)]({'type':_0x244554['Ice'],'candidates':this[_0xc49bc3(0x1e3)],'origin':_0x98444c['Sender'],'version':this[_0xc49bc3(0x239)],'connectionType':this['connectionType']});}[_0x440fb7(0x225)](){const _0x161e21=_0x440fb7;super[_0x161e21(0x225)](),this[_0x161e21(0x4f9)][_0x161e21(0x3c6)]=()=>{const _0x4b0b72=_0x161e21;if(_0x4b0b72(0x2c2)===this[_0x4b0b72(0x4f9)][_0x4b0b72(0x50a)]){if(_0x571f6a[_0x4b0b72(0x657)](_0x233447[_0x4b0b72(0x6a7)],_0x4b0b72(0x43e),this[_0x4b0b72(0x6a3)],this[_0x4b0b72(0x31e)]),this[_0x4b0b72(0x4f9)][_0x4b0b72(0x261)])return void this[_0x4b0b72(0x4f9)][_0x4b0b72(0x261)]();this[_0x4b0b72(0x222)]({'iceRestart':!0x0});}},this[_0x161e21(0x4f9)][_0x161e21(0x55e)]=()=>{const _0x166b24=_0x161e21;_0x166b24(0x4c3)!==this[_0x166b24(0x4f9)][_0x166b24(0x2da)]&&_0x166b24(0x2c2)!==this[_0x166b24(0x4f9)][_0x166b24(0x2da)]||this[_0x166b24(0x37e)]();};}[_0x440fb7(0x37e)](){const _0x52565b=_0x440fb7;this[_0x52565b(0x293)](),this[_0x52565b(0x5ef)](),this['clearConnectionTimeout'](),_0x571f6a[_0x52565b(0x5c7)](_0x52565b(0x4d9),{'clusterId':this[_0x52565b(0x6bf)],'userId':this[_0x52565b(0x6a3)],'remoteId':this[_0x52565b(0x31e)],'data':{'connectionType':this[_0x52565b(0x467)],'connectionState':this[_0x52565b(0x4f9)][_0x52565b(0x2da)],'iceConnectionState':this['connection']['iceConnectionState'],'signalingState':this['connection'][_0x52565b(0x524)],'readyState':this['dataChannel']?.['readyState']||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x52565b(0x635)]()-this[_0x52565b(0x277)]:'','retryQueue':this[_0x52565b(0x521)]}}),(this[_0x52565b(0x277)]&&Date[_0x52565b(0x635)]()-this[_0x52565b(0x277)]>0xea60)??0x1?this[_0x52565b(0x464)][_0x52565b(0x764)]({'sourceId':this[_0x52565b(0x31e)],'destinationIds':[this[_0x52565b(0x6a3)]],'messageType':_0x5a2832['WebRTC'],'content':{'type':_0x244554[_0x52565b(0x73b)]}}):(this['resetConnection'](),this[_0x52565b(0x5cd)]({'type':_0x244554['NeedRestart'],'version':this[_0x52565b(0x239)],'connectionType':this['connectionType']}),this[_0x52565b(0x3c1)]=setTimeout(()=>{const _0x50807e=_0x52565b;this[_0x50807e(0x37e)]();},0x7530));}[_0x440fb7(0x293)](){const _0x22f5f2=_0x440fb7;this[_0x22f5f2(0x487)]?.(),delete this[_0x22f5f2(0x487)];}[_0x440fb7(0x6d8)](){const _0x4a3cd3=_0x440fb7;this[_0x4a3cd3(0x200)]&&(clearTimeout(this[_0x4a3cd3(0x200)]),delete this[_0x4a3cd3(0x200)]);}[_0x440fb7(0x5ef)](){const _0x1b34e0=_0x440fb7;this[_0x1b34e0(0x3c1)]&&(clearTimeout(this[_0x1b34e0(0x3c1)]),delete this['restartTimeout']);}[_0x440fb7(0x252)](){const _0x1fee02=_0x440fb7;this[_0x1fee02(0x299)]&&(clearTimeout(this[_0x1fee02(0x299)]),delete this['upgradeTimeout']);}[_0x440fb7(0x25a)](){this['upgradeTimeout']=setTimeout(()=>{const _0x23fa4d=a0_0x2287;this[_0x23fa4d(0x50f)]({'type':_0xe8a9ad[_0x23fa4d(0x583)],'action':_0x11cc4b['Upgrade']});},0x3a98);}['getResolutionScale'](_0x1646d8,_0x4cc376){const _0x53b125=_0x440fb7,_0x1f183d=Math['max'](_0x1646d8[_0x53b125(0x64d)]/_0x4cc376['width'],_0x1646d8[_0x53b125(0x5a4)]/_0x4cc376[_0x53b125(0x5a4)]);return Math['min'](Math[_0x53b125(0x3ca)](_0x1f183d,0x1),0x4);}['clearWaitAnswer'](){const _0x17fcc6=_0x440fb7;this[_0x17fcc6(0x665)]?.(),delete this[_0x17fcc6(0x665)];}['clearOncloseTimeout'](){const _0x58d496=_0x440fb7;this['oncloseTimeout']&&(clearTimeout(this['oncloseTimeout']),delete this[_0x58d496(0x675)]);}[_0x440fb7(0x268)](_0x1ec109){const _0x14c3ea=_0x440fb7,_0x24f43a=JSON[_0x14c3ea(0x6d2)](_0x1ec109);return new TextEncoder()[_0x14c3ea(0x333)](_0x24f43a)[_0x14c3ea(0x3c4)];}[_0x440fb7(0x587)](_0x5b9c2e,_0x31afa2){const _0x2fd048=_0x440fb7,_0x254363=this['objectToArrayBuffer'](_0x5b9c2e),_0x160252=new Uint8Array(0x4),_0x54606f=new Uint8Array(_0x254363),_0x286453=new Uint8Array(_0x31afa2);_0x160252[_0x2fd048(0x442)](new Uint8Array(new Uint32Array([_0x54606f[_0x2fd048(0x382)]])[_0x2fd048(0x3c4)]));const _0x2be8be=new Uint8Array(0x4+_0x54606f[_0x2fd048(0x382)]+_0x286453[_0x2fd048(0x382)]);return _0x2be8be[_0x2fd048(0x442)](_0x160252),_0x2be8be[_0x2fd048(0x442)](_0x54606f,0x4),_0x2be8be[_0x2fd048(0x442)](_0x286453,0x4+_0x54606f['length']),_0x2be8be[_0x2fd048(0x3c4)];}}class _0x3227 extends _0x2bccd5{[_0x440fb7(0x68b)];[_0x440fb7(0x6cf)];[_0x440fb7(0x467)];[_0x440fb7(0x1fa)];[_0x440fb7(0x284)];[_0x440fb7(0x22f)];[_0x440fb7(0x3e8)];['receiverUnsubscribers']=[];[_0x440fb7(0x29f)]=_0x548ac7();['trackListeners']=_0x548ac7();[_0x440fb7(0x44d)]=_0x548ac7();['listenerUnsubscribers']=[];[_0x440fb7(0x464)];[_0x440fb7(0x706)]=new Map();[_0x440fb7(0x4b3)]=new Map();[_0x440fb7(0x6ed)]=new Map();[_0x440fb7(0x2f6)]=new Map();[_0x440fb7(0x1d4)]=!0x1;constructor(_0x3b35d7,_0x52e13e,_0xebc89a,_0x4423e5,_0x43e396,_0x114b39,_0x206868,_0x1556f6){const _0x254497=_0x440fb7;super(_0x3b35d7,_0x52e13e,_0xebc89a),this['isInitiator']=_0x4423e5,this['iceServers']=_0x43e396,this['connectionType']=_0x114b39,this[_0x254497(0x1fa)]=_0x206868,this[_0x254497(0x284)]=_0x1556f6;}[_0x440fb7(0x331)](_0x3deb0d){const _0x3503ce=_0x440fb7;switch(_0x3deb0d['getContentType']()){case _0x14ca27['Data']:case _0x14ca27[_0x3503ce(0x523)]:case _0x14ca27[_0x3503ce(0x34f)]:case _0x14ca27['KeyValueDatabase']:this['dataTopics'][_0x3503ce(0x442)](_0x3deb0d[_0x3503ce(0x254)](),_0x3deb0d);break;case _0x14ca27[_0x3503ce(0x3d1)]:this[_0x3503ce(0x6ed)][_0x3503ce(0x442)](_0x3deb0d[_0x3503ce(0x254)](),_0x3deb0d);}}[_0x440fb7(0x35b)](_0x3f8c47){const _0x2ef75c=_0x440fb7;switch(_0x3f8c47[_0x2ef75c(0x2c9)]()){case _0x14ca27['Data']:case _0x14ca27['PubSub']:case _0x14ca27[_0x2ef75c(0x34f)]:case _0x14ca27[_0x2ef75c(0x488)]:this[_0x2ef75c(0x706)][_0x2ef75c(0x528)](_0x3f8c47[_0x2ef75c(0x254)]());break;case _0x14ca27[_0x2ef75c(0x3d1)]:this[_0x2ef75c(0x6ed)][_0x2ef75c(0x528)](_0x3f8c47['getLabel']());}}[_0x440fb7(0x4f4)](_0x247e7d){const _0x237d19=_0x440fb7;switch(_0x247e7d['getContentType']()){case _0x14ca27[_0x237d19(0x5b0)]:case _0x14ca27[_0x237d19(0x523)]:case _0x14ca27[_0x237d19(0x34f)]:case _0x14ca27[_0x237d19(0x488)]:{const _0x152a57=_0x247e7d['subscribe'](_0x5de5f5=>{const _0x29bb25=_0x237d19;_0x303b8a(_0x5de5f5,this[_0x29bb25(0x6a3)])&&_0x5cb79a(_0x5de5f5,this[_0x29bb25(0x31e)])&&this[_0x29bb25(0x430)](_0x5de5f5);});this['dataUnsubscribers'][_0x237d19(0x442)](_0x247e7d[_0x237d19(0x254)](),_0x152a57);break;}case _0x14ca27[_0x237d19(0x3d1)]:{const _0x2d155c=_0x247e7d['subscribe'](({content:_0x1bdcef})=>{const _0x591f7b=_0x237d19;switch(_0x1bdcef[_0x591f7b(0x3b9)]){case _0x59734b[_0x591f7b(0x69c)]:this[_0x591f7b(0x6e3)](_0x1bdcef['track'],_0x1bdcef[_0x591f7b(0x74a)],_0x1bdcef[_0x591f7b(0x606)],_0x1bdcef[_0x591f7b(0x71f)]);break;case _0x59734b['Remove']:this[_0x591f7b(0x5ab)](_0x1bdcef[_0x591f7b(0x4f8)],_0x1bdcef[_0x591f7b(0x74a)]);break;case _0x59734b[_0x591f7b(0x6ce)]:_0x1bdcef['priority']&&this['setPriority'](_0x1bdcef[_0x591f7b(0x74a)],_0x1bdcef[_0x591f7b(0x606)]),_0x1bdcef['params']&&this[_0x591f7b(0x5d0)](_0x1bdcef[_0x591f7b(0x74a)],_0x1bdcef[_0x591f7b(0x71f)]);}});this['mediaUnsubscribers']['set'](_0x247e7d[_0x237d19(0x254)](),_0x2d155c);break;}}}['unregisterSubscriber'](_0x38cd9d){const _0xb05950=_0x440fb7;switch(_0x38cd9d['getContentType']()){case _0x14ca27[_0xb05950(0x5b0)]:case _0x14ca27[_0xb05950(0x523)]:case _0x14ca27[_0xb05950(0x34f)]:case _0x14ca27[_0xb05950(0x488)]:this[_0xb05950(0x4b3)][_0xb05950(0x39a)](_0x38cd9d['getLabel']())?.(),this[_0xb05950(0x4b3)][_0xb05950(0x528)](_0x38cd9d[_0xb05950(0x254)]());break;case _0x14ca27[_0xb05950(0x3d1)]:this[_0xb05950(0x2f6)][_0xb05950(0x39a)](_0x38cd9d[_0xb05950(0x254)]())?.(),this[_0xb05950(0x2f6)]['delete'](_0x38cd9d['getLabel']());}}[_0x440fb7(0x40f)](){const _0x3cffb3=_0x440fb7;return[_0x14ca27['Data'],_0x14ca27[_0x3cffb3(0x3d1)],_0x14ca27['PubSub'],_0x14ca27['ObjectStore'],_0x14ca27[_0x3cffb3(0x488)]];}['registerSystemPublisher'](_0x42571a){const _0x1badaa=_0x440fb7;this[_0x1badaa(0x464)]=_0x42571a;}[_0x440fb7(0x74f)](){const _0x3cb7eb=_0x440fb7;delete this[_0x3cb7eb(0x464)];}async[_0x440fb7(0x43f)](){const _0x214b5f=_0x440fb7;this[_0x214b5f(0x3f9)](),await this[_0x214b5f(0x222)]();}[_0x440fb7(0x720)](){const _0x1cfc41=_0x440fb7;this['listenerUnsubscribers'][_0x1cfc41(0x613)](_0x3df51c=>_0x3df51c()),this[_0x1cfc41(0x73c)]=[],this[_0x1cfc41(0x22f)]?.[_0x1cfc41(0x74f)](),this[_0x1cfc41(0x22f)]?.['close'](),delete this[_0x1cfc41(0x22f)],this[_0x1cfc41(0x279)][_0x1cfc41(0x613)](_0x299e94=>_0x299e94()),this[_0x1cfc41(0x279)]=[],this[_0x1cfc41(0x3e8)]?.[_0x1cfc41(0x74f)](),this[_0x1cfc41(0x3e8)]?.['close'](),delete this[_0x1cfc41(0x3e8)];}['isConnected'](){const _0x2ed658=_0x440fb7;return this['senderConnection']?.[_0x2ed658(0x3bf)]()&&this[_0x2ed658(0x3e8)]?.[_0x2ed658(0x3bf)]()||!0x1;}[_0x440fb7(0x430)](_0x2a65c9){const _0x2ca092=_0x440fb7;if(!this['senderConnection']||!this[_0x2ca092(0x3bf)]())throw new _0x717bed(_0x717bed[_0x2ca092(0x6dc)][_0x2ca092(0x391)],{'message':_0x2ca092(0x389),'senderConnected':this['senderConnection']?.[_0x2ca092(0x3bf)](),'receiverConnected':this['receiverConnection']?.[_0x2ca092(0x3bf)](),'localId':this[_0x2ca092(0x6a3)],'remoteId':this[_0x2ca092(0x31e)],'data':_0x2a65c9});this[_0x2ca092(0x22f)][_0x2ca092(0x430)](_0x2a65c9);}[_0x440fb7(0x5d8)](_0x4d3e0d){const _0x351a93=_0x440fb7;return this[_0x351a93(0x29f)]['subscribe'](_0x4d3e0d);}[_0x440fb7(0x3f8)](_0x28366f){const _0x304ba2=_0x440fb7;return this[_0x304ba2(0x2bf)][_0x304ba2(0x3af)](({track:_0x24a2af,stream:_0x432474})=>_0x28366f(_0x24a2af,_0x432474));}['onRemoveTrack'](_0x401241){return this['removeTrackListeners']['subscribe'](({track:_0x4f779d,stream:_0xba36fd})=>_0x401241(_0x4f779d,_0xba36fd));}[_0x440fb7(0x6e3)](_0x5f4a64,_0x16a7af,_0x425161,_0x316a60){const _0xd27dcd=_0x440fb7;this['senderConnection']?.[_0xd27dcd(0x6e3)](_0x5f4a64,_0x16a7af,_0x425161,_0x316a60);}[_0x440fb7(0x662)](_0x28b756,_0x476079){this['senderConnection']?.['setPriority'](_0x28b756,_0x476079);}[_0x440fb7(0x5d0)](_0x20443b,_0x2e60b5){const _0x277315=_0x440fb7;this[_0x277315(0x22f)]?.[_0x277315(0x5d0)](_0x20443b,_0x2e60b5);}[_0x440fb7(0x5ab)](_0x16397c,_0x3486d6){const _0x3ef96f=_0x440fb7;this[_0x3ef96f(0x22f)]?.[_0x3ef96f(0x5ab)](_0x16397c,_0x3486d6);}async[_0x440fb7(0x4c1)](_0x121bbe){const _0x485fa9=_0x440fb7;_0x571f6a[_0x485fa9(0x657)](_0x233447[_0x485fa9(0x5dd)],'CrewdleConnection\x20handleWebRTCSystemEvents',this[_0x485fa9(0x6a3)],_0x121bbe);const {content:_0x3791c6}=_0x121bbe;switch(_0x3791c6[_0x485fa9(0x637)]){case _0x244554[_0x485fa9(0x3a3)]:await this[_0x485fa9(0x397)](_0x3791c6);break;case _0x244554[_0x485fa9(0x570)]:await this[_0x485fa9(0x5e1)](_0x3791c6);break;case _0x244554[_0x485fa9(0x31d)]:this[_0x485fa9(0x3ce)]();break;case _0x244554[_0x485fa9(0x70b)]:await this[_0x485fa9(0x6c8)](_0x3791c6);break;case _0x244554[_0x485fa9(0x209)]:this['handleNeedRestart'](_0x3791c6);break;case _0x244554[_0x485fa9(0x1f9)]:await this[_0x485fa9(0x222)]();}}[_0x440fb7(0x207)](_0x10c497){const _0x59aab3=_0x440fb7;this[_0x59aab3(0x22f)]?.[_0x59aab3(0x50f)](_0x10c497[_0x59aab3(0x6bd)][_0x59aab3(0x2f8)]);}[_0x440fb7(0x552)](){const _0x56d137=_0x440fb7;return this[_0x56d137(0x467)];}[_0x440fb7(0x3dc)](_0x391de7){const _0x165fa7=_0x440fb7;this['connectionType']=_0x391de7,this['senderConnection']?.[_0x165fa7(0x3dc)](_0x391de7),this[_0x165fa7(0x3e8)]?.[_0x165fa7(0x3dc)](_0x391de7);}async[_0x440fb7(0x3e9)](){const _0x1ed338=_0x440fb7;await this[_0x1ed338(0x22f)]?.['collectStats'](),await this[_0x1ed338(0x3e8)]?.[_0x1ed338(0x3e9)]();}[_0x440fb7(0x3f9)](){const _0x1d48ed=_0x440fb7;this[_0x1d48ed(0x73c)][_0x1d48ed(0x4e0)](this['onMessage'](_0x3064a3=>{const _0x2f03aa=_0x1d48ed;_0x5cb79a(_0x3064a3,this[_0x2f03aa(0x6a3)])&&0x0!==_0x3064a3[_0x2f03aa(0x441)]&&this[_0x2f03aa(0x706)][_0x2f03aa(0x39a)](_0x3064a3[_0x2f03aa(0x441)])?.[_0x2f03aa(0x764)](_0x3064a3);})),this[_0x1d48ed(0x73c)][_0x1d48ed(0x4e0)](this[_0x1d48ed(0x3f8)]((_0x13cf79,_0x4476d5)=>{const _0x1359fa=_0x1d48ed,_0xb8d104=_0x4670fa(_0x14ca27[_0x1359fa(0x3d1)],_0x4476d5['id'],this[_0x1359fa(0x31e)]);this[_0x1359fa(0x6ed)][_0x1359fa(0x39a)](_0xb8d104)?.['publish']({'topicLabel':_0xb8d104,'sourceId':this[_0x1359fa(0x31e)],'contentType':_0x14ca27[_0x1359fa(0x3d1)],'content':{'action':_0x59734b[_0x1359fa(0x4fd)],'track':_0x13cf79,'stream':_0x4476d5,'providerId':this[_0x1359fa(0x31e)]}});})),this['listenerUnsubscribers']['push'](this[_0x1d48ed(0x5f3)]((_0x323ef4,_0x1e15f3)=>{const _0x405c08=_0x1d48ed,_0x1e6a45=_0x4670fa(_0x14ca27[_0x405c08(0x3d1)],_0x1e15f3['id'],this[_0x405c08(0x31e)]);this[_0x405c08(0x6ed)][_0x405c08(0x39a)](_0x1e6a45)?.[_0x405c08(0x764)]({'topicLabel':_0x1e6a45,'sourceId':this[_0x405c08(0x31e)],'contentType':_0x14ca27[_0x405c08(0x3d1)],'content':{'action':_0x59734b['RemoteRemove'],'track':_0x323ef4,'stream':_0x1e15f3,'providerId':this['remoteId']}});}));}[_0x440fb7(0x6c8)]({candidates:_0x42662d,origin:_0x50f541,version:_0x5b4166}){const _0x430f80=_0x440fb7;return _0x50f541===_0x98444c[_0x430f80(0x707)]?(this[_0x430f80(0x3e8)]||this['createReceiverConnection'](),this[_0x430f80(0x3e8)][_0x430f80(0x6c8)](_0x42662d,_0x5b4166)):this[_0x430f80(0x22f)][_0x430f80(0x6c8)](_0x42662d,_0x5b4166);}async['createOffer'](){const _0x274ea7=_0x440fb7;this[_0x274ea7(0x22f)]||this[_0x274ea7(0x3d7)](),await this['senderConnection'][_0x274ea7(0x222)]();}async[_0x440fb7(0x397)]({offer:_0x1fd73c,version:_0x1ea948,connectionType:_0x1138f0}){const _0xe4bf99=_0x440fb7;this[_0xe4bf99(0x3e8)]||this[_0xe4bf99(0x623)](),await this['receiverConnection'][_0xe4bf99(0x397)](_0x1fd73c,_0x1ea948);}async[_0x440fb7(0x5e1)]({answer:_0x3cef98,version:_0x10ed86}){const _0x9e81fc=_0x440fb7;if(!this[_0x9e81fc(0x22f)])throw new _0x717bed(_0x717bed[_0x9e81fc(0x6dc)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this[_0x9e81fc(0x6a3)],'remoteId':this['remoteId'],'answer':_0x3cef98});await this[_0x9e81fc(0x22f)]['handleAnswer'](_0x3cef98,_0x10ed86);}['handleSuccess'](){const _0x1c777d=_0x440fb7;if(!this['receiverConnection'])throw new _0x717bed(_0x717bed[_0x1c777d(0x6dc)]['ConnectionNotinitialized'],{'message':_0x1c777d(0x345),'localId':this[_0x1c777d(0x6a3)],'remoteId':this[_0x1c777d(0x31e)]});this['receiverConnection'][_0x1c777d(0x3ce)](),this[_0x1c777d(0x1d4)]||this['connectionType']!==_0x25b86c[_0x1c777d(0x30c)]||(this['successNotified']=!0x0,this['systemTopic']?.[_0x1c777d(0x764)]({'sourceId':this[_0x1c777d(0x31e)],'destinationIds':[this['localId']],'messageType':_0x5a2832[_0x1c777d(0x46e)],'content':{'type':_0x244554[_0x1c777d(0x66e)]}}));}['handleNeedRestart'](_0x2c5465){const _0x47d4db=_0x440fb7;this[_0x47d4db(0x3e8)]||this['createReceiverConnection'](),this['receiverConnection'][_0x47d4db(0x2ca)](_0x2c5465[_0x47d4db(0x455)]);}[_0x440fb7(0x3d7)](){const _0x11750a=_0x440fb7;this[_0x11750a(0x22f)]=new _0x5d6230(this['clusterId'],this[_0x11750a(0x6a3)],this[_0x11750a(0x31e)],this[_0x11750a(0x6cf)],this['connectionType'],this[_0x11750a(0x1fa)],this[_0x11750a(0x284)]),this[_0x11750a(0x22f)][_0x11750a(0x5c1)](this[_0x11750a(0x464)]);}['createReceiverConnection'](){const _0x44eed3=_0x440fb7;this[_0x44eed3(0x3e8)]=new _0x147149(this['clusterId'],this[_0x44eed3(0x6a3)],this['remoteId'],this[_0x44eed3(0x6cf)],this[_0x44eed3(0x467)]),this[_0x44eed3(0x3e8)][_0x44eed3(0x5c1)](this[_0x44eed3(0x464)]),this['receiverUnsubscribers'][_0x44eed3(0x4e0)](this[_0x44eed3(0x3e8)][_0x44eed3(0x5d8)](_0x4c0249=>this[_0x44eed3(0x29f)][_0x44eed3(0x764)](_0x4c0249))),this[_0x44eed3(0x279)][_0x44eed3(0x4e0)](this[_0x44eed3(0x3e8)]['onTrack']((_0x25fd50,_0x45737a)=>this[_0x44eed3(0x2bf)]['publish']({'track':_0x25fd50,'stream':_0x45737a}))),this['receiverUnsubscribers'][_0x44eed3(0x4e0)](this[_0x44eed3(0x3e8)][_0x44eed3(0x5f3)]((_0x1da585,_0x2858d4)=>this[_0x44eed3(0x44d)][_0x44eed3(0x764)]({'track':_0x1da585,'stream':_0x2858d4})));}}class _0x9eed8c{['localId'];[_0x440fb7(0x301)];[_0x440fb7(0x3a5)];[_0x440fb7(0x57c)]=new Map();[_0x440fb7(0x29f)]=_0x548ac7();[_0x440fb7(0x671)];[_0x440fb7(0x706)]=new Map();[_0x440fb7(0x4b3)]=new Map();['retryQueues']=new Map();constructor(_0x4d3b08,_0x34c648,_0x5b4be0){const _0x1320d5=_0x440fb7;this[_0x1320d5(0x6a3)]=_0x4d3b08,this[_0x1320d5(0x301)]=_0x34c648,this[_0x1320d5(0x3a5)]=_0x5b4be0,this['messageUnsubscriber']=this['onMessage'](_0x550a5f=>{const _0x6f2332=_0x1320d5;this[_0x6f2332(0x301)][_0x6f2332(0x47f)](_0x550a5f[_0x6f2332(0x28f)])||(_0x5cb79a(_0x550a5f,this[_0x6f2332(0x6a3)])&&0x0!==_0x550a5f[_0x6f2332(0x441)]&&(this[_0x6f2332(0x301)][_0x6f2332(0x610)](_0x550a5f[_0x6f2332(0x28f)]),this[_0x6f2332(0x706)][_0x6f2332(0x39a)](_0x550a5f['topicLabel'])?.[_0x6f2332(0x764)](_0x550a5f)),_0x550a5f[_0x6f2332(0x313)]&&this[_0x6f2332(0x430)](_0x550a5f));});}[_0x440fb7(0x720)](){const _0x48f343=_0x440fb7;this[_0x48f343(0x671)]?.();}[_0x440fb7(0x5f0)](_0x20c10c){const _0x3431a4=_0x440fb7,_0x1849ea=_0x20c10c[_0x3431a4(0x5d8)](_0x5b11af=>{const _0x21772b=_0x3431a4;this[_0x21772b(0x29f)]['publish'](_0x5b11af);});this['connections'][_0x3431a4(0x442)](_0x20c10c,_0x1849ea),this[_0x3431a4(0x738)]['set'](_0x20c10c[_0x3431a4(0x206)](),function(_0x558476,_0x134f65=!0x1){let _0x174705=new Map();const _0x2da83f=_0x2137d6(_0x558476,_0x134f65,function(_0x21be3e){const _0x2087a0=a0_0x2287;_0x1c27a8(_0x21be3e)&&_0x174705[_0x2087a0(0x528)](_0x21be3e[_0x2087a0(0x472)]+'-'+(_0x21be3e[_0x2087a0(0x409)]??[])+'-'+_0x21be3e[_0x2087a0(0x4f0)]+'-'+_0x21be3e[_0x2087a0(0x6bd)][_0x2087a0(0x637)]);},function(_0x952b09){return!!function(_0x5c0cd4){const _0x54077c=a0_0x2287,_0x3e72b0=_0x5c0cd4['value'];if(!_0x1c27a8(_0x3e72b0))return!0x1;const _0x5c8842=_0x3e72b0[_0x54077c(0x472)]+'-'+(_0x3e72b0['destinationIds']??[])+'-'+_0x3e72b0[_0x54077c(0x4f0)]+'-'+_0x3e72b0['content']['type'],_0x18b8d3={'version':_0x3e72b0[_0x54077c(0x6bd)][_0x54077c(0x455)],'element':_0x5c0cd4},_0x360a5e=_0x174705[_0x54077c(0x39a)](_0x5c8842);return _0x360a5e?(_0x360a5e[_0x54077c(0x455)]>=_0x3e72b0[_0x54077c(0x6bd)][_0x54077c(0x455)]||(_0x360a5e[_0x54077c(0x2bd)]['previous']&&(_0x360a5e[_0x54077c(0x2bd)][_0x54077c(0x38c)][_0x54077c(0x349)]=_0x5c0cd4,_0x5c0cd4['previous']=_0x360a5e[_0x54077c(0x2bd)][_0x54077c(0x38c)]),_0x360a5e[_0x54077c(0x2bd)][_0x54077c(0x349)]&&(_0x360a5e[_0x54077c(0x2bd)][_0x54077c(0x349)][_0x54077c(0x38c)]=_0x5c0cd4,_0x5c0cd4[_0x54077c(0x349)]=_0x360a5e[_0x54077c(0x2bd)]['next']),_0x360a5e[_0x54077c(0x2bd)]===_0x2da83f[_0x54077c(0x5c0)]&&(_0x2da83f[_0x54077c(0x5c0)]=_0x5c0cd4),_0x360a5e['element']===_0x2da83f[_0x54077c(0x439)]&&(_0x2da83f[_0x54077c(0x439)]=_0x5c0cd4),_0x174705['set'](_0x5c8842,_0x18b8d3)),!0x0):(_0x174705[_0x54077c(0x442)](_0x5c8842,_0x18b8d3),!0x1);}(_0x952b09);},function(){const _0x307b04=a0_0x2287;_0x174705[_0x307b04(0x5ad)]();});function _0x1c27a8(_0x5b67b4){const _0x1606a1=a0_0x2287;if(_0x5b67b4&&_0x1606a1(0x685)==typeof _0x5b67b4&&_0x5b67b4[_0x1606a1(0x3aa)]('content')&&_0x5b67b4[_0x1606a1(0x3aa)](_0x1606a1(0x4f0))&&_0x5b67b4['hasOwnProperty'](_0x1606a1(0x472))){const _0x5a9e24=_0x5b67b4;if(_0x5a9e24[_0x1606a1(0x6bd)]&&_0x1606a1(0x685)==typeof _0x5a9e24['content']&&_0x5a9e24[_0x1606a1(0x6bd)][_0x1606a1(0x3aa)]('version')&&_0x5a9e24['content'][_0x1606a1(0x3aa)](_0x1606a1(0x637)))return!0x0;}return!0x1;}return _0x2da83f;}(new _0x3189e7(_0x1e4fec=>_0x20c10c[_0x3431a4(0x430)](_0x1e4fec),()=>_0x4a8cb3[_0x3431a4(0x2d2)](0x64))));}['removeConnection'](_0x52fbae){const _0x182913=_0x440fb7;this[_0x182913(0x57c)][_0x182913(0x39a)](_0x52fbae)?.(),this[_0x182913(0x57c)][_0x182913(0x528)](_0x52fbae),this[_0x182913(0x738)]['get'](_0x52fbae[_0x182913(0x206)]())?.[_0x182913(0x5ad)](),this[_0x182913(0x738)][_0x182913(0x528)](_0x52fbae[_0x182913(0x206)]());}[_0x440fb7(0x3bf)](_0x1ed940){const _0x3d6ac8=_0x440fb7;return _0x571f6a['log'](_0x233447[_0x3d6ac8(0x6a7)],_0x3d6ac8(0x275),this[_0x3d6ac8(0x6a3)],this['connections'][_0x3d6ac8(0x63a)]()),0x0!==this[_0x3d6ac8(0x57c)]['size']&&(Array[_0x3d6ac8(0x70f)](this['connections'][_0x3d6ac8(0x63a)]())['find'](_0x129693=>_0x129693[_0x3d6ac8(0x206)]()===_0x1ed940)?.[_0x3d6ac8(0x3bf)]()??!0x1);}['registerPublisher'](_0x3a2e1c){const _0x244ad1=_0x440fb7;this[_0x244ad1(0x706)][_0x244ad1(0x442)](_0x3a2e1c[_0x244ad1(0x254)](),_0x3a2e1c);}[_0x440fb7(0x35b)](_0x450b66){const _0x2d3a95=_0x440fb7;this[_0x2d3a95(0x706)]['delete'](_0x450b66[_0x2d3a95(0x254)]());}[_0x440fb7(0x4f4)](_0x3d65e4){const _0x36bd7c=_0x440fb7,_0x1b7bcb=_0x3d65e4[_0x36bd7c(0x3af)](this[_0x36bd7c(0x430)][_0x36bd7c(0x346)](this));this['dataUnsubscribers'][_0x36bd7c(0x442)](_0x3d65e4['getLabel'](),_0x1b7bcb);}[_0x440fb7(0x45c)](_0x456ae4){const _0x1b1b20=_0x440fb7;this[_0x1b1b20(0x4b3)][_0x1b1b20(0x39a)](_0x456ae4[_0x1b1b20(0x254)]())?.(),this[_0x1b1b20(0x4b3)][_0x1b1b20(0x528)](_0x456ae4['getLabel']());}[_0x440fb7(0x40f)](){const _0x7ce84e=_0x440fb7;return[_0x14ca27[_0x7ce84e(0x5b0)],_0x14ca27[_0x7ce84e(0x523)],_0x14ca27['ObjectStore'],_0x14ca27[_0x7ce84e(0x488)]];}[_0x440fb7(0x430)](_0x5c808b){const _0x91fd54=_0x440fb7;if(!0x1===_0x5c808b['retry']){if(_0x5c808b['propagate']||!_0x5c808b[_0x91fd54(0x409)]||0x1!==_0x5c808b[_0x91fd54(0x409)]['length'])throw new _0x717bed(_0x717bed[_0x91fd54(0x6dc)]['ConnectionInvalidDataEvent'],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x91fd54(0x6a3)]});if(!this['isConnected'](_0x5c808b[_0x91fd54(0x409)][0x0]))throw new _0x1283cb(_0x91fd54(0x67c));}const _0x22cf5d=_0x5c808b['recipients']??[];try{const {filteredDestinationIds:_0x1ce6e7,extendedRecipients:_0x1ac91f}=this['updatePropagationProperties'](_0x5c808b,_0x22cf5d);_0x5c808b[_0x91fd54(0x409)]=_0x1ce6e7,_0x5c808b[_0x91fd54(0x23e)]=_0x1ac91f;}catch(_0x32c26f){if(_0x32c26f instanceof _0x1283cb)return void _0x571f6a[_0x91fd54(0x657)](_0x233447[_0x91fd54(0x5dd)],'CrewdleConnectionGroup',_0x91fd54(0x527),_0x5c808b,_0x32c26f[_0x91fd54(0x3a1)]);}const _0x440fc9=this[_0x91fd54(0x5d2)](_0x5c808b);this[_0x91fd54(0x651)](_0x5c808b,_0x440fc9),_0x5c808b['propagate']=_0x440fc9;const _0x20985e=this['getConnectionDestinations'](_0x5c808b,_0x22cf5d);for(const _0x139521 of _0x20985e){const _0x5101b9=this[_0x91fd54(0x738)][_0x91fd54(0x39a)](_0x139521[_0x91fd54(0x206)]());if(!_0x5101b9)throw new _0x717bed(_0x717bed[_0x91fd54(0x6dc)][_0x91fd54(0x71d)],{'message':_0x91fd54(0x307),'localId':this[_0x91fd54(0x6a3)],'remoteId':_0x139521[_0x91fd54(0x206)](),'data':_0x5c808b});_0x5101b9[_0x91fd54(0x4e0)](_0x5c808b);}}[_0x440fb7(0x206)](){return'';}[_0x440fb7(0x3df)](){const _0x1b835a=_0x440fb7;return this[_0x1b835a(0x6a3)];}[_0x440fb7(0x5d8)](_0x3ea9a5){const _0x1445e5=_0x440fb7;return this[_0x1445e5(0x29f)][_0x1445e5(0x3af)](_0x3ea9a5);}[_0x440fb7(0x2d0)](_0x5d7916,_0x1a2952){const _0x4ad5d8=_0x440fb7,_0x59df94={'filteredDestinationIds':_0x5d7916[_0x4ad5d8(0x409)],'extendedRecipients':_0x5d7916['recipients']};if(!_0x5d7916[_0x4ad5d8(0x313)])return _0x59df94;const _0x4b858c=Array['from'](this[_0x4ad5d8(0x57c)][_0x4ad5d8(0x63a)]())['filter'](_0x3c70f3=>_0x3c70f3[_0x4ad5d8(0x552)]()===_0x25b86c[_0x4ad5d8(0x3de)]||_0x3c70f3[_0x4ad5d8(0x3bf)]())[_0x4ad5d8(0x5e8)](_0x2d0da1=>_0x2d0da1[_0x4ad5d8(0x206)]());if(_0x4b858c[_0x4ad5d8(0x719)]((_0x4b5e4f,_0x246855)=>_0x4b5e4f&&_0x5d7916[_0x4ad5d8(0x23e)][_0x4ad5d8(0x63d)](_0x246855),!0x0))throw new _0x1283cb(_0x4ad5d8(0x3e7));if(_0x5d7916['destinationIds']){const _0xec70da=_0x5d7916['destinationIds'][_0x4ad5d8(0x5ae)](_0x1b1f39=>_0x1b1f39!==this[_0x4ad5d8(0x6a3)]&&!_0x5d7916['recipients'][_0x4ad5d8(0x63d)](_0x1b1f39));if(0x0===_0xec70da[_0x4ad5d8(0x382)])throw new _0x1283cb(_0x4ad5d8(0x46c));_0x59df94[_0x4ad5d8(0x494)]=_0xec70da;}return _0x59df94[_0x4ad5d8(0x64e)]=[...new Set([..._0x1a2952,..._0x4b858c,this[_0x4ad5d8(0x6a3)]])],_0x59df94;}[_0x440fb7(0x651)](_0x36891b,_0x23c425=!0x1){const _0x5f0914=_0x440fb7;if(0x0===_0x36891b[_0x5f0914(0x441)]&&!_0x303b8a(_0x36891b,this[_0x5f0914(0x6a3)])&&_0x36891b[_0x5f0914(0x313)]){const _0x2d4fab=_0x5881b6(_0x36891b,this[_0x5f0914(0x6a3)]);_0x571f6a[_0x5f0914(0x734)](_0x233447['System'],_0x36891b[_0x5f0914(0x28f)]+_0x5f0914(0x32f)+_0x23c425+')\x20'+_0x2d4fab,_0x36891b,_0x23c425);}}[_0x440fb7(0x5d2)](_0x1218c1){const _0xa03183=_0x440fb7;if(_0x1218c1[_0xa03183(0x409)]&&_0x1218c1[_0xa03183(0x313)]){const _0xa1b735=Array['from'](this['connections']['keys']())['filter'](_0x3432bb=>_0x3432bb[_0xa03183(0x552)]()===_0x25b86c[_0xa03183(0x3de)]||_0x3432bb[_0xa03183(0x3bf)]())[_0xa03183(0x5e8)](_0xf5277e=>_0xf5277e['getRemoteId']());return!_0x1218c1[_0xa03183(0x409)][_0xa03183(0x719)]((_0x5f1bf2,_0x49fb92)=>_0x5f1bf2&&_0xa1b735['includes'](_0x49fb92),!0x0);}return _0x1218c1[_0xa03183(0x313)]??!0x1;}[_0x440fb7(0x2d5)](_0x51df65,_0x49cd22){const _0x1cac63=_0x440fb7;if(_0x51df65[_0x1cac63(0x313)]&&_0x51df65['destinationIds']){const _0xd69cbd=Array['from'](this['connections'][_0x1cac63(0x63a)]())[_0x1cac63(0x5ae)](_0x35a1b4=>_0x35a1b4[_0x1cac63(0x552)]()===_0x25b86c[_0x1cac63(0x3de)]||_0x35a1b4['isConnected']())['map'](_0x35bcab=>_0x35bcab['getRemoteId']()),_0x19bbc9=new Set(),_0x3fd442=_0x51df65[_0x1cac63(0x472)]===this[_0x1cac63(0x6a3)]?0x3:0x1;return _0x51df65[_0x1cac63(0x409)][_0x1cac63(0x613)](_0x2aec56=>{const _0x328c52=_0x1cac63,_0x4c67cb=this['graphService'][_0x328c52(0x22b)](_0xd69cbd,_0x2aec56);let _0x3ea439=0x0,_0x277c66=0x0;_0x4c67cb['forEach'](_0x962b61=>{const _0x51b40c=_0x328c52;if(_0x3ea439>=_0x3fd442)return;const _0x19238a=Array[_0x51b40c(0x70f)](this['connections']['keys']())[_0x51b40c(0x5a9)](_0x1f89fb=>_0x1f89fb['getRemoteId']()===_0x962b61);if(_0x19238a){if(_0x19238a[_0x51b40c(0x552)]()===_0x25b86c[_0x51b40c(0x3de)]&&_0x277c66>0x0)return void(_0x277c66-=0x1);_0x19bbc9[_0x51b40c(0x457)](_0x19238a),_0x19238a['getConnectionType']()===_0x25b86c[_0x51b40c(0x30c)]&&(_0x277c66+=0x1),_0x3ea439+=0x1;}});}),Array[_0x1cac63(0x70f)](_0x19bbc9);}return Array['from'](this['connections'][_0x1cac63(0x63a)]())[_0x1cac63(0x5ae)](_0x46e54b=>{const _0x387404=_0x1cac63;return _0x2affa9=_0x46e54b[_0x387404(0x206)](),!_0x49cd22[_0x387404(0x63d)](_0x2affa9)&&(_0x5cb79a(_0x51df65,_0x2affa9)||_0x51df65[_0x387404(0x313)])&&(!_0x51df65['propagate']||_0x46e54b[_0x387404(0x3bf)]()||_0x46e54b['getConnectionType']()===_0x25b86c['Core']);var _0x2affa9;});}}class _0x2101e6{['localId'];[_0x440fb7(0x301)];['connections']=new Map();[_0x440fb7(0x464)];constructor(_0x29df73,_0x1030af){const _0x1e077e=_0x440fb7;this[_0x1e077e(0x6a3)]=_0x29df73,this['messageBuffer']=_0x1030af;}['close'](){}['send'](_0x45b0ec){const _0x3d0bd9=_0x440fb7;for(const _0x271791 of this[_0x3d0bd9(0x57c)]['keys']())try{return void _0x271791[_0x3d0bd9(0x430)]({'retry':!0x1,..._0x45b0ec});}catch(_0x42f09d){_0x42f09d instanceof _0x1283cb||_0x571f6a['log'](_0x233447['Pool'],'send\x20error\x20on\x20'+_0x271791,_0x42f09d,_0x45b0ec);}_0x571f6a[_0x3d0bd9(0x657)](_0x233447[_0x3d0bd9(0x77a)],_0x3d0bd9(0x5ff));}[_0x440fb7(0x5f0)](_0x16b4b5){const _0x53d405=_0x440fb7,_0x511ba3=_0x16b4b5[_0x53d405(0x5d8)](_0x270534=>{const _0x3048f5=_0x53d405;this['messageBuffer'][_0x3048f5(0x47f)](_0x270534[_0x3048f5(0x28f)])||0x0===_0x270534['topicLabel']&&(this[_0x3048f5(0x301)][_0x3048f5(0x610)](_0x270534[_0x3048f5(0x28f)]),_0x5cb79a(_0x270534,this[_0x3048f5(0x6a3)])&&this['systemTopic']?.[_0x3048f5(0x764)](_0x270534));});this['connections'][_0x53d405(0x442)](_0x16b4b5,_0x511ba3);}['removeConnection'](_0x1f65f4){const _0x1f1ea4=_0x440fb7;this['connections'][_0x1f1ea4(0x39a)](_0x1f65f4)?.(),this['connections'][_0x1f1ea4(0x528)](_0x1f65f4);}['getLocalId'](){const _0x2d0bb7=_0x440fb7;return this[_0x2d0bb7(0x6a3)];}['getRemoteId'](){return'';}[_0x440fb7(0x40f)](){const _0x4596a3=_0x440fb7;return[_0x14ca27[_0x4596a3(0x5b0)]];}[_0x440fb7(0x3bf)](){const _0x15144d=_0x440fb7;throw new Error(_0x15144d(0x270));}[_0x440fb7(0x5c1)](_0x4b8f65){const _0x6b7201=_0x440fb7;this[_0x6b7201(0x464)]=_0x4b8f65;}[_0x440fb7(0x74f)](){delete this['systemTopic'];}}class _0x13a8f5{[_0x440fb7(0x3c4)]=new Map();[_0x440fb7(0x50b)];constructor(){const _0x8553ef=_0x440fb7;this[_0x8553ef(0x50b)]=_0x4a8cb3[_0x8553ef(0x4e7)](()=>{const _0x12fbb7=_0x8553ef;for(const [_0x161edb,_0x43a684]of this[_0x12fbb7(0x3c4)][_0x12fbb7(0x615)]())Date[_0x12fbb7(0x635)]()-_0x43a684>0x124f80&&this['buffer'][_0x12fbb7(0x528)](_0x161edb);},0x1d4c0);}[_0x440fb7(0x720)](){const _0x1926b2=_0x440fb7;this[_0x1926b2(0x50b)]();}[_0x440fb7(0x610)](_0x43efc4){const _0x3afbf1=_0x440fb7;this[_0x3afbf1(0x3c4)][_0x3afbf1(0x442)](_0x43efc4,Date[_0x3afbf1(0x635)]());}[_0x440fb7(0x47f)](_0x2c68b3){const _0x2225d7=_0x440fb7;return this[_0x2225d7(0x3c4)][_0x2225d7(0x4f5)](_0x2c68b3);}}class _0x4b3aa2{[_0x440fb7(0x339)];[_0x440fb7(0x75c)];[_0x440fb7(0x6cf)];[_0x440fb7(0x1fa)];[_0x440fb7(0x284)];[_0x440fb7(0x57c)]=new Map();['connectionPool'];['connectionGroup'];['signalingServer'];[_0x440fb7(0x301)];constructor(_0x4a6f1c,_0x101ae7,_0x96ebab,_0x366e6b,_0x43cfef,_0x518f25){const _0x164338=_0x440fb7;this[_0x164338(0x339)]=_0x4a6f1c,this[_0x164338(0x75c)]=_0x101ae7,this[_0x164338(0x6cf)]=_0x96ebab,this['maxFps']=_0x366e6b,this[_0x164338(0x284)]=_0x43cfef,this[_0x164338(0x301)]=new _0x13a8f5(),this[_0x164338(0x341)]=new _0x9eed8c(this[_0x164338(0x339)][_0x164338(0x6a3)],this[_0x164338(0x301)],_0x518f25),this[_0x164338(0x51d)]=new _0x524d24(this[_0x164338(0x339)][_0x164338(0x752)],this[_0x164338(0x339)][_0x164338(0x6bf)],this[_0x164338(0x339)]['localId'],_0x164338(0x40b),this[_0x164338(0x75c)]),this[_0x164338(0x23a)]=new _0x2101e6(this[_0x164338(0x339)]['localId'],this['messageBuffer']),this[_0x164338(0x23a)]['addConnection'](this['connectionGroup']),this[_0x164338(0x23a)][_0x164338(0x5f0)](this['signalingServer']),this[_0x164338(0x339)][_0x164338(0x57a)][_0x164338(0x2d7)](this[_0x164338(0x23a)]);}['close'](){const _0x3e5f07=_0x440fb7;this[_0x3e5f07(0x301)][_0x3e5f07(0x720)](),this[_0x3e5f07(0x57c)][_0x3e5f07(0x613)]((_0x235798,_0x18890e)=>this[_0x3e5f07(0x5ba)](_0x18890e)),this[_0x3e5f07(0x339)][_0x3e5f07(0x57a)][_0x3e5f07(0x20c)](this['connectionPool']),this[_0x3e5f07(0x23a)][_0x3e5f07(0x5fa)](this[_0x3e5f07(0x51d)]),this[_0x3e5f07(0x23a)][_0x3e5f07(0x5fa)](this[_0x3e5f07(0x341)]),this[_0x3e5f07(0x23a)][_0x3e5f07(0x720)](),this[_0x3e5f07(0x51d)][_0x3e5f07(0x720)](),this['connectionGroup']['close']();}async[_0x440fb7(0x2a8)](){const _0x4dfe6e=_0x440fb7;await this['signalingServer'][_0x4dfe6e(0x43f)]();}async['createConnection'](_0x576b1f,_0x28d4cf,_0x1840d3=_0x25b86c[_0x440fb7(0x3de)]){const _0x260001=_0x440fb7;if(this[_0x260001(0x57c)]['has'](_0x576b1f)){if(this['connections']['get'](_0x576b1f)?.[_0x260001(0x552)]()===_0x25b86c[_0x260001(0x30c)]&&_0x1840d3===_0x25b86c['Core'])return void this[_0x260001(0x57c)][_0x260001(0x39a)](_0x576b1f)?.['setConnectionType'](_0x25b86c[_0x260001(0x3de)]);throw new _0x717bed(_0x717bed['codes'][_0x260001(0x348)],{'localId':this[_0x260001(0x339)]['localId'],'remoteId':_0x576b1f});}const _0x27c995=new _0x3227(this[_0x260001(0x339)][_0x260001(0x6bf)],this['configs'][_0x260001(0x6a3)],_0x576b1f,_0x28d4cf,this['iceServers'],_0x1840d3,this['maxFps'],this[_0x260001(0x284)]);this[_0x260001(0x57c)][_0x260001(0x442)](_0x576b1f,_0x27c995),this[_0x260001(0x341)]['addConnection'](_0x27c995),this[_0x260001(0x339)]['mediator'][_0x260001(0x2d7)](_0x27c995),this[_0x260001(0x339)][_0x260001(0x57a)][_0x260001(0x6e1)](_0x576b1f),await _0x27c995[_0x260001(0x43f)]();}[_0x440fb7(0x67a)](){const _0x5bd1c4=_0x440fb7;return this[_0x5bd1c4(0x341)];}[_0x440fb7(0x2e5)](_0x4cb9a0){const _0x4eb884=_0x440fb7;if(!this[_0x4eb884(0x57c)][_0x4eb884(0x4f5)](_0x4cb9a0))throw new _0x717bed(_0x717bed[_0x4eb884(0x6dc)][_0x4eb884(0x36f)],{'localId':this['configs']['localId'],'remoteId':_0x4cb9a0});return this[_0x4eb884(0x57c)][_0x4eb884(0x39a)](_0x4cb9a0);}[_0x440fb7(0x294)](_0x304158){const _0x446643=_0x440fb7,_0x1f745d=Array[_0x446643(0x70f)](this[_0x446643(0x57c)][_0x446643(0x359)]());return _0x304158?_0x1f745d['filter'](_0x304158):_0x1f745d;}async['collectStats'](_0x438d1c){const _0x535e19=_0x440fb7,_0x33be56=this[_0x535e19(0x57c)][_0x535e19(0x39a)](_0x438d1c);_0x33be56&&_0x33be56[_0x535e19(0x3bf)]()&&await _0x33be56['collectStats']();}['handleOutgoingSystemEvents'](_0x32340){const _0x4f65bb=_0x440fb7;if(_0x32340[_0x4f65bb(0x4f0)]!==_0x5a2832[_0x4f65bb(0x46e)]||_0x32340[_0x4f65bb(0x313)])try{this[_0x4f65bb(0x341)][_0x4f65bb(0x430)](_0x32340);}catch(_0x288ab9){if(_0x288ab9 instanceof _0x1283cb)return;throw _0x288ab9;}else this[_0x4f65bb(0x23a)][_0x4f65bb(0x430)](_0x32340);}async['handleWebRTCSystemEvents'](_0x1f6909){const _0x484970=_0x440fb7;switch(_0x1f6909['content'][_0x484970(0x637)]){case _0x244554[_0x484970(0x73b)]:case _0x244554['Stats']:case _0x244554[_0x484970(0x66e)]:return;}if(!_0x1f6909['destinationIds']||0x1!==_0x1f6909['destinationIds']['length'])throw new _0x717bed(_0x717bed['codes'][_0x484970(0x368)],{'message':_0x484970(0x47e),'event':_0x1f6909});if(_0x1f6909[_0x484970(0x409)][0x0]!==this['configs'][_0x484970(0x6a3)])throw new _0x717bed(_0x717bed['codes'][_0x484970(0x368)],{'message':_0x484970(0x237),'event':_0x1f6909});if(!this['connections'][_0x484970(0x4f5)](_0x1f6909[_0x484970(0x472)])){let _0x576a09=_0x25b86c[_0x484970(0x3de)];if(!(this[_0x484970(0x4ce)](_0x1f6909[_0x484970(0x6bd)])||this['isIceCandidate'](_0x1f6909['content'])||this['isNeedRestart'](_0x1f6909['content'])))return;_0x576a09=_0x1f6909[_0x484970(0x6bd)][_0x484970(0x467)],await this['createConnection'](_0x1f6909[_0x484970(0x472)],!0x1,_0x576a09);}const _0x622b6b=this[_0x484970(0x57c)]['get'](_0x1f6909[_0x484970(0x472)]);await _0x622b6b[_0x484970(0x4c1)](_0x1f6909);}['handleRemediationSystemEvents'](_0x26cc3e){const _0x212615=_0x440fb7;if(_0x26cc3e[_0x212615(0x6bd)][_0x212615(0x637)]===_0xe8a9ad['Remediation']){if(_0x26cc3e[_0x212615(0x6bd)][_0x212615(0x750)]===this[_0x212615(0x339)][_0x212615(0x6a3)])return void this[_0x212615(0x57c)][_0x212615(0x613)](_0x3e580e=>_0x3e580e['handleRemediationSystemEvents'](_0x26cc3e));this[_0x212615(0x57c)][_0x212615(0x39a)](_0x26cc3e[_0x212615(0x6bd)][_0x212615(0x750)])?.[_0x212615(0x207)](_0x26cc3e);}}[_0x440fb7(0x46f)]({content:_0x422885}){const _0x277fa4=_0x440fb7;_0x422885['type']===_0x13a6c4['UserLeave']&&this[_0x277fa4(0x5ba)](_0x422885['id']);}['closeConnection'](_0x1773c3){const _0xc25e49=_0x440fb7,_0x473c4c=this[_0xc25e49(0x57c)][_0xc25e49(0x39a)](_0x1773c3);_0x473c4c&&(this[_0xc25e49(0x339)][_0xc25e49(0x57a)][_0xc25e49(0x551)](_0x1773c3),this[_0xc25e49(0x339)][_0xc25e49(0x57a)]['unregisterSystemSource'](_0x473c4c),_0x473c4c instanceof _0x3227&&this[_0xc25e49(0x341)]['removeConnection'](_0x473c4c),_0x473c4c[_0xc25e49(0x720)](),this[_0xc25e49(0x57c)]['delete'](_0x1773c3));}['isOffer'](_0x57f3a2){const _0x3e0632=_0x440fb7;return _0x57f3a2[_0x3e0632(0x637)]===_0x244554[_0x3e0632(0x3a3)];}[_0x440fb7(0x22d)](_0x4cb1b9){const _0xea905c=_0x440fb7;return _0x4cb1b9[_0xea905c(0x637)]===_0x244554[_0xea905c(0x209)];}[_0x440fb7(0x748)](_0x1a438d){const _0xda0276=_0x440fb7;return _0x1a438d[_0xda0276(0x637)]===_0x244554[_0xda0276(0x70b)];}}!function(_0x1f6cdb){const _0x3b69ec=_0x440fb7;_0x1f6cdb[_0x1f6cdb[_0x3b69ec(0x40a)]=0x0]=_0x3b69ec(0x40a),_0x1f6cdb[_0x1f6cdb[_0x3b69ec(0x376)]=0x1]=_0x3b69ec(0x376),_0x1f6cdb[_0x1f6cdb[_0x3b69ec(0x714)]=0x2]=_0x3b69ec(0x714),_0x1f6cdb[_0x1f6cdb[_0x3b69ec(0x402)]=0x3]='NeedMediaStream',_0x1f6cdb[_0x1f6cdb[_0x3b69ec(0x4e9)]=0x4]=_0x3b69ec(0x4e9),_0x1f6cdb[_0x1f6cdb[_0x3b69ec(0x751)]=0x5]=_0x3b69ec(0x751),_0x1f6cdb[_0x1f6cdb[_0x3b69ec(0x2d3)]=0x6]=_0x3b69ec(0x2d3),_0x1f6cdb[_0x1f6cdb[_0x3b69ec(0x736)]=0x7]=_0x3b69ec(0x736);}(_0x6413dc||(_0x6413dc={}));class _0x318873 extends _0x288ad9{[_0x440fb7(0x6bf)];[_0x440fb7(0x752)];[_0x440fb7(0x6f2)];[_0x440fb7(0x50b)];[_0x440fb7(0x42d)];['pendingSyncTransactions']=new Map();['objectRequests']=new Map();['pendingFilesSyncing']=new Map();[_0x440fb7(0x3f2)]=new Map();['pendingFilesRename']=new Map();[_0x440fb7(0x76c)];['eventListener']=_0x487683();['listenerUnsubscriber'];[_0x440fb7(0x412)];['writes']=0x0;[_0x440fb7(0x486)]=0x0;constructor(_0x4e5d32,_0x26b41b,_0x3d1de5,_0x5e4210,_0x12339f,_0x56a42b){const _0x453f3b=_0x440fb7;if(_0x453f3b(0x5af)!=typeof _0x26b41b)throw new _0x40d3d5(_0x1afea7[_0x453f3b(0x2be)],_0x453f3b(0x5fe));super(_0x4e5d32,_0x26b41b),this[_0x453f3b(0x6bf)]=_0x3d1de5,this['vendorId']=_0x5e4210,this['transactionService']=_0x12339f;const _0x4b77a9='ccc'+this['vendorId']+'ccc'+this['clusterId'];this[_0x453f3b(0x76c)]=new _0x56a42b(_0x4b77a9,_0x26b41b);}[_0x440fb7(0x2c9)](){const _0x1069c3=_0x440fb7;return _0x14ca27[_0x1069c3(0x34f)];}async['sync'](){const _0x5f0383=_0x440fb7;try{const _0x597dbf=await this['objectStoreConnector'][_0x5f0383(0x499)](),_0x4beaf6=await _0x597dbf['getFileHandle'](_0x2a1e25),_0x5821a2=await _0x4beaf6[_0x5f0383(0x6f4)](),_0x26985e=await _0x5821a2[_0x5f0383(0x6c4)]();this[_0x5f0383(0x42d)]=_0x26985e;}catch(_0x1075de){}this[_0x5f0383(0x50b)]=this[_0x5f0383(0x5d8)](async(_0xd0af55,_0x4e9c1f)=>{const _0x43a44d=_0x5f0383;if(!(_0x4e9c1f instanceof File))try{if(_0x4e9c1f['payloadType']===_0x5eac2f['Request'])return void this['handleRequestPayload'](_0x4e9c1f);this['handleTransactionPayload'](_0x4e9c1f);}catch(_0x4f4b52){if(_0x4f4b52 instanceof _0x717bed)throw _0x4f4b52;throw new _0x717bed(_0x717bed['codes'][_0x43a44d(0x480)],{'payload':_0x4e9c1f});}}),await this['syncTransactions'](),await this[_0x5f0383(0x4f6)](),this[_0x5f0383(0x5cf)]();}[_0x440fb7(0x3bd)](){const _0x33f35b=_0x440fb7;this[_0x33f35b(0x50b)]?.(),clearTimeout(this[_0x33f35b(0x412)]),delete this['debounceStats'],super[_0x33f35b(0x3bd)]();}[_0x440fb7(0x720)](){const _0x424955=_0x440fb7;this[_0x424955(0x464)]?.['publish']({'sourceId':_0x513fd0,'messageType':_0x5a2832['Content'],'content':{'type':_0x1ee405[_0x424955(0x343)],'label':this['label']}});}[_0x440fb7(0x3af)](_0x4486cc){const _0x3daab8=_0x440fb7;if(this[_0x3daab8(0x493)])throw new _0x40d3d5(_0x1afea7[_0x3daab8(0x3c7)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x3daab8(0x493)]=this['eventListener'][_0x3daab8(0x3af)](_0x4486cc);}['unsubscribe'](){const _0x56ca01=_0x440fb7;this['listenerUnsubscriber']&&this[_0x56ca01(0x493)]();}[_0x440fb7(0x764)](_0x565b5e){const _0x57b605=_0x440fb7;switch(_0x565b5e[_0x57b605(0x3b9)]){case _0x399927[_0x57b605(0x432)]:return this[_0x57b605(0x508)](_0x565b5e[_0x57b605(0x309)],_0x565b5e[_0x57b605(0x44b)]);case _0x399927[_0x57b605(0x22e)]:return this[_0x57b605(0x656)](_0x565b5e[_0x57b605(0x44b)]);case _0x399927[_0x57b605(0x3ae)]:return this[_0x57b605(0x628)](_0x565b5e['path'],_0x565b5e[_0x57b605(0x582)]);default:throw new _0x40d3d5(_0x1afea7[_0x57b605(0x65a)],'Cannot\x20publish\x20payload:\x20'+_0x565b5e);}}async[_0x440fb7(0x3b0)](_0xc26e49){const _0x24e961=_0x440fb7;try{const _0x1b2304=(0x0,_0x298a8a['v4'])(),_0x4cd658=this['lastTransactionId'],_0x2979f5={'payloadType':_0x5eac2f[_0x24e961(0x739)],'action':_0x1680a0[_0x24e961(0x3fd)],'id':_0x1b2304,'parentId':_0x4cd658,'path':_0xc26e49};await this['publishTransaction'](_0x2979f5);const _0x3de985=await this[_0x24e961(0x56d)](_0xc26e49);await this[_0x24e961(0x430)](_0x2979f5),_0x571f6a[_0x24e961(0x4a8)](_0x1ba8b6[_0x24e961(0x24c)],{'type':'unpublish','label':this[_0x24e961(0x474)],'userId':this[_0x24e961(0x718)],'kind':_0x3de985,'path':_0xc26e49}),this['writes']+=0x1,this[_0x24e961(0x5cf)]();}catch(_0x40b6c6){if(_0x40b6c6 instanceof _0x717bed)throw new _0x40d3d5(_0x1afea7[_0x24e961(0x29a)],_0x24e961(0x2e9));throw new _0x40d3d5(_0x1afea7[_0x24e961(0x4c6)],_0x24e961(0x1d7)+_0xc26e49);}}async[_0x440fb7(0x39a)](_0xba804c){const _0x5ee5cc=_0x440fb7;_0x571f6a[_0x5ee5cc(0x4a8)](_0x1ba8b6[_0x5ee5cc(0x24c)],{'type':_0x5ee5cc(0x39a),'label':this['label'],'userId':this[_0x5ee5cc(0x718)],'path':_0xba804c}),this[_0x5ee5cc(0x486)]+=0x1,this[_0x5ee5cc(0x5cf)]();try{return await this[_0x5ee5cc(0x76c)]['get'](_0xba804c);}catch(_0x56bdc8){try{await this[_0x5ee5cc(0x76c)][_0x5ee5cc(0x39a)](_0xba804c+_0x2a94ea);}catch(_0x4ff241){throw new _0x40d3d5(_0x1afea7[_0x5ee5cc(0x4c6)],_0x5ee5cc(0x2cc)+_0xba804c);}throw new _0x40d3d5(_0x1afea7[_0x5ee5cc(0x29a)],'Object\x20store\x20is\x20not\x20in\x20sync');}}async[_0x440fb7(0x423)](_0x55ef66,_0x5484c2=!0x1,_0x418e30=!0x1){const _0x5881af=_0x440fb7;_0x571f6a[_0x5881af(0x4a8)](_0x1ba8b6[_0x5881af(0x24c)],{'type':_0x5881af(0x423),'label':this[_0x5881af(0x474)],'userId':this[_0x5881af(0x718)],'path':_0x55ef66}),this[_0x5881af(0x486)]+=0x1,this['sendStats']();try{const _0x122a63=await this[_0x5881af(0x76c)][_0x5881af(0x423)](_0x55ef66,_0x5484c2);return _0x418e30?_0x122a63:this[_0x5881af(0x330)](_0x122a63);}catch(_0x4cf6c6){throw new _0x40d3d5(_0x1afea7['ObjectStoreInvalidPath'],_0x5881af(0x76d)+_0x55ef66);}}[_0x440fb7(0x203)](_0x81f84e){const _0x2065d2=_0x440fb7;for(const _0x220d99 of this['objectRequests'][_0x2065d2(0x359)]())this[_0x2065d2(0x430)](_0x220d99,[_0x81f84e]);}[_0x440fb7(0x36e)](_0x19a91c){const _0x3bfe55=_0x440fb7,_0x5729cc=this[_0x3bfe55(0x454)][_0x3bfe55(0x39a)](_0x19a91c);if(_0x5729cc){for(const [_0xf14c3e,_0x500261]of _0x5729cc[_0x3bfe55(0x359)]())this['sendFileRequestPayload'](_0xf14c3e,_0x500261);this[_0x3bfe55(0x454)][_0x3bfe55(0x528)](_0x19a91c);}}['cleanList'](_0x227360){const _0x450cbb=_0x440fb7;for(const _0x67c1b2 of _0x227360)_0x67c1b2['kind']===_0x10e0db[_0x450cbb(0x22e)]&&(_0x67c1b2['entries']=this[_0x450cbb(0x330)](_0x67c1b2[_0x450cbb(0x615)]??[])),(_0x67c1b2[_0x450cbb(0x5cc)][_0x450cbb(0x6a8)](_0x2a94ea)||_0x67c1b2[_0x450cbb(0x5cc)]===_0x2a1e25)&&_0x227360['splice'](_0x227360[_0x450cbb(0x56f)](_0x67c1b2),0x1);return _0x227360;}async[_0x440fb7(0x508)](_0x209338,_0x22299b){const _0x364ede=_0x440fb7;try{const _0x468aef=(0x0,_0x298a8a['v4'])(),_0x57de63=this[_0x364ede(0x42d)],_0x9f9136=await _0x525e01(_0x209338);await this['publishTransaction']({'payloadType':_0x5eac2f['Transaction'],'action':_0x1680a0['FileWrite'],'id':_0x468aef,'parentId':_0x57de63,'answererId':this['ownerId'],'name':_0x209338['name'],'type':_0x209338[_0x364ede(0x637)],'path':_0x22299b??'/','checksum':_0x9f9136}),await this[_0x364ede(0x65e)](_0x209338,_0x22299b),await this[_0x364ede(0x351)](_0x209338,{'payloadType':_0x5eac2f[_0x364ede(0x739)],'action':_0x1680a0[_0x364ede(0x371)],'id':_0x468aef,'parentId':_0x57de63,'answererId':this[_0x364ede(0x718)],'name':_0x209338[_0x364ede(0x5cc)],'type':_0x209338['type'],'path':_0x22299b??'/','checksum':_0x9f9136}),_0x571f6a[_0x364ede(0x4a8)](_0x1ba8b6['ObjectStorage'],{'type':_0x364ede(0x764),'label':this[_0x364ede(0x474)],'userId':this[_0x364ede(0x718)],'kind':_0x10e0db['File'],'path':_0x22299b,'fileName':_0x209338[_0x364ede(0x5cc)],'fileType':_0x209338[_0x364ede(0x637)],'size':_0x209338[_0x364ede(0x264)]}),this[_0x364ede(0x2f3)]+=0x1,this['sendStats']();}catch(_0x253e74){if(_0x253e74 instanceof _0x717bed)throw new _0x40d3d5(_0x1afea7[_0x364ede(0x29a)],_0x364ede(0x550));throw new _0x40d3d5(_0x1afea7[_0x364ede(0x4c6)],'Cannot\x20publish\x20file:\x20'+_0x22299b);}}async['publishFolder'](_0x33d437){const _0x3f706a=_0x440fb7;try{const _0x18aa34=(0x0,_0x298a8a['v4'])(),_0xfc89c6=this[_0x3f706a(0x42d)],_0xd84f5f={'payloadType':_0x5eac2f[_0x3f706a(0x739)],'action':_0x1680a0[_0x3f706a(0x62b)],'id':_0x18aa34,'parentId':_0xfc89c6,'path':_0x33d437};await this[_0x3f706a(0x5a7)](_0xd84f5f),await this[_0x3f706a(0x76c)][_0x3f706a(0x499)](_0x33d437),await this[_0x3f706a(0x430)](_0xd84f5f),_0x571f6a[_0x3f706a(0x4a8)](_0x1ba8b6[_0x3f706a(0x24c)],{'type':'publish','label':this['label'],'userId':this[_0x3f706a(0x718)],'kind':_0x10e0db[_0x3f706a(0x22e)],'path':_0x33d437}),this[_0x3f706a(0x2f3)]+=0x1,this[_0x3f706a(0x5cf)]();}catch(_0x9086bd){if(_0x9086bd instanceof _0x717bed)throw new _0x40d3d5(_0x1afea7['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x40d3d5(_0x1afea7[_0x3f706a(0x4c6)],'Cannot\x20publish\x20folder:\x20'+_0x33d437);}}async[_0x440fb7(0x628)](_0xfe1d4d,_0x4ed167){const _0x531001=_0x440fb7;try{const _0x448e86=(0x0,_0x298a8a['v4'])(),_0x1b8dcf=this[_0x531001(0x42d)],_0x4d413c={'payloadType':_0x5eac2f['Transaction'],'action':_0x1680a0[_0x531001(0x3ae)],'id':_0x448e86,'parentId':_0x1b8dcf,'path':_0xfe1d4d,'newPath':_0x4ed167};await this['publishTransaction'](_0x4d413c);const _0x47621a=await this[_0x531001(0x694)](_0xfe1d4d,_0x4ed167);await this[_0x531001(0x430)](_0x4d413c),_0x571f6a[_0x531001(0x4a8)](_0x1ba8b6[_0x531001(0x24c)],{'type':_0x531001(0x731),'label':this['label'],'userId':this['ownerId'],'kind':_0x47621a,'path':_0xfe1d4d,'newPath':_0x4ed167}),this[_0x531001(0x2f3)]+=0x1,this[_0x531001(0x5cf)]();}catch(_0xecf241){if(_0xecf241 instanceof _0x717bed)throw new _0x40d3d5(_0x1afea7[_0x531001(0x29a)],_0x531001(0x550));throw new _0x40d3d5(_0x1afea7['ObjectStoreInvalidPath'],_0x531001(0x54d)+_0xfe1d4d);}}async[_0x440fb7(0x1f1)](_0x1f3ae2){const _0x4ca2ee=_0x440fb7;if(this[_0x4ca2ee(0x42d)]&&_0x1f3ae2[_0x4ca2ee(0x367)]!==this[_0x4ca2ee(0x42d)]&&_0x1f3ae2['id']!==this['lastTransactionId']){if(!_0x1f3ae2['parentId'])throw new _0x717bed(_0x717bed['codes'][_0x4ca2ee(0x480)]);this[_0x4ca2ee(0x6b1)]['set'](_0x1f3ae2[_0x4ca2ee(0x367)],_0x1f3ae2);}else{try{await this[_0x4ca2ee(0x1d9)](_0x1f3ae2);}catch(_0x576190){}await this[_0x4ca2ee(0x6a5)](_0x1f3ae2['id']),await this[_0x4ca2ee(0x356)](_0x1f3ae2['id']);}}async['processTransactionPayload'](_0x501504){const _0x2a9a79=_0x440fb7;switch(_0x501504[_0x2a9a79(0x3b9)]){case _0x1680a0[_0x2a9a79(0x371)]:await this[_0x2a9a79(0x5ce)](_0x501504);break;case _0x1680a0[_0x2a9a79(0x62b)]:await this[_0x2a9a79(0x2a2)](_0x501504);break;case _0x1680a0['Move']:await this[_0x2a9a79(0x23b)](_0x501504);break;case _0x1680a0[_0x2a9a79(0x3fd)]:await this[_0x2a9a79(0x68e)](_0x501504);break;default:throw new _0x717bed(_0x717bed[_0x2a9a79(0x6dc)][_0x2a9a79(0x480)],{'payload':_0x501504});}}async[_0x440fb7(0x356)](_0xcaa025){const _0x223a49=_0x440fb7;if(this[_0x223a49(0x6b1)][_0x223a49(0x4f5)](_0xcaa025)){const _0x461d9e=this[_0x223a49(0x6b1)][_0x223a49(0x39a)](_0xcaa025);this[_0x223a49(0x6b1)][_0x223a49(0x528)](_0xcaa025),await this[_0x223a49(0x1f1)](_0x461d9e);}}async[_0x440fb7(0x3d3)](_0xd48997){const _0x94887f=_0x440fb7;switch(_0xd48997[_0x94887f(0x3b9)]){case _0x1680a0[_0x94887f(0x38a)]:return this['handleFileRequest'](_0xd48997);case _0x1680a0['RequestAccepted']:return this[_0x94887f(0x49c)](_0xd48997);case _0x1680a0[_0x94887f(0x2c5)]:return this['handleFileSync'](_0xd48997);case _0x1680a0[_0x94887f(0x533)]:return this[_0x94887f(0x5ce)](_0xd48997);default:throw new _0x717bed(_0x717bed[_0x94887f(0x6dc)]['ObjectStoreInvalidSyncMessage'],{'payload':_0xd48997});}}async['handleFileWrite'](_0x36b2f6){const _0x16bd9=_0x440fb7;if(!_0x36b2f6[_0x16bd9(0x2f8)]||void 0x0===_0x36b2f6[_0x16bd9(0x2de)]||!_0x36b2f6['total'])return void await this['createPendingFileWrite'](_0x36b2f6);const _0x4fd563=_0x2373f1(_0x36b2f6[_0x16bd9(0x44b)],_0x36b2f6[_0x16bd9(0x5cc)]);this[_0x16bd9(0x607)][_0x16bd9(0x4f5)](_0x4fd563)||(this['fileChunks'][_0x16bd9(0x442)](_0x4fd563,[]),await this['createPendingFileWrite'](_0x36b2f6)),this[_0x16bd9(0x559)](_0x36b2f6,_0x4fd563);const _0xf3affc=this[_0x16bd9(0x607)][_0x16bd9(0x39a)](_0x4fd563);if(_0xf3affc[_0x36b2f6[_0x16bd9(0x2de)]]=_0x36b2f6['data'],_0xf3affc[_0x16bd9(0x5ae)](_0x2f1332=>_0x2f1332)['length']<_0x36b2f6[_0x16bd9(0x6f6)])return;const _0x339aca=_0x447672(_0xf3affc,_0x36b2f6[_0x16bd9(0x5cc)],_0x36b2f6['type']);await this['writeFile'](_0x339aca,_0x36b2f6[_0x16bd9(0x44b)]),await this['deletePendingFile'](_0x36b2f6),this[_0x16bd9(0x607)][_0x16bd9(0x528)](_0x4fd563),_0x571f6a['logServiceEvent'](_0x1ba8b6[_0x16bd9(0x24c)],{'type':_0x16bd9(0x435),'label':this['label'],'userId':this[_0x16bd9(0x718)],'kind':_0x10e0db[_0x16bd9(0x432)],'path':_0x36b2f6[_0x16bd9(0x44b)],'fileName':_0x36b2f6['name'],'fileType':_0x36b2f6[_0x16bd9(0x637)],'size':_0x339aca['size']});const _0x5d5582=this[_0x16bd9(0x3f2)][_0x16bd9(0x39a)](_0x36b2f6[_0x16bd9(0x44b)])??[];for(const _0xa9ef2d of _0x5d5582)await this[_0x16bd9(0x1d9)](_0xa9ef2d);this[_0x16bd9(0x3f2)][_0x16bd9(0x528)](_0x36b2f6['path']),this[_0x16bd9(0x34d)][_0x16bd9(0x764)]({'event':_0x119d00[_0x16bd9(0x371)],'payload':{'file':{'kind':_0x10e0db[_0x16bd9(0x432)],'path':_0x36b2f6[_0x16bd9(0x44b)],'type':_0x339aca[_0x16bd9(0x637)],'size':_0x339aca['size'],'name':_0x36b2f6[_0x16bd9(0x5cc)],'pathName':_0x4fd563}}});}async[_0x440fb7(0x2a2)](_0x562d81){const _0x20ac3c=_0x440fb7;await this[_0x20ac3c(0x76c)][_0x20ac3c(0x499)](_0x562d81[_0x20ac3c(0x44b)]);const [_0x1d9edf,_0x2e184d]=_0x5dadd6(_0x562d81['path']);this[_0x20ac3c(0x34d)][_0x20ac3c(0x764)]({'event':_0x119d00[_0x20ac3c(0x62b)],'payload':{'folder':{'kind':_0x10e0db[_0x20ac3c(0x22e)],'name':_0x2e184d,'path':_0x1d9edf,'pathName':_0x562d81[_0x20ac3c(0x44b)]}}});}async[_0x440fb7(0x68e)](_0x175805){const _0x569676=_0x440fb7;if(!this[_0x569676(0x258)](_0x175805))return;const _0x4b3e8a=await this[_0x569676(0x56d)](_0x175805[_0x569676(0x44b)]),[_0x13736c,_0x37e373]=_0x5dadd6(_0x175805[_0x569676(0x44b)]);this[_0x569676(0x34d)][_0x569676(0x764)]({'event':_0x4b3e8a===_0x10e0db['Folder']?_0x119d00[_0x569676(0x5c5)]:_0x119d00[_0x569676(0x522)],'payload':{'name':_0x37e373,'path':_0x13736c,'pathName':_0x175805[_0x569676(0x44b)]}});}async['handleObjectMove'](_0x5aa0d2){const _0x48424b=_0x440fb7;if(!this[_0x48424b(0x258)](_0x5aa0d2))return this['pendingFilesRename']['set'](_0x5aa0d2['newPath'],this['pendingFilesRename'][_0x48424b(0x39a)](_0x5aa0d2[_0x48424b(0x44b)])??_0x5aa0d2['path']),void this[_0x48424b(0x485)][_0x48424b(0x528)](_0x5aa0d2[_0x48424b(0x44b)]);this['pendingFilesRename'][_0x48424b(0x528)](_0x5aa0d2[_0x48424b(0x44b)]);const _0x325ded=await this[_0x48424b(0x76c)][_0x48424b(0x694)](_0x5aa0d2[_0x48424b(0x44b)],_0x5aa0d2[_0x48424b(0x582)]),[_0x5263e9,_0x1ff220]=_0x5dadd6(_0x5aa0d2[_0x48424b(0x44b)]),[_0x4f37e2,_0x4475e3]=_0x5dadd6(_0x5aa0d2[_0x48424b(0x582)]);this[_0x48424b(0x34d)][_0x48424b(0x764)]({'event':_0x325ded===_0x10e0db[_0x48424b(0x22e)]?_0x119d00[_0x48424b(0x48e)]:_0x119d00[_0x48424b(0x71c)],'payload':{'name':_0x4475e3,'path':_0x4f37e2,'pathName':_0x5aa0d2[_0x48424b(0x582)],'oldName':_0x1ff220,'oldPath':_0x5263e9,'oldPathName':_0x5aa0d2[_0x48424b(0x44b)]}});}['shouldProcessTransaction'](_0x2fb86d){const _0x2e6f1f=_0x440fb7,_0x16e2b5=this[_0x2e6f1f(0x485)][_0x2e6f1f(0x39a)](_0x2fb86d['path'])??_0x2fb86d[_0x2e6f1f(0x44b)];let _0x596b57=!0x1;for(const _0x22af3e of this['fileChunks'][_0x2e6f1f(0x63a)]())if(_0x22af3e[_0x2e6f1f(0x56a)](_0x16e2b5)){const _0x49fe6f=this[_0x2e6f1f(0x3f2)]['get'](_0x22af3e)??[];_0x49fe6f['push'](_0x2fb86d),this[_0x2e6f1f(0x3f2)]['set'](_0x22af3e,_0x49fe6f),_0x596b57=!0x0;}return!_0x596b57;}async[_0x440fb7(0x5a7)](_0x57ad65){const _0x3e3e18=_0x440fb7;if(!_0x57ad65['id'])throw new _0x717bed(_0x717bed[_0x3e3e18(0x6dc)][_0x3e3e18(0x480)],{'message':_0x3e3e18(0x35c)});await this[_0x3e3e18(0x6f2)]['writeTransaction'](_0x57ad65,this[_0x3e3e18(0x474)],this[_0x3e3e18(0x42d)]),await this[_0x3e3e18(0x6a5)](_0x57ad65['id']);}async[_0x440fb7(0x6a5)](_0x1f4f6e){const _0x554f29=_0x440fb7;this[_0x554f29(0x42d)]=_0x1f4f6e;const _0x5482b5=new File([new Blob([this['lastTransactionId']])],_0x2a1e25,{'type':_0x554f29(0x324)});await this[_0x554f29(0x65e)](_0x5482b5,'/');}async['handleFileRequest'](_0x76b04d){const _0x21924b=_0x440fb7;try{const _0x53fc88=await this[_0x21924b(0x39a)](_0x76b04d[_0x21924b(0x44b)]+'/'+_0x76b04d['name']);if(await _0x525e01(_0x53fc88)!==_0x76b04d[_0x21924b(0x57d)])return;_0x76b04d[_0x21924b(0x4e3)]=this[_0x21924b(0x718)],_0x76b04d[_0x21924b(0x3b9)]=_0x1680a0[_0x21924b(0x547)],await this[_0x21924b(0x430)](_0x76b04d,[_0x76b04d[_0x21924b(0x472)]]);}catch(_0x5ef0ad){}}async[_0x440fb7(0x49c)](_0x3f4ed6){const _0x524c6a=_0x440fb7,_0x4c9788=_0x2373f1(_0x3f4ed6[_0x524c6a(0x44b)],_0x3f4ed6[_0x524c6a(0x5cc)]);if(!this[_0x524c6a(0x498)]['has'](_0x4c9788))return;const _0x56c1d7=this[_0x524c6a(0x498)]['get'](_0x4c9788);_0x56c1d7['action']=_0x1680a0[_0x524c6a(0x2c5)];const _0x38d3af=_0x3f4ed6[_0x524c6a(0x4e3)];if(!_0x38d3af)throw new _0x717bed(_0x717bed['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x524c6a(0x2e0)});this[_0x524c6a(0x498)]['delete'](_0x4c9788),this[_0x524c6a(0x454)][_0x524c6a(0x4f5)](_0x38d3af)||this[_0x524c6a(0x454)][_0x524c6a(0x442)](_0x38d3af,new Map()),this[_0x524c6a(0x454)][_0x524c6a(0x39a)](_0x38d3af)[_0x524c6a(0x442)](_0x4c9788,[_0x56c1d7,this[_0x524c6a(0x48a)](_0x38d3af,_0x4c9788)]),_0x56c1d7['answererId']=_0x38d3af,this[_0x524c6a(0x430)](_0x56c1d7,[_0x38d3af]);}async[_0x440fb7(0x304)](_0x548b1a){const _0x321620=_0x440fb7,_0x1b9f97=_0x2373f1(_0x548b1a[_0x321620(0x44b)],_0x548b1a[_0x321620(0x5cc)]),_0x17ccbb=await this['get'](_0x1b9f97),_0x5c8470={..._0x548b1a,'answererId':this[_0x321620(0x718)],'action':_0x1680a0['RequestFileWrite']};await this[_0x321620(0x351)](_0x17ccbb,_0x5c8470,[_0x548b1a[_0x321620(0x472)]]);}async['sendFile'](_0x21ba43,_0x486dfd,_0xe20cb){const _0xb27b66=_0x440fb7,_0x3c5930=await _0x4e9d7b(_0x21ba43);for(const [_0x57184c,_0x3cfec0]of _0x3c5930['entries']()){const _0x21eb69={..._0x486dfd,'type':_0x21ba43[_0xb27b66(0x637)],'data':_0x3cfec0,'index':_0x57184c,'total':_0x3c5930['length']};this[_0xb27b66(0x430)](_0x21eb69,_0xe20cb);}}async[_0x440fb7(0x4a6)](_0x501039){const _0x1e2c22=_0x440fb7;try{const _0x9b44cd=_0x2373f1(_0x501039[_0x1e2c22(0x44b)],_0x501039['name']),_0x31677a=_0x9b44cd+_0x2a94ea;await this[_0x1e2c22(0x56d)](_0x31677a);const [,_0x295fcd]=this[_0x1e2c22(0x454)][_0x1e2c22(0x39a)](_0x501039['answererId'])?.[_0x1e2c22(0x39a)](_0x9b44cd)??[];_0x295fcd&&(clearTimeout(_0x295fcd),this[_0x1e2c22(0x454)]['get'](_0x501039[_0x1e2c22(0x4e3)])[_0x1e2c22(0x528)](_0x9b44cd));}catch(_0x36d2e0){}}async['syncTransactions'](){const _0x375aef=_0x440fb7,_0x3ad1eb=await this[_0x375aef(0x6f2)][_0x375aef(0x21e)](this[_0x375aef(0x474)],this['lastTransactionId']);for(const _0x1812da of _0x3ad1eb)await this[_0x375aef(0x1f1)](_0x1812da);}async[_0x440fb7(0x4f6)](){const _0x25a48b=_0x440fb7,_0x496043=await this[_0x25a48b(0x423)]('/',!0x0,!0x0),_0x190b11=async _0x4a73f5=>{const _0x135a04=_0x25a48b;for(const _0xb8b435 of _0x4a73f5){if(_0xb8b435[_0x135a04(0x248)]===_0x10e0db[_0x135a04(0x22e)]){_0xb8b435[_0x135a04(0x615)]&&_0xb8b435['entries'][_0x135a04(0x382)]>0x0&&await _0x190b11(_0xb8b435[_0x135a04(0x615)]);continue;}if(!_0xb8b435[_0x135a04(0x5cc)][_0x135a04(0x6a8)](_0x2a94ea))continue;const _0x402ae7=await this[_0x135a04(0x39a)](_0xb8b435['pathName']),_0x3903f9=await _0x402ae7[_0x135a04(0x6c4)](),_0x415fd7=_0xb8b435['name'][_0x135a04(0x5fd)](_0x2a94ea,''),_0x32366c={'payloadType':_0x5eac2f[_0x135a04(0x48c)],'action':_0x1680a0[_0x135a04(0x38a)],'sourceId':this[_0x135a04(0x718)],'type':'','path':_0xb8b435['path'],'name':_0x415fd7,'checksum':_0x3903f9},_0x3a014c=_0x2373f1(_0xb8b435[_0x135a04(0x44b)],_0x415fd7);this[_0x135a04(0x498)]['set'](_0x3a014c,_0x32366c);}};await _0x190b11(_0x496043);}async[_0x440fb7(0x766)](_0xc3a916){const _0x1c29e7=_0x440fb7,_0x57fd7f=new File([new Blob([_0xc3a916[_0x1c29e7(0x57d)]])],''+_0xc3a916['name']+_0x2a94ea,{'type':_0x1c29e7(0x324)});await this['writeFile'](_0x57fd7f,_0xc3a916[_0x1c29e7(0x44b)]);}['getOrResetPendingFileTimeout'](_0x19d34e,_0x5b8ce9){const _0x35faec=_0x440fb7,[_0x15e63a,_0x2370b2]=this[_0x35faec(0x454)]['get'](_0x19d34e)?.['get'](_0x5b8ce9)??[];return _0x2370b2&&clearTimeout(_0x2370b2),window[_0x35faec(0x5e7)](()=>{const _0x5ef83d=_0x35faec,[_0x18621c,_0x300a2c]=this['pendingFilesSyncing']['get'](_0x19d34e)[_0x5ef83d(0x39a)](_0x5b8ce9);this[_0x5ef83d(0x456)](_0x18621c,_0x300a2c);},0xea60);}async['sendFileRequestPayload'](_0x4354f4,_0x764a7a){const _0x4d51d9=_0x440fb7;clearTimeout(_0x764a7a),_0x4354f4[_0x4d51d9(0x3b9)]=_0x1680a0[_0x4d51d9(0x38a)],this[_0x4d51d9(0x498)][_0x4d51d9(0x442)](_0x2373f1(_0x4354f4[_0x4d51d9(0x44b)],_0x4354f4[_0x4d51d9(0x5cc)]),_0x4354f4),this[_0x4d51d9(0x430)](_0x4354f4);}[_0x440fb7(0x559)](_0x4be4b2,_0x5697b2){const _0x38115c=_0x440fb7;this[_0x38115c(0x454)]['has'](_0x4be4b2[_0x38115c(0x4e3)])||this['pendingFilesSyncing']['set'](_0x4be4b2['answererId'],new Map());const [_0x2dda8e]=this[_0x38115c(0x454)]['get'](_0x4be4b2[_0x38115c(0x4e3)])[_0x38115c(0x39a)](_0x5697b2)??[{'payloadType':_0x5eac2f['Request'],'action':_0x1680a0['RequestFile'],'sourceId':this['ownerId'],'type':_0x4be4b2[_0x38115c(0x637)],'name':_0x4be4b2['name'],'path':_0x4be4b2[_0x38115c(0x44b)],'checksum':_0x4be4b2[_0x38115c(0x57d)],'answererId':_0x4be4b2[_0x38115c(0x4e3)]}];this['pendingFilesSyncing'][_0x38115c(0x39a)](_0x4be4b2[_0x38115c(0x4e3)])[_0x38115c(0x442)](_0x5697b2,[_0x2dda8e,this[_0x38115c(0x48a)](_0x4be4b2[_0x38115c(0x4e3)],_0x5697b2)]);}async[_0x440fb7(0x65e)](_0x9d6a60,_0x5119ee){const _0x13939e=_0x440fb7;await this[_0x13939e(0x76c)][_0x13939e(0x65e)](_0x9d6a60,_0x5119ee);}async['deleteObject'](_0x2a37d8){const _0x53d042=_0x440fb7;try{return await this['objectStoreConnector'][_0x53d042(0x56d)](_0x2a37d8);}catch(_0x48ed6d){return await this[_0x53d042(0x76c)][_0x53d042(0x56d)](_0x2a37d8+_0x2a94ea);}}async['moveObject'](_0x4234cc,_0x131d1b){const _0x45bebf=_0x440fb7;try{return await this[_0x45bebf(0x76c)][_0x45bebf(0x694)](_0x4234cc,_0x131d1b);}catch(_0x48d710){return await this[_0x45bebf(0x76c)][_0x45bebf(0x694)](_0x4234cc+_0x2a94ea,_0x131d1b+_0x2a94ea);}}['sendStats'](){const _0x185d87=_0x440fb7;this[_0x185d87(0x412)]&&clearTimeout(this[_0x185d87(0x412)]),this[_0x185d87(0x412)]=window['setTimeout'](async()=>{const _0x20f90e=_0x185d87;delete this[_0x20f90e(0x412)];const _0x2375ec=await this[_0x20f90e(0x76c)]['calculateSize']('/');this['systemTopic']?.['publish']({'sourceId':_0x513fd0,'messageType':_0x5a2832['Content'],'content':{'type':_0x1ee405['ObjectStoreStats'],'label':this['label'],'stats':{'timestamp':Date[_0x20f90e(0x635)](),'storage':_0x2375ec,'messagesSent':this[_0x20f90e(0x54e)],'messagesReceived':this[_0x20f90e(0x771)],'bytesSent':this[_0x20f90e(0x23f)],'bytesReceived':this[_0x20f90e(0x1e2)],'writes':this[_0x20f90e(0x2f3)],'reads':this[_0x20f90e(0x486)]}}}),_0x571f6a[_0x20f90e(0x2fd)](_0x1ba8b6[_0x20f90e(0x24c)],this['label'],_0x2375ec);},0x1388);}}class _0x151fe0 extends _0x1d30bd{[_0x440fb7(0x2ac)];constructor(_0x4fe8bd,_0x405463,_0x46db21){super(_0x4fe8bd,_0x405463),this['mediaStream']=_0x46db21;}[_0x440fb7(0x2c9)](){return _0x14ca27['Media'];}[_0x440fb7(0x1ee)](){const _0x3d9abb=_0x440fb7;return this[_0x3d9abb(0x2ac)];}['getInternalStreamId'](){const _0x59e516=_0x440fb7;return this[_0x59e516(0x2ac)]['id'];}}class _0x4a5bb5 extends _0x151fe0{[_0x440fb7(0x31e)];[_0x440fb7(0x71f)];[_0x440fb7(0x629)];[_0x440fb7(0x54b)]=_0x487683();constructor(_0x29d429,_0x1d5c8b,_0x10c3cb,_0x3be38d,_0x5db494){const _0xcc906e=_0x440fb7;super(_0x29d429,_0x1d5c8b,_0x10c3cb),this[_0xcc906e(0x31e)]=_0x3be38d,this[_0xcc906e(0x71f)]=_0x5db494;}[_0x440fb7(0x3bd)](){const _0x3e2851=_0x440fb7;this[_0x3e2851(0x5ab)](_0x3e2851(0x37a)),this['removeTrack']('video'),super[_0x3e2851(0x3bd)]();}[_0x440fb7(0x6e3)](_0x4bd619){const _0x1d76a1=_0x440fb7;if(!this[_0x1d76a1(0x629)])throw new _0x717bed(_0x717bed[_0x1d76a1(0x6dc)][_0x1d76a1(0x503)],{'label':this[_0x1d76a1(0x474)],'ownerId':this[_0x1d76a1(0x718)],'remoteId':this[_0x1d76a1(0x31e)]});this[_0x1d76a1(0x629)][_0x1d76a1(0x764)]({'sourceId':this[_0x1d76a1(0x718)],'content':{'action':_0x59734b[_0x1d76a1(0x69c)],'track':_0x4bd619,'stream':this[_0x1d76a1(0x2ac)],'priority':_0x274936[_0x1d76a1(0x3f6)],'params':this[_0x1d76a1(0x69f)](_0x4bd619[_0x1d76a1(0x248)],this[_0x1d76a1(0x71f)])}});}[_0x440fb7(0x5ab)](_0x179c5c){const _0x5538b6=_0x440fb7,_0x10d9e7=this[_0x5538b6(0x42c)](_0x179c5c);if(_0x10d9e7){if(!this[_0x5538b6(0x629)])return null;this[_0x5538b6(0x629)][_0x5538b6(0x764)]({'sourceId':this[_0x5538b6(0x718)],'content':{'action':_0x59734b[_0x5538b6(0x600)],'track':_0x10d9e7,'stream':this[_0x5538b6(0x2ac)]}});}return _0x10d9e7;}[_0x440fb7(0x662)](_0x20ba0){const _0x5be7e1=_0x440fb7;if(!this['topic'])throw new _0x717bed(_0x717bed['codes'][_0x5be7e1(0x503)],{'label':this[_0x5be7e1(0x474)],'ownerId':this[_0x5be7e1(0x718)],'remoteId':this['remoteId']});this[_0x5be7e1(0x629)][_0x5be7e1(0x764)]({'sourceId':this[_0x5be7e1(0x718)],'content':{'action':_0x59734b[_0x5be7e1(0x6ce)],'priority':_0x20ba0,'stream':this[_0x5be7e1(0x2ac)]}});}[_0x440fb7(0x3af)]({trackKinds:_0x1ad0c9,params:_0x3b1e97},_0x552cab){const _0x4ebefe=_0x440fb7;if(!this['topic'])throw new _0x717bed(_0x717bed['codes'][_0x4ebefe(0x503)],{'label':this[_0x4ebefe(0x474)],'ownerId':this[_0x4ebefe(0x718)],'remoteId':this['remoteId']});for(const _0x3fd35c of this[_0x4ebefe(0x2ac)][_0x4ebefe(0x52f)]())_0x1ad0c9[_0x4ebefe(0x63d)](_0x3fd35c[_0x4ebefe(0x248)])&&this[_0x4ebefe(0x629)]['publish']({'sourceId':this[_0x4ebefe(0x718)],'content':{'action':_0x59734b[_0x4ebefe(0x69c)],'track':_0x3fd35c,'stream':this[_0x4ebefe(0x2ac)],'priority':_0x552cab,'params':this['getInternalTrackParams'](_0x3fd35c['kind'],_0x3b1e97)}});}[_0x440fb7(0x30b)]({params:_0x29b61d}){const _0x3d2af3=_0x440fb7;if(!this[_0x3d2af3(0x629)])throw new _0x717bed(_0x717bed[_0x3d2af3(0x6dc)][_0x3d2af3(0x503)],{'label':this['label'],'ownerId':this['ownerId'],'remoteId':this[_0x3d2af3(0x31e)]});for(const _0x48c1e2 of this[_0x3d2af3(0x2ac)][_0x3d2af3(0x52f)]())this['topic']['publish']({'sourceId':this[_0x3d2af3(0x718)],'content':{'action':_0x59734b['Update'],'stream':this[_0x3d2af3(0x2ac)],'params':this[_0x3d2af3(0x69f)](_0x48c1e2[_0x3d2af3(0x248)],_0x29b61d)}});}['unsubscribe']({trackKinds:_0xc1e4b6}){const _0x308d00=_0x440fb7;if(this[_0x308d00(0x629)]){for(const _0x521275 of this[_0x308d00(0x2ac)][_0x308d00(0x52f)]())_0xc1e4b6[_0x308d00(0x63d)](_0x521275[_0x308d00(0x248)])&&this[_0x308d00(0x629)][_0x308d00(0x764)]({'sourceId':this[_0x308d00(0x718)],'content':{'action':_0x59734b[_0x308d00(0x600)],'stream':this[_0x308d00(0x2ac)],'track':_0x521275}});}}[_0x440fb7(0x331)](_0x3e077f){const _0x28f2e6=_0x440fb7;this[_0x28f2e6(0x629)]=_0x3e077f;}[_0x440fb7(0x35b)](_0x1470c7){const _0x22e529=_0x440fb7;_0x1470c7===this[_0x22e529(0x629)]&&(delete this[_0x22e529(0x629)],this[_0x22e529(0x54b)][_0x22e529(0x764)]());}[_0x440fb7(0x2e4)](_0x262b75){const _0x3d56f0=_0x440fb7;return this[_0x3d56f0(0x54b)][_0x3d56f0(0x3af)](_0x262b75);}[_0x440fb7(0x42c)](_0xd5f8c9){const _0x27199f=_0x440fb7;return this[_0x27199f(0x2ac)][_0x27199f(0x52f)]()['find'](_0x2374cf=>_0x2374cf[_0x27199f(0x248)]===_0xd5f8c9)||null;}[_0x440fb7(0x69f)](_0xbc0859,_0xd5d5c4){const _0x2350d5=_0x440fb7;let _0xa8201d;return _0x2350d5(0x2c7)===_0xbc0859&&_0xd5d5c4?.['video']&&_0x2350d5(0x3bc)!=typeof _0xd5d5c4[_0x2350d5(0x2c7)]&&(_0xa8201d={'kind':_0x2350d5(0x2c7),..._0xd5d5c4[_0x2350d5(0x2c7)]},_0xa8201d[_0x2350d5(0x369)]=this[_0x2350d5(0x5a2)]()),_0x2350d5(0x37a)===_0xbc0859&&_0xd5d5c4?.['audio']&&'boolean'!=typeof _0xd5d5c4[_0x2350d5(0x37a)]&&(_0xa8201d={'kind':'audio',..._0xd5d5c4[_0x2350d5(0x37a)]}),_0xa8201d;}[_0x440fb7(0x5a2)](){const _0x2d7a27=_0x440fb7;let _0x2aefc7={'width':0x0,'height':0x0};const _0x1b1b79=this['mediaStream'][_0x2d7a27(0x575)]();if(_0x1b1b79[_0x2d7a27(0x382)]>0x0){const _0x457e8c=_0x1b1b79[0x0][_0x2d7a27(0x6c1)]();_0x457e8c[_0x2d7a27(0x64d)]&&_0x457e8c[_0x2d7a27(0x5a4)]&&(_0x2aefc7={'width':_0x457e8c[_0x2d7a27(0x64d)],'height':_0x457e8c[_0x2d7a27(0x5a4)]});}return _0x2aefc7;}}class _0x4271d0 extends _0x151fe0{['priority']=_0x274936[_0x440fb7(0x3f6)];['trackEndedListeners']=new Map();['outgoingStreams']=new Map();constructor(_0x374afe,_0x2a2970,_0x27a522){const _0x105cdc=_0x440fb7;super(_0x374afe,_0x2a2970,_0x27a522 instanceof MediaStream?_0x27a522:_0x27a522[_0x105cdc(0x6fe)]?_0x27a522[_0x105cdc(0x6fe)]:_0x27a522[_0x105cdc(0x2f4)]()),this['mediaStream']['getTracks']()[_0x105cdc(0x613)](_0x11b67c=>this[_0x105cdc(0x5de)](_0x11b67c)),_0x571f6a[_0x105cdc(0x4a8)](_0x1ba8b6[_0x105cdc(0x4c8)],{'type':_0x105cdc(0x764),'label':this['label'],'userId':this['ownerId'],'streamId':this[_0x105cdc(0x626)](),'trackKinds':this[_0x105cdc(0x2ac)][_0x105cdc(0x52f)]()['map'](_0x47ff71=>_0x47ff71[_0x105cdc(0x248)])});}['destroy'](){const _0x7169ba=_0x440fb7;this[_0x7169ba(0x776)][_0x7169ba(0x264)]>0x0&&(this['outgoingStreams'][_0x7169ba(0x613)](_0x5d3980=>{const _0x355500=_0x7169ba;_0x5d3980[_0x355500(0x74f)](),_0x5d3980[_0x355500(0x3bd)]();}),this[_0x7169ba(0x776)][_0x7169ba(0x5ad)]()),this[_0x7169ba(0x618)][_0x7169ba(0x613)](_0x266b63=>_0x266b63()),super[_0x7169ba(0x3bd)]();}[_0x440fb7(0x764)](_0x5c5eaa){const _0x51064d=_0x440fb7;this[_0x51064d(0x464)][_0x51064d(0x764)]({'sourceId':this[_0x51064d(0x718)],'destinationIds':_0x5c5eaa?[_0x5c5eaa]:void 0x0,'propagate':!0x0,'messageType':_0x5a2832[_0x51064d(0x740)],'content':{'type':_0x1ee405[_0x51064d(0x2ab)],'ownerId':this[_0x51064d(0x718)],'label':this[_0x51064d(0x474)],'stream':{'streamId':this[_0x51064d(0x626)](),'availableTrackKinds':this[_0x51064d(0x2ac)][_0x51064d(0x52f)]()['map'](_0x2938e4=>_0x2938e4[_0x51064d(0x248)])}}});}[_0x440fb7(0x3b0)](){const _0x2663d8=_0x440fb7;this['systemTopic'][_0x2663d8(0x764)]({'sourceId':this[_0x2663d8(0x718)],'propagate':!0x0,'messageType':_0x5a2832[_0x2663d8(0x740)],'content':{'type':_0x1ee405[_0x2663d8(0x526)],'ownerId':this[_0x2663d8(0x718)],'label':this[_0x2663d8(0x474)]}}),this[_0x2663d8(0x464)][_0x2663d8(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x2663d8(0x740)],'content':{'type':_0x1ee405['CloseMediaStream'],'label':this[_0x2663d8(0x474)]}}),_0x571f6a[_0x2663d8(0x4a8)](_0x1ba8b6['MediaStream'],{'type':_0x2663d8(0x3b0),'label':this['label'],'userId':this[_0x2663d8(0x718)],'streamId':this[_0x2663d8(0x626)]()});}[_0x440fb7(0x219)](){return this['priority'];}[_0x440fb7(0x662)](_0x16a4b0){const _0x3365d4=_0x440fb7;this[_0x3365d4(0x606)]=_0x16a4b0,this['outgoingStreams'][_0x3365d4(0x613)](_0x581aa0=>_0x581aa0[_0x3365d4(0x662)](_0x16a4b0));}[_0x440fb7(0x25b)](_0x52b685,_0x222ca4){const _0x39197c=_0x440fb7;if(!this[_0x39197c(0x776)]['has'](_0x52b685)){const _0x425268=new _0x4a5bb5(this[_0x39197c(0x718)],this[_0x39197c(0x474)],this[_0x39197c(0x2ac)],_0x52b685,_0x222ca4),_0x895735=_0x425268['onUnregisterPublisher'](()=>{const _0x326b9=_0x39197c;_0x895735(),this[_0x326b9(0x776)][_0x326b9(0x39a)](_0x52b685)?.[_0x326b9(0x3bd)](),this[_0x326b9(0x776)][_0x326b9(0x528)](_0x52b685);});this[_0x39197c(0x776)][_0x39197c(0x442)](_0x52b685,_0x425268),_0x425268[_0x39197c(0x5c1)](this['systemTopic']);}return this[_0x39197c(0x776)][_0x39197c(0x39a)](_0x52b685);}[_0x440fb7(0x5b3)](){const _0x5e882d=_0x440fb7;return this[_0x5e882d(0x2ac)]['id'];}['handleLocalTrackFailure'](_0x2adba7){const _0x45786d=_0x440fb7;this[_0x45786d(0x464)][_0x45786d(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x45786d(0x740)],'content':{'type':_0x1ee405['LocalMediaStreamTrackFail'],'label':this['label'],'trackKinds':[_0x2adba7[_0x45786d(0x248)]]}});}[_0x440fb7(0x5de)](_0x489286){const _0x4786b9=_0x440fb7,_0x22489b=()=>this[_0x4786b9(0x5b7)](_0x489286);_0x489286[_0x4786b9(0x72e)](_0x4786b9(0x6b3),_0x22489b),_0x489286[_0x4786b9(0x72e)](_0x4786b9(0x226),_0x22489b),this[_0x4786b9(0x618)][_0x4786b9(0x442)](_0x489286[_0x4786b9(0x248)],()=>{const _0x29b5a8=_0x4786b9;_0x489286['removeEventListener']('ended',_0x22489b),_0x489286[_0x29b5a8(0x251)](_0x29b5a8(0x226),_0x22489b),this['trackEndedListeners'][_0x29b5a8(0x528)](_0x489286['kind']);});}}class _0x291f35 extends _0x4271d0{[_0x440fb7(0x741)];['transformations']=[];[_0x440fb7(0x381)];[_0x440fb7(0x32b)];[_0x440fb7(0x22a)];[_0x440fb7(0x28d)];[_0x440fb7(0x75f)];[_0x440fb7(0x2f0)];[_0x440fb7(0x51e)];constructor(_0x3d8ed2,_0x779186,_0x2deca8,_0x5d399a,_0x5a6416){const _0x4b9727=_0x440fb7;if(super(_0x3d8ed2,_0x779186,_0x2deca8),this[_0x4b9727(0x741)]=_0x5a6416,this[_0x4b9727(0x381)]=this[_0x4b9727(0x2ac)],this['sourceVideo']=document[_0x4b9727(0x204)]('video'),this[_0x4b9727(0x28d)]['autoplay']=!0x0,this['sourceVideo']['muted']=!0x0,this[_0x4b9727(0x28d)][_0x4b9727(0x6fe)]=this[_0x4b9727(0x381)],this[_0x4b9727(0x28d)][_0x4b9727(0x617)](),this[_0x4b9727(0x28d)][_0x4b9727(0x335)]=()=>{const _0x1f2709=_0x4b9727;this[_0x1f2709(0x28d)]['play']();},this['canvas']=document[_0x4b9727(0x204)](_0x4b9727(0x75f)),this[_0x4b9727(0x2f0)]=this[_0x4b9727(0x75f)][_0x4b9727(0x4d6)]('2d'),this['mediaStream']=this['canvas'][_0x4b9727(0x2f4)](_0x5d399a),this[_0x4b9727(0x22a)]=this['audioContext'][_0x4b9727(0x76e)](),this[_0x4b9727(0x381)][_0x4b9727(0x2e3)]()[_0x4b9727(0x382)]>0x0){const _0x4da39a=this['clientStream'][_0x4b9727(0x2e3)]()[0x0];this[_0x4b9727(0x32b)]=this[_0x4b9727(0x741)][_0x4b9727(0x6c6)](new MediaStream([_0x4da39a])),this[_0x4b9727(0x32b)][_0x4b9727(0x43f)](this['audioDestination']);}const _0x4acabc=this[_0x4b9727(0x22a)][_0x4b9727(0x74a)][_0x4b9727(0x52f)]()[0x0];this[_0x4b9727(0x2ac)][_0x4b9727(0x6e3)](_0x4acabc),this[_0x4b9727(0x51e)]=setInterval(()=>{const _0x3bfeae=_0x4b9727;this['canvas'][_0x3bfeae(0x64d)]=this[_0x3bfeae(0x28d)][_0x3bfeae(0x360)],this[_0x3bfeae(0x75f)][_0x3bfeae(0x5a4)]=this[_0x3bfeae(0x28d)][_0x3bfeae(0x534)],this[_0x3bfeae(0x28d)]['videoWidth']?(0x0!==this[_0x3bfeae(0x381)][_0x3bfeae(0x575)]()[_0x3bfeae(0x382)]&&this[_0x3bfeae(0x381)][_0x3bfeae(0x575)]()[0x0][_0x3bfeae(0x6da)]?this[_0x3bfeae(0x2ac)][_0x3bfeae(0x575)]()[0x0][_0x3bfeae(0x6da)]=!0x0:this[_0x3bfeae(0x2ac)][_0x3bfeae(0x575)]()[0x0][_0x3bfeae(0x6da)]=!0x1,0x0!==this[_0x3bfeae(0x381)][_0x3bfeae(0x2e3)]()['length']&&this[_0x3bfeae(0x381)][_0x3bfeae(0x2e3)]()[0x0][_0x3bfeae(0x6da)]?this[_0x3bfeae(0x2ac)]['getAudioTracks']()[0x0]['enabled']=!0x0:this[_0x3bfeae(0x2ac)][_0x3bfeae(0x2e3)]()[0x0]['enabled']=!0x1,this['context'][_0x3bfeae(0x375)](this[_0x3bfeae(0x28d)],0x0,0x0)):this[_0x3bfeae(0x2f0)][_0x3bfeae(0x2c4)](0x0,0x0,this[_0x3bfeae(0x75f)]['width'],this[_0x3bfeae(0x75f)]['height']);},0x3e8/_0x5d399a);}['destroy'](){const _0x559e42=_0x440fb7;clearInterval(this[_0x559e42(0x51e)]),this[_0x559e42(0x28d)]['remove'](),this[_0x559e42(0x75f)]['remove'](),this[_0x559e42(0x32b)]?.['disconnect'](),this[_0x559e42(0x22a)][_0x559e42(0x4d9)](),this[_0x559e42(0x2ac)][_0x559e42(0x52f)]()[_0x559e42(0x613)](_0x30fad9=>{const _0x10df27=_0x559e42;_0x30fad9[_0x10df27(0x38d)](),this['mediaStream'][_0x10df27(0x5ab)](_0x30fad9);}),super[_0x559e42(0x3bd)]();}[_0x440fb7(0x6e3)](_0x18d779){const _0xd6965c=_0x440fb7,_0x366368=this['getTrack'](_0x18d779[_0xd6965c(0x248)]);_0x366368&&this[_0xd6965c(0x5ab)](_0x366368),'audio'!==_0x18d779['kind']?('video'===_0x18d779[_0xd6965c(0x248)]&&this[_0xd6965c(0x754)](_0x18d779),this[_0xd6965c(0x5de)](_0x18d779)):this[_0xd6965c(0x32c)](_0x18d779);}['removeTrack'](_0x3fa0aa){const _0x154485=_0x440fb7,_0x3d6cea=this['getTrackFromParam'](_0x3fa0aa);return _0x3d6cea&&(_0x154485(0x37a)===_0x3d6cea['kind']&&(this[_0x154485(0x32b)]?.['disconnect'](),this[_0x154485(0x32b)]=void 0x0),this[_0x154485(0x618)][_0x154485(0x39a)](_0x3d6cea['kind'])?.(),this[_0x154485(0x381)][_0x154485(0x5ab)](_0x3d6cea)),_0x3d6cea;}['replaceTrack'](_0x1ae95f){const _0x2788b1=_0x440fb7;this[_0x2788b1(0x5ab)](_0x1ae95f[_0x2788b1(0x248)]),this[_0x2788b1(0x6e3)](_0x1ae95f);}[_0x440fb7(0x5b1)](_0x2f78ae){const _0x1b8baf=_0x440fb7;this[_0x1b8baf(0x61a)]=_0x2f78ae;}[_0x440fb7(0x42c)](_0x5bbde2){const _0x192a1c=_0x440fb7;return this['clientStream']['getTracks']()[_0x192a1c(0x5a9)](_0xd44117=>_0xd44117[_0x192a1c(0x248)]===_0x5bbde2)||null;}[_0x440fb7(0x386)](_0x2b82af){const _0x3377c8=_0x440fb7;return'string'==typeof _0x2b82af?this[_0x3377c8(0x42c)](_0x2b82af):_0x2b82af;}[_0x440fb7(0x32c)](_0x4abc43){const _0x3e14cf=_0x440fb7;_0x3e14cf(0x2a1)===this[_0x3e14cf(0x741)][_0x3e14cf(0x1ce)]&&this['audioContext'][_0x3e14cf(0x546)](),this['clientStream']['addTrack'](_0x4abc43),this[_0x3e14cf(0x32b)]=this[_0x3e14cf(0x741)][_0x3e14cf(0x6c6)](this[_0x3e14cf(0x381)]),this[_0x3e14cf(0x32b)]['connect'](this['audioDestination']);}['addVideoTrack'](_0x7f7e78){const _0xaed706=_0x440fb7;this['clientStream'][_0xaed706(0x6e3)](_0x7f7e78),this[_0xaed706(0x28d)]['load']();}}class _0x197635 extends _0x4271d0{}class _0x3066c8 extends _0x288ad9{[_0x440fb7(0x50b)]=new Map();[_0x440fb7(0x412)];constructor(_0x42b07e,_0x2463aa){const _0x30d5b3=_0x440fb7;if(_0x30d5b3(0x5af)!=typeof _0x2463aa)throw new _0x40d3d5(_0x1afea7[_0x30d5b3(0x413)],_0x30d5b3(0x50c));super(_0x42b07e,_0x2463aa);}[_0x440fb7(0x2c9)](){const _0x462b99=_0x440fb7;return _0x14ca27[_0x462b99(0x523)];}['publish'](_0x1fd17e,_0x419beb){const _0x265e33=_0x440fb7;_0x571f6a['log'](_0x233447['PubSub'],'PubSubTopic\x20publish',this[_0x265e33(0x718)],_0x1fd17e,_0x419beb),_0x571f6a[_0x265e33(0x4a8)](_0x1ba8b6[_0x265e33(0x523)],{'type':_0x265e33(0x764),'label':this[_0x265e33(0x474)],'userId':this[_0x265e33(0x718)],'remoteIds':_0x419beb??[],'contentType':_0x1fd17e instanceof File?_0x14ca27['File']:_0x14ca27[_0x265e33(0x5b0)],'size':_0x1fd17e instanceof File?_0x1fd17e['size']:JSON['stringify'](_0x1fd17e)[_0x265e33(0x382)]}),this[_0x265e33(0x5cf)](),this['send'](_0x1fd17e,_0x419beb);}[_0x440fb7(0x3af)](_0x24d77a,_0x3b2b38){const _0x52f27f=_0x440fb7;if(this[_0x52f27f(0x50b)][_0x52f27f(0x4f5)](_0x24d77a))throw new _0x40d3d5(_0x1afea7['PubSubTopicAlreadySubscribed'],_0x52f27f(0x256));this[_0x52f27f(0x50b)][_0x52f27f(0x442)](_0x24d77a,this[_0x52f27f(0x5d8)]((_0x1a062f,_0x184c0f)=>{const _0x34ef10=_0x52f27f;_0x34ef10(0x2f8)===_0x24d77a&&_0x184c0f instanceof File||!('file'!==_0x24d77a||_0x184c0f instanceof File)||(_0x571f6a[_0x34ef10(0x657)](_0x233447['PubSub'],_0x34ef10(0x29e),this['ownerId'],_0x1a062f,_0x184c0f),_0x571f6a[_0x34ef10(0x4a8)](_0x1ba8b6[_0x34ef10(0x523)],{'type':_0x34ef10(0x3af),'label':this['label'],'userId':this[_0x34ef10(0x718)],'remoteId':_0x1a062f,'contentType':_0x24d77a,'size':_0x184c0f instanceof File?_0x184c0f[_0x34ef10(0x264)]:JSON[_0x34ef10(0x6d2)](_0x184c0f)[_0x34ef10(0x382)]}),this[_0x34ef10(0x5cf)](),_0x3b2b38(_0x1a062f,_0x184c0f));}));}[_0x440fb7(0x6b6)](_0x2ad2e3){const _0x104ca7=_0x440fb7;this[_0x104ca7(0x50b)]['get'](_0x2ad2e3)?.(),this[_0x104ca7(0x50b)][_0x104ca7(0x528)](_0x2ad2e3);}[_0x440fb7(0x3bd)](){const _0x1092c6=_0x440fb7;this[_0x1092c6(0x50b)][_0x1092c6(0x613)](_0xf1deb5=>_0xf1deb5()),clearTimeout(this[_0x1092c6(0x412)]),delete this[_0x1092c6(0x412)],super['destroy']();}[_0x440fb7(0x720)](){const _0x4206f8=_0x440fb7;this['systemTopic']?.['publish']({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x4206f8(0x740)],'content':{'type':_0x1ee405[_0x4206f8(0x1db)],'label':this[_0x4206f8(0x474)]}});}[_0x440fb7(0x5cf)](){const _0x479e92=_0x440fb7;this['debounceStats']&&clearTimeout(this[_0x479e92(0x412)]),this[_0x479e92(0x412)]=window[_0x479e92(0x5e7)](()=>{const _0x236cca=_0x479e92;this[_0x236cca(0x464)]?.[_0x236cca(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x236cca(0x740)],'content':{'type':_0x1ee405['PubSubTopicStats'],'label':this[_0x236cca(0x474)],'stats':{'timestamp':Date[_0x236cca(0x635)](),'storage':0x0,'messagesSent':this[_0x236cca(0x54e)],'messagesReceived':this[_0x236cca(0x771)],'bytesSent':this[_0x236cca(0x23f)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x1c3e41 extends _0x151fe0{[_0x440fb7(0x6a3)];[_0x440fb7(0x2b1)];[_0x440fb7(0x763)];[_0x440fb7(0x50b)];[_0x440fb7(0x5ed)];[_0x440fb7(0x215)];[_0x440fb7(0x776)]=new Map();[_0x440fb7(0x220)];[_0x440fb7(0x64c)]=new Set();[_0x440fb7(0x2f7)];[_0x440fb7(0x296)]=_0x548ac7();[_0x440fb7(0x618)]=new Map();constructor(_0x45d48d,_0x5c9a4d,_0x2eb0bc,_0x11a3a5,_0x188b50){const _0x25045a=_0x440fb7;super(_0x5c9a4d,_0x2eb0bc,new MediaStream()),this['localId']=_0x45d48d,this[_0x25045a(0x2b1)]=_0x11a3a5,this[_0x25045a(0x763)]=_0x188b50,this[_0x25045a(0x2ac)][_0x25045a(0x52f)]()[_0x25045a(0x613)](_0x4fa82e=>this[_0x25045a(0x5de)](_0x4fa82e));}['destroy'](){const _0x2862b9=_0x440fb7;this['outgoingStreams'][_0x2862b9(0x264)]>0x0&&(this['outgoingStreams'][_0x2862b9(0x613)](_0x1abdaf=>{const _0x51fb9c=_0x2862b9;_0x1abdaf[_0x51fb9c(0x74f)](),_0x1abdaf[_0x51fb9c(0x3bd)]();}),this[_0x2862b9(0x776)]['clear']()),this['trackEndedListeners'][_0x2862b9(0x613)](_0x8532e0=>_0x8532e0()),this['mediaStream'][_0x2862b9(0x52f)]()['forEach'](_0x3c817d=>this[_0x2862b9(0x2ac)][_0x2862b9(0x5ab)](_0x3c817d)),this[_0x2862b9(0x215)]&&(clearTimeout(this[_0x2862b9(0x215)]),delete this[_0x2862b9(0x215)]),this[_0x2862b9(0x5ed)]?.(),super[_0x2862b9(0x3bd)]();}['registerSubscriber'](_0x5a94a1){const _0x14f17c=_0x440fb7;this[_0x14f17c(0x50b)]=_0x5a94a1['subscribe'](({content:_0x3428e4})=>{const _0x3c5117=_0x14f17c;switch(_0x3428e4[_0x3c5117(0x3b9)]){case _0x59734b['RemoteAdd']:if(_0x571f6a[_0x3c5117(0x657)](_0x233447[_0x3c5117(0x580)],_0x3c5117(0x44c),this[_0x3c5117(0x6a3)],this[_0x3c5117(0x2f7)]),_0x3428e4[_0x3c5117(0x74a)]['id']!==this['internalId']||_0x3428e4[_0x3c5117(0x2f7)]!==this[_0x3c5117(0x2f7)])return;this[_0x3c5117(0x5ab)](_0x3428e4['track'][_0x3c5117(0x248)]),this['mediaStream'][_0x3c5117(0x6e3)](_0x3428e4[_0x3c5117(0x4f8)]);for(const [_0x4cbf06,_0x3b95d1]of this[_0x3c5117(0x776)][_0x3c5117(0x615)]())try{_0x3b95d1[_0x3c5117(0x6e3)](_0x3428e4[_0x3c5117(0x4f8)]);}catch(_0x4eda91){_0x3b95d1['destroy'](),this[_0x3c5117(0x776)][_0x3c5117(0x528)](_0x4cbf06);}this[_0x3c5117(0x5de)](_0x3428e4[_0x3c5117(0x4f8)]),this[_0x3c5117(0x753)](),_0x3c5117(0x2c7)===_0x3428e4['track'][_0x3c5117(0x248)]&&this['renderElement']&&(this['mediaStream'][_0x3c5117(0x4bd)]?setTimeout(()=>this[_0x3c5117(0x220)]?.['play'](),0x0):setTimeout(()=>this['renderElement']?.[_0x3c5117(0x617)](),0x0),this['setupResizeHandler']());break;case _0x59734b[_0x3c5117(0x538)]:if(_0x3428e4['stream']['id']!==this[_0x3c5117(0x2b1)]||_0x3428e4['providerId']!==this['providerId'])return;this[_0x3c5117(0x5ab)](_0x3428e4['track']['kind']),this[_0x3c5117(0x220)]&&_0x3c5117(0x2c7)===_0x3428e4['track'][_0x3c5117(0x248)]&&(this[_0x3c5117(0x5ed)]?.(),this[_0x3c5117(0x2ac)][_0x3c5117(0x52f)]()['length']>0x0?this[_0x3c5117(0x220)]['load']():this['renderElement'][_0x3c5117(0x6fe)]=null);}});}[_0x440fb7(0x45c)](){const _0x216c4d=_0x440fb7;this['unsubscribeHandler']?.(),this[_0x216c4d(0x618)][_0x216c4d(0x613)](_0x46a357=>_0x46a357()),delete this[_0x216c4d(0x50b)];}['getInternalStreamId'](){const _0x577a78=_0x440fb7;return this[_0x577a78(0x2b1)];}[_0x440fb7(0x2db)](_0x5426f5){this['internalId']=_0x5426f5;}[_0x440fb7(0x3ac)](){return this['availableTrackKinds'];}['hasTracks'](_0x4403b3){const _0x45ecb5=_0x440fb7;for(const _0x1ad9ec of _0x4403b3||this[_0x45ecb5(0x763)])if(!this[_0x45ecb5(0x2ac)]['getTracks']()[_0x45ecb5(0x5a9)](_0x48d314=>_0x48d314[_0x45ecb5(0x248)]===_0x1ad9ec))return!0x1;return!0x0;}[_0x440fb7(0x5a2)](){const _0x3fcab0=_0x440fb7;let _0x161cba={'width':0x0,'height':0x0};const _0x46187b=this['mediaStream'][_0x3fcab0(0x575)]();if(_0x46187b['length']>0x0){const _0xecdec3=_0x46187b[0x0]['getSettings']();_0xecdec3['width']&&_0xecdec3[_0x3fcab0(0x5a4)]&&(_0x161cba={'width':_0xecdec3[_0x3fcab0(0x64d)],'height':_0xecdec3[_0x3fcab0(0x5a4)]});}return _0x161cba;}[_0x440fb7(0x72f)](_0x425197){const _0x2b7982=_0x440fb7;for(const _0x437b18 of _0x425197)if(!this[_0x2b7982(0x64c)][_0x2b7982(0x4f5)](_0x437b18))return!0x1;return!0x0;}[_0x440fb7(0x25b)](_0x35cdfe,_0x62627b){const _0x188092=_0x440fb7;if(!this[_0x188092(0x776)][_0x188092(0x4f5)](_0x35cdfe)){const _0x53ccb9=new _0x4a5bb5(this[_0x188092(0x718)],this[_0x188092(0x474)],this['mediaStream'],_0x35cdfe,_0x62627b),_0x18573f=_0x53ccb9[_0x188092(0x2e4)](()=>{const _0x3b8f20=_0x188092;_0x18573f(),this[_0x3b8f20(0x776)][_0x3b8f20(0x39a)](_0x35cdfe)?.[_0x3b8f20(0x3bd)](),this[_0x3b8f20(0x776)][_0x3b8f20(0x528)](_0x35cdfe);});this[_0x188092(0x776)]['set'](_0x35cdfe,_0x53ccb9),_0x53ccb9['registerSystemPublisher'](this[_0x188092(0x464)]);}return this[_0x188092(0x776)][_0x188092(0x39a)](_0x35cdfe);}[_0x440fb7(0x5b3)](){const _0x3e613f=_0x440fb7;return this[_0x3e613f(0x2ac)]['id'];}[_0x440fb7(0x219)](){const _0x374f3d=_0x440fb7;return _0x274936[_0x374f3d(0x3f6)];}[_0x440fb7(0x4a0)](){const _0x29362c=_0x440fb7;return Array[_0x29362c(0x70f)](this[_0x29362c(0x64c)]);}[_0x440fb7(0x3af)](_0x391002){const _0x5ba12b=_0x440fb7;let _0x1c20e1=[];_0x391002?(_0x5ba12b(0x685)!=typeof _0x391002[_0x5ba12b(0x2c7)]||_0x391002['video'][_0x5ba12b(0x220)]instanceof HTMLVideoElement||!this[_0x5ba12b(0x220)]||(_0x391002[_0x5ba12b(0x2c7)]={'renderElement':this[_0x5ba12b(0x220)]}),_0x2ed8a1(_0x391002),_0x391002[_0x5ba12b(0x2c7)]&&(_0x1c20e1[_0x5ba12b(0x4e0)](_0x5ba12b(0x2c7)),_0x5ba12b(0x3bc)!=typeof _0x391002[_0x5ba12b(0x2c7)]&&_0x391002['video'][_0x5ba12b(0x220)]&&(this[_0x5ba12b(0x220)]=_0x391002['video'][_0x5ba12b(0x220)],_0x391002[_0x5ba12b(0x2c7)][_0x5ba12b(0x3f1)]||(_0x391002[_0x5ba12b(0x2c7)][_0x5ba12b(0x3f1)]={'width':this[_0x5ba12b(0x220)][_0x5ba12b(0x37b)],'height':this[_0x5ba12b(0x220)][_0x5ba12b(0x51b)]}),delete _0x391002[_0x5ba12b(0x2c7)][_0x5ba12b(0x220)])),_0x391002['audio']&&_0x1c20e1[_0x5ba12b(0x4e0)](_0x5ba12b(0x37a))):_0x1c20e1=this[_0x5ba12b(0x3ac)](),this['isSubscribed'](_0x1c20e1)||(_0x1c20e1['forEach'](_0x57d855=>this[_0x5ba12b(0x64c)][_0x5ba12b(0x457)](_0x57d855)),this['systemTopic'][_0x5ba12b(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x5ba12b(0x740)],'content':{'type':_0x1ee405[_0x5ba12b(0x40a)],'label':this[_0x5ba12b(0x474)],'ownerId':this[_0x5ba12b(0x718)],'trackKinds':_0x1c20e1,'params':_0x391002}}),_0x571f6a[_0x5ba12b(0x4a8)](_0x1ba8b6['MediaStream'],{'type':_0x5ba12b(0x3af),'label':this[_0x5ba12b(0x474)],'userId':this['localId'],'sourceId':this[_0x5ba12b(0x718)],'streamId':this[_0x5ba12b(0x2b1)],'trackKinds':_0x1c20e1}));}[_0x440fb7(0x30b)](_0x584214){const _0x57663c=_0x440fb7;_0x2ed8a1(_0x584214),this[_0x57663c(0x215)]&&clearTimeout(this['updateDebounce']),this[_0x57663c(0x215)]=setTimeout(()=>{const _0x1e1c10=_0x57663c;delete this[_0x1e1c10(0x215)],this['systemTopic']['publish']({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x1e1c10(0x740)],'content':{'type':_0x1ee405[_0x1e1c10(0x376)],'label':this['label'],'ownerId':this['ownerId'],'params':_0x584214}});},0x1f4);}[_0x440fb7(0x6b6)](_0x153a77){const _0x1139c9=_0x440fb7;_0x153a77||(_0x153a77=this[_0x1139c9(0x3ac)]()),(_0x153a77=Array[_0x1139c9(0x364)](_0x153a77)?_0x153a77:[_0x153a77])[_0x1139c9(0x613)](_0x15d819=>this[_0x1139c9(0x64c)][_0x1139c9(0x528)](_0x15d819)),this[_0x1139c9(0x464)][_0x1139c9(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x1139c9(0x740)],'content':{'type':_0x1ee405[_0x1139c9(0x714)],'label':this[_0x1139c9(0x474)],'ownerId':this[_0x1139c9(0x718)],'trackKinds':_0x153a77,'remainingTracks':this[_0x1139c9(0x64c)][_0x1139c9(0x264)]}});}[_0x440fb7(0x3a9)](_0x33c101){const _0x34e954=_0x440fb7;return this['providerListener'][_0x34e954(0x3af)](_0x33c101);}[_0x440fb7(0x62e)](){return this['providerId'];}[_0x440fb7(0x4f2)](_0x13dc3a){const _0x446581=_0x440fb7;this[_0x446581(0x2f7)]!==_0x13dc3a&&(this[_0x446581(0x2f7)]=_0x13dc3a,this[_0x446581(0x296)][_0x446581(0x764)](_0x13dc3a));}[_0x440fb7(0x6c7)](_0x523374){const _0x40f318=_0x440fb7;this[_0x40f318(0x618)][_0x40f318(0x39a)](_0x523374)?.(),this[_0x40f318(0x618)]['delete'](_0x523374);}['removeTrack'](_0x41a7d8){const _0x3328bd=_0x440fb7,_0xcc22b3=this['mediaStream'][_0x3328bd(0x52f)]()[_0x3328bd(0x5a9)](_0x4393f5=>_0x4393f5[_0x3328bd(0x248)]===_0x41a7d8);_0xcc22b3&&(this['mediaStream'][_0x3328bd(0x5ab)](_0xcc22b3),this[_0x3328bd(0x776)]['forEach'](_0x1ee23d=>_0x1ee23d[_0x3328bd(0x5ab)](_0x41a7d8)),this[_0x3328bd(0x618)][_0x3328bd(0x39a)](_0x41a7d8)?.());}[_0x440fb7(0x753)](){const _0x19b2be=_0x440fb7;this[_0x19b2be(0x220)]&&(this[_0x19b2be(0x220)]['srcObject']&&this[_0x19b2be(0x220)]['srcObject']===this['mediaStream']||(this[_0x19b2be(0x220)]['srcObject']=this[_0x19b2be(0x2ac)]));}['setupResizeHandler'](){const _0x2480af=_0x440fb7;if(this['renderElement']&&!this[_0x2480af(0x5ed)]&&'undefined'!=typeof ResizeObserver){let _0x2a5aca=this[_0x2480af(0x220)][_0x2480af(0x37b)],_0x4d6db2=this[_0x2480af(0x220)][_0x2480af(0x51b)];const _0x2d905c=new ResizeObserver(_0x47ed09=>{const _0x521b91=_0x2480af,{width:_0x5e3b14,height:_0x5accf1}=_0x47ed09[0x0][_0x521b91(0x501)];_0x2a5aca===_0x5e3b14&&_0x4d6db2===_0x5accf1||(_0x2a5aca=Math[_0x521b91(0x271)](_0x5e3b14),_0x4d6db2=Math[_0x521b91(0x271)](_0x5accf1),this['update']({'video':{'maxResolution':{'width':_0x5e3b14,'height':_0x5accf1}}}));});_0x2d905c['observe'](this['renderElement']),this[_0x2480af(0x5ed)]=()=>_0x2d905c[_0x2480af(0x4d9)]();}}[_0x440fb7(0x592)](_0x2eb074){const _0x3be75=_0x440fb7,_0x3b17d5=[];for(const _0x1023e2 of this[_0x3be75(0x64c)])this[_0x3be75(0x5ab)](_0x1023e2),_0x3b17d5[_0x3be75(0x4e0)](_0x1023e2);this['providerId']&&this[_0x3be75(0x464)][_0x3be75(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x3be75(0x740)],'content':{'type':_0x1ee405[_0x3be75(0x27c)],'label':this[_0x3be75(0x474)],'streamId':this[_0x3be75(0x2b1)],'ownerId':this[_0x3be75(0x718)],'providerId':this[_0x3be75(0x2f7)],'trackKinds':_0x3b17d5}});}[_0x440fb7(0x5de)](_0x25caa9){const _0x2b8127=_0x440fb7,_0x4ae249=()=>this[_0x2b8127(0x592)](_0x25caa9);_0x25caa9['addEventListener'](_0x2b8127(0x6b3),_0x4ae249),_0x25caa9[_0x2b8127(0x72e)](_0x2b8127(0x226),_0x4ae249),this['trackEndedListeners']['set'](_0x25caa9[_0x2b8127(0x248)],()=>{const _0x8f1acd=_0x2b8127;_0x25caa9[_0x8f1acd(0x251)]('ended',_0x4ae249),_0x25caa9['removeEventListener'](_0x8f1acd(0x226),_0x4ae249),this[_0x8f1acd(0x618)]['delete'](_0x25caa9[_0x8f1acd(0x248)]);});}}class _0x2a8bb5{[_0x440fb7(0x752)];[_0x440fb7(0x6bf)];[_0x440fb7(0x3ad)];constructor(_0x25531e,_0x2911e3){const _0x2a8b76=_0x440fb7;this['vendorId']=_0x25531e,this['clusterId']=_0x2911e3,this[_0x2a8b76(0x3ad)]=_0x2a8b76(0x366)+this[_0x2a8b76(0x752)]+_0x2a8b76(0x366)+this[_0x2a8b76(0x6bf)];}async['writeTransaction'](_0x22891e,_0x1344ee,_0x5d3abb){const _0x2af4d3=_0x440fb7;if(!0x1===(await(0x0,_0x2ddf83[_0x2af4d3(0x4ad)])((0x0,_0x2ddf83[_0x2af4d3(0x758)])(_0x4055d0['getDatabase'](),'clusters/'+this['clusterKey']+_0x2af4d3(0x49e)+_0x1344ee+_0x2af4d3(0x646)),_0x54411e=>{const _0x14d119=_0x2af4d3;if(!_0x54411e)return _0x22891e['id'];if(_0x54411e!==_0x5d3abb)throw new _0x717bed(_0x717bed[_0x14d119(0x6dc)][_0x14d119(0x37d)]);return _0x22891e['id'];}))[_0x2af4d3(0x332)])throw new _0x717bed(_0x717bed[_0x2af4d3(0x6dc)][_0x2af4d3(0x507)]);_0x22891e['parentId']||delete _0x22891e[_0x2af4d3(0x367)],await(0x0,_0x2ddf83[_0x2af4d3(0x442)])((0x0,_0x2ddf83[_0x2af4d3(0x758)])(_0x4055d0['getDatabase'](),_0x2af4d3(0x452)+this[_0x2af4d3(0x3ad)]+_0x2af4d3(0x49e)+_0x1344ee+_0x2af4d3(0x3e4)+_0x22891e['id']),_0x22891e);}async[_0x440fb7(0x21e)](_0xbeab22,_0x523b9d){const _0x5348a3=_0x440fb7;let _0x4b1ebe=[];const _0x4e7a98=await(0x0,_0x2ddf83[_0x5348a3(0x39a)])((0x0,_0x2ddf83['ref'])(_0x4055d0[_0x5348a3(0x715)](),_0x5348a3(0x452)+this['clusterKey']+_0x5348a3(0x49e)+_0xbeab22+_0x5348a3(0x321)));if(!_0x4e7a98[_0x5348a3(0x461)]())return _0x4b1ebe;const _0x523477=_0x4e7a98['val']();_0x4b1ebe=Object[_0x5348a3(0x359)](_0x523477)[_0x5348a3(0x5ae)](_0x385cf8=>_0x5348a3(0x5af)!=typeof _0x385cf8);const _0xe0f640=[];let _0x1f1196=_0x4b1ebe['find'](_0x5e841b=>_0x5e841b[_0x5348a3(0x367)]===_0x523b9d);for(;_0x1f1196;)_0xe0f640['push'](_0x1f1196),_0x1f1196=_0x4b1ebe['find'](_0x3f8cf4=>_0x3f8cf4[_0x5348a3(0x367)]===_0x1f1196['id']);return _0xe0f640;}}class _0x3c06a6{[_0x440fb7(0x339)];[_0x440fb7(0x1fa)];[_0x440fb7(0x741)];['localMediaStreams']=new Map();[_0x440fb7(0x407)]=new Map();[_0x440fb7(0x352)]=new Map();[_0x440fb7(0x3f3)]=new Map();[_0x440fb7(0x245)]=new Map();['transactionService'];constructor(_0x1040b0,_0x516403,_0x5e0563){const _0x56242b=_0x440fb7;this[_0x56242b(0x339)]=_0x1040b0,this[_0x56242b(0x1fa)]=_0x516403,this[_0x56242b(0x741)]=_0x5e0563,this[_0x56242b(0x6f2)]=new _0x2a8bb5(this[_0x56242b(0x339)][_0x56242b(0x752)],this['configs'][_0x56242b(0x6bf)]);}[_0x440fb7(0x720)](_0x1e1e61=!0x1){const _0xb2f767=_0x440fb7;this['remoteMediaStreams'][_0xb2f767(0x613)]((_0x809d99,_0x49a212)=>{const _0x477ca8=_0xb2f767;_0x809d99[_0x477ca8(0x613)]((_0x1763b7,_0x5e1cf4)=>{const _0x16cf41=_0x477ca8;this[_0x16cf41(0x334)](_0x49a212,_0x5e1cf4);});}),_0x1e1e61||(this[_0xb2f767(0x3fb)][_0xb2f767(0x613)]((_0x12d0da,_0x164c3c)=>{const _0x1f86c2=_0xb2f767;this[_0x1f86c2(0x1f4)](_0x164c3c);}),this[_0xb2f767(0x352)][_0xb2f767(0x613)]((_0x1045ca,_0x1114b2)=>{const _0x1df073=_0xb2f767;this[_0x1df073(0x1fe)](_0x1114b2);}),this[_0xb2f767(0x3f3)]['forEach']((_0x1d91e1,_0x415456)=>{this['removeObjectStore'](_0x415456);}),this[_0xb2f767(0x245)][_0xb2f767(0x613)]((_0xbd364e,_0x24693c)=>{const _0x5d975d=_0xb2f767;this[_0x5d975d(0x53d)](_0x24693c);}));}['createObjectStoreBucket'](_0x1e6655,_0x13f0a5){const _0x1b04c2=_0x440fb7;if(this[_0x1b04c2(0x3f3)][_0x1b04c2(0x4f5)](_0x1e6655))throw new _0x40d3d5(_0x1afea7[_0x1b04c2(0x33a)],_0x1b04c2(0x4b5));const _0x182efb=new _0x318873(this[_0x1b04c2(0x339)][_0x1b04c2(0x6a3)],_0x1e6655,this[_0x1b04c2(0x339)][_0x1b04c2(0x6bf)],this[_0x1b04c2(0x339)][_0x1b04c2(0x752)],this[_0x1b04c2(0x6f2)],_0x13f0a5);return this[_0x1b04c2(0x3f3)]['set'](_0x1e6655,_0x182efb),this[_0x1b04c2(0x339)][_0x1b04c2(0x57a)]['registerSystemSource'](_0x182efb),_0x182efb;}async[_0x440fb7(0x676)](_0x3e449f,_0x937e7d,_0x57a49b){const _0x2ef551=_0x440fb7;if(this[_0x2ef551(0x245)][_0x2ef551(0x4f5)](_0x3e449f))throw new _0x40d3d5(_0x1afea7['KeyValueDatabaseAlreadyExists'],_0x2ef551(0x394));try{const _0x4b8582=new _0x1aa85d(this[_0x2ef551(0x339)][_0x2ef551(0x6a3)],_0x3e449f,this[_0x2ef551(0x339)]['clusterId'],this['configs']['vendorId'],_0x937e7d,_0x57a49b);return this[_0x2ef551(0x245)][_0x2ef551(0x442)](_0x3e449f,_0x4b8582),this[_0x2ef551(0x339)][_0x2ef551(0x57a)][_0x2ef551(0x2d7)](_0x4b8582),_0x4b8582;}catch(_0x5f6bdd){if(_0x5f6bdd instanceof _0x40d3d5)throw _0x5f6bdd;throw console['warn'](_0x2ef551(0x6c9),_0x5f6bdd),new _0x717bed(_0x717bed['codes'][_0x2ef551(0x36a)],{'label':_0x3e449f,'clusterId':this[_0x2ef551(0x339)][_0x2ef551(0x6bf)],'vendorId':this[_0x2ef551(0x339)]['vendorId']});}}[_0x440fb7(0x74c)](_0x3071ec,_0x55a331){const _0xe6cfe8=_0x440fb7;if(this[_0xe6cfe8(0x3fb)]['has'](_0x3071ec))throw new _0x40d3d5(_0x1afea7[_0xe6cfe8(0x74d)],_0xe6cfe8(0x1cd));const _0x27ac9c=new _0x291f35(this['configs'][_0xe6cfe8(0x6a3)],_0x3071ec,_0x55a331,this[_0xe6cfe8(0x1fa)],this[_0xe6cfe8(0x741)]);return this[_0xe6cfe8(0x3fb)]['set'](_0x3071ec,_0x27ac9c),this[_0xe6cfe8(0x339)]['mediator'][_0xe6cfe8(0x2d7)](_0x27ac9c),_0x27ac9c['publish'](),_0x27ac9c;}[_0x440fb7(0x73d)](_0x23e18e,_0x26ab6f){const _0xe610ae=_0x440fb7;if(this[_0xe610ae(0x3fb)][_0xe610ae(0x4f5)](_0x23e18e))throw new _0x40d3d5(_0x1afea7['LocalMediaStreamAlreadyExists'],_0xe610ae(0x556));const _0xf4f9bd=new _0x197635(this[_0xe610ae(0x339)][_0xe610ae(0x6a3)],_0x23e18e,_0x26ab6f);return this[_0xe610ae(0x3fb)][_0xe610ae(0x442)](_0x23e18e,_0xf4f9bd),this[_0xe610ae(0x339)][_0xe610ae(0x57a)][_0xe610ae(0x2d7)](_0xf4f9bd),_0xf4f9bd['publish'](),_0xf4f9bd;}['createPubSubTopic'](_0xdca996){const _0x547d9d=_0x440fb7;if(this['pubSubTopics'][_0x547d9d(0x4f5)](_0xdca996))throw new _0x40d3d5(_0x1afea7[_0x547d9d(0x1eb)],_0x547d9d(0x778));const _0x5809cb=new _0x3066c8(this[_0x547d9d(0x339)][_0x547d9d(0x6a3)],_0xdca996);return this['pubSubTopics']['set'](_0xdca996,_0x5809cb),this[_0x547d9d(0x339)][_0x547d9d(0x57a)][_0x547d9d(0x2d7)](_0x5809cb),_0x5809cb;}[_0x440fb7(0x6a4)](_0x92c225,_0xf05c7a,_0x4d8950,_0x3ddc90){const _0x43b610=_0x440fb7;this[_0x43b610(0x407)][_0x43b610(0x4f5)](_0x92c225)||this['remoteMediaStreams'][_0x43b610(0x442)](_0x92c225,new Map());const _0x42f781=this['remoteMediaStreams'][_0x43b610(0x39a)](_0x92c225);if(_0x42f781[_0x43b610(0x4f5)](_0xf05c7a))throw new _0x40d3d5(_0x1afea7[_0x43b610(0x34c)],'Remote\x20MediaStream\x20already\x20exists');const _0x1df4b5=new _0x1c3e41(this[_0x43b610(0x339)][_0x43b610(0x6a3)],_0x92c225,_0xf05c7a,_0x4d8950,_0x3ddc90);return _0x42f781['set'](_0xf05c7a,_0x1df4b5),this[_0x43b610(0x339)]['mediator'][_0x43b610(0x2d7)](_0x1df4b5),_0x1df4b5;}['getObjectStoreBuckets'](_0x674fc3){const _0x56805b=_0x440fb7,_0x1289bb=Array[_0x56805b(0x70f)](this[_0x56805b(0x3f3)][_0x56805b(0x359)]());return _0x674fc3?_0x1289bb[_0x56805b(0x5ae)](_0x674fc3):_0x1289bb;}[_0x440fb7(0x49b)](_0x118bd7){const _0xe618b8=_0x440fb7,_0x7a9dca=Array[_0xe618b8(0x70f)](this[_0xe618b8(0x245)][_0xe618b8(0x359)]());return _0x118bd7?_0x7a9dca[_0xe618b8(0x5ae)](_0x118bd7):_0x7a9dca;}[_0x440fb7(0x2f9)](_0x2e4f2a){const _0x4e1384=_0x440fb7,_0x3aa2e9=Array['from'](this[_0x4e1384(0x3fb)][_0x4e1384(0x359)]());return _0x2e4f2a?_0x3aa2e9[_0x4e1384(0x5ae)](_0x2e4f2a):_0x3aa2e9;}[_0x440fb7(0x355)](_0x2d5c1e){const _0x2ef211=_0x440fb7,_0x189453=Array[_0x2ef211(0x70f)](this['pubSubTopics']['values']());return _0x2d5c1e?_0x189453[_0x2ef211(0x5ae)](_0x2d5c1e):_0x189453;}[_0x440fb7(0x620)](_0x1aa480){const _0x3cc9c0=_0x440fb7,_0x4033bf=Array[_0x3cc9c0(0x70f)](this[_0x3cc9c0(0x407)]['values']())[_0x3cc9c0(0x719)]((_0x17524a,_0x223b46)=>[..._0x17524a,...Array[_0x3cc9c0(0x70f)](_0x223b46[_0x3cc9c0(0x359)]())],[]);return _0x1aa480?_0x4033bf[_0x3cc9c0(0x5ae)](_0x1aa480):_0x4033bf;}[_0x440fb7(0x1f8)](_0x13ddc5){const _0x45a876=_0x440fb7;switch(_0x13ddc5[_0x45a876(0x6bd)][_0x45a876(0x637)]){case _0x1ee405[_0x45a876(0x2ab)]:this[_0x45a876(0x4ea)](_0x13ddc5[_0x45a876(0x6bd)]);break;case _0x1ee405[_0x45a876(0x526)]:this[_0x45a876(0x5b2)](_0x13ddc5[_0x45a876(0x6bd)]);break;case _0x1ee405[_0x45a876(0x374)]:this['handleCloseMediaStream'](_0x13ddc5[_0x45a876(0x6bd)]);break;case _0x1ee405[_0x45a876(0x1db)]:this[_0x45a876(0x680)](_0x13ddc5[_0x45a876(0x6bd)]);break;case _0x1ee405[_0x45a876(0x343)]:this[_0x45a876(0x353)](_0x13ddc5[_0x45a876(0x6bd)]);break;case _0x1ee405[_0x45a876(0x55d)]:this['handleCloseKeyValueDatabase'](_0x13ddc5['content']);break;case _0x1ee405['UnsubscribeMediaStream']:this[_0x45a876(0x2aa)](_0x13ddc5[_0x45a876(0x6bd)]);break;case _0x1ee405[_0x45a876(0x361)]:this[_0x45a876(0x245)][_0x45a876(0x39a)](_0x13ddc5['content'][_0x45a876(0x474)])?.[_0x45a876(0x1fc)](_0x13ddc5[_0x45a876(0x472)]);break;case _0x1ee405['SendTransactionsDump']:this[_0x45a876(0x245)][_0x45a876(0x39a)](_0x13ddc5['content'][_0x45a876(0x474)])?.[_0x45a876(0x47a)](_0x13ddc5['sourceId'],_0x13ddc5[_0x45a876(0x6bd)]['transactions']);break;case _0x1ee405['RequestTransactionsValue']:this['keyValueDatabases'][_0x45a876(0x39a)](_0x13ddc5[_0x45a876(0x6bd)][_0x45a876(0x474)])?.[_0x45a876(0x586)](_0x13ddc5[_0x45a876(0x472)],_0x13ddc5[_0x45a876(0x6bd)][_0x45a876(0x1fd)]);break;case _0x1ee405['LocalMediaStreamTrackFail']:this[_0x45a876(0x339)]['mediator'][_0x45a876(0x663)](_0x45a876(0x3d6),{'label':_0x13ddc5[_0x45a876(0x6bd)][_0x45a876(0x474)],'trackKinds':_0x13ddc5['content'][_0x45a876(0x4ee)]});}}['handleNodeSystemEvents']({content:_0x3864a0}){const _0x7a38bd=_0x440fb7;switch(_0x3864a0[_0x7a38bd(0x637)]){case _0x13a6c4[_0x7a38bd(0x4c2)]:this['handleUserJoinNeedPublishedStream'](_0x3864a0),this[_0x7a38bd(0x415)](_0x3864a0);break;case _0x13a6c4[_0x7a38bd(0x489)]:this['handleUserLeave'](_0x3864a0),this[_0x7a38bd(0x3d9)](_0x3864a0);}}[_0x440fb7(0x641)](_0xfbf36e){const _0x59566a=_0x440fb7;switch(_0xfbf36e[_0x59566a(0x6bd)]['type']){case _0x6413dc['SubscribeMediaStream']:this[_0x59566a(0x60b)](_0xfbf36e[_0x59566a(0x472)],_0xfbf36e['content']);break;case _0x6413dc[_0x59566a(0x376)]:this[_0x59566a(0x358)](_0xfbf36e[_0x59566a(0x472)],_0xfbf36e[_0x59566a(0x6bd)]);break;case _0x6413dc[_0x59566a(0x714)]:this['handleUnsubscribeMediaStream'](_0xfbf36e['sourceId'],_0xfbf36e[_0x59566a(0x6bd)]);}}[_0x440fb7(0x2aa)](_0x3b4b10){const _0x179b01=_0x440fb7;if(0x0===_0x3b4b10['remainingTracks'])this['remoteMediaStreams'][_0x179b01(0x39a)](_0x3b4b10[_0x179b01(0x718)])?.[_0x179b01(0x39a)](_0x3b4b10[_0x179b01(0x474)])?.[_0x179b01(0x3bd)]();else{const _0x14b007=this[_0x179b01(0x407)][_0x179b01(0x39a)](_0x3b4b10[_0x179b01(0x718)])?.[_0x179b01(0x39a)](_0x3b4b10['label']);if(!_0x14b007)return;_0x3b4b10[_0x179b01(0x4ee)][_0x179b01(0x613)](_0x7bed46=>_0x14b007[_0x179b01(0x6c7)](_0x7bed46));}}[_0x440fb7(0x4ea)](_0x275b08){const _0x3cdba2=_0x440fb7,{label:_0x17f014,ownerId:_0x1af525,stream:{streamId:_0x15a680,availableTrackKinds:_0x246aef}}=_0x275b08;if(this[_0x3cdba2(0x407)]['get'](_0x1af525)?.[_0x3cdba2(0x4f5)](_0x17f014))return void _0x571f6a['log'](_0x233447[_0x3cdba2(0x740)],_0x3cdba2(0x556),_0x15a680);const _0x2373a6=this[_0x3cdba2(0x6a4)](_0x1af525,_0x17f014,_0x15a680,_0x246aef);this['configs'][_0x3cdba2(0x57a)]['notifyCluster'](_0x3cdba2(0x2dc),{'ownerId':_0x1af525,'stream':_0x2373a6});}[_0x440fb7(0x5b2)]({ownerId:_0x5e4035,label:_0x574587}){const _0x2c1e84=_0x440fb7;this[_0x2c1e84(0x334)](_0x5e4035,_0x574587),this[_0x2c1e84(0x339)][_0x2c1e84(0x57a)]['notifyCluster'](_0x2c1e84(0x568),{'ownerId':_0x5e4035,'label':_0x574587});}[_0x440fb7(0x37c)](_0x256852){const _0x43d843=_0x440fb7;this[_0x43d843(0x1f4)](_0x256852[_0x43d843(0x474)]);}[_0x440fb7(0x353)](_0x457eab){const _0x21aa83=_0x440fb7;this[_0x21aa83(0x5ee)](_0x457eab[_0x21aa83(0x474)]);}[_0x440fb7(0x680)](_0x15e05f){const _0x5b8216=_0x440fb7;this['removePubSubTopic'](_0x15e05f[_0x5b8216(0x474)]);}[_0x440fb7(0x67e)](_0x3e66be){const _0x34908a=_0x440fb7;this[_0x34908a(0x53d)](_0x3e66be[_0x34908a(0x474)]);}[_0x440fb7(0x60b)](_0x4bc33f,_0xd68fe4){const _0x44d5d7=_0x440fb7,{ownerId:_0x36ecc7,label:_0x1902d7}=_0xd68fe4;let _0x2127b2;_0x2127b2=_0x36ecc7!==this[_0x44d5d7(0x339)]['localId']?this[_0x44d5d7(0x407)][_0x44d5d7(0x39a)](_0x36ecc7)[_0x44d5d7(0x39a)](_0x1902d7):this[_0x44d5d7(0x3fb)][_0x44d5d7(0x39a)](_0x1902d7),_0x2127b2[_0x44d5d7(0x25b)](_0x4bc33f,_0xd68fe4[_0x44d5d7(0x71f)])[_0x44d5d7(0x3af)](_0xd68fe4,_0x2127b2['getPriority']());}[_0x440fb7(0x358)](_0x579cea,_0x1de92a){const _0x5640ed=_0x440fb7,{ownerId:_0x7c3ae9,label:_0x4782a3}=_0x1de92a;let _0x1272eb;_0x1272eb=_0x7c3ae9!==this['configs'][_0x5640ed(0x6a3)]?this['remoteMediaStreams'][_0x5640ed(0x39a)](_0x7c3ae9)[_0x5640ed(0x39a)](_0x4782a3):this[_0x5640ed(0x3fb)]['get'](_0x4782a3),_0x1272eb[_0x5640ed(0x25b)](_0x579cea,_0x1de92a[_0x5640ed(0x71f)])['update'](_0x1de92a);}[_0x440fb7(0x6a1)](_0x470748,_0x4903cb){const _0x146682=_0x440fb7,{ownerId:_0x569ad2,label:_0x4face8}=_0x4903cb;let _0x33c160;_0x33c160=_0x569ad2!==this[_0x146682(0x339)][_0x146682(0x6a3)]?this[_0x146682(0x407)][_0x146682(0x39a)](_0x569ad2)[_0x146682(0x39a)](_0x4face8):this[_0x146682(0x3fb)][_0x146682(0x39a)](_0x4face8),_0x33c160[_0x146682(0x25b)](_0x470748)[_0x146682(0x6b6)](_0x4903cb);}[_0x440fb7(0x468)]({id:_0x51e674}){const _0x4c9d84=_0x440fb7;this[_0x4c9d84(0x2f9)]()[_0x4c9d84(0x613)](_0x21d6dd=>{_0x21d6dd['publish'](_0x51e674);});}['handleUserLeave']({id:_0x1e6805}){const _0x24eb30=_0x440fb7;this[_0x24eb30(0x620)](_0xbc29a7=>_0xbc29a7['getOwnerId']()===_0x1e6805)[_0x24eb30(0x613)](_0x2a8b2c=>{const _0x3da03e=_0x24eb30;this[_0x3da03e(0x334)](_0x2a8b2c[_0x3da03e(0x417)](),_0x2a8b2c[_0x3da03e(0x254)]());});}[_0x440fb7(0x415)]({id:_0x59ae2f}){const _0x57a86c=_0x440fb7;this['objectStores'][_0x57a86c(0x613)](_0x55b5b2=>_0x55b5b2['handleUserJoin'](_0x59ae2f));}['notifyObjectStoreOfUserLeave']({id:_0x3456fb}){const _0x102a89=_0x440fb7;this[_0x102a89(0x3f3)][_0x102a89(0x613)](_0x477cac=>_0x477cac[_0x102a89(0x36e)](_0x3456fb));}[_0x440fb7(0x5ee)](_0x1d9399){const _0x151290=_0x440fb7;if(!this[_0x151290(0x3f3)]['has'](_0x1d9399))throw new _0x40d3d5(_0x1afea7['ObjectStoreDoesNotExist'],_0x151290(0x38f));const _0x4e4209=this[_0x151290(0x3f3)]['get'](_0x1d9399);this[_0x151290(0x3f3)]['delete'](_0x1d9399),_0x4e4209[_0x151290(0x3bd)](),this[_0x151290(0x339)][_0x151290(0x57a)]['unregisterSystemSource'](_0x4e4209);}['removePubSubTopic'](_0x4b551a){const _0x4bcaa2=_0x440fb7;if(!this[_0x4bcaa2(0x352)][_0x4bcaa2(0x4f5)](_0x4b551a))throw new _0x40d3d5(_0x1afea7[_0x4bcaa2(0x4a9)],_0x4bcaa2(0x38f));const _0x512157=this[_0x4bcaa2(0x352)]['get'](_0x4b551a);this['pubSubTopics'][_0x4bcaa2(0x528)](_0x4b551a),_0x512157[_0x4bcaa2(0x3bd)](),this[_0x4bcaa2(0x339)][_0x4bcaa2(0x57a)]['unregisterSystemSource'](_0x512157);}['removeKeyValueDatabase'](_0x1abdfb){const _0x5287a7=_0x440fb7;if(!this['keyValueDatabases'][_0x5287a7(0x4f5)](_0x1abdfb))throw new _0x40d3d5(_0x1afea7['KeyValueDatabaseDoesNotExist'],_0x5287a7(0x695));const _0x1b5f36=this[_0x5287a7(0x245)][_0x5287a7(0x39a)](_0x1abdfb);this[_0x5287a7(0x245)]['delete'](_0x1abdfb),_0x1b5f36[_0x5287a7(0x3bd)](),this[_0x5287a7(0x339)][_0x5287a7(0x57a)][_0x5287a7(0x20c)](_0x1b5f36);}[_0x440fb7(0x1f4)](_0x27f557){const _0x764bf9=_0x440fb7;if(!this['localMediaStreams']['has'](_0x27f557))throw new _0x717bed(_0x717bed[_0x764bf9(0x6dc)][_0x764bf9(0x326)],{'label':_0x27f557,'localId':this[_0x764bf9(0x339)][_0x764bf9(0x6a3)]});const _0x35f2b4=this[_0x764bf9(0x3fb)][_0x764bf9(0x39a)](_0x27f557);this[_0x764bf9(0x339)]['mediator'][_0x764bf9(0x20c)](_0x35f2b4),_0x35f2b4[_0x764bf9(0x3bd)](),this['localMediaStreams'][_0x764bf9(0x528)](_0x27f557);}[_0x440fb7(0x334)](_0x2fe442,_0x2a98ac){const _0x292b21=_0x440fb7;if(!this[_0x292b21(0x407)][_0x292b21(0x4f5)](_0x2fe442))throw new _0x717bed(_0x717bed['codes'][_0x292b21(0x515)],{'userId':_0x2fe442,'localId':this[_0x292b21(0x339)][_0x292b21(0x6a3)]});const _0x17ddfc=this['remoteMediaStreams'][_0x292b21(0x39a)](_0x2fe442);if(!_0x17ddfc[_0x292b21(0x4f5)](_0x2a98ac))throw new _0x717bed(_0x717bed['codes']['RemoteMediaStreamDoesNotExist'],{'userId':_0x2fe442,'label':_0x2a98ac,'localId':this[_0x292b21(0x339)][_0x292b21(0x6a3)]});const _0x180806=_0x17ddfc['get'](_0x2a98ac);this[_0x292b21(0x339)][_0x292b21(0x57a)][_0x292b21(0x20c)](_0x180806),_0x180806[_0x292b21(0x3bd)](),_0x17ddfc[_0x292b21(0x528)](_0x2a98ac);}}!function(_0x218c3f){const _0x3c48fe=_0x440fb7;_0x218c3f[_0x3c48fe(0x3b5)]=_0x3c48fe(0x31f),_0x218c3f['DTVolatility']=_0x3c48fe(0x4d5),_0x218c3f[_0x3c48fe(0x33c)]=_0x3c48fe(0x669),_0x218c3f[_0x3c48fe(0x549)]='bitrate',_0x218c3f[_0x3c48fe(0x422)]=_0x3c48fe(0x42b),_0x218c3f[_0x3c48fe(0x2b3)]=_0x3c48fe(0x697),_0x218c3f['RoundTripTime']=_0x3c48fe(0x5d7),_0x218c3f[_0x3c48fe(0x705)]='av_delay';}(_0x167d1a||(_0x167d1a={})),function(_0xb320a3){const _0x2f0f05=_0x440fb7;_0xb320a3[_0x2f0f05(0x742)]=_0x2f0f05(0x54f),_0xb320a3['TimePerFrame']=_0x2f0f05(0x240),_0xb320a3[_0x2f0f05(0x705)]=_0x2f0f05(0x42e),_0xb320a3[_0x2f0f05(0x2b3)]=_0x2f0f05(0x2fa),_0xb320a3['Bitrate']=_0x2f0f05(0x1e1),_0xb320a3[_0x2f0f05(0x422)]='bandwidth.jitter',_0xb320a3[_0x2f0f05(0x210)]='bandwidth.rtt';}(_0x208225||(_0x208225={})),function(_0x7cf52b){const _0x267251=_0x440fb7;_0x7cf52b[_0x7cf52b['Problem']=0x0]=_0x267251(0x4c9);}(_0x4f6aba||(_0x4f6aba={}));const _0x5ba4eb=[{'type':_0x167d1a[_0x440fb7(0x3b5)],'reportMetric':_0xe6207=>_0xe6207[_0x440fb7(0x3b5)],'maxThreshold':2.5},{'type':_0x167d1a['DTVolatility'],'reportMetric':_0x3711e3=>_0x3711e3[_0x440fb7(0x395)],'maxThreshold':0.5}],_0x65b285=[{'type':_0x167d1a[_0x440fb7(0x33c)],'reportMetric':_0x2ed968=>{const _0x45a153=_0x440fb7,_0x431c85=0x3e8/_0x2ed968[_0x45a153(0x2e8)];return _0x2ed968[_0x45a153(0x213)]/_0x431c85;},'maxThreshold':0.75},{'type':_0x167d1a[_0x440fb7(0x549)],'reportMetric':_0x5f3605=>{const _0x561fda=_0x440fb7,_0x177b59=_0x5f3605[_0x561fda(0x2e8)]*_0x5f3605[_0x561fda(0x5c6)]*_0x5f3605[_0x561fda(0x269)]*0.12;return _0x5f3605['bitrate']/_0x177b59;},'minThreshold':0.25},{'type':_0x167d1a[_0x440fb7(0x422)],'reportMetric':_0x5af3d0=>_0x5af3d0['jitter'],'maxThreshold':0.6},{'type':_0x167d1a['FramePerSecond'],'reportMetric':_0x3e9f08=>_0x3e9f08[_0x440fb7(0x2e8)],'minThreshold':0xa}],_0x1fb475=[{'type':_0x167d1a[_0x440fb7(0x422)],'reportMetric':_0x5484f3=>_0x5484f3[_0x440fb7(0x42b)],'maxThreshold':0.6}],_0x1430df=[{'type':_0x167d1a[_0x440fb7(0x210)],'reportMetric':_0x266e2a=>_0x266e2a[_0x440fb7(0x608)],'maxThreshold':0x1/0x0}],_0x4ed599=[{'type':_0x167d1a[_0x440fb7(0x705)],'reportMetric':_0x5a9538=>_0x5a9538['AudioVideoDelay'],'maxThreshold':0x12c}],_0x57fffe=[{'type':_0x208225[_0x440fb7(0x742)],'issues':[{'type':_0x167d1a[_0x440fb7(0x3b5)],'threshold':0x5},{'type':_0x167d1a['DTVolatility'],'threshold':0x5}]},{'type':_0x208225[_0x440fb7(0x33c)],'issues':[{'type':_0x167d1a[_0x440fb7(0x33c)],'threshold':0x3}]},{'type':_0x208225[_0x440fb7(0x705)],'issues':[{'type':_0x167d1a['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x208225[_0x440fb7(0x2b3)],'issues':[{'type':_0x167d1a[_0x440fb7(0x2b3)],'threshold':0x3}]},{'type':_0x208225[_0x440fb7(0x549)],'issues':[{'type':_0x167d1a[_0x440fb7(0x549)],'threshold':0x3}]},{'type':_0x208225[_0x440fb7(0x422)],'issues':[{'type':_0x167d1a[_0x440fb7(0x422)],'threshold':0x3}]},{'type':_0x208225[_0x440fb7(0x210)],'issues':[{'type':_0x167d1a[_0x440fb7(0x210)],'threshold':0x3}]}];var _0x3c42c2,_0x26fd91;!function(_0xe6829){const _0x14ee97=_0x440fb7;_0xe6829[_0xe6829['StreamReport']=0x0]=_0x14ee97(0x594),_0xe6829[_0xe6829[_0x14ee97(0x3ed)]=0x1]=_0x14ee97(0x3ed);}(_0x3c42c2||(_0x3c42c2={}));class _0x3142eb{[_0x440fb7(0x339)];[_0x440fb7(0x4a1)]=[];[_0x440fb7(0x464)];constructor(_0x24caa5){const _0x42678e=_0x440fb7;this[_0x42678e(0x339)]=_0x24caa5,this[_0x42678e(0x339)][_0x42678e(0x57a)][_0x42678e(0x2d7)](this);}[_0x440fb7(0x5c1)](_0x2dfbb8){const _0x184763=_0x440fb7;this[_0x184763(0x464)]=_0x2dfbb8;}[_0x440fb7(0x74f)](){const _0xe4c36=_0x440fb7;this[_0xe4c36(0x464)]=void 0x0;}[_0x440fb7(0x720)](){const _0x2f7119=_0x440fb7;this[_0x2f7119(0x339)]['mediator'][_0x2f7119(0x20c)](this),this['issues']=[];}['handleStatsSystemEvents'](_0x41fd0d){const _0x43a0dc=_0x440fb7;switch(_0x41fd0d[_0x43a0dc(0x6bd)][_0x43a0dc(0x637)]){case _0x3c42c2[_0x43a0dc(0x3ed)]:this[_0x43a0dc(0x1cf)](_0x41fd0d[_0x43a0dc(0x6bd)]['data']);break;case _0x3c42c2[_0x43a0dc(0x594)]:this[_0x43a0dc(0x563)](_0x41fd0d['content']['data']);}}['detectProblems'](_0x2b80e1,_0x36d2bb,_0x41fba0,_0xf05301){const _0x2d0811=_0x440fb7,_0x46d34b=_0x57fffe[_0x2d0811(0x5a9)](_0x319043=>_0x319043['issues'][_0x2d0811(0x708)](_0x1fa6fe=>_0x1fa6fe[_0x2d0811(0x637)]===_0x2b80e1));_0xf05301>=_0x46d34b[_0x2d0811(0x4a1)][_0x2d0811(0x5a9)](_0x2a7e62=>_0x2a7e62['type']===_0x2b80e1)[_0x2d0811(0x46b)]&&(this[_0x2d0811(0x266)](_0x46d34b[_0x2d0811(0x637)],_0x36d2bb,_0x41fba0),this[_0x2d0811(0x4a1)]=this['issues']['filter'](_0x3bfdf3=>!(_0x3bfdf3[_0x2d0811(0x637)]===_0x2b80e1&&_0x3bfdf3[_0x2d0811(0x2b4)]===_0x36d2bb&&_0x3bfdf3[_0x2d0811(0x2ef)]===_0x41fba0)));}['detectLocalIssues'](_0x422699){const _0x49b544=_0x440fb7;_0x5ba4eb[_0x49b544(0x613)](_0x2f0610=>{const _0x2a2b14=_0x49b544,_0xa1fd4d=_0x2f0610[_0x2a2b14(0x421)](_0x422699);_0x2f0610[_0x2a2b14(0x2f1)]&&_0xa1fd4d>_0x2f0610['maxThreshold']&&this['addIssue'](_0x2f0610[_0x2a2b14(0x637)],this[_0x2a2b14(0x339)]['localId'],_0x98444c[_0x2a2b14(0x707)],_0xa1fd4d),_0x2f0610[_0x2a2b14(0x249)]&&_0xa1fd4d<_0x2f0610[_0x2a2b14(0x249)]&&this[_0x2a2b14(0x3d8)](_0x2f0610[_0x2a2b14(0x637)],this[_0x2a2b14(0x339)][_0x2a2b14(0x6a3)],_0x98444c['Sender'],_0xa1fd4d);});}[_0x440fb7(0x563)](_0x35b6b8){const _0x4930a0=_0x440fb7;let _0x2760ed=[];switch(_0x35b6b8[_0x4930a0(0x2ef)]){case _0x98444c[_0x4930a0(0x707)]:_0x2760ed=_0x1430df;break;case _0x98444c['Receiver']:_0x2760ed=_0x4ed599;}_0x35b6b8[_0x4930a0(0x2c7)]&&this[_0x4930a0(0x280)](_0x35b6b8[_0x4930a0(0x2b4)],_0x98444c['Sender'],_0x35b6b8['video']),_0x35b6b8[_0x4930a0(0x37a)]&&this[_0x4930a0(0x1e0)](_0x35b6b8[_0x4930a0(0x2b4)],_0x98444c[_0x4930a0(0x707)],_0x35b6b8['audio']),_0x2760ed[_0x4930a0(0x613)](_0x835a61=>{const _0x1afb34=_0x4930a0,_0x13ec4a=_0x835a61[_0x1afb34(0x421)](_0x35b6b8);_0x835a61[_0x1afb34(0x2f1)]&&_0x13ec4a>_0x835a61[_0x1afb34(0x2f1)]&&this['addIssue'](_0x835a61['type'],_0x35b6b8[_0x1afb34(0x2b4)],_0x98444c[_0x1afb34(0x707)],_0x13ec4a),_0x835a61[_0x1afb34(0x249)]&&_0x13ec4a<_0x835a61['minThreshold']&&this[_0x1afb34(0x3d8)](_0x835a61[_0x1afb34(0x637)],_0x35b6b8[_0x1afb34(0x2b4)],_0x98444c[_0x1afb34(0x707)],_0x13ec4a);});}['detectVideoIssues'](_0x24f239,_0x3cfd01,_0x456328){const _0x20fa22=_0x440fb7;0x0!==_0x456328[_0x20fa22(0x733)]&&_0x65b285['forEach'](_0x53c78d=>{const _0x49424a=_0x20fa22,_0x45ad23=_0x53c78d[_0x49424a(0x421)](_0x456328);_0x53c78d[_0x49424a(0x2f1)]&&_0x45ad23>_0x53c78d[_0x49424a(0x2f1)]&&this[_0x49424a(0x3d8)](_0x53c78d['type'],_0x24f239,_0x3cfd01,_0x45ad23,_0x49424a(0x2c7)),_0x53c78d[_0x49424a(0x249)]&&_0x45ad23<_0x53c78d[_0x49424a(0x249)]&&this[_0x49424a(0x3d8)](_0x53c78d['type'],_0x24f239,_0x3cfd01,_0x45ad23,_0x49424a(0x2c7));});}['detectAudioIssues'](_0x61aeee,_0x256748,_0x12a641){const _0x5ebaeb=_0x440fb7;0x0!==_0x12a641[_0x5ebaeb(0x733)]&&_0x1fb475[_0x5ebaeb(0x613)](_0x20ea8c=>{const _0x428920=_0x5ebaeb,_0x23d8b3=_0x20ea8c['reportMetric'](_0x12a641);_0x20ea8c['maxThreshold']&&_0x23d8b3>_0x20ea8c['maxThreshold']&&this[_0x428920(0x3d8)](_0x20ea8c[_0x428920(0x637)],_0x61aeee,_0x256748,_0x23d8b3,'audio'),_0x20ea8c[_0x428920(0x249)]&&_0x23d8b3<_0x20ea8c[_0x428920(0x249)]&&this['addIssue'](_0x20ea8c['type'],_0x61aeee,_0x256748,_0x23d8b3,_0x428920(0x37a));});}[_0x440fb7(0x3d8)](_0x29214e,_0x44abb1,_0x17003a,_0xd21b17,_0xe90fc3){const _0x2f6ea9=_0x440fb7;_0x571f6a[_0x2f6ea9(0x657)](_0x233447[_0x2f6ea9(0x2cd)],_0x2f6ea9(0x473)+_0x29214e,_0x29214e,_0xd21b17),_0x571f6a[_0x2f6ea9(0x4e2)](_0x2f6ea9(0x3eb),{'clusterId':this['configs']['clusterId'],'userId':this['configs'][_0x2f6ea9(0x6a3)],'remoteId':_0x44abb1,'data':{'type':_0x29214e,'value':_0xd21b17,'kind':_0xe90fc3}}),this[_0x2f6ea9(0x4a1)]=this['issues']['filter'](_0x573357=>Date[_0x2f6ea9(0x635)]()-_0x573357[_0x2f6ea9(0x2cf)]<0x7530),this[_0x2f6ea9(0x4a1)][_0x2f6ea9(0x4e0)]({'timestamp':Date[_0x2f6ea9(0x635)](),'type':_0x29214e,'userId':_0x44abb1,'origin':_0x17003a,'value':_0xd21b17,'kind':_0xe90fc3});const _0x3b893c=this[_0x2f6ea9(0x4a1)][_0x2f6ea9(0x5ae)](_0x40b457=>_0x40b457[_0x2f6ea9(0x637)]===_0x29214e&&_0x40b457['userId']===_0x44abb1&&_0x40b457[_0x2f6ea9(0x2ef)]===_0x17003a)[_0x2f6ea9(0x382)];this[_0x2f6ea9(0x33b)](_0x29214e,_0x44abb1,_0x17003a,_0x3b893c);}['addProblem'](_0x53e14d,_0xa012b0,_0x5dce1b){const _0x107d29=_0x440fb7;_0x571f6a[_0x107d29(0x657)](_0x233447[_0x107d29(0x2cd)],_0x107d29(0x61d)+_0x53e14d),_0x571f6a[_0x107d29(0x4e2)](_0x107d29(0x5a8),{'clusterId':this[_0x107d29(0x339)][_0x107d29(0x6bf)],'userId':this['configs']['localId'],'remoteId':_0xa012b0,'data':{'type':_0x53e14d}}),this[_0x107d29(0x464)]?.['publish']({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x107d29(0x2cd)],'content':{'type':_0x4f6aba['Problem'],'data':{'timestamp':Date['now'](),'userId':_0xa012b0,'origin':_0x98444c[_0x107d29(0x707)],'type':_0x53e14d}}});}}!function(_0x3a8f26){const _0xaa1b4f=_0x440fb7;_0x3a8f26[_0x3a8f26[_0xaa1b4f(0x29b)]=0x0]=_0xaa1b4f(0x29b),_0x3a8f26[_0x3a8f26[_0xaa1b4f(0x390)]=0x1]='Offline';}(_0x26fd91||(_0x26fd91={}));class _0x273ee4{['id'];['displayName'];[_0x440fb7(0x643)];[_0x440fb7(0x717)];[_0x440fb7(0x3be)];constructor(_0x31419b,_0x4e4bdc,_0x165416,_0x308134=new Set(),_0x306a74){const _0x1ec7c0=_0x440fb7;this['id']=_0x31419b,this[_0x1ec7c0(0x2ee)]=_0x4e4bdc,this[_0x1ec7c0(0x643)]=_0x165416,this['remoteConnections']=_0x308134,this['rank']=_0x306a74;}[_0x440fb7(0x720)](){const _0x536eea=_0x440fb7;this[_0x536eea(0x3be)]=void 0x0,this['remoteConnections'][_0x536eea(0x5ad)]();}[_0x440fb7(0x653)](){return this['id'];}[_0x440fb7(0x730)](){const _0x25a221=_0x440fb7;return this[_0x25a221(0x2ee)];}[_0x440fb7(0x4d4)](){const _0x33593c=_0x440fb7;return this[_0x33593c(0x643)];}[_0x440fb7(0x70c)](){const _0x243794=_0x440fb7;return this[_0x243794(0x3be)];}['getRemoteConnections'](){return this['remoteConnections'];}}class _0x55316b extends _0x273ee4{[_0x440fb7(0x239)];['status']=_0x26fd91['Online'];['lastUpdated']=Date[_0x440fb7(0x635)]();constructor(_0x16ec88,_0x84283d,_0x323539,_0x14c1cd=new Set(),_0x22fbee,_0x553fbc){const _0x30a06a=_0x440fb7;super(_0x16ec88,_0x84283d,_0x323539,_0x14c1cd,_0x553fbc),this[_0x30a06a(0x239)]=_0x22fbee;}[_0x440fb7(0x57e)](){const _0x3118e6=_0x440fb7;return this[_0x3118e6(0x239)];}[_0x440fb7(0x564)](){const _0x197f4d=_0x440fb7;return this[_0x197f4d(0x4f7)];}['getLastUpdated'](){const _0x3d3b57=_0x440fb7;return this[_0x3d3b57(0x619)];}[_0x440fb7(0x491)](_0x370f57){const _0x1e42cf=_0x440fb7;this['displayName']!==_0x370f57&&(this[_0x1e42cf(0x2ee)]=_0x370f57,this[_0x1e42cf(0x47b)]());}[_0x440fb7(0x3a2)](_0x44445f){const _0x5b761d=_0x440fb7;this[_0x5b761d(0x643)]!==_0x44445f&&(this[_0x5b761d(0x643)]=_0x44445f,this[_0x5b761d(0x47b)]());}[_0x440fb7(0x710)](_0x205cab){const _0x587749=_0x440fb7;this[_0x587749(0x3be)]!==_0x205cab&&(this[_0x587749(0x3be)]=_0x205cab,this[_0x587749(0x47b)]());}[_0x440fb7(0x74e)](_0x542ac2){const _0x20a5d4=_0x440fb7;let _0x374269=!0x1;for(const _0x1e848d of this[_0x20a5d4(0x717)])_0x542ac2[_0x20a5d4(0x63d)](_0x1e848d)||(_0x374269=!0x0,this[_0x20a5d4(0x717)]['delete'](_0x1e848d));for(const _0x505073 of _0x542ac2)this[_0x20a5d4(0x717)]['has'](_0x505073)||(_0x374269=!0x0,this[_0x20a5d4(0x717)]['add'](_0x505073));_0x374269&&this[_0x20a5d4(0x47b)]();}[_0x440fb7(0x5bb)](_0x17508e){this['currentVersion']!==_0x17508e&&(this['currentVersion']=_0x17508e,this['updateLastUpdated']());}[_0x440fb7(0x49d)](_0x36767f){const _0x318400=_0x440fb7;this[_0x318400(0x4f7)]!==_0x36767f&&(this[_0x318400(0x4f7)]=_0x36767f,this[_0x318400(0x47b)](),_0x36767f===_0x26fd91[_0x318400(0x390)]&&this[_0x318400(0x720)]());}['updateLastUpdated'](){const _0x298f21=_0x440fb7;this['lastUpdated']=Date[_0x298f21(0x635)]();}}class _0x4f4327{['vendorId'];[_0x440fb7(0x6bf)];['localUser'];[_0x440fb7(0x4a2)];[_0x440fb7(0x5dc)]=_0x487683();[_0x440fb7(0x601)];[_0x440fb7(0x21d)];[_0x440fb7(0x4dd)];[_0x440fb7(0x579)]=!0x1;[_0x440fb7(0x3ad)];[_0x440fb7(0x265)];['disconnectTimeout'];constructor(_0x4e60d1,_0x4f7846,_0x52ec5c,_0x4d60d6){const _0x1e9a93=_0x440fb7;this['vendorId']=_0x4e60d1,this[_0x1e9a93(0x6bf)]=_0x4f7846,this[_0x1e9a93(0x380)]=_0x52ec5c,this['minConnections']=_0x4d60d6,this[_0x1e9a93(0x3ad)]=_0x1e9a93(0x366)+this[_0x1e9a93(0x752)]+_0x1e9a93(0x366)+this[_0x1e9a93(0x6bf)],this[_0x1e9a93(0x265)]=_0x1e9a93(0x366)+this[_0x1e9a93(0x752)]+'ccc'+this['localUser'][_0x1e9a93(0x653)](),this[_0x1e9a93(0x601)]=(0x0,_0x2ddf83[_0x1e9a93(0x511)])((0x0,_0x2ddf83['ref'])(_0x4055d0[_0x1e9a93(0x715)](),'.info/connected'),_0x4eec33=>{const _0x2d633e=_0x1e9a93;!0x0!==_0x4eec33['val']()?this[_0x2d633e(0x579)]&&(this[_0x2d633e(0x39c)]=setTimeout(()=>{const _0x168df8=_0x2d633e;delete this[_0x168df8(0x39c)],_0x571f6a['error'](_0x168df8(0x624),{'clusterId':this[_0x168df8(0x6bf)],'userId':this['localUser'][_0x168df8(0x653)]()}),(0x0,_0x2ddf83['goOffline'])(_0x4055d0[_0x168df8(0x715)]());const _0x350a28=_0x4a8cb3[_0x168df8(0x4e7)](()=>{const _0x5662f1=_0x168df8;navigator[_0x5662f1(0x34b)]&&(_0x350a28(),(0x0,_0x2ddf83[_0x5662f1(0x75e)])(_0x4055d0['getDatabase']()));},0x3e8);},0xbb8)):(this[_0x2d633e(0x579)]=!0x0,this['setOnDisconnectHandler'](),this[_0x2d633e(0x39c)]&&(clearTimeout(this[_0x2d633e(0x39c)]),delete this['disconnectTimeout']));});}async[_0x440fb7(0x1da)](){const _0x5baed6=_0x440fb7;await this[_0x5baed6(0x3b4)]();const _0x5badf3=await this[_0x5baed6(0x728)]();return this['childRemovedUnsubscriber']=(0x0,_0x2ddf83[_0x5baed6(0x73f)])((0x0,_0x2ddf83[_0x5baed6(0x758)])(_0x4055d0[_0x5baed6(0x715)](),'clusters/'+this[_0x5baed6(0x3ad)]+_0x5baed6(0x2cb)),_0x49e6fb=>{const _0x4c0f24=_0x5baed6,_0x357e8f=_0x49e6fb['key'];if(!_0x357e8f)return;const _0x226304=_0x357e8f[_0x4c0f24(0x5fd)](_0x4c0f24(0x366)+this[_0x4c0f24(0x752)]+_0x4c0f24(0x366),'');this['disconnectCallback'][_0x4c0f24(0x764)](_0x226304);}),_0x5badf3;}async[_0x440fb7(0x720)](){const _0x1a1c3f=_0x440fb7;this[_0x1a1c3f(0x21d)]?.(),delete this[_0x1a1c3f(0x21d)],this[_0x1a1c3f(0x4dd)]?.[_0x1a1c3f(0x58d)](),delete this[_0x1a1c3f(0x4dd)],this['firebaseUnsubscriber']?.(),delete this[_0x1a1c3f(0x601)],this['disconnectTimeout']&&(clearTimeout(this[_0x1a1c3f(0x39c)]),delete this[_0x1a1c3f(0x39c)]),await(0x0,_0x2ddf83[_0x1a1c3f(0x4fb)])((0x0,_0x2ddf83[_0x1a1c3f(0x758)])(_0x4055d0['getDatabase'](),'clusters/'+this[_0x1a1c3f(0x3ad)]+_0x1a1c3f(0x4a7)+this[_0x1a1c3f(0x265)]));}['onNodeDisconnect'](_0x374d99){const _0x488b44=_0x440fb7;return this[_0x488b44(0x5dc)][_0x488b44(0x3af)](_0x374d99);}async[_0x440fb7(0x728)](){const _0x5adf61=_0x440fb7,_0x54abcb=[],_0x53b3dd=await(0x0,_0x2ddf83[_0x5adf61(0x39a)])((0x0,_0x2ddf83[_0x5adf61(0x758)])(_0x4055d0['getDatabase'](),_0x5adf61(0x452)+this['clusterKey']+_0x5adf61(0x2cb))),_0x517155=[];return _0x53b3dd['forEach'](_0x1aa218=>{const _0x427ca7=_0x5adf61,_0x46137d=_0x1aa218[_0x427ca7(0x668)]?.[_0x427ca7(0x5fd)](_0x427ca7(0x366)+this[_0x427ca7(0x752)]+_0x427ca7(0x366),'');_0x517155[_0x427ca7(0x4e0)]({'id':_0x46137d,'joinedAt':_0x1aa218[_0x427ca7(0x50d)]()[_0x427ca7(0x477)],'priority':_0x1aa218[_0x427ca7(0x50d)]()['priority']});}),_0x517155[_0x5adf61(0x45d)]((_0x17413d,_0x507e4c)=>_0x17413d[_0x5adf61(0x477)]===_0x507e4c['joinedAt']?_0x17413d[_0x5adf61(0x606)]-_0x507e4c[_0x5adf61(0x606)]:_0x17413d['joinedAt']-_0x507e4c[_0x5adf61(0x477)])[_0x5adf61(0x4fa)](_0x517155[_0x5adf61(0x4de)](_0x270c34=>_0x270c34['id']===this[_0x5adf61(0x380)][_0x5adf61(0x653)]())),_0x517155[_0x5adf61(0x45d)]((_0x5d6fe3,_0x5da397)=>_0x5da397['joinedAt']===_0x5d6fe3[_0x5adf61(0x477)]?_0x5da397['priority']-_0x5d6fe3[_0x5adf61(0x606)]:_0x5da397['joinedAt']-_0x5d6fe3['joinedAt'])['forEach'](_0xd42a5f=>{const _0x38c2b1=_0x5adf61;_0x54abcb['length']>=this[_0x38c2b1(0x4a2)]||_0x54abcb['push'](_0xd42a5f['id']);}),_0x571f6a[_0x5adf61(0x4e2)](_0x5adf61(0x648),{'clusterId':this['clusterId'],'userId':this[_0x5adf61(0x380)][_0x5adf61(0x653)](),'data':{'ancestorIds':_0x54abcb,'allUsers':_0x517155}}),_0x54abcb;}async['joinCluster'](){const _0x146427=_0x440fb7;await(0x0,_0x2ddf83[_0x146427(0x442)])((0x0,_0x2ddf83[_0x146427(0x758)])(_0x4055d0[_0x146427(0x715)](),_0x146427(0x452)+this['clusterKey']+'/nodes/'+this[_0x146427(0x265)]),{'joinedAt':(0x0,_0x2ddf83[_0x146427(0x67b)])(),'priority':Math['random']()});}[_0x440fb7(0x1f6)](){const _0x341532=_0x440fb7;this[_0x341532(0x4dd)]&&this[_0x341532(0x4dd)][_0x341532(0x58d)](),this[_0x341532(0x4dd)]=(0x0,_0x2ddf83[_0x341532(0x420)])((0x0,_0x2ddf83['ref'])(_0x4055d0[_0x341532(0x715)](),_0x341532(0x452)+this['clusterKey']+_0x341532(0x4a7)+this[_0x341532(0x265)])),this[_0x341532(0x4dd)][_0x341532(0x4fb)]();}}class _0xfa2e38{[_0x440fb7(0x339)];[_0x440fb7(0x3a5)];[_0x440fb7(0x380)];['remoteUnsubscriber'];[_0x440fb7(0x554)];[_0x440fb7(0x6f7)];[_0x440fb7(0x60f)]=[];[_0x440fb7(0x464)];['optimizationLayers']=new Map();[_0x440fb7(0x3d0)];[_0x440fb7(0x274)];constructor(_0x2dd069,_0x22a50f,_0x1e6ffe){const _0x1bcab9=_0x440fb7;this['configs']=_0x2dd069,this[_0x1bcab9(0x3a5)]=_0x22a50f,this[_0x1bcab9(0x380)]=_0x1e6ffe,this[_0x1bcab9(0x554)]=new _0x4f4327(this[_0x1bcab9(0x339)]['vendorId'],this[_0x1bcab9(0x339)][_0x1bcab9(0x6bf)],this[_0x1bcab9(0x380)],this[_0x1bcab9(0x3a5)][_0x1bcab9(0x202)]()),this[_0x1bcab9(0x6f7)]=this[_0x1bcab9(0x554)][_0x1bcab9(0x6ec)](this[_0x1bcab9(0x6aa)][_0x1bcab9(0x346)](this)),this[_0x1bcab9(0x339)][_0x1bcab9(0x57a)][_0x1bcab9(0x2d7)](this['localUser']),this[_0x1bcab9(0x339)]['mediator']['registerSystemSource'](this),this['remoteUnsubscriber']=_0x4a8cb3[_0x1bcab9(0x4e7)](()=>{const _0x346b4d=_0x1bcab9,_0x20f55d=Date[_0x346b4d(0x635)]();this['graphService'][_0x346b4d(0x398)]()[_0x346b4d(0x613)](_0x49f80e=>{const _0x55b51f=_0x346b4d;_0x49f80e[_0x55b51f(0x564)]()===_0x26fd91[_0x55b51f(0x390)]&&_0x49f80e[_0x55b51f(0x32e)]()<_0x20f55d-0x493e0&&this[_0x55b51f(0x3a5)][_0x55b51f(0x6cc)](_0x49f80e[_0x55b51f(0x653)]());});},0xea60);}[_0x440fb7(0x5c1)](_0x17a493){const _0x889f5=_0x440fb7;this[_0x889f5(0x464)]=_0x17a493;}[_0x440fb7(0x74f)](){delete this['systemTopic'];}['close'](){const _0x366641=_0x440fb7;this[_0x366641(0x3d0)]&&(clearTimeout(this['debounceProcessRank']),delete this[_0x366641(0x3d0)]),delete this[_0x366641(0x274)],this[_0x366641(0x380)][_0x366641(0x720)](),this[_0x366641(0x1ef)](),this['discoveryUnsubscriber'](),this[_0x366641(0x339)][_0x366641(0x57a)][_0x366641(0x20c)](this['localUser']),this[_0x366641(0x339)][_0x366641(0x57a)]['unregisterSystemSource'](this),this[_0x366641(0x554)][_0x366641(0x720)]();}[_0x440fb7(0x33d)](){const _0x3d1d46=_0x440fb7;return this[_0x3d1d46(0x60f)];}[_0x440fb7(0x3df)](){const _0x53d6a8=_0x440fb7;return this[_0x53d6a8(0x380)][_0x53d6a8(0x653)]();}['getLocalUser'](){return this['localUser'];}[_0x440fb7(0x398)](_0x32323a){const _0x194b46=_0x440fb7,_0xa0c679=Array[_0x194b46(0x70f)](this[_0x194b46(0x3a5)][_0x194b46(0x398)]()[_0x194b46(0x359)]())[_0x194b46(0x5ae)](_0x19430c=>_0x19430c[_0x194b46(0x564)]()===_0x26fd91[_0x194b46(0x29b)]);return _0x32323a?_0xa0c679[_0x194b46(0x5ae)](_0x32323a):_0xa0c679;}async[_0x440fb7(0x648)](){const _0x5da01e=_0x440fb7;return this[_0x5da01e(0x60f)]=await this[_0x5da01e(0x554)][_0x5da01e(0x1da)](),this['ancestors'][_0x5da01e(0x382)]<this['graphService'][_0x5da01e(0x202)]()&&(this['localUser'][_0x5da01e(0x710)](this[_0x5da01e(0x60f)][_0x5da01e(0x382)]+0x1),this['processRank']()),this[_0x5da01e(0x60f)];}[_0x440fb7(0x2d9)](_0x4b0d9d,_0x3fd61e){const _0x53471a=_0x440fb7,_0x443a6b=this[_0x53471a(0x380)]['getRemoteConnections'](),_0x174db1=new Set(_0x443a6b),_0x8a2a1f=Array[_0x53471a(0x70f)](_0x443a6b)['filter'](_0x12d9af=>_0x12d9af!==_0x4b0d9d)[_0x53471a(0x5e8)](_0x4e4e25=>({'id':_0x4e4e25,'distance':0x1}));for(;_0x8a2a1f[_0x53471a(0x382)]>0x0;){const _0x115a9a=_0x8a2a1f[_0x53471a(0x636)]();if(!_0x115a9a)continue;if(_0x115a9a['id']===_0x3fd61e)return _0x115a9a[_0x53471a(0x69b)];const _0x380667=this[_0x53471a(0x3a5)][_0x53471a(0x75d)](_0x115a9a['id']);_0x380667&&_0x380667[_0x53471a(0x564)]()!==_0x26fd91['Offline']&&_0x380667[_0x53471a(0x3a6)]()[_0x53471a(0x613)](_0x27a50d=>{const _0x50c2d4=_0x53471a;_0x174db1['has'](_0x27a50d)||(_0x174db1[_0x50c2d4(0x457)](_0x27a50d),_0x8a2a1f[_0x50c2d4(0x4e0)]({'id':_0x27a50d,'distance':_0x115a9a[_0x50c2d4(0x69b)]+0x1}));});}return-0x1;}[_0x440fb7(0x46f)](_0x2d5aa0){const _0x4220c1=_0x440fb7;try{switch(_0x2d5aa0[_0x4220c1(0x6bd)][_0x4220c1(0x637)]){case _0x13a6c4['UserUpdate']:case _0x13a6c4['UserConnectionsUpdate']:this['handleUserUpdate'](_0x2d5aa0[_0x4220c1(0x6bd)]),_0x571f6a[_0x4220c1(0x657)](_0x233447[_0x4220c1(0x227)],'NodeManager\x20-\x20UserUpdate','\x27'+this[_0x4220c1(0x380)]['getId']()+',\x20'+_0x2d5aa0[_0x4220c1(0x472)]+'\x27',_0x2d5aa0,_0x2d5aa0[_0x4220c1(0x6bd)]);break;case _0x13a6c4[_0x4220c1(0x489)]:this[_0x4220c1(0x76a)](_0x2d5aa0[_0x4220c1(0x6bd)]['id']),_0x571f6a[_0x4220c1(0x657)](_0x233447[_0x4220c1(0x227)],_0x4220c1(0x712),'\x27'+this[_0x4220c1(0x380)]['getId']()+',\x20'+_0x2d5aa0[_0x4220c1(0x472)]+'\x27',_0x2d5aa0,_0x2d5aa0['content']);}}catch(_0x16fef3){if(_0x16fef3 instanceof _0x1283cb)return void _0x571f6a['log'](_0x233447['Node'],_0x16fef3[_0x4220c1(0x3a1)]);throw _0x16fef3;}}[_0x440fb7(0x4c1)](_0x4c2dfd){const _0x16a31d=_0x440fb7;switch(_0x4c2dfd['content']['type']){case _0x244554[_0x16a31d(0x31d)]:this['handleWebRTCSuccess'](_0x4c2dfd[_0x16a31d(0x472)]),_0x571f6a[_0x16a31d(0x657)](_0x233447[_0x16a31d(0x227)],'NodeManager\x20-\x20WebRTCSuccess','\x27'+this[_0x16a31d(0x380)][_0x16a31d(0x653)]()+',\x20'+_0x4c2dfd[_0x16a31d(0x472)]+'\x27',_0x4c2dfd,_0x4c2dfd[_0x16a31d(0x6bd)]);break;case _0x244554[_0x16a31d(0x73b)]:this[_0x16a31d(0x581)](_0x4c2dfd[_0x16a31d(0x472)]),_0x571f6a[_0x16a31d(0x657)](_0x233447[_0x16a31d(0x227)],'NodeManager\x20-\x20PublishUserLeave',this[_0x16a31d(0x380)][_0x16a31d(0x653)](),_0x4c2dfd,_0x4c2dfd[_0x16a31d(0x6bd)]);}}[_0x440fb7(0x203)](_0x24839c){const _0x1b9216=_0x440fb7;this[_0x1b9216(0x39d)](_0x24839c),this['notifyJoin'](_0x24839c);}[_0x440fb7(0x5b8)](_0x36c464){const _0x168701=_0x440fb7;this[_0x168701(0x380)]['answerJoin'](_0x36c464['id']),this[_0x168701(0x40d)](_0x36c464['id']),this[_0x168701(0x228)](_0x36c464);}['handleUserUpdate'](_0x5cbdf6){const _0x5cf8e0=_0x440fb7,{id:_0xe2e5bd,displayName:_0x271238,email:_0x2aaae5,rank:_0x5a95f4,remoteConnections:_0x1eb71f,version:_0x321fed}=_0x5cbdf6,_0xf91ed2=this['graphService'][_0x5cf8e0(0x75d)](_0xe2e5bd);if(_0xf91ed2){if(!(_0x321fed<=_0xf91ed2['getCurrentVersion']())){if(_0xf91ed2[_0x5cf8e0(0x74e)](_0x1eb71f),_0xf91ed2[_0x5cf8e0(0x5bb)](_0x321fed),_0xf91ed2[_0x5cf8e0(0x491)](_0x271238),_0xf91ed2['setEmail'](_0x2aaae5),_0x5a95f4&&_0xf91ed2['setRank'](_0x5a95f4),this[_0x5cf8e0(0x218)](_0xe2e5bd,_0x5a95f4),_0xf91ed2[_0x5cf8e0(0x564)]()===_0x26fd91['Offline'])return _0xf91ed2[_0x5cf8e0(0x49d)](_0x26fd91[_0x5cf8e0(0x29b)]),this['processRank'](),void this['notifyJoin'](_0x5cbdf6);this[_0x5cf8e0(0x416)](),this['notifyClusterUserUpdate']({'id':_0xe2e5bd,'displayName':_0x271238,'email':_0x2aaae5,'remoteConnections':_0x1eb71f,'version':_0x321fed});}}else this[_0x5cf8e0(0x203)](_0x5cbdf6);}[_0x440fb7(0x218)](_0x472739,_0x114c7e){const _0x5ca10b=_0x440fb7;_0x114c7e&&this['ancestors'][_0x5ca10b(0x63d)](_0x472739)&&this[_0x5ca10b(0x380)]['setRank'](_0x114c7e+this['ancestors']['indexOf'](_0x472739)+0x1);}[_0x440fb7(0x531)](_0x3d312c){const _0x861c1a=_0x440fb7;this['localUser'][_0x861c1a(0x49a)](_0x3d312c);}[_0x440fb7(0x39d)]({id:_0x559466,displayName:_0x3b45b3='',email:_0x56e26b='',rank:_0x4d1315,remoteConnections:_0x45caa5,version:_0x2cf1c6}){const _0x16b554=_0x440fb7;if(this['graphService'][_0x16b554(0x76b)](_0x559466))throw new _0x1283cb('Cannot\x20create\x20remote\x20user:\x20User\x20already\x20exists:\x20'+_0x559466);this[_0x16b554(0x3a5)][_0x16b554(0x2b0)](_0x559466,new _0x55316b(_0x559466,_0x3b45b3,_0x56e26b,new Set(_0x45caa5),_0x2cf1c6,_0x4d1315)),this[_0x16b554(0x218)](_0x559466,_0x4d1315),this['processRank']();}[_0x440fb7(0x40d)](_0x2c3f7f){const _0x3d2449=_0x440fb7;this[_0x3d2449(0x464)]['publish']({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x3d2449(0x227)],'content':{'type':_0x13a6c4[_0x3d2449(0x4c2)],'id':_0x2c3f7f}});}[_0x440fb7(0x581)](_0xfe868b){const _0x422993=_0x440fb7;this['systemTopic']?.[_0x422993(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x422993(0x227)],'content':{'type':_0x13a6c4[_0x422993(0x489)],'id':_0xfe868b}});}[_0x440fb7(0x6aa)](_0x961a00){const _0x2bd29e=_0x440fb7;if(_0x961a00===this[_0x2bd29e(0x380)][_0x2bd29e(0x653)]())return this[_0x2bd29e(0x339)][_0x2bd29e(0x57a)][_0x2bd29e(0x663)]('cluster-disconnect',{'id':_0x961a00}),this['configs']['mediator']['close'](!0x0),this[_0x2bd29e(0x339)]['mediator'][_0x2bd29e(0x272)](),void this[_0x2bd29e(0x339)]['mediator']['initialize']();this[_0x2bd29e(0x581)](_0x961a00);}[_0x440fb7(0x76a)](_0x409df4){const _0x2cb3f5=_0x440fb7;this[_0x2cb3f5(0x60f)][_0x2cb3f5(0x63d)](_0x409df4)?this['manageAncestor'](_0x409df4):this[_0x2cb3f5(0x380)][_0x2cb3f5(0x3a6)]()[_0x2cb3f5(0x4f5)](_0x409df4)&&this[_0x2cb3f5(0x58b)](_0x409df4),this[_0x2cb3f5(0x380)][_0x2cb3f5(0x434)](_0x409df4);const _0x4eb961=Array[_0x2cb3f5(0x70f)](this['optimizationLayers'][_0x2cb3f5(0x615)]())[_0x2cb3f5(0x5a9)](([,_0x4be379])=>_0x4be379==_0x4be379);_0x4eb961&&this[_0x2cb3f5(0x319)][_0x2cb3f5(0x528)](_0x4eb961[0x0]);const _0x16ad50=this[_0x2cb3f5(0x3a5)][_0x2cb3f5(0x75d)](_0x409df4);if(!_0x16ad50)return;const _0x2f56e3=_0x16ad50[_0x2cb3f5(0x70c)](),_0x4d76f2=this['localUser'][_0x2cb3f5(0x70c)]();_0x4d76f2&&_0x2f56e3&&_0x2f56e3<_0x4d76f2&&this[_0x2cb3f5(0x380)][_0x2cb3f5(0x710)](_0x4d76f2-0x1,!0x1),Array[_0x2cb3f5(0x70f)](this['graphService'][_0x2cb3f5(0x398)]()[_0x2cb3f5(0x359)]())[_0x2cb3f5(0x613)](_0x13f1a0=>{const _0x453e45=_0x2cb3f5,_0x780a7d=_0x13f1a0[_0x453e45(0x70c)]();_0x780a7d&&_0x2f56e3&&_0x2f56e3<_0x780a7d&&_0x13f1a0[_0x453e45(0x710)](_0x780a7d-0x1);}),_0x16ad50[_0x2cb3f5(0x49d)](_0x26fd91[_0x2cb3f5(0x390)]),this[_0x2cb3f5(0x339)]['mediator'][_0x2cb3f5(0x663)](_0x2cb3f5(0x338),{'id':_0x409df4});}[_0x440fb7(0x228)]({id:_0x45fe05,displayName:_0x307dfa,email:_0x416a8f,remoteConnections:_0x453a19}){const _0xa66bc3=_0x440fb7;this[_0xa66bc3(0x339)][_0xa66bc3(0x57a)][_0xa66bc3(0x663)](_0xa66bc3(0x683),{'id':_0x45fe05,'displayName':_0x307dfa,'email':_0x416a8f,'remoteConnections':_0x453a19});}['notifyClusterUserUpdate']({id:_0x5f20c2,displayName:_0x3c6f97,email:_0x38a3ef,remoteConnections:_0x37f616}){const _0x2a763f=_0x440fb7;this[_0x2a763f(0x339)][_0x2a763f(0x57a)]['notifyCluster'](_0x2a763f(0x539),{'id':_0x5f20c2,'displayName':_0x3c6f97,'email':_0x38a3ef,'remoteConnections':_0x37f616});}[_0x440fb7(0x416)](){const _0x44db9f=_0x440fb7;if(this[_0x44db9f(0x274)]||(this[_0x44db9f(0x274)]=Date['now']()),this['debounceProcessRank']){if(Date[_0x44db9f(0x635)]()-this[_0x44db9f(0x274)]>0x2328)return;clearTimeout(this[_0x44db9f(0x3d0)]);}this[_0x44db9f(0x3d0)]=setTimeout(async()=>{const _0x5683b0=_0x44db9f;delete this[_0x5683b0(0x274)],delete this[_0x5683b0(0x3d0)];const _0xe0d2ac=this[_0x5683b0(0x380)][_0x5683b0(0x70c)]();if(!_0xe0d2ac)return;const _0x587659=this[_0x5683b0(0x3a5)][_0x5683b0(0x39e)](this['graphService']['getRemoteUsers']()[_0x5683b0(0x264)]);if(this['optimizationLayers'][_0x5683b0(0x264)]>=_0x587659)return;let _0x9940ee=0x1;for(;this[_0x5683b0(0x339)]['mediator'][_0x5683b0(0x294)]()[_0x5683b0(0x382)]<this[_0x5683b0(0x3a5)][_0x5683b0(0x3f5)]()&&_0x9940ee<=_0x587659;){if(this[_0x5683b0(0x319)][_0x5683b0(0x4f5)](_0x9940ee)){_0x9940ee+=0x1;continue;}const _0x911f16=this[_0x5683b0(0x3a5)][_0x5683b0(0x4ef)](_0xe0d2ac,_0x9940ee),_0x1095a7=Array['from'](this[_0x5683b0(0x3a5)][_0x5683b0(0x398)]()['values']())['find'](_0x5b3be2=>_0x5b3be2['getRank']()===_0x911f16&&_0x5b3be2[_0x5683b0(0x564)]()===_0x26fd91[_0x5683b0(0x29b)]);if(_0x1095a7){try{await this[_0x5683b0(0x339)][_0x5683b0(0x57a)][_0x5683b0(0x4ca)](_0x1095a7[_0x5683b0(0x653)](),_0x25b86c[_0x5683b0(0x30c)]),this[_0x5683b0(0x319)][_0x5683b0(0x442)](_0x9940ee,_0x1095a7['getId']());}catch(_0x21972d){if(!(_0x21972d instanceof _0x717bed&&_0x21972d[_0x5683b0(0x42a)]===_0x717bed['codes'][_0x5683b0(0x348)]))throw _0x21972d;_0x571f6a[_0x5683b0(0x657)](_0x233447[_0x5683b0(0x227)],this[_0x5683b0(0x380)]['getId'](),_0x1095a7[_0x5683b0(0x653)](),_0x21972d[_0x5683b0(0x3a1)]);}_0x9940ee+=0x1;}else _0x9940ee+=0x1;}},0x3e8);}async['manageAncestor'](_0x57ad9d){const _0x269400=_0x440fb7;this[_0x269400(0x60f)][_0x269400(0x4fa)](this[_0x269400(0x60f)]['indexOf'](_0x57ad9d),0x1);const _0x283833=await this[_0x269400(0x554)][_0x269400(0x728)]();for(const _0x2d54ef of _0x283833)if(!this[_0x269400(0x60f)][_0x269400(0x63d)](_0x2d54ef)){const _0x99694e=Array[_0x269400(0x70f)](this['optimizationLayers']['entries']())[_0x269400(0x5a9)](([,_0x5c4494])=>_0x5c4494===_0x2d54ef);_0x99694e&&this[_0x269400(0x319)][_0x269400(0x528)](_0x99694e[0x0]),this['configs']['mediator']['createConnection'](_0x2d54ef,_0x25b86c[_0x269400(0x3de)]);}0x0===_0x283833[_0x269400(0x382)]&&this[_0x269400(0x380)][_0x269400(0x710)](0x1),this['ancestors']=_0x283833;}async[_0x440fb7(0x58b)](_0x3aa267){const _0x39d579=_0x440fb7,_0x1dce2b=this['localUser'][_0x39d579(0x70c)]();if(!_0x1dce2b)return;const _0x17af12=this[_0x39d579(0x3a5)][_0x39d579(0x75d)](_0x3aa267);if(!_0x17af12||_0x17af12[_0x39d579(0x564)]()===_0x26fd91[_0x39d579(0x390)])return;const _0x38dfa3=_0x17af12['getRank']();if(!_0x38dfa3||_0x38dfa3<_0x1dce2b)return;const _0x1df6cc=this['getOutgoingOptimizationConnections'](this['localUser'][_0x39d579(0x3a6)](),_0x1dce2b),_0x159f6c=this[_0x39d579(0x5a0)](_0x17af12[_0x39d579(0x3a6)](),_0x38dfa3)[_0x1df6cc['findIndex'](([_0x22d8fd])=>_0x22d8fd===_0x3aa267)];if(!_0x159f6c||this[_0x39d579(0x380)][_0x39d579(0x3a6)]()['has'](_0x159f6c[0x0]))return;const _0x329181=this['graphService']['getRemoteUser'](_0x159f6c[0x0]);if(_0x329181&&_0x329181[_0x39d579(0x564)]()!==_0x26fd91[_0x39d579(0x390)])try{await this['configs'][_0x39d579(0x57a)][_0x39d579(0x4ca)](_0x159f6c[0x0],_0x25b86c[_0x39d579(0x30c)]);const _0x441025=Array['from'](this[_0x39d579(0x319)][_0x39d579(0x615)]())[_0x39d579(0x5a9)](([,_0x273936])=>_0x273936===_0x3aa267);_0x441025&&this[_0x39d579(0x319)]['set'](_0x441025[0x0],_0x159f6c[0x0]);}catch(_0x1c3d89){if(!(_0x1c3d89 instanceof _0x717bed&&_0x1c3d89[_0x39d579(0x42a)]===_0x717bed['codes'][_0x39d579(0x348)]))throw _0x1c3d89;_0x571f6a[_0x39d579(0x657)](_0x233447['Node'],this[_0x39d579(0x380)][_0x39d579(0x653)](),_0x159f6c[0x0],_0x1c3d89[_0x39d579(0x3a1)]);}}[_0x440fb7(0x5a0)](_0x31ed7f,_0x37e06){const _0xc65b57=_0x440fb7;return Array[_0xc65b57(0x70f)](_0x31ed7f)[_0xc65b57(0x719)]((_0x5cc6bd,_0x5833c4)=>{const _0x3cb1b0=_0xc65b57,_0x46e81b=this['graphService'][_0x3cb1b0(0x75d)](_0x5833c4);if(!_0x46e81b||_0x46e81b[_0x3cb1b0(0x564)]()===_0x26fd91['Offline'])return _0x5cc6bd;const _0x10ea27=_0x46e81b[_0x3cb1b0(0x70c)]();if(!_0x10ea27)return _0x5cc6bd;const _0x227cae=_0x10ea27-_0x37e06;return _0x227cae<=this[_0x3cb1b0(0x3a5)][_0x3cb1b0(0x202)]()||_0x5cc6bd['push']([_0x5833c4,_0x227cae]),_0x5cc6bd;},[])['sort'](([,_0x2c9149],[,_0x568dfd])=>_0x2c9149-_0x568dfd);}}class _0x4bd110 extends _0x273ee4{['systemTopic'];[_0x440fb7(0x239)]=Date[_0x440fb7(0x635)]();['updateDebounceTimeout'];['lastUpdated'];[_0x440fb7(0x720)](){const _0x4d28e8=_0x440fb7;this[_0x4d28e8(0x699)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x4d28e8(0x699)]),delete this['lastUpdated'],this[_0x4d28e8(0x239)]=Date[_0x4d28e8(0x635)](),super['close']();}[_0x440fb7(0x5c1)](_0x297ca8){const _0x436ee6=_0x440fb7;this[_0x436ee6(0x464)]=_0x297ca8;}[_0x440fb7(0x74f)](){delete this['systemTopic'];}[_0x440fb7(0x342)](_0x431a21){const _0x5c194d=_0x440fb7;!this['updateDebounceTimeout']&&this[_0x5c194d(0x3be)]&&this[_0x5c194d(0x464)][_0x5c194d(0x764)]({'sourceId':this['id'],'destinationIds':[_0x431a21],'propagate':!0x0,'messageType':_0x5a2832['Node'],'content':{'type':_0x13a6c4[_0x5c194d(0x1d3)],'id':this['id'],'displayName':this[_0x5c194d(0x730)](),'email':this[_0x5c194d(0x4d4)](),'rank':this[_0x5c194d(0x70c)](),'remoteConnections':Array['from'](this[_0x5c194d(0x717)]),'version':this[_0x5c194d(0x239)]}});}[_0x440fb7(0x49a)](_0x2a504b){const _0x47f4c6=_0x440fb7;this['remoteConnections'][_0x47f4c6(0x4f5)](_0x2a504b)||(this[_0x47f4c6(0x717)]['add'](_0x2a504b),this[_0x47f4c6(0x6e7)](),this[_0x47f4c6(0x2ff)](!0x0));}[_0x440fb7(0x434)](_0x17c473){const _0x16df91=_0x440fb7;this[_0x16df91(0x717)][_0x16df91(0x4f5)](_0x17c473)&&(this['remoteConnections']['delete'](_0x17c473),this[_0x16df91(0x6e7)](),this[_0x16df91(0x2ff)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0x440fb7(0x491)](_0x5eda97){const _0x3ce37a=_0x440fb7;this[_0x3ce37a(0x2ee)]!==_0x5eda97&&(this[_0x3ce37a(0x2ee)]=_0x5eda97,this['incrementVersion'](),this[_0x3ce37a(0x2ff)]());}[_0x440fb7(0x3a2)](_0x3b8baf){const _0x684190=_0x440fb7;this[_0x684190(0x643)]!==_0x3b8baf&&(this[_0x684190(0x643)]=_0x3b8baf,this[_0x684190(0x6e7)](),this[_0x684190(0x2ff)]());}[_0x440fb7(0x710)](_0x519725,_0x38e37b=!0x0){const _0x268b31=_0x440fb7;this[_0x268b31(0x3be)]!==_0x519725&&(this[_0x268b31(0x3be)]=_0x519725,_0x38e37b&&(this[_0x268b31(0x6e7)](),this['publishUserUpdate']()));}[_0x440fb7(0x6e7)](){const _0x318597=_0x440fb7;this[_0x318597(0x239)]=Date[_0x318597(0x635)]();}[_0x440fb7(0x2ff)](_0x204bb4=!0x1){const _0x215fae=_0x440fb7;if(this[_0x215fae(0x3be)]){if(this[_0x215fae(0x619)]||(this[_0x215fae(0x619)]=Date['now']()),this[_0x215fae(0x699)]){if(Date[_0x215fae(0x635)]()-this['lastUpdated']>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x215fae(0x699)]=setTimeout(()=>{const _0x18d752=_0x215fae;delete this[_0x18d752(0x619)],delete this['updateDebounceTimeout'],this['systemTopic'][_0x18d752(0x764)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x5a2832[_0x18d752(0x227)],'content':{'type':_0x204bb4?_0x13a6c4['UserConnectionsUpdate']:_0x13a6c4[_0x18d752(0x1d3)],'id':this['id'],'displayName':this[_0x18d752(0x730)](),'email':this[_0x18d752(0x4d4)](),'rank':this[_0x18d752(0x70c)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x18d752(0x239)]}});},0x3e8);}}}const _0x22765e=[{'problemType':_0x208225[_0x440fb7(0x742)],'remediations':[{'type':_0xe8a9ad[_0x440fb7(0x583)],'component':_0x4eaa4d[_0x440fb7(0x259)],'action':_0x11cc4b[_0x440fb7(0x633)]},{'type':_0xe8a9ad['RemoteRemediation'],'component':_0x4eaa4d[_0x440fb7(0x259)],'action':_0x11cc4b[_0x440fb7(0x633)]}]},{'problemType':_0x208225[_0x440fb7(0x33c)],'remediations':[{'type':_0xe8a9ad[_0x440fb7(0x583)],'component':_0x4eaa4d[_0x440fb7(0x259)],'action':_0x11cc4b[_0x440fb7(0x633)]}]},{'problemType':_0x208225['AudioVideoDelay'],'remediations':[{'type':_0xe8a9ad[_0x440fb7(0x583)],'component':_0x4eaa4d['Resolution'],'action':_0x11cc4b[_0x440fb7(0x633)]}]},{'problemType':_0x208225[_0x440fb7(0x2b3)],'remediations':[{'type':_0xe8a9ad['Remediation'],'component':_0x4eaa4d['Resolution'],'action':_0x11cc4b['Downgrade']}]},{'problemType':_0x208225[_0x440fb7(0x549)],'remediations':[{'type':_0xe8a9ad[_0x440fb7(0x583)],'component':_0x4eaa4d['Bitrate'],'action':_0x11cc4b[_0x440fb7(0x633)]}]},{'problemType':_0x208225['Jitter'],'remediations':[{'type':_0xe8a9ad[_0x440fb7(0x583)],'component':_0x4eaa4d[_0x440fb7(0x549)],'action':_0x11cc4b[_0x440fb7(0x633)]}]},{'problemType':_0x208225[_0x440fb7(0x210)],'remediations':[{'type':_0xe8a9ad[_0x440fb7(0x583)],'component':_0x4eaa4d[_0x440fb7(0x549)],'action':_0x11cc4b[_0x440fb7(0x633)]}]}];class _0x5a7d39{[_0x440fb7(0x339)];[_0x440fb7(0x464)];[_0x440fb7(0x593)]=new Map();constructor(_0x4a8544){const _0x3b0554=_0x440fb7;this[_0x3b0554(0x339)]=_0x4a8544,this[_0x3b0554(0x339)][_0x3b0554(0x57a)][_0x3b0554(0x2d7)](this);}[_0x440fb7(0x720)](){const _0x2c3b52=_0x440fb7;this[_0x2c3b52(0x339)][_0x2c3b52(0x57a)][_0x2c3b52(0x20c)](this);}[_0x440fb7(0x5c1)](_0x1a460e){const _0x2a2d22=_0x440fb7;this[_0x2a2d22(0x464)]=_0x1a460e;}['unregisterSystemPublisher'](){const _0x480e7d=_0x440fb7;delete this[_0x480e7d(0x464)];}[_0x440fb7(0x576)](_0x41134e){const _0x59558c=_0x440fb7;_0x41134e[_0x59558c(0x6bd)][_0x59558c(0x637)]===_0x4f6aba['Problem']&&this[_0x59558c(0x2d4)](_0x41134e[_0x59558c(0x6bd)][_0x59558c(0x2f8)]);}[_0x440fb7(0x207)](_0x400764){const _0x370d5a=_0x440fb7;_0x400764[_0x370d5a(0x6bd)][_0x370d5a(0x637)]===_0xe8a9ad[_0x370d5a(0x5fb)]&&this[_0x370d5a(0x50f)](_0x400764[_0x370d5a(0x472)],{'type':_0xe8a9ad[_0x370d5a(0x583)],'component':_0x400764[_0x370d5a(0x6bd)][_0x370d5a(0x2f8)][_0x370d5a(0x45a)],'action':_0x400764[_0x370d5a(0x6bd)][_0x370d5a(0x2f8)][_0x370d5a(0x3b9)]});}[_0x440fb7(0x2d4)](_0x219a55){const _0x339aab=_0x440fb7,_0x2a3499=_0x22765e[_0x339aab(0x5a9)](_0x484549=>_0x484549['problemType']===_0x219a55[_0x339aab(0x637)]);_0x2a3499[_0x339aab(0x518)]?.[_0x339aab(0x613)](_0x5f219d=>{const _0x1ecf2c=_0x339aab;this[_0x1ecf2c(0x50f)](_0x219a55['userId'],{'type':_0x219a55[_0x1ecf2c(0x2ef)]===_0x98444c['Sender']?_0xe8a9ad[_0x1ecf2c(0x583)]:_0xe8a9ad[_0x1ecf2c(0x5fb)],'component':_0x5f219d[_0x1ecf2c(0x45a)],'action':_0x5f219d[_0x1ecf2c(0x3b9)]});});}['applyRemediation'](_0x15db6d,_0x138de6){const _0x2fc1a0=_0x440fb7;if(_0x138de6[_0x2fc1a0(0x637)]===_0xe8a9ad[_0x2fc1a0(0x583)]){const _0x56ef9f=Date[_0x2fc1a0(0x635)](),_0x208cc3=this['lastRemediations']['get'](_0x15db6d);if(_0x208cc3&&_0x56ef9f-_0x208cc3<0x1388)return;this['lastRemediations']['set'](_0x15db6d,_0x56ef9f);}_0x571f6a[_0x2fc1a0(0x657)](_0x233447[_0x2fc1a0(0x583)],'Apply\x20remediation',_0x138de6),_0x571f6a['logEvent'](_0x2fc1a0(0x2b9),{'clusterId':this[_0x2fc1a0(0x339)][_0x2fc1a0(0x6bf)],'userId':this['configs']['localId'],'remoteId':_0x15db6d,'data':{'type':_0x138de6[_0x2fc1a0(0x637)],'component':_0x138de6[_0x2fc1a0(0x45a)],'action':_0x138de6[_0x2fc1a0(0x3b9)]}});let _0xd48acf,_0x584887=_0x513fd0;_0x138de6[_0x2fc1a0(0x637)]===_0xe8a9ad[_0x2fc1a0(0x5fb)]&&(_0x584887=this[_0x2fc1a0(0x339)][_0x2fc1a0(0x6a3)],_0xd48acf=[_0x15db6d]),this['systemTopic']['publish']({'sourceId':_0x584887,'destinationIds':_0xd48acf,'messageType':_0x5a2832[_0x2fc1a0(0x583)],'content':{'type':_0x138de6[_0x2fc1a0(0x637)],'targetId':_0x15db6d,'data':_0x138de6}});}}const _0x3745b3=0x3e8,_0x102686=0x7530,_0x22686a=_0x440fb7(0x2b7),_0x55f38e='remote-inbound-rtp',_0xbe66fa=_0x440fb7(0x1ec),_0x39cc47=[_0x22686a,_0x55f38e],_0x315b80=[_0xbe66fa];class _0x3f2cd4{[_0x440fb7(0x608)]=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x440fb7(0x42b)]=0x0;[_0x440fb7(0x201)]=0x0;['packets']=0x0;['currentTimestamp']=0x0;[_0x440fb7(0x444)]=0x0;['currentBytes']=0x0;[_0x440fb7(0x72c)]=0x0;get[_0x440fb7(0x733)](){const _0x49b021=_0x440fb7;return this[_0x49b021(0x2f5)]>0x0&&this[_0x49b021(0x444)]>0x0&&Date[_0x49b021(0x635)]()-this[_0x49b021(0x2f5)]<_0x102686?(this[_0x49b021(0x1de)]-this[_0x49b021(0x72c)])/(this[_0x49b021(0x2f5)]-this[_0x49b021(0x444)])*0x8*0x3e8:0x0;}[_0x440fb7(0x703)](_0x55194d){const _0x1a8a67=_0x440fb7;switch(_0x55194d[_0x1a8a67(0x637)]){case _0xbe66fa:this[_0x1a8a67(0x6ad)](_0x55194d);break;case _0x22686a:this[_0x1a8a67(0x4d3)](_0x55194d);break;case _0x55f38e:this[_0x1a8a67(0x305)](_0x55194d);}}[_0x440fb7(0x4eb)](){const _0x327a56=_0x440fb7;return{'bitrate':this[_0x327a56(0x733)],'packetsLostPerc':this[_0x327a56(0x743)](),'roundTripTime':this[_0x327a56(0x608)],'jitter':this[_0x327a56(0x42b)]};}['processInboundReport'](_0x212de0){const _0x487882=_0x440fb7;this['setBytes'](_0x212de0['bytesReceived']),this[_0x487882(0x3ee)](_0x212de0[_0x487882(0x2cf)]),this['packets']=_0x212de0[_0x487882(0x285)],this[_0x487882(0x201)]=_0x212de0[_0x487882(0x201)],void 0x0!==_0x212de0[_0x487882(0x42b)]?this[_0x487882(0x42b)]=_0x212de0[_0x487882(0x42b)]:this['jitter']=0x0,void 0x0!==_0x212de0[_0x487882(0x6d6)]?this[_0x487882(0x6d6)]=_0x212de0['estimatedPlayoutTimestamp']:this[_0x487882(0x6d6)]=0x0;}[_0x440fb7(0x4d3)](_0x349af9){const _0x566442=_0x440fb7;this['setBytes'](_0x349af9[_0x566442(0x23f)]),this['setTimestamp'](_0x349af9[_0x566442(0x2cf)]),this[_0x566442(0x649)]=_0x349af9[_0x566442(0x260)];}[_0x440fb7(0x305)](_0x1c487a){const _0x2020b9=_0x440fb7;this[_0x2020b9(0x608)]=0x3e8*_0x1c487a['roundTripTime'],void 0x0!==_0x1c487a[_0x2020b9(0x42b)]?this[_0x2020b9(0x42b)]=_0x1c487a['jitter']:this[_0x2020b9(0x42b)]=0x0;}[_0x440fb7(0x743)](){const _0x52079f=_0x440fb7;return this['packets']>0x0?this[_0x52079f(0x201)]/this['packets']:0x0;}['setTimestamp'](_0x454f27){const _0x396620=_0x440fb7;_0x454f27>this[_0x396620(0x2f5)]&&(this[_0x396620(0x444)]=this[_0x396620(0x2f5)],this[_0x396620(0x2f5)]=_0x454f27);}[_0x440fb7(0x68f)](_0x158305){const _0xb621d2=_0x440fb7;this[_0xb621d2(0x72c)]=this[_0xb621d2(0x1de)],this[_0xb621d2(0x1de)]=_0x158305;}}class _0x3744ce extends _0x3f2cd4{}class _0x105cff extends _0x3f2cd4{[_0x440fb7(0x62c)]=0x0;['frameWidth']=0x0;['frameHeight']=0x0;[_0x440fb7(0x5f4)]=0x0;[_0x440fb7(0x267)]=0x0;get[_0x440fb7(0x697)](){const _0x1e8c12=_0x440fb7;return this[_0x1e8c12(0x2f5)]>0x0&&this[_0x1e8c12(0x444)]>0x0&&Date['now']()-this[_0x1e8c12(0x2f5)]<_0x102686?(this[_0x1e8c12(0x5f4)]-this[_0x1e8c12(0x267)])/(this[_0x1e8c12(0x2f5)]-this[_0x1e8c12(0x444)])*0x3e8:0x0;}get[_0x440fb7(0x213)](){const _0x1b7688=_0x440fb7;return this[_0x1b7688(0x62c)]&&this[_0x1b7688(0x5f4)]&&this[_0x1b7688(0x5f4)]>0x0?this[_0x1b7688(0x62c)]/this[_0x1b7688(0x5f4)]:0x0;}set[_0x440fb7(0x48f)](_0x5c5ace){const _0x5a7edd=_0x440fb7;this[_0x5a7edd(0x267)]=this[_0x5a7edd(0x5f4)],this['currentFrames']=_0x5c5ace;}['getReport'](){const _0x229cc7=_0x440fb7;return{...super['getReport'](),'FPS':this['fps'],'timePerFrame':this[_0x229cc7(0x213)],'frameWidth':this[_0x229cc7(0x5c6)],'frameHeight':this[_0x229cc7(0x269)]};}[_0x440fb7(0x6ad)](_0x528cbc){const _0x323331=_0x440fb7;super[_0x323331(0x6ad)](_0x528cbc),this[_0x323331(0x62c)]=_0x528cbc[_0x323331(0x609)],this[_0x323331(0x48f)]=_0x528cbc[_0x323331(0x737)],this[_0x323331(0x5c6)]=_0x528cbc[_0x323331(0x5c6)],this[_0x323331(0x269)]=_0x528cbc['frameHeight'];}[_0x440fb7(0x4d3)](_0xa2131c){const _0x39e7d2=_0x440fb7;super[_0x39e7d2(0x4d3)](_0xa2131c),this[_0x39e7d2(0x62c)]=_0xa2131c[_0x39e7d2(0x496)],this[_0x39e7d2(0x48f)]=_0xa2131c[_0x39e7d2(0x328)],this[_0x39e7d2(0x5c6)]=_0xa2131c[_0x39e7d2(0x5c6)],this[_0x39e7d2(0x269)]=_0xa2131c[_0x39e7d2(0x269)];}}class _0x209f96{['audio']=new _0x3744ce();[_0x440fb7(0x2c7)]=new _0x105cff();get[_0x440fb7(0x733)](){const _0x39a91a=_0x440fb7;return this['audio'][_0x39a91a(0x733)]+this[_0x39a91a(0x2c7)][_0x39a91a(0x733)];}[_0x440fb7(0x33e)](_0x1eabf1){const _0x3bed91=_0x440fb7;return _0x1eabf1[_0x3bed91(0x613)](_0x57c0de=>{const _0x4263f2=_0x3bed91;switch(_0x57c0de[_0x4263f2(0x248)]){case _0x4263f2(0x37a):this[_0x4263f2(0x37a)][_0x4263f2(0x703)](_0x57c0de);break;case _0x4263f2(0x2c7):this['video'][_0x4263f2(0x703)](_0x57c0de);}}),this[_0x3bed91(0x4eb)]();}['getReport'](){const _0x41e212=_0x440fb7;return{'audio':this[_0x41e212(0x37a)][_0x41e212(0x4eb)](),'video':this[_0x41e212(0x2c7)][_0x41e212(0x4eb)](),'roundTripTime':this[_0x41e212(0x35f)](),'AudioVideoDelay':this[_0x41e212(0x406)](),'bitrate':this['bitrate']};}[_0x440fb7(0x35f)](){const _0x41bf9e=_0x440fb7;return Math['floor']((this[_0x41bf9e(0x37a)][_0x41bf9e(0x608)]+this[_0x41bf9e(0x2c7)]['roundTripTime'])/0x2);}['getAudioVideoDelay'](){const _0x3385df=_0x440fb7;return this[_0x3385df(0x37a)][_0x3385df(0x6d6)]-this[_0x3385df(0x2c7)][_0x3385df(0x6d6)];}}class _0x6433ac{[_0x440fb7(0x682)]=0x0;[_0x440fb7(0x5ac)]=0x0;[_0x440fb7(0x777)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x440fb7(0x6a9)]=0x0;[_0x440fb7(0x2a4)]=0x0;[_0x440fb7(0x6e2)]=0x0;[_0x440fb7(0x379)]=0x0;[_0x440fb7(0x6c5)]=0x0;[_0x440fb7(0x52d)]=0x0;['senderTimeProcessing']=0x0;[_0x440fb7(0x68d)]=0x0;['roundTripTime']=0x0;get[_0x440fb7(0x733)](){return this['senderBitrate']+this['receiverBitrate'];}get['senderBitrate'](){const _0x3ff0df=_0x440fb7;return this[_0x3ff0df(0x682)]>0x0&&this[_0x3ff0df(0x5ac)]>0x0&&Date[_0x3ff0df(0x635)]()-this[_0x3ff0df(0x682)]<_0x102686?(this[_0x3ff0df(0x6a9)]-this[_0x3ff0df(0x2a4)])/(this[_0x3ff0df(0x682)]-this[_0x3ff0df(0x5ac)])*0x8*0x3e8:0x0;}get[_0x440fb7(0x1ea)](){const _0x5ce0f4=_0x440fb7;return this[_0x5ce0f4(0x777)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x5ce0f4(0x635)]()-this['receiverCurrentTimestamp']<_0x102686?(this[_0x5ce0f4(0x6e2)]-this[_0x5ce0f4(0x379)])/(this[_0x5ce0f4(0x777)]-this[_0x5ce0f4(0x6e6)])*0x8*0x3e8:0x0;}[_0x440fb7(0x703)](_0x1c5aa7){const _0x546922=_0x440fb7;switch(_0x1c5aa7['origin']){case _0x98444c[_0x546922(0x707)]:this['processSenderReport'](_0x1c5aa7);break;case _0x98444c[_0x546922(0x41f)]:this[_0x546922(0x27d)](_0x1c5aa7);}}[_0x440fb7(0x4eb)](){const _0x4c08bb=_0x440fb7;return{'bitrate':this['bitrate'],'senderBitrate':this[_0x4c08bb(0x4d1)],'receiverBitrate':this[_0x4c08bb(0x1ea)],'totalBytes':this[_0x4c08bb(0x670)](),'senderTotalBytes':this[_0x4c08bb(0x6b0)](),'receiverTotalBytes':this[_0x4c08bb(0x2c6)](),'totalMessages':this[_0x4c08bb(0x6c5)]+this['receiverTotalMessages'],'senderTotalMessages':this[_0x4c08bb(0x6c5)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0x4c08bb(0x462)]+this[_0x4c08bb(0x68d)],'senderTimeProcessing':this[_0x4c08bb(0x462)],'receiverTimeProcessing':this[_0x4c08bb(0x68d)],'roundTripTime':this['roundTripTime']};}['getTotalBytes'](){const _0x19d58=_0x440fb7;return this[_0x19d58(0x6a9)]+this[_0x19d58(0x6e2)];}['getSenderTotalBytes'](){const _0x503a95=_0x440fb7;return this[_0x503a95(0x6a9)];}['getReceiverTotalBytes'](){const _0x5ac345=_0x440fb7;return this[_0x5ac345(0x6e2)];}[_0x440fb7(0x513)](_0x3f566e){const _0x2b21be=_0x440fb7;this[_0x2b21be(0x211)](_0x3f566e[_0x2b21be(0x2cf)]),this['setBytes'](_0x3f566e[_0x2b21be(0x23f)]),this[_0x2b21be(0x6c5)]=_0x3f566e[_0x2b21be(0x54e)],this[_0x2b21be(0x462)]=_0x3f566e[_0x2b21be(0x65d)],this[_0x2b21be(0x608)]=_0x3f566e[_0x2b21be(0x608)];}[_0x440fb7(0x27d)](_0x348959){const _0x2e6c04=_0x440fb7;this[_0x2e6c04(0x3a8)](_0x348959['timestamp']),this['setReceiverBytes'](_0x348959['bytesReceived']),this[_0x2e6c04(0x52d)]=_0x348959[_0x2e6c04(0x771)],this[_0x2e6c04(0x68d)]=_0x348959[_0x2e6c04(0x43b)];}[_0x440fb7(0x211)](_0x14f187){const _0xa00ccc=_0x440fb7;_0x14f187>this[_0xa00ccc(0x682)]&&(this[_0xa00ccc(0x5ac)]=this['senderCurrentTimestamp'],this[_0xa00ccc(0x682)]=_0x14f187);}[_0x440fb7(0x3a8)](_0x50f9d6){const _0x68b8ff=_0x440fb7;_0x50f9d6>this['receiverCurrentTimestamp']&&(this[_0x68b8ff(0x6e6)]=this[_0x68b8ff(0x777)],this['receiverCurrentTimestamp']=_0x50f9d6);}[_0x440fb7(0x68f)](_0x35f6b3){const _0x66d350=_0x440fb7;this['senderPreviousBytes']=this[_0x66d350(0x6a9)],this[_0x66d350(0x6a9)]=_0x35f6b3;}[_0x440fb7(0x59d)](_0x39e90a){const _0x30c594=_0x440fb7;this[_0x30c594(0x379)]=this[_0x30c594(0x6e2)],this[_0x30c594(0x6e2)]=_0x39e90a;}}class _0x3e0a97{[_0x440fb7(0x40c)]=new Map();[_0x440fb7(0x322)]=new Map();[_0x440fb7(0x67f)]=new _0x6433ac();get[_0x440fb7(0x4d1)](){const _0x1c8f20=_0x440fb7;let _0x46ff6e=0x0;return this[_0x1c8f20(0x40c)][_0x1c8f20(0x613)](_0x53142b=>{const _0x5dc7c3=_0x1c8f20;_0x46ff6e+=_0x53142b[_0x5dc7c3(0x733)];}),_0x46ff6e+=this['dataChannel'][_0x1c8f20(0x4d1)],_0x46ff6e;}get[_0x440fb7(0x1ea)](){const _0x336eb8=_0x440fb7;let _0x3edcbc=0x0;return this[_0x336eb8(0x322)][_0x336eb8(0x613)](_0x1befb4=>{const _0x28c845=_0x336eb8;_0x3edcbc+=_0x1befb4[_0x28c845(0x733)];}),_0x3edcbc+=this[_0x336eb8(0x67f)]['receiverBitrate'],_0x3edcbc;}get[_0x440fb7(0x733)](){const _0x37b8ac=_0x440fb7;return this['senderBitrate']+this[_0x37b8ac(0x1ea)];}[_0x440fb7(0x33e)](_0x181e8e,_0x596709){const _0x31beca=_0x440fb7,_0x9d99a6=[],_0x462a24=[];return _0x181e8e instanceof Array?_0x181e8e[_0x31beca(0x613)](_0x291324=>{_0x291324 instanceof RTCStatsReport&&_0x291324['forEach'](_0x4415b8=>{const _0x301b92=a0_0x2287;_0x315b80['includes'](_0x4415b8[_0x301b92(0x637)])&&_0x9d99a6[_0x301b92(0x4e0)](_0x4415b8),_0x39cc47['includes'](_0x4415b8['type'])&&_0x462a24[_0x301b92(0x4e0)](_0x4415b8);});}):this[_0x31beca(0x67f)][_0x31beca(0x703)](_0x181e8e),_0x9d99a6[_0x31beca(0x382)]>0x0&&_0x596709?{...this[_0x31beca(0x69a)](_0x596709,_0x9d99a6),'origin':_0x98444c[_0x31beca(0x41f)],'streamId':_0x596709}:_0x462a24[_0x31beca(0x382)]>0x0&&_0x596709?{...this[_0x31beca(0x2ec)](_0x596709,_0x462a24),'origin':_0x98444c['Sender'],'streamId':_0x596709}:void 0x0;}[_0x440fb7(0x4eb)](){const _0x80ddfe=_0x440fb7,_0x4b2601={};this['senderStreams']['forEach']((_0x5b7d84,_0x5efdec)=>{_0x4b2601[_0x5efdec]=_0x5b7d84['getReport']();});const _0x4810a9={};return this['receiverStreams'][_0x80ddfe(0x613)]((_0x3540e5,_0x19ad8c)=>{const _0x16baa7=_0x80ddfe;_0x4810a9[_0x19ad8c]=_0x3540e5[_0x16baa7(0x4eb)]();}),{'bitrate':this[_0x80ddfe(0x733)],'senderBitrate':this[_0x80ddfe(0x4d1)],'receiverBitrate':this[_0x80ddfe(0x1ea)],'senderStreams':_0x4b2601,'receiverStreams':_0x4810a9,'dataChannel':this[_0x80ddfe(0x67f)][_0x80ddfe(0x4eb)]()};}['processInboundReports'](_0x1ea61c,_0x2ab5f4){const _0x4f74c3=_0x440fb7;return this[_0x4f74c3(0x322)][_0x4f74c3(0x4f5)](_0x1ea61c)||this[_0x4f74c3(0x322)][_0x4f74c3(0x442)](_0x1ea61c,new _0x209f96()),this[_0x4f74c3(0x322)][_0x4f74c3(0x39a)](_0x1ea61c)[_0x4f74c3(0x33e)](_0x2ab5f4);}[_0x440fb7(0x2ec)](_0x58fc72,_0x248c2e){const _0x456aa5=_0x440fb7;return this[_0x456aa5(0x40c)][_0x456aa5(0x4f5)](_0x58fc72)||this[_0x456aa5(0x40c)][_0x456aa5(0x442)](_0x58fc72,new _0x209f96()),this[_0x456aa5(0x40c)][_0x456aa5(0x39a)](_0x58fc72)[_0x456aa5(0x33e)](_0x248c2e);}}class _0x4f3fcf{[_0x440fb7(0x6be)]=new Map();['scheduleTime']=0x0;[_0x440fb7(0x426)]=0x0;[_0x440fb7(0x47c)]=new Map();[_0x440fb7(0x3f3)]=new Map();['keyValueDatabases']=new Map();[_0x440fb7(0x6c5)]=new Map();[_0x440fb7(0x52d)]=new Map();[_0x440fb7(0x462)]=new Map();[_0x440fb7(0x68d)]=new Map();['systemMessages']=new Map();['systemTopic'];['getReport'](){const _0x2d1a50=_0x440fb7,_0x3c75b3={};this[_0x2d1a50(0x6be)][_0x2d1a50(0x613)]((_0xfb0d33,_0x599de4)=>{const _0x1524b1=_0x2d1a50;_0x3c75b3[_0x599de4]=_0xfb0d33[_0x1524b1(0x4eb)]();});let _0x201deb=0x0;this['senderTimeProcessing']['forEach'](_0x4eb8fd=>{_0x201deb+=_0x4eb8fd;});let _0x474164=0x0;this[_0x2d1a50(0x68d)][_0x2d1a50(0x613)](_0x3666fb=>{_0x474164+=_0x3666fb;});const _0x560cb9=_0x201deb+_0x474164;let _0x2b48ec={'messages':{'total':0x0}};this[_0x2d1a50(0x677)]['forEach'](_0x23ade0=>{const _0x5a8684=_0x2d1a50;Object[_0x5a8684(0x63a)](_0x23ade0)['forEach'](_0x4c7a61=>{const _0x4658ea=_0x5a8684;_0x2b48ec[_0x4c7a61]||(_0x2b48ec[_0x4c7a61]={}),Object[_0x4658ea(0x63a)](_0x23ade0[_0x4c7a61])[_0x4658ea(0x613)](_0x1efc02=>{_0x2b48ec[_0x4c7a61][_0x1efc02]||(_0x2b48ec[_0x4c7a61][_0x1efc02]=0x0),_0x2b48ec[_0x4c7a61][_0x1efc02]+=_0x23ade0[_0x4c7a61][_0x1efc02];});});});let _0xf083ef=0x0,_0x14db36=0x0,_0x52f87f=0x0,_0x330f03=0x0,_0x34e9fe=0x0;return this[_0x2d1a50(0x47c)]['forEach'](_0x848549=>{const _0x25aed7=_0x2d1a50;_0x14db36+=_0x848549[_0x25aed7(0x54e)],_0x52f87f+=_0x848549['messagesReceived'],_0x330f03+=_0x848549[_0x25aed7(0x23f)],_0x34e9fe+=_0x848549['bytesReceived'];}),this[_0x2d1a50(0x3f3)][_0x2d1a50(0x613)](_0x2dd7cc=>{const _0x1c0531=_0x2d1a50;_0xf083ef+=_0x2dd7cc[_0x1c0531(0x347)],_0x14db36+=_0x2dd7cc[_0x1c0531(0x54e)],_0x52f87f+=_0x2dd7cc[_0x1c0531(0x771)],_0x330f03+=_0x2dd7cc['bytesSent'],_0x34e9fe+=_0x2dd7cc['bytesReceived'];}),this[_0x2d1a50(0x245)][_0x2d1a50(0x613)](_0x266d19=>{const _0x27307c=_0x2d1a50;_0xf083ef+=_0x266d19[_0x27307c(0x347)],_0x14db36+=_0x266d19[_0x27307c(0x54e)],_0x52f87f+=_0x266d19[_0x27307c(0x771)],_0x330f03+=_0x266d19[_0x27307c(0x23f)],_0x34e9fe+=_0x266d19[_0x27307c(0x1e2)];}),{'STVolatility':this[_0x2d1a50(0x4e1)](),'DTVolatility':this[_0x2d1a50(0x4ba)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x2d1a50(0x512)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0xf083ef,'totalMessages':_0x14db36+_0x52f87f,'totalMessagesSent':_0x14db36,'totalMessagesReceived':_0x52f87f,'totalBytes':_0x330f03+_0x34e9fe,'totalBytesSent':_0x330f03,'totalBytesReceived':_0x34e9fe,'systemMessages':_0x2b48ec,'timeProcessing':_0x560cb9,'users':_0x3c75b3,'pubsubTopics':Object[_0x2d1a50(0x27a)](this[_0x2d1a50(0x47c)]),'objectStores':Object[_0x2d1a50(0x27a)](this['objectStores']),'keyValueDatabases':Object[_0x2d1a50(0x27a)](this[_0x2d1a50(0x245)])};}[_0x440fb7(0x2f2)](_0x3a0335){const _0x2a9476=_0x440fb7;this[_0x2a9476(0x6be)][_0x2a9476(0x442)](_0x3a0335,new _0x3e0a97());}[_0x440fb7(0x52a)](_0x26e43d){const _0x4cd08b=_0x440fb7;this['users'][_0x4cd08b(0x528)](_0x26e43d);}[_0x440fb7(0x33e)](_0x247801,_0x2218c2,_0x4d982e){const _0x25b0ba=_0x440fb7;_0x2218c2 instanceof Array||this[_0x25b0ba(0x644)](_0x247801,_0x2218c2);const _0x2005f4=this['users']['get'](_0x247801)?.[_0x25b0ba(0x33e)](_0x2218c2,_0x4d982e);_0x2005f4&&this[_0x25b0ba(0x464)][_0x25b0ba(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x25b0ba(0x725)],'content':{'type':_0x3c42c2[_0x25b0ba(0x594)],'data':{..._0x2005f4,'userId':_0x247801}}});}[_0x440fb7(0x58e)](_0x578b1f){const _0x3a3c35=_0x440fb7;this[_0x3a3c35(0x292)](_0x578b1f[_0x3a3c35(0x46a)]),this['setDurationTime'](_0x578b1f[_0x3a3c35(0x426)]),this[_0x3a3c35(0x464)][_0x3a3c35(0x764)]({'sourceId':_0x513fd0,'messageType':_0x5a2832[_0x3a3c35(0x725)],'content':{'type':_0x3c42c2[_0x3a3c35(0x3ed)],'data':{'STVolatility':this[_0x3a3c35(0x4e1)](),'DTVolatility':this[_0x3a3c35(0x4ba)]()}}});}[_0x440fb7(0x30f)](_0x533e15,_0x195257,_0x1e0dd1){const _0x3cbbe0=_0x440fb7;switch(_0x195257){case _0x1ee405[_0x3cbbe0(0x56e)]:this[_0x3cbbe0(0x47c)][_0x3cbbe0(0x442)](_0x533e15,_0x1e0dd1);break;case _0x1ee405[_0x3cbbe0(0x2ed)]:this['objectStores'][_0x3cbbe0(0x442)](_0x533e15,_0x1e0dd1);break;case _0x1ee405['KeyValueDatabaseStats']:this[_0x3cbbe0(0x245)]['set'](_0x533e15,_0x1e0dd1);}}['registerSystemPublisher'](_0x526400){const _0xa05a73=_0x440fb7;this[_0xa05a73(0x464)]=_0x526400;}['unregisterSystemPublisher'](){const _0xfc17e5=_0x440fb7;delete this[_0xfc17e5(0x464)];}[_0x440fb7(0x4e1)](){const _0x57eac6=_0x440fb7;return this[_0x57eac6(0x43c)]>0x0&&this[_0x57eac6(0x43c)]-_0x3745b3>0x0?(this[_0x57eac6(0x43c)]-_0x3745b3)/_0x3745b3:0x0;}[_0x440fb7(0x4ba)](){const _0x7cec7d=_0x440fb7;return this[_0x7cec7d(0x426)]>0x0&&this[_0x7cec7d(0x426)]-0x64>0x0?(this[_0x7cec7d(0x426)]-0x64)/0x64:0x0;}[_0x440fb7(0x512)](){const _0x1dde97=_0x440fb7;let _0x292625=0x0;return this[_0x1dde97(0x6be)]['forEach'](_0x16225f=>{const _0x2210b6=_0x1dde97;_0x292625+=_0x16225f[_0x2210b6(0x4d1)];}),_0x292625;}[_0x440fb7(0x639)](){const _0x4dc4e1=_0x440fb7;let _0x4b6371=0x0;return this[_0x4dc4e1(0x6be)]['forEach'](_0xa5cb=>{const _0x5c5391=_0x4dc4e1;_0x4b6371+=_0xa5cb[_0x5c5391(0x1ea)];}),_0x4b6371;}[_0x440fb7(0x4b4)](){const _0xfbd590=_0x440fb7;let _0x5ed183=0x0;return this[_0xfbd590(0x6be)][_0xfbd590(0x613)](_0x3e783b=>{const _0x421af9=_0xfbd590;_0x5ed183+=_0x3e783b[_0x421af9(0x733)];}),_0x5ed183;}[_0x440fb7(0x292)](_0x504aa2){this['scheduleTime']=_0x504aa2;}[_0x440fb7(0x303)](_0x141c50){this['durationTime']=_0x141c50;}['processDataChannelReport'](_0x2a297c,_0x3640fb){const _0x2cfc84=_0x440fb7;switch(_0x3640fb[_0x2cfc84(0x2ef)]){case _0x98444c[_0x2cfc84(0x707)]:this[_0x2cfc84(0x513)](_0x2a297c,_0x3640fb);break;case _0x98444c[_0x2cfc84(0x41f)]:this[_0x2cfc84(0x27d)](_0x2a297c,_0x3640fb);}}['processSenderReport'](_0x2bc976,_0x47af6c){const _0x225d52=_0x440fb7;this[_0x225d52(0x6c5)][_0x225d52(0x442)](_0x2bc976,_0x47af6c[_0x225d52(0x54e)]),this[_0x225d52(0x462)]['set'](_0x2bc976,_0x47af6c['timeSending']);}[_0x440fb7(0x27d)](_0x12a8d8,_0x35970b){const _0x1c1172=_0x440fb7;this[_0x1c1172(0x52d)][_0x1c1172(0x442)](_0x12a8d8,_0x35970b['messagesReceived']),this[_0x1c1172(0x68d)][_0x1c1172(0x442)](_0x12a8d8,_0x35970b[_0x1c1172(0x43b)]),this['systemMessages']['set'](_0x12a8d8,_0x35970b[_0x1c1172(0x677)]);}}class _0xd215ff{[_0x440fb7(0x339)];[_0x440fb7(0x557)]=new Set();[_0x440fb7(0x5fc)];[_0x440fb7(0x6f5)];[_0x440fb7(0x236)];[_0x440fb7(0x30e)]=new _0x4f3fcf();constructor(_0x33ebf6){const _0x45cc5a=_0x440fb7;this[_0x45cc5a(0x339)]=_0x33ebf6,this[_0x45cc5a(0x339)]['mediator'][_0x45cc5a(0x2d7)](this[_0x45cc5a(0x30e)]),this[_0x45cc5a(0x6f5)]=this['setupStatsCollection'](),this['statsReporting']=this['setupStatsReporting']();}['close'](){const _0x49c006=_0x440fb7;this[_0x49c006(0x339)][_0x49c006(0x57a)][_0x49c006(0x20c)](this['statsReport']),this[_0x49c006(0x236)](),this[_0x49c006(0x6f5)]();}[_0x440fb7(0x2f2)](_0x3ea931){const _0x51816d=_0x440fb7;this[_0x51816d(0x557)][_0x51816d(0x457)](_0x3ea931),this[_0x51816d(0x30e)][_0x51816d(0x2f2)](_0x3ea931);}['removeRemoteUser'](_0x150612){const _0x2c4891=_0x440fb7;this[_0x2c4891(0x557)]['delete'](_0x150612),this[_0x2c4891(0x30e)][_0x2c4891(0x52a)](_0x150612);}['handleWebRTCSystemEvents'](_0x1420a5){const _0x8d5963=_0x440fb7;if(_0x1420a5[_0x8d5963(0x6bd)][_0x8d5963(0x637)]===_0x244554[_0x8d5963(0x725)]){const {userId:_0x24b610,streamId:_0x11377f,stats:_0x413014}=_0x1420a5[_0x8d5963(0x6bd)];this['statsReport'][_0x8d5963(0x33e)](_0x24b610,_0x413014,_0x11377f);}}[_0x440fb7(0x1f8)](_0x4b9aae){const _0xaffdaa=_0x440fb7;switch(_0x4b9aae[_0xaffdaa(0x6bd)][_0xaffdaa(0x637)]){case _0x1ee405[_0xaffdaa(0x2ed)]:case _0x1ee405[_0xaffdaa(0x6a2)]:case _0x1ee405[_0xaffdaa(0x56e)]:this['statsReport'][_0xaffdaa(0x30f)](_0x4b9aae[_0xaffdaa(0x6bd)][_0xaffdaa(0x474)],_0x4b9aae[_0xaffdaa(0x6bd)]['type'],_0x4b9aae[_0xaffdaa(0x6bd)][_0xaffdaa(0x2c1)]);}}['setupStatsReporting'](){const _0xf235e7=_0x440fb7;return _0x4a8cb3[_0xf235e7(0x4e7)](()=>{const _0x4f1d18=_0xf235e7,_0x1d2d7a=this[_0x4f1d18(0x30e)][_0x4f1d18(0x4eb)]();_0x571f6a[_0x4f1d18(0x657)](_0x233447['Stats'],_0x4f1d18(0x6b4),_0x1d2d7a),(0x0,_0x299849[_0x4f1d18(0x4a4)])((0x0,_0x299849[_0x4f1d18(0x44e)])(_0x4055d0[_0x4f1d18(0x660)](),'developers/'+this[_0x4f1d18(0x339)][_0x4f1d18(0x752)]+_0x4f1d18(0x425)),{'clusterId':this[_0x4f1d18(0x339)][_0x4f1d18(0x6bf)],'userId':this['configs'][_0x4f1d18(0x6a3)],'timestamp':(0x0,_0x299849[_0x4f1d18(0x67b)])(),'report':_0x1d2d7a}),_0x571f6a[_0x4f1d18(0x4e2)](_0x4f1d18(0x2c1),{'clusterId':this[_0x4f1d18(0x339)][_0x4f1d18(0x6bf)],'userId':this[_0x4f1d18(0x339)][_0x4f1d18(0x6a3)],'data':{'report':_0x1d2d7a}});},_0x102686);}[_0x440fb7(0x75b)](){const _0x46f2e8=_0x440fb7;let _0x19db6=!0x1,_0x202047=Date[_0x46f2e8(0x635)]();return _0x4a8cb3[_0x46f2e8(0x4e7)](async()=>{const _0x36b0c1=_0x46f2e8;if(_0x19db6)return;if(_0x19db6=!0x0,0x0===this['remoteUsers'][_0x36b0c1(0x264)])return delete this['nextUserId'],void(_0x19db6=!0x1);const _0x2feeb8=Date['now']();this[_0x36b0c1(0x465)]();try{await this[_0x36b0c1(0x339)][_0x36b0c1(0x57a)][_0x36b0c1(0x3e9)](this[_0x36b0c1(0x5fc)]);}catch(_0x30dedb){}this['statsReport'][_0x36b0c1(0x58e)]({'secheduleTime':_0x2feeb8-_0x202047,'durationTime':Date['now']()-_0x2feeb8}),_0x202047=_0x2feeb8,_0x19db6=!0x1;},_0x3745b3);}[_0x440fb7(0x465)](){const _0x5d0959=_0x440fb7;let _0xe0bad,_0x1f3a21=!0x1;this['nextUserId']&&(this[_0x5d0959(0x557)][_0x5d0959(0x4f5)](this[_0x5d0959(0x5fc)])||delete this[_0x5d0959(0x5fc)]);for(const _0x535071 of this['remoteUsers'])if(_0xe0bad||(_0xe0bad=_0x535071),this[_0x5d0959(0x5fc)]!==_0x535071){if(_0x1f3a21)return void(this['nextUserId']=_0x535071);}else _0x1f3a21=!0x0,delete this[_0x5d0959(0x5fc)];this[_0x5d0959(0x5fc)]||(this[_0x5d0959(0x5fc)]=_0xe0bad);}}class _0x390b38{[_0x440fb7(0x6d4)];[_0x440fb7(0x68c)];['systemTopic'];constructor(_0x227ff2,_0xcaa97b){const _0x4277bf=_0x440fb7;this[_0x4277bf(0x6d4)]=_0x227ff2,this[_0x4277bf(0x68c)]=_0xcaa97b;}[_0x440fb7(0x5c1)](_0x543c9d){this['systemTopic']=_0x543c9d;}[_0x440fb7(0x74f)](){const _0x34183d=_0x440fb7;delete this[_0x34183d(0x464)];}}class _0x5ca327 extends _0x390b38{[_0x440fb7(0x6d4)];['destination'];[_0x440fb7(0x71f)];constructor(_0x3d9e4f,_0x551e28,_0x5cef39){const _0x2a67ef=_0x440fb7;super(_0x3d9e4f,_0x551e28),this['source']=_0x3d9e4f,this[_0x2a67ef(0x68c)]=_0x551e28,this[_0x2a67ef(0x71f)]=_0x5cef39;}[_0x440fb7(0x3af)](_0x4ac2db,_0xe680c0,_0x37152a){const _0x1952ac=_0x440fb7;if(this[_0x1952ac(0x68c)][_0x1952ac(0x2c9)]()===_0x14ca27[_0x1952ac(0x3d1)]){const _0x53c018={'type':_0x6413dc[_0x1952ac(0x40a)],'label':this[_0x1952ac(0x68c)]['getLabel'](),'ownerId':_0x4ac2db,'trackKinds':_0xe680c0??this[_0x1952ac(0x68c)][_0x1952ac(0x3ac)](),'params':_0x37152a};this[_0x1952ac(0x464)][_0x1952ac(0x764)]({'sourceId':this['source'][_0x1952ac(0x3df)](),'destinationIds':[this[_0x1952ac(0x6d4)]['getRemoteId']()],'messageType':_0x5a2832[_0x1952ac(0x580)],'content':_0x53c018}),this[_0x1952ac(0x71f)]=_0x37152a;}}[_0x440fb7(0x30b)](_0x53b220,_0x3f315c){const _0xeb0ccc=_0x440fb7;if(this[_0xeb0ccc(0x68c)][_0xeb0ccc(0x2c9)]()===_0x14ca27[_0xeb0ccc(0x3d1)]){const _0x242b01={'type':_0x6413dc['UpdateMediaStream'],'label':this[_0xeb0ccc(0x68c)][_0xeb0ccc(0x254)](),'ownerId':_0x53b220,'params':_0x3f315c};this[_0xeb0ccc(0x464)][_0xeb0ccc(0x764)]({'sourceId':this['source']['getLocalId'](),'destinationIds':[this[_0xeb0ccc(0x6d4)][_0xeb0ccc(0x206)]()],'messageType':_0x5a2832['Subscription'],'content':_0x242b01}),this['params']=_0x3f315c;}}[_0x440fb7(0x6b6)](_0x348099,_0x2d87b2,_0x39d69d){const _0x33a046=_0x440fb7;if(this[_0x33a046(0x68c)][_0x33a046(0x2c9)]()===_0x14ca27[_0x33a046(0x3d1)]){const _0x17cec5={'type':_0x6413dc[_0x33a046(0x714)],'label':this[_0x33a046(0x68c)][_0x33a046(0x254)](),'ownerId':_0x348099,'trackKinds':_0x39d69d??this[_0x33a046(0x68c)][_0x33a046(0x3ac)](),'remainingTracks':_0x2d87b2};this['systemTopic'][_0x33a046(0x764)]({'sourceId':this['source'][_0x33a046(0x3df)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x5a2832[_0x33a046(0x580)],'content':_0x17cec5});}}}class _0x10f1c1{['currentDistance'];['maxDistance'];[_0x440fb7(0x6ee)];['systemTopic'];[_0x440fb7(0x622)]=new Set();[_0x440fb7(0x31c)]=Date[_0x440fb7(0x635)]();['params'];['retryCount']=0x0;constructor(_0x26e523,_0x5dd2c3,_0x294366,_0x1182b3){const _0xbd62b3=_0x440fb7;this[_0xbd62b3(0x20e)]=_0x5dd2c3,this[_0xbd62b3(0x4c7)]=_0x294366,this[_0xbd62b3(0x6ee)]=_0x1182b3,_0x26e523[_0xbd62b3(0x613)](_0x55e683=>{const _0x139e60=_0xbd62b3;this[_0x139e60(0x622)][_0x139e60(0x457)]({'userId':_0x55e683,'type':_0x3fc3e5[_0x139e60(0x4a5)]});});}[_0x440fb7(0x52f)](){const _0x58344d=_0x440fb7;return this[_0x58344d(0x6ee)];}[_0x440fb7(0x5c1)](_0x419e1a){this['systemTopic']=_0x419e1a;}[_0x440fb7(0x74f)](){delete this['systemTopic'];}['reset'](_0x47d699,_0x871760){const _0x2cffbf=_0x440fb7;this['startTime']=Date[_0x2cffbf(0x635)](),this['answers'][_0x2cffbf(0x5ad)](),_0x47d699[_0x2cffbf(0x613)](_0x3895e3=>{const _0x14f9e4=_0x2cffbf;this['answers'][_0x14f9e4(0x457)]({'userId':_0x3895e3,'type':_0x3fc3e5[_0x14f9e4(0x4a5)]});}),this[_0x2cffbf(0x6eb)]+=0x1,this[_0x2cffbf(0x20e)]=_0x871760;}['sendRequest'](_0x4728ba,_0x1e1649,_0x2ac6aa,_0x17b24d,_0x5b7927){const _0x14c2e1=_0x440fb7;if(this[_0x14c2e1(0x6eb)]>0xa)throw new _0x717bed(_0x717bed[_0x14c2e1(0x6dc)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x14c2e1(0x70f)](this[_0x14c2e1(0x622)])['map'](_0x13650b=>({'userId':_0x13650b['userId'],'type':_0x13650b[_0x14c2e1(0x637)]}))});const _0x32a7be=Array['from'](this[_0x14c2e1(0x622)])[_0x14c2e1(0x5e8)](_0x5dfe9a=>_0x5dfe9a[_0x14c2e1(0x2b4)]);this[_0x14c2e1(0x71f)]=_0x5b7927,this['systemTopic']['publish']({'sourceId':_0x4728ba,'destinationIds':_0x32a7be,'messageType':_0x5a2832[_0x14c2e1(0x580)],'content':{'type':_0x6413dc[_0x14c2e1(0x402)],'label':_0x2ac6aa,'ownerId':_0x1e1649,'trackKinds':_0x17b24d,'params':_0x5b7927}}),_0x571f6a[_0x14c2e1(0x657)](_0x233447['Subscription'],'Send\x20request',_0x4728ba,_0x32a7be);}[_0x440fb7(0x641)](_0x24652d,_0x4390d1){const _0x2c5a51=_0x440fb7;switch(_0x4390d1[_0x2c5a51(0x637)]){case _0x6413dc[_0x2c5a51(0x751)]:{const _0x45c5cd=this[_0x2c5a51(0x20e)]>=_0x4390d1[_0x2c5a51(0x69b)]&&_0x4390d1['distance']<=this[_0x2c5a51(0x4c7)],_0x63167c=Array[_0x2c5a51(0x70f)](this[_0x2c5a51(0x622)])[_0x2c5a51(0x5a9)](_0x15c297=>_0x15c297['userId']===_0x24652d);_0x63167c[_0x2c5a51(0x637)]=_0x45c5cd?_0x3fc3e5['Accepted']:_0x3fc3e5[_0x2c5a51(0x4f3)],_0x63167c[_0x2c5a51(0x212)]=_0x4390d1[_0x2c5a51(0x212)],_0x63167c['distance']=_0x4390d1[_0x2c5a51(0x69b)],_0x63167c[_0x2c5a51(0x4cb)]=_0x4390d1[_0x2c5a51(0x4cb)],_0x63167c['roundTripTime']=Date[_0x2c5a51(0x635)]()-this[_0x2c5a51(0x31c)],_0x63167c[_0x2c5a51(0x71f)]=this[_0x2c5a51(0x71f)],_0x63167c[_0x2c5a51(0x718)]=_0x4390d1[_0x2c5a51(0x718)],_0x63167c[_0x2c5a51(0x4ee)]=_0x4390d1[_0x2c5a51(0x4ee)],_0x63167c['streamLabel']=_0x4390d1[_0x2c5a51(0x474)],_0x571f6a[_0x2c5a51(0x657)](_0x233447[_0x2c5a51(0x580)],(_0x45c5cd?'Accepted':_0x2c5a51(0x4f3))+_0x2c5a51(0x5c9),_0x63167c);break;}case _0x6413dc[_0x2c5a51(0x2d3)]:{const _0xfb5a4e=Array[_0x2c5a51(0x70f)](this['answers'])[_0x2c5a51(0x5a9)](_0x5d2c0b=>_0x5d2c0b[_0x2c5a51(0x2b4)]===_0x24652d);_0xfb5a4e['type']=_0x3fc3e5['Rejected'],_0x571f6a['log'](_0x233447[_0x2c5a51(0x580)],_0x2c5a51(0x654),_0xfb5a4e);break;}}if(this['canChooseAnswer']())return this[_0x2c5a51(0x530)]();}[_0x440fb7(0x530)](){const _0x453b2e=_0x440fb7,_0x24f05f=Array[_0x453b2e(0x70f)](this[_0x453b2e(0x622)])[_0x453b2e(0x5ae)](_0x4e224c=>_0x4e224c['type']===_0x3fc3e5[_0x453b2e(0x63b)])[_0x453b2e(0x45d)]((_0x14589f,_0x4b3aeb)=>_0x14589f[_0x453b2e(0x212)]===_0x4b3aeb[_0x453b2e(0x212)]?_0x14589f[_0x453b2e(0x608)]-_0x4b3aeb[_0x453b2e(0x608)]:_0x14589f[_0x453b2e(0x212)]-_0x4b3aeb[_0x453b2e(0x212)]);if(0x0===_0x24f05f[_0x453b2e(0x382)])throw new _0x717bed(_0x717bed[_0x453b2e(0x6dc)][_0x453b2e(0x3e0)],{'answers':Array[_0x453b2e(0x70f)](this[_0x453b2e(0x622)])[_0x453b2e(0x5e8)](_0x3bc9bf=>({'userId':_0x3bc9bf['userId'],'type':_0x3bc9bf[_0x453b2e(0x637)]}))});return _0x571f6a[_0x453b2e(0x657)](_0x233447[_0x453b2e(0x580)],'Chosen\x20answer',_0x24f05f[0x0],this[_0x453b2e(0x622)]),_0x24f05f[0x0];}['canChooseAnswer'](){const _0x247419=_0x440fb7;for(const _0x2e1695 of this[_0x247419(0x622)])if(_0x2e1695[_0x247419(0x637)]===_0x3fc3e5[_0x247419(0x4a5)])return!0x1;return!0x0;}}class _0x3b0fcd{['label'];[_0x440fb7(0x6fb)];[_0x440fb7(0x4fe)]=_0x548ac7();constructor(_0xe5365b,_0x3fe69c){const _0x3a301c=_0x440fb7;this[_0x3a301c(0x474)]=_0xe5365b,this[_0x3a301c(0x6fb)]=_0x3fe69c;}[_0x440fb7(0x254)](){const _0x2b6de1=_0x440fb7;return this[_0x2b6de1(0x474)];}[_0x440fb7(0x2c9)](){const _0xf7ff96=_0x440fb7;return this[_0xf7ff96(0x6fb)];}[_0x440fb7(0x1fb)](_0x15717f){const _0x11fe0e=_0x440fb7;_0x15717f[_0x11fe0e(0x331)](this);}[_0x440fb7(0x316)](_0x53d1cb){const _0x138187=_0x440fb7;_0x53d1cb[_0x138187(0x4f4)](this);}[_0x440fb7(0x764)](_0x2f8943){const _0x29bb9c=_0x440fb7;this[_0x29bb9c(0x4fe)][_0x29bb9c(0x764)]({'topicLabel':this[_0x29bb9c(0x474)],'contentType':this['contentType'],'uuid':(0x0,_0x298a8a['v4'])(),'recipients':[],..._0x2f8943});}[_0x440fb7(0x3af)](_0x1892bb){const _0x473f27=_0x440fb7;return this['listener'][_0x473f27(0x3af)](_0x1892bb);}[_0x440fb7(0x749)](_0xa7efae){_0xa7efae['unregisterPublisher'](this);}[_0x440fb7(0x517)](_0x31c797){const _0x1d21ef=_0x440fb7;_0x31c797[_0x1d21ef(0x45c)](this);}}class _0x43253a{[_0x440fb7(0x2c3)]={'topics':new Map(),'subscriptions':new Map()};['getPartsFromSubscription'];constructor(_0x2e6eae){this['getPartsFromSubscription']=_0x2e6eae;}get['subscriptions'](){const _0xa5c340=_0x440fb7;return this[_0xa5c340(0x2c3)][_0xa5c340(0x408)];}get[_0x440fb7(0x70e)](){const _0x4bf121=_0x440fb7;return this['maps'][_0x4bf121(0x70e)];}[_0x440fb7(0x370)](_0x2dd946,_0x2992f1){const _0x2b0133=_0x440fb7,_0x465ab5=this['getPartsFromSubscription'](_0x2992f1),_0x5d4386=_0x37d75a(_0x2dd946);if(!_0x465ab5['supportsContentType'])throw new _0x717bed(_0x717bed[_0x2b0133(0x6dc)]['InvalidSubscription'],{'message':_0x5d4386+':\x20'+_0x465ab5[_0x2b0133(0x31e)]+_0x2b0133(0x3fa)+_0x465ab5[_0x2b0133(0x6fb)],'subscriptionType':_0x2dd946,'subscription':_0x2992f1,'subscriptonParts':_0x465ab5});const _0x5451b9=_0x20f3fb(_0x2dd946,_0x465ab5);if(this[_0x2b0133(0x2c3)][_0x2b0133(0x408)][_0x2b0133(0x4f5)](_0x5451b9))throw new _0x717bed(_0x717bed['codes'][_0x2b0133(0x36d)],{'message':_0x5d4386+':\x20'+_0x5451b9+_0x2b0133(0x536),'subscriptionType':_0x2dd946,'subscription':_0x2992f1,'subscriptonParts':_0x465ab5});this[_0x2b0133(0x2c3)][_0x2b0133(0x408)]['set'](_0x5451b9,_0x2992f1),this[_0x2b0133(0x291)](_0x465ab5,_0x2992f1);}['removeSubscription'](_0x542fdd,_0x50d63d){const _0x358ae7=_0x440fb7,_0xfadde6=_0x20f3fb(_0x50d63d,_0x542fdd),_0x4ba533=this[_0x358ae7(0x2c3)][_0x358ae7(0x408)]['get'](_0xfadde6);if(!_0x4ba533)throw new _0x717bed(_0x717bed[_0x358ae7(0x6dc)][_0x358ae7(0x36d)],{'message':_0x37d75a(_0x50d63d)+':\x20'+_0xfadde6+_0x358ae7(0x721),'subscriptionType':_0x50d63d,'subscription':_0x4ba533,'subscriptonParts':_0x542fdd});this[_0x358ae7(0x4a3)](_0x4ba533,_0xfadde6,_0x542fdd);}[_0x440fb7(0x4a3)](_0x17a725,_0x38b404,_0x5b6ba6){const _0x3f4e70=_0x440fb7;_0x5b6ba6=_0x5b6ba6||this['getPartsFromSubscription'](_0x17a725),this[_0x3f4e70(0x2c3)][_0x3f4e70(0x408)][_0x3f4e70(0x528)](_0x38b404),this['removeTopic'](_0x5b6ba6,_0x17a725);}[_0x440fb7(0x291)](_0x1d9d56,{source:_0x239083,destination:_0x3ef72b}){const _0x24f33a=_0x440fb7,{contentType:_0x2f6bd5,label:_0xf59baa,remoteId:_0x40dad2}=_0x1d9d56,_0x2a3c5f=_0x4670fa(_0x2f6bd5,_0xf59baa,_0x40dad2),_0x13b7be=new _0x3b0fcd(_0x2a3c5f,_0x2f6bd5);_0x13b7be[_0x24f33a(0x1fb)](_0x239083),_0x13b7be[_0x24f33a(0x316)](_0x3ef72b),this[_0x24f33a(0x2c3)][_0x24f33a(0x70e)][_0x24f33a(0x442)](_0x13b7be[_0x24f33a(0x254)](),_0x13b7be);}[_0x440fb7(0x43d)](_0x5494af,_0x470ee6){const _0x23fce5=_0x440fb7,{contentType:_0x389422,label:_0x37682c,remoteId:_0x422a4b}=_0x5494af,_0x3f10cd=_0x4670fa(_0x389422,_0x37682c,_0x422a4b),_0x117192=this[_0x23fce5(0x2c3)][_0x23fce5(0x70e)][_0x23fce5(0x39a)](_0x3f10cd);_0x117192&&(this[_0x23fce5(0x6f0)](_0x117192,_0x470ee6),this['maps'][_0x23fce5(0x70e)]['delete'](_0x3f10cd));}['closeTopic'](_0x553be2,{source:_0x467618,destination:_0x522aa7}){const _0x59be8d=_0x440fb7;_0x553be2[_0x59be8d(0x749)](_0x467618),_0x553be2[_0x59be8d(0x517)](_0x522aa7);}[_0x440fb7(0x1e8)](_0x244400){const _0x4c2a2a=_0x440fb7;this[_0x4c2a2a(0x2c3)]['subscriptions'][_0x4c2a2a(0x613)]((_0x582b57,_0x4ae1d6)=>{const _0x5acc6a=_0x4c2a2a;_0x4ae1d6[_0x5acc6a(0x6a8)](_0x244400)&&this[_0x5acc6a(0x4a3)](_0x582b57,_0x4ae1d6);});}}class _0x1b02d1{[_0x440fb7(0x339)];['maxDistance'];[_0x440fb7(0x5f1)]=new Map();[_0x440fb7(0x2e7)]=_0x2137d6(new _0x3189e7(this[_0x440fb7(0x4db)][_0x440fb7(0x346)](this),()=>_0x4a8cb3['wait'](0x64)),!0x0);[_0x440fb7(0x578)]=new Map();[_0x440fb7(0x2c3)];[_0x440fb7(0x282)]=new Map();constructor(_0x49fa3e,_0x569df6){const _0x133e3=_0x440fb7;this['configs']=_0x49fa3e,this[_0x133e3(0x4c7)]=_0x569df6,this['maps']=new _0x43253a(({source:_0x388050,destination:_0x3c9c68})=>_0x478eba(_0x3c9c68,_0x388050));}[_0x440fb7(0x370)](_0x37fd1a,_0x4d43ff){const _0x476604=_0x440fb7,_0x138689=this[_0x476604(0x1e7)](_0x37fd1a)&&this['isMediaDestination'](_0x4d43ff)?new _0x5ca327(_0x37fd1a,_0x4d43ff):new _0x390b38(_0x37fd1a,_0x4d43ff);this[_0x476604(0x2c3)]['createSubscription'](_0x37868d[_0x476604(0x431)],_0x138689),this[_0x476604(0x339)][_0x476604(0x57a)]['registerSystemSource'](_0x138689);}[_0x440fb7(0x6d1)](_0x3c70dc,_0x3055b1,_0x1cbd7a=''){const _0x50636c=_0x440fb7,_0x358262={'contentType':_0x3055b1,'label':_0x3c70dc,'remoteId':_0x1cbd7a},_0x1946ad=_0x20f3fb(_0x37868d['Incoming'],_0x358262),_0x4e47ed=this['maps']['subscriptions']['get'](_0x1946ad);_0x4e47ed&&this[_0x50636c(0x4a3)](_0x4e47ed,_0x1946ad);}[_0x440fb7(0x597)](_0x4485f9){const _0x421f83=_0x440fb7;this[_0x421f83(0x424)](_0x4485f9);}['handleContentSubscribeMediaStream']({label:_0x211ee7,ownerId:_0x4d1d55,trackKinds:_0x32645f,params:_0x3dcf5a}){const _0x30aead=_0x440fb7;this[_0x30aead(0x770)](_0x211ee7,_0x4d1d55,_0x32645f,_0x3dcf5a);}[_0x440fb7(0x66c)]({ownerId:_0x2f5ff8,label:_0x303161,params:_0x1acbb1}){const _0x4a226a=_0x440fb7,{subscriptionLabel:_0xa8d6c5}=this['getSubscriptionLabel'](_0x303161,_0x2f5ff8),_0x288f05=this[_0x4a226a(0x6fc)](_0xa8d6c5);_0x288f05&&_0x288f05['update'](_0x2f5ff8,_0x1acbb1);}[_0x440fb7(0x2aa)]({ownerId:_0xb2bc0,label:_0x988781,trackKinds:_0x104477,remainingTracks:_0x43f38a}){const _0x3c74f2=_0x440fb7,_0x306013=_0x20f3fb(_0x37868d[_0x3c74f2(0x431)],{'contentType':_0x14ca27[_0x3c74f2(0x3d1)],'label':_0x988781,'remoteId':_0xb2bc0});this[_0x3c74f2(0x495)](_0x306013);const _0xb57745=this[_0x3c74f2(0x5f1)][_0x3c74f2(0x39a)](_0x306013);_0xb57745&&(this['configs']['mediator']['unregisterSystemSource'](_0xb57745),this[_0x3c74f2(0x5f1)][_0x3c74f2(0x528)](_0x306013));const {parts:_0x5dd7db,subscriptionLabel:_0x2e523e}=this[_0x3c74f2(0x33f)](_0x988781,_0xb2bc0),_0x16ca54=this[_0x3c74f2(0x6fc)](_0x2e523e);_0x16ca54&&(_0x16ca54[_0x3c74f2(0x6b6)](_0xb2bc0,_0x43f38a,_0x104477),0x0===_0x43f38a&&this['removeSubscription'](_0x5dd7db[_0x3c74f2(0x474)],_0x5dd7db[_0x3c74f2(0x6fb)],_0x5dd7db[_0x3c74f2(0x31e)]));}[_0x440fb7(0x287)](_0xf62d77,{label:_0x1c263d,ownerId:_0x4c74dc,trackKinds:_0x47d494,streamId:_0xc1001e,params:_0x5f2fdd}){const _0x5486cf=_0x440fb7,_0x490ee4=_0x20f3fb(_0x37868d[_0x5486cf(0x431)],{'contentType':_0x14ca27[_0x5486cf(0x3d1)],'label':_0xc1001e,'remoteId':_0xf62d77}),_0x46fcff=this['maps'][_0x5486cf(0x408)]['get'](_0x490ee4);if(!(_0x46fcff&&_0x46fcff instanceof _0x5ca327))throw new _0x717bed(_0x717bed[_0x5486cf(0x6dc)][_0x5486cf(0x3b2)],{'label':_0x490ee4,'ownerId':_0x4c74dc});this[_0x5486cf(0x4a3)](_0x46fcff,_0x490ee4),this['requestSubscription'](_0x1c263d,_0x4c74dc,_0x47d494,_0x5f2fdd);}[_0x440fb7(0x2b2)](_0x1ac5e1,_0xab2fbd){const _0x3e9e8f=_0x440fb7,{label:_0x36a112,ownerId:_0x163088,trackKinds:_0x10154d,params:_0x4bba7b}=_0xab2fbd,_0x3a0e8e=_0x20f3fb(_0x37868d[_0x3e9e8f(0x431)],{'contentType':_0x14ca27['Media'],'label':_0x36a112,'remoteId':_0x163088});if(!this[_0x3e9e8f(0x5f1)]['has'](_0x3a0e8e))throw new _0x717bed(_0x717bed[_0x3e9e8f(0x6dc)][_0x3e9e8f(0x3b2)],{'label':_0x3a0e8e,'ownerId':_0x163088,'streamId':_0xab2fbd[_0x3e9e8f(0x4cb)],'requests':this['subscriptionRequests']});const _0x582b74=this['subscriptionRequests'][_0x3e9e8f(0x39a)](_0x3a0e8e);if(_0x10154d[_0x3e9e8f(0x382)]===_0x582b74[_0x3e9e8f(0x52f)]()[_0x3e9e8f(0x382)]&&_0x10154d['every'](_0x2dff92=>_0x582b74['getTracks']()['includes'](_0x2dff92)))try{const _0x2df8cf=_0x582b74[_0x3e9e8f(0x641)](_0x1ac5e1,_0xab2fbd);if(!_0x2df8cf)return;this['subscribe'](_0x2df8cf,_0x163088,_0x36a112,_0x3a0e8e,_0x10154d);}catch(_0x41232a){return void this['handleNoAnswer'](_0x36a112,_0x163088,_0x10154d,_0x4bba7b);}}[_0x440fb7(0x243)](_0x43475f,{label:_0x3b5c9a,ownerId:_0x5520e6,trackKinds:_0x50ebfe}){const _0x686c63=_0x440fb7,_0x594cbb=this[_0x686c63(0x339)]['mediator']['getRemoteMediaStream'](_0x5520e6,_0x3b5c9a);if(!_0x594cbb)return;const _0x1cb2ac=_0x594cbb[_0x686c63(0x626)](),_0x3285db=_0x594cbb[_0x686c63(0x4a0)]();_0x3285db['some'](_0x4d5d7b=>_0x50ebfe[_0x686c63(0x63d)](_0x4d5d7b))&&this[_0x686c63(0x4ab)](_0x43475f,_0x3b5c9a,_0x1cb2ac,_0x5520e6,_0x3285db);}[_0x440fb7(0x2d8)]({label:_0x1ae072,providerId:_0x17b061,ownerId:_0x2de6c5,streamId:_0x59ea34,trackKinds:_0x6fef31}){const _0x308f0d=_0x440fb7;this[_0x308f0d(0x4ab)](_0x17b061,_0x1ae072,_0x59ea34,_0x2de6c5,_0x6fef31);}[_0x440fb7(0x26c)](_0x472508){const _0x14fe7f=_0x440fb7;for(const _0x1323bf of this[_0x14fe7f(0x282)]['values']()){const {streamLabel:_0x50511e,ownerId:_0x2c0d95,trackKinds:_0x59ea87,params:_0x52472f}=_0x1323bf;if(!_0x2c0d95||!_0x59ea87||!_0x50511e)return;this[_0x14fe7f(0x2e7)]['push']({'label':_0x50511e,'ownerId':_0x2c0d95,'trackKinds':_0x59ea87,'params':_0x52472f,'remoteId':_0x472508});}}[_0x440fb7(0x1e8)](_0x4336cc){const _0x336ebd=_0x440fb7;this[_0x336ebd(0x2c3)][_0x336ebd(0x408)][_0x336ebd(0x613)]((_0x3413d9,_0x51ca9b)=>{const _0x2de433=_0x336ebd;if(_0x51ca9b[_0x2de433(0x6a8)](_0x4336cc)){if(_0x3413d9['destination'][_0x2de433(0x2c9)]()===_0x14ca27['Media']){const _0xe65999=_0x3413d9['destination'];if(_0xe65999['getSubscribedTracks']()[_0x2de433(0x382)]>0x0){const _0x482f5a={'type':_0x6413dc[_0x2de433(0x736)],'label':_0xe65999['getLabel'](),'ownerId':_0xe65999[_0x2de433(0x417)](),'trackKinds':_0xe65999[_0x2de433(0x4a0)]()};return void this[_0x2de433(0x243)](_0x4336cc,_0x482f5a);}}this[_0x2de433(0x4a3)](_0x3413d9,_0x51ca9b);}});}[_0x440fb7(0x720)](){const _0x1883a1=_0x440fb7;this[_0x1883a1(0x2c3)]['subscriptions'][_0x1883a1(0x613)](this[_0x1883a1(0x4a3)]['bind'](this));}[_0x440fb7(0x3af)](_0x2db1ad,_0x532c79,_0x20ad94,_0x3bc655,_0x1970b3){const _0xe2a018=_0x440fb7,_0xfbaadb=this[_0xe2a018(0x339)][_0xe2a018(0x57a)][_0xe2a018(0x2e5)](_0x2db1ad[_0xe2a018(0x2b4)]),_0x2914e3=this[_0xe2a018(0x339)][_0xe2a018(0x57a)]['getRemoteMediaStream'](_0x532c79,_0x20ad94);this[_0xe2a018(0x495)](_0x3bc655),this[_0xe2a018(0x5f1)][_0xe2a018(0x4f5)](_0x3bc655)&&(this[_0xe2a018(0x339)][_0xe2a018(0x57a)][_0xe2a018(0x20c)](this['subscriptionRequests'][_0xe2a018(0x39a)](_0x3bc655)),this[_0xe2a018(0x5f1)]['delete'](_0x3bc655)),this['cleanOldSubscription'](_0x2db1ad,_0x532c79,_0x20ad94,_0x2914e3),_0x2914e3[_0xe2a018(0x2db)](_0x2db1ad[_0xe2a018(0x4cb)]),_0x2914e3[_0xe2a018(0x4f2)](_0x2db1ad[_0xe2a018(0x2b4)]);const _0x420809=_0x478eba(_0x2914e3,_0xfbaadb),_0x4c9341=_0x20f3fb(_0x37868d[_0xe2a018(0x431)],_0x420809);this[_0xe2a018(0x2c3)][_0xe2a018(0x408)][_0xe2a018(0x4f5)](_0x4c9341)||this[_0xe2a018(0x370)](_0xfbaadb,_0x2914e3);const _0x3501ca=this[_0xe2a018(0x2c3)][_0xe2a018(0x408)][_0xe2a018(0x39a)](_0x4c9341);if(!(_0x3501ca&&_0x3501ca instanceof _0x5ca327))throw new _0x717bed(_0x717bed['codes'][_0xe2a018(0x3b2)],{'label':_0x3bc655,'ownerId':_0x532c79});_0x571f6a['logEvent'](_0xe2a018(0x41c),{'clusterId':this[_0xe2a018(0x339)][_0xe2a018(0x6bf)],'userId':this[_0xe2a018(0x339)]['localId'],'data':{'subscriptionLabel':_0x4c9341,'chosenAnswer':_0x2db1ad}}),this['chosenAnswers'][_0xe2a018(0x442)](_0x4c9341,_0x2db1ad),_0x3501ca[_0xe2a018(0x3af)](_0x532c79,_0x1970b3,_0x2db1ad[_0xe2a018(0x71f)]);}[_0x440fb7(0x424)]({ownerId:_0x2f1085,label:_0x536e5d}){const _0x5bff0e=_0x440fb7,_0x5894fb=this[_0x5bff0e(0x339)][_0x5bff0e(0x57a)][_0x5bff0e(0x514)](_0x2f1085,_0x536e5d),[_0x5c5d3e,_0x5f0ae8]=Array[_0x5bff0e(0x70f)](this['maps'][_0x5bff0e(0x408)][_0x5bff0e(0x615)]())[_0x5bff0e(0x5a9)](([_0x456688,_0x1c1227])=>-0x1!==_0x456688['indexOf'](_0x5894fb[_0x5bff0e(0x626)]()));return this[_0x5bff0e(0x4a3)](_0x5f0ae8,_0x5c5d3e);}[_0x440fb7(0x4a3)](_0x23c74f,_0x19344f){const _0x57923b=_0x440fb7;this[_0x57923b(0x339)][_0x57923b(0x57a)][_0x57923b(0x20c)](_0x23c74f),this[_0x57923b(0x2c3)]['closeSubscription'](_0x23c74f,_0x19344f);}[_0x440fb7(0x1e7)](_0x5c90ff){const _0x194fd8=_0x440fb7;return _0x5c90ff[_0x194fd8(0x40f)]()[_0x194fd8(0x63d)](_0x14ca27['Media']);}[_0x440fb7(0x658)](_0x29302c){return _0x29302c['getContentType']()===_0x14ca27['Media'];}async[_0x440fb7(0x377)](_0x491db4,_0xbdf5df,_0x3ea3eb,_0x412e75){const _0x52b126=_0x440fb7;await _0x4a8cb3[_0x52b126(0x2d2)](0x3e8);const _0x1cb285=_0x20f3fb(_0x37868d[_0x52b126(0x431)],{'contentType':_0x14ca27[_0x52b126(0x3d1)],'label':_0x491db4,'remoteId':_0xbdf5df});this[_0x52b126(0x495)](_0x1cb285);const _0x293c8f=this[_0x52b126(0x5f1)][_0x52b126(0x39a)](_0x1cb285);if(!_0x293c8f)throw new _0x717bed(_0x717bed[_0x52b126(0x6dc)][_0x52b126(0x3b2)],{'label':_0x1cb285,'ownerId':_0xbdf5df});const _0x4bd32f=this[_0x52b126(0x339)][_0x52b126(0x57a)][_0x52b126(0x294)](_0x500e77=>_0x500e77[_0x52b126(0x3bf)]()),_0x36c16e=this[_0x52b126(0x339)][_0x52b126(0x57a)]['getDistance'](this[_0x52b126(0x339)][_0x52b126(0x6a3)],_0xbdf5df);_0x293c8f[_0x52b126(0x540)](_0x4bd32f['map'](_0x52001e=>_0x52001e[_0x52b126(0x206)]()),_0x36c16e);try{_0x293c8f['sendRequest'](this[_0x52b126(0x339)]['localId'],_0xbdf5df,_0x491db4,_0x3ea3eb,_0x412e75),this[_0x52b126(0x678)](_0x491db4,_0xbdf5df,_0x3ea3eb,_0x412e75,_0x1cb285,_0x293c8f);}catch(_0x29deda){this[_0x52b126(0x2e7)][_0x52b126(0x4e0)]({'label':_0x491db4,'ownerId':_0xbdf5df,'trackKinds':_0x3ea3eb,'params':_0x412e75});}}[_0x440fb7(0x770)](_0x1b6954,_0x10e6b8,_0x588bc6,_0x222e83){const _0x50b86f=_0x440fb7;this['subscriptionRequestsQueue'][_0x50b86f(0x4e0)]({'label':_0x1b6954,'ownerId':_0x10e6b8,'trackKinds':_0x588bc6,'params':_0x222e83});}['requestSubscriptionAction']({label:_0x1caf88,ownerId:_0x4b9804,trackKinds:_0x5ca76d,params:_0x5e5ef7,remoteId:_0x1b124b}){const _0x284a41=_0x440fb7;if(!this[_0x284a41(0x339)][_0x284a41(0x57a)][_0x284a41(0x514)](_0x4b9804,_0x1caf88))return;if(!this[_0x284a41(0x339)][_0x284a41(0x57a)][_0x284a41(0x438)]()[_0x284a41(0x70c)]())throw new Error(_0x284a41(0x55b));if(_0x1b124b){const _0x343be1=this[_0x284a41(0x339)]['mediator'][_0x284a41(0x398)]()[_0x284a41(0x5a9)](_0x189647=>_0x189647[_0x284a41(0x653)]()===_0x1b124b),_0x442ffb=_0x343be1?.[_0x284a41(0x70c)]();if(!_0x343be1||!_0x442ffb)throw new Error(_0x284a41(0x1d2));const _0x2347ea=this['configs'][_0x284a41(0x57a)]['getRemoteUsers']()[_0x284a41(0x5a9)](_0x6c33f3=>_0x6c33f3[_0x284a41(0x653)]()===_0x4b9804),_0x4bd19d=_0x2347ea?.[_0x284a41(0x70c)]();if(!_0x2347ea||!_0x4bd19d)throw new Error(_0x284a41(0x690));const _0x76bc83=this[_0x284a41(0x282)][_0x284a41(0x39a)](_0x1caf88);if(_0x76bc83){const _0x114f37=this[_0x284a41(0x339)][_0x284a41(0x57a)][_0x284a41(0x398)]()[_0x284a41(0x5a9)](_0x3fe0a6=>_0x3fe0a6['getId']()===_0x76bc83[_0x284a41(0x2b4)]),_0x29796a=_0x114f37?.[_0x284a41(0x70c)]();if(!_0x114f37||!_0x29796a)throw new Error(_0x284a41(0x713));if(Math['abs'](_0x29796a-_0x4bd19d)<Math[_0x284a41(0x323)](_0x442ffb-_0x4bd19d))return;}}const _0x9ef48a=this[_0x284a41(0x339)][_0x284a41(0x57a)][_0x284a41(0x294)](_0x172834=>_0x172834['isConnected']()&&(!_0x1b124b||_0x172834[_0x284a41(0x206)]()===_0x1b124b));if(!_0x9ef48a[_0x284a41(0x382)]||0x0===_0x9ef48a[_0x284a41(0x382)])throw new Error(_0x284a41(0x450));const _0x9edf4c=this[_0x284a41(0x339)]['mediator'][_0x284a41(0x2d9)](this['configs'][_0x284a41(0x6a3)],_0x4b9804),_0x49dc9a=_0x20f3fb(_0x37868d[_0x284a41(0x431)],{'contentType':_0x14ca27[_0x284a41(0x3d1)],'label':_0x1caf88,'remoteId':_0x4b9804});if(this['subscriptionRequests'][_0x284a41(0x4f5)](_0x49dc9a)){if(_0x1b124b)throw new Error(_0x284a41(0x66f));const _0x4203f4=this[_0x284a41(0x5f1)][_0x284a41(0x39a)](_0x49dc9a)[_0x284a41(0x52f)]();if(_0x4203f4[_0x284a41(0x382)]===_0x5ca76d[_0x284a41(0x382)]&&_0x4203f4[_0x284a41(0x2b5)](_0xf5928d=>_0x5ca76d[_0x284a41(0x63d)](_0xf5928d)))return;this[_0x284a41(0x339)][_0x284a41(0x57a)]['unregisterSystemSource'](this[_0x284a41(0x5f1)][_0x284a41(0x39a)](_0x49dc9a)),this[_0x284a41(0x5f1)]['delete'](_0x49dc9a),_0x5ca76d=Array[_0x284a41(0x70f)](new Set(_0x5ca76d[_0x284a41(0x298)](_0x4203f4))),this['clearSubscriptionRequestTimeout'](_0x49dc9a);}const _0x3e7f8d=new _0x10f1c1(_0x9ef48a[_0x284a41(0x5e8)](_0x2f585e=>_0x2f585e[_0x284a41(0x206)]()),_0x9edf4c,this[_0x284a41(0x4c7)],_0x5ca76d);this[_0x284a41(0x339)]['mediator'][_0x284a41(0x2d7)](_0x3e7f8d),this[_0x284a41(0x5f1)][_0x284a41(0x442)](_0x49dc9a,_0x3e7f8d),_0x3e7f8d[_0x284a41(0x760)](this['configs'][_0x284a41(0x6a3)],_0x4b9804,_0x1caf88,_0x5ca76d,_0x5e5ef7),this[_0x284a41(0x678)](_0x1caf88,_0x4b9804,_0x5ca76d,_0x5e5ef7,_0x49dc9a,_0x3e7f8d);}[_0x440fb7(0x495)](_0x43721f){const _0x551afb=_0x440fb7;this[_0x551afb(0x578)][_0x551afb(0x4f5)](_0x43721f)&&(clearTimeout(this[_0x551afb(0x578)]['get'](_0x43721f)),this[_0x551afb(0x578)][_0x551afb(0x528)](_0x43721f));}[_0x440fb7(0x678)](_0x22a945,_0x4dac0f,_0x495085,_0xfa5e48,_0x51680a,_0x4bc67c){const _0x21b2c1=_0x440fb7;this[_0x21b2c1(0x495)](_0x51680a),this[_0x21b2c1(0x578)][_0x21b2c1(0x442)](_0x51680a,setTimeout(()=>{const _0x119db4=_0x21b2c1;this['subscriptionRequestTimeouts'][_0x119db4(0x528)](_0x51680a);try{const _0x496f4b=_0x4bc67c[_0x119db4(0x530)]();this['subscribe'](_0x496f4b,_0x4dac0f,_0x22a945,_0x51680a,_0x495085);}catch(_0x1e059a){this[_0x119db4(0x377)](_0x22a945,_0x4dac0f,_0x495085,_0xfa5e48);}},0x7d0));}[_0x440fb7(0x4ab)](_0x397244,_0x5dd646,_0x2888f8,_0x6f91be,_0x2f7101){const _0x3076e3=_0x440fb7,{subscriptionLabel:_0x411372}=this[_0x3076e3(0x33f)](_0x5dd646,_0x6f91be),_0x5c46f7=this[_0x3076e3(0x6fc)](_0x411372),_0x23a93f=_0x5c46f7?.[_0x3076e3(0x71f)];_0x5c46f7&&(_0x5c46f7[_0x3076e3(0x6b6)](_0x6f91be,0x0),this['removeSubscription'](_0x2888f8,_0x14ca27[_0x3076e3(0x3d1)],_0x397244)),this[_0x3076e3(0x770)](_0x5dd646,_0x6f91be,_0x2f7101,_0x23a93f);}[_0x440fb7(0x6fc)](_0xbce6de){const _0x1e5b02=_0x440fb7,_0x8368fa=this[_0x1e5b02(0x2c3)]['subscriptions'][_0x1e5b02(0x39a)](_0xbce6de);if(_0x8368fa){if(!(_0x8368fa instanceof _0x5ca327))throw new _0x717bed(_0x717bed[_0x1e5b02(0x6dc)][_0x1e5b02(0x36d)],{'label':_0xbce6de,'subscription':_0x8368fa});return _0x8368fa;}}['getSubscriptionLabel'](_0x27e1a7,_0x29b357){const _0x4f7a1b=_0x440fb7,_0x458670=this['getPartsForSubscriptionLabel'](_0x27e1a7,_0x29b357);return{'parts':_0x458670,'subscriptionLabel':_0x20f3fb(_0x37868d[_0x4f7a1b(0x431)],_0x458670)};}['getPartsForSubscriptionLabel'](_0x5d0d3b,_0x20eb54){const _0x593f57=_0x440fb7,_0x1990e7=this[_0x593f57(0x339)][_0x593f57(0x57a)][_0x593f57(0x514)](_0x20eb54,_0x5d0d3b),_0x23e4e1=_0x1990e7[_0x593f57(0x62e)]();if(!_0x23e4e1)throw new _0x717bed(_0x717bed[_0x593f57(0x6dc)][_0x593f57(0x48d)],{'label':_0x5d0d3b,'streamId':_0x1990e7[_0x593f57(0x626)](),'ownerId':_0x20eb54,'localId':this['configs'][_0x593f57(0x6a3)]});return{'contentType':_0x14ca27[_0x593f57(0x3d1)],'label':_0x1990e7[_0x593f57(0x626)](),'remoteId':_0x23e4e1};}[_0x440fb7(0x45f)](_0x3febaf,_0x53498f,_0x37a283,_0x26a5e0){const _0x2bfddc=_0x440fb7,_0x2a7d53=_0x26a5e0['getProviderId']();if(_0x2a7d53&&_0x2a7d53!==_0x3febaf[_0x2bfddc(0x2b4)]){const {parts:_0x30ebca,subscriptionLabel:_0x5391db}=this[_0x2bfddc(0x33f)](_0x37a283,_0x53498f),_0xdbd21d=this[_0x2bfddc(0x6fc)](_0x5391db);_0xdbd21d&&(_0xdbd21d[_0x2bfddc(0x6b6)](_0x53498f,0x0),this[_0x2bfddc(0x6d1)](_0x30ebca[_0x2bfddc(0x474)],_0x30ebca['contentType'],_0x30ebca[_0x2bfddc(0x31e)]));}}}class _0x43c92f{[_0x440fb7(0x339)];[_0x440fb7(0x1f3)];['maps'];constructor(_0x230790,_0x4208ac){const _0x2359e6=_0x440fb7;this[_0x2359e6(0x339)]=_0x230790,this[_0x2359e6(0x1f3)]=_0x4208ac,this[_0x2359e6(0x2c3)]=new _0x43253a(({source:_0xf89d2a,destination:_0x2dbbae})=>_0x478eba(_0xf89d2a,_0x2dbbae));}[_0x440fb7(0x370)](_0x5a138b,_0x21c758){const _0x44332d=_0x440fb7,_0x568ffb={'source':_0x5a138b,'destination':_0x21c758};this[_0x44332d(0x2c3)][_0x44332d(0x370)](_0x37868d[_0x44332d(0x44f)],_0x568ffb);}[_0x440fb7(0x6d1)](_0x2940bd,_0x48b980,_0x2902a7=''){const _0x15434c=_0x440fb7,_0x1e673d={'contentType':_0x48b980,'label':_0x2940bd,'remoteId':_0x2902a7};this[_0x15434c(0x2c3)]['removeSubscription'](_0x1e673d,_0x37868d['Outgoing']);}[_0x440fb7(0x4c4)](_0x28533c,_0x4e73a3){const _0x1b0ac8=_0x440fb7;let _0x1229f9;_0x1229f9=_0x4e73a3['ownerId']!==this[_0x1b0ac8(0x339)][_0x1b0ac8(0x6a3)]?this[_0x1b0ac8(0x339)][_0x1b0ac8(0x57a)][_0x1b0ac8(0x514)](_0x4e73a3[_0x1b0ac8(0x718)],_0x4e73a3['label']):this['configs'][_0x1b0ac8(0x57a)][_0x1b0ac8(0x21a)](_0x4e73a3[_0x1b0ac8(0x474)]);const _0x3a2620=_0x20f3fb(_0x37868d[_0x1b0ac8(0x44f)],{'contentType':_0x14ca27[_0x1b0ac8(0x3d1)],'label':_0x1229f9[_0x1b0ac8(0x5b3)](),'remoteId':_0x28533c}),_0x188020=this[_0x1b0ac8(0x35d)]();if(!this['maps']['subscriptions'][_0x1b0ac8(0x4f5)](_0x3a2620)&&_0x188020>=this[_0x1b0ac8(0x1f3)])return{'type':_0x6413dc[_0x1b0ac8(0x4e9)],'ownerId':_0x4e73a3[_0x1b0ac8(0x718)],'label':_0x4e73a3[_0x1b0ac8(0x474)],'streamId':_0x1229f9[_0x1b0ac8(0x5b3)](),'trackKinds':_0x4e73a3['trackKinds'],'params':_0x4e73a3[_0x1b0ac8(0x71f)]};_0x1229f9 instanceof _0x1c3e41&&!_0x1229f9[_0x1b0ac8(0x72f)](_0x4e73a3['trackKinds'])&&_0x1229f9[_0x1b0ac8(0x3af)](_0x4e73a3[_0x1b0ac8(0x71f)]),this[_0x1b0ac8(0x2c3)][_0x1b0ac8(0x408)][_0x1b0ac8(0x4f5)](_0x3a2620)||this[_0x1b0ac8(0x370)](_0x1229f9[_0x1b0ac8(0x25b)](_0x28533c),this[_0x1b0ac8(0x339)][_0x1b0ac8(0x57a)][_0x1b0ac8(0x2e5)](_0x28533c));}[_0x440fb7(0x463)](_0x42eb1e,{label:_0x3311cf,ownerId:_0x38153a,remainingTracks:_0x43aef9}){const _0x136f9f=_0x440fb7;if(_0x43aef9>0x0)return;let _0x62add4;_0x62add4=_0x38153a!==this[_0x136f9f(0x339)][_0x136f9f(0x6a3)]?this['configs'][_0x136f9f(0x57a)][_0x136f9f(0x514)](_0x38153a,_0x3311cf):this[_0x136f9f(0x339)][_0x136f9f(0x57a)][_0x136f9f(0x21a)](_0x3311cf);const _0x482f2c=_0x62add4['getShareableStreamId'](),_0x2ee41e=_0x14ca27[_0x136f9f(0x3d1)];this[_0x136f9f(0x6d1)](_0x482f2c,_0x2ee41e,_0x42eb1e);}[_0x440fb7(0x2aa)](_0x3525f8,{label:_0x2824c7,ownerId:_0xffece3,trackKinds:_0x3cdbd4}){const _0x5b1439=_0x440fb7;if(_0x3525f8!==_0x513fd0)return[];let _0x4ae557=[];for(const _0x40b5b1 of this['maps'][_0x5b1439(0x408)]){const {source:_0x38cdb1,destination:_0x2c0df1}=_0x40b5b1[0x1];_0x38cdb1[_0x5b1439(0x254)]()===_0x2824c7&&_0x38cdb1['getOwnerId']()===_0xffece3&&_0x4ae557['push']({'sourceId':this[_0x5b1439(0x339)]['localId'],'destinationIds':[_0x2c0df1[_0x5b1439(0x206)]()],'messageType':_0x5a2832[_0x5b1439(0x580)],'content':{'type':_0x6413dc[_0x5b1439(0x736)],'label':_0x2824c7,'ownerId':_0xffece3,'trackKinds':_0x3cdbd4}});}return _0x4ae557;}[_0x440fb7(0x1dc)](_0x1ca31e,_0x5c55a1){const _0x2bf04b=_0x440fb7,{label:_0x27986a,ownerId:_0x3775fb,trackKinds:_0xeb212,params:_0x2ce70e}=_0x5c55a1,{hasTracks:_0x36c1d6,streamId:_0x1b53c3,hasResolution:_0x52f349,distance:_0x15f851,subscriptionLabel:_0x215fd5}=this[_0x2bf04b(0x621)](_0x1ca31e,_0x5c55a1);let _0x1c3782=this[_0x2bf04b(0x35d)]()<this[_0x2bf04b(0x1f3)]&&(_0x36c1d6||_0x15f851>-0x1)?_0x6413dc['CanProvideMediaStream']:_0x6413dc[_0x2bf04b(0x2d3)];const _0x2ed868=_0x15f851<0x0?0xa:_0x15f851;let _0x50d34d=_0x36c1d6?_0x52f349?_0x2ed868:_0x2ed868+0x0:_0x2ed868+0xa;return _0x215fd5&&this[_0x2bf04b(0x2c3)]['subscriptions'][_0x2bf04b(0x4f5)](_0x215fd5)&&(_0x36c1d6&&(_0x50d34d=0x0),_0x1c3782=_0x6413dc[_0x2bf04b(0x751)]),{'type':_0x1c3782,'cost':_0x50d34d,'distance':_0x15f851,'label':_0x27986a,'ownerId':_0x3775fb,'streamId':_0x1b53c3,'trackKinds':_0xeb212,'params':_0x2ce70e};}[_0x440fb7(0x597)](_0x6cd1cb){const _0x3df925=_0x440fb7,{label:_0x54ab43,ownerId:_0x1047cc}=_0x6cd1cb,_0x4d7810=this[_0x3df925(0x339)][_0x3df925(0x57a)][_0x3df925(0x514)](_0x1047cc,_0x54ab43);this[_0x3df925(0x2c3)][_0x3df925(0x408)][_0x3df925(0x613)](_0x5ef633=>{const _0x4c5215=_0x3df925;if(_0x5ef633[_0x4c5215(0x6d4)][_0x4c5215(0x626)]()===_0x4d7810[_0x4c5215(0x5b3)]()){const _0x4e1291=_0x5ef633[_0x4c5215(0x68c)];this[_0x4c5215(0x6d1)](_0x4d7810[_0x4c5215(0x5b3)](),_0x14ca27[_0x4c5215(0x3d1)],_0x4e1291['getRemoteId']());}});}['handleContentCloseMediaStream']({label:_0x1c11fe}){const _0x4f1f12=_0x440fb7,_0x141359=this['configs'][_0x4f1f12(0x57a)][_0x4f1f12(0x21a)](_0x1c11fe);this[_0x4f1f12(0x2c3)][_0x4f1f12(0x408)][_0x4f1f12(0x613)](_0x178ced=>{const _0x4e69ac=_0x4f1f12;if(_0x178ced[_0x4e69ac(0x6d4)][_0x4e69ac(0x626)]()===_0x141359[_0x4e69ac(0x5b3)]()){const _0x33786e=_0x178ced['destination'];this[_0x4e69ac(0x6d1)](_0x141359[_0x4e69ac(0x5b3)](),_0x14ca27[_0x4e69ac(0x3d1)],_0x33786e[_0x4e69ac(0x206)]());}});}[_0x440fb7(0x1e8)](_0x4635be){const _0x1d4440=_0x440fb7;this[_0x1d4440(0x2c3)]['removeSubscriptionsForUser'](_0x4635be);}[_0x440fb7(0x720)](){const _0x2ce667=_0x440fb7;this[_0x2ce667(0x2c3)][_0x2ce667(0x408)][_0x2ce667(0x613)](this['closeSubscription'][_0x2ce667(0x346)](this));}[_0x440fb7(0x4a3)](_0x35a63f,_0xadb604){const _0x40ab82=_0x440fb7;this['maps'][_0x40ab82(0x4a3)](_0x35a63f,_0xadb604);}[_0x440fb7(0x621)](_0x2ff7ec,{label:_0x1bd8d9,ownerId:_0x13ca72,trackKinds:_0x447cd1,params:_0x14340d}){const _0x4abbe6=_0x440fb7;if(_0x13ca72!==this['configs']['localId']){const _0x16ec9f=this[_0x4abbe6(0x339)][_0x4abbe6(0x57a)][_0x4abbe6(0x514)](_0x13ca72,_0x1bd8d9);return _0x16ec9f&&_0x16ec9f[_0x4abbe6(0x62e)]()!==_0x2ff7ec?{'hasTracks':_0x16ec9f[_0x4abbe6(0x3fc)](_0x447cd1),'hasResolution':this[_0x4abbe6(0x41d)](_0x16ec9f[_0x4abbe6(0x5a2)](),_0x14340d),'streamId':_0x16ec9f[_0x4abbe6(0x5b3)](),'distance':this[_0x4abbe6(0x339)][_0x4abbe6(0x57a)]['getDistance'](_0x2ff7ec,_0x13ca72),'subscriptionLabel':_0x20f3fb(_0x37868d['Outgoing'],{'contentType':_0x14ca27[_0x4abbe6(0x3d1)],'label':_0x16ec9f[_0x4abbe6(0x5b3)](),'remoteId':_0x2ff7ec})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x30dd88=this[_0x4abbe6(0x339)]['mediator'][_0x4abbe6(0x21a)](_0x1bd8d9);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x30dd88['getShareableStreamId'](),'distance':0x0,'subscriptionLabel':_0x20f3fb(_0x37868d[_0x4abbe6(0x44f)],{'contentType':_0x14ca27[_0x4abbe6(0x3d1)],'label':_0x30dd88[_0x4abbe6(0x5b3)](),'remoteId':_0x2ff7ec})};}[_0x440fb7(0x35d)](){const _0x2292a3=_0x440fb7;return Array[_0x2292a3(0x70f)](this[_0x2292a3(0x2c3)]['subscriptions'][_0x2292a3(0x615)]())[_0x2292a3(0x5ae)](([_0x265c3f,{source:_0x451a1b}])=>_0x265c3f[_0x2292a3(0x56a)](_0x37868d[_0x2292a3(0x44f)])&&_0x451a1b[_0x2292a3(0x2c9)]()===_0x14ca27[_0x2292a3(0x3d1)])['length'];}[_0x440fb7(0x41d)](_0x35fe26,_0x306dd4){const _0x589243=_0x440fb7;if(!_0x306dd4||!_0x306dd4[_0x589243(0x2c7)]||_0x589243(0x3bc)==typeof _0x306dd4[_0x589243(0x2c7)]||!_0x306dd4[_0x589243(0x2c7)][_0x589243(0x3f1)])return!0x0;const {width:_0x590eff,height:_0x524b3d}=_0x306dd4['video'][_0x589243(0x3f1)];return _0x35fe26[_0x589243(0x64d)]>=_0x590eff&&_0x35fe26[_0x589243(0x5a4)]>=_0x524b3d;}}class _0x39b155{[_0x440fb7(0x339)];[_0x440fb7(0x1f3)];[_0x440fb7(0x4c7)];[_0x440fb7(0x464)];[_0x440fb7(0x3dd)];[_0x440fb7(0x34a)];constructor(_0x24299b,_0x3417e3,_0x3fbd56){const _0x4bce30=_0x440fb7;this[_0x4bce30(0x339)]=_0x24299b,this[_0x4bce30(0x1f3)]=_0x3417e3,this['maxDistance']=_0x3fbd56,this[_0x4bce30(0x339)]['mediator'][_0x4bce30(0x2d7)](this),this[_0x4bce30(0x3dd)]=new _0x1b02d1(this[_0x4bce30(0x339)],this['maxDistance']),this['outgoingManager']=new _0x43c92f(this[_0x4bce30(0x339)],this[_0x4bce30(0x1f3)]);}[_0x440fb7(0x5c1)](_0x5b6f1a){const _0x1ce9b0=_0x440fb7;this[_0x1ce9b0(0x464)]=_0x5b6f1a;}[_0x440fb7(0x74f)](){delete this['systemTopic'];}[_0x440fb7(0x720)](){const _0x562c5d=_0x440fb7;this['incomingManager'][_0x562c5d(0x720)](),this['outgoingManager'][_0x562c5d(0x720)](),this['configs'][_0x562c5d(0x57a)][_0x562c5d(0x20c)](this);}[_0x440fb7(0x2c0)](_0x49c200,_0x5d2a8a){const _0x4609f1=_0x440fb7;this[_0x4609f1(0x3dd)][_0x4609f1(0x370)](_0x49c200,_0x5d2a8a);}[_0x440fb7(0x674)](_0x1a793e,_0xd191bd){const _0x3298ce=_0x440fb7;this[_0x3298ce(0x34a)][_0x3298ce(0x370)](_0x1a793e,_0xd191bd);}[_0x440fb7(0x453)](_0x38415d,_0x162d92,_0x100694=''){const _0x5b2cd6=_0x440fb7;this['incomingManager'][_0x5b2cd6(0x6d1)](_0x38415d,_0x162d92,_0x100694);}[_0x440fb7(0x20f)](_0x3da0b5,_0x853603,_0x544cb9=''){const _0x46d0c7=_0x440fb7;try{this[_0x46d0c7(0x34a)][_0x46d0c7(0x6d1)](_0x3da0b5,_0x853603,_0x544cb9);}catch(_0x215fdd){if(_0x215fdd instanceof _0x717bed&&_0x215fdd[_0x46d0c7(0x42a)]===_0x717bed[_0x46d0c7(0x6dc)][_0x46d0c7(0x36d)])return;}}[_0x440fb7(0x641)](_0x1f9066){const _0x4e90f6=_0x440fb7;switch(_0x1f9066[_0x4e90f6(0x6bd)]['type']){case _0x6413dc[_0x4e90f6(0x40a)]:this[_0x4e90f6(0x4c4)](_0x1f9066[_0x4e90f6(0x472)],_0x1f9066[_0x4e90f6(0x6bd)]);break;case _0x6413dc['UnsubscribeMediaStream']:this['outgoingManager']['handleSubscriptionUnsubscribeMediaStream'](_0x1f9066['sourceId'],_0x1f9066[_0x4e90f6(0x6bd)]);break;case _0x6413dc[_0x4e90f6(0x402)]:this['handleSubscriptionNeedMediaStream'](_0x1f9066['sourceId'],_0x1f9066[_0x4e90f6(0x6bd)]);break;case _0x6413dc[_0x4e90f6(0x4e9)]:this[_0x4e90f6(0x3dd)][_0x4e90f6(0x287)](_0x1f9066[_0x4e90f6(0x472)],_0x1f9066[_0x4e90f6(0x6bd)]);break;case _0x6413dc[_0x4e90f6(0x751)]:case _0x6413dc[_0x4e90f6(0x2d3)]:this['incomingManager'][_0x4e90f6(0x2b2)](_0x1f9066['sourceId'],_0x1f9066[_0x4e90f6(0x6bd)]);break;case _0x6413dc[_0x4e90f6(0x736)]:this['incomingManager'][_0x4e90f6(0x243)](_0x1f9066[_0x4e90f6(0x472)],_0x1f9066['content']);}}['handleContentSystemEvents'](_0x331277){const _0x65faf=_0x440fb7;switch(_0x331277[_0x65faf(0x6bd)][_0x65faf(0x637)]){case _0x1ee405[_0x65faf(0x526)]:this[_0x65faf(0x3dd)][_0x65faf(0x597)](_0x331277['content']),this[_0x65faf(0x34a)]['handleContentUnpublishMediaStream'](_0x331277[_0x65faf(0x6bd)]);break;case _0x1ee405['SubscribeMediaStream']:this[_0x65faf(0x3dd)][_0x65faf(0x5d1)](_0x331277[_0x65faf(0x6bd)]);break;case _0x1ee405[_0x65faf(0x376)]:this[_0x65faf(0x3dd)]['handleContentUpdateMediaStream'](_0x331277[_0x65faf(0x6bd)]);break;case _0x1ee405['UnsubscribeMediaStream']:this[_0x65faf(0x2aa)](_0x331277[_0x65faf(0x472)],_0x331277[_0x65faf(0x6bd)]);break;case _0x1ee405[_0x65faf(0x374)]:this[_0x65faf(0x34a)][_0x65faf(0x20b)](_0x331277[_0x65faf(0x6bd)]);break;case _0x1ee405[_0x65faf(0x1db)]:this['handleContentClosePubSubTopic'](_0x331277[_0x65faf(0x6bd)]);break;case _0x1ee405['CloseObjectStoreBucket']:this[_0x65faf(0x44a)](_0x331277[_0x65faf(0x6bd)]);break;case _0x1ee405[_0x65faf(0x55d)]:this['handleContentCloseKeyValueDatabase'](_0x331277[_0x65faf(0x6bd)]);break;case _0x1ee405['RemoteMediaStreamTrackFail']:this[_0x65faf(0x3dd)][_0x65faf(0x2d8)](_0x331277['content']);}}[_0x440fb7(0x46f)]({content:_0xe93d2d}){const _0xf8e5d4=_0x440fb7;_0xe93d2d[_0xf8e5d4(0x637)]===_0x13a6c4[_0xf8e5d4(0x489)]&&this[_0xf8e5d4(0x1e8)](_0xe93d2d);}['handleWebRTCSystemEvents'](_0x21fe94){const _0x5f5c68=_0x440fb7;_0x21fe94['content']['type']===_0x244554['OptimizationConnectionSuccess']&&this[_0x5f5c68(0x3dd)][_0x5f5c68(0x26c)](_0x21fe94[_0x5f5c68(0x472)]);}[_0x440fb7(0x2aa)](_0x338260,_0x3a3ae1){const _0x38a714=_0x440fb7;this[_0x38a714(0x3dd)]['handleContentUnsubscribeMediaStream'](_0x3a3ae1),this[_0x38a714(0x34a)][_0x38a714(0x2aa)](_0x338260,_0x3a3ae1)['forEach'](_0x314634=>this[_0x38a714(0x464)]['publish'](_0x314634));}['handleSubscriptionSubscribeMediaStream'](_0x2503f6,_0x3870cf){const _0x1e78ce=_0x440fb7,_0x4c2fb5=this[_0x1e78ce(0x34a)][_0x1e78ce(0x4c4)](_0x2503f6,_0x3870cf);if(_0x4c2fb5&&(this[_0x1e78ce(0x464)][_0x1e78ce(0x764)]({'sourceId':this[_0x1e78ce(0x339)][_0x1e78ce(0x6a3)],'destinationIds':[_0x2503f6],'messageType':_0x5a2832[_0x1e78ce(0x580)],'content':_0x4c2fb5}),_0x4c2fb5[_0x1e78ce(0x637)]===_0x6413dc['RestartNeedMediaStream']))throw new _0x1283cb(_0x1e78ce(0x6b7));}['handleSubscriptionNeedMediaStream'](_0x330ea8,_0x1c36c6){const _0x260390=_0x440fb7,_0x2f3a2d=this[_0x260390(0x34a)][_0x260390(0x1dc)](_0x330ea8,_0x1c36c6);this[_0x260390(0x464)][_0x260390(0x764)]({'sourceId':this[_0x260390(0x339)]['localId'],'destinationIds':[_0x330ea8],'messageType':_0x5a2832['Subscription'],'content':_0x2f3a2d});}[_0x440fb7(0x44a)]({label:_0x5443b3}){const _0x54768c=_0x440fb7;this[_0x54768c(0x453)](_0x5443b3,_0x14ca27[_0x54768c(0x34f)]),this['removeOutgoingSubscription'](_0x5443b3,_0x14ca27[_0x54768c(0x34f)]);}[_0x440fb7(0x471)]({label:_0x82a26f}){const _0x1ad512=_0x440fb7;this[_0x1ad512(0x453)](_0x82a26f,_0x14ca27[_0x1ad512(0x488)]),this[_0x1ad512(0x20f)](_0x82a26f,_0x14ca27[_0x1ad512(0x488)]);}[_0x440fb7(0x716)]({label:_0x288abc}){this['removeIncomingSubscription'](_0x288abc,_0x14ca27['PubSub']),this['removeOutgoingSubscription'](_0x288abc,_0x14ca27['PubSub']);}['removeSubscriptionsForUser']({id:_0x4bd9a4}){const _0x4e446c=_0x440fb7;this[_0x4e446c(0x3dd)][_0x4e446c(0x1e8)](_0x4bd9a4),this[_0x4e446c(0x34a)][_0x4e446c(0x1e8)](_0x4bd9a4);}}class _0x328a1e{[_0x440fb7(0x474)];[_0x440fb7(0x4fe)]=_0x548ac7();constructor(){const _0x4d4895=_0x440fb7;this[_0x4d4895(0x474)]=0x0;}[_0x440fb7(0x254)](){const _0x51f30e=_0x440fb7;return this[_0x51f30e(0x474)];}[_0x440fb7(0x2c9)](){const _0x3cd79c=_0x440fb7;return _0x14ca27[_0x3cd79c(0x5b0)];}[_0x440fb7(0x1fb)](_0x51bacb){const _0x33ea4d=_0x440fb7;_0x51bacb[_0x33ea4d(0x5c1)](this);}[_0x440fb7(0x749)](_0x5a5fd0){const _0x482f4e=_0x440fb7;_0x5a5fd0[_0x482f4e(0x74f)]();}[_0x440fb7(0x764)](_0x4a618a){const _0x2570be=_0x440fb7;_0x571f6a[_0x2570be(0x657)](_0x233447[_0x2570be(0x449)],_0x2570be(0x451),_0x4a618a[_0x2570be(0x472)],_0x4a618a),this['listener'][_0x2570be(0x764)]({'topicLabel':this['label'],'contentType':_0x14ca27[_0x2570be(0x5b0)],'uuid':_0x4a618a['uuid']??(0x0,_0x298a8a['v4'])(),'recipients':_0x4a618a[_0x2570be(0x23e)]??[],..._0x4a618a});}[_0x440fb7(0x3af)](_0x162806){const _0x8e511b=_0x440fb7;return this[_0x8e511b(0x4fe)][_0x8e511b(0x3af)](_0x162806);}}class _0x32bc44{[_0x440fb7(0x4a2)];['maxConnections'];[_0x440fb7(0x4c7)];[_0x440fb7(0x26d)]=[];[_0x440fb7(0x4b6)];['remoteUsers']=new Map();constructor(_0x1e9d43,_0x24f359,_0x25d072){const _0x4fd913=_0x440fb7;this[_0x4fd913(0x4a2)]=_0x1e9d43,this['maxConnections']=_0x24f359,this['maxDistance']=_0x25d072,this['maxLayer']=(this[_0x4fd913(0x4ae)]-0x2*this[_0x4fd913(0x4a2)])/0x2,this[_0x4fd913(0x26d)]['push']({'start':0x1,'end':this[_0x4fd913(0x4ef)](0x1,0x1)-0x1});for(let _0x1221dd=0x0;_0x1221dd<this[_0x4fd913(0x4b6)];++_0x1221dd)this[_0x4fd913(0x26d)]['push']({'start':this[_0x4fd913(0x4ef)](0x1,_0x1221dd+0x1),'end':this[_0x4fd913(0x4ef)](0x1,_0x1221dd+0x2)-0x1});}['getNextTargetRank'](_0x125ca1,_0x1ad3dd=0x1){const _0x19ebba=_0x440fb7;let _0x17561b=this[_0x19ebba(0x4c7)]-this[_0x19ebba(0x4a2)],_0x22d7fd=0x1;for(let _0x581c0d=0x1;_0x581c0d<_0x1ad3dd;++_0x581c0d)_0x17561b*=this[_0x19ebba(0x4c7)]-this[_0x19ebba(0x4a2)]-_0x581c0d,_0x22d7fd*=this[_0x19ebba(0x4c7)]-this['minConnections']-_0x581c0d+0x1;return _0x17561b*this[_0x19ebba(0x4a2)]+_0x125ca1-_0x22d7fd;}[_0x440fb7(0x39e)](_0x3a4d84){const _0x466b17=_0x440fb7;let _0x44a06a=0x0;for(;this[_0x466b17(0x26d)][_0x44a06a][_0x466b17(0x4c5)]<_0x3a4d84;)_0x44a06a+=0x1;return _0x44a06a;}[_0x440fb7(0x202)](){return this['minConnections'];}['getMaxConnections'](){const _0x1aff8c=_0x440fb7;return this[_0x1aff8c(0x4ae)];}[_0x440fb7(0x585)](){return this['maxDistance'];}[_0x440fb7(0x398)](){return this['remoteUsers'];}[_0x440fb7(0x2b0)](_0x5e1564,_0x12af03){const _0x5e32d2=_0x440fb7;this[_0x5e32d2(0x557)][_0x5e32d2(0x442)](_0x5e1564,_0x12af03);}['hasRemoteUser'](_0x31609e){const _0x42638a=_0x440fb7;return this[_0x42638a(0x557)][_0x42638a(0x4f5)](_0x31609e);}[_0x440fb7(0x75d)](_0x223cad){const _0x54bb95=_0x440fb7;return this[_0x54bb95(0x557)][_0x54bb95(0x39a)](_0x223cad);}[_0x440fb7(0x6cc)](_0x448442){const _0x825122=_0x440fb7;this['remoteUsers'][_0x825122(0x528)](_0x448442);}[_0x440fb7(0x22b)](_0x2533b9,_0x567646){const _0xb70ff6=_0x440fb7,_0x340feb=this[_0xb70ff6(0x75d)](_0x567646)?.[_0xb70ff6(0x70c)]()??0x0;return _0x2533b9[_0xb70ff6(0x5e8)](_0x424313=>this[_0xb70ff6(0x75d)](_0x424313))[_0xb70ff6(0x5ae)](_0x341f9b=>void 0x0!==_0x341f9b)[_0xb70ff6(0x45d)]((_0x523983,_0x4c52c2)=>Math[_0xb70ff6(0x323)](_0x340feb-(_0x523983&&_0x523983[_0xb70ff6(0x70c)]()||0x1/0x0))-Math[_0xb70ff6(0x323)](_0x340feb-(_0x4c52c2&&_0x4c52c2[_0xb70ff6(0x70c)]()||0x1/0x0)))['map'](_0x59449f=>_0x59449f['getId']());}}class _0x34ef98{[_0x440fb7(0x752)];[_0x440fb7(0x6bf)];[_0x440fb7(0x75c)];[_0x440fb7(0x448)];[_0x440fb7(0x339)];[_0x440fb7(0x634)];[_0x440fb7(0x247)];[_0x440fb7(0x238)];[_0x440fb7(0x772)];[_0x440fb7(0x2d6)];['detectionManager'];['remediationManager'];[_0x440fb7(0x5ea)];[_0x440fb7(0x3a5)];[_0x440fb7(0x464)]=new _0x328a1e();['systemTopicUnsubscribe'];[_0x440fb7(0x380)];constructor(_0x1505ab,_0x8994ae,_0x8d488,_0x4d069d,_0xb9cc98,_0x397919,_0x281bf0){const _0x42a423=_0x440fb7;this[_0x42a423(0x752)]=_0x1505ab,this['clusterId']=_0x8994ae,this['authService']=_0x4d069d,this['options']=_0xb9cc98,this[_0x42a423(0x339)]=_0x397919,this[_0x42a423(0x634)]=_0x281bf0,this[_0x42a423(0x380)]=new _0x4bd110(_0x8d488[_0x42a423(0x653)](),_0x8d488[_0x42a423(0x730)](),_0x8d488[_0x42a423(0x4d4)]());const _0xbc554d=this[_0x42a423(0x691)]();this[_0x42a423(0x3a5)]=new _0x32bc44(this[_0x42a423(0x448)][_0x42a423(0x4a2)],this[_0x42a423(0x448)][_0x42a423(0x4ae)],this['options'][_0x42a423(0x4c7)]),this[_0x42a423(0x247)]=new _0x3c06a6(_0xbc554d,this[_0x42a423(0x448)][_0x42a423(0x1fa)],this[_0x42a423(0x448)][_0x42a423(0x741)]),this[_0x42a423(0x238)]=new _0x4b3aa2(_0xbc554d,this[_0x42a423(0x75c)],this[_0x42a423(0x339)][_0x42a423(0x6cf)],this[_0x42a423(0x448)]['maxFps'],this[_0x42a423(0x448)][_0x42a423(0x284)],this[_0x42a423(0x3a5)]),this[_0x42a423(0x772)]=new _0x39b155(_0xbc554d,this[_0x42a423(0x448)]['maxOutgoingSubscriptions'],this['graphService'][_0x42a423(0x585)]()),this[_0x42a423(0x2d6)]=new _0xd215ff(_0xbc554d),this['detectionManager']=new _0x3142eb(_0xbc554d),this[_0x42a423(0x26e)]=new _0x5a7d39(_0xbc554d),this[_0x42a423(0x5ea)]=new _0xfa2e38(_0xbc554d,this[_0x42a423(0x3a5)],this[_0x42a423(0x380)]),this[_0x42a423(0x59f)]=this[_0x42a423(0x5be)]();}[_0x440fb7(0x272)](){const _0x435d7b=_0x440fb7,_0x4a0583=this[_0x435d7b(0x691)]();this[_0x435d7b(0x238)]=new _0x4b3aa2(_0x4a0583,this[_0x435d7b(0x75c)],this[_0x435d7b(0x339)][_0x435d7b(0x6cf)],this[_0x435d7b(0x448)][_0x435d7b(0x1fa)],this['options'][_0x435d7b(0x284)],this['graphService']),this[_0x435d7b(0x772)]=new _0x39b155(_0x4a0583,this[_0x435d7b(0x448)][_0x435d7b(0x1f3)],this[_0x435d7b(0x3a5)][_0x435d7b(0x585)]()),this[_0x435d7b(0x2d6)]=new _0xd215ff(_0x4a0583),this['detectionManager']=new _0x3142eb(_0x4a0583),this[_0x435d7b(0x26e)]=new _0x5a7d39(_0x4a0583),this[_0x435d7b(0x5ea)]=new _0xfa2e38(_0x4a0583,this['graphService'],this['localUser']);const _0x338134=this['connectionManager']['getConnectionGroup']();this[_0x435d7b(0x247)][_0x435d7b(0x355)]()[_0x435d7b(0x613)](_0x2c9101=>{const _0x6310d2=_0x435d7b;this[_0x6310d2(0x772)][_0x6310d2(0x674)](_0x2c9101,_0x338134),this[_0x6310d2(0x772)][_0x6310d2(0x2c0)](_0x338134,_0x2c9101);}),this[_0x435d7b(0x247)][_0x435d7b(0x647)]()[_0x435d7b(0x613)](_0x488fd8=>{const _0x1adfc9=_0x435d7b;this[_0x1adfc9(0x772)]['createOutgoingSubscription'](_0x488fd8,_0x338134),this['subscriptionManager'][_0x1adfc9(0x2c0)](_0x338134,_0x488fd8);}),this['contentManager'][_0x435d7b(0x49b)]()[_0x435d7b(0x613)](_0xad7904=>{const _0x36e3d4=_0x435d7b;this[_0x36e3d4(0x772)][_0x36e3d4(0x674)](_0xad7904,_0x338134),this[_0x36e3d4(0x772)]['createIncomingSubscription'](_0x338134,_0xad7904);}),this['systemTopicUnsubscribe']=this['initializeSystemTopic']();}[_0x440fb7(0x2d7)](_0x1be043){const _0x20562a=_0x440fb7;try{this[_0x20562a(0x464)][_0x20562a(0x1fb)](_0x1be043);}catch(_0x3b34ec){this[_0x20562a(0x5ca)](_0x3b34ec,{});}}[_0x440fb7(0x20c)](_0x401a76){const _0x2d9c3b=_0x440fb7;try{this[_0x2d9c3b(0x464)][_0x2d9c3b(0x749)](_0x401a76);}catch(_0x133c6e){this['handleError'](_0x133c6e,{});}}[_0x440fb7(0x4ca)](_0x5e4fa7,_0x132523){const _0x28c105=_0x440fb7;return this[_0x28c105(0x238)][_0x28c105(0x4ca)](_0x5e4fa7,!0x0,_0x132523);}[_0x440fb7(0x2e5)](_0x5afb61){const _0x5b6c13=_0x440fb7;try{return this[_0x5b6c13(0x238)][_0x5b6c13(0x2e5)](_0x5afb61);}catch(_0x79769){throw this[_0x5b6c13(0x5ca)](_0x79769,{});}}['getConnections'](_0x310b88){const _0x3ef459=_0x440fb7;try{return this[_0x3ef459(0x238)]['getConnections'](_0x310b88);}catch(_0x146b75){throw this[_0x3ef459(0x5ca)](_0x146b75,{});}}[_0x440fb7(0x514)](_0xbdeb4e,_0x59301c){const _0x167429=_0x440fb7;try{return this[_0x167429(0x247)][_0x167429(0x620)](_0x378517=>_0x378517['getOwnerId']()===_0xbdeb4e&&_0x378517[_0x167429(0x254)]()===_0x59301c)[0x0];}catch(_0x4951b1){throw this['handleError'](_0x4951b1,{});}}[_0x440fb7(0x21a)](_0x556ea0){const _0x595034=_0x440fb7;try{return this['contentManager'][_0x595034(0x2f9)](_0x3dbf3e=>_0x3dbf3e[_0x595034(0x254)]()===_0x556ea0)[0x0];}catch(_0x451412){throw this['handleError'](_0x451412,{});}}[_0x440fb7(0x663)]=(..._0x48f6e4)=>{const _0x4ce632=_0x440fb7;try{return this[_0x4ce632(0x634)][_0x4ce632(0x337)](..._0x48f6e4);}catch(_0x1e6c22){throw this['handleError'](_0x1e6c22,{});}};[_0x440fb7(0x6e1)](_0x413fec){const _0x5b8514=_0x440fb7;try{this[_0x5b8514(0x2d6)]['addRemoteUser'](_0x413fec);}catch(_0x68ab5f){throw this[_0x5b8514(0x5ca)](_0x68ab5f,{});}}['unregisterRemoteUser'](_0x10b957){const _0x36b343=_0x440fb7;try{this[_0x36b343(0x2d6)][_0x36b343(0x52a)](_0x10b957);}catch(_0x3a5ada){throw this[_0x36b343(0x5ca)](_0x3a5ada,{});}}['collectStats'](_0x4e6e65){const _0x1de31a=_0x440fb7;return this['connectionManager'][_0x1de31a(0x3e9)](_0x4e6e65);}async[_0x440fb7(0x2a8)](){const _0x2a59cd=_0x440fb7;try{await this[_0x2a59cd(0x238)]['initialize']();const _0x317633=await this['nodeManager'][_0x2a59cd(0x648)]();for(const _0x5dd9ac of _0x317633)this[_0x2a59cd(0x238)][_0x2a59cd(0x4ca)](_0x5dd9ac,!0x0);}catch(_0x92c6ac){throw this['handleError'](_0x92c6ac,{});}}[_0x440fb7(0x689)](_0x5e7871){const _0x11dcc5=_0x440fb7;this[_0x11dcc5(0x380)][_0x11dcc5(0x3a2)](_0x5e7871[_0x11dcc5(0x4d4)]()),this['localUser']['setDisplayName'](_0x5e7871['getDisplayName']());}['close'](_0x363629=!0x1){const _0x2b7032=_0x440fb7;this[_0x2b7032(0x59f)](),this[_0x2b7032(0x26e)]['close'](),this['detectionManager'][_0x2b7032(0x720)](),this[_0x2b7032(0x2d6)]['close'](),this['subscriptionManager']['close'](),this[_0x2b7032(0x238)]['close'](),this[_0x2b7032(0x247)][_0x2b7032(0x720)](_0x363629),this[_0x2b7032(0x5ea)]['close']();}[_0x440fb7(0x283)](_0x1f41af){const _0x39bf4e=_0x440fb7;try{const _0x414db7=this['contentManager'][_0x39bf4e(0x64f)](_0x1f41af),_0x2e5942=this[_0x39bf4e(0x238)][_0x39bf4e(0x67a)]();return this[_0x39bf4e(0x772)][_0x39bf4e(0x674)](_0x414db7,_0x2e5942),this[_0x39bf4e(0x772)][_0x39bf4e(0x2c0)](_0x2e5942,_0x414db7),_0x414db7;}catch(_0x398544){throw this[_0x39bf4e(0x5ca)](_0x398544,{});}}async[_0x440fb7(0x561)](_0x217ef0){const _0x36bdb4=_0x440fb7;try{const _0xebee35=this['contentManager']['createObjectStoreBucket'](_0x217ef0,this[_0x36bdb4(0x448)][_0x36bdb4(0x76c)]),_0x166955=this[_0x36bdb4(0x238)][_0x36bdb4(0x67a)]();return this[_0x36bdb4(0x772)][_0x36bdb4(0x674)](_0xebee35,_0x166955),this[_0x36bdb4(0x772)]['createIncomingSubscription'](_0x166955,_0xebee35),await _0xebee35[_0x36bdb4(0x435)](),_0xebee35;}catch(_0x256253){throw this[_0x36bdb4(0x5ca)](_0x256253,{});}}async[_0x440fb7(0x510)](_0x15e6b6,_0x3b5d6a){const _0x4d67d1=_0x440fb7;try{const _0x572565=await this['contentManager'][_0x4d67d1(0x676)](_0x15e6b6,_0x3b5d6a,this[_0x4d67d1(0x448)][_0x4d67d1(0x5eb)]),_0x577b76=this[_0x4d67d1(0x238)][_0x4d67d1(0x67a)]();return this[_0x4d67d1(0x772)][_0x4d67d1(0x674)](_0x572565,_0x577b76),this[_0x4d67d1(0x772)][_0x4d67d1(0x2c0)](_0x577b76,_0x572565),await _0x572565[_0x4d67d1(0x272)](),this[_0x4d67d1(0x5c4)](_0x572565),_0x572565;}catch(_0x4e3783){throw this['handleError'](_0x4e3783,{});}}[_0x440fb7(0x355)](_0x593426){const _0x43387e=_0x440fb7;try{return this[_0x43387e(0x247)][_0x43387e(0x355)](_0x593426);}catch(_0x284272){throw this[_0x43387e(0x5ca)](_0x284272,{});}}['getObjectStoreBuckets'](_0x16caf6){const _0x182473=_0x440fb7;try{return this[_0x182473(0x247)][_0x182473(0x647)](_0x16caf6);}catch(_0x1b08be){throw this[_0x182473(0x5ca)](_0x1b08be,{});}}['getKeyValueDatabases'](_0xcb8b33){const _0x2b4af1=_0x440fb7;try{return this[_0x2b4af1(0x247)][_0x2b4af1(0x49b)](_0xcb8b33);}catch(_0x1c403e){throw this['handleError'](_0x1c403e,{});}}['createLocalMediaStream'](_0x4ff98e,_0x297742){const _0x1e782e=_0x440fb7;if(!this[_0x1e782e(0x339)]['features'][_0x1e782e(0x63d)](_0x49fc66[_0x1e782e(0x4c8)]))throw new _0x40d3d5(_0x1afea7[_0x1e782e(0x6fd)],_0x1e782e(0x24b));try{return this[_0x1e782e(0x247)][_0x1e782e(0x73d)](_0x4ff98e,_0x297742);}catch(_0x2a46a1){throw this['handleError'](_0x2a46a1,{});}}['createLocalDynamicMediaStream'](_0xbafcf7,_0x833e89){const _0x417699=_0x440fb7;if(!this[_0x417699(0x339)][_0x417699(0x532)][_0x417699(0x63d)](_0x49fc66['MediaStream']))throw new _0x40d3d5(_0x1afea7[_0x417699(0x6fd)],_0x417699(0x24b));try{return this[_0x417699(0x247)]['createLocalDynamicMediaStream'](_0xbafcf7,_0x833e89);}catch(_0xf69046){throw this[_0x417699(0x5ca)](_0xf69046,{});}}[_0x440fb7(0x2f9)](_0x5560f0){const _0x1ab3b3=_0x440fb7;if(!this[_0x1ab3b3(0x339)][_0x1ab3b3(0x532)][_0x1ab3b3(0x63d)](_0x49fc66[_0x1ab3b3(0x4c8)]))throw new _0x40d3d5(_0x1afea7['FeatureNotEnabled'],_0x1ab3b3(0x24b));try{return this[_0x1ab3b3(0x247)]['getLocalMediaStreams'](_0x5560f0);}catch(_0x1d5a43){throw this['handleError'](_0x1d5a43,{});}}[_0x440fb7(0x620)](_0x323c7f){const _0x5ec3=_0x440fb7;if(!this[_0x5ec3(0x339)][_0x5ec3(0x532)][_0x5ec3(0x63d)](_0x49fc66['MediaStream']))throw new _0x40d3d5(_0x1afea7[_0x5ec3(0x6fd)],_0x5ec3(0x24b));try{return this['contentManager'][_0x5ec3(0x620)](_0x323c7f);}catch(_0x5581b){throw this[_0x5ec3(0x5ca)](_0x5581b,{});}}['getDistance'](_0x2c7e8a,_0x4c16a5){return this['nodeManager']['getDistance'](_0x2c7e8a,_0x4c16a5);}['getAudioContext'](){const _0x1adabf=_0x440fb7;return this[_0x1adabf(0x448)][_0x1adabf(0x741)];}[_0x440fb7(0x438)](){const _0x365c3d=_0x440fb7;return this[_0x365c3d(0x5ea)][_0x365c3d(0x438)]();}[_0x440fb7(0x398)](_0x2898d6){try{return this['nodeManager']['getRemoteUsers'](_0x2898d6);}catch(_0x3733e8){throw this['handleError'](_0x3733e8,{});}}async[_0x440fb7(0x53c)](_0x5019c1){const _0xb98fd4=_0x440fb7;try{if(_0x571f6a[_0xb98fd4(0x657)](_0x233447[_0xb98fd4(0x449)],_0xb98fd4(0x3e6),this['nodeManager'][_0xb98fd4(0x3df)](),_0x5019c1),_0x303b8a(_0x5019c1,this[_0xb98fd4(0x5ea)]['getLocalId']()))return void this[_0xb98fd4(0x238)][_0xb98fd4(0x40e)](_0x5019c1);switch(_0x5019c1[_0xb98fd4(0x4f0)]){case _0x5a2832[_0xb98fd4(0x740)]:this['statsManager'][_0xb98fd4(0x1f8)](_0x5019c1),this[_0xb98fd4(0x772)][_0xb98fd4(0x1f8)](_0x5019c1),this[_0xb98fd4(0x247)][_0xb98fd4(0x1f8)](_0x5019c1);break;case _0x5a2832[_0xb98fd4(0x227)]:this[_0xb98fd4(0x772)][_0xb98fd4(0x46f)](_0x5019c1),this[_0xb98fd4(0x238)]['handleNodeSystemEvents'](_0x5019c1),this[_0xb98fd4(0x247)]['handleNodeSystemEvents'](_0x5019c1),this['nodeManager'][_0xb98fd4(0x46f)](_0x5019c1);break;case _0x5a2832[_0xb98fd4(0x2cd)]:this[_0xb98fd4(0x26e)][_0xb98fd4(0x576)](_0x5019c1);break;case _0x5a2832[_0xb98fd4(0x583)]:this[_0xb98fd4(0x26e)][_0xb98fd4(0x207)](_0x5019c1);break;case _0x5a2832['Stats']:this['detectionManager'][_0xb98fd4(0x26a)](_0x5019c1);break;case _0x5a2832[_0xb98fd4(0x580)]:_0x5019c1[_0xb98fd4(0x6bd)][_0xb98fd4(0x637)]!==_0x6413dc[_0xb98fd4(0x714)]?(this['subscriptionManager'][_0xb98fd4(0x641)](_0x5019c1),this[_0xb98fd4(0x247)][_0xb98fd4(0x641)](_0x5019c1)):(this[_0xb98fd4(0x247)][_0xb98fd4(0x641)](_0x5019c1),this['subscriptionManager'][_0xb98fd4(0x641)](_0x5019c1));break;case _0x5a2832['WebRTC']:await this['connectionManager']['handleWebRTCSystemEvents'](_0x5019c1),this[_0xb98fd4(0x2d6)][_0xb98fd4(0x4c1)](_0x5019c1),this['nodeManager'][_0xb98fd4(0x4c1)](_0x5019c1),this[_0xb98fd4(0x772)][_0xb98fd4(0x4c1)](_0x5019c1);}}catch(_0x23328f){throw this[_0xb98fd4(0x5ca)](_0x23328f,{});}}[_0x440fb7(0x5ca)](_0x40fda6,_0x26410c){const _0x2854b0=_0x440fb7;if(!(_0x40fda6 instanceof _0x1283cb)){if(_0x40fda6 instanceof _0x40d3d5)throw _0x40fda6;if(!(_0x40fda6 instanceof Error))throw new _0x40d3d5(_0x1afea7['InternalSDKError'],_0x2854b0(0x445)+_0x40fda6);if(!(_0x40fda6 instanceof _0x717bed))throw new _0x40d3d5(_0x1afea7[_0x2854b0(0x64a)],_0x2854b0(0x5f5)+_0x40fda6[_0x2854b0(0x3a1)]);switch(_0x40fda6[_0x2854b0(0x42a)]){case _0x717bed[_0x2854b0(0x6dc)][_0x2854b0(0x5f7)]:case _0x717bed[_0x2854b0(0x6dc)][_0x2854b0(0x36f)]:case _0x717bed['codes']['WebRTCInvalidDestination']:case _0x717bed['codes']['ConnectionNotinitialized']:case _0x717bed[_0x2854b0(0x6dc)]['ConnectionNotConnected']:case _0x717bed['codes'][_0x2854b0(0x71a)]:case _0x717bed[_0x2854b0(0x6dc)][_0x2854b0(0x6df)]:case _0x717bed[_0x2854b0(0x6dc)][_0x2854b0(0x327)]:case _0x717bed[_0x2854b0(0x6dc)][_0x2854b0(0x3b2)]:case _0x717bed[_0x2854b0(0x6dc)]['SubscriptionRequestFailed']:case _0x717bed[_0x2854b0(0x6dc)]['SubscriptionRequestNoAnswer']:case _0x717bed[_0x2854b0(0x6dc)][_0x2854b0(0x36d)]:}throw _0x571f6a[_0x2854b0(0x1d8)](_0x2854b0(0x241)+_0x40fda6['message'],{'clusterId':this[_0x2854b0(0x6bf)],'userId':this['localUser']['getId']()},_0x40fda6),new _0x40d3d5(_0x1afea7[_0x2854b0(0x64a)],'Internal\x20SDK\x20error:\x20'+_0x40fda6[_0x2854b0(0x3a1)]);}}[_0x440fb7(0x691)](){const _0x4a8711=_0x440fb7;return{'mediator':this,'vendorId':this[_0x4a8711(0x752)],'clusterId':this[_0x4a8711(0x6bf)],'localId':this[_0x4a8711(0x380)][_0x4a8711(0x653)]()};}['initializeSystemTopic'](){const _0x506801=_0x440fb7;return this[_0x506801(0x464)][_0x506801(0x3af)](_0x576c97=>{const _0x1702dd=_0x506801,_0x549676=_0x5881b6(_0x576c97,this['localUser'][_0x1702dd(0x653)]()),_0x12c892=_0x576c97[_0x1702dd(0x4f0)]===_0x5a2832[_0x1702dd(0x725)]||_0x576c97[_0x1702dd(0x4f0)]===_0x5a2832['WebRTC']&&_0x576c97[_0x1702dd(0x6bd)][_0x1702dd(0x637)]===_0x244554[_0x1702dd(0x725)]?_0x233447[_0x1702dd(0x223)]:_0x233447[_0x1702dd(0x5bd)];_0x571f6a[_0x1702dd(0x734)](_0x12c892,_0x576c97['uuid']+_0x1702dd(0x3c3)+_0x549676,_0x576c97),this['handleSystemEvents'](_0x576c97)[_0x1702dd(0x481)](_0x5a2b05=>{const _0x2cd369=_0x1702dd;console[_0x2cd369(0x1d8)](_0x5a2b05);});});}async['syncKeyValueDatabase'](_0x243dc0,_0x2187d4){const _0x3feab9=_0x440fb7;_0x2187d4=this[_0x3feab9(0x357)](_0x2187d4),await _0x243dc0['sync'](_0x2187d4,()=>this['syncKeyValueDatabase'](_0x243dc0,_0x2187d4));}[_0x440fb7(0x357)](_0x5780db){const _0x36d15c=_0x440fb7,_0x282ae5=this[_0x36d15c(0x5ea)]['getAncestorIds']();if(!_0x5780db)return _0x282ae5[0x0];const _0x5bfbad=_0x282ae5[_0x36d15c(0x4de)](_0x177dbf=>_0x5780db===_0x177dbf),_0x426c4c=_0x282ae5[_0x5bfbad+0x1];return _0x282ae5[_0x36d15c(0x382)]>0x0&&!_0x426c4c?_0x5780db[0x0]:_0x426c4c;}}class _0x39f768{['vendorId'];['clusterId'];[_0x440fb7(0x66d)];[_0x440fb7(0x314)];[_0x440fb7(0x2d1)];constructor(_0x550a55,_0x3f928d,_0xa64eac,_0x5880e4,_0xa3ec08,_0x1c85ac,_0x3d2498=new _0x458e2d()){const _0x849b7b=_0x440fb7;this[_0x849b7b(0x752)]=_0x550a55,this[_0x849b7b(0x6bf)]=_0x3f928d,this['authUser']=_0xa64eac,this[_0x849b7b(0x314)]=_0x3d2498,this[_0x849b7b(0x2d1)]=new _0x34ef98(this['vendorId'],this[_0x849b7b(0x6bf)],_0xa64eac,_0x5880e4,_0xa3ec08,_0x1c85ac,this);}async['join'](){const _0x325d53=_0x440fb7;await this[_0x325d53(0x2d1)]['initialize'](),this[_0x325d53(0x66d)][_0x325d53(0x399)](this[_0x325d53(0x6bf)],_0x3960a3=>{const _0x5b43d4=_0x325d53;this[_0x5b43d4(0x2d1)]['updateUser'](_0x3960a3);});}[_0x440fb7(0x21b)](){const _0x15d4c5=_0x440fb7,_0x27b375=this['orchestrator'][_0x15d4c5(0x438)]();return{'getId':_0x27b375[_0x15d4c5(0x653)][_0x15d4c5(0x346)](_0x27b375),'getDisplayName':_0x27b375[_0x15d4c5(0x730)]['bind'](_0x27b375),'getEmail':_0x27b375[_0x15d4c5(0x4d4)][_0x15d4c5(0x346)](_0x27b375),'getRemoteConnections':_0x27b375[_0x15d4c5(0x3a6)]['bind'](_0x27b375),'setDisplayName':_0x27b375['setDisplayName'][_0x15d4c5(0x346)](_0x27b375),'setEmail':_0x27b375[_0x15d4c5(0x3a2)]['bind'](_0x27b375)};}[_0x440fb7(0x5e2)](){const _0x5c614b=_0x440fb7;this['orchestrator']['close'](),this[_0x5c614b(0x66d)]['unregisterCluster'](this[_0x5c614b(0x6bf)]);}[_0x440fb7(0x283)](_0x4a8579){const _0x428bcc=_0x440fb7,_0x2ab105=this[_0x428bcc(0x2d1)][_0x428bcc(0x283)](_0x4a8579);return{'getName':_0x2ab105[_0x428bcc(0x281)]['bind'](_0x2ab105),'getOwnerId':_0x2ab105[_0x428bcc(0x417)][_0x428bcc(0x346)](_0x2ab105),'getContentType':_0x2ab105[_0x428bcc(0x2c9)]['bind'](_0x2ab105),'publish':_0x2ab105[_0x428bcc(0x764)]['bind'](_0x2ab105),'subscribe':_0x2ab105['subscribe'][_0x428bcc(0x346)](_0x2ab105),'unsubscribe':_0x2ab105[_0x428bcc(0x6b6)][_0x428bcc(0x346)](_0x2ab105),'close':_0x2ab105[_0x428bcc(0x720)][_0x428bcc(0x346)](_0x2ab105)};}async['openObjectStoreBucket'](_0x277fae){const _0x215883=_0x440fb7,_0x2c99d6=await this['orchestrator'][_0x215883(0x561)](_0x277fae);return{'getName':_0x2c99d6['getName'][_0x215883(0x346)](_0x2c99d6),'getOwnerId':_0x2c99d6[_0x215883(0x417)][_0x215883(0x346)](_0x2c99d6),'getContentType':_0x2c99d6[_0x215883(0x2c9)][_0x215883(0x346)](_0x2c99d6),'publish':_0x2c99d6[_0x215883(0x764)]['bind'](_0x2c99d6),'unpublish':_0x2c99d6[_0x215883(0x3b0)][_0x215883(0x346)](_0x2c99d6),'get':_0x2c99d6[_0x215883(0x39a)][_0x215883(0x346)](_0x2c99d6),'list':_0x2c99d6['list'][_0x215883(0x346)](_0x2c99d6),'subscribe':_0x2c99d6[_0x215883(0x3af)][_0x215883(0x346)](_0x2c99d6),'unsubscribe':_0x2c99d6[_0x215883(0x6b6)][_0x215883(0x346)](_0x2c99d6),'close':_0x2c99d6[_0x215883(0x720)][_0x215883(0x346)](_0x2c99d6)};}async['openKeyValueDatabase'](_0x3d0d53,_0x318dab){const _0x1a8765=_0x440fb7,_0x4474c7=await this[_0x1a8765(0x2d1)]['openKeyValueDatabase'](_0x3d0d53,_0x318dab);return{'getName':_0x4474c7[_0x1a8765(0x281)][_0x1a8765(0x346)](_0x4474c7),'getOwnerId':_0x4474c7[_0x1a8765(0x417)]['bind'](_0x4474c7),'getContentType':_0x4474c7['getContentType'][_0x1a8765(0x346)](_0x4474c7),'getTable':_0x4474c7[_0x1a8765(0x516)][_0x1a8765(0x346)](_0x4474c7),'subscribe':_0x4474c7[_0x1a8765(0x3af)]['bind'](_0x4474c7),'unsubscribe':_0x4474c7[_0x1a8765(0x6b6)][_0x1a8765(0x346)](_0x4474c7),'close':_0x4474c7[_0x1a8765(0x720)][_0x1a8765(0x346)](_0x4474c7)};}[_0x440fb7(0x355)](_0x19edc5){const _0x2a803a=_0x440fb7;return this[_0x2a803a(0x2d1)][_0x2a803a(0x355)](_0x19edc5)['map'](_0xfe418b=>({'getName':_0xfe418b['getName'][_0x2a803a(0x346)](_0xfe418b),'getOwnerId':_0xfe418b[_0x2a803a(0x417)][_0x2a803a(0x346)](_0xfe418b),'getContentType':_0xfe418b[_0x2a803a(0x2c9)][_0x2a803a(0x346)](_0xfe418b),'publish':_0xfe418b[_0x2a803a(0x764)][_0x2a803a(0x346)](_0xfe418b),'subscribe':_0xfe418b[_0x2a803a(0x3af)][_0x2a803a(0x346)](_0xfe418b),'unsubscribe':_0xfe418b['unsubscribe'][_0x2a803a(0x346)](_0xfe418b),'close':_0xfe418b[_0x2a803a(0x720)][_0x2a803a(0x346)](_0xfe418b)}));}[_0x440fb7(0x647)](_0x3942d8){const _0x1dbd70=_0x440fb7;return this[_0x1dbd70(0x2d1)]['getObjectStoreBuckets'](_0x3942d8)['map'](_0x4722f2=>({'getName':_0x4722f2['getName'][_0x1dbd70(0x346)](_0x4722f2),'getOwnerId':_0x4722f2[_0x1dbd70(0x417)][_0x1dbd70(0x346)](_0x4722f2),'getContentType':_0x4722f2[_0x1dbd70(0x2c9)][_0x1dbd70(0x346)](_0x4722f2),'publish':_0x4722f2[_0x1dbd70(0x764)][_0x1dbd70(0x346)](_0x4722f2),'unpublish':_0x4722f2[_0x1dbd70(0x3b0)][_0x1dbd70(0x346)](_0x4722f2),'get':_0x4722f2['get'][_0x1dbd70(0x346)](_0x4722f2),'list':_0x4722f2[_0x1dbd70(0x423)][_0x1dbd70(0x346)](_0x4722f2),'subscribe':_0x4722f2[_0x1dbd70(0x3af)]['bind'](_0x4722f2),'unsubscribe':_0x4722f2[_0x1dbd70(0x6b6)][_0x1dbd70(0x346)](_0x4722f2),'close':_0x4722f2[_0x1dbd70(0x720)][_0x1dbd70(0x346)](_0x4722f2)}));}[_0x440fb7(0x49b)](_0x1fc2b0){const _0x380d65=_0x440fb7;return this[_0x380d65(0x2d1)][_0x380d65(0x49b)](_0x1fc2b0)[_0x380d65(0x5e8)](_0x28e640=>({'getName':_0x28e640['getName'][_0x380d65(0x346)](_0x28e640),'getOwnerId':_0x28e640[_0x380d65(0x417)][_0x380d65(0x346)](_0x28e640),'getContentType':_0x28e640[_0x380d65(0x2c9)]['bind'](_0x28e640),'getTable':_0x28e640['getTable']['bind'](_0x28e640),'subscribe':_0x28e640[_0x380d65(0x3af)]['bind'](_0x28e640),'unsubscribe':_0x28e640['unsubscribe'][_0x380d65(0x346)](_0x28e640),'close':_0x28e640[_0x380d65(0x720)]['bind'](_0x28e640)}));}[_0x440fb7(0x419)](_0x27180c,_0x1f684c){const _0x54675a=_0x440fb7,_0xa12ff1=this['orchestrator'][_0x54675a(0x73d)](_0x27180c,_0x1f684c);return{'getLabel':_0xa12ff1['getLabel'][_0x54675a(0x346)](_0xa12ff1),'getOwnerId':_0xa12ff1[_0x54675a(0x417)]['bind'](_0xa12ff1),'getContentType':_0xa12ff1[_0x54675a(0x2c9)][_0x54675a(0x346)](_0xa12ff1),'getMediaStream':_0xa12ff1[_0x54675a(0x1ee)][_0x54675a(0x346)](_0xa12ff1),'setPriority':_0xa12ff1[_0x54675a(0x662)][_0x54675a(0x346)](_0xa12ff1),'unpublish':_0xa12ff1[_0x54675a(0x3b0)][_0x54675a(0x346)](_0xa12ff1)};}[_0x440fb7(0x724)](_0x32b2b4,_0x4ca729){const _0x47d5ce=_0x440fb7,_0x5cddf4=this[_0x47d5ce(0x2d1)][_0x47d5ce(0x74c)](_0x32b2b4,_0x4ca729);return{'getLabel':_0x5cddf4[_0x47d5ce(0x254)][_0x47d5ce(0x346)](_0x5cddf4),'getOwnerId':_0x5cddf4[_0x47d5ce(0x417)]['bind'](_0x5cddf4),'getContentType':_0x5cddf4[_0x47d5ce(0x2c9)][_0x47d5ce(0x346)](_0x5cddf4),'setPriority':_0x5cddf4[_0x47d5ce(0x662)]['bind'](_0x5cddf4),'unpublish':_0x5cddf4[_0x47d5ce(0x3b0)]['bind'](_0x5cddf4),'getMediaStream':_0x5cddf4[_0x47d5ce(0x1ee)][_0x47d5ce(0x346)](_0x5cddf4),'addTrack':_0x5cddf4[_0x47d5ce(0x6e3)][_0x47d5ce(0x346)](_0x5cddf4),'removeTrack':_0x5cddf4[_0x47d5ce(0x5ab)][_0x47d5ce(0x346)](_0x5cddf4),'replaceTrack':_0x5cddf4['replaceTrack']['bind'](_0x5cddf4),'setTransformations':_0x5cddf4['setTransformations'][_0x47d5ce(0x346)](_0x5cddf4)};}['getLocalMediaStreams'](_0x3d0625){const _0x13ab5e=_0x440fb7;return this[_0x13ab5e(0x2d1)]['getLocalMediaStreams'](_0x3d0625)['map'](_0x253dd4=>({'getLabel':_0x253dd4[_0x13ab5e(0x254)][_0x13ab5e(0x346)](_0x253dd4),'getOwnerId':_0x253dd4[_0x13ab5e(0x417)][_0x13ab5e(0x346)](_0x253dd4),'getContentType':_0x253dd4[_0x13ab5e(0x2c9)]['bind'](_0x253dd4),'getMediaStream':_0x253dd4[_0x13ab5e(0x1ee)][_0x13ab5e(0x346)](_0x253dd4),'setPriority':_0x253dd4[_0x13ab5e(0x662)][_0x13ab5e(0x346)](_0x253dd4),'unpublish':_0x253dd4[_0x13ab5e(0x3b0)][_0x13ab5e(0x346)](_0x253dd4)}));}[_0x440fb7(0x620)](_0x15380e){const _0x3e394c=_0x440fb7;return this[_0x3e394c(0x2d1)][_0x3e394c(0x620)](_0x15380e)['map'](_0x3a439f=>({'getLabel':_0x3a439f[_0x3e394c(0x254)][_0x3e394c(0x346)](_0x3a439f),'getOwnerId':_0x3a439f[_0x3e394c(0x417)][_0x3e394c(0x346)](_0x3a439f),'getContentType':_0x3a439f[_0x3e394c(0x2c9)][_0x3e394c(0x346)](_0x3a439f),'getMediaStream':_0x3a439f[_0x3e394c(0x1ee)]['bind'](_0x3a439f),'subscribe':_0x3a439f[_0x3e394c(0x3af)][_0x3e394c(0x346)](_0x3a439f),'unsubscribe':_0x3a439f[_0x3e394c(0x6b6)][_0x3e394c(0x346)](_0x3a439f),'getAvailableTrackKinds':_0x3a439f[_0x3e394c(0x3ac)]['bind'](_0x3a439f),'update':_0x3a439f[_0x3e394c(0x30b)]['bind'](_0x3a439f),'onProviderChanged':_0x3a439f[_0x3e394c(0x3a9)][_0x3e394c(0x346)](_0x3a439f)}));}[_0x440fb7(0x398)](_0x15f32e){const _0x116ef6=_0x440fb7;return this[_0x116ef6(0x2d1)][_0x116ef6(0x398)](_0x15f32e)['map'](_0x14ed19=>({'getId':_0x14ed19[_0x116ef6(0x653)][_0x116ef6(0x346)](_0x14ed19),'getDisplayName':_0x14ed19['getDisplayName'][_0x116ef6(0x346)](_0x14ed19),'getEmail':_0x14ed19[_0x116ef6(0x4d4)]['bind'](_0x14ed19),'getRemoteConnections':_0x14ed19['getRemoteConnections']['bind'](_0x14ed19)}));}['on']=(..._0x399a63)=>{const _0x4742bc=_0x440fb7;this[_0x4742bc(0x314)]['on'](..._0x399a63);};[_0x440fb7(0x337)]=(..._0x313ada)=>this[_0x440fb7(0x314)][_0x440fb7(0x337)](..._0x313ada);[_0x440fb7(0x6f9)](..._0x1a7f11){const _0xc71a14=_0x440fb7;this[_0xc71a14(0x314)][_0xc71a14(0x6f9)](..._0x1a7f11);}}class _0x3db502{['id'];[_0x440fb7(0x2ee)];[_0x440fb7(0x643)];[_0x440fb7(0x6ef)]=new Map();['observer']=_0x548ac7();constructor(_0x547906,_0x2edc0a,_0x51dcac){const _0x1b446c=_0x440fb7;this['id']=_0x547906,this['displayName']=_0x2edc0a,this[_0x1b446c(0x643)]=_0x51dcac;}[_0x440fb7(0x653)](){return this['id'];}['getDisplayName'](){return this['displayName'];}[_0x440fb7(0x4d4)](){const _0xc2a34c=_0x440fb7;return this[_0xc2a34c(0x643)];}[_0x440fb7(0x491)](_0x5b7990){const _0x1def19=_0x440fb7;this[_0x1def19(0x2ee)]!==_0x5b7990&&(this[_0x1def19(0x2ee)]=_0x5b7990,this[_0x1def19(0x553)][_0x1def19(0x764)](this));}['setEmail'](_0x27aaa3){const _0x57de37=_0x440fb7;this['email']!==_0x27aaa3&&(this[_0x57de37(0x643)]=_0x27aaa3,this[_0x57de37(0x553)][_0x57de37(0x764)](this));}['registerCluster'](_0x3c8a81,_0x85c980){const _0xf6dea1=_0x440fb7;if(this['joinedClusters'][_0xf6dea1(0x4f5)](_0x3c8a81))return;const _0x17bb7d=this[_0xf6dea1(0x553)][_0xf6dea1(0x3af)](_0x85c980);this[_0xf6dea1(0x6ef)]['set'](_0x3c8a81,_0x17bb7d);}[_0x440fb7(0x565)](_0xe14c10){const _0x384644=_0x440fb7;if(!this[_0x384644(0x6ef)][_0x384644(0x4f5)](_0xe14c10))return;const _0x443614=this['joinedClusters'][_0x384644(0x39a)](_0xe14c10);_0x443614&&_0x443614(),this[_0x384644(0x6ef)]['delete'](_0xe14c10);}}class _0x30750a{[_0x440fb7(0x752)];[_0x440fb7(0x405)];constructor(_0x340fd6){this['vendorId']=_0x340fd6;}async[_0x440fb7(0x257)](_0x4632e6){const _0x8348f1=_0x440fb7,_0x183a74=await(0x0,_0x5172a0['httpsCallable'])(_0x4055d0[_0x8348f1(0x354)](),_0x8348f1(0x38b))({'uid':'ccc'+this['vendorId']+_0x8348f1(0x366)+_0x4632e6['id']}),_0x210e6d=await(0x0,_0x3d5ab4[_0x8348f1(0x69e)])(_0x4055d0['getAuth'](),_0x183a74['data'][_0x8348f1(0x1f0)]);this[_0x8348f1(0x405)]=_0x210e6d[_0x8348f1(0x405)];}[_0x440fb7(0x52e)](){return this['user']?.['getIdToken']()??Promise['reject']('User\x20not\x20signed\x20in');}}const _0x5c1a82=require('webrtc-adapter');var _0x1e0423,_0x23929a=_0x90a358['n'](_0x5c1a82);!function(_0x2204a0){const _0x427666=_0x440fb7;_0x2204a0[_0x427666(0x46e)]=_0x427666(0x46e),_0x2204a0[_0x427666(0x4c8)]='MediaStream',_0x2204a0[_0x427666(0x602)]='ScreenSharing',_0x2204a0[_0x427666(0x55a)]=_0x427666(0x55a),_0x2204a0[_0x427666(0x6e8)]=_0x427666(0x6e8),_0x2204a0[_0x427666(0x436)]=_0x427666(0x436),_0x2204a0[_0x427666(0x490)]=_0x427666(0x490),_0x2204a0[_0x427666(0x53f)]='Backgrounds',_0x2204a0[_0x427666(0x404)]=_0x427666(0x404);}(_0x1e0423||(_0x1e0423={}));class _0x5c30d0{static [_0x440fb7(0x755)];['browser'];[_0x440fb7(0x6ba)];['featureSupport']=[];constructor(){const _0x252a6b=_0x440fb7;this['browser']=_0x23929a()[_0x252a6b(0x388)][_0x252a6b(0x290)],this[_0x252a6b(0x6ba)]=_0x23929a()['browserDetails']['version'];}static[_0x440fb7(0x679)](){const _0x3b158e=_0x440fb7;return _0x5c30d0[_0x3b158e(0x755)]||(_0x5c30d0[_0x3b158e(0x755)]=new _0x5c30d0()),_0x5c30d0[_0x3b158e(0x755)];}['initialize'](){const _0x4aa23b=_0x440fb7;this['checkWebRTC'](),this[_0x4aa23b(0x4d2)](),this[_0x4aa23b(0x6ea)](),this[_0x4aa23b(0x234)](),this[_0x4aa23b(0x768)](),this[_0x4aa23b(0x614)](),this[_0x4aa23b(0x295)](),this[_0x4aa23b(0x41e)](),this[_0x4aa23b(0x383)](),_0x571f6a[_0x4aa23b(0x657)](_0x233447['Support'],_0x4aa23b(0x61c),{'browser':this['browser'],'browserVersion':this[_0x4aa23b(0x6ba)],'featureSupport':this[_0x4aa23b(0x55c)]});}[_0x440fb7(0x2eb)](_0x23e7c4){const _0x39ba62=_0x440fb7,_0x3fcec1=this['featureSupport'][_0x39ba62(0x5a9)](_0x202f00=>_0x202f00['name']===_0x23e7c4);return!!_0x3fcec1&&_0x3fcec1[_0x39ba62(0x3b7)];}[_0x440fb7(0x3e3)](_0x2bfc80){const _0x5c7207=_0x440fb7;_0x571f6a[_0x5c7207(0x4e2)]('support',{'userId':_0x2bfc80,'data':{'browser':this['browser'],'browserVersion':this['browserVersion'],'featureSupport':this[_0x5c7207(0x55c)]}});}['checkWebRTC'](){const _0x6a41ae=_0x440fb7,_0x1f421e=_0x1e0423[_0x6a41ae(0x46e)];let _0x4323ba=!0x1;_0x6a41ae(0x24f)==typeof RTCPeerConnection&&_0x6a41ae(0x24f)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x4323ba=!0x0:_0x571f6a[_0x6a41ae(0x657)](_0x233447[_0x6a41ae(0x460)],_0x6a41ae(0x48b)+_0x1f421e+_0x6a41ae(0x71b)),window['navigator'][_0x6a41ae(0x263)]&&/(Version\/\d+.*\/\d+.0.0.0 Mobile|; ?wv)/i['test'](window[_0x6a41ae(0x65b)][_0x6a41ae(0x263)])&&(_0x4323ba=!0x1,_0x571f6a[_0x6a41ae(0x657)](_0x233447['Support'],_0x6a41ae(0x48b)+_0x1f421e+_0x6a41ae(0x71b))),_0x6a41ae(0x45e)===this['browser']&&this[_0x6a41ae(0x6ba)]&&this[_0x6a41ae(0x6ba)]<0x68&&(_0x4323ba=!0x1,_0x571f6a[_0x6a41ae(0x657)](_0x233447[_0x6a41ae(0x460)],_0x6a41ae(0x48b)+_0x1f421e+_0x6a41ae(0x221))),_0x6a41ae(0x373)===this['browser']&&this['browserVersion']&&this[_0x6a41ae(0x6ba)]<0x68&&(_0x4323ba=!0x1,_0x571f6a[_0x6a41ae(0x657)](_0x233447[_0x6a41ae(0x460)],_0x6a41ae(0x48b)+_0x1f421e+_0x6a41ae(0x71e)));try{_0x6a41ae(0x509)===this[_0x6a41ae(0x290)]&&(this['browserVersion']&&this[_0x6a41ae(0x6ba)]<0xf||!window['navigator'][_0x6a41ae(0x263)]||window[_0x6a41ae(0x65b)]&&window[_0x6a41ae(0x65b)][_0x6a41ae(0x263)]&&_0x6a41ae(0x5af)==typeof window[_0x6a41ae(0x65b)]['userAgent']&&parseInt(window[_0x6a41ae(0x65b)][_0x6a41ae(0x263)]['match'](/Version\/([^\.]+)/i)?.[0x1]||'0',0xa)<0xf)&&(_0x4323ba=!0x1,_0x571f6a[_0x6a41ae(0x657)](_0x233447[_0x6a41ae(0x460)],_0x6a41ae(0x48b)+_0x1f421e+'\x20not\x20supported\x20-\x20old\x20Safari'));}catch(_0x5d7016){_0x571f6a[_0x6a41ae(0x657)](_0x233447[_0x6a41ae(0x460)],_0x6a41ae(0x537),window['navigator'][_0x6a41ae(0x263)]);}_0x6a41ae(0x696)===this[_0x6a41ae(0x290)]&&this[_0x6a41ae(0x6ba)]&&this[_0x6a41ae(0x6ba)]<0x68&&(_0x4323ba=!0x1,_0x571f6a[_0x6a41ae(0x657)](_0x233447['Support'],'Support:\x20'+_0x1f421e+_0x6a41ae(0x446))),_0x6a41ae(0x21c)===this[_0x6a41ae(0x290)]&&this[_0x6a41ae(0x6ba)]&&this[_0x6a41ae(0x6ba)]<0x5a&&(_0x4323ba=!0x1,_0x571f6a[_0x6a41ae(0x657)](_0x233447[_0x6a41ae(0x460)],'Support:\x20'+_0x1f421e+_0x6a41ae(0x2ea))),this['featureSupport'][_0x6a41ae(0x4e0)]({'name':_0x1f421e,'supported':_0x4323ba});}[_0x440fb7(0x4d2)](){const _0x12d94d=_0x440fb7,_0x32420b=_0x1e0423[_0x12d94d(0x4c8)];let _0x30ed4b=!0x1;'function'==typeof MediaStream&&_0x12d94d(0x24f)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x12d94d(0x685)==typeof navigator[_0x12d94d(0x4bc)]&&'function'==typeof navigator[_0x12d94d(0x4bc)]['getUserMedia']?_0x30ed4b=!0x0:_0x571f6a[_0x12d94d(0x657)](_0x233447[_0x12d94d(0x460)],_0x12d94d(0x48b)+_0x32420b+_0x12d94d(0x71b)),this[_0x12d94d(0x55c)][_0x12d94d(0x4e0)]({'name':_0x32420b,'supported':_0x30ed4b});}['checkScreenSharing'](){const _0x2b2e3a=_0x440fb7,_0x40c4ea=_0x1e0423[_0x2b2e3a(0x602)];let _0x5658f6=!0x1;_0x2b2e3a(0x685)==typeof navigator&&_0x2b2e3a(0x685)==typeof navigator['mediaDevices']&&_0x2b2e3a(0x24f)==typeof navigator[_0x2b2e3a(0x4bc)]['getDisplayMedia']?_0x5658f6=!0x0:_0x571f6a['log'](_0x233447['Support'],_0x2b2e3a(0x48b)+_0x40c4ea+'\x20not\x20supported'),this[_0x2b2e3a(0x55c)][_0x2b2e3a(0x4e0)]({'name':_0x40c4ea,'supported':_0x5658f6});}[_0x440fb7(0x234)](){const _0x4ddf5e=_0x440fb7,_0x1dcd13=_0x1e0423[_0x4ddf5e(0x55a)];let _0x4ef1b0=!0x1;'function'!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x4ddf5e(0x24f)!=typeof AudioWorkletNode||_0x4ddf5e(0x24f)!=typeof MediaStreamAudioSourceNode?_0x571f6a['log'](_0x233447[_0x4ddf5e(0x460)],_0x4ddf5e(0x48b)+_0x1dcd13+_0x4ddf5e(0x71b)):_0x4ef1b0=!0x0,this['featureSupport']['push']({'name':_0x1dcd13,'supported':_0x4ef1b0});}['checkDeviceConfig'](){const _0x57285d=_0x440fb7,_0x5f5d25=_0x1e0423[_0x57285d(0x6e8)];let _0x31fe8a=!0x1;_0x57285d(0x685)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&_0x57285d(0x24f)==typeof navigator['mediaDevices'][_0x57285d(0x773)]&&'function'==typeof MediaDeviceInfo?_0x31fe8a=!0x0:_0x571f6a[_0x57285d(0x657)](_0x233447[_0x57285d(0x460)],_0x57285d(0x48b)+_0x5f5d25+_0x57285d(0x71b)),this['featureSupport'][_0x57285d(0x4e0)]({'name':_0x5f5d25,'supported':_0x31fe8a});}[_0x440fb7(0x614)](){const _0x217b57=_0x440fb7,_0x244255=_0x1e0423[_0x217b57(0x436)];let _0x59229c=!0x1;_0x217b57(0x24f)==typeof document[_0x217b57(0x204)](_0x217b57(0x2c7))[_0x217b57(0x32a)]?_0x59229c=!0x0:_0x571f6a[_0x217b57(0x657)](_0x233447[_0x217b57(0x460)],_0x217b57(0x48b)+_0x244255+_0x217b57(0x71b)),this[_0x217b57(0x55c)]['push']({'name':_0x244255,'supported':_0x59229c});}async[_0x440fb7(0x295)](){const _0x2c4852=_0x440fb7,_0x5051ab=_0x1e0423[_0x2c4852(0x490)];let _0x4f5a92=!0x1;try{const _0x2f562c=document['createElement'](_0x2c4852(0x75f));if(window[_0x2c4852(0x5b4)]&&window['MediaSource']&&_0x2f562c[_0x2c4852(0x2f4)]){const _0x16e844=_0x2f562c[_0x2c4852(0x2f4)](),_0x18c5d3=new MediaRecorder(_0x16e844);_0x18c5d3[_0x2c4852(0x242)](),await new Promise(_0x4d8840=>setTimeout(_0x4d8840,0x7d0)),_0x18c5d3['stop'](),_0x4f5a92=_0x2c4852(0x681)===_0x18c5d3[_0x2c4852(0x1ce)];}}catch(_0x531be1){_0x571f6a[_0x2c4852(0x657)](_0x233447['Support'],_0x2c4852(0x48b)+_0x5051ab+_0x2c4852(0x297),_0x531be1);}this[_0x2c4852(0x55c)][_0x2c4852(0x4e0)]({'name':_0x5051ab,'supported':_0x4f5a92}),_0x4f5a92||_0x571f6a[_0x2c4852(0x657)](_0x233447[_0x2c4852(0x460)],_0x2c4852(0x48b)+_0x5051ab+_0x2c4852(0x71b));}[_0x440fb7(0x41e)](){const _0xfe2b6c=_0x440fb7,_0x30f3c1=_0x1e0423['Backgrounds'];let _0xcd95f1=!0x1;try{document[_0xfe2b6c(0x204)](_0xfe2b6c(0x75f))[_0xfe2b6c(0x2f4)]&&(_0xcd95f1=!0x0);}catch(_0x1cf534){_0x571f6a[_0xfe2b6c(0x657)](_0x233447[_0xfe2b6c(0x460)],_0xfe2b6c(0x48b)+_0x30f3c1+'\x20check\x20failed',_0x1cf534);}this[_0xfe2b6c(0x55c)][_0xfe2b6c(0x4e0)]({'name':_0x30f3c1,'supported':_0xcd95f1}),_0xcd95f1||_0x571f6a['log'](_0x233447['Support'],_0xfe2b6c(0x48b)+_0x30f3c1+_0xfe2b6c(0x71b));}[_0x440fb7(0x383)](){const _0x14389=_0x440fb7,_0xeee272=_0x1e0423[_0x14389(0x404)];let _0x40dfdc=!0x1;try{const _0x3e3575=document[_0x14389(0x204)](_0x14389(0x75f));window[_0x14389(0x5d5)]&&_0x3e3575['getContext'](_0x14389(0x21f))&&(_0x40dfdc=!0x0);}catch(_0x4923bb){_0x571f6a['log'](_0x233447[_0x14389(0x460)],_0x14389(0x48b)+_0xeee272+_0x14389(0x297),_0x4923bb);}this[_0x14389(0x55c)][_0x14389(0x4e0)]({'name':_0xeee272,'supported':_0x40dfdc}),_0x40dfdc||_0x571f6a[_0x14389(0x657)](_0x233447['Support'],_0x14389(0x48b)+_0xeee272+_0x14389(0x71b));}}const _0x492fbb=_0x5c30d0[_0x440fb7(0x679)]();class _0x49a883{static [_0x440fb7(0x755)];['authService'];['vendorId'];[_0x440fb7(0x448)];[_0x440fb7(0x339)];['authContext'];constructor(_0xad367e,_0x1d2f25,_0x7870e2){const _0x416d1f=_0x440fb7;this[_0x416d1f(0x752)]=_0xad367e,this[_0x416d1f(0x339)]=_0x1d2f25,this[_0x416d1f(0x75c)]=new _0x30750a(this[_0x416d1f(0x752)]),this[_0x416d1f(0x448)]={'audioContext':_0x7870e2?.[_0x416d1f(0x741)]??new AudioContext(),'maxOutgoingSubscriptions':_0x7870e2?.[_0x416d1f(0x1f3)]??0x1,'minConnections':_0x7870e2?.[_0x416d1f(0x4a2)]??0x3,'maxConnections':_0x7870e2?.[_0x416d1f(0x4ae)]??(_0x7870e2?.[_0x416d1f(0x4a2)]&&0x4*_0x7870e2[_0x416d1f(0x4a2)])??0xc,'maxDistance':_0x7870e2?.[_0x416d1f(0x4c7)]??0xa,'maxFps':_0x7870e2?.['maxFps']??0x18,'maxBpp':_0x7870e2?.[_0x416d1f(0x284)]??0.12,'objectStoreConnector':_0x7870e2?.[_0x416d1f(0x76c)]??_0x3b7dd2[_0x416d1f(0x3f7)],'keyValueDatabaseConnector':_0x7870e2?.[_0x416d1f(0x5eb)]??_0x567493[_0x416d1f(0x497)]},_0x7870e2?.[_0x416d1f(0x3b8)]&&_0x4a8cb3[_0x416d1f(0x5ec)](this[_0x416d1f(0x448)]['audioContext']),_0x571f6a[_0x416d1f(0x5d3)](this[_0x416d1f(0x752)]),_0x7870e2?.['loggingConnectors']&&_0x571f6a[_0x416d1f(0x2a7)](_0x7870e2[_0x416d1f(0x6e0)]),_0x492fbb[_0x416d1f(0x2a8)]();}static async[_0x440fb7(0x679)](_0x3a807b,_0x2c2516,_0x20d460){const _0x48727e=_0x440fb7,_0x1303a8=await this['validateAccess'](_0x3a807b,_0x2c2516);return _0x49a883['instance']||(_0x49a883['instance']=new _0x49a883(_0x3a807b,_0x1303a8,_0x20d460)),{'authenticateUser':_0x49a883[_0x48727e(0x755)]['authenticateUser'][_0x48727e(0x346)](_0x49a883[_0x48727e(0x755)]),'joinCluster':_0x49a883['instance'][_0x48727e(0x3b4)][_0x48727e(0x346)](_0x49a883[_0x48727e(0x755)])};}static async[_0x440fb7(0x2cf)](){const _0x30acaf=_0x440fb7;return _0x4055d0[_0x30acaf(0x278)]();}static async[_0x440fb7(0x5aa)](_0x1afd4a,_0x5c7766){const _0x2c0d7b=_0x440fb7,_0x1dfd5b=(await(0x0,_0x5172a0[_0x2c0d7b(0x630)])(_0x4055d0[_0x2c0d7b(0x354)](),'sdkValidateAccess')({'vendorId':_0x1afd4a,'accessToken':_0x5c7766}))[_0x2c0d7b(0x2f8)];return _0x1dfd5b[_0x2c0d7b(0x532)]||(_0x1dfd5b[_0x2c0d7b(0x532)]=[]),_0x1dfd5b;}async[_0x440fb7(0x6ca)](_0x58f7bd){const _0x3926a0=_0x440fb7;await this[_0x3926a0(0x75c)]['signInWithCredential'](_0x58f7bd);const _0x1b5e1d=new _0x3db502(_0x58f7bd['id'],_0x58f7bd[_0x3926a0(0x2ee)],_0x58f7bd['email']);return this[_0x3926a0(0x672)]={'user':_0x1b5e1d},_0x492fbb[_0x3926a0(0x3e3)](_0x1b5e1d[_0x3926a0(0x653)]()),{'getId':_0x1b5e1d[_0x3926a0(0x653)]['bind'](_0x1b5e1d),'getDisplayName':_0x1b5e1d[_0x3926a0(0x730)][_0x3926a0(0x346)](_0x1b5e1d),'getEmail':_0x1b5e1d['getEmail'][_0x3926a0(0x346)](_0x1b5e1d),'setDisplayName':_0x1b5e1d[_0x3926a0(0x491)][_0x3926a0(0x346)](_0x1b5e1d),'setEmail':_0x1b5e1d[_0x3926a0(0x3a2)][_0x3926a0(0x346)](_0x1b5e1d)};}async[_0x440fb7(0x3b4)](_0x369ac3){const _0x1d5de9=_0x440fb7;if(!this['authContext'])throw new _0x40d3d5(_0x1afea7[_0x1d5de9(0x50e)],'User\x20not\x20authenticated');const _0x159f45=new _0x39f768(this[_0x1d5de9(0x752)],_0x369ac3,this[_0x1d5de9(0x672)]['user'],this['authService'],this[_0x1d5de9(0x448)],this[_0x1d5de9(0x339)]);return await _0x159f45[_0x1d5de9(0x1da)](),_0x571f6a[_0x1d5de9(0x4e2)](_0x1d5de9(0x393),{'clusterId':_0x369ac3,'userId':this[_0x1d5de9(0x672)][_0x1d5de9(0x405)][_0x1d5de9(0x653)]()}),{'leave':_0x159f45[_0x1d5de9(0x5e2)][_0x1d5de9(0x346)](_0x159f45),'getUser':_0x159f45[_0x1d5de9(0x21b)][_0x1d5de9(0x346)](_0x159f45),'openPubSubTopic':_0x159f45[_0x1d5de9(0x283)][_0x1d5de9(0x346)](_0x159f45),'openObjectStoreBucket':_0x159f45[_0x1d5de9(0x561)][_0x1d5de9(0x346)](_0x159f45),'openKeyValueDatabase':_0x159f45[_0x1d5de9(0x510)]['bind'](_0x159f45),'publishLocalMediaStream':_0x159f45[_0x1d5de9(0x419)]['bind'](_0x159f45),'publishLocalDynamicMediaStream':_0x159f45[_0x1d5de9(0x724)]['bind'](_0x159f45),'getPubSubTopics':_0x159f45[_0x1d5de9(0x355)][_0x1d5de9(0x346)](_0x159f45),'getObjectStoreBuckets':_0x159f45[_0x1d5de9(0x647)]['bind'](_0x159f45),'getKeyValueDatabases':_0x159f45[_0x1d5de9(0x49b)][_0x1d5de9(0x346)](_0x159f45),'getLocalMediaStreams':_0x159f45[_0x1d5de9(0x2f9)][_0x1d5de9(0x346)](_0x159f45),'getRemoteMediaStreams':_0x159f45[_0x1d5de9(0x620)]['bind'](_0x159f45),'getRemoteUsers':_0x159f45[_0x1d5de9(0x398)][_0x1d5de9(0x346)](_0x159f45),'on':_0x159f45['on'][_0x1d5de9(0x346)](_0x159f45),'off':_0x159f45['off'][_0x1d5de9(0x346)](_0x159f45)};}}})()),_0x58ae7a;})())));