function a0_0x2ee0(_0x1499fe,_0x493ecf){const _0x274d9b=a0_0x274d();return a0_0x2ee0=function(_0x2ee0c3,_0x5cb43a){_0x2ee0c3=_0x2ee0c3-0x171;let _0x193294=_0x274d9b[_0x2ee0c3];return _0x193294;},a0_0x2ee0(_0x1499fe,_0x493ecf);}function a0_0x274d(){const _0x273942=['getAgents','bitrate','getMaxDistance','No\x20connections\x20available\x20to\x20send\x20message','timePerFrame','docs','add','remediationManager','PartialResult','cluster-disconnect','runTransaction','subscriptionManager','sendTransactionsValue','syncTransactions','ObjectStoreNotInSync','1782GJbWSh','getConnection','document-parser','CloseJobDispatcher','internalProcessJobStream','tableUnsubscriber','text','encode','Object\x20store\x20not\x20synced.','getSTVolatility','detail','getOwnerId','DataCollection','lastExecuted','every','getReceiverBitrate','frameHeight','manageAncestor','issue','PublishMediaStream','handshakeCandidates','authNode','getBitrate','KeyValueDatabase','Remote\x20connection\x20already\x20exists.','jobQueue','data','getContext','generative-ai-worker-creation-failed','GenerativeAIWorkerCreationFailed','GenerativeAIContextJobFailed','deletePendingFile','graphDatabases','previousFrames','Cannot\x20publish\x20payload:\x20','addAudioTrack','enabledChannels','GenerativeAIWorkerAlreadyExists','KeyValueDatabaseTransactionValueNotSet','handleSubscriptionMediaStreamUnavailable','disconnected','getObjectStoreBuckets','pendingFilesTransactions','onDataChannel','statsCollection','graphql','clearUpgradeTimeout','maxLayer','680346awHInv','has','clusters/','Node\x20already\x20exists.','splice','AudioContext','NeedMediaStream','remoteMediaStreams','getCoresFromCapacityReport','onBufferedAmountLow','setLoggingConnectors','problem','publishSyncCompletedAfterWrites','Synced','senderConnection','setOnMessageHandler','element','getSettings','isOpened','webgl','random','detectStreamIssues','PubSubTopic\x20publish','setProviderId','exists','addRemoteNode','signalingState','getConnectionDestinations','RequestFileWrite','responseTimeout','accumulateResult','Issue\x20detected:\x20','Invalid\x20peer\x20connection\x20event\x20destination.','senderTimeProcessing','handleSubscriptionSubscribeMediaStream','startNoThrottlingHack','addBidResponse','ConnectionNotinitialized','createRemoteMediaStream','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','getReceiverTotalBytes','unregisterSource','job-dispatcher-already-exists','AI\x20Service\x20already\x20exists','generative-ai-label-conflict','GenerativeAIContextDoesNotExist','query-helper-invalid-argument','setOnTableWriteHandler','fileSendingMap','Invalid\x20data\x20event.','available','event','Buffering\x20event','mediaDevices','ObjectStorage','cores','KeyValueDatabaseTableDoesNotExist','disconnect','Method\x20not\x20supported','getDisplayName','addCandidate','getMaxConnections','job-','messagesReceived','joinedAt','getGenerativeAIWorkers','Prompt','node','publishSystemMessage','observer','endsWith','state','getRank','logBatch','pendingHandshakeCandidates','MediaStream','ConnectionNoRetryQueue','openObjectStoreBucket','clearSubscriptionRequestTimeout','ObjectStoreInvalidState','Data\x20cluster\x20is\x20not\x20open.','joinedClusters','history','notifyCluster','signalingServer','RemoteRemove','rtt','clear','AppSync\x20subscribe','generative-ai-context-invalid-partial-result','\x20-\x20','toLocaleDateString','origin','/capacities','queueLength','getTrack','sync','Invalid\x20credentials','Channel\x20\x27','sampleRate','getFirestore','vectorDatabases','createPubSubTopic','__esModule','createBuffer','destroy','removeContent','Invalid\x20params','/transactions/lastTransaction','handleLocalTrackFailure','context','return\x20this','SHA-256','Support:\x20','getInternalTrackParams','handleUnpublishMediaStream','outgoingTopic','detectVideoIssues','models','getDistance','hasMessage','Cluster','transactions','node-does-not-exist','getIdToken','SystemTopic\x20publish','captureStream','push','.crewdle-last-transaction','NodeManager\x20-\x20NodeUpdate','Text','SubscriptionRequestNoAnswer','logEvent','canProvideResolution','successNotified','maps','loop','onCandidate','JobStream','An\x20error\x20occurred','cancel','STVolatility','toStringTag','getPubSubTopic','getDatabase','remote-connection-exists','VectorDatabaseNameNotString','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','Signaling','discoveryService','connectionPool','publishLocalDynamicMediaStream','CloseMediaStream','setupTrackEndedListeners','CrewdleSenderConnection\x20createOffer','removeOutgoingSubscription','all','PubSub','pathName','G-F7W8KXRKQB','missing-incoming-connection','rank','getSubscriptionLabel','Sender\x20connection\x20is\x20not\x20initialized.','ObjectStoreAlreadySubscribed','isNeedRestart','Context','unregisterSubscriber','clusterId','onValue','warning','setupConnectionEvents','appsync-statechange','sourceId','totalEncodeTime','local-media-stream-no-audio-context','targetId','compileStats','system-stats','GenerativeAIContext\x20stream\x20error','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','instance','VectorDatabase','Disconnect','createSenderConnection','File\x20sending\x20interrupted','handleFileRequestAnswer','contentMediator','oidc','retrieveBlocks','getSenderTotalBytes','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','onDisconnect','maxFps','generative-ai-worker-model-sync-error','Invalid\x20where\x20clause','buildQuery','appsync-connect','min','isValidMediaSubscriptionParams','tokens','tableObserver','NodeDoesNotExist','onConfigurationChange','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','complete','List','updatePropagationProperties','modelsBucketId','debug','streamLabel','getModel','JobWorker:\x20Received\x20job','processList','Bitrate','removeTrackListeners','getHash','getObjectStoreBucket','isIceCandidate','sendAction','chosenAnswers','evaluateProccessedJob','1:519415702791:web:5dd39042f881cfde3251a2','connection-not-connected','checkWebRTC','bandwidth.jitter','handleSubscribeMediaStream','createMediaStreamDestination','sdkValidateAccess','waitForSyncComplete','registerSystemPublisher','Bid','code','inactive','number','getSubscribedTracks','key-value-database-table-name-reserved','bufferedChunks','GenerativeAIContextJobTimeout','getPartsFromSubscription','FileDelete','::ï¿¿','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','getLastUpdated','updateLastTransactionId','KeyValueDatabaseAlreadyExists','crewdleSDKLoggingChannels','handleFolderCreate','Missing\x20vector\x20database\x20connector','jobWorkers','WebRTCBrowserPeerConnectionConnector','FramePerSecond','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','graph-database-already-exists','Recording','PeerConnectionInvalidDestination','digest','find','handleSubscriptionUnsubscribeMediaStream','getJobDispatchers','getFunctions','processReceiverReport','\x20to\x20send\x20dispatcherJob\x20','setTimestamp','Success','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','keyValueDatabases','cleanOldSubscription','list','generateClient','checkSyncComplete','User\x20not\x20signed\x20in','OPFSObjectStoreConnector','lastHeartbeat','removePubSubTopic','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','isSyncing','setRemoteNode','moveObject','getVectorDatabases','createRemoteNode','getAudioTracks','handleUpdateMediaStream','play','findIndex','prototype','authContext','signOut','appsync-close','auth','minThreshold','Internal\x20SDK\x20Error:\x20','asc','status','194646zqDeww','key-value-database-invalid-layout','dispatchEvent','firebase-disconnect','setScheduleTime','firebaseConfig','Table\x20not\x20found','closeConnection','processTransactionPayload','key-value-database-table-not-found','discover','setEncodingParameters','totalDecodeTime','CloseJobWorker','hasTracks','getShareableStreamId','\x20answer','getResolution','isInternalSDKConfigs','setSubscriptionRequestTimeout','CloseVectorDatabase','table','setPendingFileSyncingPayload','receiverTotalMessages','threshold','outputType','application/octet-stream','Subscription\x20request\x20does\x20not\x20exist.','availableTrackKinds','Job','round','dataBucketIds','outgoingStreams','local-media-stream-track-fail','forEach','renderElement','syncContent','jobDispatchers','runJobQueue','isRunning','vendorId','connectionConstructor','getWorkflowModels','createMediaStreamSource','ref','remote-media-stream-already-exists','srcObject','connection-not-initialized','resolutionScale','findNewMediaSubscription','createConnection','getContentType','AppSync\x20connection\x20not\x20ready','pop','stringify','Failed\x20to\x20send\x20job\x20','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','Error\x20encountered\x20while\x20opening\x20database','disableIntervalHack','track','LocalMediaStreamAlreadyExists','Upgrade','handleUnsubscribeMediaStream','getSenderBitrate','AudioContext\x20is\x20not\x20available','open','head','setupResizeHandler','transactionIds','failJob','Update','calculateSize','getCurrentMaxLayer','Invalid\x20value.\x20Must\x20be\x20an\x20object.','Low','generativeAIWorkers','MediaStreamUnavailable','dataUnsubscribers','missing-system-topic','AudioOutput','Add','Job\x20','optimizationLayers','Sync\x20complete','lastProcessRank','Node\x20does\x20not\x20exist.','Jitter','JobDispatcherJobExists','Invalid\x20publisher.','mediaUnsubscribers','answerJoin','KeyValueDatabaseCreationFailed','senderCurrentBytes','iceServers','peerConnectionConnector','removeJobDispatcher','receiverBitrate','remoteUnsubscriber','handleContentUpdateMediaStream','RoundTripTime','vector-database-does-not-exist','getLabel','\x20attributed\x20to\x20','send','startBidResponseHandling','payload','retryDelay','NodeInvalidType','receivers','getProviderId','pubsub','handleIceCandidates','removeLocalMediaStream','CannotProvideMediaStream','Emitting\x20event\x20on\x20local\x20cluster','clusters','modelId','Key-value\x20database\x20creation\x20failed.','clearRestartTimeout','getGraphDatabases','dataTopics','GraphDatabase\x20not\x20found','search','Apply\x20remediation','NeedRestart','splitParts','Data','transaction','objectToArrayBuffer','length','getUserMedia','Request','ObjectStoreAlreadyExists','unsubscribe','JobWorkerInvalidType','Connection','keys','chunks','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','getDTVolatility','createObjectStoreBucket','commitBatch','temperature','JobWorkerCreationFailed','/nodes/','prompt','deleteTransactionsForTable','onDisconnectHandler','SubscriptionRequestDoesNotExist','frameTime','AppSync\x20client\x20not\x20ready','graphService','NodeJoin','failed','getDataCollections','\x20already\x20exists','getMinConnections','openGenerativeAIWorker','ConnectionGroup','source','processTransactionsDump','transactionsToSync','SHA-1','openJobWorker','sdkCreateToken','handleSubscriptionProvideMediaStream','getWorkflowObjectStorageBuckets','processPendingHandshakeCandidates','RemoteRemediation','DocumentParser','VectorDatabaseAlreadyExists','getRoundTripTime','true','InvalidDataChannel','Stream\x20does\x20not\x20exist','us-east-1','handleError','en-US','remoteConnections','owner','getClosestNodes','generative-ai-context-job-timeout','updateDebounceTimeout','Optimization','applyRemediation','nodeManager','FeatureNotEnabled','processSenderReport','removeItem','getTime','receiverCurrentBytes','incomingManager','\x20not\x20found.','SyncComplete','string','getMediaStream','NodeManager\x20-\x20NodeLeave','estimatedPlayoutTimestamp','createFolder','waitConnected','unshift','subscriptions','notifyObjectStoreOfNodeJoin','handshakeState','maxResolution','RequestTransactionsValue','ObjectStoreInvalidPayload','ancestors','.crewdle-pending','Error\x20writing\x20chunk\x20to\x20stream','gpu','timeoutValue','Partial','setSenderTimestamp','getDisplayMedia','KeyValueDatabaseTableNameReserved','timeoutCallback','PubSubTopicNameNotString','RemoteMediaStreamInvalidSubscriptionParams','syncedFileExists','operator','onUnregisterPublisher','key-value-database-does-not-exist','support','/resources/generative-ai-model/items','KeyValueDatabase\x20not\x20found','Method\x20not\x20implemented.','created','object-store-invalid-state','openKeyValueDatabase','call','syncTimeout','handleNoAnswer','\x27\x20payload:','getCurrentVersion','fromEntries','reads','onTrack','nextNodeId','JobDispatcherAlreadyExists','isEqual','loadEnabledChannels','cluster-already-joined','Unsupported\x20job\x20type','topicLabel','jobWorkerConnector','object-store-invalid-sync-message','loadExistingContent','audioContext','publishSyncCompleted','Connection\x20does\x20not\x20exist.','checkScreenSharing','debounceProcessRank','jobObservers','scheduleTime','stopConnection','Invalid\x20subscriber.','subscriptionRequests','agentConfig','245710lJazZO','sendFile','logPropagateSystemEvent','node-invalid-type','remoteId','getEntities','writeTransaction','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','EntityExtractor','offset','/nodes','StreamReport','handleContentCloseJob','subscriptionRequestsQueue','connectionTimeout','receiverPreviousTimestamp','Model','11QgzKsT','onClose','KeyValueDatabaseTableNotFound','clearWaitSuccess','operations','No\x20destinationIds\x20left','capacityReporter','processReport','registerRemoteNode','handleNodeJoin','NodeUpdate','7043834fyJNCR','processReports','initializeSystemTopic','peer-connection','indexes','job-dispatcher-job-not-found','currentBatch','app','getPubSubTopics','Error','InvalidSubscription','detectAudioIssues','\x0aAdditional\x20data:\x20','LoggingService:\x20logging\x20enabled\x20for','enabled','PayloadAction','DataStream','Object\x20store\x20is\x20not\x20in\x20sync','setReportCapacity','getRemoteId','Get','isReconnecting','JobWorkerDoesNotExist','Core','contentManager','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','removeJobWorker','maxTokens','everyone','Error\x20closing\x20writable\x20stream','Database\x20does\x20not\x20exist','isJobRequest','destinationIds','/resources/generative-ai-collection/items','Problem','joinCluster','KeyValueDatabaseIndexNotFound','DeviceConfig','jitter','Online','hasRemoteNode','job-dispatcher-observer-not-found','byteLength','\x27\x20to\x20','total','framerate','0.4.0.0','next','listenUnsubscriber','Media','key-value-database-name-not-string','folder-create','getJobs','Cannot\x20unpublish\x20object:\x20','params','now','isWhereValues','receiver','handleContentCloseGraphDatabase','JobDispatcherObserverNotFound','autoplay','Subject','PubSubTopic\x20not\x20found','GenerativeAIModelOutputType','GenerativeAIContextCreationFailed','JobDispatcherInvalidJobType','\x20created\x20and\x20dispatched.','function','DatabaseEvent','canAddCandidates','VectorDatabaseDoesNotExist','isBidResponse','senders','enumerateDevices','Invalid\x20object\x20store\x20sync\x20message.','pow','objectRequests','maxFramerate','isConnected','Internal\x20unknown\x20error:\x20','request','PubSubTopic\x20onMessage','JobStatus','GenerativeAIWorkerStats','JobDispatcherCreationFailed','ScreenSharing','setReceiverTimestamp','writes','default','internal-sdk-error','pub-sub-topic-name-not-string','time_per_frame','getKeyValueDatabase','outgoing-stream-no-topic','handleSubscriptionNeedMediaStream','arrayBuffer','Invalid\x20query','Writable\x20stream\x20is\x20missing','receiverPreviousBytes','addNode','exports','SubscribeMediaStream','getStatus','ObjectStorageUpload','node-already-exist','features','Processing','candidate','registeredListeners','crewdle-sdk','findNextNodeId','ObjectStore','Operations:','chunk-splitter','clientWidth','evaluateBidsAndAttributeJob','checkAudioOutput','localId','MistletCapacityReportNotSet','Invalid\x20object\x20store\x20state.','senderStreams','drawImage','Detection','val','Error\x20reading\x20file\x20chunk\x20after\x20','handleOutgoingSystemEvents','isInternalLoggingConnector','Handshake','batchQueue','getWorkflow','LocalReport','NodeConnectionsUpdate','generative-ai-worker-missing-connector','systemTopicUnsubscribe','generativeAIContexts','SendTransactionsDump','Send\x20request','publishNodeLeave','wait','Node\x20not\x20authenticated','getAudioVideoDelay','error','retryCount','System','consumeBufferedEvents','content-unpublish-media','PeerConnection','JobDispatcherInvalidPayload','graph-database-does-not-exist','openPubSubTopic','label','GenerativeAIContextStats','ceil','processServiceReport','getDataBucketIds','\x27\x20reserved','checksum','client','listener','sendIceCandidates','connection-state','requestSubscription','signInWithCredential','WebGL','clearConnectionTimeout','setParams','incrementVersion','remoteNodes','path','slice','getOutgoingOptimizationConnections','GraphDatabaseCreationFailed','chooseAnswer','setOnDisconnectHandler','minResolutionScale','firebaseUnsubscriber','RemoteMediaStreamTrackFail','registerSource','isMediaDestination','removeIncomingSubscription','openVectorDatabase','All\x20recipients\x20already\x20received','ObjectStoreNotSynced','User','fps','addRemoteConnection','createLocalDynamicMediaStream','Local\x20node\x20rank\x20is\x20not\x20set','Sender','addEdge','setItem','DataChannel\x20is\x20not\x20initialized.','createKeyValueDatabase','processInboundReport','getJobWorkers','Database\x20already\x20exists','keyValueDatabaseConnector','detectProblems','graph-database-name-not-string','0.4.0','tracks','setupRenderElement','setTimeout','Node\x20is\x20not\x20an\x20agent','unregisterSystemSource','setLocalRank','user-update','processJob','storage','ObjectStoreCannotWriteTransaction','DEBUG\x20-\x20','callback','agent-update','height','GraphDatabaseMissingConnector','video','setInternalId','object-storage','ObjectStoreDoesNotExist','publish','Node','pub-sub-topic-already-subscribed','getRemoteMediaStream','syncFolder','PubSubTopicAlreadyExists','Waiting','functionsRegion','timeSending','setInterval','calculateArrayBufferSize','getPacketsLostPerc','syncKeyValueDatabase','map','roundTripTime','subscribedTracks','sendFileRequestPayload','Rejected','transformations','Agent\x20group\x20not\x20found','addConnection','connections','endpoint','isSubscribed','receiverConnection','getSize','close','Attempt\x20','transactionService','createWritableStream','cost','object-store-already-subscribed','NodeManager\x20-\x20ConnectionSuccess','https://crewdle-sdk-default-rtdb.firebaseio.com','Cannot\x20list\x20directory:\x20','.info/connected','file','object-store-not-in-sync','jobType','messageType','unregisterPublisherListener','Subscription\x20request\x20failed.','handleOffer','database','handleSubscriptionRestartNeedMediaStream','abs','emit','notifyObjectStoreOfNodeLeave','onRemoveTrack','currentTimestamp','Accepted','\x20does\x20not\x20support\x20content\x20type\x20','count','Offline','pendingFilesSyncing','Resolution','\x27\x20in\x20table\x20\x27','batchTimeout','retryCallback','KeyValueDatabaseInvalidLayout','createDataChannel','buildTableEvent','data-stream','warn','ingestBlocks','getInternalStreamId','substring','payloadType','syncResolve','stream','maxOutgoingSubscriptions','orderByKey','prompts','RestartNeedMediaStream','createGraphDatabase','findNextAncestor','size','ENOENT','subscribeToJobs','unregisterDestination','JobDispatcherDoesNotExist','reset','Receiver\x20connection\x20is\x20not\x20initialized.','modelStore','collection','Support:\x20current\x20config','ObjectKind','publishUserUpdate','ccc','Stream\x20already\x20exists','inbound-rtp','local-stream-does-not-exist','Workflow\x20not\x20initialized','systemMessages','JobDispatcherJobNotFound','developers/','resetConnection','setStatus','setupStatsCollection','bytesReceived','getNumberOutgoingSubscriptions','peer-connection-invalid-destination','RemoteMediaStreamMissingProviderId','Pool','documentParserConnector','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','startIndex','Invalid\x20version\x20\x27','width','pendingSyncTransactions','object','getMilliseconds','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Remote\x20stream\x20does\x20not\x20exist.','Logger.getInstance','connectionGroup','invalid-access','openGenerativeAIContext','getAuth','GenerativeAIContext','Missing\x20owner\x20node\x20or\x20rank','appsync-no-destination','Missing\x20graph\x20database\x20connector','mergeParts','Job\x20service\x20job\x20not\x20found.','bufferedAmount','Attribution','getRemoteMediaStreams','eventTarget','Count','ChunkSplitter','retryQueue','cpu.cycle','addReservedTables','setupStatsReporting','Invalid\x20subscription.','audioDestination','model','cpu.av_delay','maxConnections','reportMetric','nlpLibraryConnector','UnsubscribeMediaStream','uid','assign','1334655IxMwnE','waitSuccess','Job\x20service\x20observer\x20not\x20found.','removeRemoteMediaStream','writeFile','values','12TOVBPZ','logServiceEvent','\x20with\x20\x27','mediaStream','FileWrite','packets','handleContentUnsubscribeMediaStream','loggingConnectors','crewdle-sdk-stg.firebaseapp.com','MediaStream\x20feature\x20not\x20enabled','Agent','8sOtAeT','unsubscribeTrackEndedListener','links','defineProperty','updateJob','removeNode','arrayBufferToObject','framesDecoded','waitForArrayBufferSize','setupListeners','user-join','messageCallback','frames','remote-stream-missing-provider-id','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','getConnectionGroup','removeObjectStore','subscription-request-no-answer','toString','vector-database-name-not-string','isJobAttribution','connection-no-retry-queue','catch','entity-extractor','isWhereBetween','Invalid\x20table\x20name\x20\x27','deleteFileChunks','evaluatePartialJob','getQuery','split','move','PubSubTopicDoesNotExist','unsubscribeHandler','key-value-database-index-not-found','checkExistingPendingFileContent','orchestrator-close','crewdle-sdk-stg','notifyJoin','createSubscription','UnpublishMediaStream','getInstance','TimePerFrame','/transactions','DataChannel\x20is\x20not\x20open.','getName','\x20not\x20supported','cpu.time_per_frame','topK','between','featureSupport','messages','getConfigs','batchSize','Offer','collectStats','remove','Cannot\x20write\x20transaction.','registerSystemSource','crewdle-sdk-logging-','collectReceiversStats','subscription','query','topics','/stats','logSupport','request-file-sync','retryLimit','key-value-database-creation-failed','2-digit','receiverUnsubscribers','onNodeDisconnect','WorkflowDoesNotExist','streamId','Outgoing','getConnectionType','Subscription\x20request\x20has\x20not\x20been\x20answered.','logRaw','createGain','RemoteAdd','MediaStreamPriority','Generative\x20AI\x20context\x20creation\x20failed.','getLayout','isPartialResultResponse','Mistlet\x20capacity\x20report\x20not\x20set.','shouldProcessTransaction','videoWidth','isArray','GraphDatabaseStats','batch','Stats','registerCluster','VectorDatabaseCreationFailed','concat','FPS','subscribeToContent','Missing\x20transaction\x20id','statsManager','handleContentClosePubSubTopic','crewdleSDKEnableLogging','user','Receiver','outbound-rtp','stopNoThrottlingHack','JobWorker:\x20Sending\x20job\x20partial\x20result','replaceTrack','doc','listen','sort','setSinkId','sendTransactionsDump','internalId','connectionManager','processLocalReport','handleFileWrite','KeyValueDatabaseNameNotString','lastUpdated','DataChannel\x20buffer\x20is\x20full.','where','secheduleTime','message','Invalid\x20value.\x20Property\x20\x27','Module','inputTokens','Completed','Graph\x20database\x20creation\x20failed.','Internal\x20error:\x20','buffer','RequestFileSync','indexOf','add-edge','priority','subscription-request-does-not-exist','destination','isSync','FileStatus','deleteJob','getLocalMediaStreams','messageBuffer','clockSkew','updated','ObjectStoreStats','stop','floor','handleNodeJoinNeedPublishedStream','listenerUnsubscriber','onProviderChange','connection-invalid-data-event','GenerativeAIContextInvalidPartialResult','upgradeTimeout','Cannot\x20publish\x20file:\x20','Disconnected','parse','getAvailableTrackKinds','KeyValueDatabaseInvalidValue','handshakeDebounce','messagesSent','Remove','start','unregisterPublisher','topic','handlePeerConnectionSystemEvents','InvalidSubscriber','incomingTopic','handleDisconnect','CrewdleConnectionGroup','getPartsForSubscriptionLabel','DTVolatility','90jiRFSO','request-file-write','GenerativeAIContextAlreadyExists','resolution','handleRequestPayload','feature-not-enabled','getEmail','handleNeedRestart','supportsContentType','remediations','getSubscriptionInfo','senderTotalMessages','systemTopic','startsWith','JobWorkerAlreadyExists','transactionTable','key-value-database-already-exists','recipients','processBatch','getRemoteNodes','\x27:\x20missing\x20or\x20invalid\x20keyPath','senderCurrentTimestamp','removeListener','internalProcessJob','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','durationTime','connectAgent','\x20sending\x20attempt\x20','processRank','Problem\x20detected:\x20','agent-config-changed','sourceVideo','removeSubscription','handleObjectDelete','maxBitrate','processRemoteInboundReport','getTableConnector','Generative\x20AI\x20context\x20job\x20timeout.','unregisterCluster','clusterKey','SubscriptionRequestInProgress','trackEndedListeners','messageListeners','RequestSyncKeyValueDatabase','onHandshakeStateChange','parameters','createOutgoingSubscription','Jobs','getGraphDatabase','WorkflowInvalidBlockType','sendWithRetry','output','heartbeatUnsubscriber','\x27\x20in\x20layout','outputTokens','discoveryUnsubscriber','JobWorker:\x20Sending\x20job\x20reject','CloseGraphDatabase','KeyValueDatabaseInvalidQuery','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','shouldContinuePropagation','From\x20','bucketId','\x20attempts:','removeRemoteStreamSubscription','getVideoTracks','clearHeartbeat','processJobStream','connected','isFeatureSupported','setDurationTime','request-accepted','get','Restart','systemMessagesReceived','filter','displayName','validateAccess','publishNodeJoin','GenerativeAIWorkerMissingConnector','ObjectStorageBucket','write','unpublish','MissingRemoteConnection','stats','includes','DataStream\x20onMessage','CloseObjectStoreBucket','mute','minConnections','index','setEmail','Early\x20return','remote-inbound-rtp','OutgoingMediaStreamNoTopic','value','handleSuccess','api','add-node','result','sendReject','OptimizationConnectionSuccess','getSupportedContentTypes','NodeNotAuthenticated','graphDatabaseConnector','retry','packetsSent','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','key-value-database-transaction-table-not-initialized','restartTimeout','remote-media-stream-invalid-subscription-params','debounceStats','addMessage','upgrade','audioSource','\x20does\x20not\x20exists','instantiateTransactionTable','getChannelData','chunksReceived','processOutboundReports','graph-database','getBid','FolderCreate','inputType','crewdle-sdk.firebaseapp.com','bufferEvent','Job\x20service\x20creation\x20failed.','pub-sub-topic-already-exists','answer','region','handleContentCloseMediaStream','handleSubscriptionSystemEvents','getDoc','connectionState','test-page','job-dispatcher-does-not-exist','GenerativeAIWorkerModelSyncError','senderPreviousTimestamp','completeSync','set','createConstantSource','resizeHandler','signInWithCustomToken','FolderMove','JobDispatcher:\x20Received\x20job','maxBpp','dataChannel','orchestrator','deleteObject','getLocalId','requestSubscriptionAction','removeVectorDatabase','ObjectStoreInvalidPath','getPriority','420235181083','openGraphDatabase','currentVersion','MissingSystemTopic','createNewBatch','getShareableStream','writeBatch','handleContentCloseKeyValueDatabase','getModels','Subscription','issues','functions','object-storage-upload','addEventListener','GraphDatabaseDoesNotExist','handleStatsSystemEvents','\x27\x20from\x20','contentSize','clusterEventEmitter','type','contentType','handleOnMessage','getLocalMediaStream','InvalidAccess','compareTransactions','pubSubTopics','invalid-subscription','File','isMediaSource','Move','openJobDispatcher','startTime','contentRect','clientHeight','invalid-subscriber','unregisterRemoteNode','deleteRemoteNode','JobWorker:\x20Handling\x20job\x20attribution','handleContentCloseVectorDatabase','PubSub\x20already\x20exists','generative-ai-context-does-not-exist','clearSyncTimeout','canRestartHandshake','parentId','ownerId','bind','removeEventListener','CanProvideMediaStream','Model\x20store\x20not\x20initialized','handleChunkMessage','instructions','addIssue','serverTimestamp','some','sendRequest','gain','Invalid\x20index\x20in\x20table\x20\x27','previousTimestamp','handleProblem','receiverStreams','\x20check\x20failed','workflow','tableLayout','firebase-connect','statsReporting','getResolutionScale','updateDebounce','handleNodeUpdate','VectorDatabaseStats','problemType','hasTable','removeRemoteNode','connector','key','key-value-database','bytesSent','Backgrounds','ConnectionState','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','setVendorId','Medium','\x20failed.','getCapacityReport','reportCapacity','subscriptionRequestTimeouts','setUpgradeTimeout','CPUCycle','uuid','decodeJWT','handleNodeLeave','kind','getJobObservable','authenticateUser','ranges','skipEncryption','Delete','retryQueues','getTrackFromParam','Transaction','Invalid\x20job\x20service\x20payload.','onChildRemoved','Answer','GraphDatabase','jobBids','Pending','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','connecting','registerSubscriber','fileChunks','16971552xpjBFo','CloseKeyValueDatabase','KeyValueDatabaseTransactionTableNotInitialized','closed','checkWebGL','PubSubTopicAlreadySubscribed','.crewdle-layout','jobPhase','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','action','pub-sub-topic-does-not-exist','Subscribing\x20to\x20an\x20event:\x20on','VectorDatabaseMissingConnector','key-value-database-not-open','remote-stream-does-not-exist','currentFrames','Local\x20stream\x20does\x20not\x20exist.','pubsubTopics','createGenerativeAIContext','mediator','Invalid\x20workflow\x20block\x20type.','getApp','crewdleSDKDisableLogging','maxThreshold','handleObjectMove','frameWidth','Job\x20with\x20id\x20','events','setDisplayName','vector-database','reduce','OutgoingSubscription','waitSendBuffer','High','internal','CrewdleReceiverConnection\x20ontrack','getMediaSubscription','timeReceiving','mediaTopics','checkMediaRecording','handleTransactionPayload','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','removeTrackCallback','answers','LocalMediaStreamNoAudioContext','tables','handleMissingSenders','timestamp','setRemoteConnections','getTracks','CrewdleConnection\x20handlePeerConnectionSystemEvents','Connected','providerId','eventListener','bufferedEvents','Amplify','generative-ai','removeSubscriptionsForNode','ClusterAlreadyJoined','No\x20global\x20object\x20found','trackKinds','sentence-splitter','Connection\x20not\x20connected.','ConnectionInvalidDataEvent','generativeAIWorkerConnector','Restart\x20NeedMediaStream','url','detectionManager','handleContentUnpublishMediaStream','StorageEventType','handleSystemEvents','getEstimatedTimestamp','removeConnection','Cannot\x20get\x20file:\x20','QueryBuilderInvalidArgument','localMediaStreams','isResultResponse','boolean','RequestAccepted','getTransactions','getGenerativeAIContexts','handleNodeDisconnect','off','processOutboundReport','receiverCurrentTimestamp','registerDestination','get-neighbors','validateValue','trackListeners','childRemovedUnsubscriber','parseWorkflowBlocks','name','ContentType','localNode','getEnabledChannels','ClosePubSubTopic','bid','handleContentSystemEvents','getId','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','Result','receiverTimeProcessing','Content','getRemoteConnections','handleAnswer','addDoc','pendingFilesRename','streams','Downgrade','clientStream','oncloseTimeout','ObjectStoreInvalidSyncMessage','syncTransactionsWritten','Everyone\x20','parseWorkflowDocument','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','canChooseAnswer','setReceiverBytes','setCurrentVersion','createLocalMediaStream','getAncestorIds','Job\x20Dispatcher\x20already\x20exists','sendStats','padStart','AudioVolume','active','notifyClusterNodeUpdate','JobType','JobWorker:\x20Error\x20processing\x20job','handleDetectionSystemEvents','AI\x20worker\x20creation\x20failed.','handleFileSync','senderPreviousBytes','detectLocalIssues','interval','from','getLocalNode','authService','isProduction','getKeyValueDatabases','waitAnswer','listenerUnsubscribers','dbKey','onremovetrack','Internal\x20SDK\x20error:\x20','SystemStats','sendBid','Stats:\x20report','getJob','remainingTracks','getTotalBytes','handleRemediationSystemEvents','validateLayout','canvas','createJobWorker','tableName','object-store-already-exists','removeKeyValueDatabase','codes','lastCapacityReport','insert','Support','UpdateMediaStream','getDocs','getReport','not-in','processDataChannelReport','checkAudioContext','handleOptimizationConnectionSuccess','agent','extendedRecipients','getConnections','log','Cluster\x20already\x20joined','KeyValueDatabaseStats','Folder','LocalMediaStreamDoesNotExist','packetsLost','Valid\x20layout','generative-ai-worker-already-exists','missing-datachannel','mistlet-capacity-report-not-set','Incoming','media-stream','KeyValueDatabaseDoesNotExist','closeTopic','logStorage','minRelevance','notifyClusterNodeJoin','newPath','connect','nodeId','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','removeGraphDatabase','Base\x20Peer\x20Connection','Rejected\x20answer','RemoteMediaStreamAlreadyExists','checkDeviceConfig','crewdle-sdk-stg.appspot.com','connectionType','content','PubSubTopicStats','getAncestors','publishMove','objectStores','handleFileRequest','disconnectCallback','system','statsReport','st_volatility','RequestFile','processPendingSyncTransactions','generative-ai-context-already-exists','getNeighbors','Default','createReceiverConnection','layout','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','createIncomingSubscription','subtle','vectorDatabaseConnector','\x20deleted.','ended','limit','SentenceSplitter','NodeLeave','getRemoteNode','initialize','GraphDatabaseAlreadyExists','undefined','removeRemoteConnection','getNextTargetRank','delete','manageOptimization','Invalid\x20key\x20\x27','ObjectStoreNameNotString','IDBDatabaseConnector','isFailedResponse','channel','nodes','detection','audio','Remediation','options','RemoteMediaStreamDoesNotExist','createOffer','component','Chosen\x20answer','lastTransactionId','chunk','counter','handleContentRemoteMediaStreamTrackFail','\x20with\x20response:','job-dispatcher-job-exists','unsubscribeListener','All','createTopic','eventEmitter','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','ConnectionNotConnected','createElement','connectionStateListener','clearWaitAnswer','SubscriptionRequestFailed','publishFolder','JobWorker:\x20Sending\x20job\x20result','text/plain','hasOwnProperty','observe','setRank','load','Job\x20Worker\x20does\x20not\x20exist','tail','senderBitrate','Key-value\x20database\x20transaction\x20value\x20not\x20set.','globalObject','completed','messageUnsubscriber','trackCallback','aws','Invalid\x20data\x20channel.','handleJobAttribution','updateLastUpdated','createJobDispatcher','addContent','version','sender','setBytes','No\x20answer\x20block\x20found','getTable','setConnectionType','framesEncoded','isAvailable','Vector','setPriority','InvalidPublisher','Additional\x20context:\x0a','subscription-request-in-progress','KeyValueDatabaseNotOpen','AppSync\x20publish','distance','generative-ai-context-creation-failed','AI\x20Worker\x20already\x20exists','currentBytes','isOffer','firestore','cluster-leave','AudioVideoDelay','job-dispatcher-invalid-payload','addPendingHandshakeCandidate','Hub','getTransactionFromTableWriteEvent','keyPath','Generative\x20AI\x20context\x20job\x20failed.','addTrack','/logs','publishLocalMediaStream','6852DLyJCw','/objectstores/','jobs','propagate','max','maxDistance','publishTransaction','debugEnabled','.gguf','object-store-invalid-path','lastRemediations','/developers/','update','createVectorDatabase','checkBackgrounds','Failed','asObservable','\x20received\x20responses:','\x20received\x20result:','addProblem','\x20received\x20partial\x20result:','createGenerativeAIWorker','agent-join','unregisterSystemPublisher','amd','NodeType','handleContentSubscribeMediaStream','answererId','subscribe','registerPublisher','Unexpected\x20output\x20type','subscription-request-failed','blocks','Missing\x20answerer\x20id\x20on\x20request\x20answer','handleHandshake','FileMove','previous','IncomingSubscription','\x20failed.\x20Retrying...','WebRTC','handleRemoteTrackFailure','Error\x20committing\x20batch:','email','outgoingManager','onMessage','evaluateBids','processInboundReports','limitToFirst','shift','Model\x20not\x20found:\x20','setTransformations','clearOncloseTimeout','orderBy','Received\x20track','dt_volatility','GenerativeAILabelConflict','invalid-publisher','leave','checkAudioVolume','entries','InternalSDKError','sendChunked','addVideoTrack','handleConnectionSuccess','remediation','objectStoreConnector','connection','Vector\x20database\x20creation\x20failed.','handleNodeSystemEvents','nodeKey','createPendingFileWrite','bandwidth.bitrate','LocalMediaStreamTrackFail','Internal\x20event\x20\x27','validateQuery','Workflow\x20does\x20not\x20exist.','Events','\x20finalized.','closeSubscription','key-value-database-transaction-value-not-set','isWhereValue','job-worker-does-not-exist','job-worker-creation-failed','handleContentCloseObjectStore','match','getOrResetPendingFileTimeout','removeTrack','join','RemoteConnectionExists','groupId','getVectorDatabase','end','startHeartbeat','token','configs','/transactions/','checkMediaStream','replace','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','dataStores','queues'];a0_0x274d=function(){return _0x273942;};return a0_0x274d();}(function(_0x122133,_0x3301ae){const _0x585b0f=a0_0x2ee0,_0x45ac89=_0x122133();while(!![]){try{const _0x47715=-parseInt(_0x585b0f(0x45c))/0x1*(-parseInt(_0x585b0f(0x1cb))/0x2)+-parseInt(_0x585b0f(0x7c6))/0x3*(parseInt(_0x585b0f(0x752))/0x4)+parseInt(_0x585b0f(0x456))/0x5+parseInt(_0x585b0f(0x7f6))/0x6+-parseInt(_0x585b0f(0x2ea))/0x7*(parseInt(_0x585b0f(0x467))/0x8)+parseInt(_0x585b0f(0x50e))/0x9*(-parseInt(_0x585b0f(0x2ce))/0xa)+parseInt(_0x585b0f(0x2df))/0xb*(parseInt(_0x585b0f(0x615))/0xc);if(_0x47715===_0x3301ae)break;else _0x45ac89['push'](_0x45ac89['shift']());}catch(_0x55d5df){_0x45ac89['push'](_0x45ac89['shift']());}}}(a0_0x274d,0xa9308),!function(_0x2c4441,_0x174083){const _0x45079e=a0_0x2ee0;if(_0x45079e(0x433)==typeof exports&&_0x45079e(0x433)==typeof module)module[_0x45079e(0x34e)]=_0x174083();else{if(_0x45079e(0x32d)==typeof define&&define[_0x45079e(0x76a)])define([],_0x174083);else{var _0x3085e0=_0x174083();for(var _0x15ca8d in _0x3085e0)('object'==typeof exports?exports:_0x2c4441)[_0x15ca8d]=_0x3085e0[_0x15ca8d];}}}(this,()=>((()=>{'use strict';const _0x13fde2=a0_0x2ee0;var _0x2b3ae0={0x14d:(_0x3c1857,_0x44040a,_0x2750cd)=>{const _0x1136e2=a0_0x2ee0;_0x2750cd['d'](_0x44040a,{'O':()=>_0x44c691});const _0x44c691={'version':_0x1136e2(0x318),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x1136e2(0x579),'authDomain':_0x1136e2(0x464),'databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':_0x1136e2(0x48b),'storageBucket':_0x1136e2(0x6db),'appId':_0x1136e2(0x183),'functionsRegion':'northamerica-northeast1'},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x1136e2(0x27a)}};},0x33b:(_0x487cb1,_0x2fb8ce,_0x4841d9)=>{_0x4841d9['d'](_0x2fb8ce,{'O':()=>_0x282774});const _0x282774={};},0x3e6:(_0x4dfe22,_0x1b3250,_0xac30b5)=>{const _0x30ce87=a0_0x2ee0;_0xac30b5['d'](_0x1b3250,{'O':()=>_0x52ad68});const _0x52ad68={'version':_0x30ce87(0x3b1),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':_0x30ce87(0x58a),'databaseURL':_0x30ce87(0x3e6),'projectId':_0x30ce87(0x357),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x30ce87(0x5a8),'appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':_0x30ce87(0x895)},'aws':{'endpoint':_0x30ce87(0x435),'region':'us-east-1'}};},0x20:(_0x81ea7d,_0x54aaff,_0x11a465)=>{_0x11a465['d'](_0x54aaff,{'O':()=>_0x1c78a1});const _0x1c78a1={};}},_0x5213e6={};function _0x56888f(_0x5d3ba8){const _0x404102=a0_0x2ee0;var _0x1d4259=_0x5213e6[_0x5d3ba8];if(void 0x0!==_0x1d4259)return _0x1d4259[_0x404102(0x34e)];var _0x26026d=_0x5213e6[_0x5d3ba8]={'exports':{}};return _0x2b3ae0[_0x5d3ba8](_0x26026d,_0x26026d[_0x404102(0x34e)],_0x56888f),_0x26026d[_0x404102(0x34e)];}_0x56888f['d']=(_0x2ec0f1,_0x41211e)=>{const _0x13f598=a0_0x2ee0;for(var _0x21ef0b in _0x41211e)_0x56888f['o'](_0x41211e,_0x21ef0b)&&!_0x56888f['o'](_0x2ec0f1,_0x21ef0b)&&Object[_0x13f598(0x46a)](_0x2ec0f1,_0x21ef0b,{'enumerable':!0x0,'get':_0x41211e[_0x21ef0b]});},_0x56888f['g']=(function(){const _0x3cfe64=a0_0x2ee0;if(_0x3cfe64(0x433)==typeof globalThis)return globalThis;try{return this||new Function(_0x3cfe64(0x865))();}catch(_0x47f8e6){if(_0x3cfe64(0x433)==typeof window)return window;}}()),_0x56888f['o']=(_0x25a7a6,_0x15341b)=>Object[_0x13fde2(0x1c2)]['hasOwnProperty'][_0x13fde2(0x2b1)](_0x25a7a6,_0x15341b),_0x56888f['r']=_0x3e887e=>{const _0xe2da94=_0x13fde2;'undefined'!=typeof Symbol&&Symbol['toStringTag']&&Object[_0xe2da94(0x46a)](_0x3e887e,Symbol[_0xe2da94(0x884)],{'value':_0xe2da94(0x4e0)}),Object[_0xe2da94(0x46a)](_0x3e887e,_0xe2da94(0x85d),{'value':!0x0});};var _0x12afa6,_0x33071f,_0x2582bf,_0x503f51={};_0x56888f['r'](_0x503f51),_0x56888f['d'](_0x503f51,{'KeyValueDatabase':()=>_0x847394,'LayoutBuilder':()=>_0x491383,'LoggingChannels':()=>_0x2582bf,'QueryBuilder':()=>_0x58ce98,'SDK':()=>_0x1285d8,'SDKClientErrorCodes':()=>_0x12afa6,'TableBuilder':()=>_0x212004,'logger':()=>_0x3d0f37}),function(_0x7df330){const _0x5d2d6a=_0x13fde2;_0x7df330[_0x5d2d6a(0x64f)]=_0x5d2d6a(0x2bd),_0x7df330['FeatureNotEnabled']=_0x5d2d6a(0x513),_0x7df330[_0x5d2d6a(0x510)]=_0x5d2d6a(0x6e9),_0x7df330[_0x5d2d6a(0x823)]=_0x5d2d6a(0x5d0),_0x7df330[_0x5d2d6a(0x789)]=_0x5d2d6a(0x822),_0x7df330[_0x5d2d6a(0x7eb)]=_0x5d2d6a(0x6c8),_0x7df330[_0x5d2d6a(0x55d)]=_0x5d2d6a(0x36e),_0x7df330[_0x5d2d6a(0x596)]=_0x5d2d6a(0x8b8),_0x7df330[_0x5d2d6a(0x6f9)]=_0x5d2d6a(0x1a2),_0x7df330['GraphDatabaseDoesNotExist']=_0x5d2d6a(0x37e),_0x7df330[_0x5d2d6a(0x3c0)]='graph-database-missing-connector',_0x7df330['GraphDatabaseNameNotString']=_0x5d2d6a(0x3b0),_0x7df330['JobDispatcherAlreadyExists']=_0x5d2d6a(0x820),_0x7df330[_0x5d2d6a(0x415)]=_0x5d2d6a(0x595),_0x7df330['JobDispatcherJobExists']=_0x5d2d6a(0x712),_0x7df330[_0x5d2d6a(0x423)]=_0x5d2d6a(0x2ef),_0x7df330[_0x5d2d6a(0x32b)]='job-dispatcher-invalid-job-type',_0x7df330[_0x5d2d6a(0x51c)]='job-worker-already-exists',_0x7df330['JobWorkerDoesNotExist']=_0x5d2d6a(0x7a3),_0x7df330['ObjectStoreAlreadyExists']=_0x5d2d6a(0x6b1),_0x7df330['ObjectStoreAlreadySubscribed']=_0x5d2d6a(0x3e4),_0x7df330[_0x5d2d6a(0x3c4)]='object-store-stream-does-not-exist',_0x7df330[_0x5d2d6a(0x700)]='object-store-name-not-string',_0x7df330[_0x5d2d6a(0x299)]='object-store-invalid-payload',_0x7df330[_0x5d2d6a(0x5a6)]=_0x5d2d6a(0x75b),_0x7df330['ObjectStoreNotInSync']=_0x5d2d6a(0x3ea),_0x7df330[_0x5d2d6a(0x78e)]=_0x5d2d6a(0x343),_0x7df330['InvalidAccess']=_0x5d2d6a(0x439),_0x7df330['KeyValueDatabaseAlreadyExists']=_0x5d2d6a(0x51e),_0x7df330['KeyValueDatabaseDoesNotExist']=_0x5d2d6a(0x2a9),_0x7df330[_0x5d2d6a(0x30e)]=_0x5d2d6a(0x488),_0x7df330[_0x5d2d6a(0x548)]='key-value-database-invalid-query',_0x7df330[_0x5d2d6a(0x500)]='key-value-database-invalid-value',_0x7df330[_0x5d2d6a(0x4d9)]=_0x5d2d6a(0x31c),_0x7df330[_0x5d2d6a(0x73f)]=_0x5d2d6a(0x622),_0x7df330[_0x5d2d6a(0x2a2)]=_0x5d2d6a(0x191),_0x7df330['KeyValueDatabaseTableNotFound']=_0x5d2d6a(0x1d4),_0x7df330[_0x5d2d6a(0x400)]=_0x5d2d6a(0x1cc),_0x7df330[_0x5d2d6a(0x207)]='local-media-stream-already-exists',_0x7df330[_0x5d2d6a(0x641)]=_0x5d2d6a(0x8a5),_0x7df330['PubSubTopicAlreadyExists']=_0x5d2d6a(0x58d),_0x7df330[_0x5d2d6a(0x486)]=_0x5d2d6a(0x61f),_0x7df330[_0x5d2d6a(0x2a4)]=_0x5d2d6a(0x344),_0x7df330[_0x5d2d6a(0x61a)]=_0x5d2d6a(0x3c7),_0x7df330[_0x5d2d6a(0x65f)]=_0x5d2d6a(0x824),_0x7df330[_0x5d2d6a(0x6d9)]=_0x5d2d6a(0x1f8),_0x7df330[_0x5d2d6a(0x2a5)]=_0x5d2d6a(0x57c),_0x7df330[_0x5d2d6a(0x536)]=_0x5d2d6a(0x73e),_0x7df330[_0x5d2d6a(0x575)]='node-not-authenticated',_0x7df330[_0x5d2d6a(0x236)]=_0x5d2d6a(0x2d1),_0x7df330['NodeTypeNotSupported']='node-type-not-supported',_0x7df330[_0x5d2d6a(0x275)]='vector-database-already-exists',_0x7df330['VectorDatabaseDoesNotExist']=_0x5d2d6a(0x22f),_0x7df330['VectorDatabaseMissingConnector']='vector-database-missing-connector',_0x7df330[_0x5d2d6a(0x888)]=_0x5d2d6a(0x47a);}(_0x12afa6||(_0x12afa6={}));class _0x3fd286 extends Error{[_0x13fde2(0x18d)];constructor(_0x6099f7,_0x374b41){const _0x44e711=_0x13fde2;super(_0x374b41),this[_0x44e711(0x18d)]=_0x6099f7;}}!function(_0x12049d){const _0x7272d4=_0x13fde2;_0x12049d['PubSub']=_0x7272d4(0x239),_0x12049d['ObjectStorage']=_0x7272d4(0x3c3),_0x12049d[_0x7272d4(0x7dd)]=_0x7272d4(0x5f2),_0x12049d[_0x7272d4(0x8ac)]=_0x7272d4(0x632),_0x12049d[_0x7272d4(0x60e)]=_0x7272d4(0x586),_0x12049d[_0x7272d4(0x841)]='media-stream',_0x12049d[_0x7272d4(0x43c)]=_0x7272d4(0x64d);}(_0x33071f||(_0x33071f={})),function(_0x22f779){const _0x3d5adb=_0x13fde2;_0x22f779[_0x3d5adb(0x714)]=_0x3d5adb(0x892),_0x22f779[_0x3d5adb(0x6eb)]=_0x3d5adb(0x342),_0x22f779[_0x3d5adb(0x252)]=_0x3d5adb(0x794),_0x22f779[_0x3d5adb(0x5f5)]=_0x3d5adb(0x38a),_0x22f779[_0x3d5adb(0x86f)]='cluster',_0x22f779[_0x3d5adb(0x67b)]='content',_0x22f779['DataStream']=_0x3d5adb(0x403),_0x22f779['Detection']=_0x3d5adb(0x705),_0x22f779['Events']=_0x3d5adb(0x630),_0x22f779[_0x3d5adb(0x2f3)]=_0x3d5adb(0x377),_0x22f779[_0x3d5adb(0x53d)]=_0x3d5adb(0x754),_0x22f779['Node']=_0x3d5adb(0x839),_0x22f779[_0x3d5adb(0x42c)]='pool',_0x22f779['PubSub']=_0x3d5adb(0x239),_0x22f779[_0x3d5adb(0x707)]=_0x3d5adb(0x792),_0x22f779['Signaling']='signaling',_0x22f779[_0x3d5adb(0x4c0)]=_0x3d5adb(0x562),_0x22f779[_0x3d5adb(0x5b1)]=_0x3d5adb(0x4a3),_0x22f779[_0x3d5adb(0x6b6)]=_0x3d5adb(0x2aa),_0x22f779[_0x3d5adb(0x379)]=_0x3d5adb(0x6e4),_0x22f779[_0x3d5adb(0x6a6)]=_0x3d5adb(0x8a8),_0x22f779['TestPage']=_0x3d5adb(0x594),_0x22f779[_0x3d5adb(0x37c)]=_0x3d5adb(0x2ed);}(_0x2582bf||(_0x2582bf={}));const _0x15de5e=require('@crewdle/web-sdk-types');class _0x58ce98{[_0x13fde2(0x4a4)];constructor(_0x3073fa){const _0x1cf0a0=_0x13fde2;this['query']={'orderBy':{'key':_0x3073fa,'direction':_0x1cf0a0(0x1c9)}};}static[_0x13fde2(0x568)](_0x421780){const _0x24490d=_0x13fde2;if(_0x24490d(0x28d)!=typeof _0x421780||0x0===_0x421780[_0x24490d(0x24c)])throw new _0x3fd286(_0x12afa6[_0x24490d(0x65f)],_0x24490d(0x8b5));return new _0x58ce98(_0x421780);}static[_0x13fde2(0x79c)](_0x1c5f03){const _0x1889fc=_0x13fde2;try{return _0x58ce98[_0x1889fc(0x8ba)](_0x1c5f03),!0x0;}catch(_0x2202f6){return!0x1;}}static[_0x13fde2(0x8ba)](_0x79dc40){const _0x1d3e7e=_0x13fde2,_0xbc6e07=_0x58ce98['index'](_0x79dc40['orderBy']?.[_0x1d3e7e(0x5f1)]??_0x79dc40[_0x1d3e7e(0x4dc)]?.[_0x1d3e7e(0x5f1)]??'');if(_0x79dc40[_0x1d3e7e(0x4dc)]){const _0x785568=_0x79dc40[_0x1d3e7e(0x4dc)];if((_0x58ce98[_0x1d3e7e(0x7a2)](_0x785568)||_0x58ce98[_0x1d3e7e(0x322)](_0x785568)||_0x58ce98[_0x1d3e7e(0x47f)](_0x785568))&&_0xbc6e07[_0x1d3e7e(0x4dc)](_0x785568['operator'],_0x785568[_0x1d3e7e(0x56d)]),_0x79dc40[_0x1d3e7e(0x786)]?.[_0x1d3e7e(0x5f1)]&&_0x79dc40[_0x1d3e7e(0x786)]?.['key']!==_0x79dc40[_0x1d3e7e(0x4dc)]['key'])throw new _0x3fd286(_0x12afa6[_0x1d3e7e(0x65f)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x79dc40[_0x1d3e7e(0x786)]&&_0xbc6e07['orderBy'](_0x79dc40[_0x1d3e7e(0x786)]['direction']),_0x79dc40[_0x1d3e7e(0x6f4)]&&_0xbc6e07[_0x1d3e7e(0x6f4)](_0x79dc40[_0x1d3e7e(0x6f4)]),_0x79dc40[_0x1d3e7e(0x2d7)]&&_0xbc6e07[_0x1d3e7e(0x2d7)](_0x79dc40['offset']),_0xbc6e07;}[_0x13fde2(0x483)](){const _0x1be448=_0x13fde2;return{...this[_0x1be448(0x4a4)]};}[_0x13fde2(0x4dc)](_0x2221c1,_0x29edd5){const _0x3cc691=_0x13fde2,_0x3038c3={'key':this['query'][_0x3cc691(0x786)][_0x3cc691(0x5f1)],'operator':_0x2221c1,'value':_0x29edd5};if(!_0x58ce98[_0x3cc691(0x7a2)](_0x3038c3)&&!_0x58ce98[_0x3cc691(0x322)](_0x3038c3)&&!_0x58ce98['isWhereBetween'](_0x3038c3))throw new _0x3fd286(_0x12afa6[_0x3cc691(0x65f)],_0x3cc691(0x8b9));return this[_0x3cc691(0x4a4)][_0x3cc691(0x4dc)]=_0x3038c3,this;}[_0x13fde2(0x786)](_0x1e9381){const _0x576ca2=_0x13fde2;if(_0x576ca2(0x1c9)!==_0x1e9381&&'desc'!==_0x1e9381)throw new _0x3fd286(_0x12afa6['QueryBuilderInvalidArgument'],_0x576ca2(0x6ee));return this['query'][_0x576ca2(0x786)]['direction']=_0x1e9381,this;}[_0x13fde2(0x6f4)](_0x2e8ce8){const _0xe6b391=_0x13fde2;if(_0xe6b391(0x18f)!=typeof _0x2e8ce8||_0x2e8ce8<0x0)throw new _0x3fd286(_0x12afa6[_0xe6b391(0x65f)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0xe6b391(0x6f4)]=_0x2e8ce8,this;}['offset'](_0x54fb99){const _0x2e6f6f=_0x13fde2;if(_0x2e6f6f(0x18f)!=typeof _0x54fb99||_0x54fb99<0x0)throw new _0x3fd286(_0x12afa6[_0x2e6f6f(0x65f)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x2e6f6f(0x4a4)]['offset']=_0x54fb99,this;}static[_0x13fde2(0x7a2)](_0x556075){const _0x3a8dd8=_0x13fde2;if(!(_0x556075&&_0x3a8dd8(0x433)==typeof _0x556075&&'operator'in _0x556075&&_0x3a8dd8(0x56d)in _0x556075))return!0x1;const {operator:_0x520cc7,value:_0x3afeb5}=_0x556075;return!(!['==','!=','>','<','<=','>=']['includes'](_0x520cc7)||Array[_0x3a8dd8(0x4bd)](_0x3afeb5));}static[_0x13fde2(0x322)](_0x44e9b5){const _0x159268=_0x13fde2;if(!(_0x44e9b5&&_0x159268(0x433)==typeof _0x44e9b5&&_0x159268(0x2a7)in _0x44e9b5&&_0x159268(0x56d)in _0x44e9b5))return!0x1;const {operator:_0x5be7e2,value:_0x43fb36}=_0x44e9b5;return!(!['in',_0x159268(0x6ba)]['includes'](_0x5be7e2)||!Array[_0x159268(0x4bd)](_0x43fb36));}static[_0x13fde2(0x47f)](_0x47ffbd){const _0x3e9be5=_0x13fde2;if(!(_0x47ffbd&&_0x3e9be5(0x433)==typeof _0x47ffbd&&_0x3e9be5(0x2a7)in _0x47ffbd&&_0x3e9be5(0x56d)in _0x47ffbd))return!0x1;const {operator:_0x4804cd,value:_0x116e33}=_0x47ffbd;return!(_0x3e9be5(0x497)!==_0x4804cd||!Array['isArray'](_0x116e33)||0x2!==_0x116e33[_0x3e9be5(0x24c)]);}}class _0x491383{[_0x13fde2(0x6ed)];constructor(_0x502d74){const _0x5ce568=_0x13fde2;this[_0x5ce568(0x6ed)]={'tables':{},'version':_0x502d74};}static[_0x13fde2(0x6ad)](_0x50a5e8){const _0x1846d9=_0x13fde2;for(const _0x31318a in _0x50a5e8){if(_0x1846d9(0x732)!==_0x31318a&&_0x1846d9(0x642)!==_0x31318a)return[!0x1,_0x1846d9(0x6ff)+_0x31318a+_0x1846d9(0x543)];if(_0x1846d9(0x642)===_0x31318a)for(const _0x3003a9 in _0x50a5e8[_0x1846d9(0x642)]){if(_0x1846d9(0x28d)!=typeof _0x3003a9)return[!0x1,_0x1846d9(0x480)+_0x3003a9+'\x27'];for(const _0x126f43 in _0x50a5e8[_0x1846d9(0x642)][_0x3003a9]){if(_0x1846d9(0x2ee)!==_0x126f43)return[!0x1,_0x1846d9(0x6ff)+_0x126f43+_0x1846d9(0x3fd)+_0x3003a9+'\x27'];const _0x120b33=_0x50a5e8[_0x1846d9(0x642)][_0x3003a9][_0x126f43]??[];for(const _0x2d3e22 of _0x120b33)if(void 0x0===_0x2d3e22[_0x1846d9(0x74d)]||_0x1846d9(0x28d)!=typeof _0x2d3e22['keyPath'])return[!0x1,_0x1846d9(0x5e0)+_0x3003a9+_0x1846d9(0x522)];}}else{if(_0x1846d9(0x732)===_0x31318a&&_0x1846d9(0x18f)!=typeof _0x50a5e8[_0x31318a])return[!0x1,_0x1846d9(0x430)+_0x50a5e8[_0x31318a]+_0x1846d9(0x8aa)];}}return[!0x0,_0x1846d9(0x6c7)];}static['layout'](_0x4695a9){const _0x52612d=_0x13fde2,_0x59032a=new _0x491383(_0x4695a9);return _0x59032a[_0x52612d(0x6ed)][_0x52612d(0x732)]=_0x4695a9,_0x59032a;}[_0x13fde2(0x1e0)](_0x3a5874){const _0x44a141=_0x13fde2;return this[_0x44a141(0x6ed)]['tables'][_0x3a5874]={},new _0x212004(this['layout'][_0x44a141(0x642)][_0x3a5874]);}['getLayout'](){const _0xf88e21=_0x13fde2;return this[_0xf88e21(0x6ed)];}}class _0x212004{['tableLayout'];constructor(_0x31da25){const _0x501c04=_0x13fde2;this[_0x501c04(0x5e6)]=_0x31da25;}[_0x13fde2(0x568)](_0x568c35){const _0x1a5f80=_0x13fde2;return this[_0x1a5f80(0x5e6)][_0x1a5f80(0x2ee)]=this[_0x1a5f80(0x5e6)][_0x1a5f80(0x2ee)]??[],this[_0x1a5f80(0x5e6)][_0x1a5f80(0x2ee)][_0x1a5f80(0x875)]({'keyPath':_0x568c35}),this;}}const _0x4dc292=0x40000,_0x4f343e=0x3f800,_0x40c1eb=_0x13fde2(0x876),_0x10ea18=_0x13fde2(0x29b),_0x643fcd='.crewdle-transactions',_0x3cfb9b=_0x13fde2(0x61b),_0x479f75=0x7530,_0x57a327=0x493e0,_0x508a91=_0x13fde2(0x75a),_0x1d8263=0x200,_0x2de6c6=_0x13fde2(0x637);var _0x28a725;!function(_0x436f0c){const _0x12809d=_0x13fde2;_0x436f0c[_0x12809d(0x81b)]=_0x12809d(0x1fa),_0x436f0c[_0x12809d(0x718)]=_0x12809d(0x184),_0x436f0c[_0x12809d(0x842)]=_0x12809d(0x47c),_0x436f0c[_0x12809d(0x654)]=_0x12809d(0x4f9),_0x436f0c[_0x12809d(0x32a)]=_0x12809d(0x742),_0x436f0c[_0x12809d(0x7e4)]='generative-ai-context-job-failed',_0x436f0c[_0x12809d(0x193)]=_0x12809d(0x280),_0x436f0c['GenerativeAIContextInvalidPartialResult']=_0x12809d(0x84f),_0x436f0c[_0x12809d(0x7e3)]=_0x12809d(0x7e2),_0x436f0c[_0x12809d(0x395)]='graph-database-creation-failed',_0x436f0c['InvalidDataChannel']='invalid-data-chanel',_0x436f0c[_0x12809d(0x73c)]=_0x12809d(0x78a),_0x436f0c[_0x12809d(0x508)]=_0x12809d(0x5ca),_0x436f0c[_0x12809d(0x2f4)]=_0x12809d(0x5c2),_0x436f0c[_0x12809d(0x33e)]='job-dispatcher-creation-failed',_0x436f0c[_0x12809d(0x37d)]=_0x12809d(0x749),_0x436f0c[_0x12809d(0x423)]=_0x12809d(0x2ef),_0x436f0c[_0x12809d(0x325)]=_0x12809d(0x313),_0x436f0c[_0x12809d(0x25a)]=_0x12809d(0x7a4),_0x436f0c[_0x12809d(0x251)]='job-worker-invalid-type',_0x436f0c[_0x12809d(0x226)]=_0x12809d(0x4aa),_0x436f0c[_0x12809d(0x82e)]='key-value-database-table-does-not-exist',_0x436f0c['KeyValueDatabaseTransactionTableNotInitialized']=_0x12809d(0x57a),_0x436f0c['KeyValueDatabaseTransactionValueNotSet']=_0x12809d(0x7a1),_0x436f0c['LocalMediaStreamDoesNotExist']=_0x12809d(0x420),_0x436f0c[_0x12809d(0x561)]=_0x12809d(0x896),_0x436f0c[_0x12809d(0x5ab)]=_0x12809d(0x219),_0x436f0c['MistletCapacityReportNotSet']=_0x12809d(0x6ca),_0x436f0c['ObjectStoreCannotWriteTransaction']='object-store-cannot-write-transaction',_0x436f0c[_0x12809d(0x845)]=_0x12809d(0x2af),_0x436f0c['ObjectStoreInvalidSyncMessage']=_0x12809d(0x2c1),_0x436f0c[_0x12809d(0x3a0)]='object-store-not-synced',_0x436f0c['OutgoingMediaStreamNoTopic']=_0x12809d(0x347),_0x436f0c[_0x12809d(0x709)]=_0x12809d(0x623),_0x436f0c['RemoteMediaStreamMissingProviderId']=_0x12809d(0x474),_0x436f0c[_0x12809d(0x7aa)]=_0x12809d(0x887),_0x436f0c[_0x12809d(0x25f)]=_0x12809d(0x4ea),_0x436f0c[_0x12809d(0x71c)]=_0x12809d(0x771),_0x436f0c[_0x12809d(0x879)]=_0x12809d(0x478),_0x436f0c[_0x12809d(0x8c0)]=_0x12809d(0x871),_0x436f0c['NodeAlreadyExist']=_0x12809d(0x352),_0x436f0c[_0x12809d(0x1a4)]=_0x12809d(0x42a),_0x436f0c[_0x12809d(0x4c2)]='vector-database-creation-failed',_0x436f0c[_0x12809d(0x4ae)]='workflow-does-not-exist',_0x436f0c[_0x12809d(0x53f)]='workflow-invalid-block-type';}(_0x28a725||(_0x28a725={}));const _0xa3734f=new Map([[_0x28a725['ConnectionNotinitialized'],'Connection\x20not\x20initialized.'],[_0x28a725['ConnectionNotConnected'],_0x13fde2(0x653)],[_0x28a725[_0x13fde2(0x842)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x28a725[_0x13fde2(0x654)],_0x13fde2(0x827)],[_0x28a725['GenerativeAIContextCreationFailed'],_0x13fde2(0x4b7)],[_0x28a725['GenerativeAIContextJobFailed'],_0x13fde2(0x74e)],[_0x28a725[_0x13fde2(0x193)],_0x13fde2(0x533)],[_0x28a725[_0x13fde2(0x4fa)],_0x13fde2(0x526)],[_0x28a725[_0x13fde2(0x7e3)],_0x13fde2(0x697)],[_0x28a725[_0x13fde2(0x395)],_0x13fde2(0x4e3)],[_0x28a725[_0x13fde2(0x278)],_0x13fde2(0x72d)],[_0x28a725[_0x13fde2(0x73c)],_0x13fde2(0x223)],[_0x28a725[_0x13fde2(0x508)],_0x13fde2(0x2cb)],[_0x28a725[_0x13fde2(0x2f4)],_0x13fde2(0x44c)],[_0x28a725[_0x13fde2(0x33e)],_0x13fde2(0x58c)],[_0x28a725[_0x13fde2(0x37d)],_0x13fde2(0x60b)],[_0x28a725[_0x13fde2(0x423)],_0x13fde2(0x441)],[_0x28a725[_0x13fde2(0x325)],_0x13fde2(0x458)],[_0x28a725[_0x13fde2(0x25a)],'Job\x20worker\x20creation\x20failed.'],[_0x28a725['JobWorkerInvalidType'],'Invalid\x20job\x20worker\x20type.'],[_0x28a725[_0x13fde2(0x226)],_0x13fde2(0x240)],[_0x28a725[_0x13fde2(0x82e)],'Key-value\x20database\x20table\x20does\x20not\x20exist.'],[_0x28a725[_0x13fde2(0x617)],_0x13fde2(0x5f6)],[_0x28a725[_0x13fde2(0x7ec)],_0x13fde2(0x727)],[_0x28a725[_0x13fde2(0x6c5)],_0x13fde2(0x625)],[_0x28a725[_0x13fde2(0x561)],_0x13fde2(0x2c5)],[_0x28a725['MissingSystemTopic'],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x28a725[_0x13fde2(0x360)],_0x13fde2(0x4ba)],[_0x28a725[_0x13fde2(0x3bb)],_0x13fde2(0x49f)],[_0x28a725['ObjectStoreInvalidSyncMessage'],_0x13fde2(0x334)],[_0x28a725[_0x13fde2(0x845)],_0x13fde2(0x361)],[_0x28a725[_0x13fde2(0x3a0)],_0x13fde2(0x7ce)],[_0x28a725[_0x13fde2(0x56c)],_0x13fde2(0x63e)],[_0x28a725[_0x13fde2(0x709)],_0x13fde2(0x436)],[_0x28a725[_0x13fde2(0x42b)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x28a725[_0x13fde2(0x7aa)],_0x13fde2(0x7de)],[_0x28a725['SubscriptionRequestDoesNotExist'],_0x13fde2(0x1e6)],[_0x28a725[_0x13fde2(0x71c)],_0x13fde2(0x3ee)],[_0x28a725[_0x13fde2(0x879)],_0x13fde2(0x4b2)],[_0x28a725[_0x13fde2(0x8c0)],_0x13fde2(0x220)],[_0x28a725['NodeAlreadyExist'],_0x13fde2(0x7f9)],[_0x28a725[_0x13fde2(0x1a4)],_0x13fde2(0x816)],[_0x28a725[_0x13fde2(0x4c2)],_0x13fde2(0x795)],[_0x28a725[_0x13fde2(0x4ae)],_0x13fde2(0x79d)],[_0x28a725['WorkflowInvalidBlockType'],_0x13fde2(0x629)]]);class _0x46f718 extends Error{[_0x13fde2(0x18d)];static [_0x13fde2(0x6b3)]=_0x28a725;[_0x13fde2(0x7e0)];constructor(_0x47f773,_0x552aea){const _0x38151b=_0x13fde2;super(_0x38151b(0x1c8)+_0x47f773+':\x20'+_0xa3734f['get'](_0x47f773)+_0x38151b(0x2f6)+JSON[_0x38151b(0x201)](_0x552aea)),this[_0x38151b(0x18d)]=_0x47f773,this[_0x38151b(0x7e0)]=_0x552aea||{};}}var _0x85b357,_0x64ee99,_0x2bede4,_0xa02ece,_0x1dd331,_0x14139b,_0x1b694f;!function(_0x3e2951){const _0x4145a4=_0x13fde2;_0x3e2951[_0x3e2951[_0x4145a4(0x7d9)]=0x0]=_0x4145a4(0x7d9),_0x3e2951[_0x3e2951[_0x4145a4(0x48e)]=0x1]='UnpublishMediaStream',_0x3e2951[_0x3e2951['SubscribeMediaStream']=0x2]=_0x4145a4(0x34f),_0x3e2951[_0x3e2951[_0x4145a4(0x6b7)]=0x3]='UpdateMediaStream',_0x3e2951[_0x3e2951[_0x4145a4(0x453)]=0x4]=_0x4145a4(0x453),_0x3e2951[_0x3e2951[_0x4145a4(0x7c9)]=0x5]=_0x4145a4(0x7c9),_0x3e2951[_0x3e2951['CloseJobWorker']=0x6]=_0x4145a4(0x1d8),_0x3e2951[_0x3e2951[_0x4145a4(0x565)]=0x7]=_0x4145a4(0x565),_0x3e2951[_0x3e2951[_0x4145a4(0x616)]=0x8]='CloseKeyValueDatabase',_0x3e2951[_0x3e2951[_0x4145a4(0x674)]=0x9]=_0x4145a4(0x674),_0x3e2951[_0x3e2951[_0x4145a4(0x88e)]=0xa]=_0x4145a4(0x88e),_0x3e2951[_0x3e2951['CloseVectorDatabase']=0xb]=_0x4145a4(0x1df),_0x3e2951[_0x3e2951['CloseGraphDatabase']=0xc]=_0x4145a4(0x547),_0x3e2951[_0x3e2951[_0x4145a4(0x79a)]=0xd]=_0x4145a4(0x79a),_0x3e2951[_0x3e2951['RemoteMediaStreamTrackFail']=0xe]='RemoteMediaStreamTrackFail',_0x3e2951[_0x3e2951[_0x4145a4(0x539)]=0xf]=_0x4145a4(0x539),_0x3e2951[_0x3e2951[_0x4145a4(0x371)]=0x10]=_0x4145a4(0x371),_0x3e2951[_0x3e2951['RequestTransactionsValue']=0x11]='RequestTransactionsValue',_0x3e2951[_0x3e2951[_0x4145a4(0x6de)]=0x12]=_0x4145a4(0x6de),_0x3e2951[_0x3e2951['ObjectStoreStats']=0x13]=_0x4145a4(0x4f3),_0x3e2951[_0x3e2951[_0x4145a4(0x6c3)]=0x14]=_0x4145a4(0x6c3),_0x3e2951[_0x3e2951[_0x4145a4(0x381)]=0x15]='GenerativeAIContextStats',_0x3e2951[_0x3e2951[_0x4145a4(0x33d)]=0x16]=_0x4145a4(0x33d),_0x3e2951[_0x3e2951[_0x4145a4(0x5ec)]=0x17]='VectorDatabaseStats',_0x3e2951[_0x3e2951['GraphDatabaseStats']=0x18]='GraphDatabaseStats';}(_0x85b357||(_0x85b357={})),function(_0x3fc789){const _0x2a76dc=_0x13fde2;_0x3fc789['FileWrite']='file-write',_0x3fc789[_0x2a76dc(0x588)]=_0x2a76dc(0x31d),_0x3fc789[_0x2a76dc(0x607)]='delete',_0x3fc789[_0x2a76dc(0x5c5)]=_0x2a76dc(0x485),_0x3fc789[_0x2a76dc(0x6e7)]='request-file',_0x3fc789[_0x2a76dc(0x663)]=_0x2a76dc(0x555),_0x3fc789[_0x2a76dc(0x4e6)]=_0x2a76dc(0x4a8),_0x3fc789[_0x2a76dc(0x812)]=_0x2a76dc(0x50f);}(_0x64ee99||(_0x64ee99={})),function(_0x1aac66){const _0x40b926=_0x13fde2;_0x1aac66['Request']=_0x40b926(0x33a),_0x1aac66[_0x40b926(0x60a)]=_0x40b926(0x24a);}(_0x2bede4||(_0x2bede4={})),function(_0x59ddb0){const _0x4e711e=_0x13fde2;_0x59ddb0[_0x4e711e(0x21b)]=_0x4e711e(0x7bd),_0x59ddb0[_0x4e711e(0x211)]='update',_0x59ddb0[_0x4e711e(0x607)]=_0x4e711e(0x6fd);}(_0xa02ece||(_0xa02ece={})),function(_0x5a9717){const _0xf8e359=_0x13fde2;_0x5a9717[_0xf8e359(0x2fe)]=_0xf8e359(0x556),_0x5a9717[_0xf8e359(0x173)]='list',_0x5a9717[_0xf8e359(0x446)]=_0xf8e359(0x3f9);}(_0x1dd331||(_0x1dd331={})),function(_0x5eb7a7){const _0x2e180f=_0x13fde2;_0x5eb7a7[_0x5eb7a7[_0x2e180f(0x24e)]=0x0]='Request',_0x5eb7a7[_0x5eb7a7['Bid']=0x1]=_0x2e180f(0x18c),_0x5eb7a7[_0x5eb7a7[_0x2e180f(0x443)]=0x2]='Attribution',_0x5eb7a7[_0x5eb7a7[_0x2e180f(0x7bf)]=0x3]=_0x2e180f(0x7bf),_0x5eb7a7[_0x5eb7a7[_0x2e180f(0x679)]=0x4]='Result',_0x5eb7a7[_0x5eb7a7['Failed']=0x5]=_0x2e180f(0x761);}(_0x14139b||(_0x14139b={})),function(_0x22cfad){const _0x5323b0=_0x13fde2;_0x22cfad[_0x22cfad[_0x5323b0(0x37c)]=0x0]=_0x5323b0(0x37c),_0x22cfad[_0x22cfad['Node']=0x1]='Node',_0x22cfad[_0x22cfad[_0x5323b0(0x67b)]=0x2]=_0x5323b0(0x67b),_0x22cfad[_0x22cfad[_0x5323b0(0x5b1)]=0x3]=_0x5323b0(0x5b1),_0x22cfad[_0x22cfad['Stats']=0x4]='Stats',_0x22cfad[_0x22cfad[_0x5323b0(0x364)]=0x5]=_0x5323b0(0x364),_0x22cfad[_0x22cfad['Remediation']=0x6]=_0x5323b0(0x707);}(_0x1b694f||(_0x1b694f={}));class _0x2b61ee{[_0x13fde2(0x27e)];[_0x13fde2(0x380)];['systemTopic'];constructor(_0x276e56,_0x4c16bf){const _0x39acd1=_0x13fde2;this['owner']=_0x276e56,this[_0x39acd1(0x380)]=_0x4c16bf;}[_0x13fde2(0x230)](){const _0x252fd9=_0x13fde2;return this[_0x252fd9(0x380)];}['getOwnerId'](){const _0x3f9f19=_0x13fde2;return this['owner'][_0x3f9f19(0x677)]();}[_0x13fde2(0x85f)](){}[_0x13fde2(0x18b)](_0x31a01c){this['systemTopic']=_0x31a01c;}[_0x13fde2(0x769)](){delete this['systemTopic'];}}const _0x5b71f3=require('firebase/firestore');let _0x51435=_0x56888f(0x14d)['O'];function _0x2ca19e(_0x151e72){const _0x55ee9e=_0x13fde2;return!(!_0x151e72||'object'!=typeof _0x151e72||Array[_0x55ee9e(0x4bd)](_0x151e72));}_0x51435=function _0x10cfa5(_0x51a6c3,..._0x438622){const _0x4081c9=_0x13fde2;if(!Array[_0x4081c9(0x4bd)](_0x438622)||0x0===_0x438622[_0x4081c9(0x24c)])return _0x51a6c3;const _0x27c8f7=_0x438622[_0x4081c9(0x782)]();if(_0x2ca19e(_0x51a6c3)&&_0x2ca19e(_0x27c8f7)){for(const _0x3c0e79 in _0x27c8f7)_0x2ca19e(_0x27c8f7[_0x3c0e79])?(_0x51a6c3[_0x3c0e79]||Object[_0x4081c9(0x455)](_0x51a6c3,{[_0x3c0e79]:{}}),_0x10cfa5(_0x51a6c3[_0x3c0e79],_0x27c8f7[_0x3c0e79])):Object[_0x4081c9(0x455)](_0x51a6c3,{[_0x3c0e79]:_0x27c8f7[_0x3c0e79]});}return _0x10cfa5(_0x51a6c3,..._0x438622);}(_0x51435,_0x56888f(0x3e6)['O']);const _0x87736e=_0x51435,_0x206be0=require('firebase/app'),_0xe11812=require('firebase/auth'),_0x1945ee=require('firebase/database'),_0xe95e31=require('firebase/functions'),_0x1575cc=require('uuid'),_0x439969='CREWDLE_WEB_SDK';class _0x5dedb9{static [_0x13fde2(0x8ab)];[_0x13fde2(0x2f1)];[_0x13fde2(0x1c6)];[_0x13fde2(0x5b3)];[_0x13fde2(0x3f0)];[_0x13fde2(0x746)];['clockSkew'];constructor(){const _0x45e24e=_0x13fde2;this[_0x45e24e(0x62a)]();}static[_0x13fde2(0x48f)](){const _0x1e2fa9=_0x13fde2;return _0x5dedb9[_0x1e2fa9(0x8ab)]||(_0x5dedb9[_0x1e2fa9(0x8ab)]=new _0x5dedb9()),_0x5dedb9[_0x1e2fa9(0x8ab)];}[_0x13fde2(0x62a)](){const _0x3c5fa6=_0x13fde2;if(!this[_0x3c5fa6(0x2f1)]){let _0x235ebd=_0x439969;_0x3c5fa6(0x6fa)!=typeof window&&(_0x235ebd=_0x439969+'-'+(0x0,_0x1575cc['v4'])()),this[_0x3c5fa6(0x2f1)]=(0x0,_0x206be0['initializeApp'])(_0x87736e[_0x3c5fa6(0x1d0)],''+_0x235ebd);}return this[_0x3c5fa6(0x2f1)];}[_0x13fde2(0x43b)](){const _0x1233ac=_0x13fde2;return this[_0x1233ac(0x1c6)]||(this[_0x1233ac(0x1c6)]=(0x0,_0xe11812[_0x1233ac(0x43b)])(this['getApp']())),this[_0x1233ac(0x1c6)];}[_0x13fde2(0x1a9)](){const _0xbeb3c9=_0x13fde2;return this[_0xbeb3c9(0x5b3)]||(this['functions']=(0x0,_0xe95e31[_0xbeb3c9(0x1a9)])(this[_0xbeb3c9(0x62a)](),_0x87736e['firebaseConfig'][_0xbeb3c9(0x3cc)])),this[_0xbeb3c9(0x5b3)];}['getDatabase'](){const _0xc3ce45=_0x13fde2;return this[_0xc3ce45(0x3f0)]||(this[_0xc3ce45(0x3f0)]=(0x0,_0x1945ee[_0xc3ce45(0x886)])(this['getApp']())),this['database'];}[_0x13fde2(0x85a)](){const _0x567b38=_0x13fde2;return this[_0x567b38(0x746)]||(this[_0x567b38(0x746)]=(0x0,_0x5b71f3[_0x567b38(0x85a)])(this[_0x567b38(0x62a)]())),this[_0x567b38(0x746)];}async[_0x13fde2(0x65c)](){const _0xc43db2=_0x13fde2;if(this[_0xc43db2(0x4f1)])return Date[_0xc43db2(0x321)]()+this[_0xc43db2(0x4f1)];const _0x1d20ac=this['getDatabase'](),_0x1434ab=(0x0,_0x1945ee['ref'])(_0x1d20ac,_0xc43db2(0x3e8)),_0xdaba45=(0x0,_0x1945ee[_0xc43db2(0x89f)])(_0x1434ab,_0x26bc65=>{const _0x54f534=_0xc43db2;!0x1===_0x26bc65[_0x54f534(0x365)]()&&(_0xdaba45(),delete this[_0x54f534(0x4f1)]);}),_0x34ed0d=(0x0,_0x1945ee[_0xc43db2(0x1f7)])(_0x1d20ac,'.info/serverTimeOffset');return new Promise(_0x201b38=>{(0x0,_0x1945ee['onValue'])(_0x34ed0d,_0x114d6a=>{const _0x2c351f=a0_0x2ee0;(0x0,_0x1945ee[_0x2c351f(0x667)])(_0x34ed0d),this[_0x2c351f(0x4f1)]=_0x114d6a['val'](),_0x201b38(Date[_0x2c351f(0x321)]()+(this[_0x2c351f(0x4f1)]??0x0));});});}}const _0x2e0290=_0x5dedb9[_0x13fde2(0x48f)]();class _0x449606{static [_0x13fde2(0x8ab)];['enabledChannels']=[_0x2582bf[_0x13fde2(0x6eb)]];[_0x13fde2(0x759)]=!0x0;[_0x13fde2(0x463)];[_0x13fde2(0x1f3)]='';[_0x13fde2(0x728)];[_0x13fde2(0x36a)]=[];[_0x13fde2(0x2f0)];['batchTimeout'];[_0x13fde2(0x4a9)]=0xa;[_0x13fde2(0x235)]=0x1f4;[_0x13fde2(0x49b)]=0x1c2;[_0x13fde2(0x29e)]=0x3e8;constructor(){const _0x5dd62c=_0x13fde2;if(_0x5dd62c(0x6fa)!=typeof window)this[_0x5dd62c(0x728)]=window;else{if(void 0x0===_0x56888f['g'])throw new Error(_0x5dd62c(0x650));this[_0x5dd62c(0x728)]=_0x56888f['g'];}this[_0x5dd62c(0x2bc)](),this[_0x5dd62c(0x728)][_0x5dd62c(0x4c9)]=_0x11b030=>{const _0x1a6ed1=_0x5dd62c;if(_0x11b030===_0x2582bf[_0x1a6ed1(0x714)])return this[_0x1a6ed1(0x7ea)]=Object[_0x1a6ed1(0x253)](_0x2582bf)[_0x1a6ed1(0x3d2)](_0x561d38=>_0x2582bf[_0x561d38]),void Object[_0x1a6ed1(0x253)](_0x2582bf)['forEach'](_0x479b9d=>{const _0x497c95=_0x1a6ed1,_0x9a3f8d=_0x479b9d;localStorage[_0x497c95(0x3a8)](_0x497c95(0x4a1)+_0x2582bf[_0x9a3f8d],_0x497c95(0x277));});this[_0x1a6ed1(0x7ea)][_0x1a6ed1(0x563)](_0x11b030)||(this[_0x1a6ed1(0x7ea)][_0x1a6ed1(0x875)](_0x11b030),localStorage[_0x1a6ed1(0x3a8)](_0x1a6ed1(0x4a1)+_0x11b030,_0x1a6ed1(0x277)));},this['globalObject'][_0x5dd62c(0x62b)]=_0x299a18=>{const _0x4e3be1=_0x5dd62c;if(!_0x299a18||_0x299a18===_0x2582bf['All'])return this['enabledChannels']=[],void Object[_0x4e3be1(0x253)](_0x2582bf)[_0x4e3be1(0x1ed)](_0x17cf6e=>{const _0x576d20=_0x4e3be1,_0x53b103=_0x17cf6e;localStorage['removeItem'](_0x576d20(0x4a1)+_0x2582bf[_0x53b103]);});this[_0x4e3be1(0x7ea)][_0x4e3be1(0x563)](_0x299a18)&&(this['enabledChannels']=this[_0x4e3be1(0x7ea)][_0x4e3be1(0x559)](_0xb11889=>_0xb11889!==_0x299a18),localStorage[_0x4e3be1(0x287)](_0x4e3be1(0x4a1)+_0x299a18));},this['globalObject'][_0x5dd62c(0x19b)]=_0x2582bf;}static[_0x13fde2(0x48f)](){const _0x840627=_0x13fde2;try{return _0x449606[_0x840627(0x8ab)]||(_0x449606[_0x840627(0x8ab)]=new _0x449606()),_0x449606[_0x840627(0x8ab)];}catch(_0x1dd8fb){return console['error'](_0x840627(0x437),_0x1dd8fb),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}['setVendorId'](_0x41c22b){const _0xc0fdf=_0x13fde2;this[_0xc0fdf(0x1f3)]=_0x41c22b,this[_0xc0fdf(0x36a)]=[],this[_0xc0fdf(0x2f0)]=this[_0xc0fdf(0x5ac)](),this[_0xc0fdf(0x3fe)]&&(clearTimeout(this[_0xc0fdf(0x3fe)]),this[_0xc0fdf(0x3fe)]=void 0x0);}['setLoggingConnectors'](_0x297ed0){const _0x590751=_0x13fde2;this[_0x590751(0x463)]=_0x297ed0;}[_0x13fde2(0x176)](_0x220b36,..._0x3fb258){const _0x420eed=_0x13fde2;this[_0x420eed(0x759)]&&this['log'](_0x2582bf[_0x420eed(0x6eb)],_0x420eed(0x3bc)+_0x220b36,..._0x3fb258);}[_0x13fde2(0x6c1)](_0x3385a8,_0x16b3bd,..._0x29036b){const _0xcb1673=_0x13fde2;_0x87736e[_0xcb1673(0x69f)]||(this[_0xcb1673(0x7ea)][_0xcb1673(0x563)](_0x3385a8)&&console[_0xcb1673(0x6c1)](_0xcb1673(0x858)+_0x3385a8+'\x27\x0a',new Date()+'\x0a',_0x16b3bd,..._0x29036b),this[_0xcb1673(0x463)]&&this[_0xcb1673(0x463)][_0xcb1673(0x1ed)](_0x35d110=>{const _0x1b1576=_0xcb1673;this[_0x1b1576(0x368)](_0x35d110)&&_0x35d110[_0x1b1576(0x673)]()[_0x1b1576(0x563)](_0x3385a8)&&_0x35d110[_0x1b1576(0x6c1)](_0x16b3bd,{'vendorId':this[_0x1b1576(0x1f3)],'nodeId':'','nodeType':'','data':{'channel':_0x3385a8,..._0x29036b}});}));}['logRaw'](_0x2825b3,_0x95600,..._0x53ae0b){const _0x23710f=_0x13fde2;_0x87736e[_0x23710f(0x69f)]||(this['enabledChannels']['includes'](_0x2825b3)&&console[_0x23710f(0x6c1)](_0x95600,..._0x53ae0b),this['loggingConnectors']&&this[_0x23710f(0x463)][_0x23710f(0x1ed)](_0x4e4ae2=>{const _0x166e73=_0x23710f;this['isInternalLoggingConnector'](_0x4e4ae2)&&_0x4e4ae2['getEnabledChannels']()[_0x166e73(0x563)](_0x2825b3)&&_0x4e4ae2[_0x166e73(0x6c1)](_0x95600,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x2825b3,..._0x53ae0b}});}));}[_0x13fde2(0x87a)](_0x578cc7,_0x575c72){const _0x4b87c9=_0x13fde2;if(!this[_0x4b87c9(0x463)])return;const _0x593bfb={'vendorId':this[_0x4b87c9(0x1f3)],..._0x575c72};this[_0x4b87c9(0x463)]['forEach'](_0x9e42c1=>{const _0x30147c=_0x4b87c9;_0x9e42c1[_0x30147c(0x6c1)](_0x578cc7,_0x593bfb);});}['logServiceEvent'](_0x16eb37,_0x5cea4f){const _0x28fe7e=_0x13fde2;this[_0x28fe7e(0x2f0)]||(this[_0x28fe7e(0x2f0)]=this[_0x28fe7e(0x5ac)]());const _0x33aede=(0x0,_0x5b71f3[_0x28fe7e(0x4d0)])((0x0,_0x5b71f3[_0x28fe7e(0x419)])(_0x2e0290[_0x28fe7e(0x85a)](),_0x28fe7e(0x424)+this[_0x28fe7e(0x1f3)]+_0x28fe7e(0x750)));this['currentBatch'][_0x28fe7e(0x4bf)]['set'](_0x33aede,{..._0x5cea4f,'service':_0x16eb37,'timestamp':(0x0,_0x5b71f3['serverTimestamp'])()}),this['currentBatch']['operations'][_0x28fe7e(0x875)]({'type':_0x28fe7e(0x599),'ref':_0x33aede[_0x28fe7e(0x392)],'data':_0x5cea4f}),this[_0x28fe7e(0x83f)]();}[_0x13fde2(0x6cf)](_0x48adff,_0x17699f,_0x183a97){const _0x6da772=_0x13fde2;(0x0,_0x5b71f3['setDoc'])((0x0,_0x5b71f3[_0x6da772(0x4d0)])(_0x2e0290[_0x6da772(0x85a)](),'developers/'+this[_0x6da772(0x1f3)]+'/'+_0x48adff+'/'+_0x17699f),{'storage':_0x183a97,'timestamp':(0x0,_0x5b71f3[_0x6da772(0x5dc)])()});}[_0x13fde2(0x83f)](){const _0x44688e=_0x13fde2;this['currentBatch']&&(this[_0x44688e(0x2f0)]['counter']++,this[_0x44688e(0x2f0)][_0x44688e(0x70f)]===this['batchSize']?this[_0x44688e(0x520)]():this[_0x44688e(0x3fe)]||(this[_0x44688e(0x3fe)]=this['globalObject'][_0x44688e(0x3b4)](()=>this[_0x44688e(0x520)](),this['timeoutValue'])));}async[_0x13fde2(0x520)](){const _0x2adcfb=_0x13fde2;if(this[_0x2adcfb(0x2f0)]){for(this[_0x2adcfb(0x36a)]['push'](this[_0x2adcfb(0x2f0)]),this[_0x2adcfb(0x2f0)]=this[_0x2adcfb(0x5ac)]();this[_0x2adcfb(0x36a)][_0x2adcfb(0x24c)]>0x0;){const _0x8d0934=this[_0x2adcfb(0x36a)][_0x2adcfb(0x782)]();if(!await this['commitBatch'](_0x8d0934,0x0))break;}clearTimeout(this['batchTimeout']),this[_0x2adcfb(0x3fe)]=void 0x0;}}async['commitBatch'](_0x4748bd,_0x220e3e){const _0x377ce4=_0x13fde2;if(_0x4748bd['counter']>0x0)try{return await _0x4748bd[_0x377ce4(0x4bf)]['commit'](),!0x0;}catch(_0x461d4d){if(console[_0x377ce4(0x377)](_0x377ce4(0x77b),_0x461d4d,_0x377ce4(0x35a),_0x4748bd['operations']),!(_0x220e3e<this[_0x377ce4(0x4a9)])){const {nodeId:_0x2cebcf='',nodeType:_0x2b6c9a='',clusterId:_0x13ce65=''}=_0x4748bd[_0x377ce4(0x2e3)][0x0][_0x377ce4(0x7e0)],_0x3f085f={'nodeId':_0x2cebcf,'nodeType':_0x2b6c9a,'clusterId':_0x13ce65,'data':{'operations':_0x4748bd[_0x377ce4(0x2e3)],'error':_0x461d4d}};return this[_0x377ce4(0x377)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0x3f085f),!0x1;}setTimeout(()=>this[_0x377ce4(0x258)](_0x4748bd,_0x220e3e+0x1),this[_0x377ce4(0x235)]*Math[_0x377ce4(0x335)](0x2,_0x220e3e));}}['error'](_0x49006b,_0x1bea05,..._0x2f04c4){const _0x4d0d3e=_0x13fde2;if(console[_0x4d0d3e(0x377)](new Date(),_0x49006b,_0x1bea05,..._0x2f04c4),this['loggingConnectors']){const _0xc02af7={'vendorId':this[_0x4d0d3e(0x1f3)],..._0x1bea05};this['loggingConnectors']['forEach'](_0x334527=>{const _0x195b69=_0x4d0d3e;_0x334527[_0x195b69(0x377)](_0x49006b,_0xc02af7);});}}['warning'](_0x1a5d17,_0x542a1f,..._0x4430be){const _0x5047eb=_0x13fde2;if(console[_0x5047eb(0x404)](new Date(),_0x1a5d17,_0x542a1f,_0x4430be),this[_0x5047eb(0x463)]){const _0x238915={'vendorId':this['vendorId'],..._0x542a1f};this[_0x5047eb(0x463)][_0x5047eb(0x1ed)](_0x449db2=>{const _0x3f71cd=_0x5047eb;_0x449db2[_0x3f71cd(0x404)](_0x1a5d17,_0x238915);});}}['isChannelEnabled'](_0x30b5b2){const _0x4b5bb8=_0x13fde2;return this[_0x4b5bb8(0x7ea)][_0x4b5bb8(0x563)](_0x30b5b2);}[_0x13fde2(0x2bc)](){const _0x424558=_0x13fde2;try{Object['keys'](_0x2582bf)[_0x424558(0x1ed)](_0x3a348e=>{const _0x6e1e7a=_0x424558,_0x1d8f6f=_0x3a348e;localStorage['getItem'](_0x6e1e7a(0x4a1)+_0x2582bf[_0x1d8f6f])&&(console[_0x6e1e7a(0x6c1)](_0x6e1e7a(0x2f7),_0x2582bf[_0x1d8f6f]),this[_0x6e1e7a(0x7ea)][_0x6e1e7a(0x875)](_0x2582bf[_0x1d8f6f]));});}catch(_0x1adf6f){}}[_0x13fde2(0x368)](_0x7d7d98){return void 0x0!==_0x7d7d98['getEnabledChannels'];}[_0x13fde2(0x5ac)](){const _0x57252a=_0x13fde2;return{'batch':(0x0,_0x5b71f3[_0x57252a(0x5ae)])(_0x2e0290[_0x57252a(0x85a)]()),'operations':[],'counter':0x0};}}const _0x3d0f37=_0x449606[_0x13fde2(0x48f)]();function _0x2cda9b(_0x1485bb,_0x313d5b){return'/'===_0x1485bb?_0x1485bb+_0x313d5b:_0x1485bb+'/'+_0x313d5b;}function _0x227289(_0x5bb111){const _0x4260b3=_0x13fde2,_0xc78319=function(_0x2b289a){const _0x2e0a90=a0_0x2ee0;return _0x2b289a[_0x2e0a90(0x484)]('/')[_0x2e0a90(0x559)](_0x43eb26=>_0x43eb26[_0x2e0a90(0x24c)]>0x0);}(_0x5bb111),_0x3020fc=_0xc78319[_0x4260b3(0x200)]()||'',_0x6a786f=_0xc78319[_0x4260b3(0x7a9)]('/');return[0x0===_0x6a786f[_0x4260b3(0x24c)]?'/':_0x6a786f,_0x3020fc];}async function _0x1501ff(_0x4f3547){const _0x128deb=_0x13fde2;let _0x2ee21d;const _0xbfe6ff=_0x4f3547[_0x128deb(0x411)]/0x100000;_0x2ee21d=_0xbfe6ff<=0xa?0x1:_0xbfe6ff<=0x64?0.5:_0xbfe6ff<=0x1f4?0.1:0.05;const _0xf5786f=Math['ceil'](_0x4f3547[_0x128deb(0x411)]/_0x4dc292),_0x30a60d=Math[_0x128deb(0x382)](_0xf5786f*_0x2ee21d);let _0x38ad7a=new Uint8Array();for(let _0x174098=0x0;_0x174098<_0x30a60d;_0x174098++){const _0x11a8ce=Math[_0x128deb(0x4f5)](_0x174098/_0x30a60d*_0x4f3547[_0x128deb(0x411)]);let _0xb3507=_0x11a8ce+_0x4dc292;_0xb3507>_0x4f3547[_0x128deb(0x411)]&&(_0xb3507=_0x4f3547[_0x128deb(0x411)]);const _0x4d6a0d=_0x4f3547[_0x128deb(0x393)](_0x11a8ce,_0xb3507),_0x19e84c=await _0x4d6a0d[_0x128deb(0x349)](),_0xc2aba0=new Uint8Array([..._0x38ad7a,...new Uint8Array(_0x19e84c)]);_0x38ad7a=new Uint8Array(await crypto[_0x128deb(0x6f0)][_0x128deb(0x1a5)](_0x128deb(0x866),_0xc2aba0));}return Array['from'](new Uint8Array(_0x38ad7a))[_0x128deb(0x3d2)](_0x108ccb=>_0x108ccb[_0x128deb(0x479)](0x10)[_0x128deb(0x690)](0x2,'0'))[_0x128deb(0x7a9)]('');}async function*_0x5948c5(_0x112e34,_0x2d7768=0x0,_0x35503d){const _0x4d8d2d=_0x13fde2;let _0x27267e=_0x2d7768*_0x4f343e,_0x527e14=_0x112e34;for(;_0x27267e<_0x527e14[_0x4d8d2d(0x411)];){let _0x503af3=_0x27267e+_0x4f343e;_0x503af3>_0x527e14[_0x4d8d2d(0x411)]&&(_0x503af3=_0x527e14[_0x4d8d2d(0x411)]);let _0x48eb14=0x0;for(;_0x48eb14<0x14;)try{await _0x35503d?.();const _0x4cd416=_0x527e14[_0x4d8d2d(0x393)](_0x27267e,_0x503af3,_0x4d8d2d(0x1e5)),_0xcf1cc0=await _0x4cd416[_0x4d8d2d(0x349)]();yield _0xcf1cc0,_0x27267e=_0x503af3,await new Promise(_0x2ca44d=>setTimeout(_0x2ca44d,0x0));break;}catch(_0x3ebdef){if(console[_0x4d8d2d(0x377)](_0x4d8d2d(0x366)+(_0x48eb14+0x1)+'\x20attempts:',_0x3ebdef),_0x48eb14++,_0x48eb14>0x14)throw _0x3ebdef;let _0xe97831=0x3e8*Math['pow'](0x2,_0x48eb14);_0xe97831>0x7530&&(_0xe97831=0x7530),await new Promise(_0x262ad5=>setTimeout(_0x262ad5,_0xe97831));}}}class _0x454bb4 extends _0x2b61ee{[_0x13fde2(0x86a)];[_0x13fde2(0x509)];[_0x13fde2(0x614)]=new Map();[_0x13fde2(0x502)]=0x0;[_0x13fde2(0x835)]=0x0;[_0x13fde2(0x5f3)]=0x0;['bytesReceived']=0x0;constructor(_0x27c2d7,_0x4db8a5){super(_0x27c2d7,_0x4db8a5);}[_0x13fde2(0x230)](){const _0x4cc250=_0x13fde2;return this[_0x4cc250(0x380)];}[_0x13fde2(0x493)](){const _0x58dbe0=_0x13fde2;return this[_0x58dbe0(0x380)];}[_0x13fde2(0x1fe)](){const _0x58f29e=_0x13fde2;return _0x15de5e[_0x58f29e(0x671)][_0x58f29e(0x249)];}[_0x13fde2(0x406)](){const _0x4bdc2c=_0x13fde2;return this[_0x4bdc2c(0x380)];}['registerPublisher'](_0x44b0af){const _0x11c99d=_0x13fde2;if(this[_0x11c99d(0x86a)])throw new _0x46f718(_0x46f718[_0x11c99d(0x6b3)]['InvalidPublisher'],{'message':_0x11c99d(0x717)+this[_0x11c99d(0x27e)][_0x11c99d(0x677)]()+'\x20-\x20'+this['label'],'topic':this[_0x11c99d(0x86a)]});this[_0x11c99d(0x86a)]=_0x44b0af;}[_0x13fde2(0x613)](_0x2f7a65){const _0x174095=_0x13fde2;if(this[_0x174095(0x509)])throw new _0x46f718(_0x46f718[_0x174095(0x6b3)][_0x174095(0x508)],{'message':_0x174095(0x171)+this[_0x174095(0x27e)][_0x174095(0x677)]()+'\x20-\x20'+this[_0x174095(0x380)],'topic':this[_0x174095(0x509)]});this[_0x174095(0x509)]=_0x2f7a65;}[_0x13fde2(0x505)](){delete this['outgoingTopic'];}[_0x13fde2(0x89d)](){const _0x2df254=_0x13fde2;delete this[_0x2df254(0x509)];}async[_0x13fde2(0x232)](_0x5ed7ec,_0x37d752){const _0x1b0cc4=_0x13fde2;if(_0x3d0f37[_0x1b0cc4(0x6c1)](_0x2582bf[_0x1b0cc4(0x2fa)],'DataStream\x20send',this['owner'][_0x1b0cc4(0x677)](),_0x5ed7ec,_0x37d752),this['messagesSent']+=0x1,_0x5ed7ec instanceof File){const _0x23ba61=await async function(_0x3b23e5){const _0x2f0442=[];for await(const _0x3f0320 of _0x5948c5(_0x3b23e5))_0x2f0442['push'](_0x3f0320);return _0x2f0442;}(_0x5ed7ec);return this[_0x1b0cc4(0x5f3)]+=_0x23ba61[_0x1b0cc4(0x633)]((_0x48000d,_0x1da6a0)=>_0x48000d+_0x1da6a0[_0x1b0cc4(0x314)],0x0),void _0x23ba61[_0x1b0cc4(0x1ed)]((_0x1b2c37,_0x1b0424)=>{const _0x36d52e=_0x1b0cc4;this[_0x36d52e(0x86a)][_0x36d52e(0x3c5)]({'sourceId':this[_0x36d52e(0x27e)][_0x36d52e(0x677)](),'destinationIds':_0x37d752,'propagate':!0x0,'contentType':_0x15de5e[_0x36d52e(0x671)][_0x36d52e(0x5c3)],'content':{'name':_0x5ed7ec[_0x36d52e(0x670)],'type':_0x5ed7ec[_0x36d52e(0x5bb)],'data':_0x1b2c37,'index':_0x1b0424,'total':_0x23ba61[_0x36d52e(0x24c)]}});});}this[_0x1b0cc4(0x5f3)]+=JSON['stringify'](_0x5ed7ec)[_0x1b0cc4(0x24c)],this[_0x1b0cc4(0x86a)]['publish']({'sourceId':this['owner']['getId'](),'destinationIds':_0x37d752,'propagate':!0x0,'contentType':_0x15de5e['ContentType']['Data'],'content':_0x5ed7ec});}[_0x13fde2(0x77e)](_0x65a542){return this['incomingTopic']['subscribe'](_0x554834=>{const _0x35ab38=a0_0x2ee0;switch(_0x3d0f37['log'](_0x2582bf[_0x35ab38(0x2fa)],_0x35ab38(0x564),this[_0x35ab38(0x27e)]['getId'](),_0x554834),_0x554834[_0x35ab38(0x5bc)]){case _0x15de5e[_0x35ab38(0x671)][_0x35ab38(0x249)]:this['messagesReceived']+=0x1,this[_0x35ab38(0x428)]+=JSON['stringify'](_0x554834[_0x35ab38(0x6dd)])['length'],_0x65a542(_0x554834[_0x35ab38(0x8a3)],_0x554834[_0x35ab38(0x6dd)]);break;case _0x15de5e[_0x35ab38(0x671)]['File']:this[_0x35ab38(0x614)][_0x35ab38(0x7f7)](_0x554834[_0x35ab38(0x6dd)][_0x35ab38(0x670)])||this[_0x35ab38(0x614)][_0x35ab38(0x599)](_0x554834[_0x35ab38(0x6dd)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x54b499=this[_0x35ab38(0x614)][_0x35ab38(0x556)](_0x554834['content']['name']);if(_0x54b499['chunksReceived']+=0x1,_0x54b499[_0x35ab38(0x428)]+=_0x554834[_0x35ab38(0x6dd)][_0x35ab38(0x7e0)][_0x35ab38(0x314)],_0x54b499[_0x35ab38(0x6dd)]&&(_0x54b499['content'][_0x554834['content']['index']]=_0x554834['content']['data']),this['fileChunks'][_0x35ab38(0x599)](_0x554834[_0x35ab38(0x6dd)][_0x35ab38(0x670)],_0x54b499),_0x54b499['chunksReceived']+0x1<_0x554834[_0x35ab38(0x6dd)][_0x35ab38(0x316)])return;this[_0x35ab38(0x835)]+=0x1,this[_0x35ab38(0x428)]+=_0x54b499[_0x35ab38(0x428)],_0x54b499[_0x35ab38(0x6dd)]&&_0x65a542(_0x554834['sourceId'],(_0x291b86=_0x54b499[_0x35ab38(0x6dd)],_0x177c4d=_0x554834[_0x35ab38(0x6dd)][_0x35ab38(0x670)],_0xc5ef5e=_0x554834[_0x35ab38(0x6dd)][_0x35ab38(0x5bb)],new File(_0x291b86,_0x177c4d,{'type':_0xc5ef5e}))),this[_0x35ab38(0x614)]['delete'](_0x554834[_0x35ab38(0x6dd)][_0x35ab38(0x670)]);}var _0x291b86,_0x177c4d,_0xc5ef5e;});}}function _0x223536(){const _0x52e8f7=_0x13fde2;let _0x57381a=[];return{'subscribe':_0x428ce2=>(_0x57381a[_0x52e8f7(0x875)](_0x428ce2),()=>{const _0x4cf212=_0x52e8f7;_0x57381a=_0x57381a[_0x4cf212(0x559)](_0x3b0456=>_0x3b0456!==_0x428ce2);}),'publish':_0x4073c1=>{const _0xbb6c4=_0x52e8f7;_0x57381a[_0xbb6c4(0x1ed)](_0x2b3ddd=>_0x2b3ddd(_0x4073c1));}};}function _0x3e22bd(){let _0x30cf4b;return{'subscribe':_0x3eea66=>(_0x30cf4b=_0x3eea66,()=>{_0x30cf4b=void 0x0;}),'publish':_0x4b76ff=>{_0x30cf4b&&_0x30cf4b(_0x4b76ff);}};}class _0xcfa67a{[_0x13fde2(0x5f0)];['tableName'];[_0x13fde2(0x8bf)];['eventListener']=_0x3e22bd();[_0x13fde2(0x4f7)];constructor(_0x20bbf2,_0x1f6544,_0x2d7447){const _0x4d412a=_0x13fde2;this[_0x4d412a(0x5f0)]=_0x20bbf2,this[_0x4d412a(0x6b0)]=_0x1f6544,this[_0x4d412a(0x8bf)]=_0x2d7447;}[_0x13fde2(0x85f)](){const _0x3b7eee=_0x13fde2;this[_0x3b7eee(0x4f7)]?.();}async['get'](_0x4ad910){const _0x4c8745=_0x13fde2,_0x299755={'key':_0x4ad910,'tableName':this[_0x4c8745(0x6b0)],'action':_0x1dd331['Get']};return this[_0x4c8745(0x8bf)][_0x4c8745(0x3c5)](_0x299755),this[_0x4c8745(0x5f0)]['get'](_0x4ad910);}async[_0x13fde2(0x599)](_0xbca056,_0x2c0da8,_0x252e21=!0x0){const _0x2ace24=_0x13fde2;this[_0x2ace24(0x66c)](_0x2c0da8);const _0x583853=await this[_0x2ace24(0x5f0)][_0x2ace24(0x556)](_0xbca056),_0x51ffea=await this[_0x2ace24(0x5f0)][_0x2ace24(0x599)](_0xbca056,_0x2c0da8),_0x228666=_0x583853?_0xa02ece[_0x2ace24(0x211)]:_0xa02ece[_0x2ace24(0x21b)];if(this[_0x2ace24(0x3c5)](_0x228666,_0x51ffea),!_0x252e21)return _0x51ffea;const _0x5ac8a5={'key':_0xbca056,'tableName':this[_0x2ace24(0x6b0)],'action':_0x228666,'value':_0x51ffea};return this[_0x2ace24(0x8bf)]['publish'](_0x5ac8a5),_0x51ffea;}async[_0x13fde2(0x7bd)](_0x2b3863){const _0x354ad8=_0x13fde2;this[_0x354ad8(0x66c)](_0x2b3863);const _0x46da76=await this[_0x354ad8(0x5f0)][_0x354ad8(0x7bd)](_0x2b3863),_0x45b68a={'key':_0x46da76['id'],'tableName':this[_0x354ad8(0x6b0)],'action':_0xa02ece[_0x354ad8(0x21b)],'value':_0x46da76};return this[_0x354ad8(0x8bf)]['publish'](_0x45b68a),this[_0x354ad8(0x3c5)](_0x45b68a[_0x354ad8(0x61e)],_0x46da76),_0x46da76;}async[_0x13fde2(0x6fd)](_0x21c507,_0x4184e5=!0x0){const _0x2caa3c=_0x13fde2,_0x1c6faa=await this[_0x2caa3c(0x5f0)][_0x2caa3c(0x556)](_0x21c507);if(!_0x1c6faa)return;await this[_0x2caa3c(0x5f0)][_0x2caa3c(0x6fd)](_0x21c507);const _0x242191=_0xa02ece['Delete'];if(this[_0x2caa3c(0x3c5)](_0x242191,_0x1c6faa),!_0x4184e5)return;const _0x38c04c={'key':_0x21c507,'tableName':this[_0x2caa3c(0x6b0)],'action':_0x242191,'value':_0x1c6faa};this[_0x2caa3c(0x8bf)][_0x2caa3c(0x3c5)](_0x38c04c);}async[_0x13fde2(0x84d)](){const _0x2545e9=_0x13fde2,_0x51f08b=await this['list']();for(const _0x1e8d54 of _0x51f08b){const _0x69fe24=_0xa02ece[_0x2545e9(0x607)];this['publish'](_0x69fe24,_0x1e8d54);const _0xf75dc={'key':_0x1e8d54['id'],'tableName':this[_0x2545e9(0x6b0)],'action':_0x69fe24,'value':_0x1e8d54};this[_0x2545e9(0x8bf)][_0x2545e9(0x3c5)](_0xf75dc);}return this[_0x2545e9(0x5f0)]['clear']();}async[_0x13fde2(0x1b1)](_0x800b41){const _0x61d662=_0x13fde2,_0x3a137d={'key':'','tableName':this[_0x61d662(0x6b0)],'action':_0x1dd331['List']};this[_0x61d662(0x8bf)][_0x61d662(0x3c5)](_0x3a137d);try{_0x800b41&&(_0x800b41=_0x800b41 instanceof _0x58ce98?_0x800b41['getQuery']():_0x58ce98[_0x61d662(0x8ba)](_0x800b41)['getQuery']());}catch(_0x2e95d3){throw new _0x3fd286(_0x12afa6[_0x61d662(0x548)],_0x61d662(0x34a));}try{return await this['connector']['list'](_0x800b41);}catch(_0x3ed68e){let _0x403ed0='Invalid\x20query';throw _0x3ed68e instanceof Error&&(_0x403ed0=_0x3ed68e[_0x61d662(0x4de)]),new _0x3fd286(_0x12afa6[_0x61d662(0x548)],_0x403ed0);}}async['count'](_0x27900b){const _0x407d3a=_0x13fde2,_0x3a1e57={'key':'','tableName':this['tableName'],'action':_0x1dd331[_0x407d3a(0x446)]};this[_0x407d3a(0x8bf)][_0x407d3a(0x3c5)](_0x3a1e57);try{_0x27900b&&(_0x27900b=_0x27900b instanceof _0x58ce98?_0x27900b[_0x407d3a(0x483)]():_0x58ce98[_0x407d3a(0x8ba)](_0x27900b)[_0x407d3a(0x483)]());}catch(_0x5458d5){throw new _0x3fd286(_0x12afa6[_0x407d3a(0x548)],_0x407d3a(0x34a));}try{return await this[_0x407d3a(0x5f0)][_0x407d3a(0x3f9)](_0x27900b);}catch(_0x39fc5a){let _0x42eba3='Invalid\x20query';throw _0x39fc5a instanceof Error&&(_0x42eba3=_0x39fc5a[_0x407d3a(0x4de)]),new _0x3fd286(_0x12afa6[_0x407d3a(0x548)],_0x42eba3);}}[_0x13fde2(0x212)](){const _0x77a4ad=_0x13fde2;return this[_0x77a4ad(0x5f0)][_0x77a4ad(0x212)]();}[_0x13fde2(0x76e)](_0x1b8d47){const _0xec489b=_0x13fde2;this['listenerUnsubscriber']=this['eventListener'][_0xec489b(0x76e)](_0x1b8d47);}[_0x13fde2(0x250)](){const _0x3abfea=_0x13fde2;this[_0x3abfea(0x4f7)]?.();}[_0x13fde2(0x3c5)](_0x4f1912,_0xb3ddc4){const _0x4d8b22=_0x13fde2,_0x5bbbaa=this[_0x4d8b22(0x402)](_0x4f1912,_0xb3ddc4);this['eventListener'][_0x4d8b22(0x3c5)](_0x5bbbaa);}['buildTableEvent'](_0x364171,_0x482bdf){const _0x1a8115=_0x13fde2;let _0x49bce8;switch(_0x364171){case _0xa02ece['Add']:_0x49bce8=_0x1a8115(0x7bd);break;case _0xa02ece['Update']:_0x49bce8='update';break;case _0xa02ece[_0x1a8115(0x607)]:_0x49bce8=_0x1a8115(0x6fd);}return{'action':_0x49bce8,'value':_0x482bdf};}[_0x13fde2(0x66c)](_0x3c9ee9){const _0x10ab0e=_0x13fde2;if('object'!=typeof _0x3c9ee9||null===_0x3c9ee9)throw new _0x3fd286(_0x12afa6[_0x10ab0e(0x500)],_0x10ab0e(0x214));for(const _0x117a2f in _0x3c9ee9){const _0xf463=_0x3c9ee9[_0x117a2f];if(_0x10ab0e(0x433)!=typeof _0xf463||_0xf463 instanceof Date){if(![_0x10ab0e(0x28d),_0x10ab0e(0x18f),'boolean'][_0x10ab0e(0x563)](typeof _0xf463))throw new _0x3fd286(_0x12afa6[_0x10ab0e(0x500)],_0x10ab0e(0x4df)+_0x117a2f+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x10ab0e(0x66c)](_0xf463);}}}class _0x847394 extends _0x454bb4{[_0x13fde2(0x672)];['clusterId'];[_0x13fde2(0x1f3)];['db'];['dbKey'];[_0x13fde2(0x642)]=new Map();['tableObserver'];[_0x13fde2(0x51d)];[_0x13fde2(0x7cb)];['isSync'];[_0x13fde2(0x409)];[_0x13fde2(0x26c)]=[];[_0x13fde2(0x2a3)]=()=>{};['syncTimeout'];[_0x13fde2(0x64a)]=_0x3e22bd();[_0x13fde2(0x4f7)];[_0x13fde2(0x685)]=[];[_0x13fde2(0x6ed)];['debounceStats'];[_0x13fde2(0x341)]=0x0;[_0x13fde2(0x2b7)]=0x0;constructor(_0x36affb,_0x11e858,_0xbe1213,_0x2b77c4,_0x16f2be,_0x154fc5){const _0x531ae5=_0x13fde2;if(_0x531ae5(0x28d)!=typeof _0x11e858)throw new _0x3fd286(_0x12afa6[_0x531ae5(0x4d9)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x36affb,_0x11e858),this[_0x531ae5(0x672)]=_0x36affb,this[_0x531ae5(0x89e)]=_0xbe1213,this['vendorId']=_0x2b77c4,this['dbKey']=_0x531ae5(0x41d)+this[_0x531ae5(0x1f3)]+_0x531ae5(0x41d)+this[_0x531ae5(0x89e)]+_0x531ae5(0x41d)+this[_0x531ae5(0x380)],this[_0x531ae5(0x8bf)]=_0x3e22bd(),this[_0x531ae5(0x4ec)]=new Promise(_0x329470=>{const _0x2331c7=_0x531ae5;this[_0x2331c7(0x409)]=_0x329470;}),_0x16f2be instanceof _0x491383)this[_0x531ae5(0x6ed)]=_0x16f2be[_0x531ae5(0x4b8)]();else{const [_0xcfbe20,_0x536823]=_0x491383[_0x531ae5(0x6ad)](_0x16f2be);if(!_0xcfbe20)throw new _0x3fd286(_0x12afa6['KeyValueDatabaseInvalidLayout'],'Invalid\x20layout:\x20'+_0x536823);this['layout']=_0x16f2be;}this[_0x531ae5(0x44a)](this['layout']),this['db']=new _0x154fc5(this[_0x531ae5(0x6a3)],this[_0x531ae5(0x6ed)]),this[_0x531ae5(0x68f)]();}[_0x13fde2(0x416)](){const _0x51dd70=_0x13fde2;this[_0x51dd70(0x68f)]();}['getContentType'](){const _0x31fd96=_0x13fde2;return _0x15de5e[_0x31fd96(0x671)]['KeyValueDatabase'];}[_0x13fde2(0x85f)](){const _0x33d53c=_0x13fde2;this['db'][_0x33d53c(0x3df)](),this[_0x33d53c(0x7cb)]?.(),clearTimeout(this[_0x33d53c(0x57d)]),delete this['debounceStats'],super[_0x33d53c(0x85f)]();}[_0x13fde2(0x3df)](){const _0x294dbb=_0x13fde2;this[_0x294dbb(0x51a)]['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x294dbb(0x67b)],'content':{'type':_0x85b357[_0x294dbb(0x616)],'label':this[_0x294dbb(0x380)]}});}[_0x13fde2(0x736)](_0x2ecbdd){const _0x2ace2b=_0x13fde2,_0x5d451b=this['tables'][_0x2ace2b(0x556)](_0x2ecbdd);if(_0x5d451b)return _0x5d451b;try{if(!this['db'][_0x2ace2b(0x5ee)](_0x2ecbdd))throw new _0x3fd286(_0x12afa6[_0x2ace2b(0x2e1)],_0x2ace2b(0x1d1));const _0x2c501a=new _0xcfa67a(this['db'][_0x2ace2b(0x532)](_0x2ecbdd),_0x2ecbdd,this[_0x2ace2b(0x8bf)]);return this[_0x2ace2b(0x642)][_0x2ace2b(0x599)](_0x2ecbdd,_0x2c501a),{'get':_0x2c501a[_0x2ace2b(0x556)][_0x2ace2b(0x5d5)](_0x2c501a),'set':_0x2c501a[_0x2ace2b(0x599)][_0x2ace2b(0x5d5)](_0x2c501a),'add':_0x2c501a[_0x2ace2b(0x7bd)][_0x2ace2b(0x5d5)](_0x2c501a),'delete':_0x2c501a[_0x2ace2b(0x6fd)][_0x2ace2b(0x5d5)](_0x2c501a),'clear':_0x2c501a[_0x2ace2b(0x84d)]['bind'](_0x2c501a),'list':_0x2c501a[_0x2ace2b(0x1b1)][_0x2ace2b(0x5d5)](_0x2c501a),'count':_0x2c501a[_0x2ace2b(0x3f9)][_0x2ace2b(0x5d5)](_0x2c501a),'subscribe':_0x2c501a[_0x2ace2b(0x76e)][_0x2ace2b(0x5d5)](_0x2c501a),'unsubscribe':_0x2c501a[_0x2ace2b(0x250)][_0x2ace2b(0x5d5)](_0x2c501a)};}catch(_0xd0a307){throw new _0x3fd286(_0x12afa6[_0x2ace2b(0x73f)],'Database\x20not\x20open');}}['subscribe'](_0x537281){const _0x2f2958=_0x13fde2;this[_0x2f2958(0x4f7)]=this[_0x2f2958(0x64a)]['subscribe'](_0x537281);}[_0x13fde2(0x250)](){const _0x52ce1a=_0x13fde2;this[_0x52ce1a(0x4f7)]?.(),this[_0x52ce1a(0x4f7)]=void 0x0;}async[_0x13fde2(0x20c)](){const _0x17c50f=_0x13fde2,_0x11ea58=[_0x643fcd,_0x3cfb9b],_0x47516d=[];try{await this['db']['open']();const _0x556dcf=this['db'][_0x17c50f(0x532)](_0x3cfb9b),_0x3084c8=await _0x556dcf[_0x17c50f(0x1b1)](),{id:_0x264da0,layout:_0x3f77e5}=_0x3084c8[0x0]??{};if(_0x3f77e5){for(const _0x22dba1 in _0x3f77e5)_0x11ea58[_0x17c50f(0x563)](_0x22dba1)||this['db'][_0x17c50f(0x5ee)](_0x22dba1)||_0x47516d[_0x17c50f(0x875)](_0x22dba1);_0x556dcf[_0x17c50f(0x599)](_0x264da0,{'layout':this[_0x17c50f(0x6ed)]});}else _0x556dcf[_0x17c50f(0x7bd)]({'layout':this[_0x17c50f(0x6ed)]});}catch(_0x2c48ea){throw new _0x3fd286(_0x12afa6['KeyValueDatabaseNotOpen'],_0x2c48ea[_0x17c50f(0x4de)]||_0x17c50f(0x204));}this[_0x17c50f(0x582)](),this['setOnMessageHandler'](),this[_0x17c50f(0x825)](),_0x47516d[_0x17c50f(0x1ed)](_0x1e4d08=>this[_0x17c50f(0x25d)](_0x1e4d08));}async['sync'](_0x5d2d74,_0x35846a){const _0x53f74d=_0x13fde2;_0x5d2d74?(this['timeoutCallback']=_0x35846a,this[_0x53f74d(0x2b2)]=setTimeout(_0x35846a,_0x479f75),this[_0x53f74d(0x51a)][_0x53f74d(0x3c5)]({'sourceId':this['localNode']['getId'](),'destinationIds':[_0x5d2d74],'messageType':_0x1b694f[_0x53f74d(0x67b)],'content':{'type':_0x85b357[_0x53f74d(0x539)],'label':this['label']}}),await this[_0x53f74d(0x4ec)]):setTimeout(()=>{this['clearSyncTimeout'](),this['publishSyncCompleted']();},0x0);}async[_0x13fde2(0x4d4)](_0x4de5d5){const _0x37123b=_0x13fde2;if(!this['transactionTable'])throw new _0x46f718(_0x46f718['codes']['KeyValueDatabaseTransactionTableNotInitialized']);await this[_0x37123b(0x4ec)];const _0x1b0e29=await this[_0x37123b(0x51d)][_0x37123b(0x1b1)]();this[_0x37123b(0x51a)][_0x37123b(0x3c5)]({'sourceId':this['localNode']['getId'](),'destinationIds':[_0x4de5d5],'messageType':_0x1b694f['Content'],'content':{'type':_0x85b357[_0x37123b(0x371)],'label':this['label'],'transactions':_0x1b0e29}});}async[_0x13fde2(0x26b)](_0x462b1f,_0xe8e502){const _0x7b6120=_0x13fde2;if(!this[_0x7b6120(0x51d)])throw new _0x46f718(_0x46f718[_0x7b6120(0x6b3)][_0x7b6120(0x617)]);this[_0x7b6120(0x5d1)]();const _0x1d4743=await this[_0x7b6120(0x51d)]['list']();for(const _0x3e36f3 of _0x1d4743){const _0x23607d=_0xe8e502[_0x7b6120(0x1a6)](_0x4566ad=>_0x4566ad['id']===_0x3e36f3['id']);if(_0x23607d&&this['compareTransactions'](_0x3e36f3,_0x23607d)<=0x0)continue;const [_0xffae00,_0x32fab3]=_0x3e36f3['id']['split']('::'),_0x8e5cf9=this['tables'][_0x7b6120(0x556)](_0xffae00),_0x1c77bb=await _0x8e5cf9?.[_0x7b6120(0x556)](_0x32fab3);_0x3e36f3[_0x7b6120(0x56d)]=_0x1c77bb,this[_0x7b6120(0x232)](_0x3e36f3);}for(const _0x16be21 of _0xe8e502){const _0x5da864=await this['transactionTable'][_0x7b6120(0x556)](_0x16be21['id']);if(!(_0x5da864&&this[_0x7b6120(0x5c0)](_0x16be21,_0x5da864)<=0x0)){if(_0x16be21[_0x7b6120(0x61e)]===_0xa02ece[_0x7b6120(0x607)]){const [_0x3b14fc,_0x48c96b]=_0x16be21['id'][_0x7b6120(0x484)]('::'),_0x1f5bef=this[_0x7b6120(0x642)][_0x7b6120(0x556)](_0x3b14fc);await _0x1f5bef?.['delete'](_0x48c96b,!0x1);}else this['transactionsToSync'][_0x7b6120(0x875)](_0x16be21['id']);}}if(0x0===this[_0x7b6120(0x26c)][_0x7b6120(0x24c)])return this[_0x7b6120(0x5d1)](),void this[_0x7b6120(0x2c4)]();this[_0x7b6120(0x2b2)]=setTimeout(this['timeoutCallback'],_0x479f75),this[_0x7b6120(0x51a)][_0x7b6120(0x3c5)]({'sourceId':this[_0x7b6120(0x672)][_0x7b6120(0x677)](),'destinationIds':[_0x462b1f],'messageType':_0x1b694f[_0x7b6120(0x67b)],'content':{'type':_0x85b357[_0x7b6120(0x298)],'label':this[_0x7b6120(0x380)],'transactionIds':this[_0x7b6120(0x26c)]}});}async[_0x13fde2(0x7c3)](_0x5594e2,_0x4f8d1c){const _0x23b202=_0x13fde2;if(!this[_0x23b202(0x51d)])throw new _0x46f718(_0x46f718['codes'][_0x23b202(0x617)]);for(const _0x5c11d3 of _0x4f8d1c){const _0x3872c3=await this[_0x23b202(0x51d)]['get'](_0x5c11d3);if(!_0x3872c3)continue;const [_0x3b4149,_0x52abf9]=_0x5c11d3[_0x23b202(0x484)]('::'),_0x8900a9=this['tables'][_0x23b202(0x556)](_0x3b4149),_0x8b2c34=await _0x8900a9?.[_0x23b202(0x556)](_0x52abf9);_0x3872c3[_0x23b202(0x56d)]=_0x8b2c34,this[_0x23b202(0x232)](_0x3872c3,[_0x5594e2]);}}async[_0x13fde2(0x2d4)](_0x33a9ac){const _0x308d15=_0x13fde2;if(!this['transactionTable'])throw new _0x46f718(_0x46f718[_0x308d15(0x6b3)][_0x308d15(0x617)]);const _0x4e316f=await this['transactionTable'][_0x308d15(0x556)](_0x33a9ac['id']);if(_0x4e316f&&this[_0x308d15(0x5c0)](_0x33a9ac,_0x4e316f)<=0x0)return;const _0x1f4152={..._0x33a9ac};return delete _0x1f4152[_0x308d15(0x56d)],await this['transactionTable'][_0x308d15(0x599)](_0x33a9ac['id'],_0x1f4152),_0x33a9ac;}[_0x13fde2(0x5c0)](_0x4c83b9,_0x1fa6c7){const _0x29645a=_0x13fde2;return _0x4c83b9[_0x29645a(0x644)]<_0x1fa6c7['timestamp']?-0x1:_0x4c83b9[_0x29645a(0x644)]>_0x1fa6c7[_0x29645a(0x644)]?0x1:_0x4c83b9['priority']-_0x1fa6c7['priority'];}async['getTransactionFromTableWriteEvent'](_0xdd71cf){const _0x274811=_0x13fde2;if(!this[_0x274811(0x51d)])throw new _0x46f718(_0x46f718[_0x274811(0x6b3)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x24ce91=_0xdd71cf[_0x274811(0x6b0)]+'::'+_0xdd71cf['key'],_0x2bb338=await _0x2e0290[_0x274811(0x65c)](),_0x3c9993={'id':_0x24ce91,'priority':Math[_0x274811(0x80a)](),'timestamp':_0x2bb338,'action':_0xdd71cf['action']};if(await this[_0x274811(0x2d4)](_0x3c9993))return _0x3c9993;}async[_0x13fde2(0x25d)](_0x4ca3ef){const _0x49ceeb=_0x13fde2;if(!this['transactionTable'])throw new _0x46f718(_0x46f718[_0x49ceeb(0x6b3)][_0x49ceeb(0x617)]);const _0x261a1f=_0x58ce98[_0x49ceeb(0x568)]('id')['where'](_0x49ceeb(0x497),[_0x4ca3ef+'::',_0x4ca3ef+_0x49ceeb(0x196)]),_0x23569e=await this['transactionTable'][_0x49ceeb(0x1b1)](_0x261a1f[_0x49ceeb(0x483)]());for(const _0x4a363a of _0x23569e)await this['transactionTable'][_0x49ceeb(0x6fd)](_0x4a363a['id']);}[_0x13fde2(0x805)](){const _0x1add56=_0x13fde2;this[_0x1add56(0x77e)](async(_0x440a60,_0x19b031)=>{const _0x2f4614=_0x1add56;if(_0x19b031 instanceof File)return;if(!await this[_0x2f4614(0x2d4)](_0x19b031))return void this[_0x2f4614(0x1b3)](_0x19b031);if(!_0x19b031[_0x2f4614(0x56d)])throw new _0x46f718(_0x46f718['codes'][_0x2f4614(0x7ec)]);const [_0x1b1e2f,_0x590353]=_0x19b031['id'][_0x2f4614(0x484)]('::'),_0x4e1462=this['tables']['get'](_0x1b1e2f);if(!_0x4e1462)throw new _0x46f718(_0x46f718[_0x2f4614(0x6b3)][_0x2f4614(0x82e)],{'table':_0x4e1462});let _0x1c5e3a=0x0;switch(_0x19b031[_0x2f4614(0x61e)]){case _0xa02ece[_0x2f4614(0x21b)]:case _0xa02ece[_0x2f4614(0x211)]:{const _0x23ee53=_0x4e1462['set'](_0x590353,_0x19b031['value'],!0x1);_0x1c5e3a=JSON[_0x2f4614(0x201)](_0x19b031[_0x2f4614(0x56d)])[_0x2f4614(0x24c)],this[_0x2f4614(0x26c)][_0x2f4614(0x563)](_0x19b031['id'])&&this['syncTransactionsWritten'][_0x2f4614(0x875)](_0x23ee53);break;}case _0xa02ece[_0x2f4614(0x607)]:{const _0x358af8=_0x4e1462[_0x2f4614(0x6fd)](_0x590353,!0x1);this[_0x2f4614(0x26c)][_0x2f4614(0x563)](_0x19b031['id'])&&this['syncTransactionsWritten'][_0x2f4614(0x875)](_0x358af8);break;}}_0x3d0f37['logServiceEvent'](_0x33071f['KeyValueDatabase'],{'type':_0x2f4614(0x856),'label':this[_0x2f4614(0x380)],'nodeId':this[_0x2f4614(0x672)][_0x2f4614(0x677)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x2f4614(0x89e)],'tableName':_0x1b1e2f,'key':_0x590353,'size':_0x1c5e3a}),this[_0x2f4614(0x1b3)](_0x19b031);});}[_0x13fde2(0x825)](){const _0x147395=_0x13fde2;this['tableUnsubscriber']=this[_0x147395(0x8bf)][_0x147395(0x76e)](async _0x43dcc8=>{const _0x4a26b2=_0x147395;let _0x5dc62b=0x0;switch(_0x43dcc8[_0x4a26b2(0x61e)]){case _0xa02ece['Add']:case _0xa02ece[_0x4a26b2(0x211)]:case _0xa02ece['Delete']:{const _0x4d1e7a=await this[_0x4a26b2(0x74c)](_0x43dcc8);if(!_0x4d1e7a)return;_0x4d1e7a['value']=_0x43dcc8[_0x4a26b2(0x56d)],this[_0x4a26b2(0x232)](_0x4d1e7a),_0x5dc62b=JSON[_0x4a26b2(0x201)](_0x43dcc8[_0x4a26b2(0x56d)])[_0x4a26b2(0x24c)],this['writes']+=0x1;break;}case _0x1dd331['Get']:case _0x1dd331['List']:case _0x1dd331[_0x4a26b2(0x446)]:this[_0x4a26b2(0x2b7)]+=0x1;}_0x3d0f37['logServiceEvent'](_0x33071f[_0x4a26b2(0x7dd)],{'type':_0x43dcc8[_0x4a26b2(0x61e)],'label':this[_0x4a26b2(0x380)],'nodeId':this[_0x4a26b2(0x672)][_0x4a26b2(0x677)](),'nodeType':this[_0x4a26b2(0x672)][_0x4a26b2(0x5bb)],'clusterId':this[_0x4a26b2(0x89e)],'tableName':_0x43dcc8['tableName'],'key':_0x43dcc8['key'],'size':_0x5dc62b}),this[_0x4a26b2(0x68f)]();});}[_0x13fde2(0x582)](){const _0x5d950f=_0x13fde2;this['db']&&(this[_0x5d950f(0x51d)]||(this['transactionTable']=this['db'][_0x5d950f(0x532)](_0x643fcd)));}['clearSyncTimeout'](){const _0xa568b1=_0x13fde2;this[_0xa568b1(0x2b2)]&&(clearTimeout(this['syncTimeout']),delete this['syncTimeout']);}['publishSyncCompleted'](){const _0x4ebd17=_0x13fde2;this[_0x4ebd17(0x64a)][_0x4ebd17(0x3c5)]({'event':_0x15de5e[_0x4ebd17(0x32e)]['SyncComplete']}),this[_0x4ebd17(0x409)]?.(!0x0),delete this[_0x4ebd17(0x409)],this[_0x4ebd17(0x68f)]();}async[_0x13fde2(0x802)](){const _0x5d495e=_0x13fde2;await Promise[_0x5d495e(0x892)](this[_0x5d495e(0x685)]),this[_0x5d495e(0x2c4)]();}[_0x13fde2(0x1b3)](_0x2cbd9e){const _0x224154=_0x13fde2;this[_0x224154(0x26c)][_0x224154(0x563)](_0x2cbd9e['id'])&&(this[_0x224154(0x5d1)](),this['transactionsToSync']=this[_0x224154(0x26c)][_0x224154(0x559)](_0x482d17=>_0x482d17!==_0x2cbd9e['id']),0x0!==this[_0x224154(0x26c)][_0x224154(0x24c)]?this[_0x224154(0x2b2)]=setTimeout(this[_0x224154(0x2a3)],_0x479f75):this[_0x224154(0x802)]());}['sendStats'](){const _0x3eac48=_0x13fde2;this[_0x3eac48(0x57d)]&&clearTimeout(this[_0x3eac48(0x57d)]),this[_0x3eac48(0x57d)]=setTimeout(async()=>{const _0x2f5cc5=_0x3eac48;delete this[_0x2f5cc5(0x57d)];let _0x2e151e=0x0;for(const _0x2ce6e6 of this[_0x2f5cc5(0x642)][_0x2f5cc5(0x45b)]())_0x2e151e+=await _0x2ce6e6[_0x2f5cc5(0x212)]();this[_0x2f5cc5(0x51a)][_0x2f5cc5(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f['Content'],'content':{'type':_0x85b357[_0x2f5cc5(0x6c3)],'label':this[_0x2f5cc5(0x380)],'stats':{'timestamp':Date[_0x2f5cc5(0x321)](),'storage':_0x2e151e,'messagesSent':this[_0x2f5cc5(0x502)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this[_0x2f5cc5(0x341)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x3d0f37['logStorage'](_0x33071f['KeyValueDatabase'],_0x2f5cc5(0x41d)+this['clusterId']+_0x2f5cc5(0x41d)+this[_0x2f5cc5(0x380)],_0x2e151e);},0x1388);}[_0x13fde2(0x44a)](_0xd70570){const _0x14456d=_0x13fde2;if(_0xd70570['tables'][_0x643fcd])throw new _0x3fd286(_0x12afa6[_0x14456d(0x2a2)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x643fcd+_0x14456d(0x385));if(_0xd70570['tables'][_0x3cfb9b])throw new _0x3fd286(_0x12afa6[_0x14456d(0x2a2)],_0x14456d(0x889)+_0x3cfb9b+_0x14456d(0x385));_0xd70570[_0x14456d(0x642)][_0x643fcd]={'indexes':[]},_0xd70570[_0x14456d(0x642)][_0x3cfb9b]={'indexes':[]};}}const _0x56678b=require('@crewdle/mist-connector-opfs'),_0x5abf08=require('@crewdle/mist-connector-indexed-db'),_0x1731e4=require('@crewdle/mist-connector-webrtc-browser'),_0x3ed4fe=0x1fc00000;var _0x11089b,_0x488105,_0x4a44e8,_0x4a7d10,_0x5eb9ae,_0xee2b42,_0x38e29f,_0x203b21,_0xe979e8;!function(_0x2dea45){const _0xd042df=_0x13fde2;_0x2dea45['AudioContext']=_0xd042df(0x7fb),_0x2dea45[_0xd042df(0x21a)]=_0xd042df(0x21a),_0x2dea45[_0xd042df(0x691)]=_0xd042df(0x691),_0x2dea45[_0xd042df(0x5f4)]=_0xd042df(0x5f4),_0x2dea45['DeviceConfig']=_0xd042df(0x30f),_0x2dea45['MediaStream']='MediaStream',_0x2dea45[_0xd042df(0x1a3)]=_0xd042df(0x1a3),_0x2dea45['ScreenSharing']=_0xd042df(0x33f),_0x2dea45[_0xd042df(0x38d)]=_0xd042df(0x38d),_0x2dea45[_0xd042df(0x779)]=_0xd042df(0x779);}(_0x11089b||(_0x11089b={}));class _0x4568c8{[_0x13fde2(0x356)];['bufferedEvents'];[_0x13fde2(0x445)];constructor(_0x5b115c=new Map(),_0x576fec=new Map(),_0x259787=new EventTarget()){this['registeredListeners']=_0x5b115c,this['bufferedEvents']=_0x576fec,this['eventTarget']=_0x259787;}['emit']=(_0x2cd491,_0x46134d)=>this['registeredListeners']['has'](_0x2cd491)?(_0x3d0f37[_0x13fde2(0x6c1)](_0x2582bf[_0x13fde2(0x79e)],_0x13fde2(0x23d),{'event':_0x2cd491,'data':_0x46134d}),this['eventTarget'][_0x13fde2(0x1cd)](new CustomEvent(_0x2cd491,{'detail':_0x46134d})),!0x0):(this[_0x13fde2(0x58b)](_0x2cd491,_0x46134d),!0x1);['on']=(_0x4516bf,_0x3339b7)=>{const _0x5bde16=_0x13fde2,_0x1d9b40=_0x24d1c8=>{const _0x250161=a0_0x2ee0;_0x3d0f37['log'](_0x2582bf[_0x250161(0x79e)],'Received\x20event\x20on\x20cluster',_0x24d1c8[_0x250161(0x5bb)],_0x24d1c8[_0x250161(0x7d0)]),_0x3339b7(_0x24d1c8[_0x250161(0x7d0)]);};return this[_0x5bde16(0x356)][_0x5bde16(0x599)](_0x4516bf,_0x1d9b40),this[_0x5bde16(0x445)]['addEventListener'](_0x4516bf,_0x1d9b40),_0x3d0f37['log'](_0x2582bf[_0x5bde16(0x86f)],_0x5bde16(0x620),_0x4516bf,_0x3339b7),this[_0x5bde16(0x37a)](_0x4516bf),this;};['off'](_0x5c181e){const _0xc1fe87=_0x13fde2;if(!_0x5c181e)return this[_0xc1fe87(0x356)][_0xc1fe87(0x1ed)]((_0x266a29,_0x4ffc4d)=>{this['eventTarget']['removeEventListener'](_0x4ffc4d,_0x266a29);}),void this[_0xc1fe87(0x356)]['clear']();_0xc1fe87(0x28d)==typeof _0x5c181e&&this[_0xc1fe87(0x524)](_0x5c181e),Array[_0xc1fe87(0x4bd)](_0x5c181e)&&_0x5c181e[_0xc1fe87(0x1ed)](_0x2899f1=>{this['removeListener'](_0x2899f1);});}[_0x13fde2(0x524)](_0x3dc124){const _0x5efcde=_0x13fde2,_0x7fec81=this[_0x5efcde(0x356)][_0x5efcde(0x556)](_0x3dc124);_0x7fec81&&(this[_0x5efcde(0x445)][_0x5efcde(0x5d6)](_0x3dc124,_0x7fec81),this[_0x5efcde(0x356)][_0x5efcde(0x6fd)](_0x3dc124));}[_0x13fde2(0x58b)](_0x3566ed,_0x42d53e){const _0x205812=_0x13fde2;_0x3d0f37['log'](_0x2582bf['Events'],_0x205812(0x82a),{'event':_0x3566ed,'data':_0x42d53e});const _0x1cd1b3=this[_0x205812(0x64b)][_0x205812(0x556)](_0x3566ed)||[];this[_0x205812(0x64b)][_0x205812(0x599)](_0x3566ed,[..._0x1cd1b3,_0x42d53e]);}[_0x13fde2(0x37a)](_0x39fe59){const _0x44d21d=_0x13fde2,_0x54e919=this[_0x44d21d(0x64b)]['get'](_0x39fe59);_0x54e919&&(_0x54e919[_0x44d21d(0x1ed)](_0x406a6c=>{const _0x322ef5=_0x44d21d;_0x3d0f37[_0x322ef5(0x6c1)](_0x2582bf[_0x322ef5(0x79e)],'Consuming\x20buffered\x20event',{'event':_0x39fe59,'data':_0x406a6c}),this[_0x322ef5(0x445)][_0x322ef5(0x1cd)](new CustomEvent(_0x39fe59,{'detail':_0x406a6c}));}),this[_0x44d21d(0x64b)]['delete'](_0x39fe59));}}class _0x37b0db extends Error{constructor(_0x16e02e){super('Early\x20return:\x20'+_0x16e02e);}}!function(_0x1588fd){const _0x387bd3=_0x13fde2;_0x1588fd[_0x1588fd[_0x387bd3(0x301)]=0x0]=_0x387bd3(0x301),_0x1588fd[_0x1588fd[_0x387bd3(0x282)]=0x1]=_0x387bd3(0x282);}(_0x488105||(_0x488105={})),function(_0x3daaa3){const _0x49da85=_0x13fde2;_0x3daaa3[_0x3daaa3['Offer']=0x0]='Offer',_0x3daaa3[_0x3daaa3['Answer']=0x1]=_0x49da85(0x60d),_0x3daaa3[_0x3daaa3['Handshake']=0x2]=_0x49da85(0x369),_0x3daaa3[_0x3daaa3[_0x49da85(0x1ad)]=0x3]=_0x49da85(0x1ad),_0x3daaa3[_0x3daaa3['NeedRestart']=0x4]='NeedRestart',_0x3daaa3[_0x3daaa3[_0x49da85(0x557)]=0x5]=_0x49da85(0x557),_0x3daaa3[_0x3daaa3[_0x49da85(0x8ad)]=0x6]='Disconnect',_0x3daaa3[_0x3daaa3[_0x49da85(0x4c0)]=0x7]='Stats',_0x3daaa3[_0x3daaa3[_0x49da85(0x573)]=0x8]='OptimizationConnectionSuccess';}(_0x4a44e8||(_0x4a44e8={})),function(_0x46df35){const _0x156914=_0x13fde2;_0x46df35[_0x46df35[_0x156914(0x3a6)]=0x0]=_0x156914(0x3a6),_0x46df35[_0x46df35[_0x156914(0x4cb)]=0x1]=_0x156914(0x4cb);}(_0x4a7d10||(_0x4a7d10={})),function(_0x510503){const _0x56a96a=_0x13fde2;_0x510503[_0x56a96a(0x841)]=_0x56a96a(0x6cc);}(_0x5eb9ae||(_0x5eb9ae={})),function(_0x1dddc9){const _0x49c45f=_0x13fde2;_0x1dddc9[_0x1dddc9[_0x49c45f(0x263)]=0x0]=_0x49c45f(0x263),_0x1dddc9[_0x1dddc9[_0x49c45f(0x2e9)]=0x1]='NodeUpdate',_0x1dddc9[_0x1dddc9[_0x49c45f(0x36d)]=0x2]=_0x49c45f(0x36d),_0x1dddc9[_0x1dddc9[_0x49c45f(0x6f6)]=0x3]='NodeLeave';}(_0xee2b42||(_0xee2b42={})),function(_0x168c9e){const _0x3345f6=_0x13fde2;_0x168c9e[_0x168c9e[_0x3345f6(0x707)]=0x0]='Remediation',_0x168c9e[_0x168c9e[_0x3345f6(0x273)]=0x1]='RemoteRemediation';}(_0x38e29f||(_0x38e29f={})),function(_0x5d6306){const _0x5069a3=_0x13fde2;_0x5d6306[_0x5069a3(0x208)]=_0x5069a3(0x57f),_0x5d6306[_0x5069a3(0x681)]='downgrade';}(_0x203b21||(_0x203b21={})),function(_0x3a8a85){const _0x496011=_0x13fde2;_0x3a8a85[_0x496011(0x3fc)]=_0x496011(0x511),_0x3a8a85[_0x496011(0x17b)]=_0x496011(0x7b8);}(_0xe979e8||(_0xe979e8={}));const _0x5e1ae4=require('aws-amplify'),_0x33b276=require('aws-amplify/utils'),_0x6fa2be=require('@aws-amplify/api'),_0x1a8534=require('@aws-amplify/core');class _0x2c4f4e{[_0x13fde2(0x89e)];['localNode'];[_0x13fde2(0x2d2)];constructor(_0x554e57,_0xa3799c,_0x3ca261){const _0x53ffe8=_0x13fde2;this['clusterId']=_0x554e57,this['localNode']=_0xa3799c,this[_0x53ffe8(0x2d2)]=_0x3ca261;}[_0x13fde2(0x5a3)](){const _0x4f4666=_0x13fde2;return this[_0x4f4666(0x672)][_0x4f4666(0x677)]();}['getRemoteId'](){const _0x4d910a=_0x13fde2;return this[_0x4d910a(0x2d2)];}}var _0x34c9ea,_0x34b234,_0x5da97e;function _0x533149(_0x3a15d8,_0x47e1d7){return _0x3a15d8['sourceId']===_0x47e1d7;}function _0x225a60(_0x1fe2ac,_0x2787d6){const _0x2afa48=_0x13fde2;return _0x1fe2ac[_0x2afa48(0x30a)]?.[_0x2afa48(0x563)](_0x2787d6)??function(_0x4ea361){const _0x21f6c2=_0x2afa48;return void 0x0===_0x4ea361[_0x21f6c2(0x30a)];}(_0x1fe2ac);}function _0x202def(_0x118fbe,{contentType:_0x1a8727,label:_0x4a09d6,remoteId:_0x1478ca}){return _0x118fbe+'-'+_0x1a8727+'-'+_0x4a09d6+'-'+_0x1478ca;}function _0x192baa(_0x2dbce0,_0x58d3db,_0x4ef0f9){return''+_0x2dbce0+_0x58d3db+_0x4ef0f9;}function _0x5cc109(_0x38509a){const _0x50695c=_0x13fde2;return _0x38509a===_0x34b234[_0x50695c(0x6cb)]?_0x50695c(0x777):_0x50695c(0x634);}function _0x1c0fe2(_0x4c29cb,_0x275f65){const _0x1fb0e8=_0x13fde2;return{'label':_0x4c29cb[_0x1fb0e8(0x406)](),'contentType':_0x4c29cb[_0x1fb0e8(0x1fe)](),'remoteId':_0x275f65['getRemoteId'](),'supportsContentType':_0x275f65['getSupportedContentTypes']()[_0x1fb0e8(0x563)](_0x4c29cb[_0x1fb0e8(0x1fe)]())};}!function(_0x45cd9f){const _0x5d53a5=_0x13fde2;_0x45cd9f[_0x45cd9f[_0x5d53a5(0x3cb)]=0x0]=_0x5d53a5(0x3cb),_0x45cd9f[_0x45cd9f[_0x5d53a5(0x3f7)]=0x1]=_0x5d53a5(0x3f7),_0x45cd9f[_0x45cd9f['Rejected']=0x2]=_0x5d53a5(0x3d6);}(_0x34c9ea||(_0x34c9ea={})),function(_0x578226){_0x578226['Incoming']='in',_0x578226['Outgoing']='out';}(_0x34b234||(_0x34b234={}));class _0x3b526c{[_0x13fde2(0x3bd)];[_0x13fde2(0x3ff)];constructor(_0x506898,_0xedbbdd){this['callback']=_0x506898,this['retryCallback']=_0xedbbdd;}['call'](_0x128331){this['callback'](_0x128331);}async['wait'](){const _0x587df7=_0x13fde2;await this[_0x587df7(0x3ff)]();}}class _0x1738f6{[_0x13fde2(0x3bd)];['retryCallback'];constructor(_0x39adbc,_0x5334e3){const _0x1d7ba2=_0x13fde2;this[_0x1d7ba2(0x3bd)]=_0x39adbc,this['retryCallback']=_0x5334e3;}async[_0x13fde2(0x2b1)](_0x254168){const _0x4e0cea=_0x13fde2;await this[_0x4e0cea(0x3bd)](_0x254168);}async['wait'](){const _0x14a417=_0x13fde2;await this[_0x14a417(0x3ff)]();}}function _0x14d36a(_0x83c654=()=>{},_0x5a0af1=()=>!0x1,_0x5d4fef=()=>{}){let _0x21c849,_0x4dc376,_0x35c9ad=0x0;return{get 'size'(){return _0x35c9ad;},get 'head'(){return _0x21c849;},get 'tail'(){return _0x4dc376;},set 'head'(_0x2d4ed5){_0x21c849=_0x2d4ed5;},set 'tail'(_0x41e87e){_0x4dc376=_0x41e87e;},'push'(_0x342853,_0x3951f4=!0x0){const _0x336c6a=a0_0x2ee0,_0x45ab53={'value':_0x342853};_0x3951f4&&_0x5a0af1(_0x45ab53)?_0x83c654():(_0x4dc376&&(_0x45ab53[_0x336c6a(0x776)]=_0x4dc376,_0x4dc376['next']=_0x45ab53),_0x4dc376=_0x45ab53,_0x21c849||(_0x21c849=_0x45ab53),_0x35c9ad+=0x1,_0x3951f4&&_0x83c654());},'pop'(){const _0x3bcecc=a0_0x2ee0;if(!_0x4dc376)return;const _0x147837=_0x4dc376[_0x3bcecc(0x56d)];return _0x4dc376=_0x4dc376[_0x3bcecc(0x776)],_0x4dc376&&delete _0x4dc376[_0x3bcecc(0x319)],_0x4dc376||(_0x21c849=void 0x0),_0x35c9ad-=0x1,_0x147837;},'unshift'(_0x256c76,_0x3456db=!0x0){const _0x417ce3=a0_0x2ee0,_0x3bdba8={'value':_0x256c76};_0x3456db&&_0x5a0af1(_0x3bdba8)?_0x83c654():(_0x21c849&&(_0x21c849[_0x417ce3(0x776)]=_0x3bdba8,_0x3bdba8['next']=_0x21c849),_0x21c849=_0x3bdba8,_0x4dc376||(_0x4dc376=_0x3bdba8),_0x35c9ad+=0x1,_0x3456db&&_0x83c654());},'shift'(){const _0x583864=a0_0x2ee0;if(!_0x21c849)return;const _0x3b4016=_0x21c849['value'];return _0x21c849=_0x21c849['next'],_0x21c849&&delete _0x21c849[_0x583864(0x776)],_0x21c849||(_0x4dc376=void 0x0),_0x35c9ad-=0x1,_0x3b4016;},'clear'(){_0x5d4fef(),_0x21c849=void 0x0,_0x4dc376=void 0x0,_0x35c9ad=0x0;}};}function _0x3becc7(_0x211a86,_0x8a32fa=!0x1,_0x564e66=()=>{},_0x2f3c4f=()=>!0x1,_0x34d71c=()=>{}){let _0x13e268=!0x1;const _0x12a5e6=_0x14d36a(async function(){const _0x4ef912=a0_0x2ee0;if(!_0x13e268){for(_0x13e268=!0x0;_0x12a5e6[_0x4ef912(0x20d)];){const _0x2dff8d=_0x12a5e6[_0x4ef912(0x782)]();if(_0x2dff8d)try{_0x211a86 instanceof _0x3b526c&&_0x211a86[_0x4ef912(0x2b1)](_0x2dff8d),_0x211a86 instanceof _0x1738f6&&await _0x211a86['call'](_0x2dff8d),_0x564e66(_0x2dff8d);}catch(_0x2a380b){_0x8a32fa?_0x12a5e6[_0x4ef912(0x875)](_0x2dff8d,!0x1):_0x12a5e6[_0x4ef912(0x293)](_0x2dff8d,!0x1),await _0x211a86[_0x4ef912(0x374)]();}}_0x13e268=!0x1;}},_0x2f3c4f,_0x34d71c);return _0x12a5e6;}class _0x514348 extends _0x2c4f4e{[_0x13fde2(0x1f3)];[_0x13fde2(0x69e)];[_0x13fde2(0x593)]=_0x6fa2be[_0x13fde2(0x5f5)][_0x13fde2(0x4fd)];[_0x13fde2(0x71a)]=_0x3e22bd();[_0x13fde2(0x538)]=_0x223536();[_0x13fde2(0x4a3)];[_0x13fde2(0x31a)];[_0x13fde2(0x448)]=_0x3becc7(new _0x1738f6(this[_0x13fde2(0x180)][_0x13fde2(0x5d5)](this),this[_0x13fde2(0x292)][_0x13fde2(0x5d5)](this)));[_0x13fde2(0x387)];constructor(_0x4ef7bc,_0x13710d,_0x5f0a69,_0xdcf070,_0x8dbc04){const _0x1c1662=_0x13fde2;super(_0x13710d,_0x5f0a69,_0xdcf070),this[_0x1c1662(0x1f3)]=_0x4ef7bc,this[_0x1c1662(0x69e)]=_0x8dbc04;}async[_0x13fde2(0x6d3)](){const _0x5c7567=_0x13fde2;try{const _0x5ebb57={'getTokens':async()=>{const _0x608c55=a0_0x2ee0,_0x4fcdf2=await this[_0x608c55(0x69e)][_0x608c55(0x872)]();return{'accessToken':(0x0,_0x1a8534[_0x608c55(0x600)])(_0x4fcdf2),'idToken':(0x0,_0x1a8534['decodeJWT'])(_0x4fcdf2)};}};_0x5e1ae4[_0x5c7567(0x64c)]['configure']({'API':{'GraphQL':{'endpoint':_0x87736e['aws'][_0x5c7567(0x3db)],'region':_0x87736e[_0x5c7567(0x72c)][_0x5c7567(0x58f)],'defaultAuthMode':_0x5c7567(0x8b2)}}},{'Auth':{'tokenProvider':_0x5ebb57}}),this['client']=(0x0,_0x6fa2be[_0x5c7567(0x1b2)])(),await this[_0x5c7567(0x76e)](),this[_0x5c7567(0x31a)]=_0x33b276[_0x5c7567(0x74b)][_0x5c7567(0x4d1)](_0x5c7567(0x56f),async({payload:_0x5badf7})=>{const _0x36cea0=_0x5c7567;if(_0x5badf7[_0x36cea0(0x829)]===_0x6fa2be['CONNECTION_STATE_CHANGE']){const _0x2187af=_0x5badf7[_0x36cea0(0x7e0)];this[_0x36cea0(0x593)]=_0x2187af[_0x36cea0(0x593)],this[_0x36cea0(0x71a)][_0x36cea0(0x3c5)](_0x2187af[_0x36cea0(0x593)]),this['connectionState']===_0x6fa2be[_0x36cea0(0x5f5)]['Disconnected']?(_0x3d0f37[_0x36cea0(0x377)]('appsync-disconnect',{'clusterId':this[_0x36cea0(0x89e)],'nodeId':this['getLocalId'](),'nodeType':this[_0x36cea0(0x672)][_0x36cea0(0x5bb)]}),this[_0x36cea0(0x3df)](),this[_0x36cea0(0x6d3)]()):this[_0x36cea0(0x593)]===_0x6fa2be['ConnectionState'][_0x36cea0(0x648)]?_0x3d0f37[_0x36cea0(0x8a0)](_0x36cea0(0x8bb),{'clusterId':this['clusterId'],'nodeId':this[_0x36cea0(0x5a3)](),'nodeType':this[_0x36cea0(0x672)][_0x36cea0(0x5bb)]}):_0x3d0f37[_0x36cea0(0x8a0)](_0x36cea0(0x8a2),{'clusterId':this[_0x36cea0(0x89e)],'nodeId':this['getLocalId'](),'nodeType':this[_0x36cea0(0x672)][_0x36cea0(0x5bb)],'data':{'state':_0x2187af[_0x36cea0(0x593)]}});}});}catch(_0x502a39){_0x3d0f37[_0x5c7567(0x377)]('appsync-connect-fail',{'clusterId':this[_0x5c7567(0x89e)],'nodeId':this[_0x5c7567(0x5a3)](),'nodeType':this[_0x5c7567(0x672)][_0x5c7567(0x5bb)]});}}[_0x13fde2(0x3df)](){const _0x32b642=_0x13fde2;_0x3d0f37[_0x32b642(0x8a0)](_0x32b642(0x1c5),{'clusterId':this[_0x32b642(0x89e)],'nodeId':this[_0x32b642(0x5a3)](),'nodeType':this[_0x32b642(0x672)][_0x32b642(0x5bb)]}),this[_0x32b642(0x448)][_0x32b642(0x84d)](),this[_0x32b642(0x31a)]?.(),this[_0x32b642(0x4a3)]?.[_0x32b642(0x250)](),delete this[_0x32b642(0x4a3)];}[_0x13fde2(0x338)](){const _0x26475a=_0x13fde2;return this[_0x26475a(0x593)]===_0x6fa2be[_0x26475a(0x5f5)][_0x26475a(0x648)];}[_0x13fde2(0x232)](_0x19de03){const _0x2f433e=_0x13fde2;this[_0x2f433e(0x448)]['push'](_0x19de03);}[_0x13fde2(0x77e)](_0x2447ee){const _0xf1a909=_0x13fde2;return this[_0xf1a909(0x538)][_0xf1a909(0x76e)](_0x2447ee);}[_0x13fde2(0x574)](){const _0x2c341a=_0x13fde2;return[_0x15de5e[_0x2c341a(0x671)][_0x2c341a(0x249)]];}async[_0x13fde2(0x292)](){if(!this['isConnected']())return new Promise(_0x1fb91d=>{const _0x42f960=a0_0x2ee0,_0x431cc3=this[_0x42f960(0x71a)][_0x42f960(0x76e)](_0xcb2ec=>{const _0x468a79=_0x42f960;_0xcb2ec===_0x6fa2be[_0x468a79(0x5f5)][_0x468a79(0x648)]&&(_0x431cc3(),_0x1fb91d());});});}async['sendAction'](_0x549784){const _0x231b38=_0x13fde2;if(this[_0x231b38(0x593)]!==_0x6fa2be[_0x231b38(0x5f5)]['Connected'])throw new Error(_0x231b38(0x1ff));_0x549784['destinationIds']&&0x1===_0x549784['destinationIds'][_0x231b38(0x24c)]?await this['publish'](_0x549784['destinationIds'][0x0],JSON[_0x231b38(0x201)](_0x549784)):_0x3d0f37[_0x231b38(0x377)](_0x231b38(0x43e),{'clusterId':this[_0x231b38(0x89e)],'nodeId':this[_0x231b38(0x5a3)](),'nodeType':this[_0x231b38(0x672)]['type']});}async[_0x13fde2(0x3c5)](_0x4f98bb,_0x41caf2){const _0x47403d=_0x13fde2;if(!this[_0x47403d(0x387)])throw new Error(_0x47403d(0x261));_0x3d0f37[_0x47403d(0x6c1)](_0x2582bf[_0x47403d(0x88a)],_0x47403d(0x740),this['getLocalId'](),_0x41caf2),await this[_0x47403d(0x387)][_0x47403d(0x7f3)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x47403d(0x17d)](_0x4f98bb),'data':_0x41caf2}});}async[_0x13fde2(0x76e)](){const _0x3db63c=_0x13fde2;if(this[_0x3db63c(0x4a3)])return;if(!this['client'])throw new Error(_0x3db63c(0x261));_0x3d0f37[_0x3db63c(0x6c1)](_0x2582bf['Signaling'],_0x3db63c(0x84e),this['getLocalId']());const _0x5a2525=await this[_0x3db63c(0x387)][_0x3db63c(0x7f3)]({'query':_0x3db63c(0x303),'variables':{'name':await this[_0x3db63c(0x17d)]()},'authToken':await this['authService'][_0x3db63c(0x872)]()},{'Authorization':await this[_0x3db63c(0x69e)][_0x3db63c(0x872)]()});this[_0x3db63c(0x4a3)]=_0x5a2525['subscribe']({'next':({data:_0x3a3e74})=>{const _0x4d644d=_0x3db63c,_0x2692a4=JSON[_0x4d644d(0x4fe)](_0x3a3e74[_0x4d644d(0x76e)]['data']);!_0x533149(_0x2692a4,this[_0x4d644d(0x5a3)]())&&_0x225a60(_0x2692a4,this[_0x4d644d(0x5a3)]())&&this[_0x4d644d(0x538)]['publish'](_0x2692a4);},'error':console[_0x3db63c(0x6c1)]});}async['getHash'](_0x183265){const _0x5af0f9=_0x13fde2,_0x1d00d6=await crypto['subtle'][_0x5af0f9(0x1a5)](_0x5af0f9(0x26d),new TextEncoder()[_0x5af0f9(0x7cd)](this[_0x5af0f9(0x1f3)]+'-'+this['clusterId']+'-'+(_0x183265??this['getLocalId']())));return Array['from'](new Uint8Array(_0x1d00d6))[_0x5af0f9(0x3d2)](_0x2210ea=>_0x2210ea['toString'](0x10)[_0x5af0f9(0x690)](0x2,'0'))[_0x5af0f9(0x7a9)]('');}}!function(_0x2c26b9){const _0x4b474a=_0x13fde2;_0x2c26b9[_0x2c26b9[_0x4b474a(0x21b)]=0x0]='Add',_0x2c26b9[_0x2c26b9[_0x4b474a(0x503)]=0x1]=_0x4b474a(0x503),_0x2c26b9[_0x2c26b9[_0x4b474a(0x211)]=0x2]='Update',_0x2c26b9[_0x2c26b9[_0x4b474a(0x4b5)]=0x3]=_0x4b474a(0x4b5),_0x2c26b9[_0x2c26b9[_0x4b474a(0x84b)]=0x4]=_0x4b474a(0x84b);}(_0x5da97e||(_0x5da97e={}));const _0xf381fc='0',_0x4744c9=_0x13fde2(0x70e),_0x594c73=_0x4f343e,_0x45c6a7=0xbe800;class _0x125718{[_0x13fde2(0x89e)];[_0x13fde2(0x672)];[_0x13fde2(0x2d2)];[_0x13fde2(0x228)];[_0x13fde2(0x6dc)];[_0x13fde2(0x1f4)];['connection'];[_0x13fde2(0x5a0)];['currentVersion']=0x1;[_0x13fde2(0x51a)];[_0x13fde2(0x7da)]=[];[_0x13fde2(0x840)]=[];[_0x13fde2(0x501)];constructor(_0x516f70,_0x4673da,_0x2093e1,_0x474888,_0x55160f,_0x1539ca){const _0x4972a2=_0x13fde2;this[_0x4972a2(0x89e)]=_0x516f70,this[_0x4972a2(0x672)]=_0x4673da,this[_0x4972a2(0x2d2)]=_0x2093e1,this['iceServers']=_0x474888,this[_0x4972a2(0x6dc)]=_0x55160f,this['connectionConstructor']=_0x1539ca,this[_0x4972a2(0x794)]=new this[(_0x4972a2(0x1f4))]({'handshakeServers':this[_0x4972a2(0x228)]}),this[_0x4972a2(0x8a1)]();}[_0x13fde2(0x3df)](){this['stopConnection']();}[_0x13fde2(0x737)](_0x1eb0bb){const _0x5c907d=_0x13fde2;this[_0x5c907d(0x6dc)]=_0x1eb0bb;}async[_0x13fde2(0x774)](_0x209112,_0x14795c){const _0x17cbce=_0x13fde2;if(_0x14795c===this[_0x17cbce(0x5aa)])for(const _0x4af9b2 of _0x209112){if(!this[_0x17cbce(0x794)][_0x17cbce(0x32f)])return this[_0x17cbce(0x74a)](_0x4af9b2);try{await this[_0x17cbce(0x794)]['addCandidate'](_0x4af9b2);}catch(_0x42ea8c){this['addPendingHandshakeCandidate'](_0x4af9b2);}}}['isConnected'](){const _0x214d4=_0x13fde2;return this['logConnectionState'](),'connected'===this[_0x214d4(0x794)][_0x214d4(0x593)]&&[_0x214d4(0x552),_0x214d4(0x729)][_0x214d4(0x563)](this[_0x214d4(0x794)]['handshakeState'])&&_0x214d4(0x618)!==this[_0x214d4(0x794)][_0x214d4(0x810)]&&_0x214d4(0x20c)===this[_0x214d4(0x5a0)]?.['state'];}['registerSystemPublisher'](_0x203bdd){const _0x27203f=_0x13fde2;this[_0x27203f(0x51a)]=_0x203bdd;}[_0x13fde2(0x769)](){delete this['systemTopic'];}['resetConnection'](_0x25822b){const _0x5bc625=_0x13fde2;this[_0x5bc625(0x2ca)](),this['connection']=new this[(_0x5bc625(0x1f4))]({'handshakeServers':this[_0x5bc625(0x228)]}),_0x25822b?this[_0x5bc625(0x5aa)]=_0x25822b:this['currentVersion']+=0x1,this[_0x5bc625(0x8a1)]();}[_0x13fde2(0x272)](){const _0x6b65f7=_0x13fde2;this[_0x6b65f7(0x840)][_0x6b65f7(0x1ed)](_0x531af1=>{const _0x47db3a=_0x6b65f7;try{this[_0x47db3a(0x794)][_0x47db3a(0x832)](_0x531af1);}catch(_0x2012f5){}}),this['pendingHandshakeCandidates']=[];}[_0x13fde2(0x83a)](_0x3d58b0,_0x4def6e){const _0xf2def5=_0x13fde2;if(!this[_0xf2def5(0x51a)])throw new _0x46f718(_0x46f718[_0xf2def5(0x6b3)]['MissingSystemTopic'],{'content':_0x3d58b0});const _0x3649d0={'sourceId':this[_0xf2def5(0x672)]['getId'](),'destinationIds':[this[_0xf2def5(0x2d2)]],'propagate':this[_0xf2def5(0x6dc)]!==_0x488105[_0xf2def5(0x301)],'retry':this['connectionType']!==_0x488105[_0xf2def5(0x301)],'messageType':_0x1b694f[_0xf2def5(0x37c)],'content':_0x3d58b0};_0x4def6e&&(_0x3649d0[_0xf2def5(0x5ff)]=_0x4def6e),this[_0xf2def5(0x51a)][_0xf2def5(0x3c5)](_0x3649d0);}[_0x13fde2(0x8a1)](){const _0x762cf5=_0x13fde2;this[_0x762cf5(0x794)]['onGatheringStateChange']=()=>{const _0x4ceb6d=_0x762cf5;'complete'===this['connection']['gatheringState']&&this[_0x4ceb6d(0x7da)][_0x4ceb6d(0x24c)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x4ceb6d(0x501)]),this[_0x4ceb6d(0x501)]=setTimeout(()=>{const _0x3b1985=_0x4ceb6d;delete this[_0x3b1985(0x501)],this[_0x3b1985(0x389)](),this['handshakeCandidates']=[];},0x1f4));},this['connection'][_0x762cf5(0x87f)]=_0x5e01ec=>{const _0x250e0a=_0x762cf5;_0x5e01ec['candidate']&&this['handshakeCandidates'][_0x250e0a(0x875)](_0x5e01ec[_0x250e0a(0x355)]);};}['stopConnection'](){const _0x1c59c5=_0x13fde2;clearTimeout(this['handshakeDebounce']),delete this[_0x1c59c5(0x501)],this[_0x1c59c5(0x7da)]=[],this[_0x1c59c5(0x840)]=[],this['dataChannel']&&(this['dataChannel'][_0x1c59c5(0x77e)]=null,this[_0x1c59c5(0x5a0)]['onClose']=null,this['dataChannel'][_0x1c59c5(0x3df)](),delete this['dataChannel']),this[_0x1c59c5(0x794)]['onGatheringStateChange']=null,this[_0x1c59c5(0x794)][_0x1c59c5(0x87f)]=null,this['connection'][_0x1c59c5(0x53a)]=null,this[_0x1c59c5(0x794)]['onConnectionStateChange']=null,this['connection'][_0x1c59c5(0x2b8)]=null,this[_0x1c59c5(0x794)][_0x1c59c5(0x7f1)]=null,this[_0x1c59c5(0x794)][_0x1c59c5(0x3df)]();}[_0x13fde2(0x74a)](_0x11c8a0){const _0x10db88=_0x13fde2;this[_0x10db88(0x840)]['push'](_0x11c8a0);}['logConnectionState'](){const _0x4de66d=_0x13fde2;_0x3d0f37[_0x4de66d(0x6c1)](_0x2582bf[_0x4de66d(0x5f5)],_0x4de66d(0x6d7),{'localId':this[_0x4de66d(0x672)]['getId'](),'remoteId':this['remoteId'],'connectionState':this[_0x4de66d(0x794)][_0x4de66d(0x593)],'handshakeState':this[_0x4de66d(0x794)][_0x4de66d(0x296)],'signalingState':this['connection'][_0x4de66d(0x810)],'dataChannelState':this['dataChannel']?.['state']});}}function _0x1133f4(_0x25bf24,_0x396f60){const _0x28f99c=_0x13fde2;_0x396f60[_0x28f99c(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x28f99c(0x37c)],'content':_0x25bf24});}class _0x35f9c1{static ['instance'];[_0x13fde2(0x53b)]=[];[_0x13fde2(0x26a)];constructor(){setInterval(()=>{const _0x5354f9=a0_0x2ee0;this[_0x5354f9(0x53b)]['forEach'](_0x17c913=>{const _0xe9552f=_0x5354f9;if(Date[_0xe9552f(0x321)]()-_0x17c913[_0xe9552f(0x7d3)]>_0x17c913['interval']){try{_0x17c913[_0xe9552f(0x3bd)]();}catch(_0x2bc3ed){}_0x17c913[_0xe9552f(0x7d3)]=Date[_0xe9552f(0x321)]();}});},0x64);}static[_0x13fde2(0x48f)](){const _0x244da5=_0x13fde2;return _0x35f9c1['instance']||(_0x35f9c1[_0x244da5(0x8ab)]=new _0x35f9c1()),_0x35f9c1[_0x244da5(0x8ab)];}['startNoThrottlingHack'](_0x1a5913){const _0x5bdb16=_0x13fde2,_0x3e8cc6=this[_0x5bdb16(0x59a)](_0x1a5913),_0x940404=_0x1a5913[_0x5bdb16(0x4b4)]();_0x940404&&_0x3e8cc6&&(_0x940404[_0x5bdb16(0x5df)]['value']=0.001,_0x3e8cc6[_0x5bdb16(0x6d3)](_0x940404),_0x940404[_0x5bdb16(0x6d3)](_0x1a5913[_0x5bdb16(0x4eb)]),_0x3e8cc6[_0x5bdb16(0x504)]());}[_0x13fde2(0x4cd)](){const _0x3dc719=_0x13fde2;this[_0x3dc719(0x26a)]&&(this[_0x3dc719(0x26a)][_0x3dc719(0x4f4)](),this[_0x3dc719(0x26a)]['disconnect'](),this[_0x3dc719(0x26a)]=void 0x0);}['wait'](_0x1ea45f){return new Promise(_0x5784d1=>{setTimeout(_0x5784d1,_0x1ea45f);});}[_0x13fde2(0x3ce)](_0x25378e,_0x2e9a62){const _0xc8df55=_0x13fde2;return this[_0xc8df55(0x53b)][_0xc8df55(0x875)]({'callback':_0x25378e,'interval':_0x2e9a62,'lastExecuted':Date[_0xc8df55(0x321)]()}),()=>{const _0x44ef9f=_0xc8df55;this[_0x44ef9f(0x53b)]=this[_0x44ef9f(0x53b)][_0x44ef9f(0x559)](_0x1ca813=>_0x1ca813[_0x44ef9f(0x3bd)]!==_0x25378e);};}[_0x13fde2(0x59a)](_0x5e8a10){const _0x5e4a6d=_0x13fde2;if(_0x5e8a10[_0x5e4a6d(0x59a)])return _0x5e8a10[_0x5e4a6d(0x59a)]();const _0xf5e30e=_0x5e8a10['createBufferSource'](),_0x42bf59=_0x5e8a10[_0x5e4a6d(0x85e)](0x1,0x1,_0x5e8a10[_0x5e4a6d(0x859)]);return _0x42bf59[_0x5e4a6d(0x583)](0x0)[0x0]=0xa,_0xf5e30e['buffer']=_0x42bf59,_0xf5e30e[_0x5e4a6d(0x87e)]=!0x0,_0xf5e30e;}}const _0x384e4f=_0x35f9c1['getInstance'](),_0x5e77b1=['PeerConnection',_0x13fde2(0x3c6),_0x13fde2(0x67b),_0x13fde2(0x5b1),_0x13fde2(0x4c0),_0x13fde2(0x364),_0x13fde2(0x707)],_0x50ce5b=[['Offer','Answer',_0x13fde2(0x369),_0x13fde2(0x1ad),_0x13fde2(0x247),_0x13fde2(0x557),_0x13fde2(0x8ad),_0x13fde2(0x4c0),_0x13fde2(0x573)],[_0x13fde2(0x263),_0x13fde2(0x2e9),_0x13fde2(0x36d),_0x13fde2(0x6f6)],['PublishMediaStream','UnpublishMediaStream',_0x13fde2(0x34f),_0x13fde2(0x6b7),_0x13fde2(0x453),_0x13fde2(0x7c9),_0x13fde2(0x1d8),_0x13fde2(0x565),'CloseKeyValueDatabase','ClosePubSubTopic',_0x13fde2(0x88e),_0x13fde2(0x1df),_0x13fde2(0x547),'LocalMediaStreamTrackFail',_0x13fde2(0x39a),_0x13fde2(0x539),_0x13fde2(0x371),_0x13fde2(0x298),_0x13fde2(0x6de),'ObjectStoreStats',_0x13fde2(0x6c3),_0x13fde2(0x381),_0x13fde2(0x33d),'VectorDatabaseStats','GraphDatabaseStats'],['SubscribeMediaStream',_0x13fde2(0x6b7),'UnsubscribeMediaStream',_0x13fde2(0x7fc),'RestartNeedMediaStream',_0x13fde2(0x5d7),_0x13fde2(0x23c),_0x13fde2(0x217)],[_0x13fde2(0x2d9),_0x13fde2(0x36c)],[_0x13fde2(0x30c)],[_0x13fde2(0x707),_0x13fde2(0x273)]];function _0x56e005(_0x23e00a){const _0x57c014=_0x13fde2;return{..._0x23e00a,'systemMessageType':_0x5e77b1[_0x23e00a['messageType']],'systemContentMessageType':_0x50ce5b[_0x23e00a['messageType']][_0x23e00a[_0x57c014(0x6dd)][_0x57c014(0x5bb)]]};}const _0x2ec0d7={'hour':_0x13fde2(0x4ab),'minute':_0x13fde2(0x4ab),'second':_0x13fde2(0x4ab)};function _0x16ed7b(_0x1647cc,_0x44cac3){const _0x440019=_0x13fde2,_0x40c5c7=(function(){const _0x19ca3e=a0_0x2ee0,_0x625c95=new Date(),_0x30d701=_0x625c95[_0x19ca3e(0x434)](),_0x1497fb=_0x625c95[_0x19ca3e(0x851)](_0x19ca3e(0x27c),_0x2ec0d7)[_0x19ca3e(0x7a6)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x1497fb+'.'+(_0x30d701>0x64?''+_0x30d701:_0x30d701>0xa?'0'+_0x30d701:'00'+_0x30d701);}()),{sourceId:_0x361369,destinationIds:_0x6a3603,systemMessageType:_0x352054,systemContentMessageType:_0x380029}=_0x56e005(_0x1647cc);return _0x40c5c7+'\x20-\x20'+_0x44cac3+'\x20-\x20'+(_0x361369===_0x44cac3?'Sending\x20\x27'+_0x352054+_0x440019(0x315)+(_0x6a3603?''+_0x6a3603:_0x440019(0x306)):_0x1647cc[_0x440019(0x8a3)]===_0x2de6c6?_0x440019(0x79b)+_0x352054+'\x27':(_0x6a3603?'':_0x440019(0x686))+'Receiving\x20\x27'+_0x352054+_0x440019(0x5b8)+_0x361369)+_0x440019(0x45e)+_0x380029+_0x440019(0x2b4);}class _0x2607a3 extends _0x125718{['messageCallback']=_0x3e22bd();[_0x13fde2(0x72b)]=_0x3e22bd();[_0x13fde2(0x63f)]=_0x3e22bd();[_0x13fde2(0x237)]=new Map();[_0x13fde2(0x254)]=new Map();[_0x13fde2(0x457)];['messagesReceived']=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x13fde2(0x428)]=0x0;[_0x13fde2(0x63a)]=0x0;[_0x13fde2(0x3df)](){const _0x2ec028=_0x13fde2;this[_0x2ec028(0x2e2)](),this['receivers'][_0x2ec028(0x84d)](),super[_0x2ec028(0x3df)]();}async[_0x13fde2(0x3ef)](_0x3044f4,_0x47e0ae){const _0x39efdc=_0x13fde2;this[_0x39efdc(0x5aa)]=_0x47e0ae,this['clearWaitSuccess']();const _0x2e3b51=await this[_0x39efdc(0x794)]['createAnswer'](_0x3044f4);this['processPendingHandshakeCandidates']();const _0x40cae8=(0x0,_0x1575cc['v4'])();this[_0x39efdc(0x83a)]({'type':_0x4a44e8[_0x39efdc(0x60d)],'answer':_0x2e3b51,'version':_0x47e0ae,'connectionType':this[_0x39efdc(0x6dc)]},_0x40cae8),this[_0x39efdc(0x6dc)]===_0x488105[_0x39efdc(0x301)]&&(this[_0x39efdc(0x457)]=_0x384e4f[_0x39efdc(0x3ce)](()=>{const _0x26009a=_0x39efdc;this['publishSystemMessage']({'type':_0x4a44e8[_0x26009a(0x60d)],'answer':_0x2e3b51,'version':_0x47e0ae,'connectionType':this['connectionType']},_0x40cae8);},0x1388));}[_0x13fde2(0x56e)](){const _0x5f2966=_0x13fde2;this[_0x5f2966(0x2e2)]();}[_0x13fde2(0x515)](_0x563f92){this['resetConnection'](_0x563f92),this['publishSystemMessage']({'type':_0x4a44e8['Restart']});}async[_0x13fde2(0x49d)](){const _0x5aee6a=_0x13fde2;this[_0x5aee6a(0x51a)]&&(await this[_0x5aee6a(0x794)][_0x5aee6a(0x4a2)](this[_0x5aee6a(0x237)],(_0x262e07,_0x57a784)=>{const _0x32f1e5=_0x5aee6a;_0x1133f4({'type':_0x4a44e8[_0x32f1e5(0x4c0)],'streamId':_0x57a784,'nodeId':this[_0x32f1e5(0x2d2)],'stats':_0x262e07},this['systemTopic']);}),this[_0x5aee6a(0x51a)][_0x5aee6a(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f['PeerConnection'],'content':{'type':_0x4a44e8[_0x5aee6a(0x4c0)],'nodeId':this[_0x5aee6a(0x2d2)],'stats':{'origin':_0x4a7d10[_0x5aee6a(0x4cb)],'timestamp':Date[_0x5aee6a(0x321)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x5aee6a(0x428)],'timeReceiving':this[_0x5aee6a(0x63a)],'systemMessages':this[_0x5aee6a(0x558)]}}}));}[_0x13fde2(0x77e)](_0x526453){const _0x6eb242=_0x13fde2;return this[_0x6eb242(0x472)]['subscribe'](_0x526453);}[_0x13fde2(0x2b8)](_0xc4e03a){const _0x52cad2=_0x13fde2;return this[_0x52cad2(0x72b)][_0x52cad2(0x76e)](({track:_0xd3f821,stream:_0xfb198f})=>_0xc4e03a(_0xd3f821,_0xfb198f));}[_0x13fde2(0x3f5)](_0x154e1f){const _0x88ac01=_0x13fde2;return this['removeTrackCallback'][_0x88ac01(0x76e)](({track:_0x49b812,stream:_0x2be1f4})=>_0x154e1f(_0x49b812,_0x2be1f4));}['resetConnection'](_0x413a10){const _0x186762=_0x13fde2;this[_0x186762(0x2e2)](),this[_0x186762(0x237)][_0x186762(0x1ed)](_0x293e3c=>{_0x293e3c['clear']();}),super[_0x186762(0x425)](_0x413a10);}[_0x13fde2(0x389)](){const _0xc0aab0=_0x13fde2;this[_0xc0aab0(0x83a)]({'type':_0x4a44e8[_0xc0aab0(0x369)],'candidates':this[_0xc0aab0(0x7da)],'origin':_0x4a7d10[_0xc0aab0(0x4cb)],'version':this[_0xc0aab0(0x5aa)],'connectionType':this[_0xc0aab0(0x6dc)]});}[_0x13fde2(0x8a1)](){const _0x353e32=_0x13fde2;super['setupConnectionEvents'](),this[_0x353e32(0x794)][_0x353e32(0x2b8)]=_0x187e74=>{const _0x1c418e=_0x353e32;_0x3d0f37[_0x1c418e(0x6c1)](_0x2582bf['Connection'],_0x1c418e(0x638),this[_0x1c418e(0x672)][_0x1c418e(0x677)](),_0x187e74),_0x187e74[_0x1c418e(0x680)][0x0][_0x1c418e(0x6a4)]=_0x2c4eab=>{const _0xd26537=_0x1c418e;this['receivers']['get'](_0x187e74[_0xd26537(0x680)][0x0]['id'])?.[_0xd26537(0x6fd)](_0x2c4eab[_0xd26537(0x206)]),0x0===this[_0xd26537(0x237)]['get'](_0x187e74[_0xd26537(0x680)][0x0]['id'])?.[_0xd26537(0x411)]&&this['receivers'][_0xd26537(0x6fd)](_0x187e74[_0xd26537(0x680)][0x0]['id']),this[_0xd26537(0x63f)][_0xd26537(0x3c5)]({'track':_0x2c4eab[_0xd26537(0x206)],'stream':_0x187e74[_0xd26537(0x680)][0x0]});},this['receivers']['has'](_0x187e74['streams'][0x0]['id'])||this[_0x1c418e(0x237)]['set'](_0x187e74[_0x1c418e(0x680)][0x0]['id'],new Set()),this[_0x1c418e(0x237)][_0x1c418e(0x556)](_0x187e74[_0x1c418e(0x680)][0x0]['id'])['add'](_0x187e74['track']),this['trackCallback'][_0x1c418e(0x3c5)]({'track':_0x187e74[_0x1c418e(0x206)],'stream':_0x187e74[_0x1c418e(0x680)][0x0]});},this[_0x353e32(0x794)]['onDataChannel']=_0x311490=>{const _0x493e20=_0x353e32;this[_0x493e20(0x5a0)]=_0x311490[_0x493e20(0x703)],this[_0x493e20(0x5a0)][_0x493e20(0x77e)]=_0x46a32c=>{const _0x4859e5=_0x493e20;if(_0x46a32c[_0x4859e5(0x7e0)]!==_0xf381fc)this['handleOnMessage'](_0x46a32c[_0x4859e5(0x7e0)]);else{if(!this['dataChannel'])return void _0x3d0f37[_0x4859e5(0x377)](_0x4859e5(0x6c9),{'clusterId':this['clusterId'],'nodeId':this[_0x4859e5(0x672)][_0x4859e5(0x677)](),'nodeType':this[_0x4859e5(0x672)][_0x4859e5(0x5bb)],'remoteId':this[_0x4859e5(0x2d2)],'data':{'connection':_0x4859e5(0x323)}});if(_0x4859e5(0x20c)!==this[_0x4859e5(0x5a0)][_0x4859e5(0x83d)])return;this[_0x4859e5(0x5a0)][_0x4859e5(0x232)]('1');}};};}[_0x13fde2(0x5bd)](_0xc864ff){const _0x464b6d=_0x13fde2;if(_0x464b6d(0x28d)==typeof _0xc864ff&&_0xc864ff['startsWith'](_0x4744c9))return this[_0x464b6d(0x835)]+=0x1,this[_0x464b6d(0x428)]+=_0xc864ff[_0x464b6d(0x24c)],this[_0x464b6d(0x5d9)](_0xc864ff);setTimeout(()=>{const _0x1f718b=_0x464b6d,_0x2e0390=Date[_0x1f718b(0x321)]();let _0x4459d4;if((_0xc864ff instanceof ArrayBuffer||_0xc864ff['length']<=_0x594c73)&&(this[_0x1f718b(0x835)]+=0x1,this[_0x1f718b(0x428)]+=_0xc864ff instanceof ArrayBuffer?_0xc864ff[_0x1f718b(0x314)]:_0xc864ff[_0x1f718b(0x24c)]),_0xc864ff instanceof ArrayBuffer){const [_0x4d95f3,_0x2a5b8b]=this[_0x1f718b(0x248)](_0xc864ff);_0x4459d4=_0x4d95f3,_0x4459d4[_0x1f718b(0x6dd)][_0x1f718b(0x7e0)]=_0x2a5b8b;}else _0x4459d4=JSON[_0x1f718b(0x4fe)](_0xc864ff);if(0x0===_0x4459d4[_0x1f718b(0x2bf)]){this[_0x1f718b(0x558)][_0x1f718b(0x499)][_0x1f718b(0x316)]+=0x1;const {systemMessageType:_0x5138f9,systemContentMessageType:_0x2d8afa}=_0x56e005(_0x4459d4);this[_0x1f718b(0x558)][_0x5138f9]||(this[_0x1f718b(0x558)][_0x5138f9]={[_0x2d8afa]:0x0}),this['systemMessagesReceived'][_0x5138f9][_0x2d8afa]||(this['systemMessagesReceived'][_0x5138f9][_0x2d8afa]=0x0),this[_0x1f718b(0x558)][_0x5138f9][_0x1f718b(0x316)]||(this['systemMessagesReceived'][_0x5138f9][_0x1f718b(0x316)]=0x0),this[_0x1f718b(0x558)][_0x5138f9][_0x2d8afa]+=0x1,this[_0x1f718b(0x558)][_0x5138f9][_0x1f718b(0x316)]+=0x1;}this[_0x1f718b(0x472)]['publish'](_0x4459d4),this[_0x1f718b(0x63a)]+=Date[_0x1f718b(0x321)]()-_0x2e0390;},0x0);}[_0x13fde2(0x5d9)](_0x1901ef){const _0x53d75b=_0x13fde2,_0x452f8a=_0x1901ef[_0x53d75b(0x484)](';'),_0x373290=_0x452f8a[0x1],_0x5630dc=parseInt(_0x452f8a[0x2],0xa),_0x19acd3=parseInt(_0x452f8a[0x3],0xa),_0x10a975=_0x1901ef[_0x53d75b(0x7b3)](_0x4744c9+';'+_0x373290+';'+_0x5630dc+';'+_0x19acd3+';','');this['chunks']['has'](_0x373290)||this[_0x53d75b(0x254)]['set'](_0x373290,[]);const _0xd6a530=this['chunks'][_0x53d75b(0x556)](_0x373290);_0xd6a530[_0x5630dc]=_0x10a975,_0xd6a530[_0x53d75b(0x24c)]===_0x19acd3&&(this[_0x53d75b(0x5bd)](_0xd6a530[_0x53d75b(0x7a9)]('')),this[_0x53d75b(0x254)][_0x53d75b(0x6fd)](_0x373290));}[_0x13fde2(0x2e2)](){const _0x1e5555=_0x13fde2;this['waitSuccess']?.(),delete this[_0x1e5555(0x457)];}[_0x13fde2(0x46d)](_0x358bc2){const _0x555c0e=new TextDecoder()['decode'](_0x358bc2);return JSON['parse'](_0x555c0e);}['splitParts'](_0x3bd1ff){const _0xc3d268=_0x13fde2,_0x1cb149=new Uint8Array(_0x3bd1ff[_0xc3d268(0x393)](0x0,0x4)),_0x3d167f=new Uint32Array(_0x1cb149[_0xc3d268(0x4e5)])[0x0],_0x4a03a8=new Uint8Array(_0x3bd1ff[_0xc3d268(0x393)](0x4,0x4+_0x3d167f)),_0x1bc685=new Uint8Array(_0x3bd1ff[_0xc3d268(0x393)](0x4+_0x3d167f));return[this[_0xc3d268(0x46d)](_0x4a03a8[_0xc3d268(0x4e5)]),_0x1bc685[_0xc3d268(0x4e5)]];}}const _0x3983d0=0xc350;var _0x180080,_0x3cab81;!function(_0x5328dc){const _0x31f372=_0x13fde2;_0x5328dc[_0x5328dc[_0x31f372(0x636)]=0x0]=_0x31f372(0x636),_0x5328dc[_0x5328dc['Medium']=0x1]=_0x31f372(0x5f8),_0x5328dc[_0x5328dc[_0x31f372(0x215)]=0x2]=_0x31f372(0x215);}(_0x180080||(_0x180080={}));class _0x42982a extends _0x125718{[_0x13fde2(0x8b7)];['maxBpp'];[_0x13fde2(0x332)]=new Map();[_0x13fde2(0x542)];[_0x13fde2(0x6a1)];[_0x13fde2(0x1b6)];[_0x13fde2(0x2ff)]=!0x1;[_0x13fde2(0x2dc)];['restartTimeout'];[_0x13fde2(0x4fb)];[_0x13fde2(0x448)]=function(e,t=_0x180080,s=!0x1){const _0x19ec90=_0x13fde2;let i=!0x1;const n=[];async function o(){const _0x35b079=a0_0x2ee0;if(!i){for(i=!0x0;n[_0x35b079(0x5dd)](e=>e[_0x35b079(0x20d)]);){let t,i=0x0;for(const [e,s]of n[_0x35b079(0x78d)]())if(t=s['shift'](),i=e,t)break;if(t)try{if(e instanceof _0x3b526c&&e[_0x35b079(0x2b1)](t),e instanceof _0x1738f6&&await e[_0x35b079(0x2b1)](t),n['slice'](-0x1)['some'](e=>e[_0x35b079(0x20d)]))continue;const s=n[_0x35b079(0x24c)]-0x1;i===s&&n[s][_0x35b079(0x20d)]&&await _0x384e4f[_0x35b079(0x374)](0x0);}catch(o){s?n[i][_0x35b079(0x875)](t,!0x1):n[i][_0x35b079(0x293)](t,!0x1),await e[_0x35b079(0x374)]();}}i=!0x1;}}return Object[_0x19ec90(0x45b)](t)['forEach'](e=>{const _0x57ad0d=_0x19ec90;_0x57ad0d(0x28d)!=typeof e&&(n[e]=_0x14d36a(o));}),{'queues':n};}(new _0x3b526c(this[_0x13fde2(0x180)]['bind'](this),this[_0x13fde2(0x635)][_0x13fde2(0x5d5)](this)));[_0x13fde2(0x502)]=0x0;['bytesSent']=0x0;[_0x13fde2(0x3cd)]=0x0;[_0x13fde2(0x3d3)]=0x0;[_0x13fde2(0x683)];constructor(_0xc1f780,_0x34e43d,_0x360f45,_0x3ba35b,_0x5b1693,_0xcca37c,_0x167d6b,_0x342b77){const _0x4f61c0=_0x13fde2;super(_0xc1f780,_0x34e43d,_0x360f45,_0x3ba35b,_0x5b1693,_0x342b77),this['maxFps']=_0xcca37c,this[_0x4f61c0(0x59f)]=_0x167d6b;}[_0x13fde2(0x3df)](){const _0x37f8d5=_0x13fde2;this['clearUpgradeTimeout'](),this[_0x37f8d5(0x550)](),delete this[_0x37f8d5(0x1b6)],this[_0x37f8d5(0x241)](),this[_0x37f8d5(0x38e)](),this['clearWaitAnswer'](),this[_0x37f8d5(0x332)][_0x37f8d5(0x84d)](),this['isReconnecting']=!0x1,this[_0x37f8d5(0x448)]['queues']['forEach'](_0x34359c=>_0x34359c[_0x37f8d5(0x84d)]()),this[_0x37f8d5(0x785)](),super[_0x37f8d5(0x3df)]();}[_0x13fde2(0x338)](){const _0x5f1198=_0x13fde2;return!!this['lastHeartbeat']&&super['isConnected']()&&Date[_0x5f1198(0x321)]()-this[_0x5f1198(0x1b6)]<0x3a98;}async['collectStats'](){const _0x450cd8=_0x13fde2;this['systemTopic']&&(await this[_0x450cd8(0x794)]['collectSendersStats'](this[_0x450cd8(0x332)],(_0x421001,_0x83072e)=>{const _0x4e5d4f=_0x450cd8;_0x1133f4({'type':_0x4a44e8['Stats'],'streamId':_0x83072e,'nodeId':this[_0x4e5d4f(0x2d2)],'stats':_0x421001},this[_0x4e5d4f(0x51a)]);}),this[_0x450cd8(0x51a)]['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f['PeerConnection'],'content':{'type':_0x4a44e8[_0x450cd8(0x4c0)],'nodeId':this[_0x450cd8(0x2d2)],'stats':{'origin':_0x4a7d10['Sender'],'timestamp':Date['now'](),'messagesSent':this[_0x450cd8(0x502)],'bytesSent':this['bytesSent'],'timeSending':this['timeSending'],'roundTripTime':this[_0x450cd8(0x3d3)]}}}));}async['createOffer'](_0x39a30a){const _0x17685b=_0x13fde2;_0x3d0f37[_0x17685b(0x6c1)](_0x2582bf[_0x17685b(0x252)],_0x17685b(0x890),this['localNode']['getId'](),this[_0x17685b(0x2d2)]),this['clearRestartTimeout'](),this[_0x17685b(0x38e)](),this[_0x17685b(0x71b)](),this['connectionTimeout']=setTimeout(()=>{const _0x52d63c=_0x17685b;this[_0x52d63c(0x50a)]();},0x7530),this[_0x17685b(0x5a0)]||(this[_0x17685b(0x5a0)]=this['connection'][_0x17685b(0x401)]('data'),this[_0x17685b(0x5a0)]['bufferedAmountLowThreshold']=_0x45c6a7,this['dataChannel'][_0x17685b(0x2e0)]=()=>{const _0x1cad09=_0x17685b;this[_0x1cad09(0x683)]=setTimeout(()=>{const _0x2537a3=_0x1cad09;delete this[_0x2537a3(0x683)],[_0x2537a3(0x612),_0x2537a3(0x20c)][_0x2537a3(0x563)](this[_0x2537a3(0x5a0)]?.[_0x2537a3(0x83d)]??'')||this['handleDisconnect']();},0xfa);});const _0x4ed4ea=await this[_0x17685b(0x794)][_0x17685b(0x70a)](_0x39a30a);this['lastHeartbeat']||(this[_0x17685b(0x1b6)]=Date[_0x17685b(0x321)]());const _0x57291c=(0x0,_0x1575cc['v4'])();this[_0x17685b(0x83a)]({'type':_0x4a44e8[_0x17685b(0x49c)],'offer':_0x4ed4ea,'version':this['currentVersion'],'connectionType':this[_0x17685b(0x6dc)]},_0x57291c),this[_0x17685b(0x6dc)]===_0x488105[_0x17685b(0x301)]&&(this[_0x17685b(0x6a1)]=_0x384e4f[_0x17685b(0x3ce)](()=>{const _0x2ea7d5=_0x17685b;this['publishSystemMessage']({'type':_0x4a44e8[_0x2ea7d5(0x49c)],'offer':_0x4ed4ea,'version':this[_0x2ea7d5(0x5aa)],'connectionType':this[_0x2ea7d5(0x6dc)]},_0x57291c);},0x1388));}async[_0x13fde2(0x67d)](_0x1b5fc6,_0x3f5fc8){const _0x6dcde=_0x13fde2;if(_0x3f5fc8===this[_0x6dcde(0x5aa)]){this['clearWaitAnswer']();try{await this[_0x6dcde(0x794)][_0x6dcde(0x67d)](_0x1b5fc6,this['createOffer']['bind'](this)),this[_0x6dcde(0x272)](),this['clearConnectionTimeout'](),this[_0x6dcde(0x7ae)]();}catch(_0x1d207a){this[_0x6dcde(0x50a)]();}}}[_0x13fde2(0x232)](_0x5103b8){const _0x13f0ea=_0x13fde2;if(!this[_0x13f0ea(0x5a0)])throw new _0x46f718(_0x46f718['codes'][_0x13f0ea(0x278)],{'message':_0x13f0ea(0x3a9),'localId':this['localNode']['getId'](),'remoteId':this['remoteId'],'eventMessage':_0x5103b8});if(_0x13f0ea(0x20c)!==this[_0x13f0ea(0x5a0)][_0x13f0ea(0x83d)])throw new _0x46f718(_0x46f718[_0x13f0ea(0x6b3)][_0x13f0ea(0x278)],{'message':_0x13f0ea(0x846),'localId':this[_0x13f0ea(0x672)][_0x13f0ea(0x677)](),'remoteId':this['remoteId'],'eventMessage':_0x5103b8});let _0x1b4aaa;if(_0x5103b8[_0x13f0ea(0x6dd)][_0x13f0ea(0x7e0)]instanceof ArrayBuffer){const _0x5824f7=_0x5103b8[_0x13f0ea(0x6dd)]['data'];_0x5103b8={..._0x5103b8,'content':{..._0x5103b8[_0x13f0ea(0x6dd)],'data':void 0x0}},_0x1b4aaa=this[_0x13f0ea(0x440)](_0x5103b8,_0x5824f7);}else _0x1b4aaa=JSON[_0x13f0ea(0x201)](_0x5103b8);if(_0x13f0ea(0x28d)==typeof _0x1b4aaa&&_0x1b4aaa[_0x13f0ea(0x24c)]>_0x594c73)return this[_0x13f0ea(0x78f)](_0x5103b8,_0x1b4aaa);const _0x2c18cb=0x0===_0x5103b8[_0x13f0ea(0x2bf)]&&[_0x1b694f[_0x13f0ea(0x5b1)],_0x1b694f[_0x13f0ea(0x37c)]][_0x13f0ea(0x563)](_0x5103b8['messageType'])?_0x180080['High']:_0x5103b8 instanceof ArrayBuffer?_0x180080[_0x13f0ea(0x215)]:_0x180080[_0x13f0ea(0x5f8)];this[_0x13f0ea(0x540)](_0x1b4aaa,_0x2c18cb);}['addTrack'](_0x4609dc,_0x173ae8,_0x3bb2b8,_0x53548e){const _0x158237=_0x13fde2,_0x7b6941=(_0x286818=this[_0x158237(0x8b7)],_0x2064f6=this[_0x158237(0x59f)],Math['floor'](0xe1000*_0x286818*_0x2064f6));var _0x286818,_0x2064f6;const _0x40bde5=this[_0x158237(0x332)][_0x158237(0x556)](_0x173ae8['id'])||{'stream':_0x173ae8,'priority':_0x3bb2b8,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x7b6941,'maxBitrate':_0x7b6941,'framerate':this[_0x158237(0x8b7)],'maxFramerate':this[_0x158237(0x8b7)],'tracks':{},'params':_0x53548e},_0x5f320f=_0x40bde5[_0x158237(0x3b2)][_0x4609dc[_0x158237(0x602)]]||{'track':_0x4609dc};if(_0x5f320f[_0x158237(0x733)]?(_0x5f320f[_0x158237(0x206)]=_0x4609dc,this['connection'][_0x158237(0x4cf)](_0x4609dc,_0x5f320f[_0x158237(0x733)])):_0x5f320f[_0x158237(0x733)]=this[_0x158237(0x794)]['addTrack'](_0x4609dc,_0x173ae8),_0x40bde5[_0x158237(0x3b2)][_0x4609dc[_0x158237(0x602)]]=_0x5f320f,_0x53548e&&(_0x40bde5[_0x158237(0x320)]=_0x53548e),_0x53548e&&_0x158237(0x3c1)===_0x53548e['kind']&&_0x53548e[_0x158237(0x511)]&&_0x53548e['maxResolution']&&(_0x40bde5[_0x158237(0x1fb)]=this[_0x158237(0x5e9)](_0x53548e[_0x158237(0x511)],_0x53548e[_0x158237(0x297)]),_0x40bde5[_0x158237(0x398)]=_0x40bde5[_0x158237(0x1fb)],_0x40bde5[_0x158237(0x3b2)][_0x158237(0x3c1)]&&_0x40bde5['tracks'][_0x158237(0x3c1)][_0x158237(0x733)])){const _0x5b8e89=_0x40bde5[_0x158237(0x3b2)][_0x158237(0x3c1)][_0x158237(0x733)];this[_0x158237(0x794)][_0x158237(0x1d6)](_0x5b8e89,Math['floor'](0xa*_0x40bde5['resolutionScale'])/0xa,_0x40bde5[_0x158237(0x317)],_0x40bde5[_0x158237(0x7b8)],_0x40bde5[_0x158237(0x4e9)]);}this['senders'][_0x158237(0x599)](_0x173ae8['id'],_0x40bde5);}[_0x13fde2(0x73b)](_0x47832b,_0x2c4f46){const _0x5940d9=_0x13fde2,_0x4aee32=this[_0x5940d9(0x332)][_0x5940d9(0x556)](_0x47832b['id']);if(_0x4aee32&&_0x4aee32['priority']!==_0x2c4f46&&(_0x4aee32[_0x5940d9(0x4e9)]=_0x2c4f46,_0x4aee32[_0x5940d9(0x3b2)][_0x5940d9(0x3c1)]&&_0x4aee32[_0x5940d9(0x3b2)][_0x5940d9(0x3c1)]['sender'])){const _0x94a2b0=_0x4aee32['tracks'][_0x5940d9(0x3c1)][_0x5940d9(0x733)];this['connection'][_0x5940d9(0x1d6)](_0x94a2b0,Math[_0x5940d9(0x4f5)](0xa*_0x4aee32[_0x5940d9(0x1fb)])/0xa,_0x4aee32[_0x5940d9(0x317)],_0x4aee32[_0x5940d9(0x7b8)],_0x4aee32[_0x5940d9(0x4e9)]);}}[_0x13fde2(0x38f)](_0x5a20e4,_0xd0aa12){const _0x1c568b=_0x13fde2,_0x10581a=this[_0x1c568b(0x332)][_0x1c568b(0x556)](_0x5a20e4['id']);if(_0x10581a){if(_0x10581a[_0x1c568b(0x320)]=_0xd0aa12,_0xd0aa12&&'video'===_0xd0aa12['kind']&&_0xd0aa12[_0x1c568b(0x511)]&&_0xd0aa12['maxResolution']){if(_0x10581a[_0x1c568b(0x398)]=this[_0x1c568b(0x5e9)](_0xd0aa12[_0x1c568b(0x511)],_0xd0aa12[_0x1c568b(0x297)]),_0x10581a[_0x1c568b(0x1fb)]<_0x10581a['minResolutionScale']&&(_0x10581a[_0x1c568b(0x1fb)]=_0x10581a[_0x1c568b(0x398)]),_0x10581a[_0x1c568b(0x3b2)][_0x1c568b(0x3c1)]&&_0x10581a[_0x1c568b(0x3b2)][_0x1c568b(0x3c1)][_0x1c568b(0x733)]){const _0x53b479=_0x10581a[_0x1c568b(0x3b2)][_0x1c568b(0x3c1)][_0x1c568b(0x733)];this['connection'][_0x1c568b(0x1d6)](_0x53b479,Math[_0x1c568b(0x4f5)](0xa*_0x10581a['resolutionScale'])/0xa,_0x10581a[_0x1c568b(0x317)],_0x10581a[_0x1c568b(0x7b8)],_0x10581a[_0x1c568b(0x4e9)]);}this['clearUpgradeTimeout'](),this[_0x1c568b(0x5fd)]();}this[_0x1c568b(0x332)]['set'](_0x5a20e4['id'],_0x10581a);}}[_0x13fde2(0x7a8)](_0x18d895,_0x4f77bf){const _0x2dae0b=_0x13fde2,_0xd41fce=this[_0x2dae0b(0x332)][_0x2dae0b(0x556)](_0x4f77bf['id']);if(_0xd41fce){const _0x3efeed=_0xd41fce[_0x2dae0b(0x3b2)][_0x18d895[_0x2dae0b(0x602)]];_0x3efeed&&(_0x3efeed[_0x2dae0b(0x733)]&&this[_0x2dae0b(0x794)][_0x2dae0b(0x7a8)](_0x3efeed['sender']),_0x3efeed[_0x2dae0b(0x206)]=void 0x0);}}[_0x13fde2(0x283)](_0x39963){const _0xe2d897=_0x13fde2;this[_0xe2d897(0x7f4)]();const _0x1d4895=function(_0x2490b7,_0x519576){const _0x3c4769=_0xe2d897;return _0x2490b7[_0x3c4769(0x4d2)]((_0x260398,_0x5c8b09)=>_0x519576[_0x3c4769(0x61e)]===_0x203b21['Downgrade']?_0x5c8b09[_0x3c4769(0x4e9)]-_0x260398[_0x3c4769(0x4e9)]:_0x260398[_0x3c4769(0x4e9)]-_0x5c8b09[_0x3c4769(0x4e9)])[_0x3c4769(0x1a6)](_0x31524d=>function(_0x4a1745,_0x237717){const _0x3a608d=_0x3c4769;if(_0x237717[_0x3a608d(0x61e)]===_0x203b21['Downgrade']){if(_0x237717[_0x3a608d(0x70b)]===_0xe979e8[_0x3a608d(0x3fc)])return _0x4a1745[_0x3a608d(0x1fb)]<0x4||_0x4a1745[_0x3a608d(0x337)]>0xf;if(_0x237717[_0x3a608d(0x70b)]===_0xe979e8[_0x3a608d(0x17b)])return _0x4a1745[_0x3a608d(0x530)]>_0x3983d0;}return _0x4a1745['resolutionScale']>_0x4a1745['minResolutionScale']||_0x4a1745[_0x3a608d(0x317)]<_0x4a1745['maxFramerate']||_0x4a1745[_0x3a608d(0x7b8)]<_0x4a1745[_0x3a608d(0x530)];}(_0x31524d,_0x519576));}(Array[_0xe2d897(0x69c)](this[_0xe2d897(0x332)][_0xe2d897(0x45b)]()),_0x39963);if(_0x1d4895&&(function(_0x505443,_0x2a7dca){const _0x37b5c3=_0xe2d897;_0x505443[_0x37b5c3(0x3b2)][_0x37b5c3(0x3c1)]&&_0x505443[_0x37b5c3(0x3b2)][_0x37b5c3(0x3c1)][_0x37b5c3(0x733)]&&(_0x505443[_0x37b5c3(0x1fb)]=function(_0x41033c,_0x12545e,_0x2279f6){const _0x1453d2=_0x37b5c3;switch(_0x2279f6[_0x1453d2(0x61e)]){case _0x203b21['Downgrade']:_0x2279f6[_0x1453d2(0x70b)]===_0xe979e8[_0x1453d2(0x3fc)]&&(_0x41033c+=0.5)>0x4&&(_0x41033c=0x4);break;case _0x203b21[_0x1453d2(0x208)]:(_0x41033c-=0.5)<_0x12545e&&(_0x41033c=_0x12545e);}return _0x41033c;}(_0x505443[_0x37b5c3(0x1fb)],_0x505443[_0x37b5c3(0x398)],_0x2a7dca),_0x505443['framerate']=function(_0x3d3d2a,_0x2208b6,_0x41ca28){const _0x11ed99=_0x37b5c3;switch(_0x41ca28[_0x11ed99(0x61e)]){case _0x203b21[_0x11ed99(0x681)]:_0x41ca28['component']===_0xe979e8['Resolution']&&(_0x3d3d2a-=0x3)<0xf&&(_0x3d3d2a=0xf);break;case _0x203b21['Upgrade']:(_0x3d3d2a+=0x3)>_0x2208b6&&(_0x3d3d2a=_0x2208b6);}return _0x3d3d2a;}(_0x505443[_0x37b5c3(0x317)],_0x505443[_0x37b5c3(0x337)],_0x2a7dca),_0x505443[_0x37b5c3(0x7b8)]=function(_0x5a5237,_0x436e65,_0x3c5299){const _0x28aab8=_0x37b5c3;switch(_0x3c5299['action']){case _0x203b21[_0x28aab8(0x681)]:_0x3c5299['component']===_0xe979e8[_0x28aab8(0x17b)]&&(_0x5a5237*=0.75)<_0x3983d0&&(_0x5a5237=_0x3983d0);break;case _0x203b21[_0x28aab8(0x208)]:(_0x5a5237*=1.25)>_0x436e65&&(_0x5a5237=_0x436e65);}return _0x5a5237;}(_0x505443[_0x37b5c3(0x7b8)],_0x505443[_0x37b5c3(0x530)],_0x2a7dca));}(_0x1d4895,_0x39963),_0x1d4895['tracks'][_0xe2d897(0x3c1)]&&_0x1d4895[_0xe2d897(0x3b2)][_0xe2d897(0x3c1)][_0xe2d897(0x733)])){const _0x34d72c=_0x1d4895[_0xe2d897(0x3b2)]['video']['sender'];this[_0xe2d897(0x794)][_0xe2d897(0x1d6)](_0x34d72c,Math[_0xe2d897(0x4f5)](0xa*_0x1d4895[_0xe2d897(0x1fb)])/0xa,_0x1d4895[_0xe2d897(0x317)],_0x1d4895[_0xe2d897(0x7b8)],_0x1d4895[_0xe2d897(0x4e9)]);}(_0x1d4895||_0x39963['action']===_0x203b21['Downgrade'])&&this[_0xe2d897(0x5fd)]();}[_0x13fde2(0x3cf)](){const _0x2de898=_0x13fde2;return this[_0x2de898(0x448)][_0x2de898(0x7b6)]['reduce']((_0x4feef0,_0xb8c143)=>_0x4feef0+_0xb8c143[_0x2de898(0x411)],0x0)*_0x4f343e;}[_0x13fde2(0x425)](){const _0x4e5ba1=_0x13fde2;super[_0x4e5ba1(0x425)](),this[_0x4e5ba1(0x785)](),this[_0x4e5ba1(0x71b)](),this[_0x4e5ba1(0x332)][_0x4e5ba1(0x1ed)](_0x3dda72=>{const _0x3fdb60=_0x4e5ba1;_0x3dda72[_0x3fdb60(0x3b2)][_0x3fdb60(0x3c1)]&&(_0x3dda72[_0x3fdb60(0x3b2)]['video'][_0x3fdb60(0x733)]=void 0x0),_0x3dda72[_0x3fdb60(0x3b2)]['audio']&&(_0x3dda72[_0x3fdb60(0x3b2)]['audio'][_0x3fdb60(0x733)]=void 0x0);}),this[_0x4e5ba1(0x2ff)]=!0x0;}async[_0x13fde2(0x635)](){return new Promise(async _0x2b3135=>{const _0x1b8452=a0_0x2ee0;if(!this[_0x1b8452(0x5a0)]||'open'!==this[_0x1b8452(0x5a0)][_0x1b8452(0x83d)])return await _0x384e4f[_0x1b8452(0x374)](0x64),void _0x2b3135();this[_0x1b8452(0x5a0)]['bufferedAmount']<_0x45c6a7?_0x2b3135():this[_0x1b8452(0x5a0)][_0x1b8452(0x7ff)]=()=>{const _0x23636d=_0x1b8452;this[_0x23636d(0x5a0)]&&(this['dataChannel'][_0x23636d(0x7ff)]=null),_0x2b3135();};});}['sendChunked'](_0x520e76,_0x4a422f){const _0x1b2529=_0x13fde2,_0x5ea1c5=[];for(let _0x3b87e7=0x0;_0x3b87e7<_0x4a422f[_0x1b2529(0x24c)];_0x3b87e7+=_0x594c73)_0x5ea1c5[_0x1b2529(0x875)](_0x4a422f[_0x1b2529(0x393)](_0x3b87e7,_0x3b87e7+_0x594c73));for(const _0x248f02 of _0x5ea1c5)this[_0x1b2529(0x540)](_0x4744c9+';'+_0x520e76[_0x1b2529(0x5ff)]+';'+_0x5ea1c5['indexOf'](_0x248f02)+';'+_0x5ea1c5['length']+';'+_0x248f02,_0x180080['Low']);}async['sendWithRetry'](_0x3aadee,_0x19e9c3){const _0xbcdf01=_0x13fde2;_0x3aadee===_0xf381fc?this[_0xbcdf01(0x448)][_0xbcdf01(0x7b6)][_0x19e9c3][_0xbcdf01(0x20d)]?.[_0xbcdf01(0x56d)]!==_0xf381fc&&this[_0xbcdf01(0x448)][_0xbcdf01(0x7b6)][_0x19e9c3][_0xbcdf01(0x293)](_0x3aadee):this[_0xbcdf01(0x448)][_0xbcdf01(0x7b6)][_0x19e9c3]['push'](_0x3aadee);}[_0x13fde2(0x180)](_0x208783){const _0x5d5d4d=_0x13fde2;if(!this[_0x5d5d4d(0x5a0)]||_0x5d5d4d(0x20c)!==this[_0x5d5d4d(0x5a0)]['state'])throw new Error(_0x5d5d4d(0x492));if(this[_0x5d5d4d(0x5a0)][_0x5d5d4d(0x442)]>=0xbe8000)throw new Error(_0x5d5d4d(0x4db));const _0x2c9ac9=Date[_0x5d5d4d(0x321)]();_0x208783!==_0xf381fc&&(this['messagesSent']+=0x1,this[_0x5d5d4d(0x5f3)]+=_0x208783 instanceof ArrayBuffer?_0x208783[_0x5d5d4d(0x314)]:_0x208783[_0x5d5d4d(0x24c)]),ArrayBuffer,this[_0x5d5d4d(0x5a0)][_0x5d5d4d(0x232)](_0x208783),this[_0x5d5d4d(0x3cd)]+=Date[_0x5d5d4d(0x321)]()-_0x2c9ac9;}['startHeartbeat'](){const _0x26ab82=_0x13fde2;this['heartbeatUnsubscriber']&&this['clearHeartbeat']();let _0x4a8a83=!0x0,_0x29eee0=Date[_0x26ab82(0x321)]();this[_0x26ab82(0x1b6)]=Date[_0x26ab82(0x321)](),this['dataChannel'][_0x26ab82(0x77e)]=_0x49f92c=>{const _0xed690b=_0x26ab82;'1'===_0x49f92c[_0xed690b(0x7e0)]&&(this[_0xed690b(0x3d3)]=Date[_0xed690b(0x321)]()-_0x29eee0,_0x4a8a83&&this[_0xed690b(0x83a)]({'type':_0x4a44e8[_0xed690b(0x1ad)]}),_0x4a8a83=!0x1,this['lastHeartbeat']=Date[_0xed690b(0x321)](),this[_0xed690b(0x2ff)]&&(this[_0xed690b(0x2ff)]=!0x1,this[_0xed690b(0x643)]()));},this['heartbeatUnsubscriber']=_0x384e4f[_0x26ab82(0x3ce)](()=>{const _0x4b639d=_0x26ab82;_0x29eee0=Date[_0x4b639d(0x321)](),this[_0x4b639d(0x540)](_0xf381fc,_0x180080[_0x4b639d(0x636)]),Date[_0x4b639d(0x321)]()-this['lastHeartbeat']>(_0x4a8a83?0x15f90:0x3a98)&&this[_0x4b639d(0x50a)]();},0xbb8);}[_0x13fde2(0x643)](){const _0x25bb83=_0x13fde2;this[_0x25bb83(0x332)][_0x25bb83(0x1ed)](_0x4502c6=>{const _0xe761c0=_0x25bb83;_0x4502c6[_0xe761c0(0x3b2)]['video']&&_0x4502c6[_0xe761c0(0x3b2)][_0xe761c0(0x3c1)][_0xe761c0(0x206)]&&!_0x4502c6['tracks'][_0xe761c0(0x3c1)][_0xe761c0(0x733)]&&(_0x4502c6[_0xe761c0(0x3b2)]['video'][_0xe761c0(0x733)]=this[_0xe761c0(0x794)][_0xe761c0(0x74f)](_0x4502c6[_0xe761c0(0x3b2)][_0xe761c0(0x3c1)][_0xe761c0(0x206)],_0x4502c6[_0xe761c0(0x40a)])),_0x4502c6[_0xe761c0(0x3b2)][_0xe761c0(0x706)]&&_0x4502c6[_0xe761c0(0x3b2)][_0xe761c0(0x706)]['track']&&!_0x4502c6[_0xe761c0(0x3b2)][_0xe761c0(0x706)][_0xe761c0(0x733)]&&(_0x4502c6[_0xe761c0(0x3b2)][_0xe761c0(0x706)][_0xe761c0(0x733)]=this['connection'][_0xe761c0(0x74f)](_0x4502c6['tracks'][_0xe761c0(0x706)][_0xe761c0(0x206)],_0x4502c6[_0xe761c0(0x40a)]));});}[_0x13fde2(0x389)](){const _0x3c9fe6=_0x13fde2;this[_0x3c9fe6(0x83a)]({'type':_0x4a44e8['Handshake'],'candidates':this[_0x3c9fe6(0x7da)],'origin':_0x4a7d10[_0x3c9fe6(0x3a6)],'version':this['currentVersion'],'connectionType':this['connectionType']});}[_0x13fde2(0x8a1)](){const _0x17e2a5=_0x13fde2;super[_0x17e2a5(0x8a1)](),this[_0x17e2a5(0x794)]['onHandshakeStateChange']=()=>{const _0x1a95cc=_0x17e2a5;if(_0x1a95cc(0x264)===this[_0x1a95cc(0x794)][_0x1a95cc(0x296)]){_0x3d0f37[_0x1a95cc(0x6c1)](_0x2582bf[_0x1a95cc(0x5f5)],'iceConnectionState\x20failed',this[_0x1a95cc(0x672)]['getId'](),this[_0x1a95cc(0x2d2)]);try{if(this['connection'][_0x1a95cc(0x5d2)])return void this[_0x1a95cc(0x794)]['restartHandshake']();}catch(_0x8ec47){}this[_0x1a95cc(0x70a)]({'handshakeRestart':!0x0});}},this['connection']['onConnectionStateChange']=()=>{const _0x30dd89=_0x17e2a5;_0x30dd89(0x7ee)!==this[_0x30dd89(0x794)]['connectionState']&&'failed'!==this['connection']['connectionState']||this[_0x30dd89(0x50a)]();};}[_0x13fde2(0x50a)](){const _0x3523c2=_0x13fde2;this[_0x3523c2(0x550)](),this[_0x3523c2(0x241)](),this[_0x3523c2(0x38e)](),_0x3d0f37[_0x3523c2(0x8a0)](_0x3523c2(0x82f),{'clusterId':this[_0x3523c2(0x89e)],'nodeId':this[_0x3523c2(0x672)][_0x3523c2(0x677)](),'nodeType':this[_0x3523c2(0x672)][_0x3523c2(0x5bb)],'remoteId':this['remoteId'],'data':{'connectionType':this['connectionType'],'connectionState':this['connection'][_0x3523c2(0x593)],'iceConnectionState':this[_0x3523c2(0x794)][_0x3523c2(0x296)],'signalingState':this[_0x3523c2(0x794)][_0x3523c2(0x810)],'readyState':this[_0x3523c2(0x5a0)]?.[_0x3523c2(0x83d)]||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x3523c2(0x321)]()-this[_0x3523c2(0x1b6)]:'','retryQueue':this[_0x3523c2(0x448)]}}),(this['lastHeartbeat']&&Date[_0x3523c2(0x321)]()-this[_0x3523c2(0x1b6)]>0xea60)??0x1?this['systemTopic']['publish']({'sourceId':this[_0x3523c2(0x2d2)],'destinationIds':[this[_0x3523c2(0x672)][_0x3523c2(0x677)]()],'messageType':_0x1b694f[_0x3523c2(0x37c)],'content':{'type':_0x4a44e8[_0x3523c2(0x8ad)]}}):(this['resetConnection'](),this[_0x3523c2(0x83a)]({'type':_0x4a44e8['NeedRestart'],'version':this['currentVersion'],'connectionType':this['connectionType']}),this[_0x3523c2(0x57b)]=setTimeout(()=>{const _0x5deb93=_0x3523c2;this[_0x5deb93(0x50a)]();},0x7530));}[_0x13fde2(0x550)](){const _0x3a635c=_0x13fde2;this[_0x3a635c(0x542)]?.(),delete this[_0x3a635c(0x542)];}[_0x13fde2(0x38e)](){const _0x23e980=_0x13fde2;this[_0x23e980(0x2dc)]&&(clearTimeout(this[_0x23e980(0x2dc)]),delete this['connectionTimeout']);}[_0x13fde2(0x241)](){const _0x17e500=_0x13fde2;this[_0x17e500(0x57b)]&&(clearTimeout(this['restartTimeout']),delete this['restartTimeout']);}[_0x13fde2(0x7f4)](){const _0xdfa3ce=_0x13fde2;this[_0xdfa3ce(0x4fb)]&&(clearTimeout(this[_0xdfa3ce(0x4fb)]),delete this[_0xdfa3ce(0x4fb)]);}['setUpgradeTimeout'](){const _0x133b08=_0x13fde2;this[_0x133b08(0x4fb)]=setTimeout(()=>{const _0x4f6a3b=_0x133b08;this[_0x4f6a3b(0x283)]({'type':_0x38e29f[_0x4f6a3b(0x707)],'action':_0x203b21[_0x4f6a3b(0x208)]});},0x3a98);}[_0x13fde2(0x5e9)](_0x4c3023,_0x111340){const _0x144e98=_0x13fde2,_0x24470d=Math[_0x144e98(0x756)](_0x4c3023['width']/_0x111340[_0x144e98(0x431)],_0x4c3023[_0x144e98(0x3bf)]/_0x111340[_0x144e98(0x3bf)]);return Math[_0x144e98(0x8bc)](Math[_0x144e98(0x756)](_0x24470d,0x1),0x4);}[_0x13fde2(0x71b)](){const _0x25633a=_0x13fde2;this[_0x25633a(0x6a1)]?.(),delete this[_0x25633a(0x6a1)];}['clearOncloseTimeout'](){const _0x1409ed=_0x13fde2;this[_0x1409ed(0x683)]&&(clearTimeout(this[_0x1409ed(0x683)]),delete this['oncloseTimeout']);}[_0x13fde2(0x24b)](_0x22ea08){const _0x3f652d=_0x13fde2,_0x27f886=JSON[_0x3f652d(0x201)](_0x22ea08);return new TextEncoder()[_0x3f652d(0x7cd)](_0x27f886)[_0x3f652d(0x4e5)];}['mergeParts'](_0x5ddd15,_0x276b88){const _0x4dd2e6=_0x13fde2,_0xa4908f=this['objectToArrayBuffer'](_0x5ddd15),_0x5a9004=new Uint8Array(0x4),_0x190b1b=new Uint8Array(_0xa4908f),_0x57280b=new Uint8Array(_0x276b88);_0x5a9004[_0x4dd2e6(0x599)](new Uint8Array(new Uint32Array([_0x190b1b[_0x4dd2e6(0x24c)]])['buffer']));const _0x3579b1=new Uint8Array(0x4+_0x190b1b['length']+_0x57280b[_0x4dd2e6(0x24c)]);return _0x3579b1[_0x4dd2e6(0x599)](_0x5a9004),_0x3579b1[_0x4dd2e6(0x599)](_0x190b1b,0x4),_0x3579b1[_0x4dd2e6(0x599)](_0x57280b,0x4+_0x190b1b[_0x4dd2e6(0x24c)]),_0x3579b1[_0x4dd2e6(0x4e5)];}}class _0x3689e1 extends _0x2c4f4e{[_0x13fde2(0x228)];[_0x13fde2(0x6dc)];['maxFps'];['maxBpp'];['connectionConstructor'];[_0x13fde2(0x804)];[_0x13fde2(0x3dd)];['receiverUnsubscribers']=[];[_0x13fde2(0x538)]=_0x223536();[_0x13fde2(0x66d)]=_0x223536();[_0x13fde2(0x17c)]=_0x223536();[_0x13fde2(0x6a2)]=[];[_0x13fde2(0x51a)];[_0x13fde2(0x243)]=new Map();[_0x13fde2(0x218)]=new Map();[_0x13fde2(0x63b)]=new Map();[_0x13fde2(0x224)]=new Map();[_0x13fde2(0x87c)]=!0x1;constructor(_0x20eb6c,_0x5ec344,_0x70cfc3,_0x4e0dcd,_0xbd8f21,_0x13f9cb,_0x96fa7f,_0x19113f){const _0x58620b=_0x13fde2;super(_0x20eb6c,_0x5ec344,_0x70cfc3),this['iceServers']=_0x4e0dcd,this[_0x58620b(0x6dc)]=_0xbd8f21,this['maxFps']=_0x13f9cb,this[_0x58620b(0x59f)]=_0x96fa7f,this[_0x58620b(0x1f4)]=_0x19113f;}[_0x13fde2(0x76f)](_0x4feb68){const _0x37e2af=_0x13fde2;switch(_0x4feb68[_0x37e2af(0x1fe)]()){case _0x15de5e[_0x37e2af(0x671)][_0x37e2af(0x249)]:case _0x15de5e[_0x37e2af(0x671)][_0x37e2af(0x893)]:case _0x15de5e[_0x37e2af(0x671)]['ObjectStore']:case _0x15de5e[_0x37e2af(0x671)]['KeyValueDatabase']:case _0x15de5e[_0x37e2af(0x671)][_0x37e2af(0x1e8)]:case _0x15de5e[_0x37e2af(0x671)]['VectorDatabase']:case _0x15de5e['ContentType'][_0x37e2af(0x60e)]:this[_0x37e2af(0x243)][_0x37e2af(0x599)](_0x4feb68['getLabel'](),_0x4feb68);break;case _0x15de5e['ContentType']['Media']:this[_0x37e2af(0x63b)]['set'](_0x4feb68[_0x37e2af(0x230)](),_0x4feb68);}}[_0x13fde2(0x505)](_0x5456c3){const _0x2a7530=_0x13fde2;switch(_0x5456c3['getContentType']()){case _0x15de5e[_0x2a7530(0x671)][_0x2a7530(0x249)]:case _0x15de5e[_0x2a7530(0x671)][_0x2a7530(0x893)]:case _0x15de5e[_0x2a7530(0x671)][_0x2a7530(0x359)]:case _0x15de5e[_0x2a7530(0x671)]['KeyValueDatabase']:case _0x15de5e['ContentType'][_0x2a7530(0x1e8)]:case _0x15de5e['ContentType'][_0x2a7530(0x8ac)]:case _0x15de5e[_0x2a7530(0x671)][_0x2a7530(0x60e)]:this[_0x2a7530(0x243)][_0x2a7530(0x6fd)](_0x5456c3[_0x2a7530(0x230)]());break;case _0x15de5e[_0x2a7530(0x671)][_0x2a7530(0x31b)]:this[_0x2a7530(0x63b)][_0x2a7530(0x6fd)](_0x5456c3[_0x2a7530(0x230)]());}}['registerSubscriber'](_0x995413){const _0x386ceb=_0x13fde2;switch(_0x995413[_0x386ceb(0x1fe)]()){case _0x15de5e[_0x386ceb(0x671)][_0x386ceb(0x249)]:case _0x15de5e[_0x386ceb(0x671)][_0x386ceb(0x893)]:case _0x15de5e[_0x386ceb(0x671)][_0x386ceb(0x359)]:case _0x15de5e['ContentType'][_0x386ceb(0x7dd)]:case _0x15de5e['ContentType']['Job']:case _0x15de5e[_0x386ceb(0x671)][_0x386ceb(0x8ac)]:case _0x15de5e[_0x386ceb(0x671)][_0x386ceb(0x60e)]:{const _0x266202=_0x995413[_0x386ceb(0x76e)](_0xd557d8=>{const _0x15f74c=_0x386ceb;_0x533149(_0xd557d8,this[_0x15f74c(0x5a3)]())&&_0x225a60(_0xd557d8,this[_0x15f74c(0x2d2)])&&this[_0x15f74c(0x232)](_0xd557d8);});this[_0x386ceb(0x218)][_0x386ceb(0x599)](_0x995413[_0x386ceb(0x230)](),_0x266202);break;}case _0x15de5e[_0x386ceb(0x671)]['Media']:{const _0x44d219=_0x995413[_0x386ceb(0x76e)](({content:_0x5cbc77})=>{const _0x22cef8=_0x386ceb;switch(_0x5cbc77[_0x22cef8(0x61e)]){case _0x5da97e[_0x22cef8(0x21b)]:this[_0x22cef8(0x74f)](_0x5cbc77[_0x22cef8(0x206)],_0x5cbc77[_0x22cef8(0x40a)],_0x5cbc77['priority'],_0x5cbc77[_0x22cef8(0x320)]);break;case _0x5da97e[_0x22cef8(0x503)]:this[_0x22cef8(0x7a8)](_0x5cbc77[_0x22cef8(0x206)],_0x5cbc77[_0x22cef8(0x40a)]);break;case _0x5da97e['Update']:_0x5cbc77[_0x22cef8(0x4e9)]&&this[_0x22cef8(0x73b)](_0x5cbc77[_0x22cef8(0x40a)],_0x5cbc77[_0x22cef8(0x4e9)]),_0x5cbc77['params']&&this[_0x22cef8(0x38f)](_0x5cbc77[_0x22cef8(0x40a)],_0x5cbc77[_0x22cef8(0x320)]);}});this['mediaUnsubscribers'][_0x386ceb(0x599)](_0x995413[_0x386ceb(0x230)](),_0x44d219);break;}}}[_0x13fde2(0x89d)](_0xbedf59){const _0xe5b5d3=_0x13fde2;switch(_0xbedf59[_0xe5b5d3(0x1fe)]()){case _0x15de5e[_0xe5b5d3(0x671)][_0xe5b5d3(0x249)]:case _0x15de5e[_0xe5b5d3(0x671)][_0xe5b5d3(0x893)]:case _0x15de5e[_0xe5b5d3(0x671)]['ObjectStore']:case _0x15de5e['ContentType'][_0xe5b5d3(0x7dd)]:case _0x15de5e[_0xe5b5d3(0x671)][_0xe5b5d3(0x1e8)]:case _0x15de5e['ContentType'][_0xe5b5d3(0x8ac)]:case _0x15de5e[_0xe5b5d3(0x671)][_0xe5b5d3(0x60e)]:this[_0xe5b5d3(0x218)]['get'](_0xbedf59['getLabel']())?.(),this[_0xe5b5d3(0x218)][_0xe5b5d3(0x6fd)](_0xbedf59[_0xe5b5d3(0x230)]());break;case _0x15de5e[_0xe5b5d3(0x671)]['Media']:this[_0xe5b5d3(0x224)][_0xe5b5d3(0x556)](_0xbedf59[_0xe5b5d3(0x230)]())?.(),this[_0xe5b5d3(0x224)]['delete'](_0xbedf59['getLabel']());}}[_0x13fde2(0x574)](){const _0x4accd2=_0x13fde2;return[_0x15de5e['ContentType']['Data'],_0x15de5e[_0x4accd2(0x671)][_0x4accd2(0x31b)],_0x15de5e[_0x4accd2(0x671)][_0x4accd2(0x893)],_0x15de5e[_0x4accd2(0x671)][_0x4accd2(0x359)],_0x15de5e[_0x4accd2(0x671)][_0x4accd2(0x7dd)],_0x15de5e[_0x4accd2(0x671)][_0x4accd2(0x1e8)],_0x15de5e[_0x4accd2(0x671)]['VectorDatabase'],_0x15de5e[_0x4accd2(0x671)][_0x4accd2(0x60e)]];}[_0x13fde2(0x18b)](_0x2131de){this['systemTopic']=_0x2131de;}['unregisterSystemPublisher'](){const _0x26f35c=_0x13fde2;delete this[_0x26f35c(0x51a)];}async[_0x13fde2(0x6d3)](){const _0x46cc6f=_0x13fde2;this[_0x46cc6f(0x470)](),await this['createOffer']();}['close'](){const _0x4bdaeb=_0x13fde2;this['listenerUnsubscribers'][_0x4bdaeb(0x1ed)](_0x275a4a=>_0x275a4a()),this[_0x4bdaeb(0x6a2)]=[],this[_0x4bdaeb(0x804)]?.[_0x4bdaeb(0x769)](),this[_0x4bdaeb(0x804)]?.[_0x4bdaeb(0x3df)](),delete this[_0x4bdaeb(0x804)],this[_0x4bdaeb(0x4ac)][_0x4bdaeb(0x1ed)](_0x2db5a5=>_0x2db5a5()),this['receiverUnsubscribers']=[],this[_0x4bdaeb(0x3dd)]?.[_0x4bdaeb(0x769)](),this[_0x4bdaeb(0x3dd)]?.[_0x4bdaeb(0x3df)](),delete this[_0x4bdaeb(0x3dd)];}[_0x13fde2(0x338)](){const _0x447ec5=_0x13fde2;return this['senderConnection']?.[_0x447ec5(0x338)]()&&this[_0x447ec5(0x3dd)]?.[_0x447ec5(0x338)]()||!0x1;}[_0x13fde2(0x232)](_0x5aae51){const _0x5cf23b=_0x13fde2;if(!this[_0x5cf23b(0x804)]||!this[_0x5cf23b(0x338)]())throw new _0x46f718(_0x46f718[_0x5cf23b(0x6b3)][_0x5cf23b(0x81b)],{'message':_0x5cf23b(0x81d),'senderConnected':this[_0x5cf23b(0x804)]?.[_0x5cf23b(0x338)](),'receiverConnected':this[_0x5cf23b(0x3dd)]?.[_0x5cf23b(0x338)](),'localId':this[_0x5cf23b(0x5a3)](),'remoteId':this[_0x5cf23b(0x2d2)],'data':_0x5aae51});this['senderConnection']['send'](_0x5aae51);}['onMessage'](_0x168aed){const _0x144a7b=_0x13fde2;return this[_0x144a7b(0x538)]['subscribe'](_0x168aed);}[_0x13fde2(0x2b8)](_0x29ba4a){const _0x3018f=_0x13fde2;return this['trackListeners'][_0x3018f(0x76e)](({track:_0x5d718f,stream:_0x78ded6})=>_0x29ba4a(_0x5d718f,_0x78ded6));}[_0x13fde2(0x3f5)](_0x121016){const _0x429270=_0x13fde2;return this[_0x429270(0x17c)]['subscribe'](({track:_0x26f655,stream:_0x5c0415})=>_0x121016(_0x26f655,_0x5c0415));}[_0x13fde2(0x74f)](_0x2e640f,_0x5e6b72,_0x12e362,_0x86cad4){const _0x6b4e4e=_0x13fde2;this[_0x6b4e4e(0x804)]?.[_0x6b4e4e(0x74f)](_0x2e640f,_0x5e6b72,_0x12e362,_0x86cad4);}[_0x13fde2(0x73b)](_0x32cbbc,_0x4de9ff){const _0x10eb25=_0x13fde2;this[_0x10eb25(0x804)]?.['setPriority'](_0x32cbbc,_0x4de9ff);}['setParams'](_0x54647e,_0x3b3fe0){const _0x4d43f6=_0x13fde2;this['senderConnection']?.[_0x4d43f6(0x38f)](_0x54647e,_0x3b3fe0);}['removeTrack'](_0x21ed37,_0x18f13a){const _0x2bd8fd=_0x13fde2;this[_0x2bd8fd(0x804)]?.[_0x2bd8fd(0x7a8)](_0x21ed37,_0x18f13a);}async[_0x13fde2(0x507)](_0x3c5102){const _0x242154=_0x13fde2;_0x3d0f37['log'](_0x2582bf[_0x242154(0x252)],_0x242154(0x647),this[_0x242154(0x5a3)](),_0x3c5102);const {content:_0x2fca7c}=_0x3c5102;switch(_0x2fca7c[_0x242154(0x5bb)]){case _0x4a44e8[_0x242154(0x49c)]:await this[_0x242154(0x3ef)](_0x2fca7c);break;case _0x4a44e8[_0x242154(0x60d)]:await this[_0x242154(0x67d)](_0x2fca7c);break;case _0x4a44e8[_0x242154(0x1ad)]:this[_0x242154(0x56e)]();break;case _0x4a44e8[_0x242154(0x369)]:await this[_0x242154(0x23a)](_0x2fca7c);break;case _0x4a44e8[_0x242154(0x247)]:this['handleNeedRestart'](_0x2fca7c);break;case _0x4a44e8[_0x242154(0x557)]:await this['createOffer']();}}[_0x13fde2(0x6ac)](_0x516886){const _0x316e5d=_0x13fde2;this[_0x316e5d(0x804)]?.[_0x316e5d(0x283)](_0x516886[_0x316e5d(0x6dd)]['data']);}[_0x13fde2(0x4b1)](){const _0x3f0164=_0x13fde2;return this[_0x3f0164(0x6dc)];}[_0x13fde2(0x737)](_0x1d2198){const _0x2afe2b=_0x13fde2;this[_0x2afe2b(0x6dc)]=_0x1d2198,this[_0x2afe2b(0x804)]?.[_0x2afe2b(0x737)](_0x1d2198),this[_0x2afe2b(0x3dd)]?.[_0x2afe2b(0x737)](_0x1d2198);}async[_0x13fde2(0x49d)](){const _0x4e67e8=_0x13fde2;await this[_0x4e67e8(0x804)]?.['collectStats'](),await this[_0x4e67e8(0x3dd)]?.[_0x4e67e8(0x49d)]();}[_0x13fde2(0x3cf)](){const _0x5ecc2f=_0x13fde2;return this[_0x5ecc2f(0x804)]?.[_0x5ecc2f(0x3cf)]()||0x0;}[_0x13fde2(0x470)](){const _0x53d15d=_0x13fde2;this[_0x53d15d(0x6a2)][_0x53d15d(0x875)](this[_0x53d15d(0x77e)](_0x5b547e=>{const _0x3fc536=_0x53d15d;_0x225a60(_0x5b547e,this[_0x3fc536(0x5a3)]())&&0x0!==_0x5b547e[_0x3fc536(0x2bf)]&&this[_0x3fc536(0x243)]['get'](_0x5b547e[_0x3fc536(0x2bf)])?.[_0x3fc536(0x3c5)](_0x5b547e);})),this['listenerUnsubscribers'][_0x53d15d(0x875)](this['onTrack']((_0x27f2a9,_0x4587c8)=>{const _0x1f8280=_0x53d15d,_0x55b9fb=_0x192baa(_0x15de5e[_0x1f8280(0x671)][_0x1f8280(0x31b)],_0x4587c8['id'],this[_0x1f8280(0x2d2)]);this[_0x1f8280(0x63b)][_0x1f8280(0x556)](_0x55b9fb)?.[_0x1f8280(0x3c5)]({'topicLabel':_0x55b9fb,'sourceId':this[_0x1f8280(0x2d2)],'contentType':_0x15de5e[_0x1f8280(0x671)][_0x1f8280(0x31b)],'content':{'action':_0x5da97e['RemoteAdd'],'track':_0x27f2a9,'stream':_0x4587c8,'providerId':this['remoteId']}});})),this[_0x53d15d(0x6a2)][_0x53d15d(0x875)](this[_0x53d15d(0x3f5)]((_0x139cac,_0x34eae8)=>{const _0xd655f=_0x53d15d,_0x4823bf=_0x192baa(_0x15de5e[_0xd655f(0x671)][_0xd655f(0x31b)],_0x34eae8['id'],this[_0xd655f(0x2d2)]);this['mediaTopics'][_0xd655f(0x556)](_0x4823bf)?.[_0xd655f(0x3c5)]({'topicLabel':_0x4823bf,'sourceId':this[_0xd655f(0x2d2)],'contentType':_0x15de5e[_0xd655f(0x671)]['Media'],'content':{'action':_0x5da97e[_0xd655f(0x84b)],'track':_0x139cac,'stream':_0x34eae8,'providerId':this[_0xd655f(0x2d2)]}});}));}['handleIceCandidates']({candidates:_0x471e92,origin:_0xb8954d,version:_0x291fb7}){const _0x3fbaef=_0x13fde2;return _0xb8954d===_0x4a7d10[_0x3fbaef(0x3a6)]?(this[_0x3fbaef(0x3dd)]||this['createReceiverConnection'](),this[_0x3fbaef(0x3dd)]['handleHandshake'](_0x471e92,_0x291fb7)):this[_0x3fbaef(0x804)][_0x3fbaef(0x774)](_0x471e92,_0x291fb7);}async['createOffer'](){const _0x31c774=_0x13fde2;this[_0x31c774(0x804)]||this[_0x31c774(0x8ae)](),await this[_0x31c774(0x804)]['createOffer']();}async[_0x13fde2(0x3ef)]({offer:_0x1ab1b7,version:_0x20d2c5}){const _0x32eaec=_0x13fde2;this[_0x32eaec(0x3dd)]||this[_0x32eaec(0x6ec)](),await this[_0x32eaec(0x3dd)][_0x32eaec(0x3ef)](_0x1ab1b7,_0x20d2c5);}async[_0x13fde2(0x67d)]({answer:_0x2a8fdd,version:_0x1adf0f}){const _0x40d51e=_0x13fde2;if(!this['senderConnection'])throw new _0x46f718(_0x46f718[_0x40d51e(0x6b3)]['ConnectionNotinitialized'],{'message':_0x40d51e(0x899),'localId':this[_0x40d51e(0x5a3)](),'remoteId':this[_0x40d51e(0x2d2)],'answer':_0x2a8fdd});await this[_0x40d51e(0x804)][_0x40d51e(0x67d)](_0x2a8fdd,_0x1adf0f);}[_0x13fde2(0x56e)](){const _0x3a33f0=_0x13fde2;if(!this[_0x3a33f0(0x3dd)])throw new _0x46f718(_0x46f718[_0x3a33f0(0x6b3)][_0x3a33f0(0x81b)],{'message':_0x3a33f0(0x417),'localId':this[_0x3a33f0(0x5a3)](),'remoteId':this[_0x3a33f0(0x2d2)]});this[_0x3a33f0(0x3dd)]['handleSuccess'](),this[_0x3a33f0(0x87c)]||this[_0x3a33f0(0x6dc)]!==_0x488105['Optimization']||(this[_0x3a33f0(0x87c)]=!0x0,this[_0x3a33f0(0x51a)]?.['publish']({'sourceId':this[_0x3a33f0(0x2d2)],'destinationIds':[this[_0x3a33f0(0x5a3)]()],'messageType':_0x1b694f[_0x3a33f0(0x37c)],'content':{'type':_0x4a44e8['OptimizationConnectionSuccess']}}));}[_0x13fde2(0x515)](_0x2f3183){const _0x1f6067=_0x13fde2;this['receiverConnection']||this[_0x1f6067(0x6ec)](),this[_0x1f6067(0x3dd)]['handleNeedRestart'](_0x2f3183[_0x1f6067(0x732)]);}[_0x13fde2(0x8ae)](){const _0xc9499e=_0x13fde2;this[_0xc9499e(0x804)]=new _0x42982a(this['clusterId'],this['localNode'],this[_0xc9499e(0x2d2)],this[_0xc9499e(0x228)],this['connectionType'],this[_0xc9499e(0x8b7)],this[_0xc9499e(0x59f)],this[_0xc9499e(0x1f4)]),this[_0xc9499e(0x804)][_0xc9499e(0x18b)](this[_0xc9499e(0x51a)]);}[_0x13fde2(0x6ec)](){const _0x363aab=_0x13fde2;this[_0x363aab(0x3dd)]=new _0x2607a3(this[_0x363aab(0x89e)],this[_0x363aab(0x672)],this[_0x363aab(0x2d2)],this[_0x363aab(0x228)],this['connectionType'],this[_0x363aab(0x1f4)]),this[_0x363aab(0x3dd)]['registerSystemPublisher'](this['systemTopic']),this[_0x363aab(0x4ac)][_0x363aab(0x875)](this[_0x363aab(0x3dd)][_0x363aab(0x77e)](_0x553c22=>this[_0x363aab(0x538)][_0x363aab(0x3c5)](_0x553c22))),this[_0x363aab(0x4ac)][_0x363aab(0x875)](this[_0x363aab(0x3dd)][_0x363aab(0x2b8)]((_0x42bfca,_0x20dd7d)=>this[_0x363aab(0x66d)][_0x363aab(0x3c5)]({'track':_0x42bfca,'stream':_0x20dd7d}))),this[_0x363aab(0x4ac)][_0x363aab(0x875)](this[_0x363aab(0x3dd)][_0x363aab(0x3f5)]((_0x1213d9,_0x792574)=>this['removeTrackListeners'][_0x363aab(0x3c5)]({'track':_0x1213d9,'stream':_0x792574})));}}class _0x5a339e{[_0x13fde2(0x35f)];['messageBuffer'];[_0x13fde2(0x262)];[_0x13fde2(0x3da)]=new Map();[_0x13fde2(0x538)]=_0x223536();[_0x13fde2(0x72a)];[_0x13fde2(0x243)]=new Map();[_0x13fde2(0x218)]=new Map();[_0x13fde2(0x608)]=new Map();constructor(_0x4d851e,_0x3bddc7,_0x12e6e6){const _0x434e64=_0x13fde2;this[_0x434e64(0x35f)]=_0x4d851e,this[_0x434e64(0x4f0)]=_0x3bddc7,this[_0x434e64(0x262)]=_0x12e6e6,this[_0x434e64(0x72a)]=this[_0x434e64(0x77e)](_0x11fac4=>{const _0x38671d=_0x434e64;this[_0x38671d(0x4f0)][_0x38671d(0x86e)](_0x11fac4[_0x38671d(0x5ff)])||(_0x225a60(_0x11fac4,this[_0x38671d(0x35f)])&&0x0!==_0x11fac4[_0x38671d(0x2bf)]&&(this[_0x38671d(0x4f0)][_0x38671d(0x57e)](_0x11fac4[_0x38671d(0x5ff)]),this[_0x38671d(0x243)]['get'](_0x11fac4[_0x38671d(0x2bf)])?.[_0x38671d(0x3c5)](_0x11fac4)),_0x11fac4[_0x38671d(0x755)]&&this[_0x38671d(0x232)](_0x11fac4));});}[_0x13fde2(0x3df)](){const _0x56be9c=_0x13fde2;this[_0x56be9c(0x72a)]?.();}[_0x13fde2(0x3d9)](_0x43feb0){const _0x2a2544=_0x13fde2,_0x2ef9a5=_0x43feb0[_0x2a2544(0x77e)](_0x2fdca0=>{const _0x214b6f=_0x2a2544;this[_0x214b6f(0x538)][_0x214b6f(0x3c5)](_0x2fdca0);});this[_0x2a2544(0x3da)][_0x2a2544(0x599)](_0x43feb0,_0x2ef9a5),this[_0x2a2544(0x608)]['set'](_0x43feb0[_0x2a2544(0x2fd)](),function(_0x1521b7,_0x3cd910=!0x1){let _0x4db683=new Map();const _0x373bb4=_0x3becc7(_0x1521b7,_0x3cd910,function(_0x5ca61c){const _0x1eff5f=a0_0x2ee0;_0x20fbf2(_0x5ca61c)&&_0x4db683[_0x1eff5f(0x6fd)](_0x5ca61c[_0x1eff5f(0x8a3)]+'-'+(_0x5ca61c[_0x1eff5f(0x30a)]??[])+'-'+_0x5ca61c[_0x1eff5f(0x3ec)]+'-'+_0x5ca61c[_0x1eff5f(0x6dd)]['type']);},function(_0x52bcf8){return!!function(_0x1357c7){const _0x94ec6e=a0_0x2ee0,_0x18b5f9=_0x1357c7[_0x94ec6e(0x56d)];if(!_0x20fbf2(_0x18b5f9))return!0x1;const _0x3a291c=_0x18b5f9['sourceId']+'-'+(_0x18b5f9[_0x94ec6e(0x30a)]??[])+'-'+_0x18b5f9['messageType']+'-'+_0x18b5f9['content'][_0x94ec6e(0x5bb)],_0x2921bd={'version':_0x18b5f9[_0x94ec6e(0x6dd)][_0x94ec6e(0x732)],'element':_0x1357c7},_0x119c8e=_0x4db683[_0x94ec6e(0x556)](_0x3a291c);return _0x119c8e?(_0x119c8e[_0x94ec6e(0x732)]>=_0x18b5f9['content'][_0x94ec6e(0x732)]||(_0x119c8e[_0x94ec6e(0x806)][_0x94ec6e(0x776)]&&(_0x119c8e[_0x94ec6e(0x806)][_0x94ec6e(0x776)]['next']=_0x1357c7,_0x1357c7[_0x94ec6e(0x776)]=_0x119c8e['element']['previous']),_0x119c8e['element']['next']&&(_0x119c8e[_0x94ec6e(0x806)][_0x94ec6e(0x319)]['previous']=_0x1357c7,_0x1357c7[_0x94ec6e(0x319)]=_0x119c8e[_0x94ec6e(0x806)][_0x94ec6e(0x319)]),_0x119c8e['element']===_0x373bb4[_0x94ec6e(0x20d)]&&(_0x373bb4[_0x94ec6e(0x20d)]=_0x1357c7),_0x119c8e['element']===_0x373bb4[_0x94ec6e(0x725)]&&(_0x373bb4[_0x94ec6e(0x725)]=_0x1357c7),_0x4db683[_0x94ec6e(0x599)](_0x3a291c,_0x2921bd)),!0x0):(_0x4db683[_0x94ec6e(0x599)](_0x3a291c,_0x2921bd),!0x1);}(_0x52bcf8);},function(){const _0x287a87=a0_0x2ee0;_0x4db683[_0x287a87(0x84d)]();});function _0x20fbf2(_0x46947b){const _0x4d7c0c=a0_0x2ee0;if(_0x46947b&&_0x4d7c0c(0x433)==typeof _0x46947b&&_0x46947b['hasOwnProperty'](_0x4d7c0c(0x6dd))&&_0x46947b[_0x4d7c0c(0x720)](_0x4d7c0c(0x3ec))&&_0x46947b[_0x4d7c0c(0x720)](_0x4d7c0c(0x8a3))){const _0x417e42=_0x46947b;if(_0x417e42[_0x4d7c0c(0x6dd)]&&_0x4d7c0c(0x433)==typeof _0x417e42[_0x4d7c0c(0x6dd)]&&_0x417e42[_0x4d7c0c(0x6dd)]['hasOwnProperty'](_0x4d7c0c(0x732))&&_0x417e42[_0x4d7c0c(0x6dd)][_0x4d7c0c(0x720)]('type'))return!0x0;}return!0x1;}return _0x373bb4;}(new _0x3b526c(_0x4fc9bc=>_0x43feb0[_0x2a2544(0x232)](_0x4fc9bc),()=>_0x384e4f[_0x2a2544(0x374)](0x64))));}['removeConnection'](_0x159ef6){const _0x74af00=_0x13fde2;this[_0x74af00(0x3da)]['get'](_0x159ef6)?.(),this[_0x74af00(0x3da)][_0x74af00(0x6fd)](_0x159ef6),this[_0x74af00(0x608)][_0x74af00(0x556)](_0x159ef6['getRemoteId']())?.[_0x74af00(0x84d)](),this[_0x74af00(0x608)][_0x74af00(0x6fd)](_0x159ef6['getRemoteId']());}['isConnected'](_0x162107){const _0x140c21=_0x13fde2;return _0x3d0f37[_0x140c21(0x6c1)](_0x2582bf[_0x140c21(0x5f5)],_0x140c21(0x269),this[_0x140c21(0x35f)],this[_0x140c21(0x3da)][_0x140c21(0x253)]()),0x0!==this['connections'][_0x140c21(0x411)]&&(Array[_0x140c21(0x69c)](this['connections'][_0x140c21(0x253)]())[_0x140c21(0x1a6)](_0x5467f8=>_0x5467f8[_0x140c21(0x2fd)]()===_0x162107)?.[_0x140c21(0x338)]()??!0x1);}['registerPublisher'](_0x2568b9){const _0xb1b66f=_0x13fde2;this[_0xb1b66f(0x243)][_0xb1b66f(0x599)](_0x2568b9[_0xb1b66f(0x230)](),_0x2568b9);}[_0x13fde2(0x505)](_0x322422){this['dataTopics']['delete'](_0x322422['getLabel']());}['registerSubscriber'](_0x2eaacc){const _0x2bfd32=_0x13fde2,_0x11e7cc=_0x2eaacc[_0x2bfd32(0x76e)](this[_0x2bfd32(0x232)]['bind'](this));this[_0x2bfd32(0x218)][_0x2bfd32(0x599)](_0x2eaacc[_0x2bfd32(0x230)](),_0x11e7cc);}[_0x13fde2(0x89d)](_0x2b3752){const _0x4465e8=_0x13fde2;this['dataUnsubscribers']['get'](_0x2b3752[_0x4465e8(0x230)]())?.(),this[_0x4465e8(0x218)][_0x4465e8(0x6fd)](_0x2b3752[_0x4465e8(0x230)]());}[_0x13fde2(0x574)](){const _0x25e642=_0x13fde2;return[_0x15de5e[_0x25e642(0x671)]['Data'],_0x15de5e[_0x25e642(0x671)][_0x25e642(0x893)],_0x15de5e[_0x25e642(0x671)][_0x25e642(0x359)],_0x15de5e[_0x25e642(0x671)][_0x25e642(0x7dd)],_0x15de5e[_0x25e642(0x671)][_0x25e642(0x1e8)],_0x15de5e[_0x25e642(0x671)][_0x25e642(0x8ac)],_0x15de5e[_0x25e642(0x671)][_0x25e642(0x60e)]];}['send'](_0x48e478){const _0x56a3b0=_0x13fde2;if(!0x1===_0x48e478[_0x56a3b0(0x577)]){if(_0x48e478['propagate']||!_0x48e478['destinationIds']||0x1!==_0x48e478[_0x56a3b0(0x30a)][_0x56a3b0(0x24c)])throw new _0x46f718(_0x46f718[_0x56a3b0(0x6b3)]['ConnectionInvalidDataEvent'],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x56a3b0(0x35f)]});if(!this['isConnected'](_0x48e478[_0x56a3b0(0x30a)][0x0]))throw new _0x37b0db('Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false');}const _0x22a215=_0x48e478[_0x56a3b0(0x51f)]??[];try{const {filteredDestinationIds:_0x3eb79b,extendedRecipients:_0x41c132}=this[_0x56a3b0(0x174)](_0x48e478,_0x22a215);_0x48e478[_0x56a3b0(0x30a)]=_0x3eb79b,_0x48e478[_0x56a3b0(0x51f)]=_0x41c132;}catch(_0x2a9c16){if(_0x2a9c16 instanceof _0x37b0db)return void _0x3d0f37[_0x56a3b0(0x6c1)](_0x2582bf[_0x56a3b0(0x252)],_0x56a3b0(0x50b),_0x56a3b0(0x56a),_0x48e478,_0x2a9c16['message']);}const _0x272694=this[_0x56a3b0(0x54a)](_0x48e478);this['logPropagateSystemEvent'](_0x48e478,_0x272694),_0x48e478[_0x56a3b0(0x755)]=_0x272694;const _0x57fb9e=this[_0x56a3b0(0x811)](_0x48e478,_0x22a215);for(const _0x500826 of _0x57fb9e){const _0x58abb8=this['retryQueues'][_0x56a3b0(0x556)](_0x500826[_0x56a3b0(0x2fd)]());if(!_0x58abb8)throw new _0x46f718(_0x46f718[_0x56a3b0(0x6b3)][_0x56a3b0(0x842)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this['localId'],'remoteId':_0x500826['getRemoteId'](),'data':_0x48e478});_0x58abb8[_0x56a3b0(0x875)](_0x48e478);}}[_0x13fde2(0x2fd)](){return'';}[_0x13fde2(0x5a3)](){const _0xff6e61=_0x13fde2;return this[_0xff6e61(0x35f)];}[_0x13fde2(0x77e)](_0x37f259){const _0x5a5499=_0x13fde2;return this['messageListeners'][_0x5a5499(0x76e)](_0x37f259);}[_0x13fde2(0x174)](_0x5cc273,_0x4b3e71){const _0x5d0a0e=_0x13fde2,_0xc70d95={'filteredDestinationIds':_0x5cc273['destinationIds'],'extendedRecipients':_0x5cc273[_0x5d0a0e(0x51f)]};if(!_0x5cc273[_0x5d0a0e(0x755)])return _0xc70d95;const _0xa804b0=Array[_0x5d0a0e(0x69c)](this[_0x5d0a0e(0x3da)]['keys']())[_0x5d0a0e(0x559)](_0x42e8f6=>_0x42e8f6[_0x5d0a0e(0x4b1)]()===_0x488105[_0x5d0a0e(0x301)]||_0x42e8f6[_0x5d0a0e(0x338)]())['map'](_0x81515d=>_0x81515d[_0x5d0a0e(0x2fd)]());if(_0xa804b0['reduce']((_0x15bf31,_0x2c5427)=>_0x15bf31&&_0x5cc273['recipients'][_0x5d0a0e(0x563)](_0x2c5427),!0x0))throw new _0x37b0db(_0x5d0a0e(0x39f));if(_0x5cc273[_0x5d0a0e(0x30a)]){const _0x47e0e0=_0x5cc273['destinationIds'][_0x5d0a0e(0x559)](_0x1527c0=>_0x1527c0!==this[_0x5d0a0e(0x35f)]&&!_0x5cc273[_0x5d0a0e(0x51f)][_0x5d0a0e(0x563)](_0x1527c0));if(0x0===_0x47e0e0[_0x5d0a0e(0x24c)])throw new _0x37b0db(_0x5d0a0e(0x2e4));_0xc70d95['filteredDestinationIds']=_0x47e0e0;}return _0xc70d95[_0x5d0a0e(0x6bf)]=[...new Set([..._0x4b3e71,..._0xa804b0,this[_0x5d0a0e(0x35f)]])],_0xc70d95;}[_0x13fde2(0x2d0)](_0x1f887c,_0x3b1195=!0x1){const _0x42f7a0=_0x13fde2;if(0x0===_0x1f887c[_0x42f7a0(0x2bf)]&&!_0x533149(_0x1f887c,this[_0x42f7a0(0x35f)])&&_0x1f887c['propagate']){const _0x23ebc5=_0x16ed7b(_0x1f887c,this['localId']);_0x3d0f37[_0x42f7a0(0x4b3)](_0x2582bf[_0x42f7a0(0x379)],_0x1f887c[_0x42f7a0(0x5ff)]+'\x20-\x20Sending\x20propagation\x20('+_0x3b1195+')\x20'+_0x23ebc5,_0x1f887c,_0x3b1195);}}[_0x13fde2(0x54a)](_0x1578e5){const _0x17f348=_0x13fde2;if(_0x1578e5[_0x17f348(0x30a)]&&_0x1578e5['propagate']){const _0x28d494=Array[_0x17f348(0x69c)](this[_0x17f348(0x3da)][_0x17f348(0x253)]())[_0x17f348(0x559)](_0x179bf1=>_0x179bf1[_0x17f348(0x4b1)]()===_0x488105[_0x17f348(0x301)]||_0x179bf1[_0x17f348(0x338)]())[_0x17f348(0x3d2)](_0x398c7c=>_0x398c7c['getRemoteId']());return!_0x1578e5[_0x17f348(0x30a)][_0x17f348(0x633)]((_0x17dbdb,_0x1a4336)=>_0x17dbdb&&_0x28d494['includes'](_0x1a4336),!0x0);}return _0x1578e5[_0x17f348(0x755)]??!0x1;}[_0x13fde2(0x811)](_0x42790c,_0x1fd5fc){const _0x13da3c=_0x13fde2;if(_0x42790c[_0x13da3c(0x755)]&&_0x42790c[_0x13da3c(0x30a)]){const _0x5f3b5f=Array[_0x13da3c(0x69c)](this[_0x13da3c(0x3da)][_0x13da3c(0x253)]())[_0x13da3c(0x559)](_0x72190e=>_0x72190e[_0x13da3c(0x4b1)]()===_0x488105[_0x13da3c(0x301)]||_0x72190e[_0x13da3c(0x338)]())[_0x13da3c(0x3d2)](_0x33670e=>_0x33670e['getRemoteId']()),_0x5cc012=new Set(),_0x5259a2=_0x42790c[_0x13da3c(0x8a3)]===this[_0x13da3c(0x35f)]?0x3:0x1;return _0x42790c[_0x13da3c(0x30a)][_0x13da3c(0x1ed)](_0x4d2360=>{const _0x566e3b=_0x13da3c,_0x4dbb9a=this[_0x566e3b(0x262)][_0x566e3b(0x27f)](_0x5f3b5f,_0x4d2360);let _0x35600d=0x0,_0x25bb47=0x0;_0x4dbb9a[_0x566e3b(0x1ed)](_0xf32857=>{const _0x5adac8=_0x566e3b;if(_0x35600d>=_0x5259a2)return;const _0x5c3fa0=Array[_0x5adac8(0x69c)](this[_0x5adac8(0x3da)][_0x5adac8(0x253)]())[_0x5adac8(0x1a6)](_0x532045=>_0x532045[_0x5adac8(0x2fd)]()===_0xf32857);if(_0x5c3fa0){if(_0x5c3fa0['getConnectionType']()===_0x488105[_0x5adac8(0x301)]&&_0x25bb47>0x0)return void(_0x25bb47-=0x1);_0x5cc012['add'](_0x5c3fa0),_0x5c3fa0[_0x5adac8(0x4b1)]()===_0x488105[_0x5adac8(0x282)]&&(_0x25bb47+=0x1),_0x35600d+=0x1;}});}),Array[_0x13da3c(0x69c)](_0x5cc012);}return Array[_0x13da3c(0x69c)](this[_0x13da3c(0x3da)][_0x13da3c(0x253)]())['filter'](_0x192237=>{const _0x1049ce=_0x13da3c;return _0x25d619=_0x192237['getRemoteId'](),!_0x1fd5fc[_0x1049ce(0x563)](_0x25d619)&&(_0x225a60(_0x42790c,_0x25d619)||_0x42790c[_0x1049ce(0x755)])&&(!_0x42790c['propagate']||_0x192237['isConnected']()||_0x192237[_0x1049ce(0x4b1)]()===_0x488105[_0x1049ce(0x301)]);var _0x25d619;});}}class _0xc8f2e{[_0x13fde2(0x35f)];[_0x13fde2(0x4f0)];[_0x13fde2(0x3da)]=new Map();[_0x13fde2(0x51a)];constructor(_0x2e9d3e,_0x625e23){const _0x2b52ca=_0x13fde2;this[_0x2b52ca(0x35f)]=_0x2e9d3e,this[_0x2b52ca(0x4f0)]=_0x625e23;}[_0x13fde2(0x3df)](){}['send'](_0x1838a1){const _0x17d333=_0x13fde2;for(const _0x1b6601 of this['connections'][_0x17d333(0x253)]())try{return void _0x1b6601['send']({'retry':!0x1,..._0x1838a1});}catch(_0x310330){_0x310330 instanceof _0x37b0db||_0x3d0f37[_0x17d333(0x6c1)](_0x2582bf[_0x17d333(0x42c)],'send\x20error\x20on\x20'+_0x1b6601,_0x310330,_0x1838a1);}_0x3d0f37[_0x17d333(0x6c1)](_0x2582bf['Pool'],_0x17d333(0x7ba));}['addConnection'](_0x1f11b3){const _0x9576ee=_0x13fde2,_0x86235b=_0x1f11b3[_0x9576ee(0x77e)](_0x187d00=>{const _0x1c5e66=_0x9576ee;this[_0x1c5e66(0x4f0)][_0x1c5e66(0x86e)](_0x187d00[_0x1c5e66(0x5ff)])||0x0===_0x187d00[_0x1c5e66(0x2bf)]&&(this[_0x1c5e66(0x4f0)]['addMessage'](_0x187d00[_0x1c5e66(0x5ff)]),_0x225a60(_0x187d00,this[_0x1c5e66(0x35f)])&&this['systemTopic']?.[_0x1c5e66(0x3c5)](_0x187d00));});this['connections'][_0x9576ee(0x599)](_0x1f11b3,_0x86235b);}['removeConnection'](_0x2d11ac){const _0x3a9588=_0x13fde2;this[_0x3a9588(0x3da)][_0x3a9588(0x556)](_0x2d11ac)?.(),this[_0x3a9588(0x3da)][_0x3a9588(0x6fd)](_0x2d11ac);}[_0x13fde2(0x5a3)](){const _0x5a6759=_0x13fde2;return this[_0x5a6759(0x35f)];}[_0x13fde2(0x2fd)](){return'';}[_0x13fde2(0x574)](){const _0x4a6053=_0x13fde2;return[_0x15de5e['ContentType'][_0x4a6053(0x249)]];}[_0x13fde2(0x338)](){const _0xd7feb=_0x13fde2;throw new Error(_0xd7feb(0x2ad));}[_0x13fde2(0x18b)](_0x416c5f){const _0x435725=_0x13fde2;this[_0x435725(0x51a)]=_0x416c5f;}[_0x13fde2(0x769)](){const _0x27f924=_0x13fde2;delete this[_0x27f924(0x51a)];}}class _0xcd88e{[_0x13fde2(0x4e5)]=new Map();[_0x13fde2(0x487)];constructor(){this['unsubscribeHandler']=_0x384e4f['setInterval'](()=>{const _0x3f1606=a0_0x2ee0;for(const [_0x2a7ae2,_0x254bf4]of this[_0x3f1606(0x4e5)][_0x3f1606(0x78d)]())Date[_0x3f1606(0x321)]()-_0x254bf4>0x124f80&&this[_0x3f1606(0x4e5)][_0x3f1606(0x6fd)](_0x2a7ae2);},0x1d4c0);}['close'](){this['unsubscribeHandler']();}[_0x13fde2(0x57e)](_0x26020e){const _0x225fc1=_0x13fde2;this[_0x225fc1(0x4e5)]['set'](_0x26020e,Date['now']());}['hasMessage'](_0x2a4d94){const _0x1da4c1=_0x13fde2;return this[_0x1da4c1(0x4e5)][_0x1da4c1(0x7f7)](_0x2a4d94);}}class _0x3eedb0{[_0x13fde2(0x7b0)];['authService'];[_0x13fde2(0x228)];[_0x13fde2(0x708)];['connections']=new Map();[_0x13fde2(0x88c)];[_0x13fde2(0x438)];['signalingServer'];[_0x13fde2(0x4f0)];constructor(_0x756492,_0x1c74ec,_0xd1a7ff,_0x229298,_0x466cd4){const _0x40ad16=_0x13fde2;this['configs']=_0x756492,this[_0x40ad16(0x69e)]=_0x1c74ec,this['iceServers']=_0x229298,this[_0x40ad16(0x708)]=_0x466cd4,this[_0x40ad16(0x4f0)]=new _0xcd88e(),this[_0x40ad16(0x438)]=new _0x5a339e(this[_0x40ad16(0x7b0)][_0x40ad16(0x672)][_0x40ad16(0x677)](),this[_0x40ad16(0x4f0)],_0xd1a7ff),this['signalingServer']=new _0x514348(this[_0x40ad16(0x7b0)][_0x40ad16(0x1f3)],this[_0x40ad16(0x7b0)]['clusterId'],this[_0x40ad16(0x7b0)][_0x40ad16(0x672)],'server',this[_0x40ad16(0x69e)]),this[_0x40ad16(0x88c)]=new _0xc8f2e(this[_0x40ad16(0x7b0)][_0x40ad16(0x672)]['getId'](),this[_0x40ad16(0x4f0)]),this['connectionPool']['addConnection'](this[_0x40ad16(0x438)]),this[_0x40ad16(0x88c)]['addConnection'](this[_0x40ad16(0x84a)]),this['configs']['mediator']['registerSystemSource'](this['connectionPool']);}[_0x13fde2(0x3df)](){const _0x4f127f=_0x13fde2;this['messageBuffer']['close'](),this[_0x4f127f(0x3da)]['forEach']((_0x3f11bf,_0x1ed9c9)=>this['closeConnection'](_0x1ed9c9)),this[_0x4f127f(0x7b0)]['mediator']['unregisterSystemSource'](this[_0x4f127f(0x88c)]),this['connectionPool'][_0x4f127f(0x65d)](this[_0x4f127f(0x84a)]),this['connectionPool']['removeConnection'](this[_0x4f127f(0x438)]),this[_0x4f127f(0x88c)]['close'](),this['signalingServer'][_0x4f127f(0x3df)](),this[_0x4f127f(0x438)][_0x4f127f(0x3df)]();}async[_0x13fde2(0x6f8)](){const _0xddc0fa=_0x13fde2;await this[_0xddc0fa(0x84a)][_0xddc0fa(0x6d3)]();}async[_0x13fde2(0x1fd)](_0x503160,_0x180f7a=_0x488105[_0x13fde2(0x301)]){const _0x5416d0=_0x13fde2;if(this[_0x5416d0(0x3da)]['has'](_0x503160)){if(this[_0x5416d0(0x3da)]['get'](_0x503160)?.[_0x5416d0(0x4b1)]()===_0x488105['Optimization']&&_0x180f7a===_0x488105['Core'])return void this['connections'][_0x5416d0(0x556)](_0x503160)?.['setConnectionType'](_0x488105[_0x5416d0(0x301)]);throw new _0x46f718(_0x46f718[_0x5416d0(0x6b3)][_0x5416d0(0x7aa)],{'localId':this[_0x5416d0(0x7b0)]['localNode'][_0x5416d0(0x677)](),'remoteId':_0x503160});}const _0x35c853=new _0x3689e1(this[_0x5416d0(0x7b0)][_0x5416d0(0x89e)],this[_0x5416d0(0x7b0)][_0x5416d0(0x672)],_0x503160,this['iceServers'],_0x180f7a,this[_0x5416d0(0x708)][_0x5416d0(0x8b7)],this[_0x5416d0(0x708)][_0x5416d0(0x59f)],this[_0x5416d0(0x708)][_0x5416d0(0x229)]);this[_0x5416d0(0x3da)][_0x5416d0(0x599)](_0x503160,_0x35c853),this[_0x5416d0(0x438)][_0x5416d0(0x3d9)](_0x35c853),this['configs'][_0x5416d0(0x628)][_0x5416d0(0x4a0)](_0x35c853),this['configs']['mediator'][_0x5416d0(0x2e7)](_0x503160),await _0x35c853['connect']();}[_0x13fde2(0x476)](){return this['connectionGroup'];}['getConnection'](_0x11d965){const _0x5d8c13=_0x13fde2;if(!this[_0x5d8c13(0x3da)][_0x5d8c13(0x7f7)](_0x11d965))throw new _0x46f718(_0x46f718[_0x5d8c13(0x6b3)][_0x5d8c13(0x561)],{'localId':this[_0x5d8c13(0x7b0)]['localNode'][_0x5d8c13(0x677)](),'remoteId':_0x11d965});return this[_0x5d8c13(0x3da)][_0x5d8c13(0x556)](_0x11d965);}[_0x13fde2(0x6c0)](_0x59f3a2){const _0x5923fb=_0x13fde2,_0x387855=Array[_0x5923fb(0x69c)](this['connections'][_0x5923fb(0x45b)]());return _0x59f3a2?_0x387855['filter'](_0x59f3a2):_0x387855;}async[_0x13fde2(0x49d)](_0x10935c){const _0x212a51=_0x13fde2,_0x3193f8=this['connections']['get'](_0x10935c);_0x3193f8&&_0x3193f8[_0x212a51(0x338)]()&&await _0x3193f8[_0x212a51(0x49d)]();}[_0x13fde2(0x367)](_0x43ad6d){const _0x36c576=_0x13fde2;if(_0x43ad6d['messageType']!==_0x1b694f['PeerConnection']||_0x43ad6d[_0x36c576(0x755)])try{this[_0x36c576(0x438)][_0x36c576(0x232)](_0x43ad6d);}catch(_0x4661b9){if(_0x4661b9 instanceof _0x37b0db)return;throw _0x4661b9;}else this['connectionPool'][_0x36c576(0x232)](_0x43ad6d);}async['handlePeerConnectionSystemEvents'](_0x5b7c7e){const _0x770dec=_0x13fde2;switch(_0x5b7c7e[_0x770dec(0x6dd)][_0x770dec(0x5bb)]){case _0x4a44e8['Disconnect']:case _0x4a44e8['Stats']:case _0x4a44e8[_0x770dec(0x573)]:return;}if(!_0x5b7c7e['destinationIds']||0x1!==_0x5b7c7e[_0x770dec(0x30a)]['length'])throw new _0x46f718(_0x46f718[_0x770dec(0x6b3)][_0x770dec(0x1a4)],{'message':_0x770dec(0x1b8),'event':_0x5b7c7e});if(_0x5b7c7e['destinationIds'][0x0]!==this['configs']['localNode'][_0x770dec(0x677)]())throw new _0x46f718(_0x46f718[_0x770dec(0x6b3)][_0x770dec(0x1a4)],{'message':_0x770dec(0x203),'event':_0x5b7c7e});if(!this[_0x770dec(0x3da)]['has'](_0x5b7c7e[_0x770dec(0x8a3)])){let _0x1e33a0=_0x488105[_0x770dec(0x301)];if(!(this['isOffer'](_0x5b7c7e[_0x770dec(0x6dd)])||this['isIceCandidate'](_0x5b7c7e['content'])||this[_0x770dec(0x89b)](_0x5b7c7e[_0x770dec(0x6dd)])))return;_0x1e33a0=_0x5b7c7e[_0x770dec(0x6dd)][_0x770dec(0x6dc)],await this[_0x770dec(0x1fd)](_0x5b7c7e[_0x770dec(0x8a3)],_0x1e33a0);}const _0x2a2d8f=this['connections'][_0x770dec(0x556)](_0x5b7c7e[_0x770dec(0x8a3)]);await _0x2a2d8f[_0x770dec(0x507)](_0x5b7c7e);}['handleRemediationSystemEvents'](_0x112a18){const _0x4919ad=_0x13fde2;if(_0x112a18[_0x4919ad(0x6dd)][_0x4919ad(0x5bb)]===_0x38e29f[_0x4919ad(0x707)]){if(_0x112a18['content']['targetId']===this[_0x4919ad(0x7b0)]['localNode'][_0x4919ad(0x677)]())return void this[_0x4919ad(0x3da)]['forEach'](_0x4f1644=>_0x4f1644['handleRemediationSystemEvents'](_0x112a18));this[_0x4919ad(0x3da)][_0x4919ad(0x556)](_0x112a18[_0x4919ad(0x6dd)][_0x4919ad(0x8a6)])?.['handleRemediationSystemEvents'](_0x112a18);}}[_0x13fde2(0x796)]({content:_0x3badd2}){const _0x2a6524=_0x13fde2;_0x3badd2[_0x2a6524(0x5bb)]===_0xee2b42[_0x2a6524(0x6f6)]&&this[_0x2a6524(0x1d2)](_0x3badd2['id']);}[_0x13fde2(0x46f)](){const _0x99eca=_0x13fde2,_0x29d382=Array[_0x99eca(0x69c)](this[_0x99eca(0x3da)][_0x99eca(0x45b)]())[_0x99eca(0x633)]((_0x407adf,_0x4a2e92)=>_0x407adf+_0x4a2e92[_0x99eca(0x3cf)](),0x0);return _0x29d382<_0x3ed4fe?Promise['resolve'](_0x29d382):new Promise(_0x584b7c=>{const _0x457a8d=setInterval(()=>{const _0x2a5487=a0_0x2ee0,_0x38487b=Array[_0x2a5487(0x69c)](this[_0x2a5487(0x3da)][_0x2a5487(0x45b)]())[_0x2a5487(0x633)]((_0x488c5e,_0x36ea9d)=>_0x488c5e+_0x36ea9d[_0x2a5487(0x3cf)](),0x0);_0x38487b<_0x3ed4fe&&(clearInterval(_0x457a8d),_0x584b7c(_0x38487b));},0x3e8);});}['closeConnection'](_0xfa540c){const _0x49c8ea=_0x13fde2,_0x10b3a7=this[_0x49c8ea(0x3da)][_0x49c8ea(0x556)](_0xfa540c);_0x10b3a7&&(this[_0x49c8ea(0x7b0)][_0x49c8ea(0x628)]['unregisterRemoteNode'](_0xfa540c),this['configs'][_0x49c8ea(0x628)][_0x49c8ea(0x3b6)](_0x10b3a7),_0x10b3a7 instanceof _0x3689e1&&this[_0x49c8ea(0x438)]['removeConnection'](_0x10b3a7),_0x10b3a7['close'](),this[_0x49c8ea(0x3da)][_0x49c8ea(0x6fd)](_0xfa540c));}[_0x13fde2(0x745)](_0x32c6f6){const _0x1a9de1=_0x13fde2;return _0x32c6f6['type']===_0x4a44e8[_0x1a9de1(0x49c)];}[_0x13fde2(0x89b)](_0x50f023){const _0x3c8573=_0x13fde2;return _0x50f023[_0x3c8573(0x5bb)]===_0x4a44e8[_0x3c8573(0x247)];}[_0x13fde2(0x17f)](_0x59c760){const _0x4354db=_0x13fde2;return _0x59c760['type']===_0x4a44e8[_0x4354db(0x369)];}}!function(_0x1263bc){const _0x36dde6=_0x13fde2;_0x1263bc[_0x1263bc[_0x36dde6(0x34f)]=0x0]='SubscribeMediaStream',_0x1263bc[_0x1263bc['UpdateMediaStream']=0x1]=_0x36dde6(0x6b7),_0x1263bc[_0x1263bc[_0x36dde6(0x453)]=0x2]=_0x36dde6(0x453),_0x1263bc[_0x1263bc[_0x36dde6(0x7fc)]=0x3]=_0x36dde6(0x7fc),_0x1263bc[_0x1263bc[_0x36dde6(0x40e)]=0x4]='RestartNeedMediaStream',_0x1263bc[_0x1263bc['CanProvideMediaStream']=0x5]=_0x36dde6(0x5d7),_0x1263bc[_0x1263bc[_0x36dde6(0x23c)]=0x6]=_0x36dde6(0x23c),_0x1263bc[_0x1263bc['MediaStreamUnavailable']=0x7]=_0x36dde6(0x217);}(_0x3cab81||(_0x3cab81={}));const _0x52d5d9=require('rxjs');class _0x106e47 extends _0x454bb4{[_0x13fde2(0x262)];['jobs']=new Map();[_0x13fde2(0x2c8)]=new Map();[_0x13fde2(0x60f)]=new Map();[_0x13fde2(0x487)];constructor(_0x2e8d38,_0x215cc3,_0x13bdf5){const _0x87f7e=_0x13fde2;super(_0x2e8d38,_0x215cc3),this[_0x87f7e(0x262)]=_0x13bdf5;}[_0x13fde2(0x1fe)](){const _0x2959c2=_0x13fde2;return _0x15de5e[_0x2959c2(0x671)][_0x2959c2(0x1e8)];}[_0x13fde2(0x20c)](){const _0x2f00d0=_0x13fde2;this[_0x2f00d0(0x487)]=this[_0x2f00d0(0x77e)]((_0x3afea3,_0x275fc6)=>{const _0x2e9737=_0x2f00d0;if(_0x3d0f37[_0x2e9737(0x6c1)](_0x2582bf[_0x2e9737(0x53d)],_0x2e9737(0x59e),_0x3afea3,_0x275fc6,this[_0x2e9737(0x262)][_0x2e9737(0x521)]()),!(_0x275fc6 instanceof File)){if(!_0x275fc6)throw new _0x46f718(_0x46f718[_0x2e9737(0x6b3)][_0x2e9737(0x37d)]);return this['isBidResponse'](_0x275fc6)?this[_0x2e9737(0x81a)](_0x3afea3,_0x275fc6['id'],_0x275fc6):this[_0x2e9737(0x4b9)](_0x275fc6)?(_0x3d0f37[_0x2e9737(0x6c1)](_0x2582bf['Jobs'],_0x2e9737(0x21c)+_0x275fc6['id']+_0x2e9737(0x766),_0x275fc6['result']),void this[_0x2e9737(0x482)](_0x275fc6['id'],_0x275fc6)):this[_0x2e9737(0x661)](_0x275fc6)?(_0x3d0f37[_0x2e9737(0x6c1)](_0x2582bf['Jobs'],_0x2e9737(0x21c)+_0x275fc6['id']+_0x2e9737(0x764),_0x275fc6[_0x2e9737(0x571)]),void this[_0x2e9737(0x182)](_0x275fc6['id'],_0x275fc6)):void(this[_0x2e9737(0x702)](_0x275fc6)&&this[_0x2e9737(0x210)](_0x275fc6['id'],_0x275fc6['message']));}});}[_0x13fde2(0x416)](){const _0x2e7b31=_0x13fde2;this[_0x2e7b31(0x84d)](),this['open']();}[_0x13fde2(0x85f)](){const _0xb6823e=_0x13fde2;this[_0xb6823e(0x84d)](),super['destroy']();}[_0x13fde2(0x84d)](){const _0x2cecf1=_0x13fde2;this[_0x2cecf1(0x754)][_0x2cecf1(0x84d)](),this['unsubscribeHandler']&&this[_0x2cecf1(0x487)]();}[_0x13fde2(0x3df)](){const _0x15bcd2=_0x13fde2;this[_0x15bcd2(0x51a)]?.['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x15bcd2(0x67b)],'content':{'type':_0x85b357[_0x15bcd2(0x7c9)],'label':this[_0x15bcd2(0x380)]}});}async['createJob'](_0x3c5537){const _0x28e640=_0x13fde2,{id:_0x200752,parameters:_0x4e05ef,jobType:_0x5236c0}=_0x3c5537,_0x122f16={'id':_0x200752,'jobType':_0x5236c0,'parameters':_0x4e05ef,'status':_0x15de5e[_0x28e640(0x33c)][_0x28e640(0x610)],'created':new Date(),'updated':new Date()};if(this[_0x28e640(0x754)]['has'](_0x122f16['id']))throw new _0x3fd286(_0x12afa6[_0x28e640(0x222)],_0x28e640(0x62f)+_0x122f16['id']+'\x20already\x20exists.');_0x122f16[_0x28e640(0x2ae)]=new Date(),_0x122f16[_0x28e640(0x4f2)]=new Date();const _0x24b252=new _0x52d5d9[(_0x28e640(0x327))]();this['jobs'][_0x28e640(0x599)](_0x122f16['id'],_0x122f16),this[_0x28e640(0x2c8)][_0x28e640(0x599)](_0x122f16['id'],_0x24b252);try{const _0x392323={'id':_0x122f16['id'],'jobPhase':_0x14139b[_0x28e640(0x24e)],'jobType':_0x122f16[_0x28e640(0x3eb)]},_0x3e27c2=0x3;let _0x47004f=0x0;const _0x4af52f=async()=>{const _0x1484e5=_0x28e640;_0x47004f+=0x1;try{_0x3d0f37[_0x1484e5(0x6c1)](_0x2582bf['Jobs'],_0x1484e5(0x21c)+_0x122f16['id']+_0x1484e5(0x529)+_0x47004f+'.',this[_0x1484e5(0x262)][_0x1484e5(0x521)]()),await this['send'](_0x392323),_0x122f16[_0x1484e5(0x4f2)]=new Date(),this[_0x1484e5(0x754)][_0x1484e5(0x599)](_0x122f16['id'],_0x122f16),this[_0x1484e5(0x233)](_0x122f16['id']);}catch(_0x5505dd){_0x47004f<_0x3e27c2?(_0x3d0f37[_0x1484e5(0x8a0)](_0x1484e5(0x3e0)+_0x47004f+_0x1484e5(0x1ab)+_0x122f16['id']+_0x1484e5(0x778),{'nodeId':this[_0x1484e5(0x27e)]['getId'](),'nodeType':this[_0x1484e5(0x27e)][_0x1484e5(0x5bb)],'data':{'job':_0x122f16,'attempts':_0x47004f,'maxRetries':_0x3e27c2}}),setTimeout(_0x4af52f,0x3e8)):(_0x122f16[_0x1484e5(0x1ca)]=_0x15de5e[_0x1484e5(0x33c)][_0x1484e5(0x761)],_0x122f16[_0x1484e5(0x4f2)]=new Date(),this['jobs'][_0x1484e5(0x599)](_0x122f16['id'],_0x122f16),_0x3d0f37[_0x1484e5(0x377)]('Failed\x20to\x20send\x20job\x20'+_0x122f16['id']+'\x20after\x20'+_0x3e27c2+_0x1484e5(0x54d),{'nodeId':this['owner'][_0x1484e5(0x677)](),'nodeType':this['owner']['type'],'data':{'job':_0x122f16,'attempts':_0x47004f,'maxRetries':_0x3e27c2,'error':_0x5505dd}}));}};_0x4af52f();const {id:_0x1a849d}=_0x122f16;this[_0x28e640(0x87a)](_0x28e640(0x21c)+_0x122f16['id']+_0x28e640(0x32c),{'jobId':_0x1a849d}),_0x122f16[_0x28e640(0x4f2)]=new Date();}catch(_0x3a0d19){_0x122f16['status']=_0x15de5e[_0x28e640(0x33c)][_0x28e640(0x761)],_0x3d0f37[_0x28e640(0x377)](_0x28e640(0x202)+_0x122f16['id']+':',{'nodeId':this[_0x28e640(0x27e)][_0x28e640(0x677)](),'nodeType':this['owner'][_0x28e640(0x5bb)],'data':{'job':_0x122f16,'error':_0x3a0d19}});}return _0x24b252[_0x28e640(0x762)]();}[_0x13fde2(0x6a9)](_0x28d3ce){const _0x3b87ae=_0x13fde2,_0x560d57=this[_0x3b87ae(0x754)][_0x3b87ae(0x556)](_0x28d3ce);if(!_0x560d57)throw new _0x3fd286(_0x12afa6[_0x3b87ae(0x423)],_0x3b87ae(0x62f)+_0x28d3ce+_0x3b87ae(0x28b));return{'id':_0x560d57['id'],'jobType':_0x560d57[_0x3b87ae(0x3eb)],'status':_0x560d57['status'],'parameters':_0x560d57[_0x3b87ae(0x53b)]};}['getJobs'](){const _0x2a67bb=_0x13fde2;return Array['from'](this['jobs'][_0x2a67bb(0x45b)]())[_0x2a67bb(0x3d2)](_0x196d2f=>this[_0x2a67bb(0x6a9)](_0x196d2f['id']));}async[_0x13fde2(0x46b)](_0x5eb286,_0x346e52){const _0x15bb99=_0x13fde2,_0x450393=this[_0x15bb99(0x754)][_0x15bb99(0x556)](_0x5eb286);if(!_0x450393)throw new _0x3fd286(_0x12afa6['JobDispatcherJobNotFound'],'Job\x20with\x20id\x20'+_0x5eb286+'\x20not\x20found.');_0x450393[_0x15bb99(0x53b)]=_0x346e52,_0x450393[_0x15bb99(0x4f2)]=new Date(),this[_0x15bb99(0x754)][_0x15bb99(0x599)](_0x5eb286,_0x450393);}async[_0x13fde2(0x4ee)](_0x480b6b){const _0x19cbf5=_0x13fde2;if(!this[_0x19cbf5(0x754)][_0x19cbf5(0x6fd)](_0x480b6b))throw new _0x3fd286(_0x12afa6[_0x19cbf5(0x423)],_0x19cbf5(0x62f)+_0x480b6b+_0x19cbf5(0x28b));const _0x3a7510=this[_0x19cbf5(0x2c8)][_0x19cbf5(0x556)](_0x480b6b);if(!_0x3a7510)throw new _0x46f718(_0x46f718[_0x19cbf5(0x6b3)][_0x19cbf5(0x325)]);_0x3a7510[_0x19cbf5(0x172)](),this[_0x19cbf5(0x2c8)]['delete'](_0x480b6b),_0x3d0f37['log'](_0x2582bf[_0x19cbf5(0x53d)],_0x19cbf5(0x21c)+_0x480b6b+_0x19cbf5(0x6f2));}[_0x13fde2(0x81a)](_0x4bfae3,_0x400b65,_0x281ac6){const _0x5362a6=_0x13fde2,_0x380f69=this['jobBids'][_0x5362a6(0x556)](_0x400b65)??new Map();_0x380f69[_0x5362a6(0x599)](_0x4bfae3,[_0x281ac6,Date[_0x5362a6(0x321)]()]),this[_0x5362a6(0x60f)]['set'](_0x400b65,_0x380f69),this[_0x5362a6(0x35d)](_0x400b65);}[_0x13fde2(0x233)](_0x267fa3){const _0xde7a5=_0x13fde2,_0xaf655c=this[_0xde7a5(0x754)][_0xde7a5(0x556)](_0x267fa3);if(!_0xaf655c)throw new _0x46f718(_0x46f718[_0xde7a5(0x6b3)][_0xde7a5(0x423)]);const _0x2a3098=setTimeout(()=>this[_0xde7a5(0x35d)](_0x267fa3,!0x0),0xbb8);_0xaf655c['responseTimeout']=_0x2a3098,this[_0xde7a5(0x754)][_0xde7a5(0x599)](_0xaf655c['id'],_0xaf655c);}[_0x13fde2(0x35d)](_0x2226a3,_0x46e0ac=!0x1){const _0x35e11e=_0x13fde2,_0x392906=this[_0x35e11e(0x262)][_0x35e11e(0x521)](),_0x43e0f7=Array['from'](_0x392906[_0x35e11e(0x45b)]())[_0x35e11e(0x559)](_0x471bbf=>_0x471bbf[_0x35e11e(0x5bb)]===_0x15de5e[_0x35e11e(0x76b)][_0x35e11e(0x466)]),_0x19a4d4=this['jobBids'][_0x35e11e(0x556)](_0x2226a3)??new Map();if(!_0x46e0ac&&(!_0x19a4d4||_0x19a4d4[_0x35e11e(0x411)]<_0x43e0f7[_0x35e11e(0x24c)]))return;const _0x3718c0=this[_0x35e11e(0x754)]['get'](_0x2226a3);if(!_0x3718c0)throw new _0x46f718(_0x46f718[_0x35e11e(0x6b3)]['JobDispatcherJobNotFound']);if(clearTimeout(_0x3718c0[_0x35e11e(0x813)]),_0x3d0f37['log'](_0x2582bf[_0x35e11e(0x53d)],_0x35e11e(0x21c)+_0x3718c0['id']+_0x35e11e(0x763),_0x19a4d4,this['jobBids']),!_0x19a4d4||0x0===_0x19a4d4['size']){_0x3718c0[_0x35e11e(0x1ca)]=_0x15de5e[_0x35e11e(0x33c)][_0x35e11e(0x761)],_0x3718c0[_0x35e11e(0x4f2)]=new Date(),_0x3d0f37['error'](_0x35e11e(0x21c)+_0x3718c0['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this['owner']['getId'](),'nodeType':this['owner'][_0x35e11e(0x5bb)],'data':{'job':_0x3718c0,'responses':_0x19a4d4}});const _0x3f7966=this[_0x35e11e(0x2c8)]['get'](_0x2226a3);if(!_0x3f7966)throw new _0x46f718(_0x46f718[_0x35e11e(0x6b3)][_0x35e11e(0x325)]);const _0x4e5dcf=_0x35e11e(0x2d5),_0x3c371f={'id':_0x3718c0['id'],'status':_0x3718c0[_0x35e11e(0x1ca)],'message':_0x4e5dcf};return _0x3f7966['next'](_0x3c371f),_0x3f7966[_0x35e11e(0x172)](),this['jobs'][_0x35e11e(0x599)](_0x3718c0['id'],_0x3718c0),void this[_0x35e11e(0x60f)][_0x35e11e(0x6fd)](_0x2226a3);}const {nodeId:_0x5f3855,response:_0x268b0b}=this[_0x35e11e(0x77f)](_0x3718c0['id'],_0x19a4d4);_0x3718c0['status']=_0x15de5e[_0x35e11e(0x33c)][_0x35e11e(0x354)],_0x3718c0[_0x35e11e(0x4f2)]=new Date(),_0x3d0f37['log'](_0x2582bf[_0x35e11e(0x53d)],'Job\x20'+_0x3718c0['id']+_0x35e11e(0x231)+_0x5f3855+_0x35e11e(0x711),_0x268b0b);const _0x541e42={'id':_0x3718c0['id'],'jobType':_0x3718c0[_0x35e11e(0x3eb)],'jobPhase':_0x14139b[_0x35e11e(0x443)],'parameters':_0x3718c0[_0x35e11e(0x53b)]};this[_0x35e11e(0x232)](_0x541e42,[_0x5f3855]),this[_0x35e11e(0x754)]['set'](_0x3718c0['id'],_0x3718c0),this[_0x35e11e(0x60f)]['delete'](_0x2226a3);}['evaluateBids'](_0x4215a7,_0x418018){const _0x4e83b0=_0x13fde2;let _0x35bb18;const _0x27b8f4=Array['from'](_0x418018['entries']())[_0x4e83b0(0x559)](([,[_0x3a93ee]])=>_0x3a93ee[_0x4e83b0(0x828)]);if(_0x35bb18=_0x27b8f4['length']>0x0?Array[_0x4e83b0(0x69c)](_0x418018['entries']())[_0x4e83b0(0x4d2)]((_0x18529a,_0x1ad284)=>_0x1ad284[0x1][0x0][_0x4e83b0(0x675)]-_0x18529a[0x1][0x0]['bid']):Array['from'](_0x418018[_0x4e83b0(0x78d)]())['sort']((_0x12c624,_0x170848)=>_0x12c624[0x1][0x0][_0x4e83b0(0x854)]-_0x170848[0x1][0x0][_0x4e83b0(0x854)]),0x1===_0x35bb18['length'])return{'nodeId':_0x35bb18[0x0][0x0],'response':_0x35bb18[0x0][0x1][0x0]};let _0x4e912c;if(_0x4e912c=_0x27b8f4[_0x4e83b0(0x24c)]>0x0?(_0x2c6756=>{const _0x52b758=_0x4e83b0,_0x1c7ebb=_0x2c6756[0x0][0x1][0x0][_0x52b758(0x675)];return _0x2c6756[_0x52b758(0x559)](([,[_0x3ab13a]])=>_0x3ab13a[_0x52b758(0x675)]===_0x1c7ebb);})(_0x35bb18):(_0x3238af=>{const _0x1dfcc3=_0x4e83b0,_0x5a11fa=_0x3238af[0x0][0x1][0x0][_0x1dfcc3(0x854)];return _0x3238af['filter'](([,[_0x4068c0]])=>_0x4068c0[_0x1dfcc3(0x854)]===_0x5a11fa);})(_0x35bb18),0x1===_0x4e912c[_0x4e83b0(0x24c)])return{'nodeId':_0x4e912c[0x0][0x0],'response':_0x4e912c[0x0][0x1][0x0]};const _0x9771ee=this[_0x4e83b0(0x754)][_0x4e83b0(0x556)](_0x4215a7);if(!_0x9771ee)throw new _0x46f718(_0x46f718[_0x4e83b0(0x6b3)][_0x4e83b0(0x423)]);const _0x30951b=_0x9771ee[_0x4e83b0(0x2ae)][_0x4e83b0(0x288)](),_0x4842ad=_0x4e912c[_0x4e83b0(0x3d2)](([_0x5f1e65,[,_0xf22c64]])=>({'nodeId':_0x5f1e65,'rtt':_0xf22c64-_0x30951b})),_0x3508b=Math[_0x4e83b0(0x8bc)](..._0x4842ad[_0x4e83b0(0x3d2)](({rtt:_0x2bcd7a})=>_0x2bcd7a)),_0x58538c=_0x4842ad[_0x4e83b0(0x1a6)](({rtt:_0x1174a3})=>_0x1174a3===_0x3508b),[,[_0x240721]]=_0x4e912c['find'](([_0x55b16e])=>_0x55b16e===_0x58538c[_0x4e83b0(0x6d4)]);return{'nodeId':_0x58538c[_0x4e83b0(0x6d4)],'response':_0x240721};}['evaluatePartialJob'](_0x125f0a,_0x2c3558){const _0x402403=_0x13fde2,_0x38353b=this[_0x402403(0x754)]['get'](_0x125f0a);if(!_0x38353b)throw new _0x46f718(_0x46f718[_0x402403(0x6b3)]['JobDispatcherJobNotFound']);const _0xd714af=this['jobObservers'][_0x402403(0x556)](_0x125f0a);if(!_0xd714af)throw new _0x46f718(_0x46f718[_0x402403(0x6b3)][_0x402403(0x325)]);const _0x4427e8={'id':_0x38353b['id'],'status':_0x15de5e[_0x402403(0x33c)][_0x402403(0x29f)],'result':_0x2c3558[_0x402403(0x571)]};_0xd714af[_0x402403(0x319)](_0x4427e8);}[_0x13fde2(0x182)](_0x23a2ee,_0x3336ff){const _0x10d80a=_0x13fde2,_0x576148=this['jobs']['get'](_0x23a2ee);if(!_0x576148)throw new _0x46f718(_0x46f718['codes'][_0x10d80a(0x423)]);const _0x37ea3b=this[_0x10d80a(0x2c8)][_0x10d80a(0x556)](_0x23a2ee);if(!_0x37ea3b)throw new _0x46f718(_0x46f718['codes'][_0x10d80a(0x325)]);_0x576148[_0x10d80a(0x1ca)]=_0x15de5e[_0x10d80a(0x33c)][_0x10d80a(0x4e2)];const _0x16b55d={'id':_0x576148['id'],'status':_0x576148[_0x10d80a(0x1ca)],'result':_0x3336ff[_0x10d80a(0x571)]};_0x37ea3b['next'](_0x16b55d),_0x37ea3b['complete'](),this[_0x10d80a(0x2c8)][_0x10d80a(0x6fd)](_0x23a2ee),this[_0x10d80a(0x87a)](_0x10d80a(0x21c)+_0x23a2ee+_0x10d80a(0x79f),{'jobId':_0x23a2ee});}[_0x13fde2(0x210)](_0x55086b,_0x38fc71){const _0x424630=_0x13fde2,_0x9ca6c5=this[_0x424630(0x754)][_0x424630(0x556)](_0x55086b);if(!_0x9ca6c5)throw new _0x46f718(_0x46f718[_0x424630(0x6b3)][_0x424630(0x423)]);const _0xc967c5=this[_0x424630(0x2c8)][_0x424630(0x556)](_0x55086b);if(!_0xc967c5)throw new _0x46f718(_0x46f718[_0x424630(0x6b3)]['JobDispatcherObserverNotFound']);_0x9ca6c5[_0x424630(0x1ca)]=_0x15de5e[_0x424630(0x33c)]['Failed'];const _0x531852={'id':_0x9ca6c5['id'],'status':_0x9ca6c5[_0x424630(0x1ca)],'message':_0x38fc71};_0xc967c5[_0x424630(0x319)](_0x531852),_0xc967c5[_0x424630(0x172)](),this[_0x424630(0x2c8)][_0x424630(0x6fd)](_0x55086b),this[_0x424630(0x87a)](_0x424630(0x21c)+_0x55086b+_0x424630(0x5f9),{'jobId':_0x55086b});}[_0x13fde2(0x87a)](_0xa12155,{jobId:_0x2540df}){const _0x3196d8=_0x13fde2,_0x5cc267={'jobId':_0x2540df,'mistletIds':Array['from'](this[_0x3196d8(0x262)][_0x3196d8(0x521)]()[_0x3196d8(0x45b)]())[_0x3196d8(0x559)](_0x5046c0=>_0x5046c0[_0x3196d8(0x5bb)]===_0x15de5e['NodeType'][_0x3196d8(0x466)])[_0x3196d8(0x3d2)](_0x3d1341=>_0x3d1341[_0x3196d8(0x677)]())};_0x3d0f37[_0x3196d8(0x87a)](_0xa12155,{'nodeId':this[_0x3196d8(0x7d1)](),'nodeType':this[_0x3196d8(0x27e)][_0x3196d8(0x5bb)],'data':_0x5cc267}),_0x3d0f37[_0x3196d8(0x6c1)](_0x2582bf[_0x3196d8(0x53d)],_0xa12155,_0x5cc267);}[_0x13fde2(0x331)](_0x478950){const _0x3599ad=_0x13fde2,{jobPhase:_0x4ce01d,available:_0xf7387d,bid:_0x996408}=_0x478950;return _0x4ce01d===_0x14139b[_0x3599ad(0x18c)]&&void 0x0!==_0xf7387d&&void 0x0!==_0x996408;}[_0x13fde2(0x4b9)](_0x2d34fb){const {jobPhase:_0x4736de,result:_0x16ca4b}=_0x2d34fb;return _0x4736de===_0x14139b['PartialResult']&&void 0x0!==_0x16ca4b;}['isResultResponse'](_0x140587){const {jobPhase:_0x2bc26d,result:_0x5b756d}=_0x140587;return _0x2bc26d===_0x14139b['Result']&&void 0x0!==_0x5b756d;}[_0x13fde2(0x702)](_0x498d58){const _0x3346be=_0x13fde2,{jobPhase:_0x75363d,message:_0x3409c0}=_0x498d58;return _0x75363d===_0x14139b[_0x3346be(0x761)]&&void 0x0!==_0x3409c0&&_0x3346be(0x28d)==typeof _0x3409c0;}}var _0x1ff239,_0x723958;!function(_0x511876){const _0x5b5a25=_0x13fde2;_0x511876[_0x5b5a25(0x466)]=_0x5b5a25(0x6be),_0x511876[_0x5b5a25(0x7d2)]='data-collection',_0x511876[_0x5b5a25(0x838)]=_0x5b5a25(0x25c),_0x511876['Answer']=_0x5b5a25(0x58e);}(_0x1ff239||(_0x1ff239={})),function(_0x1e276b){const _0x1a7db6=_0x13fde2;_0x1e276b[_0x1a7db6(0x351)]=_0x1a7db6(0x5b4),_0x1e276b[_0x1a7db6(0x274)]=_0x1a7db6(0x7c8),_0x1e276b[_0x1a7db6(0x447)]=_0x1a7db6(0x35b),_0x1e276b['SentenceSplitter']=_0x1a7db6(0x652),_0x1e276b[_0x1a7db6(0x2d6)]=_0x1a7db6(0x47e),_0x1e276b[_0x1a7db6(0x2de)]=_0x1a7db6(0x44e),_0x1e276b[_0x1a7db6(0x55e)]=_0x1a7db6(0x3c3),_0x1e276b['KeyValueDatabase']=_0x1a7db6(0x5f2),_0x1e276b['VectorDatabase']=_0x1a7db6(0x632),_0x1e276b[_0x1a7db6(0x60e)]=_0x1a7db6(0x586),_0x1e276b[_0x1a7db6(0x838)]='prompt',_0x1e276b[_0x1a7db6(0x89c)]=_0x1a7db6(0x864);}(_0x723958||(_0x723958={}));class _0x3bcf6e{static [_0x13fde2(0x8ab)];constructor(){}static[_0x13fde2(0x48f)](){const _0x1837d1=_0x13fde2;return _0x3bcf6e[_0x1837d1(0x8ab)]||(_0x3bcf6e[_0x1837d1(0x8ab)]=new _0x3bcf6e()),_0x3bcf6e['instance'];}async[_0x13fde2(0x36b)](_0x185206,_0x4f738e){const _0x163174=_0x13fde2,_0x219b7e=await(0x0,_0x5b71f3[_0x163174(0x592)])((0x0,_0x5b71f3[_0x163174(0x4d0)])(_0x2e0290['getFirestore'](),_0x163174(0x75d)+_0x185206+'/resources/generative-ai-workflow/items/'+_0x4f738e)),_0x5498fe=await this[_0x163174(0x7b7)](_0x185206),_0x4e5cb8=await this[_0x163174(0x265)](_0x185206),_0x16db7f=await this[_0x163174(0x5b0)](_0x185206);if(!_0x219b7e[_0x163174(0x80e)]())throw new _0x46f718(_0x46f718[_0x163174(0x6b3)][_0x163174(0x4ae)]);return this[_0x163174(0x687)](_0x219b7e,_0x5498fe,_0x4e5cb8,_0x16db7f);}[_0x13fde2(0x687)](_0x1c0333,_0x107202,_0x2c99,_0x1a7003){const _0x166a4b=_0x13fde2,_0x1d7a15=_0x1c0333[_0x166a4b(0x7e0)]();if(!_0x1d7a15)throw new _0x46f718(_0x46f718[_0x166a4b(0x6b3)][_0x166a4b(0x4ae)]);const _0x5889ad=this[_0x166a4b(0x66f)](_0x1d7a15['blocks'],_0x107202,_0x2c99);return{'id':_0x1c0333['id'],'modelsBucketId':_0x1d7a15[_0x166a4b(0x54c)],'blocks':_0x5889ad,'models':this[_0x166a4b(0x1f5)](_0x5889ad,_0x1a7003),'dataBucketIds':this[_0x166a4b(0x271)](_0x5889ad)};}[_0x13fde2(0x1f5)](_0x20ee26,_0xfd4d55){const _0x53397e=_0x13fde2,_0x156e8e=new Set();for(const _0x5554d8 of _0x20ee26)if(_0x5554d8[_0x53397e(0x5bb)]===_0x1ff239['Agent']&&_0x156e8e[_0x53397e(0x7bd)](_0x5554d8[_0x53397e(0x23f)]),_0x5554d8[_0x53397e(0x5bb)]===_0x1ff239[_0x53397e(0x7d2)]){for(const _0x4daaa6 of[..._0x5554d8[_0x53397e(0x405)],..._0x5554d8['retrieveBlocks']])_0x4daaa6['type']===_0x723958['Model']&&_0x156e8e['add'](_0x4daaa6['id']);}return Array[_0x53397e(0x69c)](_0x156e8e)[_0x53397e(0x3d2)](_0x1bd885=>{const _0x554087=_0xfd4d55['find'](_0x9f1560=>_0x9f1560['id']===_0x1bd885);return{'id':_0x554087['id'],'inputType':_0x554087['inputType'],'outputType':_0x554087['outputType'],'sourceUrl':_0x554087['sourceUrl']};});}['getWorkflowObjectStorageBuckets'](_0x51e10d){const _0x3c8175=_0x13fde2,_0x137a0d=new Set();for(const _0x3c4400 of _0x51e10d)if(_0x3c4400[_0x3c8175(0x5bb)]===_0x1ff239['DataCollection']){for(const _0x5df461 of[..._0x3c4400[_0x3c8175(0x405)],..._0x3c4400[_0x3c8175(0x8b3)]])_0x5df461['type']===_0x723958['ObjectStorageUpload']&&_0x137a0d[_0x3c8175(0x7bd)](_0x5df461['id']);}return Array[_0x3c8175(0x69c)](_0x137a0d);}[_0x13fde2(0x66f)](_0x2db1c4,_0x158b72,_0x53d623){const _0x44033c=_0x13fde2;return _0x2db1c4[_0x44033c(0x3d2)](_0x5c8c99=>{const _0x4c092a=_0x44033c;switch(_0x5c8c99[_0x4c092a(0x5bb)]){case _0x1ff239[_0x4c092a(0x466)]:const _0x1f3c08=_0x158b72[_0x4c092a(0x1a6)](_0x2e4ed6=>_0x2e4ed6['id']===_0x5c8c99['id']);if(!_0x1f3c08)throw new _0x46f718(_0x46f718[_0x4c092a(0x6b3)]['WorkflowInvalidBlockType'],{'block':_0x5c8c99});return{'type':_0x1f3c08[_0x4c092a(0x5bb)],'id':_0x1f3c08['id'],'uid':_0x5c8c99[_0x4c092a(0x454)],'instructions':_0x1f3c08[_0x4c092a(0x5da)],'temperature':_0x1f3c08[_0x4c092a(0x259)],'maxTokens':_0x1f3c08['maxTokens'],'modelId':_0x1f3c08[_0x4c092a(0x23f)],'links':_0x5c8c99[_0x4c092a(0x469)]};case _0x1ff239['DataCollection']:const _0x5b698c=_0x53d623['find'](_0x570a0e=>_0x570a0e['id']===_0x5c8c99['id']);if(!_0x5b698c)throw new _0x46f718(_0x46f718[_0x4c092a(0x6b3)][_0x4c092a(0x53f)],{'block':_0x5c8c99});return{'type':_0x5b698c[_0x4c092a(0x5bb)],'id':_0x5b698c['id'],'uid':_0x5c8c99[_0x4c092a(0x454)],'topK':_0x5b698c[_0x4c092a(0x496)],'minRelevance':_0x5b698c[_0x4c092a(0x6d0)],'contentSize':_0x5b698c[_0x4c092a(0x5b9)],'ingestBlocks':_0x5b698c[_0x4c092a(0x405)],'retrieveBlocks':_0x5b698c[_0x4c092a(0x8b3)],'links':_0x5c8c99[_0x4c092a(0x469)]};case _0x1ff239['Prompt']:return{'type':_0x1ff239['Prompt'],'id':_0x5c8c99['id'],'uid':_0x5c8c99[_0x4c092a(0x454)],'links':_0x5c8c99[_0x4c092a(0x469)]};case _0x1ff239['Answer']:return{'type':_0x1ff239[_0x4c092a(0x60d)],'id':_0x5c8c99['id'],'uid':_0x5c8c99[_0x4c092a(0x454)],'links':_0x5c8c99['links']};default:throw new _0x46f718(_0x46f718[_0x4c092a(0x6b3)][_0x4c092a(0x53f)],{'block':_0x5c8c99});}});}async[_0x13fde2(0x7b7)](_0x4b9a5b){const _0x46e191=_0x13fde2;return(await(0x0,_0x5b71f3[_0x46e191(0x6b8)])((0x0,_0x5b71f3[_0x46e191(0x419)])(_0x2e0290['getFirestore'](),_0x46e191(0x75d)+_0x4b9a5b+'/resources/generative-ai-agent/items')))['docs'][_0x46e191(0x3d2)](_0x393088=>{const _0xa6f064=_0x46e191,_0x13fafc=_0x393088['data']();return{'type':_0x1ff239[_0xa6f064(0x466)],'id':_0x393088['id'],'instructions':_0x13fafc[_0xa6f064(0x5da)],'temperature':_0x13fafc[_0xa6f064(0x259)],'maxTokens':_0x13fafc[_0xa6f064(0x305)],'modelId':_0x13fafc[_0xa6f064(0x23f)]};});}async[_0x13fde2(0x265)](_0x2c1f9e){const _0x142444=_0x13fde2;return(await(0x0,_0x5b71f3['getDocs'])((0x0,_0x5b71f3[_0x142444(0x419)])(_0x2e0290['getFirestore'](),_0x142444(0x75d)+_0x2c1f9e+_0x142444(0x30b))))['docs']['map'](_0x15fb36=>{const _0x59e624=_0x142444,_0x3cca1b=_0x15fb36['data']();return{'type':_0x1ff239[_0x59e624(0x7d2)],'id':_0x15fb36['id'],'topK':_0x3cca1b[_0x59e624(0x496)],'minRelevance':_0x3cca1b[_0x59e624(0x6d0)],'contentSize':_0x3cca1b[_0x59e624(0x5b9)],'ingestBlocks':_0x3cca1b[_0x59e624(0x405)],'retrieveBlocks':_0x3cca1b['retrieveBlocks']};});}async['getModels'](_0x2fd7cc){const _0x3037e3=_0x13fde2;return(await(0x0,_0x5b71f3[_0x3037e3(0x6b8)])((0x0,_0x5b71f3[_0x3037e3(0x419)])(_0x2e0290[_0x3037e3(0x85a)](),_0x3037e3(0x75d)+_0x2fd7cc+_0x3037e3(0x2ab))))[_0x3037e3(0x7bc)]['map'](_0x184a63=>{const _0x52431a=_0x3037e3,_0x2fd393=_0x184a63[_0x52431a(0x7e0)]();return{'id':_0x184a63['id'],'inputType':_0x2fd393[_0x52431a(0x589)]??_0x15de5e['GenerativeAIModelInputType'][_0x52431a(0x878)],'outputType':_0x2fd393[_0x52431a(0x1e4)]??_0x15de5e[_0x52431a(0x329)][_0x52431a(0x878)],'sourceUrl':_0x2fd393[_0x52431a(0x657)]};});}}const _0x5d63da=_0x3bcf6e['getInstance']();class _0x3c5b67 extends _0x106e47{[_0x13fde2(0x672)];['vendorId'];[_0x13fde2(0x40d)]=0x0;[_0x13fde2(0x8be)]=0x0;[_0x13fde2(0x57d)];constructor(_0x44eca8,_0xfbcbdb,_0x4536a7,_0x3ba39d){const _0x4f0354=_0x13fde2;super(_0x44eca8,_0xfbcbdb,_0x3ba39d),this[_0x4f0354(0x672)]=_0x44eca8,this['vendorId']=_0x4536a7,this[_0x4f0354(0x68f)]();}[_0x13fde2(0x85f)](){const _0x561f42=_0x13fde2;this[_0x561f42(0x57d)]&&(clearTimeout(this[_0x561f42(0x57d)]),delete this['debounceStats']),super[_0x561f42(0x85f)]();}['reset'](){const _0x2ff2d0=_0x13fde2;this[_0x2ff2d0(0x40d)]=0x0,this[_0x2ff2d0(0x8be)]=0x0,this[_0x2ff2d0(0x68f)](),super[_0x2ff2d0(0x416)]();}async['prompt'](_0x113800,_0x22cbaf){const _0x5ab505=_0x13fde2,_0x4f443e=await this[_0x5ab505(0x603)](_0x113800,_0x15de5e[_0x5ab505(0x694)]['Job'],_0x22cbaf);return new Promise((_0x1aaf07,_0x74f07f)=>{const _0x321b23=_0x5ab505;let _0x475a28;const _0x5f1685=_0x4f443e[_0x321b23(0x76e)]({'next':_0x364bee=>{const _0x45514a=_0x321b23;switch(_0x364bee[_0x45514a(0x1ca)]){case _0x15de5e[_0x45514a(0x33c)]['Completed']:const _0x1155d4=_0x364bee[_0x45514a(0x571)]['inputTokens']??0x0;this[_0x45514a(0x45d)](_0x113800,_0x1155d4),clearTimeout(_0x475a28),_0x1aaf07(_0x364bee['result']),_0x5f1685[_0x45514a(0x250)](),this[_0x45514a(0x40d)]+=0x1,this[_0x45514a(0x8be)]+=_0x1155d4,this[_0x45514a(0x68f)]();break;case _0x15de5e[_0x45514a(0x33c)][_0x45514a(0x761)]:clearTimeout(_0x475a28),_0x74f07f(new _0x46f718(_0x46f718[_0x45514a(0x6b3)][_0x45514a(0x7e4)],{'updatedJob':_0x364bee})),_0x5f1685[_0x45514a(0x250)](),this['sendStats']();}},'error':_0x1f6610=>{const _0x555a30=_0x321b23;clearTimeout(_0x475a28),_0x74f07f(new _0x46f718(_0x46f718[_0x555a30(0x6b3)]['GenerativeAIContextJobFailed'],{'err':_0x1f6610})),_0x5f1685['unsubscribe']();}});_0x475a28=setTimeout(()=>{const _0x4ec4d4=_0x321b23;_0x74f07f(new _0x46f718(_0x46f718[_0x4ec4d4(0x6b3)]['GenerativeAIContextJobTimeout'])),_0x5f1685[_0x4ec4d4(0x250)]();},_0x57a327);});}async*[_0x13fde2(0x40a)](_0x3d33e9,_0x2d5f63){const _0x3c0243=_0x13fde2,_0x153679=await this[_0x3c0243(0x603)](_0x3d33e9,_0x15de5e[_0x3c0243(0x694)][_0x3c0243(0x880)],_0x2d5f63);let _0x397958,_0xa90d7d,_0xe88aec=!0x1,_0x56dfa6=0x0;const _0x544780=[],_0x5196c8=new Map();let _0x4bf827=null;const _0x1f5540=()=>{_0x4bf827&&(_0x4bf827(),_0x4bf827=null);},_0x3c2f3a=_0x439018=>{const _0x56486a=_0x3c0243;_0xe88aec=!0x0,_0x1f5540(),_0x468d6a[_0x56486a(0x250)](),_0xa90d7d=_0x439018;},_0x468d6a=_0x153679[_0x3c0243(0x76e)]({'next':_0x1c1613=>{const _0xe4df4a=_0x3c0243;switch(_0x1c1613[_0xe4df4a(0x1ca)]){case _0x15de5e[_0xe4df4a(0x33c)]['Partial']:if(_0x1c1613[_0xe4df4a(0x571)]&&void 0x0!==_0x1c1613[_0xe4df4a(0x571)][_0xe4df4a(0x541)]){if(void 0x0===_0x1c1613[_0xe4df4a(0x571)][_0xe4df4a(0x568)])return void _0x3c2f3a(_0x46f718[_0xe4df4a(0x6b3)][_0xe4df4a(0x4fa)]);_0x56dfa6===_0x1c1613['result']['index']?(_0x544780[_0xe4df4a(0x875)](_0x1c1613['result']),_0x56dfa6++,((()=>{const _0x4e3922=_0xe4df4a;for(;_0x5196c8[_0x4e3922(0x7f7)](_0x56dfa6);)_0x544780[_0x4e3922(0x875)](_0x5196c8['get'](_0x544780[_0x4e3922(0x24c)])),_0x5196c8[_0x4e3922(0x6fd)](_0x544780[_0x4e3922(0x24c)]),_0x56dfa6++;})()),_0x1f5540(),_0xfbe6cc()):_0x5196c8[_0xe4df4a(0x599)](_0x1c1613['result']['index'],_0x1c1613[_0xe4df4a(0x571)]);}break;case _0x15de5e['JobStatus']['Completed']:const _0x19016a=_0x1c1613[_0xe4df4a(0x571)]['inputTokens']??0x0;this[_0xe4df4a(0x45d)](_0x3d33e9,_0x19016a),clearTimeout(_0x397958),_0x3c2f3a(),this[_0xe4df4a(0x40d)]+=0x1,this[_0xe4df4a(0x8be)]+=_0x19016a,this[_0xe4df4a(0x68f)]();break;case _0x15de5e[_0xe4df4a(0x33c)]['Failed']:clearTimeout(_0x397958),_0x3c2f3a(_0x46f718[_0xe4df4a(0x6b3)]['GenerativeAIContextJobFailed']),this[_0xe4df4a(0x68f)]();}},'error':_0x58ec97=>{const _0x191f36=_0x3c0243;clearTimeout(_0x397958),_0x3c2f3a(_0x46f718['codes'][_0x191f36(0x7e4)]);}}),_0x317f96=()=>{const _0x2cef77=_0x3c0243;_0x3c2f3a(_0x46f718[_0x2cef77(0x6b3)][_0x2cef77(0x193)]);},_0xfbe6cc=()=>{clearTimeout(_0x397958),_0x397958=setTimeout(_0x317f96,_0x57a327);};for(_0x397958=setTimeout(_0x317f96,_0x57a327);!_0xe88aec||_0x544780[_0x3c0243(0x24c)]>0x0;)_0x544780[_0x3c0243(0x24c)]>0x0?yield _0x544780['shift']():await new Promise(_0x137764=>_0x4bf827=_0x137764);if(_0xa90d7d)throw _0x3d0f37['error'](_0x3c0243(0x8a9),{'nodeId':this[_0x3c0243(0x672)][_0x3c0243(0x677)](),'nodeType':this[_0x3c0243(0x672)][_0x3c0243(0x5bb)]}),new _0x46f718(_0xa90d7d);}async[_0x13fde2(0x384)](){const _0x518f8c=_0x13fde2;return(await _0x5d63da[_0x518f8c(0x36b)](this[_0x518f8c(0x1f3)],this['label']))[_0x518f8c(0x1ea)];}['logServiceEvent'](_0x401e15,_0xc0133d){const _0x20cde2=_0x13fde2,_0x174232=this[_0x20cde2(0x380)],_0x4677fe=this['getOwnerId']();_0x3d0f37['logServiceEvent'](_0x33071f['GenerativeAIContext'],{'topic':_0x174232,'prompt':_0x401e15,'type':'prompt','nodeId':_0x4677fe,'tokenCount':_0xc0133d});}async[_0x13fde2(0x603)](_0x2a0f62,_0xa77b59,_0x29798a={}){const _0x12b03b=_0x13fde2,_0x424ac1={'id':_0x12b03b(0x834)+(0x0,_0x1575cc['v4'])(),'jobType':_0xa77b59,'parameters':{'prompt':_0x2a0f62,..._0x29798a},'status':_0x15de5e['JobStatus']['Pending']};return await this['createJob'](_0x424ac1);}[_0x13fde2(0x68f)](){const _0x186c69=_0x13fde2;this['debounceStats']&&clearTimeout(this[_0x186c69(0x57d)]),this[_0x186c69(0x57d)]=setTimeout(async()=>{const _0x47b2ff=_0x186c69;delete this['debounceStats'],this[_0x47b2ff(0x51a)]['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f['Content'],'content':{'type':_0x85b357['GenerativeAIContextStats'],'label':this[_0x47b2ff(0x380)],'stats':{'timestamp':Date[_0x47b2ff(0x321)](),'storage':0x0,'messagesSent':this[_0x47b2ff(0x502)],'messagesReceived':this[_0x47b2ff(0x835)],'bytesSent':this[_0x47b2ff(0x5f3)],'bytesReceived':this[_0x47b2ff(0x428)],'writes':0x0,'reads':0x0,'prompts':this[_0x47b2ff(0x40d)],'tokens':this[_0x47b2ff(0x8be)]}}});},0x1388);}}class _0x5dd605{static [_0x13fde2(0x8ab)];['jobQueue']=[];['isRunning']=!0x1;constructor(){}static[_0x13fde2(0x48f)](){const _0x2a8bfe=_0x13fde2;return _0x5dd605['instance']||(_0x5dd605[_0x2a8bfe(0x8ab)]=new _0x5dd605()),_0x5dd605[_0x2a8bfe(0x8ab)];}get['length'](){const _0x3a65a4=_0x13fde2;return this[_0x3a65a4(0x7df)]['length'];}[_0x13fde2(0x739)](){const _0x1c40a1=_0x13fde2;return!this[_0x1c40a1(0x1f2)];}[_0x13fde2(0x84d)](_0x5b1404){const _0x4e590d=_0x13fde2;_0x5b1404?this['jobQueue']=this[_0x4e590d(0x7df)][_0x4e590d(0x559)](_0xb4ae35=>_0xb4ae35[_0x4e590d(0x5d4)]!==_0x5b1404):(this[_0x4e590d(0x7df)]=[],this[_0x4e590d(0x1f2)]=!0x1);}[_0x13fde2(0x7bd)](_0x4fa436,_0x4072ac){const _0x4859a5=_0x13fde2;this[_0x4859a5(0x7df)]['push']({'callback':_0x4072ac,'ownerId':_0x4fa436}),this[_0x4859a5(0x1f1)]();}async[_0x13fde2(0x1f1)](){const _0x10f23c=_0x13fde2;if(!this['isRunning']){for(this[_0x10f23c(0x1f2)]=!0x0;this[_0x10f23c(0x7df)][_0x10f23c(0x24c)]>0x0;){const _0x12d0f2=this['jobQueue'][_0x10f23c(0x782)]();if(_0x12d0f2)try{await _0x12d0f2[_0x10f23c(0x3bd)]();}catch(_0x4534bc){}}this[_0x10f23c(0x1f2)]=!0x1;}}}const _0x569bf4=_0x5dd605['getInstance']();class _0x1ddfc4 extends _0x454bb4{[_0x13fde2(0x2e5)];[_0x13fde2(0x2c0)];['unsubscribeListener'];constructor(_0x38f6f7,_0x43028c,_0x1bb718,_0x285227){const _0xcec671=_0x13fde2;super(_0x38f6f7,_0x43028c),this[_0xcec671(0x2e5)]=_0x1bb718,this[_0xcec671(0x2c0)]=_0x285227;}['getContentType'](){const _0x15d53e=_0x13fde2;return _0x15de5e[_0x15d53e(0x671)]['Job'];}[_0x13fde2(0x20c)](){const _0x2256b3=_0x13fde2;this[_0x2256b3(0x413)]();}[_0x13fde2(0x3df)](){const _0x2a9ab0=_0x13fde2;this[_0x2a9ab0(0x51a)]?.[_0x2a9ab0(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f['Content'],'content':{'type':_0x85b357[_0x2a9ab0(0x1d8)],'label':this['label']}});}['reset'](){const _0x3283cd=_0x13fde2;this[_0x3283cd(0x713)]?.(),delete this[_0x3283cd(0x713)],this[_0x3283cd(0x20c)]();}[_0x13fde2(0x85f)](){const _0x51fba4=_0x13fde2;_0x569bf4['clear'](this[_0x51fba4(0x380)]),this['unsubscribeListener']?.(),delete this[_0x51fba4(0x713)],super[_0x51fba4(0x85f)]();}['isAvailable'](){return _0x569bf4['isAvailable']();}['getBid'](){return 0x1;}[_0x13fde2(0x8a7)](_0x47909e,_0x3c68e4,_0x36bb01){}[_0x13fde2(0x814)](_0x2637ea,_0x18430b){return _0x2637ea;}[_0x13fde2(0x525)](_0x52e611){const _0x1ae7fe=_0x13fde2;return this[_0x1ae7fe(0x2c0)][_0x1ae7fe(0x3b9)](_0x52e611,{});}['internalProcessJobStream'](_0x442825){return this['jobWorkerConnector']['processJobStream'](_0x442825,{});}[_0x13fde2(0x413)](){const _0x441b85=_0x13fde2;this[_0x441b85(0x713)]||(this[_0x441b85(0x713)]=this[_0x441b85(0x77e)]((_0x379c45,_0x368bb1)=>{const _0x3a2c53=_0x441b85;_0x3d0f37[_0x3a2c53(0x6c1)](_0x2582bf['Jobs'],_0x3a2c53(0x179),_0x368bb1),_0x368bb1 instanceof File||(this[_0x3a2c53(0x309)](_0x368bb1)?(_0x3d0f37[_0x3a2c53(0x6c1)](_0x2582bf[_0x3a2c53(0x53d)],'JobWorker:\x20Received\x20job\x20request',_0x368bb1),this['isAvailable']()?this[_0x3a2c53(0x6a7)](_0x368bb1['id'],_0x368bb1[_0x3a2c53(0x3eb)],_0x379c45):this[_0x3a2c53(0x572)](_0x368bb1['id'],_0x368bb1[_0x3a2c53(0x3eb)],_0x379c45)):this[_0x3a2c53(0x47b)](_0x368bb1)&&(_0x3d0f37['log'](_0x2582bf[_0x3a2c53(0x53d)],'JobWorker:\x20Received\x20job\x20attribution',_0x368bb1),_0x569bf4['add'](this[_0x3a2c53(0x380)],()=>this['handleJobAttribution'](_0x368bb1['id'],_0x368bb1,_0x379c45))));}));}[_0x13fde2(0x6a7)](_0x275375,_0x4d2c65,_0x12d2a4){const _0x4e82a3=_0x13fde2,_0x407011={'id':_0x275375,'jobType':_0x4d2c65,'jobPhase':_0x14139b[_0x4e82a3(0x18c)],'available':!0x0,'queueLength':_0x569bf4[_0x4e82a3(0x24c)],'bid':this[_0x4e82a3(0x587)]()};_0x3d0f37[_0x4e82a3(0x6c1)](_0x2582bf['Jobs'],'JobWorker:\x20Sending\x20job\x20bid',_0x407011),this[_0x4e82a3(0x232)](_0x407011,[_0x12d2a4]);}[_0x13fde2(0x572)](_0x2892b0,_0x2cf196,_0x23921b){const _0x334f0d=_0x13fde2,_0xfb691b={'id':_0x2892b0,'jobType':_0x2cf196,'jobPhase':_0x14139b['Bid'],'available':!0x1,'queueLength':_0x569bf4[_0x334f0d(0x24c)],'bid':0x0};_0x3d0f37[_0x334f0d(0x6c1)](_0x2582bf[_0x334f0d(0x53d)],_0x334f0d(0x546),_0xfb691b),this[_0x334f0d(0x232)](_0xfb691b,[_0x23921b]);}async[_0x13fde2(0x72e)](_0x4b3c53,_0x5f2f30,_0x1348f8){const _0x8ccfe7=_0x13fde2;_0x3d0f37['log'](_0x2582bf[_0x8ccfe7(0x53d)],_0x8ccfe7(0x5cd),_0x5f2f30);const _0x52265b={'id':_0x4b3c53,'jobType':_0x5f2f30[_0x8ccfe7(0x3eb)],'parameters':_0x5f2f30[_0x8ccfe7(0x53b)]};try{switch(_0x5f2f30[_0x8ccfe7(0x3eb)]){case _0x15de5e[_0x8ccfe7(0x694)][_0x8ccfe7(0x1e8)]:await this['processJob'](_0x4b3c53,_0x5f2f30,_0x52265b,_0x1348f8);break;case _0x15de5e['JobType'][_0x8ccfe7(0x880)]:await this[_0x8ccfe7(0x551)](_0x4b3c53,_0x5f2f30,_0x52265b,_0x1348f8);break;default:throw new Error(_0x8ccfe7(0x2be));}}catch(_0x26c40a){_0x3d0f37[_0x8ccfe7(0x377)](_0x8ccfe7(0x695),{'nodeId':this[_0x8ccfe7(0x27e)]['getId'](),'nodeType':this[_0x8ccfe7(0x27e)]['type'],'data':{'job':_0x52265b}},_0x26c40a);const _0x60b167=_0x26c40a instanceof Error?_0x26c40a['message']:_0x8ccfe7(0x881),_0x39c773={'id':_0x4b3c53,'jobType':_0x5f2f30[_0x8ccfe7(0x3eb)],'jobPhase':_0x14139b['Failed'],'message':_0x60b167};await this['send'](_0x39c773,[_0x1348f8]);}}async[_0x13fde2(0x3b9)](_0x180dd8,_0x4cca3e,_0x1113c6,_0x2a8ae5){const _0x1b1b19=_0x13fde2,_0x595993=Date[_0x1b1b19(0x321)](),_0x51ec48=await this[_0x1b1b19(0x525)](_0x1113c6[_0x1b1b19(0x53b)]);this[_0x1b1b19(0x8a7)](_0x51ec48,_0x595993,Date['now']());const _0x1add73={'id':_0x180dd8,'jobType':_0x4cca3e['jobType'],'jobPhase':_0x14139b[_0x1b1b19(0x679)],'result':_0x51ec48};_0x3d0f37[_0x1b1b19(0x6c1)](_0x2582bf[_0x1b1b19(0x53d)],_0x1b1b19(0x71e),_0x1add73),await this['send'](_0x1add73,[_0x2a8ae5]);}async[_0x13fde2(0x551)](_0x21fa44,_0x33e4df,_0x40c6f7,_0x526dd9){const _0x4a83d8=_0x13fde2,_0x8440=Date[_0x4a83d8(0x321)]();let _0x1e122a=0x0,_0x15f6e0={};for await(const _0x518535 of this[_0x4a83d8(0x7ca)](_0x40c6f7[_0x4a83d8(0x53b)])){const _0x4fec70={'id':_0x21fa44,'jobType':_0x33e4df[_0x4a83d8(0x3eb)],'jobPhase':_0x14139b[_0x4a83d8(0x7bf)],'result':{..._0x518535,'index':_0x1e122a}};_0x3d0f37['log'](_0x2582bf[_0x4a83d8(0x53d)],_0x4a83d8(0x4ce),_0x4fec70),this[_0x4a83d8(0x232)](_0x4fec70,[_0x526dd9]),_0x15f6e0=this['accumulateResult'](_0x15f6e0,_0x518535),_0x1e122a++;}this[_0x4a83d8(0x8a7)](_0x15f6e0,_0x8440,Date[_0x4a83d8(0x321)]());const _0xa799a5={'id':_0x21fa44,'jobType':_0x33e4df[_0x4a83d8(0x3eb)],'jobPhase':_0x14139b['Result'],'result':_0x15f6e0};_0x3d0f37[_0x4a83d8(0x6c1)](_0x2582bf[_0x4a83d8(0x53d)],_0x4a83d8(0x71e),_0xa799a5),await this[_0x4a83d8(0x232)](_0xa799a5,[_0x526dd9]);}[_0x13fde2(0x309)](_0x52c923){const _0x243a37=_0x13fde2;return _0x52c923['jobPhase']===_0x14139b[_0x243a37(0x24e)];}[_0x13fde2(0x47b)](_0x368f94){const _0x4377c1=_0x13fde2;return _0x368f94[_0x4377c1(0x61c)]===_0x14139b[_0x4377c1(0x443)];}}async function _0xe9a33b(_0x4219f0,_0x4d6540,_0x396b5d,_0x4130e6){const _0x38d383=_0x13fde2,_0x2de7ea=_0x4130e6[_0x38d383(0x8b1)][_0x38d383(0x17e)](_0x4d6540['id']),_0x40e338=await _0x2de7ea['get'](_0x4219f0);for(const _0x5f2597 of _0x4d6540['links']||[]){const _0x762242=_0x396b5d[_0x38d383(0x405)][_0x38d383(0x1a6)](_0x5282a5=>_0x5282a5[_0x38d383(0x454)]===_0x5f2597);_0x762242&&_0x762242[_0x38d383(0x5bb)]===_0x723958['DocumentParser']&&await _0x3fa50e(_0x4219f0,_0x40e338,_0x762242,_0x396b5d,_0x4130e6);}}async function _0x3fa50e(_0x2c9498,_0xd769c3,_0x16f627,_0x3071c5,_0x44a4ca){const _0x5499fa=_0x13fde2;let _0x2423ef;_0x2423ef=_0x5499fa(0x71f)===_0xd769c3[_0x5499fa(0x5bb)]?await _0xd769c3[_0x5499fa(0x7cc)]():await _0x44a4ca['documentParserConnector']['parse'](_0xd769c3);for(const _0x2d1843 of _0x16f627[_0x5499fa(0x469)]||[]){const _0x286dde=_0x3071c5['ingestBlocks'][_0x5499fa(0x1a6)](_0x166f47=>_0x166f47[_0x5499fa(0x454)]===_0x2d1843);if(_0x286dde)switch(_0x286dde[_0x5499fa(0x5bb)]){case _0x723958['EntityExtractor']:await _0x924cd3(_0x2423ef,_0x286dde,_0x3071c5,_0x44a4ca);break;case _0x723958['ChunkSplitter']:await _0x7b39d0(_0x2c9498,_0x2423ef,_0x286dde,_0x3071c5,_0x44a4ca);break;case _0x723958[_0x5499fa(0x6f5)]:await _0x2316ac(_0x2c9498,_0x2423ef,_0x286dde,_0x3071c5,_0x44a4ca);break;case _0x723958[_0x5499fa(0x2de)]:await _0x18feed(_0x2c9498,_0x2423ef,_0x286dde,_0x3071c5,_0x44a4ca);}}}async function _0x924cd3(_0x17c956,_0x2f2b3b,_0xcbb24f,_0x3e0847){const _0x9a870d=_0x13fde2,_0x2c4c4d=new Set(),_0x5681a9=new Map();if(_0x17c956 instanceof Array){for(const _0x9b943f of _0x17c956)await _0x5ce889(_0x9b943f,_0x2c4c4d,_0x5681a9,_0x3e0847[_0x9a870d(0x452)]);}else await _0x5ce889(_0x17c956,_0x2c4c4d,_0x5681a9,_0x3e0847[_0x9a870d(0x452)]);for(const _0x5efdb0 of _0x2f2b3b[_0x9a870d(0x469)]||[]){const _0x59de90=_0xcbb24f[_0x9a870d(0x405)][_0x9a870d(0x1a6)](_0x5f2005=>_0x5f2005[_0x9a870d(0x454)]===_0x5efdb0);_0x59de90&&_0x59de90[_0x9a870d(0x5bb)]===_0x723958[_0x9a870d(0x60e)]&&_0x3b9013(_0x2c4c4d,_0x5681a9,_0x59de90,_0x3e0847);}}async function _0x5ce889(_0x4d2685,_0x44ff70,_0x3caad6,_0x43c0d2){const _0x53cacc=_0x13fde2,_0x15e79d=await _0x43c0d2[_0x53cacc(0x2d3)](_0x4d2685);if(!(_0x15e79d[_0x53cacc(0x24c)]<0x2))for(let _0x272489=0x0;_0x272489<_0x15e79d[_0x53cacc(0x24c)];_0x272489++){_0x44ff70['add'](_0x15e79d[_0x272489]);for(let _0x2a9951=_0x272489+0x1;_0x2a9951<_0x15e79d[_0x53cacc(0x24c)];_0x2a9951++)_0x3caad6['has'](_0x15e79d[_0x272489])||_0x3caad6[_0x53cacc(0x599)](_0x15e79d[_0x272489],new Set()),_0x3caad6['get'](_0x15e79d[_0x272489])[_0x53cacc(0x7bd)](_0x15e79d[_0x2a9951]);}}async function _0x7b39d0(_0x53b546,_0x54e490,_0x47f2da,_0x10ec09,_0x48fabb){const _0x566f06=_0x13fde2,_0x2dd77d=[];for(let _0x11e10f=0x0;_0x11e10f<_0x54e490[_0x566f06(0x24c)];_0x11e10f+=_0x1d8263)_0x2dd77d['push'](_0x54e490[_0x566f06(0x407)](_0x11e10f,_0x11e10f+_0x1d8263));for(const _0x598a1b of _0x47f2da[_0x566f06(0x469)]||[]){const _0x498334=_0x10ec09[_0x566f06(0x405)]['find'](_0x3cc4c1=>_0x3cc4c1[_0x566f06(0x454)]===_0x598a1b);if(_0x498334)switch(_0x498334['type']){case _0x723958[_0x566f06(0x2d6)]:await _0x924cd3(_0x2dd77d,_0x498334,_0x10ec09,_0x48fabb);break;case _0x723958[_0x566f06(0x2de)]:await _0x18feed(_0x53b546,_0x2dd77d,_0x498334,_0x10ec09,_0x48fabb);}}}async function _0x2316ac(_0x2cad3a,_0x3ec167,_0x1c3ef8,_0x4a6723,_0x20ae2d){const _0xab4c6b=_0x13fde2,_0x88ed83=[];if(_0x3ec167[_0xab4c6b(0x24c)]<_0x1d8263)_0x88ed83['push'](_0x3ec167);else{const _0x3d2b22=await _0x20ae2d[_0xab4c6b(0x452)]['getSentences'](_0x3ec167);for(const _0x59e81e of _0x3d2b22)if(!(_0x59e81e[_0xab4c6b(0x24c)]>0x5*_0x1d8263)){if(_0x59e81e[_0xab4c6b(0x24c)]>_0x1d8263){for(let _0x4add7b=0x0;_0x4add7b<_0x59e81e[_0xab4c6b(0x24c)];_0x4add7b+=_0x1d8263)_0x88ed83[_0xab4c6b(0x875)](_0x59e81e[_0xab4c6b(0x407)](_0x4add7b,_0x4add7b+_0x1d8263));}else _0x88ed83[_0xab4c6b(0x875)](_0x59e81e);}}for(const _0x4761c4 of _0x1c3ef8['links']||[]){const _0x14cfe2=_0x4a6723[_0xab4c6b(0x405)][_0xab4c6b(0x1a6)](_0x1fc562=>_0x1fc562[_0xab4c6b(0x454)]===_0x4761c4);if(_0x14cfe2)switch(_0x14cfe2[_0xab4c6b(0x5bb)]){case _0x723958['EntityExtractor']:await _0x924cd3(_0x88ed83,_0x14cfe2,_0x4a6723,_0x20ae2d);break;case _0x723958[_0xab4c6b(0x2de)]:await _0x18feed(_0x2cad3a,_0x88ed83,_0x14cfe2,_0x4a6723,_0x20ae2d);}}}async function _0x18feed(_0x3d1348,_0x2ca431,_0x8918cc,_0x53596e,_0x300461){const _0x3c21cb=_0x13fde2,_0x118bc3=_0x300461[_0x3c21cb(0x86c)][_0x3c21cb(0x1a6)](_0x96038e=>_0x96038e['id']===_0x8918cc['id']);if(_0x118bc3)switch(_0x118bc3[_0x3c21cb(0x1e4)]){case _0x15de5e[_0x3c21cb(0x329)][_0x3c21cb(0x878)]:await async function(_0x2aeabe,_0xe99508,_0x3eef36,_0x476f13,_0x50ed80,_0x4f6f7d){const _0x2878d9=_0x3c21cb;let _0x3eb0f9;if(_0xe99508 instanceof Array){_0x3eb0f9=[];for(const _0x39772b of _0xe99508){const _0x493ae8=await _0x39f934(_0x39772b,_0x4f6f7d[_0x2878d9(0x655)],_0x3eef36);_0x493ae8 instanceof Array?_0x3eb0f9[_0x2878d9(0x875)](..._0x493ae8):_0x3eb0f9['push'](_0x493ae8);}}else _0x3eb0f9=await _0x39f934(_0xe99508,_0x4f6f7d[_0x2878d9(0x655)],_0x3eef36);for(const _0x4e09ba of _0x476f13[_0x2878d9(0x469)]||[]){const _0x35cf0e=_0x50ed80[_0x2878d9(0x405)]['find'](_0x2efb7c=>_0x2efb7c[_0x2878d9(0x454)]===_0x4e09ba);if(_0x35cf0e)switch(_0x35cf0e[_0x2878d9(0x5bb)]){case _0x723958[_0x2878d9(0x2d6)]:await _0x924cd3(_0x3eb0f9,_0x35cf0e,_0x50ed80,_0x4f6f7d);break;case _0x723958[_0x2878d9(0x447)]:if(_0x3eb0f9 instanceof Array)continue;await _0x7b39d0(_0x2aeabe,_0x3eb0f9,_0x35cf0e,_0x50ed80,_0x4f6f7d);break;case _0x723958[_0x2878d9(0x6f5)]:if(_0x3eb0f9 instanceof Array)continue;await _0x2316ac(_0x2aeabe,_0x3eb0f9,_0x35cf0e,_0x50ed80,_0x4f6f7d);break;case _0x723958[_0x2878d9(0x2de)]:await _0x18feed(_0x2aeabe,_0x3eb0f9,_0x35cf0e,_0x50ed80,_0x4f6f7d);}}}(_0x3d1348,_0x2ca431,_0x118bc3,_0x8918cc,_0x53596e,_0x300461);break;case _0x15de5e[_0x3c21cb(0x329)][_0x3c21cb(0x73a)]:await async function(_0x542866,_0x4d39a1,_0x263df8,_0x18e37b,_0x5f23b5,_0x146d69){const _0x432376=_0x3c21cb,_0x2da846=[];if(_0x4d39a1 instanceof Array){for(const _0xc8b30a of _0x4d39a1)await _0x1305a4(_0xc8b30a,_0x2da846,_0x146d69[_0x432376(0x655)],_0x263df8);}else await _0x1305a4(_0x4d39a1,_0x2da846,_0x146d69['generativeAIWorkerConnector'],_0x263df8);for(const _0x27bcc6 of _0x18e37b['links']||[]){const _0xdc3a2f=_0x5f23b5[_0x432376(0x405)][_0x432376(0x1a6)](_0x42bf2e=>_0x42bf2e[_0x432376(0x454)]===_0x27bcc6);_0xdc3a2f&&_0xdc3a2f['type']===_0x723958['VectorDatabase']&&_0x2c382a(_0x542866,_0x4d39a1 instanceof Array?_0x4d39a1:[_0x4d39a1],_0x2da846,_0xdc3a2f,_0x146d69);}}(_0x3d1348,_0x2ca431,_0x118bc3,_0x8918cc,_0x53596e,_0x300461);}}async function _0x39f934(_0xc52cb,_0xf44920,_0xfada1e){const _0x2370b5=_0x13fde2,_0x4dbd0e=await _0xf44920[_0x2370b5(0x3b9)]({'prompt':_0xc52cb},{'model':_0xfada1e});return _0x4dbd0e[_0x2370b5(0x541)],_0x4dbd0e[_0x2370b5(0x541)];}async function _0x1305a4(_0x4cbe75,_0x52a0e9,_0x698fb1,_0x56064d){const _0x285916=_0x13fde2,_0x3e256c=await _0x698fb1[_0x285916(0x3b9)]({'prompt':_0x4cbe75},{'model':_0x56064d});_0x3e256c[_0x285916(0x541)]instanceof Array&&_0x52a0e9[_0x285916(0x875)](_0x3e256c[_0x285916(0x541)]);}function _0x2c382a(_0x17ed3d,_0x22c7f4,_0xa5188f,_0x49e53e,_0x3d2904){const _0x32d773=_0x13fde2;_0x3d2904[_0x32d773(0x8b1)]['getVectorDatabase'](_0x49e53e['id'])[_0x32d773(0x6b5)](_0x17ed3d,_0x22c7f4,_0xa5188f);}function _0x3b9013(_0x112155,_0x1d19e8,_0x5d994c,_0x1e62e4){const _0x5d52e2=_0x13fde2,_0x495328=_0x1e62e4[_0x5d52e2(0x8b1)][_0x5d52e2(0x53e)](_0x5d994c['id']);for(const _0x2ae0a5 of _0x112155)try{_0x495328[_0x5d52e2(0x34d)](_0x2ae0a5);}catch(_0x465df0){}for(const [_0x3cd2e0,_0x220718]of _0x1d19e8)for(const _0x31f134 of _0x220718)try{_0x495328['addEdge'](_0x3cd2e0,_0x31f134);}catch(_0x5338dd){}}async function _0x429d62(_0x384fb4,_0x44fa56,_0x5e0d10,_0x262cc7,_0x531fd3){const _0x252eb7=_0x13fde2,_0x1e349f=new Set();if(_0x384fb4 instanceof Array){for(const _0x4e7546 of _0x384fb4)await _0x1d308a(_0x4e7546,_0x1e349f,_0x531fd3[_0x252eb7(0x452)]);}else await _0x1d308a(_0x384fb4,_0x1e349f,_0x531fd3[_0x252eb7(0x452)]);for(const _0x267d08 of _0x5e0d10[_0x252eb7(0x469)]||[]){const _0x1de82a=_0x262cc7[_0x252eb7(0x405)]['find'](_0x208ee6=>_0x208ee6['uid']===_0x267d08);if(_0x1de82a)switch(_0x1de82a[_0x252eb7(0x5bb)]){case _0x723958[_0x252eb7(0x2de)]:await _0x5db101(Array[_0x252eb7(0x69c)](_0x1e349f)[_0x252eb7(0x7a9)](',\x20'),_0x44fa56,_0x1de82a,_0x262cc7,_0x531fd3);break;case _0x723958['GraphDatabase']:_0x2712e9(_0x1e349f,_0x44fa56,_0x1de82a,_0x262cc7,_0x531fd3);}}}async function _0x1d308a(_0x5e30f7,_0x5d5808,_0x4d2aa3){const _0x4913e3=_0x13fde2;(await _0x4d2aa3[_0x4913e3(0x2d3)](_0x5e30f7))[_0x4913e3(0x1ed)](_0x2237ce=>_0x5d5808[_0x4913e3(0x7bd)](_0x2237ce));}async function _0x5db101(_0x45d551,_0x4e1be,_0x56f42d,_0x23b680,_0x427a77){const _0x57876b=_0x13fde2,_0x371cca=_0x427a77['models']['find'](_0x493543=>_0x493543['id']===_0x56f42d['id']);if(_0x371cca)switch(_0x371cca['outputType']){case _0x15de5e[_0x57876b(0x329)]['Text']:await async function(_0x4a34bb,_0x5f5003,_0xbccaaa,_0x5b52ae,_0x3b2cdb,_0x13f176){const _0x5b66aa=_0x57876b,_0x4b5284=await async function(_0x420311,_0x387856,_0x24a87c,_0x322cd0){const _0x53423f=a0_0x2ee0,_0x3f1931={'prompt':_0x420311};_0x387856[_0x53423f(0x864)][_0x53423f(0x24c)]>0x0&&(_0x3f1931[_0x53423f(0x5da)]=_0x53423f(0x73d)+_0x387856[_0x53423f(0x864)][_0x53423f(0x3d2)](_0x31abfa=>_0x53423f(0x54b)+_0x31abfa[_0x53423f(0x894)]+':\x20'+_0x31abfa['content'])[_0x53423f(0x7a9)]('\x0a'));const _0x815dee=await _0x24a87c[_0x53423f(0x3b9)](_0x3f1931,{'model':_0x322cd0});if(_0x815dee[_0x53423f(0x541)]instanceof Array)throw new Error('Unexpected\x20output\x20type');return _0x387856['inputTokens']+=_0x815dee[_0x53423f(0x4e1)]??0x0,_0x387856[_0x53423f(0x544)]+=_0x815dee[_0x53423f(0x544)]??0x0,_0x815dee[_0x53423f(0x541)];}(_0x4a34bb,_0x5f5003,_0x13f176[_0x5b66aa(0x655)],_0xbccaaa);for(const _0xb19781 of _0x5b52ae['links']||[]){const _0x554611=_0x3b2cdb[_0x5b66aa(0x8b3)][_0x5b66aa(0x1a6)](_0x3c143e=>_0x3c143e[_0x5b66aa(0x454)]===_0xb19781);if(_0x554611)switch(_0x554611['type']){case _0x723958[_0x5b66aa(0x2d6)]:await _0x429d62(_0x4b5284,_0x5f5003,_0x554611,_0x3b2cdb,_0x13f176);break;case _0x723958[_0x5b66aa(0x2de)]:await _0x5db101(_0x4b5284,_0x5f5003,_0x554611,_0x3b2cdb,_0x13f176);}}}(_0x45d551,_0x4e1be,_0x371cca,_0x56f42d,_0x23b680,_0x427a77);break;case _0x15de5e[_0x57876b(0x329)]['Vector']:await async function(_0x322558,_0x2e742a,_0x156ccc,_0xf979f4,_0x4fd057,_0xd64672){const _0x3664a3=_0x57876b,_0x333a9f=await async function(_0xe2d6ab,_0x3383d7,_0x20dc21){const _0x34741c=a0_0x2ee0,_0x358584=await _0x3383d7['processJob']({'prompt':_0xe2d6ab},{'model':_0x20dc21});if(_0x358584[_0x34741c(0x541)]instanceof Array)return _0x358584[_0x34741c(0x541)];throw new Error(_0x34741c(0x770));}(_0x322558,_0xd64672[_0x3664a3(0x655)],_0x156ccc);for(const _0x35011c of _0xf979f4[_0x3664a3(0x469)]||[]){const _0x5bc793=_0x4fd057['retrieveBlocks'][_0x3664a3(0x1a6)](_0xf7b64f=>_0xf7b64f[_0x3664a3(0x454)]===_0x35011c);_0x5bc793&&_0x5bc793[_0x3664a3(0x5bb)]===_0x723958[_0x3664a3(0x8ac)]&&await _0x573de1(_0x333a9f,_0x2e742a,_0x5bc793,_0x4fd057,_0xd64672);}}(_0x45d551,_0x4e1be,_0x371cca,_0x56f42d,_0x23b680,_0x427a77);}}async function _0x573de1(_0x30334a,_0x3313a0,_0x5ce4e5,_0x415be3,_0x259077){const _0x3b32f5=_0x13fde2,_0x2b5edf=_0x259077[_0x3b32f5(0x8b1)][_0x3b32f5(0x7ac)](_0x5ce4e5['id'])['search'](_0x30334a,_0x415be3[_0x3b32f5(0x496)],_0x415be3[_0x3b32f5(0x6d0)],_0x415be3[_0x3b32f5(0x5b9)]);for(const _0x236efe of _0x5ce4e5['links']||[]){const _0x7919f7=_0x415be3[_0x3b32f5(0x8b3)][_0x3b32f5(0x1a6)](_0x356e6c=>_0x356e6c[_0x3b32f5(0x454)]===_0x236efe);if(_0x7919f7)switch(_0x7919f7[_0x3b32f5(0x5bb)]){case _0x723958[_0x3b32f5(0x89c)]:_0x3313a0['context'][_0x3b32f5(0x875)](..._0x2b5edf);break;case _0x723958['EntityExtractor']:await _0x429d62(_0x2b5edf[_0x3b32f5(0x3d2)](_0x476ed1=>_0x476ed1['content']),_0x3313a0,_0x7919f7,_0x415be3,_0x259077);break;case _0x723958[_0x3b32f5(0x2de)]:await _0x5db101(_0x2b5edf[_0x3b32f5(0x3d2)](_0x34c78e=>_0x34c78e[_0x3b32f5(0x6dd)])[_0x3b32f5(0x7a9)](',\x20'),_0x3313a0,_0x7919f7,_0x415be3,_0x259077);}}}async function _0x2712e9(_0x2799cd,_0x504c2b,_0x196895,_0x4495a9,_0x5b92ec){const _0x9064e4=_0x13fde2,_0x234664=new Set(),_0x268865=_0x5b92ec[_0x9064e4(0x8b1)][_0x9064e4(0x53e)](_0x196895['id']);for(const _0x202018 of _0x2799cd)try{_0x268865['getNeighbors'](_0x202018)[_0x9064e4(0x1ed)](_0x157f3a=>_0x234664[_0x9064e4(0x7bd)](_0x157f3a));}catch(_0x23f3ec){}for(const _0x1ff325 of _0x196895[_0x9064e4(0x469)]||[]){const _0x417857=_0x4495a9[_0x9064e4(0x8b3)][_0x9064e4(0x1a6)](_0x3a864e=>_0x3a864e[_0x9064e4(0x454)]===_0x1ff325);_0x417857&&_0x417857['type']===_0x723958[_0x9064e4(0x2de)]&&await _0x5db101(Array[_0x9064e4(0x69c)](_0x234664)[_0x9064e4(0x7a9)](',\x20'),_0x504c2b,_0x417857,_0x4495a9,_0x5b92ec);}}async function _0x1a6fc0(_0x1c0acb,_0x3a43c2,_0x4b8ac6,_0x14abdd,_0x6ffc35){const _0x58498c=_0x13fde2;let _0x34c258;for(const _0x4675fc of _0x4b8ac6[_0x58498c(0x469)]||[]){const _0x3ad975=_0x14abdd['find'](_0x5c091=>_0x5c091[_0x58498c(0x454)]===_0x4675fc);if(_0x3ad975)switch(_0x3ad975[_0x58498c(0x5bb)]){case _0x1ff239[_0x58498c(0x466)]:_0x34c258=await _0x13af72(_0x1c0acb,_0x3a43c2,_0x3ad975,_0x14abdd,_0x6ffc35);break;case _0x1ff239[_0x58498c(0x7d2)]:_0x34c258=await _0x31ec7a(_0x1c0acb,_0x3a43c2,_0x3ad975,_0x14abdd,_0x6ffc35);}}if(!_0x34c258)throw new Error(_0x58498c(0x735));return _0x34c258;}async function _0x13af72(_0x4d450c,_0x50ec63,_0x369ed0,_0x10a849,_0x3fba88){const _0x31e080=_0x13fde2;for(const _0x4b3474 of _0x369ed0[_0x31e080(0x469)]||[]){const _0x5313e2=_0x10a849[_0x31e080(0x1a6)](_0x1c3c2a=>_0x1c3c2a['uid']===_0x4b3474);if(_0x5313e2&&_0x5313e2[_0x31e080(0x5bb)]===_0x1ff239[_0x31e080(0x60d)])return _0x369ed0;}const _0x109fd6=_0x3fba88[_0x31e080(0x86c)][_0x31e080(0x1a6)](_0x25e4b4=>_0x25e4b4['id']===_0x369ed0[_0x31e080(0x23f)]),_0x1efb68=await _0x3fba88[_0x31e080(0x655)][_0x31e080(0x3b9)]({'prompt':_0x4d450c[_0x31e080(0x25c)],'instructions':''+_0x369ed0[_0x31e080(0x5da)]+(_0x4d450c['instructions']??''),'temperature':_0x369ed0[_0x31e080(0x259)],'maxTokens':_0x369ed0[_0x31e080(0x305)],'history':_0x4d450c[_0x31e080(0x848)]},{'model':_0x109fd6});if('string'!=typeof _0x1efb68['output'])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');_0x4d450c[_0x31e080(0x25c)]=_0x1efb68[_0x31e080(0x541)],_0x50ec63[_0x31e080(0x4e1)]+=_0x1efb68['inputTokens']??0x0,_0x50ec63[_0x31e080(0x544)]+=_0x1efb68['outputTokens']??0x0;for(const _0x2a5959 of _0x369ed0[_0x31e080(0x469)]||[]){const _0x5c3585=_0x10a849[_0x31e080(0x1a6)](_0x5ac507=>_0x5ac507['uid']===_0x2a5959);if(_0x5c3585)switch(_0x5c3585['type']){case _0x1ff239[_0x31e080(0x466)]:return _0x13af72(_0x4d450c,_0x50ec63,_0x5c3585,_0x10a849,_0x3fba88);case _0x1ff239[_0x31e080(0x7d2)]:return _0x31ec7a(_0x4d450c,_0x50ec63,_0x5c3585,_0x10a849,_0x3fba88);}}throw new Error(_0x31e080(0x735));}async function _0x31ec7a(_0x2f6f50,_0x342c68,_0x136a63,_0x3cdf6e,_0x49e802){const _0x1cebb2=_0x13fde2,_0x4d8538=_0x136a63['retrieveBlocks'][_0x1cebb2(0x1a6)](_0x308f81=>_0x308f81[_0x1cebb2(0x5bb)]===_0x723958[_0x1cebb2(0x838)]),_0x3db4bf=await async function(_0x310772,_0x22724a,_0x3b8c72,_0xd9680f){const _0x78a953=_0x1cebb2,_0x7fd70f={'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};for(const _0x31ba81 of _0x22724a[_0x78a953(0x469)]||[]){const _0x545a6a=_0x3b8c72['retrieveBlocks'][_0x78a953(0x1a6)](_0x20253a=>_0x20253a[_0x78a953(0x454)]===_0x31ba81);if(_0x545a6a)switch(_0x545a6a[_0x78a953(0x5bb)]){case _0x723958['Model']:await _0x5db101(_0x310772,_0x7fd70f,_0x545a6a,_0x3b8c72,_0xd9680f);break;case _0x723958['EntityExtractor']:await _0x429d62(_0x310772,_0x7fd70f,_0x545a6a,_0x3b8c72,_0xd9680f);}}return _0x7fd70f['output']=_0x78a953(0x73d)+_0x7fd70f[_0x78a953(0x864)]['map'](_0x232154=>_0x78a953(0x54b)+_0x232154['pathName']+':\x20'+_0x232154[_0x78a953(0x6dd)])['join']('\x0a'),_0x7fd70f;}(_0x2f6f50['prompt'],_0x4d8538,_0x136a63,_0x49e802);_0x2f6f50[_0x1cebb2(0x5da)]=(_0x2f6f50[_0x1cebb2(0x5da)]??'')+'\x0a'+_0x3db4bf['output'],_0x342c68[_0x1cebb2(0x864)][_0x1cebb2(0x875)](..._0x3db4bf['context']??[]),_0x342c68[_0x1cebb2(0x4e1)]+=_0x3db4bf[_0x1cebb2(0x4e1)]??0x0,_0x342c68[_0x1cebb2(0x544)]+=_0x3db4bf['outputTokens']??0x0;for(const _0x3a87d0 of _0x136a63[_0x1cebb2(0x469)]||[]){const _0x18cef4=_0x3cdf6e[_0x1cebb2(0x1a6)](_0x2de2a6=>_0x2de2a6[_0x1cebb2(0x454)]===_0x3a87d0);if(_0x18cef4)switch(_0x18cef4['type']){case _0x1ff239['Agent']:return _0x13af72(_0x2f6f50,_0x342c68,_0x18cef4,_0x3cdf6e,_0x49e802);case _0x1ff239[_0x1cebb2(0x7d2)]:return _0x31ec7a(_0x2f6f50,_0x342c68,_0x18cef4,_0x3cdf6e,_0x49e802);}}throw new Error('No\x20answer\x20block\x20found');}class _0x247735 extends _0x1ddfc4{['localNode'];[_0x13fde2(0x1f3)];[_0x13fde2(0x8b1)];[_0x13fde2(0x655)];[_0x13fde2(0x42d)];['nlpLibraryConnector'];[_0x13fde2(0x5e5)];[_0x13fde2(0x418)];[_0x13fde2(0x7b5)]=new Map();['models']=new Map();[_0x13fde2(0x57d)];[_0x13fde2(0x40d)]=0x0;['tokens']=0x0;[_0x13fde2(0x808)]=!0x1;constructor(_0x3dcdb0,_0x373e84,_0x1f7792,_0x2b06bc,_0x1317f2,_0x44925c,_0x147510,_0x427f2c){const _0xd38599=_0x13fde2;super(_0x3dcdb0,_0x373e84,_0x2b06bc,_0x44925c),this[_0xd38599(0x672)]=_0x3dcdb0,this['vendorId']=_0x1f7792,this['contentMediator']=_0x1317f2,this[_0xd38599(0x655)]=_0x44925c,this[_0xd38599(0x42d)]=_0x147510,this[_0xd38599(0x452)]=_0x427f2c;}[_0x13fde2(0x85f)](){const _0x5760b4=_0x13fde2;this[_0x5760b4(0x655)][_0x5760b4(0x3df)](),this[_0x5760b4(0x418)]?.[_0x5760b4(0x250)](this[_0x5760b4(0x380)]),this[_0x5760b4(0x7b5)][_0x5760b4(0x1ed)](_0x4a029e=>_0x4a029e[_0x5760b4(0x250)](this[_0x5760b4(0x380)])),this[_0x5760b4(0x57d)]&&(clearTimeout(this['debounceStats']),delete this[_0x5760b4(0x57d)]),super[_0x5760b4(0x85f)]();}async[_0x13fde2(0x20c)](_0x5954bd=!0x1){const _0x3ef3a4=_0x13fde2;if(this['isOpened'])super[_0x3ef3a4(0x20c)]();else{if(this[_0x3ef3a4(0x5e5)]=await _0x5d63da[_0x3ef3a4(0x36b)](this[_0x3ef3a4(0x1f3)],this[_0x3ef3a4(0x380)]),this[_0x3ef3a4(0x418)]=this[_0x3ef3a4(0x8b1)]['getObjectStoreBucket'](this[_0x3ef3a4(0x5e5)][_0x3ef3a4(0x175)]),!this[_0x3ef3a4(0x418)])throw new Error(_0x3ef3a4(0x5d8));_0x5954bd||await this[_0x3ef3a4(0x18a)](this[_0x3ef3a4(0x418)]),console[_0x3ef3a4(0x6c1)](_0x3ef3a4(0x21e));for(const _0x7942a2 of this['workflow'][_0x3ef3a4(0x86c)])try{this['models'][_0x3ef3a4(0x599)](_0x7942a2['id'],await this[_0x3ef3a4(0x178)]('/'+_0x7942a2['id']+_0x508a91));}catch(_0x420aef){await this[_0x3ef3a4(0x418)]['publish']({'action':_0x15de5e[_0x3ef3a4(0x2f9)][_0x3ef3a4(0x5c3)],'file':new File([''],''+_0x7942a2['id']+_0x508a91),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x7942a2['sourceUrl']}}),this[_0x3ef3a4(0x86c)]['set'](_0x7942a2['id'],await this[_0x3ef3a4(0x178)]('/'+_0x7942a2['id']+_0x508a91));}await this[_0x3ef3a4(0x655)][_0x3ef3a4(0x6f8)](this[_0x3ef3a4(0x380)],this[_0x3ef3a4(0x86c)]);for(const _0x558da9 of this[_0x3ef3a4(0x5e5)][_0x3ef3a4(0x1ea)])this['dataStores'][_0x3ef3a4(0x599)](_0x558da9,this['contentMediator'][_0x3ef3a4(0x17e)](_0x558da9));await this[_0x3ef3a4(0x2c2)](_0x5954bd),this[_0x3ef3a4(0x4c5)](),this['sendStats'](),this[_0x3ef3a4(0x808)]=!0x0,super[_0x3ef3a4(0x20c)]();}}[_0x13fde2(0x416)](){const _0xa3238a=_0x13fde2;this[_0xa3238a(0x40d)]=0x0,this[_0xa3238a(0x8be)]=0x0,this[_0xa3238a(0x68f)](),super[_0xa3238a(0x416)]();}[_0x13fde2(0x587)](){const _0x3d58f2=_0x13fde2;return this[_0x3d58f2(0x68f)](),this[_0x3d58f2(0x7fe)]();}[_0x13fde2(0x8a7)](_0x55a0d4,_0x3f9215,_0x16262e){const _0x106ab5=_0x13fde2,{outputTokens:_0x1ba913=0x0,output:_0x1222b7=''}=_0x55a0d4,_0x5d28d8=_0x1ba913/((_0x16262e-_0x3f9215)/0x3e8);this['prompts']+=0x1,this[_0x106ab5(0x8be)]+=_0x1ba913,this[_0x106ab5(0x45d)](_0x1222b7,_0x5d28d8,_0x1ba913),this[_0x106ab5(0x68f)]();}[_0x13fde2(0x814)](_0x3055f2,_0xc59d54){const _0x3f7e34=_0x13fde2;return _0x3055f2[_0x3f7e34(0x541)]=_0x3055f2[_0x3f7e34(0x541)]??'',{'output':_0x3f7e34(0x28d)==typeof _0x3055f2['output']&&_0x3f7e34(0x28d)==typeof _0xc59d54['output']?_0x3055f2[_0x3f7e34(0x541)]+_0xc59d54[_0x3f7e34(0x541)]:_0xc59d54['output'],'outputTokens':_0xc59d54[_0x3f7e34(0x544)]??_0x3055f2[_0x3f7e34(0x544)],'inputTokens':_0xc59d54[_0x3f7e34(0x4e1)]??_0x3055f2[_0x3f7e34(0x4e1)]};}async['internalProcessJob'](_0x117790){const _0x420781=_0x13fde2;if(!this[_0x420781(0x5e5)])throw new Error('Workflow\x20not\x20initialized');const _0x54fd59=this[_0x420781(0x5e5)]['blocks']['find'](_0x6c284e=>_0x6c284e[_0x420781(0x5bb)]===_0x1ff239['Prompt']),_0x5be388=await async function(_0x2260ec,_0x3e79b0,_0xe18b49,_0xa88ba3){const _0x41bf01=_0x420781,_0x41884b={'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x496cc8=await _0x1a6fc0(_0x2260ec,_0x41884b,_0x3e79b0,_0xe18b49,_0xa88ba3),_0x22f0d3=_0xa88ba3[_0x41bf01(0x86c)][_0x41bf01(0x1a6)](_0x53ad7e=>_0x53ad7e['id']===_0x496cc8['modelId']),_0x485f4f=await _0xa88ba3[_0x41bf01(0x655)][_0x41bf01(0x3b9)]({'prompt':_0x2260ec['prompt'],'instructions':''+_0x496cc8[_0x41bf01(0x5da)]+(_0x2260ec['instructions']??''),'temperature':_0x496cc8['temperature'],'maxTokens':_0x496cc8['maxTokens'],'history':_0x2260ec['history']},{'model':_0x22f0d3});return{'output':_0x485f4f[_0x41bf01(0x541)],'context':_0x41884b[_0x41bf01(0x864)],'inputTokens':(_0x41884b[_0x41bf01(0x4e1)]??0x0)+(_0x485f4f[_0x41bf01(0x4e1)]??0x0),'outputTokens':(_0x41884b['outputTokens']??0x0)+(_0x485f4f['outputTokens']??0x0)};}(_0x117790,_0x54fd59,this[_0x420781(0x5e5)][_0x420781(0x772)],{'documentParserConnector':this[_0x420781(0x42d)],'nlpLibraryConnector':this[_0x420781(0x452)],'generativeAIWorkerConnector':this[_0x420781(0x655)],'models':this['workflow'][_0x420781(0x86c)],'contentMediator':this[_0x420781(0x8b1)]});return _0x5be388;}async*[_0x13fde2(0x7ca)](_0x5b6ba3){const _0x45c115=_0x13fde2;if(!this['workflow'])throw new Error(_0x45c115(0x421));const _0x2f8dd8=this[_0x45c115(0x5e5)]['blocks'][_0x45c115(0x1a6)](_0x233b8b=>_0x233b8b['type']===_0x1ff239[_0x45c115(0x838)]);for await(const _0x3470dd of async function*(_0x2769b6,_0x3e4b5d,_0x2529f0,_0x21640b){const _0x2fe63b=_0x45c115,_0x53b6e0={'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x594052=await _0x1a6fc0(_0x2769b6,_0x53b6e0,_0x3e4b5d,_0x2529f0,_0x21640b),_0x51e6e1=_0x21640b[_0x2fe63b(0x86c)][_0x2fe63b(0x1a6)](_0x51f7d5=>_0x51f7d5['id']===_0x594052[_0x2fe63b(0x23f)]);for await(const _0x54912c of _0x21640b[_0x2fe63b(0x655)][_0x2fe63b(0x551)]({'prompt':_0x2769b6[_0x2fe63b(0x25c)],'instructions':''+_0x594052[_0x2fe63b(0x5da)]+(_0x2769b6[_0x2fe63b(0x5da)]??''),'temperature':_0x594052[_0x2fe63b(0x259)],'maxTokens':_0x594052[_0x2fe63b(0x305)],'history':_0x2769b6[_0x2fe63b(0x848)]},{'model':_0x51e6e1}))yield{'output':_0x54912c['output'],'context':_0x53b6e0[_0x2fe63b(0x864)],'inputTokens':(_0x53b6e0[_0x2fe63b(0x4e1)]??0x0)+(_0x54912c['inputTokens']??0x0),'outputTokens':(_0x53b6e0[_0x2fe63b(0x544)]??0x0)+(_0x54912c['outputTokens']??0x0)};}(_0x5b6ba3,_0x2f8dd8,this[_0x45c115(0x5e5)][_0x45c115(0x772)],{'documentParserConnector':this[_0x45c115(0x42d)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnector':this[_0x45c115(0x655)],'models':this[_0x45c115(0x5e5)][_0x45c115(0x86c)],'contentMediator':this[_0x45c115(0x8b1)]}))yield _0x3470dd;}async[_0x13fde2(0x18a)](_0x4ac33a){await new Promise(_0x2f4040=>{const _0xf35fb8=a0_0x2ee0;_0x4ac33a[_0xf35fb8(0x76e)](this['label'],async _0x991a2f=>{const _0x13daf4=_0xf35fb8;_0x991a2f['event']===_0x15de5e[_0x13daf4(0x65a)][_0x13daf4(0x28c)]&&(_0x4ac33a[_0x13daf4(0x250)](this['label']),_0x2f4040());});});}async[_0x13fde2(0x178)](_0x5b6fad){const _0x56cd0f=_0x13fde2;if(!this[_0x56cd0f(0x418)])throw new Error(_0x56cd0f(0x5d8));const _0x2de271=await this['modelStore'][_0x56cd0f(0x1b1)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x25f6ad of _0x2de271)if(_0x25f6ad[_0x56cd0f(0x602)]===_0x15de5e['ObjectKind']['File']&&_0x25f6ad[_0x56cd0f(0x894)]===_0x5b6fad)return _0x25f6ad['absolutePathName']??_0x25f6ad[_0x56cd0f(0x894)];throw new Error(_0x56cd0f(0x783)+_0x5b6fad);}async[_0x13fde2(0x2c2)](_0x585027){const _0x21095b=_0x13fde2;for(const _0x3b309c of this['dataStores'][_0x21095b(0x45b)]())try{_0x585027||await this[_0x21095b(0x18a)](_0x3b309c);const _0x52a39a=await _0x3b309c[_0x21095b(0x1b1)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x21095b(0x3c9)](_0x3b309c[_0x21095b(0x493)](),_0x52a39a);}catch(_0x185f60){_0x3d0f37[_0x21095b(0x377)]('Error\x20loading\x20existing\x20content',{'nodeId':this[_0x21095b(0x672)][_0x21095b(0x677)](),'nodeType':this[_0x21095b(0x672)]['type']});}}async[_0x13fde2(0x3c9)](_0x3102c5,_0x3c7815){const _0x314ed8=_0x13fde2;for(const _0x520fbc of _0x3c7815){if(_0x520fbc[_0x314ed8(0x602)]===_0x15de5e['ObjectKind'][_0x314ed8(0x6c4)]){if(!_0x520fbc[_0x314ed8(0x78d)]||0x0===_0x520fbc[_0x314ed8(0x78d)][_0x314ed8(0x24c)])continue;await this[_0x314ed8(0x3c9)](_0x3102c5,_0x520fbc[_0x314ed8(0x78d)]);}_0x520fbc[_0x314ed8(0x602)]===_0x15de5e['ObjectKind'][_0x314ed8(0x5c3)]&&await this['addContent'](_0x3102c5,_0x520fbc[_0x314ed8(0x894)]);}}[_0x13fde2(0x4c5)](){const _0x1faa10=_0x13fde2;for(const _0x318ead of this[_0x1faa10(0x7b5)][_0x1faa10(0x45b)]())_0x318ead['subscribe'](this[_0x1faa10(0x380)],async _0x45c4c2=>{const _0x1222b2=_0x1faa10;switch(_0x45c4c2['event']){case _0x15de5e[_0x1222b2(0x65a)][_0x1222b2(0x460)]:await this[_0x1222b2(0x731)](_0x318ead[_0x1222b2(0x493)](),_0x45c4c2[_0x1222b2(0x234)]['file'][_0x1222b2(0x894)]);break;case _0x15de5e[_0x1222b2(0x65a)]['FileDelete']:this[_0x1222b2(0x860)](_0x318ead[_0x1222b2(0x493)](),_0x45c4c2[_0x1222b2(0x234)][_0x1222b2(0x670)]);}});}async[_0x13fde2(0x731)](_0x1b5cfd,_0x4a62ce){const _0x4cdeac=_0x13fde2;if(!this[_0x4cdeac(0x5e5)])throw new Error(_0x4cdeac(0x421));const _0x18b80c=this['workflow'][_0x4cdeac(0x772)][_0x4cdeac(0x559)](_0x99a86f=>_0x99a86f[_0x4cdeac(0x5bb)]===_0x1ff239[_0x4cdeac(0x7d2)])[_0x4cdeac(0x559)](_0x490954=>_0x490954[_0x4cdeac(0x405)]['some'](_0x4ebc18=>_0x4ebc18[_0x4cdeac(0x5bb)]===_0x723958[_0x4cdeac(0x351)]&&_0x4ebc18['id']===_0x1b5cfd));for(const _0x41d92e of _0x18b80c){const _0x1b2da2=_0x41d92e[_0x4cdeac(0x405)][_0x4cdeac(0x1a6)](_0x318599=>_0x318599['type']===_0x723958['ObjectStorageUpload']&&_0x318599['id']===_0x1b5cfd);_0x1b2da2&&await _0xe9a33b(_0x4a62ce,_0x1b2da2,_0x41d92e,{'documentParserConnector':this[_0x4cdeac(0x42d)],'nlpLibraryConnector':this[_0x4cdeac(0x452)],'generativeAIWorkerConnector':this[_0x4cdeac(0x655)],'models':this[_0x4cdeac(0x5e5)][_0x4cdeac(0x86c)],'contentMediator':this[_0x4cdeac(0x8b1)]});}this[_0x4cdeac(0x68f)]();}[_0x13fde2(0x860)](_0x455065,_0x3ea1ec){const _0x53c50d=_0x13fde2;if(!this[_0x53c50d(0x5e5)])throw new Error(_0x53c50d(0x421));const _0x4ba24b=this['workflow'][_0x53c50d(0x772)][_0x53c50d(0x559)](_0xe2d1f8=>_0xe2d1f8[_0x53c50d(0x5bb)]===_0x1ff239[_0x53c50d(0x7d2)])[_0x53c50d(0x1a6)](_0x2981d9=>_0x2981d9[_0x53c50d(0x405)][_0x53c50d(0x5dd)](_0x2a6746=>_0x2a6746['id']===_0x455065));for(const _0x180db7 of _0x4ba24b?.[_0x53c50d(0x405)]??[])_0x180db7['type']===_0x723958['VectorDatabase']&&this[_0x53c50d(0x8b1)][_0x53c50d(0x7ac)](_0x180db7['id'])[_0x53c50d(0x49e)](_0x3ea1ec);this['sendStats']();}['getCoresFromCapacityReport'](){const _0x217270=_0x13fde2;try{return this[_0x217270(0x2e5)]['getCapacityReport']()['gpu'][_0x217270(0x82d)]*(0x1-this[_0x217270(0x2e5)]['getCapacityReport']()[_0x217270(0x29d)]['load']);}catch(_0x27abc9){return _0x3d0f37[_0x217270(0x6c1)](_0x2582bf[_0x217270(0x53d)],_0x217270(0x688),_0x27abc9),0x0;}}[_0x13fde2(0x68f)](){const _0x1050f4=_0x13fde2;this[_0x1050f4(0x57d)]&&clearTimeout(this[_0x1050f4(0x57d)]),this[_0x1050f4(0x57d)]=setTimeout(async()=>{const _0x45cba1=_0x1050f4;if(delete this[_0x45cba1(0x57d)],!this[_0x45cba1(0x418)])return;let _0x2d4434=await this[_0x45cba1(0x418)][_0x45cba1(0x3de)]();for(const _0x441ea1 of this[_0x45cba1(0x7b5)]['values']())_0x2d4434+=await _0x441ea1[_0x45cba1(0x3de)]();this[_0x45cba1(0x51a)]['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x45cba1(0x67b)],'content':{'type':_0x85b357[_0x45cba1(0x33d)],'label':this[_0x45cba1(0x380)],'stats':{'timestamp':Date[_0x45cba1(0x321)](),'storage':_0x2d4434,'messagesSent':this[_0x45cba1(0x502)],'messagesReceived':this[_0x45cba1(0x835)],'bytesSent':this[_0x45cba1(0x5f3)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x45cba1(0x40d)],'tokens':this['tokens']}}});},0x1388);}['logServiceEvent'](_0x43d583,_0x5a8272,_0x5c1f9c){const _0x4d93fe=_0x13fde2,_0x1c576f=this['label'],_0x28843e=this[_0x4d93fe(0x7d1)]();_0x3d0f37['logServiceEvent'](_0x33071f[_0x4d93fe(0x43c)],{'topic':_0x1c576f,'type':_0x4d93fe(0x58e),'nodeId':_0x28843e,'output':_0x43d583,'tokenCount':_0x5c1f9c,'tokensPerSecond':_0x5a8272});}}class _0x4624f6 extends _0x454bb4{[_0x13fde2(0x672)];['clusterId'];['db'];[_0x13fde2(0x57d)];[_0x13fde2(0x341)]=0x0;[_0x13fde2(0x2b7)]=0x0;constructor(_0x5e6a46,_0x295943,_0x3437e8,_0xe4669a){const _0x506eb3=_0x13fde2;if('string'!=typeof _0x295943)throw new _0x3fd286(_0x12afa6['GraphDatabaseNameNotString'],'Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x5e6a46,_0x295943),this[_0x506eb3(0x672)]=_0x5e6a46,this[_0x506eb3(0x89e)]=_0x3437e8,this['db']=new _0xe4669a(),this['sendStats']();}['destroy'](){const _0x79341=_0x13fde2;clearTimeout(this[_0x79341(0x57d)]),delete this[_0x79341(0x57d)],super[_0x79341(0x85f)]();}['close'](){const _0x443991=_0x13fde2;this[_0x443991(0x51a)][_0x443991(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x443991(0x67b)],'content':{'type':_0x85b357[_0x443991(0x547)],'label':this['label']}});}[_0x13fde2(0x1fe)](){const _0x2b73d9=_0x13fde2;return _0x15de5e['ContentType'][_0x2b73d9(0x60e)];}[_0x13fde2(0x416)](){const _0x148e10=_0x13fde2;this[_0x148e10(0x68f)]();}[_0x13fde2(0x34d)](_0x1876d2){const _0x344582=_0x13fde2;this['db'][_0x344582(0x34d)](_0x1876d2),this['writes']+=0x1,_0x3d0f37[_0x344582(0x45d)](_0x33071f['GraphDatabase'],{'type':_0x344582(0x570),'label':this['label'],'nodeId':this[_0x344582(0x672)][_0x344582(0x677)](),'nodeType':this[_0x344582(0x672)]['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x344582(0x68f)]();}[_0x13fde2(0x3a7)](_0x42a4f6,_0x618852){const _0x5b1028=_0x13fde2;this['db'][_0x5b1028(0x3a7)](_0x42a4f6,_0x618852),this[_0x5b1028(0x341)]+=0x1,_0x3d0f37[_0x5b1028(0x45d)](_0x33071f[_0x5b1028(0x60e)],{'type':_0x5b1028(0x4e8),'label':this[_0x5b1028(0x380)],'nodeId':this[_0x5b1028(0x672)][_0x5b1028(0x677)](),'nodeType':this[_0x5b1028(0x672)][_0x5b1028(0x5bb)],'clusterId':this['clusterId'],'size':0x0}),this[_0x5b1028(0x68f)]();}['getNeighbors'](_0x1d6c60){const _0x562dde=_0x13fde2,_0x4db3d0=this['db'][_0x562dde(0x6ea)](_0x1d6c60);return this['reads']+=0x1,_0x3d0f37[_0x562dde(0x45d)](_0x33071f[_0x562dde(0x60e)],{'type':_0x562dde(0x66b),'label':this[_0x562dde(0x380)],'nodeId':this[_0x562dde(0x672)][_0x562dde(0x677)](),'nodeType':this['localNode'][_0x562dde(0x5bb)],'clusterId':this[_0x562dde(0x89e)],'size':0x0}),this['sendStats'](),_0x4db3d0;}[_0x13fde2(0x68f)](){const _0x1d9479=_0x13fde2;this['debounceStats']&&clearTimeout(this[_0x1d9479(0x57d)]),this[_0x1d9479(0x57d)]=setTimeout(async()=>{const _0x201b4d=_0x1d9479;delete this[_0x201b4d(0x57d)];const _0x5b752a=this['db'][_0x201b4d(0x3de)]();this[_0x201b4d(0x51a)][_0x201b4d(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x201b4d(0x67b)],'content':{'type':_0x85b357[_0x201b4d(0x4be)],'label':this[_0x201b4d(0x380)],'stats':{'timestamp':Date['now'](),'storage':_0x5b752a,'messagesSent':this[_0x201b4d(0x502)],'messagesReceived':this[_0x201b4d(0x835)],'bytesSent':this[_0x201b4d(0x5f3)],'bytesReceived':this[_0x201b4d(0x428)],'writes':this[_0x201b4d(0x341)],'reads':this[_0x201b4d(0x2b7)],'prompts':0x0,'tokens':0x0}}}),_0x3d0f37[_0x201b4d(0x6cf)](_0x33071f[_0x201b4d(0x60e)],'ccc'+this['clusterId']+'ccc'+this['label'],_0x5b752a);},0x1388);}}class _0x314f30 extends _0x2b61ee{['mediaStream'];constructor(_0x42acb7,_0x1bdef6,_0x194ee9){const _0xf0b32=_0x13fde2;super(_0x42acb7,_0x1bdef6),this[_0xf0b32(0x45f)]=_0x194ee9;}['getContentType'](){const _0x56b77b=_0x13fde2;return _0x15de5e['ContentType'][_0x56b77b(0x31b)];}[_0x13fde2(0x28e)](){const _0x12f389=_0x13fde2;return this[_0x12f389(0x45f)];}[_0x13fde2(0x406)](){const _0x3eac43=_0x13fde2;return this[_0x3eac43(0x45f)]['id'];}}class _0x1b83eb extends _0x314f30{['remoteId'];[_0x13fde2(0x320)];[_0x13fde2(0x506)];['unregisterPublisherListener']=_0x3e22bd();constructor(_0x4c617e,_0x47d21c,_0x5244bd,_0x2c612b,_0x40c75f){const _0x16e30c=_0x13fde2;super(_0x4c617e,_0x47d21c,_0x5244bd),this[_0x16e30c(0x2d2)]=_0x2c612b,this['params']=_0x40c75f;}['destroy'](){const _0x39b03f=_0x13fde2;this[_0x39b03f(0x7a8)](_0x39b03f(0x706)),this[_0x39b03f(0x7a8)](_0x39b03f(0x3c1)),super[_0x39b03f(0x85f)]();}['addTrack'](_0x13434d){const _0x1e9fb0=_0x13fde2;if(!this['topic'])throw new _0x46f718(_0x46f718['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x1e9fb0(0x380)],'ownerId':this[_0x1e9fb0(0x27e)][_0x1e9fb0(0x677)](),'remoteId':this[_0x1e9fb0(0x2d2)]});this['topic']['publish']({'sourceId':this[_0x1e9fb0(0x27e)][_0x1e9fb0(0x677)](),'content':{'action':_0x5da97e[_0x1e9fb0(0x21b)],'track':_0x13434d,'stream':this[_0x1e9fb0(0x45f)],'priority':_0x15de5e['MediaStreamPriority'][_0x1e9fb0(0x6eb)],'params':this[_0x1e9fb0(0x868)](_0x13434d[_0x1e9fb0(0x602)],this[_0x1e9fb0(0x320)])}});}[_0x13fde2(0x7a8)](_0x49c0b1){const _0x31c4a5=_0x13fde2,_0x170faa=this[_0x31c4a5(0x855)](_0x49c0b1);if(_0x170faa){if(!this['topic'])return null;this[_0x31c4a5(0x506)][_0x31c4a5(0x3c5)]({'sourceId':this[_0x31c4a5(0x27e)][_0x31c4a5(0x677)](),'content':{'action':_0x5da97e[_0x31c4a5(0x503)],'track':_0x170faa,'stream':this['mediaStream']}});}return _0x170faa;}[_0x13fde2(0x73b)](_0x2ac8b3){const _0x25b5f6=_0x13fde2;if(!this['topic'])throw new _0x46f718(_0x46f718[_0x25b5f6(0x6b3)][_0x25b5f6(0x56c)],{'label':this['label'],'ownerId':this[_0x25b5f6(0x27e)][_0x25b5f6(0x677)](),'remoteId':this[_0x25b5f6(0x2d2)]});this[_0x25b5f6(0x506)][_0x25b5f6(0x3c5)]({'sourceId':this[_0x25b5f6(0x27e)][_0x25b5f6(0x677)](),'content':{'action':_0x5da97e[_0x25b5f6(0x211)],'priority':_0x2ac8b3,'stream':this[_0x25b5f6(0x45f)]}});}[_0x13fde2(0x76e)]({trackKinds:_0x5d8446,params:_0x21403e},_0x56db29){const _0x41f72f=_0x13fde2;if(!this['topic'])throw new _0x46f718(_0x46f718[_0x41f72f(0x6b3)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x41f72f(0x380)],'ownerId':this[_0x41f72f(0x27e)][_0x41f72f(0x677)](),'remoteId':this[_0x41f72f(0x2d2)]});for(const _0x5f3dfd of this['mediaStream']['getTracks']())_0x5d8446[_0x41f72f(0x563)](_0x5f3dfd[_0x41f72f(0x602)])&&this[_0x41f72f(0x506)][_0x41f72f(0x3c5)]({'sourceId':this[_0x41f72f(0x27e)][_0x41f72f(0x677)](),'content':{'action':_0x5da97e[_0x41f72f(0x21b)],'track':_0x5f3dfd,'stream':this[_0x41f72f(0x45f)],'priority':_0x56db29,'params':this[_0x41f72f(0x868)](_0x5f3dfd[_0x41f72f(0x602)],_0x21403e)}});}[_0x13fde2(0x75e)]({params:_0x53008b}){const _0x4876f4=_0x13fde2;if(!this[_0x4876f4(0x506)])throw new _0x46f718(_0x46f718['codes'][_0x4876f4(0x56c)],{'label':this[_0x4876f4(0x380)],'ownerId':this[_0x4876f4(0x27e)][_0x4876f4(0x677)](),'remoteId':this[_0x4876f4(0x2d2)]});for(const _0x534d6d of this[_0x4876f4(0x45f)][_0x4876f4(0x646)]())this[_0x4876f4(0x506)][_0x4876f4(0x3c5)]({'sourceId':this[_0x4876f4(0x27e)][_0x4876f4(0x677)](),'content':{'action':_0x5da97e[_0x4876f4(0x211)],'stream':this[_0x4876f4(0x45f)],'params':this[_0x4876f4(0x868)](_0x534d6d[_0x4876f4(0x602)],_0x53008b)}});}[_0x13fde2(0x250)]({trackKinds:_0x1e66d6}){const _0x184e42=_0x13fde2;if(this[_0x184e42(0x506)]){for(const _0x5292ad of this[_0x184e42(0x45f)][_0x184e42(0x646)]())_0x1e66d6['includes'](_0x5292ad[_0x184e42(0x602)])&&this[_0x184e42(0x506)]['publish']({'sourceId':this['owner'][_0x184e42(0x677)](),'content':{'action':_0x5da97e['Remove'],'stream':this['mediaStream'],'track':_0x5292ad}});}}[_0x13fde2(0x76f)](_0x343609){this['topic']=_0x343609;}[_0x13fde2(0x505)](_0xef2b39){const _0x55f5ad=_0x13fde2;_0xef2b39===this['topic']&&(delete this[_0x55f5ad(0x506)],this[_0x55f5ad(0x3ed)][_0x55f5ad(0x3c5)]());}[_0x13fde2(0x2a8)](_0x43a040){const _0x36ec26=_0x13fde2;return this[_0x36ec26(0x3ed)][_0x36ec26(0x76e)](_0x43a040);}['getTrack'](_0x5cb73f){const _0x2f2777=_0x13fde2;return this[_0x2f2777(0x45f)][_0x2f2777(0x646)]()[_0x2f2777(0x1a6)](_0x4c8be7=>_0x4c8be7['kind']===_0x5cb73f)||null;}[_0x13fde2(0x868)](_0x34c36e,_0x35898f){const _0x4297d2=_0x13fde2;let _0x1bef29;return _0x4297d2(0x3c1)===_0x34c36e&&_0x35898f?.[_0x4297d2(0x3c1)]&&_0x4297d2(0x662)!=typeof _0x35898f[_0x4297d2(0x3c1)]&&(_0x1bef29={'kind':_0x4297d2(0x3c1),..._0x35898f[_0x4297d2(0x3c1)]},_0x1bef29[_0x4297d2(0x511)]=this['getResolution']()),'audio'===_0x34c36e&&_0x35898f?.[_0x4297d2(0x706)]&&_0x4297d2(0x662)!=typeof _0x35898f[_0x4297d2(0x706)]&&(_0x1bef29={'kind':'audio',..._0x35898f[_0x4297d2(0x706)]}),_0x1bef29;}[_0x13fde2(0x1dc)](){const _0x1c8695=_0x13fde2;let _0x3f275c={'width':0x0,'height':0x0};const _0x2cd21d=this[_0x1c8695(0x45f)][_0x1c8695(0x54f)]();if(_0x2cd21d[_0x1c8695(0x24c)]>0x0){const _0x4df6f6=_0x2cd21d[0x0][_0x1c8695(0x807)]();_0x4df6f6[_0x1c8695(0x431)]&&_0x4df6f6['height']&&(_0x3f275c={'width':_0x4df6f6[_0x1c8695(0x431)],'height':_0x4df6f6[_0x1c8695(0x3bf)]});}return _0x3f275c;}}class _0x448f1f extends _0x314f30{['clusterId'];['priority']=_0x15de5e[_0x13fde2(0x4b6)][_0x13fde2(0x6eb)];['trackEndedListeners']=new Map();[_0x13fde2(0x1eb)]=new Map();constructor(_0x15dd24,_0x36d85c,_0x4a0c22,_0x2bf6f4){const _0x33ed08=_0x13fde2;super(_0x15dd24,_0x36d85c,_0x4a0c22 instanceof MediaStream?_0x4a0c22:_0x4a0c22[_0x33ed08(0x1f9)]?_0x4a0c22[_0x33ed08(0x1f9)]:_0x4a0c22[_0x33ed08(0x874)]()),this[_0x33ed08(0x89e)]=_0x2bf6f4,this[_0x33ed08(0x45f)][_0x33ed08(0x646)]()[_0x33ed08(0x1ed)](_0x3a0e42=>this['setupTrackEndedListeners'](_0x3a0e42)),_0x3d0f37[_0x33ed08(0x45d)](_0x33071f['MediaStream'],{'type':'publish','label':this[_0x33ed08(0x380)],'nodeId':this[_0x33ed08(0x27e)]['getId'](),'nodeType':this['owner'][_0x33ed08(0x5bb)],'clusterId':this[_0x33ed08(0x89e)],'streamId':this[_0x33ed08(0x406)](),'trackKinds':this[_0x33ed08(0x45f)]['getTracks']()[_0x33ed08(0x3d2)](_0x28048a=>_0x28048a[_0x33ed08(0x602)])});}['destroy'](){const _0x21230a=_0x13fde2;this[_0x21230a(0x1eb)][_0x21230a(0x411)]>0x0&&(this[_0x21230a(0x1eb)][_0x21230a(0x1ed)](_0x2b6731=>{const _0x2e3982=_0x21230a;_0x2b6731[_0x2e3982(0x769)](),_0x2b6731[_0x2e3982(0x85f)]();}),this['outgoingStreams']['clear']()),this['trackEndedListeners']['forEach'](_0xaba6d5=>_0xaba6d5()),super[_0x21230a(0x85f)]();}['publish'](_0x1b08f3){const _0x109731=_0x13fde2;this[_0x109731(0x51a)]['publish']({'sourceId':this[_0x109731(0x27e)][_0x109731(0x677)](),'destinationIds':_0x1b08f3?[_0x1b08f3]:void 0x0,'propagate':!0x0,'messageType':_0x1b694f[_0x109731(0x67b)],'content':{'type':_0x85b357[_0x109731(0x7d9)],'ownerId':this[_0x109731(0x27e)][_0x109731(0x677)](),'label':this[_0x109731(0x380)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this[_0x109731(0x45f)]['getTracks']()['map'](_0x31c40f=>_0x31c40f[_0x109731(0x602)])}}});}['unpublish'](){const _0x2e0c50=_0x13fde2;this[_0x2e0c50(0x51a)][_0x2e0c50(0x3c5)]({'sourceId':this[_0x2e0c50(0x27e)][_0x2e0c50(0x677)](),'propagate':!0x0,'messageType':_0x1b694f[_0x2e0c50(0x67b)],'content':{'type':_0x85b357[_0x2e0c50(0x48e)],'ownerId':this[_0x2e0c50(0x27e)][_0x2e0c50(0x677)](),'label':this[_0x2e0c50(0x380)]}}),this[_0x2e0c50(0x51a)][_0x2e0c50(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f['Content'],'content':{'type':_0x85b357[_0x2e0c50(0x88e)],'label':this[_0x2e0c50(0x380)]}}),_0x3d0f37[_0x2e0c50(0x45d)](_0x33071f[_0x2e0c50(0x841)],{'type':'unpublish','label':this['label'],'nodeId':this[_0x2e0c50(0x27e)][_0x2e0c50(0x677)](),'nodeType':this[_0x2e0c50(0x27e)][_0x2e0c50(0x5bb)],'clusterId':this[_0x2e0c50(0x89e)],'streamId':this['getInternalStreamId']()});}[_0x13fde2(0x5a7)](){const _0xd4dfaa=_0x13fde2;return this[_0xd4dfaa(0x4e9)];}[_0x13fde2(0x73b)](_0x578c04){const _0x5ab52f=_0x13fde2;this[_0x5ab52f(0x4e9)]=_0x578c04,this[_0x5ab52f(0x1eb)]['forEach'](_0x534189=>_0x534189[_0x5ab52f(0x73b)](_0x578c04));}[_0x13fde2(0x5ad)](_0x41db8b,_0x4bf073){const _0xf0b300=_0x13fde2;if(!this[_0xf0b300(0x1eb)][_0xf0b300(0x7f7)](_0x41db8b)){const _0x2f9d9d=new _0x1b83eb(this[_0xf0b300(0x27e)],this[_0xf0b300(0x380)],this['mediaStream'],_0x41db8b,_0x4bf073),_0x4d2eb1=_0x2f9d9d[_0xf0b300(0x2a8)](()=>{const _0x59c0b7=_0xf0b300;_0x4d2eb1(),this[_0x59c0b7(0x1eb)][_0x59c0b7(0x556)](_0x41db8b)?.[_0x59c0b7(0x85f)](),this[_0x59c0b7(0x1eb)][_0x59c0b7(0x6fd)](_0x41db8b);});this['outgoingStreams'][_0xf0b300(0x599)](_0x41db8b,_0x2f9d9d),_0x2f9d9d[_0xf0b300(0x18b)](this['systemTopic']);}return this[_0xf0b300(0x1eb)][_0xf0b300(0x556)](_0x41db8b);}[_0x13fde2(0x1da)](){const _0x4c634c=_0x13fde2;return this[_0x4c634c(0x45f)]['id'];}['handleLocalTrackFailure'](_0xbc6c61){const _0x5de1fe=_0x13fde2;this['systemTopic'][_0x5de1fe(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x5de1fe(0x67b)],'content':{'type':_0x85b357[_0x5de1fe(0x79a)],'label':this[_0x5de1fe(0x380)],'trackKinds':[_0xbc6c61['kind']]}});}[_0x13fde2(0x88f)](_0x779fc4){const _0xde19c9=_0x13fde2,_0x326db6=()=>this[_0xde19c9(0x863)](_0x779fc4);_0x779fc4[_0xde19c9(0x5b5)](_0xde19c9(0x6f3),_0x326db6),_0x779fc4[_0xde19c9(0x5b5)](_0xde19c9(0x566),_0x326db6),this['trackEndedListeners'][_0xde19c9(0x599)](_0x779fc4[_0xde19c9(0x602)],()=>{const _0x48cfea=_0xde19c9;_0x779fc4[_0x48cfea(0x5d6)](_0x48cfea(0x6f3),_0x326db6),_0x779fc4['removeEventListener'](_0x48cfea(0x566),_0x326db6),this[_0x48cfea(0x537)][_0x48cfea(0x6fd)](_0x779fc4['kind']);});}}class _0x2ddbfa extends _0x448f1f{[_0x13fde2(0x2c3)];[_0x13fde2(0x3d7)]=[];[_0x13fde2(0x682)];[_0x13fde2(0x580)];[_0x13fde2(0x44d)];['sourceVideo'];[_0x13fde2(0x6ae)];[_0x13fde2(0x864)];['interval'];constructor(_0x21ece3,_0x2898f5,_0x4039b5,_0x5e383f,_0x2f776e,_0x4b392f){const _0x188742=_0x13fde2;if(super(_0x21ece3,_0x2898f5,_0x4039b5,_0x4b392f),this[_0x188742(0x2c3)]=_0x2f776e,this[_0x188742(0x682)]=this[_0x188742(0x45f)],this[_0x188742(0x52d)]=document[_0x188742(0x719)](_0x188742(0x3c1)),this[_0x188742(0x52d)][_0x188742(0x326)]=!0x0,this[_0x188742(0x52d)]['muted']=!0x0,this['sourceVideo'][_0x188742(0x1f9)]=this[_0x188742(0x682)],this[_0x188742(0x52d)]['load'](),this[_0x188742(0x52d)]['onloadeddata']=()=>{const _0x1de9e6=_0x188742;this[_0x1de9e6(0x52d)][_0x1de9e6(0x1c0)]();},this['canvas']=document[_0x188742(0x719)](_0x188742(0x6ae)),this[_0x188742(0x864)]=this[_0x188742(0x6ae)][_0x188742(0x7e1)]('2d'),this[_0x188742(0x45f)]=this[_0x188742(0x6ae)][_0x188742(0x874)](_0x5e383f),this['audioDestination']=this[_0x188742(0x2c3)][_0x188742(0x188)](),this[_0x188742(0x682)][_0x188742(0x1be)]()[_0x188742(0x24c)]>0x0){const _0x46691c=this[_0x188742(0x682)][_0x188742(0x1be)]()[0x0];this[_0x188742(0x580)]=this[_0x188742(0x2c3)][_0x188742(0x1f6)](new MediaStream([_0x46691c])),this[_0x188742(0x580)]['connect'](this[_0x188742(0x44d)]);}const _0x21eeb4=this[_0x188742(0x44d)][_0x188742(0x40a)][_0x188742(0x646)]()[0x0];this[_0x188742(0x45f)][_0x188742(0x74f)](_0x21eeb4),this[_0x188742(0x69b)]=setInterval(()=>{const _0x2e1fd7=_0x188742;this[_0x2e1fd7(0x6ae)][_0x2e1fd7(0x431)]=this[_0x2e1fd7(0x52d)]['videoWidth'],this[_0x2e1fd7(0x6ae)][_0x2e1fd7(0x3bf)]=this[_0x2e1fd7(0x52d)]['videoHeight'],this[_0x2e1fd7(0x52d)][_0x2e1fd7(0x4bc)]?(0x0!==this[_0x2e1fd7(0x682)]['getVideoTracks']()[_0x2e1fd7(0x24c)]&&this[_0x2e1fd7(0x682)][_0x2e1fd7(0x54f)]()[0x0][_0x2e1fd7(0x2f8)]?this[_0x2e1fd7(0x45f)][_0x2e1fd7(0x54f)]()[0x0][_0x2e1fd7(0x2f8)]=!0x0:this[_0x2e1fd7(0x45f)]['getVideoTracks']()[0x0]['enabled']=!0x1,0x0!==this[_0x2e1fd7(0x682)][_0x2e1fd7(0x1be)]()[_0x2e1fd7(0x24c)]&&this[_0x2e1fd7(0x682)]['getAudioTracks']()[0x0][_0x2e1fd7(0x2f8)]?this[_0x2e1fd7(0x45f)][_0x2e1fd7(0x1be)]()[0x0][_0x2e1fd7(0x2f8)]=!0x0:this['mediaStream'][_0x2e1fd7(0x1be)]()[0x0]['enabled']=!0x1,this[_0x2e1fd7(0x864)][_0x2e1fd7(0x363)](this[_0x2e1fd7(0x52d)],0x0,0x0)):this[_0x2e1fd7(0x864)]['clearRect'](0x0,0x0,this[_0x2e1fd7(0x6ae)][_0x2e1fd7(0x431)],this[_0x2e1fd7(0x6ae)][_0x2e1fd7(0x3bf)]);},0x3e8/_0x5e383f);}['destroy'](){const _0x20a3c4=_0x13fde2;clearInterval(this['interval']),this[_0x20a3c4(0x52d)][_0x20a3c4(0x49e)](),this[_0x20a3c4(0x6ae)][_0x20a3c4(0x49e)](),this[_0x20a3c4(0x580)]?.[_0x20a3c4(0x82f)](),this[_0x20a3c4(0x44d)]['disconnect'](),this['mediaStream'][_0x20a3c4(0x646)]()[_0x20a3c4(0x1ed)](_0x75ae05=>{const _0x515fcc=_0x20a3c4;_0x75ae05[_0x515fcc(0x4f4)](),this['mediaStream']['removeTrack'](_0x75ae05);}),super[_0x20a3c4(0x85f)]();}[_0x13fde2(0x74f)](_0x4e8c0e){const _0x146c19=_0x13fde2,_0x4475f0=this[_0x146c19(0x855)](_0x4e8c0e[_0x146c19(0x602)]);_0x4475f0&&this[_0x146c19(0x7a8)](_0x4475f0),_0x146c19(0x706)!==_0x4e8c0e[_0x146c19(0x602)]?(_0x146c19(0x3c1)===_0x4e8c0e[_0x146c19(0x602)]&&this[_0x146c19(0x790)](_0x4e8c0e),this['setupTrackEndedListeners'](_0x4e8c0e)):this[_0x146c19(0x7e9)](_0x4e8c0e);}[_0x13fde2(0x7a8)](_0x4f56b7){const _0x733ea2=_0x13fde2,_0x355c27=this[_0x733ea2(0x609)](_0x4f56b7);return _0x355c27&&(_0x733ea2(0x706)===_0x355c27['kind']&&(this['audioSource']?.[_0x733ea2(0x82f)](),this['audioSource']=void 0x0),this[_0x733ea2(0x537)][_0x733ea2(0x556)](_0x355c27[_0x733ea2(0x602)])?.(),this[_0x733ea2(0x682)][_0x733ea2(0x7a8)](_0x355c27)),_0x355c27;}[_0x13fde2(0x4cf)](_0x47021e){const _0x6ac548=_0x13fde2;this[_0x6ac548(0x7a8)](_0x47021e[_0x6ac548(0x602)]),this[_0x6ac548(0x74f)](_0x47021e);}[_0x13fde2(0x784)](_0x5f4933){const _0x3234c9=_0x13fde2;this[_0x3234c9(0x3d7)]=_0x5f4933;}[_0x13fde2(0x855)](_0x44856f){const _0x1aadd8=_0x13fde2;return this[_0x1aadd8(0x682)][_0x1aadd8(0x646)]()[_0x1aadd8(0x1a6)](_0x138d20=>_0x138d20[_0x1aadd8(0x602)]===_0x44856f)||null;}[_0x13fde2(0x609)](_0x297bfe){const _0x47fcb0=_0x13fde2;return _0x47fcb0(0x28d)==typeof _0x297bfe?this[_0x47fcb0(0x855)](_0x297bfe):_0x297bfe;}[_0x13fde2(0x7e9)](_0x4d58b9){const _0x376246=_0x13fde2;'suspended'===this[_0x376246(0x2c3)][_0x376246(0x83d)]&&this['audioContext']['resume'](),this[_0x376246(0x682)][_0x376246(0x74f)](_0x4d58b9),this[_0x376246(0x580)]=this[_0x376246(0x2c3)]['createMediaStreamSource'](this[_0x376246(0x682)]),this[_0x376246(0x580)][_0x376246(0x6d3)](this[_0x376246(0x44d)]);}['addVideoTrack'](_0x4248e9){const _0x2187e5=_0x13fde2;this[_0x2187e5(0x682)][_0x2187e5(0x74f)](_0x4248e9),this[_0x2187e5(0x52d)]['load']();}}class _0x3ced05 extends _0x448f1f{}class _0x3452be extends _0x454bb4{[_0x13fde2(0x672)];[_0x13fde2(0x89e)];[_0x13fde2(0x1f3)];[_0x13fde2(0x3e1)];[_0x13fde2(0x46f)];[_0x13fde2(0x487)];[_0x13fde2(0x70d)];['pendingSyncTransactions']=new Map();[_0x13fde2(0x336)]=new Map();[_0x13fde2(0x3fb)]=new Map();[_0x13fde2(0x7f0)]=new Map();[_0x13fde2(0x67f)]=new Map();[_0x13fde2(0x826)]=new Map();[_0x13fde2(0x793)];[_0x13fde2(0x64a)]=_0x223536();[_0x13fde2(0x6a2)]=new Map();['debounceStats'];[_0x13fde2(0x341)]=0x0;[_0x13fde2(0x2b7)]=0x0;[_0x13fde2(0x1ef)]=!0x0;[_0x13fde2(0x1b9)]=!0x0;constructor(_0x459b09,_0xc0f09a,_0x270c2f,_0x19d93a,_0x247ca3,_0x191617,_0x4da3ba){const _0x2be767=_0x13fde2;if(_0x2be767(0x28d)!=typeof _0xc0f09a)throw new _0x3fd286(_0x12afa6[_0x2be767(0x700)],_0x2be767(0x611));super(_0x459b09,_0xc0f09a),this[_0x2be767(0x672)]=_0x459b09,this[_0x2be767(0x89e)]=_0x270c2f,this['vendorId']=_0x19d93a,this['transactionService']=_0x247ca3,this[_0x2be767(0x46f)]=_0x4da3ba;const _0x50f5d2='ccc'+this[_0x2be767(0x1f3)]+_0x2be767(0x41d)+this['clusterId']+'ccc'+_0xc0f09a;this['objectStoreConnector']=new _0x191617(_0x50f5d2),this['sendStats']();}[_0x13fde2(0x416)](){this['sendStats']();}['getContentType'](){const _0x3ae8ef=_0x13fde2;return _0x15de5e[_0x3ae8ef(0x671)]['ObjectStore'];}async[_0x13fde2(0x856)](_0x1934a9){const _0x36d1bc=_0x13fde2;void 0x0!==_0x1934a9&&(this[_0x36d1bc(0x1ef)]=_0x1934a9),this[_0x36d1bc(0x1b9)]=!0x0;try{const _0xf00ddf=await this[_0x36d1bc(0x793)][_0x36d1bc(0x556)](_0x40c1eb),_0x14a3f5=await _0xf00ddf[_0x36d1bc(0x7cc)]();this[_0x36d1bc(0x70d)]=_0x14a3f5;}catch(_0x57208e){}this[_0x36d1bc(0x487)]=this['onMessage'](async(_0x30abce,_0x3dbe94)=>{const _0x24e530=_0x36d1bc;if(!(_0x3dbe94 instanceof File))try{if(_0x3dbe94[_0x24e530(0x408)]===_0x2bede4[_0x24e530(0x24e)])return void this[_0x24e530(0x512)](_0x3dbe94);this[_0x24e530(0x63d)](_0x3dbe94);}catch(_0x5191a2){if(_0x5191a2 instanceof _0x46f718)throw _0x5191a2;throw new _0x46f718(_0x46f718[_0x24e530(0x6b3)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x3dbe94});}}),await this[_0x36d1bc(0x7c4)](),this['syncContent']?await this['syncPendingFiles']():this[_0x36d1bc(0x598)](),this[_0x36d1bc(0x68f)]();}[_0x13fde2(0x85f)](){const _0x2d573b=_0x13fde2;this[_0x2d573b(0x487)]?.(),clearTimeout(this[_0x2d573b(0x57d)]),delete this[_0x2d573b(0x57d)],super[_0x2d573b(0x85f)]();}[_0x13fde2(0x3df)](){const _0x5bd61e=_0x13fde2;this[_0x5bd61e(0x51a)]?.[_0x5bd61e(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x5bd61e(0x67b)],'content':{'type':_0x85b357[_0x5bd61e(0x565)],'label':this[_0x5bd61e(0x380)]}});}['subscribe'](_0x669116,_0x36231b){const _0x196962=_0x13fde2;if(this[_0x196962(0x6a2)]['has'](_0x669116))throw new _0x3fd286(_0x12afa6[_0x196962(0x89a)],_0x196962(0x6d5));this[_0x196962(0x6a2)][_0x196962(0x599)](_0x669116,this[_0x196962(0x64a)]['subscribe'](_0x36231b)),this[_0x196962(0x1b9)]||this[_0x196962(0x64a)][_0x196962(0x3c5)]({'event':_0x15de5e[_0x196962(0x65a)][_0x196962(0x28c)],'payload':null});}[_0x13fde2(0x250)](_0x145e4f){const _0x22eed4=_0x13fde2;this[_0x22eed4(0x6a2)][_0x22eed4(0x556)](_0x145e4f)?.(),this['listenerUnsubscribers'][_0x22eed4(0x6fd)](_0x145e4f);}[_0x13fde2(0x3c5)](_0x5f225a){const _0x42c869=_0x13fde2;switch(_0x5f225a[_0x42c869(0x61e)]){case _0x15de5e[_0x42c869(0x2f9)]['File']:return this['publishFile'](_0x5f225a[_0x42c869(0x3e9)],_0x5f225a['path'],_0x5f225a[_0x42c869(0x708)]);case _0x15de5e[_0x42c869(0x2f9)][_0x42c869(0x6c4)]:return this[_0x42c869(0x71d)](_0x5f225a[_0x42c869(0x392)]);case _0x15de5e['PayloadAction'][_0x42c869(0x5c5)]:return this['publishMove'](_0x5f225a[_0x42c869(0x392)],_0x5f225a[_0x42c869(0x6d2)]);default:throw new _0x3fd286(_0x12afa6['ObjectStoreInvalidPayload'],_0x42c869(0x7e8)+_0x5f225a);}}async['unpublish'](_0x77b3a9){const _0x1825f0=_0x13fde2;try{const _0x2237e3=(0x0,_0x1575cc['v4'])(),_0x3e748d=this['lastTransactionId'],_0x28936e={'payloadType':_0x2bede4[_0x1825f0(0x60a)],'action':_0x64ee99['Delete'],'id':_0x2237e3,'parentId':_0x3e748d,'path':_0x77b3a9};await this['publishTransaction'](_0x28936e);const _0x56dd72=await this['deleteObject'](_0x77b3a9);await this[_0x1825f0(0x232)](_0x28936e),_0x3d0f37['logServiceEvent'](_0x33071f['ObjectStorage'],{'type':'unpublish','label':this[_0x1825f0(0x380)],'nodeId':this['localNode'][_0x1825f0(0x677)](),'nodeType':this['localNode'][_0x1825f0(0x5bb)],'clusterId':this[_0x1825f0(0x89e)],'kind':_0x56dd72,'path':_0x77b3a9}),this[_0x1825f0(0x341)]+=0x1,this[_0x1825f0(0x68f)]();}catch(_0x1d1839){if(_0x1d1839 instanceof _0x46f718)throw new _0x3fd286(_0x12afa6[_0x1825f0(0x7c5)],_0x1825f0(0x678));throw new _0x3fd286(_0x12afa6[_0x1825f0(0x5a6)],_0x1825f0(0x31f)+_0x77b3a9);}}async[_0x13fde2(0x556)](_0x2f7d4b,_0x2a1ac8){const _0x434e55=_0x13fde2;_0x3d0f37[_0x434e55(0x45d)](_0x33071f[_0x434e55(0x82c)],{'type':_0x434e55(0x556),'label':this[_0x434e55(0x380)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x434e55(0x672)]['type'],'clusterId':this[_0x434e55(0x89e)],'path':_0x2f7d4b}),this['reads']+=0x1,this['sendStats']();try{return await this[_0x434e55(0x793)]['get'](_0x2f7d4b,_0x2a1ac8);}catch(_0x6b1ef9){try{await this[_0x434e55(0x793)][_0x434e55(0x556)](_0x2f7d4b+_0x10ea18);}catch(_0x4fb3c6){throw new _0x3fd286(_0x12afa6[_0x434e55(0x5a6)],_0x434e55(0x65e)+_0x2f7d4b);}throw new _0x3fd286(_0x12afa6['ObjectStoreNotInSync'],_0x434e55(0x2fb));}}async[_0x13fde2(0x1b1)](_0x2b513b,_0x513ae8){const _0x5e8e5a=_0x13fde2,{recursive:_0x429c60=!0x1,includeSyncingFiles:_0x544e51=!0x1}=_0x513ae8??{};_0x3d0f37[_0x5e8e5a(0x45d)](_0x33071f[_0x5e8e5a(0x82c)],{'type':'list','label':this[_0x5e8e5a(0x380)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x5e8e5a(0x672)][_0x5e8e5a(0x5bb)],'clusterId':this[_0x5e8e5a(0x89e)],'path':_0x2b513b}),this[_0x5e8e5a(0x2b7)]+=0x1,this['sendStats']();try{const _0x27573c=await this[_0x5e8e5a(0x793)][_0x5e8e5a(0x1b1)](_0x2b513b,_0x429c60);return this[_0x5e8e5a(0x17a)](_0x27573c,{'recursive':_0x429c60,'includeSyncingFiles':_0x544e51});}catch(_0x5a1e1a){throw new _0x3fd286(_0x12afa6[_0x5e8e5a(0x5a6)],_0x5e8e5a(0x3e7)+_0x2b513b);}}['handleNodeJoin'](_0x4a017c){const _0x5a52e6=_0x13fde2;for(const _0x43a81f of this[_0x5a52e6(0x336)][_0x5a52e6(0x45b)]())this[_0x5a52e6(0x232)](_0x43a81f,[_0x4a017c]);}[_0x13fde2(0x601)](_0x5c73ab){const _0x48f7e3=_0x13fde2,_0xd7bef1=this[_0x48f7e3(0x3fb)][_0x48f7e3(0x556)](_0x5c73ab);if(_0xd7bef1){for(const [_0x35666f,_0x3ac2ac]of _0xd7bef1['values']())this['sendFileRequestPayload'](_0x35666f,_0x3ac2ac);this[_0x48f7e3(0x3fb)][_0x48f7e3(0x6fd)](_0x5c73ab);}}async[_0x13fde2(0x3de)](_0x328cd0='/'){const _0x69ce1=_0x13fde2;try{return await this[_0x69ce1(0x793)][_0x69ce1(0x212)](_0x328cd0);}catch(_0x18e2e5){if(_0x18e2e5 instanceof Error&&_0x18e2e5[_0x69ce1(0x4de)][_0x69ce1(0x563)](_0x69ce1(0x412)))return 0x0;throw new _0x3fd286(_0x12afa6[_0x69ce1(0x5a6)],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x328cd0);}}[_0x13fde2(0x598)](){const _0x53e48e=_0x13fde2;this['isSyncing']&&(this[_0x53e48e(0x1b9)]=!0x1,this[_0x53e48e(0x64a)][_0x53e48e(0x3c5)]({'event':_0x15de5e['StorageEventType']['SyncComplete'],'payload':null}));}async[_0x13fde2(0x17a)](_0x8994fe,{includeSyncingFiles:_0x3f9081=!0x1}){const _0x1e2629=_0x13fde2,_0xb8c962=[];for(const _0x623012 of _0x8994fe)if(_0x623012[_0x1e2629(0x602)]!==_0x15de5e[_0x1e2629(0x41b)]['Folder']){if(_0x623012[_0x1e2629(0x670)]!==_0x40c1eb){if(_0x623012['name'][_0x1e2629(0x83c)](_0x10ea18)){if(!_0x3f9081)continue;const _0x279e7a=_0x623012;if(_0x279e7a[_0x1e2629(0x670)]=_0x279e7a[_0x1e2629(0x670)][_0x1e2629(0x7b3)](_0x10ea18,''),_0x279e7a['pathName']=_0x279e7a[_0x1e2629(0x894)]['replace'](_0x10ea18,''),await this[_0x1e2629(0x2a6)](_0x279e7a['pathName'])){_0x8994fe[_0x1e2629(0x1a6)](_0x299e06=>_0x299e06[_0x1e2629(0x894)]===_0x279e7a[_0x1e2629(0x894)])[_0x1e2629(0x1ca)]=_0x15de5e[_0x1e2629(0x4ed)]['Syncing'];continue;}_0x279e7a[_0x1e2629(0x1ca)]=_0x15de5e[_0x1e2629(0x4ed)][_0x1e2629(0x610)];}_0xb8c962[_0x1e2629(0x875)](_0x623012);}}else _0x623012[_0x1e2629(0x78d)]=await this[_0x1e2629(0x17a)](_0x623012['entries']??[],{'includeSyncingFiles':_0x3f9081}),_0xb8c962[_0x1e2629(0x875)](_0x623012);return _0xb8c962;}async['publishFile'](_0x9a521d,_0x141c6a,_0x285804){const _0x28fae3=_0x13fde2;try{const _0x43958c=(0x0,_0x1575cc['v4'])(),_0x5a5fa7=await _0x1501ff(_0x9a521d),_0x38e730=_0x2cda9b(_0x141c6a??'/',_0x9a521d[_0x28fae3(0x670)]);let _0x3daefc=!0x0;const _0x4d655f={'payloadType':_0x2bede4['Transaction'],'action':_0x64ee99[_0x28fae3(0x460)],'id':_0x43958c,'parentId':this['lastTransactionId'],'answererId':this[_0x28fae3(0x672)]['getId'](),'name':_0x9a521d[_0x28fae3(0x670)],'type':_0x9a521d[_0x28fae3(0x5bb)],'path':_0x141c6a??'/','skipEncryption':_0x285804?.[_0x28fae3(0x606)]??!0x1,'checksum':_0x5a5fa7};try{const _0x15872d=_0x38e730+_0x10ea18;await this[_0x28fae3(0x793)][_0x28fae3(0x556)](_0x15872d),_0x3daefc=!0x1,this[_0x28fae3(0x5a2)](_0x15872d),this[_0x28fae3(0x336)]['delete'](_0x38e730);}catch(_0x4c7847){await this['publishTransaction'](_0x4d655f);}if(this[_0x28fae3(0x1ef)]?await this[_0x28fae3(0x45a)](_0x9a521d,_0x141c6a,_0x285804):await this[_0x28fae3(0x798)](_0x9a521d[_0x28fae3(0x670)],_0x141c6a??'/',{'checksum':_0x5a5fa7,'skipEncryption':_0x285804?.[_0x28fae3(0x606)]??!0x1}),this[_0x28fae3(0x826)][_0x28fae3(0x7f7)](_0x38e730)){const [_0x5dc9db,_0x13cb7a]=this[_0x28fae3(0x826)][_0x28fae3(0x556)](_0x38e730);this[_0x28fae3(0x826)]['set'](_0x38e730,[!0x0,_0x13cb7a]);try{await _0x13cb7a;}catch(_0x3a7750){}this[_0x28fae3(0x826)][_0x28fae3(0x6fd)](_0x38e730);}_0x3daefc&&await this[_0x28fae3(0x2cf)](_0x9a521d,_0x4d655f),_0x3d0f37[_0x28fae3(0x45d)](_0x33071f[_0x28fae3(0x82c)],{'type':_0x28fae3(0x3c5),'label':this['label'],'nodeId':this[_0x28fae3(0x672)][_0x28fae3(0x677)](),'nodeType':this[_0x28fae3(0x672)][_0x28fae3(0x5bb)],'clusterId':this['clusterId'],'kind':_0x15de5e[_0x28fae3(0x41b)][_0x28fae3(0x5c3)],'path':_0x141c6a,'fileName':_0x9a521d['name'],'fileType':_0x9a521d[_0x28fae3(0x5bb)],'size':_0x9a521d['size']}),this[_0x28fae3(0x341)]+=0x1,this[_0x28fae3(0x68f)]();}catch(_0x1336d7){if(_0x1336d7 instanceof _0x46f718)throw new _0x3fd286(_0x12afa6[_0x28fae3(0x7c5)],_0x28fae3(0x2fb));throw new _0x3fd286(_0x12afa6['ObjectStoreInvalidPath'],_0x28fae3(0x4fc)+_0x141c6a);}}async[_0x13fde2(0x71d)](_0x28b63b){const _0x1a8c31=_0x13fde2;try{const _0x16d662=(0x0,_0x1575cc['v4'])(),_0x3ef78e=this['lastTransactionId'],_0x32254a={'payloadType':_0x2bede4['Transaction'],'action':_0x64ee99['FolderCreate'],'id':_0x16d662,'parentId':_0x3ef78e,'path':_0x28b63b};await this[_0x1a8c31(0x758)](_0x32254a),await this[_0x1a8c31(0x793)][_0x1a8c31(0x291)](_0x28b63b),await this[_0x1a8c31(0x232)](_0x32254a),_0x3d0f37['logServiceEvent'](_0x33071f['ObjectStorage'],{'type':_0x1a8c31(0x3c5),'label':this[_0x1a8c31(0x380)],'nodeId':this[_0x1a8c31(0x672)][_0x1a8c31(0x677)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x1a8c31(0x89e)],'kind':_0x15de5e[_0x1a8c31(0x41b)][_0x1a8c31(0x6c4)],'path':_0x28b63b}),this[_0x1a8c31(0x341)]+=0x1,this['sendStats']();}catch(_0x5262e4){if(_0x5262e4 instanceof _0x46f718)throw new _0x3fd286(_0x12afa6[_0x1a8c31(0x7c5)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x3fd286(_0x12afa6[_0x1a8c31(0x5a6)],'Cannot\x20publish\x20folder:\x20'+_0x28b63b);}}async[_0x13fde2(0x6e0)](_0x226520,_0x1e7fef){const _0x5d619b=_0x13fde2;try{const _0x22cdd1=(0x0,_0x1575cc['v4'])(),_0x134b16=this[_0x5d619b(0x70d)],_0x2b4ebf={'payloadType':_0x2bede4[_0x5d619b(0x60a)],'action':_0x64ee99['Move'],'id':_0x22cdd1,'parentId':_0x134b16,'path':_0x226520,'newPath':_0x1e7fef};await this[_0x5d619b(0x758)](_0x2b4ebf);const _0x119459=await this[_0x5d619b(0x1bb)](_0x226520,_0x1e7fef);await this['send'](_0x2b4ebf),_0x3d0f37[_0x5d619b(0x45d)](_0x33071f[_0x5d619b(0x82c)],{'type':'move','label':this[_0x5d619b(0x380)],'nodeId':this['localNode'][_0x5d619b(0x677)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x5d619b(0x89e)],'kind':_0x119459,'path':_0x226520,'newPath':_0x1e7fef}),this[_0x5d619b(0x341)]+=0x1,this['sendStats']();}catch(_0x35d8e5){if(_0x35d8e5 instanceof _0x46f718)throw new _0x3fd286(_0x12afa6['ObjectStoreNotInSync'],_0x5d619b(0x2fb));throw new _0x3fd286(_0x12afa6[_0x5d619b(0x5a6)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x226520);}}async[_0x13fde2(0x63d)](_0x38065a,_0x220908=!0x1){const _0x3f93e2=_0x13fde2;if(this[_0x3f93e2(0x70d)]&&_0x38065a[_0x3f93e2(0x5d3)]!==this['lastTransactionId']&&_0x38065a['id']!==this['lastTransactionId']){if(!_0x38065a[_0x3f93e2(0x5d3)])throw new _0x46f718(_0x46f718['codes']['ObjectStoreInvalidSyncMessage']);this['pendingSyncTransactions'][_0x3f93e2(0x599)](_0x38065a[_0x3f93e2(0x5d3)],_0x38065a);}else{try{await this[_0x3f93e2(0x1d3)](_0x38065a,_0x220908);}catch(_0x30f1ed){}await this[_0x3f93e2(0x199)](_0x38065a['id']),await this[_0x3f93e2(0x6e8)](_0x38065a['id'],_0x220908);}}async['processTransactionPayload'](_0x44a825,_0x1e85c5=!0x1){const _0x24940f=_0x13fde2;switch(_0x44a825[_0x24940f(0x61e)]){case _0x64ee99[_0x24940f(0x460)]:await this['handleFileWrite'](_0x44a825);break;case _0x64ee99[_0x24940f(0x588)]:await this[_0x24940f(0x19c)](_0x44a825);break;case _0x64ee99[_0x24940f(0x5c5)]:await this['handleObjectMove'](_0x44a825,_0x1e85c5);break;case _0x64ee99[_0x24940f(0x607)]:await this['handleObjectDelete'](_0x44a825,_0x1e85c5);break;default:throw new _0x46f718(_0x46f718[_0x24940f(0x6b3)][_0x24940f(0x684)],{'payload':_0x44a825});}}async[_0x13fde2(0x6e8)](_0x34d178,_0xbde71e=!0x1){const _0x18b0a1=_0x13fde2;if(this['pendingSyncTransactions'][_0x18b0a1(0x7f7)](_0x34d178)){const _0x4656ba=this[_0x18b0a1(0x432)][_0x18b0a1(0x556)](_0x34d178);this[_0x18b0a1(0x432)]['delete'](_0x34d178),await this['handleTransactionPayload'](_0x4656ba,_0xbde71e);}}async[_0x13fde2(0x512)](_0x52d173){const _0x49f70b=_0x13fde2;switch(_0x52d173['action']){case _0x64ee99['RequestFile']:return this[_0x49f70b(0x6e2)](_0x52d173);case _0x64ee99['RequestAccepted']:return this[_0x49f70b(0x8b0)](_0x52d173);case _0x64ee99[_0x49f70b(0x4e6)]:return this[_0x49f70b(0x698)](_0x52d173);case _0x64ee99[_0x49f70b(0x812)]:return this['handleFileWrite'](_0x52d173);default:throw new _0x46f718(_0x46f718[_0x49f70b(0x6b3)][_0x49f70b(0x684)],{'payload':_0x52d173});}}async[_0x13fde2(0x4d8)](_0x8a3302,_0x2d3621=0x0){const _0x37ecf0=_0x13fde2,_0x3a44ba=_0x2cda9b(_0x8a3302[_0x37ecf0(0x392)],_0x8a3302[_0x37ecf0(0x670)]);if(!_0x8a3302[_0x37ecf0(0x7e0)]||void 0x0===_0x8a3302[_0x37ecf0(0x568)]||!_0x8a3302[_0x37ecf0(0x316)])return this[_0x37ecf0(0x614)][_0x37ecf0(0x6fd)](_0x3a44ba),void await this[_0x37ecf0(0x798)](_0x8a3302[_0x37ecf0(0x670)],_0x8a3302[_0x37ecf0(0x392)],{'checksum':_0x8a3302[_0x37ecf0(0x386)],'skipEncryption':_0x8a3302[_0x37ecf0(0x606)]});if(this[_0x37ecf0(0x614)][_0x37ecf0(0x7f7)](_0x3a44ba)){const _0x2bf358=this['fileChunks']['get'](_0x3a44ba);_0x2bf358['checksum']!==_0x8a3302[_0x37ecf0(0x386)]&&(_0x2bf358[_0x37ecf0(0x40a)]?.['close'](),this[_0x37ecf0(0x614)]['delete'](_0x3a44ba));}if(!this['fileChunks'][_0x37ecf0(0x7f7)](_0x3a44ba)){try{await this[_0x37ecf0(0x793)][_0x37ecf0(0x5a2)](_0x3a44ba);}catch(_0x11f7d5){}try{const _0x46906f=this[_0x37ecf0(0x1ef)]?await this[_0x37ecf0(0x793)][_0x37ecf0(0x3e2)](_0x3a44ba,{'skipEncryption':_0x8a3302[_0x37ecf0(0x606)]}):void 0x0,_0x59a71d={'chunksReceived':_0x8a3302['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x46906f,'checksum':_0x8a3302[_0x37ecf0(0x386)]};this['fileChunks'][_0x37ecf0(0x599)](_0x3a44ba,_0x59a71d),await this[_0x37ecf0(0x798)](_0x8a3302[_0x37ecf0(0x670)],_0x8a3302['path'],{'checksum':_0x8a3302['checksum'],'skipEncryption':_0x8a3302[_0x37ecf0(0x606)]});}catch(_0x1b5400){}}const _0x45aa4a=this[_0x37ecf0(0x614)][_0x37ecf0(0x556)](_0x3a44ba);if(_0x8a3302['checksum']!==_0x45aa4a['checksum'])return;if(this[_0x37ecf0(0x1e1)](_0x8a3302,_0x3a44ba),this[_0x37ecf0(0x1ef)]){if(!_0x45aa4a[_0x37ecf0(0x40a)])throw new _0x46f718(_0x46f718[_0x37ecf0(0x6b3)][_0x37ecf0(0x684)],{'message':_0x37ecf0(0x34b)});let _0x415a1d=_0x45aa4a[_0x37ecf0(0x584)];if(_0x8a3302[_0x37ecf0(0x568)]!==_0x415a1d){if(_0x415a1d>_0x8a3302[_0x37ecf0(0x568)])return;const _0x3fcd4e=2064.1259842519685;if(_0x8a3302['index']>_0x415a1d+_0x3fcd4e)return;if(_0x45aa4a[_0x37ecf0(0x192)]||(_0x45aa4a['bufferedChunks']=[]),_0x45aa4a[_0x37ecf0(0x192)]['length']>8256.503937007874)throw this[_0x37ecf0(0x614)][_0x37ecf0(0x6fd)](_0x3a44ba),new _0x46f718(_0x46f718['codes']['ObjectStoreInvalidSyncMessage'],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x45aa4a[_0x37ecf0(0x192)][_0x37ecf0(0x875)](_0x8a3302);}try{_0x45aa4a[_0x37ecf0(0x584)]+=0x1,_0x45aa4a[_0x37ecf0(0x428)]+=_0x8a3302['data'][_0x37ecf0(0x314)],await _0x45aa4a[_0x37ecf0(0x40a)][_0x37ecf0(0x55f)](_0x8a3302['data']);}catch(_0x14feaf){if(console['error'](_0x37ecf0(0x29c),_0x14feaf),_0x2d3621>0x3)throw this[_0x37ecf0(0x614)]['delete'](_0x3a44ba),console['error'](_0x37ecf0(0x255),_0x14feaf),new _0x46f718(_0x46f718[_0x37ecf0(0x6b3)]['ObjectStoreInvalidSyncMessage'],{'message':_0x37ecf0(0x255)});return this[_0x37ecf0(0x4d8)](_0x8a3302,_0x2d3621+0x1);}}try{await this['manageBufferedChunks'](_0x45aa4a,_0x8a3302[_0x37ecf0(0x568)]+0x1);}catch(_0x3f42e3){throw this[_0x37ecf0(0x614)][_0x37ecf0(0x6fd)](_0x3a44ba),_0x3f42e3;}if(this['fileChunks'][_0x37ecf0(0x599)](_0x3a44ba,_0x45aa4a),_0x45aa4a[_0x37ecf0(0x584)]<_0x8a3302[_0x37ecf0(0x316)])return;await this[_0x37ecf0(0x481)](_0x3a44ba),this['syncContent']&&(await this[_0x37ecf0(0x7e5)](_0x8a3302),_0x3d0f37[_0x37ecf0(0x45d)](_0x33071f[_0x37ecf0(0x82c)],{'type':_0x37ecf0(0x856),'label':this['label'],'nodeId':this['localNode'][_0x37ecf0(0x677)](),'nodeType':this[_0x37ecf0(0x672)][_0x37ecf0(0x5bb)],'clusterId':this['clusterId'],'kind':_0x15de5e['ObjectKind'][_0x37ecf0(0x5c3)],'path':_0x8a3302[_0x37ecf0(0x392)],'fileName':_0x8a3302[_0x37ecf0(0x670)],'fileType':_0x8a3302['type'],'size':_0x45aa4a['bytesReceived']}));const _0x508b36=this[_0x37ecf0(0x7f0)][_0x37ecf0(0x556)](_0x8a3302[_0x37ecf0(0x392)])??[];for(const _0x6d44ac of _0x508b36)await this[_0x37ecf0(0x1d3)](_0x6d44ac);this[_0x37ecf0(0x7f0)][_0x37ecf0(0x6fd)](_0x8a3302[_0x37ecf0(0x392)]),this['eventListener'][_0x37ecf0(0x3c5)]({'event':_0x15de5e[_0x37ecf0(0x65a)][_0x37ecf0(0x460)],'payload':{'file':{'kind':_0x15de5e[_0x37ecf0(0x41b)][_0x37ecf0(0x5c3)],'path':_0x8a3302[_0x37ecf0(0x392)],'type':_0x8a3302[_0x37ecf0(0x5bb)],'size':_0x45aa4a[_0x37ecf0(0x428)],'name':_0x8a3302['name'],'pathName':_0x3a44ba,'status':this[_0x37ecf0(0x1ef)]?_0x15de5e[_0x37ecf0(0x4ed)][_0x37ecf0(0x803)]:_0x15de5e[_0x37ecf0(0x4ed)][_0x37ecf0(0x610)]}}});}async['manageBufferedChunks'](_0x35255a,_0x1c99b6){const _0x3c7d80=_0x13fde2,_0x44eba9=_0x35255a['stream'];let _0x1ac937=0x0;for(;_0x35255a[_0x3c7d80(0x192)]&&_0x35255a['bufferedChunks'][_0x3c7d80(0x24c)]>0x0;){const _0x32c65f=_0x35255a[_0x3c7d80(0x192)][_0x3c7d80(0x1a6)](_0x533b1c=>_0x533b1c['index']===_0x1c99b6+0x1);if(!_0x32c65f)break;_0x35255a[_0x3c7d80(0x192)]=_0x35255a[_0x3c7d80(0x192)][_0x3c7d80(0x559)](_0x23596c=>_0x23596c[_0x3c7d80(0x568)]!==_0x1c99b6+0x1);try{await _0x44eba9['write'](_0x32c65f['data']),_0x1c99b6++;}catch(_0x27595d){if(console['error'](_0x3c7d80(0x7b4),_0x27595d),_0x1ac937>0x3)throw console['error'](_0x3c7d80(0x61d),_0x27595d),new _0x46f718(_0x46f718[_0x3c7d80(0x6b3)][_0x3c7d80(0x684)],{'message':_0x3c7d80(0x61d)});_0x1ac937++;continue;}_0x35255a[_0x3c7d80(0x584)]+=0x1,_0x35255a['bytesReceived']+=_0x32c65f['data'][_0x3c7d80(0x314)];}}async[_0x13fde2(0x19c)](_0xd7b51c){const _0x111cda=_0x13fde2;await this[_0x111cda(0x793)][_0x111cda(0x291)](_0xd7b51c['path']);const [_0x32d053,_0x46eee5]=_0x227289(_0xd7b51c[_0x111cda(0x392)]);this['eventListener'][_0x111cda(0x3c5)]({'event':_0x15de5e[_0x111cda(0x65a)][_0x111cda(0x588)],'payload':{'folder':{'kind':_0x15de5e[_0x111cda(0x41b)][_0x111cda(0x6c4)],'name':_0x46eee5,'path':_0x32d053,'pathName':_0xd7b51c[_0x111cda(0x392)]}}});}async[_0x13fde2(0x52f)](_0x1cb416,_0x3307d7=!0x1){const _0x5970b2=_0x13fde2;if(!_0x3307d7&&!this[_0x5970b2(0x4bb)](_0x1cb416))return;const _0x1e895e=await this['deleteObject'](_0x1cb416[_0x5970b2(0x392)]),[_0x170eee,_0x82a18]=_0x227289(_0x1cb416[_0x5970b2(0x392)]);this['eventListener'][_0x5970b2(0x3c5)]({'event':_0x1e895e===_0x15de5e[_0x5970b2(0x41b)][_0x5970b2(0x6c4)]?_0x15de5e[_0x5970b2(0x65a)]['FolderDelete']:_0x15de5e['StorageEventType'][_0x5970b2(0x195)],'payload':{'name':_0x82a18,'path':_0x170eee,'pathName':_0x1cb416[_0x5970b2(0x392)]}});}async[_0x13fde2(0x62d)](_0x3c78ff,_0x4f420b=!0x1){const _0x103292=_0x13fde2;if(!_0x4f420b&&!this['shouldProcessTransaction'](_0x3c78ff))return this['pendingFilesRename'][_0x103292(0x599)](_0x3c78ff[_0x103292(0x6d2)],this[_0x103292(0x67f)][_0x103292(0x556)](_0x3c78ff[_0x103292(0x392)])??_0x3c78ff[_0x103292(0x392)]),void this[_0x103292(0x67f)][_0x103292(0x6fd)](_0x3c78ff[_0x103292(0x392)]);this[_0x103292(0x67f)][_0x103292(0x6fd)](_0x3c78ff[_0x103292(0x392)]);const _0x179cf7=await this[_0x103292(0x793)][_0x103292(0x1bb)](_0x3c78ff[_0x103292(0x392)],_0x3c78ff['newPath']),[_0x437294,_0x25aca0]=_0x227289(_0x3c78ff['path']),[_0x40a3b1,_0x2678ec]=_0x227289(_0x3c78ff[_0x103292(0x6d2)]);this[_0x103292(0x64a)][_0x103292(0x3c5)]({'event':_0x179cf7===_0x15de5e['ObjectKind'][_0x103292(0x6c4)]?_0x15de5e['StorageEventType'][_0x103292(0x59d)]:_0x15de5e[_0x103292(0x65a)][_0x103292(0x775)],'payload':{'name':_0x2678ec,'path':_0x40a3b1,'pathName':_0x3c78ff[_0x103292(0x6d2)],'oldName':_0x25aca0,'oldPath':_0x437294,'oldPathName':_0x3c78ff[_0x103292(0x392)]}});}[_0x13fde2(0x4bb)](_0x3e1f26){const _0x893472=_0x13fde2,_0x29cf76=this[_0x893472(0x67f)][_0x893472(0x556)](_0x3e1f26['path'])??_0x3e1f26[_0x893472(0x392)];let _0xa161d7=!0x1;for(const _0x2a91d4 of this[_0x893472(0x614)][_0x893472(0x253)]())if(_0x2a91d4[_0x893472(0x51b)](_0x29cf76)){const _0x249f42=this['pendingFilesTransactions']['get'](_0x2a91d4)??[];_0x249f42['push'](_0x3e1f26),this[_0x893472(0x7f0)][_0x893472(0x599)](_0x2a91d4,_0x249f42),_0xa161d7=!0x0;}return!_0xa161d7;}async['publishTransaction'](_0x404b57){const _0x1437a5=_0x13fde2;if(!_0x404b57['id'])throw new _0x46f718(_0x46f718[_0x1437a5(0x6b3)][_0x1437a5(0x684)],{'message':_0x1437a5(0x4c6)});if(_0x404b57[_0x1437a5(0x5d3)]!==this['lastTransactionId'])throw new _0x46f718(_0x46f718[_0x1437a5(0x6b3)][_0x1437a5(0x3a0)]);await this[_0x1437a5(0x3e1)]['writeTransaction'](_0x404b57,this[_0x1437a5(0x380)]),await this[_0x1437a5(0x199)](_0x404b57['id']);}async[_0x13fde2(0x199)](_0x3aafe5){const _0x5d4adc=_0x13fde2;this[_0x5d4adc(0x70d)]=_0x3aafe5;const _0x23616a=new File([new Blob([this['lastTransactionId']])],_0x40c1eb,{'type':'text/plain'});await this[_0x5d4adc(0x45a)](_0x23616a,'/');}async[_0x13fde2(0x6e2)](_0x4b33a4){const _0x56dde5=_0x13fde2;try{const _0x3b7460=await this[_0x56dde5(0x556)](_0x4b33a4[_0x56dde5(0x392)]+'/'+_0x4b33a4[_0x56dde5(0x670)],{'skipEncryption':_0x4b33a4['skipEncryption']}),_0x24293e=await _0x1501ff(_0x3b7460);if(''!==_0x4b33a4[_0x56dde5(0x386)]&&_0x24293e!==_0x4b33a4['checksum'])return;_0x4b33a4[_0x56dde5(0x76d)]=this['localNode'][_0x56dde5(0x677)](),_0x4b33a4['action']=_0x64ee99[_0x56dde5(0x663)],await this['send'](_0x4b33a4,[_0x4b33a4['sourceId']]);}catch(_0x48f411){}}async[_0x13fde2(0x8b0)](_0x188275){const _0x2be523=_0x13fde2,_0x201320=_0x2cda9b(_0x188275[_0x2be523(0x392)],_0x188275[_0x2be523(0x670)]);if(!this[_0x2be523(0x336)][_0x2be523(0x7f7)](_0x201320))return;const _0x26e962=this[_0x2be523(0x336)][_0x2be523(0x556)](_0x201320);_0x26e962['action']=_0x64ee99[_0x2be523(0x4e6)];const _0x2803ee=_0x188275['answererId'];if(!_0x2803ee)throw new _0x46f718(_0x46f718[_0x2be523(0x6b3)][_0x2be523(0x684)],{'message':_0x2be523(0x773)});if(this[_0x2be523(0x336)]['delete'](_0x201320),this['pendingFilesSyncing']['has'](_0x2803ee)||this[_0x2be523(0x3fb)][_0x2be523(0x599)](_0x2803ee,new Map()),this[_0x2be523(0x3fb)]['get'](_0x2803ee)['set'](_0x201320,[_0x26e962,this[_0x2be523(0x7a7)](_0x2803ee,_0x201320)]),_0x26e962['answererId']=_0x2803ee,_0x26e962['startIndex']=this[_0x2be523(0x614)][_0x2be523(0x556)](_0x201320)?.[_0x2be523(0x584)]??0x0,0x0===_0x26e962[_0x2be523(0x42f)])try{const [_0x3a932d,_0x769e47]=await this[_0x2be523(0x489)](_0x188275['name'],_0x188275[_0x2be523(0x392)],_0x188275[_0x2be523(0x386)]);_0x3a932d&&(_0x26e962[_0x2be523(0x42f)]=_0x769e47);}catch(_0x10189f){}this[_0x2be523(0x232)](_0x26e962,[_0x2803ee]);}async[_0x13fde2(0x698)](_0x4a0b55){const _0x2a0b06=_0x13fde2,_0x6149b7=_0x2cda9b(_0x4a0b55[_0x2a0b06(0x392)],_0x4a0b55[_0x2a0b06(0x670)]),_0x24a23a=await this[_0x2a0b06(0x556)](_0x6149b7,{'skipEncryption':_0x4a0b55[_0x2a0b06(0x606)]}),_0x3e2e52={..._0x4a0b55,'answererId':this['localNode']['getId'](),'action':_0x64ee99[_0x2a0b06(0x812)],'startIndex':_0x4a0b55[_0x2a0b06(0x42f)]??0x0};await this[_0x2a0b06(0x2cf)](_0x24a23a,_0x3e2e52,[_0x4a0b55['sourceId']]);}async[_0x13fde2(0x2cf)](_0x58b14f,_0x27513c,_0xbb2394){let _0x24091b,_0x3fb208;const _0x3d5f2d=new Promise(async(_0x3524a6,_0x3c742a)=>{_0x24091b=_0x3524a6,_0x3fb208=_0x3c742a;});return((async()=>{const _0x42e04c=a0_0x2ee0,_0x5ecd07=Math[_0x42e04c(0x382)](_0x58b14f[_0x42e04c(0x411)]/_0x4f343e);let _0xd8e664=_0x27513c['startIndex']??0x0;const _0x4888ef=_0x2cda9b(_0x27513c[_0x42e04c(0x392)],_0x27513c[_0x42e04c(0x670)]);this[_0x42e04c(0x826)][_0x42e04c(0x599)](_0x4888ef,[!0x1,_0x3d5f2d]);for await(const _0x41e4d1 of async function*(_0xbdb661,_0x2d8888=0x0,_0x3ed1b0){for await(const _0x45d8d4 of _0x5948c5(_0xbdb661,_0x2d8888,_0x3ed1b0))yield _0x45d8d4;}(_0x58b14f,_0xd8e664,this['waitForArrayBufferSize'])){const [_0x4ecb40]=this[_0x42e04c(0x826)][_0x42e04c(0x556)](_0x4888ef)??[];if(_0x4ecb40)return this[_0x42e04c(0x826)][_0x42e04c(0x6fd)](_0x4888ef),void _0x3fb208(new Error(_0x42e04c(0x8af)));if(this[_0x42e04c(0x7f0)][_0x42e04c(0x7f7)](_0x4888ef)){const _0x99b4d7=this[_0x42e04c(0x7f0)]['get'](_0x4888ef);for(const _0x206ba0 of _0x99b4d7)if(_0x206ba0[_0x42e04c(0x61e)]===_0x64ee99['FileWrite']||_0x206ba0[_0x42e04c(0x61e)]===_0x64ee99[_0x42e04c(0x607)])return;}const _0x59abe8={..._0x27513c,'type':_0x58b14f[_0x42e04c(0x5bb)],'data':_0x41e4d1,'index':_0xd8e664,'total':_0x5ecd07};this[_0x42e04c(0x232)](_0x59abe8,_0xbb2394),_0xd8e664++;}const _0x2d3e00=setInterval(async()=>{const _0x32a1b9=_0x42e04c;await this[_0x32a1b9(0x46f)]()>0x0||(clearInterval(_0x2d3e00),_0x24091b());});this[_0x42e04c(0x826)][_0x42e04c(0x6fd)](_0x4888ef);})()),_0x3d5f2d;}async['deletePendingFile'](_0x2ede81){const _0x178ed4=_0x13fde2;try{const _0x6933ba=_0x2cda9b(_0x2ede81[_0x178ed4(0x392)],_0x2ede81['name']),_0x2e4a74=_0x6933ba+_0x10ea18;await this[_0x178ed4(0x5a2)](_0x2e4a74);const [,_0x3e18c0]=this['pendingFilesSyncing']['get'](_0x2ede81['answererId'])?.[_0x178ed4(0x556)](_0x6933ba)??[];_0x3e18c0&&(clearTimeout(_0x3e18c0),this['pendingFilesSyncing'][_0x178ed4(0x556)](_0x2ede81['answererId'])[_0x178ed4(0x6fd)](_0x6933ba));}catch(_0x533c79){}0x0===this['pendingFilesSyncing'][_0x178ed4(0x556)](_0x2ede81[_0x178ed4(0x76d)])?.[_0x178ed4(0x411)]&&this[_0x178ed4(0x3fb)][_0x178ed4(0x6fd)](_0x2ede81['answererId']),0x0===this[_0x178ed4(0x3fb)][_0x178ed4(0x411)]&&0x0===this['objectRequests'][_0x178ed4(0x411)]&&this['completeSync']();}async[_0x13fde2(0x7c4)](){const _0x26c701=_0x13fde2;try{const _0x543ac9=await this['transactionService'][_0x26c701(0x664)](this[_0x26c701(0x380)],this[_0x26c701(0x70d)]);for(const _0x1abb35 of _0x543ac9)await this[_0x26c701(0x63d)](_0x1abb35,!0x0);}catch(_0x11e8a4){if(_0x11e8a4 instanceof _0x46f718&&_0x11e8a4[_0x26c701(0x18d)]===_0x46f718[_0x26c701(0x6b3)][_0x26c701(0x845)]){await this['objectStoreConnector']['deleteObject'](_0x40c1eb),delete this[_0x26c701(0x70d)];try{const _0x1c5fe2=await this['objectStoreConnector']['list']('/',!0x1);for(const _0x493cb8 of _0x1c5fe2)await this['objectStoreConnector']['deleteObject'](_0x493cb8['pathName']);}catch(_0xd57a81){}return await this[_0x26c701(0x7c4)]();}throw _0x11e8a4;}}async['syncPendingFiles'](){const _0x141ede=_0x13fde2,_0x35f5b8=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x440789=async _0x40c037=>{const _0x564617=a0_0x2ee0;for(const _0x44c295 of _0x40c037){if(_0x44c295['kind']===_0x15de5e[_0x564617(0x41b)][_0x564617(0x6c4)]){_0x44c295[_0x564617(0x78d)]&&_0x44c295[_0x564617(0x78d)]['length']>0x0&&await _0x440789(_0x44c295['entries']);continue;}if(_0x44c295[_0x564617(0x1ca)]!==_0x15de5e[_0x564617(0x4ed)][_0x564617(0x610)])continue;const _0x4e78dd=await this['get'](_0x44c295[_0x564617(0x894)]+_0x10ea18),_0x21677c=JSON['parse'](await _0x4e78dd[_0x564617(0x7cc)]()),_0x5981ef=_0x44c295[_0x564617(0x670)]['replace'](_0x10ea18,''),_0x274191={'payloadType':_0x2bede4['Request'],'action':_0x64ee99['RequestFile'],'sourceId':this['localNode'][_0x564617(0x677)](),'type':'','path':_0x44c295[_0x564617(0x392)],'name':_0x5981ef,'checksum':_0x21677c[_0x564617(0x386)],'skipEncryption':_0x21677c['skipEncryption']},_0x3b81d4=_0x2cda9b(_0x44c295[_0x564617(0x392)],_0x5981ef);this[_0x564617(0x336)][_0x564617(0x599)](_0x3b81d4,_0x274191);}};await _0x440789(_0x35f5b8),0x0===this[_0x141ede(0x336)][_0x141ede(0x411)]&&0x0===this[_0x141ede(0x3fb)][_0x141ede(0x411)]&&this[_0x141ede(0x598)]();}async[_0x13fde2(0x798)](_0x5d5bde,_0x5822be,_0x4c845a){const _0x441755=_0x13fde2,_0x5bec7d=new File([new Blob([JSON[_0x441755(0x201)](_0x4c845a)])],''+_0x5d5bde+_0x10ea18,{'type':_0x441755(0x71f)});await this[_0x441755(0x45a)](_0x5bec7d,_0x5822be);}async[_0x13fde2(0x489)](_0x2abd90,_0x48e51a,_0x3372c8){const _0x1c8d77=_0x13fde2;try{const _0x1909a9=_0x2cda9b(_0x48e51a,_0x2abd90),_0xf6b89f=_0x1909a9+_0x10ea18,_0x30eb04=await this[_0x1c8d77(0x793)][_0x1c8d77(0x556)](_0xf6b89f),{checksum:_0x15b146,skipEncryption:_0x7167c7}=JSON['parse'](await _0x30eb04[_0x1c8d77(0x7cc)]()),_0x541049=(await this[_0x1c8d77(0x793)]['get'](_0x1909a9,{'skipEncryption':_0x7167c7}))[_0x1c8d77(0x411)];return _0x15b146===_0x3372c8&&_0x541049%_0x4f343e==0x0?[!0x0,Math[_0x1c8d77(0x1e9)](_0x541049/_0x4f343e)]:(await this['objectStoreConnector']['deleteObject'](_0x1909a9),[!0x1,0x0]);}catch(_0x5cd851){return[!0x1,0x0];}}[_0x13fde2(0x7a7)](_0x29fdff,_0x40733d){const _0x55fb62=_0x13fde2,[_0xbff10d,_0x44ebaf]=this['pendingFilesSyncing'][_0x55fb62(0x556)](_0x29fdff)?.[_0x55fb62(0x556)](_0x40733d)??[];return _0x44ebaf&&clearTimeout(_0x44ebaf),setTimeout(()=>{const _0x33861e=_0x55fb62,[_0x2e6ae5,_0x622b3a]=this[_0x33861e(0x3fb)][_0x33861e(0x556)](_0x29fdff)['get'](_0x40733d);this[_0x33861e(0x3d5)](_0x2e6ae5,_0x622b3a);},0x927c0);}async[_0x13fde2(0x3d5)](_0x215562,_0x1bc928){const _0x49a1e7=_0x13fde2;clearTimeout(_0x1bc928),_0x215562['action']=_0x64ee99[_0x49a1e7(0x6e7)],this['objectRequests'][_0x49a1e7(0x599)](_0x2cda9b(_0x215562['path'],_0x215562['name']),_0x215562),this[_0x49a1e7(0x232)](_0x215562);}[_0x13fde2(0x1e1)](_0x123ab9,_0x39e39a){const _0x4e7153=_0x13fde2;if(!this[_0x4e7153(0x1ef)])return;this[_0x4e7153(0x3fb)][_0x4e7153(0x7f7)](_0x123ab9[_0x4e7153(0x76d)])||this[_0x4e7153(0x3fb)]['set'](_0x123ab9['answererId'],new Map());const [_0x48662a]=this[_0x4e7153(0x3fb)][_0x4e7153(0x556)](_0x123ab9[_0x4e7153(0x76d)])[_0x4e7153(0x556)](_0x39e39a)??[{'payloadType':_0x2bede4[_0x4e7153(0x24e)],'action':_0x64ee99[_0x4e7153(0x6e7)],'sourceId':this['localNode'][_0x4e7153(0x677)](),'type':_0x123ab9[_0x4e7153(0x5bb)],'name':_0x123ab9[_0x4e7153(0x670)],'path':_0x123ab9[_0x4e7153(0x392)],'skipEncryption':_0x123ab9[_0x4e7153(0x606)],'checksum':_0x123ab9[_0x4e7153(0x386)],'answererId':_0x123ab9['answererId']}];this[_0x4e7153(0x3fb)][_0x4e7153(0x556)](_0x123ab9[_0x4e7153(0x76d)])[_0x4e7153(0x599)](_0x39e39a,[_0x48662a,this['getOrResetPendingFileTimeout'](_0x123ab9[_0x4e7153(0x76d)],_0x39e39a)]);}async[_0x13fde2(0x45a)](_0x259bfa,_0x8f2ab,_0x1c661e){const _0x327034=_0x13fde2;await this[_0x327034(0x793)][_0x327034(0x45a)](_0x259bfa,_0x8f2ab,_0x1c661e);}async[_0x13fde2(0x5a2)](_0x3817f9){const _0x4d9b99=_0x13fde2;try{const _0x135404=await this[_0x4d9b99(0x793)]['deleteObject'](_0x3817f9);if(!_0x3817f9[_0x4d9b99(0x83c)](_0x10ea18))try{await this['objectStoreConnector'][_0x4d9b99(0x5a2)](_0x3817f9+_0x10ea18);}catch(_0x253479){}return _0x135404;}catch(_0x119df4){return await this[_0x4d9b99(0x793)][_0x4d9b99(0x5a2)](_0x3817f9+_0x10ea18);}}async[_0x13fde2(0x1bb)](_0x5dc5dd,_0x2af9ac){const _0x3f4b86=_0x13fde2;try{const _0x30b201=await this[_0x3f4b86(0x793)][_0x3f4b86(0x1bb)](_0x5dc5dd,_0x2af9ac);if(!_0x5dc5dd[_0x3f4b86(0x83c)](_0x10ea18))try{await this['objectStoreConnector'][_0x3f4b86(0x1bb)](_0x5dc5dd+_0x10ea18,_0x2af9ac+_0x10ea18);}catch(_0x1eb04e){}return _0x30b201;}catch(_0x3be9d6){return await this[_0x3f4b86(0x793)][_0x3f4b86(0x1bb)](_0x5dc5dd+_0x10ea18,_0x2af9ac+_0x10ea18);}}[_0x13fde2(0x68f)](){const _0x293fe4=_0x13fde2;this[_0x293fe4(0x57d)]&&clearTimeout(this[_0x293fe4(0x57d)]),this[_0x293fe4(0x57d)]=setTimeout(async()=>{const _0x5b9e4f=_0x293fe4;delete this[_0x5b9e4f(0x57d)];const _0x50f9a7=await this[_0x5b9e4f(0x793)][_0x5b9e4f(0x212)]('/');this[_0x5b9e4f(0x51a)]?.[_0x5b9e4f(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x5b9e4f(0x67b)],'content':{'type':_0x85b357[_0x5b9e4f(0x4f3)],'label':this[_0x5b9e4f(0x380)],'stats':{'timestamp':Date[_0x5b9e4f(0x321)](),'storage':_0x50f9a7,'messagesSent':this[_0x5b9e4f(0x502)],'messagesReceived':this[_0x5b9e4f(0x835)],'bytesSent':this[_0x5b9e4f(0x5f3)],'bytesReceived':this['bytesReceived'],'writes':this[_0x5b9e4f(0x341)],'reads':this[_0x5b9e4f(0x2b7)],'prompts':0x0,'tokens':0x0}}}),this[_0x5b9e4f(0x1ef)]&&_0x3d0f37[_0x5b9e4f(0x6cf)](_0x33071f[_0x5b9e4f(0x82c)],_0x5b9e4f(0x41d)+this[_0x5b9e4f(0x89e)]+'ccc'+this[_0x5b9e4f(0x380)],_0x50f9a7);},0x1388);}async['syncedFileExists'](_0x45da9c){try{return await this['get'](_0x45da9c),!0x0;}catch(_0x79697){return!0x1;}}async[_0x13fde2(0x481)](_0x2cb1ef){const _0xcd657a=_0x13fde2;if(!this['fileChunks']['has'](_0x2cb1ef))return;const _0x3f7662=this['fileChunks']['get'](_0x2cb1ef);if(_0x3f7662[_0xcd657a(0x40a)])try{await _0x3f7662[_0xcd657a(0x40a)][_0xcd657a(0x3df)]();}catch(_0x2ca4b3){console[_0xcd657a(0x377)](_0xcd657a(0x307),_0x2ca4b3);}this[_0xcd657a(0x614)]['delete'](_0x2cb1ef);}}class _0x382278 extends _0x454bb4{[_0x13fde2(0x672)];[_0x13fde2(0x89e)];[_0x13fde2(0x487)]=new Map();[_0x13fde2(0x57d)];constructor(_0x32b1ce,_0x5c40a2,_0x4be3de){const _0x35425a=_0x13fde2;if(_0x35425a(0x28d)!=typeof _0x5c40a2)throw new _0x3fd286(_0x12afa6[_0x35425a(0x2a4)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x32b1ce,_0x5c40a2),this[_0x35425a(0x672)]=_0x32b1ce,this[_0x35425a(0x89e)]=_0x4be3de,this['sendStats']();}[_0x13fde2(0x416)](){const _0x57a651=_0x13fde2;this[_0x57a651(0x68f)]();}[_0x13fde2(0x1fe)](){const _0x2c50bc=_0x13fde2;return _0x15de5e[_0x2c50bc(0x671)][_0x2c50bc(0x893)];}[_0x13fde2(0x3c5)](_0x3e6503,_0x255acb){const _0x231a3b=_0x13fde2;_0x3d0f37[_0x231a3b(0x6c1)](_0x2582bf['PubSub'],_0x231a3b(0x80c),this[_0x231a3b(0x672)][_0x231a3b(0x677)](),_0x3e6503,_0x255acb),_0x3d0f37[_0x231a3b(0x45d)](_0x33071f[_0x231a3b(0x893)],{'type':'publish','label':this['label'],'nodeId':this[_0x231a3b(0x672)]['getId'](),'nodeType':this[_0x231a3b(0x672)][_0x231a3b(0x5bb)],'clusterId':this[_0x231a3b(0x89e)],'remoteIds':_0x255acb??[],'contentType':_0x3e6503 instanceof File?_0x15de5e[_0x231a3b(0x671)]['File']:_0x15de5e[_0x231a3b(0x671)][_0x231a3b(0x249)],'size':_0x3e6503 instanceof File?_0x3e6503['size']:JSON[_0x231a3b(0x201)](_0x3e6503)['length']}),this[_0x231a3b(0x68f)](),this[_0x231a3b(0x232)](_0x3e6503,_0x255acb);}[_0x13fde2(0x76e)](_0x332005,_0x2c3d58){const _0x44909b=_0x13fde2;if(this['unsubscribeHandler'][_0x44909b(0x7f7)](_0x332005))throw new _0x3fd286(_0x12afa6[_0x44909b(0x61a)],_0x44909b(0x42e));this['unsubscribeHandler'][_0x44909b(0x599)](_0x332005,this[_0x44909b(0x77e)]((_0x5420d4,_0x3f08e2)=>{const _0x4527e9=_0x44909b;_0x4527e9(0x7e0)===_0x332005&&_0x3f08e2 instanceof File||!('file'!==_0x332005||_0x3f08e2 instanceof File)||(_0x3d0f37[_0x4527e9(0x6c1)](_0x2582bf[_0x4527e9(0x893)],_0x4527e9(0x33b),this[_0x4527e9(0x672)][_0x4527e9(0x677)](),_0x5420d4,_0x3f08e2),_0x3d0f37[_0x4527e9(0x45d)](_0x33071f[_0x4527e9(0x893)],{'type':_0x4527e9(0x76e),'label':this[_0x4527e9(0x380)],'nodeId':this[_0x4527e9(0x672)]['getId'](),'nodeType':this[_0x4527e9(0x672)]['type'],'clusterId':this[_0x4527e9(0x89e)],'remoteId':_0x5420d4,'contentType':_0x332005,'size':_0x3f08e2 instanceof File?_0x3f08e2[_0x4527e9(0x411)]:JSON['stringify'](_0x3f08e2)[_0x4527e9(0x24c)]}),this['sendStats'](),_0x2c3d58(_0x5420d4,_0x3f08e2));}));}['unsubscribe'](_0x42830c){const _0x15e5f7=_0x13fde2;this[_0x15e5f7(0x487)][_0x15e5f7(0x556)](_0x42830c)?.(),this[_0x15e5f7(0x487)][_0x15e5f7(0x6fd)](_0x42830c);}[_0x13fde2(0x85f)](){const _0x4aa26e=_0x13fde2;this['unsubscribeHandler'][_0x4aa26e(0x1ed)](_0x2e3d06=>_0x2e3d06()),clearTimeout(this[_0x4aa26e(0x57d)]),delete this['debounceStats'],super[_0x4aa26e(0x85f)]();}['close'](){const _0x308a08=_0x13fde2;this[_0x308a08(0x51a)]?.[_0x308a08(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x308a08(0x67b)],'content':{'type':_0x85b357[_0x308a08(0x674)],'label':this[_0x308a08(0x380)]}});}['sendStats'](){const _0x458db9=_0x13fde2;this['debounceStats']&&clearTimeout(this[_0x458db9(0x57d)]),this[_0x458db9(0x57d)]=setTimeout(()=>{const _0x15b5a5=_0x458db9;this[_0x15b5a5(0x51a)]?.[_0x15b5a5(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x15b5a5(0x67b)],'content':{'type':_0x85b357[_0x15b5a5(0x6de)],'label':this[_0x15b5a5(0x380)],'stats':{'timestamp':Date[_0x15b5a5(0x321)](),'storage':0x0,'messagesSent':this[_0x15b5a5(0x502)],'messagesReceived':this[_0x15b5a5(0x835)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},0x1388);}}class _0x749abd extends _0x314f30{[_0x13fde2(0x672)];[_0x13fde2(0x4d5)];['availableTrackKinds'];[_0x13fde2(0x89e)];['unsubscribeHandler'];[_0x13fde2(0x59b)];[_0x13fde2(0x5ea)];[_0x13fde2(0x1eb)]=new Map();[_0x13fde2(0x1ee)];[_0x13fde2(0x3d4)]=new Set();['providerId'];['providerListener']=_0x223536();[_0x13fde2(0x537)]=new Map();constructor(_0x517935,_0x4d6135,_0x401803,_0x3c8066,_0x28718f,_0x5c8a1e){const _0x5125c5=_0x13fde2;super(_0x4d6135,_0x401803,new MediaStream()),this[_0x5125c5(0x672)]=_0x517935,this[_0x5125c5(0x4d5)]=_0x3c8066,this[_0x5125c5(0x1e7)]=_0x28718f,this[_0x5125c5(0x89e)]=_0x5c8a1e,this['mediaStream'][_0x5125c5(0x646)]()[_0x5125c5(0x1ed)](_0x440bbb=>this['setupTrackEndedListeners'](_0x440bbb));}[_0x13fde2(0x85f)](){const _0x251732=_0x13fde2;this[_0x251732(0x1eb)][_0x251732(0x411)]>0x0&&(this[_0x251732(0x1eb)][_0x251732(0x1ed)](_0x3f4bcc=>{const _0x4b5f13=_0x251732;_0x3f4bcc['unregisterSystemPublisher'](),_0x3f4bcc[_0x4b5f13(0x85f)]();}),this[_0x251732(0x1eb)][_0x251732(0x84d)]()),this[_0x251732(0x537)][_0x251732(0x1ed)](_0x157e58=>_0x157e58()),this[_0x251732(0x45f)][_0x251732(0x646)]()['forEach'](_0x1816f0=>this['mediaStream']['removeTrack'](_0x1816f0)),this[_0x251732(0x5ea)]&&(clearTimeout(this[_0x251732(0x5ea)]),delete this[_0x251732(0x5ea)]),this[_0x251732(0x59b)]?.(),super[_0x251732(0x85f)]();}['registerSubscriber'](_0xf1f381){const _0x3171d7=_0x13fde2;this[_0x3171d7(0x487)]=_0xf1f381[_0x3171d7(0x76e)](({content:_0x2ea5c8})=>{const _0x37612d=_0x3171d7;switch(_0x2ea5c8[_0x37612d(0x61e)]){case _0x5da97e[_0x37612d(0x4b5)]:if(_0x3d0f37[_0x37612d(0x6c1)](_0x2582bf[_0x37612d(0x5b1)],_0x37612d(0x787),this[_0x37612d(0x672)]['getId'](),this[_0x37612d(0x649)]),_0x2ea5c8[_0x37612d(0x40a)]['id']!==this[_0x37612d(0x4d5)]||_0x2ea5c8[_0x37612d(0x649)]!==this[_0x37612d(0x649)])return;this['removeTrack'](_0x2ea5c8['track'][_0x37612d(0x602)]),this[_0x37612d(0x45f)][_0x37612d(0x74f)](_0x2ea5c8[_0x37612d(0x206)]);for(const [_0xe6cc8,_0x1960a5]of this[_0x37612d(0x1eb)][_0x37612d(0x78d)]())try{_0x1960a5['addTrack'](_0x2ea5c8['track']);}catch(_0x3fbee8){_0x1960a5[_0x37612d(0x85f)](),this[_0x37612d(0x1eb)][_0x37612d(0x6fd)](_0xe6cc8);}this[_0x37612d(0x88f)](_0x2ea5c8[_0x37612d(0x206)]),this['setupRenderElement'](),_0x37612d(0x3c1)===_0x2ea5c8[_0x37612d(0x206)][_0x37612d(0x602)]&&this[_0x37612d(0x1ee)]&&(this[_0x37612d(0x45f)][_0x37612d(0x692)]?setTimeout(()=>this['renderElement']?.[_0x37612d(0x1c0)](),0x0):setTimeout(()=>this[_0x37612d(0x1ee)]?.[_0x37612d(0x723)](),0x0),this[_0x37612d(0x20e)]());break;case _0x5da97e[_0x37612d(0x84b)]:if(_0x2ea5c8[_0x37612d(0x40a)]['id']!==this['internalId']||_0x2ea5c8['providerId']!==this[_0x37612d(0x649)])return;this[_0x37612d(0x7a8)](_0x2ea5c8[_0x37612d(0x206)]['kind']),this[_0x37612d(0x1ee)]&&_0x37612d(0x3c1)===_0x2ea5c8[_0x37612d(0x206)]['kind']&&(this[_0x37612d(0x59b)]?.(),this[_0x37612d(0x45f)][_0x37612d(0x646)]()[_0x37612d(0x24c)]>0x0?this[_0x37612d(0x1ee)][_0x37612d(0x723)]():this[_0x37612d(0x1ee)][_0x37612d(0x1f9)]=null);}});}['unregisterSubscriber'](){const _0x35a344=_0x13fde2;this[_0x35a344(0x487)]?.(),this[_0x35a344(0x537)][_0x35a344(0x1ed)](_0x137618=>_0x137618()),delete this['unsubscribeHandler'];}['getInternalStreamId'](){return this['internalId'];}[_0x13fde2(0x3c2)](_0x5877a0){this['internalId']=_0x5877a0;}[_0x13fde2(0x4ff)](){const _0x360857=_0x13fde2;return this[_0x360857(0x1e7)];}[_0x13fde2(0x1d9)](_0x4ad1c0){const _0x397af6=_0x13fde2;for(const _0x295a47 of _0x4ad1c0||this['availableTrackKinds'])if(!this[_0x397af6(0x45f)][_0x397af6(0x646)]()[_0x397af6(0x1a6)](_0x4af256=>_0x4af256[_0x397af6(0x602)]===_0x295a47))return!0x1;return!0x0;}['getResolution'](){const _0x12d400=_0x13fde2;let _0x266ccd={'width':0x0,'height':0x0};const _0xe9bf33=this['mediaStream'][_0x12d400(0x54f)]();if(_0xe9bf33[_0x12d400(0x24c)]>0x0){const _0x385551=_0xe9bf33[0x0][_0x12d400(0x807)]();_0x385551['width']&&_0x385551[_0x12d400(0x3bf)]&&(_0x266ccd={'width':_0x385551[_0x12d400(0x431)],'height':_0x385551['height']});}return _0x266ccd;}[_0x13fde2(0x3dc)](_0x44ccc1){for(const _0x1e7b42 of _0x44ccc1)if(!this['subscribedTracks']['has'](_0x1e7b42))return!0x1;return!0x0;}[_0x13fde2(0x5ad)](_0x124a54,_0x49fc9b){const _0x3d7d44=_0x13fde2;if(!this[_0x3d7d44(0x1eb)][_0x3d7d44(0x7f7)](_0x124a54)){const _0x43ce82=new _0x1b83eb(this[_0x3d7d44(0x27e)],this[_0x3d7d44(0x380)],this['mediaStream'],_0x124a54,_0x49fc9b),_0x59c53d=_0x43ce82['onUnregisterPublisher'](()=>{const _0xf8b87a=_0x3d7d44;_0x59c53d(),this[_0xf8b87a(0x1eb)][_0xf8b87a(0x556)](_0x124a54)?.['destroy'](),this[_0xf8b87a(0x1eb)][_0xf8b87a(0x6fd)](_0x124a54);});this['outgoingStreams'][_0x3d7d44(0x599)](_0x124a54,_0x43ce82),_0x43ce82['registerSystemPublisher'](this[_0x3d7d44(0x51a)]);}return this[_0x3d7d44(0x1eb)][_0x3d7d44(0x556)](_0x124a54);}[_0x13fde2(0x1da)](){const _0x1e5246=_0x13fde2;return this[_0x1e5246(0x45f)]['id'];}[_0x13fde2(0x5a7)](){const _0xf37f34=_0x13fde2;return _0x15de5e[_0xf37f34(0x4b6)]['Default'];}['getSubscribedTracks'](){const _0x466176=_0x13fde2;return Array[_0x466176(0x69c)](this[_0x466176(0x3d4)]);}[_0x13fde2(0x76e)](_0x44f6a3){const _0x24bf3b=_0x13fde2;let _0x2bc9f3=[];if(_0x44f6a3){_0x24bf3b(0x433)!=typeof _0x44f6a3[_0x24bf3b(0x3c1)]||_0x44f6a3[_0x24bf3b(0x3c1)][_0x24bf3b(0x1ee)]instanceof HTMLVideoElement||!this[_0x24bf3b(0x1ee)]||(_0x44f6a3[_0x24bf3b(0x3c1)]={'renderElement':this[_0x24bf3b(0x1ee)]});try{(0x0,_0x15de5e['isValidMediaSubscriptionParams'])(_0x44f6a3);}catch(_0xe28716){throw new _0x3fd286(_0x12afa6[_0x24bf3b(0x2a5)],_0x24bf3b(0x861));}_0x44f6a3['video']&&(_0x2bc9f3[_0x24bf3b(0x875)](_0x24bf3b(0x3c1)),_0x24bf3b(0x662)!=typeof _0x44f6a3[_0x24bf3b(0x3c1)]&&_0x44f6a3['video']['renderElement']&&(this[_0x24bf3b(0x1ee)]=_0x44f6a3[_0x24bf3b(0x3c1)][_0x24bf3b(0x1ee)],_0x44f6a3['video'][_0x24bf3b(0x297)]||(_0x44f6a3[_0x24bf3b(0x3c1)][_0x24bf3b(0x297)]={'width':this['renderElement'][_0x24bf3b(0x35c)],'height':this['renderElement'][_0x24bf3b(0x5c9)]}),delete _0x44f6a3[_0x24bf3b(0x3c1)][_0x24bf3b(0x1ee)])),_0x44f6a3[_0x24bf3b(0x706)]&&_0x2bc9f3[_0x24bf3b(0x875)]('audio');}else _0x2bc9f3=this['getAvailableTrackKinds']();this[_0x24bf3b(0x3dc)](_0x2bc9f3)||(_0x2bc9f3['forEach'](_0x531847=>this[_0x24bf3b(0x3d4)][_0x24bf3b(0x7bd)](_0x531847)),this[_0x24bf3b(0x51a)]['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f['Content'],'content':{'type':_0x85b357['SubscribeMediaStream'],'label':this[_0x24bf3b(0x380)],'ownerId':this[_0x24bf3b(0x27e)][_0x24bf3b(0x677)](),'trackKinds':_0x2bc9f3,'params':_0x44f6a3}}),_0x3d0f37[_0x24bf3b(0x45d)](_0x33071f['MediaStream'],{'type':'subscribe','label':this[_0x24bf3b(0x380)],'nodeId':this[_0x24bf3b(0x672)][_0x24bf3b(0x677)](),'nodeType':this[_0x24bf3b(0x672)][_0x24bf3b(0x5bb)],'clusterId':this[_0x24bf3b(0x89e)],'sourceId':this['owner'][_0x24bf3b(0x677)](),'streamId':this[_0x24bf3b(0x4d5)],'trackKinds':_0x2bc9f3}));}[_0x13fde2(0x75e)](_0x16db79){const _0x229b54=_0x13fde2;try{(0x0,_0x15de5e[_0x229b54(0x8bd)])(_0x16db79);}catch(_0x31d2ce){throw new _0x3fd286(_0x12afa6['RemoteMediaStreamInvalidSubscriptionParams'],_0x229b54(0x861));}this[_0x229b54(0x5ea)]&&clearTimeout(this[_0x229b54(0x5ea)]),this[_0x229b54(0x5ea)]=setTimeout(()=>{const _0x18a866=_0x229b54;delete this[_0x18a866(0x5ea)],this[_0x18a866(0x51a)][_0x18a866(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x18a866(0x67b)],'content':{'type':_0x85b357['UpdateMediaStream'],'label':this[_0x18a866(0x380)],'ownerId':this[_0x18a866(0x27e)][_0x18a866(0x677)](),'params':_0x16db79}});},0x1f4);}['unsubscribe'](_0xdeea8){const _0x498181=_0x13fde2;_0xdeea8||(_0xdeea8=this['getAvailableTrackKinds']()),(_0xdeea8=Array[_0x498181(0x4bd)](_0xdeea8)?_0xdeea8:[_0xdeea8])['forEach'](_0x5ef58d=>this[_0x498181(0x3d4)][_0x498181(0x6fd)](_0x5ef58d)),this[_0x498181(0x51a)][_0x498181(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f['Content'],'content':{'type':_0x85b357[_0x498181(0x453)],'label':this[_0x498181(0x380)],'ownerId':this[_0x498181(0x27e)][_0x498181(0x677)](),'trackKinds':_0xdeea8,'remainingTracks':this[_0x498181(0x3d4)][_0x498181(0x411)]}});}[_0x13fde2(0x4f8)](_0x1b99b2){const _0xcd8038=_0x13fde2;return this['providerListener'][_0xcd8038(0x76e)](_0x1b99b2);}[_0x13fde2(0x238)](){const _0x35d3b8=_0x13fde2;return this[_0x35d3b8(0x649)];}['setProviderId'](_0x42b241){const _0x2bcf01=_0x13fde2;this[_0x2bcf01(0x649)]!==_0x42b241&&(this[_0x2bcf01(0x649)]=_0x42b241,this['providerListener'][_0x2bcf01(0x3c5)](_0x42b241));}[_0x13fde2(0x468)](_0x13806d){const _0x102c51=_0x13fde2;this[_0x102c51(0x537)][_0x102c51(0x556)](_0x13806d)?.(),this['trackEndedListeners']['delete'](_0x13806d);}['removeTrack'](_0x87d7f2){const _0x187a9a=_0x13fde2,_0x165b43=this['mediaStream'][_0x187a9a(0x646)]()[_0x187a9a(0x1a6)](_0x55f750=>_0x55f750[_0x187a9a(0x602)]===_0x87d7f2);_0x165b43&&(this[_0x187a9a(0x45f)]['removeTrack'](_0x165b43),this[_0x187a9a(0x1eb)]['forEach'](_0x3712bf=>_0x3712bf[_0x187a9a(0x7a8)](_0x87d7f2)),this['trackEndedListeners'][_0x187a9a(0x556)](_0x87d7f2)?.());}[_0x13fde2(0x3b3)](){const _0x56f0ce=_0x13fde2;this[_0x56f0ce(0x1ee)]&&(this[_0x56f0ce(0x1ee)]['srcObject']&&this[_0x56f0ce(0x1ee)][_0x56f0ce(0x1f9)]===this[_0x56f0ce(0x45f)]||(this[_0x56f0ce(0x1ee)]['srcObject']=this[_0x56f0ce(0x45f)]));}[_0x13fde2(0x20e)](){const _0x3f74db=_0x13fde2;if(this[_0x3f74db(0x1ee)]&&!this[_0x3f74db(0x59b)]&&_0x3f74db(0x6fa)!=typeof ResizeObserver){let _0x27a1dc=this[_0x3f74db(0x1ee)][_0x3f74db(0x35c)],_0x29b3e7=this[_0x3f74db(0x1ee)][_0x3f74db(0x5c9)];const _0x2e625d=new ResizeObserver(_0x2795f6=>{const _0x30c6b3=_0x3f74db,{width:_0x5a461f,height:_0x515464}=_0x2795f6[0x0][_0x30c6b3(0x5c8)];_0x27a1dc===_0x5a461f&&_0x29b3e7===_0x515464||(_0x27a1dc=Math[_0x30c6b3(0x4f5)](_0x5a461f),_0x29b3e7=Math[_0x30c6b3(0x4f5)](_0x515464),this[_0x30c6b3(0x75e)]({'video':{'maxResolution':{'width':_0x5a461f,'height':_0x515464}}}));});_0x2e625d[_0x3f74db(0x721)](this[_0x3f74db(0x1ee)]),this[_0x3f74db(0x59b)]=()=>_0x2e625d[_0x3f74db(0x82f)]();}}[_0x13fde2(0x77a)](_0x188591){const _0x479869=_0x13fde2,_0x514141=[];for(const _0x511c0e of this[_0x479869(0x3d4)])this[_0x479869(0x7a8)](_0x511c0e),_0x514141[_0x479869(0x875)](_0x511c0e);this['providerId']&&this[_0x479869(0x51a)]['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x479869(0x67b)],'content':{'type':_0x85b357[_0x479869(0x39a)],'label':this[_0x479869(0x380)],'streamId':this['internalId'],'ownerId':this[_0x479869(0x27e)][_0x479869(0x677)](),'providerId':this[_0x479869(0x649)],'trackKinds':_0x514141}});}[_0x13fde2(0x88f)](_0x5be6ea){const _0x20202c=_0x13fde2,_0x51ff67=()=>this[_0x20202c(0x77a)](_0x5be6ea);_0x5be6ea[_0x20202c(0x5b5)](_0x20202c(0x6f3),_0x51ff67),_0x5be6ea['addEventListener'](_0x20202c(0x566),_0x51ff67),this[_0x20202c(0x537)]['set'](_0x5be6ea[_0x20202c(0x602)],()=>{const _0x313fa1=_0x20202c;_0x5be6ea['removeEventListener'](_0x313fa1(0x6f3),_0x51ff67),_0x5be6ea[_0x313fa1(0x5d6)](_0x313fa1(0x566),_0x51ff67),this[_0x313fa1(0x537)][_0x313fa1(0x6fd)](_0x5be6ea[_0x313fa1(0x602)]);});}}class _0x4a8b63 extends _0x454bb4{[_0x13fde2(0x672)];[_0x13fde2(0x89e)];['db'];[_0x13fde2(0x57d)];[_0x13fde2(0x341)]=0x0;[_0x13fde2(0x2b7)]=0x0;constructor(_0x3efd35,_0x5d7651,_0x43a210,_0x551026){const _0x2df646=_0x13fde2;if('string'!=typeof _0x5d7651)throw new _0x3fd286(_0x12afa6['VectorDatabaseNameNotString'],_0x2df646(0x475));super(_0x3efd35,_0x5d7651),this[_0x2df646(0x672)]=_0x3efd35,this[_0x2df646(0x89e)]=_0x43a210,this['db']=new _0x551026(),this[_0x2df646(0x68f)]();}['destroy'](){const _0x3cc3db=_0x13fde2;clearTimeout(this[_0x3cc3db(0x57d)]),delete this['debounceStats'],super[_0x3cc3db(0x85f)]();}[_0x13fde2(0x3df)](){const _0x7608cc=_0x13fde2;this[_0x7608cc(0x51a)][_0x7608cc(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x7608cc(0x67b)],'content':{'type':_0x85b357[_0x7608cc(0x1df)],'label':this[_0x7608cc(0x380)]}});}[_0x13fde2(0x416)](){const _0x1031b5=_0x13fde2;this[_0x1031b5(0x68f)]();}['getContentType'](){const _0x209fd8=_0x13fde2;return _0x15de5e[_0x209fd8(0x671)][_0x209fd8(0x8ac)];}[_0x13fde2(0x245)](_0x1b14e1,_0x56eb91,_0x147c9c,_0x36964c){const _0x3acd44=_0x13fde2,_0x4d286c=this['db'][_0x3acd44(0x245)](_0x1b14e1,_0x56eb91,_0x147c9c,_0x36964c);return this['reads']+=0x1,_0x3d0f37[_0x3acd44(0x45d)](_0x33071f[_0x3acd44(0x8ac)],{'type':'search','label':this['label'],'nodeId':this[_0x3acd44(0x672)][_0x3acd44(0x677)](),'nodeType':this[_0x3acd44(0x672)][_0x3acd44(0x5bb)],'clusterId':this[_0x3acd44(0x89e)],'size':0x0}),this[_0x3acd44(0x68f)](),_0x4d286c;}[_0x13fde2(0x6b5)](_0x22b873,_0x3f0be7,_0x2d49b0){const _0x1fccdc=_0x13fde2;this['db'][_0x1fccdc(0x6b5)](_0x22b873,_0x3f0be7,_0x2d49b0),this[_0x1fccdc(0x341)]+=0x1,_0x3d0f37[_0x1fccdc(0x45d)](_0x33071f[_0x1fccdc(0x8ac)],{'type':_0x1fccdc(0x6b5),'label':this[_0x1fccdc(0x380)],'nodeId':this[_0x1fccdc(0x672)][_0x1fccdc(0x677)](),'nodeType':this[_0x1fccdc(0x672)]['type'],'clusterId':this[_0x1fccdc(0x89e)],'size':_0x2d49b0['reduce']((_0x2adec2,_0x4d2cf4)=>_0x2adec2+_0x4d2cf4['length'],0x0)}),this[_0x1fccdc(0x68f)]();}[_0x13fde2(0x49e)](_0x463559){const _0x5c90a4=_0x13fde2;this['db'][_0x5c90a4(0x49e)](_0x463559),this[_0x5c90a4(0x341)]+=0x1,_0x3d0f37[_0x5c90a4(0x45d)](_0x33071f['VectorDatabase'],{'type':_0x5c90a4(0x49e),'label':this['label'],'nodeId':this[_0x5c90a4(0x672)]['getId'](),'nodeType':this['localNode'][_0x5c90a4(0x5bb)],'clusterId':this[_0x5c90a4(0x89e)],'size':0x0}),this['sendStats']();}[_0x13fde2(0x68f)](){const _0x3aab8f=_0x13fde2;this['debounceStats']&&clearTimeout(this[_0x3aab8f(0x57d)]),this[_0x3aab8f(0x57d)]=setTimeout(async()=>{const _0x491859=_0x3aab8f;delete this[_0x491859(0x57d)];const _0x2135b6=this['db']['getBuffer']()['byteLength'];this[_0x491859(0x51a)]['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f['Content'],'content':{'type':_0x85b357[_0x491859(0x5ec)],'label':this[_0x491859(0x380)],'stats':{'timestamp':Date[_0x491859(0x321)](),'storage':_0x2135b6,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x491859(0x835)],'bytesSent':this[_0x491859(0x5f3)],'bytesReceived':this[_0x491859(0x428)],'writes':this[_0x491859(0x341)],'reads':this[_0x491859(0x2b7)],'prompts':0x0,'tokens':0x0}}}),_0x3d0f37[_0x491859(0x6cf)](_0x33071f['VectorDatabase'],_0x491859(0x41d)+this[_0x491859(0x89e)]+_0x491859(0x41d)+this[_0x491859(0x380)],_0x2135b6);},0x1388);}}class _0x4c2f4b{['id'];[_0x13fde2(0x27d)];[_0x13fde2(0x897)];constructor(_0x40ffe8,_0x391501=new Set(),_0x5ef2d5){const _0x452995=_0x13fde2;this['id']=_0x40ffe8,this[_0x452995(0x27d)]=_0x391501,this[_0x452995(0x897)]=_0x5ef2d5;}[_0x13fde2(0x3df)](){const _0x22a7eb=_0x13fde2;this['rank']=void 0x0,this[_0x22a7eb(0x27d)][_0x22a7eb(0x84d)]();}[_0x13fde2(0x677)](){return this['id'];}[_0x13fde2(0x83e)](){const _0x5af2c4=_0x13fde2;return this[_0x5af2c4(0x897)];}[_0x13fde2(0x67c)](){const _0x2e7732=_0x13fde2;return this[_0x2e7732(0x27d)];}}class _0x4a006d extends _0x4c2f4b{['id'];[_0x13fde2(0x55a)];[_0x13fde2(0x77c)];[_0x13fde2(0x27d)];[_0x13fde2(0x897)];[_0x13fde2(0x5bb)]=_0x15de5e[_0x13fde2(0x76b)]['User'];constructor(_0x21f8a8,_0x156ab6,_0x17fb70,_0x1003d4=new Set(),_0x384569){const _0x44436e=_0x13fde2;super(_0x21f8a8,_0x1003d4,_0x384569),this['id']=_0x21f8a8,this[_0x44436e(0x55a)]=_0x156ab6,this[_0x44436e(0x77c)]=_0x17fb70,this[_0x44436e(0x27d)]=_0x1003d4,this[_0x44436e(0x897)]=_0x384569;}[_0x13fde2(0x831)](){const _0xbe594f=_0x13fde2;return this[_0xbe594f(0x55a)];}[_0x13fde2(0x514)](){return this['email'];}}class _0x2a066e{[_0x13fde2(0x1f3)];['clusterId'];['clusterKey'];constructor(_0x39e6fe,_0x33035c){const _0x1ce0ec=_0x13fde2;this[_0x1ce0ec(0x1f3)]=_0x39e6fe,this[_0x1ce0ec(0x89e)]=_0x33035c,this[_0x1ce0ec(0x535)]=_0x1ce0ec(0x41d)+this[_0x1ce0ec(0x1f3)]+'ccc'+this[_0x1ce0ec(0x89e)];}async['writeTransaction'](_0x4264e3,_0x10a0d8){const _0x2a5624=_0x13fde2,_0x5804a6=(0x0,_0x1945ee[_0x2a5624(0x1f7)])(_0x2e0290[_0x2a5624(0x886)](),'clusters/'+this[_0x2a5624(0x535)]+_0x2a5624(0x753)+_0x10a0d8+_0x2a5624(0x7b1)+_0x4264e3['id']),_0x597b73=(0x0,_0x1945ee[_0x2a5624(0x8b6)])(_0x5804a6);_0x597b73[_0x2a5624(0x49e)](),_0x4264e3[_0x2a5624(0x5d3)]||delete _0x4264e3['parentId'];try{await(0x0,_0x1945ee[_0x2a5624(0x599)])(_0x5804a6,_0x4264e3);}catch(_0x535b2c){throw await _0x597b73[_0x2a5624(0x882)](),new _0x46f718(_0x46f718[_0x2a5624(0x6b3)][_0x2a5624(0x3bb)]);}if(!0x1===(await(0x0,_0x1945ee[_0x2a5624(0x7c1)])((0x0,_0x1945ee[_0x2a5624(0x1f7)])(_0x2e0290[_0x2a5624(0x886)](),'clusters/'+this[_0x2a5624(0x535)]+_0x2a5624(0x753)+_0x10a0d8+_0x2a5624(0x862)),_0x5695e6=>_0x5695e6?_0x5695e6===_0x4264e3[_0x2a5624(0x5d3)]?_0x4264e3['id']:void 0x0:_0x4264e3[_0x2a5624(0x5d3)]?_0x4264e3[_0x2a5624(0x5d3)]:_0x4264e3['id']))['committed'])throw await(0x0,_0x1945ee['remove'])(_0x5804a6),await _0x597b73['cancel'](),new _0x46f718(_0x46f718[_0x2a5624(0x6b3)][_0x2a5624(0x3a0)]);await _0x597b73[_0x2a5624(0x882)]();}async[_0x13fde2(0x664)](_0x167d46,_0x4a1805){const _0x219b15=_0x13fde2;let _0x3a3b59=[];const _0x1770bf=(0x0,_0x1945ee[_0x219b15(0x1f7)])(_0x2e0290[_0x219b15(0x886)](),_0x219b15(0x7f8)+this[_0x219b15(0x535)]+_0x219b15(0x753)+_0x167d46+_0x219b15(0x491));let _0x27b777=await(0x0,_0x1945ee[_0x219b15(0x556)])((0x0,_0x1945ee['query'])(_0x1770bf,(0x0,_0x1945ee['limitToFirst'])(0x65),(0x0,_0x1945ee[_0x219b15(0x40c)])()));if(!_0x27b777[_0x219b15(0x80e)]()){if(void 0x0!==_0x4a1805)throw new _0x46f718(_0x46f718['codes'][_0x219b15(0x845)]);return _0x3a3b59;}const _0x4a96e6=_0x27b777[_0x219b15(0x365)]();for(;Object[_0x219b15(0x253)](_0x27b777[_0x219b15(0x365)]())[_0x219b15(0x24c)]>0x64;){const _0x16a548=Object[_0x219b15(0x253)](_0x27b777['val']()),_0x2c6607=_0x16a548[_0x16a548['length']-0x1];_0x27b777=await(0x0,_0x1945ee[_0x219b15(0x556)])((0x0,_0x1945ee[_0x219b15(0x4a4)])(_0x1770bf,(0x0,_0x1945ee[_0x219b15(0x781)])(0x65),(0x0,_0x1945ee['startAt'])(_0x2c6607),(0x0,_0x1945ee[_0x219b15(0x40c)])())),Object[_0x219b15(0x455)](_0x4a96e6,_0x27b777[_0x219b15(0x365)]());}if(_0x3a3b59=Object['values'](_0x4a96e6)[_0x219b15(0x559)](_0xd9e137=>'string'!=typeof _0xd9e137),0x0===_0x3a3b59[_0x219b15(0x24c)]&&void 0x0!==_0x4a1805)throw new _0x46f718(_0x46f718[_0x219b15(0x6b3)][_0x219b15(0x845)]);if(_0x3a3b59['length']>0x0&&void 0x0!==_0x4a1805&&!_0x3a3b59[_0x219b15(0x1a6)](_0x5abe1b=>_0x5abe1b['id']===_0x4a1805))throw new _0x46f718(_0x46f718['codes'][_0x219b15(0x845)]);const _0x498c03=[];let _0x113746=_0x3a3b59[_0x219b15(0x1a6)](_0x27f43b=>_0x27f43b[_0x219b15(0x5d3)]===_0x4a1805);for(;_0x113746;)_0x498c03['push'](_0x113746),_0x113746=_0x3a3b59[_0x219b15(0x1a6)](_0x28f695=>_0x28f695[_0x219b15(0x5d3)]===_0x113746['id']);return _0x498c03;}}class _0x275586{[_0x13fde2(0x7b0)];['options'];['localMediaStreams']=new Map();[_0x13fde2(0x7fd)]=new Map();[_0x13fde2(0x5c1)]=new Map();['objectStores']=new Map();[_0x13fde2(0x1af)]=new Map();['vectorDatabases']=new Map();[_0x13fde2(0x7e6)]=new Map();[_0x13fde2(0x1f0)]=new Map();['jobWorkers']=new Map();[_0x13fde2(0x3e1)];constructor(_0x83881,_0x135c68){const _0x57a6be=_0x13fde2;this[_0x57a6be(0x7b0)]=_0x83881,this['options']=_0x135c68,this[_0x57a6be(0x3e1)]=new _0x2a066e(this['configs']['vendorId'],this[_0x57a6be(0x7b0)]['clusterId']);}[_0x13fde2(0x3df)](_0x4809c8=!0x1){const _0x24e6df=_0x13fde2;this[_0x24e6df(0x7fd)][_0x24e6df(0x1ed)]((_0x5087c8,_0x20af2d)=>{const _0x20fe1d=_0x24e6df;_0x5087c8[_0x20fe1d(0x1ed)]((_0x533737,_0x8ad01c)=>{const _0x26e831=_0x20fe1d;this[_0x26e831(0x459)](_0x20af2d,_0x8ad01c);});}),_0x4809c8||(_0x569bf4['clear'](),this[_0x24e6df(0x660)][_0x24e6df(0x1ed)]((_0x44f562,_0xb038e2)=>{this['removeLocalMediaStream'](_0xb038e2);}),this[_0x24e6df(0x5c1)]['forEach']((_0x4fdfff,_0x2508a6)=>{const _0xe7aed7=_0x24e6df;this[_0xe7aed7(0x1b7)](_0x2508a6);}),this[_0x24e6df(0x6e1)][_0x24e6df(0x1ed)]((_0x37471b,_0x1b259d)=>{const _0x41c1e5=_0x24e6df;this[_0x41c1e5(0x477)](_0x1b259d);}),this[_0x24e6df(0x1af)][_0x24e6df(0x1ed)]((_0xf9da12,_0x1a306c)=>{const _0x260a7d=_0x24e6df;this[_0x260a7d(0x6b2)](_0x1a306c);}),this[_0x24e6df(0x1f0)]['forEach']((_0x22ff92,_0x2a7cfe)=>{this['removeJobDispatcher'](_0x2a7cfe);}),this['jobWorkers']['forEach']((_0x820e32,_0x307aae)=>{const _0x58faa3=_0x24e6df;this[_0x58faa3(0x304)](_0x307aae);}),this[_0x24e6df(0x85b)][_0x24e6df(0x1ed)]((_0x3330a5,_0xb35e2b)=>{const _0x13327f=_0x24e6df;this[_0x13327f(0x5a5)](_0xb35e2b);}),this[_0x24e6df(0x7e6)][_0x24e6df(0x1ed)]((_0x5dcd4e,_0x5e445a)=>{const _0x18b210=_0x24e6df;this[_0x18b210(0x6d6)](_0x5e445a);}));}[_0x13fde2(0x257)](_0x43b6cc,_0x4ff053){const _0xe528fb=_0x13fde2;if(this['objectStores'][_0xe528fb(0x7f7)](_0x43b6cc))throw new _0x3fd286(_0x12afa6[_0xe528fb(0x24f)],'Store\x20already\x20exists');const _0x1618ad=new _0x3452be(this[_0xe528fb(0x7b0)]['localNode'],_0x43b6cc,this[_0xe528fb(0x7b0)][_0xe528fb(0x89e)],this['configs'][_0xe528fb(0x1f3)],this[_0xe528fb(0x3e1)],_0x4ff053,()=>this[_0xe528fb(0x7b0)]['mediator'][_0xe528fb(0x46f)]());return this[_0xe528fb(0x6e1)][_0xe528fb(0x599)](_0x43b6cc,_0x1618ad),this[_0xe528fb(0x7b0)][_0xe528fb(0x628)][_0xe528fb(0x4a0)](_0x1618ad),_0x1618ad;}async[_0x13fde2(0x3aa)](_0x21b689,_0x3f72b4,_0x117377){const _0x6baad8=_0x13fde2;if(this['keyValueDatabases'][_0x6baad8(0x7f7)](_0x21b689))throw new _0x3fd286(_0x12afa6[_0x6baad8(0x19a)],'Database\x20already\x20exists');try{const _0x16486e=new _0x847394(this[_0x6baad8(0x7b0)][_0x6baad8(0x672)],_0x21b689,this[_0x6baad8(0x7b0)][_0x6baad8(0x89e)],this[_0x6baad8(0x7b0)]['vendorId'],_0x3f72b4,_0x117377);return this['keyValueDatabases'][_0x6baad8(0x599)](_0x21b689,_0x16486e),this[_0x6baad8(0x7b0)][_0x6baad8(0x628)][_0x6baad8(0x4a0)](_0x16486e),_0x16486e;}catch(_0x34a8fa){if(_0x34a8fa instanceof _0x3fd286)throw _0x34a8fa;throw new _0x46f718(_0x46f718[_0x6baad8(0x6b3)][_0x6baad8(0x226)],{'label':_0x21b689,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x6baad8(0x7b0)][_0x6baad8(0x1f3)]});}}async[_0x13fde2(0x730)](_0x5d882e,_0x6d46a7){const _0x251da6=_0x13fde2;if(this['jobDispatchers'][_0x251da6(0x7f7)](_0x5d882e))throw new _0x3fd286(_0x12afa6[_0x251da6(0x2ba)],_0x251da6(0x68e));try{const _0x3ee67a=new _0x106e47(this['configs'][_0x251da6(0x672)],_0x5d882e,_0x6d46a7);return this[_0x251da6(0x1f0)][_0x251da6(0x599)](_0x5d882e,_0x3ee67a),this['configs']['mediator'][_0x251da6(0x4a0)](_0x3ee67a),_0x3ee67a;}catch(_0xd0de9a){if(_0xd0de9a instanceof _0x3fd286)throw _0xd0de9a;throw new _0x46f718(_0x46f718[_0x251da6(0x6b3)]['JobDispatcherCreationFailed'],{'label':_0x5d882e,'clusterId':this[_0x251da6(0x7b0)][_0x251da6(0x89e)],'vendorId':this[_0x251da6(0x7b0)][_0x251da6(0x1f3)]});}}async[_0x13fde2(0x6af)](_0x232cb9,_0x4236f0,_0x41f96a){const _0x22ebc8=_0x13fde2;if(this[_0x22ebc8(0x19e)][_0x22ebc8(0x7f7)](_0x232cb9))throw new _0x3fd286(_0x12afa6[_0x22ebc8(0x51c)],'Job\x20Worker\x20already\x20exists');try{const _0x16bc2=new _0x1ddfc4(this[_0x22ebc8(0x7b0)]['localNode'],_0x232cb9,_0x4236f0,_0x41f96a);return this[_0x22ebc8(0x19e)][_0x22ebc8(0x599)](_0x232cb9,_0x16bc2),this[_0x22ebc8(0x7b0)]['mediator']['registerSystemSource'](_0x16bc2),_0x16bc2;}catch(_0x168554){if(_0x168554 instanceof _0x3fd286)throw _0x168554;throw new _0x46f718(_0x46f718[_0x22ebc8(0x6b3)][_0x22ebc8(0x25a)],{'label':_0x232cb9,'clusterId':this['configs'][_0x22ebc8(0x89e)],'vendorId':this['configs']['vendorId']});}}async[_0x13fde2(0x627)](_0x280f85,_0x2eda9a){const _0x5c5ced=_0x13fde2;if(this[_0x5c5ced(0x1f0)]['has'](_0x280f85))throw new _0x3fd286(_0x12afa6['GenerativeAIContextAlreadyExists'],_0x5c5ced(0x821));if(this['jobWorkers'][_0x5c5ced(0x7f7)](_0x280f85))throw new _0x3fd286(_0x12afa6[_0x5c5ced(0x789)],_0x5c5ced(0x1ae));try{const _0x5442ff=new _0x3c5b67(this[_0x5c5ced(0x7b0)][_0x5c5ced(0x672)],_0x280f85,this[_0x5c5ced(0x7b0)][_0x5c5ced(0x1f3)],_0x2eda9a);return this[_0x5c5ced(0x1f0)]['set'](_0x280f85,_0x5442ff),this[_0x5c5ced(0x7b0)][_0x5c5ced(0x628)]['registerSystemSource'](_0x5442ff),_0x5442ff;}catch(_0x4b051d){if(_0x4b051d instanceof _0x3fd286)throw _0x4b051d;throw new _0x46f718(_0x46f718[_0x5c5ced(0x6b3)][_0x5c5ced(0x32a)],{'label':_0x280f85,'clusterId':this[_0x5c5ced(0x7b0)][_0x5c5ced(0x89e)],'vendorId':this['configs']['vendorId']});}}async[_0x13fde2(0x767)](_0x57aa52,_0x3b5686,_0x25ad69,_0x16cf8b,_0x145c62){const _0x5ebb4b=_0x13fde2;if(this[_0x5ebb4b(0x19e)][_0x5ebb4b(0x7f7)](_0x57aa52))throw new _0x3fd286(_0x12afa6[_0x5ebb4b(0x7eb)],_0x5ebb4b(0x743));if(this[_0x5ebb4b(0x1f0)][_0x5ebb4b(0x7f7)](_0x57aa52))throw new _0x3fd286(_0x12afa6['GenerativeAILabelConflict'],_0x5ebb4b(0x1ae));try{const _0x25afc2=new _0x247735(this['configs']['localNode'],_0x57aa52,this[_0x5ebb4b(0x7b0)][_0x5ebb4b(0x1f3)],_0x3b5686,this,_0x25ad69,_0x16cf8b,_0x145c62);return this[_0x5ebb4b(0x19e)]['set'](_0x57aa52,_0x25afc2),this['configs']['mediator']['registerSystemSource'](_0x25afc2),_0x25afc2;}catch(_0x259a2d){if(_0x259a2d instanceof _0x3fd286)throw _0x259a2d;throw new _0x46f718(_0x46f718[_0x5ebb4b(0x6b3)][_0x5ebb4b(0x7e3)],{'label':_0x57aa52,'clusterId':this['configs'][_0x5ebb4b(0x89e)],'vendorId':this[_0x5ebb4b(0x7b0)][_0x5ebb4b(0x1f3)]});}}[_0x13fde2(0x40f)](_0x4544a6,_0x1d5850){const _0x47c78c=_0x13fde2;if(this[_0x47c78c(0x7e6)][_0x47c78c(0x7f7)](_0x4544a6))throw new _0x3fd286(_0x12afa6['GraphDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0xa92d1b=new _0x4624f6(this[_0x47c78c(0x7b0)][_0x47c78c(0x672)],_0x4544a6,this['configs'][_0x47c78c(0x89e)],_0x1d5850);return this[_0x47c78c(0x7e6)][_0x47c78c(0x599)](_0x4544a6,_0xa92d1b),this[_0x47c78c(0x7b0)][_0x47c78c(0x628)][_0x47c78c(0x4a0)](_0xa92d1b),_0xa92d1b;}catch(_0x5c71bf){if(_0x5c71bf instanceof _0x3fd286)throw _0x5c71bf;throw new _0x46f718(_0x46f718[_0x47c78c(0x6b3)]['GraphDatabaseCreationFailed'],{'label':_0x4544a6,'clusterId':this[_0x47c78c(0x7b0)][_0x47c78c(0x89e)],'vendorId':this[_0x47c78c(0x7b0)][_0x47c78c(0x1f3)]});}}[_0x13fde2(0x3a4)](_0xda9f49,_0x262a42){const _0x29a077=_0x13fde2;if(this[_0x29a077(0x660)][_0x29a077(0x7f7)](_0xda9f49))throw new _0x3fd286(_0x12afa6['LocalMediaStreamAlreadyExists'],'Local\x20MediaStream\x20already\x20exists');if(!this['options']['audioContext'])throw new _0x3fd286(_0x12afa6[_0x29a077(0x641)],_0x29a077(0x20b));const _0xd161d0=new _0x2ddbfa(this[_0x29a077(0x7b0)][_0x29a077(0x672)],_0xda9f49,_0x262a42,this[_0x29a077(0x708)][_0x29a077(0x8b7)],this[_0x29a077(0x708)]['audioContext'],this[_0x29a077(0x7b0)][_0x29a077(0x89e)]);return this[_0x29a077(0x660)]['set'](_0xda9f49,_0xd161d0),this[_0x29a077(0x7b0)][_0x29a077(0x628)][_0x29a077(0x4a0)](_0xd161d0),_0xd161d0[_0x29a077(0x3c5)](),_0xd161d0;}[_0x13fde2(0x68c)](_0x26ff50,_0x109bb0){const _0xb79966=_0x13fde2;if(this[_0xb79966(0x660)]['has'](_0x26ff50))throw new _0x3fd286(_0x12afa6[_0xb79966(0x207)],'Stream\x20already\x20exists');const _0x1e3ca6=new _0x3ced05(this[_0xb79966(0x7b0)]['localNode'],_0x26ff50,_0x109bb0,this[_0xb79966(0x7b0)][_0xb79966(0x89e)]);return this[_0xb79966(0x660)][_0xb79966(0x599)](_0x26ff50,_0x1e3ca6),this[_0xb79966(0x7b0)][_0xb79966(0x628)]['registerSystemSource'](_0x1e3ca6),_0x1e3ca6[_0xb79966(0x3c5)](),_0x1e3ca6;}[_0x13fde2(0x85c)](_0x4123f7){const _0x32f84c=_0x13fde2;if(this[_0x32f84c(0x5c1)]['has'](_0x4123f7))throw new _0x3fd286(_0x12afa6[_0x32f84c(0x3ca)],_0x32f84c(0x5cf));const _0x12efda=new _0x382278(this[_0x32f84c(0x7b0)][_0x32f84c(0x672)],_0x4123f7,this['configs']['clusterId']);return this[_0x32f84c(0x5c1)][_0x32f84c(0x599)](_0x4123f7,_0x12efda),this['configs']['mediator'][_0x32f84c(0x4a0)](_0x12efda),_0x12efda;}['createRemoteMediaStream'](_0x889d11,_0x5cb238,_0x338bf8,_0x2b8536){const _0x432298=_0x13fde2;this[_0x432298(0x7fd)][_0x432298(0x7f7)](_0x889d11)||this['remoteMediaStreams']['set'](_0x889d11,new Map());const _0x3390d0=this[_0x432298(0x7fd)][_0x432298(0x556)](_0x889d11);if(_0x3390d0[_0x432298(0x7f7)](_0x5cb238))throw new _0x3fd286(_0x12afa6[_0x432298(0x6d9)],'Remote\x20MediaStream\x20already\x20exists');const _0x236fb1=new _0x4a006d(_0x889d11,'',''),_0x537956=new _0x749abd(this['configs']['localNode'],_0x236fb1,_0x5cb238,_0x338bf8,_0x2b8536,this[_0x432298(0x7b0)]['clusterId']);return _0x3390d0['set'](_0x5cb238,_0x537956),this[_0x432298(0x7b0)][_0x432298(0x628)][_0x432298(0x4a0)](_0x537956),_0x537956;}[_0x13fde2(0x75f)](_0x4acddf,_0x28475f){const _0x2146c8=_0x13fde2;if(this['vectorDatabases']['has'](_0x4acddf))throw new _0x3fd286(_0x12afa6['VectorDatabaseAlreadyExists'],_0x2146c8(0x3ad));try{const _0x1ef3c8=new _0x4a8b63(this[_0x2146c8(0x7b0)][_0x2146c8(0x672)],_0x4acddf,this['configs'][_0x2146c8(0x89e)],_0x28475f);return this[_0x2146c8(0x85b)][_0x2146c8(0x599)](_0x4acddf,_0x1ef3c8),this[_0x2146c8(0x7b0)][_0x2146c8(0x628)]['registerSystemSource'](_0x1ef3c8),_0x1ef3c8;}catch(_0x1ad97b){if(_0x1ad97b instanceof _0x3fd286)throw _0x1ad97b;throw new _0x46f718(_0x46f718[_0x2146c8(0x6b3)][_0x2146c8(0x4c2)],{'label':_0x4acddf,'clusterId':this['configs'][_0x2146c8(0x89e)],'vendorId':this[_0x2146c8(0x7b0)][_0x2146c8(0x1f3)]});}}[_0x13fde2(0x7ef)](_0x463e5b){const _0x500d2a=_0x13fde2,_0x2573b2=Array[_0x500d2a(0x69c)](this[_0x500d2a(0x6e1)][_0x500d2a(0x45b)]());return _0x463e5b?_0x2573b2[_0x500d2a(0x559)](_0x463e5b):_0x2573b2;}[_0x13fde2(0x6a0)](_0x20744a){const _0x222ab5=_0x13fde2,_0x4096a9=Array[_0x222ab5(0x69c)](this[_0x222ab5(0x1af)][_0x222ab5(0x45b)]());return _0x20744a?_0x4096a9[_0x222ab5(0x559)](_0x20744a):_0x4096a9;}[_0x13fde2(0x1a8)](_0x3af57c){const _0x2ceef1=_0x13fde2,_0x493c17=Array[_0x2ceef1(0x69c)](this[_0x2ceef1(0x1f0)]['values']());return _0x3af57c?_0x493c17[_0x2ceef1(0x559)](_0x3af57c):_0x493c17;}['getJobWorkers'](_0x14db74){const _0x38e542=_0x13fde2,_0x5cba91=Array[_0x38e542(0x69c)](this[_0x38e542(0x19e)][_0x38e542(0x45b)]());return _0x14db74?_0x5cba91[_0x38e542(0x559)](_0x14db74):_0x5cba91;}[_0x13fde2(0x665)](_0x38762d){const _0x4be594=_0x13fde2,_0x300e42=Array[_0x4be594(0x69c)](this[_0x4be594(0x1f0)]['values']())[_0x4be594(0x559)](_0x56193a=>_0x56193a instanceof _0x3c5b67);return _0x38762d?_0x300e42[_0x4be594(0x559)](_0x38762d):_0x300e42;}[_0x13fde2(0x837)](_0x4f2f3e){const _0x10445c=_0x13fde2,_0x2f669f=Array[_0x10445c(0x69c)](this[_0x10445c(0x19e)][_0x10445c(0x45b)]())[_0x10445c(0x559)](_0x2ec913=>_0x2ec913 instanceof _0x247735);return _0x4f2f3e?_0x2f669f[_0x10445c(0x559)](_0x4f2f3e):_0x2f669f;}[_0x13fde2(0x242)](_0x3b0ae1){const _0x309194=_0x13fde2,_0x995835=Array['from'](this['graphDatabases']['values']());return _0x3b0ae1?_0x995835[_0x309194(0x559)](_0x3b0ae1):_0x995835;}['getLocalMediaStreams'](_0x1a58e0){const _0x1cdc4d=_0x13fde2,_0x52f445=Array[_0x1cdc4d(0x69c)](this[_0x1cdc4d(0x660)][_0x1cdc4d(0x45b)]());return _0x1a58e0?_0x52f445[_0x1cdc4d(0x559)](_0x1a58e0):_0x52f445;}['getPubSubTopics'](_0x3d11d9){const _0x26db4f=_0x13fde2,_0x524a12=Array[_0x26db4f(0x69c)](this[_0x26db4f(0x5c1)][_0x26db4f(0x45b)]());return _0x3d11d9?_0x524a12[_0x26db4f(0x559)](_0x3d11d9):_0x524a12;}[_0x13fde2(0x444)](_0x548cd8){const _0x533408=_0x13fde2,_0x409175=Array[_0x533408(0x69c)](this[_0x533408(0x7fd)][_0x533408(0x45b)]())['reduce']((_0x485503,_0x1730f2)=>[..._0x485503,...Array[_0x533408(0x69c)](_0x1730f2['values']())],[]);return _0x548cd8?_0x409175[_0x533408(0x559)](_0x548cd8):_0x409175;}[_0x13fde2(0x1bc)](_0x4a784c){const _0x4074e3=_0x13fde2,_0x14f982=Array[_0x4074e3(0x69c)](this[_0x4074e3(0x85b)][_0x4074e3(0x45b)]());return _0x4a784c?_0x14f982[_0x4074e3(0x559)](_0x4a784c):_0x14f982;}[_0x13fde2(0x17e)](_0x5c89df){const _0x4f968b=_0x13fde2,_0x4e6d63=this[_0x4f968b(0x6e1)][_0x4f968b(0x556)](_0x5c89df);if(!_0x4e6d63)throw new _0x3fd286(_0x12afa6[_0x4f968b(0x3c4)],'ObjectStore\x20not\x20found');return _0x4e6d63;}['getGraphDatabase'](_0x49f6bd){const _0x43f071=_0x13fde2,_0x207fb6=this[_0x43f071(0x7e6)][_0x43f071(0x556)](_0x49f6bd);if(!_0x207fb6)throw new _0x3fd286(_0x12afa6[_0x43f071(0x5b6)],_0x43f071(0x244));return _0x207fb6;}[_0x13fde2(0x346)](_0x15f82c){const _0x2ecbaa=_0x13fde2,_0x17af4b=this[_0x2ecbaa(0x1af)][_0x2ecbaa(0x556)](_0x15f82c);if(!_0x17af4b)throw new _0x3fd286(_0x12afa6[_0x2ecbaa(0x6cd)],_0x2ecbaa(0x2ac));return _0x17af4b;}[_0x13fde2(0x885)](_0x5bf4a6){const _0x56aecd=_0x13fde2,_0x45887e=this[_0x56aecd(0x5c1)][_0x56aecd(0x556)](_0x5bf4a6);if(!_0x45887e)throw new _0x3fd286(_0x12afa6[_0x56aecd(0x486)],_0x56aecd(0x328));return _0x45887e;}[_0x13fde2(0x7ac)](_0x270a0b){const _0x26e3ff=_0x13fde2,_0x230a27=this['vectorDatabases']['get'](_0x270a0b);if(!_0x230a27)throw new _0x3fd286(_0x12afa6[_0x26e3ff(0x330)],'VectorDatabase\x20not\x20found');return _0x230a27;}['handleContentSystemEvents'](_0x198f67){const _0x163cb1=_0x13fde2;switch(_0x198f67[_0x163cb1(0x6dd)][_0x163cb1(0x5bb)]){case _0x85b357['PublishMediaStream']:this['handlePublishMediaStream'](_0x198f67[_0x163cb1(0x6dd)]);break;case _0x85b357[_0x163cb1(0x48e)]:this[_0x163cb1(0x869)](_0x198f67[_0x163cb1(0x6dd)]);break;case _0x85b357[_0x163cb1(0x7c9)]:this[_0x163cb1(0x22a)](_0x198f67[_0x163cb1(0x6dd)]['label']);break;case _0x85b357[_0x163cb1(0x1d8)]:this['removeJobWorker'](_0x198f67['content'][_0x163cb1(0x380)]);break;case _0x85b357['CloseMediaStream']:this['removeLocalMediaStream'](_0x198f67[_0x163cb1(0x6dd)][_0x163cb1(0x380)]);break;case _0x85b357[_0x163cb1(0x674)]:this[_0x163cb1(0x1b7)](_0x198f67[_0x163cb1(0x6dd)]['label']);break;case _0x85b357[_0x163cb1(0x565)]:this[_0x163cb1(0x477)](_0x198f67['content']['label']);break;case _0x85b357[_0x163cb1(0x616)]:this[_0x163cb1(0x6b2)](_0x198f67['content']['label']);break;case _0x85b357[_0x163cb1(0x1df)]:this[_0x163cb1(0x5a5)](_0x198f67[_0x163cb1(0x6dd)][_0x163cb1(0x380)]);break;case _0x85b357['CloseGraphDatabase']:this[_0x163cb1(0x6d6)](_0x198f67[_0x163cb1(0x6dd)][_0x163cb1(0x380)]);break;case _0x85b357[_0x163cb1(0x453)]:this[_0x163cb1(0x462)](_0x198f67[_0x163cb1(0x6dd)]);break;case _0x85b357[_0x163cb1(0x539)]:this[_0x163cb1(0x1af)]['get'](_0x198f67['content']['label'])?.[_0x163cb1(0x4d4)](_0x198f67[_0x163cb1(0x8a3)]);break;case _0x85b357[_0x163cb1(0x371)]:this[_0x163cb1(0x1af)][_0x163cb1(0x556)](_0x198f67['content']['label'])?.[_0x163cb1(0x26b)](_0x198f67[_0x163cb1(0x8a3)],_0x198f67['content'][_0x163cb1(0x870)]);break;case _0x85b357[_0x163cb1(0x298)]:this[_0x163cb1(0x1af)][_0x163cb1(0x556)](_0x198f67['content']['label'])?.[_0x163cb1(0x7c3)](_0x198f67['sourceId'],_0x198f67[_0x163cb1(0x6dd)][_0x163cb1(0x20f)]);break;case _0x85b357[_0x163cb1(0x79a)]:this[_0x163cb1(0x7b0)][_0x163cb1(0x628)]['notifyCluster'](_0x163cb1(0x1ec),{'label':_0x198f67[_0x163cb1(0x6dd)][_0x163cb1(0x380)],'trackKinds':_0x198f67[_0x163cb1(0x6dd)][_0x163cb1(0x651)]});}}[_0x13fde2(0x796)]({content:_0x1b84ae}){const _0x12ca69=_0x13fde2;switch(_0x1b84ae[_0x12ca69(0x5bb)]){case _0xee2b42[_0x12ca69(0x263)]:this['handleNodeJoinNeedPublishedStream'](_0x1b84ae),this[_0x12ca69(0x295)](_0x1b84ae);break;case _0xee2b42[_0x12ca69(0x6f6)]:this['handleNodeLeave'](_0x1b84ae),this[_0x12ca69(0x3f4)](_0x1b84ae);}}[_0x13fde2(0x591)](_0xed3a56){const _0x25f6e8=_0x13fde2;switch(_0xed3a56['content'][_0x25f6e8(0x5bb)]){case _0x3cab81['SubscribeMediaStream']:this[_0x25f6e8(0x187)](_0xed3a56[_0x25f6e8(0x8a3)],_0xed3a56[_0x25f6e8(0x6dd)]);break;case _0x3cab81['UpdateMediaStream']:this[_0x25f6e8(0x1bf)](_0xed3a56[_0x25f6e8(0x8a3)],_0xed3a56[_0x25f6e8(0x6dd)]);break;case _0x3cab81[_0x25f6e8(0x453)]:this[_0x25f6e8(0x209)](_0xed3a56[_0x25f6e8(0x8a3)],_0xed3a56[_0x25f6e8(0x6dd)]);}}[_0x13fde2(0x462)](_0x5b833d){const _0x373526=_0x13fde2;if(0x0===_0x5b833d[_0x373526(0x6aa)])this[_0x373526(0x7fd)]['get'](_0x5b833d[_0x373526(0x5d4)])?.[_0x373526(0x556)](_0x5b833d[_0x373526(0x380)])?.['destroy']();else{const _0x4d5fe4=this[_0x373526(0x7fd)][_0x373526(0x556)](_0x5b833d[_0x373526(0x5d4)])?.[_0x373526(0x556)](_0x5b833d[_0x373526(0x380)]);if(!_0x4d5fe4)return;_0x5b833d[_0x373526(0x651)][_0x373526(0x1ed)](_0x408b37=>_0x4d5fe4[_0x373526(0x468)](_0x408b37));}}['handlePublishMediaStream'](_0x408f20){const _0x414470=_0x13fde2,{label:_0x4b9c40,ownerId:_0x3b92d7,stream:{streamId:_0x3c11ea,availableTrackKinds:_0x1595a8}}=_0x408f20;if(this[_0x414470(0x7fd)][_0x414470(0x556)](_0x3b92d7)?.[_0x414470(0x7f7)](_0x4b9c40))return void _0x3d0f37[_0x414470(0x6c1)](_0x2582bf[_0x414470(0x67b)],_0x414470(0x41e),_0x3c11ea);const _0x3c8737=this[_0x414470(0x81c)](_0x3b92d7,_0x4b9c40,_0x3c11ea,_0x1595a8);this[_0x414470(0x7b0)][_0x414470(0x628)][_0x414470(0x849)]('content-publish-media',{'ownerId':_0x3b92d7,'stream':_0x3c8737});}[_0x13fde2(0x869)]({ownerId:_0x5aadfd,label:_0x33eb8a}){const _0x4b08a4=_0x13fde2;this['removeRemoteMediaStream'](_0x5aadfd,_0x33eb8a),this[_0x4b08a4(0x7b0)][_0x4b08a4(0x628)]['notifyCluster'](_0x4b08a4(0x37b),{'ownerId':_0x5aadfd,'label':_0x33eb8a});}['handleSubscribeMediaStream'](_0x789509,_0x16fb0f){const _0x11922e=_0x13fde2,{ownerId:_0x14aa75,label:_0x78135f}=_0x16fb0f;let _0x718989;_0x718989=_0x14aa75!==this[_0x11922e(0x7b0)]['localNode'][_0x11922e(0x677)]()?this['remoteMediaStreams'][_0x11922e(0x556)](_0x14aa75)[_0x11922e(0x556)](_0x78135f):this[_0x11922e(0x660)][_0x11922e(0x556)](_0x78135f),_0x718989['getShareableStream'](_0x789509,_0x16fb0f[_0x11922e(0x320)])[_0x11922e(0x76e)](_0x16fb0f,_0x718989[_0x11922e(0x5a7)]());}[_0x13fde2(0x1bf)](_0x531186,_0x37e9a9){const _0x5624c4=_0x13fde2,{ownerId:_0x3dd0d3,label:_0x502349}=_0x37e9a9;let _0x37bbdd;_0x37bbdd=_0x3dd0d3!==this[_0x5624c4(0x7b0)]['localNode'][_0x5624c4(0x677)]()?this[_0x5624c4(0x7fd)][_0x5624c4(0x556)](_0x3dd0d3)[_0x5624c4(0x556)](_0x502349):this[_0x5624c4(0x660)][_0x5624c4(0x556)](_0x502349),_0x37bbdd[_0x5624c4(0x5ad)](_0x531186,_0x37e9a9[_0x5624c4(0x320)])[_0x5624c4(0x75e)](_0x37e9a9);}['handleUnsubscribeMediaStream'](_0x1fbccb,_0x2db477){const _0xc24d77=_0x13fde2,{ownerId:_0x5bc119,label:_0x38e427}=_0x2db477;let _0x1c721d;_0x1c721d=_0x5bc119!==this[_0xc24d77(0x7b0)]['localNode']['getId']()?this[_0xc24d77(0x7fd)][_0xc24d77(0x556)](_0x5bc119)[_0xc24d77(0x556)](_0x38e427):this[_0xc24d77(0x660)]['get'](_0x38e427),_0x1c721d[_0xc24d77(0x5ad)](_0x1fbccb)[_0xc24d77(0x250)](_0x2db477);}[_0x13fde2(0x4f6)]({id:_0x1b35b2}){this['getLocalMediaStreams']()['forEach'](_0x1fae14=>{const _0x5f2d1=a0_0x2ee0;_0x1fae14[_0x5f2d1(0x3c5)](_0x1b35b2);});}['handleNodeLeave']({id:_0x3079e7}){const _0x4af2a9=_0x13fde2;this[_0x4af2a9(0x444)](_0x1a043f=>_0x1a043f['getOwnerId']()===_0x3079e7)['forEach'](_0x5b1830=>{const _0x416639=_0x4af2a9;this['removeRemoteMediaStream'](_0x5b1830[_0x416639(0x7d1)](),_0x5b1830['getLabel']());});}[_0x13fde2(0x295)]({id:_0x2f9ed7}){const _0x2ae8f8=_0x13fde2;this[_0x2ae8f8(0x6e1)]['forEach'](_0x30819a=>_0x30819a[_0x2ae8f8(0x2e8)](_0x2f9ed7));}[_0x13fde2(0x3f4)]({id:_0x691921}){const _0x5bc900=_0x13fde2;this[_0x5bc900(0x6e1)][_0x5bc900(0x1ed)](_0x5a9422=>_0x5a9422['handleNodeLeave'](_0x691921));}[_0x13fde2(0x22a)](_0x1fa2d5){const _0x1d8daa=_0x13fde2;if(!this[_0x1d8daa(0x1f0)]['has'](_0x1fa2d5))throw new _0x3fd286(_0x12afa6[_0x1d8daa(0x415)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x180375=this['jobDispatchers']['get'](_0x1fa2d5);this[_0x1d8daa(0x1f0)][_0x1d8daa(0x6fd)](_0x1fa2d5),_0x180375[_0x1d8daa(0x85f)](),this[_0x1d8daa(0x7b0)][_0x1d8daa(0x628)][_0x1d8daa(0x3b6)](_0x180375);}['removeJobWorker'](_0x12d499){const _0x1992c5=_0x13fde2;if(!this[_0x1992c5(0x19e)][_0x1992c5(0x7f7)](_0x12d499))throw new _0x3fd286(_0x12afa6[_0x1992c5(0x300)],_0x1992c5(0x724));const _0x41440a=this['jobWorkers'][_0x1992c5(0x556)](_0x12d499);this[_0x1992c5(0x19e)][_0x1992c5(0x6fd)](_0x12d499),_0x41440a[_0x1992c5(0x85f)](),this[_0x1992c5(0x7b0)]['mediator'][_0x1992c5(0x3b6)](_0x41440a);}[_0x13fde2(0x477)](_0x4e99cb){const _0x2eb449=_0x13fde2;if(!this[_0x2eb449(0x6e1)]['has'](_0x4e99cb))throw new _0x3fd286(_0x12afa6[_0x2eb449(0x3c4)],_0x2eb449(0x279));const _0x2ebbf2=this[_0x2eb449(0x6e1)][_0x2eb449(0x556)](_0x4e99cb);this['objectStores'][_0x2eb449(0x6fd)](_0x4e99cb),_0x2ebbf2['destroy'](),this[_0x2eb449(0x7b0)][_0x2eb449(0x628)]['unregisterSystemSource'](_0x2ebbf2);}[_0x13fde2(0x1b7)](_0x1b3da7){const _0x4b4742=_0x13fde2;if(!this[_0x4b4742(0x5c1)][_0x4b4742(0x7f7)](_0x1b3da7))throw new _0x3fd286(_0x12afa6[_0x4b4742(0x486)],_0x4b4742(0x279));const _0x1c9234=this[_0x4b4742(0x5c1)]['get'](_0x1b3da7);this[_0x4b4742(0x5c1)][_0x4b4742(0x6fd)](_0x1b3da7),_0x1c9234[_0x4b4742(0x85f)](),this[_0x4b4742(0x7b0)][_0x4b4742(0x628)][_0x4b4742(0x3b6)](_0x1c9234);}[_0x13fde2(0x6b2)](_0x40e2dc){const _0x227a66=_0x13fde2;if(!this[_0x227a66(0x1af)][_0x227a66(0x7f7)](_0x40e2dc))throw new _0x3fd286(_0x12afa6['KeyValueDatabaseDoesNotExist'],_0x227a66(0x308));const _0x4b82d4=this['keyValueDatabases'][_0x227a66(0x556)](_0x40e2dc);this[_0x227a66(0x1af)][_0x227a66(0x6fd)](_0x40e2dc),_0x4b82d4[_0x227a66(0x85f)](),this[_0x227a66(0x7b0)][_0x227a66(0x628)][_0x227a66(0x3b6)](_0x4b82d4);}[_0x13fde2(0x5a5)](_0x30d68f){const _0x44210f=_0x13fde2;if(!this['vectorDatabases'][_0x44210f(0x7f7)](_0x30d68f))throw new _0x3fd286(_0x12afa6[_0x44210f(0x330)],_0x44210f(0x308));const _0x5c7261=this[_0x44210f(0x85b)][_0x44210f(0x556)](_0x30d68f);this[_0x44210f(0x85b)][_0x44210f(0x6fd)](_0x30d68f),_0x5c7261['destroy'](),this[_0x44210f(0x7b0)][_0x44210f(0x628)]['unregisterSystemSource'](_0x5c7261);}[_0x13fde2(0x6d6)](_0x2a687c){const _0x5a2d3a=_0x13fde2;if(!this[_0x5a2d3a(0x7e6)][_0x5a2d3a(0x7f7)](_0x2a687c))throw new _0x3fd286(_0x12afa6[_0x5a2d3a(0x5b6)],'Database\x20does\x20not\x20exist');const _0x3d42da=this[_0x5a2d3a(0x7e6)][_0x5a2d3a(0x556)](_0x2a687c);this[_0x5a2d3a(0x7e6)][_0x5a2d3a(0x6fd)](_0x2a687c),_0x3d42da[_0x5a2d3a(0x85f)](),this[_0x5a2d3a(0x7b0)][_0x5a2d3a(0x628)][_0x5a2d3a(0x3b6)](_0x3d42da);}[_0x13fde2(0x23b)](_0x976d45){const _0x365ce5=_0x13fde2;if(!this[_0x365ce5(0x660)][_0x365ce5(0x7f7)](_0x976d45))throw new _0x46f718(_0x46f718[_0x365ce5(0x6b3)][_0x365ce5(0x6c5)],{'label':_0x976d45,'localId':this[_0x365ce5(0x7b0)][_0x365ce5(0x672)][_0x365ce5(0x677)]()});const _0x777f17=this[_0x365ce5(0x660)][_0x365ce5(0x556)](_0x976d45);this[_0x365ce5(0x7b0)]['mediator'][_0x365ce5(0x3b6)](_0x777f17),_0x777f17[_0x365ce5(0x85f)](),this[_0x365ce5(0x660)][_0x365ce5(0x6fd)](_0x976d45);}[_0x13fde2(0x459)](_0x24c9ca,_0x53455e){const _0x42fe4a=_0x13fde2;if(!this[_0x42fe4a(0x7fd)][_0x42fe4a(0x7f7)](_0x24c9ca))throw new _0x46f718(_0x46f718[_0x42fe4a(0x6b3)][_0x42fe4a(0x8c0)],{'nodeId':_0x24c9ca,'localId':this['configs'][_0x42fe4a(0x672)][_0x42fe4a(0x677)]()});const _0x3717e9=this[_0x42fe4a(0x7fd)][_0x42fe4a(0x556)](_0x24c9ca);if(!_0x3717e9[_0x42fe4a(0x7f7)](_0x53455e))throw new _0x46f718(_0x46f718[_0x42fe4a(0x6b3)][_0x42fe4a(0x709)],{'nodeId':_0x24c9ca,'label':_0x53455e,'localId':this[_0x42fe4a(0x7b0)][_0x42fe4a(0x672)][_0x42fe4a(0x677)]()});const _0x17cdb2=_0x3717e9['get'](_0x53455e);this[_0x42fe4a(0x7b0)][_0x42fe4a(0x628)][_0x42fe4a(0x3b6)](_0x17cdb2),_0x17cdb2[_0x42fe4a(0x85f)](),_0x3717e9[_0x42fe4a(0x6fd)](_0x53455e);}}var _0xbee4d5,_0x431989,_0x1684f0;!function(_0x4f4a8d){const _0x24e6b6=_0x13fde2;_0x4f4a8d[_0x24e6b6(0x883)]=_0x24e6b6(0x6e6),_0x4f4a8d[_0x24e6b6(0x50d)]=_0x24e6b6(0x788),_0x4f4a8d[_0x24e6b6(0x490)]=_0x24e6b6(0x345),_0x4f4a8d['Bitrate']=_0x24e6b6(0x7b8),_0x4f4a8d['Jitter']='jitter',_0x4f4a8d[_0x24e6b6(0x1a0)]='fps',_0x4f4a8d['RoundTripTime']=_0x24e6b6(0x84c),_0x4f4a8d['AudioVideoDelay']='av_delay';}(_0xbee4d5||(_0xbee4d5={})),function(_0x4f9fa3){const _0x7b9072=_0x13fde2;_0x4f9fa3['CPUCycle']=_0x7b9072(0x449),_0x4f9fa3[_0x7b9072(0x490)]=_0x7b9072(0x495),_0x4f9fa3[_0x7b9072(0x748)]=_0x7b9072(0x44f),_0x4f9fa3[_0x7b9072(0x1a0)]='cpu.fps',_0x4f9fa3['Bitrate']=_0x7b9072(0x799),_0x4f9fa3['Jitter']=_0x7b9072(0x186),_0x4f9fa3[_0x7b9072(0x22e)]='bandwidth.rtt';}(_0x431989||(_0x431989={})),function(_0x2d32ba){const _0x3f640b=_0x13fde2;_0x2d32ba[_0x2d32ba[_0x3f640b(0x30c)]=0x0]=_0x3f640b(0x30c);}(_0x1684f0||(_0x1684f0={}));const _0x265a7b=[{'type':_0xbee4d5[_0x13fde2(0x883)],'reportMetric':_0x43f34d=>_0x43f34d['STVolatility'],'maxThreshold':2.5},{'type':_0xbee4d5[_0x13fde2(0x50d)],'reportMetric':_0x1729fb=>_0x1729fb['DTVolatility'],'maxThreshold':0.5}],_0x592dbe=[{'type':_0xbee4d5[_0x13fde2(0x490)],'reportMetric':_0xb5c93e=>{const _0x3a8aa9=_0x13fde2,_0x1c39be=0x3e8/_0xb5c93e[_0x3a8aa9(0x4c4)];return _0xb5c93e[_0x3a8aa9(0x7bb)]/_0x1c39be;},'maxThreshold':0.75},{'type':_0xbee4d5[_0x13fde2(0x17b)],'reportMetric':_0x4e3fba=>{const _0x3cca0e=_0x13fde2,_0x45466d=_0x4e3fba['FPS']*_0x4e3fba[_0x3cca0e(0x62e)]*_0x4e3fba[_0x3cca0e(0x7d6)]*0.12;return _0x4e3fba[_0x3cca0e(0x7b8)]/_0x45466d;},'minThreshold':0.25},{'type':_0xbee4d5[_0x13fde2(0x221)],'reportMetric':_0x18f1e7=>_0x18f1e7[_0x13fde2(0x310)],'maxThreshold':0.6},{'type':_0xbee4d5['FramePerSecond'],'reportMetric':_0x507f9d=>_0x507f9d[_0x13fde2(0x4c4)],'minThreshold':0xa}],_0x2172e4=[{'type':_0xbee4d5[_0x13fde2(0x221)],'reportMetric':_0x4ba093=>_0x4ba093[_0x13fde2(0x310)],'maxThreshold':0.6}],_0x92770e=[{'type':_0xbee4d5['RoundTripTime'],'reportMetric':_0x48790f=>_0x48790f['roundTripTime'],'maxThreshold':0x1/0x0}],_0x5d04c5=[{'type':_0xbee4d5[_0x13fde2(0x748)],'reportMetric':_0x1455ec=>_0x1455ec['AudioVideoDelay'],'maxThreshold':0x12c}],_0xa39116=[{'type':_0x431989[_0x13fde2(0x5fe)],'issues':[{'type':_0xbee4d5[_0x13fde2(0x883)],'threshold':0x5},{'type':_0xbee4d5['DTVolatility'],'threshold':0x5}]},{'type':_0x431989[_0x13fde2(0x490)],'issues':[{'type':_0xbee4d5[_0x13fde2(0x490)],'threshold':0x3}]},{'type':_0x431989['AudioVideoDelay'],'issues':[{'type':_0xbee4d5[_0x13fde2(0x748)],'threshold':0x2}]},{'type':_0x431989[_0x13fde2(0x1a0)],'issues':[{'type':_0xbee4d5[_0x13fde2(0x1a0)],'threshold':0x3}]},{'type':_0x431989[_0x13fde2(0x17b)],'issues':[{'type':_0xbee4d5[_0x13fde2(0x17b)],'threshold':0x3}]},{'type':_0x431989['Jitter'],'issues':[{'type':_0xbee4d5[_0x13fde2(0x221)],'threshold':0x3}]},{'type':_0x431989[_0x13fde2(0x22e)],'issues':[{'type':_0xbee4d5[_0x13fde2(0x22e)],'threshold':0x3}]}];var _0x3022c1,_0x5d74d9;!function(_0x514246){const _0x1e417e=_0x13fde2;_0x514246[_0x514246[_0x1e417e(0x2d9)]=0x0]=_0x1e417e(0x2d9),_0x514246[_0x514246[_0x1e417e(0x36c)]=0x1]=_0x1e417e(0x36c);}(_0x3022c1||(_0x3022c1={}));class _0x46af54{[_0x13fde2(0x7b0)];['issues']=[];['systemTopic'];constructor(_0x27c806){const _0x189557=_0x13fde2;this[_0x189557(0x7b0)]=_0x27c806,this[_0x189557(0x7b0)][_0x189557(0x628)]['registerSystemSource'](this);}[_0x13fde2(0x18b)](_0x15d205){this['systemTopic']=_0x15d205;}[_0x13fde2(0x769)](){const _0x1d36f4=_0x13fde2;this[_0x1d36f4(0x51a)]=void 0x0;}[_0x13fde2(0x3df)](){const _0x378d44=_0x13fde2;this[_0x378d44(0x7b0)]['mediator']['unregisterSystemSource'](this),this[_0x378d44(0x5b2)]=[];}[_0x13fde2(0x5b7)](_0x12b3e0){const _0x5a9be4=_0x13fde2;switch(_0x12b3e0[_0x5a9be4(0x6dd)][_0x5a9be4(0x5bb)]){case _0x3022c1[_0x5a9be4(0x36c)]:this[_0x5a9be4(0x69a)](_0x12b3e0[_0x5a9be4(0x6dd)][_0x5a9be4(0x7e0)]);break;case _0x3022c1[_0x5a9be4(0x2d9)]:this[_0x5a9be4(0x80b)](_0x12b3e0[_0x5a9be4(0x6dd)][_0x5a9be4(0x7e0)]);}}[_0x13fde2(0x3af)](_0x57e611,_0x4aa720,_0x9d5399,_0x2c1017){const _0x1c720b=_0x13fde2,_0x7839cc=_0xa39116['find'](_0x41d9c9=>_0x41d9c9[_0x1c720b(0x5b2)][_0x1c720b(0x5dd)](_0x3f344c=>_0x3f344c[_0x1c720b(0x5bb)]===_0x57e611));_0x2c1017>=_0x7839cc[_0x1c720b(0x5b2)][_0x1c720b(0x1a6)](_0x543cb3=>_0x543cb3[_0x1c720b(0x5bb)]===_0x57e611)[_0x1c720b(0x1e3)]&&(this[_0x1c720b(0x765)](_0x7839cc[_0x1c720b(0x5bb)],_0x4aa720,_0x9d5399),this[_0x1c720b(0x5b2)]=this[_0x1c720b(0x5b2)][_0x1c720b(0x559)](_0x5f3992=>!(_0x5f3992[_0x1c720b(0x5bb)]===_0x57e611&&_0x5f3992['nodeId']===_0x4aa720&&_0x5f3992[_0x1c720b(0x852)]===_0x9d5399)));}['detectLocalIssues'](_0x1c243b){_0x265a7b['forEach'](_0x5c3be3=>{const _0x94a685=a0_0x2ee0,_0x2d7886=_0x5c3be3[_0x94a685(0x451)](_0x1c243b);_0x5c3be3[_0x94a685(0x62c)]&&_0x2d7886>_0x5c3be3[_0x94a685(0x62c)]&&this[_0x94a685(0x5db)](_0x5c3be3[_0x94a685(0x5bb)],this[_0x94a685(0x7b0)][_0x94a685(0x672)][_0x94a685(0x677)](),_0x4a7d10[_0x94a685(0x3a6)],_0x2d7886),_0x5c3be3[_0x94a685(0x1c7)]&&_0x2d7886<_0x5c3be3[_0x94a685(0x1c7)]&&this[_0x94a685(0x5db)](_0x5c3be3[_0x94a685(0x5bb)],this[_0x94a685(0x7b0)][_0x94a685(0x672)][_0x94a685(0x677)](),_0x4a7d10[_0x94a685(0x3a6)],_0x2d7886);});}['detectStreamIssues'](_0x1a7484){const _0x45b96f=_0x13fde2;let _0x4bd638=[];switch(_0x1a7484['origin']){case _0x4a7d10[_0x45b96f(0x3a6)]:_0x4bd638=_0x92770e;break;case _0x4a7d10[_0x45b96f(0x4cb)]:_0x4bd638=_0x5d04c5;}_0x1a7484[_0x45b96f(0x3c1)]&&this[_0x45b96f(0x86b)](_0x1a7484[_0x45b96f(0x6d4)],_0x4a7d10[_0x45b96f(0x3a6)],_0x1a7484[_0x45b96f(0x3c1)]),_0x1a7484['audio']&&this[_0x45b96f(0x2f5)](_0x1a7484[_0x45b96f(0x6d4)],_0x4a7d10['Sender'],_0x1a7484[_0x45b96f(0x706)]),_0x4bd638[_0x45b96f(0x1ed)](_0xfcb311=>{const _0x2c6f80=_0x45b96f,_0x11c78a=_0xfcb311[_0x2c6f80(0x451)](_0x1a7484);_0xfcb311['maxThreshold']&&_0x11c78a>_0xfcb311[_0x2c6f80(0x62c)]&&this[_0x2c6f80(0x5db)](_0xfcb311[_0x2c6f80(0x5bb)],_0x1a7484[_0x2c6f80(0x6d4)],_0x4a7d10[_0x2c6f80(0x3a6)],_0x11c78a),_0xfcb311[_0x2c6f80(0x1c7)]&&_0x11c78a<_0xfcb311[_0x2c6f80(0x1c7)]&&this['addIssue'](_0xfcb311['type'],_0x1a7484['nodeId'],_0x4a7d10[_0x2c6f80(0x3a6)],_0x11c78a);});}['detectVideoIssues'](_0x276701,_0x1892ed,_0xb6ec3b){const _0x2240f3=_0x13fde2;0x0!==_0xb6ec3b[_0x2240f3(0x7b8)]&&_0x592dbe[_0x2240f3(0x1ed)](_0x4b3298=>{const _0x5a83d4=_0x2240f3,_0x13e78f=_0x4b3298[_0x5a83d4(0x451)](_0xb6ec3b);_0x4b3298[_0x5a83d4(0x62c)]&&_0x13e78f>_0x4b3298['maxThreshold']&&this['addIssue'](_0x4b3298[_0x5a83d4(0x5bb)],_0x276701,_0x1892ed,_0x13e78f,_0x5a83d4(0x3c1)),_0x4b3298[_0x5a83d4(0x1c7)]&&_0x13e78f<_0x4b3298['minThreshold']&&this['addIssue'](_0x4b3298['type'],_0x276701,_0x1892ed,_0x13e78f,_0x5a83d4(0x3c1));});}[_0x13fde2(0x2f5)](_0x3e2100,_0x2ae8fd,_0x5aeca1){const _0x397d6d=_0x13fde2;0x0!==_0x5aeca1['bitrate']&&_0x2172e4[_0x397d6d(0x1ed)](_0xa94f74=>{const _0x51e331=_0x397d6d,_0xf0a0a2=_0xa94f74[_0x51e331(0x451)](_0x5aeca1);_0xa94f74[_0x51e331(0x62c)]&&_0xf0a0a2>_0xa94f74[_0x51e331(0x62c)]&&this[_0x51e331(0x5db)](_0xa94f74['type'],_0x3e2100,_0x2ae8fd,_0xf0a0a2,_0x51e331(0x706)),_0xa94f74[_0x51e331(0x1c7)]&&_0xf0a0a2<_0xa94f74['minThreshold']&&this['addIssue'](_0xa94f74['type'],_0x3e2100,_0x2ae8fd,_0xf0a0a2,_0x51e331(0x706));});}['addIssue'](_0x4ced53,_0x4f37d7,_0x59b6a0,_0x2b17f0,_0x19ce0d){const _0x5d8c9a=_0x13fde2;_0x3d0f37[_0x5d8c9a(0x6c1)](_0x2582bf['Detection'],_0x5d8c9a(0x815)+_0x4ced53,_0x4ced53,_0x2b17f0),_0x3d0f37[_0x5d8c9a(0x87a)](_0x5d8c9a(0x7d8),{'clusterId':this[_0x5d8c9a(0x7b0)][_0x5d8c9a(0x89e)],'nodeId':this[_0x5d8c9a(0x7b0)][_0x5d8c9a(0x672)][_0x5d8c9a(0x677)](),'nodeType':this[_0x5d8c9a(0x7b0)][_0x5d8c9a(0x672)][_0x5d8c9a(0x5bb)],'remoteId':_0x4f37d7,'data':{'type':_0x4ced53,'value':_0x2b17f0,'kind':_0x19ce0d}}),this[_0x5d8c9a(0x5b2)]=this[_0x5d8c9a(0x5b2)]['filter'](_0x2551a8=>Date[_0x5d8c9a(0x321)]()-_0x2551a8[_0x5d8c9a(0x644)]<0x7530),this[_0x5d8c9a(0x5b2)]['push']({'timestamp':Date[_0x5d8c9a(0x321)](),'type':_0x4ced53,'nodeId':_0x4f37d7,'origin':_0x59b6a0,'value':_0x2b17f0,'kind':_0x19ce0d});const _0x5ce978=this['issues']['filter'](_0x4847af=>_0x4847af['type']===_0x4ced53&&_0x4847af[_0x5d8c9a(0x6d4)]===_0x4f37d7&&_0x4847af['origin']===_0x59b6a0)['length'];this['detectProblems'](_0x4ced53,_0x4f37d7,_0x59b6a0,_0x5ce978);}[_0x13fde2(0x765)](_0x3f5d2e,_0x1affe2,_0x30ac90){const _0x36d46a=_0x13fde2;_0x3d0f37[_0x36d46a(0x6c1)](_0x2582bf[_0x36d46a(0x364)],_0x36d46a(0x52b)+_0x3f5d2e),_0x3d0f37[_0x36d46a(0x87a)](_0x36d46a(0x801),{'clusterId':this[_0x36d46a(0x7b0)][_0x36d46a(0x89e)],'nodeId':this['configs'][_0x36d46a(0x672)][_0x36d46a(0x677)](),'nodeType':this['configs'][_0x36d46a(0x672)][_0x36d46a(0x5bb)],'remoteId':_0x1affe2,'data':{'type':_0x3f5d2e}}),this[_0x36d46a(0x51a)]?.[_0x36d46a(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x36d46a(0x364)],'content':{'type':_0x1684f0[_0x36d46a(0x30c)],'data':{'timestamp':Date[_0x36d46a(0x321)](),'nodeId':_0x1affe2,'origin':_0x4a7d10[_0x36d46a(0x3a6)],'type':_0x3f5d2e}}});}}class _0xa1a2db extends _0x4c2f4b{[_0x13fde2(0x5bb)]=_0x15de5e[_0x13fde2(0x76b)][_0x13fde2(0x466)];}class _0x488926 extends _0xa1a2db{[_0x13fde2(0x51a)];[_0x13fde2(0x5aa)]=Date[_0x13fde2(0x321)]();[_0x13fde2(0x281)];[_0x13fde2(0x4da)];[_0x13fde2(0x3df)](){const _0x46d20a=_0x13fde2;this[_0x46d20a(0x281)]&&(clearTimeout(this[_0x46d20a(0x281)]),delete this[_0x46d20a(0x281)]),delete this[_0x46d20a(0x4da)],this[_0x46d20a(0x5aa)]=Date[_0x46d20a(0x321)](),super['close']();}[_0x13fde2(0x18b)](_0x40c609){const _0x10b3be=_0x13fde2;this[_0x10b3be(0x51a)]=_0x40c609;}[_0x13fde2(0x769)](){const _0x1fcfa2=_0x13fde2;delete this[_0x1fcfa2(0x51a)];}['answerJoin'](_0x96ab1c){const _0xb7eb1=_0x13fde2;!this['updateDebounceTimeout']&&this['rank']&&this[_0xb7eb1(0x51a)][_0xb7eb1(0x3c5)]({'sourceId':this['id'],'destinationIds':[_0x96ab1c],'propagate':!0x0,'messageType':_0x1b694f[_0xb7eb1(0x3c6)],'content':{'type':_0xee2b42[_0xb7eb1(0x2e9)],'id':this['id'],'metaData':{'type':this[_0xb7eb1(0x5bb)]},'rank':this[_0xb7eb1(0x83e)](),'remoteConnections':Array[_0xb7eb1(0x69c)](this[_0xb7eb1(0x27d)]),'version':this[_0xb7eb1(0x5aa)]}});}[_0x13fde2(0x3a3)](_0x39b991){const _0x387dac=_0x13fde2;this[_0x387dac(0x27d)][_0x387dac(0x7f7)](_0x39b991)||(this[_0x387dac(0x27d)][_0x387dac(0x7bd)](_0x39b991),this['incrementVersion'](),this[_0x387dac(0x41c)](!0x0));}['removeRemoteConnection'](_0x168a8b){const _0xd120d3=_0x13fde2;this[_0xd120d3(0x27d)]['has'](_0x168a8b)&&(this[_0xd120d3(0x27d)][_0xd120d3(0x6fd)](_0x168a8b),this[_0xd120d3(0x390)](),this[_0xd120d3(0x41c)](!0x0));}[_0x13fde2(0x2b5)](){const _0x1b9af8=_0x13fde2;return this[_0x1b9af8(0x5aa)];}[_0x13fde2(0x722)](_0x982711,_0x5ae4b6=!0x0){const _0x2eac26=_0x13fde2;this[_0x2eac26(0x897)]!==_0x982711&&(this[_0x2eac26(0x897)]=_0x982711,_0x5ae4b6&&(this['incrementVersion'](),this[_0x2eac26(0x41c)]()));}[_0x13fde2(0x390)](){const _0x3cc34c=_0x13fde2;this[_0x3cc34c(0x5aa)]=Date['now']();}['publishUserUpdate'](_0x5d7b28=!0x1){const _0x4d424d=_0x13fde2;if(this[_0x4d424d(0x897)]){if(this[_0x4d424d(0x4da)]||(this[_0x4d424d(0x4da)]=Date[_0x4d424d(0x321)]()),this['updateDebounceTimeout']){if(Date[_0x4d424d(0x321)]()-this[_0x4d424d(0x4da)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x227b03=_0x4d424d;delete this[_0x227b03(0x4da)],delete this[_0x227b03(0x281)],this[_0x227b03(0x51a)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x1b694f[_0x227b03(0x3c6)],'content':{'type':_0x5d7b28?_0xee2b42[_0x227b03(0x36d)]:_0xee2b42[_0x227b03(0x2e9)],'id':this['id'],'metaData':{'type':this[_0x227b03(0x5bb)]},'rank':this[_0x227b03(0x83e)](),'remoteConnections':Array[_0x227b03(0x69c)](this['remoteConnections']),'version':this[_0x227b03(0x5aa)]}});},0x3e8);}}}class _0x292912 extends _0x4a006d{['systemTopic'];[_0x13fde2(0x5aa)]=Date['now']();['updateDebounceTimeout'];[_0x13fde2(0x4da)];[_0x13fde2(0x3df)](){const _0x325022=_0x13fde2;this[_0x325022(0x281)]&&(clearTimeout(this[_0x325022(0x281)]),delete this[_0x325022(0x281)]),delete this['lastUpdated'],this[_0x325022(0x5aa)]=Date[_0x325022(0x321)](),super[_0x325022(0x3df)]();}[_0x13fde2(0x18b)](_0x1220c0){const _0x2461de=_0x13fde2;this[_0x2461de(0x51a)]=_0x1220c0;}[_0x13fde2(0x769)](){const _0x694b04=_0x13fde2;delete this[_0x694b04(0x51a)];}[_0x13fde2(0x225)](_0x20b165){const _0x58ffa8=_0x13fde2;!this[_0x58ffa8(0x281)]&&this[_0x58ffa8(0x897)]&&this[_0x58ffa8(0x51a)]['publish']({'sourceId':this['id'],'destinationIds':[_0x20b165],'propagate':!0x0,'messageType':_0x1b694f['Node'],'content':{'type':_0xee2b42[_0x58ffa8(0x2e9)],'id':this['id'],'metaData':{'type':this[_0x58ffa8(0x5bb)],'displayName':this[_0x58ffa8(0x831)](),'email':this[_0x58ffa8(0x514)]()},'rank':this[_0x58ffa8(0x83e)](),'remoteConnections':Array[_0x58ffa8(0x69c)](this[_0x58ffa8(0x27d)]),'version':this[_0x58ffa8(0x5aa)]}});}[_0x13fde2(0x3a3)](_0x51cd62){const _0x4f43b2=_0x13fde2;this[_0x4f43b2(0x27d)]['has'](_0x51cd62)||(this[_0x4f43b2(0x27d)][_0x4f43b2(0x7bd)](_0x51cd62),this['incrementVersion'](),this[_0x4f43b2(0x41c)](!0x0));}[_0x13fde2(0x6fb)](_0x47e34c){const _0x67f6ae=_0x13fde2;this[_0x67f6ae(0x27d)][_0x67f6ae(0x7f7)](_0x47e34c)&&(this[_0x67f6ae(0x27d)]['delete'](_0x47e34c),this[_0x67f6ae(0x390)](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){const _0x336fa5=_0x13fde2;return this[_0x336fa5(0x5aa)];}[_0x13fde2(0x631)](_0x5096cf){const _0x56bb9b=_0x13fde2;this['displayName']!==_0x5096cf&&(this[_0x56bb9b(0x55a)]=_0x5096cf,this['incrementVersion'](),this['publishUserUpdate']());}['setEmail'](_0x543cc7){const _0x1fc63c=_0x13fde2;this['email']!==_0x543cc7&&(this[_0x1fc63c(0x77c)]=_0x543cc7,this[_0x1fc63c(0x390)](),this[_0x1fc63c(0x41c)]());}[_0x13fde2(0x722)](_0x20b188,_0x145da1=!0x0){const _0xbecbad=_0x13fde2;this[_0xbecbad(0x897)]!==_0x20b188&&(this['rank']=_0x20b188,_0x145da1&&(this[_0xbecbad(0x390)](),this[_0xbecbad(0x41c)]()));}[_0x13fde2(0x390)](){const _0x3c7ca6=_0x13fde2;this[_0x3c7ca6(0x5aa)]=Date[_0x3c7ca6(0x321)]();}[_0x13fde2(0x41c)](_0x293999=!0x1){const _0x483d9f=_0x13fde2;if(this[_0x483d9f(0x897)]){if(this[_0x483d9f(0x4da)]||(this[_0x483d9f(0x4da)]=Date[_0x483d9f(0x321)]()),this[_0x483d9f(0x281)]){if(Date[_0x483d9f(0x321)]()-this[_0x483d9f(0x4da)]>0x2328)return;clearTimeout(this[_0x483d9f(0x281)]);}this[_0x483d9f(0x281)]=setTimeout(()=>{const _0xf4bf62=_0x483d9f;delete this['lastUpdated'],delete this[_0xf4bf62(0x281)],this[_0xf4bf62(0x51a)][_0xf4bf62(0x3c5)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x1b694f[_0xf4bf62(0x3c6)],'content':{'type':_0x293999?_0xee2b42[_0xf4bf62(0x36d)]:_0xee2b42[_0xf4bf62(0x2e9)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this['getDisplayName'](),'email':this[_0xf4bf62(0x514)]()},'rank':this[_0xf4bf62(0x83e)](),'remoteConnections':Array[_0xf4bf62(0x69c)](this[_0xf4bf62(0x27d)]),'version':this[_0xf4bf62(0x5aa)]}});},0x3e8);}}}class _0x4d783a{['id'];[_0x13fde2(0x7ab)];[_0x13fde2(0x1f3)];[_0x13fde2(0x2cd)];[_0x13fde2(0x5bb)]=_0x15de5e[_0x13fde2(0x76b)]['Agent'];[_0x13fde2(0x6b4)];constructor(_0x272fc2,_0x14ef28,_0x268f9a,_0x3877ac){const _0xbb416c=_0x13fde2;this['id']=_0x272fc2,this[_0xbb416c(0x7ab)]=_0x14ef28,this['vendorId']=_0x268f9a,this[_0xbb416c(0x2cd)]=_0x3877ac;}[_0x13fde2(0x677)](){return this['id'];}['onConfigurationChange'](_0x9a0cf2){const _0x599965=_0x13fde2,_0x5b68a2=(0x0,_0x5b71f3['onSnapshot'])((0x0,_0x5b71f3['doc'])(_0x2e0290['getFirestore'](),_0x599965(0x424)+this['vendorId']+'/resources/agent/items/'+this[_0x599965(0x7ab)]),_0x55db51=>{const _0x4fd80c=_0x599965;if(_0x55db51[_0x4fd80c(0x80e)]()){const _0x46fd86=_0x55db51['data']();if(this[_0x4fd80c(0x2cd)][_0x4fd80c(0x644)][_0x4fd80c(0x2bb)](_0x46fd86[_0x4fd80c(0x644)]))return;_0x3d0f37['log'](_0x2582bf[_0x4fd80c(0x3c6)],_0x4fd80c(0x52c),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this[_0x4fd80c(0x2cd)],'newConfig':_0x46fd86}),this['agentConfig']=_0x46fd86,_0x9a0cf2();}});return()=>_0x5b68a2();}[_0x13fde2(0x2fc)](_0x1786c9){const _0x460660=_0x13fde2;return this[_0x460660(0x5fb)](this[_0x460660(0x7ab)],_0x1786c9),_0x384e4f[_0x460660(0x3ce)](()=>this[_0x460660(0x5fb)](this[_0x460660(0x7ab)],_0x1786c9),0x493e0);}[_0x13fde2(0x5fa)](){const _0x1714f6=_0x13fde2;if(!this[_0x1714f6(0x6b4)])throw new _0x46f718(_0x46f718['codes'][_0x1714f6(0x360)]);return this[_0x1714f6(0x6b4)];}async[_0x13fde2(0x5fb)](_0x157074,_0x380125){const _0x2f9d8a=_0x13fde2,_0x11a6be=await _0x380125();this[_0x2f9d8a(0x6b4)]=_0x11a6be,await(0x0,_0x5b71f3[_0x2f9d8a(0x67e)])((0x0,_0x5b71f3[_0x2f9d8a(0x419)])(_0x2e0290['getFirestore'](),_0x2f9d8a(0x424)+this['vendorId']+_0x2f9d8a(0x853)),{'agentId':this['id'],'groupId':_0x157074,'timestamp':(0x0,_0x5b71f3['serverTimestamp'])(),'capacity':_0x11a6be});}}!function(_0x2d0973){const _0x39db1c=_0x13fde2;_0x2d0973[_0x2d0973[_0x39db1c(0x311)]=0x0]=_0x39db1c(0x311),_0x2d0973[_0x2d0973[_0x39db1c(0x3fa)]=0x1]='Offline';}(_0x5d74d9||(_0x5d74d9={}));class _0x16fbaf extends _0xa1a2db{[_0x13fde2(0x5aa)];[_0x13fde2(0x1ca)]=_0x5d74d9[_0x13fde2(0x311)];[_0x13fde2(0x4da)]=Date[_0x13fde2(0x321)]();constructor(_0x126ab7,_0x21aaa7=new Set(),_0x4feeff,_0x50547b){const _0x3f8e5b=_0x13fde2;super(_0x126ab7,_0x21aaa7,_0x50547b),this[_0x3f8e5b(0x5aa)]=_0x4feeff;}[_0x13fde2(0x2b5)](){const _0x1d510f=_0x13fde2;return this[_0x1d510f(0x5aa)];}['getStatus'](){const _0x249cd7=_0x13fde2;return this[_0x249cd7(0x1ca)];}[_0x13fde2(0x198)](){const _0x3c33a6=_0x13fde2;return this[_0x3c33a6(0x4da)];}['setRank'](_0x4bd3fa){const _0x2cbd6c=_0x13fde2;this[_0x2cbd6c(0x897)]!==_0x4bd3fa&&(this[_0x2cbd6c(0x897)]=_0x4bd3fa,this[_0x2cbd6c(0x72f)]());}[_0x13fde2(0x645)](_0x22a3e5){const _0x912b16=_0x13fde2;let _0xbce462=!0x1;for(const _0x482fb9 of this['remoteConnections'])_0x22a3e5[_0x912b16(0x563)](_0x482fb9)||(_0xbce462=!0x0,this[_0x912b16(0x27d)]['delete'](_0x482fb9));for(const _0x54cc9a of _0x22a3e5)this[_0x912b16(0x27d)][_0x912b16(0x7f7)](_0x54cc9a)||(_0xbce462=!0x0,this[_0x912b16(0x27d)][_0x912b16(0x7bd)](_0x54cc9a));_0xbce462&&this['updateLastUpdated']();}[_0x13fde2(0x68b)](_0x3163c4){const _0xcbb93b=_0x13fde2;this[_0xcbb93b(0x5aa)]!==_0x3163c4&&(this[_0xcbb93b(0x5aa)]=_0x3163c4,this[_0xcbb93b(0x72f)]());}[_0x13fde2(0x426)](_0x4f0097){const _0x4b5e04=_0x13fde2;this[_0x4b5e04(0x1ca)]!==_0x4f0097&&(this[_0x4b5e04(0x1ca)]=_0x4f0097,this[_0x4b5e04(0x72f)](),_0x4f0097===_0x5d74d9['Offline']&&this[_0x4b5e04(0x3df)]());}[_0x13fde2(0x72f)](){const _0x2f803a=_0x13fde2;this[_0x2f803a(0x4da)]=Date['now']();}}class _0x2d06a2 extends _0x4a006d{[_0x13fde2(0x5aa)];[_0x13fde2(0x1ca)]=_0x5d74d9['Online'];['lastUpdated']=Date[_0x13fde2(0x321)]();constructor(_0x3ea0c5,_0x11f5c0,_0x5de9ac,_0x2780e9=new Set(),_0x3dd720,_0xe130a5){const _0x560c7a=_0x13fde2;super(_0x3ea0c5,_0x11f5c0,_0x5de9ac,_0x2780e9,_0xe130a5),this[_0x560c7a(0x5aa)]=_0x3dd720;}[_0x13fde2(0x2b5)](){return this['currentVersion'];}[_0x13fde2(0x350)](){return this['status'];}[_0x13fde2(0x198)](){const _0x50fcd3=_0x13fde2;return this[_0x50fcd3(0x4da)];}[_0x13fde2(0x631)](_0x50f5e9){const _0xf97bba=_0x13fde2;this[_0xf97bba(0x55a)]!==_0x50f5e9&&(this[_0xf97bba(0x55a)]=_0x50f5e9,this['updateLastUpdated']());}[_0x13fde2(0x569)](_0x306d65){const _0x3e6951=_0x13fde2;this[_0x3e6951(0x77c)]!==_0x306d65&&(this[_0x3e6951(0x77c)]=_0x306d65,this[_0x3e6951(0x72f)]());}['setRank'](_0x5d99b1){const _0x1989e8=_0x13fde2;this[_0x1989e8(0x897)]!==_0x5d99b1&&(this['rank']=_0x5d99b1,this[_0x1989e8(0x72f)]());}[_0x13fde2(0x645)](_0x5c4b89){const _0x33b831=_0x13fde2;let _0x25a03d=!0x1;for(const _0x5b4c94 of this['remoteConnections'])_0x5c4b89[_0x33b831(0x563)](_0x5b4c94)||(_0x25a03d=!0x0,this['remoteConnections']['delete'](_0x5b4c94));for(const _0x54fc49 of _0x5c4b89)this[_0x33b831(0x27d)][_0x33b831(0x7f7)](_0x54fc49)||(_0x25a03d=!0x0,this[_0x33b831(0x27d)][_0x33b831(0x7bd)](_0x54fc49));_0x25a03d&&this[_0x33b831(0x72f)]();}['setCurrentVersion'](_0x453fa5){const _0x137623=_0x13fde2;this[_0x137623(0x5aa)]!==_0x453fa5&&(this[_0x137623(0x5aa)]=_0x453fa5,this['updateLastUpdated']());}['setStatus'](_0x3fc859){const _0x3cf2f9=_0x13fde2;this['status']!==_0x3fc859&&(this[_0x3cf2f9(0x1ca)]=_0x3fc859,this[_0x3cf2f9(0x72f)](),_0x3fc859===_0x5d74d9[_0x3cf2f9(0x3fa)]&&this['close']());}[_0x13fde2(0x72f)](){const _0x35991a=_0x13fde2;this['lastUpdated']=Date[_0x35991a(0x321)]();}}class _0x4f5395{[_0x13fde2(0x1f3)];[_0x13fde2(0x89e)];[_0x13fde2(0x672)];[_0x13fde2(0x567)];['disconnectCallback']=_0x3e22bd();[_0x13fde2(0x399)];['childRemovedUnsubscriber'];[_0x13fde2(0x25e)];['connected']=!0x1;[_0x13fde2(0x535)];[_0x13fde2(0x797)];constructor(_0x2be0d0,_0x69effb,_0x126fbc,_0x28093f){const _0x19f207=_0x13fde2;this[_0x19f207(0x1f3)]=_0x2be0d0,this[_0x19f207(0x89e)]=_0x69effb,this[_0x19f207(0x672)]=_0x126fbc,this[_0x19f207(0x567)]=_0x28093f,this[_0x19f207(0x535)]=_0x19f207(0x41d)+this[_0x19f207(0x1f3)]+_0x19f207(0x41d)+this[_0x19f207(0x89e)],this[_0x19f207(0x797)]=_0x19f207(0x41d)+this['vendorId']+_0x19f207(0x41d)+this[_0x19f207(0x672)][_0x19f207(0x677)](),this[_0x19f207(0x399)]=(0x0,_0x1945ee['onValue'])((0x0,_0x1945ee['ref'])(_0x2e0290[_0x19f207(0x886)](),'.info/connected'),_0xeee222=>{const _0x4c90b8=_0x19f207;!0x0!==_0xeee222[_0x4c90b8(0x365)]()?this[_0x4c90b8(0x552)]&&_0x3d0f37[_0x4c90b8(0x377)](_0x4c90b8(0x1ce),{'clusterId':this[_0x4c90b8(0x89e)],'nodeId':this[_0x4c90b8(0x672)]['getId'](),'nodeType':this['localNode']['type']}):(this[_0x4c90b8(0x552)]=!0x0,this[_0x4c90b8(0x397)](),_0x3d0f37[_0x4c90b8(0x8a0)](_0x4c90b8(0x5e7),{'clusterId':this[_0x4c90b8(0x89e)],'nodeId':this[_0x4c90b8(0x672)][_0x4c90b8(0x677)](),'nodeType':this[_0x4c90b8(0x672)][_0x4c90b8(0x5bb)]}));});}async[_0x13fde2(0x7a9)](){const _0x5f1f36=_0x13fde2;await this[_0x5f1f36(0x30d)]();const _0x2ae581=await this[_0x5f1f36(0x6df)]();return this['childRemovedUnsubscriber']=(0x0,_0x1945ee[_0x5f1f36(0x60c)])((0x0,_0x1945ee['ref'])(_0x2e0290['getDatabase'](),_0x5f1f36(0x7f8)+this[_0x5f1f36(0x535)]+_0x5f1f36(0x2d8)),_0x1f3ce0=>{const _0x151e42=_0x5f1f36,_0x4a8bcf=_0x1f3ce0[_0x151e42(0x5f1)];if(!_0x4a8bcf)return;const _0x55a3c9=_0x4a8bcf[_0x151e42(0x7b3)]('ccc'+this[_0x151e42(0x1f3)]+_0x151e42(0x41d),'');this[_0x151e42(0x6e3)][_0x151e42(0x3c5)](_0x55a3c9);}),_0x2ae581;}async[_0x13fde2(0x3df)](){const _0x2c83fb=_0x13fde2;this[_0x2c83fb(0x66e)]?.(),delete this[_0x2c83fb(0x66e)],this['onDisconnectHandler']?.[_0x2c83fb(0x882)](),delete this[_0x2c83fb(0x25e)],this[_0x2c83fb(0x399)]?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x1945ee[_0x2c83fb(0x49e)])((0x0,_0x1945ee['ref'])(_0x2e0290[_0x2c83fb(0x886)](),_0x2c83fb(0x7f8)+this[_0x2c83fb(0x535)]+_0x2c83fb(0x25b)+this['nodeKey']));}['onNodeDisconnect'](_0x4d7e18){const _0x17ca8b=_0x13fde2;return this[_0x17ca8b(0x6e3)]['subscribe'](_0x4d7e18);}async[_0x13fde2(0x6df)](){const _0x3175e7=_0x13fde2,_0x3c6355=[],_0x333588=await(0x0,_0x1945ee[_0x3175e7(0x556)])((0x0,_0x1945ee[_0x3175e7(0x1f7)])(_0x2e0290[_0x3175e7(0x886)](),'clusters/'+this['clusterKey']+_0x3175e7(0x2d8))),_0x438ca0=[];return _0x333588[_0x3175e7(0x1ed)](_0x2a420e=>{const _0x2c810f=_0x3175e7,_0x351fad=_0x2a420e[_0x2c810f(0x5f1)]?.[_0x2c810f(0x7b3)](_0x2c810f(0x41d)+this[_0x2c810f(0x1f3)]+'ccc','');_0x438ca0[_0x2c810f(0x875)]({'id':_0x351fad,'joinedAt':_0x2a420e[_0x2c810f(0x365)]()[_0x2c810f(0x836)],'priority':_0x2a420e['val']()[_0x2c810f(0x4e9)]});}),_0x438ca0[_0x3175e7(0x4d2)]((_0x43f1e1,_0x2e9812)=>_0x43f1e1['joinedAt']===_0x2e9812[_0x3175e7(0x836)]?_0x43f1e1[_0x3175e7(0x4e9)]-_0x2e9812[_0x3175e7(0x4e9)]:_0x43f1e1['joinedAt']-_0x2e9812[_0x3175e7(0x836)])['splice'](_0x438ca0[_0x3175e7(0x1c1)](_0x49400b=>_0x49400b['id']===this[_0x3175e7(0x672)][_0x3175e7(0x677)]())),_0x438ca0[_0x3175e7(0x4d2)]((_0x4dd99c,_0x315fa4)=>_0x315fa4[_0x3175e7(0x836)]===_0x4dd99c[_0x3175e7(0x836)]?_0x315fa4['priority']-_0x4dd99c['priority']:_0x315fa4[_0x3175e7(0x836)]-_0x4dd99c[_0x3175e7(0x836)])['forEach'](_0x226ee9=>{_0x3c6355['length']>=this['minConnections']||_0x3c6355['push'](_0x226ee9['id']);}),_0x3d0f37['logEvent'](_0x3175e7(0x1d5),{'clusterId':this[_0x3175e7(0x89e)],'nodeId':this[_0x3175e7(0x672)][_0x3175e7(0x677)](),'nodeType':this[_0x3175e7(0x672)][_0x3175e7(0x5bb)],'data':{'ancestorIds':_0x3c6355,'allNodes':_0x438ca0}}),_0x3c6355;}async[_0x13fde2(0x30d)](){const _0x2d4ec0=_0x13fde2;await(0x0,_0x1945ee['set'])((0x0,_0x1945ee[_0x2d4ec0(0x1f7)])(_0x2e0290[_0x2d4ec0(0x886)](),_0x2d4ec0(0x7f8)+this['clusterKey']+'/nodes/'+this[_0x2d4ec0(0x797)]),{'joinedAt':(0x0,_0x1945ee[_0x2d4ec0(0x5dc)])(),'priority':Math['random']()});}[_0x13fde2(0x397)](){const _0x583ec2=_0x13fde2;this[_0x583ec2(0x25e)]&&this[_0x583ec2(0x25e)][_0x583ec2(0x882)](),this['onDisconnectHandler']=(0x0,_0x1945ee['onDisconnect'])((0x0,_0x1945ee[_0x583ec2(0x1f7)])(_0x2e0290[_0x583ec2(0x886)](),_0x583ec2(0x7f8)+this[_0x583ec2(0x535)]+'/nodes/'+this[_0x583ec2(0x797)])),this[_0x583ec2(0x25e)][_0x583ec2(0x49e)]();}}class _0x4891a7{[_0x13fde2(0x7b0)];[_0x13fde2(0x262)];[_0x13fde2(0x22c)];['discoveryService'];[_0x13fde2(0x545)];[_0x13fde2(0x29a)]=[];[_0x13fde2(0x51a)];[_0x13fde2(0x21d)]=new Map();[_0x13fde2(0x2c7)];[_0x13fde2(0x21f)];constructor(_0x3a9ea5,_0x33dbf6){const _0x2dc821=_0x13fde2;this[_0x2dc821(0x7b0)]=_0x3a9ea5,this[_0x2dc821(0x262)]=_0x33dbf6,this[_0x2dc821(0x88b)]=new _0x4f5395(this['configs'][_0x2dc821(0x1f3)],this[_0x2dc821(0x7b0)]['clusterId'],this['configs']['localNode'],this[_0x2dc821(0x262)]['getMinConnections']()),this[_0x2dc821(0x545)]=this[_0x2dc821(0x88b)][_0x2dc821(0x4ad)](this[_0x2dc821(0x666)][_0x2dc821(0x5d5)](this)),this[_0x2dc821(0x7b0)][_0x2dc821(0x628)][_0x2dc821(0x4a0)](this[_0x2dc821(0x7b0)]['localNode']),this[_0x2dc821(0x7b0)][_0x2dc821(0x628)][_0x2dc821(0x4a0)](this),this['remoteUnsubscriber']=_0x384e4f[_0x2dc821(0x3ce)](()=>{const _0x46c0c1=_0x2dc821,_0x597084=Date['now']();this[_0x46c0c1(0x262)][_0x46c0c1(0x521)]()[_0x46c0c1(0x1ed)](_0x484958=>{const _0x2469ac=_0x46c0c1;_0x484958[_0x2469ac(0x350)]()===_0x5d74d9[_0x2469ac(0x3fa)]&&_0x484958['getLastUpdated']()<_0x597084-0x493e0&&this[_0x2469ac(0x262)][_0x2469ac(0x5cc)](_0x484958[_0x2469ac(0x677)]());});},0xea60);}[_0x13fde2(0x18b)](_0x4a76a7){this['systemTopic']=_0x4a76a7;}[_0x13fde2(0x769)](){const _0x9b9508=_0x13fde2;delete this[_0x9b9508(0x51a)];}[_0x13fde2(0x3df)](){const _0x126180=_0x13fde2;this['debounceProcessRank']&&(clearTimeout(this[_0x126180(0x2c7)]),delete this['debounceProcessRank']),delete this[_0x126180(0x21f)],this[_0x126180(0x7b0)][_0x126180(0x672)]['close'](),this[_0x126180(0x22c)](),this[_0x126180(0x545)](),this['configs'][_0x126180(0x628)][_0x126180(0x3b6)](this['configs']['localNode']),this['configs'][_0x126180(0x628)][_0x126180(0x3b6)](this),this[_0x126180(0x88b)][_0x126180(0x3df)]();}[_0x13fde2(0x68d)](){const _0x422721=_0x13fde2;return this[_0x422721(0x29a)];}[_0x13fde2(0x5a3)](){const _0x501f9a=_0x13fde2;return this['configs'][_0x501f9a(0x672)][_0x501f9a(0x677)]();}[_0x13fde2(0x69d)](){const _0x5b4543=_0x13fde2;return this[_0x5b4543(0x7b0)]['localNode'];}[_0x13fde2(0x521)](_0x5c3135){const _0x5dbf43=_0x13fde2,_0x4459ba=Array[_0x5dbf43(0x69c)](this[_0x5dbf43(0x262)]['getRemoteNodes']()['values']())[_0x5dbf43(0x559)](_0x58dce8=>_0x58dce8['getStatus']()===_0x5d74d9['Online']);return _0x5c3135?_0x4459ba[_0x5dbf43(0x559)](_0x5c3135):_0x4459ba;}async[_0x13fde2(0x1d5)](){const _0x44dd05=_0x13fde2;return this[_0x44dd05(0x29a)]=await this[_0x44dd05(0x88b)][_0x44dd05(0x7a9)](),this[_0x44dd05(0x29a)]['length']<this[_0x44dd05(0x262)]['getMinConnections']()&&(this['configs']['localNode']['setRank'](this[_0x44dd05(0x29a)][_0x44dd05(0x24c)]+0x1),this[_0x44dd05(0x52a)]()),this[_0x44dd05(0x29a)];}['getDistance'](_0x21f622,_0x15f7a1){const _0x5e98d1=_0x13fde2,_0x2e8ae0=this[_0x5e98d1(0x7b0)][_0x5e98d1(0x672)]['getRemoteConnections'](),_0x5719a1=new Set(_0x2e8ae0),_0x750caf=Array[_0x5e98d1(0x69c)](_0x2e8ae0)[_0x5e98d1(0x559)](_0x1d47f3=>_0x1d47f3!==_0x21f622)['map'](_0x52a548=>({'id':_0x52a548,'distance':0x1}));for(;_0x750caf['length']>0x0;){const _0x7d9db1=_0x750caf['shift']();if(!_0x7d9db1)continue;if(_0x7d9db1['id']===_0x15f7a1)return _0x7d9db1[_0x5e98d1(0x741)];const _0x5a43da=this[_0x5e98d1(0x262)][_0x5e98d1(0x6f7)](_0x7d9db1['id']);_0x5a43da&&_0x5a43da['getStatus']()!==_0x5d74d9[_0x5e98d1(0x3fa)]&&_0x5a43da[_0x5e98d1(0x67c)]()['forEach'](_0x1043e5=>{const _0x12ee3b=_0x5e98d1;_0x5719a1[_0x12ee3b(0x7f7)](_0x1043e5)||(_0x5719a1[_0x12ee3b(0x7bd)](_0x1043e5),_0x750caf[_0x12ee3b(0x875)]({'id':_0x1043e5,'distance':_0x7d9db1['distance']+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x2b1670){const _0x2f35ff=_0x13fde2;try{switch(_0x2b1670[_0x2f35ff(0x6dd)][_0x2f35ff(0x5bb)]){case _0xee2b42[_0x2f35ff(0x2e9)]:case _0xee2b42[_0x2f35ff(0x36d)]:this[_0x2f35ff(0x5eb)](_0x2b1670['content']),_0x3d0f37[_0x2f35ff(0x6c1)](_0x2582bf[_0x2f35ff(0x3c6)],_0x2f35ff(0x877),'\x27'+this[_0x2f35ff(0x7b0)][_0x2f35ff(0x672)]['getId']()+',\x20'+_0x2b1670[_0x2f35ff(0x8a3)]+'\x27',_0x2b1670,_0x2b1670[_0x2f35ff(0x6dd)]);break;case _0xee2b42[_0x2f35ff(0x6f6)]:this[_0x2f35ff(0x46c)](_0x2b1670[_0x2f35ff(0x6dd)]['id']),_0x3d0f37[_0x2f35ff(0x6c1)](_0x2582bf[_0x2f35ff(0x3c6)],_0x2f35ff(0x28f),'\x27'+this[_0x2f35ff(0x7b0)]['localNode'][_0x2f35ff(0x677)]()+',\x20'+_0x2b1670[_0x2f35ff(0x8a3)]+'\x27',_0x2b1670,_0x2b1670[_0x2f35ff(0x6dd)]);}}catch(_0x3a8159){if(_0x3a8159 instanceof _0x37b0db)return void _0x3d0f37['log'](_0x2582bf[_0x2f35ff(0x3c6)],_0x3a8159['message']);throw _0x3a8159;}}[_0x13fde2(0x507)](_0x50d4f4){const _0x26b561=_0x13fde2;switch(_0x50d4f4[_0x26b561(0x6dd)][_0x26b561(0x5bb)]){case _0x4a44e8['Success']:this[_0x26b561(0x791)](_0x50d4f4[_0x26b561(0x8a3)]),_0x3d0f37[_0x26b561(0x6c1)](_0x2582bf[_0x26b561(0x3c6)],_0x26b561(0x3e5),'\x27'+this[_0x26b561(0x7b0)]['localNode'][_0x26b561(0x677)]()+',\x20'+_0x50d4f4['sourceId']+'\x27',_0x50d4f4,_0x50d4f4[_0x26b561(0x6dd)]);break;case _0x4a44e8[_0x26b561(0x8ad)]:this[_0x26b561(0x373)](_0x50d4f4[_0x26b561(0x8a3)]),_0x3d0f37[_0x26b561(0x6c1)](_0x2582bf[_0x26b561(0x3c6)],'NodeManager\x20-\x20PublishNodeLeave',this[_0x26b561(0x7b0)][_0x26b561(0x672)][_0x26b561(0x677)](),_0x50d4f4,_0x50d4f4['content']);}}[_0x13fde2(0x2e8)](_0x55e0fc){const _0x1f91aa=_0x13fde2;this[_0x1f91aa(0x1bd)](_0x55e0fc),this[_0x1f91aa(0x48c)](_0x55e0fc);}[_0x13fde2(0x48c)](_0x12b328){const _0x524654=_0x13fde2;this[_0x524654(0x7b0)]['localNode'][_0x524654(0x225)](_0x12b328['id']),this[_0x524654(0x55c)](_0x12b328['id']),this['notifyClusterNodeJoin'](_0x12b328);}['handleNodeUpdate'](_0x217614){const _0x502eda=_0x13fde2,{id:_0x2beaa3,metaData:_0x463479,rank:_0x2c02dd,remoteConnections:_0x24bd36,version:_0x18d0ab}=_0x217614,_0x4b647f=this[_0x502eda(0x262)][_0x502eda(0x6f7)](_0x2beaa3);if(_0x4b647f){if(!(_0x18d0ab<=_0x4b647f[_0x502eda(0x2b5)]())){if(_0x4b647f[_0x502eda(0x645)](_0x24bd36),_0x4b647f['setCurrentVersion'](_0x18d0ab),_0x4b647f[_0x502eda(0x5bb)]===_0x15de5e[_0x502eda(0x76b)][_0x502eda(0x3a1)]&&_0x463479[_0x502eda(0x5bb)]===_0x15de5e[_0x502eda(0x76b)]['User']&&(_0x4b647f[_0x502eda(0x631)](_0x463479[_0x502eda(0x55a)]),_0x4b647f[_0x502eda(0x569)](_0x463479[_0x502eda(0x77c)])),_0x2c02dd&&_0x4b647f['setRank'](_0x2c02dd),this[_0x502eda(0x3b7)](_0x2beaa3,_0x2c02dd),_0x4b647f[_0x502eda(0x350)]()===_0x5d74d9[_0x502eda(0x3fa)])return _0x4b647f[_0x502eda(0x426)](_0x5d74d9[_0x502eda(0x311)]),this['processRank'](),void this[_0x502eda(0x48c)](_0x217614);this[_0x502eda(0x52a)](),this[_0x502eda(0x693)]({'id':_0x2beaa3,'metaData':_0x463479,'remoteConnections':_0x24bd36,'version':_0x18d0ab});}}else this[_0x502eda(0x2e8)](_0x217614);}['setLocalRank'](_0x44148c,_0x2f2ca0){const _0x5cf671=_0x13fde2;_0x2f2ca0&&this[_0x5cf671(0x29a)][_0x5cf671(0x563)](_0x44148c)&&this['configs'][_0x5cf671(0x672)][_0x5cf671(0x722)](_0x2f2ca0+this[_0x5cf671(0x29a)][_0x5cf671(0x4e7)](_0x44148c)+0x1);}['handleConnectionSuccess'](_0x1b5c87){const _0x51ee5f=_0x13fde2;this[_0x51ee5f(0x7b0)][_0x51ee5f(0x672)][_0x51ee5f(0x3a3)](_0x1b5c87);}['createRemoteNode']({id:_0x2cebcb,metaData:_0x188f7a,rank:_0xae2b79,remoteConnections:_0x213e80,version:_0x1e5032}){const _0x5c943b=_0x13fde2;if(this[_0x5c943b(0x262)][_0x5c943b(0x312)](_0x2cebcb))throw new _0x37b0db('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x2cebcb);switch(_0x188f7a['type']){case _0x15de5e[_0x5c943b(0x76b)][_0x5c943b(0x3a1)]:const {displayName:_0x2a6ef7,email:_0x4c46b3}=_0x188f7a;this[_0x5c943b(0x262)][_0x5c943b(0x1ba)](_0x2cebcb,new _0x2d06a2(_0x2cebcb,_0x2a6ef7,_0x4c46b3,new Set(_0x213e80),_0x1e5032,_0xae2b79));break;case _0x15de5e[_0x5c943b(0x76b)]['Agent']:this['graphService'][_0x5c943b(0x1ba)](_0x2cebcb,new _0x16fbaf(_0x2cebcb,new Set(_0x213e80),_0x1e5032,_0xae2b79));}this[_0x5c943b(0x3b7)](_0x2cebcb,_0xae2b79),this[_0x5c943b(0x52a)]();}['publishNodeJoin'](_0x1dd8f0){const _0x16fc2e=_0x13fde2;this[_0x16fc2e(0x51a)][_0x16fc2e(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f['Node'],'content':{'type':_0xee2b42[_0x16fc2e(0x263)],'id':_0x1dd8f0}});}[_0x13fde2(0x373)](_0xb32dd8){const _0x305265=_0x13fde2;this[_0x305265(0x51a)]?.[_0x305265(0x3c5)]({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x305265(0x3c6)],'content':{'type':_0xee2b42['NodeLeave'],'id':_0xb32dd8}});}[_0x13fde2(0x666)](_0x4b7a8e){const _0x10450f=_0x13fde2;if(_0x4b7a8e===this['configs'][_0x10450f(0x672)]['getId']())return this[_0x10450f(0x7b0)][_0x10450f(0x628)][_0x10450f(0x849)](_0x10450f(0x7c0),{'id':_0x4b7a8e}),this[_0x10450f(0x7b0)][_0x10450f(0x628)][_0x10450f(0x3df)](!0x0),this[_0x10450f(0x7b0)]['mediator'][_0x10450f(0x20c)](),void this[_0x10450f(0x7b0)]['mediator'][_0x10450f(0x6f8)]();this[_0x10450f(0x373)](_0x4b7a8e);}[_0x13fde2(0x46c)](_0x3c6859){const _0x50874a=_0x13fde2;this[_0x50874a(0x29a)]['includes'](_0x3c6859)?this[_0x50874a(0x7d7)](_0x3c6859):this['configs'][_0x50874a(0x672)]['getRemoteConnections']()[_0x50874a(0x7f7)](_0x3c6859)&&this[_0x50874a(0x6fe)](_0x3c6859),this['configs'][_0x50874a(0x672)][_0x50874a(0x6fb)](_0x3c6859);const _0x2d7073=Array[_0x50874a(0x69c)](this[_0x50874a(0x21d)]['entries']())[_0x50874a(0x1a6)](([,_0x1b8a71])=>_0x1b8a71==_0x1b8a71);_0x2d7073&&this[_0x50874a(0x21d)][_0x50874a(0x6fd)](_0x2d7073[0x0]);const _0x30d5e7=this['graphService'][_0x50874a(0x6f7)](_0x3c6859);if(!_0x30d5e7)return;const _0x5dda51=_0x30d5e7['getRank'](),_0x140562=this[_0x50874a(0x7b0)][_0x50874a(0x672)][_0x50874a(0x83e)]();_0x140562&&_0x5dda51&&_0x5dda51<_0x140562&&this['configs'][_0x50874a(0x672)][_0x50874a(0x722)](_0x140562-0x1,!0x1),Array[_0x50874a(0x69c)](this['graphService']['getRemoteNodes']()[_0x50874a(0x45b)]())[_0x50874a(0x1ed)](_0xa7d432=>{const _0x5a2f3e=_0x50874a,_0x1b5c8d=_0xa7d432['getRank']();_0x1b5c8d&&_0x5dda51&&_0x5dda51<_0x1b5c8d&&_0xa7d432[_0x5a2f3e(0x722)](_0x1b5c8d-0x1);}),_0x30d5e7[_0x50874a(0x426)](_0x5d74d9['Offline']),this[_0x50874a(0x7b0)][_0x50874a(0x628)]['notifyCluster'](_0x30d5e7[_0x50874a(0x5bb)]+'-leave',{'id':_0x3c6859});}[_0x13fde2(0x6d1)]({id:_0x47f8c4,metaData:_0x375393,remoteConnections:_0x4b8484}){const _0x56fcd6=_0x13fde2;switch(_0x375393[_0x56fcd6(0x5bb)]){case _0x15de5e[_0x56fcd6(0x76b)][_0x56fcd6(0x3a1)]:this[_0x56fcd6(0x7b0)][_0x56fcd6(0x628)][_0x56fcd6(0x849)](_0x56fcd6(0x471),{'id':_0x47f8c4,'metaData':_0x375393,'remoteConnections':_0x4b8484});break;case _0x15de5e[_0x56fcd6(0x76b)][_0x56fcd6(0x466)]:this[_0x56fcd6(0x7b0)][_0x56fcd6(0x628)][_0x56fcd6(0x849)](_0x56fcd6(0x768),{'id':_0x47f8c4,'metaData':_0x375393,'remoteConnections':_0x4b8484});}}[_0x13fde2(0x693)]({id:_0x1f82be,metaData:_0x441e72,remoteConnections:_0x1e07ee}){const _0x5edb56=_0x13fde2;switch(_0x441e72['type']){case _0x15de5e[_0x5edb56(0x76b)][_0x5edb56(0x3a1)]:this[_0x5edb56(0x7b0)][_0x5edb56(0x628)][_0x5edb56(0x849)](_0x5edb56(0x3b8),{'id':_0x1f82be,'metaData':_0x441e72,'remoteConnections':_0x1e07ee});break;case _0x15de5e[_0x5edb56(0x76b)][_0x5edb56(0x466)]:this[_0x5edb56(0x7b0)][_0x5edb56(0x628)][_0x5edb56(0x849)](_0x5edb56(0x3be),{'id':_0x1f82be,'metaData':_0x441e72,'remoteConnections':_0x1e07ee});}}[_0x13fde2(0x52a)](){const _0x3003bb=_0x13fde2;if(this['lastProcessRank']||(this[_0x3003bb(0x21f)]=Date[_0x3003bb(0x321)]()),this[_0x3003bb(0x2c7)]){if(Date['now']()-this[_0x3003bb(0x21f)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x3003bb(0x2c7)]=setTimeout(async()=>{const _0x5235f4=_0x3003bb;delete this[_0x5235f4(0x21f)],delete this['debounceProcessRank'];const _0x1915d3=this[_0x5235f4(0x7b0)][_0x5235f4(0x672)][_0x5235f4(0x83e)]();if(!_0x1915d3)return;const _0x35281a=this[_0x5235f4(0x262)]['getCurrentMaxLayer'](this[_0x5235f4(0x262)][_0x5235f4(0x521)]()[_0x5235f4(0x411)]);if(this['optimizationLayers'][_0x5235f4(0x411)]>=_0x35281a)return;let _0x4f91e3=0x1;for(;this[_0x5235f4(0x7b0)][_0x5235f4(0x628)][_0x5235f4(0x6c0)]()['length']<this[_0x5235f4(0x262)]['getMaxConnections']()&&_0x4f91e3<=_0x35281a;){if(this[_0x5235f4(0x21d)][_0x5235f4(0x7f7)](_0x4f91e3)){_0x4f91e3+=0x1;continue;}const _0x2df846=this[_0x5235f4(0x262)][_0x5235f4(0x6fc)](_0x1915d3,_0x4f91e3),_0x222fc9=Array[_0x5235f4(0x69c)](this[_0x5235f4(0x262)][_0x5235f4(0x521)]()[_0x5235f4(0x45b)]())[_0x5235f4(0x1a6)](_0x53f6fe=>_0x53f6fe[_0x5235f4(0x83e)]()===_0x2df846&&_0x53f6fe['getStatus']()===_0x5d74d9['Online']);if(_0x222fc9){try{await this[_0x5235f4(0x7b0)]['mediator']['createConnection'](_0x222fc9[_0x5235f4(0x677)](),_0x488105['Optimization']),this['optimizationLayers'][_0x5235f4(0x599)](_0x4f91e3,_0x222fc9[_0x5235f4(0x677)]());}catch(_0x2abc3c){if(!(_0x2abc3c instanceof _0x46f718&&_0x2abc3c[_0x5235f4(0x18d)]===_0x46f718[_0x5235f4(0x6b3)][_0x5235f4(0x7aa)]))throw _0x2abc3c;_0x3d0f37[_0x5235f4(0x6c1)](_0x2582bf[_0x5235f4(0x3c6)],this[_0x5235f4(0x7b0)][_0x5235f4(0x672)][_0x5235f4(0x677)](),_0x222fc9['getId'](),_0x2abc3c[_0x5235f4(0x4de)]);}_0x4f91e3+=0x1;}else _0x4f91e3+=0x1;}},0x3e8);}async[_0x13fde2(0x7d7)](_0x5592d4){const _0x5bc7c0=_0x13fde2;this[_0x5bc7c0(0x29a)][_0x5bc7c0(0x7fa)](this[_0x5bc7c0(0x29a)]['indexOf'](_0x5592d4),0x1);const _0x3ff525=await this['discoveryService']['getAncestors']();for(const _0x283f0b of _0x3ff525)if(!this[_0x5bc7c0(0x29a)][_0x5bc7c0(0x563)](_0x283f0b)){const _0x11a77e=Array[_0x5bc7c0(0x69c)](this[_0x5bc7c0(0x21d)]['entries']())[_0x5bc7c0(0x1a6)](([,_0x398a4f])=>_0x398a4f===_0x283f0b);_0x11a77e&&this[_0x5bc7c0(0x21d)][_0x5bc7c0(0x6fd)](_0x11a77e[0x0]),this[_0x5bc7c0(0x7b0)][_0x5bc7c0(0x628)]['createConnection'](_0x283f0b,_0x488105['Core']);}0x0===_0x3ff525[_0x5bc7c0(0x24c)]&&this[_0x5bc7c0(0x7b0)][_0x5bc7c0(0x672)]['setRank'](0x1),this[_0x5bc7c0(0x29a)]=_0x3ff525;}async[_0x13fde2(0x6fe)](_0x4bd1eb){const _0x13220d=_0x13fde2,_0x1dd4d1=this[_0x13220d(0x7b0)][_0x13220d(0x672)][_0x13220d(0x83e)]();if(!_0x1dd4d1)return;const _0x43e95e=this[_0x13220d(0x262)][_0x13220d(0x6f7)](_0x4bd1eb);if(!_0x43e95e||_0x43e95e[_0x13220d(0x350)]()===_0x5d74d9[_0x13220d(0x3fa)])return;const _0x1a9050=_0x43e95e[_0x13220d(0x83e)]();if(!_0x1a9050||_0x1a9050<_0x1dd4d1)return;const _0xb9c23c=this[_0x13220d(0x394)](this['configs'][_0x13220d(0x672)][_0x13220d(0x67c)](),_0x1dd4d1),_0x2a3533=this[_0x13220d(0x394)](_0x43e95e[_0x13220d(0x67c)](),_0x1a9050)[_0xb9c23c[_0x13220d(0x1c1)](([_0x16c71c])=>_0x16c71c===_0x4bd1eb)];if(!_0x2a3533||this['configs'][_0x13220d(0x672)][_0x13220d(0x67c)]()[_0x13220d(0x7f7)](_0x2a3533[0x0]))return;const _0x201d59=this[_0x13220d(0x262)][_0x13220d(0x6f7)](_0x2a3533[0x0]);if(_0x201d59&&_0x201d59[_0x13220d(0x350)]()!==_0x5d74d9[_0x13220d(0x3fa)])try{await this[_0x13220d(0x7b0)]['mediator'][_0x13220d(0x1fd)](_0x2a3533[0x0],_0x488105['Optimization']);const _0x2f0d50=Array[_0x13220d(0x69c)](this[_0x13220d(0x21d)][_0x13220d(0x78d)]())[_0x13220d(0x1a6)](([,_0x8b3647])=>_0x8b3647===_0x4bd1eb);_0x2f0d50&&this['optimizationLayers'][_0x13220d(0x599)](_0x2f0d50[0x0],_0x2a3533[0x0]);}catch(_0x2f857e){if(!(_0x2f857e instanceof _0x46f718&&_0x2f857e[_0x13220d(0x18d)]===_0x46f718[_0x13220d(0x6b3)][_0x13220d(0x7aa)]))throw _0x2f857e;_0x3d0f37[_0x13220d(0x6c1)](_0x2582bf[_0x13220d(0x3c6)],this[_0x13220d(0x7b0)][_0x13220d(0x672)][_0x13220d(0x677)](),_0x2a3533[0x0],_0x2f857e[_0x13220d(0x4de)]);}}[_0x13fde2(0x394)](_0x426d03,_0x5f09dc){const _0x1a9ba4=_0x13fde2;return Array[_0x1a9ba4(0x69c)](_0x426d03)[_0x1a9ba4(0x633)]((_0x59177a,_0x343a7a)=>{const _0x1cc76c=_0x1a9ba4,_0x12c2bb=this['graphService'][_0x1cc76c(0x6f7)](_0x343a7a);if(!_0x12c2bb||_0x12c2bb[_0x1cc76c(0x350)]()===_0x5d74d9[_0x1cc76c(0x3fa)])return _0x59177a;const _0x3f662e=_0x12c2bb[_0x1cc76c(0x83e)]();if(!_0x3f662e)return _0x59177a;const _0x35059f=_0x3f662e-_0x5f09dc;return _0x35059f<=this[_0x1cc76c(0x262)][_0x1cc76c(0x267)]()||_0x59177a[_0x1cc76c(0x875)]([_0x343a7a,_0x35059f]),_0x59177a;},[])['sort'](([,_0x56885f],[,_0x3f75f7])=>_0x56885f-_0x3f75f7);}}const _0x5d8a56=[{'problemType':_0x431989[_0x13fde2(0x5fe)],'remediations':[{'type':_0x38e29f['Remediation'],'component':_0xe979e8[_0x13fde2(0x3fc)],'action':_0x203b21[_0x13fde2(0x681)]},{'type':_0x38e29f[_0x13fde2(0x273)],'component':_0xe979e8[_0x13fde2(0x3fc)],'action':_0x203b21[_0x13fde2(0x681)]}]},{'problemType':_0x431989['TimePerFrame'],'remediations':[{'type':_0x38e29f[_0x13fde2(0x707)],'component':_0xe979e8[_0x13fde2(0x3fc)],'action':_0x203b21[_0x13fde2(0x681)]}]},{'problemType':_0x431989[_0x13fde2(0x748)],'remediations':[{'type':_0x38e29f[_0x13fde2(0x707)],'component':_0xe979e8[_0x13fde2(0x3fc)],'action':_0x203b21[_0x13fde2(0x681)]}]},{'problemType':_0x431989[_0x13fde2(0x1a0)],'remediations':[{'type':_0x38e29f[_0x13fde2(0x707)],'component':_0xe979e8['Resolution'],'action':_0x203b21[_0x13fde2(0x681)]}]},{'problemType':_0x431989[_0x13fde2(0x17b)],'remediations':[{'type':_0x38e29f[_0x13fde2(0x707)],'component':_0xe979e8[_0x13fde2(0x17b)],'action':_0x203b21[_0x13fde2(0x681)]}]},{'problemType':_0x431989['Jitter'],'remediations':[{'type':_0x38e29f['Remediation'],'component':_0xe979e8[_0x13fde2(0x17b)],'action':_0x203b21['Downgrade']}]},{'problemType':_0x431989[_0x13fde2(0x22e)],'remediations':[{'type':_0x38e29f['Remediation'],'component':_0xe979e8['Bitrate'],'action':_0x203b21[_0x13fde2(0x681)]}]}];class _0x322dda{[_0x13fde2(0x7b0)];[_0x13fde2(0x51a)];[_0x13fde2(0x75c)]=new Map();constructor(_0x1b55dd){const _0x16360b=_0x13fde2;this[_0x16360b(0x7b0)]=_0x1b55dd,this[_0x16360b(0x7b0)][_0x16360b(0x628)]['registerSystemSource'](this);}[_0x13fde2(0x3df)](){const _0x298f1f=_0x13fde2;this['configs'][_0x298f1f(0x628)]['unregisterSystemSource'](this);}[_0x13fde2(0x18b)](_0x5d9264){this['systemTopic']=_0x5d9264;}[_0x13fde2(0x769)](){const _0xee4e7d=_0x13fde2;delete this[_0xee4e7d(0x51a)];}[_0x13fde2(0x696)](_0x6caa8){const _0x524c1c=_0x13fde2;_0x6caa8[_0x524c1c(0x6dd)][_0x524c1c(0x5bb)]===_0x1684f0[_0x524c1c(0x30c)]&&this['handleProblem'](_0x6caa8['content']['data']);}['handleRemediationSystemEvents'](_0x340b6d){const _0x1f2361=_0x13fde2;_0x340b6d[_0x1f2361(0x6dd)]['type']===_0x38e29f[_0x1f2361(0x273)]&&this[_0x1f2361(0x283)](_0x340b6d[_0x1f2361(0x8a3)],{'type':_0x38e29f[_0x1f2361(0x707)],'component':_0x340b6d['content'][_0x1f2361(0x7e0)]['component'],'action':_0x340b6d['content'][_0x1f2361(0x7e0)]['action']});}[_0x13fde2(0x5e2)](_0x34dc41){const _0x1ebb28=_0x13fde2,_0x27f512=_0x5d8a56['find'](_0x21ba48=>_0x21ba48[_0x1ebb28(0x5ed)]===_0x34dc41[_0x1ebb28(0x5bb)]);_0x27f512[_0x1ebb28(0x517)]?.[_0x1ebb28(0x1ed)](_0x2b570c=>{const _0x58ad40=_0x1ebb28;this[_0x58ad40(0x283)](_0x34dc41[_0x58ad40(0x6d4)],{'type':_0x34dc41[_0x58ad40(0x852)]===_0x4a7d10['Sender']?_0x38e29f[_0x58ad40(0x707)]:_0x38e29f[_0x58ad40(0x273)],'component':_0x2b570c[_0x58ad40(0x70b)],'action':_0x2b570c['action']});});}[_0x13fde2(0x283)](_0x4908ac,_0x602d38){const _0x1806f7=_0x13fde2;if(_0x602d38['type']===_0x38e29f[_0x1806f7(0x707)]){const _0x1874f1=Date['now'](),_0x896741=this[_0x1806f7(0x75c)][_0x1806f7(0x556)](_0x4908ac);if(_0x896741&&_0x1874f1-_0x896741<0x1388)return;this['lastRemediations'][_0x1806f7(0x599)](_0x4908ac,_0x1874f1);}_0x3d0f37[_0x1806f7(0x6c1)](_0x2582bf['Remediation'],_0x1806f7(0x246),_0x602d38),_0x3d0f37['logEvent'](_0x1806f7(0x792),{'clusterId':this[_0x1806f7(0x7b0)]['clusterId'],'nodeId':this[_0x1806f7(0x7b0)]['localNode'][_0x1806f7(0x677)](),'nodeType':this['configs'][_0x1806f7(0x672)][_0x1806f7(0x5bb)],'remoteId':_0x4908ac,'data':{'type':_0x602d38[_0x1806f7(0x5bb)],'component':_0x602d38[_0x1806f7(0x70b)],'action':_0x602d38[_0x1806f7(0x61e)]}});let _0x19855a,_0x53f577=_0x2de6c6;_0x602d38[_0x1806f7(0x5bb)]===_0x38e29f[_0x1806f7(0x273)]&&(_0x53f577=this[_0x1806f7(0x7b0)][_0x1806f7(0x672)][_0x1806f7(0x677)](),_0x19855a=[_0x4908ac]),this[_0x1806f7(0x51a)]['publish']({'sourceId':_0x53f577,'destinationIds':_0x19855a,'messageType':_0x1b694f[_0x1806f7(0x707)],'content':{'type':_0x602d38[_0x1806f7(0x5bb)],'targetId':_0x4908ac,'data':_0x602d38}});}}const _0x29c23c=0x3e8,_0x57e2c6=0x7530,_0x14d780=_0x13fde2(0x4cc),_0x28fb71=_0x13fde2(0x56b),_0x319719=_0x13fde2(0x41f),_0x3f3b69=[_0x14d780,_0x28fb71],_0x4bb1a0=[_0x319719];class _0x2ee9fe{[_0x13fde2(0x3d3)]=0x0;[_0x13fde2(0x290)]=0x0;['jitter']=0x0;['packetsLost']=0x0;[_0x13fde2(0x461)]=0x0;[_0x13fde2(0x3f6)]=0x0;[_0x13fde2(0x5e1)]=0x0;[_0x13fde2(0x744)]=0x0;['previousBytes']=0x0;get['bitrate'](){const _0x517843=_0x13fde2;return this['currentTimestamp']>0x0&&this['previousTimestamp']>0x0&&Date[_0x517843(0x321)]()-this['currentTimestamp']<_0x57e2c6?(this['currentBytes']-this['previousBytes'])/(this[_0x517843(0x3f6)]-this[_0x517843(0x5e1)])*0x8*0x3e8:0x0;}[_0x13fde2(0x2e6)](_0x2e2b9f){const _0x37a90b=_0x13fde2;switch(_0x2e2b9f[_0x37a90b(0x5bb)]){case _0x319719:this[_0x37a90b(0x3ab)](_0x2e2b9f);break;case _0x14d780:this['processOutboundReport'](_0x2e2b9f);break;case _0x28fb71:this[_0x37a90b(0x531)](_0x2e2b9f);}}[_0x13fde2(0x6b9)](){const _0x4750ce=_0x13fde2;return{'bitrate':this[_0x4750ce(0x7b8)],'packetsLostPerc':this[_0x4750ce(0x3d0)](),'roundTripTime':this[_0x4750ce(0x3d3)],'jitter':this[_0x4750ce(0x310)]};}[_0x13fde2(0x3ab)](_0x164ed2){const _0x313167=_0x13fde2;this[_0x313167(0x734)](_0x164ed2[_0x313167(0x428)]),this[_0x313167(0x1ac)](_0x164ed2[_0x313167(0x644)]),this[_0x313167(0x461)]=_0x164ed2['packetsReceived'],this[_0x313167(0x6c6)]=_0x164ed2[_0x313167(0x6c6)],void 0x0!==_0x164ed2[_0x313167(0x310)]?this['jitter']=_0x164ed2[_0x313167(0x310)]:this['jitter']=0x0,void 0x0!==_0x164ed2['estimatedPlayoutTimestamp']?this['estimatedPlayoutTimestamp']=_0x164ed2[_0x313167(0x290)]:this[_0x313167(0x290)]=0x0;}[_0x13fde2(0x668)](_0x353528){const _0x16d2d7=_0x13fde2;this[_0x16d2d7(0x734)](_0x353528['bytesSent']),this[_0x16d2d7(0x1ac)](_0x353528[_0x16d2d7(0x644)]),this[_0x16d2d7(0x461)]=_0x353528[_0x16d2d7(0x578)];}[_0x13fde2(0x531)](_0x225e93){const _0x35faa5=_0x13fde2;this[_0x35faa5(0x3d3)]=0x3e8*_0x225e93[_0x35faa5(0x3d3)],void 0x0!==_0x225e93[_0x35faa5(0x310)]?this[_0x35faa5(0x310)]=_0x225e93[_0x35faa5(0x310)]:this[_0x35faa5(0x310)]=0x0;}['getPacketsLostPerc'](){const _0x2c6afe=_0x13fde2;return this[_0x2c6afe(0x461)]>0x0?this[_0x2c6afe(0x6c6)]/this[_0x2c6afe(0x461)]:0x0;}[_0x13fde2(0x1ac)](_0x2b7185){const _0x508740=_0x13fde2;_0x2b7185>this[_0x508740(0x3f6)]&&(this['previousTimestamp']=this['currentTimestamp'],this[_0x508740(0x3f6)]=_0x2b7185);}[_0x13fde2(0x734)](_0x2d6cfd){const _0x339a54=_0x13fde2;this['previousBytes']=this[_0x339a54(0x744)],this[_0x339a54(0x744)]=_0x2d6cfd;}}class _0x1e8676 extends _0x2ee9fe{}class _0x2f8ef6 extends _0x2ee9fe{[_0x13fde2(0x260)]=0x0;[_0x13fde2(0x62e)]=0x0;[_0x13fde2(0x7d6)]=0x0;[_0x13fde2(0x624)]=0x0;[_0x13fde2(0x7e7)]=0x0;get[_0x13fde2(0x3a2)](){const _0x20bfe1=_0x13fde2;return this[_0x20bfe1(0x3f6)]>0x0&&this[_0x20bfe1(0x5e1)]>0x0&&Date[_0x20bfe1(0x321)]()-this[_0x20bfe1(0x3f6)]<_0x57e2c6?(this[_0x20bfe1(0x624)]-this['previousFrames'])/(this[_0x20bfe1(0x3f6)]-this[_0x20bfe1(0x5e1)])*0x3e8:0x0;}get[_0x13fde2(0x7bb)](){const _0x5036d3=_0x13fde2;return this['frameTime']&&this['currentFrames']&&this[_0x5036d3(0x624)]>0x0?this[_0x5036d3(0x260)]/this[_0x5036d3(0x624)]:0x0;}set[_0x13fde2(0x473)](_0x4d9dc8){const _0x3e52d8=_0x13fde2;this[_0x3e52d8(0x7e7)]=this[_0x3e52d8(0x624)],this[_0x3e52d8(0x624)]=_0x4d9dc8;}[_0x13fde2(0x6b9)](){const _0x4a1ef6=_0x13fde2;return{...super['getReport'](),'FPS':this['fps'],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x4a1ef6(0x62e)],'frameHeight':this['frameHeight']};}['processInboundReport'](_0x2fd9e9){const _0x4672d1=_0x13fde2;super[_0x4672d1(0x3ab)](_0x2fd9e9),this[_0x4672d1(0x260)]=_0x2fd9e9[_0x4672d1(0x1d7)],this[_0x4672d1(0x473)]=_0x2fd9e9[_0x4672d1(0x46e)],this['frameWidth']=_0x2fd9e9[_0x4672d1(0x62e)],this['frameHeight']=_0x2fd9e9['frameHeight'];}[_0x13fde2(0x668)](_0x11bdf3){const _0x4458b5=_0x13fde2;super[_0x4458b5(0x668)](_0x11bdf3),this[_0x4458b5(0x260)]=_0x11bdf3[_0x4458b5(0x8a4)],this['frames']=_0x11bdf3[_0x4458b5(0x738)],this[_0x4458b5(0x62e)]=_0x11bdf3[_0x4458b5(0x62e)],this[_0x4458b5(0x7d6)]=_0x11bdf3[_0x4458b5(0x7d6)];}}class _0x4d6a87{[_0x13fde2(0x706)]=new _0x1e8676();[_0x13fde2(0x3c1)]=new _0x2f8ef6();get['bitrate'](){const _0x2465c8=_0x13fde2;return this['audio']['bitrate']+this['video'][_0x2465c8(0x7b8)];}[_0x13fde2(0x2eb)](_0x38c96e){const _0x208d9e=_0x13fde2;return _0x38c96e[_0x208d9e(0x1ed)](_0x35ece1=>{const _0x3e02a8=_0x208d9e;switch(_0x35ece1[_0x3e02a8(0x602)]){case _0x3e02a8(0x706):this[_0x3e02a8(0x706)]['processReport'](_0x35ece1);break;case _0x3e02a8(0x3c1):this[_0x3e02a8(0x3c1)][_0x3e02a8(0x2e6)](_0x35ece1);}}),this[_0x208d9e(0x6b9)]();}[_0x13fde2(0x6b9)](){const _0x366a6e=_0x13fde2;return{'audio':this[_0x366a6e(0x706)][_0x366a6e(0x6b9)](),'video':this[_0x366a6e(0x3c1)][_0x366a6e(0x6b9)](),'roundTripTime':this[_0x366a6e(0x276)](),'AudioVideoDelay':this[_0x366a6e(0x376)](),'bitrate':this[_0x366a6e(0x7b8)]};}['getRoundTripTime'](){const _0x53f7d1=_0x13fde2;return Math[_0x53f7d1(0x4f5)]((this[_0x53f7d1(0x706)][_0x53f7d1(0x3d3)]+this[_0x53f7d1(0x3c1)][_0x53f7d1(0x3d3)])/0x2);}[_0x13fde2(0x376)](){const _0x175cf8=_0x13fde2;return this[_0x175cf8(0x706)][_0x175cf8(0x290)]-this[_0x175cf8(0x3c1)][_0x175cf8(0x290)];}}class _0x3cde7b{[_0x13fde2(0x523)]=0x0;[_0x13fde2(0x597)]=0x0;[_0x13fde2(0x669)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x13fde2(0x227)]=0x0;[_0x13fde2(0x699)]=0x0;[_0x13fde2(0x289)]=0x0;[_0x13fde2(0x34c)]=0x0;[_0x13fde2(0x519)]=0x0;[_0x13fde2(0x1e2)]=0x0;[_0x13fde2(0x817)]=0x0;['receiverTimeProcessing']=0x0;['roundTripTime']=0x0;get[_0x13fde2(0x7b8)](){const _0x3e85ac=_0x13fde2;return this[_0x3e85ac(0x726)]+this['receiverBitrate'];}get[_0x13fde2(0x726)](){const _0x47dd23=_0x13fde2;return this[_0x47dd23(0x523)]>0x0&&this[_0x47dd23(0x597)]>0x0&&Date[_0x47dd23(0x321)]()-this[_0x47dd23(0x523)]<_0x57e2c6?(this[_0x47dd23(0x227)]-this[_0x47dd23(0x699)])/(this[_0x47dd23(0x523)]-this[_0x47dd23(0x597)])*0x8*0x3e8:0x0;}get[_0x13fde2(0x22b)](){const _0x477573=_0x13fde2;return this['receiverCurrentTimestamp']>0x0&&this[_0x477573(0x2dd)]>0x0&&Date[_0x477573(0x321)]()-this[_0x477573(0x669)]<_0x57e2c6?(this['receiverCurrentBytes']-this[_0x477573(0x34c)])/(this[_0x477573(0x669)]-this[_0x477573(0x2dd)])*0x8*0x3e8:0x0;}[_0x13fde2(0x2e6)](_0x130cb6){const _0x15a801=_0x13fde2;switch(_0x130cb6['origin']){case _0x4a7d10[_0x15a801(0x3a6)]:this[_0x15a801(0x286)](_0x130cb6);break;case _0x4a7d10[_0x15a801(0x4cb)]:this[_0x15a801(0x1aa)](_0x130cb6);}}['getReport'](){const _0x241223=_0x13fde2;return{'bitrate':this[_0x241223(0x7b8)],'senderBitrate':this[_0x241223(0x726)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x241223(0x6ab)](),'senderTotalBytes':this[_0x241223(0x8b4)](),'receiverTotalBytes':this[_0x241223(0x81e)](),'totalMessages':this[_0x241223(0x519)]+this['receiverTotalMessages'],'senderTotalMessages':this[_0x241223(0x519)],'receiverTotalMessages':this[_0x241223(0x1e2)],'timeProcessing':this[_0x241223(0x817)]+this['receiverTimeProcessing'],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x241223(0x3d3)]};}[_0x13fde2(0x6ab)](){const _0x277a9e=_0x13fde2;return this[_0x277a9e(0x227)]+this[_0x277a9e(0x289)];}['getSenderTotalBytes'](){return this['senderCurrentBytes'];}[_0x13fde2(0x81e)](){const _0x30cdd7=_0x13fde2;return this[_0x30cdd7(0x289)];}['processSenderReport'](_0xc29a8c){const _0x2f0274=_0x13fde2;this['setSenderTimestamp'](_0xc29a8c['timestamp']),this[_0x2f0274(0x734)](_0xc29a8c[_0x2f0274(0x5f3)]),this[_0x2f0274(0x519)]=_0xc29a8c[_0x2f0274(0x502)],this[_0x2f0274(0x817)]=_0xc29a8c[_0x2f0274(0x3cd)],this[_0x2f0274(0x3d3)]=_0xc29a8c[_0x2f0274(0x3d3)];}['processReceiverReport'](_0x3a2fac){const _0x1646c3=_0x13fde2;this[_0x1646c3(0x340)](_0x3a2fac[_0x1646c3(0x644)]),this['setReceiverBytes'](_0x3a2fac['bytesReceived']),this[_0x1646c3(0x1e2)]=_0x3a2fac[_0x1646c3(0x835)],this[_0x1646c3(0x67a)]=_0x3a2fac['timeReceiving'];}[_0x13fde2(0x2a0)](_0x4f70e6){const _0x4b9005=_0x13fde2;_0x4f70e6>this[_0x4b9005(0x523)]&&(this['senderPreviousTimestamp']=this['senderCurrentTimestamp'],this[_0x4b9005(0x523)]=_0x4f70e6);}[_0x13fde2(0x340)](_0x35a59a){const _0x2da48b=_0x13fde2;_0x35a59a>this[_0x2da48b(0x669)]&&(this[_0x2da48b(0x2dd)]=this['receiverCurrentTimestamp'],this[_0x2da48b(0x669)]=_0x35a59a);}['setBytes'](_0x355de7){const _0x283825=_0x13fde2;this['senderPreviousBytes']=this[_0x283825(0x227)],this[_0x283825(0x227)]=_0x355de7;}[_0x13fde2(0x68a)](_0x5dd590){const _0x31399e=_0x13fde2;this[_0x31399e(0x34c)]=this[_0x31399e(0x289)],this['receiverCurrentBytes']=_0x5dd590;}}class _0x14a9f6{[_0x13fde2(0x362)]=new Map();[_0x13fde2(0x5e3)]=new Map();[_0x13fde2(0x5a0)]=new _0x3cde7b();get[_0x13fde2(0x726)](){const _0x17d1c8=_0x13fde2;let _0x14295c=0x0;return this[_0x17d1c8(0x362)][_0x17d1c8(0x1ed)](_0x5a3e4c=>{const _0x4fc38d=_0x17d1c8;_0x14295c+=_0x5a3e4c[_0x4fc38d(0x7b8)];}),_0x14295c+=this[_0x17d1c8(0x5a0)][_0x17d1c8(0x726)],_0x14295c;}get[_0x13fde2(0x22b)](){const _0x2e95e1=_0x13fde2;let _0x5e7e6c=0x0;return this[_0x2e95e1(0x5e3)]['forEach'](_0x16d35d=>{const _0x160aa2=_0x2e95e1;_0x5e7e6c+=_0x16d35d[_0x160aa2(0x7b8)];}),_0x5e7e6c+=this['dataChannel']['receiverBitrate'],_0x5e7e6c;}get[_0x13fde2(0x7b8)](){const _0x2b5c5b=_0x13fde2;return this[_0x2b5c5b(0x726)]+this[_0x2b5c5b(0x22b)];}[_0x13fde2(0x2eb)](_0x45f9df,_0x59bbb7){const _0x351ffd=_0x13fde2,_0x17c6c8=[],_0x61e64f=[];return _0x45f9df instanceof Array?_0x45f9df[_0x351ffd(0x1ed)](_0x539ef6=>{const _0x505344=_0x351ffd;_0x539ef6[_0x505344(0x1ed)](_0x2cd86d=>{const _0x16f2c8=_0x505344;_0x4bb1a0['includes'](_0x2cd86d[_0x16f2c8(0x5bb)])&&_0x17c6c8[_0x16f2c8(0x875)](_0x2cd86d),_0x3f3b69['includes'](_0x2cd86d[_0x16f2c8(0x5bb)])&&_0x61e64f[_0x16f2c8(0x875)](_0x2cd86d);});}):this[_0x351ffd(0x5a0)][_0x351ffd(0x2e6)](_0x45f9df),_0x17c6c8[_0x351ffd(0x24c)]>0x0&&_0x59bbb7?{...this[_0x351ffd(0x780)](_0x59bbb7,_0x17c6c8),'origin':_0x4a7d10['Receiver'],'streamId':_0x59bbb7}:_0x61e64f[_0x351ffd(0x24c)]>0x0&&_0x59bbb7?{...this[_0x351ffd(0x585)](_0x59bbb7,_0x61e64f),'origin':_0x4a7d10[_0x351ffd(0x3a6)],'streamId':_0x59bbb7}:void 0x0;}[_0x13fde2(0x6b9)](){const _0x3606f0=_0x13fde2,_0x36c578={};this['senderStreams'][_0x3606f0(0x1ed)]((_0x2c9e17,_0x169480)=>{_0x36c578[_0x169480]=_0x2c9e17['getReport']();});const _0x46de6a={};return this[_0x3606f0(0x5e3)][_0x3606f0(0x1ed)]((_0x405b16,_0x359800)=>{const _0x34f6fc=_0x3606f0;_0x46de6a[_0x359800]=_0x405b16[_0x34f6fc(0x6b9)]();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0x3606f0(0x726)],'receiverBitrate':this[_0x3606f0(0x22b)],'senderStreams':_0x36c578,'receiverStreams':_0x46de6a,'dataChannel':this[_0x3606f0(0x5a0)][_0x3606f0(0x6b9)]()};}['processInboundReports'](_0x2d6d33,_0x2b4728){const _0x387382=_0x13fde2;return this[_0x387382(0x5e3)][_0x387382(0x7f7)](_0x2d6d33)||this[_0x387382(0x5e3)]['set'](_0x2d6d33,new _0x4d6a87()),this['receiverStreams'][_0x387382(0x556)](_0x2d6d33)[_0x387382(0x2eb)](_0x2b4728);}[_0x13fde2(0x585)](_0x355bde,_0x5e00ea){const _0x4c83da=_0x13fde2;return this['senderStreams'][_0x4c83da(0x7f7)](_0x355bde)||this[_0x4c83da(0x362)]['set'](_0x355bde,new _0x4d6a87()),this[_0x4c83da(0x362)][_0x4c83da(0x556)](_0x355bde)[_0x4c83da(0x2eb)](_0x5e00ea);}}class _0x58770d{[_0x13fde2(0x704)]=new Map();['scheduleTime']=0x0;['durationTime']=0x0;['pubsubTopics']=new Map();[_0x13fde2(0x6e1)]=new Map();[_0x13fde2(0x1af)]=new Map();[_0x13fde2(0x370)]=new Map();[_0x13fde2(0x216)]=new Map();[_0x13fde2(0x85b)]=new Map();['graphDatabases']=new Map();[_0x13fde2(0x519)]=new Map();['receiverTotalMessages']=new Map();['senderTimeProcessing']=new Map();[_0x13fde2(0x67a)]=new Map();['systemMessages']=new Map();['systemTopic'];[_0x13fde2(0x6b9)](){const _0x55899f=_0x13fde2,_0x16a98e={};this[_0x55899f(0x704)][_0x55899f(0x1ed)]((_0xabc6c2,_0xf23a18)=>{const _0x3bc0cd=_0x55899f;_0x16a98e[_0xf23a18]=_0xabc6c2[_0x3bc0cd(0x6b9)]();});let _0x583eeb=0x0;this[_0x55899f(0x817)]['forEach'](_0x3bb5e1=>{_0x583eeb+=_0x3bb5e1;});let _0x412c76=0x0;this[_0x55899f(0x67a)][_0x55899f(0x1ed)](_0x48446e=>{_0x412c76+=_0x48446e;});const _0x43d125=_0x583eeb+_0x412c76;let _0x4da4c8={'messages':{'total':0x0}};this[_0x55899f(0x422)][_0x55899f(0x1ed)](_0x3215ca=>{const _0x32b6e4=_0x55899f;Object[_0x32b6e4(0x253)](_0x3215ca)[_0x32b6e4(0x1ed)](_0x2c231d=>{const _0x4498cc=_0x32b6e4;_0x4da4c8[_0x2c231d]||(_0x4da4c8[_0x2c231d]={}),Object[_0x4498cc(0x253)](_0x3215ca[_0x2c231d])[_0x4498cc(0x1ed)](_0x32dd5e=>{_0x4da4c8[_0x2c231d][_0x32dd5e]||(_0x4da4c8[_0x2c231d][_0x32dd5e]=0x0),_0x4da4c8[_0x2c231d][_0x32dd5e]+=_0x3215ca[_0x2c231d][_0x32dd5e];});});});let _0x39c1e0=0x0,_0x5f5281=0x0,_0x2f3156=0x0,_0x3e83f0=0x0,_0x1a8094=0x0;return this[_0x55899f(0x626)]['forEach'](_0x5e1e50=>{const _0x4cc192=_0x55899f;_0x5f5281+=_0x5e1e50[_0x4cc192(0x502)],_0x2f3156+=_0x5e1e50[_0x4cc192(0x835)],_0x3e83f0+=_0x5e1e50['bytesSent'],_0x1a8094+=_0x5e1e50['bytesReceived'];}),this['objectStores'][_0x55899f(0x1ed)](_0x4638cb=>{const _0x4b860c=_0x55899f;_0x39c1e0+=_0x4638cb['storage'],_0x5f5281+=_0x4638cb['messagesSent'],_0x2f3156+=_0x4638cb[_0x4b860c(0x835)],_0x3e83f0+=_0x4638cb[_0x4b860c(0x5f3)],_0x1a8094+=_0x4638cb[_0x4b860c(0x428)];}),this['keyValueDatabases'][_0x55899f(0x1ed)](_0x2c1143=>{const _0x42156a=_0x55899f;_0x39c1e0+=_0x2c1143[_0x42156a(0x3ba)],_0x5f5281+=_0x2c1143[_0x42156a(0x502)],_0x2f3156+=_0x2c1143['messagesReceived'],_0x3e83f0+=_0x2c1143['bytesSent'],_0x1a8094+=_0x2c1143['bytesReceived'];}),this[_0x55899f(0x370)][_0x55899f(0x1ed)](_0x5ae350=>{const _0x5d4595=_0x55899f;_0x39c1e0+=_0x5ae350[_0x5d4595(0x3ba)],_0x5f5281+=_0x5ae350[_0x5d4595(0x502)],_0x2f3156+=_0x5ae350[_0x5d4595(0x835)],_0x3e83f0+=_0x5ae350[_0x5d4595(0x5f3)],_0x1a8094+=_0x5ae350[_0x5d4595(0x428)];}),this[_0x55899f(0x216)][_0x55899f(0x1ed)](_0x540369=>{const _0x26f621=_0x55899f;_0x39c1e0+=_0x540369['storage'],_0x5f5281+=_0x540369[_0x26f621(0x502)],_0x2f3156+=_0x540369[_0x26f621(0x835)],_0x3e83f0+=_0x540369['bytesSent'],_0x1a8094+=_0x540369[_0x26f621(0x428)];}),this[_0x55899f(0x85b)]['forEach'](_0xf12977=>{const _0x2bacd3=_0x55899f;_0x39c1e0+=_0xf12977[_0x2bacd3(0x3ba)],_0x5f5281+=_0xf12977[_0x2bacd3(0x502)],_0x2f3156+=_0xf12977[_0x2bacd3(0x835)],_0x3e83f0+=_0xf12977[_0x2bacd3(0x5f3)],_0x1a8094+=_0xf12977[_0x2bacd3(0x428)];}),this[_0x55899f(0x7e6)][_0x55899f(0x1ed)](_0x3db6d4=>{const _0x25b098=_0x55899f;_0x39c1e0+=_0x3db6d4['storage'],_0x5f5281+=_0x3db6d4[_0x25b098(0x502)],_0x2f3156+=_0x3db6d4[_0x25b098(0x835)],_0x3e83f0+=_0x3db6d4[_0x25b098(0x5f3)],_0x1a8094+=_0x3db6d4[_0x25b098(0x428)];}),{'STVolatility':this[_0x55899f(0x7cf)](),'DTVolatility':this[_0x55899f(0x256)](),'bitrate':this[_0x55899f(0x7dc)](),'senderBitrate':this[_0x55899f(0x20a)](),'receiverBitrate':this[_0x55899f(0x7d5)](),'totalStorageSize':_0x39c1e0,'totalMessages':_0x5f5281+_0x2f3156,'totalMessagesSent':_0x5f5281,'totalMessagesReceived':_0x2f3156,'totalBytes':_0x3e83f0+_0x1a8094,'totalBytesSent':_0x3e83f0,'totalBytesReceived':_0x1a8094,'systemMessages':_0x4da4c8,'timeProcessing':_0x43d125,'nodes':_0x16a98e,'pubsubTopics':Object[_0x55899f(0x2b6)](this[_0x55899f(0x626)]),'objectStores':Object[_0x55899f(0x2b6)](this[_0x55899f(0x6e1)]),'keyValueDatabases':Object[_0x55899f(0x2b6)](this[_0x55899f(0x1af)]),'generativeAIContexts':Object[_0x55899f(0x2b6)](this[_0x55899f(0x370)]),'generativeAIWorkers':Object['fromEntries'](this[_0x55899f(0x216)]),'vectorDatabases':Object[_0x55899f(0x2b6)](this['vectorDatabases']),'graphDatabases':Object[_0x55899f(0x2b6)](this[_0x55899f(0x7e6)])};}[_0x13fde2(0x80f)](_0x5f0012){const _0x3c53c3=_0x13fde2;this[_0x3c53c3(0x704)][_0x3c53c3(0x599)](_0x5f0012,new _0x14a9f6());}[_0x13fde2(0x5ef)](_0x170e43){const _0x3673b4=_0x13fde2;this['nodes'][_0x3673b4(0x6fd)](_0x170e43);}[_0x13fde2(0x2eb)](_0x47cd37,_0x2ac9c4,_0x5ec427){const _0x1d4091=_0x13fde2;_0x2ac9c4 instanceof Array||this['processDataChannelReport'](_0x47cd37,_0x2ac9c4);const _0x17ef79=this[_0x1d4091(0x704)][_0x1d4091(0x556)](_0x47cd37)?.['processReports'](_0x2ac9c4,_0x5ec427);_0x17ef79&&this[_0x1d4091(0x51a)]['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f['Stats'],'content':{'type':_0x3022c1[_0x1d4091(0x2d9)],'data':{..._0x17ef79,'nodeId':_0x47cd37}}});}[_0x13fde2(0x4d7)](_0x1afef3){const _0x3de4b3=_0x13fde2;this[_0x3de4b3(0x1cf)](_0x1afef3[_0x3de4b3(0x4dd)]),this['setDurationTime'](_0x1afef3[_0x3de4b3(0x527)]),this[_0x3de4b3(0x51a)]['publish']({'sourceId':_0x2de6c6,'messageType':_0x1b694f[_0x3de4b3(0x4c0)],'content':{'type':_0x3022c1[_0x3de4b3(0x36c)],'data':{'STVolatility':this[_0x3de4b3(0x7cf)](),'DTVolatility':this['getDTVolatility']()}}});}['processServiceReport'](_0x2b1a8d,_0x502ea0,_0xce5688){const _0x2cc4ce=_0x13fde2;switch(_0x502ea0){case _0x85b357[_0x2cc4ce(0x6de)]:this['pubsubTopics'][_0x2cc4ce(0x599)](_0x2b1a8d,_0xce5688);break;case _0x85b357[_0x2cc4ce(0x4f3)]:this['objectStores'][_0x2cc4ce(0x599)](_0x2b1a8d,_0xce5688);break;case _0x85b357['KeyValueDatabaseStats']:this[_0x2cc4ce(0x1af)][_0x2cc4ce(0x599)](_0x2b1a8d,_0xce5688);break;case _0x85b357[_0x2cc4ce(0x381)]:this['generativeAIContexts']['set'](_0x2b1a8d,_0xce5688);break;case _0x85b357['GenerativeAIWorkerStats']:this[_0x2cc4ce(0x216)][_0x2cc4ce(0x599)](_0x2b1a8d,_0xce5688);break;case _0x85b357['VectorDatabaseStats']:this['vectorDatabases'][_0x2cc4ce(0x599)](_0x2b1a8d,_0xce5688);break;case _0x85b357[_0x2cc4ce(0x4be)]:this[_0x2cc4ce(0x7e6)]['set'](_0x2b1a8d,_0xce5688);}}['registerSystemPublisher'](_0x55b7d4){const _0x1ad072=_0x13fde2;this[_0x1ad072(0x51a)]=_0x55b7d4;}['unregisterSystemPublisher'](){const _0x5d8454=_0x13fde2;delete this[_0x5d8454(0x51a)];}[_0x13fde2(0x7cf)](){const _0x188b81=_0x13fde2;return this[_0x188b81(0x2c9)]>0x0&&this[_0x188b81(0x2c9)]-_0x29c23c>0x0?(this['scheduleTime']-_0x29c23c)/_0x29c23c:0x0;}[_0x13fde2(0x256)](){const _0x2270c4=_0x13fde2;return this[_0x2270c4(0x527)]>0x0&&this[_0x2270c4(0x527)]-0x64>0x0?(this[_0x2270c4(0x527)]-0x64)/0x64:0x0;}[_0x13fde2(0x20a)](){const _0x4af07d=_0x13fde2;let _0x59ab2b=0x0;return this[_0x4af07d(0x704)][_0x4af07d(0x1ed)](_0x37ce7d=>{_0x59ab2b+=_0x37ce7d['senderBitrate'];}),_0x59ab2b;}[_0x13fde2(0x7d5)](){const _0x25e9f6=_0x13fde2;let _0x582031=0x0;return this[_0x25e9f6(0x704)][_0x25e9f6(0x1ed)](_0x5e7a98=>{_0x582031+=_0x5e7a98['receiverBitrate'];}),_0x582031;}[_0x13fde2(0x7dc)](){const _0x585fbd=_0x13fde2;let _0xf8e6d8=0x0;return this[_0x585fbd(0x704)][_0x585fbd(0x1ed)](_0x3b22ba=>{_0xf8e6d8+=_0x3b22ba['bitrate'];}),_0xf8e6d8;}[_0x13fde2(0x1cf)](_0x289bae){const _0x32f097=_0x13fde2;this[_0x32f097(0x2c9)]=_0x289bae;}[_0x13fde2(0x554)](_0x1a32fc){const _0x4e1157=_0x13fde2;this[_0x4e1157(0x527)]=_0x1a32fc;}[_0x13fde2(0x6bb)](_0x5c767c,_0x518c19){const _0x1e59f2=_0x13fde2;switch(_0x518c19[_0x1e59f2(0x852)]){case _0x4a7d10[_0x1e59f2(0x3a6)]:this[_0x1e59f2(0x286)](_0x5c767c,_0x518c19);break;case _0x4a7d10['Receiver']:this['processReceiverReport'](_0x5c767c,_0x518c19);}}['processSenderReport'](_0x1196a9,_0x238d29){const _0x206aa1=_0x13fde2;this[_0x206aa1(0x519)][_0x206aa1(0x599)](_0x1196a9,_0x238d29[_0x206aa1(0x502)]),this[_0x206aa1(0x817)][_0x206aa1(0x599)](_0x1196a9,_0x238d29['timeSending']);}[_0x13fde2(0x1aa)](_0x2b39bf,_0x6bacd2){const _0x51abbb=_0x13fde2;this[_0x51abbb(0x1e2)][_0x51abbb(0x599)](_0x2b39bf,_0x6bacd2['messagesReceived']),this[_0x51abbb(0x67a)]['set'](_0x2b39bf,_0x6bacd2[_0x51abbb(0x63a)]),this[_0x51abbb(0x422)][_0x51abbb(0x599)](_0x2b39bf,_0x6bacd2['systemMessages']);}}class _0x559847{[_0x13fde2(0x7b0)];[_0x13fde2(0x391)]=new Set();[_0x13fde2(0x2b9)];['statsCollection'];[_0x13fde2(0x5e8)];[_0x13fde2(0x6e5)]=new _0x58770d();constructor(_0x18f462){const _0x487028=_0x13fde2;this[_0x487028(0x7b0)]=_0x18f462,this[_0x487028(0x7b0)][_0x487028(0x628)][_0x487028(0x4a0)](this[_0x487028(0x6e5)]),this[_0x487028(0x7f2)]=this[_0x487028(0x427)](),this[_0x487028(0x5e8)]=this[_0x487028(0x44b)]();}[_0x13fde2(0x3df)](){const _0x5951b9=_0x13fde2;this[_0x5951b9(0x7b0)][_0x5951b9(0x628)][_0x5951b9(0x3b6)](this[_0x5951b9(0x6e5)]),this[_0x5951b9(0x5e8)](),this[_0x5951b9(0x7f2)]();}[_0x13fde2(0x80f)](_0x4b2bfd){const _0x12045a=_0x13fde2;this[_0x12045a(0x391)][_0x12045a(0x7bd)](_0x4b2bfd),this[_0x12045a(0x6e5)]['addRemoteNode'](_0x4b2bfd);}[_0x13fde2(0x5ef)](_0x50de2a){const _0x127815=_0x13fde2;this['remoteNodes'][_0x127815(0x6fd)](_0x50de2a),this['statsReport'][_0x127815(0x5ef)](_0x50de2a);}[_0x13fde2(0x507)](_0x598555){const _0x3aa425=_0x13fde2;if(_0x598555['content'][_0x3aa425(0x5bb)]===_0x4a44e8['Stats']){const {nodeId:_0x4410b9,streamId:_0xe7bc51,stats:_0x2aeb57}=_0x598555[_0x3aa425(0x6dd)];this[_0x3aa425(0x6e5)][_0x3aa425(0x2eb)](_0x4410b9,_0x2aeb57,_0xe7bc51);}}['handleContentSystemEvents'](_0x32ca05){const _0x5f3697=_0x13fde2;switch(_0x32ca05[_0x5f3697(0x6dd)]['type']){case _0x85b357[_0x5f3697(0x4f3)]:case _0x85b357['KeyValueDatabaseStats']:case _0x85b357['PubSubTopicStats']:case _0x85b357[_0x5f3697(0x381)]:case _0x85b357[_0x5f3697(0x33d)]:case _0x85b357[_0x5f3697(0x5ec)]:case _0x85b357[_0x5f3697(0x4be)]:this[_0x5f3697(0x6e5)][_0x5f3697(0x383)](_0x32ca05[_0x5f3697(0x6dd)][_0x5f3697(0x380)],_0x32ca05[_0x5f3697(0x6dd)]['type'],_0x32ca05[_0x5f3697(0x6dd)]['stats']);}}[_0x13fde2(0x44b)](){return _0x384e4f['setInterval'](()=>{const _0x13598f=a0_0x2ee0,_0x5729d7=this[_0x13598f(0x6e5)]['getReport']();_0x3d0f37[_0x13598f(0x6c1)](_0x2582bf[_0x13598f(0x4c0)],_0x13598f(0x6a8),_0x5729d7),(0x0,_0x5b71f3['addDoc'])((0x0,_0x5b71f3['collection'])(_0x2e0290[_0x13598f(0x85a)](),_0x13598f(0x424)+this[_0x13598f(0x7b0)][_0x13598f(0x1f3)]+_0x13598f(0x4a6)),{'clusterId':this[_0x13598f(0x7b0)][_0x13598f(0x89e)],'nodeId':this['configs']['localNode'][_0x13598f(0x677)](),'nodeType':this['configs'][_0x13598f(0x672)][_0x13598f(0x5bb)],'timestamp':(0x0,_0x5b71f3['serverTimestamp'])(),'report':_0x5729d7}),_0x3d0f37[_0x13598f(0x87a)]('stats',{'clusterId':this[_0x13598f(0x7b0)][_0x13598f(0x89e)],'nodeId':this[_0x13598f(0x7b0)][_0x13598f(0x672)][_0x13598f(0x677)](),'nodeType':this[_0x13598f(0x7b0)][_0x13598f(0x672)][_0x13598f(0x5bb)],'data':{'report':_0x5729d7}});},_0x57e2c6);}[_0x13fde2(0x427)](){const _0x3fe1b0=_0x13fde2;let _0x118a05=!0x1,_0x1c0df6=Date[_0x3fe1b0(0x321)]();return _0x384e4f[_0x3fe1b0(0x3ce)](async()=>{const _0x34557b=_0x3fe1b0;if(_0x118a05)return;if(_0x118a05=!0x0,0x0===this[_0x34557b(0x391)][_0x34557b(0x411)])return delete this[_0x34557b(0x2b9)],void(_0x118a05=!0x1);const _0x484e3b=Date[_0x34557b(0x321)]();this[_0x34557b(0x358)]();try{await this[_0x34557b(0x7b0)][_0x34557b(0x628)][_0x34557b(0x49d)](this['nextNodeId']);}catch(_0x276cee){}this[_0x34557b(0x6e5)][_0x34557b(0x4d7)]({'secheduleTime':_0x484e3b-_0x1c0df6,'durationTime':Date[_0x34557b(0x321)]()-_0x484e3b}),_0x1c0df6=_0x484e3b,_0x118a05=!0x1;},_0x29c23c);}[_0x13fde2(0x358)](){const _0x361d0c=_0x13fde2;let _0x1211ff,_0xe2b830=!0x1;this[_0x361d0c(0x2b9)]&&(this['remoteNodes'][_0x361d0c(0x7f7)](this['nextNodeId'])||delete this[_0x361d0c(0x2b9)]);for(const _0x4ee2d2 of this[_0x361d0c(0x391)])if(_0x1211ff||(_0x1211ff=_0x4ee2d2),this[_0x361d0c(0x2b9)]!==_0x4ee2d2){if(_0xe2b830)return void(this[_0x361d0c(0x2b9)]=_0x4ee2d2);}else _0xe2b830=!0x0,delete this['nextNodeId'];this[_0x361d0c(0x2b9)]||(this['nextNodeId']=_0x1211ff);}}class _0x5ae3a5{[_0x13fde2(0x26a)];[_0x13fde2(0x4eb)];[_0x13fde2(0x51a)];constructor(_0xa2b306,_0x2351f5){const _0x235149=_0x13fde2;this['source']=_0xa2b306,this[_0x235149(0x4eb)]=_0x2351f5;}['registerSystemPublisher'](_0x3a19f0){const _0x6e5f4e=_0x13fde2;this[_0x6e5f4e(0x51a)]=_0x3a19f0;}['unregisterSystemPublisher'](){const _0x22e37a=_0x13fde2;delete this[_0x22e37a(0x51a)];}}class _0x3e9f6b extends _0x5ae3a5{[_0x13fde2(0x26a)];[_0x13fde2(0x4eb)];[_0x13fde2(0x320)];constructor(_0x44a924,_0x1fa4b3,_0x499978){const _0x149ce6=_0x13fde2;super(_0x44a924,_0x1fa4b3),this['source']=_0x44a924,this[_0x149ce6(0x4eb)]=_0x1fa4b3,this[_0x149ce6(0x320)]=_0x499978;}['subscribe'](_0xe2a739,_0x79290e,_0x6f511b){const _0x4d9d84=_0x13fde2;if(this[_0x4d9d84(0x4eb)]['getContentType']()===_0x15de5e[_0x4d9d84(0x671)][_0x4d9d84(0x31b)]){const _0x3363b0={'type':_0x3cab81[_0x4d9d84(0x34f)],'label':this[_0x4d9d84(0x4eb)][_0x4d9d84(0x230)](),'ownerId':_0xe2a739,'trackKinds':_0x79290e??this['destination'][_0x4d9d84(0x4ff)](),'params':_0x6f511b};this[_0x4d9d84(0x51a)]['publish']({'sourceId':this[_0x4d9d84(0x26a)][_0x4d9d84(0x5a3)](),'destinationIds':[this[_0x4d9d84(0x26a)][_0x4d9d84(0x2fd)]()],'messageType':_0x1b694f[_0x4d9d84(0x5b1)],'content':_0x3363b0}),this[_0x4d9d84(0x320)]=_0x6f511b;}}[_0x13fde2(0x75e)](_0x244816,_0x3a6947){const _0xaaa3f0=_0x13fde2;if(this['destination'][_0xaaa3f0(0x1fe)]()===_0x15de5e[_0xaaa3f0(0x671)][_0xaaa3f0(0x31b)]){const _0x159483={'type':_0x3cab81[_0xaaa3f0(0x6b7)],'label':this[_0xaaa3f0(0x4eb)][_0xaaa3f0(0x230)](),'ownerId':_0x244816,'params':_0x3a6947};this[_0xaaa3f0(0x51a)][_0xaaa3f0(0x3c5)]({'sourceId':this[_0xaaa3f0(0x26a)][_0xaaa3f0(0x5a3)](),'destinationIds':[this[_0xaaa3f0(0x26a)]['getRemoteId']()],'messageType':_0x1b694f[_0xaaa3f0(0x5b1)],'content':_0x159483}),this[_0xaaa3f0(0x320)]=_0x3a6947;}}['unsubscribe'](_0x1c5326,_0x4ac0a8,_0x29e2ca){const _0x33ac36=_0x13fde2;if(this[_0x33ac36(0x4eb)][_0x33ac36(0x1fe)]()===_0x15de5e[_0x33ac36(0x671)][_0x33ac36(0x31b)]){const _0x2b5d18={'type':_0x3cab81[_0x33ac36(0x453)],'label':this[_0x33ac36(0x4eb)]['getLabel'](),'ownerId':_0x1c5326,'trackKinds':_0x29e2ca??this[_0x33ac36(0x4eb)][_0x33ac36(0x4ff)](),'remainingTracks':_0x4ac0a8};this[_0x33ac36(0x51a)][_0x33ac36(0x3c5)]({'sourceId':this['source'][_0x33ac36(0x5a3)](),'destinationIds':[this[_0x33ac36(0x26a)][_0x33ac36(0x2fd)]()],'messageType':_0x1b694f['Subscription'],'content':_0x2b5d18});}}}class _0x14b848{['currentDistance'];[_0x13fde2(0x757)];[_0x13fde2(0x3b2)];[_0x13fde2(0x51a)];['answers']=new Set();[_0x13fde2(0x5c7)]=Date[_0x13fde2(0x321)]();[_0x13fde2(0x320)];['retryCount']=0x0;constructor(_0x19d763,_0x5f384a,_0x485242,_0x1da406){this['currentDistance']=_0x5f384a,this['maxDistance']=_0x485242,this['tracks']=_0x1da406,_0x19d763['forEach'](_0x2aaddb=>{const _0xdd77d2=a0_0x2ee0;this[_0xdd77d2(0x640)]['add']({'nodeId':_0x2aaddb,'type':_0x34c9ea[_0xdd77d2(0x3cb)]});});}[_0x13fde2(0x646)](){const _0x5eae72=_0x13fde2;return this[_0x5eae72(0x3b2)];}[_0x13fde2(0x18b)](_0x12dcd2){const _0x3e950e=_0x13fde2;this[_0x3e950e(0x51a)]=_0x12dcd2;}[_0x13fde2(0x769)](){const _0x35cf56=_0x13fde2;delete this[_0x35cf56(0x51a)];}[_0x13fde2(0x416)](_0x288d14,_0x41335e){const _0x56667e=_0x13fde2;this['startTime']=Date[_0x56667e(0x321)](),this[_0x56667e(0x640)][_0x56667e(0x84d)](),_0x288d14[_0x56667e(0x1ed)](_0x10c41c=>{const _0x36ac9c=_0x56667e;this[_0x36ac9c(0x640)][_0x36ac9c(0x7bd)]({'nodeId':_0x10c41c,'type':_0x34c9ea[_0x36ac9c(0x3cb)]});}),this[_0x56667e(0x378)]+=0x1,this['currentDistance']=_0x41335e;}[_0x13fde2(0x5de)](_0x2deb64,_0x3acad6,_0x23dd46,_0x92d14e,_0x4cf62d){const _0x1505c9=_0x13fde2;if(this[_0x1505c9(0x378)]>0xa)throw new _0x46f718(_0x46f718[_0x1505c9(0x6b3)][_0x1505c9(0x879)],{'answers':Array[_0x1505c9(0x69c)](this[_0x1505c9(0x640)])[_0x1505c9(0x3d2)](_0x5a887d=>({'nodeId':_0x5a887d[_0x1505c9(0x6d4)],'type':_0x5a887d[_0x1505c9(0x5bb)]}))});const _0x5b4654=Array[_0x1505c9(0x69c)](this[_0x1505c9(0x640)])[_0x1505c9(0x3d2)](_0x5e4db9=>_0x5e4db9[_0x1505c9(0x6d4)]);this[_0x1505c9(0x320)]=_0x4cf62d,this[_0x1505c9(0x51a)][_0x1505c9(0x3c5)]({'sourceId':_0x2deb64,'destinationIds':_0x5b4654,'messageType':_0x1b694f[_0x1505c9(0x5b1)],'content':{'type':_0x3cab81[_0x1505c9(0x7fc)],'label':_0x23dd46,'ownerId':_0x3acad6,'trackKinds':_0x92d14e,'params':_0x4cf62d}}),_0x3d0f37[_0x1505c9(0x6c1)](_0x2582bf[_0x1505c9(0x5b1)],_0x1505c9(0x372),_0x2deb64,_0x5b4654);}[_0x13fde2(0x591)](_0x5abe86,_0x35c92f){const _0x263919=_0x13fde2;switch(_0x35c92f[_0x263919(0x5bb)]){case _0x3cab81[_0x263919(0x5d7)]:{const _0x12c4b2=this['currentDistance']>=_0x35c92f[_0x263919(0x741)]&&_0x35c92f[_0x263919(0x741)]<=this[_0x263919(0x757)],_0x3e42ea=Array[_0x263919(0x69c)](this[_0x263919(0x640)])[_0x263919(0x1a6)](_0x455c35=>_0x455c35['nodeId']===_0x5abe86);_0x3e42ea[_0x263919(0x5bb)]=_0x12c4b2?_0x34c9ea['Accepted']:_0x34c9ea[_0x263919(0x3d6)],_0x3e42ea[_0x263919(0x3e3)]=_0x35c92f[_0x263919(0x3e3)],_0x3e42ea[_0x263919(0x741)]=_0x35c92f[_0x263919(0x741)],_0x3e42ea[_0x263919(0x4af)]=_0x35c92f[_0x263919(0x4af)],_0x3e42ea['roundTripTime']=Date['now']()-this[_0x263919(0x5c7)],_0x3e42ea[_0x263919(0x320)]=this[_0x263919(0x320)],_0x3e42ea[_0x263919(0x5d4)]=_0x35c92f[_0x263919(0x5d4)],_0x3e42ea['trackKinds']=_0x35c92f[_0x263919(0x651)],_0x3e42ea[_0x263919(0x177)]=_0x35c92f['label'],_0x3d0f37['log'](_0x2582bf[_0x263919(0x5b1)],(_0x12c4b2?_0x263919(0x3f7):_0x263919(0x3d6))+_0x263919(0x1db),_0x3e42ea);break;}case _0x3cab81[_0x263919(0x23c)]:{const _0x23c92a=Array[_0x263919(0x69c)](this[_0x263919(0x640)])['find'](_0x1ad014=>_0x1ad014[_0x263919(0x6d4)]===_0x5abe86);_0x23c92a[_0x263919(0x5bb)]=_0x34c9ea[_0x263919(0x3d6)],_0x3d0f37[_0x263919(0x6c1)](_0x2582bf[_0x263919(0x5b1)],_0x263919(0x6d8),_0x23c92a);break;}}if(this[_0x263919(0x689)]())return this['chooseAnswer']();}[_0x13fde2(0x396)](){const _0x361d07=_0x13fde2,_0x396f12=Array[_0x361d07(0x69c)](this[_0x361d07(0x640)])[_0x361d07(0x559)](_0x1cfaed=>_0x1cfaed[_0x361d07(0x5bb)]===_0x34c9ea[_0x361d07(0x3f7)])['sort']((_0x2f2b55,_0x4ef5c5)=>_0x2f2b55[_0x361d07(0x3e3)]===_0x4ef5c5['cost']?_0x2f2b55['roundTripTime']-_0x4ef5c5['roundTripTime']:_0x2f2b55[_0x361d07(0x3e3)]-_0x4ef5c5['cost']);if(0x0===_0x396f12[_0x361d07(0x24c)])throw new _0x46f718(_0x46f718[_0x361d07(0x6b3)][_0x361d07(0x879)],{'answers':Array[_0x361d07(0x69c)](this[_0x361d07(0x640)])[_0x361d07(0x3d2)](_0x4b97bc=>({'nodeId':_0x4b97bc[_0x361d07(0x6d4)],'type':_0x4b97bc['type']}))});return _0x3d0f37[_0x361d07(0x6c1)](_0x2582bf['Subscription'],_0x361d07(0x70c),_0x396f12[0x0],this[_0x361d07(0x640)]),_0x396f12[0x0];}[_0x13fde2(0x689)](){const _0x3f1ec2=_0x13fde2;for(const _0x3bcc8c of this[_0x3f1ec2(0x640)])if(_0x3bcc8c['type']===_0x34c9ea[_0x3f1ec2(0x3cb)])return!0x1;return!0x0;}}class _0x27af08{[_0x13fde2(0x380)];[_0x13fde2(0x5bc)];[_0x13fde2(0x388)]=_0x223536();constructor(_0x38e080,_0x72f805){const _0xb2d182=_0x13fde2;this[_0xb2d182(0x380)]=_0x38e080,this[_0xb2d182(0x5bc)]=_0x72f805;}['getLabel'](){const _0x488741=_0x13fde2;return this[_0x488741(0x380)];}[_0x13fde2(0x1fe)](){const _0x85bbd1=_0x13fde2;return this[_0x85bbd1(0x5bc)];}['registerSource'](_0x16c51d){const _0x4993bb=_0x13fde2;_0x16c51d[_0x4993bb(0x76f)](this);}['registerDestination'](_0x576342){_0x576342['registerSubscriber'](this);}[_0x13fde2(0x3c5)](_0x195b30){const _0x397eef=_0x13fde2;this[_0x397eef(0x388)][_0x397eef(0x3c5)]({'topicLabel':this[_0x397eef(0x380)],'contentType':this[_0x397eef(0x5bc)],'uuid':(0x0,_0x1575cc['v4'])(),'recipients':[],..._0x195b30});}['subscribe'](_0x563b53){const _0x13c474=_0x13fde2;return this[_0x13c474(0x388)][_0x13c474(0x76e)](_0x563b53);}['unregisterSource'](_0x163794){const _0x2e7d14=_0x13fde2;_0x163794[_0x2e7d14(0x505)](this);}[_0x13fde2(0x414)](_0x2cd1d8){const _0x4ff9c9=_0x13fde2;_0x2cd1d8[_0x4ff9c9(0x89d)](this);}}class _0x379989{[_0x13fde2(0x87d)]={'topics':new Map(),'subscriptions':new Map()};[_0x13fde2(0x194)];constructor(_0x43357d){const _0x14914d=_0x13fde2;this[_0x14914d(0x194)]=_0x43357d;}get[_0x13fde2(0x294)](){const _0x361c2d=_0x13fde2;return this[_0x361c2d(0x87d)]['subscriptions'];}get['topics'](){const _0x47f43f=_0x13fde2;return this['maps'][_0x47f43f(0x4a5)];}[_0x13fde2(0x48d)](_0x1614ae,_0x10a416){const _0x52bad6=_0x13fde2,_0x5099e2=this[_0x52bad6(0x194)](_0x10a416),_0x4098b5=_0x5cc109(_0x1614ae);if(!_0x5099e2[_0x52bad6(0x516)])throw new _0x46f718(_0x46f718['codes'][_0x52bad6(0x2f4)],{'message':_0x4098b5+':\x20'+_0x5099e2['remoteId']+_0x52bad6(0x3f8)+_0x5099e2[_0x52bad6(0x5bc)],'subscriptionType':_0x1614ae,'subscription':_0x10a416,'subscriptonParts':_0x5099e2});const _0x192495=_0x202def(_0x1614ae,_0x5099e2);if(this[_0x52bad6(0x87d)][_0x52bad6(0x294)][_0x52bad6(0x7f7)](_0x192495))throw new _0x46f718(_0x46f718['codes'][_0x52bad6(0x2f4)],{'message':_0x4098b5+':\x20'+_0x192495+_0x52bad6(0x266),'subscriptionType':_0x1614ae,'subscription':_0x10a416,'subscriptonParts':_0x5099e2});this[_0x52bad6(0x87d)]['subscriptions'][_0x52bad6(0x599)](_0x192495,_0x10a416),this[_0x52bad6(0x715)](_0x5099e2,_0x10a416);}[_0x13fde2(0x52e)](_0x5d4a3d,_0xe0aead){const _0x39363f=_0x13fde2,_0x367613=_0x202def(_0xe0aead,_0x5d4a3d),_0x506ab4=this[_0x39363f(0x87d)][_0x39363f(0x294)]['get'](_0x367613);if(!_0x506ab4)throw new _0x46f718(_0x46f718[_0x39363f(0x6b3)][_0x39363f(0x2f4)],{'message':_0x5cc109(_0xe0aead)+':\x20'+_0x367613+_0x39363f(0x581),'subscriptionType':_0xe0aead,'subscription':_0x506ab4,'subscriptonParts':_0x5d4a3d});this[_0x39363f(0x7a0)](_0x506ab4,_0x367613,_0x5d4a3d);}[_0x13fde2(0x7a0)](_0x4501e8,_0x2adf7c,_0x528053){const _0x12e76a=_0x13fde2;_0x528053=_0x528053||this['getPartsFromSubscription'](_0x4501e8),this['maps'][_0x12e76a(0x294)]['delete'](_0x2adf7c),this['removeTopic'](_0x528053,_0x4501e8);}[_0x13fde2(0x715)](_0x5d40b9,{source:_0x3d19d4,destination:_0x55e422}){const _0x573e5c=_0x13fde2,{contentType:_0x4181fc,label:_0x4555a3,remoteId:_0x3b1fff}=_0x5d40b9,_0x1ada56=_0x192baa(_0x4181fc,_0x4555a3,_0x3b1fff),_0x145692=new _0x27af08(_0x1ada56,_0x4181fc);_0x145692[_0x573e5c(0x39b)](_0x3d19d4),_0x145692[_0x573e5c(0x66a)](_0x55e422),this[_0x573e5c(0x87d)][_0x573e5c(0x4a5)][_0x573e5c(0x599)](_0x145692[_0x573e5c(0x230)](),_0x145692);}['removeTopic'](_0x5aa96e,_0x354497){const _0x2e7ad1=_0x13fde2,{contentType:_0x10b7ac,label:_0x229929,remoteId:_0x1a6e59}=_0x5aa96e,_0x58bd82=_0x192baa(_0x10b7ac,_0x229929,_0x1a6e59),_0xa888d0=this['maps'][_0x2e7ad1(0x4a5)][_0x2e7ad1(0x556)](_0x58bd82);_0xa888d0&&(this['closeTopic'](_0xa888d0,_0x354497),this[_0x2e7ad1(0x87d)][_0x2e7ad1(0x4a5)]['delete'](_0x58bd82));}[_0x13fde2(0x6ce)](_0x12cf1c,{source:_0x23341c,destination:_0x3f56b1}){const _0x1368d3=_0x13fde2;_0x12cf1c[_0x1368d3(0x81f)](_0x23341c),_0x12cf1c[_0x1368d3(0x414)](_0x3f56b1);}[_0x13fde2(0x64e)](_0x460a2c){const _0x22d27f=_0x13fde2;this[_0x22d27f(0x87d)][_0x22d27f(0x294)][_0x22d27f(0x1ed)]((_0x1208a5,_0x178f4b)=>{const _0x48a057=_0x22d27f;_0x178f4b[_0x48a057(0x83c)](_0x460a2c)&&this[_0x48a057(0x7a0)](_0x1208a5,_0x178f4b);});}}class _0x3b4c6a{['configs'];[_0x13fde2(0x757)];[_0x13fde2(0x2cc)]=new Map();[_0x13fde2(0x2db)]=_0x3becc7(new _0x3b526c(this[_0x13fde2(0x5a4)][_0x13fde2(0x5d5)](this),()=>_0x384e4f[_0x13fde2(0x374)](0x64)),!0x0);[_0x13fde2(0x5fc)]=new Map();[_0x13fde2(0x87d)];[_0x13fde2(0x181)]=new Map();constructor(_0x39e84d,_0x375092){const _0x230228=_0x13fde2;this[_0x230228(0x7b0)]=_0x39e84d,this['maxDistance']=_0x375092,this[_0x230228(0x87d)]=new _0x379989(({source:_0x3f3010,destination:_0x340524})=>_0x1c0fe2(_0x340524,_0x3f3010));}['createSubscription'](_0x454903,_0x3327df){const _0x8971f=_0x13fde2,_0x4e1295=this[_0x8971f(0x5c4)](_0x454903)&&this[_0x8971f(0x39c)](_0x3327df)?new _0x3e9f6b(_0x454903,_0x3327df):new _0x5ae3a5(_0x454903,_0x3327df);this['maps']['createSubscription'](_0x34b234['Incoming'],_0x4e1295),this[_0x8971f(0x7b0)][_0x8971f(0x628)][_0x8971f(0x4a0)](_0x4e1295);}['removeSubscription'](_0x3bcc02,_0x198ce5,_0x19968c=''){const _0x1323e1=_0x13fde2,_0x49aff7={'contentType':_0x198ce5,'label':_0x3bcc02,'remoteId':_0x19968c},_0x3a064c=_0x202def(_0x34b234[_0x1323e1(0x6cb)],_0x49aff7),_0x4fb8aa=this[_0x1323e1(0x87d)][_0x1323e1(0x294)][_0x1323e1(0x556)](_0x3a064c);_0x4fb8aa&&this[_0x1323e1(0x7a0)](_0x4fb8aa,_0x3a064c);}[_0x13fde2(0x659)](_0xc2ce7e){const _0x2444d7=_0x13fde2;this[_0x2444d7(0x54e)](_0xc2ce7e);}[_0x13fde2(0x76c)]({label:_0x570b14,ownerId:_0x5a1d74,trackKinds:_0x47d52b,params:_0x3651b8}){const _0x567f9d=_0x13fde2;this[_0x567f9d(0x38b)](_0x570b14,_0x5a1d74,_0x47d52b,_0x3651b8);}[_0x13fde2(0x22d)]({ownerId:_0x1e7cdc,label:_0x4ba476,params:_0x40f0d1}){const _0x51d4f7=_0x13fde2,{subscriptionLabel:_0x16dc63}=this[_0x51d4f7(0x898)](_0x4ba476,_0x1e7cdc),_0x2800ae=this[_0x51d4f7(0x639)](_0x16dc63);_0x2800ae&&_0x2800ae[_0x51d4f7(0x75e)](_0x1e7cdc,_0x40f0d1);}[_0x13fde2(0x462)]({ownerId:_0xd19c63,label:_0x575185,trackKinds:_0x57765f,remainingTracks:_0x423d9c}){const _0x5f0669=_0x13fde2,_0x4d3401=_0x202def(_0x34b234['Incoming'],{'contentType':_0x15de5e[_0x5f0669(0x671)][_0x5f0669(0x31b)],'label':_0x575185,'remoteId':_0xd19c63});this[_0x5f0669(0x844)](_0x4d3401);const _0x1b6ae6=this['subscriptionRequests'][_0x5f0669(0x556)](_0x4d3401);_0x1b6ae6&&(this[_0x5f0669(0x7b0)][_0x5f0669(0x628)]['unregisterSystemSource'](_0x1b6ae6),this[_0x5f0669(0x2cc)][_0x5f0669(0x6fd)](_0x4d3401));const {parts:_0x24db19,subscriptionLabel:_0x40d8b5}=this[_0x5f0669(0x898)](_0x575185,_0xd19c63),_0x364205=this[_0x5f0669(0x639)](_0x40d8b5);_0x364205&&(_0x364205[_0x5f0669(0x250)](_0xd19c63,_0x423d9c,_0x57765f),0x0===_0x423d9c&&this['removeSubscription'](_0x24db19['label'],_0x24db19[_0x5f0669(0x5bc)],_0x24db19['remoteId']));}[_0x13fde2(0x3f1)](_0x4880b9,{label:_0x3f9cd3,ownerId:_0x5c86d4,trackKinds:_0x2d89ee,streamId:_0x405c8e,params:_0x26720e}){const _0x2ad072=_0x13fde2,_0x82cdad=_0x202def(_0x34b234[_0x2ad072(0x6cb)],{'contentType':_0x15de5e['ContentType'][_0x2ad072(0x31b)],'label':_0x405c8e,'remoteId':_0x4880b9}),_0xb249c2=this[_0x2ad072(0x87d)][_0x2ad072(0x294)][_0x2ad072(0x556)](_0x82cdad);if(!(_0xb249c2&&_0xb249c2 instanceof _0x3e9f6b))throw new _0x46f718(_0x46f718[_0x2ad072(0x6b3)][_0x2ad072(0x25f)],{'label':_0x82cdad,'ownerId':_0x5c86d4});this[_0x2ad072(0x7a0)](_0xb249c2,_0x82cdad),this[_0x2ad072(0x38b)](_0x3f9cd3,_0x5c86d4,_0x2d89ee,_0x26720e);}[_0x13fde2(0x270)](_0x36ccf4,_0x1345ed){const _0x2f6378=_0x13fde2,{label:_0x363c22,ownerId:_0x5e4fb2,trackKinds:_0x244ab1,params:_0x321038}=_0x1345ed,_0xf5d7af=_0x202def(_0x34b234[_0x2f6378(0x6cb)],{'contentType':_0x15de5e[_0x2f6378(0x671)][_0x2f6378(0x31b)],'label':_0x363c22,'remoteId':_0x5e4fb2});if(!this[_0x2f6378(0x2cc)][_0x2f6378(0x7f7)](_0xf5d7af))throw new _0x46f718(_0x46f718[_0x2f6378(0x6b3)][_0x2f6378(0x25f)],{'label':_0xf5d7af,'ownerId':_0x5e4fb2,'streamId':_0x1345ed[_0x2f6378(0x4af)],'requests':this[_0x2f6378(0x2cc)]});const _0x36d872=this[_0x2f6378(0x2cc)][_0x2f6378(0x556)](_0xf5d7af);if(_0x244ab1[_0x2f6378(0x24c)]===_0x36d872[_0x2f6378(0x646)]()[_0x2f6378(0x24c)]&&_0x244ab1[_0x2f6378(0x7d4)](_0x1794c9=>_0x36d872[_0x2f6378(0x646)]()['includes'](_0x1794c9)))try{const _0x286766=_0x36d872[_0x2f6378(0x591)](_0x36ccf4,_0x1345ed);if(!_0x286766)return;this[_0x2f6378(0x76e)](_0x286766,_0x5e4fb2,_0x363c22,_0xf5d7af,_0x244ab1);}catch(_0x1101fe){return void this['handleNoAnswer'](_0x363c22,_0x5e4fb2,_0x244ab1,_0x321038);}}[_0x13fde2(0x7ed)](_0x5e8241,{label:_0x1f97e4,ownerId:_0x3087dd,trackKinds:_0x5abc89}){const _0x5e6248=_0x13fde2,_0x3df5c4=this[_0x5e6248(0x7b0)][_0x5e6248(0x628)]['getRemoteMediaStream'](_0x3087dd,_0x1f97e4);if(!_0x3df5c4)return;const _0x4dd4e2=_0x3df5c4[_0x5e6248(0x406)](),_0x2b0f9f=_0x3df5c4[_0x5e6248(0x190)]();_0x2b0f9f[_0x5e6248(0x5dd)](_0x3c565e=>_0x5abc89['includes'](_0x3c565e))&&this[_0x5e6248(0x1fc)](_0x5e8241,_0x1f97e4,_0x4dd4e2,_0x3087dd,_0x2b0f9f);}[_0x13fde2(0x710)]({label:_0x189a41,providerId:_0x265908,ownerId:_0x35aaf5,streamId:_0x38b766,trackKinds:_0x130481}){const _0x27c7ad=_0x13fde2;this[_0x27c7ad(0x1fc)](_0x265908,_0x189a41,_0x38b766,_0x35aaf5,_0x130481);}[_0x13fde2(0x6bd)](_0x358366){const _0x485d82=_0x13fde2;for(const _0x2cabc3 of this['chosenAnswers'][_0x485d82(0x45b)]()){const {streamLabel:_0x37458f,ownerId:_0x56c408,trackKinds:_0x5e019f,params:_0x4c650c}=_0x2cabc3;if(!_0x56c408||!_0x5e019f||!_0x37458f)return;this[_0x485d82(0x2db)][_0x485d82(0x875)]({'label':_0x37458f,'ownerId':_0x56c408,'trackKinds':_0x5e019f,'params':_0x4c650c,'remoteId':_0x358366});}}[_0x13fde2(0x64e)](_0xd134e3){const _0x2fb951=_0x13fde2;this[_0x2fb951(0x87d)][_0x2fb951(0x294)]['forEach']((_0x5144c9,_0x4100fa)=>{const _0x256a66=_0x2fb951;if(_0x4100fa[_0x256a66(0x83c)](_0xd134e3)){if(_0x5144c9[_0x256a66(0x4eb)][_0x256a66(0x1fe)]()===_0x15de5e[_0x256a66(0x671)][_0x256a66(0x31b)]){const _0x5a93c2=_0x5144c9[_0x256a66(0x4eb)];if(_0x5a93c2[_0x256a66(0x190)]()[_0x256a66(0x24c)]>0x0){const _0x581d0a={'type':_0x3cab81['MediaStreamUnavailable'],'label':_0x5a93c2['getLabel'](),'ownerId':_0x5a93c2['getOwnerId'](),'trackKinds':_0x5a93c2['getSubscribedTracks']()};return void this['handleSubscriptionMediaStreamUnavailable'](_0xd134e3,_0x581d0a);}}this[_0x256a66(0x7a0)](_0x5144c9,_0x4100fa);}});}['close'](){const _0x24142d=_0x13fde2;this[_0x24142d(0x87d)][_0x24142d(0x294)][_0x24142d(0x1ed)](this['closeSubscription'][_0x24142d(0x5d5)](this));}['subscribe'](_0x15eb85,_0x3b9462,_0x3478be,_0x1d763b,_0x5a3601){const _0x6d17d2=_0x13fde2,_0x3d37e5=this[_0x6d17d2(0x7b0)][_0x6d17d2(0x628)][_0x6d17d2(0x7c7)](_0x15eb85[_0x6d17d2(0x6d4)]),_0x26ced3=this[_0x6d17d2(0x7b0)]['mediator']['getRemoteMediaStream'](_0x3b9462,_0x3478be);this['clearSubscriptionRequestTimeout'](_0x1d763b),this[_0x6d17d2(0x2cc)][_0x6d17d2(0x7f7)](_0x1d763b)&&(this[_0x6d17d2(0x7b0)]['mediator'][_0x6d17d2(0x3b6)](this['subscriptionRequests'][_0x6d17d2(0x556)](_0x1d763b)),this[_0x6d17d2(0x2cc)][_0x6d17d2(0x6fd)](_0x1d763b)),this[_0x6d17d2(0x1b0)](_0x15eb85,_0x3b9462,_0x3478be,_0x26ced3),_0x26ced3[_0x6d17d2(0x3c2)](_0x15eb85['streamId']),_0x26ced3[_0x6d17d2(0x80d)](_0x15eb85[_0x6d17d2(0x6d4)]);const _0x5afcdf=_0x1c0fe2(_0x26ced3,_0x3d37e5),_0xe26fd3=_0x202def(_0x34b234[_0x6d17d2(0x6cb)],_0x5afcdf);this[_0x6d17d2(0x87d)][_0x6d17d2(0x294)][_0x6d17d2(0x7f7)](_0xe26fd3)||this['createSubscription'](_0x3d37e5,_0x26ced3);const _0x41c77c=this[_0x6d17d2(0x87d)][_0x6d17d2(0x294)][_0x6d17d2(0x556)](_0xe26fd3);if(!(_0x41c77c&&_0x41c77c instanceof _0x3e9f6b))throw new _0x46f718(_0x46f718[_0x6d17d2(0x6b3)]['SubscriptionRequestDoesNotExist'],{'label':_0x1d763b,'ownerId':_0x3b9462});_0x3d0f37[_0x6d17d2(0x87a)]('subscription',{'clusterId':this[_0x6d17d2(0x7b0)]['clusterId'],'nodeId':this['configs']['localNode'][_0x6d17d2(0x677)](),'nodeType':this[_0x6d17d2(0x7b0)][_0x6d17d2(0x672)][_0x6d17d2(0x5bb)],'data':{'subscriptionLabel':_0xe26fd3,'chosenAnswer':_0x15eb85}}),this[_0x6d17d2(0x181)][_0x6d17d2(0x599)](_0xe26fd3,_0x15eb85),_0x41c77c[_0x6d17d2(0x76e)](_0x3b9462,_0x5a3601,_0x15eb85[_0x6d17d2(0x320)]);}[_0x13fde2(0x54e)]({ownerId:_0x52e1f2,label:_0x38e5a2}){const _0x376edb=_0x13fde2,_0x347adf=this[_0x376edb(0x7b0)][_0x376edb(0x628)]['getRemoteMediaStream'](_0x52e1f2,_0x38e5a2),[_0x14b6f6,_0x2508a0]=Array[_0x376edb(0x69c)](this['maps'][_0x376edb(0x294)][_0x376edb(0x78d)]())[_0x376edb(0x1a6)](([_0x2002c2,_0xbe2354])=>-0x1!==_0x2002c2[_0x376edb(0x4e7)](_0x347adf[_0x376edb(0x406)]()));return this[_0x376edb(0x7a0)](_0x2508a0,_0x14b6f6);}[_0x13fde2(0x7a0)](_0x3d770d,_0x4c5961){const _0xfcb8aa=_0x13fde2;this[_0xfcb8aa(0x7b0)][_0xfcb8aa(0x628)][_0xfcb8aa(0x3b6)](_0x3d770d),this[_0xfcb8aa(0x87d)]['closeSubscription'](_0x3d770d,_0x4c5961);}['isMediaSource'](_0x370797){const _0x455ab7=_0x13fde2;return _0x370797[_0x455ab7(0x574)]()[_0x455ab7(0x563)](_0x15de5e[_0x455ab7(0x671)][_0x455ab7(0x31b)]);}[_0x13fde2(0x39c)](_0x42fc0e){const _0x5f1ad4=_0x13fde2;return _0x42fc0e['getContentType']()===_0x15de5e['ContentType'][_0x5f1ad4(0x31b)];}async[_0x13fde2(0x2b3)](_0x47be61,_0x4b7097,_0x4fe9f9,_0x43a33a){const _0x2914f2=_0x13fde2;await _0x384e4f['wait'](0x3e8);const _0x1860d8=_0x202def(_0x34b234['Incoming'],{'contentType':_0x15de5e[_0x2914f2(0x671)][_0x2914f2(0x31b)],'label':_0x47be61,'remoteId':_0x4b7097});this['clearSubscriptionRequestTimeout'](_0x1860d8);const _0x55c56c=this[_0x2914f2(0x2cc)][_0x2914f2(0x556)](_0x1860d8);if(!_0x55c56c)throw new _0x46f718(_0x46f718[_0x2914f2(0x6b3)][_0x2914f2(0x25f)],{'label':_0x1860d8,'ownerId':_0x4b7097});const _0x390f4e=this[_0x2914f2(0x7b0)][_0x2914f2(0x628)][_0x2914f2(0x6c0)](_0x4cbee7=>_0x4cbee7[_0x2914f2(0x338)]()),_0x41d2e6=this[_0x2914f2(0x7b0)]['mediator'][_0x2914f2(0x86d)](this['configs'][_0x2914f2(0x672)][_0x2914f2(0x677)](),_0x4b7097);_0x55c56c['reset'](_0x390f4e[_0x2914f2(0x3d2)](_0x102590=>_0x102590[_0x2914f2(0x2fd)]()),_0x41d2e6);try{_0x55c56c[_0x2914f2(0x5de)](this[_0x2914f2(0x7b0)][_0x2914f2(0x672)][_0x2914f2(0x677)](),_0x4b7097,_0x47be61,_0x4fe9f9,_0x43a33a),this[_0x2914f2(0x1de)](_0x47be61,_0x4b7097,_0x4fe9f9,_0x43a33a,_0x1860d8,_0x55c56c);}catch(_0x29b37e){this['subscriptionRequestsQueue'][_0x2914f2(0x875)]({'label':_0x47be61,'ownerId':_0x4b7097,'trackKinds':_0x4fe9f9,'params':_0x43a33a});}}[_0x13fde2(0x38b)](_0x2666e1,_0x28d3cd,_0x48b965,_0x5bd7b7){const _0x152084=_0x13fde2;this[_0x152084(0x2db)]['push']({'label':_0x2666e1,'ownerId':_0x28d3cd,'trackKinds':_0x48b965,'params':_0x5bd7b7});}['requestSubscriptionAction']({label:_0x287ab7,ownerId:_0x2d5a05,trackKinds:_0x11b37f,params:_0x2cf75b,remoteId:_0x2bd0e8}){const _0x16459d=_0x13fde2;if(!this[_0x16459d(0x7b0)][_0x16459d(0x628)][_0x16459d(0x3c8)](_0x2d5a05,_0x287ab7))return;if(!this['configs'][_0x16459d(0x628)][_0x16459d(0x69d)]()[_0x16459d(0x83e)]())throw new Error(_0x16459d(0x3a5));if(_0x2bd0e8){const _0x1a9194=this[_0x16459d(0x7b0)][_0x16459d(0x628)][_0x16459d(0x521)]()[_0x16459d(0x1a6)](_0x1231f1=>_0x1231f1[_0x16459d(0x677)]()===_0x2bd0e8),_0x48e1c8=_0x1a9194?.['getRank']();if(!_0x1a9194||!_0x48e1c8)throw new Error('Missing\x20remote\x20node\x20or\x20rank');const _0x39e1a7=this[_0x16459d(0x7b0)][_0x16459d(0x628)]['getRemoteNodes']()[_0x16459d(0x1a6)](_0x855c84=>_0x855c84['getId']()===_0x2d5a05),_0x3bc992=_0x39e1a7?.['getRank']();if(!_0x39e1a7||!_0x3bc992)throw new Error(_0x16459d(0x43d));const _0x45c8a5=this['chosenAnswers'][_0x16459d(0x556)](_0x287ab7);if(_0x45c8a5){const _0x492121=this[_0x16459d(0x7b0)][_0x16459d(0x628)][_0x16459d(0x521)]()['find'](_0x5cf956=>_0x5cf956[_0x16459d(0x677)]()===_0x45c8a5['nodeId']),_0x398ff4=_0x492121?.[_0x16459d(0x83e)]();if(!_0x492121||!_0x398ff4)throw new Error(_0x16459d(0x197));if(Math[_0x16459d(0x3f2)](_0x398ff4-_0x3bc992)<Math['abs'](_0x48e1c8-_0x3bc992))return;}}const _0x4ac4ae=this[_0x16459d(0x7b0)][_0x16459d(0x628)][_0x16459d(0x6c0)](_0x2d6cb8=>_0x2d6cb8[_0x16459d(0x338)]()&&(!_0x2bd0e8||_0x2d6cb8[_0x16459d(0x2fd)]()===_0x2bd0e8));if(!_0x4ac4ae[_0x16459d(0x24c)]||0x0===_0x4ac4ae[_0x16459d(0x24c)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x42d649=this['configs']['mediator'][_0x16459d(0x86d)](this[_0x16459d(0x7b0)][_0x16459d(0x672)][_0x16459d(0x677)](),_0x2d5a05),_0x22cf88=_0x202def(_0x34b234[_0x16459d(0x6cb)],{'contentType':_0x15de5e['ContentType'][_0x16459d(0x31b)],'label':_0x287ab7,'remoteId':_0x2d5a05});if(this[_0x16459d(0x2cc)][_0x16459d(0x7f7)](_0x22cf88)){if(_0x2bd0e8)throw new Error(_0x16459d(0x1a1));const _0x3d3d26=this[_0x16459d(0x2cc)][_0x16459d(0x556)](_0x22cf88)[_0x16459d(0x646)]();if(_0x3d3d26[_0x16459d(0x24c)]===_0x11b37f[_0x16459d(0x24c)]&&_0x3d3d26[_0x16459d(0x7d4)](_0x556b35=>_0x11b37f['includes'](_0x556b35)))return;this[_0x16459d(0x7b0)][_0x16459d(0x628)][_0x16459d(0x3b6)](this[_0x16459d(0x2cc)][_0x16459d(0x556)](_0x22cf88)),this[_0x16459d(0x2cc)]['delete'](_0x22cf88),_0x11b37f=Array[_0x16459d(0x69c)](new Set(_0x11b37f[_0x16459d(0x4c3)](_0x3d3d26))),this[_0x16459d(0x844)](_0x22cf88);}const _0x6c777f=new _0x14b848(_0x4ac4ae[_0x16459d(0x3d2)](_0x251064=>_0x251064[_0x16459d(0x2fd)]()),_0x42d649,this[_0x16459d(0x757)],_0x11b37f);this['configs']['mediator'][_0x16459d(0x4a0)](_0x6c777f),this[_0x16459d(0x2cc)]['set'](_0x22cf88,_0x6c777f),_0x6c777f['sendRequest'](this[_0x16459d(0x7b0)]['localNode']['getId'](),_0x2d5a05,_0x287ab7,_0x11b37f,_0x2cf75b),this[_0x16459d(0x1de)](_0x287ab7,_0x2d5a05,_0x11b37f,_0x2cf75b,_0x22cf88,_0x6c777f);}[_0x13fde2(0x844)](_0x4e2c3d){const _0x57d6ef=_0x13fde2;this[_0x57d6ef(0x5fc)]['has'](_0x4e2c3d)&&(clearTimeout(this[_0x57d6ef(0x5fc)]['get'](_0x4e2c3d)),this['subscriptionRequestTimeouts'][_0x57d6ef(0x6fd)](_0x4e2c3d));}['setSubscriptionRequestTimeout'](_0x1c70d5,_0x313bdd,_0x343403,_0x3811da,_0xd02ef1,_0x373596){const _0x9e3a06=_0x13fde2;this[_0x9e3a06(0x844)](_0xd02ef1),this['subscriptionRequestTimeouts'][_0x9e3a06(0x599)](_0xd02ef1,setTimeout(()=>{const _0x1d4ec1=_0x9e3a06;this[_0x1d4ec1(0x5fc)][_0x1d4ec1(0x6fd)](_0xd02ef1);try{const _0x19c7ac=_0x373596['chooseAnswer']();this[_0x1d4ec1(0x76e)](_0x19c7ac,_0x313bdd,_0x1c70d5,_0xd02ef1,_0x343403);}catch(_0x421e40){this[_0x1d4ec1(0x2b3)](_0x1c70d5,_0x313bdd,_0x343403,_0x3811da);}},0x7d0));}[_0x13fde2(0x1fc)](_0x76ed9d,_0xb7e497,_0x3d6c58,_0x451a75,_0x3c0b0b){const _0x31a704=_0x13fde2,{subscriptionLabel:_0x18b2f3}=this[_0x31a704(0x898)](_0xb7e497,_0x451a75),_0x9f3220=this[_0x31a704(0x639)](_0x18b2f3),_0x96ac00=_0x9f3220?.['params'];_0x9f3220&&(_0x9f3220[_0x31a704(0x250)](_0x451a75,0x0),this[_0x31a704(0x52e)](_0x3d6c58,_0x15de5e[_0x31a704(0x671)]['Media'],_0x76ed9d)),this[_0x31a704(0x38b)](_0xb7e497,_0x451a75,_0x3c0b0b,_0x96ac00);}[_0x13fde2(0x639)](_0x57ef09){const _0x30a9c1=_0x13fde2,_0x5679ed=this['maps']['subscriptions'][_0x30a9c1(0x556)](_0x57ef09);if(_0x5679ed){if(!(_0x5679ed instanceof _0x3e9f6b))throw new _0x46f718(_0x46f718[_0x30a9c1(0x6b3)][_0x30a9c1(0x2f4)],{'label':_0x57ef09,'subscription':_0x5679ed});return _0x5679ed;}}['getSubscriptionLabel'](_0x535f79,_0x3a1a23){const _0x544619=_0x13fde2,_0x206649=this[_0x544619(0x50c)](_0x535f79,_0x3a1a23);return{'parts':_0x206649,'subscriptionLabel':_0x202def(_0x34b234[_0x544619(0x6cb)],_0x206649)};}['getPartsForSubscriptionLabel'](_0x5658d5,_0x146ef9){const _0x2266ab=_0x13fde2,_0x339190=this[_0x2266ab(0x7b0)][_0x2266ab(0x628)]['getRemoteMediaStream'](_0x146ef9,_0x5658d5),_0x44599b=_0x339190[_0x2266ab(0x238)]();if(!_0x44599b)throw new _0x46f718(_0x46f718[_0x2266ab(0x6b3)]['RemoteMediaStreamMissingProviderId'],{'label':_0x5658d5,'streamId':_0x339190[_0x2266ab(0x406)](),'ownerId':_0x146ef9,'localId':this[_0x2266ab(0x7b0)][_0x2266ab(0x672)][_0x2266ab(0x677)]()});return{'contentType':_0x15de5e[_0x2266ab(0x671)][_0x2266ab(0x31b)],'label':_0x339190[_0x2266ab(0x406)](),'remoteId':_0x44599b};}[_0x13fde2(0x1b0)](_0x7a68b9,_0x56f11d,_0x5e06be,_0x1ace53){const _0x599d5d=_0x13fde2,_0x91926b=_0x1ace53[_0x599d5d(0x238)]();if(_0x91926b&&_0x91926b!==_0x7a68b9[_0x599d5d(0x6d4)]){const {parts:_0x3a27e3,subscriptionLabel:_0x574396}=this[_0x599d5d(0x898)](_0x5e06be,_0x56f11d),_0x5680a0=this['getMediaSubscription'](_0x574396);_0x5680a0&&(_0x5680a0[_0x599d5d(0x250)](_0x56f11d,0x0),this[_0x599d5d(0x52e)](_0x3a27e3[_0x599d5d(0x380)],_0x3a27e3[_0x599d5d(0x5bc)],_0x3a27e3[_0x599d5d(0x2d2)]));}}}class _0x4ff803{[_0x13fde2(0x7b0)];[_0x13fde2(0x40b)];[_0x13fde2(0x87d)];constructor(_0x2d1796,_0x300d51){const _0x5f0bc7=_0x13fde2;this[_0x5f0bc7(0x7b0)]=_0x2d1796,this[_0x5f0bc7(0x40b)]=_0x300d51,this[_0x5f0bc7(0x87d)]=new _0x379989(({source:_0x456f2e,destination:_0x5557df})=>_0x1c0fe2(_0x456f2e,_0x5557df));}[_0x13fde2(0x48d)](_0x33d880,_0xda7ad){const _0x3b3cc7=_0x13fde2,_0x4228c6={'source':_0x33d880,'destination':_0xda7ad};this[_0x3b3cc7(0x87d)][_0x3b3cc7(0x48d)](_0x34b234[_0x3b3cc7(0x4b0)],_0x4228c6);}[_0x13fde2(0x52e)](_0x187761,_0xb0304d,_0x959642=''){const _0x33d9d6=_0x13fde2,_0x2c629f={'contentType':_0xb0304d,'label':_0x187761,'remoteId':_0x959642};this[_0x33d9d6(0x87d)][_0x33d9d6(0x52e)](_0x2c629f,_0x34b234['Outgoing']);}[_0x13fde2(0x818)](_0x29580d,_0x5accae){const _0x5377f2=_0x13fde2;let _0x19d25d;_0x19d25d=_0x5accae['ownerId']!==this[_0x5377f2(0x7b0)]['localNode'][_0x5377f2(0x677)]()?this[_0x5377f2(0x7b0)][_0x5377f2(0x628)][_0x5377f2(0x3c8)](_0x5accae[_0x5377f2(0x5d4)],_0x5accae[_0x5377f2(0x380)]):this[_0x5377f2(0x7b0)][_0x5377f2(0x628)]['getLocalMediaStream'](_0x5accae['label']);const _0x26e420=_0x202def(_0x34b234[_0x5377f2(0x4b0)],{'contentType':_0x15de5e[_0x5377f2(0x671)][_0x5377f2(0x31b)],'label':_0x19d25d[_0x5377f2(0x1da)](),'remoteId':_0x29580d}),_0x27f2dd=this[_0x5377f2(0x429)]();if(!this[_0x5377f2(0x87d)][_0x5377f2(0x294)][_0x5377f2(0x7f7)](_0x26e420)&&_0x27f2dd>=this[_0x5377f2(0x40b)])return{'type':_0x3cab81['RestartNeedMediaStream'],'ownerId':_0x5accae[_0x5377f2(0x5d4)],'label':_0x5accae[_0x5377f2(0x380)],'streamId':_0x19d25d[_0x5377f2(0x1da)](),'trackKinds':_0x5accae['trackKinds'],'params':_0x5accae['params']};_0x19d25d instanceof _0x749abd&&!_0x19d25d[_0x5377f2(0x3dc)](_0x5accae['trackKinds'])&&_0x19d25d[_0x5377f2(0x76e)](_0x5accae['params']),this[_0x5377f2(0x87d)][_0x5377f2(0x294)][_0x5377f2(0x7f7)](_0x26e420)||this[_0x5377f2(0x48d)](_0x19d25d['getShareableStream'](_0x29580d),this[_0x5377f2(0x7b0)][_0x5377f2(0x628)][_0x5377f2(0x7c7)](_0x29580d));}[_0x13fde2(0x1a7)](_0xa44677,{label:_0x4fe465,ownerId:_0x58da37,remainingTracks:_0x38362b}){const _0x1081eb=_0x13fde2;if(_0x38362b>0x0)return;let _0x12b3f5;_0x12b3f5=_0x58da37!==this['configs'][_0x1081eb(0x672)][_0x1081eb(0x677)]()?this[_0x1081eb(0x7b0)][_0x1081eb(0x628)]['getRemoteMediaStream'](_0x58da37,_0x4fe465):this[_0x1081eb(0x7b0)][_0x1081eb(0x628)][_0x1081eb(0x5be)](_0x4fe465);const _0x10eb44=_0x12b3f5[_0x1081eb(0x1da)](),_0x13fd60=_0x15de5e['ContentType'][_0x1081eb(0x31b)];this[_0x1081eb(0x52e)](_0x10eb44,_0x13fd60,_0xa44677);}[_0x13fde2(0x462)](_0x419445,{label:_0x3bad35,ownerId:_0x599ebc,trackKinds:_0x524673}){const _0x2a9b3f=_0x13fde2;if(_0x419445!==_0x2de6c6)return[];let _0x46a514=[];for(const _0x28204e of this[_0x2a9b3f(0x87d)][_0x2a9b3f(0x294)]){const {source:_0x8b25bb,destination:_0x147a48}=_0x28204e[0x1];_0x8b25bb[_0x2a9b3f(0x230)]()===_0x3bad35&&_0x8b25bb['getOwnerId']()===_0x599ebc&&_0x46a514['push']({'sourceId':this[_0x2a9b3f(0x7b0)][_0x2a9b3f(0x672)][_0x2a9b3f(0x677)](),'destinationIds':[_0x147a48[_0x2a9b3f(0x2fd)]()],'messageType':_0x1b694f[_0x2a9b3f(0x5b1)],'content':{'type':_0x3cab81[_0x2a9b3f(0x217)],'label':_0x3bad35,'ownerId':_0x599ebc,'trackKinds':_0x524673}});}return _0x46a514;}['handleSubscriptionNeedMediaStream'](_0x2d0947,_0x590e4b){const _0x133698=_0x13fde2,{label:_0x4eb331,ownerId:_0x598e9e,trackKinds:_0x2834d8,params:_0x113e48}=_0x590e4b,{hasTracks:_0xf629d7,streamId:_0x39a336,hasResolution:_0x199deb,distance:_0x292ca3,subscriptionLabel:_0x253f66}=this[_0x133698(0x518)](_0x2d0947,_0x590e4b);let _0x5a24b4=this['getNumberOutgoingSubscriptions']()<this['maxOutgoingSubscriptions']&&(_0xf629d7||_0x292ca3>-0x1)?_0x3cab81[_0x133698(0x5d7)]:_0x3cab81[_0x133698(0x23c)];const _0x33f493=_0x292ca3<0x0?0xa:_0x292ca3;let _0x2ffbc7=_0xf629d7?_0x199deb?_0x33f493:_0x33f493+0x0:_0x33f493+0xa;return _0x253f66&&this[_0x133698(0x87d)][_0x133698(0x294)]['has'](_0x253f66)&&(_0xf629d7&&(_0x2ffbc7=0x0),_0x5a24b4=_0x3cab81[_0x133698(0x5d7)]),{'type':_0x5a24b4,'cost':_0x2ffbc7,'distance':_0x292ca3,'label':_0x4eb331,'ownerId':_0x598e9e,'streamId':_0x39a336,'trackKinds':_0x2834d8,'params':_0x113e48};}[_0x13fde2(0x659)](_0x23edeb){const _0xcbe0a1=_0x13fde2,{label:_0x16b2f8,ownerId:_0x50cea9}=_0x23edeb,_0x56d78c=this[_0xcbe0a1(0x7b0)]['mediator'][_0xcbe0a1(0x3c8)](_0x50cea9,_0x16b2f8);this[_0xcbe0a1(0x87d)][_0xcbe0a1(0x294)]['forEach'](_0x46ab56=>{const _0x4142c2=_0xcbe0a1;if(_0x46ab56['source'][_0x4142c2(0x406)]()===_0x56d78c[_0x4142c2(0x1da)]()){const _0x4e1e1b=_0x46ab56[_0x4142c2(0x4eb)];this['removeSubscription'](_0x56d78c[_0x4142c2(0x1da)](),_0x15de5e[_0x4142c2(0x671)]['Media'],_0x4e1e1b[_0x4142c2(0x2fd)]());}});}[_0x13fde2(0x590)]({label:_0x572be3}){const _0x204414=_0x13fde2,_0x1d6282=this['configs'][_0x204414(0x628)][_0x204414(0x5be)](_0x572be3);this[_0x204414(0x87d)][_0x204414(0x294)]['forEach'](_0x5ceb61=>{const _0x72bc02=_0x204414;if(_0x5ceb61['source'][_0x72bc02(0x406)]()===_0x1d6282[_0x72bc02(0x1da)]()){const _0x46546f=_0x5ceb61[_0x72bc02(0x4eb)];this[_0x72bc02(0x52e)](_0x1d6282['getShareableStreamId'](),_0x15de5e[_0x72bc02(0x671)][_0x72bc02(0x31b)],_0x46546f[_0x72bc02(0x2fd)]());}});}[_0x13fde2(0x64e)](_0x1ac03b){const _0x547089=_0x13fde2;this[_0x547089(0x87d)][_0x547089(0x64e)](_0x1ac03b);}[_0x13fde2(0x3df)](){const _0x4dc0e4=_0x13fde2;this[_0x4dc0e4(0x87d)][_0x4dc0e4(0x294)]['forEach'](this[_0x4dc0e4(0x7a0)][_0x4dc0e4(0x5d5)](this));}[_0x13fde2(0x7a0)](_0x3e3bec,_0x48fdd7){const _0x3e6e9c=_0x13fde2;this[_0x3e6e9c(0x87d)][_0x3e6e9c(0x7a0)](_0x3e3bec,_0x48fdd7);}['getSubscriptionInfo'](_0x4ad62f,{label:_0x4ecff9,ownerId:_0x1a7a8e,trackKinds:_0xcd582b,params:_0x141d52}){const _0x25fb52=_0x13fde2;if(_0x1a7a8e!==this[_0x25fb52(0x7b0)][_0x25fb52(0x672)][_0x25fb52(0x677)]()){const _0x19bb20=this[_0x25fb52(0x7b0)][_0x25fb52(0x628)][_0x25fb52(0x3c8)](_0x1a7a8e,_0x4ecff9);return _0x19bb20&&_0x19bb20[_0x25fb52(0x238)]()!==_0x4ad62f?{'hasTracks':_0x19bb20['hasTracks'](_0xcd582b),'hasResolution':this[_0x25fb52(0x87b)](_0x19bb20[_0x25fb52(0x1dc)](),_0x141d52),'streamId':_0x19bb20[_0x25fb52(0x1da)](),'distance':this[_0x25fb52(0x7b0)][_0x25fb52(0x628)][_0x25fb52(0x86d)](_0x4ad62f,_0x1a7a8e),'subscriptionLabel':_0x202def(_0x34b234[_0x25fb52(0x4b0)],{'contentType':_0x15de5e[_0x25fb52(0x671)][_0x25fb52(0x31b)],'label':_0x19bb20[_0x25fb52(0x1da)](),'remoteId':_0x4ad62f})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x51c801=this[_0x25fb52(0x7b0)]['mediator'][_0x25fb52(0x5be)](_0x4ecff9);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x51c801[_0x25fb52(0x1da)](),'distance':0x0,'subscriptionLabel':_0x202def(_0x34b234[_0x25fb52(0x4b0)],{'contentType':_0x15de5e[_0x25fb52(0x671)][_0x25fb52(0x31b)],'label':_0x51c801[_0x25fb52(0x1da)](),'remoteId':_0x4ad62f})};}[_0x13fde2(0x429)](){const _0x491016=_0x13fde2;return Array[_0x491016(0x69c)](this[_0x491016(0x87d)][_0x491016(0x294)][_0x491016(0x78d)]())[_0x491016(0x559)](([_0x59f04a,{source:_0x2627db}])=>_0x59f04a[_0x491016(0x51b)](_0x34b234['Outgoing'])&&_0x2627db['getContentType']()===_0x15de5e[_0x491016(0x671)][_0x491016(0x31b)])[_0x491016(0x24c)];}['canProvideResolution'](_0x1d2590,_0x32b448){const _0x4d9aa3=_0x13fde2;if(!_0x32b448||!_0x32b448[_0x4d9aa3(0x3c1)]||_0x4d9aa3(0x662)==typeof _0x32b448[_0x4d9aa3(0x3c1)]||!_0x32b448['video'][_0x4d9aa3(0x297)])return!0x0;const {width:_0x177a61,height:_0x179f23}=_0x32b448[_0x4d9aa3(0x3c1)][_0x4d9aa3(0x297)];return _0x1d2590[_0x4d9aa3(0x431)]>=_0x177a61&&_0x1d2590[_0x4d9aa3(0x3bf)]>=_0x179f23;}}class _0x3992f4{[_0x13fde2(0x7b0)];[_0x13fde2(0x40b)];[_0x13fde2(0x757)];['systemTopic'];['incomingManager'];[_0x13fde2(0x77d)];constructor(_0xbe9bb2,_0x4b9774,_0x16e62c){const _0x4cba8c=_0x13fde2;this['configs']=_0xbe9bb2,this[_0x4cba8c(0x40b)]=_0x4b9774,this[_0x4cba8c(0x757)]=_0x16e62c,this['configs']['mediator'][_0x4cba8c(0x4a0)](this),this['incomingManager']=new _0x3b4c6a(this[_0x4cba8c(0x7b0)],this['maxDistance']),this[_0x4cba8c(0x77d)]=new _0x4ff803(this[_0x4cba8c(0x7b0)],this['maxOutgoingSubscriptions']);}[_0x13fde2(0x18b)](_0x366643){const _0x134d83=_0x13fde2;this[_0x134d83(0x51a)]=_0x366643;}[_0x13fde2(0x769)](){const _0x4b6b5a=_0x13fde2;delete this[_0x4b6b5a(0x51a)];}[_0x13fde2(0x3df)](){const _0x42b037=_0x13fde2;this['incomingManager']['close'](),this[_0x42b037(0x77d)]['close'](),this[_0x42b037(0x7b0)][_0x42b037(0x628)][_0x42b037(0x3b6)](this);}['createIncomingSubscription'](_0x2ee6a4,_0x300132){const _0xbf3080=_0x13fde2;this['incomingManager'][_0xbf3080(0x48d)](_0x2ee6a4,_0x300132);}[_0x13fde2(0x53c)](_0x48cd02,_0x22e2a8){const _0x4c4868=_0x13fde2;this[_0x4c4868(0x77d)][_0x4c4868(0x48d)](_0x48cd02,_0x22e2a8);}[_0x13fde2(0x39d)](_0x548ead,_0x1f0fa6,_0x4485b2=''){const _0x490b56=_0x13fde2;this['incomingManager'][_0x490b56(0x52e)](_0x548ead,_0x1f0fa6,_0x4485b2);}['removeOutgoingSubscription'](_0x376583,_0x502a9d,_0x1b0d33=''){const _0x3d1da9=_0x13fde2;try{this[_0x3d1da9(0x77d)][_0x3d1da9(0x52e)](_0x376583,_0x502a9d,_0x1b0d33);}catch(_0x32404f){if(_0x32404f instanceof _0x46f718&&_0x32404f[_0x3d1da9(0x18d)]===_0x46f718[_0x3d1da9(0x6b3)][_0x3d1da9(0x2f4)])return;}}[_0x13fde2(0x591)](_0x2a8ceb){const _0x280faa=_0x13fde2;switch(_0x2a8ceb[_0x280faa(0x6dd)][_0x280faa(0x5bb)]){case _0x3cab81[_0x280faa(0x34f)]:this[_0x280faa(0x818)](_0x2a8ceb[_0x280faa(0x8a3)],_0x2a8ceb[_0x280faa(0x6dd)]);break;case _0x3cab81['UnsubscribeMediaStream']:this[_0x280faa(0x77d)][_0x280faa(0x1a7)](_0x2a8ceb[_0x280faa(0x8a3)],_0x2a8ceb['content']);break;case _0x3cab81[_0x280faa(0x7fc)]:this['handleSubscriptionNeedMediaStream'](_0x2a8ceb[_0x280faa(0x8a3)],_0x2a8ceb[_0x280faa(0x6dd)]);break;case _0x3cab81[_0x280faa(0x40e)]:this[_0x280faa(0x28a)][_0x280faa(0x3f1)](_0x2a8ceb[_0x280faa(0x8a3)],_0x2a8ceb['content']);break;case _0x3cab81[_0x280faa(0x5d7)]:case _0x3cab81[_0x280faa(0x23c)]:this[_0x280faa(0x28a)]['handleSubscriptionProvideMediaStream'](_0x2a8ceb['sourceId'],_0x2a8ceb['content']);break;case _0x3cab81[_0x280faa(0x217)]:this[_0x280faa(0x28a)][_0x280faa(0x7ed)](_0x2a8ceb[_0x280faa(0x8a3)],_0x2a8ceb[_0x280faa(0x6dd)]);}}['handleContentSystemEvents'](_0x594ec4){const _0x5747fd=_0x13fde2;switch(_0x594ec4[_0x5747fd(0x6dd)][_0x5747fd(0x5bb)]){case _0x85b357[_0x5747fd(0x48e)]:this[_0x5747fd(0x28a)][_0x5747fd(0x659)](_0x594ec4['content']),this['outgoingManager']['handleContentUnpublishMediaStream'](_0x594ec4[_0x5747fd(0x6dd)]);break;case _0x85b357[_0x5747fd(0x34f)]:this[_0x5747fd(0x28a)][_0x5747fd(0x76c)](_0x594ec4[_0x5747fd(0x6dd)]);break;case _0x85b357['UpdateMediaStream']:this[_0x5747fd(0x28a)]['handleContentUpdateMediaStream'](_0x594ec4[_0x5747fd(0x6dd)]);break;case _0x85b357['UnsubscribeMediaStream']:this[_0x5747fd(0x462)](_0x594ec4['sourceId'],_0x594ec4[_0x5747fd(0x6dd)]);break;case _0x85b357[_0x5747fd(0x88e)]:this[_0x5747fd(0x77d)][_0x5747fd(0x590)](_0x594ec4['content']);break;case _0x85b357[_0x5747fd(0x674)]:this[_0x5747fd(0x4c8)](_0x594ec4['content']);break;case _0x85b357[_0x5747fd(0x565)]:this['handleContentCloseObjectStore'](_0x594ec4[_0x5747fd(0x6dd)]);break;case _0x85b357[_0x5747fd(0x616)]:this['handleContentCloseKeyValueDatabase'](_0x594ec4[_0x5747fd(0x6dd)]);break;case _0x85b357[_0x5747fd(0x1df)]:this[_0x5747fd(0x5ce)](_0x594ec4[_0x5747fd(0x6dd)]);break;case _0x85b357['CloseGraphDatabase']:this['handleContentCloseGraphDatabase'](_0x594ec4[_0x5747fd(0x6dd)]);break;case _0x85b357[_0x5747fd(0x7c9)]:case _0x85b357[_0x5747fd(0x1d8)]:this[_0x5747fd(0x2da)](_0x594ec4[_0x5747fd(0x6dd)]);break;case _0x85b357['RemoteMediaStreamTrackFail']:this[_0x5747fd(0x28a)][_0x5747fd(0x710)](_0x594ec4['content']);}}['handleNodeSystemEvents']({content:_0x38b0ac}){const _0x4bb540=_0x13fde2;_0x38b0ac[_0x4bb540(0x5bb)]===_0xee2b42[_0x4bb540(0x6f6)]&&this['removeSubscriptionsForNode'](_0x38b0ac);}[_0x13fde2(0x507)](_0x19cb0b){const _0x47eb57=_0x13fde2;_0x19cb0b[_0x47eb57(0x6dd)][_0x47eb57(0x5bb)]===_0x4a44e8[_0x47eb57(0x573)]&&this[_0x47eb57(0x28a)][_0x47eb57(0x6bd)](_0x19cb0b[_0x47eb57(0x8a3)]);}['handleContentUnsubscribeMediaStream'](_0x51afe6,_0x3eb04a){const _0x4728e6=_0x13fde2;this[_0x4728e6(0x28a)][_0x4728e6(0x462)](_0x3eb04a),this[_0x4728e6(0x77d)]['handleContentUnsubscribeMediaStream'](_0x51afe6,_0x3eb04a)[_0x4728e6(0x1ed)](_0x2a6eef=>this[_0x4728e6(0x51a)]['publish'](_0x2a6eef));}[_0x13fde2(0x818)](_0x371132,_0x461bf0){const _0x279b8e=_0x13fde2,_0x406040=this[_0x279b8e(0x77d)][_0x279b8e(0x818)](_0x371132,_0x461bf0);if(_0x406040&&(this[_0x279b8e(0x51a)][_0x279b8e(0x3c5)]({'sourceId':this[_0x279b8e(0x7b0)]['localNode'][_0x279b8e(0x677)](),'destinationIds':[_0x371132],'messageType':_0x1b694f[_0x279b8e(0x5b1)],'content':_0x406040}),_0x406040[_0x279b8e(0x5bb)]===_0x3cab81[_0x279b8e(0x40e)]))throw new _0x37b0db(_0x279b8e(0x656));}[_0x13fde2(0x348)](_0xf658ed,_0xafcea5){const _0x310d06=_0x13fde2,_0x33187f=this['outgoingManager'][_0x310d06(0x348)](_0xf658ed,_0xafcea5);this[_0x310d06(0x51a)][_0x310d06(0x3c5)]({'sourceId':this['configs'][_0x310d06(0x672)]['getId'](),'destinationIds':[_0xf658ed],'messageType':_0x1b694f['Subscription'],'content':_0x33187f});}[_0x13fde2(0x7a5)]({label:_0x572ff9}){const _0x5d7219=_0x13fde2;this[_0x5d7219(0x39d)](_0x572ff9,_0x15de5e[_0x5d7219(0x671)][_0x5d7219(0x359)]),this[_0x5d7219(0x891)](_0x572ff9,_0x15de5e[_0x5d7219(0x671)][_0x5d7219(0x359)]);}[_0x13fde2(0x5af)]({label:_0x5314c9}){const _0x4f007c=_0x13fde2;this[_0x4f007c(0x39d)](_0x5314c9,_0x15de5e[_0x4f007c(0x671)][_0x4f007c(0x7dd)]),this[_0x4f007c(0x891)](_0x5314c9,_0x15de5e['ContentType'][_0x4f007c(0x7dd)]);}[_0x13fde2(0x5ce)]({label:_0x43f7c2}){const _0x49aec0=_0x13fde2;this[_0x49aec0(0x39d)](_0x43f7c2,_0x15de5e[_0x49aec0(0x671)][_0x49aec0(0x8ac)]),this[_0x49aec0(0x891)](_0x43f7c2,_0x15de5e[_0x49aec0(0x671)][_0x49aec0(0x8ac)]);}[_0x13fde2(0x324)]({label:_0x1a89d4}){const _0x594c12=_0x13fde2;this[_0x594c12(0x39d)](_0x1a89d4,_0x15de5e['ContentType']['GraphDatabase']),this[_0x594c12(0x891)](_0x1a89d4,_0x15de5e[_0x594c12(0x671)][_0x594c12(0x60e)]);}['handleContentClosePubSubTopic']({label:_0x15f453}){const _0x55f072=_0x13fde2;this[_0x55f072(0x39d)](_0x15f453,_0x15de5e['ContentType']['PubSub']),this[_0x55f072(0x891)](_0x15f453,_0x15de5e['ContentType'][_0x55f072(0x893)]);}['handleContentCloseJob']({label:_0x22ddcb}){const _0x1c3449=_0x13fde2;this['removeIncomingSubscription'](_0x22ddcb,_0x15de5e['ContentType'][_0x1c3449(0x1e8)]),this['removeOutgoingSubscription'](_0x22ddcb,_0x15de5e['ContentType'][_0x1c3449(0x1e8)]);}[_0x13fde2(0x64e)]({id:_0x32cf8a}){const _0x34fe35=_0x13fde2;this[_0x34fe35(0x28a)][_0x34fe35(0x64e)](_0x32cf8a),this[_0x34fe35(0x77d)][_0x34fe35(0x64e)](_0x32cf8a);}}class _0xa27869{['label'];['listener']=_0x223536();constructor(){this['label']=0x0;}['getLabel'](){const _0x318c86=_0x13fde2;return this[_0x318c86(0x380)];}[_0x13fde2(0x1fe)](){return _0x15de5e['ContentType']['Data'];}[_0x13fde2(0x39b)](_0x657ca7){const _0x290b1c=_0x13fde2;_0x657ca7[_0x290b1c(0x18b)](this);}['unregisterSource'](_0x39d0e8){const _0x12be9a=_0x13fde2;_0x39d0e8[_0x12be9a(0x769)]();}['publish'](_0x5c21dc){const _0x6acdc4=_0x13fde2;_0x3d0f37[_0x6acdc4(0x6c1)](_0x2582bf[_0x6acdc4(0x79e)],_0x6acdc4(0x873),_0x5c21dc[_0x6acdc4(0x8a3)],_0x5c21dc),this['listener'][_0x6acdc4(0x3c5)]({'topicLabel':this['label'],'contentType':_0x15de5e[_0x6acdc4(0x671)][_0x6acdc4(0x249)],'uuid':_0x5c21dc[_0x6acdc4(0x5ff)]??(0x0,_0x1575cc['v4'])(),'recipients':_0x5c21dc[_0x6acdc4(0x51f)]??[],..._0x5c21dc});}[_0x13fde2(0x76e)](_0x1be054){const _0x429a33=_0x13fde2;return this[_0x429a33(0x388)][_0x429a33(0x76e)](_0x1be054);}}class _0x3cc7f5{[_0x13fde2(0x708)];[_0x13fde2(0x605)]=[];[_0x13fde2(0x7f5)];[_0x13fde2(0x391)]=new Map();constructor(_0x135c8b){const _0x5831ed=_0x13fde2;this[_0x5831ed(0x708)]=_0x135c8b,this[_0x5831ed(0x7f5)]=(this['options']['maxConnections']-0x2*this[_0x5831ed(0x708)][_0x5831ed(0x567)])/0x2,this['ranges']['push']({'start':0x1,'end':this[_0x5831ed(0x6fc)](0x1,0x1)-0x1});for(let _0x1dbacd=0x0;_0x1dbacd<this[_0x5831ed(0x7f5)];++_0x1dbacd)this['ranges'][_0x5831ed(0x875)]({'start':this[_0x5831ed(0x6fc)](0x1,_0x1dbacd+0x1),'end':this['getNextTargetRank'](0x1,_0x1dbacd+0x2)-0x1});}[_0x13fde2(0x6fc)](_0x39abde,_0x1258db=0x1){const _0x587d35=_0x13fde2;let _0x439383=this[_0x587d35(0x708)][_0x587d35(0x757)]-this[_0x587d35(0x708)][_0x587d35(0x567)],_0x3365d5=0x1;for(let _0x2c8c62=0x1;_0x2c8c62<_0x1258db;++_0x2c8c62)_0x439383*=this[_0x587d35(0x708)][_0x587d35(0x757)]-this[_0x587d35(0x708)][_0x587d35(0x567)]-_0x2c8c62,_0x3365d5*=this['options']['maxDistance']-this[_0x587d35(0x708)][_0x587d35(0x567)]-_0x2c8c62+0x1;return _0x439383*this[_0x587d35(0x708)][_0x587d35(0x567)]+_0x39abde-_0x3365d5;}[_0x13fde2(0x213)](_0x1e9421){const _0x566f4b=_0x13fde2;let _0xa0f45d=0x0;for(;this[_0x566f4b(0x605)][_0xa0f45d][_0x566f4b(0x7ad)]<_0x1e9421;)_0xa0f45d+=0x1;return _0xa0f45d;}['getMinConnections'](){const _0x3496f7=_0x13fde2;return this[_0x3496f7(0x708)][_0x3496f7(0x567)];}[_0x13fde2(0x833)](){const _0x25788b=_0x13fde2;return this[_0x25788b(0x708)][_0x25788b(0x450)];}[_0x13fde2(0x7b9)](){const _0x14a661=_0x13fde2;return this['options'][_0x14a661(0x757)];}[_0x13fde2(0x521)](){return this['remoteNodes'];}[_0x13fde2(0x1ba)](_0x19ab89,_0x22c418){const _0x2a6e80=_0x13fde2;this[_0x2a6e80(0x391)][_0x2a6e80(0x599)](_0x19ab89,_0x22c418);}[_0x13fde2(0x312)](_0x392aaa){const _0x1827b9=_0x13fde2;return this[_0x1827b9(0x391)][_0x1827b9(0x7f7)](_0x392aaa);}[_0x13fde2(0x6f7)](_0x2dad0e){const _0x1aac5b=_0x13fde2;return this[_0x1aac5b(0x391)][_0x1aac5b(0x556)](_0x2dad0e);}[_0x13fde2(0x5cc)](_0x47c5d1){const _0x48f7b0=_0x13fde2;this[_0x48f7b0(0x391)]['delete'](_0x47c5d1);}[_0x13fde2(0x27f)](_0x3194f2,_0x235cab){const _0x251c73=_0x13fde2,_0xa1dbdd=this['getRemoteNode'](_0x235cab)?.[_0x251c73(0x83e)]()??0x0;return _0x3194f2['map'](_0x34ab10=>this['getRemoteNode'](_0x34ab10))[_0x251c73(0x559)](_0x19a442=>void 0x0!==_0x19a442)[_0x251c73(0x4d2)]((_0xd05b5b,_0x5c0a93)=>Math[_0x251c73(0x3f2)](_0xa1dbdd-(_0xd05b5b&&_0xd05b5b['getRank']()||0x1/0x0))-Math['abs'](_0xa1dbdd-(_0x5c0a93&&_0x5c0a93[_0x251c73(0x83e)]()||0x1/0x0)))[_0x251c73(0x3d2)](_0x50bada=>_0x50bada['getId']());}}class _0x543516{['vendorId'];[_0x13fde2(0x89e)];[_0x13fde2(0x7db)];[_0x13fde2(0x69e)];['options'];[_0x13fde2(0x7b0)];[_0x13fde2(0x5ba)];['contentManager'];['connectionManager'];['subscriptionManager'];[_0x13fde2(0x4c7)];['detectionManager'];[_0x13fde2(0x7be)];[_0x13fde2(0x284)];['graphService'];[_0x13fde2(0x51a)]=new _0xa27869();['systemTopicUnsubscribe'];[_0x13fde2(0x672)];constructor(_0x16a032,_0x5a59df,_0x5eb1df,_0x32d95d,_0x377349,_0x53a26f,_0x3050d6){const _0x3fa0c1=_0x13fde2;switch(this[_0x3fa0c1(0x1f3)]=_0x16a032,this[_0x3fa0c1(0x89e)]=_0x5a59df,this[_0x3fa0c1(0x7db)]=_0x5eb1df,this['authService']=_0x32d95d,this[_0x3fa0c1(0x708)]=_0x377349,this['configs']=_0x53a26f,this[_0x3fa0c1(0x5ba)]=_0x3050d6,_0x5eb1df['type']){case _0x15de5e[_0x3fa0c1(0x76b)][_0x3fa0c1(0x3a1)]:this[_0x3fa0c1(0x672)]=new _0x292912(_0x5eb1df[_0x3fa0c1(0x677)](),_0x5eb1df[_0x3fa0c1(0x831)](),_0x5eb1df['getEmail']());break;case _0x15de5e['NodeType'][_0x3fa0c1(0x466)]:default:this['localNode']=new _0x488926(_0x5eb1df[_0x3fa0c1(0x677)]());}const _0x5c588f=this[_0x3fa0c1(0x49a)]();this[_0x3fa0c1(0x262)]=new _0x3cc7f5(this[_0x3fa0c1(0x708)]),this[_0x3fa0c1(0x302)]=new _0x275586(_0x5c588f,this[_0x3fa0c1(0x708)]),this[_0x3fa0c1(0x4d6)]=new _0x3eedb0(_0x5c588f,this[_0x3fa0c1(0x69e)],this[_0x3fa0c1(0x262)],this[_0x3fa0c1(0x7b0)]['iceServers'],this['options']),this[_0x3fa0c1(0x7c2)]=new _0x3992f4(_0x5c588f,this[_0x3fa0c1(0x708)]['maxOutgoingSubscriptions'],this[_0x3fa0c1(0x262)][_0x3fa0c1(0x7b9)]()),this[_0x3fa0c1(0x4c7)]=new _0x559847(_0x5c588f),this[_0x3fa0c1(0x658)]=new _0x46af54(_0x5c588f),this['remediationManager']=new _0x322dda(_0x5c588f),this['nodeManager']=new _0x4891a7(_0x5c588f,this['graphService']),this[_0x3fa0c1(0x36f)]=this[_0x3fa0c1(0x2ec)]();}[_0x13fde2(0x20c)](){const _0x38d683=_0x13fde2,_0x107358=this['getConfigs']();this[_0x38d683(0x4d6)]=new _0x3eedb0(_0x107358,this[_0x38d683(0x69e)],this[_0x38d683(0x262)],this[_0x38d683(0x7b0)][_0x38d683(0x228)],this[_0x38d683(0x708)]),this[_0x38d683(0x7c2)]=new _0x3992f4(_0x107358,this['options'][_0x38d683(0x40b)],this[_0x38d683(0x262)][_0x38d683(0x7b9)]()),this[_0x38d683(0x4c7)]=new _0x559847(_0x107358),this[_0x38d683(0x658)]=new _0x46af54(_0x107358),this[_0x38d683(0x7be)]=new _0x322dda(_0x107358),this[_0x38d683(0x284)]=new _0x4891a7(_0x107358,this[_0x38d683(0x262)]);const _0x5e4fe1=this[_0x38d683(0x4d6)][_0x38d683(0x476)]();this[_0x38d683(0x302)][_0x38d683(0x2f2)]()['forEach'](_0x3f52d8=>{const _0x38cf80=_0x38d683;this['subscriptionManager']['createOutgoingSubscription'](_0x3f52d8,_0x5e4fe1),this['subscriptionManager'][_0x38cf80(0x6ef)](_0x5e4fe1,_0x3f52d8),_0x3f52d8[_0x38cf80(0x416)]();}),this[_0x38d683(0x302)]['getObjectStoreBuckets']()[_0x38d683(0x1ed)](_0x39facf=>{const _0x3ad1d7=_0x38d683;this[_0x3ad1d7(0x7c2)][_0x3ad1d7(0x53c)](_0x39facf,_0x5e4fe1),this[_0x3ad1d7(0x7c2)]['createIncomingSubscription'](_0x5e4fe1,_0x39facf),_0x39facf[_0x3ad1d7(0x416)](),_0x39facf[_0x3ad1d7(0x856)]();}),this[_0x38d683(0x302)][_0x38d683(0x6a0)]()[_0x38d683(0x1ed)](_0x882f19=>{const _0x3a1ea0=_0x38d683;this[_0x3a1ea0(0x7c2)][_0x3a1ea0(0x53c)](_0x882f19,_0x5e4fe1),this[_0x3a1ea0(0x7c2)][_0x3a1ea0(0x6ef)](_0x5e4fe1,_0x882f19),_0x882f19['reset'](),this[_0x3a1ea0(0x3d1)](_0x882f19);}),this[_0x38d683(0x302)][_0x38d683(0x1a8)]()[_0x38d683(0x1ed)](_0xbd3c09=>{const _0x37defb=_0x38d683;this[_0x37defb(0x7c2)]['createOutgoingSubscription'](_0xbd3c09,_0x5e4fe1),this['subscriptionManager'][_0x37defb(0x6ef)](_0x5e4fe1,_0xbd3c09),_0xbd3c09[_0x37defb(0x416)]();}),this[_0x38d683(0x302)][_0x38d683(0x3ac)]()[_0x38d683(0x1ed)](_0x12e0cd=>{const _0xa4d9e6=_0x38d683;this[_0xa4d9e6(0x7c2)][_0xa4d9e6(0x53c)](_0x12e0cd,_0x5e4fe1),this[_0xa4d9e6(0x7c2)]['createIncomingSubscription'](_0x5e4fe1,_0x12e0cd),_0x12e0cd[_0xa4d9e6(0x416)]();}),this[_0x38d683(0x302)]['getVectorDatabases']()[_0x38d683(0x1ed)](_0x556e14=>{const _0x2d9b07=_0x38d683;this['subscriptionManager']['createOutgoingSubscription'](_0x556e14,_0x5e4fe1),this[_0x2d9b07(0x7c2)][_0x2d9b07(0x6ef)](_0x5e4fe1,_0x556e14),_0x556e14[_0x2d9b07(0x416)]();}),this[_0x38d683(0x302)][_0x38d683(0x242)]()['forEach'](_0xe9f07f=>{const _0x4785b1=_0x38d683;this['subscriptionManager']['createOutgoingSubscription'](_0xe9f07f,_0x5e4fe1),this['subscriptionManager'][_0x4785b1(0x6ef)](_0x5e4fe1,_0xe9f07f),_0xe9f07f[_0x4785b1(0x416)]();}),this[_0x38d683(0x36f)]=this['initializeSystemTopic']();}['registerSystemSource'](_0x2a9cf7){const _0x624631=_0x13fde2;try{this[_0x624631(0x51a)][_0x624631(0x39b)](_0x2a9cf7);}catch(_0x4b9ce0){this['handleError'](_0x4b9ce0,{});}}['unregisterSystemSource'](_0x4769d7){const _0x482195=_0x13fde2;try{this[_0x482195(0x51a)][_0x482195(0x81f)](_0x4769d7);}catch(_0x48559f){this[_0x482195(0x27b)](_0x48559f,{});}}['createConnection'](_0x2201c4,_0xaddf20){const _0x7a582=_0x13fde2;return this[_0x7a582(0x4d6)]['createConnection'](_0x2201c4,_0xaddf20);}['getConnection'](_0x211ab8){const _0x52c25d=_0x13fde2;try{return this[_0x52c25d(0x4d6)][_0x52c25d(0x7c7)](_0x211ab8);}catch(_0x5ec987){throw this[_0x52c25d(0x27b)](_0x5ec987,{});}}['getConnections'](_0x25df7a){const _0x27a02d=_0x13fde2;try{return this[_0x27a02d(0x4d6)][_0x27a02d(0x6c0)](_0x25df7a);}catch(_0xda14ec){throw this['handleError'](_0xda14ec,{});}}['getRemoteMediaStream'](_0x8e4533,_0x5a06e3){const _0x198bb0=_0x13fde2;try{return this[_0x198bb0(0x302)]['getRemoteMediaStreams'](_0x1b17d8=>_0x1b17d8[_0x198bb0(0x7d1)]()===_0x8e4533&&_0x1b17d8[_0x198bb0(0x230)]()===_0x5a06e3)[0x0];}catch(_0x5bf031){throw this[_0x198bb0(0x27b)](_0x5bf031,{});}}[_0x13fde2(0x5be)](_0xf99d0){const _0x37dec4=_0x13fde2;try{return this['contentManager'][_0x37dec4(0x4ef)](_0x2dace6=>_0x2dace6[_0x37dec4(0x230)]()===_0xf99d0)[0x0];}catch(_0x20f451){throw this['handleError'](_0x20f451,{});}}[_0x13fde2(0x849)]=(..._0x2ecc7c)=>{const _0x468c07=_0x13fde2;try{return this[_0x468c07(0x5ba)][_0x468c07(0x3f3)](..._0x2ecc7c);}catch(_0x218dcd){throw this[_0x468c07(0x27b)](_0x218dcd,{});}};[_0x13fde2(0x2e7)](_0xa7e547){const _0x1acb8a=_0x13fde2;try{this['statsManager'][_0x1acb8a(0x80f)](_0xa7e547);}catch(_0xc41d86){throw this[_0x1acb8a(0x27b)](_0xc41d86,{});}}[_0x13fde2(0x5cb)](_0x1e5e95){const _0x5e2aa4=_0x13fde2;try{this[_0x5e2aa4(0x4c7)][_0x5e2aa4(0x5ef)](_0x1e5e95);}catch(_0x598c7c){throw this[_0x5e2aa4(0x27b)](_0x598c7c,{});}}[_0x13fde2(0x49d)](_0x68c63){const _0x26880f=_0x13fde2;return this[_0x26880f(0x4d6)][_0x26880f(0x49d)](_0x68c63);}async[_0x13fde2(0x6f8)](){const _0x1f5c0a=_0x13fde2;try{await this[_0x1f5c0a(0x4d6)][_0x1f5c0a(0x6f8)]();const _0x13210f=await this[_0x1f5c0a(0x284)][_0x1f5c0a(0x1d5)]();for(const _0x1e4ec0 of _0x13210f)this['connectionManager'][_0x1f5c0a(0x1fd)](_0x1e4ec0);}catch(_0x5baefd){throw this['handleError'](_0x5baefd,{});}}['updateUser'](_0x5e7974){const _0x3a8532=_0x13fde2;this[_0x3a8532(0x672)]['type']===_0x15de5e[_0x3a8532(0x76b)][_0x3a8532(0x3a1)]&&(this[_0x3a8532(0x672)][_0x3a8532(0x569)](_0x5e7974['getEmail']()),this[_0x3a8532(0x672)]['setDisplayName'](_0x5e7974[_0x3a8532(0x831)]()));}[_0x13fde2(0x3df)](_0x21c8a4=!0x1){const _0x34b4d5=_0x13fde2;_0x3d0f37[_0x34b4d5(0x8a0)](_0x34b4d5(0x48a),{'clusterId':this[_0x34b4d5(0x89e)],'nodeId':this['localNode'][_0x34b4d5(0x677)](),'nodeType':this[_0x34b4d5(0x672)]['type']}),this[_0x34b4d5(0x36f)](),this['remediationManager'][_0x34b4d5(0x3df)](),this['detectionManager'][_0x34b4d5(0x3df)](),this[_0x34b4d5(0x4c7)][_0x34b4d5(0x3df)](),this[_0x34b4d5(0x7c2)][_0x34b4d5(0x3df)](),this[_0x34b4d5(0x4d6)][_0x34b4d5(0x3df)](),this[_0x34b4d5(0x302)]['close'](_0x21c8a4),this[_0x34b4d5(0x284)][_0x34b4d5(0x3df)]();}[_0x13fde2(0x37f)](_0x3ee060){const _0x37f6c2=_0x13fde2;try{const _0x330ee9=this[_0x37f6c2(0x302)]['createPubSubTopic'](_0x3ee060),_0x53013b=this[_0x37f6c2(0x4d6)][_0x37f6c2(0x476)]();return this['subscriptionManager'][_0x37f6c2(0x53c)](_0x330ee9,_0x53013b),this[_0x37f6c2(0x7c2)][_0x37f6c2(0x6ef)](_0x53013b,_0x330ee9),_0x330ee9;}catch(_0x5b484c){throw this[_0x37f6c2(0x27b)](_0x5b484c,{});}}async[_0x13fde2(0x843)](_0x4ac1da,_0x3215e8){const _0x602a0d=_0x13fde2;try{const _0x1dcae2=this[_0x602a0d(0x302)][_0x602a0d(0x257)](_0x4ac1da,this[_0x602a0d(0x708)]['objectStoreConnector']),_0x31b84e=this[_0x602a0d(0x4d6)]['getConnectionGroup']();return this[_0x602a0d(0x7c2)][_0x602a0d(0x53c)](_0x1dcae2,_0x31b84e),this[_0x602a0d(0x7c2)]['createIncomingSubscription'](_0x31b84e,_0x1dcae2),await _0x1dcae2[_0x602a0d(0x856)](_0x3215e8?.['syncContent']??!0x0),_0x1dcae2;}catch(_0x4a43a1){throw this[_0x602a0d(0x27b)](_0x4a43a1,{});}}async[_0x13fde2(0x2b0)](_0x38154b,_0xa92b42){const _0x58ed64=_0x13fde2;try{const _0xe5bad6=await this['contentManager']['createKeyValueDatabase'](_0x38154b,_0xa92b42,this['options']['keyValueDatabaseConnector']),_0x2b6af2=this[_0x58ed64(0x4d6)][_0x58ed64(0x476)]();return this[_0x58ed64(0x7c2)][_0x58ed64(0x53c)](_0xe5bad6,_0x2b6af2),this[_0x58ed64(0x7c2)][_0x58ed64(0x6ef)](_0x2b6af2,_0xe5bad6),await _0xe5bad6[_0x58ed64(0x20c)](),this['syncKeyValueDatabase'](_0xe5bad6),_0xe5bad6;}catch(_0xa1a8c9){throw this[_0x58ed64(0x27b)](_0xa1a8c9,{});}}async[_0x13fde2(0x5c6)](_0x5c3e34){const _0x4cd9cf=_0x13fde2;try{const _0x534265=await this[_0x4cd9cf(0x302)][_0x4cd9cf(0x730)](_0x5c3e34,this[_0x4cd9cf(0x262)]),_0x3555f1=this['connectionManager']['getConnectionGroup']();return this[_0x4cd9cf(0x7c2)][_0x4cd9cf(0x53c)](_0x534265,_0x3555f1),this[_0x4cd9cf(0x7c2)][_0x4cd9cf(0x6ef)](_0x3555f1,_0x534265),_0x534265[_0x4cd9cf(0x20c)](),_0x534265;}catch(_0x30d533){throw this[_0x4cd9cf(0x27b)](_0x30d533,{});}}async['openJobWorker'](_0x22211f){const _0x49ad60=_0x13fde2;throw new Error(_0x49ad60(0x830));}async['openGenerativeAIContext'](_0x2c5212){const _0x57d48a=_0x13fde2;try{const _0x20d49d=await this[_0x57d48a(0x302)][_0x57d48a(0x627)](_0x2c5212,this[_0x57d48a(0x262)]),_0x334d39=this[_0x57d48a(0x4d6)][_0x57d48a(0x476)]();return this[_0x57d48a(0x7c2)][_0x57d48a(0x53c)](_0x20d49d,_0x334d39),this[_0x57d48a(0x7c2)][_0x57d48a(0x6ef)](_0x334d39,_0x20d49d),_0x20d49d[_0x57d48a(0x20c)](),_0x20d49d;}catch(_0x16afbc){throw console['error'](_0x16afbc),this[_0x57d48a(0x27b)](_0x16afbc,{});}}async['openGenerativeAIWorker'](_0x1df83d){const _0xb0ea9b=_0x13fde2;try{if(!this[_0xb0ea9b(0x708)]['generativeAIWorkerConnector']||!this['options'][_0xb0ea9b(0x42d)]||!this[_0xb0ea9b(0x708)]['nlpLibraryConnector'])throw new _0x3fd286(_0x12afa6[_0xb0ea9b(0x55d)],'Missing\x20AI\x20worker\x20connector');if(!(this['authNode']instanceof _0x4d783a))throw new _0x3fd286(_0x12afa6['NodeInvalidType'],_0xb0ea9b(0x3b5));const _0x1e68cf=new this[(_0xb0ea9b(0x708))][(_0xb0ea9b(0x655))](),_0x4c9b17=new this[(_0xb0ea9b(0x708))][(_0xb0ea9b(0x42d))](),_0x4bc25c=new this[(_0xb0ea9b(0x708))]['nlpLibraryConnector'](),_0x37b8c3=await this[_0xb0ea9b(0x302)][_0xb0ea9b(0x767)](_0x1df83d,this[_0xb0ea9b(0x7db)],_0x1e68cf,_0x4c9b17,_0x4bc25c),_0x13a024=this[_0xb0ea9b(0x4d6)][_0xb0ea9b(0x476)]();this[_0xb0ea9b(0x7c2)]['createOutgoingSubscription'](_0x37b8c3,_0x13a024),this[_0xb0ea9b(0x7c2)]['createIncomingSubscription'](_0x13a024,_0x37b8c3);const _0x6cc85e=this[_0xb0ea9b(0x284)]['getAncestorIds']();return console[_0xb0ea9b(0x6c1)](_0xb0ea9b(0x29a),_0x6cc85e),_0x37b8c3['open'](0x0===_0x6cc85e[_0xb0ea9b(0x24c)]||void 0x0),_0x37b8c3;}catch(_0x270715){throw this[_0xb0ea9b(0x27b)](_0x270715,{});}}['openGraphDatabase'](_0x1a9f41){const _0x8f3593=_0x13fde2;try{if(!this['options'][_0x8f3593(0x576)])throw new _0x3fd286(_0x12afa6[_0x8f3593(0x3c0)],_0x8f3593(0x43f));if(!(this[_0x8f3593(0x7db)]instanceof _0x4d783a))throw new _0x3fd286(_0x12afa6[_0x8f3593(0x236)],_0x8f3593(0x3b5));const _0x152a71=this[_0x8f3593(0x302)][_0x8f3593(0x40f)](_0x1a9f41,this[_0x8f3593(0x708)][_0x8f3593(0x576)]),_0x1fd978=this['connectionManager'][_0x8f3593(0x476)]();return this[_0x8f3593(0x7c2)][_0x8f3593(0x53c)](_0x152a71,_0x1fd978),this[_0x8f3593(0x7c2)][_0x8f3593(0x6ef)](_0x1fd978,_0x152a71),_0x152a71;}catch(_0x18bdf2){throw this[_0x8f3593(0x27b)](_0x18bdf2,{});}}[_0x13fde2(0x39e)](_0x2bd468){const _0x23457f=_0x13fde2;try{if(!this[_0x23457f(0x708)][_0x23457f(0x6f1)])throw new _0x3fd286(_0x12afa6[_0x23457f(0x621)],_0x23457f(0x19d));if(!(this[_0x23457f(0x7db)]instanceof _0x4d783a))throw new _0x3fd286(_0x12afa6[_0x23457f(0x236)],_0x23457f(0x3b5));const _0x5544d9=this[_0x23457f(0x302)][_0x23457f(0x75f)](_0x2bd468,this['options'][_0x23457f(0x6f1)]),_0x2b4caf=this[_0x23457f(0x4d6)]['getConnectionGroup']();return this[_0x23457f(0x7c2)][_0x23457f(0x53c)](_0x5544d9,_0x2b4caf),this['subscriptionManager'][_0x23457f(0x6ef)](_0x2b4caf,_0x5544d9),_0x5544d9;}catch(_0x1722d5){throw this[_0x23457f(0x27b)](_0x1722d5,{});}}['getPubSubTopics'](_0x3b1a21){const _0x186800=_0x13fde2;try{return this[_0x186800(0x302)][_0x186800(0x2f2)](_0x3b1a21);}catch(_0x5a06a1){throw this[_0x186800(0x27b)](_0x5a06a1,{});}}[_0x13fde2(0x7ef)](_0x2159e5){const _0x4675cb=_0x13fde2;try{return this[_0x4675cb(0x302)]['getObjectStoreBuckets'](_0x2159e5);}catch(_0x644623){throw this[_0x4675cb(0x27b)](_0x644623,{});}}[_0x13fde2(0x6a0)](_0x5808fe){const _0x22333a=_0x13fde2;try{return this['contentManager'][_0x22333a(0x6a0)](_0x5808fe);}catch(_0x5677ec){throw this['handleError'](_0x5677ec,{});}}[_0x13fde2(0x665)](_0x394920){const _0x275f38=_0x13fde2;try{return this['contentManager']['getGenerativeAIContexts'](_0x394920);}catch(_0x2ad49e){throw this[_0x275f38(0x27b)](_0x2ad49e,{});}}['getGenerativeAIWorkers'](_0x460f47){const _0x88a452=_0x13fde2;try{return this[_0x88a452(0x302)][_0x88a452(0x837)](_0x460f47);}catch(_0x2f0577){throw this[_0x88a452(0x27b)](_0x2f0577,{});}}['getGraphDatabases'](_0x5a2820){const _0x1c576c=_0x13fde2;try{return this['contentManager'][_0x1c576c(0x242)](_0x5a2820);}catch(_0x2e95dd){throw this[_0x1c576c(0x27b)](_0x2e95dd,{});}}[_0x13fde2(0x68c)](_0x290f9a,_0x526b3b){const _0x26d5d0=_0x13fde2;if(!this[_0x26d5d0(0x7b0)]['features'][_0x26d5d0(0x563)](_0x5eb9ae[_0x26d5d0(0x841)]))throw new _0x3fd286(_0x12afa6[_0x26d5d0(0x285)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x26d5d0(0x302)][_0x26d5d0(0x68c)](_0x290f9a,_0x526b3b);}catch(_0xd0ae24){throw this['handleError'](_0xd0ae24,{});}}[_0x13fde2(0x3a4)](_0x5e31ac,_0x388ef1){const _0x2cc48f=_0x13fde2;if(!this[_0x2cc48f(0x7b0)][_0x2cc48f(0x353)][_0x2cc48f(0x563)](_0x5eb9ae['MediaStream']))throw new _0x3fd286(_0x12afa6[_0x2cc48f(0x285)],_0x2cc48f(0x465));try{return this[_0x2cc48f(0x302)]['createLocalDynamicMediaStream'](_0x5e31ac,_0x388ef1);}catch(_0xa34628){throw this[_0x2cc48f(0x27b)](_0xa34628,{});}}['getLocalMediaStreams'](_0x4efa9d){const _0x12652c=_0x13fde2;if(!this[_0x12652c(0x7b0)][_0x12652c(0x353)][_0x12652c(0x563)](_0x5eb9ae[_0x12652c(0x841)]))throw new _0x3fd286(_0x12afa6['FeatureNotEnabled'],_0x12652c(0x465));try{return this['contentManager'][_0x12652c(0x4ef)](_0x4efa9d);}catch(_0x3808e1){throw this['handleError'](_0x3808e1,{});}}[_0x13fde2(0x444)](_0x3719f6){const _0x39b8ec=_0x13fde2;if(!this[_0x39b8ec(0x7b0)][_0x39b8ec(0x353)][_0x39b8ec(0x563)](_0x5eb9ae[_0x39b8ec(0x841)]))throw new _0x3fd286(_0x12afa6[_0x39b8ec(0x285)],_0x39b8ec(0x465));try{return this['contentManager'][_0x39b8ec(0x444)](_0x3719f6);}catch(_0x29bf00){throw this[_0x39b8ec(0x27b)](_0x29bf00,{});}}[_0x13fde2(0x1bc)](_0x43d289){const _0xea6c0a=_0x13fde2;try{return this[_0xea6c0a(0x302)][_0xea6c0a(0x1bc)](_0x43d289);}catch(_0x4d2106){throw this[_0xea6c0a(0x27b)](_0x4d2106,{});}}[_0x13fde2(0x86d)](_0x331bdb,_0x4c32a3){const _0xc01bd2=_0x13fde2;return this[_0xc01bd2(0x284)][_0xc01bd2(0x86d)](_0x331bdb,_0x4c32a3);}['getLocalNode'](){const _0x2ce899=_0x13fde2;return this[_0x2ce899(0x284)][_0x2ce899(0x69d)]();}[_0x13fde2(0x521)](_0x38cbc3){const _0x51fb22=_0x13fde2;try{return this[_0x51fb22(0x284)][_0x51fb22(0x521)](_0x38cbc3);}catch(_0x5db832){throw this['handleError'](_0x5db832,{});}}[_0x13fde2(0x46f)](){const _0x173d32=_0x13fde2;return this[_0x173d32(0x4d6)][_0x173d32(0x46f)]();}async[_0x13fde2(0x65b)](_0xe78f0){const _0xb18498=_0x13fde2;try{if(_0x3d0f37['log'](_0x2582bf[_0xb18498(0x79e)],'Orchestrator\x20handleSystemEvents',this[_0xb18498(0x284)][_0xb18498(0x5a3)](),_0xe78f0),_0x533149(_0xe78f0,this[_0xb18498(0x284)][_0xb18498(0x5a3)]()))return void this['connectionManager'][_0xb18498(0x367)](_0xe78f0);switch(_0xe78f0[_0xb18498(0x3ec)]){case _0x1b694f['Content']:this[_0xb18498(0x4c7)]['handleContentSystemEvents'](_0xe78f0),this['subscriptionManager'][_0xb18498(0x676)](_0xe78f0),this[_0xb18498(0x302)][_0xb18498(0x676)](_0xe78f0);break;case _0x1b694f[_0xb18498(0x3c6)]:this['subscriptionManager']['handleNodeSystemEvents'](_0xe78f0),this[_0xb18498(0x4d6)]['handleNodeSystemEvents'](_0xe78f0),this[_0xb18498(0x302)]['handleNodeSystemEvents'](_0xe78f0),this[_0xb18498(0x284)][_0xb18498(0x796)](_0xe78f0);break;case _0x1b694f[_0xb18498(0x364)]:this['remediationManager'][_0xb18498(0x696)](_0xe78f0);break;case _0x1b694f[_0xb18498(0x707)]:this[_0xb18498(0x7be)][_0xb18498(0x6ac)](_0xe78f0);break;case _0x1b694f['Stats']:this[_0xb18498(0x658)][_0xb18498(0x5b7)](_0xe78f0);break;case _0x1b694f[_0xb18498(0x5b1)]:_0xe78f0[_0xb18498(0x6dd)][_0xb18498(0x5bb)]!==_0x3cab81[_0xb18498(0x453)]?(this[_0xb18498(0x7c2)]['handleSubscriptionSystemEvents'](_0xe78f0),this[_0xb18498(0x302)]['handleSubscriptionSystemEvents'](_0xe78f0)):(this['contentManager'][_0xb18498(0x591)](_0xe78f0),this['subscriptionManager'][_0xb18498(0x591)](_0xe78f0));break;case _0x1b694f[_0xb18498(0x37c)]:await this['connectionManager'][_0xb18498(0x507)](_0xe78f0),this['statsManager']['handlePeerConnectionSystemEvents'](_0xe78f0),this['nodeManager']['handlePeerConnectionSystemEvents'](_0xe78f0),this[_0xb18498(0x7c2)][_0xb18498(0x507)](_0xe78f0);}}catch(_0x34ab34){throw this[_0xb18498(0x27b)](_0x34ab34,{});}}[_0x13fde2(0x27b)](_0x21a933,_0x28e3dd){const _0x4ddf39=_0x13fde2;if(!(_0x21a933 instanceof _0x37b0db)){if(_0x21a933 instanceof _0x3fd286)throw _0x21a933;if(!(_0x21a933 instanceof Error))throw new _0x3fd286(_0x12afa6[_0x4ddf39(0x78e)],_0x4ddf39(0x339)+_0x21a933);if(!(_0x21a933 instanceof _0x46f718))throw new _0x3fd286(_0x12afa6[_0x4ddf39(0x78e)],_0x4ddf39(0x4e4)+_0x21a933[_0x4ddf39(0x4de)]);switch(_0x21a933['code']){case _0x46f718[_0x4ddf39(0x6b3)][_0x4ddf39(0x5ab)]:case _0x46f718[_0x4ddf39(0x6b3)][_0x4ddf39(0x561)]:case _0x46f718[_0x4ddf39(0x6b3)][_0x4ddf39(0x1a4)]:case _0x46f718[_0x4ddf39(0x6b3)]['ConnectionNotinitialized']:case _0x46f718[_0x4ddf39(0x6b3)][_0x4ddf39(0x718)]:case _0x46f718['codes'][_0x4ddf39(0x278)]:case _0x46f718[_0x4ddf39(0x6b3)][_0x4ddf39(0x73c)]:case _0x46f718[_0x4ddf39(0x6b3)][_0x4ddf39(0x508)]:case _0x46f718[_0x4ddf39(0x6b3)][_0x4ddf39(0x25f)]:case _0x46f718[_0x4ddf39(0x6b3)]['SubscriptionRequestFailed']:case _0x46f718[_0x4ddf39(0x6b3)][_0x4ddf39(0x879)]:case _0x46f718[_0x4ddf39(0x6b3)][_0x4ddf39(0x2f4)]:}throw _0x3d0f37[_0x4ddf39(0x377)]('sdk-internal-error:\x20'+_0x21a933[_0x4ddf39(0x4de)],{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0x4ddf39(0x677)](),'nodeType':this[_0x4ddf39(0x672)]['type']},_0x21a933),new _0x3fd286(_0x12afa6[_0x4ddf39(0x78e)],_0x4ddf39(0x6a5)+_0x21a933[_0x4ddf39(0x4de)]);}}['getConfigs'](){const _0x1d650e=_0x13fde2;return{'mediator':this,'vendorId':this[_0x1d650e(0x1f3)],'clusterId':this['clusterId'],'localNode':this[_0x1d650e(0x672)]};}[_0x13fde2(0x2ec)](){const _0xf7c448=_0x13fde2;return this[_0xf7c448(0x51a)][_0xf7c448(0x76e)](_0x338cba=>{const _0x25f3ca=_0xf7c448,_0x33b6cc=_0x16ed7b(_0x338cba,this[_0x25f3ca(0x672)][_0x25f3ca(0x677)]()),_0x6c8fbb=_0x338cba[_0x25f3ca(0x3ec)]===_0x1b694f[_0x25f3ca(0x4c0)]||_0x338cba[_0x25f3ca(0x3ec)]===_0x1b694f['PeerConnection']&&_0x338cba[_0x25f3ca(0x6dd)][_0x25f3ca(0x5bb)]===_0x4a44e8[_0x25f3ca(0x4c0)]?_0x2582bf['SystemStats']:_0x2582bf[_0x25f3ca(0x379)];_0x3d0f37[_0x25f3ca(0x4b3)](_0x6c8fbb,_0x338cba['uuid']+_0x25f3ca(0x850)+_0x33b6cc,_0x338cba),this['handleSystemEvents'](_0x338cba)[_0x25f3ca(0x47d)](_0x23d817=>{const _0xd130f0=_0x25f3ca;console[_0xd130f0(0x377)](_0x23d817);});});}async[_0x13fde2(0x3d1)](_0x15de24,_0x2f4679){const _0x2e4472=_0x13fde2;_0x2f4679=this['findNextAncestor'](_0x2f4679),await _0x15de24[_0x2e4472(0x856)](_0x2f4679,()=>this[_0x2e4472(0x3d1)](_0x15de24,_0x2f4679));}[_0x13fde2(0x410)](_0x26b7fa){const _0x278e75=_0x13fde2,_0x3c38e1=this['nodeManager'][_0x278e75(0x68d)]();if(!_0x26b7fa)return _0x3c38e1[0x0];const _0x10bcd1=_0x3c38e1[_0x278e75(0x1c1)](_0x50ad89=>_0x26b7fa===_0x50ad89),_0x3fd7f8=_0x3c38e1[_0x10bcd1+0x1];return _0x3c38e1[_0x278e75(0x24c)]>0x0&&!_0x3fd7f8?_0x3c38e1[0x0]:_0x3fd7f8;}}class _0x198583{[_0x13fde2(0x1f3)];['clusterId'];[_0x13fde2(0x7db)];['eventEmitter'];[_0x13fde2(0x5a1)];constructor(_0x1618ba,_0x570fa4,_0x54bca1,_0x5cc5bb,_0x46b238,_0x3e299c,_0x2eb70a=new _0x4568c8()){const _0x2111bf=_0x13fde2;this[_0x2111bf(0x1f3)]=_0x1618ba,this[_0x2111bf(0x89e)]=_0x570fa4,this[_0x2111bf(0x7db)]=_0x54bca1,this[_0x2111bf(0x716)]=_0x2eb70a,this['orchestrator']=new _0x543516(this['vendorId'],this[_0x2111bf(0x89e)],_0x54bca1,_0x5cc5bb,_0x46b238,_0x3e299c,this);}async['join'](){const _0x36c7e9=_0x13fde2;await this[_0x36c7e9(0x5a1)][_0x36c7e9(0x6f8)](),this[_0x36c7e9(0x7db)][_0x36c7e9(0x5bb)]===_0x15de5e[_0x36c7e9(0x76b)][_0x36c7e9(0x3a1)]&&this[_0x36c7e9(0x7db)][_0x36c7e9(0x4c1)](this['clusterId'],_0x37b619=>{const _0x1ffb3f=_0x36c7e9;this[_0x1ffb3f(0x5a1)]['updateUser'](_0x37b619);});}[_0x13fde2(0x78b)](){const _0x1731a4=_0x13fde2;this['orchestrator'][_0x1731a4(0x3df)](),this[_0x1731a4(0x7db)][_0x1731a4(0x5bb)]===_0x15de5e[_0x1731a4(0x76b)][_0x1731a4(0x3a1)]&&this[_0x1731a4(0x7db)][_0x1731a4(0x534)](this[_0x1731a4(0x89e)]),this[_0x1731a4(0x3f3)](_0x1731a4(0x747),void 0x0);}['openPubSubTopic'](_0x139943){const _0x1ed224=_0x13fde2,_0x141026=this['orchestrator']['openPubSubTopic'](_0x139943);return{'getName':_0x141026['getName']['bind'](_0x141026),'getOwnerId':_0x141026[_0x1ed224(0x7d1)][_0x1ed224(0x5d5)](_0x141026),'getContentType':_0x141026[_0x1ed224(0x1fe)][_0x1ed224(0x5d5)](_0x141026),'publish':_0x141026[_0x1ed224(0x3c5)][_0x1ed224(0x5d5)](_0x141026),'subscribe':_0x141026[_0x1ed224(0x76e)][_0x1ed224(0x5d5)](_0x141026),'unsubscribe':_0x141026['unsubscribe']['bind'](_0x141026),'close':_0x141026[_0x1ed224(0x3df)]['bind'](_0x141026)};}async['openObjectStoreBucket'](_0x1cb10f,_0x4361e6){const _0x5c68a5=_0x13fde2,_0x679f3e=await this[_0x5c68a5(0x5a1)][_0x5c68a5(0x843)](_0x1cb10f,_0x4361e6);return{'getName':_0x679f3e[_0x5c68a5(0x493)][_0x5c68a5(0x5d5)](_0x679f3e),'getOwnerId':_0x679f3e[_0x5c68a5(0x7d1)][_0x5c68a5(0x5d5)](_0x679f3e),'getContentType':_0x679f3e[_0x5c68a5(0x1fe)][_0x5c68a5(0x5d5)](_0x679f3e),'publish':_0x679f3e[_0x5c68a5(0x3c5)]['bind'](_0x679f3e),'unpublish':_0x679f3e[_0x5c68a5(0x560)][_0x5c68a5(0x5d5)](_0x679f3e),'get':_0x679f3e['get'][_0x5c68a5(0x5d5)](_0x679f3e),'list':_0x679f3e[_0x5c68a5(0x1b1)][_0x5c68a5(0x5d5)](_0x679f3e),'getSize':_0x679f3e[_0x5c68a5(0x3de)]['bind'](_0x679f3e),'subscribe':_0x679f3e[_0x5c68a5(0x76e)][_0x5c68a5(0x5d5)](_0x679f3e),'unsubscribe':_0x679f3e[_0x5c68a5(0x250)][_0x5c68a5(0x5d5)](_0x679f3e),'close':_0x679f3e[_0x5c68a5(0x3df)]['bind'](_0x679f3e)};}async[_0x13fde2(0x2b0)](_0x377f94,_0x228128){const _0x2425ed=_0x13fde2,_0x1f4728=await this['orchestrator'][_0x2425ed(0x2b0)](_0x377f94,_0x228128);return{'getName':_0x1f4728['getName'][_0x2425ed(0x5d5)](_0x1f4728),'getOwnerId':_0x1f4728[_0x2425ed(0x7d1)][_0x2425ed(0x5d5)](_0x1f4728),'getContentType':_0x1f4728[_0x2425ed(0x1fe)][_0x2425ed(0x5d5)](_0x1f4728),'getTable':_0x1f4728[_0x2425ed(0x736)]['bind'](_0x1f4728),'subscribe':_0x1f4728[_0x2425ed(0x76e)][_0x2425ed(0x5d5)](_0x1f4728),'unsubscribe':_0x1f4728[_0x2425ed(0x250)][_0x2425ed(0x5d5)](_0x1f4728),'close':_0x1f4728[_0x2425ed(0x3df)][_0x2425ed(0x5d5)](_0x1f4728)};}async[_0x13fde2(0x5c6)](_0x539c27){const _0x5859e2=_0x13fde2,_0x24c3e9=await this[_0x5859e2(0x5a1)][_0x5859e2(0x5c6)](_0x539c27);return{'getName':_0x24c3e9['getName'][_0x5859e2(0x5d5)](_0x24c3e9),'getOwnerId':_0x24c3e9[_0x5859e2(0x7d1)][_0x5859e2(0x5d5)](_0x24c3e9),'getContentType':_0x24c3e9[_0x5859e2(0x1fe)][_0x5859e2(0x5d5)](_0x24c3e9),'createJob':_0x24c3e9['createJob']['bind'](_0x24c3e9),'getJob':_0x24c3e9[_0x5859e2(0x6a9)][_0x5859e2(0x5d5)](_0x24c3e9),'getJobs':_0x24c3e9[_0x5859e2(0x31e)]['bind'](_0x24c3e9),'close':_0x24c3e9[_0x5859e2(0x3df)][_0x5859e2(0x5d5)](_0x24c3e9)};}async['openJobWorker'](_0x215637){const _0x5518b0=_0x13fde2,_0xea32a5=await this['orchestrator'][_0x5518b0(0x26e)](_0x215637);return{'close':_0xea32a5[_0x5518b0(0x3df)][_0x5518b0(0x5d5)](_0xea32a5)};}async[_0x13fde2(0x43a)](_0x3138b0){const _0x33e659=_0x13fde2,_0x1a5159=await this[_0x33e659(0x5a1)][_0x33e659(0x43a)](_0x3138b0);return{'prompt':_0x1a5159['prompt'][_0x33e659(0x5d5)](_0x1a5159),'stream':_0x1a5159[_0x33e659(0x40a)][_0x33e659(0x5d5)](_0x1a5159),'getDataBucketIds':_0x1a5159[_0x33e659(0x384)][_0x33e659(0x5d5)](_0x1a5159),'close':_0x1a5159['close'][_0x33e659(0x5d5)](_0x1a5159)};}async[_0x13fde2(0x268)](_0x4b970b){const _0xf841e4=_0x13fde2,_0x2f2c48=await this[_0xf841e4(0x5a1)][_0xf841e4(0x268)](_0x4b970b);return{'close':_0x2f2c48[_0xf841e4(0x3df)][_0xf841e4(0x5d5)](_0x2f2c48)};}[_0x13fde2(0x5a9)](_0x1fe7b3){const _0x4751c8=_0x13fde2,_0x33e009=this[_0x4751c8(0x5a1)][_0x4751c8(0x5a9)](_0x1fe7b3);return{'getName':_0x33e009[_0x4751c8(0x493)][_0x4751c8(0x5d5)](_0x33e009),'getOwnerId':_0x33e009[_0x4751c8(0x7d1)][_0x4751c8(0x5d5)](_0x33e009),'getContentType':_0x33e009[_0x4751c8(0x1fe)]['bind'](_0x33e009),'addNode':_0x33e009[_0x4751c8(0x34d)][_0x4751c8(0x5d5)](_0x33e009),'addEdge':_0x33e009['addEdge'][_0x4751c8(0x5d5)](_0x33e009),'getNeighbors':_0x33e009[_0x4751c8(0x6ea)][_0x4751c8(0x5d5)](_0x33e009),'close':_0x33e009[_0x4751c8(0x3df)][_0x4751c8(0x5d5)](_0x33e009)};}[_0x13fde2(0x39e)](_0x38080e){const _0x57b937=_0x13fde2,_0x5298ad=this[_0x57b937(0x5a1)][_0x57b937(0x39e)](_0x38080e);return{'getName':_0x5298ad[_0x57b937(0x493)][_0x57b937(0x5d5)](_0x5298ad),'getOwnerId':_0x5298ad[_0x57b937(0x7d1)]['bind'](_0x5298ad),'getContentType':_0x5298ad[_0x57b937(0x1fe)][_0x57b937(0x5d5)](_0x5298ad),'search':_0x5298ad[_0x57b937(0x245)]['bind'](_0x5298ad),'insert':_0x5298ad[_0x57b937(0x6b5)][_0x57b937(0x5d5)](_0x5298ad),'remove':_0x5298ad[_0x57b937(0x49e)][_0x57b937(0x5d5)](_0x5298ad),'close':_0x5298ad[_0x57b937(0x3df)]['bind'](_0x5298ad)};}[_0x13fde2(0x2f2)](_0x182bf5){const _0x41044a=_0x13fde2;return this[_0x41044a(0x5a1)]['getPubSubTopics'](_0x182bf5)[_0x41044a(0x3d2)](_0xe95ef2=>({'getName':_0xe95ef2[_0x41044a(0x493)]['bind'](_0xe95ef2),'getOwnerId':_0xe95ef2[_0x41044a(0x7d1)][_0x41044a(0x5d5)](_0xe95ef2),'getContentType':_0xe95ef2['getContentType'][_0x41044a(0x5d5)](_0xe95ef2),'publish':_0xe95ef2[_0x41044a(0x3c5)][_0x41044a(0x5d5)](_0xe95ef2),'subscribe':_0xe95ef2[_0x41044a(0x76e)]['bind'](_0xe95ef2),'unsubscribe':_0xe95ef2['unsubscribe'][_0x41044a(0x5d5)](_0xe95ef2),'close':_0xe95ef2['close']['bind'](_0xe95ef2)}));}['getObjectStoreBuckets'](_0x41dad4){const _0x9d7cd8=_0x13fde2;return this[_0x9d7cd8(0x5a1)]['getObjectStoreBuckets'](_0x41dad4)[_0x9d7cd8(0x3d2)](_0x19f624=>({'getName':_0x19f624[_0x9d7cd8(0x493)]['bind'](_0x19f624),'getOwnerId':_0x19f624['getOwnerId'][_0x9d7cd8(0x5d5)](_0x19f624),'getContentType':_0x19f624['getContentType'][_0x9d7cd8(0x5d5)](_0x19f624),'publish':_0x19f624[_0x9d7cd8(0x3c5)][_0x9d7cd8(0x5d5)](_0x19f624),'unpublish':_0x19f624[_0x9d7cd8(0x560)]['bind'](_0x19f624),'get':_0x19f624[_0x9d7cd8(0x556)][_0x9d7cd8(0x5d5)](_0x19f624),'list':_0x19f624[_0x9d7cd8(0x1b1)][_0x9d7cd8(0x5d5)](_0x19f624),'getSize':_0x19f624[_0x9d7cd8(0x3de)][_0x9d7cd8(0x5d5)](_0x19f624),'subscribe':_0x19f624['subscribe'][_0x9d7cd8(0x5d5)](_0x19f624),'unsubscribe':_0x19f624[_0x9d7cd8(0x250)][_0x9d7cd8(0x5d5)](_0x19f624),'close':_0x19f624['close']['bind'](_0x19f624)}));}[_0x13fde2(0x6a0)](_0x6c822f){const _0x29460c=_0x13fde2;return this[_0x29460c(0x5a1)]['getKeyValueDatabases'](_0x6c822f)[_0x29460c(0x3d2)](_0x1f9b07=>({'getName':_0x1f9b07['getName']['bind'](_0x1f9b07),'getOwnerId':_0x1f9b07[_0x29460c(0x7d1)][_0x29460c(0x5d5)](_0x1f9b07),'getContentType':_0x1f9b07[_0x29460c(0x1fe)][_0x29460c(0x5d5)](_0x1f9b07),'getTable':_0x1f9b07['getTable'][_0x29460c(0x5d5)](_0x1f9b07),'subscribe':_0x1f9b07[_0x29460c(0x76e)][_0x29460c(0x5d5)](_0x1f9b07),'unsubscribe':_0x1f9b07[_0x29460c(0x250)][_0x29460c(0x5d5)](_0x1f9b07),'close':_0x1f9b07[_0x29460c(0x3df)]['bind'](_0x1f9b07)}));}[_0x13fde2(0x665)](_0x48a428){const _0x35e49b=_0x13fde2;return this[_0x35e49b(0x5a1)][_0x35e49b(0x665)](_0x48a428)[_0x35e49b(0x3d2)](_0x259ff3=>({'prompt':_0x259ff3[_0x35e49b(0x25c)][_0x35e49b(0x5d5)](_0x259ff3),'stream':_0x259ff3[_0x35e49b(0x40a)]['bind'](_0x259ff3),'getDataBucketIds':_0x259ff3['getDataBucketIds'][_0x35e49b(0x5d5)](_0x259ff3),'close':_0x259ff3[_0x35e49b(0x3df)][_0x35e49b(0x5d5)](_0x259ff3)}));}[_0x13fde2(0x837)](_0x883961){const _0x3eb621=_0x13fde2;return this[_0x3eb621(0x5a1)]['getGenerativeAIWorkers'](_0x883961)[_0x3eb621(0x3d2)](_0x3c8a16=>({'close':_0x3c8a16[_0x3eb621(0x3df)]['bind'](_0x3c8a16)}));}[_0x13fde2(0x751)](_0x289ce5,_0x11a8cf){const _0x19826e=_0x13fde2,_0x18c7dc=this[_0x19826e(0x5a1)][_0x19826e(0x68c)](_0x289ce5,_0x11a8cf);return{'getLabel':_0x18c7dc['getLabel']['bind'](_0x18c7dc),'getOwnerId':_0x18c7dc['getOwnerId'][_0x19826e(0x5d5)](_0x18c7dc),'getContentType':_0x18c7dc[_0x19826e(0x1fe)][_0x19826e(0x5d5)](_0x18c7dc),'getMediaStream':_0x18c7dc[_0x19826e(0x28e)][_0x19826e(0x5d5)](_0x18c7dc),'setPriority':_0x18c7dc[_0x19826e(0x73b)][_0x19826e(0x5d5)](_0x18c7dc),'unpublish':_0x18c7dc[_0x19826e(0x560)][_0x19826e(0x5d5)](_0x18c7dc)};}[_0x13fde2(0x88d)](_0x5d7f03,_0x5a6800){const _0x1cc533=_0x13fde2,_0x15c202=this[_0x1cc533(0x5a1)][_0x1cc533(0x3a4)](_0x5d7f03,_0x5a6800);return{'getLabel':_0x15c202[_0x1cc533(0x230)][_0x1cc533(0x5d5)](_0x15c202),'getOwnerId':_0x15c202[_0x1cc533(0x7d1)][_0x1cc533(0x5d5)](_0x15c202),'getContentType':_0x15c202['getContentType'][_0x1cc533(0x5d5)](_0x15c202),'setPriority':_0x15c202['setPriority'][_0x1cc533(0x5d5)](_0x15c202),'unpublish':_0x15c202[_0x1cc533(0x560)][_0x1cc533(0x5d5)](_0x15c202),'getMediaStream':_0x15c202[_0x1cc533(0x28e)][_0x1cc533(0x5d5)](_0x15c202),'addTrack':_0x15c202[_0x1cc533(0x74f)][_0x1cc533(0x5d5)](_0x15c202),'removeTrack':_0x15c202['removeTrack'][_0x1cc533(0x5d5)](_0x15c202),'replaceTrack':_0x15c202[_0x1cc533(0x4cf)][_0x1cc533(0x5d5)](_0x15c202),'setTransformations':_0x15c202[_0x1cc533(0x784)][_0x1cc533(0x5d5)](_0x15c202)};}['getLocalMediaStreams'](_0x177524){const _0x533add=_0x13fde2;return this[_0x533add(0x5a1)]['getLocalMediaStreams'](_0x177524)['map'](_0x18ffac=>({'getLabel':_0x18ffac[_0x533add(0x230)]['bind'](_0x18ffac),'getOwnerId':_0x18ffac['getOwnerId'][_0x533add(0x5d5)](_0x18ffac),'getContentType':_0x18ffac[_0x533add(0x1fe)][_0x533add(0x5d5)](_0x18ffac),'getMediaStream':_0x18ffac[_0x533add(0x28e)]['bind'](_0x18ffac),'setPriority':_0x18ffac[_0x533add(0x73b)][_0x533add(0x5d5)](_0x18ffac),'unpublish':_0x18ffac[_0x533add(0x560)][_0x533add(0x5d5)](_0x18ffac)}));}[_0x13fde2(0x444)](_0x1cca3c){const _0xe15bcf=_0x13fde2;return this[_0xe15bcf(0x5a1)][_0xe15bcf(0x444)](_0x1cca3c)['map'](_0x53844d=>({'getLabel':_0x53844d[_0xe15bcf(0x230)]['bind'](_0x53844d),'getOwnerId':_0x53844d[_0xe15bcf(0x7d1)]['bind'](_0x53844d),'getContentType':_0x53844d['getContentType'][_0xe15bcf(0x5d5)](_0x53844d),'getMediaStream':_0x53844d[_0xe15bcf(0x28e)]['bind'](_0x53844d),'subscribe':_0x53844d[_0xe15bcf(0x76e)][_0xe15bcf(0x5d5)](_0x53844d),'unsubscribe':_0x53844d[_0xe15bcf(0x250)]['bind'](_0x53844d),'getAvailableTrackKinds':_0x53844d['getAvailableTrackKinds']['bind'](_0x53844d),'update':_0x53844d['update'][_0xe15bcf(0x5d5)](_0x53844d),'onProviderChange':_0x53844d['onProviderChange']['bind'](_0x53844d)}));}[_0x13fde2(0x242)](_0x1f7e31){const _0x1bf367=_0x13fde2;return this['orchestrator'][_0x1bf367(0x242)](_0x1f7e31)[_0x1bf367(0x3d2)](_0x2ffe25=>({'getName':_0x2ffe25['getName'][_0x1bf367(0x5d5)](_0x2ffe25),'getOwnerId':_0x2ffe25[_0x1bf367(0x7d1)][_0x1bf367(0x5d5)](_0x2ffe25),'getContentType':_0x2ffe25['getContentType'][_0x1bf367(0x5d5)](_0x2ffe25),'addNode':_0x2ffe25[_0x1bf367(0x34d)][_0x1bf367(0x5d5)](_0x2ffe25),'addEdge':_0x2ffe25[_0x1bf367(0x3a7)]['bind'](_0x2ffe25),'getNeighbors':_0x2ffe25['getNeighbors'][_0x1bf367(0x5d5)](_0x2ffe25),'close':_0x2ffe25[_0x1bf367(0x3df)]['bind'](_0x2ffe25)}));}[_0x13fde2(0x1bc)](_0x4256a9){const _0x403cec=_0x13fde2;return this[_0x403cec(0x5a1)][_0x403cec(0x1bc)](_0x4256a9)['map'](_0x194fd1=>({'getName':_0x194fd1[_0x403cec(0x493)][_0x403cec(0x5d5)](_0x194fd1),'getOwnerId':_0x194fd1[_0x403cec(0x7d1)][_0x403cec(0x5d5)](_0x194fd1),'getContentType':_0x194fd1[_0x403cec(0x1fe)][_0x403cec(0x5d5)](_0x194fd1),'search':_0x194fd1[_0x403cec(0x245)][_0x403cec(0x5d5)](_0x194fd1),'insert':_0x194fd1[_0x403cec(0x6b5)][_0x403cec(0x5d5)](_0x194fd1),'remove':_0x194fd1[_0x403cec(0x49e)][_0x403cec(0x5d5)](_0x194fd1),'close':_0x194fd1[_0x403cec(0x3df)][_0x403cec(0x5d5)](_0x194fd1)}));}['getLocalNode'](){const _0x1b9a1e=_0x13fde2,_0x3a52c5=this[_0x1b9a1e(0x5a1)]['getLocalNode']();switch(_0x3a52c5[_0x1b9a1e(0x5bb)]){case _0x15de5e[_0x1b9a1e(0x76b)][_0x1b9a1e(0x3a1)]:return{'type':_0x15de5e[_0x1b9a1e(0x76b)]['User'],'getId':_0x3a52c5[_0x1b9a1e(0x677)][_0x1b9a1e(0x5d5)](_0x3a52c5),'getDisplayName':_0x3a52c5['getDisplayName'][_0x1b9a1e(0x5d5)](_0x3a52c5),'getEmail':_0x3a52c5[_0x1b9a1e(0x514)][_0x1b9a1e(0x5d5)](_0x3a52c5),'getRemoteConnections':_0x3a52c5[_0x1b9a1e(0x67c)][_0x1b9a1e(0x5d5)](_0x3a52c5),'setDisplayName':_0x3a52c5[_0x1b9a1e(0x631)][_0x1b9a1e(0x5d5)](_0x3a52c5),'setEmail':_0x3a52c5['setEmail'][_0x1b9a1e(0x5d5)](_0x3a52c5)};case _0x15de5e['NodeType']['Agent']:default:return{'type':_0x15de5e[_0x1b9a1e(0x76b)][_0x1b9a1e(0x466)],'getId':_0x3a52c5[_0x1b9a1e(0x677)][_0x1b9a1e(0x5d5)](_0x3a52c5),'getRemoteConnections':_0x3a52c5[_0x1b9a1e(0x67c)][_0x1b9a1e(0x5d5)](_0x3a52c5)};}}[_0x13fde2(0x521)](_0x1a228e){const _0x22b16f=_0x13fde2;return this[_0x22b16f(0x5a1)][_0x22b16f(0x521)](_0x1a228e)['map'](_0x49f085=>{const _0x173fd1=_0x22b16f;switch(_0x49f085['type']){case _0x15de5e[_0x173fd1(0x76b)][_0x173fd1(0x3a1)]:return{'type':_0x15de5e[_0x173fd1(0x76b)]['User'],'getId':_0x49f085[_0x173fd1(0x677)][_0x173fd1(0x5d5)](_0x49f085),'getDisplayName':_0x49f085[_0x173fd1(0x831)][_0x173fd1(0x5d5)](_0x49f085),'getEmail':_0x49f085['getEmail']['bind'](_0x49f085),'getRemoteConnections':_0x49f085[_0x173fd1(0x67c)][_0x173fd1(0x5d5)](_0x49f085)};case _0x15de5e[_0x173fd1(0x76b)][_0x173fd1(0x466)]:return{'type':_0x15de5e[_0x173fd1(0x76b)]['Agent'],'getId':_0x49f085[_0x173fd1(0x677)][_0x173fd1(0x5d5)](_0x49f085),'getRemoteConnections':_0x49f085['getRemoteConnections'][_0x173fd1(0x5d5)](_0x49f085)};default:throw new _0x3fd286(_0x12afa6[_0x173fd1(0x236)],'Invalid\x20node\x20type');}});}['on']=(..._0x165a35)=>{this['eventEmitter']['on'](..._0x165a35);};[_0x13fde2(0x3f3)]=(..._0x30c24d)=>this[_0x13fde2(0x716)][_0x13fde2(0x3f3)](..._0x30c24d);[_0x13fde2(0x667)](..._0x3cd35c){const _0xa8e5df=_0x13fde2;this[_0xa8e5df(0x716)][_0xa8e5df(0x667)](..._0x3cd35c);}}class _0x1707c9{['id'];[_0x13fde2(0x55a)];[_0x13fde2(0x77c)];[_0x13fde2(0x5bb)]=_0x15de5e[_0x13fde2(0x76b)][_0x13fde2(0x3a1)];['joinedClusters']=new Map();[_0x13fde2(0x83b)]=_0x223536();constructor(_0x15892b,_0x110beb,_0x173964){const _0x1a5791=_0x13fde2;this['id']=_0x15892b,this['displayName']=_0x110beb,this[_0x1a5791(0x77c)]=_0x173964;}['getId'](){return this['id'];}['getDisplayName'](){const _0x472326=_0x13fde2;return this[_0x472326(0x55a)];}[_0x13fde2(0x514)](){const _0xa35fde=_0x13fde2;return this[_0xa35fde(0x77c)];}[_0x13fde2(0x631)](_0x212f36){const _0x324b1d=_0x13fde2;this[_0x324b1d(0x55a)]!==_0x212f36&&(this[_0x324b1d(0x55a)]=_0x212f36,this[_0x324b1d(0x83b)][_0x324b1d(0x3c5)](this));}['setEmail'](_0x14cb2c){const _0x43bd72=_0x13fde2;this['email']!==_0x14cb2c&&(this[_0x43bd72(0x77c)]=_0x14cb2c,this[_0x43bd72(0x83b)]['publish'](this));}[_0x13fde2(0x4c1)](_0x1f60b8,_0x118d2e){const _0x17b836=_0x13fde2;if(this[_0x17b836(0x847)][_0x17b836(0x7f7)](_0x1f60b8))return;const _0x58d326=this[_0x17b836(0x83b)][_0x17b836(0x76e)](_0x118d2e);this['joinedClusters'][_0x17b836(0x599)](_0x1f60b8,_0x58d326);}[_0x13fde2(0x534)](_0x2bef30){const _0x5e55e1=_0x13fde2;if(!this[_0x5e55e1(0x847)][_0x5e55e1(0x7f7)](_0x2bef30))return;const _0x3b2aa3=this[_0x5e55e1(0x847)][_0x5e55e1(0x556)](_0x2bef30);_0x3b2aa3&&_0x3b2aa3(),this[_0x5e55e1(0x847)][_0x5e55e1(0x6fd)](_0x2bef30);}}class _0x1906d3{[_0x13fde2(0x1f3)];[_0x13fde2(0x4ca)];constructor(_0x4065ee){const _0x5974ff=_0x13fde2;this[_0x5974ff(0x1f3)]=_0x4065ee;}async[_0x13fde2(0x38c)](_0x334154){const _0x188b8f=_0x13fde2,_0x548209=await(0x0,_0xe95e31['httpsCallable'])(_0x2e0290['getFunctions'](),_0x188b8f(0x26f))({'uid':'ccc'+this[_0x188b8f(0x1f3)]+'ccc'+_0x334154['id']}),_0x5b75ef=await(0x0,_0xe11812[_0x188b8f(0x59c)])(_0x2e0290[_0x188b8f(0x43b)](),_0x548209['data'][_0x188b8f(0x7af)]);this['user']=_0x5b75ef['user'];}async[_0x13fde2(0x1c4)](){const _0x3387f9=_0x13fde2;await(0x0,_0xe11812[_0x3387f9(0x1c4)])(_0x2e0290['getAuth']());}[_0x13fde2(0x872)](){const _0x16ad6b=_0x13fde2;return this[_0x16ad6b(0x4ca)]?.[_0x16ad6b(0x872)]()??Promise['reject'](_0x16ad6b(0x1b4));}}class _0xad5104{static [_0x13fde2(0x8ab)];['featureSupport']=[];constructor(){}static['getInstance'](){const _0x16aad9=_0x13fde2;return _0xad5104['instance']||(_0xad5104[_0x16aad9(0x8ab)]=new _0xad5104()),_0xad5104[_0x16aad9(0x8ab)];}['initialize'](){const _0x360199=_0x13fde2;this['checkWebRTC'](),this[_0x360199(0x7b2)](),this[_0x360199(0x2c6)](),this[_0x360199(0x78c)](),this['checkDeviceConfig'](),this[_0x360199(0x35e)](),this[_0x360199(0x63c)](),this[_0x360199(0x760)](),this[_0x360199(0x619)](),this['checkAudioContext'](),_0x3d0f37[_0x360199(0x6c1)](_0x2582bf[_0x360199(0x6b6)],_0x360199(0x41a),{'featureSupport':this[_0x360199(0x498)]});}[_0x13fde2(0x553)](_0x5c0de5){const _0x13392e=_0x13fde2,_0x4c4261=this[_0x13392e(0x498)]['find'](_0x1c2eff=>_0x1c2eff[_0x13392e(0x670)]===_0x5c0de5);return!!_0x4c4261&&_0x4c4261['supported'];}[_0x13fde2(0x4a7)](_0x244a18){const _0x438347=_0x13fde2;_0x3d0f37['logEvent'](_0x438347(0x2aa),{'nodeId':_0x244a18[_0x438347(0x677)](),'nodeType':_0x244a18['type'],'data':{'featureSupport':this[_0x438347(0x498)]}});}[_0x13fde2(0x185)](){const _0x3a4291=_0x13fde2,_0x338747=_0x11089b[_0x3a4291(0x779)];let _0x235097=!0x1;'function'==typeof RTCPeerConnection&&_0x3a4291(0x32d)==typeof RTCIceCandidate&&_0x3a4291(0x32d)==typeof RTCSessionDescription?_0x235097=!0x0:_0x3d0f37[_0x3a4291(0x6c1)](_0x2582bf[_0x3a4291(0x6b6)],'Support:\x20'+_0x338747+_0x3a4291(0x494)),this[_0x3a4291(0x498)][_0x3a4291(0x875)]({'name':_0x338747,'supported':_0x235097});}[_0x13fde2(0x7b2)](){const _0x4ef857=_0x13fde2,_0x2bec7a=_0x11089b[_0x4ef857(0x841)];let _0x4601db=!0x1;_0x4ef857(0x32d)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&'object'==typeof navigator&&'object'==typeof navigator[_0x4ef857(0x82b)]&&_0x4ef857(0x32d)==typeof navigator['mediaDevices'][_0x4ef857(0x24d)]?_0x4601db=!0x0:_0x3d0f37[_0x4ef857(0x6c1)](_0x2582bf[_0x4ef857(0x6b6)],_0x4ef857(0x867)+_0x2bec7a+_0x4ef857(0x494)),this[_0x4ef857(0x498)][_0x4ef857(0x875)]({'name':_0x2bec7a,'supported':_0x4601db});}['checkScreenSharing'](){const _0x1e0ad2=_0x13fde2,_0x2797d8=_0x11089b['ScreenSharing'];let _0xcbd6f2=!0x1;_0x1e0ad2(0x433)==typeof navigator&&'object'==typeof navigator[_0x1e0ad2(0x82b)]&&_0x1e0ad2(0x32d)==typeof navigator[_0x1e0ad2(0x82b)][_0x1e0ad2(0x2a1)]?_0xcbd6f2=!0x0:_0x3d0f37['log'](_0x2582bf[_0x1e0ad2(0x6b6)],_0x1e0ad2(0x867)+_0x2797d8+_0x1e0ad2(0x494)),this[_0x1e0ad2(0x498)][_0x1e0ad2(0x875)]({'name':_0x2797d8,'supported':_0xcbd6f2});}[_0x13fde2(0x78c)](){const _0x35e452=_0x13fde2,_0x3b042a=_0x11089b[_0x35e452(0x691)];let _0x40e793=!0x1;_0x35e452(0x32d)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x35e452(0x32d)!=typeof AudioWorkletNode||_0x35e452(0x32d)!=typeof MediaStreamAudioSourceNode?_0x3d0f37['log'](_0x2582bf[_0x35e452(0x6b6)],_0x35e452(0x867)+_0x3b042a+_0x35e452(0x494)):_0x40e793=!0x0,this[_0x35e452(0x498)][_0x35e452(0x875)]({'name':_0x3b042a,'supported':_0x40e793});}[_0x13fde2(0x6da)](){const _0x48f1a6=_0x13fde2,_0x16958b=_0x11089b[_0x48f1a6(0x30f)];let _0x9cedc4=!0x1;_0x48f1a6(0x433)==typeof navigator&&'object'==typeof navigator[_0x48f1a6(0x82b)]&&_0x48f1a6(0x32d)==typeof navigator[_0x48f1a6(0x82b)][_0x48f1a6(0x333)]&&_0x48f1a6(0x32d)==typeof MediaDeviceInfo?_0x9cedc4=!0x0:_0x3d0f37[_0x48f1a6(0x6c1)](_0x2582bf[_0x48f1a6(0x6b6)],_0x48f1a6(0x867)+_0x16958b+_0x48f1a6(0x494)),this['featureSupport'][_0x48f1a6(0x875)]({'name':_0x16958b,'supported':_0x9cedc4});}['checkAudioOutput'](){const _0x5cd83a=_0x13fde2,_0x1a4c80=_0x11089b['AudioOutput'];let _0x463cd4=!0x1;_0x5cd83a(0x433)==typeof document&&'function'==typeof document[_0x5cd83a(0x719)](_0x5cd83a(0x3c1))[_0x5cd83a(0x4d3)]?_0x463cd4=!0x0:_0x3d0f37[_0x5cd83a(0x6c1)](_0x2582bf[_0x5cd83a(0x6b6)],_0x5cd83a(0x867)+_0x1a4c80+_0x5cd83a(0x494)),this[_0x5cd83a(0x498)][_0x5cd83a(0x875)]({'name':_0x1a4c80,'supported':_0x463cd4});}async['checkMediaRecording'](){const _0x1b21af=_0x13fde2,_0x133ec0=_0x11089b[_0x1b21af(0x1a3)];let _0x4b3eab=!0x1;try{const _0x5eb7da=document[_0x1b21af(0x719)](_0x1b21af(0x6ae));if(MediaRecorder&&MediaSource&&_0x5eb7da[_0x1b21af(0x874)]){const _0x31f139=_0x5eb7da[_0x1b21af(0x874)](),_0x35eaac=new MediaRecorder(_0x31f139);_0x35eaac[_0x1b21af(0x504)](),await new Promise(_0x5e441a=>setTimeout(_0x5e441a,0x7d0)),_0x35eaac[_0x1b21af(0x4f4)](),_0x4b3eab=_0x1b21af(0x18e)===_0x35eaac[_0x1b21af(0x83d)];}}catch(_0xedb2a0){_0x3d0f37[_0x1b21af(0x6c1)](_0x2582bf[_0x1b21af(0x6b6)],_0x1b21af(0x867)+_0x133ec0+_0x1b21af(0x5e4),_0xedb2a0);}this[_0x1b21af(0x498)][_0x1b21af(0x875)]({'name':_0x133ec0,'supported':_0x4b3eab}),_0x4b3eab||_0x3d0f37[_0x1b21af(0x6c1)](_0x2582bf['Support'],'Support:\x20'+_0x133ec0+'\x20not\x20supported');}[_0x13fde2(0x760)](){const _0x3d5b70=_0x13fde2,_0x4be26d=_0x11089b['Backgrounds'];let _0x1ea100=!0x1;try{document[_0x3d5b70(0x719)]('canvas')[_0x3d5b70(0x874)]&&(_0x1ea100=!0x0);}catch(_0x59a345){_0x3d0f37['log'](_0x2582bf[_0x3d5b70(0x6b6)],_0x3d5b70(0x867)+_0x4be26d+_0x3d5b70(0x5e4),_0x59a345);}this['featureSupport'][_0x3d5b70(0x875)]({'name':_0x4be26d,'supported':_0x1ea100}),_0x1ea100||_0x3d0f37['log'](_0x2582bf[_0x3d5b70(0x6b6)],_0x3d5b70(0x867)+_0x4be26d+_0x3d5b70(0x494));}[_0x13fde2(0x619)](){const _0x5d64bc=_0x13fde2,_0x1d7402=_0x11089b['WebGL'];let _0x1f0fd8=!0x1;try{const _0x1c1cac=document[_0x5d64bc(0x719)]('canvas');WebGLRenderingContext&&_0x1c1cac[_0x5d64bc(0x7e1)](_0x5d64bc(0x809))&&(_0x1f0fd8=!0x0);}catch(_0x178ad8){_0x3d0f37[_0x5d64bc(0x6c1)](_0x2582bf[_0x5d64bc(0x6b6)],_0x5d64bc(0x867)+_0x1d7402+'\x20check\x20failed',_0x178ad8);}this[_0x5d64bc(0x498)][_0x5d64bc(0x875)]({'name':_0x1d7402,'supported':_0x1f0fd8}),_0x1f0fd8||_0x3d0f37[_0x5d64bc(0x6c1)](_0x2582bf['Support'],_0x5d64bc(0x867)+_0x1d7402+_0x5d64bc(0x494));}[_0x13fde2(0x6bc)](){const _0x35a79c=_0x13fde2,_0x444892=_0x11089b[_0x35a79c(0x7fb)];let _0x388d27=!0x1;_0x35a79c(0x32d)==typeof AudioContext?_0x388d27=!0x0:_0x3d0f37['log'](_0x2582bf['Support'],'Support:\x20'+_0x444892+_0x35a79c(0x494)),this[_0x35a79c(0x498)][_0x35a79c(0x875)]({'name':_0x444892,'supported':_0x388d27});}}const _0x5d8c6a=_0xad5104[_0x13fde2(0x48f)]();class _0x1285d8{static [_0x13fde2(0x8ab)];static ['unsubscribe'];[_0x13fde2(0x69e)];[_0x13fde2(0x1f3)];[_0x13fde2(0x708)];[_0x13fde2(0x7b0)];[_0x13fde2(0x23e)]=new Map();[_0x13fde2(0x1c3)];constructor(_0x5be4f2,_0x5644d0,_0x208e28){const _0x57a395=_0x13fde2;this[_0x57a395(0x1f3)]=_0x5be4f2,this[_0x57a395(0x7b0)]=_0x5644d0,this['authService']=new _0x1906d3(this[_0x57a395(0x1f3)]),_0x5d8c6a[_0x57a395(0x6f8)](),this[_0x57a395(0x708)]={'audioContext':_0x208e28?.[_0x57a395(0x2c3)]??(_0x5d8c6a[_0x57a395(0x553)](_0x11089b['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x208e28?.[_0x57a395(0x40b)]??0x1,'minConnections':_0x208e28?.[_0x57a395(0x567)]??0x3,'maxConnections':_0x208e28?.[_0x57a395(0x450)]??(_0x208e28?.[_0x57a395(0x567)]&&0x4*_0x208e28[_0x57a395(0x567)])??0xc,'maxDistance':_0x208e28?.[_0x57a395(0x757)]??0xa,'maxFps':_0x208e28?.['maxFps']??0x18,'maxBpp':_0x208e28?.[_0x57a395(0x59f)]??0.12,'objectStoreConnector':_0x208e28?.[_0x57a395(0x793)]??_0x56678b[_0x57a395(0x1b5)],'keyValueDatabaseConnector':_0x208e28?.[_0x57a395(0x3ae)]??_0x5abf08[_0x57a395(0x701)],'peerConnectionConnector':_0x208e28?.[_0x57a395(0x229)]??_0x1731e4[_0x57a395(0x19f)],'generativeAIWorkerConnector':_0x208e28?.[_0x57a395(0x655)],'vectorDatabaseConnector':_0x208e28?.[_0x57a395(0x6f1)],'graphDatabaseConnector':_0x208e28?.[_0x57a395(0x576)],'documentParserConnector':_0x208e28?.[_0x57a395(0x42d)],'nlpLibraryConnector':_0x208e28?.[_0x57a395(0x452)]},_0x208e28?.[_0x57a395(0x205)]&&this[_0x57a395(0x708)][_0x57a395(0x2c3)]&&_0x384e4f[_0x57a395(0x819)](this[_0x57a395(0x708)]['audioContext']),_0x3d0f37[_0x57a395(0x5f7)](this['vendorId']),_0x208e28?.[_0x57a395(0x463)]&&_0x3d0f37[_0x57a395(0x800)](_0x208e28[_0x57a395(0x463)]);}static async['getInstance'](_0x40a1b0,_0x271894,_0x109d04,_0x4edf66){const _0x591c0f=_0x13fde2,_0x383d47=await this['validateAccess'](_0x40a1b0,_0x271894,_0x4edf66);return _0x1285d8[_0x591c0f(0x8ab)]||(_0x1285d8[_0x591c0f(0x8ab)]=new _0x1285d8(_0x40a1b0,_0x383d47,_0x109d04)),{'close':_0x1285d8[_0x591c0f(0x8ab)][_0x591c0f(0x3df)]['bind'](_0x1285d8[_0x591c0f(0x8ab)]),'authenticateUser':_0x1285d8[_0x591c0f(0x8ab)][_0x591c0f(0x604)][_0x591c0f(0x5d5)](_0x1285d8['instance']),'authenticateAgent':_0x1285d8[_0x591c0f(0x8ab)]['authenticateAgent'][_0x591c0f(0x5d5)](_0x1285d8[_0x591c0f(0x8ab)]),'joinCluster':_0x1285d8[_0x591c0f(0x8ab)][_0x591c0f(0x30d)][_0x591c0f(0x5d5)](_0x1285d8[_0x591c0f(0x8ab)])};}static async['timestamp'](){const _0x3a6b4c=_0x13fde2;return _0x2e0290[_0x3a6b4c(0x65c)]();}static[_0x13fde2(0x69f)](){const _0x14a032=_0x13fde2;return _0x87736e[_0x14a032(0x69f)];}async[_0x13fde2(0x3df)](){const _0x42090b=_0x13fde2;this[_0x42090b(0x23e)]['forEach'](_0x5dadcd=>{const _0x4c4eab=_0x42090b;_0x5dadcd[_0x4c4eab(0x667)](),_0x5dadcd['leave']();}),this[_0x42090b(0x23e)][_0x42090b(0x84d)](),this[_0x42090b(0x708)]['audioContext']&&_0x384e4f['stopNoThrottlingHack'](),_0x1285d8[_0x42090b(0x250)]?.(),_0x1285d8['unsubscribe']=void 0x0,this['authContext']=void 0x0,await this['authService']['signOut'](),_0x1285d8[_0x42090b(0x8ab)]=void 0x0;}static async['validateAccess'](_0x264b9d,_0xdb9380,_0x5a3996){const _0x376219=_0x13fde2;let _0x36d72c;try{_0x36d72c=await(0x0,_0xe95e31['httpsCallable'])(_0x2e0290['getFunctions'](),_0x376219(0x189))({'vendorId':_0x264b9d,'accessToken':_0xdb9380,'secretKey':_0x5a3996});}catch(_0x233e4d){throw new _0x3fd286(_0x12afa6[_0x376219(0x5bf)],_0x376219(0x857));}if(!this[_0x376219(0x1dd)](_0x36d72c[_0x376219(0x7e0)]))throw new _0x3fd286(_0x12afa6[_0x376219(0x5bf)],_0x376219(0x857));const _0x3f8892=_0x36d72c[_0x376219(0x7e0)];return _0x3f8892[_0x376219(0x353)]||(_0x3f8892[_0x376219(0x353)]=[]),this[_0x376219(0x250)]||(this[_0x376219(0x250)]=_0x384e4f['setInterval'](async()=>{const _0x250eb9=_0x376219;try{const _0x2b354f=await this[_0x250eb9(0x55b)](_0x264b9d,_0xdb9380,_0x5a3996);_0x3f8892['iceServers']=_0x2b354f['iceServers'];}catch(_0x59ae44){}},0x1b7740)),_0x3f8892;}async[_0x13fde2(0x604)](_0x5c494b){const _0x38c7da=_0x13fde2;await this['authService']['signInWithCredential'](_0x5c494b);const _0x1e30cf=new _0x1707c9(_0x5c494b['id'],_0x5c494b[_0x38c7da(0x55a)],_0x5c494b[_0x38c7da(0x77c)]);return this['authContext']={'node':_0x1e30cf},_0x5d8c6a[_0x38c7da(0x4a7)](_0x1e30cf),{'type':_0x15de5e[_0x38c7da(0x76b)][_0x38c7da(0x3a1)],'getId':_0x1e30cf['getId']['bind'](_0x1e30cf),'getDisplayName':_0x1e30cf[_0x38c7da(0x831)][_0x38c7da(0x5d5)](_0x1e30cf),'getEmail':_0x1e30cf[_0x38c7da(0x514)][_0x38c7da(0x5d5)](_0x1e30cf),'setDisplayName':_0x1e30cf[_0x38c7da(0x631)][_0x38c7da(0x5d5)](_0x1e30cf),'setEmail':_0x1e30cf['setEmail']['bind'](_0x1e30cf)};}async['authenticateAgent'](_0x30d68b){const _0x2b3362=_0x13fde2,{id:_0x413bfb,groupId:_0x13b360}=_0x30d68b,_0x3830d5=await(0x0,_0x5b71f3[_0x2b3362(0x592)])((0x0,_0x5b71f3['doc'])(_0x2e0290['getFirestore'](),_0x2b3362(0x424)+this[_0x2b3362(0x1f3)]+'/resources/agent/items/'+_0x13b360));if(!_0x3830d5[_0x2b3362(0x80e)]())throw new _0x3fd286(_0x12afa6[_0x2b3362(0x575)],_0x2b3362(0x3d8));const _0x246bca=_0x3830d5[_0x2b3362(0x7e0)]();await this[_0x2b3362(0x69e)][_0x2b3362(0x38c)]({'id':_0x413bfb});const _0x7b49d0=new _0x4d783a(_0x413bfb,_0x13b360,this[_0x2b3362(0x1f3)],_0x246bca);return this[_0x2b3362(0x1c3)]={'node':_0x7b49d0},_0x5d8c6a['logSupport'](_0x7b49d0),await this[_0x2b3362(0x528)](_0x7b49d0),{'type':_0x15de5e['NodeType'][_0x2b3362(0x466)],'getId':_0x7b49d0[_0x2b3362(0x677)][_0x2b3362(0x5d5)](_0x7b49d0),'onConfigurationChange':_0x7b49d0[_0x2b3362(0x8c1)][_0x2b3362(0x5d5)](_0x7b49d0),'setReportCapacity':_0x7b49d0[_0x2b3362(0x2fc)]['bind'](_0x7b49d0)};}async[_0x13fde2(0x30d)](_0x1e4dba){const _0x2ef00b=_0x13fde2;if(!this[_0x2ef00b(0x1c3)])throw new _0x3fd286(_0x12afa6[_0x2ef00b(0x575)],_0x2ef00b(0x375));if(this[_0x2ef00b(0x1c3)][_0x2ef00b(0x839)]['type']!==_0x15de5e[_0x2ef00b(0x76b)][_0x2ef00b(0x3a1)])throw new _0x3fd286(_0x12afa6['NodeTypeNotSupported'],_0x2ef00b(0x549));if(this[_0x2ef00b(0x23e)]['has'](_0x1e4dba))throw new _0x3fd286(_0x12afa6[_0x2ef00b(0x64f)],_0x2ef00b(0x6c2));const _0x32380b=new _0x198583(this[_0x2ef00b(0x1f3)],_0x1e4dba,this[_0x2ef00b(0x1c3)][_0x2ef00b(0x839)],this['authService'],this[_0x2ef00b(0x708)],this[_0x2ef00b(0x7b0)]);return await _0x32380b['join'](),this['addCluster'](_0x1e4dba,_0x32380b),_0x3d0f37[_0x2ef00b(0x87a)]('join-cluster',{'clusterId':_0x1e4dba,'nodeId':this['authContext'][_0x2ef00b(0x839)][_0x2ef00b(0x677)](),'nodeType':this[_0x2ef00b(0x1c3)]['node'][_0x2ef00b(0x5bb)]}),{'leave':_0x32380b[_0x2ef00b(0x78b)][_0x2ef00b(0x5d5)](_0x32380b),'getLocalNode':_0x32380b['getLocalNode']['bind'](_0x32380b),'openPubSubTopic':_0x32380b[_0x2ef00b(0x37f)][_0x2ef00b(0x5d5)](_0x32380b),'openObjectStoreBucket':_0x32380b[_0x2ef00b(0x843)][_0x2ef00b(0x5d5)](_0x32380b),'openKeyValueDatabase':_0x32380b[_0x2ef00b(0x2b0)][_0x2ef00b(0x5d5)](_0x32380b),'openGenerativeAIContext':_0x32380b[_0x2ef00b(0x43a)]['bind'](_0x32380b),'openGenerativeAIWorker':_0x32380b[_0x2ef00b(0x268)][_0x2ef00b(0x5d5)](_0x32380b),'openGraphDatabase':_0x32380b[_0x2ef00b(0x5a9)][_0x2ef00b(0x5d5)](_0x32380b),'openVectorDatabase':_0x32380b[_0x2ef00b(0x39e)][_0x2ef00b(0x5d5)](_0x32380b),'publishLocalMediaStream':_0x32380b['publishLocalMediaStream']['bind'](_0x32380b),'publishLocalDynamicMediaStream':_0x32380b[_0x2ef00b(0x88d)][_0x2ef00b(0x5d5)](_0x32380b),'getPubSubTopics':_0x32380b[_0x2ef00b(0x2f2)]['bind'](_0x32380b),'getObjectStoreBuckets':_0x32380b[_0x2ef00b(0x7ef)]['bind'](_0x32380b),'getKeyValueDatabases':_0x32380b[_0x2ef00b(0x6a0)]['bind'](_0x32380b),'getGenerativeAIContexts':_0x32380b[_0x2ef00b(0x665)]['bind'](_0x32380b),'getGenerativeAIWorkers':_0x32380b[_0x2ef00b(0x837)]['bind'](_0x32380b),'getGraphDatabases':_0x32380b['getGraphDatabases']['bind'](_0x32380b),'getVectorDatabases':_0x32380b[_0x2ef00b(0x1bc)][_0x2ef00b(0x5d5)](_0x32380b),'getLocalMediaStreams':_0x32380b['getLocalMediaStreams'][_0x2ef00b(0x5d5)](_0x32380b),'getRemoteMediaStreams':_0x32380b['getRemoteMediaStreams']['bind'](_0x32380b),'getRemoteNodes':_0x32380b['getRemoteNodes'][_0x2ef00b(0x5d5)](_0x32380b),'on':_0x32380b['on']['bind'](_0x32380b),'off':_0x32380b[_0x2ef00b(0x667)]['bind'](_0x32380b)};}async[_0x13fde2(0x528)](_0x11ac68){const _0x246c8a=_0x13fde2;for(const _0x10cade of _0x11ac68['agentConfig']['clusters']){const _0x2e50e3=new _0x198583(this['vendorId'],_0x10cade['id'],_0x11ac68,this['authService'],this[_0x246c8a(0x708)],this[_0x246c8a(0x7b0)]);await _0x2e50e3[_0x246c8a(0x7a9)](),this['addCluster'](_0x10cade['id'],_0x2e50e3);for(const _0x2e8afc of _0x10cade[_0x246c8a(0x5c1)]??[])_0x2e50e3[_0x246c8a(0x37f)](_0x2e8afc);for(const _0x5d2558 of _0x10cade['objectStorageBuckets']??[])await _0x2e50e3[_0x246c8a(0x843)](_0x5d2558);for(const _0x24e4d2 of _0x10cade['keyValueDatabases']??[])await _0x2e50e3[_0x246c8a(0x2b0)](_0x24e4d2,{'version':0x1,'tables':{}});for(const _0x55248e of _0x10cade[_0x246c8a(0x7e6)]??[])_0x2e50e3['openGraphDatabase'](_0x55248e);for(const _0x5d2b9a of _0x10cade['vectorDatabases']??[])_0x2e50e3[_0x246c8a(0x39e)](_0x5d2b9a);for(const _0x191788 of _0x10cade[_0x246c8a(0x370)]??[])await _0x2e50e3[_0x246c8a(0x268)](_0x191788);}}['addCluster'](_0x4063b3,_0x345d49){const _0x548109=_0x13fde2;this[_0x548109(0x23e)][_0x548109(0x599)](_0x4063b3,_0x345d49),_0x345d49['on']('cluster-leave',()=>{const _0x1bfd0d=_0x548109;_0x345d49[_0x1bfd0d(0x667)](),this[_0x1bfd0d(0x23e)][_0x1bfd0d(0x6fd)](_0x4063b3);});}static[_0x13fde2(0x1dd)](_0x5a866d){const _0x202c04=_0x13fde2;return void 0x0!==_0x5a866d[_0x202c04(0x228)];}}return _0x503f51;})())));