function a0_0x50a3(_0x1cbdd0,_0x497834){const _0xeeb2e3=a0_0xeeb2();return a0_0x50a3=function(_0x50a3fe,_0x199cf0){_0x50a3fe=_0x50a3fe-0x6c;let _0x437a3f=_0xeeb2e3[_0x50a3fe];return _0x437a3f;},a0_0x50a3(_0x1cbdd0,_0x497834);}(function(_0x30e9ac,_0x1176b7){const _0x595757=a0_0x50a3,_0x53a3f5=_0x30e9ac();while(!![]){try{const _0x55af71=-parseInt(_0x595757(0x3e4))/0x1+-parseInt(_0x595757(0x303))/0x2+parseInt(_0x595757(0x45b))/0x3*(parseInt(_0x595757(0x553))/0x4)+-parseInt(_0x595757(0x3ca))/0x5+-parseInt(_0x595757(0x30d))/0x6+-parseInt(_0x595757(0x9d0))/0x7+parseInt(_0x595757(0x62f))/0x8;if(_0x55af71===_0x1176b7)break;else _0x53a3f5['push'](_0x53a3f5['shift']());}catch(_0xb780f){_0x53a3f5['push'](_0x53a3f5['shift']());}}}(a0_0xeeb2,0x5b728),!function(_0x772bc8,_0x7584f2){const _0x4d0bfc=a0_0x50a3;if(_0x4d0bfc(0x8de)==typeof exports&&_0x4d0bfc(0x8de)==typeof module)module[_0x4d0bfc(0x446)]=_0x7584f2();else{if('function'==typeof define&&define[_0x4d0bfc(0x21b)])define([],_0x7584f2);else{var _0x5e5d7e=_0x7584f2();for(var _0x1f77b3 in _0x5e5d7e)('object'==typeof exports?exports:_0x772bc8)[_0x1f77b3]=_0x5e5d7e[_0x1f77b3];}}}(this,()=>((()=>{'use strict';const _0x4d79c3=a0_0x50a3;var _0x3c6294={0x14d:(_0x332bce,_0x58e0d0,_0x405b3c)=>{const _0x368fa4=a0_0x50a3;_0x405b3c['d'](_0x58e0d0,{'O':()=>_0x560e61});const _0x560e61={'version':_0x368fa4(0x4b4),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x368fa4(0x976),'authDomain':_0x368fa4(0x2de),'databaseURL':_0x368fa4(0x5ba),'projectId':_0x368fa4(0x751),'storageBucket':_0x368fa4(0x974),'appId':_0x368fa4(0xaad),'functionsRegion':'northamerica-northeast1'},'apiUrl':'https://api.stg.crewdle.ai','google':{'searchEngineId':_0x368fa4(0x197)},'aws':{'endpoint':_0x368fa4(0x3a4),'region':'us-east-1'}};},0x33b:(_0x30a3d9,_0xb2862e,_0x248263)=>{_0x248263['d'](_0xb2862e,{'O':()=>_0x10dbb7});const _0x10dbb7={};},0x3e6:(_0x43c2c2,_0x5288e0,_0x4c3ab5)=>{const _0x48a8ba=a0_0x50a3;_0x4c3ab5['d'](_0x5288e0,{'O':()=>_0x2b6fbe});const _0x2b6fbe={'version':'1.0.47','isProduction':!0x0,'firebaseConfig':{'apiKey':_0x48a8ba(0x73a),'authDomain':_0x48a8ba(0x942),'databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':_0x48a8ba(0x745),'storageBucket':_0x48a8ba(0x8eb),'messagingSenderId':_0x48a8ba(0x50b),'appId':_0x48a8ba(0x340),'measurementId':_0x48a8ba(0x6c1)},'apiUrl':'https://api.crewdle.ai','aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x48a8ba(0x869)}};},0x20:(_0x5022fd,_0x46d592,_0x3c0bd1)=>{_0x3c0bd1['d'](_0x46d592,{'O':()=>_0x3ac808});const _0x3ac808={};}},_0xe982af={};function _0x36ca33(_0x2bd989){const _0x1f2ebe=a0_0x50a3;var _0x1071ee=_0xe982af[_0x2bd989];if(void 0x0!==_0x1071ee)return _0x1071ee[_0x1f2ebe(0x446)];var _0x3664b2=_0xe982af[_0x2bd989]={'exports':{}};return _0x3c6294[_0x2bd989](_0x3664b2,_0x3664b2['exports'],_0x36ca33),_0x3664b2[_0x1f2ebe(0x446)];}_0x36ca33['d']=(_0x4807a0,_0x1d711d)=>{for(var _0x1f87a8 in _0x1d711d)_0x36ca33['o'](_0x1d711d,_0x1f87a8)&&!_0x36ca33['o'](_0x4807a0,_0x1f87a8)&&Object['defineProperty'](_0x4807a0,_0x1f87a8,{'enumerable':!0x0,'get':_0x1d711d[_0x1f87a8]});},_0x36ca33['g']=(function(){const _0x508a06=a0_0x50a3;if('object'==typeof globalThis)return globalThis;try{return this||new Function(_0x508a06(0x857))();}catch(_0x7d80a3){if(_0x508a06(0x8de)==typeof window)return window;}}()),_0x36ca33['o']=(_0x2bb912,_0x17dc6e)=>Object[_0x4d79c3(0x533)][_0x4d79c3(0x1ac)]['call'](_0x2bb912,_0x17dc6e),_0x36ca33['r']=_0x127da2=>{const _0x35bdd0=_0x4d79c3;_0x35bdd0(0x75e)!=typeof Symbol&&Symbol[_0x35bdd0(0x35f)]&&Object[_0x35bdd0(0x753)](_0x127da2,Symbol[_0x35bdd0(0x35f)],{'value':_0x35bdd0(0x5b9)}),Object[_0x35bdd0(0x753)](_0x127da2,_0x35bdd0(0x96d),{'value':!0x0});};var _0x4b1e43,_0x51804b,_0x44f26b,_0x219845={};_0x36ca33['r'](_0x219845),_0x36ca33['d'](_0x219845,{'KeyValueDatabase':()=>_0x47c68a,'LayoutBuilder':()=>_0x1f376e,'LoggingChannels':()=>_0x44f26b,'QueryBuilder':()=>_0x56c126,'SDK':()=>_0x1d47e6,'SDKClientErrorCodes':()=>_0x4b1e43,'TableBuilder':()=>_0xbee100,'logger':()=>_0x10d8cb}),function(_0x460575){const _0x5614bc=_0x4d79c3;_0x460575['ApiKeyMissing']=_0x5614bc(0x788),_0x460575[_0x5614bc(0x61c)]=_0x5614bc(0xa92),_0x460575[_0x5614bc(0x41b)]=_0x5614bc(0x89e),_0x460575[_0x5614bc(0x36e)]=_0x5614bc(0x84a),_0x460575['ExternalStorageConnectionAlreadySubscribed']=_0x5614bc(0x640),_0x460575[_0x5614bc(0x3df)]=_0x5614bc(0x4b2),_0x460575[_0x5614bc(0x3b6)]=_0x5614bc(0x5a7),_0x460575[_0x5614bc(0x92f)]=_0x5614bc(0x28e),_0x460575[_0x5614bc(0xa66)]='external-storage-name-not-string',_0x460575[_0x5614bc(0x5fe)]=_0x5614bc(0x556),_0x460575[_0x5614bc(0x7b3)]=_0x5614bc(0x299),_0x460575['GenerativeAIContextDoesNotExist']=_0x5614bc(0x9cf),_0x460575[_0x5614bc(0x2be)]=_0x5614bc(0x8cb),_0x460575[_0x5614bc(0x4f2)]='generative-ai-context-job-invalid-type',_0x460575[_0x5614bc(0x354)]=_0x5614bc(0x47d),_0x460575[_0x5614bc(0x5d4)]=_0x5614bc(0x398),_0x460575[_0x5614bc(0x6e7)]=_0x5614bc(0x1cb),_0x460575[_0x5614bc(0x8d6)]=_0x5614bc(0x905),_0x460575[_0x5614bc(0xfe)]=_0x5614bc(0x54b),_0x460575[_0x5614bc(0xa6b)]=_0x5614bc(0x1e9),_0x460575[_0x5614bc(0x1f1)]=_0x5614bc(0x65f),_0x460575[_0x5614bc(0x14e)]=_0x5614bc(0x8ac),_0x460575[_0x5614bc(0x926)]=_0x5614bc(0x65c),_0x460575[_0x5614bc(0x8ed)]=_0x5614bc(0x4a2),_0x460575[_0x5614bc(0x228)]=_0x5614bc(0x282),_0x460575['JobDispatcherJobNotFound']=_0x5614bc(0x1fa),_0x460575[_0x5614bc(0x739)]=_0x5614bc(0x4ab),_0x460575['JobWorkerAlreadyExists']=_0x5614bc(0x308),_0x460575[_0x5614bc(0x798)]=_0x5614bc(0x620),_0x460575[_0x5614bc(0x6d4)]=_0x5614bc(0x762),_0x460575[_0x5614bc(0x3d2)]='object-store-already-subscribed',_0x460575[_0x5614bc(0x8a2)]=_0x5614bc(0x22f),_0x460575['ObjectStoreNameNotString']=_0x5614bc(0x68d),_0x460575[_0x5614bc(0x1ab)]=_0x5614bc(0x69d),_0x460575['ObjectStoreInvalidPath']=_0x5614bc(0x3b0),_0x460575[_0x5614bc(0x685)]=_0x5614bc(0x92b),_0x460575[_0x5614bc(0x789)]=_0x5614bc(0x43e),_0x460575[_0x5614bc(0x435)]=_0x5614bc(0x415),_0x460575[_0x5614bc(0x125)]='key-value-database-already-exists',_0x460575[_0x5614bc(0x4d7)]=_0x5614bc(0x7a1),_0x460575['KeyValueDatabaseIndexNotFound']=_0x5614bc(0x827),_0x460575['KeyValueDatabaseInvalidQuery']=_0x5614bc(0x4f4),_0x460575[_0x5614bc(0x882)]=_0x5614bc(0x64d),_0x460575[_0x5614bc(0x74e)]=_0x5614bc(0x1e5),_0x460575['KeyValueDatabaseNotOpen']='key-value-database-not-open',_0x460575[_0x5614bc(0x2c6)]=_0x5614bc(0x721),_0x460575[_0x5614bc(0x978)]=_0x5614bc(0x131),_0x460575[_0x5614bc(0x6b9)]=_0x5614bc(0x613),_0x460575[_0x5614bc(0x726)]=_0x5614bc(0x86e),_0x460575[_0x5614bc(0x4c7)]='local-media-stream-no-audio-context',_0x460575[_0x5614bc(0x2eb)]=_0x5614bc(0x91c),_0x460575[_0x5614bc(0x3dd)]=_0x5614bc(0x86f),_0x460575['PubSubTopicNameNotString']=_0x5614bc(0x55d),_0x460575[_0x5614bc(0x671)]=_0x5614bc(0x7ee),_0x460575[_0x5614bc(0x659)]='query-helper-invalid-argument',_0x460575['RemoteMediaStreamAlreadyExists']=_0x5614bc(0x82c),_0x460575[_0x5614bc(0x41c)]=_0x5614bc(0x203),_0x460575[_0x5614bc(0x9bf)]=_0x5614bc(0xe7),_0x460575[_0x5614bc(0x949)]=_0x5614bc(0x379),_0x460575[_0x5614bc(0x934)]=_0x5614bc(0x4d2),_0x460575[_0x5614bc(0x4be)]=_0x5614bc(0x539),_0x460575['NodeTypeRequired']=_0x5614bc(0x481),_0x460575['VectorDatabaseAlreadyExists']=_0x5614bc(0x309),_0x460575[_0x5614bc(0x64e)]=_0x5614bc(0x229),_0x460575[_0x5614bc(0xa7d)]=_0x5614bc(0x5f1),_0x460575[_0x5614bc(0x8c3)]=_0x5614bc(0xa93);}(_0x4b1e43||(_0x4b1e43={}));class _0x322bb6 extends Error{['code'];constructor(_0x56047b,_0x2ef582){const _0x51845f=_0x4d79c3;super(_0x2ef582),this[_0x51845f(0x2ef)]=_0x56047b;}}!function(_0x5ecd83){const _0x15765c=_0x4d79c3;_0x5ecd83[_0x15765c(0x1bd)]=_0x15765c(0x7d8),_0x5ecd83[_0x15765c(0x422)]=_0x15765c(0x7c5),_0x5ecd83['KeyValueDatabase']=_0x15765c(0x281),_0x5ecd83[_0x15765c(0xa62)]=_0x15765c(0x925),_0x5ecd83[_0x15765c(0x7e0)]=_0x15765c(0x113),_0x5ecd83[_0x15765c(0x847)]=_0x15765c(0x53f),_0x5ecd83['MediaStream']=_0x15765c(0xa28),_0x5ecd83[_0x15765c(0xa59)]='generative-ai';}(_0x51804b||(_0x51804b={})),function(_0x19511d){const _0xcc08f4=_0x4d79c3;_0x19511d['All']='all',_0x19511d['Default']=_0xcc08f4(0x887),_0x19511d['Connection']=_0xcc08f4(0x296),_0x19511d['ConnectionState']=_0xcc08f4(0x508),_0x19511d['Cluster']='cluster',_0x19511d['Content']='content',_0x19511d['DataStream']=_0xcc08f4(0x8d5),_0x19511d[_0xcc08f4(0x35b)]=_0xcc08f4(0x49a),_0x19511d[_0xcc08f4(0x5c9)]=_0xcc08f4(0x3e5),_0x19511d[_0xcc08f4(0x796)]=_0xcc08f4(0x23a),_0x19511d[_0xcc08f4(0x7f1)]=_0xcc08f4(0x8ec),_0x19511d[_0xcc08f4(0xaac)]=_0xcc08f4(0x281),_0x19511d[_0xcc08f4(0x6a5)]=_0xcc08f4(0x75d),_0x19511d[_0xcc08f4(0x4ce)]=_0xcc08f4(0xc3),_0x19511d[_0xcc08f4(0x1bd)]=_0xcc08f4(0x7d8),_0x19511d[_0xcc08f4(0x515)]='receiver-on-message',_0x19511d[_0xcc08f4(0xa5f)]='remediation',_0x19511d['SenderSendMessage']=_0xcc08f4(0xaa2),_0x19511d['Signaling']=_0xcc08f4(0x7b),_0x19511d[_0xcc08f4(0x106)]=_0xcc08f4(0x511),_0x19511d[_0xcc08f4(0xa34)]=_0xcc08f4(0x921),_0x19511d['Support']=_0xcc08f4(0x107),_0x19511d[_0xcc08f4(0x657)]=_0xcc08f4(0x87e),_0x19511d['SystemStats']=_0xcc08f4(0x710),_0x19511d[_0xcc08f4(0x38b)]=_0xcc08f4(0x95c),_0x19511d['PeerConnection']=_0xcc08f4(0x207);}(_0x44f26b||(_0x44f26b={}));const _0xf8ccf2=require('@crewdle/web-sdk-types');class _0x56c126{[_0x4d79c3(0x6f1)];constructor(_0x31d84c){const _0x518485=_0x4d79c3;this['query']={'orderBy':{'key':_0x31d84c,'direction':_0x518485(0x1bb)}};}static[_0x4d79c3(0x16a)](_0xf40043){const _0x1b01c0=_0x4d79c3;if(_0x1b01c0(0x2ae)!=typeof _0xf40043||0x0===_0xf40043[_0x1b01c0(0x4bf)])throw new _0x322bb6(_0x4b1e43[_0x1b01c0(0x659)],_0x1b01c0(0x714));return new _0x56c126(_0xf40043);}static[_0x4d79c3(0x5d8)](_0x595a39){const _0x341204=_0x4d79c3;try{return _0x56c126[_0x341204(0x94c)](_0x595a39),!0x0;}catch(_0x542ad1){return!0x1;}}static[_0x4d79c3(0x94c)](_0x375a7a){const _0x35ffc1=_0x4d79c3,_0x50c8c6=_0x56c126[_0x35ffc1(0x16a)](_0x375a7a[_0x35ffc1(0x6b2)]?.[_0x35ffc1(0x1db)]??_0x375a7a[_0x35ffc1(0x30b)]?.[_0x35ffc1(0x1db)]??'');if(_0x375a7a[_0x35ffc1(0x30b)]){const _0x5ccde4=_0x375a7a[_0x35ffc1(0x30b)];if((_0x56c126[_0x35ffc1(0x9d)](_0x5ccde4)||_0x56c126[_0x35ffc1(0x783)](_0x5ccde4)||_0x56c126['isWhereBetween'](_0x5ccde4))&&_0x50c8c6[_0x35ffc1(0x30b)](_0x5ccde4[_0x35ffc1(0xab4)],_0x5ccde4[_0x35ffc1(0x433)]),_0x375a7a['orderBy']?.[_0x35ffc1(0x1db)]&&_0x375a7a['orderBy']?.[_0x35ffc1(0x1db)]!==_0x375a7a['where'][_0x35ffc1(0x1db)])throw new _0x322bb6(_0x4b1e43['QueryBuilderInvalidArgument'],_0x35ffc1(0x50d));}return _0x375a7a['orderBy']&&_0x50c8c6[_0x35ffc1(0x6b2)](_0x375a7a[_0x35ffc1(0x6b2)][_0x35ffc1(0x479)]),_0x375a7a[_0x35ffc1(0x252)]&&_0x50c8c6[_0x35ffc1(0x252)](_0x375a7a[_0x35ffc1(0x252)]),_0x375a7a[_0x35ffc1(0x3b2)]&&_0x50c8c6[_0x35ffc1(0x3b2)](_0x375a7a['offset']),_0x50c8c6;}[_0x4d79c3(0x1df)](){const _0x4b31e9=_0x4d79c3;return{...this[_0x4b31e9(0x6f1)]};}[_0x4d79c3(0x30b)](_0x2a4354,_0x35796d){const _0x47951a=_0x4d79c3,_0x38c185={'key':this[_0x47951a(0x6f1)][_0x47951a(0x6b2)][_0x47951a(0x1db)],'operator':_0x2a4354,'value':_0x35796d};if(!_0x56c126[_0x47951a(0x9d)](_0x38c185)&&!_0x56c126[_0x47951a(0x783)](_0x38c185)&&!_0x56c126[_0x47951a(0x1f0)](_0x38c185))throw new _0x322bb6(_0x4b1e43['QueryBuilderInvalidArgument'],_0x47951a(0x266));return this[_0x47951a(0x6f1)]['where']=_0x38c185,this;}['orderBy'](_0x467312){const _0x43d2d2=_0x4d79c3;if(_0x43d2d2(0x1bb)!==_0x467312&&'desc'!==_0x467312)throw new _0x322bb6(_0x4b1e43['QueryBuilderInvalidArgument'],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x43d2d2(0x6f1)]['orderBy'][_0x43d2d2(0x479)]=_0x467312,this;}[_0x4d79c3(0x252)](_0x58d03d){const _0x551414=_0x4d79c3;if(_0x551414(0x15e)!=typeof _0x58d03d||_0x58d03d<0x0)throw new _0x322bb6(_0x4b1e43[_0x551414(0x659)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x551414(0x6f1)][_0x551414(0x252)]=_0x58d03d,this;}['offset'](_0x28ff20){const _0x51a9c4=_0x4d79c3;if('number'!=typeof _0x28ff20||_0x28ff20<0x0)throw new _0x322bb6(_0x4b1e43[_0x51a9c4(0x659)],_0x51a9c4(0x7c2));return this[_0x51a9c4(0x6f1)]['offset']=_0x28ff20,this;}static['isWhereValue'](_0x23f5bb){const _0x25139f=_0x4d79c3;if(!(_0x23f5bb&&_0x25139f(0x8de)==typeof _0x23f5bb&&_0x25139f(0xab4)in _0x23f5bb&&_0x25139f(0x433)in _0x23f5bb))return!0x1;const {operator:_0x11cde4,value:_0x3584d0}=_0x23f5bb;return!(!['==','!=','>','<','<=','>='][_0x25139f(0xcc)](_0x11cde4)||Array[_0x25139f(0x61d)](_0x3584d0));}static[_0x4d79c3(0x783)](_0x5859d8){const _0x1df0d8=_0x4d79c3;if(!(_0x5859d8&&_0x1df0d8(0x8de)==typeof _0x5859d8&&_0x1df0d8(0xab4)in _0x5859d8&&_0x1df0d8(0x433)in _0x5859d8))return!0x1;const {operator:_0x1cbfa9,value:_0x81a767}=_0x5859d8;return!(!['in',_0x1df0d8(0x903)][_0x1df0d8(0xcc)](_0x1cbfa9)||!Array[_0x1df0d8(0x61d)](_0x81a767));}static[_0x4d79c3(0x1f0)](_0x5ca60d){const _0x54892a=_0x4d79c3;if(!(_0x5ca60d&&_0x54892a(0x8de)==typeof _0x5ca60d&&_0x54892a(0xab4)in _0x5ca60d&&_0x54892a(0x433)in _0x5ca60d))return!0x1;const {operator:_0x48f5d9,value:_0x59067c}=_0x5ca60d;return!(_0x54892a(0x61a)!==_0x48f5d9||!Array[_0x54892a(0x61d)](_0x59067c)||0x2!==_0x59067c['length']);}}class _0x1f376e{['layout'];constructor(_0x1e2280){const _0x25c896=_0x4d79c3;this[_0x25c896(0x7cd)]={'tables':{},'version':_0x1e2280};}static[_0x4d79c3(0x566)](_0x49f8b3){const _0x43c109=_0x4d79c3;for(const _0x24a29f in _0x49f8b3){if(_0x43c109(0x736)!==_0x24a29f&&_0x43c109(0x220)!==_0x24a29f)return[!0x1,'Invalid\x20key\x20\x27'+_0x24a29f+'\x27\x20in\x20layout'];if('tables'===_0x24a29f)for(const _0x4b769b in _0x49f8b3['tables']){if(_0x43c109(0x2ae)!=typeof _0x4b769b)return[!0x1,_0x43c109(0x8e4)+_0x4b769b+'\x27'];for(const _0x4d861d in _0x49f8b3[_0x43c109(0x220)][_0x4b769b]){if(_0x43c109(0x17c)!==_0x4d861d)return[!0x1,_0x43c109(0x2ac)+_0x4d861d+_0x43c109(0x81b)+_0x4b769b+'\x27'];const _0x37b224=_0x49f8b3[_0x43c109(0x220)][_0x4b769b][_0x4d861d]??[];for(const _0x221117 of _0x37b224)if(void 0x0===_0x221117[_0x43c109(0xa91)]||_0x43c109(0x2ae)!=typeof _0x221117[_0x43c109(0xa91)])return[!0x1,_0x43c109(0x432)+_0x4b769b+_0x43c109(0xa27)];}}else{if('version'===_0x24a29f&&_0x43c109(0x15e)!=typeof _0x49f8b3[_0x24a29f])return[!0x1,'Invalid\x20version\x20\x27'+_0x49f8b3[_0x24a29f]+_0x43c109(0x358)];}}return[!0x0,_0x43c109(0x5d9)];}static[_0x4d79c3(0x7cd)](_0x197ae6){const _0x1143a3=_0x4d79c3,_0x20c35c=new _0x1f376e(_0x197ae6);return _0x20c35c[_0x1143a3(0x7cd)][_0x1143a3(0x736)]=_0x197ae6,_0x20c35c;}['table'](_0x4445a2){const _0x2d20de=_0x4d79c3;return this[_0x2d20de(0x7cd)]['tables'][_0x4445a2]={},new _0xbee100(this[_0x2d20de(0x7cd)][_0x2d20de(0x220)][_0x4445a2]);}['getLayout'](){const _0x32420a=_0x4d79c3;return this[_0x32420a(0x7cd)];}}class _0xbee100{['tableLayout'];constructor(_0x1af143){const _0x1128e7=_0x4d79c3;this[_0x1128e7(0x8af)]=_0x1af143;}['index'](_0x171eab){const _0x5b0c74=_0x4d79c3;return this[_0x5b0c74(0x8af)]['indexes']=this[_0x5b0c74(0x8af)]['indexes']??[],this['tableLayout'][_0x5b0c74(0x17c)][_0x5b0c74(0x15b)]({'keyPath':_0x171eab}),this;}}const _0x29dd5a=0x40000,_0x4d74ee=0x20000,_0x5e33e5=0x1388,_0x25a63c=_0x4d79c3(0x53c),_0xaa1083=_0x4d79c3(0x580),_0x2e5e2b=_0x4d79c3(0x757),_0x578754=_0x4d79c3(0x3a1),_0x4086fa=0xdbba0,_0x182e0e=0x61a8,_0x2415f3=_0x4d79c3(0x172);var _0x1e897e;!function(_0x5e8a26){const _0x29e886=_0x4d79c3;_0x5e8a26[_0x29e886(0xa87)]=_0x29e886(0x794),_0x5e8a26[_0x29e886(0x5a6)]=_0x29e886(0x6d9),_0x5e8a26[_0x29e886(0x507)]=_0x29e886(0x4ba),_0x5e8a26[_0x29e886(0xa0d)]='connection-invalid-data-event',_0x5e8a26[_0x29e886(0x72)]=_0x29e886(0x153),_0x5e8a26[_0x29e886(0x53b)]=_0x29e886(0x916),_0x5e8a26[_0x29e886(0x49f)]=_0x29e886(0x813),_0x5e8a26[_0x29e886(0x636)]=_0x29e886(0x820),_0x5e8a26[_0x29e886(0x8f6)]=_0x29e886(0x773),_0x5e8a26[_0x29e886(0x5ca)]='generative-ai-context-job-timeout',_0x5e8a26[_0x29e886(0x713)]='generative-ai-worker-creation-failed',_0x5e8a26['GraphDatabaseCreationFailed']='graph-database-creation-failed',_0x5e8a26['InvalidDataChannel']=_0x29e886(0x3fe),_0x5e8a26[_0x29e886(0x2f9)]='invalid-publisher',_0x5e8a26['InvalidSubscriber']='invalid-subscriber',_0x5e8a26[_0x29e886(0x82b)]=_0x29e886(0x3c6),_0x5e8a26[_0x29e886(0x191)]=_0x29e886(0x81e),_0x5e8a26[_0x29e886(0x836)]=_0x29e886(0x256),_0x5e8a26[_0x29e886(0x49b)]=_0x29e886(0x1fa),_0x5e8a26[_0x29e886(0xc2)]=_0x29e886(0x2ce),_0x5e8a26[_0x29e886(0x561)]=_0x29e886(0x810),_0x5e8a26[_0x29e886(0x811)]=_0x29e886(0x630),_0x5e8a26[_0x29e886(0x402)]='key-value-database-creation-failed',_0x5e8a26[_0x29e886(0x832)]='key-value-database-peak-not-found',_0x5e8a26[_0x29e886(0x2d7)]=_0x29e886(0x262),_0x5e8a26[_0x29e886(0x91d)]=_0x29e886(0x3eb),_0x5e8a26[_0x29e886(0x693)]=_0x29e886(0x188),_0x5e8a26[_0x29e886(0x3d0)]=_0x29e886(0x463),_0x5e8a26['MissingRemoteConnection']='missing-incoming-connection',_0x5e8a26[_0x29e886(0x665)]='missing-system-topic',_0x5e8a26[_0x29e886(0x78d)]=_0x29e886(0x5ee),_0x5e8a26['ObjectStoreCannotWriteTransaction']=_0x29e886(0xbe),_0x5e8a26['ObjectStoreInvalidState']=_0x29e886(0x61b),_0x5e8a26[_0x29e886(0x6dd)]=_0x29e886(0x9a1),_0x5e8a26['ObjectStoreNotSynced']=_0x29e886(0xa09),_0x5e8a26['OutgoingMediaStreamNoTopic']=_0x29e886(0xa89),_0x5e8a26['RemoteMediaStreamDoesNotExist']=_0x29e886(0x912),_0x5e8a26['RemoteMediaStreamMissingProviderId']='remote-stream-missing-provider-id',_0x5e8a26['RemoteConnectionExists']='remote-connection-exists',_0x5e8a26[_0x29e886(0x805)]=_0x29e886(0x43f),_0x5e8a26['SubscriptionRequestFailed']=_0x29e886(0x9c1),_0x5e8a26[_0x29e886(0x128)]=_0x29e886(0x438),_0x5e8a26[_0x29e886(0x1ea)]='node-does-not-exist',_0x5e8a26['NodeAlreadyExist']='node-already-exist',_0x5e8a26[_0x29e886(0x3ee)]=_0x29e886(0x3c2),_0x5e8a26[_0x29e886(0x6ba)]=_0x29e886(0x286),_0x5e8a26[_0x29e886(0x8e9)]='workflow-does-not-exist',_0x5e8a26[_0x29e886(0x5d1)]=_0x29e886(0x612);}(_0x1e897e||(_0x1e897e={}));const _0x49de3c=new Map([[_0x1e897e[_0x4d79c3(0xa87)],_0x4d79c3(0x6fc)],[_0x1e897e[_0x4d79c3(0x5a6)],_0x4d79c3(0x80b)],[_0x1e897e[_0x4d79c3(0x507)],_0x4d79c3(0x8a8)],[_0x1e897e[_0x4d79c3(0xa0d)],'Invalid\x20data\x20event.'],[_0x1e897e[_0x4d79c3(0x72)],_0x4d79c3(0x330)],[_0x1e897e[_0x4d79c3(0x53b)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x1e897e['GenerativeAIContextInvalidPartialResult'],_0x4d79c3(0x99c)],[_0x1e897e[_0x4d79c3(0x636)],_0x4d79c3(0x99e)],[_0x1e897e['GenerativeAIContextJobFailed'],_0x4d79c3(0x2b1)],[_0x1e897e[_0x4d79c3(0x5ca)],_0x4d79c3(0xa25)],[_0x1e897e[_0x4d79c3(0x713)],_0x4d79c3(0x1fb)],[_0x1e897e[_0x4d79c3(0x583)],'Graph\x20database\x20creation\x20failed.'],[_0x1e897e[_0x4d79c3(0x268)],_0x4d79c3(0x646)],[_0x1e897e['InvalidPublisher'],_0x4d79c3(0xa54)],[_0x1e897e[_0x4d79c3(0x699)],'Invalid\x20subscriber.'],[_0x1e897e['InvalidSubscription'],_0x4d79c3(0x1f8)],[_0x1e897e[_0x4d79c3(0x191)],_0x4d79c3(0x24f)],[_0x1e897e[_0x4d79c3(0x836)],_0x4d79c3(0x53d)],[_0x1e897e[_0x4d79c3(0x49b)],_0x4d79c3(0xac)],[_0x1e897e[_0x4d79c3(0xc2)],'Job\x20service\x20observer\x20not\x20found.'],[_0x1e897e[_0x4d79c3(0x561)],'Job\x20worker\x20creation\x20failed.'],[_0x1e897e['JobWorkerInvalidType'],_0x4d79c3(0x14c)],[_0x1e897e[_0x4d79c3(0x402)],_0x4d79c3(0x63d)],[_0x1e897e['KeyValueDatabasePeakNotFound'],_0x4d79c3(0xa9e)],[_0x1e897e[_0x4d79c3(0x2d7)],_0x4d79c3(0x10e)],[_0x1e897e[_0x4d79c3(0x91d)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x1e897e[_0x4d79c3(0x693)],_0x4d79c3(0x95)],[_0x1e897e[_0x4d79c3(0x3d0)],_0x4d79c3(0x724)],[_0x1e897e['MissingRemoteConnection'],_0x4d79c3(0x4e4)],[_0x1e897e[_0x4d79c3(0x665)],_0x4d79c3(0x4c9)],[_0x1e897e[_0x4d79c3(0x78d)],_0x4d79c3(0xa72)],[_0x1e897e[_0x4d79c3(0xa18)],_0x4d79c3(0x8ee)],[_0x1e897e[_0x4d79c3(0x6dd)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x1e897e[_0x4d79c3(0x3b8)],_0x4d79c3(0xa06)],[_0x1e897e[_0x4d79c3(0x579)],_0x4d79c3(0x552)],[_0x1e897e[_0x4d79c3(0x9c0)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x1e897e[_0x4d79c3(0x65d)],_0x4d79c3(0x648)],[_0x1e897e[_0x4d79c3(0x418)],_0x4d79c3(0xa4d)],[_0x1e897e[_0x4d79c3(0x185)],_0x4d79c3(0x250)],[_0x1e897e['SubscriptionRequestDoesNotExist'],_0x4d79c3(0x5b3)],[_0x1e897e['SubscriptionRequestFailed'],_0x4d79c3(0x902)],[_0x1e897e[_0x4d79c3(0x128)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x1e897e['NodeDoesNotExist'],'Node\x20does\x20not\x20exist.'],[_0x1e897e[_0x4d79c3(0x1c4)],'Node\x20already\x20exists.'],[_0x1e897e[_0x4d79c3(0x3ee)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x1e897e['VectorDatabaseCreationFailed'],_0x4d79c3(0x9b4)],[_0x1e897e[_0x4d79c3(0x8e9)],_0x4d79c3(0x17a)],[_0x1e897e[_0x4d79c3(0x5d1)],_0x4d79c3(0x6d3)]]);class _0x25257a extends Error{['code'];static [_0x4d79c3(0x6cc)]=_0x1e897e;['data'];constructor(_0x30ec1f,_0x27d8b2){const _0x48266c=_0x4d79c3;super(_0x48266c(0x1d9)+_0x30ec1f+':\x20'+_0x49de3c[_0x48266c(0x2d3)](_0x30ec1f)+_0x48266c(0x468)+JSON['stringify'](_0x27d8b2)),this[_0x48266c(0x2ef)]=_0x30ec1f,this[_0x48266c(0x8da)]=_0x27d8b2||{};}}var _0x4fa1d5,_0x242dcd,_0x4efccb,_0x2a09e0,_0x3945f1,_0x40167b,_0x15b885;!function(_0x681099){const _0xe2c7e=_0x4d79c3;_0x681099[_0x681099[_0xe2c7e(0x4b5)]=0x0]=_0xe2c7e(0x4b5),_0x681099[_0x681099[_0xe2c7e(0x86c)]=0x1]=_0xe2c7e(0x86c),_0x681099[_0x681099[_0xe2c7e(0x73e)]=0x2]='CloseJobWorker',_0x681099[_0x681099[_0xe2c7e(0x5f5)]=0x3]=_0xe2c7e(0x5f5),_0x681099[_0x681099['CloseKeyValueDatabase']=0x4]=_0xe2c7e(0x10c),_0x681099[_0x681099[_0xe2c7e(0x344)]=0x5]=_0xe2c7e(0x344),_0x681099[_0x681099[_0xe2c7e(0xa2b)]=0x6]='CloseObjectStoreBucket',_0x681099[_0x681099[_0xe2c7e(0x124)]=0x7]=_0xe2c7e(0x124),_0x681099[_0x681099['CloseVectorDatabase']=0x8]=_0xe2c7e(0x77d),_0x681099[_0x681099[_0xe2c7e(0xa40)]=0x9]=_0xe2c7e(0xa40),_0x681099[_0x681099[_0xe2c7e(0x227)]=0xa]=_0xe2c7e(0x227),_0x681099[_0x681099[_0xe2c7e(0x7d)]=0xb]='GenerativeAIContextStats',_0x681099[_0x681099[_0xe2c7e(0x71f)]=0xc]=_0xe2c7e(0x71f),_0x681099[_0x681099[_0xe2c7e(0x2cc)]=0xd]=_0xe2c7e(0x2cc),_0x681099[_0x681099['KeyValueDatabaseContentAvailable']=0xe]=_0xe2c7e(0x3c5),_0x681099[_0x681099['KeyValueDatabaseContentSynchronized']=0xf]='KeyValueDatabaseContentSynchronized',_0x681099[_0x681099[_0xe2c7e(0x449)]=0x10]='KeyValueDatabaseRequestPeakTransactions',_0x681099[_0x681099[_0xe2c7e(0x904)]=0x11]='KeyValueDatabaseRequestTransactionsValue',_0x681099[_0x681099[_0xe2c7e(0x176)]=0x12]=_0xe2c7e(0x176),_0x681099[_0x681099[_0xe2c7e(0x92e)]=0x13]=_0xe2c7e(0x92e),_0x681099[_0x681099[_0xe2c7e(0xa78)]=0x14]=_0xe2c7e(0xa78),_0x681099[_0x681099[_0xe2c7e(0x645)]=0x15]=_0xe2c7e(0x645),_0x681099[_0x681099[_0xe2c7e(0x6e4)]=0x16]=_0xe2c7e(0x6e4),_0x681099[_0x681099[_0xe2c7e(0x9dd)]=0x17]=_0xe2c7e(0x9dd),_0x681099[_0x681099[_0xe2c7e(0x132)]=0x18]=_0xe2c7e(0x132),_0x681099[_0x681099[_0xe2c7e(0x202)]=0x19]=_0xe2c7e(0x202),_0x681099[_0x681099[_0xe2c7e(0x29b)]=0x1a]=_0xe2c7e(0x29b),_0x681099[_0x681099[_0xe2c7e(0x30e)]=0x1b]=_0xe2c7e(0x30e),_0x681099[_0x681099[_0xe2c7e(0x829)]=0x1c]='UnsubscribeMediaStream',_0x681099[_0x681099[_0xe2c7e(0x477)]=0x1d]=_0xe2c7e(0x477),_0x681099[_0x681099['VectorDatabaseStats']=0x1e]='VectorDatabaseStats';}(_0x4fa1d5||(_0x4fa1d5={})),function(_0x58d1f2){const _0x4e679f=_0x4d79c3;_0x58d1f2['FileWrite']=_0x4e679f(0x196),_0x58d1f2[_0x4e679f(0x2bc)]=_0x4e679f(0x8c8),_0x58d1f2[_0x4e679f(0x44f)]=_0x4e679f(0x86a),_0x58d1f2[_0x4e679f(0x88d)]='move',_0x58d1f2['RequestFile']=_0x4e679f(0xa76),_0x58d1f2[_0x4e679f(0x1c6)]='request-accepted',_0x58d1f2[_0x4e679f(0x570)]=_0x4e679f(0xa1e),_0x58d1f2[_0x4e679f(0x63f)]=_0x4e679f(0x4d4);}(_0x242dcd||(_0x242dcd={})),function(_0xd16dff){const _0x4cbe7e=_0x4d79c3;_0xd16dff[_0x4cbe7e(0x9eb)]=_0x4cbe7e(0xa86),_0xd16dff[_0x4cbe7e(0x13f)]=_0x4cbe7e(0x807);}(_0x4efccb||(_0x4efccb={})),function(_0x3abce8){const _0x523b4e=_0x4d79c3;_0x3abce8[_0x523b4e(0x983)]=_0x523b4e(0x306),_0x3abce8[_0x523b4e(0x519)]=_0x523b4e(0x63e),_0x3abce8[_0x523b4e(0x44f)]=_0x523b4e(0x86a);}(_0x2a09e0||(_0x2a09e0={})),function(_0x40ee4d){const _0x334011=_0x4d79c3;_0x40ee4d['Get']=_0x334011(0x2d3),_0x40ee4d['List']=_0x334011(0x119),_0x40ee4d[_0x334011(0x7db)]='count';}(_0x3945f1||(_0x3945f1={})),function(_0x155aa7){const _0x15433c=_0x4d79c3;_0x155aa7[_0x155aa7['Request']=0x0]=_0x15433c(0x9eb),_0x155aa7[_0x155aa7['Bid']=0x1]=_0x15433c(0xa13),_0x155aa7[_0x155aa7[_0x15433c(0x48a)]=0x2]='Attribution',_0x155aa7[_0x155aa7[_0x15433c(0x43b)]=0x3]=_0x15433c(0x43b),_0x155aa7[_0x155aa7[_0x15433c(0x8a5)]=0x4]=_0x15433c(0x8a5),_0x155aa7[_0x155aa7[_0x15433c(0xa1f)]=0x5]=_0x15433c(0xa1f);}(_0x40167b||(_0x40167b={})),function(_0x15d37b){const _0x3f8f68=_0x4d79c3;_0x15d37b[_0x15d37b[_0x3f8f68(0x2bf)]=0x0]=_0x3f8f68(0x2bf),_0x15d37b[_0x15d37b[_0x3f8f68(0x6a5)]=0x1]=_0x3f8f68(0x6a5),_0x15d37b[_0x15d37b[_0x3f8f68(0x2ca)]=0x2]=_0x3f8f68(0x2ca),_0x15d37b[_0x15d37b[_0x3f8f68(0xa34)]=0x3]='Subscription',_0x15d37b[_0x15d37b[_0x3f8f68(0x106)]=0x4]=_0x3f8f68(0x106),_0x15d37b[_0x15d37b['Detection']=0x5]='Detection',_0x15d37b[_0x15d37b[_0x3f8f68(0xa5f)]=0x6]=_0x3f8f68(0xa5f);}(_0x15b885||(_0x15b885={}));class _0x551462{['owner'];[_0x4d79c3(0x9d4)];[_0x4d79c3(0x3fb)];constructor(_0xcb264f,_0xe437bd){const _0x2cedf8=_0x4d79c3;this[_0x2cedf8(0x879)]=_0xcb264f,this[_0x2cedf8(0x9d4)]=_0xe437bd;}[_0x4d79c3(0xa98)](){const _0x129355=_0x4d79c3;return this[_0x129355(0x9d4)];}[_0x4d79c3(0x351)](){const _0x4e236a=_0x4d79c3;return this[_0x4e236a(0x879)][_0x4e236a(0x970)]();}[_0x4d79c3(0x7b4)](){}[_0x4d79c3(0x618)](_0x4bcc02){const _0x4a2aa8=_0x4d79c3;this[_0x4a2aa8(0x3fb)]=_0x4bcc02;}[_0x4d79c3(0x373)](){const _0x790fde=_0x4d79c3;delete this[_0x790fde(0x3fb)];}}const _0x194189=require('firebase/firestore');let _0x2128c3=_0x36ca33(0x14d)['O'];function _0x232255(_0x40b214){const _0x522c03=_0x4d79c3;return!(!_0x40b214||_0x522c03(0x8de)!=typeof _0x40b214||Array[_0x522c03(0x61d)](_0x40b214));}_0x2128c3=function _0x513731(_0x2d505e,..._0x2a1387){const _0xa202d=_0x4d79c3;if(!Array['isArray'](_0x2a1387)||0x0===_0x2a1387[_0xa202d(0x4bf)])return _0x2d505e;const _0x1f3150=_0x2a1387[_0xa202d(0x161)]();if(_0x232255(_0x2d505e)&&_0x232255(_0x1f3150)){for(const _0x113dbb in _0x1f3150)_0x232255(_0x1f3150[_0x113dbb])?(_0x2d505e[_0x113dbb]||Object['assign'](_0x2d505e,{[_0x113dbb]:{}}),_0x513731(_0x2d505e[_0x113dbb],_0x1f3150[_0x113dbb])):Object['assign'](_0x2d505e,{[_0x113dbb]:_0x1f3150[_0x113dbb]});}return _0x513731(_0x2d505e,..._0x2a1387);}(_0x2128c3,_0x36ca33(0x3e6)['O']);const _0x229087=_0x2128c3,_0x25f98d=require('firebase/app'),_0x403b93=require('firebase/auth'),_0x1409a1=require('firebase/database'),_0x1165cd=require('firebase/functions'),_0x15d077=require('uuid'),_0x238c9d='CREWDLE_WEB_SDK';class _0x16dcf8{static [_0x4d79c3(0x73f)];[_0x4d79c3(0x956)];[_0x4d79c3(0x70e)];[_0x4d79c3(0x59d)];[_0x4d79c3(0x7e8)];[_0x4d79c3(0x162)];[_0x4d79c3(0x3ac)];['lastClockUpdate'];constructor(){const _0x57a545=_0x4d79c3;this[_0x57a545(0x2b5)]();}static[_0x4d79c3(0x9bc)](){const _0x1cccc7=_0x4d79c3;return _0x16dcf8[_0x1cccc7(0x73f)]||(_0x16dcf8[_0x1cccc7(0x73f)]=new _0x16dcf8()),_0x16dcf8[_0x1cccc7(0x73f)];}[_0x4d79c3(0x2b5)](){const _0x51fbc2=_0x4d79c3;if(!this[_0x51fbc2(0x956)]){let _0xe911bd=_0x238c9d;_0x51fbc2(0x75e)!=typeof window&&(_0xe911bd=_0x238c9d+'-'+(0x0,_0x15d077['v4'])()),this[_0x51fbc2(0x956)]=(0x0,_0x25f98d[_0x51fbc2(0x74f)])(_0x229087[_0x51fbc2(0x387)],''+_0xe911bd);}return this[_0x51fbc2(0x956)];}[_0x4d79c3(0x42c)](){const _0xf44edc=_0x4d79c3;return this['auth']||(this[_0xf44edc(0x70e)]=(0x0,_0x403b93[_0xf44edc(0x42c)])(this[_0xf44edc(0x2b5)]())),this[_0xf44edc(0x70e)];}[_0x4d79c3(0x890)](){const _0x39f9b4=_0x4d79c3;return this[_0x39f9b4(0x59d)]||(this[_0x39f9b4(0x59d)]=(0x0,_0x1165cd[_0x39f9b4(0x890)])(this['getApp'](),_0x229087[_0x39f9b4(0x387)][_0x39f9b4(0x8ae)])),this[_0x39f9b4(0x59d)];}[_0x4d79c3(0x95a)](){const _0x555f4a=_0x4d79c3;return this[_0x555f4a(0x7e8)]||(this['database']=(0x0,_0x1409a1[_0x555f4a(0x95a)])(this['getApp']())),this[_0x555f4a(0x7e8)];}[_0x4d79c3(0x225)](){const _0x150a7a=_0x4d79c3;return this[_0x150a7a(0x162)]||(this['firestore']=(0x0,_0x194189[_0x150a7a(0x225)])(this[_0x150a7a(0x2b5)]())),this['firestore'];}async[_0x4d79c3(0x5c3)](){const _0x2336c8=_0x4d79c3;if(this[_0x2336c8(0x3ac)]&&this['lastClockUpdate']&&Date[_0x2336c8(0x2a6)]()-this['lastClockUpdate']<0x493e0)return Date['now']()+this[_0x2336c8(0x3ac)];const _0x16c700=this[_0x2336c8(0x95a)](),_0x50bf7a=(0x0,_0x1409a1['ref'])(_0x16c700,'.info/serverTimeOffset');return new Promise(_0x1b95ce=>{const _0x36f4af=_0x2336c8;(0x0,_0x1409a1[_0x36f4af(0x47b)])(_0x50bf7a,_0x44b9d2=>{const _0x4c9010=_0x36f4af;(0x0,_0x1409a1[_0x4c9010(0x69a)])(_0x50bf7a),this[_0x4c9010(0x3ac)]=_0x44b9d2[_0x4c9010(0x623)](),this[_0x4c9010(0x37e)]=Date[_0x4c9010(0x2a6)](),_0x1b95ce(Date[_0x4c9010(0x2a6)]()+(this[_0x4c9010(0x3ac)]??0x0));});});}}const _0x46a54c=_0x16dcf8[_0x4d79c3(0x9bc)]();class _0xaff9f9{static [_0x4d79c3(0x73f)];[_0x4d79c3(0xa2f)]=[_0x44f26b[_0x4d79c3(0x633)]];[_0x4d79c3(0x4dc)]=!0x1;[_0x4d79c3(0x332)];[_0x4d79c3(0x5eb)]='';[_0x4d79c3(0x7ae)];[_0x4d79c3(0x698)]=[];['currentBatch'];[_0x4d79c3(0x3cc)];[_0x4d79c3(0xa9d)]=0xa;[_0x4d79c3(0xa01)]=0x1f4;[_0x4d79c3(0x967)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x4a65a3=_0x4d79c3;if(_0x4a65a3(0x75e)!=typeof window)this[_0x4a65a3(0x7ae)]=window;else{if(void 0x0===_0x36ca33['g'])throw new Error(_0x4a65a3(0x3bd));this['globalObject']=_0x36ca33['g'];}this[_0x4a65a3(0x258)](),this[_0x4a65a3(0x7ae)]['crewdleSDKEnableLogging']=_0x1cb4e1=>{const _0x263eb3=_0x4a65a3;if(_0x1cb4e1===_0x44f26b['All'])return this[_0x263eb3(0xa2f)]=Object[_0x263eb3(0x261)](_0x44f26b)[_0x263eb3(0x384)](_0x31b4ec=>_0x44f26b[_0x31b4ec]),void Object[_0x263eb3(0x261)](_0x44f26b)['forEach'](_0x17278f=>{const _0xaf49a7=_0x263eb3,_0x1f02da=_0x17278f;localStorage[_0xaf49a7(0x5bb)](_0xaf49a7(0x84c)+_0x44f26b[_0x1f02da],'true');});this[_0x263eb3(0xa2f)]['includes'](_0x1cb4e1)||(this[_0x263eb3(0xa2f)]['push'](_0x1cb4e1),localStorage['setItem'](_0x263eb3(0x84c)+_0x1cb4e1,_0x263eb3(0x458)));},this['globalObject'][_0x4a65a3(0x21a)]=_0x16882b=>{const _0x3583b7=_0x4a65a3;if(!_0x16882b||_0x16882b===_0x44f26b[_0x3583b7(0x6cb)])return this[_0x3583b7(0xa2f)]=[],void Object[_0x3583b7(0x261)](_0x44f26b)[_0x3583b7(0x571)](_0x21fa06=>{const _0x5829e7=_0x3583b7,_0x8efaf4=_0x21fa06;localStorage[_0x5829e7(0x482)](_0x5829e7(0x84c)+_0x44f26b[_0x8efaf4]);});this[_0x3583b7(0xa2f)][_0x3583b7(0xcc)](_0x16882b)&&(this['enabledChannels']=this[_0x3583b7(0xa2f)][_0x3583b7(0x70d)](_0x3e4d6f=>_0x3e4d6f!==_0x16882b),localStorage[_0x3583b7(0x482)](_0x3583b7(0x84c)+_0x16882b));},this[_0x4a65a3(0x7ae)]['crewdleSDKLoggingChannels']=_0x44f26b;}static['getInstance'](){const _0x31d565=_0x4d79c3;try{return _0xaff9f9[_0x31d565(0x73f)]||(_0xaff9f9[_0x31d565(0x73f)]=new _0xaff9f9()),_0xaff9f9['instance'];}catch(_0x25d30b){return console[_0x31d565(0x23a)](_0x31d565(0x696),_0x25d30b),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x4d79c3(0x25c)](_0x1500d7){const _0xe94ab=_0x4d79c3;this['vendorId']=_0x1500d7,this['batchQueue']=[],this[_0xe94ab(0x26c)]=this[_0xe94ab(0x702)](),this[_0xe94ab(0x3cc)]&&(clearTimeout(this[_0xe94ab(0x3cc)]),this[_0xe94ab(0x3cc)]=void 0x0);}[_0x4d79c3(0x935)](_0x1e0624){const _0x535c79=_0x4d79c3;this[_0x535c79(0x332)]=_0x1e0624;}[_0x4d79c3(0x2ee)](_0x57065c,..._0x323d02){const _0x1d1731=_0x4d79c3;this[_0x1d1731(0x4dc)]&&this[_0x1d1731(0x3bc)](_0x44f26b[_0x1d1731(0x633)],_0x1d1731(0xa56)+_0x57065c,..._0x323d02);}[_0x4d79c3(0x184)](_0x2da522,..._0x5ab172){const _0x11965e=_0x4d79c3;console[_0x11965e(0x3bc)](_0x2da522,..._0x5ab172),this['loggingConnectors']&&this[_0x11965e(0x332)]['forEach'](_0x3d1fde=>{const _0x328396=_0x11965e;_0x3d1fde[_0x328396(0x3bc)](_0x2da522,{'vendorId':this[_0x328396(0x5eb)],'nodeId':'','nodeType':'','data':{..._0x5ab172}});});}[_0x4d79c3(0x3bc)](_0x5be215,_0x1daa73,..._0x226204){const _0x25a370=_0x4d79c3;_0x229087[_0x25a370(0x77b)]||(this[_0x25a370(0xa2f)][_0x25a370(0xcc)](_0x5be215)&&console[_0x25a370(0x3bc)](_0x25a370(0x30c)+_0x5be215+'\x27\x0a',new Date()+'\x0a',_0x1daa73,..._0x226204),this[_0x25a370(0x332)]&&this[_0x25a370(0x332)][_0x25a370(0x571)](_0x308b=>{const _0x3e732d=_0x25a370;this[_0x3e732d(0x66a)](_0x308b)&&_0x308b[_0x3e732d(0x923)]()[_0x3e732d(0xcc)](_0x5be215)&&_0x308b[_0x3e732d(0x3bc)](_0x1daa73,{'vendorId':this[_0x3e732d(0x5eb)],'nodeId':'','nodeType':'','data':{'channel':_0x5be215,..._0x226204}});}));}[_0x4d79c3(0x1a3)](_0x47613d,_0x5a5468,..._0x36b372){const _0x4af368=_0x4d79c3;_0x229087[_0x4af368(0x77b)]||(this[_0x4af368(0xa2f)][_0x4af368(0xcc)](_0x47613d)&&console[_0x4af368(0x3bc)](_0x5a5468,..._0x36b372),this[_0x4af368(0x332)]&&this[_0x4af368(0x332)][_0x4af368(0x571)](_0x332259=>{const _0x1aac5b=_0x4af368;this['isInternalLoggingConnector'](_0x332259)&&_0x332259[_0x1aac5b(0x923)]()[_0x1aac5b(0xcc)](_0x47613d)&&_0x332259[_0x1aac5b(0x3bc)](_0x5a5468,{'vendorId':this[_0x1aac5b(0x5eb)],'nodeId':'','nodeType':'','data':{'channel':_0x47613d,..._0x36b372}});}));}['logEvent'](_0x20cc34,_0x1d22f0){const _0x37055b=_0x4d79c3;if(!this[_0x37055b(0x332)])return;const _0x426757={'vendorId':this[_0x37055b(0x5eb)],..._0x1d22f0};this[_0x37055b(0x332)]['forEach'](_0x1833b0=>{const _0x7b6d3a=_0x37055b;_0x1833b0[_0x7b6d3a(0x3bc)](_0x20cc34,_0x426757);});}[_0x4d79c3(0xa05)](_0x4cc76c,_0x5f724d){const _0x3a927e=_0x4d79c3;this[_0x3a927e(0x2ed)](_0x4cc76c,_0x5f724d),this[_0x3a927e(0x6e9)]();}[_0x4d79c3(0x55e)](_0x4920e7,_0x1833a1,_0x4a3967){const _0x47fbfb=_0x4d79c3;(0x0,_0x194189[_0x47fbfb(0x1d6)])((0x0,_0x194189[_0x47fbfb(0x31a)])(_0x46a54c[_0x47fbfb(0x225)](),_0x47fbfb(0x62d)+this['vendorId']+'/'+_0x4920e7+'/'+_0x1833a1),{'storage':_0x4a3967,'timestamp':(0x0,_0x194189[_0x47fbfb(0x6f2)])()});}['logBatch'](){const _0x342607=_0x4d79c3;this[_0x342607(0x26c)]&&(this[_0x342607(0x26c)][_0x342607(0x70c)]+=0x1,this[_0x342607(0x26c)][_0x342607(0x70c)]===this[_0x342607(0x967)]?this[_0x342607(0x839)]():this[_0x342607(0x3cc)]||(this[_0x342607(0x3cc)]=this['globalObject'][_0x342607(0x1c1)](()=>this[_0x342607(0x839)](),this[_0x342607(0x401)])));}async['processBatch'](){const _0x27b0f6=_0x4d79c3;if(this[_0x27b0f6(0x26c)]){for(this[_0x27b0f6(0x698)][_0x27b0f6(0x15b)](this[_0x27b0f6(0x26c)]),this[_0x27b0f6(0x26c)]=this[_0x27b0f6(0x702)]();this['batchQueue']['length']>0x0;){const _0x533794=this[_0x27b0f6(0x698)]['shift']();if(!await this['commitBatch'](_0x533794))break;}clearTimeout(this['batchTimeout']),this[_0x27b0f6(0x3cc)]=void 0x0;}}['error'](_0x22ab16,_0x71d424,..._0x3e2dd9){const _0x1d7eb7=_0x4d79c3;if(console[_0x1d7eb7(0x23a)](new Date(),_0x22ab16,_0x71d424,..._0x3e2dd9),this[_0x1d7eb7(0x332)]){const _0x33d531={'vendorId':this[_0x1d7eb7(0x5eb)],..._0x71d424};this[_0x1d7eb7(0x332)][_0x1d7eb7(0x571)](_0x2450d0=>{_0x2450d0['error'](_0x22ab16,_0x33d531);});}}[_0x4d79c3(0x29c)](_0x4f6563,_0xa287cc,..._0x49b32e){const _0x986cb2=_0x4d79c3;if(console[_0x986cb2(0x945)](new Date(),_0x4f6563,_0xa287cc,_0x49b32e),this[_0x986cb2(0x332)]){const _0x3460c1={'vendorId':this[_0x986cb2(0x5eb)],..._0xa287cc};this[_0x986cb2(0x332)][_0x986cb2(0x571)](_0x2eb9f8=>{_0x2eb9f8['warn'](_0x4f6563,_0x3460c1);});}}[_0x4d79c3(0x50f)](_0x59361b){const _0x4d915c=_0x4d79c3;return this[_0x4d915c(0xa2f)]['includes'](_0x59361b);}async['commitBatch'](_0x1fa6d1,_0x50912f=0x0){const _0x1bc689=_0x4d79c3;if(_0x1fa6d1[_0x1bc689(0x70c)]>0x0)try{return await _0x1fa6d1[_0x1bc689(0x7d9)][_0x1bc689(0x348)](),!0x0;}catch(_0x443a4c){if(console['error'](_0x1bc689(0x7e3),_0x443a4c,_0x1bc689(0x1e4),_0x1fa6d1['operations']),!(_0x50912f<this['retryLimit'])){const {nodeId:_0x11b55e='',nodeType:_0x521a74='',clusterId:_0x495bd3=''}=_0x1fa6d1[_0x1bc689(0x917)][0x0]['data'],_0xe7e77b={'nodeId':_0x11b55e,'nodeType':_0x521a74,'clusterId':_0x495bd3,'data':{'operations':_0x1fa6d1[_0x1bc689(0x917)],'error':_0x443a4c}};return this[_0x1bc689(0x23a)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0xe7e77b),!0x1;}{const _0x2d0a2d=this['createBatch'](_0x1fa6d1['operations']);setTimeout(()=>this['commitBatch'](_0x2d0a2d,_0x50912f+0x1),this['retryDelay']*Math[_0x1bc689(0xa5d)](0x2,_0x50912f));}}}[_0x4d79c3(0x258)](){const _0x4dde7a=_0x4d79c3;try{Object[_0x4dde7a(0x261)](_0x44f26b)[_0x4dde7a(0x571)](_0x1c7a16=>{const _0x36427a=_0x4dde7a,_0x49850d=_0x1c7a16;localStorage['getItem'](_0x36427a(0x84c)+_0x44f26b[_0x49850d])&&(console[_0x36427a(0x3bc)](_0x36427a(0x8cf),_0x44f26b[_0x49850d]),this['enabledChannels'][_0x36427a(0x15b)](_0x44f26b[_0x49850d]));});}catch(_0x50e1a2){}}['isInternalLoggingConnector'](_0x301742){const _0x16c33e=_0x4d79c3;return void 0x0!==_0x301742[_0x16c33e(0x923)];}['createNewBatch'](){const _0x33c8f4=_0x4d79c3;return{'batch':(0x0,_0x194189[_0x33c8f4(0x64b)])(_0x46a54c[_0x33c8f4(0x225)]()),'operations':[],'counter':0x0};}[_0x4d79c3(0x9a3)](_0x49b16b){const _0x45d3cd=_0x4d79c3,_0xe8f1ed=(0x0,_0x194189[_0x45d3cd(0x64b)])(_0x46a54c[_0x45d3cd(0x225)]());return _0x49b16b['forEach'](_0x39db92=>this[_0x45d3cd(0x82f)](_0xe8f1ed,_0x39db92)),{'batch':_0xe8f1ed,'operations':_0x49b16b,'counter':_0x49b16b[_0x45d3cd(0x4bf)]};}['addBatchOperation'](_0x2e0eaf,_0x49bb7b){const _0x164175=_0x4d79c3;switch(_0x49bb7b[_0x164175(0x572)]){case _0x164175(0xb1):_0x2e0eaf[_0x164175(0xb1)](_0x49bb7b[_0x164175(0x277)],_0x49bb7b[_0x164175(0x8da)]);break;case _0x164175(0x63e):_0x2e0eaf[_0x164175(0x63e)](_0x49bb7b[_0x164175(0x277)],_0x49bb7b[_0x164175(0x8da)]);break;case _0x164175(0x86a):_0x2e0eaf[_0x164175(0x86a)](_0x49bb7b[_0x164175(0x277)]);}}[_0x4d79c3(0x2ed)](_0x3d7482,_0x53231a){const _0x41d5a3=_0x4d79c3;this[_0x41d5a3(0x26c)]||(this['currentBatch']=this[_0x41d5a3(0x702)]());const _0x51866f=(0x0,_0x194189[_0x41d5a3(0x31a)])((0x0,_0x194189[_0x41d5a3(0x456)])(_0x46a54c[_0x41d5a3(0x225)](),_0x41d5a3(0x62d)+this[_0x41d5a3(0x5eb)]+_0x41d5a3(0x428))),_0x1604a8={..._0x53231a,'service':_0x3d7482,'timestamp':(0x0,_0x194189[_0x41d5a3(0x6f2)])()},_0x599de9={'type':'set','path':_0x51866f[_0x41d5a3(0x60d)],'ref':_0x51866f,'data':_0x1604a8};return this['currentBatch'][_0x41d5a3(0x917)]['push'](_0x599de9),this[_0x41d5a3(0x82f)](this[_0x41d5a3(0x26c)][_0x41d5a3(0x7d9)],_0x599de9),_0x51866f;}}const _0x10d8cb=_0xaff9f9[_0x4d79c3(0x9bc)]();function _0x16beb4(_0x5c8ba6,_0x3dcf70){return'/'===_0x5c8ba6?_0x5c8ba6+_0x3dcf70:_0x5c8ba6+'/'+_0x3dcf70;}function _0x561b84(_0x1a9273){const _0xd394d6=_0x4d79c3,_0x4970f7=function(_0x1da29e){const _0x5b9764=a0_0x50a3;return _0x1da29e[_0x5b9764(0x101)]('/')[_0x5b9764(0x70d)](_0x277daf=>_0x277daf['length']>0x0);}(_0x1a9273),_0x5ae354=_0x4970f7[_0xd394d6(0x151)]()||'',_0x2556fb=_0x4970f7[_0xd394d6(0x9fc)]('/');return[0x0===_0x2556fb[_0xd394d6(0x4bf)]?'/':_0x2556fb,_0x5ae354];}async function _0x5cb7ca(_0x1aea31){const _0xf352cb=_0x4d79c3;let _0xb2722f;const _0x58bff1=_0x1aea31[_0xf352cb(0x517)]/0x100000;_0xb2722f=_0x58bff1<=0xa?0x1:_0x58bff1<=0x64?0.5:_0x58bff1<=0x1f4?0.1:0.05;const _0x9ed585=Math['ceil'](_0x1aea31[_0xf352cb(0x517)]/_0x29dd5a),_0x660d39=Math[_0xf352cb(0x89d)](_0x9ed585*_0xb2722f);let _0x3e0747=new Uint8Array();for(let _0x1815ab=0x0;_0x1815ab<_0x660d39;_0x1815ab++){const _0x55d4ab=Math[_0xf352cb(0xa6)](_0x1815ab/_0x660d39*_0x1aea31['size']);let _0x3a9814=_0x55d4ab+_0x29dd5a;_0x3a9814>_0x1aea31[_0xf352cb(0x517)]&&(_0x3a9814=_0x1aea31[_0xf352cb(0x517)]);const _0x50f33d=_0x1aea31[_0xf352cb(0x4f8)](_0x55d4ab,_0x3a9814),_0x2d87c8=await _0x50f33d[_0xf352cb(0x368)](),_0x326094=new Uint8Array([..._0x3e0747,...new Uint8Array(_0x2d87c8)]);_0x3e0747=new Uint8Array(await crypto[_0xf352cb(0x95d)]['digest'](_0xf352cb(0x1b1),_0x326094));}return Array['from'](new Uint8Array(_0x3e0747))[_0xf352cb(0x384)](_0x5c4c52=>_0x5c4c52[_0xf352cb(0x709)](0x10)[_0xf352cb(0x66b)](0x2,'0'))['join']('');}async function*_0x533ebf(_0x3722de,_0x8866e9=0x0,_0x232aa0){const _0x501461=_0x4d79c3;let _0x87450e=_0x8866e9*_0x4d74ee,_0x3e5cb4=_0x3722de;for(;_0x87450e<_0x3e5cb4['size'];){let _0x16df15=_0x87450e+_0x4d74ee;_0x16df15>_0x3e5cb4[_0x501461(0x517)]&&(_0x16df15=_0x3e5cb4[_0x501461(0x517)]);let _0xc1196a=0x0;for(;_0xc1196a<0x14;)try{await _0x232aa0?.();const _0x223626=_0x3e5cb4['slice'](_0x87450e,_0x16df15,_0x501461(0x29a)),_0x390667=await _0x223626['arrayBuffer']();yield _0x390667,_0x87450e=_0x16df15,await new Promise(_0x50d689=>setTimeout(_0x50d689,0x0));break;}catch(_0x4c430c){if(console[_0x501461(0x23a)](_0x501461(0x67d)+(_0xc1196a+0x1)+_0x501461(0x536),_0x4c430c),_0xc1196a++,_0xc1196a>0x14)throw _0x4c430c;let _0x5b51a1=0x3e8*Math['pow'](0x2,_0xc1196a);_0x5b51a1>0x7530&&(_0x5b51a1=0x7530),await new Promise(_0x2db261=>setTimeout(_0x2db261,_0x5b51a1));}}}class _0x4eb90d extends _0x551462{[_0x4d79c3(0x90f)];[_0x4d79c3(0x3cb)];[_0x4d79c3(0x9f8)]=new Map();[_0x4d79c3(0x861)]=0x0;[_0x4d79c3(0x894)]=0x0;[_0x4d79c3(0xeb)]=0x0;[_0x4d79c3(0x312)]=0x0;constructor(_0xf307e0,_0x175563){super(_0xf307e0,_0x175563);}[_0x4d79c3(0xa98)](){const _0x51ba9b=_0x4d79c3;return this[_0x51ba9b(0x9d4)];}[_0x4d79c3(0x97b)](){const _0x3fd539=_0x4d79c3;return this[_0x3fd539(0x9d4)];}[_0x4d79c3(0x2c5)](){const _0x59d862=_0x4d79c3;return _0xf8ccf2[_0x59d862(0x3fc)][_0x59d862(0x500)];}[_0x4d79c3(0x91)](){const _0x271ec6=_0x4d79c3;return this[_0x271ec6(0x9d4)];}[_0x4d79c3(0x4c4)](_0x3760ce){const _0x2d812d=_0x4d79c3;if(this[_0x2d812d(0x90f)])throw new _0x25257a(_0x25257a['codes'][_0x2d812d(0x2f9)],{'message':_0x2d812d(0xa7c)+this[_0x2d812d(0x879)][_0x2d812d(0x970)]()+_0x2d812d(0x6be)+this[_0x2d812d(0x9d4)],'topic':this[_0x2d812d(0x90f)]});this[_0x2d812d(0x90f)]=_0x3760ce;}[_0x4d79c3(0x25f)](_0x580bc7){const _0xf3274c=_0x4d79c3;if(this[_0xf3274c(0x3cb)])throw new _0x25257a(_0x25257a[_0xf3274c(0x6cc)][_0xf3274c(0x699)],{'message':_0xf3274c(0x53a)+this[_0xf3274c(0x879)][_0xf3274c(0x970)]()+'\x20-\x20'+this[_0xf3274c(0x9d4)],'topic':this['incomingTopic']});this[_0xf3274c(0x3cb)]=_0x580bc7;}[_0x4d79c3(0x6d0)](){const _0xcb86eb=_0x4d79c3;delete this[_0xcb86eb(0x90f)];}['unregisterSubscriber'](){const _0x5cc5d5=_0x4d79c3;delete this[_0x5cc5d5(0x3cb)];}async['send'](_0x491e40,_0x26eb05){const _0x5e1006=_0x4d79c3;if(_0x10d8cb[_0x5e1006(0x3bc)](_0x44f26b[_0x5e1006(0x2ff)],_0x5e1006(0x568),this['owner'][_0x5e1006(0x970)](),_0x491e40,_0x26eb05),this[_0x5e1006(0x861)]+=0x1,_0x491e40 instanceof File){const _0x2c6f12=await async function(_0x3ebe05){const _0x396c58=_0x5e1006,_0x4b61e2=[];for await(const _0x44fc26 of _0x533ebf(_0x3ebe05))_0x4b61e2[_0x396c58(0x15b)](_0x44fc26);return _0x4b61e2;}(_0x491e40);return this[_0x5e1006(0xeb)]+=_0x2c6f12[_0x5e1006(0x7ab)]((_0x391759,_0x3eff5d)=>_0x391759+_0x3eff5d[_0x5e1006(0x6ff)],0x0),void _0x2c6f12[_0x5e1006(0x571)]((_0x56e62a,_0x2afceb)=>{const _0x2dc1e9=_0x5e1006;this[_0x2dc1e9(0x90f)][_0x2dc1e9(0x758)]({'sourceId':this[_0x2dc1e9(0x879)]['getId'](),'destinationIds':_0x26eb05,'propagate':!0x0,'contentType':_0xf8ccf2['ContentType'][_0x2dc1e9(0x3d5)],'content':{'name':_0x491e40['name'],'type':_0x491e40['type'],'data':_0x56e62a,'index':_0x2afceb,'total':_0x2c6f12[_0x2dc1e9(0x4bf)]}});});}this[_0x5e1006(0xeb)]+=JSON[_0x5e1006(0x8a3)](_0x491e40)[_0x5e1006(0x4bf)],this[_0x5e1006(0x90f)]['publish']({'sourceId':this['owner'][_0x5e1006(0x970)](),'destinationIds':_0x26eb05,'propagate':!0x0,'contentType':_0xf8ccf2['ContentType'][_0x5e1006(0x500)],'content':_0x491e40});}[_0x4d79c3(0x454)](_0x402fb1){const _0x251f14=_0x4d79c3;return this['incomingTopic'][_0x251f14(0x2a1)](_0x15c25c=>{const _0x23124f=_0x251f14;switch(_0x10d8cb[_0x23124f(0x3bc)](_0x44f26b[_0x23124f(0x2ff)],_0x23124f(0x6d6),this['owner']['getId'](),_0x15c25c),_0x15c25c[_0x23124f(0x198)]){case _0xf8ccf2[_0x23124f(0x3fc)][_0x23124f(0x500)]:this[_0x23124f(0x894)]+=0x1,this[_0x23124f(0x312)]+=JSON[_0x23124f(0x8a3)](_0x15c25c['content'])[_0x23124f(0x4bf)],_0x402fb1(_0x15c25c[_0x23124f(0x19b)],_0x15c25c[_0x23124f(0x898)]);break;case _0xf8ccf2[_0x23124f(0x3fc)][_0x23124f(0x3d5)]:this[_0x23124f(0x9f8)]['has'](_0x15c25c['content'][_0x23124f(0x687)])||this[_0x23124f(0x9f8)][_0x23124f(0xb1)](_0x15c25c[_0x23124f(0x898)][_0x23124f(0x687)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x5ef9f6=this[_0x23124f(0x9f8)][_0x23124f(0x2d3)](_0x15c25c[_0x23124f(0x898)][_0x23124f(0x687)]);if(_0x5ef9f6[_0x23124f(0x2af)]+=0x1,_0x5ef9f6[_0x23124f(0x312)]+=_0x15c25c[_0x23124f(0x898)][_0x23124f(0x8da)][_0x23124f(0x6ff)],_0x5ef9f6[_0x23124f(0x898)]&&(_0x5ef9f6[_0x23124f(0x898)][_0x15c25c[_0x23124f(0x898)]['index']]=_0x15c25c[_0x23124f(0x898)][_0x23124f(0x8da)]),this[_0x23124f(0x9f8)][_0x23124f(0xb1)](_0x15c25c[_0x23124f(0x898)][_0x23124f(0x687)],_0x5ef9f6),_0x5ef9f6[_0x23124f(0x2af)]+0x1<_0x15c25c[_0x23124f(0x898)][_0x23124f(0x535)])return;this[_0x23124f(0x894)]+=0x1,this[_0x23124f(0x312)]+=_0x5ef9f6[_0x23124f(0x312)],_0x5ef9f6[_0x23124f(0x898)]&&_0x402fb1(_0x15c25c[_0x23124f(0x19b)],(_0x38e0a9=_0x5ef9f6[_0x23124f(0x898)],_0x5b7386=_0x15c25c[_0x23124f(0x898)][_0x23124f(0x687)],_0x23847b=_0x15c25c[_0x23124f(0x898)][_0x23124f(0x572)],new File(_0x38e0a9,_0x5b7386,{'type':_0x23847b}))),this[_0x23124f(0x9f8)]['delete'](_0x15c25c['content']['name']);}var _0x38e0a9,_0x5b7386,_0x23847b;});}}function _0x1eb396(){const _0x2a9411=_0x4d79c3;let _0x3b0bec=[];return{'subscribe':_0x4e06bd=>(_0x3b0bec[_0x2a9411(0x15b)](_0x4e06bd),()=>{const _0x70563d=_0x2a9411;_0x3b0bec=_0x3b0bec[_0x70563d(0x70d)](_0x511aaa=>_0x511aaa!==_0x4e06bd);}),'publish':_0x3bd91e=>{const _0x31a2b0=_0x2a9411;_0x3b0bec[_0x31a2b0(0x571)](_0x3577f8=>_0x3577f8(_0x3bd91e));}};}function _0x54b3ea(){let _0x306f5f;return{'subscribe':_0x40a741=>(_0x306f5f=_0x40a741,()=>{_0x306f5f=void 0x0;}),'publish':_0x293d19=>{_0x306f5f&&_0x306f5f(_0x293d19);}};}class _0x1facd3{['connector'];[_0x4d79c3(0x1be)];['tableObserver'];['eventListener']=_0x54b3ea();[_0x4d79c3(0x76b)];constructor(_0x17e580,_0x47383a,_0x106cdd){const _0x4d16e3=_0x4d79c3;this['connector']=_0x17e580,this[_0x4d16e3(0x1be)]=_0x47383a,this[_0x4d16e3(0x591)]=_0x106cdd;}[_0x4d79c3(0x7b4)](){this['listenerUnsubscriber']?.();}async[_0x4d79c3(0x2d3)](_0x2cb85a){const _0x4c4940=_0x4d79c3,_0x4a09aa={'key':_0x2cb85a,'tableName':this[_0x4c4940(0x1be)],'action':_0x3945f1['Get']};return this[_0x4c4940(0x591)][_0x4c4940(0x758)](_0x4a09aa),this[_0x4c4940(0x94d)][_0x4c4940(0x2d3)](_0x2cb85a);}async['set'](_0x33be30,_0x1578a2,_0x29e7bb=!0x0){const _0x243fc8=_0x4d79c3;this['validateValue'](_0x1578a2);const _0x1a088b=await this[_0x243fc8(0x94d)][_0x243fc8(0x2d3)](_0x33be30),_0x1b8f93=await this[_0x243fc8(0x94d)][_0x243fc8(0xb1)](_0x33be30,_0x1578a2),_0x3729b3=_0x1a088b?_0x2a09e0[_0x243fc8(0x519)]:_0x2a09e0[_0x243fc8(0x983)];if(this[_0x243fc8(0x758)](_0x3729b3,_0x1b8f93),!_0x29e7bb)return _0x1b8f93;const _0x21d0b1={'key':_0x33be30,'tableName':this[_0x243fc8(0x1be)],'action':_0x3729b3,'value':_0x1b8f93};return this[_0x243fc8(0x591)][_0x243fc8(0x758)](_0x21d0b1),_0x1b8f93;}async[_0x4d79c3(0x306)](_0xdeb88f){const _0x132b78=_0x4d79c3;this[_0x132b78(0x5b8)](_0xdeb88f);const _0x171da9=await this[_0x132b78(0x94d)]['add'](_0xdeb88f),_0x57c329={'key':_0x171da9['id'],'tableName':this['tableName'],'action':_0x2a09e0[_0x132b78(0x983)],'value':_0x171da9};return this['tableObserver'][_0x132b78(0x758)](_0x57c329),this[_0x132b78(0x758)](_0x57c329['action'],_0x171da9),_0x171da9;}async[_0x4d79c3(0x86a)](_0x36f74e,_0x57e877=!0x0){const _0x1b21e9=_0x4d79c3,_0x3fc429=await this[_0x1b21e9(0x94d)][_0x1b21e9(0x2d3)](_0x36f74e);if(!_0x3fc429)return;await this[_0x1b21e9(0x94d)][_0x1b21e9(0x86a)](_0x36f74e);const _0x2a9acd=_0x2a09e0[_0x1b21e9(0x44f)];if(this['publish'](_0x2a9acd,_0x3fc429),!_0x57e877)return;const _0x50c63a={'key':_0x36f74e,'tableName':this[_0x1b21e9(0x1be)],'action':_0x2a9acd,'value':_0x3fc429};this[_0x1b21e9(0x591)][_0x1b21e9(0x758)](_0x50c63a);}async[_0x4d79c3(0x2cb)](){const _0x298578=_0x4d79c3,_0x233363=await this[_0x298578(0x119)]();for(const _0x1a0124 of _0x233363){const _0x1e758c=_0x2a09e0[_0x298578(0x44f)];this[_0x298578(0x758)](_0x1e758c,_0x1a0124);const _0x552987={'key':_0x1a0124['id'],'tableName':this[_0x298578(0x1be)],'action':_0x1e758c,'value':_0x1a0124};this[_0x298578(0x591)][_0x298578(0x758)](_0x552987);}return this[_0x298578(0x94d)][_0x298578(0x2cb)]();}async[_0x4d79c3(0x119)](_0x1d03c5){const _0x321fff=_0x4d79c3,_0x156a1d={'key':'','tableName':this[_0x321fff(0x1be)],'action':_0x3945f1['List']};this[_0x321fff(0x591)][_0x321fff(0x758)](_0x156a1d);try{_0x1d03c5&&(_0x1d03c5=_0x1d03c5 instanceof _0x56c126?_0x1d03c5[_0x321fff(0x1df)]():_0x56c126['buildQuery'](_0x1d03c5)[_0x321fff(0x1df)]());}catch(_0x3ac09a){throw new _0x322bb6(_0x4b1e43[_0x321fff(0x47a)],_0x321fff(0x892));}try{return await this[_0x321fff(0x94d)][_0x321fff(0x119)](_0x1d03c5);}catch(_0x532805){let _0x5a7387=_0x321fff(0x892);throw _0x532805 instanceof Error&&(_0x5a7387=_0x532805[_0x321fff(0x206)]),new _0x322bb6(_0x4b1e43[_0x321fff(0x47a)],_0x5a7387);}}async[_0x4d79c3(0x93b)](_0xbc3d4b){const _0x4f44cd=_0x4d79c3,_0x123a28={'key':'','tableName':this[_0x4f44cd(0x1be)],'action':_0x3945f1[_0x4f44cd(0x7db)]};this[_0x4f44cd(0x591)][_0x4f44cd(0x758)](_0x123a28);try{_0xbc3d4b&&(_0xbc3d4b=_0xbc3d4b instanceof _0x56c126?_0xbc3d4b[_0x4f44cd(0x1df)]():_0x56c126[_0x4f44cd(0x94c)](_0xbc3d4b)[_0x4f44cd(0x1df)]());}catch(_0x49d233){throw new _0x322bb6(_0x4b1e43['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x4f44cd(0x94d)][_0x4f44cd(0x93b)](_0xbc3d4b);}catch(_0x9a3979){let _0x5922fd='Invalid\x20query';throw _0x9a3979 instanceof Error&&(_0x5922fd=_0x9a3979[_0x4f44cd(0x206)]),new _0x322bb6(_0x4b1e43[_0x4f44cd(0x47a)],_0x5922fd);}}['calculateSize'](){return this['connector']['calculateSize']();}['subscribe'](_0x222b9a){const _0x42054c=_0x4d79c3;this[_0x42054c(0x76b)]=this[_0x42054c(0x4d3)][_0x42054c(0x2a1)](_0x222b9a);}[_0x4d79c3(0x5fc)](){const _0x387110=_0x4d79c3;this[_0x387110(0x76b)]?.();}['publish'](_0x11d97f,_0x13274c){const _0x2eb69d=_0x4d79c3,_0x35c1c6=this['buildTableEvent'](_0x11d97f,_0x13274c);this[_0x2eb69d(0x4d3)][_0x2eb69d(0x758)](_0x35c1c6);}[_0x4d79c3(0x62a)](_0x48801a,_0x41c52e){const _0x47f003=_0x4d79c3;let _0x2206bc;switch(_0x48801a){case _0x2a09e0[_0x47f003(0x983)]:_0x2206bc='add';break;case _0x2a09e0['Update']:_0x2206bc=_0x47f003(0x63e);break;case _0x2a09e0[_0x47f003(0x44f)]:_0x2206bc=_0x47f003(0x86a);}return{'action':_0x2206bc,'value':_0x41c52e};}[_0x4d79c3(0x5b8)](_0x4e8acf){const _0x2520a7=_0x4d79c3;if(_0x2520a7(0x8de)!=typeof _0x4e8acf||null===_0x4e8acf)throw new _0x322bb6(_0x4b1e43[_0x2520a7(0x882)],_0x2520a7(0x301));for(const _0xbae4cf in _0x4e8acf){const _0x58712a=_0x4e8acf[_0xbae4cf];if(_0x2520a7(0x8de)!=typeof _0x58712a||_0x58712a instanceof Date){if(![_0x2520a7(0x2ae),_0x2520a7(0x15e),_0x2520a7(0x6cf)][_0x2520a7(0xcc)](typeof _0x58712a))throw new _0x322bb6(_0x4b1e43['KeyValueDatabaseInvalidValue'],_0x2520a7(0x614)+_0xbae4cf+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this['validateValue'](_0x58712a);}}}class _0xa37c2f{['peaks']=[];[_0x4d79c3(0x1d3)]=0x0;[_0x4d79c3(0x7a)]=[];[_0x4d79c3(0x484)]=!0x1;['cachedRoot']=null;[_0x4d79c3(0x20b)]=null;[_0x4d79c3(0x69e)];[_0x4d79c3(0x108)]=null;[_0x4d79c3(0x9ed)]=[];['debounceReadyTimeout'];['_ready']=Promise[_0x4d79c3(0x5e8)]();['expectedTransactions']=0x0;constructor(){}get[_0x4d79c3(0x8cd)](){const _0x4e487b=_0x4d79c3;return this[_0x4e487b(0x2f6)];}async[_0x4d79c3(0x7d3)](_0x26c63e,_0x1574ee=0x0){const _0x3c2b25=_0x4d79c3;this[_0x3c2b25(0x108)]||(this['_ready']=new Promise(_0x52f223=>{const _0x50c639=_0x3c2b25;this[_0x50c639(0x108)]=_0x52f223;}),this[_0x3c2b25(0x7fd)]=_0x1574ee);const _0x31b6cb=Date[_0x3c2b25(0x2a6)]();if(this[_0x3c2b25(0x484)])return void this['transactionQueue'][_0x3c2b25(0x15b)](_0x26c63e);this[_0x3c2b25(0x484)]=!0x0;let _0x286c7b={'hash':await this['hashTransaction'](_0x26c63e),'height':0x0};const _0x5774c1=this[_0x3c2b25(0x895)](_0x286c7b);this[_0x3c2b25(0x9ed)][_0x3c2b25(0x15b)](_0x5774c1),await _0x5774c1,this[_0x3c2b25(0x1d3)]+=0x1;const _0x5b7429=this['transactionQueue'][_0x3c2b25(0x4bf)];for(;this['transactionQueue']['length']>0x0;){const _0x7ca3b8=this[_0x3c2b25(0x7a)][_0x3c2b25(0x161)]();await this[_0x3c2b25(0x7d3)](_0x7ca3b8);}this[_0x3c2b25(0xa26)](),await this[_0x3c2b25(0x8cd)],this[_0x3c2b25(0x163)](_0x31b6cb,_0x5b7429);}async['getRoot'](){const _0x579afd=_0x4d79c3;return await this['_ready'],this[_0x579afd(0x484)]?(this[_0x579afd(0x20b)]||(this[_0x579afd(0x20b)]=this[_0x579afd(0x441)]()),await this[_0x579afd(0x20b)]):this[_0x579afd(0x77f)];}[_0x4d79c3(0x7b6)](){const _0x258a5c=_0x4d79c3;return this[_0x258a5c(0x559)][_0x258a5c(0x384)](({hash:_0x4a9626,height:_0x67b07b})=>({'hash':_0x4a9626,'height':_0x67b07b}));}[_0x4d79c3(0x88b)](){const _0x57b128=_0x4d79c3;return this[_0x57b128(0x1d3)];}[_0x4d79c3(0x821)](_0xba419a){const _0x55422c=_0x4d79c3;return this[_0x55422c(0x559)][_0x55422c(0x483)](_0x3c91e4=>_0x3c91e4['height']===_0xba419a);}async[_0x4d79c3(0x731)](_0x4865bd,_0x11cb6d){return await this['computeHash'](_0x4865bd+_0x11cb6d);}async['hashTransaction'](_0x3c5e8d){const _0x516ef6=_0x4d79c3;return await this[_0x516ef6(0x8c6)](JSON[_0x516ef6(0x8a3)](_0x3c5e8d));}[_0x4d79c3(0x5c1)](_0x38d87c){const _0x39d52b=_0x4d79c3,_0x589ddd=this[_0x39d52b(0x7b6)](),_0x441f88=[],_0x7fe1e0=[],_0x5880da=[];for(const _0x2459c1 of _0x589ddd){const _0x28c3e3=_0x38d87c[_0x39d52b(0x483)](_0x19d77c=>_0x19d77c['height']===_0x2459c1[_0x39d52b(0x3f5)]);_0x28c3e3?_0x2459c1[_0x39d52b(0x3af)]!==_0x28c3e3['hash']&&_0x441f88['push']({'height':_0x2459c1[_0x39d52b(0x3f5)],'localPeak':_0x2459c1,'remotePeak':_0x28c3e3}):_0x7fe1e0[_0x39d52b(0x15b)](_0x2459c1);}for(const _0x5519f6 of _0x38d87c)_0x589ddd[_0x39d52b(0x483)](_0x2f4766=>_0x2f4766[_0x39d52b(0x3f5)]===_0x5519f6[_0x39d52b(0x3f5)])||_0x5880da['push'](_0x5519f6);return{'differingPeaks':_0x441f88,'peaksMissingInRemote':_0x7fe1e0,'peaksMissingInLocal':_0x5880da};}async[_0x4d79c3(0x441)](){const _0x1960e3=_0x4d79c3;this['isComputingMMR']=!0x0;const _0x518a26=this[_0x1960e3(0x559)]['map'](_0x9eacef=>_0x9eacef[_0x1960e3(0x3af)]);return this['cachedRoot']=await this[_0x1960e3(0x9d1)](_0x518a26),this['isComputingMMR']=!0x1,this[_0x1960e3(0x20b)]=null,this[_0x1960e3(0xa26)](),this[_0x1960e3(0x77f)];}async[_0x4d79c3(0x8c6)](_0x463562){const _0x4f3c99=_0x4d79c3;try{const _0x5e818b=new TextEncoder()['encode'](_0x463562),_0x17e83f=await crypto[_0x4f3c99(0x95d)][_0x4f3c99(0x929)]('SHA-256',_0x5e818b);return Array['from'](new Uint8Array(_0x17e83f))[_0x4f3c99(0x384)](_0x3b680a=>_0x3b680a[_0x4f3c99(0x709)](0x10)[_0x4f3c99(0x66b)](0x2,'0'))[_0x4f3c99(0x9fc)]('');}catch(_0x1d2b44){return console[_0x4f3c99(0x23a)](_0x4f3c99(0x93a),_0x1d2b44),this[_0x4f3c99(0x8c6)](_0x463562);}}async['hashPeakHashes'](_0x4fae01){const _0x33ab40=_0x4d79c3;return await this[_0x33ab40(0x8c6)](_0x4fae01[_0x33ab40(0x9fc)](''));}async[_0x4d79c3(0x895)](_0x434d07){const _0x3bd9f7=_0x4d79c3;for(;this[_0x3bd9f7(0x559)]['length']>0x0&&this[_0x3bd9f7(0x559)][this['peaks'][_0x3bd9f7(0x4bf)]-0x1][_0x3bd9f7(0x3f5)]===_0x434d07[_0x3bd9f7(0x3f5)];){const _0x434f6b=this[_0x3bd9f7(0x559)][_0x3bd9f7(0x151)]();_0x434d07={'hash':await this[_0x3bd9f7(0x731)](_0x434f6b[_0x3bd9f7(0x3af)],_0x434d07[_0x3bd9f7(0x3af)]),'left':_0x434f6b,'right':_0x434d07,'height':_0x434d07[_0x3bd9f7(0x3f5)]+0x1};}this['peaks'][_0x3bd9f7(0x15b)](_0x434d07),await this[_0x3bd9f7(0x441)]();}[_0x4d79c3(0x163)](_0x3ae7a4,_0x1f6aaa){const _0x92588=_0x4d79c3;if(!_0x10d8cb['isChannelEnabled'](_0x44f26b['KeyValueDatabase']))return;this[_0x92588(0x69e)]&&clearTimeout(this['debounceLogTimeout']);const _0x4a4c20=Date['now']();this[_0x92588(0x69e)]=setTimeout(()=>_0x10d8cb[_0x92588(0x3bc)](_0x44f26b[_0x92588(0xaac)],_0x92588(0x55a),this[_0x92588(0x77f)],_0x92588(0xb9),this[_0x92588(0x88b)](),_0x92588(0x155),_0x1f6aaa,_0x92588(0x186),_0x4a4c20-_0x3ae7a4),0x7d0);}[_0x4d79c3(0xa26)](){const _0x3b66ec=_0x4d79c3;this['debounceReadyTimeout']&&clearTimeout(this[_0x3b66ec(0x6d7)]),this[_0x3b66ec(0x6d7)]=setTimeout(async()=>{const _0x1f633d=_0x3b66ec;try{const _0x2eed0e=this[_0x1f633d(0x9ed)];if(this[_0x1f633d(0x9ed)]=[],await Promise[_0x1f633d(0x104)](_0x2eed0e),this[_0x1f633d(0x7fd)]-=_0x2eed0e[_0x1f633d(0x4bf)],this[_0x1f633d(0x9ed)][_0x1f633d(0x4bf)]>0x0||this['expectedTransactions']>0x0)return this[_0x1f633d(0xa26)]();this[_0x1f633d(0x108)]&&(this['readyResolve'](),this[_0x1f633d(0x108)]=null),this[_0x1f633d(0x2f6)]=Promise[_0x1f633d(0x5e8)](),this[_0x1f633d(0x484)]=!0x1;}catch(_0x43511d){console[_0x1f633d(0x23a)](_0x1f633d(0x485),_0x43511d);}},0xa);}}const _0x50c22c=[_0x4d79c3(0x2bf),_0x4d79c3(0x6a5),_0x4d79c3(0x2ca),_0x4d79c3(0xa34),_0x4d79c3(0x106),'Detection','Remediation'],_0x2b4a80=[[_0x4d79c3(0x424),_0x4d79c3(0xa7f),_0x4d79c3(0x6e8),_0x4d79c3(0x378),'NeedRestart',_0x4d79c3(0x2c8),'Disconnect','Stats',_0x4d79c3(0x7e2)],[_0x4d79c3(0x52c),'NodeUpdate','NodeConnectionsUpdate',_0x4d79c3(0x4a4)],[_0x4d79c3(0x4b5),_0x4d79c3(0x86c),_0x4d79c3(0x73e),'CloseExternalStorageConnection','CloseKeyValueDatabase',_0x4d79c3(0x344),_0x4d79c3(0xa2b),'ClosePubSubTopic',_0x4d79c3(0x77d),_0x4d79c3(0x227),'GenerativeAIContextStats','GenerativeAIWorkerStats',_0x4d79c3(0x2cc),_0x4d79c3(0x3c5),_0x4d79c3(0x411),_0x4d79c3(0x449),_0x4d79c3(0x904),_0x4d79c3(0x176),_0x4d79c3(0x92e),'KeyValueDatabaseSyncRequired',_0x4d79c3(0x645),'ObjectStoreStats',_0x4d79c3(0x9dd),_0x4d79c3(0x132),_0x4d79c3(0x202),_0x4d79c3(0x29b),'UnpublishMediaStream','UnsubscribeMediaStream',_0x4d79c3(0x477),_0x4d79c3(0x420)],[_0x4d79c3(0x29b),'UpdateMediaStream','UnsubscribeMediaStreamdiaStream',_0x4d79c3(0x17b),_0x4d79c3(0xa43),_0x4d79c3(0x2e4)],[_0x4d79c3(0x34a),_0x4d79c3(0x85d)],[_0x4d79c3(0x979)],[_0x4d79c3(0xa5f),_0x4d79c3(0x8bb)]];function _0x107bd6(_0x5752c6){const _0x9a9e66=_0x4d79c3;return{..._0x5752c6,'systemMessageType':_0x50c22c[_0x5752c6[_0x9a9e66(0x12e)]],'systemContentMessageType':_0x2b4a80[_0x5752c6[_0x9a9e66(0x12e)]][_0x5752c6[_0x9a9e66(0x898)]['type']]};}const _0x2f217e={'hour':'2-digit','minute':_0x4d79c3(0x924),'second':'2-digit'};function _0x42c31f(_0x120b39,_0x308eb5){const _0x3d946a=_0x4d79c3,_0x3e10c8=(function(){const _0x74e215=a0_0x50a3,_0x38cd7f=new Date(),_0x170b37=_0x38cd7f[_0x74e215(0xef)](),_0x12ee54=_0x38cd7f[_0x74e215(0xa4c)](_0x74e215(0x743),_0x2f217e)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x12ee54+'.'+(_0x170b37>0x64?''+_0x170b37:_0x170b37>0xa?'0'+_0x170b37:'00'+_0x170b37);}()),{sourceId:_0x1999e2,destinationIds:_0x564e23,systemMessageType:_0x48bfae,systemContentMessageType:_0x4deb00}=_0x107bd6(_0x120b39);return _0x3e10c8+_0x3d946a(0x6be)+_0x308eb5+'\x20-\x20'+(_0x1999e2===_0x308eb5?_0x3d946a(0x5e1)+_0x48bfae+'\x27\x20to\x20'+(_0x564e23?''+_0x564e23:_0x3d946a(0x647)):_0x120b39[_0x3d946a(0x19b)]===_0x2415f3?_0x3d946a(0x812)+_0x48bfae+'\x27':(_0x564e23?'':_0x3d946a(0x81f))+'Receiving\x20\x27'+_0x48bfae+'\x27\x20from\x20'+_0x1999e2)+_0x3d946a(0x60e)+_0x4deb00+_0x3d946a(0x999);}function _0x23c83a(_0x4a152f,_0x4d3f90){const _0x2d3ddf=_0x4d79c3;if(!_0x10d8cb[_0x2d3ddf(0x50f)](_0x4a152f))return;if(_0x229087['isProduction'])return;if(_0x2d3ddf(0x75e)==typeof process)return;const _0x37273b=process['memoryUsage']();console[_0x2d3ddf(0x3bc)](_0x2d3ddf(0x11e)+_0x4d3f90+':');for(const _0x512c66 in _0x37273b)console[_0x2d3ddf(0x3bc)]('\x20\x20'+_0x512c66+':\x20'+(_0x37273b[_0x512c66]/0x400/0x400)['toFixed'](0x2)+_0x2d3ddf(0x7b2));}function _0x1b625f(_0x490e03,_0x24593b){const _0x2ac574=_0x4d79c3;if(!_0x10d8cb[_0x2ac574(0x50f)](_0x24593b))return _0x10d8cb['debug'](_0x2ac574(0x604)+_0x24593b),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x1d9b51,_0x3761d4)=>_0x3761d4}};let _0x850da2=0x0;return{'timingLogger':((()=>{const _0x178126=_0x2ac574;let _0xb1efb8=Date[_0x178126(0x2a6)]();return{'start':()=>{_0xb1efb8=Date['now']();},'now':()=>Date[_0x178126(0x2a6)](),'logWaitTime':_0x39e9f3=>{const _0xccf431=_0x178126;_0x850da2+=Date[_0xccf431(0x2a6)]()-_0xb1efb8,_0x10d8cb[_0xccf431(0x3bc)](_0x24593b,_0x39e9f3,_0x850da2+'ms',_0x490e03);}};})()),'logger':{'log':(_0x55d7a6,_0x59b437=()=>{})=>{const _0x542747=_0x2ac574,_0x4cd0ec=_0x59b437();_0x4cd0ec?_0x10d8cb[_0x542747(0x3bc)](_0x24593b,_0x55d7a6,_0x4cd0ec,_0x490e03):_0x10d8cb[_0x542747(0x3bc)](_0x24593b,_0x55d7a6,_0x490e03);},'performCalculation':(_0x56dc9f,_0x15ba70)=>_0x56dc9f()}};}function _0x281f33(_0x333de5){const _0xf0be28=_0x4d79c3;return _0xf0be28(0x75e)==typeof Buffer?0x0:Buffer['byteLength'](JSON['stringify'](_0x333de5),_0xf0be28(0x60b));}function _0x3ab4fb(_0x3200cd){const _0xcc2156=_0x4d79c3;if(0x0===_0x3200cd)return'0\x20B';const _0x462540=Math['floor'](Math[_0xcc2156(0x3bc)](_0x3200cd)/Math['log'](0x400));return parseFloat((_0x3200cd/Math[_0xcc2156(0xa5d)](0x400,_0x462540))[_0xcc2156(0x234)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x462540];}class _0x47c68a extends _0x4eb90d{[_0x4d79c3(0x3d8)];[_0x4d79c3(0x5b6)];[_0x4d79c3(0x5eb)];[_0x4d79c3(0x9f6)];['db'];[_0x4d79c3(0x127)];[_0x4d79c3(0x220)]=new Map();[_0x4d79c3(0x591)];[_0x4d79c3(0x5bd)];[_0x4d79c3(0x431)];[_0x4d79c3(0x609)];['syncResolve'];['transactionsToSync']=[];['timeoutCallback']=()=>{};[_0x4d79c3(0x48f)];[_0x4d79c3(0x4d3)]=_0x54b3ea();[_0x4d79c3(0x76b)];['syncTransactionsWritten']=[];[_0x4d79c3(0x7cd)];[_0x4d79c3(0x806)];[_0x4d79c3(0x209)]=0x0;[_0x4d79c3(0x302)]=0x0;['contentRequestSent']=!0x1;['mmr']=new _0xa37c2f();[_0x4d79c3(0xa12)]=new Map();['transactions']=[];[_0x4d79c3(0xa4f)];[_0x4d79c3(0xaf)]=[];[_0x4d79c3(0x27f)];constructor(_0x78fcfb,_0xc9edb0,_0x5c9796,_0x58e210,_0x5fe7c4,_0x5f14f6,_0x2054d3){const _0x4fee0d=_0x4d79c3;if('string'!=typeof _0xc9edb0)throw new _0x322bb6(_0x4b1e43[_0x4fee0d(0x74e)],_0x4fee0d(0x953));if(super(_0x78fcfb,_0xc9edb0),this[_0x4fee0d(0x3d8)]=_0x78fcfb,this[_0x4fee0d(0x5b6)]=_0x5c9796,this[_0x4fee0d(0x5eb)]=_0x58e210,this[_0x4fee0d(0x9f6)]=_0x2054d3,this[_0x4fee0d(0x127)]=_0x4fee0d(0x9fd)+this[_0x4fee0d(0x5eb)]+'ccc'+this['clusterId']+'ccc'+this[_0x4fee0d(0x9d4)],this['tableObserver']=_0x54b3ea(),this['loggingCycle']=function(_0x828c87,_0x57fcf2){const _0x4c3b18=_0x4fee0d;if(!_0x10d8cb[_0x4c3b18(0x50f)](_0x57fcf2))return _0x10d8cb[_0x4c3b18(0x2ee)](_0x4c3b18(0x604)+_0x57fcf2),{..._0x1b625f(_0x828c87,_0x57fcf2),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x4c3b18(0x2fd),'dataReceived':'0\x20B'})};const {timingLogger:_0x317233,logger:_0x5e7834}=_0x1b625f(_0x828c87,_0x57fcf2);let _0xbb504=0x0,_0x34d63e=0x0;return{'timingLogger':_0x317233,'logger':_0x5e7834,'logDataSent':(_0x549732,_0x3b226d=!0x1)=>{const _0x30cf07=_0x4c3b18,_0x33dbb9=_0x281f33(_0x549732);return _0x3b226d&&_0x10d8cb[_0x30cf07(0x3bc)](_0x57fcf2,'Data\x20Sent',_0x828c87,_0x33dbb9),_0xbb504+=_0x33dbb9,_0x33dbb9;},'logDataReceived':(_0x18c24a,_0x2d0187=!0x1)=>{const _0x336cae=_0x4c3b18,_0x47aab1=_0x281f33(_0x18c24a);return _0x2d0187&&_0x10d8cb[_0x336cae(0x3bc)](_0x57fcf2,'Data\x20Received',_0x828c87,_0x47aab1),_0x34d63e+=_0x47aab1,_0x47aab1;},'getDataLogged':()=>({'dataSent':_0x3ab4fb(_0xbb504),'dataReceived':_0x3ab4fb(_0x34d63e)})};}(this[_0x4fee0d(0x9d4)],_0x44f26b[_0x4fee0d(0xaac)]),this['isSync']=new Promise(_0x3c2abc=>{const _0x162b7b=_0x4fee0d;this[_0x162b7b(0xc5)]=_0x3c2abc;}),_0x5fe7c4 instanceof _0x1f376e)this['layout']=_0x5fe7c4['getLayout']();else{const [_0x1c2445,_0x3b3dcd]=_0x1f376e[_0x4fee0d(0x566)](_0x5fe7c4);if(!_0x1c2445)throw new _0x322bb6(_0x4b1e43[_0x4fee0d(0x6b9)],_0x4fee0d(0x9f5)+_0x3b3dcd);this[_0x4fee0d(0x7cd)]=structuredClone(_0x5fe7c4);}this[_0x4fee0d(0x5d6)](this['layout']),this['db']=new _0x5f14f6(this[_0x4fee0d(0x127)],this[_0x4fee0d(0x7cd)]),this['sendStats']();}async[_0x4d79c3(0x255)](_0x189066,_0x2ac9ed){const _0x491cab=_0x4d79c3;if(_0x10d8cb[_0x491cab(0x3bc)](_0x44f26b[_0x491cab(0xaac)],_0x491cab(0x473),this['label']),!this['transactionTable'])throw new _0x25257a(_0x25257a[_0x491cab(0x6cc)][_0x491cab(0x91d)]);if(await this[_0x491cab(0x609)],await this[_0x491cab(0x9f6)](_0x189066),await this[_0x491cab(0x1eb)]['getRoot']()===_0x2ac9ed){const _0x7f5266={'sourceId':this['localNode'][_0x491cab(0x970)](),'destinationIds':[_0x189066],'propagate':!0x0,'messageType':_0x15b885[_0x491cab(0x2ca)],'content':{'type':_0x4fa1d5['KeyValueDatabaseContentSynchronized'],'label':this['label'],'mmrRoot':_0x2ac9ed}};return this[_0x491cab(0x27f)][_0x491cab(0x723)](_0x7f5266),void this['systemTopic'][_0x491cab(0x758)](_0x7f5266);}const _0x28155b=this['mmr'][_0x491cab(0x7b6)](),_0x40aca8={'sourceId':this[_0x491cab(0x3d8)][_0x491cab(0x970)](),'destinationIds':[_0x189066],'propagate':!0x0,'messageType':_0x15b885[_0x491cab(0x2ca)],'content':{'type':_0x4fa1d5[_0x491cab(0x3c5)],'label':this['label'],'peaks':_0x28155b}};this[_0x491cab(0x27f)][_0x491cab(0x723)](_0x40aca8),this['systemTopic'][_0x491cab(0x758)](_0x40aca8);}async['processContentSynchronized'](_0x22fef6,_0xbeb03d){const _0x2881da=_0x4d79c3,_0x135331=await this[_0x2881da(0x1eb)]['getRoot'](),_0x2a79da=_0x135331===_0xbeb03d;if(_0x10d8cb['log'](_0x44f26b[_0x2881da(0xaac)],'Received\x20ContentSynchronized\x20from\x20'+_0x22fef6+_0x2881da(0x467)+_0x2a79da,this[_0x2881da(0x9d4)]),_0x2a79da)return this[_0x2881da(0x9dc)](),void this['publishSyncCompleted']();_0x10d8cb['log'](_0x44f26b[_0x2881da(0xaac)],'ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',_0x135331,_0xbeb03d),_0x10d8cb[_0x2881da(0x29c)](_0x2881da(0x7a5),{'nodeId':this[_0x2881da(0x3d8)][_0x2881da(0x970)](),'nodeType':this[_0x2881da(0x3d8)][_0x2881da(0x572)],'remoteId':_0x22fef6,'data':{'localMMRRoot':_0x135331,'remoteMMRRoot':_0xbeb03d}});const _0x239d88={'sourceId':this['localNode'][_0x2881da(0x970)](),'messageType':_0x15b885['Content'],'propagate':!0x0,'content':{'type':_0x4fa1d5[_0x2881da(0xa78)],'label':this['label'],'mmrRoot':_0x135331}};this[_0x2881da(0x3fb)][_0x2881da(0x758)](_0x239d88);}async[_0x4d79c3(0x2a4)](_0x17bfa0,_0x22690e){const _0x28db13=_0x4d79c3;if(_0x10d8cb[_0x28db13(0x3bc)](_0x44f26b[_0x28db13(0xaac)],_0x28db13(0x174),_0x17bfa0,_0x28db13(0x9d4),this[_0x28db13(0x9d4)],_0x28db13(0x559),_0x22690e),this['contentRequestSent'])return;this[_0x28db13(0xf6)]=!0x0,this[_0x28db13(0x9dc)]();const {differingPeaks:_0x20d4ff,peaksMissingInLocal:_0x31ffcf,peaksMissingInRemote:_0x2206c5}=this[_0x28db13(0x1eb)]['comparePeaks'](_0x22690e);_0x10d8cb[_0x28db13(0x3bc)](_0x44f26b[_0x28db13(0xaac)],_0x28db13(0x126),{'differingPeaks':_0x20d4ff,'peaksMissingInLocal':_0x31ffcf,'peaksMissingInRemote':_0x2206c5});const _0x4d4397={'sourceId':this[_0x28db13(0x3d8)][_0x28db13(0x970)](),'destinationIds':[_0x17bfa0],'propagate':!0x0,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5[_0x28db13(0x449)],'label':this[_0x28db13(0x9d4)],'peakHeights':_0x31ffcf['map'](_0x332080=>_0x332080[_0x28db13(0x3f5)])[_0x28db13(0x4fa)](_0x20d4ff['map'](_0xe97040=>_0xe97040[_0x28db13(0x3f5)]))}};if(this[_0x28db13(0x3fb)][_0x28db13(0x758)](_0x4d4397),_0x20d4ff[_0x28db13(0x4bf)]>0x0||_0x2206c5[_0x28db13(0x4bf)]>0x0){const _0x1c6f32=_0x2206c5['map'](_0x19fa2c=>_0x19fa2c[_0x28db13(0x3f5)])[_0x28db13(0x4fa)](_0x20d4ff[_0x28db13(0x384)](_0x51cf6b=>_0x51cf6b[_0x28db13(0x3f5)]));await this[_0x28db13(0xa67)](_0x17bfa0,_0x1c6f32,!0x0);}}async['sendPeakTransactions'](_0x4c53a3,_0x1f2163,_0x3dd9bd=!0x1){const _0x49cc9d=_0x4d79c3;_0x10d8cb[_0x49cc9d(0x3bc)](_0x44f26b['KeyValueDatabase'],_0x49cc9d(0x3da),this[_0x49cc9d(0x9d4)]);const _0x9df105=_0x1f2163[_0x49cc9d(0x384)](_0x41d852=>this[_0x49cc9d(0x1eb)][_0x49cc9d(0x821)](_0x41d852))[_0x49cc9d(0x70d)](Boolean);if(!_0x9df105['length']||_0x1f2163[_0x49cc9d(0x4bf)]!==_0x9df105[_0x49cc9d(0x4bf)])throw new _0x25257a(_0x25257a['codes']['KeyValueDatabasePeakNotFound'],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x1f2163,'peaks':_0x9df105['map'](_0xd185f6=>_0xd185f6['height']),'nodeId':_0x4c53a3});const _0x100f62=[];for(const _0x3d7015 of _0x9df105)this[_0x49cc9d(0x6df)](_0x3d7015,_0x100f62);const _0x4a67f0=_0x3dd9bd?void 0x0:[_0x4c53a3],_0x47da7e={'sourceId':this[_0x49cc9d(0x3d8)][_0x49cc9d(0x970)](),'destinationIds':_0x4a67f0,'messageType':_0x15b885[_0x49cc9d(0x2ca)],'propagate':!0x0,'content':{'type':_0x4fa1d5[_0x49cc9d(0x176)],'label':this[_0x49cc9d(0x9d4)],'transactions':_0x100f62}};this['loggingCycle']['logDataSent'](_0x47da7e),this[_0x49cc9d(0x3fb)]['publish'](_0x47da7e);}async[_0x4d79c3(0x67f)](_0x2e4bdb,_0x38fe88){const _0x2bf954=_0x4d79c3;_0x10d8cb[_0x2bf954(0x3bc)](_0x44f26b['KeyValueDatabase'],'Received\x20'+_0x38fe88[_0x2bf954(0x4bf)]+'\x20transactions\x20from\x20node\x20'+_0x2e4bdb+_0x2bf954(0x6be)+this[_0x2bf954(0x9d4)]);for(const _0x106689 of _0x38fe88){const _0x53020e=await this[_0x2bf954(0x5bd)]['get'](_0x106689['id']);if(!(_0x53020e&&this[_0x2bf954(0x25e)](_0x53020e,_0x106689)>=0x0)){if(_0x106689[_0x2bf954(0x34b)]===_0x2a09e0[_0x2bf954(0x44f)]){const [_0x21cfba,_0x5b8b8a]=_0x106689['id'][_0x2bf954(0x101)]('::'),_0x3fa912=this[_0x2bf954(0x4a1)](_0x21cfba);await _0x3fa912[_0x2bf954(0x86a)](_0x5b8b8a);}else this[_0x2bf954(0xa74)][_0x2bf954(0x15b)](_0x106689['id']);}}if(_0x10d8cb[_0x2bf954(0x3bc)](_0x44f26b[_0x2bf954(0xaac)],_0x2bf954(0x86b)+this['transactionsToSync'][_0x2bf954(0x4bf)]+'\x20new\x20transactions',this[_0x2bf954(0x9d4)]),this[_0x2bf954(0xa74)][_0x2bf954(0x4bf)]>0x0){const _0xfc9281={'sourceId':this['localNode'][_0x2bf954(0x970)](),'destinationIds':[_0x2e4bdb],'messageType':_0x15b885['Content'],'propagate':!0x0,'content':{'type':_0x4fa1d5[_0x2bf954(0x904)],'label':this[_0x2bf954(0x9d4)],'transactionIds':this[_0x2bf954(0xa74)]}};this[_0x2bf954(0x27f)][_0x2bf954(0x723)](_0xfc9281),this[_0x2bf954(0x3fb)]['publish'](_0xfc9281);}}['reset'](){this['sendStats']();}['getContentType'](){const _0x57f28a=_0x4d79c3;return _0xf8ccf2[_0x57f28a(0x3fc)][_0x57f28a(0xaac)];}[_0x4d79c3(0x7b4)](){const _0xad423e=_0x4d79c3;this['db'][_0xad423e(0x8f0)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0xad423e(0x806)]),delete this[_0xad423e(0x806)],super[_0xad423e(0x7b4)]();}[_0x4d79c3(0x8f0)](){const _0x2640ef=_0x4d79c3;this[_0x2640ef(0x9dc)](),this[_0x2640ef(0x3fb)][_0x2640ef(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5[_0x2640ef(0x10c)],'label':this[_0x2640ef(0x9d4)]}});}['getTable'](_0x357157){const _0x15a5d7=_0x4d79c3,_0x2fd92e=this[_0x15a5d7(0x220)][_0x15a5d7(0x2d3)](_0x357157);if(_0x2fd92e)return _0x2fd92e;try{if(!this['db'][_0x15a5d7(0x8ad)](_0x357157))throw new _0x322bb6(_0x4b1e43[_0x15a5d7(0x978)],_0x15a5d7(0x3c8));const _0x4b6540=new _0x1facd3(this['db'][_0x15a5d7(0x8d9)](_0x357157),_0x357157,this[_0x15a5d7(0x591)]);return this['tables'][_0x15a5d7(0xb1)](_0x357157,_0x4b6540),{'get':_0x4b6540[_0x15a5d7(0x2d3)][_0x15a5d7(0x1f5)](_0x4b6540),'set':_0x4b6540[_0x15a5d7(0xb1)][_0x15a5d7(0x1f5)](_0x4b6540),'add':_0x4b6540[_0x15a5d7(0x306)]['bind'](_0x4b6540),'delete':_0x4b6540[_0x15a5d7(0x86a)]['bind'](_0x4b6540),'clear':_0x4b6540[_0x15a5d7(0x2cb)]['bind'](_0x4b6540),'list':_0x4b6540['list'][_0x15a5d7(0x1f5)](_0x4b6540),'count':_0x4b6540[_0x15a5d7(0x93b)][_0x15a5d7(0x1f5)](_0x4b6540),'subscribe':_0x4b6540[_0x15a5d7(0x2a1)]['bind'](_0x4b6540),'unsubscribe':_0x4b6540[_0x15a5d7(0x5fc)]['bind'](_0x4b6540)};}catch(_0x1c5047){if(_0x1c5047 instanceof _0x322bb6)throw _0x1c5047;throw new _0x322bb6(_0x4b1e43[_0x15a5d7(0x2ab)],_0x15a5d7(0x767));}}[_0x4d79c3(0x2a1)](_0x4bcbae){const _0x3eeb7e=_0x4d79c3;this[_0x3eeb7e(0x76b)]=this[_0x3eeb7e(0x4d3)][_0x3eeb7e(0x2a1)](_0x4bcbae),this[_0x3eeb7e(0x52b)](this[_0x3eeb7e(0x609)])['then'](_0x56426f=>{const _0x42f4b2=_0x3eeb7e;_0x56426f&&this['eventListener'][_0x42f4b2(0x758)]({'event':_0xf8ccf2[_0x42f4b2(0x18d)][_0x42f4b2(0x668)]});});}['unsubscribe'](){const _0x29c83c=_0x4d79c3;this[_0x29c83c(0x76b)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x4d79c3(0x56c)](){const _0x4ebf8b=_0x4d79c3;_0x23c83a(_0x44f26b['KeyValueDatabase'],_0x4ebf8b(0x13b));const _0xb600e7=[_0x2e5e2b,_0x578754],_0xf6359f=[];try{await this['db'][_0x4ebf8b(0x56c)]();const _0xb19e2a=this['db'][_0x4ebf8b(0x8d9)](_0x578754),_0x3cabb5=await _0xb19e2a[_0x4ebf8b(0x119)](),{id:_0x400ad5,layout:_0x4c569d}=_0x3cabb5[0x0]??{};if(_0x4c569d){for(const _0x1ffc15 in _0x4c569d)_0xb600e7[_0x4ebf8b(0xcc)](_0x1ffc15)||this['db'][_0x4ebf8b(0x8ad)](_0x1ffc15)||_0xf6359f[_0x4ebf8b(0x15b)](_0x1ffc15);await _0xb19e2a[_0x4ebf8b(0xb1)](_0x400ad5,{'layout':this[_0x4ebf8b(0x7cd)]});}else await _0xb19e2a['add']({'layout':this['layout']});}catch(_0x5f2230){throw new _0x322bb6(_0x4b1e43[_0x4ebf8b(0x2ab)],_0x5f2230['message']||_0x4ebf8b(0x237));}this[_0x4ebf8b(0x4e6)](),await this[_0x4ebf8b(0x12c)](),this['setOnMessageHandler'](),this['setOnTableWriteHandler'](),_0xf6359f[_0x4ebf8b(0x571)](_0x1d33e2=>this[_0x4ebf8b(0x2b6)](_0x1d33e2));}async[_0x4d79c3(0x522)](_0x3b40b5,_0x15e590=()=>{},_0x5a1100=!0x1){const _0x12b11c=_0x4d79c3;if(!_0x3b40b5)return setTimeout(()=>{const _0x4fe38a=a0_0x50a3;this[_0x4fe38a(0x9dc)](),this[_0x4fe38a(0x1f6)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x12b11c(0x79c)]=_0x15e590,this[_0x12b11c(0x48f)]=setTimeout(_0x15e590,0x7d0),!this[_0x12b11c(0x3fb)])throw new _0x25257a(_0x25257a[_0x12b11c(0x6cc)][_0x12b11c(0x665)]);const _0x4f5bcd=await this[_0x12b11c(0x1eb)][_0x12b11c(0x856)](),_0x226552={'sourceId':this[_0x12b11c(0x3d8)]['getId'](),'messageType':_0x15b885['Content'],'propagate':_0x5a1100,'content':{'type':_0x4fa1d5[_0x12b11c(0xa78)],'label':this['label'],'mmrRoot':_0x4f5bcd}};return this[_0x12b11c(0x27f)][_0x12b11c(0x723)](_0x226552),this[_0x12b11c(0x3fb)]['publish'](_0x226552),this[_0x12b11c(0x609)];}async[_0x4d79c3(0x9e2)](_0x3e3081,_0x4efad9){const _0x42513c=_0x4d79c3;if(_0x10d8cb[_0x42513c(0x3bc)](_0x44f26b[_0x42513c(0xaac)],_0x42513c(0x9a4)+_0x4efad9[_0x42513c(0x4bf)],this[_0x42513c(0x9d4)]),!this[_0x42513c(0x5bd)])throw new _0x25257a(_0x25257a['codes'][_0x42513c(0x91d)]);for(const _0x393a94 of _0x4efad9){const _0xc8b16d=await this[_0x42513c(0x5bd)][_0x42513c(0x2d3)](_0x393a94);if(!_0xc8b16d)continue;const [_0x248fc5,_0x109bae]=_0x393a94[_0x42513c(0x101)]('::'),_0x36c0ff=this[_0x42513c(0x4a1)](_0x248fc5),_0x200cb4=await _0x36c0ff['get'](_0x109bae);_0x200cb4?(_0xc8b16d[_0x42513c(0x433)]=_0x200cb4,this[_0x42513c(0x987)](_0xc8b16d,[_0x3e3081])):_0x10d8cb['warning'](_0x42513c(0x80d),{'nodeId':this[_0x42513c(0x3d8)][_0x42513c(0x970)](),'nodeType':this['localNode']['type'],'remoteId':_0x3e3081,'data':{'tableKeys':Object[_0x42513c(0x261)](this[_0x42513c(0x220)]),'transactionId':_0x393a94,'transactions':this[_0x42513c(0xa74)],'tableName':_0x248fc5,'key':_0x109bae}});}}async[_0x4d79c3(0x81a)](_0x274458){const _0x116eea=_0x4d79c3;if(!this[_0x116eea(0x5bd)])throw new _0x25257a(_0x25257a[_0x116eea(0x6cc)][_0x116eea(0x91d)]);const _0x476da9=await this['mmr']['hashTransaction'](_0x274458),_0x3f7481=this[_0x116eea(0xa12)][_0x116eea(0x2d3)](_0x476da9);if(_0x3f7481&&this[_0x116eea(0x25e)](_0x274458,_0x3f7481)<=0x0)return void _0x10d8cb[_0x116eea(0x3bc)](_0x44f26b[_0x116eea(0xaac)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x274458);const _0x328992={..._0x274458};return delete _0x328992[_0x116eea(0x433)],this[_0x116eea(0xea)](_0x328992),await this['transactionTable'][_0x116eea(0xb1)](_0x274458['id'],_0x328992),_0x274458;}[_0x4d79c3(0x25e)](_0x1a68e4,_0xbece40){const _0x4792de=_0x4d79c3;return _0x1a68e4[_0x4792de(0x139)]!==_0xbece40[_0x4792de(0x139)]?_0x1a68e4[_0x4792de(0x139)]-_0xbece40['timestamp']:_0x1a68e4['priority']-_0xbece40['priority'];}async[_0x4d79c3(0x82d)](_0x2ffeac){const _0x499d94=_0x4d79c3;if(!this[_0x499d94(0x5bd)])throw new _0x25257a(_0x25257a['codes'][_0x499d94(0x91d)]);const _0x4cad4b=_0x2ffeac[_0x499d94(0x1be)]+'::'+_0x2ffeac[_0x499d94(0x1db)],_0x52b86e=await _0x46a54c['getEstimatedTimestamp'](),_0x15cef4={'id':_0x4cad4b,'priority':Math[_0x499d94(0x83b)](),'timestamp':_0x52b86e,'action':_0x2ffeac[_0x499d94(0x34b)]};if(await this[_0x499d94(0x81a)](_0x15cef4))return _0x15cef4;}async[_0x4d79c3(0x2b6)](_0x1c4621){const _0x3dadfd=_0x4d79c3;if(!this[_0x3dadfd(0x5bd)])throw new _0x25257a(_0x25257a[_0x3dadfd(0x6cc)][_0x3dadfd(0x91d)]);const _0x43e4aa=_0x56c126[_0x3dadfd(0x16a)]('id')[_0x3dadfd(0x30b)](_0x3dadfd(0x61a),[_0x1c4621+'::',_0x1c4621+_0x3dadfd(0x17f)]),_0x773aab=await this[_0x3dadfd(0x5bd)][_0x3dadfd(0x119)](_0x43e4aa[_0x3dadfd(0x1df)]());for(const _0x2e970c of _0x773aab)await this[_0x3dadfd(0x5bd)]['delete'](_0x2e970c['id']);}[_0x4d79c3(0xec)](){const _0x4df0de=_0x4d79c3;this[_0x4df0de(0x454)](async(_0x424676,_0x4f55fb)=>{const _0x4cddd0=_0x4df0de;if(_0x4f55fb instanceof File)return;if(this[_0x4cddd0(0x27f)]['logDataReceived'](_0x4f55fb),!await this[_0x4cddd0(0x81a)](_0x4f55fb))return void this[_0x4cddd0(0x45f)](_0x424676,_0x4f55fb);if(!_0x4f55fb[_0x4cddd0(0x433)])throw new _0x25257a(_0x25257a[_0x4cddd0(0x6cc)]['KeyValueDatabaseTransactionValueNotSet']);const [_0x48bff0,_0x4ca030]=_0x4f55fb['id'][_0x4cddd0(0x101)]('::'),_0x5ad3ea=this['getTable'](_0x48bff0);if(!_0x5ad3ea)throw new _0x25257a(_0x25257a[_0x4cddd0(0x6cc)][_0x4cddd0(0x2d7)],{'table':_0x5ad3ea});let _0x4f62c7=0x0;switch(_0x4f55fb[_0x4cddd0(0x34b)]){case _0x2a09e0[_0x4cddd0(0x983)]:case _0x2a09e0[_0x4cddd0(0x519)]:{const _0x26ee35=_0x5ad3ea['set'](_0x4ca030,_0x4f55fb[_0x4cddd0(0x433)],!0x1);_0x4f62c7=JSON['stringify'](_0x4f55fb[_0x4cddd0(0x433)])[_0x4cddd0(0x4bf)],this['transactionsToSync'][_0x4cddd0(0xcc)](_0x4f55fb['id'])&&this[_0x4cddd0(0x883)][_0x4cddd0(0x15b)](_0x26ee35);break;}case _0x2a09e0[_0x4cddd0(0x44f)]:{const _0x5e6916=_0x5ad3ea[_0x4cddd0(0x86a)](_0x4ca030,!0x1);this['transactionsToSync'][_0x4cddd0(0xcc)](_0x4f55fb['id'])&&this['syncTransactionsWritten'][_0x4cddd0(0x15b)](_0x5e6916);break;}}_0x10d8cb['logServiceEvent'](_0x51804b[_0x4cddd0(0xaac)],{'type':_0x4cddd0(0x522),'label':this['label'],'nodeId':this[_0x4cddd0(0x3d8)]['getId'](),'nodeType':this[_0x4cddd0(0x3d8)]['type'],'clusterId':this[_0x4cddd0(0x5b6)],'tableName':_0x48bff0,'key':_0x4ca030,'size':_0x4f62c7}),this[_0x4cddd0(0x45f)](_0x424676,_0x4f55fb);});}[_0x4d79c3(0x725)](){const _0x5e2d31=_0x4d79c3;this[_0x5e2d31(0x431)]=this['tableObserver'][_0x5e2d31(0x2a1)](async _0x228963=>{const _0x29e77b=_0x5e2d31;let _0x16d95e=0x0;switch(_0x228963[_0x29e77b(0x34b)]){case _0x2a09e0['Add']:case _0x2a09e0[_0x29e77b(0x519)]:case _0x2a09e0[_0x29e77b(0x44f)]:{const _0x470962=await this[_0x29e77b(0x82d)](_0x228963);if(!_0x470962)return;_0x470962[_0x29e77b(0x433)]=_0x228963['value'],this['send'](_0x470962),_0x16d95e=JSON[_0x29e77b(0x8a3)](_0x228963[_0x29e77b(0x433)])['length'],this[_0x29e77b(0x209)]+=0x1;break;}case _0x3945f1[_0x29e77b(0x795)]:case _0x3945f1['List']:case _0x3945f1[_0x29e77b(0x7db)]:this[_0x29e77b(0x302)]+=0x1;}_0x10d8cb[_0x29e77b(0xa05)](_0x51804b['KeyValueDatabase'],{'type':_0x228963[_0x29e77b(0x34b)],'label':this[_0x29e77b(0x9d4)],'nodeId':this[_0x29e77b(0x3d8)][_0x29e77b(0x970)](),'nodeType':this[_0x29e77b(0x3d8)][_0x29e77b(0x572)],'clusterId':this[_0x29e77b(0x5b6)],'tableName':_0x228963[_0x29e77b(0x1be)],'key':_0x228963[_0x29e77b(0x1db)],'size':_0x16d95e}),this[_0x29e77b(0x5f9)]();});}[_0x4d79c3(0x4e6)](){const _0x1d508b=_0x4d79c3;this['db']&&(this[_0x1d508b(0x5bd)]||(this[_0x1d508b(0x5bd)]=this['db']['getTableConnector'](_0x2e5e2b)));}['clearSyncTimeout'](){const _0xc4b91e=_0x4d79c3;this[_0xc4b91e(0x48f)]&&(clearTimeout(this[_0xc4b91e(0x48f)]),delete this[_0xc4b91e(0x48f)]);}async[_0x4d79c3(0x1f6)](){const _0x45440d=_0x4d79c3;await this[_0x45440d(0x1eb)][_0x45440d(0x8cd)],this[_0x45440d(0x27e)](),this['eventListener'][_0x45440d(0x758)]({'event':_0xf8ccf2[_0x45440d(0x18d)][_0x45440d(0x668)]}),this['syncResolve']?.(!0x0),delete this[_0x45440d(0xc5)],this[_0x45440d(0x5f9)](),_0x10d8cb['log'](_0x44f26b[_0x45440d(0xaac)],'Sync\x20completed',this[_0x45440d(0x9d4)]);}async['publishSyncCompletedAfterWrites'](_0x5d132b){const _0x38c262=_0x4d79c3;await Promise[_0x38c262(0x104)](this[_0x38c262(0x883)]),_0x10d8cb[_0x38c262(0x3bc)](_0x44f26b[_0x38c262(0xaac)],_0x38c262(0x66f)+this['syncTransactionsWritten'][_0x38c262(0x4bf)]+'\x20writes\x20from\x20'+_0x5d132b+_0x38c262(0x5c8),this['label']),await this[_0x38c262(0x1eb)]['ready'],await this['confirmSynchronization'](_0x5d132b),await this['publishSyncCompleted']();}[_0x4d79c3(0x45f)](_0x3e805c,_0x599bec){const _0x369c32=_0x4d79c3;this['transactionsToSync']['includes'](_0x599bec['id'])&&(this[_0x369c32(0x9dc)](),this[_0x369c32(0xa74)]=this[_0x369c32(0xa74)][_0x369c32(0x70d)](_0x3b136a=>_0x3b136a!==_0x599bec['id']),0x0!==this[_0x369c32(0xa74)][_0x369c32(0x4bf)]?this[_0x369c32(0x48f)]=setTimeout(this[_0x369c32(0x79c)],0x7d0):this[_0x369c32(0x45a)](_0x3e805c));}['sendStats'](){const _0x58c2d1=_0x4d79c3;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x58c2d1(0x806)]=setTimeout(async()=>{const _0x3367bc=_0x58c2d1;delete this['debounceStats'];let _0x40248e=0x0;for(const _0x1170f3 of this[_0x3367bc(0x220)][_0x3367bc(0x3c7)]())_0x40248e+=await _0x1170f3[_0x3367bc(0x4d5)]();this[_0x3367bc(0x3fb)][_0x3367bc(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5[_0x3367bc(0x92e)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x40248e,'messagesSent':this[_0x3367bc(0x861)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3367bc(0xeb)],'bytesReceived':this[_0x3367bc(0x312)],'writes':this[_0x3367bc(0x209)],'reads':this[_0x3367bc(0x302)],'prompts':0x0,'tokens':0x0}}}),_0x10d8cb[_0x3367bc(0x55e)](_0x51804b[_0x3367bc(0xaac)],_0x3367bc(0x9fd)+this[_0x3367bc(0x5b6)]+'ccc'+this[_0x3367bc(0x9d4)],_0x40248e);},_0x5e33e5);}[_0x4d79c3(0x5d6)](_0x2dfce9){const _0x4d0002=_0x4d79c3;if(_0x2dfce9[_0x4d0002(0x220)][_0x2e5e2b])throw new _0x322bb6(_0x4b1e43[_0x4d0002(0x2c6)],_0x4d0002(0x975)+_0x2e5e2b+_0x4d0002(0x848));if(_0x2dfce9[_0x4d0002(0x220)][_0x578754])throw new _0x322bb6(_0x4b1e43[_0x4d0002(0x2c6)],_0x4d0002(0x975)+_0x578754+'\x27\x20reserved');_0x2dfce9['tables'][_0x2e5e2b]={'indexes':[]},_0x2dfce9[_0x4d0002(0x220)][_0x578754]={'indexes':[]};}async[_0x4d79c3(0x52b)](_0x11956c){const _0x5a5df6=_0x4d79c3;return Promise['race']([_0x11956c,Promise[_0x5a5df6(0x5e8)](_0x5a5df6(0x182))])[_0x5a5df6(0x1f9)](_0x53a5c5=>_0x5a5df6(0x182)!==_0x53a5c5);}async[_0x4d79c3(0x6c5)](_0x4bbf4e){const _0x4d083b=_0x4d79c3;await this[_0x4d083b(0x293)]();const _0x20b998=await this[_0x4d083b(0x1eb)]['getRoot'](),_0x584960={'sourceId':this['localNode'][_0x4d083b(0x970)](),'destinationIds':[_0x4bbf4e],'propagate':!0x0,'messageType':_0x15b885[_0x4d083b(0x2ca)],'content':{'type':_0x4fa1d5[_0x4d083b(0x411)],'label':this['label'],'mmrRoot':_0x20b998}};this[_0x4d083b(0x3fb)][_0x4d083b(0x758)](_0x584960);}async['buildInitialMMR'](){const _0x4de583=_0x4d79c3;if(!this[_0x4de583(0x5bd)])throw new _0x25257a(_0x25257a['codes'][_0x4de583(0x91d)]);this[_0x4de583(0x4ea)]=await this[_0x4de583(0x5bd)][_0x4de583(0x119)](),this['transactions'][_0x4de583(0x694)](this[_0x4de583(0x25e)]),this['mmr']=new _0xa37c2f(),this['transactionHashMap']=new Map();for(const _0x2b7ca1 of this[_0x4de583(0x4ea)])this['appendTransactionAndUpdateHashMap'](_0x2b7ca1,this[_0x4de583(0x4ea)][_0x4de583(0x4bf)]);this[_0x4de583(0x6a2)]();}async[_0x4d79c3(0x8dd)](_0x108ff2,_0x28ba07){const _0x4a4ddb=_0x4d79c3,_0xa0316={..._0x108ff2};delete _0xa0316[_0x4a4ddb(0x433)],await this[_0x4a4ddb(0x1eb)][_0x4a4ddb(0x7d3)](_0xa0316,_0x28ba07);const _0x4eae68=await this['mmr'][_0x4a4ddb(0x99a)](_0xa0316);this[_0x4a4ddb(0xa12)][_0x4a4ddb(0xb1)](_0x4eae68,_0x108ff2);}[_0x4d79c3(0x3b9)](_0x13ccd6){const _0x3080f0=_0x4d79c3;return this[_0x3080f0(0xa12)][_0x3080f0(0x2d3)](_0x13ccd6);}[_0x4d79c3(0x6df)](_0x42efb1,_0x4d2f25){const _0x4868f3=_0x4d79c3;if(0x0!==_0x42efb1[_0x4868f3(0x3f5)])_0x42efb1[_0x4868f3(0xa38)]&&this['collectTransactionsFromNode'](_0x42efb1[_0x4868f3(0xa38)],_0x4d2f25),_0x42efb1[_0x4868f3(0x30f)]&&this[_0x4868f3(0x6df)](_0x42efb1[_0x4868f3(0x30f)],_0x4d2f25);else{const _0x316ad4=this[_0x4868f3(0x3b9)](_0x42efb1[_0x4868f3(0x3af)]);_0x316ad4&&_0x4d2f25['push'](_0x316ad4);}}async[_0x4d79c3(0x4a0)](){const _0x2c8fc1=_0x4d79c3;this[_0x2c8fc1(0xa4f)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x2c8fc1(0xa4f)],this[_0x2c8fc1(0xaf)][_0x2c8fc1(0x4bf)]>0x0&&(this['transactions']['push'](...this[_0x2c8fc1(0xaf)][_0x2c8fc1(0x694)](this['compareTransactions'])),this[_0x2c8fc1(0xaf)]=[]));const _0x40a30a=this[_0x2c8fc1(0x39a)]();this[_0x2c8fc1(0x1eb)]=new _0xa37c2f(),this[_0x2c8fc1(0xa12)]['clear'](),this['transactions']['sort'](this[_0x2c8fc1(0x25e)]);for(const _0x1ab855 of this['transactions'])this[_0x2c8fc1(0x8dd)](_0x1ab855,this[_0x2c8fc1(0x4ea)][_0x2c8fc1(0x4bf)]);await this[_0x2c8fc1(0x1eb)][_0x2c8fc1(0x8cd)],this['logMMRRebuild'](_0x40a30a);}[_0x4d79c3(0x39a)](){const _0x3b4de4=_0x4d79c3;return this[_0x3b4de4(0x27f)]['logger']['performCalculation'](async()=>{const _0xd063ab=_0x3b4de4,_0x5a6cae=await this[_0xd063ab(0x1eb)][_0xd063ab(0x856)]();return{'startTime':Date['now'](),'initialRoot':_0x5a6cae};},Promise[_0x3b4de4(0x5e8)]({'startTime':0x0,'initialRoot':''}));}async[_0x4d79c3(0x818)](_0xb6ebf0){const _0x53e7c7=_0x4d79c3;try{const {startTime:_0x5961e2,initialRoot:_0x55188b}=await _0xb6ebf0,_0x463dca=await this[_0x53e7c7(0x1eb)][_0x53e7c7(0x856)](),_0x1a9e18=[_0x53e7c7(0x326)+(_0x55188b!==_0x463dca),_0x53e7c7(0x9c7)+_0x55188b,_0x53e7c7(0xa35)+_0x463dca,_0x53e7c7(0xa5e)+this[_0x53e7c7(0x1eb)]['getTotalNodes'](),_0x53e7c7(0x6b6)+(Date['now']()-_0x5961e2)+_0x53e7c7(0x23c)][_0x53e7c7(0x9fc)]('\x20');this[_0x53e7c7(0x27f)][_0x53e7c7(0x421)][_0x53e7c7(0x3bc)]('',()=>_0x1a9e18);}catch(_0x194b15){console['error'](_0x53e7c7(0xf8),_0x194b15);}}[_0x4d79c3(0xea)](_0x1edd0f){const _0x35f03a=_0x4d79c3;this[_0x35f03a(0xaf)][_0x35f03a(0x15b)](_0x1edd0f),this[_0x35f03a(0xa4f)]&&(clearTimeout(this[_0x35f03a(0xa4f)]),delete this[_0x35f03a(0xa4f)]),this['debounceRebuildMMR']=setTimeout(()=>{const _0x2455ed=_0x35f03a;this[_0x2455ed(0x293)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x19d053=_0x4d79c3;if(this[_0x19d053(0xa4f)]&&(clearTimeout(this[_0x19d053(0xa4f)]),delete this[_0x19d053(0xa4f)]),0x0!==this['transactionsToAppend'][_0x19d053(0x4bf)]){if(0x0===this[_0x19d053(0x4ea)]['length'])return this[_0x19d053(0x4ea)]=this[_0x19d053(0xaf)],this[_0x19d053(0xaf)]=[],await this[_0x19d053(0x4a0)]();if(this[_0x19d053(0xaf)][_0x19d053(0x694)](this[_0x19d053(0x25e)]),this[_0x19d053(0x25e)](this[_0x19d053(0xaf)][0x0],this[_0x19d053(0x4ea)][this[_0x19d053(0x4ea)]['length']-0x1])>0x0){this[_0x19d053(0x27f)][_0x19d053(0x421)]['log'](_0x19d053(0x72e)+this['transactionsToAppend']['length']+_0x19d053(0xa60)+this[_0x19d053(0x4ea)][_0x19d053(0x4bf)]);for(const _0x47e2e5 of this['transactionsToAppend'])this[_0x19d053(0x4ea)][_0x19d053(0x15b)](_0x47e2e5),this['appendTransactionAndUpdateHashMap'](_0x47e2e5,this[_0x19d053(0xaf)][_0x19d053(0x4bf)]);return this[_0x19d053(0xaf)]=[],void this[_0x19d053(0x27f)]['logger'][_0x19d053(0x3bc)](_0x19d053(0x6da),async()=>_0x19d053(0x4c2)+await this[_0x19d053(0x1eb)][_0x19d053(0x856)]()+',\x20Total\x20Nodes:'+this['mmr'][_0x19d053(0x88b)]());}this[_0x19d053(0x27f)][_0x19d053(0x421)][_0x19d053(0x3bc)]('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this['transactionsToAppend'][_0x19d053(0x4bf)]+_0x19d053(0xa60)+this[_0x19d053(0x4ea)][_0x19d053(0x4bf)]),this[_0x19d053(0x4ea)][_0x19d053(0x15b)](...this[_0x19d053(0xaf)]),this[_0x19d053(0xaf)]=[],this[_0x19d053(0x4a0)]();}}async[_0x4d79c3(0x27e)](){const _0x402c9d=_0x4d79c3;if(!_0x10d8cb[_0x402c9d(0x50f)](_0x44f26b['KeyValueDatabase']))return;await this['mmr'][_0x402c9d(0x8cd)];const {dataSent:_0x21163c,dataReceived:_0x339582}=this[_0x402c9d(0x27f)][_0x402c9d(0x264)]();_0x10d8cb[_0x402c9d(0x3bc)](_0x44f26b['KeyValueDatabase'],_0x402c9d(0x4a6),this[_0x402c9d(0x9d4)],_0x402c9d(0x6f8)+_0x21163c,_0x402c9d(0x3cd)+_0x339582,_0x402c9d(0x826),await this[_0x402c9d(0x1eb)][_0x402c9d(0x856)](),_0x402c9d(0x396),this[_0x402c9d(0x1eb)][_0x402c9d(0x88b)]());}async['logInitialMMR'](){const _0x467cb0=_0x4d79c3;if(!_0x10d8cb['isChannelEnabled'](_0x44f26b['KeyValueDatabase']))return;const _0x2b722b=this[_0x467cb0(0x1eb)]['getPeaks'](),_0x286399=_0x2b722b[_0x467cb0(0x384)](_0x2579b3=>_0x2579b3[_0x467cb0(0x3f5)]),_0x4d22e2=await this['mmr'][_0x467cb0(0x856)]();_0x10d8cb['log'](_0x44f26b[_0x467cb0(0xaac)],_0x467cb0(0x880),this['transactions']['length'],_0x467cb0(0x4ea),this[_0x467cb0(0x1eb)][_0x467cb0(0x88b)](),_0x467cb0(0x1d3),_0x2b722b[_0x467cb0(0x4bf)],_0x467cb0(0x559),_0x286399,'root\x20hash:\x20',_0x4d22e2);}}const _0x2ff1c9=require('@crewdle/mist-connector-opfs'),_0x131be2=require('@crewdle/mist-connector-indexed-db'),_0x2ea3fa=require('@crewdle/mist-connector-webrtc-browser'),_0x584039=0x10000000;var _0x514643,_0x3b5aa5,_0x4663c4,_0x134d3f,_0x2cc780,_0x37cca2,_0x2ef74f,_0x25a86b,_0x34d0d2;!function(_0x3d2bdd){const _0x2a7b29=_0x4d79c3;_0x3d2bdd[_0x2a7b29(0xa36)]='AudioContext',_0x3d2bdd[_0x2a7b29(0x241)]=_0x2a7b29(0x241),_0x3d2bdd[_0x2a7b29(0xaa)]=_0x2a7b29(0xaa),_0x3d2bdd[_0x2a7b29(0x2c4)]=_0x2a7b29(0x2c4),_0x3d2bdd[_0x2a7b29(0x4f5)]=_0x2a7b29(0x4f5),_0x3d2bdd['MediaStream']=_0x2a7b29(0x7de),_0x3d2bdd[_0x2a7b29(0x803)]=_0x2a7b29(0x803),_0x3d2bdd[_0x2a7b29(0x729)]=_0x2a7b29(0x729),_0x3d2bdd[_0x2a7b29(0x37a)]='WebGL',_0x3d2bdd[_0x2a7b29(0xa11)]='WebRTC';}(_0x514643||(_0x514643={}));class _0x58d867{[_0x4d79c3(0x738)];[_0x4d79c3(0x686)];['eventTarget'];constructor(_0x52134f=new Map(),_0x38d289=new Map(),_0x19d682=new EventTarget()){const _0x38c57a=_0x4d79c3;this[_0x38c57a(0x738)]=_0x52134f,this[_0x38c57a(0x686)]=_0x38d289,this[_0x38c57a(0x65a)]=_0x19d682;}[_0x4d79c3(0x28b)]=(_0x23c02e,_0x1a6eba)=>this['registeredListeners'][_0x4d79c3(0x85)](_0x23c02e)?(_0x10d8cb[_0x4d79c3(0x3bc)](_0x44f26b[_0x4d79c3(0x5c9)],_0x4d79c3(0x747),{'event':_0x23c02e,'data':_0x1a6eba}),this['eventTarget'][_0x4d79c3(0x35c)](new CustomEvent(_0x23c02e,{'detail':_0x1a6eba})),!0x0):(this[_0x4d79c3(0x265)](_0x23c02e,_0x1a6eba),!0x1);['on']=(_0x4ad010,_0x639e9a)=>{const _0x17e7e8=_0x4d79c3,_0x4b2465=_0x20041e=>{const _0x3d57fd=a0_0x50a3;_0x10d8cb[_0x3d57fd(0x3bc)](_0x44f26b['Events'],'Received\x20event\x20on\x20cluster',_0x20041e['type'],_0x20041e[_0x3d57fd(0x122)]),_0x639e9a(_0x20041e[_0x3d57fd(0x122)]);};return this[_0x17e7e8(0x738)][_0x17e7e8(0xb1)](_0x4ad010,_0x4b2465),this[_0x17e7e8(0x65a)][_0x17e7e8(0x9f3)](_0x4ad010,_0x4b2465),_0x10d8cb[_0x17e7e8(0x3bc)](_0x44f26b[_0x17e7e8(0x187)],_0x17e7e8(0x82e),_0x4ad010,_0x639e9a),this[_0x17e7e8(0x135)](_0x4ad010),this;};[_0x4d79c3(0x69a)](_0x51a937){const _0x4ffe60=_0x4d79c3;if(!_0x51a937)return this[_0x4ffe60(0x738)][_0x4ffe60(0x571)]((_0xddb10c,_0x42a7a8)=>{const _0x4d595a=_0x4ffe60;this[_0x4d595a(0x65a)][_0x4d595a(0x621)](_0x42a7a8,_0xddb10c);}),void this[_0x4ffe60(0x738)][_0x4ffe60(0x2cb)]();_0x4ffe60(0x2ae)==typeof _0x51a937&&this[_0x4ffe60(0x656)](_0x51a937),Array[_0x4ffe60(0x61d)](_0x51a937)&&_0x51a937[_0x4ffe60(0x571)](_0x1652e0=>{this['removeListener'](_0x1652e0);});}[_0x4d79c3(0x656)](_0x15bf78){const _0x1345fe=_0x4d79c3,_0x329697=this[_0x1345fe(0x738)][_0x1345fe(0x2d3)](_0x15bf78);_0x329697&&(this[_0x1345fe(0x65a)][_0x1345fe(0x621)](_0x15bf78,_0x329697),this[_0x1345fe(0x738)][_0x1345fe(0x86a)](_0x15bf78));}[_0x4d79c3(0x265)](_0x4db28f,_0x52c1ea){const _0x55dce4=_0x4d79c3;_0x10d8cb[_0x55dce4(0x3bc)](_0x44f26b[_0x55dce4(0x5c9)],'Buffering\x20event',{'event':_0x4db28f,'data':_0x52c1ea});const _0xd8a9cf=this['bufferedEvents'][_0x55dce4(0x2d3)](_0x4db28f)||[];this[_0x55dce4(0x686)][_0x55dce4(0xb1)](_0x4db28f,[..._0xd8a9cf,_0x52c1ea]);}['consumeBufferedEvents'](_0x188485){const _0x446826=_0x4d79c3,_0x4478e8=this[_0x446826(0x686)][_0x446826(0x2d3)](_0x188485);_0x4478e8&&(_0x4478e8[_0x446826(0x571)](_0x1583db=>{const _0x4e06bf=_0x446826;_0x10d8cb[_0x4e06bf(0x3bc)](_0x44f26b[_0x4e06bf(0x5c9)],_0x4e06bf(0xd1),{'event':_0x188485,'data':_0x1583db}),this['eventTarget'][_0x4e06bf(0x35c)](new CustomEvent(_0x188485,{'detail':_0x1583db}));}),this[_0x446826(0x686)][_0x446826(0x86a)](_0x188485));}}class _0x4b3c50 extends Error{constructor(_0x41a57b){const _0x2c7be5=_0x4d79c3;super(_0x2c7be5(0x168)+_0x41a57b);}}!function(_0x321e7b){const _0x231c22=_0x4d79c3;_0x321e7b[_0x321e7b[_0x231c22(0x5f2)]=0x0]=_0x231c22(0x5f2),_0x321e7b[_0x321e7b[_0x231c22(0x2e8)]=0x1]=_0x231c22(0x2e8);}(_0x3b5aa5||(_0x3b5aa5={})),function(_0x44d350){const _0x5c2396=_0x4d79c3;_0x44d350[_0x44d350[_0x5c2396(0x424)]=0x0]='Offer',_0x44d350[_0x44d350['Answer']=0x1]=_0x5c2396(0xa7f),_0x44d350[_0x44d350[_0x5c2396(0x6e8)]=0x2]=_0x5c2396(0x6e8),_0x44d350[_0x44d350[_0x5c2396(0x378)]=0x3]='Success',_0x44d350[_0x44d350[_0x5c2396(0x59f)]=0x4]=_0x5c2396(0x59f),_0x44d350[_0x44d350[_0x5c2396(0x2c8)]=0x5]=_0x5c2396(0x2c8),_0x44d350[_0x44d350[_0x5c2396(0x457)]=0x6]=_0x5c2396(0x457),_0x44d350[_0x44d350['Stats']=0x7]=_0x5c2396(0x106),_0x44d350[_0x44d350[_0x5c2396(0x7e2)]=0x8]=_0x5c2396(0x7e2);}(_0x4663c4||(_0x4663c4={})),function(_0x24b4cf){const _0x9af3e5=_0x4d79c3;_0x24b4cf[_0x24b4cf[_0x9af3e5(0x785)]=0x0]=_0x9af3e5(0x785),_0x24b4cf[_0x24b4cf[_0x9af3e5(0x940)]=0x1]=_0x9af3e5(0x940);}(_0x134d3f||(_0x134d3f={})),function(_0x315727){const _0x591b64=_0x4d79c3;_0x315727[_0x591b64(0x7de)]='media-stream';}(_0x2cc780||(_0x2cc780={})),function(_0x1755a8){const _0x5d479c=_0x4d79c3;_0x1755a8[_0x1755a8[_0x5d479c(0x52c)]=0x0]='NodeJoin',_0x1755a8[_0x1755a8['NodeUpdate']=0x1]=_0x5d479c(0x140),_0x1755a8[_0x1755a8[_0x5d479c(0x15a)]=0x2]=_0x5d479c(0x15a),_0x1755a8[_0x1755a8['NodeLeave']=0x3]=_0x5d479c(0x4a4);}(_0x37cca2||(_0x37cca2={})),function(_0x4b6254){const _0x2c4113=_0x4d79c3;_0x4b6254[_0x4b6254[_0x2c4113(0xa5f)]=0x0]=_0x2c4113(0xa5f),_0x4b6254[_0x4b6254[_0x2c4113(0x8bb)]=0x1]=_0x2c4113(0x8bb);}(_0x2ef74f||(_0x2ef74f={})),function(_0x35301e){const _0xb64f77=_0x4d79c3;_0x35301e[_0xb64f77(0x88e)]=_0xb64f77(0x410),_0x35301e[_0xb64f77(0x36a)]=_0xb64f77(0x6b3);}(_0x25a86b||(_0x25a86b={})),function(_0x13b23d){const _0x53a7e2=_0x4d79c3;_0x13b23d[_0x53a7e2(0x799)]=_0x53a7e2(0x338),_0x13b23d['Bitrate']='bitrate';}(_0x34d0d2||(_0x34d0d2={}));const _0x3b3091=require('aws-amplify'),_0x242445=require('aws-amplify/utils'),_0x404414=require('@aws-amplify/api'),_0x2003ab=require('@aws-amplify/core');class _0x46ff4c{[_0x4d79c3(0x5b6)];[_0x4d79c3(0x3d8)];[_0x4d79c3(0x1bc)];constructor(_0x1ba805,_0x1c3237,_0x2cbec7){const _0x391dd6=_0x4d79c3;this[_0x391dd6(0x5b6)]=_0x1ba805,this[_0x391dd6(0x3d8)]=_0x1c3237,this[_0x391dd6(0x1bc)]=_0x2cbec7;}['getLocalId'](){const _0x2a2894=_0x4d79c3;return this[_0x2a2894(0x3d8)][_0x2a2894(0x970)]();}[_0x4d79c3(0xa69)](){const _0x5e07cb=_0x4d79c3;return this[_0x5e07cb(0x1bc)];}}var _0x5df1cb,_0x293643,_0x5d8fad;function _0x1e41d0(_0x58823a,_0x25fead){const _0x46e878=_0x4d79c3;return _0x58823a[_0x46e878(0x19b)]===_0x25fead;}function _0x28f5d6(_0x26290f,_0x21c884){const _0x3924f3=_0x4d79c3;return _0x26290f[_0x3924f3(0x244)]?.[_0x3924f3(0xcc)](_0x21c884)??function(_0x4cc927){const _0x401689=_0x3924f3;return void 0x0===_0x4cc927[_0x401689(0x244)];}(_0x26290f);}function _0x45135e(_0x2f4589,{contentType:_0x9e6c4,label:_0x56c4b3,remoteId:_0x1bc728}){return _0x2f4589+'-'+_0x9e6c4+'-'+_0x56c4b3+'-'+_0x1bc728;}function _0x352277(_0x30f867,_0x311e16,_0x31e9be){return''+_0x30f867+_0x311e16+_0x31e9be;}function _0x12b086(_0xc4abeb){const _0x147115=_0x4d79c3;return _0xc4abeb===_0x293643[_0x147115(0x83f)]?_0x147115(0x793):_0x147115(0x263);}function _0x307bb2(_0x5b0355,_0x1d01ce){const _0x5951a6=_0x4d79c3;return{'label':_0x5b0355['getInternalStreamId'](),'contentType':_0x5b0355[_0x5951a6(0x2c5)](),'remoteId':_0x1d01ce[_0x5951a6(0xa69)](),'supportsContentType':_0x1d01ce[_0x5951a6(0xa33)]()[_0x5951a6(0xcc)](_0x5b0355[_0x5951a6(0x2c5)]())};}!function(_0x53515a){const _0x22384e=_0x4d79c3;_0x53515a[_0x53515a[_0x22384e(0xa61)]=0x0]=_0x22384e(0xa61),_0x53515a[_0x53515a[_0x22384e(0x981)]=0x1]=_0x22384e(0x981),_0x53515a[_0x53515a[_0x22384e(0xa22)]=0x2]=_0x22384e(0xa22);}(_0x5df1cb||(_0x5df1cb={})),function(_0x400d46){const _0x110b84=_0x4d79c3;_0x400d46[_0x110b84(0x83f)]='in',_0x400d46[_0x110b84(0x462)]=_0x110b84(0x606);}(_0x293643||(_0x293643={}));class _0x3c1c1c{[_0x4d79c3(0x93d)];[_0x4d79c3(0x4d0)];constructor(_0x169687,_0x428ff4){const _0x270ce0=_0x4d79c3;this[_0x270ce0(0x93d)]=_0x169687,this[_0x270ce0(0x4d0)]=_0x428ff4;}[_0x4d79c3(0x2d8)](_0xa5490f){const _0x3a3481=_0x4d79c3;this[_0x3a3481(0x93d)](_0xa5490f);}async[_0x4d79c3(0x316)](){const _0x1e48b4=_0x4d79c3;await this[_0x1e48b4(0x4d0)]();}}class _0x5efa16{['callback'];['retryCallback'];constructor(_0x139b3d,_0x3e757c){const _0x523f86=_0x4d79c3;this[_0x523f86(0x93d)]=_0x139b3d,this[_0x523f86(0x4d0)]=_0x3e757c;}async[_0x4d79c3(0x2d8)](_0x4367c0){const _0x29e127=_0x4d79c3;await this[_0x29e127(0x93d)](_0x4367c0);}async['wait'](){await this['retryCallback']();}}function _0x46acae(_0x969ad9=()=>{},_0x272d2f=()=>!0x1,_0x244a9f=()=>{}){let _0x5bfb1d,_0x37a10c,_0x5aca25=0x0;return{get 'size'(){return _0x5aca25;},get 'head'(){return _0x5bfb1d;},get 'tail'(){return _0x37a10c;},set 'head'(_0x1197e0){_0x5bfb1d=_0x1197e0;},set 'tail'(_0x260ffe){_0x37a10c=_0x260ffe;},'push'(_0x4af1d1,_0x1a5222=!0x0){const _0x2469f3=a0_0x50a3,_0x134e65={'value':_0x4af1d1};_0x1a5222&&_0x272d2f(_0x134e65)?_0x969ad9():(_0x37a10c&&(_0x134e65[_0x2469f3(0x771)]=_0x37a10c,_0x37a10c[_0x2469f3(0x38d)]=_0x134e65),_0x37a10c=_0x134e65,_0x5bfb1d||(_0x5bfb1d=_0x134e65),_0x5aca25+=0x1,_0x1a5222&&_0x969ad9());},'pop'(){const _0x3e86ee=a0_0x50a3;if(!_0x37a10c)return;const _0x3f2854=_0x37a10c[_0x3e86ee(0x433)];return _0x37a10c=_0x37a10c['previous'],_0x37a10c&&delete _0x37a10c[_0x3e86ee(0x38d)],_0x37a10c||(_0x5bfb1d=void 0x0),_0x5aca25-=0x1,_0x3f2854;},'unshift'(_0x1b14c9,_0x13b75e=!0x0){const _0x32f053=a0_0x50a3,_0x181fbc={'value':_0x1b14c9};_0x13b75e&&_0x272d2f(_0x181fbc)?_0x969ad9():(_0x5bfb1d&&(_0x5bfb1d['previous']=_0x181fbc,_0x181fbc[_0x32f053(0x38d)]=_0x5bfb1d),_0x5bfb1d=_0x181fbc,_0x37a10c||(_0x37a10c=_0x181fbc),_0x5aca25+=0x1,_0x13b75e&&_0x969ad9());},'shift'(){const _0x3dc20f=a0_0x50a3;if(!_0x5bfb1d)return;const _0x31b5ca=_0x5bfb1d[_0x3dc20f(0x433)];return _0x5bfb1d=_0x5bfb1d[_0x3dc20f(0x38d)],_0x5bfb1d&&delete _0x5bfb1d[_0x3dc20f(0x771)],_0x5bfb1d||(_0x37a10c=void 0x0),_0x5aca25-=0x1,_0x31b5ca;},'clear'(){_0x244a9f(),_0x5bfb1d=void 0x0,_0x37a10c=void 0x0,_0x5aca25=0x0;}};}function _0x4d1341(_0x37a594,_0x14208e=!0x1,_0x3c0735=()=>{},_0x138358=()=>!0x1,_0x1679c9=()=>{}){let _0x24f02b=!0x1;const _0xda4833=_0x46acae(async function(){const _0x4e1ebb=a0_0x50a3;if(!_0x24f02b){for(_0x24f02b=!0x0;_0xda4833[_0x4e1ebb(0xa02)];){const _0x1ad321=_0xda4833['shift']();if(_0x1ad321)try{_0x37a594 instanceof _0x3c1c1c&&_0x37a594[_0x4e1ebb(0x2d8)](_0x1ad321),_0x37a594 instanceof _0x5efa16&&await _0x37a594['call'](_0x1ad321),_0x3c0735(_0x1ad321);}catch(_0x5ab328){_0x14208e?_0xda4833[_0x4e1ebb(0x15b)](_0x1ad321,!0x1):_0xda4833[_0x4e1ebb(0x7d6)](_0x1ad321,!0x1),await _0x37a594[_0x4e1ebb(0x316)]();}}_0x24f02b=!0x1;}},_0x138358,_0x1679c9);return _0xda4833;}class _0x231000 extends _0x46ff4c{[_0x4d79c3(0x5eb)];[_0x4d79c3(0x11f)];[_0x4d79c3(0x450)]=_0x404414[_0x4d79c3(0x996)][_0x4d79c3(0x4e9)];[_0x4d79c3(0x5f4)]=_0x54b3ea();[_0x4d79c3(0x3ae)]=_0x1eb396();[_0x4d79c3(0x921)];[_0x4d79c3(0x39c)];['retryQueue']=_0x4d1341(new _0x5efa16(this['sendAction'][_0x4d79c3(0x1f5)](this),this[_0x4d79c3(0x8b3)][_0x4d79c3(0x1f5)](this)));['client'];constructor(_0x1c0301,_0x205c51,_0x45ea63,_0xcffe12,_0x3f3eb4){const _0x37e41c=_0x4d79c3;super(_0x205c51,_0x45ea63,_0xcffe12),this[_0x37e41c(0x5eb)]=_0x1c0301,this[_0x37e41c(0x11f)]=_0x3f3eb4;}async[_0x4d79c3(0x79d)](){const _0x4956be=_0x4d79c3;try{const _0x1606e3={'getTokens':async()=>{const _0x1cc182=a0_0x50a3,_0x423c0f=await this[_0x1cc182(0x11f)][_0x1cc182(0x24d)]();return{'accessToken':(0x0,_0x2003ab[_0x1cc182(0x660)])(_0x423c0f),'idToken':(0x0,_0x2003ab[_0x1cc182(0x660)])(_0x423c0f)};}};_0x3b3091[_0x4956be(0xa96)]['configure']({'API':{'GraphQL':{'endpoint':_0x229087[_0x4956be(0x1b9)][_0x4956be(0xa52)],'region':_0x229087[_0x4956be(0x1b9)][_0x4956be(0x2dc)],'defaultAuthMode':_0x4956be(0x3fa)}}},{'Auth':{'tokenProvider':_0x1606e3}});const _0x2f5e92=(0x0,_0x404414[_0x4956be(0x8b4)])();this['client']=_0x2f5e92,await this[_0x4956be(0x2a1)](),this[_0x4956be(0x39c)]=_0x242445[_0x4956be(0x40f)][_0x4956be(0x322)](_0x4956be(0x328),async({payload:_0x14fe62})=>{const _0x448cc9=_0x4956be;if(_0x14fe62[_0x448cc9(0x38f)]===_0x404414[_0x448cc9(0x543)]){const _0x5c816b=_0x14fe62[_0x448cc9(0x8da)];this['connectionState']=_0x5c816b[_0x448cc9(0x450)],this['connectionStateListener']['publish'](_0x5c816b[_0x448cc9(0x450)]),this[_0x448cc9(0x450)]===_0x404414[_0x448cc9(0x996)]['Disconnected']?(_0x10d8cb[_0x448cc9(0x23a)](_0x448cc9(0x531),{'clusterId':this[_0x448cc9(0x5b6)],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x448cc9(0x572)]}),this[_0x448cc9(0x8f0)](),this[_0x448cc9(0x79d)]()):this[_0x448cc9(0x450)]===_0x404414[_0x448cc9(0x996)][_0x448cc9(0x87)]?_0x10d8cb['warning'](_0x448cc9(0x165),{'clusterId':this['clusterId'],'nodeId':this[_0x448cc9(0x7f)](),'nodeType':this[_0x448cc9(0x3d8)][_0x448cc9(0x572)]}):_0x10d8cb[_0x448cc9(0x29c)](_0x448cc9(0x34f),{'clusterId':this['clusterId'],'nodeId':this[_0x448cc9(0x7f)](),'nodeType':this[_0x448cc9(0x3d8)][_0x448cc9(0x572)],'data':{'state':_0x5c816b['connectionState']}});}});}catch(_0x16283b){_0x10d8cb['error'](_0x4956be(0x498),{'clusterId':this[_0x4956be(0x5b6)],'nodeId':this[_0x4956be(0x7f)](),'nodeType':this[_0x4956be(0x3d8)]['type']});}}[_0x4d79c3(0x8f0)](){const _0x1a0c48=_0x4d79c3;_0x10d8cb[_0x1a0c48(0x29c)]('appsync-close',{'clusterId':this[_0x1a0c48(0x5b6)],'nodeId':this['getLocalId'](),'nodeType':this[_0x1a0c48(0x3d8)][_0x1a0c48(0x572)]}),this[_0x1a0c48(0x121)]['clear'](),this['listenUnsubscriber']?.(),this[_0x1a0c48(0x921)]?.[_0x1a0c48(0x5fc)](),delete this[_0x1a0c48(0x921)];}['isConnected'](){const _0x46dd9c=_0x4d79c3;return this[_0x46dd9c(0x450)]===_0x404414[_0x46dd9c(0x996)][_0x46dd9c(0x87)];}[_0x4d79c3(0x987)](_0x33be5f){const _0x387982=_0x4d79c3;this[_0x387982(0x121)][_0x387982(0x15b)](_0x33be5f);}[_0x4d79c3(0x454)](_0x24a8b1){const _0x16b67b=_0x4d79c3;return this[_0x16b67b(0x3ae)][_0x16b67b(0x2a1)](_0x24a8b1);}[_0x4d79c3(0xa33)](){const _0x174213=_0x4d79c3;return[_0xf8ccf2[_0x174213(0x3fc)][_0x174213(0x500)]];}async[_0x4d79c3(0x8b3)](){if(!this['isConnected']())return new Promise(_0x5a6922=>{const _0xe18426=a0_0x50a3,_0x2c21c4=this[_0xe18426(0x5f4)][_0xe18426(0x2a1)](_0xc78a43=>{const _0x441fe8=_0xe18426;_0xc78a43===_0x404414[_0x441fe8(0x996)][_0x441fe8(0x87)]&&(_0x2c21c4(),_0x5a6922());});});}async[_0x4d79c3(0x6e5)](_0x16e949){const _0x24422d=_0x4d79c3;if(this[_0x24422d(0x450)]!==_0x404414[_0x24422d(0x996)][_0x24422d(0x87)])throw new Error(_0x24422d(0x683));_0x16e949[_0x24422d(0x244)]&&0x1===_0x16e949[_0x24422d(0x244)]['length']?await this[_0x24422d(0x758)](_0x16e949[_0x24422d(0x244)][0x0],JSON[_0x24422d(0x8a3)](_0x16e949)):_0x10d8cb[_0x24422d(0x23a)](_0x24422d(0x36c),{'clusterId':this[_0x24422d(0x5b6)],'nodeId':this[_0x24422d(0x7f)](),'nodeType':this[_0x24422d(0x3d8)]['type']});}async[_0x4d79c3(0x758)](_0x48028f,_0x123ce4){const _0x13717a=_0x4d79c3;if(!this[_0x13717a(0x98e)])throw new Error('AppSync\x20client\x20not\x20ready');_0x10d8cb[_0x13717a(0x3bc)](_0x44f26b[_0x13717a(0xa6f)],_0x13717a(0x8e5),this[_0x13717a(0x7f)](),_0x123ce4),await this[_0x13717a(0x98e)][_0x13717a(0x375)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x13717a(0x50c)](_0x48028f),'data':_0x123ce4}});}async[_0x4d79c3(0x2a1)](){const _0x560971=_0x4d79c3;if(this['subscription'])return;if(!this[_0x560971(0x98e)])throw new Error(_0x560971(0x51f));_0x10d8cb[_0x560971(0x3bc)](_0x44f26b[_0x560971(0xa6f)],'AppSync\x20subscribe',this[_0x560971(0x7f)]());const _0x4ec8e2=await this['client']['graphql']({'query':_0x560971(0x859),'variables':{'name':await this[_0x560971(0x50c)]()},'authToken':await this[_0x560971(0x11f)][_0x560971(0x24d)]()},{'Authorization':await this[_0x560971(0x11f)][_0x560971(0x24d)]()});this['subscription']=_0x4ec8e2[_0x560971(0x2a1)]({'next':({data:_0x11e875})=>{const _0x3be58f=_0x560971,_0x2e6b8a=JSON[_0x3be58f(0x823)](_0x11e875['subscribe'][_0x3be58f(0x8da)]);!_0x1e41d0(_0x2e6b8a,this[_0x3be58f(0x7f)]())&&_0x28f5d6(_0x2e6b8a,this[_0x3be58f(0x7f)]())&&this[_0x3be58f(0x3ae)][_0x3be58f(0x758)](_0x2e6b8a);},'error':console[_0x560971(0x3bc)]});}async['getHash'](_0x4d93b1){const _0x367a91=_0x4d79c3,_0x1c1774=await crypto[_0x367a91(0x95d)][_0x367a91(0x929)](_0x367a91(0x4cc),new TextEncoder()[_0x367a91(0x9e4)](this[_0x367a91(0x5eb)]+'-'+this[_0x367a91(0x5b6)]+'-'+(_0x4d93b1??this[_0x367a91(0x7f)]())));return Array[_0x367a91(0x46f)](new Uint8Array(_0x1c1774))[_0x367a91(0x384)](_0xfe3a56=>_0xfe3a56[_0x367a91(0x709)](0x10)[_0x367a91(0x66b)](0x2,'0'))[_0x367a91(0x9fc)]('');}}!function(_0xc3befe){const _0x422666=_0x4d79c3;_0xc3befe[_0xc3befe[_0x422666(0x983)]=0x0]=_0x422666(0x983),_0xc3befe[_0xc3befe[_0x422666(0x868)]=0x1]='Remove',_0xc3befe[_0xc3befe[_0x422666(0x519)]=0x2]='Update',_0xc3befe[_0xc3befe['RemoteAdd']=0x3]=_0x422666(0x9f4),_0xc3befe[_0xc3befe['RemoteRemove']=0x4]=_0x422666(0x589);}(_0x5d8fad||(_0x5d8fad={}));const _0x509635='0',_0x3f24f8=_0x4d79c3(0x4bd),_0xf26a0a=_0x4d74ee,_0x2dd7db=0x60000;class _0x2c4db8{[_0x4d79c3(0x5b6)];['localNode'];[_0x4d79c3(0x1bc)];['iceServers'];[_0x4d79c3(0x797)];[_0x4d79c3(0x878)];[_0x4d79c3(0x296)];[_0x4d79c3(0x57e)];[_0x4d79c3(0x97a)]=0x1;[_0x4d79c3(0x3fb)];['handshakeCandidates']=[];[_0x4d79c3(0x4dd)]=[];[_0x4d79c3(0x362)];constructor(_0x47ac93,_0x2fe3b2,_0x5b1b86,_0x471697,_0x3ba2ee,_0x366a9b){const _0x333c28=_0x4d79c3;this[_0x333c28(0x5b6)]=_0x47ac93,this[_0x333c28(0x3d8)]=_0x2fe3b2,this[_0x333c28(0x1bc)]=_0x5b1b86,this[_0x333c28(0x4ec)]=_0x471697,this[_0x333c28(0x797)]=_0x3ba2ee,this[_0x333c28(0x878)]=_0x366a9b,this[_0x333c28(0x296)]=new this[(_0x333c28(0x878))]({'handshakeServers':this[_0x333c28(0x4ec)]}),this[_0x333c28(0x6ec)]();}['close'](){const _0x1ea02a=_0x4d79c3;this[_0x1ea02a(0x476)]();}['setConnectionType'](_0x4fda00){const _0x452029=_0x4d79c3;this[_0x452029(0x797)]=_0x4fda00;}async['handleHandshake'](_0x99d158,_0x4b82c4){const _0x4124a4=_0x4d79c3;if(_0x4b82c4===this[_0x4124a4(0x97a)])for(const _0x3d1986 of _0x99d158){if(!this[_0x4124a4(0x296)][_0x4124a4(0xf4)])return this['addPendingHandshakeCandidate'](_0x3d1986);try{await this[_0x4124a4(0x296)][_0x4124a4(0x329)](_0x3d1986);}catch(_0x5794d3){this[_0x4124a4(0xaa7)](_0x3d1986);}}}[_0x4d79c3(0xa70)](){const _0x507d4f=_0x4d79c3;return this[_0x507d4f(0x416)](),_0x507d4f(0x40d)===this[_0x507d4f(0x296)][_0x507d4f(0x450)]&&[_0x507d4f(0x40d),_0x507d4f(0x370)]['includes'](this[_0x507d4f(0x296)][_0x507d4f(0x21f)])&&_0x507d4f(0xe6)!==this['connection'][_0x507d4f(0x814)]&&_0x507d4f(0x56c)===this[_0x507d4f(0x57e)]?.[_0x507d4f(0x6aa)];}[_0x4d79c3(0x618)](_0x7dab9a){const _0x3610ea=_0x4d79c3;this[_0x3610ea(0x3fb)]=_0x7dab9a;}[_0x4d79c3(0x373)](){delete this['systemTopic'];}['resetConnection'](_0x3566b9){const _0x16080c=_0x4d79c3;this[_0x16080c(0x476)](),this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x16080c(0x4ec)]}),_0x3566b9?this[_0x16080c(0x97a)]=_0x3566b9:this[_0x16080c(0x97a)]+=0x1,this[_0x16080c(0x6ec)]();}[_0x4d79c3(0x678)](){const _0x353139=_0x4d79c3;this['pendingHandshakeCandidates'][_0x353139(0x571)](_0x2d82e3=>{try{this['connection']['addCandidate'](_0x2d82e3);}catch(_0x100a65){}}),this[_0x353139(0x4dd)]=[];}[_0x4d79c3(0x1dd)](_0x2ff647,_0x6e0c14){const _0x4e85bd=_0x4d79c3;if(!this[_0x4e85bd(0x3fb)])throw new _0x25257a(_0x25257a[_0x4e85bd(0x6cc)][_0x4e85bd(0x665)],{'content':_0x2ff647});const _0x5decfc={'sourceId':this[_0x4e85bd(0x3d8)]['getId'](),'destinationIds':[this[_0x4e85bd(0x1bc)]],'propagate':this[_0x4e85bd(0x797)]!==_0x3b5aa5[_0x4e85bd(0x5f2)],'retry':this[_0x4e85bd(0x797)]!==_0x3b5aa5[_0x4e85bd(0x5f2)],'messageType':_0x15b885[_0x4e85bd(0x2bf)],'content':_0x2ff647};_0x6e0c14&&(_0x5decfc[_0x4e85bd(0x7e6)]=_0x6e0c14),this[_0x4e85bd(0x3fb)]['publish'](_0x5decfc);}['setupConnectionEvents'](){this['connection']['onGatheringStateChange']=()=>{const _0x587d42=a0_0x50a3;_0x587d42(0x337)===this['connection'][_0x587d42(0x4a7)]&&this[_0x587d42(0xf7)][_0x587d42(0x4bf)]>0x0&&(this[_0x587d42(0x362)]&&clearTimeout(this[_0x587d42(0x362)]),this[_0x587d42(0x362)]=setTimeout(()=>{const _0x2c095a=_0x587d42;delete this['handshakeDebounce'],this[_0x2c095a(0xcf)](),this[_0x2c095a(0xf7)]=[];},0x1f4));},this['connection']['onCandidate']=_0x523ec5=>{const _0x2607db=a0_0x50a3;_0x523ec5[_0x2607db(0x1c2)]&&this[_0x2607db(0xf7)][_0x2607db(0x15b)](_0x523ec5[_0x2607db(0x1c2)]);};}['stopConnection'](){const _0xc95953=_0x4d79c3;clearTimeout(this['handshakeDebounce']),delete this['handshakeDebounce'],this[_0xc95953(0xf7)]=[],this[_0xc95953(0x4dd)]=[],this[_0xc95953(0x57e)]&&(this[_0xc95953(0x57e)]['onMessage']=null,this[_0xc95953(0x57e)]['onClose']=null,this[_0xc95953(0x57e)][_0xc95953(0x8f0)](),delete this[_0xc95953(0x57e)]),this[_0xc95953(0x296)][_0xc95953(0x8f5)]=null,this[_0xc95953(0x296)]['onCandidate']=null,this['connection'][_0xc95953(0x8ff)]=null,this[_0xc95953(0x296)][_0xc95953(0x3d9)]=null,this[_0xc95953(0x296)][_0xc95953(0x862)]=null,this[_0xc95953(0x296)][_0xc95953(0x4c1)]=null,this[_0xc95953(0x296)][_0xc95953(0x8f0)]();}[_0x4d79c3(0xaa7)](_0x53c2d8){const _0x223770=_0x4d79c3;this['pendingHandshakeCandidates'][_0x223770(0x15b)](_0x53c2d8);}[_0x4d79c3(0x416)](){const _0x91480e=_0x4d79c3;_0x10d8cb[_0x91480e(0x3bc)](_0x44f26b['ConnectionState'],_0x91480e(0x48b),{'localId':this[_0x91480e(0x3d8)][_0x91480e(0x970)](),'remoteId':this[_0x91480e(0x1bc)],'connectionState':this[_0x91480e(0x296)][_0x91480e(0x450)],'handshakeState':this['connection']['handshakeState'],'signalingState':this[_0x91480e(0x296)][_0x91480e(0x814)],'dataChannelState':this[_0x91480e(0x57e)]?.[_0x91480e(0x6aa)]});}}function _0x181951(_0x2ee9ea,_0xaea7be){const _0x1096d4=_0x4d79c3;_0xaea7be[_0x1096d4(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x1096d4(0x2bf)],'content':_0x2ee9ea});}class _0x29a08d{static [_0x4d79c3(0x73f)];[_0x4d79c3(0x6c6)]=[];[_0x4d79c3(0x405)];constructor(){setInterval(()=>{const _0xec52d9=a0_0x50a3;this[_0xec52d9(0x6c6)][_0xec52d9(0x571)](_0x3f75e3=>{const _0x11b995=_0xec52d9;if(Date['now']()-_0x3f75e3['lastExecuted']>_0x3f75e3[_0x11b995(0x417)]){try{_0x3f75e3[_0x11b995(0x93d)]();}catch(_0x15aecf){}_0x3f75e3['lastExecuted']=Date[_0x11b995(0x2a6)]();}});},0x64);}static[_0x4d79c3(0x9bc)](){const _0xe7de74=_0x4d79c3;return _0x29a08d[_0xe7de74(0x73f)]||(_0x29a08d[_0xe7de74(0x73f)]=new _0x29a08d()),_0x29a08d[_0xe7de74(0x73f)];}[_0x4d79c3(0x564)](_0x3dfc9d){const _0x4a43c7=_0x4d79c3,_0x340c83=this[_0x4a43c7(0x33a)](_0x3dfc9d),_0x1fe7d6=_0x3dfc9d[_0x4a43c7(0x3dc)]();_0x1fe7d6&&_0x340c83&&(_0x1fe7d6[_0x4a43c7(0x390)][_0x4a43c7(0x433)]=0.001,_0x340c83[_0x4a43c7(0x79d)](_0x1fe7d6),_0x1fe7d6['connect'](_0x3dfc9d[_0x4a43c7(0x407)]),_0x340c83[_0x4a43c7(0x86)]());}[_0x4d79c3(0x2bb)](){const _0x53cc34=_0x4d79c3;this[_0x53cc34(0x405)]&&(this[_0x53cc34(0x405)]['stop'](),this[_0x53cc34(0x405)][_0x53cc34(0x927)](),this['source']=void 0x0);}[_0x4d79c3(0x316)](_0x137347){return new Promise(_0x584120=>{setTimeout(_0x584120,_0x137347);});}['setInterval'](_0x24c1b8,_0x4f6239){const _0x1b18c1=_0x4d79c3;return this['parameters']['push']({'callback':_0x24c1b8,'interval':_0x4f6239,'lastExecuted':Date[_0x1b18c1(0x2a6)]()}),()=>{const _0x3a56e3=_0x1b18c1;this[_0x3a56e3(0x6c6)]=this[_0x3a56e3(0x6c6)][_0x3a56e3(0x70d)](_0x10825e=>_0x10825e['callback']!==_0x24c1b8);};}['createConstantSource'](_0x558298){const _0x57b96f=_0x4d79c3;if(_0x558298[_0x57b96f(0x33a)])return _0x558298[_0x57b96f(0x33a)]();const _0x16c3c8=_0x558298[_0x57b96f(0x37f)](),_0x270415=_0x558298[_0x57b96f(0x45c)](0x1,0x1,_0x558298[_0x57b96f(0x946)]);return _0x270415[_0x57b96f(0x4cd)](0x0)[0x0]=0xa,_0x16c3c8[_0x57b96f(0x23f)]=_0x270415,_0x16c3c8[_0x57b96f(0x906)]=!0x0,_0x16c3c8;}}const _0x53a877=_0x29a08d[_0x4d79c3(0x9bc)]();class _0x415f87 extends _0x2c4db8{[_0x4d79c3(0x371)]=_0x54b3ea();['trackCallback']=_0x54b3ea();[_0x4d79c3(0x49e)]=_0x54b3ea();[_0x4d79c3(0x87d)]=new Map();[_0x4d79c3(0x528)]=new Map();['waitSuccess'];[_0x4d79c3(0x894)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x4d79c3(0x312)]=0x0;[_0x4d79c3(0x342)]=0x0;[_0x4d79c3(0x27f)]=_0x1b625f(_0x4d79c3(0x377),_0x44f26b['ReceiverOnMessage']);[_0x4d79c3(0x8f0)](){const _0x3effde=_0x4d79c3;this[_0x3effde(0xa1d)](),this[_0x3effde(0x87d)][_0x3effde(0x2cb)](),super[_0x3effde(0x8f0)]();}async[_0x4d79c3(0x3b1)](_0x1c9392,_0x5ce0ea){const _0x2144e3=_0x4d79c3;this[_0x2144e3(0x97a)]=_0x5ce0ea,this[_0x2144e3(0xa1d)]();const _0x2eeb7a=await this[_0x2144e3(0x296)]['createAnswer'](_0x1c9392);this[_0x2144e3(0x678)]();const _0x4fa5f4=(0x0,_0x15d077['v4'])();this[_0x2144e3(0x1dd)]({'type':_0x4663c4['Answer'],'answer':_0x2eeb7a,'version':_0x5ce0ea,'connectionType':this['connectionType']},_0x4fa5f4),this[_0x2144e3(0x797)]===_0x3b5aa5[_0x2144e3(0x5f2)]&&(this[_0x2144e3(0x81c)]=_0x53a877[_0x2144e3(0xa6c)](()=>{const _0x15449b=_0x2144e3;this[_0x15449b(0x1dd)]({'type':_0x4663c4[_0x15449b(0xa7f)],'answer':_0x2eeb7a,'version':_0x5ce0ea,'connectionType':this[_0x15449b(0x797)]},_0x4fa5f4);},0x1388));}['handleSuccess'](){this['clearWaitSuccess']();}[_0x4d79c3(0x289)](_0x2cf214){const _0x20c9f5=_0x4d79c3;this[_0x20c9f5(0x2ba)](_0x2cf214),this['publishSystemMessage']({'type':_0x4663c4[_0x20c9f5(0x2c8)]});}async[_0x4d79c3(0x4c0)](){const _0x491d18=_0x4d79c3;this[_0x491d18(0x3fb)]&&(await this[_0x491d18(0x296)][_0x491d18(0x23e)](this['receivers'],(_0x2c2f27,_0x3dd514)=>{const _0x2a4531=_0x491d18;_0x181951({'type':_0x4663c4[_0x2a4531(0x106)],'streamId':_0x3dd514,'nodeId':this[_0x2a4531(0x1bc)],'stats':_0x2c2f27},this['systemTopic']);}),this['systemTopic'][_0x491d18(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885['PeerConnection'],'content':{'type':_0x4663c4[_0x491d18(0x106)],'nodeId':this['remoteId'],'stats':{'origin':_0x134d3f['Receiver'],'timestamp':Date[_0x491d18(0x2a6)](),'messagesReceived':this[_0x491d18(0x894)],'bytesReceived':this['bytesReceived'],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0x491d18(0xa19)]}}}));}['onMessage'](_0x53124f){const _0x3bc5ac=_0x4d79c3;return _0x229087[_0x3bc5ac(0x77b)]?this['messageCallback'][_0x3bc5ac(0x2a1)](_0x53124f):this['messageCallback'][_0x3bc5ac(0x2a1)](_0x16c3d9=>{const _0x2ee851=_0x3bc5ac;0x0===_0x16c3d9[_0x2ee851(0x169)]&&_0x16c3d9[_0x2ee851(0x12e)]===_0x15b885[_0x2ee851(0x2ca)]&&this[_0x2ee851(0x27f)][_0x2ee851(0x421)][_0x2ee851(0x3bc)](_0x2ee851(0x60a)+this[_0x2ee851(0x1bc)],()=>_0x107bd6(_0x16c3d9)),_0x53124f(_0x16c3d9);});}['onTrack'](_0x5a6e52){const _0x81b2c5=_0x4d79c3;return this[_0x81b2c5(0x466)][_0x81b2c5(0x2a1)](({track:_0x609fa7,stream:_0x4573ab})=>_0x5a6e52(_0x609fa7,_0x4573ab));}[_0x4d79c3(0x41e)](_0x34a993){const _0x4b7a05=_0x4d79c3;return this[_0x4b7a05(0x49e)][_0x4b7a05(0x2a1)](({track:_0x123b61,stream:_0x10d300})=>_0x34a993(_0x123b61,_0x10d300));}[_0x4d79c3(0x2ba)](_0x1dc0fc){const _0x23e329=_0x4d79c3;this[_0x23e329(0xa1d)](),this[_0x23e329(0x87d)][_0x23e329(0x571)](_0x2aeae4=>{const _0x119b5b=_0x23e329;_0x2aeae4[_0x119b5b(0x2cb)]();}),super[_0x23e329(0x2ba)](_0x1dc0fc);}[_0x4d79c3(0xcf)](){const _0x1a0f06=_0x4d79c3;this[_0x1a0f06(0x1dd)]({'type':_0x4663c4[_0x1a0f06(0x6e8)],'candidates':this[_0x1a0f06(0xf7)],'origin':_0x134d3f[_0x1a0f06(0x940)],'version':this[_0x1a0f06(0x97a)],'connectionType':this['connectionType']});}[_0x4d79c3(0x6ec)](){const _0x825ef1=_0x4d79c3;super[_0x825ef1(0x6ec)](),this['connection'][_0x825ef1(0x862)]=_0x29e221=>{const _0xb963c8=_0x825ef1;_0x10d8cb[_0xb963c8(0x3bc)](_0x44f26b['Connection'],_0xb963c8(0xa8b),this['localNode'][_0xb963c8(0x970)](),_0x29e221),_0x29e221[_0xb963c8(0x9c6)][0x0][_0xb963c8(0x608)]=_0x1c071f=>{const _0x420b74=_0xb963c8;this[_0x420b74(0x87d)]['get'](_0x29e221['streams'][0x0]['id'])?.['delete'](_0x1c071f['track']),0x0===this[_0x420b74(0x87d)][_0x420b74(0x2d3)](_0x29e221[_0x420b74(0x9c6)][0x0]['id'])?.['size']&&this[_0x420b74(0x87d)][_0x420b74(0x86a)](_0x29e221[_0x420b74(0x9c6)][0x0]['id']),this[_0x420b74(0x49e)][_0x420b74(0x758)]({'track':_0x1c071f[_0x420b74(0x655)],'stream':_0x29e221[_0x420b74(0x9c6)][0x0]});},this[_0xb963c8(0x87d)][_0xb963c8(0x85)](_0x29e221[_0xb963c8(0x9c6)][0x0]['id'])||this['receivers']['set'](_0x29e221[_0xb963c8(0x9c6)][0x0]['id'],new Set()),this[_0xb963c8(0x87d)][_0xb963c8(0x2d3)](_0x29e221[_0xb963c8(0x9c6)][0x0]['id'])[_0xb963c8(0x306)](_0x29e221[_0xb963c8(0x655)]),this[_0xb963c8(0x466)][_0xb963c8(0x758)]({'track':_0x29e221[_0xb963c8(0x655)],'stream':_0x29e221[_0xb963c8(0x9c6)][0x0]});},this['connection'][_0x825ef1(0x4c1)]=_0x479ce9=>{const _0x80818f=_0x825ef1;this['dataChannel']=_0x479ce9[_0x80818f(0x26d)],this[_0x80818f(0x57e)][_0x80818f(0x454)]=_0x43db47=>{const _0xfe04d6=_0x80818f;if(_0x43db47[_0xfe04d6(0x8da)]!==_0x509635)this[_0xfe04d6(0xff)](_0x43db47['data']);else{if(!this[_0xfe04d6(0x57e)])return void _0x10d8cb[_0xfe04d6(0x23a)](_0xfe04d6(0x506),{'clusterId':this['clusterId'],'nodeId':this[_0xfe04d6(0x3d8)][_0xfe04d6(0x970)](),'nodeType':this[_0xfe04d6(0x3d8)][_0xfe04d6(0x572)],'remoteId':this[_0xfe04d6(0x1bc)],'data':{'connection':_0xfe04d6(0x9b0)}});if(_0xfe04d6(0x56c)!==this['dataChannel']['state'])return;this[_0xfe04d6(0x57e)][_0xfe04d6(0x987)]('1');}};};}['handleOnMessage'](_0x2a68b3){const _0x3979f1=_0x4d79c3;if(_0x3979f1(0x2ae)==typeof _0x2a68b3&&_0x2a68b3[_0x3979f1(0x8d2)](_0x3f24f8))return this[_0x3979f1(0x894)]+=0x1,this[_0x3979f1(0x312)]+=_0x2a68b3[_0x3979f1(0x4bf)],this[_0x3979f1(0x666)](_0x2a68b3);setTimeout(()=>{const _0x23b9c2=_0x3979f1,_0x5b58dc=Date[_0x23b9c2(0x2a6)]();let _0x412a7b;if((_0x2a68b3 instanceof ArrayBuffer||_0x2a68b3['length']<=_0xf26a0a)&&(this[_0x23b9c2(0x894)]+=0x1,this['bytesReceived']+=_0x2a68b3 instanceof ArrayBuffer?_0x2a68b3[_0x23b9c2(0x6ff)]:_0x2a68b3['length']),_0x2a68b3 instanceof ArrayBuffer){const [_0xb5e4fa,_0x3ad991]=this[_0x23b9c2(0x82)](_0x2a68b3);_0x412a7b=_0xb5e4fa,_0x412a7b['content'][_0x23b9c2(0x8da)]=_0x3ad991;}else _0x412a7b=JSON[_0x23b9c2(0x823)](_0x2a68b3);if(0x0===_0x412a7b[_0x23b9c2(0x169)]){this[_0x23b9c2(0xa19)][_0x23b9c2(0x26e)]['total']+=0x1;const {systemMessageType:_0x316f9b,systemContentMessageType:_0xd1f147}=_0x107bd6(_0x412a7b);this[_0x23b9c2(0xa19)][_0x316f9b]||(this[_0x23b9c2(0xa19)][_0x316f9b]={[_0xd1f147]:0x0}),this[_0x23b9c2(0xa19)][_0x316f9b][_0xd1f147]||(this[_0x23b9c2(0xa19)][_0x316f9b][_0xd1f147]=0x0),this[_0x23b9c2(0xa19)][_0x316f9b][_0x23b9c2(0x535)]||(this[_0x23b9c2(0xa19)][_0x316f9b][_0x23b9c2(0x535)]=0x0),this['systemMessagesReceived'][_0x316f9b][_0xd1f147]+=0x1,this['systemMessagesReceived'][_0x316f9b][_0x23b9c2(0x535)]+=0x1;}this[_0x23b9c2(0x371)]['publish'](_0x412a7b),this[_0x23b9c2(0x342)]+=Date[_0x23b9c2(0x2a6)]()-_0x5b58dc;},0x0);}[_0x4d79c3(0x666)](_0x50e931){const _0xd782da=_0x4d79c3,_0x74d4cc=_0x50e931['split'](';'),_0x38b571=_0x74d4cc[0x1],_0x409d49=parseInt(_0x74d4cc[0x2],0xa),_0x531819=parseInt(_0x74d4cc[0x3],0xa),_0x44a777=_0x50e931[_0xd782da(0x388)](_0x3f24f8+';'+_0x38b571+';'+_0x409d49+';'+_0x531819+';','');this[_0xd782da(0x528)][_0xd782da(0x85)](_0x38b571)||this[_0xd782da(0x528)][_0xd782da(0xb1)](_0x38b571,[]);const _0x32cf17=this[_0xd782da(0x528)][_0xd782da(0x2d3)](_0x38b571);_0x32cf17[_0x409d49]=_0x44a777,_0x32cf17[_0xd782da(0x4bf)]===_0x531819&&(this['handleOnMessage'](_0x32cf17['join']('')),this[_0xd782da(0x528)][_0xd782da(0x86a)](_0x38b571));}[_0x4d79c3(0xa1d)](){const _0x19dbdd=_0x4d79c3;this[_0x19dbdd(0x81c)]?.(),delete this['waitSuccess'];}['arrayBufferToObject'](_0x2d8c53){const _0x34c63b=_0x4d79c3,_0x160d1d=new TextDecoder()[_0x34c63b(0x21d)](_0x2d8c53);return JSON[_0x34c63b(0x823)](_0x160d1d);}[_0x4d79c3(0x82)](_0x3d6469){const _0x4f6f7b=_0x4d79c3,_0x58ba8b=new Uint8Array(_0x3d6469[_0x4f6f7b(0x4f8)](0x0,0x4)),_0x4ab08a=new Uint32Array(_0x58ba8b['buffer'])[0x0],_0x2717e6=new Uint8Array(_0x3d6469[_0x4f6f7b(0x4f8)](0x4,0x4+_0x4ab08a)),_0x47e6de=new Uint8Array(_0x3d6469['slice'](0x4+_0x4ab08a));return[this[_0x4f6f7b(0x682)](_0x2717e6[_0x4f6f7b(0x23f)]),_0x47e6de[_0x4f6f7b(0x23f)]];}}const _0x33fccc=0xc350;var _0x467d66,_0x4cf11e;!function(_0x221424){const _0x2e4ce1=_0x4d79c3;_0x221424[_0x221424[_0x2e4ce1(0x6f0)]=0x0]=_0x2e4ce1(0x6f0),_0x221424[_0x221424[_0x2e4ce1(0x6d2)]=0x1]=_0x2e4ce1(0x6d2),_0x221424[_0x221424[_0x2e4ce1(0x102)]=0x2]='Low';}(_0x467d66||(_0x467d66={}));class _0x21f015 extends _0x2c4db8{[_0x4d79c3(0x6ef)];['maxBpp'];['senders']=new Map();['heartbeatUnsubscriber'];[_0x4d79c3(0x2c1)];['lastHeartbeat'];[_0x4d79c3(0x134)]=!0x1;[_0x4d79c3(0x26a)];[_0x4d79c3(0x66e)];['upgradeTimeout'];[_0x4d79c3(0x121)]=function(e,t=_0x467d66,n=!0x1){const _0x24f35b=_0x4d79c3;let s=!0x1;const i=[];async function o(){const _0x1e041c=a0_0x50a3;if(!s){for(s=!0x0;i[_0x1e041c(0x884)](e=>e[_0x1e041c(0xa02)]);){let t,s=0x0;for(const [e,n]of i[_0x1e041c(0xa9a)]())if(t=n[_0x1e041c(0x161)](),s=e,t)break;if(t)try{if(e instanceof _0x3c1c1c&&e['call'](t),e instanceof _0x5efa16&&await e['call'](t),i[_0x1e041c(0x4f8)](-0x1)['some'](e=>e[_0x1e041c(0xa02)]))continue;const n=i['length']-0x1;s===n&&i[n][_0x1e041c(0xa02)]&&await _0x53a877['wait'](0x0);}catch(o){n?i[s][_0x1e041c(0x15b)](t,!0x1):i[s][_0x1e041c(0x7d6)](t,!0x1),await e[_0x1e041c(0x316)]();}}s=!0x1;}}return Object[_0x24f35b(0x3c7)](t)[_0x24f35b(0x571)](e=>{const _0x47e60a=_0x24f35b;_0x47e60a(0x2ae)!=typeof e&&(i[e]=_0x46acae(o));}),{'queues':i};}(new _0x3c1c1c(this[_0x4d79c3(0x6e5)][_0x4d79c3(0x1f5)](this),this[_0x4d79c3(0x973)][_0x4d79c3(0x1f5)](this)));['messagesSent']=0x0;[_0x4d79c3(0xeb)]=0x0;['timeSending']=0x0;[_0x4d79c3(0x6c9)]=0x0;[_0x4d79c3(0x56a)];[_0x4d79c3(0x27f)]=_0x1b625f(_0x4d79c3(0xa04),_0x44f26b[_0x4d79c3(0xa2)]);constructor(_0xaad99,_0x33ed21,_0x41fe0a,_0x3cf397,_0x499cef,_0x117a18,_0xd91a1f,_0xc1f432){const _0x26c84f=_0x4d79c3;super(_0xaad99,_0x33ed21,_0x41fe0a,_0x3cf397,_0x499cef,_0xc1f432),this[_0x26c84f(0x6ef)]=_0x117a18,this[_0x26c84f(0x83a)]=_0xd91a1f;}[_0x4d79c3(0x8f0)](){const _0x13d9b5=_0x4d79c3;this['clearUpgradeTimeout'](),this[_0x13d9b5(0x5db)](),delete this[_0x13d9b5(0x6ed)],this[_0x13d9b5(0xd2)](),this[_0x13d9b5(0x3e7)](),this['clearWaitAnswer'](),this[_0x13d9b5(0x9ea)][_0x13d9b5(0x2cb)](),this[_0x13d9b5(0x134)]=!0x1,this['retryQueue'][_0x13d9b5(0x62e)][_0x13d9b5(0x571)](_0xfc22c2=>_0xfc22c2[_0x13d9b5(0x2cb)]()),this[_0x13d9b5(0x8f4)](),super[_0x13d9b5(0x8f0)]();}['isConnected'](){const _0x369eb9=_0x4d79c3;return!!this['lastHeartbeat']&&super[_0x369eb9(0xa70)]()&&Date[_0x369eb9(0x2a6)]()-this[_0x369eb9(0x6ed)]<0x3a98;}async[_0x4d79c3(0x4c0)](){const _0x5e7ca1=_0x4d79c3;this[_0x5e7ca1(0x3fb)]&&(await this[_0x5e7ca1(0x296)][_0x5e7ca1(0x246)](this[_0x5e7ca1(0x9ea)],(_0x3a7474,_0x592fce)=>{const _0x358ad8=_0x5e7ca1;_0x181951({'type':_0x4663c4[_0x358ad8(0x106)],'streamId':_0x592fce,'nodeId':this[_0x358ad8(0x1bc)],'stats':_0x3a7474},this[_0x358ad8(0x3fb)]);}),this[_0x5e7ca1(0x3fb)][_0x5e7ca1(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885['PeerConnection'],'content':{'type':_0x4663c4[_0x5e7ca1(0x106)],'nodeId':this[_0x5e7ca1(0x1bc)],'stats':{'origin':_0x134d3f[_0x5e7ca1(0x785)],'timestamp':Date[_0x5e7ca1(0x2a6)](),'messagesSent':this[_0x5e7ca1(0x861)],'bytesSent':this[_0x5e7ca1(0xeb)],'timeSending':this[_0x5e7ca1(0x555)],'roundTripTime':this[_0x5e7ca1(0x6c9)]}}}));}async['createOffer'](_0x8be81c){const _0x2d61f3=_0x4d79c3;_0x10d8cb['log'](_0x44f26b[_0x2d61f3(0x74)],_0x2d61f3(0x39b),this['localNode'][_0x2d61f3(0x970)](),this[_0x2d61f3(0x1bc)]),this[_0x2d61f3(0xd2)](),this['clearConnectionTimeout'](),this[_0x2d61f3(0x8c0)](),this[_0x2d61f3(0x26a)]=setTimeout(()=>{const _0xfeafea=_0x2d61f3;this[_0xfeafea(0xcb)]();},0x7530),this['dataChannel']||(this[_0x2d61f3(0x57e)]=this[_0x2d61f3(0x296)]['createDataChannel'](_0x2d61f3(0x8da)),this[_0x2d61f3(0x57e)]['bufferedAmountLowThreshold']=_0x2dd7db,this['dataChannel']['onClose']=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0x2fbabd=a0_0x50a3;delete this[_0x2fbabd(0x56a)],[_0x2fbabd(0x88a),_0x2fbabd(0x56c)][_0x2fbabd(0xcc)](this['dataChannel']?.[_0x2fbabd(0x6aa)]??'')||this[_0x2fbabd(0xcb)]();},0xfa);});const _0x12e590=await this['connection'][_0x2d61f3(0xab0)](_0x8be81c);this[_0x2d61f3(0x6ed)]||(this[_0x2d61f3(0x6ed)]=Date[_0x2d61f3(0x2a6)]());const _0x112fa9=(0x0,_0x15d077['v4'])();this[_0x2d61f3(0x1dd)]({'type':_0x4663c4[_0x2d61f3(0x424)],'offer':_0x12e590,'version':this[_0x2d61f3(0x97a)],'connectionType':this[_0x2d61f3(0x797)]},_0x112fa9),this[_0x2d61f3(0x797)]===_0x3b5aa5[_0x2d61f3(0x5f2)]&&(this[_0x2d61f3(0x2c1)]=_0x53a877[_0x2d61f3(0xa6c)](()=>{const _0x1045cb=_0x2d61f3;this[_0x1045cb(0x1dd)]({'type':_0x4663c4[_0x1045cb(0x424)],'offer':_0x12e590,'version':this[_0x1045cb(0x97a)],'connectionType':this[_0x1045cb(0x797)]},_0x112fa9);},0x1388));}async['handleAnswer'](_0x6a4355,_0x2647c2){const _0x1339c8=_0x4d79c3;if(_0x2647c2===this['currentVersion']){this[_0x1339c8(0x8c0)]();try{await this['connection']['handleAnswer'](_0x6a4355,this[_0x1339c8(0xab0)][_0x1339c8(0x1f5)](this)),this['processPendingHandshakeCandidates'](),this['clearConnectionTimeout'](),this[_0x1339c8(0x271)]();}catch(_0x47cf97){this[_0x1339c8(0xcb)]();}}}[_0x4d79c3(0x987)](_0x5b1f2e){const _0x1a6a53=_0x4d79c3;if(!this[_0x1a6a53(0x57e)])throw new _0x25257a(_0x25257a['codes'][_0x1a6a53(0x268)],{'message':_0x1a6a53(0x7d7),'localId':this[_0x1a6a53(0x3d8)][_0x1a6a53(0x970)](),'remoteId':this[_0x1a6a53(0x1bc)],'eventMessage':_0x5b1f2e});if(_0x1a6a53(0x56c)!==this[_0x1a6a53(0x57e)]['state'])throw new _0x25257a(_0x25257a[_0x1a6a53(0x6cc)][_0x1a6a53(0x268)],{'message':_0x1a6a53(0x427),'localId':this[_0x1a6a53(0x3d8)][_0x1a6a53(0x970)](),'remoteId':this[_0x1a6a53(0x1bc)],'eventMessage':_0x5b1f2e});let _0x15c06b;if(_0x5b1f2e[_0x1a6a53(0x898)][_0x1a6a53(0x8da)]instanceof ArrayBuffer){const _0x5ac9e4=_0x5b1f2e[_0x1a6a53(0x898)][_0x1a6a53(0x8da)];_0x5b1f2e={..._0x5b1f2e,'content':{..._0x5b1f2e[_0x1a6a53(0x898)],'data':void 0x0}},_0x15c06b=this['mergeParts'](_0x5b1f2e,_0x5ac9e4);}else _0x15c06b=JSON[_0x1a6a53(0x8a3)](_0x5b1f2e);if(_0x1a6a53(0x2ae)==typeof _0x15c06b&&_0x15c06b[_0x1a6a53(0x4bf)]>_0xf26a0a)return void this['sendChunked'](_0x5b1f2e,_0x15c06b);0x0===_0x5b1f2e[_0x1a6a53(0x169)]&&_0x5b1f2e[_0x1a6a53(0x12e)]===_0x15b885['Content']&&this[_0x1a6a53(0x27f)][_0x1a6a53(0x421)][_0x1a6a53(0x8ce)](()=>_0x10d8cb[_0x1a6a53(0x3bc)](_0x44f26b[_0x1a6a53(0xa2)],_0x1a6a53(0x9e9),this['remoteId'],_0x107bd6(_0x5b1f2e)),void 0x0);const _0x3c76ec=0x0===_0x5b1f2e[_0x1a6a53(0x169)]&&[_0x15b885[_0x1a6a53(0xa34)],_0x15b885[_0x1a6a53(0x2bf)]][_0x1a6a53(0xcc)](_0x5b1f2e[_0x1a6a53(0x12e)])?_0x467d66[_0x1a6a53(0x6f0)]:_0x5b1f2e instanceof ArrayBuffer?_0x467d66[_0x1a6a53(0x102)]:_0x467d66[_0x1a6a53(0x6d2)];this[_0x1a6a53(0x9c5)](_0x15c06b,_0x3c76ec);}[_0x4d79c3(0x1c5)](_0x340c15,_0x5055b0,_0x3aa13c,_0x1493f3){const _0x258c03=_0x4d79c3,_0x568f82=(_0xe42381=this['maxFps'],_0x216744=this['maxBpp'],Math[_0x258c03(0xa6)](0xe1000*_0xe42381*_0x216744));var _0xe42381,_0x216744;const _0x22b0d6=this[_0x258c03(0x9ea)][_0x258c03(0x2d3)](_0x5055b0['id'])||{'stream':_0x5055b0,'priority':_0x3aa13c,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x568f82,'maxBitrate':_0x568f82,'framerate':this[_0x258c03(0x6ef)],'maxFramerate':this[_0x258c03(0x6ef)],'tracks':{},'params':_0x1493f3},_0x149cc1=_0x22b0d6[_0x258c03(0x24c)][_0x340c15[_0x258c03(0x8c4)]]||{'track':_0x340c15};if(_0x149cc1[_0x258c03(0x3fd)]?(_0x149cc1[_0x258c03(0x655)]=_0x340c15,this[_0x258c03(0x296)]['replaceTrack'](_0x340c15,_0x149cc1[_0x258c03(0x3fd)])):_0x149cc1[_0x258c03(0x3fd)]=this[_0x258c03(0x296)][_0x258c03(0x1c5)](_0x340c15,_0x5055b0),_0x22b0d6[_0x258c03(0x24c)][_0x340c15[_0x258c03(0x8c4)]]=_0x149cc1,_0x1493f3&&(_0x22b0d6[_0x258c03(0x521)]=_0x1493f3),_0x1493f3&&_0x258c03(0x60c)===_0x1493f3[_0x258c03(0x8c4)]&&_0x1493f3['resolution']&&_0x1493f3[_0x258c03(0x40e)]&&(_0x22b0d6['resolutionScale']=this[_0x258c03(0x323)](_0x1493f3['resolution'],_0x1493f3[_0x258c03(0x40e)]),_0x22b0d6[_0x258c03(0x74c)]=_0x22b0d6[_0x258c03(0x2b9)],_0x22b0d6[_0x258c03(0x24c)][_0x258c03(0x60c)]&&_0x22b0d6[_0x258c03(0x24c)][_0x258c03(0x60c)]['sender'])){const _0x57dd7c=_0x22b0d6[_0x258c03(0x24c)][_0x258c03(0x60c)][_0x258c03(0x3fd)];this[_0x258c03(0x296)]['setEncodingParameters'](_0x57dd7c,Math[_0x258c03(0xa6)](0xa*_0x22b0d6[_0x258c03(0x2b9)])/0xa,_0x22b0d6[_0x258c03(0x8c5)],_0x22b0d6[_0x258c03(0x2c9)],_0x22b0d6[_0x258c03(0xa80)]);}this[_0x258c03(0x9ea)][_0x258c03(0xb1)](_0x5055b0['id'],_0x22b0d6);}[_0x4d79c3(0x10b)](_0x848cff,_0x4d5f1f){const _0x1e3609=_0x4d79c3,_0x1896f9=this['senders'][_0x1e3609(0x2d3)](_0x848cff['id']);if(_0x1896f9&&_0x1896f9[_0x1e3609(0xa80)]!==_0x4d5f1f&&(_0x1896f9[_0x1e3609(0xa80)]=_0x4d5f1f,_0x1896f9[_0x1e3609(0x24c)][_0x1e3609(0x60c)]&&_0x1896f9[_0x1e3609(0x24c)][_0x1e3609(0x60c)][_0x1e3609(0x3fd)])){const _0x1232d4=_0x1896f9['tracks']['video'][_0x1e3609(0x3fd)];this['connection'][_0x1e3609(0x32a)](_0x1232d4,Math[_0x1e3609(0xa6)](0xa*_0x1896f9[_0x1e3609(0x2b9)])/0xa,_0x1896f9[_0x1e3609(0x8c5)],_0x1896f9[_0x1e3609(0x2c9)],_0x1896f9[_0x1e3609(0xa80)]);}}['setParams'](_0x39d161,_0xea7839){const _0x85710c=_0x4d79c3,_0x3cebf5=this[_0x85710c(0x9ea)]['get'](_0x39d161['id']);if(_0x3cebf5){if(_0x3cebf5[_0x85710c(0x521)]=_0xea7839,_0xea7839&&_0x85710c(0x60c)===_0xea7839[_0x85710c(0x8c4)]&&_0xea7839[_0x85710c(0x338)]&&_0xea7839[_0x85710c(0x40e)]){if(_0x3cebf5[_0x85710c(0x74c)]=this['getResolutionScale'](_0xea7839[_0x85710c(0x338)],_0xea7839[_0x85710c(0x40e)]),_0x3cebf5[_0x85710c(0x2b9)]<_0x3cebf5['minResolutionScale']&&(_0x3cebf5[_0x85710c(0x2b9)]=_0x3cebf5[_0x85710c(0x74c)]),_0x3cebf5[_0x85710c(0x24c)][_0x85710c(0x60c)]&&_0x3cebf5[_0x85710c(0x24c)]['video']['sender']){const _0x21492b=_0x3cebf5['tracks'][_0x85710c(0x60c)][_0x85710c(0x3fd)];this[_0x85710c(0x296)][_0x85710c(0x32a)](_0x21492b,Math['floor'](0xa*_0x3cebf5[_0x85710c(0x2b9)])/0xa,_0x3cebf5[_0x85710c(0x8c5)],_0x3cebf5[_0x85710c(0x2c9)],_0x3cebf5[_0x85710c(0xa80)]);}this[_0x85710c(0x854)](),this[_0x85710c(0x166)]();}this[_0x85710c(0x9ea)][_0x85710c(0xb1)](_0x39d161['id'],_0x3cebf5);}}[_0x4d79c3(0x518)](_0x25dbe3,_0x319a88){const _0x4bedfd=_0x4d79c3,_0x37a59e=this[_0x4bedfd(0x9ea)][_0x4bedfd(0x2d3)](_0x319a88['id']);if(_0x37a59e){const _0x361b30=_0x37a59e[_0x4bedfd(0x24c)][_0x25dbe3['kind']];_0x361b30&&(_0x361b30[_0x4bedfd(0x3fd)]&&this[_0x4bedfd(0x296)][_0x4bedfd(0x518)](_0x361b30['sender']),_0x361b30[_0x4bedfd(0x655)]=void 0x0);}}[_0x4d79c3(0x4e0)](_0x4cc0f3){const _0x235444=_0x4d79c3;this['clearUpgradeTimeout']();const _0x25d969=function(_0x383578,_0x3197d1){const _0x1aa71c=a0_0x50a3;return _0x383578[_0x1aa71c(0x694)]((_0x2ffaea,_0xd819f)=>_0x3197d1[_0x1aa71c(0x34b)]===_0x25a86b[_0x1aa71c(0x36a)]?_0xd819f['priority']-_0x2ffaea['priority']:_0x2ffaea['priority']-_0xd819f[_0x1aa71c(0xa80)])[_0x1aa71c(0x483)](_0x20789f=>function(_0x2b16ce,_0x200c60){const _0x1ad2e9=_0x1aa71c;if(_0x200c60[_0x1ad2e9(0x34b)]===_0x25a86b[_0x1ad2e9(0x36a)]){if(_0x200c60[_0x1ad2e9(0x22c)]===_0x34d0d2[_0x1ad2e9(0x799)])return _0x2b16ce['resolutionScale']<0x4||_0x2b16ce[_0x1ad2e9(0x51e)]>0xf;if(_0x200c60[_0x1ad2e9(0x22c)]===_0x34d0d2[_0x1ad2e9(0x6f4)])return _0x2b16ce[_0x1ad2e9(0x509)]>_0x33fccc;}return _0x2b16ce[_0x1ad2e9(0x2b9)]>_0x2b16ce['minResolutionScale']||_0x2b16ce['framerate']<_0x2b16ce[_0x1ad2e9(0x51e)]||_0x2b16ce[_0x1ad2e9(0x2c9)]<_0x2b16ce[_0x1ad2e9(0x509)];}(_0x20789f,_0x3197d1));}(Array['from'](this[_0x235444(0x9ea)]['values']()),_0x4cc0f3);if(_0x25d969&&(function(_0x5182d5,_0x4bd31f){const _0x3c1dc0=_0x235444;_0x5182d5[_0x3c1dc0(0x24c)][_0x3c1dc0(0x60c)]&&_0x5182d5[_0x3c1dc0(0x24c)][_0x3c1dc0(0x60c)][_0x3c1dc0(0x3fd)]&&(_0x5182d5[_0x3c1dc0(0x2b9)]=function(_0x1d71b1,_0x19b645,_0x4bc96e){const _0x5d6a17=_0x3c1dc0;switch(_0x4bc96e[_0x5d6a17(0x34b)]){case _0x25a86b['Downgrade']:_0x4bc96e[_0x5d6a17(0x22c)]===_0x34d0d2['Resolution']&&(_0x1d71b1+=0.5)>0x4&&(_0x1d71b1=0x4);break;case _0x25a86b[_0x5d6a17(0x88e)]:(_0x1d71b1-=0.5)<_0x19b645&&(_0x1d71b1=_0x19b645);}return _0x1d71b1;}(_0x5182d5[_0x3c1dc0(0x2b9)],_0x5182d5[_0x3c1dc0(0x74c)],_0x4bd31f),_0x5182d5[_0x3c1dc0(0x8c5)]=function(_0x2ca142,_0x3971f4,_0x4133d8){const _0x3ed714=_0x3c1dc0;switch(_0x4133d8[_0x3ed714(0x34b)]){case _0x25a86b[_0x3ed714(0x36a)]:_0x4133d8[_0x3ed714(0x22c)]===_0x34d0d2['Resolution']&&(_0x2ca142-=0x3)<0xf&&(_0x2ca142=0xf);break;case _0x25a86b['Upgrade']:(_0x2ca142+=0x3)>_0x3971f4&&(_0x2ca142=_0x3971f4);}return _0x2ca142;}(_0x5182d5[_0x3c1dc0(0x8c5)],_0x5182d5[_0x3c1dc0(0x51e)],_0x4bd31f),_0x5182d5[_0x3c1dc0(0x2c9)]=function(_0x5583da,_0x50b442,_0x5e8840){const _0x38a065=_0x3c1dc0;switch(_0x5e8840['action']){case _0x25a86b[_0x38a065(0x36a)]:_0x5e8840[_0x38a065(0x22c)]===_0x34d0d2[_0x38a065(0x6f4)]&&(_0x5583da*=0.75)<_0x33fccc&&(_0x5583da=_0x33fccc);break;case _0x25a86b[_0x38a065(0x88e)]:(_0x5583da*=1.25)>_0x50b442&&(_0x5583da=_0x50b442);}return _0x5583da;}(_0x5182d5[_0x3c1dc0(0x2c9)],_0x5182d5['maxBitrate'],_0x4bd31f));}(_0x25d969,_0x4cc0f3),_0x25d969[_0x235444(0x24c)][_0x235444(0x60c)]&&_0x25d969[_0x235444(0x24c)]['video'][_0x235444(0x3fd)])){const _0x7947b=_0x25d969['tracks'][_0x235444(0x60c)][_0x235444(0x3fd)];this['connection'][_0x235444(0x32a)](_0x7947b,Math['floor'](0xa*_0x25d969[_0x235444(0x2b9)])/0xa,_0x25d969['framerate'],_0x25d969['bitrate'],_0x25d969[_0x235444(0xa80)]);}(_0x25d969||_0x4cc0f3['action']===_0x25a86b[_0x235444(0x36a)])&&this[_0x235444(0x166)]();}[_0x4d79c3(0x654)](){const _0x226469=_0x4d79c3;return this['retryQueue'][_0x226469(0x62e)][_0x226469(0x7ab)]((_0x52d25c,_0x3485c9)=>_0x52d25c+_0x3485c9[_0x226469(0x517)],0x0)*_0x4d74ee;}[_0x4d79c3(0xa5a)](){const _0x2e3fbb=_0x4d79c3;return this[_0x2e3fbb(0x57e)]?.[_0x2e3fbb(0x7eb)]??0x0;}[_0x4d79c3(0x2ba)](){const _0xb0c112=_0x4d79c3;super['resetConnection'](),this[_0xb0c112(0x8f4)](),this[_0xb0c112(0x8c0)](),this[_0xb0c112(0x9ea)][_0xb0c112(0x571)](_0x22cb5d=>{const _0x472ecb=_0xb0c112;_0x22cb5d[_0x472ecb(0x24c)][_0x472ecb(0x60c)]&&(_0x22cb5d[_0x472ecb(0x24c)][_0x472ecb(0x60c)][_0x472ecb(0x3fd)]=void 0x0),_0x22cb5d[_0x472ecb(0x24c)][_0x472ecb(0x2f3)]&&(_0x22cb5d[_0x472ecb(0x24c)][_0x472ecb(0x2f3)][_0x472ecb(0x3fd)]=void 0x0);}),this[_0xb0c112(0x134)]=!0x0;}async[_0x4d79c3(0x973)](){return new Promise(async _0x5ba0ab=>{const _0x15a03f=a0_0x50a3;if(!this[_0x15a03f(0x57e)]||_0x15a03f(0x56c)!==this['dataChannel'][_0x15a03f(0x6aa)])return await _0x53a877[_0x15a03f(0x316)](0x64),void _0x5ba0ab();this[_0x15a03f(0x57e)][_0x15a03f(0x7eb)]<_0x2dd7db?_0x5ba0ab():this[_0x15a03f(0x57e)][_0x15a03f(0x9db)]=()=>{const _0x276300=_0x15a03f;this[_0x276300(0x57e)]&&(this[_0x276300(0x57e)][_0x276300(0x9db)]=null),_0x5ba0ab();};});}async[_0x4d79c3(0x7f7)](_0x2e3e38,_0x2a4a11){const _0x1101a5=_0x4d79c3,_0xe1469a=[];for(let _0x32cea9=0x0;_0x32cea9<_0x2a4a11[_0x1101a5(0x4bf)];_0x32cea9+=_0xf26a0a)_0xe1469a[_0x1101a5(0x15b)](_0x2a4a11[_0x1101a5(0x4f8)](_0x32cea9,_0x32cea9+_0xf26a0a));for(const _0x54ba4c of _0xe1469a){for(;this[_0x1101a5(0x121)]['queues'][_0x467d66[_0x1101a5(0x102)]][_0x1101a5(0x517)]>0x1;)await _0x53a877[_0x1101a5(0x316)](0x64);this[_0x1101a5(0x9c5)](_0x3f24f8+';'+_0x2e3e38[_0x1101a5(0x7e6)]+';'+_0xe1469a[_0x1101a5(0x58a)](_0x54ba4c)+';'+_0xe1469a[_0x1101a5(0x4bf)]+';'+_0x54ba4c,_0x467d66[_0x1101a5(0x102)]);}}async[_0x4d79c3(0x9c5)](_0x27db25,_0x2c47ca){const _0x5bdf47=_0x4d79c3;_0x27db25===_0x509635?this[_0x5bdf47(0x121)][_0x5bdf47(0x62e)][_0x2c47ca][_0x5bdf47(0xa02)]?.[_0x5bdf47(0x433)]!==_0x509635&&this[_0x5bdf47(0x121)][_0x5bdf47(0x62e)][_0x2c47ca][_0x5bdf47(0x7d6)](_0x27db25):this[_0x5bdf47(0x121)][_0x5bdf47(0x62e)][_0x2c47ca][_0x5bdf47(0x15b)](_0x27db25);}[_0x4d79c3(0x6e5)](_0x34da3a){const _0x376818=_0x4d79c3;if(!this['dataChannel']||_0x376818(0x56c)!==this['dataChannel'][_0x376818(0x6aa)])throw new Error(_0x376818(0x32f));if(this[_0x376818(0x57e)][_0x376818(0x7eb)]>=0x600000)throw new Error(_0x376818(0xa58));const _0x8fa55b=Date[_0x376818(0x2a6)]();_0x34da3a!==_0x509635&&(this[_0x376818(0x861)]+=0x1,this['bytesSent']+=_0x34da3a instanceof ArrayBuffer?_0x34da3a[_0x376818(0x6ff)]:_0x34da3a['length']);try{ArrayBuffer,this[_0x376818(0x57e)]['send'](_0x34da3a);}catch(_0x1947ef){throw console['error'](_0x376818(0x8bc),_0x1947ef),_0x1947ef;}this[_0x376818(0x555)]+=Date[_0x376818(0x2a6)]()-_0x8fa55b;}[_0x4d79c3(0x271)](){const _0x457c63=_0x4d79c3;this[_0x457c63(0x83c)]&&this[_0x457c63(0x5db)]();let _0x3942bf=!0x0,_0x5f58e2=Date[_0x457c63(0x2a6)]();this[_0x457c63(0x6ed)]=Date['now'](),this[_0x457c63(0x57e)][_0x457c63(0x454)]=_0x1a0a1c=>{const _0x4634e2=_0x457c63;'1'===_0x1a0a1c[_0x4634e2(0x8da)]&&(this['roundTripTime']=Date[_0x4634e2(0x2a6)]()-_0x5f58e2,_0x3942bf&&this[_0x4634e2(0x1dd)]({'type':_0x4663c4['Success']}),_0x3942bf=!0x1,this[_0x4634e2(0x6ed)]=Date[_0x4634e2(0x2a6)](),this[_0x4634e2(0x134)]&&(this[_0x4634e2(0x134)]=!0x1,this[_0x4634e2(0x8a)]()));},this[_0x457c63(0x83c)]=_0x53a877[_0x457c63(0xa6c)](()=>{const _0x18b025=_0x457c63;_0x5f58e2=Date[_0x18b025(0x2a6)](),this['sendWithRetry'](_0x509635,_0x467d66[_0x18b025(0x6f0)]),Date['now']()-this[_0x18b025(0x6ed)]>(_0x3942bf?0x15f90:0x3a98)&&this[_0x18b025(0xcb)]();},0xbb8);}[_0x4d79c3(0x8a)](){const _0x51085a=_0x4d79c3;this['senders'][_0x51085a(0x571)](_0x351ce8=>{const _0x2cf989=_0x51085a;_0x351ce8[_0x2cf989(0x24c)][_0x2cf989(0x60c)]&&_0x351ce8['tracks'][_0x2cf989(0x60c)][_0x2cf989(0x655)]&&!_0x351ce8[_0x2cf989(0x24c)][_0x2cf989(0x60c)][_0x2cf989(0x3fd)]&&(_0x351ce8[_0x2cf989(0x24c)][_0x2cf989(0x60c)]['sender']=this[_0x2cf989(0x296)][_0x2cf989(0x1c5)](_0x351ce8['tracks'][_0x2cf989(0x60c)][_0x2cf989(0x655)],_0x351ce8[_0x2cf989(0x7d0)])),_0x351ce8[_0x2cf989(0x24c)]['audio']&&_0x351ce8[_0x2cf989(0x24c)]['audio']['track']&&!_0x351ce8[_0x2cf989(0x24c)][_0x2cf989(0x2f3)][_0x2cf989(0x3fd)]&&(_0x351ce8['tracks']['audio'][_0x2cf989(0x3fd)]=this[_0x2cf989(0x296)][_0x2cf989(0x1c5)](_0x351ce8[_0x2cf989(0x24c)]['audio'][_0x2cf989(0x655)],_0x351ce8[_0x2cf989(0x7d0)]));});}[_0x4d79c3(0xcf)](){const _0x34274d=_0x4d79c3;this['publishSystemMessage']({'type':_0x4663c4[_0x34274d(0x6e8)],'candidates':this[_0x34274d(0xf7)],'origin':_0x134d3f['Sender'],'version':this['currentVersion'],'connectionType':this[_0x34274d(0x797)]});}['setupConnectionEvents'](){const _0x36d605=_0x4d79c3;super[_0x36d605(0x6ec)](),this[_0x36d605(0x296)][_0x36d605(0x8ff)]=()=>{const _0x368eb7=_0x36d605;if('failed'===this[_0x368eb7(0x296)][_0x368eb7(0x21f)]){_0x10d8cb[_0x368eb7(0x3bc)](_0x44f26b[_0x368eb7(0x996)],_0x368eb7(0x5a0),this[_0x368eb7(0x3d8)]['getId'](),this[_0x368eb7(0x1bc)]);try{if(this[_0x368eb7(0x296)][_0x368eb7(0x800)])return void this[_0x368eb7(0x296)][_0x368eb7(0x72a)]();}catch(_0x287d54){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x36d605(0x296)]['onConnectionStateChange']=()=>{const _0x52d510=_0x36d605;_0x52d510(0x3f1)!==this[_0x52d510(0x296)]['connectionState']&&_0x52d510(0xa44)!==this[_0x52d510(0x296)]['connectionState']||this[_0x52d510(0xcb)]();};}[_0x4d79c3(0xcb)](){const _0x2f2364=_0x4d79c3;this[_0x2f2364(0x5db)](),this[_0x2f2364(0xd2)](),this[_0x2f2364(0x3e7)](),_0x10d8cb[_0x2f2364(0x29c)]('disconnect',{'clusterId':this[_0x2f2364(0x5b6)],'nodeId':this[_0x2f2364(0x3d8)][_0x2f2364(0x970)](),'nodeType':this[_0x2f2364(0x3d8)]['type'],'remoteId':this[_0x2f2364(0x1bc)],'data':{'connectionType':this[_0x2f2364(0x797)],'connectionState':this[_0x2f2364(0x296)][_0x2f2364(0x450)],'iceConnectionState':this[_0x2f2364(0x296)][_0x2f2364(0x21f)],'signalingState':this[_0x2f2364(0x296)][_0x2f2364(0x814)],'readyState':this['dataChannel']?.[_0x2f2364(0x6aa)]||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x2f2364(0x2a6)]()-this['lastHeartbeat']:'','retryQueue':this['retryQueue']}}),(this[_0x2f2364(0x6ed)]&&Date[_0x2f2364(0x2a6)]()-this[_0x2f2364(0x6ed)]>0xea60)??0x1?this[_0x2f2364(0x3fb)][_0x2f2364(0x758)]({'sourceId':this[_0x2f2364(0x1bc)],'destinationIds':[this[_0x2f2364(0x3d8)][_0x2f2364(0x970)]()],'messageType':_0x15b885[_0x2f2364(0x2bf)],'content':{'type':_0x4663c4[_0x2f2364(0x457)]}}):(this['resetConnection'](),this[_0x2f2364(0x1dd)]({'type':_0x4663c4[_0x2f2364(0x59f)],'version':this[_0x2f2364(0x97a)],'connectionType':this[_0x2f2364(0x797)]}),this[_0x2f2364(0x66e)]=setTimeout(()=>{const _0x35150c=_0x2f2364;this[_0x35150c(0xcb)]();},0x7530));}[_0x4d79c3(0x5db)](){const _0x1349b1=_0x4d79c3;this[_0x1349b1(0x83c)]?.(),delete this['heartbeatUnsubscriber'];}[_0x4d79c3(0x3e7)](){const _0x464619=_0x4d79c3;this[_0x464619(0x26a)]&&(clearTimeout(this[_0x464619(0x26a)]),delete this['connectionTimeout']);}[_0x4d79c3(0xd2)](){const _0x382379=_0x4d79c3;this[_0x382379(0x66e)]&&(clearTimeout(this[_0x382379(0x66e)]),delete this[_0x382379(0x66e)]);}[_0x4d79c3(0x854)](){const _0x1bebba=_0x4d79c3;this[_0x1bebba(0x704)]&&(clearTimeout(this[_0x1bebba(0x704)]),delete this[_0x1bebba(0x704)]);}[_0x4d79c3(0x166)](){const _0x4cb973=_0x4d79c3;this[_0x4cb973(0x704)]=setTimeout(()=>{const _0x4854e7=_0x4cb973;this['applyRemediation']({'type':_0x2ef74f['Remediation'],'action':_0x25a86b[_0x4854e7(0x88e)]});},0x3a98);}[_0x4d79c3(0x323)](_0x2a14a3,_0x501a38){const _0x196212=_0x4d79c3,_0x150c35=Math['max'](_0x2a14a3[_0x196212(0xaa6)]/_0x501a38['width'],_0x2a14a3['height']/_0x501a38['height']);return Math[_0x196212(0x103)](Math['max'](_0x150c35,0x1),0x4);}[_0x4d79c3(0x8c0)](){const _0x5c3c48=_0x4d79c3;this['waitAnswer']?.(),delete this[_0x5c3c48(0x2c1)];}['clearOncloseTimeout'](){const _0x2b545c=_0x4d79c3;this[_0x2b545c(0x56a)]&&(clearTimeout(this[_0x2b545c(0x56a)]),delete this[_0x2b545c(0x56a)]);}[_0x4d79c3(0x149)](_0x41e1d3){const _0x1d7032=_0x4d79c3,_0x26573d=JSON[_0x1d7032(0x8a3)](_0x41e1d3);return new TextEncoder()['encode'](_0x26573d)['buffer'];}[_0x4d79c3(0x843)](_0x594c9d,_0x1f828f){const _0x40d3ca=_0x4d79c3,_0x39e82e=this[_0x40d3ca(0x149)](_0x594c9d),_0x4c1bf0=new Uint8Array(0x4),_0x2ae081=new Uint8Array(_0x39e82e),_0x3eb93c=new Uint8Array(_0x1f828f);_0x4c1bf0[_0x40d3ca(0xb1)](new Uint8Array(new Uint32Array([_0x2ae081[_0x40d3ca(0x4bf)]])[_0x40d3ca(0x23f)]));const _0x5a160f=new Uint8Array(0x4+_0x2ae081[_0x40d3ca(0x4bf)]+_0x3eb93c[_0x40d3ca(0x4bf)]);return _0x5a160f[_0x40d3ca(0xb1)](_0x4c1bf0),_0x5a160f[_0x40d3ca(0xb1)](_0x2ae081,0x4),_0x5a160f[_0x40d3ca(0xb1)](_0x3eb93c,0x4+_0x2ae081[_0x40d3ca(0x4bf)]),_0x5a160f[_0x40d3ca(0x23f)];}}class _0x2bbaa3 extends _0x46ff4c{[_0x4d79c3(0x4ec)];['connectionType'];['maxFps'];['maxBpp'];[_0x4d79c3(0x878)];['senderConnection'];[_0x4d79c3(0xa3d)];[_0x4d79c3(0x9e5)]=[];[_0x4d79c3(0x3ae)]=_0x1eb396();[_0x4d79c3(0x815)]=_0x1eb396();[_0x4d79c3(0x1b8)]=_0x1eb396();[_0x4d79c3(0x4cb)]=[];[_0x4d79c3(0x3fb)];[_0x4d79c3(0xa7b)]=new Map();[_0x4d79c3(0x14f)]=new Map();[_0x4d79c3(0x75c)]=new Map();[_0x4d79c3(0xa5b)]=new Map();[_0x4d79c3(0x486)]=!0x1;constructor(_0x2a5f8c,_0x42aa8c,_0x58d6a1,_0x497254,_0x38862c,_0x3bb13f,_0x4ff149,_0x489998){const _0x26aa84=_0x4d79c3;super(_0x2a5f8c,_0x42aa8c,_0x58d6a1),this[_0x26aa84(0x4ec)]=_0x497254,this['connectionType']=_0x38862c,this[_0x26aa84(0x6ef)]=_0x3bb13f,this[_0x26aa84(0x83a)]=_0x4ff149,this[_0x26aa84(0x878)]=_0x489998;}[_0x4d79c3(0x4c4)](_0x1ae72e){const _0x3f7c06=_0x4d79c3;switch(_0x1ae72e[_0x3f7c06(0x2c5)]()){case _0xf8ccf2[_0x3f7c06(0x3fc)][_0x3f7c06(0x500)]:case _0xf8ccf2['ContentType'][_0x3f7c06(0x1bd)]:case _0xf8ccf2[_0x3f7c06(0x3fc)][_0x3f7c06(0x91a)]:case _0xf8ccf2[_0x3f7c06(0x3fc)][_0x3f7c06(0xaac)]:case _0xf8ccf2[_0x3f7c06(0x3fc)][_0x3f7c06(0x118)]:case _0xf8ccf2[_0x3f7c06(0x3fc)][_0x3f7c06(0xa62)]:case _0xf8ccf2[_0x3f7c06(0x3fc)][_0x3f7c06(0x7e0)]:case _0xf8ccf2[_0x3f7c06(0x3fc)]['ExternalStorage']:this[_0x3f7c06(0xa7b)][_0x3f7c06(0xb1)](_0x1ae72e['getLabel'](),_0x1ae72e);break;case _0xf8ccf2[_0x3f7c06(0x3fc)]['Media']:this[_0x3f7c06(0x75c)][_0x3f7c06(0xb1)](_0x1ae72e[_0x3f7c06(0xa98)](),_0x1ae72e);}}[_0x4d79c3(0x6d0)](_0x5be1d2){const _0x5dc10c=_0x4d79c3;switch(_0x5be1d2[_0x5dc10c(0x2c5)]()){case _0xf8ccf2[_0x5dc10c(0x3fc)]['Data']:case _0xf8ccf2[_0x5dc10c(0x3fc)][_0x5dc10c(0x1bd)]:case _0xf8ccf2['ContentType'][_0x5dc10c(0x91a)]:case _0xf8ccf2['ContentType'][_0x5dc10c(0xaac)]:case _0xf8ccf2[_0x5dc10c(0x3fc)][_0x5dc10c(0x118)]:case _0xf8ccf2[_0x5dc10c(0x3fc)][_0x5dc10c(0xa62)]:case _0xf8ccf2[_0x5dc10c(0x3fc)]['GraphDatabase']:case _0xf8ccf2[_0x5dc10c(0x3fc)][_0x5dc10c(0x847)]:this[_0x5dc10c(0xa7b)][_0x5dc10c(0x86a)](_0x5be1d2[_0x5dc10c(0xa98)]());break;case _0xf8ccf2[_0x5dc10c(0x3fc)][_0x5dc10c(0x851)]:this[_0x5dc10c(0x75c)]['delete'](_0x5be1d2[_0x5dc10c(0xa98)]());}}['registerSubscriber'](_0x2231a5){const _0x18cebd=_0x4d79c3;switch(_0x2231a5[_0x18cebd(0x2c5)]()){case _0xf8ccf2[_0x18cebd(0x3fc)]['Data']:case _0xf8ccf2['ContentType'][_0x18cebd(0x1bd)]:case _0xf8ccf2[_0x18cebd(0x3fc)][_0x18cebd(0x91a)]:case _0xf8ccf2[_0x18cebd(0x3fc)][_0x18cebd(0xaac)]:case _0xf8ccf2[_0x18cebd(0x3fc)]['Job']:case _0xf8ccf2[_0x18cebd(0x3fc)][_0x18cebd(0xa62)]:case _0xf8ccf2[_0x18cebd(0x3fc)]['GraphDatabase']:case _0xf8ccf2[_0x18cebd(0x3fc)][_0x18cebd(0x847)]:{const _0x48d3ab=_0x2231a5['subscribe'](_0x4b4762=>{const _0x5d9447=_0x18cebd;_0x1e41d0(_0x4b4762,this[_0x5d9447(0x7f)]())&&_0x28f5d6(_0x4b4762,this[_0x5d9447(0x1bc)])&&this['send'](_0x4b4762);});this[_0x18cebd(0x14f)]['set'](_0x2231a5[_0x18cebd(0xa98)](),_0x48d3ab);break;}case _0xf8ccf2[_0x18cebd(0x3fc)]['Media']:{const _0x5eeaf2=_0x2231a5['subscribe'](({content:_0x39fa94})=>{const _0x3ff28c=_0x18cebd;switch(_0x39fa94[_0x3ff28c(0x34b)]){case _0x5d8fad[_0x3ff28c(0x983)]:this[_0x3ff28c(0x1c5)](_0x39fa94['track'],_0x39fa94[_0x3ff28c(0x7d0)],_0x39fa94[_0x3ff28c(0xa80)],_0x39fa94[_0x3ff28c(0x521)]);break;case _0x5d8fad['Remove']:this['removeTrack'](_0x39fa94[_0x3ff28c(0x655)],_0x39fa94[_0x3ff28c(0x7d0)]);break;case _0x5d8fad[_0x3ff28c(0x519)]:_0x39fa94['priority']&&this[_0x3ff28c(0x10b)](_0x39fa94[_0x3ff28c(0x7d0)],_0x39fa94[_0x3ff28c(0xa80)]),_0x39fa94['params']&&this['setParams'](_0x39fa94[_0x3ff28c(0x7d0)],_0x39fa94[_0x3ff28c(0x521)]);}});this[_0x18cebd(0xa5b)][_0x18cebd(0xb1)](_0x2231a5['getLabel'](),_0x5eeaf2);break;}}}['unregisterSubscriber'](_0x117391){const _0x48e93d=_0x4d79c3;switch(_0x117391['getContentType']()){case _0xf8ccf2[_0x48e93d(0x3fc)][_0x48e93d(0x500)]:case _0xf8ccf2['ContentType']['PubSub']:case _0xf8ccf2[_0x48e93d(0x3fc)]['ObjectStore']:case _0xf8ccf2[_0x48e93d(0x3fc)][_0x48e93d(0xaac)]:case _0xf8ccf2[_0x48e93d(0x3fc)][_0x48e93d(0x118)]:case _0xf8ccf2['ContentType'][_0x48e93d(0xa62)]:case _0xf8ccf2[_0x48e93d(0x3fc)][_0x48e93d(0x7e0)]:case _0xf8ccf2[_0x48e93d(0x3fc)][_0x48e93d(0x847)]:this['dataUnsubscribers'][_0x48e93d(0x2d3)](_0x117391['getLabel']())?.(),this[_0x48e93d(0x14f)][_0x48e93d(0x86a)](_0x117391['getLabel']());break;case _0xf8ccf2[_0x48e93d(0x3fc)]['Media']:this['mediaUnsubscribers'][_0x48e93d(0x2d3)](_0x117391[_0x48e93d(0xa98)]())?.(),this['mediaUnsubscribers'][_0x48e93d(0x86a)](_0x117391[_0x48e93d(0xa98)]());}}[_0x4d79c3(0xa33)](){const _0x5a5daf=_0x4d79c3;return[_0xf8ccf2[_0x5a5daf(0x3fc)]['Data'],_0xf8ccf2[_0x5a5daf(0x3fc)][_0x5a5daf(0x851)],_0xf8ccf2[_0x5a5daf(0x3fc)]['PubSub'],_0xf8ccf2[_0x5a5daf(0x3fc)][_0x5a5daf(0x91a)],_0xf8ccf2[_0x5a5daf(0x3fc)][_0x5a5daf(0xaac)],_0xf8ccf2[_0x5a5daf(0x3fc)][_0x5a5daf(0x118)],_0xf8ccf2[_0x5a5daf(0x3fc)][_0x5a5daf(0xa62)],_0xf8ccf2[_0x5a5daf(0x3fc)][_0x5a5daf(0x7e0)],_0xf8ccf2[_0x5a5daf(0x3fc)][_0x5a5daf(0x847)]];}[_0x4d79c3(0x618)](_0x203fcb){const _0x12f301=_0x4d79c3;this[_0x12f301(0x3fb)]=_0x203fcb;}['unregisterSystemPublisher'](){const _0x1c8cca=_0x4d79c3;delete this[_0x1c8cca(0x3fb)];}async[_0x4d79c3(0x79d)](){const _0x55a7e6=_0x4d79c3;this[_0x55a7e6(0x65b)](),await this['createOffer']();}[_0x4d79c3(0x8f0)](){const _0x23296d=_0x4d79c3;this['listenerUnsubscribers'][_0x23296d(0x571)](_0x4a7fc7=>_0x4a7fc7()),this[_0x23296d(0x4cb)]=[],this[_0x23296d(0x69f)]?.[_0x23296d(0x373)](),this['senderConnection']?.[_0x23296d(0x8f0)](),delete this[_0x23296d(0x69f)],this[_0x23296d(0x9e5)][_0x23296d(0x571)](_0x2522e8=>_0x2522e8()),this[_0x23296d(0x9e5)]=[],this[_0x23296d(0xa3d)]?.[_0x23296d(0x373)](),this[_0x23296d(0xa3d)]?.[_0x23296d(0x8f0)](),delete this[_0x23296d(0xa3d)];}['isConnected'](){const _0x3bee7c=_0x4d79c3;return this[_0x3bee7c(0x69f)]?.[_0x3bee7c(0xa70)]()&&this[_0x3bee7c(0xa3d)]?.['isConnected']()||!0x1;}[_0x4d79c3(0x987)](_0x55131d){const _0x331587=_0x4d79c3;if(!this[_0x331587(0x69f)]||!this['isConnected']())throw new _0x25257a(_0x25257a[_0x331587(0x6cc)][_0x331587(0xa87)],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x331587(0x69f)]?.[_0x331587(0xa70)](),'receiverConnected':this[_0x331587(0xa3d)]?.[_0x331587(0xa70)](),'localId':this[_0x331587(0x7f)](),'remoteId':this[_0x331587(0x1bc)],'data':_0x55131d});this[_0x331587(0x69f)]['send'](_0x55131d);}[_0x4d79c3(0x454)](_0x378a88){const _0x8acb92=_0x4d79c3;return this[_0x8acb92(0x3ae)]['subscribe'](_0x378a88);}['onTrack'](_0x5df44e){const _0xb1f721=_0x4d79c3;return this['trackListeners'][_0xb1f721(0x2a1)](({track:_0x5e4cc8,stream:_0x2ec008})=>_0x5df44e(_0x5e4cc8,_0x2ec008));}['onRemoveTrack'](_0x267873){const _0xe27bc0=_0x4d79c3;return this[_0xe27bc0(0x1b8)][_0xe27bc0(0x2a1)](({track:_0x240a6b,stream:_0x263b49})=>_0x267873(_0x240a6b,_0x263b49));}['addTrack'](_0x1e74cb,_0x637d1c,_0x20ea93,_0x48daee){const _0x3df26e=_0x4d79c3;this[_0x3df26e(0x69f)]?.['addTrack'](_0x1e74cb,_0x637d1c,_0x20ea93,_0x48daee);}[_0x4d79c3(0x10b)](_0x58eb9f,_0x27a159){const _0x452cd7=_0x4d79c3;this[_0x452cd7(0x69f)]?.[_0x452cd7(0x10b)](_0x58eb9f,_0x27a159);}[_0x4d79c3(0x93e)](_0x21907a,_0x1e5528){const _0x17d40b=_0x4d79c3;this[_0x17d40b(0x69f)]?.[_0x17d40b(0x93e)](_0x21907a,_0x1e5528);}[_0x4d79c3(0x518)](_0x3fe093,_0x41bd97){const _0x2a8040=_0x4d79c3;this[_0x2a8040(0x69f)]?.[_0x2a8040(0x518)](_0x3fe093,_0x41bd97);}async['handlePeerConnectionSystemEvents'](_0x4cda2c){const _0x123b77=_0x4d79c3;_0x10d8cb[_0x123b77(0x3bc)](_0x44f26b[_0x123b77(0x74)],_0x123b77(0x21c),this[_0x123b77(0x7f)](),_0x4cda2c);const {content:_0x95b187}=_0x4cda2c;switch(_0x95b187[_0x123b77(0x572)]){case _0x4663c4[_0x123b77(0x424)]:await this[_0x123b77(0x3b1)](_0x95b187);break;case _0x4663c4['Answer']:await this['handleAnswer'](_0x95b187);break;case _0x4663c4['Success']:this['handleSuccess']();break;case _0x4663c4[_0x123b77(0x6e8)]:await this[_0x123b77(0x900)](_0x95b187);break;case _0x4663c4['NeedRestart']:this['handleNeedRestart'](_0x95b187);break;case _0x4663c4[_0x123b77(0x2c8)]:await this[_0x123b77(0xab0)]();}}[_0x4d79c3(0x156)](_0x298eac){const _0x4c1b65=_0x4d79c3;this['senderConnection']?.[_0x4c1b65(0x4e0)](_0x298eac['content'][_0x4c1b65(0x8da)]);}[_0x4d79c3(0x6d1)](){const _0x1c4cd8=_0x4d79c3;return this[_0x1c4cd8(0x797)];}['setConnectionType'](_0x2e5659){const _0x3f31aa=_0x4d79c3;this['connectionType']=_0x2e5659,this[_0x3f31aa(0x69f)]?.[_0x3f31aa(0x692)](_0x2e5659),this[_0x3f31aa(0xa3d)]?.[_0x3f31aa(0x692)](_0x2e5659);}async[_0x4d79c3(0x4c0)](){const _0x551c93=_0x4d79c3;await this[_0x551c93(0x69f)]?.[_0x551c93(0x4c0)](),await this['receiverConnection']?.[_0x551c93(0x4c0)]();}[_0x4d79c3(0x654)](){const _0xd94328=_0x4d79c3;return this[_0xd94328(0x69f)]?.['calculateArrayBufferSize']()??0x0;}['getBufferedAmount'](){const _0x523545=_0x4d79c3;return this[_0x523545(0x69f)]?.[_0x523545(0xa5a)]()??0x0;}[_0x4d79c3(0x65b)](){const _0x43e7a7=_0x4d79c3;this[_0x43e7a7(0x4cb)][_0x43e7a7(0x15b)](this['onMessage'](_0xfd9641=>{const _0x3112e8=_0x43e7a7;_0x28f5d6(_0xfd9641,this['getLocalId']())&&0x0!==_0xfd9641[_0x3112e8(0x169)]&&this[_0x3112e8(0xa7b)][_0x3112e8(0x2d3)](_0xfd9641[_0x3112e8(0x169)])?.['publish'](_0xfd9641);})),this['listenerUnsubscribers'][_0x43e7a7(0x15b)](this[_0x43e7a7(0x862)]((_0x46b03d,_0x241227)=>{const _0x35da55=_0x43e7a7,_0x3351d6=_0x352277(_0xf8ccf2[_0x35da55(0x3fc)][_0x35da55(0x851)],_0x241227['id'],this[_0x35da55(0x1bc)]);this[_0x35da55(0x75c)]['get'](_0x3351d6)?.[_0x35da55(0x758)]({'topicLabel':_0x3351d6,'sourceId':this[_0x35da55(0x1bc)],'contentType':_0xf8ccf2[_0x35da55(0x3fc)][_0x35da55(0x851)],'content':{'action':_0x5d8fad['RemoteAdd'],'track':_0x46b03d,'stream':_0x241227,'providerId':this[_0x35da55(0x1bc)]}});})),this['listenerUnsubscribers'][_0x43e7a7(0x15b)](this[_0x43e7a7(0x41e)]((_0x58bced,_0x599ad1)=>{const _0x19fcac=_0x43e7a7,_0x413a06=_0x352277(_0xf8ccf2['ContentType'][_0x19fcac(0x851)],_0x599ad1['id'],this[_0x19fcac(0x1bc)]);this[_0x19fcac(0x75c)][_0x19fcac(0x2d3)](_0x413a06)?.[_0x19fcac(0x758)]({'topicLabel':_0x413a06,'sourceId':this[_0x19fcac(0x1bc)],'contentType':_0xf8ccf2['ContentType'][_0x19fcac(0x851)],'content':{'action':_0x5d8fad[_0x19fcac(0x589)],'track':_0x58bced,'stream':_0x599ad1,'providerId':this['remoteId']}});}));}[_0x4d79c3(0x900)]({candidates:_0x59322b,origin:_0x3e80ed,version:_0x20a07f}){const _0x1286f4=_0x4d79c3;return _0x3e80ed===_0x134d3f[_0x1286f4(0x785)]?(this[_0x1286f4(0xa3d)]||this['createReceiverConnection'](),this[_0x1286f4(0xa3d)][_0x1286f4(0x3f6)](_0x59322b,_0x20a07f)):this['senderConnection']['handleHandshake'](_0x59322b,_0x20a07f);}async[_0x4d79c3(0xab0)](){const _0x1cac6e=_0x4d79c3;this[_0x1cac6e(0x69f)]||this[_0x1cac6e(0x242)](),await this[_0x1cac6e(0x69f)][_0x1cac6e(0xab0)]();}async['handleOffer']({offer:_0x4c35fc,version:_0x8ddbb8}){const _0x6520f7=_0x4d79c3;this[_0x6520f7(0xa3d)]||this[_0x6520f7(0x270)](),await this[_0x6520f7(0xa3d)][_0x6520f7(0x3b1)](_0x4c35fc,_0x8ddbb8);}async[_0x4d79c3(0x4f1)]({answer:_0xbe7cad,version:_0x1eb822}){const _0x4b5918=_0x4d79c3;if(!this[_0x4b5918(0x69f)])throw new _0x25257a(_0x25257a[_0x4b5918(0x6cc)][_0x4b5918(0xa87)],{'message':_0x4b5918(0x5e2),'localId':this[_0x4b5918(0x7f)](),'remoteId':this[_0x4b5918(0x1bc)],'answer':_0xbe7cad});await this[_0x4b5918(0x69f)][_0x4b5918(0x4f1)](_0xbe7cad,_0x1eb822);}[_0x4d79c3(0x17e)](){const _0x29218d=_0x4d79c3;if(!this[_0x29218d(0xa3d)])throw new _0x25257a(_0x25257a[_0x29218d(0x6cc)][_0x29218d(0xa87)],{'message':_0x29218d(0x92c),'localId':this[_0x29218d(0x7f)](),'remoteId':this[_0x29218d(0x1bc)]});this[_0x29218d(0xa3d)][_0x29218d(0x17e)](),this[_0x29218d(0x486)]||this[_0x29218d(0x797)]!==_0x3b5aa5[_0x29218d(0x2e8)]||(this['successNotified']=!0x0,this[_0x29218d(0x3fb)]?.[_0x29218d(0x758)]({'sourceId':this[_0x29218d(0x1bc)],'destinationIds':[this[_0x29218d(0x7f)]()],'messageType':_0x15b885[_0x29218d(0x2bf)],'content':{'type':_0x4663c4['OptimizationConnectionSuccess']}}));}[_0x4d79c3(0x289)](_0x5053e9){const _0x3afe82=_0x4d79c3;this['receiverConnection']||this[_0x3afe82(0x270)](),this['receiverConnection'][_0x3afe82(0x289)](_0x5053e9['version']);}[_0x4d79c3(0x242)](){const _0x103c2b=_0x4d79c3;this[_0x103c2b(0x69f)]=new _0x21f015(this['clusterId'],this[_0x103c2b(0x3d8)],this['remoteId'],this[_0x103c2b(0x4ec)],this['connectionType'],this[_0x103c2b(0x6ef)],this[_0x103c2b(0x83a)],this['connectionConstructor']),this['senderConnection']['registerSystemPublisher'](this['systemTopic']);}['createReceiverConnection'](){const _0x4eeff8=_0x4d79c3;this[_0x4eeff8(0xa3d)]=new _0x415f87(this[_0x4eeff8(0x5b6)],this[_0x4eeff8(0x3d8)],this[_0x4eeff8(0x1bc)],this[_0x4eeff8(0x4ec)],this[_0x4eeff8(0x797)],this['connectionConstructor']),this[_0x4eeff8(0xa3d)][_0x4eeff8(0x618)](this['systemTopic']),this[_0x4eeff8(0x9e5)][_0x4eeff8(0x15b)](this[_0x4eeff8(0xa3d)][_0x4eeff8(0x454)](_0x37905f=>this['messageListeners'][_0x4eeff8(0x758)](_0x37905f))),this[_0x4eeff8(0x9e5)][_0x4eeff8(0x15b)](this[_0x4eeff8(0xa3d)][_0x4eeff8(0x862)]((_0x172e51,_0x3770ba)=>this[_0x4eeff8(0x815)][_0x4eeff8(0x758)]({'track':_0x172e51,'stream':_0x3770ba}))),this['receiverUnsubscribers'][_0x4eeff8(0x15b)](this[_0x4eeff8(0xa3d)][_0x4eeff8(0x41e)]((_0x53d767,_0xce3ff9)=>this[_0x4eeff8(0x1b8)][_0x4eeff8(0x758)]({'track':_0x53d767,'stream':_0xce3ff9})));}}class _0x2144af{[_0x4d79c3(0x52e)];[_0x4d79c3(0x24b)];[_0x4d79c3(0x3c0)];[_0x4d79c3(0xa37)]=new Map();[_0x4d79c3(0x3ae)]=_0x1eb396();[_0x4d79c3(0x8a0)];['dataTopics']=new Map();[_0x4d79c3(0x14f)]=new Map();[_0x4d79c3(0x47c)]=new Map();constructor(_0x4cb154,_0x3da299,_0x495c5d){const _0x1cb9eb=_0x4d79c3;this[_0x1cb9eb(0x52e)]=_0x4cb154,this[_0x1cb9eb(0x24b)]=_0x3da299,this['graphService']=_0x495c5d,this['messageUnsubscriber']=this[_0x1cb9eb(0x454)](_0x58446e=>{const _0x6a39f1=_0x1cb9eb;this[_0x6a39f1(0x24b)]['hasMessage'](_0x58446e[_0x6a39f1(0x7e6)])||(_0x28f5d6(_0x58446e,this['localId'])&&0x0!==_0x58446e['topicLabel']&&(this['messageBuffer'][_0x6a39f1(0x776)](_0x58446e[_0x6a39f1(0x7e6)]),this[_0x6a39f1(0xa7b)][_0x6a39f1(0x2d3)](_0x58446e[_0x6a39f1(0x169)])?.[_0x6a39f1(0x758)](_0x58446e)),_0x58446e[_0x6a39f1(0x8b)]&&this[_0x6a39f1(0x987)](_0x58446e));});}[_0x4d79c3(0x8f0)](){this['messageUnsubscriber']?.();}[_0x4d79c3(0x7a6)](_0x4e8bd3){const _0x353d23=_0x4d79c3,_0xff9784=_0x4e8bd3[_0x353d23(0x454)](_0xd5396c=>{const _0x5b9fe9=_0x353d23;this['messageListeners'][_0x5b9fe9(0x758)](_0xd5396c);});this[_0x353d23(0xa37)][_0x353d23(0xb1)](_0x4e8bd3,_0xff9784),this[_0x353d23(0x47c)]['set'](_0x4e8bd3[_0x353d23(0xa69)](),function(_0x2ff038,_0xbb7f7d=!0x1){let _0x1d8f72=new Map();const _0x3a7a80=_0x4d1341(_0x2ff038,_0xbb7f7d,function(_0x425994){const _0x35eed2=a0_0x50a3;_0x3fb5dd(_0x425994)&&_0x1d8f72[_0x35eed2(0x86a)](_0x425994[_0x35eed2(0x19b)]+'-'+(_0x425994['destinationIds']??[])+'-'+_0x425994['messageType']+'-'+_0x425994['content']['type']);},function(_0x2f44fc){return!!function(_0x478d6c){const _0x1ce6c9=a0_0x50a3,_0x694bb5=_0x478d6c[_0x1ce6c9(0x433)];if(!_0x3fb5dd(_0x694bb5))return!0x1;const _0x1dfea6=_0x694bb5[_0x1ce6c9(0x19b)]+'-'+(_0x694bb5[_0x1ce6c9(0x244)]??[])+'-'+_0x694bb5[_0x1ce6c9(0x12e)]+'-'+_0x694bb5[_0x1ce6c9(0x898)]['type'],_0x2f28f7={'version':_0x694bb5['content'][_0x1ce6c9(0x736)],'element':_0x478d6c},_0x11fa7a=_0x1d8f72[_0x1ce6c9(0x2d3)](_0x1dfea6);return _0x11fa7a?(_0x11fa7a['version']>=_0x694bb5[_0x1ce6c9(0x898)]['version']||(_0x11fa7a[_0x1ce6c9(0xa42)][_0x1ce6c9(0x771)]&&(_0x11fa7a[_0x1ce6c9(0xa42)]['previous'][_0x1ce6c9(0x38d)]=_0x478d6c,_0x478d6c[_0x1ce6c9(0x771)]=_0x11fa7a[_0x1ce6c9(0xa42)][_0x1ce6c9(0x771)]),_0x11fa7a[_0x1ce6c9(0xa42)]['next']&&(_0x11fa7a[_0x1ce6c9(0xa42)][_0x1ce6c9(0x38d)][_0x1ce6c9(0x771)]=_0x478d6c,_0x478d6c['next']=_0x11fa7a[_0x1ce6c9(0xa42)]['next']),_0x11fa7a[_0x1ce6c9(0xa42)]===_0x3a7a80[_0x1ce6c9(0xa02)]&&(_0x3a7a80['head']=_0x478d6c),_0x11fa7a[_0x1ce6c9(0xa42)]===_0x3a7a80[_0x1ce6c9(0x9fe)]&&(_0x3a7a80[_0x1ce6c9(0x9fe)]=_0x478d6c),_0x1d8f72[_0x1ce6c9(0xb1)](_0x1dfea6,_0x2f28f7)),!0x0):(_0x1d8f72[_0x1ce6c9(0xb1)](_0x1dfea6,_0x2f28f7),!0x1);}(_0x2f44fc);},function(){_0x1d8f72['clear']();});function _0x3fb5dd(_0x52121e){const _0x487d85=a0_0x50a3;if(_0x52121e&&_0x487d85(0x8de)==typeof _0x52121e&&_0x52121e[_0x487d85(0x1ac)](_0x487d85(0x898))&&_0x52121e[_0x487d85(0x1ac)]('messageType')&&_0x52121e[_0x487d85(0x1ac)](_0x487d85(0x19b))){const _0x60ef4f=_0x52121e;if(_0x60ef4f[_0x487d85(0x898)]&&_0x487d85(0x8de)==typeof _0x60ef4f[_0x487d85(0x898)]&&_0x60ef4f['content'][_0x487d85(0x1ac)](_0x487d85(0x736))&&_0x60ef4f[_0x487d85(0x898)][_0x487d85(0x1ac)](_0x487d85(0x572)))return!0x0;}return!0x1;}return _0x3a7a80;}(new _0x3c1c1c(_0x3c7815=>_0x4e8bd3['send'](_0x3c7815),()=>_0x53a877[_0x353d23(0x316)](0x64))));}[_0x4d79c3(0x37d)](_0x5614b0){const _0x37f9d1=_0x4d79c3;this[_0x37f9d1(0xa37)][_0x37f9d1(0x2d3)](_0x5614b0)?.(),this['connections'][_0x37f9d1(0x86a)](_0x5614b0),this[_0x37f9d1(0x47c)][_0x37f9d1(0x2d3)](_0x5614b0[_0x37f9d1(0xa69)]())?.[_0x37f9d1(0x2cb)](),this[_0x37f9d1(0x47c)]['delete'](_0x5614b0[_0x37f9d1(0xa69)]());}['isConnected'](_0x451a85){const _0x2a71ac=_0x4d79c3;return _0x10d8cb[_0x2a71ac(0x3bc)](_0x44f26b['ConnectionState'],_0x2a71ac(0x226),this[_0x2a71ac(0x52e)],this[_0x2a71ac(0xa37)][_0x2a71ac(0x261)]()),0x0!==this[_0x2a71ac(0xa37)][_0x2a71ac(0x517)]&&(Array[_0x2a71ac(0x46f)](this['connections'][_0x2a71ac(0x261)]())[_0x2a71ac(0x483)](_0x123118=>_0x123118[_0x2a71ac(0xa69)]()===_0x451a85)?.[_0x2a71ac(0xa70)]()??!0x1);}[_0x4d79c3(0x4c4)](_0x38ebe8){const _0x549129=_0x4d79c3;this[_0x549129(0xa7b)][_0x549129(0xb1)](_0x38ebe8[_0x549129(0xa98)](),_0x38ebe8);}['unregisterPublisher'](_0x5d5478){const _0x4b0038=_0x4d79c3;this[_0x4b0038(0xa7b)][_0x4b0038(0x86a)](_0x5d5478[_0x4b0038(0xa98)]());}[_0x4d79c3(0x25f)](_0x5f2a1d){const _0x355348=_0x4d79c3,_0x775d49=_0x5f2a1d[_0x355348(0x2a1)](this['send']['bind'](this));this[_0x355348(0x14f)][_0x355348(0xb1)](_0x5f2a1d['getLabel'](),_0x775d49);}[_0x4d79c3(0x4b8)](_0x566759){const _0x35ef2f=_0x4d79c3;this[_0x35ef2f(0x14f)][_0x35ef2f(0x2d3)](_0x566759[_0x35ef2f(0xa98)]())?.(),this['dataUnsubscribers']['delete'](_0x566759['getLabel']());}[_0x4d79c3(0xa33)](){const _0x581e92=_0x4d79c3;return[_0xf8ccf2[_0x581e92(0x3fc)][_0x581e92(0x500)],_0xf8ccf2['ContentType'][_0x581e92(0x1bd)],_0xf8ccf2[_0x581e92(0x3fc)][_0x581e92(0x91a)],_0xf8ccf2[_0x581e92(0x3fc)]['KeyValueDatabase'],_0xf8ccf2[_0x581e92(0x3fc)][_0x581e92(0x118)],_0xf8ccf2[_0x581e92(0x3fc)][_0x581e92(0xa62)],_0xf8ccf2[_0x581e92(0x3fc)][_0x581e92(0x7e0)],_0xf8ccf2[_0x581e92(0x3fc)][_0x581e92(0x847)]];}[_0x4d79c3(0x987)](_0x155f1d){const _0x15ac01=_0x4d79c3;if(!0x1===_0x155f1d[_0x15ac01(0x376)]){if(_0x155f1d[_0x15ac01(0x8b)]||!_0x155f1d[_0x15ac01(0x244)]||0x1!==_0x155f1d[_0x15ac01(0x244)][_0x15ac01(0x4bf)])throw new _0x25257a(_0x25257a[_0x15ac01(0x6cc)]['ConnectionInvalidDataEvent'],{'message':_0x15ac01(0x532),'localId':this['localId']});if(!this[_0x15ac01(0xa70)](_0x155f1d['destinationIds'][0x0]))throw new _0x4b3c50(_0x15ac01(0x3f2));}const _0x35e1cc=_0x155f1d[_0x15ac01(0x831)]??[];try{const {filteredDestinationIds:_0x5d5739,extendedRecipients:_0x5404ab}=this[_0x15ac01(0x37c)](_0x155f1d,_0x35e1cc);_0x155f1d[_0x15ac01(0x244)]=_0x5d5739,_0x155f1d['recipients']=_0x5404ab;}catch(_0x4a0bbc){if(_0x4a0bbc instanceof _0x4b3c50)return void _0x10d8cb['log'](_0x44f26b[_0x15ac01(0x74)],'CrewdleConnectionGroup',_0x15ac01(0x41a),_0x155f1d,_0x4a0bbc['message']);}const _0x4e4e5a=this[_0x15ac01(0x347)](_0x155f1d);this[_0x15ac01(0x72d)](_0x155f1d,_0x4e4e5a),_0x155f1d['propagate']=_0x4e4e5a;const _0xde56d0=this[_0x15ac01(0x8b0)](_0x155f1d,_0x35e1cc);for(const _0x20ab75 of _0xde56d0){const _0x410499=this['retryQueues'][_0x15ac01(0x2d3)](_0x20ab75['getRemoteId']());if(!_0x410499)throw new _0x25257a(_0x25257a[_0x15ac01(0x6cc)][_0x15ac01(0x507)],{'message':_0x15ac01(0xa7e),'localId':this[_0x15ac01(0x52e)],'remoteId':_0x20ab75[_0x15ac01(0xa69)](),'data':_0x155f1d});_0x410499['push'](_0x155f1d);}}[_0x4d79c3(0xa69)](){return'';}['getLocalId'](){return this['localId'];}[_0x4d79c3(0x454)](_0x22d1a6){return this['messageListeners']['subscribe'](_0x22d1a6);}['updatePropagationProperties'](_0x5d795b,_0x312057){const _0x4c9565=_0x4d79c3,_0x426dcc={'filteredDestinationIds':_0x5d795b['destinationIds'],'extendedRecipients':_0x5d795b[_0x4c9565(0x831)]};if(!_0x5d795b[_0x4c9565(0x8b)])return _0x426dcc;const _0x4a0625=Array[_0x4c9565(0x46f)](this[_0x4c9565(0xa37)][_0x4c9565(0x261)]())[_0x4c9565(0x70d)](_0x420824=>_0x420824['getConnectionType']()===_0x3b5aa5['Core']||_0x420824[_0x4c9565(0xa70)]())['map'](_0x3fcf93=>_0x3fcf93[_0x4c9565(0xa69)]());if(_0x4a0625['reduce']((_0x4e7099,_0xf9452a)=>_0x4e7099&&_0x5d795b[_0x4c9565(0x831)][_0x4c9565(0xcc)](_0xf9452a),!0x0))throw new _0x4b3c50('All\x20recipients\x20already\x20received');if(_0x5d795b[_0x4c9565(0x244)]){const _0x5b5c8b=_0x5d795b['destinationIds']['filter'](_0x357a4d=>_0x357a4d!==this['localId']&&!_0x5d795b[_0x4c9565(0x831)][_0x4c9565(0xcc)](_0x357a4d));if(0x0===_0x5b5c8b[_0x4c9565(0x4bf)])throw new _0x4b3c50('No\x20destinationIds\x20left');_0x426dcc['filteredDestinationIds']=_0x5b5c8b;}return _0x426dcc[_0x4c9565(0x786)]=[...new Set([..._0x312057,..._0x4a0625,this['localId']])],_0x426dcc;}[_0x4d79c3(0x72d)](_0x272a92,_0x4212c4=!0x1){const _0x26f43b=_0x4d79c3;if(0x0===_0x272a92[_0x26f43b(0x169)]&&!_0x1e41d0(_0x272a92,this[_0x26f43b(0x52e)])&&_0x272a92['propagate']){const _0x51cda8=_0x42c31f(_0x272a92,this[_0x26f43b(0x52e)]);_0x10d8cb['logRaw'](_0x44f26b['System'],_0x272a92[_0x26f43b(0x7e6)]+_0x26f43b(0x939)+_0x4212c4+')\x20'+_0x51cda8,_0x272a92,_0x4212c4);}}[_0x4d79c3(0x347)](_0x38c8bb){const _0x4fc2f8=_0x4d79c3;if(_0x38c8bb[_0x4fc2f8(0x244)]&&_0x38c8bb['propagate']){const _0x4eccf6=Array['from'](this['connections']['keys']())[_0x4fc2f8(0x70d)](_0x1f1ddc=>_0x1f1ddc['getConnectionType']()===_0x3b5aa5['Core']||_0x1f1ddc[_0x4fc2f8(0xa70)]())[_0x4fc2f8(0x384)](_0x528b79=>_0x528b79[_0x4fc2f8(0xa69)]());return!_0x38c8bb[_0x4fc2f8(0x244)][_0x4fc2f8(0x7ab)]((_0x4adfd5,_0x419d43)=>_0x4adfd5&&_0x4eccf6[_0x4fc2f8(0xcc)](_0x419d43),!0x0);}return _0x38c8bb['propagate']??!0x1;}[_0x4d79c3(0x8b0)](_0x256c65,_0x53c67b){const _0x4d527f=_0x4d79c3;if(_0x256c65[_0x4d527f(0x8b)]&&_0x256c65[_0x4d527f(0x244)]){const _0x8ffb8e=Array[_0x4d527f(0x46f)](this['connections'][_0x4d527f(0x261)]())[_0x4d527f(0x70d)](_0x35ef=>_0x35ef[_0x4d527f(0x6d1)]()===_0x3b5aa5[_0x4d527f(0x5f2)]||_0x35ef['isConnected']())['map'](_0x4afd2d=>_0x4afd2d[_0x4d527f(0xa69)]()),_0x500d63=new Set(),_0x4ef35e=_0x256c65[_0x4d527f(0x19b)]===this['localId']?0x3:0x1;return _0x256c65[_0x4d527f(0x244)][_0x4d527f(0x571)](_0x5ab6c2=>{const _0x1e92d9=_0x4d527f,_0x394de9=this[_0x1e92d9(0x3c0)][_0x1e92d9(0x7f4)](_0x8ffb8e,_0x5ab6c2);let _0x4ccd56=0x0,_0x526daf=0x0;_0x394de9[_0x1e92d9(0x571)](_0x556052=>{const _0x4bed3c=_0x1e92d9;if(_0x4ccd56>=_0x4ef35e)return;const _0x607e34=Array[_0x4bed3c(0x46f)](this[_0x4bed3c(0xa37)]['keys']())[_0x4bed3c(0x483)](_0x109c42=>_0x109c42[_0x4bed3c(0xa69)]()===_0x556052);if(_0x607e34){if(_0x607e34['getConnectionType']()===_0x3b5aa5[_0x4bed3c(0x5f2)]&&_0x526daf>0x0)return void(_0x526daf-=0x1);_0x500d63['add'](_0x607e34),_0x607e34[_0x4bed3c(0x6d1)]()===_0x3b5aa5[_0x4bed3c(0x2e8)]&&(_0x526daf+=0x1),_0x4ccd56+=0x1;}});}),Array['from'](_0x500d63);}return Array['from'](this['connections']['keys']())[_0x4d527f(0x70d)](_0x3eef3c=>{const _0x7f33c7=_0x4d527f;return _0x38d0d4=_0x3eef3c[_0x7f33c7(0xa69)](),!_0x53c67b[_0x7f33c7(0xcc)](_0x38d0d4)&&(_0x28f5d6(_0x256c65,_0x38d0d4)||_0x256c65['propagate'])&&(!_0x256c65['propagate']||_0x3eef3c[_0x7f33c7(0xa70)]()||_0x3eef3c['getConnectionType']()===_0x3b5aa5[_0x7f33c7(0x5f2)]);var _0x38d0d4;});}}class _0x3645c1{[_0x4d79c3(0x52e)];[_0x4d79c3(0x24b)];[_0x4d79c3(0xa37)]=new Map();[_0x4d79c3(0x3fb)];constructor(_0x2ff55c,_0x3af8b6){const _0x6c39b=_0x4d79c3;this[_0x6c39b(0x52e)]=_0x2ff55c,this['messageBuffer']=_0x3af8b6;}[_0x4d79c3(0x8f0)](){}[_0x4d79c3(0x987)](_0x1b0fd2){const _0x2dee63=_0x4d79c3;for(const _0x49379b of this[_0x2dee63(0xa37)][_0x2dee63(0x261)]())try{return void _0x49379b['send']({'retry':!0x1,..._0x1b0fd2});}catch(_0x422e81){_0x422e81 instanceof _0x4b3c50||_0x10d8cb[_0x2dee63(0x3bc)](_0x44f26b[_0x2dee63(0x4ce)],_0x2dee63(0x16d)+_0x49379b,_0x422e81,_0x1b0fd2);}_0x10d8cb[_0x2dee63(0x3bc)](_0x44f26b[_0x2dee63(0x4ce)],_0x2dee63(0x1b4));}[_0x4d79c3(0x7a6)](_0x5adb01){const _0x5bfe35=_0x4d79c3,_0x237f50=_0x5adb01[_0x5bfe35(0x454)](_0x401e4a=>{const _0x127710=_0x5bfe35;this[_0x127710(0x24b)]['hasMessage'](_0x401e4a['uuid'])||0x0===_0x401e4a['topicLabel']&&(this['messageBuffer'][_0x127710(0x776)](_0x401e4a[_0x127710(0x7e6)]),_0x28f5d6(_0x401e4a,this[_0x127710(0x52e)])&&this['systemTopic']?.[_0x127710(0x758)](_0x401e4a));});this[_0x5bfe35(0xa37)][_0x5bfe35(0xb1)](_0x5adb01,_0x237f50);}[_0x4d79c3(0x37d)](_0x3fa149){const _0x1e538b=_0x4d79c3;this[_0x1e538b(0xa37)][_0x1e538b(0x2d3)](_0x3fa149)?.(),this[_0x1e538b(0xa37)][_0x1e538b(0x86a)](_0x3fa149);}[_0x4d79c3(0x7f)](){const _0x2f8820=_0x4d79c3;return this[_0x2f8820(0x52e)];}['getRemoteId'](){return'';}[_0x4d79c3(0xa33)](){const _0x66d672=_0x4d79c3;return[_0xf8ccf2[_0x66d672(0x3fc)][_0x66d672(0x500)]];}[_0x4d79c3(0xa70)](){const _0x2c98ef=_0x4d79c3;throw new Error(_0x2c98ef(0x667));}[_0x4d79c3(0x618)](_0x4105ec){const _0x1a5b72=_0x4d79c3;this[_0x1a5b72(0x3fb)]=_0x4105ec;}[_0x4d79c3(0x373)](){const _0x8fd47d=_0x4d79c3;delete this[_0x8fd47d(0x3fb)];}}class _0x536aa9{[_0x4d79c3(0x23f)]=new Map();[_0x4d79c3(0x5ff)];constructor(){this['unsubscribeHandler']=_0x53a877['setInterval'](()=>{const _0x24a3de=a0_0x50a3;for(const [_0x2a4204,_0x5c5d1b]of this['buffer']['entries']())Date['now']()-_0x5c5d1b>0x124f80&&this[_0x24a3de(0x23f)][_0x24a3de(0x86a)](_0x2a4204);},0x1d4c0);}[_0x4d79c3(0x8f0)](){this['unsubscribeHandler']();}[_0x4d79c3(0x776)](_0xc2e9c1){const _0x349bc1=_0x4d79c3;this['buffer'][_0x349bc1(0xb1)](_0xc2e9c1,Date[_0x349bc1(0x2a6)]());}['hasMessage'](_0x28b7fe){const _0x1eaeee=_0x4d79c3;return this[_0x1eaeee(0x23f)]['has'](_0x28b7fe);}}class _0x2d67ce{[_0x4d79c3(0x941)];['authService'];[_0x4d79c3(0x4ec)];[_0x4d79c3(0x4db)];[_0x4d79c3(0xa37)]=new Map();['connectionPool'];['connectionGroup'];['signalingServer'];[_0x4d79c3(0x24b)];constructor(_0x573fcc,_0x551375,_0x2d9d68,_0x582697,_0x56faff){const _0xa1bb7f=_0x4d79c3;this['configs']=_0x573fcc,this[_0xa1bb7f(0x11f)]=_0x551375,this[_0xa1bb7f(0x4ec)]=_0x582697,this[_0xa1bb7f(0x4db)]=_0x56faff,this[_0xa1bb7f(0x24b)]=new _0x536aa9(),this['connectionGroup']=new _0x2144af(this['configs'][_0xa1bb7f(0x3d8)][_0xa1bb7f(0x970)](),this['messageBuffer'],_0x2d9d68),this[_0xa1bb7f(0x622)]=new _0x231000(this[_0xa1bb7f(0x941)]['vendorId'],this['configs'][_0xa1bb7f(0x5b6)],this[_0xa1bb7f(0x941)][_0xa1bb7f(0x3d8)],'server',this[_0xa1bb7f(0x11f)]),this[_0xa1bb7f(0x9d7)]=new _0x3645c1(this[_0xa1bb7f(0x941)][_0xa1bb7f(0x3d8)][_0xa1bb7f(0x970)](),this['messageBuffer']),this[_0xa1bb7f(0x9d7)]['addConnection'](this[_0xa1bb7f(0x9b1)]),this[_0xa1bb7f(0x9d7)][_0xa1bb7f(0x7a6)](this[_0xa1bb7f(0x622)]),this[_0xa1bb7f(0x941)][_0xa1bb7f(0xd8)]['registerSystemSource'](this[_0xa1bb7f(0x9d7)]);}[_0x4d79c3(0x8f0)](){const _0x22c4a1=_0x4d79c3;this['messageBuffer']['close'](),this[_0x22c4a1(0xa37)][_0x22c4a1(0x571)]((_0x247aa3,_0x2a0470)=>this[_0x22c4a1(0x9bb)](_0x2a0470)),this['configs'][_0x22c4a1(0xd8)][_0x22c4a1(0x7a2)](this[_0x22c4a1(0x9d7)]),this[_0x22c4a1(0x9d7)][_0x22c4a1(0x37d)](this[_0x22c4a1(0x622)]),this[_0x22c4a1(0x9d7)]['removeConnection'](this['connectionGroup']),this['connectionPool']['close'](),this[_0x22c4a1(0x622)]['close'](),this[_0x22c4a1(0x9b1)][_0x22c4a1(0x8f0)]();}async[_0x4d79c3(0x746)](){const _0x10744e=_0x4d79c3;await this[_0x10744e(0x622)]['connect']();}async[_0x4d79c3(0x5e5)](_0x2d6fb8,_0xedb488=_0x3b5aa5['Core']){const _0x490274=_0x4d79c3;if(this[_0x490274(0xa37)][_0x490274(0x85)](_0x2d6fb8)){if(this[_0x490274(0xa37)]['get'](_0x2d6fb8)?.[_0x490274(0x6d1)]()===_0x3b5aa5[_0x490274(0x2e8)]&&_0xedb488===_0x3b5aa5['Core'])return void this[_0x490274(0xa37)][_0x490274(0x2d3)](_0x2d6fb8)?.[_0x490274(0x692)](_0x3b5aa5[_0x490274(0x5f2)]);throw new _0x25257a(_0x25257a[_0x490274(0x6cc)][_0x490274(0x185)],{'localId':this[_0x490274(0x941)][_0x490274(0x3d8)][_0x490274(0x970)](),'remoteId':_0x2d6fb8});}const _0x281ede=new _0x2bbaa3(this[_0x490274(0x941)][_0x490274(0x5b6)],this[_0x490274(0x941)][_0x490274(0x3d8)],_0x2d6fb8,this[_0x490274(0x4ec)],_0xedb488,this[_0x490274(0x4db)]['maxFps'],this[_0x490274(0x4db)][_0x490274(0x83a)],this[_0x490274(0x4db)][_0x490274(0x1ff)]);this['connections'][_0x490274(0xb1)](_0x2d6fb8,_0x281ede),this['connectionGroup'][_0x490274(0x7a6)](_0x281ede),this['configs'][_0x490274(0xd8)][_0x490274(0x8fd)](_0x281ede),this[_0x490274(0x941)][_0x490274(0xd8)]['registerRemoteNode'](_0x2d6fb8),await _0x281ede[_0x490274(0x79d)]();}['getConnectionGroup'](){return this['connectionGroup'];}['getConnection'](_0x310ddb){const _0x1df212=_0x4d79c3;if(!this[_0x1df212(0xa37)]['has'](_0x310ddb))throw new _0x25257a(_0x25257a[_0x1df212(0x6cc)][_0x1df212(0x860)],{'localId':this[_0x1df212(0x941)][_0x1df212(0x3d8)][_0x1df212(0x970)](),'remoteId':_0x310ddb});return this['connections'][_0x1df212(0x2d3)](_0x310ddb);}[_0x4d79c3(0x852)](_0x571a45){const _0x57477c=_0x4d79c3,_0x44012b=Array[_0x57477c(0x46f)](this[_0x57477c(0xa37)][_0x57477c(0x3c7)]());return _0x571a45?_0x44012b[_0x57477c(0x70d)](_0x571a45):_0x44012b;}async[_0x4d79c3(0x4c0)](_0x4607b7){const _0x152000=_0x4d79c3,_0x46f615=this[_0x152000(0xa37)][_0x152000(0x2d3)](_0x4607b7);_0x46f615&&_0x46f615['isConnected']()&&await _0x46f615[_0x152000(0x4c0)]();}[_0x4d79c3(0x7f8)](_0x59566e){const _0x3e161c=_0x4d79c3;if(_0x59566e[_0x3e161c(0x12e)]!==_0x15b885[_0x3e161c(0x2bf)]||_0x59566e[_0x3e161c(0x8b)])try{this[_0x3e161c(0x9b1)]['send'](_0x59566e);}catch(_0x2d3937){if(_0x2d3937 instanceof _0x4b3c50)return;throw _0x2d3937;}else this[_0x3e161c(0x9d7)][_0x3e161c(0x987)](_0x59566e);}async[_0x4d79c3(0xa0c)](_0x20cf9a){const _0x52adf7=_0x4d79c3;switch(_0x20cf9a[_0x52adf7(0x898)][_0x52adf7(0x572)]){case _0x4663c4[_0x52adf7(0x457)]:case _0x4663c4[_0x52adf7(0x106)]:case _0x4663c4['OptimizationConnectionSuccess']:return;}if(!_0x20cf9a[_0x52adf7(0x244)]||0x1!==_0x20cf9a['destinationIds'][_0x52adf7(0x4bf)])throw new _0x25257a(_0x25257a[_0x52adf7(0x6cc)]['PeerConnectionInvalidDestination'],{'message':_0x52adf7(0x961),'event':_0x20cf9a});if(_0x20cf9a[_0x52adf7(0x244)][0x0]!==this[_0x52adf7(0x941)][_0x52adf7(0x3d8)][_0x52adf7(0x970)]())throw new _0x25257a(_0x25257a[_0x52adf7(0x6cc)][_0x52adf7(0x3ee)],{'message':_0x52adf7(0x6d5),'event':_0x20cf9a});if(!this['connections'][_0x52adf7(0x85)](_0x20cf9a[_0x52adf7(0x19b)])){let _0x583a2b=_0x3b5aa5['Core'];if(!(this['isOffer'](_0x20cf9a[_0x52adf7(0x898)])||this[_0x52adf7(0x204)](_0x20cf9a[_0x52adf7(0x898)])||this[_0x52adf7(0x75b)](_0x20cf9a['content'])))return;_0x583a2b=_0x20cf9a['content'][_0x52adf7(0x797)],await this['createConnection'](_0x20cf9a[_0x52adf7(0x19b)],_0x583a2b);}const _0x4f5ed2=this[_0x52adf7(0xa37)][_0x52adf7(0x2d3)](_0x20cf9a['sourceId']);await _0x4f5ed2[_0x52adf7(0xa0c)](_0x20cf9a);}[_0x4d79c3(0x156)](_0x375cca){const _0x504f45=_0x4d79c3;if(_0x375cca[_0x504f45(0x898)][_0x504f45(0x572)]===_0x2ef74f['Remediation']){if(_0x375cca[_0x504f45(0x898)][_0x504f45(0x963)]===this[_0x504f45(0x941)][_0x504f45(0x3d8)][_0x504f45(0x970)]())return void this[_0x504f45(0xa37)][_0x504f45(0x571)](_0x3f4059=>_0x3f4059[_0x504f45(0x156)](_0x375cca));this[_0x504f45(0xa37)]['get'](_0x375cca[_0x504f45(0x898)][_0x504f45(0x963)])?.[_0x504f45(0x156)](_0x375cca);}}[_0x4d79c3(0x44a)]({content:_0x15d228}){const _0x402feb=_0x4d79c3;_0x15d228[_0x402feb(0x572)]===_0x37cca2[_0x402feb(0x4a4)]&&this['closeConnection'](_0x15d228['id']);}[_0x4d79c3(0x550)](){const _0x16a456=_0x4d79c3,_0xa05c7f=Array['from'](this['connections']['values']())['reduce']((_0x122b20,_0x4fe6c3)=>_0x122b20+_0x4fe6c3[_0x16a456(0x654)](),0x0);return _0xa05c7f<_0x584039?Promise[_0x16a456(0x5e8)](_0xa05c7f):new Promise(_0x2f9077=>{const _0x1242f7=setInterval(()=>{const _0x2c36b7=a0_0x50a3,_0x3d2910=Array[_0x2c36b7(0x46f)](this['connections'][_0x2c36b7(0x3c7)]())['reduce']((_0x594095,_0xdd6fe8)=>_0x594095+_0xdd6fe8['calculateArrayBufferSize'](),0x0);_0x3d2910<_0x584039&&(clearInterval(_0x1242f7),_0x2f9077(_0x3d2910));},0x3e8);});}['hasBufferedData'](){const _0x23888a=_0x4d79c3;for(const _0x46c731 of this[_0x23888a(0xa37)][_0x23888a(0x3c7)]())if(_0x46c731[_0x23888a(0xa5a)]()>0x0||_0x46c731[_0x23888a(0x654)]()>0x0)return!0x0;return!0x1;}[_0x4d79c3(0x9bb)](_0x26652b){const _0x4bb520=_0x4d79c3,_0x185336=this[_0x4bb520(0xa37)]['get'](_0x26652b);_0x185336&&(this[_0x4bb520(0x941)][_0x4bb520(0xd8)][_0x4bb520(0x1e6)](_0x26652b),this[_0x4bb520(0x941)][_0x4bb520(0xd8)][_0x4bb520(0x7a2)](_0x185336),_0x185336 instanceof _0x2bbaa3&&this[_0x4bb520(0x9b1)][_0x4bb520(0x37d)](_0x185336),_0x185336[_0x4bb520(0x8f0)](),this[_0x4bb520(0xa37)][_0x4bb520(0x86a)](_0x26652b));}[_0x4d79c3(0x9d9)](_0x58b1d3){const _0x462187=_0x4d79c3;return _0x58b1d3[_0x462187(0x572)]===_0x4663c4[_0x462187(0x424)];}[_0x4d79c3(0x75b)](_0x40abee){const _0x3eba4b=_0x4d79c3;return _0x40abee[_0x3eba4b(0x572)]===_0x4663c4[_0x3eba4b(0x59f)];}[_0x4d79c3(0x204)](_0x460f3b){const _0x5299c8=_0x4d79c3;return _0x460f3b[_0x5299c8(0x572)]===_0x4663c4[_0x5299c8(0x6e8)];}}!function(_0x259f33){const _0x83246c=_0x4d79c3;_0x259f33[_0x259f33[_0x83246c(0x29b)]=0x0]=_0x83246c(0x29b),_0x259f33[_0x259f33['UpdateMediaStream']=0x1]=_0x83246c(0x477),_0x259f33[_0x259f33['UnsubscribeMediaStream']=0x2]=_0x83246c(0x829),_0x259f33[_0x259f33[_0x83246c(0x443)]=0x3]=_0x83246c(0x443),_0x259f33[_0x259f33[_0x83246c(0x8d8)]=0x4]=_0x83246c(0x8d8),_0x259f33[_0x259f33[_0x83246c(0x17b)]=0x5]=_0x83246c(0x17b),_0x259f33[_0x259f33[_0x83246c(0xa43)]=0x6]='CannotProvideMediaStream',_0x259f33[_0x259f33[_0x83246c(0x2e4)]=0x7]=_0x83246c(0x2e4);}(_0x4cf11e||(_0x4cf11e={}));class _0x5a896d extends _0x4eb90d{[_0x4d79c3(0x3d8)];[_0x4d79c3(0x5b6)];[_0x4d79c3(0x5eb)];[_0x4d79c3(0xc6)];[_0x4d79c3(0x806)];[_0x4d79c3(0x302)]=0x0;[_0x4d79c3(0x94d)];['eventListener']=_0x1eb396();['listenerUnsubscribers']=new Map();[_0x4d79c3(0xaa9)];constructor(_0x15e3c8,_0x38fe20,_0x3cfa3c,_0x2e12bb,_0xf993f4){const _0xca6ec1=_0x4d79c3;if(_0xca6ec1(0x2ae)!=typeof _0x38fe20)throw new _0x322bb6(_0x4b1e43[_0xca6ec1(0xa66)],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x15e3c8,_0x38fe20),this[_0xca6ec1(0x3d8)]=_0x15e3c8,this['clusterId']=_0x3cfa3c,this['vendorId']=_0x2e12bb,this['connectorConstructor']=_0xf993f4,this['sendStats']();}[_0x4d79c3(0x7b4)](){const _0x44431f=_0x4d79c3;this[_0x44431f(0xaa9)]?.(),this[_0x44431f(0x4cb)][_0x44431f(0x571)](_0x2b5be9=>_0x2b5be9()),clearTimeout(this[_0x44431f(0x806)]),delete this[_0x44431f(0x806)],super[_0x44431f(0x7b4)]();}[_0x4d79c3(0x31d)](){this['sendStats']();}[_0x4d79c3(0x8f0)](){const _0x11342b=_0x4d79c3;this[_0x11342b(0x3fb)][_0x11342b(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5[_0x11342b(0x5f5)],'label':this[_0x11342b(0x9d4)]}});}['getContentType'](){const _0xe93322=_0x4d79c3;return _0xf8ccf2[_0xe93322(0x3fc)][_0xe93322(0x847)];}async['get'](_0x37d3e2){const _0x3aa5d3=_0x4d79c3;if(!this[_0x3aa5d3(0x94d)])throw new _0x322bb6(_0x4b1e43[_0x3aa5d3(0x3b6)],_0x3aa5d3(0x426));_0x10d8cb[_0x3aa5d3(0xa05)](_0x51804b[_0x3aa5d3(0x847)],{'type':_0x3aa5d3(0x2d3),'label':this[_0x3aa5d3(0x9d4)],'nodeId':this[_0x3aa5d3(0x3d8)][_0x3aa5d3(0x970)](),'nodeType':this[_0x3aa5d3(0x3d8)][_0x3aa5d3(0x572)],'clusterId':this['clusterId'],'path':_0x37d3e2}),this['reads']+=0x1,this[_0x3aa5d3(0x5f9)]();try{return await this['connector']['get'](_0x37d3e2);}catch(_0x11eab5){throw new _0x322bb6(_0x4b1e43['ExternalStorageInvalidPath'],_0x3aa5d3(0x2d4)+_0x37d3e2);}}async[_0x4d79c3(0x119)](_0x5791ea,_0x1ce306){const _0x33482a=_0x4d79c3;if(!this['connector'])throw new _0x322bb6(_0x4b1e43[_0x33482a(0x3b6)],_0x33482a(0x626));const {recursive:_0x3e7d2d=!0x1}=_0x1ce306??{};_0x10d8cb['logServiceEvent'](_0x51804b[_0x33482a(0x847)],{'type':_0x33482a(0x119),'label':this[_0x33482a(0x9d4)],'nodeId':this[_0x33482a(0x3d8)]['getId'](),'nodeType':this[_0x33482a(0x3d8)]['type'],'clusterId':this[_0x33482a(0x5b6)],'path':_0x5791ea}),this[_0x33482a(0x302)]+=0x1,this[_0x33482a(0x5f9)]();try{return await this[_0x33482a(0x94d)][_0x33482a(0x119)](_0x5791ea,_0x3e7d2d);}catch(_0x4d779a){throw new _0x322bb6(_0x4b1e43[_0x33482a(0x92f)],_0x33482a(0x55c)+_0x5791ea);}}[_0x4d79c3(0x2a1)](_0x572113,_0x2e1cc4){const _0x32c924=_0x4d79c3;if(this['listenerUnsubscribers'][_0x32c924(0x85)](_0x572113))throw new _0x322bb6(_0x4b1e43[_0x32c924(0x2f5)],_0x32c924(0x562));this[_0x32c924(0x4cb)]['set'](_0x572113,this[_0x32c924(0x4d3)]['subscribe'](_0x2e1cc4));}[_0x4d79c3(0x5fc)](_0x7af26d){const _0x1e7c62=_0x4d79c3;this['listenerUnsubscribers']['get'](_0x7af26d)?.(),this[_0x1e7c62(0x4cb)][_0x1e7c62(0x86a)](_0x7af26d);}async[_0x4d79c3(0x56c)](){const _0xa63785=_0x4d79c3,_0x320186=(await(0x0,_0x194189[_0xa63785(0x734)])((0x0,_0x194189[_0xa63785(0x31a)])(_0x46a54c[_0xa63785(0x225)](),'/developers/'+this['vendorId']+'/resources/external-storage/items/'+this[_0xa63785(0x9d4)])))[_0xa63785(0x8da)]();if(!_0x320186)throw new _0x322bb6(_0x4b1e43[_0xa63785(0x3df)],_0xa63785(0x369)+this['label']);const {site:_0x1264f2,drive:_0x387b39}=_0x320186,_0x3768d0=(await(0x0,_0x1165cd[_0xa63785(0x2c0)])(_0x46a54c[_0xa63785(0x890)](),_0xa63785(0x752))({'storageId':this['label']}))['data'][_0xa63785(0x43c)];this[_0xa63785(0x94d)]=new this['connectorConstructor'](_0x1264f2['id'],_0x387b39['id'],_0x3768d0,async()=>(await(0x0,_0x1165cd[_0xa63785(0x2c0)])(_0x46a54c[_0xa63785(0x890)](),_0xa63785(0x158))({'storageId':this['label']}))[_0xa63785(0x8da)][_0xa63785(0x43c)]),this[_0xa63785(0x2d6)]();}[_0x4d79c3(0x5f9)](){const _0x680360=_0x4d79c3;this['debounceStats']&&clearTimeout(this[_0x680360(0x806)]),this[_0x680360(0x806)]=setTimeout(async()=>{const _0x7ddbd=_0x680360;delete this['debounceStats'],this['systemTopic'][_0x7ddbd(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x7ddbd(0x2ca)],'content':{'type':_0x4fa1d5[_0x7ddbd(0x227)],'label':this[_0x7ddbd(0x9d4)],'stats':{'timestamp':Date[_0x7ddbd(0x2a6)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x7ddbd(0x302)],'prompts':0x0,'tokens':0x0}}});},_0x5e33e5);}async[_0x4d79c3(0x2d6)](){const _0x481c65=_0x4d79c3;await this[_0x481c65(0x94d)]?.['listChanges'](),this[_0x481c65(0xaa9)]=_0x53a877[_0x481c65(0xa6c)](async()=>{const _0x2b0cf2=_0x481c65;try{if(!this['connector'])return;const _0x1aeb88=await this[_0x2b0cf2(0x94d)][_0x2b0cf2(0x403)]();for(const _0x2f96ec of _0x1aeb88)this['eventListener'][_0x2b0cf2(0x758)](_0x2f96ec);}catch(_0x3c3c75){}},0x493e0);}}const _0x252efe=require('rxjs');class _0x510e07 extends _0x4eb90d{['graphService'];['jobs']=new Map();[_0x4d79c3(0x3d4)]=new Map();[_0x4d79c3(0x844)]=new Map();[_0x4d79c3(0x5ff)];constructor(_0x51d998,_0x218fbf,_0x3b9428){super(_0x51d998,_0x218fbf),this['graphService']=_0x3b9428;}[_0x4d79c3(0x2c5)](){const _0xd5c86e=_0x4d79c3;return _0xf8ccf2[_0xd5c86e(0x3fc)][_0xd5c86e(0x118)];}[_0x4d79c3(0x56c)](){const _0x18f8fe=_0x4d79c3;this[_0x18f8fe(0x5ff)]=this[_0x18f8fe(0x454)]((_0x20caee,_0x56f24d)=>{const _0x557cc2=_0x18f8fe;if(_0x10d8cb[_0x557cc2(0x3bc)](_0x44f26b[_0x557cc2(0x7f1)],_0x557cc2(0x110),_0x20caee,_0x56f24d,this['graphService'][_0x557cc2(0x58d)]()),!(_0x56f24d instanceof File)){if(!_0x56f24d)throw new _0x25257a(_0x25257a[_0x557cc2(0x6cc)]['JobDispatcherInvalidPayload']);return this[_0x557cc2(0x6a0)](_0x56f24d)?this[_0x557cc2(0x8f3)](_0x20caee,_0x56f24d['id'],_0x56f24d):this[_0x557cc2(0x8b7)](_0x56f24d)?(_0x10d8cb[_0x557cc2(0x3bc)](_0x44f26b[_0x557cc2(0x7f1)],_0x557cc2(0xf2)+_0x56f24d['id']+_0x557cc2(0xa21),_0x56f24d[_0x557cc2(0x574)]),void this['evaluatePartialJob'](_0x56f24d['id'],_0x56f24d)):this['isResultResponse'](_0x56f24d)?(_0x10d8cb['log'](_0x44f26b['Jobs'],_0x557cc2(0xf2)+_0x56f24d['id']+_0x557cc2(0x944),_0x56f24d[_0x557cc2(0x574)]),void this[_0x557cc2(0x7df)](_0x56f24d['id'],_0x56f24d)):void(this[_0x557cc2(0x7bf)](_0x56f24d)&&this[_0x557cc2(0x93)](_0x56f24d['id'],_0x56f24d['message']));}});}[_0x4d79c3(0x31d)](){const _0x17e412=_0x4d79c3;this[_0x17e412(0x2cb)](),this['open']();}[_0x4d79c3(0x7b4)](){const _0x4f2ecf=_0x4d79c3;this['clear'](),super[_0x4f2ecf(0x7b4)]();}[_0x4d79c3(0x2cb)](){const _0x2530cd=_0x4d79c3;this[_0x2530cd(0x8ec)][_0x2530cd(0x2cb)](),this['unsubscribeHandler']&&this[_0x2530cd(0x5ff)]();}['close'](){const _0x4862ce=_0x4d79c3;this[_0x4862ce(0x3fb)]?.[_0x4862ce(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x4862ce(0x2ca)],'content':{'type':_0x4fa1d5[_0x4862ce(0x86c)],'label':this[_0x4862ce(0x9d4)]}});}async[_0x4d79c3(0x154)](_0xab5aa9){const _0x384bcb=_0x4d79c3,{id:_0x555891,parameters:_0x488da9,jobType:_0x57480d}=_0xab5aa9,_0xc95da8={'id':_0x555891,'jobType':_0x57480d,'parameters':_0x488da9,'status':_0xf8ccf2[_0x384bcb(0x6e)][_0x384bcb(0x97)],'created':new Date(),'updated':new Date()};if(this[_0x384bcb(0x8ec)][_0x384bcb(0x85)](_0xc95da8['id']))throw new _0x322bb6(_0x4b1e43['JobDispatcherJobExists'],_0x384bcb(0x20c)+_0xc95da8['id']+_0x384bcb(0x948));_0xc95da8[_0x384bcb(0x69c)]=new Date(),_0xc95da8[_0x384bcb(0x9b7)]=new Date();const _0x58a9d3=new _0x252efe[(_0x384bcb(0x46a))]();this[_0x384bcb(0x8ec)][_0x384bcb(0xb1)](_0xc95da8['id'],_0xc95da8),this['jobObservers'][_0x384bcb(0xb1)](_0xc95da8['id'],_0x58a9d3);try{const _0x364817={'id':_0xc95da8['id'],'jobPhase':_0x40167b[_0x384bcb(0x9eb)],'jobType':_0xc95da8[_0x384bcb(0x863)]},_0xc63efa=0x3;let _0x15ad36=0x0;const _0x5b92ce=async()=>{const _0x53863b=_0x384bcb;_0x15ad36+=0x1;try{_0x10d8cb[_0x53863b(0x3bc)](_0x44f26b[_0x53863b(0x7f1)],'Job\x20'+_0xc95da8['id']+'\x20sending\x20attempt\x20'+_0x15ad36+'.',this['graphService'][_0x53863b(0x58d)]()),await this[_0x53863b(0x987)](_0x364817),_0xc95da8['updated']=new Date(),this[_0x53863b(0x8ec)]['set'](_0xc95da8['id'],_0xc95da8),this[_0x53863b(0x5ce)](_0xc95da8['id']);}catch(_0xa1150a){_0x15ad36<_0xc63efa?(_0x10d8cb['warning'](_0x53863b(0xa57)+_0x15ad36+_0x53863b(0x492)+_0xc95da8['id']+_0x53863b(0x52a),{'nodeId':this['owner'][_0x53863b(0x970)](),'nodeType':this[_0x53863b(0x879)][_0x53863b(0x572)],'data':{'job':_0xc95da8,'attempts':_0x15ad36,'maxRetries':_0xc63efa}}),setTimeout(_0x5b92ce,0x3e8)):(_0xc95da8[_0x53863b(0x4fd)]=_0xf8ccf2[_0x53863b(0x6e)][_0x53863b(0xa1f)],_0xc95da8['updated']=new Date(),this['jobs'][_0x53863b(0xb1)](_0xc95da8['id'],_0xc95da8),_0x10d8cb['error'](_0x53863b(0x989)+_0xc95da8['id']+_0x53863b(0x649)+_0xc63efa+_0x53863b(0x536),{'nodeId':this[_0x53863b(0x879)][_0x53863b(0x970)](),'nodeType':this[_0x53863b(0x879)]['type'],'data':{'job':_0xc95da8,'attempts':_0x15ad36,'maxRetries':_0xc63efa,'error':_0xa1150a}}));}};_0x5b92ce();const {id:_0x5ed949}=_0xc95da8;this[_0x384bcb(0x9f7)]('Job\x20'+_0xc95da8['id']+_0x384bcb(0x889),{'jobId':_0x5ed949}),_0xc95da8['updated']=new Date();}catch(_0x570a2a){_0xc95da8[_0x384bcb(0x4fd)]=_0xf8ccf2[_0x384bcb(0x6e)][_0x384bcb(0xa1f)],_0x10d8cb[_0x384bcb(0x23a)]('Failed\x20to\x20send\x20job\x20'+_0xc95da8['id']+':',{'nodeId':this['owner'][_0x384bcb(0x970)](),'nodeType':this[_0x384bcb(0x879)][_0x384bcb(0x572)],'data':{'job':_0xc95da8,'error':_0x570a2a}});}return _0x58a9d3[_0x384bcb(0x6e3)]();}[_0x4d79c3(0x248)](_0x3ae1bd){const _0x23813d=_0x4d79c3,_0x150599=this[_0x23813d(0x8ec)]['get'](_0x3ae1bd);if(!_0x150599)throw new _0x322bb6(_0x4b1e43[_0x23813d(0x49b)],_0x23813d(0x20c)+_0x3ae1bd+'\x20not\x20found.');return{'id':_0x150599['id'],'jobType':_0x150599[_0x23813d(0x863)],'status':_0x150599['status'],'parameters':_0x150599[_0x23813d(0x6c6)]};}['getJobs'](){const _0x52be47=_0x4d79c3;return Array[_0x52be47(0x46f)](this[_0x52be47(0x8ec)][_0x52be47(0x3c7)]())[_0x52be47(0x384)](_0x53ce28=>this[_0x52be47(0x248)](_0x53ce28['id']));}async[_0x4d79c3(0x44b)](_0x588b81,_0x36b7d2){const _0x395611=_0x4d79c3,_0x249a9c=this['jobs'][_0x395611(0x2d3)](_0x588b81);if(!_0x249a9c)throw new _0x322bb6(_0x4b1e43['JobDispatcherJobNotFound'],_0x395611(0x20c)+_0x588b81+'\x20not\x20found.');_0x249a9c['parameters']=_0x36b7d2,_0x249a9c[_0x395611(0x9b7)]=new Date(),this['jobs'][_0x395611(0xb1)](_0x588b81,_0x249a9c);}async[_0x4d79c3(0x7ac)](_0xce325f){const _0x371717=_0x4d79c3;if(!this[_0x371717(0x8ec)][_0x371717(0x86a)](_0xce325f))throw new _0x322bb6(_0x4b1e43[_0x371717(0x49b)],_0x371717(0x20c)+_0xce325f+_0x371717(0x434));const _0x300d4d=this[_0x371717(0x3d4)]['get'](_0xce325f);if(!_0x300d4d)throw new _0x25257a(_0x25257a['codes'][_0x371717(0xc2)]);_0x300d4d['complete'](),this[_0x371717(0x3d4)][_0x371717(0x86a)](_0xce325f),_0x10d8cb[_0x371717(0x3bc)](_0x44f26b['Jobs'],_0x371717(0xf2)+_0xce325f+'\x20deleted.');}[_0x4d79c3(0x8f3)](_0x4da9cc,_0x3ceb24,_0x5b2e8e){const _0x4ac9de=_0x4d79c3,_0x2e81dc=this[_0x4ac9de(0x844)]['get'](_0x3ceb24)??new Map();_0x2e81dc[_0x4ac9de(0xb1)](_0x4da9cc,[_0x5b2e8e,Date[_0x4ac9de(0x2a6)]()]),this[_0x4ac9de(0x844)][_0x4ac9de(0xb1)](_0x3ceb24,_0x2e81dc),this[_0x4ac9de(0x4b6)](_0x3ceb24);}[_0x4d79c3(0x5ce)](_0x1c1e6e){const _0x215e88=_0x4d79c3,_0x107ebd=this[_0x215e88(0x8ec)][_0x215e88(0x2d3)](_0x1c1e6e);if(!_0x107ebd)throw new _0x25257a(_0x25257a[_0x215e88(0x6cc)][_0x215e88(0x49b)]);const _0x305b28=setTimeout(()=>this[_0x215e88(0x4b6)](_0x1c1e6e,!0x0),0xbb8);_0x107ebd[_0x215e88(0x94e)]=_0x305b28,this[_0x215e88(0x8ec)][_0x215e88(0xb1)](_0x107ebd['id'],_0x107ebd);}[_0x4d79c3(0x4b6)](_0x263cf4,_0x1e0727=!0x1){const _0x1bef87=_0x4d79c3,_0x5e47d5=this[_0x1bef87(0x3c0)][_0x1bef87(0x58d)](),_0x1061cc=Array['from'](_0x5e47d5[_0x1bef87(0x3c7)]())[_0x1bef87(0x70d)](_0x2374fd=>_0x2374fd['type']===_0xf8ccf2[_0x1bef87(0x47f)][_0x1bef87(0x6ab)]),_0x4fa856=this[_0x1bef87(0x844)][_0x1bef87(0x2d3)](_0x263cf4)??new Map();if(!_0x1e0727&&(!_0x4fa856||_0x4fa856[_0x1bef87(0x517)]<_0x1061cc[_0x1bef87(0x4bf)]))return;const _0x226fe2=this['jobs']['get'](_0x263cf4);if(!_0x226fe2)throw new _0x25257a(_0x25257a[_0x1bef87(0x6cc)]['JobDispatcherJobNotFound']);if(clearTimeout(_0x226fe2[_0x1bef87(0x94e)]),_0x10d8cb[_0x1bef87(0x3bc)](_0x44f26b[_0x1bef87(0x7f1)],_0x1bef87(0xf2)+_0x226fe2['id']+'\x20received\x20responses:',_0x4fa856,this[_0x1bef87(0x844)]),!_0x4fa856||0x0===_0x4fa856[_0x1bef87(0x517)]){_0x226fe2['status']=_0xf8ccf2[_0x1bef87(0x6e)][_0x1bef87(0xa1f)],_0x226fe2[_0x1bef87(0x9b7)]=new Date(),_0x10d8cb[_0x1bef87(0x23a)](_0x1bef87(0xf2)+_0x226fe2['id']+_0x1bef87(0x442),{'nodeId':this[_0x1bef87(0x879)]['getId'](),'nodeType':this[_0x1bef87(0x879)][_0x1bef87(0x572)],'data':{'job':_0x226fe2,'responses':_0x4fa856}});const _0x4c006c=this[_0x1bef87(0x3d4)]['get'](_0x263cf4);if(!_0x4c006c)throw new _0x25257a(_0x25257a[_0x1bef87(0x6cc)][_0x1bef87(0xc2)]);const _0x2c01c3=_0x1bef87(0x2fc),_0x16c752={'id':_0x226fe2['id'],'status':_0x226fe2['status'],'message':_0x2c01c3};return _0x4c006c[_0x1bef87(0x38d)](_0x16c752),_0x4c006c[_0x1bef87(0x337)](),this[_0x1bef87(0x8ec)]['set'](_0x226fe2['id'],_0x226fe2),void this[_0x1bef87(0x844)][_0x1bef87(0x86a)](_0x263cf4);}const {nodeId:_0x16d321,response:_0x268aa1}=this[_0x1bef87(0x9e6)](_0x226fe2['id'],_0x4fa856);_0x226fe2[_0x1bef87(0x4fd)]=_0xf8ccf2[_0x1bef87(0x6e)][_0x1bef87(0x66d)],_0x226fe2['updated']=new Date(),_0x10d8cb[_0x1bef87(0x3bc)](_0x44f26b[_0x1bef87(0x7f1)],_0x1bef87(0xf2)+_0x226fe2['id']+_0x1bef87(0x7f5)+_0x16d321+_0x1bef87(0x79),_0x268aa1);const _0x1818ff={'id':_0x226fe2['id'],'jobType':_0x226fe2[_0x1bef87(0x863)],'jobPhase':_0x40167b[_0x1bef87(0x48a)],'parameters':_0x226fe2[_0x1bef87(0x6c6)]};this['send'](_0x1818ff,[_0x16d321]),this[_0x1bef87(0x8ec)][_0x1bef87(0xb1)](_0x226fe2['id'],_0x226fe2),this[_0x1bef87(0x844)][_0x1bef87(0x86a)](_0x263cf4);}['evaluateBids'](_0x229947,_0x32445e){const _0x32262b=_0x4d79c3;let _0x388ce7;const _0x14709f=Array[_0x32262b(0x46f)](_0x32445e[_0x32262b(0xa9a)]())['filter'](([,[_0x5b5275]])=>_0x5b5275['available']);if(_0x388ce7=_0x14709f[_0x32262b(0x4bf)]>0x0?Array[_0x32262b(0x46f)](_0x32445e[_0x32262b(0xa9a)]())[_0x32262b(0x694)]((_0x2acdb1,_0x3e49ab)=>_0x3e49ab[0x1][0x0]['bid']-_0x2acdb1[0x1][0x0]['bid']):Array['from'](_0x32445e[_0x32262b(0xa9a)]())['sort']((_0xbac02d,_0x3fde42)=>_0xbac02d[0x1][0x0][_0x32262b(0x155)]-_0x3fde42[0x1][0x0]['queueLength']),0x1===_0x388ce7[_0x32262b(0x4bf)])return{'nodeId':_0x388ce7[0x0][0x0],'response':_0x388ce7[0x0][0x1][0x0]};let _0x48d84e;if(_0x48d84e=_0x14709f[_0x32262b(0x4bf)]>0x0?(_0x13ff6e=>{const _0x56ebb9=_0x13ff6e[0x0][0x1][0x0]['bid'];return _0x13ff6e['filter'](([,[_0x9f74e2]])=>_0x9f74e2['bid']===_0x56ebb9);})(_0x388ce7):(_0x4fcfad=>{const _0x5d99fd=_0x32262b,_0x2eda51=_0x4fcfad[0x0][0x1][0x0][_0x5d99fd(0x155)];return _0x4fcfad[_0x5d99fd(0x70d)](([,[_0x20d056]])=>_0x20d056[_0x5d99fd(0x155)]===_0x2eda51);})(_0x388ce7),0x1===_0x48d84e['length'])return{'nodeId':_0x48d84e[0x0][0x0],'response':_0x48d84e[0x0][0x1][0x0]};const _0x42d70d=this[_0x32262b(0x8ec)][_0x32262b(0x2d3)](_0x229947);if(!_0x42d70d)throw new _0x25257a(_0x25257a[_0x32262b(0x6cc)][_0x32262b(0x49b)]);const _0x5ba359=_0x42d70d[_0x32262b(0x69c)][_0x32262b(0x819)](),_0x4a91bc=_0x48d84e[_0x32262b(0x384)](([_0x484c8d,[,_0x27db4d]])=>({'nodeId':_0x484c8d,'rtt':_0x27db4d-_0x5ba359})),_0x981a78=Math[_0x32262b(0x103)](..._0x4a91bc[_0x32262b(0x384)](({rtt:_0x167e6c})=>_0x167e6c)),_0x1aa65a=_0x4a91bc['find'](({rtt:_0x18b33b})=>_0x18b33b===_0x981a78),[,[_0xe7ed21]]=_0x48d84e['find'](([_0x3b5a6c])=>_0x3b5a6c===_0x1aa65a[_0x32262b(0x55b)]);return{'nodeId':_0x1aa65a['nodeId'],'response':_0xe7ed21};}[_0x4d79c3(0xab3)](_0x358eeb,_0xd377e4){const _0x3b4523=_0x4d79c3,_0x343db3=this[_0x3b4523(0x8ec)][_0x3b4523(0x2d3)](_0x358eeb);if(!_0x343db3)throw new _0x25257a(_0x25257a[_0x3b4523(0x6cc)][_0x3b4523(0x49b)]);const _0xc61926=this['jobObservers']['get'](_0x358eeb);if(!_0xc61926)throw new _0x25257a(_0x25257a[_0x3b4523(0x6cc)][_0x3b4523(0xc2)]);const _0x102d5f={'id':_0x343db3['id'],'status':_0xf8ccf2[_0x3b4523(0x6e)][_0x3b4523(0x9f0)],'result':_0xd377e4[_0x3b4523(0x574)]};_0xc61926[_0x3b4523(0x38d)](_0x102d5f);}[_0x4d79c3(0x7df)](_0xf11f95,_0x550810){const _0x4f726b=_0x4d79c3,_0x5832cc=this[_0x4f726b(0x8ec)][_0x4f726b(0x2d3)](_0xf11f95);if(!_0x5832cc)throw new _0x25257a(_0x25257a[_0x4f726b(0x6cc)][_0x4f726b(0x49b)]);const _0xbc0dc=this[_0x4f726b(0x3d4)]['get'](_0xf11f95);if(!_0xbc0dc)throw new _0x25257a(_0x25257a[_0x4f726b(0x6cc)][_0x4f726b(0xc2)]);_0x5832cc[_0x4f726b(0x4fd)]=_0xf8ccf2['JobStatus'][_0x4f726b(0x2a9)];const _0x53a66d={'id':_0x5832cc['id'],'status':_0x5832cc['status'],'result':_0x550810['result']};_0xbc0dc[_0x4f726b(0x38d)](_0x53a66d),_0xbc0dc[_0x4f726b(0x337)](),this[_0x4f726b(0x3d4)][_0x4f726b(0x86a)](_0xf11f95),this[_0x4f726b(0x9f7)](_0x4f726b(0xf2)+_0xf11f95+'\x20finalized.',{'jobId':_0xf11f95});}['failJob'](_0x927b86,_0x5a524f){const _0x473f3e=_0x4d79c3,_0x2f7495=this[_0x473f3e(0x8ec)][_0x473f3e(0x2d3)](_0x927b86);if(!_0x2f7495)throw new _0x25257a(_0x25257a[_0x473f3e(0x6cc)]['JobDispatcherJobNotFound']);const _0x3f24ca=this[_0x473f3e(0x3d4)][_0x473f3e(0x2d3)](_0x927b86);if(!_0x3f24ca)throw new _0x25257a(_0x25257a[_0x473f3e(0x6cc)][_0x473f3e(0xc2)]);_0x2f7495['status']=_0xf8ccf2[_0x473f3e(0x6e)][_0x473f3e(0xa1f)];const _0x52a2dd={'id':_0x2f7495['id'],'status':_0x2f7495['status'],'message':_0x5a524f};_0x3f24ca[_0x473f3e(0x38d)](_0x52a2dd),_0x3f24ca['complete'](),this[_0x473f3e(0x3d4)][_0x473f3e(0x86a)](_0x927b86),this[_0x473f3e(0x9f7)](_0x473f3e(0xf2)+_0x927b86+_0x473f3e(0x995),{'jobId':_0x927b86});}[_0x4d79c3(0x9f7)](_0x518a04,{jobId:_0x6e4f6}){const _0x275392=_0x4d79c3,_0x4ee0ec={'jobId':_0x6e4f6,'mistletIds':Array[_0x275392(0x46f)](this[_0x275392(0x3c0)][_0x275392(0x58d)]()['values']())[_0x275392(0x70d)](_0x28d037=>_0x28d037[_0x275392(0x572)]===_0xf8ccf2['NodeType'][_0x275392(0x6ab)])['map'](_0x56ca2a=>_0x56ca2a[_0x275392(0x970)]())};_0x10d8cb[_0x275392(0x9f7)](_0x518a04,{'nodeId':this[_0x275392(0x351)](),'nodeType':this['owner']['type'],'data':_0x4ee0ec}),_0x10d8cb[_0x275392(0x3bc)](_0x44f26b['Jobs'],_0x518a04,_0x4ee0ec);}[_0x4d79c3(0x6a0)](_0x53b34f){const _0x31db25=_0x4d79c3,{jobPhase:_0x2a7740,available:_0x3e5fc1,bid:_0x17ba80}=_0x53b34f;return _0x2a7740===_0x40167b[_0x31db25(0xa13)]&&void 0x0!==_0x3e5fc1&&void 0x0!==_0x17ba80;}['isPartialResultResponse'](_0x82f63){const {jobPhase:_0x32073a,result:_0x1a65b4}=_0x82f63;return _0x32073a===_0x40167b['PartialResult']&&void 0x0!==_0x1a65b4;}['isResultResponse'](_0x97c8cf){const _0x5b0979=_0x4d79c3,{jobPhase:_0x56a3f4,result:_0x13377f}=_0x97c8cf;return _0x56a3f4===_0x40167b[_0x5b0979(0x8a5)]&&void 0x0!==_0x13377f;}[_0x4d79c3(0x7bf)](_0x389146){const _0x5a75b1=_0x4d79c3,{jobPhase:_0x3adcb0,message:_0x43add3}=_0x389146;return _0x3adcb0===_0x40167b[_0x5a75b1(0xa1f)]&&void 0x0!==_0x43add3&&_0x5a75b1(0x2ae)==typeof _0x43add3;}}var _0x2126cf,_0x3e5dd5,_0x4acbf4,_0x57a86a,_0x5171d5;!function(_0x513720){const _0x4cf06c=_0x4d79c3;_0x513720[_0x4cf06c(0x422)]=_0x4cf06c(0x7c5),_0x513720[_0x4cf06c(0x847)]=_0x4cf06c(0x53f);}(_0x2126cf||(_0x2126cf={})),function(_0x1793bd){const _0x49c2db=_0x4d79c3;_0x1793bd['Agent']='agent',_0x1793bd[_0x49c2db(0x5d7)]=_0x49c2db(0x279),_0x1793bd[_0x49c2db(0x770)]=_0x49c2db(0x9a5),_0x1793bd[_0x49c2db(0x597)]=_0x49c2db(0x273),_0x1793bd['DataCollection']=_0x49c2db(0x8bd),_0x1793bd[_0x49c2db(0x603)]=_0x49c2db(0xfd),_0x1793bd[_0x49c2db(0x28c)]=_0x49c2db(0x5ac),_0x1793bd['Answer']=_0x49c2db(0x695),_0x1793bd[_0x49c2db(0x6a7)]=_0x49c2db(0x2ef),_0x1793bd['FormSkill']=_0x49c2db(0xa84),_0x1793bd[_0x49c2db(0x29f)]=_0x49c2db(0x8a7),_0x1793bd['AiSearch']=_0x49c2db(0x167),_0x1793bd[_0x49c2db(0x317)]='web-scraper',_0x1793bd['WebScraperRaw']=_0x49c2db(0x6b1),_0x1793bd[_0x49c2db(0x345)]=_0x49c2db(0x4e7),_0x1793bd[_0x49c2db(0x59b)]=_0x49c2db(0x1fd),_0x1793bd['ChunkSplitter']=_0x49c2db(0x372),_0x1793bd['SentenceSplitter']='sentence-splitter',_0x1793bd[_0x49c2db(0x4eb)]=_0x49c2db(0xc9),_0x1793bd[_0x49c2db(0x2f0)]=_0x49c2db(0x3ce),_0x1793bd[_0x49c2db(0x6e6)]=_0x49c2db(0x76),_0x1793bd[_0x49c2db(0x49d)]=_0x49c2db(0x109),_0x1793bd['OutputStream']=_0x49c2db(0x1c7),_0x1793bd[_0x49c2db(0x5aa)]=_0x49c2db(0xa3c);}(_0x3e5dd5||(_0x3e5dd5={})),function(_0x57afdf){const _0xf6fa07=_0x4d79c3;_0x57afdf[_0xf6fa07(0x238)]=_0xf6fa07(0x491),_0x57afdf[_0xf6fa07(0x4a8)]=_0xf6fa07(0x6c),_0x57afdf['DocumentParser']='document-parser',_0x57afdf[_0xf6fa07(0x385)]=_0xf6fa07(0x372),_0x57afdf[_0xf6fa07(0x4eb)]=_0xf6fa07(0xc9),_0x57afdf[_0xf6fa07(0x9df)]=_0xf6fa07(0x1d0),_0x57afdf[_0xf6fa07(0x3b5)]=_0xf6fa07(0x16e),_0x57afdf[_0xf6fa07(0x7c3)]=_0xf6fa07(0xa88),_0x57afdf[_0xf6fa07(0x91f)]=_0xf6fa07(0x2dd),_0x57afdf['Model']='model',_0x57afdf[_0xf6fa07(0x6ab)]=_0xf6fa07(0x652),_0x57afdf[_0xf6fa07(0xd0)]=_0xf6fa07(0x7c5),_0x57afdf[_0xf6fa07(0xaac)]='key-value-database',_0x57afdf['VectorDatabase']=_0xf6fa07(0x925),_0x57afdf[_0xf6fa07(0x7e0)]=_0xf6fa07(0x113),_0x57afdf[_0xf6fa07(0x28c)]=_0xf6fa07(0x5ac),_0x57afdf[_0xf6fa07(0x22b)]=_0xf6fa07(0x6b8),_0x57afdf[_0xf6fa07(0x77c)]=_0xf6fa07(0x57a),_0x57afdf[_0xf6fa07(0x4e8)]=_0xf6fa07(0x389);}(_0x4acbf4||(_0x4acbf4={})),function(_0x188003){const _0x6e10fc=_0x4d79c3;_0x188003[_0x6e10fc(0x3d5)]='file',_0x188003[_0x6e10fc(0x6e0)]=_0x6e10fc(0x7b9),_0x188003['Image']=_0x6e10fc(0x7ce),_0x188003['Audio']=_0x6e10fc(0x2f3),_0x188003[_0x6e10fc(0x500)]='data',_0x188003['Vector']='vector',_0x188003[_0x6e10fc(0x31b)]='entity',_0x188003[_0x6e10fc(0x13a)]=_0x6e10fc(0x3a3),_0x188003['Search']='search',_0x188003['Index']='index',_0x188003[_0x6e10fc(0x240)]=_0x6e10fc(0xa46),_0x188003[_0x6e10fc(0x22b)]='context',_0x188003[_0x6e10fc(0x15c)]=_0x6e10fc(0x316),_0x188003[_0x6e10fc(0x501)]=_0x6e10fc(0x718),_0x188003['WaitFalse']=_0x6e10fc(0x733);}(_0x57a86a||(_0x57a86a={})),function(_0x2f118f){const _0x548c87=_0x4d79c3;_0x2f118f[_0x548c87(0x386)]=_0x548c87(0x2c3),_0x2f118f[_0x548c87(0x6ce)]='account',_0x2f118f[_0x548c87(0x2d1)]=_0x548c87(0x676);}(_0x5171d5||(_0x5171d5={}));const _0x50dc75=[{'type':_0x3e5dd5[_0x4d79c3(0x770)],'id':_0x4d79c3(0xb6),'name':_0x4d79c3(0x380),'description':'Routes\x20messages\x20based\x20on\x20conditional\x20logic.','modelId':_0x4d79c3(0x3e2),'instructions':_0x4d79c3(0xd5),'grammar':'if_else','temperature':0x0,'maxTokens':0x64}],_0x419f77=[{'type':_0x3e5dd5[_0x4d79c3(0x6ab)],'id':_0x4d79c3(0x78f),'name':'Blank\x20Agent','description':'','modelId':_0x4d79c3(0x3e2),'instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5[_0x4d79c3(0x6ab)],'id':_0x4d79c3(0xa99),'name':'Generic\x20AI\x20Agent','description':'A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','modelId':_0x4d79c3(0x3e2),'instructions':_0x4d79c3(0x684),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5['Agent'],'id':_0x4d79c3(0x5c7),'name':_0x4d79c3(0x617),'description':_0x4d79c3(0x214),'modelId':'gpt-4.1-nano','instructions':'Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5[_0x4d79c3(0x6ab)],'id':'feedback-agent','name':'Feedback\x20Agent','description':_0x4d79c3(0x2e7),'modelId':'gpt-4.1-nano','instructions':'Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5[_0x4d79c3(0x6ab)],'id':_0x4d79c3(0x765),'name':'Learning\x20Agent','description':'Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','modelId':_0x4d79c3(0x3e2),'instructions':'Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5[_0x4d79c3(0x6ab)],'id':_0x4d79c3(0x12d),'name':'Query\x20Generator','description':_0x4d79c3(0x71),'modelId':_0x4d79c3(0x3e2),'instructions':'Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5['Agent'],'id':'competitive-agent','name':_0x4d79c3(0x524),'description':_0x4d79c3(0x964),'modelId':'gpt-4.1-nano','instructions':_0x4d79c3(0x130),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5[_0x4d79c3(0x6ab)],'id':'strategizing-agent','name':_0x4d79c3(0x6a8),'description':'Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','modelId':'gpt-4.1-nano','instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5[_0x4d79c3(0x6ab)],'id':'summary-generator','name':_0x4d79c3(0x9e1),'description':_0x4d79c3(0x510),'modelId':_0x4d79c3(0x3e2),'instructions':_0x4d79c3(0x287),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5['Agent'],'id':'archival-search','name':'Archival\x20Search\x20Agent','description':_0x4d79c3(0x547),'modelId':_0x4d79c3(0x3e2),'instructions':'Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5['Agent'],'id':_0x4d79c3(0x840),'name':_0x4d79c3(0x413),'description':'Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','modelId':_0x4d79c3(0x3e2),'instructions':'Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x3e5dd5[_0x4d79c3(0x6ab)],'id':_0x4d79c3(0x29d),'name':'Copywriter\x20Agent','description':_0x4d79c3(0x74d),'modelId':_0x4d79c3(0x3e2),'instructions':'Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x4d79c3(0x361),'name':_0x4d79c3(0x1da),'description':_0x4d79c3(0x97e),'modelId':_0x4d79c3(0x3e2),'instructions':'Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'interview-agent','name':_0x4d79c3(0x688),'description':'Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','modelId':_0x4d79c3(0x3e2),'instructions':_0x4d79c3(0x841),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x4d79c3(0x4df),'name':_0x4d79c3(0xa71),'description':'Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','modelId':'gpt-4.1-nano','instructions':_0x4d79c3(0x5d0),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x3c0a41{static [_0x4d79c3(0x73f)];constructor(){}static[_0x4d79c3(0x9bc)](){const _0x21b455=_0x4d79c3;return _0x3c0a41[_0x21b455(0x73f)]||(_0x3c0a41[_0x21b455(0x73f)]=new _0x3c0a41()),_0x3c0a41[_0x21b455(0x73f)];}async[_0x4d79c3(0x57c)](_0x448e1e,_0x1c80ba){const _0x24e1c8=_0x4d79c3,_0x2ee5c2=await(0x0,_0x194189['getDoc'])((0x0,_0x194189[_0x24e1c8(0x31a)])(_0x46a54c['getFirestore'](),_0x24e1c8(0x96f)+_0x448e1e+_0x24e1c8(0x594)+_0x1c80ba)),_0x431500=await this[_0x24e1c8(0x9b6)](_0x448e1e),_0x43ca87=await this[_0x24e1c8(0x9f1)](_0x448e1e),_0x2483f4=await this[_0x24e1c8(0x7c)](_0x448e1e);if(!_0x2ee5c2[_0x24e1c8(0x3f7)]())throw new _0x25257a(_0x25257a[_0x24e1c8(0x6cc)][_0x24e1c8(0x8e9)]);return this['parseWorkflowDocument'](_0x2ee5c2,_0x431500,_0x43ca87,_0x2483f4);}async[_0x4d79c3(0x7c)](_0x23cf48){const _0xc47b6f=_0x4d79c3;return(await(0x0,_0x194189['getDocs'])((0x0,_0x194189['collection'])(_0x46a54c[_0xc47b6f(0x225)](),_0xc47b6f(0x96f)+_0x23cf48+_0xc47b6f(0x578))))[_0xc47b6f(0x937)]['map'](_0x4cafd1=>{const _0x3b50f0=_0xc47b6f,_0x175d79=_0x4cafd1[_0x3b50f0(0x8da)]();return{'type':_0x3e5dd5[_0x3b50f0(0x853)],'id':_0x4cafd1['id'],'name':_0x175d79[_0x3b50f0(0x687)],'description':_0x175d79[_0x3b50f0(0x471)],'storageType':_0x175d79[_0x3b50f0(0x98)]??_0xf8ccf2[_0x3b50f0(0x6c3)][_0x3b50f0(0x5e4)],'hosting':_0x175d79[_0x3b50f0(0x661)]??_0x5171d5[_0x3b50f0(0x2d1)],'modelId':_0x175d79[_0x3b50f0(0x5c4)]??_0x3b50f0(0x79e),'ingestBlocks':_0x175d79[_0x3b50f0(0x70)],'retrieveBlocks':_0x175d79[_0x3b50f0(0x6b4)]};});}async[_0x4d79c3(0x78b)](_0x28c3c8,_0x74e2f6){const _0x33455a=_0x4d79c3,_0x1484d4=await(0x0,_0x194189['getDoc'])((0x0,_0x194189[_0x33455a(0x31a)])(_0x46a54c['getFirestore'](),_0x33455a(0x96f)+_0x28c3c8+_0x33455a(0xe1)+_0x74e2f6)),_0x5e3255=await this[_0x33455a(0x9b6)](_0x28c3c8),_0x23cf7f=_0x1484d4[_0x33455a(0x8da)]();if(!_0x23cf7f)throw new _0x25257a(_0x25257a[_0x33455a(0x6cc)]['DataCollectionDoesNotExist']);return{'type':_0x3e5dd5['DataCollection'],'id':_0x74e2f6,'uid':_0x74e2f6,'name':_0x23cf7f[_0x33455a(0x687)],'description':_0x23cf7f[_0x33455a(0x471)],'storageType':_0x23cf7f[_0x33455a(0x98)]??_0xf8ccf2[_0x33455a(0x6c3)][_0x33455a(0x5e4)],'hosting':_0x23cf7f[_0x33455a(0x661)]??_0x5171d5[_0x33455a(0x2d1)],'modelId':_0x23cf7f[_0x33455a(0x5c4)]??_0x33455a(0x79e),'ingestBlocks':this[_0x33455a(0xa81)](_0x23cf7f[_0x33455a(0x70)],_0x5e3255),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x23cf7f['retrieveBlocks'],_0x5e3255),'links':[]};}[_0x4d79c3(0x3a0)](_0x3bab46,_0x21fc05,_0x2366d4,_0x20ff0a){const _0x44e2c5=_0x4d79c3,_0x415613=_0x3bab46['data']();if(!_0x415613)throw new _0x25257a(_0x25257a[_0x44e2c5(0x6cc)][_0x44e2c5(0x8e9)]);const _0x4ef3d4=this['parseWorkflowBlocks'](_0x415613[_0x44e2c5(0x5b1)],_0x21fc05,_0x2366d4,_0x20ff0a);return{'id':_0x3bab46['id'],'name':_0x415613[_0x44e2c5(0x687)],'description':_0x415613[_0x44e2c5(0x471)],'blocks':_0x4ef3d4,'dataBucketIds':this[_0x44e2c5(0x914)](_0x4ef3d4),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x4ef3d4),'initialPrompt':_0x415613[_0x44e2c5(0x5f6)]};}[_0x4d79c3(0x914)](_0x190958){const _0x2a6645=_0x4d79c3,_0x25543d=new Set();for(const _0x3910b8 of _0x190958)switch(_0x3910b8['type']){case _0x3e5dd5[_0x2a6645(0x603)]:case _0x3e5dd5[_0x2a6645(0x853)]:for(const _0x3b67ef of[..._0x3910b8[_0x2a6645(0x70)],..._0x3910b8[_0x2a6645(0x6b4)]])_0x3b67ef['type']===_0x4acbf4['ObjectStorageUpload']&&_0x25543d[_0x2a6645(0x306)](_0x3b67ef['id']);}return Array[_0x2a6645(0x46f)](_0x25543d);}['getWorkflowExternalStorageConnections'](_0x181779){const _0x171b70=_0x4d79c3,_0x5db3eb=new Set();for(const _0x51d1b8 of _0x181779)switch(_0x51d1b8['type']){case _0x3e5dd5[_0x171b70(0x603)]:case _0x3e5dd5[_0x171b70(0x853)]:for(const _0x206555 of[..._0x51d1b8[_0x171b70(0x70)],..._0x51d1b8['retrieveBlocks']])_0x206555[_0x171b70(0x572)]===_0x4acbf4[_0x171b70(0x4a8)]&&_0x5db3eb[_0x171b70(0x306)](_0x206555['id']);}return Array['from'](_0x5db3eb);}[_0x4d79c3(0x534)](_0x1dd93a,_0x5542a1,_0x3014a3,_0x2bfdb1){const _0x47c7ae=_0x4d79c3;return _0x1dd93a[_0x47c7ae(0x384)](_0x4ca6ac=>{const _0x2c0b09=_0x47c7ae;switch(_0x4ca6ac[_0x2c0b09(0x572)]){case _0x3e5dd5[_0x2c0b09(0x6ab)]:case _0x3e5dd5[_0x2c0b09(0x5d7)]:case _0x3e5dd5[_0x2c0b09(0x770)]:const _0x3229f9=_0x5542a1['find'](_0x188d40=>_0x188d40['id']===_0x4ca6ac['id']);if(!_0x3229f9)throw new _0x25257a(_0x25257a[_0x2c0b09(0x6cc)][_0x2c0b09(0x5d1)],{'block':_0x4ca6ac});return{'type':_0x3e5dd5[_0x2c0b09(0x6ab)],'id':_0x3229f9['id'],'uid':_0x4ca6ac['uid'],'name':_0x3229f9[_0x2c0b09(0x687)],'description':_0x3229f9['description'],'instructions':(_0x3229f9['instructions']+'\x0a\x0a'+(_0x4ca6ac[_0x2c0b09(0x652)]?.[_0x2c0b09(0x2d2)]??''))['trim'](),'contextOutputVariable':_0x4ca6ac[_0x2c0b09(0x652)]?.[_0x2c0b09(0x93c)],'contextInputVariable':_0x4ca6ac['agent']?.[_0x2c0b09(0x412)],'reasoning':_0x4ca6ac[_0x2c0b09(0x652)]?.[_0x2c0b09(0x150)]??!0x1,'grammar':_0x4ca6ac[_0x2c0b09(0x652)]?.[_0x2c0b09(0x715)]??_0x2c0b09(0x887),'temperature':_0x4ca6ac[_0x2c0b09(0x652)]?.[_0x2c0b09(0x9ff)]??0.5,'maxTokens':_0x4ca6ac[_0x2c0b09(0x652)]?.['maxTokens']??0x1f4,'modelId':_0x4ca6ac[_0x2c0b09(0x652)]?.[_0x2c0b09(0x5c4)]??'gpt-4o-mini','links':_0x4ca6ac[_0x2c0b09(0x5b5)]};case _0x3e5dd5[_0x2c0b09(0x603)]:case _0x3e5dd5['DataCollection']:const _0x589180=_0x2bfdb1[_0x2c0b09(0x483)](_0x2bff51=>_0x2bff51['id']===_0x4ca6ac['id']);if(!_0x589180)throw new _0x25257a(_0x25257a[_0x2c0b09(0x6cc)][_0x2c0b09(0x5d1)],{'block':_0x4ca6ac});return{'type':_0x4ca6ac[_0x2c0b09(0x572)],'id':_0x589180['id'],'uid':_0x4ca6ac[_0x2c0b09(0x833)],'name':_0x589180[_0x2c0b09(0x687)],'description':_0x589180[_0x2c0b09(0x471)],'ingestBlocks':this[_0x2c0b09(0xa81)](_0x589180[_0x2c0b09(0x70)],_0x5542a1),'retrieveBlocks':this[_0x2c0b09(0xa81)](_0x589180[_0x2c0b09(0x6b4)],_0x5542a1),'links':_0x4ca6ac[_0x2c0b09(0x5b5)]};case _0x3e5dd5[_0x2c0b09(0x597)]:return{'type':_0x4ca6ac[_0x2c0b09(0x572)],'id':_0x4ca6ac['id'],'uid':_0x4ca6ac['uid'],'name':_0x4ca6ac['tool'][_0x2c0b09(0x687)],'description':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x471)],'parameters':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x6c6)],'endpointUrl':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x5da)],'endpointMethod':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x98d)],'headers':_0x4ca6ac['tool'][_0x2c0b09(0x1cf)],'queryParameters':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x2ad)],'bodyParameters':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x175)],'contextOutputVariable':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x93c)],'links':_0x4ca6ac['links']};case _0x3e5dd5[_0x2c0b09(0x6db)]:return{'type':_0x4ca6ac[_0x2c0b09(0x572)],'id':_0x4ca6ac['id'],'uid':_0x4ca6ac[_0x2c0b09(0x833)],'name':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x687)],'description':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x471)],'questions':_0x4ca6ac['tool']['questions']['map'](_0x2bda1c=>({'id':_0x2bda1c['id'],'question':_0x2bda1c[_0x2c0b09(0x687)],'validation':_0x2bda1c['value'],'required':_0x2c0b09(0x458)===_0x2bda1c[_0x2c0b09(0x4a5)],'format':_0x2bda1c[_0x2c0b09(0x5ec)]})),'contextOutputVariable':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x93c)],'links':_0x4ca6ac[_0x2c0b09(0x5b5)]};case _0x3e5dd5[_0x2c0b09(0x8d)]:return{'type':_0x4ca6ac['type'],'id':_0x4ca6ac['id'],'uid':_0x4ca6ac['uid'],'modelId':_0x4ca6ac['tool']['modelId']??_0x2c0b09(0xa3),'links':_0x4ca6ac[_0x2c0b09(0x5b5)]};case _0x3e5dd5[_0x2c0b09(0x5aa)]:const _0x26d9a7=_0x3014a3[_0x2c0b09(0x483)](_0x1a2a96=>_0x1a2a96['id']===_0x4ca6ac['id']);if(!_0x26d9a7)throw new _0x25257a(_0x25257a['codes'][_0x2c0b09(0x5d1)],{'block':_0x4ca6ac});return{'type':_0x4ca6ac['type'],'id':_0x4ca6ac['id'],'uid':_0x4ca6ac['uid'],'name':_0x26d9a7[_0x2c0b09(0x687)],'description':_0x26d9a7[_0x2c0b09(0x471)],'workflowId':_0x26d9a7['id'],'async':_0x4ca6ac['tool'][_0x2c0b09(0x957)],'contextOutputVariable':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x93c)],'contextInputVariable':_0x4ca6ac[_0x2c0b09(0xa46)][_0x2c0b09(0x412)],'links':_0x4ca6ac['links']};case _0x3e5dd5[_0x2c0b09(0x28c)]:case _0x3e5dd5[_0x2c0b09(0x49d)]:case _0x3e5dd5[_0x2c0b09(0xa7f)]:case _0x3e5dd5[_0x2c0b09(0x243)]:case _0x3e5dd5['Code']:case _0x3e5dd5[_0x2c0b09(0x29f)]:case _0x3e5dd5['WebScraper']:case _0x3e5dd5[_0x2c0b09(0x269)]:case _0x3e5dd5[_0x2c0b09(0x345)]:case _0x3e5dd5[_0x2c0b09(0x59b)]:case _0x3e5dd5['SentenceSplitter']:case _0x3e5dd5[_0x2c0b09(0x2f0)]:case _0x3e5dd5[_0x2c0b09(0x6e6)]:return{'type':_0x4ca6ac[_0x2c0b09(0x572)],'id':_0x4ca6ac['id'],'uid':_0x4ca6ac['uid'],'links':_0x4ca6ac[_0x2c0b09(0x5b5)]};case _0x3e5dd5[_0x2c0b09(0x385)]:case _0x3e5dd5[_0x2c0b09(0x4eb)]:return{'type':_0x4ca6ac[_0x2c0b09(0x572)],'id':_0x4ca6ac['id'],'uid':_0x4ca6ac[_0x2c0b09(0x833)],'links':_0x4ca6ac[_0x2c0b09(0x5b5)],'attributes':_0x4ca6ac[_0x2c0b09(0x9a9)]};default:throw new _0x25257a(_0x25257a[_0x2c0b09(0x6cc)]['WorkflowInvalidBlockType'],{'block':_0x4ca6ac});}});}['parseDataCollectionBlocks'](_0x408b8f,_0x11d29a){const _0x566d04=_0x4d79c3;return _0x408b8f?_0x408b8f[_0x566d04(0x384)](_0x37d771=>{const _0x2baf72=_0x566d04;switch(_0x37d771[_0x2baf72(0x572)]){case _0x4acbf4[_0x2baf72(0x6ab)]:const _0x3b2bfc=_0x11d29a['find'](_0x1f2777=>_0x1f2777['id']===_0x37d771['id']);if(!_0x3b2bfc)throw new _0x25257a(_0x25257a[_0x2baf72(0x6cc)]['WorkflowInvalidBlockType'],{'block':_0x37d771});return{'type':_0x37d771[_0x2baf72(0x572)],'id':_0x37d771['id'],'uid':_0x37d771[_0x2baf72(0x833)],'description':_0x3b2bfc[_0x2baf72(0x471)],'instructions':(_0x3b2bfc[_0x2baf72(0x8f)]+'\x0a\x0a'+(_0x37d771[_0x2baf72(0x652)]?.[_0x2baf72(0x2d2)]??''))[_0x2baf72(0x85f)](),'contextOutputVariable':_0x37d771[_0x2baf72(0x652)]?.[_0x2baf72(0x93c)],'contextInputVariable':_0x37d771[_0x2baf72(0x652)]?.[_0x2baf72(0x412)],'reasoning':_0x37d771[_0x2baf72(0x652)]?.[_0x2baf72(0x150)]??!0x1,'grammar':_0x37d771[_0x2baf72(0x652)]?.['grammar']??_0x2baf72(0x887),'temperature':_0x37d771[_0x2baf72(0x652)]?.['temperature']??0.5,'maxTokens':_0x37d771[_0x2baf72(0x652)]?.['maxTokens']??0x1f4,'modelId':_0x37d771[_0x2baf72(0x652)]?.['modelId']??_0x2baf72(0x629),'links':_0x37d771['links']};case _0x4acbf4['GraphDatabase']:case _0x4acbf4[_0x2baf72(0xa62)]:case _0x4acbf4[_0x2baf72(0x4eb)]:case _0x4acbf4[_0x2baf72(0x385)]:case _0x4acbf4[_0x2baf72(0x7c3)]:case _0x4acbf4[_0x2baf72(0x91f)]:return{'type':_0x37d771[_0x2baf72(0x572)],'id':_0x37d771['id'],'uid':_0x37d771[_0x2baf72(0x833)],'links':_0x37d771['links'],'attributes':_0x37d771[_0x2baf72(0x9a9)]};case _0x4acbf4[_0x2baf72(0x18f)]:case _0x4acbf4[_0x2baf72(0xd0)]:case _0x4acbf4[_0x2baf72(0xaac)]:case _0x4acbf4[_0x2baf72(0x3b5)]:case _0x4acbf4[_0x2baf72(0x2f0)]:case _0x4acbf4[_0x2baf72(0x9df)]:case _0x4acbf4[_0x2baf72(0x238)]:case _0x4acbf4[_0x2baf72(0x4a8)]:case _0x4acbf4[_0x2baf72(0x22b)]:case _0x4acbf4[_0x2baf72(0x28c)]:case _0x4acbf4['Upload']:case _0x4acbf4[_0x2baf72(0x4e8)]:return{'type':_0x37d771[_0x2baf72(0x572)],'id':_0x37d771['id'],'uid':_0x37d771[_0x2baf72(0x833)],'links':_0x37d771['links']};default:throw new _0x25257a(_0x25257a[_0x2baf72(0x6cc)][_0x2baf72(0x5d1)],{'block':_0x37d771});}}):[];}async[_0x4d79c3(0x9b6)](_0x5e54d4){const _0x10e7b5=_0x4d79c3,_0x5c7c49=(await(0x0,_0x194189[_0x10e7b5(0x764)])((0x0,_0x194189[_0x10e7b5(0x456)])(_0x46a54c[_0x10e7b5(0x225)](),_0x10e7b5(0x96f)+_0x5e54d4+_0x10e7b5(0xa53))))[_0x10e7b5(0x937)][_0x10e7b5(0x384)](_0x257d7c=>{const _0x390ad5=_0x10e7b5,_0x564e4f=_0x257d7c['data']();return{'type':_0x3e5dd5[_0x390ad5(0x6ab)],'id':_0x257d7c['id'],'name':_0x564e4f[_0x390ad5(0x687)],'description':_0x564e4f[_0x390ad5(0x471)],'instructions':_0x564e4f[_0x390ad5(0x8f)]};});return _0x5c7c49[_0x10e7b5(0x15b)](..._0x50dc75),_0x5c7c49['push'](..._0x419f77),_0x5c7c49;}async[_0x4d79c3(0x9f1)](_0x43b4fc){const _0x5321ad=_0x4d79c3;return(await(0x0,_0x194189[_0x5321ad(0x764)])((0x0,_0x194189[_0x5321ad(0x456)])(_0x46a54c[_0x5321ad(0x225)](),'/developers/'+_0x43b4fc+_0x5321ad(0x98a))))[_0x5321ad(0x937)][_0x5321ad(0x384)](_0x47dd27=>{const _0x16014d=_0x5321ad,_0x2b136f=_0x47dd27[_0x16014d(0x8da)]();return{'id':_0x47dd27['id'],'name':_0x2b136f['name'],'description':_0x2b136f[_0x16014d(0x471)]};});}}const _0xa0831b=_0x3c0a41[_0x4d79c3(0x9bc)]();class _0x43ca67 extends _0x510e07{[_0x4d79c3(0x3d8)];[_0x4d79c3(0x5eb)];[_0x4d79c3(0x4f9)]=0x0;[_0x4d79c3(0x85a)]=0x0;[_0x4d79c3(0x806)];constructor(_0x468839,_0x3b75dc,_0x430e41,_0x1f3760){const _0x521c59=_0x4d79c3;super(_0x468839,_0x3b75dc,_0x1f3760),this['localNode']=_0x468839,this['vendorId']=_0x430e41,this[_0x521c59(0x5f9)]();}['destroy'](){const _0x37901c=_0x4d79c3;this[_0x37901c(0x806)]&&(clearTimeout(this[_0x37901c(0x806)]),delete this[_0x37901c(0x806)]),super['destroy']();}[_0x4d79c3(0x31d)](){const _0x2cdb66=_0x4d79c3;this[_0x2cdb66(0x4f9)]=0x0,this[_0x2cdb66(0x85a)]=0x0,this[_0x2cdb66(0x5f9)](),super[_0x2cdb66(0x31d)]();}[_0x4d79c3(0x88f)](_0x56e175){const _0x120198=_0x4d79c3,_0x18fff5='job-'+(0x0,_0x15d077['v4'])();let _0x22088e=!0x1;const _0xe52140=()=>{const _0x1bbdd3=a0_0x50a3;if(_0x22088e)throw new _0x25257a(_0x25257a['codes'][_0x1bbdd3(0x636)]);_0x22088e=!0x0;};switch(_0x56e175[_0x120198(0x572)]){case _0x120198(0x82a):case'collection-delete':case _0x120198(0x8d3):case _0x120198(0xb2):case _0x120198(0x7be):case'file-ingest':case _0x120198(0x18b):case _0x120198(0xa24):case _0x120198(0x7e):case _0x120198(0x18c):case'speech-create':case _0x120198(0x993):case _0x120198(0x389):return{'id':_0x18fff5,..._0x56e175,'run':()=>(_0xe52140(),this[_0x120198(0x58c)](_0x18fff5,_0x56e175))};case _0x120198(0x602):case _0x120198(0x5ac):const _0x31172a=()=>(_0xe52140(),this['run'](_0x18fff5,_0x56e175)),_0x3323a0=()=>(_0xe52140(),this[_0x120198(0x7d0)](_0x18fff5,_0x56e175));return{'id':_0x18fff5,'options':{'threadId':_0x120198(0x931)+(0x0,_0x15d077['v4'])()},..._0x56e175,'run':_0x31172a,'stream':_0x3323a0};default:throw new Error(_0x120198(0x99f));}}async[_0x4d79c3(0x58c)](_0x3e9ab6,_0x4209ad){const _0x5e90c9=_0x4d79c3;if(_0x5e90c9(0x602)===_0x4209ad[_0x5e90c9(0x572)]||'prompt'===_0x4209ad[_0x5e90c9(0x572)])throw new _0x322bb6(_0x4b1e43[_0x5e90c9(0x4f2)],_0x5e90c9(0x99f));const _0x57f063={'threadId':_0x5e90c9(0x931)+(0x0,_0x15d077['v4'])(),..._0x4209ad},_0x5d105b=await this[_0x5e90c9(0x76d)](_0x3e9ab6,_0xf8ccf2[_0x5e90c9(0xa0b)][_0x5e90c9(0x118)],_0x57f063);return new Promise((_0x1e85c5,_0xb10591)=>{const _0x8dcb9e=_0x5e90c9;let _0xe0ac0a;const _0x5eca01=_0x5d105b[_0x8dcb9e(0x2a1)]({'next':_0x3b565b=>{const _0x5cf517=_0x8dcb9e;switch(_0x3b565b[_0x5cf517(0x4fd)]){case _0xf8ccf2[_0x5cf517(0x6e)]['Completed']:clearTimeout(_0xe0ac0a),_0x1e85c5(_0x3b565b[_0x5cf517(0x574)]),_0x5eca01[_0x5cf517(0x5fc)]();break;case _0xf8ccf2['JobStatus'][_0x5cf517(0xa1f)]:clearTimeout(_0xe0ac0a),_0xb10591(new _0x25257a(_0x25257a[_0x5cf517(0x6cc)][_0x5cf517(0x8f6)],{'updatedJob':_0x3b565b})),_0x5eca01[_0x5cf517(0x5fc)]();}},'error':_0x422f9e=>{const _0x5f088f=_0x8dcb9e;clearTimeout(_0xe0ac0a),_0xb10591(new _0x25257a(_0x25257a[_0x5f088f(0x6cc)]['GenerativeAIContextJobFailed'],{'err':_0x422f9e})),_0x5eca01[_0x5f088f(0x5fc)]();}});_0xe0ac0a=setTimeout(()=>{const _0x44ea20=_0x8dcb9e;_0xb10591(new _0x25257a(_0x25257a[_0x44ea20(0x6cc)][_0x44ea20(0x5ca)])),_0x5eca01[_0x44ea20(0x5fc)]();},_0x4086fa);});}async[_0x4d79c3(0x3db)](_0x486773,_0x1b7318){const _0x332ff3=_0x4d79c3,_0xba32e=await this[_0x332ff3(0x76d)](_0x486773,_0xf8ccf2[_0x332ff3(0xa0b)]['Job'],_0x1b7318);return new Promise((_0x11034a,_0xe7d071)=>{let _0x5d9712;const _0x5ce1d1=_0xba32e['subscribe']({'next':_0x26658f=>{const _0x1e33d4=a0_0x50a3;switch(_0x26658f[_0x1e33d4(0x4fd)]){case _0xf8ccf2['JobStatus']['Completed']:if(_0x1e33d4(0x5ac)!==_0x26658f['result'][_0x1e33d4(0x572)])return;const _0x52bf04=_0x26658f[_0x1e33d4(0x574)][_0x1e33d4(0x546)]??0x0;this['logServiceEvent'](_0x1b7318[_0x1e33d4(0x5ac)],_0x52bf04),clearTimeout(_0x5d9712),_0x11034a(_0x26658f[_0x1e33d4(0x574)]),_0x5ce1d1[_0x1e33d4(0x5fc)](),this[_0x1e33d4(0x4f9)]+=0x1,this[_0x1e33d4(0x85a)]+=_0x52bf04,this[_0x1e33d4(0x5f9)]();break;case _0xf8ccf2[_0x1e33d4(0x6e)][_0x1e33d4(0xa1f)]:clearTimeout(_0x5d9712),_0xe7d071(new _0x25257a(_0x25257a[_0x1e33d4(0x6cc)][_0x1e33d4(0x8f6)],{'updatedJob':_0x26658f})),_0x5ce1d1['unsubscribe'](),this['sendStats']();}},'error':_0x10feb5=>{const _0x14b410=a0_0x50a3;clearTimeout(_0x5d9712),_0xe7d071(new _0x25257a(_0x25257a[_0x14b410(0x6cc)][_0x14b410(0x8f6)],{'err':_0x10feb5})),_0x5ce1d1[_0x14b410(0x5fc)]();}});_0x5d9712=setTimeout(()=>{const _0x46feef=a0_0x50a3;_0xe7d071(new _0x25257a(_0x25257a[_0x46feef(0x6cc)][_0x46feef(0x5ca)])),_0x5ce1d1[_0x46feef(0x5fc)]();},_0x4086fa);});}async*[_0x4d79c3(0x7d0)](_0x280ad5,_0x48201a){const _0x2c2266=_0x4d79c3,_0x3a2a50=await this['getJobObservable'](_0x280ad5,_0xf8ccf2[_0x2c2266(0xa0b)][_0x2c2266(0x145)],_0x48201a);let _0x19a0b7,_0x3f00aa,_0x55ea5f=!0x1,_0x1069b9=0x0;const _0x2461b8=[],_0x1ba155=new Map();let _0x217ca6=null;const _0x3a1674=()=>{_0x217ca6&&(_0x217ca6(),_0x217ca6=null);},_0x1f594a=_0xffb389=>{const _0x2f2a41=_0x2c2266;_0x55ea5f=!0x0,_0x3a1674(),_0x4c6407[_0x2f2a41(0x5fc)](),_0x3f00aa=_0xffb389;},_0x4c6407=_0x3a2a50[_0x2c2266(0x2a1)]({'next':async _0x3630eb=>{const _0x1a6d8a=_0x2c2266;switch(_0x3630eb[_0x1a6d8a(0x4fd)]){case _0xf8ccf2[_0x1a6d8a(0x6e)][_0x1a6d8a(0x9f0)]:if(_0x1a6d8a(0x5ac)!==_0x3630eb['result'][_0x1a6d8a(0x572)])return;if(void 0x0!==_0x3630eb[_0x1a6d8a(0x574)][_0x1a6d8a(0x39d)]){if(void 0x0===_0x3630eb['result'][_0x1a6d8a(0x16a)])return void _0x1f594a(_0x25257a[_0x1a6d8a(0x6cc)][_0x1a6d8a(0x49f)]);_0x1069b9===_0x3630eb[_0x1a6d8a(0x574)][_0x1a6d8a(0x16a)]?(_0x2461b8[_0x1a6d8a(0x15b)](_0x3630eb[_0x1a6d8a(0x574)]),_0x1069b9++,((()=>{const _0x22ac4c=_0x1a6d8a;for(;_0x1ba155['has'](_0x1069b9);)_0x2461b8[_0x22ac4c(0x15b)](_0x1ba155[_0x22ac4c(0x2d3)](_0x2461b8[_0x22ac4c(0x4bf)])),_0x1ba155[_0x22ac4c(0x86a)](_0x2461b8[_0x22ac4c(0x4bf)]),_0x1069b9++;})()),_0x3a1674(),_0x4a4e45()):_0x1ba155[_0x1a6d8a(0xb1)](_0x3630eb[_0x1a6d8a(0x574)][_0x1a6d8a(0x16a)],_0x3630eb[_0x1a6d8a(0x574)]);}break;case _0xf8ccf2[_0x1a6d8a(0x6e)][_0x1a6d8a(0x2a9)]:if(_0x1a6d8a(0x5ac)!==_0x3630eb[_0x1a6d8a(0x574)]['type'])return;for(;_0x1069b9!==_0x3630eb[_0x1a6d8a(0x574)][_0x1a6d8a(0x16a)];)await _0x53a877[_0x1a6d8a(0x316)](0x3e8);const _0x7266cc=_0x3630eb[_0x1a6d8a(0x574)][_0x1a6d8a(0x546)]??0x0;this[_0x1a6d8a(0xa05)](_0x48201a[_0x1a6d8a(0x5ac)],_0x7266cc),clearTimeout(_0x19a0b7),_0x1f594a(),this[_0x1a6d8a(0x4f9)]+=0x1,this[_0x1a6d8a(0x85a)]+=_0x7266cc,this[_0x1a6d8a(0x5f9)]();break;case _0xf8ccf2[_0x1a6d8a(0x6e)][_0x1a6d8a(0xa1f)]:clearTimeout(_0x19a0b7),_0x1f594a(_0x25257a[_0x1a6d8a(0x6cc)][_0x1a6d8a(0x8f6)]),this['sendStats']();}},'error':_0x2a0349=>{const _0x58a6fd=_0x2c2266;clearTimeout(_0x19a0b7),_0x1f594a(_0x25257a[_0x58a6fd(0x6cc)][_0x58a6fd(0x8f6)]);}}),_0x4c4f17=()=>{const _0x44ceeb=_0x2c2266;_0x1f594a(_0x25257a[_0x44ceeb(0x6cc)][_0x44ceeb(0x5ca)]);},_0x4a4e45=()=>{clearTimeout(_0x19a0b7),_0x19a0b7=setTimeout(_0x4c4f17,_0x4086fa);};for(_0x19a0b7=setTimeout(_0x4c4f17,_0x4086fa);!_0x55ea5f||_0x2461b8[_0x2c2266(0x4bf)]>0x0;)_0x2461b8[_0x2c2266(0x4bf)]>0x0?yield _0x2461b8[_0x2c2266(0x161)]():await new Promise(_0x1b153a=>_0x217ca6=_0x1b153a);if(_0x3f00aa)throw _0x10d8cb[_0x2c2266(0x23a)](_0x2c2266(0x67a),{'nodeId':this[_0x2c2266(0x3d8)][_0x2c2266(0x970)](),'nodeType':this[_0x2c2266(0x3d8)][_0x2c2266(0x572)]}),new _0x25257a(_0x3f00aa);}async['getDataBucketIds'](){const _0x4a5b79=_0x4d79c3;return(await _0xa0831b[_0x4a5b79(0x57c)](this[_0x4a5b79(0x5eb)],this[_0x4a5b79(0x9d4)]))[_0x4a5b79(0x1ef)];}[_0x4d79c3(0xa05)](_0x5caeeb,_0x4f065a){const _0x4a4e80=_0x4d79c3,_0x44d2d5=this['label'],_0x43d90b=this[_0x4a4e80(0x351)]();_0x10d8cb['logServiceEvent'](_0x51804b[_0x4a4e80(0xa59)],{'topic':_0x44d2d5,'prompt':_0x5caeeb,'type':'prompt','nodeId':_0x43d90b,'tokenCount':_0x4f065a});}async['getJobObservable'](_0x2af720,_0x4f0fd0,_0x1a1f25,_0x3c147c={}){const _0xfee4f1=_0x4d79c3;let _0x3e1f3c;switch(_0x1a1f25[_0xfee4f1(0x572)]){case _0xfee4f1(0x82a):case _0xfee4f1(0x540):case _0xfee4f1(0x8d3):case'embed':case _0xfee4f1(0xb2):case _0xfee4f1(0x7be):case _0xfee4f1(0x18b):case _0xfee4f1(0xa24):case _0xfee4f1(0x602):case _0xfee4f1(0x5ac):case _0xfee4f1(0x7e):case'realtime-session-create':case _0xfee4f1(0x864):case'tool-call':_0x3e1f3c={'id':_0x2af720,'jobType':_0x4f0fd0,'parameters':{..._0x3c147c,..._0x1a1f25},'status':_0xf8ccf2[_0xfee4f1(0x6e)][_0xfee4f1(0x97)]};break;default:throw new Error(_0xfee4f1(0x99f));}return await this[_0xfee4f1(0x154)](_0x3e1f3c);}[_0x4d79c3(0x5f9)](){const _0x25163b=_0x4d79c3;this[_0x25163b(0x806)]&&clearTimeout(this[_0x25163b(0x806)]),this['debounceStats']=setTimeout(async()=>{const _0x4fbf2b=_0x25163b;delete this[_0x4fbf2b(0x806)],this[_0x4fbf2b(0x3fb)]['publish']({'sourceId':_0x2415f3,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5[_0x4fbf2b(0x7d)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x4fbf2b(0x861)],'messagesReceived':this[_0x4fbf2b(0x894)],'bytesSent':this[_0x4fbf2b(0xeb)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x4fbf2b(0x4f9)],'tokens':this[_0x4fbf2b(0x85a)]}}});},_0x5e33e5);}}var _0x5d733e,_0x8a5008,_0x3d3bca,_0x3ed2df,_0x2532aa,_0x355e22,_0x215244,_0x4b5471,_0x368d75,_0x4f1853,_0x3516a1;!function(_0x7a4472){const _0x5f4dc6=_0x4d79c3;_0x7a4472[_0x5f4dc6(0x1a9)]=_0x5f4dc6(0x1a9),_0x7a4472[_0x5f4dc6(0x3c4)]=_0x5f4dc6(0x3c4),_0x7a4472[_0x5f4dc6(0x2d9)]='RetrieveTrace',_0x7a4472[_0x5f4dc6(0x893)]=_0x5f4dc6(0x893);}(_0x5d733e||(_0x5d733e={})),function(_0x311f9b){const _0x15aa60=_0x4d79c3;_0x311f9b[_0x15aa60(0x40c)]=_0x15aa60(0x40c),_0x311f9b['ModelVector']=_0x15aa60(0x705),_0x311f9b[_0x15aa60(0x143)]='VectorSearch',_0x311f9b[_0x15aa60(0x7c3)]='EntityExtractor',_0x311f9b[_0x15aa60(0x346)]=_0x15aa60(0x346),_0x311f9b['Reranker']=_0x15aa60(0x91f);}(_0x8a5008||(_0x8a5008={})),function(_0x131666){const _0x52de0d=_0x4d79c3;_0x131666[_0x131666['Debug']=0x0]=_0x52de0d(0xa2d),_0x131666[_0x131666[_0x52de0d(0xbc)]=0x5]='Info',_0x131666[_0x131666[_0x52de0d(0x990)]=0xa]='Warning',_0x131666[_0x131666[_0x52de0d(0x796)]=0xf]=_0x52de0d(0x796);}(_0x3d3bca||(_0x3d3bca={})),function(_0x10007c){const _0x37c851=_0x4d79c3;_0x10007c[_0x37c851(0x845)]=_0x37c851(0x845),_0x10007c[_0x37c851(0x877)]='Ingest',_0x10007c[_0x37c851(0x603)]='Knowledge',_0x10007c[_0x37c851(0x41d)]=_0x37c851(0x41d),_0x10007c[_0x37c851(0x5f0)]=_0x37c851(0x5f0),_0x10007c[_0x37c851(0x118)]='Job',_0x10007c[_0x37c851(0x689)]=_0x37c851(0x689),_0x10007c[_0x37c851(0x628)]=_0x37c851(0x628);}(_0x3ed2df||(_0x3ed2df={})),function(_0x279cff){const _0x30968f=_0x4d79c3;_0x279cff[_0x30968f(0x7bd)]='Queued',_0x279cff[_0x30968f(0x2a9)]=_0x30968f(0x2a9);}(_0x2532aa||(_0x2532aa={})),function(_0x12c12b){const _0x39e1fa=_0x4d79c3;_0x12c12b[_0x39e1fa(0x6c4)]=_0x39e1fa(0x6c4),_0x12c12b[_0x39e1fa(0xb8)]=_0x39e1fa(0xb8),_0x12c12b[_0x39e1fa(0x853)]=_0x39e1fa(0x853),_0x12c12b[_0x39e1fa(0x6b7)]='FinalOutput';}(_0x355e22||(_0x355e22={})),function(_0x55ca6f){const _0x33f1e9=_0x4d79c3;_0x55ca6f[_0x33f1e9(0x385)]=_0x33f1e9(0x385),_0x55ca6f[_0x33f1e9(0x2f0)]=_0x33f1e9(0x2f0),_0x55ca6f[_0x33f1e9(0x7c3)]=_0x33f1e9(0x7c3),_0x55ca6f[_0x33f1e9(0x7e0)]=_0x33f1e9(0x7e0),_0x55ca6f[_0x33f1e9(0x6ab)]=_0x33f1e9(0x6ab),_0x55ca6f['ModelText']=_0x33f1e9(0x40c),_0x55ca6f[_0x33f1e9(0x705)]='ModelVector',_0x55ca6f[_0x33f1e9(0x3b5)]=_0x33f1e9(0x3b5),_0x55ca6f['SentenceSplitter']=_0x33f1e9(0x9df),_0x55ca6f[_0x33f1e9(0xa62)]='VectorDatabase',_0x55ca6f[_0x33f1e9(0x4eb)]=_0x33f1e9(0x4eb);}(_0x215244||(_0x215244={})),function(_0x41e2bf){const _0xb924f2=_0x4d79c3;_0x41e2bf[_0xb924f2(0x778)]='GetContextQuery',_0x41e2bf[_0xb924f2(0xa94)]=_0xb924f2(0xa94);}(_0x4b5471||(_0x4b5471={})),function(_0x1fb1f8){const _0x58d285=_0x4d79c3;_0x1fb1f8[_0x58d285(0x792)]=_0x58d285(0x792),_0x1fb1f8['FetchUrl']='FetchUrl',_0x1fb1f8[_0x58d285(0xd6)]=_0x58d285(0xd6),_0x1fb1f8[_0x58d285(0x3e1)]=_0x58d285(0x3e1),_0x1fb1f8[_0x58d285(0x259)]=_0x58d285(0x259),_0x1fb1f8[_0x58d285(0x285)]='ExecuteCustomSkill',_0x1fb1f8[_0x58d285(0x345)]='QueryFile',_0x1fb1f8['WriteFile']=_0x58d285(0x59b),_0x1fb1f8[_0x58d285(0x437)]=_0x58d285(0x437),_0x1fb1f8[_0x58d285(0x2b8)]=_0x58d285(0x2b8),_0x1fb1f8[_0x58d285(0x744)]=_0x58d285(0x744),_0x1fb1f8[_0x58d285(0x71e)]=_0x58d285(0x71e);}(_0x368d75||(_0x368d75={})),function(_0x1e21a3){const _0x35390=_0x4d79c3;_0x1e21a3['LoadKnowledgeFunction']=_0x35390(0x325),_0x1e21a3[_0x35390(0x88c)]=_0x35390(0x88c);}(_0x4f1853||(_0x4f1853={})),function(_0x3424ba){const _0x33814c=_0x4d79c3;_0x3424ba['PromptRating']=_0x33814c(0x339);}(_0x3516a1||(_0x3516a1={}));class _0xf1dd10{static [_0x4d79c3(0x73f)]=new _0xf1dd10();['jobQueue']=[];[_0x4d79c3(0x7f3)]=!0x1;constructor(){}static[_0x4d79c3(0x9bc)](){const _0x1f17da=_0x4d79c3;return _0xf1dd10[_0x1f17da(0x73f)];}get[_0x4d79c3(0x4bf)](){const _0x59e07b=_0x4d79c3;return this[_0x59e07b(0x20a)][_0x59e07b(0x4bf)];}['isAvailable'](){const _0x40bc6b=_0x4d79c3;return!this[_0x40bc6b(0x7f3)];}[_0x4d79c3(0x2cb)](_0x56a3ce){const _0x5775ab=_0x4d79c3;_0x56a3ce?this[_0x5775ab(0x20a)]=this[_0x5775ab(0x20a)][_0x5775ab(0x70d)](_0x45996c=>_0x45996c[_0x5775ab(0x6fa)]!==_0x56a3ce):(this[_0x5775ab(0x20a)]=[],this['isRunning']=!0x1);}[_0x4d79c3(0x306)](_0x4a14ba,_0x3d87fc){const _0x2b6b79=_0x4d79c3;this[_0x2b6b79(0x20a)]['push']({'callback':_0x3d87fc,'ownerId':_0x4a14ba}),this['runJobQueue']();}async['runJobQueue'](){const _0x2dccb7=_0x4d79c3;if(!this[_0x2dccb7(0x7f3)]){for(this['isRunning']=!0x0;this[_0x2dccb7(0x20a)][_0x2dccb7(0x4bf)]>0x0;){const _0x1e19f1=this['jobQueue']['shift']();if(_0x1e19f1)try{console[_0x2dccb7(0x945)]('JobQueueService:\x20Running\x20job'),await _0x1e19f1[_0x2dccb7(0x93d)](),console[_0x2dccb7(0x945)](_0x2dccb7(0x35d));}catch(_0x357a5c){console['error'](_0x2dccb7(0x5a4),_0x357a5c);}}this[_0x2dccb7(0x7f3)]=!0x1;}}}const _0xe69de1=_0xf1dd10['getInstance']();class _0x2250e0 extends _0x4eb90d{[_0x4d79c3(0x8a1)];[_0x4d79c3(0x984)];constructor(_0xb1509b,_0x52d484,_0x65cec1){const _0x1e45ab=_0x4d79c3;super(_0xb1509b,_0x52d484),this[_0x1e45ab(0x8a1)]=_0x65cec1;}[_0x4d79c3(0x2c5)](){const _0x5f024d=_0x4d79c3;return _0xf8ccf2[_0x5f024d(0x3fc)][_0x5f024d(0x118)];}[_0x4d79c3(0x56c)](){const _0x58e48a=_0x4d79c3;this[_0x58e48a(0x6e1)]();}['close'](){const _0x147217=_0x4d79c3;this[_0x147217(0x3fb)]?.[_0x147217(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x147217(0x2ca)],'content':{'type':_0x4fa1d5['CloseJobWorker'],'label':this[_0x147217(0x9d4)]}});}[_0x4d79c3(0x31d)](){const _0xffea4f=_0x4d79c3;this[_0xffea4f(0x984)]?.(),delete this[_0xffea4f(0x984)],this[_0xffea4f(0x56c)]();}['destroy'](){const _0x4418fa=_0x4d79c3;_0xe69de1[_0x4418fa(0x2cb)](this[_0x4418fa(0x9d4)]),this[_0x4418fa(0x984)]?.(),delete this[_0x4418fa(0x984)],super[_0x4418fa(0x7b4)]();}['isAvailable'](){const _0x54828b=_0x4d79c3;return _0xe69de1[_0x54828b(0x19e)]();}[_0x4d79c3(0x6a6)](){return 0x1;}['compileStats'](_0x50eb4f,_0x496892,_0x28e2f8){}[_0x4d79c3(0x469)](_0x35a0da,_0x4a16ba){return _0x35a0da;}async['startTracing'](_0xced7ca,_0x2fa6e7){const _0x21921e=_0x4d79c3;console[_0x21921e(0x945)](_0x21921e(0x3d7));}async[_0x4d79c3(0x70f)](_0x4509f5,_0x3e5e38){const _0x47443f=_0x4d79c3;console[_0x47443f(0x945)](_0x47443f(0x3d7));}[_0x4d79c3(0x6e1)](){const _0x58bd51=_0x4d79c3;this['unsubscribeListener']||(this[_0x58bd51(0x984)]=this[_0x58bd51(0x454)](async(_0x3a700b,_0x4f574c)=>{const _0x4e54ee=_0x58bd51;if(_0x10d8cb[_0x4e54ee(0x3bc)](_0x44f26b[_0x4e54ee(0x7f1)],_0x4e54ee(0x28d),_0x4f574c),!(_0x4f574c instanceof File)){if(this[_0x4e54ee(0x193)](_0x4f574c))_0x10d8cb[_0x4e54ee(0x3bc)](_0x44f26b[_0x4e54ee(0x7f1)],'JobWorker:\x20Received\x20job\x20request',_0x4f574c),this['isAvailable']()?this[_0x4e54ee(0x99b)](_0x4f574c['id'],_0x4f574c[_0x4e54ee(0x863)],_0x3a700b):this[_0x4e54ee(0x607)](_0x4f574c['id'],_0x4f574c['jobType'],_0x3a700b);else{if(this['isJobAttribution'](_0x4f574c)){_0x10d8cb['log'](_0x44f26b[_0x4e54ee(0x7f1)],_0x4e54ee(0x605),_0x4f574c);const {id:_0x53a1d4,parameters:_0x3870da}=_0x4f574c;await this[_0x4e54ee(0x9cb)](_0x53a1d4,_0x3870da),this[_0x4e54ee(0x352)](_0x4f574c['id'],_0x4f574c,_0x3a700b);}}}}));}[_0x4d79c3(0x99b)](_0x1ab038,_0x2cf7b4,_0xb3f4b6){const _0x133ad2=_0x4d79c3,_0x50d332={'id':_0x1ab038,'jobType':_0x2cf7b4,'jobPhase':_0x40167b[_0x133ad2(0xa13)],'available':!0x0,'queueLength':_0xe69de1['length'],'bid':this['getBid']()};_0x10d8cb['log'](_0x44f26b[_0x133ad2(0x7f1)],_0x133ad2(0x475),_0x50d332),this[_0x133ad2(0x987)](_0x50d332,[_0xb3f4b6]);}[_0x4d79c3(0x607)](_0x2445cb,_0x150776,_0x321c8d){const _0x4c5c82=_0x4d79c3,_0x300bbb={'id':_0x2445cb,'jobType':_0x150776,'jobPhase':_0x40167b[_0x4c5c82(0xa13)],'available':!0x1,'queueLength':_0xe69de1['length'],'bid':0x0};_0x10d8cb[_0x4c5c82(0x3bc)](_0x44f26b[_0x4c5c82(0x7f1)],_0x4c5c82(0x52d),_0x300bbb),this[_0x4c5c82(0x987)](_0x300bbb,[_0x321c8d]);}async[_0x4d79c3(0x352)](_0x39b562,_0x1155f0,_0x4fedc7){const _0xe6a1ff=_0x4d79c3;_0x10d8cb[_0xe6a1ff(0x3bc)](_0x44f26b[_0xe6a1ff(0x7f1)],_0xe6a1ff(0x212),_0x1155f0);const _0x1696b7={'id':_0x39b562,'jobType':_0x1155f0[_0xe6a1ff(0x863)],'parameters':_0x1155f0['parameters']};try{switch(_0x1155f0[_0xe6a1ff(0x863)]){case _0xf8ccf2[_0xe6a1ff(0xa0b)][_0xe6a1ff(0x118)]:await this['processJob'](_0x39b562,_0x1155f0,_0x1696b7,_0x4fedc7);break;case _0xf8ccf2[_0xe6a1ff(0xa0b)]['JobStream']:await this[_0xe6a1ff(0x94f)](_0x39b562,_0x1155f0,_0x1696b7,_0x4fedc7);break;default:throw new Error(_0xe6a1ff(0x706));}}catch(_0x1f1bee){_0x10d8cb[_0xe6a1ff(0x23a)](_0xe6a1ff(0x19d),{'nodeId':this[_0xe6a1ff(0x879)]['getId'](),'nodeType':this[_0xe6a1ff(0x879)]['type'],'data':{'job':_0x1696b7}},_0x1f1bee);const _0x3dca1f=_0x1f1bee instanceof Error?_0x1f1bee[_0xe6a1ff(0x206)]:_0xe6a1ff(0x58b),_0x1b88db={'id':_0x39b562,'jobType':_0x1155f0[_0xe6a1ff(0x863)],'jobPhase':_0x40167b['Failed'],'message':_0x3dca1f};await this[_0xe6a1ff(0x987)](_0x1b88db,[_0x4fedc7]);}}async[_0x4d79c3(0x4ff)](_0xc352fe,_0x208143,_0x1742d9,_0x182ca5){const _0x38b49f=_0x4d79c3,_0x552aa7=Date[_0x38b49f(0x2a6)](),_0x590f13=await this[_0x38b49f(0x1c0)](_0xc352fe,_0x1742d9[_0x38b49f(0x6c6)]);this['compileStats'](_0x590f13,_0x552aa7,Date[_0x38b49f(0x2a6)]());const _0x415f21={'id':_0xc352fe,'jobType':_0x208143[_0x38b49f(0x863)],'jobPhase':_0x40167b['Result'],'result':_0x590f13};_0x10d8cb[_0x38b49f(0x3bc)](_0x44f26b[_0x38b49f(0x7f1)],'JobWorker:\x20Sending\x20job\x20result',_0x415f21),await this[_0x38b49f(0x987)](_0x415f21,[_0x182ca5]),await this[_0x38b49f(0x70f)](_0xc352fe,_0x1742d9[_0x38b49f(0x6c6)]);}async[_0x4d79c3(0x94f)](_0x218bb6,_0xd37682,_0x2fdeaa,_0x254a2e){const _0x2805ec=_0x4d79c3,_0x20aeee=Date[_0x2805ec(0x2a6)]();let _0xe6d2ea=0x0,_0x1eadc2={};for await(const _0x2dc6e6 of this['internalProcessJobStream'](_0x2fdeaa['id'],_0x2fdeaa[_0x2805ec(0x6c6)])){const _0xfca7e4={'id':_0x218bb6,'jobType':_0xd37682[_0x2805ec(0x863)],'jobPhase':_0x40167b['PartialResult'],'result':{..._0x2dc6e6,'index':_0xe6d2ea}};_0x10d8cb['log'](_0x44f26b[_0x2805ec(0x7f1)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0xfca7e4),this[_0x2805ec(0x987)](_0xfca7e4,[_0x254a2e]),_0x1eadc2=this[_0x2805ec(0x469)](_0x1eadc2,_0x2dc6e6),_0xe6d2ea++;}this[_0x2805ec(0x48c)](_0x1eadc2,_0x20aeee,Date['now']());const _0x376a4c={'id':_0x218bb6,'jobType':_0xd37682[_0x2805ec(0x863)],'jobPhase':_0x40167b['Result'],'result':{..._0x1eadc2,'index':_0xe6d2ea}};_0x10d8cb[_0x2805ec(0x3bc)](_0x44f26b[_0x2805ec(0x7f1)],_0x2805ec(0x582),_0x376a4c),await this[_0x2805ec(0x987)](_0x376a4c,[_0x254a2e]),await this[_0x2805ec(0x70f)](_0x218bb6,_0x2fdeaa[_0x2805ec(0x6c6)]);}[_0x4d79c3(0x193)](_0x58e5f6){const _0x5138d9=_0x4d79c3;return _0x58e5f6['jobPhase']===_0x40167b[_0x5138d9(0x9eb)];}['isJobAttribution'](_0x722c3c){const _0x2f6481=_0x4d79c3;return _0x722c3c[_0x2f6481(0x61f)]===_0x40167b[_0x2f6481(0x48a)];}}const _0x159bd7=new Map([['gpt-4o',{'id':_0x4d79c3(0x67e),'inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':_0x4d79c3(0x629)}],[_0x4d79c3(0x629),{'id':_0x4d79c3(0x629),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0x4d79c3(0x629)}],[_0x4d79c3(0x9e0),{'id':'gpt-4.1','inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':_0x4d79c3(0x3e2)}],[_0x4d79c3(0x92a),{'id':_0x4d79c3(0x92a),'inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0x4d79c3(0x92a)}],[_0x4d79c3(0x3e2),{'id':'gpt-4.1-nano','inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x4d79c3(0x3e2)}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':_0x4d79c3(0x3e2)}],['o3',{'id':'o3','inputTokenPrice':12.25,'outputTokenPrice':0x31,'fallbackModel':_0x4d79c3(0x3e2)}],[_0x4d79c3(0x9c3),{'id':'o3-mini','inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':'gpt-4.1-nano'}],['o4-mini',{'id':_0x4d79c3(0x178),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':'gpt-4.1-nano'}],['claude-opus-4-0',{'id':_0x4d79c3(0x586),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x4d79c3(0x1d7)}],[_0x4d79c3(0x92),{'id':_0x4d79c3(0x92),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x4d79c3(0x1d7)}],[_0x4d79c3(0x2fb),{'id':_0x4d79c3(0x2fb),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x4d79c3(0x1d7)}],[_0x4d79c3(0x703),{'id':_0x4d79c3(0x703),'inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':_0x4d79c3(0x703)}],[_0x4d79c3(0x35e),{'id':_0x4d79c3(0x35e),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':'claude-3-haiku-20240307'}],['claude-3-haiku-20240307',{'id':'claude-3-haiku-20240307','inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':_0x4d79c3(0x1d7)}],['claude-3-opus-latest',{'id':_0x4d79c3(0x936),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x4d79c3(0x1d7)}],[_0x4d79c3(0xa3),{'id':_0x4d79c3(0xa3),'inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':_0x4d79c3(0xa3)}],['sonar-pro',{'id':_0x4d79c3(0x400),'inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':_0x4d79c3(0xa3)}],[_0x4d79c3(0x1ca),{'id':_0x4d79c3(0x1ca),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':_0x4d79c3(0xa3)}],[_0x4d79c3(0x625),{'id':_0x4d79c3(0x625),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x4d79c3(0xa3)}],['sonar-deep-research',{'id':'sonar-deep-research','inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x4d79c3(0xa3)}]]),_0xc27fcc=new Map([[_0x4d79c3(0x9d3),{'id':_0x4d79c3(0x9d3),'engineType':_0xf8ccf2['GenerativeAIEngineType'][_0x4d79c3(0x47e)],'taskType':_0xf8ccf2['GenerativeAITaskType']['Embeddings'],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)]['Text'],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)]['Vector'],'sourceUrl':_0x4d79c3(0x7ea)}],[_0x4d79c3(0x79e),{'id':_0x4d79c3(0x79e),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2['GenerativeAITaskType'][_0x4d79c3(0x7e5)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)]['Text'],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x551)],'sourceUrl':''}],[_0x4d79c3(0x257),{'id':_0x4d79c3(0x257),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)]['OpenAI'],'taskType':_0xf8ccf2['GenerativeAITaskType']['Embeddings'],'inputType':_0xf8ccf2['GenerativeAIModelInputType'][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x551)],'sourceUrl':''}],[_0x4d79c3(0x641),{'id':'llama-3.1-8b','engineType':_0xf8ccf2[_0x4d79c3(0xcd)]['Llamacpp'],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2['GenerativeAIModelInputType'][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x6e0)],'sourceUrl':'https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf'}],[_0x4d79c3(0x75f),{'id':'llama-3.2-3b','engineType':_0xf8ccf2['GenerativeAIEngineType'][_0x4d79c3(0x47e)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)]['Text'],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x6e0)],'sourceUrl':_0x4d79c3(0x37b)}],[_0x4d79c3(0x239),{'id':_0x4d79c3(0x239),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0x47e)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)]['Text'],'sourceUrl':'https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf'}],['gpt-4o',{'id':_0x4d79c3(0x67e),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)]['OpenAI'],'taskType':_0xf8ccf2['GenerativeAITaskType']['TextGeneration'],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)]['Text'],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':_0x4d79c3(0x96a),'sourceUrl':''}],[_0x4d79c3(0x629),{'id':_0x4d79c3(0x629),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2['GenerativeAITaskType']['TextGeneration'],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':_0x4d79c3(0x96a),'sourceUrl':''}],[_0x4d79c3(0x9e0),{'id':'gpt-4.1','engineType':_0xf8ccf2[_0x4d79c3(0xcd)]['OpenAI'],'taskType':_0xf8ccf2['GenerativeAITaskType'][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)]['Text'],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':_0x4d79c3(0x71a),'sourceUrl':''}],['gpt-4.1-mini',{'id':_0x4d79c3(0x92a),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)]['OpenAI'],'taskType':_0xf8ccf2['GenerativeAITaskType'][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)]['Text'],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],[_0x4d79c3(0x3e2),{'id':_0x4d79c3(0x3e2),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],['o1',{'id':'o1','engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],['o3',{'id':'o3','engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)]['TextGeneration'],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)]['Text'],'knowledgeCutoffDate':_0x4d79c3(0x71a),'sourceUrl':''}],[_0x4d79c3(0x9c3),{'id':_0x4d79c3(0x9c3),'engineType':_0xf8ccf2['GenerativeAIEngineType'][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2['GenerativeAITaskType'][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':_0x4d79c3(0x96a),'sourceUrl':''}],[_0x4d79c3(0x178),{'id':_0x4d79c3(0x178),'engineType':_0xf8ccf2['GenerativeAIEngineType'][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)]['Text'],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':_0x4d79c3(0x71a),'sourceUrl':''}],[_0x4d79c3(0x596),{'id':_0x4d79c3(0x596),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x8dc)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x195)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)]['Audio'],'knowledgeCutoffDate':'September\x202023','sourceUrl':''}],['gpt-4o-mini-realtime-preview',{'id':_0x4d79c3(0x4a9),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x8dc)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x195)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x195)],'knowledgeCutoffDate':'September\x202023','sourceUrl':''}],[_0x4d79c3(0x885),{'id':_0x4d79c3(0x885),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x8ba)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x195)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4d79c3(0x353),{'id':'gpt-4o-mini-transcribe','engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)]['SpeechToText'],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x195)],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4d79c3(0x8fc),{'id':_0x4d79c3(0x8fc),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x8ba)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x195)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4d79c3(0x7c1),{'id':_0x4d79c3(0x7c1),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x503)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x195)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4d79c3(0x2bd),{'id':_0x4d79c3(0x2bd),'engineType':_0xf8ccf2['GenerativeAIEngineType'][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x503)],'inputType':_0xf8ccf2['GenerativeAIModelInputType'][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x195)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4d79c3(0xa16),{'id':_0x4d79c3(0xa16),'engineType':_0xf8ccf2['GenerativeAIEngineType'][_0x4d79c3(0xf0)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x503)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2['GenerativeAIModelOutputType']['Audio'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4d79c3(0x7f0),{'id':_0x4d79c3(0x7f0),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0x87f)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x503)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x195)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4d79c3(0x6d8),{'id':_0x4d79c3(0x6d8),'engineType':_0xf8ccf2['GenerativeAIEngineType'][_0x4d79c3(0x87f)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x503)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x195)],'knowledgeCutoffDate':'','sourceUrl':''}],['eleven_flash_v2_5',{'id':_0x4d79c3(0x4c6),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0x87f)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x503)],'inputType':_0xf8ccf2['GenerativeAIModelInputType'][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)]['Audio'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0x4d79c3(0x586),{'id':_0x4d79c3(0x586),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0x4b3)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':_0x4d79c3(0xa07),'sourceUrl':''}],['claude-sonnet-4-0',{'id':_0x4d79c3(0x92),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)]['Anthropic'],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':_0x4d79c3(0xa07),'sourceUrl':''}],[_0x4d79c3(0x2fb),{'id':_0x4d79c3(0x2fb),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0x4b3)],'taskType':_0xf8ccf2['GenerativeAITaskType']['TextGeneration'],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)]['Text'],'knowledgeCutoffDate':_0x4d79c3(0x5a1),'sourceUrl':''}],[_0x4d79c3(0x703),{'id':_0x4d79c3(0x703),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0x4b3)],'taskType':_0xf8ccf2['GenerativeAITaskType'][_0x4d79c3(0x120)],'inputType':_0xf8ccf2['GenerativeAIModelInputType'][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':_0x4d79c3(0x4c8),'sourceUrl':''}],[_0x4d79c3(0x35e),{'id':_0x4d79c3(0x35e),'engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0x4b3)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)]['Text'],'knowledgeCutoffDate':'July\x202024','sourceUrl':''}],[_0x4d79c3(0x1d7),{'id':_0x4d79c3(0x1d7),'engineType':_0xf8ccf2['GenerativeAIEngineType'][_0x4d79c3(0x4b3)],'taskType':_0xf8ccf2[_0x4d79c3(0x27d)][_0x4d79c3(0x120)],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2[_0x4d79c3(0x7bb)]['Text'],'knowledgeCutoffDate':_0x4d79c3(0x804),'sourceUrl':''}],['claude-3-opus-latest',{'id':'claude-3-opus-latest','engineType':_0xf8ccf2[_0x4d79c3(0xcd)][_0x4d79c3(0x4b3)],'taskType':_0xf8ccf2['GenerativeAITaskType']['TextGeneration'],'inputType':_0xf8ccf2[_0x4d79c3(0x43d)][_0x4d79c3(0x6e0)],'outputType':_0xf8ccf2['GenerativeAIModelOutputType'][_0x4d79c3(0x6e0)],'knowledgeCutoffDate':_0x4d79c3(0x804),'sourceUrl':''}]]),_0x190c6d=require('rxjs/operators');class _0x4bcffc{[_0x4d79c3(0x318)];constructor(){const _0x15779a=_0x4d79c3;this[_0x15779a(0x318)]=new _0x252efe[(_0x15779a(0x46a))]();}[_0x4d79c3(0x28b)](_0x2b25c9){const _0x4e5b83=_0x4d79c3;this['subject'][_0x4e5b83(0x38d)](_0x2b25c9);}async[_0x4d79c3(0x7a7)](){const _0x466909=_0x4d79c3;return(0x0,_0x252efe[_0x466909(0x4d8)])(this[_0x466909(0x318)][_0x466909(0x759)]((0x0,_0x190c6d[_0x466909(0x968)])(0x1)));}}function _0x398e2e(_0x516082){const _0x2d098e=_0x4d79c3;try{return JSON[_0x2d098e(0x8a3)](_0x516082);}catch(_0x3c2fd8){return _0x516082 instanceof Error?_0x516082[_0x2d098e(0x709)]():JSON[_0x2d098e(0x8a3)](_0x2d098e(0x784));}}class _0x22e29b{static [_0x4d79c3(0x73f)];[_0x4d79c3(0x544)]=_0x3d3bca[_0x4d79c3(0x796)];[_0x4d79c3(0x7ed)]=_0x3d3bca['Info'];[_0x4d79c3(0x90e)]=_0x3ed2df[_0x4d79c3(0x845)];[_0x4d79c3(0x592)]={};static [_0x4d79c3(0x9bc)]=()=>(_0x22e29b[_0x4d79c3(0x73f)]||(_0x22e29b[_0x4d79c3(0x73f)]=new _0x22e29b()),_0x22e29b[_0x4d79c3(0x73f)]);async[_0x4d79c3(0x63c)](_0x37df04,_0x3050f2,_0x1ba5e2,_0x412533){const _0x560dfd=_0x4d79c3;try{if(this[_0x560dfd(0x592)][_0x3050f2])return!0x0;const _0x3a0712={'vendorId':_0x37df04,'workflowId':_0x1ba5e2,'sequence':0x0};if(this['openedTraces'][_0x3050f2]=_0x3a0712,!_0x412533||!_0x1ba5e2)return!0x0;const _0x5ebd29=(0x0,_0x194189[_0x560dfd(0x31a)])(_0x46a54c['getFirestore'](),_0x560dfd(0x62d)+_0x37df04+_0x560dfd(0x966)+_0x1ba5e2+'/jobs',_0x3050f2);return(await(0x0,_0x194189[_0x560dfd(0x734)])(_0x5ebd29))[_0x560dfd(0x3f7)]()||await(0x0,_0x194189[_0x560dfd(0x1d6)])(_0x5ebd29,{'threadId':_0x412533,'startTime':(0x0,_0x194189[_0x560dfd(0x6f2)])()}),!0x0;}catch(_0x250c2d){return console[_0x560dfd(0x23a)](_0x560dfd(0x9a0),_0x250c2d),!0x1;}}async[_0x4d79c3(0x236)](_0x45ff3c,_0x250f05,_0x16792c,_0x49b4a1){const _0xa88d7c=_0x4d79c3;try{if(!this['openedTraces'][_0x45ff3c])throw new Error(_0xa88d7c(0xf9));const _0x26cf01=new Date(),_0x659613=_0x26cf01[_0xa88d7c(0x1a7)]()+'-'+_0x26cf01['getMonth']()+'-'+_0x26cf01[_0xa88d7c(0xed)](),_0x2db310=new Date(_0x26cf01['getFullYear'](),_0x26cf01['getMonth'](),_0x26cf01[_0xa88d7c(0xed)]()),_0x493e21=this[_0xa88d7c(0x592)][_0x45ff3c][_0xa88d7c(0x5eb)],_0x5b6e63=_0x250f05+'-'+_0x659613,_0x35a87b=_0x159bd7[_0xa88d7c(0x2d3)](_0x250f05);if(!_0x35a87b)return void console['error'](_0xa88d7c(0x775),_0x250f05);const _0x545605=_0x35a87b[_0xa88d7c(0x147)]*_0x16792c/0xf4240*0x64,_0x1dea27=_0x35a87b[_0xa88d7c(0x393)]*_0x49b4a1/0xf4240*0x64,_0x55ed1a=(0x0,_0x194189[_0xa88d7c(0x31a)])(_0x46a54c[_0xa88d7c(0x225)](),_0xa88d7c(0x62d)+_0x493e21+'/usages',_0x5b6e63);await(0x0,_0x194189['setDoc'])(_0x55ed1a,{'modelId':_0x250f05,'date':_0x2db310,'inputTokens':(0x0,_0x194189['increment'])(_0x16792c),'outputTokens':(0x0,_0x194189['increment'])(_0x49b4a1),'inputCredits':(0x0,_0x194189[_0xa88d7c(0x4ee)])(_0x545605),'outputCredits':(0x0,_0x194189[_0xa88d7c(0x4ee)])(_0x1dea27),'totalCredits':(0x0,_0x194189[_0xa88d7c(0x4ee)])(_0x545605+_0x1dea27)},{'merge':!0x0});}catch(_0x4de7cc){console[_0xa88d7c(0x23a)]('GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage',_0x4de7cc);}}async['trace'](_0x5099ce){const _0x395e44=_0x4d79c3;try{const _0x113f93=this[_0x395e44(0x592)][_0x5099ce[_0x395e44(0x8e2)]];if(!_0x113f93)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x5099ce[_0x395e44(0x691)]=_0x113f93[_0x395e44(0x691)]++,_0x5099ce[_0x395e44(0x146)]>=this[_0x395e44(0x544)]&&console[_0x395e44(0x3bc)](JSON[_0x395e44(0x8a3)](_0x5099ce,null,0x2)),await this[_0x395e44(0x57f)](_0x5099ce);}catch(_0x5cea40){console[_0x395e44(0x23a)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x5cea40);}}async[_0x4d79c3(0x9ad)](_0x49378c,_0x371765){const _0x3d3d48=_0x4d79c3;if(!_0x22e29b[_0x3d3d48(0x73f)])throw new Error(_0x3d3d48(0x32d));if(!this[_0x3d3d48(0x592)][_0x49378c])throw new Error(_0x3d3d48(0xf9));if(_0x371765&&this[_0x3d3d48(0x592)][_0x49378c][_0x3d3d48(0x48e)])try{await(0x0,_0x194189[_0x3d3d48(0x1d6)])((0x0,_0x194189[_0x3d3d48(0x31a)])(_0x46a54c['getFirestore'](),_0x3d3d48(0x62d)+this[_0x3d3d48(0x592)][_0x49378c][_0x3d3d48(0x5eb)]+'/workflows/'+this[_0x3d3d48(0x592)][_0x49378c][_0x3d3d48(0x48e)]+_0x3d3d48(0x63b),_0x49378c),{'endTime':(0x0,_0x194189[_0x3d3d48(0x6f2)])()},{'merge':!0x0}),this[_0x3d3d48(0x72c)](_0x49378c);}catch(_0x362d07){console[_0x3d3d48(0x23a)]('GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace',_0x362d07);}else this['setForDeletion'](_0x49378c);}[_0x4d79c3(0x72c)](_0x63a77a){setTimeout(()=>{const _0x55dfbe=a0_0x50a3;delete this[_0x55dfbe(0x592)][_0x63a77a];},0x1b7740);}async[_0x4d79c3(0x57f)](_0x5b1826){const _0x262396=_0x4d79c3;if(_0x5b1826['traceLevel']<this[_0x262396(0x7ed)]&&_0x5b1826['jobType']!==this['commitType'])return;if(!this[_0x262396(0x592)][_0x5b1826[_0x262396(0x8e2)]])throw new Error(_0x262396(0x4fb));const _0x31f24b=this[_0x262396(0x592)][_0x5b1826['jobId']];try{const _0x4fe030=function(_0x648c87){const _0x4b98b8=_0x262396,_0x342de1=[_0x4b98b8(0xa9),'timestamp',_0x4b98b8(0x863),_0x4b98b8(0x572),_0x4b98b8(0x8e2),'traceLevel',_0x4b98b8(0x4bc),_0x4b98b8(0x4fd),_0x4b98b8(0x691),'errorDetails'],_0x11289c={..._0x648c87};for(const _0xe34474 of _0x342de1)delete _0x11289c[_0xe34474];return{'timestamp':_0x648c87[_0x4b98b8(0x139)],'jobType':_0x648c87[_0x4b98b8(0x863)],'type':_0x648c87[_0x4b98b8(0x572)],'jobId':_0x648c87[_0x4b98b8(0x8e2)],'agentId':_0x648c87['agentId']??'','traceLevel':_0x648c87[_0x4b98b8(0x146)],'blockId':_0x648c87[_0x4b98b8(0x4bc)]??'','startTime':_0x648c87[_0x4b98b8(0xa9)],'status':_0x648c87[_0x4b98b8(0x4fd)],'sequence':_0x648c87[_0x4b98b8(0x691)]??0x0,'errorDetails':_0x648c87['errorDetails']??'','metadata':_0x398e2e(_0x11289c)};}(_0x5b1826),_0xb98d11=(0x0,_0x15d077['v4'])();console[_0x262396(0x3bc)](_0x262396(0x988),_0x4fe030['type']),await(0x0,_0x194189[_0x262396(0x1d6)])((0x0,_0x194189[_0x262396(0x31a)])(_0x46a54c['getFirestore'](),_0x262396(0x62d)+_0x31f24b[_0x262396(0x5eb)]+_0x262396(0x966)+_0x31f24b[_0x262396(0x48e)]+_0x262396(0x8c9)+_0x5b1826[_0x262396(0x8e2)]+_0x262396(0x9a6),_0xb98d11),_0x4fe030),_0x5b1826[_0x262396(0x572)]===_0x3516a1['PromptRating']&&await(0x0,_0x194189[_0x262396(0x1d6)])((0x0,_0x194189[_0x262396(0x31a)])(_0x46a54c['getFirestore'](),'developers/'+_0x31f24b['vendorId']+_0x262396(0x966)+_0x31f24b[_0x262396(0x48e)]+_0x262396(0x63b),_0x5b1826[_0x262396(0x8e2)]),{'rating':_0x5b1826['rating']},{'merge':!0x0});}catch(_0x5e6194){console[_0x262396(0x23a)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x5e6194);}}}const _0x383921=_0x22e29b[_0x4d79c3(0x9bc)]();async function _0x444a94(_0x46da8d,_0x50068c,_0xd140a9,_0x41147a,_0xa10a21,_0x78fe31,_0x5aebd2,_0x3aba8e){const _0x389ec9=function(_0x26528d,_0x3f56b6){const _0xf0ccf0=a0_0x50a3,_0x2a18ae=[];for(let _0x1ff857=0x0;_0x1ff857<_0x26528d['length'];_0x1ff857+=_0x3f56b6[_0xf0ccf0(0x9a9)][_0xf0ccf0(0x517)]){let _0x4b82ce=_0x1ff857-_0x3f56b6[_0xf0ccf0(0x9a9)][_0xf0ccf0(0x7da)];_0x4b82ce<0x0&&(_0x4b82ce=0x0);let _0x1a8306=_0x1ff857+_0x3f56b6['attributes'][_0xf0ccf0(0x517)]+_0x3f56b6[_0xf0ccf0(0x9a9)][_0xf0ccf0(0x7da)];_0x1a8306>_0x26528d[_0xf0ccf0(0x4bf)]&&(_0x1a8306=_0x26528d[_0xf0ccf0(0x4bf)]),length||(length=_0x1ff857+_0x3f56b6[_0xf0ccf0(0x9a9)][_0xf0ccf0(0x517)],length>_0x26528d[_0xf0ccf0(0x4bf)]&&(length=_0x26528d[_0xf0ccf0(0x4bf)])),_0x2a18ae['push'](_0x26528d['substring'](_0x4b82ce,_0x1a8306));}return _0x2a18ae;}(_0x50068c,_0xa10a21);await _0xf5e1fc(_0x46da8d,_0x389ec9,_0xd140a9,_0x41147a,_0xa10a21,_0x78fe31,_0x5aebd2,_0x3aba8e);}async function _0x3532e9(_0x498f29,_0x3b6654,_0x28193a,_0x2ae453,_0x6576da,_0x3b769f,_0x1e4cb2,_0x372b0d){const _0x35c968=_0x4d79c3;if(_0x6576da['accumulated']||(_0x6576da['accumulated']={}),_0x6576da[_0x35c968(0xab1)]['queries']||(_0x6576da[_0x35c968(0xab1)]['queries']=[]),_0x3b6654 instanceof Array?_0x6576da[_0x35c968(0xab1)][_0x35c968(0x9f2)][_0x35c968(0x15b)](..._0x3b6654):_0x6576da[_0x35c968(0xab1)][_0x35c968(0x9f2)][_0x35c968(0x15b)](_0x3b6654),_0x6576da[_0x35c968(0x4b9)]=_0x6576da[_0x35c968(0x4b9)]?_0x6576da[_0x35c968(0x4b9)]+0x1:0x1,_0x298d46(_0x6576da,_0x3b769f)>_0x6576da[_0x35c968(0x4b9)])return;if(0x0===_0x6576da[_0x35c968(0xab1)][_0x35c968(0x9f2)]['length'])throw new Error(_0x35c968(0x232));let _0x5518d5=[];const _0x2f261b=Date[_0x35c968(0x2a6)]();try{let _0x287242=0x0,_0x3f6f5d=0x0;for(const _0x238504 of _0x6576da['accumulated'][_0x35c968(0x9f2)]){const _0x11c7d9=await fetch(_0x229087[_0x35c968(0x599)]+'/vector_stores/'+_0x6576da['id']+_0x35c968(0x6a1),{'method':_0x35c968(0x1b6),'headers':{'Content-Type':_0x35c968(0x8b5),'x-vendor-id':_0x28193a[_0x35c968(0x5eb)]},'body':JSON[_0x35c968(0x8a3)]({'query':_0x238504})}),_0x21d14a=((await _0x11c7d9[_0x35c968(0x9ab)]())[_0x35c968(0x8da)]??[])['map'](_0x2747a8=>({'pathName':_0x2747a8[_0x35c968(0x6b0)],'relevance':_0x2747a8[_0x35c968(0x1b7)],'content':_0x2747a8[_0x35c968(0x898)][_0x35c968(0x7b9)]}));_0x5518d5=Array[_0x35c968(0x46f)](new Set([..._0x5518d5,..._0x21d14a])),_0x287242+=_0x21d14a[_0x35c968(0x546)]??0x0,_0x3f6f5d+=_0x21d14a[_0x35c968(0x472)]??0x0;}_0x2ae453[_0x35c968(0x546)]+=_0x287242,_0x2ae453[_0x35c968(0x472)]+=_0x3f6f5d,_0x2ae453[_0x35c968(0x6b8)]=Array[_0x35c968(0x46f)](new Set([..._0x2ae453[_0x35c968(0x6b8)],..._0x5518d5])),await _0x383921[_0x35c968(0x71b)]({'jobType':_0x3ed2df[_0x35c968(0x5f0)],'type':_0x355e22[_0x35c968(0x853)],'jobId':_0x498f29,'threadId':_0x28193a['threadId'],'traceLevel':_0x3d3bca[_0x35c968(0xbc)],'startTime':_0x2f261b,'timestamp':Date['now'](),'blockId':_0x6576da['id'],'status':_0x35c968(0x947),'queries':_0x6576da[_0x35c968(0xab1)]['queries'],'context':_0x5518d5,'inputTokens':_0x287242,'outputTokens':_0x3f6f5d});}catch(_0x2687e2){console[_0x35c968(0x23a)](_0x2687e2),await _0x383921['trace']({'jobType':_0x3ed2df[_0x35c968(0x5f0)],'type':_0x355e22[_0x35c968(0x853)],'jobId':_0x498f29,'threadId':_0x28193a[_0x35c968(0x335)],'traceLevel':_0x3d3bca[_0x35c968(0xbc)],'startTime':_0x2f261b,'timestamp':Date[_0x35c968(0x2a6)](),'blockId':_0x6576da['id'],'status':'error','queries':_0x6576da[_0x35c968(0xab1)][_0x35c968(0x9f2)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0xf5e1fc(_0x498f29,'',_0x28193a,_0x2ae453,_0x6576da,_0x3b769f,_0x1e4cb2,_0x372b0d);}async function _0x20ee6e(_0x39176f,_0x127e6e,_0x471d36,_0x4a63f0,_0x574dcb,_0x55339b,_0x59393f,_0x3edf63){const _0x532fb6=_0x4d79c3,_0x2dc02d=await _0x59393f[_0x532fb6(0x3ff)][_0x532fb6(0x267)](_0x127e6e);await _0xf5e1fc(_0x39176f,_0x2dc02d,_0x471d36,_0x4a63f0,_0x574dcb,_0x55339b,_0x59393f,_0x3edf63);}async function _0x4955e8(_0xc40c55,_0x344f0a,_0x5e8df8,_0x20782c,_0x12d357,_0x4d07e7,_0x86df0a,_0x1198c4){const _0x581ce4=function(_0x18e8d4,_0x137e5c){const _0x4c41b6=a0_0x50a3,_0x3aa81e=[],_0x474dc1=_0x18e8d4[_0x4c41b6(0x101)]('\x20');let _0x3aac9c='',_0x431e30=0x0,_0x52aff7=0x0,_0x276206=0x0;for(const _0x2030a5 of _0x474dc1){if(_0x3aac9c[_0x4c41b6(0x4bf)]+_0x2030a5[_0x4c41b6(0x4bf)]>_0x137e5c[_0x4c41b6(0x9a9)][_0x4c41b6(0x517)]){let _0x50e4e3=_0x431e30,_0x552d18='';for(;_0x50e4e3>=0x0&&_0x552d18['length']+_0x474dc1[_0x50e4e3][_0x4c41b6(0x4bf)]<_0x137e5c['attributes'][_0x4c41b6(0x7da)];)_0x552d18=_0x474dc1[_0x50e4e3]+'\x20'+_0x552d18,_0x50e4e3--;let _0xb7238c=_0x52aff7,_0x179961='';for(;_0xb7238c<_0x474dc1[_0x4c41b6(0x4bf)]&&_0x179961[_0x4c41b6(0x4bf)]+_0x474dc1[_0xb7238c][_0x4c41b6(0x4bf)]<_0x137e5c[_0x4c41b6(0x9a9)][_0x4c41b6(0x7da)];)_0x179961+=_0x474dc1[_0xb7238c]+'\x20',_0xb7238c++;_0x3aac9c=_0x552d18+_0x3aac9c+_0x179961,_0x3aa81e[_0x4c41b6(0x15b)](_0x3aac9c[_0x4c41b6(0x85f)]()),_0x3aac9c='',_0x431e30=_0x52aff7;}_0x3aac9c+=_0x2030a5+'\x20',_0x52aff7++,_0x276206+=_0x2030a5[_0x4c41b6(0x4bf)]+0x1;}if(_0x3aac9c[_0x4c41b6(0x4bf)]>0x0){let _0x24da42=_0x431e30,_0x147bcc='';for(;_0x24da42>=0x0&&_0x147bcc[_0x4c41b6(0x4bf)]+_0x474dc1[_0x24da42]['length']<_0x137e5c[_0x4c41b6(0x9a9)][_0x4c41b6(0x7da)];)_0x147bcc=_0x474dc1[_0x24da42]+'\x20'+_0x147bcc,_0x24da42--;_0x3aac9c=_0x147bcc+_0x3aac9c,_0x3aa81e['push'](_0x3aac9c[_0x4c41b6(0x85f)]());}return _0x3aa81e;}(_0x344f0a,_0x12d357);await _0xf5e1fc(_0xc40c55,_0x581ce4,_0x5e8df8,_0x20782c,_0x12d357,_0x4d07e7,_0x86df0a,_0x1198c4);}async function _0xf5e1fc(_0x167f42,_0x3eec0d,_0x28190f,_0x10c6b4,_0x360e01,_0x668ed2,_0x4c0994,_0x45fa11){const _0x5782dc=_0x4d79c3;if(await _0x53a877[_0x5782dc(0x316)](0x1),_0x360e01['links']){for(const _0x4acc19 of _0x360e01[_0x5782dc(0x5b5)]){if(_0x4acc19[_0x5782dc(0x572)]===_0x57a86a['Context'])continue;const _0x590660=_0x668ed2[_0x5782dc(0x483)](_0x277a69=>_0x277a69[_0x5782dc(0x833)]===_0x4acc19[_0x5782dc(0x833)]);if(_0x590660)switch(_0x590660[_0x5782dc(0x572)]){case _0x3e5dd5[_0x5782dc(0x6ab)]:_0x4acc19[_0x5782dc(0x572)]!==_0x57a86a[_0x5782dc(0x6e0)]&&_0x4acc19['type']!==_0x57a86a['Wait']||'string'!=typeof _0x3eec0d||await _0x37899a(_0x167f42,_0x4acc19[_0x5782dc(0x572)],_0x3eec0d,_0x28190f,_0x10c6b4,_0x590660,_0x668ed2,_0x4c0994,_0x45fa11),_0x4acc19[_0x5782dc(0x572)]===_0x57a86a[_0x5782dc(0x501)]&&_0x5782dc(0x458)===_0x3eec0d&&await _0x37899a(_0x167f42,_0x4acc19[_0x5782dc(0x572)],_0x3eec0d,_0x28190f,_0x10c6b4,_0x590660,_0x668ed2,_0x4c0994,_0x45fa11),_0x4acc19[_0x5782dc(0x572)]===_0x57a86a[_0x5782dc(0x669)]&&_0x5782dc(0x635)===_0x3eec0d&&await _0x37899a(_0x167f42,_0x4acc19[_0x5782dc(0x572)],_0x3eec0d,_0x28190f,_0x10c6b4,_0x590660,_0x668ed2,_0x4c0994,_0x45fa11),_0x4acc19[_0x5782dc(0x572)]===_0x57a86a[_0x5782dc(0x195)]&&_0x5782dc(0x2ae)==typeof _0x3eec0d&&await _0x37899a(_0x167f42,_0x4acc19['type'],_0x3eec0d,_0x28190f,_0x10c6b4,_0x590660,_0x668ed2,_0x4c0994,_0x45fa11);break;case _0x3e5dd5[_0x5782dc(0x385)]:_0x4acc19[_0x5782dc(0x572)]===_0x57a86a[_0x5782dc(0x6e0)]&&_0x5782dc(0x2ae)==typeof _0x3eec0d&&await _0x444a94(_0x167f42,_0x3eec0d,_0x28190f,_0x10c6b4,_0x590660,_0x668ed2,_0x4c0994,_0x45fa11);break;case _0x3e5dd5[_0x5782dc(0x853)]:_0x4acc19[_0x5782dc(0x572)]===_0x57a86a[_0x5782dc(0x6e0)]&&_0x5782dc(0x2ae)==typeof _0x3eec0d&&await _0x3532e9(_0x167f42,_0x3eec0d,_0x28190f,_0x10c6b4,_0x590660,_0x668ed2,_0x4c0994,_0x45fa11),_0x4acc19[_0x5782dc(0x572)]===_0x57a86a[_0x5782dc(0x6e0)]&&_0x3eec0d instanceof Array&&await _0x3532e9(_0x167f42,_0x3eec0d,_0x28190f,_0x10c6b4,_0x590660,_0x668ed2,_0x4c0994,_0x45fa11);break;case _0x3e5dd5['SentenceSplitter']:_0x4acc19[_0x5782dc(0x572)]===_0x57a86a[_0x5782dc(0x6e0)]&&'string'==typeof _0x3eec0d&&await _0x20ee6e(_0x167f42,_0x3eec0d,_0x28190f,_0x10c6b4,_0x590660,_0x668ed2,_0x4c0994,_0x45fa11);break;case _0x3e5dd5[_0x5782dc(0x4eb)]:_0x4acc19[_0x5782dc(0x572)]===_0x57a86a[_0x5782dc(0x6e0)]&&_0x5782dc(0x2ae)==typeof _0x3eec0d&&await _0x4955e8(_0x167f42,_0x3eec0d,_0x28190f,_0x10c6b4,_0x590660,_0x668ed2,_0x4c0994,_0x45fa11);}}_0x360e01[_0x5782dc(0x572)]!==_0x3e5dd5['Prompt']&&_0x360e01[_0x5782dc(0x572)]!==_0x3e5dd5['InputStream']||!_0x45fa11||_0x45fa11['emit'](void 0x0);}else _0x360e01[_0x5782dc(0x572)]!==_0x3e5dd5[_0x5782dc(0x28c)]&&_0x360e01['type']!==_0x3e5dd5[_0x5782dc(0x49d)]||!_0x45fa11||_0x45fa11['emit'](void 0x0);}function _0x298d46(_0x11a1a1,_0x3414f8){const _0x39525b=_0x4d79c3;let _0x3503a2=0x0;for(const _0x4eaaf7 of _0x3414f8)for(const _0x23d07b of _0x4eaaf7[_0x39525b(0x5b5)]??[])_0x23d07b[_0x39525b(0x572)]!==_0x57a86a[_0x39525b(0x22b)]&&_0x23d07b['type']!==_0x57a86a[_0x39525b(0x240)]&&_0x23d07b[_0x39525b(0x572)]!==_0x57a86a[_0x39525b(0x3d5)]&&_0x23d07b['type']!==_0x57a86a['Image']&&_0x23d07b[_0x39525b(0x833)]===_0x11a1a1[_0x39525b(0x833)]&&_0x3503a2++;return _0x3503a2;}function _0x2cb0b8(_0x2b0386,_0x1f88e3){const _0x5d2e6a=_0x4d79c3,_0x492308={'type':_0x2b0386[_0x5d2e6a(0x572)],'name':_0x2b0386['name']??'','description':_0x2b0386[_0x5d2e6a(0x471)]??'','parameters':_0x2b0386['parameters']??[],'headers':_0x2b0386['headers']??[],'queryParameters':_0x2b0386[_0x5d2e6a(0x2ad)]??[],'bodyParameters':_0x2b0386['bodyParameters']??[],'endpointUrl':_0x2b0386[_0x5d2e6a(0x5da)]??'','endpointMethod':_0x2b0386[_0x5d2e6a(0x98d)]??'','contextInputVariable':_0x2b0386[_0x5d2e6a(0x412)]??'','contextOutputVariable':_0x2b0386[_0x5d2e6a(0x93c)]??'','modelId':_0x2b0386['modelId']??'','workflowId':_0x2b0386[_0x5d2e6a(0x48e)]??'','async':_0x2b0386[_0x5d2e6a(0x957)]??!0x1,'instructions':_0x2b0386['instructions']??'','maxTokens':_0x2b0386['maxTokens']??0x0,'temperature':_0x2b0386[_0x5d2e6a(0x9ff)]??0x0,'grammar':_0x2b0386[_0x5d2e6a(0x715)]??_0x5d2e6a(0x887),'collectionId':_0x2b0386[_0x5d2e6a(0x572)]===_0x3e5dd5[_0x5d2e6a(0x853)]||_0x2b0386['type']===_0x3e5dd5[_0x5d2e6a(0x603)]?_0x2b0386['id']:'','shouldEmit':_0x2b0386[_0x5d2e6a(0x5b5)]?.['some'](_0x31994b=>_0x31994b[_0x5d2e6a(0x572)]===_0x57a86a[_0x5d2e6a(0x6e0)]&&_0x1f88e3[_0x5d2e6a(0x483)](_0x21f73b=>_0x21f73b[_0x5d2e6a(0x833)]===_0x31994b[_0x5d2e6a(0x833)])?.[_0x5d2e6a(0x572)]===_0x3e5dd5['Answer'])??!0x1};if(_0x2b0386[_0x5d2e6a(0x572)]===_0x3e5dd5[_0x5d2e6a(0x6db)])return[{..._0x492308,'type':_0xf8ccf2['GenerativeAIInferenceToolType']['FormSkillGetQuestion'],'questions':_0x2b0386[_0x5d2e6a(0x34c)]??[]},{..._0x492308,'type':_0xf8ccf2[_0x5d2e6a(0x2e1)][_0x5d2e6a(0x637)],'questions':_0x2b0386[_0x5d2e6a(0x34c)]??[]},{..._0x492308,'type':_0xf8ccf2['GenerativeAIInferenceToolType'][_0x5d2e6a(0x19c)],'questions':_0x2b0386[_0x5d2e6a(0x34c)]??[]}];if(_0x2b0386[_0x5d2e6a(0x572)]===_0x3e5dd5[_0x5d2e6a(0x6ab)]||_0x2b0386['type']===_0x3e5dd5[_0x5d2e6a(0x5d7)]||_0x2b0386[_0x5d2e6a(0x572)]===_0x3e5dd5[_0x5d2e6a(0x770)]){const _0x370aef=_0x1f88e3[_0x5d2e6a(0x70d)](_0x18b96e=>_0x18b96e['links']?.[_0x5d2e6a(0x884)](_0xf895d5=>_0xf895d5[_0x5d2e6a(0x833)]===_0x2b0386['uid']&&_0xf895d5[_0x5d2e6a(0x572)]===_0x57a86a['Tool']));if(_0x370aef[_0x5d2e6a(0x4bf)]>0x0)return{..._0x492308,'tools':_0x370aef[_0x5d2e6a(0x68c)](_0x3cd27f=>_0x2cb0b8(_0x3cd27f,_0x1f88e3))};}return _0x492308;}async function _0x37899a(_0x1ffa1b,_0x543f2c,_0x238c6a,_0x125908,_0xe5a204,_0xd4adff,_0x79c784,_0x4ec53c,_0x4d4f4c){const _0x1a5e66=_0x4d79c3,_0xc7a4a2=_0x4ec53c[_0x1a5e66(0x4ad)][_0x1a5e66(0x483)](_0x3ba3af=>_0x3ba3af['id']===_0xd4adff[_0x1a5e66(0x5c4)]);if(!_0xc7a4a2)throw new Error(_0x1a5e66(0xd7)+_0xd4adff[_0x1a5e66(0x5c4)]);if(_0xc7a4a2[_0x1a5e66(0x79a)]!==_0xf8ccf2[_0x1a5e66(0x27d)][_0x1a5e66(0x120)])return console['log'](new Date()+_0x1a5e66(0xc4)),void await _0xf5e1fc(_0x1ffa1b,_0x238c6a,_0x125908,_0xe5a204,_0xd4adff,_0x79c784,_0x4ec53c,_0x4d4f4c);if(_0xd4adff[_0x1a5e66(0xab1)]||(_0xd4adff[_0x1a5e66(0xab1)]={}),_0x543f2c===_0x57a86a[_0x1a5e66(0x6e0)]&&_0x1a5e66(0x2ae)==typeof _0x238c6a&&(_0xd4adff[_0x1a5e66(0xab1)][_0x1a5e66(0x5ac)]||(_0xd4adff[_0x1a5e66(0xab1)][_0x1a5e66(0x5ac)]=[]),_0xd4adff[_0x1a5e66(0xab1)][_0x1a5e66(0x5ac)]['push'](_0x238c6a)),_0x543f2c===_0x57a86a[_0x1a5e66(0x3d5)])return _0xd4adff['accumulated'][_0x1a5e66(0x1ba)]||(_0xd4adff['accumulated'][_0x1a5e66(0x1ba)]=[]),void _0xd4adff[_0x1a5e66(0xab1)][_0x1a5e66(0x1ba)][_0x1a5e66(0x15b)](_0x238c6a);if(_0x543f2c===_0x57a86a['Image'])return _0xd4adff[_0x1a5e66(0xab1)][_0x1a5e66(0x837)]||(_0xd4adff['accumulated'][_0x1a5e66(0x837)]=[]),void _0xd4adff[_0x1a5e66(0xab1)][_0x1a5e66(0x837)][_0x1a5e66(0x15b)](_0x238c6a);if(_0xd4adff[_0x1a5e66(0x4b9)]=_0xd4adff[_0x1a5e66(0x4b9)]?_0xd4adff['timesCalled']+0x1:0x1,_0x298d46(_0xd4adff,_0x79c784)>_0xd4adff[_0x1a5e66(0x4b9)])return;if(_0x10d8cb[_0x1a5e66(0x184)](_0x1a5e66(0xae)+_0xd4adff[_0x1a5e66(0x687)],_0xd4adff['timesCalled']),!_0xd4adff[_0x1a5e66(0xab1)][_0x1a5e66(0x5ac)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0xd4adff[_0x1a5e66(0x687)]);const _0x34277c=Date[_0x1a5e66(0x2a6)](),_0x4558c4=(0x0,_0x15d077['v4'])();let _0x139e85='',_0x3d8a49=0x0,_0x578af7=0x0;const _0x5da99f=[],_0x4675cc=function(_0x2e558f,_0x4cf0ad,_0x34f77b,_0x1a868f){const _0x2bc391=_0x1a5e66;if(_0x34f77b[_0x2bc391(0x412)]){const _0x3dba9d=_0x34f77b[_0x2bc391(0x412)][_0x2bc391(0x101)](',');for(const _0x2fd881 of _0x3dba9d)'files'!==_0x2fd881&&_0x2bc391(0x837)!==_0x2fd881&&_0x4cf0ad[_0x2bc391(0xa3b)]?.[_0x2fd881]&&(_0x2e558f='<'+_0x2fd881+'>'+_0x4cf0ad[_0x2bc391(0xa3b)][_0x2fd881]+'</'+_0x2fd881+_0x2bc391(0x4ca)+_0x2e558f);}const _0x599039=_0x1a868f[_0x2bc391(0x70d)](_0x1a1d1b=>_0x1a1d1b[_0x2bc391(0x5b5)]?.['some'](_0x3f0162=>_0x3f0162[_0x2bc391(0x833)]===_0x34f77b[_0x2bc391(0x833)]&&_0x3f0162[_0x2bc391(0x572)]===_0x57a86a['Tool']));for(const _0x253e72 of _0x599039)if(_0x253e72[_0x2bc391(0x572)]===_0x3e5dd5[_0x2bc391(0x6db)]){const _0x2cb233=_0x253e72[_0x2bc391(0x687)][_0x2bc391(0x388)](/[^a-zA-Z]/g,''),_0x377342=_0x4cf0ad[_0x2bc391(0xa3b)]?.[_0x2bc391(0x497)+_0x2cb233];if(_0x377342){const _0x259352=_0x253e72['questions'][_0x377342];_0x259352&&(_0x2e558f='<current-question>'+JSON['stringify'](_0x259352)+_0x2bc391(0x741)+_0x2e558f);}}return _0x2e558f;}(_0xd4adff[_0x1a5e66(0xab1)][_0x1a5e66(0x5ac)][_0x1a5e66(0x9fc)]('\x0a\x0a'),_0xe5a204,_0xd4adff,_0x79c784);let _0x1b6272=_0x4675cc;if(_0xd4adff['accumulated'][_0x1a5e66(0x1ba)]){_0x1a5e66(0x2ae)==typeof _0x1b6272&&(_0x1b6272=[],_0x1b6272[_0x1a5e66(0x15b)]({'type':_0x1a5e66(0x7b9),'text':_0x4675cc}));for(const _0x2e7d92 of _0xd4adff[_0x1a5e66(0xab1)]['files'])_0x1b6272[_0x1a5e66(0x15b)]({'type':_0x1a5e66(0x116),'file':{'filename':(0x0,_0x15d077['v4'])()+_0x1a5e66(0x3a6),'file_data':_0x1a5e66(0x94b)+_0x2e7d92}});}if(_0xd4adff[_0x1a5e66(0xab1)][_0x1a5e66(0x837)]){_0x1a5e66(0x2ae)==typeof _0x1b6272&&(_0x1b6272=[],_0x1b6272[_0x1a5e66(0x15b)]({'type':_0x1a5e66(0x7b9),'text':_0x4675cc}));for(const _0xf6f66a of _0xd4adff['accumulated']['images'])_0x1b6272[_0x1a5e66(0x15b)]({'type':'image_url','image_url':{'url':_0x1a5e66(0x94b)+_0xf6f66a}});}_0x5da99f[_0x1a5e66(0x15b)]({'role':_0x1a5e66(0x87e),'content':_0x954a62(_0x125908['instructions']??'',_0xd4adff,_0xc7a4a2)}),_0x5da99f[_0x1a5e66(0x15b)](..._0x125908[_0x1a5e66(0x38a)]?.['map'](_0x1052cd=>({'role':_0x1052cd[_0x1a5e66(0x405)]===_0xf8ccf2[_0x1a5e66(0x8fe)][_0x1a5e66(0xc8)]?_0x1a5e66(0x62b):_0x1a5e66(0xa8f),'content':_0x1052cd[_0x1a5e66(0x206)]}))??[]),_0x5da99f['push']({'role':_0x1a5e66(0x62b),'content':_0x1b6272});const _0xa5d25b=_0x79c784['filter'](_0x1358a0=>_0x1358a0[_0x1a5e66(0x5b5)]?.[_0x1a5e66(0x884)](_0x1b2160=>_0x1b2160[_0x1a5e66(0x833)]===_0xd4adff[_0x1a5e66(0x833)]&&_0x1b2160[_0x1a5e66(0x572)]===_0x57a86a[_0x1a5e66(0x240)]))[_0x1a5e66(0x68c)](_0x449abd=>_0x2cb0b8(_0x449abd,_0x79c784));if(_0x4d4f4c){const _0x46f184=_0xd4adff[_0x1a5e66(0x5b5)]?.[_0x1a5e66(0x884)](_0x31b4b0=>_0x31b4b0[_0x1a5e66(0x572)]===_0x57a86a[_0x1a5e66(0x6e0)]&&(_0x79c784[_0x1a5e66(0x483)](_0x417740=>_0x417740[_0x1a5e66(0x833)]===_0x31b4b0[_0x1a5e66(0x833)])?.['type']===_0x3e5dd5[_0x1a5e66(0xa7f)]||_0x79c784[_0x1a5e66(0x483)](_0x3441b8=>_0x3441b8[_0x1a5e66(0x833)]===_0x31b4b0['uid'])?.['links']?.[_0x1a5e66(0x884)](_0x5bdc2d=>_0x5bdc2d[_0x1a5e66(0x572)]===_0x57a86a[_0x1a5e66(0x195)]&&_0x79c784['find'](_0x373227=>_0x373227[_0x1a5e66(0x833)]===_0x5bdc2d[_0x1a5e66(0x833)])?.[_0x1a5e66(0x572)]===_0x3e5dd5['OutputStream'])))??!0x1,_0x57b14a=await fetch(_0x229087['apiUrl']+_0x1a5e66(0x79f),{'method':'POST','headers':{'Accept':_0x1a5e66(0x9ef),'Content-Type':_0x1a5e66(0x8b5),'x-vendor-id':_0x125908[_0x1a5e66(0x5eb)]},'body':JSON['stringify']({'model':_0xd4adff[_0x1a5e66(0x5c4)],'messages':_0x5da99f,'max_completion_tokens':_0xd4adff['maxTokens'],'temperature':_0xd4adff[_0x1a5e66(0x9ff)],'metadata':{'threadId':_0x125908[_0x1a5e66(0x335)],'agentId':_0x4558c4,'jobId':_0x1ffa1b,'workflowId':_0x125908[_0x1a5e66(0x48e)],'context':_0xe5a204['internalContext']??{}},'structured_output':_0xd4adff['grammar'],'tools':_0xa5d25b,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x57b14a['ok']||!_0x57b14a[_0x1a5e66(0x919)])return console[_0x1a5e66(0x23a)](_0x1a5e66(0x7ba)),void _0x4d4f4c[_0x1a5e66(0x28b)](void 0x0);const _0x369791=_0x57b14a[_0x1a5e66(0x919)][_0x1a5e66(0x9aa)](),_0x4d29e3=new TextDecoder();for(;;){const {value:_0x4e4d38,done:_0x2ed2a4}=await _0x369791[_0x1a5e66(0x969)]();if(_0x2ed2a4)break;const _0x62b4e5=_0x4d29e3[_0x1a5e66(0x21d)](_0x4e4d38,{'stream':!0x0});if(_0x1a5e66(0x4af)===_0x62b4e5)break;const _0x1fff95=_0x21d95c(_0x62b4e5);for(const _0x61d04e of _0x1fff95)_0x61d04e['choices']&&_0x61d04e[_0x1a5e66(0x423)][0x0]&&(_0x46f184&&(_0x4d4f4c[_0x1a5e66(0x28b)]({'output':_0x61d04e[_0x1a5e66(0x423)][0x0][_0x1a5e66(0xa9c)][_0x1a5e66(0x898)],'type':_0x1a5e66(0x5ac)}),await _0x53a877[_0x1a5e66(0x316)](0x1)),_0x139e85+=_0x61d04e[_0x1a5e66(0x423)][0x0][_0x1a5e66(0xa9c)][_0x1a5e66(0x898)]??'',_0x3d8a49=_0x61d04e['usage']?.[_0x1a5e66(0x455)]??0x0,_0x578af7=_0x61d04e[_0x1a5e66(0x11d)]?.[_0x1a5e66(0x470)]??0x0,_0xe5a204['internalContext']={..._0xe5a204[_0x1a5e66(0xa3b)],..._0x61d04e[_0x1a5e66(0x6b8)]});}_0xe5a204[_0x1a5e66(0x472)]=(_0xe5a204['outputTokens']??0x0)+_0x578af7,_0xe5a204[_0x1a5e66(0x546)]=(_0xe5a204[_0x1a5e66(0x546)]??0x0)+_0x3d8a49,_0x4d4f4c['emit']({'output':_0x46f184?'\x0a\x0a':'','type':_0x1a5e66(0x5ac)}),await _0x53a877[_0x1a5e66(0x316)](0x1);}else{const _0x8c5a46=await fetch(_0x229087[_0x1a5e66(0x599)]+'/chat/completions',{'method':'POST','headers':{'Content-Type':_0x1a5e66(0x8b5),'x-vendor-id':_0x125908[_0x1a5e66(0x5eb)]},'body':JSON[_0x1a5e66(0x8a3)]({'model':_0xd4adff[_0x1a5e66(0x5c4)],'messages':_0x5da99f,'max_completion_tokens':_0xd4adff[_0x1a5e66(0x719)],'temperature':_0xd4adff[_0x1a5e66(0x9ff)],'metadata':{'threadId':_0x125908[_0x1a5e66(0x335)],'agentId':_0x4558c4,'jobId':_0x1ffa1b,'workflowId':_0x125908[_0x1a5e66(0x48e)],'context':_0xe5a204[_0x1a5e66(0xa3b)]??{}},'structured_output':_0xd4adff[_0x1a5e66(0x715)],'tools':_0xa5d25b})}),_0x24f0c9=await _0x8c5a46['json']();_0x139e85=_0x24f0c9[_0x1a5e66(0x423)][0x0][_0x1a5e66(0x206)][_0x1a5e66(0x898)],_0x3d8a49=_0x24f0c9['usage'][_0x1a5e66(0x455)],_0x578af7=_0x24f0c9[_0x1a5e66(0x11d)][_0x1a5e66(0x470)],_0xe5a204[_0x1a5e66(0x39d)]=_0x139e85,_0xe5a204[_0x1a5e66(0xa3b)]={..._0xe5a204[_0x1a5e66(0xa3b)],..._0x24f0c9['context']},_0xe5a204[_0x1a5e66(0x472)]=(_0xe5a204[_0x1a5e66(0x472)]??0x0)+_0x578af7,_0xe5a204['inputTokens']=(_0xe5a204[_0x1a5e66(0x546)]??0x0)+_0x3d8a49;}if(_0xd4adff[_0x1a5e66(0x93c)]&&(_0xe5a204['internalContext']||(_0xe5a204[_0x1a5e66(0xa3b)]={}),_0xe5a204[_0x1a5e66(0xa3b)][_0xd4adff[_0x1a5e66(0x93c)]]=_0x139e85),await _0x383921['trace']({'jobType':_0x3ed2df[_0x1a5e66(0x5f0)],'type':_0x355e22[_0x1a5e66(0xb8)],'jobId':_0x1ffa1b,'agentId':_0x4558c4,'threadId':_0x125908['threadId'],'traceLevel':_0x3d3bca['Info'],'startTime':_0x34277c,'timestamp':Date[_0x1a5e66(0x2a6)](),'blockId':_0xd4adff['id'],'status':_0x1a5e66(0x947),'output':_0x139e85,'prompt':_0x4675cc,'agentName':_0xd4adff[_0x1a5e66(0x687)],'history':[],'instructions':''+_0xd4adff[_0x1a5e66(0x8f)]+(_0x125908[_0x1a5e66(0x8f)]??''),'ragContext':[],'inputTokens':_0x3d8a49??0x0,'outputTokens':_0x578af7??0x0}),_0x1a5e66(0x3aa)===_0xd4adff[_0x1a5e66(0x715)])try{_0x139e85=JSON['parse'](_0x139e85)[_0x1a5e66(0x474)]?_0x1a5e66(0x458):_0x1a5e66(0x635);}catch(_0x31e577){console[_0x1a5e66(0x23a)](_0x1a5e66(0x2da),_0x139e85),_0x139e85=_0x1a5e66(0x635);}await _0xf5e1fc(_0x1ffa1b,_0x139e85,_0x125908,_0xe5a204,_0xd4adff,_0x79c784,_0x4ec53c,_0x4d4f4c);}function _0x954a62(_0x8946db,_0x3a3cdb,_0x5cfeb5){const _0x11a23e=_0x4d79c3;let _0x621a0f='';return _0x5cfeb5[_0x11a23e(0xbb)]&&''!==_0x5cfeb5[_0x11a23e(0xbb)]&&(_0x621a0f=_0x11a23e(0x4fe)+_0x5cfeb5[_0x11a23e(0xbb)]+'\x0a\x0a'),_0x621a0f=_0x621a0f+'Today\x20Date:\x20'+new Date()['toLocaleDateString'](void 0x0,{'weekday':_0x11a23e(0x40b),'year':_0x11a23e(0x5ae),'month':_0x11a23e(0x40b),'day':_0x11a23e(0x5ae)})+'\x0a\x0a',''+_0x621a0f+_0x3a3cdb[_0x11a23e(0x8f)]+_0x8946db;}function _0x21d95c(_0x5d8622){const _0x150c41=_0x4d79c3;return _0x5d8622[_0x150c41(0x101)](_0x150c41(0x9b2))[_0x150c41(0x384)](_0x4909d2=>_0x4909d2[_0x150c41(0x388)](_0x150c41(0x54c),'')[_0x150c41(0x85f)]())[_0x150c41(0x70d)](_0x1b3ed8=>''!==_0x1b3ed8)[_0x150c41(0x384)](_0x12ce8d=>{const _0x5ae5d9=_0x150c41;if(_0x5ae5d9(0x84)===_0x12ce8d)return null;try{return JSON[_0x5ae5d9(0x823)](_0x12ce8d);}catch(_0x4f7f23){return console[_0x5ae5d9(0x23a)](_0x5ae5d9(0xce),_0x12ce8d),null;}})[_0x150c41(0x70d)](_0x1dfa5e=>null!==_0x1dfa5e);}async function _0xcbcf73(_0x30cd3b,_0x595875,_0x228625,_0x165958,_0x1cd19b,_0x19ebf3,_0x253c29){const _0x2ecae2=_0x4d79c3,_0x180268=_0x2ecae2(0x39e)+_0x1cd19b['description']+'\x20to\x20generate\x20a\x20response.',_0x3532e5={'prompt':{'type':_0xf8ccf2[_0x2ecae2(0x716)][_0x2ecae2(0x6bf)]}};return await _0x383921['trace']({'jobType':_0x3ed2df[_0x2ecae2(0x689)],'type':_0x4f1853[_0x2ecae2(0x88c)],'jobId':_0x30cd3b,'agentId':_0x595875,'threadId':_0x228625[_0x2ecae2(0x335)],'traceLevel':_0x3d3bca[_0x2ecae2(0xbc)],'startTime':Date['now'](),'timestamp':Date[_0x2ecae2(0x2a6)](),'status':_0x2ecae2(0x947),'function':_0x368d75[_0x2ecae2(0x259)],'params':_0x3532e5,'functionDescription':_0x180268}),{'description':_0x180268,'params':_0x3532e5,'callback':async _0x1de2dd=>_0x56a7d3(_0x228625[_0x2ecae2(0x5eb)],_0x1cd19b,_0x19ebf3,_0x1de2dd,_0x165958,_0x30cd3b,_0x595875,_0x228625[_0x2ecae2(0x48e)],_0x228625[_0x2ecae2(0x335)],_0x253c29)};}async function _0x56a7d3(_0x768a0d,_0x2b1a64,_0x20445e,_0x7449eb,_0x892ec0,_0x5d33e6,_0x1eb9c0,_0xa1556f,_0x158193,_0xb2318b){const _0x4038c7=_0x4d79c3,_0x1cb2b1=Date[_0x4038c7(0x2a6)]();try{if(_0x4038c7(0x2ae)!=typeof _0x7449eb?.[_0x4038c7(0x5ac)])throw new Error(_0x4038c7(0x32c));if(!_0x20445e[_0x4038c7(0x4ad)]['find'](_0x285372=>_0x285372['id']===_0x2b1a64[_0x4038c7(0x5c4)]))throw new Error('Model\x20not\x20found');let _0x12e246='',_0x15481f=[];if(_0x2b1a64['instructions']&&_0x15481f[_0x4038c7(0x15b)]({'role':_0x4038c7(0x87e),'content':_0x2b1a64[_0x4038c7(0x8f)]}),_0x15481f['push']({'role':_0x4038c7(0x62b),'content':_0x7449eb[_0x4038c7(0x5ac)]}),_0xb2318b&&_0x2b1a64[_0x4038c7(0x189)]){const _0xc8f06b=await fetch(_0x229087[_0x4038c7(0x599)]+_0x4038c7(0x79f),{'method':_0x4038c7(0x1b6),'headers':{'Accept':'text/event-stream','Content-Type':_0x4038c7(0x8b5),'x-vendor-id':_0x768a0d},'body':JSON[_0x4038c7(0x8a3)]({'model':_0x2b1a64[_0x4038c7(0x5c4)],'messages':_0x15481f,'max_completion_tokens':_0x2b1a64['maxTokens'],'temperature':_0x2b1a64[_0x4038c7(0x9ff)],'tools':_0x2b1a64[_0x4038c7(0x858)],'structured_output':_0x2b1a64[_0x4038c7(0x715)],'metadata':{'threadId':_0x158193,'jobId':_0x5d33e6,'agentId':_0x1eb9c0,'workflowId':_0xa1556f,'context':_0x892ec0?.[_0x4038c7(0xa3b)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0xc8f06b['ok']||!_0xc8f06b[_0x4038c7(0x919)])return console[_0x4038c7(0x23a)](_0x4038c7(0x7ba)),_0xb2318b[_0x4038c7(0x28b)](void 0x0),_0x4038c7(0x70a);const _0x9e0724=_0xc8f06b[_0x4038c7(0x919)][_0x4038c7(0x9aa)](),_0x27b65e=new TextDecoder();let _0x4f1aa4=0x0,_0x2e7d18=0x0,_0x3cf761='';for(;;){const {value:_0x3b57ee,done:_0x4e5e1c}=await _0x9e0724['read']();if(_0x4e5e1c)break;const _0x176b41=_0x27b65e[_0x4038c7(0x21d)](_0x3b57ee,{'stream':!0x0});if(_0x4038c7(0x4af)===_0x176b41)break;const _0x3702d6=_0x21d95c(_0x176b41);for(const _0x16f115 of _0x3702d6)_0x16f115[_0x4038c7(0x423)]&&_0x16f115[_0x4038c7(0x423)][0x0]&&(_0x3cf761+=_0x16f115[_0x4038c7(0x423)][0x0][_0x4038c7(0xa9c)][_0x4038c7(0x898)],_0x4f1aa4+=_0x16f115[_0x4038c7(0x11d)]?.[_0x4038c7(0x31c)]??0x0,_0x2e7d18+=_0x16f115[_0x4038c7(0x11d)]?.[_0x4038c7(0x5a2)]??0x0,_0x892ec0&&(_0x892ec0[_0x4038c7(0xa3b)]={..._0x892ec0[_0x4038c7(0xa3b)],..._0x16f115[_0x4038c7(0x6b8)]}),_0xb2318b[_0x4038c7(0x28b)]({'output':_0x16f115['choices'][0x0]['delta'][_0x4038c7(0x898)],'type':_0x4038c7(0x5ac)}),await _0x53a877[_0x4038c7(0x316)](0x1));}_0x892ec0&&(_0x892ec0[_0x4038c7(0x472)]=(_0x892ec0[_0x4038c7(0x472)]??0x0)+_0x2e7d18,_0x892ec0[_0x4038c7(0x546)]=(_0x892ec0[_0x4038c7(0x546)]??0x0)+_0x4f1aa4,_0x2b1a64[_0x4038c7(0x93c)]&&(_0x892ec0['internalContext']||(_0x892ec0[_0x4038c7(0xa3b)]={}),_0x892ec0['internalContext'][_0x2b1a64[_0x4038c7(0x93c)]]=_0x3cf761)),_0xb2318b['emit']({'output':'\x0a\x0a','type':_0x4038c7(0x5ac)}),await _0x53a877['wait'](0x1),_0x12e246='I\x20have\x20finished\x20executing\x20my\x20task.';}else{const _0x342cb2=await fetch(_0x229087[_0x4038c7(0x599)]+'/chat/completions',{'method':_0x4038c7(0x1b6),'headers':{'Content-Type':'application/json','x-vendor-id':_0x768a0d},'body':JSON['stringify']({'model':_0x2b1a64['modelId'],'messages':_0x15481f,'max_completion_tokens':_0x2b1a64['maxTokens'],'temperature':_0x2b1a64[_0x4038c7(0x9ff)],'tools':_0x2b1a64['tools'],'structured_output':_0x2b1a64['grammar'],'metadata':{'threadId':_0x158193,'jobId':_0x5d33e6,'agentId':_0x1eb9c0,'workflowId':_0xa1556f,'context':_0x892ec0?.[_0x4038c7(0xa3b)]??{}}})}),_0x39adfe=await _0x342cb2[_0x4038c7(0x9ab)]();_0x12e246=_0x39adfe[_0x4038c7(0x423)][0x0][_0x4038c7(0x206)][_0x4038c7(0x898)],_0x892ec0&&(_0x892ec0[_0x4038c7(0xa3b)]={..._0x892ec0[_0x4038c7(0xa3b)],..._0x39adfe[_0x4038c7(0x6b8)]},_0x892ec0[_0x4038c7(0x472)]=(_0x892ec0['outputTokens']??0x0)+_0x39adfe[_0x4038c7(0x11d)][_0x4038c7(0x470)],_0x892ec0['inputTokens']=(_0x892ec0[_0x4038c7(0x546)]??0x0)+_0x39adfe[_0x4038c7(0x11d)][_0x4038c7(0x455)],_0x2b1a64[_0x4038c7(0x93c)]&&(_0x892ec0['internalContext']||(_0x892ec0[_0x4038c7(0xa3b)]={}),_0x892ec0[_0x4038c7(0xa3b)][_0x2b1a64[_0x4038c7(0x93c)]]=_0x12e246));}if(_0x4038c7(0x2ae)!=typeof _0x12e246)throw new Error(_0x4038c7(0x84f));return _0x5d33e6&&_0x1eb9c0&&_0x158193&&await _0x383921[_0x4038c7(0x71b)]({'jobType':_0x3ed2df[_0x4038c7(0x41d)],'type':_0x368d75[_0x4038c7(0x259)],'jobId':_0x5d33e6,'blockId':_0x4038c7(0x652),'agentId':_0x1eb9c0,'threadId':_0x158193,'traceLevel':_0x3d3bca[_0x4038c7(0xbc)],'startTime':_0x1cb2b1,'timestamp':Date[_0x4038c7(0x2a6)](),'status':_0x4038c7(0x947),'agentName':_0x2b1a64[_0x4038c7(0x687)],'prompt':_0x7449eb['prompt'],'instructions':_0x2b1a64['instructions']??'','result':_0x12e246,'inputTokens':0x0,'outputTokens':0x0}),_0x12e246;}catch(_0x5f5067){return console['error'](_0x5f5067),_0x5d33e6&&_0x1eb9c0&&_0x158193&&await _0x383921[_0x4038c7(0x71b)]({'jobType':_0x3ed2df['Skill'],'type':_0x368d75[_0x4038c7(0x259)],'jobId':_0x5d33e6,'blockId':_0x4038c7(0x652),'agentId':_0x1eb9c0,'threadId':_0x158193,'traceLevel':_0x3d3bca['Info'],'startTime':_0x1cb2b1,'timestamp':Date[_0x4038c7(0x2a6)](),'status':_0x4038c7(0x23a),'errorDetails':_0x1b7023(_0x5f5067),'agentName':_0x2b1a64[_0x4038c7(0x687)],'prompt':_0x7449eb?.[_0x4038c7(0x5ac)]??'','instructions':_0x2b1a64['instructions']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x5f5067 instanceof Error?_0x5f5067['message']:_0x4038c7(0x70a);}}async function _0x55c3ce(_0x4fe016,_0x22cf83,_0x59df38,_0xe3f35e,_0x1b3506,_0x5da493){const _0x43f5b1=_0x4d79c3,_0x316b6f=Date[_0x43f5b1(0x2a6)]();try{if(!_0x22cf83[_0x43f5b1(0x27c)])throw new Error(_0x43f5b1(0x980));if(!_0x4fe016[_0x43f5b1(0x5c4)])throw new Error(_0x43f5b1(0x31e));if(_0x43f5b1(0x2ae)!=typeof _0x59df38?.[_0x43f5b1(0x6f1)])throw new Error('Query\x20is\x20required');const _0x430ca9=await _0x22cf83[_0x43f5b1(0x27c)][_0x43f5b1(0x8a7)](_0x59df38[_0x43f5b1(0x6f1)],_0x4fe016[_0x43f5b1(0x5c4)]);return _0xe3f35e&&_0x1b3506&&_0x5da493&&(await _0x383921['logUsage'](_0xe3f35e,_0x4fe016[_0x43f5b1(0x5c4)],_0x430ca9[_0x43f5b1(0x546)],_0x430ca9['outputTokens']),console[_0x43f5b1(0x3bc)](new Date()+_0x43f5b1(0x40a),_0x4fe016[_0x43f5b1(0x5c4)],_0x430ca9[_0x43f5b1(0x546)],_0x430ca9[_0x43f5b1(0x472)]),await _0x383921[_0x43f5b1(0x71b)]({'jobType':_0x3ed2df[_0x43f5b1(0x41d)],'type':_0x368d75['SearchPerplexity'],'jobId':_0xe3f35e,'agentId':_0x1b3506,'threadId':_0x5da493,'blockId':_0x43f5b1(0x167),'traceLevel':_0x3d3bca[_0x43f5b1(0xbc)],'startTime':_0x316b6f,'timestamp':Date[_0x43f5b1(0x2a6)](),'status':_0x43f5b1(0x947),'query':_0x59df38[_0x43f5b1(0x6f1)],'results':_0x430ca9['output']})),_0x430ca9['output'];}catch(_0x401908){return console['error'](_0x401908),_0xe3f35e&&_0x1b3506&&_0x5da493&&await _0x383921[_0x43f5b1(0x71b)]({'jobType':_0x3ed2df[_0x43f5b1(0x41d)],'type':_0x368d75[_0x43f5b1(0x3e1)],'jobId':_0xe3f35e,'blockId':_0x43f5b1(0x167),'traceLevel':_0x3d3bca['Info'],'startTime':_0x316b6f,'timestamp':Date[_0x43f5b1(0x2a6)](),'status':_0x43f5b1(0x23a),'errorDetails':_0x1b7023(_0x401908),'agentId':_0x1b3506,'threadId':_0x5da493,'query':_0x59df38?.['query']??'','results':'Error\x20searching'}),_0x401908 instanceof Error?_0x401908[_0x43f5b1(0x206)]:_0x43f5b1(0xa0f);}}async function _0x271f4d(_0x122320,_0x336d99,_0x19c4c5,_0x7ac2f0){const _0xe3d017=_0x4d79c3,_0x38a8be=Date[_0xe3d017(0x2a6)]();try{if(_0xe3d017(0x2ae)!=typeof _0x122320?.[_0xe3d017(0x2ef)])throw new Error(_0xe3d017(0x89f));const _0x3e0c76=Function(''+_0x122320?.[_0xe3d017(0x2ef)])();let _0x3d78a9='';try{_0x3d78a9=JSON[_0xe3d017(0x8a3)](_0x3e0c76);}catch{_0x3d78a9=_0x3e0c76[_0xe3d017(0x709)]();}return _0x336d99&&_0x19c4c5&&_0x7ac2f0&&await _0x383921[_0xe3d017(0x71b)]({'jobType':_0x3ed2df[_0xe3d017(0x41d)],'type':_0x368d75[_0xe3d017(0x792)],'agentId':_0x19c4c5,'threadId':_0x7ac2f0,'jobId':_0x336d99,'blockId':_0xe3d017(0x2ef),'traceLevel':_0x3d3bca[_0xe3d017(0xbc)],'startTime':_0x38a8be,'timestamp':Date[_0xe3d017(0x2a6)](),'status':_0xe3d017(0x947),'code':_0x122320['code'],'result':_0x3d78a9}),_0x3e0c76;}catch(_0x261e1b){return console[_0xe3d017(0x23a)](_0x261e1b),_0x336d99&&_0x19c4c5&&_0x7ac2f0&&await _0x383921[_0xe3d017(0x71b)]({'jobType':_0x3ed2df['Skill'],'type':_0x368d75['ExecuteCode'],'jobId':_0x336d99,'blockId':_0xe3d017(0x2ef),'traceLevel':_0x3d3bca[_0xe3d017(0xbc)],'startTime':_0x38a8be,'timestamp':Date['now'](),'status':_0xe3d017(0x23a),'errorDetails':_0x1b7023(_0x261e1b),'agentId':_0x19c4c5,'threadId':_0x7ac2f0,'code':_0x122320?.[_0xe3d017(0x2ef)]??'','result':_0xe3d017(0x965)}),_0x261e1b instanceof Error?_0x261e1b[_0xe3d017(0x206)]:_0xe3d017(0x965);}}async function _0x181aa3(_0x365b50,_0x29e403,_0x5e1ede,_0x1ccfe1,_0xa6d652){const _0x1463bc=_0x4d79c3,_0x77e8cf=_0x1463bc(0x5e7)+_0xa6d652['description']+_0x1463bc(0xa8c),_0x4ed3b0={'queryOrPrompt':{'type':_0xf8ccf2[_0x1463bc(0x716)][_0x1463bc(0x6bf)]}};return await _0x383921[_0x1463bc(0x71b)]({'jobType':_0x3ed2df[_0x1463bc(0x689)],'type':_0x4f1853[_0x1463bc(0x325)],'jobId':_0x365b50,'agentId':_0x29e403,'threadId':_0x5e1ede[_0x1463bc(0x335)],'blockId':_0x1463bc(0x8bd),'traceLevel':_0x3d3bca[_0x1463bc(0xbc)],'startTime':Date[_0x1463bc(0x2a6)](),'timestamp':Date[_0x1463bc(0x2a6)](),'status':_0x1463bc(0x947),'function':_0x4b5471['GetContextQuery'],'params':_0x4ed3b0,'functionDescription':_0x77e8cf}),{'description':_0x77e8cf,'params':_0x4ed3b0,'callback':async _0x402f59=>_0x18630f(_0x5e1ede[_0x1463bc(0x5eb)],_0xa6d652,_0x402f59,_0x1ccfe1,_0x365b50,_0x29e403,_0x5e1ede['threadId'])};}async function _0x18630f(_0x80dff3,_0x402a99,_0x871ae2,_0x258922,_0x201dfb,_0x1ec417,_0x43174d){const _0x3bb05a=_0x4d79c3,_0x53586d=Date['now']();try{if(_0x3bb05a(0x2ae)!=typeof _0x871ae2?.[_0x3bb05a(0x631)])throw new Error('Query\x20is\x20required');const _0x4a0d22=await fetch(_0x229087[_0x3bb05a(0x599)]+'/vector_stores/'+_0x402a99[_0x3bb05a(0x90)]+'/search',{'method':_0x3bb05a(0x1b6),'headers':{'Content-Type':_0x3bb05a(0x8b5),'x-vendor-id':_0x80dff3},'body':JSON['stringify']({'query':_0x871ae2['queryOrPrompt']})}),_0x4d1bf4=((await _0x4a0d22[_0x3bb05a(0x9ab)]())[_0x3bb05a(0x8da)]??[])[_0x3bb05a(0x384)](_0x3e1939=>({'pathName':_0x3e1939[_0x3bb05a(0x6b0)],'relevance':_0x3e1939[_0x3bb05a(0x1b7)],'content':_0x3e1939[_0x3bb05a(0x898)][_0x3bb05a(0x7b9)]}));return _0x258922&&(_0x258922[_0x3bb05a(0x6b8)]=Array['from'](new Set([..._0x258922[_0x3bb05a(0x6b8)]??[],..._0x4d1bf4]))),_0x201dfb&&_0x1ec417&&_0x43174d&&await _0x383921[_0x3bb05a(0x71b)]({'jobType':_0x3ed2df['Knowledge'],'type':_0x4b5471[_0x3bb05a(0xa94)],'jobId':_0x201dfb,'blockId':_0x3bb05a(0x8bd),'agentId':_0x1ec417,'threadId':_0x43174d,'traceLevel':_0x3d3bca[_0x3bb05a(0xbc)],'startTime':_0x53586d,'timestamp':Date[_0x3bb05a(0x2a6)](),'status':_0x3bb05a(0x947),'query':_0x871ae2[_0x3bb05a(0x631)],'context':_0x4d1bf4??[],'inputTokens':0x0,'outputTokens':0x0}),_0x4d1bf4[_0x3bb05a(0x7ab)]((_0x56d3b9,_0x4eef28)=>_0x56d3b9+'\x0a'+_0x4eef28[_0x3bb05a(0x898)],'');}catch(_0x3aff6b){return console[_0x3bb05a(0x23a)](_0x3aff6b),_0x201dfb&&_0x1ec417&&_0x43174d&&await _0x383921[_0x3bb05a(0x71b)]({'jobType':_0x3ed2df[_0x3bb05a(0x603)],'type':_0x4b5471[_0x3bb05a(0xa94)],'jobId':_0x201dfb,'blockId':_0x3bb05a(0x8bd),'agentId':_0x1ec417,'threadId':_0x43174d,'traceLevel':_0x3d3bca[_0x3bb05a(0xbc)],'startTime':_0x53586d,'timestamp':Date[_0x3bb05a(0x2a6)](),'status':_0x3bb05a(0x23a),'errorDetails':_0x1b7023(_0x3aff6b),'query':_0x871ae2?.[_0x3bb05a(0x631)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x3aff6b instanceof Error?_0x3aff6b[_0x3bb05a(0x206)]:_0x3bb05a(0x548);}}async function _0x151205(_0x15a233,_0x462687,_0x2cfa18,_0x1aaca2,_0x42f479){const _0x1b4d9c=_0x4d79c3,_0x175127={};for(const _0x5f25ec of _0x42f479[_0x1b4d9c(0x6c6)]??[])switch(_0x5f25ec[_0x1b4d9c(0x572)]){case _0x1b4d9c(0x2ae):case _0x1b4d9c(0x9ab):_0x175127[_0x5f25ec[_0x1b4d9c(0x687)]]={'type':_0xf8ccf2[_0x1b4d9c(0x716)][_0x1b4d9c(0x6bf)]};break;case'number':_0x175127[_0x5f25ec['name']]={'type':_0xf8ccf2[_0x1b4d9c(0x716)]['Number']};break;case _0x1b4d9c(0x6cf):_0x175127[_0x5f25ec['name']]={'type':_0xf8ccf2[_0x1b4d9c(0x716)][_0x1b4d9c(0x872)]};}return await _0x383921['trace']({'jobType':_0x3ed2df[_0x1b4d9c(0x689)],'type':_0x4f1853[_0x1b4d9c(0x88c)],'jobId':_0x15a233,'agentId':_0x462687,'threadId':_0x2cfa18,'traceLevel':_0x3d3bca[_0x1b4d9c(0xbc)],'startTime':Date[_0x1b4d9c(0x2a6)](),'timestamp':Date[_0x1b4d9c(0x2a6)](),'status':_0x1b4d9c(0x947),'function':_0x368d75[_0x1b4d9c(0x285)],'params':_0x175127,'functionDescription':_0x42f479[_0x1b4d9c(0x471)]??''}),{'description':'Execute\x20skill\x20'+_0x42f479[_0x1b4d9c(0x471)],'params':_0x175127,'callback':async _0x425bdc=>_0x10e7fe(_0x42f479,_0x425bdc,_0x1aaca2,_0x15a233,_0x462687,_0x2cfa18)};}async function _0x10e7fe(_0x3daa0d,_0x1fbd4a,_0x551f4b,_0x47e544,_0x3ff3b6,_0x326a10){const _0x434557=_0x4d79c3,_0x4473a=Date[_0x434557(0x2a6)]();try{if(!_0x1fbd4a)throw new Error(_0x434557(0x8e7));for(const _0x4a4804 of _0x3daa0d[_0x434557(0x6c6)]??[]){if(void 0x0===_0x1fbd4a[_0x4a4804[_0x434557(0x687)]])throw new Error('Parameter\x20'+_0x4a4804['name']+'\x20is\x20required');if('string'===_0x4a4804[_0x434557(0x572)]&&'string'!=typeof _0x1fbd4a[_0x4a4804[_0x434557(0x687)]])throw new Error(_0x434557(0xaaf)+_0x4a4804[_0x434557(0x687)]+'\x20must\x20be\x20a\x20string');if(_0x434557(0x15e)===_0x4a4804[_0x434557(0x572)]&&'number'!=typeof _0x1fbd4a[_0x4a4804[_0x434557(0x687)]])throw new Error(_0x434557(0xaaf)+_0x4a4804[_0x434557(0x687)]+_0x434557(0xe4));if('boolean'===_0x4a4804['type']&&_0x434557(0x6cf)!=typeof _0x1fbd4a[_0x4a4804['name']])throw new Error(_0x434557(0xaaf)+_0x4a4804['name']+_0x434557(0xb7));if(_0x434557(0x9ab)===_0x4a4804[_0x434557(0x572)]&&'string'!=typeof _0x1fbd4a[_0x4a4804[_0x434557(0x687)]])throw new Error(_0x434557(0xaaf)+_0x4a4804[_0x434557(0x687)]+_0x434557(0x292));if('json'===_0x4a4804[_0x434557(0x572)])try{_0x1fbd4a[_0x4a4804[_0x434557(0x687)]]=JSON[_0x434557(0x823)](_0x1fbd4a[_0x4a4804['name']]);}catch{throw new Error('Parameter\x20'+_0x4a4804['name']+_0x434557(0x3bf));}}const _0x5f7234={};for(const _0x48a5c0 of _0x3daa0d[_0x434557(0x1cf)]??[]){let _0x51fea5=_0x48a5c0['value'];_0x51fea5[_0x434557(0x7e9)](/\$[a-zA-Z0-9]+/)&&(_0x51fea5=_0x51fea5[_0x434557(0x388)](/\$[a-zA-Z0-9]+/g,_0x414d6b=>{const _0x502fc0=_0x414d6b['slice'](0x1);return _0x1fbd4a[_0x502fc0];})),_0x5f7234[_0x48a5c0[_0x434557(0x687)]]=_0x51fea5;}const _0xac1821=new URLSearchParams();for(const _0x448e9b of _0x3daa0d[_0x434557(0x2ad)]??[]){let _0x4d18e8=_0x448e9b[_0x434557(0x433)];if(_0x434557(0x2ae)==typeof _0x4d18e8&&_0x4d18e8[_0x434557(0x8d2)]('$')){const _0x27bcca=_0x4d18e8[_0x434557(0x4f8)](0x1);_0x4d18e8=_0x1fbd4a[_0x27bcca];}if(_0x434557(0x2ae)==typeof _0x4d18e8&&_0x4d18e8[_0x434557(0x8d2)](_0x434557(0x2f4))){const _0x759f9=_0x4d18e8[_0x434557(0x388)]('@context.','');_0x4d18e8=_0x551f4b?.[_0x434557(0xa3b)]?.[_0x759f9];}if(_0x434557(0x2ae)==typeof _0x4d18e8&&(_0x4d18e8[_0x434557(0x8d2)]('[')&&_0x4d18e8[_0x434557(0x73b)](']')||_0x4d18e8[_0x434557(0x8d2)]('{')&&_0x4d18e8[_0x434557(0x73b)]('}')))try{_0x4d18e8=JSON[_0x434557(0x823)](_0x4d18e8);}catch(_0x1f408f){console[_0x434557(0x23a)](_0x1f408f);}_0xac1821[_0x434557(0x311)](_0x448e9b[_0x434557(0x687)],_0x4d18e8);}let _0x5e848b,_0x2b8bdc=_0x3daa0d[_0x434557(0x5da)]??'';_0xac1821['size']>0x0&&(_0x2b8bdc+='?'+_0xac1821[_0x434557(0x709)]());for(const _0x3d4fdf of _0x3daa0d[_0x434557(0x175)]??[]){void 0x0===_0x5e848b&&(_0x5e848b={});let _0x152743=_0x3d4fdf[_0x434557(0x433)];if(_0x434557(0x2ae)==typeof _0x152743&&_0x152743['startsWith']('$')){const _0x25f9c7=_0x152743[_0x434557(0x4f8)](0x1);_0x152743=_0x1fbd4a[_0x25f9c7];}if(_0x434557(0x2ae)==typeof _0x152743&&_0x152743[_0x434557(0x8d2)]('@context.')){const _0x57009b=_0x152743[_0x434557(0x388)](_0x434557(0x2f4),'');_0x152743=_0x551f4b?.[_0x434557(0xa3b)]?.[_0x57009b];}if(_0x434557(0x2ae)==typeof _0x152743&&(_0x152743[_0x434557(0x8d2)]('[')&&_0x152743[_0x434557(0x73b)](']')||_0x152743[_0x434557(0x8d2)]('{')&&_0x152743[_0x434557(0x73b)]('}')))try{_0x152743=JSON[_0x434557(0x823)](_0x152743);}catch(_0xe68fa9){console[_0x434557(0x23a)](_0xe68fa9);}if(_0x434557(0xa47)===_0x3d4fdf['name']){if('string'==typeof _0x152743){const _0x5de1d5=_0x152743[_0x434557(0x7e9)](/```html(.*)```/s);_0x5de1d5&&(_0x152743=_0x5de1d5[0x1]),_0x152743=_0x152743['replace'](/\n/g,''),_0x152743=_0x152743[_0x434557(0x388)](/'/g,'\x22');}_0x5e848b=_0x152743;break;}if(-0x1===_0x3d4fdf[_0x434557(0x687)][_0x434557(0x58a)]('.'))_0x5e848b[_0x3d4fdf['name']]=_0x152743;else{const [_0x5206e4,_0x459736]=_0x3d4fdf[_0x434557(0x687)][_0x434557(0x101)]('.');_0x5e848b[_0x5206e4]||(_0x5e848b[_0x5206e4]={}),_0x5e848b[_0x5206e4][_0x459736]=_0x152743;}}console[_0x434557(0x3bc)](_0x434557(0x45d)+_0x3daa0d['name']+_0x434557(0xd9)+JSON['stringify'](_0x5e848b));const _0x309163=await fetch(_0x2b8bdc,{'method':_0x3daa0d['endpointMethod'],'headers':_0x5f7234,'body':void 0x0===_0x5e848b?void 0x0:_0x434557(0x2ae)==typeof _0x5e848b?_0x5e848b:JSON[_0x434557(0x8a3)](_0x5e848b)});if(_0x309163['ok']){let _0x1f3e1b=await _0x309163[_0x434557(0x9ab)]();return _0x434557(0x2ae)!=typeof _0x1f3e1b&&(_0x1f3e1b=JSON['stringify'](_0x1f3e1b)),_0x47e544&&_0x3ff3b6&&_0x326a10&&await _0x383921['trace']({'jobType':_0x3ed2df[_0x434557(0x41d)],'type':_0x368d75['ExecuteCustomSkill'],'jobId':_0x47e544,'agentId':_0x3ff3b6,'threadId':_0x326a10,'blockId':_0x434557(0x273),'traceLevel':_0x3d3bca[_0x434557(0xbc)],'startTime':_0x4473a,'timestamp':Date[_0x434557(0x2a6)](),'status':_0x434557(0x947),'skillName':_0x3daa0d['name'],'params':_0x1fbd4a,'result':_0x1f3e1b}),_0x551f4b&&_0x3daa0d[_0x434557(0x93c)]&&''!==_0x3daa0d[_0x434557(0x93c)]&&(_0x551f4b[_0x434557(0xa3b)]||(_0x551f4b['internalContext']={}),_0x551f4b['internalContext'][_0x3daa0d[_0x434557(0x93c)]]=_0x1f3e1b),_0x1f3e1b;}throw new Error(_0x309163[_0x434557(0x4d6)]);}catch(_0x5d3453){console[_0x434557(0x23a)](_0x5d3453);const _0x55f6b9=_0x5d3453 instanceof Error?_0x5d3453[_0x434557(0x206)]:_0x434557(0xa95);return _0x47e544&&_0x3ff3b6&&_0x326a10&&await _0x383921['trace']({'jobType':_0x3ed2df[_0x434557(0x41d)],'type':_0x368d75[_0x434557(0x285)],'jobId':_0x47e544,'blockId':_0x434557(0x273),'threadId':_0x326a10,'traceLevel':_0x3d3bca[_0x434557(0xbc)],'startTime':_0x4473a,'timestamp':Date[_0x434557(0x2a6)](),'agentId':_0x3ff3b6,'status':_0x434557(0x23a),'skillName':_0x3daa0d[_0x434557(0x687)],'params':_0x1fbd4a??{},'result':_0x55f6b9}),_0x55f6b9;}}async function _0x437f01(_0xbc1059,_0x5d6764,_0x200c2c,_0x45633b=!0x0){const _0x2965f7=_0x4d79c3,_0x18523e=_0x2965f7(0xa41),_0x54cf97={'url':{'type':_0xf8ccf2[_0x2965f7(0x716)][_0x2965f7(0x6bf)]},'page':{'type':_0xf8ccf2[_0x2965f7(0x716)][_0x2965f7(0x585)]}};return await _0x383921[_0x2965f7(0x71b)]({'jobType':_0x3ed2df[_0x2965f7(0x689)],'type':_0x4f1853[_0x2965f7(0x88c)],'jobId':_0xbc1059,'agentId':_0x5d6764,'threadId':_0x200c2c,'traceLevel':_0x3d3bca['Info'],'startTime':Date[_0x2965f7(0x2a6)](),'timestamp':Date[_0x2965f7(0x2a6)](),'status':_0x2965f7(0x947),'function':_0x368d75[_0x2965f7(0x1fc)],'params':_0x54cf97,'functionDescription':_0x18523e}),{'description':_0x18523e,'params':_0x54cf97,'callback':async _0x336adc=>_0x1ae458(_0x336adc,_0x45633b,_0xbc1059,_0x5d6764,_0x200c2c)};}async function _0x1ae458(_0x5c7d75,_0x3feac6=!0x0,_0x33aabd,_0x5beb83,_0x1c554f){const _0x6b7354=_0x4d79c3,_0x183048=Date[_0x6b7354(0x2a6)]();try{if(_0x6b7354(0x2ae)!=typeof _0x5c7d75?.['url'])throw new Error(_0x6b7354(0xa00));const _0x432e92=_0x5c7d75[_0x6b7354(0x91b)];if(['.pdf','.doc','.docx',_0x6b7354(0x8d4),_0x6b7354(0x111),_0x6b7354(0x26f),_0x6b7354(0x3c3)][_0x6b7354(0x884)](_0x4cfbed=>_0x432e92[_0x6b7354(0x73b)](_0x4cfbed)))throw new Error(_0x6b7354(0x10a));const _0x1000ec=await fetch(_0x432e92),_0x58263b=await _0x1000ec[_0x6b7354(0x7b9)]();let _0x1b3425=_0x58263b;if(_0x3feac6){const _0x4c068f=_0x58263b[_0x6b7354(0x7e9)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x416009=_0x4c068f?_0x4c068f[0x1]:_0x58263b,_0x1e9bcf=_0x416009[_0x6b7354(0x388)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x6b7354(0x388)](/<br\s*\/?>/gi,'\x20')[_0x6b7354(0x388)](/&nbsp;/g,'\x20');_0x1b3425=_0x1e9bcf['replace'](/<\/?[^>]+(>|$)/g,'')[_0x6b7354(0x388)](/\s\s+/g,'\x20')[_0x6b7354(0x85f)]();}const _0x582a6d=_0x6b7354(0x15e)==typeof _0x5c7d75[_0x6b7354(0x356)]?_0x5c7d75[_0x6b7354(0x356)]:0x1,_0x65415b=Math['ceil'](_0x1b3425[_0x6b7354(0x4bf)]/_0x182e0e);return _0x1b3425['length']>_0x182e0e&&(_0x1b3425=_0x1b3425[_0x6b7354(0x364)]((_0x582a6d-0x1)*_0x182e0e,(_0x582a6d-0x1)*_0x182e0e+_0x182e0e)+_0x6b7354(0x4a3)+(_0x582a6d+0x1)+_0x6b7354(0x374)+_0x65415b+'.'),_0x33aabd&&_0x5beb83&&_0x1c554f&&await _0x383921['trace']({'jobType':_0x3ed2df['Skill'],'type':_0x368d75[_0x6b7354(0x1fc)],'jobId':_0x33aabd,'agentId':_0x5beb83,'threadId':_0x1c554f,'blockId':'fetch-url','traceLevel':_0x3d3bca[_0x6b7354(0xbc)],'startTime':_0x183048,'timestamp':Date[_0x6b7354(0x2a6)](),'status':_0x1000ec['ok']?'success':'error','url':_0x5c7d75[_0x6b7354(0x91b)],'page':_0x582a6d,'totalPages':_0x65415b,'response':_0x1b3425}),_0x1b3425;}catch(_0x471822){console[_0x6b7354(0x23a)](_0x471822);const _0x1fa291=_0x471822 instanceof Error?_0x471822['message']:_0x6b7354(0xa95);return _0x33aabd&&_0x5beb83&&_0x1c554f&&await _0x383921[_0x6b7354(0x71b)]({'jobType':_0x3ed2df[_0x6b7354(0x41d)],'type':_0x368d75[_0x6b7354(0x1fc)],'jobId':_0x33aabd,'blockId':_0x6b7354(0xa08),'threadId':_0x1c554f,'traceLevel':_0x3d3bca['Info'],'startTime':_0x183048,'timestamp':Date[_0x6b7354(0x2a6)](),'agentId':_0x5beb83,'status':_0x6b7354(0x23a),'errorDetails':_0x1b7023(_0x471822),'url':_0x5c7d75?.[_0x6b7354(0x91b)]??'','page':0x0,'totalPages':0x0,'response':_0x1fa291}),_0x1fa291;}}async function _0x54bf68(_0x57c7f7,_0x9d80bf,_0x4bb54d,_0x5155cb,_0x5a8c41){const _0x4d5232=_0x4d79c3,_0x4c285b=Date[_0x4d5232(0x2a6)]();try{if(!_0x57c7f7['searchConnector'])throw new Error(_0x4d5232(0x3a9));if(_0x4d5232(0x2ae)!=typeof _0x9d80bf?.[_0x4d5232(0x6f1)])throw new Error(_0x4d5232(0x670));const _0x3b52f9=await _0x57c7f7['searchConnector'][_0x4d5232(0x8a7)](_0x9d80bf[_0x4d5232(0x6f1)],_0x229087[_0x4d5232(0x51d)]['searchEngineId']);let _0x357f95='';for(const _0x38b7e6 of _0x3b52f9)_0x357f95+=_0x38b7e6[_0x4d5232(0x84e)]+_0x4d5232(0x6be)+_0x38b7e6[_0x4d5232(0x91b)]+'\x0a'+_0x38b7e6[_0x4d5232(0x93f)]+'\x0a\x0a';return _0x4bb54d&&_0x5155cb&&_0x5a8c41&&await _0x383921['trace']({'jobType':_0x3ed2df[_0x4d5232(0x41d)],'type':_0x368d75['SearchGoogle'],'jobId':_0x4bb54d,'agentId':_0x5155cb,'threadId':_0x5a8c41,'blockId':_0x4d5232(0x8a7),'traceLevel':_0x3d3bca[_0x4d5232(0xbc)],'startTime':_0x4c285b,'timestamp':Date[_0x4d5232(0x2a6)](),'status':_0x4d5232(0x947),'query':_0x9d80bf[_0x4d5232(0x6f1)],'results':_0x357f95}),_0x357f95;}catch(_0x42049f){return console['error'](_0x42049f),_0x4bb54d&&_0x5155cb&&_0x5a8c41&&await _0x383921[_0x4d5232(0x71b)]({'jobType':_0x3ed2df[_0x4d5232(0x41d)],'type':_0x368d75[_0x4d5232(0xd6)],'jobId':_0x4bb54d,'blockId':_0x4d5232(0x8a7),'traceLevel':_0x3d3bca[_0x4d5232(0xbc)],'startTime':_0x4c285b,'timestamp':Date['now'](),'status':_0x4d5232(0x23a),'errorDetails':_0x1b7023(_0x42049f),'agentId':_0x5155cb,'threadId':_0x5a8c41,'query':_0x9d80bf?.['query']??'','results':_0x4d5232(0xa0f)}),_0x42049f instanceof Error?_0x42049f[_0x4d5232(0x206)]:_0x4d5232(0xa0f);}}async function _0x58a666(_0x5f0bb8,_0x5cd596,_0x4c6bd1,_0x29f048,_0x2315da,_0x9995fc){const _0x4da8e7=_0x4d79c3,_0x4a2efa=_0x4da8e7(0x7c0)+_0x2315da[_0x4da8e7(0x471)]+'\x20to\x20generate\x20a\x20response.',_0x3d4185={'prompt':{'type':_0xf8ccf2[_0x4da8e7(0x716)][_0x4da8e7(0x6bf)]}};return await _0x383921['trace']({'jobType':_0x3ed2df[_0x4da8e7(0x689)],'type':_0x4f1853['LoadSkillFunction'],'jobId':_0x5f0bb8,'agentId':_0x5cd596,'threadId':_0x4c6bd1[_0x4da8e7(0x335)],'traceLevel':_0x3d3bca[_0x4da8e7(0xbc)],'startTime':Date['now'](),'timestamp':Date[_0x4da8e7(0x2a6)](),'status':'success','function':_0x368d75[_0x4da8e7(0x437)],'params':_0x3d4185,'functionDescription':_0x4a2efa}),{'description':_0x4a2efa,'params':_0x3d4185,'callback':async _0x50a478=>_0x46bd40(_0x4c6bd1[_0x4da8e7(0x5eb)],_0x2315da,_0x50a478,_0x29f048,_0x5f0bb8,_0x5cd596,_0x4c6bd1[_0x4da8e7(0x335)],_0x9995fc)};}async function _0x46bd40(_0x343410,_0x47102e,_0x3d304a,_0x19b476,_0x1b0fd0,_0x24a945,_0x570a3d,_0x299b3c){const _0x3d85a2=_0x4d79c3,_0x2e5554=Date[_0x3d85a2(0x2a6)]();try{if(_0x3d85a2(0x2ae)!=typeof _0x3d304a?.[_0x3d85a2(0x5ac)])throw new Error(_0x3d85a2(0x32c));let _0x5dd7f8='';const _0x4df1ec=_0x47102e[_0x3d85a2(0x412)]?.[_0x3d85a2(0x101)](',')??[];let _0x23db7f=_0x3d304a[_0x3d85a2(0x5ac)];for(const _0x3b2ad5 of _0x4df1ec){const _0x5e55b3=_0x19b476?.[_0x3d85a2(0xa3b)]?.[_0x3b2ad5];_0x5e55b3&&(_0x23db7f='<'+_0x3b2ad5+'>\x0a'+_0x5e55b3+_0x3d85a2(0x15d)+_0x3b2ad5+_0x3d85a2(0x4ca)+_0x23db7f);}let _0x264438=[{'role':_0x3d85a2(0x62b),'content':_0x23db7f}];if(_0x299b3c&&_0x47102e[_0x3d85a2(0x189)]){const _0x459943=await fetch(_0x229087[_0x3d85a2(0x599)]+'/workflows/'+_0x47102e[_0x3d85a2(0x48e)]+_0x3d85a2(0x79f),{'method':'POST','headers':{'Accept':'text/event-stream','Content-Type':_0x3d85a2(0x8b5),'x-vendor-id':_0x343410},'body':JSON[_0x3d85a2(0x8a3)]({'model':_0x47102e[_0x3d85a2(0x5c4)],'messages':_0x264438,'max_completion_tokens':_0x47102e['maxTokens'],'temperature':_0x47102e[_0x3d85a2(0x9ff)],'tools':_0x47102e[_0x3d85a2(0x858)],'structured_output':_0x47102e[_0x3d85a2(0x715)],'metadata':{'threadId':_0x570a3d,'jobId':_0x1b0fd0,'agentId':_0x24a945,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x459943['ok']||!_0x459943['body'])return console[_0x3d85a2(0x23a)](_0x3d85a2(0x164)),_0x299b3c[_0x3d85a2(0x28b)](void 0x0),_0x3d85a2(0x7c6);const _0x2a9d40=_0x459943[_0x3d85a2(0x919)][_0x3d85a2(0x9aa)](),_0x50be4f=new TextDecoder();let _0xe4591f=0x0,_0x23736a=0x0,_0x4d71bb='';for(;;){const {value:_0x538d8c,done:_0x2f79d5}=await _0x2a9d40[_0x3d85a2(0x969)]();if(_0x2f79d5)break;const _0x543b0a=_0x50be4f[_0x3d85a2(0x21d)](_0x538d8c,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x543b0a)break;const _0x5b00fa=_0x21d95c(_0x543b0a);for(const _0x35018b of _0x5b00fa)_0x35018b[_0x3d85a2(0x423)]&&_0x35018b[_0x3d85a2(0x423)][0x0]&&(_0x4d71bb+=_0x35018b['choices'][0x0]['delta']['content'],_0xe4591f+=_0x35018b['usage']?.['input_tokens']??0x0,_0x23736a+=_0x35018b[_0x3d85a2(0x11d)]?.[_0x3d85a2(0x5a2)]??0x0,_0x19b476&&(_0x19b476['internalContext']={..._0x19b476[_0x3d85a2(0xa3b)],..._0x35018b['context']}),_0x299b3c['emit']({'output':_0x35018b[_0x3d85a2(0x423)][0x0][_0x3d85a2(0xa9c)]['content'],'type':_0x3d85a2(0x5ac)}),await _0x53a877[_0x3d85a2(0x316)](0x1));}_0x19b476&&(_0x19b476[_0x3d85a2(0x472)]=(_0x19b476[_0x3d85a2(0x472)]??0x0)+_0x23736a,_0x19b476[_0x3d85a2(0x546)]=(_0x19b476['inputTokens']??0x0)+_0xe4591f,_0x47102e['contextOutputVariable']&&(_0x19b476[_0x3d85a2(0xa3b)]||(_0x19b476[_0x3d85a2(0xa3b)]={}),_0x19b476[_0x3d85a2(0xa3b)][_0x47102e[_0x3d85a2(0x93c)]]=_0x4d71bb)),_0x299b3c[_0x3d85a2(0x28b)]({'output':'\x0a\x0a','type':_0x3d85a2(0x5ac)}),await _0x53a877[_0x3d85a2(0x316)](0x1),_0x5dd7f8=_0x3d85a2(0x76f);}else{const _0x55bb72=fetch(_0x229087[_0x3d85a2(0x599)]+_0x3d85a2(0x966)+_0x47102e['workflowId']+_0x3d85a2(0x79f),{'method':_0x3d85a2(0x1b6),'headers':{'Content-Type':_0x3d85a2(0x8b5),'x-vendor-id':_0x343410},'body':JSON['stringify']({'model':_0x47102e[_0x3d85a2(0x5c4)],'messages':_0x264438,'max_completion_tokens':_0x47102e[_0x3d85a2(0x719)],'temperature':_0x47102e[_0x3d85a2(0x9ff)],'tools':_0x47102e[_0x3d85a2(0x858)],'structured_output':_0x47102e[_0x3d85a2(0x715)],'metadata':{'threadId':_0x570a3d,'jobId':_0x1b0fd0,'agentId':_0x24a945,'context':{}}})});if(_0x47102e[_0x3d85a2(0x957)])return _0x3d85a2(0x76f);const _0x7d386a=await _0x55bb72,_0xe1157=await _0x7d386a[_0x3d85a2(0x9ab)]();_0x5dd7f8=_0xe1157[_0x3d85a2(0x423)][0x0]['message']['content'],_0x19b476&&(_0x19b476['internalContext']={..._0x19b476[_0x3d85a2(0xa3b)],..._0xe1157[_0x3d85a2(0x6b8)]},_0x19b476[_0x3d85a2(0x472)]=(_0x19b476[_0x3d85a2(0x472)]??0x0)+_0xe1157[_0x3d85a2(0x11d)][_0x3d85a2(0x470)],_0x19b476[_0x3d85a2(0x546)]=(_0x19b476['inputTokens']??0x0)+_0xe1157[_0x3d85a2(0x11d)][_0x3d85a2(0x455)],_0x47102e['contextOutputVariable']&&(_0x19b476[_0x3d85a2(0xa3b)]||(_0x19b476[_0x3d85a2(0xa3b)]={}),_0x19b476[_0x3d85a2(0xa3b)][_0x47102e[_0x3d85a2(0x93c)]]=_0x5dd7f8));}if(_0x3d85a2(0x2ae)!=typeof _0x5dd7f8)throw new Error(_0x3d85a2(0x8ef));return _0x1b0fd0&&_0x24a945&&_0x570a3d&&await _0x383921[_0x3d85a2(0x71b)]({'jobType':_0x3ed2df[_0x3d85a2(0x41d)],'type':_0x368d75[_0x3d85a2(0x437)],'jobId':_0x1b0fd0,'blockId':_0x3d85a2(0x460),'agentId':_0x24a945,'threadId':_0x570a3d,'traceLevel':_0x3d3bca[_0x3d85a2(0xbc)],'startTime':_0x2e5554,'timestamp':Date[_0x3d85a2(0x2a6)](),'status':_0x3d85a2(0x947),'workflowName':_0x47102e[_0x3d85a2(0x687)],'prompt':_0x3d304a[_0x3d85a2(0x5ac)],'result':_0x5dd7f8,'inputTokens':0x0,'outputTokens':0x0}),_0x5dd7f8;}catch(_0x3ed3ed){if(console['error'](_0x3ed3ed),_0x1b0fd0&&_0x24a945&&_0x570a3d&&await _0x383921[_0x3d85a2(0x71b)]({'jobType':_0x3ed2df[_0x3d85a2(0x41d)],'type':_0x368d75[_0x3d85a2(0x437)],'jobId':_0x1b0fd0,'blockId':_0x3d85a2(0x460),'agentId':_0x24a945,'threadId':_0x570a3d,'traceLevel':_0x3d3bca[_0x3d85a2(0xbc)],'startTime':_0x2e5554,'timestamp':Date[_0x3d85a2(0x2a6)](),'status':_0x3d85a2(0x23a),'errorDetails':_0x1b7023(_0x3ed3ed),'workflowName':_0x47102e[_0x3d85a2(0x687)],'prompt':_0x3d304a?.[_0x3d85a2(0x5ac)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x3ed3ed instanceof Error)throw _0x3ed3ed;throw new Error(_0x3d85a2(0x7a4));}}async function _0x2c7d9e(_0x544d3e,_0x4d11c3,_0x44a44e,_0x589ef4,_0x42250f){const _0x33ace7=_0x4d79c3;return await _0x383921[_0x33ace7(0x71b)]({'jobType':_0x3ed2df['JobContext'],'type':_0x4f1853['LoadSkillFunction'],'jobId':_0x544d3e,'agentId':_0x4d11c3,'threadId':_0x44a44e,'traceLevel':_0x3d3bca[_0x33ace7(0xbc)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x33ace7(0x947),'function':_0x368d75['FormGetQuestion'],'params':{},'functionDescription':_0x33ace7(0x80a)}),{'description':_0x33ace7(0x80a),'params':{},'callback':async()=>_0xf4db9a(_0x42250f,_0x589ef4,_0x544d3e,_0x4d11c3,_0x44a44e)};}async function _0xf4db9a(_0x3b138a,_0x18110b,_0x125069,_0x848534,_0x56278a){const _0x491965=_0x4d79c3,_0x39335b=Date[_0x491965(0x2a6)]();let _0x3d3760=_0x3b138a[_0x491965(0x687)]['replace'](/[^a-zA-Z]/g,'');_0x3d3760['startsWith'](_0x491965(0xaaa))&&(_0x3d3760=_0x3d3760[_0x491965(0x388)](_0x491965(0xaaa),''));const _0x43dbe6=_0x491965(0x497)+_0x3d3760;let _0x1fd2ce=0x0;if(_0x18110b){const _0x1d75a1=_0x18110b[_0x491965(0xa3b)]?.[_0x43dbe6];_0x1d75a1?_0x1fd2ce=parseInt(_0x1d75a1):(_0x1fd2ce=0x0,_0x18110b['internalContext']||(_0x18110b['internalContext']={}),_0x18110b[_0x491965(0xa3b)][_0x43dbe6]='0');}const _0x2c8b3d=_0x3b138a[_0x491965(0x34c)]||[];if(_0x1fd2ce>=_0x2c8b3d[_0x491965(0x4bf)])return JSON[_0x491965(0x8a3)]({'error':_0x491965(0x28f)});const _0x836794=_0x2c8b3d[_0x1fd2ce];return _0x125069&&_0x848534&&_0x56278a&&await _0x383921[_0x491965(0x71b)]({'jobType':_0x3ed2df[_0x491965(0x41d)],'type':_0x368d75[_0x491965(0x2b8)],'jobId':_0x125069,'agentId':_0x848534,'threadId':_0x56278a,'blockId':_0x491965(0x2e0),'traceLevel':_0x3d3bca[_0x491965(0xbc)],'startTime':_0x39335b,'timestamp':Date['now'](),'status':_0x491965(0x947),'question':_0x836794[_0x491965(0x6a4)],'currentQuestionIndex':_0x1fd2ce,'questions':_0x2c8b3d[_0x491965(0x384)](_0x3dbce1=>_0x3dbce1[_0x491965(0x6a4)])}),JSON[_0x491965(0x8a3)]({'id':_0x836794['id'],'question':_0x836794[_0x491965(0x6a4)],'validation':_0x836794[_0x491965(0x6ae)],'required':_0x836794[_0x491965(0x4a5)],'format':_0x836794['format'],'action':'If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer'});}async function _0x7cc18f(_0x974ea4,_0x2c4a,_0xf5ce1e,_0x21359d,_0x5770bc){const _0x178236=_0x4d79c3;return await _0x383921[_0x178236(0x71b)]({'jobType':_0x3ed2df[_0x178236(0x689)],'type':_0x4f1853[_0x178236(0x88c)],'jobId':_0x974ea4,'agentId':_0x2c4a,'threadId':_0xf5ce1e,'traceLevel':_0x3d3bca[_0x178236(0xbc)],'startTime':Date[_0x178236(0x2a6)](),'timestamp':Date[_0x178236(0x2a6)](),'status':'success','function':_0x368d75['FormSetAnswer'],'params':{},'functionDescription':_0x178236(0x112)}),{'description':_0x178236(0x112),'params':{'id':{'type':_0xf8ccf2[_0x178236(0x716)][_0x178236(0x6bf)]},'answer':{'type':_0xf8ccf2[_0x178236(0x716)][_0x178236(0x6bf)]}},'callback':async _0x49d98f=>_0x7df8a9(_0x5770bc,_0x49d98f,_0x21359d,_0x974ea4,_0x2c4a,_0xf5ce1e)};}async function _0x7df8a9(_0x4fd868,_0x4179cd,_0x4eead5,_0x263f50,_0x2b299c,_0x45f7db){const _0x34a9ec=_0x4d79c3,_0x315840=Date[_0x34a9ec(0x2a6)]();let _0x507c27=_0x4fd868[_0x34a9ec(0x687)][_0x34a9ec(0x388)](/[^a-zA-Z]/g,'');_0x507c27[_0x34a9ec(0x8d2)](_0x34a9ec(0xee))&&(_0x507c27=_0x507c27['replace'](_0x34a9ec(0xee),''));const _0xaebcaf='question-'+_0x507c27,_0x52928e=_0x4fd868[_0x34a9ec(0x34c)]||[];let _0x27541f=0x0;if(_0x4eead5&&(_0x27541f=parseInt(_0x4eead5[_0x34a9ec(0xa3b)]?.[_0xaebcaf]??'0')),!_0x4179cd?.['id']||_0x34a9ec(0x2ae)!=typeof _0x4179cd['id'])return JSON[_0x34a9ec(0x8a3)]({'error':_0x34a9ec(0x1e1)});const _0x2d470c=_0x52928e[_0x34a9ec(0x483)](_0x4985ea=>_0x4985ea['id']===_0x4179cd['id']);if(!_0x2d470c)return JSON[_0x34a9ec(0x8a3)]({'error':'Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id'});if(!_0x4179cd?.['answer']||_0x34a9ec(0x2ae)!=typeof _0x4179cd[_0x34a9ec(0x695)])return JSON['stringify']({'error':_0x34a9ec(0xa10)});if(_0x4eead5){_0x4eead5[_0x34a9ec(0xa3b)]||(_0x4eead5[_0x34a9ec(0xa3b)]={});const _0x1fd762=_0x34a9ec(0x707)+_0x507c27,_0x514c14=_0x1fd762+'-'+_0x4179cd['id'];_0x4eead5[_0x34a9ec(0xa3b)][_0x514c14]=_0x4179cd[_0x34a9ec(0x695)];let _0x4c5017=!0x1;for(let _0x3b66a9=0x0;_0x3b66a9<_0x52928e[_0x34a9ec(0x4bf)];_0x3b66a9++){const _0x1bf643=_0x4eead5['internalContext']?.[_0x1fd762+'-'+_0x52928e[_0x3b66a9]['id']];if(_0x3b66a9!==_0x27541f&&!_0x1bf643){_0x27541f=_0x3b66a9,_0x4c5017=!0x0;break;}}_0x4c5017||_0x27541f++,_0x4eead5[_0x34a9ec(0xa3b)][_0xaebcaf]=_0x27541f[_0x34a9ec(0x709)]();}_0x263f50&&_0x2b299c&&_0x45f7db&&await _0x383921[_0x34a9ec(0x71b)]({'jobType':_0x3ed2df['Skill'],'type':_0x368d75[_0x34a9ec(0x744)],'jobId':_0x263f50,'agentId':_0x2b299c,'threadId':_0x45f7db,'blockId':_0x34a9ec(0xaae),'traceLevel':_0x3d3bca[_0x34a9ec(0xbc)],'startTime':_0x315840,'timestamp':Date[_0x34a9ec(0x2a6)](),'status':_0x34a9ec(0x947),'question':_0x2d470c[_0x34a9ec(0x6a4)],'answer':_0x4179cd[_0x34a9ec(0x695)],'currentQuestionIndex':_0x27541f,'questions':_0x52928e['map'](_0x461fad=>_0x461fad[_0x34a9ec(0x6a4)])});const _0x51111a=_0x52928e[_0x27541f];return _0x51111a?JSON[_0x34a9ec(0x8a3)]({'id':_0x51111a['id'],'question':_0x51111a[_0x34a9ec(0x6a4)],'validation':_0x51111a[_0x34a9ec(0x6ae)],'required':_0x51111a[_0x34a9ec(0x4a5)],'format':_0x51111a[_0x34a9ec(0x5ec)],'action':_0x34a9ec(0x8d0)}):JSON['stringify']({'action':'No\x20more\x20questions,\x20call\x20submitForm\x20to\x20submit\x20the\x20form'});}async function _0xa4b29b(_0x2b48d2,_0x164d69,_0x9ea5a0,_0x408677,_0x55799a){const _0x4b47be=_0x4d79c3,_0x217f42=_0x4b47be(0xa17);return await _0x383921[_0x4b47be(0x71b)]({'jobType':_0x3ed2df[_0x4b47be(0x689)],'type':_0x4f1853['LoadSkillFunction'],'jobId':_0x2b48d2,'agentId':_0x164d69,'threadId':_0x9ea5a0,'traceLevel':_0x3d3bca[_0x4b47be(0xbc)],'startTime':Date[_0x4b47be(0x2a6)](),'timestamp':Date[_0x4b47be(0x2a6)](),'status':'success','function':_0x368d75[_0x4b47be(0x71e)],'params':{},'functionDescription':_0x217f42}),{'description':_0x217f42,'params':{},'callback':async()=>_0x426614(_0x55799a,_0x408677,_0x2b48d2,_0x164d69,_0x9ea5a0)};}async function _0x426614(_0x3dbd88,_0x177a65,_0x105104,_0x47b0ee,_0x264b6c){const _0x18e8ad=_0x4d79c3;let _0x436c30=_0x3dbd88[_0x18e8ad(0x687)][_0x18e8ad(0x388)](/[^a-zA-Z]/g,'');_0x436c30[_0x18e8ad(0x8d2)](_0x18e8ad(0x1e7))&&(_0x436c30=_0x436c30[_0x18e8ad(0x388)](_0x18e8ad(0x1e7),''));const _0x595c74=_0x3dbd88[_0x18e8ad(0x34c)]||[],_0x22bb70={};if(!_0x177a65)return JSON[_0x18e8ad(0x8a3)]({'error':_0x18e8ad(0xa2e)});for(let _0x343bd2=0x0;_0x343bd2<_0x595c74[_0x18e8ad(0x4bf)];_0x343bd2++){const _0x4fdc42=_0x177a65[_0x18e8ad(0xa3b)]?.[_0x18e8ad(0x707)+_0x436c30+'-'+_0x595c74[_0x343bd2]['id']];if(_0x595c74[_0x343bd2][_0x18e8ad(0x4a5)]&&!_0x4fdc42)return JSON[_0x18e8ad(0x8a3)]({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});_0x22bb70[_0x595c74[_0x343bd2]['id']]=_0x4fdc42;}return _0x177a65&&_0x3dbd88[_0x18e8ad(0x93c)]&&(_0x177a65[_0x18e8ad(0xa3b)]||(_0x177a65['internalContext']={}),_0x177a65['internalContext'][_0x3dbd88[_0x18e8ad(0x93c)]]=JSON['stringify'](_0x22bb70)),_0x105104&&_0x47b0ee&&_0x264b6c&&await _0x383921[_0x18e8ad(0x71b)]({'jobType':_0x3ed2df[_0x18e8ad(0x41d)],'type':_0x368d75['FormSubmitForm'],'jobId':_0x105104,'agentId':_0x47b0ee,'threadId':_0x264b6c,'blockId':_0x18e8ad(0x3ef),'traceLevel':_0x3d3bca[_0x18e8ad(0xbc)],'startTime':Date['now'](),'timestamp':Date[_0x18e8ad(0x2a6)](),'status':_0x18e8ad(0x947),'answers':_0x22bb70}),JSON[_0x18e8ad(0x8a3)]({'success':!0x0});}async function _0x39cc2d(_0x4712d1,_0x1c3848,_0x43bd68,_0x5c8191,_0x380ebd,_0x5a5e7e,_0x1be724){const _0x3d53fc=_0x4d79c3,_0xc8fbcf=new Map();for(const _0x1b24ff of _0x380ebd)_0x1b24ff['type']===_0xf8ccf2[_0x3d53fc(0x2e1)][_0x3d53fc(0x603)]||_0x1b24ff['type']===_0xf8ccf2[_0x3d53fc(0x2e1)]['DataCollection']?_0xc8fbcf[_0x3d53fc(0xb1)](_0x3d53fc(0x251)+_0x1b24ff[_0x3d53fc(0x687)][_0x3d53fc(0x388)](/[^a-zA-Z]/g,''),await _0x181aa3(_0x4712d1,_0x1c3848,_0x43bd68,_0x5c8191,_0x1b24ff)):_0x1b24ff[_0x3d53fc(0x572)]===_0xf8ccf2[_0x3d53fc(0x2e1)][_0x3d53fc(0x5d7)]||_0x1b24ff['type']===_0xf8ccf2['GenerativeAIInferenceToolType']['Agent']?_0xc8fbcf[_0x3d53fc(0xb1)](_0x3d53fc(0x7bc)+_0x1b24ff['name'][_0x3d53fc(0x388)](/[^a-zA-Z]/g,''),await _0xcbcf73(_0x4712d1,_0x1c3848,_0x43bd68,_0x5c8191,_0x1b24ff,_0x5a5e7e,_0x1be724)):_0x1b24ff[_0x3d53fc(0x572)]===_0xf8ccf2[_0x3d53fc(0x2e1)][_0x3d53fc(0x5aa)]?_0xc8fbcf[_0x3d53fc(0xb1)](_0x3d53fc(0x5c0)+_0x1b24ff[_0x3d53fc(0x687)][_0x3d53fc(0x388)](/[^a-zA-Z]/g,''),await _0x58a666(_0x4712d1,_0x1c3848,_0x43bd68,_0x5c8191,_0x1b24ff,_0x1be724)):_0x1b24ff[_0x3d53fc(0x572)]===_0xf8ccf2[_0x3d53fc(0x2e1)][_0x3d53fc(0x597)]?_0xc8fbcf[_0x3d53fc(0xb1)](_0x1b24ff['name']['replace'](/[^a-zA-Z]/g,''),await _0x151205(_0x4712d1,_0x1c3848,_0x43bd68['threadId'],_0x5c8191,_0x1b24ff)):_0x1b24ff[_0x3d53fc(0x572)]===_0xf8ccf2['GenerativeAIInferenceToolType']['FormSkillGetQuestion']?_0xc8fbcf[_0x3d53fc(0xb1)](_0x3d53fc(0xaaa)+_0x1b24ff[_0x3d53fc(0x687)][_0x3d53fc(0x388)](/[^a-zA-Z]/g,''),await _0x2c7d9e(_0x4712d1,_0x1c3848,_0x43bd68[_0x3d53fc(0x335)],_0x5c8191,_0x1b24ff)):_0x1b24ff[_0x3d53fc(0x572)]===_0xf8ccf2[_0x3d53fc(0x2e1)][_0x3d53fc(0x637)]?_0xc8fbcf['set'](_0x3d53fc(0xee)+_0x1b24ff[_0x3d53fc(0x687)]['replace'](/[^a-zA-Z]/g,''),await _0x7cc18f(_0x4712d1,_0x1c3848,_0x43bd68['threadId'],_0x5c8191,_0x1b24ff)):_0x1b24ff[_0x3d53fc(0x572)]===_0xf8ccf2[_0x3d53fc(0x2e1)][_0x3d53fc(0x19c)]?_0xc8fbcf[_0x3d53fc(0xb1)](_0x3d53fc(0x1e7)+_0x1b24ff[_0x3d53fc(0x687)][_0x3d53fc(0x388)](/[^a-zA-Z]/g,''),await _0xa4b29b(_0x4712d1,_0x1c3848,_0x43bd68['threadId'],_0x5c8191,_0x1b24ff)):_0xc8fbcf['set'](_0x55e717(_0x1b24ff),await _0x2f7819(_0x4712d1,_0x1c3848,_0x43bd68,_0x5c8191,_0x1b24ff,_0x5a5e7e));return _0xc8fbcf;}function _0x55e717(_0x5e96d2){const _0x11866a=_0x4d79c3;switch(_0x5e96d2[_0x11866a(0x572)]){case _0xf8ccf2[_0x11866a(0x2e1)][_0x11866a(0x160)]:return _0x11866a(0x560);case _0xf8ccf2[_0x11866a(0x2e1)]['Code']:return'executeJavascriptCodeSnippet';case _0xf8ccf2[_0x11866a(0x2e1)][_0x11866a(0x345)]:return _0x11866a(0x87b);case _0xf8ccf2[_0x11866a(0x2e1)][_0x11866a(0x29f)]:return _0x11866a(0x1cd);case _0xf8ccf2[_0x11866a(0x2e1)][_0x11866a(0x317)]:case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x11866a(0x269)]:return _0x11866a(0x39f);case _0xf8ccf2['GenerativeAIInferenceToolType']['WriteFile']:return _0x11866a(0xf3);}throw new Error(_0x11866a(0x4f7));}async function _0x2f7819(_0x1e6213,_0x11afbc,_0x11c8f8,_0x562543,_0x455be0,_0x177e0b){const _0x3740ee=_0x4d79c3;switch(_0x455be0[_0x3740ee(0x572)]){case _0xf8ccf2[_0x3740ee(0x2e1)]['AISearch']:return async function(_0x5db70f,_0x18e729,_0xfd287c,_0x3ef0c2,_0x162f64){const _0x2bd293=_0x3740ee,_0x101def=_0x2bd293(0x138),_0x99b48d={'query':{'type':_0xf8ccf2['PromptFunctionParamsType']['String']}};await _0x383921[_0x2bd293(0x71b)]({'jobType':_0x3ed2df[_0x2bd293(0x689)],'type':_0x4f1853[_0x2bd293(0x88c)],'jobId':_0x5db70f,'agentId':_0x18e729,'threadId':_0xfd287c[_0x2bd293(0x335)],'traceLevel':_0x3d3bca['Info'],'startTime':Date['now'](),'timestamp':Date[_0x2bd293(0x2a6)](),'status':_0x2bd293(0x947),'function':_0x368d75[_0x2bd293(0x3e1)],'params':_0x99b48d,'functionDescription':_0x101def});const _0x323d45=_0xfd287c[_0x2bd293(0x5eb)];try{await(0x0,_0x1165cd['httpsCallable'])(_0x46a54c['getFunctions'](),_0x2bd293(0x72b))({'vendorId':_0x323d45});}catch(_0x4fe09e){throw console[_0x2bd293(0x23a)](_0x4fe09e),new Error(_0x2bd293(0x419));}const _0x44848a=(await(0x0,_0x194189[_0x2bd293(0x734)])((0x0,_0x194189[_0x2bd293(0x31a)])(_0x46a54c['getFirestore'](),_0x2bd293(0x9b5),_0x323d45)))[_0x2bd293(0x8da)]();return _0x44848a&&_0x44848a[_0x2bd293(0x64f)]||(console[_0x2bd293(0x3bc)](new Date()+'\x20Fallback\x20model',_0x3ef0c2[_0x2bd293(0x5c4)],_0x159bd7[_0x2bd293(0x2d3)](_0x3ef0c2[_0x2bd293(0x5c4)])['fallbackModel']),_0x3ef0c2[_0x2bd293(0x5c4)]=_0x159bd7[_0x2bd293(0x2d3)](_0x3ef0c2['modelId'])[_0x2bd293(0x982)]),{'description':_0x101def,'params':_0x99b48d,'callback':async _0x76cad6=>_0x55c3ce(_0x3ef0c2,_0x162f64,_0x76cad6,_0x5db70f,_0x18e729,_0xfd287c['threadId'])};}(_0x1e6213,_0x11afbc,_0x11c8f8,_0x455be0,_0x177e0b);case _0xf8ccf2['GenerativeAIInferenceToolType']['Code']:return async function(_0x4d7eb6,_0x38d00c,_0x298ac8){const _0x294015=_0x3740ee,_0x35f74d=_0x294015(0x96c),_0x4d496c={'code':{'type':_0xf8ccf2['PromptFunctionParamsType']['String']}};return await _0x383921['trace']({'jobType':_0x3ed2df[_0x294015(0x689)],'type':_0x4f1853[_0x294015(0x88c)],'jobId':_0x4d7eb6,'agentId':_0x38d00c,'threadId':_0x298ac8,'traceLevel':_0x3d3bca[_0x294015(0xbc)],'startTime':Date[_0x294015(0x2a6)](),'timestamp':Date[_0x294015(0x2a6)](),'status':_0x294015(0x947),'function':_0x368d75[_0x294015(0x792)],'params':_0x4d496c,'functionDescription':_0x35f74d}),{'description':_0x35f74d,'params':_0x4d496c,'callback':async _0x10d067=>_0x271f4d(_0x10d067,_0x4d7eb6,_0x38d00c,_0x298ac8)};}(_0x1e6213,_0x11afbc,_0x11c8f8[_0x3740ee(0x335)]);case _0xf8ccf2[_0x3740ee(0x2e1)][_0x3740ee(0x345)]:return async function(_0x2d8929,_0x3a8dd5,_0x41926e,_0x25cac2,_0x51cc61){const _0xcb8e73=_0x3740ee,_0x12d072=[',',';','\x09','|',':'],_0x334900=['\x22','\x27'];let _0x2495f1='';if('text/csv'===_0x25cac2[_0xcb8e73(0xa3b)]?.['file.type']&&_0x25cac2[_0xcb8e73(0xa3b)]?.[_0xcb8e73(0x85b)]&&(_0x2495f1=_0x25cac2['internalContext'][_0xcb8e73(0x85b)]),''===_0x2495f1)throw new Error('No\x20file\x20content\x20found');const _0x11b8f9=_0x2495f1[_0xcb8e73(0x101)]('\x0a')[0x0];let _0x79356f=null,_0x1e6247=null,_0x5f3fff=0x0;for(const _0x8b2e21 of _0x12d072){const _0x463136=(_0x11b8f9[_0xcb8e73(0x7e9)](new RegExp('\x5c'+_0x8b2e21,'g'))||[])['length'];_0x463136>_0x5f3fff&&(_0x5f3fff=_0x463136,_0x79356f=_0x8b2e21);}_0x79356f||(_0x79356f=','),_0x5f3fff=0x0;for(const _0x25a6e7 of _0x334900){const _0x584711=(_0x11b8f9[_0xcb8e73(0x7e9)](new RegExp('\x5c'+_0x25a6e7,'g'))||[])[_0xcb8e73(0x4bf)];_0x584711>_0x5f3fff&&(_0x5f3fff=_0x584711,_0x1e6247=_0x25a6e7);}_0x1e6247||(_0x1e6247='\x22');const _0x5d13fd='Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20'+_0x11b8f9[_0xcb8e73(0x101)](_0x79356f)[_0xcb8e73(0x9fc)](',\x20'),_0x834ab4={'query':{'type':_0xf8ccf2[_0xcb8e73(0x716)][_0xcb8e73(0x6bf)]}};return await _0x383921['trace']({'jobType':_0x3ed2df[_0xcb8e73(0x689)],'type':_0x4f1853[_0xcb8e73(0x88c)],'jobId':_0x2d8929,'agentId':_0x3a8dd5,'threadId':_0x41926e,'traceLevel':_0x3d3bca['Info'],'startTime':Date[_0xcb8e73(0x2a6)](),'timestamp':Date['now'](),'status':_0xcb8e73(0x947),'function':_0x368d75['QueryFile'],'params':_0x834ab4,'functionDescription':_0x5d13fd}),{'description':_0x5d13fd,'params':_0x834ab4,'callback':async _0x3cf1e3=>{const _0x4715cf=_0xcb8e73,_0x859287=Date[_0x4715cf(0x2a6)]();try{if(!_0x51cc61[_0x4715cf(0xa1a)])throw new Error('Query\x20file\x20connector\x20not\x20set');if('string'!=typeof _0x3cf1e3?.['query'])throw new Error(_0x4715cf(0x670));if(!_0x3cf1e3[_0x4715cf(0x6f1)][_0x4715cf(0xcc)](_0x4715cf(0x87c)))throw new Error(_0x4715cf(0xa4));const _0x5cd582=await _0x51cc61[_0x4715cf(0xa1a)][_0x4715cf(0x1d8)](_0x2495f1,_0x3cf1e3[_0x4715cf(0x6f1)],{'headers':!0x0,'quote':_0x1e6247,'separator':_0x79356f});await _0x383921[_0x4715cf(0x71b)]({'jobType':_0x3ed2df[_0x4715cf(0x41d)],'type':_0x368d75[_0x4715cf(0x345)],'jobId':_0x2d8929,'agentId':_0x3a8dd5,'threadId':_0x41926e,'blockId':_0x4715cf(0x4e7),'traceLevel':_0x3d3bca[_0x4715cf(0xbc)],'startTime':_0x859287,'timestamp':Date[_0x4715cf(0x2a6)](),'status':_0x4715cf(0x947),'query':_0x3cf1e3[_0x4715cf(0x6f1)],'results':_0x5cd582[_0x4715cf(0x364)](0x0,0x3e8)});const _0x5b007f=JSON[_0x4715cf(0x823)](_0x5cd582);let _0x242f2a='';if(_0x5b007f[_0x4715cf(0x4bf)]>0x0){const _0x21d2eb=Object[_0x4715cf(0x261)](_0x5b007f[0x0]);_0x242f2a=_0x21d2eb[_0x4715cf(0x384)](_0xa6f4de=>'\x22'+_0xa6f4de+'\x22')['join'](',')+'\x0a';for(const _0x5ec0d3 of _0x5b007f)_0x242f2a+=_0x21d2eb[_0x4715cf(0x384)](_0x3e086b=>'\x22'+_0x5ec0d3[_0x3e086b]+'\x22')['join'](',')+'\x0a';}return _0x25cac2[_0x4715cf(0xa3b)]||(_0x25cac2[_0x4715cf(0xa3b)]={}),_0x25cac2[_0x4715cf(0xa3b)][_0x4715cf(0x85b)]=_0x242f2a,_0x25cac2['internalContext'][_0x4715cf(0x1d2)]=_0x4715cf(0x341),_0x5cd582[_0x4715cf(0x364)](0x0,0x3e8);}catch(_0x570f4d){return console[_0x4715cf(0x23a)](_0x570f4d),await _0x383921[_0x4715cf(0x71b)]({'jobType':_0x3ed2df[_0x4715cf(0x41d)],'type':_0x368d75[_0x4715cf(0x345)],'jobId':_0x2d8929,'blockId':'query-file','traceLevel':_0x3d3bca[_0x4715cf(0xbc)],'startTime':_0x859287,'timestamp':Date[_0x4715cf(0x2a6)](),'status':'error','errorDetails':_0x1b7023(_0x570f4d),'agentId':_0x3a8dd5,'threadId':_0x41926e,'query':_0x3cf1e3?.[_0x4715cf(0x6f1)]??'','results':_0x4715cf(0xa0f)}),_0x570f4d instanceof Error?_0x570f4d[_0x4715cf(0x206)]:_0x4715cf(0x672);}}};}(_0x1e6213,_0x11afbc,_0x11c8f8[_0x3740ee(0x335)],_0x562543,_0x177e0b);case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x3740ee(0x29f)]:return async function(_0x1ab94f,_0x513c7e,_0x33f4f4,_0x7b6dbd){const _0x4724ba=_0x3740ee,_0x332e24=_0x4724ba(0x876),_0x36e17e={'query':{'type':_0xf8ccf2['PromptFunctionParamsType'][_0x4724ba(0x6bf)]}};return await _0x383921['trace']({'jobType':_0x3ed2df[_0x4724ba(0x689)],'type':_0x4f1853[_0x4724ba(0x88c)],'jobId':_0x1ab94f,'agentId':_0x513c7e,'threadId':_0x33f4f4,'traceLevel':_0x3d3bca[_0x4724ba(0xbc)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x4724ba(0x947),'function':_0x368d75[_0x4724ba(0xd6)],'params':_0x36e17e,'functionDescription':_0x332e24}),{'description':_0x332e24,'params':_0x36e17e,'callback':async _0x327b60=>_0x54bf68(_0x7b6dbd,_0x327b60,_0x1ab94f,_0x513c7e,_0x33f4f4)};}(_0x1e6213,_0x11afbc,_0x11c8f8[_0x3740ee(0x335)],_0x177e0b);case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x3740ee(0x317)]:return _0x437f01(_0x1e6213,_0x11afbc,_0x11c8f8[_0x3740ee(0x335)]);case _0xf8ccf2[_0x3740ee(0x2e1)][_0x3740ee(0x269)]:return _0x437f01(_0x1e6213,_0x11afbc,_0x11c8f8[_0x3740ee(0x335)],!0x1);case _0xf8ccf2[_0x3740ee(0x2e1)][_0x3740ee(0x59b)]:return async function(_0x11e8ac,_0x399093,_0x59b233,_0x3500b5){const _0x291edf=_0x3740ee,_0x2cf92d=_0x291edf(0x495),_0x3349d7={'text':{'type':_0xf8ccf2['PromptFunctionParamsType'][_0x291edf(0x6bf)]}};return await _0x383921[_0x291edf(0x71b)]({'jobType':_0x3ed2df[_0x291edf(0x689)],'type':_0x4f1853[_0x291edf(0x88c)],'jobId':_0x11e8ac,'agentId':_0x399093,'threadId':_0x59b233,'traceLevel':_0x3d3bca[_0x291edf(0xbc)],'startTime':Date[_0x291edf(0x2a6)](),'timestamp':Date['now'](),'status':_0x291edf(0x947),'function':_0x368d75[_0x291edf(0x59b)],'params':_0x3349d7,'functionDescription':_0x2cf92d}),{'description':_0x2cf92d,'params':_0x3349d7,'callback':async _0x18eaad=>{const _0x3b2a3f=_0x291edf,_0x270b0c=Date[_0x3b2a3f(0x2a6)]();try{if(_0x3b2a3f(0x2ae)!=typeof _0x18eaad?.[_0x3b2a3f(0x7b9)])throw new Error(_0x3b2a3f(0x9be));return await _0x383921['trace']({'jobType':_0x3ed2df[_0x3b2a3f(0x41d)],'type':_0x368d75[_0x3b2a3f(0x59b)],'jobId':_0x11e8ac,'agentId':_0x399093,'threadId':_0x59b233,'blockId':_0x3b2a3f(0x1fd),'traceLevel':_0x3d3bca[_0x3b2a3f(0xbc)],'startTime':_0x270b0c,'timestamp':Date[_0x3b2a3f(0x2a6)](),'status':_0x3b2a3f(0x947),'content':_0x18eaad[_0x3b2a3f(0x7b9)]}),_0x3500b5[_0x3b2a3f(0xa3b)]||(_0x3500b5[_0x3b2a3f(0xa3b)]={}),_0x3500b5['internalContext'][_0x3b2a3f(0x85b)]=_0x18eaad[_0x3b2a3f(0x7b9)],_0x3500b5['internalContext'][_0x3b2a3f(0x1d2)]=_0x3b2a3f(0xa79),'Done';}catch(_0x1d3dba){return console[_0x3b2a3f(0x23a)](_0x1d3dba),await _0x383921['trace']({'jobType':_0x3ed2df[_0x3b2a3f(0x41d)],'type':_0x368d75[_0x3b2a3f(0x59b)],'jobId':_0x11e8ac,'blockId':'write-file','traceLevel':_0x3d3bca[_0x3b2a3f(0xbc)],'startTime':_0x270b0c,'timestamp':Date[_0x3b2a3f(0x2a6)](),'status':_0x3b2a3f(0x23a),'errorDetails':_0x1b7023(_0x1d3dba),'agentId':_0x399093,'threadId':_0x59b233,'content':'string'==typeof _0x18eaad?.['text']?_0x18eaad[_0x3b2a3f(0x7b9)]:''}),_0x1d3dba instanceof Error?_0x1d3dba[_0x3b2a3f(0x206)]:_0x3b2a3f(0x5c6);}}};}(_0x1e6213,_0x11afbc,_0x11c8f8[_0x3740ee(0x335)],_0x562543);}throw new Error('Unknown\x20skill\x20type');}function _0x1b7023(_0x22ac40){const _0x1fa93d=_0x4d79c3;try{return JSON['stringify'](_0x22ac40);}catch(_0x5b4faa){return _0x22ac40 instanceof Error?_0x22ac40['toString']():_0x1fa93d(0x12a);}}async function _0x2899a2(_0x43dffb,_0x5b6e3e,_0x85721c){const _0x4241d9=_0x4d79c3,_0x404719=_0x5b6e3e[_0x4241d9(0x78c)]??(0x0,_0x15d077['v4'])(),_0xb621e8={'type':_0x4241d9(0x5ac),'context':[],'internalContext':_0x5b6e3e[_0x4241d9(0xa3b)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x1ce1e5=_0x5b6e3e[_0x4241d9(0x5eb)];try{await(0x0,_0x1165cd[_0x4241d9(0x2c0)])(_0x46a54c['getFunctions'](),_0x4241d9(0x72b))({'vendorId':_0x1ce1e5});}catch(_0x29a7fd){throw console[_0x4241d9(0x23a)](_0x29a7fd),new Error(_0x4241d9(0x419));}const _0x5de996=(await(0x0,_0x194189[_0x4241d9(0x734)])((0x0,_0x194189[_0x4241d9(0x31a)])(_0x46a54c[_0x4241d9(0x225)](),_0x4241d9(0x9b5),_0x1ce1e5)))[_0x4241d9(0x8da)]();_0x5de996&&_0x5de996[_0x4241d9(0x64f)]||(console['log'](new Date()+_0x4241d9(0x63a),_0x5b6e3e['model'],_0x159bd7[_0x4241d9(0x2d3)](_0x5b6e3e[_0x4241d9(0x8bf)])['fallbackModel']),_0x5b6e3e[_0x4241d9(0x8bf)]=_0x159bd7['get'](_0x5b6e3e[_0x4241d9(0x8bf)])[_0x4241d9(0x982)]);const _0xefb128=await async function(_0x4ee84c,_0x304cdd,_0xae222e,_0x2e45d5,_0x9ba71b){const _0x53217a=_0x4241d9,_0x2062af=_0x9ba71b[_0x53217a(0x4ad)]['find'](_0x18ef69=>_0x18ef69['id']===_0xae222e[_0x53217a(0x8bf)]);if(!_0x2062af)throw new Error(_0x53217a(0x59a));const _0x542bbb=_0x9ba71b[_0x53217a(0xfa)][_0x53217a(0x483)](_0x3e06a9=>_0x3e06a9[_0x53217a(0xa7a)]()===_0x2062af[_0x53217a(0x11b)]);if(!_0x542bbb)throw new Error(_0x53217a(0x1ec));const _0x425d24=await _0x39cc2d(_0x4ee84c,_0x304cdd,_0xae222e,_0x2e45d5,_0xae222e['tools']??[],_0x9ba71b);return _0x542bbb[_0x53217a(0x4ff)]({'type':_0x53217a(0x5ac),'prompt':_0xae222e[_0x53217a(0x5ac)],'instructions':_0xae222e[_0x53217a(0x8f)],'reasoning':_0xae222e['reasoning'],'grammar':_0xae222e['grammar'],'temperature':_0xae222e[_0x53217a(0x9ff)],'maxTokens':_0xae222e[_0x53217a(0x719)],'history':_0xae222e['history'],'functions':_0x425d24,'threadId':_0xae222e['threadId']},{'model':_0x2062af,'sequences':Array['from'](_0x425d24['keys']())[_0x53217a(0x884)](_0x5bcd60=>_0x5bcd60[_0x53217a(0x8d2)](_0x53217a(0x7bc)))?0x2:0x1});}(_0x43dffb,_0x404719,_0x5b6e3e,_0xb621e8,_0x85721c);return _0x383921[_0x4241d9(0x236)](_0x43dffb,_0x5b6e3e[_0x4241d9(0x8bf)],_0xefb128[_0x4241d9(0x546)]??0x0,_0xefb128[_0x4241d9(0x472)]??0x0),console[_0x4241d9(0x3bc)](new Date()+_0x4241d9(0x1a6),_0x5b6e3e['model'],_0xefb128[_0x4241d9(0x546)]??0x0,_0xefb128[_0x4241d9(0x472)]??0x0),{'type':'prompt','output':_0xefb128['output'],'context':_0xb621e8[_0x4241d9(0x6b8)],'internalContext':_0xb621e8[_0x4241d9(0xa3b)]??{},'inputTokens':_0xefb128[_0x4241d9(0x546)]??0x0,'outputTokens':_0xefb128['outputTokens']??0x0};}async function _0x575d03(_0x4cf855,_0x33d16b){const _0x293381=_0x4d79c3,_0x4732b7=await async function(_0x4afece,_0x94adb9){const _0x113c03=a0_0x50a3,_0x31db8c=_0x94adb9['models']['find'](_0x5999e8=>_0x5999e8['id']===_0x4afece[_0x113c03(0x8bf)]);if(!_0x31db8c)throw new Error(_0x113c03(0x59a));const _0xcafa1c=_0x94adb9[_0x113c03(0xfa)][_0x113c03(0x483)](_0x3d6a74=>_0x3d6a74['getEngineType']()===_0x31db8c[_0x113c03(0x11b)]);if(!_0xcafa1c)throw new Error(_0x113c03(0x1ec));return _0xcafa1c[_0x113c03(0x4ff)]({'type':_0x113c03(0x5ac),'prompt':_0x4afece['text'],'threadId':_0x4afece[_0x113c03(0x335)]},{'model':_0x31db8c,'sequences':0x1});}(_0x4cf855,_0x33d16b);return{'type':'prompt','output':_0x4732b7['output'],'inputTokens':_0x4732b7[_0x293381(0x546)]??0x0,'outputTokens':_0x4732b7['outputTokens']??0x0};}async function _0x42c429(_0x4d1c81,_0x1c98cc){const _0x4c9162=_0x4d79c3;let _0x255278='',_0xace5ba={'type':'prompt','internalContext':_0x4d1c81[_0x4c9162(0xa3b)]??{}};switch(_0x4d1c81[_0x4c9162(0xa46)][_0x4c9162(0x572)]){case _0xf8ccf2[_0x4c9162(0x2e1)][_0x4c9162(0x6ab)]:case _0xf8ccf2[_0x4c9162(0x2e1)][_0x4c9162(0x5d7)]:_0x255278=await _0x56a7d3(_0x4d1c81[_0x4c9162(0x5eb)],_0x4d1c81[_0x4c9162(0xa46)],_0x1c98cc,_0x4d1c81[_0x4c9162(0x8e1)],_0xace5ba);break;case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x4c9162(0x160)]:_0x255278=await _0x55c3ce(_0x4d1c81[_0x4c9162(0xa46)],_0x1c98cc,_0x4d1c81[_0x4c9162(0x8e1)]);break;case _0xf8ccf2[_0x4c9162(0x2e1)][_0x4c9162(0x6a7)]:_0x255278=await _0x271f4d(_0x4d1c81[_0x4c9162(0x8e1)]);break;case _0xf8ccf2[_0x4c9162(0x2e1)][_0x4c9162(0x853)]:case _0xf8ccf2[_0x4c9162(0x2e1)]['Knowledge']:_0x255278=await _0x18630f(_0x4d1c81[_0x4c9162(0x5eb)],_0x4d1c81[_0x4c9162(0xa46)],_0x4d1c81[_0x4c9162(0x8e1)],_0xace5ba);break;case _0xf8ccf2[_0x4c9162(0x2e1)][_0x4c9162(0x597)]:_0x255278=await _0x10e7fe(_0x4d1c81[_0x4c9162(0xa46)],_0x4d1c81[_0x4c9162(0x8e1)],_0xace5ba);break;case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x4c9162(0x317)]:_0x255278=await _0x1ae458(_0x4d1c81[_0x4c9162(0x8e1)]);break;case _0xf8ccf2[_0x4c9162(0x2e1)]['WebScraperRaw']:_0x255278=await _0x1ae458(_0x4d1c81[_0x4c9162(0x8e1)],!0x1);break;case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x4c9162(0x29f)]:_0x255278=await _0x54bf68(_0x1c98cc,_0x4d1c81['arguments']);break;case _0xf8ccf2[_0x4c9162(0x2e1)][_0x4c9162(0x9d5)]:_0x255278=await _0xf4db9a(_0x4d1c81[_0x4c9162(0xa46)],_0xace5ba);break;case _0xf8ccf2[_0x4c9162(0x2e1)][_0x4c9162(0x637)]:_0x255278=await _0x7df8a9(_0x4d1c81[_0x4c9162(0xa46)],_0x4d1c81[_0x4c9162(0x8e1)],_0xace5ba);break;case _0xf8ccf2[_0x4c9162(0x2e1)][_0x4c9162(0x19c)]:_0x255278=await _0x426614(_0x4d1c81[_0x4c9162(0xa46)],_0xace5ba);break;case _0xf8ccf2[_0x4c9162(0x2e1)][_0x4c9162(0x5aa)]:_0x4d1c81[_0x4c9162(0xa46)][_0x4c9162(0x957)]?_0x255278=await _0x46bd40(_0x4d1c81[_0x4c9162(0x5eb)],_0x4d1c81[_0x4c9162(0xa46)],_0x4d1c81['arguments'],_0xace5ba):(_0x46bd40(_0x4d1c81[_0x4c9162(0x5eb)],_0x4d1c81[_0x4c9162(0xa46)],_0x4d1c81[_0x4c9162(0x8e1)],_0xace5ba),_0x255278=_0x4c9162(0x76f));}return{'type':_0x4c9162(0x993),'output':_0x255278,'internalContext':_0xace5ba['internalContext']??{}};}async function*_0x297fd0(_0x437d0c,_0x16a5e4,_0x45754e){const _0x452f79=_0x4d79c3,_0x133f7e=_0x16a5e4[_0x452f79(0x78c)]??(0x0,_0x15d077['v4'])(),_0xbdb5cd={'type':_0x452f79(0x5ac),'context':[],'internalContext':_0x16a5e4[_0x452f79(0xa3b)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x3c3b1a=new _0x4bcffc(),_0x423fdf=_0x16a5e4[_0x452f79(0x5eb)];try{await(0x0,_0x1165cd[_0x452f79(0x2c0)])(_0x46a54c[_0x452f79(0x890)](),_0x452f79(0x72b))({'vendorId':_0x423fdf});}catch(_0x233edb){throw console[_0x452f79(0x23a)]('Error\x20validating\x20vendor\x20credits',_0x233edb),new Error(_0x452f79(0x419));}const _0x3c48ca=(await(0x0,_0x194189[_0x452f79(0x734)])((0x0,_0x194189[_0x452f79(0x31a)])(_0x46a54c['getFirestore'](),_0x452f79(0x9b5),_0x423fdf)))['data']();_0x3c48ca&&_0x3c48ca['organizationId']||(console[_0x452f79(0x3bc)](new Date()+_0x452f79(0x63a),_0x16a5e4[_0x452f79(0x8bf)],_0x159bd7[_0x452f79(0x2d3)](_0x16a5e4[_0x452f79(0x8bf)])['fallbackModel']),_0x16a5e4[_0x452f79(0x8bf)]=_0x159bd7[_0x452f79(0x2d3)](_0x16a5e4[_0x452f79(0x8bf)])[_0x452f79(0x982)]),async function(_0x58cae1,_0x42d11c,_0x12c4c7,_0x16a84d,_0x5ef28b,_0x4a7ce5){const _0x560886=_0x452f79,_0x10072e=_0x4a7ce5[_0x560886(0x4ad)][_0x560886(0x483)](_0x355f36=>_0x355f36['id']===_0x12c4c7['model']);if(!_0x10072e)throw new Error(_0x560886(0x59a));const _0x52f335=_0x4a7ce5[_0x560886(0xfa)][_0x560886(0x483)](_0xbd32cb=>_0xbd32cb[_0x560886(0xa7a)]()===_0x10072e['engineType']);if(!_0x52f335)throw new Error(_0x560886(0x1ec));const _0x512b4d={'type':_0x560886(0x5ac),'output':''},_0x4a4616=await _0x39cc2d(_0x58cae1,_0x42d11c,_0x12c4c7,_0x16a84d,_0x12c4c7[_0x560886(0x858)]??[],_0x4a7ce5,_0x5ef28b);for await(const _0x2c07bf of _0x52f335[_0x560886(0x94f)]({'type':'prompt','prompt':_0x12c4c7['prompt'],'instructions':_0x12c4c7[_0x560886(0x8f)],'reasoning':_0x12c4c7[_0x560886(0x150)],'grammar':_0x12c4c7[_0x560886(0x715)],'temperature':_0x12c4c7[_0x560886(0x9ff)],'maxTokens':_0x12c4c7['maxTokens'],'history':_0x12c4c7['history'],'functions':_0x4a4616,'threadId':_0x12c4c7[_0x560886(0x335)]},{'model':_0x10072e,'sequences':Array[_0x560886(0x46f)](_0x4a4616[_0x560886(0x261)]())[_0x560886(0x884)](_0x14eef2=>_0x14eef2[_0x560886(0x8d2)]('executeAgent'))?0x2:0x1}))_0x5ef28b[_0x560886(0x28b)](_0x2c07bf),_0x560886(0x2ae)==typeof _0x512b4d[_0x560886(0x39d)]&&_0x560886(0x2ae)==typeof _0x2c07bf[_0x560886(0x39d)]&&(_0x512b4d[_0x560886(0x39d)]+=_0x2c07bf['output']),_0x512b4d[_0x560886(0x546)]=_0x2c07bf['inputTokens'],_0x512b4d['outputTokens']=_0x2c07bf[_0x560886(0x472)];await _0x53a877[_0x560886(0x316)](0x1),_0x5ef28b[_0x560886(0x28b)](void 0x0);}(_0x437d0c,_0x133f7e,_0x16a5e4,_0xbdb5cd,_0x3c3b1a,_0x45754e);let _0x5b93b2='',_0x389f04=0x0,_0x375d31=0x0,_0x5b8b86={'type':_0x452f79(0x5ac)};for(;;){const _0x38aa25=await _0x3c3b1a[_0x452f79(0x7a7)]();if(!_0x38aa25)break;_0x5b93b2+=_0x38aa25[_0x452f79(0x39d)],_0x5b8b86={'type':_0x452f79(0x5ac),'output':_0x38aa25[_0x452f79(0x39d)],'context':_0xbdb5cd['context'],'internalContext':{},'inputTokens':_0x38aa25[_0x452f79(0x546)]??0x0,'outputTokens':_0x38aa25['outputTokens']??0x0},_0x389f04+=_0x38aa25[_0x452f79(0x546)]??0x0,_0x375d31+=_0x38aa25[_0x452f79(0x472)]??0x0,((_0x38aa25[_0x452f79(0x546)]??0x0)>0x0||(_0x38aa25[_0x452f79(0x472)]??0x0)>0x0)&&console[_0x452f79(0x3bc)](new Date()+_0x452f79(0x2e5),_0x16a5e4['model'],_0x38aa25['inputTokens']??0x0,_0x38aa25[_0x452f79(0x472)]??0x0),yield _0x5b8b86;}_0x383921['logUsage'](_0x437d0c,_0x16a5e4['model'],_0x389f04,_0x375d31),console['log'](new Date()+_0x452f79(0x1e0),_0x16a5e4[_0x452f79(0x8bf)],_0x389f04,_0x375d31),yield{..._0x5b8b86,'output':'','internalContext':_0xbdb5cd[_0x452f79(0xa3b)]??{}};}async function _0x4dc1b7(_0x3ef936,_0xf4f1de,_0x51f439,_0x3ac2f1,_0x4c9107,_0x4d48ed){const _0x10d926=_0x4d79c3,_0x11166b=Date['now']();if(!_0x4d48ed['models']['find'](_0x570036=>_0x570036['id']===_0x3ac2f1[_0x10d926(0x5c4)]))throw new Error('Model\x20not\x20found');const _0x230a6b=(0x0,_0x15d077['v4'])(),_0x449a18=[];_0x449a18[_0x10d926(0x15b)]({'role':_0x10d926(0x87e),'content':_0x3ac2f1['instructions']}),_0x449a18[_0x10d926(0x15b)]({'role':_0x10d926(0x62b),'content':_0x51f439});const _0x22365e=await fetch(_0x229087[_0x10d926(0x599)]+_0x10d926(0x79f),{'method':_0x10d926(0x1b6),'headers':{'Content-Type':_0x10d926(0x8b5),'x-vendor-id':_0x3ef936},'body':JSON['stringify']({'model':_0x3ac2f1['modelId'],'messages':_0x449a18,'max_completion_tokens':_0x3ac2f1[_0x10d926(0x719)],'temperature':_0x3ac2f1[_0x10d926(0x9ff)],'threadId':_0x230a6b})}),_0x17961a=(await _0x22365e['json']())[_0x10d926(0x423)][0x0][_0x10d926(0x206)][_0x10d926(0x898)];await _0x383921[_0x10d926(0x71b)]({'jobType':_0x3ed2df['Ingest'],'type':_0x215244['Agent'],'jobId':_0xf4f1de,'blockId':_0x3ac2f1['id'],'traceLevel':_0x3d3bca[_0x10d926(0xa2d)],'timestamp':Date[_0x10d926(0x2a6)](),'startTime':_0x11166b,'status':_0x10d926(0x947),'agentId':_0x230a6b,'content':_0x51f439,'instructions':_0x3ac2f1['instructions'],'result':_0x17961a});const _0x238319=[];if(_0x3ac2f1[_0x10d926(0x5b5)]?.[_0x10d926(0x884)](_0x82411f=>_0x82411f[_0x10d926(0x572)]===_0x57a86a['Text']))return _0x238319['push']({'content':_0x17961a,'start':0x0,'length':_0x17961a[_0x10d926(0x4bf)]}),await _0x21c1a5(_0x3ef936,_0xf4f1de,_0x238319,_0x3ac2f1,_0x4c9107,_0x4d48ed),void await _0x21c1a5(_0x3ef936,_0xf4f1de,_0x17961a,_0x3ac2f1,_0x4c9107,_0x4d48ed);_0x238319[_0x10d926(0x15b)]({'content':_0x17961a,'start':0x0,'length':_0x51f439[_0x10d926(0x4bf)]}),await _0x21c1a5(_0x3ef936,_0xf4f1de,_0x238319,_0x3ac2f1,_0x4c9107,_0x4d48ed);}async function _0x3e8216(_0x354e2c,_0x27b993,_0x140212,_0x4f1592,_0x247fa6,_0x14a98c){const _0x2cbf18=_0x4d79c3,_0x3a2a76=Date[_0x2cbf18(0x2a6)]();let _0x29cefb=[];if(_0x140212 instanceof Array)for(const _0x52d888 of _0x140212){if(_0x2cbf18(0x2ae)!=typeof _0x52d888[_0x2cbf18(0x898)])throw new Error('Invalid\x20content\x20type');_0x29cefb=_0x29cefb[_0x2cbf18(0x4fa)](_0x4fb922(_0x52d888[_0x2cbf18(0x898)],_0x4f1592,_0x52d888[_0x2cbf18(0x86)],_0x52d888[_0x2cbf18(0x4bf)]));}else _0x29cefb=_0x4fb922(_0x140212,_0x4f1592);await _0x383921[_0x2cbf18(0x71b)]({'jobType':_0x3ed2df[_0x2cbf18(0x877)],'type':_0x215244['ChunkSplitter'],'traceLevel':_0x3d3bca[_0x2cbf18(0xa2d)],'jobId':_0x27b993,'blockId':_0x4f1592['id'],'startTime':_0x3a2a76,'timestamp':Date[_0x2cbf18(0x2a6)](),'status':'success','totalChunks':_0x29cefb[_0x2cbf18(0x4bf)],'chunkSize':_0x4f1592['attributes'][_0x2cbf18(0x517)]}),await _0x21c1a5(_0x354e2c,_0x27b993,_0x29cefb,_0x4f1592,_0x247fa6,_0x14a98c);}function _0x4fb922(_0x5bfa20,_0x3dab19,_0x43864a,_0x16cf53){const _0x57d890=_0x4d79c3,_0x1affd2=[];for(let _0x2a39d2=0x0;_0x2a39d2<_0x5bfa20[_0x57d890(0x4bf)];_0x2a39d2+=_0x3dab19[_0x57d890(0x9a9)]['size']){let _0x24b4d5=_0x2a39d2-_0x3dab19['attributes']['overlap'];_0x24b4d5<0x0&&(_0x24b4d5=0x0);let _0x2d2bff=_0x2a39d2+_0x3dab19[_0x57d890(0x9a9)]['size']+_0x3dab19[_0x57d890(0x9a9)]['overlap'];_0x2d2bff>_0x5bfa20[_0x57d890(0x4bf)]&&(_0x2d2bff=_0x5bfa20[_0x57d890(0x4bf)]);const _0x3f2758=_0x5bfa20[_0x57d890(0x364)](_0x24b4d5,_0x2d2bff);_0x1affd2['push']({'content':_0x3f2758,'start':_0x43864a??_0x2a39d2,'length':_0x16cf53??(_0x2a39d2+_0x3dab19[_0x57d890(0x9a9)][_0x57d890(0x517)]>_0x5bfa20[_0x57d890(0x4bf)]?_0x5bfa20[_0x57d890(0x4bf)]-_0x2a39d2:_0x3dab19[_0x57d890(0x9a9)][_0x57d890(0x517)])});}return _0x1affd2;}async function _0x1f44c2(_0x127c34,_0x246938,_0x31edef,_0x3c45c2,_0x2666d1,_0x1fee9f){const _0x413de0=_0x4d79c3,_0x5d8d21=Date[_0x413de0(0x2a6)]();let _0x3bcc8a;if(_0x31edef[_0x413de0(0x116)][_0x413de0(0x572)]['startsWith'](_0x413de0(0xa31))||_0x4cdd67(_0x31edef[_0x413de0(0x116)]['name'],_0x57fd2d))_0x3bcc8a=await _0x31edef[_0x413de0(0x116)]['text']();else{if(!_0x1fee9f[_0x413de0(0x4e5)][_0x413de0(0xa4a)](_0x31edef[_0x413de0(0x116)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x31edef[_0x413de0(0x116)][_0x413de0(0x572)]+_0x413de0(0x6be)+_0x31edef[_0x413de0(0x116)]['name']);_0x3bcc8a=await _0x1fee9f['documentParserConnector'][_0x413de0(0x823)](_0x31edef[_0x413de0(0x116)]);}await _0x383921[_0x413de0(0x71b)]({'jobType':_0x3ed2df[_0x413de0(0x877)],'type':_0x215244[_0x413de0(0x2f0)],'traceLevel':_0x3d3bca['Debug'],'blockId':_0x3c45c2['id'],'jobId':_0x246938,'startTime':_0x5d8d21,'timestamp':Date[_0x413de0(0x2a6)](),'status':'success','documentType':_0x31edef[_0x413de0(0x116)]['type'],'documentName':_0x31edef[_0x413de0(0x116)][_0x413de0(0x687)],'extractionMethod':_0x413de0(0x3e8)}),await _0x21c1a5(_0x127c34,_0x246938,_0x3bcc8a,_0x3c45c2,_0x2666d1,_0x1fee9f);const _0x1f651a=[{'content':_0x3bcc8a,'start':0x0,'length':_0x3bcc8a[_0x413de0(0x4bf)]}];await _0x21c1a5(_0x127c34,_0x246938,_0x1f651a,_0x3c45c2,_0x2666d1,_0x1fee9f);}const _0x57fd2d=[_0x4d79c3(0x5e0),_0x4d79c3(0x576),'.py',_0x4d79c3(0x958),_0x4d79c3(0x7b5),_0x4d79c3(0xa90),'.css','.xml','.md',_0x4d79c3(0x89b),'.yaml',_0x4d79c3(0x701),_0x4d79c3(0x170),_0x4d79c3(0x8f2),_0x4d79c3(0x381),'.conf',_0x4d79c3(0x7f2),_0x4d79c3(0x7c7),_0x4d79c3(0x7d5),_0x4d79c3(0x65e),'.c','.cpp',_0x4d79c3(0x1b2),'.r',_0x4d79c3(0x545),_0x4d79c3(0xb5),_0x4d79c3(0x1d1),_0x4d79c3(0x4e3),'.rs',_0x4d79c3(0x2c7),_0x4d79c3(0xa9f),_0x4d79c3(0x8db),_0x4d79c3(0x9f),_0x4d79c3(0x34e),_0x4d79c3(0x573),'.erl',_0x4d79c3(0xa63),_0x4d79c3(0x977),_0x4d79c3(0x2b4),_0x4d79c3(0x14b),_0x4d79c3(0x298),'.m',_0x4d79c3(0x1ce),_0x4d79c3(0x76a),_0x4d79c3(0x1a5),_0x4d79c3(0x673),_0x4d79c3(0x2c2),_0x4d79c3(0x7fb),'.tsx','.vue',_0x4d79c3(0x8b9),'.jinja',_0x4d79c3(0x445),_0x4d79c3(0x930),_0x4d79c3(0x7aa),_0x4d79c3(0x8df),'.pug',_0x4d79c3(0x959),_0x4d79c3(0x8a6),'.tpl',_0x4d79c3(0x9e),_0x4d79c3(0x9e3),_0x4d79c3(0xb4)];function _0x4cdd67(_0x2ce144,_0x4f9a8a){const _0x30667b=_0x4d79c3;return _0x4f9a8a[_0x30667b(0xcc)]('.'+(_0x2ce144[_0x30667b(0x101)]('.')[_0x30667b(0x151)]()?.[_0x30667b(0x791)]()||''));}async function _0x4bcdfd(_0x6da20c,_0x4a5e3b,_0x13766f,_0x338b4d,_0x42983e,_0x5de3ff){const _0x2f05ad=_0x4d79c3,_0x458f2c=Date[_0x2f05ad(0x2a6)](),_0x118f21=new Set();let _0x15d456=0x0;for(const _0x1c79bf of _0x13766f){if(_0x2f05ad(0x2ae)!=typeof _0x1c79bf[_0x2f05ad(0x898)])throw new Error(_0x2f05ad(0x478));_0x15d456+=_0x1c79bf[_0x2f05ad(0x898)][_0x2f05ad(0x4bf)],await _0x3d360e(_0x1c79bf[_0x2f05ad(0x898)],_0x118f21,_0x338b4d,_0x5de3ff[_0x2f05ad(0x3ff)]);}await _0x383921[_0x2f05ad(0x71b)]({'jobType':_0x3ed2df[_0x2f05ad(0x877)],'type':_0x215244[_0x2f05ad(0x7c3)],'jobId':_0x4a5e3b,'blockId':_0x338b4d['id'],'traceLevel':_0x3d3bca['Debug'],'startTime':_0x458f2c,'timestamp':Date[_0x2f05ad(0x2a6)](),'status':_0x2f05ad(0x947),'contentLength':_0x15d456,'totalChunks':_0x13766f instanceof Array?_0x13766f['length']:0x1,'entitiesExtracted':_0x118f21,'totalEntities':_0x118f21[_0x2f05ad(0x517)]}),await _0x21c1a5(_0x6da20c,_0x4a5e3b,_0x118f21,_0x338b4d,_0x42983e,_0x5de3ff);}async function _0x3d360e(_0xf9844c,_0x20770e,_0x1ea9cd,_0x27b16b){const _0x49f8af=_0x4d79c3,_0x2c6216=await _0x27b16b[_0x49f8af(0x68b)](_0xf9844c,{'ner':_0x1ea9cd[_0x49f8af(0x9a9)]['ner'],'noun':_0x1ea9cd[_0x49f8af(0x9a9)]['noun'],'propn':_0x1ea9cd[_0x49f8af(0x9a9)][_0x49f8af(0x90d)],'verb':_0x1ea9cd[_0x49f8af(0x9a9)][_0x49f8af(0x896)]});for(const _0x2ba182 of _0x2c6216)_0x20770e['add'](_0x2ba182);}async function _0x4290c5(_0x2b408c,_0x51f65e,_0x28ebfb,_0x2f2139,_0x16c35a){const _0x245251=_0x4d79c3,_0x5b43e1=Date['now']();if(_0x28ebfb[_0x245251(0xab1)]||(_0x28ebfb['accumulated']={}),_0x245251(0x2ae)==typeof _0x51f65e?_0x28ebfb[_0x245251(0xab1)][_0x245251(0x898)]=_0x51f65e:_0x51f65e instanceof Set?_0x28ebfb['accumulated'][_0x245251(0x530)]=_0x51f65e:_0x51f65e instanceof Map?_0x28ebfb[_0x245251(0xab1)][_0x245251(0x504)]=_0x51f65e:_0x51f65e instanceof Array?_0x28ebfb[_0x245251(0xab1)]['index']=_0x51f65e:_0x28ebfb[_0x245251(0xab1)][_0x245251(0x116)]=_0x51f65e,_0x28ebfb[_0x245251(0x4b9)]=_0x28ebfb[_0x245251(0x4b9)]?_0x28ebfb[_0x245251(0x4b9)]+0x1:0x1,_0x541ea1(_0x28ebfb,_0x2f2139[_0x245251(0x70)])>_0x28ebfb['timesCalled'])return;if(!(_0x28ebfb[_0x245251(0xab1)][_0x245251(0x530)]&&_0x28ebfb[_0x245251(0xab1)][_0x245251(0x116)]&&_0x28ebfb[_0x245251(0xab1)][_0x245251(0x898)]&&_0x28ebfb[_0x245251(0xab1)]['index']))throw new Error(_0x245251(0xa39));let _0x1f7de9=0x0;const _0x42352d=_0x16c35a[_0x245251(0x64a)][_0x245251(0x4c3)](_0x28ebfb['id']);for(const _0x385039 of _0x28ebfb[_0x245251(0xab1)][_0x245251(0x530)]){let _0x4c1f48=[];_0x4c1f48=_0x28ebfb[_0x245251(0xab1)]['index'][_0x245251(0x70d)](_0x35ac7d=>'string'==typeof _0x35ac7d['content']&&_0x35ac7d[_0x245251(0x898)][_0x245251(0xcc)](_0x385039));try{_0x42352d['addNode'](_0x28ebfb['accumulated'][_0x245251(0x116)]['pathName'],_0x28ebfb['accumulated']['content'],_0x4c1f48,_0x385039),_0x1f7de9+=0x1;}catch(_0x19eb72){}}if(_0x28ebfb[_0x245251(0xab1)][_0x245251(0x504)]){for(const [_0x41385f,_0x4b928d]of _0x28ebfb[_0x245251(0xab1)]['relations'])for(const _0x26f28f of _0x4b928d)try{_0x42352d['addEdge'](_0x41385f,_0x26f28f);}catch(_0x1a6dc5){}await _0x383921[_0x245251(0x71b)]({'jobType':_0x3ed2df[_0x245251(0x877)],'type':_0x215244[_0x245251(0x7e0)],'jobId':_0x2b408c,'blockId':_0x28ebfb['id'],'status':_0x245251(0x947),'startTime':_0x5b43e1,'timestamp':Date[_0x245251(0x2a6)](),'traceLevel':_0x3d3bca[_0x245251(0xa2d)],'nodesAdded':_0x1f7de9,'entities':_0x28ebfb['accumulated'][_0x245251(0x530)],'relations':_0x28ebfb[_0x245251(0xab1)][_0x245251(0x504)]});}}async function _0x2fe964(_0x58b58f,_0x149add,_0x1a4cba,_0x2bded1,_0x40664c,_0x8ad4d8){const _0x3c2f99=_0x4d79c3,_0x4728f8=_0x8ad4d8[_0x3c2f99(0x4ad)][_0x3c2f99(0x483)](_0x4ecebe=>_0x4ecebe['id']===_0x2bded1['id']);if(!_0x4728f8)throw new Error(_0x3c2f99(0x59a));switch(_0x4728f8['outputType']){case _0xf8ccf2[_0x3c2f99(0x7bb)][_0x3c2f99(0x6e0)]:if('string'!=typeof _0x1a4cba)throw new Error(_0x3c2f99(0x9d8));await async function(_0x4046a4,_0x3c9f0b,_0x44f470,_0x4a7f0e,_0x2f43e1,_0x4e5b78,_0x293f7d){const _0x4fce6e=_0x3c2f99,_0x4bfd75=Date[_0x4fce6e(0x2a6)]();let _0x571278;const _0x342afe=await fetch(_0x229087[_0x4fce6e(0x599)]+'/chat/completions',{'method':_0x4fce6e(0x1b6),'headers':{'Content-Type':_0x4fce6e(0x8b5),'x-vendor-id':_0x4046a4},'body':JSON[_0x4fce6e(0x8a3)]({'messages':[{'role':_0x4fce6e(0x62b),'content':_0x44f470}],'model':_0x4a7f0e['id']})});_0x571278=(await _0x342afe[_0x4fce6e(0x9ab)]())['choices'][0x0][_0x4fce6e(0x206)][_0x4fce6e(0x898)],await _0x383921[_0x4fce6e(0x71b)]({'jobType':_0x3ed2df[_0x4fce6e(0x877)],'type':_0x215244['ModelText'],'jobId':_0x3c9f0b,'blockId':_0x2f43e1['id'],'traceLevel':_0x3d3bca[_0x4fce6e(0xa2d)],'timestamp':Date['now'](),'startTime':_0x4bfd75,'status':'success','modelName':_0x4a7f0e['id'],'inputType':_0x4a7f0e[_0x4fce6e(0x57b)],'outputType':_0x4a7f0e['outputType'],'content':_0x44f470,'results':_0x571278}),await _0x21c1a5(_0x4046a4,_0x3c9f0b,_0x571278,_0x2f43e1,_0x4e5b78,_0x293f7d);}(_0x58b58f,_0x149add,_0x1a4cba,_0x4728f8,_0x2bded1,_0x40664c,_0x8ad4d8);break;case _0xf8ccf2[_0x3c2f99(0x7bb)][_0x3c2f99(0x551)]:if(!(_0x1a4cba instanceof Array))throw new Error(_0x3c2f99(0x67c));await async function(_0x4d62b7,_0x3f4e47,_0x251418,_0x2629eb,_0x4741f2,_0x52ad88,_0xc7ea4d){const _0x4dbfc2=_0x3c2f99,_0x4360e4=Date[_0x4dbfc2(0x2a6)](),_0xd4c359=await fetch(_0x229087[_0x4dbfc2(0x599)]+'/embeddings',{'method':_0x4dbfc2(0x1b6),'headers':{'Content-Type':_0x4dbfc2(0x8b5),'x-vendor-id':_0x4d62b7},'body':JSON['stringify']({'input':_0x251418[_0x4dbfc2(0x384)](_0x2fe28a=>_0x2fe28a[_0x4dbfc2(0x898)]),'model':_0x2629eb['id']})}),_0x234fb8=(await _0xd4c359['json']())[_0x4dbfc2(0x8da)][_0x4dbfc2(0x384)](_0x490aa9=>_0x490aa9[_0x4dbfc2(0xa8d)]);await _0x383921['trace']({'jobType':_0x3ed2df[_0x4dbfc2(0x877)],'type':_0x215244[_0x4dbfc2(0x705)],'jobId':_0x3f4e47,'blockId':_0x4741f2['id'],'traceLevel':_0x3d3bca[_0x4dbfc2(0xa2d)],'timestamp':Date[_0x4dbfc2(0x2a6)](),'startTime':_0x4360e4,'status':_0x4dbfc2(0x947),'modelName':_0x2629eb['id'],'inputType':_0x2629eb[_0x4dbfc2(0x57b)],'outputType':_0x2629eb[_0x4dbfc2(0x333)],'totalVectors':_0x234fb8[_0x4dbfc2(0x4bf)]}),await _0x21c1a5(_0x4d62b7,_0x3f4e47,_0x234fb8,_0x4741f2,_0x52ad88,_0xc7ea4d);}(_0x58b58f,_0x149add,_0x1a4cba,_0x4728f8,_0x2bded1,_0x40664c,_0x8ad4d8);}}async function _0x278d41(_0x2929e9,_0x4cded7,_0x479e88,_0x2e986f,_0x996775,_0x31c4e6){const _0x346f01=_0x4d79c3,_0x3dff1d=Date[_0x346f01(0x2a6)]();if(_0x2e986f[_0x346f01(0xab1)]||(_0x2e986f[_0x346f01(0xab1)]={}),_0x479e88 instanceof Array?_0x2e986f[_0x346f01(0xab1)][_0x346f01(0x16a)]=_0x479e88:_0x2e986f['accumulated'][_0x346f01(0x530)]=_0x479e88,_0x2e986f[_0x346f01(0x4b9)]=_0x2e986f['timesCalled']?_0x2e986f[_0x346f01(0x4b9)]+0x1:0x1,_0x541ea1(_0x2e986f,_0x996775[_0x346f01(0x70)])>_0x2e986f[_0x346f01(0x4b9)])return;if(!_0x2e986f[_0x346f01(0xab1)][_0x346f01(0x16a)]||!_0x2e986f[_0x346f01(0xab1)]['entities'])throw new Error(_0x346f01(0x1aa));const _0x484e42=new Map();for(const _0x3388f6 of _0x2e986f[_0x346f01(0xab1)][_0x346f01(0x16a)]){if(_0x346f01(0x2ae)!=typeof _0x3388f6[_0x346f01(0x898)])throw new Error(_0x346f01(0x478));_0x37881b(_0x3388f6[_0x346f01(0x898)],_0x2e986f[_0x346f01(0xab1)][_0x346f01(0x530)],_0x484e42);}await _0x383921[_0x346f01(0x71b)]({'jobType':_0x3ed2df[_0x346f01(0x877)],'type':_0x215244[_0x346f01(0x3b5)],'jobId':_0x4cded7,'blockId':_0x2e986f['id'],'traceLevel':_0x3d3bca[_0x346f01(0xa2d)],'timestamp':Date[_0x346f01(0x2a6)](),'startTime':_0x3dff1d,'status':'success','entities':_0x2e986f['accumulated'][_0x346f01(0x530)],'relations':_0x484e42,'totalRelationsExtracted':_0x484e42[_0x346f01(0x517)]}),await _0x21c1a5(_0x2929e9,_0x4cded7,_0x484e42,_0x2e986f,_0x996775,_0x31c4e6);}function _0x37881b(_0x23b013,_0x25d6db,_0x459daa){const _0x2e30ba=_0x4d79c3;for(const _0x258014 of _0x25d6db)for(const _0x27c4ef of _0x25d6db){if(_0x258014===_0x27c4ef)continue;const _0x11c306=_0x23b013['indexOf'](_0x258014),_0x577b57=_0x23b013[_0x2e30ba(0x58a)](_0x27c4ef);-0x1!==_0x11c306&&-0x1!==_0x577b57&&(_0x459daa[_0x2e30ba(0x85)](_0x258014)||_0x459daa[_0x2e30ba(0xb1)](_0x258014,new Set()),_0x459daa['get'](_0x258014)[_0x2e30ba(0x306)](_0x27c4ef));}return _0x459daa;}async function _0xd5bf09(_0x33d557,_0x56b612,_0x5d9634,_0x1eb2b8,_0x26a6e0,_0x3824d3){const _0xbcd7fa=_0x4d79c3,_0x10b939=Date[_0xbcd7fa(0x2a6)]();let _0x5a1565=[];if(_0x5d9634 instanceof Array)for(const _0x948d63 of _0x5d9634){if(_0xbcd7fa(0x2ae)!=typeof _0x948d63[_0xbcd7fa(0x898)])throw new Error(_0xbcd7fa(0x478));const _0x612b0f=await _0x3824d3[_0xbcd7fa(0x3ff)]['getSentences'](_0x948d63[_0xbcd7fa(0x898)]);_0x5a1565=_0x5a1565[_0xbcd7fa(0x4fa)](_0x612b0f[_0xbcd7fa(0x384)](_0xbafa5d=>({'content':_0xbafa5d,'start':_0x948d63[_0xbcd7fa(0x86)],'length':_0x948d63[_0xbcd7fa(0x4bf)]})));}else _0x5a1565=(await _0x3824d3[_0xbcd7fa(0x3ff)][_0xbcd7fa(0x267)](_0x5d9634))[_0xbcd7fa(0x384)](_0x5308f2=>({'content':_0x5308f2,'start':_0x5d9634[_0xbcd7fa(0x58a)](_0x5308f2),'length':_0x5308f2[_0xbcd7fa(0x4bf)]}));await _0x383921[_0xbcd7fa(0x71b)]({'jobType':_0x3ed2df['Ingest'],'type':_0x215244[_0xbcd7fa(0x9df)],'jobId':_0x56b612,'blockId':_0x1eb2b8['id'],'traceLevel':_0x3d3bca[_0xbcd7fa(0xa2d)],'startTime':_0x10b939,'timestamp':Date[_0xbcd7fa(0x2a6)](),'status':_0xbcd7fa(0x947),'totalSentences':_0x5a1565[_0xbcd7fa(0x4bf)],'averageSentenceLength':_0x5a1565['reduce']((_0x3383cc,_0x473495)=>_0x3383cc+_0x473495[_0xbcd7fa(0x4bf)],0x0)/_0x5a1565[_0xbcd7fa(0x4bf)]}),await _0x21c1a5(_0x33d557,_0x56b612,_0x5a1565,_0x1eb2b8,_0x26a6e0,_0x3824d3);}async function _0x3cda38(_0x2c7d91,_0x1e2d9f,_0x356c9f,_0x3129e1,_0x3e3563){const _0x267754=_0x4d79c3,_0x1b930f=_0x1e2d9f[_0x267754(0x78c)]??(0x0,_0x15d077['v4'])(),_0x2f145b=Date[_0x267754(0x2a6)]();await _0x383921['trace']({'jobType':_0x3ed2df['Workflow'],'type':_0x355e22[_0x267754(0x6c4)],'jobId':_0x2c7d91,'blockId':_0x356c9f['id'],'agentId':_0x1b930f,'threadId':_0x1e2d9f['threadId'],'traceLevel':_0x3d3bca[_0x267754(0xbc)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','initialPrompt':_0x1e2d9f['prompt']});const _0x4eecba={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x1e2d9f[_0x267754(0xa3b)]&&(_0x4eecba[_0x267754(0xa3b)]=_0x1e2d9f['internalContext']),await _0x4ff9d1(_0x2c7d91,_0x1e2d9f,_0x4eecba,_0x356c9f,_0x3129e1,_0x3e3563),await _0xf5e1fc(_0x2c7d91,''+_0x1e2d9f[_0x267754(0x5ac)],_0x1e2d9f,_0x4eecba,_0x356c9f,_0x3129e1,_0x3e3563);const {inputTokens:_0xcd23d7=0x0,outputTokens:_0x4f21bc=0x0,context:_0x22d9d8=[]}=_0x4eecba;await _0x383921[_0x267754(0x71b)]({'jobType':_0x3ed2df['Workflow'],'type':_0x355e22[_0x267754(0x6b7)],'jobId':_0x2c7d91,'agentId':_0x1b930f,'threadId':_0x1e2d9f[_0x267754(0x335)],'traceLevel':_0x3d3bca[_0x267754(0xbc)],'startTime':_0x2f145b,'timestamp':Date['now'](),'blockId':_0x356c9f['id'],'status':_0x267754(0x947),'output':_0x4eecba[_0x267754(0x39d)]?.[_0x267754(0x709)]()??'','prompt':_0x1e2d9f['prompt'],'agentName':'','history':_0x1e2d9f[_0x267754(0x38a)]??[],'instructions':''+(_0x1e2d9f[_0x267754(0x8f)]??''),'ragContext':_0x22d9d8,'inputTokens':_0xcd23d7,'outputTokens':_0x4f21bc});const _0x24c18d=_0x3129e1[_0x267754(0x483)](_0x330390=>_0x330390[_0x267754(0x572)]===_0x3e5dd5[_0x267754(0xa7f)]);return{'type':_0x267754(0x5ac),'output':_0x4eecba[_0x267754(0x39d)],'context':_0x4eecba['context'],'internalContext':_0x4eecba['internalContext'],'resultFile':await _0x24c18d?.[_0x267754(0xab1)]?.[_0x267754(0x116)]?.[_0x267754(0x7b9)]()??void 0x0,'inputTokens':_0x4eecba['inputTokens']??0x0,'outputTokens':_0x4eecba[_0x267754(0x472)]??0x0};}async function*_0x16bc1f(_0x16863f,_0x5c111d,_0x52f7ca,_0x1caf42,_0x1c44ed){const _0x5a9a42=_0x4d79c3,_0x1ba47c=_0x5c111d['agentId']??(0x0,_0x15d077['v4'])(),_0x2e8ec4=Date['now']();await _0x383921[_0x5a9a42(0x71b)]({'jobType':_0x3ed2df['Workflow'],'type':_0x355e22[_0x5a9a42(0x6c4)],'jobId':_0x16863f,'agentId':_0x1ba47c,'threadId':_0x5c111d[_0x5a9a42(0x335)],'traceLevel':_0x3d3bca[_0x5a9a42(0xbc)],'startTime':Date[_0x5a9a42(0x2a6)](),'timestamp':Date[_0x5a9a42(0x2a6)](),'blockId':_0x52f7ca['id'],'status':_0x5a9a42(0x947),'initialPrompt':_0x5c111d[_0x5a9a42(0x5ac)]});const _0x968f16={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x5c111d[_0x5a9a42(0xa3b)]&&(_0x968f16[_0x5a9a42(0xa3b)]=_0x5c111d['internalContext']);const _0x2dd599=new _0x4bcffc();await _0x4ff9d1(_0x16863f,_0x5c111d,_0x968f16,_0x52f7ca,_0x1caf42,_0x1c44ed),_0xf5e1fc(_0x16863f,''+_0x5c111d[_0x5a9a42(0x5ac)],_0x5c111d,_0x968f16,_0x52f7ca,_0x1caf42,_0x1c44ed,_0x2dd599);let _0x4683fe='',_0x3dab34={'type':'prompt'};for(;;){const _0xf4ac0f=await _0x2dd599[_0x5a9a42(0x7a7)]();if(!_0xf4ac0f)break;_0x4683fe+=_0xf4ac0f[_0x5a9a42(0x39d)],_0x3dab34={'type':'prompt','output':_0xf4ac0f[_0x5a9a42(0x39d)],'context':_0x968f16[_0x5a9a42(0x6b8)],'resultFile':void 0x0,'inputTokens':(_0x968f16[_0x5a9a42(0x546)]??0x0)+(_0xf4ac0f[_0x5a9a42(0x546)]??0x0),'outputTokens':(_0x968f16[_0x5a9a42(0x472)]??0x0)+(_0xf4ac0f[_0x5a9a42(0x472)]??0x0)},yield _0x3dab34;}const _0x17ad6f=_0x1caf42['find'](_0x4e98c=>_0x4e98c[_0x5a9a42(0x572)]===_0x3e5dd5[_0x5a9a42(0xa7f)]);yield{..._0x3dab34,'output':'','internalContext':_0x968f16[_0x5a9a42(0xa3b)],'resultFile':await _0x17ad6f?.[_0x5a9a42(0xab1)]?.[_0x5a9a42(0x116)]?.[_0x5a9a42(0x7b9)]()??void 0x0};const {inputTokens:_0x1a4da2=0x0,outputTokens:_0x272031=0x0,context:_0x3e9212=[]}=_0x3dab34;await _0x383921[_0x5a9a42(0x71b)]({'jobType':_0x3ed2df['Workflow'],'type':_0x355e22[_0x5a9a42(0x6b7)],'jobId':_0x16863f,'agentId':_0x1ba47c,'threadId':_0x5c111d['threadId'],'traceLevel':_0x3d3bca[_0x5a9a42(0xbc)],'startTime':_0x2e8ec4,'timestamp':Date[_0x5a9a42(0x2a6)](),'blockId':_0x52f7ca['id'],'status':'success','output':_0x4683fe,'prompt':_0x5c111d[_0x5a9a42(0x5ac)],'agentName':'','history':_0x5c111d['history']??[],'instructions':''+(_0x5c111d['instructions']??''),'ragContext':_0x3e9212,'inputTokens':_0x1a4da2,'outputTokens':_0x272031});}async function _0x4ff9d1(_0x1ecc55,_0x157dfb,_0x4ba34f,_0x5c7790,_0x363c6b,_0x11f6ec){const _0x30c599=_0x4d79c3;if(_0x157dfb[_0x30c599(0x1ba)]&&_0x5c7790[_0x30c599(0x5b5)]){const _0x9d9835=[];for(const _0x2ed454 of _0x157dfb['files'])_0x9d9835[_0x30c599(0x15b)](_0x5d2539(_0x2ed454));_0x5c7790[_0x30c599(0x5b5)]['some'](_0x2e91b4=>_0x2e91b4[_0x30c599(0x572)]===_0x57a86a['File'])&&await async function(_0x517d20,_0x52b5c9,_0x3b5652,_0x4b311d,_0x18ab25,_0x41912e,_0x255b2d){const _0x96aaf9=_0x30c599;if(0x0===_0x52b5c9[_0x96aaf9(0x4bf)])return;const _0x2472b6=[];for(const _0x3af51b of _0x52b5c9){const _0x3c117d=_0x3af51b[_0x96aaf9(0x572)];if(!_0x3c117d['startsWith'](_0x96aaf9(0x260)))continue;const _0x22bfd3=await _0x3af51b[_0x96aaf9(0x368)](),_0x51edaa=Buffer[_0x96aaf9(0x46f)](_0x22bfd3)[_0x96aaf9(0x709)](_0x96aaf9(0x7cc));_0x2472b6['push'](_0x3c117d+_0x96aaf9(0x915)+_0x51edaa);}if(_0x18ab25[_0x96aaf9(0x5b5)])for(const _0x2f4a4b of _0x18ab25[_0x96aaf9(0x5b5)]){if(_0x2f4a4b[_0x96aaf9(0x572)]!==_0x57a86a['File'])continue;const _0x1c5b79=_0x41912e[_0x96aaf9(0x483)](_0x1554dd=>_0x1554dd['uid']===_0x2f4a4b[_0x96aaf9(0x833)]);if(_0x1c5b79){for(const _0x2468ef of _0x2472b6)_0x1c5b79['type']===_0x3e5dd5[_0x96aaf9(0x6ab)]&&await _0x37899a(_0x517d20,_0x2f4a4b[_0x96aaf9(0x572)],_0x2468ef,_0x3b5652,_0x4b311d,_0x1c5b79,_0x41912e,_0x255b2d);}}}(_0x1ecc55,_0x9d9835,_0x157dfb,_0x4ba34f,_0x5c7790,_0x363c6b,_0x11f6ec),_0x5c7790['links']['some'](_0x42e4c3=>_0x42e4c3[_0x30c599(0x572)]===_0x57a86a['Image'])&&await async function(_0x3ca4bf,_0x39be14,_0x40472b,_0x4f05bb,_0x33aa11,_0x5d5374,_0xf576a1){const _0x32e67c=_0x30c599;if(0x0===_0x39be14[_0x32e67c(0x4bf)])return;const _0x4a3467=[];for(const _0x53976c of _0x39be14){const _0x368559=_0x53976c[_0x32e67c(0x572)];if(!_0x368559[_0x32e67c(0x8d2)](_0x32e67c(0x674)))continue;const _0x129d21=await _0x53976c[_0x32e67c(0x368)](),_0x10bdf3=Buffer['from'](_0x129d21)[_0x32e67c(0x709)]('base64');_0x4a3467[_0x32e67c(0x15b)](_0x368559+_0x32e67c(0x915)+_0x10bdf3);}if(_0x33aa11[_0x32e67c(0x5b5)])for(const _0x1d53a3 of _0x33aa11[_0x32e67c(0x5b5)]){if(_0x1d53a3[_0x32e67c(0x572)]!==_0x57a86a[_0x32e67c(0x90a)])continue;const _0x39059b=_0x5d5374[_0x32e67c(0x483)](_0x222bf9=>_0x222bf9[_0x32e67c(0x833)]===_0x1d53a3['uid']);if(_0x39059b){for(const _0x3b6a16 of _0x4a3467)_0x39059b['type']===_0x3e5dd5[_0x32e67c(0x6ab)]&&await _0x37899a(_0x3ca4bf,_0x1d53a3[_0x32e67c(0x572)],_0x3b6a16,_0x40472b,_0x4f05bb,_0x39059b,_0x5d5374,_0xf576a1);}}}(_0x1ecc55,_0x9d9835,_0x157dfb,_0x4ba34f,_0x5c7790,_0x363c6b,_0x11f6ec);}}function _0x5d2539(_0x53e8b5){const _0x55ab18=_0x4d79c3,_0x4ed226=Uint8Array['from'](Buffer[_0x55ab18(0x46f)](_0x53e8b5['content'],_0x55ab18(0x7cc))),_0x10dad7=new Blob([_0x4ed226],{'type':_0x53e8b5[_0x55ab18(0x572)]});return new File([_0x10dad7],_0x53e8b5['name'],{'type':_0x53e8b5[_0x55ab18(0x572)]});}function _0x5a7157(_0xb0f94b,_0x5735e5){const _0x560778=_0x4d79c3;switch(_0x5735e5[_0x560778(0x661)]){case _0x5171d5[_0x560778(0x386)]:return'crewdle';case _0x5171d5[_0x560778(0x6ce)]:return _0xb0f94b;case _0x5171d5['Dedicated']:default:return _0x5735e5['id'];}}async function _0x17675d(_0x5b3196,_0x3bab15,_0x272dee,_0x57995f,_0x5632c0,_0x793f20){const _0xc802bd=_0x4d79c3,_0x6dc06e=Date['now']();var _0x29cab3;if(_0x57995f[_0xc802bd(0xab1)]||(_0x57995f[_0xc802bd(0xab1)]={}),_0x272dee instanceof Array?(_0x29cab3=_0x272dee)[0x0]instanceof Array&&'number'==typeof _0x29cab3[0x0]?.[0x0]?_0x57995f[_0xc802bd(0xab1)][_0xc802bd(0x284)]=_0x272dee:_0x57995f[_0xc802bd(0xab1)][_0xc802bd(0x16a)]=_0x272dee:_0xc802bd(0x2ae)==typeof _0x272dee?_0x57995f[_0xc802bd(0xab1)]['content']=_0x272dee:_0x57995f[_0xc802bd(0xab1)]['file']=_0x272dee,_0x57995f[_0xc802bd(0x4b9)]=_0x57995f[_0xc802bd(0x4b9)]?_0x57995f['timesCalled']+0x1:0x1,!(_0x541ea1(_0x57995f,_0x5632c0['ingestBlocks'])>_0x57995f['timesCalled'])){if('vector-database'===_0x57995f['id']){if(!_0x57995f[_0xc802bd(0xab1)][_0xc802bd(0x16a)]||!_0x57995f['accumulated']['vectors']||!_0x57995f['accumulated'][_0xc802bd(0x116)])throw new Error(_0xc802bd(0x722));if(!_0x793f20[_0xc802bd(0xa14)])throw new Error(_0xc802bd(0xdf));const _0x296f40=[];for(let _0x36a0af=0x0;_0x36a0af<_0x57995f[_0xc802bd(0xab1)]['index'][_0xc802bd(0x4bf)];_0x36a0af++){const _0x1e4568=_0x57995f[_0xc802bd(0xab1)][_0xc802bd(0x284)][_0x36a0af],_0x1efa5f=_0x57995f[_0xc802bd(0xab1)][_0xc802bd(0x16a)][_0x36a0af];_0x296f40[_0xc802bd(0x15b)]({'content':_0x1e4568,'start':_0x1efa5f[_0xc802bd(0x86)],'length':_0x1efa5f[_0xc802bd(0x4bf)]});}const _0x7ffdd8=_0x5a7157(_0x5b3196,_0x5632c0);await _0x793f20['ragConnector']['ingestFile'](_0x7ffdd8,_0x5632c0['id'],_0x57995f['accumulated']['file'][_0xc802bd(0x1a8)],_0x296f40);}else{if(!(_0x57995f['accumulated'][_0xc802bd(0x898)]&&_0x57995f['accumulated'][_0xc802bd(0x16a)]&&_0x57995f['accumulated']['vectors']&&_0x57995f[_0xc802bd(0xab1)][_0xc802bd(0x116)]))throw new Error(_0xc802bd(0x722));const _0x12eb52=_0x793f20[_0xc802bd(0x64a)]['getVectorDatabase'](_0x57995f['id']);_0x12eb52[_0xc802bd(0x5af)](_0x57995f[_0xc802bd(0xab1)]['file']['pathName'],_0x57995f['accumulated'][_0xc802bd(0x898)],_0x57995f['accumulated'][_0xc802bd(0x16a)],_0x57995f[_0xc802bd(0xab1)][_0xc802bd(0x284)]),await _0x383921[_0xc802bd(0x71b)]({'jobType':_0x3ed2df[_0xc802bd(0x877)],'type':_0x215244[_0xc802bd(0xa62)],'jobId':_0x3bab15,'blockId':_0x57995f['id'],'traceLevel':_0x3d3bca['Debug'],'startTime':_0x6dc06e,'timestamp':Date['now'](),'status':_0xc802bd(0x947),'databaseName':_0x12eb52[_0xc802bd(0x97b)](),'vectorsAdded':_0x57995f[_0xc802bd(0xab1)][_0xc802bd(0x284)][_0xc802bd(0x4bf)],'filePathName':_0x57995f[_0xc802bd(0xab1)][_0xc802bd(0x116)][_0xc802bd(0x1a8)]});}}}async function _0x161fae(_0x79e981,_0x1e7325,_0x51c02e,_0x2875e6,_0x2c120e,_0x2014d0){const _0x2019cf=_0x4d79c3,_0x18614e=Date['now']();let _0x536444=[];if(_0x51c02e instanceof Array)for(const _0x58567e of _0x51c02e){if(_0x2019cf(0x2ae)!=typeof _0x58567e[_0x2019cf(0x898)])throw new Error(_0x2019cf(0x478));_0x536444=_0x536444['concat'](_0x100e98(_0x58567e['content'],_0x2875e6,_0x58567e[_0x2019cf(0x86)],_0x58567e['length']));}else _0x536444=_0x100e98(_0x51c02e,_0x2875e6);await _0x383921[_0x2019cf(0x71b)]({'jobType':_0x3ed2df[_0x2019cf(0x877)],'type':_0x215244[_0x2019cf(0x4eb)],'jobId':_0x1e7325,'traceLevel':_0x3d3bca[_0x2019cf(0xa2d)],'blockId':_0x2875e6['id'],'startTime':_0x18614e,'timestamp':Date[_0x2019cf(0x2a6)](),'status':_0x2019cf(0x947),'totalChunks':_0x536444[_0x2019cf(0x4bf)],'averageChunkLength':_0x536444[_0x2019cf(0x7ab)]((_0x520db3,_0x199dc9)=>_0x520db3+_0x199dc9[_0x2019cf(0x4bf)],0x0)/_0x536444[_0x2019cf(0x4bf)]}),await _0x21c1a5(_0x79e981,_0x1e7325,_0x536444,_0x2875e6,_0x2c120e,_0x2014d0);}function _0x100e98(_0x4fdc46,_0x3cd829,_0x1e576b,_0x1e7a4c){const _0xb3ebcb=_0x4d79c3,_0x14648c=[],_0x4d8f61=_0x4fdc46[_0xb3ebcb(0x101)]('\x20');let _0x2ebdda='',_0x256930=-0x1,_0x118048=0x0,_0x15b126=0x0;for(const _0x2b98d3 of _0x4d8f61){if(_0x2ebdda['length']+_0x2b98d3['length']>_0x3cd829[_0xb3ebcb(0x9a9)]['size']){const _0x999beb=_0x2ebdda[_0xb3ebcb(0x4bf)];let _0x31e592=_0x256930,_0x35df74='';for(;_0x31e592>=0x0&&_0x35df74[_0xb3ebcb(0x4bf)]+_0x4d8f61[_0x31e592][_0xb3ebcb(0x4bf)]<_0x3cd829[_0xb3ebcb(0x9a9)]['overlap'];)_0x35df74=_0x4d8f61[_0x31e592]+'\x20'+_0x35df74,_0x31e592--;let _0x2d9870=_0x118048,_0x4135ba='';for(;_0x2d9870<_0x4d8f61[_0xb3ebcb(0x4bf)]&&_0x4135ba['length']+_0x4d8f61[_0x2d9870]['length']<_0x3cd829[_0xb3ebcb(0x9a9)][_0xb3ebcb(0x7da)];)_0x4135ba+=_0x4d8f61[_0x2d9870]+'\x20',_0x2d9870++;_0x2ebdda=_0x35df74+_0x2ebdda+_0x4135ba,_0x14648c[_0xb3ebcb(0x15b)]({'content':_0x2ebdda[_0xb3ebcb(0x85f)](),'start':_0x1e576b??_0x15b126,'length':_0x1e7a4c??_0x999beb}),_0x2ebdda='',_0x256930=_0x118048-0x1,_0x15b126+=_0x999beb;}_0x2ebdda+=_0x2b98d3+'\x20',_0x118048++;}if(_0x2ebdda[_0xb3ebcb(0x4bf)]>0x0){const _0x38efb9=_0x2ebdda[_0xb3ebcb(0x4bf)];let _0x20a616=_0x256930,_0xc49d3c='';for(;_0x20a616>=0x0&&_0xc49d3c[_0xb3ebcb(0x4bf)]+_0x4d8f61[_0x20a616][_0xb3ebcb(0x4bf)]<_0x3cd829[_0xb3ebcb(0x9a9)]['overlap'];)_0xc49d3c=_0x4d8f61[_0x20a616]+'\x20'+_0xc49d3c,_0x20a616--;_0x2ebdda=_0xc49d3c+_0x2ebdda,_0x14648c[_0xb3ebcb(0x15b)]({'content':_0x2ebdda[_0xb3ebcb(0x85f)](),'start':_0x1e576b??_0x15b126,'length':_0x1e7a4c??_0x38efb9});}return _0x14648c;}async function _0x21c1a5(_0x394977,_0x3c3173,_0x13b244,_0x4f59bb,_0x1421a0,_0x478ccb){const _0x32ac44=_0x4d79c3;for(const _0x1d0fec of _0x4f59bb[_0x32ac44(0x5b5)]||[]){const _0x36af6b=_0x1421a0['ingestBlocks'][_0x32ac44(0x483)](_0xf5a00f=>_0xf5a00f['uid']===_0x1d0fec[_0x32ac44(0x833)]);if(_0x36af6b)switch(_0x36af6b[_0x32ac44(0x572)]){case _0x4acbf4[_0x32ac44(0x6ab)]:_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x6e0)]&&_0x32ac44(0x2ae)==typeof _0x13b244&&await _0x4dc1b7(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);break;case _0x4acbf4[_0x32ac44(0x385)]:_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x6e0)]&&'string'==typeof _0x13b244&&await _0x3e8216(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x523)]&&_0x13b244 instanceof Array&&await _0x3e8216(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);break;case _0x4acbf4[_0x32ac44(0x2f0)]:_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x3d5)]&&await _0x1f44c2(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);break;case _0x4acbf4[_0x32ac44(0x4e8)]:if(_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x523)]&&_0x13b244 instanceof Array){if(!_0x1421a0['modelId'])throw new Error(_0x32ac44(0x453));const _0x168683={'type':_0x4acbf4[_0x32ac44(0x18f)],'id':_0x1421a0['modelId'],'uid':(0x0,_0x15d077['v4'])(),'links':_0x36af6b[_0x32ac44(0x5b5)]};await _0x2fe964(_0x394977,_0x3c3173,_0x13b244,_0x168683,_0x1421a0,_0x478ccb);}break;case _0x4acbf4[_0x32ac44(0x7c3)]:_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x523)]&&_0x13b244 instanceof Array&&await _0x4bcdfd(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);break;case _0x4acbf4[_0x32ac44(0x7e0)]:_0x1d0fec['type']===_0x57a86a[_0x32ac44(0x6e0)]&&'string'==typeof _0x13b244&&await _0x4290c5(_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x523)]&&_0x13b244 instanceof Array&&await _0x4290c5(_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec['type']===_0x57a86a['Entity']&&_0x13b244 instanceof Set&&await _0x4290c5(_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x13a)]&&_0x13b244 instanceof Map&&await _0x4290c5(_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec['type']===_0x57a86a['File']&&await _0x4290c5(_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);break;case _0x4acbf4[_0x32ac44(0x18f)]:_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a['Text']&&'string'==typeof _0x13b244&&await _0x2fe964(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x523)]&&_0x13b244 instanceof Array&&await _0x2fe964(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);break;case _0x4acbf4[_0x32ac44(0x3b5)]:_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x523)]&&_0x13b244 instanceof Array&&await _0x278d41(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec['type']===_0x57a86a['Entity']&&_0x13b244 instanceof Set&&await _0x278d41(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);break;case _0x4acbf4[_0x32ac44(0x9df)]:_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x6e0)]&&'string'==typeof _0x13b244&&await _0xd5bf09(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a['Index']&&_0x13b244 instanceof Array&&await _0xd5bf09(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);break;case _0x4acbf4[_0x32ac44(0xa62)]:_0x1d0fec['type']===_0x57a86a[_0x32ac44(0x6e0)]&&'string'==typeof _0x13b244&&await _0x17675d(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x523)]&&_0x13b244 instanceof Array&&await _0x17675d(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a['Vector']&&_0x13b244 instanceof Array&&await _0x17675d(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec['type']===_0x57a86a[_0x32ac44(0x3d5)]&&await _0x17675d(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);break;case _0x4acbf4[_0x32ac44(0x4eb)]:_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x6e0)]&&_0x32ac44(0x2ae)==typeof _0x13b244&&await _0x161fae(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb),_0x1d0fec[_0x32ac44(0x572)]===_0x57a86a[_0x32ac44(0x523)]&&_0x13b244 instanceof Array&&await _0x161fae(_0x394977,_0x3c3173,_0x13b244,_0x36af6b,_0x1421a0,_0x478ccb);}}}function _0x541ea1(_0x5c4ce6,_0x2fea1a){const _0x2b0f45=_0x4d79c3;return _0x2fea1a['filter'](_0x15c1c2=>_0x15c1c2[_0x2b0f45(0x5b5)]?.[_0x2b0f45(0x884)](_0x5bfb05=>_0x5bfb05[_0x2b0f45(0x833)]===_0x5c4ce6[_0x2b0f45(0x833)]))[_0x2b0f45(0x4bf)];}async function _0x3fe24a(_0x3b8266,_0x5ecf2f,_0x3dab65,_0x574f97,_0x21865e,_0x675250,_0x41fdf4){const _0xcac296=_0x4d79c3;try{let _0x596220;switch(_0x21865e[_0xcac296(0x572)]){case _0x4acbf4[_0xcac296(0x238)]:const _0x119ab0=_0x41fdf4[_0xcac296(0x64a)][_0xcac296(0x1af)](_0x21865e['id']);_0x596220=await _0x119ab0[_0xcac296(0x2d3)](_0x3dab65);break;case _0x4acbf4['ExternalStorageUpload']:const _0x3389e8=_0x41fdf4[_0xcac296(0x64a)][_0xcac296(0x464)](_0x21865e['id']);_0x596220=await _0x3389e8[_0xcac296(0x2d3)](_0x3dab65);case _0x4acbf4[_0xcac296(0x77c)]:const _0xc4dc23=_0x3dab65[_0xcac296(0x101)]('/')['pop']();if(!_0xc4dc23)throw new Error(_0xcac296(0x7b0));const _0x178f30=_0x3dab65[_0xcac296(0x388)](_0xc4dc23,''),_0x11925f=Buffer[_0xcac296(0x46f)](_0x574f97,'base64');if(_0x596220=new File([_0x11925f],_0xc4dc23),!_0x41fdf4[_0xcac296(0x15f)])throw new Error(_0xcac296(0x886));await _0x41fdf4[_0xcac296(0x15f)][_0xcac296(0xf3)](_0x596220,_0x178f30);}if(!_0x596220)throw new Error('Failed\x20to\x20get\x20file');await _0x21c1a5(_0x3b8266,_0x5ecf2f,{'file':_0x596220,'pathName':_0x3dab65},_0x21865e,structuredClone(_0x675250),_0x41fdf4);}catch(_0x53eb57){console['error']('Error\x20processing\x20ingest',_0x53eb57);}}async function _0x2e9abc(_0x4aef5c,_0x133a54,_0x4f538e,_0x36e463,_0x262e2b,_0x568abc,_0x40bfae,_0x55ff7c){const _0x4b8b4a=_0x4d79c3,_0x258135=Date['now'](),_0x493b13=new Set();if(_0x36e463 instanceof Array){for(const _0x507115 of _0x36e463)await _0x248cf0(_0x507115[_0x4b8b4a(0x898)],_0x568abc,_0x493b13,_0x55ff7c[_0x4b8b4a(0x3ff)]);}else await _0x248cf0(_0x36e463,_0x568abc,_0x493b13,_0x55ff7c[_0x4b8b4a(0x3ff)]);await _0x383921['trace']({'jobType':_0x3ed2df['Retrieve'],'type':_0x8a5008['EntityExtractor'],'jobId':_0x133a54,'threadId':_0x4f538e,'blockId':_0x568abc['id'],'traceLevel':_0x3d3bca[_0x4b8b4a(0xa2d)],'startTime':_0x258135,'timestamp':Date[_0x4b8b4a(0x2a6)](),'status':_0x4b8b4a(0x947),'content':_0x36e463,'entitiesExtracted':Array['from'](_0x493b13),'totalEntities':_0x493b13['size']}),await _0x4bcdee(_0x4aef5c,_0x133a54,_0x4f538e,_0x493b13,_0x262e2b,_0x568abc,_0x40bfae,_0x55ff7c);}async function _0x248cf0(_0xdcbefd,_0x3d3b82,_0x445d9b,_0x5b55ea){const _0x5b57d3=_0x4d79c3,_0x20c6f0=await _0x5b55ea[_0x5b57d3(0x68b)](_0xdcbefd,{'ner':_0x3d3b82[_0x5b57d3(0x9a9)][_0x5b57d3(0x290)],'noun':_0x3d3b82['attributes'][_0x5b57d3(0x62c)],'propn':_0x3d3b82[_0x5b57d3(0x9a9)][_0x5b57d3(0x90d)],'verb':_0x3d3b82[_0x5b57d3(0x9a9)][_0x5b57d3(0x896)]});for(const _0x213817 of _0x20c6f0)_0x445d9b[_0x5b57d3(0x306)](_0x213817);}async function _0x799c0c(_0x30547a,_0x1cac2a,_0x33ce68,_0xae2534,_0x1ea84e,_0x7b240c,_0x1629dc,_0x305f7a){const _0x28b885=_0x4d79c3,_0x1b92c2=Date[_0x28b885(0x2a6)]();if(_0x7b240c[_0x28b885(0xab1)]||(_0x7b240c[_0x28b885(0xab1)]={}),_0xae2534 instanceof Array?(_0x7b240c[_0x28b885(0xab1)][_0x28b885(0x85e)]||(_0x7b240c[_0x28b885(0xab1)][_0x28b885(0x85e)]=[]),_0x7b240c[_0x28b885(0xab1)][_0x28b885(0x85e)][_0x28b885(0x15b)](..._0xae2534)):_0xae2534 instanceof Set?_0x7b240c[_0x28b885(0xab1)][_0x28b885(0x530)]=_0xae2534:_0x7b240c['accumulated'][_0x28b885(0x5ac)]=_0xae2534,_0x7b240c[_0x28b885(0x4b9)]=_0x7b240c[_0x28b885(0x4b9)]?_0x7b240c[_0x28b885(0x4b9)]+0x1:0x1,_0x2ef28e(_0x7b240c,_0x1629dc[_0x28b885(0x6b4)])>_0x7b240c[_0x28b885(0x4b9)])return;if(!_0x7b240c[_0x28b885(0xab1)][_0x28b885(0x5ac)]&&!_0x7b240c['accumulated']['results']||!_0x7b240c[_0x28b885(0xab1)]['entities'])throw new Error(_0x28b885(0xa39));const _0x51b96b=_0x305f7a[_0x28b885(0x64a)][_0x28b885(0x4c3)](_0x7b240c['id'])[_0x28b885(0x213)](Array[_0x28b885(0x46f)](_0x7b240c[_0x28b885(0xab1)]['entities']),_0x7b240c[_0x28b885(0x9a9)][_0x28b885(0x50e)],_0x7b240c[_0x28b885(0x9a9)]['contentSize']);let _0x1013ba=[];for(const _0x4bacbe in _0x51b96b){const _0x3f8e46=_0x51b96b[_0x4bacbe];for(const _0x15e24c of _0x3f8e46){let _0x7ae4c0=0x0;if(_0x7b240c[_0x28b885(0xab1)][_0x28b885(0x5ac)]&&(_0x7ae4c0=await _0x305f7a[_0x28b885(0x3ff)][_0x28b885(0x717)](_0x7b240c[_0x28b885(0xab1)][_0x28b885(0x5ac)],_0x15e24c)),_0x7b240c['accumulated']['results']){for(const _0x804137 of _0x7b240c[_0x28b885(0xab1)][_0x28b885(0x85e)])_0x7ae4c0=Math[_0x28b885(0x520)](_0x7ae4c0,await _0x305f7a[_0x28b885(0x3ff)][_0x28b885(0x717)](_0x804137[_0x28b885(0x898)],_0x15e24c));}_0x7ae4c0<_0x7b240c[_0x28b885(0x9a9)]['minRelevance']||_0x1013ba[_0x28b885(0x15b)]({'content':_0x15e24c,'relevance':_0x7ae4c0,'pathName':_0x4bacbe});}}_0x1013ba=_0x1013ba[_0x28b885(0x694)]((_0x2da657,_0xd6efed)=>_0xd6efed[_0x28b885(0x52f)]-_0x2da657[_0x28b885(0x52f)])[_0x28b885(0x4f8)](0x0,_0x7b240c['attributes']['topK']),await _0x383921[_0x28b885(0x71b)]({'jobType':_0x3ed2df['Retrieve'],'type':_0x8a5008['GraphSearch'],'jobId':_0x1cac2a,'threadId':_0x33ce68,'blockId':_0x7b240c['id'],'traceLevel':_0x3d3bca[_0x28b885(0xa2d)],'timestamp':Date[_0x28b885(0x2a6)](),'startTime':_0x1b92c2,'status':_0x28b885(0x947),'content':_0xae2534,'topResults':_0x1013ba,'numResults':_0x1013ba['length']}),await _0x4bcdee(_0x30547a,_0x1cac2a,_0x33ce68,_0x1013ba,_0x1ea84e,_0x7b240c,_0x1629dc,_0x305f7a);}async function _0x36df25(_0x50dc2e,_0x29bbb9,_0x4a1ebf,_0x49322f,_0x15c9d5,_0x105bda,_0x49ee01,_0x816350){const _0x3ec4fa=_0x4d79c3,_0x2bb5bd=_0x816350[_0x3ec4fa(0x4ad)][_0x3ec4fa(0x483)](_0x30cde0=>_0x30cde0['id']===_0x105bda['id']);if(!_0x2bb5bd)throw new Error(_0x3ec4fa(0x59a));let _0x5cfbd3='';switch(_0x5cfbd3=_0x49322f instanceof Array?_0x49322f['map'](_0x2952dc=>_0x2952dc['content'])['join'](',\x20'):_0x49322f,_0x2bb5bd['outputType']){case _0xf8ccf2[_0x3ec4fa(0x7bb)][_0x3ec4fa(0x6e0)]:await async function(_0x81b599,_0x3c7d1d,_0x4c58ae,_0x3a7f15,_0x533797,_0x1064e3,_0xff735c,_0x1d40e5,_0x8f5895){const _0x2adc87=_0x3ec4fa,_0x2eea23=Date[_0x2adc87(0x2a6)](),_0x143f30=await fetch(_0x229087['apiUrl']+'/chat/completions',{'method':_0x2adc87(0x1b6),'headers':{'Content-Type':_0x2adc87(0x8b5),'x-vendor-id':_0x81b599},'body':JSON['stringify']({'messages':[{'role':_0x2adc87(0x62b),'content':_0x3a7f15}],'model':_0x1064e3['id']})}),_0x5dac05=(await _0x143f30[_0x2adc87(0x9ab)]())[_0x2adc87(0x423)][0x0][_0x2adc87(0x206)][_0x2adc87(0x898)];await _0x383921[_0x2adc87(0x71b)]({'jobType':_0x3ed2df[_0x2adc87(0x845)],'type':_0x8a5008[_0x2adc87(0x40c)],'jobId':_0x3c7d1d,'threadId':_0x4c58ae,'blockId':_0xff735c['id'],'traceLevel':_0x3d3bca[_0x2adc87(0xa2d)],'startTime':_0x2eea23,'timestamp':Date[_0x2adc87(0x2a6)](),'status':_0x2adc87(0x947),'modelName':_0x1064e3['id'],'content':_0x3a7f15,'newPrompt':_0x5dac05,'inputType':_0x1064e3['inputType'],'outputType':_0x1064e3['outputType']}),await _0x4bcdee(_0x81b599,_0x3c7d1d,_0x4c58ae,_0x5dac05,_0x533797,_0xff735c,_0x1d40e5,_0x8f5895);}(_0x50dc2e,_0x29bbb9,_0x4a1ebf,_0x5cfbd3,_0x15c9d5,_0x2bb5bd,_0x105bda,_0x49ee01,_0x816350);break;case _0xf8ccf2[_0x3ec4fa(0x7bb)][_0x3ec4fa(0x551)]:await async function(_0x30d8e6,_0x1275a6,_0x5a39e9,_0x12d001,_0x45a979,_0x170361,_0x49cb18,_0x26b314,_0x439ad6){const _0x19d6d3=_0x3ec4fa,_0x452e9c=Date['now'](),_0x26b2e9=await fetch(_0x229087[_0x19d6d3(0x599)]+'/embeddings',{'method':_0x19d6d3(0x1b6),'headers':{'Content-Type':'application/json','x-vendor-id':_0x30d8e6},'body':JSON['stringify']({'input':_0x12d001,'model':_0x170361['id']})}),_0x55bf6d=(await _0x26b2e9[_0x19d6d3(0x9ab)]())[_0x19d6d3(0x8da)][0x0][_0x19d6d3(0xa8d)];await _0x383921[_0x19d6d3(0x71b)]({'jobType':_0x3ed2df[_0x19d6d3(0x845)],'type':_0x8a5008[_0x19d6d3(0x705)],'jobId':_0x1275a6,'threadId':_0x5a39e9,'blockId':_0x49cb18['id'],'traceLevel':_0x3d3bca[_0x19d6d3(0xa2d)],'startTime':_0x452e9c,'timestamp':Date['now'](),'status':_0x19d6d3(0x947),'modelName':_0x170361['id'],'content':_0x12d001,'totalVectors':_0x55bf6d['length']}),await _0x4bcdee(_0x30d8e6,_0x1275a6,_0x5a39e9,_0x55bf6d,_0x45a979,_0x49cb18,_0x26b314,_0x439ad6);}(_0x50dc2e,_0x29bbb9,_0x4a1ebf,_0x5cfbd3,_0x15c9d5,_0x2bb5bd,_0x105bda,_0x49ee01,_0x816350);}}async function _0x1db7e1(_0x1abf0c,_0x46a04d,_0x1d8853,_0x49fd01,_0x38ede2,_0x1b3453,_0xef269,_0x32daf9){const _0x527314=_0x4d79c3,_0x174e43=Date['now']();if(_0x1b3453[_0x527314(0xab1)]||(_0x1b3453['accumulated']={}),_0x49fd01 instanceof Array?(_0x1b3453[_0x527314(0xab1)][_0x527314(0x85e)]||(_0x1b3453[_0x527314(0xab1)][_0x527314(0x85e)]=[]),_0x1b3453[_0x527314(0xab1)][_0x527314(0x85e)][_0x527314(0x15b)](..._0x49fd01)):_0x1b3453['accumulated'][_0x527314(0x5ac)]=_0x49fd01,_0x1b3453[_0x527314(0x4b9)]=_0x1b3453[_0x527314(0x4b9)]?_0x1b3453[_0x527314(0x4b9)]+0x1:0x1,_0x2ef28e(_0x1b3453,_0xef269[_0x527314(0x6b4)])>_0x1b3453[_0x527314(0x4b9)])return;if(!_0x1b3453[_0x527314(0xab1)][_0x527314(0x5ac)]||!_0x1b3453[_0x527314(0xab1)]['results'])throw new Error('Reranker\x20block\x20is\x20missing\x20required\x20data');for(const _0x4f4ab2 of _0x1b3453['accumulated'][_0x527314(0x85e)])_0x4f4ab2[_0x527314(0x52f)]=await _0x32daf9[_0x527314(0x3ff)]['getSimilarity'](_0x1b3453[_0x527314(0xab1)][_0x527314(0x5ac)],_0x4f4ab2[_0x527314(0x898)]);const _0x4da2a5=_0x1b3453[_0x527314(0xab1)]['results']['filter'](_0x5b25fa=>_0x5b25fa[_0x527314(0x52f)]>_0x1b3453[_0x527314(0x9a9)]['minRelevance'])[_0x527314(0x694)]((_0x3d0b20,_0x3b7bb7)=>_0x3b7bb7[_0x527314(0x52f)]-_0x3d0b20[_0x527314(0x52f)])[_0x527314(0x4f8)](0x0,_0x1b3453[_0x527314(0x9a9)][_0x527314(0x92d)]);await _0x383921['trace']({'jobType':_0x3ed2df[_0x527314(0x845)],'type':_0x8a5008[_0x527314(0x91f)],'jobId':_0x46a04d,'threadId':_0x1d8853,'blockId':_0x1b3453['id'],'traceLevel':_0x3d3bca[_0x527314(0xa2d)],'startTime':_0x174e43,'timestamp':Date[_0x527314(0x2a6)](),'status':_0x527314(0x947),'inputResults':_0x1b3453[_0x527314(0xab1)][_0x527314(0x85e)],'rerankedResults':_0x4da2a5}),await _0x4bcdee(_0x1abf0c,_0x46a04d,_0x1d8853,_0x4da2a5,_0x38ede2,_0x1b3453,_0xef269,_0x32daf9);}async function _0x29dba1(_0x495482,_0x521286,_0x5d075f,_0x588322,_0x57c650,_0x5a8033,_0x5520c5,_0x1c7dc6){const _0x4886da=_0x4d79c3,_0x564974=Date[_0x4886da(0x2a6)]();if(_0x5a8033[_0x4886da(0xab1)]||(_0x5a8033[_0x4886da(0xab1)]={}),_0x588322 instanceof Array?_0x5a8033[_0x4886da(0xab1)][_0x4886da(0x4bb)]=_0x588322:_0x5a8033[_0x4886da(0xab1)]['content']=_0x588322,_0x5a8033[_0x4886da(0x4b9)]=_0x5a8033[_0x4886da(0x4b9)]?_0x5a8033[_0x4886da(0x4b9)]+0x1:0x1,!(_0x2ef28e(_0x5a8033,_0x5520c5[_0x4886da(0x6b4)])>_0x5a8033[_0x4886da(0x4b9)])){if('vector-database'===_0x5a8033['id']){if(!_0x5a8033[_0x4886da(0xab1)][_0x4886da(0x4bb)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');if(!_0x1c7dc6['ragConnector'])throw new Error(_0x4886da(0xdf));const _0x34ea6b=_0x5a7157(_0x495482,_0x5520c5);let _0x2cd313=await _0x1c7dc6['ragConnector']?.[_0x4886da(0x406)](_0x34ea6b,_0x5520c5['id'],_0x5a8033[_0x4886da(0xab1)]['vector'],_0x5a8033['attributes'][_0x4886da(0x92d)]);_0x2cd313=_0x2cd313[_0x4886da(0x70d)](_0x44ffa1=>_0x44ffa1[_0x4886da(0x52f)]>_0x5a8033[_0x4886da(0x9a9)][_0x4886da(0x331)])||[];const _0x4431fd=[];for(const _0x1fc028 of _0x2cd313){if(!_0x1c7dc6[_0x4886da(0x15f)])throw new Error(_0x4886da(0x994));if(void 0x0===_0x1fc028['start']||void 0x0===_0x1fc028[_0x4886da(0x4bf)])throw new Error('Missing\x20index');const _0x18bb62=await _0x1c7dc6[_0x4886da(0x15f)][_0x4886da(0x2d3)](_0x1fc028['pathName']);let _0x539135='';if(_0x18bb62[_0x4886da(0x572)][_0x4886da(0x8d2)](_0x4886da(0xa31))||_0x4cdd67(_0x18bb62[_0x4886da(0x687)],_0x57fd2d))_0x539135=await _0x18bb62[_0x4886da(0x7b9)]();else{if(!_0x1c7dc6[_0x4886da(0x4e5)]['supports'](_0x18bb62))throw new Error(_0x4886da(0x7e7)+_0x18bb62['type']+'\x20-\x20'+_0x18bb62['name']);_0x539135=await _0x1c7dc6[_0x4886da(0x4e5)][_0x4886da(0x823)](_0x18bb62);}_0x4431fd['push']({'pathName':_0x1fc028[_0x4886da(0x1a8)],'content':_0x539135['substring'](_0x1fc028[_0x4886da(0x86)],_0x1fc028['start']+_0x1fc028[_0x4886da(0x4bf)]),'relevance':_0x1fc028[_0x4886da(0x52f)]});}await _0x4bcdee(_0x495482,_0x521286,_0x5d075f,_0x4431fd,_0x57c650,_0x5a8033,_0x5520c5,_0x1c7dc6);}else{if(!_0x5a8033[_0x4886da(0xab1)]['vector']||!_0x5a8033[_0x4886da(0xab1)][_0x4886da(0x898)])throw new Error(_0x4886da(0x722));const _0x14eade=await _0x1c7dc6[_0x4886da(0x3ff)][_0x4886da(0x68b)](_0x5a8033[_0x4886da(0xab1)][_0x4886da(0x898)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x209f41=_0x1c7dc6['contentMediator'][_0x4886da(0x16c)](_0x5a8033['id'])[_0x4886da(0x8a7)](_0x14eade,_0x5a8033[_0x4886da(0xab1)][_0x4886da(0x4bb)],_0x5a8033['attributes'][_0x4886da(0x92d)],_0x5a8033[_0x4886da(0x9a9)]['minRelevance'],_0x5a8033[_0x4886da(0x9a9)][_0x4886da(0x274)]);await _0x383921[_0x4886da(0x71b)]({'jobType':_0x3ed2df['Retrieve'],'type':_0x8a5008[_0x4886da(0x143)],'jobId':_0x521286,'threadId':_0x5d075f,'blockId':_0x5a8033['id'],'traceLevel':_0x3d3bca[_0x4886da(0xa2d)],'startTime':_0x564974,'timestamp':Date['now'](),'status':_0x4886da(0x947),'topResults':_0x209f41,'numResults':_0x209f41[_0x4886da(0x4bf)]}),await _0x4bcdee(_0x495482,_0x521286,_0x5d075f,_0x209f41,_0x57c650,_0x5a8033,_0x5520c5,_0x1c7dc6);}}}async function _0x4bcdee(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x30dd9c,_0xdc324e,_0x1af739){const _0x3a4485=_0x4d79c3;for(const _0x3ed56c of _0x30dd9c[_0x3a4485(0x5b5)]||[]){const _0x235863=_0xdc324e[_0x3a4485(0x6b4)][_0x3a4485(0x483)](_0x417f99=>_0x417f99[_0x3a4485(0x833)]===_0x3ed56c[_0x3a4485(0x833)]);if(_0x235863)switch(_0x235863[_0x3a4485(0x572)]){case _0x4acbf4[_0x3a4485(0x22b)]:_0x3ed56c[_0x3a4485(0x572)]===_0x57a86a[_0x3a4485(0x29f)]&&_0x296b4c instanceof Array&&_0x38482f[_0x3a4485(0x6b8)][_0x3a4485(0x15b)](..._0x296b4c);break;case _0x4acbf4[_0x3a4485(0x4e8)]:if(_0x3ed56c[_0x3a4485(0x572)]===_0x57a86a[_0x3a4485(0x6e0)]&&'string'==typeof _0x296b4c){if(!_0xdc324e['modelId'])throw new Error(_0x3a4485(0x453));const _0xbbcbeb={'type':_0x4acbf4['Model'],'id':_0xdc324e[_0x3a4485(0x5c4)],'uid':(0x0,_0x15d077['v4'])(),'links':_0x235863['links']};await _0x36df25(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0xbbcbeb,_0xdc324e,_0x1af739);}break;case _0x4acbf4[_0x3a4485(0x7c3)]:_0x3ed56c[_0x3a4485(0x572)]===_0x57a86a[_0x3a4485(0x6e0)]&&_0x3a4485(0x2ae)==typeof _0x296b4c&&await _0x2e9abc(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739),_0x3ed56c['type']===_0x57a86a[_0x3a4485(0x29f)]&&_0x296b4c instanceof Array&&await _0x2e9abc(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739);break;case _0x4acbf4[_0x3a4485(0x7e0)]:_0x3ed56c['type']===_0x57a86a['Text']&&'string'==typeof _0x296b4c&&await _0x799c0c(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739),_0x3ed56c[_0x3a4485(0x572)]===_0x57a86a[_0x3a4485(0x29f)]&&_0x296b4c instanceof Array&&await _0x799c0c(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739),_0x3ed56c[_0x3a4485(0x572)]===_0x57a86a['Entity']&&_0x296b4c instanceof Set&&await _0x799c0c(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739);break;case _0x4acbf4[_0x3a4485(0x18f)]:_0x3ed56c['type']===_0x57a86a[_0x3a4485(0x6e0)]&&_0x3a4485(0x2ae)==typeof _0x296b4c&&await _0x36df25(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739),_0x3ed56c[_0x3a4485(0x572)]===_0x57a86a['Search']&&_0x296b4c instanceof Array&&await _0x36df25(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739);break;case _0x4acbf4[_0x3a4485(0x91f)]:_0x3ed56c[_0x3a4485(0x572)]===_0x57a86a[_0x3a4485(0x6e0)]&&_0x3a4485(0x2ae)==typeof _0x296b4c&&await _0x1db7e1(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739),_0x3ed56c['type']===_0x57a86a['Search']&&_0x296b4c instanceof Array&&await _0x1db7e1(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739);break;case _0x4acbf4[_0x3a4485(0xa62)]:_0x3ed56c['type']===_0x57a86a[_0x3a4485(0x6e0)]&&_0x3a4485(0x2ae)==typeof _0x296b4c&&await _0x29dba1(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739),_0x3ed56c[_0x3a4485(0x572)]===_0x57a86a[_0x3a4485(0x551)]&&_0x296b4c instanceof Array&&await _0x29dba1(_0x499cd9,_0x2659b6,_0x4edb5d,_0x296b4c,_0x38482f,_0x235863,_0xdc324e,_0x1af739);}}}function _0x2ef28e(_0x24f109,_0xd3a16b){const _0x5a6042=_0x4d79c3;return _0xd3a16b['filter'](_0x819b26=>_0x819b26[_0x5a6042(0x5b5)]?.['some'](_0x39f027=>_0x39f027[_0x5a6042(0x833)]===_0x24f109[_0x5a6042(0x833)]))[_0x5a6042(0x4bf)];}async function _0x1c56ed(_0x115cd4,_0x41a7b4,_0x2cdcf9,_0x13aa77,_0x14c896,_0x15226a,_0x9b4fae){const _0x32629d=_0x4d79c3,_0xf8b491={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x30d487;await _0x4bcdee(_0x115cd4,_0x41a7b4,_0x2cdcf9,_0x13aa77,_0xf8b491,_0x14c896,structuredClone(_0x15226a),_0x9b4fae),_0xf8b491[_0x32629d(0x6b8)][_0x32629d(0x7ab)]((_0x1115d9,_0x1264bc)=>_0x1115d9+_0x1264bc[_0x32629d(0x898)][_0x32629d(0x4bf)],0x0)>_0x182e0e&&(_0x30d487=Math[_0x32629d(0xa6)](_0x182e0e/_0xf8b491['context'][_0x32629d(0x4bf)])),_0xf8b491[_0x32629d(0x39d)]='Additional\x20context:\x0a'+_0xf8b491['context'][_0x32629d(0x384)](_0x582ae5=>_0x32629d(0x664)+_0x582ae5[_0x32629d(0x1a8)]+':\x20'+_0x582ae5[_0x32629d(0x898)]['substring'](0x0,_0x30d487))[_0x32629d(0x9fc)]('\x0a');}catch(_0x4eccf2){console[_0x32629d(0x23a)](_0x32629d(0x3bb),_0x4eccf2);}return _0xf8b491;}class _0x30a269 extends _0x2250e0{[_0x4d79c3(0x64a)];[_0x4d79c3(0xfa)];['speechAIWorkerConnectors'];[_0x4d79c3(0x15f)];[_0x4d79c3(0x4e5)];[_0x4d79c3(0x452)];[_0x4d79c3(0x3ff)];[_0x4d79c3(0x395)];['aiSearchConnector'];[_0x4d79c3(0xa1a)];[_0x4d79c3(0x321)];[_0x4d79c3(0x320)];[_0x4d79c3(0x3e3)]=new Map();[_0x4d79c3(0x4ad)]=_0xc27fcc;[_0x4d79c3(0x806)];[_0x4d79c3(0x4f9)]=0x0;[_0x4d79c3(0x85a)]=0x0;[_0x4d79c3(0x5df)]=!0x1;constructor(_0x45a624,_0x372e2d,_0x50348b,_0x5f08c1,_0x366041,_0x3bdb4a,_0x3c0151,_0x4ce1c4,_0x6a2965,_0xeb7ef1,_0x7d242f,_0xf4fb9b,_0x5f5446,_0x2bb4a0,_0x405669){const _0x181c2b=_0x4d79c3;super(_0x45a624,_0x372e2d,_0x50348b),this['contentMediator']=_0x5f08c1,this[_0x181c2b(0xfa)]=_0x366041,this[_0x181c2b(0x590)]=_0x3bdb4a,this[_0x181c2b(0x15f)]=_0x3c0151,this[_0x181c2b(0x4e5)]=_0x4ce1c4,this[_0x181c2b(0x452)]=_0x6a2965,this[_0x181c2b(0x3ff)]=_0xeb7ef1,this[_0x181c2b(0x395)]=_0x7d242f,this['aiSearchConnector']=_0xf4fb9b,this[_0x181c2b(0xa1a)]=_0x5f5446,this[_0x181c2b(0x321)]=_0x2bb4a0,this[_0x181c2b(0x320)]=_0x405669;}async[_0x4d79c3(0x7b4)](){const _0x5eac9b=_0x4d79c3;for(const _0x2665ef of this['generativeAIWorkerConnectors'])await _0x2665ef['close']();this['dataStores'][_0x5eac9b(0x571)](_0x1f1681=>_0x1f1681['unsubscribe'](this[_0x5eac9b(0x9d4)])),this[_0x5eac9b(0x806)]&&(clearTimeout(this['debounceStats']),delete this[_0x5eac9b(0x806)]),super[_0x5eac9b(0x7b4)]();}async[_0x4d79c3(0x56c)](_0xe70692=!0x1){const _0x5640c3=_0x4d79c3;if(this[_0x5640c3(0x5df)])super[_0x5640c3(0x56c)]();else{_0x10d8cb[_0x5640c3(0x184)](_0x5640c3(0xa48),this['label']);try{for(const _0x22ef88 of this[_0x5640c3(0xfa)])await _0x22ef88['initialize'](this['label'],this[_0x5640c3(0x4ad)]);}catch(_0x1b3a50){return this[_0x5640c3(0x56c)](_0xe70692);}this[_0x5640c3(0x5df)]=!0x0,this[_0x5640c3(0x5f9)](),super[_0x5640c3(0x56c)](),_0x10d8cb['forceLog'](_0x5640c3(0x68e),this[_0x5640c3(0x9d4)]);}}['reset'](){const _0x5d66a4=_0x4d79c3;this['prompts']=0x0,this[_0x5d66a4(0x85a)]=0x0,this[_0x5d66a4(0x5f9)](),super[_0x5d66a4(0x31d)]();}[_0x4d79c3(0x6a6)](){const _0x4856ab=_0x4d79c3;return this[_0x4856ab(0x5f9)](),this['getCoresFromCapacityReport']();}[_0x4d79c3(0x48c)](_0x651e0f,_0x13af02,_0x29d0d9){const _0x270f6d=_0x4d79c3,{outputTokens:_0x500b23=0x0,output:_0x1df0f7=''}=_0x651e0f,_0x67a616=_0x500b23/((_0x29d0d9-_0x13af02)/0x3e8);this['prompts']+=0x1,this[_0x270f6d(0x85a)]+=_0x500b23,this[_0x270f6d(0xa05)](_0x67a616,_0x500b23),this[_0x270f6d(0x5f9)]();}[_0x4d79c3(0x469)](_0x244f78,_0x2facce){const _0x1891e7=_0x4d79c3;return _0x244f78['output']=_0x244f78[_0x1891e7(0x39d)]??'',{'type':_0x1891e7(0x5ac),'output':_0x1891e7(0x2ae)==typeof _0x244f78['output']&&'string'==typeof _0x2facce[_0x1891e7(0x39d)]?_0x244f78[_0x1891e7(0x39d)]+_0x2facce[_0x1891e7(0x39d)]:_0x2facce[_0x1891e7(0x39d)],'outputTokens':_0x2facce[_0x1891e7(0x472)]??_0x244f78['outputTokens'],'inputTokens':_0x2facce[_0x1891e7(0x546)]??_0x244f78['inputTokens']};}async[_0x4d79c3(0x1c0)](_0x4f3f4a,_0x25668c){const _0x3d1aaf=_0x4d79c3;if(_0x3d1aaf(0x5ac)===_0x25668c[_0x3d1aaf(0x572)]){const _0x188e31=await _0xa0831b[_0x3d1aaf(0x57c)](_0x25668c[_0x3d1aaf(0x5eb)],_0x25668c[_0x3d1aaf(0x48e)]),_0x2110d4=_0x188e31[_0x3d1aaf(0x5b1)][_0x3d1aaf(0x483)](_0x294c5a=>_0x294c5a[_0x3d1aaf(0x572)]===_0x3e5dd5[_0x3d1aaf(0x28c)]||_0x294c5a['type']===_0x3e5dd5[_0x3d1aaf(0x49d)]);return await _0x3cda38(_0x25668c['jobId']??_0x4f3f4a,_0x25668c,_0x2110d4,_0x188e31[_0x3d1aaf(0x5b1)],{'documentParserConnector':this[_0x3d1aaf(0x4e5)],'fileConnector':this[_0x3d1aaf(0x452)],'nlpLibraryConnector':this[_0x3d1aaf(0x3ff)],'generativeAIWorkerConnectors':this[_0x3d1aaf(0xfa)],'models':Array['from'](this[_0x3d1aaf(0x4ad)][_0x3d1aaf(0x3c7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x3d1aaf(0x395)],'aiSearchConnector':this[_0x3d1aaf(0x27c)],'queryFileConnector':this[_0x3d1aaf(0xa1a)]});}if(_0x3d1aaf(0x389)===_0x25668c[_0x3d1aaf(0x572)])return await _0x575d03(_0x25668c,{'documentParserConnector':this[_0x3d1aaf(0x4e5)],'fileConnector':this[_0x3d1aaf(0x452)],'nlpLibraryConnector':this[_0x3d1aaf(0x3ff)],'generativeAIWorkerConnectors':this[_0x3d1aaf(0xfa)],'models':Array['from'](this[_0x3d1aaf(0x4ad)][_0x3d1aaf(0x3c7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x3d1aaf(0x395)],'aiSearchConnector':this[_0x3d1aaf(0x27c)],'queryFileConnector':this[_0x3d1aaf(0xa1a)]});if(_0x3d1aaf(0x602)===_0x25668c[_0x3d1aaf(0x572)])return await _0x2899a2(_0x25668c[_0x3d1aaf(0x8e2)]??_0x4f3f4a,_0x25668c,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x3d1aaf(0x452)],'nlpLibraryConnector':this[_0x3d1aaf(0x3ff)],'generativeAIWorkerConnectors':this[_0x3d1aaf(0xfa)],'models':Array[_0x3d1aaf(0x46f)](this[_0x3d1aaf(0x4ad)][_0x3d1aaf(0x3c7)]()),'contentMediator':this[_0x3d1aaf(0x64a)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x3d1aaf(0x27c)],'queryFileConnector':this[_0x3d1aaf(0xa1a)]});if('rate'===_0x25668c['type'])return await _0x383921[_0x3d1aaf(0x71b)]({'jobType':_0x3ed2df['Rating'],'type':_0x3516a1[_0x3d1aaf(0x339)],'jobId':_0x25668c[_0x3d1aaf(0x8e2)],'threadId':_0x25668c[_0x3d1aaf(0x335)],'traceLevel':_0x3d3bca['Info'],'startTime':Date[_0x3d1aaf(0x2a6)](),'timestamp':Date[_0x3d1aaf(0x2a6)](),'status':'success','rating':_0x25668c[_0x3d1aaf(0x732)],'feedback':_0x25668c[_0x3d1aaf(0x9a)]}),{'type':'rate','status':_0xf8ccf2['GenerativeAIRatingStatus'][_0x3d1aaf(0x378)]};if(_0x3d1aaf(0x993)===_0x25668c[_0x3d1aaf(0x572)])return await _0x42c429(_0x25668c,{'documentParserConnector':this[_0x3d1aaf(0x4e5)],'fileConnector':this[_0x3d1aaf(0x452)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x3d1aaf(0xfa)],'models':Array[_0x3d1aaf(0x46f)](this[_0x3d1aaf(0x4ad)][_0x3d1aaf(0x3c7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x3d1aaf(0x395)],'aiSearchConnector':this[_0x3d1aaf(0x27c)],'queryFileConnector':this[_0x3d1aaf(0xa1a)]});if(_0x3d1aaf(0x864)===_0x25668c[_0x3d1aaf(0x572)]){const _0x1a0d71=_0xc27fcc[_0x3d1aaf(0x2d3)](_0x25668c[_0x3d1aaf(0x8bf)]);if(!_0x1a0d71)throw new Error(_0x3d1aaf(0x6c7));const _0x27113f=this[_0x3d1aaf(0x590)][_0x3d1aaf(0x483)](_0x4efdfe=>_0x4efdfe['getEngineType']()===_0x1a0d71['engineType']);if(!_0x27113f)throw new Error(_0x3d1aaf(0x76e));return{'type':_0x3d1aaf(0x864),'audio':await _0x27113f[_0x3d1aaf(0x740)](_0x25668c['model'],_0x25668c[_0x3d1aaf(0x7b9)],_0x25668c[_0x3d1aaf(0x391)],_0x25668c[_0x3d1aaf(0x8f)])};}if(_0x3d1aaf(0x18c)===_0x25668c['type']){const _0x5d4951=await _0xa0831b[_0x3d1aaf(0x57c)](_0x25668c[_0x3d1aaf(0x5eb)],_0x25668c[_0x3d1aaf(0x48e)]),_0x31d263=_0x5d4951[_0x3d1aaf(0x5b1)][_0x3d1aaf(0x483)](_0x13a99c=>_0x13a99c['type']===_0x3e5dd5[_0x3d1aaf(0x49d)]),_0x3c5f86=_0x31d263['links']?.['find'](_0x2cb991=>_0x2cb991[_0x3d1aaf(0x572)]===_0x57a86a[_0x3d1aaf(0x195)]),_0x1de59e=_0x5d4951[_0x3d1aaf(0x5b1)][_0x3d1aaf(0x483)](_0x19659a=>_0x19659a[_0x3d1aaf(0x572)]===_0x3e5dd5[_0x3d1aaf(0x6ab)]&&_0x19659a['uid']===_0x3c5f86['uid']),_0x47c35f=_0xc27fcc[_0x3d1aaf(0x2d3)](_0x1de59e[_0x3d1aaf(0x5c4)]),_0x3a86d9=_0x5d4951['blocks'][_0x3d1aaf(0x70d)](_0x2b99bd=>_0x2b99bd['links']?.[_0x3d1aaf(0x884)](_0x2fda0e=>_0x2fda0e[_0x3d1aaf(0x572)]===_0x57a86a[_0x3d1aaf(0x240)]&&_0x2fda0e[_0x3d1aaf(0x833)]===_0x1de59e[_0x3d1aaf(0x833)]))[_0x3d1aaf(0x68c)](_0xca94f8=>_0x2cb0b8(_0xca94f8,_0x5d4951[_0x3d1aaf(0x5b1)])),_0x562eaf=_0x5d4951['blocks'][_0x3d1aaf(0x483)](_0xad82aa=>_0xad82aa[_0x3d1aaf(0x572)]===_0x3e5dd5[_0x3d1aaf(0x243)]),_0x393406=_0x5d4951['blocks'][_0x3d1aaf(0x483)](_0x4a57ae=>_0x4a57ae[_0x3d1aaf(0x572)]===_0x3e5dd5[_0x3d1aaf(0x6ab)]&&_0x4a57ae[_0x3d1aaf(0x5b5)]?.[_0x3d1aaf(0x884)](_0x100ff6=>_0x100ff6[_0x3d1aaf(0x572)]===_0x57a86a[_0x3d1aaf(0x195)]&&_0x100ff6['uid']===_0x562eaf['uid'])),_0xdb455=_0x5d4951['blocks'][_0x3d1aaf(0x483)](_0x5a19cf=>_0x5a19cf[_0x3d1aaf(0x572)]===_0x3e5dd5[_0x3d1aaf(0x6ab)]&&_0x5a19cf[_0x3d1aaf(0x833)]===_0x393406['uid']),_0x52e223=_0xc27fcc[_0x3d1aaf(0x2d3)](_0xdb455[_0x3d1aaf(0x5c4)]);return{'type':_0x3d1aaf(0x18c),'apiKey':this[_0x3d1aaf(0x320)],'sessionType':_0x47c35f['taskType']===_0xf8ccf2['GenerativeAITaskType'][_0x3d1aaf(0x8dc)]?_0x3d1aaf(0x6af):'chained','firstAgent':{'modelId':_0x1de59e[_0x3d1aaf(0x5c4)],'taskType':_0x47c35f['taskType'],'instructions':_0x1de59e[_0x3d1aaf(0x8f)],'temperature':_0x1de59e[_0x3d1aaf(0x9ff)],'maxTokens':_0x1de59e[_0x3d1aaf(0x719)],'initialPrompt':_0x5d4951[_0x3d1aaf(0x5f6)],'tools':_0x3a86d9[_0x3d1aaf(0x384)](_0x4e8def=>({..._0x4e8def,'name':this[_0x3d1aaf(0x9c4)](_0x4e8def),'description':this[_0x3d1aaf(0x2db)](_0x4e8def),'parameters':this[_0x3d1aaf(0x5cb)](_0x4e8def)}))},'lastAgent':{'modelId':_0xdb455['modelId'],'taskType':_0x52e223[_0x3d1aaf(0x79a)],'instructions':_0xdb455['instructions'],'initialPrompt':_0x5d4951[_0x3d1aaf(0x5f6)]}};}if('file-delete'===_0x25668c[_0x3d1aaf(0x572)]){const {vendorId:_0x1f4a0b,collectionId:_0x301cbf,fileId:_0x1bf337}=_0x25668c,_0x47dde1=await _0xa0831b[_0x3d1aaf(0x78b)](_0x1f4a0b,_0x301cbf),_0x3b11a2=this[_0x3d1aaf(0x321)]?.[_0x3d1aaf(0x2d3)](_0x47dde1[_0x3d1aaf(0x98)]);if(!_0x3b11a2)throw new Error(_0x3d1aaf(0x1ee));const _0x596ab5=_0x5a7157(_0x1f4a0b,_0x47dde1);if(_0x47dde1[_0x3d1aaf(0x98)]===_0xf8ccf2[_0x3d1aaf(0x6c3)][_0x3d1aaf(0x1a1)])try{await _0x3b11a2[_0x3d1aaf(0x215)](_0x596ab5,_0x301cbf,'/'+_0x1f4a0b+'/'+_0x301cbf+'/'+_0x1bf337),await this[_0x3d1aaf(0x15f)]['deleteObject']('/'+_0x1f4a0b+'/'+_0x301cbf+'/'+_0x1bf337);}catch(_0x2f263e){_0x10d8cb[_0x3d1aaf(0x23a)](_0x3d1aaf(0x17d),_0x2f263e);}else try{await _0x3b11a2[_0x3d1aaf(0x215)](_0x596ab5,_0x301cbf,_0x1bf337);}catch(_0x12aa66){_0x10d8cb[_0x3d1aaf(0x23a)](_0x3d1aaf(0x17d),_0x12aa66);}return{'type':_0x3d1aaf(0xb2)};}if(_0x3d1aaf(0x7be)===_0x25668c['type']){let _0x5210e7;const _0x89fdcd=this['dataStores'][_0x3d1aaf(0x261)]();for(;!_0x5210e7;){const _0x49770a=_0x89fdcd[_0x3d1aaf(0x38d)]()[_0x3d1aaf(0x433)];if(!_0x49770a)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x5210e7=this[_0x3d1aaf(0x3e3)][_0x3d1aaf(0x2d3)](_0x49770a);try{const _0x956400=await _0x5210e7[_0x3d1aaf(0x2d3)](_0x25668c['documentPath']);return{'type':_0x3d1aaf(0x7be),'fileName':_0x956400['name'],'mimeType':_0x956400[_0x3d1aaf(0x572)],'document':await _0x956400[_0x3d1aaf(0x368)]()};}catch(_0x19d057){continue;}}throw new Error(_0x3d1aaf(0x97c));}if(_0x3d1aaf(0x18b)===_0x25668c[_0x3d1aaf(0x572)]){const {vendorId:_0x119979,collectionId:_0x31e8c5,fileName:_0x34f87c,content:_0x493aa8}=_0x25668c,_0x527af2=await _0xa0831b[_0x3d1aaf(0x78b)](_0x119979,_0x31e8c5);if(_0x527af2[_0x3d1aaf(0x98)]!==_0xf8ccf2[_0x3d1aaf(0x6c3)][_0x3d1aaf(0x1a1)]){const _0x52ac97=this[_0x3d1aaf(0x321)]?.[_0x3d1aaf(0x2d3)](_0x527af2[_0x3d1aaf(0x98)]);if(!_0x52ac97)throw new Error(_0x3d1aaf(0x1ee));const _0x494e71=_0x5a7157(_0x119979,_0x527af2);return await _0x52ac97[_0x3d1aaf(0x343)](_0x494e71,_0x31e8c5,_0x34f87c,_0x493aa8),{'type':'file-ingest'};}const _0x1983f5=_0x527af2[_0x3d1aaf(0x70)]?.[_0x3d1aaf(0x483)](_0x52508e=>_0x52508e['type']===_0x4acbf4[_0x3d1aaf(0x77c)]);if(!_0x1983f5)throw new Error(_0x3d1aaf(0x5be));const _0x55ad17=(0x0,_0x15d077['v4'])();return _0x383921[_0x3d1aaf(0x63c)](_0x119979,_0x55ad17),await _0x3fe24a(_0x25668c[_0x3d1aaf(0x5eb)],_0x55ad17,'/'+_0x119979+'/'+_0x31e8c5+'/'+_0x34f87c,_0x493aa8,_0x1983f5,_0x527af2,{'objectStoreConnector':this[_0x3d1aaf(0x15f)],'ragConnector':this[_0x3d1aaf(0x321)]?.['get'](_0xf8ccf2[_0x3d1aaf(0x6c3)][_0x3d1aaf(0x1a1)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x3d1aaf(0x452)],'nlpLibraryConnector':this[_0x3d1aaf(0x3ff)],'generativeAIWorkerConnectors':this[_0x3d1aaf(0xfa)],'models':Array[_0x3d1aaf(0x46f)](this[_0x3d1aaf(0x4ad)]['values']()),'contentMediator':this[_0x3d1aaf(0x64a)]}),_0x383921[_0x3d1aaf(0x9ad)](_0x55ad17),{'type':'file-ingest'};}if(_0x3d1aaf(0xa24)===_0x25668c[_0x3d1aaf(0x572)]){const {vendorId:_0x19cf75,collectionId:_0x171209}=_0x25668c,_0x4431a1=await _0xa0831b[_0x3d1aaf(0x78b)](_0x19cf75,_0x171209);if(_0x4431a1[_0x3d1aaf(0x98)]!==_0xf8ccf2[_0x3d1aaf(0x6c3)][_0x3d1aaf(0x1a1)]){const _0x474ffc=this[_0x3d1aaf(0x321)]?.[_0x3d1aaf(0x2d3)](_0x4431a1[_0x3d1aaf(0x98)]);if(!_0x474ffc)throw new Error(_0x3d1aaf(0x1ee));const _0x1fec49=_0x5a7157(_0x19cf75,_0x4431a1);return{'type':_0x3d1aaf(0xa24),'files':await _0x474ffc['listFiles'](_0x1fec49,_0x171209)};}try{return{'type':_0x3d1aaf(0xa24),'files':(await this[_0x3d1aaf(0x15f)][_0x3d1aaf(0x119)]('/'+_0x19cf75+'/'+_0x171209,!0x1))[_0x3d1aaf(0x384)](_0x1bcf29=>({'name':_0x1bcf29[_0x3d1aaf(0x687)],'id':_0x1bcf29['name'],'status':_0x3d1aaf(0x8cd)}))};}catch(_0x23d978){return{'type':'file-list','files':[]};}}if(_0x3d1aaf(0x82a)===_0x25668c[_0x3d1aaf(0x572)]){const {vendorId:_0xc72437,collectionId:_0xa34b21}=_0x25668c,_0x233b6e=await _0xa0831b['getDataCollection'](_0xc72437,_0xa34b21),_0xe85ca4=this[_0x3d1aaf(0x321)]?.['get'](_0x233b6e[_0x3d1aaf(0x98)]);if(!_0xe85ca4)return{'type':_0x3d1aaf(0x82a)};const _0x3119fd=_0x5a7157(_0xc72437,_0x233b6e);return await _0xe85ca4[_0x3d1aaf(0x700)](_0x3119fd,_0xa34b21),{'type':_0x3d1aaf(0x82a)};}if(_0x3d1aaf(0x540)===_0x25668c['type']){const {vendorId:_0x4884c4,collectionId:_0x2080f9}=_0x25668c,_0x5345e8=await _0xa0831b[_0x3d1aaf(0x78b)](_0x4884c4,_0x2080f9),_0x446eb4=this[_0x3d1aaf(0x321)]?.[_0x3d1aaf(0x2d3)](_0x5345e8[_0x3d1aaf(0x98)]);if(!_0x446eb4)return{'type':_0x3d1aaf(0x540)};const _0x54678d=_0x5a7157(_0x4884c4,_0x5345e8);let _0x4aaccb=!0x1;if(_0x5345e8[_0x3d1aaf(0x661)]===_0x5171d5[_0x3d1aaf(0x2d1)]&&(_0x4aaccb=!0x0),_0x5345e8[_0x3d1aaf(0x661)]===_0x5171d5[_0x3d1aaf(0x6ce)]){_0x4aaccb=!0x0;const _0x3dd48e=await _0xa0831b[_0x3d1aaf(0x7c)](_0x4884c4);for(const _0x155695 of _0x3dd48e)if(_0x155695[_0x3d1aaf(0x98)]===_0x5345e8[_0x3d1aaf(0x98)]&&_0x155695[_0x3d1aaf(0x661)]===_0x5171d5[_0x3d1aaf(0x6ce)]&&_0x155695['id']!==_0x5345e8['id']){_0x4aaccb=!0x1;break;}}try{await _0x446eb4[_0x3d1aaf(0x12b)](_0x54678d,_0x2080f9,_0x4aaccb);}catch(_0x412749){_0x10d8cb['error']('GenerativeAIWorker:\x20CollectionDelete\x20failed',_0x412749);}return{'type':_0x3d1aaf(0x540)};}if(_0x3d1aaf(0x8d3)===_0x25668c[_0x3d1aaf(0x572)]){const {query:_0x35c655,vendorId:_0x482588,collectionId:_0x48aa0d}=_0x25668c,_0x1978e2=await _0xa0831b[_0x3d1aaf(0x78b)](_0x482588,_0x48aa0d);if(_0x1978e2[_0x3d1aaf(0x98)]!==_0xf8ccf2['GenerativeAIRagType'][_0x3d1aaf(0x1a1)]){const _0x5cedab=this[_0x3d1aaf(0x321)]?.[_0x3d1aaf(0x2d3)](_0x1978e2[_0x3d1aaf(0x98)]);if(!_0x5cedab)throw new Error('No\x20RAG\x20connector\x20available');const _0x51811d=_0x5a7157(_0x482588,_0x1978e2);return{'type':_0x3d1aaf(0x8d3),'results':await _0x5cedab[_0x3d1aaf(0x406)](_0x51811d,_0x48aa0d,_0x35c655,0x1)};}const _0x546075=_0x1978e2[_0x3d1aaf(0x6b4)]?.[_0x3d1aaf(0x483)](_0x1e54af=>_0x1e54af[_0x3d1aaf(0x572)]===_0x4acbf4[_0x3d1aaf(0x28c)]);return{'type':'collection-query','results':(await _0x1c56ed(_0x25668c['vendorId'],_0x4f3f4a,'',_0x35c655,_0x546075,_0x1978e2,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x3d1aaf(0x321)]?.['get'](_0xf8ccf2[_0x3d1aaf(0x6c3)][_0x3d1aaf(0x1a1)]),'documentParserConnector':this[_0x3d1aaf(0x4e5)],'fileConnector':this[_0x3d1aaf(0x452)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x3d1aaf(0xfa)],'models':Array[_0x3d1aaf(0x46f)](this['models'][_0x3d1aaf(0x3c7)]()),'contentMediator':this[_0x3d1aaf(0x64a)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x3d1aaf(0x27c)],'queryFileConnector':this[_0x3d1aaf(0xa1a)]}))[_0x3d1aaf(0x6b8)]??[]};}throw new Error(_0x3d1aaf(0x706));}async*['internalProcessJobStream'](_0x56ff71,_0x2bffe6){const _0x3106d5=_0x4d79c3;if(_0x3106d5(0x5ac)===_0x2bffe6[_0x3106d5(0x572)]){const _0x55476b=await _0xa0831b[_0x3106d5(0x57c)](_0x2bffe6[_0x3106d5(0x5eb)],_0x2bffe6[_0x3106d5(0x48e)]),_0x1227af=_0x55476b[_0x3106d5(0x5b1)]['find'](_0x14a675=>_0x14a675[_0x3106d5(0x572)]===_0x3e5dd5[_0x3106d5(0x28c)]||_0x14a675[_0x3106d5(0x572)]===_0x3e5dd5['InputStream']);for await(const _0x4c7cf3 of _0x16bc1f(_0x2bffe6[_0x3106d5(0x8e2)]??_0x56ff71,_0x2bffe6,_0x1227af,_0x55476b[_0x3106d5(0x5b1)],{'documentParserConnector':this[_0x3106d5(0x4e5)],'fileConnector':this[_0x3106d5(0x452)],'nlpLibraryConnector':this[_0x3106d5(0x3ff)],'generativeAIWorkerConnectors':this[_0x3106d5(0xfa)],'models':Array['from'](this[_0x3106d5(0x4ad)][_0x3106d5(0x3c7)]()),'contentMediator':this[_0x3106d5(0x64a)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x3106d5(0xa1a)]}))yield _0x4c7cf3;}if('inference'===_0x2bffe6['type']){for await(const _0x3d57a0 of _0x297fd0(_0x2bffe6['jobId']??_0x56ff71,_0x2bffe6,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x3106d5(0x452)],'nlpLibraryConnector':this[_0x3106d5(0x3ff)],'generativeAIWorkerConnectors':this[_0x3106d5(0xfa)],'models':Array[_0x3106d5(0x46f)](this[_0x3106d5(0x4ad)][_0x3106d5(0x3c7)]()),'contentMediator':this[_0x3106d5(0x64a)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']}))yield _0x3d57a0;}}async[_0x4d79c3(0x9cb)](_0x559c09,_0x273feb){const _0x4188ab=_0x4d79c3;if('rate'===_0x273feb[_0x4188ab(0x572)])return _0x559c09=_0x273feb[_0x4188ab(0x8e2)],void await this['openTrace'](_0x559c09,_0x273feb['vendorId'],_0x273feb[_0x4188ab(0x48e)]);'prompt'!==_0x273feb[_0x4188ab(0x572)]&&_0x4188ab(0x602)!==_0x273feb[_0x4188ab(0x572)]||!_0x273feb[_0x4188ab(0x8e2)]||(_0x559c09=_0x273feb[_0x4188ab(0x8e2)]),await this[_0x4188ab(0x63c)](_0x559c09,_0x273feb[_0x4188ab(0x5eb)],_0x273feb[_0x4188ab(0x48e)],_0x273feb[_0x4188ab(0x335)]),await _0x383921[_0x4188ab(0x71b)]({'jobType':_0x3ed2df[_0x4188ab(0x118)],'type':_0x2532aa[_0x4188ab(0x7bd)],'traceLevel':_0x3d3bca[_0x4188ab(0xbc)],'jobId':_0x559c09,'threadId':_0x273feb[_0x4188ab(0x335)],'startTime':Date[_0x4188ab(0x2a6)](),'timestamp':Date['now'](),'status':_0x4188ab(0x947)});}async[_0x4d79c3(0x70f)](_0x3e9a42,_0x381d3f){const _0xcbe52f=_0x4d79c3;if(_0xcbe52f(0x7e)===_0x381d3f[_0xcbe52f(0x572)])return _0x3e9a42=_0x381d3f['jobId'],void await this[_0xcbe52f(0x9ad)](_0x3e9a42);'prompt'!==_0x381d3f[_0xcbe52f(0x572)]&&_0xcbe52f(0x602)!==_0x381d3f[_0xcbe52f(0x572)]||!_0x381d3f[_0xcbe52f(0x8e2)]||(_0x3e9a42=_0x381d3f['jobId']),await _0x383921[_0xcbe52f(0x71b)]({'jobType':_0x3ed2df[_0xcbe52f(0x118)],'type':_0x2532aa[_0xcbe52f(0x2a9)],'traceLevel':_0x3d3bca[_0xcbe52f(0xbc)],'jobId':_0x3e9a42,'threadId':_0x381d3f[_0xcbe52f(0x335)],'startTime':Date[_0xcbe52f(0x2a6)](),'timestamp':Date[_0xcbe52f(0x2a6)](),'status':_0xcbe52f(0x947)}),await this[_0xcbe52f(0x9ad)](_0x3e9a42,_0x381d3f[_0xcbe52f(0x335)]);}[_0x4d79c3(0x9c4)](_0x202855){const _0x218968=_0x4d79c3;switch(_0x202855['type']){case _0x3e5dd5['Agent']:case _0x3e5dd5[_0x218968(0x5d7)]:return _0x218968(0x7bc)+_0x202855[_0x218968(0x687)][_0x218968(0x388)](/[^a-zA-Z]/g,'');case _0x3e5dd5[_0x218968(0x5aa)]:return'executeWorkflow'+_0x202855[_0x218968(0x687)][_0x218968(0x388)](/[^a-zA-Z]/g,'');case _0x3e5dd5['DataCollection']:case _0x3e5dd5[_0x218968(0x603)]:return _0x218968(0x251)+_0x202855[_0x218968(0x687)]['replace'](/[^a-zA-Z]/g,'');case _0x3e5dd5['CustomSkill']:return _0x202855[_0x218968(0x687)][_0x218968(0x388)](/[^a-zA-Z]/g,'');case _0x3e5dd5['AiSearch']:return _0x218968(0x560);case _0x3e5dd5[_0x218968(0x6a7)]:return _0x218968(0x117);case _0x3e5dd5[_0x218968(0x29f)]:return _0x218968(0x1cd);case _0x3e5dd5[_0x218968(0x317)]:case _0x3e5dd5[_0x218968(0x269)]:return _0x218968(0x39f);case _0xf8ccf2[_0x218968(0x2e1)][_0x218968(0x9d5)]:return _0x218968(0xaaa)+_0x202855[_0x218968(0x687)]['replace'](/[^a-zA-Z]/g,'');case _0xf8ccf2[_0x218968(0x2e1)][_0x218968(0x637)]:return _0x218968(0xee)+_0x202855[_0x218968(0x687)][_0x218968(0x388)](/[^a-zA-Z]/g,'');case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x218968(0x19c)]:return _0x218968(0x1e7)+_0x202855['name']['replace'](/[^a-zA-Z]/g,'');default:return'';}}[_0x4d79c3(0x2db)](_0x16fb16){const _0x266056=_0x4d79c3;switch(_0x16fb16['type']){case _0x3e5dd5[_0x266056(0x6ab)]:case _0x3e5dd5[_0x266056(0x5d7)]:return _0x266056(0x39e)+_0x16fb16[_0x266056(0x471)]+_0x266056(0xa50);case _0x3e5dd5[_0x266056(0x5aa)]:return _0x266056(0x7c0)+_0x16fb16['description']+'\x20to\x20generate\x20a\x20response.';case _0x3e5dd5[_0x266056(0x853)]:case _0x3e5dd5[_0x266056(0x603)]:return _0x266056(0x5e7)+_0x16fb16[_0x266056(0x471)]+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.';case _0x3e5dd5['CustomSkill']:return _0x266056(0x7b8)+_0x16fb16[_0x266056(0x471)];case _0x3e5dd5[_0x266056(0x8d)]:return _0x266056(0x138);case _0x3e5dd5[_0x266056(0x6a7)]:return _0x266056(0x96c);case _0x3e5dd5[_0x266056(0x29f)]:return _0x266056(0x876);case _0x3e5dd5[_0x266056(0x317)]:case _0x3e5dd5['WebScraperRaw']:return _0x266056(0xa41);case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x266056(0x9d5)]:return _0x266056(0x80a);case _0xf8ccf2[_0x266056(0x2e1)][_0x266056(0x637)]:return _0x266056(0x112);case _0xf8ccf2[_0x266056(0x2e1)][_0x266056(0x19c)]:return'Submit\x20the\x20form.';default:return'';}}[_0x4d79c3(0x5cb)](_0x58053d){const _0x14fee6=_0x4d79c3;switch(_0x58053d[_0x14fee6(0x572)]){case _0x3e5dd5['Agent']:case _0x3e5dd5[_0x14fee6(0x5d7)]:case _0x3e5dd5[_0x14fee6(0x5aa)]:return[{'name':_0x14fee6(0x5ac),'type':_0x14fee6(0x2ae)}];case _0x3e5dd5[_0x14fee6(0x853)]:case _0x3e5dd5[_0x14fee6(0x603)]:return[{'name':'queryOrPrompt','type':'string'}];case _0x3e5dd5[_0x14fee6(0x597)]:return _0x58053d['parameters']['map'](_0x20cbaa=>({'name':_0x20cbaa[_0x14fee6(0x687)],'type':_0x20cbaa[_0x14fee6(0x572)]??_0x14fee6(0x2ae)}))??[];case _0x3e5dd5[_0x14fee6(0x8d)]:return[{'name':_0x14fee6(0x6f1),'type':_0x14fee6(0x2ae)}];case _0x3e5dd5['Code']:return[{'name':_0x14fee6(0x2ef),'type':'string'}];case _0x3e5dd5[_0x14fee6(0x29f)]:return[{'name':_0x14fee6(0x6f1),'type':_0x14fee6(0x2ae)}];case _0x3e5dd5['WebScraper']:case _0x3e5dd5['WebScraperRaw']:return[{'name':_0x14fee6(0x91b),'type':'string'},{'name':_0x14fee6(0x356),'type':_0x14fee6(0x15e)}];case _0xf8ccf2[_0x14fee6(0x2e1)]['FormSkillGetQuestion']:return[];case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x14fee6(0x637)]:return[{'name':'id','type':_0x14fee6(0x2ae)},{'name':_0x14fee6(0x695),'type':'string'}];case _0xf8ccf2[_0x14fee6(0x2e1)][_0x14fee6(0x19c)]:default:return[];}}[_0x4d79c3(0x80e)](){const _0x4eb7c8=_0x4d79c3;try{return this[_0x4eb7c8(0x8a1)][_0x4eb7c8(0x5f3)]()[_0x4eb7c8(0x89)][_0x4eb7c8(0x638)]*(0x1-this[_0x4eb7c8(0x8a1)]['getCapacityReport']()['gpu']['load']);}catch(_0x1ad720){return _0x10d8cb[_0x4eb7c8(0x3bc)](_0x44f26b['Jobs'],_0x4eb7c8(0x51c),_0x1ad720),0x0;}}['sendStats'](){const _0x3916d3=_0x4d79c3;this['isOpened']&&(this[_0x3916d3(0x806)]&&clearTimeout(this[_0x3916d3(0x806)]),this[_0x3916d3(0x806)]=setTimeout(async()=>{const _0x93a126=_0x3916d3;delete this[_0x93a126(0x806)];let _0x605265=0x0;for(const _0x3f6006 of this[_0x93a126(0x3e3)][_0x93a126(0x3c7)]())_0x605265+=await _0x3f6006[_0x93a126(0x327)]();this[_0x93a126(0x3fb)][_0x93a126(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x93a126(0x2ca)],'content':{'type':_0x4fa1d5[_0x93a126(0x71f)],'label':this['label'],'stats':{'timestamp':Date[_0x93a126(0x2a6)](),'storage':_0x605265,'messagesSent':this[_0x93a126(0x861)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x93a126(0xeb)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x93a126(0x4f9)],'tokens':this[_0x93a126(0x85a)]}}});},_0x5e33e5));}['logServiceEvent'](_0x34c777,_0x207660){const _0x16ef58=_0x4d79c3,_0x5d6a30=this['label'],_0x38de7e=this['getOwnerId']();_0x10d8cb[_0x16ef58(0xa05)](_0x51804b[_0x16ef58(0xa59)],{'topic':_0x5d6a30,'type':_0x16ef58(0x695),'nodeId':_0x38de7e,'tokenCount':_0x207660,'tokensPerSecond':_0x34c777});}async[_0x4d79c3(0x63c)](_0x38f1f5,_0x39998c,_0x2438df,_0xd0f543){const _0x1edd46=_0x4d79c3;try{if(!await _0x383921['openTrace'](_0x39998c,_0x38f1f5,_0x2438df,_0xd0f543))throw new Error(_0x1edd46(0x801));return _0x38f1f5;}catch(_0x1fe0c0){return console[_0x1edd46(0x23a)](_0x1edd46(0x801),_0x1fe0c0),_0x1edd46(0x538);}}async[_0x4d79c3(0x9ad)](_0x567edc,_0x3e38be){const _0x21db00=_0x4d79c3;try{await _0x383921[_0x21db00(0x9ad)](_0x567edc,_0x3e38be);}catch(_0x43a5cd){console[_0x21db00(0x23a)](_0x21db00(0xaa3),{'jobId':_0x567edc,'error':_0x43a5cd});}}}class _0x2a06a6 extends _0x4eb90d{[_0x4d79c3(0x3d8)];['clusterId'];[_0x4d79c3(0x5eb)];['db'];[_0x4d79c3(0x806)];[_0x4d79c3(0x209)]=0x0;[_0x4d79c3(0x302)]=0x0;[_0x4d79c3(0x334)]=!0x1;constructor(_0x372e8c,_0x431ad6,_0x3bf88c,_0x195ab1,_0x250123){const _0x177ca2=_0x4d79c3;if(_0x177ca2(0x2ae)!=typeof _0x431ad6)throw new _0x322bb6(_0x4b1e43[_0x177ca2(0x14e)],_0x177ca2(0x9e7));super(_0x372e8c,_0x431ad6),this[_0x177ca2(0x3d8)]=_0x372e8c,this[_0x177ca2(0x5b6)]=_0x3bf88c,this[_0x177ca2(0x5eb)]=_0x195ab1;const _0x150918='ccc'+this[_0x177ca2(0x5eb)]+_0x177ca2(0x9fd)+this['clusterId']+_0x177ca2(0x9fd)+this[_0x177ca2(0x9d4)];this['db']=new _0x250123(_0x150918),this[_0x177ca2(0x5f9)]();}[_0x4d79c3(0xa29)](){const _0x51f151=_0x4d79c3;return this[_0x51f151(0x334)];}[_0x4d79c3(0xc1)](_0x5dbbaa){const _0x4ca8e9=_0x4d79c3;this[_0x4ca8e9(0x334)]=_0x5dbbaa;}[_0x4d79c3(0x7b4)](){const _0x51a35b=_0x4d79c3;clearTimeout(this[_0x51a35b(0x806)]),delete this[_0x51a35b(0x806)],super[_0x51a35b(0x7b4)]();}['close'](){const _0x2aa962=_0x4d79c3;this[_0x2aa962(0x3fb)][_0x2aa962(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x2aa962(0x2ca)],'content':{'type':_0x4fa1d5[_0x2aa962(0x4b5)],'label':this[_0x2aa962(0x9d4)]}});}[_0x4d79c3(0x2c5)](){const _0x49dea3=_0x4d79c3;return _0xf8ccf2[_0x49dea3(0x3fc)][_0x49dea3(0x7e0)];}[_0x4d79c3(0x31d)](){const _0x34faf9=_0x4d79c3;this[_0x34faf9(0x5f9)]();}[_0x4d79c3(0x13e)](_0x2be9ef,_0x44c41b,_0x26c2af,_0x32886e){const _0xc80307=_0x4d79c3;this['db']['addNode'](_0x2be9ef,_0x44c41b,_0x26c2af,_0x32886e),this[_0xc80307(0x209)]+=0x1,this[_0xc80307(0x5f9)]();}[_0x4d79c3(0x71c)](_0x4f1782,_0x3cc097){const _0x55baf1=_0x4d79c3;this['db'][_0x55baf1(0x71c)](_0x4f1782,_0x3cc097),this['writes']+=0x1,this[_0x55baf1(0x5f9)]();}[_0x4d79c3(0x213)](_0xa24fc6,_0x2d5401,_0x19c4bd){const _0x2f8e6d=_0x4d79c3,_0x4180db=this['db'][_0x2f8e6d(0x213)](_0xa24fc6,_0x2d5401,_0x19c4bd);return this[_0x2f8e6d(0x302)]+=0x1,_0x10d8cb['logServiceEvent'](_0x51804b['GraphDatabase'],{'type':_0x2f8e6d(0x36f),'label':this[_0x2f8e6d(0x9d4)],'nodeId':this[_0x2f8e6d(0x3d8)]['getId'](),'nodeType':this[_0x2f8e6d(0x3d8)]['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x2f8e6d(0x5f9)](),_0x4180db;}['remove'](_0x5dd1f1){const _0x346475=_0x4d79c3;this['db'][_0x346475(0xa49)](_0x5dd1f1),this[_0x346475(0x209)]+=0x1,this['sendStats']();}[_0x4d79c3(0x5b7)](_0x3c9191){const _0x4a21bd=_0x4d79c3;this['db'][_0x4a21bd(0x5b7)](_0x3c9191);}['loadFromDisk'](_0x6f550c){const _0x5707df=_0x4d79c3;this['db'][_0x5707df(0x9cd)](_0x6f550c);}[_0x4d79c3(0x5f9)](){const _0x4420e0=_0x4d79c3;this['debounceStats']&&clearTimeout(this[_0x4420e0(0x806)]),this[_0x4420e0(0x806)]=setTimeout(async()=>{const _0x4aa719=_0x4420e0;delete this[_0x4aa719(0x806)];const _0x50e334=this['db'][_0x4aa719(0x327)]();this[_0x4aa719(0x3fb)][_0x4aa719(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x4aa719(0x2ca)],'content':{'type':_0x4fa1d5[_0x4aa719(0x2cc)],'label':this[_0x4aa719(0x9d4)],'stats':{'timestamp':Date[_0x4aa719(0x2a6)](),'storage':_0x50e334,'messagesSent':this[_0x4aa719(0x861)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x4aa719(0xeb)],'bytesReceived':this[_0x4aa719(0x312)],'writes':this[_0x4aa719(0x209)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x10d8cb[_0x4aa719(0x55e)](_0x51804b[_0x4aa719(0x7e0)],'ccc'+this[_0x4aa719(0x5b6)]+_0x4aa719(0x9fd)+this[_0x4aa719(0x9d4)],_0x50e334);},_0x5e33e5);}}class _0x1e5ff5 extends _0x551462{['mediaStream'];constructor(_0x4e5b6e,_0x3a82fb,_0xe6ac27){const _0x2f4e37=_0x4d79c3;super(_0x4e5b6e,_0x3a82fb),this[_0x2f4e37(0x44e)]=_0xe6ac27;}[_0x4d79c3(0x2c5)](){return _0xf8ccf2['ContentType']['Media'];}['getMediaStream'](){return this['mediaStream'];}['getInternalStreamId'](){const _0xf672a4=_0x4d79c3;return this[_0xf672a4(0x44e)]['id'];}}class _0x1e7e8d extends _0x1e5ff5{[_0x4d79c3(0x1bc)];['params'];['topic'];[_0x4d79c3(0x394)]=_0x54b3ea();constructor(_0x7bb0fd,_0x2d1414,_0x5e1998,_0x28092e,_0x4d39ca){const _0x1553d4=_0x4d79c3;super(_0x7bb0fd,_0x2d1414,_0x5e1998),this[_0x1553d4(0x1bc)]=_0x28092e,this[_0x1553d4(0x521)]=_0x4d39ca;}[_0x4d79c3(0x7b4)](){const _0x8a1d3d=_0x4d79c3;this[_0x8a1d3d(0x518)](_0x8a1d3d(0x2f3)),this['removeTrack'](_0x8a1d3d(0x60c)),super[_0x8a1d3d(0x7b4)]();}['addTrack'](_0x2653a1){const _0x2b8334=_0x4d79c3;if(!this[_0x2b8334(0x8aa)])throw new _0x25257a(_0x25257a[_0x2b8334(0x6cc)][_0x2b8334(0x9c0)],{'label':this['label'],'ownerId':this['owner'][_0x2b8334(0x970)](),'remoteId':this[_0x2b8334(0x1bc)]});this[_0x2b8334(0x8aa)][_0x2b8334(0x758)]({'sourceId':this[_0x2b8334(0x879)][_0x2b8334(0x970)](),'content':{'action':_0x5d8fad[_0x2b8334(0x983)],'track':_0x2653a1,'stream':this[_0x2b8334(0x44e)],'priority':_0xf8ccf2[_0x2b8334(0x208)][_0x2b8334(0x633)],'params':this[_0x2b8334(0xa75)](_0x2653a1[_0x2b8334(0x8c4)],this['params'])}});}[_0x4d79c3(0x518)](_0x2f53ce){const _0x3fe538=_0x4d79c3,_0x4eb337=this[_0x3fe538(0x855)](_0x2f53ce);if(_0x4eb337){if(!this[_0x3fe538(0x8aa)])return null;this[_0x3fe538(0x8aa)][_0x3fe538(0x758)]({'sourceId':this[_0x3fe538(0x879)][_0x3fe538(0x970)](),'content':{'action':_0x5d8fad[_0x3fe538(0x868)],'track':_0x4eb337,'stream':this[_0x3fe538(0x44e)]}});}return _0x4eb337;}['setPriority'](_0x52e3de){const _0x27259c=_0x4d79c3;if(!this[_0x27259c(0x8aa)])throw new _0x25257a(_0x25257a[_0x27259c(0x6cc)][_0x27259c(0x9c0)],{'label':this['label'],'ownerId':this[_0x27259c(0x879)][_0x27259c(0x970)](),'remoteId':this[_0x27259c(0x1bc)]});this['topic'][_0x27259c(0x758)]({'sourceId':this['owner'][_0x27259c(0x970)](),'content':{'action':_0x5d8fad[_0x27259c(0x519)],'priority':_0x52e3de,'stream':this['mediaStream']}});}[_0x4d79c3(0x2a1)]({trackKinds:_0x2668ef,params:_0x2467ed},_0x4b6b1f){const _0x2ecc79=_0x4d79c3;if(!this[_0x2ecc79(0x8aa)])throw new _0x25257a(_0x25257a['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x2ecc79(0x9d4)],'ownerId':this['owner']['getId'](),'remoteId':this[_0x2ecc79(0x1bc)]});for(const _0x5b3f46 of this[_0x2ecc79(0x44e)][_0x2ecc79(0xf1)]())_0x2668ef['includes'](_0x5b3f46[_0x2ecc79(0x8c4)])&&this[_0x2ecc79(0x8aa)][_0x2ecc79(0x758)]({'sourceId':this['owner'][_0x2ecc79(0x970)](),'content':{'action':_0x5d8fad[_0x2ecc79(0x983)],'track':_0x5b3f46,'stream':this['mediaStream'],'priority':_0x4b6b1f,'params':this[_0x2ecc79(0xa75)](_0x5b3f46['kind'],_0x2467ed)}});}[_0x4d79c3(0x63e)]({params:_0x5020fd}){const _0x523f32=_0x4d79c3;if(!this['topic'])throw new _0x25257a(_0x25257a[_0x523f32(0x6cc)][_0x523f32(0x9c0)],{'label':this[_0x523f32(0x9d4)],'ownerId':this[_0x523f32(0x879)][_0x523f32(0x970)](),'remoteId':this[_0x523f32(0x1bc)]});for(const _0x16e89f of this['mediaStream'][_0x523f32(0xf1)]())this[_0x523f32(0x8aa)]['publish']({'sourceId':this[_0x523f32(0x879)]['getId'](),'content':{'action':_0x5d8fad[_0x523f32(0x519)],'stream':this[_0x523f32(0x44e)],'params':this[_0x523f32(0xa75)](_0x16e89f[_0x523f32(0x8c4)],_0x5020fd)}});}[_0x4d79c3(0x5fc)]({trackKinds:_0x157f8c}){const _0x4dc57d=_0x4d79c3;if(this['topic']){for(const _0x5cac66 of this[_0x4dc57d(0x44e)]['getTracks']())_0x157f8c[_0x4dc57d(0xcc)](_0x5cac66[_0x4dc57d(0x8c4)])&&this[_0x4dc57d(0x8aa)][_0x4dc57d(0x758)]({'sourceId':this[_0x4dc57d(0x879)][_0x4dc57d(0x970)](),'content':{'action':_0x5d8fad['Remove'],'stream':this['mediaStream'],'track':_0x5cac66}});}}[_0x4d79c3(0x4c4)](_0x1e9e7e){const _0x1df74a=_0x4d79c3;this[_0x1df74a(0x8aa)]=_0x1e9e7e;}[_0x4d79c3(0x6d0)](_0x2d8fca){const _0x337cd2=_0x4d79c3;_0x2d8fca===this[_0x337cd2(0x8aa)]&&(delete this[_0x337cd2(0x8aa)],this[_0x337cd2(0x394)][_0x337cd2(0x758)]());}['onUnregisterPublisher'](_0x25ce16){const _0x1d847d=_0x4d79c3;return this[_0x1d847d(0x394)][_0x1d847d(0x2a1)](_0x25ce16);}[_0x4d79c3(0x855)](_0x537b8d){const _0xd0123c=_0x4d79c3;return this[_0xd0123c(0x44e)][_0xd0123c(0xf1)]()[_0xd0123c(0x483)](_0xa86cda=>_0xa86cda[_0xd0123c(0x8c4)]===_0x537b8d)||null;}['getInternalTrackParams'](_0x4a65eb,_0x1fda00){const _0x3dec03=_0x4d79c3;let _0x5b5ca2;return'video'===_0x4a65eb&&_0x1fda00?.[_0x3dec03(0x60c)]&&_0x3dec03(0x6cf)!=typeof _0x1fda00['video']&&(_0x5b5ca2={'kind':_0x3dec03(0x60c),..._0x1fda00[_0x3dec03(0x60c)]},_0x5b5ca2[_0x3dec03(0x338)]=this[_0x3dec03(0x68f)]()),_0x3dec03(0x2f3)===_0x4a65eb&&_0x1fda00?.['audio']&&_0x3dec03(0x6cf)!=typeof _0x1fda00['audio']&&(_0x5b5ca2={'kind':_0x3dec03(0x2f3),..._0x1fda00['audio']}),_0x5b5ca2;}[_0x4d79c3(0x68f)](){const _0x2b016f=_0x4d79c3;let _0x4a491e={'width':0x0,'height':0x0};const _0x272bc4=this[_0x2b016f(0x44e)][_0x2b016f(0x529)]();if(_0x272bc4[_0x2b016f(0x4bf)]>0x0){const _0x3a7b70=_0x272bc4[0x0][_0x2b016f(0x3ea)]();_0x3a7b70[_0x2b016f(0xaa6)]&&_0x3a7b70[_0x2b016f(0x3f5)]&&(_0x4a491e={'width':_0x3a7b70[_0x2b016f(0xaa6)],'height':_0x3a7b70[_0x2b016f(0x3f5)]});}return _0x4a491e;}}class _0x2346db extends _0x1e5ff5{['clusterId'];[_0x4d79c3(0xa80)]=_0xf8ccf2[_0x4d79c3(0x208)][_0x4d79c3(0x633)];[_0x4d79c3(0x569)]=new Map();[_0x4d79c3(0x34d)]=new Map();constructor(_0x170467,_0x39adf8,_0x3520f7,_0x12d8cb){const _0xa4ee43=_0x4d79c3;super(_0x170467,_0x39adf8,_0x3520f7 instanceof MediaStream?_0x3520f7:_0x3520f7[_0xa4ee43(0x1d5)]?_0x3520f7[_0xa4ee43(0x1d5)]:_0x3520f7[_0xa4ee43(0x20f)]()),this[_0xa4ee43(0x5b6)]=_0x12d8cb,this[_0xa4ee43(0x44e)][_0xa4ee43(0xf1)]()[_0xa4ee43(0x571)](_0x18059d=>this[_0xa4ee43(0x830)](_0x18059d)),_0x10d8cb[_0xa4ee43(0xa05)](_0x51804b[_0xa4ee43(0x7de)],{'type':_0xa4ee43(0x758),'label':this['label'],'nodeId':this['owner'][_0xa4ee43(0x970)](),'nodeType':this[_0xa4ee43(0x879)][_0xa4ee43(0x572)],'clusterId':this[_0xa4ee43(0x5b6)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0xa4ee43(0x44e)][_0xa4ee43(0xf1)]()[_0xa4ee43(0x384)](_0x442200=>_0x442200[_0xa4ee43(0x8c4)])});}[_0x4d79c3(0x7b4)](){const _0x1236f0=_0x4d79c3;this[_0x1236f0(0x34d)][_0x1236f0(0x517)]>0x0&&(this[_0x1236f0(0x34d)][_0x1236f0(0x571)](_0x39f84b=>{const _0x3c2023=_0x1236f0;_0x39f84b[_0x3c2023(0x373)](),_0x39f84b[_0x3c2023(0x7b4)]();}),this[_0x1236f0(0x34d)]['clear']()),this[_0x1236f0(0x569)][_0x1236f0(0x571)](_0x4a50ad=>_0x4a50ad()),super[_0x1236f0(0x7b4)]();}[_0x4d79c3(0x758)](_0x1ad2f2){const _0x460bfa=_0x4d79c3;this[_0x460bfa(0x3fb)][_0x460bfa(0x758)]({'sourceId':this[_0x460bfa(0x879)][_0x460bfa(0x970)](),'destinationIds':_0x1ad2f2?[_0x1ad2f2]:void 0x0,'propagate':!0x0,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5[_0x460bfa(0x132)],'ownerId':this[_0x460bfa(0x879)][_0x460bfa(0x970)](),'label':this[_0x460bfa(0x9d4)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this[_0x460bfa(0x44e)]['getTracks']()['map'](_0x341b06=>_0x341b06['kind'])}}});}[_0x4d79c3(0x44c)](){const _0x35a857=_0x4d79c3;this['systemTopic']['publish']({'sourceId':this[_0x35a857(0x879)][_0x35a857(0x970)](),'propagate':!0x0,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5[_0x35a857(0x30e)],'ownerId':this[_0x35a857(0x879)]['getId'](),'label':this[_0x35a857(0x9d4)]}}),this[_0x35a857(0x3fb)][_0x35a857(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x35a857(0x2ca)],'content':{'type':_0x4fa1d5['CloseMediaStream'],'label':this[_0x35a857(0x9d4)]}}),_0x10d8cb['logServiceEvent'](_0x51804b[_0x35a857(0x7de)],{'type':'unpublish','label':this[_0x35a857(0x9d4)],'nodeId':this['owner'][_0x35a857(0x970)](),'nodeType':this[_0x35a857(0x879)][_0x35a857(0x572)],'clusterId':this[_0x35a857(0x5b6)],'streamId':this[_0x35a857(0x91)]()});}[_0x4d79c3(0x90c)](){const _0xbd9364=_0x4d79c3;return this[_0xbd9364(0xa80)];}[_0x4d79c3(0x10b)](_0x26a965){const _0x3e3b31=_0x4d79c3;this[_0x3e3b31(0xa80)]=_0x26a965,this['outgoingStreams'][_0x3e3b31(0x571)](_0x5316ea=>_0x5316ea[_0x3e3b31(0x10b)](_0x26a965));}['getShareableStream'](_0x5cb84f,_0x2ef301){const _0xaa974a=_0x4d79c3;if(!this[_0xaa974a(0x34d)][_0xaa974a(0x85)](_0x5cb84f)){const _0xc194c8=new _0x1e7e8d(this[_0xaa974a(0x879)],this[_0xaa974a(0x9d4)],this[_0xaa974a(0x44e)],_0x5cb84f,_0x2ef301),_0x901fa7=_0xc194c8[_0xaa974a(0x447)](()=>{const _0x433fdc=_0xaa974a;_0x901fa7(),this[_0x433fdc(0x34d)][_0x433fdc(0x2d3)](_0x5cb84f)?.['destroy'](),this['outgoingStreams'][_0x433fdc(0x86a)](_0x5cb84f);});this[_0xaa974a(0x34d)][_0xaa974a(0xb1)](_0x5cb84f,_0xc194c8),_0xc194c8[_0xaa974a(0x618)](this['systemTopic']);}return this[_0xaa974a(0x34d)][_0xaa974a(0x2d3)](_0x5cb84f);}[_0x4d79c3(0x584)](){const _0x66ece0=_0x4d79c3;return this[_0x66ece0(0x44e)]['id'];}[_0x4d79c3(0x4aa)](_0x5556c7){const _0x1a22c9=_0x4d79c3;this['systemTopic'][_0x1a22c9(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5[_0x1a22c9(0x645)],'label':this[_0x1a22c9(0x9d4)],'trackKinds':[_0x5556c7[_0x1a22c9(0x8c4)]]}});}[_0x4d79c3(0x830)](_0x5206f5){const _0x54960f=_0x4d79c3,_0x5a72f1=()=>this[_0x54960f(0x4aa)](_0x5206f5);_0x5206f5[_0x54960f(0x9f3)]('ended',_0x5a72f1),_0x5206f5[_0x54960f(0x9f3)](_0x54960f(0x97d),_0x5a72f1),this[_0x54960f(0x569)]['set'](_0x5206f5[_0x54960f(0x8c4)],()=>{const _0x5ef5d0=_0x54960f;_0x5206f5[_0x5ef5d0(0x621)]('ended',_0x5a72f1),_0x5206f5['removeEventListener'](_0x5ef5d0(0x97d),_0x5a72f1),this['trackEndedListeners'][_0x5ef5d0(0x86a)](_0x5206f5[_0x5ef5d0(0x8c4)]);});}}class _0x483e8e extends _0x2346db{[_0x4d79c3(0xa32)];[_0x4d79c3(0x9a7)]=[];[_0x4d79c3(0x80)];[_0x4d79c3(0xbf)];['audioDestination'];[_0x4d79c3(0x51a)];[_0x4d79c3(0x5c2)];['context'];[_0x4d79c3(0x417)];constructor(_0x3a2a00,_0x206442,_0x448b55,_0x921de7,_0x2792b3,_0x2d30dd){const _0x2ce6e0=_0x4d79c3;if(super(_0x3a2a00,_0x206442,_0x448b55,_0x2d30dd),this[_0x2ce6e0(0xa32)]=_0x2792b3,this[_0x2ce6e0(0x80)]=this[_0x2ce6e0(0x44e)],this['sourceVideo']=document[_0x2ce6e0(0x133)](_0x2ce6e0(0x60c)),this[_0x2ce6e0(0x51a)][_0x2ce6e0(0xa8)]=!0x0,this[_0x2ce6e0(0x51a)][_0x2ce6e0(0x3d6)]=!0x0,this[_0x2ce6e0(0x51a)][_0x2ce6e0(0x1d5)]=this[_0x2ce6e0(0x80)],this[_0x2ce6e0(0x51a)]['load'](),this[_0x2ce6e0(0x51a)][_0x2ce6e0(0x33c)]=()=>{const _0x36f5a1=_0x2ce6e0;this[_0x36f5a1(0x51a)][_0x36f5a1(0x587)]();},this['canvas']=document[_0x2ce6e0(0x133)](_0x2ce6e0(0x5c2)),this[_0x2ce6e0(0x6b8)]=this['canvas'][_0x2ce6e0(0x46e)]('2d'),this['mediaStream']=this[_0x2ce6e0(0x5c2)][_0x2ce6e0(0x20f)](_0x921de7),this[_0x2ce6e0(0x1b5)]=this[_0x2ce6e0(0xa32)][_0x2ce6e0(0x23d)](),this[_0x2ce6e0(0x80)][_0x2ce6e0(0x8cc)]()['length']>0x0){const _0xaa24f4=this[_0x2ce6e0(0x80)]['getAudioTracks']()[0x0];this[_0x2ce6e0(0xbf)]=this[_0x2ce6e0(0xa32)][_0x2ce6e0(0x96b)](new MediaStream([_0xaa24f4])),this[_0x2ce6e0(0xbf)][_0x2ce6e0(0x79d)](this[_0x2ce6e0(0x1b5)]);}const _0x25da09=this['audioDestination'][_0x2ce6e0(0x7d0)][_0x2ce6e0(0xf1)]()[0x0];this[_0x2ce6e0(0x44e)][_0x2ce6e0(0x1c5)](_0x25da09),this[_0x2ce6e0(0x417)]=setInterval(()=>{const _0x5f4913=_0x2ce6e0;this[_0x5f4913(0x5c2)][_0x5f4913(0xaa6)]=this[_0x5f4913(0x51a)][_0x5f4913(0x512)],this['canvas'][_0x5f4913(0x3f5)]=this[_0x5f4913(0x51a)]['videoHeight'],this['sourceVideo'][_0x5f4913(0x512)]?(0x0!==this[_0x5f4913(0x80)]['getVideoTracks']()[_0x5f4913(0x4bf)]&&this[_0x5f4913(0x80)][_0x5f4913(0x529)]()[0x0]['enabled']?this[_0x5f4913(0x44e)][_0x5f4913(0x529)]()[0x0]['enabled']=!0x0:this[_0x5f4913(0x44e)][_0x5f4913(0x529)]()[0x0][_0x5f4913(0x690)]=!0x1,0x0!==this[_0x5f4913(0x80)][_0x5f4913(0x8cc)]()[_0x5f4913(0x4bf)]&&this['clientStream'][_0x5f4913(0x8cc)]()[0x0][_0x5f4913(0x690)]?this[_0x5f4913(0x44e)][_0x5f4913(0x8cc)]()[0x0][_0x5f4913(0x690)]=!0x0:this[_0x5f4913(0x44e)][_0x5f4913(0x8cc)]()[0x0][_0x5f4913(0x690)]=!0x1,this[_0x5f4913(0x6b8)]['drawImage'](this[_0x5f4913(0x51a)],0x0,0x0)):this[_0x5f4913(0x6b8)][_0x5f4913(0x5a3)](0x0,0x0,this[_0x5f4913(0x5c2)][_0x5f4913(0xaa6)],this[_0x5f4913(0x5c2)][_0x5f4913(0x3f5)]);},0x3e8/_0x921de7);}[_0x4d79c3(0x7b4)](){const _0x2e58fe=_0x4d79c3;clearInterval(this['interval']),this['sourceVideo'][_0x2e58fe(0xa49)](),this[_0x2e58fe(0x5c2)][_0x2e58fe(0xa49)](),this[_0x2e58fe(0xbf)]?.['disconnect'](),this[_0x2e58fe(0x1b5)][_0x2e58fe(0x927)](),this[_0x2e58fe(0x44e)][_0x2e58fe(0xf1)]()['forEach'](_0x4370e2=>{_0x4370e2['stop'](),this['mediaStream']['removeTrack'](_0x4370e2);}),super['destroy']();}[_0x4d79c3(0x1c5)](_0x21efab){const _0x3cfc94=_0x4d79c3,_0x38e064=this['getTrack'](_0x21efab['kind']);_0x38e064&&this[_0x3cfc94(0x518)](_0x38e064),'audio'!==_0x21efab['kind']?(_0x3cfc94(0x60c)===_0x21efab[_0x3cfc94(0x8c4)]&&this['addVideoTrack'](_0x21efab),this[_0x3cfc94(0x830)](_0x21efab)):this['addAudioTrack'](_0x21efab);}['removeTrack'](_0x193638){const _0x107647=_0x4d79c3,_0xf00b70=this[_0x107647(0xa45)](_0x193638);return _0xf00b70&&(_0x107647(0x2f3)===_0xf00b70[_0x107647(0x8c4)]&&(this[_0x107647(0xbf)]?.['disconnect'](),this[_0x107647(0xbf)]=void 0x0),this['trackEndedListeners']['get'](_0xf00b70[_0x107647(0x8c4)])?.(),this[_0x107647(0x80)][_0x107647(0x518)](_0xf00b70)),_0xf00b70;}['replaceTrack'](_0x1bfad9){const _0x5a2d0e=_0x4d79c3;this[_0x5a2d0e(0x518)](_0x1bfad9[_0x5a2d0e(0x8c4)]),this[_0x5a2d0e(0x1c5)](_0x1bfad9);}[_0x4d79c3(0x3c1)](_0x4e59c8){const _0x586ce5=_0x4d79c3;this[_0x586ce5(0x9a7)]=_0x4e59c8;}['getTrack'](_0x14d8d0){const _0x162f61=_0x4d79c3;return this[_0x162f61(0x80)][_0x162f61(0xf1)]()['find'](_0x3e3a6b=>_0x3e3a6b[_0x162f61(0x8c4)]===_0x14d8d0)||null;}[_0x4d79c3(0xa45)](_0xd19a12){return'string'==typeof _0xd19a12?this['getTrack'](_0xd19a12):_0xd19a12;}[_0x4d79c3(0x72f)](_0x1a89d0){const _0x56845e=_0x4d79c3;_0x56845e(0x5de)===this[_0x56845e(0xa32)]['state']&&this[_0x56845e(0xa32)]['resume'](),this['clientStream']['addTrack'](_0x1a89d0),this['audioSource']=this['audioContext'][_0x56845e(0x96b)](this[_0x56845e(0x80)]),this[_0x56845e(0xbf)][_0x56845e(0x79d)](this[_0x56845e(0x1b5)]);}[_0x4d79c3(0x83)](_0x1da017){const _0x22b2d6=_0x4d79c3;this[_0x22b2d6(0x80)][_0x22b2d6(0x1c5)](_0x1da017),this[_0x22b2d6(0x51a)][_0x22b2d6(0x360)]();}}class _0x57ce7a extends _0x2346db{}class _0x1c6d6e extends _0x4eb90d{['localNode'];[_0x4d79c3(0x5b6)];[_0x4d79c3(0x5eb)];[_0x4d79c3(0x7f6)];[_0x4d79c3(0x550)];[_0x4d79c3(0x4db)];[_0x4d79c3(0x5ff)];[_0x4d79c3(0x5ef)];['pendingSyncTransactions']=new Map();[_0x4d79c3(0x750)]=new Map();[_0x4d79c3(0x2a3)]=new Map();[_0x4d79c3(0x761)]=new Map();[_0x4d79c3(0x809)]=new Map();[_0x4d79c3(0x97f)]=new Map();['objectStoreConnector'];['eventListener']=_0x1eb396();[_0x4d79c3(0x4cb)]=new Map();['debounceStats'];['writes']=0x0;[_0x4d79c3(0x302)]=0x0;[_0x4d79c3(0x94a)]=!0x0;[_0x4d79c3(0x960)]=!0x0;[_0x4d79c3(0xaa1)]=0x0;[_0x4d79c3(0x383)]=0x0;constructor(_0x1ebff7,_0x1f08b8,_0x4930c4,_0x59ef69,_0x381a4f,_0x5f5874,_0x4027f4,_0x3f2cf9){const _0x13f9cc=_0x4d79c3;if('string'!=typeof _0x1f08b8)throw new _0x322bb6(_0x4b1e43[_0x13f9cc(0x2a8)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x1ebff7,_0x1f08b8),this[_0x13f9cc(0x3d8)]=_0x1ebff7,this[_0x13f9cc(0x5b6)]=_0x4930c4,this['vendorId']=_0x59ef69,this['transactionService']=_0x381a4f,this[_0x13f9cc(0x550)]=_0x4027f4,this[_0x13f9cc(0x4db)]=_0x3f2cf9;const _0x245f73=_0x13f9cc(0x9fd)+this[_0x13f9cc(0x5eb)]+_0x13f9cc(0x9fd)+this[_0x13f9cc(0x5b6)]+_0x13f9cc(0x9fd)+_0x1f08b8;this[_0x13f9cc(0x15f)]=new _0x5f5874(_0x245f73),this[_0x13f9cc(0x94a)]=this[_0x13f9cc(0x4db)]?.[_0x13f9cc(0x94a)]??!0x0,this['options']?.[_0x13f9cc(0xa85)]&&(this['syncContent']=!0x1),this['sendStats']();}[_0x4d79c3(0x31d)](){this['sendStats']();}[_0x4d79c3(0x2c5)](){const _0x367d5d=_0x4d79c3;return _0xf8ccf2[_0x367d5d(0x3fc)][_0x367d5d(0x91a)];}async[_0x4d79c3(0x522)](){const _0x186082=_0x4d79c3;this[_0x186082(0x960)]=!0x0;try{const _0x210024=await this['objectStoreConnector']['get'](_0x25a63c),_0x5a4ffa=await _0x210024[_0x186082(0x7b9)]();this[_0x186082(0x5ef)]=_0x5a4ffa;}catch(_0x5d5193){}this['unsubscribeHandler']=this['onMessage'](async(_0x2adb32,_0x462796)=>{const _0x1deaa8=_0x186082;if(!(_0x462796 instanceof File))try{if(_0x462796[_0x1deaa8(0x58f)]===_0x4efccb[_0x1deaa8(0x9eb)])return void this['handleRequestPayload'](_0x462796);this['handleTransactionPayload'](_0x462796);}catch(_0x41a386){if(_0x41a386 instanceof _0x25257a)throw _0x41a386;throw new _0x25257a(_0x25257a[_0x1deaa8(0x6cc)][_0x1deaa8(0x6dd)],{'payload':_0x462796});}}),await this[_0x186082(0x300)](),this[_0x186082(0x94a)]?await this[_0x186082(0x3f8)]():this[_0x186082(0xc0)](),this['sendStats']();}[_0x4d79c3(0x7b4)](){const _0x112fbe=_0x4d79c3;this['unsubscribeHandler']?.(),this[_0x112fbe(0x4cb)][_0x112fbe(0x571)](_0x443bb4=>_0x443bb4()),this['listenerUnsubscribers'][_0x112fbe(0x2cb)](),clearTimeout(this[_0x112fbe(0x806)]),delete this[_0x112fbe(0x806)],super[_0x112fbe(0x7b4)]();}[_0x4d79c3(0x8f0)](){const _0x11ee94=_0x4d79c3;this[_0x11ee94(0x3fb)]?.[_0x11ee94(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x11ee94(0x2ca)],'content':{'type':_0x4fa1d5[_0x11ee94(0xa2b)],'label':this[_0x11ee94(0x9d4)]}});}[_0x4d79c3(0x2a1)](_0x3113de,_0x168a09){const _0x300dd4=_0x4d79c3;if(this[_0x300dd4(0x4cb)][_0x300dd4(0x85)](_0x3113de))throw new _0x322bb6(_0x4b1e43[_0x300dd4(0x3d2)],_0x300dd4(0x78e));this['listenerUnsubscribers'][_0x300dd4(0xb1)](_0x3113de,this[_0x300dd4(0x4d3)][_0x300dd4(0x2a1)](_0x168a09)),this[_0x300dd4(0x960)]||this[_0x300dd4(0x4d3)][_0x300dd4(0x758)]({'event':_0xf8ccf2[_0x300dd4(0x216)]['SyncComplete'],'payload':{'filesSynced':this[_0x300dd4(0xaa1)]}});}['unsubscribe'](_0x4a4849){const _0x5bfd04=_0x4d79c3;this[_0x5bfd04(0x4cb)][_0x5bfd04(0x2d3)](_0x4a4849)?.(),this[_0x5bfd04(0x4cb)]['delete'](_0x4a4849);}['publish'](_0x145094){const _0x1c9d17=_0x4d79c3;switch(_0x145094[_0x1c9d17(0x34b)]){case _0xf8ccf2[_0x1c9d17(0x650)][_0x1c9d17(0x3d5)]:return this[_0x1c9d17(0x908)](_0x145094['file'],_0x145094[_0x1c9d17(0x60d)],_0x145094[_0x1c9d17(0x4db)]);case _0xf8ccf2[_0x1c9d17(0x650)][_0x1c9d17(0x359)]:return this[_0x1c9d17(0x43a)](_0x145094[_0x1c9d17(0x60d)]);case _0xf8ccf2[_0x1c9d17(0x650)][_0x1c9d17(0x88d)]:return this[_0x1c9d17(0x9cc)](_0x145094['path'],_0x145094[_0x1c9d17(0x6a9)]);default:throw new _0x322bb6(_0x4b1e43[_0x1c9d17(0x1ab)],_0x1c9d17(0x6ee)+_0x145094);}}async[_0x4d79c3(0x44c)](_0x2529ff){const _0x4aad1f=_0x4d79c3;try{const _0x1f473d=(0x0,_0x15d077['v4'])(),_0x4d2bbb=this['lastTransactionId'],_0x310009={'payloadType':_0x4efccb[_0x4aad1f(0x13f)],'action':_0x242dcd[_0x4aad1f(0x44f)],'id':_0x1f473d,'parentId':_0x4d2bbb,'path':_0x2529ff};await this[_0x4aad1f(0x28a)](_0x310009);const _0x509e30=await this[_0x4aad1f(0x632)](_0x2529ff);!0x0!==this[_0x4aad1f(0x4db)]?.[_0x4aad1f(0xa85)]&&await this[_0x4aad1f(0x987)](_0x310009),_0x10d8cb[_0x4aad1f(0xa05)](_0x51804b[_0x4aad1f(0x422)],{'type':_0x4aad1f(0x44c),'label':this['label'],'nodeId':this[_0x4aad1f(0x3d8)][_0x4aad1f(0x970)](),'nodeType':this[_0x4aad1f(0x3d8)][_0x4aad1f(0x572)],'clusterId':this[_0x4aad1f(0x5b6)],'kind':_0x509e30,'path':_0x2529ff}),this[_0x4aad1f(0x209)]+=0x1,this[_0x4aad1f(0x5f9)]();}catch(_0x3c1b1a){if(_0x3c1b1a instanceof _0x25257a)throw new _0x322bb6(_0x4b1e43[_0x4aad1f(0x685)],_0x4aad1f(0x514)+_0x2529ff+_0x4aad1f(0x489));throw new _0x322bb6(_0x4b1e43[_0x4aad1f(0x5ab)],_0x4aad1f(0x991)+_0x2529ff);}}async['get'](_0x3a760a,_0x244034){const _0x2b9752=_0x4d79c3;_0x10d8cb['logServiceEvent'](_0x51804b[_0x2b9752(0x422)],{'type':'get','label':this[_0x2b9752(0x9d4)],'nodeId':this[_0x2b9752(0x3d8)]['getId'](),'nodeType':this[_0x2b9752(0x3d8)][_0x2b9752(0x572)],'clusterId':this[_0x2b9752(0x5b6)],'path':_0x3a760a}),this[_0x2b9752(0x302)]+=0x1,this[_0x2b9752(0x5f9)]();try{return await this[_0x2b9752(0x15f)][_0x2b9752(0x2d3)](_0x3a760a,_0x244034);}catch(_0x4b7eae){try{await this[_0x2b9752(0x15f)][_0x2b9752(0x2d3)](_0x3a760a+_0xaa1083);}catch(_0xa16a5f){throw new _0x322bb6(_0x4b1e43[_0x2b9752(0x5ab)],_0x2b9752(0x2d4)+_0x3a760a);}throw new _0x322bb6(_0x4b1e43[_0x2b9752(0x685)],_0x2b9752(0x1a4));}}async['list'](_0x1ed478,_0x224c0e){const _0x528ba3=_0x4d79c3,{recursive:_0x5c1b98=!0x1,includeSyncingFiles:_0x27f1de=!0x1}=_0x224c0e??{};_0x10d8cb[_0x528ba3(0xa05)](_0x51804b[_0x528ba3(0x422)],{'type':_0x528ba3(0x119),'label':this[_0x528ba3(0x9d4)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0x528ba3(0x5b6)],'path':_0x1ed478}),this['reads']+=0x1,this['sendStats']();try{const _0x2b33b1=await this[_0x528ba3(0x15f)][_0x528ba3(0x119)](_0x1ed478,_0x5c1b98);return this[_0x528ba3(0x22e)](_0x2b33b1,{'recursive':_0x5c1b98,'includeSyncingFiles':_0x27f1de});}catch(_0x3df79e){throw new _0x322bb6(_0x4b1e43[_0x528ba3(0x5ab)],'Cannot\x20list\x20directory:\x20'+_0x1ed478);}}['handleNodeJoin'](_0x23b517){const _0xd7b5d8=_0x4d79c3;this[_0xd7b5d8(0x383)]+=0x1;for(const _0x3f91ed of this[_0xd7b5d8(0x750)][_0xd7b5d8(0x3c7)]())this[_0xd7b5d8(0x987)](_0x3f91ed,[_0x23b517]);}['handleNodeLeave'](_0x189718){const _0x619c3c=_0x4d79c3;this[_0x619c3c(0x383)]-=0x1;const _0x39d9d9=this[_0x619c3c(0x2a3)]['get'](_0x189718);if(_0x39d9d9){for(const [_0x3faa7c,_0x4bfd0c]of _0x39d9d9[_0x619c3c(0x3c7)]())this[_0x619c3c(0x5b2)](_0x3faa7c,_0x4bfd0c);this['pendingFilesSyncing']['delete'](_0x189718);}}async[_0x4d79c3(0x327)](_0x497703='/'){const _0x2a7cc4=_0x4d79c3;try{return await this[_0x2a7cc4(0x15f)][_0x2a7cc4(0x4d5)](_0x497703);}catch(_0x112f31){if(_0x112f31 instanceof Error&&_0x112f31[_0x2a7cc4(0x206)][_0x2a7cc4(0xcc)](_0x2a7cc4(0x516)))return 0x0;throw new _0x322bb6(_0x4b1e43[_0x2a7cc4(0x5ab)],_0x2a7cc4(0x8d1)+_0x497703);}}[_0x4d79c3(0xc0)](){const _0x46aebd=_0x4d79c3;this[_0x46aebd(0x960)]&&(this[_0x46aebd(0x960)]=!0x1,this[_0x46aebd(0x4d3)][_0x46aebd(0x758)]({'event':_0xf8ccf2[_0x46aebd(0x216)][_0x46aebd(0x668)],'payload':{'filesSynced':this['filesSynced']}}));}async[_0x4d79c3(0x22e)](_0x365699,{includeSyncingFiles:_0x2e1d90=!0x1}){const _0x37da52=_0x4d79c3,_0x2f7507=[];for(const _0x340ebf of _0x365699)if(_0x340ebf['kind']!==_0xf8ccf2[_0x37da52(0xa3e)]['Folder']){if(_0x340ebf[_0x37da52(0x687)]!==_0x25a63c){if(_0x340ebf[_0x37da52(0x687)][_0x37da52(0x73b)](_0xaa1083)){if(!_0x2e1d90)continue;const _0x139110=_0x340ebf;if(_0x139110[_0x37da52(0x687)]=_0x139110[_0x37da52(0x687)][_0x37da52(0x388)](_0xaa1083,''),_0x139110[_0x37da52(0x1a8)]=_0x139110[_0x37da52(0x1a8)][_0x37da52(0x388)](_0xaa1083,''),await this[_0x37da52(0xfc)](_0x139110[_0x37da52(0x1a8)])){_0x365699[_0x37da52(0x483)](_0x1f8920=>_0x1f8920['pathName']===_0x139110['pathName'])[_0x37da52(0x4fd)]=_0xf8ccf2['FileStatus'][_0x37da52(0x291)];continue;}_0x139110[_0x37da52(0x4fd)]=_0xf8ccf2[_0x37da52(0x3c9)]['Pending'];}_0x2f7507[_0x37da52(0x15b)](_0x340ebf);}}else _0x340ebf[_0x37da52(0xa9a)]=await this[_0x37da52(0x22e)](_0x340ebf[_0x37da52(0xa9a)]??[],{'includeSyncingFiles':_0x2e1d90}),_0x2f7507[_0x37da52(0x15b)](_0x340ebf);return _0x2f7507;}async[_0x4d79c3(0x908)](_0xbe9ea5,_0x4f27ad,_0x11948d){const _0x26c2b9=_0x4d79c3;try{const _0x1bb1ac=(0x0,_0x15d077['v4'])(),_0x237675=await _0x5cb7ca(_0xbe9ea5),_0x4eae3c=_0x16beb4(_0x4f27ad??'/',_0xbe9ea5[_0x26c2b9(0x687)]);let _0x5d4580=!0x0;const _0xa6b4c0={'payloadType':_0x4efccb[_0x26c2b9(0x13f)],'action':_0x242dcd[_0x26c2b9(0x5cd)],'id':_0x1bb1ac,'parentId':this[_0x26c2b9(0x5ef)],'answererId':this[_0x26c2b9(0x3d8)][_0x26c2b9(0x970)](),'name':_0xbe9ea5['name'],'type':_0xbe9ea5[_0x26c2b9(0x572)],'path':_0x4f27ad??'/','skipEncryption':_0x11948d?.[_0x26c2b9(0x8f9)]??!0x1,'checksum':_0x237675};try{if(!_0x11948d?.[_0x26c2b9(0x310)])throw new Error(_0x26c2b9(0x1de));const _0x58bd05=_0x4eae3c+_0xaa1083;await this[_0x26c2b9(0x15f)][_0x26c2b9(0x2d3)](_0x58bd05),_0x5d4580=!0x1,await this[_0x26c2b9(0x15f)][_0x26c2b9(0x632)](_0x58bd05),this[_0x26c2b9(0x750)]['delete'](_0x4eae3c);}catch(_0x28e583){await this[_0x26c2b9(0x28a)](_0xa6b4c0);}if(this[_0x26c2b9(0x94a)]||this['options']?.[_0x26c2b9(0xa85)]?await this[_0x26c2b9(0xf3)](_0xbe9ea5,_0x4f27ad,_0x11948d):await this[_0x26c2b9(0x219)](_0xbe9ea5[_0x26c2b9(0x687)],_0x4f27ad??'/',{'checksum':_0x237675,'skipEncryption':_0x11948d?.[_0x26c2b9(0x8f9)]??!0x1}),this[_0x26c2b9(0x97f)][_0x26c2b9(0x85)](_0x4eae3c)){const [_0x3c1a2d,_0x4dbf15]=this[_0x26c2b9(0x97f)][_0x26c2b9(0x2d3)](_0x4eae3c);this[_0x26c2b9(0x97f)][_0x26c2b9(0xb1)](_0x4eae3c,[!0x0,_0x4dbf15]);try{await _0x4dbf15;}catch(_0x5678d9){}this[_0x26c2b9(0x97f)][_0x26c2b9(0x86a)](_0x4eae3c);}_0x5d4580&&this[_0x26c2b9(0x383)]>0x0&&!0x0!==this[_0x26c2b9(0x4db)]?.[_0x26c2b9(0xa85)]&&await this[_0x26c2b9(0xe5)](_0xbe9ea5,_0xa6b4c0),_0x10d8cb[_0x26c2b9(0xa05)](_0x51804b[_0x26c2b9(0x422)],{'type':'publish','label':this[_0x26c2b9(0x9d4)],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x26c2b9(0x572)],'clusterId':this[_0x26c2b9(0x5b6)],'kind':_0xf8ccf2[_0x26c2b9(0xa3e)][_0x26c2b9(0x3d5)],'path':_0x4f27ad,'fileName':_0xbe9ea5[_0x26c2b9(0x687)],'fileType':_0xbe9ea5[_0x26c2b9(0x572)],'size':_0xbe9ea5[_0x26c2b9(0x517)]}),this['writes']+=0x1,this['sendStats']();}catch(_0x51926b){if(_0x51926b instanceof _0x25257a)throw new _0x322bb6(_0x4b1e43[_0x26c2b9(0x685)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x322bb6(_0x4b1e43[_0x26c2b9(0x5ab)],_0x26c2b9(0x7cf)+_0x4f27ad+(_0x4f27ad?.[_0x26c2b9(0x73b)]('/')?'':'/')+_0xbe9ea5['name']);}}async[_0x4d79c3(0x43a)](_0x3b70ef){const _0x251f7b=_0x4d79c3;try{const _0x12b47d=(0x0,_0x15d077['v4'])(),_0x2d47c8=this[_0x251f7b(0x5ef)],_0x58b048={'payloadType':_0x4efccb['Transaction'],'action':_0x242dcd['FolderCreate'],'id':_0x12b47d,'parentId':_0x2d47c8,'path':_0x3b70ef};await this[_0x251f7b(0x28a)](_0x58b048),await this[_0x251f7b(0x15f)][_0x251f7b(0x6bb)](_0x3b70ef),!0x0!==this[_0x251f7b(0x4db)]?.['standalone']&&await this[_0x251f7b(0x987)](_0x58b048),_0x10d8cb['logServiceEvent'](_0x51804b[_0x251f7b(0x422)],{'type':_0x251f7b(0x758),'label':this['label'],'nodeId':this[_0x251f7b(0x3d8)][_0x251f7b(0x970)](),'nodeType':this['localNode'][_0x251f7b(0x572)],'clusterId':this['clusterId'],'kind':_0xf8ccf2[_0x251f7b(0xa3e)][_0x251f7b(0x359)],'path':_0x3b70ef}),this[_0x251f7b(0x209)]+=0x1,this[_0x251f7b(0x5f9)]();}catch(_0x313f85){if(_0x313f85 instanceof _0x25257a)throw new _0x322bb6(_0x4b1e43[_0x251f7b(0x685)],_0x251f7b(0x1a4));throw new _0x322bb6(_0x4b1e43[_0x251f7b(0x5ab)],'Cannot\x20publish\x20folder:\x20'+_0x3b70ef);}}async[_0x4d79c3(0x9cc)](_0x45c7a5,_0x548b9d){const _0x3516e1=_0x4d79c3;try{const _0x4a89ed=(0x0,_0x15d077['v4'])(),_0x321425=this[_0x3516e1(0x5ef)],_0x71bf7={'payloadType':_0x4efccb['Transaction'],'action':_0x242dcd[_0x3516e1(0x88d)],'id':_0x4a89ed,'parentId':_0x321425,'path':_0x45c7a5,'newPath':_0x548b9d};await this['publishTransaction'](_0x71bf7);const _0x36e8e0=await this[_0x3516e1(0x8f1)](_0x45c7a5,_0x548b9d);!0x0!==this[_0x3516e1(0x4db)]?.[_0x3516e1(0xa85)]&&await this[_0x3516e1(0x987)](_0x71bf7),_0x10d8cb[_0x3516e1(0xa05)](_0x51804b['ObjectStorage'],{'type':_0x3516e1(0x42e),'label':this[_0x3516e1(0x9d4)],'nodeId':this['localNode'][_0x3516e1(0x970)](),'nodeType':this[_0x3516e1(0x3d8)][_0x3516e1(0x572)],'clusterId':this[_0x3516e1(0x5b6)],'kind':_0x36e8e0,'path':_0x45c7a5,'newPath':_0x548b9d}),this[_0x3516e1(0x209)]+=0x1,this['sendStats']();}catch(_0x597821){if(_0x597821 instanceof _0x25257a)throw new _0x322bb6(_0x4b1e43[_0x3516e1(0x685)],_0x3516e1(0x1a4));throw new _0x322bb6(_0x4b1e43[_0x3516e1(0x5ab)],_0x3516e1(0x6c0)+_0x45c7a5);}}async[_0x4d79c3(0x5dd)](_0x586dc8,_0x2d0c37=!0x1){const _0x3363b7=_0x4d79c3;if(this['lastTransactionId']&&_0x586dc8[_0x3363b7(0x677)]!==this[_0x3363b7(0x5ef)]&&_0x586dc8['id']!==this['lastTransactionId']){if(!_0x586dc8[_0x3363b7(0x677)])throw new _0x25257a(_0x25257a['codes'][_0x3363b7(0x6dd)]);this[_0x3363b7(0x526)][_0x3363b7(0xb1)](_0x586dc8[_0x3363b7(0x677)],_0x586dc8);}else{try{await this[_0x3363b7(0x25d)](_0x586dc8,_0x2d0c37);}catch(_0x2a4866){}await this[_0x3363b7(0x1a2)](_0x586dc8['id']),await this[_0x3363b7(0x9c9)](_0x586dc8['id'],_0x2d0c37);}}async['processTransactionPayload'](_0x57ecc7,_0x511326=!0x1){const _0x4afb20=_0x4d79c3;switch(_0x57ecc7[_0x4afb20(0x34b)]){case _0x242dcd[_0x4afb20(0x5cd)]:await this[_0x4afb20(0x581)](_0x57ecc7);break;case _0x242dcd[_0x4afb20(0x2bc)]:await this[_0x4afb20(0x5fa)](_0x57ecc7);break;case _0x242dcd['Move']:await this[_0x4afb20(0x487)](_0x57ecc7,_0x511326);break;case _0x242dcd[_0x4afb20(0x44f)]:await this[_0x4afb20(0xa6e)](_0x57ecc7,_0x511326);break;default:throw new _0x25257a(_0x25257a[_0x4afb20(0x6cc)][_0x4afb20(0x6dd)],{'payload':_0x57ecc7});}}async[_0x4d79c3(0x9c9)](_0x18772d,_0x5c7364=!0x1){const _0x51e240=_0x4d79c3;if(this[_0x51e240(0x526)]['has'](_0x18772d)){const _0x577703=this[_0x51e240(0x526)][_0x51e240(0x2d3)](_0x18772d);this[_0x51e240(0x526)][_0x51e240(0x86a)](_0x18772d),await this[_0x51e240(0x5dd)](_0x577703,_0x5c7364);}}async[_0x4d79c3(0x922)](_0x188e12){const _0x3b78f8=_0x4d79c3;switch(_0x188e12[_0x3b78f8(0x34b)]){case _0x242dcd['RequestFile']:return this[_0x3b78f8(0x9ae)](_0x188e12);case _0x242dcd['RequestAccepted']:return this[_0x3b78f8(0x769)](_0x188e12);case _0x242dcd[_0x3b78f8(0x570)]:return this['handleFileSync'](_0x188e12);case _0x242dcd['RequestFileWrite']:return this[_0x3b78f8(0x581)](_0x188e12);default:throw new _0x25257a(_0x25257a[_0x3b78f8(0x6cc)][_0x3b78f8(0x6dd)],{'payload':_0x188e12});}}async['handleFileWrite'](_0xdd8901,_0x400a05=0x0){const _0x3d5ca2=_0x4d79c3,_0xc59c76=_0x16beb4(_0xdd8901[_0x3d5ca2(0x60d)],_0xdd8901[_0x3d5ca2(0x687)]);if(!_0xdd8901[_0x3d5ca2(0x8da)]||void 0x0===_0xdd8901[_0x3d5ca2(0x16a)]||!_0xdd8901[_0x3d5ca2(0x535)])return this[_0x3d5ca2(0x9f8)][_0x3d5ca2(0x86a)](_0xc59c76),void await this[_0x3d5ca2(0x219)](_0xdd8901['name'],_0xdd8901['path'],{'checksum':_0xdd8901['checksum'],'skipEncryption':_0xdd8901['skipEncryption']});if(this[_0x3d5ca2(0x9f8)]['has'](_0xc59c76)){const _0x53754d=this['fileChunks']['get'](_0xc59c76);_0x53754d['checksum']!==_0xdd8901[_0x3d5ca2(0x173)]&&(_0x53754d[_0x3d5ca2(0x7d0)]?.['close'](),this[_0x3d5ca2(0x9f8)][_0x3d5ca2(0x86a)](_0xc59c76));}if(!this[_0x3d5ca2(0x9f8)][_0x3d5ca2(0x85)](_0xc59c76)){try{await this['objectStoreConnector']['deleteObject'](_0xc59c76);}catch(_0x3d373c){}try{const _0x196ffc=this[_0x3d5ca2(0x94a)]?await this[_0x3d5ca2(0x15f)][_0x3d5ca2(0xad)](_0xc59c76,{'skipEncryption':_0xdd8901[_0x3d5ca2(0x8f9)]}):void 0x0,_0x1816d1={'chunksReceived':_0xdd8901[_0x3d5ca2(0x653)]??0x0,'bytesReceived':0x0,'stream':_0x196ffc,'checksum':_0xdd8901['checksum']};this[_0x3d5ca2(0x9f8)][_0x3d5ca2(0xb1)](_0xc59c76,_0x1816d1),await this[_0x3d5ca2(0x219)](_0xdd8901[_0x3d5ca2(0x687)],_0xdd8901[_0x3d5ca2(0x60d)],{'checksum':_0xdd8901[_0x3d5ca2(0x173)],'skipEncryption':_0xdd8901[_0x3d5ca2(0x8f9)]});}catch(_0x5191a7){}}const _0x5be8a5=this[_0x3d5ca2(0x9f8)][_0x3d5ca2(0x2d3)](_0xc59c76);if(_0xdd8901[_0x3d5ca2(0x173)]!==_0x5be8a5[_0x3d5ca2(0x173)])return;if(this[_0x3d5ca2(0x5e6)](_0xdd8901,_0xc59c76),this[_0x3d5ca2(0x94a)]){if(!_0x5be8a5[_0x3d5ca2(0x7d0)])throw new _0x25257a(_0x25257a['codes'][_0x3d5ca2(0x6dd)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x2f2c5c=_0x5be8a5[_0x3d5ca2(0x2af)];if(_0xdd8901[_0x3d5ca2(0x16a)]!==_0x2f2c5c){if(_0x2f2c5c>_0xdd8901[_0x3d5ca2(0x16a)])return;const _0x113e90=0x1000;if(_0xdd8901[_0x3d5ca2(0x16a)]>_0x2f2c5c+_0x113e90)return;if(_0x5be8a5[_0x3d5ca2(0x4b7)]||(_0x5be8a5[_0x3d5ca2(0x4b7)]=[]),_0x5be8a5[_0x3d5ca2(0x4b7)]['length']>0x4000)throw this['fileChunks']['delete'](_0xc59c76),new _0x25257a(_0x25257a[_0x3d5ca2(0x6cc)][_0x3d5ca2(0x6dd)],{'message':_0x3d5ca2(0x55f)});return void _0x5be8a5[_0x3d5ca2(0x4b7)][_0x3d5ca2(0x15b)](_0xdd8901);}try{_0x5be8a5[_0x3d5ca2(0x2af)]+=0x1,_0x5be8a5[_0x3d5ca2(0x312)]+=_0xdd8901[_0x3d5ca2(0x8da)][_0x3d5ca2(0x6ff)],await _0x5be8a5[_0x3d5ca2(0x7d0)]['write'](_0xdd8901[_0x3d5ca2(0x8da)]);}catch(_0x556d2c){if(console['error']('Error\x20writing\x20chunk\x20to\x20stream',_0x556d2c),_0x400a05>0x3)throw this['fileChunks'][_0x3d5ca2(0x86a)](_0xc59c76),console[_0x3d5ca2(0x23a)](_0x3d5ca2(0x59e),_0x556d2c),new _0x25257a(_0x25257a[_0x3d5ca2(0x6cc)]['ObjectStoreInvalidSyncMessage'],{'message':_0x3d5ca2(0x59e)});return this[_0x3d5ca2(0x581)](_0xdd8901,_0x400a05+0x1);}}try{await this[_0x3d5ca2(0x24e)](_0x5be8a5,_0xdd8901[_0x3d5ca2(0x16a)]+0x1);}catch(_0x186692){throw this['fileChunks'][_0x3d5ca2(0x86a)](_0xc59c76),_0x186692;}if(this[_0x3d5ca2(0x9f8)][_0x3d5ca2(0xb1)](_0xc59c76,_0x5be8a5),_0x5be8a5[_0x3d5ca2(0x2af)]<_0xdd8901[_0x3d5ca2(0x535)])return;await this[_0x3d5ca2(0x272)](_0xc59c76),this[_0x3d5ca2(0x94a)]&&(await this['deletePendingFile'](_0xdd8901),_0x10d8cb['logServiceEvent'](_0x51804b['ObjectStorage'],{'type':'sync','label':this[_0x3d5ca2(0x9d4)],'nodeId':this[_0x3d5ca2(0x3d8)][_0x3d5ca2(0x970)](),'nodeType':this[_0x3d5ca2(0x3d8)][_0x3d5ca2(0x572)],'clusterId':this[_0x3d5ca2(0x5b6)],'kind':_0xf8ccf2[_0x3d5ca2(0xa3e)][_0x3d5ca2(0x3d5)],'path':_0xdd8901[_0x3d5ca2(0x60d)],'fileName':_0xdd8901[_0x3d5ca2(0x687)],'fileType':_0xdd8901[_0x3d5ca2(0x572)],'size':_0x5be8a5[_0x3d5ca2(0x312)]}));const _0x4db316=this[_0x3d5ca2(0x761)][_0x3d5ca2(0x2d3)](_0xdd8901[_0x3d5ca2(0x60d)])??[];for(const _0x32ffe1 of _0x4db316)await this[_0x3d5ca2(0x25d)](_0x32ffe1);this[_0x3d5ca2(0x761)][_0x3d5ca2(0x86a)](_0xdd8901[_0x3d5ca2(0x60d)]),this[_0x3d5ca2(0x4d3)][_0x3d5ca2(0x758)]({'event':_0xf8ccf2['StorageEventType'][_0x3d5ca2(0x5cd)],'payload':{'file':{'kind':_0xf8ccf2[_0x3d5ca2(0xa3e)][_0x3d5ca2(0x3d5)],'path':_0xdd8901[_0x3d5ca2(0x60d)],'type':_0xdd8901['type'],'size':_0x5be8a5['bytesReceived'],'name':_0xdd8901[_0x3d5ca2(0x687)],'pathName':_0xc59c76,'status':this[_0x3d5ca2(0x94a)]?_0xf8ccf2[_0x3d5ca2(0x3c9)][_0x3d5ca2(0x7b7)]:_0xf8ccf2[_0x3d5ca2(0x3c9)][_0x3d5ca2(0x97)]}}}),this['sendStats']();}async[_0x4d79c3(0x24e)](_0x4c18de,_0x276d54){const _0x406ef5=_0x4d79c3,_0x36ec8a=_0x4c18de[_0x406ef5(0x7d0)];let _0xb32846=0x0;for(;_0x4c18de[_0x406ef5(0x4b7)]&&_0x4c18de['bufferedChunks'][_0x406ef5(0x4bf)]>0x0;){const _0x1529b6=_0x4c18de[_0x406ef5(0x4b7)][_0x406ef5(0x483)](_0x368407=>_0x368407[_0x406ef5(0x16a)]===_0x276d54+0x1);if(!_0x1529b6)break;_0x4c18de[_0x406ef5(0x4b7)]=_0x4c18de[_0x406ef5(0x4b7)][_0x406ef5(0x70d)](_0x1340cc=>_0x1340cc[_0x406ef5(0x16a)]!==_0x276d54+0x1);try{await _0x36ec8a[_0x406ef5(0x920)](_0x1529b6['data']),_0x276d54++;}catch(_0x2a0472){if(console[_0x406ef5(0x23a)](_0x406ef5(0x873),_0x2a0472),_0xb32846>0x3)throw console[_0x406ef5(0x23a)](_0x406ef5(0x38c),_0x2a0472),new _0x25257a(_0x25257a[_0x406ef5(0x6cc)][_0x406ef5(0x6dd)],{'message':_0x406ef5(0x38c)});_0xb32846++;continue;}_0x4c18de[_0x406ef5(0x2af)]+=0x1,_0x4c18de[_0x406ef5(0x312)]+=_0x1529b6[_0x406ef5(0x8da)][_0x406ef5(0x6ff)];}}async[_0x4d79c3(0x5fa)](_0x5a5b90){const _0x544f0f=_0x4d79c3;await this['objectStoreConnector']['createFolder'](_0x5a5b90['path']);const [_0x13e38e,_0x404cf3]=_0x561b84(_0x5a5b90[_0x544f0f(0x60d)]);this[_0x544f0f(0x4d3)][_0x544f0f(0x758)]({'event':_0xf8ccf2[_0x544f0f(0x216)]['FolderCreate'],'payload':{'folder':{'kind':_0xf8ccf2['ObjectKind'][_0x544f0f(0x359)],'name':_0x404cf3,'path':_0x13e38e,'pathName':_0x5a5b90[_0x544f0f(0x60d)]}}});}async[_0x4d79c3(0xa6e)](_0x18101a,_0xb72f13=!0x1){const _0x5648e8=_0x4d79c3;if(!_0xb72f13&&!this[_0x5648e8(0x8e0)](_0x18101a))return;const _0x22ec23=await this['deleteObject'](_0x18101a['path']),[_0x4464cd,_0x14dfcd]=_0x561b84(_0x18101a[_0x5648e8(0x60d)]);this[_0x5648e8(0x4d3)][_0x5648e8(0x758)]({'event':_0x22ec23===_0xf8ccf2[_0x5648e8(0xa3e)][_0x5648e8(0x359)]?_0xf8ccf2[_0x5648e8(0x216)][_0x5648e8(0x496)]:_0xf8ccf2[_0x5648e8(0x216)]['FileDelete'],'payload':{'name':_0x14dfcd,'path':_0x4464cd,'pathName':_0x18101a['path']}}),this[_0x5648e8(0x5f9)]();}async['handleObjectMove'](_0x58eee3,_0x5b3c8d=!0x1){const _0x417ca7=_0x4d79c3;if(!_0x5b3c8d&&!this[_0x417ca7(0x8e0)](_0x58eee3))return this[_0x417ca7(0x809)][_0x417ca7(0xb1)](_0x58eee3['newPath'],this[_0x417ca7(0x809)]['get'](_0x58eee3[_0x417ca7(0x60d)])??_0x58eee3[_0x417ca7(0x60d)]),void this[_0x417ca7(0x809)][_0x417ca7(0x86a)](_0x58eee3[_0x417ca7(0x60d)]);this[_0x417ca7(0x809)][_0x417ca7(0x86a)](_0x58eee3[_0x417ca7(0x60d)]);const _0x5d9e5e=await this[_0x417ca7(0x15f)]['moveObject'](_0x58eee3[_0x417ca7(0x60d)],_0x58eee3[_0x417ca7(0x6a9)]),[_0x58751d,_0x4d815a]=_0x561b84(_0x58eee3['path']),[_0x3a906b,_0x153b09]=_0x561b84(_0x58eee3[_0x417ca7(0x6a9)]);this[_0x417ca7(0x4d3)][_0x417ca7(0x758)]({'event':_0x5d9e5e===_0xf8ccf2[_0x417ca7(0xa3e)]['Folder']?_0xf8ccf2[_0x417ca7(0x216)][_0x417ca7(0x41f)]:_0xf8ccf2[_0x417ca7(0x216)][_0x417ca7(0x26b)],'payload':{'name':_0x153b09,'path':_0x3a906b,'pathName':_0x58eee3[_0x417ca7(0x6a9)],'oldName':_0x4d815a,'oldPath':_0x58751d,'oldPathName':_0x58eee3[_0x417ca7(0x60d)]}}),this[_0x417ca7(0x5f9)]();}[_0x4d79c3(0x8e0)](_0x51a6ca){const _0x30b149=_0x4d79c3,_0x1176f5=this[_0x30b149(0x809)][_0x30b149(0x2d3)](_0x51a6ca[_0x30b149(0x60d)])??_0x51a6ca[_0x30b149(0x60d)];let _0x4baf1a=!0x1;for(const _0x5d6e2b of this['fileChunks'][_0x30b149(0x261)]())if(_0x5d6e2b[_0x30b149(0x8d2)](_0x1176f5)){const _0x3b598d=this[_0x30b149(0x761)][_0x30b149(0x2d3)](_0x5d6e2b)??[];_0x3b598d[_0x30b149(0x15b)](_0x51a6ca),this['pendingFilesTransactions']['set'](_0x5d6e2b,_0x3b598d),_0x4baf1a=!0x0;}return!_0x4baf1a;}async[_0x4d79c3(0x28a)](_0x5122ff){const _0x2c795d=_0x4d79c3;if(!this[_0x2c795d(0x4db)]?.[_0x2c795d(0xa85)]){if(!_0x5122ff['id'])throw new _0x25257a(_0x25257a['codes'][_0x2c795d(0x6dd)],{'message':'Missing\x20transaction\x20id'});if(_0x5122ff[_0x2c795d(0x677)]!==this['lastTransactionId'])throw new _0x25257a(_0x25257a[_0x2c795d(0x6cc)]['ObjectStoreNotSynced']);await this[_0x2c795d(0x7f6)]['writeTransaction'](_0x5122ff,this[_0x2c795d(0x9d4)]),await this[_0x2c795d(0x1a2)](_0x5122ff['id']);}}async[_0x4d79c3(0x1a2)](_0xa4ceb1){const _0x3ec7a9=_0x4d79c3;this[_0x3ec7a9(0x5ef)]=_0xa4ceb1;const _0x3faa60=new File([new Blob([this[_0x3ec7a9(0x5ef)]])],_0x25a63c,{'type':_0x3ec7a9(0xa79)});await this['writeFile'](_0x3faa60,'/');}async[_0x4d79c3(0x9ae)](_0x350a33){const _0x34fbb8=_0x4d79c3;try{const _0x480192=await this[_0x34fbb8(0x2d3)](_0x350a33[_0x34fbb8(0x60d)]+'/'+_0x350a33[_0x34fbb8(0x687)],{'skipEncryption':_0x350a33[_0x34fbb8(0x8f9)]}),_0x2c85bb=await _0x5cb7ca(_0x480192);if(''!==_0x350a33[_0x34fbb8(0x173)]&&_0x2c85bb!==_0x350a33[_0x34fbb8(0x173)])return;_0x350a33[_0x34fbb8(0x461)]=this[_0x34fbb8(0x3d8)]['getId'](),_0x350a33[_0x34fbb8(0x34b)]=_0x242dcd['RequestAccepted'],await this[_0x34fbb8(0x987)](_0x350a33,[_0x350a33['sourceId']]);}catch(_0x161449){}}async['handleFileRequestAnswer'](_0x4d71b3){const _0x55759e=_0x4d79c3,_0xa27125=_0x16beb4(_0x4d71b3[_0x55759e(0x60d)],_0x4d71b3[_0x55759e(0x687)]);if(!this[_0x55759e(0x750)]['has'](_0xa27125))return;const _0x46fd6b=this[_0x55759e(0x750)][_0x55759e(0x2d3)](_0xa27125);_0x46fd6b['action']=_0x242dcd['RequestFileSync'];const _0x44cd64=_0x4d71b3[_0x55759e(0x461)];if(!_0x44cd64)throw new _0x25257a(_0x25257a['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x55759e(0x404)});if(this[_0x55759e(0x750)][_0x55759e(0x86a)](_0xa27125),this[_0x55759e(0x2a3)][_0x55759e(0x85)](_0x44cd64)||this[_0x55759e(0x2a3)]['set'](_0x44cd64,new Map()),this['pendingFilesSyncing']['get'](_0x44cd64)[_0x55759e(0xb1)](_0xa27125,[_0x46fd6b,this[_0x55759e(0x527)](_0x44cd64,_0xa27125)]),_0x46fd6b[_0x55759e(0x461)]=_0x44cd64,_0x46fd6b[_0x55759e(0x653)]=this[_0x55759e(0x9f8)][_0x55759e(0x2d3)](_0xa27125)?.['chunksReceived']??0x0,0x0===_0x46fd6b[_0x55759e(0x653)])try{const [_0xed3f1,_0x49ebc1]=await this[_0x55759e(0x897)](_0x4d71b3['name'],_0x4d71b3[_0x55759e(0x60d)],_0x4d71b3[_0x55759e(0x173)]);_0xed3f1&&(_0x46fd6b[_0x55759e(0x653)]=_0x49ebc1);}catch(_0x40e989){}this[_0x55759e(0x987)](_0x46fd6b,[_0x44cd64]);}async['handleFileSync'](_0x1e1557){const _0x21132f=_0x4d79c3,_0x461dca=_0x16beb4(_0x1e1557[_0x21132f(0x60d)],_0x1e1557[_0x21132f(0x687)]),_0x5df743=await this[_0x21132f(0x2d3)](_0x461dca,{'skipEncryption':_0x1e1557[_0x21132f(0x8f9)]}),_0x2532ff={..._0x1e1557,'answererId':this[_0x21132f(0x3d8)][_0x21132f(0x970)](),'action':_0x242dcd[_0x21132f(0x63f)],'startIndex':_0x1e1557[_0x21132f(0x653)]??0x0};await this[_0x21132f(0xe5)](_0x5df743,_0x2532ff,[_0x1e1557['sourceId']]);}async['sendFile'](_0x564b59,_0x25d63e,_0x2f8db2){let _0x5eb854,_0x25a2b2;const _0x2e468f=new Promise(async(_0x9d3dbf,_0xa9eb90)=>{_0x5eb854=_0x9d3dbf,_0x25a2b2=_0xa9eb90;});return((async()=>{const _0x4b0c2b=a0_0x50a3,_0x1c68ef=Math['ceil'](_0x564b59[_0x4b0c2b(0x517)]/_0x4d74ee);let _0x226562=_0x25d63e[_0x4b0c2b(0x653)]??0x0;const _0x489d32=_0x16beb4(_0x25d63e[_0x4b0c2b(0x60d)],_0x25d63e[_0x4b0c2b(0x687)]);this['fileSendingMap'][_0x4b0c2b(0xb1)](_0x489d32,[!0x1,_0x2e468f]);for await(const _0x175325 of async function*(_0x5139dd,_0x2fadea=0x0,_0xfca3c6){for await(const _0x8db3ac of _0x533ebf(_0x5139dd,_0x2fadea,_0xfca3c6))yield _0x8db3ac;}(_0x564b59,_0x226562,this[_0x4b0c2b(0x550)])){const [_0x3d3481]=this[_0x4b0c2b(0x97f)]['get'](_0x489d32)??[];if(_0x3d3481)return this[_0x4b0c2b(0x97f)][_0x4b0c2b(0x86a)](_0x489d32),void _0x25a2b2(new Error('File\x20sending\x20interrupted'));if(this[_0x4b0c2b(0x761)][_0x4b0c2b(0x85)](_0x489d32)){const _0x55853c=this['pendingFilesTransactions'][_0x4b0c2b(0x2d3)](_0x489d32);for(const _0x1445e1 of _0x55853c)if(_0x1445e1[_0x4b0c2b(0x34b)]===_0x242dcd[_0x4b0c2b(0x5cd)]||_0x1445e1[_0x4b0c2b(0x34b)]===_0x242dcd[_0x4b0c2b(0x44f)])return;}const _0x32eda2={..._0x25d63e,'type':_0x564b59['type'],'data':_0x175325,'index':_0x226562,'total':_0x1c68ef};this[_0x4b0c2b(0x987)](_0x32eda2,_0x2f8db2),_0x226562++;}const _0x105755=setInterval(async()=>{const _0x3a9121=_0x4b0c2b;await this[_0x3a9121(0x550)]()>0x0||(clearInterval(_0x105755),_0x5eb854());});this['fileSendingMap']['delete'](_0x489d32);})()),_0x2e468f;}async[_0x4d79c3(0x96)](_0x3ef21a){const _0x3d89ac=_0x4d79c3;try{const _0xeb577b=_0x16beb4(_0x3ef21a[_0x3d89ac(0x60d)],_0x3ef21a[_0x3d89ac(0x687)]),_0x2ea1cc=_0xeb577b+_0xaa1083;await this['deleteObject'](_0x2ea1cc);const [,_0x544c10]=this[_0x3d89ac(0x2a3)]['get'](_0x3ef21a[_0x3d89ac(0x461)])?.[_0x3d89ac(0x2d3)](_0xeb577b)??[];_0x544c10&&(clearTimeout(_0x544c10),this[_0x3d89ac(0x2a3)][_0x3d89ac(0x2d3)](_0x3ef21a['answererId'])[_0x3d89ac(0x86a)](_0xeb577b));}catch(_0x40c3a5){}0x0===this[_0x3d89ac(0x2a3)]['get'](_0x3ef21a['answererId'])?.[_0x3d89ac(0x517)]&&this[_0x3d89ac(0x2a3)][_0x3d89ac(0x86a)](_0x3ef21a['answererId']),0x0===this[_0x3d89ac(0x2a3)][_0x3d89ac(0x517)]&&0x0===this[_0x3d89ac(0x750)][_0x3d89ac(0x517)]&&this[_0x3d89ac(0xc0)]();}async[_0x4d79c3(0x300)](){const _0x3c2eed=_0x4d79c3;try{const _0x2b8b1f=await this[_0x3c2eed(0x7f6)][_0x3c2eed(0x10d)](this[_0x3c2eed(0x9d4)],this[_0x3c2eed(0x5ef)]);for(const _0x2fdaf8 of _0x2b8b1f)await this[_0x3c2eed(0x5dd)](_0x2fdaf8,!0x0);}catch(_0x1456b3){if(_0x1456b3 instanceof _0x25257a&&_0x1456b3[_0x3c2eed(0x2ef)]===_0x25257a[_0x3c2eed(0x6cc)]['ObjectStoreInvalidState']){await this['objectStoreConnector']['deleteObject'](_0x25a63c),delete this[_0x3c2eed(0x5ef)];try{const _0x4e1157=await this[_0x3c2eed(0x15f)]['list']('/',!0x1);for(const _0x1e33cb of _0x4e1157)await this[_0x3c2eed(0x15f)]['deleteObject'](_0x1e33cb[_0x3c2eed(0x1a8)]);}catch(_0x26b84e){}return await this[_0x3c2eed(0x300)]();}throw _0x1456b3;}}async[_0x4d79c3(0x3f8)](){const _0x5f22df=_0x4d79c3,_0x477b30=await this[_0x5f22df(0x119)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x534cf1=async _0x5258c2=>{const _0x202b55=_0x5f22df;for(const _0xcda0b7 of _0x5258c2){if(_0xcda0b7[_0x202b55(0x8c4)]===_0xf8ccf2[_0x202b55(0xa3e)][_0x202b55(0x359)]){_0xcda0b7['entries']&&_0xcda0b7[_0x202b55(0xa9a)][_0x202b55(0x4bf)]>0x0&&await _0x534cf1(_0xcda0b7[_0x202b55(0xa9a)]);continue;}if(_0xcda0b7[_0x202b55(0x4fd)]!==_0xf8ccf2[_0x202b55(0x3c9)]['Pending'])continue;const _0x4f00c9=await this[_0x202b55(0x2d3)](_0xcda0b7['pathName']+_0xaa1083),_0x5b9cc8=JSON[_0x202b55(0x823)](await _0x4f00c9['text']()),_0x1fbd65=_0xcda0b7[_0x202b55(0x687)][_0x202b55(0x388)](_0xaa1083,''),_0x4db4dc={'payloadType':_0x4efccb[_0x202b55(0x9eb)],'action':_0x242dcd[_0x202b55(0x992)],'sourceId':this['localNode']['getId'](),'type':'','path':_0xcda0b7[_0x202b55(0x60d)],'name':_0x1fbd65,'checksum':_0x5b9cc8[_0x202b55(0x173)],'skipEncryption':_0x5b9cc8['skipEncryption']},_0x17c786=_0x16beb4(_0xcda0b7['path'],_0x1fbd65);this['objectRequests'][_0x202b55(0xb1)](_0x17c786,_0x4db4dc);}};await _0x534cf1(_0x477b30),0x0===this[_0x5f22df(0x750)][_0x5f22df(0x517)]&&0x0===this[_0x5f22df(0x2a3)]['size']&&this[_0x5f22df(0xc0)]();}async[_0x4d79c3(0x219)](_0x30fa4f,_0x4f47bf,_0x198716){const _0x1d9a13=_0x4d79c3,_0x4e98d4=new File([new Blob([JSON['stringify'](_0x198716)])],''+_0x30fa4f+_0xaa1083,{'type':_0x1d9a13(0xa79)});await this[_0x1d9a13(0xf3)](_0x4e98d4,_0x4f47bf);}async['checkExistingPendingFileContent'](_0x237ab6,_0x3a7311,_0x49d716){const _0x3e17f6=_0x4d79c3;try{const _0x2d3485=_0x16beb4(_0x3a7311,_0x237ab6),_0x1e9778=_0x2d3485+_0xaa1083,_0x3bd3d9=await this['objectStoreConnector'][_0x3e17f6(0x2d3)](_0x1e9778),{checksum:_0x58237b,skipEncryption:_0x1713c2}=JSON[_0x3e17f6(0x823)](await _0x3bd3d9['text']()),_0x52cc9f=(await this['objectStoreConnector'][_0x3e17f6(0x2d3)](_0x2d3485,{'skipEncryption':_0x1713c2}))[_0x3e17f6(0x517)];return _0x58237b===_0x49d716&&_0x52cc9f%_0x4d74ee==0x0?[!0x0,Math[_0x3e17f6(0x18e)](_0x52cc9f/_0x4d74ee)]:(await this['objectStoreConnector']['deleteObject'](_0x2d3485),[!0x1,0x0]);}catch(_0xce3e35){return[!0x1,0x0];}}[_0x4d79c3(0x527)](_0x3bf099,_0x1d5a2e){const _0x50f28b=_0x4d79c3,[_0x378e8e,_0x1331fa]=this[_0x50f28b(0x2a3)][_0x50f28b(0x2d3)](_0x3bf099)?.[_0x50f28b(0x2d3)](_0x1d5a2e)??[];return _0x1331fa&&clearTimeout(_0x1331fa),setTimeout(()=>{const _0x2f58f7=_0x50f28b,[_0x5e8dfd,_0x106377]=this['pendingFilesSyncing'][_0x2f58f7(0x2d3)](_0x3bf099)['get'](_0x1d5a2e);this[_0x2f58f7(0x5b2)](_0x5e8dfd,_0x106377);},0x927c0);}async[_0x4d79c3(0x5b2)](_0x28c664,_0x3c118e){const _0x5467ed=_0x4d79c3;clearTimeout(_0x3c118e),_0x28c664['action']=_0x242dcd['RequestFile'],this[_0x5467ed(0x750)]['set'](_0x16beb4(_0x28c664[_0x5467ed(0x60d)],_0x28c664[_0x5467ed(0x687)]),_0x28c664),this['send'](_0x28c664);}['setPendingFileSyncingPayload'](_0x5e4f81,_0x539ca0){const _0x39e3f0=_0x4d79c3;if(!this[_0x39e3f0(0x94a)])return;this[_0x39e3f0(0x2a3)][_0x39e3f0(0x85)](_0x5e4f81[_0x39e3f0(0x461)])||this[_0x39e3f0(0x2a3)][_0x39e3f0(0xb1)](_0x5e4f81[_0x39e3f0(0x461)],new Map());const [_0x51d50f]=this[_0x39e3f0(0x2a3)][_0x39e3f0(0x2d3)](_0x5e4f81[_0x39e3f0(0x461)])[_0x39e3f0(0x2d3)](_0x539ca0)??[{'payloadType':_0x4efccb[_0x39e3f0(0x9eb)],'action':_0x242dcd[_0x39e3f0(0x992)],'sourceId':this[_0x39e3f0(0x3d8)][_0x39e3f0(0x970)](),'type':_0x5e4f81[_0x39e3f0(0x572)],'name':_0x5e4f81[_0x39e3f0(0x687)],'path':_0x5e4f81['path'],'skipEncryption':_0x5e4f81[_0x39e3f0(0x8f9)],'checksum':_0x5e4f81[_0x39e3f0(0x173)],'answererId':_0x5e4f81[_0x39e3f0(0x461)]}];this[_0x39e3f0(0x2a3)][_0x39e3f0(0x2d3)](_0x5e4f81[_0x39e3f0(0x461)])[_0x39e3f0(0xb1)](_0x539ca0,[_0x51d50f,this['getOrResetPendingFileTimeout'](_0x5e4f81[_0x39e3f0(0x461)],_0x539ca0)]);}async[_0x4d79c3(0xf3)](_0xfefdec,_0x30e5d1,_0x2dbdf1){const _0x1bc999=_0x4d79c3;this[_0x1bc999(0x960)]&&(this['filesSynced']+=0x1),await this[_0x1bc999(0x15f)][_0x1bc999(0xf3)](_0xfefdec,_0x30e5d1,_0x2dbdf1);}async[_0x4d79c3(0x632)](_0x49b7a5){const _0x269514=_0x4d79c3;try{const _0x208494=await this[_0x269514(0x15f)][_0x269514(0x632)](_0x49b7a5);if(!_0x49b7a5[_0x269514(0x73b)](_0xaa1083))try{await this[_0x269514(0x15f)]['deleteObject'](_0x49b7a5+_0xaa1083);}catch(_0x5d0bb1){}return this['isSyncing']&&_0x208494===_0xf8ccf2[_0x269514(0xa3e)][_0x269514(0x3d5)]&&(this['filesSynced']+=0x1),_0x208494;}catch(_0x3cd331){return await this[_0x269514(0x15f)][_0x269514(0x632)](_0x49b7a5+_0xaa1083);}}async[_0x4d79c3(0x8f1)](_0x50bd72,_0x58ebb1){const _0x200fc0=_0x4d79c3;try{const _0x229fdd=await this['objectStoreConnector'][_0x200fc0(0x8f1)](_0x50bd72,_0x58ebb1);if(!_0x50bd72[_0x200fc0(0x73b)](_0xaa1083))try{await this['objectStoreConnector']['moveObject'](_0x50bd72+_0xaa1083,_0x58ebb1+_0xaa1083);}catch(_0xcc45c1){}return _0x229fdd;}catch(_0x3172d8){return await this[_0x200fc0(0x15f)][_0x200fc0(0x8f1)](_0x50bd72+_0xaa1083,_0x58ebb1+_0xaa1083);}}[_0x4d79c3(0x5f9)](){const _0x53b69f=_0x4d79c3;this['debounceStats']&&clearTimeout(this[_0x53b69f(0x806)]),this[_0x53b69f(0x806)]=setTimeout(async()=>{const _0x37d8c7=_0x53b69f;delete this[_0x37d8c7(0x806)];const _0x5d606d=await this[_0x37d8c7(0x15f)][_0x37d8c7(0x4d5)]('/');this[_0x37d8c7(0x3fb)]?.[_0x37d8c7(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5[_0x37d8c7(0x6e4)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':_0x5d606d,'messagesSent':this[_0x37d8c7(0x861)],'messagesReceived':this[_0x37d8c7(0x894)],'bytesSent':this[_0x37d8c7(0xeb)],'bytesReceived':this[_0x37d8c7(0x312)],'writes':this[_0x37d8c7(0x209)],'reads':this[_0x37d8c7(0x302)],'prompts':0x0,'tokens':0x0}}}),this[_0x37d8c7(0x94a)]&&_0x10d8cb[_0x37d8c7(0x55e)](_0x51804b[_0x37d8c7(0x422)],_0x37d8c7(0x9fd)+this[_0x37d8c7(0x5b6)]+_0x37d8c7(0x9fd)+this['label'],_0x5d606d);},_0x5e33e5);}async['syncedFileExists'](_0x4ae25e){const _0x2d0396=_0x4d79c3;try{return await this[_0x2d0396(0x2d3)](_0x4ae25e),!0x0;}catch(_0x2c178f){return!0x1;}}async['deleteFileChunks'](_0x4f09c6){const _0x56e8ce=_0x4d79c3;if(!this[_0x56e8ce(0x9f8)][_0x56e8ce(0x85)](_0x4f09c6))return;const _0xac3f23=this[_0x56e8ce(0x9f8)][_0x56e8ce(0x2d3)](_0x4f09c6);if(_0xac3f23['stream'])try{await _0xac3f23[_0x56e8ce(0x7d0)]['close']();}catch(_0x8317ca){console[_0x56e8ce(0x23a)](_0x56e8ce(0x9ee),_0x8317ca);}this['fileChunks']['delete'](_0x4f09c6);}}class _0xecd349 extends _0x4eb90d{[_0x4d79c3(0x3d8)];[_0x4d79c3(0x5b6)];[_0x4d79c3(0x5ff)]=new Map();[_0x4d79c3(0x806)];constructor(_0xed69a0,_0x9db758,_0xbe6984){const _0x7e38fe=_0x4d79c3;if(_0x7e38fe(0x2ae)!=typeof _0x9db758)throw new _0x322bb6(_0x4b1e43['PubSubTopicNameNotString'],_0x7e38fe(0x601));super(_0xed69a0,_0x9db758),this[_0x7e38fe(0x3d8)]=_0xed69a0,this[_0x7e38fe(0x5b6)]=_0xbe6984,this[_0x7e38fe(0x5f9)]();}['reset'](){const _0xbc9da4=_0x4d79c3;this[_0xbc9da4(0x5f9)]();}[_0x4d79c3(0x2c5)](){const _0x1e8db1=_0x4d79c3;return _0xf8ccf2[_0x1e8db1(0x3fc)][_0x1e8db1(0x1bd)];}['publish'](_0x286168,_0x3dcfa7){const _0x287a00=_0x4d79c3;_0x10d8cb['log'](_0x44f26b[_0x287a00(0x1bd)],_0x287a00(0x61e),this['localNode'][_0x287a00(0x970)](),_0x286168,_0x3dcfa7),_0x10d8cb[_0x287a00(0xa05)](_0x51804b[_0x287a00(0x1bd)],{'type':_0x287a00(0x758),'label':this[_0x287a00(0x9d4)],'nodeId':this[_0x287a00(0x3d8)][_0x287a00(0x970)](),'nodeType':this[_0x287a00(0x3d8)]['type'],'clusterId':this['clusterId'],'remoteIds':_0x3dcfa7??[],'contentType':_0x286168 instanceof File?_0xf8ccf2[_0x287a00(0x3fc)][_0x287a00(0x3d5)]:_0xf8ccf2['ContentType'][_0x287a00(0x500)],'size':_0x286168 instanceof File?_0x286168['size']:JSON[_0x287a00(0x8a3)](_0x286168)['length']}),this[_0x287a00(0x5f9)](),this[_0x287a00(0x987)](_0x286168,_0x3dcfa7);}[_0x4d79c3(0x2a1)](_0x12ec35,_0x40e94e){const _0x4f667e=_0x4d79c3;if(this['unsubscribeHandler'][_0x4f667e(0x85)](_0x12ec35))throw new _0x322bb6(_0x4b1e43[_0x4f667e(0x671)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this['unsubscribeHandler'][_0x4f667e(0xb1)](_0x12ec35,this[_0x4f667e(0x454)]((_0x317b4c,_0x4cd2f9)=>{const _0x26db6e=_0x4f667e;_0x26db6e(0x8da)===_0x12ec35&&_0x4cd2f9 instanceof File||!('file'!==_0x12ec35||_0x4cd2f9 instanceof File)||(_0x10d8cb[_0x26db6e(0x3bc)](_0x44f26b[_0x26db6e(0x1bd)],_0x26db6e(0x8a4),this[_0x26db6e(0x3d8)]['getId'](),_0x317b4c,_0x4cd2f9),_0x10d8cb[_0x26db6e(0xa05)](_0x51804b[_0x26db6e(0x1bd)],{'type':_0x26db6e(0x2a1),'label':this[_0x26db6e(0x9d4)],'nodeId':this[_0x26db6e(0x3d8)][_0x26db6e(0x970)](),'nodeType':this[_0x26db6e(0x3d8)][_0x26db6e(0x572)],'clusterId':this['clusterId'],'remoteId':_0x317b4c,'contentType':_0x12ec35,'size':_0x4cd2f9 instanceof File?_0x4cd2f9[_0x26db6e(0x517)]:JSON[_0x26db6e(0x8a3)](_0x4cd2f9)[_0x26db6e(0x4bf)]}),this[_0x26db6e(0x5f9)](),_0x40e94e(_0x317b4c,_0x4cd2f9));}));}['unsubscribe'](_0xb981b8){const _0x2bc19f=_0x4d79c3;this[_0x2bc19f(0x5ff)][_0x2bc19f(0x2d3)](_0xb981b8)?.(),this[_0x2bc19f(0x5ff)][_0x2bc19f(0x86a)](_0xb981b8);}[_0x4d79c3(0x7b4)](){const _0x526321=_0x4d79c3;this[_0x526321(0x5ff)]['forEach'](_0x1fc35d=>_0x1fc35d()),clearTimeout(this[_0x526321(0x806)]),delete this['debounceStats'],super['destroy']();}[_0x4d79c3(0x8f0)](){const _0x22d583=_0x4d79c3;this[_0x22d583(0x3fb)]?.[_0x22d583(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x22d583(0x2ca)],'content':{'type':_0x4fa1d5[_0x22d583(0x124)],'label':this[_0x22d583(0x9d4)]}});}[_0x4d79c3(0x5f9)](){const _0x7c6de8=_0x4d79c3;this[_0x7c6de8(0x806)]&&clearTimeout(this[_0x7c6de8(0x806)]),this['debounceStats']=setTimeout(()=>{const _0x581e2d=_0x7c6de8;this[_0x581e2d(0x3fb)]?.[_0x581e2d(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x581e2d(0x2ca)],'content':{'type':_0x4fa1d5[_0x581e2d(0x9dd)],'label':this['label'],'stats':{'timestamp':Date[_0x581e2d(0x2a6)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x581e2d(0x894)],'bytesSent':this[_0x581e2d(0xeb)],'bytesReceived':this[_0x581e2d(0x312)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x5e33e5);}}class _0x248a14 extends _0x1e5ff5{['localNode'];[_0x4d79c3(0x5f8)];['availableTrackKinds'];[_0x4d79c3(0x5b6)];[_0x4d79c3(0x5ff)];[_0x4d79c3(0x53e)];[_0x4d79c3(0xa2c)];['outgoingStreams']=new Map();[_0x4d79c3(0x816)];[_0x4d79c3(0x397)]=new Set();[_0x4d79c3(0x27a)];[_0x4d79c3(0x14d)]=_0x1eb396();['trackEndedListeners']=new Map();constructor(_0x25e711,_0x3aaa3d,_0x52e329,_0x18a382,_0x4c8a45,_0x2d2396){const _0x4fd698=_0x4d79c3;super(_0x3aaa3d,_0x52e329,new MediaStream()),this[_0x4fd698(0x3d8)]=_0x25e711,this[_0x4fd698(0x5f8)]=_0x18a382,this[_0x4fd698(0x4b1)]=_0x4c8a45,this[_0x4fd698(0x5b6)]=_0x2d2396,this[_0x4fd698(0x44e)]['getTracks']()[_0x4fd698(0x571)](_0xb2f6dc=>this[_0x4fd698(0x830)](_0xb2f6dc));}[_0x4d79c3(0x7b4)](){const _0x4e2e1a=_0x4d79c3;this[_0x4e2e1a(0x34d)]['size']>0x0&&(this['outgoingStreams'][_0x4e2e1a(0x571)](_0x1e22c3=>{const _0x5676dd=_0x4e2e1a;_0x1e22c3['unregisterSystemPublisher'](),_0x1e22c3[_0x5676dd(0x7b4)]();}),this[_0x4e2e1a(0x34d)][_0x4e2e1a(0x2cb)]()),this[_0x4e2e1a(0x569)]['forEach'](_0x1dff35=>_0x1dff35()),this[_0x4e2e1a(0x44e)][_0x4e2e1a(0xf1)]()[_0x4e2e1a(0x571)](_0x5af01f=>this[_0x4e2e1a(0x44e)]['removeTrack'](_0x5af01f)),this['updateDebounce']&&(clearTimeout(this[_0x4e2e1a(0xa2c)]),delete this[_0x4e2e1a(0xa2c)]),this[_0x4e2e1a(0x53e)]?.(),super[_0x4e2e1a(0x7b4)]();}[_0x4d79c3(0x25f)](_0x29f975){this['unsubscribeHandler']=_0x29f975['subscribe'](({content:_0x4ab278})=>{const _0xb2705d=a0_0x50a3;switch(_0x4ab278[_0xb2705d(0x34b)]){case _0x5d8fad[_0xb2705d(0x9f4)]:if(_0x10d8cb[_0xb2705d(0x3bc)](_0x44f26b[_0xb2705d(0xa34)],_0xb2705d(0x2df),this[_0xb2705d(0x3d8)][_0xb2705d(0x970)](),this[_0xb2705d(0x27a)]),_0x4ab278['stream']['id']!==this[_0xb2705d(0x5f8)]||_0x4ab278[_0xb2705d(0x27a)]!==this[_0xb2705d(0x27a)])return;this['removeTrack'](_0x4ab278['track']['kind']),this['mediaStream'][_0xb2705d(0x1c5)](_0x4ab278[_0xb2705d(0x655)]);for(const [_0x35340f,_0x33e509]of this[_0xb2705d(0x34d)][_0xb2705d(0xa9a)]())try{_0x33e509[_0xb2705d(0x1c5)](_0x4ab278[_0xb2705d(0x655)]);}catch(_0x10cb2a){_0x33e509[_0xb2705d(0x7b4)](),this[_0xb2705d(0x34d)][_0xb2705d(0x86a)](_0x35340f);}this[_0xb2705d(0x830)](_0x4ab278[_0xb2705d(0x655)]),this[_0xb2705d(0x33d)](),_0xb2705d(0x60c)===_0x4ab278['track'][_0xb2705d(0x8c4)]&&this[_0xb2705d(0x816)]&&(this['mediaStream'][_0xb2705d(0x9f9)]?setTimeout(()=>this['renderElement']?.[_0xb2705d(0x587)](),0x0):setTimeout(()=>this[_0xb2705d(0x816)]?.[_0xb2705d(0x360)](),0x0),this[_0xb2705d(0x834)]());break;case _0x5d8fad[_0xb2705d(0x589)]:if(_0x4ab278[_0xb2705d(0x7d0)]['id']!==this[_0xb2705d(0x5f8)]||_0x4ab278[_0xb2705d(0x27a)]!==this[_0xb2705d(0x27a)])return;this['removeTrack'](_0x4ab278[_0xb2705d(0x655)]['kind']),this[_0xb2705d(0x816)]&&_0xb2705d(0x60c)===_0x4ab278[_0xb2705d(0x655)]['kind']&&(this[_0xb2705d(0x53e)]?.(),this[_0xb2705d(0x44e)][_0xb2705d(0xf1)]()[_0xb2705d(0x4bf)]>0x0?this[_0xb2705d(0x816)][_0xb2705d(0x360)]():this['renderElement']['srcObject']=null);}});}[_0x4d79c3(0x4b8)](){const _0x2fa5e3=_0x4d79c3;this[_0x2fa5e3(0x5ff)]?.(),this[_0x2fa5e3(0x569)][_0x2fa5e3(0x571)](_0x12174b=>_0x12174b()),delete this[_0x2fa5e3(0x5ff)];}['getInternalStreamId'](){const _0x3fadfe=_0x4d79c3;return this[_0x3fadfe(0x5f8)];}[_0x4d79c3(0x46b)](_0x36163b){const _0x5df09a=_0x4d79c3;this[_0x5df09a(0x5f8)]=_0x36163b;}[_0x4d79c3(0x728)](){const _0x3f9b2f=_0x4d79c3;return this[_0x3f9b2f(0x4b1)];}['hasTracks'](_0x192775){const _0x228603=_0x4d79c3;for(const _0x1f1e1a of _0x192775||this[_0x228603(0x4b1)])if(!this[_0x228603(0x44e)][_0x228603(0xf1)]()[_0x228603(0x483)](_0x42efae=>_0x42efae['kind']===_0x1f1e1a))return!0x1;return!0x0;}[_0x4d79c3(0x68f)](){const _0x179ebb=_0x4d79c3;let _0x33418f={'width':0x0,'height':0x0};const _0x5994fd=this[_0x179ebb(0x44e)][_0x179ebb(0x529)]();if(_0x5994fd['length']>0x0){const _0x3d5c70=_0x5994fd[0x0][_0x179ebb(0x3ea)]();_0x3d5c70[_0x179ebb(0xaa6)]&&_0x3d5c70[_0x179ebb(0x3f5)]&&(_0x33418f={'width':_0x3d5c70[_0x179ebb(0xaa6)],'height':_0x3d5c70[_0x179ebb(0x3f5)]});}return _0x33418f;}['isSubscribed'](_0x3d5c0c){const _0x1f25fb=_0x4d79c3;for(const _0x3582cc of _0x3d5c0c)if(!this['subscribedTracks'][_0x1f25fb(0x85)](_0x3582cc))return!0x1;return!0x0;}[_0x4d79c3(0x1ae)](_0x43822e,_0x590f9a){const _0x33e684=_0x4d79c3;if(!this[_0x33e684(0x34d)]['has'](_0x43822e)){const _0x8e03c2=new _0x1e7e8d(this[_0x33e684(0x879)],this[_0x33e684(0x9d4)],this[_0x33e684(0x44e)],_0x43822e,_0x590f9a),_0x5189b2=_0x8e03c2['onUnregisterPublisher'](()=>{const _0x35945b=_0x33e684;_0x5189b2(),this[_0x35945b(0x34d)][_0x35945b(0x2d3)](_0x43822e)?.[_0x35945b(0x7b4)](),this['outgoingStreams']['delete'](_0x43822e);});this[_0x33e684(0x34d)][_0x33e684(0xb1)](_0x43822e,_0x8e03c2),_0x8e03c2[_0x33e684(0x618)](this[_0x33e684(0x3fb)]);}return this['outgoingStreams']['get'](_0x43822e);}[_0x4d79c3(0x584)](){return this['mediaStream']['id'];}[_0x4d79c3(0x90c)](){const _0x567d6e=_0x4d79c3;return _0xf8ccf2[_0x567d6e(0x208)]['Default'];}[_0x4d79c3(0x3e0)](){const _0x391cea=_0x4d79c3;return Array[_0x391cea(0x46f)](this[_0x391cea(0x397)]);}[_0x4d79c3(0x2a1)](_0x2ec764){const _0x24c2ab=_0x4d79c3;let _0x3f58d5=[];if(_0x2ec764){_0x24c2ab(0x8de)!=typeof _0x2ec764[_0x24c2ab(0x60c)]||_0x2ec764[_0x24c2ab(0x60c)]['renderElement']instanceof HTMLVideoElement||!this[_0x24c2ab(0x816)]||(_0x2ec764[_0x24c2ab(0x60c)]={'renderElement':this['renderElement']});try{(0x0,_0xf8ccf2[_0x24c2ab(0x9b8)])(_0x2ec764);}catch(_0x496e94){throw new _0x322bb6(_0x4b1e43[_0x24c2ab(0x41c)],_0x24c2ab(0xbd));}_0x2ec764[_0x24c2ab(0x60c)]&&(_0x3f58d5['push'](_0x24c2ab(0x60c)),_0x24c2ab(0x6cf)!=typeof _0x2ec764[_0x24c2ab(0x60c)]&&_0x2ec764[_0x24c2ab(0x60c)][_0x24c2ab(0x816)]&&(this['renderElement']=_0x2ec764['video']['renderElement'],_0x2ec764['video']['maxResolution']||(_0x2ec764['video'][_0x24c2ab(0x40e)]={'width':this[_0x24c2ab(0x816)][_0x24c2ab(0x366)],'height':this[_0x24c2ab(0x816)][_0x24c2ab(0x2ea)]}),delete _0x2ec764['video'][_0x24c2ab(0x816)])),_0x2ec764['audio']&&_0x3f58d5['push']('audio');}else _0x3f58d5=this[_0x24c2ab(0x728)]();this[_0x24c2ab(0x46d)](_0x3f58d5)||(_0x3f58d5['forEach'](_0x409609=>this[_0x24c2ab(0x397)][_0x24c2ab(0x306)](_0x409609)),this[_0x24c2ab(0x3fb)][_0x24c2ab(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885['Content'],'content':{'type':_0x4fa1d5['SubscribeMediaStream'],'label':this[_0x24c2ab(0x9d4)],'ownerId':this['owner'][_0x24c2ab(0x970)](),'trackKinds':_0x3f58d5,'params':_0x2ec764}}),_0x10d8cb[_0x24c2ab(0xa05)](_0x51804b['MediaStream'],{'type':_0x24c2ab(0x2a1),'label':this[_0x24c2ab(0x9d4)],'nodeId':this[_0x24c2ab(0x3d8)][_0x24c2ab(0x970)](),'nodeType':this[_0x24c2ab(0x3d8)][_0x24c2ab(0x572)],'clusterId':this['clusterId'],'sourceId':this[_0x24c2ab(0x879)]['getId'](),'streamId':this['internalId'],'trackKinds':_0x3f58d5}));}[_0x4d79c3(0x63e)](_0x34e6d9){const _0x121fb2=_0x4d79c3;try{(0x0,_0xf8ccf2[_0x121fb2(0x9b8)])(_0x34e6d9);}catch(_0x39f17c){throw new _0x322bb6(_0x4b1e43[_0x121fb2(0x41c)],_0x121fb2(0xbd));}this[_0x121fb2(0xa2c)]&&clearTimeout(this[_0x121fb2(0xa2c)]),this[_0x121fb2(0xa2c)]=setTimeout(()=>{const _0x35ae85=_0x121fb2;delete this[_0x35ae85(0xa2c)],this['systemTopic'][_0x35ae85(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x35ae85(0x2ca)],'content':{'type':_0x4fa1d5[_0x35ae85(0x477)],'label':this[_0x35ae85(0x9d4)],'ownerId':this[_0x35ae85(0x879)][_0x35ae85(0x970)](),'params':_0x34e6d9}});},0x1f4);}[_0x4d79c3(0x5fc)](_0x1d006f){const _0x491606=_0x4d79c3;_0x1d006f||(_0x1d006f=this[_0x491606(0x728)]()),(_0x1d006f=Array[_0x491606(0x61d)](_0x1d006f)?_0x1d006f:[_0x1d006f])[_0x491606(0x571)](_0x2c84fb=>this[_0x491606(0x397)][_0x491606(0x86a)](_0x2c84fb)),this[_0x491606(0x3fb)][_0x491606(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x491606(0x2ca)],'content':{'type':_0x4fa1d5['UnsubscribeMediaStream'],'label':this[_0x491606(0x9d4)],'ownerId':this[_0x491606(0x879)][_0x491606(0x970)](),'trackKinds':_0x1d006f,'remainingTracks':this['subscribedTracks'][_0x491606(0x517)]}});}[_0x4d79c3(0x593)](_0x591cc1){const _0x5247c7=_0x4d79c3;return this[_0x5247c7(0x14d)][_0x5247c7(0x2a1)](_0x591cc1);}[_0x4d79c3(0x83d)](){return this['providerId'];}['setProviderId'](_0x1d4fb4){const _0x42af35=_0x4d79c3;this['providerId']!==_0x1d4fb4&&(this[_0x42af35(0x27a)]=_0x1d4fb4,this[_0x42af35(0x14d)][_0x42af35(0x758)](_0x1d4fb4));}[_0x4d79c3(0x9fa)](_0x3c1aaf){const _0x538c67=_0x4d79c3;this[_0x538c67(0x569)][_0x538c67(0x2d3)](_0x3c1aaf)?.(),this[_0x538c67(0x569)][_0x538c67(0x86a)](_0x3c1aaf);}[_0x4d79c3(0x518)](_0x316d2b){const _0x13f6d5=_0x4d79c3,_0x3ad301=this[_0x13f6d5(0x44e)][_0x13f6d5(0xf1)]()['find'](_0x3e3437=>_0x3e3437['kind']===_0x316d2b);_0x3ad301&&(this[_0x13f6d5(0x44e)][_0x13f6d5(0x518)](_0x3ad301),this[_0x13f6d5(0x34d)][_0x13f6d5(0x571)](_0x18fac1=>_0x18fac1[_0x13f6d5(0x518)](_0x316d2b)),this[_0x13f6d5(0x569)][_0x13f6d5(0x2d3)](_0x316d2b)?.());}[_0x4d79c3(0x33d)](){const _0x2fc62e=_0x4d79c3;this[_0x2fc62e(0x816)]&&(this[_0x2fc62e(0x816)][_0x2fc62e(0x1d5)]&&this[_0x2fc62e(0x816)][_0x2fc62e(0x1d5)]===this['mediaStream']||(this[_0x2fc62e(0x816)][_0x2fc62e(0x1d5)]=this[_0x2fc62e(0x44e)]));}[_0x4d79c3(0x834)](){const _0x201867=_0x4d79c3;if(this[_0x201867(0x816)]&&!this['resizeHandler']&&'undefined'!=typeof ResizeObserver){let _0x2b8551=this[_0x201867(0x816)]['clientWidth'],_0x444419=this['renderElement'][_0x201867(0x2ea)];const _0x37fc01=new ResizeObserver(_0x22cec8=>{const _0x4cee6e=_0x201867,{width:_0x1a04de,height:_0x3a2d30}=_0x22cec8[0x0][_0x4cee6e(0x9ac)];_0x2b8551===_0x1a04de&&_0x444419===_0x3a2d30||(_0x2b8551=Math[_0x4cee6e(0xa6)](_0x1a04de),_0x444419=Math[_0x4cee6e(0xa6)](_0x3a2d30),this['update']({'video':{'maxResolution':{'width':_0x1a04de,'height':_0x3a2d30}}}));});_0x37fc01['observe'](this[_0x201867(0x816)]),this[_0x201867(0x53e)]=()=>_0x37fc01[_0x201867(0x927)]();}}[_0x4d79c3(0x4ef)](_0x5b3020){const _0x1a9bef=_0x4d79c3,_0x28f817=[];for(const _0x322760 of this[_0x1a9bef(0x397)])this[_0x1a9bef(0x518)](_0x322760),_0x28f817[_0x1a9bef(0x15b)](_0x322760);this['providerId']&&this[_0x1a9bef(0x3fb)][_0x1a9bef(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x1a9bef(0x2ca)],'content':{'type':_0x4fa1d5[_0x1a9bef(0x202)],'label':this[_0x1a9bef(0x9d4)],'streamId':this[_0x1a9bef(0x5f8)],'ownerId':this[_0x1a9bef(0x879)][_0x1a9bef(0x970)](),'providerId':this['providerId'],'trackKinds':_0x28f817}});}['setupTrackEndedListeners'](_0x5b0b2b){const _0x370dfc=_0x4d79c3,_0x51cf0f=()=>this[_0x370dfc(0x4ef)](_0x5b0b2b);_0x5b0b2b[_0x370dfc(0x9f3)](_0x370dfc(0x336),_0x51cf0f),_0x5b0b2b[_0x370dfc(0x9f3)](_0x370dfc(0x97d),_0x51cf0f),this['trackEndedListeners'][_0x370dfc(0xb1)](_0x5b0b2b[_0x370dfc(0x8c4)],()=>{const _0x55bd0b=_0x370dfc;_0x5b0b2b[_0x55bd0b(0x621)](_0x55bd0b(0x336),_0x51cf0f),_0x5b0b2b['removeEventListener'](_0x55bd0b(0x97d),_0x51cf0f),this['trackEndedListeners']['delete'](_0x5b0b2b[_0x55bd0b(0x8c4)]);});}}class _0x43ab4f extends _0x4eb90d{[_0x4d79c3(0x3d8)];[_0x4d79c3(0x5b6)];['vendorId'];['db'];[_0x4d79c3(0x806)];[_0x4d79c3(0x209)]=0x0;[_0x4d79c3(0x302)]=0x0;[_0x4d79c3(0x334)]=!0x1;constructor(_0xa64b22,_0x195092,_0x314041,_0x1795ee,_0x222764){const _0x16015e=_0x4d79c3;if(_0x16015e(0x2ae)!=typeof _0x195092)throw new _0x322bb6(_0x4b1e43[_0x16015e(0x8c3)],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0xa64b22,_0x195092),this[_0x16015e(0x3d8)]=_0xa64b22,this[_0x16015e(0x5b6)]=_0x314041,this[_0x16015e(0x5eb)]=_0x1795ee;const _0x3a6821=_0x16015e(0x9fd)+this[_0x16015e(0x5eb)]+_0x16015e(0x9fd)+this[_0x16015e(0x5b6)]+_0x16015e(0x9fd)+this['label'];this['db']=new _0x222764(_0x3a6821),this[_0x16015e(0x5f9)]();}[_0x4d79c3(0xa29)](){const _0x386181=_0x4d79c3;return this[_0x386181(0x334)];}['setIsLoaded'](_0x2a4ad7){const _0x11a17a=_0x4d79c3;this[_0x11a17a(0x334)]=_0x2a4ad7;}[_0x4d79c3(0x7b4)](){const _0x2d0028=_0x4d79c3;clearTimeout(this[_0x2d0028(0x806)]),delete this[_0x2d0028(0x806)],super[_0x2d0028(0x7b4)]();}[_0x4d79c3(0x8f0)](){const _0x40011d=_0x4d79c3;this['systemTopic'][_0x40011d(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x40011d(0x2ca)],'content':{'type':_0x4fa1d5[_0x40011d(0x77d)],'label':this[_0x40011d(0x9d4)]}});}[_0x4d79c3(0x31d)](){this['sendStats']();}[_0x4d79c3(0x2c5)](){const _0x1bd419=_0x4d79c3;return _0xf8ccf2[_0x1bd419(0x3fc)][_0x1bd419(0xa62)];}[_0x4d79c3(0x8a7)](_0x4a68b8,_0x1b3bb8,_0x22fbf3,_0x2b98c9,_0x4a13a3){const _0x7ad938=_0x4d79c3,_0x2c1872=this['db']['search'](_0x4a68b8,_0x1b3bb8,_0x22fbf3,_0x2b98c9,_0x4a13a3);return this[_0x7ad938(0x302)]+=0x1,_0x10d8cb[_0x7ad938(0xa05)](_0x51804b[_0x7ad938(0xa62)],{'type':_0x7ad938(0x8a7),'label':this[_0x7ad938(0x9d4)],'nodeId':this['localNode'][_0x7ad938(0x970)](),'nodeType':this[_0x7ad938(0x3d8)][_0x7ad938(0x572)],'clusterId':this[_0x7ad938(0x5b6)],'size':0x0}),this[_0x7ad938(0x5f9)](),_0x2c1872;}[_0x4d79c3(0x5af)](_0x42de27,_0x44d066,_0x1010f9,_0x437927){const _0xfaf1d6=_0x4d79c3;this['db'][_0xfaf1d6(0x5af)](_0x42de27,_0x44d066,_0x1010f9,_0x437927),this[_0xfaf1d6(0x209)]+=0x1,_0x10d8cb[_0xfaf1d6(0xa05)](_0x51804b[_0xfaf1d6(0xa62)],{'type':_0xfaf1d6(0x5af),'label':this[_0xfaf1d6(0x9d4)],'nodeId':this['localNode'][_0xfaf1d6(0x970)](),'nodeType':this[_0xfaf1d6(0x3d8)][_0xfaf1d6(0x572)],'clusterId':this[_0xfaf1d6(0x5b6)],'size':_0x437927[_0xfaf1d6(0x7ab)]((_0x24d6ef,_0x159484)=>_0x24d6ef+_0x159484[_0xfaf1d6(0x4bf)],0x0)}),this['sendStats']();}[_0x4d79c3(0xa49)](_0x3e113b){const _0x40f69e=_0x4d79c3;this['db'][_0x40f69e(0xa49)](_0x3e113b),this[_0x40f69e(0x209)]+=0x1,_0x10d8cb[_0x40f69e(0xa05)](_0x51804b['VectorDatabase'],{'type':_0x40f69e(0xa49),'label':this[_0x40f69e(0x9d4)],'nodeId':this[_0x40f69e(0x3d8)]['getId'](),'nodeType':this[_0x40f69e(0x3d8)]['type'],'clusterId':this[_0x40f69e(0x5b6)],'size':0x0}),this[_0x40f69e(0x5f9)]();}[_0x4d79c3(0x5b7)](_0x43e28e){this['db']['saveToDisk'](_0x43e28e);}['loadFromDisk'](_0x256238){const _0x199d77=_0x4d79c3;this['db'][_0x199d77(0x9cd)](_0x256238);}[_0x4d79c3(0x5f9)](){const _0x1de6d1=_0x4d79c3;this[_0x1de6d1(0x806)]&&clearTimeout(this[_0x1de6d1(0x806)]),this[_0x1de6d1(0x806)]=setTimeout(async()=>{const _0x4b1734=_0x1de6d1;delete this['debounceStats'];const _0x51e7db=this['db'][_0x4b1734(0x1c3)]()['byteLength'];this[_0x4b1734(0x3fb)]['publish']({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x4b1734(0x2ca)],'content':{'type':_0x4fa1d5[_0x4b1734(0x420)],'label':this['label'],'stats':{'timestamp':Date[_0x4b1734(0x2a6)](),'storage':_0x51e7db,'messagesSent':this[_0x4b1734(0x861)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x4b1734(0xeb)],'bytesReceived':this[_0x4b1734(0x312)],'writes':this[_0x4b1734(0x209)],'reads':this[_0x4b1734(0x302)],'prompts':0x0,'tokens':0x0}}}),_0x10d8cb['logStorage'](_0x51804b['VectorDatabase'],_0x4b1734(0x9fd)+this[_0x4b1734(0x5b6)]+_0x4b1734(0x9fd)+this[_0x4b1734(0x9d4)],_0x51e7db);},_0x5e33e5);}}class _0x34fff5{['id'];[_0x4d79c3(0xda)];[_0x4d79c3(0x679)];constructor(_0x290fde,_0x16e75f=new Set(),_0x2a2493){const _0x1f28e3=_0x4d79c3;this['id']=_0x290fde,this['remoteConnections']=_0x16e75f,this[_0x1f28e3(0x679)]=_0x2a2493;}[_0x4d79c3(0x8f0)](){const _0x408012=_0x4d79c3;this[_0x408012(0x679)]=void 0x0,this[_0x408012(0xda)][_0x408012(0x2cb)]();}['getId'](){return this['id'];}[_0x4d79c3(0xe8)](){const _0x160dcc=_0x4d79c3;return this[_0x160dcc(0x679)];}[_0x4d79c3(0x142)](){const _0x2c1fb7=_0x4d79c3;return this[_0x2c1fb7(0xda)];}}class _0x2bb602 extends _0x34fff5{['id'];[_0x4d79c3(0x2a0)];[_0x4d79c3(0x6f5)];[_0x4d79c3(0xda)];[_0x4d79c3(0x679)];[_0x4d79c3(0x572)]=_0xf8ccf2['NodeType']['User'];constructor(_0x58847f,_0x278e15,_0x431fa4,_0xbc4e63=new Set(),_0x5b8db0){const _0x3b9331=_0x4d79c3;super(_0x58847f,_0xbc4e63,_0x5b8db0),this['id']=_0x58847f,this[_0x3b9331(0x2a0)]=_0x278e15,this[_0x3b9331(0x6f5)]=_0x431fa4,this[_0x3b9331(0xda)]=_0xbc4e63,this[_0x3b9331(0x679)]=_0x5b8db0;}[_0x4d79c3(0x9b3)](){return this['displayName'];}['getEmail'](){return this['email'];}}class _0x1c82d1{[_0x4d79c3(0x5eb)];[_0x4d79c3(0x5b6)];['clusterKey'];constructor(_0x2a239f,_0x320f0e){const _0x49df76=_0x4d79c3;this[_0x49df76(0x5eb)]=_0x2a239f,this[_0x49df76(0x5b6)]=_0x320f0e,this[_0x49df76(0x235)]=_0x49df76(0x9fd)+this[_0x49df76(0x5eb)]+_0x49df76(0x9fd)+this['clusterId'];}async[_0x4d79c3(0x81a)](_0x34d610,_0x568227){const _0x3aaeff=_0x4d79c3,_0x275976=(0x0,_0x1409a1[_0x3aaeff(0x277)])(_0x46a54c[_0x3aaeff(0x95a)](),_0x3aaeff(0x7c8)+this[_0x3aaeff(0x235)]+_0x3aaeff(0x200)+_0x568227+_0x3aaeff(0x651)+_0x34d610['id']),_0x4d7e54=(0x0,_0x1409a1[_0x3aaeff(0x30a)])(_0x275976);_0x4d7e54[_0x3aaeff(0xa49)](),_0x34d610[_0x3aaeff(0x677)]||delete _0x34d610[_0x3aaeff(0x677)];try{await(0x0,_0x1409a1[_0x3aaeff(0xb1)])(_0x275976,_0x34d610);}catch(_0x57b1ab){throw await _0x4d7e54[_0x3aaeff(0x2e2)](),new _0x25257a(_0x25257a[_0x3aaeff(0x6cc)][_0x3aaeff(0xa18)]);}if(!0x1===(await(0x0,_0x1409a1['runTransaction'])((0x0,_0x1409a1[_0x3aaeff(0x277)])(_0x46a54c['getDatabase'](),_0x3aaeff(0x7c8)+this[_0x3aaeff(0x235)]+_0x3aaeff(0x200)+_0x568227+_0x3aaeff(0x624)),_0x1637ce=>_0x1637ce?_0x1637ce===_0x34d610[_0x3aaeff(0x677)]?_0x34d610['id']:void 0x0:_0x34d610[_0x3aaeff(0x677)]?_0x34d610[_0x3aaeff(0x677)]:_0x34d610['id']))[_0x3aaeff(0x644)])throw await(0x0,_0x1409a1[_0x3aaeff(0xa49)])(_0x275976),await _0x4d7e54['cancel'](),new _0x25257a(_0x25257a[_0x3aaeff(0x6cc)]['ObjectStoreNotSynced']);await _0x4d7e54[_0x3aaeff(0x2e2)]();}async[_0x4d79c3(0x10d)](_0x56ef9a,_0x24ee4e){const _0x5621fc=_0x4d79c3;let _0x204845=[];const _0x3f0adc=(0x0,_0x1409a1['ref'])(_0x46a54c[_0x5621fc(0x95a)](),_0x5621fc(0x7c8)+this['clusterKey']+_0x5621fc(0x200)+_0x56ef9a+'/transactions');let _0x4a689b=await(0x0,_0x1409a1['get'])((0x0,_0x1409a1[_0x5621fc(0x6f1)])(_0x3f0adc,(0x0,_0x1409a1[_0x5621fc(0x58e)])(0x65),(0x0,_0x1409a1[_0x5621fc(0x12f)])()));if(!_0x4a689b[_0x5621fc(0x3f7)]()){if(void 0x0!==_0x24ee4e)throw new _0x25257a(_0x25257a[_0x5621fc(0x6cc)][_0x5621fc(0x3b8)]);return _0x204845;}const _0x54fb63=_0x4a689b['val']();for(;Object[_0x5621fc(0x261)](_0x4a689b[_0x5621fc(0x623)]())[_0x5621fc(0x4bf)]>0x64;){const _0x226f60=Object[_0x5621fc(0x261)](_0x4a689b[_0x5621fc(0x623)]()),_0x568c79=_0x226f60[_0x226f60['length']-0x1];_0x4a689b=await(0x0,_0x1409a1[_0x5621fc(0x2d3)])((0x0,_0x1409a1[_0x5621fc(0x6f1)])(_0x3f0adc,(0x0,_0x1409a1['limitToFirst'])(0x65),(0x0,_0x1409a1[_0x5621fc(0x60f)])(_0x568c79),(0x0,_0x1409a1['orderByKey'])())),Object[_0x5621fc(0x8e3)](_0x54fb63,_0x4a689b['val']());}if(_0x204845=Object['values'](_0x54fb63)[_0x5621fc(0x70d)](_0x20a3ab=>_0x5621fc(0x2ae)!=typeof _0x20a3ab),0x0===_0x204845['length']&&void 0x0!==_0x24ee4e)throw new _0x25257a(_0x25257a['codes']['ObjectStoreInvalidState']);if(_0x204845[_0x5621fc(0x4bf)]>0x0&&void 0x0!==_0x24ee4e&&!_0x204845[_0x5621fc(0x483)](_0x1485a8=>_0x1485a8['id']===_0x24ee4e))throw new _0x25257a(_0x25257a[_0x5621fc(0x6cc)]['ObjectStoreInvalidState']);const _0x2227d2=[];let _0x52fcd6=_0x204845[_0x5621fc(0x483)](_0x366724=>_0x366724[_0x5621fc(0x677)]===_0x24ee4e);for(;_0x52fcd6;)_0x2227d2[_0x5621fc(0x15b)](_0x52fcd6),_0x52fcd6=_0x204845[_0x5621fc(0x483)](_0x1d3951=>_0x1d3951['parentId']===_0x52fcd6['id']);return _0x2227d2;}}class _0x5e9fac extends _0x551462{[_0x4d79c3(0x64a)];[_0x4d79c3(0xfa)];[_0x4d79c3(0x590)];[_0x4d79c3(0x15f)];[_0x4d79c3(0x4e5)];[_0x4d79c3(0x452)];[_0x4d79c3(0x3ff)];['searchConnector'];[_0x4d79c3(0x27c)];[_0x4d79c3(0xa1a)];['ragConnectors'];[_0x4d79c3(0x320)];[_0x4d79c3(0x4ad)]=_0xc27fcc;[_0x4d79c3(0x3e3)]=new Map();[_0x4d79c3(0x5df)]=!0x1;constructor(_0x83029,_0x4a77f8,_0x3aceff,_0x237f72,_0x5e2c0e,_0x37a3c7,_0x3413ef,_0x913fb1,_0x3624f2,_0x5ad92a,_0x567ff5,_0xcdf25,_0x2b640a,_0x39f9f0){const _0x5a6797=_0x4d79c3;super(_0x83029,_0x4a77f8),this[_0x5a6797(0x64a)]=_0x3aceff,this[_0x5a6797(0xfa)]=_0x237f72,this['speechAIWorkerConnectors']=_0x5e2c0e,this['objectStoreConnector']=_0x37a3c7,this[_0x5a6797(0x4e5)]=_0x3413ef,this[_0x5a6797(0x452)]=_0x913fb1,this[_0x5a6797(0x3ff)]=_0x3624f2,this[_0x5a6797(0x395)]=_0x5ad92a,this['aiSearchConnector']=_0x567ff5,this[_0x5a6797(0xa1a)]=_0xcdf25,this[_0x5a6797(0x321)]=_0x2b640a,this[_0x5a6797(0x320)]=_0x39f9f0,this['open']();}async[_0x4d79c3(0x782)](){return[];}async[_0x4d79c3(0x56c)](_0x30b626=!0x1){const _0x36916a=_0x4d79c3;if(!this[_0x36916a(0x5df)]){_0x10d8cb[_0x36916a(0x184)](_0x36916a(0xa48),this[_0x36916a(0x9d4)]);try{for(const _0x1fedbc of this[_0x36916a(0xfa)])await _0x1fedbc[_0x36916a(0x746)](this['label'],this['models']);}catch(_0x363d62){return this[_0x36916a(0x56c)](_0x30b626);}this[_0x36916a(0x5df)]=!0x0,_0x10d8cb[_0x36916a(0x184)](_0x36916a(0x68e),this[_0x36916a(0x9d4)]);}}[_0x4d79c3(0x8f0)](){const _0x384f11=_0x4d79c3;this[_0x384f11(0x3fb)]?.[_0x384f11(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x384f11(0x2ca)],'content':{'type':_0x4fa1d5['CloseGenerativeAIContext'],'label':this[_0x384f11(0x9d4)]}});}[_0x4d79c3(0x91)](){const _0xfc1162=_0x4d79c3;return this[_0xfc1162(0x9d4)];}[_0x4d79c3(0x2c5)](){const _0x2f7cb9=_0x4d79c3;return _0xf8ccf2[_0x2f7cb9(0x3fc)][_0x2f7cb9(0x500)];}[_0x4d79c3(0x88f)](_0x55af5a){const _0x5436c1=_0x4d79c3,_0x5f039e='job-'+(0x0,_0x15d077['v4'])();let _0x3dbaff=!0x1;const _0x417862=()=>{const _0x316cf9=a0_0x50a3;if(_0x3dbaff)throw new _0x25257a(_0x25257a[_0x316cf9(0x6cc)]['GenerativeAIContextJobAlreadyConsumed']);_0x3dbaff=!0x0;},_0xe303ea={'threadId':_0x5436c1(0x931)+(0x0,_0x15d077['v4'])(),..._0x55af5a};switch(_0x55af5a['type']){case _0x5436c1(0x82a):case'collection-delete':case _0x5436c1(0x8d3):case'file-delete':case _0x5436c1(0x7be):case _0x5436c1(0x18b):case _0x5436c1(0x18b):case _0x5436c1(0xa24):case'rate':case _0x5436c1(0x18c):case _0x5436c1(0x864):case _0x5436c1(0x993):case _0x5436c1(0x389):return{'id':_0x5f039e,..._0x55af5a,'run':()=>(_0x417862(),this[_0x5436c1(0x1c0)](_0x5f039e,_0xe303ea))};case _0x5436c1(0x602):case _0x5436c1(0x5ac):return{'id':_0x5f039e,'options':{'threadId':_0x5436c1(0x931)+(0x0,_0x15d077['v4'])()},..._0x55af5a,'run':()=>(_0x417862(),this[_0x5436c1(0x1c0)](_0x5f039e,_0xe303ea)),'stream':()=>(_0x417862(),this[_0x5436c1(0x224)](_0x5f039e,_0xe303ea))};default:throw new Error(_0x5436c1(0x99f));}}async[_0x4d79c3(0x1c0)](_0x46f138,_0x2514ec){const _0x1eea1d=_0x4d79c3;if(_0x1eea1d(0x5ac)===_0x2514ec[_0x1eea1d(0x572)]){await this['startTracing'](_0x46f138,_0x2514ec);const _0x308a5c=await _0xa0831b[_0x1eea1d(0x57c)](_0x2514ec[_0x1eea1d(0x5eb)],_0x2514ec[_0x1eea1d(0x48e)]),_0x206069=_0x308a5c[_0x1eea1d(0x5b1)][_0x1eea1d(0x483)](_0xc67734=>_0xc67734['type']===_0x3e5dd5[_0x1eea1d(0x28c)]||_0xc67734[_0x1eea1d(0x572)]===_0x3e5dd5['InputStream']),_0xfb2bb7=await _0x3cda38(_0x2514ec[_0x1eea1d(0x8e2)]??_0x46f138,_0x2514ec,_0x206069,_0x308a5c[_0x1eea1d(0x5b1)],{'documentParserConnector':this[_0x1eea1d(0x4e5)],'fileConnector':this[_0x1eea1d(0x452)],'nlpLibraryConnector':this[_0x1eea1d(0x3ff)],'generativeAIWorkerConnectors':this[_0x1eea1d(0xfa)],'models':Array[_0x1eea1d(0x46f)](this[_0x1eea1d(0x4ad)][_0x1eea1d(0x3c7)]()),'contentMediator':this[_0x1eea1d(0x64a)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1eea1d(0x27c)],'queryFileConnector':this[_0x1eea1d(0xa1a)]});return await this[_0x1eea1d(0x70f)](_0x46f138,_0x2514ec),_0xfb2bb7;}if(_0x1eea1d(0x389)===_0x2514ec[_0x1eea1d(0x572)])return await _0x575d03(_0x2514ec,{'documentParserConnector':this[_0x1eea1d(0x4e5)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x1eea1d(0x3ff)],'generativeAIWorkerConnectors':this[_0x1eea1d(0xfa)],'models':Array[_0x1eea1d(0x46f)](this['models'][_0x1eea1d(0x3c7)]()),'contentMediator':this[_0x1eea1d(0x64a)],'searchConnector':this[_0x1eea1d(0x395)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']});if(_0x1eea1d(0x602)===_0x2514ec['type']){await this[_0x1eea1d(0x9cb)](_0x46f138,_0x2514ec);const _0x1a24e6=await _0x2899a2(_0x2514ec[_0x1eea1d(0x8e2)]??_0x46f138,_0x2514ec,{'documentParserConnector':this[_0x1eea1d(0x4e5)],'fileConnector':this[_0x1eea1d(0x452)],'nlpLibraryConnector':this[_0x1eea1d(0x3ff)],'generativeAIWorkerConnectors':this[_0x1eea1d(0xfa)],'models':Array[_0x1eea1d(0x46f)](this[_0x1eea1d(0x4ad)][_0x1eea1d(0x3c7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x1eea1d(0x395)],'aiSearchConnector':this[_0x1eea1d(0x27c)],'queryFileConnector':this[_0x1eea1d(0xa1a)]});return await this[_0x1eea1d(0x70f)](_0x46f138,_0x2514ec),_0x1a24e6;}if(_0x1eea1d(0x7e)===_0x2514ec[_0x1eea1d(0x572)])return await _0x383921[_0x1eea1d(0x71b)]({'jobType':_0x3ed2df[_0x1eea1d(0x628)],'type':_0x3516a1[_0x1eea1d(0x339)],'jobId':_0x2514ec[_0x1eea1d(0x8e2)],'threadId':_0x2514ec[_0x1eea1d(0x335)],'traceLevel':_0x3d3bca['Info'],'startTime':Date['now'](),'timestamp':Date[_0x1eea1d(0x2a6)](),'status':_0x1eea1d(0x947),'rating':_0x2514ec['rating'],'feedback':_0x2514ec[_0x1eea1d(0x9a)]}),{'type':_0x1eea1d(0x7e),'status':_0xf8ccf2['GenerativeAIRatingStatus'][_0x1eea1d(0x378)]};if(_0x1eea1d(0x993)===_0x2514ec[_0x1eea1d(0x572)])return await _0x42c429(_0x2514ec,{'documentParserConnector':this[_0x1eea1d(0x4e5)],'fileConnector':this[_0x1eea1d(0x452)],'nlpLibraryConnector':this[_0x1eea1d(0x3ff)],'generativeAIWorkerConnectors':this[_0x1eea1d(0xfa)],'models':Array[_0x1eea1d(0x46f)](this[_0x1eea1d(0x4ad)][_0x1eea1d(0x3c7)]()),'contentMediator':this[_0x1eea1d(0x64a)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x1eea1d(0x27c)],'queryFileConnector':this['queryFileConnector']});if(_0x1eea1d(0x864)===_0x2514ec['type']){const _0x377378=_0xc27fcc[_0x1eea1d(0x2d3)](_0x2514ec['model']);if(!_0x377378)throw new Error(_0x1eea1d(0x6c7));const _0x383458=this['speechAIWorkerConnectors'][_0x1eea1d(0x483)](_0x486088=>_0x486088[_0x1eea1d(0xa7a)]()===_0x377378[_0x1eea1d(0x11b)]);if(!_0x383458)throw new Error(_0x1eea1d(0x76e));return{'type':_0x1eea1d(0x864),'audio':await _0x383458[_0x1eea1d(0x740)](_0x2514ec[_0x1eea1d(0x8bf)],_0x2514ec[_0x1eea1d(0x7b9)],_0x2514ec['voice'],_0x2514ec['instructions'])};}if(_0x1eea1d(0x18c)===_0x2514ec['type']){const _0x38bef9=await _0xa0831b[_0x1eea1d(0x57c)](_0x2514ec[_0x1eea1d(0x5eb)],_0x2514ec['workflowId']),_0x4e8a84=_0x38bef9['blocks'][_0x1eea1d(0x483)](_0x1d1711=>_0x1d1711[_0x1eea1d(0x572)]===_0x3e5dd5[_0x1eea1d(0x49d)]),_0x5de0a3=_0x4e8a84[_0x1eea1d(0x5b5)]?.[_0x1eea1d(0x483)](_0x4ab046=>_0x4ab046[_0x1eea1d(0x572)]===_0x57a86a[_0x1eea1d(0x195)]),_0x103599=_0x38bef9[_0x1eea1d(0x5b1)][_0x1eea1d(0x483)](_0x1d604a=>_0x1d604a[_0x1eea1d(0x572)]===_0x3e5dd5['Agent']&&_0x1d604a['uid']===_0x5de0a3[_0x1eea1d(0x833)]),_0x210e46=_0xc27fcc['get'](_0x103599['modelId']),_0x5a6167=_0x38bef9[_0x1eea1d(0x5b1)][_0x1eea1d(0x70d)](_0x3b6500=>_0x3b6500[_0x1eea1d(0x5b5)]?.[_0x1eea1d(0x884)](_0x27bd77=>_0x27bd77[_0x1eea1d(0x572)]===_0x57a86a[_0x1eea1d(0x240)]&&_0x27bd77['uid']===_0x103599[_0x1eea1d(0x833)]))[_0x1eea1d(0x68c)](_0x589b96=>_0x2cb0b8(_0x589b96,_0x38bef9['blocks'])),_0x4d1dd5=_0x38bef9[_0x1eea1d(0x5b1)][_0x1eea1d(0x483)](_0x3e398c=>_0x3e398c['type']===_0x3e5dd5[_0x1eea1d(0x243)]),_0x440347=_0x38bef9[_0x1eea1d(0x5b1)]['find'](_0x22d10a=>_0x22d10a[_0x1eea1d(0x572)]===_0x3e5dd5[_0x1eea1d(0x6ab)]&&_0x22d10a[_0x1eea1d(0x5b5)]?.[_0x1eea1d(0x884)](_0x1a0bbb=>_0x1a0bbb[_0x1eea1d(0x572)]===_0x57a86a[_0x1eea1d(0x195)]&&_0x1a0bbb['uid']===_0x4d1dd5[_0x1eea1d(0x833)])),_0x79aa8c=_0x38bef9[_0x1eea1d(0x5b1)][_0x1eea1d(0x483)](_0x344b3e=>_0x344b3e[_0x1eea1d(0x572)]===_0x3e5dd5[_0x1eea1d(0x6ab)]&&_0x344b3e['uid']===_0x440347[_0x1eea1d(0x833)]),_0xc8af40=_0xc27fcc[_0x1eea1d(0x2d3)](_0x79aa8c[_0x1eea1d(0x5c4)]);return{'type':_0x1eea1d(0x18c),'apiKey':this[_0x1eea1d(0x320)],'sessionType':_0x210e46[_0x1eea1d(0x79a)]===_0xf8ccf2[_0x1eea1d(0x27d)][_0x1eea1d(0x8dc)]?'speech-to-speech':'chained','firstAgent':{'modelId':_0x103599['modelId'],'taskType':_0x210e46[_0x1eea1d(0x79a)],'instructions':_0x103599['instructions'],'temperature':_0x103599[_0x1eea1d(0x9ff)],'maxTokens':_0x103599[_0x1eea1d(0x719)],'initialPrompt':_0x38bef9['initialPrompt'],'tools':_0x5a6167[_0x1eea1d(0x384)](_0x3205af=>({..._0x3205af,'name':this['getToolName'](_0x3205af),'description':this[_0x1eea1d(0x2db)](_0x3205af),'parameters':this[_0x1eea1d(0x5cb)](_0x3205af)}))},'lastAgent':{'modelId':_0x79aa8c[_0x1eea1d(0x5c4)],'taskType':_0xc8af40[_0x1eea1d(0x79a)],'instructions':_0x79aa8c[_0x1eea1d(0x8f)],'initialPrompt':_0x38bef9[_0x1eea1d(0x5f6)]}};}if(_0x1eea1d(0xb2)===_0x2514ec['type']){const {vendorId:_0x30f0ea,collectionId:_0x45245d,fileId:_0x699ae5}=_0x2514ec,_0x3d2d0d=await _0xa0831b[_0x1eea1d(0x78b)](_0x30f0ea,_0x45245d),_0x4e7728=this[_0x1eea1d(0x321)]?.[_0x1eea1d(0x2d3)](_0x3d2d0d['storageType']);if(!_0x4e7728)throw new Error(_0x1eea1d(0x1ee));const _0x2c7d06=_0x5a7157(_0x30f0ea,_0x3d2d0d);if(_0x3d2d0d[_0x1eea1d(0x98)]===_0xf8ccf2[_0x1eea1d(0x6c3)][_0x1eea1d(0x1a1)])try{await _0x4e7728[_0x1eea1d(0x215)](_0x2c7d06,_0x45245d,'/'+_0x30f0ea+'/'+_0x45245d+'/'+_0x699ae5),await this[_0x1eea1d(0x15f)]['deleteObject']('/'+_0x30f0ea+'/'+_0x45245d+'/'+_0x699ae5);}catch(_0x28f96e){_0x10d8cb[_0x1eea1d(0x23a)](_0x1eea1d(0x17d),_0x28f96e);}else try{await _0x4e7728[_0x1eea1d(0x215)](_0x2c7d06,_0x45245d,_0x699ae5);}catch(_0x2b39c9){_0x10d8cb[_0x1eea1d(0x23a)](_0x1eea1d(0x17d),_0x2b39c9);}return{'type':_0x1eea1d(0xb2)};}if(_0x1eea1d(0x7be)===_0x2514ec['type']){let _0x2eee42;const _0x36ffc9=this['dataStores'][_0x1eea1d(0x261)]();for(;!_0x2eee42;){const _0x310e7c=_0x36ffc9[_0x1eea1d(0x38d)]()[_0x1eea1d(0x433)];if(!_0x310e7c)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x2eee42=this[_0x1eea1d(0x3e3)]['get'](_0x310e7c);try{const _0x4019f2=await _0x2eee42[_0x1eea1d(0x2d3)](_0x2514ec['documentPath']);return{'type':_0x1eea1d(0x7be),'fileName':_0x4019f2[_0x1eea1d(0x687)],'mimeType':_0x4019f2[_0x1eea1d(0x572)],'document':await _0x4019f2['arrayBuffer']()};}catch(_0x2577fd){continue;}}throw new Error(_0x1eea1d(0x97c));}if('file-ingest'===_0x2514ec[_0x1eea1d(0x572)]){const {vendorId:_0x56ab26,collectionId:_0x476917,fileName:_0x5d75e1,content:_0x166959}=_0x2514ec,_0x5c721e=await _0xa0831b[_0x1eea1d(0x78b)](_0x56ab26,_0x476917);if(_0x5c721e['storageType']!==_0xf8ccf2[_0x1eea1d(0x6c3)][_0x1eea1d(0x1a1)]){const _0x1c4045=this[_0x1eea1d(0x321)]?.[_0x1eea1d(0x2d3)](_0x5c721e[_0x1eea1d(0x98)]);if(!_0x1c4045)throw new Error(_0x1eea1d(0x1ee));const _0x1decab=_0x5a7157(_0x56ab26,_0x5c721e);return await _0x1c4045[_0x1eea1d(0x343)](_0x1decab,_0x476917,_0x5d75e1,_0x166959),{'type':_0x1eea1d(0x18b)};}const _0x949b4e=_0x5c721e[_0x1eea1d(0x70)]?.[_0x1eea1d(0x483)](_0x12c214=>_0x12c214[_0x1eea1d(0x572)]===_0x4acbf4[_0x1eea1d(0x77c)]);if(!_0x949b4e)throw new Error(_0x1eea1d(0x5be));return await _0x3fe24a(_0x2514ec[_0x1eea1d(0x5eb)],_0x46f138,'/'+_0x56ab26+'/'+_0x476917+'/'+_0x5d75e1,_0x166959,_0x949b4e,_0x5c721e,{'objectStoreConnector':this[_0x1eea1d(0x15f)],'ragConnector':this[_0x1eea1d(0x321)]?.[_0x1eea1d(0x2d3)](_0xf8ccf2[_0x1eea1d(0x6c3)]['Crewdle']),'documentParserConnector':this[_0x1eea1d(0x4e5)],'fileConnector':this[_0x1eea1d(0x452)],'nlpLibraryConnector':this[_0x1eea1d(0x3ff)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x1eea1d(0x46f)](this[_0x1eea1d(0x4ad)]['values']()),'contentMediator':this[_0x1eea1d(0x64a)]}),{'type':_0x1eea1d(0x18b)};}if(_0x1eea1d(0xa24)===_0x2514ec[_0x1eea1d(0x572)]){const {vendorId:_0x2877fb,collectionId:_0x3090f3}=_0x2514ec,_0x5052b5=await _0xa0831b[_0x1eea1d(0x78b)](_0x2877fb,_0x3090f3);if(_0x5052b5[_0x1eea1d(0x98)]!==_0xf8ccf2[_0x1eea1d(0x6c3)][_0x1eea1d(0x1a1)]){const _0x3097e9=this['ragConnectors']?.[_0x1eea1d(0x2d3)](_0x5052b5['storageType']);if(!_0x3097e9)throw new Error('No\x20RAG\x20connector\x20available');const _0x316cb7=_0x5a7157(_0x2877fb,_0x5052b5);return{'type':_0x1eea1d(0xa24),'files':await _0x3097e9[_0x1eea1d(0x5ad)](_0x316cb7,_0x3090f3)};}try{return{'type':_0x1eea1d(0xa24),'files':(await this[_0x1eea1d(0x15f)][_0x1eea1d(0x119)]('/'+_0x2877fb+'/'+_0x3090f3,!0x1))['map'](_0x1f7fbf=>({'name':_0x1f7fbf['name'],'id':_0x1f7fbf[_0x1eea1d(0x687)],'status':_0x1eea1d(0x8cd)}))};}catch(_0x538648){return{'type':_0x1eea1d(0xa24),'files':[]};}}if(_0x1eea1d(0x82a)===_0x2514ec['type']){const {vendorId:_0x32a539,collectionId:_0x7f752e}=_0x2514ec,_0x327510=await _0xa0831b[_0x1eea1d(0x78b)](_0x32a539,_0x7f752e),_0x4d5c4d=this[_0x1eea1d(0x321)]?.[_0x1eea1d(0x2d3)](_0x327510['storageType']);if(!_0x4d5c4d)return{'type':'collection-create'};const _0x2d5414=_0x5a7157(_0x32a539,_0x327510);return await _0x4d5c4d[_0x1eea1d(0x700)](_0x2d5414,_0x7f752e),{'type':_0x1eea1d(0x82a)};}if(_0x1eea1d(0x540)===_0x2514ec[_0x1eea1d(0x572)]){const {vendorId:_0x4f0439,collectionId:_0x4e3173}=_0x2514ec,_0x2e4fad=await _0xa0831b[_0x1eea1d(0x78b)](_0x4f0439,_0x4e3173),_0x3680cf=this[_0x1eea1d(0x321)]?.['get'](_0x2e4fad[_0x1eea1d(0x98)]);if(!_0x3680cf)return{'type':'collection-delete'};const _0x16b0f8=_0x5a7157(_0x4f0439,_0x2e4fad);let _0x4a3593=!0x1;if(_0x2e4fad[_0x1eea1d(0x661)]===_0x5171d5['Dedicated']&&(_0x4a3593=!0x0),_0x2e4fad[_0x1eea1d(0x661)]===_0x5171d5[_0x1eea1d(0x6ce)]){_0x4a3593=!0x0;const _0x5dd970=await _0xa0831b[_0x1eea1d(0x7c)](_0x4f0439);for(const _0x3ecb34 of _0x5dd970)if(_0x3ecb34[_0x1eea1d(0x98)]===_0x2e4fad['storageType']&&_0x3ecb34[_0x1eea1d(0x661)]===_0x5171d5['Account']&&_0x3ecb34['id']!==_0x2e4fad['id']){_0x4a3593=!0x1;break;}}try{await _0x3680cf[_0x1eea1d(0x12b)](_0x16b0f8,_0x4e3173,_0x4a3593);}catch(_0x2757ff){_0x10d8cb[_0x1eea1d(0x23a)]('GenerativeAIWorker:\x20CollectionDelete\x20failed',_0x2757ff);}return{'type':_0x1eea1d(0x540)};}if('collection-query'===_0x2514ec[_0x1eea1d(0x572)]){const {query:_0x391d0c,vendorId:_0x27200a,collectionId:_0x5aa1d0}=_0x2514ec,_0xfb10f9=await _0xa0831b[_0x1eea1d(0x78b)](_0x27200a,_0x5aa1d0);if(_0xfb10f9['storageType']!==_0xf8ccf2['GenerativeAIRagType']['Crewdle']){const _0x35233c=this[_0x1eea1d(0x321)]?.['get'](_0xfb10f9['storageType']);if(!_0x35233c)throw new Error(_0x1eea1d(0x1ee));const _0x160aaa=_0x5a7157(_0x27200a,_0xfb10f9);return{'type':_0x1eea1d(0x8d3),'results':await _0x35233c[_0x1eea1d(0x406)](_0x160aaa,_0x5aa1d0,_0x391d0c,0x1)};}const _0x30488d=_0xfb10f9[_0x1eea1d(0x6b4)]?.['find'](_0x196527=>_0x196527[_0x1eea1d(0x572)]===_0x4acbf4[_0x1eea1d(0x28c)]);return{'type':_0x1eea1d(0x8d3),'results':(await _0x1c56ed(_0x2514ec[_0x1eea1d(0x5eb)],_0x46f138,'',_0x391d0c,_0x30488d,_0xfb10f9,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this['ragConnectors']?.[_0x1eea1d(0x2d3)](_0xf8ccf2[_0x1eea1d(0x6c3)][_0x1eea1d(0x1a1)]),'documentParserConnector':this[_0x1eea1d(0x4e5)],'fileConnector':this[_0x1eea1d(0x452)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x1eea1d(0xfa)],'models':Array['from'](this[_0x1eea1d(0x4ad)][_0x1eea1d(0x3c7)]()),'contentMediator':this[_0x1eea1d(0x64a)],'searchConnector':this[_0x1eea1d(0x395)],'aiSearchConnector':this[_0x1eea1d(0x27c)],'queryFileConnector':this[_0x1eea1d(0xa1a)]}))['context']??[]};}throw new Error(_0x1eea1d(0x706));}async*[_0x4d79c3(0x224)](_0x1af801,_0x3216e8){const _0x41505b=_0x4d79c3;if(_0x41505b(0x5ac)===_0x3216e8[_0x41505b(0x572)]){await this[_0x41505b(0x9cb)](_0x1af801,_0x3216e8);const _0x1c932d=await _0xa0831b[_0x41505b(0x57c)](_0x3216e8[_0x41505b(0x5eb)],_0x3216e8[_0x41505b(0x48e)]),_0x47944c=_0x1c932d['blocks'][_0x41505b(0x483)](_0x4c975d=>_0x4c975d[_0x41505b(0x572)]===_0x3e5dd5[_0x41505b(0x28c)]||_0x4c975d[_0x41505b(0x572)]===_0x3e5dd5[_0x41505b(0x49d)]);for await(const _0x135c4e of _0x16bc1f(_0x3216e8[_0x41505b(0x8e2)]??_0x1af801,_0x3216e8,_0x47944c,_0x1c932d[_0x41505b(0x5b1)],{'documentParserConnector':this[_0x41505b(0x4e5)],'fileConnector':this[_0x41505b(0x452)],'nlpLibraryConnector':this[_0x41505b(0x3ff)],'generativeAIWorkerConnectors':this[_0x41505b(0xfa)],'models':Array[_0x41505b(0x46f)](this[_0x41505b(0x4ad)][_0x41505b(0x3c7)]()),'contentMediator':this[_0x41505b(0x64a)],'searchConnector':this[_0x41505b(0x395)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x41505b(0xa1a)]}))yield _0x135c4e;await this[_0x41505b(0x70f)](_0x1af801,_0x3216e8);}if('inference'===_0x3216e8['type']){await this[_0x41505b(0x9cb)](_0x1af801,_0x3216e8);for await(const _0x123bde of _0x297fd0(_0x3216e8[_0x41505b(0x8e2)]??_0x1af801,_0x3216e8,{'documentParserConnector':this[_0x41505b(0x4e5)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x41505b(0x3ff)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x41505b(0x46f)](this[_0x41505b(0x4ad)][_0x41505b(0x3c7)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x41505b(0x395)],'aiSearchConnector':this[_0x41505b(0x27c)],'queryFileConnector':this['queryFileConnector']}))yield _0x123bde;await this['stopTracing'](_0x1af801,_0x3216e8);}}async[_0x4d79c3(0x9cb)](_0xa94e37,_0x31798a){const _0x23b583=_0x4d79c3;if('rate'===_0x31798a['type'])return _0xa94e37=_0x31798a['jobId'],void await this['openTrace'](_0xa94e37,_0x31798a[_0x23b583(0x5eb)],_0x31798a[_0x23b583(0x48e)]);_0x23b583(0x5ac)!==_0x31798a[_0x23b583(0x572)]&&_0x23b583(0x602)!==_0x31798a['type']||!_0x31798a[_0x23b583(0x8e2)]||(_0xa94e37=_0x31798a['jobId']),await this['openTrace'](_0xa94e37,_0x31798a[_0x23b583(0x5eb)],_0x31798a['workflowId'],_0x31798a[_0x23b583(0x335)]),await _0x383921[_0x23b583(0x71b)]({'jobType':_0x3ed2df[_0x23b583(0x118)],'type':_0x2532aa['Queued'],'traceLevel':_0x3d3bca[_0x23b583(0xbc)],'jobId':_0xa94e37,'threadId':_0x31798a[_0x23b583(0x335)],'startTime':Date[_0x23b583(0x2a6)](),'timestamp':Date[_0x23b583(0x2a6)](),'status':_0x23b583(0x947)});}async['stopTracing'](_0x22878,_0x278d71){const _0x495185=_0x4d79c3;if('rate'===_0x278d71['type'])return _0x22878=_0x278d71[_0x495185(0x8e2)],void await this[_0x495185(0x9ad)](_0x22878);_0x495185(0x5ac)!==_0x278d71[_0x495185(0x572)]&&_0x495185(0x602)!==_0x278d71[_0x495185(0x572)]||!_0x278d71[_0x495185(0x8e2)]||(_0x22878=_0x278d71['jobId']),await _0x383921[_0x495185(0x71b)]({'jobType':_0x3ed2df[_0x495185(0x118)],'type':_0x2532aa[_0x495185(0x2a9)],'traceLevel':_0x3d3bca[_0x495185(0xbc)],'jobId':_0x22878,'threadId':_0x278d71[_0x495185(0x335)],'startTime':Date[_0x495185(0x2a6)](),'timestamp':Date[_0x495185(0x2a6)](),'status':_0x495185(0x947)}),await this[_0x495185(0x9ad)](_0x22878,_0x278d71['threadId']);}async[_0x4d79c3(0x63c)](_0x2a3fb3,_0x60d317,_0x4a0e1e,_0x3b612e){const _0x554ee5=_0x4d79c3;try{if(!await _0x383921['openTrace'](_0x60d317,_0x2a3fb3,_0x4a0e1e,_0x3b612e))throw new Error(_0x554ee5(0x801));return _0x2a3fb3;}catch(_0x2c7958){return console[_0x554ee5(0x23a)](_0x554ee5(0x801),_0x2c7958),_0x554ee5(0x538);}}async[_0x4d79c3(0x9ad)](_0x1e78d9,_0x285932){const _0x65cd87=_0x4d79c3;try{await _0x383921[_0x65cd87(0x9ad)](_0x1e78d9,_0x285932);}catch(_0x8908e2){console[_0x65cd87(0x23a)](_0x65cd87(0xaa3),{'jobId':_0x1e78d9,'error':_0x8908e2});}}['getToolName'](_0xfffa00){const _0x2c6d5b=_0x4d79c3;switch(_0xfffa00['type']){case _0x3e5dd5[_0x2c6d5b(0x6ab)]:case _0x3e5dd5[_0x2c6d5b(0x5d7)]:return _0x2c6d5b(0x7bc)+_0xfffa00[_0x2c6d5b(0x687)]['replace'](/[^a-zA-Z]/g,'');case _0x3e5dd5[_0x2c6d5b(0x5aa)]:return _0x2c6d5b(0x5c0)+_0xfffa00['name'][_0x2c6d5b(0x388)](/[^a-zA-Z]/g,'');case _0x3e5dd5['DataCollection']:case _0x3e5dd5[_0x2c6d5b(0x603)]:return _0x2c6d5b(0x251)+_0xfffa00['name'][_0x2c6d5b(0x388)](/[^a-zA-Z]/g,'');case _0x3e5dd5[_0x2c6d5b(0x597)]:return _0xfffa00['name']['replace'](/[^a-zA-Z]/g,'');case _0x3e5dd5[_0x2c6d5b(0x8d)]:return'searchOnPerplexity';case _0x3e5dd5['Code']:return _0x2c6d5b(0x117);case _0x3e5dd5[_0x2c6d5b(0x29f)]:return'searchOnGoogle';case _0x3e5dd5['WebScraper']:case _0x3e5dd5[_0x2c6d5b(0x269)]:return _0x2c6d5b(0x39f);case _0xf8ccf2[_0x2c6d5b(0x2e1)][_0x2c6d5b(0x9d5)]:return _0x2c6d5b(0xaaa)+_0xfffa00[_0x2c6d5b(0x687)][_0x2c6d5b(0x388)](/[^a-zA-Z]/g,'');case _0xf8ccf2[_0x2c6d5b(0x2e1)]['FormSkillSetAnswer']:return _0x2c6d5b(0xee)+_0xfffa00[_0x2c6d5b(0x687)][_0x2c6d5b(0x388)](/[^a-zA-Z]/g,'');case _0xf8ccf2[_0x2c6d5b(0x2e1)]['FormSkillSubmitForm']:return _0x2c6d5b(0x1e7)+_0xfffa00[_0x2c6d5b(0x687)][_0x2c6d5b(0x388)](/[^a-zA-Z]/g,'');default:return'';}}[_0x4d79c3(0x2db)](_0x1f8613){const _0xe62cab=_0x4d79c3;switch(_0x1f8613[_0xe62cab(0x572)]){case _0x3e5dd5['Agent']:case _0x3e5dd5[_0xe62cab(0x5d7)]:return'Execute\x20the\x20agent\x20'+_0x1f8613[_0xe62cab(0x471)]+_0xe62cab(0xa50);case _0x3e5dd5[_0xe62cab(0x5aa)]:return _0xe62cab(0x7c0)+_0x1f8613['description']+_0xe62cab(0xa50);case _0x3e5dd5['DataCollection']:case _0x3e5dd5[_0xe62cab(0x603)]:return _0xe62cab(0x5e7)+_0x1f8613[_0xe62cab(0x471)]+_0xe62cab(0xa8c);case _0x3e5dd5[_0xe62cab(0x597)]:return _0xe62cab(0x7b8)+_0x1f8613[_0xe62cab(0x471)];case _0x3e5dd5[_0xe62cab(0x8d)]:return _0xe62cab(0x138);case _0x3e5dd5[_0xe62cab(0x6a7)]:return _0xe62cab(0x96c);case _0x3e5dd5['Search']:return _0xe62cab(0x876);case _0x3e5dd5['WebScraper']:case _0x3e5dd5[_0xe62cab(0x269)]:return _0xe62cab(0xa41);case _0xf8ccf2['GenerativeAIInferenceToolType'][_0xe62cab(0x9d5)]:return'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.';case _0xf8ccf2[_0xe62cab(0x2e1)][_0xe62cab(0x637)]:return _0xe62cab(0x112);case _0xf8ccf2[_0xe62cab(0x2e1)][_0xe62cab(0x19c)]:return'Submit\x20the\x20form.';default:return'';}}[_0x4d79c3(0x5cb)](_0x46afb6){const _0x452b93=_0x4d79c3;switch(_0x46afb6[_0x452b93(0x572)]){case _0x3e5dd5['Agent']:case _0x3e5dd5[_0x452b93(0x5d7)]:case _0x3e5dd5['WorkflowTool']:return[{'name':_0x452b93(0x5ac),'type':'string'}];case _0x3e5dd5['DataCollection']:case _0x3e5dd5['Knowledge']:return[{'name':_0x452b93(0x631),'type':_0x452b93(0x2ae)}];case _0x3e5dd5[_0x452b93(0x597)]:return _0x46afb6[_0x452b93(0x6c6)][_0x452b93(0x384)](_0x1ddd98=>({'name':_0x1ddd98[_0x452b93(0x687)],'type':_0x1ddd98[_0x452b93(0x572)]??_0x452b93(0x2ae)}))??[];case _0x3e5dd5[_0x452b93(0x8d)]:return[{'name':_0x452b93(0x6f1),'type':_0x452b93(0x2ae)}];case _0x3e5dd5['Code']:return[{'name':'code','type':_0x452b93(0x2ae)}];case _0x3e5dd5[_0x452b93(0x29f)]:return[{'name':_0x452b93(0x6f1),'type':'string'}];case _0x3e5dd5['WebScraper']:case _0x3e5dd5[_0x452b93(0x269)]:return[{'name':_0x452b93(0x91b),'type':_0x452b93(0x2ae)},{'name':_0x452b93(0x356),'type':_0x452b93(0x15e)}];case _0xf8ccf2[_0x452b93(0x2e1)][_0x452b93(0x9d5)]:return[];case _0xf8ccf2['GenerativeAIInferenceToolType'][_0x452b93(0x637)]:return[{'name':'id','type':_0x452b93(0x2ae)},{'name':'answer','type':_0x452b93(0x2ae)}];case _0xf8ccf2[_0x452b93(0x2e1)][_0x452b93(0x19c)]:default:return[];}}}class _0x512104{[_0x4d79c3(0x941)];['options'];[_0x4d79c3(0xdc)]=new Map();[_0x4d79c3(0xa30)]=new Map();[_0x4d79c3(0x6f)]=new Map();[_0x4d79c3(0x951)]=new Map();[_0x4d79c3(0x7e1)]=new Map();[_0x4d79c3(0x888)]=new Map();[_0x4d79c3(0x81)]=new Map();['graphDatabases']=new Map();[_0x4d79c3(0x4ac)]=new Map();[_0x4d79c3(0x600)]=new Map();[_0x4d79c3(0x7c4)]=new Map();[_0x4d79c3(0x7f6)];constructor(_0x301f55,_0x530617){const _0x23ebe0=_0x4d79c3;this[_0x23ebe0(0x941)]=_0x301f55,this[_0x23ebe0(0x4db)]=_0x530617,this[_0x23ebe0(0x7f6)]=new _0x1c82d1(this[_0x23ebe0(0x941)][_0x23ebe0(0x5eb)],this[_0x23ebe0(0x941)][_0x23ebe0(0x5b6)]);}['close'](_0x2d05fd=!0x1){const _0x26e85a=_0x4d79c3;this[_0x26e85a(0xa30)][_0x26e85a(0x571)]((_0x2bdfa4,_0x419c5c)=>{_0x2bdfa4['forEach']((_0x175806,_0x6c1b9e)=>{const _0x2ae396=a0_0x50a3;this[_0x2ae396(0x177)](_0x419c5c,_0x6c1b9e);});}),_0x2d05fd||(_0xe69de1[_0x26e85a(0x2cb)](),this[_0x26e85a(0xdc)][_0x26e85a(0x571)]((_0x2437c5,_0x3dd789)=>{const _0x491e12=_0x26e85a;this[_0x491e12(0x223)](_0x3dd789);}),this[_0x26e85a(0x6f)][_0x26e85a(0x571)]((_0x2014aa,_0x2284b1)=>{const _0x41fc99=_0x26e85a;this[_0x41fc99(0x19a)](_0x2284b1);}),this['objectStores'][_0x26e85a(0x571)]((_0x4ef371,_0x3d809c)=>{const _0x1bfe1d=_0x26e85a;this[_0x1bfe1d(0x42d)](_0x3d809c);}),this[_0x26e85a(0x7e1)]['forEach']((_0x5bf1ef,_0x5b6927)=>{const _0x3fde18=_0x26e85a;this[_0x3fde18(0x313)](_0x5b6927);}),this[_0x26e85a(0x888)][_0x26e85a(0x571)]((_0x1037a8,_0x37cdd4)=>{const _0x263322=_0x26e85a;this[_0x263322(0x2a5)](_0x37cdd4);}),this['jobDispatchers'][_0x26e85a(0x571)]((_0x28e2e3,_0x42b2b9)=>{const _0x37f8d4=_0x26e85a;this[_0x37f8d4(0xb0)](_0x42b2b9);}),this['jobWorkers'][_0x26e85a(0x571)]((_0x275360,_0x3de54e)=>{this['removeJobWorker'](_0x3de54e);}),this[_0x26e85a(0x7c4)]['forEach']((_0x34efd5,_0x406681)=>{const _0xc3793d=_0x26e85a;this[_0xc3793d(0x5a9)](_0x406681);}),this[_0x26e85a(0x81)][_0x26e85a(0x571)]((_0x12b52f,_0x598469)=>{this['removeVectorDatabase'](_0x598469);}),this['graphDatabases'][_0x26e85a(0x571)]((_0x2cfc0b,_0x234826)=>{this['removeGraphDatabase'](_0x234826);}));}[_0x4d79c3(0x825)](_0x4bd247,_0x235a02,_0x128109){const _0x4b37b0=_0x4d79c3;if(this[_0x4b37b0(0x951)][_0x4b37b0(0x85)](_0x4bd247))throw new _0x322bb6(_0x4b1e43[_0x4b37b0(0x6d4)],_0x4b37b0(0x6ea));const _0x4ab6b6=new _0x1c6d6e(this[_0x4b37b0(0x941)][_0x4b37b0(0x3d8)],_0x4bd247,this[_0x4b37b0(0x941)][_0x4b37b0(0x5b6)],this[_0x4b37b0(0x941)][_0x4b37b0(0x5eb)],this[_0x4b37b0(0x7f6)],_0x235a02,()=>this[_0x4b37b0(0x941)][_0x4b37b0(0xd8)][_0x4b37b0(0x550)](),_0x128109);return this['objectStores']['set'](_0x4bd247,_0x4ab6b6),this[_0x4b37b0(0x941)][_0x4b37b0(0xd8)][_0x4b37b0(0x8fd)](_0x4ab6b6),_0x4ab6b6;}[_0x4d79c3(0x554)](_0x6381ca,_0x39959d){const _0x449b74=_0x4d79c3;if(this['objectStores'][_0x449b74(0x85)](_0x6381ca))throw new _0x322bb6(_0x4b1e43[_0x449b74(0x36e)],_0x449b74(0x46c));const _0x2dfea2=new _0x5a896d(this[_0x449b74(0x941)][_0x449b74(0x3d8)],_0x6381ca,this[_0x449b74(0x941)]['clusterId'],this[_0x449b74(0x941)][_0x449b74(0x5eb)],_0x39959d);return this[_0x449b74(0x7e1)][_0x449b74(0xb1)](_0x6381ca,_0x2dfea2),this[_0x449b74(0x941)]['mediator'][_0x449b74(0x8fd)](_0x2dfea2),_0x2dfea2;}async[_0x4d79c3(0x1d4)](_0x17950f,_0x65efa7,_0x45031b){const _0x1217e1=_0x4d79c3;if(this['keyValueDatabases'][_0x1217e1(0x85)](_0x17950f))throw new _0x322bb6(_0x4b1e43[_0x1217e1(0x125)],'Database\x20already\x20exists');try{const _0x25c7e2=this[_0x1217e1(0x941)]['mediator'][_0x1217e1(0x9f6)][_0x1217e1(0x1f5)](this[_0x1217e1(0x941)][_0x1217e1(0xd8)]),_0x1cdf18=new _0x47c68a(this[_0x1217e1(0x941)][_0x1217e1(0x3d8)],_0x17950f,this[_0x1217e1(0x941)][_0x1217e1(0x5b6)],this[_0x1217e1(0x941)][_0x1217e1(0x5eb)],_0x65efa7,_0x45031b,_0x25c7e2);return this['keyValueDatabases'][_0x1217e1(0xb1)](_0x17950f,_0x1cdf18),this[_0x1217e1(0x941)][_0x1217e1(0xd8)]['registerSystemSource'](_0x1cdf18),_0x1cdf18;}catch(_0x329444){if(_0x329444 instanceof _0x322bb6)throw _0x329444;throw new _0x25257a(_0x25257a['codes'][_0x1217e1(0x402)],{'label':_0x17950f,'clusterId':this['configs']['clusterId'],'vendorId':this['configs']['vendorId']});}}async['createJobDispatcher'](_0x392c70,_0x153a69){const _0x5e84b2=_0x4d79c3;if(this[_0x5e84b2(0x4ac)]['has'](_0x392c70))throw new _0x322bb6(_0x4b1e43[_0x5e84b2(0x926)],_0x5e84b2(0x708));try{const _0x37c823=new _0x510e07(this[_0x5e84b2(0x941)][_0x5e84b2(0x3d8)],_0x392c70,_0x153a69);return this['jobDispatchers']['set'](_0x392c70,_0x37c823),this['configs'][_0x5e84b2(0xd8)]['registerSystemSource'](_0x37c823),_0x37c823;}catch(_0x2d9891){if(_0x2d9891 instanceof _0x322bb6)throw _0x2d9891;throw new _0x25257a(_0x25257a[_0x5e84b2(0x6cc)]['JobDispatcherCreationFailed'],{'label':_0x392c70,'clusterId':this[_0x5e84b2(0x941)][_0x5e84b2(0x5b6)],'vendorId':this['configs']['vendorId']});}}async[_0x4d79c3(0x4cf)](_0x1bb50a,_0x571d11){const _0x2dcda6=_0x4d79c3;if(this[_0x2dcda6(0x4ac)]['has'](_0x1bb50a))throw new _0x322bb6(_0x4b1e43['GenerativeAIContextAlreadyExists'],_0x2dcda6(0x899));if(this[_0x2dcda6(0x600)]['has'](_0x1bb50a))throw new _0x322bb6(_0x4b1e43[_0x2dcda6(0x354)],_0x2dcda6(0x201));try{const _0x4b5fa6=new _0x43ca67(this['configs'][_0x2dcda6(0x3d8)],_0x1bb50a,this['configs'][_0x2dcda6(0x5eb)],_0x571d11);return this[_0x2dcda6(0x4ac)][_0x2dcda6(0xb1)](_0x1bb50a,_0x4b5fa6),this['configs'][_0x2dcda6(0xd8)][_0x2dcda6(0x8fd)](_0x4b5fa6),_0x4b5fa6;}catch(_0x47512a){if(_0x47512a instanceof _0x322bb6)throw _0x47512a;throw new _0x25257a(_0x25257a['codes'][_0x2dcda6(0x53b)],{'label':_0x1bb50a,'clusterId':this[_0x2dcda6(0x941)][_0x2dcda6(0x5b6)],'vendorId':this[_0x2dcda6(0x941)][_0x2dcda6(0x5eb)]});}}async['createGenerativeAIContextStandalone'](_0x4655ad,_0x525073,_0x32da04,_0x56bda8,_0x1da15e,_0x2ddc91,_0x38559c,_0x6252c8,_0x1bc25d,_0x45935f,_0x440714,_0x20aeb3){const _0x585eac=_0x4d79c3;if(this[_0x585eac(0x7c4)]['has'](_0x4655ad))throw new _0x322bb6(_0x4b1e43[_0x585eac(0x7b3)],'AI\x20Service\x20already\x20exists');if(this[_0x585eac(0x600)][_0x585eac(0x85)](_0x4655ad))throw new _0x322bb6(_0x4b1e43[_0x585eac(0x354)],_0x585eac(0x201));try{const _0x3578ba=new _0x5e9fac(this[_0x585eac(0x941)][_0x585eac(0x3d8)],_0x4655ad,this,_0x525073,_0x32da04,_0x56bda8,_0x1da15e,_0x2ddc91,_0x38559c,_0x6252c8,_0x1bc25d,_0x45935f,_0x440714,_0x20aeb3);return this['generativeAIContexts'][_0x585eac(0xb1)](_0x4655ad,_0x3578ba),this[_0x585eac(0x941)][_0x585eac(0xd8)][_0x585eac(0x8fd)](_0x3578ba),_0x3578ba;}catch(_0x8281aa){if(_0x8281aa instanceof _0x322bb6)throw _0x8281aa;throw new _0x25257a(_0x25257a[_0x585eac(0x6cc)][_0x585eac(0x53b)],{'label':_0x4655ad,'clusterId':this[_0x585eac(0x941)][_0x585eac(0x5b6)],'vendorId':this[_0x585eac(0x941)]['vendorId']});}}async[_0x4d79c3(0x790)](_0x61393,_0x30e519,_0x3fd42b,_0x6e8ac8,_0x2f386a,_0x1fc072,_0x4334d7,_0x35d9c6,_0x5c7eaf,_0x26fde8,_0x571c25,_0x150980,_0x50889b){const _0x2431ed=_0x4d79c3;if(this[_0x2431ed(0x600)][_0x2431ed(0x85)](_0x61393))throw new _0x322bb6(_0x4b1e43[_0x2431ed(0x5d4)],'AI\x20Worker\x20already\x20exists');if(this[_0x2431ed(0x4ac)][_0x2431ed(0x85)](_0x61393))throw new _0x322bb6(_0x4b1e43[_0x2431ed(0x354)],_0x2431ed(0x201));try{const _0x1b27df=new _0x30a269(this[_0x2431ed(0x941)][_0x2431ed(0x3d8)],_0x61393,_0x30e519,this,_0x3fd42b,_0x6e8ac8,_0x2f386a,_0x1fc072,_0x4334d7,_0x35d9c6,_0x5c7eaf,_0x26fde8,_0x571c25,_0x150980,_0x50889b);return this[_0x2431ed(0x600)][_0x2431ed(0xb1)](_0x61393,_0x1b27df),this[_0x2431ed(0x941)][_0x2431ed(0xd8)][_0x2431ed(0x8fd)](_0x1b27df),_0x1b27df;}catch(_0x2137b5){if(_0x2137b5 instanceof _0x322bb6)throw _0x2137b5;throw new _0x25257a(_0x25257a[_0x2431ed(0x6cc)][_0x2431ed(0x713)],{'label':_0x61393,'clusterId':this[_0x2431ed(0x941)][_0x2431ed(0x5b6)],'vendorId':this[_0x2431ed(0x941)][_0x2431ed(0x5eb)]});}}[_0x4d79c3(0x115)](_0x3cd77b,_0x15afe7){const _0x515ab7=_0x4d79c3;if(this[_0x515ab7(0x720)][_0x515ab7(0x85)](_0x3cd77b))throw new _0x322bb6(_0x4b1e43['GraphDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x22f153=new _0x2a06a6(this[_0x515ab7(0x941)]['localNode'],_0x3cd77b,this['configs'][_0x515ab7(0x5b6)],this[_0x515ab7(0x941)][_0x515ab7(0x5eb)],_0x15afe7);return this[_0x515ab7(0x720)][_0x515ab7(0xb1)](_0x3cd77b,_0x22f153),this['configs'][_0x515ab7(0xd8)][_0x515ab7(0x8fd)](_0x22f153),_0x22f153;}catch(_0x263104){if(_0x263104 instanceof _0x322bb6)throw _0x263104;throw new _0x25257a(_0x25257a[_0x515ab7(0x6cc)]['GraphDatabaseCreationFailed'],{'label':_0x3cd77b,'clusterId':this['configs'][_0x515ab7(0x5b6)],'vendorId':this[_0x515ab7(0x941)]['vendorId']});}}[_0x4d79c3(0x8fa)](_0x29354,_0x423907){const _0x183209=_0x4d79c3;if(this[_0x183209(0xdc)]['has'](_0x29354))throw new _0x322bb6(_0x4b1e43[_0x183209(0x726)],_0x183209(0x7d1));if(!this[_0x183209(0x4db)][_0x183209(0xa32)])throw new _0x322bb6(_0x4b1e43['LocalMediaStreamNoAudioContext'],'AudioContext\x20is\x20not\x20available');const _0x29cfd3=new _0x483e8e(this[_0x183209(0x941)][_0x183209(0x3d8)],_0x29354,_0x423907,this['options'][_0x183209(0x6ef)],this['options'][_0x183209(0xa32)],this[_0x183209(0x941)][_0x183209(0x5b6)]);return this[_0x183209(0xdc)][_0x183209(0xb1)](_0x29354,_0x29cfd3),this[_0x183209(0x941)]['mediator'][_0x183209(0x8fd)](_0x29cfd3),_0x29cfd3[_0x183209(0x758)](),_0x29cfd3;}[_0x4d79c3(0x760)](_0x425196,_0x42d2e9){const _0x4314ec=_0x4d79c3;if(this['localMediaStreams'][_0x4314ec(0x85)](_0x425196))throw new _0x322bb6(_0x4b1e43['LocalMediaStreamAlreadyExists'],'Stream\x20already\x20exists');const _0x384805=new _0x57ce7a(this['configs'][_0x4314ec(0x3d8)],_0x425196,_0x42d2e9,this[_0x4314ec(0x941)]['clusterId']);return this['localMediaStreams'][_0x4314ec(0xb1)](_0x425196,_0x384805),this[_0x4314ec(0x941)]['mediator'][_0x4314ec(0x8fd)](_0x384805),_0x384805[_0x4314ec(0x758)](),_0x384805;}[_0x4d79c3(0x9e8)](_0x472b72){const _0x52170f=_0x4d79c3;if(this['pubSubTopics']['has'](_0x472b72))throw new _0x322bb6(_0x4b1e43['PubSubTopicAlreadyExists'],_0x52170f(0xa23));const _0x76d003=new _0xecd349(this['configs'][_0x52170f(0x3d8)],_0x472b72,this[_0x52170f(0x941)]['clusterId']);return this[_0x52170f(0x6f)][_0x52170f(0xb1)](_0x472b72,_0x76d003),this['configs']['mediator'][_0x52170f(0x8fd)](_0x76d003),_0x76d003;}[_0x4d79c3(0xa15)](_0x4b85aa,_0xca9869,_0x49c185,_0xe5779a){const _0x306b00=_0x4d79c3;this[_0x306b00(0xa30)][_0x306b00(0x85)](_0x4b85aa)||this['remoteMediaStreams']['set'](_0x4b85aa,new Map());const _0x5def1e=this[_0x306b00(0xa30)]['get'](_0x4b85aa);if(_0x5def1e[_0x306b00(0x85)](_0xca9869))throw new _0x322bb6(_0x4b1e43[_0x306b00(0xb3)],_0x306b00(0x27b));const _0x220f94=new _0x2bb602(_0x4b85aa,'',''),_0x5870d1=new _0x248a14(this[_0x306b00(0x941)][_0x306b00(0x3d8)],_0x220f94,_0xca9869,_0x49c185,_0xe5779a,this[_0x306b00(0x941)][_0x306b00(0x5b6)]);return _0x5def1e[_0x306b00(0xb1)](_0xca9869,_0x5870d1),this[_0x306b00(0x941)]['mediator'][_0x306b00(0x8fd)](_0x5870d1),_0x5870d1;}['createVectorDatabase'](_0x40a93b,_0x3a37f0){const _0x208362=_0x4d79c3;if(this['vectorDatabases'][_0x208362(0x85)](_0x40a93b))throw new _0x322bb6(_0x4b1e43[_0x208362(0x2f2)],_0x208362(0xc7));try{const _0x1f1944=new _0x43ab4f(this[_0x208362(0x941)]['localNode'],_0x40a93b,this[_0x208362(0x941)]['clusterId'],this[_0x208362(0x941)][_0x208362(0x5eb)],_0x3a37f0);return this[_0x208362(0x81)][_0x208362(0xb1)](_0x40a93b,_0x1f1944),this[_0x208362(0x941)][_0x208362(0xd8)][_0x208362(0x8fd)](_0x1f1944),_0x1f1944;}catch(_0x5e20a2){if(_0x5e20a2 instanceof _0x322bb6)throw _0x5e20a2;throw new _0x25257a(_0x25257a[_0x208362(0x6cc)][_0x208362(0x6ba)],{'label':_0x40a93b,'clusterId':this[_0x208362(0x941)]['clusterId'],'vendorId':this[_0x208362(0x941)][_0x208362(0x5eb)]});}}['getObjectStoreBuckets'](_0x47ba21){const _0x4b3581=_0x4d79c3,_0x4b31fd=Array['from'](this[_0x4b3581(0x951)]['values']());return _0x47ba21?_0x4b31fd[_0x4b3581(0x70d)](_0x47ba21):_0x4b31fd;}['getExternalStorageConnections'](_0x35f546){const _0x552e3e=_0x4d79c3,_0x1fe99f=Array[_0x552e3e(0x46f)](this[_0x552e3e(0x7e1)]['values']());return _0x35f546?_0x1fe99f[_0x552e3e(0x70d)](_0x35f546):_0x1fe99f;}[_0x4d79c3(0x557)](_0x50817e){const _0x4a0bdb=_0x4d79c3,_0x2e11e6=Array['from'](this['keyValueDatabases'][_0x4a0bdb(0x3c7)]());return _0x50817e?_0x2e11e6[_0x4a0bdb(0x70d)](_0x50817e):_0x2e11e6;}[_0x4d79c3(0x8b2)](_0x2eb5f9){const _0xefd740=_0x4d79c3,_0x491d24=Array[_0xefd740(0x46f)](this[_0xefd740(0x4ac)]['values']());return _0x2eb5f9?_0x491d24[_0xefd740(0x70d)](_0x2eb5f9):_0x491d24;}['getJobWorkers'](_0x1bd04f){const _0x15c67a=_0x4d79c3,_0x413f7e=Array[_0x15c67a(0x46f)](this['jobWorkers']['values']());return _0x1bd04f?_0x413f7e[_0x15c67a(0x70d)](_0x1bd04f):_0x413f7e;}['getGenerativeAIContexts'](_0x1338bd){const _0x163bab=_0x4d79c3,_0x56245d=Array[_0x163bab(0x46f)](this[_0x163bab(0x4ac)][_0x163bab(0x3c7)]())[_0x163bab(0x70d)](_0x276855=>_0x276855 instanceof _0x43ca67);return _0x1338bd?_0x56245d[_0x163bab(0x70d)](_0x1338bd):_0x56245d;}[_0x4d79c3(0x465)](_0x893b47){const _0x29f9f5=_0x4d79c3,_0x148d9d=Array[_0x29f9f5(0x46f)](this[_0x29f9f5(0x7c4)][_0x29f9f5(0x3c7)]());return _0x893b47?_0x148d9d[_0x29f9f5(0x70d)](_0x893b47):_0x148d9d;}[_0x4d79c3(0x13c)](_0x23c9e7){const _0x17dcfe=_0x4d79c3,_0x2cc3f3=Array[_0x17dcfe(0x46f)](this[_0x17dcfe(0x600)][_0x17dcfe(0x3c7)]())['filter'](_0x3e6470=>_0x3e6470 instanceof _0x30a269);return _0x23c9e7?_0x2cc3f3[_0x17dcfe(0x70d)](_0x23c9e7):_0x2cc3f3;}[_0x4d79c3(0xa77)](_0x4ef697){const _0x5b2ab8=_0x4d79c3,_0x430389=Array[_0x5b2ab8(0x46f)](this[_0x5b2ab8(0x720)][_0x5b2ab8(0x3c7)]());return _0x4ef697?_0x430389[_0x5b2ab8(0x70d)](_0x4ef697):_0x430389;}[_0x4d79c3(0x4de)](_0x1c2f55){const _0x5d4e4c=_0x4d79c3,_0x2a0ce4=Array[_0x5d4e4c(0x46f)](this[_0x5d4e4c(0xdc)]['values']());return _0x1c2f55?_0x2a0ce4['filter'](_0x1c2f55):_0x2a0ce4;}[_0x4d79c3(0x2f8)](_0x1e7d60){const _0x3ddbda=_0x4d79c3,_0x2e4bb=Array['from'](this[_0x3ddbda(0x6f)][_0x3ddbda(0x3c7)]());return _0x1e7d60?_0x2e4bb['filter'](_0x1e7d60):_0x2e4bb;}[_0x4d79c3(0x6bc)](_0x25dd2f){const _0x3bead8=_0x4d79c3,_0x169bf0=Array[_0x3bead8(0x46f)](this[_0x3bead8(0xa30)][_0x3bead8(0x3c7)]())['reduce']((_0x3f01dc,_0x4a9eb6)=>[..._0x3f01dc,...Array[_0x3bead8(0x46f)](_0x4a9eb6[_0x3bead8(0x3c7)]())],[]);return _0x25dd2f?_0x169bf0['filter'](_0x25dd2f):_0x169bf0;}['getVectorDatabases'](_0x57e54f){const _0x1a6d6=_0x4d79c3,_0x254fa9=Array['from'](this[_0x1a6d6(0x81)][_0x1a6d6(0x3c7)]());return _0x57e54f?_0x254fa9[_0x1a6d6(0x70d)](_0x57e54f):_0x254fa9;}[_0x4d79c3(0x1af)](_0x3299b){const _0x18f8eb=_0x4d79c3,_0x8fddc1=this['objectStores'][_0x18f8eb(0x2d3)](_0x3299b);if(!_0x8fddc1)throw new _0x322bb6(_0x4b1e43[_0x18f8eb(0x8a2)],_0x18f8eb(0x8e8));return _0x8fddc1;}[_0x4d79c3(0x464)](_0x439c62){const _0xfc7d11=_0x4d79c3,_0x102a10=_0x439c62[_0xfc7d11(0x101)]('-'),_0x18ac5e=this['externalStorageConnections']['get'](_0x102a10[0x1]);if(!_0x18ac5e)throw new _0x322bb6(_0x4b1e43['ExternalStorageConnectionDoesNotExist'],'ExternalStorageConnection\x20not\x20found');return _0x18ac5e;}[_0x4d79c3(0x4c3)](_0x3d7b7b){const _0x885038=_0x4d79c3,_0x3b59f1=this['graphDatabases']['get'](_0x3d7b7b);if(!_0x3b59f1)throw new _0x322bb6(_0x4b1e43[_0x885038(0xa6b)],_0x885038(0x891));return _0x3b59f1;}['getKeyValueDatabase'](_0x248108){const _0x206883=_0x4d79c3,_0x22215a=this['keyValueDatabases']['get'](_0x248108);if(!_0x22215a)throw new _0x322bb6(_0x4b1e43['KeyValueDatabaseDoesNotExist'],_0x206883(0x8b6));return _0x22215a;}[_0x4d79c3(0x157)](_0x4bf5e0){const _0x2b2fe4=_0x4d79c3,_0x3a6621=this[_0x2b2fe4(0x6f)][_0x2b2fe4(0x2d3)](_0x4bf5e0);if(!_0x3a6621)throw new _0x322bb6(_0x4b1e43[_0x2b2fe4(0x3dd)],_0x2b2fe4(0x3ba));return _0x3a6621;}[_0x4d79c3(0x16c)](_0x597793){const _0x6b38c6=_0x4d79c3,_0xbf82db=this[_0x6b38c6(0x81)][_0x6b38c6(0x2d3)](_0x597793);if(!_0xbf82db)throw new _0x322bb6(_0x4b1e43[_0x6b38c6(0x64e)],_0x6b38c6(0x7ec));return _0xbf82db;}[_0x4d79c3(0x8ea)](_0x52a22b){const _0x275f13=_0x4d79c3;switch(_0x52a22b[_0x275f13(0x898)][_0x275f13(0x572)]){case _0x4fa1d5['PublishMediaStream']:this[_0x275f13(0x871)](_0x52a22b[_0x275f13(0x898)]);break;case _0x4fa1d5['UnpublishMediaStream']:this[_0x275f13(0x910)](_0x52a22b['content']);break;case _0x4fa1d5[_0x275f13(0x86c)]:this[_0x275f13(0xb0)](_0x52a22b[_0x275f13(0x898)]['label']);break;case _0x4fa1d5[_0x275f13(0x73e)]:this[_0x275f13(0x567)](_0x52a22b[_0x275f13(0x898)]['label']);break;case _0x4fa1d5[_0x275f13(0xa40)]:this[_0x275f13(0x5a9)](_0x52a22b[_0x275f13(0x898)][_0x275f13(0x9d4)]);break;case _0x4fa1d5[_0x275f13(0x344)]:this[_0x275f13(0x223)](_0x52a22b[_0x275f13(0x898)]['label']);break;case _0x4fa1d5[_0x275f13(0x124)]:this[_0x275f13(0x19a)](_0x52a22b[_0x275f13(0x898)]['label']);break;case _0x4fa1d5['CloseObjectStoreBucket']:this[_0x275f13(0x42d)](_0x52a22b[_0x275f13(0x898)]['label']);break;case _0x4fa1d5[_0x275f13(0x5f5)]:this[_0x275f13(0x313)](_0x52a22b['content'][_0x275f13(0x9d4)]);break;case _0x4fa1d5['CloseKeyValueDatabase']:this['removeKeyValueDatabase'](_0x52a22b['content'][_0x275f13(0x9d4)]);break;case _0x4fa1d5[_0x275f13(0x77d)]:this[_0x275f13(0x89a)](_0x52a22b[_0x275f13(0x898)][_0x275f13(0x9d4)]);break;case _0x4fa1d5['CloseGraphDatabase']:this[_0x275f13(0x755)](_0x52a22b['content']['label']);break;case _0x4fa1d5[_0x275f13(0x829)]:this[_0x275f13(0x766)](_0x52a22b[_0x275f13(0x898)]);break;case _0x4fa1d5[_0x275f13(0xa78)]:this[_0x275f13(0x888)][_0x275f13(0x2d3)](_0x52a22b['content'][_0x275f13(0x9d4)])?.['answerContentAvailable'](_0x52a22b[_0x275f13(0x19b)],_0x52a22b[_0x275f13(0x898)]['mmrRoot']);break;case _0x4fa1d5['KeyValueDatabaseContentSynchronized']:this[_0x275f13(0x888)][_0x275f13(0x2d3)](_0x52a22b[_0x275f13(0x898)][_0x275f13(0x9d4)])?.[_0x275f13(0x5ed)](_0x52a22b[_0x275f13(0x19b)],_0x52a22b[_0x275f13(0x898)]['mmrRoot']);break;case _0x4fa1d5[_0x275f13(0x3c5)]:this['keyValueDatabases'][_0x275f13(0x2d3)](_0x52a22b[_0x275f13(0x898)][_0x275f13(0x9d4)])?.[_0x275f13(0x2a4)](_0x52a22b[_0x275f13(0x19b)],_0x52a22b[_0x275f13(0x898)][_0x275f13(0x559)]);break;case _0x4fa1d5[_0x275f13(0x449)]:this['keyValueDatabases']['get'](_0x52a22b['content'][_0x275f13(0x9d4)])?.[_0x275f13(0xa67)](_0x52a22b['sourceId'],_0x52a22b['content'][_0x275f13(0x3f4)]);break;case _0x4fa1d5[_0x275f13(0x904)]:this['keyValueDatabases'][_0x275f13(0x2d3)](_0x52a22b['content'][_0x275f13(0x9d4)])?.['sendTransactionsValue'](_0x52a22b[_0x275f13(0x19b)],_0x52a22b[_0x275f13(0x898)][_0x275f13(0x4ed)]);break;case _0x4fa1d5[_0x275f13(0x176)]:this[_0x275f13(0x888)][_0x275f13(0x2d3)](_0x52a22b[_0x275f13(0x898)]['label'])?.[_0x275f13(0x67f)](_0x52a22b[_0x275f13(0x19b)],_0x52a22b[_0x275f13(0x898)][_0x275f13(0x4ea)]);break;case _0x4fa1d5[_0x275f13(0x645)]:this[_0x275f13(0x941)]['mediator'][_0x275f13(0xaa4)](_0x275f13(0x9c2),{'label':_0x52a22b['content'][_0x275f13(0x9d4)],'trackKinds':_0x52a22b[_0x275f13(0x898)][_0x275f13(0x962)]});}}[_0x4d79c3(0x44a)]({content:_0x867e1e}){const _0x18d147=_0x4d79c3;switch(_0x867e1e[_0x18d147(0x572)]){case _0x37cca2['NodeJoin']:this[_0x18d147(0x1b3)](_0x867e1e),this[_0x18d147(0x542)](_0x867e1e);break;case _0x37cca2[_0x18d147(0x4a4)]:this[_0x18d147(0xa20)](_0x867e1e),this[_0x18d147(0x75)](_0x867e1e);}}['handleSubscriptionSystemEvents'](_0x1586e9){const _0x5db19f=_0x4d79c3;switch(_0x1586e9[_0x5db19f(0x898)]['type']){case _0x4cf11e['SubscribeMediaStream']:this[_0x5db19f(0x874)](_0x1586e9[_0x5db19f(0x19b)],_0x1586e9[_0x5db19f(0x898)]);break;case _0x4cf11e[_0x5db19f(0x477)]:this[_0x5db19f(0x144)](_0x1586e9[_0x5db19f(0x19b)],_0x1586e9[_0x5db19f(0x898)]);break;case _0x4cf11e[_0x5db19f(0x829)]:this[_0x5db19f(0x54e)](_0x1586e9[_0x5db19f(0x19b)],_0x1586e9[_0x5db19f(0x898)]);}}['handleContentUnsubscribeMediaStream'](_0x3af5d4){const _0x426797=_0x4d79c3;if(0x0===_0x3af5d4[_0x426797(0x10f)])this[_0x426797(0xa30)][_0x426797(0x2d3)](_0x3af5d4[_0x426797(0x6fa)])?.['get'](_0x3af5d4[_0x426797(0x9d4)])?.[_0x426797(0x7b4)]();else{const _0x2d5754=this[_0x426797(0xa30)][_0x426797(0x2d3)](_0x3af5d4['ownerId'])?.[_0x426797(0x2d3)](_0x3af5d4[_0x426797(0x9d4)]);if(!_0x2d5754)return;_0x3af5d4[_0x426797(0x962)]['forEach'](_0x3598db=>_0x2d5754[_0x426797(0x9fa)](_0x3598db));}}[_0x4d79c3(0x871)](_0x11034b){const _0x576b47=_0x4d79c3,{label:_0x213b51,ownerId:_0x3a37f6,stream:{streamId:_0x4fcaaf,availableTrackKinds:_0x14cf94}}=_0x11034b;if(this['remoteMediaStreams'][_0x576b47(0x2d3)](_0x3a37f6)?.[_0x576b47(0x85)](_0x213b51))return void _0x10d8cb[_0x576b47(0x3bc)](_0x44f26b[_0x576b47(0x2ca)],'Stream\x20already\x20exists',_0x4fcaaf);const _0x339b56=this['createRemoteMediaStream'](_0x3a37f6,_0x213b51,_0x4fcaaf,_0x14cf94);this[_0x576b47(0x941)][_0x576b47(0xd8)][_0x576b47(0xaa4)](_0x576b47(0x8be),{'ownerId':_0x3a37f6,'stream':_0x339b56});}['handleUnpublishMediaStream']({ownerId:_0x2005f1,label:_0x3799ba}){const _0x297aae=_0x4d79c3;this['removeRemoteMediaStream'](_0x2005f1,_0x3799ba),this[_0x297aae(0x941)][_0x297aae(0xd8)][_0x297aae(0xaa4)](_0x297aae(0x846),{'ownerId':_0x2005f1,'label':_0x3799ba});}['handleSubscribeMediaStream'](_0x5e1f47,_0x4afaa1){const _0x275d97=_0x4d79c3,{ownerId:_0x42c8e6,label:_0x3eddd6}=_0x4afaa1;let _0x273491;_0x273491=_0x42c8e6!==this['configs'][_0x275d97(0x3d8)]['getId']()?this['remoteMediaStreams'][_0x275d97(0x2d3)](_0x42c8e6)[_0x275d97(0x2d3)](_0x3eddd6):this[_0x275d97(0xdc)][_0x275d97(0x2d3)](_0x3eddd6),_0x273491[_0x275d97(0x1ae)](_0x5e1f47,_0x4afaa1[_0x275d97(0x521)])['subscribe'](_0x4afaa1,_0x273491[_0x275d97(0x90c)]());}[_0x4d79c3(0x144)](_0x3e4b5c,_0x5eab1c){const _0x1f5326=_0x4d79c3,{ownerId:_0x7a5d0c,label:_0x4718fa}=_0x5eab1c;let _0x5434b6;_0x5434b6=_0x7a5d0c!==this[_0x1f5326(0x941)][_0x1f5326(0x3d8)][_0x1f5326(0x970)]()?this['remoteMediaStreams'][_0x1f5326(0x2d3)](_0x7a5d0c)['get'](_0x4718fa):this[_0x1f5326(0xdc)][_0x1f5326(0x2d3)](_0x4718fa),_0x5434b6['getShareableStream'](_0x3e4b5c,_0x5eab1c[_0x1f5326(0x521)])[_0x1f5326(0x63e)](_0x5eab1c);}['handleUnsubscribeMediaStream'](_0x3881ea,_0x9cb2b7){const _0x210e61=_0x4d79c3,{ownerId:_0x2bf789,label:_0xcc1c3}=_0x9cb2b7;let _0x13115d;_0x13115d=_0x2bf789!==this[_0x210e61(0x941)][_0x210e61(0x3d8)]['getId']()?this[_0x210e61(0xa30)]['get'](_0x2bf789)[_0x210e61(0x2d3)](_0xcc1c3):this[_0x210e61(0xdc)][_0x210e61(0x2d3)](_0xcc1c3),_0x13115d['getShareableStream'](_0x3881ea)[_0x210e61(0x5fc)](_0x9cb2b7);}['handleNodeJoinNeedPublishedStream']({id:_0x3be053}){const _0x1a66cb=_0x4d79c3;this[_0x1a66cb(0x4de)]()[_0x1a66cb(0x571)](_0x2e3e7e=>{_0x2e3e7e['publish'](_0x3be053);});}[_0x4d79c3(0xa20)]({id:_0x4befe5}){const _0x223f6a=_0x4d79c3;this[_0x223f6a(0x6bc)](_0x34f45d=>_0x34f45d['getOwnerId']()===_0x4befe5)[_0x223f6a(0x571)](_0x4c1942=>{const _0x587fdd=_0x223f6a;this['removeRemoteMediaStream'](_0x4c1942[_0x587fdd(0x351)](),_0x4c1942['getLabel']());});}['notifyObjectStoreOfNodeJoin']({id:_0x5e8fdf}){const _0x45f430=_0x4d79c3;this[_0x45f430(0x951)][_0x45f430(0x571)](_0x4b9749=>_0x4b9749[_0x45f430(0x9ec)](_0x5e8fdf));}['notifyObjectStoreOfNodeLeave']({id:_0x3ee469}){const _0x3bde96=_0x4d79c3;this[_0x3bde96(0x951)][_0x3bde96(0x571)](_0x55056a=>_0x55056a[_0x3bde96(0xa20)](_0x3ee469));}['removeJobDispatcher'](_0x395089){const _0x1b9538=_0x4d79c3;if(!this[_0x1b9538(0x4ac)][_0x1b9538(0x85)](_0x395089))throw new _0x322bb6(_0x4b1e43[_0x1b9538(0x8ed)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x2c0478=this[_0x1b9538(0x4ac)]['get'](_0x395089);this[_0x1b9538(0x4ac)][_0x1b9538(0x86a)](_0x395089),_0x2c0478[_0x1b9538(0x7b4)](),this['configs'][_0x1b9538(0xd8)][_0x1b9538(0x7a2)](_0x2c0478);}[_0x4d79c3(0x567)](_0x435ed6){const _0x17505c=_0x4d79c3;if(!this[_0x17505c(0x600)][_0x17505c(0x85)](_0x435ed6))throw new _0x322bb6(_0x4b1e43[_0x17505c(0x798)],_0x17505c(0x382));const _0x2a7342=this[_0x17505c(0x600)][_0x17505c(0x2d3)](_0x435ed6);this['jobWorkers'][_0x17505c(0x86a)](_0x435ed6),_0x2a7342[_0x17505c(0x7b4)](),this['configs'][_0x17505c(0xd8)][_0x17505c(0x7a2)](_0x2a7342);}[_0x4d79c3(0x5a9)](_0xdeac46){const _0x2f32f8=_0x4d79c3;if(!this[_0x2f32f8(0x7c4)][_0x2f32f8(0x85)](_0xdeac46))throw new _0x322bb6(_0x4b1e43[_0x2f32f8(0xa7)],_0x2f32f8(0x123));const _0x1dc31a=this[_0x2f32f8(0x7c4)]['get'](_0xdeac46);this[_0x2f32f8(0x7c4)][_0x2f32f8(0x86a)](_0xdeac46),this['configs']['mediator']['unregisterSystemSource'](_0x1dc31a);}[_0x4d79c3(0x42d)](_0x460903){const _0x42c4eb=_0x4d79c3;if(!this[_0x42c4eb(0x951)][_0x42c4eb(0x85)](_0x460903))throw new _0x322bb6(_0x4b1e43[_0x42c4eb(0x8a2)],_0x42c4eb(0x36b));const _0x1c41f2=this[_0x42c4eb(0x951)]['get'](_0x460903);this[_0x42c4eb(0x951)][_0x42c4eb(0x86a)](_0x460903),_0x1c41f2[_0x42c4eb(0x7b4)](),this[_0x42c4eb(0x941)][_0x42c4eb(0xd8)]['unregisterSystemSource'](_0x1c41f2);}[_0x4d79c3(0x313)](_0x3f1b09){const _0x367e1a=_0x4d79c3;if(!this[_0x367e1a(0x7e1)]['has'](_0x3f1b09))throw new _0x322bb6(_0x4b1e43[_0x367e1a(0x3df)],_0x367e1a(0x1f3));const _0x2d0813=this[_0x367e1a(0x7e1)][_0x367e1a(0x2d3)](_0x3f1b09);this[_0x367e1a(0x7e1)][_0x367e1a(0x86a)](_0x3f1b09),_0x2d0813['destroy'](),this[_0x367e1a(0x941)]['mediator'][_0x367e1a(0x7a2)](_0x2d0813);}[_0x4d79c3(0x19a)](_0x27ed5d){const _0x407ca7=_0x4d79c3;if(!this['pubSubTopics'][_0x407ca7(0x85)](_0x27ed5d))throw new _0x322bb6(_0x4b1e43[_0x407ca7(0x3dd)],'Stream\x20does\x20not\x20exist');const _0x39bca9=this[_0x407ca7(0x6f)][_0x407ca7(0x2d3)](_0x27ed5d);this['pubSubTopics'][_0x407ca7(0x86a)](_0x27ed5d),_0x39bca9['destroy'](),this[_0x407ca7(0x941)][_0x407ca7(0xd8)]['unregisterSystemSource'](_0x39bca9);}[_0x4d79c3(0x2a5)](_0x41c4b7){const _0xaed0cd=_0x4d79c3;if(!this[_0xaed0cd(0x888)][_0xaed0cd(0x85)](_0x41c4b7))throw new _0x322bb6(_0x4b1e43[_0xaed0cd(0x4d7)],_0xaed0cd(0x756));const _0x9fc24=this[_0xaed0cd(0x888)][_0xaed0cd(0x2d3)](_0x41c4b7);this[_0xaed0cd(0x888)][_0xaed0cd(0x86a)](_0x41c4b7),_0x9fc24['destroy'](),this[_0xaed0cd(0x941)]['mediator'][_0xaed0cd(0x7a2)](_0x9fc24);}[_0x4d79c3(0x89a)](_0x1027a3){const _0x178fce=_0x4d79c3;if(!this[_0x178fce(0x81)][_0x178fce(0x85)](_0x1027a3))throw new _0x322bb6(_0x4b1e43[_0x178fce(0x64e)],'Database\x20does\x20not\x20exist');const _0x4a7aac=this[_0x178fce(0x81)][_0x178fce(0x2d3)](_0x1027a3);this[_0x178fce(0x81)][_0x178fce(0x86a)](_0x1027a3),_0x4a7aac[_0x178fce(0x7b4)](),this['configs'][_0x178fce(0xd8)][_0x178fce(0x7a2)](_0x4a7aac);}['removeGraphDatabase'](_0x386fa1){const _0x110c15=_0x4d79c3;if(!this[_0x110c15(0x720)][_0x110c15(0x85)](_0x386fa1))throw new _0x322bb6(_0x4b1e43[_0x110c15(0xa6b)],_0x110c15(0x756));const _0x553ccb=this['graphDatabases'][_0x110c15(0x2d3)](_0x386fa1);this['graphDatabases'][_0x110c15(0x86a)](_0x386fa1),_0x553ccb[_0x110c15(0x7b4)](),this[_0x110c15(0x941)]['mediator']['unregisterSystemSource'](_0x553ccb);}[_0x4d79c3(0x223)](_0x5b168f){const _0x4ba296=_0x4d79c3;if(!this['localMediaStreams'][_0x4ba296(0x85)](_0x5b168f))throw new _0x25257a(_0x25257a['codes'][_0x4ba296(0x3d0)],{'label':_0x5b168f,'localId':this['configs']['localNode'][_0x4ba296(0x970)]()});const _0x17bd69=this[_0x4ba296(0xdc)][_0x4ba296(0x2d3)](_0x5b168f);this[_0x4ba296(0x941)][_0x4ba296(0xd8)][_0x4ba296(0x7a2)](_0x17bd69),_0x17bd69[_0x4ba296(0x7b4)](),this[_0x4ba296(0xdc)]['delete'](_0x5b168f);}[_0x4d79c3(0x177)](_0x24c7e7,_0x485dc8){const _0x58aa8d=_0x4d79c3;if(!this[_0x58aa8d(0xa30)][_0x58aa8d(0x85)](_0x24c7e7))throw new _0x25257a(_0x25257a['codes'][_0x58aa8d(0x1ea)],{'nodeId':_0x24c7e7,'localId':this['configs'][_0x58aa8d(0x3d8)][_0x58aa8d(0x970)]()});const _0x44da3e=this[_0x58aa8d(0xa30)][_0x58aa8d(0x2d3)](_0x24c7e7);if(!_0x44da3e[_0x58aa8d(0x85)](_0x485dc8))throw new _0x25257a(_0x25257a['codes'][_0x58aa8d(0x65d)],{'nodeId':_0x24c7e7,'label':_0x485dc8,'localId':this[_0x58aa8d(0x941)][_0x58aa8d(0x3d8)][_0x58aa8d(0x970)]()});const _0x5d8636=_0x44da3e[_0x58aa8d(0x2d3)](_0x485dc8);this[_0x58aa8d(0x941)][_0x58aa8d(0xd8)][_0x58aa8d(0x7a2)](_0x5d8636),_0x5d8636[_0x58aa8d(0x7b4)](),_0x44da3e[_0x58aa8d(0x86a)](_0x485dc8);}}var _0x3d6f73,_0x5a89e4,_0x425442;!function(_0x207dc0){const _0x3a5dc2=_0x4d79c3;_0x207dc0[_0x3a5dc2(0x3f9)]='st_volatility',_0x207dc0['DTVolatility']='dt_volatility',_0x207dc0[_0x3a5dc2(0x355)]=_0x3a5dc2(0x4da),_0x207dc0[_0x3a5dc2(0x6f4)]=_0x3a5dc2(0x2c9),_0x207dc0[_0x3a5dc2(0xa8e)]=_0x3a5dc2(0x6cd),_0x207dc0[_0x3a5dc2(0x2b3)]=_0x3a5dc2(0xa9b),_0x207dc0[_0x3a5dc2(0x99)]='rtt',_0x207dc0[_0x3a5dc2(0x748)]=_0x3a5dc2(0x4d1);}(_0x3d6f73||(_0x3d6f73={})),function(_0x215dd9){const _0x5c4344=_0x4d79c3;_0x215dd9[_0x5c4344(0xa83)]='cpu.cycle',_0x215dd9['TimePerFrame']=_0x5c4344(0x867),_0x215dd9[_0x5c4344(0x748)]=_0x5c4344(0x3d3),_0x215dd9[_0x5c4344(0x2b3)]=_0x5c4344(0x2d0),_0x215dd9['Bitrate']=_0x5c4344(0x835),_0x215dd9[_0x5c4344(0xa8e)]=_0x5c4344(0x283),_0x215dd9[_0x5c4344(0x99)]='bandwidth.rtt';}(_0x5a89e4||(_0x5a89e4={})),function(_0x1675f2){const _0x172f4d=_0x4d79c3;_0x1675f2[_0x1675f2[_0x172f4d(0x979)]=0x0]=_0x172f4d(0x979);}(_0x425442||(_0x425442={}));const _0x53132b=[{'type':_0x3d6f73['STVolatility'],'reportMetric':_0x283f44=>_0x283f44[_0x4d79c3(0x3f9)],'maxThreshold':2.5},{'type':_0x3d6f73[_0x4d79c3(0x2a7)],'reportMetric':_0x520b97=>_0x520b97[_0x4d79c3(0x2a7)],'maxThreshold':0.5}],_0x3d84ed=[{'type':_0x3d6f73[_0x4d79c3(0x355)],'reportMetric':_0x4c3ed1=>{const _0x47543d=_0x4d79c3,_0x255f6d=0x3e8/_0x4c3ed1[_0x47543d(0x5fb)];return _0x4c3ed1[_0x47543d(0x5c5)]/_0x255f6d;},'maxThreshold':0.75},{'type':_0x3d6f73[_0x4d79c3(0x6f4)],'reportMetric':_0x3a9d08=>{const _0x51cbd8=_0x4d79c3,_0x3929a4=_0x3a9d08[_0x51cbd8(0x5fb)]*_0x3a9d08[_0x51cbd8(0x98f)]*_0x3a9d08['frameHeight']*0.12;return _0x3a9d08[_0x51cbd8(0x2c9)]/_0x3929a4;},'minThreshold':0.25},{'type':_0x3d6f73['Jitter'],'reportMetric':_0x5b556d=>_0x5b556d[_0x4d79c3(0x6cd)],'maxThreshold':0.6},{'type':_0x3d6f73[_0x4d79c3(0x2b3)],'reportMetric':_0x5b61c7=>_0x5b61c7['FPS'],'minThreshold':0xa}],_0x476df9=[{'type':_0x3d6f73[_0x4d79c3(0xa8e)],'reportMetric':_0x18fb2e=>_0x18fb2e[_0x4d79c3(0x6cd)],'maxThreshold':0.6}],_0x385c79=[{'type':_0x3d6f73['RoundTripTime'],'reportMetric':_0x53d610=>_0x53d610[_0x4d79c3(0x6c9)],'maxThreshold':0x1/0x0}],_0x5a2e14=[{'type':_0x3d6f73[_0x4d79c3(0x748)],'reportMetric':_0x584924=>_0x584924[_0x4d79c3(0x748)],'maxThreshold':0x12c}],_0x2a125b=[{'type':_0x5a89e4['CPUCycle'],'issues':[{'type':_0x3d6f73[_0x4d79c3(0x3f9)],'threshold':0x5},{'type':_0x3d6f73['DTVolatility'],'threshold':0x5}]},{'type':_0x5a89e4[_0x4d79c3(0x355)],'issues':[{'type':_0x3d6f73[_0x4d79c3(0x355)],'threshold':0x3}]},{'type':_0x5a89e4['AudioVideoDelay'],'issues':[{'type':_0x3d6f73[_0x4d79c3(0x748)],'threshold':0x2}]},{'type':_0x5a89e4[_0x4d79c3(0x2b3)],'issues':[{'type':_0x3d6f73[_0x4d79c3(0x2b3)],'threshold':0x3}]},{'type':_0x5a89e4['Bitrate'],'issues':[{'type':_0x3d6f73[_0x4d79c3(0x6f4)],'threshold':0x3}]},{'type':_0x5a89e4[_0x4d79c3(0xa8e)],'issues':[{'type':_0x3d6f73[_0x4d79c3(0xa8e)],'threshold':0x3}]},{'type':_0x5a89e4[_0x4d79c3(0x99)],'issues':[{'type':_0x3d6f73[_0x4d79c3(0x99)],'threshold':0x3}]}];var _0xcd07f5,_0x3d3413;!function(_0x28ae5c){_0x28ae5c[_0x28ae5c['StreamReport']=0x0]='StreamReport',_0x28ae5c[_0x28ae5c['LocalReport']=0x1]='LocalReport';}(_0xcd07f5||(_0xcd07f5={}));class _0x38fe5a{[_0x4d79c3(0x941)];[_0x4d79c3(0xf5)]=[];[_0x4d79c3(0x3fb)];constructor(_0x10c608){const _0x4cd487=_0x4d79c3;this[_0x4cd487(0x941)]=_0x10c608,this[_0x4cd487(0x941)][_0x4cd487(0xd8)][_0x4cd487(0x8fd)](this);}[_0x4d79c3(0x618)](_0x5d2fc1){this['systemTopic']=_0x5d2fc1;}[_0x4d79c3(0x373)](){const _0xe16b76=_0x4d79c3;this[_0xe16b76(0x3fb)]=void 0x0;}['close'](){const _0x182cb6=_0x4d79c3;this[_0x182cb6(0x941)][_0x182cb6(0xd8)]['unregisterSystemSource'](this),this[_0x182cb6(0xf5)]=[];}['handleStatsSystemEvents'](_0x29b2bb){const _0x573224=_0x4d79c3;switch(_0x29b2bb[_0x573224(0x898)]['type']){case _0xcd07f5[_0x573224(0x85d)]:this[_0x573224(0x6b5)](_0x29b2bb['content'][_0x573224(0x8da)]);break;case _0xcd07f5[_0x573224(0x34a)]:this[_0x573224(0x5dc)](_0x29b2bb[_0x573224(0x898)][_0x573224(0x8da)]);}}[_0x4d79c3(0x4e2)](_0x3ff116,_0x1d8241,_0x44e7f2,_0x55820c){const _0xb62d70=_0x4d79c3,_0x2f6453=_0x2a125b[_0xb62d70(0x483)](_0x136014=>_0x136014[_0xb62d70(0xf5)][_0xb62d70(0x884)](_0x1dd5b5=>_0x1dd5b5[_0xb62d70(0x572)]===_0x3ff116));_0x55820c>=_0x2f6453['issues'][_0xb62d70(0x483)](_0x55fdca=>_0x55fdca[_0xb62d70(0x572)]===_0x3ff116)[_0xb62d70(0x3f0)]&&(this['addProblem'](_0x2f6453['type'],_0x1d8241,_0x44e7f2),this[_0xb62d70(0xf5)]=this[_0xb62d70(0xf5)]['filter'](_0x2f39b2=>!(_0x2f39b2['type']===_0x3ff116&&_0x2f39b2[_0xb62d70(0x55b)]===_0x1d8241&&_0x2f39b2[_0xb62d70(0x1ed)]===_0x44e7f2)));}[_0x4d79c3(0x6b5)](_0x1adea8){const _0x1c9e5a=_0x4d79c3;_0x53132b[_0x1c9e5a(0x571)](_0x5e5bac=>{const _0x2678ca=_0x1c9e5a,_0x517047=_0x5e5bac[_0x2678ca(0x233)](_0x1adea8);_0x5e5bac[_0x2678ca(0x95b)]&&_0x517047>_0x5e5bac[_0x2678ca(0x95b)]&&this[_0x2678ca(0x1bf)](_0x5e5bac[_0x2678ca(0x572)],this['configs']['localNode'][_0x2678ca(0x970)](),_0x134d3f[_0x2678ca(0x785)],_0x517047),_0x5e5bac[_0x2678ca(0x254)]&&_0x517047<_0x5e5bac[_0x2678ca(0x254)]&&this[_0x2678ca(0x1bf)](_0x5e5bac[_0x2678ca(0x572)],this[_0x2678ca(0x941)]['localNode']['getId'](),_0x134d3f[_0x2678ca(0x785)],_0x517047);});}[_0x4d79c3(0x5dc)](_0x47e1ff){const _0x29b98c=_0x4d79c3;let _0x5b8352=[];switch(_0x47e1ff[_0x29b98c(0x1ed)]){case _0x134d3f['Sender']:_0x5b8352=_0x385c79;break;case _0x134d3f[_0x29b98c(0x940)]:_0x5b8352=_0x5a2e14;}_0x47e1ff[_0x29b98c(0x60c)]&&this[_0x29b98c(0x425)](_0x47e1ff[_0x29b98c(0x55b)],_0x134d3f['Sender'],_0x47e1ff['video']),_0x47e1ff['audio']&&this[_0x29b98c(0x3ec)](_0x47e1ff[_0x29b98c(0x55b)],_0x134d3f[_0x29b98c(0x785)],_0x47e1ff[_0x29b98c(0x2f3)]),_0x5b8352[_0x29b98c(0x571)](_0xed299f=>{const _0x10a6c7=_0x29b98c,_0x35d5f6=_0xed299f[_0x10a6c7(0x233)](_0x47e1ff);_0xed299f['maxThreshold']&&_0x35d5f6>_0xed299f['maxThreshold']&&this['addIssue'](_0xed299f[_0x10a6c7(0x572)],_0x47e1ff[_0x10a6c7(0x55b)],_0x134d3f[_0x10a6c7(0x785)],_0x35d5f6),_0xed299f[_0x10a6c7(0x254)]&&_0x35d5f6<_0xed299f[_0x10a6c7(0x254)]&&this['addIssue'](_0xed299f[_0x10a6c7(0x572)],_0x47e1ff[_0x10a6c7(0x55b)],_0x134d3f[_0x10a6c7(0x785)],_0x35d5f6);});}[_0x4d79c3(0x425)](_0x3e3d7f,_0x5004c2,_0x4578b0){const _0x28cc0d=_0x4d79c3;0x0!==_0x4578b0['bitrate']&&_0x3d84ed[_0x28cc0d(0x571)](_0x100d8c=>{const _0x424018=_0x28cc0d,_0x2f14f8=_0x100d8c[_0x424018(0x233)](_0x4578b0);_0x100d8c[_0x424018(0x95b)]&&_0x2f14f8>_0x100d8c[_0x424018(0x95b)]&&this[_0x424018(0x1bf)](_0x100d8c['type'],_0x3e3d7f,_0x5004c2,_0x2f14f8,'video'),_0x100d8c[_0x424018(0x254)]&&_0x2f14f8<_0x100d8c[_0x424018(0x254)]&&this[_0x424018(0x1bf)](_0x100d8c[_0x424018(0x572)],_0x3e3d7f,_0x5004c2,_0x2f14f8,_0x424018(0x60c));});}[_0x4d79c3(0x3ec)](_0x40e975,_0x366613,_0x2473dc){const _0x43c6e7=_0x4d79c3;0x0!==_0x2473dc['bitrate']&&_0x476df9[_0x43c6e7(0x571)](_0x2ed22d=>{const _0x47455f=_0x43c6e7,_0x1b5cac=_0x2ed22d[_0x47455f(0x233)](_0x2473dc);_0x2ed22d[_0x47455f(0x95b)]&&_0x1b5cac>_0x2ed22d[_0x47455f(0x95b)]&&this[_0x47455f(0x1bf)](_0x2ed22d['type'],_0x40e975,_0x366613,_0x1b5cac,'audio'),_0x2ed22d[_0x47455f(0x254)]&&_0x1b5cac<_0x2ed22d[_0x47455f(0x254)]&&this[_0x47455f(0x1bf)](_0x2ed22d[_0x47455f(0x572)],_0x40e975,_0x366613,_0x1b5cac,_0x47455f(0x2f3));});}[_0x4d79c3(0x1bf)](_0x577a23,_0x5d4a8c,_0x5abd3f,_0x1f2f09,_0x4d9093){const _0x12eee6=_0x4d79c3;_0x10d8cb['log'](_0x44f26b['Detection'],_0x12eee6(0xa1b)+_0x577a23,_0x577a23,_0x1f2f09),_0x10d8cb[_0x12eee6(0x9f7)]('issue',{'clusterId':this['configs'][_0x12eee6(0x5b6)],'nodeId':this[_0x12eee6(0x941)][_0x12eee6(0x3d8)][_0x12eee6(0x970)](),'nodeType':this[_0x12eee6(0x941)][_0x12eee6(0x3d8)][_0x12eee6(0x572)],'remoteId':_0x5d4a8c,'data':{'type':_0x577a23,'value':_0x1f2f09,'kind':_0x4d9093}}),this[_0x12eee6(0xf5)]=this[_0x12eee6(0xf5)][_0x12eee6(0x70d)](_0x2f8477=>Date[_0x12eee6(0x2a6)]()-_0x2f8477[_0x12eee6(0x139)]<0x7530),this['issues'][_0x12eee6(0x15b)]({'timestamp':Date[_0x12eee6(0x2a6)](),'type':_0x577a23,'nodeId':_0x5d4a8c,'origin':_0x5abd3f,'value':_0x1f2f09,'kind':_0x4d9093});const _0x500fb9=this[_0x12eee6(0xf5)][_0x12eee6(0x70d)](_0x2a96c1=>_0x2a96c1[_0x12eee6(0x572)]===_0x577a23&&_0x2a96c1[_0x12eee6(0x55b)]===_0x5d4a8c&&_0x2a96c1[_0x12eee6(0x1ed)]===_0x5abd3f)[_0x12eee6(0x4bf)];this[_0x12eee6(0x4e2)](_0x577a23,_0x5d4a8c,_0x5abd3f,_0x500fb9);}['addProblem'](_0x1081b9,_0x3ed373,_0x463028){const _0x21ec89=_0x4d79c3;_0x10d8cb[_0x21ec89(0x3bc)](_0x44f26b[_0x21ec89(0x35b)],_0x21ec89(0x8c7)+_0x1081b9),_0x10d8cb[_0x21ec89(0x9f7)]('problem',{'clusterId':this['configs'][_0x21ec89(0x5b6)],'nodeId':this['configs'][_0x21ec89(0x3d8)]['getId'](),'nodeType':this[_0x21ec89(0x941)]['localNode']['type'],'remoteId':_0x3ed373,'data':{'type':_0x1081b9}}),this['systemTopic']?.[_0x21ec89(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x21ec89(0x35b)],'content':{'type':_0x425442[_0x21ec89(0x979)],'data':{'timestamp':Date[_0x21ec89(0x2a6)](),'nodeId':_0x3ed373,'origin':_0x134d3f[_0x21ec89(0x785)],'type':_0x1081b9}}});}}class _0x27e064 extends _0x34fff5{[_0x4d79c3(0x572)]=_0xf8ccf2[_0x4d79c3(0x47f)]['Agent'];}class _0x135ade extends _0x27e064{['systemTopic'];['currentVersion']=Date[_0x4d79c3(0x2a6)]();[_0x4d79c3(0x95e)];[_0x4d79c3(0x42b)];[_0x4d79c3(0x8f0)](){const _0x4fce0e=_0x4d79c3;this['updateDebounceTimeout']&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x4fce0e(0x95e)]),delete this[_0x4fce0e(0x42b)],this[_0x4fce0e(0x97a)]=Date[_0x4fce0e(0x2a6)](),super['close']();}['registerSystemPublisher'](_0x579b0a){const _0x722d79=_0x4d79c3;this[_0x722d79(0x3fb)]=_0x579b0a;}[_0x4d79c3(0x373)](){const _0x180404=_0x4d79c3;delete this[_0x180404(0x3fb)];}['answerJoin'](_0x4ddbf3){const _0x28950e=_0x4d79c3;!this['updateDebounceTimeout']&&this[_0x28950e(0x679)]&&this['systemTopic'][_0x28950e(0x758)]({'sourceId':this['id'],'destinationIds':[_0x4ddbf3],'propagate':!0x0,'messageType':_0x15b885[_0x28950e(0x6a5)],'content':{'type':_0x37cca2[_0x28950e(0x140)],'id':this['id'],'metaData':{'type':this[_0x28950e(0x572)]},'rank':this[_0x28950e(0xe8)](),'remoteConnections':Array[_0x28950e(0x46f)](this[_0x28950e(0xda)]),'version':this[_0x28950e(0x97a)]}});}[_0x4d79c3(0x2d5)](_0x453dd8){const _0x588837=_0x4d79c3;this['remoteConnections'][_0x588837(0x85)](_0x453dd8)||(this[_0x588837(0xda)]['add'](_0x453dd8),this[_0x588837(0x1a0)](),this[_0x588837(0x2b2)](!0x0));}[_0x4d79c3(0xfb)](_0x39413a){const _0x317a9e=_0x4d79c3;this['remoteConnections']['has'](_0x39413a)&&(this[_0x317a9e(0xda)][_0x317a9e(0x86a)](_0x39413a),this[_0x317a9e(0x1a0)](),this[_0x317a9e(0x2b2)](!0x0));}[_0x4d79c3(0x2b0)](){const _0x1ef3e3=_0x4d79c3;return this[_0x1ef3e3(0x97a)];}[_0x4d79c3(0x217)](_0x596f34,_0x451db6=!0x0){const _0x5ab413=_0x4d79c3;this[_0x5ab413(0x679)]!==_0x596f34&&(this[_0x5ab413(0x679)]=_0x596f34,_0x451db6&&(this[_0x5ab413(0x1a0)](),this[_0x5ab413(0x2b2)]()));}['incrementVersion'](){const _0x2a1e91=_0x4d79c3;this[_0x2a1e91(0x97a)]=Date[_0x2a1e91(0x2a6)]();}[_0x4d79c3(0x2b2)](_0x2e1c2a=!0x1){const _0x30c05f=_0x4d79c3;if(this['rank']){if(this[_0x30c05f(0x42b)]||(this[_0x30c05f(0x42b)]=Date[_0x30c05f(0x2a6)]()),this[_0x30c05f(0x95e)]){if(Date[_0x30c05f(0x2a6)]()-this[_0x30c05f(0x42b)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x4878a8=_0x30c05f;delete this[_0x4878a8(0x42b)],delete this['updateDebounceTimeout'],this['systemTopic'][_0x4878a8(0x758)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x15b885[_0x4878a8(0x6a5)],'content':{'type':_0x2e1c2a?_0x37cca2['NodeConnectionsUpdate']:_0x37cca2['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x4878a8(0x572)]},'rank':this['getRank'](),'remoteConnections':Array[_0x4878a8(0x46f)](this[_0x4878a8(0xda)]),'version':this[_0x4878a8(0x97a)]}});},0x3e8);}}}class _0x1c1a4d extends _0x2bb602{[_0x4d79c3(0x3fb)];[_0x4d79c3(0x97a)]=Date['now']();['updateDebounceTimeout'];[_0x4d79c3(0x42b)];[_0x4d79c3(0x8f0)](){const _0x5d0d6d=_0x4d79c3;this['updateDebounceTimeout']&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x5d0d6d(0x95e)]),delete this[_0x5d0d6d(0x42b)],this['currentVersion']=Date[_0x5d0d6d(0x2a6)](),super[_0x5d0d6d(0x8f0)]();}['registerSystemPublisher'](_0x2b5fec){const _0xf92f4a=_0x4d79c3;this[_0xf92f4a(0x3fb)]=_0x2b5fec;}[_0x4d79c3(0x373)](){delete this['systemTopic'];}[_0x4d79c3(0x4ae)](_0x5c3235){const _0x585ef0=_0x4d79c3;!this['updateDebounceTimeout']&&this[_0x585ef0(0x679)]&&this[_0x585ef0(0x3fb)][_0x585ef0(0x758)]({'sourceId':this['id'],'destinationIds':[_0x5c3235],'propagate':!0x0,'messageType':_0x15b885[_0x585ef0(0x6a5)],'content':{'type':_0x37cca2[_0x585ef0(0x140)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x585ef0(0x9b3)](),'email':this[_0x585ef0(0x459)]()},'rank':this[_0x585ef0(0xe8)](),'remoteConnections':Array['from'](this[_0x585ef0(0xda)]),'version':this[_0x585ef0(0x97a)]}});}[_0x4d79c3(0x2d5)](_0x4fbb1f){const _0x331f0c=_0x4d79c3;this['remoteConnections']['has'](_0x4fbb1f)||(this[_0x331f0c(0xda)][_0x331f0c(0x306)](_0x4fbb1f),this[_0x331f0c(0x1a0)](),this[_0x331f0c(0x2b2)](!0x0));}[_0x4d79c3(0xfb)](_0x496339){const _0x16028c=_0x4d79c3;this['remoteConnections'][_0x16028c(0x85)](_0x496339)&&(this[_0x16028c(0xda)]['delete'](_0x496339),this[_0x16028c(0x1a0)](),this[_0x16028c(0x2b2)](!0x0));}[_0x4d79c3(0x2b0)](){return this['currentVersion'];}[_0x4d79c3(0x87a)](_0xccf342){const _0x35f6e3=_0x4d79c3;this[_0x35f6e3(0x2a0)]!==_0xccf342&&(this[_0x35f6e3(0x2a0)]=_0xccf342,this[_0x35f6e3(0x1a0)](),this[_0x35f6e3(0x2b2)]());}['setEmail'](_0x40491d){const _0x4b3c03=_0x4d79c3;this[_0x4b3c03(0x6f5)]!==_0x40491d&&(this[_0x4b3c03(0x6f5)]=_0x40491d,this[_0x4b3c03(0x1a0)](),this[_0x4b3c03(0x2b2)]());}[_0x4d79c3(0x217)](_0x424023,_0xfceab0=!0x0){const _0x3d5646=_0x4d79c3;this[_0x3d5646(0x679)]!==_0x424023&&(this[_0x3d5646(0x679)]=_0x424023,_0xfceab0&&(this['incrementVersion'](),this[_0x3d5646(0x2b2)]()));}[_0x4d79c3(0x1a0)](){this['currentVersion']=Date['now']();}[_0x4d79c3(0x2b2)](_0x48ed36=!0x1){const _0x3b8777=_0x4d79c3;if(this[_0x3b8777(0x679)]){if(this[_0x3b8777(0x42b)]||(this['lastUpdated']=Date['now']()),this[_0x3b8777(0x95e)]){if(Date['now']()-this[_0x3b8777(0x42b)]>0x2328)return;clearTimeout(this[_0x3b8777(0x95e)]);}this[_0x3b8777(0x95e)]=setTimeout(()=>{const _0x213825=_0x3b8777;delete this[_0x213825(0x42b)],delete this[_0x213825(0x95e)],this['systemTopic'][_0x213825(0x758)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x15b885[_0x213825(0x6a5)],'content':{'type':_0x48ed36?_0x37cca2['NodeConnectionsUpdate']:_0x37cca2[_0x213825(0x140)],'id':this['id'],'metaData':{'type':this[_0x213825(0x572)],'displayName':this[_0x213825(0x9b3)](),'email':this[_0x213825(0x459)]()},'rank':this[_0x213825(0xe8)](),'remoteConnections':Array[_0x213825(0x46f)](this[_0x213825(0xda)]),'version':this['currentVersion']}});},0x3e8);}}}class _0xfb520c{['id'];[_0x4d79c3(0x91e)];[_0x4d79c3(0x5eb)];[_0x4d79c3(0xa0)];[_0x4d79c3(0x572)]=_0xf8ccf2[_0x4d79c3(0x47f)]['Agent'];['lastCapacityReport'];constructor(_0x4d51a8,_0x4880e0,_0xc7fbd0,_0x1ce64c){const _0x30e4ce=_0x4d79c3;this['id']=_0x4d51a8,this[_0x30e4ce(0x91e)]=_0x4880e0,this[_0x30e4ce(0x5eb)]=_0xc7fbd0,this[_0x30e4ce(0xa0)]=_0x1ce64c;}[_0x4d79c3(0x970)](){return this['id'];}[_0x4d79c3(0xa97)](_0x432da4){const _0x3374a1=_0x4d79c3,_0x1db5ec=(0x0,_0x194189[_0x3374a1(0x190)])((0x0,_0x194189[_0x3374a1(0x31a)])(_0x46a54c[_0x3374a1(0x225)](),'developers/'+this['vendorId']+_0x3374a1(0x98b)+this[_0x3374a1(0x91e)]),_0x24d6a2=>{const _0x299dea=_0x3374a1;if(_0x24d6a2[_0x299dea(0x3f7)]()){const _0x3b35de=_0x24d6a2['data']();if(this['agentConfig'][_0x299dea(0x139)][_0x299dea(0x9de)](_0x3b35de[_0x299dea(0x139)]))return;_0x10d8cb['log'](_0x44f26b[_0x299dea(0x6a5)],_0x299dea(0x6f7),{'agentId':this['id'],'groupId':this[_0x299dea(0x91e)],'oldConfig':this[_0x299dea(0xa0)],'newConfig':_0x3b35de}),this['agentConfig']=_0x3b35de,_0x432da4();}});return()=>_0x1db5ec();}[_0x4d79c3(0x642)](_0x5ab732){const _0x38f6c8=_0x4d79c3;return this[_0x38f6c8(0x875)](this[_0x38f6c8(0x91e)],_0x5ab732),_0x53a877['setInterval'](()=>this['reportCapacity'](this[_0x38f6c8(0x91e)],_0x5ab732),0x7530);}[_0x4d79c3(0x5f3)](){const _0x588bbb=_0x4d79c3;if(!this[_0x588bbb(0x972)])throw new _0x25257a(_0x25257a[_0x588bbb(0x6cc)][_0x588bbb(0x78d)]);return this['lastCapacityReport'];}async[_0x4d79c3(0x875)](_0x20b268,_0x51fc9c){const _0x49f2fd=_0x4d79c3,_0x247d04=await _0x51fc9c();this[_0x49f2fd(0x972)]=_0x247d04,await(0x0,_0x194189[_0x49f2fd(0x42a)])((0x0,_0x194189[_0x49f2fd(0x456)])(_0x46a54c[_0x49f2fd(0x225)](),_0x49f2fd(0x62d)+this[_0x49f2fd(0x5eb)]+_0x49f2fd(0x440)),{'agentId':this['id'],'groupId':_0x20b268,'timestamp':(0x0,_0x194189['serverTimestamp'])(),'capacity':_0x247d04});}}!function(_0x36ad8d){const _0x3a05c9=_0x4d79c3;_0x36ad8d[_0x36ad8d[_0x3a05c9(0x6ad)]=0x0]=_0x3a05c9(0x6ad),_0x36ad8d[_0x36ad8d['Offline']=0x1]=_0x3a05c9(0x275);}(_0x3d3413||(_0x3d3413={}));class _0x1e7870 extends _0x27e064{[_0x4d79c3(0x97a)];[_0x4d79c3(0x4fd)]=_0x3d3413[_0x4d79c3(0x6ad)];[_0x4d79c3(0x42b)]=Date[_0x4d79c3(0x2a6)]();constructor(_0x4f5ca3,_0x4637bb=new Set(),_0x593054,_0x5821b5){const _0x5c57b7=_0x4d79c3;super(_0x4f5ca3,_0x4637bb,_0x5821b5),this[_0x5c57b7(0x97a)]=_0x593054;}[_0x4d79c3(0x2b0)](){const _0x123e3e=_0x4d79c3;return this[_0x123e3e(0x97a)];}[_0x4d79c3(0x575)](){const _0x3c01bd=_0x4d79c3;return this[_0x3c01bd(0x4fd)];}[_0x4d79c3(0x59c)](){const _0x2efb64=_0x4d79c3;return this[_0x2efb64(0x42b)];}[_0x4d79c3(0x217)](_0x3aa54a){const _0x5caebe=_0x4d79c3;this[_0x5caebe(0x679)]!==_0x3aa54a&&(this['rank']=_0x3aa54a,this[_0x5caebe(0x9ba)]());}[_0x4d79c3(0x77e)](_0x32115d){const _0x38f9c0=_0x4d79c3;let _0x720c8a=!0x1;for(const _0x3ef681 of this['remoteConnections'])_0x32115d['includes'](_0x3ef681)||(_0x720c8a=!0x0,this['remoteConnections'][_0x38f9c0(0x86a)](_0x3ef681));for(const _0x548d72 of _0x32115d)this['remoteConnections'][_0x38f9c0(0x85)](_0x548d72)||(_0x720c8a=!0x0,this[_0x38f9c0(0xda)][_0x38f9c0(0x306)](_0x548d72));_0x720c8a&&this[_0x38f9c0(0x9ba)]();}[_0x4d79c3(0x84d)](_0x538403){const _0x4ea79=_0x4d79c3;this[_0x4ea79(0x97a)]!==_0x538403&&(this[_0x4ea79(0x97a)]=_0x538403,this[_0x4ea79(0x9ba)]());}[_0x4d79c3(0xa55)](_0x107525){const _0x527655=_0x4d79c3;this['status']!==_0x107525&&(this['status']=_0x107525,this[_0x527655(0x9ba)](),_0x107525===_0x3d3413[_0x527655(0x275)]&&this[_0x527655(0x8f0)]());}[_0x4d79c3(0x9ba)](){const _0x5ac91e=_0x4d79c3;this[_0x5ac91e(0x42b)]=Date[_0x5ac91e(0x2a6)]();}}class _0x38f4f3 extends _0x2bb602{[_0x4d79c3(0x97a)];['status']=_0x3d3413['Online'];[_0x4d79c3(0x42b)]=Date[_0x4d79c3(0x2a6)]();constructor(_0x11a3a6,_0x31938e,_0x469208,_0x3f1063=new Set(),_0x4f64a8,_0x56e2f8){const _0x2eae97=_0x4d79c3;super(_0x11a3a6,_0x31938e,_0x469208,_0x3f1063,_0x56e2f8),this[_0x2eae97(0x97a)]=_0x4f64a8;}[_0x4d79c3(0x2b0)](){const _0x6004db=_0x4d79c3;return this[_0x6004db(0x97a)];}[_0x4d79c3(0x575)](){const _0x583d2a=_0x4d79c3;return this[_0x583d2a(0x4fd)];}[_0x4d79c3(0x59c)](){const _0x20ca79=_0x4d79c3;return this[_0x20ca79(0x42b)];}[_0x4d79c3(0x87a)](_0x41123b){const _0x188bb7=_0x4d79c3;this[_0x188bb7(0x2a0)]!==_0x41123b&&(this[_0x188bb7(0x2a0)]=_0x41123b,this['updateLastUpdated']());}[_0x4d79c3(0x77a)](_0x521ab8){const _0x2247df=_0x4d79c3;this[_0x2247df(0x6f5)]!==_0x521ab8&&(this[_0x2247df(0x6f5)]=_0x521ab8,this['updateLastUpdated']());}[_0x4d79c3(0x217)](_0xf5f2bc){const _0x310ecb=_0x4d79c3;this['rank']!==_0xf5f2bc&&(this[_0x310ecb(0x679)]=_0xf5f2bc,this[_0x310ecb(0x9ba)]());}[_0x4d79c3(0x77e)](_0x8518f6){const _0x4fe490=_0x4d79c3;let _0x38945c=!0x1;for(const _0x251e57 of this[_0x4fe490(0xda)])_0x8518f6[_0x4fe490(0xcc)](_0x251e57)||(_0x38945c=!0x0,this[_0x4fe490(0xda)][_0x4fe490(0x86a)](_0x251e57));for(const _0xc911bd of _0x8518f6)this[_0x4fe490(0xda)]['has'](_0xc911bd)||(_0x38945c=!0x0,this[_0x4fe490(0xda)][_0x4fe490(0x306)](_0xc911bd));_0x38945c&&this[_0x4fe490(0x9ba)]();}['setCurrentVersion'](_0x4e8caa){const _0x5c846d=_0x4d79c3;this[_0x5c846d(0x97a)]!==_0x4e8caa&&(this[_0x5c846d(0x97a)]=_0x4e8caa,this['updateLastUpdated']());}['setStatus'](_0x5b5f44){const _0x59ba5b=_0x4d79c3;this['status']!==_0x5b5f44&&(this[_0x59ba5b(0x4fd)]=_0x5b5f44,this[_0x59ba5b(0x9ba)](),_0x5b5f44===_0x3d3413['Offline']&&this[_0x59ba5b(0x8f0)]());}[_0x4d79c3(0x9ba)](){const _0x68848c=_0x4d79c3;this[_0x68848c(0x42b)]=Date['now']();}}class _0x327ee2{[_0x4d79c3(0x5eb)];[_0x4d79c3(0x5b6)];[_0x4d79c3(0x3d8)];[_0x4d79c3(0x780)];[_0x4d79c3(0x278)]=_0x54b3ea();[_0x4d79c3(0x54f)];[_0x4d79c3(0xa64)];['onDisconnectHandler'];[_0x4d79c3(0x40d)]=!0x1;[_0x4d79c3(0x235)];[_0x4d79c3(0x779)];constructor(_0x1e377f,_0x3f3a34,_0x178ee9,_0x2d44a9){const _0x669dfc=_0x4d79c3;this[_0x669dfc(0x5eb)]=_0x1e377f,this['clusterId']=_0x3f3a34,this[_0x669dfc(0x3d8)]=_0x178ee9,this[_0x669dfc(0x780)]=_0x2d44a9,this['clusterKey']=_0x669dfc(0x9fd)+this[_0x669dfc(0x5eb)]+'ccc'+this[_0x669dfc(0x5b6)],this['nodeKey']='ccc'+this[_0x669dfc(0x5eb)]+_0x669dfc(0x9fd)+this['localNode'][_0x669dfc(0x970)](),this['firebaseUnsubscriber']=(0x0,_0x1409a1[_0x669dfc(0x47b)])((0x0,_0x1409a1[_0x669dfc(0x277)])(_0x46a54c[_0x669dfc(0x95a)](),_0x669dfc(0x247)),_0x2f98cb=>{const _0xb8f1ff=_0x669dfc;!0x0!==_0x2f98cb[_0xb8f1ff(0x623)]()?this['connected']&&_0x10d8cb[_0xb8f1ff(0x23a)]('firebase-disconnect',{'clusterId':this['clusterId'],'nodeId':this[_0xb8f1ff(0x3d8)][_0xb8f1ff(0x970)](),'nodeType':this[_0xb8f1ff(0x3d8)][_0xb8f1ff(0x572)]}):(this['connected']=!0x0,this[_0xb8f1ff(0x8c)](),_0x10d8cb[_0xb8f1ff(0x29c)](_0xb8f1ff(0x3a8),{'clusterId':this['clusterId'],'nodeId':this['localNode'][_0xb8f1ff(0x970)](),'nodeType':this[_0xb8f1ff(0x3d8)][_0xb8f1ff(0x572)]}));});}async[_0x4d79c3(0x9fc)](){const _0x5534b6=_0x4d79c3;await this[_0x5534b6(0x6a3)]();const _0x2b806c=await this[_0x5534b6(0x56b)]();return this[_0x5534b6(0xa64)]=(0x0,_0x1409a1['onChildRemoved'])((0x0,_0x1409a1['ref'])(_0x46a54c[_0x5534b6(0x95a)](),_0x5534b6(0x7c8)+this[_0x5534b6(0x235)]+'/nodes'),_0x236cf5=>{const _0x3d29ac=_0x5534b6,_0x2763a5=_0x236cf5[_0x3d29ac(0x1db)];if(!_0x2763a5)return;const _0x2fd7d1=_0x2763a5['replace'](_0x3d29ac(0x9fd)+this[_0x3d29ac(0x5eb)]+_0x3d29ac(0x9fd),'');this[_0x3d29ac(0x278)][_0x3d29ac(0x758)](_0x2fd7d1);}),_0x2b806c;}async['close'](){const _0x26629f=_0x4d79c3;this['childRemovedUnsubscriber']?.(),delete this[_0x26629f(0xa64)],this['onDisconnectHandler']?.[_0x26629f(0x2e2)](),delete this[_0x26629f(0x6c8)],this[_0x26629f(0x54f)]?.(),delete this[_0x26629f(0x54f)],await(0x0,_0x1409a1[_0x26629f(0xa49)])((0x0,_0x1409a1[_0x26629f(0x277)])(_0x46a54c[_0x26629f(0x95a)](),_0x26629f(0x7c8)+this[_0x26629f(0x235)]+_0x26629f(0x13d)+this[_0x26629f(0x779)]));}['onNodeDisconnect'](_0x393070){const _0xa005c1=_0x4d79c3;return this[_0xa005c1(0x278)][_0xa005c1(0x2a1)](_0x393070);}async[_0x4d79c3(0x56b)](){const _0x1f579c=_0x4d79c3,_0x137826=[],_0x11bf6f=await(0x0,_0x1409a1[_0x1f579c(0x2d3)])((0x0,_0x1409a1[_0x1f579c(0x277)])(_0x46a54c[_0x1f579c(0x95a)](),_0x1f579c(0x7c8)+this[_0x1f579c(0x235)]+'/nodes')),_0x3c9da4=[];return _0x11bf6f['forEach'](_0x12d3cb=>{const _0x4bfead=_0x1f579c,_0x3fa526=_0x12d3cb['key']?.['replace'](_0x4bfead(0x9fd)+this['vendorId']+_0x4bfead(0x9fd),'');_0x3c9da4['push']({'id':_0x3fa526,'joinedAt':_0x12d3cb['val']()[_0x4bfead(0x408)],'priority':_0x12d3cb[_0x4bfead(0x623)]()[_0x4bfead(0xa80)]});}),_0x3c9da4[_0x1f579c(0x694)]((_0x438e32,_0x446e4c)=>_0x438e32[_0x1f579c(0x408)]===_0x446e4c[_0x1f579c(0x408)]?_0x438e32[_0x1f579c(0xa80)]-_0x446e4c[_0x1f579c(0xa80)]:_0x438e32[_0x1f579c(0x408)]-_0x446e4c[_0x1f579c(0x408)])[_0x1f579c(0x3e9)](_0x3c9da4[_0x1f579c(0x221)](_0x1e4e5d=>_0x1e4e5d['id']===this[_0x1f579c(0x3d8)][_0x1f579c(0x970)]())),_0x3c9da4[_0x1f579c(0x694)]((_0xe4d3e7,_0x3c00e0)=>_0x3c00e0[_0x1f579c(0x408)]===_0xe4d3e7[_0x1f579c(0x408)]?_0x3c00e0['priority']-_0xe4d3e7[_0x1f579c(0xa80)]:_0x3c00e0[_0x1f579c(0x408)]-_0xe4d3e7[_0x1f579c(0x408)])[_0x1f579c(0x571)](_0x449719=>{const _0x1b9025=_0x1f579c;_0x137826[_0x1b9025(0x4bf)]>=this['minConnections']||_0x137826[_0x1b9025(0x15b)](_0x449719['id']);}),_0x10d8cb[_0x1f579c(0x9f7)](_0x1f579c(0x7fa),{'clusterId':this[_0x1f579c(0x5b6)],'nodeId':this[_0x1f579c(0x3d8)]['getId'](),'nodeType':this[_0x1f579c(0x3d8)][_0x1f579c(0x572)],'data':{'ancestorIds':_0x137826,'allNodes':_0x3c9da4}}),_0x137826;}async['joinCluster'](){const _0x435283=_0x4d79c3;await(0x0,_0x1409a1[_0x435283(0xb1)])((0x0,_0x1409a1[_0x435283(0x277)])(_0x46a54c[_0x435283(0x95a)](),'clusters/'+this[_0x435283(0x235)]+_0x435283(0x13d)+this[_0x435283(0x779)]),{'joinedAt':(0x0,_0x1409a1[_0x435283(0x6f2)])(),'priority':Math[_0x435283(0x83b)]()});}['setOnDisconnectHandler'](){const _0x50e260=_0x4d79c3;this[_0x50e260(0x6c8)]&&this['onDisconnectHandler'][_0x50e260(0x2e2)](),this['onDisconnectHandler']=(0x0,_0x1409a1[_0x50e260(0x30a)])((0x0,_0x1409a1['ref'])(_0x46a54c['getDatabase'](),_0x50e260(0x7c8)+this[_0x50e260(0x235)]+'/nodes/'+this[_0x50e260(0x779)])),this[_0x50e260(0x6c8)][_0x50e260(0xa49)]();}}class _0x19d6a9{['configs'];[_0x4d79c3(0x3c0)];[_0x4d79c3(0x6e2)];[_0x4d79c3(0x19f)];[_0x4d79c3(0x90b)];['ancestors']=[];[_0x4d79c3(0x3fb)];['optimizationLayers']=new Map();[_0x4d79c3(0x399)];[_0x4d79c3(0x6ac)];[_0x4d79c3(0x86d)];[_0x4d79c3(0x1cc)];[_0x4d79c3(0x7d4)];['readyDebounce'];constructor(_0x45f5aa,_0x505067){const _0x200f06=_0x4d79c3;this['configs']=_0x45f5aa,this['graphService']=_0x505067,this[_0x200f06(0x86d)]=new Promise((_0x4df275,_0x5a97b5)=>{const _0x49cc0c=_0x200f06;this[_0x49cc0c(0x1cc)]=_0x4df275,this[_0x49cc0c(0x7d4)]=_0x5a97b5;}),this[_0x200f06(0x19f)]=new _0x327ee2(this['configs'][_0x200f06(0x5eb)],this['configs']['clusterId'],this[_0x200f06(0x941)][_0x200f06(0x3d8)],this[_0x200f06(0x3c0)][_0x200f06(0x315)]()),this[_0x200f06(0x90b)]=this['discoveryService'][_0x200f06(0xab)](this[_0x200f06(0x439)][_0x200f06(0x1f5)](this)),this[_0x200f06(0x941)]['mediator'][_0x200f06(0x8fd)](this['configs']['localNode']),this[_0x200f06(0x941)][_0x200f06(0xd8)][_0x200f06(0x8fd)](this),this[_0x200f06(0x6e2)]=_0x53a877[_0x200f06(0xa6c)](()=>{const _0x149d58=_0x200f06,_0x3f26ca=Date[_0x149d58(0x2a6)]();this[_0x149d58(0x3c0)][_0x149d58(0x58d)]()[_0x149d58(0x571)](_0x518be5=>{const _0x50f039=_0x149d58;_0x518be5[_0x50f039(0x575)]()===_0x3d3413[_0x50f039(0x275)]&&_0x518be5[_0x50f039(0x59c)]()<_0x3f26ca-0x493e0&&this[_0x50f039(0x3c0)][_0x50f039(0x5e9)](_0x518be5[_0x50f039(0x970)]());});},0xea60);}async[_0x4d79c3(0x365)](){const _0x5d4120=_0x4d79c3;return this[_0x5d4120(0x86d)];}async[_0x4d79c3(0x9f6)](_0x295bfd){return new Promise((_0x5b2185,_0x147af2)=>{const _0x59256b=a0_0x50a3;let _0x1de61a;const _0x3fdc0f=setTimeout(()=>{const _0xc8cbd8=a0_0x50a3;_0x1de61a?.(),_0x147af2(new Error(_0xc8cbd8(0x7f9)+_0x295bfd+_0xc8cbd8(0x549)));},0x2710);if(this[_0x59256b(0x3c0)]['hasRemoteNode'](_0x295bfd))return clearTimeout(_0x3fdc0f),void _0x5b2185(!0x0);_0x1de61a=this['graphService'][_0x59256b(0x4c5)](()=>{const _0x3ab47b=_0x59256b;this[_0x3ab47b(0x3c0)][_0x3ab47b(0x5cc)](_0x295bfd)&&(clearTimeout(_0x3fdc0f),_0x5b2185(!0x0),_0x1de61a?.());});});}[_0x4d79c3(0x618)](_0x5a4c5f){const _0x26567d=_0x4d79c3;this[_0x26567d(0x3fb)]=_0x5a4c5f;}[_0x4d79c3(0x373)](){const _0xa4757b=_0x4d79c3;delete this[_0xa4757b(0x3fb)];}[_0x4d79c3(0x8f0)](){const _0x107940=_0x4d79c3;this[_0x107940(0x399)]&&(clearTimeout(this['debounceProcessRank']),delete this[_0x107940(0x399)]),delete this['lastProcessRank'],this[_0x107940(0x941)][_0x107940(0x3d8)][_0x107940(0x8f0)](),this['remoteUnsubscriber'](),this[_0x107940(0x90b)](),this['configs'][_0x107940(0xd8)][_0x107940(0x7a2)](this[_0x107940(0x941)][_0x107940(0x3d8)]),this[_0x107940(0x941)][_0x107940(0xd8)][_0x107940(0x7a2)](this),this['discoveryService']['close']();}[_0x4d79c3(0xab2)](){const _0x5b9161=_0x4d79c3;return this[_0x5b9161(0x3de)];}[_0x4d79c3(0x7f)](){const _0x3fe4cc=_0x4d79c3;return this[_0x3fe4cc(0x941)][_0x3fe4cc(0x3d8)][_0x3fe4cc(0x970)]();}['getLocalNode'](){const _0x3592ce=_0x4d79c3;return this[_0x3592ce(0x941)][_0x3592ce(0x3d8)];}[_0x4d79c3(0x58d)](_0x2cc1f5){const _0x51d30f=_0x4d79c3,_0xe76ea7=Array['from'](this[_0x51d30f(0x3c0)]['getRemoteNodes']()['values']())[_0x51d30f(0x70d)](_0x3b2f4c=>_0x3b2f4c[_0x51d30f(0x575)]()===_0x3d3413[_0x51d30f(0x6ad)]);return _0x2cc1f5?_0xe76ea7[_0x51d30f(0x70d)](_0x2cc1f5):_0xe76ea7;}async[_0x4d79c3(0x7fa)](){const _0x2802af=_0x4d79c3;return this[_0x2802af(0x3de)]=await this['discoveryService'][_0x2802af(0x9fc)](),this[_0x2802af(0x3de)][_0x2802af(0x4bf)]<this[_0x2802af(0x3c0)][_0x2802af(0x315)]()&&(this[_0x2802af(0x941)]['localNode']['setRank'](this[_0x2802af(0x3de)][_0x2802af(0x4bf)]+0x1),this[_0x2802af(0x9ce)]()),this[_0x2802af(0x3de)];}[_0x4d79c3(0xa3f)](_0x2bccd6,_0x1f219a){const _0x2dafc8=_0x4d79c3,_0x4868c1=this[_0x2dafc8(0x941)][_0x2dafc8(0x3d8)][_0x2dafc8(0x142)](),_0x12e527=new Set(_0x4868c1),_0x1a6128=Array[_0x2dafc8(0x46f)](_0x4868c1)[_0x2dafc8(0x70d)](_0x52ffcf=>_0x52ffcf!==_0x2bccd6)['map'](_0x244f50=>({'id':_0x244f50,'distance':0x1}));for(;_0x1a6128[_0x2dafc8(0x4bf)]>0x0;){const _0x201dd8=_0x1a6128[_0x2dafc8(0x161)]();if(!_0x201dd8)continue;if(_0x201dd8['id']===_0x1f219a)return _0x201dd8['distance'];const _0x32a118=this[_0x2dafc8(0x3c0)][_0x2dafc8(0x73d)](_0x201dd8['id']);_0x32a118&&_0x32a118[_0x2dafc8(0x575)]()!==_0x3d3413[_0x2dafc8(0x275)]&&_0x32a118[_0x2dafc8(0x142)]()[_0x2dafc8(0x571)](_0x15c531=>{const _0x255fd5=_0x2dafc8;_0x12e527[_0x255fd5(0x85)](_0x15c531)||(_0x12e527['add'](_0x15c531),_0x1a6128['push']({'id':_0x15c531,'distance':_0x201dd8[_0x255fd5(0x5a5)]+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x509258){const _0x320791=_0x4d79c3;try{switch(_0x509258[_0x320791(0x898)]['type']){case _0x37cca2['NodeUpdate']:case _0x37cca2[_0x320791(0x15a)]:this['handleNodeUpdate'](_0x509258[_0x320791(0x898)]),_0x10d8cb[_0x320791(0x3bc)](_0x44f26b[_0x320791(0x6a5)],_0x320791(0x84b),'\x27'+this['configs']['localNode'][_0x320791(0x970)]()+',\x20'+_0x509258[_0x320791(0x19b)]+'\x27',_0x509258,_0x509258[_0x320791(0x898)]);break;case _0x37cca2[_0x320791(0x4a4)]:this['removeNode'](_0x509258['content']['id']),_0x10d8cb[_0x320791(0x3bc)](_0x44f26b[_0x320791(0x6a5)],'NodeManager\x20-\x20NodeLeave','\x27'+this['configs'][_0x320791(0x3d8)][_0x320791(0x970)]()+',\x20'+_0x509258['sourceId']+'\x27',_0x509258,_0x509258[_0x320791(0x898)]);}}catch(_0x232b4d){if(_0x232b4d instanceof _0x4b3c50)return void _0x10d8cb[_0x320791(0x3bc)](_0x44f26b[_0x320791(0x6a5)],_0x232b4d[_0x320791(0x206)]);throw _0x232b4d;}}[_0x4d79c3(0xa0c)](_0xb09e68){const _0xdcbb3f=_0x4d79c3;switch(_0xb09e68[_0xdcbb3f(0x898)]['type']){case _0x4663c4[_0xdcbb3f(0x378)]:this[_0xdcbb3f(0x3f3)](_0xb09e68[_0xdcbb3f(0x19b)]),_0x10d8cb[_0xdcbb3f(0x3bc)](_0x44f26b[_0xdcbb3f(0x6a5)],_0xdcbb3f(0x54d),'\x27'+this[_0xdcbb3f(0x941)][_0xdcbb3f(0x3d8)][_0xdcbb3f(0x970)]()+',\x20'+_0xb09e68[_0xdcbb3f(0x19b)]+'\x27',_0xb09e68,_0xb09e68[_0xdcbb3f(0x898)]);break;case _0x4663c4[_0xdcbb3f(0x457)]:this[_0xdcbb3f(0xa4b)](_0xb09e68[_0xdcbb3f(0x19b)]),_0x10d8cb[_0xdcbb3f(0x3bc)](_0x44f26b[_0xdcbb3f(0x6a5)],_0xdcbb3f(0x3e6),this[_0xdcbb3f(0x941)][_0xdcbb3f(0x3d8)]['getId'](),_0xb09e68,_0xb09e68[_0xdcbb3f(0x898)]);}}[_0x4d79c3(0x9ec)](_0x54825c){const _0x33957b=_0x4d79c3;this[_0x33957b(0x1fe)](_0x54825c),this['notifyJoin'](_0x54825c);}[_0x4d79c3(0x488)](_0x2547a5){const _0x1b1cd6=_0x4d79c3;this[_0x1b1cd6(0x941)][_0x1b1cd6(0x3d8)][_0x1b1cd6(0x4ae)](_0x2547a5['id']),this[_0x1b1cd6(0x1b0)](_0x2547a5['id']),this[_0x1b1cd6(0x802)](_0x2547a5);}[_0x4d79c3(0x619)](_0x5d77b4){const _0x13d477=_0x4d79c3,{id:_0xc0c0ef,metaData:_0x32df86,rank:_0x16a5c5,remoteConnections:_0x59ae4f,version:_0x566c6f}=_0x5d77b4,_0x2555d8=this[_0x13d477(0x3c0)][_0x13d477(0x73d)](_0xc0c0ef);if(_0x2555d8){if(!(_0x566c6f<=_0x2555d8[_0x13d477(0x2b0)]())){if(_0x2555d8['setRemoteConnections'](_0x59ae4f),_0x2555d8['setCurrentVersion'](_0x566c6f),_0x2555d8['type']===_0xf8ccf2[_0x13d477(0x47f)]['User']&&_0x32df86[_0x13d477(0x572)]===_0xf8ccf2[_0x13d477(0x47f)]['User']&&(_0x2555d8['setDisplayName'](_0x32df86[_0x13d477(0x2a0)]),_0x2555d8['setEmail'](_0x32df86[_0x13d477(0x6f5)])),_0x16a5c5&&_0x2555d8[_0x13d477(0x217)](_0x16a5c5),this[_0x13d477(0x183)](_0xc0c0ef,_0x16a5c5),_0x2555d8[_0x13d477(0x575)]()===_0x3d3413[_0x13d477(0x275)])return _0x2555d8[_0x13d477(0xa55)](_0x3d3413[_0x13d477(0x6ad)]),this[_0x13d477(0x9ce)](),void this[_0x13d477(0x488)](_0x5d77b4);this['processRank'](),this['notifyClusterNodeUpdate']({'id':_0xc0c0ef,'metaData':_0x32df86,'remoteConnections':_0x59ae4f,'version':_0x566c6f});}}else this[_0x13d477(0x9ec)](_0x5d77b4);}[_0x4d79c3(0x183)](_0x286eb2,_0x385215){const _0x42e9bd=_0x4d79c3;_0x385215&&this[_0x42e9bd(0x3de)][_0x42e9bd(0xcc)](_0x286eb2)&&this[_0x42e9bd(0x941)]['localNode']['setRank'](_0x385215+this[_0x42e9bd(0x3de)][_0x42e9bd(0x58a)](_0x286eb2)+0x1);}[_0x4d79c3(0x3f3)](_0xd90f5e){const _0x212ba8=_0x4d79c3;this[_0x212ba8(0x941)]['localNode'][_0x212ba8(0x2d5)](_0xd90f5e);}['createRemoteNode']({id:_0x34eb92,metaData:_0x1be389,rank:_0x3d712b,remoteConnections:_0x53f0b9,version:_0x5085e2}){const _0x36d246=_0x4d79c3;if(this[_0x36d246(0x3c0)]['hasRemoteNode'](_0x34eb92))throw new _0x4b3c50(_0x36d246(0x9da)+_0x34eb92);switch(_0x1be389['type']){case _0xf8ccf2[_0x36d246(0x47f)]['User']:const {displayName:_0xe6dda1,email:_0x33c773}=_0x1be389;this[_0x36d246(0x3c0)][_0x36d246(0x7ca)](_0x34eb92,new _0x38f4f3(_0x34eb92,_0xe6dda1,_0x33c773,new Set(_0x53f0b9),_0x5085e2,_0x3d712b));break;case _0xf8ccf2[_0x36d246(0x47f)][_0x36d246(0x6ab)]:this[_0x36d246(0x3c0)][_0x36d246(0x7ca)](_0x34eb92,new _0x1e7870(_0x34eb92,new Set(_0x53f0b9),_0x5085e2,_0x3d712b));}const _0x37dd7f=this[_0x36d246(0x58d)](),_0x333547=new Set(this[_0x36d246(0x3de)]);_0x37dd7f[_0x36d246(0x571)](_0x583a9f=>{const _0x4957c8=_0x36d246;_0x333547[_0x4957c8(0x85)](_0x583a9f['getId']())&&_0x333547[_0x4957c8(0x86a)](_0x583a9f[_0x4957c8(0x970)]());}),0x0===_0x333547[_0x36d246(0x517)]&&this[_0x36d246(0x1cc)]&&(this[_0x36d246(0x69b)]&&clearTimeout(this[_0x36d246(0x69b)]),this[_0x36d246(0x69b)]=setTimeout(()=>{const _0x1f075d=_0x36d246;this['resolveReady']?.(!0x0),delete this[_0x1f075d(0x1cc)],delete this[_0x1f075d(0x7d4)];},0x7d0)),this[_0x36d246(0x183)](_0x34eb92,_0x3d712b),this[_0x36d246(0x9ce)]();}[_0x4d79c3(0x1b0)](_0x29d81b){const _0x3f2359=_0x4d79c3;this['systemTopic'][_0x3f2359(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x3f2359(0x6a5)],'content':{'type':_0x37cca2[_0x3f2359(0x52c)],'id':_0x29d81b}});}['publishNodeLeave'](_0x2dc466){const _0x1240bd=_0x4d79c3;this[_0x1240bd(0x3fb)]?.[_0x1240bd(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x1240bd(0x6a5)],'content':{'type':_0x37cca2[_0x1240bd(0x4a4)],'id':_0x2dc466}});}[_0x4d79c3(0x439)](_0x11bb7e){const _0x2d3134=_0x4d79c3;if(_0x11bb7e===this['configs']['localNode'][_0x2d3134(0x970)]())return this[_0x2d3134(0x941)][_0x2d3134(0xd8)][_0x2d3134(0xaa4)](_0x2d3134(0x73),{'id':_0x11bb7e}),this[_0x2d3134(0x941)]['mediator'][_0x2d3134(0x8f0)]({'force':!0x0},!0x0),this['configs']['mediator'][_0x2d3134(0x56c)](),void this[_0x2d3134(0x941)][_0x2d3134(0xd8)]['initialize']();this[_0x2d3134(0xa4b)](_0x11bb7e);}['removeNode'](_0x58d107){const _0xca759f=_0x4d79c3;this[_0xca759f(0x3de)][_0xca759f(0xcc)](_0x58d107)?this['manageAncestor'](_0x58d107):this['configs']['localNode'][_0xca759f(0x142)]()[_0xca759f(0x85)](_0x58d107)&&this['manageOptimization'](_0x58d107),this[_0xca759f(0x941)][_0xca759f(0x3d8)][_0xca759f(0xfb)](_0x58d107);const _0x51ba7b=Array['from'](this[_0xca759f(0x249)][_0xca759f(0xa9a)]())['find'](([,_0x38b32a])=>_0x38b32a==_0x38b32a);_0x51ba7b&&this[_0xca759f(0x249)][_0xca759f(0x86a)](_0x51ba7b[0x0]);const _0x2aa773=this[_0xca759f(0x3c0)][_0xca759f(0x73d)](_0x58d107);if(!_0x2aa773)return;const _0x31460d=_0x2aa773[_0xca759f(0xe8)](),_0x10d7ab=this['configs'][_0xca759f(0x3d8)]['getRank']();_0x10d7ab&&_0x31460d&&_0x31460d<_0x10d7ab&&this['configs']['localNode'][_0xca759f(0x217)](_0x10d7ab-0x1,!0x1),Array['from'](this[_0xca759f(0x3c0)][_0xca759f(0x58d)]()['values']())[_0xca759f(0x571)](_0x594b0c=>{const _0x14fbcc=_0xca759f,_0x39c73b=_0x594b0c[_0x14fbcc(0xe8)]();_0x39c73b&&_0x31460d&&_0x31460d<_0x39c73b&&_0x594b0c['setRank'](_0x39c73b-0x1);}),_0x2aa773[_0xca759f(0xa55)](_0x3d3413[_0xca759f(0x275)]),this['configs']['mediator'][_0xca759f(0xaa4)](_0x2aa773['type']+_0xca759f(0xaa5),{'id':_0x58d107});}[_0x4d79c3(0x802)]({id:_0x35de,metaData:_0x5519d9,remoteConnections:_0x3f2c9a}){const _0x5b1c6e=_0x4d79c3;switch(_0x5519d9['type']){case _0xf8ccf2[_0x5b1c6e(0x47f)][_0x5b1c6e(0x25a)]:this[_0x5b1c6e(0x941)][_0x5b1c6e(0xd8)][_0x5b1c6e(0xaa4)]('user-join',{'id':_0x35de,'metaData':_0x5519d9,'remoteConnections':_0x3f2c9a});break;case _0xf8ccf2[_0x5b1c6e(0x47f)]['Agent']:this[_0x5b1c6e(0x941)][_0x5b1c6e(0xd8)]['notifyCluster'](_0x5b1c6e(0x16f),{'id':_0x35de,'metaData':_0x5519d9,'remoteConnections':_0x3f2c9a});}}['notifyClusterNodeUpdate']({id:_0x1fd92f,metaData:_0x2e555d,remoteConnections:_0x1a576e}){const _0xf4b100=_0x4d79c3;switch(_0x2e555d['type']){case _0xf8ccf2[_0xf4b100(0x47f)][_0xf4b100(0x25a)]:this[_0xf4b100(0x941)][_0xf4b100(0xd8)][_0xf4b100(0xaa4)](_0xf4b100(0x3b3),{'id':_0x1fd92f,'metaData':_0x2e555d,'remoteConnections':_0x1a576e});break;case _0xf8ccf2['NodeType']['Agent']:this[_0xf4b100(0x941)]['mediator'][_0xf4b100(0xaa4)](_0xf4b100(0x77),{'id':_0x1fd92f,'metaData':_0x2e555d,'remoteConnections':_0x1a576e});}}['processRank'](){const _0x1d2152=_0x4d79c3;if(this[_0x1d2152(0x6ac)]||(this['lastProcessRank']=Date['now']()),this[_0x1d2152(0x399)]){if(Date[_0x1d2152(0x2a6)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x1d2152(0x399)]);}this[_0x1d2152(0x399)]=setTimeout(async()=>{const _0x33cb8e=_0x1d2152;delete this[_0x33cb8e(0x6ac)],delete this[_0x33cb8e(0x399)];const _0x56f4ad=this[_0x33cb8e(0x941)][_0x33cb8e(0x3d8)][_0x33cb8e(0xe8)]();if(!_0x56f4ad)return;const _0xb8455=this['graphService'][_0x33cb8e(0x3a7)](this[_0x33cb8e(0x3c0)]['getRemoteNodes']()[_0x33cb8e(0x517)]);if(this[_0x33cb8e(0x249)]['size']>=_0xb8455)return;let _0x5856f7=0x1;for(;this['configs'][_0x33cb8e(0xd8)][_0x33cb8e(0x852)]()[_0x33cb8e(0x4bf)]<this[_0x33cb8e(0x3c0)][_0x33cb8e(0x7ad)]()&&_0x5856f7<=_0xb8455;){if(this[_0x33cb8e(0x249)][_0x33cb8e(0x85)](_0x5856f7)){_0x5856f7+=0x1;continue;}const _0x4f24af=this[_0x33cb8e(0x3c0)][_0x33cb8e(0x1e2)](_0x56f4ad,_0x5856f7),_0x3e350b=Array[_0x33cb8e(0x46f)](this[_0x33cb8e(0x3c0)][_0x33cb8e(0x58d)]()[_0x33cb8e(0x3c7)]())[_0x33cb8e(0x483)](_0x2723b3=>_0x2723b3[_0x33cb8e(0xe8)]()===_0x4f24af&&_0x2723b3['getStatus']()===_0x3d3413['Online']);if(_0x3e350b){try{await this['configs'][_0x33cb8e(0xd8)][_0x33cb8e(0x5e5)](_0x3e350b[_0x33cb8e(0x970)](),_0x3b5aa5[_0x33cb8e(0x2e8)]),this[_0x33cb8e(0x249)][_0x33cb8e(0xb1)](_0x5856f7,_0x3e350b[_0x33cb8e(0x970)]());}catch(_0x15d67e){if(!(_0x15d67e instanceof _0x25257a&&_0x15d67e[_0x33cb8e(0x2ef)]===_0x25257a[_0x33cb8e(0x6cc)]['RemoteConnectionExists']))throw _0x15d67e;_0x10d8cb[_0x33cb8e(0x3bc)](_0x44f26b[_0x33cb8e(0x6a5)],this['configs'][_0x33cb8e(0x3d8)]['getId'](),_0x3e350b[_0x33cb8e(0x970)](),_0x15d67e[_0x33cb8e(0x206)]);}_0x5856f7+=0x1;}else _0x5856f7+=0x1;}},0x3e8);}async['manageAncestor'](_0x4d21a6){const _0x3beea0=_0x4d79c3;this[_0x3beea0(0x3de)][_0x3beea0(0x3e9)](this[_0x3beea0(0x3de)][_0x3beea0(0x58a)](_0x4d21a6),0x1);const _0x4a78a6=await this[_0x3beea0(0x19f)]['getAncestors']();for(const _0xb41e10 of _0x4a78a6)if(!this['ancestors']['includes'](_0xb41e10)){const _0x51060e=Array['from'](this[_0x3beea0(0x249)]['entries']())[_0x3beea0(0x483)](([,_0xdd906c])=>_0xdd906c===_0xb41e10);_0x51060e&&this[_0x3beea0(0x249)][_0x3beea0(0x86a)](_0x51060e[0x0]),this[_0x3beea0(0x941)]['mediator'][_0x3beea0(0x5e5)](_0xb41e10,_0x3b5aa5[_0x3beea0(0x5f2)]);}0x0===_0x4a78a6[_0x3beea0(0x4bf)]&&this[_0x3beea0(0x941)]['localNode']['setRank'](0x1),this[_0x3beea0(0x3de)]=_0x4a78a6;}async[_0x4d79c3(0x96e)](_0x3d4302){const _0x46d357=_0x4d79c3,_0x3cde95=this[_0x46d357(0x941)][_0x46d357(0x3d8)][_0x46d357(0xe8)]();if(!_0x3cde95)return;const _0x330d3=this[_0x46d357(0x3c0)][_0x46d357(0x73d)](_0x3d4302);if(!_0x330d3||_0x330d3[_0x46d357(0x575)]()===_0x3d3413[_0x46d357(0x275)])return;const _0x368664=_0x330d3[_0x46d357(0xe8)]();if(!_0x368664||_0x368664<_0x3cde95)return;const _0x3fb2fd=this[_0x46d357(0x525)](this['configs'][_0x46d357(0x3d8)]['getRemoteConnections'](),_0x3cde95),_0x4264a5=this['getOutgoingOptimizationConnections'](_0x330d3['getRemoteConnections'](),_0x368664)[_0x3fb2fd[_0x46d357(0x221)](([_0x5eacb1])=>_0x5eacb1===_0x3d4302)];if(!_0x4264a5||this[_0x46d357(0x941)][_0x46d357(0x3d8)][_0x46d357(0x142)]()[_0x46d357(0x85)](_0x4264a5[0x0]))return;const _0x4d71ef=this[_0x46d357(0x3c0)][_0x46d357(0x73d)](_0x4264a5[0x0]);if(_0x4d71ef&&_0x4d71ef[_0x46d357(0x575)]()!==_0x3d3413['Offline'])try{await this[_0x46d357(0x941)]['mediator'][_0x46d357(0x5e5)](_0x4264a5[0x0],_0x3b5aa5[_0x46d357(0x2e8)]);const _0xbb820d=Array[_0x46d357(0x46f)](this[_0x46d357(0x249)]['entries']())['find'](([,_0x1348f9])=>_0x1348f9===_0x3d4302);_0xbb820d&&this['optimizationLayers'][_0x46d357(0xb1)](_0xbb820d[0x0],_0x4264a5[0x0]);}catch(_0x2f2dac){if(!(_0x2f2dac instanceof _0x25257a&&_0x2f2dac[_0x46d357(0x2ef)]===_0x25257a[_0x46d357(0x6cc)]['RemoteConnectionExists']))throw _0x2f2dac;_0x10d8cb['log'](_0x44f26b[_0x46d357(0x6a5)],this[_0x46d357(0x941)][_0x46d357(0x3d8)][_0x46d357(0x970)](),_0x4264a5[0x0],_0x2f2dac['message']);}}['getOutgoingOptimizationConnections'](_0x7eefd6,_0x56f590){const _0x4072a2=_0x4d79c3;return Array[_0x4072a2(0x46f)](_0x7eefd6)[_0x4072a2(0x7ab)]((_0x3502d0,_0x458923)=>{const _0x1b436d=_0x4072a2,_0x476309=this[_0x1b436d(0x3c0)][_0x1b436d(0x73d)](_0x458923);if(!_0x476309||_0x476309['getStatus']()===_0x3d3413[_0x1b436d(0x275)])return _0x3502d0;const _0x118e50=_0x476309[_0x1b436d(0xe8)]();if(!_0x118e50)return _0x3502d0;const _0x288532=_0x118e50-_0x56f590;return _0x288532<=this[_0x1b436d(0x3c0)][_0x1b436d(0x315)]()||_0x3502d0[_0x1b436d(0x15b)]([_0x458923,_0x288532]),_0x3502d0;},[])[_0x4072a2(0x694)](([,_0x566159],[,_0x108776])=>_0x566159-_0x108776);}}const _0x66d2c7=[{'problemType':_0x5a89e4[_0x4d79c3(0xa83)],'remediations':[{'type':_0x2ef74f[_0x4d79c3(0xa5f)],'component':_0x34d0d2['Resolution'],'action':_0x25a86b[_0x4d79c3(0x36a)]},{'type':_0x2ef74f[_0x4d79c3(0x8bb)],'component':_0x34d0d2[_0x4d79c3(0x799)],'action':_0x25a86b[_0x4d79c3(0x36a)]}]},{'problemType':_0x5a89e4[_0x4d79c3(0x355)],'remediations':[{'type':_0x2ef74f[_0x4d79c3(0xa5f)],'component':_0x34d0d2[_0x4d79c3(0x799)],'action':_0x25a86b[_0x4d79c3(0x36a)]}]},{'problemType':_0x5a89e4[_0x4d79c3(0x748)],'remediations':[{'type':_0x2ef74f[_0x4d79c3(0xa5f)],'component':_0x34d0d2['Resolution'],'action':_0x25a86b[_0x4d79c3(0x36a)]}]},{'problemType':_0x5a89e4[_0x4d79c3(0x2b3)],'remediations':[{'type':_0x2ef74f[_0x4d79c3(0xa5f)],'component':_0x34d0d2['Resolution'],'action':_0x25a86b['Downgrade']}]},{'problemType':_0x5a89e4[_0x4d79c3(0x6f4)],'remediations':[{'type':_0x2ef74f[_0x4d79c3(0xa5f)],'component':_0x34d0d2[_0x4d79c3(0x6f4)],'action':_0x25a86b[_0x4d79c3(0x36a)]}]},{'problemType':_0x5a89e4['Jitter'],'remediations':[{'type':_0x2ef74f['Remediation'],'component':_0x34d0d2[_0x4d79c3(0x6f4)],'action':_0x25a86b[_0x4d79c3(0x36a)]}]},{'problemType':_0x5a89e4[_0x4d79c3(0x99)],'remediations':[{'type':_0x2ef74f[_0x4d79c3(0xa5f)],'component':_0x34d0d2[_0x4d79c3(0x6f4)],'action':_0x25a86b['Downgrade']}]}];class _0x497b1f{['configs'];[_0x4d79c3(0x3fb)];[_0x4d79c3(0x44d)]=new Map();constructor(_0x6c2135){const _0x3d59b0=_0x4d79c3;this[_0x3d59b0(0x941)]=_0x6c2135,this['configs'][_0x3d59b0(0xd8)][_0x3d59b0(0x8fd)](this);}['close'](){const _0x20653b=_0x4d79c3;this['configs'][_0x20653b(0xd8)][_0x20653b(0x7a2)](this);}[_0x4d79c3(0x618)](_0x5093f9){const _0x33db90=_0x4d79c3;this[_0x33db90(0x3fb)]=_0x5093f9;}[_0x4d79c3(0x373)](){const _0x4a4de7=_0x4d79c3;delete this[_0x4a4de7(0x3fb)];}[_0x4d79c3(0x94)](_0x2f3c80){const _0x33755f=_0x4d79c3;_0x2f3c80[_0x33755f(0x898)][_0x33755f(0x572)]===_0x425442[_0x33755f(0x979)]&&this[_0x33755f(0x774)](_0x2f3c80[_0x33755f(0x898)]['data']);}[_0x4d79c3(0x156)](_0x134ac7){const _0x2c06e4=_0x4d79c3;_0x134ac7[_0x2c06e4(0x898)][_0x2c06e4(0x572)]===_0x2ef74f[_0x2c06e4(0x8bb)]&&this['applyRemediation'](_0x134ac7['sourceId'],{'type':_0x2ef74f[_0x2c06e4(0xa5f)],'component':_0x134ac7[_0x2c06e4(0x898)]['data']['component'],'action':_0x134ac7[_0x2c06e4(0x898)][_0x2c06e4(0x8da)]['action']});}['handleProblem'](_0x2f5b26){const _0x1ff481=_0x4d79c3,_0x35ea5a=_0x66d2c7['find'](_0x1e533f=>_0x1e533f[_0x1ff481(0x136)]===_0x2f5b26[_0x1ff481(0x572)]);_0x35ea5a['remediations']?.[_0x1ff481(0x571)](_0x18e957=>{const _0x5228b2=_0x1ff481;this['applyRemediation'](_0x2f5b26[_0x5228b2(0x55b)],{'type':_0x2f5b26['origin']===_0x134d3f[_0x5228b2(0x785)]?_0x2ef74f[_0x5228b2(0xa5f)]:_0x2ef74f['RemoteRemediation'],'component':_0x18e957[_0x5228b2(0x22c)],'action':_0x18e957['action']});});}[_0x4d79c3(0x4e0)](_0x3441be,_0x1e75f0){const _0x3337bc=_0x4d79c3;if(_0x1e75f0[_0x3337bc(0x572)]===_0x2ef74f[_0x3337bc(0xa5f)]){const _0x2f75d1=Date[_0x3337bc(0x2a6)](),_0x4a1e4b=this[_0x3337bc(0x44d)][_0x3337bc(0x2d3)](_0x3441be);if(_0x4a1e4b&&_0x2f75d1-_0x4a1e4b<0x1388)return;this[_0x3337bc(0x44d)][_0x3337bc(0xb1)](_0x3441be,_0x2f75d1);}_0x10d8cb[_0x3337bc(0x3bc)](_0x44f26b[_0x3337bc(0xa5f)],'Apply\x20remediation',_0x1e75f0),_0x10d8cb[_0x3337bc(0x9f7)]('remediation',{'clusterId':this[_0x3337bc(0x941)]['clusterId'],'nodeId':this[_0x3337bc(0x941)]['localNode'][_0x3337bc(0x970)](),'nodeType':this['configs'][_0x3337bc(0x3d8)][_0x3337bc(0x572)],'remoteId':_0x3441be,'data':{'type':_0x1e75f0[_0x3337bc(0x572)],'component':_0x1e75f0[_0x3337bc(0x22c)],'action':_0x1e75f0['action']}});let _0x47719f,_0x549805=_0x2415f3;_0x1e75f0['type']===_0x2ef74f[_0x3337bc(0x8bb)]&&(_0x549805=this['configs'][_0x3337bc(0x3d8)]['getId'](),_0x47719f=[_0x3441be]),this['systemTopic'][_0x3337bc(0x758)]({'sourceId':_0x549805,'destinationIds':_0x47719f,'messageType':_0x15b885[_0x3337bc(0xa5f)],'content':{'type':_0x1e75f0['type'],'targetId':_0x3441be,'data':_0x1e75f0}});}}const _0x10b815=0x3e8,_0x464f76=0x7530,_0x3fd7cd=_0x4d79c3(0x83e),_0x1f1ea1='remote-inbound-rtp',_0x3ed48d=_0x4d79c3(0x735),_0x148722=[_0x3fd7cd,_0x1f1ea1],_0x2cd9a2=[_0x3ed48d];class _0x1679f6{[_0x4d79c3(0x6c9)]=0x0;[_0x4d79c3(0x314)]=0x0;[_0x4d79c3(0x6cd)]=0x0;['packetsLost']=0x0;[_0x4d79c3(0x295)]=0x0;[_0x4d79c3(0x192)]=0x0;[_0x4d79c3(0x943)]=0x0;[_0x4d79c3(0x595)]=0x0;[_0x4d79c3(0xa65)]=0x0;get['bitrate'](){const _0x357148=_0x4d79c3;return this['currentTimestamp']>0x0&&this[_0x357148(0x943)]>0x0&&Date[_0x357148(0x2a6)]()-this[_0x357148(0x192)]<_0x464f76?(this[_0x357148(0x595)]-this[_0x357148(0xa65)])/(this[_0x357148(0x192)]-this[_0x357148(0x943)])*0x8*0x3e8:0x0;}[_0x4d79c3(0x768)](_0x68226){const _0x2e04c8=_0x4d79c3;switch(_0x68226['type']){case _0x3ed48d:this[_0x2e04c8(0x950)](_0x68226);break;case _0x3fd7cd:this[_0x2e04c8(0xde)](_0x68226);break;case _0x1f1ea1:this[_0x2e04c8(0x697)](_0x68226);}}[_0x4d79c3(0x11c)](){const _0x30df83=_0x4d79c3;return{'bitrate':this[_0x30df83(0x2c9)],'packetsLostPerc':this[_0x30df83(0x33b)](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x30df83(0x6cd)]};}['processInboundReport'](_0x1ead9a){const _0x1f88c7=_0x4d79c3;this['setBytes'](_0x1ead9a[_0x1f88c7(0x312)]),this['setTimestamp'](_0x1ead9a['timestamp']),this['packets']=_0x1ead9a[_0x1f88c7(0x211)],this[_0x1f88c7(0x928)]=_0x1ead9a['packetsLost'],void 0x0!==_0x1ead9a[_0x1f88c7(0x6cd)]?this[_0x1f88c7(0x6cd)]=_0x1ead9a[_0x1f88c7(0x6cd)]:this[_0x1f88c7(0x6cd)]=0x0,void 0x0!==_0x1ead9a[_0x1f88c7(0x314)]?this[_0x1f88c7(0x314)]=_0x1ead9a['estimatedPlayoutTimestamp']:this[_0x1f88c7(0x314)]=0x0;}[_0x4d79c3(0xde)](_0x5545c0){const _0x22cf7a=_0x4d79c3;this[_0x22cf7a(0x1e3)](_0x5545c0[_0x22cf7a(0xeb)]),this[_0x22cf7a(0x4f3)](_0x5545c0[_0x22cf7a(0x139)]),this[_0x22cf7a(0x295)]=_0x5545c0[_0x22cf7a(0xa3a)];}[_0x4d79c3(0x697)](_0x2f79e7){const _0x21083a=_0x4d79c3;this[_0x21083a(0x6c9)]=0x3e8*_0x2f79e7[_0x21083a(0x6c9)],void 0x0!==_0x2f79e7[_0x21083a(0x6cd)]?this[_0x21083a(0x6cd)]=_0x2f79e7[_0x21083a(0x6cd)]:this['jitter']=0x0;}[_0x4d79c3(0x33b)](){const _0x11d043=_0x4d79c3;return this[_0x11d043(0x295)]>0x0?this['packetsLost']/this[_0x11d043(0x295)]:0x0;}[_0x4d79c3(0x4f3)](_0x41c5be){const _0x26b86a=_0x4d79c3;_0x41c5be>this[_0x26b86a(0x192)]&&(this[_0x26b86a(0x943)]=this[_0x26b86a(0x192)],this[_0x26b86a(0x192)]=_0x41c5be);}[_0x4d79c3(0x1e3)](_0x7aef05){const _0x56a814=_0x4d79c3;this[_0x56a814(0xa65)]=this['currentBytes'],this['currentBytes']=_0x7aef05;}}class _0xf0c70e extends _0x1679f6{}class _0x35cdae extends _0x1679f6{[_0x4d79c3(0x280)]=0x0;[_0x4d79c3(0x98f)]=0x0;[_0x4d79c3(0x658)]=0x0;['currentFrames']=0x0;[_0x4d79c3(0x7af)]=0x0;get[_0x4d79c3(0xa9b)](){const _0xc49c31=_0x4d79c3;return this[_0xc49c31(0x192)]>0x0&&this[_0xc49c31(0x943)]>0x0&&Date[_0xc49c31(0x2a6)]()-this['currentTimestamp']<_0x464f76?(this['currentFrames']-this['previousFrames'])/(this[_0xc49c31(0x192)]-this['previousTimestamp'])*0x3e8:0x0;}get[_0x4d79c3(0x5c5)](){const _0x675c06=_0x4d79c3;return this['frameTime']&&this[_0x675c06(0x711)]&&this[_0x675c06(0x711)]>0x0?this[_0x675c06(0x280)]/this[_0x675c06(0x711)]:0x0;}set[_0x4d79c3(0x16b)](_0x5ad075){const _0x35e43b=_0x4d79c3;this['previousFrames']=this[_0x35e43b(0x711)],this[_0x35e43b(0x711)]=_0x5ad075;}[_0x4d79c3(0x11c)](){const _0x87226=_0x4d79c3;return{...super[_0x87226(0x11c)](),'FPS':this[_0x87226(0xa9b)],'timePerFrame':this[_0x87226(0x5c5)],'frameWidth':this['frameWidth'],'frameHeight':this[_0x87226(0x658)]};}[_0x4d79c3(0x950)](_0xfd5df6){const _0x449a3b=_0x4d79c3;super['processInboundReport'](_0xfd5df6),this[_0x449a3b(0x280)]=_0xfd5df6[_0x449a3b(0x8d7)],this['frames']=_0xfd5df6[_0x449a3b(0x5d3)],this[_0x449a3b(0x98f)]=_0xfd5df6[_0x449a3b(0x98f)],this[_0x449a3b(0x658)]=_0xfd5df6[_0x449a3b(0x658)];}[_0x4d79c3(0xde)](_0x212386){const _0x313db2=_0x4d79c3;super['processOutboundReport'](_0x212386),this[_0x313db2(0x280)]=_0x212386[_0x313db2(0x675)],this[_0x313db2(0x16b)]=_0x212386[_0x313db2(0x541)],this['frameWidth']=_0x212386[_0x313db2(0x98f)],this[_0x313db2(0x658)]=_0x212386[_0x313db2(0x658)];}}class _0x2902ef{['audio']=new _0xf0c70e();[_0x4d79c3(0x60c)]=new _0x35cdae();get['bitrate'](){const _0x40e605=_0x4d79c3;return this[_0x40e605(0x2f3)][_0x40e605(0x2c9)]+this['video']['bitrate'];}['processReports'](_0x3a3792){const _0x7734c=_0x4d79c3;return _0x3a3792[_0x7734c(0x571)](_0x5d170c=>{const _0x2fbd01=_0x7734c;switch(_0x5d170c[_0x2fbd01(0x8c4)]){case _0x2fbd01(0x2f3):this[_0x2fbd01(0x2f3)][_0x2fbd01(0x768)](_0x5d170c);break;case _0x2fbd01(0x60c):this[_0x2fbd01(0x60c)][_0x2fbd01(0x768)](_0x5d170c);}}),this[_0x7734c(0x11c)]();}['getReport'](){const _0x1fe5d4=_0x4d79c3;return{'audio':this[_0x1fe5d4(0x2f3)][_0x1fe5d4(0x11c)](),'video':this[_0x1fe5d4(0x60c)][_0x1fe5d4(0x11c)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x1fe5d4(0x56e)](),'bitrate':this[_0x1fe5d4(0x2c9)]};}[_0x4d79c3(0x727)](){const _0x12b957=_0x4d79c3;return Math[_0x12b957(0xa6)]((this[_0x12b957(0x2f3)][_0x12b957(0x6c9)]+this['video']['roundTripTime'])/0x2);}[_0x4d79c3(0x56e)](){const _0x3b1807=_0x4d79c3;return this['audio'][_0x3b1807(0x314)]-this[_0x3b1807(0x60c)]['estimatedPlayoutTimestamp'];}}class _0x28d90a{['senderCurrentTimestamp']=0x0;[_0x4d79c3(0x611)]=0x0;[_0x4d79c3(0x430)]=0x0;[_0x4d79c3(0x66c)]=0x0;['senderCurrentBytes']=0x0;['senderPreviousBytes']=0x0;[_0x4d79c3(0x8e)]=0x0;['receiverPreviousBytes']=0x0;[_0x4d79c3(0x558)]=0x0;[_0x4d79c3(0x6c2)]=0x0;[_0x4d79c3(0x563)]=0x0;[_0x4d79c3(0x3ed)]=0x0;[_0x4d79c3(0x6c9)]=0x0;get['bitrate'](){const _0x271835=_0x4d79c3;return this[_0x271835(0xa73)]+this[_0x271835(0x781)];}get[_0x4d79c3(0xa73)](){const _0x52b962=_0x4d79c3;return this[_0x52b962(0xa0e)]>0x0&&this[_0x52b962(0x611)]>0x0&&Date[_0x52b962(0x2a6)]()-this['senderCurrentTimestamp']<_0x464f76?(this['senderCurrentBytes']-this[_0x52b962(0x159)])/(this['senderCurrentTimestamp']-this[_0x52b962(0x611)])*0x8*0x3e8:0x0;}get[_0x4d79c3(0x781)](){const _0x2bae04=_0x4d79c3;return this['receiverCurrentTimestamp']>0x0&&this['receiverPreviousTimestamp']>0x0&&Date['now']()-this[_0x2bae04(0x430)]<_0x464f76?(this[_0x2bae04(0x8e)]-this[_0x2bae04(0x817)])/(this[_0x2bae04(0x430)]-this[_0x2bae04(0x66c)])*0x8*0x3e8:0x0;}[_0x4d79c3(0x768)](_0x5935cf){const _0x309ef2=_0x4d79c3;switch(_0x5935cf[_0x309ef2(0x1ed)]){case _0x134d3f[_0x309ef2(0x785)]:this['processSenderReport'](_0x5935cf);break;case _0x134d3f[_0x309ef2(0x940)]:this[_0x309ef2(0x129)](_0x5935cf);}}[_0x4d79c3(0x11c)](){const _0x53c93d=_0x4d79c3;return{'bitrate':this[_0x53c93d(0x2c9)],'senderBitrate':this[_0x53c93d(0xa73)],'receiverBitrate':this[_0x53c93d(0x781)],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this[_0x53c93d(0x754)](),'receiverTotalBytes':this[_0x53c93d(0x2e9)](),'totalMessages':this[_0x53c93d(0x558)]+this[_0x53c93d(0x6c2)],'senderTotalMessages':this[_0x53c93d(0x558)],'receiverTotalMessages':this[_0x53c93d(0x6c2)],'timeProcessing':this[_0x53c93d(0x563)]+this[_0x53c93d(0x3ed)],'senderTimeProcessing':this[_0x53c93d(0x563)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x53c93d(0x6c9)]};}[_0x4d79c3(0x737)](){const _0x127a1f=_0x4d79c3;return this[_0x127a1f(0x78a)]+this[_0x127a1f(0x8e)];}[_0x4d79c3(0x754)](){const _0x41632d=_0x4d79c3;return this[_0x41632d(0x78a)];}['getReceiverTotalBytes'](){const _0x233822=_0x4d79c3;return this[_0x233822(0x8e)];}[_0x4d79c3(0x2ec)](_0x3d0539){const _0x37987b=_0x4d79c3;this['setSenderTimestamp'](_0x3d0539[_0x37987b(0x139)]),this['setBytes'](_0x3d0539[_0x37987b(0xeb)]),this['senderTotalMessages']=_0x3d0539[_0x37987b(0x861)],this[_0x37987b(0x563)]=_0x3d0539[_0x37987b(0x555)],this[_0x37987b(0x6c9)]=_0x3d0539['roundTripTime'];}[_0x4d79c3(0x129)](_0x5ef15a){const _0x55abf0=_0x4d79c3;this[_0x55abf0(0x505)](_0x5ef15a['timestamp']),this[_0x55abf0(0x588)](_0x5ef15a['bytesReceived']),this[_0x55abf0(0x6c2)]=_0x5ef15a[_0x55abf0(0x894)],this[_0x55abf0(0x3ed)]=_0x5ef15a[_0x55abf0(0x342)];}[_0x4d79c3(0x808)](_0xc028e3){const _0x3884a2=_0x4d79c3;_0xc028e3>this[_0x3884a2(0xa0e)]&&(this['senderPreviousTimestamp']=this['senderCurrentTimestamp'],this[_0x3884a2(0xa0e)]=_0xc028e3);}['setReceiverTimestamp'](_0x28968f){const _0x216a7d=_0x4d79c3;_0x28968f>this[_0x216a7d(0x430)]&&(this[_0x216a7d(0x66c)]=this[_0x216a7d(0x430)],this[_0x216a7d(0x430)]=_0x28968f);}[_0x4d79c3(0x1e3)](_0x96a7c7){const _0x29e207=_0x4d79c3;this[_0x29e207(0x159)]=this[_0x29e207(0x78a)],this[_0x29e207(0x78a)]=_0x96a7c7;}[_0x4d79c3(0x588)](_0x2c9f75){const _0x9e5378=_0x4d79c3;this['receiverPreviousBytes']=this[_0x9e5378(0x8e)],this[_0x9e5378(0x8e)]=_0x2c9f75;}}class _0x52755f{['senderStreams']=new Map();[_0x4d79c3(0x3ad)]=new Map();[_0x4d79c3(0x57e)]=new _0x28d90a();get[_0x4d79c3(0xa73)](){const _0x55f148=_0x4d79c3;let _0x188edf=0x0;return this[_0x55f148(0x451)][_0x55f148(0x571)](_0x34f4d7=>{const _0x24902c=_0x55f148;_0x188edf+=_0x34f4d7[_0x24902c(0x2c9)];}),_0x188edf+=this[_0x55f148(0x57e)]['senderBitrate'],_0x188edf;}get[_0x4d79c3(0x781)](){const _0x229d24=_0x4d79c3;let _0x4c8bb9=0x0;return this[_0x229d24(0x3ad)][_0x229d24(0x571)](_0x5f1bb8=>{const _0x3c34a7=_0x229d24;_0x4c8bb9+=_0x5f1bb8[_0x3c34a7(0x2c9)];}),_0x4c8bb9+=this[_0x229d24(0x57e)][_0x229d24(0x781)],_0x4c8bb9;}get[_0x4d79c3(0x2c9)](){const _0x1e0a7c=_0x4d79c3;return this[_0x1e0a7c(0xa73)]+this[_0x1e0a7c(0x781)];}['processReports'](_0x2f02e9,_0x5d50b9){const _0x5513f7=_0x4d79c3,_0x1f9d92=[],_0x2ca5a3=[];return _0x2f02e9 instanceof Array?_0x2f02e9[_0x5513f7(0x571)](_0x224d44=>{const _0x23e96c=_0x5513f7;_0x224d44[_0x23e96c(0x571)](_0x42420c=>{const _0x2b4c97=_0x23e96c;_0x2cd9a2[_0x2b4c97(0xcc)](_0x42420c[_0x2b4c97(0x572)])&&_0x1f9d92[_0x2b4c97(0x15b)](_0x42420c),_0x148722[_0x2b4c97(0xcc)](_0x42420c[_0x2b4c97(0x572)])&&_0x2ca5a3[_0x2b4c97(0x15b)](_0x42420c);});}):this[_0x5513f7(0x57e)][_0x5513f7(0x768)](_0x2f02e9),_0x1f9d92[_0x5513f7(0x4bf)]>0x0&&_0x5d50b9?{...this[_0x5513f7(0x11a)](_0x5d50b9,_0x1f9d92),'origin':_0x134d3f[_0x5513f7(0x940)],'streamId':_0x5d50b9}:_0x2ca5a3['length']>0x0&&_0x5d50b9?{...this[_0x5513f7(0x5b0)](_0x5d50b9,_0x2ca5a3),'origin':_0x134d3f['Sender'],'streamId':_0x5d50b9}:void 0x0;}['getReport'](){const _0x4a3770=_0x4d79c3,_0x4e3df1={};this[_0x4a3770(0x451)][_0x4a3770(0x571)]((_0x2aaec4,_0x2e6417)=>{_0x4e3df1[_0x2e6417]=_0x2aaec4['getReport']();});const _0x246ad4={};return this['receiverStreams'][_0x4a3770(0x571)]((_0x59118a,_0x3a7fca)=>{const _0x337a98=_0x4a3770;_0x246ad4[_0x3a7fca]=_0x59118a[_0x337a98(0x11c)]();}),{'bitrate':this[_0x4a3770(0x2c9)],'senderBitrate':this[_0x4a3770(0xa73)],'receiverBitrate':this[_0x4a3770(0x781)],'senderStreams':_0x4e3df1,'receiverStreams':_0x246ad4,'dataChannel':this[_0x4a3770(0x57e)][_0x4a3770(0x11c)]()};}[_0x4d79c3(0x11a)](_0x4cf8ee,_0x32e820){const _0x574467=_0x4d79c3;return this['receiverStreams'][_0x574467(0x85)](_0x4cf8ee)||this[_0x574467(0x3ad)][_0x574467(0xb1)](_0x4cf8ee,new _0x2902ef()),this[_0x574467(0x3ad)][_0x574467(0x2d3)](_0x4cf8ee)[_0x574467(0x777)](_0x32e820);}[_0x4d79c3(0x5b0)](_0x59d53c,_0x5c1112){const _0x4a3996=_0x4d79c3;return this[_0x4a3996(0x451)][_0x4a3996(0x85)](_0x59d53c)||this[_0x4a3996(0x451)]['set'](_0x59d53c,new _0x2902ef()),this[_0x4a3996(0x451)][_0x4a3996(0x2d3)](_0x59d53c)[_0x4a3996(0x777)](_0x5c1112);}}class _0x13442d{[_0x4d79c3(0xb9)]=new Map();['scheduleTime']=0x0;[_0x4d79c3(0xa68)]=0x0;[_0x4d79c3(0x64c)]=new Map();['objectStores']=new Map();['keyValueDatabases']=new Map();[_0x4d79c3(0x7c4)]=new Map();[_0x4d79c3(0x67b)]=new Map();['vectorDatabases']=new Map();[_0x4d79c3(0x720)]=new Map();[_0x4d79c3(0x5d5)]=new Map();[_0x4d79c3(0x558)]=new Map();[_0x4d79c3(0x6c2)]=new Map();[_0x4d79c3(0x563)]=new Map();[_0x4d79c3(0x3ed)]=new Map();[_0x4d79c3(0x7e4)]=new Map();[_0x4d79c3(0x3fb)];[_0x4d79c3(0x11c)](){const _0x4566c8=_0x4d79c3,_0x456faa={};this[_0x4566c8(0xb9)][_0x4566c8(0x571)]((_0x531992,_0x5a4536)=>{const _0x455355=_0x4566c8;_0x456faa[_0x5a4536]=_0x531992[_0x455355(0x11c)]();});let _0x226c6a=0x0;this[_0x4566c8(0x563)][_0x4566c8(0x571)](_0x2a52c1=>{_0x226c6a+=_0x2a52c1;});let _0x6d52b2=0x0;this[_0x4566c8(0x3ed)][_0x4566c8(0x571)](_0x45a757=>{_0x6d52b2+=_0x45a757;});const _0x177e7b=_0x226c6a+_0x6d52b2;let _0x4b6922={'messages':{'total':0x0}};this[_0x4566c8(0x7e4)]['forEach'](_0x493686=>{const _0x4f4718=_0x4566c8;Object['keys'](_0x493686)[_0x4f4718(0x571)](_0x52b941=>{const _0x8e8ff9=_0x4f4718;_0x4b6922[_0x52b941]||(_0x4b6922[_0x52b941]={}),Object[_0x8e8ff9(0x261)](_0x493686[_0x52b941])['forEach'](_0x3bdba3=>{_0x4b6922[_0x52b941][_0x3bdba3]||(_0x4b6922[_0x52b941][_0x3bdba3]=0x0),_0x4b6922[_0x52b941][_0x3bdba3]+=_0x493686[_0x52b941][_0x3bdba3];});});});let _0xe5b02=0x0,_0x612e31=0x0,_0x122ffd=0x0,_0x58416d=0x0,_0x209c95=0x0;return this['pubsubTopics'][_0x4566c8(0x571)](_0x396dbe=>{const _0x5d4e52=_0x4566c8;_0x612e31+=_0x396dbe['messagesSent'],_0x122ffd+=_0x396dbe[_0x5d4e52(0x894)],_0x58416d+=_0x396dbe[_0x5d4e52(0xeb)],_0x209c95+=_0x396dbe[_0x5d4e52(0x312)];}),this['objectStores'][_0x4566c8(0x571)](_0x397033=>{const _0xafc87e=_0x4566c8;_0xe5b02+=_0x397033['storage'],_0x612e31+=_0x397033[_0xafc87e(0x861)],_0x122ffd+=_0x397033['messagesReceived'],_0x58416d+=_0x397033[_0xafc87e(0xeb)],_0x209c95+=_0x397033[_0xafc87e(0x312)];}),this[_0x4566c8(0x888)][_0x4566c8(0x571)](_0x29c2f1=>{const _0x3dd98d=_0x4566c8;_0xe5b02+=_0x29c2f1[_0x3dd98d(0x42f)],_0x612e31+=_0x29c2f1['messagesSent'],_0x122ffd+=_0x29c2f1[_0x3dd98d(0x894)],_0x58416d+=_0x29c2f1[_0x3dd98d(0xeb)],_0x209c95+=_0x29c2f1[_0x3dd98d(0x312)];}),this[_0x4566c8(0x7c4)][_0x4566c8(0x571)](_0x5c6c30=>{const _0x3371a7=_0x4566c8;_0xe5b02+=_0x5c6c30[_0x3371a7(0x42f)],_0x612e31+=_0x5c6c30['messagesSent'],_0x122ffd+=_0x5c6c30[_0x3371a7(0x894)],_0x58416d+=_0x5c6c30[_0x3371a7(0xeb)],_0x209c95+=_0x5c6c30[_0x3371a7(0x312)];}),this['generativeAIWorkers'][_0x4566c8(0x571)](_0x131c4b=>{const _0x4c3d9c=_0x4566c8;_0xe5b02+=_0x131c4b[_0x4c3d9c(0x42f)],_0x612e31+=_0x131c4b[_0x4c3d9c(0x861)],_0x122ffd+=_0x131c4b[_0x4c3d9c(0x894)],_0x58416d+=_0x131c4b[_0x4c3d9c(0xeb)],_0x209c95+=_0x131c4b['bytesReceived'];}),this[_0x4566c8(0x81)][_0x4566c8(0x571)](_0x13345e=>{const _0x46dbe9=_0x4566c8;_0xe5b02+=_0x13345e['storage'],_0x612e31+=_0x13345e[_0x46dbe9(0x861)],_0x122ffd+=_0x13345e[_0x46dbe9(0x894)],_0x58416d+=_0x13345e[_0x46dbe9(0xeb)],_0x209c95+=_0x13345e[_0x46dbe9(0x312)];}),this[_0x4566c8(0x720)][_0x4566c8(0x571)](_0x25bec6=>{const _0x53e376=_0x4566c8;_0xe5b02+=_0x25bec6[_0x53e376(0x42f)],_0x612e31+=_0x25bec6['messagesSent'],_0x122ffd+=_0x25bec6['messagesReceived'],_0x58416d+=_0x25bec6[_0x53e376(0xeb)],_0x209c95+=_0x25bec6[_0x53e376(0x312)];}),{'STVolatility':this[_0x4566c8(0xca)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x4566c8(0x9af)](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0xe5b02,'totalMessages':_0x612e31+_0x122ffd,'totalMessagesSent':_0x612e31,'totalMessagesReceived':_0x122ffd,'totalBytes':_0x58416d+_0x209c95,'totalBytesSent':_0x58416d,'totalBytesReceived':_0x209c95,'systemMessages':_0x4b6922,'timeProcessing':_0x177e7b,'nodes':_0x456faa,'pubsubTopics':Object[_0x4566c8(0x712)](this[_0x4566c8(0x64c)]),'objectStores':Object[_0x4566c8(0x712)](this[_0x4566c8(0x951)]),'keyValueDatabases':Object[_0x4566c8(0x712)](this[_0x4566c8(0x888)]),'generativeAIContexts':Object[_0x4566c8(0x712)](this[_0x4566c8(0x7c4)]),'generativeAIWorkers':Object[_0x4566c8(0x712)](this[_0x4566c8(0x67b)]),'vectorDatabases':Object[_0x4566c8(0x712)](this[_0x4566c8(0x81)]),'graphDatabases':Object[_0x4566c8(0x712)](this[_0x4566c8(0x720)]),'externalStorages':Object[_0x4566c8(0x712)](this['externalStorages'])};}['addRemoteNode'](_0x54a344){this['nodes']['set'](_0x54a344,new _0x52755f());}[_0x4d79c3(0x4e1)](_0xab616f){const _0x52c09c=_0x4d79c3;this[_0x52c09c(0xb9)][_0x52c09c(0x86a)](_0xab616f);}[_0x4d79c3(0x777)](_0x5020be,_0x14f14a,_0x13eea4){const _0x237416=_0x4d79c3;_0x14f14a instanceof Array||this[_0x237416(0x986)](_0x5020be,_0x14f14a);const _0xddd180=this[_0x237416(0xb9)]['get'](_0x5020be)?.[_0x237416(0x777)](_0x14f14a,_0x13eea4);_0xddd180&&this[_0x237416(0x3fb)]['publish']({'sourceId':_0x2415f3,'messageType':_0x15b885[_0x237416(0x106)],'content':{'type':_0xcd07f5[_0x237416(0x34a)],'data':{..._0xddd180,'nodeId':_0x5020be}}});}[_0x4d79c3(0x304)](_0x47e033){const _0x514fe1=_0x4d79c3;this[_0x514fe1(0x148)](_0x47e033[_0x514fe1(0x565)]),this['setDurationTime'](_0x47e033['durationTime']),this['systemTopic'][_0x514fe1(0x758)]({'sourceId':_0x2415f3,'messageType':_0x15b885['Stats'],'content':{'type':_0xcd07f5[_0x514fe1(0x85d)],'data':{'STVolatility':this[_0x514fe1(0xca)](),'DTVolatility':this['getDTVolatility']()}}});}[_0x4d79c3(0x137)](_0x4c3a3e,_0x5c2039,_0x247111){const _0x310af5=_0x4d79c3;switch(_0x5c2039){case _0x4fa1d5[_0x310af5(0x9dd)]:this[_0x310af5(0x64c)][_0x310af5(0xb1)](_0x4c3a3e,_0x247111);break;case _0x4fa1d5[_0x310af5(0x6e4)]:this[_0x310af5(0x951)][_0x310af5(0xb1)](_0x4c3a3e,_0x247111);break;case _0x4fa1d5[_0x310af5(0x92e)]:this['keyValueDatabases'][_0x310af5(0xb1)](_0x4c3a3e,_0x247111);break;case _0x4fa1d5['GenerativeAIContextStats']:this[_0x310af5(0x7c4)]['set'](_0x4c3a3e,_0x247111);break;case _0x4fa1d5['GenerativeAIWorkerStats']:this[_0x310af5(0x67b)]['set'](_0x4c3a3e,_0x247111);break;case _0x4fa1d5[_0x310af5(0x420)]:this[_0x310af5(0x81)][_0x310af5(0xb1)](_0x4c3a3e,_0x247111);break;case _0x4fa1d5[_0x310af5(0x2cc)]:this[_0x310af5(0x720)]['set'](_0x4c3a3e,_0x247111);break;case _0x4fa1d5[_0x310af5(0x227)]:this[_0x310af5(0x5d5)]['set'](_0x4c3a3e,_0x247111);}}[_0x4d79c3(0x618)](_0x47c6c1){this['systemTopic']=_0x47c6c1;}[_0x4d79c3(0x373)](){const _0x239b08=_0x4d79c3;delete this[_0x239b08(0x3fb)];}['getSTVolatility'](){const _0x34fd6b=_0x4d79c3;return this[_0x34fd6b(0xaa8)]>0x0&&this[_0x34fd6b(0xaa8)]-_0x10b815>0x0?(this[_0x34fd6b(0xaa8)]-_0x10b815)/_0x10b815:0x0;}[_0x4d79c3(0x5d2)](){const _0x2643c3=_0x4d79c3;return this[_0x2643c3(0xa68)]>0x0&&this[_0x2643c3(0xa68)]-0x64>0x0?(this[_0x2643c3(0xa68)]-0x64)/0x64:0x0;}[_0x4d79c3(0x824)](){const _0x253048=_0x4d79c3;let _0xb2a791=0x0;return this[_0x253048(0xb9)][_0x253048(0x571)](_0x3e798a=>{const _0x1ad6a9=_0x253048;_0xb2a791+=_0x3e798a[_0x1ad6a9(0xa73)];}),_0xb2a791;}['getReceiverBitrate'](){const _0x4ce327=_0x4d79c3;let _0x131c29=0x0;return this['nodes'][_0x4ce327(0x571)](_0x300f14=>{const _0x4fdb6d=_0x4ce327;_0x131c29+=_0x300f14[_0x4fdb6d(0x781)];}),_0x131c29;}['getBitrate'](){const _0x272776=_0x4d79c3;let _0x182dc0=0x0;return this[_0x272776(0xb9)][_0x272776(0x571)](_0x2ec4d5=>{const _0x2c31b3=_0x272776;_0x182dc0+=_0x2ec4d5[_0x2c31b3(0x2c9)];}),_0x182dc0;}[_0x4d79c3(0x148)](_0x14540c){const _0x207cf4=_0x4d79c3;this[_0x207cf4(0xaa8)]=_0x14540c;}[_0x4d79c3(0x73c)](_0x549194){const _0x3354ca=_0x4d79c3;this[_0x3354ca(0xa68)]=_0x549194;}[_0x4d79c3(0x986)](_0x58236e,_0x3aef54){const _0x1b591d=_0x4d79c3;switch(_0x3aef54[_0x1b591d(0x1ed)]){case _0x134d3f[_0x1b591d(0x785)]:this[_0x1b591d(0x2ec)](_0x58236e,_0x3aef54);break;case _0x134d3f[_0x1b591d(0x940)]:this['processReceiverReport'](_0x58236e,_0x3aef54);}}[_0x4d79c3(0x2ec)](_0x113445,_0x54d40b){const _0x52d0ec=_0x4d79c3;this[_0x52d0ec(0x558)][_0x52d0ec(0xb1)](_0x113445,_0x54d40b['messagesSent']),this['senderTimeProcessing'][_0x52d0ec(0xb1)](_0x113445,_0x54d40b[_0x52d0ec(0x555)]);}[_0x4d79c3(0x129)](_0x487c3d,_0x221552){const _0x30db59=_0x4d79c3;this[_0x30db59(0x6c2)][_0x30db59(0xb1)](_0x487c3d,_0x221552[_0x30db59(0x894)]),this[_0x30db59(0x3ed)]['set'](_0x487c3d,_0x221552[_0x30db59(0x342)]),this[_0x30db59(0x7e4)][_0x30db59(0xb1)](_0x487c3d,_0x221552[_0x30db59(0x7e4)]);}}class _0x3dd2d8{['configs'];['remoteNodes']=new Set();[_0x4d79c3(0x849)];[_0x4d79c3(0x3cf)];['statsReporting'];[_0x4d79c3(0x4b0)]=new _0x13442d();constructor(_0x4acb6c){const _0x53d151=_0x4d79c3;this[_0x53d151(0x941)]=_0x4acb6c,this[_0x53d151(0x941)]['mediator'][_0x53d151(0x8fd)](this[_0x53d151(0x4b0)]),this[_0x53d151(0x3cf)]=this['setupStatsCollection'](),this[_0x53d151(0x1ad)]=this[_0x53d151(0xdd)]();}[_0x4d79c3(0x8f0)](){const _0x25200b=_0x4d79c3;this['configs'][_0x25200b(0xd8)][_0x25200b(0x7a2)](this[_0x25200b(0x4b0)]),this[_0x25200b(0x1ad)](),this[_0x25200b(0x3cf)]();}[_0x4d79c3(0xe2)](_0x3b36d1){const _0x220bc3=_0x4d79c3;this[_0x220bc3(0x1f4)][_0x220bc3(0x306)](_0x3b36d1),this[_0x220bc3(0x4b0)][_0x220bc3(0xe2)](_0x3b36d1);}[_0x4d79c3(0x4e1)](_0xe6bb76){const _0x5b0847=_0x4d79c3;this[_0x5b0847(0x1f4)]['delete'](_0xe6bb76),this[_0x5b0847(0x4b0)][_0x5b0847(0x4e1)](_0xe6bb76);}[_0x4d79c3(0xa0c)](_0x4113a6){const _0x3cb7a6=_0x4d79c3;if(_0x4113a6[_0x3cb7a6(0x898)][_0x3cb7a6(0x572)]===_0x4663c4[_0x3cb7a6(0x106)]){const {nodeId:_0xd08ccd,streamId:_0x2f608b,stats:_0x47249c}=_0x4113a6[_0x3cb7a6(0x898)];this[_0x3cb7a6(0x4b0)][_0x3cb7a6(0x777)](_0xd08ccd,_0x47249c,_0x2f608b);}}[_0x4d79c3(0x8ea)](_0x463979){const _0x34e6c1=_0x4d79c3;switch(_0x463979[_0x34e6c1(0x898)]['type']){case _0x4fa1d5['ObjectStoreStats']:case _0x4fa1d5[_0x34e6c1(0x92e)]:case _0x4fa1d5['PubSubTopicStats']:case _0x4fa1d5['GenerativeAIContextStats']:case _0x4fa1d5[_0x34e6c1(0x71f)]:case _0x4fa1d5[_0x34e6c1(0x420)]:case _0x4fa1d5[_0x34e6c1(0x2cc)]:case _0x4fa1d5[_0x34e6c1(0x227)]:this[_0x34e6c1(0x4b0)][_0x34e6c1(0x137)](_0x463979[_0x34e6c1(0x898)][_0x34e6c1(0x9d4)],_0x463979['content'][_0x34e6c1(0x572)],_0x463979['content'][_0x34e6c1(0x511)]);}}[_0x4d79c3(0xdd)](){const _0x41a17b=_0x4d79c3;return _0x53a877[_0x41a17b(0xa6c)](()=>{const _0x5cf633=_0x41a17b,_0xb83808=this['statsReport'][_0x5cf633(0x11c)]();_0x10d8cb[_0x5cf633(0x3bc)](_0x44f26b[_0x5cf633(0x106)],_0x5cf633(0x680),_0xb83808),(0x0,_0x194189[_0x5cf633(0x42a)])((0x0,_0x194189['collection'])(_0x46a54c['getFirestore'](),_0x5cf633(0x62d)+this['configs']['vendorId']+_0x5cf633(0xa6d)),{'clusterId':this[_0x5cf633(0x941)][_0x5cf633(0x5b6)],'nodeId':this[_0x5cf633(0x941)]['localNode'][_0x5cf633(0x970)](),'nodeType':this[_0x5cf633(0x941)][_0x5cf633(0x3d8)][_0x5cf633(0x572)],'timestamp':(0x0,_0x194189['serverTimestamp'])(),'report':_0xb83808}),_0x10d8cb['logEvent'](_0x5cf633(0x511),{'clusterId':this[_0x5cf633(0x941)][_0x5cf633(0x5b6)],'nodeId':this['configs']['localNode'][_0x5cf633(0x970)](),'nodeType':this[_0x5cf633(0x941)][_0x5cf633(0x3d8)][_0x5cf633(0x572)],'data':{'report':_0xb83808}});},_0x464f76);}['setupStatsCollection'](){const _0x2c291e=_0x4d79c3;let _0x9805b0=!0x1,_0x55e240=Date[_0x2c291e(0x2a6)]();return _0x53a877[_0x2c291e(0xa6c)](async()=>{const _0x52d71b=_0x2c291e;if(_0x9805b0)return;if(_0x9805b0=!0x0,0x0===this[_0x52d71b(0x1f4)][_0x52d71b(0x517)])return delete this['nextNodeId'],void(_0x9805b0=!0x1);const _0x3797d5=Date[_0x52d71b(0x2a6)]();this[_0x52d71b(0x22a)]();try{await this[_0x52d71b(0x941)][_0x52d71b(0xd8)]['collectStats'](this[_0x52d71b(0x849)]);}catch(_0x3c612e){}this[_0x52d71b(0x4b0)][_0x52d71b(0x304)]({'secheduleTime':_0x3797d5-_0x55e240,'durationTime':Date[_0x52d71b(0x2a6)]()-_0x3797d5}),_0x55e240=_0x3797d5,_0x9805b0=!0x1;},_0x10b815);}[_0x4d79c3(0x22a)](){const _0x342f49=_0x4d79c3;let _0x3d87f2,_0x30d419=!0x1;this[_0x342f49(0x849)]&&(this[_0x342f49(0x1f4)][_0x342f49(0x85)](this['nextNodeId'])||delete this[_0x342f49(0x849)]);for(const _0x7fceac of this[_0x342f49(0x1f4)])if(_0x3d87f2||(_0x3d87f2=_0x7fceac),this[_0x342f49(0x849)]!==_0x7fceac){if(_0x30d419)return void(this[_0x342f49(0x849)]=_0x7fceac);}else _0x30d419=!0x0,delete this[_0x342f49(0x849)];this[_0x342f49(0x849)]||(this[_0x342f49(0x849)]=_0x3d87f2);}}class _0x5ab518{[_0x4d79c3(0x405)];[_0x4d79c3(0x407)];[_0x4d79c3(0x3fb)];constructor(_0x449326,_0x2b0e2a){const _0x141eab=_0x4d79c3;this[_0x141eab(0x405)]=_0x449326,this[_0x141eab(0x407)]=_0x2b0e2a;}[_0x4d79c3(0x618)](_0x37a0f5){const _0x34c2c8=_0x4d79c3;this[_0x34c2c8(0x3fb)]=_0x37a0f5;}[_0x4d79c3(0x373)](){delete this['systemTopic'];}}class _0x4fb6a9 extends _0x5ab518{[_0x4d79c3(0x405)];['destination'];[_0x4d79c3(0x521)];constructor(_0x57bdce,_0x2f1655,_0x2eaed6){const _0xf7e002=_0x4d79c3;super(_0x57bdce,_0x2f1655),this['source']=_0x57bdce,this[_0xf7e002(0x407)]=_0x2f1655,this['params']=_0x2eaed6;}['subscribe'](_0x3417a4,_0x447f3b,_0x5229b7){const _0x2b5103=_0x4d79c3;if(this[_0x2b5103(0x407)]['getContentType']()===_0xf8ccf2[_0x2b5103(0x3fc)][_0x2b5103(0x851)]){const _0x1b2b67={'type':_0x4cf11e[_0x2b5103(0x29b)],'label':this[_0x2b5103(0x407)]['getLabel'](),'ownerId':_0x3417a4,'trackKinds':_0x447f3b??this[_0x2b5103(0x407)]['getAvailableTrackKinds'](),'params':_0x5229b7};this['systemTopic'][_0x2b5103(0x758)]({'sourceId':this[_0x2b5103(0x405)][_0x2b5103(0x7f)](),'destinationIds':[this['source'][_0x2b5103(0xa69)]()],'messageType':_0x15b885['Subscription'],'content':_0x1b2b67}),this[_0x2b5103(0x521)]=_0x5229b7;}}['update'](_0x57c1f6,_0x1bbade){const _0x30aa2d=_0x4d79c3;if(this[_0x30aa2d(0x407)][_0x30aa2d(0x2c5)]()===_0xf8ccf2[_0x30aa2d(0x3fc)][_0x30aa2d(0x851)]){const _0x2f91c6={'type':_0x4cf11e[_0x30aa2d(0x477)],'label':this['destination'][_0x30aa2d(0xa98)](),'ownerId':_0x57c1f6,'params':_0x1bbade};this['systemTopic'][_0x30aa2d(0x758)]({'sourceId':this[_0x30aa2d(0x405)][_0x30aa2d(0x7f)](),'destinationIds':[this[_0x30aa2d(0x405)][_0x30aa2d(0xa69)]()],'messageType':_0x15b885[_0x30aa2d(0xa34)],'content':_0x2f91c6}),this[_0x30aa2d(0x521)]=_0x1bbade;}}[_0x4d79c3(0x5fc)](_0x3cce2c,_0x4121df,_0x2545e6){const _0x3797bf=_0x4d79c3;if(this[_0x3797bf(0x407)]['getContentType']()===_0xf8ccf2['ContentType'][_0x3797bf(0x851)]){const _0x234ab3={'type':_0x4cf11e[_0x3797bf(0x829)],'label':this[_0x3797bf(0x407)][_0x3797bf(0xa98)](),'ownerId':_0x3cce2c,'trackKinds':_0x2545e6??this[_0x3797bf(0x407)]['getAvailableTrackKinds'](),'remainingTracks':_0x4121df};this[_0x3797bf(0x3fb)]['publish']({'sourceId':this[_0x3797bf(0x405)][_0x3797bf(0x7f)](),'destinationIds':[this['source'][_0x3797bf(0xa69)]()],'messageType':_0x15b885['Subscription'],'content':_0x234ab3});}}}class _0x30fbb8{[_0x4d79c3(0x349)];[_0x4d79c3(0x9d6)];[_0x4d79c3(0x24c)];['systemTopic'];['answers']=new Set();[_0x4d79c3(0xa9)]=Date[_0x4d79c3(0x2a6)]();[_0x4d79c3(0x521)];[_0x4d79c3(0x5bc)]=0x0;constructor(_0x1b96aa,_0x28ffad,_0x1698a9,_0x2e5558){const _0x1cf4dd=_0x4d79c3;this[_0x1cf4dd(0x349)]=_0x28ffad,this[_0x1cf4dd(0x9d6)]=_0x1698a9,this[_0x1cf4dd(0x24c)]=_0x2e5558,_0x1b96aa[_0x1cf4dd(0x571)](_0x5a6410=>{const _0x388b42=_0x1cf4dd;this[_0x388b42(0x205)][_0x388b42(0x306)]({'nodeId':_0x5a6410,'type':_0x5df1cb[_0x388b42(0xa61)]});});}['getTracks'](){const _0x2026c2=_0x4d79c3;return this[_0x2026c2(0x24c)];}[_0x4d79c3(0x618)](_0x620a13){const _0x542b8e=_0x4d79c3;this[_0x542b8e(0x3fb)]=_0x620a13;}[_0x4d79c3(0x373)](){const _0x747433=_0x4d79c3;delete this[_0x747433(0x3fb)];}[_0x4d79c3(0x31d)](_0x20f359,_0x3cbced){const _0x44ead8=_0x4d79c3;this[_0x44ead8(0xa9)]=Date['now'](),this[_0x44ead8(0x205)][_0x44ead8(0x2cb)](),_0x20f359[_0x44ead8(0x571)](_0x575529=>{const _0x2ad4e8=_0x44ead8;this['answers'][_0x2ad4e8(0x306)]({'nodeId':_0x575529,'type':_0x5df1cb['Waiting']});}),this[_0x44ead8(0x5bc)]+=0x1,this['currentDistance']=_0x3cbced;}[_0x4d79c3(0x9ca)](_0x3479e5,_0x10deb1,_0x15ab8c,_0x3d2b89,_0x5d668f){const _0x1590b9=_0x4d79c3;if(this[_0x1590b9(0x5bc)]>0xa)throw new _0x25257a(_0x25257a[_0x1590b9(0x6cc)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x1590b9(0x46f)](this[_0x1590b9(0x205)])[_0x1590b9(0x384)](_0x209a76=>({'nodeId':_0x209a76[_0x1590b9(0x55b)],'type':_0x209a76[_0x1590b9(0x572)]}))});const _0x411803=Array[_0x1590b9(0x46f)](this[_0x1590b9(0x205)])[_0x1590b9(0x384)](_0x8063cc=>_0x8063cc[_0x1590b9(0x55b)]);this['params']=_0x5d668f,this['systemTopic'][_0x1590b9(0x758)]({'sourceId':_0x3479e5,'destinationIds':_0x411803,'messageType':_0x15b885['Subscription'],'content':{'type':_0x4cf11e[_0x1590b9(0x443)],'label':_0x15ab8c,'ownerId':_0x10deb1,'trackKinds':_0x3d2b89,'params':_0x5d668f}}),_0x10d8cb[_0x1590b9(0x3bc)](_0x44f26b[_0x1590b9(0xa34)],_0x1590b9(0x7c9),_0x3479e5,_0x411803);}[_0x4d79c3(0x5e3)](_0x3d2587,_0x1165a3){const _0x20aac0=_0x4d79c3;switch(_0x1165a3[_0x20aac0(0x572)]){case _0x4cf11e[_0x20aac0(0x17b)]:{const _0xa75d7e=this[_0x20aac0(0x349)]>=_0x1165a3[_0x20aac0(0x5a5)]&&_0x1165a3[_0x20aac0(0x5a5)]<=this['maxDistance'],_0x35d2bf=Array[_0x20aac0(0x46f)](this[_0x20aac0(0x205)])[_0x20aac0(0x483)](_0x22115a=>_0x22115a['nodeId']===_0x3d2587);_0x35d2bf[_0x20aac0(0x572)]=_0xa75d7e?_0x5df1cb[_0x20aac0(0x981)]:_0x5df1cb[_0x20aac0(0xa22)],_0x35d2bf[_0x20aac0(0x29e)]=_0x1165a3[_0x20aac0(0x29e)],_0x35d2bf[_0x20aac0(0x5a5)]=_0x1165a3[_0x20aac0(0x5a5)],_0x35d2bf['streamId']=_0x1165a3[_0x20aac0(0x6d)],_0x35d2bf[_0x20aac0(0x6c9)]=Date[_0x20aac0(0x2a6)]()-this['startTime'],_0x35d2bf[_0x20aac0(0x521)]=this[_0x20aac0(0x521)],_0x35d2bf['ownerId']=_0x1165a3[_0x20aac0(0x6fa)],_0x35d2bf[_0x20aac0(0x962)]=_0x1165a3['trackKinds'],_0x35d2bf['streamLabel']=_0x1165a3['label'],_0x10d8cb[_0x20aac0(0x3bc)](_0x44f26b[_0x20aac0(0xa34)],(_0xa75d7e?'Accepted':'Rejected')+_0x20aac0(0x3b7),_0x35d2bf);break;}case _0x4cf11e[_0x20aac0(0xa43)]:{const _0x9f6c08=Array['from'](this['answers'])[_0x20aac0(0x483)](_0x4f0a47=>_0x4f0a47[_0x20aac0(0x55b)]===_0x3d2587);_0x9f6c08[_0x20aac0(0x572)]=_0x5df1cb['Rejected'],_0x10d8cb['log'](_0x44f26b[_0x20aac0(0xa34)],'Rejected\x20answer',_0x9f6c08);break;}}if(this[_0x20aac0(0x49c)]())return this[_0x20aac0(0x2cd)]();}[_0x4d79c3(0x2cd)](){const _0x26fdf9=_0x4d79c3,_0x1b7bea=Array[_0x26fdf9(0x46f)](this['answers'])['filter'](_0x153b01=>_0x153b01[_0x26fdf9(0x572)]===_0x5df1cb[_0x26fdf9(0x981)])['sort']((_0xf35285,_0x5152f1)=>_0xf35285[_0x26fdf9(0x29e)]===_0x5152f1['cost']?_0xf35285[_0x26fdf9(0x6c9)]-_0x5152f1[_0x26fdf9(0x6c9)]:_0xf35285[_0x26fdf9(0x29e)]-_0x5152f1['cost']);if(0x0===_0x1b7bea[_0x26fdf9(0x4bf)])throw new _0x25257a(_0x25257a[_0x26fdf9(0x6cc)][_0x26fdf9(0x128)],{'answers':Array[_0x26fdf9(0x46f)](this[_0x26fdf9(0x205)])[_0x26fdf9(0x384)](_0x9c3c2c=>({'nodeId':_0x9c3c2c[_0x26fdf9(0x55b)],'type':_0x9c3c2c[_0x26fdf9(0x572)]}))});return _0x10d8cb[_0x26fdf9(0x3bc)](_0x44f26b[_0x26fdf9(0xa34)],_0x26fdf9(0x2fa),_0x1b7bea[0x0],this[_0x26fdf9(0x205)]),_0x1b7bea[0x0];}[_0x4d79c3(0x49c)](){const _0x5a6a34=_0x4d79c3;for(const _0x1a6cb5 of this[_0x5a6a34(0x205)])if(_0x1a6cb5[_0x5a6a34(0x572)]===_0x5df1cb[_0x5a6a34(0xa61)])return!0x1;return!0x0;}}class _0x515982{[_0x4d79c3(0x9d4)];['contentType'];[_0x4d79c3(0x494)]=_0x1eb396();constructor(_0x58ba17,_0x200aeb){const _0x4d0de8=_0x4d79c3;this[_0x4d0de8(0x9d4)]=_0x58ba17,this[_0x4d0de8(0x198)]=_0x200aeb;}[_0x4d79c3(0xa98)](){const _0x119cfc=_0x4d79c3;return this[_0x119cfc(0x9d4)];}['getContentType'](){return this['contentType'];}[_0x4d79c3(0x8ab)](_0x2bec89){const _0x52a7a9=_0x4d79c3;_0x2bec89[_0x52a7a9(0x4c4)](this);}[_0x4d79c3(0x907)](_0x3469af){const _0x146f92=_0x4d79c3;_0x3469af[_0x146f92(0x25f)](this);}[_0x4d79c3(0x758)](_0x24411e){const _0x56882b=_0x4d79c3;this[_0x56882b(0x494)][_0x56882b(0x758)]({'topicLabel':this['label'],'contentType':this[_0x56882b(0x198)],'uuid':(0x0,_0x15d077['v4'])(),'recipients':[],..._0x24411e});}['subscribe'](_0x187f0d){return this['listener']['subscribe'](_0x187f0d);}[_0x4d79c3(0x8b8)](_0x27e2bb){const _0x5ee1fc=_0x4d79c3;_0x27e2bb[_0x5ee1fc(0x6d0)](this);}['unregisterDestination'](_0x5b621b){_0x5b621b['unregisterSubscriber'](this);}}class _0x2d1bc1{[_0x4d79c3(0xa0a)]={'topics':new Map(),'subscriptions':new Map()};[_0x4d79c3(0x32b)];constructor(_0x4557cd){const _0x21bd30=_0x4d79c3;this[_0x21bd30(0x32b)]=_0x4557cd;}get['subscriptions'](){const _0x50d947=_0x4d79c3;return this[_0x50d947(0xa0a)]['subscriptions'];}get[_0x4d79c3(0x8f8)](){const _0x650fbc=_0x4d79c3;return this[_0x650fbc(0xa0a)][_0x650fbc(0x8f8)];}[_0x4d79c3(0xa03)](_0x57b19c,_0x3467ca){const _0x42603e=_0x4d79c3,_0x1208d7=this[_0x42603e(0x32b)](_0x3467ca),_0x44cccb=_0x12b086(_0x57b19c);if(!_0x1208d7['supportsContentType'])throw new _0x25257a(_0x25257a[_0x42603e(0x6cc)]['InvalidSubscription'],{'message':_0x44cccb+':\x20'+_0x1208d7[_0x42603e(0x1bc)]+_0x42603e(0x1dc)+_0x1208d7['contentType'],'subscriptionType':_0x57b19c,'subscription':_0x3467ca,'subscriptonParts':_0x1208d7});const _0x8c18=_0x45135e(_0x57b19c,_0x1208d7);if(this['maps'][_0x42603e(0x100)][_0x42603e(0x85)](_0x8c18))throw new _0x25257a(_0x25257a[_0x42603e(0x6cc)][_0x42603e(0x82b)],{'message':_0x44cccb+':\x20'+_0x8c18+_0x42603e(0x18a),'subscriptionType':_0x57b19c,'subscription':_0x3467ca,'subscriptonParts':_0x1208d7});this[_0x42603e(0xa0a)][_0x42603e(0x100)][_0x42603e(0xb1)](_0x8c18,_0x3467ca),this[_0x42603e(0x866)](_0x1208d7,_0x3467ca);}[_0x4d79c3(0x615)](_0x4b560c,_0x59775f){const _0x33ffc4=_0x4d79c3,_0x10aa79=_0x45135e(_0x59775f,_0x4b560c),_0x22c669=this[_0x33ffc4(0xa0a)][_0x33ffc4(0x100)][_0x33ffc4(0x2d3)](_0x10aa79);if(!_0x22c669)throw new _0x25257a(_0x25257a['codes']['InvalidSubscription'],{'message':_0x12b086(_0x59775f)+':\x20'+_0x10aa79+_0x33ffc4(0x2f7),'subscriptionType':_0x59775f,'subscription':_0x22c669,'subscriptonParts':_0x4b560c});this[_0x33ffc4(0xa51)](_0x22c669,_0x10aa79,_0x4b560c);}[_0x4d79c3(0xa51)](_0xa56470,_0x477b2c,_0x11a3ab){const _0x435969=_0x4d79c3;_0x11a3ab=_0x11a3ab||this['getPartsFromSubscription'](_0xa56470),this['maps'][_0x435969(0x100)][_0x435969(0x86a)](_0x477b2c),this[_0x435969(0x2f1)](_0x11a3ab,_0xa56470);}['createTopic'](_0x5a6588,{source:_0x3ea75a,destination:_0x1fadb1}){const _0x2358a1=_0x4d79c3,{contentType:_0xeaf754,label:_0x51d221,remoteId:_0x3783e9}=_0x5a6588,_0x29ed08=_0x352277(_0xeaf754,_0x51d221,_0x3783e9),_0x34eb6f=new _0x515982(_0x29ed08,_0xeaf754);_0x34eb6f[_0x2358a1(0x8ab)](_0x3ea75a),_0x34eb6f[_0x2358a1(0x907)](_0x1fadb1),this[_0x2358a1(0xa0a)][_0x2358a1(0x8f8)][_0x2358a1(0xb1)](_0x34eb6f['getLabel'](),_0x34eb6f);}['removeTopic'](_0x25a4ee,_0x508773){const _0xec60e3=_0x4d79c3,{contentType:_0x15c82e,label:_0x45e161,remoteId:_0x5ed05f}=_0x25a4ee,_0x135701=_0x352277(_0x15c82e,_0x45e161,_0x5ed05f),_0x13cd47=this[_0xec60e3(0xa0a)][_0xec60e3(0x8f8)][_0xec60e3(0x2d3)](_0x135701);_0x13cd47&&(this[_0xec60e3(0x8ca)](_0x13cd47,_0x508773),this[_0xec60e3(0xa0a)][_0xec60e3(0x8f8)][_0xec60e3(0x86a)](_0x135701));}['closeTopic'](_0x5b8076,{source:_0x9815e8,destination:_0x4c6601}){const _0x4c4919=_0x4d79c3;_0x5b8076[_0x4c4919(0x8b8)](_0x9815e8),_0x5b8076['unregisterDestination'](_0x4c6601);}['removeSubscriptionsForNode'](_0x3def24){const _0x569083=_0x4d79c3;this['maps'][_0x569083(0x100)][_0x569083(0x571)]((_0x3e38bc,_0x113de6)=>{const _0x15a4a6=_0x569083;_0x113de6['endsWith'](_0x3def24)&&this[_0x15a4a6(0xa51)](_0x3e38bc,_0x113de6);});}}class _0x5c7c63{[_0x4d79c3(0x941)];[_0x4d79c3(0x9d6)];[_0x4d79c3(0xe9)]=new Map();[_0x4d79c3(0x3a2)]=_0x4d1341(new _0x3c1c1c(this['requestSubscriptionAction'][_0x4d79c3(0x1f5)](this),()=>_0x53a877['wait'](0x64)),!0x0);[_0x4d79c3(0x218)]=new Map();[_0x4d79c3(0xa0a)];[_0x4d79c3(0x6bd)]=new Map();constructor(_0x14b1cb,_0x2355cd){const _0x3698e7=_0x4d79c3;this['configs']=_0x14b1cb,this['maxDistance']=_0x2355cd,this[_0x3698e7(0xa0a)]=new _0x2d1bc1(({source:_0x2aa6aa,destination:_0x3673a5})=>_0x307bb2(_0x3673a5,_0x2aa6aa));}['createSubscription'](_0x5e488d,_0x52990d){const _0x716fef=_0x4d79c3,_0x271d67=this[_0x716fef(0x643)](_0x5e488d)&&this[_0x716fef(0x48d)](_0x52990d)?new _0x4fb6a9(_0x5e488d,_0x52990d):new _0x5ab518(_0x5e488d,_0x52990d);this[_0x716fef(0xa0a)][_0x716fef(0xa03)](_0x293643[_0x716fef(0x83f)],_0x271d67),this[_0x716fef(0x941)]['mediator'][_0x716fef(0x8fd)](_0x271d67);}[_0x4d79c3(0x615)](_0x8a2a3d,_0xd821c9,_0x151230=''){const _0x22454b=_0x4d79c3,_0x48477f={'contentType':_0xd821c9,'label':_0x8a2a3d,'remoteId':_0x151230},_0x2dd2c9=_0x45135e(_0x293643[_0x22454b(0x83f)],_0x48477f),_0x5654d1=this[_0x22454b(0xa0a)][_0x22454b(0x100)][_0x22454b(0x2d3)](_0x2dd2c9);_0x5654d1&&this[_0x22454b(0xa51)](_0x5654d1,_0x2dd2c9);}[_0x4d79c3(0x938)](_0x19c597){this['removeRemoteStreamSubscription'](_0x19c597);}[_0x4d79c3(0x998)]({label:_0x475543,ownerId:_0x56d13b,trackKinds:_0x50cb62,params:_0x27351f}){const _0x1db9d0=_0x4d79c3;this[_0x1db9d0(0xa4e)](_0x475543,_0x56d13b,_0x50cb62,_0x27351f);}[_0x4d79c3(0x363)]({ownerId:_0x12911e,label:_0x275f8e,params:_0x127568}){const _0x17093c=_0x4d79c3,{subscriptionLabel:_0x5728a6}=this['getSubscriptionLabel'](_0x275f8e,_0x12911e),_0x474aba=this[_0x17093c(0x7b1)](_0x5728a6);_0x474aba&&_0x474aba[_0x17093c(0x63e)](_0x12911e,_0x127568);}[_0x4d79c3(0x766)]({ownerId:_0x1275b4,label:_0x408d46,trackKinds:_0x4373c7,remainingTracks:_0x39c014}){const _0x2dfb57=_0x4d79c3,_0x148e21=_0x45135e(_0x293643[_0x2dfb57(0x83f)],{'contentType':_0xf8ccf2[_0x2dfb57(0x3fc)][_0x2dfb57(0x851)],'label':_0x408d46,'remoteId':_0x1275b4});this['clearSubscriptionRequestTimeout'](_0x148e21);const _0x27df52=this[_0x2dfb57(0xe9)][_0x2dfb57(0x2d3)](_0x148e21);_0x27df52&&(this['configs']['mediator']['unregisterSystemSource'](_0x27df52),this['subscriptionRequests'][_0x2dfb57(0x86a)](_0x148e21));const {parts:_0x3d4e60,subscriptionLabel:_0x119b7f}=this[_0x2dfb57(0x21e)](_0x408d46,_0x1275b4),_0x1831e2=this[_0x2dfb57(0x7b1)](_0x119b7f);_0x1831e2&&(_0x1831e2['unsubscribe'](_0x1275b4,_0x39c014,_0x4373c7),0x0===_0x39c014&&this[_0x2dfb57(0x615)](_0x3d4e60['label'],_0x3d4e60[_0x2dfb57(0x198)],_0x3d4e60[_0x2dfb57(0x1bc)]));}[_0x4d79c3(0x997)](_0x49e53d,{label:_0x588277,ownerId:_0x260c13,trackKinds:_0x20d519,streamId:_0x50d22b,params:_0x2c69af}){const _0x3634dd=_0x4d79c3,_0x19bb00=_0x45135e(_0x293643[_0x3634dd(0x83f)],{'contentType':_0xf8ccf2['ContentType'][_0x3634dd(0x851)],'label':_0x50d22b,'remoteId':_0x49e53d}),_0xcfa605=this[_0x3634dd(0xa0a)]['subscriptions']['get'](_0x19bb00);if(!(_0xcfa605&&_0xcfa605 instanceof _0x4fb6a9))throw new _0x25257a(_0x25257a['codes'][_0x3634dd(0x805)],{'label':_0x19bb00,'ownerId':_0x260c13});this[_0x3634dd(0xa51)](_0xcfa605,_0x19bb00),this[_0x3634dd(0xa4e)](_0x588277,_0x260c13,_0x20d519,_0x2c69af);}[_0x4d79c3(0x985)](_0x417c36,_0x1ca8a2){const _0x215c79=_0x4d79c3,{label:_0x5209eb,ownerId:_0xe39443,trackKinds:_0x3a7afe,params:_0x49e477}=_0x1ca8a2,_0x2725ef=_0x45135e(_0x293643[_0x215c79(0x83f)],{'contentType':_0xf8ccf2[_0x215c79(0x3fc)][_0x215c79(0x851)],'label':_0x5209eb,'remoteId':_0xe39443});if(!this[_0x215c79(0xe9)][_0x215c79(0x85)](_0x2725ef))throw new _0x25257a(_0x25257a[_0x215c79(0x6cc)][_0x215c79(0x805)],{'label':_0x2725ef,'ownerId':_0xe39443,'streamId':_0x1ca8a2['streamId'],'requests':this['subscriptionRequests']});const _0x70580e=this[_0x215c79(0xe9)][_0x215c79(0x2d3)](_0x2725ef);if(_0x3a7afe[_0x215c79(0x4bf)]===_0x70580e['getTracks']()[_0x215c79(0x4bf)]&&_0x3a7afe[_0x215c79(0x4d9)](_0x53ab8f=>_0x70580e['getTracks']()['includes'](_0x53ab8f)))try{const _0x4644fd=_0x70580e['handleSubscriptionSystemEvents'](_0x417c36,_0x1ca8a2);if(!_0x4644fd)return;this['subscribe'](_0x4644fd,_0xe39443,_0x5209eb,_0x2725ef,_0x3a7afe);}catch(_0x30475f){return void this[_0x215c79(0x181)](_0x5209eb,_0xe39443,_0x3a7afe,_0x49e477);}}[_0x4d79c3(0x6f3)](_0x1611be,{label:_0x2ebedf,ownerId:_0x9a3ad8,trackKinds:_0x27e9e5}){const _0x696e1a=_0x4d79c3,_0x2d4969=this[_0x696e1a(0x941)][_0x696e1a(0xd8)]['getRemoteMediaStream'](_0x9a3ad8,_0x2ebedf);if(!_0x2d4969)return;const _0x295f5a=_0x2d4969[_0x696e1a(0x91)](),_0x34d829=_0x2d4969['getSubscribedTracks']();_0x34d829[_0x696e1a(0x884)](_0x3ccb31=>_0x27e9e5['includes'](_0x3ccb31))&&this[_0x696e1a(0x6ca)](_0x1611be,_0x2ebedf,_0x295f5a,_0x9a3ad8,_0x34d829);}[_0x4d79c3(0x1c8)]({label:_0x123ef3,providerId:_0x741046,ownerId:_0x4851d4,streamId:_0xa9035f,trackKinds:_0x55e319}){const _0x42dace=_0x4d79c3;this[_0x42dace(0x6ca)](_0x741046,_0x123ef3,_0xa9035f,_0x4851d4,_0x55e319);}['handleOptimizationConnectionSuccess'](_0x4e86a9){const _0x1512a9=_0x4d79c3;for(const _0x4d4a7c of this[_0x1512a9(0x6bd)]['values']()){const {streamLabel:_0x565373,ownerId:_0x46e3c1,trackKinds:_0xb2a60a,params:_0x3e84a0}=_0x4d4a7c;if(!_0x46e3c1||!_0xb2a60a||!_0x565373)return;this[_0x1512a9(0x3a2)][_0x1512a9(0x15b)]({'label':_0x565373,'ownerId':_0x46e3c1,'trackKinds':_0xb2a60a,'params':_0x3e84a0,'remoteId':_0x4e86a9});}}[_0x4d79c3(0x38e)](_0x2ec213){const _0x2b8f03=_0x4d79c3;this[_0x2b8f03(0xa0a)][_0x2b8f03(0x100)]['forEach']((_0x56109c,_0x304c89)=>{const _0x1b65c0=_0x2b8f03;if(_0x304c89['endsWith'](_0x2ec213)){if(_0x56109c['destination'][_0x1b65c0(0x2c5)]()===_0xf8ccf2[_0x1b65c0(0x3fc)]['Media']){const _0x21d344=_0x56109c[_0x1b65c0(0x407)];if(_0x21d344['getSubscribedTracks']()['length']>0x0){const _0x418489={'type':_0x4cf11e[_0x1b65c0(0x2e4)],'label':_0x21d344[_0x1b65c0(0xa98)](),'ownerId':_0x21d344[_0x1b65c0(0x351)](),'trackKinds':_0x21d344[_0x1b65c0(0x3e0)]()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x2ec213,_0x418489);}}this[_0x1b65c0(0xa51)](_0x56109c,_0x304c89);}});}['close'](){const _0x141757=_0x4d79c3;this[_0x141757(0xa0a)][_0x141757(0x100)][_0x141757(0x571)](this[_0x141757(0xa51)][_0x141757(0x1f5)](this));}[_0x4d79c3(0x2a1)](_0x389515,_0x95d9b4,_0x28080e,_0x1b919c,_0x34b9fd){const _0xcffbcd=_0x4d79c3,_0x48f680=this['configs'][_0xcffbcd(0xd8)]['getConnection'](_0x389515['nodeId']),_0x46a23a=this['configs']['mediator'][_0xcffbcd(0xe3)](_0x95d9b4,_0x28080e);this[_0xcffbcd(0x5ea)](_0x1b919c),this[_0xcffbcd(0xe9)][_0xcffbcd(0x85)](_0x1b919c)&&(this[_0xcffbcd(0x941)][_0xcffbcd(0xd8)]['unregisterSystemSource'](this[_0xcffbcd(0xe9)][_0xcffbcd(0x2d3)](_0x1b919c)),this[_0xcffbcd(0xe9)]['delete'](_0x1b919c)),this['cleanOldSubscription'](_0x389515,_0x95d9b4,_0x28080e,_0x46a23a),_0x46a23a[_0xcffbcd(0x46b)](_0x389515[_0xcffbcd(0x6d)]),_0x46a23a[_0xcffbcd(0x9a8)](_0x389515[_0xcffbcd(0x55b)]);const _0x58a126=_0x307bb2(_0x46a23a,_0x48f680),_0x472c6a=_0x45135e(_0x293643[_0xcffbcd(0x83f)],_0x58a126);this[_0xcffbcd(0xa0a)][_0xcffbcd(0x100)][_0xcffbcd(0x85)](_0x472c6a)||this[_0xcffbcd(0xa03)](_0x48f680,_0x46a23a);const _0xe62c02=this[_0xcffbcd(0xa0a)]['subscriptions'][_0xcffbcd(0x2d3)](_0x472c6a);if(!(_0xe62c02&&_0xe62c02 instanceof _0x4fb6a9))throw new _0x25257a(_0x25257a[_0xcffbcd(0x6cc)][_0xcffbcd(0x805)],{'label':_0x1b919c,'ownerId':_0x95d9b4});_0x10d8cb['logEvent'](_0xcffbcd(0x921),{'clusterId':this['configs'][_0xcffbcd(0x5b6)],'nodeId':this[_0xcffbcd(0x941)][_0xcffbcd(0x3d8)]['getId'](),'nodeType':this[_0xcffbcd(0x941)][_0xcffbcd(0x3d8)][_0xcffbcd(0x572)],'data':{'subscriptionLabel':_0x472c6a,'chosenAnswer':_0x389515}}),this['chosenAnswers'][_0xcffbcd(0xb1)](_0x472c6a,_0x389515),_0xe62c02['subscribe'](_0x95d9b4,_0x34b9fd,_0x389515[_0xcffbcd(0x521)]);}['removeRemoteStreamSubscription']({ownerId:_0x4d0b9c,label:_0x5727d8}){const _0x1a5c96=_0x4d79c3,_0x3e28f7=this['configs']['mediator'][_0x1a5c96(0xe3)](_0x4d0b9c,_0x5727d8),[_0x5f00ed,_0x37b0ea]=Array['from'](this['maps'][_0x1a5c96(0x100)][_0x1a5c96(0xa9a)]())[_0x1a5c96(0x483)](([_0x4d78a8,_0x388930])=>-0x1!==_0x4d78a8[_0x1a5c96(0x58a)](_0x3e28f7[_0x1a5c96(0x91)]()));return this[_0x1a5c96(0xa51)](_0x37b0ea,_0x5f00ed);}[_0x4d79c3(0xa51)](_0x53d004,_0x5f9f2f){const _0x3d3513=_0x4d79c3;this[_0x3d3513(0x941)]['mediator'][_0x3d3513(0x7a2)](_0x53d004),this['maps'][_0x3d3513(0xa51)](_0x53d004,_0x5f9f2f);}['isMediaSource'](_0x3a1fdb){const _0x1923af=_0x4d79c3;return _0x3a1fdb[_0x1923af(0xa33)]()[_0x1923af(0xcc)](_0xf8ccf2[_0x1923af(0x3fc)][_0x1923af(0x851)]);}[_0x4d79c3(0x48d)](_0x49e739){const _0x29ab0c=_0x4d79c3;return _0x49e739[_0x29ab0c(0x2c5)]()===_0xf8ccf2[_0x29ab0c(0x3fc)]['Media'];}async['handleNoAnswer'](_0x424ede,_0x537f03,_0x4781e2,_0x30e7c7){const _0x52b65a=_0x4d79c3;await _0x53a877[_0x52b65a(0x316)](0x3e8);const _0x315082=_0x45135e(_0x293643[_0x52b65a(0x83f)],{'contentType':_0xf8ccf2['ContentType'][_0x52b65a(0x851)],'label':_0x424ede,'remoteId':_0x537f03});this[_0x52b65a(0x5ea)](_0x315082);const _0x5c8242=this[_0x52b65a(0xe9)][_0x52b65a(0x2d3)](_0x315082);if(!_0x5c8242)throw new _0x25257a(_0x25257a[_0x52b65a(0x6cc)][_0x52b65a(0x805)],{'label':_0x315082,'ownerId':_0x537f03});const _0x3bc5c5=this[_0x52b65a(0x941)]['mediator']['getConnections'](_0x4d0eb8=>_0x4d0eb8[_0x52b65a(0xa70)]()),_0x5f221c=this[_0x52b65a(0x941)][_0x52b65a(0xd8)]['getDistance'](this[_0x52b65a(0x941)][_0x52b65a(0x3d8)][_0x52b65a(0x970)](),_0x537f03);_0x5c8242[_0x52b65a(0x31d)](_0x3bc5c5[_0x52b65a(0x384)](_0x16e5c3=>_0x16e5c3[_0x52b65a(0xa69)]()),_0x5f221c);try{_0x5c8242[_0x52b65a(0x9ca)](this[_0x52b65a(0x941)][_0x52b65a(0x3d8)][_0x52b65a(0x970)](),_0x537f03,_0x424ede,_0x4781e2,_0x30e7c7),this['setSubscriptionRequestTimeout'](_0x424ede,_0x537f03,_0x4781e2,_0x30e7c7,_0x315082,_0x5c8242);}catch(_0x590fc7){this[_0x52b65a(0x3a2)][_0x52b65a(0x15b)]({'label':_0x424ede,'ownerId':_0x537f03,'trackKinds':_0x4781e2,'params':_0x30e7c7});}}['requestSubscription'](_0x16f1e6,_0x37c023,_0x3f1373,_0x5443cb){const _0x576a62=_0x4d79c3;this[_0x576a62(0x3a2)]['push']({'label':_0x16f1e6,'ownerId':_0x37c023,'trackKinds':_0x3f1373,'params':_0x5443cb});}[_0x4d79c3(0x3be)]({label:_0x14f891,ownerId:_0x3f9ed8,trackKinds:_0x1911b9,params:_0x5c7f91,remoteId:_0x4afa22}){const _0x5b9a84=_0x4d79c3;if(!this[_0x5b9a84(0x941)][_0x5b9a84(0xd8)]['getRemoteMediaStream'](_0x3f9ed8,_0x14f891))return;if(!this[_0x5b9a84(0x941)]['mediator'][_0x5b9a84(0x742)]()[_0x5b9a84(0xe8)]())throw new Error(_0x5b9a84(0x7cb));if(_0x4afa22){const _0x11da1f=this[_0x5b9a84(0x941)][_0x5b9a84(0xd8)][_0x5b9a84(0x58d)]()['find'](_0x2ce399=>_0x2ce399[_0x5b9a84(0x970)]()===_0x4afa22),_0x1990b3=_0x11da1f?.[_0x5b9a84(0xe8)]();if(!_0x11da1f||!_0x1990b3)throw new Error(_0x5b9a84(0x23b));const _0x109387=this[_0x5b9a84(0x941)]['mediator']['getRemoteNodes']()[_0x5b9a84(0x483)](_0x2c8672=>_0x2c8672[_0x5b9a84(0x970)]()===_0x3f9ed8),_0x9ba5=_0x109387?.[_0x5b9a84(0xe8)]();if(!_0x109387||!_0x9ba5)throw new Error(_0x5b9a84(0x2fe));const _0x46d31f=this['chosenAnswers'][_0x5b9a84(0x2d3)](_0x14f891);if(_0x46d31f){const _0x1c1300=this[_0x5b9a84(0x941)][_0x5b9a84(0xd8)][_0x5b9a84(0x58d)]()[_0x5b9a84(0x483)](_0x39430a=>_0x39430a['getId']()===_0x46d31f[_0x5b9a84(0x55b)]),_0xfb43e=_0x1c1300?.[_0x5b9a84(0xe8)]();if(!_0x1c1300||!_0xfb43e)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math[_0x5b9a84(0x245)](_0xfb43e-_0x9ba5)<Math[_0x5b9a84(0x245)](_0x1990b3-_0x9ba5))return;}}const _0x5dda75=this['configs'][_0x5b9a84(0xd8)][_0x5b9a84(0x852)](_0x56266c=>_0x56266c[_0x5b9a84(0xa70)]()&&(!_0x4afa22||_0x56266c[_0x5b9a84(0xa69)]()===_0x4afa22));if(!_0x5dda75[_0x5b9a84(0x4bf)]||0x0===_0x5dda75[_0x5b9a84(0x4bf)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x12528a=this[_0x5b9a84(0x941)][_0x5b9a84(0xd8)][_0x5b9a84(0xa3f)](this[_0x5b9a84(0x941)][_0x5b9a84(0x3d8)][_0x5b9a84(0x970)](),_0x3f9ed8),_0xd27ca4=_0x45135e(_0x293643[_0x5b9a84(0x83f)],{'contentType':_0xf8ccf2[_0x5b9a84(0x3fc)]['Media'],'label':_0x14f891,'remoteId':_0x3f9ed8});if(this[_0x5b9a84(0xe9)][_0x5b9a84(0x85)](_0xd27ca4)){if(_0x4afa22)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x4c60be=this[_0x5b9a84(0xe9)][_0x5b9a84(0x2d3)](_0xd27ca4)[_0x5b9a84(0xf1)]();if(_0x4c60be['length']===_0x1911b9[_0x5b9a84(0x4bf)]&&_0x4c60be['every'](_0x5578da=>_0x1911b9[_0x5b9a84(0xcc)](_0x5578da)))return;this[_0x5b9a84(0x941)]['mediator'][_0x5b9a84(0x7a2)](this[_0x5b9a84(0xe9)]['get'](_0xd27ca4)),this['subscriptionRequests'][_0x5b9a84(0x86a)](_0xd27ca4),_0x1911b9=Array[_0x5b9a84(0x46f)](new Set(_0x1911b9[_0x5b9a84(0x4fa)](_0x4c60be))),this[_0x5b9a84(0x5ea)](_0xd27ca4);}const _0x32272a=new _0x30fbb8(_0x5dda75[_0x5b9a84(0x384)](_0x4a0496=>_0x4a0496[_0x5b9a84(0xa69)]()),_0x12528a,this[_0x5b9a84(0x9d6)],_0x1911b9);this[_0x5b9a84(0x941)][_0x5b9a84(0xd8)][_0x5b9a84(0x8fd)](_0x32272a),this['subscriptionRequests']['set'](_0xd27ca4,_0x32272a),_0x32272a[_0x5b9a84(0x9ca)](this[_0x5b9a84(0x941)][_0x5b9a84(0x3d8)]['getId'](),_0x3f9ed8,_0x14f891,_0x1911b9,_0x5c7f91),this['setSubscriptionRequestTimeout'](_0x14f891,_0x3f9ed8,_0x1911b9,_0x5c7f91,_0xd27ca4,_0x32272a);}[_0x4d79c3(0x5ea)](_0x2bc849){const _0x1d8800=_0x4d79c3;this[_0x1d8800(0x218)][_0x1d8800(0x85)](_0x2bc849)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x1d8800(0x2d3)](_0x2bc849)),this[_0x1d8800(0x218)][_0x1d8800(0x86a)](_0x2bc849));}[_0x4d79c3(0x6fb)](_0x2cdef1,_0x413307,_0x5ee104,_0x51d33f,_0x268bf7,_0x305a80){const _0x125125=_0x4d79c3;this[_0x125125(0x5ea)](_0x268bf7),this[_0x125125(0x218)][_0x125125(0xb1)](_0x268bf7,setTimeout(()=>{const _0x1cd86c=_0x125125;this[_0x1cd86c(0x218)][_0x1cd86c(0x86a)](_0x268bf7);try{const _0x47fd71=_0x305a80['chooseAnswer']();this[_0x1cd86c(0x2a1)](_0x47fd71,_0x413307,_0x2cdef1,_0x268bf7,_0x5ee104);}catch(_0x5588ee){this[_0x1cd86c(0x181)](_0x2cdef1,_0x413307,_0x5ee104,_0x51d33f);}},0x7d0));}['findNewMediaSubscription'](_0x43c235,_0x1855c8,_0x58385f,_0x155fe2,_0x137bd8){const _0x33abec=_0x4d79c3,{subscriptionLabel:_0x38191c}=this[_0x33abec(0x21e)](_0x1855c8,_0x155fe2),_0xaa8e1b=this[_0x33abec(0x7b1)](_0x38191c),_0x69e898=_0xaa8e1b?.[_0x33abec(0x521)];_0xaa8e1b&&(_0xaa8e1b[_0x33abec(0x5fc)](_0x155fe2,0x0),this[_0x33abec(0x615)](_0x58385f,_0xf8ccf2[_0x33abec(0x3fc)]['Media'],_0x43c235)),this[_0x33abec(0xa4e)](_0x1855c8,_0x155fe2,_0x137bd8,_0x69e898);}['getMediaSubscription'](_0x4bc6b3){const _0x1025c4=_0x4d79c3,_0x1f81dd=this[_0x1025c4(0xa0a)][_0x1025c4(0x100)][_0x1025c4(0x2d3)](_0x4bc6b3);if(_0x1f81dd){if(!(_0x1f81dd instanceof _0x4fb6a9))throw new _0x25257a(_0x25257a[_0x1025c4(0x6cc)]['InvalidSubscription'],{'label':_0x4bc6b3,'subscription':_0x1f81dd});return _0x1f81dd;}}[_0x4d79c3(0x21e)](_0x5dbe8a,_0x5a6f0c){const _0x76658b=_0x4d79c3,_0x163d8e=this['getPartsForSubscriptionLabel'](_0x5dbe8a,_0x5a6f0c);return{'parts':_0x163d8e,'subscriptionLabel':_0x45135e(_0x293643[_0x76658b(0x83f)],_0x163d8e)};}[_0x4d79c3(0x1f2)](_0x2d4917,_0x16ed97){const _0x36e482=_0x4d79c3,_0x1bea56=this[_0x36e482(0x941)][_0x36e482(0xd8)][_0x36e482(0xe3)](_0x16ed97,_0x2d4917),_0x13bce0=_0x1bea56[_0x36e482(0x83d)]();if(!_0x13bce0)throw new _0x25257a(_0x25257a[_0x36e482(0x6cc)][_0x36e482(0x418)],{'label':_0x2d4917,'streamId':_0x1bea56['getInternalStreamId'](),'ownerId':_0x16ed97,'localId':this[_0x36e482(0x941)][_0x36e482(0x3d8)][_0x36e482(0x970)]()});return{'contentType':_0xf8ccf2[_0x36e482(0x3fc)][_0x36e482(0x851)],'label':_0x1bea56['getInternalStreamId'](),'remoteId':_0x13bce0};}['cleanOldSubscription'](_0x192967,_0x5ba6c3,_0x56dbac,_0x2d9dcc){const _0x36d637=_0x4d79c3,_0x54d5cb=_0x2d9dcc['getProviderId']();if(_0x54d5cb&&_0x54d5cb!==_0x192967[_0x36d637(0x55b)]){const {parts:_0x4f128d,subscriptionLabel:_0x430f9b}=this[_0x36d637(0x21e)](_0x56dbac,_0x5ba6c3),_0x18f6f1=this[_0x36d637(0x7b1)](_0x430f9b);_0x18f6f1&&(_0x18f6f1[_0x36d637(0x5fc)](_0x5ba6c3,0x0),this[_0x36d637(0x615)](_0x4f128d[_0x36d637(0x9d4)],_0x4f128d[_0x36d637(0x198)],_0x4f128d[_0x36d637(0x1bc)]));}}}class _0x5b8a5c{[_0x4d79c3(0x941)];[_0x4d79c3(0x787)];[_0x4d79c3(0xa0a)];constructor(_0x10c335,_0x125f7c){const _0xe4196=_0x4d79c3;this[_0xe4196(0x941)]=_0x10c335,this[_0xe4196(0x787)]=_0x125f7c,this[_0xe4196(0xa0a)]=new _0x2d1bc1(({source:_0x59869d,destination:_0x1a7157})=>_0x307bb2(_0x59869d,_0x1a7157));}[_0x4d79c3(0xa03)](_0x40cbcc,_0x3c7c1d){const _0xc71fa9=_0x4d79c3,_0x4d10ca={'source':_0x40cbcc,'destination':_0x3c7c1d};this[_0xc71fa9(0xa0a)][_0xc71fa9(0xa03)](_0x293643[_0xc71fa9(0x462)],_0x4d10ca);}[_0x4d79c3(0x615)](_0x5e8fbe,_0x4fbdd9,_0x40a2b9=''){const _0x41dcce=_0x4d79c3,_0x164f3f={'contentType':_0x4fbdd9,'label':_0x5e8fbe,'remoteId':_0x40a2b9};this[_0x41dcce(0xa0a)][_0x41dcce(0x615)](_0x164f3f,_0x293643['Outgoing']);}[_0x4d79c3(0xaa0)](_0x2f0f83,_0xf0da54){const _0x42878f=_0x4d79c3;let _0x338047;_0x338047=_0xf0da54['ownerId']!==this[_0x42878f(0x941)][_0x42878f(0x3d8)][_0x42878f(0x970)]()?this[_0x42878f(0x941)][_0x42878f(0xd8)][_0x42878f(0xe3)](_0xf0da54[_0x42878f(0x6fa)],_0xf0da54[_0x42878f(0x9d4)]):this[_0x42878f(0x941)][_0x42878f(0xd8)]['getLocalMediaStream'](_0xf0da54['label']);const _0x333eef=_0x45135e(_0x293643[_0x42878f(0x462)],{'contentType':_0xf8ccf2['ContentType'][_0x42878f(0x851)],'label':_0x338047['getShareableStreamId'](),'remoteId':_0x2f0f83}),_0x11d198=this['getNumberOutgoingSubscriptions']();if(!this['maps'][_0x42878f(0x100)]['has'](_0x333eef)&&_0x11d198>=this[_0x42878f(0x787)])return{'type':_0x4cf11e['RestartNeedMediaStream'],'ownerId':_0xf0da54[_0x42878f(0x6fa)],'label':_0xf0da54[_0x42878f(0x9d4)],'streamId':_0x338047[_0x42878f(0x584)](),'trackKinds':_0xf0da54[_0x42878f(0x962)],'params':_0xf0da54[_0x42878f(0x521)]};_0x338047 instanceof _0x248a14&&!_0x338047[_0x42878f(0x46d)](_0xf0da54[_0x42878f(0x962)])&&_0x338047[_0x42878f(0x2a1)](_0xf0da54[_0x42878f(0x521)]),this[_0x42878f(0xa0a)][_0x42878f(0x100)][_0x42878f(0x85)](_0x333eef)||this['createSubscription'](_0x338047['getShareableStream'](_0x2f0f83),this[_0x42878f(0x941)][_0x42878f(0xd8)][_0x42878f(0x307)](_0x2f0f83));}[_0x4d79c3(0x627)](_0x17fc50,{label:_0x40636b,ownerId:_0x1e9a63,remainingTracks:_0x314da4}){const _0x3da91a=_0x4d79c3;if(_0x314da4>0x0)return;let _0x3cce73;_0x3cce73=_0x1e9a63!==this[_0x3da91a(0x941)]['localNode'][_0x3da91a(0x970)]()?this[_0x3da91a(0x941)][_0x3da91a(0xd8)][_0x3da91a(0xe3)](_0x1e9a63,_0x40636b):this[_0x3da91a(0x941)][_0x3da91a(0xd8)][_0x3da91a(0x45e)](_0x40636b);const _0xa2eeb2=_0x3cce73[_0x3da91a(0x584)](),_0x341857=_0xf8ccf2[_0x3da91a(0x3fc)][_0x3da91a(0x851)];this[_0x3da91a(0x615)](_0xa2eeb2,_0x341857,_0x17fc50);}[_0x4d79c3(0x766)](_0x17298b,{label:_0x56c662,ownerId:_0x5dc1c5,trackKinds:_0x1c642c}){const _0x2ed11e=_0x4d79c3;if(_0x17298b!==_0x2415f3)return[];let _0x2b5ad3=[];for(const _0x4c8d66 of this[_0x2ed11e(0xa0a)][_0x2ed11e(0x100)]){const {source:_0x77851c,destination:_0x1cb54e}=_0x4c8d66[0x1];_0x77851c[_0x2ed11e(0xa98)]()===_0x56c662&&_0x77851c[_0x2ed11e(0x351)]()===_0x5dc1c5&&_0x2b5ad3[_0x2ed11e(0x15b)]({'sourceId':this[_0x2ed11e(0x941)][_0x2ed11e(0x3d8)]['getId'](),'destinationIds':[_0x1cb54e[_0x2ed11e(0xa69)]()],'messageType':_0x15b885['Subscription'],'content':{'type':_0x4cf11e[_0x2ed11e(0x2e4)],'label':_0x56c662,'ownerId':_0x5dc1c5,'trackKinds':_0x1c642c}});}return _0x2b5ad3;}[_0x4d79c3(0x6de)](_0x21ae5a,_0x51efd3){const _0x51e2f5=_0x4d79c3,{label:_0x4b46cb,ownerId:_0x4c0520,trackKinds:_0x1de386,params:_0xc14737}=_0x51efd3,{hasTracks:_0x1cb639,streamId:_0x1baea2,hasResolution:_0x3b3d08,distance:_0x5abf9b,subscriptionLabel:_0x270dae}=this[_0x51e2f5(0x865)](_0x21ae5a,_0x51efd3);let _0x1214a4=this['getNumberOutgoingSubscriptions']()<this[_0x51e2f5(0x787)]&&(_0x1cb639||_0x5abf9b>-0x1)?_0x4cf11e['CanProvideMediaStream']:_0x4cf11e[_0x51e2f5(0xa43)];const _0x55835a=_0x5abf9b<0x0?0xa:_0x5abf9b;let _0x2b9e87=_0x1cb639?_0x3b3d08?_0x55835a:_0x55835a+0x0:_0x55835a+0xa;return _0x270dae&&this['maps'][_0x51e2f5(0x100)][_0x51e2f5(0x85)](_0x270dae)&&(_0x1cb639&&(_0x2b9e87=0x0),_0x1214a4=_0x4cf11e[_0x51e2f5(0x17b)]),{'type':_0x1214a4,'cost':_0x2b9e87,'distance':_0x5abf9b,'label':_0x4b46cb,'ownerId':_0x4c0520,'streamId':_0x1baea2,'trackKinds':_0x1de386,'params':_0xc14737};}['handleContentUnpublishMediaStream'](_0x5379fb){const _0x786a76=_0x4d79c3,{label:_0x36fc64,ownerId:_0xb0af98}=_0x5379fb,_0x177802=this[_0x786a76(0x941)][_0x786a76(0xd8)][_0x786a76(0xe3)](_0xb0af98,_0x36fc64);this[_0x786a76(0xa0a)]['subscriptions'][_0x786a76(0x571)](_0x59c2c1=>{const _0x1e7e5b=_0x786a76;if(_0x59c2c1[_0x1e7e5b(0x405)][_0x1e7e5b(0x91)]()===_0x177802[_0x1e7e5b(0x584)]()){const _0x45acf3=_0x59c2c1['destination'];this['removeSubscription'](_0x177802[_0x1e7e5b(0x584)](),_0xf8ccf2[_0x1e7e5b(0x3fc)][_0x1e7e5b(0x851)],_0x45acf3['getRemoteId']());}});}['handleContentCloseMediaStream']({label:_0x645850}){const _0x3d038c=_0x4d79c3,_0x166f41=this[_0x3d038c(0x941)][_0x3d038c(0xd8)][_0x3d038c(0x45e)](_0x645850);this[_0x3d038c(0xa0a)][_0x3d038c(0x100)][_0x3d038c(0x571)](_0xded675=>{const _0x18c7e2=_0x3d038c;if(_0xded675['source']['getInternalStreamId']()===_0x166f41['getShareableStreamId']()){const _0x3014fd=_0xded675['destination'];this[_0x18c7e2(0x615)](_0x166f41['getShareableStreamId'](),_0xf8ccf2[_0x18c7e2(0x3fc)][_0x18c7e2(0x851)],_0x3014fd[_0x18c7e2(0xa69)]());}});}[_0x4d79c3(0x38e)](_0x1a7b4a){const _0x203e29=_0x4d79c3;this[_0x203e29(0xa0a)][_0x203e29(0x38e)](_0x1a7b4a);}[_0x4d79c3(0x8f0)](){const _0x54ae99=_0x4d79c3;this['maps'][_0x54ae99(0x100)]['forEach'](this[_0x54ae99(0xa51)][_0x54ae99(0x1f5)](this));}[_0x4d79c3(0xa51)](_0x8cae90,_0x2842c9){const _0x347fd6=_0x4d79c3;this[_0x347fd6(0xa0a)][_0x347fd6(0xa51)](_0x8cae90,_0x2842c9);}['getSubscriptionInfo'](_0x190b77,{label:_0x59749a,ownerId:_0x1c5367,trackKinds:_0x13c44d,params:_0x4cf369}){const _0x21fded=_0x4d79c3;if(_0x1c5367!==this['configs'][_0x21fded(0x3d8)][_0x21fded(0x970)]()){const _0x429a15=this[_0x21fded(0x941)]['mediator'][_0x21fded(0xe3)](_0x1c5367,_0x59749a);return _0x429a15&&_0x429a15[_0x21fded(0x83d)]()!==_0x190b77?{'hasTracks':_0x429a15[_0x21fded(0x105)](_0x13c44d),'hasResolution':this[_0x21fded(0x9fb)](_0x429a15[_0x21fded(0x68f)](),_0x4cf369),'streamId':_0x429a15['getShareableStreamId'](),'distance':this[_0x21fded(0x941)]['mediator'][_0x21fded(0xa3f)](_0x190b77,_0x1c5367),'subscriptionLabel':_0x45135e(_0x293643[_0x21fded(0x462)],{'contentType':_0xf8ccf2[_0x21fded(0x3fc)][_0x21fded(0x851)],'label':_0x429a15['getShareableStreamId'](),'remoteId':_0x190b77})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x171ab2=this['configs'][_0x21fded(0xd8)]['getLocalMediaStream'](_0x59749a);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x171ab2[_0x21fded(0x584)](),'distance':0x0,'subscriptionLabel':_0x45135e(_0x293643[_0x21fded(0x462)],{'contentType':_0xf8ccf2['ContentType'][_0x21fded(0x851)],'label':_0x171ab2[_0x21fded(0x584)](),'remoteId':_0x190b77})};}[_0x4d79c3(0x253)](){const _0x5a8291=_0x4d79c3;return Array[_0x5a8291(0x46f)](this[_0x5a8291(0xa0a)][_0x5a8291(0x100)][_0x5a8291(0xa9a)]())['filter'](([_0xc893c0,{source:_0x25d33b}])=>_0xc893c0[_0x5a8291(0x8d2)](_0x293643[_0x5a8291(0x462)])&&_0x25d33b[_0x5a8291(0x2c5)]()===_0xf8ccf2[_0x5a8291(0x3fc)]['Media'])[_0x5a8291(0x4bf)];}[_0x4d79c3(0x9fb)](_0x3de6ca,_0x1b6172){const _0x54970e=_0x4d79c3;if(!_0x1b6172||!_0x1b6172[_0x54970e(0x60c)]||_0x54970e(0x6cf)==typeof _0x1b6172[_0x54970e(0x60c)]||!_0x1b6172['video'][_0x54970e(0x40e)])return!0x0;const {width:_0x1d142a,height:_0x4ff6de}=_0x1b6172[_0x54970e(0x60c)][_0x54970e(0x40e)];return _0x3de6ca[_0x54970e(0xaa6)]>=_0x1d142a&&_0x3de6ca[_0x54970e(0x3f5)]>=_0x4ff6de;}}class _0x5c4b43{['configs'];[_0x4d79c3(0x787)];[_0x4d79c3(0x9d6)];[_0x4d79c3(0x3fb)];[_0x4d79c3(0x9bd)];[_0x4d79c3(0x436)];constructor(_0x1df266,_0x3cd7a3,_0x433c53){const _0x50889a=_0x4d79c3;this[_0x50889a(0x941)]=_0x1df266,this[_0x50889a(0x787)]=_0x3cd7a3,this[_0x50889a(0x9d6)]=_0x433c53,this[_0x50889a(0x941)][_0x50889a(0xd8)][_0x50889a(0x8fd)](this),this['incomingManager']=new _0x5c7c63(this[_0x50889a(0x941)],this[_0x50889a(0x9d6)]),this[_0x50889a(0x436)]=new _0x5b8a5c(this[_0x50889a(0x941)],this[_0x50889a(0x787)]);}[_0x4d79c3(0x618)](_0x7d02b3){const _0x32f067=_0x4d79c3;this[_0x32f067(0x3fb)]=_0x7d02b3;}['unregisterSystemPublisher'](){const _0x1f539b=_0x4d79c3;delete this[_0x1f539b(0x3fb)];}[_0x4d79c3(0x8f0)](){const _0x348131=_0x4d79c3;this[_0x348131(0x9bd)][_0x348131(0x8f0)](),this[_0x348131(0x436)][_0x348131(0x8f0)](),this['configs']['mediator']['unregisterSystemSource'](this);}[_0x4d79c3(0x4f0)](_0x482dfd,_0xf4d8ef){const _0x233ef1=_0x4d79c3;this[_0x233ef1(0x9bd)][_0x233ef1(0xa03)](_0x482dfd,_0xf4d8ef);}[_0x4d79c3(0x8b1)](_0x367fa2,_0x18cf1d){const _0x547e96=_0x4d79c3;this[_0x547e96(0x436)][_0x547e96(0xa03)](_0x367fa2,_0x18cf1d);}[_0x4d79c3(0x8a9)](_0x3d46fc,_0x4f996b,_0x4d2018=''){const _0x28ca31=_0x4d79c3;this[_0x28ca31(0x9bd)][_0x28ca31(0x615)](_0x3d46fc,_0x4f996b,_0x4d2018);}[_0x4d79c3(0x681)](_0x3579b8,_0x388597,_0x37f1bd=''){const _0x100383=_0x4d79c3;try{this[_0x100383(0x436)][_0x100383(0x615)](_0x3579b8,_0x388597,_0x37f1bd);}catch(_0x32a09d){if(_0x32a09d instanceof _0x25257a&&_0x32a09d[_0x100383(0x2ef)]===_0x25257a['codes'][_0x100383(0x82b)])return;}}[_0x4d79c3(0x5e3)](_0x323829){const _0x34793e=_0x4d79c3;switch(_0x323829['content']['type']){case _0x4cf11e[_0x34793e(0x29b)]:this['handleSubscriptionSubscribeMediaStream'](_0x323829[_0x34793e(0x19b)],_0x323829[_0x34793e(0x898)]);break;case _0x4cf11e[_0x34793e(0x829)]:this['outgoingManager']['handleSubscriptionUnsubscribeMediaStream'](_0x323829[_0x34793e(0x19b)],_0x323829[_0x34793e(0x898)]);break;case _0x4cf11e[_0x34793e(0x443)]:this['handleSubscriptionNeedMediaStream'](_0x323829[_0x34793e(0x19b)],_0x323829[_0x34793e(0x898)]);break;case _0x4cf11e[_0x34793e(0x8d8)]:this[_0x34793e(0x9bd)][_0x34793e(0x997)](_0x323829[_0x34793e(0x19b)],_0x323829['content']);break;case _0x4cf11e[_0x34793e(0x17b)]:case _0x4cf11e[_0x34793e(0xa43)]:this[_0x34793e(0x9bd)][_0x34793e(0x985)](_0x323829['sourceId'],_0x323829['content']);break;case _0x4cf11e[_0x34793e(0x2e4)]:this[_0x34793e(0x9bd)]['handleSubscriptionMediaStreamUnavailable'](_0x323829[_0x34793e(0x19b)],_0x323829[_0x34793e(0x898)]);}}[_0x4d79c3(0x8ea)](_0x53aee8){const _0x3fc640=_0x4d79c3;switch(_0x53aee8[_0x3fc640(0x898)][_0x3fc640(0x572)]){case _0x4fa1d5[_0x3fc640(0x30e)]:this[_0x3fc640(0x9bd)][_0x3fc640(0x938)](_0x53aee8[_0x3fc640(0x898)]),this[_0x3fc640(0x436)]['handleContentUnpublishMediaStream'](_0x53aee8[_0x3fc640(0x898)]);break;case _0x4fa1d5['SubscribeMediaStream']:this[_0x3fc640(0x9bd)][_0x3fc640(0x998)](_0x53aee8[_0x3fc640(0x898)]);break;case _0x4fa1d5[_0x3fc640(0x477)]:this[_0x3fc640(0x9bd)][_0x3fc640(0x363)](_0x53aee8['content']);break;case _0x4fa1d5[_0x3fc640(0x829)]:this[_0x3fc640(0x766)](_0x53aee8[_0x3fc640(0x19b)],_0x53aee8[_0x3fc640(0x898)]);break;case _0x4fa1d5['CloseMediaStream']:this[_0x3fc640(0x436)]['handleContentCloseMediaStream'](_0x53aee8[_0x3fc640(0x898)]);break;case _0x4fa1d5[_0x3fc640(0x124)]:this['handleCloseContent'](_0x53aee8[_0x3fc640(0x898)][_0x3fc640(0x9d4)],_0xf8ccf2['ContentType'][_0x3fc640(0x1bd)]);break;case _0x4fa1d5[_0x3fc640(0xa2b)]:this[_0x3fc640(0x933)](_0x53aee8[_0x3fc640(0x898)]['label'],_0xf8ccf2[_0x3fc640(0x3fc)]['ObjectStore']);break;case _0x4fa1d5['CloseExternalStorageConnection']:this['handleCloseContent'](_0x53aee8['content']['label'],_0xf8ccf2['ContentType'][_0x3fc640(0x847)]);break;case _0x4fa1d5[_0x3fc640(0x10c)]:this[_0x3fc640(0x933)](_0x53aee8[_0x3fc640(0x898)][_0x3fc640(0x9d4)],_0xf8ccf2['ContentType']['KeyValueDatabase']);break;case _0x4fa1d5[_0x3fc640(0x77d)]:this['handleCloseContent'](_0x53aee8['content']['label'],_0xf8ccf2[_0x3fc640(0x3fc)]['VectorDatabase']);break;case _0x4fa1d5['CloseGraphDatabase']:this[_0x3fc640(0x933)](_0x53aee8[_0x3fc640(0x898)][_0x3fc640(0x9d4)],_0xf8ccf2[_0x3fc640(0x3fc)][_0x3fc640(0x7e0)]);break;case _0x4fa1d5['CloseJobDispatcher']:case _0x4fa1d5[_0x3fc640(0x73e)]:this['handleCloseContent'](_0x53aee8[_0x3fc640(0x898)][_0x3fc640(0x9d4)],_0xf8ccf2['ContentType'][_0x3fc640(0x118)]);break;case _0x4fa1d5[_0x3fc640(0x202)]:this[_0x3fc640(0x9bd)][_0x3fc640(0x1c8)](_0x53aee8['content']);}}[_0x4d79c3(0x44a)]({content:_0x590cad}){const _0x364b98=_0x4d79c3;_0x590cad[_0x364b98(0x572)]===_0x37cca2[_0x364b98(0x4a4)]&&this[_0x364b98(0x38e)](_0x590cad);}['handlePeerConnectionSystemEvents'](_0x41bf52){const _0x426d45=_0x4d79c3;_0x41bf52['content'][_0x426d45(0x572)]===_0x4663c4[_0x426d45(0x7e2)]&&this[_0x426d45(0x9bd)][_0x426d45(0x324)](_0x41bf52[_0x426d45(0x19b)]);}['handleContentUnsubscribeMediaStream'](_0x4fcedd,_0x49b7ed){const _0x346809=_0x4d79c3;this['incomingManager'][_0x346809(0x766)](_0x49b7ed),this[_0x346809(0x436)][_0x346809(0x766)](_0x4fcedd,_0x49b7ed)['forEach'](_0x2f05ea=>this[_0x346809(0x3fb)][_0x346809(0x758)](_0x2f05ea));}[_0x4d79c3(0xaa0)](_0x58201d,_0x1af503){const _0x44f3bb=_0x4d79c3,_0x14bcaf=this[_0x44f3bb(0x436)][_0x44f3bb(0xaa0)](_0x58201d,_0x1af503);if(_0x14bcaf&&(this[_0x44f3bb(0x3fb)]['publish']({'sourceId':this['configs'][_0x44f3bb(0x3d8)][_0x44f3bb(0x970)](),'destinationIds':[_0x58201d],'messageType':_0x15b885['Subscription'],'content':_0x14bcaf}),_0x14bcaf[_0x44f3bb(0x572)]===_0x4cf11e['RestartNeedMediaStream']))throw new _0x4b3c50(_0x44f3bb(0x288));}[_0x4d79c3(0x6de)](_0x4d5ba7,_0x144a7c){const _0x2f4f52=_0x4d79c3,_0x5d30a0=this[_0x2f4f52(0x436)]['handleSubscriptionNeedMediaStream'](_0x4d5ba7,_0x144a7c);this[_0x2f4f52(0x3fb)][_0x2f4f52(0x758)]({'sourceId':this[_0x2f4f52(0x941)][_0x2f4f52(0x3d8)]['getId'](),'destinationIds':[_0x4d5ba7],'messageType':_0x15b885['Subscription'],'content':_0x5d30a0});}[_0x4d79c3(0x933)](_0x1f21fd,_0x2e38f6){const _0x5e71f4=_0x4d79c3;this[_0x5e71f4(0x8a9)](_0x1f21fd,_0x2e38f6),this['removeOutgoingSubscription'](_0x1f21fd,_0x2e38f6);}['removeSubscriptionsForNode']({id:_0x409178}){const _0x1a3188=_0x4d79c3;this['incomingManager']['removeSubscriptionsForNode'](_0x409178),this['outgoingManager'][_0x1a3188(0x38e)](_0x409178);}}class _0x550c0a{[_0x4d79c3(0x9d4)];[_0x4d79c3(0x494)]=_0x1eb396();constructor(){this['label']=0x0;}[_0x4d79c3(0xa98)](){const _0x134aef=_0x4d79c3;return this[_0x134aef(0x9d4)];}[_0x4d79c3(0x2c5)](){const _0x58413b=_0x4d79c3;return _0xf8ccf2[_0x58413b(0x3fc)][_0x58413b(0x500)];}['registerSource'](_0x4001d4){const _0x1893de=_0x4d79c3;_0x4001d4[_0x1893de(0x618)](this);}[_0x4d79c3(0x8b8)](_0x298f00){const _0x176712=_0x4d79c3;_0x298f00[_0x176712(0x373)]();}[_0x4d79c3(0x758)](_0x54b604){const _0x58df89=_0x4d79c3;_0x10d8cb['log'](_0x44f26b[_0x58df89(0x5c9)],_0x58df89(0x414),_0x54b604['sourceId'],_0x54b604),this[_0x58df89(0x494)]['publish']({'topicLabel':this[_0x58df89(0x9d4)],'contentType':_0xf8ccf2[_0x58df89(0x3fc)][_0x58df89(0x500)],'uuid':_0x54b604[_0x58df89(0x7e6)]??(0x0,_0x15d077['v4'])(),'recipients':_0x54b604['recipients']??[],..._0x54b604});}['subscribe'](_0x4ab3bf){const _0x3d885b=_0x4d79c3;return this[_0x3d885b(0x494)][_0x3d885b(0x2a1)](_0x4ab3bf);}}class _0x17e505{[_0x4d79c3(0x4db)];[_0x4d79c3(0x901)]=[];[_0x4d79c3(0x490)];[_0x4d79c3(0x1f4)]=new Map();[_0x4d79c3(0x6fe)]=_0x1eb396();constructor(_0x300fcb){const _0x35ea38=_0x4d79c3;this[_0x35ea38(0x4db)]=_0x300fcb,this[_0x35ea38(0x490)]=(this['options']['maxConnections']-0x2*this[_0x35ea38(0x4db)][_0x35ea38(0x780)])/0x2,this['ranges']['push']({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x2c0a2e=0x0;_0x2c0a2e<this['maxLayer'];++_0x2c0a2e)this[_0x35ea38(0x901)][_0x35ea38(0x15b)]({'start':this[_0x35ea38(0x1e2)](0x1,_0x2c0a2e+0x1),'end':this[_0x35ea38(0x1e2)](0x1,_0x2c0a2e+0x2)-0x1});}[_0x4d79c3(0x1e2)](_0x2c6fa3,_0x82f899=0x1){const _0x2ebec8=_0x4d79c3;let _0x2e8e29=this[_0x2ebec8(0x4db)][_0x2ebec8(0x9d6)]-this['options']['minConnections'],_0x340198=0x1;for(let _0x55277d=0x1;_0x55277d<_0x82f899;++_0x55277d)_0x2e8e29*=this['options']['maxDistance']-this[_0x2ebec8(0x4db)][_0x2ebec8(0x780)]-_0x55277d,_0x340198*=this[_0x2ebec8(0x4db)][_0x2ebec8(0x9d6)]-this[_0x2ebec8(0x4db)][_0x2ebec8(0x780)]-_0x55277d+0x1;return _0x2e8e29*this[_0x2ebec8(0x4db)][_0x2ebec8(0x780)]+_0x2c6fa3-_0x340198;}['getCurrentMaxLayer'](_0x5ed205){const _0x121f88=_0x4d79c3;let _0x2db83b=0x0;for(;this[_0x121f88(0x901)][_0x2db83b][_0x121f88(0x141)]<_0x5ed205;)_0x2db83b+=0x1;return _0x2db83b;}[_0x4d79c3(0x315)](){const _0x1a1a2f=_0x4d79c3;return this[_0x1a1a2f(0x4db)]['minConnections'];}[_0x4d79c3(0x7ad)](){const _0xd72bec=_0x4d79c3;return this[_0xd72bec(0x4db)][_0xd72bec(0x9a2)];}[_0x4d79c3(0x610)](){const _0x3a21ea=_0x4d79c3;return this[_0x3a21ea(0x4db)][_0x3a21ea(0x9d6)];}['getRemoteNodes'](){return this['remoteNodes'];}[_0x4d79c3(0x7ca)](_0x4704e5,_0x59cdd1){const _0xe33e19=_0x4d79c3;this[_0xe33e19(0x1f4)]['set'](_0x4704e5,_0x59cdd1),this['nodeUpdate'][_0xe33e19(0x758)]();}[_0x4d79c3(0x5e9)](_0x22deea){const _0x168789=_0x4d79c3;this['remoteNodes'][_0x168789(0x86a)](_0x22deea),this[_0x168789(0x6fe)][_0x168789(0x758)]();}['hasRemoteNode'](_0x11b033){const _0x5a7dc0=_0x4d79c3;return this[_0x5a7dc0(0x1f4)]['has'](_0x11b033);}['getRemoteNode'](_0x248816){const _0x4f0c63=_0x4d79c3;return this[_0x4f0c63(0x1f4)]['get'](_0x248816);}[_0x4d79c3(0x7f4)](_0x26c06c,_0x4ad251){const _0x2be0d7=_0x4d79c3,_0x4f1880=this[_0x2be0d7(0x73d)](_0x4ad251)?.[_0x2be0d7(0xe8)]()??0x0;return _0x26c06c[_0x2be0d7(0x384)](_0x3dbd6d=>this['getRemoteNode'](_0x3dbd6d))[_0x2be0d7(0x70d)](_0x28b79d=>void 0x0!==_0x28b79d)['sort']((_0x57c99a,_0xab25)=>Math['abs'](_0x4f1880-(_0x57c99a&&_0x57c99a['getRank']()||0x1/0x0))-Math[_0x2be0d7(0x245)](_0x4f1880-(_0xab25&&_0xab25['getRank']()||0x1/0x0)))[_0x2be0d7(0x384)](_0x62c363=>_0x62c363[_0x2be0d7(0x970)]());}[_0x4d79c3(0x4c5)](_0x1e7c38){const _0x5ab882=_0x4d79c3;return this[_0x5ab882(0x6fe)][_0x5ab882(0x2a1)](_0x1e7c38);}}class _0x388c11{[_0x4d79c3(0x5eb)];[_0x4d79c3(0x5b6)];[_0x4d79c3(0x7a8)];[_0x4d79c3(0x11f)];[_0x4d79c3(0x4db)];[_0x4d79c3(0x941)];[_0x4d79c3(0x932)];[_0x4d79c3(0x1f7)];[_0x4d79c3(0x838)];[_0x4d79c3(0x952)];['statsManager'];[_0x4d79c3(0x99d)];[_0x4d79c3(0x537)];[_0x4d79c3(0x842)];['graphService'];[_0x4d79c3(0x3fb)]=new _0x550c0a();[_0x4d79c3(0x71d)];['localNode'];constructor(_0x19d24b,_0x5cad91,_0x265d76,_0x972f6b,_0x577b2d,_0x5bc2e3,_0x18fb0e){const _0x1544f4=_0x4d79c3;switch(this[_0x1544f4(0x5eb)]=_0x19d24b,this[_0x1544f4(0x5b6)]=_0x5cad91,this[_0x1544f4(0x7a8)]=_0x265d76,this[_0x1544f4(0x11f)]=_0x972f6b,this[_0x1544f4(0x4db)]=_0x577b2d,this[_0x1544f4(0x941)]=_0x5bc2e3,this[_0x1544f4(0x932)]=_0x18fb0e,_0x265d76[_0x1544f4(0x572)]){case _0xf8ccf2['NodeType'][_0x1544f4(0x25a)]:this['localNode']=new _0x1c1a4d(_0x265d76['getId'](),_0x265d76[_0x1544f4(0x9b3)](),_0x265d76['getEmail']());break;case _0xf8ccf2[_0x1544f4(0x47f)]['Agent']:default:this[_0x1544f4(0x3d8)]=new _0x135ade(_0x265d76[_0x1544f4(0x970)]());}const _0x3235ad=this[_0x1544f4(0x20d)]();this[_0x1544f4(0x3c0)]=new _0x17e505(this[_0x1544f4(0x4db)]),this['contentManager']=new _0x512104(_0x3235ad,this[_0x1544f4(0x4db)]),this[_0x1544f4(0x838)]=new _0x2d67ce(_0x3235ad,this[_0x1544f4(0x11f)],this[_0x1544f4(0x3c0)],this['configs']['iceServers'],this[_0x1544f4(0x4db)]),this[_0x1544f4(0x952)]=new _0x5c4b43(_0x3235ad,this['options'][_0x1544f4(0x787)],this[_0x1544f4(0x3c0)][_0x1544f4(0x610)]()),this[_0x1544f4(0x2a2)]=new _0x3dd2d8(_0x3235ad),this[_0x1544f4(0x99d)]=new _0x38fe5a(_0x3235ad),this['remediationManager']=new _0x497b1f(_0x3235ad),this[_0x1544f4(0x842)]=new _0x19d6a9(_0x3235ad,this['graphService']),this[_0x1544f4(0x71d)]=this[_0x1544f4(0x911)]();}[_0x4d79c3(0x56c)](){const _0x1b45bb=_0x4d79c3,_0x338e0a=this[_0x1b45bb(0x20d)]();this[_0x1b45bb(0x838)]=new _0x2d67ce(_0x338e0a,this[_0x1b45bb(0x11f)],this[_0x1b45bb(0x3c0)],this[_0x1b45bb(0x941)]['iceServers'],this[_0x1b45bb(0x4db)]),this[_0x1b45bb(0x952)]=new _0x5c4b43(_0x338e0a,this[_0x1b45bb(0x4db)]['maxOutgoingSubscriptions'],this[_0x1b45bb(0x3c0)][_0x1b45bb(0x610)]()),this[_0x1b45bb(0x2a2)]=new _0x3dd2d8(_0x338e0a),this[_0x1b45bb(0x99d)]=new _0x38fe5a(_0x338e0a),this['remediationManager']=new _0x497b1f(_0x338e0a),this[_0x1b45bb(0x842)]=new _0x19d6a9(_0x338e0a,this[_0x1b45bb(0x3c0)]);const _0x40bb58=this[_0x1b45bb(0x838)][_0x1b45bb(0x76c)]();this[_0x1b45bb(0x1f7)][_0x1b45bb(0x2f8)]()['forEach'](_0x29dc4c=>{const _0x525784=_0x1b45bb;this[_0x525784(0x952)][_0x525784(0x8b1)](_0x29dc4c,_0x40bb58),this[_0x525784(0x952)][_0x525784(0x4f0)](_0x40bb58,_0x29dc4c),_0x29dc4c[_0x525784(0x31d)]();}),this[_0x1b45bb(0x1f7)][_0x1b45bb(0x80c)]()[_0x1b45bb(0x571)](_0xf6f0b9=>{const _0x56b4e7=_0x1b45bb;this[_0x56b4e7(0x952)][_0x56b4e7(0x8b1)](_0xf6f0b9,_0x40bb58),this[_0x56b4e7(0x952)][_0x56b4e7(0x4f0)](_0x40bb58,_0xf6f0b9),_0xf6f0b9[_0x56b4e7(0x31d)](),_0xf6f0b9[_0x56b4e7(0x522)]();}),this['contentManager']['getKeyValueDatabases']()[_0x1b45bb(0x571)](_0x6db40c=>{const _0x138f5d=_0x1b45bb;this[_0x138f5d(0x952)][_0x138f5d(0x8b1)](_0x6db40c,_0x40bb58),this[_0x138f5d(0x952)][_0x138f5d(0x4f0)](_0x40bb58,_0x6db40c),_0x6db40c[_0x138f5d(0x31d)](),this[_0x138f5d(0x57d)](_0x6db40c);}),this[_0x1b45bb(0x1f7)]['getJobDispatchers']()['forEach'](_0x2d4863=>{const _0xc9c2ed=_0x1b45bb;this['subscriptionManager'][_0xc9c2ed(0x8b1)](_0x2d4863,_0x40bb58),this[_0xc9c2ed(0x952)][_0xc9c2ed(0x4f0)](_0x40bb58,_0x2d4863),_0x2d4863['reset']();}),this[_0x1b45bb(0x1f7)][_0x1b45bb(0x6dc)]()[_0x1b45bb(0x571)](_0x484042=>{const _0x3a1240=_0x1b45bb;this[_0x3a1240(0x952)][_0x3a1240(0x8b1)](_0x484042,_0x40bb58),this[_0x3a1240(0x952)][_0x3a1240(0x4f0)](_0x40bb58,_0x484042),_0x484042[_0x3a1240(0x31d)]();}),this[_0x1b45bb(0x1f7)][_0x1b45bb(0x6f6)]()[_0x1b45bb(0x571)](_0x356ee6=>{const _0x26bc9b=_0x1b45bb;this[_0x26bc9b(0x952)][_0x26bc9b(0x8b1)](_0x356ee6,_0x40bb58),this[_0x26bc9b(0x952)][_0x26bc9b(0x4f0)](_0x40bb58,_0x356ee6),_0x356ee6[_0x26bc9b(0x31d)]();}),this['contentManager'][_0x1b45bb(0xa77)]()[_0x1b45bb(0x571)](_0x476186=>{const _0x5a3523=_0x1b45bb;this[_0x5a3523(0x952)][_0x5a3523(0x8b1)](_0x476186,_0x40bb58),this[_0x5a3523(0x952)][_0x5a3523(0x4f0)](_0x40bb58,_0x476186),_0x476186[_0x5a3523(0x31d)]();}),this[_0x1b45bb(0x71d)]=this['initializeSystemTopic']();}[_0x4d79c3(0x8fd)](_0x3d26ae){const _0x3177e7=_0x4d79c3;try{this[_0x3177e7(0x3fb)][_0x3177e7(0x8ab)](_0x3d26ae);}catch(_0x3bf266){this['handleError'](_0x3bf266,{});}}[_0x4d79c3(0x7a2)](_0x34a8c2){const _0x479f86=_0x4d79c3;try{this[_0x479f86(0x3fb)][_0x479f86(0x8b8)](_0x34a8c2);}catch(_0x1bb7a7){this[_0x479f86(0xa2a)](_0x1bb7a7,{});}}['createConnection'](_0x351b3c,_0x947250){const _0x4e8ad0=_0x4d79c3;return this['connectionManager'][_0x4e8ad0(0x5e5)](_0x351b3c,_0x947250);}[_0x4d79c3(0x307)](_0x150b33){const _0x164bdf=_0x4d79c3;try{return this['connectionManager'][_0x164bdf(0x307)](_0x150b33);}catch(_0x3072a1){throw this[_0x164bdf(0xa2a)](_0x3072a1,{});}}['getConnections'](_0x1f708b){const _0x2a6d58=_0x4d79c3;try{return this[_0x2a6d58(0x838)][_0x2a6d58(0x852)](_0x1f708b);}catch(_0x17b67f){throw this[_0x2a6d58(0xa2a)](_0x17b67f,{});}}[_0x4d79c3(0xe3)](_0x26b9f4,_0xb46fd){const _0x2fa854=_0x4d79c3;try{return this[_0x2fa854(0x1f7)][_0x2fa854(0x6bc)](_0x56f764=>_0x56f764['getOwnerId']()===_0x26b9f4&&_0x56f764['getLabel']()===_0xb46fd)[0x0];}catch(_0x47155){throw this['handleError'](_0x47155,{});}}[_0x4d79c3(0x45e)](_0x3686bc){const _0x2cc0d6=_0x4d79c3;try{return this['contentManager'][_0x2cc0d6(0x4de)](_0x1d497a=>_0x1d497a['getLabel']()===_0x3686bc)[0x0];}catch(_0x111e94){throw this[_0x2cc0d6(0xa2a)](_0x111e94,{});}}['notifyCluster']=(..._0x495c6e)=>{const _0x4b7748=_0x4d79c3;try{return this[_0x4b7748(0x932)][_0x4b7748(0x28b)](..._0x495c6e);}catch(_0x408c6d){throw this[_0x4b7748(0xa2a)](_0x408c6d,{});}};[_0x4d79c3(0x2b7)](_0x43a646){const _0x3288f6=_0x4d79c3;try{this['statsManager'][_0x3288f6(0xe2)](_0x43a646);}catch(_0x5478b7){throw this[_0x3288f6(0xa2a)](_0x5478b7,{});}}[_0x4d79c3(0x1e6)](_0x37acc8){const _0x227ff1=_0x4d79c3;try{this[_0x227ff1(0x2a2)][_0x227ff1(0x4e1)](_0x37acc8);}catch(_0x1c1cc2){throw this[_0x227ff1(0xa2a)](_0x1c1cc2,{});}}[_0x4d79c3(0x4c0)](_0x353f42){const _0x31b1b0=_0x4d79c3;return this[_0x31b1b0(0x838)][_0x31b1b0(0x4c0)](_0x353f42);}async[_0x4d79c3(0x746)](){const _0x46e2ec=_0x4d79c3;try{await this[_0x46e2ec(0x838)][_0x46e2ec(0x746)]();const _0x3fd641=await this[_0x46e2ec(0x842)]['discover']();for(const _0x37b475 of _0x3fd641)this[_0x46e2ec(0x838)][_0x46e2ec(0x5e5)](_0x37b475);}catch(_0x817920){throw this['handleError'](_0x817920,{});}}[_0x4d79c3(0x6f9)](_0x2c16bb){const _0x1aaa23=_0x4d79c3;this[_0x1aaa23(0x3d8)][_0x1aaa23(0x572)]===_0xf8ccf2[_0x1aaa23(0x47f)][_0x1aaa23(0x25a)]&&(this[_0x1aaa23(0x3d8)][_0x1aaa23(0x77a)](_0x2c16bb[_0x1aaa23(0x459)]()),this[_0x1aaa23(0x3d8)][_0x1aaa23(0x87a)](_0x2c16bb[_0x1aaa23(0x9b3)]()));}['close']({force:_0x44546b=!0x1},_0x4d9d36=!0x1){const _0x58dcdb=_0x4d79c3;if(_0x10d8cb[_0x58dcdb(0x29c)](_0x58dcdb(0xa6a),{'clusterId':this['clusterId'],'nodeId':this[_0x58dcdb(0x3d8)][_0x58dcdb(0x970)](),'nodeType':this['localNode'][_0x58dcdb(0x572)]}),!_0x44546b&&this['connectionManager']['hasBufferedData']())throw new _0x322bb6(_0x4b1e43[_0x58dcdb(0x61c)],_0x58dcdb(0x639));_0x10d8cb['processBatch'](),this[_0x58dcdb(0x71d)](),this[_0x58dcdb(0x537)][_0x58dcdb(0x8f0)](),this['detectionManager'][_0x58dcdb(0x8f0)](),this[_0x58dcdb(0x2a2)][_0x58dcdb(0x8f0)](),this['subscriptionManager'][_0x58dcdb(0x8f0)](),this[_0x58dcdb(0x838)][_0x58dcdb(0x8f0)](),this[_0x58dcdb(0x1f7)][_0x58dcdb(0x8f0)](_0x4d9d36),this[_0x58dcdb(0x842)][_0x58dcdb(0x8f0)]();}[_0x4d79c3(0x7ef)](_0x499460){const _0x10f7cc=_0x4d79c3;try{const _0x3eecfb=this[_0x10f7cc(0x1f7)]['createPubSubTopic'](_0x499460),_0x185d8f=this[_0x10f7cc(0x838)][_0x10f7cc(0x76c)]();return this[_0x10f7cc(0x952)][_0x10f7cc(0x8b1)](_0x3eecfb,_0x185d8f),this[_0x10f7cc(0x952)][_0x10f7cc(0x4f0)](_0x185d8f,_0x3eecfb),_0x3eecfb;}catch(_0xc5c601){throw this['handleError'](_0xc5c601,{});}}async[_0x4d79c3(0x493)](_0x1becf4,_0x57a9a1){const _0xf2ec36=_0x4d79c3;try{const _0x230107=this[_0xf2ec36(0x1f7)]['createObjectStoreBucket'](_0x1becf4,this[_0xf2ec36(0x4db)][_0xf2ec36(0x15f)],_0x57a9a1),_0x64067c=this[_0xf2ec36(0x838)][_0xf2ec36(0x76c)]();return this[_0xf2ec36(0x952)][_0xf2ec36(0x8b1)](_0x230107,_0x64067c),this[_0xf2ec36(0x952)][_0xf2ec36(0x4f0)](_0x64067c,_0x230107),await _0x230107['sync'](),_0x230107;}catch(_0x3c7904){throw this['handleError'](_0x3c7904,{});}}async[_0x4d79c3(0x429)](_0x4b26fe,_0x394a0d){const _0x2d4dbd=_0x4d79c3;try{if(!this[_0x2d4dbd(0x4db)][_0x2d4dbd(0xba)])throw new _0x322bb6(_0x4b1e43[_0x2d4dbd(0x3b6)],_0x2d4dbd(0x577));if(!(this[_0x2d4dbd(0x7a8)]instanceof _0xfb520c))throw new _0x322bb6(_0x4b1e43[_0x2d4dbd(0x934)],_0x2d4dbd(0x51b));const _0x7eca53=this[_0x2d4dbd(0x4db)][_0x2d4dbd(0xba)]['get'](_0x394a0d);if(!_0x7eca53)throw new _0x322bb6(_0x4b1e43[_0x2d4dbd(0x3b6)],_0x2d4dbd(0x577));const _0x17b6ae=this[_0x2d4dbd(0x1f7)][_0x2d4dbd(0x554)](_0x4b26fe,_0x7eca53),_0x51d351=this[_0x2d4dbd(0x838)][_0x2d4dbd(0x76c)]();return this[_0x2d4dbd(0x952)][_0x2d4dbd(0x8b1)](_0x17b6ae,_0x51d351),this['subscriptionManager'][_0x2d4dbd(0x4f0)](_0x51d351,_0x17b6ae),await _0x17b6ae[_0x2d4dbd(0x56c)](),_0x17b6ae;}catch(_0x4fc8ca){throw this['handleError'](_0x4fc8ca,{});}}async[_0x4d79c3(0x152)](_0x416570,_0x346981,_0xe93f2d){const _0x44b7af=_0x4d79c3;try{_0xe93f2d=_0xe93f2d||this[_0x44b7af(0x4db)]['keyValueDatabaseConnector'];const _0x44c171=await this[_0x44b7af(0x1f7)][_0x44b7af(0x1d4)](_0x416570,_0x346981,_0xe93f2d),_0xb34c7c=this[_0x44b7af(0x838)][_0x44b7af(0x76c)]();return this[_0x44b7af(0x952)][_0x44b7af(0x8b1)](_0x44c171,_0xb34c7c),this['subscriptionManager'][_0x44b7af(0x4f0)](_0xb34c7c,_0x44c171),await _0x44c171['open'](),this[_0x44b7af(0x57d)](_0x44c171),_0x44c171;}catch(_0x5d0965){throw this['handleError'](_0x5d0965,{});}}async[_0x4d79c3(0xa1)](_0x147c34){const _0x7d72ea=_0x4d79c3;try{const _0x1de828=await this[_0x7d72ea(0x1f7)][_0x7d72ea(0xa5c)](_0x147c34,this['graphService']),_0x511722=this['connectionManager'][_0x7d72ea(0x76c)]();return this[_0x7d72ea(0x952)]['createOutgoingSubscription'](_0x1de828,_0x511722),this['subscriptionManager'][_0x7d72ea(0x4f0)](_0x511722,_0x1de828),_0x1de828['open'](),_0x1de828;}catch(_0xd50324){throw this['handleError'](_0xd50324,{});}}async[_0x4d79c3(0x5a8)](_0x432357){const _0x57d131=_0x4d79c3;throw new Error(_0x57d131(0x24a));}async['openGenerativeAIContext'](_0x3df03d){const _0x455b22=_0x4d79c3;try{const _0x2749c6=await this[_0x455b22(0x1f7)][_0x455b22(0x4cf)](_0x3df03d,this[_0x455b22(0x3c0)]),_0x3a4e46=this[_0x455b22(0x838)][_0x455b22(0x76c)]();return this[_0x455b22(0x952)]['createOutgoingSubscription'](_0x2749c6,_0x3a4e46),this[_0x455b22(0x952)]['createIncomingSubscription'](_0x3a4e46,_0x2749c6),_0x2749c6[_0x455b22(0x56c)](),_0x2749c6;}catch(_0x3bbb6d){throw console['error'](_0x3bbb6d),this[_0x455b22(0xa2a)](_0x3bbb6d,{});}}async[_0x4d79c3(0x870)](_0xbc2df){const _0x552fe1=_0x4d79c3;try{if(!(this[_0x552fe1(0x4db)][_0x552fe1(0xfa)]&&this[_0x552fe1(0x4db)][_0x552fe1(0x9b)]&&this['options'][_0x552fe1(0x4e5)]&&this[_0x552fe1(0x4db)]['fileConnector']&&this[_0x552fe1(0x4db)][_0x552fe1(0x3ff)]))throw new _0x322bb6(_0x4b1e43['GenerativeAIWorkerMissingConnector'],_0x552fe1(0xa5));if(!this['configs'][_0x552fe1(0x5b4)])throw new _0x322bb6(_0x4b1e43[_0x552fe1(0xd4)],_0x552fe1(0x9c));const _0x7de96c=[];for(const [_0x1dd50f,_0x46f49d]of this[_0x552fe1(0x4db)]['generativeAIWorkerConnectors']){let _0x5673ac;_0x1dd50f===_0xf8ccf2[_0x552fe1(0xcd)][_0x552fe1(0xf0)]&&(_0x5673ac=this[_0x552fe1(0x941)][_0x552fe1(0x5b4)]),_0x1dd50f===_0xf8ccf2[_0x552fe1(0xcd)]['Anthropic']&&(_0x5673ac=this['configs'][_0x552fe1(0x8c1)]),_0x7de96c[_0x552fe1(0x15b)](new _0x46f49d(_0x5673ac));}const _0x5eb02f=[];for(const [_0x3bc9bc,_0x59d188]of this['options']['generativeAISpeechConnectors']){let _0x112f22;_0x3bc9bc===_0xf8ccf2[_0x552fe1(0xcd)]['OpenAI']&&(_0x112f22=this[_0x552fe1(0x941)]['openaiApiKey']),_0x3bc9bc===_0xf8ccf2[_0x552fe1(0xcd)]['ElevenLabs']&&(_0x112f22=this[_0x552fe1(0x941)][_0x552fe1(0x634)]),_0x5eb02f[_0x552fe1(0x15b)](new _0x59d188(_0x112f22));}const _0x34ae14=new this['options'][(_0x552fe1(0x15f))](_0x552fe1(0x828)),_0x43c114=new this[(_0x552fe1(0x4db))][(_0x552fe1(0x4e5))](),_0x330dfc=new this['options'][(_0x552fe1(0x452))](this[_0x552fe1(0x941)][_0x552fe1(0x5b4)]),_0x5347e6=new this[(_0x552fe1(0x4db))][(_0x552fe1(0x3ff))]();let _0x40e8e6,_0x7db642,_0x37ad0b,_0xac3be6;if(this[_0x552fe1(0x4db)][_0x552fe1(0x395)]){if(!this['configs'][_0x552fe1(0x305)])throw new _0x322bb6(_0x4b1e43[_0x552fe1(0xd4)],_0x552fe1(0x50a));_0x40e8e6=new this[(_0x552fe1(0x4db))]['searchConnector'](this['configs'][_0x552fe1(0x305)]);}if(this[_0x552fe1(0x4db)]['aiSearchConnector']){if(!this['configs'][_0x552fe1(0x171)])throw new _0x322bb6(_0x4b1e43['ApiKeyMissing'],_0x552fe1(0x9b9));_0x7db642=new this['options'][(_0x552fe1(0x27c))](this['configs']['aiSearchApiKey']);}if(this[_0x552fe1(0x4db)][_0x552fe1(0xa1a)]&&(_0x37ad0b=new this[(_0x552fe1(0x4db))][(_0x552fe1(0xa1a))]()),this[_0x552fe1(0x4db)][_0x552fe1(0x321)]){if(!this[_0x552fe1(0x941)][_0x552fe1(0x7dc)])throw new _0x322bb6(_0x4b1e43[_0x552fe1(0xd4)],_0x552fe1(0x662));_0xac3be6=new Map();for(const [_0x1194a6,_0x41f575]of this[_0x552fe1(0x4db)][_0x552fe1(0x321)])_0xac3be6['set'](_0x1194a6,new _0x41f575(this[_0x552fe1(0x941)][_0x552fe1(0x7dc)]));}return await this[_0x552fe1(0x1f7)][_0x552fe1(0x98c)](_0xbc2df,_0x7de96c,_0x5eb02f,_0x34ae14,_0x43c114,_0x330dfc,_0x5347e6,_0x40e8e6,_0x7db642,_0x37ad0b,_0xac3be6,this['configs'][_0x552fe1(0x5b4)]);}catch(_0x1940c9){throw this[_0x552fe1(0xa2a)](_0x1940c9,{});}}async[_0x4d79c3(0x33f)](_0x14f7c5){const _0x22e430=_0x4d79c3;try{if(!(this['options'][_0x22e430(0xfa)]&&this[_0x22e430(0x4db)]['generativeAISpeechConnectors']&&this[_0x22e430(0x4db)][_0x22e430(0x4e5)]&&this[_0x22e430(0x4db)][_0x22e430(0x452)]&&this[_0x22e430(0x4db)]['nlpLibraryConnector']))throw new _0x322bb6(_0x4b1e43['GenerativeAIWorkerMissingConnector'],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x22e430(0x7a8)]instanceof _0xfb520c))throw new _0x322bb6(_0x4b1e43[_0x22e430(0x934)],_0x22e430(0x51b));if(!this[_0x22e430(0x941)][_0x22e430(0x5b4)])throw new _0x322bb6(_0x4b1e43['ApiKeyMissing'],_0x22e430(0x9c));const _0x6287c3=[];for(const [_0x2a305e,_0x4a8d32]of this[_0x22e430(0x4db)][_0x22e430(0xfa)]){let _0x42f076;_0x2a305e===_0xf8ccf2[_0x22e430(0xcd)][_0x22e430(0xf0)]&&(_0x42f076=this['configs'][_0x22e430(0x5b4)]),_0x2a305e===_0xf8ccf2[_0x22e430(0xcd)][_0x22e430(0x4b3)]&&(_0x42f076=this[_0x22e430(0x941)][_0x22e430(0x8c1)]),_0x6287c3['push'](new _0x4a8d32(_0x42f076));}const _0x3a1689=[];for(const [_0x4a8978,_0x5df2e8]of this[_0x22e430(0x4db)][_0x22e430(0x9b)]){let _0x22bfe4;_0x4a8978===_0xf8ccf2['GenerativeAIEngineType'][_0x22e430(0xf0)]&&(_0x22bfe4=this['configs'][_0x22e430(0x5b4)]),_0x4a8978===_0xf8ccf2['GenerativeAIEngineType'][_0x22e430(0x87f)]&&(_0x22bfe4=this[_0x22e430(0x941)][_0x22e430(0x634)]),_0x3a1689[_0x22e430(0x15b)](new _0x5df2e8(_0x22bfe4));}const _0xcba2ff=new this[(_0x22e430(0x4db))]['objectStoreConnector'](_0x22e430(0x828)),_0x2a0ef0=new this[(_0x22e430(0x4db))][(_0x22e430(0x4e5))](),_0x272206=new this[(_0x22e430(0x4db))][(_0x22e430(0x452))](this[_0x22e430(0x941)][_0x22e430(0x5b4)]),_0x247c9b=new this[(_0x22e430(0x4db))][(_0x22e430(0x3ff))]();let _0x2e7f7a,_0x354e0c,_0x4acc3c,_0x31fc27;if(this[_0x22e430(0x4db)][_0x22e430(0x395)]){if(!this[_0x22e430(0x941)][_0x22e430(0x305)])throw new _0x322bb6(_0x4b1e43[_0x22e430(0xd4)],_0x22e430(0x50a));_0x2e7f7a=new this[(_0x22e430(0x4db))][(_0x22e430(0x395))](this[_0x22e430(0x941)]['searchApiKey']);}if(this[_0x22e430(0x4db)]['aiSearchConnector']){if(!this[_0x22e430(0x941)][_0x22e430(0x171)])throw new _0x322bb6(_0x4b1e43[_0x22e430(0xd4)],_0x22e430(0x9b9));_0x354e0c=new this[(_0x22e430(0x4db))]['aiSearchConnector'](this['configs'][_0x22e430(0x171)]);}if(this[_0x22e430(0x4db)][_0x22e430(0xa1a)]&&(_0x4acc3c=new this[(_0x22e430(0x4db))]['queryFileConnector']()),this[_0x22e430(0x4db)][_0x22e430(0x321)]){if(!this[_0x22e430(0x941)][_0x22e430(0x7dc)])throw new _0x322bb6(_0x4b1e43['ApiKeyMissing'],_0x22e430(0x662));_0x31fc27=new Map();for(const [_0x2099b1,_0x6d1b23]of this['options'][_0x22e430(0x321)])_0x31fc27[_0x22e430(0xb1)](_0x2099b1,new _0x6d1b23(this['configs'][_0x22e430(0x7dc)]));}const _0x31bfd6=await this[_0x22e430(0x1f7)][_0x22e430(0x790)](_0x14f7c5,this[_0x22e430(0x7a8)],_0x6287c3,_0x3a1689,_0xcba2ff,_0x2a0ef0,_0x272206,_0x247c9b,_0x2e7f7a,_0x354e0c,_0x4acc3c,_0x31fc27,this[_0x22e430(0x941)][_0x22e430(0x5b4)]),_0x38ab30=this[_0x22e430(0x838)][_0x22e430(0x76c)]();this['subscriptionManager'][_0x22e430(0x8b1)](_0x31bfd6,_0x38ab30),this[_0x22e430(0x952)][_0x22e430(0x4f0)](_0x38ab30,_0x31bfd6);const _0x2c55d3=this['nodeManager'][_0x22e430(0xab2)]();return await _0x31bfd6['open'](0x0===_0x2c55d3[_0x22e430(0x4bf)]||void 0x0),_0x31bfd6;}catch(_0x5578aa){throw this['handleError'](_0x5578aa,{});}}[_0x4d79c3(0x480)](_0x413391){const _0x582d86=_0x4d79c3;try{if(!this[_0x582d86(0x4db)]['graphDatabaseConnector'])throw new _0x322bb6(_0x4b1e43[_0x582d86(0x1f1)],_0x582d86(0x74b));if(!(this['authNode']instanceof _0xfb520c))throw new _0x322bb6(_0x4b1e43[_0x582d86(0x934)],_0x582d86(0x51b));const _0x69f01d=this[_0x582d86(0x1f7)][_0x582d86(0x115)](_0x413391,this['options'][_0x582d86(0x9c8)]),_0xd184c2=this[_0x582d86(0x838)]['getConnectionGroup']();return this[_0x582d86(0x952)][_0x582d86(0x8b1)](_0x69f01d,_0xd184c2),this['subscriptionManager'][_0x582d86(0x4f0)](_0xd184c2,_0x69f01d),_0x69f01d;}catch(_0x401281){throw this['handleError'](_0x401281,{});}}[_0x4d79c3(0x513)](_0x4047ec){const _0x290a1e=_0x4d79c3;try{if(!this[_0x290a1e(0x4db)][_0x290a1e(0x230)])throw new _0x322bb6(_0x4b1e43[_0x290a1e(0xa7d)],_0x290a1e(0x88));if(!(this['authNode']instanceof _0xfb520c))throw new _0x322bb6(_0x4b1e43[_0x290a1e(0x934)],'Node\x20is\x20not\x20an\x20agent');const _0x585b21=this[_0x290a1e(0x1f7)][_0x290a1e(0x2e6)](_0x4047ec,this[_0x290a1e(0x4db)][_0x290a1e(0x230)]),_0x318b2e=this['connectionManager'][_0x290a1e(0x76c)]();return this['subscriptionManager'][_0x290a1e(0x8b1)](_0x585b21,_0x318b2e),this[_0x290a1e(0x952)][_0x290a1e(0x4f0)](_0x318b2e,_0x585b21),_0x585b21;}catch(_0x5476fe){throw this[_0x290a1e(0xa2a)](_0x5476fe,{});}}[_0x4d79c3(0x2f8)](_0xf2e2cc){const _0x2eb740=_0x4d79c3;try{return this['contentManager'][_0x2eb740(0x2f8)](_0xf2e2cc);}catch(_0xd0f72b){throw this['handleError'](_0xd0f72b,{});}}[_0x4d79c3(0x80c)](_0x2780cd){const _0x253086=_0x4d79c3;try{return this[_0x253086(0x1f7)][_0x253086(0x80c)](_0x2780cd);}catch(_0x38aa85){throw this[_0x253086(0xa2a)](_0x38aa85,{});}}[_0x4d79c3(0x3b4)](_0x2659aa){const _0x1d5c30=_0x4d79c3;try{return this['contentManager'][_0x1d5c30(0x3b4)](_0x2659aa);}catch(_0x413544){throw this[_0x1d5c30(0xa2a)](_0x413544,{});}}[_0x4d79c3(0x557)](_0x519065){const _0x2c315c=_0x4d79c3;try{return this[_0x2c315c(0x1f7)][_0x2c315c(0x557)](_0x519065);}catch(_0x53d4e1){throw this['handleError'](_0x53d4e1,{});}}['getGenerativeAIContexts'](_0x176544){const _0x3830cf=_0x4d79c3;try{return this[_0x3830cf(0x1f7)][_0x3830cf(0x881)](_0x176544);}catch(_0x1888a5){throw this[_0x3830cf(0xa2a)](_0x1888a5,{});}}['getGenerativeAIContextsStandalone'](_0x42f3f1){const _0x2e6eb6=_0x4d79c3;try{return this[_0x2e6eb6(0x1f7)][_0x2e6eb6(0x465)](_0x42f3f1);}catch(_0x67221c){throw this['handleError'](_0x67221c,{});}}['getGenerativeAIWorkers'](_0x89a5a0){const _0x4b9f0d=_0x4d79c3;try{return this[_0x4b9f0d(0x1f7)][_0x4b9f0d(0x13c)](_0x89a5a0);}catch(_0x19000b){throw this[_0x4b9f0d(0xa2a)](_0x19000b,{});}}['getGraphDatabases'](_0x4a6ab9){const _0x344790=_0x4d79c3;try{return this['contentManager'][_0x344790(0xa77)](_0x4a6ab9);}catch(_0x3683ed){throw this['handleError'](_0x3683ed,{});}}[_0x4d79c3(0x760)](_0x26949a,_0x17119f){const _0x28569b=_0x4d79c3;if(!this[_0x28569b(0x941)][_0x28569b(0x616)][_0x28569b(0xcc)](_0x2cc780['MediaStream']))throw new _0x322bb6(_0x4b1e43[_0x28569b(0x5fe)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x28569b(0x1f7)]['createLocalMediaStream'](_0x26949a,_0x17119f);}catch(_0x31942e){throw this[_0x28569b(0xa2a)](_0x31942e,{});}}['createLocalDynamicMediaStream'](_0x1db38a,_0x274750){const _0x24fe83=_0x4d79c3;if(!this[_0x24fe83(0x941)][_0x24fe83(0x616)]['includes'](_0x2cc780[_0x24fe83(0x7de)]))throw new _0x322bb6(_0x4b1e43[_0x24fe83(0x5fe)],_0x24fe83(0x730));try{return this[_0x24fe83(0x1f7)][_0x24fe83(0x8fa)](_0x1db38a,_0x274750);}catch(_0x56e7d){throw this[_0x24fe83(0xa2a)](_0x56e7d,{});}}['getLocalMediaStreams'](_0xd48ea6){const _0x19d800=_0x4d79c3;if(!this[_0x19d800(0x941)][_0x19d800(0x616)][_0x19d800(0xcc)](_0x2cc780[_0x19d800(0x7de)]))throw new _0x322bb6(_0x4b1e43[_0x19d800(0x5fe)],_0x19d800(0x730));try{return this['contentManager'][_0x19d800(0x4de)](_0xd48ea6);}catch(_0x4a34c8){throw this['handleError'](_0x4a34c8,{});}}[_0x4d79c3(0x6bc)](_0xb3902f){const _0x3e2291=_0x4d79c3;if(!this[_0x3e2291(0x941)][_0x3e2291(0x616)][_0x3e2291(0xcc)](_0x2cc780[_0x3e2291(0x7de)]))throw new _0x322bb6(_0x4b1e43[_0x3e2291(0x5fe)],_0x3e2291(0x730));try{return this['contentManager']['getRemoteMediaStreams'](_0xb3902f);}catch(_0xf081e6){throw this[_0x3e2291(0xa2a)](_0xf081e6,{});}}['getVectorDatabases'](_0x105365){const _0x18df92=_0x4d79c3;try{return this[_0x18df92(0x1f7)][_0x18df92(0x6f6)](_0x105365);}catch(_0x225a1f){throw this[_0x18df92(0xa2a)](_0x225a1f,{});}}[_0x4d79c3(0xa3f)](_0x445483,_0xfb8629){const _0x3f1865=_0x4d79c3;return this[_0x3f1865(0x842)]['getDistance'](_0x445483,_0xfb8629);}[_0x4d79c3(0x742)](){return this['nodeManager']['getLocalNode']();}[_0x4d79c3(0x58d)](_0x1e031d){const _0x16914a=_0x4d79c3;try{return this[_0x16914a(0x842)][_0x16914a(0x58d)](_0x1e031d);}catch(_0x5e3396){throw this['handleError'](_0x5e3396,{});}}[_0x4d79c3(0x550)](){const _0xfefe8d=_0x4d79c3;return this[_0xfefe8d(0x838)]['waitForArrayBufferSize']();}['isNodeReady'](_0x4d30){const _0x4bc877=_0x4d79c3;return this[_0x4bc877(0x842)]['isNodeReady'](_0x4d30);}async[_0x4d79c3(0x78)](_0xa595cc){const _0x24ea02=_0x4d79c3;try{if(_0x10d8cb['log'](_0x44f26b[_0x24ea02(0x5c9)],_0x24ea02(0x7dd),this['nodeManager']['getLocalId'](),_0xa595cc),_0x1e41d0(_0xa595cc,this[_0x24ea02(0x842)]['getLocalId']()))return void this[_0x24ea02(0x838)][_0x24ea02(0x7f8)](_0xa595cc);switch(_0xa595cc[_0x24ea02(0x12e)]){case _0x15b885['Content']:this[_0x24ea02(0x2a2)][_0x24ea02(0x8ea)](_0xa595cc),this[_0x24ea02(0x952)][_0x24ea02(0x8ea)](_0xa595cc),this[_0x24ea02(0x1f7)][_0x24ea02(0x8ea)](_0xa595cc);break;case _0x15b885['Node']:this[_0x24ea02(0x952)]['handleNodeSystemEvents'](_0xa595cc),this['connectionManager']['handleNodeSystemEvents'](_0xa595cc),this[_0x24ea02(0x1f7)][_0x24ea02(0x44a)](_0xa595cc),this['nodeManager'][_0x24ea02(0x44a)](_0xa595cc);break;case _0x15b885[_0x24ea02(0x35b)]:this[_0x24ea02(0x537)]['handleDetectionSystemEvents'](_0xa595cc);break;case _0x15b885[_0x24ea02(0xa5f)]:this[_0x24ea02(0x537)][_0x24ea02(0x156)](_0xa595cc);break;case _0x15b885[_0x24ea02(0x106)]:this['detectionManager']['handleStatsSystemEvents'](_0xa595cc);break;case _0x15b885[_0x24ea02(0xa34)]:_0xa595cc['content']['type']!==_0x4cf11e['UnsubscribeMediaStream']?(this[_0x24ea02(0x952)][_0x24ea02(0x5e3)](_0xa595cc),this[_0x24ea02(0x1f7)][_0x24ea02(0x5e3)](_0xa595cc)):(this[_0x24ea02(0x1f7)][_0x24ea02(0x5e3)](_0xa595cc),this[_0x24ea02(0x952)]['handleSubscriptionSystemEvents'](_0xa595cc));break;case _0x15b885[_0x24ea02(0x2bf)]:await this[_0x24ea02(0x838)]['handlePeerConnectionSystemEvents'](_0xa595cc),this[_0x24ea02(0x2a2)]['handlePeerConnectionSystemEvents'](_0xa595cc),this[_0x24ea02(0x842)][_0x24ea02(0xa0c)](_0xa595cc),this['subscriptionManager'][_0x24ea02(0xa0c)](_0xa595cc);}}catch(_0xc3d4d7){throw _0x10d8cb[_0x24ea02(0x2ee)](_0x24ea02(0x78),_0xc3d4d7),this[_0x24ea02(0xa2a)](_0xc3d4d7,{});}}['handleError'](_0x21188a,_0x2629ba){const _0xbc2f21=_0x4d79c3;if(!(_0x21188a instanceof _0x4b3c50)){if(_0x21188a instanceof _0x322bb6)throw _0x21188a;if(!(_0x21188a instanceof Error))throw new _0x322bb6(_0x4b1e43[_0xbc2f21(0x789)],_0xbc2f21(0x1c9)+_0x21188a);if(!(_0x21188a instanceof _0x25257a))throw new _0x322bb6(_0x4b1e43[_0xbc2f21(0x789)],'Internal\x20error:\x20'+_0x21188a[_0xbc2f21(0x206)]);switch(_0x21188a[_0xbc2f21(0x2ef)]){case _0x25257a[_0xbc2f21(0x6cc)][_0xbc2f21(0x665)]:case _0x25257a['codes']['MissingRemoteConnection']:case _0x25257a['codes']['PeerConnectionInvalidDestination']:case _0x25257a['codes'][_0xbc2f21(0xa87)]:case _0x25257a[_0xbc2f21(0x6cc)][_0xbc2f21(0x5a6)]:case _0x25257a['codes']['InvalidDataChannel']:case _0x25257a[_0xbc2f21(0x6cc)]['InvalidPublisher']:case _0x25257a[_0xbc2f21(0x6cc)][_0xbc2f21(0x699)]:case _0x25257a[_0xbc2f21(0x6cc)][_0xbc2f21(0x805)]:case _0x25257a['codes']['SubscriptionRequestFailed']:case _0x25257a[_0xbc2f21(0x6cc)][_0xbc2f21(0x128)]:case _0x25257a[_0xbc2f21(0x6cc)][_0xbc2f21(0x82b)]:}throw _0x10d8cb[_0xbc2f21(0x23a)](_0xbc2f21(0x954)+_0x21188a[_0xbc2f21(0x206)],{'clusterId':this['clusterId'],'nodeId':this[_0xbc2f21(0x3d8)][_0xbc2f21(0x970)](),'nodeType':this['localNode'][_0xbc2f21(0x572)]},_0x21188a),new _0x322bb6(_0x4b1e43[_0xbc2f21(0x789)],_0xbc2f21(0xaab)+_0x21188a[_0xbc2f21(0x206)]);}}['getConfigs'](){const _0x244086=_0x4d79c3;return{'mediator':this,'vendorId':this[_0x244086(0x5eb)],'clusterId':this['clusterId'],'localNode':this[_0x244086(0x3d8)]};}[_0x4d79c3(0x911)](){const _0x1342f7=_0x4d79c3;return this[_0x1342f7(0x3fb)][_0x1342f7(0x2a1)](_0x3805f3=>{const _0x29365b=_0x1342f7,_0x2db3ad=_0x42c31f(_0x3805f3,this[_0x29365b(0x3d8)]['getId']()),_0x370938=_0x3805f3[_0x29365b(0x12e)]===_0x15b885[_0x29365b(0x106)]||_0x3805f3[_0x29365b(0x12e)]===_0x15b885[_0x29365b(0x2bf)]&&_0x3805f3[_0x29365b(0x898)][_0x29365b(0x572)]===_0x4663c4[_0x29365b(0x106)]?_0x44f26b[_0x29365b(0x8fb)]:_0x44f26b[_0x29365b(0x657)];_0x10d8cb[_0x29365b(0x1a3)](_0x370938,_0x3805f3[_0x29365b(0x7e6)]+_0x29365b(0x6be)+_0x2db3ad,_0x3805f3),this['handleSystemEvents'](_0x3805f3)[_0x29365b(0x22d)](_0xdf7f4c=>{const _0x221b77=_0x29365b;console[_0x221b77(0x23a)](_0xdf7f4c);});});}async[_0x4d79c3(0x57d)](_0x4edf23){const _0x34dd9e=_0x4d79c3,{timingLogger:_0x58b1b3,logger:_0x1d0fe2,logBeforeSync:_0x15cebd,logAfterSync:_0x3335c6}=function(_0x8690cb,_0x22882e){const _0x3c2936=a0_0x50a3;if(!_0x10d8cb[_0x3c2936(0x50f)](_0x22882e))return _0x10d8cb[_0x3c2936(0x2ee)](_0x3c2936(0x604)+_0x22882e),{..._0x1b625f(_0x8690cb,_0x22882e),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x3fc48c,logger:_0x29d67b}=_0x1b625f(_0x8690cb,_0x22882e);let _0x109b88=0x0;return _0x109b88=Date[_0x3c2936(0x2a6)](),{'syncStartTime':_0x109b88,'timingLogger':_0x3fc48c,'logger':_0x29d67b,'logBeforeSync':()=>(_0x23c83a(_0x22882e,'Before\x20Synchronization'),_0x3fc48c['now']()),'logAfterSync':(_0x561c16,_0x20bffe)=>{const _0x267b35=_0x3c2936,_0x40f6ed=Date['now']();_0x23c83a(_0x22882e,_0x267b35(0x2cf)+_0x20bffe);const _0x26b6f8=(_0x40f6ed-_0x109b88)/0x3e8,_0x504c84=(_0x40f6ed-_0x561c16)/0x3e8;_0x10d8cb['log'](_0x22882e,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x8690cb,'\x0a\x20===\x20Total\x20Time:\x20'+_0x26b6f8['toFixed'](0x2)+'\x20seconds',_0x267b35(0x8e6)+_0x504c84[_0x267b35(0x234)](0x3)+_0x267b35(0x598),_0x267b35(0x971)+((_0x40f6ed-_0x109b88)/0x3e8-_0x504c84)[_0x267b35(0x234)](0x2)+'\x20seconds');}};}(_0x4edf23[_0x34dd9e(0xa98)](),_0x44f26b[_0x34dd9e(0xaac)]);_0x1d0fe2[_0x34dd9e(0x3bc)](_0x34dd9e(0x448));const _0x3fdd84=this['nodeManager'][_0x34dd9e(0xab2)]()[_0x34dd9e(0x4bf)]>0x0;if(_0x3fdd84){_0x1d0fe2[_0x34dd9e(0x3bc)](_0x34dd9e(0xe0),()=>this[_0x34dd9e(0x842)]['getAncestorIds']()),_0x58b1b3[_0x34dd9e(0x86)](),await Promise['all'](this['nodeManager'][_0x34dd9e(0xab2)]()[_0x34dd9e(0x384)](async _0x49696e=>await this[_0x34dd9e(0x842)][_0x34dd9e(0x9f6)](_0x49696e)))['catch'](_0x50fa68=>_0x10d8cb[_0x34dd9e(0x29c)](_0x34dd9e(0x5bf),{'nodeId':this[_0x34dd9e(0x3d8)][_0x34dd9e(0x970)](),'nodeType':this[_0x34dd9e(0x3d8)]['type']}));const _0x2ed5d6=_0x1d0fe2[_0x34dd9e(0x8ce)](()=>this['nodeManager']['getAncestorIds'](),[]);_0x58b1b3[_0x34dd9e(0x180)](_0x34dd9e(0x7a3)+_0x2ed5d6+_0x34dd9e(0x749));}_0x3335c6(_0x15cebd(),await _0x4edf23[_0x34dd9e(0x522)](_0x3fdd84,async()=>{const _0xbbe20b=_0x34dd9e;_0x58b1b3[_0xbbe20b(0x86)](),await this[_0xbbe20b(0x842)][_0xbbe20b(0x365)](),_0x58b1b3[_0xbbe20b(0x180)](_0xbbe20b(0x3ab)),_0x4edf23['sync'](!0x0,()=>{const _0x11cabf=_0xbbe20b;_0x1d0fe2[_0x11cabf(0x3bc)](_0x11cabf(0x7d2)),_0x4edf23[_0x11cabf(0x522)](!0x1);},!0x0);}));}}class _0x213c62{[_0x4d79c3(0x5eb)];['clusterId'];[_0x4d79c3(0x7a8)];[_0x4d79c3(0xdb)];['orchestrator'];constructor(_0x2b4206,_0x55b206,_0x42c023,_0x5a2acb,_0x57979a,_0xd136c6,_0x4b84f3=new _0x58d867()){const _0x325d36=_0x4d79c3;this[_0x325d36(0x5eb)]=_0x2b4206,this[_0x325d36(0x5b6)]=_0x55b206,this['authNode']=_0x42c023,this[_0x325d36(0xdb)]=_0x4b84f3,this[_0x325d36(0x918)]=new _0x388c11(this[_0x325d36(0x5eb)],this[_0x325d36(0x5b6)],_0x42c023,_0x5a2acb,_0x57979a,_0xd136c6,this);}async[_0x4d79c3(0x9fc)](){const _0x4dc4df=_0x4d79c3;await this['orchestrator']['initialize'](),this[_0x4dc4df(0x7a8)][_0x4dc4df(0x572)]===_0xf8ccf2[_0x4dc4df(0x47f)][_0x4dc4df(0x25a)]&&this[_0x4dc4df(0x7a8)]['registerCluster'](this['clusterId'],_0x557283=>{const _0x5ed020=_0x4dc4df;this[_0x5ed020(0x918)][_0x5ed020(0x6f9)](_0x557283);});}[_0x4d79c3(0x297)](_0x3646ec={}){const _0x55d666=_0x4d79c3;this[_0x55d666(0x918)][_0x55d666(0x8f0)](_0x3646ec),this[_0x55d666(0x7a8)][_0x55d666(0x572)]===_0xf8ccf2[_0x55d666(0x47f)]['User']&&this[_0x55d666(0x7a8)][_0x55d666(0x7a0)](this[_0x55d666(0x5b6)]),this[_0x55d666(0x28b)](_0x55d666(0x194),void 0x0);}[_0x4d79c3(0x7ef)](_0x909ec0){const _0x520422=_0x4d79c3,_0x2b32a8=this['orchestrator'][_0x520422(0x7ef)](_0x909ec0);return{'getName':_0x2b32a8[_0x520422(0x97b)][_0x520422(0x1f5)](_0x2b32a8),'getOwnerId':_0x2b32a8[_0x520422(0x351)][_0x520422(0x1f5)](_0x2b32a8),'getContentType':_0x2b32a8[_0x520422(0x2c5)]['bind'](_0x2b32a8),'publish':_0x2b32a8[_0x520422(0x758)][_0x520422(0x1f5)](_0x2b32a8),'subscribe':_0x2b32a8['subscribe'][_0x520422(0x1f5)](_0x2b32a8),'unsubscribe':_0x2b32a8[_0x520422(0x5fc)]['bind'](_0x2b32a8),'close':_0x2b32a8[_0x520422(0x8f0)][_0x520422(0x1f5)](_0x2b32a8)};}async[_0x4d79c3(0x493)](_0x26cbac,_0x3ff51b){const _0x1233ed=_0x4d79c3,_0x27d98e=await this[_0x1233ed(0x918)][_0x1233ed(0x493)](_0x26cbac,_0x3ff51b);return{'getName':_0x27d98e[_0x1233ed(0x97b)][_0x1233ed(0x1f5)](_0x27d98e),'getOwnerId':_0x27d98e[_0x1233ed(0x351)][_0x1233ed(0x1f5)](_0x27d98e),'getContentType':_0x27d98e[_0x1233ed(0x2c5)][_0x1233ed(0x1f5)](_0x27d98e),'publish':_0x27d98e[_0x1233ed(0x758)][_0x1233ed(0x1f5)](_0x27d98e),'unpublish':_0x27d98e[_0x1233ed(0x44c)][_0x1233ed(0x1f5)](_0x27d98e),'get':_0x27d98e[_0x1233ed(0x2d3)][_0x1233ed(0x1f5)](_0x27d98e),'list':_0x27d98e[_0x1233ed(0x119)][_0x1233ed(0x1f5)](_0x27d98e),'getSize':_0x27d98e[_0x1233ed(0x327)]['bind'](_0x27d98e),'subscribe':_0x27d98e[_0x1233ed(0x2a1)][_0x1233ed(0x1f5)](_0x27d98e),'unsubscribe':_0x27d98e[_0x1233ed(0x5fc)][_0x1233ed(0x1f5)](_0x27d98e),'close':_0x27d98e[_0x1233ed(0x8f0)]['bind'](_0x27d98e)};}async[_0x4d79c3(0x429)](_0x5aed49,_0x2186d5){const _0xc1ef57=_0x4d79c3,_0x121afc=await this[_0xc1ef57(0x918)][_0xc1ef57(0x429)](_0x5aed49,_0x2186d5);return{'getName':_0x121afc[_0xc1ef57(0x97b)][_0xc1ef57(0x1f5)](_0x121afc),'getOwnerId':_0x121afc[_0xc1ef57(0x351)][_0xc1ef57(0x1f5)](_0x121afc),'getContentType':_0x121afc[_0xc1ef57(0x2c5)][_0xc1ef57(0x1f5)](_0x121afc),'close':_0x121afc[_0xc1ef57(0x8f0)][_0xc1ef57(0x1f5)](_0x121afc),'get':_0x121afc[_0xc1ef57(0x2d3)][_0xc1ef57(0x1f5)](_0x121afc),'list':_0x121afc[_0xc1ef57(0x119)]['bind'](_0x121afc),'subscribe':_0x121afc[_0xc1ef57(0x2a1)][_0xc1ef57(0x1f5)](_0x121afc),'unsubscribe':_0x121afc['unsubscribe'][_0xc1ef57(0x1f5)](_0x121afc)};}async[_0x4d79c3(0x152)](_0xc9912c,_0x2fa208,_0x7eba82){const _0x33b1a0=_0x4d79c3,_0x3c4eb1=await this[_0x33b1a0(0x918)]['openKeyValueDatabase'](_0xc9912c,_0x2fa208,_0x7eba82);return{'getName':_0x3c4eb1['getName'][_0x33b1a0(0x1f5)](_0x3c4eb1),'getOwnerId':_0x3c4eb1[_0x33b1a0(0x351)][_0x33b1a0(0x1f5)](_0x3c4eb1),'getContentType':_0x3c4eb1['getContentType'][_0x33b1a0(0x1f5)](_0x3c4eb1),'getTable':_0x3c4eb1[_0x33b1a0(0x4a1)][_0x33b1a0(0x1f5)](_0x3c4eb1),'subscribe':_0x3c4eb1['subscribe']['bind'](_0x3c4eb1),'unsubscribe':_0x3c4eb1[_0x33b1a0(0x5fc)][_0x33b1a0(0x1f5)](_0x3c4eb1),'close':_0x3c4eb1[_0x33b1a0(0x8f0)]['bind'](_0x3c4eb1)};}async['openJobDispatcher'](_0xa8fb30){const _0x428153=_0x4d79c3,_0x45b6be=await this[_0x428153(0x918)][_0x428153(0xa1)](_0xa8fb30);return{'getName':_0x45b6be[_0x428153(0x97b)][_0x428153(0x1f5)](_0x45b6be),'getOwnerId':_0x45b6be['getOwnerId'][_0x428153(0x1f5)](_0x45b6be),'getContentType':_0x45b6be[_0x428153(0x2c5)][_0x428153(0x1f5)](_0x45b6be),'createJob':_0x45b6be['createJob']['bind'](_0x45b6be),'getJob':_0x45b6be[_0x428153(0x248)]['bind'](_0x45b6be),'getJobs':_0x45b6be[_0x428153(0x350)][_0x428153(0x1f5)](_0x45b6be),'close':_0x45b6be[_0x428153(0x8f0)][_0x428153(0x1f5)](_0x45b6be)};}async[_0x4d79c3(0x5a8)](_0x477157){const _0x569049=_0x4d79c3,_0x5a6bc3=await this[_0x569049(0x918)][_0x569049(0x5a8)](_0x477157);return{'close':_0x5a6bc3['close'][_0x569049(0x1f5)](_0x5a6bc3)};}async[_0x4d79c3(0x5f7)](_0x1116a2){const _0x4b527e=_0x4d79c3,_0x49cd82=await this[_0x4b527e(0x918)][_0x4b527e(0x5f7)](_0x1116a2);return{'createAIJob':_0x49cd82[_0x4b527e(0x88f)][_0x4b527e(0x1f5)](_0x49cd82),'getDataBucketIds':_0x49cd82[_0x4b527e(0x782)][_0x4b527e(0x1f5)](_0x49cd82),'close':_0x49cd82['close'][_0x4b527e(0x1f5)](_0x49cd82)};}async[_0x4d79c3(0x870)](_0x224e19){const _0x14c52c=_0x4d79c3,_0x2c759e=await this[_0x14c52c(0x918)]['openGenerativeAIContextStandalone'](_0x224e19);return{'createAIJob':_0x2c759e[_0x14c52c(0x88f)][_0x14c52c(0x1f5)](_0x2c759e),'getDataBucketIds':_0x2c759e[_0x14c52c(0x782)]['bind'](_0x2c759e),'close':_0x2c759e['close'][_0x14c52c(0x1f5)](_0x2c759e)};}async['openGenerativeAIWorker'](_0x295f74){const _0x45831c=_0x4d79c3,_0x7cbade=await this[_0x45831c(0x918)][_0x45831c(0x33f)](_0x295f74);return{'close':_0x7cbade['close'][_0x45831c(0x1f5)](_0x7cbade)};}[_0x4d79c3(0x480)](_0x37ed50){const _0x4274c1=_0x4d79c3,_0x42bbe5=this[_0x4274c1(0x918)]['openGraphDatabase'](_0x37ed50);return{'getName':_0x42bbe5[_0x4274c1(0x97b)][_0x4274c1(0x1f5)](_0x42bbe5),'getOwnerId':_0x42bbe5[_0x4274c1(0x351)]['bind'](_0x42bbe5),'getContentType':_0x42bbe5['getContentType'][_0x4274c1(0x1f5)](_0x42bbe5),'addNode':_0x42bbe5[_0x4274c1(0x13e)][_0x4274c1(0x1f5)](_0x42bbe5),'addEdge':_0x42bbe5[_0x4274c1(0x71c)][_0x4274c1(0x1f5)](_0x42bbe5),'getContent':_0x42bbe5['getContent'][_0x4274c1(0x1f5)](_0x42bbe5),'remove':_0x42bbe5[_0x4274c1(0xa49)]['bind'](_0x42bbe5),'saveToDisk':_0x42bbe5[_0x4274c1(0x5b7)][_0x4274c1(0x1f5)](_0x42bbe5),'loadFromDisk':_0x42bbe5['loadFromDisk']['bind'](_0x42bbe5),'close':_0x42bbe5['close'][_0x4274c1(0x1f5)](_0x42bbe5)};}['openVectorDatabase'](_0x1ca7f1){const _0x1b7954=_0x4d79c3,_0xdeac35=this['orchestrator'][_0x1b7954(0x513)](_0x1ca7f1);return{'getName':_0xdeac35[_0x1b7954(0x97b)][_0x1b7954(0x1f5)](_0xdeac35),'getOwnerId':_0xdeac35[_0x1b7954(0x351)]['bind'](_0xdeac35),'getContentType':_0xdeac35[_0x1b7954(0x2c5)][_0x1b7954(0x1f5)](_0xdeac35),'search':_0xdeac35[_0x1b7954(0x8a7)][_0x1b7954(0x1f5)](_0xdeac35),'insert':_0xdeac35[_0x1b7954(0x5af)][_0x1b7954(0x1f5)](_0xdeac35),'remove':_0xdeac35[_0x1b7954(0xa49)][_0x1b7954(0x1f5)](_0xdeac35),'saveToDisk':_0xdeac35[_0x1b7954(0x5b7)][_0x1b7954(0x1f5)](_0xdeac35),'loadFromDisk':_0xdeac35[_0x1b7954(0x9cd)]['bind'](_0xdeac35),'close':_0xdeac35[_0x1b7954(0x8f0)][_0x1b7954(0x1f5)](_0xdeac35)};}[_0x4d79c3(0x2f8)](_0x51ee7e){const _0x4d924e=_0x4d79c3;return this[_0x4d924e(0x918)][_0x4d924e(0x2f8)](_0x51ee7e)[_0x4d924e(0x384)](_0x16db18=>({'getName':_0x16db18['getName'][_0x4d924e(0x1f5)](_0x16db18),'getOwnerId':_0x16db18['getOwnerId'][_0x4d924e(0x1f5)](_0x16db18),'getContentType':_0x16db18['getContentType'][_0x4d924e(0x1f5)](_0x16db18),'publish':_0x16db18[_0x4d924e(0x758)]['bind'](_0x16db18),'subscribe':_0x16db18[_0x4d924e(0x2a1)][_0x4d924e(0x1f5)](_0x16db18),'unsubscribe':_0x16db18[_0x4d924e(0x5fc)]['bind'](_0x16db18),'close':_0x16db18[_0x4d924e(0x8f0)][_0x4d924e(0x1f5)](_0x16db18)}));}[_0x4d79c3(0x80c)](_0x228ec5){const _0x349c48=_0x4d79c3;return this['orchestrator'][_0x349c48(0x80c)](_0x228ec5)['map'](_0x43866c=>({'getName':_0x43866c[_0x349c48(0x97b)]['bind'](_0x43866c),'getOwnerId':_0x43866c['getOwnerId']['bind'](_0x43866c),'getContentType':_0x43866c[_0x349c48(0x2c5)]['bind'](_0x43866c),'publish':_0x43866c[_0x349c48(0x758)]['bind'](_0x43866c),'unpublish':_0x43866c[_0x349c48(0x44c)]['bind'](_0x43866c),'get':_0x43866c[_0x349c48(0x2d3)][_0x349c48(0x1f5)](_0x43866c),'list':_0x43866c[_0x349c48(0x119)][_0x349c48(0x1f5)](_0x43866c),'getSize':_0x43866c[_0x349c48(0x327)][_0x349c48(0x1f5)](_0x43866c),'subscribe':_0x43866c['subscribe']['bind'](_0x43866c),'unsubscribe':_0x43866c[_0x349c48(0x5fc)]['bind'](_0x43866c),'close':_0x43866c[_0x349c48(0x8f0)]['bind'](_0x43866c)}));}['getExternalStorageConnections'](_0xf1c5c6){const _0x21df3f=_0x4d79c3;return this[_0x21df3f(0x918)][_0x21df3f(0x3b4)](_0xf1c5c6)[_0x21df3f(0x384)](_0x4401a8=>({'getName':_0x4401a8[_0x21df3f(0x97b)]['bind'](_0x4401a8),'getOwnerId':_0x4401a8[_0x21df3f(0x351)]['bind'](_0x4401a8),'getContentType':_0x4401a8[_0x21df3f(0x2c5)][_0x21df3f(0x1f5)](_0x4401a8),'close':_0x4401a8['close']['bind'](_0x4401a8),'get':_0x4401a8['get'][_0x21df3f(0x1f5)](_0x4401a8),'list':_0x4401a8[_0x21df3f(0x119)]['bind'](_0x4401a8),'subscribe':_0x4401a8['subscribe'][_0x21df3f(0x1f5)](_0x4401a8),'unsubscribe':_0x4401a8[_0x21df3f(0x5fc)]['bind'](_0x4401a8)}));}['getKeyValueDatabases'](_0x474c81){const _0x4c398d=_0x4d79c3;return this[_0x4c398d(0x918)][_0x4c398d(0x557)](_0x474c81)['map'](_0x32d659=>({'getName':_0x32d659[_0x4c398d(0x97b)]['bind'](_0x32d659),'getOwnerId':_0x32d659[_0x4c398d(0x351)][_0x4c398d(0x1f5)](_0x32d659),'getContentType':_0x32d659[_0x4c398d(0x2c5)][_0x4c398d(0x1f5)](_0x32d659),'getTable':_0x32d659[_0x4c398d(0x4a1)][_0x4c398d(0x1f5)](_0x32d659),'subscribe':_0x32d659[_0x4c398d(0x2a1)]['bind'](_0x32d659),'unsubscribe':_0x32d659[_0x4c398d(0x5fc)][_0x4c398d(0x1f5)](_0x32d659),'close':_0x32d659[_0x4c398d(0x8f0)][_0x4c398d(0x1f5)](_0x32d659)}));}[_0x4d79c3(0x881)](_0x2d94fe){const _0x1179fe=_0x4d79c3;return this['orchestrator'][_0x1179fe(0x881)](_0x2d94fe)[_0x1179fe(0x384)](_0x5f384b=>({'createAIJob':_0x5f384b['createAIJob'][_0x1179fe(0x1f5)](_0x5f384b),'getDataBucketIds':_0x5f384b[_0x1179fe(0x782)][_0x1179fe(0x1f5)](_0x5f384b),'close':_0x5f384b[_0x1179fe(0x8f0)][_0x1179fe(0x1f5)](_0x5f384b)}));}[_0x4d79c3(0x465)](_0x5990aa){const _0x371d16=_0x4d79c3;return this[_0x371d16(0x918)][_0x371d16(0x465)](_0x5990aa)[_0x371d16(0x384)](_0x5c54c4=>({'createAIJob':_0x5c54c4['createAIJob']['bind'](_0x5c54c4),'getDataBucketIds':_0x5c54c4[_0x371d16(0x782)][_0x371d16(0x1f5)](_0x5c54c4),'close':_0x5c54c4['close'][_0x371d16(0x1f5)](_0x5c54c4)}));}[_0x4d79c3(0x13c)](_0x365360){const _0x70477d=_0x4d79c3;return this[_0x70477d(0x918)][_0x70477d(0x13c)](_0x365360)[_0x70477d(0x384)](_0x127575=>({'close':_0x127575['close'][_0x70477d(0x1f5)](_0x127575)}));}[_0x4d79c3(0xa8a)](_0x463732,_0x23ec35){const _0x5c2f3e=_0x4d79c3,_0x11aed0=this[_0x5c2f3e(0x918)][_0x5c2f3e(0x760)](_0x463732,_0x23ec35);return{'getLabel':_0x11aed0[_0x5c2f3e(0xa98)]['bind'](_0x11aed0),'getOwnerId':_0x11aed0['getOwnerId'][_0x5c2f3e(0x1f5)](_0x11aed0),'getContentType':_0x11aed0[_0x5c2f3e(0x2c5)]['bind'](_0x11aed0),'getMediaStream':_0x11aed0['getMediaStream'][_0x5c2f3e(0x1f5)](_0x11aed0),'setPriority':_0x11aed0[_0x5c2f3e(0x10b)][_0x5c2f3e(0x1f5)](_0x11aed0),'unpublish':_0x11aed0[_0x5c2f3e(0x44c)][_0x5c2f3e(0x1f5)](_0x11aed0)};}[_0x4d79c3(0x7fe)](_0x431b07,_0x8530ce){const _0x1a1521=_0x4d79c3,_0x3e887d=this['orchestrator'][_0x1a1521(0x8fa)](_0x431b07,_0x8530ce);return{'getLabel':_0x3e887d[_0x1a1521(0xa98)][_0x1a1521(0x1f5)](_0x3e887d),'getOwnerId':_0x3e887d[_0x1a1521(0x351)][_0x1a1521(0x1f5)](_0x3e887d),'getContentType':_0x3e887d[_0x1a1521(0x2c5)][_0x1a1521(0x1f5)](_0x3e887d),'setPriority':_0x3e887d[_0x1a1521(0x10b)][_0x1a1521(0x1f5)](_0x3e887d),'unpublish':_0x3e887d[_0x1a1521(0x44c)][_0x1a1521(0x1f5)](_0x3e887d),'getMediaStream':_0x3e887d[_0x1a1521(0x85c)]['bind'](_0x3e887d),'addTrack':_0x3e887d['addTrack'][_0x1a1521(0x1f5)](_0x3e887d),'removeTrack':_0x3e887d['removeTrack'][_0x1a1521(0x1f5)](_0x3e887d),'replaceTrack':_0x3e887d[_0x1a1521(0x444)][_0x1a1521(0x1f5)](_0x3e887d),'setTransformations':_0x3e887d[_0x1a1521(0x3c1)][_0x1a1521(0x1f5)](_0x3e887d)};}[_0x4d79c3(0x4de)](_0x312122){const _0x39261c=_0x4d79c3;return this[_0x39261c(0x918)][_0x39261c(0x4de)](_0x312122)[_0x39261c(0x384)](_0x46b70d=>({'getLabel':_0x46b70d[_0x39261c(0xa98)][_0x39261c(0x1f5)](_0x46b70d),'getOwnerId':_0x46b70d[_0x39261c(0x351)][_0x39261c(0x1f5)](_0x46b70d),'getContentType':_0x46b70d[_0x39261c(0x2c5)][_0x39261c(0x1f5)](_0x46b70d),'getMediaStream':_0x46b70d['getMediaStream']['bind'](_0x46b70d),'setPriority':_0x46b70d[_0x39261c(0x10b)][_0x39261c(0x1f5)](_0x46b70d),'unpublish':_0x46b70d['unpublish'][_0x39261c(0x1f5)](_0x46b70d)}));}[_0x4d79c3(0x6bc)](_0x95de29){const _0x31c72a=_0x4d79c3;return this[_0x31c72a(0x918)]['getRemoteMediaStreams'](_0x95de29)['map'](_0x307718=>({'getLabel':_0x307718[_0x31c72a(0xa98)][_0x31c72a(0x1f5)](_0x307718),'getOwnerId':_0x307718['getOwnerId'][_0x31c72a(0x1f5)](_0x307718),'getContentType':_0x307718[_0x31c72a(0x2c5)][_0x31c72a(0x1f5)](_0x307718),'getMediaStream':_0x307718[_0x31c72a(0x85c)][_0x31c72a(0x1f5)](_0x307718),'subscribe':_0x307718['subscribe'][_0x31c72a(0x1f5)](_0x307718),'unsubscribe':_0x307718[_0x31c72a(0x5fc)]['bind'](_0x307718),'getAvailableTrackKinds':_0x307718[_0x31c72a(0x728)][_0x31c72a(0x1f5)](_0x307718),'update':_0x307718[_0x31c72a(0x63e)][_0x31c72a(0x1f5)](_0x307718),'onProviderChange':_0x307718[_0x31c72a(0x593)][_0x31c72a(0x1f5)](_0x307718)}));}[_0x4d79c3(0xa77)](_0x5e9059){const _0x233e71=_0x4d79c3;return this[_0x233e71(0x918)][_0x233e71(0xa77)](_0x5e9059)[_0x233e71(0x384)](_0x1a8750=>({'getName':_0x1a8750[_0x233e71(0x97b)][_0x233e71(0x1f5)](_0x1a8750),'getOwnerId':_0x1a8750[_0x233e71(0x351)][_0x233e71(0x1f5)](_0x1a8750),'getContentType':_0x1a8750[_0x233e71(0x2c5)]['bind'](_0x1a8750),'addNode':_0x1a8750[_0x233e71(0x13e)][_0x233e71(0x1f5)](_0x1a8750),'addEdge':_0x1a8750['addEdge'][_0x233e71(0x1f5)](_0x1a8750),'getContent':_0x1a8750[_0x233e71(0x213)][_0x233e71(0x1f5)](_0x1a8750),'remove':_0x1a8750[_0x233e71(0xa49)][_0x233e71(0x1f5)](_0x1a8750),'saveToDisk':_0x1a8750[_0x233e71(0x5b7)][_0x233e71(0x1f5)](_0x1a8750),'loadFromDisk':_0x1a8750[_0x233e71(0x9cd)]['bind'](_0x1a8750),'close':_0x1a8750[_0x233e71(0x8f0)]['bind'](_0x1a8750)}));}['getVectorDatabases'](_0x58d086){const _0xce53f6=_0x4d79c3;return this[_0xce53f6(0x918)]['getVectorDatabases'](_0x58d086)[_0xce53f6(0x384)](_0x457b94=>({'getName':_0x457b94[_0xce53f6(0x97b)]['bind'](_0x457b94),'getOwnerId':_0x457b94[_0xce53f6(0x351)][_0xce53f6(0x1f5)](_0x457b94),'getContentType':_0x457b94[_0xce53f6(0x2c5)][_0xce53f6(0x1f5)](_0x457b94),'search':_0x457b94['search'][_0xce53f6(0x1f5)](_0x457b94),'insert':_0x457b94[_0xce53f6(0x5af)][_0xce53f6(0x1f5)](_0x457b94),'remove':_0x457b94[_0xce53f6(0xa49)][_0xce53f6(0x1f5)](_0x457b94),'saveToDisk':_0x457b94['saveToDisk']['bind'](_0x457b94),'loadFromDisk':_0x457b94[_0xce53f6(0x9cd)][_0xce53f6(0x1f5)](_0x457b94),'close':_0x457b94[_0xce53f6(0x8f0)][_0xce53f6(0x1f5)](_0x457b94)}));}[_0x4d79c3(0x742)](){const _0x28fb37=_0x4d79c3,_0x970597=this['orchestrator'][_0x28fb37(0x742)]();switch(_0x970597['type']){case _0xf8ccf2[_0x28fb37(0x47f)][_0x28fb37(0x25a)]:return{'type':_0xf8ccf2[_0x28fb37(0x47f)]['User'],'getId':_0x970597[_0x28fb37(0x970)][_0x28fb37(0x1f5)](_0x970597),'getDisplayName':_0x970597[_0x28fb37(0x9b3)][_0x28fb37(0x1f5)](_0x970597),'getEmail':_0x970597['getEmail'][_0x28fb37(0x1f5)](_0x970597),'getRemoteConnections':_0x970597['getRemoteConnections']['bind'](_0x970597),'setDisplayName':_0x970597[_0x28fb37(0x87a)][_0x28fb37(0x1f5)](_0x970597),'setEmail':_0x970597[_0x28fb37(0x77a)]['bind'](_0x970597)};case _0xf8ccf2[_0x28fb37(0x47f)][_0x28fb37(0x6ab)]:default:return{'type':_0xf8ccf2['NodeType'][_0x28fb37(0x6ab)],'getId':_0x970597['getId'][_0x28fb37(0x1f5)](_0x970597),'getRemoteConnections':_0x970597[_0x28fb37(0x142)][_0x28fb37(0x1f5)](_0x970597)};}}[_0x4d79c3(0x58d)](_0x27979a){const _0x51c403=_0x4d79c3;return this['orchestrator']['getRemoteNodes'](_0x27979a)[_0x51c403(0x384)](_0x213d28=>{const _0x1ca478=_0x51c403;switch(_0x213d28['type']){case _0xf8ccf2[_0x1ca478(0x47f)][_0x1ca478(0x25a)]:return{'type':_0xf8ccf2[_0x1ca478(0x47f)][_0x1ca478(0x25a)],'getId':_0x213d28[_0x1ca478(0x970)][_0x1ca478(0x1f5)](_0x213d28),'getDisplayName':_0x213d28[_0x1ca478(0x9b3)]['bind'](_0x213d28),'getEmail':_0x213d28[_0x1ca478(0x459)][_0x1ca478(0x1f5)](_0x213d28),'getRemoteConnections':_0x213d28[_0x1ca478(0x142)][_0x1ca478(0x1f5)](_0x213d28)};case _0xf8ccf2[_0x1ca478(0x47f)][_0x1ca478(0x6ab)]:return{'type':_0xf8ccf2[_0x1ca478(0x47f)][_0x1ca478(0x6ab)],'getId':_0x213d28[_0x1ca478(0x970)][_0x1ca478(0x1f5)](_0x213d28),'getRemoteConnections':_0x213d28['getRemoteConnections']['bind'](_0x213d28)};default:throw new _0x322bb6(_0x4b1e43[_0x1ca478(0x934)],'Invalid\x20node\x20type');}});}['on']=(..._0x14cfc2)=>{this['eventEmitter']['on'](..._0x14cfc2);};[_0x4d79c3(0x28b)]=(..._0x59739c)=>this[_0x4d79c3(0xdb)]['emit'](..._0x59739c);['off'](..._0x3fb542){const _0x5ad9b3=_0x4d79c3;this['eventEmitter'][_0x5ad9b3(0x69a)](..._0x3fb542);}}class _0x2b30c7{['id'];[_0x4d79c3(0x2a0)];[_0x4d79c3(0x6f5)];[_0x4d79c3(0x572)]=_0xf8ccf2['NodeType'][_0x4d79c3(0x25a)];[_0x4d79c3(0x7fc)]=new Map();[_0x4d79c3(0x95f)]=_0x1eb396();constructor(_0x56a88c,_0x3f1e1a,_0x2f4cf2){this['id']=_0x56a88c,this['displayName']=_0x3f1e1a,this['email']=_0x2f4cf2;}['getId'](){return this['id'];}[_0x4d79c3(0x9b3)](){const _0x280c01=_0x4d79c3;return this[_0x280c01(0x2a0)];}['getEmail'](){const _0x44a272=_0x4d79c3;return this[_0x44a272(0x6f5)];}[_0x4d79c3(0x87a)](_0x4ef24e){const _0x298760=_0x4d79c3;this[_0x298760(0x2a0)]!==_0x4ef24e&&(this[_0x298760(0x2a0)]=_0x4ef24e,this[_0x298760(0x95f)]['publish'](this));}[_0x4d79c3(0x77a)](_0x1acf87){const _0x1d6b07=_0x4d79c3;this[_0x1d6b07(0x6f5)]!==_0x1acf87&&(this[_0x1d6b07(0x6f5)]=_0x1acf87,this[_0x1d6b07(0x95f)][_0x1d6b07(0x758)](this));}[_0x4d79c3(0x4f6)](_0x215f92,_0x29fb56){const _0x461422=_0x4d79c3;if(this['joinedClusters'][_0x461422(0x85)](_0x215f92))return;const _0x103fbd=this[_0x461422(0x95f)]['subscribe'](_0x29fb56);this[_0x461422(0x7fc)][_0x461422(0xb1)](_0x215f92,_0x103fbd);}[_0x4d79c3(0x7a0)](_0x2d16e8){const _0x495066=_0x4d79c3;if(!this[_0x495066(0x7fc)]['has'](_0x2d16e8))return;const _0x100523=this[_0x495066(0x7fc)][_0x495066(0x2d3)](_0x2d16e8);_0x100523&&_0x100523(),this['joinedClusters'][_0x495066(0x86a)](_0x2d16e8);}}class _0x138894{[_0x4d79c3(0x5eb)];[_0x4d79c3(0x62b)];constructor(_0x572cc0){const _0x2a2091=_0x4d79c3;this[_0x2a2091(0x5eb)]=_0x572cc0;}async[_0x4d79c3(0x35a)](_0xb55cc1){const _0x40fd77=_0x4d79c3,_0x29d948=await(0x0,_0x1165cd[_0x40fd77(0x2c0)])(_0x46a54c[_0x40fd77(0x890)](),_0x40fd77(0x8c2))({'uid':_0x40fd77(0x9fd)+this[_0x40fd77(0x5eb)]+'ccc'+_0xb55cc1['id']}),_0x50d8f0=await(0x0,_0x403b93['signInWithCustomToken'])(_0x46a54c[_0x40fd77(0x42c)](),_0x29d948[_0x40fd77(0x8da)][_0x40fd77(0x20e)]);this[_0x40fd77(0x62b)]=_0x50d8f0['user'];}async[_0x4d79c3(0x276)](){const _0x1ff907=_0x4d79c3;await(0x0,_0x403b93[_0x1ff907(0x276)])(_0x46a54c[_0x1ff907(0x42c)]());}[_0x4d79c3(0x24d)](){const _0x39e394=_0x4d79c3;return this[_0x39e394(0x62b)]?.[_0x39e394(0x24d)]()??Promise[_0x39e394(0x409)](_0x39e394(0x210));}}class _0x5ab23b{static ['instance'];[_0x4d79c3(0xa82)]=[];constructor(){}static['getInstance'](){const _0x48ee73=_0x4d79c3;return _0x5ab23b[_0x48ee73(0x73f)]||(_0x5ab23b[_0x48ee73(0x73f)]=new _0x5ab23b()),_0x5ab23b['instance'];}[_0x4d79c3(0x746)](){const _0xdcd1bf=_0x4d79c3;this[_0xdcd1bf(0x25b)](),this[_0xdcd1bf(0x14a)](),this[_0xdcd1bf(0xd3)](),this[_0xdcd1bf(0x74a)](),this[_0xdcd1bf(0x32e)](),this[_0xdcd1bf(0xa1c)](),this[_0xdcd1bf(0x4fc)](),this[_0xdcd1bf(0x392)](),this[_0xdcd1bf(0x955)](),this[_0xdcd1bf(0x1e8)](),_0x10d8cb[_0xdcd1bf(0x3bc)](_0x44f26b['Support'],'Support:\x20current\x20config',{'featureSupport':this[_0xdcd1bf(0xa82)]});}[_0x4d79c3(0x75a)](_0x5e6ac8){const _0x5715d6=_0x4d79c3,_0x3afa8d=this[_0x5715d6(0xa82)][_0x5715d6(0x483)](_0x28d418=>_0x28d418[_0x5715d6(0x687)]===_0x5e6ac8);return!!_0x3afa8d&&_0x3afa8d[_0x5715d6(0x80f)];}[_0x4d79c3(0x54a)](_0x534564){const _0x310797=_0x4d79c3;_0x10d8cb['logEvent'](_0x310797(0x107),{'nodeId':_0x534564[_0x310797(0x970)](),'nodeType':_0x534564['type'],'data':{'featureSupport':this[_0x310797(0xa82)]}});}[_0x4d79c3(0x25b)](){const _0x921b93=_0x4d79c3,_0x362a61=_0x514643['WebRTC'];let _0x5596d1=!0x1;_0x921b93(0x7a9)==typeof RTCPeerConnection&&_0x921b93(0x7a9)==typeof RTCIceCandidate&&_0x921b93(0x7a9)==typeof RTCSessionDescription?_0x5596d1=!0x0:_0x10d8cb['log'](_0x44f26b[_0x921b93(0x6eb)],_0x921b93(0x89c)+_0x362a61+_0x921b93(0x114)),this[_0x921b93(0xa82)][_0x921b93(0x15b)]({'name':_0x362a61,'supported':_0x5596d1});}[_0x4d79c3(0x14a)](){const _0x2b3ec1=_0x4d79c3,_0x414ff1=_0x514643[_0x2b3ec1(0x7de)];let _0x1c9345=!0x1;_0x2b3ec1(0x7a9)==typeof MediaStream&&_0x2b3ec1(0x7a9)==typeof MediaStreamTrack&&_0x2b3ec1(0x8de)==typeof navigator&&_0x2b3ec1(0x8de)==typeof navigator[_0x2b3ec1(0x9d2)]&&'function'==typeof navigator[_0x2b3ec1(0x9d2)][_0x2b3ec1(0x70b)]?_0x1c9345=!0x0:_0x10d8cb[_0x2b3ec1(0x3bc)](_0x44f26b[_0x2b3ec1(0x6eb)],'Support:\x20'+_0x414ff1+'\x20not\x20supported'),this['featureSupport'][_0x2b3ec1(0x15b)]({'name':_0x414ff1,'supported':_0x1c9345});}[_0x4d79c3(0xd3)](){const _0x349245=_0x4d79c3,_0x7efeb=_0x514643['ScreenSharing'];let _0xad51e=!0x1;_0x349245(0x8de)==typeof navigator&&'object'==typeof navigator[_0x349245(0x9d2)]&&'function'==typeof navigator[_0x349245(0x9d2)][_0x349245(0x850)]?_0xad51e=!0x0:_0x10d8cb[_0x349245(0x3bc)](_0x44f26b[_0x349245(0x6eb)],_0x349245(0x89c)+_0x7efeb+_0x349245(0x114)),this[_0x349245(0xa82)][_0x349245(0x15b)]({'name':_0x7efeb,'supported':_0xad51e});}[_0x4d79c3(0x74a)](){const _0x2a4128=_0x4d79c3,_0x270dbe=_0x514643[_0x2a4128(0xaa)];let _0x3d5367=!0x1;_0x2a4128(0x7a9)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x2a4128(0x7a9)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x10d8cb[_0x2a4128(0x3bc)](_0x44f26b[_0x2a4128(0x6eb)],'Support:\x20'+_0x270dbe+_0x2a4128(0x114)):_0x3d5367=!0x0,this[_0x2a4128(0xa82)][_0x2a4128(0x15b)]({'name':_0x270dbe,'supported':_0x3d5367});}[_0x4d79c3(0x32e)](){const _0x3edf15=_0x4d79c3,_0x5cbe96=_0x514643[_0x3edf15(0x4f5)];let _0x307862=!0x1;_0x3edf15(0x8de)==typeof navigator&&'object'==typeof navigator[_0x3edf15(0x9d2)]&&_0x3edf15(0x7a9)==typeof navigator[_0x3edf15(0x9d2)][_0x3edf15(0x3d1)]&&_0x3edf15(0x7a9)==typeof MediaDeviceInfo?_0x307862=!0x0:_0x10d8cb[_0x3edf15(0x3bc)](_0x44f26b[_0x3edf15(0x6eb)],_0x3edf15(0x89c)+_0x5cbe96+'\x20not\x20supported'),this[_0x3edf15(0xa82)]['push']({'name':_0x5cbe96,'supported':_0x307862});}[_0x4d79c3(0xa1c)](){const _0x49768b=_0x4d79c3,_0x33a4c2=_0x514643[_0x49768b(0x241)];let _0x98c69a=!0x1;'object'==typeof document&&_0x49768b(0x7a9)==typeof document[_0x49768b(0x133)]('video')[_0x49768b(0x31f)]?_0x98c69a=!0x0:_0x10d8cb[_0x49768b(0x3bc)](_0x44f26b[_0x49768b(0x6eb)],_0x49768b(0x89c)+_0x33a4c2+_0x49768b(0x114)),this[_0x49768b(0xa82)][_0x49768b(0x15b)]({'name':_0x33a4c2,'supported':_0x98c69a});}async[_0x4d79c3(0x4fc)](){const _0x510664=_0x4d79c3,_0x87aa6f=_0x514643['Recording'];let _0x285cb0=!0x1;try{const _0xc00201=document[_0x510664(0x133)](_0x510664(0x5c2));if(MediaRecorder&&MediaSource&&_0xc00201['captureStream']){const _0x5e53d3=_0xc00201[_0x510664(0x20f)](),_0x441045=new MediaRecorder(_0x5e53d3);_0x441045[_0x510664(0x86)](),await new Promise(_0x2c22a2=>setTimeout(_0x2c22a2,0x7d0)),_0x441045[_0x510664(0x199)](),_0x285cb0=_0x510664(0x913)===_0x441045['state'];}}catch(_0x49e7da){_0x10d8cb[_0x510664(0x3bc)](_0x44f26b[_0x510664(0x6eb)],_0x510664(0x89c)+_0x87aa6f+_0x510664(0x822),_0x49e7da);}this[_0x510664(0xa82)][_0x510664(0x15b)]({'name':_0x87aa6f,'supported':_0x285cb0}),_0x285cb0||_0x10d8cb['log'](_0x44f26b[_0x510664(0x6eb)],_0x510664(0x89c)+_0x87aa6f+_0x510664(0x114));}[_0x4d79c3(0x392)](){const _0x23e5f3=_0x4d79c3,_0x3dc565=_0x514643[_0x23e5f3(0x2c4)];let _0x567591=!0x1;try{document['createElement'](_0x23e5f3(0x5c2))[_0x23e5f3(0x20f)]&&(_0x567591=!0x0);}catch(_0x454af2){_0x10d8cb[_0x23e5f3(0x3bc)](_0x44f26b['Support'],'Support:\x20'+_0x3dc565+'\x20check\x20failed',_0x454af2);}this['featureSupport']['push']({'name':_0x3dc565,'supported':_0x567591}),_0x567591||_0x10d8cb[_0x23e5f3(0x3bc)](_0x44f26b[_0x23e5f3(0x6eb)],_0x23e5f3(0x89c)+_0x3dc565+_0x23e5f3(0x114));}[_0x4d79c3(0x955)](){const _0x2f6501=_0x4d79c3,_0x62dff8=_0x514643[_0x2f6501(0x37a)];let _0x3cc0b1=!0x1;try{const _0x2a3b8f=document[_0x2f6501(0x133)](_0x2f6501(0x5c2));WebGLRenderingContext&&_0x2a3b8f['getContext']('webgl')&&(_0x3cc0b1=!0x0);}catch(_0x2b6c89){_0x10d8cb[_0x2f6501(0x3bc)](_0x44f26b[_0x2f6501(0x6eb)],'Support:\x20'+_0x62dff8+'\x20check\x20failed',_0x2b6c89);}this[_0x2f6501(0xa82)][_0x2f6501(0x15b)]({'name':_0x62dff8,'supported':_0x3cc0b1}),_0x3cc0b1||_0x10d8cb[_0x2f6501(0x3bc)](_0x44f26b['Support'],_0x2f6501(0x89c)+_0x62dff8+_0x2f6501(0x114));}[_0x4d79c3(0x1e8)](){const _0x26decc=_0x4d79c3,_0x2e6c7c=_0x514643[_0x26decc(0xa36)];let _0x3d49be=!0x1;_0x26decc(0x7a9)==typeof AudioContext?_0x3d49be=!0x0:_0x10d8cb[_0x26decc(0x3bc)](_0x44f26b[_0x26decc(0x6eb)],_0x26decc(0x89c)+_0x2e6c7c+_0x26decc(0x114)),this[_0x26decc(0xa82)][_0x26decc(0x15b)]({'name':_0x2e6c7c,'supported':_0x3d49be});}}const _0x4ccada=_0x5ab23b[_0x4d79c3(0x9bc)]();class _0x1d47e6{static ['instance'];static ['unsubscribe'];static [_0x4d79c3(0x68a)];['authService'];[_0x4d79c3(0x5eb)];[_0x4d79c3(0x4db)];[_0x4d79c3(0x941)];[_0x4d79c3(0x502)]=new Map();[_0x4d79c3(0x2e3)];constructor(_0x460dcd,_0x2171a9,_0x192584){const _0x515bd9=_0x4d79c3;this[_0x515bd9(0x5eb)]=_0x460dcd,this['configs']=_0x2171a9,this[_0x515bd9(0x11f)]=new _0x138894(this[_0x515bd9(0x5eb)]),_0x4ccada[_0x515bd9(0x746)](),this[_0x515bd9(0x4db)]={'audioContext':_0x192584?.[_0x515bd9(0xa32)]??(_0x4ccada['isFeatureSupported'](_0x514643[_0x515bd9(0xa36)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x192584?.[_0x515bd9(0x787)]??0x1,'minConnections':_0x192584?.[_0x515bd9(0x780)]??0x3,'maxConnections':_0x192584?.[_0x515bd9(0x9a2)]??(_0x192584?.[_0x515bd9(0x780)]&&0x4*_0x192584[_0x515bd9(0x780)])??0xc,'maxDistance':_0x192584?.[_0x515bd9(0x9d6)]??0xa,'maxFps':_0x192584?.['maxFps']??0x18,'maxBpp':_0x192584?.[_0x515bd9(0x83a)]??0.12,'objectStoreConnector':_0x192584?.[_0x515bd9(0x15f)]??_0x2ff1c9[_0x515bd9(0x222)],'externalStorageConnectors':_0x192584?.[_0x515bd9(0xba)],'keyValueDatabaseConnector':_0x192584?.[_0x515bd9(0x5fd)]??_0x131be2[_0x515bd9(0x81d)],'peerConnectionConnector':_0x192584?.[_0x515bd9(0x1ff)]??_0x2ea3fa[_0x515bd9(0x2aa)],'generativeAIWorkerConnectors':_0x192584?.['generativeAIWorkerConnectors'],'generativeAISpeechConnectors':_0x192584?.[_0x515bd9(0x9b)],'vectorDatabaseConnector':_0x192584?.[_0x515bd9(0x230)],'graphDatabaseConnector':_0x192584?.['graphDatabaseConnector'],'documentParserConnector':_0x192584?.[_0x515bd9(0x4e5)],'fileConnector':_0x192584?.[_0x515bd9(0x452)],'nlpLibraryConnector':_0x192584?.['nlpLibraryConnector'],'searchConnector':_0x192584?.[_0x515bd9(0x395)],'aiSearchConnector':_0x192584?.[_0x515bd9(0x27c)],'queryFileConnector':_0x192584?.[_0x515bd9(0xa1a)],'ragConnectors':_0x192584?.[_0x515bd9(0x321)]},_0x192584?.['disableIntervalHack']&&this[_0x515bd9(0x4db)][_0x515bd9(0xa32)]&&_0x53a877[_0x515bd9(0x564)](this[_0x515bd9(0x4db)][_0x515bd9(0xa32)]),_0x10d8cb[_0x515bd9(0x25c)](this[_0x515bd9(0x5eb)]),_0x192584?.[_0x515bd9(0x332)]&&_0x10d8cb[_0x515bd9(0x935)](_0x192584[_0x515bd9(0x332)]);}static async[_0x4d79c3(0x9bc)](_0x163176,_0x2a8398,_0x5ec1fe,_0x2fcd76,_0x2b85e1){const _0x2985c6=_0x4d79c3;this[_0x2985c6(0x68a)]=_0x5ec1fe;const _0x38dbae=await this['validateAccess'](_0x163176,_0x2a8398,_0x2b85e1);return _0x1d47e6['instance']||(_0x1d47e6[_0x2985c6(0x73f)]=new _0x1d47e6(_0x163176,_0x38dbae,_0x2fcd76)),{'close':_0x1d47e6[_0x2985c6(0x73f)][_0x2985c6(0x8f0)][_0x2985c6(0x1f5)](_0x1d47e6[_0x2985c6(0x73f)]),'authenticateUser':_0x1d47e6['instance'][_0x2985c6(0x6fd)][_0x2985c6(0x1f5)](_0x1d47e6[_0x2985c6(0x73f)]),'authenticateAgent':_0x1d47e6['instance'][_0x2985c6(0x763)][_0x2985c6(0x1f5)](_0x1d47e6[_0x2985c6(0x73f)]),'validateKey':_0x1d47e6[_0x2985c6(0x73f)][_0x2985c6(0x3a5)]['bind'](_0x1d47e6[_0x2985c6(0x73f)]),'joinCluster':_0x1d47e6[_0x2985c6(0x73f)][_0x2985c6(0x6a3)][_0x2985c6(0x1f5)](_0x1d47e6[_0x2985c6(0x73f)])};}static async['timestamp'](){return _0x46a54c['getEstimatedTimestamp']();}static[_0x4d79c3(0x77b)](){return _0x229087['isProduction'];}async[_0x4d79c3(0x8f0)](_0x304d34){const _0x3eb295=_0x4d79c3;this[_0x3eb295(0x502)]['forEach'](_0x7d15b3=>{const _0x102381=_0x3eb295;_0x7d15b3[_0x102381(0x69a)](),_0x7d15b3[_0x102381(0x297)](_0x304d34);}),this[_0x3eb295(0x502)][_0x3eb295(0x2cb)](),this[_0x3eb295(0x4db)][_0x3eb295(0xa32)]&&_0x53a877[_0x3eb295(0x2bb)](),_0x1d47e6[_0x3eb295(0x5fc)]?.(),_0x1d47e6[_0x3eb295(0x5fc)]=void 0x0,this[_0x3eb295(0x2e3)]=void 0x0,await this['authService']['signOut'](),_0x1d47e6[_0x3eb295(0x73f)]=void 0x0;}static async[_0x4d79c3(0x231)](_0x4aa461,_0x4d5d14,_0xa23b8a){const _0x4bf579=_0x4d79c3;if(!this[_0x4bf579(0x68a)])throw new _0x322bb6(_0x4b1e43[_0x4bf579(0x772)],_0x4bf579(0x499));let _0x260d75;try{_0x260d75=await(0x0,_0x1165cd[_0x4bf579(0x2c0)])(_0x46a54c['getFunctions'](),_0x4bf579(0x294))({'vendorId':_0x4aa461,'accessToken':_0x4d5d14,'secretKey':_0xa23b8a});}catch(_0x4eb85e){throw new _0x322bb6(_0x4b1e43[_0x4bf579(0x435)],_0x4bf579(0x319));}if(!this[_0x4bf579(0x56d)](_0x260d75[_0x4bf579(0x8da)]))throw new _0x322bb6(_0x4b1e43[_0x4bf579(0x435)],_0x4bf579(0x319));const _0x5150b1=_0x260d75[_0x4bf579(0x8da)];return _0x5150b1[_0x4bf579(0x616)]||(_0x5150b1[_0x4bf579(0x616)]=[]),this[_0x4bf579(0x5fc)]||(this[_0x4bf579(0x5fc)]=_0x53a877[_0x4bf579(0xa6c)](async()=>{const _0x6e04ef=_0x4bf579;try{const _0x17777d=await this[_0x6e04ef(0x231)](_0x4aa461,_0x4d5d14,_0xa23b8a);this['mode']===_0xf8ccf2[_0x6e04ef(0x47f)][_0x6e04ef(0x6ab)]&&(_0x17777d['iceServers']=_0x17777d[_0x6e04ef(0x4ec)]['filter'](_0x482b38=>_0x482b38['urls'][_0x6e04ef(0x8d2)](_0x6e04ef(0x36d)))),_0x5150b1[_0x6e04ef(0x4ec)]=_0x17777d[_0x6e04ef(0x4ec)];}catch(_0x353bd8){}},0x1b7740)),_0x5150b1;}async[_0x4d79c3(0x6fd)](_0x50d84c){const _0xddbc07=_0x4d79c3;if(_0x1d47e6[_0xddbc07(0x68a)]!==_0xf8ccf2['NodeType'][_0xddbc07(0x25a)])throw new _0x322bb6(_0x4b1e43[_0xddbc07(0x934)],_0xddbc07(0x7ff));await this[_0xddbc07(0x11f)][_0xddbc07(0x35a)](_0x50d84c);const _0x26bf40=new _0x2b30c7(_0x50d84c['id'],_0x50d84c['displayName'],_0x50d84c[_0xddbc07(0x6f5)]);return this[_0xddbc07(0x2e3)]={'node':_0x26bf40},_0x4ccada[_0xddbc07(0x54a)](_0x26bf40),{'type':_0xf8ccf2[_0xddbc07(0x47f)][_0xddbc07(0x25a)],'getId':_0x26bf40['getId'][_0xddbc07(0x1f5)](_0x26bf40),'getDisplayName':_0x26bf40[_0xddbc07(0x9b3)][_0xddbc07(0x1f5)](_0x26bf40),'getEmail':_0x26bf40[_0xddbc07(0x459)][_0xddbc07(0x1f5)](_0x26bf40),'setDisplayName':_0x26bf40[_0xddbc07(0x87a)][_0xddbc07(0x1f5)](_0x26bf40),'setEmail':_0x26bf40[_0xddbc07(0x77a)][_0xddbc07(0x1f5)](_0x26bf40)};}async[_0x4d79c3(0x763)](_0x57c547){const _0x255bd4=_0x4d79c3;if(_0x1d47e6[_0x255bd4(0x68a)]!==_0xf8ccf2[_0x255bd4(0x47f)][_0x255bd4(0x6ab)])throw new _0x322bb6(_0x4b1e43[_0x255bd4(0x934)],_0x255bd4(0x7ff));const {id:_0x580b77,groupId:_0x4f6b85}=_0x57c547,_0x2fd130=await(0x0,_0x194189[_0x255bd4(0x734)])((0x0,_0x194189['doc'])(_0x46a54c['getFirestore'](),_0x255bd4(0x62d)+this['vendorId']+_0x255bd4(0x98b)+_0x4f6b85));if(!_0x2fd130[_0x255bd4(0x3f7)]())throw new _0x322bb6(_0x4b1e43[_0x255bd4(0x949)],'Agent\x20group\x20not\x20found');const _0x4b0fc7=_0x2fd130['data']();await this[_0x255bd4(0x11f)]['signInWithCredential']({'id':_0x580b77});const _0x57f4ea=new _0xfb520c(_0x580b77,_0x4f6b85,this['vendorId'],_0x4b0fc7);return this[_0x255bd4(0x2e3)]={'node':_0x57f4ea},_0x4ccada[_0x255bd4(0x54a)](_0x57f4ea),this[_0x255bd4(0x367)](_0x57f4ea),{'type':_0xf8ccf2[_0x255bd4(0x47f)][_0x255bd4(0x6ab)],'getId':_0x57f4ea[_0x255bd4(0x970)]['bind'](_0x57f4ea),'onConfigurationChange':_0x57f4ea[_0x255bd4(0xa97)][_0x255bd4(0x1f5)](_0x57f4ea),'setReportCapacity':_0x57f4ea[_0x255bd4(0x642)]['bind'](_0x57f4ea)};}async['validateKey'](_0x5ae4f9,_0x154a36){const _0x15e479=_0x4d79c3,_0x5e92bf=await(0x0,_0x194189[_0x15e479(0x734)])((0x0,_0x194189[_0x15e479(0x31a)])(_0x46a54c['getFirestore'](),_0x15e479(0x56f)+_0x5ae4f9));if(!_0x5e92bf[_0x15e479(0x3f7)]()){const _0x5129b8=atob(_0x5ae4f9)[_0x15e479(0x101)](':'),_0x245922=_0x5129b8[_0x15e479(0x161)](),_0x335ad9=_0x5129b8[_0x15e479(0x9fc)](':');if(!_0x245922||!_0x335ad9)throw new _0x322bb6(_0x4b1e43[_0x15e479(0x435)],_0x15e479(0x663));try{return await(0x0,_0x1165cd[_0x15e479(0x2c0)])(_0x46a54c[_0x15e479(0x890)](),_0x15e479(0x294))({'vendorId':_0x245922,'accessToken':_0x335ad9,'origin':_0x154a36}),_0x245922;}catch(_0x6691a0){throw new _0x322bb6(_0x4b1e43['InvalidAccess'],_0x15e479(0x8f7)+(_0x6691a0 instanceof Error?_0x6691a0[_0x15e479(0x206)]:_0x15e479(0x357)));}}return _0x5e92bf['data']()[_0x15e479(0x5eb)];}async[_0x4d79c3(0x6a3)](_0x160dbc,_0x2e9fe4){const _0x3a6310=_0x4d79c3;if(!this[_0x3a6310(0x2e3)])throw new _0x322bb6(_0x4b1e43[_0x3a6310(0x949)],'Node\x20not\x20authenticated');if(this[_0x3a6310(0x2e3)][_0x3a6310(0x75d)][_0x3a6310(0x572)]!==_0xf8ccf2[_0x3a6310(0x47f)][_0x3a6310(0x25a)])throw new _0x322bb6(_0x4b1e43[_0x3a6310(0x4be)],_0x3a6310(0x33e));if(this['clusters'][_0x3a6310(0x85)](_0x160dbc))throw new _0x322bb6(_0x4b1e43[_0x3a6310(0x41b)],_0x3a6310(0x5cf));const _0x5030dd=new _0x213c62(this[_0x3a6310(0x5eb)],_0x160dbc,this[_0x3a6310(0x2e3)][_0x3a6310(0x75d)],this[_0x3a6310(0x11f)],this['options'],this[_0x3a6310(0x941)]);return!0x0!==_0x2e9fe4&&await _0x5030dd['join'](),this[_0x3a6310(0x909)](_0x160dbc,_0x5030dd),_0x10d8cb[_0x3a6310(0x9f7)](_0x3a6310(0x79b),{'clusterId':_0x160dbc,'nodeId':this[_0x3a6310(0x2e3)][_0x3a6310(0x75d)][_0x3a6310(0x970)](),'nodeType':this[_0x3a6310(0x2e3)]['node'][_0x3a6310(0x572)]}),{'leave':_0x5030dd[_0x3a6310(0x297)][_0x3a6310(0x1f5)](_0x5030dd),'getLocalNode':_0x5030dd['getLocalNode'][_0x3a6310(0x1f5)](_0x5030dd),'openPubSubTopic':_0x5030dd[_0x3a6310(0x7ef)]['bind'](_0x5030dd),'openObjectStoreBucket':_0x5030dd[_0x3a6310(0x493)][_0x3a6310(0x1f5)](_0x5030dd),'openExternalStorageConnection':_0x5030dd[_0x3a6310(0x429)][_0x3a6310(0x1f5)](_0x5030dd),'openKeyValueDatabase':_0x5030dd['openKeyValueDatabase'][_0x3a6310(0x1f5)](_0x5030dd),'openGenerativeAIContext':_0x5030dd['openGenerativeAIContext']['bind'](_0x5030dd),'openGenerativeAIContextStandalone':_0x5030dd[_0x3a6310(0x870)]['bind'](_0x5030dd),'openGenerativeAIWorker':_0x5030dd[_0x3a6310(0x33f)][_0x3a6310(0x1f5)](_0x5030dd),'openGraphDatabase':_0x5030dd['openGraphDatabase'][_0x3a6310(0x1f5)](_0x5030dd),'openVectorDatabase':_0x5030dd[_0x3a6310(0x513)][_0x3a6310(0x1f5)](_0x5030dd),'publishLocalMediaStream':_0x5030dd['publishLocalMediaStream']['bind'](_0x5030dd),'publishLocalDynamicMediaStream':_0x5030dd['publishLocalDynamicMediaStream'][_0x3a6310(0x1f5)](_0x5030dd),'getPubSubTopics':_0x5030dd[_0x3a6310(0x2f8)][_0x3a6310(0x1f5)](_0x5030dd),'getObjectStoreBuckets':_0x5030dd['getObjectStoreBuckets']['bind'](_0x5030dd),'getExternalStorageConnections':_0x5030dd[_0x3a6310(0x3b4)][_0x3a6310(0x1f5)](_0x5030dd),'getKeyValueDatabases':_0x5030dd[_0x3a6310(0x557)][_0x3a6310(0x1f5)](_0x5030dd),'getGenerativeAIContexts':_0x5030dd[_0x3a6310(0x881)][_0x3a6310(0x1f5)](_0x5030dd),'getGenerativeAIContextsStandalone':_0x5030dd['getGenerativeAIContextsStandalone'][_0x3a6310(0x1f5)](_0x5030dd),'getGenerativeAIWorkers':_0x5030dd[_0x3a6310(0x13c)][_0x3a6310(0x1f5)](_0x5030dd),'getGraphDatabases':_0x5030dd[_0x3a6310(0xa77)]['bind'](_0x5030dd),'getVectorDatabases':_0x5030dd[_0x3a6310(0x6f6)][_0x3a6310(0x1f5)](_0x5030dd),'getLocalMediaStreams':_0x5030dd[_0x3a6310(0x4de)][_0x3a6310(0x1f5)](_0x5030dd),'getRemoteMediaStreams':_0x5030dd[_0x3a6310(0x6bc)]['bind'](_0x5030dd),'getRemoteNodes':_0x5030dd[_0x3a6310(0x58d)]['bind'](_0x5030dd),'on':_0x5030dd['on'][_0x3a6310(0x1f5)](_0x5030dd),'off':_0x5030dd['off'][_0x3a6310(0x1f5)](_0x5030dd)};}async[_0x4d79c3(0x367)](_0x28c45c){const _0x2967c2=_0x4d79c3,_0x5408ed=new _0x213c62(this['vendorId'],_0x2967c2(0x828),_0x28c45c,this[_0x2967c2(0x11f)],this['options'],this[_0x2967c2(0x941)]);await _0x5408ed[_0x2967c2(0x9fc)](),this[_0x2967c2(0x909)](_0x2967c2(0x828),_0x5408ed),_0x10d8cb['forceLog']('Joined\x20cluster',_0x2967c2(0x828)),await _0x5408ed['openGenerativeAIWorker'](_0x2967c2(0x828)),_0x10d8cb[_0x2967c2(0x184)](_0x2967c2(0x179),_0x2967c2(0x828));}[_0x4d79c3(0x909)](_0x1fdbbe,_0x15eeef){const _0x9ece98=_0x4d79c3;this[_0x9ece98(0x502)]['set'](_0x1fdbbe,_0x15eeef),_0x15eeef['on'](_0x9ece98(0x194),()=>{const _0x3f2980=_0x9ece98;_0x15eeef[_0x3f2980(0x69a)](),this['clusters'][_0x3f2980(0x86a)](_0x1fdbbe);});}static[_0x4d79c3(0x56d)](_0x6baa9a){const _0x4dae2c=_0x4d79c3;return void 0x0!==_0x6baa9a[_0x4dae2c(0x4ec)];}}return _0x219845;})())));function a0_0xeeb2(){const _0x4f8d7b=['shouldProcessTransaction','arguments','jobId','assign','Invalid\x20table\x20name\x20\x27','AppSync\x20publish','\x0a\x20===\x20Wait\x20Time:\x20','No\x20parameters\x20provided','ObjectStore\x20not\x20found','WorkflowDoesNotExist','handleContentSystemEvents','crewdle-sdk.appspot.com','jobs','JobDispatcherDoesNotExist','Cannot\x20write\x20transaction.','Workflow\x20output\x20is\x20not\x20a\x20string','close','moveObject','.ini','addBidResponse','clearOncloseTimeout','onGatheringStateChange','GenerativeAIContextJobFailed','Invalid\x20key:\x20','topics','skipEncryption','createLocalDynamicMediaStream','SystemStats','whisper-1','registerSystemSource','PromptSource','onHandshakeStateChange','handleIceCandidates','ranges','Subscription\x20request\x20failed.','not-in','KeyValueDatabaseRequestTransactionsValue','generative-ai-worker-model-sync-error','loop','registerDestination','publishFile','addCluster','Image','discoveryUnsubscriber','getPriority','propn','commitType','outgoingTopic','handleUnpublishMediaStream','initializeSystemTopic','remote-stream-does-not-exist','inactive','getWorkflowObjectStorageBuckets',';base64,','generative-ai-context-creation-failed','operations','orchestrator','body','ObjectStore','url','pub-sub-topic-already-exists','KeyValueDatabaseTransactionTableNotInitialized','groupId','Reranker','write','subscription','handleRequestPayload','getEnabledChannels','2-digit','vector-database','JobDispatcherAlreadyExists','disconnect','packetsLost','digest','gpt-4.1-mini','object-store-not-in-sync','Receiver\x20connection\x20is\x20not\x20initialized.','topK','KeyValueDatabaseStats','ExternalStorageInvalidPath','.hbs','thread-','clusterEventEmitter','handleCloseContent','NodeInvalidType','setLoggingConnectors','claude-3-opus-latest','docs','handleContentUnpublishMediaStream','\x20-\x20Sending\x20propagation\x20(','Hash\x20computation\x20failed,\x20retrying...','count','contextOutputVariable','callback','setParams','snippet','Receiver','configs','crewdle-sdk.firebaseapp.com','previousTimestamp','\x20received\x20result:','warn','sampleRate','success','\x20already\x20exists.','NodeNotAuthenticated','syncContent','data:','buildQuery','connector','responseTimeout','processJobStream','processInboundReport','objectStores','subscriptionManager','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','sdk-internal-error:\x20','checkWebGL','app','async','.json','.liquid','getDatabase','maxThreshold','test-page','subtle','updateDebounceTimeout','observer','isSyncing','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','trackKinds','targetId','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','Error\x20executing\x20code','/workflows/','batchSize','take','read','October\x202023','createMediaStreamSource','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','__esModule','manageOptimization','/developers/','getId','\x0a\x20===\x20Synchronization\x20Time:\x20','lastCapacityReport','waitSendBuffer','crewdle-sdk-stg.appspot.com','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','.exs','KeyValueDatabaseTableNotFound','Problem','currentVersion','getName','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','mute','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','fileSendingMap','AI\x20Search\x20connector\x20not\x20set','Accepted','fallbackModel','Add','unsubscribeListener','handleSubscriptionProvideMediaStream','processDataChannelReport','send','Logging\x20trace','Failed\x20to\x20send\x20job\x20','/resources/generative-ai-workflow/items','/resources/agent/items/','createGenerativeAIContextStandalone','endpointMethod','client','frameWidth','Warning','Cannot\x20unpublish\x20object:\x20','RequestFile','tool-call','Object\x20store\x20connector\x20is\x20not\x20available','\x20failed.','ConnectionState','handleSubscriptionRestartNeedMediaStream','handleContentSubscribeMediaStream','\x27\x20payload:','hashTransaction','sendBid','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','detectionManager','Generative\x20AI\x20context\x20job\x20already\x20consumed.','Invalid\x20job\x20type','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','object-store-invalid-sync-message','maxConnections','createBatch','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','router','/traces','transformations','setProviderId','attributes','getReader','json','contentRect','closeTrace','handleFileRequest','getBitrate','receiver','connectionGroup','\x0a\x0adata:\x20','getDisplayName','Vector\x20database\x20creation\x20failed.','developers','getAgents','updated','isValidMediaSubscriptionParams','Missing\x20AI\x20search\x20API\x20key','updateLastUpdated','closeConnection','getInstance','incomingManager','Text\x20is\x20required','SubscriptionRequestInProgress','OutgoingMediaStreamNoTopic','subscription-request-failed','local-media-stream-track-fail','o3-mini','getToolName','sendWithRetry','streams','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','graphDatabaseConnector','processPendingSyncTransactions','sendRequest','startTracing','publishMove','loadFromDisk','processRank','generative-ai-context-does-not-exist','1076152KELktH','hashPeakHashes','mediaDevices','all-minilm-l12-v2','label','FormSkillGetQuestion','maxDistance','connectionPool','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','isOffer','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','onBufferedAmountLow','clearSyncTimeout','PubSubTopicStats','isEqual','SentenceSplitter','gpt-4.1','Summary\x20Generator','sendTransactionsValue','.j2','encode','receiverUnsubscribers','evaluateBids','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','createPubSubTopic','SenderPeerConnection\x20send','senders','Request','handleNodeJoin','readyPromises','Error\x20closing\x20writable\x20stream','text/event-stream','Partial','getWorkflows','queries','addEventListener','RemoteAdd','Invalid\x20layout:\x20','isNodeReady','logEvent','fileChunks','active','unsubscribeTrackEndedListener','canProvideResolution','join','ccc','tail','temperature','URL\x20is\x20required','retryDelay','head','createSubscription','SenderPeerConnection.send','logServiceEvent','Invalid\x20object\x20store\x20state.','March\x202025','fetch-url','object-store-not-synced','maps','JobType','handlePeerConnectionSystemEvents','ConnectionInvalidDataEvent','senderCurrentTimestamp','Error\x20searching','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','WebRTC','transactionHashMap','Bid','ragConnector','createRemoteMediaStream','tts-1-hd','Submit\x20the\x20form.','ObjectStoreCannotWriteTransaction','systemMessagesReceived','queryFileConnector','Issue\x20detected:\x20','checkAudioOutput','clearWaitSuccess','request-file-sync','Failed','handleNodeLeave','\x20received\x20partial\x20result:','Rejected','PubSub\x20already\x20exists','file-list','Generative\x20AI\x20context\x20job\x20timeout.','debounceReady','\x27:\x20missing\x20or\x20invalid\x20keyPath','media-stream','getIsLoaded','handleError','CloseObjectStoreBucket','updateDebounce','Debug','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','enabledChannels','remoteMediaStreams','text/','audioContext','getSupportedContentTypes','Subscription','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','AudioContext','connections','left','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','packetsSent','internalContext','workflow-tool','receiverConnection','ObjectKind','getDistance','CloseGenerativeAIContext','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','element','CannotProvideMediaStream','failed','getTrackFromParam','tool','@root','GenerativeAIWorker:\x20Opening','remove','supports','publishNodeLeave','toLocaleDateString','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','requestSubscription','debounceRebuildMMR','\x20to\x20generate\x20a\x20response.','closeSubscription','endpoint','/resources/generative-ai-agent/items','Invalid\x20publisher.','setStatus','DEBUG\x20-\x20','Attempt\x20','DataChannel\x20buffer\x20is\x20full.','GenerativeAIContext','getBufferedAmount','mediaUnsubscribers','createJobDispatcher','pow','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Remediation',',\x20Transactions:\x20','Waiting','VectorDatabase','.ex','childRemovedUnsubscriber','previousBytes','ExternalStorageNameNotString','sendPeakTransactions','durationTime','getRemoteId','orchestrator-close','GraphDatabaseDoesNotExist','setInterval','/stats','handleObjectDelete','Signaling','isConnected','Document\x20Agent','Mistlet\x20capacity\x20report\x20not\x20set.','senderBitrate','transactionsToSync','getInternalTrackParams','request-file','getGraphDatabases','KeyValueDatabaseSyncRequired','text/plain','getEngineType','dataTopics','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','VectorDatabaseMissingConnector','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','Answer','priority','parseDataCollectionBlocks','featureSupport','CPUCycle','form-skill','standalone','request','ConnectionNotinitialized','entity-extractor','outgoing-stream-no-topic','publishLocalMediaStream','CrewdleReceiverConnection\x20ontrack','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','embedding','Jitter','assistant','.html','keyPath','connection-buffer-not-empty','vector-database-name-not-string','GetContextResult','Error\x20fetching\x20URL','Amplify','onConfigurationChange','getLabel','generic-agent','entries','fps','delta','retryLimit','Key-value\x20database\x20peak\x20not\x20found.','.pl','handleSubscriptionSubscribeMediaStream','filesSynced','sender-send-message','Error\x20closing\x20trace','notifyCluster','-leave','width','addPendingHandshakeCandidate','scheduleTime','changesUnsubscriber','getQuestion','Internal\x20SDK\x20error:\x20','KeyValueDatabase','1:519415702791:web:5dd39042f881cfde3251a2','form-skill-set-answer','Parameter\x20','createOffer','accumulated','getAncestorIds','evaluatePartialJob','operator','external-storage-upload','streamId','JobStatus','pubSubTopics','ingestBlocks','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','DataCollectionDoesNotExist','cluster-disconnect','Connection','notifyObjectStoreOfNodeLeave','image-parser','agent-update','handleSystemEvents','\x20with\x20response:','transactionQueue','signaling','getDataCollections','GenerativeAIContextStats','rate','getLocalId','clientStream','vectorDatabases','splitParts','addVideoTrack','[DONE]','has','start','Connected','Missing\x20vector\x20database\x20connector','gpu','handleMissingSenders','propagate','setOnDisconnectHandler','AiSearch','receiverCurrentBytes','instructions','collectionId','getInternalStreamId','claude-sonnet-4-0','failJob','handleDetectionSystemEvents','Key-value\x20database\x20transaction\x20value\x20not\x20set.','deletePendingFile','Pending','storageType','RoundTripTime','feedback','generativeAISpeechConnectors','Missing\x20OpenAI\x20API\x20key','isWhereValue','.twig','.hs','agentConfig','openJobDispatcher','SenderSendMessage','sonar','Query\x20must\x20refer\x20to\x20the\x20file\x20table','Missing\x20AI\x20worker\x20connector','floor','GenerativeAIContextDoesNotExist','autoplay','startTime','AudioVolume','onNodeDisconnect','Job\x20service\x20job\x20not\x20found.','createWritableStream','Processing\x20agent\x20block:\x20','transactionsToAppend','removeJobDispatcher','set','file-delete','RemoteMediaStreamAlreadyExists','.djt','.swift','if-else-router','\x20must\x20be\x20a\x20boolean','IntermediateOutput','nodes','externalStorageConnectors','knowledgeCutoffDate','Info','Invalid\x20params','object-store-cannot-write-transaction','audioSource','completeSync','setIsLoaded','JobDispatcherObserverNotFound','pool','\x20Processing\x20audio\x20block','syncResolve','connectorConstructor','Database\x20already\x20exists','Human','word-splitter','getSTVolatility','handleDisconnect','includes','GenerativeAIEngineType','Invalid\x20JSON:','sendIceCandidates','ObjectStorageBucket','Consuming\x20buffered\x20event','clearRestartTimeout','checkScreenSharing','ApiKeyMissing','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','SearchGoogle','Model\x20not\x20found\x20','mediator','\x20with\x20','remoteConnections','eventEmitter','localMediaStreams','setupStatsReporting','processOutboundReport','RAG\x20connector\x20is\x20not\x20available','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','/resources/generative-ai-collection/items/','addRemoteNode','getRemoteMediaStream','\x20must\x20be\x20a\x20number','sendFile','closed','subscription-request-in-progress','getRank','subscriptionRequests','debounceRebuildMMRWithTransaction','bytesSent','setOnMessageHandler','getDate','setAnswer','getMilliseconds','OpenAI','getTracks','Job\x20','writeFile','canAddCandidates','issues','contentRequestSent','handshakeCandidates','Error\x20during\x20MMR\x20rebuild\x20logging:','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','generativeAIWorkerConnectors','removeRemoteConnection','syncedFileExists','knowledge','GraphDatabaseAlreadyExists','handleOnMessage','subscriptions','split','Low','min','all','hasTracks','Stats','support','readyResolve','input-stream','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','setPriority','CloseKeyValueDatabase','getTransactions','Key-value\x20database\x20table\x20does\x20not\x20exist.','remainingTracks','JobDispatcher:\x20Received\x20job','.pptx','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','graph-database','\x20not\x20supported','createGraphDatabase','file','executeJavascriptCodeSnippet','Job','list','processInboundReports','engineType','getReport','usage','Memory\x20Usage\x20at\x20','authService','TextGeneration','retryQueue','detail','Generative\x20AI\x20Context\x20does\x20not\x20exist','ClosePubSubTopic','KeyValueDatabaseAlreadyExists','processContentAvailable\x20-\x20Peak\x20comparison:','dbKey','SubscriptionRequestNoAnswer','processReceiverReport','Error\x20fetching\x20context','deleteCollection','buildInitialMMR','query-generator','messageType','orderByKey','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','key-value-database-table-not-found','PublishMediaStream','createElement','isReconnecting','consumeBufferedEvents','problemType','processServiceReport','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','timestamp','Relation','Database\x20Opened','getGenerativeAIWorkers','/nodes/','addNode','Transaction','NodeUpdate','end','getRemoteConnections','VectorSearch','handleUpdateMediaStream','JobStream','traceLevel','inputTokenPrice','setScheduleTime','objectToArrayBuffer','checkMediaStream','.ps1','Invalid\x20job\x20worker\x20type.','providerListener','GraphDatabaseNameNotString','dataUnsubscribers','reasoning','pop','openKeyValueDatabase','data-collection-does-not-exist','createJob','queueLength','handleRemediationSystemEvents','getPubSubTopic','msalRefreshToken','senderPreviousBytes','NodeConnectionsUpdate','push','Wait','\x0a</','number','objectStoreConnector','AISearch','shift','firestore','debounceAppendLog','Error\x20processing\x20workflow\x20block','appsync-connect','setUpgradeTimeout','ai-search','Early\x20return:\x20','topicLabel','index','frames','getVectorDatabase','send\x20error\x20on\x20','relation-extractor','agent-join','.bat','aiSearchApiKey','internal','checksum','Received\x20content\x20available\x20from\x20node','bodyParameters','KeyValueDatabaseSendTransactions','removeRemoteMediaStream','o4-mini','Opened\x20generative\x20AI\x20worker','Workflow\x20does\x20not\x20exist.','CanProvideMediaStream','indexes','GenerativeAIWorker:\x20FileDelete\x20failed','handleSuccess','::￿','logWaitTime','handleNoAnswer','not-resolved','setLocalRank','forceLog','RemoteConnectionExists','time','Cluster','key-value-database-transaction-value-not-set','shouldEmit','\x20already\x20exists','file-ingest','realtime-session-create','DatabaseEvent','round','Model','onSnapshot','JobDispatcherCreationFailed','currentTimestamp','isJobRequest','cluster-leave','Audio','file-write','21a9d78dee97f487b','contentType','stop','removePubSubTopic','sourceId','FormSkillSubmitForm','JobWorker:\x20Error\x20processing\x20job','isAvailable','discoveryService','incrementVersion','Crewdle','updateLastTransactionId','logRaw','Object\x20store\x20is\x20not\x20in\x20sync','.rkt','\x20Process\x20inference\x20final\x20response','getFullYear','pathName','AITrace','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','ObjectStoreInvalidPayload','hasOwnProperty','statsReporting','getShareableStream','getObjectStoreBucket','publishNodeJoin','SHA-256','.cs','handleNodeJoinNeedPublishedStream','No\x20connections\x20available\x20to\x20send\x20message','audioDestination','POST','score','removeTrackListeners','aws','files','asc','remoteId','PubSub','tableName','addIssue','internalProcessJob','setTimeout','candidate','getBuffer','NodeAlreadyExist','addTrack','RequestAccepted','output-stream','handleContentRemoteMediaStreamTrackFail','Internal\x20unknown\x20error:\x20','sonar-reasoning','generative-ai-worker-missing-connector','resolveReady','searchOnGoogle','.vbs','headers','sentence-splitter','.scala','file.type','totalNodes','createKeyValueDatabase','srcObject','setDoc','claude-3-haiku-20240307','executeQuery','Internal\x20SDK\x20Error:\x20','Coordinator\x20Agent','key','\x20does\x20not\x20support\x20content\x20type\x20','publishSystemMessage','Publish\x20the\x20transaction','getQuery','\x20Stream\x20final\x20response','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','getNextTargetRank','setBytes','Operations:','key-value-database-name-not-string','unregisterRemoteNode','submitForm','checkAudioContext','graph-database-does-not-exist','NodeDoesNotExist','mmr','No\x20connector\x20found\x20for\x20model','origin','No\x20RAG\x20connector\x20available','dataBucketIds','isWhereBetween','GraphDatabaseMissingConnector','getPartsForSubscriptionLabel','Connection\x20does\x20not\x20exist','remoteNodes','bind','publishSyncCompleted','contentManager','Invalid\x20subscription.','then','job-dispatcher-job-not-found','AI\x20worker\x20creation\x20failed.','FetchUrl','write-file','createRemoteNode','peerConnectionConnector','/objectstores/','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','RemoteMediaStreamTrackFail','remote-media-stream-invalid-subscription-params','isIceCandidate','answers','message','peer-connection','MediaStreamPriority','writes','jobQueue','rootComputationPromise','Job\x20with\x20id\x20','getConfigs','token','captureStream','User\x20not\x20signed\x20in','packetsReceived','JobWorker:\x20Handling\x20job\x20attribution','getContent','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','deleteFile','StorageEventType','setRank','subscriptionRequestTimeouts','createPendingFileWrite','crewdleSDKDisableLogging','amd','CrewdleConnection\x20handlePeerConnectionSystemEvents','decode','getSubscriptionLabel','handshakeState','tables','findIndex','OPFSObjectStoreConnector','removeLocalMediaStream','internalProcessJobStream','getFirestore','ConnectionGroup','ExternalStorageStats','JobDispatcherJobExists','vector-database-does-not-exist','findNextNodeId','Context','component','catch','processList','object-store-stream-does-not-exist','vectorDatabaseConnector','validateAccess','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','reportMetric','toFixed','clusterKey','logUsage','Error\x20encountered\x20while\x20opening\x20database','ObjectStorageUpload','phi-4-14b','error','Missing\x20remote\x20node\x20or\x20rank','\x20ms\x0a','createMediaStreamDestination','collectReceiversStats','buffer','Tool','AudioOutput','createSenderConnection','OutputStream','destinationIds','abs','collectSendersStats','.info/connected','getJob','optimizationLayers','Method\x20not\x20supported','messageBuffer','tracks','getIdToken','manageBufferedChunks','Job\x20service\x20creation\x20failed.','Remote\x20connection\x20already\x20exists.','searchInDataCollection','limit','getNumberOutgoingSubscriptions','minThreshold','answerContentAvailable','job-dispatcher-invalid-payload','text-embedding-3-large','loadEnabledChannels','ExecuteAgent','User','checkWebRTC','setVendorId','processTransactionPayload','compareTransactions','registerSubscriber','application/pdf','keys','key-value-database-table-does-not-exist','OutgoingSubscription','getDataLogged','bufferEvent','Invalid\x20where\x20clause','getSentences','InvalidDataChannel','WebScraperRaw','connectionTimeout','FileMove','currentBatch','channel','messages','.xls','createReceiverConnection','startHeartbeat','deleteFileChunks','custom-skill','contentSize','Offline','signOut','ref','disconnectCallback','agent-skill','providerId','Remote\x20MediaStream\x20already\x20exists','aiSearchConnector','GenerativeAITaskType','logSyncMetrics','loggingCycle','frameTime','key-value-database','job-dispatcher-job-exists','bandwidth.jitter','vectors','ExecuteCustomSkill','vector-database-creation-failed','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','Restart\x20NeedMediaStream','handleNeedRestart','publishTransaction','emit','Prompt','JobWorker:\x20Received\x20job','external-storage-invalid-path','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','ner','Syncing','\x20must\x20be\x20a\x20string','processTransactionsToComputeMMR','sdkValidateAccess','packets','connection','leave','.tcl','generative-ai-context-already-exists','application/octet-stream','SubscribeMediaStream','warning','copywriter-agent','cost','Search','displayName','subscribe','statsManager','pendingFilesSyncing','processContentAvailable','removeKeyValueDatabase','now','DTVolatility','ObjectStoreNameNotString','Completed','WebRTCBrowserPeerConnectionConnector','KeyValueDatabaseNotOpen','Invalid\x20key\x20\x27','queryParameters','string','chunksReceived','getCurrentVersion','Generative\x20AI\x20context\x20job\x20failed.','publishUserUpdate','FramePerSecond','.vb','getApp','deleteTransactionsForTable','registerRemoteNode','FormGetQuestion','resolutionScale','resetConnection','stopNoThrottlingHack','FolderCreate','tts-1','GenerativeAIContextJobMissingThreadId','PeerConnection','httpsCallable','waitAnswer','.ipynb','shared','Backgrounds','getContentType','KeyValueDatabaseTableNameReserved','.dart','Restart','bitrate','Content','clear','GraphDatabaseStats','chooseAnswer','job-dispatcher-observer-not-found','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','cpu.fps','Dedicated','additionnalInstructions','get','Cannot\x20get\x20file:\x20','addRemoteConnection','trackChanges','KeyValueDatabaseTableDoesNotExist','call','RetrieveTrace','Error\x20parsing\x20JSON:','getToolDescription','region','reranker','crewdle-sdk-stg.firebaseapp.com','Received\x20track','form-skill-get-question','GenerativeAIInferenceToolType','cancel','authContext','MediaStreamUnavailable','\x20Stream\x20usage','createVectorDatabase','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','Optimization','getReceiverTotalBytes','clientHeight','PubSubTopicAlreadyExists','processSenderReport','createBatchOperation','debug','code','DocumentParser','removeTopic','VectorDatabaseAlreadyExists','audio','@context.','ExternalStorageConnectionAlreadySubscribed','_ready','\x20does\x20not\x20exists','getPubSubTopics','InvalidPublisher','Chosen\x20answer','claude-3-7-sonnet-latest','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','0\x20B','Missing\x20owner\x20node\x20or\x20rank','DataStream','syncTransactions','Invalid\x20value.\x20Must\x20be\x20an\x20object.','reads','1162330FOzOes','processLocalReport','searchApiKey','add','getConnection','job-worker-already-exists','vector-database-already-exists','onDisconnect','where','Channel\x20\x27','1185138vohffS','UnpublishMediaStream','right','fetchUrl','append','bytesReceived','removeExternalStorageConnection','estimatedPlayoutTimestamp','getMinConnections','wait','WebScraper','subject','Invalid\x20credentials','doc','Entity','input_tokens','reset','Model\x20ID\x20is\x20required','setSinkId','openAIKey','ragConnectors','listen','getResolutionScale','handleOptimizationConnectionSuccess','LoadKnowledgeFunction','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','getSize','api','addCandidate','setEncodingParameters','getPartsFromSubscription','Prompt\x20is\x20required','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','checkDeviceConfig','DataChannel\x20is\x20not\x20open.','Data\x20collection\x20does\x20not\x20exist.','minRelevance','loggingConnectors','outputType','isLoaded','threadId','ended','complete','resolution','PromptRating','createConstantSource','getPacketsLostPerc','onloadeddata','setupRenderElement','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','openGenerativeAIWorker','1:420235181083:web:4eff6062bd845cb0748cbe','text/csv','timeReceiving','ingestFile','CloseMediaStream','QueryFile','GraphSearch','shouldContinuePropagation','commit','currentDistance','StreamReport','action','questions','outgoingStreams','.clj','appsync-statechange','getJobs','getOwnerId','handleJobAttribution','gpt-4o-mini-transcribe','GenerativeAILabelConflict','TimePerFrame','page','Unknown\x20error','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','Folder','signInWithCredential','Detection','dispatchEvent','JobQueueService:\x20Job\x20completed','claude-3-5-sonnet-latest','toStringTag','load','coordinator-agent','handshakeDebounce','handleContentUpdateMediaStream','substring','isReady','clientWidth','connectAgent','arrayBuffer','Cannot\x20find\x20External\x20Storage\x20connection:\x20','Downgrade','Stream\x20does\x20not\x20exist','appsync-no-destination','stun:','ExternalStorageConnectionAlreadyExists','get-content','completed','messageCallback','chunk-splitter','unregisterSystemPublisher','.Total\x20pages\x20available:\x20','graphql','retry','ReceiverPeerConnection.onMessage','Success','node-not-authenticated','WebGL','https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf','updatePropagationProperties','removeConnection','lastClockUpdate','createBufferSource','Conditional\x20Router','.cfg','Job\x20Worker\x20does\x20not\x20exist','nodesConnected','map','ChunkSplitter','Shared','firebaseConfig','replace','embed','history','TestPage','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','next','removeSubscriptionsForNode','event','gain','voice','checkBackgrounds','outputTokenPrice','unregisterPublisherListener','searchConnector','\x0a\x20===\x20Total\x20Nodes:','subscribedTracks','generative-ai-worker-already-exists','debounceProcessRank','startLoggingCycle','CrewdleSenderConnection\x20createOffer','listenUnsubscriber','output','Execute\x20the\x20agent\x20','fetchContentFromUrl','parseWorkflowDocument','.crewdle-layout','subscriptionRequestsQueue','relation','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','validateKey','.pdf','getCurrentMaxLayer','firebase-connect','Search\x20connector\x20not\x20set','if_else','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','clockSkew','receiverStreams','messageListeners','hash','object-store-invalid-path','handleOffer','offset','user-update','getExternalStorageConnections','RelationExtractor','ExternalStorageConnectorsMissing','\x20answer','ObjectStoreInvalidState','getTransactionByHash','PubSubTopic\x20not\x20found','Error\x20processing\x20retrieve','log','No\x20global\x20object\x20found','requestSubscriptionAction','\x20must\x20be\x20a\x20valid\x20JSON\x20string','graphService','setTransformations','peer-connection-invalid-destination','.xlsx','IngestTrace','KeyValueDatabaseContentAvailable','invalid-subscription','values','Table\x20not\x20found','FileStatus','3343215AAaiVu','incomingTopic','batchTimeout','\x0a\x20===\x20Total\x20Data\x20Received:\x20','document-parser','statsCollection','LocalMediaStreamDoesNotExist','enumerateDevices','ObjectStoreAlreadySubscribed','cpu.av_delay','jobObservers','File','muted','JobWorker:\x20Tracing\x20not\x20implemented','localNode','onConnectionStateChange','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','run','createGain','PubSubTopicDoesNotExist','ancestors','ExternalStorageConnectionDoesNotExist','getSubscribedTracks','SearchPerplexity','gpt-4.1-nano','dataStores','481084cgdNVY','events','NodeManager\x20-\x20PublishNodeLeave','clearConnectionTimeout','OfficeParser','splice','getSettings','key-value-database-transaction-table-not-initialized','detectAudioIssues','receiverTimeProcessing','PeerConnectionInvalidDestination','form-skill-submit-form','threshold','disconnected','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','handleConnectionSuccess','peakHeights','height','handleHandshake','exists','syncPendingFiles','STVolatility','oidc','systemTopic','ContentType','sender','invalid-data-chanel','nlpLibraryConnector','sonar-pro','timeoutValue','KeyValueDatabaseCreationFailed','listChanges','Missing\x20answerer\x20id\x20on\x20request\x20answer','source','queryCollection','destination','joinedAt','reject','\x20Ai\x20search\x20final\x20response','long','ModelText','connected','maxResolution','Hub','upgrade','KeyValueDatabaseContentSynchronized','contextInputVariable','Trend\x20Spotter','SystemTopic\x20publish','invalid-access','logConnectionState','interval','RemoteMediaStreamMissingProviderId','Insufficient\x20credits','Early\x20return','ClusterAlreadyJoined','RemoteMediaStreamInvalidSubscriptionParams','Skill','onRemoveTrack','FolderMove','VectorDatabaseStats','logger','ObjectStorage','choices','Offer','detectVideoIssues','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','Data\x20cluster\x20is\x20not\x20open.','/logs','openExternalStorageConnection','addDoc','lastUpdated','getAuth','removeObjectStore','move','storage','receiverCurrentTimestamp','tableUnsubscriber','Invalid\x20index\x20in\x20table\x20\x27','value','\x20not\x20found.','InvalidAccess','outgoingManager','ExecuteWorkflow','subscription-request-no-answer','handleNodeDisconnect','publishFolder','PartialResult','accessToken','GenerativeAIModelInputType','internal-sdk-error','subscription-request-does-not-exist','/capacities','recomputeRoot','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','NeedMediaStream','replaceTrack','.jinja2','exports','onUnregisterPublisher','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','KeyValueDatabaseRequestPeakTransactions','handleNodeSystemEvents','updateJob','unpublish','lastRemediations','mediaStream','Delete','connectionState','senderStreams','fileConnector','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','onMessage','prompt_tokens','collection','Disconnect','true','getEmail','publishSyncCompletedAfterWrites','9AtLSSN','createBuffer','Executing\x20custom\x20skill:\x20','getLocalMediaStream','checkSyncComplete','workflow','answererId','Outgoing','local-stream-does-not-exist','getExternalStorageConnection','getGenerativeAIContextsStandalone','trackCallback','.\x20Confirmation?\x20','\x0aAdditional\x20data:\x20','accumulateResult','Subject','setInternalId','Connection\x20already\x20exists','isSubscribed','getContext','from','completion_tokens','description','outputTokens','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','condition_result','JobWorker:\x20Sending\x20job\x20bid','stopConnection','UpdateMediaStream','Invalid\x20content\x20type','direction','KeyValueDatabaseInvalidQuery','onValue','retryQueues','generative-ai-label-conflict','Llamacpp','NodeType','openGraphDatabase','node-type-required','removeItem','find','isComputingMMR','Error\x20resolving\x20readyPromises:','successNotified','handleObjectMove','notifyJoin',':\x20Object\x20store\x20is\x20not\x20in\x20sync','Attribution','Base\x20Peer\x20Connection','compileStats','isMediaDestination','workflowId','syncTimeout','maxLayer','object-storage-upload','\x20to\x20send\x20dispatcherJob\x20','openObjectStoreBucket','listener','Write\x20text\x20data\x20to\x20a\x20file.','FolderDelete','question-','appsync-connect-fail','Node\x20type\x20is\x20required','detection','JobDispatcherJobNotFound','canChooseAnswer','InputStream','removeTrackCallback','GenerativeAIContextInvalidPartialResult','rebuildMMR','getTable','job-dispatcher-does-not-exist','More\x20content\x20available\x20on\x20page\x20','NodeLeave','required','Key-Value\x20Database\x20-\x20Sync\x20Completed','gatheringState','ExternalStorageUpload','gpt-4o-mini-realtime-preview','handleLocalTrackFailure','job-dispatcher-invalid-job-type','jobDispatchers','models','answerJoin','data:\x20[DONE]\x0a\x0a','statsReport','availableTrackKinds','external-storage-connection-does-not-exist','Anthropic','1.0.47.0','CloseGraphDatabase','evaluateBidsAndAttributeJob','bufferedChunks','unregisterSubscriber','timesCalled','connection-no-retry-queue','vector','blockId','chunk','NodeTypeNotSupported','length','collectStats','onDataChannel','New\x20MMR\x20Root:\x20','getGraphDatabase','registerPublisher','onNodeUpdate','eleven_flash_v2_5','LocalMediaStreamNoAudioContext','April\x202024','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','>\x0a\x0a','listenerUnsubscribers','SHA-1','getChannelData','Pool','createGenerativeAIContext','retryCallback','av_delay','node-invalid-type','eventListener','request-file-write','calculateSize','statusText','KeyValueDatabaseDoesNotExist','firstValueFrom','every','time_per_frame','options','debugEnabled','pendingHandshakeCandidates','getLocalMediaStreams','document-agent','applyRemediation','removeRemoteNode','detectProblems','.kt','Connection\x20does\x20not\x20exist.','documentParserConnector','instantiateTransactionTable','query-file','Embed','Disconnected','transactions','WordSplitter','iceServers','transactionIds','increment','handleRemoteTrackFailure','createIncomingSubscription','handleAnswer','GenerativeAIContextJobInvalidType','setTimestamp','key-value-database-invalid-query','DeviceConfig','registerCluster','Unknown\x20skill\x20type','slice','prompts','concat','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','checkMediaRecording','status','Knowledge\x20Cutoff\x20Date:\x20','processJob','Data','WaitTrue','clusters','TextToSpeech','relations','setReceiverTimestamp','missing-datachannel','ConnectionNoRetryQueue','connection-state','maxBitrate','Missing\x20search\x20API\x20key','420235181083','getHash','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','maxDepth','isChannelEnabled','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','stats','videoWidth','openVectorDatabase','Cannot\x20unpublish\x20object\x20at\x20','ReceiverOnMessage','ENOENT','size','removeTrack','Update','sourceVideo','Node\x20is\x20not\x20an\x20agent','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','google','maxFramerate','AppSync\x20client\x20not\x20ready','max','params','sync','Index','Competitive\x20Analysis\x20Agent','getOutgoingOptimizationConnections','pendingSyncTransactions','getOrResetPendingFileTimeout','chunks','getVideoTracks','\x20failed.\x20Retrying...','isPromiseResolved','NodeJoin','JobWorker:\x20Sending\x20job\x20reject','localId','relevance','entities','appsync-disconnect','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','prototype','parseWorkflowBlocks','total','\x20attempts:','remediationManager','Could\x20not\x20open\x20trace','node-type-not-supported','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','GenerativeAIContextCreationFailed','.crewdle-last-transaction','Invalid\x20job\x20service\x20payload.','resizeHandler','external-storage','collection-delete','framesEncoded','notifyObjectStoreOfNodeJoin','CONNECTION_STATE_CHANGE','logLevel','.go','inputTokens','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','Error\x20retrieving\x20context','\x27\x20is\x20not\x20ready','logSupport','graph-database-already-exists','data:\x20','NodeManager\x20-\x20ConnectionSuccess','handleUnsubscribeMediaStream','firebaseUnsubscriber','waitForArrayBufferSize','Vector','Object\x20store\x20not\x20synced.','479944ssDgpe','createExternalStorageConnection','timeSending','feature-not-enabled','getKeyValueDatabases','senderTotalMessages','peaks','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','nodeId','Cannot\x20list\x20directory:\x20','pub-sub-topic-name-not-string','logStorage','Buffered\x20chunks\x20are\x20too\x20large','searchOnPerplexity','JobWorkerCreationFailed','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','senderTimeProcessing','startNoThrottlingHack','secheduleTime','validateLayout','removeJobWorker','DataStream\x20send','trackEndedListeners','oncloseTimeout','getAncestors','open','isInternalSDKConfigs','getAudioVideoDelay','apikeys/','RequestFileSync','forEach','type','.groovy','result','getStatus','.ts','Missing\x20external\x20storage\x20connector','/resources/generative-ai-collection/items','ObjectStoreNotSynced','upload','inputType','getWorkflow','syncKeyValueDatabase','dataChannel','commitTrace','.crewdle-pending','handleFileWrite','JobWorker:\x20Sending\x20job\x20result','GraphDatabaseCreationFailed','getShareableStreamId','Number','claude-opus-4-0','play','setReceiverBytes','RemoteRemove','indexOf','An\x20error\x20occurred','internalJob','getRemoteNodes','limitToFirst','payloadType','speechAIWorkerConnectors','tableObserver','openedTraces','onProviderChange','/resources/generative-ai-workflow/items/','currentBytes','gpt-4o-realtime-preview','CustomSkill','\x20seconds','apiUrl','Model\x20not\x20found','WriteFile','getLastUpdated','functions','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','NeedRestart','iceConnectionState\x20failed','November\x202024','output_tokens','clearRect','JobQueueService:\x20Error\x20running\x20job','distance','ConnectionNotConnected','external-storage-connectors-missing','openJobWorker','removeGenerativeAIContext','WorkflowTool','ObjectStoreInvalidPath','prompt','listFiles','numeric','insert','processOutboundReports','blocks','sendFileRequestPayload','Subscription\x20request\x20does\x20not\x20exist.','openaiApiKey','links','clusterId','saveToDisk','validateValue','Module','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','setItem','retryCount','transactionTable','No\x20start\x20block\x20found','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','executeWorkflow','comparePeaks','canvas','getEstimatedTimestamp','modelId','timePerFrame','Error\x20writing\x20file','search-agent','\x20completed.','Events','GenerativeAIContextJobTimeout','getToolParams','hasRemoteNode','FileWrite','startBidResponseHandling','Cluster\x20already\x20joined','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','WorkflowInvalidBlockType','getDTVolatility','framesDecoded','GenerativeAIWorkerAlreadyExists','externalStorages','addReservedTables','AgentSkill','validateQuery','Valid\x20layout','endpointUrl','clearHeartbeat','detectStreamIssues','handleTransactionPayload','suspended','isOpened','.js','Sending\x20\x27','Sender\x20connection\x20is\x20not\x20initialized.','handleSubscriptionSystemEvents','Pinecone','createConnection','setPendingFileSyncingPayload','Search\x20in\x20data\x20collection\x20','resolve','deleteRemoteNode','clearSubscriptionRequestTimeout','vendorId','format','processContentSynchronized','mistlet-capacity-report-not-set','lastTransactionId','Workflow','vector-database-missing-connector','Core','getCapacityReport','connectionStateListener','CloseExternalStorageConnection','initialPrompt','openGenerativeAIContext','internalId','sendStats','handleFolderCreate','FPS','unsubscribe','keyValueDatabaseConnector','FeatureNotEnabled','unsubscribeHandler','jobWorkers','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','inference','Knowledge','Logging\x20not\x20enabled\x20for\x20channel\x20','JobWorker:\x20Received\x20job\x20attribution','out','sendReject','onremovetrack','isSync','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','utf8','video','path','\x20with\x20\x27','startAt','getMaxDistance','senderPreviousTimestamp','workflow-invalid-block-type','key-value-database-invalid-layout','Invalid\x20value.\x20Property\x20\x27','removeSubscription','features','Search\x20Agent','registerSystemPublisher','handleNodeUpdate','between','object-store-invalid-state','ConnectionBufferNotEmpty','isArray','PubSubTopic\x20publish','jobPhase','job-worker-does-not-exist','removeEventListener','signalingServer','val','/transactions/lastTransaction','sonar-reasoning-pro','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','handleSubscriptionUnsubscribeMediaStream','Rating','gpt-4o-mini','buildTableEvent','user','noun','developers/','queues','16774088XLRcsV','job-worker-invalid-type','queryOrPrompt','deleteObject','Default','elevenLabsApiKey','false','GenerativeAIContextJobAlreadyConsumed','FormSkillSetAnswer','cores','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','\x20Fallback\x20model','/jobs','openTrace','Key-value\x20database\x20creation\x20failed.','update','RequestFileWrite','external-storage-connection-already-subscribed','llama-3.1-8b','setReportCapacity','isMediaSource','committed','LocalMediaStreamTrackFail','Invalid\x20data\x20channel.','everyone','Remote\x20stream\x20does\x20not\x20exist.','\x20after\x20','contentMediator','writeBatch','pubsubTopics','key-value-database-invalid-value','VectorDatabaseDoesNotExist','organizationId','PayloadAction','/transactions/','agent','startIndex','calculateArrayBufferSize','track','removeListener','System','frameHeight','QueryBuilderInvalidArgument','eventTarget','setupListeners','job-dispatcher-already-exists','RemoteMediaStreamDoesNotExist','.java','graph-database-missing-connector','decodeJWT','hosting','Missing\x20RAG\x20API\x20key','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','From\x20','MissingSystemTopic','handleChunkMessage','Method\x20not\x20implemented.','SyncComplete','WaitFalse','isInternalLoggingConnector','padStart','receiverPreviousTimestamp','Processing','restartTimeout','publishSyncCompletedAfterWrites\x20-\x20','Query\x20is\x20required','PubSubTopicAlreadySubscribed','Error\x20querying\x20file','.jl','image/','totalEncodeTime','dedicated','parentId','processPendingHandshakeCandidates','rank','GenerativeAIContext\x20stream\x20error','generativeAIWorkers','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','Error\x20reading\x20file\x20chunk\x20after\x20','gpt-4o','processReceivedTransactions','Stats:\x20report','removeOutgoingSubscription','arrayBufferToObject','AppSync\x20connection\x20not\x20ready','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','ObjectStoreNotInSync','bufferedEvents','name','Interviewer\x20Agent','JobContext','mode','getEntities','flatMap','object-store-name-not-string','GenerativeAIWorker:\x20Opened','getResolution','enabled','sequence','setConnectionType','KeyValueDatabaseTransactionValueNotSet','sort','answer','Logger.getInstance','processRemoteInboundReport','batchQueue','InvalidSubscriber','off','readyDebounce','created','object-store-invalid-payload','debounceLogTimeout','senderConnection','isBidResponse','/search','logInitialMMR','joinCluster','question','Node','getBid','Code','Strategizing\x20Agent','newPath','state','Agent','lastProcessRank','Online','validation','speech-to-speech','filename','web-scraper-raw','orderBy','downgrade','retrieveBlocks','detectLocalIssues','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','FinalOutput','context','KeyValueDatabaseInvalidLayout','VectorDatabaseCreationFailed','createFolder','getRemoteMediaStreams','chosenAnswers','\x20-\x20','String','Cannot\x20publish\x20move\x20operation:\x20','G-F7W8KXRKQB','receiverTotalMessages','GenerativeAIRagType','InitialPrompt','confirmSynchronization','parameters','No\x20model\x20available','onDisconnectHandler','roundTripTime','findNewMediaSubscription','All','codes','jitter','Account','boolean','unregisterPublisher','getConnectionType','Medium','Invalid\x20workflow\x20block\x20type.','ObjectStoreAlreadyExists','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','DataStream\x20onMessage','debounceReadyTimeout','eleven_turbo_v2','connection-not-connected','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','FormSkill','getJobWorkers','ObjectStoreInvalidSyncMessage','handleSubscriptionNeedMediaStream','collectTransactionsFromNode','Text','subscribeToJobs','remoteUnsubscriber','asObservable','ObjectStoreStats','sendAction','ImageParser','GenerativeAIWorkerMissingConnector','Handshake','logBatch','Store\x20already\x20exists','Support','setupConnectionEvents','lastHeartbeat','Cannot\x20publish\x20payload:\x20','maxFps','High','query','serverTimestamp','handleSubscriptionMediaStreamUnavailable','Bitrate','email','getVectorDatabases','agent-config-changed','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','updateUser','ownerId','setSubscriptionRequestTimeout','Connection\x20not\x20initialized.','authenticateUser','nodeUpdate','byteLength','createCollection','.sh','createNewBatch','claude-3-5-haiku-latest','upgradeTimeout','ModelVector','Unsupported\x20job\x20type','answer-','Job\x20Dispatcher\x20already\x20exists','toString','Error\x20executing\x20agent','getUserMedia','counter','filter','auth','stopTracing','system-stats','currentFrames','fromEntries','GenerativeAIWorkerCreationFailed','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','grammar','PromptFunctionParamsType','getSimilarity','wait-true','maxTokens','May\x202024','trace','addEdge','systemTopicUnsubscribe','FormSubmitForm','GenerativeAIWorkerStats','graphDatabases','key-value-database-table-name-reserved','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','logDataSent','Local\x20stream\x20does\x20not\x20exist.','setOnTableWriteHandler','LocalMediaStreamAlreadyExists','getRoundTripTime','getAvailableTrackKinds','ScreenSharing','restartHandshake','validateVendorCredits','setForDeletion','logPropagateSystemEvent','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','addAudioTrack','MediaStream\x20feature\x20not\x20enabled','hashNodes','rating','wait-false','getDoc','inbound-rtp','version','getTotalBytes','registeredListeners','JobDispatcherInvalidJobType','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','endsWith','setDurationTime','getRemoteNode','CloseJobWorker','instance','speak','</current-question>\x0a\x0a','getLocalNode','en-US','FormSetAnswer','crewdle-sdk','initialize','Emitting\x20event\x20on\x20local\x20cluster','AudioVideoDelay','\x20were\x20ready\x20in','checkAudioVolume','Missing\x20graph\x20database\x20connector','minResolutionScale','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','KeyValueDatabaseNameNotString','initializeApp','objectRequests','crewdle-sdk-stg','msalGetAccessToken','defineProperty','getSenderTotalBytes','removeGraphDatabase','Database\x20does\x20not\x20exist','.crewdle-transactions','publish','pipe','isFeatureSupported','isNeedRestart','mediaTopics','node','undefined','llama-3.2-3b','createLocalMediaStream','pendingFilesTransactions','object-store-already-exists','authenticateAgent','getDocs','learn-agent','handleContentUnsubscribeMediaStream','Database\x20not\x20open','processReport','handleFileRequestAnswer','.awk','listenerUnsubscriber','getConnectionGroup','getJobObservable','No\x20speech\x20connector\x20available','I\x20have\x20finished\x20executing\x20my\x20task.','Router','previous','NodeTypeRequired','generative-ai-context-job-failed','handleProblem','GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found','addMessage','processReports','GetContextQuery','nodeKey','setEmail','isProduction','Upload','CloseVectorDatabase','setRemoteConnections','cachedRoot','minConnections','receiverBitrate','getDataBucketIds','isWhereValues','Error\x20stringifying\x20object','Sender','extendedRecipients','maxOutgoingSubscriptions','api-key-missing','InternalSDKError','senderCurrentBytes','getDataCollection','agentId','MistletCapacityReportNotSet','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','blank-agent','createGenerativeAIWorker','toLowerCase','ExecuteCode','IncomingSubscription','connection-not-initialized','Get','Error','connectionType','JobWorkerDoesNotExist','Resolution','taskType','join-cluster','timeoutCallback','connect','text-embedding-3-small','/chat/completions','unregisterCluster','key-value-database-does-not-exist','unregisterSystemSource','SyncKeyValueDatabase\x20-\x20Ancestors\x20','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','addConnection','once','authNode','function','.handlebars','reduce','deleteJob','getMaxConnections','globalObject','previousFrames','Failed\x20to\x20get\x20filename','getMediaSubscription','\x20MB','GenerativeAIContextAlreadyExists','destroy','.txt','getPeaks','Synced','Execute\x20skill\x20','text','Error\x20processing\x20agent\x20block','GenerativeAIModelOutputType','executeAgent','Queued','file-download','isFailedResponse','Execute\x20the\x20workflow\x20','gpt-4o-mini-tts','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','EntityExtractor','generativeAIContexts','object-storage','Error\x20executing\x20workflow','.rb','clusters/','Send\x20request','setRemoteNode','Local\x20node\x20rank\x20is\x20not\x20set','base64','layout','image','Cannot\x20publish\x20file:\x20','stream','Local\x20MediaStream\x20already\x20exists','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','appendTransaction','rejectReady','.php','unshift','DataChannel\x20is\x20not\x20initialized.','pubsub','batch','overlap','Count','ragApiKey','Orchestrator\x20handleSystemEvents','MediaStream','evaluateProccessedJob','GraphDatabase','externalStorageConnections','OptimizationConnectionSuccess','Error\x20committing\x20batch:','systemMessages','Embeddings','uuid','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','database','match','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','bufferedAmount','VectorDatabase\x20not\x20found','commitLevel','pub-sub-topic-already-subscribed','openPubSubTopic','eleven_multilingual_v2','Jobs','.sql','isRunning','getClosestNodes','\x20attributed\x20to\x20','transactionService','sendChunked','handleOutgoingSystemEvents','Node\x20\x27','discover','.jsx','joinedClusters','expectedTransactions','publishLocalDynamicMediaStream','Node\x20type\x20is\x20invalid','canRestartHandshake','Error\x20opening\x20trace','notifyClusterNodeJoin','Recording','August\x202023','SubscriptionRequestDoesNotExist','debounceStats','transaction','setSenderTimestamp','pendingFilesRename','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','Connection\x20not\x20connected.','getObjectStoreBuckets','sendTransactionsValue\x20-\x20value\x20not\x20found','getCoresFromCapacityReport','supported','job-worker-creation-failed','JobWorkerInvalidType','Internal\x20event\x20\x27','generative-ai-context-invalid-partial-result','signalingState','trackListeners','renderElement','receiverPreviousBytes','logMMRRebuild','getTime','writeTransaction','\x27\x20in\x20table\x20\x27','waitSuccess','IDBDatabaseConnector','job-dispatcher-creation-failed','Everyone\x20','generative-ai-context-job-already-consumed','getPeakNode','\x20check\x20failed','parse','getSenderBitrate','createObjectStoreBucket','\x0a\x20===\x20Current\x20MMR\x20Root','key-value-database-index-not-found','crewdle','UnsubscribeMediaStream','collection-create','InvalidSubscription','remote-media-stream-already-exists','getTransactionFromTableWriteEvent','Subscribing\x20to\x20an\x20event:\x20on','addBatchOperation','setupTrackEndedListeners','recipients','KeyValueDatabasePeakNotFound','uid','setupResizeHandler','bandwidth.bitrate','JobDispatcherInvalidPayload','images','connectionManager','processBatch','maxBpp','random','heartbeatUnsubscriber','getProviderId','outbound-rtp','Incoming','trend-spotter','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','nodeManager','mergeParts','jobBids','Retrieve','content-unpublish-media','ExternalStorage','\x27\x20reserved','nextNodeId','external-storage-connection-already-exists','NodeManager\x20-\x20NodeUpdate','crewdle-sdk-logging-','setCurrentVersion','title','Agent\x20output\x20is\x20not\x20a\x20string','getDisplayMedia','Media','getConnections','DataCollection','clearUpgradeTimeout','getTrack','getRoot','return\x20this','tools','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','tokens','file.content','getMediaStream','LocalReport','results','trim','MissingRemoteConnection','messagesSent','onTrack','jobType','speech-create','getSubscriptionInfo','createTopic','cpu.time_per_frame','Remove','us-east-1','delete','Found\x20','CloseJobDispatcher','_isReady','local-media-stream-already-exists','pub-sub-topic-does-not-exist','openGenerativeAIContextStandalone','handlePublishMediaStream','Boolean','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','handleSubscribeMediaStream','reportCapacity','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Ingest','connectionConstructor','owner','setDisplayName','queryFile','FROM\x20file','receivers','system','ElevenLabs','Initial\x20MMR\x20built\x20with','getGenerativeAIContexts','KeyValueDatabaseInvalidValue','syncTransactionsWritten','some','gpt-4o-transcribe','FS\x20connector\x20is\x20not\x20available','default','keyValueDatabases','\x20created\x20and\x20dispatched.','connecting','getTotalNodes','LoadSkillFunction','Move','Upgrade','createAIJob','getFunctions','GraphDatabase\x20not\x20found','Invalid\x20query','WorkflowTrace','messagesReceived','combinePeaks','verb','checkExistingPendingFileContent','content','AI\x20Service\x20already\x20exists','removeVectorDatabase','.yml','Support:\x20','ceil','cluster-already-joined','Code\x20is\x20required','messageUnsubscriber','capacityReporter','ObjectStoreDoesNotExist','stringify','PubSubTopic\x20onMessage','Result','.mustache','search','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','removeIncomingSubscription','topic','registerSource','graph-database-name-not-string','hasTable','functionsRegion','tableLayout','getConnectionDestinations','createOutgoingSubscription','getJobDispatchers','waitConnected','generateClient','application/json','KeyValueDatabase\x20not\x20found','isPartialResultResponse','unregisterSource','.erb','SpeechToText','RemoteRemediation','DataChannel\x20send\x20error','data-collection','content-publish-media','model','clearWaitAnswer','anthropicApiKey','sdkCreateToken','VectorDatabaseNameNotString','kind','framerate','computeHash','Problem\x20detected:\x20','folder-create','/jobs/','closeTopic','generative-ai-context-job-missing-thread-id','getAudioTracks','ready','performCalculation','LoggingService:\x20logging\x20enabled\x20for','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','Cannot\x20get\x20size\x20of\x20path:\x20','startsWith','collection-query','.ppt','data-stream','GenerativeAIWorkerModelSyncError','totalDecodeTime','RestartNeedMediaStream','getTableConnector','data','.lua','SpeechToSpeech','appendTransactionAndUpdateHashMap','object','.ejs'];a0_0xeeb2=function(){return _0x4f8d7b;};return a0_0xeeb2();}