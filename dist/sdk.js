function a0_0x1399(_0x5a47b2,_0x188bee){const _0xee090e=a0_0xee09();return a0_0x1399=function(_0x13992a,_0x386df2){_0x13992a=_0x13992a-0xa3;let _0x418fa0=_0xee090e[_0x13992a];return _0x418fa0;},a0_0x1399(_0x5a47b2,_0x188bee);}(function(_0x437f18,_0x4911cb){const _0x40e75e=a0_0x1399,_0x4d6b84=_0x437f18();while(!![]){try{const _0x1b432d=parseInt(_0x40e75e(0x4c9))/0x1*(-parseInt(_0x40e75e(0x7eb))/0x2)+-parseInt(_0x40e75e(0x291))/0x3+-parseInt(_0x40e75e(0x3ff))/0x4+-parseInt(_0x40e75e(0x3a0))/0x5+parseInt(_0x40e75e(0x613))/0x6*(-parseInt(_0x40e75e(0x607))/0x7)+parseInt(_0x40e75e(0x2f4))/0x8+parseInt(_0x40e75e(0x7f6))/0x9;if(_0x1b432d===_0x4911cb)break;else _0x4d6b84['push'](_0x4d6b84['shift']());}catch(_0x5e0bb6){_0x4d6b84['push'](_0x4d6b84['shift']());}}}(a0_0xee09,0xec468),!function(_0x348cec,_0x185820){const _0x137edf=a0_0x1399;if(_0x137edf(0x9d3)==typeof exports&&_0x137edf(0x9d3)==typeof module)module[_0x137edf(0x792)]=_0x185820();else{if(_0x137edf(0x658)==typeof define&&define[_0x137edf(0x422)])define([],_0x185820);else{var _0x32a6e1=_0x185820();for(var _0xa6c913 in _0x32a6e1)(_0x137edf(0x9d3)==typeof exports?exports:_0x348cec)[_0xa6c913]=_0x32a6e1[_0xa6c913];}}}(this,()=>((()=>{'use strict';const _0x4d9d4f=a0_0x1399;var _0x4c891b={0x14d:(_0x30ae29,_0x534fda,_0x5b7b4e)=>{const _0xe6f56d=a0_0x1399;_0x5b7b4e['d'](_0x534fda,{'O':()=>_0x5ccc7b});const _0x5ccc7b={'version':_0xe6f56d(0x206),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0xe6f56d(0x158),'authDomain':_0xe6f56d(0x17e),'databaseURL':_0xe6f56d(0x9e1),'projectId':_0xe6f56d(0x402),'storageBucket':_0xe6f56d(0x5ed),'appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0xe6f56d(0x1fc)},'google':{'searchEngineId':_0xe6f56d(0x35a)},'aws':{'endpoint':_0xe6f56d(0x40a),'region':_0xe6f56d(0x35f)}};},0x33b:(_0x5dffec,_0x449f57,_0x4bc1f5)=>{_0x4bc1f5['d'](_0x449f57,{'O':()=>_0x56f053});const _0x56f053={};},0x3e6:(_0x2ba497,_0x5dfd15,_0x2e692b)=>{const _0x33aba6=a0_0x1399;_0x2e692b['d'](_0x5dfd15,{'O':()=>_0x39a713});const _0x39a713={'version':_0x33aba6(0x7f0),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x33aba6(0x500),'authDomain':_0x33aba6(0xb6),'databaseURL':_0x33aba6(0x2d2),'projectId':_0x33aba6(0x67f),'storageBucket':_0x33aba6(0x518),'messagingSenderId':_0x33aba6(0x2ee),'appId':_0x33aba6(0x2da),'measurementId':_0x33aba6(0x243)},'aws':{'endpoint':_0x33aba6(0x757),'region':'us-east-1'}};},0x20:(_0x1ccf49,_0x339c0f,_0x3ed920)=>{_0x3ed920['d'](_0x339c0f,{'O':()=>_0x33e86d});const _0x33e86d={};}},_0x12bde6={};function _0x25cf9f(_0x28ea77){const _0x2d93be=a0_0x1399;var _0x41d6e9=_0x12bde6[_0x28ea77];if(void 0x0!==_0x41d6e9)return _0x41d6e9[_0x2d93be(0x792)];var _0x54a42a=_0x12bde6[_0x28ea77]={'exports':{}};return _0x4c891b[_0x28ea77](_0x54a42a,_0x54a42a['exports'],_0x25cf9f),_0x54a42a['exports'];}_0x25cf9f['d']=(_0x16e718,_0x57109a)=>{const _0x20eefb=a0_0x1399;for(var _0x19ff71 in _0x57109a)_0x25cf9f['o'](_0x57109a,_0x19ff71)&&!_0x25cf9f['o'](_0x16e718,_0x19ff71)&&Object[_0x20eefb(0x8fe)](_0x16e718,_0x19ff71,{'enumerable':!0x0,'get':_0x57109a[_0x19ff71]});},_0x25cf9f['g']=(function(){const _0x1baa42=a0_0x1399;if(_0x1baa42(0x9d3)==typeof globalThis)return globalThis;try{return this||new Function(_0x1baa42(0x6af))();}catch(_0x3f58c2){if(_0x1baa42(0x9d3)==typeof window)return window;}}()),_0x25cf9f['o']=(_0x313562,_0x496c7e)=>Object[_0x4d9d4f(0x6be)][_0x4d9d4f(0xe9)][_0x4d9d4f(0x92f)](_0x313562,_0x496c7e),_0x25cf9f['r']=_0x49def4=>{const _0x1fd6c3=_0x4d9d4f;'undefined'!=typeof Symbol&&Symbol[_0x1fd6c3(0x854)]&&Object[_0x1fd6c3(0x8fe)](_0x49def4,Symbol[_0x1fd6c3(0x854)],{'value':'Module'}),Object[_0x1fd6c3(0x8fe)](_0x49def4,_0x1fd6c3(0x6fc),{'value':!0x0});};var _0x17f7da,_0x30c1eb,_0x1a98bf,_0x5e2484={};_0x25cf9f['r'](_0x5e2484),_0x25cf9f['d'](_0x5e2484,{'KeyValueDatabase':()=>_0xc35f17,'LayoutBuilder':()=>_0x377955,'LoggingChannels':()=>_0x1a98bf,'QueryBuilder':()=>_0x34a9c6,'SDK':()=>_0x4e5372,'SDKClientErrorCodes':()=>_0x17f7da,'TableBuilder':()=>_0x5461bf,'logger':()=>_0x2644bc}),function(_0x2d58ab){const _0xbd3c18=_0x4d9d4f;_0x2d58ab[_0xbd3c18(0x927)]=_0xbd3c18(0x812),_0x2d58ab[_0xbd3c18(0x8c6)]=_0xbd3c18(0x6dd),_0x2d58ab['ExternalStorageConnectionAlreadyExists']='external-storage-connection-already-exists',_0x2d58ab['ExternalStorageConnectionAlreadySubscribed']=_0xbd3c18(0x19f),_0x2d58ab['ExternalStorageConnectionDoesNotExist']=_0xbd3c18(0x744),_0x2d58ab[_0xbd3c18(0x25a)]='external-storage-connectors-missing',_0x2d58ab[_0xbd3c18(0x90a)]=_0xbd3c18(0xa9),_0x2d58ab[_0xbd3c18(0x9ad)]=_0xbd3c18(0x857),_0x2d58ab[_0xbd3c18(0x420)]=_0xbd3c18(0x328),_0x2d58ab[_0xbd3c18(0x30b)]=_0xbd3c18(0x6bf),_0x2d58ab[_0xbd3c18(0x733)]=_0xbd3c18(0x454),_0x2d58ab['GenerativeAIContextJobMissingThreadId']=_0xbd3c18(0x647),_0x2d58ab[_0xbd3c18(0x5f9)]=_0xbd3c18(0x84b),_0x2d58ab[_0xbd3c18(0x8e2)]=_0xbd3c18(0x113),_0x2d58ab[_0xbd3c18(0x99c)]=_0xbd3c18(0x5e5),_0x2d58ab[_0xbd3c18(0x8c7)]=_0xbd3c18(0x3de),_0x2d58ab['GraphDatabaseAlreadyExists']=_0xbd3c18(0x287),_0x2d58ab[_0xbd3c18(0x28a)]='graph-database-does-not-exist',_0x2d58ab['GraphDatabaseMissingConnector']=_0xbd3c18(0x90d),_0x2d58ab['GraphDatabaseNameNotString']=_0xbd3c18(0x7de),_0x2d58ab[_0xbd3c18(0x6d5)]='job-dispatcher-already-exists',_0x2d58ab[_0xbd3c18(0x8e3)]='job-dispatcher-does-not-exist',_0x2d58ab[_0xbd3c18(0x597)]=_0xbd3c18(0xba),_0x2d58ab['JobDispatcherJobNotFound']=_0xbd3c18(0x468),_0x2d58ab[_0xbd3c18(0x5b2)]=_0xbd3c18(0x51e),_0x2d58ab[_0xbd3c18(0x1ed)]=_0xbd3c18(0x5f6),_0x2d58ab[_0xbd3c18(0x456)]='job-worker-does-not-exist',_0x2d58ab[_0xbd3c18(0x4d2)]='object-store-already-exists',_0x2d58ab['ObjectStoreAlreadySubscribed']=_0xbd3c18(0x4bd),_0x2d58ab[_0xbd3c18(0x5f1)]=_0xbd3c18(0x523),_0x2d58ab[_0xbd3c18(0x266)]=_0xbd3c18(0x810),_0x2d58ab[_0xbd3c18(0x5eb)]=_0xbd3c18(0x516),_0x2d58ab['ObjectStoreInvalidPath']=_0xbd3c18(0x52a),_0x2d58ab['ObjectStoreNotInSync']=_0xbd3c18(0xc1),_0x2d58ab[_0xbd3c18(0x926)]=_0xbd3c18(0x70a),_0x2d58ab[_0xbd3c18(0x17f)]='invalid-access',_0x2d58ab[_0xbd3c18(0x98b)]='key-value-database-already-exists',_0x2d58ab[_0xbd3c18(0x5b7)]='key-value-database-does-not-exist',_0x2d58ab[_0xbd3c18(0x2a2)]=_0xbd3c18(0x533),_0x2d58ab['KeyValueDatabaseInvalidQuery']=_0xbd3c18(0x81b),_0x2d58ab['KeyValueDatabaseInvalidValue']=_0xbd3c18(0x154),_0x2d58ab['KeyValueDatabaseNameNotString']=_0xbd3c18(0x9e7),_0x2d58ab['KeyValueDatabaseNotOpen']=_0xbd3c18(0x414),_0x2d58ab[_0xbd3c18(0x978)]=_0xbd3c18(0x9cd),_0x2d58ab[_0xbd3c18(0x8b4)]=_0xbd3c18(0x779),_0x2d58ab['KeyValueDatabaseInvalidLayout']=_0xbd3c18(0x3e7),_0x2d58ab[_0xbd3c18(0x312)]=_0xbd3c18(0x9a2),_0x2d58ab[_0xbd3c18(0x653)]=_0xbd3c18(0x470),_0x2d58ab[_0xbd3c18(0x462)]='pub-sub-topic-already-exists',_0x2d58ab[_0xbd3c18(0x98f)]='pub-sub-topic-does-not-exist',_0x2d58ab[_0xbd3c18(0x996)]=_0xbd3c18(0x5bc),_0x2d58ab[_0xbd3c18(0x115)]=_0xbd3c18(0x94c),_0x2d58ab['QueryBuilderInvalidArgument']='query-helper-invalid-argument',_0x2d58ab['RemoteMediaStreamAlreadyExists']=_0xbd3c18(0x9b6),_0x2d58ab[_0xbd3c18(0x554)]=_0xbd3c18(0x70c),_0x2d58ab[_0xbd3c18(0x5cb)]=_0xbd3c18(0x3df),_0x2d58ab[_0xbd3c18(0x4c0)]=_0xbd3c18(0x78b),_0x2d58ab[_0xbd3c18(0x80c)]=_0xbd3c18(0x619),_0x2d58ab[_0xbd3c18(0x1ca)]='node-type-not-supported',_0x2d58ab['NodeTypeRequired']=_0xbd3c18(0x1f0),_0x2d58ab[_0xbd3c18(0x13c)]=_0xbd3c18(0x5fb),_0x2d58ab[_0xbd3c18(0xb1)]=_0xbd3c18(0x713),_0x2d58ab[_0xbd3c18(0x902)]=_0xbd3c18(0x86f),_0x2d58ab[_0xbd3c18(0x4a8)]='vector-database-name-not-string';}(_0x17f7da||(_0x17f7da={}));class _0x2554b3 extends Error{[_0x4d9d4f(0x1c1)];constructor(_0x46f8b1,_0x32aaab){const _0x2b4b50=_0x4d9d4f;super(_0x32aaab),this[_0x2b4b50(0x1c1)]=_0x46f8b1;}}!function(_0x2a8891){const _0x4b6dbb=_0x4d9d4f;_0x2a8891[_0x4b6dbb(0x343)]=_0x4b6dbb(0x2f0),_0x2a8891[_0x4b6dbb(0x210)]=_0x4b6dbb(0x11e),_0x2a8891['KeyValueDatabase']=_0x4b6dbb(0x76a),_0x2a8891['VectorDatabase']=_0x4b6dbb(0x51f),_0x2a8891[_0x4b6dbb(0x283)]='graph-database',_0x2a8891[_0x4b6dbb(0x60d)]=_0x4b6dbb(0x3b5),_0x2a8891[_0x4b6dbb(0x6f7)]='media-stream',_0x2a8891[_0x4b6dbb(0x428)]=_0x4b6dbb(0x6df);}(_0x30c1eb||(_0x30c1eb={})),function(_0x55c7fc){const _0x502447=_0x4d9d4f;_0x55c7fc[_0x502447(0xb9)]=_0x502447(0x3e8),_0x55c7fc['Default']=_0x502447(0x910),_0x55c7fc['Connection']=_0x502447(0x673),_0x55c7fc[_0x502447(0x5b1)]=_0x502447(0x353),_0x55c7fc[_0x502447(0x508)]=_0x502447(0x181),_0x55c7fc[_0x502447(0x72b)]='content',_0x55c7fc[_0x502447(0x8df)]=_0x502447(0x776),_0x55c7fc[_0x502447(0x989)]='detection',_0x55c7fc[_0x502447(0x4a1)]=_0x502447(0x385),_0x55c7fc[_0x502447(0x546)]=_0x502447(0x716),_0x55c7fc[_0x502447(0x28d)]=_0x502447(0x8f0),_0x55c7fc['KeyValueDatabase']='key-value-database',_0x55c7fc['Node']=_0x502447(0x3fb),_0x55c7fc[_0x502447(0x8b2)]=_0x502447(0xa4),_0x55c7fc['PubSub']='pubsub',_0x55c7fc[_0x502447(0x580)]=_0x502447(0xce),_0x55c7fc[_0x502447(0x92a)]=_0x502447(0x569),_0x55c7fc['SenderSendMessage']=_0x502447(0x66b),_0x55c7fc['Signaling']=_0x502447(0x5f5),_0x55c7fc[_0x502447(0x5bb)]=_0x502447(0x68e),_0x55c7fc[_0x502447(0x560)]=_0x502447(0x10c),_0x55c7fc['Support']=_0x502447(0x807),_0x55c7fc[_0x502447(0x39e)]=_0x502447(0x1e3),_0x55c7fc[_0x502447(0x301)]=_0x502447(0x81f),_0x55c7fc['TestPage']='test-page',_0x55c7fc[_0x502447(0x60c)]=_0x502447(0x966);}(_0x1a98bf||(_0x1a98bf={}));const _0x2477c2=require('@crewdle/web-sdk-types');class _0x34a9c6{[_0x4d9d4f(0x28b)];constructor(_0x41ae86){const _0x3f4f8b=_0x4d9d4f;this[_0x3f4f8b(0x28b)]={'orderBy':{'key':_0x41ae86,'direction':'asc'}};}static[_0x4d9d4f(0x361)](_0x325853){const _0x1b307f=_0x4d9d4f;if(_0x1b307f(0x794)!=typeof _0x325853||0x0===_0x325853[_0x1b307f(0x99a)])throw new _0x2554b3(_0x17f7da[_0x1b307f(0x22c)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x34a9c6(_0x325853);}static['validateQuery'](_0x58a6f2){const _0x5ef96d=_0x4d9d4f;try{return _0x34a9c6[_0x5ef96d(0x225)](_0x58a6f2),!0x0;}catch(_0x33e82c){return!0x1;}}static[_0x4d9d4f(0x225)](_0x576293){const _0x5438b6=_0x4d9d4f,_0x361f24=_0x34a9c6[_0x5438b6(0x361)](_0x576293[_0x5438b6(0x89b)]?.[_0x5438b6(0x79f)]??_0x576293['where']?.['key']??'');if(_0x576293[_0x5438b6(0x5e3)]){const _0x3c7fb7=_0x576293[_0x5438b6(0x5e3)];if((_0x34a9c6[_0x5438b6(0x4ba)](_0x3c7fb7)||_0x34a9c6[_0x5438b6(0x354)](_0x3c7fb7)||_0x34a9c6[_0x5438b6(0x7c3)](_0x3c7fb7))&&_0x361f24[_0x5438b6(0x5e3)](_0x3c7fb7[_0x5438b6(0xc9)],_0x3c7fb7[_0x5438b6(0x184)]),_0x576293[_0x5438b6(0x89b)]?.[_0x5438b6(0x79f)]&&_0x576293[_0x5438b6(0x89b)]?.[_0x5438b6(0x79f)]!==_0x576293[_0x5438b6(0x5e3)][_0x5438b6(0x79f)])throw new _0x2554b3(_0x17f7da[_0x5438b6(0x22c)],_0x5438b6(0x791));}return _0x576293[_0x5438b6(0x89b)]&&_0x361f24[_0x5438b6(0x89b)](_0x576293[_0x5438b6(0x89b)]['direction']),_0x576293['limit']&&_0x361f24[_0x5438b6(0xe3)](_0x576293[_0x5438b6(0xe3)]),_0x576293[_0x5438b6(0x507)]&&_0x361f24[_0x5438b6(0x507)](_0x576293[_0x5438b6(0x507)]),_0x361f24;}[_0x4d9d4f(0x886)](){const _0x15ab5f=_0x4d9d4f;return{...this[_0x15ab5f(0x28b)]};}[_0x4d9d4f(0x5e3)](_0x1ba4dd,_0x389edb){const _0x39e0b6=_0x4d9d4f,_0x2ab73d={'key':this[_0x39e0b6(0x28b)][_0x39e0b6(0x89b)][_0x39e0b6(0x79f)],'operator':_0x1ba4dd,'value':_0x389edb};if(!_0x34a9c6[_0x39e0b6(0x4ba)](_0x2ab73d)&&!_0x34a9c6['isWhereValues'](_0x2ab73d)&&!_0x34a9c6[_0x39e0b6(0x7c3)](_0x2ab73d))throw new _0x2554b3(_0x17f7da['QueryBuilderInvalidArgument'],'Invalid\x20where\x20clause');return this[_0x39e0b6(0x28b)][_0x39e0b6(0x5e3)]=_0x2ab73d,this;}[_0x4d9d4f(0x89b)](_0x5d52e1){const _0x868c5e=_0x4d9d4f;if('asc'!==_0x5d52e1&&'desc'!==_0x5d52e1)throw new _0x2554b3(_0x17f7da[_0x868c5e(0x22c)],_0x868c5e(0x55b));return this['query'][_0x868c5e(0x89b)][_0x868c5e(0x8b5)]=_0x5d52e1,this;}['limit'](_0x275ae0){const _0x58e139=_0x4d9d4f;if(_0x58e139(0x565)!=typeof _0x275ae0||_0x275ae0<0x0)throw new _0x2554b3(_0x17f7da[_0x58e139(0x22c)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x58e139(0xe3)]=_0x275ae0,this;}[_0x4d9d4f(0x507)](_0x3951f3){const _0x203dee=_0x4d9d4f;if(_0x203dee(0x565)!=typeof _0x3951f3||_0x3951f3<0x0)throw new _0x2554b3(_0x17f7da[_0x203dee(0x22c)],_0x203dee(0x849));return this['query'][_0x203dee(0x507)]=_0x3951f3,this;}static[_0x4d9d4f(0x4ba)](_0x2bd5eb){const _0x29d9cd=_0x4d9d4f;if(!(_0x2bd5eb&&'object'==typeof _0x2bd5eb&&_0x29d9cd(0xc9)in _0x2bd5eb&&'value'in _0x2bd5eb))return!0x1;const {operator:_0xc39294,value:_0x470f93}=_0x2bd5eb;return!(!['==','!=','>','<','<=','>='][_0x29d9cd(0x766)](_0xc39294)||Array[_0x29d9cd(0x630)](_0x470f93));}static['isWhereValues'](_0x354bf3){const _0x204e94=_0x4d9d4f;if(!(_0x354bf3&&_0x204e94(0x9d3)==typeof _0x354bf3&&_0x204e94(0xc9)in _0x354bf3&&_0x204e94(0x184)in _0x354bf3))return!0x1;const {operator:_0x5e9b6e,value:_0x316516}=_0x354bf3;return!(!['in','not-in'][_0x204e94(0x766)](_0x5e9b6e)||!Array[_0x204e94(0x630)](_0x316516));}static[_0x4d9d4f(0x7c3)](_0x4806d0){const _0x4d8b51=_0x4d9d4f;if(!(_0x4806d0&&_0x4d8b51(0x9d3)==typeof _0x4806d0&&_0x4d8b51(0xc9)in _0x4806d0&&_0x4d8b51(0x184)in _0x4806d0))return!0x1;const {operator:_0x804f82,value:_0x554c52}=_0x4806d0;return!(_0x4d8b51(0x60e)!==_0x804f82||!Array[_0x4d8b51(0x630)](_0x554c52)||0x2!==_0x554c52[_0x4d8b51(0x99a)]);}}class _0x377955{[_0x4d9d4f(0x9ba)];constructor(_0x3ef564){const _0x3f7867=_0x4d9d4f;this[_0x3f7867(0x9ba)]={'tables':{},'version':_0x3ef564};}static[_0x4d9d4f(0x145)](_0x29b536){const _0x11a84c=_0x4d9d4f;for(const _0x109982 in _0x29b536){if('version'!==_0x109982&&'tables'!==_0x109982)return[!0x1,_0x11a84c(0x571)+_0x109982+'\x27\x20in\x20layout'];if(_0x11a84c(0x76e)===_0x109982)for(const _0x4b48c6 in _0x29b536[_0x11a84c(0x76e)]){if('string'!=typeof _0x4b48c6)return[!0x1,_0x11a84c(0x32a)+_0x4b48c6+'\x27'];for(const _0x1d6bbf in _0x29b536[_0x11a84c(0x76e)][_0x4b48c6]){if('indexes'!==_0x1d6bbf)return[!0x1,_0x11a84c(0x571)+_0x1d6bbf+_0x11a84c(0x162)+_0x4b48c6+'\x27'];const _0x82bdfc=_0x29b536[_0x11a84c(0x76e)][_0x4b48c6][_0x1d6bbf]??[];for(const _0x2fd569 of _0x82bdfc)if(void 0x0===_0x2fd569[_0x11a84c(0x12b)]||_0x11a84c(0x794)!=typeof _0x2fd569[_0x11a84c(0x12b)])return[!0x1,_0x11a84c(0x48c)+_0x4b48c6+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if('version'===_0x109982&&_0x11a84c(0x565)!=typeof _0x29b536[_0x109982])return[!0x1,_0x11a84c(0x1f3)+_0x29b536[_0x109982]+_0x11a84c(0x621)];}}return[!0x0,_0x11a84c(0x5f3)];}static['layout'](_0x2373dc){const _0x148b81=_0x4d9d4f,_0x2c2672=new _0x377955(_0x2373dc);return _0x2c2672[_0x148b81(0x9ba)]['version']=_0x2373dc,_0x2c2672;}[_0x4d9d4f(0x5aa)](_0x597b5e){const _0x31144a=_0x4d9d4f;return this[_0x31144a(0x9ba)][_0x31144a(0x76e)][_0x597b5e]={},new _0x5461bf(this[_0x31144a(0x9ba)][_0x31144a(0x76e)][_0x597b5e]);}['getLayout'](){const _0x35b53d=_0x4d9d4f;return this[_0x35b53d(0x9ba)];}}class _0x5461bf{[_0x4d9d4f(0x1b2)];constructor(_0x4bd069){const _0x4917f0=_0x4d9d4f;this[_0x4917f0(0x1b2)]=_0x4bd069;}[_0x4d9d4f(0x361)](_0xbf89fd){const _0x5818dc=_0x4d9d4f;return this[_0x5818dc(0x1b2)][_0x5818dc(0x907)]=this[_0x5818dc(0x1b2)][_0x5818dc(0x907)]??[],this[_0x5818dc(0x1b2)][_0x5818dc(0x907)]['push']({'keyPath':_0xbf89fd}),this;}}const _0x8dd596=0x40000,_0x681e57=0x3f800,_0x5760dc=0x1388,_0x5984f9=_0x4d9d4f(0x9b2),_0x236a2a=_0x4d9d4f(0x3cf),_0x4e0b4b=_0x4d9d4f(0x773),_0x4bd6c0=_0x4d9d4f(0x950),_0x16979b=0xdbba0,_0x2f9f01=_0x4d9d4f(0x1e2),_0x5afdfe=0x61a8,_0x18de75=0x7530,_0x280524=_0x4d9d4f(0x41a);var _0x33d698;!function(_0x393e07){const _0x835167=_0x4d9d4f;_0x393e07[_0x835167(0x1f7)]=_0x835167(0x2c8),_0x393e07[_0x835167(0x627)]=_0x835167(0x865),_0x393e07[_0x835167(0x2a5)]=_0x835167(0x5d6),_0x393e07['ConnectionInvalidDataEvent']=_0x835167(0x93b),_0x393e07['GenerativeAIContextCreationFailed']='generative-ai-context-creation-failed',_0x393e07[_0x835167(0x33d)]='generative-ai-context-invalid-partial-result',_0x393e07[_0x835167(0x146)]=_0x835167(0x9ea),_0x393e07[_0x835167(0x752)]=_0x835167(0x8b9),_0x393e07[_0x835167(0x463)]=_0x835167(0x1b4),_0x393e07[_0x835167(0x46a)]='generative-ai-worker-creation-failed',_0x393e07[_0x835167(0x511)]=_0x835167(0x5dd),_0x393e07[_0x835167(0x8ed)]=_0x835167(0x42a),_0x393e07['InvalidPublisher']='invalid-publisher',_0x393e07[_0x835167(0x971)]='invalid-subscriber',_0x393e07[_0x835167(0x570)]=_0x835167(0x144),_0x393e07[_0x835167(0x166)]=_0x835167(0x955),_0x393e07[_0x835167(0x12d)]=_0x835167(0x3a6),_0x393e07[_0x835167(0x7c2)]='job-dispatcher-job-not-found',_0x393e07[_0x835167(0x42d)]=_0x835167(0x914),_0x393e07[_0x835167(0x4d5)]=_0x835167(0x5c3),_0x393e07[_0x835167(0x513)]=_0x835167(0x256),_0x393e07['KeyValueDatabaseCreationFailed']='key-value-database-creation-failed',_0x393e07[_0x835167(0x17a)]=_0x835167(0x8fb),_0x393e07[_0x835167(0x957)]=_0x835167(0x47a),_0x393e07[_0x835167(0x1d8)]=_0x835167(0x645),_0x393e07[_0x835167(0x2ac)]='key-value-database-transaction-value-not-set',_0x393e07['LocalMediaStreamDoesNotExist']=_0x835167(0x35b),_0x393e07[_0x835167(0x4bf)]=_0x835167(0x264),_0x393e07[_0x835167(0x16d)]='missing-system-topic',_0x393e07[_0x835167(0x425)]=_0x835167(0x3c8),_0x393e07[_0x835167(0x702)]=_0x835167(0x5f2),_0x393e07[_0x835167(0x8e8)]=_0x835167(0x79e),_0x393e07['ObjectStoreInvalidSyncMessage']=_0x835167(0x6f8),_0x393e07[_0x835167(0x1fd)]=_0x835167(0x86e),_0x393e07['OutgoingMediaStreamNoTopic']='outgoing-stream-no-topic',_0x393e07[_0x835167(0x591)]=_0x835167(0x44e),_0x393e07['RemoteMediaStreamMissingProviderId']=_0x835167(0x5c8),_0x393e07[_0x835167(0x440)]=_0x835167(0x530),_0x393e07[_0x835167(0x2a8)]=_0x835167(0x9d5),_0x393e07['SubscriptionRequestFailed']='subscription-request-failed',_0x393e07[_0x835167(0x7ce)]=_0x835167(0x577),_0x393e07['NodeDoesNotExist']=_0x835167(0x334),_0x393e07[_0x835167(0x92d)]=_0x835167(0x87a),_0x393e07[_0x835167(0x603)]=_0x835167(0x6ab),_0x393e07[_0x835167(0x729)]=_0x835167(0x7fe),_0x393e07[_0x835167(0x45b)]=_0x835167(0x4b9),_0x393e07['WorkflowInvalidBlockType']=_0x835167(0x298);}(_0x33d698||(_0x33d698={}));const _0x339863=new Map([[_0x33d698[_0x4d9d4f(0x1f7)],_0x4d9d4f(0x45f)],[_0x33d698[_0x4d9d4f(0x627)],_0x4d9d4f(0x5a5)],[_0x33d698[_0x4d9d4f(0x2a5)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x33d698[_0x4d9d4f(0x1d5)],'Invalid\x20data\x20event.'],[_0x33d698[_0x4d9d4f(0x46e)],_0x4d9d4f(0x3e5)],[_0x33d698[_0x4d9d4f(0x33d)],'Generative\x20AI\x20context\x20invalid\x20partial\x20result.'],[_0x33d698[_0x4d9d4f(0x146)],_0x4d9d4f(0x3af)],[_0x33d698[_0x4d9d4f(0x752)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x33d698['GenerativeAIContextJobTimeout'],_0x4d9d4f(0x6b9)],[_0x33d698[_0x4d9d4f(0x46a)],'AI\x20worker\x20creation\x20failed.'],[_0x33d698[_0x4d9d4f(0x511)],_0x4d9d4f(0x30e)],[_0x33d698[_0x4d9d4f(0x8ed)],_0x4d9d4f(0x940)],[_0x33d698['InvalidPublisher'],_0x4d9d4f(0x7bb)],[_0x33d698[_0x4d9d4f(0x971)],_0x4d9d4f(0x3ac)],[_0x33d698[_0x4d9d4f(0x570)],'Invalid\x20subscription.'],[_0x33d698['JobDispatcherCreationFailed'],_0x4d9d4f(0x67d)],[_0x33d698['JobDispatcherInvalidPayload'],'Invalid\x20job\x20service\x20payload.'],[_0x33d698['JobDispatcherJobNotFound'],_0x4d9d4f(0x3fd)],[_0x33d698[_0x4d9d4f(0x42d)],_0x4d9d4f(0x656)],[_0x33d698['JobWorkerCreationFailed'],_0x4d9d4f(0x5f7)],[_0x33d698['JobWorkerInvalidType'],_0x4d9d4f(0x51a)],[_0x33d698[_0x4d9d4f(0x7e4)],_0x4d9d4f(0xac)],[_0x33d698[_0x4d9d4f(0x17a)],_0x4d9d4f(0x52f)],[_0x33d698['KeyValueDatabaseTableDoesNotExist'],_0x4d9d4f(0x1c3)],[_0x33d698[_0x4d9d4f(0x1d8)],'Key-value\x20database\x20transaction\x20table\x20not\x20initialized.'],[_0x33d698[_0x4d9d4f(0x2ac)],_0x4d9d4f(0x5db)],[_0x33d698[_0x4d9d4f(0x54d)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x33d698[_0x4d9d4f(0x4bf)],_0x4d9d4f(0x4f5)],[_0x33d698[_0x4d9d4f(0x16d)],_0x4d9d4f(0x57d)],[_0x33d698[_0x4d9d4f(0x425)],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x33d698[_0x4d9d4f(0x702)],'Cannot\x20write\x20transaction.'],[_0x33d698['ObjectStoreInvalidSyncMessage'],_0x4d9d4f(0x41d)],[_0x33d698[_0x4d9d4f(0x8e8)],'Invalid\x20object\x20store\x20state.'],[_0x33d698[_0x4d9d4f(0x1fd)],'Object\x20store\x20not\x20synced.'],[_0x33d698['OutgoingMediaStreamNoTopic'],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x33d698[_0x4d9d4f(0x591)],_0x4d9d4f(0x789)],[_0x33d698[_0x4d9d4f(0x9c8)],_0x4d9d4f(0x3d4)],[_0x33d698[_0x4d9d4f(0x440)],_0x4d9d4f(0x380)],[_0x33d698[_0x4d9d4f(0x2a8)],_0x4d9d4f(0x6e8)],[_0x33d698[_0x4d9d4f(0x918)],_0x4d9d4f(0x707)],[_0x33d698[_0x4d9d4f(0x7ce)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x33d698[_0x4d9d4f(0x448)],'Node\x20does\x20not\x20exist.'],[_0x33d698['NodeAlreadyExist'],_0x4d9d4f(0x51c)],[_0x33d698[_0x4d9d4f(0x603)],_0x4d9d4f(0x959)],[_0x33d698[_0x4d9d4f(0x729)],_0x4d9d4f(0x3fe)],[_0x33d698[_0x4d9d4f(0x45b)],'Workflow\x20does\x20not\x20exist.'],[_0x33d698[_0x4d9d4f(0x2ff)],_0x4d9d4f(0x2cd)]]);class _0x56b2e7 extends Error{[_0x4d9d4f(0x1c1)];static ['codes']=_0x33d698;[_0x4d9d4f(0x626)];constructor(_0x4fec1a,_0x4ed86c){const _0x3e3447=_0x4d9d4f;super('Internal\x20SDK\x20Error:\x20'+_0x4fec1a+':\x20'+_0x339863[_0x3e3447(0x29f)](_0x4fec1a)+_0x3e3447(0x290)+JSON[_0x3e3447(0x446)](_0x4ed86c)),this[_0x3e3447(0x1c1)]=_0x4fec1a,this[_0x3e3447(0x626)]=_0x4ed86c||{};}}var _0x2e4dcf,_0x1e1db7,_0x7b0c71,_0x43892d,_0x2158a3,_0x33dc65,_0x2ba96e;!function(_0x24287f){const _0xcf40b9=_0x4d9d4f;_0x24287f[_0x24287f['CloseGraphDatabase']=0x0]=_0xcf40b9(0x8ab),_0x24287f[_0x24287f[_0xcf40b9(0x9cc)]=0x1]=_0xcf40b9(0x9cc),_0x24287f[_0x24287f[_0xcf40b9(0xda)]=0x2]='CloseJobWorker',_0x24287f[_0x24287f['CloseExternalStorageConnection']=0x3]=_0xcf40b9(0x2e6),_0x24287f[_0x24287f['CloseKeyValueDatabase']=0x4]='CloseKeyValueDatabase',_0x24287f[_0x24287f[_0xcf40b9(0x2e4)]=0x5]='CloseMediaStream',_0x24287f[_0x24287f['CloseObjectStoreBucket']=0x6]=_0xcf40b9(0x50d),_0x24287f[_0x24287f[_0xcf40b9(0x88f)]=0x7]=_0xcf40b9(0x88f),_0x24287f[_0x24287f['CloseVectorDatabase']=0x8]=_0xcf40b9(0x37d),_0x24287f[_0x24287f[_0xcf40b9(0x7ae)]=0x9]=_0xcf40b9(0x7ae),_0x24287f[_0x24287f[_0xcf40b9(0x7e9)]=0xa]=_0xcf40b9(0x7e9),_0x24287f[_0x24287f['GenerativeAIWorkerStats']=0xb]=_0xcf40b9(0x215),_0x24287f[_0x24287f[_0xcf40b9(0x325)]=0xc]=_0xcf40b9(0x325),_0x24287f[_0x24287f[_0xcf40b9(0x634)]=0xd]='KeyValueDatabaseContentAvailable',_0x24287f[_0x24287f['KeyValueDatabaseContentSynchronized']=0xe]=_0xcf40b9(0xc7),_0x24287f[_0x24287f[_0xcf40b9(0x129)]=0xf]=_0xcf40b9(0x129),_0x24287f[_0x24287f[_0xcf40b9(0x438)]=0x10]='KeyValueDatabaseRequestTransactionsValue',_0x24287f[_0x24287f[_0xcf40b9(0x364)]=0x11]=_0xcf40b9(0x364),_0x24287f[_0x24287f[_0xcf40b9(0x359)]=0x12]=_0xcf40b9(0x359),_0x24287f[_0x24287f[_0xcf40b9(0x24b)]=0x13]=_0xcf40b9(0x24b),_0x24287f[_0x24287f['LocalMediaStreamTrackFail']=0x14]=_0xcf40b9(0x416),_0x24287f[_0x24287f[_0xcf40b9(0x3f0)]=0x15]=_0xcf40b9(0x3f0),_0x24287f[_0x24287f[_0xcf40b9(0x153)]=0x16]=_0xcf40b9(0x153),_0x24287f[_0x24287f[_0xcf40b9(0x98d)]=0x17]=_0xcf40b9(0x98d),_0x24287f[_0x24287f['RemoteMediaStreamTrackFail']=0x18]=_0xcf40b9(0x1ff),_0x24287f[_0x24287f[_0xcf40b9(0x3f5)]=0x19]=_0xcf40b9(0x3f5),_0x24287f[_0x24287f[_0xcf40b9(0x8ee)]=0x1a]=_0xcf40b9(0x8ee),_0x24287f[_0x24287f[_0xcf40b9(0x2ba)]=0x1b]=_0xcf40b9(0x2ba),_0x24287f[_0x24287f[_0xcf40b9(0x419)]=0x1c]='UpdateMediaStream',_0x24287f[_0x24287f[_0xcf40b9(0x4b2)]=0x1d]='VectorDatabaseStats';}(_0x2e4dcf||(_0x2e4dcf={})),function(_0x4f0add){const _0x84a85f=_0x4d9d4f;_0x4f0add['FileWrite']=_0x84a85f(0x2e7),_0x4f0add[_0x84a85f(0x953)]=_0x84a85f(0x133),_0x4f0add[_0x84a85f(0x945)]=_0x84a85f(0x465),_0x4f0add[_0x84a85f(0x4f4)]=_0x84a85f(0x9da),_0x4f0add[_0x84a85f(0x103)]=_0x84a85f(0x26a),_0x4f0add[_0x84a85f(0x37f)]='request-accepted',_0x4f0add[_0x84a85f(0x735)]=_0x84a85f(0x944),_0x4f0add[_0x84a85f(0x411)]=_0x84a85f(0x174);}(_0x1e1db7||(_0x1e1db7={})),function(_0x2c184f){const _0x52e034=_0x4d9d4f;_0x2c184f[_0x52e034(0x835)]=_0x52e034(0x9ec),_0x2c184f[_0x52e034(0x4f0)]=_0x52e034(0x551);}(_0x7b0c71||(_0x7b0c71={})),function(_0x5d3c5b){const _0x3e0029=_0x4d9d4f;_0x5d3c5b[_0x3e0029(0x7e2)]=_0x3e0029(0x9d2),_0x5d3c5b[_0x3e0029(0x912)]=_0x3e0029(0x1e8),_0x5d3c5b[_0x3e0029(0x945)]=_0x3e0029(0x465);}(_0x43892d||(_0x43892d={})),function(_0x5cd7ac){const _0x48b143=_0x4d9d4f;_0x5cd7ac[_0x48b143(0x9a4)]=_0x48b143(0x29f),_0x5cd7ac[_0x48b143(0x3a4)]=_0x48b143(0x710),_0x5cd7ac[_0x48b143(0x4e2)]=_0x48b143(0x9df);}(_0x2158a3||(_0x2158a3={})),function(_0x20d1df){const _0x1973d8=_0x4d9d4f;_0x20d1df[_0x20d1df[_0x1973d8(0x835)]=0x0]=_0x1973d8(0x835),_0x20d1df[_0x20d1df[_0x1973d8(0x727)]=0x1]=_0x1973d8(0x727),_0x20d1df[_0x20d1df[_0x1973d8(0x9c5)]=0x2]=_0x1973d8(0x9c5),_0x20d1df[_0x20d1df['PartialResult']=0x3]=_0x1973d8(0x65d),_0x20d1df[_0x20d1df[_0x1973d8(0x59e)]=0x4]=_0x1973d8(0x59e),_0x20d1df[_0x20d1df[_0x1973d8(0x1f6)]=0x5]=_0x1973d8(0x1f6);}(_0x33dc65||(_0x33dc65={})),function(_0x6597fd){const _0xec2efc=_0x4d9d4f;_0x6597fd[_0x6597fd[_0xec2efc(0x60c)]=0x0]=_0xec2efc(0x60c),_0x6597fd[_0x6597fd[_0xec2efc(0x7e7)]=0x1]='Node',_0x6597fd[_0x6597fd['Content']=0x2]='Content',_0x6597fd[_0x6597fd[_0xec2efc(0x560)]=0x3]='Subscription',_0x6597fd[_0x6597fd[_0xec2efc(0x5bb)]=0x4]=_0xec2efc(0x5bb),_0x6597fd[_0x6597fd[_0xec2efc(0x989)]=0x5]=_0xec2efc(0x989),_0x6597fd[_0x6597fd[_0xec2efc(0x92a)]=0x6]='Remediation';}(_0x2ba96e||(_0x2ba96e={}));class _0x1b2132{[_0x4d9d4f(0x753)];['label'];[_0x4d9d4f(0x26f)];constructor(_0x404e0d,_0x24bcfe){const _0x383760=_0x4d9d4f;this[_0x383760(0x753)]=_0x404e0d,this[_0x383760(0x5da)]=_0x24bcfe;}[_0x4d9d4f(0x502)](){const _0x2e0636=_0x4d9d4f;return this[_0x2e0636(0x5da)];}[_0x4d9d4f(0x38b)](){const _0x420d55=_0x4d9d4f;return this[_0x420d55(0x753)][_0x420d55(0x9a5)]();}[_0x4d9d4f(0x6ef)](){}[_0x4d9d4f(0xe7)](_0x1c19ec){const _0x407b94=_0x4d9d4f;this[_0x407b94(0x26f)]=_0x1c19ec;}[_0x4d9d4f(0x2bc)](){const _0x253e0e=_0x4d9d4f;delete this[_0x253e0e(0x26f)];}}const _0xaa5d3=require('firebase/firestore');let _0x47fc89=_0x25cf9f(0x14d)['O'];function _0x419bec(_0x5e683c){const _0x3daed5=_0x4d9d4f;return!(!_0x5e683c||'object'!=typeof _0x5e683c||Array[_0x3daed5(0x630)](_0x5e683c));}_0x47fc89=function _0x342dad(_0x86b13f,..._0x445a4d){const _0x95aecf=_0x4d9d4f;if(!Array['isArray'](_0x445a4d)||0x0===_0x445a4d['length'])return _0x86b13f;const _0x3d981d=_0x445a4d[_0x95aecf(0x124)]();if(_0x419bec(_0x86b13f)&&_0x419bec(_0x3d981d)){for(const _0x15a5ea in _0x3d981d)_0x419bec(_0x3d981d[_0x15a5ea])?(_0x86b13f[_0x15a5ea]||Object[_0x95aecf(0x3d1)](_0x86b13f,{[_0x15a5ea]:{}}),_0x342dad(_0x86b13f[_0x15a5ea],_0x3d981d[_0x15a5ea])):Object['assign'](_0x86b13f,{[_0x15a5ea]:_0x3d981d[_0x15a5ea]});}return _0x342dad(_0x86b13f,..._0x445a4d);}(_0x47fc89,_0x25cf9f(0x3e6)['O']);const _0x10b302=_0x47fc89,_0x53eee5=require('firebase/app'),_0x378081=require('firebase/auth'),_0x2d658e=require('firebase/database'),_0x3a8360=require('firebase/functions'),_0x4246fa=require('uuid'),_0xa6e887=_0x4d9d4f(0x822);class _0x4ebc97{static [_0x4d9d4f(0x451)];[_0x4d9d4f(0x21b)];[_0x4d9d4f(0x128)];[_0x4d9d4f(0x7ee)];[_0x4d9d4f(0x84f)];[_0x4d9d4f(0x2c4)];['clockSkew'];['lastClockUpdate'];constructor(){const _0x4ba240=_0x4d9d4f;this[_0x4ba240(0x8d2)]();}static[_0x4d9d4f(0x893)](){const _0x5f2728=_0x4d9d4f;return _0x4ebc97['instance']||(_0x4ebc97['instance']=new _0x4ebc97()),_0x4ebc97[_0x5f2728(0x451)];}[_0x4d9d4f(0x8d2)](){const _0x15eeb3=_0x4d9d4f;if(!this[_0x15eeb3(0x21b)]){let _0x4d5dcb=_0xa6e887;_0x15eeb3(0x9d0)!=typeof window&&(_0x4d5dcb=_0xa6e887+'-'+(0x0,_0x4246fa['v4'])()),this[_0x15eeb3(0x21b)]=(0x0,_0x53eee5[_0x15eeb3(0x64f)])(_0x10b302[_0x15eeb3(0x782)],''+_0x4d5dcb);}return this[_0x15eeb3(0x21b)];}['getAuth'](){const _0x893142=_0x4d9d4f;return this[_0x893142(0x128)]||(this['auth']=(0x0,_0x378081[_0x893142(0x97f)])(this[_0x893142(0x8d2)]())),this[_0x893142(0x128)];}[_0x4d9d4f(0x30f)](){const _0x2e2974=_0x4d9d4f;return this['functions']||(this[_0x2e2974(0x7ee)]=(0x0,_0x3a8360['getFunctions'])(this[_0x2e2974(0x8d2)](),_0x10b302['firebaseConfig'][_0x2e2974(0x8f2)])),this['functions'];}[_0x4d9d4f(0x45a)](){const _0x1d4ac6=_0x4d9d4f;return this[_0x1d4ac6(0x84f)]||(this[_0x1d4ac6(0x84f)]=(0x0,_0x2d658e['getDatabase'])(this[_0x1d4ac6(0x8d2)]())),this[_0x1d4ac6(0x84f)];}[_0x4d9d4f(0x83a)](){const _0x22b3ec=_0x4d9d4f;return this[_0x22b3ec(0x2c4)]||(this[_0x22b3ec(0x2c4)]=(0x0,_0xaa5d3['getFirestore'])(this['getApp']())),this[_0x22b3ec(0x2c4)];}async[_0x4d9d4f(0x977)](){const _0x335ee2=_0x4d9d4f;if(this[_0x335ee2(0x2e3)]&&this[_0x335ee2(0x62b)]&&Date[_0x335ee2(0x873)]()-this['lastClockUpdate']<0x493e0)return Date[_0x335ee2(0x873)]()+this[_0x335ee2(0x2e3)];const _0x30e528=this[_0x335ee2(0x45a)](),_0x31ee37=(0x0,_0x2d658e['ref'])(_0x30e528,_0x335ee2(0x16b));return new Promise(_0xe418=>{const _0x36ced2=_0x335ee2;(0x0,_0x2d658e[_0x36ced2(0x5be)])(_0x31ee37,_0x129693=>{const _0x201182=_0x36ced2;(0x0,_0x2d658e[_0x201182(0x931)])(_0x31ee37),this[_0x201182(0x2e3)]=_0x129693[_0x201182(0x9bf)](),this['lastClockUpdate']=Date[_0x201182(0x873)](),_0xe418(Date[_0x201182(0x873)]()+(this['clockSkew']??0x0));});});}}const _0x1f3417=_0x4ebc97[_0x4d9d4f(0x893)]();class _0x1ff962{static [_0x4d9d4f(0x451)];['enabledChannels']=[_0x1a98bf['Default']];[_0x4d9d4f(0x4a3)]=!0x1;[_0x4d9d4f(0x20b)];[_0x4d9d4f(0x4e6)]='';['globalObject'];[_0x4d9d4f(0x72d)]=[];[_0x4d9d4f(0x21f)];[_0x4d9d4f(0x2df)];['retryLimit']=0xa;[_0x4d9d4f(0x8cb)]=0x1f4;[_0x4d9d4f(0x8de)]=0x1c2;[_0x4d9d4f(0x40f)]=0x3e8;constructor(){const _0x5e862b=_0x4d9d4f;if(_0x5e862b(0x9d0)!=typeof window)this[_0x5e862b(0x53a)]=window;else{if(void 0x0===_0x25cf9f['g'])throw new Error(_0x5e862b(0x8cf));this[_0x5e862b(0x53a)]=_0x25cf9f['g'];}this['loadEnabledChannels'](),this[_0x5e862b(0x53a)][_0x5e862b(0xc3)]=_0x2a8d04=>{const _0x4569f4=_0x5e862b;if(_0x2a8d04===_0x1a98bf['All'])return this['enabledChannels']=Object[_0x4569f4(0x224)](_0x1a98bf)[_0x4569f4(0x473)](_0x1dc88c=>_0x1a98bf[_0x1dc88c]),void Object[_0x4569f4(0x224)](_0x1a98bf)[_0x4569f4(0x1dc)](_0x1ac376=>{const _0x50c611=_0x4569f4,_0x22e82a=_0x1ac376;localStorage[_0x50c611(0x97b)]('crewdle-sdk-logging-'+_0x1a98bf[_0x22e82a],_0x50c611(0x3c2));});this[_0x4569f4(0x532)][_0x4569f4(0x766)](_0x2a8d04)||(this['enabledChannels'][_0x4569f4(0x9e2)](_0x2a8d04),localStorage[_0x4569f4(0x97b)](_0x4569f4(0x599)+_0x2a8d04,_0x4569f4(0x3c2)));},this['globalObject']['crewdleSDKDisableLogging']=_0x5aa588=>{const _0x3f8ae9=_0x5e862b;if(!_0x5aa588||_0x5aa588===_0x1a98bf[_0x3f8ae9(0xb9)])return this['enabledChannels']=[],void Object[_0x3f8ae9(0x224)](_0x1a98bf)[_0x3f8ae9(0x1dc)](_0x13e129=>{const _0x98e128=_0x3f8ae9,_0xea087a=_0x13e129;localStorage[_0x98e128(0x65e)](_0x98e128(0x599)+_0x1a98bf[_0xea087a]);});this[_0x3f8ae9(0x532)][_0x3f8ae9(0x766)](_0x5aa588)&&(this[_0x3f8ae9(0x532)]=this[_0x3f8ae9(0x532)][_0x3f8ae9(0x64c)](_0x4d11bd=>_0x4d11bd!==_0x5aa588),localStorage[_0x3f8ae9(0x65e)](_0x3f8ae9(0x599)+_0x5aa588));},this['globalObject'][_0x5e862b(0x294)]=_0x1a98bf;}static[_0x4d9d4f(0x893)](){const _0x4bed06=_0x4d9d4f;try{return _0x1ff962[_0x4bed06(0x451)]||(_0x1ff962[_0x4bed06(0x451)]=new _0x1ff962()),_0x1ff962[_0x4bed06(0x451)];}catch(_0x4396bb){return console[_0x4bed06(0x716)]('Logger.getInstance',_0x4396bb),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x527929){const _0x24da78=_0x4d9d4f;this['vendorId']=_0x527929,this[_0x24da78(0x72d)]=[],this[_0x24da78(0x21f)]=this[_0x24da78(0x625)](),this[_0x24da78(0x2df)]&&(clearTimeout(this['batchTimeout']),this[_0x24da78(0x2df)]=void 0x0);}[_0x4d9d4f(0x884)](_0x369c7e){const _0x67806b=_0x4d9d4f;this[_0x67806b(0x20b)]=_0x369c7e;}[_0x4d9d4f(0x7dc)](_0x5150ac,..._0x3bf845){const _0x2b6822=_0x4d9d4f;this[_0x2b6822(0x4a3)]&&this[_0x2b6822(0x5ad)](_0x1a98bf['Default'],_0x2b6822(0x618)+_0x5150ac,..._0x3bf845);}[_0x4d9d4f(0x2dd)](_0x30f0d0,..._0x3686d6){const _0x1dbb4c=_0x4d9d4f;console['log'](_0x30f0d0,..._0x3686d6),this['loggingConnectors']&&this[_0x1dbb4c(0x20b)]['forEach'](_0x32d0ee=>{const _0x19e9a1=_0x1dbb4c;_0x32d0ee[_0x19e9a1(0x5ad)](_0x30f0d0,{'vendorId':this[_0x19e9a1(0x4e6)],'nodeId':'','nodeType':'','data':{..._0x3686d6}});});}['log'](_0x26666f,_0x5df04b,..._0x46877e){const _0x432c60=_0x4d9d4f;_0x10b302[_0x432c60(0x649)]||(this[_0x432c60(0x532)][_0x432c60(0x766)](_0x26666f)&&console[_0x432c60(0x5ad)]('Channel\x20\x27'+_0x26666f+'\x27\x0a',new Date()+'\x0a',_0x5df04b,..._0x46877e),this[_0x432c60(0x20b)]&&this[_0x432c60(0x20b)][_0x432c60(0x1dc)](_0x10e9d7=>{const _0x5466d9=_0x432c60;this[_0x5466d9(0x790)](_0x10e9d7)&&_0x10e9d7[_0x5466d9(0x1de)]()[_0x5466d9(0x766)](_0x26666f)&&_0x10e9d7['log'](_0x5df04b,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x26666f,..._0x46877e}});}));}[_0x4d9d4f(0x8a5)](_0x199ff5,_0xf4568f,..._0x143409){const _0x59a2e4=_0x4d9d4f;_0x10b302[_0x59a2e4(0x649)]||(this[_0x59a2e4(0x532)][_0x59a2e4(0x766)](_0x199ff5)&&console['log'](_0xf4568f,..._0x143409),this[_0x59a2e4(0x20b)]&&this[_0x59a2e4(0x20b)]['forEach'](_0x4e5fcb=>{const _0x14a766=_0x59a2e4;this[_0x14a766(0x790)](_0x4e5fcb)&&_0x4e5fcb[_0x14a766(0x1de)]()[_0x14a766(0x766)](_0x199ff5)&&_0x4e5fcb[_0x14a766(0x5ad)](_0xf4568f,{'vendorId':this[_0x14a766(0x4e6)],'nodeId':'','nodeType':'','data':{'channel':_0x199ff5,..._0x143409}});}));}[_0x4d9d4f(0x297)](_0x409a4b,_0x156e35){const _0x60dc5f=_0x4d9d4f;if(!this[_0x60dc5f(0x20b)])return;const _0x20e2a2={'vendorId':this[_0x60dc5f(0x4e6)],..._0x156e35};this[_0x60dc5f(0x20b)]['forEach'](_0x234688=>{const _0x2c16d4=_0x60dc5f;_0x234688[_0x2c16d4(0x5ad)](_0x409a4b,_0x20e2a2);});}[_0x4d9d4f(0x687)](_0x57b546,_0x12e950){this['createBatchOperation'](_0x57b546,_0x12e950),this['logBatch']();}[_0x4d9d4f(0x778)](_0x3deade,_0x400fe6,_0x39800a){const _0x335fa1=_0x4d9d4f;(0x0,_0xaa5d3[_0x335fa1(0x764)])((0x0,_0xaa5d3[_0x335fa1(0x7c9)])(_0x1f3417[_0x335fa1(0x83a)](),_0x335fa1(0x4d1)+this['vendorId']+'/'+_0x3deade+'/'+_0x400fe6),{'storage':_0x39800a,'timestamp':(0x0,_0xaa5d3['serverTimestamp'])()});}['logBatch'](){const _0x1d29a5=_0x4d9d4f;this[_0x1d29a5(0x21f)]&&(this[_0x1d29a5(0x21f)][_0x1d29a5(0x64b)]+=0x1,this[_0x1d29a5(0x21f)][_0x1d29a5(0x64b)]===this[_0x1d29a5(0x8de)]?this[_0x1d29a5(0x883)]():this[_0x1d29a5(0x2df)]||(this[_0x1d29a5(0x2df)]=this[_0x1d29a5(0x53a)]['setTimeout'](()=>this[_0x1d29a5(0x883)](),this[_0x1d29a5(0x40f)])));}async[_0x4d9d4f(0x883)](){const _0x48b104=_0x4d9d4f;if(this[_0x48b104(0x21f)]){for(this[_0x48b104(0x72d)][_0x48b104(0x9e2)](this[_0x48b104(0x21f)]),this[_0x48b104(0x21f)]=this['createNewBatch']();this['batchQueue']['length']>0x0;){const _0xf6bcea=this['batchQueue']['shift']();if(!await this[_0x48b104(0x4fc)](_0xf6bcea))break;}clearTimeout(this[_0x48b104(0x2df)]),this[_0x48b104(0x2df)]=void 0x0;}}[_0x4d9d4f(0x716)](_0x12b9a9,_0x2d58a9,..._0x1c3330){const _0x517f8b=_0x4d9d4f;if(console['error'](new Date(),_0x12b9a9,_0x2d58a9,..._0x1c3330),this[_0x517f8b(0x20b)]){const _0x14a1d2={'vendorId':this[_0x517f8b(0x4e6)],..._0x2d58a9};this[_0x517f8b(0x20b)][_0x517f8b(0x1dc)](_0x10ef62=>{_0x10ef62['error'](_0x12b9a9,_0x14a1d2);});}}[_0x4d9d4f(0xd0)](_0x4e11a3,_0x38db17,..._0x9d3cf){const _0x3fd035=_0x4d9d4f;if(console[_0x3fd035(0x8be)](new Date(),_0x4e11a3,_0x38db17,_0x9d3cf),this[_0x3fd035(0x20b)]){const _0x106180={'vendorId':this[_0x3fd035(0x4e6)],..._0x38db17};this['loggingConnectors']['forEach'](_0x2afe07=>{const _0x48f6e0=_0x3fd035;_0x2afe07[_0x48f6e0(0x8be)](_0x4e11a3,_0x106180);});}}[_0x4d9d4f(0x164)](_0x124b96){const _0x2cbf07=_0x4d9d4f;return this[_0x2cbf07(0x532)]['includes'](_0x124b96);}async[_0x4d9d4f(0x4fc)](_0x621087,_0x12459e=0x0){const _0x2662c3=_0x4d9d4f;if(_0x621087[_0x2662c3(0x64b)]>0x0)try{return await _0x621087[_0x2662c3(0x111)][_0x2662c3(0x32c)](),!0x0;}catch(_0x493e0f){if(console[_0x2662c3(0x716)](_0x2662c3(0x21a),_0x493e0f,_0x2662c3(0x21e),_0x621087[_0x2662c3(0x50c)]),!(_0x12459e<this[_0x2662c3(0x404)])){const {nodeId:_0x32ceea='',nodeType:_0x221e43='',clusterId:_0x46c5a4=''}=_0x621087['operations'][0x0][_0x2662c3(0x626)],_0x11e958={'nodeId':_0x32ceea,'nodeType':_0x221e43,'clusterId':_0x46c5a4,'data':{'operations':_0x621087[_0x2662c3(0x50c)],'error':_0x493e0f}};return this[_0x2662c3(0x716)](_0x2662c3(0x856),_0x11e958),!0x1;}{const _0x154ebc=this[_0x2662c3(0x5b6)](_0x621087[_0x2662c3(0x50c)]);setTimeout(()=>this['commitBatch'](_0x154ebc,_0x12459e+0x1),this[_0x2662c3(0x8cb)]*Math[_0x2662c3(0x705)](0x2,_0x12459e));}}}[_0x4d9d4f(0x4ce)](){const _0x1632ef=_0x4d9d4f;try{Object['keys'](_0x1a98bf)[_0x1632ef(0x1dc)](_0x396b47=>{const _0x267a85=_0x1632ef,_0x28db2a=_0x396b47;localStorage[_0x267a85(0x836)]('crewdle-sdk-logging-'+_0x1a98bf[_0x28db2a])&&(console[_0x267a85(0x5ad)](_0x267a85(0x932),_0x1a98bf[_0x28db2a]),this['enabledChannels'][_0x267a85(0x9e2)](_0x1a98bf[_0x28db2a]));});}catch(_0x1d68fe){}}['isInternalLoggingConnector'](_0x38139f){return void 0x0!==_0x38139f['getEnabledChannels'];}[_0x4d9d4f(0x625)](){const _0x304a73=_0x4d9d4f;return{'batch':(0x0,_0xaa5d3['writeBatch'])(_0x1f3417[_0x304a73(0x83a)]()),'operations':[],'counter':0x0};}[_0x4d9d4f(0x5b6)](_0x435f46){const _0x4e967e=_0x4d9d4f,_0x1ec630=(0x0,_0xaa5d3[_0x4e967e(0x9bd)])(_0x1f3417[_0x4e967e(0x83a)]());return _0x435f46['forEach'](_0x375e44=>this[_0x4e967e(0x8da)](_0x1ec630,_0x375e44)),{'batch':_0x1ec630,'operations':_0x435f46,'counter':_0x435f46[_0x4e967e(0x99a)]};}[_0x4d9d4f(0x8da)](_0x4c5c21,_0x164650){const _0x14ccfa=_0x4d9d4f;switch(_0x164650[_0x14ccfa(0x506)]){case _0x14ccfa(0xcd):_0x4c5c21[_0x14ccfa(0xcd)](_0x164650[_0x14ccfa(0x479)],_0x164650['data']);break;case _0x14ccfa(0x1e8):_0x4c5c21[_0x14ccfa(0x1e8)](_0x164650[_0x14ccfa(0x479)],_0x164650[_0x14ccfa(0x626)]);break;case'delete':_0x4c5c21[_0x14ccfa(0x465)](_0x164650[_0x14ccfa(0x479)]);}}['createBatchOperation'](_0x461916,_0x59f43c){const _0x1528c8=_0x4d9d4f;this[_0x1528c8(0x21f)]||(this[_0x1528c8(0x21f)]=this['createNewBatch']());const _0x1de4d6=(0x0,_0xaa5d3['doc'])((0x0,_0xaa5d3[_0x1528c8(0x6da)])(_0x1f3417[_0x1528c8(0x83a)](),'developers/'+this['vendorId']+_0x1528c8(0x939))),_0x2ae6a1={..._0x59f43c,'service':_0x461916,'timestamp':(0x0,_0xaa5d3[_0x1528c8(0x5f8)])()},_0x14f8ef={'type':_0x1528c8(0xcd),'path':_0x1de4d6[_0x1528c8(0x240)],'ref':_0x1de4d6,'data':_0x2ae6a1};return this[_0x1528c8(0x21f)][_0x1528c8(0x50c)][_0x1528c8(0x9e2)](_0x14f8ef),this[_0x1528c8(0x8da)](this[_0x1528c8(0x21f)][_0x1528c8(0x111)],_0x14f8ef),_0x1de4d6;}}const _0x2644bc=_0x1ff962['getInstance']();function _0x5d4b5a(_0x3f1c33,_0x40d9f2){return'/'===_0x3f1c33?_0x3f1c33+_0x40d9f2:_0x3f1c33+'/'+_0x40d9f2;}function _0x291b00(_0x323521){const _0x148e32=_0x4d9d4f,_0x2906fe=function(_0x18a715){const _0x57f452=a0_0x1399;return _0x18a715[_0x57f452(0xaf)]('/')['filter'](_0x56dc53=>_0x56dc53['length']>0x0);}(_0x323521),_0x455371=_0x2906fe['pop']()||'',_0x478a08=_0x2906fe['join']('/');return[0x0===_0x478a08[_0x148e32(0x99a)]?'/':_0x478a08,_0x455371];}async function _0x2142a9(_0x4f42c8){const _0xcd1731=_0x4d9d4f;let _0x431e86;const _0x4f1536=_0x4f42c8['size']/0x100000;_0x431e86=_0x4f1536<=0xa?0x1:_0x4f1536<=0x64?0.5:_0x4f1536<=0x1f4?0.1:0.05;const _0xbfa272=Math[_0xcd1731(0x21c)](_0x4f42c8['size']/_0x8dd596),_0x1e3c3a=Math[_0xcd1731(0x21c)](_0xbfa272*_0x431e86);let _0x2c30c8=new Uint8Array();for(let _0x1bb613=0x0;_0x1bb613<_0x1e3c3a;_0x1bb613++){const _0x837aaa=Math[_0xcd1731(0x194)](_0x1bb613/_0x1e3c3a*_0x4f42c8[_0xcd1731(0x573)]);let _0x1748d8=_0x837aaa+_0x8dd596;_0x1748d8>_0x4f42c8[_0xcd1731(0x573)]&&(_0x1748d8=_0x4f42c8['size']);const _0xfd28=_0x4f42c8[_0xcd1731(0x5fe)](_0x837aaa,_0x1748d8),_0x5cb759=await _0xfd28[_0xcd1731(0x583)](),_0x1d8f18=new Uint8Array([..._0x2c30c8,...new Uint8Array(_0x5cb759)]);_0x2c30c8=new Uint8Array(await crypto[_0xcd1731(0x606)][_0xcd1731(0x936)](_0xcd1731(0x2b0),_0x1d8f18));}return Array[_0xcd1731(0x376)](new Uint8Array(_0x2c30c8))['map'](_0x53191a=>_0x53191a['toString'](0x10)[_0xcd1731(0x36b)](0x2,'0'))[_0xcd1731(0x6de)]('');}async function*_0xbacd86(_0x4826c0,_0x3a8b62=0x0,_0x14acad){const _0x4658cc=_0x4d9d4f;let _0x64aaf8=_0x3a8b62*_0x681e57,_0x59cd2f=_0x4826c0;for(;_0x64aaf8<_0x59cd2f[_0x4658cc(0x573)];){let _0x31a9e1=_0x64aaf8+_0x681e57;_0x31a9e1>_0x59cd2f[_0x4658cc(0x573)]&&(_0x31a9e1=_0x59cd2f[_0x4658cc(0x573)]);let _0xf025af=0x0;for(;_0xf025af<0x14;)try{await _0x14acad?.();const _0x19b096=_0x59cd2f[_0x4658cc(0x5fe)](_0x64aaf8,_0x31a9e1,_0x4658cc(0x47d)),_0x5251f5=await _0x19b096[_0x4658cc(0x583)]();yield _0x5251f5,_0x64aaf8=_0x31a9e1,await new Promise(_0x497e36=>setTimeout(_0x497e36,0x0));break;}catch(_0x5df33b){if(console[_0x4658cc(0x716)](_0x4658cc(0x8e0)+(_0xf025af+0x1)+_0x4658cc(0x239),_0x5df33b),_0xf025af++,_0xf025af>0x14)throw _0x5df33b;let _0xaf9b2e=0x3e8*Math[_0x4658cc(0x705)](0x2,_0xf025af);_0xaf9b2e>0x7530&&(_0xaf9b2e=0x7530),await new Promise(_0x32e5f4=>setTimeout(_0x32e5f4,_0xaf9b2e));}}}class _0x5b0910 extends _0x1b2132{[_0x4d9d4f(0x57b)];[_0x4d9d4f(0x71f)];[_0x4d9d4f(0x9e6)]=new Map();[_0x4d9d4f(0x9c7)]=0x0;['messagesReceived']=0x0;[_0x4d9d4f(0x1d1)]=0x0;[_0x4d9d4f(0x365)]=0x0;constructor(_0x372606,_0x5be6d3){super(_0x372606,_0x5be6d3);}[_0x4d9d4f(0x502)](){const _0x3cddff=_0x4d9d4f;return this[_0x3cddff(0x5da)];}[_0x4d9d4f(0xe6)](){return this['label'];}[_0x4d9d4f(0x24e)](){const _0x57cc5f=_0x4d9d4f;return _0x2477c2[_0x57cc5f(0x61d)][_0x57cc5f(0x1e9)];}[_0x4d9d4f(0x176)](){const _0x41f91d=_0x4d9d4f;return this[_0x41f91d(0x5da)];}[_0x4d9d4f(0x15d)](_0x2d2bc9){const _0x32eb4f=_0x4d9d4f;if(this[_0x32eb4f(0x57b)])throw new _0x56b2e7(_0x56b2e7[_0x32eb4f(0x90b)][_0x32eb4f(0x75c)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x32eb4f(0x753)][_0x32eb4f(0x9a5)]()+'\x20-\x20'+this['label'],'topic':this[_0x32eb4f(0x57b)]});this['outgoingTopic']=_0x2d2bc9;}[_0x4d9d4f(0x7aa)](_0x24d6dd){const _0x3b7bc9=_0x4d9d4f;if(this['incomingTopic'])throw new _0x56b2e7(_0x56b2e7[_0x3b7bc9(0x90b)][_0x3b7bc9(0x971)],{'message':_0x3b7bc9(0xee)+this[_0x3b7bc9(0x753)][_0x3b7bc9(0x9a5)]()+_0x3b7bc9(0x445)+this[_0x3b7bc9(0x5da)],'topic':this['incomingTopic']});this[_0x3b7bc9(0x71f)]=_0x24d6dd;}[_0x4d9d4f(0xb7)](){const _0x34ae92=_0x4d9d4f;delete this[_0x34ae92(0x57b)];}[_0x4d9d4f(0x38f)](){delete this['incomingTopic'];}async[_0x4d9d4f(0x784)](_0x126bc5,_0x36f90f){const _0x3e1d88=_0x4d9d4f;if(_0x2644bc['log'](_0x1a98bf[_0x3e1d88(0x8df)],'DataStream\x20send',this[_0x3e1d88(0x753)][_0x3e1d88(0x9a5)](),_0x126bc5,_0x36f90f),this[_0x3e1d88(0x9c7)]+=0x1,_0x126bc5 instanceof File){const _0x16349f=await async function(_0x54a6bf){const _0x14d058=[];for await(const _0x2d07b1 of _0xbacd86(_0x54a6bf))_0x14d058['push'](_0x2d07b1);return _0x14d058;}(_0x126bc5);return this[_0x3e1d88(0x1d1)]+=_0x16349f[_0x3e1d88(0x9a6)]((_0xb38319,_0x3f7944)=>_0xb38319+_0x3f7944[_0x3e1d88(0x578)],0x0),void _0x16349f[_0x3e1d88(0x1dc)]((_0x2ed710,_0x3ed041)=>{const _0x177e5d=_0x3e1d88;this['outgoingTopic'][_0x177e5d(0x817)]({'sourceId':this[_0x177e5d(0x753)][_0x177e5d(0x9a5)](),'destinationIds':_0x36f90f,'propagate':!0x0,'contentType':_0x2477c2[_0x177e5d(0x61d)][_0x177e5d(0x2b8)],'content':{'name':_0x126bc5[_0x177e5d(0x697)],'type':_0x126bc5['type'],'data':_0x2ed710,'index':_0x3ed041,'total':_0x16349f[_0x177e5d(0x99a)]}});});}this[_0x3e1d88(0x1d1)]+=JSON['stringify'](_0x126bc5)[_0x3e1d88(0x99a)],this['outgoingTopic'][_0x3e1d88(0x817)]({'sourceId':this[_0x3e1d88(0x753)][_0x3e1d88(0x9a5)](),'destinationIds':_0x36f90f,'propagate':!0x0,'contentType':_0x2477c2[_0x3e1d88(0x61d)][_0x3e1d88(0x1e9)],'content':_0x126bc5});}[_0x4d9d4f(0x4f2)](_0x136b09){const _0x8bb54e=_0x4d9d4f;return this['incomingTopic'][_0x8bb54e(0x3dd)](_0x333462=>{const _0x4f377c=_0x8bb54e;switch(_0x2644bc['log'](_0x1a98bf['DataStream'],_0x4f377c(0x185),this[_0x4f377c(0x753)][_0x4f377c(0x9a5)](),_0x333462),_0x333462['contentType']){case _0x2477c2[_0x4f377c(0x61d)][_0x4f377c(0x1e9)]:this[_0x4f377c(0x43d)]+=0x1,this[_0x4f377c(0x365)]+=JSON[_0x4f377c(0x446)](_0x333462[_0x4f377c(0x108)])[_0x4f377c(0x99a)],_0x136b09(_0x333462[_0x4f377c(0x68c)],_0x333462[_0x4f377c(0x108)]);break;case _0x2477c2[_0x4f377c(0x61d)][_0x4f377c(0x2b8)]:this[_0x4f377c(0x9e6)][_0x4f377c(0x8dd)](_0x333462[_0x4f377c(0x108)][_0x4f377c(0x697)])||this[_0x4f377c(0x9e6)][_0x4f377c(0xcd)](_0x333462[_0x4f377c(0x108)][_0x4f377c(0x697)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x539f12=this[_0x4f377c(0x9e6)][_0x4f377c(0x29f)](_0x333462['content'][_0x4f377c(0x697)]);if(_0x539f12['chunksReceived']+=0x1,_0x539f12[_0x4f377c(0x365)]+=_0x333462[_0x4f377c(0x108)][_0x4f377c(0x626)]['byteLength'],_0x539f12['content']&&(_0x539f12['content'][_0x333462[_0x4f377c(0x108)][_0x4f377c(0x361)]]=_0x333462[_0x4f377c(0x108)]['data']),this[_0x4f377c(0x9e6)]['set'](_0x333462['content'][_0x4f377c(0x697)],_0x539f12),_0x539f12[_0x4f377c(0x704)]+0x1<_0x333462[_0x4f377c(0x108)]['total'])return;this[_0x4f377c(0x43d)]+=0x1,this[_0x4f377c(0x365)]+=_0x539f12[_0x4f377c(0x365)],_0x539f12['content']&&_0x136b09(_0x333462[_0x4f377c(0x68c)],(_0x21e347=_0x539f12['content'],_0xa29f12=_0x333462[_0x4f377c(0x108)][_0x4f377c(0x697)],_0x57f615=_0x333462['content']['type'],new File(_0x21e347,_0xa29f12,{'type':_0x57f615}))),this['fileChunks'][_0x4f377c(0x465)](_0x333462['content'][_0x4f377c(0x697)]);}var _0x21e347,_0xa29f12,_0x57f615;});}}function _0x27eca1(){const _0x4076fd=_0x4d9d4f;let _0xf76c60=[];return{'subscribe':_0x53deb1=>(_0xf76c60[_0x4076fd(0x9e2)](_0x53deb1),()=>{const _0x352aa6=_0x4076fd;_0xf76c60=_0xf76c60[_0x352aa6(0x64c)](_0x40723b=>_0x40723b!==_0x53deb1);}),'publish':_0x2db607=>{const _0x21576c=_0x4076fd;_0xf76c60[_0x21576c(0x1dc)](_0x3ec09e=>_0x3ec09e(_0x2db607));}};}function _0xa7293a(){let _0x46b298;return{'subscribe':_0x19feac=>(_0x46b298=_0x19feac,()=>{_0x46b298=void 0x0;}),'publish':_0x315fa1=>{_0x46b298&&_0x46b298(_0x315fa1);}};}class _0x2c88b7{['connector'];[_0x4d9d4f(0x3ad)];[_0x4d9d4f(0x14d)];['eventListener']=_0xa7293a();[_0x4d9d4f(0x811)];constructor(_0x32f21c,_0x1b68e5,_0x214db0){const _0x4d750a=_0x4d9d4f;this[_0x4d750a(0x889)]=_0x32f21c,this['tableName']=_0x1b68e5,this[_0x4d750a(0x14d)]=_0x214db0;}[_0x4d9d4f(0x6ef)](){this['listenerUnsubscriber']?.();}async[_0x4d9d4f(0x29f)](_0x15036d){const _0x48443e=_0x4d9d4f,_0x552503={'key':_0x15036d,'tableName':this[_0x48443e(0x3ad)],'action':_0x2158a3[_0x48443e(0x9a4)]};return this[_0x48443e(0x14d)][_0x48443e(0x817)](_0x552503),this[_0x48443e(0x889)][_0x48443e(0x29f)](_0x15036d);}async['set'](_0x50b536,_0x20c002,_0x4b9ae3=!0x0){const _0x37f708=_0x4d9d4f;this[_0x37f708(0x8c9)](_0x20c002);const _0x1e7dca=await this[_0x37f708(0x889)][_0x37f708(0x29f)](_0x50b536),_0x2c285=await this['connector']['set'](_0x50b536,_0x20c002),_0x103f16=_0x1e7dca?_0x43892d['Update']:_0x43892d['Add'];if(this['publish'](_0x103f16,_0x2c285),!_0x4b9ae3)return _0x2c285;const _0x5694b6={'key':_0x50b536,'tableName':this[_0x37f708(0x3ad)],'action':_0x103f16,'value':_0x2c285};return this['tableObserver'][_0x37f708(0x817)](_0x5694b6),_0x2c285;}async[_0x4d9d4f(0x9d2)](_0x54547a){const _0x11c3e9=_0x4d9d4f;this[_0x11c3e9(0x8c9)](_0x54547a);const _0x26ae02=await this['connector']['add'](_0x54547a),_0x14d186={'key':_0x26ae02['id'],'tableName':this[_0x11c3e9(0x3ad)],'action':_0x43892d[_0x11c3e9(0x7e2)],'value':_0x26ae02};return this[_0x11c3e9(0x14d)][_0x11c3e9(0x817)](_0x14d186),this[_0x11c3e9(0x817)](_0x14d186['action'],_0x26ae02),_0x26ae02;}async['delete'](_0x353f9c,_0x3ca3a7=!0x0){const _0xb5b113=_0x4d9d4f,_0x4d03a5=await this[_0xb5b113(0x889)]['get'](_0x353f9c);if(!_0x4d03a5)return;await this[_0xb5b113(0x889)][_0xb5b113(0x465)](_0x353f9c);const _0x5a1977=_0x43892d['Delete'];if(this['publish'](_0x5a1977,_0x4d03a5),!_0x3ca3a7)return;const _0x333c8a={'key':_0x353f9c,'tableName':this[_0xb5b113(0x3ad)],'action':_0x5a1977,'value':_0x4d03a5};this[_0xb5b113(0x14d)][_0xb5b113(0x817)](_0x333c8a);}async[_0x4d9d4f(0x976)](){const _0x33fc25=_0x4d9d4f,_0x2fd004=await this[_0x33fc25(0x710)]();for(const _0x5256c7 of _0x2fd004){const _0x58881b=_0x43892d['Delete'];this[_0x33fc25(0x817)](_0x58881b,_0x5256c7);const _0x2c5132={'key':_0x5256c7['id'],'tableName':this[_0x33fc25(0x3ad)],'action':_0x58881b,'value':_0x5256c7};this[_0x33fc25(0x14d)][_0x33fc25(0x817)](_0x2c5132);}return this['connector']['clear']();}async['list'](_0x195b2d){const _0x5b16ba=_0x4d9d4f,_0x54ab7f={'key':'','tableName':this[_0x5b16ba(0x3ad)],'action':_0x2158a3[_0x5b16ba(0x3a4)]};this[_0x5b16ba(0x14d)][_0x5b16ba(0x817)](_0x54ab7f);try{_0x195b2d&&(_0x195b2d=_0x195b2d instanceof _0x34a9c6?_0x195b2d[_0x5b16ba(0x886)]():_0x34a9c6[_0x5b16ba(0x225)](_0x195b2d)['getQuery']());}catch(_0x543c60){throw new _0x2554b3(_0x17f7da[_0x5b16ba(0x12e)],'Invalid\x20query');}try{return await this['connector'][_0x5b16ba(0x710)](_0x195b2d);}catch(_0x43db9f){let _0x4cdfff=_0x5b16ba(0x34e);throw _0x43db9f instanceof Error&&(_0x4cdfff=_0x43db9f[_0x5b16ba(0x12c)]),new _0x2554b3(_0x17f7da[_0x5b16ba(0x12e)],_0x4cdfff);}}async[_0x4d9d4f(0x9df)](_0x16bc88){const _0x3ee231=_0x4d9d4f,_0x16ffc1={'key':'','tableName':this[_0x3ee231(0x3ad)],'action':_0x2158a3[_0x3ee231(0x4e2)]};this['tableObserver'][_0x3ee231(0x817)](_0x16ffc1);try{_0x16bc88&&(_0x16bc88=_0x16bc88 instanceof _0x34a9c6?_0x16bc88[_0x3ee231(0x886)]():_0x34a9c6[_0x3ee231(0x225)](_0x16bc88)[_0x3ee231(0x886)]());}catch(_0x4270ec){throw new _0x2554b3(_0x17f7da[_0x3ee231(0x12e)],_0x3ee231(0x34e));}try{return await this['connector']['count'](_0x16bc88);}catch(_0x20e83e){let _0xfeb096=_0x3ee231(0x34e);throw _0x20e83e instanceof Error&&(_0xfeb096=_0x20e83e[_0x3ee231(0x12c)]),new _0x2554b3(_0x17f7da[_0x3ee231(0x12e)],_0xfeb096);}}['calculateSize'](){const _0x53bfc3=_0x4d9d4f;return this[_0x53bfc3(0x889)][_0x53bfc3(0x193)]();}['subscribe'](_0x27dd97){const _0x6d4bb0=_0x4d9d4f;this[_0x6d4bb0(0x811)]=this[_0x6d4bb0(0x5d5)][_0x6d4bb0(0x3dd)](_0x27dd97);}[_0x4d9d4f(0x4f9)](){const _0x8834aa=_0x4d9d4f;this[_0x8834aa(0x811)]?.();}['publish'](_0x1f2497,_0xa1034e){const _0x236cfb=_0x4d9d4f,_0x2bb266=this[_0x236cfb(0x1a1)](_0x1f2497,_0xa1034e);this[_0x236cfb(0x5d5)][_0x236cfb(0x817)](_0x2bb266);}[_0x4d9d4f(0x1a1)](_0x40d524,_0x440677){const _0xceba36=_0x4d9d4f;let _0x6f211a;switch(_0x40d524){case _0x43892d[_0xceba36(0x7e2)]:_0x6f211a=_0xceba36(0x9d2);break;case _0x43892d['Update']:_0x6f211a=_0xceba36(0x1e8);break;case _0x43892d[_0xceba36(0x945)]:_0x6f211a=_0xceba36(0x465);}return{'action':_0x6f211a,'value':_0x440677};}[_0x4d9d4f(0x8c9)](_0x420d2d){const _0x2bfbb1=_0x4d9d4f;if(_0x2bfbb1(0x9d3)!=typeof _0x420d2d||null===_0x420d2d)throw new _0x2554b3(_0x17f7da[_0x2bfbb1(0x501)],_0x2bfbb1(0x98a));for(const _0x18a20b in _0x420d2d){const _0x49b5c2=_0x420d2d[_0x18a20b];if(_0x2bfbb1(0x9d3)!=typeof _0x49b5c2||_0x49b5c2 instanceof Date){if(![_0x2bfbb1(0x794),'number',_0x2bfbb1(0x8e9)][_0x2bfbb1(0x766)](typeof _0x49b5c2))throw new _0x2554b3(_0x17f7da[_0x2bfbb1(0x501)],_0x2bfbb1(0x745)+_0x18a20b+_0x2bfbb1(0x3bb));}else this[_0x2bfbb1(0x8c9)](_0x49b5c2);}}}class _0x410bfe{[_0x4d9d4f(0x6e6)]=[];[_0x4d9d4f(0xff)]=0x0;[_0x4d9d4f(0x6aa)]=[];[_0x4d9d4f(0x787)]=!0x1;[_0x4d9d4f(0x71c)]=null;[_0x4d9d4f(0x14c)]=null;[_0x4d9d4f(0x3ee)];['readyResolve']=null;[_0x4d9d4f(0x3b2)]=[];['debounceReadyTimeout'];[_0x4d9d4f(0x5b9)]=Promise['resolve']();['expectedTransactions']=0x0;constructor(){}get[_0x4d9d4f(0x28e)](){return this['_ready'];}async[_0x4d9d4f(0xd5)](_0x27ba42,_0x344801=0x0){const _0x4770bd=_0x4d9d4f;this['readyResolve']||(this['_ready']=new Promise(_0x2fe21f=>{this['readyResolve']=_0x2fe21f;}),this[_0x4770bd(0x7b1)]=_0x344801);const _0x2be4bd=Date['now']();if(this[_0x4770bd(0x787)])return void this['transactionQueue'][_0x4770bd(0x9e2)](_0x27ba42);this[_0x4770bd(0x787)]=!0x0;let _0x168668={'hash':await this[_0x4770bd(0x2ae)](_0x27ba42),'height':0x0};const _0x271a54=this[_0x4770bd(0x1d9)](_0x168668);this[_0x4770bd(0x3b2)]['push'](_0x271a54),await _0x271a54,this[_0x4770bd(0xff)]+=0x1;const _0x30d4c5=this['transactionQueue'][_0x4770bd(0x99a)];for(;this['transactionQueue'][_0x4770bd(0x99a)]>0x0;){const _0x17b8ad=this[_0x4770bd(0x6aa)][_0x4770bd(0x124)]();await this[_0x4770bd(0xd5)](_0x17b8ad);}this[_0x4770bd(0x1e1)](),await this[_0x4770bd(0x28e)],this[_0x4770bd(0x666)](_0x2be4bd,_0x30d4c5);}async[_0x4d9d4f(0x904)](){const _0x84320c=_0x4d9d4f;return await this[_0x84320c(0x5b9)],this[_0x84320c(0x787)]?(this[_0x84320c(0x14c)]||(this['rootComputationPromise']=this[_0x84320c(0x721)]()),await this['rootComputationPromise']):this['cachedRoot'];}[_0x4d9d4f(0x32b)](){const _0x478f88=_0x4d9d4f;return this['peaks'][_0x478f88(0x473)](({hash:_0x30a26d,height:_0x35aee4})=>({'hash':_0x30a26d,'height':_0x35aee4}));}[_0x4d9d4f(0x8f3)](){const _0xea535=_0x4d9d4f;return this[_0xea535(0xff)];}[_0x4d9d4f(0x717)](_0x2ec470){const _0x477e8a=_0x4d9d4f;return this[_0x477e8a(0x6e6)][_0x477e8a(0x211)](_0x348af3=>_0x348af3['height']===_0x2ec470);}async[_0x4d9d4f(0x9c2)](_0x55b0fc,_0x16b9a7){const _0x177c39=_0x4d9d4f;return await this[_0x177c39(0x6d3)](_0x55b0fc+_0x16b9a7);}async[_0x4d9d4f(0x2ae)](_0x3bfe78){const _0x19f8b9=_0x4d9d4f;return await this['computeHash'](JSON[_0x19f8b9(0x446)](_0x3bfe78));}['comparePeaks'](_0x38857f){const _0x143559=_0x4d9d4f,_0x245509=this['getPeaks'](),_0x18b748=[],_0x5ee017=[],_0x582160=[];for(const _0x3dda89 of _0x245509){const _0x4eaa32=_0x38857f['find'](_0x509240=>_0x509240['height']===_0x3dda89[_0x143559(0x3d9)]);_0x4eaa32?_0x3dda89[_0x143559(0x758)]!==_0x4eaa32[_0x143559(0x758)]&&_0x18b748['push']({'height':_0x3dda89[_0x143559(0x3d9)],'localPeak':_0x3dda89,'remotePeak':_0x4eaa32}):_0x5ee017[_0x143559(0x9e2)](_0x3dda89);}for(const _0x1fa4e0 of _0x38857f)_0x245509['find'](_0x47d027=>_0x47d027[_0x143559(0x3d9)]===_0x1fa4e0[_0x143559(0x3d9)])||_0x582160['push'](_0x1fa4e0);return{'differingPeaks':_0x18b748,'peaksMissingInRemote':_0x5ee017,'peaksMissingInLocal':_0x582160};}async['recomputeRoot'](){const _0x2dbbef=_0x4d9d4f;this[_0x2dbbef(0x787)]=!0x0;const _0x1e232f=this['peaks'][_0x2dbbef(0x473)](_0x1d19d3=>_0x1d19d3[_0x2dbbef(0x758)]);return this[_0x2dbbef(0x71c)]=await this[_0x2dbbef(0x808)](_0x1e232f),this[_0x2dbbef(0x787)]=!0x1,this[_0x2dbbef(0x14c)]=null,this[_0x2dbbef(0x1e1)](),this[_0x2dbbef(0x71c)];}async[_0x4d9d4f(0x6d3)](_0x5a5e93){const _0x5db927=_0x4d9d4f;try{const _0x39016c=new TextEncoder()[_0x5db927(0x7fc)](_0x5a5e93),_0xefaeff=await crypto[_0x5db927(0x606)][_0x5db927(0x936)](_0x5db927(0x2b0),_0x39016c);return Array[_0x5db927(0x376)](new Uint8Array(_0xefaeff))[_0x5db927(0x473)](_0x5d7d5c=>_0x5d7d5c[_0x5db927(0x77f)](0x10)[_0x5db927(0x36b)](0x2,'0'))[_0x5db927(0x6de)]('');}catch(_0x5b522f){return console[_0x5db927(0x716)]('Hash\x20computation\x20failed,\x20retrying...',_0x5b522f),this[_0x5db927(0x6d3)](_0x5a5e93);}}async['hashPeakHashes'](_0x3d797c){const _0x27f779=_0x4d9d4f;return await this[_0x27f779(0x6d3)](_0x3d797c[_0x27f779(0x6de)](''));}async[_0x4d9d4f(0x1d9)](_0x5e87f1){const _0x5829a2=_0x4d9d4f;for(;this[_0x5829a2(0x6e6)][_0x5829a2(0x99a)]>0x0&&this[_0x5829a2(0x6e6)][this[_0x5829a2(0x6e6)][_0x5829a2(0x99a)]-0x1][_0x5829a2(0x3d9)]===_0x5e87f1['height'];){const _0x220c18=this['peaks']['pop']();_0x5e87f1={'hash':await this[_0x5829a2(0x9c2)](_0x220c18[_0x5829a2(0x758)],_0x5e87f1[_0x5829a2(0x758)]),'left':_0x220c18,'right':_0x5e87f1,'height':_0x5e87f1[_0x5829a2(0x3d9)]+0x1};}this[_0x5829a2(0x6e6)][_0x5829a2(0x9e2)](_0x5e87f1),await this[_0x5829a2(0x721)]();}[_0x4d9d4f(0x666)](_0x4e6347,_0x1feac7){const _0x62f2f7=_0x4d9d4f;if(!_0x2644bc[_0x62f2f7(0x164)](_0x1a98bf[_0x62f2f7(0x62c)]))return;this[_0x62f2f7(0x3ee)]&&clearTimeout(this['debounceLogTimeout']);const _0x427d13=Date[_0x62f2f7(0x873)]();this['debounceLogTimeout']=setTimeout(()=>_0x2644bc[_0x62f2f7(0x5ad)](_0x1a98bf[_0x62f2f7(0x62c)],_0x62f2f7(0x6ff),this[_0x62f2f7(0x71c)],'nodes',this[_0x62f2f7(0x8f3)](),_0x62f2f7(0x72f),_0x1feac7,'time',_0x427d13-_0x4e6347),0x7d0);}[_0x4d9d4f(0x1e1)](){this['debounceReadyTimeout']&&clearTimeout(this['debounceReadyTimeout']),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x50305d=a0_0x1399;try{const _0x2f9c14=this['readyPromises'];if(this['readyPromises']=[],await Promise['all'](_0x2f9c14),this['expectedTransactions']-=_0x2f9c14['length'],this[_0x50305d(0x3b2)][_0x50305d(0x99a)]>0x0||this[_0x50305d(0x7b1)]>0x0)return this[_0x50305d(0x1e1)]();this[_0x50305d(0x7f8)]&&(this[_0x50305d(0x7f8)](),this[_0x50305d(0x7f8)]=null),this[_0x50305d(0x5b9)]=Promise['resolve'](),this['isComputingMMR']=!0x1;}catch(_0x5cf693){console['error'](_0x50305d(0x898),_0x5cf693);}},0xa);}}const _0x5f4b37=[_0x4d9d4f(0x60c),_0x4d9d4f(0x7e7),_0x4d9d4f(0x72b),_0x4d9d4f(0x560),_0x4d9d4f(0x5bb),'Detection',_0x4d9d4f(0x92a)],_0x127c27=[[_0x4d9d4f(0x610),_0x4d9d4f(0x109),'Handshake','Success',_0x4d9d4f(0x7d6),'Restart',_0x4d9d4f(0x48a),'Stats',_0x4d9d4f(0x529)],['NodeJoin',_0x4d9d4f(0x4a2),_0x4d9d4f(0x96c),_0x4d9d4f(0x188)],['CloseGraphDatabase',_0x4d9d4f(0x9cc),_0x4d9d4f(0xda),_0x4d9d4f(0x2e6),'CloseKeyValueDatabase',_0x4d9d4f(0x2e4),_0x4d9d4f(0x50d),'ClosePubSubTopic',_0x4d9d4f(0x37d),_0x4d9d4f(0x7ae),'GenerativeAIContextStats','GenerativeAIWorkerStats',_0x4d9d4f(0x325),_0x4d9d4f(0x634),_0x4d9d4f(0xc7),_0x4d9d4f(0x129),'KeyValueDatabaseRequestTransactionsValue',_0x4d9d4f(0x364),_0x4d9d4f(0x359),'KeyValueDatabaseSyncRequired',_0x4d9d4f(0x416),_0x4d9d4f(0x3f0),_0x4d9d4f(0x153),_0x4d9d4f(0x98d),_0x4d9d4f(0x1ff),_0x4d9d4f(0x3f5),'UnpublishMediaStream',_0x4d9d4f(0x2ba),'UpdateMediaStream','VectorDatabaseStats'],[_0x4d9d4f(0x3f5),_0x4d9d4f(0x419),'UnsubscribeMediaStreamdiaStream',_0x4d9d4f(0x5ea),_0x4d9d4f(0x43b),'MediaStreamUnavailable'],[_0x4d9d4f(0x7df),'LocalReport'],[_0x4d9d4f(0x71a)],['Remediation',_0x4d9d4f(0x4c6)]];function _0x2d39b9(_0x3b85af){const _0x55def4=_0x4d9d4f;return{..._0x3b85af,'systemMessageType':_0x5f4b37[_0x3b85af[_0x55def4(0x7ca)]],'systemContentMessageType':_0x127c27[_0x3b85af['messageType']][_0x3b85af['content'][_0x55def4(0x506)]]};}const _0x2e753d={'hour':_0x4d9d4f(0x24d),'minute':_0x4d9d4f(0x24d),'second':_0x4d9d4f(0x24d)};function _0x58ef92(_0x1a0a99,_0x1018b4){const _0x7e2ca0=_0x4d9d4f,_0x5a3aeb=(function(){const _0x1d229a=a0_0x1399,_0x369ff6=new Date(),_0x10dea9=_0x369ff6[_0x1d229a(0x223)](),_0x33e215=_0x369ff6[_0x1d229a(0xa3)](_0x1d229a(0x34c),_0x2e753d)[_0x1d229a(0x70f)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x33e215+'.'+(_0x10dea9>0x64?''+_0x10dea9:_0x10dea9>0xa?'0'+_0x10dea9:'00'+_0x10dea9);}()),{sourceId:_0x10b948,destinationIds:_0x537862,systemMessageType:_0x59d2b0,systemContentMessageType:_0x1610e9}=_0x2d39b9(_0x1a0a99);return _0x5a3aeb+_0x7e2ca0(0x445)+_0x1018b4+'\x20-\x20'+(_0x10b948===_0x1018b4?_0x7e2ca0(0x1b3)+_0x59d2b0+_0x7e2ca0(0x543)+(_0x537862?''+_0x537862:'everyone'):_0x1a0a99[_0x7e2ca0(0x68c)]===_0x280524?_0x7e2ca0(0x47f)+_0x59d2b0+'\x27':(_0x537862?'':_0x7e2ca0(0x846))+_0x7e2ca0(0x829)+_0x59d2b0+_0x7e2ca0(0x629)+_0x10b948)+_0x7e2ca0(0x37b)+_0x1610e9+_0x7e2ca0(0x17b);}function _0x19b534(_0x116dce,_0x2601c0){const _0x46ba46=_0x4d9d4f;if(!_0x2644bc[_0x46ba46(0x164)](_0x116dce))return;if(_0x10b302[_0x46ba46(0x649)])return;if(_0x46ba46(0x9d0)==typeof process)return;const _0x5b4969=process[_0x46ba46(0x858)]();console['log']('Memory\x20Usage\x20at\x20'+_0x2601c0+':');for(const _0x3918a9 in _0x5b4969)console['log']('\x20\x20'+_0x3918a9+':\x20'+(_0x5b4969[_0x3918a9]/0x400/0x400)[_0x46ba46(0x7a9)](0x2)+_0x46ba46(0x7b7));}function _0x3cced7(_0x3c4013,_0x2b2daa){const _0x426bea=_0x4d9d4f;if(!_0x2644bc['isChannelEnabled'](_0x2b2daa))return _0x2644bc[_0x426bea(0x7dc)](_0x426bea(0x7a5)+_0x2b2daa),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x141196,_0x134cf3)=>_0x134cf3}};let _0x31d48d=0x0;return{'timingLogger':((()=>{const _0x40b10b=_0x426bea;let _0x16905a=Date[_0x40b10b(0x873)]();return{'start':()=>{_0x16905a=Date['now']();},'now':()=>Date[_0x40b10b(0x873)](),'logWaitTime':_0x46faeb=>{const _0x4e0c4c=_0x40b10b;_0x31d48d+=Date[_0x4e0c4c(0x873)]()-_0x16905a,_0x2644bc[_0x4e0c4c(0x5ad)](_0x2b2daa,_0x46faeb,_0x31d48d+'ms',_0x3c4013);}};})()),'logger':{'log':(_0x3d7b6d,_0x3776b4=()=>{})=>{const _0x567fd2=_0x426bea,_0x99c606=_0x3776b4();_0x99c606?_0x2644bc[_0x567fd2(0x5ad)](_0x2b2daa,_0x3d7b6d,_0x99c606,_0x3c4013):_0x2644bc['log'](_0x2b2daa,_0x3d7b6d,_0x3c4013);},'performCalculation':(_0x5d5e03,_0xbbac34)=>_0x5d5e03()}};}function _0x153f0f(_0x60948a){const _0x937cf2=_0x4d9d4f;return _0x937cf2(0x9d0)==typeof Buffer?0x0:Buffer[_0x937cf2(0x578)](JSON[_0x937cf2(0x446)](_0x60948a),_0x937cf2(0x750));}function _0x11ac96(_0x21492c){const _0xc055e9=_0x4d9d4f;if(0x0===_0x21492c)return _0xc055e9(0x8c8);const _0x3af246=Math['floor'](Math[_0xc055e9(0x5ad)](_0x21492c)/Math[_0xc055e9(0x5ad)](0x400));return parseFloat((_0x21492c/Math['pow'](0x400,_0x3af246))[_0xc055e9(0x7a9)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x3af246];}class _0xc35f17 extends _0x5b0910{[_0x4d9d4f(0x772)];[_0x4d9d4f(0x95e)];['vendorId'];[_0x4d9d4f(0x593)];['db'];[_0x4d9d4f(0x685)];[_0x4d9d4f(0x76e)]=new Map();['tableObserver'];[_0x4d9d4f(0x4c8)];[_0x4d9d4f(0x56b)];[_0x4d9d4f(0x18b)];['syncResolve'];['transactionsToSync']=[];[_0x4d9d4f(0x1e0)]=()=>{};[_0x4d9d4f(0x44a)];['eventListener']=_0xa7293a();['listenerUnsubscriber'];[_0x4d9d4f(0xdc)]=[];[_0x4d9d4f(0x9ba)];[_0x4d9d4f(0x233)];[_0x4d9d4f(0xad)]=0x0;[_0x4d9d4f(0x503)]=0x0;['contentRequestSent']=!0x1;[_0x4d9d4f(0x5f0)]=new _0x410bfe();[_0x4d9d4f(0x7bd)]=new Map();['transactions']=[];[_0x4d9d4f(0x9b8)];[_0x4d9d4f(0x201)]=[];[_0x4d9d4f(0x512)];constructor(_0x39ccc9,_0x4fa5dd,_0x1ac023,_0x140cba,_0x33d2e7,_0xb2638d,_0x3dff31){const _0x1f6ce4=_0x4d9d4f;if(_0x1f6ce4(0x794)!=typeof _0x4fa5dd)throw new _0x2554b3(_0x17f7da['KeyValueDatabaseNameNotString'],_0x1f6ce4(0x5fa));if(super(_0x39ccc9,_0x4fa5dd),this[_0x1f6ce4(0x772)]=_0x39ccc9,this[_0x1f6ce4(0x95e)]=_0x1ac023,this['vendorId']=_0x140cba,this[_0x1f6ce4(0x593)]=_0x3dff31,this[_0x1f6ce4(0x685)]=_0x1f6ce4(0x4be)+this['vendorId']+_0x1f6ce4(0x4be)+this['clusterId']+_0x1f6ce4(0x4be)+this[_0x1f6ce4(0x5da)],this[_0x1f6ce4(0x14d)]=_0xa7293a(),this[_0x1f6ce4(0x512)]=function(_0x49adc7,_0x21ee7b){const _0x1eb563=_0x1f6ce4;if(!_0x2644bc['isChannelEnabled'](_0x21ee7b))return _0x2644bc[_0x1eb563(0x7dc)](_0x1eb563(0x7a5)+_0x21ee7b),{..._0x3cced7(_0x49adc7,_0x21ee7b),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x1eb563(0x8c8),'dataReceived':_0x1eb563(0x8c8)})};const {timingLogger:_0x5b4dfb,logger:_0x1e758f}=_0x3cced7(_0x49adc7,_0x21ee7b);let _0x4bcb4f=0x0,_0x598474=0x0;return{'timingLogger':_0x5b4dfb,'logger':_0x1e758f,'logDataSent':(_0x2029e1,_0x41d715=!0x1)=>{const _0x2a2b9d=_0x1eb563,_0x43bc7c=_0x153f0f(_0x2029e1);return _0x41d715&&_0x2644bc[_0x2a2b9d(0x5ad)](_0x21ee7b,_0x2a2b9d(0x10b),_0x49adc7,_0x43bc7c),_0x4bcb4f+=_0x43bc7c,_0x43bc7c;},'logDataReceived':(_0x2eafd6,_0x406c76=!0x1)=>{const _0x18a383=_0x1eb563,_0x71d56d=_0x153f0f(_0x2eafd6);return _0x406c76&&_0x2644bc[_0x18a383(0x5ad)](_0x21ee7b,_0x18a383(0x961),_0x49adc7,_0x71d56d),_0x598474+=_0x71d56d,_0x71d56d;},'getDataLogged':()=>({'dataSent':_0x11ac96(_0x4bcb4f),'dataReceived':_0x11ac96(_0x598474)})};}(this[_0x1f6ce4(0x5da)],_0x1a98bf[_0x1f6ce4(0x62c)]),this['isSync']=new Promise(_0x56fe5e=>{const _0x26795c=_0x1f6ce4;this[_0x26795c(0x5ef)]=_0x56fe5e;}),_0x33d2e7 instanceof _0x377955)this[_0x1f6ce4(0x9ba)]=_0x33d2e7[_0x1f6ce4(0x4c7)]();else{const [_0x29e1bd,_0xdfe2e7]=_0x377955['validateLayout'](_0x33d2e7);if(!_0x29e1bd)throw new _0x2554b3(_0x17f7da[_0x1f6ce4(0x36d)],'Invalid\x20layout:\x20'+_0xdfe2e7);this[_0x1f6ce4(0x9ba)]=structuredClone(_0x33d2e7);}this[_0x1f6ce4(0x40e)](this[_0x1f6ce4(0x9ba)]),this['db']=new _0xb2638d(this[_0x1f6ce4(0x685)],this[_0x1f6ce4(0x9ba)]),this[_0x1f6ce4(0x71e)]();}async[_0x4d9d4f(0x212)](_0x2b1987,_0xb4fa78){const _0x512e10=_0x4d9d4f;if(_0x2644bc[_0x512e10(0x5ad)](_0x1a98bf[_0x512e10(0x62c)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this['label']),!this['transactionTable'])throw new _0x56b2e7(_0x56b2e7['codes']['KeyValueDatabaseTransactionTableNotInitialized']);if(await this[_0x512e10(0x18b)],await this[_0x512e10(0x593)](_0x2b1987),await this['mmr'][_0x512e10(0x904)]()===_0xb4fa78){const _0x5b1b0a={'sourceId':this[_0x512e10(0x772)][_0x512e10(0x9a5)](),'destinationIds':[_0x2b1987],'propagate':!0x0,'messageType':_0x2ba96e[_0x512e10(0x72b)],'content':{'type':_0x2e4dcf[_0x512e10(0xc7)],'label':this[_0x512e10(0x5da)],'mmrRoot':_0xb4fa78}};return this[_0x512e10(0x512)]['logDataSent'](_0x5b1b0a),void this['systemTopic']['publish'](_0x5b1b0a);}const _0x143a32=this[_0x512e10(0x5f0)]['getPeaks'](),_0x23cce0={'sourceId':this[_0x512e10(0x772)]['getId'](),'destinationIds':[_0x2b1987],'propagate':!0x0,'messageType':_0x2ba96e[_0x512e10(0x72b)],'content':{'type':_0x2e4dcf['KeyValueDatabaseContentAvailable'],'label':this[_0x512e10(0x5da)],'peaks':_0x143a32}};this[_0x512e10(0x512)][_0x512e10(0x55a)](_0x23cce0),this['systemTopic'][_0x512e10(0x817)](_0x23cce0);}async['processContentSynchronized'](_0x85f16b,_0x56e721){const _0x3c8805=_0x4d9d4f,_0x302284=await this['mmr'][_0x3c8805(0x904)](),_0x28b411=_0x302284===_0x56e721;if(_0x2644bc[_0x3c8805(0x5ad)](_0x1a98bf['KeyValueDatabase'],'Received\x20ContentSynchronized\x20from\x20'+_0x85f16b+_0x3c8805(0x924)+_0x28b411,this['label']),_0x28b411)return this[_0x3c8805(0x870)](),void this['publishSyncCompleted']();_0x2644bc['log'](_0x1a98bf[_0x3c8805(0x62c)],_0x3c8805(0x96d),_0x302284,_0x56e721),_0x2644bc[_0x3c8805(0xd0)](_0x3c8805(0x96d),{'nodeId':this[_0x3c8805(0x772)][_0x3c8805(0x9a5)](),'nodeType':this[_0x3c8805(0x772)][_0x3c8805(0x506)],'remoteId':_0x85f16b,'data':{'localMMRRoot':_0x302284,'remoteMMRRoot':_0x56e721}});const _0x1b5b24={'sourceId':this[_0x3c8805(0x772)][_0x3c8805(0x9a5)](),'messageType':_0x2ba96e[_0x3c8805(0x72b)],'propagate':!0x0,'content':{'type':_0x2e4dcf[_0x3c8805(0x24b)],'label':this['label'],'mmrRoot':_0x302284}};this['systemTopic'][_0x3c8805(0x817)](_0x1b5b24);}async[_0x4d9d4f(0x417)](_0x49c025,_0x4b8a3a){const _0x5f27f3=_0x4d9d4f;if(_0x2644bc[_0x5f27f3(0x5ad)](_0x1a98bf['KeyValueDatabase'],_0x5f27f3(0x7f5),_0x49c025,'label',this[_0x5f27f3(0x5da)],_0x5f27f3(0x6e6),_0x4b8a3a),this[_0x5f27f3(0x478)])return;this[_0x5f27f3(0x478)]=!0x0,this['clearSyncTimeout']();const {differingPeaks:_0x15a95a,peaksMissingInLocal:_0x118f35,peaksMissingInRemote:_0x5f04d3}=this[_0x5f27f3(0x5f0)]['comparePeaks'](_0x4b8a3a);_0x2644bc['log'](_0x1a98bf[_0x5f27f3(0x62c)],_0x5f27f3(0x584),{'differingPeaks':_0x15a95a,'peaksMissingInLocal':_0x118f35,'peaksMissingInRemote':_0x5f04d3});const _0x2bd5dc={'sourceId':this['localNode']['getId'](),'destinationIds':[_0x49c025],'propagate':!0x0,'messageType':_0x2ba96e[_0x5f27f3(0x72b)],'content':{'type':_0x2e4dcf[_0x5f27f3(0x129)],'label':this[_0x5f27f3(0x5da)],'peakHeights':_0x118f35['map'](_0xf4ae03=>_0xf4ae03[_0x5f27f3(0x3d9)])[_0x5f27f3(0x868)](_0x15a95a[_0x5f27f3(0x473)](_0x2ea9ab=>_0x2ea9ab[_0x5f27f3(0x3d9)]))}};if(this[_0x5f27f3(0x26f)][_0x5f27f3(0x817)](_0x2bd5dc),_0x15a95a['length']>0x0||_0x5f04d3[_0x5f27f3(0x99a)]>0x0){const _0x45752d=_0x5f04d3['map'](_0x34c6f7=>_0x34c6f7[_0x5f27f3(0x3d9)])['concat'](_0x15a95a[_0x5f27f3(0x473)](_0x5e768a=>_0x5e768a[_0x5f27f3(0x3d9)]));await this[_0x5f27f3(0x53b)](_0x49c025,_0x45752d,!0x0);}}async[_0x4d9d4f(0x53b)](_0x3d4ea7,_0xcb0220,_0x9bd8ff=!0x1){const _0x4c6951=_0x4d9d4f;_0x2644bc[_0x4c6951(0x5ad)](_0x1a98bf[_0x4c6951(0x62c)],_0x4c6951(0x270),this['label']);const _0x3d064f=_0xcb0220[_0x4c6951(0x473)](_0x3622e7=>this['mmr'][_0x4c6951(0x717)](_0x3622e7))['filter'](Boolean);if(!_0x3d064f[_0x4c6951(0x99a)]||_0xcb0220['length']!==_0x3d064f[_0x4c6951(0x99a)])throw new _0x56b2e7(_0x56b2e7[_0x4c6951(0x90b)]['KeyValueDatabasePeakNotFound'],{'message':_0x4c6951(0x403),'peakHeights':_0xcb0220,'peaks':_0x3d064f[_0x4c6951(0x473)](_0x5399e1=>_0x5399e1[_0x4c6951(0x3d9)]),'nodeId':_0x3d4ea7});const _0x14c627=[];for(const _0x5db1f7 of _0x3d064f)this['collectTransactionsFromNode'](_0x5db1f7,_0x14c627);const _0xdc0bcb=_0x9bd8ff?void 0x0:[_0x3d4ea7],_0x1e8eeb={'sourceId':this['localNode'][_0x4c6951(0x9a5)](),'destinationIds':_0xdc0bcb,'messageType':_0x2ba96e[_0x4c6951(0x72b)],'propagate':!0x0,'content':{'type':_0x2e4dcf[_0x4c6951(0x364)],'label':this[_0x4c6951(0x5da)],'transactions':_0x14c627}};this[_0x4c6951(0x512)][_0x4c6951(0x55a)](_0x1e8eeb),this['systemTopic'][_0x4c6951(0x817)](_0x1e8eeb);}async[_0x4d9d4f(0x672)](_0x252c90,_0x4ea10f){const _0xb810b=_0x4d9d4f;_0x2644bc[_0xb810b(0x5ad)](_0x1a98bf[_0xb810b(0x62c)],_0xb810b(0x191)+_0x4ea10f['length']+_0xb810b(0x55e)+_0x252c90+_0xb810b(0x445)+this[_0xb810b(0x5da)]);for(const _0x21a6e7 of _0x4ea10f){const _0x25337f=await this['transactionTable'][_0xb810b(0x29f)](_0x21a6e7['id']);if(!(_0x25337f&&this['compareTransactions'](_0x25337f,_0x21a6e7)>=0x0)){if(_0x21a6e7[_0xb810b(0x6f2)]===_0x43892d['Delete']){const [_0xd7b559,_0x147a79]=_0x21a6e7['id']['split']('::'),_0x6af1d7=this[_0xb810b(0x217)](_0xd7b559);await _0x6af1d7[_0xb810b(0x465)](_0x147a79);}else this[_0xb810b(0x8ef)][_0xb810b(0x9e2)](_0x21a6e7['id']);}}if(_0x2644bc['log'](_0x1a98bf[_0xb810b(0x62c)],_0xb810b(0x5c5)+this[_0xb810b(0x8ef)][_0xb810b(0x99a)]+_0xb810b(0x18f),this[_0xb810b(0x5da)]),this[_0xb810b(0x8ef)][_0xb810b(0x99a)]>0x0){const _0x43f734={'sourceId':this[_0xb810b(0x772)]['getId'](),'destinationIds':[_0x252c90],'messageType':_0x2ba96e['Content'],'propagate':!0x0,'content':{'type':_0x2e4dcf[_0xb810b(0x438)],'label':this[_0xb810b(0x5da)],'transactionIds':this['transactionsToSync']}};this['loggingCycle']['logDataSent'](_0x43f734),this[_0xb810b(0x26f)]['publish'](_0x43f734);}}[_0x4d9d4f(0x934)](){const _0x28f422=_0x4d9d4f;this[_0x28f422(0x71e)]();}[_0x4d9d4f(0x24e)](){return _0x2477c2['ContentType']['KeyValueDatabase'];}[_0x4d9d4f(0x6ef)](){const _0x12049c=_0x4d9d4f;this['db'][_0x12049c(0x6d7)](),this[_0x12049c(0x56b)]?.(),clearTimeout(this[_0x12049c(0x233)]),delete this[_0x12049c(0x233)],super[_0x12049c(0x6ef)]();}[_0x4d9d4f(0x6d7)](){const _0x4873b2=_0x4d9d4f;this['clearSyncTimeout'](),this[_0x4873b2(0x26f)][_0x4873b2(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x4873b2(0x72b)],'content':{'type':_0x2e4dcf[_0x4873b2(0x785)],'label':this['label']}});}[_0x4d9d4f(0x217)](_0x161abb){const _0x42de7e=_0x4d9d4f,_0x16f3f4=this[_0x42de7e(0x76e)][_0x42de7e(0x29f)](_0x161abb);if(_0x16f3f4)return _0x16f3f4;try{if(!this['db']['hasTable'](_0x161abb))throw new _0x2554b3(_0x17f7da['KeyValueDatabaseTableNotFound'],_0x42de7e(0xeb));const _0x4df84c=new _0x2c88b7(this['db'][_0x42de7e(0x937)](_0x161abb),_0x161abb,this['tableObserver']);return this[_0x42de7e(0x76e)][_0x42de7e(0xcd)](_0x161abb,_0x4df84c),{'get':_0x4df84c[_0x42de7e(0x29f)][_0x42de7e(0x3b0)](_0x4df84c),'set':_0x4df84c[_0x42de7e(0xcd)][_0x42de7e(0x3b0)](_0x4df84c),'add':_0x4df84c[_0x42de7e(0x9d2)][_0x42de7e(0x3b0)](_0x4df84c),'delete':_0x4df84c[_0x42de7e(0x465)][_0x42de7e(0x3b0)](_0x4df84c),'clear':_0x4df84c[_0x42de7e(0x976)][_0x42de7e(0x3b0)](_0x4df84c),'list':_0x4df84c[_0x42de7e(0x710)][_0x42de7e(0x3b0)](_0x4df84c),'count':_0x4df84c[_0x42de7e(0x9df)][_0x42de7e(0x3b0)](_0x4df84c),'subscribe':_0x4df84c[_0x42de7e(0x3dd)]['bind'](_0x4df84c),'unsubscribe':_0x4df84c[_0x42de7e(0x4f9)]['bind'](_0x4df84c)};}catch(_0x3a2900){if(_0x3a2900 instanceof _0x2554b3)throw _0x3a2900;throw new _0x2554b3(_0x17f7da[_0x42de7e(0x5b3)],_0x42de7e(0x650));}}[_0x4d9d4f(0x3dd)](_0xefae26){const _0x27f94f=_0x4d9d4f;this[_0x27f94f(0x811)]=this[_0x27f94f(0x5d5)][_0x27f94f(0x3dd)](_0xefae26),this[_0x27f94f(0xf3)](this['isSync'])[_0x27f94f(0x2c5)](_0x5211b1=>{const _0x3cd5fb=_0x27f94f;_0x5211b1&&this[_0x3cd5fb(0x5d5)][_0x3cd5fb(0x817)]({'event':_0x2477c2[_0x3cd5fb(0x213)]['SyncComplete']});});}['unsubscribe'](){const _0x13f2bc=_0x4d9d4f;this[_0x13f2bc(0x811)]?.(),this[_0x13f2bc(0x811)]=void 0x0;}async[_0x4d9d4f(0x285)](){const _0x1a45cb=_0x4d9d4f;_0x19b534(_0x1a98bf[_0x1a45cb(0x62c)],_0x1a45cb(0x549));const _0x3ca402=[_0x4e0b4b,_0x4bd6c0],_0x11a167=[];try{await this['db']['open']();const _0x17bf32=this['db'][_0x1a45cb(0x937)](_0x4bd6c0),_0x30c277=await _0x17bf32[_0x1a45cb(0x710)](),{id:_0x4ec095,layout:_0x1606b7}=_0x30c277[0x0]??{};if(_0x1606b7){for(const _0x164ffb in _0x1606b7)_0x3ca402[_0x1a45cb(0x766)](_0x164ffb)||this['db'][_0x1a45cb(0x5c1)](_0x164ffb)||_0x11a167[_0x1a45cb(0x9e2)](_0x164ffb);await _0x17bf32[_0x1a45cb(0xcd)](_0x4ec095,{'layout':this[_0x1a45cb(0x9ba)]});}else await _0x17bf32[_0x1a45cb(0x9d2)]({'layout':this[_0x1a45cb(0x9ba)]});}catch(_0x594438){throw new _0x2554b3(_0x17f7da[_0x1a45cb(0x5b3)],_0x594438[_0x1a45cb(0x12c)]||'Error\x20encountered\x20while\x20opening\x20database');}this[_0x1a45cb(0x6e5)](),await this['buildInitialMMR'](),this[_0x1a45cb(0x18e)](),this[_0x1a45cb(0xfa)](),_0x11a167['forEach'](_0x437977=>this[_0x1a45cb(0x990)](_0x437977));}async['sync'](_0x2ab011,_0x9fac38=()=>{},_0x32770b=!0x1){const _0x184d54=_0x4d9d4f;if(!_0x2ab011)return setTimeout(()=>{const _0x51cbf9=a0_0x1399;this['clearSyncTimeout'](),this[_0x51cbf9(0x1ab)]();},0x0),!0x0;if(this[_0x184d54(0x478)]=!0x1,this['timeoutCallback']=_0x9fac38,this['syncTimeout']=setTimeout(_0x9fac38,0x7d0),!this[_0x184d54(0x26f)])throw new _0x56b2e7(_0x56b2e7[_0x184d54(0x90b)][_0x184d54(0x16d)]);const _0x78b10e=await this['mmr'][_0x184d54(0x904)](),_0xa9bb9d={'sourceId':this[_0x184d54(0x772)]['getId'](),'messageType':_0x2ba96e[_0x184d54(0x72b)],'propagate':_0x32770b,'content':{'type':_0x2e4dcf[_0x184d54(0x24b)],'label':this[_0x184d54(0x5da)],'mmrRoot':_0x78b10e}};return this['loggingCycle'][_0x184d54(0x55a)](_0xa9bb9d),this[_0x184d54(0x26f)][_0x184d54(0x817)](_0xa9bb9d),this[_0x184d54(0x18b)];}async[_0x4d9d4f(0x48d)](_0x5cfe54,_0x532acc){const _0x45d18c=_0x4d9d4f;if(_0x2644bc['log'](_0x1a98bf['KeyValueDatabase'],_0x45d18c(0x57a)+_0x532acc[_0x45d18c(0x99a)],this[_0x45d18c(0x5da)]),!this[_0x45d18c(0x4c8)])throw new _0x56b2e7(_0x56b2e7[_0x45d18c(0x90b)][_0x45d18c(0x1d8)]);for(const _0x453041 of _0x532acc){const _0x2c61d6=await this[_0x45d18c(0x4c8)]['get'](_0x453041);if(!_0x2c61d6)continue;const [_0x26a689,_0x46477d]=_0x453041['split']('::'),_0x2c54c3=this[_0x45d18c(0x217)](_0x26a689),_0x5d9f3b=await _0x2c54c3[_0x45d18c(0x29f)](_0x46477d);_0x5d9f3b?(_0x2c61d6[_0x45d18c(0x184)]=_0x5d9f3b,this['send'](_0x2c61d6,[_0x5cfe54])):_0x2644bc[_0x45d18c(0xd0)](_0x45d18c(0x601),{'nodeId':this[_0x45d18c(0x772)]['getId'](),'nodeType':this[_0x45d18c(0x772)][_0x45d18c(0x506)],'remoteId':_0x5cfe54,'data':{'tableKeys':Object[_0x45d18c(0x224)](this['tables']),'transactionId':_0x453041,'transactions':this[_0x45d18c(0x8ef)],'tableName':_0x26a689,'key':_0x46477d}});}}async[_0x4d9d4f(0x9c9)](_0x45df9c){const _0x1c38e6=_0x4d9d4f;if(!this['transactionTable'])throw new _0x56b2e7(_0x56b2e7[_0x1c38e6(0x90b)][_0x1c38e6(0x1d8)]);const _0x26b0f1=await this['mmr'][_0x1c38e6(0x2ae)](_0x45df9c),_0x1f89e8=this[_0x1c38e6(0x7bd)][_0x1c38e6(0x29f)](_0x26b0f1);if(_0x1f89e8&&this[_0x1c38e6(0x2bd)](_0x45df9c,_0x1f89e8)<=0x0)return void _0x2644bc[_0x1c38e6(0x5ad)](_0x1a98bf[_0x1c38e6(0x62c)],_0x1c38e6(0x65f),_0x45df9c);const _0x54fc26={..._0x45df9c};return delete _0x54fc26[_0x1c38e6(0x184)],this[_0x1c38e6(0x1b8)](_0x54fc26),await this[_0x1c38e6(0x4c8)][_0x1c38e6(0xcd)](_0x45df9c['id'],_0x54fc26),_0x45df9c;}[_0x4d9d4f(0x2bd)](_0x275f51,_0x5bd24b){const _0x244b20=_0x4d9d4f;return _0x275f51[_0x244b20(0x7d7)]!==_0x5bd24b[_0x244b20(0x7d7)]?_0x275f51[_0x244b20(0x7d7)]-_0x5bd24b[_0x244b20(0x7d7)]:_0x275f51[_0x244b20(0xcb)]-_0x5bd24b[_0x244b20(0xcb)];}async[_0x4d9d4f(0x6ce)](_0x418b55){const _0x4709d1=_0x4d9d4f;if(!this[_0x4709d1(0x4c8)])throw new _0x56b2e7(_0x56b2e7[_0x4709d1(0x90b)][_0x4709d1(0x1d8)]);const _0x31ad8c=_0x418b55[_0x4709d1(0x3ad)]+'::'+_0x418b55[_0x4709d1(0x79f)],_0x3eb0fa=await _0x1f3417[_0x4709d1(0x977)](),_0xfe2e22={'id':_0x31ad8c,'priority':Math['random'](),'timestamp':_0x3eb0fa,'action':_0x418b55['action']};if(await this[_0x4709d1(0x9c9)](_0xfe2e22))return _0xfe2e22;}async['deleteTransactionsForTable'](_0x36bfe6){const _0x573d93=_0x4d9d4f;if(!this[_0x573d93(0x4c8)])throw new _0x56b2e7(_0x56b2e7[_0x573d93(0x90b)][_0x573d93(0x1d8)]);const _0x1b9daa=_0x34a9c6[_0x573d93(0x361)]('id')[_0x573d93(0x5e3)](_0x573d93(0x60e),[_0x36bfe6+'::',_0x36bfe6+_0x573d93(0x986)]),_0x43721e=await this['transactionTable'][_0x573d93(0x710)](_0x1b9daa[_0x573d93(0x886)]());for(const _0x2c01fd of _0x43721e)await this[_0x573d93(0x4c8)][_0x573d93(0x465)](_0x2c01fd['id']);}[_0x4d9d4f(0x18e)](){this['onMessage'](async(_0x39c57c,_0x1ff56f)=>{const _0x212b8a=a0_0x1399;if(_0x1ff56f instanceof File)return;if(this['loggingCycle'][_0x212b8a(0x189)](_0x1ff56f),!await this[_0x212b8a(0x9c9)](_0x1ff56f))return void this[_0x212b8a(0x330)](_0x39c57c,_0x1ff56f);if(!_0x1ff56f[_0x212b8a(0x184)])throw new _0x56b2e7(_0x56b2e7[_0x212b8a(0x90b)][_0x212b8a(0x2ac)]);const [_0x21a140,_0x3a2524]=_0x1ff56f['id']['split']('::'),_0xd9a824=this['getTable'](_0x21a140);if(!_0xd9a824)throw new _0x56b2e7(_0x56b2e7[_0x212b8a(0x90b)][_0x212b8a(0x957)],{'table':_0xd9a824});let _0xabfc07=0x0;switch(_0x1ff56f['action']){case _0x43892d[_0x212b8a(0x7e2)]:case _0x43892d['Update']:{const _0x3dc14=_0xd9a824[_0x212b8a(0xcd)](_0x3a2524,_0x1ff56f[_0x212b8a(0x184)],!0x1);_0xabfc07=JSON['stringify'](_0x1ff56f['value'])[_0x212b8a(0x99a)],this[_0x212b8a(0x8ef)][_0x212b8a(0x766)](_0x1ff56f['id'])&&this[_0x212b8a(0xdc)]['push'](_0x3dc14);break;}case _0x43892d[_0x212b8a(0x945)]:{const _0x3b4511=_0xd9a824[_0x212b8a(0x465)](_0x3a2524,!0x1);this[_0x212b8a(0x8ef)][_0x212b8a(0x766)](_0x1ff56f['id'])&&this['syncTransactionsWritten'][_0x212b8a(0x9e2)](_0x3b4511);break;}}_0x2644bc[_0x212b8a(0x687)](_0x30c1eb['KeyValueDatabase'],{'type':_0x212b8a(0x7a6),'label':this[_0x212b8a(0x5da)],'nodeId':this[_0x212b8a(0x772)]['getId'](),'nodeType':this[_0x212b8a(0x772)]['type'],'clusterId':this['clusterId'],'tableName':_0x21a140,'key':_0x3a2524,'size':_0xabfc07}),this[_0x212b8a(0x330)](_0x39c57c,_0x1ff56f);});}['setOnTableWriteHandler'](){const _0x87318b=_0x4d9d4f;this[_0x87318b(0x56b)]=this['tableObserver'][_0x87318b(0x3dd)](async _0x354ee5=>{const _0x381361=_0x87318b;let _0x25d357=0x0;switch(_0x354ee5[_0x381361(0x6f2)]){case _0x43892d[_0x381361(0x7e2)]:case _0x43892d['Update']:case _0x43892d[_0x381361(0x945)]:{const _0x29da60=await this[_0x381361(0x6ce)](_0x354ee5);if(!_0x29da60)return;_0x29da60[_0x381361(0x184)]=_0x354ee5[_0x381361(0x184)],this['send'](_0x29da60),_0x25d357=JSON['stringify'](_0x354ee5[_0x381361(0x184)])[_0x381361(0x99a)],this[_0x381361(0xad)]+=0x1;break;}case _0x2158a3[_0x381361(0x9a4)]:case _0x2158a3[_0x381361(0x3a4)]:case _0x2158a3['Count']:this[_0x381361(0x503)]+=0x1;}_0x2644bc[_0x381361(0x687)](_0x30c1eb[_0x381361(0x62c)],{'type':_0x354ee5['action'],'label':this[_0x381361(0x5da)],'nodeId':this[_0x381361(0x772)][_0x381361(0x9a5)](),'nodeType':this['localNode'][_0x381361(0x506)],'clusterId':this[_0x381361(0x95e)],'tableName':_0x354ee5[_0x381361(0x3ad)],'key':_0x354ee5[_0x381361(0x79f)],'size':_0x25d357}),this[_0x381361(0x71e)]();});}['instantiateTransactionTable'](){const _0x318624=_0x4d9d4f;this['db']&&(this['transactionTable']||(this['transactionTable']=this['db'][_0x318624(0x937)](_0x4e0b4b)));}['clearSyncTimeout'](){const _0x2eacf6=_0x4d9d4f;this['syncTimeout']&&(clearTimeout(this[_0x2eacf6(0x44a)]),delete this[_0x2eacf6(0x44a)]);}async[_0x4d9d4f(0x1ab)](){const _0x161a9d=_0x4d9d4f;await this[_0x161a9d(0x5f0)][_0x161a9d(0x28e)],this[_0x161a9d(0x8ba)](),this[_0x161a9d(0x5d5)][_0x161a9d(0x817)]({'event':_0x2477c2['DatabaseEvent'][_0x161a9d(0x824)]}),this[_0x161a9d(0x5ef)]?.(!0x0),delete this[_0x161a9d(0x5ef)],this[_0x161a9d(0x71e)](),_0x2644bc['log'](_0x1a98bf['KeyValueDatabase'],'Sync\x20completed',this['label']);}async[_0x4d9d4f(0x1a6)](_0x43c029){const _0x3705d7=_0x4d9d4f;await Promise['all'](this['syncTransactionsWritten']),_0x2644bc[_0x3705d7(0x5ad)](_0x1a98bf[_0x3705d7(0x62c)],'publishSyncCompletedAfterWrites\x20-\x20'+this['syncTransactionsWritten'][_0x3705d7(0x99a)]+_0x3705d7(0x969)+_0x43c029+_0x3705d7(0x234),this[_0x3705d7(0x5da)]),await this[_0x3705d7(0x5f0)]['ready'],await this[_0x3705d7(0x8d6)](_0x43c029),await this['publishSyncCompleted']();}['checkSyncComplete'](_0xf789c0,_0x1ab42a){const _0x1c5ca4=_0x4d9d4f;this[_0x1c5ca4(0x8ef)][_0x1c5ca4(0x766)](_0x1ab42a['id'])&&(this[_0x1c5ca4(0x870)](),this[_0x1c5ca4(0x8ef)]=this[_0x1c5ca4(0x8ef)][_0x1c5ca4(0x64c)](_0x4d5295=>_0x4d5295!==_0x1ab42a['id']),0x0!==this[_0x1c5ca4(0x8ef)]['length']?this[_0x1c5ca4(0x44a)]=setTimeout(this[_0x1c5ca4(0x1e0)],0x7d0):this[_0x1c5ca4(0x1a6)](_0xf789c0));}['sendStats'](){const _0x4ae155=_0x4d9d4f;this[_0x4ae155(0x233)]&&clearTimeout(this['debounceStats']),this[_0x4ae155(0x233)]=setTimeout(async()=>{const _0x93fd51=_0x4ae155;delete this['debounceStats'];let _0x3f96e2=0x0;for(const _0x1e94a3 of this[_0x93fd51(0x76e)][_0x93fd51(0x7a1)]())_0x3f96e2+=await _0x1e94a3['calculateSize']();this[_0x93fd51(0x26f)][_0x93fd51(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e['Content'],'content':{'type':_0x2e4dcf['KeyValueDatabaseStats'],'label':this[_0x93fd51(0x5da)],'stats':{'timestamp':Date[_0x93fd51(0x873)](),'storage':_0x3f96e2,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x93fd51(0x43d)],'bytesSent':this[_0x93fd51(0x1d1)],'bytesReceived':this['bytesReceived'],'writes':this[_0x93fd51(0xad)],'reads':this[_0x93fd51(0x503)],'prompts':0x0,'tokens':0x0}}}),_0x2644bc[_0x93fd51(0x778)](_0x30c1eb['KeyValueDatabase'],'ccc'+this[_0x93fd51(0x95e)]+_0x93fd51(0x4be)+this[_0x93fd51(0x5da)],_0x3f96e2);},_0x5760dc);}['addReservedTables'](_0x4889d7){const _0x47ffb0=_0x4d9d4f;if(_0x4889d7[_0x47ffb0(0x76e)][_0x4e0b4b])throw new _0x2554b3(_0x17f7da[_0x47ffb0(0x978)],_0x47ffb0(0x421)+_0x4e0b4b+_0x47ffb0(0x29e));if(_0x4889d7[_0x47ffb0(0x76e)][_0x4bd6c0])throw new _0x2554b3(_0x17f7da[_0x47ffb0(0x978)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x4bd6c0+'\x27\x20reserved');_0x4889d7[_0x47ffb0(0x76e)][_0x4e0b4b]={'indexes':[]},_0x4889d7[_0x47ffb0(0x76e)][_0x4bd6c0]={'indexes':[]};}async[_0x4d9d4f(0xf3)](_0x5326b3){const _0x188426=_0x4d9d4f;return Promise[_0x188426(0x3c9)]([_0x5326b3,Promise[_0x188426(0x104)](_0x188426(0xbf))])['then'](_0x1216da=>_0x188426(0xbf)!==_0x1216da);}async['confirmSynchronization'](_0x24828c){const _0x3f66ce=_0x4d9d4f;await this[_0x3f66ce(0x9ab)]();const _0x18d7fc=await this[_0x3f66ce(0x5f0)][_0x3f66ce(0x904)](),_0x180588={'sourceId':this['localNode'][_0x3f66ce(0x9a5)](),'destinationIds':[_0x24828c],'propagate':!0x0,'messageType':_0x2ba96e['Content'],'content':{'type':_0x2e4dcf[_0x3f66ce(0xc7)],'label':this[_0x3f66ce(0x5da)],'mmrRoot':_0x18d7fc}};this[_0x3f66ce(0x26f)]['publish'](_0x180588);}async[_0x4d9d4f(0x637)](){const _0x51bbd3=_0x4d9d4f;if(!this[_0x51bbd3(0x4c8)])throw new _0x56b2e7(_0x56b2e7[_0x51bbd3(0x90b)][_0x51bbd3(0x1d8)]);this[_0x51bbd3(0x333)]=await this[_0x51bbd3(0x4c8)][_0x51bbd3(0x710)](),this[_0x51bbd3(0x333)]['sort'](this[_0x51bbd3(0x2bd)]),this[_0x51bbd3(0x5f0)]=new _0x410bfe(),this[_0x51bbd3(0x7bd)]=new Map();for(const _0x3649b8 of this['transactions'])this[_0x51bbd3(0xa8)](_0x3649b8,this[_0x51bbd3(0x333)][_0x51bbd3(0x99a)]);this['logInitialMMR']();}async[_0x4d9d4f(0xa8)](_0x531bc4,_0x22e7eb){const _0x11ce42=_0x4d9d4f,_0x57d59f={..._0x531bc4};delete _0x57d59f[_0x11ce42(0x184)],await this[_0x11ce42(0x5f0)][_0x11ce42(0xd5)](_0x57d59f,_0x22e7eb);const _0x2046c1=await this[_0x11ce42(0x5f0)][_0x11ce42(0x2ae)](_0x57d59f);this['transactionHashMap'][_0x11ce42(0xcd)](_0x2046c1,_0x531bc4);}[_0x4d9d4f(0x7d4)](_0x26b1ac){const _0x2a6740=_0x4d9d4f;return this[_0x2a6740(0x7bd)][_0x2a6740(0x29f)](_0x26b1ac);}[_0x4d9d4f(0x169)](_0x44eafd,_0x14be4b){const _0x52bc5f=_0x4d9d4f;if(0x0!==_0x44eafd[_0x52bc5f(0x3d9)])_0x44eafd[_0x52bc5f(0x488)]&&this[_0x52bc5f(0x169)](_0x44eafd['left'],_0x14be4b),_0x44eafd['right']&&this['collectTransactionsFromNode'](_0x44eafd[_0x52bc5f(0x198)],_0x14be4b);else{const _0x39867e=this[_0x52bc5f(0x7d4)](_0x44eafd[_0x52bc5f(0x758)]);_0x39867e&&_0x14be4b['push'](_0x39867e);}}async['rebuildMMR'](){const _0x4848dd=_0x4d9d4f;this[_0x4848dd(0x9b8)]&&(clearTimeout(this[_0x4848dd(0x9b8)]),delete this[_0x4848dd(0x9b8)],this[_0x4848dd(0x201)][_0x4848dd(0x99a)]>0x0&&(this[_0x4848dd(0x333)][_0x4848dd(0x9e2)](...this[_0x4848dd(0x201)][_0x4848dd(0xd6)](this[_0x4848dd(0x2bd)])),this[_0x4848dd(0x201)]=[]));const _0x51356f=this['startLoggingCycle']();this[_0x4848dd(0x5f0)]=new _0x410bfe(),this[_0x4848dd(0x7bd)][_0x4848dd(0x976)](),this[_0x4848dd(0x333)][_0x4848dd(0xd6)](this['compareTransactions']);for(const _0xe3e9d4 of this[_0x4848dd(0x333)])this['appendTransactionAndUpdateHashMap'](_0xe3e9d4,this['transactions']['length']);await this['mmr'][_0x4848dd(0x28e)],this[_0x4848dd(0x205)](_0x51356f);}['startLoggingCycle'](){const _0x4737ab=_0x4d9d4f;return this[_0x4737ab(0x512)][_0x4737ab(0x57e)][_0x4737ab(0x99b)](async()=>{const _0xf8f065=_0x4737ab,_0x236261=await this[_0xf8f065(0x5f0)]['getRoot']();return{'startTime':Date[_0xf8f065(0x873)](),'initialRoot':_0x236261};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async['logMMRRebuild'](_0x23de42){const _0x156b7d=_0x4d9d4f;try{const {startTime:_0x4a3c3c,initialRoot:_0x23e095}=await _0x23de42,_0x3a3a3e=await this[_0x156b7d(0x5f0)][_0x156b7d(0x904)](),_0x5585ee=['RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20'+(_0x23e095!==_0x3a3a3e),_0x156b7d(0x19e)+_0x23e095,'\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20'+_0x3a3a3e,_0x156b7d(0x558)+this['mmr'][_0x156b7d(0x8f3)](),_0x156b7d(0x781)+(Date['now']()-_0x4a3c3c)+_0x156b7d(0x78f)][_0x156b7d(0x6de)]('\x20');this[_0x156b7d(0x512)][_0x156b7d(0x57e)][_0x156b7d(0x5ad)]('',()=>_0x5585ee);}catch(_0x437d0){console[_0x156b7d(0x716)](_0x156b7d(0x7a7),_0x437d0);}}[_0x4d9d4f(0x1b8)](_0x5813a8){const _0x273829=_0x4d9d4f;this['transactionsToAppend']['push'](_0x5813a8),this[_0x273829(0x9b8)]&&(clearTimeout(this[_0x273829(0x9b8)]),delete this[_0x273829(0x9b8)]),this[_0x273829(0x9b8)]=setTimeout(()=>{this['processTransactionsToComputeMMR']();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x4e40f0=_0x4d9d4f;if(this[_0x4e40f0(0x9b8)]&&(clearTimeout(this[_0x4e40f0(0x9b8)]),delete this[_0x4e40f0(0x9b8)]),0x0!==this[_0x4e40f0(0x201)]['length']){if(0x0===this[_0x4e40f0(0x333)]['length'])return this[_0x4e40f0(0x333)]=this[_0x4e40f0(0x201)],this[_0x4e40f0(0x201)]=[],await this[_0x4e40f0(0x683)]();if(this[_0x4e40f0(0x201)][_0x4e40f0(0xd6)](this[_0x4e40f0(0x2bd)]),this[_0x4e40f0(0x2bd)](this[_0x4e40f0(0x201)][0x0],this['transactions'][this[_0x4e40f0(0x333)][_0x4e40f0(0x99a)]-0x1])>0x0){this[_0x4e40f0(0x512)][_0x4e40f0(0x57e)][_0x4e40f0(0x5ad)](_0x4e40f0(0x72e)+this[_0x4e40f0(0x201)][_0x4e40f0(0x99a)]+_0x4e40f0(0x60b)+this[_0x4e40f0(0x333)][_0x4e40f0(0x99a)]);for(const _0xbf53ef of this[_0x4e40f0(0x201)])this[_0x4e40f0(0x333)][_0x4e40f0(0x9e2)](_0xbf53ef),this[_0x4e40f0(0xa8)](_0xbf53ef,this[_0x4e40f0(0x201)][_0x4e40f0(0x99a)]);return this[_0x4e40f0(0x201)]=[],void this[_0x4e40f0(0x512)][_0x4e40f0(0x57e)][_0x4e40f0(0x5ad)](_0x4e40f0(0x7ef),async()=>_0x4e40f0(0x394)+await this[_0x4e40f0(0x5f0)][_0x4e40f0(0x904)]()+',\x20Total\x20Nodes:'+this['mmr'][_0x4e40f0(0x8f3)]());}this[_0x4e40f0(0x512)][_0x4e40f0(0x57e)][_0x4e40f0(0x5ad)](_0x4e40f0(0x6c1)+this[_0x4e40f0(0x201)][_0x4e40f0(0x99a)]+_0x4e40f0(0x60b)+this[_0x4e40f0(0x333)][_0x4e40f0(0x99a)]),this['transactions']['push'](...this[_0x4e40f0(0x201)]),this[_0x4e40f0(0x201)]=[],this[_0x4e40f0(0x683)]();}}async[_0x4d9d4f(0x8ba)](){const _0x3bf4ef=_0x4d9d4f;if(!_0x2644bc[_0x3bf4ef(0x164)](_0x1a98bf[_0x3bf4ef(0x62c)]))return;await this[_0x3bf4ef(0x5f0)][_0x3bf4ef(0x28e)];const {dataSent:_0x4d4d27,dataReceived:_0x10165d}=this[_0x3bf4ef(0x512)][_0x3bf4ef(0x4dc)]();_0x2644bc['log'](_0x1a98bf[_0x3bf4ef(0x62c)],_0x3bf4ef(0x871),this[_0x3bf4ef(0x5da)],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x4d4d27,_0x3bf4ef(0x6db)+_0x10165d,_0x3bf4ef(0xfe),await this[_0x3bf4ef(0x5f0)][_0x3bf4ef(0x904)](),_0x3bf4ef(0x2d0),this[_0x3bf4ef(0x5f0)]['getTotalNodes']());}async[_0x4d9d4f(0x800)](){const _0x346015=_0x4d9d4f;if(!_0x2644bc['isChannelEnabled'](_0x1a98bf['KeyValueDatabase']))return;const _0x3f1942=this[_0x346015(0x5f0)][_0x346015(0x32b)](),_0x28213f=_0x3f1942['map'](_0x3b388a=>_0x3b388a['height']),_0x3d0868=await this[_0x346015(0x5f0)][_0x346015(0x904)]();_0x2644bc[_0x346015(0x5ad)](_0x1a98bf[_0x346015(0x62c)],'Initial\x20MMR\x20built\x20with',this[_0x346015(0x333)][_0x346015(0x99a)],_0x346015(0x333),this[_0x346015(0x5f0)]['getTotalNodes'](),'totalNodes',_0x3f1942[_0x346015(0x99a)],'peaks',_0x28213f,_0x346015(0x3bd),_0x3d0868);}}const _0x3ac5d8=require('@crewdle/mist-connector-opfs'),_0x1c22c5=require('@crewdle/mist-connector-indexed-db'),_0x2c0f70=require('@crewdle/mist-connector-webrtc-browser'),_0x2d08cd=0x1fc00000;var _0x10a6e3,_0x4903f6,_0x774ff0,_0x5a0522,_0x599c1b,_0x52da1b,_0x9f3900,_0x1c500c,_0x6b228d;!function(_0x38925b){const _0x57d0fb=_0x4d9d4f;_0x38925b['AudioContext']=_0x57d0fb(0x11f),_0x38925b[_0x57d0fb(0x460)]=_0x57d0fb(0x460),_0x38925b['AudioVolume']=_0x57d0fb(0x709),_0x38925b['Backgrounds']=_0x57d0fb(0xf5),_0x38925b[_0x57d0fb(0x664)]=_0x57d0fb(0x664),_0x38925b['MediaStream']=_0x57d0fb(0x6f7),_0x38925b[_0x57d0fb(0x9b4)]=_0x57d0fb(0x9b4),_0x38925b['ScreenSharing']='ScreenSharing',_0x38925b[_0x57d0fb(0x2fb)]='WebGL',_0x38925b[_0x57d0fb(0x984)]='WebRTC';}(_0x10a6e3||(_0x10a6e3={}));class _0x3f844e{[_0x4d9d4f(0x7a8)];[_0x4d9d4f(0x5d4)];[_0x4d9d4f(0x100)];constructor(_0x2d7ad7=new Map(),_0x1da53a=new Map(),_0x5a5dae=new EventTarget()){const _0x1c3f6c=_0x4d9d4f;this[_0x1c3f6c(0x7a8)]=_0x2d7ad7,this['bufferedEvents']=_0x1da53a,this[_0x1c3f6c(0x100)]=_0x5a5dae;}[_0x4d9d4f(0x79d)]=(_0x192d9b,_0x83ab32)=>this['registeredListeners'][_0x4d9d4f(0x8dd)](_0x192d9b)?(_0x2644bc[_0x4d9d4f(0x5ad)](_0x1a98bf['Events'],_0x4d9d4f(0x739),{'event':_0x192d9b,'data':_0x83ab32}),this[_0x4d9d4f(0x100)][_0x4d9d4f(0x644)](new CustomEvent(_0x192d9b,{'detail':_0x83ab32})),!0x0):(this['bufferEvent'](_0x192d9b,_0x83ab32),!0x1);['on']=(_0xbdd23d,_0x2e6793)=>{const _0x4b8b57=_0x4d9d4f,_0x3d074c=_0x966a5=>{const _0xda9426=a0_0x1399;_0x2644bc[_0xda9426(0x5ad)](_0x1a98bf['Events'],_0xda9426(0x954),_0x966a5[_0xda9426(0x506)],_0x966a5['detail']),_0x2e6793(_0x966a5[_0xda9426(0x4fa)]);};return this[_0x4b8b57(0x7a8)][_0x4b8b57(0xcd)](_0xbdd23d,_0x3d074c),this['eventTarget'][_0x4b8b57(0x869)](_0xbdd23d,_0x3d074c),_0x2644bc[_0x4b8b57(0x5ad)](_0x1a98bf['Cluster'],_0x4b8b57(0x61f),_0xbdd23d,_0x2e6793),this['consumeBufferedEvents'](_0xbdd23d),this;};[_0x4d9d4f(0x931)](_0x599b7f){const _0x56f039=_0x4d9d4f;if(!_0x599b7f)return this[_0x56f039(0x7a8)]['forEach']((_0x50e3ef,_0x5a2497)=>{const _0x21dd9b=_0x56f039;this[_0x21dd9b(0x100)][_0x21dd9b(0x412)](_0x5a2497,_0x50e3ef);}),void this['registeredListeners'][_0x56f039(0x976)]();_0x56f039(0x794)==typeof _0x599b7f&&this[_0x56f039(0x3f8)](_0x599b7f),Array[_0x56f039(0x630)](_0x599b7f)&&_0x599b7f[_0x56f039(0x1dc)](_0x29e9c7=>{const _0x4bc4d0=_0x56f039;this[_0x4bc4d0(0x3f8)](_0x29e9c7);});}[_0x4d9d4f(0x3f8)](_0xc02744){const _0x32ba54=_0x4d9d4f,_0x4cdc2a=this[_0x32ba54(0x7a8)][_0x32ba54(0x29f)](_0xc02744);_0x4cdc2a&&(this[_0x32ba54(0x100)][_0x32ba54(0x412)](_0xc02744,_0x4cdc2a),this[_0x32ba54(0x7a8)][_0x32ba54(0x465)](_0xc02744));}[_0x4d9d4f(0x600)](_0x1a87ed,_0x356028){const _0x75806b=_0x4d9d4f;_0x2644bc[_0x75806b(0x5ad)](_0x1a98bf[_0x75806b(0x4a1)],_0x75806b(0x33e),{'event':_0x1a87ed,'data':_0x356028});const _0x196f21=this[_0x75806b(0x5d4)]['get'](_0x1a87ed)||[];this[_0x75806b(0x5d4)][_0x75806b(0xcd)](_0x1a87ed,[..._0x196f21,_0x356028]);}['consumeBufferedEvents'](_0xd57df2){const _0x13f088=_0x4d9d4f,_0x23c89a=this[_0x13f088(0x5d4)][_0x13f088(0x29f)](_0xd57df2);_0x23c89a&&(_0x23c89a[_0x13f088(0x1dc)](_0x429d3b=>{const _0x20e59e=_0x13f088;_0x2644bc[_0x20e59e(0x5ad)](_0x1a98bf[_0x20e59e(0x4a1)],_0x20e59e(0x43a),{'event':_0xd57df2,'data':_0x429d3b}),this['eventTarget'][_0x20e59e(0x644)](new CustomEvent(_0xd57df2,{'detail':_0x429d3b}));}),this[_0x13f088(0x5d4)][_0x13f088(0x465)](_0xd57df2));}}class _0x2f0fdd extends Error{constructor(_0x85664b){super('Early\x20return:\x20'+_0x85664b);}}!function(_0x317896){const _0x2167ff=_0x4d9d4f;_0x317896[_0x317896[_0x2167ff(0x8b8)]=0x0]='Core',_0x317896[_0x317896[_0x2167ff(0x91f)]=0x1]=_0x2167ff(0x91f);}(_0x4903f6||(_0x4903f6={})),function(_0x32b9e5){const _0x3a9e93=_0x4d9d4f;_0x32b9e5[_0x32b9e5[_0x3a9e93(0x610)]=0x0]=_0x3a9e93(0x610),_0x32b9e5[_0x32b9e5[_0x3a9e93(0x109)]=0x1]=_0x3a9e93(0x109),_0x32b9e5[_0x32b9e5['Handshake']=0x2]=_0x3a9e93(0x69a),_0x32b9e5[_0x32b9e5[_0x3a9e93(0xcf)]=0x3]=_0x3a9e93(0xcf),_0x32b9e5[_0x32b9e5['NeedRestart']=0x4]=_0x3a9e93(0x7d6),_0x32b9e5[_0x32b9e5[_0x3a9e93(0x3ed)]=0x5]=_0x3a9e93(0x3ed),_0x32b9e5[_0x32b9e5[_0x3a9e93(0x48a)]=0x6]=_0x3a9e93(0x48a),_0x32b9e5[_0x32b9e5[_0x3a9e93(0x5bb)]=0x7]=_0x3a9e93(0x5bb),_0x32b9e5[_0x32b9e5['OptimizationConnectionSuccess']=0x8]=_0x3a9e93(0x529);}(_0x774ff0||(_0x774ff0={})),function(_0x191378){const _0x276850=_0x4d9d4f;_0x191378[_0x191378[_0x276850(0x980)]=0x0]=_0x276850(0x980),_0x191378[_0x191378[_0x276850(0x186)]=0x1]=_0x276850(0x186);}(_0x5a0522||(_0x5a0522={})),function(_0x47a928){const _0x6e7375=_0x4d9d4f;_0x47a928[_0x6e7375(0x6f7)]=_0x6e7375(0x6ec);}(_0x599c1b||(_0x599c1b={})),function(_0x5bd704){const _0x39a8a4=_0x4d9d4f;_0x5bd704[_0x5bd704[_0x39a8a4(0x1ac)]=0x0]='NodeJoin',_0x5bd704[_0x5bd704[_0x39a8a4(0x4a2)]=0x1]=_0x39a8a4(0x4a2),_0x5bd704[_0x5bd704[_0x39a8a4(0x96c)]=0x2]=_0x39a8a4(0x96c),_0x5bd704[_0x5bd704['NodeLeave']=0x3]=_0x39a8a4(0x188);}(_0x52da1b||(_0x52da1b={})),function(_0x2b37f5){const _0xb12d7b=_0x4d9d4f;_0x2b37f5[_0x2b37f5[_0xb12d7b(0x92a)]=0x0]=_0xb12d7b(0x92a),_0x2b37f5[_0x2b37f5['RemoteRemediation']=0x1]=_0xb12d7b(0x4c6);}(_0x9f3900||(_0x9f3900={})),function(_0x3f4604){const _0x5c9185=_0x4d9d4f;_0x3f4604[_0x5c9185(0x368)]=_0x5c9185(0x738),_0x3f4604[_0x5c9185(0x724)]='downgrade';}(_0x1c500c||(_0x1c500c={})),function(_0x3f3f48){const _0x32250a=_0x4d9d4f;_0x3f3f48['Resolution']=_0x32250a(0x476),_0x3f3f48[_0x32250a(0x384)]=_0x32250a(0x642);}(_0x6b228d||(_0x6b228d={}));const _0x33dd92=require('aws-amplify'),_0x4eae6f=require('aws-amplify/utils'),_0x264316=require('@aws-amplify/api'),_0x302fb2=require('@aws-amplify/core');class _0x36f624{['clusterId'];[_0x4d9d4f(0x772)];[_0x4d9d4f(0x242)];constructor(_0x5a373c,_0x2fe365,_0x4adcb2){const _0x36a642=_0x4d9d4f;this[_0x36a642(0x95e)]=_0x5a373c,this['localNode']=_0x2fe365,this[_0x36a642(0x242)]=_0x4adcb2;}[_0x4d9d4f(0x39f)](){const _0x54da13=_0x4d9d4f;return this[_0x54da13(0x772)][_0x54da13(0x9a5)]();}['getRemoteId'](){const _0x5e7426=_0x4d9d4f;return this[_0x5e7426(0x242)];}}var _0x15f250,_0x20fb02,_0x569b17;function _0x87a977(_0x4864ed,_0x53ba30){return _0x4864ed['sourceId']===_0x53ba30;}function _0x1cbdfe(_0x41f7ee,_0x3b5ace){const _0x545781=_0x4d9d4f;return _0x41f7ee[_0x545781(0x3f9)]?.[_0x545781(0x766)](_0x3b5ace)??function(_0x3b55c5){return void 0x0===_0x3b55c5['destinationIds'];}(_0x41f7ee);}function _0x21c219(_0x1494ad,{contentType:_0x1105a3,label:_0x3b89d3,remoteId:_0xde0cda}){return _0x1494ad+'-'+_0x1105a3+'-'+_0x3b89d3+'-'+_0xde0cda;}function _0x572f08(_0xac865f,_0xd74c14,_0x2ec46e){return''+_0xac865f+_0xd74c14+_0x2ec46e;}function _0x4e83fb(_0x5aba1e){const _0x5c8cd9=_0x4d9d4f;return _0x5aba1e===_0x20fb02[_0x5c8cd9(0x7ea)]?_0x5c8cd9(0x1ee):'OutgoingSubscription';}function _0x2164f0(_0x638b87,_0x38b154){const _0x2b990e=_0x4d9d4f;return{'label':_0x638b87[_0x2b990e(0x176)](),'contentType':_0x638b87[_0x2b990e(0x24e)](),'remoteId':_0x38b154[_0x2b990e(0x91b)](),'supportsContentType':_0x38b154[_0x2b990e(0x477)]()[_0x2b990e(0x766)](_0x638b87['getContentType']())};}!function(_0x4ff828){const _0x2587d6=_0x4d9d4f;_0x4ff828[_0x4ff828[_0x2587d6(0x8d9)]=0x0]=_0x2587d6(0x8d9),_0x4ff828[_0x4ff828[_0x2587d6(0x5a8)]=0x1]='Accepted',_0x4ff828[_0x4ff828[_0x2587d6(0x22e)]=0x2]=_0x2587d6(0x22e);}(_0x15f250||(_0x15f250={})),function(_0x31f0d3){const _0x3e7226=_0x4d9d4f;_0x31f0d3['Incoming']='in',_0x31f0d3['Outgoing']=_0x3e7226(0x382);}(_0x20fb02||(_0x20fb02={}));class _0x1eff5f{[_0x4d9d4f(0x3e9)];['retryCallback'];constructor(_0x194ad0,_0x3ef208){const _0x6ee920=_0x4d9d4f;this[_0x6ee920(0x3e9)]=_0x194ad0,this['retryCallback']=_0x3ef208;}['call'](_0x376d12){const _0x2bc4ff=_0x4d9d4f;this[_0x2bc4ff(0x3e9)](_0x376d12);}async[_0x4d9d4f(0x24a)](){const _0x74be7c=_0x4d9d4f;await this[_0x74be7c(0x9ca)]();}}class _0x1477f6{[_0x4d9d4f(0x3e9)];[_0x4d9d4f(0x9ca)];constructor(_0x11baf1,_0x4e1390){const _0xdc5f8d=_0x4d9d4f;this[_0xdc5f8d(0x3e9)]=_0x11baf1,this['retryCallback']=_0x4e1390;}async[_0x4d9d4f(0x92f)](_0x11adc2){const _0x323364=_0x4d9d4f;await this[_0x323364(0x3e9)](_0x11adc2);}async[_0x4d9d4f(0x24a)](){const _0x59dccc=_0x4d9d4f;await this[_0x59dccc(0x9ca)]();}}function _0x90da63(_0x5dd821=()=>{},_0x3a804b=()=>!0x1,_0x1e9dbe=()=>{}){let _0x58b4b4,_0x357702,_0x4ec4ea=0x0;return{get 'size'(){return _0x4ec4ea;},get 'head'(){return _0x58b4b4;},get 'tail'(){return _0x357702;},set 'head'(_0x3db2d3){_0x58b4b4=_0x3db2d3;},set 'tail'(_0x2700c4){_0x357702=_0x2700c4;},'push'(_0x33d914,_0x2c014e=!0x0){const _0x5102af=a0_0x1399,_0x198bec={'value':_0x33d914};_0x2c014e&&_0x3a804b(_0x198bec)?_0x5dd821():(_0x357702&&(_0x198bec['previous']=_0x357702,_0x357702[_0x5102af(0x726)]=_0x198bec),_0x357702=_0x198bec,_0x58b4b4||(_0x58b4b4=_0x198bec),_0x4ec4ea+=0x1,_0x2c014e&&_0x5dd821());},'pop'(){const _0x30beb6=a0_0x1399;if(!_0x357702)return;const _0x532ab2=_0x357702[_0x30beb6(0x184)];return _0x357702=_0x357702[_0x30beb6(0x46d)],_0x357702&&delete _0x357702['next'],_0x357702||(_0x58b4b4=void 0x0),_0x4ec4ea-=0x1,_0x532ab2;},'unshift'(_0x185c22,_0x423573=!0x0){const _0x3ba71b=a0_0x1399,_0x583f4c={'value':_0x185c22};_0x423573&&_0x3a804b(_0x583f4c)?_0x5dd821():(_0x58b4b4&&(_0x58b4b4[_0x3ba71b(0x46d)]=_0x583f4c,_0x583f4c[_0x3ba71b(0x726)]=_0x58b4b4),_0x58b4b4=_0x583f4c,_0x357702||(_0x357702=_0x583f4c),_0x4ec4ea+=0x1,_0x423573&&_0x5dd821());},'shift'(){const _0x3ab7f3=a0_0x1399;if(!_0x58b4b4)return;const _0x3a39f6=_0x58b4b4[_0x3ab7f3(0x184)];return _0x58b4b4=_0x58b4b4[_0x3ab7f3(0x726)],_0x58b4b4&&delete _0x58b4b4[_0x3ab7f3(0x46d)],_0x58b4b4||(_0x357702=void 0x0),_0x4ec4ea-=0x1,_0x3a39f6;},'clear'(){_0x1e9dbe(),_0x58b4b4=void 0x0,_0x357702=void 0x0,_0x4ec4ea=0x0;}};}function _0x516607(_0x285d01,_0x4ddded=!0x1,_0x222bba=()=>{},_0x3beeec=()=>!0x1,_0xdb2ba0=()=>{}){let _0x3601c6=!0x1;const _0xd9d470=_0x90da63(async function(){const _0x70f7bf=a0_0x1399;if(!_0x3601c6){for(_0x3601c6=!0x0;_0xd9d470['head'];){const _0x2f3679=_0xd9d470[_0x70f7bf(0x124)]();if(_0x2f3679)try{_0x285d01 instanceof _0x1eff5f&&_0x285d01[_0x70f7bf(0x92f)](_0x2f3679),_0x285d01 instanceof _0x1477f6&&await _0x285d01['call'](_0x2f3679),_0x222bba(_0x2f3679);}catch(_0x4cce7b){_0x4ddded?_0xd9d470[_0x70f7bf(0x9e2)](_0x2f3679,!0x1):_0xd9d470['unshift'](_0x2f3679,!0x1),await _0x285d01[_0x70f7bf(0x24a)]();}}_0x3601c6=!0x1;}},_0x3beeec,_0xdb2ba0);return _0xd9d470;}class _0x3c9dd1 extends _0x36f624{[_0x4d9d4f(0x4e6)];['authService'];[_0x4d9d4f(0x499)]=_0x264316[_0x4d9d4f(0x5b1)][_0x4d9d4f(0x42e)];[_0x4d9d4f(0x58c)]=_0xa7293a();[_0x4d9d4f(0x8f4)]=_0x27eca1();[_0x4d9d4f(0x10c)];[_0x4d9d4f(0xd9)];['retryQueue']=_0x516607(new _0x1477f6(this['sendAction']['bind'](this),this[_0x4d9d4f(0x2f1)][_0x4d9d4f(0x3b0)](this)));[_0x4d9d4f(0x7a0)];constructor(_0x3ad80c,_0x158dbf,_0x39cf42,_0x58d806,_0x4428de){super(_0x158dbf,_0x39cf42,_0x58d806),this['vendorId']=_0x3ad80c,this['authService']=_0x4428de;}async[_0x4d9d4f(0x6b5)](){const _0x551828=_0x4d9d4f;try{const _0x20665b={'getTokens':async()=>{const _0x40e67b=a0_0x1399,_0x497ec0=await this[_0x40e67b(0x9ce)][_0x40e67b(0x200)]();return{'accessToken':(0x0,_0x302fb2['decodeJWT'])(_0x497ec0),'idToken':(0x0,_0x302fb2[_0x40e67b(0x487)])(_0x497ec0)};}};_0x33dd92[_0x551828(0x594)]['configure']({'API':{'GraphQL':{'endpoint':_0x10b302[_0x551828(0x344)][_0x551828(0x147)],'region':_0x10b302[_0x551828(0x344)][_0x551828(0x882)],'defaultAuthMode':_0x551828(0xb2)}}},{'Auth':{'tokenProvider':_0x20665b}});const _0x1638f1=(0x0,_0x264316[_0x551828(0x6ad)])();this['client']=_0x1638f1,await this['subscribe'](),this['listenUnsubscriber']=_0x4eae6f[_0x551828(0x74e)][_0x551828(0x17d)](_0x551828(0x742),async({payload:_0x3b8f42})=>{const _0x3654f9=_0x551828;if(_0x3b8f42[_0x3654f9(0x4c3)]===_0x264316['CONNECTION_STATE_CHANGE']){const _0x4279f7=_0x3b8f42[_0x3654f9(0x626)];this[_0x3654f9(0x499)]=_0x4279f7[_0x3654f9(0x499)],this[_0x3654f9(0x58c)][_0x3654f9(0x817)](_0x4279f7['connectionState']),this[_0x3654f9(0x499)]===_0x264316['ConnectionState'][_0x3654f9(0x42e)]?(_0x2644bc[_0x3654f9(0x716)](_0x3654f9(0x338),{'clusterId':this[_0x3654f9(0x95e)],'nodeId':this[_0x3654f9(0x39f)](),'nodeType':this[_0x3654f9(0x772)]['type']}),this[_0x3654f9(0x6d7)](),this['connect']()):this[_0x3654f9(0x499)]===_0x264316['ConnectionState'][_0x3654f9(0xb0)]?_0x2644bc[_0x3654f9(0xd0)](_0x3654f9(0x388),{'clusterId':this['clusterId'],'nodeId':this[_0x3654f9(0x39f)](),'nodeType':this[_0x3654f9(0x772)]['type']}):_0x2644bc[_0x3654f9(0xd0)]('appsync-statechange',{'clusterId':this[_0x3654f9(0x95e)],'nodeId':this['getLocalId'](),'nodeType':this[_0x3654f9(0x772)][_0x3654f9(0x506)],'data':{'state':_0x4279f7['connectionState']}});}});}catch(_0x1d8527){_0x2644bc[_0x551828(0x716)](_0x551828(0x4e7),{'clusterId':this['clusterId'],'nodeId':this[_0x551828(0x39f)](),'nodeType':this[_0x551828(0x772)][_0x551828(0x506)]});}}[_0x4d9d4f(0x6d7)](){const _0x3c4c7b=_0x4d9d4f;_0x2644bc['warning'](_0x3c4c7b(0x2a3),{'clusterId':this['clusterId'],'nodeId':this[_0x3c4c7b(0x39f)](),'nodeType':this[_0x3c4c7b(0x772)][_0x3c4c7b(0x506)]}),this[_0x3c4c7b(0x300)][_0x3c4c7b(0x976)](),this[_0x3c4c7b(0xd9)]?.(),this[_0x3c4c7b(0x10c)]?.[_0x3c4c7b(0x4f9)](),delete this[_0x3c4c7b(0x10c)];}[_0x4d9d4f(0x3b3)](){const _0x18477d=_0x4d9d4f;return this[_0x18477d(0x499)]===_0x264316[_0x18477d(0x5b1)]['Connected'];}[_0x4d9d4f(0x784)](_0x2bdadd){const _0x1b1ff9=_0x4d9d4f;this['retryQueue'][_0x1b1ff9(0x9e2)](_0x2bdadd);}[_0x4d9d4f(0x4f2)](_0x4eb8b4){const _0x3a81e1=_0x4d9d4f;return this[_0x3a81e1(0x8f4)]['subscribe'](_0x4eb8b4);}[_0x4d9d4f(0x477)](){const _0x585615=_0x4d9d4f;return[_0x2477c2[_0x585615(0x61d)][_0x585615(0x1e9)]];}async[_0x4d9d4f(0x2f1)](){const _0x42f6a5=_0x4d9d4f;if(!this[_0x42f6a5(0x3b3)]())return new Promise(_0x35dedd=>{const _0x409b6f=_0x42f6a5,_0x36ee73=this[_0x409b6f(0x58c)]['subscribe'](_0x4dc055=>{const _0x27af03=_0x409b6f;_0x4dc055===_0x264316[_0x27af03(0x5b1)][_0x27af03(0xb0)]&&(_0x36ee73(),_0x35dedd());});});}async[_0x4d9d4f(0x3ec)](_0x375df9){const _0x1042d8=_0x4d9d4f;if(this[_0x1042d8(0x499)]!==_0x264316[_0x1042d8(0x5b1)]['Connected'])throw new Error(_0x1042d8(0x531));_0x375df9[_0x1042d8(0x3f9)]&&0x1===_0x375df9[_0x1042d8(0x3f9)][_0x1042d8(0x99a)]?await this[_0x1042d8(0x817)](_0x375df9['destinationIds'][0x0],JSON[_0x1042d8(0x446)](_0x375df9)):_0x2644bc[_0x1042d8(0x716)](_0x1042d8(0x78d),{'clusterId':this[_0x1042d8(0x95e)],'nodeId':this[_0x1042d8(0x39f)](),'nodeType':this[_0x1042d8(0x772)]['type']});}async[_0x4d9d4f(0x817)](_0x13e5bc,_0x5ec976){const _0x850927=_0x4d9d4f;if(!this['client'])throw new Error(_0x850927(0x8cc));_0x2644bc['log'](_0x1a98bf[_0x850927(0xaa)],_0x850927(0x44c),this[_0x850927(0x39f)](),_0x5ec976),await this[_0x850927(0x7a0)][_0x850927(0x289)]({'query':_0x850927(0x339),'variables':{'name':await this['getHash'](_0x13e5bc),'data':_0x5ec976}});}async[_0x4d9d4f(0x3dd)](){const _0x160fd0=_0x4d9d4f;if(this[_0x160fd0(0x10c)])return;if(!this['client'])throw new Error(_0x160fd0(0x8cc));_0x2644bc[_0x160fd0(0x5ad)](_0x1a98bf[_0x160fd0(0xaa)],_0x160fd0(0x821),this[_0x160fd0(0x39f)]());const _0x385734=await this[_0x160fd0(0x7a0)][_0x160fd0(0x289)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this['getHash']()},'authToken':await this['authService'][_0x160fd0(0x200)]()},{'Authorization':await this['authService']['getIdToken']()});this[_0x160fd0(0x10c)]=_0x385734['subscribe']({'next':({data:_0x25cb11})=>{const _0x459cab=_0x160fd0,_0x373955=JSON[_0x459cab(0x74d)](_0x25cb11[_0x459cab(0x3dd)]['data']);!_0x87a977(_0x373955,this[_0x459cab(0x39f)]())&&_0x1cbdfe(_0x373955,this[_0x459cab(0x39f)]())&&this['messageListeners']['publish'](_0x373955);},'error':console[_0x160fd0(0x5ad)]});}async[_0x4d9d4f(0x29c)](_0x31a1cd){const _0x5b223d=_0x4d9d4f,_0x361f09=await crypto[_0x5b223d(0x606)]['digest'](_0x5b223d(0x94d),new TextEncoder()['encode'](this[_0x5b223d(0x4e6)]+'-'+this[_0x5b223d(0x95e)]+'-'+(_0x31a1cd??this['getLocalId']())));return Array['from'](new Uint8Array(_0x361f09))['map'](_0x2da3a0=>_0x2da3a0['toString'](0x10)['padStart'](0x2,'0'))[_0x5b223d(0x6de)]('');}}!function(_0x356ebe){const _0xd3e1b9=_0x4d9d4f;_0x356ebe[_0x356ebe['Add']=0x0]=_0xd3e1b9(0x7e2),_0x356ebe[_0x356ebe[_0xd3e1b9(0x4c5)]=0x1]=_0xd3e1b9(0x4c5),_0x356ebe[_0x356ebe[_0xd3e1b9(0x912)]=0x2]=_0xd3e1b9(0x912),_0x356ebe[_0x356ebe[_0xd3e1b9(0x741)]=0x3]=_0xd3e1b9(0x741),_0x356ebe[_0x356ebe[_0xd3e1b9(0x3a8)]=0x4]=_0xd3e1b9(0x3a8);}(_0x569b17||(_0x569b17={}));const _0x29c610='0',_0x26d1b8=_0x4d9d4f(0x122),_0x27d9e9=_0x681e57,_0x45ea91=0xbe800;class _0x440f53{[_0x4d9d4f(0x95e)];[_0x4d9d4f(0x772)];[_0x4d9d4f(0x242)];['iceServers'];[_0x4d9d4f(0x275)];['connectionConstructor'];[_0x4d9d4f(0x673)];[_0x4d9d4f(0x5ec)];[_0x4d9d4f(0x54a)]=0x1;[_0x4d9d4f(0x26f)];[_0x4d9d4f(0x362)]=[];['pendingHandshakeCandidates']=[];[_0x4d9d4f(0x85b)];constructor(_0x436ce4,_0x535a6f,_0x49aa90,_0x3d0338,_0x1ec64f,_0x5bb547){const _0x336702=_0x4d9d4f;this['clusterId']=_0x436ce4,this['localNode']=_0x535a6f,this[_0x336702(0x242)]=_0x49aa90,this[_0x336702(0x7c0)]=_0x3d0338,this[_0x336702(0x275)]=_0x1ec64f,this[_0x336702(0x2e2)]=_0x5bb547,this[_0x336702(0x673)]=new this[(_0x336702(0x2e2))]({'handshakeServers':this[_0x336702(0x7c0)]}),this[_0x336702(0x604)]();}['close'](){const _0x23ef46=_0x4d9d4f;this[_0x23ef46(0xb5)]();}[_0x4d9d4f(0x23d)](_0x557b96){const _0x495e00=_0x4d9d4f;this[_0x495e00(0x275)]=_0x557b96;}async['handleHandshake'](_0x2f4f7,_0xd611bf){const _0x52be5f=_0x4d9d4f;if(_0xd611bf===this[_0x52be5f(0x54a)])for(const _0x22afbd of _0x2f4f7){if(!this[_0x52be5f(0x673)][_0x52be5f(0x16f)])return this[_0x52be5f(0x880)](_0x22afbd);try{await this[_0x52be5f(0x673)]['addCandidate'](_0x22afbd);}catch(_0x31c12f){this['addPendingHandshakeCandidate'](_0x22afbd);}}}[_0x4d9d4f(0x3b3)](){const _0x30b1d7=_0x4d9d4f;return this[_0x30b1d7(0x749)](),_0x30b1d7(0x26d)===this[_0x30b1d7(0x673)][_0x30b1d7(0x499)]&&['connected',_0x30b1d7(0x837)]['includes'](this[_0x30b1d7(0x673)][_0x30b1d7(0x983)])&&_0x30b1d7(0x120)!==this[_0x30b1d7(0x673)][_0x30b1d7(0x60a)]&&_0x30b1d7(0x285)===this[_0x30b1d7(0x5ec)]?.['state'];}['registerSystemPublisher'](_0x242a81){this['systemTopic']=_0x242a81;}[_0x4d9d4f(0x2bc)](){const _0x458816=_0x4d9d4f;delete this[_0x458816(0x26f)];}[_0x4d9d4f(0x9de)](_0x3e56dd){const _0x5cb4d4=_0x4d9d4f;this['stopConnection'](),this[_0x5cb4d4(0x673)]=new this['connectionConstructor']({'handshakeServers':this[_0x5cb4d4(0x7c0)]}),_0x3e56dd?this[_0x5cb4d4(0x54a)]=_0x3e56dd:this[_0x5cb4d4(0x54a)]+=0x1,this[_0x5cb4d4(0x604)]();}[_0x4d9d4f(0x41e)](){const _0x3b1330=_0x4d9d4f;this[_0x3b1330(0xd8)][_0x3b1330(0x1dc)](_0x33b5b6=>{const _0x578c58=_0x3b1330;try{this[_0x578c58(0x673)][_0x578c58(0x80e)](_0x33b5b6);}catch(_0x7dc245){}}),this[_0x3b1330(0xd8)]=[];}[_0x4d9d4f(0x9cf)](_0x319bd5,_0x3af065){const _0x6085ba=_0x4d9d4f;if(!this[_0x6085ba(0x26f)])throw new _0x56b2e7(_0x56b2e7[_0x6085ba(0x90b)][_0x6085ba(0x16d)],{'content':_0x319bd5});const _0x3ce0e3={'sourceId':this[_0x6085ba(0x772)][_0x6085ba(0x9a5)](),'destinationIds':[this[_0x6085ba(0x242)]],'propagate':this[_0x6085ba(0x275)]!==_0x4903f6[_0x6085ba(0x8b8)],'retry':this[_0x6085ba(0x275)]!==_0x4903f6[_0x6085ba(0x8b8)],'messageType':_0x2ba96e[_0x6085ba(0x60c)],'content':_0x319bd5};_0x3af065&&(_0x3ce0e3[_0x6085ba(0x332)]=_0x3af065),this[_0x6085ba(0x26f)][_0x6085ba(0x817)](_0x3ce0e3);}[_0x4d9d4f(0x604)](){const _0x5587c6=_0x4d9d4f;this[_0x5587c6(0x673)]['onGatheringStateChange']=()=>{const _0x2ee9da=_0x5587c6;_0x2ee9da(0x33b)===this['connection']['gatheringState']&&this[_0x2ee9da(0x362)][_0x2ee9da(0x99a)]>0x0&&(this[_0x2ee9da(0x85b)]&&clearTimeout(this[_0x2ee9da(0x85b)]),this['handshakeDebounce']=setTimeout(()=>{const _0x9addeb=_0x2ee9da;delete this[_0x9addeb(0x85b)],this[_0x9addeb(0xfb)](),this[_0x9addeb(0x362)]=[];},0x1f4));},this[_0x5587c6(0x673)][_0x5587c6(0x6f1)]=_0x2fb489=>{const _0x2622c4=_0x5587c6;_0x2fb489[_0x2622c4(0x492)]&&this[_0x2622c4(0x362)]['push'](_0x2fb489[_0x2622c4(0x492)]);};}[_0x4d9d4f(0xb5)](){const _0x2b293a=_0x4d9d4f;clearTimeout(this[_0x2b293a(0x85b)]),delete this[_0x2b293a(0x85b)],this[_0x2b293a(0x362)]=[],this[_0x2b293a(0xd8)]=[],this['dataChannel']&&(this['dataChannel'][_0x2b293a(0x4f2)]=null,this[_0x2b293a(0x5ec)][_0x2b293a(0x7f2)]=null,this[_0x2b293a(0x5ec)]['close'](),delete this[_0x2b293a(0x5ec)]),this[_0x2b293a(0x673)]['onGatheringStateChange']=null,this['connection']['onCandidate']=null,this[_0x2b293a(0x673)]['onHandshakeStateChange']=null,this[_0x2b293a(0x673)]['onConnectionStateChange']=null,this['connection'][_0x2b293a(0x2e5)]=null,this[_0x2b293a(0x673)][_0x2b293a(0x1ad)]=null,this[_0x2b293a(0x673)][_0x2b293a(0x6d7)]();}[_0x4d9d4f(0x880)](_0x4fb96f){const _0x2c02a2=_0x4d9d4f;this['pendingHandshakeCandidates'][_0x2c02a2(0x9e2)](_0x4fb96f);}[_0x4d9d4f(0x749)](){const _0x376255=_0x4d9d4f;_0x2644bc['log'](_0x1a98bf[_0x376255(0x5b1)],_0x376255(0x3c4),{'localId':this['localNode']['getId'](),'remoteId':this['remoteId'],'connectionState':this[_0x376255(0x673)][_0x376255(0x499)],'handshakeState':this['connection'][_0x376255(0x983)],'signalingState':this[_0x376255(0x673)]['signalingState'],'dataChannelState':this[_0x376255(0x5ec)]?.[_0x376255(0x7cc)]});}}function _0x409891(_0xedcf3a,_0x331763){_0x331763['publish']({'sourceId':_0x280524,'messageType':_0x2ba96e['PeerConnection'],'content':_0xedcf3a});}class _0x225ec4{static [_0x4d9d4f(0x451)];[_0x4d9d4f(0x5e2)]=[];[_0x4d9d4f(0x318)];constructor(){setInterval(()=>{const _0x3c3144=a0_0x1399;this[_0x3c3144(0x5e2)][_0x3c3144(0x1dc)](_0x5cdf9d=>{const _0x179115=_0x3c3144;if(Date['now']()-_0x5cdf9d['lastExecuted']>_0x5cdf9d[_0x179115(0x6b0)]){try{_0x5cdf9d[_0x179115(0x3e9)]();}catch(_0x30aea5){}_0x5cdf9d[_0x179115(0x517)]=Date[_0x179115(0x873)]();}});},0x64);}static[_0x4d9d4f(0x893)](){const _0x248677=_0x4d9d4f;return _0x225ec4['instance']||(_0x225ec4[_0x248677(0x451)]=new _0x225ec4()),_0x225ec4['instance'];}[_0x4d9d4f(0x881)](_0x42e661){const _0x3a4c95=_0x4d9d4f,_0x340004=this[_0x3a4c95(0x968)](_0x42e661),_0x4d2e7a=_0x42e661[_0x3a4c95(0x1ea)]();_0x4d2e7a&&_0x340004&&(_0x4d2e7a[_0x3a4c95(0xbd)][_0x3a4c95(0x184)]=0.001,_0x340004[_0x3a4c95(0x6b5)](_0x4d2e7a),_0x4d2e7a[_0x3a4c95(0x6b5)](_0x42e661['destination']),_0x340004[_0x3a4c95(0x540)]());}[_0x4d9d4f(0x367)](){const _0x4f269e=_0x4d9d4f;this[_0x4f269e(0x318)]&&(this['source'][_0x4f269e(0x505)](),this[_0x4f269e(0x318)][_0x4f269e(0x916)](),this['source']=void 0x0);}[_0x4d9d4f(0x24a)](_0x5138ea){return new Promise(_0x15cc2d=>{setTimeout(_0x15cc2d,_0x5138ea);});}['setInterval'](_0xc00d25,_0x46ecbf){const _0x4768ae=_0x4d9d4f;return this[_0x4768ae(0x5e2)]['push']({'callback':_0xc00d25,'interval':_0x46ecbf,'lastExecuted':Date[_0x4768ae(0x873)]()}),()=>{const _0x2b2a08=_0x4768ae;this[_0x2b2a08(0x5e2)]=this[_0x2b2a08(0x5e2)][_0x2b2a08(0x64c)](_0x28a4dc=>_0x28a4dc[_0x2b2a08(0x3e9)]!==_0xc00d25);};}[_0x4d9d4f(0x968)](_0x34656f){const _0x5815be=_0x4d9d4f;if(_0x34656f[_0x5815be(0x968)])return _0x34656f['createConstantSource']();const _0x3e9b4a=_0x34656f[_0x5815be(0x65b)](),_0xec2fa0=_0x34656f[_0x5815be(0x92e)](0x1,0x1,_0x34656f[_0x5815be(0x27c)]);return _0xec2fa0['getChannelData'](0x0)[0x0]=0xa,_0x3e9b4a[_0x5815be(0x23c)]=_0xec2fa0,_0x3e9b4a[_0x5815be(0xbc)]=!0x0,_0x3e9b4a;}}const _0x135d86=_0x225ec4['getInstance']();class _0x570983 extends _0x440f53{[_0x4d9d4f(0x175)]=_0xa7293a();['trackCallback']=_0xa7293a();[_0x4d9d4f(0x4f1)]=_0xa7293a();[_0x4d9d4f(0x866)]=new Map();[_0x4d9d4f(0x1fb)]=new Map();['waitSuccess'];[_0x4d9d4f(0x43d)]=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x4d9d4f(0x365)]=0x0;[_0x4d9d4f(0x82c)]=0x0;[_0x4d9d4f(0x512)]=_0x3cced7('ReceiverPeerConnection.onMessage',_0x1a98bf[_0x4d9d4f(0x580)]);['close'](){const _0x11c926=_0x4d9d4f;this[_0x11c926(0x903)](),this[_0x11c926(0x866)][_0x11c926(0x976)](),super[_0x11c926(0x6d7)]();}async['handleOffer'](_0x14d867,_0x2cd70e){const _0x13d238=_0x4d9d4f;this[_0x13d238(0x54a)]=_0x2cd70e,this['clearWaitSuccess']();const _0x554c2c=await this['connection'][_0x13d238(0x539)](_0x14d867);this[_0x13d238(0x41e)]();const _0x281dd9=(0x0,_0x4246fa['v4'])();this[_0x13d238(0x9cf)]({'type':_0x774ff0[_0x13d238(0x109)],'answer':_0x554c2c,'version':_0x2cd70e,'connectionType':this['connectionType']},_0x281dd9),this[_0x13d238(0x275)]===_0x4903f6[_0x13d238(0x8b8)]&&(this[_0x13d238(0x8bc)]=_0x135d86[_0x13d238(0x121)](()=>{const _0x312cad=_0x13d238;this[_0x312cad(0x9cf)]({'type':_0x774ff0[_0x312cad(0x109)],'answer':_0x554c2c,'version':_0x2cd70e,'connectionType':this['connectionType']},_0x281dd9);},0x1388));}[_0x4d9d4f(0x66a)](){const _0x3c0c6f=_0x4d9d4f;this[_0x3c0c6f(0x903)]();}['handleNeedRestart'](_0x204dec){const _0x3c508a=_0x4d9d4f;this[_0x3c508a(0x9de)](_0x204dec),this['publishSystemMessage']({'type':_0x774ff0['Restart']});}async[_0x4d9d4f(0x774)](){const _0x5419a5=_0x4d9d4f;this['systemTopic']&&(await this[_0x5419a5(0x673)][_0x5419a5(0x719)](this[_0x5419a5(0x866)],(_0xa8102f,_0x5d6ee9)=>{const _0x24769e=_0x5419a5;_0x409891({'type':_0x774ff0[_0x24769e(0x5bb)],'streamId':_0x5d6ee9,'nodeId':this[_0x24769e(0x242)],'stats':_0xa8102f},this['systemTopic']);}),this['systemTopic']['publish']({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x5419a5(0x60c)],'content':{'type':_0x774ff0[_0x5419a5(0x5bb)],'nodeId':this[_0x5419a5(0x242)],'stats':{'origin':_0x5a0522['Receiver'],'timestamp':Date[_0x5419a5(0x873)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this[_0x5419a5(0x365)],'timeReceiving':this['timeReceiving'],'systemMessages':this['systemMessagesReceived']}}}));}[_0x4d9d4f(0x4f2)](_0x35f9c0){const _0x3f8f74=_0x4d9d4f;return _0x10b302['isProduction']?this[_0x3f8f74(0x175)][_0x3f8f74(0x3dd)](_0x35f9c0):this[_0x3f8f74(0x175)][_0x3f8f74(0x3dd)](_0x23dfea=>{const _0x23d0d2=_0x3f8f74;0x0===_0x23dfea['topicLabel']&&_0x23dfea[_0x23d0d2(0x7ca)]===_0x2ba96e['Content']&&this['loggingCycle'][_0x23d0d2(0x57e)]['log'](_0x23d0d2(0x70e)+this[_0x23d0d2(0x242)],()=>_0x2d39b9(_0x23dfea)),_0x35f9c0(_0x23dfea);});}['onTrack'](_0x1d1fc2){const _0x3e4cee=_0x4d9d4f;return this[_0x3e4cee(0x6cf)][_0x3e4cee(0x3dd)](({track:_0xfae007,stream:_0x43a28f})=>_0x1d1fc2(_0xfae007,_0x43a28f));}[_0x4d9d4f(0x4dd)](_0x52f0fa){const _0x226468=_0x4d9d4f;return this[_0x226468(0x4f1)][_0x226468(0x3dd)](({track:_0x57c7ac,stream:_0x29abb3})=>_0x52f0fa(_0x57c7ac,_0x29abb3));}[_0x4d9d4f(0x9de)](_0x214f1c){const _0x2e6ade=_0x4d9d4f;this[_0x2e6ade(0x903)](),this['receivers']['forEach'](_0x396464=>{const _0x253659=_0x2e6ade;_0x396464[_0x253659(0x976)]();}),super[_0x2e6ade(0x9de)](_0x214f1c);}[_0x4d9d4f(0xfb)](){const _0x538751=_0x4d9d4f;this['publishSystemMessage']({'type':_0x774ff0['Handshake'],'candidates':this[_0x538751(0x362)],'origin':_0x5a0522[_0x538751(0x186)],'version':this['currentVersion'],'connectionType':this[_0x538751(0x275)]});}[_0x4d9d4f(0x604)](){const _0x8a0652=_0x4d9d4f;super['setupConnectionEvents'](),this[_0x8a0652(0x673)]['onTrack']=_0x3ceebf=>{const _0x44d10d=_0x8a0652;_0x2644bc[_0x44d10d(0x5ad)](_0x1a98bf[_0x44d10d(0x165)],_0x44d10d(0x14b),this[_0x44d10d(0x772)]['getId'](),_0x3ceebf),_0x3ceebf['streams'][0x0][_0x44d10d(0x5af)]=_0x153e2a=>{const _0x1ee70d=_0x44d10d;this[_0x1ee70d(0x866)][_0x1ee70d(0x29f)](_0x3ceebf[_0x1ee70d(0x7f3)][0x0]['id'])?.[_0x1ee70d(0x465)](_0x153e2a['track']),0x0===this[_0x1ee70d(0x866)]['get'](_0x3ceebf[_0x1ee70d(0x7f3)][0x0]['id'])?.[_0x1ee70d(0x573)]&&this[_0x1ee70d(0x866)][_0x1ee70d(0x465)](_0x3ceebf[_0x1ee70d(0x7f3)][0x0]['id']),this[_0x1ee70d(0x4f1)][_0x1ee70d(0x817)]({'track':_0x153e2a[_0x1ee70d(0x168)],'stream':_0x3ceebf[_0x1ee70d(0x7f3)][0x0]});},this[_0x44d10d(0x866)][_0x44d10d(0x8dd)](_0x3ceebf[_0x44d10d(0x7f3)][0x0]['id'])||this['receivers'][_0x44d10d(0xcd)](_0x3ceebf['streams'][0x0]['id'],new Set()),this[_0x44d10d(0x866)]['get'](_0x3ceebf[_0x44d10d(0x7f3)][0x0]['id'])['add'](_0x3ceebf['track']),this[_0x44d10d(0x6cf)]['publish']({'track':_0x3ceebf[_0x44d10d(0x168)],'stream':_0x3ceebf[_0x44d10d(0x7f3)][0x0]});},this['connection']['onDataChannel']=_0x20eff0=>{const _0x5a9485=_0x8a0652;this['dataChannel']=_0x20eff0[_0x5a9485(0x11a)],this['dataChannel'][_0x5a9485(0x4f2)]=_0x5f56f3=>{const _0x2b64a3=_0x5a9485;if(_0x5f56f3['data']!==_0x29c610)this[_0x2b64a3(0x45d)](_0x5f56f3['data']);else{if(!this[_0x2b64a3(0x5ec)])return void _0x2644bc[_0x2b64a3(0x716)]('missing-datachannel',{'clusterId':this['clusterId'],'nodeId':this[_0x2b64a3(0x772)]['getId'](),'nodeType':this[_0x2b64a3(0x772)][_0x2b64a3(0x506)],'remoteId':this['remoteId'],'data':{'connection':_0x2b64a3(0x10d)}});if(_0x2b64a3(0x285)!==this['dataChannel'][_0x2b64a3(0x7cc)])return;this[_0x2b64a3(0x5ec)]['send']('1');}};};}[_0x4d9d4f(0x45d)](_0xdffa2b){const _0xc1311=_0x4d9d4f;if(_0xc1311(0x794)==typeof _0xdffa2b&&_0xdffa2b[_0xc1311(0x59a)](_0x26d1b8))return this[_0xc1311(0x43d)]+=0x1,this[_0xc1311(0x365)]+=_0xdffa2b[_0xc1311(0x99a)],this[_0xc1311(0x4ed)](_0xdffa2b);setTimeout(()=>{const _0x54ffd7=_0xc1311,_0x5cc8bc=Date['now']();let _0x2e2705;if((_0xdffa2b instanceof ArrayBuffer||_0xdffa2b[_0x54ffd7(0x99a)]<=_0x27d9e9)&&(this[_0x54ffd7(0x43d)]+=0x1,this[_0x54ffd7(0x365)]+=_0xdffa2b instanceof ArrayBuffer?_0xdffa2b['byteLength']:_0xdffa2b[_0x54ffd7(0x99a)]),_0xdffa2b instanceof ArrayBuffer){const [_0x43aab2,_0x22c398]=this[_0x54ffd7(0x676)](_0xdffa2b);_0x2e2705=_0x43aab2,_0x2e2705[_0x54ffd7(0x108)][_0x54ffd7(0x626)]=_0x22c398;}else _0x2e2705=JSON[_0x54ffd7(0x74d)](_0xdffa2b);if(0x0===_0x2e2705[_0x54ffd7(0x7d3)]){this[_0x54ffd7(0x4f8)][_0x54ffd7(0x949)]['total']+=0x1;const {systemMessageType:_0x571535,systemContentMessageType:_0x3cc34b}=_0x2d39b9(_0x2e2705);this[_0x54ffd7(0x4f8)][_0x571535]||(this[_0x54ffd7(0x4f8)][_0x571535]={[_0x3cc34b]:0x0}),this[_0x54ffd7(0x4f8)][_0x571535][_0x3cc34b]||(this['systemMessagesReceived'][_0x571535][_0x3cc34b]=0x0),this[_0x54ffd7(0x4f8)][_0x571535][_0x54ffd7(0x130)]||(this['systemMessagesReceived'][_0x571535][_0x54ffd7(0x130)]=0x0),this[_0x54ffd7(0x4f8)][_0x571535][_0x3cc34b]+=0x1,this[_0x54ffd7(0x4f8)][_0x571535][_0x54ffd7(0x130)]+=0x1;}this['messageCallback'][_0x54ffd7(0x817)](_0x2e2705),this[_0x54ffd7(0x82c)]+=Date[_0x54ffd7(0x873)]()-_0x5cc8bc;},0x0);}[_0x4d9d4f(0x4ed)](_0x10c161){const _0x277589=_0x4d9d4f,_0x148c4c=_0x10c161[_0x277589(0xaf)](';'),_0x3000e7=_0x148c4c[0x1],_0x3c204b=parseInt(_0x148c4c[0x2],0xa),_0x4a8a23=parseInt(_0x148c4c[0x3],0xa),_0x2ce7fc=_0x10c161['replace'](_0x26d1b8+';'+_0x3000e7+';'+_0x3c204b+';'+_0x4a8a23+';','');this[_0x277589(0x1fb)][_0x277589(0x8dd)](_0x3000e7)||this[_0x277589(0x1fb)][_0x277589(0xcd)](_0x3000e7,[]);const _0x17be66=this[_0x277589(0x1fb)][_0x277589(0x29f)](_0x3000e7);_0x17be66[_0x3c204b]=_0x2ce7fc,_0x17be66[_0x277589(0x99a)]===_0x4a8a23&&(this[_0x277589(0x45d)](_0x17be66[_0x277589(0x6de)]('')),this[_0x277589(0x1fb)][_0x277589(0x465)](_0x3000e7));}[_0x4d9d4f(0x903)](){const _0x12fd0b=_0x4d9d4f;this['waitSuccess']?.(),delete this[_0x12fd0b(0x8bc)];}[_0x4d9d4f(0x522)](_0x437699){const _0x5dfa04=_0x4d9d4f,_0x46c917=new TextDecoder()['decode'](_0x437699);return JSON[_0x5dfa04(0x74d)](_0x46c917);}[_0x4d9d4f(0x676)](_0x2b4983){const _0x453c88=_0x4d9d4f,_0x3090d5=new Uint8Array(_0x2b4983[_0x453c88(0x5fe)](0x0,0x4)),_0x3bb9fa=new Uint32Array(_0x3090d5['buffer'])[0x0],_0x2565f5=new Uint8Array(_0x2b4983[_0x453c88(0x5fe)](0x4,0x4+_0x3bb9fa)),_0x389c91=new Uint8Array(_0x2b4983[_0x453c88(0x5fe)](0x4+_0x3bb9fa));return[this[_0x453c88(0x522)](_0x2565f5[_0x453c88(0x23c)]),_0x389c91[_0x453c88(0x23c)]];}}const _0x2e2085=0xc350;var _0x332ed1,_0x4e7162;!function(_0x3591f2){const _0xcbb06b=_0x4d9d4f;_0x3591f2[_0x3591f2[_0xcbb06b(0x1fe)]=0x0]='High',_0x3591f2[_0x3591f2[_0xcbb06b(0x8e7)]=0x1]=_0xcbb06b(0x8e7),_0x3591f2[_0x3591f2['Low']=0x2]='Low';}(_0x332ed1||(_0x332ed1={}));class _0x4635ee extends _0x440f53{['maxFps'];[_0x4d9d4f(0x398)];[_0x4d9d4f(0x4b5)]=new Map();['heartbeatUnsubscriber'];['waitAnswer'];[_0x4d9d4f(0x3c6)];['isReconnecting']=!0x1;[_0x4d9d4f(0x963)];[_0x4d9d4f(0x2cb)];[_0x4d9d4f(0x497)];[_0x4d9d4f(0x300)]=function(e,t=_0x332ed1,s=!0x1){let n=!0x1;const i=[];async function o(){const _0x5e66e5=a0_0x1399;if(!n){for(n=!0x0;i[_0x5e66e5(0x985)](e=>e[_0x5e66e5(0x4ac)]);){let t,n=0x0;for(const [e,s]of i['entries']())if(t=s[_0x5e66e5(0x124)](),n=e,t)break;if(t)try{if(e instanceof _0x1eff5f&&e[_0x5e66e5(0x92f)](t),e instanceof _0x1477f6&&await e['call'](t),i['slice'](-0x1)['some'](e=>e[_0x5e66e5(0x4ac)]))continue;const s=i['length']-0x1;n===s&&i[s][_0x5e66e5(0x4ac)]&&await _0x135d86[_0x5e66e5(0x24a)](0x0);}catch(o){s?i[n][_0x5e66e5(0x9e2)](t,!0x1):i[n][_0x5e66e5(0x725)](t,!0x1),await e[_0x5e66e5(0x24a)]();}}n=!0x1;}}return Object['values'](t)['forEach'](e=>{'string'!=typeof e&&(i[e]=_0x90da63(o));}),{'queues':i};}(new _0x1eff5f(this['sendAction'][_0x4d9d4f(0x3b0)](this),this[_0x4d9d4f(0x44d)]['bind'](this)));['messagesSent']=0x0;[_0x4d9d4f(0x1d1)]=0x0;[_0x4d9d4f(0x803)]=0x0;[_0x4d9d4f(0x655)]=0x0;[_0x4d9d4f(0x754)];[_0x4d9d4f(0x512)]=_0x3cced7('SenderPeerConnection.send',_0x1a98bf['SenderSendMessage']);constructor(_0x23be48,_0xf0ac0f,_0x1c54e6,_0xe17671,_0x4cc553,_0x5dbeec,_0x429dee,_0xfbe6a9){const _0x10aa0c=_0x4d9d4f;super(_0x23be48,_0xf0ac0f,_0x1c54e6,_0xe17671,_0x4cc553,_0xfbe6a9),this[_0x10aa0c(0x18d)]=_0x5dbeec,this[_0x10aa0c(0x398)]=_0x429dee;}[_0x4d9d4f(0x6d7)](){const _0x1bfa20=_0x4d9d4f;this[_0x1bfa20(0x946)](),this[_0x1bfa20(0x9d8)](),delete this[_0x1bfa20(0x3c6)],this['clearRestartTimeout'](),this[_0x1bfa20(0x90f)](),this[_0x1bfa20(0x2dc)](),this['senders'][_0x1bfa20(0x976)](),this[_0x1bfa20(0x2a7)]=!0x1,this['retryQueue'][_0x1bfa20(0x6d9)][_0x1bfa20(0x1dc)](_0x1d6f5e=>_0x1d6f5e[_0x1bfa20(0x976)]()),this[_0x1bfa20(0x77a)](),super['close']();}[_0x4d9d4f(0x3b3)](){const _0x12e9dc=_0x4d9d4f;return!!this[_0x12e9dc(0x3c6)]&&super[_0x12e9dc(0x3b3)]()&&Date[_0x12e9dc(0x873)]()-this[_0x12e9dc(0x3c6)]<0x3a98;}async['collectStats'](){const _0x5bfbfb=_0x4d9d4f;this[_0x5bfbfb(0x26f)]&&(await this[_0x5bfbfb(0x673)]['collectSendersStats'](this['senders'],(_0x473301,_0x25dc77)=>{const _0x2d3ac8=_0x5bfbfb;_0x409891({'type':_0x774ff0[_0x2d3ac8(0x5bb)],'streamId':_0x25dc77,'nodeId':this[_0x2d3ac8(0x242)],'stats':_0x473301},this[_0x2d3ac8(0x26f)]);}),this['systemTopic']['publish']({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x5bfbfb(0x60c)],'content':{'type':_0x774ff0[_0x5bfbfb(0x5bb)],'nodeId':this[_0x5bfbfb(0x242)],'stats':{'origin':_0x5a0522['Sender'],'timestamp':Date[_0x5bfbfb(0x873)](),'messagesSent':this[_0x5bfbfb(0x9c7)],'bytesSent':this[_0x5bfbfb(0x1d1)],'timeSending':this[_0x5bfbfb(0x803)],'roundTripTime':this[_0x5bfbfb(0x655)]}}}));}async[_0x4d9d4f(0x1e5)](_0x14ba9c){const _0x20a789=_0x4d9d4f;_0x2644bc[_0x20a789(0x5ad)](_0x1a98bf[_0x20a789(0x165)],_0x20a789(0x363),this['localNode'][_0x20a789(0x9a5)](),this[_0x20a789(0x242)]),this['clearRestartTimeout'](),this[_0x20a789(0x90f)](),this['clearWaitAnswer'](),this[_0x20a789(0x963)]=setTimeout(()=>{const _0x50bfd4=_0x20a789;this[_0x50bfd4(0x987)]();},0x7530),this['dataChannel']||(this[_0x20a789(0x5ec)]=this['connection']['createDataChannel'](_0x20a789(0x626)),this['dataChannel'][_0x20a789(0x4f7)]=_0x45ea91,this['dataChannel']['onClose']=()=>{const _0x3a80f7=_0x20a789;this[_0x3a80f7(0x754)]=setTimeout(()=>{const _0x4c596e=_0x3a80f7;delete this[_0x4c596e(0x754)],['connecting','open']['includes'](this[_0x4c596e(0x5ec)]?.[_0x4c596e(0x7cc)]??'')||this['handleDisconnect']();},0xfa);});const _0x2e7112=await this[_0x20a789(0x673)]['createOffer'](_0x14ba9c);this[_0x20a789(0x3c6)]||(this[_0x20a789(0x3c6)]=Date[_0x20a789(0x873)]());const _0x1e71ac=(0x0,_0x4246fa['v4'])();this[_0x20a789(0x9cf)]({'type':_0x774ff0[_0x20a789(0x610)],'offer':_0x2e7112,'version':this[_0x20a789(0x54a)],'connectionType':this['connectionType']},_0x1e71ac),this['connectionType']===_0x4903f6['Core']&&(this['waitAnswer']=_0x135d86[_0x20a789(0x121)](()=>{const _0x4fee0d=_0x20a789;this['publishSystemMessage']({'type':_0x774ff0[_0x4fee0d(0x610)],'offer':_0x2e7112,'version':this[_0x4fee0d(0x54a)],'connectionType':this[_0x4fee0d(0x275)]},_0x1e71ac);},0x1388));}async[_0x4d9d4f(0x76c)](_0x4f18cc,_0x15f437){const _0x3e55ee=_0x4d9d4f;if(_0x15f437===this[_0x3e55ee(0x54a)]){this[_0x3e55ee(0x2dc)]();try{await this[_0x3e55ee(0x673)][_0x3e55ee(0x76c)](_0x4f18cc,this[_0x3e55ee(0x1e5)][_0x3e55ee(0x3b0)](this)),this[_0x3e55ee(0x41e)](),this[_0x3e55ee(0x90f)](),this['startHeartbeat']();}catch(_0x3a837f){this[_0x3e55ee(0x987)]();}}}['send'](_0x4bfcf0){const _0x4a1294=_0x4d9d4f;if(!this['dataChannel'])throw new _0x56b2e7(_0x56b2e7['codes']['InvalidDataChannel'],{'message':_0x4a1294(0x7b0),'localId':this[_0x4a1294(0x772)][_0x4a1294(0x9a5)](),'remoteId':this[_0x4a1294(0x242)],'eventMessage':_0x4bfcf0});if('open'!==this[_0x4a1294(0x5ec)][_0x4a1294(0x7cc)])throw new _0x56b2e7(_0x56b2e7['codes'][_0x4a1294(0x8ed)],{'message':_0x4a1294(0xe8),'localId':this[_0x4a1294(0x772)][_0x4a1294(0x9a5)](),'remoteId':this['remoteId'],'eventMessage':_0x4bfcf0});let _0x395102;if(_0x4bfcf0[_0x4a1294(0x108)][_0x4a1294(0x626)]instanceof ArrayBuffer){const _0x50ca42=_0x4bfcf0[_0x4a1294(0x108)][_0x4a1294(0x626)];_0x4bfcf0={..._0x4bfcf0,'content':{..._0x4bfcf0['content'],'data':void 0x0}},_0x395102=this[_0x4a1294(0x8d1)](_0x4bfcf0,_0x50ca42);}else _0x395102=JSON[_0x4a1294(0x446)](_0x4bfcf0);if('string'==typeof _0x395102&&_0x395102['length']>_0x27d9e9)return this[_0x4a1294(0x358)](_0x4bfcf0,_0x395102);0x0===_0x4bfcf0[_0x4a1294(0x7d3)]&&_0x4bfcf0['messageType']===_0x2ba96e[_0x4a1294(0x72b)]&&this['loggingCycle'][_0x4a1294(0x57e)]['performCalculation'](()=>_0x2644bc[_0x4a1294(0x5ad)](_0x1a98bf['SenderSendMessage'],_0x4a1294(0xec),this[_0x4a1294(0x242)],_0x2d39b9(_0x4bfcf0)),void 0x0);const _0x4e4cfd=0x0===_0x4bfcf0[_0x4a1294(0x7d3)]&&[_0x2ba96e[_0x4a1294(0x560)],_0x2ba96e[_0x4a1294(0x60c)]][_0x4a1294(0x766)](_0x4bfcf0[_0x4a1294(0x7ca)])?_0x332ed1[_0x4a1294(0x1fe)]:_0x4bfcf0 instanceof ArrayBuffer?_0x332ed1[_0x4a1294(0x9cb)]:_0x332ed1['Medium'];this[_0x4a1294(0x633)](_0x395102,_0x4e4cfd);}['addTrack'](_0x2f0d1f,_0x1adb58,_0x1bc2ee,_0x4f9cf3){const _0x1c9a2c=_0x4d9d4f,_0x37d0c2=(_0x10e886=this['maxFps'],_0x259a70=this[_0x1c9a2c(0x398)],Math[_0x1c9a2c(0x194)](0xe1000*_0x10e886*_0x259a70));var _0x10e886,_0x259a70;const _0x41deef=this[_0x1c9a2c(0x4b5)]['get'](_0x1adb58['id'])||{'stream':_0x1adb58,'priority':_0x1bc2ee,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x37d0c2,'maxBitrate':_0x37d0c2,'framerate':this[_0x1c9a2c(0x18d)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x4f9cf3},_0x4159b1=_0x41deef[_0x1c9a2c(0x899)][_0x2f0d1f[_0x1c9a2c(0x8ca)]]||{'track':_0x2f0d1f};if(_0x4159b1[_0x1c9a2c(0x274)]?(_0x4159b1['track']=_0x2f0d1f,this[_0x1c9a2c(0x673)][_0x1c9a2c(0x7d9)](_0x2f0d1f,_0x4159b1[_0x1c9a2c(0x274)])):_0x4159b1['sender']=this[_0x1c9a2c(0x673)]['addTrack'](_0x2f0d1f,_0x1adb58),_0x41deef['tracks'][_0x2f0d1f[_0x1c9a2c(0x8ca)]]=_0x4159b1,_0x4f9cf3&&(_0x41deef[_0x1c9a2c(0x279)]=_0x4f9cf3),_0x4f9cf3&&_0x1c9a2c(0x59c)===_0x4f9cf3[_0x1c9a2c(0x8ca)]&&_0x4f9cf3[_0x1c9a2c(0x476)]&&_0x4f9cf3[_0x1c9a2c(0x736)]&&(_0x41deef[_0x1c9a2c(0x317)]=this['getResolutionScale'](_0x4f9cf3['resolution'],_0x4f9cf3[_0x1c9a2c(0x736)]),_0x41deef[_0x1c9a2c(0x96a)]=_0x41deef[_0x1c9a2c(0x317)],_0x41deef[_0x1c9a2c(0x899)]['video']&&_0x41deef[_0x1c9a2c(0x899)][_0x1c9a2c(0x59c)][_0x1c9a2c(0x274)])){const _0x4ae480=_0x41deef[_0x1c9a2c(0x899)][_0x1c9a2c(0x59c)][_0x1c9a2c(0x274)];this[_0x1c9a2c(0x673)]['setEncodingParameters'](_0x4ae480,Math[_0x1c9a2c(0x194)](0xa*_0x41deef[_0x1c9a2c(0x317)])/0xa,_0x41deef[_0x1c9a2c(0x58f)],_0x41deef[_0x1c9a2c(0x642)],_0x41deef[_0x1c9a2c(0xcb)]);}this[_0x1c9a2c(0x4b5)]['set'](_0x1adb58['id'],_0x41deef);}['setPriority'](_0x2d96ce,_0x1e2008){const _0x485519=_0x4d9d4f,_0x4617fa=this[_0x485519(0x4b5)][_0x485519(0x29f)](_0x2d96ce['id']);if(_0x4617fa&&_0x4617fa[_0x485519(0xcb)]!==_0x1e2008&&(_0x4617fa[_0x485519(0xcb)]=_0x1e2008,_0x4617fa['tracks']['video']&&_0x4617fa[_0x485519(0x899)][_0x485519(0x59c)]['sender'])){const _0x2c1b20=_0x4617fa[_0x485519(0x899)]['video'][_0x485519(0x274)];this[_0x485519(0x673)]['setEncodingParameters'](_0x2c1b20,Math[_0x485519(0x194)](0xa*_0x4617fa[_0x485519(0x317)])/0xa,_0x4617fa['framerate'],_0x4617fa[_0x485519(0x642)],_0x4617fa[_0x485519(0xcb)]);}}[_0x4d9d4f(0x6fa)](_0x4df76f,_0xb53f9f){const _0x42a156=_0x4d9d4f,_0x2a6ce1=this[_0x42a156(0x4b5)][_0x42a156(0x29f)](_0x4df76f['id']);if(_0x2a6ce1){if(_0x2a6ce1[_0x42a156(0x279)]=_0xb53f9f,_0xb53f9f&&_0x42a156(0x59c)===_0xb53f9f['kind']&&_0xb53f9f['resolution']&&_0xb53f9f[_0x42a156(0x736)]){if(_0x2a6ce1[_0x42a156(0x96a)]=this[_0x42a156(0x1dd)](_0xb53f9f['resolution'],_0xb53f9f[_0x42a156(0x736)]),_0x2a6ce1[_0x42a156(0x317)]<_0x2a6ce1[_0x42a156(0x96a)]&&(_0x2a6ce1['resolutionScale']=_0x2a6ce1[_0x42a156(0x96a)]),_0x2a6ce1['tracks'][_0x42a156(0x59c)]&&_0x2a6ce1['tracks'][_0x42a156(0x59c)][_0x42a156(0x274)]){const _0x38c543=_0x2a6ce1['tracks'][_0x42a156(0x59c)][_0x42a156(0x274)];this[_0x42a156(0x673)][_0x42a156(0x3d7)](_0x38c543,Math[_0x42a156(0x194)](0xa*_0x2a6ce1[_0x42a156(0x317)])/0xa,_0x2a6ce1['framerate'],_0x2a6ce1[_0x42a156(0x642)],_0x2a6ce1[_0x42a156(0xcb)]);}this[_0x42a156(0x946)](),this[_0x42a156(0x77c)]();}this['senders'][_0x42a156(0xcd)](_0x4df76f['id'],_0x2a6ce1);}}['removeTrack'](_0x1536dc,_0xe5982f){const _0x16df9b=_0x4d9d4f,_0x292f7f=this[_0x16df9b(0x4b5)]['get'](_0xe5982f['id']);if(_0x292f7f){const _0x3999be=_0x292f7f[_0x16df9b(0x899)][_0x1536dc[_0x16df9b(0x8ca)]];_0x3999be&&(_0x3999be[_0x16df9b(0x274)]&&this[_0x16df9b(0x673)][_0x16df9b(0x885)](_0x3999be[_0x16df9b(0x274)]),_0x3999be[_0x16df9b(0x168)]=void 0x0);}}[_0x4d9d4f(0x49e)](_0x134f01){const _0x5c1956=_0x4d9d4f;this[_0x5c1956(0x946)]();const _0x4aea2d=function(_0x118fde,_0x4b748b){const _0x568997=_0x5c1956;return _0x118fde[_0x568997(0xd6)]((_0x2e8ccb,_0x42b5e6)=>_0x4b748b[_0x568997(0x6f2)]===_0x1c500c['Downgrade']?_0x42b5e6[_0x568997(0xcb)]-_0x2e8ccb[_0x568997(0xcb)]:_0x2e8ccb['priority']-_0x42b5e6[_0x568997(0xcb)])[_0x568997(0x211)](_0x1f6379=>function(_0xd198e7,_0x58238e){const _0xc82053=_0x568997;if(_0x58238e[_0xc82053(0x6f2)]===_0x1c500c[_0xc82053(0x724)]){if(_0x58238e[_0xc82053(0x2cc)]===_0x6b228d[_0xc82053(0x9eb)])return _0xd198e7['resolutionScale']<0x4||_0xd198e7[_0xc82053(0x42c)]>0xf;if(_0x58238e['component']===_0x6b228d['Bitrate'])return _0xd198e7[_0xc82053(0x43e)]>_0x2e2085;}return _0xd198e7[_0xc82053(0x317)]>_0xd198e7[_0xc82053(0x96a)]||_0xd198e7[_0xc82053(0x58f)]<_0xd198e7[_0xc82053(0x42c)]||_0xd198e7[_0xc82053(0x642)]<_0xd198e7['maxBitrate'];}(_0x1f6379,_0x4b748b));}(Array[_0x5c1956(0x376)](this[_0x5c1956(0x4b5)][_0x5c1956(0x7a1)]()),_0x134f01);if(_0x4aea2d&&(function(_0x3bdac3,_0x399f3c){const _0x6c73d2=_0x5c1956;_0x3bdac3['tracks'][_0x6c73d2(0x59c)]&&_0x3bdac3[_0x6c73d2(0x899)]['video'][_0x6c73d2(0x274)]&&(_0x3bdac3['resolutionScale']=function(_0x1561d0,_0x3bd299,_0x2623ca){const _0x21096b=_0x6c73d2;switch(_0x2623ca['action']){case _0x1c500c[_0x21096b(0x724)]:_0x2623ca[_0x21096b(0x2cc)]===_0x6b228d['Resolution']&&(_0x1561d0+=0.5)>0x4&&(_0x1561d0=0x4);break;case _0x1c500c[_0x21096b(0x368)]:(_0x1561d0-=0.5)<_0x3bd299&&(_0x1561d0=_0x3bd299);}return _0x1561d0;}(_0x3bdac3[_0x6c73d2(0x317)],_0x3bdac3['minResolutionScale'],_0x399f3c),_0x3bdac3[_0x6c73d2(0x58f)]=function(_0x397524,_0x28c09f,_0x2daeb6){const _0x237aed=_0x6c73d2;switch(_0x2daeb6[_0x237aed(0x6f2)]){case _0x1c500c[_0x237aed(0x724)]:_0x2daeb6['component']===_0x6b228d[_0x237aed(0x9eb)]&&(_0x397524-=0x3)<0xf&&(_0x397524=0xf);break;case _0x1c500c['Upgrade']:(_0x397524+=0x3)>_0x28c09f&&(_0x397524=_0x28c09f);}return _0x397524;}(_0x3bdac3[_0x6c73d2(0x58f)],_0x3bdac3['maxFramerate'],_0x399f3c),_0x3bdac3[_0x6c73d2(0x642)]=function(_0x5bcba9,_0x5ae3be,_0x46a54e){const _0x1912a5=_0x6c73d2;switch(_0x46a54e['action']){case _0x1c500c[_0x1912a5(0x724)]:_0x46a54e['component']===_0x6b228d['Bitrate']&&(_0x5bcba9*=0.75)<_0x2e2085&&(_0x5bcba9=_0x2e2085);break;case _0x1c500c[_0x1912a5(0x368)]:(_0x5bcba9*=1.25)>_0x5ae3be&&(_0x5bcba9=_0x5ae3be);}return _0x5bcba9;}(_0x3bdac3[_0x6c73d2(0x642)],_0x3bdac3[_0x6c73d2(0x43e)],_0x399f3c));}(_0x4aea2d,_0x134f01),_0x4aea2d['tracks'][_0x5c1956(0x59c)]&&_0x4aea2d[_0x5c1956(0x899)][_0x5c1956(0x59c)][_0x5c1956(0x274)])){const _0x5e9d0e=_0x4aea2d[_0x5c1956(0x899)][_0x5c1956(0x59c)]['sender'];this['connection'][_0x5c1956(0x3d7)](_0x5e9d0e,Math['floor'](0xa*_0x4aea2d[_0x5c1956(0x317)])/0xa,_0x4aea2d[_0x5c1956(0x58f)],_0x4aea2d[_0x5c1956(0x642)],_0x4aea2d[_0x5c1956(0xcb)]);}(_0x4aea2d||_0x134f01[_0x5c1956(0x6f2)]===_0x1c500c[_0x5c1956(0x724)])&&this['setUpgradeTimeout']();}[_0x4d9d4f(0x6bd)](){const _0x1aeeb0=_0x4d9d4f;return this[_0x1aeeb0(0x300)][_0x1aeeb0(0x6d9)]['reduce']((_0x313351,_0x171a26)=>_0x313351+_0x171a26['size'],0x0)*_0x681e57;}[_0x4d9d4f(0x4b6)](){const _0x3229b5=_0x4d9d4f;return this[_0x3229b5(0x5ec)]?.[_0x3229b5(0x5e0)]??0x0;}['resetConnection'](){const _0x2efc89=_0x4d9d4f;super[_0x2efc89(0x9de)](),this[_0x2efc89(0x77a)](),this[_0x2efc89(0x2dc)](),this[_0x2efc89(0x4b5)][_0x2efc89(0x1dc)](_0x3f1ab7=>{const _0x622f5a=_0x2efc89;_0x3f1ab7[_0x622f5a(0x899)]['video']&&(_0x3f1ab7[_0x622f5a(0x899)][_0x622f5a(0x59c)]['sender']=void 0x0),_0x3f1ab7[_0x622f5a(0x899)][_0x622f5a(0x429)]&&(_0x3f1ab7[_0x622f5a(0x899)][_0x622f5a(0x429)][_0x622f5a(0x274)]=void 0x0);}),this[_0x2efc89(0x2a7)]=!0x0;}async[_0x4d9d4f(0x44d)](){return new Promise(async _0x3e9ab0=>{const _0x4a79ae=a0_0x1399;if(!this[_0x4a79ae(0x5ec)]||_0x4a79ae(0x285)!==this[_0x4a79ae(0x5ec)]['state'])return await _0x135d86[_0x4a79ae(0x24a)](0x64),void _0x3e9ab0();this[_0x4a79ae(0x5ec)][_0x4a79ae(0x5e0)]<_0x45ea91?_0x3e9ab0():this[_0x4a79ae(0x5ec)][_0x4a79ae(0x8a8)]=()=>{const _0x50fbbb=_0x4a79ae;this['dataChannel']&&(this[_0x50fbbb(0x5ec)][_0x50fbbb(0x8a8)]=null),_0x3e9ab0();};});}[_0x4d9d4f(0x358)](_0x3a4d10,_0x282bba){const _0x302de4=_0x4d9d4f,_0x1abd51=[];for(let _0x375011=0x0;_0x375011<_0x282bba[_0x302de4(0x99a)];_0x375011+=_0x27d9e9)_0x1abd51[_0x302de4(0x9e2)](_0x282bba[_0x302de4(0x5fe)](_0x375011,_0x375011+_0x27d9e9));for(const _0x1ccba5 of _0x1abd51)this[_0x302de4(0x633)](_0x26d1b8+';'+_0x3a4d10[_0x302de4(0x332)]+';'+_0x1abd51[_0x302de4(0x489)](_0x1ccba5)+';'+_0x1abd51[_0x302de4(0x99a)]+';'+_0x1ccba5,_0x332ed1[_0x302de4(0x9cb)]);}async['sendWithRetry'](_0x15659b,_0x45e9c1){const _0x415cd1=_0x4d9d4f;_0x15659b===_0x29c610?this[_0x415cd1(0x300)][_0x415cd1(0x6d9)][_0x45e9c1][_0x415cd1(0x4ac)]?.[_0x415cd1(0x184)]!==_0x29c610&&this['retryQueue'][_0x415cd1(0x6d9)][_0x45e9c1]['unshift'](_0x15659b):this[_0x415cd1(0x300)]['queues'][_0x45e9c1]['push'](_0x15659b);}[_0x4d9d4f(0x3ec)](_0xac8753){const _0x2a84ff=_0x4d9d4f;if(!this[_0x2a84ff(0x5ec)]||'open'!==this[_0x2a84ff(0x5ec)][_0x2a84ff(0x7cc)])throw new Error(_0x2a84ff(0x247));if(this[_0x2a84ff(0x5ec)][_0x2a84ff(0x5e0)]>=0xbe8000)throw new Error(_0x2a84ff(0x68d));const _0x179138=Date['now']();_0xac8753!==_0x29c610&&(this['messagesSent']+=0x1,this[_0x2a84ff(0x1d1)]+=_0xac8753 instanceof ArrayBuffer?_0xac8753['byteLength']:_0xac8753['length']),ArrayBuffer,this[_0x2a84ff(0x5ec)][_0x2a84ff(0x784)](_0xac8753),this['timeSending']+=Date[_0x2a84ff(0x873)]()-_0x179138;}[_0x4d9d4f(0x6e2)](){const _0x321da6=_0x4d9d4f;this[_0x321da6(0x806)]&&this['clearHeartbeat']();let _0x56b3c9=!0x0,_0x21e2df=Date[_0x321da6(0x873)]();this[_0x321da6(0x3c6)]=Date[_0x321da6(0x873)](),this[_0x321da6(0x5ec)][_0x321da6(0x4f2)]=_0x5c7f31=>{const _0x34b4f9=_0x321da6;'1'===_0x5c7f31[_0x34b4f9(0x626)]&&(this[_0x34b4f9(0x655)]=Date[_0x34b4f9(0x873)]()-_0x21e2df,_0x56b3c9&&this[_0x34b4f9(0x9cf)]({'type':_0x774ff0[_0x34b4f9(0xcf)]}),_0x56b3c9=!0x1,this[_0x34b4f9(0x3c6)]=Date['now'](),this[_0x34b4f9(0x2a7)]&&(this[_0x34b4f9(0x2a7)]=!0x1,this[_0x34b4f9(0x1df)]()));},this[_0x321da6(0x806)]=_0x135d86['setInterval'](()=>{const _0x5d9ac1=_0x321da6;_0x21e2df=Date[_0x5d9ac1(0x873)](),this[_0x5d9ac1(0x633)](_0x29c610,_0x332ed1[_0x5d9ac1(0x1fe)]),Date[_0x5d9ac1(0x873)]()-this[_0x5d9ac1(0x3c6)]>(_0x56b3c9?0x15f90:0x3a98)&&this[_0x5d9ac1(0x987)]();},0xbb8);}[_0x4d9d4f(0x1df)](){const _0x45951c=_0x4d9d4f;this[_0x45951c(0x4b5)][_0x45951c(0x1dc)](_0x49d540=>{const _0x6e5598=_0x45951c;_0x49d540['tracks']['video']&&_0x49d540['tracks']['video'][_0x6e5598(0x168)]&&!_0x49d540[_0x6e5598(0x899)][_0x6e5598(0x59c)]['sender']&&(_0x49d540[_0x6e5598(0x899)][_0x6e5598(0x59c)][_0x6e5598(0x274)]=this['connection'][_0x6e5598(0x3db)](_0x49d540[_0x6e5598(0x899)][_0x6e5598(0x59c)][_0x6e5598(0x168)],_0x49d540['stream'])),_0x49d540[_0x6e5598(0x899)][_0x6e5598(0x429)]&&_0x49d540[_0x6e5598(0x899)][_0x6e5598(0x429)][_0x6e5598(0x168)]&&!_0x49d540[_0x6e5598(0x899)][_0x6e5598(0x429)][_0x6e5598(0x274)]&&(_0x49d540['tracks'][_0x6e5598(0x429)][_0x6e5598(0x274)]=this[_0x6e5598(0x673)][_0x6e5598(0x3db)](_0x49d540[_0x6e5598(0x899)][_0x6e5598(0x429)][_0x6e5598(0x168)],_0x49d540[_0x6e5598(0x6f6)]));});}[_0x4d9d4f(0xfb)](){const _0x3ceb79=_0x4d9d4f;this[_0x3ceb79(0x9cf)]({'type':_0x774ff0[_0x3ceb79(0x69a)],'candidates':this['handshakeCandidates'],'origin':_0x5a0522[_0x3ceb79(0x980)],'version':this[_0x3ceb79(0x54a)],'connectionType':this[_0x3ceb79(0x275)]});}[_0x4d9d4f(0x604)](){const _0x1033d7=_0x4d9d4f;super[_0x1033d7(0x604)](),this[_0x1033d7(0x673)][_0x1033d7(0x535)]=()=>{const _0x3cc6fc=_0x1033d7;if(_0x3cc6fc(0x387)===this[_0x3cc6fc(0x673)][_0x3cc6fc(0x983)]){_0x2644bc[_0x3cc6fc(0x5ad)](_0x1a98bf[_0x3cc6fc(0x5b1)],_0x3cc6fc(0x6ed),this['localNode'][_0x3cc6fc(0x9a5)](),this[_0x3cc6fc(0x242)]);try{if(this[_0x3cc6fc(0x673)][_0x3cc6fc(0x5ac)])return void this[_0x3cc6fc(0x673)][_0x3cc6fc(0x7b2)]();}catch(_0x1cfc11){}this[_0x3cc6fc(0x1e5)]({'handshakeRestart':!0x0});}},this[_0x1033d7(0x673)][_0x1033d7(0x13a)]=()=>{const _0x4f440b=_0x1033d7;'disconnected'!==this[_0x4f440b(0x673)][_0x4f440b(0x499)]&&'failed'!==this[_0x4f440b(0x673)]['connectionState']||this[_0x4f440b(0x987)]();};}[_0x4d9d4f(0x987)](){const _0x7994f0=_0x4d9d4f;this['clearHeartbeat'](),this[_0x7994f0(0x9ed)](),this[_0x7994f0(0x90f)](),_0x2644bc[_0x7994f0(0xd0)]('disconnect',{'clusterId':this[_0x7994f0(0x95e)],'nodeId':this[_0x7994f0(0x772)][_0x7994f0(0x9a5)](),'nodeType':this[_0x7994f0(0x772)][_0x7994f0(0x506)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x7994f0(0x275)],'connectionState':this[_0x7994f0(0x673)][_0x7994f0(0x499)],'iceConnectionState':this['connection']['handshakeState'],'signalingState':this[_0x7994f0(0x673)][_0x7994f0(0x60a)],'readyState':this[_0x7994f0(0x5ec)]?.[_0x7994f0(0x7cc)]||'','lastHeartbeat':this['lastHeartbeat']?Date[_0x7994f0(0x873)]()-this['lastHeartbeat']:'','retryQueue':this['retryQueue']}}),(this[_0x7994f0(0x3c6)]&&Date['now']()-this[_0x7994f0(0x3c6)]>0xea60)??0x1?this[_0x7994f0(0x26f)][_0x7994f0(0x817)]({'sourceId':this[_0x7994f0(0x242)],'destinationIds':[this[_0x7994f0(0x772)][_0x7994f0(0x9a5)]()],'messageType':_0x2ba96e[_0x7994f0(0x60c)],'content':{'type':_0x774ff0[_0x7994f0(0x48a)]}}):(this[_0x7994f0(0x9de)](),this['publishSystemMessage']({'type':_0x774ff0[_0x7994f0(0x7d6)],'version':this[_0x7994f0(0x54a)],'connectionType':this[_0x7994f0(0x275)]}),this['restartTimeout']=setTimeout(()=>{const _0x4e30f6=_0x7994f0;this[_0x4e30f6(0x987)]();},0x7530));}['clearHeartbeat'](){const _0x428f3a=_0x4d9d4f;this['heartbeatUnsubscriber']?.(),delete this[_0x428f3a(0x806)];}[_0x4d9d4f(0x90f)](){const _0x2e2963=_0x4d9d4f;this['connectionTimeout']&&(clearTimeout(this['connectionTimeout']),delete this[_0x2e2963(0x963)]);}[_0x4d9d4f(0x9ed)](){const _0x4d263d=_0x4d9d4f;this['restartTimeout']&&(clearTimeout(this[_0x4d263d(0x2cb)]),delete this[_0x4d263d(0x2cb)]);}[_0x4d9d4f(0x946)](){const _0x257759=_0x4d9d4f;this[_0x257759(0x497)]&&(clearTimeout(this['upgradeTimeout']),delete this['upgradeTimeout']);}[_0x4d9d4f(0x77c)](){const _0x54d7ac=_0x4d9d4f;this[_0x54d7ac(0x497)]=setTimeout(()=>{const _0x3fb9fb=_0x54d7ac;this[_0x3fb9fb(0x49e)]({'type':_0x9f3900['Remediation'],'action':_0x1c500c['Upgrade']});},0x3a98);}['getResolutionScale'](_0x300281,_0x3fbdce){const _0x3f8b8a=_0x4d9d4f,_0x26df45=Math[_0x3f8b8a(0x47e)](_0x300281[_0x3f8b8a(0x5a1)]/_0x3fbdce[_0x3f8b8a(0x5a1)],_0x300281[_0x3f8b8a(0x3d9)]/_0x3fbdce[_0x3f8b8a(0x3d9)]);return Math['min'](Math[_0x3f8b8a(0x47e)](_0x26df45,0x1),0x4);}['clearWaitAnswer'](){const _0x28d325=_0x4d9d4f;this[_0x28d325(0x3cc)]?.(),delete this[_0x28d325(0x3cc)];}[_0x4d9d4f(0x77a)](){const _0x3faeb1=_0x4d9d4f;this['oncloseTimeout']&&(clearTimeout(this[_0x3faeb1(0x754)]),delete this[_0x3faeb1(0x754)]);}[_0x4d9d4f(0x433)](_0x4ca799){const _0x3e0861=_0x4d9d4f,_0x5521b2=JSON[_0x3e0861(0x446)](_0x4ca799);return new TextEncoder()[_0x3e0861(0x7fc)](_0x5521b2)['buffer'];}[_0x4d9d4f(0x8d1)](_0x2ffc6d,_0x51ab9c){const _0xbd54d2=_0x4d9d4f,_0x5e7385=this['objectToArrayBuffer'](_0x2ffc6d),_0x4aaf60=new Uint8Array(0x4),_0x227cc1=new Uint8Array(_0x5e7385),_0x1fbdb8=new Uint8Array(_0x51ab9c);_0x4aaf60[_0xbd54d2(0xcd)](new Uint8Array(new Uint32Array([_0x227cc1[_0xbd54d2(0x99a)]])[_0xbd54d2(0x23c)]));const _0x56b88a=new Uint8Array(0x4+_0x227cc1[_0xbd54d2(0x99a)]+_0x1fbdb8['length']);return _0x56b88a[_0xbd54d2(0xcd)](_0x4aaf60),_0x56b88a[_0xbd54d2(0xcd)](_0x227cc1,0x4),_0x56b88a[_0xbd54d2(0xcd)](_0x1fbdb8,0x4+_0x227cc1['length']),_0x56b88a['buffer'];}}class _0x200356 extends _0x36f624{[_0x4d9d4f(0x7c0)];['connectionType'];[_0x4d9d4f(0x18d)];[_0x4d9d4f(0x398)];[_0x4d9d4f(0x2e2)];[_0x4d9d4f(0x4fb)];[_0x4d9d4f(0x3d2)];[_0x4d9d4f(0x199)]=[];[_0x4d9d4f(0x8f4)]=_0x27eca1();['trackListeners']=_0x27eca1();[_0x4d9d4f(0x8c1)]=_0x27eca1();[_0x4d9d4f(0x92b)]=[];[_0x4d9d4f(0x26f)];[_0x4d9d4f(0x11c)]=new Map();[_0x4d9d4f(0x7f4)]=new Map();['mediaTopics']=new Map();['mediaUnsubscribers']=new Map();[_0x4d9d4f(0x4ef)]=!0x1;constructor(_0xd5836b,_0x52b49f,_0x32beea,_0x52a313,_0x337f4f,_0xe5194d,_0x4738d8,_0x515755){const _0x194fa0=_0x4d9d4f;super(_0xd5836b,_0x52b49f,_0x32beea),this[_0x194fa0(0x7c0)]=_0x52a313,this[_0x194fa0(0x275)]=_0x337f4f,this['maxFps']=_0xe5194d,this['maxBpp']=_0x4738d8,this[_0x194fa0(0x2e2)]=_0x515755;}[_0x4d9d4f(0x15d)](_0x52f387){const _0x2333b1=_0x4d9d4f;switch(_0x52f387[_0x2333b1(0x24e)]()){case _0x2477c2[_0x2333b1(0x61d)][_0x2333b1(0x1e9)]:case _0x2477c2[_0x2333b1(0x61d)][_0x2333b1(0x343)]:case _0x2477c2[_0x2333b1(0x61d)][_0x2333b1(0x43f)]:case _0x2477c2['ContentType'][_0x2333b1(0x62c)]:case _0x2477c2[_0x2333b1(0x61d)]['Job']:case _0x2477c2[_0x2333b1(0x61d)]['VectorDatabase']:case _0x2477c2[_0x2333b1(0x61d)][_0x2333b1(0x283)]:case _0x2477c2[_0x2333b1(0x61d)][_0x2333b1(0x60d)]:this[_0x2333b1(0x11c)][_0x2333b1(0xcd)](_0x52f387[_0x2333b1(0x502)](),_0x52f387);break;case _0x2477c2[_0x2333b1(0x61d)][_0x2333b1(0x458)]:this[_0x2333b1(0x63e)][_0x2333b1(0xcd)](_0x52f387['getLabel'](),_0x52f387);}}[_0x4d9d4f(0xb7)](_0x3f8bcc){const _0x287302=_0x4d9d4f;switch(_0x3f8bcc[_0x287302(0x24e)]()){case _0x2477c2[_0x287302(0x61d)][_0x287302(0x1e9)]:case _0x2477c2['ContentType'][_0x287302(0x343)]:case _0x2477c2[_0x287302(0x61d)][_0x287302(0x43f)]:case _0x2477c2[_0x287302(0x61d)][_0x287302(0x62c)]:case _0x2477c2[_0x287302(0x61d)][_0x287302(0x3ab)]:case _0x2477c2[_0x287302(0x61d)][_0x287302(0x406)]:case _0x2477c2[_0x287302(0x61d)][_0x287302(0x283)]:case _0x2477c2['ContentType'][_0x287302(0x60d)]:this['dataTopics'][_0x287302(0x465)](_0x3f8bcc[_0x287302(0x502)]());break;case _0x2477c2[_0x287302(0x61d)][_0x287302(0x458)]:this['mediaTopics']['delete'](_0x3f8bcc['getLabel']());}}[_0x4d9d4f(0x7aa)](_0x21597d){const _0x122fe2=_0x4d9d4f;switch(_0x21597d['getContentType']()){case _0x2477c2[_0x122fe2(0x61d)][_0x122fe2(0x1e9)]:case _0x2477c2[_0x122fe2(0x61d)]['PubSub']:case _0x2477c2[_0x122fe2(0x61d)]['ObjectStore']:case _0x2477c2[_0x122fe2(0x61d)]['KeyValueDatabase']:case _0x2477c2['ContentType'][_0x122fe2(0x3ab)]:case _0x2477c2[_0x122fe2(0x61d)][_0x122fe2(0x406)]:case _0x2477c2['ContentType'][_0x122fe2(0x283)]:case _0x2477c2[_0x122fe2(0x61d)]['ExternalStorage']:{const _0x1837f8=_0x21597d[_0x122fe2(0x3dd)](_0x2ed450=>{const _0x578d8f=_0x122fe2;_0x87a977(_0x2ed450,this[_0x578d8f(0x39f)]())&&_0x1cbdfe(_0x2ed450,this[_0x578d8f(0x242)])&&this[_0x578d8f(0x784)](_0x2ed450);});this[_0x122fe2(0x7f4)][_0x122fe2(0xcd)](_0x21597d[_0x122fe2(0x502)](),_0x1837f8);break;}case _0x2477c2[_0x122fe2(0x61d)][_0x122fe2(0x458)]:{const _0x459538=_0x21597d[_0x122fe2(0x3dd)](({content:_0x26f17b})=>{const _0x3b84cd=_0x122fe2;switch(_0x26f17b[_0x3b84cd(0x6f2)]){case _0x569b17[_0x3b84cd(0x7e2)]:this['addTrack'](_0x26f17b['track'],_0x26f17b[_0x3b84cd(0x6f6)],_0x26f17b[_0x3b84cd(0xcb)],_0x26f17b[_0x3b84cd(0x279)]);break;case _0x569b17[_0x3b84cd(0x4c5)]:this['removeTrack'](_0x26f17b[_0x3b84cd(0x168)],_0x26f17b['stream']);break;case _0x569b17[_0x3b84cd(0x912)]:_0x26f17b[_0x3b84cd(0xcb)]&&this[_0x3b84cd(0x5cf)](_0x26f17b[_0x3b84cd(0x6f6)],_0x26f17b[_0x3b84cd(0xcb)]),_0x26f17b[_0x3b84cd(0x279)]&&this[_0x3b84cd(0x6fa)](_0x26f17b[_0x3b84cd(0x6f6)],_0x26f17b['params']);}});this[_0x122fe2(0x6a4)][_0x122fe2(0xcd)](_0x21597d[_0x122fe2(0x502)](),_0x459538);break;}}}[_0x4d9d4f(0x38f)](_0xa911f8){const _0x36d703=_0x4d9d4f;switch(_0xa911f8[_0x36d703(0x24e)]()){case _0x2477c2[_0x36d703(0x61d)]['Data']:case _0x2477c2['ContentType']['PubSub']:case _0x2477c2[_0x36d703(0x61d)]['ObjectStore']:case _0x2477c2[_0x36d703(0x61d)][_0x36d703(0x62c)]:case _0x2477c2[_0x36d703(0x61d)][_0x36d703(0x3ab)]:case _0x2477c2['ContentType']['VectorDatabase']:case _0x2477c2[_0x36d703(0x61d)]['GraphDatabase']:case _0x2477c2[_0x36d703(0x61d)]['ExternalStorage']:this[_0x36d703(0x7f4)]['get'](_0xa911f8['getLabel']())?.(),this['dataUnsubscribers'][_0x36d703(0x465)](_0xa911f8['getLabel']());break;case _0x2477c2[_0x36d703(0x61d)]['Media']:this['mediaUnsubscribers'][_0x36d703(0x29f)](_0xa911f8[_0x36d703(0x502)]())?.(),this[_0x36d703(0x6a4)]['delete'](_0xa911f8[_0x36d703(0x502)]());}}['getSupportedContentTypes'](){const _0x322393=_0x4d9d4f;return[_0x2477c2[_0x322393(0x61d)][_0x322393(0x1e9)],_0x2477c2[_0x322393(0x61d)][_0x322393(0x458)],_0x2477c2['ContentType']['PubSub'],_0x2477c2[_0x322393(0x61d)][_0x322393(0x43f)],_0x2477c2[_0x322393(0x61d)][_0x322393(0x62c)],_0x2477c2[_0x322393(0x61d)][_0x322393(0x3ab)],_0x2477c2[_0x322393(0x61d)][_0x322393(0x406)],_0x2477c2[_0x322393(0x61d)][_0x322393(0x283)],_0x2477c2[_0x322393(0x61d)][_0x322393(0x60d)]];}[_0x4d9d4f(0xe7)](_0x4039ce){this['systemTopic']=_0x4039ce;}[_0x4d9d4f(0x2bc)](){const _0x49df37=_0x4d9d4f;delete this[_0x49df37(0x26f)];}async['connect'](){this['setupListeners'](),await this['createOffer']();}['close'](){const _0x2f0729=_0x4d9d4f;this['listenerUnsubscribers'][_0x2f0729(0x1dc)](_0x3da2e7=>_0x3da2e7()),this[_0x2f0729(0x92b)]=[],this['senderConnection']?.[_0x2f0729(0x2bc)](),this[_0x2f0729(0x4fb)]?.[_0x2f0729(0x6d7)](),delete this[_0x2f0729(0x4fb)],this[_0x2f0729(0x199)][_0x2f0729(0x1dc)](_0x1edd38=>_0x1edd38()),this[_0x2f0729(0x199)]=[],this[_0x2f0729(0x3d2)]?.[_0x2f0729(0x2bc)](),this[_0x2f0729(0x3d2)]?.[_0x2f0729(0x6d7)](),delete this[_0x2f0729(0x3d2)];}[_0x4d9d4f(0x3b3)](){const _0xa06d9e=_0x4d9d4f;return this[_0xa06d9e(0x4fb)]?.[_0xa06d9e(0x3b3)]()&&this[_0xa06d9e(0x3d2)]?.[_0xa06d9e(0x3b3)]()||!0x1;}[_0x4d9d4f(0x784)](_0x68defa){const _0x4bf7c2=_0x4d9d4f;if(!this[_0x4bf7c2(0x4fb)]||!this[_0x4bf7c2(0x3b3)]())throw new _0x56b2e7(_0x56b2e7[_0x4bf7c2(0x90b)]['ConnectionNotinitialized'],{'message':_0x4bf7c2(0x33c),'senderConnected':this[_0x4bf7c2(0x4fb)]?.[_0x4bf7c2(0x3b3)](),'receiverConnected':this[_0x4bf7c2(0x3d2)]?.[_0x4bf7c2(0x3b3)](),'localId':this['getLocalId'](),'remoteId':this[_0x4bf7c2(0x242)],'data':_0x68defa});this[_0x4bf7c2(0x4fb)][_0x4bf7c2(0x784)](_0x68defa);}[_0x4d9d4f(0x4f2)](_0xb5f5b0){const _0x5ce58b=_0x4d9d4f;return this[_0x5ce58b(0x8f4)][_0x5ce58b(0x3dd)](_0xb5f5b0);}[_0x4d9d4f(0x2e5)](_0x5862c0){const _0x2839de=_0x4d9d4f;return this[_0x2839de(0x493)][_0x2839de(0x3dd)](({track:_0x48e65c,stream:_0x27cfef})=>_0x5862c0(_0x48e65c,_0x27cfef));}[_0x4d9d4f(0x4dd)](_0xe09ade){const _0x511c87=_0x4d9d4f;return this[_0x511c87(0x8c1)]['subscribe'](({track:_0x585b05,stream:_0x1253b1})=>_0xe09ade(_0x585b05,_0x1253b1));}[_0x4d9d4f(0x3db)](_0x16378a,_0x54e1f3,_0x2fe015,_0x3f6248){const _0x510934=_0x4d9d4f;this[_0x510934(0x4fb)]?.[_0x510934(0x3db)](_0x16378a,_0x54e1f3,_0x2fe015,_0x3f6248);}[_0x4d9d4f(0x5cf)](_0x5e9e3d,_0x2aa9d1){const _0x23d33b=_0x4d9d4f;this[_0x23d33b(0x4fb)]?.[_0x23d33b(0x5cf)](_0x5e9e3d,_0x2aa9d1);}[_0x4d9d4f(0x6fa)](_0x746a07,_0x577071){const _0x591e87=_0x4d9d4f;this[_0x591e87(0x4fb)]?.[_0x591e87(0x6fa)](_0x746a07,_0x577071);}[_0x4d9d4f(0x885)](_0x322b59,_0x40ed53){const _0x230255=_0x4d9d4f;this[_0x230255(0x4fb)]?.['removeTrack'](_0x322b59,_0x40ed53);}async[_0x4d9d4f(0x35c)](_0x3ebce9){const _0x520ac7=_0x4d9d4f;_0x2644bc[_0x520ac7(0x5ad)](_0x1a98bf['Connection'],_0x520ac7(0x586),this[_0x520ac7(0x39f)](),_0x3ebce9);const {content:_0x15639e}=_0x3ebce9;switch(_0x15639e[_0x520ac7(0x506)]){case _0x774ff0['Offer']:await this[_0x520ac7(0x57f)](_0x15639e);break;case _0x774ff0[_0x520ac7(0x109)]:await this['handleAnswer'](_0x15639e);break;case _0x774ff0[_0x520ac7(0xcf)]:this[_0x520ac7(0x66a)]();break;case _0x774ff0[_0x520ac7(0x69a)]:await this[_0x520ac7(0x906)](_0x15639e);break;case _0x774ff0[_0x520ac7(0x7d6)]:this[_0x520ac7(0x9af)](_0x15639e);break;case _0x774ff0['Restart']:await this[_0x520ac7(0x1e5)]();}}[_0x4d9d4f(0x450)](_0xaa0cd9){const _0x219e61=_0x4d9d4f;this[_0x219e61(0x4fb)]?.[_0x219e61(0x49e)](_0xaa0cd9[_0x219e61(0x108)][_0x219e61(0x626)]);}['getConnectionType'](){const _0x4e1bf3=_0x4d9d4f;return this[_0x4e1bf3(0x275)];}['setConnectionType'](_0x3fee2a){const _0x5b8189=_0x4d9d4f;this[_0x5b8189(0x275)]=_0x3fee2a,this['senderConnection']?.[_0x5b8189(0x23d)](_0x3fee2a),this['receiverConnection']?.['setConnectionType'](_0x3fee2a);}async[_0x4d9d4f(0x774)](){const _0x5c7a8b=_0x4d9d4f;await this[_0x5c7a8b(0x4fb)]?.[_0x5c7a8b(0x774)](),await this[_0x5c7a8b(0x3d2)]?.[_0x5c7a8b(0x774)]();}['calculateArrayBufferSize'](){const _0x11845e=_0x4d9d4f;return this[_0x11845e(0x4fb)]?.[_0x11845e(0x6bd)]()??0x0;}[_0x4d9d4f(0x4b6)](){return this['senderConnection']?.['getBufferedAmount']()??0x0;}[_0x4d9d4f(0x30c)](){const _0x1e4e80=_0x4d9d4f;this[_0x1e4e80(0x92b)]['push'](this[_0x1e4e80(0x4f2)](_0x2b1fb7=>{const _0x59dffb=_0x1e4e80;_0x1cbdfe(_0x2b1fb7,this[_0x59dffb(0x39f)]())&&0x0!==_0x2b1fb7[_0x59dffb(0x7d3)]&&this[_0x59dffb(0x11c)][_0x59dffb(0x29f)](_0x2b1fb7['topicLabel'])?.[_0x59dffb(0x817)](_0x2b1fb7);})),this[_0x1e4e80(0x92b)][_0x1e4e80(0x9e2)](this['onTrack']((_0x1d69bd,_0x2de04c)=>{const _0x47b41c=_0x1e4e80,_0x114f6b=_0x572f08(_0x2477c2[_0x47b41c(0x61d)]['Media'],_0x2de04c['id'],this[_0x47b41c(0x242)]);this[_0x47b41c(0x63e)][_0x47b41c(0x29f)](_0x114f6b)?.[_0x47b41c(0x817)]({'topicLabel':_0x114f6b,'sourceId':this[_0x47b41c(0x242)],'contentType':_0x2477c2[_0x47b41c(0x61d)][_0x47b41c(0x458)],'content':{'action':_0x569b17[_0x47b41c(0x741)],'track':_0x1d69bd,'stream':_0x2de04c,'providerId':this[_0x47b41c(0x242)]}});})),this[_0x1e4e80(0x92b)][_0x1e4e80(0x9e2)](this[_0x1e4e80(0x4dd)]((_0x3319fd,_0x212e0d)=>{const _0x2d6362=_0x1e4e80,_0x5f4d5d=_0x572f08(_0x2477c2[_0x2d6362(0x61d)]['Media'],_0x212e0d['id'],this[_0x2d6362(0x242)]);this[_0x2d6362(0x63e)][_0x2d6362(0x29f)](_0x5f4d5d)?.[_0x2d6362(0x817)]({'topicLabel':_0x5f4d5d,'sourceId':this[_0x2d6362(0x242)],'contentType':_0x2477c2[_0x2d6362(0x61d)][_0x2d6362(0x458)],'content':{'action':_0x569b17[_0x2d6362(0x3a8)],'track':_0x3319fd,'stream':_0x212e0d,'providerId':this[_0x2d6362(0x242)]}});}));}[_0x4d9d4f(0x906)]({candidates:_0x1bac7b,origin:_0x406c3c,version:_0x5548ff}){const _0x562d56=_0x4d9d4f;return _0x406c3c===_0x5a0522[_0x562d56(0x980)]?(this['receiverConnection']||this[_0x562d56(0x6c0)](),this['receiverConnection'][_0x562d56(0x9bc)](_0x1bac7b,_0x5548ff)):this[_0x562d56(0x4fb)][_0x562d56(0x9bc)](_0x1bac7b,_0x5548ff);}async[_0x4d9d4f(0x1e5)](){const _0x4e2364=_0x4d9d4f;this[_0x4e2364(0x4fb)]||this['createSenderConnection'](),await this[_0x4e2364(0x4fb)][_0x4e2364(0x1e5)]();}async['handleOffer']({offer:_0x406496,version:_0xf386be}){const _0x3acda9=_0x4d9d4f;this[_0x3acda9(0x3d2)]||this['createReceiverConnection'](),await this[_0x3acda9(0x3d2)][_0x3acda9(0x57f)](_0x406496,_0xf386be);}async[_0x4d9d4f(0x76c)]({answer:_0xb865ee,version:_0x37a4ba}){const _0x779cdf=_0x4d9d4f;if(!this[_0x779cdf(0x4fb)])throw new _0x56b2e7(_0x56b2e7[_0x779cdf(0x90b)][_0x779cdf(0x1f7)],{'message':_0x779cdf(0x97c),'localId':this['getLocalId'](),'remoteId':this[_0x779cdf(0x242)],'answer':_0xb865ee});await this[_0x779cdf(0x4fb)][_0x779cdf(0x76c)](_0xb865ee,_0x37a4ba);}[_0x4d9d4f(0x66a)](){const _0x43af57=_0x4d9d4f;if(!this['receiverConnection'])throw new _0x56b2e7(_0x56b2e7[_0x43af57(0x90b)][_0x43af57(0x1f7)],{'message':_0x43af57(0x8f5),'localId':this[_0x43af57(0x39f)](),'remoteId':this['remoteId']});this[_0x43af57(0x3d2)][_0x43af57(0x66a)](),this['successNotified']||this[_0x43af57(0x275)]!==_0x4903f6[_0x43af57(0x91f)]||(this[_0x43af57(0x4ef)]=!0x0,this[_0x43af57(0x26f)]?.[_0x43af57(0x817)]({'sourceId':this['remoteId'],'destinationIds':[this['getLocalId']()],'messageType':_0x2ba96e[_0x43af57(0x60c)],'content':{'type':_0x774ff0[_0x43af57(0x529)]}}));}[_0x4d9d4f(0x9af)](_0x41aeba){const _0x350cf9=_0x4d9d4f;this[_0x350cf9(0x3d2)]||this['createReceiverConnection'](),this[_0x350cf9(0x3d2)][_0x350cf9(0x9af)](_0x41aeba[_0x350cf9(0x431)]);}['createSenderConnection'](){const _0x4664d1=_0x4d9d4f;this[_0x4664d1(0x4fb)]=new _0x4635ee(this['clusterId'],this[_0x4664d1(0x772)],this['remoteId'],this['iceServers'],this[_0x4664d1(0x275)],this['maxFps'],this[_0x4664d1(0x398)],this['connectionConstructor']),this[_0x4664d1(0x4fb)][_0x4664d1(0xe7)](this[_0x4664d1(0x26f)]);}[_0x4d9d4f(0x6c0)](){const _0x25e7a5=_0x4d9d4f;this[_0x25e7a5(0x3d2)]=new _0x570983(this['clusterId'],this[_0x25e7a5(0x772)],this['remoteId'],this[_0x25e7a5(0x7c0)],this[_0x25e7a5(0x275)],this['connectionConstructor']),this[_0x25e7a5(0x3d2)][_0x25e7a5(0xe7)](this[_0x25e7a5(0x26f)]),this[_0x25e7a5(0x199)][_0x25e7a5(0x9e2)](this['receiverConnection'][_0x25e7a5(0x4f2)](_0x168c93=>this[_0x25e7a5(0x8f4)][_0x25e7a5(0x817)](_0x168c93))),this[_0x25e7a5(0x199)][_0x25e7a5(0x9e2)](this['receiverConnection'][_0x25e7a5(0x2e5)]((_0x1c3e7d,_0x338c13)=>this['trackListeners']['publish']({'track':_0x1c3e7d,'stream':_0x338c13}))),this[_0x25e7a5(0x199)]['push'](this[_0x25e7a5(0x3d2)][_0x25e7a5(0x4dd)]((_0x3dddf9,_0x152778)=>this['removeTrackListeners'][_0x25e7a5(0x817)]({'track':_0x3dddf9,'stream':_0x152778})));}}class _0x3b686c{[_0x4d9d4f(0x138)];[_0x4d9d4f(0x5ee)];[_0x4d9d4f(0x519)];[_0x4d9d4f(0x305)]=new Map();[_0x4d9d4f(0x8f4)]=_0x27eca1();[_0x4d9d4f(0x91d)];[_0x4d9d4f(0x11c)]=new Map();[_0x4d9d4f(0x7f4)]=new Map();[_0x4d9d4f(0x5ff)]=new Map();constructor(_0x15012a,_0x42a258,_0xd2d140){const _0x53f622=_0x4d9d4f;this['localId']=_0x15012a,this[_0x53f622(0x5ee)]=_0x42a258,this[_0x53f622(0x519)]=_0xd2d140,this[_0x53f622(0x91d)]=this['onMessage'](_0x4f3c04=>{const _0x22794c=_0x53f622;this[_0x22794c(0x5ee)][_0x22794c(0x6cd)](_0x4f3c04[_0x22794c(0x332)])||(_0x1cbdfe(_0x4f3c04,this[_0x22794c(0x138)])&&0x0!==_0x4f3c04[_0x22794c(0x7d3)]&&(this[_0x22794c(0x5ee)][_0x22794c(0x5fc)](_0x4f3c04['uuid']),this[_0x22794c(0x11c)][_0x22794c(0x29f)](_0x4f3c04[_0x22794c(0x7d3)])?.[_0x22794c(0x817)](_0x4f3c04)),_0x4f3c04[_0x22794c(0x48e)]&&this['send'](_0x4f3c04));});}[_0x4d9d4f(0x6d7)](){this['messageUnsubscriber']?.();}[_0x4d9d4f(0x6b7)](_0x502c47){const _0x1330e1=_0x4d9d4f,_0x1e3529=_0x502c47[_0x1330e1(0x4f2)](_0xbf08a9=>{const _0x55bf8a=_0x1330e1;this[_0x55bf8a(0x8f4)]['publish'](_0xbf08a9);});this[_0x1330e1(0x305)][_0x1330e1(0xcd)](_0x502c47,_0x1e3529),this[_0x1330e1(0x5ff)][_0x1330e1(0xcd)](_0x502c47[_0x1330e1(0x91b)](),function(_0x4a1f40,_0x536344=!0x1){let _0x340e32=new Map();const _0x13c60d=_0x516607(_0x4a1f40,_0x536344,function(_0x2a1d16){const _0x5522bf=a0_0x1399;_0x433da4(_0x2a1d16)&&_0x340e32['delete'](_0x2a1d16['sourceId']+'-'+(_0x2a1d16[_0x5522bf(0x3f9)]??[])+'-'+_0x2a1d16[_0x5522bf(0x7ca)]+'-'+_0x2a1d16['content']['type']);},function(_0x9fd9e0){return!!function(_0x3659f2){const _0x188678=a0_0x1399,_0x53d007=_0x3659f2[_0x188678(0x184)];if(!_0x433da4(_0x53d007))return!0x1;const _0x1fac7f=_0x53d007[_0x188678(0x68c)]+'-'+(_0x53d007[_0x188678(0x3f9)]??[])+'-'+_0x53d007['messageType']+'-'+_0x53d007[_0x188678(0x108)][_0x188678(0x506)],_0x2357bc={'version':_0x53d007[_0x188678(0x108)][_0x188678(0x431)],'element':_0x3659f2},_0x52a3e6=_0x340e32[_0x188678(0x29f)](_0x1fac7f);return _0x52a3e6?(_0x52a3e6[_0x188678(0x431)]>=_0x53d007[_0x188678(0x108)]['version']||(_0x52a3e6[_0x188678(0x913)][_0x188678(0x46d)]&&(_0x52a3e6[_0x188678(0x913)]['previous'][_0x188678(0x726)]=_0x3659f2,_0x3659f2['previous']=_0x52a3e6[_0x188678(0x913)][_0x188678(0x46d)]),_0x52a3e6[_0x188678(0x913)][_0x188678(0x726)]&&(_0x52a3e6['element'][_0x188678(0x726)][_0x188678(0x46d)]=_0x3659f2,_0x3659f2[_0x188678(0x726)]=_0x52a3e6[_0x188678(0x913)][_0x188678(0x726)]),_0x52a3e6[_0x188678(0x913)]===_0x13c60d[_0x188678(0x4ac)]&&(_0x13c60d[_0x188678(0x4ac)]=_0x3659f2),_0x52a3e6[_0x188678(0x913)]===_0x13c60d[_0x188678(0x851)]&&(_0x13c60d['tail']=_0x3659f2),_0x340e32[_0x188678(0xcd)](_0x1fac7f,_0x2357bc)),!0x0):(_0x340e32[_0x188678(0xcd)](_0x1fac7f,_0x2357bc),!0x1);}(_0x9fd9e0);},function(){_0x340e32['clear']();});function _0x433da4(_0x5f1f6a){const _0x349cce=a0_0x1399;if(_0x5f1f6a&&'object'==typeof _0x5f1f6a&&_0x5f1f6a[_0x349cce(0xe9)]('content')&&_0x5f1f6a[_0x349cce(0xe9)](_0x349cce(0x7ca))&&_0x5f1f6a[_0x349cce(0xe9)](_0x349cce(0x68c))){const _0x110040=_0x5f1f6a;if(_0x110040[_0x349cce(0x108)]&&_0x349cce(0x9d3)==typeof _0x110040[_0x349cce(0x108)]&&_0x110040[_0x349cce(0x108)][_0x349cce(0xe9)]('version')&&_0x110040[_0x349cce(0x108)][_0x349cce(0xe9)](_0x349cce(0x506)))return!0x0;}return!0x1;}return _0x13c60d;}(new _0x1eff5f(_0x1d9b11=>_0x502c47[_0x1330e1(0x784)](_0x1d9b11),()=>_0x135d86[_0x1330e1(0x24a)](0x64))));}['removeConnection'](_0x3fd76e){const _0x4a2e1e=_0x4d9d4f;this[_0x4a2e1e(0x305)][_0x4a2e1e(0x29f)](_0x3fd76e)?.(),this[_0x4a2e1e(0x305)][_0x4a2e1e(0x465)](_0x3fd76e),this[_0x4a2e1e(0x5ff)][_0x4a2e1e(0x29f)](_0x3fd76e[_0x4a2e1e(0x91b)]())?.['clear'](),this[_0x4a2e1e(0x5ff)][_0x4a2e1e(0x465)](_0x3fd76e[_0x4a2e1e(0x91b)]());}[_0x4d9d4f(0x3b3)](_0x1472b8){const _0x5eff61=_0x4d9d4f;return _0x2644bc['log'](_0x1a98bf[_0x5eff61(0x5b1)],_0x5eff61(0x703),this[_0x5eff61(0x138)],this['connections'][_0x5eff61(0x224)]()),0x0!==this[_0x5eff61(0x305)]['size']&&(Array[_0x5eff61(0x376)](this[_0x5eff61(0x305)][_0x5eff61(0x224)]())[_0x5eff61(0x211)](_0x345a6b=>_0x345a6b[_0x5eff61(0x91b)]()===_0x1472b8)?.[_0x5eff61(0x3b3)]()??!0x1);}['registerPublisher'](_0xa0f4d3){this['dataTopics']['set'](_0xa0f4d3['getLabel'](),_0xa0f4d3);}[_0x4d9d4f(0xb7)](_0x54f7c3){const _0x2dfa5a=_0x4d9d4f;this['dataTopics'][_0x2dfa5a(0x465)](_0x54f7c3[_0x2dfa5a(0x502)]());}[_0x4d9d4f(0x7aa)](_0x40aa2c){const _0x334f80=_0x4d9d4f,_0x340d5b=_0x40aa2c[_0x334f80(0x3dd)](this['send'][_0x334f80(0x3b0)](this));this[_0x334f80(0x7f4)][_0x334f80(0xcd)](_0x40aa2c[_0x334f80(0x502)](),_0x340d5b);}[_0x4d9d4f(0x38f)](_0x1a2121){const _0x5a1db5=_0x4d9d4f;this[_0x5a1db5(0x7f4)][_0x5a1db5(0x29f)](_0x1a2121['getLabel']())?.(),this[_0x5a1db5(0x7f4)][_0x5a1db5(0x465)](_0x1a2121['getLabel']());}['getSupportedContentTypes'](){const _0x5751d8=_0x4d9d4f;return[_0x2477c2[_0x5751d8(0x61d)]['Data'],_0x2477c2[_0x5751d8(0x61d)][_0x5751d8(0x343)],_0x2477c2[_0x5751d8(0x61d)][_0x5751d8(0x43f)],_0x2477c2[_0x5751d8(0x61d)][_0x5751d8(0x62c)],_0x2477c2[_0x5751d8(0x61d)]['Job'],_0x2477c2[_0x5751d8(0x61d)][_0x5751d8(0x406)],_0x2477c2[_0x5751d8(0x61d)]['GraphDatabase'],_0x2477c2['ContentType']['ExternalStorage']];}[_0x4d9d4f(0x784)](_0x554303){const _0x3d9e13=_0x4d9d4f;if(!0x1===_0x554303['retry']){if(_0x554303[_0x3d9e13(0x48e)]||!_0x554303['destinationIds']||0x1!==_0x554303[_0x3d9e13(0x3f9)][_0x3d9e13(0x99a)])throw new _0x56b2e7(_0x56b2e7[_0x3d9e13(0x90b)]['ConnectionInvalidDataEvent'],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x3d9e13(0x138)]});if(!this['isConnected'](_0x554303[_0x3d9e13(0x3f9)][0x0]))throw new _0x2f0fdd(_0x3d9e13(0x3f4));}const _0x5a151d=_0x554303['recipients']??[];try{const {filteredDestinationIds:_0x5746d5,extendedRecipients:_0x5e1b9c}=this[_0x3d9e13(0x95f)](_0x554303,_0x5a151d);_0x554303[_0x3d9e13(0x3f9)]=_0x5746d5,_0x554303[_0x3d9e13(0x2c2)]=_0x5e1b9c;}catch(_0xa353c5){if(_0xa353c5 instanceof _0x2f0fdd)return void _0x2644bc[_0x3d9e13(0x5ad)](_0x1a98bf[_0x3d9e13(0x165)],_0x3d9e13(0x82e),_0x3d9e13(0x674),_0x554303,_0xa353c5[_0x3d9e13(0x12c)]);}const _0x31b4a7=this['shouldContinuePropagation'](_0x554303);this[_0x3d9e13(0xbe)](_0x554303,_0x31b4a7),_0x554303[_0x3d9e13(0x48e)]=_0x31b4a7;const _0x4ccc61=this[_0x3d9e13(0x595)](_0x554303,_0x5a151d);for(const _0x5bb345 of _0x4ccc61){const _0x4b6805=this[_0x3d9e13(0x5ff)][_0x3d9e13(0x29f)](_0x5bb345[_0x3d9e13(0x91b)]());if(!_0x4b6805)throw new _0x56b2e7(_0x56b2e7[_0x3d9e13(0x90b)][_0x3d9e13(0x2a5)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0x3d9e13(0x138)],'remoteId':_0x5bb345['getRemoteId'](),'data':_0x554303});_0x4b6805[_0x3d9e13(0x9e2)](_0x554303);}}[_0x4d9d4f(0x91b)](){return'';}[_0x4d9d4f(0x39f)](){const _0x4b03f6=_0x4d9d4f;return this[_0x4b03f6(0x138)];}[_0x4d9d4f(0x4f2)](_0x4b35ff){const _0x2b5b02=_0x4d9d4f;return this[_0x2b5b02(0x8f4)]['subscribe'](_0x4b35ff);}[_0x4d9d4f(0x95f)](_0x10f129,_0x12d38a){const _0x32f65f=_0x4d9d4f,_0x3361e7={'filteredDestinationIds':_0x10f129[_0x32f65f(0x3f9)],'extendedRecipients':_0x10f129['recipients']};if(!_0x10f129['propagate'])return _0x3361e7;const _0x322541=Array[_0x32f65f(0x376)](this[_0x32f65f(0x305)][_0x32f65f(0x224)]())['filter'](_0x343896=>_0x343896['getConnectionType']()===_0x4903f6['Core']||_0x343896[_0x32f65f(0x3b3)]())[_0x32f65f(0x473)](_0x397ba8=>_0x397ba8[_0x32f65f(0x91b)]());if(_0x322541[_0x32f65f(0x9a6)]((_0x43f715,_0x21a5af)=>_0x43f715&&_0x10f129['recipients']['includes'](_0x21a5af),!0x0))throw new _0x2f0fdd('All\x20recipients\x20already\x20received');if(_0x10f129[_0x32f65f(0x3f9)]){const _0x1eabeb=_0x10f129[_0x32f65f(0x3f9)][_0x32f65f(0x64c)](_0x50de5e=>_0x50de5e!==this[_0x32f65f(0x138)]&&!_0x10f129[_0x32f65f(0x2c2)]['includes'](_0x50de5e));if(0x0===_0x1eabeb[_0x32f65f(0x99a)])throw new _0x2f0fdd(_0x32f65f(0x88e));_0x3361e7[_0x32f65f(0x861)]=_0x1eabeb;}return _0x3361e7[_0x32f65f(0x3a3)]=[...new Set([..._0x12d38a,..._0x322541,this[_0x32f65f(0x138)]])],_0x3361e7;}[_0x4d9d4f(0xbe)](_0x584276,_0x24812c=!0x1){const _0x513158=_0x4d9d4f;if(0x0===_0x584276[_0x513158(0x7d3)]&&!_0x87a977(_0x584276,this[_0x513158(0x138)])&&_0x584276[_0x513158(0x48e)]){const _0x1e9a37=_0x58ef92(_0x584276,this[_0x513158(0x138)]);_0x2644bc[_0x513158(0x8a5)](_0x1a98bf[_0x513158(0x39e)],_0x584276[_0x513158(0x332)]+_0x513158(0x8e1)+_0x24812c+')\x20'+_0x1e9a37,_0x584276,_0x24812c);}}[_0x4d9d4f(0x74c)](_0x146d27){const _0x58ca60=_0x4d9d4f;if(_0x146d27[_0x58ca60(0x3f9)]&&_0x146d27[_0x58ca60(0x48e)]){const _0x8ce1e4=Array[_0x58ca60(0x376)](this[_0x58ca60(0x305)][_0x58ca60(0x224)]())[_0x58ca60(0x64c)](_0x385e28=>_0x385e28['getConnectionType']()===_0x4903f6['Core']||_0x385e28[_0x58ca60(0x3b3)]())['map'](_0x507ac3=>_0x507ac3[_0x58ca60(0x91b)]());return!_0x146d27[_0x58ca60(0x3f9)][_0x58ca60(0x9a6)]((_0x161334,_0x155a1d)=>_0x161334&&_0x8ce1e4[_0x58ca60(0x766)](_0x155a1d),!0x0);}return _0x146d27[_0x58ca60(0x48e)]??!0x1;}[_0x4d9d4f(0x595)](_0x370e9b,_0x5591cc){const _0x2d123a=_0x4d9d4f;if(_0x370e9b[_0x2d123a(0x48e)]&&_0x370e9b[_0x2d123a(0x3f9)]){const _0x3f8e5b=Array[_0x2d123a(0x376)](this[_0x2d123a(0x305)][_0x2d123a(0x224)]())[_0x2d123a(0x64c)](_0x3aa5f6=>_0x3aa5f6['getConnectionType']()===_0x4903f6[_0x2d123a(0x8b8)]||_0x3aa5f6['isConnected']())['map'](_0xb837ab=>_0xb837ab[_0x2d123a(0x91b)]()),_0xe59d3f=new Set(),_0x239aca=_0x370e9b[_0x2d123a(0x68c)]===this[_0x2d123a(0x138)]?0x3:0x1;return _0x370e9b[_0x2d123a(0x3f9)][_0x2d123a(0x1dc)](_0x3edd71=>{const _0x397b33=_0x2d123a,_0x5c03aa=this[_0x397b33(0x519)][_0x397b33(0x496)](_0x3f8e5b,_0x3edd71);let _0x576549=0x0,_0x5b4fd2=0x0;_0x5c03aa[_0x397b33(0x1dc)](_0x1d12fc=>{const _0x1beb2b=_0x397b33;if(_0x576549>=_0x239aca)return;const _0x237a5b=Array[_0x1beb2b(0x376)](this['connections']['keys']())['find'](_0x1212d9=>_0x1212d9[_0x1beb2b(0x91b)]()===_0x1d12fc);if(_0x237a5b){if(_0x237a5b['getConnectionType']()===_0x4903f6[_0x1beb2b(0x8b8)]&&_0x5b4fd2>0x0)return void(_0x5b4fd2-=0x1);_0xe59d3f[_0x1beb2b(0x9d2)](_0x237a5b),_0x237a5b[_0x1beb2b(0x272)]()===_0x4903f6[_0x1beb2b(0x91f)]&&(_0x5b4fd2+=0x1),_0x576549+=0x1;}});}),Array[_0x2d123a(0x376)](_0xe59d3f);}return Array[_0x2d123a(0x376)](this[_0x2d123a(0x305)][_0x2d123a(0x224)]())[_0x2d123a(0x64c)](_0x17fe65=>{const _0x5c1a73=_0x2d123a;return _0x39b0ce=_0x17fe65[_0x5c1a73(0x91b)](),!_0x5591cc[_0x5c1a73(0x766)](_0x39b0ce)&&(_0x1cbdfe(_0x370e9b,_0x39b0ce)||_0x370e9b[_0x5c1a73(0x48e)])&&(!_0x370e9b[_0x5c1a73(0x48e)]||_0x17fe65['isConnected']()||_0x17fe65[_0x5c1a73(0x272)]()===_0x4903f6['Core']);var _0x39b0ce;});}}class _0x22e89e{[_0x4d9d4f(0x138)];['messageBuffer'];[_0x4d9d4f(0x305)]=new Map();[_0x4d9d4f(0x26f)];constructor(_0x465889,_0x1c80e5){const _0x3ed390=_0x4d9d4f;this[_0x3ed390(0x138)]=_0x465889,this[_0x3ed390(0x5ee)]=_0x1c80e5;}[_0x4d9d4f(0x6d7)](){}['send'](_0x2378e7){const _0x17f06b=_0x4d9d4f;for(const _0x4eddb6 of this[_0x17f06b(0x305)]['keys']())try{return void _0x4eddb6[_0x17f06b(0x784)]({'retry':!0x1,..._0x2378e7});}catch(_0x499d36){_0x499d36 instanceof _0x2f0fdd||_0x2644bc['log'](_0x1a98bf[_0x17f06b(0x8b2)],_0x17f06b(0x238)+_0x4eddb6,_0x499d36,_0x2378e7);}_0x2644bc[_0x17f06b(0x5ad)](_0x1a98bf['Pool'],_0x17f06b(0x660));}[_0x4d9d4f(0x6b7)](_0x28792e){const _0x434c56=_0x4d9d4f,_0x368c87=_0x28792e['onMessage'](_0x24e33d=>{const _0x5234ab=a0_0x1399;this['messageBuffer']['hasMessage'](_0x24e33d['uuid'])||0x0===_0x24e33d[_0x5234ab(0x7d3)]&&(this[_0x5234ab(0x5ee)]['addMessage'](_0x24e33d['uuid']),_0x1cbdfe(_0x24e33d,this[_0x5234ab(0x138)])&&this[_0x5234ab(0x26f)]?.[_0x5234ab(0x817)](_0x24e33d));});this[_0x434c56(0x305)][_0x434c56(0xcd)](_0x28792e,_0x368c87);}[_0x4d9d4f(0x3b9)](_0x160da2){const _0x5c94ac=_0x4d9d4f;this[_0x5c94ac(0x305)][_0x5c94ac(0x29f)](_0x160da2)?.(),this[_0x5c94ac(0x305)][_0x5c94ac(0x465)](_0x160da2);}['getLocalId'](){const _0x3c6151=_0x4d9d4f;return this[_0x3c6151(0x138)];}[_0x4d9d4f(0x91b)](){return'';}['getSupportedContentTypes'](){return[_0x2477c2['ContentType']['Data']];}[_0x4d9d4f(0x3b3)](){throw new Error('Method\x20not\x20implemented.');}[_0x4d9d4f(0xe7)](_0x526836){this['systemTopic']=_0x526836;}[_0x4d9d4f(0x2bc)](){const _0x542c5e=_0x4d9d4f;delete this[_0x542c5e(0x26f)];}}class _0x1f58c1{[_0x4d9d4f(0x23c)]=new Map();[_0x4d9d4f(0x341)];constructor(){const _0x3b05e6=_0x4d9d4f;this['unsubscribeHandler']=_0x135d86[_0x3b05e6(0x121)](()=>{const _0x497d21=_0x3b05e6;for(const [_0x431a01,_0x59b986]of this[_0x497d21(0x23c)]['entries']())Date['now']()-_0x59b986>0x124f80&&this['buffer'][_0x497d21(0x465)](_0x431a01);},0x1d4c0);}[_0x4d9d4f(0x6d7)](){const _0x523514=_0x4d9d4f;this[_0x523514(0x341)]();}[_0x4d9d4f(0x5fc)](_0x25ad6f){const _0x5113e7=_0x4d9d4f;this[_0x5113e7(0x23c)][_0x5113e7(0xcd)](_0x25ad6f,Date['now']());}[_0x4d9d4f(0x6cd)](_0x3b61bc){const _0x5ce6a5=_0x4d9d4f;return this[_0x5ce6a5(0x23c)][_0x5ce6a5(0x8dd)](_0x3b61bc);}}class _0x4bdd64{[_0x4d9d4f(0x89a)];[_0x4d9d4f(0x9ce)];[_0x4d9d4f(0x7c0)];[_0x4d9d4f(0x6cc)];[_0x4d9d4f(0x305)]=new Map();[_0x4d9d4f(0x589)];[_0x4d9d4f(0x609)];[_0x4d9d4f(0x612)];['messageBuffer'];constructor(_0xa560c3,_0x14ef35,_0x329b02,_0x11c794,_0x4ceb53){const _0x145e56=_0x4d9d4f;this[_0x145e56(0x89a)]=_0xa560c3,this[_0x145e56(0x9ce)]=_0x14ef35,this[_0x145e56(0x7c0)]=_0x11c794,this[_0x145e56(0x6cc)]=_0x4ceb53,this['messageBuffer']=new _0x1f58c1(),this[_0x145e56(0x609)]=new _0x3b686c(this[_0x145e56(0x89a)][_0x145e56(0x772)][_0x145e56(0x9a5)](),this[_0x145e56(0x5ee)],_0x329b02),this[_0x145e56(0x612)]=new _0x3c9dd1(this[_0x145e56(0x89a)][_0x145e56(0x4e6)],this[_0x145e56(0x89a)][_0x145e56(0x95e)],this[_0x145e56(0x89a)]['localNode'],'server',this[_0x145e56(0x9ce)]),this[_0x145e56(0x589)]=new _0x22e89e(this[_0x145e56(0x89a)][_0x145e56(0x772)][_0x145e56(0x9a5)](),this[_0x145e56(0x5ee)]),this[_0x145e56(0x589)][_0x145e56(0x6b7)](this[_0x145e56(0x609)]),this[_0x145e56(0x589)][_0x145e56(0x6b7)](this[_0x145e56(0x612)]),this[_0x145e56(0x89a)][_0x145e56(0x295)][_0x145e56(0x118)](this['connectionPool']);}['close'](){const _0x103d8f=_0x4d9d4f;this[_0x103d8f(0x5ee)]['close'](),this[_0x103d8f(0x305)][_0x103d8f(0x1dc)]((_0x14f6fc,_0x57bd7c)=>this[_0x103d8f(0x905)](_0x57bd7c)),this[_0x103d8f(0x89a)][_0x103d8f(0x295)][_0x103d8f(0x3a5)](this[_0x103d8f(0x589)]),this[_0x103d8f(0x589)][_0x103d8f(0x3b9)](this[_0x103d8f(0x612)]),this['connectionPool'][_0x103d8f(0x3b9)](this[_0x103d8f(0x609)]),this[_0x103d8f(0x589)][_0x103d8f(0x6d7)](),this[_0x103d8f(0x612)]['close'](),this[_0x103d8f(0x609)][_0x103d8f(0x6d7)]();}async['initialize'](){const _0x5ee0c2=_0x4d9d4f;await this[_0x5ee0c2(0x612)]['connect']();}async[_0x4d9d4f(0x668)](_0x556d1e,_0x318a15=_0x4903f6[_0x4d9d4f(0x8b8)]){const _0x545879=_0x4d9d4f;if(this[_0x545879(0x305)][_0x545879(0x8dd)](_0x556d1e)){if(this[_0x545879(0x305)][_0x545879(0x29f)](_0x556d1e)?.['getConnectionType']()===_0x4903f6['Optimization']&&_0x318a15===_0x4903f6[_0x545879(0x8b8)])return void this[_0x545879(0x305)][_0x545879(0x29f)](_0x556d1e)?.['setConnectionType'](_0x4903f6['Core']);throw new _0x56b2e7(_0x56b2e7[_0x545879(0x90b)][_0x545879(0x440)],{'localId':this['configs']['localNode'][_0x545879(0x9a5)](),'remoteId':_0x556d1e});}const _0x1ea27c=new _0x200356(this['configs'][_0x545879(0x95e)],this[_0x545879(0x89a)]['localNode'],_0x556d1e,this[_0x545879(0x7c0)],_0x318a15,this[_0x545879(0x6cc)][_0x545879(0x18d)],this['options']['maxBpp'],this[_0x545879(0x6cc)][_0x545879(0x472)]);this[_0x545879(0x305)][_0x545879(0xcd)](_0x556d1e,_0x1ea27c),this[_0x545879(0x609)][_0x545879(0x6b7)](_0x1ea27c),this[_0x545879(0x89a)]['mediator'][_0x545879(0x118)](_0x1ea27c),this[_0x545879(0x89a)]['mediator']['registerRemoteNode'](_0x556d1e),await _0x1ea27c[_0x545879(0x6b5)]();}['getConnectionGroup'](){const _0x5d6f84=_0x4d9d4f;return this[_0x5d6f84(0x609)];}[_0x4d9d4f(0x464)](_0x476029){const _0x49f0a5=_0x4d9d4f;if(!this[_0x49f0a5(0x305)][_0x49f0a5(0x8dd)](_0x476029))throw new _0x56b2e7(_0x56b2e7[_0x49f0a5(0x90b)][_0x49f0a5(0x4bf)],{'localId':this[_0x49f0a5(0x89a)][_0x49f0a5(0x772)][_0x49f0a5(0x9a5)](),'remoteId':_0x476029});return this['connections'][_0x49f0a5(0x29f)](_0x476029);}[_0x4d9d4f(0x951)](_0x5de8ed){const _0x477e1b=_0x4d9d4f,_0x55c47c=Array['from'](this[_0x477e1b(0x305)]['values']());return _0x5de8ed?_0x55c47c[_0x477e1b(0x64c)](_0x5de8ed):_0x55c47c;}async[_0x4d9d4f(0x774)](_0x2d8fff){const _0xb95448=_0x4d9d4f,_0x143976=this[_0xb95448(0x305)][_0xb95448(0x29f)](_0x2d8fff);_0x143976&&_0x143976[_0xb95448(0x3b3)]()&&await _0x143976[_0xb95448(0x774)]();}[_0x4d9d4f(0x748)](_0x213d50){const _0x1c5d17=_0x4d9d4f;if(_0x213d50['messageType']!==_0x2ba96e[_0x1c5d17(0x60c)]||_0x213d50['propagate'])try{this[_0x1c5d17(0x609)][_0x1c5d17(0x784)](_0x213d50);}catch(_0x28d6ac){if(_0x28d6ac instanceof _0x2f0fdd)return;throw _0x28d6ac;}else this[_0x1c5d17(0x589)][_0x1c5d17(0x784)](_0x213d50);}async['handlePeerConnectionSystemEvents'](_0x1d3b08){const _0x3f0247=_0x4d9d4f;switch(_0x1d3b08[_0x3f0247(0x108)][_0x3f0247(0x506)]){case _0x774ff0[_0x3f0247(0x48a)]:case _0x774ff0[_0x3f0247(0x5bb)]:case _0x774ff0[_0x3f0247(0x529)]:return;}if(!_0x1d3b08[_0x3f0247(0x3f9)]||0x1!==_0x1d3b08[_0x3f0247(0x3f9)][_0x3f0247(0x99a)])throw new _0x56b2e7(_0x56b2e7[_0x3f0247(0x90b)][_0x3f0247(0x603)],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x1d3b08});if(_0x1d3b08[_0x3f0247(0x3f9)][0x0]!==this['configs'][_0x3f0247(0x772)][_0x3f0247(0x9a5)]())throw new _0x56b2e7(_0x56b2e7['codes']['PeerConnectionInvalidDestination'],{'message':_0x3f0247(0x1bb),'event':_0x1d3b08});if(!this[_0x3f0247(0x305)][_0x3f0247(0x8dd)](_0x1d3b08[_0x3f0247(0x68c)])){let _0x4b9387=_0x4903f6['Core'];if(!(this[_0x3f0247(0xd2)](_0x1d3b08[_0x3f0247(0x108)])||this['isIceCandidate'](_0x1d3b08[_0x3f0247(0x108)])||this[_0x3f0247(0x2d1)](_0x1d3b08['content'])))return;_0x4b9387=_0x1d3b08['content'][_0x3f0247(0x275)],await this[_0x3f0247(0x668)](_0x1d3b08[_0x3f0247(0x68c)],_0x4b9387);}const _0x3b7bfd=this[_0x3f0247(0x305)]['get'](_0x1d3b08['sourceId']);await _0x3b7bfd['handlePeerConnectionSystemEvents'](_0x1d3b08);}[_0x4d9d4f(0x450)](_0x4ff0fd){const _0x4518da=_0x4d9d4f;if(_0x4ff0fd[_0x4518da(0x108)]['type']===_0x9f3900['Remediation']){if(_0x4ff0fd[_0x4518da(0x108)][_0x4518da(0x747)]===this[_0x4518da(0x89a)][_0x4518da(0x772)][_0x4518da(0x9a5)]())return void this[_0x4518da(0x305)]['forEach'](_0x33bfee=>_0x33bfee[_0x4518da(0x450)](_0x4ff0fd));this[_0x4518da(0x305)]['get'](_0x4ff0fd[_0x4518da(0x108)]['targetId'])?.[_0x4518da(0x450)](_0x4ff0fd);}}[_0x4d9d4f(0x2de)]({content:_0x4ae807}){const _0x315f2d=_0x4d9d4f;_0x4ae807[_0x315f2d(0x506)]===_0x52da1b[_0x315f2d(0x188)]&&this[_0x315f2d(0x905)](_0x4ae807['id']);}[_0x4d9d4f(0x395)](){const _0x1b4198=_0x4d9d4f,_0x36021e=Array[_0x1b4198(0x376)](this[_0x1b4198(0x305)][_0x1b4198(0x7a1)]())[_0x1b4198(0x9a6)]((_0x4b6ff1,_0x4516be)=>_0x4b6ff1+_0x4516be[_0x1b4198(0x6bd)](),0x0);return _0x36021e<_0x2d08cd?Promise[_0x1b4198(0x104)](_0x36021e):new Promise(_0x2089fe=>{const _0xa51e63=setInterval(()=>{const _0x586805=a0_0x1399,_0x15e82c=Array[_0x586805(0x376)](this['connections'][_0x586805(0x7a1)]())[_0x586805(0x9a6)]((_0x31d695,_0x12c8be)=>_0x31d695+_0x12c8be[_0x586805(0x6bd)](),0x0);_0x15e82c<_0x2d08cd&&(clearInterval(_0xa51e63),_0x2089fe(_0x15e82c));},0x3e8);});}['hasBufferedData'](){const _0x829c10=_0x4d9d4f;for(const _0x2bec5c of this['connections']['values']())if(_0x2bec5c[_0x829c10(0x4b6)]()>0x0||_0x2bec5c['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}[_0x4d9d4f(0x905)](_0x5e1e28){const _0x426534=_0x4d9d4f,_0x241d79=this[_0x426534(0x305)][_0x426534(0x29f)](_0x5e1e28);_0x241d79&&(this['configs'][_0x426534(0x295)][_0x426534(0x4ad)](_0x5e1e28),this[_0x426534(0x89a)][_0x426534(0x295)][_0x426534(0x3a5)](_0x241d79),_0x241d79 instanceof _0x200356&&this['connectionGroup'][_0x426534(0x3b9)](_0x241d79),_0x241d79[_0x426534(0x6d7)](),this[_0x426534(0x305)][_0x426534(0x465)](_0x5e1e28));}[_0x4d9d4f(0xd2)](_0x558a6b){const _0x107185=_0x4d9d4f;return _0x558a6b[_0x107185(0x506)]===_0x774ff0[_0x107185(0x610)];}['isNeedRestart'](_0xa0c5fc){const _0x17ebc2=_0x4d9d4f;return _0xa0c5fc['type']===_0x774ff0[_0x17ebc2(0x7d6)];}['isIceCandidate'](_0x5648be){const _0x244449=_0x4d9d4f;return _0x5648be[_0x244449(0x506)]===_0x774ff0[_0x244449(0x69a)];}}!function(_0x279860){const _0x32f628=_0x4d9d4f;_0x279860[_0x279860[_0x32f628(0x3f5)]=0x0]=_0x32f628(0x3f5),_0x279860[_0x279860[_0x32f628(0x419)]=0x1]='UpdateMediaStream',_0x279860[_0x279860[_0x32f628(0x2ba)]=0x2]=_0x32f628(0x2ba),_0x279860[_0x279860[_0x32f628(0x83d)]=0x3]='NeedMediaStream',_0x279860[_0x279860['RestartNeedMediaStream']=0x4]=_0x32f628(0x5e8),_0x279860[_0x279860[_0x32f628(0x5ea)]=0x5]=_0x32f628(0x5ea),_0x279860[_0x279860[_0x32f628(0x43b)]=0x6]=_0x32f628(0x43b),_0x279860[_0x279860['MediaStreamUnavailable']=0x7]='MediaStreamUnavailable';}(_0x4e7162||(_0x4e7162={}));class _0x1da3b9 extends _0x5b0910{[_0x4d9d4f(0x772)];[_0x4d9d4f(0x95e)];['vendorId'];[_0x4d9d4f(0x75b)];[_0x4d9d4f(0x233)];[_0x4d9d4f(0x503)]=0x0;[_0x4d9d4f(0x889)];[_0x4d9d4f(0x5d5)]=_0x27eca1();[_0x4d9d4f(0x92b)]=new Map();[_0x4d9d4f(0x700)];constructor(_0x525068,_0x2c278c,_0x1aed77,_0x4c0237,_0x49e608){const _0x19ae68=_0x4d9d4f;if(_0x19ae68(0x794)!=typeof _0x2c278c)throw new _0x2554b3(_0x17f7da[_0x19ae68(0x9ad)],_0x19ae68(0x5e7));super(_0x525068,_0x2c278c),this[_0x19ae68(0x772)]=_0x525068,this['clusterId']=_0x1aed77,this[_0x19ae68(0x4e6)]=_0x4c0237,this[_0x19ae68(0x75b)]=_0x49e608,this[_0x19ae68(0x71e)]();}[_0x4d9d4f(0x6ef)](){const _0x45c481=_0x4d9d4f;this[_0x45c481(0x700)]?.(),this[_0x45c481(0x92b)][_0x45c481(0x1dc)](_0x1d658c=>_0x1d658c()),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x45c481(0x6ef)]();}['reset'](){const _0x48fdb3=_0x4d9d4f;this[_0x48fdb3(0x71e)]();}[_0x4d9d4f(0x6d7)](){const _0x4aea0f=_0x4d9d4f;this[_0x4aea0f(0x26f)][_0x4aea0f(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x4aea0f(0x72b)],'content':{'type':_0x2e4dcf[_0x4aea0f(0x2e6)],'label':this[_0x4aea0f(0x5da)]}});}[_0x4d9d4f(0x24e)](){return _0x2477c2['ContentType']['ExternalStorage'];}async['get'](_0x5d9c13){const _0x13d35c=_0x4d9d4f;if(!this[_0x13d35c(0x889)])throw new _0x2554b3(_0x17f7da[_0x13d35c(0x25a)],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0x2644bc[_0x13d35c(0x687)](_0x30c1eb[_0x13d35c(0x60d)],{'type':_0x13d35c(0x29f),'label':this[_0x13d35c(0x5da)],'nodeId':this['localNode'][_0x13d35c(0x9a5)](),'nodeType':this['localNode'][_0x13d35c(0x506)],'clusterId':this['clusterId'],'path':_0x5d9c13}),this[_0x13d35c(0x503)]+=0x1,this[_0x13d35c(0x71e)]();try{return await this[_0x13d35c(0x889)][_0x13d35c(0x29f)](_0x5d9c13);}catch(_0x3763d9){throw new _0x2554b3(_0x17f7da[_0x13d35c(0x90a)],_0x13d35c(0x5fd)+_0x5d9c13);}}async[_0x4d9d4f(0x710)](_0x1a0190,_0x3ed599){const _0x2b7604=_0x4d9d4f;if(!this[_0x2b7604(0x889)])throw new _0x2554b3(_0x17f7da['ExternalStorageConnectorsMissing'],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x1b0478=!0x1}=_0x3ed599??{};_0x2644bc[_0x2b7604(0x687)](_0x30c1eb[_0x2b7604(0x60d)],{'type':_0x2b7604(0x710),'label':this[_0x2b7604(0x5da)],'nodeId':this[_0x2b7604(0x772)][_0x2b7604(0x9a5)](),'nodeType':this[_0x2b7604(0x772)][_0x2b7604(0x506)],'clusterId':this[_0x2b7604(0x95e)],'path':_0x1a0190}),this[_0x2b7604(0x503)]+=0x1,this[_0x2b7604(0x71e)]();try{return await this['connector'][_0x2b7604(0x710)](_0x1a0190,_0x1b0478);}catch(_0x2439f5){throw new _0x2554b3(_0x17f7da[_0x2b7604(0x90a)],'Cannot\x20list\x20directory:\x20'+_0x1a0190);}}[_0x4d9d4f(0x3dd)](_0x9f06eb,_0x31ac37){const _0x2d6cc6=_0x4d9d4f;if(this[_0x2d6cc6(0x92b)]['has'](_0x9f06eb))throw new _0x2554b3(_0x17f7da[_0x2d6cc6(0x2c1)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x2d6cc6(0x92b)]['set'](_0x9f06eb,this[_0x2d6cc6(0x5d5)][_0x2d6cc6(0x3dd)](_0x31ac37));}['unsubscribe'](_0x5ad59a){const _0x13be5e=_0x4d9d4f;this[_0x13be5e(0x92b)]['get'](_0x5ad59a)?.(),this['listenerUnsubscribers'][_0x13be5e(0x465)](_0x5ad59a);}async[_0x4d9d4f(0x285)](){const _0x4d580f=_0x4d9d4f,_0x40cbd9=(await(0x0,_0xaa5d3[_0x4d580f(0xfd)])((0x0,_0xaa5d3[_0x4d580f(0x7c9)])(_0x1f3417[_0x4d580f(0x83a)](),_0x4d580f(0x441)+this[_0x4d580f(0x4e6)]+_0x4d580f(0x50a)+this[_0x4d580f(0x5da)])))[_0x4d580f(0x626)]();if(!_0x40cbd9)throw new _0x2554b3(_0x17f7da[_0x4d580f(0x19c)],_0x4d580f(0x40c)+this[_0x4d580f(0x5da)]);const {site:_0x6eefa5,drive:_0x4e0320}=_0x40cbd9,_0x131bc5=(await(0x0,_0x3a8360[_0x4d580f(0x27f)])(_0x1f3417[_0x4d580f(0x30f)](),'msalGetAccessToken')({'storageId':this[_0x4d580f(0x5da)]}))[_0x4d580f(0x626)][_0x4d580f(0x9e9)];this[_0x4d580f(0x889)]=new this[(_0x4d580f(0x75b))](_0x6eefa5['id'],_0x4e0320['id'],_0x131bc5,async()=>(await(0x0,_0x3a8360[_0x4d580f(0x27f)])(_0x1f3417[_0x4d580f(0x30f)](),_0x4d580f(0x981))({'storageId':this[_0x4d580f(0x5da)]}))[_0x4d580f(0x626)][_0x4d580f(0x9e9)]),this[_0x4d580f(0x407)]();}[_0x4d9d4f(0x71e)](){const _0x15e97f=_0x4d9d4f;this['debounceStats']&&clearTimeout(this[_0x15e97f(0x233)]),this['debounceStats']=setTimeout(async()=>{const _0xf6760b=_0x15e97f;delete this[_0xf6760b(0x233)],this[_0xf6760b(0x26f)][_0xf6760b(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0xf6760b(0x72b)],'content':{'type':_0x2e4dcf[_0xf6760b(0x7ae)],'label':this[_0xf6760b(0x5da)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0xf6760b(0x503)],'prompts':0x0,'tokens':0x0}}});},_0x5760dc);}async[_0x4d9d4f(0x407)](){const _0x5f127b=_0x4d9d4f;await this[_0x5f127b(0x889)]?.[_0x5f127b(0x751)](),this[_0x5f127b(0x700)]=_0x135d86['setInterval'](async()=>{const _0x2d11dc=_0x5f127b;try{if(!this[_0x2d11dc(0x889)])return;const _0xd9507e=await this[_0x2d11dc(0x889)][_0x2d11dc(0x751)]();for(const _0x502167 of _0xd9507e)this[_0x2d11dc(0x5d5)][_0x2d11dc(0x817)](_0x502167);}catch(_0x3e9858){}},0x493e0);}}const _0x2610f5=require('rxjs');class _0x18e0ce extends _0x5b0910{['graphService'];[_0x4d9d4f(0x8f0)]=new Map();[_0x4d9d4f(0x66f)]=new Map();[_0x4d9d4f(0x8a7)]=new Map();[_0x4d9d4f(0x341)];constructor(_0x341b84,_0x175c6b,_0x1d8035){const _0x556f95=_0x4d9d4f;super(_0x341b84,_0x175c6b),this[_0x556f95(0x519)]=_0x1d8035;}[_0x4d9d4f(0x24e)](){const _0x2e938c=_0x4d9d4f;return _0x2477c2[_0x2e938c(0x61d)][_0x2e938c(0x3ab)];}[_0x4d9d4f(0x285)](){this['unsubscribeHandler']=this['onMessage']((_0x386d6e,_0x4d8db6)=>{const _0x53e400=a0_0x1399;if(_0x2644bc[_0x53e400(0x5ad)](_0x1a98bf[_0x53e400(0x28d)],'JobDispatcher:\x20Received\x20job',_0x386d6e,_0x4d8db6,this['graphService'][_0x53e400(0x125)]()),!(_0x4d8db6 instanceof File)){if(!_0x4d8db6)throw new _0x56b2e7(_0x56b2e7[_0x53e400(0x90b)][_0x53e400(0x12d)]);return this['isBidResponse'](_0x4d8db6)?this[_0x53e400(0x112)](_0x386d6e,_0x4d8db6['id'],_0x4d8db6):this[_0x53e400(0x563)](_0x4d8db6)?(_0x2644bc[_0x53e400(0x5ad)](_0x1a98bf[_0x53e400(0x28d)],'Job\x20'+_0x4d8db6['id']+_0x53e400(0x960),_0x4d8db6[_0x53e400(0x838)]),void this[_0x53e400(0x7fb)](_0x4d8db6['id'],_0x4d8db6)):this[_0x53e400(0x1aa)](_0x4d8db6)?(_0x2644bc['log'](_0x1a98bf[_0x53e400(0x28d)],'Job\x20'+_0x4d8db6['id']+_0x53e400(0x859),_0x4d8db6['result']),void this[_0x53e400(0x5e1)](_0x4d8db6['id'],_0x4d8db6)):void(this[_0x53e400(0x7b5)](_0x4d8db6)&&this[_0x53e400(0x6f5)](_0x4d8db6['id'],_0x4d8db6[_0x53e400(0x12c)]));}});}[_0x4d9d4f(0x934)](){const _0x4fe2b0=_0x4d9d4f;this[_0x4fe2b0(0x976)](),this[_0x4fe2b0(0x285)]();}['destroy'](){const _0x9f77d3=_0x4d9d4f;this[_0x9f77d3(0x976)](),super[_0x9f77d3(0x6ef)]();}[_0x4d9d4f(0x976)](){const _0x43be5a=_0x4d9d4f;this[_0x43be5a(0x8f0)]['clear'](),this['unsubscribeHandler']&&this[_0x43be5a(0x341)]();}['close'](){const _0x3ae124=_0x4d9d4f;this[_0x3ae124(0x26f)]?.['publish']({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x3ae124(0x72b)],'content':{'type':_0x2e4dcf['CloseJobDispatcher'],'label':this[_0x3ae124(0x5da)]}});}async[_0x4d9d4f(0x941)](_0x28ad20){const _0x1289d1=_0x4d9d4f,{id:_0x1cd428,parameters:_0xad2f11,jobType:_0x4ff058}=_0x28ad20,_0x513629={'id':_0x1cd428,'jobType':_0x4ff058,'parameters':_0xad2f11,'status':_0x2477c2[_0x1289d1(0x5c9)][_0x1289d1(0x10f)],'created':new Date(),'updated':new Date()};if(this[_0x1289d1(0x8f0)][_0x1289d1(0x8dd)](_0x513629['id']))throw new _0x2554b3(_0x17f7da[_0x1289d1(0x597)],_0x1289d1(0x4aa)+_0x513629['id']+_0x1289d1(0x87e));_0x513629[_0x1289d1(0x2d8)]=new Date(),_0x513629['updated']=new Date();const _0x4de035=new _0x2610f5[(_0x1289d1(0x692))]();this['jobs'][_0x1289d1(0xcd)](_0x513629['id'],_0x513629),this[_0x1289d1(0x66f)][_0x1289d1(0xcd)](_0x513629['id'],_0x4de035);try{const _0x205745={'id':_0x513629['id'],'jobPhase':_0x33dc65[_0x1289d1(0x835)],'jobType':_0x513629['jobType']},_0x5f34be=0x3;let _0x2c44cd=0x0;const _0x6ea31=async()=>{const _0x3fffeb=_0x1289d1;_0x2c44cd+=0x1;try{_0x2644bc[_0x3fffeb(0x5ad)](_0x1a98bf[_0x3fffeb(0x28d)],'Job\x20'+_0x513629['id']+'\x20sending\x20attempt\x20'+_0x2c44cd+'.',this[_0x3fffeb(0x519)][_0x3fffeb(0x125)]()),await this[_0x3fffeb(0x784)](_0x205745),_0x513629[_0x3fffeb(0x7dd)]=new Date(),this[_0x3fffeb(0x8f0)][_0x3fffeb(0xcd)](_0x513629['id'],_0x513629),this[_0x3fffeb(0x3e2)](_0x513629['id']);}catch(_0x553004){_0x2c44cd<_0x5f34be?(_0x2644bc[_0x3fffeb(0xd0)](_0x3fffeb(0x602)+_0x2c44cd+_0x3fffeb(0x480)+_0x513629['id']+_0x3fffeb(0x8d7),{'nodeId':this[_0x3fffeb(0x753)]['getId'](),'nodeType':this[_0x3fffeb(0x753)][_0x3fffeb(0x506)],'data':{'job':_0x513629,'attempts':_0x2c44cd,'maxRetries':_0x5f34be}}),setTimeout(_0x6ea31,0x3e8)):(_0x513629[_0x3fffeb(0x320)]=_0x2477c2[_0x3fffeb(0x5c9)][_0x3fffeb(0x1f6)],_0x513629[_0x3fffeb(0x7dd)]=new Date(),this[_0x3fffeb(0x8f0)]['set'](_0x513629['id'],_0x513629),_0x2644bc[_0x3fffeb(0x716)](_0x3fffeb(0x88c)+_0x513629['id']+_0x3fffeb(0x2b5)+_0x5f34be+_0x3fffeb(0x239),{'nodeId':this[_0x3fffeb(0x753)][_0x3fffeb(0x9a5)](),'nodeType':this['owner']['type'],'data':{'job':_0x513629,'attempts':_0x2c44cd,'maxRetries':_0x5f34be,'error':_0x553004}}));}};_0x6ea31();const {id:_0x576ba6}=_0x513629;this[_0x1289d1(0x297)](_0x1289d1(0x268)+_0x513629['id']+_0x1289d1(0x1a3),{'jobId':_0x576ba6}),_0x513629[_0x1289d1(0x7dd)]=new Date();}catch(_0x14eff7){_0x513629[_0x1289d1(0x320)]=_0x2477c2['JobStatus']['Failed'],_0x2644bc['error'](_0x1289d1(0x88c)+_0x513629['id']+':',{'nodeId':this[_0x1289d1(0x753)][_0x1289d1(0x9a5)](),'nodeType':this[_0x1289d1(0x753)][_0x1289d1(0x506)],'data':{'job':_0x513629,'error':_0x14eff7}});}return _0x4de035['asObservable']();}['getJob'](_0x3648b5){const _0x1aff29=_0x4d9d4f,_0x55d56b=this[_0x1aff29(0x8f0)][_0x1aff29(0x29f)](_0x3648b5);if(!_0x55d56b)throw new _0x2554b3(_0x17f7da[_0x1aff29(0x7c2)],_0x1aff29(0x4aa)+_0x3648b5+_0x1aff29(0x9b3));return{'id':_0x55d56b['id'],'jobType':_0x55d56b[_0x1aff29(0x9d6)],'status':_0x55d56b[_0x1aff29(0x320)],'parameters':_0x55d56b[_0x1aff29(0x5e2)]};}[_0x4d9d4f(0x3d6)](){const _0x3796a4=_0x4d9d4f;return Array['from'](this[_0x3796a4(0x8f0)]['values']())[_0x3796a4(0x473)](_0x25630a=>this[_0x3796a4(0x12f)](_0x25630a['id']));}async[_0x4d9d4f(0x7da)](_0x1ff69d,_0x241705){const _0x35747f=_0x4d9d4f,_0x550939=this['jobs']['get'](_0x1ff69d);if(!_0x550939)throw new _0x2554b3(_0x17f7da['JobDispatcherJobNotFound'],_0x35747f(0x4aa)+_0x1ff69d+'\x20not\x20found.');_0x550939[_0x35747f(0x5e2)]=_0x241705,_0x550939[_0x35747f(0x7dd)]=new Date(),this[_0x35747f(0x8f0)][_0x35747f(0xcd)](_0x1ff69d,_0x550939);}async[_0x4d9d4f(0x23a)](_0x8bd8f9){const _0x3c74fe=_0x4d9d4f;if(!this[_0x3c74fe(0x8f0)][_0x3c74fe(0x465)](_0x8bd8f9))throw new _0x2554b3(_0x17f7da['JobDispatcherJobNotFound'],_0x3c74fe(0x4aa)+_0x8bd8f9+_0x3c74fe(0x9b3));const _0x20884c=this[_0x3c74fe(0x66f)][_0x3c74fe(0x29f)](_0x8bd8f9);if(!_0x20884c)throw new _0x56b2e7(_0x56b2e7[_0x3c74fe(0x90b)][_0x3c74fe(0x42d)]);_0x20884c[_0x3c74fe(0x33b)](),this[_0x3c74fe(0x66f)][_0x3c74fe(0x465)](_0x8bd8f9),_0x2644bc[_0x3c74fe(0x5ad)](_0x1a98bf[_0x3c74fe(0x28d)],_0x3c74fe(0x268)+_0x8bd8f9+_0x3c74fe(0x731));}[_0x4d9d4f(0x112)](_0x3fc604,_0xcc3897,_0x52c974){const _0x446eeb=_0x4d9d4f,_0x4d4e76=this[_0x446eeb(0x8a7)][_0x446eeb(0x29f)](_0xcc3897)??new Map();_0x4d4e76[_0x446eeb(0xcd)](_0x3fc604,[_0x52c974,Date[_0x446eeb(0x873)]()]),this[_0x446eeb(0x8a7)]['set'](_0xcc3897,_0x4d4e76),this[_0x446eeb(0x712)](_0xcc3897);}['startBidResponseHandling'](_0x8b4b99){const _0x5d6799=_0x4d9d4f,_0x38479a=this['jobs'][_0x5d6799(0x29f)](_0x8b4b99);if(!_0x38479a)throw new _0x56b2e7(_0x56b2e7[_0x5d6799(0x90b)][_0x5d6799(0x7c2)]);const _0x25c627=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x8b4b99,!0x0),0xbb8);_0x38479a[_0x5d6799(0x820)]=_0x25c627,this['jobs'][_0x5d6799(0xcd)](_0x38479a['id'],_0x38479a);}[_0x4d9d4f(0x712)](_0x52aaca,_0x16d72d=!0x1){const _0x550c1e=_0x4d9d4f,_0x1ed6c0=this[_0x550c1e(0x519)][_0x550c1e(0x125)](),_0x118923=Array[_0x550c1e(0x376)](_0x1ed6c0[_0x550c1e(0x7a1)]())['filter'](_0x4c85c1=>_0x4c85c1[_0x550c1e(0x506)]===_0x2477c2[_0x550c1e(0x94f)]['Agent']),_0x442aac=this[_0x550c1e(0x8a7)][_0x550c1e(0x29f)](_0x52aaca)??new Map();if(!_0x16d72d&&(!_0x442aac||_0x442aac[_0x550c1e(0x573)]<_0x118923[_0x550c1e(0x99a)]))return;const _0x4200f9=this['jobs'][_0x550c1e(0x29f)](_0x52aaca);if(!_0x4200f9)throw new _0x56b2e7(_0x56b2e7[_0x550c1e(0x90b)][_0x550c1e(0x7c2)]);if(clearTimeout(_0x4200f9[_0x550c1e(0x820)]),_0x2644bc[_0x550c1e(0x5ad)](_0x1a98bf['Jobs'],_0x550c1e(0x268)+_0x4200f9['id']+_0x550c1e(0x7fa),_0x442aac,this[_0x550c1e(0x8a7)]),!_0x442aac||0x0===_0x442aac[_0x550c1e(0x573)]){_0x4200f9[_0x550c1e(0x320)]=_0x2477c2[_0x550c1e(0x5c9)][_0x550c1e(0x1f6)],_0x4200f9[_0x550c1e(0x7dd)]=new Date(),_0x2644bc[_0x550c1e(0x716)](_0x550c1e(0x268)+_0x4200f9['id']+_0x550c1e(0x2d9),{'nodeId':this[_0x550c1e(0x753)][_0x550c1e(0x9a5)](),'nodeType':this[_0x550c1e(0x753)]['type'],'data':{'job':_0x4200f9,'responses':_0x442aac}});const _0x188c5b=this[_0x550c1e(0x66f)][_0x550c1e(0x29f)](_0x52aaca);if(!_0x188c5b)throw new _0x56b2e7(_0x56b2e7[_0x550c1e(0x90b)][_0x550c1e(0x42d)]);const _0x2f50c0='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x5badbc={'id':_0x4200f9['id'],'status':_0x4200f9['status'],'message':_0x2f50c0};return _0x188c5b[_0x550c1e(0x726)](_0x5badbc),_0x188c5b['complete'](),this['jobs'][_0x550c1e(0xcd)](_0x4200f9['id'],_0x4200f9),void this[_0x550c1e(0x8a7)][_0x550c1e(0x465)](_0x52aaca);}const {nodeId:_0x3d435b,response:_0x360385}=this[_0x550c1e(0x8a9)](_0x4200f9['id'],_0x442aac);_0x4200f9[_0x550c1e(0x320)]=_0x2477c2[_0x550c1e(0x5c9)]['Processing'],_0x4200f9[_0x550c1e(0x7dd)]=new Date(),_0x2644bc[_0x550c1e(0x5ad)](_0x1a98bf[_0x550c1e(0x28d)],_0x550c1e(0x268)+_0x4200f9['id']+_0x550c1e(0x6c8)+_0x3d435b+_0x550c1e(0xf6),_0x360385);const _0xe96681={'id':_0x4200f9['id'],'jobType':_0x4200f9['jobType'],'jobPhase':_0x33dc65[_0x550c1e(0x9c5)],'parameters':_0x4200f9[_0x550c1e(0x5e2)]};this[_0x550c1e(0x784)](_0xe96681,[_0x3d435b]),this['jobs']['set'](_0x4200f9['id'],_0x4200f9),this['jobBids'][_0x550c1e(0x465)](_0x52aaca);}[_0x4d9d4f(0x8a9)](_0xd3a1fc,_0x3ab833){const _0x3c2d91=_0x4d9d4f;let _0xe4fbd;const _0xf69b19=Array[_0x3c2d91(0x376)](_0x3ab833[_0x3c2d91(0x7ff)]())['filter'](([,[_0x119897]])=>_0x119897[_0x3c2d91(0x219)]);if(_0xe4fbd=_0xf69b19[_0x3c2d91(0x99a)]>0x0?Array[_0x3c2d91(0x376)](_0x3ab833[_0x3c2d91(0x7ff)]())[_0x3c2d91(0xd6)]((_0x2b1436,_0x47f5c0)=>_0x47f5c0[0x1][0x0][_0x3c2d91(0x993)]-_0x2b1436[0x1][0x0]['bid']):Array[_0x3c2d91(0x376)](_0x3ab833['entries']())[_0x3c2d91(0xd6)]((_0x528153,_0x5b665a)=>_0x528153[0x1][0x0][_0x3c2d91(0x72f)]-_0x5b665a[0x1][0x0][_0x3c2d91(0x72f)]),0x1===_0xe4fbd[_0x3c2d91(0x99a)])return{'nodeId':_0xe4fbd[0x0][0x0],'response':_0xe4fbd[0x0][0x1][0x0]};let _0x5e711a;if(_0x5e711a=_0xf69b19['length']>0x0?(_0x2cbec9=>{const _0x102bd5=_0x3c2d91,_0x5b2919=_0x2cbec9[0x0][0x1][0x0][_0x102bd5(0x993)];return _0x2cbec9[_0x102bd5(0x64c)](([,[_0x399460]])=>_0x399460['bid']===_0x5b2919);})(_0xe4fbd):(_0x101171=>{const _0x3c414d=_0x3c2d91,_0x4c8a6a=_0x101171[0x0][0x1][0x0]['queueLength'];return _0x101171['filter'](([,[_0x3d44fe]])=>_0x3d44fe[_0x3c414d(0x72f)]===_0x4c8a6a);})(_0xe4fbd),0x1===_0x5e711a[_0x3c2d91(0x99a)])return{'nodeId':_0x5e711a[0x0][0x0],'response':_0x5e711a[0x0][0x1][0x0]};const _0x5c4fe3=this['jobs'][_0x3c2d91(0x29f)](_0xd3a1fc);if(!_0x5c4fe3)throw new _0x56b2e7(_0x56b2e7[_0x3c2d91(0x90b)][_0x3c2d91(0x7c2)]);const _0x3da1ef=_0x5c4fe3['created'][_0x3c2d91(0x393)](),_0x445d7d=_0x5e711a['map'](([_0x1ca1c0,[,_0x1e409b]])=>({'nodeId':_0x1ca1c0,'rtt':_0x1e409b-_0x3da1ef})),_0x5c566a=Math[_0x3c2d91(0x17c)](..._0x445d7d[_0x3c2d91(0x473)](({rtt:_0x5d2fe8})=>_0x5d2fe8)),_0x422e53=_0x445d7d[_0x3c2d91(0x211)](({rtt:_0x28d191})=>_0x28d191===_0x5c566a),[,[_0x49771f]]=_0x5e711a[_0x3c2d91(0x211)](([_0x476433])=>_0x476433===_0x422e53[_0x3c2d91(0x432)]);return{'nodeId':_0x422e53[_0x3c2d91(0x432)],'response':_0x49771f};}[_0x4d9d4f(0x7fb)](_0x3ff25b,_0x3a91ff){const _0x5d7e0d=_0x4d9d4f,_0x1fcfce=this[_0x5d7e0d(0x8f0)][_0x5d7e0d(0x29f)](_0x3ff25b);if(!_0x1fcfce)throw new _0x56b2e7(_0x56b2e7['codes'][_0x5d7e0d(0x7c2)]);const _0x5865b7=this[_0x5d7e0d(0x66f)]['get'](_0x3ff25b);if(!_0x5865b7)throw new _0x56b2e7(_0x56b2e7[_0x5d7e0d(0x90b)][_0x5d7e0d(0x42d)]);const _0x55c0a0={'id':_0x1fcfce['id'],'status':_0x2477c2[_0x5d7e0d(0x5c9)][_0x5d7e0d(0x261)],'result':_0x3a91ff[_0x5d7e0d(0x838)]};_0x5865b7[_0x5d7e0d(0x726)](_0x55c0a0);}[_0x4d9d4f(0x5e1)](_0x278e52,_0x46211c){const _0x11dc1c=_0x4d9d4f,_0x1a95ed=this[_0x11dc1c(0x8f0)]['get'](_0x278e52);if(!_0x1a95ed)throw new _0x56b2e7(_0x56b2e7['codes'][_0x11dc1c(0x7c2)]);const _0x20282e=this['jobObservers'][_0x11dc1c(0x29f)](_0x278e52);if(!_0x20282e)throw new _0x56b2e7(_0x56b2e7['codes'][_0x11dc1c(0x42d)]);_0x1a95ed[_0x11dc1c(0x320)]=_0x2477c2['JobStatus'][_0x11dc1c(0x890)];const _0x5f06b4={'id':_0x1a95ed['id'],'status':_0x1a95ed[_0x11dc1c(0x320)],'result':_0x46211c[_0x11dc1c(0x838)]};_0x20282e[_0x11dc1c(0x726)](_0x5f06b4),_0x20282e[_0x11dc1c(0x33b)](),this[_0x11dc1c(0x66f)][_0x11dc1c(0x465)](_0x278e52),this[_0x11dc1c(0x297)](_0x11dc1c(0x268)+_0x278e52+'\x20finalized.',{'jobId':_0x278e52});}[_0x4d9d4f(0x6f5)](_0x4e4da9,_0x10a212){const _0x28417a=_0x4d9d4f,_0x523d06=this[_0x28417a(0x8f0)]['get'](_0x4e4da9);if(!_0x523d06)throw new _0x56b2e7(_0x56b2e7[_0x28417a(0x90b)][_0x28417a(0x7c2)]);const _0x3ee96b=this[_0x28417a(0x66f)][_0x28417a(0x29f)](_0x4e4da9);if(!_0x3ee96b)throw new _0x56b2e7(_0x56b2e7[_0x28417a(0x90b)]['JobDispatcherObserverNotFound']);_0x523d06[_0x28417a(0x320)]=_0x2477c2[_0x28417a(0x5c9)]['Failed'];const _0x2dc7d8={'id':_0x523d06['id'],'status':_0x523d06['status'],'message':_0x10a212};_0x3ee96b['next'](_0x2dc7d8),_0x3ee96b[_0x28417a(0x33b)](),this['jobObservers'][_0x28417a(0x465)](_0x4e4da9),this['logEvent'](_0x28417a(0x268)+_0x4e4da9+'\x20failed.',{'jobId':_0x4e4da9});}['logEvent'](_0x4db7b2,{jobId:_0x4d1870}){const _0x59757d=_0x4d9d4f,_0x5d1483={'jobId':_0x4d1870,'mistletIds':Array[_0x59757d(0x376)](this['graphService'][_0x59757d(0x125)]()['values']())[_0x59757d(0x64c)](_0x42f06b=>_0x42f06b['type']===_0x2477c2['NodeType'][_0x59757d(0x4ec)])[_0x59757d(0x473)](_0x13bd38=>_0x13bd38['getId']())};_0x2644bc[_0x59757d(0x297)](_0x4db7b2,{'nodeId':this[_0x59757d(0x38b)](),'nodeType':this['owner'][_0x59757d(0x506)],'data':_0x5d1483}),_0x2644bc[_0x59757d(0x5ad)](_0x1a98bf['Jobs'],_0x4db7b2,_0x5d1483);}['isBidResponse'](_0x2d2dd2){const _0xe2c27d=_0x4d9d4f,{jobPhase:_0x34b084,available:_0x454604,bid:_0x19fe6c}=_0x2d2dd2;return _0x34b084===_0x33dc65[_0xe2c27d(0x727)]&&void 0x0!==_0x454604&&void 0x0!==_0x19fe6c;}[_0x4d9d4f(0x563)](_0x124d5f){const _0x50048a=_0x4d9d4f,{jobPhase:_0x342a7f,result:_0x134ba7}=_0x124d5f;return _0x342a7f===_0x33dc65[_0x50048a(0x65d)]&&void 0x0!==_0x134ba7;}[_0x4d9d4f(0x1aa)](_0x174eda){const {jobPhase:_0x1f202e,result:_0x3a56eb}=_0x174eda;return _0x1f202e===_0x33dc65['Result']&&void 0x0!==_0x3a56eb;}[_0x4d9d4f(0x7b5)](_0x2bb528){const _0x347424=_0x4d9d4f,{jobPhase:_0x538352,message:_0x349a70}=_0x2bb528;return _0x538352===_0x33dc65[_0x347424(0x1f6)]&&void 0x0!==_0x349a70&&_0x347424(0x794)==typeof _0x349a70;}}var _0x71e7bb,_0x3725ec,_0x57a82a,_0xefbe07;!function(_0x36fc83){const _0x1ede03=_0x4d9d4f;_0x36fc83[_0x1ede03(0x210)]='object-storage',_0x36fc83[_0x1ede03(0x60d)]=_0x1ede03(0x3b5);}(_0x71e7bb||(_0x71e7bb={})),function(_0x3450d3){const _0x179c44=_0x4d9d4f;_0x3450d3[_0x179c44(0x4ec)]=_0x179c44(0x755),_0x3450d3['AgentSkill']=_0x179c44(0x78e),_0x3450d3[_0x179c44(0x5ce)]='custom-skill',_0x3450d3[_0x179c44(0x351)]=_0x179c44(0x7d2),_0x3450d3[_0x179c44(0x935)]=_0x179c44(0x4e4),_0x3450d3['Prompt']=_0x179c44(0x171),_0x3450d3['Answer']=_0x179c44(0x928),_0x3450d3[_0x179c44(0x89e)]=_0x179c44(0x1c1),_0x3450d3['Search']='search',_0x3450d3[_0x179c44(0x1da)]=_0x179c44(0x345),_0x3450d3['WebScraper']=_0x179c44(0x62f),_0x3450d3[_0x179c44(0x8e5)]=_0x179c44(0x847),_0x3450d3[_0x179c44(0x54c)]=_0x179c44(0x654),_0x3450d3[_0x179c44(0x82f)]='chunk-splitter',_0x3450d3['SentenceSplitter']='sentence-splitter',_0x3450d3['WordSplitter']=_0x179c44(0x8d8),_0x3450d3[_0x179c44(0x6a3)]='document-parser';}(_0x3725ec||(_0x3725ec={})),function(_0x198204){const _0x2b2983=_0x4d9d4f;_0x198204[_0x2b2983(0x6eb)]=_0x2b2983(0x863),_0x198204[_0x2b2983(0x541)]=_0x2b2983(0x86c),_0x198204[_0x2b2983(0x6a3)]='document-parser',_0x198204[_0x2b2983(0x82f)]='chunk-splitter',_0x198204[_0x2b2983(0x423)]=_0x2b2983(0x8d8),_0x198204[_0x2b2983(0x9e5)]=_0x2b2983(0x514),_0x198204['RelationExtractor']='relation-extractor',_0x198204[_0x2b2983(0x8fd)]=_0x2b2983(0x6a1),_0x198204[_0x2b2983(0x2ef)]=_0x2b2983(0x7ec),_0x198204['Model']=_0x2b2983(0x2d3),_0x198204[_0x2b2983(0x4ec)]=_0x2b2983(0x755),_0x198204[_0x2b2983(0x284)]=_0x2b2983(0x11e),_0x198204[_0x2b2983(0x62c)]=_0x2b2983(0x76a),_0x198204[_0x2b2983(0x406)]='vector-database',_0x198204[_0x2b2983(0x283)]='graph-database',_0x198204[_0x2b2983(0x4e9)]='prompt',_0x198204[_0x2b2983(0xca)]=_0x2b2983(0x424);}(_0x57a82a||(_0x57a82a={})),function(_0x2140b6){const _0x1c7fca=_0x4d9d4f;_0x2140b6[_0x1c7fca(0x2b8)]=_0x1c7fca(0x862),_0x2140b6['Text']=_0x1c7fca(0x50e),_0x2140b6[_0x1c7fca(0xd7)]=_0x1c7fca(0x2ec),_0x2140b6[_0x1c7fca(0x4d9)]=_0x1c7fca(0x429),_0x2140b6[_0x1c7fca(0x1e9)]='data',_0x2140b6[_0x1c7fca(0x10e)]='vector',_0x2140b6[_0x1c7fca(0x793)]=_0x1c7fca(0x5f4),_0x2140b6[_0x1c7fca(0x73c)]='relation',_0x2140b6[_0x1c7fca(0x262)]=_0x1c7fca(0x1f8),_0x2140b6[_0x1c7fca(0x948)]=_0x1c7fca(0x361),_0x2140b6[_0x1c7fca(0x935)]=_0x1c7fca(0x4e4),_0x2140b6[_0x1c7fca(0x444)]=_0x1c7fca(0x22f),_0x2140b6[_0x1c7fca(0xca)]='context',_0x2140b6[_0x1c7fca(0x556)]=_0x1c7fca(0x24a);}(_0xefbe07||(_0xefbe07={}));class _0x5de1ad{static [_0x4d9d4f(0x451)];constructor(){}static[_0x4d9d4f(0x893)](){const _0x3546b0=_0x4d9d4f;return _0x5de1ad[_0x3546b0(0x451)]||(_0x5de1ad[_0x3546b0(0x451)]=new _0x5de1ad()),_0x5de1ad[_0x3546b0(0x451)];}async[_0x4d9d4f(0x156)](_0x1a03a9,_0x553242){const _0x29c393=_0x4d9d4f,_0x2d40a0=await(0x0,_0xaa5d3[_0x29c393(0xfd)])((0x0,_0xaa5d3['doc'])(_0x1f3417['getFirestore'](),'/developers/'+_0x1a03a9+_0x29c393(0x4e8)+_0x553242)),_0x337ae9=await this[_0x29c393(0x525)](_0x1a03a9),_0x55e250=await this[_0x29c393(0x2bb)](_0x1a03a9),_0x4b7a80=await this[_0x29c393(0x329)](_0x1a03a9),_0x3d9bfc=await this['getModels'](_0x1a03a9),_0x2e26ae=await this[_0x29c393(0x22d)](_0x1a03a9);if(!_0x2d40a0[_0x29c393(0xb3)]())throw new _0x56b2e7(_0x56b2e7[_0x29c393(0x90b)][_0x29c393(0x45b)]);return this[_0x29c393(0x9a1)](_0x2d40a0,_0x337ae9,_0x55e250,_0x4b7a80,_0x3d9bfc,_0x2e26ae);}[_0x4d9d4f(0x9a1)](_0x2ce340,_0x3bb5b7,_0xc0cd7,_0x17684b,_0x11f72c,_0x5054ec){const _0x536950=_0x4d9d4f,_0x43bc22=_0x2ce340[_0x536950(0x626)]();if(!_0x43bc22)throw new _0x56b2e7(_0x56b2e7['codes'][_0x536950(0x45b)]);const _0x32c236=_0x43bc22[_0x536950(0x38a)]&&_0x43bc22['versions']?_0x43bc22[_0x536950(0x8f7)][_0x43bc22[_0x536950(0x38a)]-0x1]:_0x43bc22,_0x53f259=this[_0x536950(0x116)](_0x32c236[_0x536950(0x8f9)],_0x3bb5b7,_0xc0cd7,_0x17684b,_0x5054ec);return{'id':_0x2ce340['id'],'modelsBucketId':_0x43bc22[_0x536950(0x2b4)],'blocks':_0x53f259,'models':this['getWorkflowModels'](_0x53f259,_0x11f72c),'dataBucketIds':this[_0x536950(0x7a4)](_0x53f259),'externalStorageConnectionIds':this[_0x536950(0x8ce)](_0x53f259)};}['getWorkflowModels'](_0x54e34e,_0x21ed0c){const _0x48825a=_0x4d9d4f,_0x30fb72=new Set();for(const _0x4ba611 of _0x54e34e)if(_0x4ba611['type']!==_0x3725ec['Agent']&&_0x4ba611['type']!==_0x3725ec[_0x48825a(0x63c)]||_0x30fb72['add'](_0x4ba611['modelId']),_0x4ba611[_0x48825a(0x506)]===_0x3725ec[_0x48825a(0x935)]||_0x4ba611[_0x48825a(0x506)]===_0x3725ec['DataCollection']){for(const _0x33deae of[..._0x4ba611['ingestBlocks'],..._0x4ba611[_0x48825a(0x77b)]])_0x33deae['type']===_0x57a82a[_0x48825a(0x474)]&&_0x30fb72[_0x48825a(0x9d2)](_0x33deae['id']),_0x33deae['type']===_0x57a82a[_0x48825a(0x4ec)]&&_0x30fb72[_0x48825a(0x9d2)](_0x33deae['modelId']);}return Array[_0x48825a(0x376)](_0x30fb72)['map'](_0x258564=>{const {id:_0x21f446,engineType:_0x3deec5,taskType:_0x18ca8d,knowledgeCutoffDate:_0x361896,inputType:_0x465c80,outputType:_0x4df12e,sourceUrl:_0x498a1a}=_0x21ed0c['find'](_0xa0ebf8=>_0xa0ebf8['id']===_0x258564);return{'id':_0x21f446,'engineType':_0x3deec5,'taskType':_0x18ca8d,'knowledgeCutoffDate':_0x361896,'inputType':_0x465c80,'outputType':_0x4df12e,'sourceUrl':_0x498a1a};});}[_0x4d9d4f(0x7a4)](_0x3effc1){const _0x5d537c=_0x4d9d4f,_0x233058=new Set();for(const _0x3e918d of _0x3effc1)switch(_0x3e918d[_0x5d537c(0x506)]){case _0x3725ec[_0x5d537c(0x935)]:case _0x3725ec[_0x5d537c(0x351)]:for(const _0x23209c of[..._0x3e918d[_0x5d537c(0x392)],..._0x3e918d['retrieveBlocks']])_0x23209c['type']===_0x57a82a['ObjectStorageUpload']&&_0x233058[_0x5d537c(0x9d2)](_0x23209c['id']);}return Array[_0x5d537c(0x376)](_0x233058);}[_0x4d9d4f(0x8ce)](_0x1dcd13){const _0x4591de=_0x4d9d4f,_0x59513d=new Set();for(const _0x548051 of _0x1dcd13)switch(_0x548051['type']){case _0x3725ec[_0x4591de(0x935)]:case _0x3725ec[_0x4591de(0x351)]:for(const _0x18019c of[..._0x548051['ingestBlocks'],..._0x548051[_0x4591de(0x77b)]])_0x18019c[_0x4591de(0x506)]===_0x57a82a[_0x4591de(0x541)]&&_0x59513d[_0x4591de(0x9d2)](_0x18019c['id']);}return Array[_0x4591de(0x376)](_0x59513d);}[_0x4d9d4f(0x116)](_0x6ff420,_0x27e6ba,_0x2784a2,_0x377a24,_0x566dcd){const _0x164863=_0x4d9d4f;return _0x6ff420[_0x164863(0x473)](_0x29f73c=>{const _0x4070a4=_0x164863;switch(_0x29f73c[_0x4070a4(0x506)]){case _0x3725ec[_0x4070a4(0x4ec)]:case _0x3725ec[_0x4070a4(0x63c)]:const _0x5b11da=_0x27e6ba['find'](_0x26e834=>_0x26e834['id']===_0x29f73c['id']);if(!_0x5b11da)throw new _0x56b2e7(_0x56b2e7[_0x4070a4(0x90b)][_0x4070a4(0x2ff)],{'block':_0x29f73c});const _0x2c3919=_0x29f73c['version']&&_0x5b11da[_0x4070a4(0x8f7)]?_0x5b11da[_0x4070a4(0x8f7)][_0x29f73c[_0x4070a4(0x431)]-0x1]:_0x5b11da;return{'type':_0x5b11da[_0x4070a4(0x506)],'id':_0x5b11da['id'],'uid':_0x29f73c['uid'],'name':_0x2c3919[_0x4070a4(0x697)],'description':_0x2c3919[_0x4070a4(0x152)],'instructions':_0x2c3919[_0x4070a4(0x80f)],'contextOutputVariable':_0x2c3919[_0x4070a4(0x183)],'contextInputVariable':_0x2c3919[_0x4070a4(0x1fa)],'grammar':[_0x4070a4(0x910),'json',_0x4070a4(0x37e)][_0x4070a4(0x766)](_0x2c3919[_0x4070a4(0x1bc)])?_0x2c3919[_0x4070a4(0x1bc)]:_0x566dcd[_0x4070a4(0x211)](_0x3cf2db=>_0x3cf2db['id']===_0x2c3919[_0x4070a4(0x1bc)])[_0x4070a4(0x108)],'temperature':_0x2c3919[_0x4070a4(0x5d7)],'maxTokens':_0x2c3919[_0x4070a4(0x1f4)],'modelId':_0x2c3919[_0x4070a4(0x471)],'links':_0x29f73c[_0x4070a4(0x88a)],'version':_0x29f73c[_0x4070a4(0x431)]};case _0x3725ec['Knowledge']:case _0x3725ec[_0x4070a4(0x351)]:const _0x269749=_0x2784a2[_0x4070a4(0x211)](_0x55c220=>_0x55c220['id']===_0x29f73c['id']);if(!_0x269749)throw new _0x56b2e7(_0x56b2e7[_0x4070a4(0x90b)][_0x4070a4(0x2ff)],{'block':_0x29f73c});const _0x155f01=_0x29f73c[_0x4070a4(0x431)]&&_0x269749['versions']?_0x269749[_0x4070a4(0x8f7)][_0x29f73c['version']-0x1]:_0x269749;return{'type':_0x29f73c['type'],'id':_0x269749['id'],'uid':_0x29f73c[_0x4070a4(0x9d1)],'name':_0x155f01['name'],'description':_0x155f01[_0x4070a4(0x152)],'ingestBlocks':this[_0x4070a4(0x4af)](_0x155f01[_0x4070a4(0x392)],_0x27e6ba),'retrieveBlocks':this[_0x4070a4(0x4af)](_0x155f01[_0x4070a4(0x77b)],_0x27e6ba),'links':_0x29f73c['links'],'version':_0x29f73c[_0x4070a4(0x431)]};case _0x3725ec['CustomSkill']:const _0x87803d=_0x377a24[_0x4070a4(0x211)](_0x12ad30=>_0x12ad30['id']===_0x29f73c['id']);if(!_0x87803d)throw new _0x56b2e7(_0x56b2e7[_0x4070a4(0x90b)]['WorkflowInvalidBlockType'],{'block':_0x29f73c});return{'type':_0x29f73c[_0x4070a4(0x506)],'id':_0x87803d['id'],'uid':_0x29f73c[_0x4070a4(0x9d1)],'name':_0x87803d[_0x4070a4(0x697)],'description':_0x87803d[_0x4070a4(0x152)],'parameters':_0x87803d['parameters'],'endpointUrl':_0x87803d['endpointUrl'],'endpointMethod':_0x87803d[_0x4070a4(0x119)],'headers':_0x87803d[_0x4070a4(0x2a9)],'queryParameters':_0x87803d['queryParameters'],'bodyParameters':_0x87803d[_0x4070a4(0x825)],'contextOutputVariable':_0x87803d[_0x4070a4(0x183)],'waitAsync':_0x87803d[_0x4070a4(0x6ca)],'asyncEndpointUrl':_0x87803d['asyncEndpointUrl'],'asyncEndpointMethod':_0x87803d[_0x4070a4(0x4b7)],'asyncHeaders':_0x87803d[_0x4070a4(0x59b)],'links':_0x29f73c[_0x4070a4(0x88a)]};case _0x3725ec[_0x4070a4(0x4e9)]:case _0x3725ec[_0x4070a4(0x109)]:case _0x3725ec[_0x4070a4(0x89e)]:case _0x3725ec[_0x4070a4(0x262)]:case _0x3725ec[_0x4070a4(0x1da)]:case _0x3725ec[_0x4070a4(0x877)]:case _0x3725ec[_0x4070a4(0x8e5)]:case _0x3725ec['QueryFile']:case _0x3725ec[_0x4070a4(0x9e5)]:case _0x3725ec['DocumentParser']:return{'type':_0x29f73c[_0x4070a4(0x506)],'id':_0x29f73c['id'],'uid':_0x29f73c['uid'],'links':_0x29f73c[_0x4070a4(0x88a)]};case _0x3725ec[_0x4070a4(0x82f)]:case _0x3725ec[_0x4070a4(0x423)]:return{'type':_0x29f73c[_0x4070a4(0x506)],'id':_0x29f73c['id'],'uid':_0x29f73c['uid'],'links':_0x29f73c[_0x4070a4(0x88a)],'attributes':_0x29f73c['attributes']};default:throw new _0x56b2e7(_0x56b2e7[_0x4070a4(0x90b)][_0x4070a4(0x2ff)],{'block':_0x29f73c});}});}[_0x4d9d4f(0x4af)](_0x2eaf44,_0x4c14c4){return _0x2eaf44['map'](_0x2b8383=>{const _0xe3cd26=a0_0x1399;switch(_0x2b8383[_0xe3cd26(0x506)]){case _0x57a82a[_0xe3cd26(0x4ec)]:const _0x23d21a=_0x4c14c4[_0xe3cd26(0x211)](_0x3a4ded=>_0x3a4ded['id']===_0x2b8383['id']);if(!_0x23d21a)throw new _0x56b2e7(_0x56b2e7['codes']['WorkflowInvalidBlockType'],{'block':_0x2b8383});const _0x56221a=_0x2b8383[_0xe3cd26(0x431)]&&_0x23d21a['versions']?_0x23d21a[_0xe3cd26(0x8f7)][_0x2b8383['version']-0x1]:_0x23d21a;return{'type':_0x2b8383[_0xe3cd26(0x506)],'id':_0x2b8383['id'],'uid':_0x2b8383[_0xe3cd26(0x9d1)],'description':_0x56221a['description'],'instructions':_0x56221a['instructions'],'grammar':_0x56221a[_0xe3cd26(0x1bc)],'temperature':_0x56221a[_0xe3cd26(0x5d7)],'maxTokens':_0x56221a[_0xe3cd26(0x1f4)],'modelId':_0x56221a[_0xe3cd26(0x471)],'links':_0x2b8383[_0xe3cd26(0x88a)],'version':_0x2b8383[_0xe3cd26(0x431)]};case _0x57a82a[_0xe3cd26(0x283)]:case _0x57a82a['VectorDatabase']:case _0x57a82a['WordSplitter']:case _0x57a82a[_0xe3cd26(0x82f)]:case _0x57a82a[_0xe3cd26(0x8fd)]:case _0x57a82a[_0xe3cd26(0x2ef)]:return{'type':_0x2b8383[_0xe3cd26(0x506)],'id':_0x2b8383['id'],'uid':_0x2b8383[_0xe3cd26(0x9d1)],'links':_0x2b8383[_0xe3cd26(0x88a)],'attributes':_0x2b8383[_0xe3cd26(0x515)]};case _0x57a82a[_0xe3cd26(0x474)]:case _0x57a82a['ObjectStorageBucket']:case _0x57a82a[_0xe3cd26(0x62c)]:case _0x57a82a['RelationExtractor']:case _0x57a82a[_0xe3cd26(0x6a3)]:case _0x57a82a[_0xe3cd26(0x9e5)]:case _0x57a82a['ObjectStorageUpload']:case _0x57a82a[_0xe3cd26(0x541)]:case _0x57a82a['Context']:case _0x57a82a[_0xe3cd26(0x4e9)]:return{'type':_0x2b8383[_0xe3cd26(0x506)],'id':_0x2b8383['id'],'uid':_0x2b8383[_0xe3cd26(0x9d1)],'links':_0x2b8383['links']};default:throw new _0x56b2e7(_0x56b2e7[_0xe3cd26(0x90b)][_0xe3cd26(0x2ff)],{'block':_0x2b8383});}});}async['getAgents'](_0x2f7238){const _0x585fa0=_0x4d9d4f;return(await(0x0,_0xaa5d3[_0x585fa0(0x391)])((0x0,_0xaa5d3[_0x585fa0(0x6da)])(_0x1f3417[_0x585fa0(0x83a)](),_0x585fa0(0x441)+_0x2f7238+_0x585fa0(0x783))))[_0x585fa0(0x9ac)]['map'](_0xf37196=>{const _0x567e8f=_0x585fa0,_0x4e9f6b=_0xf37196[_0x567e8f(0x626)]();return{'type':_0x3725ec[_0x567e8f(0x4ec)],'id':_0xf37196['id'],'name':_0x4e9f6b[_0x567e8f(0x697)],'description':_0x4e9f6b[_0x567e8f(0x152)],'instructions':_0x4e9f6b['instructions'],'contextOutputVariable':_0x4e9f6b['contextOutputVariable'],'contextInputVariable':_0x4e9f6b[_0x567e8f(0x1fa)],'grammar':_0x4e9f6b[_0x567e8f(0x1bc)]??_0x567e8f(0x910),'temperature':_0x4e9f6b[_0x567e8f(0x5d7)],'maxTokens':_0x4e9f6b['maxTokens'],'modelId':_0x4e9f6b['modelId'],'versions':_0x4e9f6b[_0x567e8f(0x8f7)]};});}async['getDataCollections'](_0x52af69){const _0x2a177c=_0x4d9d4f;return(await(0x0,_0xaa5d3['getDocs'])((0x0,_0xaa5d3[_0x2a177c(0x6da)])(_0x1f3417[_0x2a177c(0x83a)](),_0x2a177c(0x441)+_0x52af69+_0x2a177c(0x81c))))['docs'][_0x2a177c(0x473)](_0x44ea27=>{const _0x4796d2=_0x2a177c,_0x3e177d=_0x44ea27['data']();return{'type':_0x3725ec[_0x4796d2(0x351)],'id':_0x44ea27['id'],'name':_0x3e177d[_0x4796d2(0x697)],'description':_0x3e177d['description'],'ingestBlocks':_0x3e177d[_0x4796d2(0x392)],'retrieveBlocks':_0x3e177d[_0x4796d2(0x77b)],'versions':_0x3e177d['versions']};});}async[_0x4d9d4f(0x329)](_0x31cd41){const _0x299bfc=_0x4d9d4f;return(await(0x0,_0xaa5d3[_0x299bfc(0x391)])((0x0,_0xaa5d3['collection'])(_0x1f3417[_0x299bfc(0x83a)](),'/developers/'+_0x31cd41+_0x299bfc(0x675))))['docs'][_0x299bfc(0x473)](_0x8e1683=>{const _0x2cf488=_0x299bfc,_0x300805=_0x8e1683[_0x2cf488(0x626)]();return{'type':_0x3725ec[_0x2cf488(0x5ce)],'id':_0x8e1683['id'],'name':_0x300805[_0x2cf488(0x697)],'description':_0x300805[_0x2cf488(0x152)],'parameters':_0x300805[_0x2cf488(0x5e2)],'endpointUrl':_0x300805['endpointUrl'],'endpointMethod':_0x300805[_0x2cf488(0x119)],'headers':_0x300805[_0x2cf488(0x2a9)],'queryParameters':_0x300805[_0x2cf488(0x550)],'bodyParameters':_0x300805[_0x2cf488(0x825)],'contextOutputVariable':_0x300805[_0x2cf488(0x183)],'waitAsync':_0x300805[_0x2cf488(0x6ca)]??!0x1,'asyncEndpointUrl':_0x300805[_0x2cf488(0x2aa)],'asyncEndpointMethod':_0x300805[_0x2cf488(0x4b7)],'asyncHeaders':_0x300805['asyncHeaders']};});}async[_0x4d9d4f(0x22d)](_0x2e5e93){const _0x40897c=_0x4d9d4f;return(await(0x0,_0xaa5d3[_0x40897c(0x391)])((0x0,_0xaa5d3[_0x40897c(0x6da)])(_0x1f3417[_0x40897c(0x83a)](),_0x40897c(0x441)+_0x2e5e93+_0x40897c(0x7d5))))['docs']['map'](_0x1835eb=>{const _0x356225=_0x40897c,_0x2e7bf9=_0x1835eb[_0x356225(0x626)]();return{'id':_0x1835eb['id'],'name':_0x2e7bf9[_0x356225(0x697)],'description':_0x2e7bf9[_0x356225(0x152)],'content':_0x2e7bf9[_0x356225(0x108)]};});}async[_0x4d9d4f(0x49c)](_0x5ca987){const _0x245283=_0x4d9d4f;return(await(0x0,_0xaa5d3[_0x245283(0x391)])((0x0,_0xaa5d3[_0x245283(0x6da)])(_0x1f3417['getFirestore'](),_0x245283(0x441)+_0x5ca987+_0x245283(0x32e))))[_0x245283(0x9ac)]['map'](_0x540e2d=>{const _0x3902d5=_0x245283,_0x186449=_0x540e2d['data']();return{'id':_0x540e2d['id'],'modelName':_0x186449['modelName'],'engineType':_0x186449['engine'],'taskType':_0x186449['task'],'knowledgeCutoffDate':_0x186449[_0x3902d5(0x58e)],'inputType':_0x186449[_0x3902d5(0x373)]??_0x2477c2[_0x3902d5(0x598)][_0x3902d5(0x41b)],'outputType':_0x186449[_0x3902d5(0x867)]??_0x2477c2[_0x3902d5(0x360)][_0x3902d5(0x41b)],'sourceUrl':_0x186449['url']};});}}const _0x58d5fa=_0x5de1ad[_0x4d9d4f(0x893)]();class _0x3346ed extends _0x18e0ce{[_0x4d9d4f(0x772)];['vendorId'];[_0x4d9d4f(0x2d6)]=0x0;[_0x4d9d4f(0x182)]=0x0;[_0x4d9d4f(0x233)];constructor(_0x585798,_0x4c2bd9,_0x2caaaa,_0x382f6c){const _0x16e8b8=_0x4d9d4f;super(_0x585798,_0x4c2bd9,_0x382f6c),this[_0x16e8b8(0x772)]=_0x585798,this['vendorId']=_0x2caaaa,this[_0x16e8b8(0x71e)]();}['destroy'](){const _0x18cf42=_0x4d9d4f;this[_0x18cf42(0x233)]&&(clearTimeout(this[_0x18cf42(0x233)]),delete this[_0x18cf42(0x233)]),super[_0x18cf42(0x6ef)]();}[_0x4d9d4f(0x934)](){const _0x338cd4=_0x4d9d4f;this[_0x338cd4(0x2d6)]=0x0,this[_0x338cd4(0x182)]=0x0,this[_0x338cd4(0x71e)](),super['reset']();}[_0x4d9d4f(0x796)](_0xe90e53){const _0x4377e6=_0x4d9d4f,_0x444eca=_0x4377e6(0x123)+(0x0,_0x4246fa['v4'])();switch(_0xe90e53[_0x4377e6(0x506)]){case _0x4377e6(0x171):let _0x571b58=!0x1;const _0x3b4577=()=>{const _0x3b1df7=_0x4377e6;if(_0x571b58)throw new _0x56b2e7(_0x56b2e7[_0x3b1df7(0x90b)][_0x3b1df7(0x146)]);_0x571b58=!0x0;},_0x475640=()=>(_0x3b4577(),this[_0x4377e6(0x171)](_0x444eca,_0xe90e53['prompt'],_0xe90e53[_0x4377e6(0x6cc)])),_0x1ca6c2=()=>(_0x3b4577(),this[_0x4377e6(0x6f6)](_0x444eca,_0xe90e53['prompt'],_0xe90e53['options']));return{'id':_0x444eca,'prompt':_0xe90e53[_0x4377e6(0x171)],'options':_0xe90e53[_0x4377e6(0x6cc)]??{'threadId':'thread-'+(0x0,_0x4246fa['v4'])()},'run':_0x475640,'stream':_0x1ca6c2};case _0x4377e6(0x4d3):let _0x1fdce1=!0x1;const _0x5166b3=()=>{const _0x3625e4=_0x4377e6;if(_0x1fdce1)throw new _0x56b2e7(_0x56b2e7[_0x3625e4(0x90b)][_0x3625e4(0x146)]);_0x1fdce1=!0x0;},_0x18407e=()=>(_0x5166b3(),this['internalRatePrompt'](_0x444eca,_0xe90e53[_0x4377e6(0x396)],_0xe90e53[_0x4377e6(0xf8)],_0xe90e53[_0x4377e6(0x6cc)]));if(!_0xe90e53[_0x4377e6(0x6cc)]?.['threadId'])throw new _0x2554b3(_0x17f7da[_0x4377e6(0x6fb)],'Please\x20provide\x20a\x20threadId\x20in\x20the\x20options');return{'id':_0x444eca,'rating':_0xe90e53[_0x4377e6(0x396)],'options':_0xe90e53[_0x4377e6(0x6cc)]??{'threadId':_0x4377e6(0x1f2)+(0x0,_0x4246fa['v4'])()},'rate':_0x18407e};case _0x4377e6(0x964):let _0x5b86ee=!0x1;const _0x54fe04=()=>{const _0x43b261=_0x4377e6;if(_0x5b86ee)throw new _0x56b2e7(_0x56b2e7[_0x43b261(0x90b)][_0x43b261(0x146)]);_0x5b86ee=!0x0;};return{'id':_0x444eca,'objectStoreId':'','documentPath':_0xe90e53['documentPath'],'download':()=>(_0x54fe04(),this['internalDownloadDocument'](_0x444eca,_0xe90e53[_0x4377e6(0x490)],_0xe90e53['documentPath']))};case _0x4377e6(0x1f8):let _0x1842e7=!0x1;const _0x525b84=()=>{const _0x116449=_0x4377e6;if(_0x1842e7)throw new _0x56b2e7(_0x56b2e7[_0x116449(0x90b)][_0x116449(0x146)]);_0x1842e7=!0x0;};return{'id':_0x444eca,'query':_0xe90e53[_0x4377e6(0x28b)],'collectionId':_0xe90e53['collectionId'],'search':()=>(_0x525b84(),this[_0x4377e6(0x32d)](_0x444eca,_0xe90e53['query'],_0xe90e53[_0x4377e6(0x418)]))};}}async['ratePrompt'](_0x2fe743){const _0x5e8429=_0x4d9d4f;return this[_0x5e8429(0x796)](_0x2fe743)[_0x5e8429(0x4d3)]();}async[_0x4d9d4f(0x964)](_0x2e9ef2){const _0x10dea7=_0x4d9d4f,_0x5992f2={'type':_0x10dea7(0x964),'objectStoreId':'','documentPath':_0x2e9ef2};return this['createAIJob'](_0x5992f2)['download']();}async['search'](_0x31fea2){const _0x4b4950=_0x4d9d4f;return this[_0x4b4950(0x796)](_0x31fea2)[_0x4b4950(0x1f8)]();}async[_0x4d9d4f(0x32d)](_0x17f0db,_0x227139,_0x3782c3){const _0x43e6bb=_0x4d9d4f,_0x24f668={'type':'search','threadId':'','query':_0x227139,'collectionId':_0x3782c3},_0x3967de=await this[_0x43e6bb(0x71b)](_0x17f0db,_0x2477c2[_0x43e6bb(0x819)][_0x43e6bb(0x3ab)],_0x24f668);return new Promise((_0x4a56a7,_0x21de22)=>{const _0x564c2b=_0x43e6bb;let _0x1816a2;const _0x378a30=_0x3967de[_0x564c2b(0x3dd)]({'next':_0x39af99=>{const _0x579201=_0x564c2b;switch(_0x39af99[_0x579201(0x320)]){case _0x2477c2['JobStatus'][_0x579201(0x890)]:clearTimeout(_0x1816a2),_0x4a56a7(_0x39af99[_0x579201(0x838)]['context']??[]),_0x378a30[_0x579201(0x4f9)]();break;case _0x2477c2[_0x579201(0x5c9)][_0x579201(0x1f6)]:clearTimeout(_0x1816a2),_0x21de22(new _0x56b2e7(_0x56b2e7[_0x579201(0x90b)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x39af99})),_0x378a30[_0x579201(0x4f9)]();}},'error':_0x2e684c=>{const _0xb6ce72=_0x564c2b;clearTimeout(_0x1816a2),_0x21de22(new _0x56b2e7(_0x56b2e7[_0xb6ce72(0x90b)][_0xb6ce72(0x752)],{'err':_0x2e684c})),_0x378a30['unsubscribe']();}});_0x1816a2=setTimeout(()=>{_0x21de22(new _0x56b2e7(_0x56b2e7['codes']['GenerativeAIContextJobTimeout'])),_0x378a30['unsubscribe']();},_0x16979b);});}async[_0x4d9d4f(0x2b9)](_0x36bd29,_0x45a012,_0x133f3b,{threadId:_0x569cdf,feedback:_0x37d8b1=''}){const _0x316f2c=_0x4d9d4f,_0x5723a5={'type':_0x316f2c(0x4d3),'jobId':_0x133f3b,'threadId':_0x569cdf,'rating':_0x45a012,'feedback':_0x37d8b1},_0x2c78fa=await this['getJobObservable'](_0x36bd29,_0x2477c2['JobType'][_0x316f2c(0x3ab)],_0x5723a5,{'threadId':_0x569cdf,'feedback':_0x37d8b1});return new Promise((_0x672890,_0x4e5c78)=>{let _0x261199;const _0x5714bf=_0x2c78fa['subscribe']({'next':_0x34cb8f=>{const _0x3901e2=a0_0x1399;switch(_0x34cb8f[_0x3901e2(0x320)]){case _0x2477c2[_0x3901e2(0x5c9)]['Completed']:clearTimeout(_0x261199),_0x672890(_0x34cb8f['result']),_0x5714bf[_0x3901e2(0x4f9)]();break;case _0x2477c2[_0x3901e2(0x5c9)]['Failed']:clearTimeout(_0x261199),_0x4e5c78(new _0x56b2e7(_0x56b2e7[_0x3901e2(0x90b)][_0x3901e2(0x752)],{'updatedJob':_0x34cb8f})),_0x5714bf['unsubscribe']();}},'error':_0x4457e6=>{const _0xa00f3=a0_0x1399;clearTimeout(_0x261199),_0x4e5c78(new _0x56b2e7(_0x56b2e7[_0xa00f3(0x90b)][_0xa00f3(0x752)],{'err':_0x4457e6})),_0x5714bf[_0xa00f3(0x4f9)]();}});_0x261199=setTimeout(()=>{const _0x56b8b5=a0_0x1399;_0x4e5c78(new _0x56b2e7(_0x56b2e7[_0x56b8b5(0x90b)][_0x56b8b5(0x463)])),_0x5714bf[_0x56b8b5(0x4f9)]();},_0x16979b);});}async[_0x4d9d4f(0x1eb)](_0x8065e0,_0x4bfd45,_0x2ffe61){const _0x500212=_0x4d9d4f,_0x1ef1da={'type':_0x500212(0x964),'objectStoreId':_0x4bfd45,'documentPath':_0x2ffe61,'threadId':_0x500212(0x1f2)+(0x0,_0x4246fa['v4'])()},_0x453600=await this[_0x500212(0x71b)](_0x8065e0,_0x2477c2[_0x500212(0x819)][_0x500212(0x3ab)],_0x1ef1da);return new Promise((_0xbbf7a5,_0x453720)=>{const _0xbb33=_0x500212;let _0x5e7469;const _0xd439da=_0x453600[_0xbb33(0x3dd)]({'next':_0x309fed=>{const _0x49c91d=_0xbb33;switch(_0x309fed['status']){case _0x2477c2['JobStatus']['Completed']:clearTimeout(_0x5e7469),_0xbbf7a5(_0x309fed[_0x49c91d(0x838)]),_0xd439da[_0x49c91d(0x4f9)]();break;case _0x2477c2['JobStatus'][_0x49c91d(0x1f6)]:clearTimeout(_0x5e7469),_0x453720(new _0x56b2e7(_0x56b2e7[_0x49c91d(0x90b)][_0x49c91d(0x752)],{'updatedJob':_0x309fed})),_0xd439da[_0x49c91d(0x4f9)]();}},'error':_0x33fa05=>{const _0x116e6f=_0xbb33;clearTimeout(_0x5e7469),_0x453720(new _0x56b2e7(_0x56b2e7[_0x116e6f(0x90b)][_0x116e6f(0x752)],{'err':_0x33fa05})),_0xd439da[_0x116e6f(0x4f9)]();}});_0x5e7469=setTimeout(()=>{const _0x5e668b=_0xbb33;_0x453720(new _0x56b2e7(_0x56b2e7[_0x5e668b(0x90b)][_0x5e668b(0x463)])),_0xd439da[_0x5e668b(0x4f9)]();},_0x16979b);});}async[_0x4d9d4f(0x171)](_0x1abd19,_0x523f47,_0x37f781){const _0x5496a8=_0x4d9d4f,_0x18dd03={'type':_0x5496a8(0x171),'prompt':_0x523f47,'threadId':_0x37f781?.[_0x5496a8(0x46f)]??'thread-'+(0x0,_0x4246fa['v4'])()},_0x2860de=await this[_0x5496a8(0x71b)](_0x1abd19,_0x2477c2[_0x5496a8(0x819)]['Job'],_0x18dd03,_0x37f781);return new Promise((_0x1f2088,_0x3e14c1)=>{let _0x474683;const _0x4fee02=_0x2860de['subscribe']({'next':_0x54fd9a=>{const _0x5115ea=a0_0x1399;switch(_0x54fd9a['status']){case _0x2477c2[_0x5115ea(0x5c9)][_0x5115ea(0x890)]:if('prompt'!==_0x54fd9a[_0x5115ea(0x838)][_0x5115ea(0x506)])return;const _0x29b62f=_0x54fd9a['result'][_0x5115ea(0x67e)]??0x0;this[_0x5115ea(0x687)](_0x523f47,_0x29b62f),clearTimeout(_0x474683),_0x1f2088(_0x54fd9a[_0x5115ea(0x838)]),_0x4fee02[_0x5115ea(0x4f9)](),this[_0x5115ea(0x2d6)]+=0x1,this['tokens']+=_0x29b62f,this['sendStats']();break;case _0x2477c2[_0x5115ea(0x5c9)]['Failed']:clearTimeout(_0x474683),_0x3e14c1(new _0x56b2e7(_0x56b2e7[_0x5115ea(0x90b)][_0x5115ea(0x752)],{'updatedJob':_0x54fd9a})),_0x4fee02['unsubscribe'](),this['sendStats']();}},'error':_0x41933d=>{const _0x27ce51=a0_0x1399;clearTimeout(_0x474683),_0x3e14c1(new _0x56b2e7(_0x56b2e7[_0x27ce51(0x90b)][_0x27ce51(0x752)],{'err':_0x41933d})),_0x4fee02[_0x27ce51(0x4f9)]();}});_0x474683=setTimeout(()=>{const _0x38c807=a0_0x1399;_0x3e14c1(new _0x56b2e7(_0x56b2e7[_0x38c807(0x90b)]['GenerativeAIContextJobTimeout'])),_0x4fee02[_0x38c807(0x4f9)]();},_0x16979b);});}async*[_0x4d9d4f(0x6f6)](_0x4bd364,_0x51768a,_0x36cf63){const _0x2aa376=_0x4d9d4f,_0x3d37c9={'type':_0x2aa376(0x171),'prompt':_0x51768a,'threadId':_0x36cf63?.[_0x2aa376(0x46f)]??_0x2aa376(0x1f2)+(0x0,_0x4246fa['v4'])()},_0x5e49a3=await this[_0x2aa376(0x71b)](_0x4bd364,_0x2477c2[_0x2aa376(0x819)][_0x2aa376(0x4ea)],_0x3d37c9,_0x36cf63);let _0x25726b,_0x26ad61,_0x5521fd=!0x1,_0x31cff2=0x0;const _0x54a24b=[],_0x3f7990=new Map();let _0x3c5b16=null;const _0x1ad8dd=()=>{_0x3c5b16&&(_0x3c5b16(),_0x3c5b16=null);},_0x545e4e=_0x558514=>{const _0x11d2fc=_0x2aa376;_0x5521fd=!0x0,_0x1ad8dd(),_0x5a86c7[_0x11d2fc(0x4f9)](),_0x26ad61=_0x558514;},_0x5a86c7=_0x5e49a3[_0x2aa376(0x3dd)]({'next':_0x2bb2c4=>{const _0x502693=_0x2aa376;switch(_0x2bb2c4[_0x502693(0x320)]){case _0x2477c2['JobStatus'][_0x502693(0x261)]:if(_0x502693(0x171)!==_0x2bb2c4[_0x502693(0x838)][_0x502693(0x506)])return;if(_0x2bb2c4[_0x502693(0x838)]&&void 0x0!==_0x2bb2c4[_0x502693(0x838)]['output']){if(void 0x0===_0x2bb2c4['result'][_0x502693(0x361)])return void _0x545e4e(_0x56b2e7[_0x502693(0x90b)]['GenerativeAIContextInvalidPartialResult']);_0x31cff2===_0x2bb2c4[_0x502693(0x838)][_0x502693(0x361)]?(_0x54a24b[_0x502693(0x9e2)](_0x2bb2c4['result']),_0x31cff2++,((()=>{const _0x356bdb=_0x502693;for(;_0x3f7990[_0x356bdb(0x8dd)](_0x31cff2);)_0x54a24b['push'](_0x3f7990['get'](_0x54a24b[_0x356bdb(0x99a)])),_0x3f7990[_0x356bdb(0x465)](_0x54a24b[_0x356bdb(0x99a)]),_0x31cff2++;})()),_0x1ad8dd(),_0x5be486()):_0x3f7990['set'](_0x2bb2c4[_0x502693(0x838)][_0x502693(0x361)],_0x2bb2c4['result']);}break;case _0x2477c2[_0x502693(0x5c9)][_0x502693(0x890)]:if(_0x502693(0x171)!==_0x2bb2c4['result'][_0x502693(0x506)])return;const _0x4d45ff=_0x2bb2c4[_0x502693(0x838)][_0x502693(0x67e)]??0x0;this[_0x502693(0x687)](_0x51768a,_0x4d45ff),clearTimeout(_0x25726b),_0x545e4e(),this[_0x502693(0x2d6)]+=0x1,this[_0x502693(0x182)]+=_0x4d45ff,this[_0x502693(0x71e)]();break;case _0x2477c2[_0x502693(0x5c9)][_0x502693(0x1f6)]:clearTimeout(_0x25726b),_0x545e4e(_0x56b2e7[_0x502693(0x90b)][_0x502693(0x752)]),this[_0x502693(0x71e)]();}},'error':_0x69686b=>{const _0x37463c=_0x2aa376;clearTimeout(_0x25726b),_0x545e4e(_0x56b2e7[_0x37463c(0x90b)][_0x37463c(0x752)]);}}),_0x1908f3=()=>{const _0x11073a=_0x2aa376;_0x545e4e(_0x56b2e7[_0x11073a(0x90b)][_0x11073a(0x463)]);},_0x5be486=()=>{clearTimeout(_0x25726b),_0x25726b=setTimeout(_0x1908f3,_0x16979b);};for(_0x25726b=setTimeout(_0x1908f3,_0x16979b);!_0x5521fd||_0x54a24b['length']>0x0;)_0x54a24b[_0x2aa376(0x99a)]>0x0?yield _0x54a24b[_0x2aa376(0x124)]():await new Promise(_0x2a6885=>_0x3c5b16=_0x2a6885);if(_0x26ad61)throw _0x2644bc[_0x2aa376(0x716)]('GenerativeAIContext\x20stream\x20error',{'nodeId':this[_0x2aa376(0x772)]['getId'](),'nodeType':this[_0x2aa376(0x772)]['type']}),new _0x56b2e7(_0x26ad61);}async[_0x4d9d4f(0x8ad)](){const _0x14a9dd=_0x4d9d4f;return(await _0x58d5fa['getWorkflow'](this[_0x14a9dd(0x4e6)],this[_0x14a9dd(0x5da)]))[_0x14a9dd(0x114)];}[_0x4d9d4f(0x687)](_0x13221c,_0x5b94f5){const _0x572dcf=_0x4d9d4f,_0x5c6280=this[_0x572dcf(0x5da)],_0xcb8e6b=this['getOwnerId']();_0x2644bc[_0x572dcf(0x687)](_0x30c1eb[_0x572dcf(0x428)],{'topic':_0x5c6280,'prompt':_0x13221c,'type':'prompt','nodeId':_0xcb8e6b,'tokenCount':_0x5b94f5});}async[_0x4d9d4f(0x71b)](_0x13cbc5,_0x349c56,_0x5b267c,_0x189b8c={}){const _0x4bb9d9=_0x4d9d4f;let _0x50d9c8;switch(_0x5b267c[_0x4bb9d9(0x506)]){case _0x4bb9d9(0x171):{const {threadId:_0x34ee51}=_0x189b8c;_0x50d9c8={'id':_0x13cbc5,'jobType':_0x349c56,'parameters':{..._0x189b8c,'type':_0x4bb9d9(0x171),'prompt':_0x5b267c[_0x4bb9d9(0x171)],'threadId':_0x34ee51},'status':_0x2477c2[_0x4bb9d9(0x5c9)][_0x4bb9d9(0x10f)]};break;}case _0x4bb9d9(0x4d3):{const {threadId:_0x47a4f6}=_0x189b8c;_0x50d9c8={'id':_0x13cbc5,'jobType':_0x349c56,'parameters':{..._0x189b8c,'type':_0x4bb9d9(0x4d3),'jobId':_0x5b267c[_0x4bb9d9(0xf8)],'rating':_0x5b267c['rating'],'feedback':_0x5b267c[_0x4bb9d9(0x7bc)]??'','threadId':_0x47a4f6},'status':_0x2477c2[_0x4bb9d9(0x5c9)][_0x4bb9d9(0x10f)]};break;}case _0x4bb9d9(0x964):_0x50d9c8={'id':_0x13cbc5,'jobType':_0x349c56,'parameters':{..._0x189b8c,'type':_0x4bb9d9(0x964),'objectStoreId':_0x5b267c[_0x4bb9d9(0x490)],'documentPath':_0x5b267c[_0x4bb9d9(0x10a)]},'status':_0x2477c2[_0x4bb9d9(0x5c9)][_0x4bb9d9(0x10f)]};break;case'search':_0x50d9c8={'id':_0x13cbc5,'jobType':_0x349c56,'parameters':{..._0x189b8c,'type':_0x4bb9d9(0x1f8),'query':_0x5b267c[_0x4bb9d9(0x28b)],'collectionId':_0x5b267c['collectionId']},'status':_0x2477c2[_0x4bb9d9(0x5c9)][_0x4bb9d9(0x10f)]};}return await this[_0x4bb9d9(0x941)](_0x50d9c8);}[_0x4d9d4f(0x71e)](){const _0x3c23fd=_0x4d9d4f;this[_0x3c23fd(0x233)]&&clearTimeout(this[_0x3c23fd(0x233)]),this['debounceStats']=setTimeout(async()=>{const _0x4d84eb=_0x3c23fd;delete this['debounceStats'],this[_0x4d84eb(0x26f)][_0x4d84eb(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x4d84eb(0x72b)],'content':{'type':_0x2e4dcf[_0x4d84eb(0x7e9)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x4d84eb(0x9c7)],'messagesReceived':this[_0x4d84eb(0x43d)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x4d84eb(0x365)],'writes':0x0,'reads':0x0,'prompts':this[_0x4d84eb(0x2d6)],'tokens':this[_0x4d84eb(0x182)]}}});},_0x5760dc);}}var _0x5d5b7e,_0xf5bda9,_0x125b14,_0x5107d7,_0x359e8,_0x1d3785,_0x9b7d5e,_0x4f2255,_0xe86f5a,_0x472100,_0x3d594c;!function(_0x5118ee){const _0x3ca217=_0x4d9d4f;_0x5118ee[_0x3ca217(0x1b6)]='AITrace',_0x5118ee[_0x3ca217(0x723)]=_0x3ca217(0x723),_0x5118ee[_0x3ca217(0x872)]=_0x3ca217(0x872),_0x5118ee['WorkflowTrace']=_0x3ca217(0x730);}(_0x5d5b7e||(_0x5d5b7e={})),function(_0x4b80b4){const _0x16c396=_0x4d9d4f;_0x4b80b4[_0x16c396(0x196)]=_0x16c396(0x196),_0x4b80b4['ModelVector']='ModelVector',_0x4b80b4['VectorSearch']=_0x16c396(0x64d),_0x4b80b4[_0x16c396(0x8fd)]='EntityExtractor',_0x4b80b4[_0x16c396(0x7a2)]=_0x16c396(0x7a2),_0x4b80b4[_0x16c396(0x2ef)]=_0x16c396(0x2ef);}(_0xf5bda9||(_0xf5bda9={})),function(_0x26daf2){const _0x9ea6a4=_0x4d9d4f;_0x26daf2[_0x26daf2['Debug']=0x0]='Debug',_0x26daf2[_0x26daf2[_0x9ea6a4(0x142)]=0x5]='Info',_0x26daf2[_0x26daf2[_0x9ea6a4(0x75a)]=0xa]=_0x9ea6a4(0x75a),_0x26daf2[_0x26daf2[_0x9ea6a4(0x546)]=0xf]=_0x9ea6a4(0x546);}(_0x125b14||(_0x125b14={})),function(_0x2e4779){const _0x2b4b25=_0x4d9d4f;_0x2e4779['Retrieve']=_0x2b4b25(0x39c),_0x2e4779['Ingest']='Ingest',_0x2e4779[_0x2b4b25(0x935)]=_0x2b4b25(0x935),_0x2e4779[_0x2b4b25(0x444)]=_0x2b4b25(0x444),_0x2e4779[_0x2b4b25(0x2d5)]=_0x2b4b25(0x2d5),_0x2e4779[_0x2b4b25(0x3ab)]=_0x2b4b25(0x3ab),_0x2e4779[_0x2b4b25(0x22a)]=_0x2b4b25(0x22a),_0x2e4779[_0x2b4b25(0x41f)]=_0x2b4b25(0x41f);}(_0x5107d7||(_0x5107d7={})),function(_0x1bcd8b){const _0x5f1b2a=_0x4d9d4f;_0x1bcd8b[_0x5f1b2a(0x9d9)]=_0x5f1b2a(0x9d9),_0x1bcd8b['Completed']=_0x5f1b2a(0x890);}(_0x359e8||(_0x359e8={})),function(_0x477460){const _0x5d6daf=_0x4d9d4f;_0x477460[_0x5d6daf(0x3c1)]=_0x5d6daf(0x3c1),_0x477460[_0x5d6daf(0x3ae)]=_0x5d6daf(0x3ae),_0x477460[_0x5d6daf(0x351)]='DataCollection',_0x477460['FinalOutput']=_0x5d6daf(0x157);}(_0x1d3785||(_0x1d3785={})),function(_0x3f7793){const _0xb25ee4=_0x4d9d4f;_0x3f7793[_0xb25ee4(0x82f)]='ChunkSplitter',_0x3f7793['DocumentParser']=_0xb25ee4(0x6a3),_0x3f7793['EntityExtractor']=_0xb25ee4(0x8fd),_0x3f7793['GraphDatabase']=_0xb25ee4(0x283),_0x3f7793[_0xb25ee4(0x4ec)]=_0xb25ee4(0x4ec),_0x3f7793[_0xb25ee4(0x196)]=_0xb25ee4(0x196),_0x3f7793[_0xb25ee4(0x8d4)]='ModelVector',_0x3f7793[_0xb25ee4(0x909)]=_0xb25ee4(0x909),_0x3f7793['SentenceSplitter']=_0xb25ee4(0x9e5),_0x3f7793[_0xb25ee4(0x406)]=_0xb25ee4(0x406),_0x3f7793[_0xb25ee4(0x423)]=_0xb25ee4(0x423);}(_0x9b7d5e||(_0x9b7d5e={})),function(_0x50e5d8){const _0x876339=_0x4d9d4f;_0x50e5d8[_0x876339(0xf1)]=_0x876339(0xf1),_0x50e5d8[_0x876339(0x9a0)]=_0x876339(0x9a0);}(_0x4f2255||(_0x4f2255={})),function(_0x32d406){const _0x1e160d=_0x4d9d4f;_0x32d406[_0x1e160d(0x572)]=_0x1e160d(0x572),_0x32d406['FetchUrl']=_0x1e160d(0x8f1),_0x32d406[_0x1e160d(0x55d)]='SearchGoogle',_0x32d406[_0x1e160d(0x77d)]='SearchPerplexity',_0x32d406[_0x1e160d(0x2b7)]='ExecuteAgent',_0x32d406[_0x1e160d(0x91e)]=_0x1e160d(0x91e),_0x32d406['QueryFile']=_0x1e160d(0x54c);}(_0xe86f5a||(_0xe86f5a={})),function(_0x40cdc3){const _0x11eaab=_0x4d9d4f;_0x40cdc3[_0x11eaab(0x684)]='LoadKnowledgeFunction',_0x40cdc3[_0x11eaab(0x92c)]='LoadSkillFunction';}(_0x472100||(_0x472100={})),function(_0x41a234){const _0x433da8=_0x4d9d4f;_0x41a234[_0x433da8(0x769)]='PromptRating';}(_0x3d594c||(_0x3d594c={}));class _0x9ddab2{static [_0x4d9d4f(0x451)]=new _0x9ddab2();[_0x4d9d4f(0x16e)]=[];['isRunning']=!0x1;constructor(){}static['getInstance'](){const _0x611a2c=_0x4d9d4f;return _0x9ddab2[_0x611a2c(0x451)];}get[_0x4d9d4f(0x99a)](){const _0x3d76da=_0x4d9d4f;return this[_0x3d76da(0x16e)]['length'];}['isAvailable'](){const _0x5a8cce=_0x4d9d4f;return!this[_0x5a8cce(0x638)];}[_0x4d9d4f(0x976)](_0x1380ed){const _0x588a6b=_0x4d9d4f;_0x1380ed?this[_0x588a6b(0x16e)]=this[_0x588a6b(0x16e)]['filter'](_0x47619f=>_0x47619f[_0x588a6b(0x180)]!==_0x1380ed):(this['jobQueue']=[],this[_0x588a6b(0x638)]=!0x1);}['add'](_0x918b9d,_0x2e5a50){const _0xdd1ad0=_0x4d9d4f;this[_0xdd1ad0(0x16e)][_0xdd1ad0(0x9e2)]({'callback':_0x2e5a50,'ownerId':_0x918b9d}),this['runJobQueue']();}async[_0x4d9d4f(0x7be)](){const _0x212aac=_0x4d9d4f;if(!this[_0x212aac(0x638)]){for(this['isRunning']=!0x0;this['jobQueue'][_0x212aac(0x99a)]>0x0;){const _0x35b7b8=this[_0x212aac(0x16e)]['shift']();if(_0x35b7b8)try{console[_0x212aac(0x8be)]('JobQueueService:\x20Running\x20job'),await _0x35b7b8[_0x212aac(0x3e9)](),console[_0x212aac(0x8be)](_0x212aac(0x117));}catch(_0x332259){console[_0x212aac(0x716)](_0x212aac(0x1b9),_0x332259);}}this[_0x212aac(0x638)]=!0x1;}}}const _0x40787a=_0x9ddab2[_0x4d9d4f(0x893)]();class _0x1d49f7 extends _0x5b0910{[_0x4d9d4f(0x323)];[_0x4d9d4f(0x7c1)];constructor(_0x321c27,_0x5d0d7c,_0x39d8ff){const _0x1e65c0=_0x4d9d4f;super(_0x321c27,_0x5d0d7c),this[_0x1e65c0(0x323)]=_0x39d8ff;}[_0x4d9d4f(0x24e)](){return _0x2477c2['ContentType']['Job'];}[_0x4d9d4f(0x285)](){const _0x4a3801=_0x4d9d4f;this[_0x4a3801(0x276)]();}['close'](){const _0x249ce1=_0x4d9d4f;this[_0x249ce1(0x26f)]?.[_0x249ce1(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x249ce1(0x72b)],'content':{'type':_0x2e4dcf[_0x249ce1(0xda)],'label':this[_0x249ce1(0x5da)]}});}['reset'](){const _0x47041f=_0x4d9d4f;this[_0x47041f(0x7c1)]?.(),delete this[_0x47041f(0x7c1)],this[_0x47041f(0x285)]();}['destroy'](){const _0x58786c=_0x4d9d4f;_0x40787a[_0x58786c(0x976)](this[_0x58786c(0x5da)]),this['unsubscribeListener']?.(),delete this[_0x58786c(0x7c1)],super[_0x58786c(0x6ef)]();}[_0x4d9d4f(0x137)](){const _0x17e60e=_0x4d9d4f;return _0x40787a[_0x17e60e(0x137)]();}[_0x4d9d4f(0x36c)](){return 0x1;}[_0x4d9d4f(0x6fe)](_0xb6f638,_0x58c0d9,_0x2d75a3){}[_0x4d9d4f(0x18c)](_0x4b5835,_0x386cbd){return _0x4b5835;}[_0x4d9d4f(0x85c)](_0x170b57,_0xdcbc8d){const _0x1bf25b=_0x4d9d4f;console[_0x1bf25b(0x8be)](_0x1bf25b(0x7ab));}[_0x4d9d4f(0x8b7)](_0x367085,_0x327a8f){const _0x41b950=_0x4d9d4f;console['warn'](_0x41b950(0x7ab));}['subscribeToJobs'](){const _0x28c2eb=_0x4d9d4f;this[_0x28c2eb(0x7c1)]||(this['unsubscribeListener']=this[_0x28c2eb(0x4f2)]((_0x1d17d3,_0x451a0c)=>{const _0xd8d02b=_0x28c2eb;if(_0x2644bc['log'](_0x1a98bf[_0xd8d02b(0x28d)],_0xd8d02b(0x80d),_0x451a0c),!(_0x451a0c instanceof File)){if(this['isJobRequest'](_0x451a0c))_0x2644bc[_0xd8d02b(0x5ad)](_0x1a98bf['Jobs'],_0xd8d02b(0x887),_0x451a0c),this[_0xd8d02b(0x137)]()?this[_0xd8d02b(0x49f)](_0x451a0c['id'],_0x451a0c[_0xd8d02b(0x9d6)],_0x1d17d3):this[_0xd8d02b(0xfc)](_0x451a0c['id'],_0x451a0c[_0xd8d02b(0x9d6)],_0x1d17d3);else{if(this[_0xd8d02b(0x252)](_0x451a0c)){_0x2644bc[_0xd8d02b(0x5ad)](_0x1a98bf['Jobs'],_0xd8d02b(0x2e9),_0x451a0c);const {id:_0x184e3d,parameters:_0x3c09eb}=_0x451a0c;this[_0xd8d02b(0x85c)](_0x184e3d,_0x3c09eb),_0x40787a[_0xd8d02b(0x9d2)](this['label'],()=>this[_0xd8d02b(0x5c4)](_0x451a0c['id'],_0x451a0c,_0x1d17d3));}}}}));}[_0x4d9d4f(0x49f)](_0x11c7cc,_0x44c713,_0x11a34b){const _0x22bb24=_0x4d9d4f,_0x497586={'id':_0x11c7cc,'jobType':_0x44c713,'jobPhase':_0x33dc65['Bid'],'available':!0x0,'queueLength':_0x40787a[_0x22bb24(0x99a)],'bid':this[_0x22bb24(0x36c)]()};_0x2644bc[_0x22bb24(0x5ad)](_0x1a98bf[_0x22bb24(0x28d)],_0x22bb24(0x3a2),_0x497586),this[_0x22bb24(0x784)](_0x497586,[_0x11a34b]);}[_0x4d9d4f(0xfc)](_0x2dc2b7,_0x5e5b25,_0x130cf5){const _0x2279b9=_0x4d9d4f,_0x423fe6={'id':_0x2dc2b7,'jobType':_0x5e5b25,'jobPhase':_0x33dc65[_0x2279b9(0x727)],'available':!0x1,'queueLength':_0x40787a['length'],'bid':0x0};_0x2644bc[_0x2279b9(0x5ad)](_0x1a98bf['Jobs'],_0x2279b9(0x39a),_0x423fe6),this[_0x2279b9(0x784)](_0x423fe6,[_0x130cf5]);}async[_0x4d9d4f(0x5c4)](_0x11599a,_0x55d9f3,_0x4de2ef){const _0x45c2a6=_0x4d9d4f;_0x2644bc[_0x45c2a6(0x5ad)](_0x1a98bf[_0x45c2a6(0x28d)],_0x45c2a6(0x231),_0x55d9f3);const _0x1efe32={'id':_0x11599a,'jobType':_0x55d9f3['jobType'],'parameters':_0x55d9f3[_0x45c2a6(0x5e2)]};try{switch(_0x55d9f3['jobType']){case _0x2477c2[_0x45c2a6(0x819)][_0x45c2a6(0x3ab)]:await this[_0x45c2a6(0x4eb)](_0x11599a,_0x55d9f3,_0x1efe32,_0x4de2ef);break;case _0x2477c2[_0x45c2a6(0x819)]['JobStream']:await this[_0x45c2a6(0x915)](_0x11599a,_0x55d9f3,_0x1efe32,_0x4de2ef);break;default:throw new Error(_0x45c2a6(0x24c));}}catch(_0x1ed219){_0x2644bc['error'](_0x45c2a6(0x246),{'nodeId':this[_0x45c2a6(0x753)][_0x45c2a6(0x9a5)](),'nodeType':this[_0x45c2a6(0x753)][_0x45c2a6(0x506)],'data':{'job':_0x1efe32}},_0x1ed219);const _0x42ec69=_0x1ed219 instanceof Error?_0x1ed219['message']:_0x45c2a6(0x34f),_0x3c572c={'id':_0x11599a,'jobType':_0x55d9f3[_0x45c2a6(0x9d6)],'jobPhase':_0x33dc65[_0x45c2a6(0x1f6)],'message':_0x42ec69};await this[_0x45c2a6(0x784)](_0x3c572c,[_0x4de2ef]);}}async[_0x4d9d4f(0x4eb)](_0x4e309b,_0x518b8f,_0x5d0b01,_0x50ed91){const _0x2fdc24=_0x4d9d4f,_0x4866ea=Date['now'](),_0x1bb7df=await this[_0x2fdc24(0x7c8)](_0x4e309b,_0x5d0b01[_0x2fdc24(0x5e2)]);this[_0x2fdc24(0x6fe)](_0x1bb7df,_0x4866ea,Date[_0x2fdc24(0x873)]());const _0x95c80b={'id':_0x4e309b,'jobType':_0x518b8f[_0x2fdc24(0x9d6)],'jobPhase':_0x33dc65[_0x2fdc24(0x59e)],'result':_0x1bb7df};_0x2644bc[_0x2fdc24(0x5ad)](_0x1a98bf[_0x2fdc24(0x28d)],_0x2fdc24(0x567),_0x95c80b),await this['send'](_0x95c80b,[_0x50ed91]),this[_0x2fdc24(0x8b7)](_0x4e309b,_0x5d0b01[_0x2fdc24(0x5e2)]);}async['processJobStream'](_0x4ec4f4,_0x27b3c3,_0x401f17,_0x5327f6){const _0x193fda=_0x4d9d4f,_0x53627f=Date[_0x193fda(0x873)]();let _0x5d7e77=0x0,_0x3a405b={};for await(const _0x4137da of this[_0x193fda(0x938)](_0x401f17['id'],_0x401f17[_0x193fda(0x5e2)])){const _0x11de12={'id':_0x4ec4f4,'jobType':_0x27b3c3['jobType'],'jobPhase':_0x33dc65[_0x193fda(0x65d)],'result':{..._0x4137da,'index':_0x5d7e77}};_0x2644bc[_0x193fda(0x5ad)](_0x1a98bf['Jobs'],_0x193fda(0x94e),_0x11de12),this['send'](_0x11de12,[_0x5327f6]),_0x3a405b=this['accumulateResult'](_0x3a405b,_0x4137da),_0x5d7e77++;}this[_0x193fda(0x6fe)](_0x3a405b,_0x53627f,Date['now']());const _0x3192e0={'id':_0x4ec4f4,'jobType':_0x27b3c3[_0x193fda(0x9d6)],'jobPhase':_0x33dc65[_0x193fda(0x59e)],'result':_0x3a405b};_0x2644bc['log'](_0x1a98bf[_0x193fda(0x28d)],_0x193fda(0x567),_0x3192e0),await this[_0x193fda(0x784)](_0x3192e0,[_0x5327f6]),this[_0x193fda(0x8b7)](_0x4ec4f4,_0x401f17[_0x193fda(0x5e2)]);}[_0x4d9d4f(0x636)](_0xb98488){const _0x21e084=_0x4d9d4f;return _0xb98488[_0x21e084(0x44b)]===_0x33dc65[_0x21e084(0x835)];}[_0x4d9d4f(0x252)](_0x16f0b4){const _0x3b238f=_0x4d9d4f;return _0x16f0b4['jobPhase']===_0x33dc65[_0x3b238f(0x9c5)];}}function _0x11c378(_0x544009,_0x1b4ee3){const _0x582873=_0x4d9d4f;return _0x582873(0x1d4)+_0x544009+'-'+_0x1b4ee3;}function _0x54995d(){const _0x278358=_0x4d9d4f,_0x53b0a6=_0x377955[_0x278358(0x9ba)](0x1);return _0x53b0a6[_0x278358(0x5aa)](_0x278358(0x308))['index']('id')[_0x278358(0x361)]('jobId')[_0x278358(0x361)](_0x278358(0x2bf))[_0x278358(0x361)](_0x278358(0x46f))['index']('timestamp')[_0x278358(0x361)](_0x278358(0x5d3)),_0x53b0a6;}function _0x5e0925(_0x3408be){const _0x180784=_0x4d9d4f;try{return JSON[_0x180784(0x446)](_0x3408be);}catch(_0x19ae69){return _0x3408be instanceof Error?_0x3408be[_0x180784(0x77f)]():JSON[_0x180784(0x446)]('Error\x20stringifying\x20object');}}class _0x2806fa{static ['instance'];[_0x4d9d4f(0x828)]=_0x125b14[_0x4d9d4f(0x546)];['commitLevel']=_0x125b14['Info'];[_0x4d9d4f(0x895)]=_0x5107d7[_0x4d9d4f(0x39c)];['openedTraces']={};static [_0x4d9d4f(0x893)]=()=>(_0x2806fa[_0x4d9d4f(0x451)]||(_0x2806fa['instance']=new _0x2806fa()),_0x2806fa[_0x4d9d4f(0x451)]);[_0x4d9d4f(0x41c)](_0x509891,_0x263ac6,_0x4d3703=!0x0){const _0x332c99=_0x4d9d4f;try{if(this[_0x332c99(0x2f3)][_0x263ac6])throw new Error(_0x332c99(0xed));const _0x28b42f={'sequence':0x0};if(this[_0x332c99(0x2f3)][_0x263ac6]=_0x28b42f,!_0x509891)return!0x0;const _0x50f958=function(_0x439129){const _0x56aab8=_0x332c99;return _0x439129[_0x56aab8(0x217)](_0x56aab8(0x308));}(_0x509891);return _0x28b42f[_0x332c99(0x84f)]=_0x509891,_0x28b42f['table']=_0x50f958,!0x0;}catch(_0x51ff55){return console[_0x332c99(0x716)]('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27'+_0x4d3703,_0x51ff55),!!_0x4d3703&&(this[_0x332c99(0x5b0)](_0x263ac6),this[_0x332c99(0x41c)](_0x509891,_0x263ac6,!0x1));}}[_0x4d9d4f(0x8a4)](_0x230544){const _0x2b5050=_0x4d9d4f;try{const _0xa2bea0=this[_0x2b5050(0x2f3)][_0x230544[_0x2b5050(0xf8)]];if(!_0xa2bea0)throw new Error(_0x2b5050(0x588));_0x230544[_0x2b5050(0x5d3)]=_0xa2bea0[_0x2b5050(0x5d3)]++,_0x230544[_0x2b5050(0x54f)]>=this[_0x2b5050(0x828)]&&console[_0x2b5050(0x5ad)](JSON[_0x2b5050(0x446)](_0x230544,null,0x2)),this[_0x2b5050(0x2a4)](_0x230544);}catch(_0x48f6b3){console[_0x2b5050(0x716)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x48f6b3);}}[_0x4d9d4f(0x5b0)](_0x25d0e2){const _0x589b0b=_0x4d9d4f;if(!_0x2806fa[_0x589b0b(0x451)])throw new Error(_0x589b0b(0x843));if(!this[_0x589b0b(0x2f3)][_0x25d0e2])throw new Error(_0x589b0b(0x19b));delete this[_0x589b0b(0x2f3)][_0x25d0e2];}[_0x4d9d4f(0x2a4)](_0x595c1f){const _0x10edcb=_0x4d9d4f;if(_0x595c1f[_0x10edcb(0x54f)]<this[_0x10edcb(0x52b)]&&_0x595c1f['jobType']!==this[_0x10edcb(0x895)])return;if(!this[_0x10edcb(0x2f3)][_0x595c1f[_0x10edcb(0xf8)]])throw new Error(_0x10edcb(0x101));const _0x22f307=this[_0x10edcb(0x2f3)][_0x595c1f[_0x10edcb(0xf8)]];if(!_0x22f307[_0x10edcb(0x84f)])throw new Error('GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set');if(!_0x22f307['table'])throw new Error(_0x10edcb(0x87b));try{const _0xa92dde=function(_0x202301){const _0x26463d=_0x10edcb,_0xb1b3d1=['startTime',_0x26463d(0x7d7),_0x26463d(0x9d6),_0x26463d(0x506),_0x26463d(0xf8),'traceLevel',_0x26463d(0x545),'status',_0x26463d(0x5d3),_0x26463d(0x8eb)],_0x35c693={..._0x202301};for(const _0x3d7d80 of _0xb1b3d1)delete _0x35c693[_0x3d7d80];return{'timestamp':_0x202301[_0x26463d(0x7d7)],'jobType':_0x202301['jobType'],'type':_0x202301[_0x26463d(0x506)],'jobId':_0x202301['jobId'],'agentId':_0x202301[_0x26463d(0x2bf)]??'','traceLevel':_0x202301['traceLevel'],'blockId':_0x202301[_0x26463d(0x545)]??'','startTime':_0x202301[_0x26463d(0x840)],'status':_0x202301[_0x26463d(0x320)],'sequence':_0x202301[_0x26463d(0x5d3)]??0x0,'errorDetails':_0x202301[_0x26463d(0x8eb)]??'','metadata':_0x5e0925(_0x35c693)};}(_0x595c1f),_0x1e10ca=(0x0,_0x4246fa['v4'])();console[_0x10edcb(0x5ad)]('Logging\x20trace',_0xa92dde[_0x10edcb(0x506)]),_0x22f307['table'][_0x10edcb(0xcd)](_0x1e10ca,_0xa92dde);}catch(_0xf47514){console['error'](_0x10edcb(0x510),_0xf47514);}}}const _0x1af3b2=_0x2806fa['getInstance']();async function _0x39af71(_0x3b62d3,_0x21392e,_0x19fc98,_0x294092,_0x1ea50d){const _0x563938=_0x4d9d4f,_0x1935da=Date[_0x563938(0x873)](),_0x2fa741=_0x1ea50d[_0x563938(0x1c6)][_0x563938(0x211)](_0x1f5f46=>_0x1f5f46['id']===_0x19fc98[_0x563938(0x471)]);if(!_0x2fa741)throw new Error(_0x563938(0x437));const _0x5ee1e1=_0x1ea50d['generativeAIWorkerConnectors'][_0x563938(0x211)](_0x4e27ae=>_0x4e27ae[_0x563938(0x73b)]()===_0x2fa741['engineType']);if(!_0x5ee1e1)throw new Error(_0x563938(0x844));const _0x10fa68=[],_0x2eca4d=(0x0,_0x4246fa['v4'])(),_0x5e87ae=await _0x5ee1e1['processJob']({'type':'prompt','prompt':_0x21392e,'instructions':_0x19fc98[_0x563938(0x80f)],'grammar':_0x19fc98[_0x563938(0x1bc)],'temperature':_0x19fc98[_0x563938(0x5d7)],'maxTokens':_0x19fc98[_0x563938(0x1f4)],'threadId':_0x2eca4d},{'model':_0x2fa741});if(_0x563938(0x794)!=typeof _0x5e87ae[_0x563938(0x86a)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');if(_0x1af3b2['trace']({'jobType':_0x5107d7[_0x563938(0x31c)],'type':_0x9b7d5e[_0x563938(0x4ec)],'jobId':_0x3b62d3,'blockId':_0x19fc98['id'],'traceLevel':_0x125b14[_0x563938(0x83f)],'timestamp':Date[_0x563938(0x873)](),'startTime':_0x1935da,'status':_0x563938(0x84a),'agentId':_0x2eca4d,'content':_0x21392e,'instructions':_0x19fc98[_0x563938(0x80f)],'result':_0x5e87ae[_0x563938(0x86a)]}),_0x19fc98[_0x563938(0x88a)]?.['some'](_0x568b28=>_0x568b28['type']===_0xefbe07[_0x563938(0x41b)]))return _0x10fa68['push']({'content':_0x5e87ae['output'],'start':0x0,'length':_0x5e87ae['output']['length']}),await _0x30010e(_0x3b62d3,_0x10fa68,_0x19fc98,_0x294092,_0x1ea50d),void await _0x30010e(_0x3b62d3,_0x5e87ae[_0x563938(0x86a)],_0x19fc98,_0x294092,_0x1ea50d);_0x10fa68[_0x563938(0x9e2)]({'content':_0x5e87ae[_0x563938(0x86a)],'start':0x0,'length':_0x21392e[_0x563938(0x99a)]}),await _0x30010e(_0x3b62d3,_0x10fa68,_0x19fc98,_0x294092,_0x1ea50d);}async function _0x19682e(_0x4bb4e6,_0x243aa8,_0x384881,_0x16a0dc,_0x15e44e){const _0x2f8d78=_0x4d9d4f,_0x2d86f9=Date[_0x2f8d78(0x873)]();let _0x1862b8=[];if(_0x243aa8 instanceof Array){for(const _0x37d8dd of _0x243aa8)_0x1862b8=_0x1862b8[_0x2f8d78(0x868)](_0x157e74(_0x37d8dd[_0x2f8d78(0x108)],_0x384881,_0x37d8dd['start'],_0x37d8dd[_0x2f8d78(0x99a)]));}else _0x1862b8=_0x157e74(_0x243aa8,_0x384881);_0x1af3b2[_0x2f8d78(0x8a4)]({'jobType':_0x5107d7[_0x2f8d78(0x31c)],'type':_0x9b7d5e[_0x2f8d78(0x82f)],'traceLevel':_0x125b14[_0x2f8d78(0x83f)],'jobId':_0x4bb4e6,'blockId':_0x384881['id'],'startTime':_0x2d86f9,'timestamp':Date[_0x2f8d78(0x873)](),'status':_0x2f8d78(0x84a),'totalChunks':_0x1862b8[_0x2f8d78(0x99a)],'chunkSize':_0x384881[_0x2f8d78(0x515)][_0x2f8d78(0x573)]}),await _0x30010e(_0x4bb4e6,_0x1862b8,_0x384881,_0x16a0dc,_0x15e44e);}function _0x157e74(_0x2699ea,_0x27b72f,_0x9aac54,_0x4d4548){const _0x34919d=_0x4d9d4f,_0x16d4e0=[];for(let _0x6ca3de=0x0;_0x6ca3de<_0x2699ea[_0x34919d(0x99a)];_0x6ca3de+=_0x27b72f[_0x34919d(0x515)][_0x34919d(0x573)]){let _0x4ccc05=_0x6ca3de-_0x27b72f[_0x34919d(0x515)][_0x34919d(0x4b0)];_0x4ccc05<0x0&&(_0x4ccc05=0x0);let _0x3e5f73=_0x6ca3de+_0x27b72f[_0x34919d(0x515)]['size']+_0x27b72f[_0x34919d(0x515)][_0x34919d(0x4b0)];_0x3e5f73>_0x2699ea['length']&&(_0x3e5f73=_0x2699ea[_0x34919d(0x99a)]);const _0x2ec040=_0x2699ea['substring'](_0x4ccc05,_0x3e5f73);_0x16d4e0[_0x34919d(0x9e2)]({'content':_0x2ec040,'start':_0x9aac54??_0x6ca3de,'length':_0x4d4548??(_0x6ca3de+_0x27b72f['attributes'][_0x34919d(0x573)]>_0x2699ea['length']?_0x2699ea[_0x34919d(0x99a)]-_0x6ca3de:_0x27b72f[_0x34919d(0x515)][_0x34919d(0x573)])});}return _0x16d4e0;}async function _0x2c3702(_0x4d34e1,_0x7eafb7,_0x3166ba,_0x5b483e,_0x480798){const _0x35031c=_0x4d9d4f,_0x31a3e4=Date[_0x35031c(0x873)]();let _0x5f3420;if(_0x7eafb7[_0x35031c(0x862)][_0x35031c(0x506)][_0x35031c(0x59a)](_0x35031c(0x587))||_0x561f47(_0x7eafb7[_0x35031c(0x862)][_0x35031c(0x697)],_0x7542ed))_0x5f3420=await _0x7eafb7[_0x35031c(0x862)][_0x35031c(0x50e)]();else{if(!_0x480798[_0x35031c(0x6f4)][_0x35031c(0x1d0)](_0x7eafb7[_0x35031c(0x862)]))throw new Error(_0x35031c(0x65a)+_0x7eafb7[_0x35031c(0x862)]['type']+_0x35031c(0x445)+_0x7eafb7['file'][_0x35031c(0x697)]);_0x5f3420=await _0x480798[_0x35031c(0x6f4)][_0x35031c(0x74d)](_0x7eafb7[_0x35031c(0x862)]);}_0x1af3b2[_0x35031c(0x8a4)]({'jobType':_0x5107d7['Ingest'],'type':_0x9b7d5e[_0x35031c(0x6a3)],'traceLevel':_0x125b14[_0x35031c(0x83f)],'blockId':_0x3166ba['id'],'jobId':_0x4d34e1,'startTime':_0x31a3e4,'timestamp':Date[_0x35031c(0x873)](),'status':'success','documentType':_0x7eafb7[_0x35031c(0x862)][_0x35031c(0x506)],'documentName':_0x7eafb7[_0x35031c(0x862)][_0x35031c(0x697)],'extractionMethod':_0x35031c(0x93e)}),await _0x30010e(_0x4d34e1,_0x5f3420,_0x3166ba,_0x5b483e,_0x480798);const _0x33d159=[{'content':_0x5f3420,'start':0x0,'length':_0x5f3420[_0x35031c(0x99a)]}];await _0x30010e(_0x4d34e1,_0x33d159,_0x3166ba,_0x5b483e,_0x480798);}const _0x7542ed=[_0x4d9d4f(0x8ae),_0x4d9d4f(0x548),_0x4d9d4f(0xa7),_0x4d9d4f(0x770),_0x4d9d4f(0x2f7),_0x4d9d4f(0x9ee),'.css',_0x4d9d4f(0x3f2),_0x4d9d4f(0x8c0),_0x4d9d4f(0x6b4),'.yaml',_0x4d9d4f(0x2a0),_0x4d9d4f(0x34b),'.ini',_0x4d9d4f(0x891),_0x4d9d4f(0x4da),_0x4d9d4f(0x9b9),_0x4d9d4f(0x4cc),'.php',_0x4d9d4f(0x90c),'.c',_0x4d9d4f(0x192),'.cs','.r',_0x4d9d4f(0x232),_0x4d9d4f(0x805),'.scala',_0x4d9d4f(0xf7),'.rs',_0x4d9d4f(0x89d),'.pl',_0x4d9d4f(0x9c6),'.hs',_0x4d9d4f(0x3fa),_0x4d9d4f(0x5d2),_0x4d9d4f(0x143),_0x4d9d4f(0x31a),_0x4d9d4f(0x3ca),'.vb',_0x4d9d4f(0x5df),_0x4d9d4f(0x84e),'.m','.vbs','.awk',_0x4d9d4f(0x3dc),_0x4d9d4f(0x814),_0x4d9d4f(0x190),_0x4d9d4f(0x5a2),_0x4d9d4f(0x4ca),_0x4d9d4f(0xdf),_0x4d9d4f(0x27b),'.jinja',_0x4d9d4f(0x248),_0x4d9d4f(0x33a),_0x4d9d4f(0x575),_0x4d9d4f(0x509),_0x4d9d4f(0x3d5),'.liquid',_0x4d9d4f(0x1ae),_0x4d9d4f(0x975),_0x4d9d4f(0x278),'.j2','.djt'];function _0x561f47(_0x32ab13,_0x9b3e1d){const _0x599e1e=_0x4d9d4f;return _0x9b3e1d[_0x599e1e(0x766)]('.'+(_0x32ab13[_0x599e1e(0xaf)]('.')['pop']()?.[_0x599e1e(0x942)]()||''));}async function _0x14cab9(_0x59a91f,_0x4792f1,_0x3a1625,_0x109eee,_0x23cac5){const _0x121484=_0x4d9d4f,_0x292ed2=Date[_0x121484(0x873)](),_0xfa7e2f=new Set();let _0x491747=0x0;for(const _0x4dc311 of _0x4792f1)_0x491747+=_0x4dc311[_0x121484(0x108)][_0x121484(0x99a)],await _0x3aa2b4(_0x4dc311[_0x121484(0x108)],_0xfa7e2f,_0x3a1625,_0x23cac5[_0x121484(0x4de)]);_0x1af3b2[_0x121484(0x8a4)]({'jobType':_0x5107d7[_0x121484(0x31c)],'type':_0x9b7d5e['EntityExtractor'],'jobId':_0x59a91f,'blockId':_0x3a1625['id'],'traceLevel':_0x125b14[_0x121484(0x83f)],'startTime':_0x292ed2,'timestamp':Date[_0x121484(0x873)](),'status':'success','contentLength':_0x491747,'totalChunks':_0x4792f1 instanceof Array?_0x4792f1[_0x121484(0x99a)]:0x1,'entitiesExtracted':_0xfa7e2f,'totalEntities':_0xfa7e2f[_0x121484(0x573)]}),await _0x30010e(_0x59a91f,_0xfa7e2f,_0x3a1625,_0x109eee,_0x23cac5);}async function _0x3aa2b4(_0x237094,_0x3a1268,_0x2c469b,_0x453c82){const _0x59f9e1=_0x4d9d4f,_0x5a8612=await _0x453c82[_0x59f9e1(0x62a)](_0x237094,{'ner':_0x2c469b[_0x59f9e1(0x515)][_0x59f9e1(0x485)],'noun':_0x2c469b[_0x59f9e1(0x515)][_0x59f9e1(0x87c)],'propn':_0x2c469b[_0x59f9e1(0x515)][_0x59f9e1(0x161)],'verb':_0x2c469b[_0x59f9e1(0x515)][_0x59f9e1(0x8f6)]});for(const _0x7046d of _0x5a8612)_0x3a1268['add'](_0x7046d);}function _0x33277c(_0x38a635,_0x2b9c36,_0x5d23b1,_0x1357a3,_0x161990){const _0x16250a=_0x4d9d4f,_0x5233f6=Date[_0x16250a(0x873)]();if(_0x5d23b1[_0x16250a(0x56a)]||(_0x5d23b1[_0x16250a(0x56a)]={}),_0x16250a(0x794)==typeof _0x2b9c36?_0x5d23b1[_0x16250a(0x56a)]['content']=_0x2b9c36:_0x2b9c36 instanceof Set?_0x5d23b1[_0x16250a(0x56a)]['entities']=_0x2b9c36:_0x2b9c36 instanceof Map?_0x5d23b1['accumulated'][_0x16250a(0x3e1)]=_0x2b9c36:_0x2b9c36 instanceof Array?_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x361)]=_0x2b9c36:_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x862)]=_0x2b9c36,_0x5d23b1[_0x16250a(0x7c6)]=_0x5d23b1[_0x16250a(0x7c6)]?_0x5d23b1['timesCalled']+0x1:0x1,_0x3f00e1(_0x5d23b1,_0x1357a3)>_0x5d23b1[_0x16250a(0x7c6)])return;if(!(_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x293)]&&_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x862)]&&_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x108)]&&_0x5d23b1[_0x16250a(0x56a)]['index']))throw new Error(_0x16250a(0x6c5));let _0x2e845e=0x0;const _0x85aef1=_0x161990[_0x16250a(0x845)][_0x16250a(0x5d0)](_0x5d23b1['id']);for(const _0x4e1e20 of _0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x293)]){let _0x312927=[];_0x312927=_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x361)][_0x16250a(0x64c)](_0x4b19fb=>_0x4b19fb[_0x16250a(0x108)][_0x16250a(0x766)](_0x4e1e20));try{_0x85aef1['addNode'](_0x5d23b1['accumulated'][_0x16250a(0x862)][_0x16250a(0x3ba)],_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x108)],_0x312927,_0x4e1e20),_0x2e845e+=0x1;}catch(_0x5b4080){}}if(_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x3e1)]){for(const [_0x4c2254,_0x1afc26]of _0x5d23b1['accumulated'][_0x16250a(0x3e1)])for(const _0xe57ec2 of _0x1afc26)try{_0x85aef1['addEdge'](_0x4c2254,_0xe57ec2);}catch(_0x172126){}if(_0x85aef1['getIsLoaded']()){let _0x153882=''+(_0x161990[_0x16250a(0x431)]??0x1);for(const _0x13ebfa of _0x1357a3)if(_0x13ebfa['type']===_0x57a82a[_0x16250a(0x4ec)]){_0x153882=_0x153882+'-'+(_0x13ebfa['version']??0x1);break;}_0x85aef1[_0x16250a(0x381)](_0x153882);}_0x1af3b2[_0x16250a(0x8a4)]({'jobType':_0x5107d7[_0x16250a(0x31c)],'type':_0x9b7d5e[_0x16250a(0x283)],'jobId':_0x38a635,'blockId':_0x5d23b1['id'],'status':_0x16250a(0x84a),'startTime':_0x5233f6,'timestamp':Date['now'](),'traceLevel':_0x125b14[_0x16250a(0x83f)],'nodesAdded':_0x2e845e,'entities':_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x293)],'relations':_0x5d23b1[_0x16250a(0x56a)][_0x16250a(0x3e1)]});}}async function _0x5d601d(_0x171fb5,_0x4cd53b,_0x5dae46,_0x5dd85f,_0x406874){const _0xb408a6=_0x4d9d4f,_0x55f375=_0x406874[_0xb408a6(0x1c6)][_0xb408a6(0x211)](_0x58c919=>_0x58c919['id']===_0x5dae46['id']);if(!_0x55f375)throw new Error(_0xb408a6(0x437));switch(_0x55f375[_0xb408a6(0x867)]){case _0x2477c2[_0xb408a6(0x360)][_0xb408a6(0x41b)]:if(_0xb408a6(0x794)!=typeof _0x4cd53b)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x183d8c,_0x3997be,_0x466e03,_0x4b06da,_0x10deb8,_0x16c860){const _0x95deb=_0xb408a6,_0x19d70b=Date[_0x95deb(0x873)]();let _0xa45eb3;const _0x58e627=_0x16c860[_0x95deb(0x90e)][_0x95deb(0x211)](_0x46b17d=>_0x46b17d[_0x95deb(0x73b)]()===_0x466e03[_0x95deb(0x304)]);if(!_0x58e627)throw new Error('No\x20connector\x20found\x20for\x20model');_0xa45eb3=await async function(_0x22520e,_0x57effe,_0x263400){const _0x4bbc65=_0x95deb,_0x27caf9=await _0x57effe['processJob']({'type':_0x4bbc65(0x171),'prompt':_0x22520e,'threadId':''},{'model':_0x263400});if(_0x27caf9[_0x4bbc65(0x86a)]instanceof Array)throw new Error('Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text');return _0x27caf9[_0x4bbc65(0x86a)];}(_0x3997be,_0x58e627,_0x466e03),_0x1af3b2['trace']({'jobType':_0x5107d7[_0x95deb(0x31c)],'type':_0x9b7d5e['ModelText'],'jobId':_0x183d8c,'blockId':_0x4b06da['id'],'traceLevel':_0x125b14[_0x95deb(0x83f)],'timestamp':Date[_0x95deb(0x873)](),'startTime':_0x19d70b,'status':_0x95deb(0x84a),'modelName':_0x466e03['id'],'inputType':_0x466e03['inputType'],'outputType':_0x466e03[_0x95deb(0x867)],'content':_0x3997be,'results':_0xa45eb3}),await _0x30010e(_0x183d8c,_0xa45eb3,_0x4b06da,_0x10deb8,_0x16c860);}(_0x171fb5,_0x4cd53b,_0x55f375,_0x5dae46,_0x5dd85f,_0x406874);break;case _0x2477c2[_0xb408a6(0x360)]['Vector']:if(!(_0x4cd53b instanceof Array))throw new Error(_0xb408a6(0x2b6));await async function(_0x2b032d,_0x5c866e,_0xa1f318,_0xa5fa3a,_0x1e044a,_0x2b5b50){const _0x1299d7=_0xb408a6,_0x48cca5=Date[_0x1299d7(0x873)](),_0x2c71b2=[],_0x67fc24=_0x2b5b50[_0x1299d7(0x90e)][_0x1299d7(0x211)](_0x109a8f=>_0x109a8f[_0x1299d7(0x73b)]()===_0xa1f318[_0x1299d7(0x304)]);if(!_0x67fc24)throw new Error(_0x1299d7(0x844));for(const _0x3ef5e7 of _0x5c866e)_0x2c71b2[_0x1299d7(0x9e2)](await _0x27676f(_0x3ef5e7,_0x67fc24,_0xa1f318));_0x1af3b2[_0x1299d7(0x8a4)]({'jobType':_0x5107d7[_0x1299d7(0x31c)],'type':_0x9b7d5e[_0x1299d7(0x8d4)],'jobId':_0x2b032d,'blockId':_0xa5fa3a['id'],'traceLevel':_0x125b14[_0x1299d7(0x83f)],'timestamp':Date[_0x1299d7(0x873)](),'startTime':_0x48cca5,'status':_0x1299d7(0x84a),'modelName':_0xa1f318['id'],'inputType':_0xa1f318[_0x1299d7(0x373)],'outputType':_0xa1f318['outputType'],'totalVectors':_0x2c71b2[_0x1299d7(0x99a)]}),await _0x30010e(_0x2b032d,_0x2c71b2,_0xa5fa3a,_0x1e044a,_0x2b5b50);}(_0x171fb5,_0x4cd53b,_0x55f375,_0x5dae46,_0x5dd85f,_0x406874);}}async function _0x27676f(_0x1fe0f4,_0x2989f9,_0x51ca05){const _0x430787=_0x4d9d4f;return(await _0x2989f9[_0x430787(0x4eb)]({'type':_0x430787(0x171),'prompt':_0x1fe0f4[_0x430787(0x108)],'threadId':''},{'model':_0x51ca05}))[_0x430787(0x86a)];}async function _0x1c71f7(_0x49cfcc,_0x183683,_0x3f449f,_0x4683ab,_0x34d15a){const _0x1959c8=_0x4d9d4f,_0x4f150e=Date['now']();if(_0x3f449f[_0x1959c8(0x56a)]||(_0x3f449f['accumulated']={}),_0x183683 instanceof Array?_0x3f449f['accumulated'][_0x1959c8(0x361)]=_0x183683:_0x3f449f[_0x1959c8(0x56a)][_0x1959c8(0x293)]=_0x183683,_0x3f449f[_0x1959c8(0x7c6)]=_0x3f449f[_0x1959c8(0x7c6)]?_0x3f449f['timesCalled']+0x1:0x1,_0x3f00e1(_0x3f449f,_0x4683ab)>_0x3f449f[_0x1959c8(0x7c6)])return;if(!_0x3f449f[_0x1959c8(0x56a)][_0x1959c8(0x361)]||!_0x3f449f[_0x1959c8(0x56a)][_0x1959c8(0x293)])throw new Error(_0x1959c8(0x4d7));const _0x31e16f=new Map();for(const _0x643e10 of _0x3f449f[_0x1959c8(0x56a)]['index'])_0x588421(_0x643e10[_0x1959c8(0x108)],_0x3f449f['accumulated'][_0x1959c8(0x293)],_0x31e16f);_0x1af3b2[_0x1959c8(0x8a4)]({'jobType':_0x5107d7[_0x1959c8(0x31c)],'type':_0x9b7d5e[_0x1959c8(0x909)],'jobId':_0x49cfcc,'blockId':_0x3f449f['id'],'traceLevel':_0x125b14[_0x1959c8(0x83f)],'timestamp':Date['now'](),'startTime':_0x4f150e,'status':'success','entities':_0x3f449f['accumulated'][_0x1959c8(0x293)],'relations':_0x31e16f,'totalRelationsExtracted':_0x31e16f['size']}),await _0x30010e(_0x49cfcc,_0x31e16f,_0x3f449f,_0x4683ab,_0x34d15a);}function _0x588421(_0x4674d1,_0x3bbc40,_0x44e723){const _0x4b8bdc=_0x4d9d4f;for(const _0x5afee5 of _0x3bbc40)for(const _0x70580e of _0x3bbc40){if(_0x5afee5===_0x70580e)continue;const _0x569f7f=_0x4674d1[_0x4b8bdc(0x489)](_0x5afee5),_0x51f4c6=_0x4674d1[_0x4b8bdc(0x489)](_0x70580e);-0x1!==_0x569f7f&&-0x1!==_0x51f4c6&&(_0x44e723[_0x4b8bdc(0x8dd)](_0x5afee5)||_0x44e723[_0x4b8bdc(0xcd)](_0x5afee5,new Set()),_0x44e723[_0x4b8bdc(0x29f)](_0x5afee5)[_0x4b8bdc(0x9d2)](_0x70580e));}return _0x44e723;}async function _0x20061d(_0x52f531,_0x331721,_0x4a0ca1,_0x75e53c,_0x355424){const _0xe71f8e=_0x4d9d4f,_0x479fd5=Date['now']();let _0x108829=[];if(_0x331721 instanceof Array)for(const _0x2a86f4 of _0x331721){const _0x348904=await _0x355424[_0xe71f8e(0x4de)]['getSentences'](_0x2a86f4[_0xe71f8e(0x108)]);_0x108829=_0x108829[_0xe71f8e(0x868)](_0x348904[_0xe71f8e(0x473)](_0x5f09c7=>({'content':_0x5f09c7,'start':_0x2a86f4['start'],'length':_0x2a86f4[_0xe71f8e(0x99a)]})));}else _0x108829=(await _0x355424[_0xe71f8e(0x4de)][_0xe71f8e(0x35d)](_0x331721))[_0xe71f8e(0x473)](_0x2631bf=>({'content':_0x2631bf,'start':_0x331721[_0xe71f8e(0x489)](_0x2631bf),'length':_0x2631bf[_0xe71f8e(0x99a)]}));_0x1af3b2[_0xe71f8e(0x8a4)]({'jobType':_0x5107d7[_0xe71f8e(0x31c)],'type':_0x9b7d5e['SentenceSplitter'],'jobId':_0x52f531,'blockId':_0x4a0ca1['id'],'traceLevel':_0x125b14[_0xe71f8e(0x83f)],'startTime':_0x479fd5,'timestamp':Date[_0xe71f8e(0x873)](),'status':_0xe71f8e(0x84a),'totalSentences':_0x108829[_0xe71f8e(0x99a)],'averageSentenceLength':_0x108829[_0xe71f8e(0x9a6)]((_0x151b34,_0xd0d9fb)=>_0x151b34+_0xd0d9fb['length'],0x0)/_0x108829['length']}),await _0x30010e(_0x52f531,_0x108829,_0x4a0ca1,_0x75e53c,_0x355424);}function _0x37d665(_0x24ab73,_0x3a17e5,_0x417722,_0x14c49a,_0x5d8d93){const _0x19c574=_0x4d9d4f,_0x2a3c18=Date[_0x19c574(0x873)]();var _0x14c01c;if(_0x417722['accumulated']||(_0x417722[_0x19c574(0x56a)]={}),_0x3a17e5 instanceof Array?(_0x14c01c=_0x3a17e5)[0x0]instanceof Array&&_0x19c574(0x565)==typeof _0x14c01c[0x0]?.[0x0]?_0x417722[_0x19c574(0x56a)][_0x19c574(0x172)]=_0x3a17e5:_0x417722[_0x19c574(0x56a)][_0x19c574(0x361)]=_0x3a17e5:_0x19c574(0x794)==typeof _0x3a17e5?_0x417722[_0x19c574(0x56a)][_0x19c574(0x108)]=_0x3a17e5:_0x417722[_0x19c574(0x56a)][_0x19c574(0x862)]=_0x3a17e5,_0x417722[_0x19c574(0x7c6)]=_0x417722[_0x19c574(0x7c6)]?_0x417722['timesCalled']+0x1:0x1,_0x3f00e1(_0x417722,_0x14c49a)>_0x417722[_0x19c574(0x7c6)])return;if(!(_0x417722['accumulated'][_0x19c574(0x108)]&&_0x417722[_0x19c574(0x56a)][_0x19c574(0x361)]&&_0x417722[_0x19c574(0x56a)]['vectors']&&_0x417722[_0x19c574(0x56a)][_0x19c574(0x862)]))throw new Error(_0x19c574(0x3f3));const _0x223984=_0x5d8d93[_0x19c574(0x845)]['getVectorDatabase'](_0x417722['id']);if(_0x223984['insert'](_0x417722[_0x19c574(0x56a)][_0x19c574(0x862)][_0x19c574(0x3ba)],_0x417722[_0x19c574(0x56a)]['content'],_0x417722[_0x19c574(0x56a)][_0x19c574(0x361)],_0x417722[_0x19c574(0x56a)][_0x19c574(0x172)]),_0x223984[_0x19c574(0x8a6)]()){let _0x3d65f0=''+(_0x5d8d93[_0x19c574(0x431)]??0x1);for(const _0x38c17d of _0x14c49a)_0x38c17d[_0x19c574(0x506)]===_0x57a82a['Agent']&&(_0x3d65f0=_0x3d65f0+'-'+(_0x38c17d['version']??0x1));_0x223984['saveToDisk'](_0x3d65f0);}_0x1af3b2['trace']({'jobType':_0x5107d7[_0x19c574(0x31c)],'type':_0x9b7d5e[_0x19c574(0x406)],'jobId':_0x24ab73,'blockId':_0x417722['id'],'traceLevel':_0x125b14[_0x19c574(0x83f)],'startTime':_0x2a3c18,'timestamp':Date[_0x19c574(0x873)](),'status':_0x19c574(0x84a),'databaseName':_0x223984[_0x19c574(0xe6)](),'vectorsAdded':_0x417722[_0x19c574(0x56a)][_0x19c574(0x172)]['length'],'filePathName':_0x417722[_0x19c574(0x56a)][_0x19c574(0x862)][_0x19c574(0x3ba)]});}async function _0x523ee1(_0x1da0a7,_0x4e5f48,_0x2cef1f,_0x4dd98a,_0x5a8200){const _0x3c4234=_0x4d9d4f,_0x18d01d=Date[_0x3c4234(0x873)]();let _0x359a4d=[];if(_0x4e5f48 instanceof Array){for(const _0x14b8e9 of _0x4e5f48)_0x359a4d=_0x359a4d['concat'](_0x3129da(_0x14b8e9[_0x3c4234(0x108)],_0x2cef1f,_0x14b8e9[_0x3c4234(0x540)],_0x14b8e9[_0x3c4234(0x99a)]));}else _0x359a4d=_0x3129da(_0x4e5f48,_0x2cef1f);_0x1af3b2[_0x3c4234(0x8a4)]({'jobType':_0x5107d7[_0x3c4234(0x31c)],'type':_0x9b7d5e['WordSplitter'],'jobId':_0x1da0a7,'traceLevel':_0x125b14[_0x3c4234(0x83f)],'blockId':_0x2cef1f['id'],'startTime':_0x18d01d,'timestamp':Date[_0x3c4234(0x873)](),'status':_0x3c4234(0x84a),'totalChunks':_0x359a4d[_0x3c4234(0x99a)],'averageChunkLength':_0x359a4d['reduce']((_0x344802,_0x378462)=>_0x344802+_0x378462[_0x3c4234(0x99a)],0x0)/_0x359a4d['length']}),await _0x30010e(_0x1da0a7,_0x359a4d,_0x2cef1f,_0x4dd98a,_0x5a8200);}function _0x3129da(_0x42742b,_0x2f30d4,_0x20b64c,_0xff072){const _0x183a47=_0x4d9d4f,_0x49e48c=[],_0x1e04b4=_0x42742b[_0x183a47(0xaf)]('\x20');let _0x2195f3='',_0x4615dd=-0x1,_0x52bbdc=0x0,_0x4ae3d9=0x0;for(const _0x45185b of _0x1e04b4){if(_0x2195f3[_0x183a47(0x99a)]+_0x45185b[_0x183a47(0x99a)]>_0x2f30d4['attributes'][_0x183a47(0x573)]){const _0x1f96a5=_0x2195f3[_0x183a47(0x99a)];let _0x439201=_0x4615dd,_0x180a3a='';for(;_0x439201>=0x0&&_0x180a3a[_0x183a47(0x99a)]+_0x1e04b4[_0x439201][_0x183a47(0x99a)]<_0x2f30d4[_0x183a47(0x515)]['overlap'];)_0x180a3a=_0x1e04b4[_0x439201]+'\x20'+_0x180a3a,_0x439201--;let _0x133491=_0x52bbdc,_0x6535b7='';for(;_0x133491<_0x1e04b4[_0x183a47(0x99a)]&&_0x6535b7[_0x183a47(0x99a)]+_0x1e04b4[_0x133491][_0x183a47(0x99a)]<_0x2f30d4[_0x183a47(0x515)][_0x183a47(0x4b0)];)_0x6535b7+=_0x1e04b4[_0x133491]+'\x20',_0x133491++;_0x2195f3=_0x180a3a+_0x2195f3+_0x6535b7,_0x49e48c[_0x183a47(0x9e2)]({'content':_0x2195f3[_0x183a47(0x273)](),'start':_0x20b64c??_0x4ae3d9,'length':_0xff072??_0x1f96a5}),_0x2195f3='',_0x4615dd=_0x52bbdc-0x1,_0x4ae3d9+=_0x1f96a5;}_0x2195f3+=_0x45185b+'\x20',_0x52bbdc++;}if(_0x2195f3[_0x183a47(0x99a)]>0x0){const _0x1e49ba=_0x2195f3['length'];let _0x2028e9=_0x4615dd,_0x28f17e='';for(;_0x2028e9>=0x0&&_0x28f17e[_0x183a47(0x99a)]+_0x1e04b4[_0x2028e9][_0x183a47(0x99a)]<_0x2f30d4[_0x183a47(0x515)][_0x183a47(0x4b0)];)_0x28f17e=_0x1e04b4[_0x2028e9]+'\x20'+_0x28f17e,_0x2028e9--;_0x2195f3=_0x28f17e+_0x2195f3,_0x49e48c[_0x183a47(0x9e2)]({'content':_0x2195f3['trim'](),'start':_0x20b64c??_0x4ae3d9,'length':_0xff072??_0x1e49ba});}return _0x49e48c;}async function _0x30010e(_0x26fb24,_0x13b82c,_0x93ab1,_0x52adb6,_0x5e0c46){const _0x27433b=_0x4d9d4f;for(const _0x277be4 of _0x93ab1['links']||[]){const _0x4eb476=_0x52adb6[_0x27433b(0x211)](_0x57ac03=>_0x57ac03[_0x27433b(0x9d1)]===_0x277be4[_0x27433b(0x9d1)]);if(_0x4eb476)switch(_0x4eb476[_0x27433b(0x506)]){case _0x57a82a[_0x27433b(0x4ec)]:_0x277be4[_0x27433b(0x506)]===_0xefbe07[_0x27433b(0x41b)]&&'string'==typeof _0x13b82c&&await _0x39af71(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);break;case _0x57a82a['ChunkSplitter']:_0x277be4['type']===_0xefbe07[_0x27433b(0x41b)]&&_0x27433b(0x794)==typeof _0x13b82c&&await _0x19682e(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4[_0x27433b(0x506)]===_0xefbe07['Index']&&_0x13b82c instanceof Array&&await _0x19682e(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);break;case _0x57a82a[_0x27433b(0x6a3)]:_0x277be4['type']===_0xefbe07['File']&&await _0x2c3702(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);break;case _0x57a82a[_0x27433b(0x8fd)]:_0x277be4['type']===_0xefbe07[_0x27433b(0x948)]&&_0x13b82c instanceof Array&&await _0x14cab9(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);break;case _0x57a82a[_0x27433b(0x283)]:_0x277be4[_0x27433b(0x506)]===_0xefbe07[_0x27433b(0x41b)]&&_0x27433b(0x794)==typeof _0x13b82c&&_0x33277c(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4[_0x27433b(0x506)]===_0xefbe07[_0x27433b(0x948)]&&_0x13b82c instanceof Array&&_0x33277c(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4[_0x27433b(0x506)]===_0xefbe07[_0x27433b(0x793)]&&_0x13b82c instanceof Set&&_0x33277c(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4['type']===_0xefbe07[_0x27433b(0x73c)]&&_0x13b82c instanceof Map&&_0x33277c(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4[_0x27433b(0x506)]===_0xefbe07['File']&&_0x33277c(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);break;case _0x57a82a[_0x27433b(0x474)]:_0x277be4[_0x27433b(0x506)]===_0xefbe07['Text']&&'string'==typeof _0x13b82c&&await _0x5d601d(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4['type']===_0xefbe07[_0x27433b(0x948)]&&_0x13b82c instanceof Array&&await _0x5d601d(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);break;case _0x57a82a[_0x27433b(0x909)]:_0x277be4['type']===_0xefbe07[_0x27433b(0x948)]&&_0x13b82c instanceof Array&&await _0x1c71f7(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4[_0x27433b(0x506)]===_0xefbe07[_0x27433b(0x793)]&&_0x13b82c instanceof Set&&await _0x1c71f7(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);break;case _0x57a82a['SentenceSplitter']:_0x277be4[_0x27433b(0x506)]===_0xefbe07[_0x27433b(0x41b)]&&_0x27433b(0x794)==typeof _0x13b82c&&await _0x20061d(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4[_0x27433b(0x506)]===_0xefbe07[_0x27433b(0x948)]&&_0x13b82c instanceof Array&&await _0x20061d(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);break;case _0x57a82a[_0x27433b(0x406)]:_0x277be4['type']===_0xefbe07[_0x27433b(0x41b)]&&'string'==typeof _0x13b82c&&_0x37d665(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4['type']===_0xefbe07[_0x27433b(0x948)]&&_0x13b82c instanceof Array&&_0x37d665(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4[_0x27433b(0x506)]===_0xefbe07['Vector']&&_0x13b82c instanceof Array&&_0x37d665(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4[_0x27433b(0x506)]===_0xefbe07['File']&&_0x37d665(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);break;case _0x57a82a[_0x27433b(0x423)]:_0x277be4[_0x27433b(0x506)]===_0xefbe07[_0x27433b(0x41b)]&&_0x27433b(0x794)==typeof _0x13b82c&&await _0x523ee1(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46),_0x277be4[_0x27433b(0x506)]===_0xefbe07['Index']&&_0x13b82c instanceof Array&&await _0x523ee1(_0x26fb24,_0x13b82c,_0x4eb476,_0x52adb6,_0x5e0c46);}}}function _0x3f00e1(_0x27cb4e,_0x38836d){const _0x2928c9=_0x4d9d4f;return _0x38836d[_0x2928c9(0x64c)](_0x1debd2=>_0x1debd2[_0x2928c9(0x88a)]?.[_0x2928c9(0x985)](_0x2984f1=>_0x2984f1[_0x2928c9(0x9d1)]===_0x27cb4e[_0x2928c9(0x9d1)]))['length'];}async function _0x2de9b8(_0x2b887b,_0x3cc945,_0x1a609f,_0x4a8d2e,_0x36625b){const _0xfc4892=_0x4d9d4f;try{let _0x3ba49f;switch(_0x1a609f[_0xfc4892(0x506)]){case _0x57a82a[_0xfc4892(0x6eb)]:const _0x33c882=_0x36625b['contentMediator']['getObjectStoreBucket'](_0x1a609f['id']);_0x3ba49f=await _0x33c882[_0xfc4892(0x29f)](_0x3cc945);break;case _0x57a82a[_0xfc4892(0x541)]:const _0x200a53=_0x36625b[_0xfc4892(0x845)][_0xfc4892(0x105)](_0x1a609f['id']);_0x3ba49f=await _0x200a53[_0xfc4892(0x29f)](_0x3cc945);}if(!_0x3ba49f)throw new Error('Failed\x20to\x20get\x20file');await _0x30010e(_0x2b887b,{'file':_0x3ba49f,'pathName':_0x3cc945},_0x1a609f,structuredClone(_0x4a8d2e),_0x36625b);}catch(_0x5a01a6){console[_0xfc4892(0x716)]('Error\x20processing\x20ingest',_0x5a01a6);}}async function _0x21a5b9(_0x1b6df5,_0x5729d1,_0x250fe6,_0x2dc3be,_0x9fefd2,_0x12f70d,_0x592b04){const _0x4e9494=_0x4d9d4f,_0x51c832=Date[_0x4e9494(0x873)](),_0x3a647c=new Set();if(_0x250fe6 instanceof Array){for(const _0x494e80 of _0x250fe6)await _0x24d0b4(_0x494e80[_0x4e9494(0x108)],_0x9fefd2,_0x3a647c,_0x592b04[_0x4e9494(0x4de)]);}else await _0x24d0b4(_0x250fe6,_0x9fefd2,_0x3a647c,_0x592b04[_0x4e9494(0x4de)]);_0x1af3b2[_0x4e9494(0x8a4)]({'jobType':_0x5107d7[_0x4e9494(0x39c)],'type':_0xf5bda9[_0x4e9494(0x8fd)],'jobId':_0x1b6df5,'threadId':_0x5729d1,'blockId':_0x9fefd2['id'],'traceLevel':_0x125b14[_0x4e9494(0x83f)],'startTime':_0x51c832,'timestamp':Date[_0x4e9494(0x873)](),'status':_0x4e9494(0x84a),'content':_0x250fe6,'entitiesExtracted':Array[_0x4e9494(0x376)](_0x3a647c),'totalEntities':_0x3a647c[_0x4e9494(0x573)]}),await _0xd12eac(_0x1b6df5,_0x5729d1,_0x3a647c,_0x2dc3be,_0x9fefd2,_0x12f70d,_0x592b04);}async function _0x24d0b4(_0x2a50f8,_0x216cbc,_0x465748,_0x319fbb){const _0x1baec5=_0x4d9d4f,_0x4ee138=await _0x319fbb[_0x1baec5(0x62a)](_0x2a50f8,{'ner':_0x216cbc[_0x1baec5(0x515)][_0x1baec5(0x485)],'noun':_0x216cbc[_0x1baec5(0x515)]['noun'],'propn':_0x216cbc[_0x1baec5(0x515)]['propn'],'verb':_0x216cbc['attributes']['verb']});for(const _0xb1fa08 of _0x4ee138)_0x465748[_0x1baec5(0x9d2)](_0xb1fa08);}async function _0x9a643d(_0x50dffc,_0x2627e0,_0x50e57a,_0x4fccac,_0x455a4c,_0x3c31cd,_0x4f800b){const _0x53786e=_0x4d9d4f,_0xe01b64=Date[_0x53786e(0x873)]();if(_0x455a4c[_0x53786e(0x56a)]||(_0x455a4c['accumulated']={}),_0x50e57a instanceof Array?(_0x455a4c['accumulated'][_0x53786e(0x228)]||(_0x455a4c[_0x53786e(0x56a)][_0x53786e(0x228)]=[]),_0x455a4c[_0x53786e(0x56a)]['results']['push'](..._0x50e57a)):_0x50e57a instanceof Set?_0x455a4c[_0x53786e(0x56a)][_0x53786e(0x293)]=_0x50e57a:_0x455a4c[_0x53786e(0x56a)][_0x53786e(0x171)]=_0x50e57a,_0x455a4c['timesCalled']=_0x455a4c[_0x53786e(0x7c6)]?_0x455a4c[_0x53786e(0x7c6)]+0x1:0x1,_0x3bfe4e(_0x455a4c,_0x3c31cd)>_0x455a4c['timesCalled'])return;if(!_0x455a4c[_0x53786e(0x56a)][_0x53786e(0x171)]&&!_0x455a4c[_0x53786e(0x56a)][_0x53786e(0x228)]||!_0x455a4c[_0x53786e(0x56a)]['entities'])throw new Error(_0x53786e(0x6c5));const _0x5a3998=_0x4f800b[_0x53786e(0x845)][_0x53786e(0x5d0)](_0x455a4c['id'])[_0x53786e(0x4cd)](Array[_0x53786e(0x376)](_0x455a4c[_0x53786e(0x56a)][_0x53786e(0x293)]),_0x455a4c[_0x53786e(0x515)]['maxDepth'],_0x455a4c[_0x53786e(0x515)][_0x53786e(0xf4)]);let _0xc634bb=[];for(const _0x150f4d in _0x5a3998){const _0x130e72=_0x5a3998[_0x150f4d];for(const _0xb94e3a of _0x130e72){let _0x23591a=0x0;if(_0x455a4c[_0x53786e(0x56a)]['prompt']&&(_0x23591a=await _0x4f800b[_0x53786e(0x4de)][_0x53786e(0x6d8)](_0x455a4c[_0x53786e(0x56a)][_0x53786e(0x171)],_0xb94e3a)),_0x455a4c[_0x53786e(0x56a)][_0x53786e(0x228)]){for(const _0x85c11b of _0x455a4c[_0x53786e(0x56a)][_0x53786e(0x228)])_0x23591a=Math[_0x53786e(0x47e)](_0x23591a,await _0x4f800b['nlpLibraryConnector'][_0x53786e(0x6d8)](_0x85c11b[_0x53786e(0x108)],_0xb94e3a));}_0x23591a<_0x455a4c[_0x53786e(0x515)][_0x53786e(0x6cb)]||_0xc634bb[_0x53786e(0x9e2)]({'content':_0xb94e3a,'relevance':_0x23591a,'pathName':_0x150f4d});}}_0xc634bb=_0xc634bb[_0x53786e(0xd6)]((_0x25ee81,_0x19c758)=>_0x19c758[_0x53786e(0x746)]-_0x25ee81['relevance'])[_0x53786e(0x5fe)](0x0,_0x455a4c['attributes'][_0x53786e(0x639)]),_0x1af3b2[_0x53786e(0x8a4)]({'jobType':_0x5107d7[_0x53786e(0x39c)],'type':_0xf5bda9['GraphSearch'],'jobId':_0x50dffc,'threadId':_0x2627e0,'blockId':_0x455a4c['id'],'traceLevel':_0x125b14[_0x53786e(0x83f)],'timestamp':Date[_0x53786e(0x873)](),'startTime':_0xe01b64,'status':_0x53786e(0x84a),'content':_0x50e57a,'topResults':_0xc634bb,'numResults':_0xc634bb[_0x53786e(0x99a)]}),await _0xd12eac(_0x50dffc,_0x2627e0,_0xc634bb,_0x4fccac,_0x455a4c,_0x3c31cd,_0x4f800b);}async function _0x3b48ac(_0xd6db54,_0x2e8aaf,_0x551e8b,_0x379900,_0x48d770,_0x3eff09,_0x34f83e){const _0x4e1b9e=_0x4d9d4f,_0x2c38ed=_0x34f83e[_0x4e1b9e(0x1c6)]['find'](_0x156359=>_0x156359['id']===_0x48d770['id']);if(!_0x2c38ed)throw new Error(_0x4e1b9e(0x437));let _0x4a0f1b='';switch(_0x4a0f1b=_0x551e8b instanceof Array?_0x551e8b['map'](_0x22ba27=>_0x22ba27[_0x4e1b9e(0x108)])[_0x4e1b9e(0x6de)](',\x20'):_0x551e8b,_0x2c38ed['outputType']){case _0x2477c2[_0x4e1b9e(0x360)]['Text']:await async function(_0x27fe01,_0x2749f2,_0x328e9f,_0x1f3da2,_0x4112b5,_0x509f71,_0x8b1826,_0x266328){const _0x4499ed=_0x4e1b9e,_0x1dc26d=Date[_0x4499ed(0x873)](),_0x4d6a5e=_0x266328['generativeAIWorkerConnectors']['find'](_0x38845a=>_0x38845a[_0x4499ed(0x73b)]()===_0x4112b5[_0x4499ed(0x304)]);if(!_0x4d6a5e)throw new Error(_0x4499ed(0x844));const _0x239942=await async function(_0x3aadd3,_0x3735b8,_0x4eaa52,_0x36466a,_0x5f24fe){const _0x2a4074=_0x4499ed,_0x349816={'type':_0x2a4074(0x171),'prompt':_0x3735b8,'threadId':_0x3aadd3};_0x4eaa52[_0x2a4074(0x424)][_0x2a4074(0x99a)]>0x0&&(_0x349816['instructions']=_0x2a4074(0x4db)+_0x4eaa52[_0x2a4074(0x424)][_0x2a4074(0x473)](_0x4c08de=>'From\x20'+_0x4c08de[_0x2a4074(0x3ba)]+':\x20'+_0x4c08de[_0x2a4074(0x108)])[_0x2a4074(0x6de)]('\x0a'));const _0x22080d=await _0x36466a[_0x2a4074(0x4eb)](_0x349816,{'model':_0x5f24fe});if(_0x22080d['output']instanceof Array)throw new Error(_0x2a4074(0x853));return _0x4eaa52[_0x2a4074(0x67e)]+=_0x22080d[_0x2a4074(0x67e)]??0x0,_0x4eaa52[_0x2a4074(0x23f)]+=_0x22080d['outputTokens']??0x0,_0x22080d[_0x2a4074(0x86a)];}(_0x2749f2,_0x328e9f,_0x1f3da2,_0x4d6a5e,_0x4112b5);_0x1af3b2[_0x4499ed(0x8a4)]({'jobType':_0x5107d7[_0x4499ed(0x39c)],'type':_0xf5bda9[_0x4499ed(0x196)],'jobId':_0x27fe01,'threadId':_0x2749f2,'blockId':_0x509f71['id'],'traceLevel':_0x125b14[_0x4499ed(0x83f)],'startTime':_0x1dc26d,'timestamp':Date['now'](),'status':_0x4499ed(0x84a),'modelName':_0x4112b5['id'],'content':_0x328e9f,'newPrompt':_0x239942,'inputType':_0x4112b5[_0x4499ed(0x373)],'outputType':_0x4112b5[_0x4499ed(0x867)]}),await _0xd12eac(_0x27fe01,_0x2749f2,_0x239942,_0x1f3da2,_0x509f71,_0x8b1826,_0x266328);}(_0xd6db54,_0x2e8aaf,_0x4a0f1b,_0x379900,_0x2c38ed,_0x48d770,_0x3eff09,_0x34f83e);break;case _0x2477c2[_0x4e1b9e(0x360)][_0x4e1b9e(0x10e)]:await async function(_0x3ad02b,_0x40791f,_0x194c6e,_0x4ff3ee,_0x574226,_0xec8651,_0x287341,_0x1ffec3){const _0x397277=_0x4e1b9e,_0x5ce9c6=Date[_0x397277(0x873)](),_0x2e3dba=_0x1ffec3[_0x397277(0x90e)][_0x397277(0x211)](_0x1d4e09=>_0x1d4e09['getEngineType']()===_0x574226[_0x397277(0x304)]);if(!_0x2e3dba)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x2f957d=await async function(_0x6f6f6c,_0x4cf676,_0x1dbfb4,_0x25b737){const _0x4b1db0=_0x397277;return(await _0x1dbfb4[_0x4b1db0(0x4eb)]({'type':_0x4b1db0(0x171),'prompt':_0x4cf676,'threadId':_0x6f6f6c},{'model':_0x25b737}))[_0x4b1db0(0x86a)];}(_0x40791f,_0x194c6e,_0x2e3dba,_0x574226);_0x1af3b2['trace']({'jobType':_0x5107d7[_0x397277(0x39c)],'type':_0xf5bda9['ModelVector'],'jobId':_0x3ad02b,'threadId':_0x40791f,'blockId':_0xec8651['id'],'traceLevel':_0x125b14[_0x397277(0x83f)],'startTime':_0x5ce9c6,'timestamp':Date[_0x397277(0x873)](),'status':_0x397277(0x84a),'modelName':_0x574226['id'],'content':_0x194c6e,'totalVectors':_0x2f957d['length']}),await _0xd12eac(_0x3ad02b,_0x40791f,_0x2f957d,_0x4ff3ee,_0xec8651,_0x287341,_0x1ffec3);}(_0xd6db54,_0x2e8aaf,_0x4a0f1b,_0x379900,_0x2c38ed,_0x48d770,_0x3eff09,_0x34f83e);}}async function _0x420ccc(_0x386cf1,_0xe7e8d0,_0xb97e58,_0x15a01b,_0x3d0c8a,_0x40db13,_0x13bd1b){const _0x1bf042=_0x4d9d4f,_0x508101=Date['now']();if(_0x3d0c8a[_0x1bf042(0x56a)]||(_0x3d0c8a[_0x1bf042(0x56a)]={}),_0xb97e58 instanceof Array?(_0x3d0c8a['accumulated']['results']||(_0x3d0c8a[_0x1bf042(0x56a)][_0x1bf042(0x228)]=[]),_0x3d0c8a[_0x1bf042(0x56a)][_0x1bf042(0x228)][_0x1bf042(0x9e2)](..._0xb97e58)):_0x3d0c8a[_0x1bf042(0x56a)][_0x1bf042(0x171)]=_0xb97e58,_0x3d0c8a[_0x1bf042(0x7c6)]=_0x3d0c8a['timesCalled']?_0x3d0c8a[_0x1bf042(0x7c6)]+0x1:0x1,_0x3bfe4e(_0x3d0c8a,_0x40db13)>_0x3d0c8a[_0x1bf042(0x7c6)])return;if(!_0x3d0c8a[_0x1bf042(0x56a)][_0x1bf042(0x171)]||!_0x3d0c8a[_0x1bf042(0x56a)][_0x1bf042(0x228)])throw new Error(_0x1bf042(0x6dc));for(const _0x295525 of _0x3d0c8a[_0x1bf042(0x56a)][_0x1bf042(0x228)])_0x295525[_0x1bf042(0x746)]=await _0x13bd1b[_0x1bf042(0x4de)][_0x1bf042(0x6d8)](_0x3d0c8a[_0x1bf042(0x56a)][_0x1bf042(0x171)],_0x295525[_0x1bf042(0x108)]);const _0x3bffae=_0x3d0c8a['accumulated'][_0x1bf042(0x228)]['filter'](_0x1381f9=>_0x1381f9['relevance']>_0x3d0c8a[_0x1bf042(0x515)][_0x1bf042(0x6cb)])[_0x1bf042(0xd6)]((_0x8d36d5,_0x370683)=>_0x370683[_0x1bf042(0x746)]-_0x8d36d5[_0x1bf042(0x746)])['slice'](0x0,_0x3d0c8a[_0x1bf042(0x515)]['topK']);_0x1af3b2['trace']({'jobType':_0x5107d7[_0x1bf042(0x39c)],'type':_0xf5bda9[_0x1bf042(0x2ef)],'jobId':_0x386cf1,'threadId':_0xe7e8d0,'blockId':_0x3d0c8a['id'],'traceLevel':_0x125b14[_0x1bf042(0x83f)],'startTime':_0x508101,'timestamp':Date['now'](),'status':_0x1bf042(0x84a),'inputResults':_0x3d0c8a[_0x1bf042(0x56a)][_0x1bf042(0x228)],'rerankedResults':_0x3bffae}),await _0xd12eac(_0x386cf1,_0xe7e8d0,_0x3bffae,_0x15a01b,_0x3d0c8a,_0x40db13,_0x13bd1b);}async function _0x3933f4(_0x466b3c,_0x52026f,_0x3a73e1,_0x333f52,_0x543c94,_0x4b2ce2,_0x33a41a){const _0x5905bd=_0x4d9d4f,_0x9d5728=Date[_0x5905bd(0x873)]();if(_0x543c94[_0x5905bd(0x56a)]||(_0x543c94[_0x5905bd(0x56a)]={}),_0x3a73e1 instanceof Array?_0x543c94['accumulated'][_0x5905bd(0x76d)]=_0x3a73e1:_0x543c94[_0x5905bd(0x56a)][_0x5905bd(0x108)]=_0x3a73e1,_0x543c94[_0x5905bd(0x7c6)]=_0x543c94['timesCalled']?_0x543c94[_0x5905bd(0x7c6)]+0x1:0x1,_0x3bfe4e(_0x543c94,_0x4b2ce2)>_0x543c94[_0x5905bd(0x7c6)])return;if(!_0x543c94[_0x5905bd(0x56a)][_0x5905bd(0x76d)]||!_0x543c94[_0x5905bd(0x56a)]['content'])throw new Error(_0x5905bd(0x3f3));const _0x379f5c=await _0x33a41a['nlpLibraryConnector'][_0x5905bd(0x62a)](_0x543c94[_0x5905bd(0x56a)][_0x5905bd(0x108)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x435874=_0x33a41a[_0x5905bd(0x845)][_0x5905bd(0x1c9)](_0x543c94['id'])[_0x5905bd(0x1f8)](_0x379f5c,_0x543c94['accumulated'][_0x5905bd(0x76d)],_0x543c94['attributes'][_0x5905bd(0x639)],_0x543c94['attributes'][_0x5905bd(0x6cb)],_0x543c94['attributes'][_0x5905bd(0xf4)]);_0x1af3b2[_0x5905bd(0x8a4)]({'jobType':_0x5107d7[_0x5905bd(0x39c)],'type':_0xf5bda9[_0x5905bd(0x64d)],'jobId':_0x466b3c,'threadId':_0x52026f,'blockId':_0x543c94['id'],'traceLevel':_0x125b14[_0x5905bd(0x83f)],'startTime':_0x9d5728,'timestamp':Date[_0x5905bd(0x873)](),'status':'success','topResults':_0x435874,'numResults':_0x435874[_0x5905bd(0x99a)]}),await _0xd12eac(_0x466b3c,_0x52026f,_0x435874,_0x333f52,_0x543c94,_0x4b2ce2,_0x33a41a);}async function _0xd12eac(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x3ff838,_0x25e715,_0x152c63){const _0x42c989=_0x4d9d4f;for(const _0x52be5d of _0x3ff838[_0x42c989(0x88a)]||[]){const _0x1ed432=_0x25e715[_0x42c989(0x211)](_0x5b96ce=>_0x5b96ce[_0x42c989(0x9d1)]===_0x52be5d[_0x42c989(0x9d1)]);if(_0x1ed432)switch(_0x1ed432['type']){case _0x57a82a[_0x42c989(0xca)]:_0x52be5d[_0x42c989(0x506)]===_0xefbe07[_0x42c989(0x262)]&&_0x1249a7 instanceof Array&&_0x174c72[_0x42c989(0x424)][_0x42c989(0x9e2)](..._0x1249a7);break;case _0x57a82a['EntityExtractor']:_0x52be5d['type']===_0xefbe07[_0x42c989(0x41b)]&&_0x42c989(0x794)==typeof _0x1249a7&&await _0x21a5b9(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63),_0x52be5d[_0x42c989(0x506)]===_0xefbe07[_0x42c989(0x262)]&&_0x1249a7 instanceof Array&&await _0x21a5b9(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63);break;case _0x57a82a[_0x42c989(0x283)]:_0x52be5d[_0x42c989(0x506)]===_0xefbe07[_0x42c989(0x41b)]&&_0x42c989(0x794)==typeof _0x1249a7&&await _0x9a643d(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63),_0x52be5d['type']===_0xefbe07[_0x42c989(0x262)]&&_0x1249a7 instanceof Array&&await _0x9a643d(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63),_0x52be5d['type']===_0xefbe07[_0x42c989(0x793)]&&_0x1249a7 instanceof Set&&await _0x9a643d(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63);break;case _0x57a82a[_0x42c989(0x474)]:_0x52be5d[_0x42c989(0x506)]===_0xefbe07[_0x42c989(0x41b)]&&'string'==typeof _0x1249a7&&await _0x3b48ac(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63),_0x52be5d[_0x42c989(0x506)]===_0xefbe07['Search']&&_0x1249a7 instanceof Array&&await _0x3b48ac(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63);break;case _0x57a82a[_0x42c989(0x2ef)]:_0x52be5d['type']===_0xefbe07['Text']&&_0x42c989(0x794)==typeof _0x1249a7&&await _0x420ccc(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63),_0x52be5d[_0x42c989(0x506)]===_0xefbe07[_0x42c989(0x262)]&&_0x1249a7 instanceof Array&&await _0x420ccc(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63);break;case _0x57a82a[_0x42c989(0x406)]:_0x52be5d[_0x42c989(0x506)]===_0xefbe07[_0x42c989(0x41b)]&&_0x42c989(0x794)==typeof _0x1249a7&&await _0x3933f4(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63),_0x52be5d['type']===_0xefbe07['Vector']&&_0x1249a7 instanceof Array&&await _0x3933f4(_0x2e15fd,_0x2f295c,_0x1249a7,_0x174c72,_0x1ed432,_0x25e715,_0x152c63);}}}function _0x3bfe4e(_0x532a50,_0x2b7731){const _0x5603e8=_0x4d9d4f;return _0x2b7731[_0x5603e8(0x64c)](_0x29ee40=>_0x29ee40[_0x5603e8(0x88a)]?.[_0x5603e8(0x985)](_0x2929cd=>_0x2929cd[_0x5603e8(0x9d1)]===_0x532a50[_0x5603e8(0x9d1)]))['length'];}async function _0x11ed3e(_0x4fbb31,_0x457aba,_0x3c3b54,_0x34daae,_0x4942e5,_0x250877){const _0x35c291=_0x4d9d4f,_0x2a925a={'type':_0x35c291(0x171),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0xd12eac(_0x4fbb31,_0x457aba,_0x3c3b54,_0x2a925a,_0x34daae,structuredClone(_0x4942e5),_0x250877),_0x2a925a[_0x35c291(0x86a)]=_0x35c291(0x4db)+_0x2a925a[_0x35c291(0x424)]['map'](_0x79a9e7=>'From\x20'+_0x79a9e7[_0x35c291(0x3ba)]+':\x20'+_0x79a9e7['content'])[_0x35c291(0x6de)]('\x0a');}catch(_0x4cbb68){console['error']('Error\x20processing\x20retrieve',_0x4cbb68);}return _0x2a925a;}const _0x3646ee=require('rxjs/operators');class _0x121df0{[_0x4d9d4f(0x699)];constructor(){const _0x37c2f4=_0x4d9d4f;this[_0x37c2f4(0x699)]=new _0x2610f5[(_0x37c2f4(0x692))]();}[_0x4d9d4f(0x79d)](_0x20c9d8){const _0x560f56=_0x4d9d4f;this[_0x560f56(0x699)][_0x560f56(0x726)](_0x20c9d8);}async[_0x4d9d4f(0x342)](){const _0xd9169a=_0x4d9d4f;return(0x0,_0x2610f5[_0xd9169a(0x689)])(this[_0xd9169a(0x699)][_0xd9169a(0x2ed)]((0x0,_0x3646ee['take'])(0x1)));}}function _0x2f0f04(_0xe70c05,_0x20100a,_0xd842aa,_0x17ae2d,_0x4f6bf3,_0x329338,_0x2950b7,_0x579100){const _0x3bf11a=_0x4d9d4f,_0x5b36a0=_0x3bf11a(0x991)+_0x4f6bf3[_0x3bf11a(0x152)]+_0x3bf11a(0x797),_0x4dc1e6={'prompt':{'type':_0x2477c2[_0x3bf11a(0x897)][_0x3bf11a(0x56d)]}};return _0x1af3b2[_0x3bf11a(0x8a4)]({'jobType':_0x5107d7[_0x3bf11a(0x22a)],'type':_0x472100['LoadSkillFunction'],'jobId':_0xe70c05,'agentId':_0x20100a,'threadId':_0xd842aa,'traceLevel':_0x125b14[_0x3bf11a(0x142)],'startTime':Date[_0x3bf11a(0x873)](),'timestamp':Date[_0x3bf11a(0x873)](),'status':_0x3bf11a(0x84a),'function':_0xe86f5a['ExecuteAgent'],'params':_0x4dc1e6,'functionDescription':_0x5b36a0}),{'description':_0x5b36a0,'params':_0x4dc1e6,'callback':async _0x103530=>{const _0x2e3c61=_0x3bf11a,_0x37ccd6=Date[_0x2e3c61(0x873)]();try{if(_0x579100&&(await _0x135d86['wait'](0x1),_0x579100['emit']({'output':_0x2e3c61(0x6f3)+_0x4f6bf3[_0x2e3c61(0x697)]+'`\x0a\x0a','type':'prompt'})),'string'!=typeof _0x103530?.[_0x2e3c61(0x171)])throw new Error(_0x2e3c61(0x994));const _0x44940c=_0x2950b7['models']['find'](_0x3cdd69=>_0x3cdd69['id']===_0x4f6bf3[_0x2e3c61(0x471)]);if(!_0x44940c)throw new Error(_0x2e3c61(0x437));const _0x28262c=_0x2950b7[_0x2e3c61(0x90e)][_0x2e3c61(0x211)](_0x4af79f=>_0x4af79f['getEngineType']()===_0x44940c[_0x2e3c61(0x304)]);if(!_0x28262c)throw new Error(_0x2e3c61(0x844));const _0x3f89b2=_0x4f6bf3[_0x2e3c61(0x88a)]?.[_0x2e3c61(0x985)](_0x4232c5=>{const _0x229d63=_0x2e3c61,_0x22164e=_0x329338['find'](_0x4c6f73=>_0x4c6f73[_0x229d63(0x9d1)]===_0x4232c5['uid']);return!!_0x22164e&&_0x4232c5[_0x229d63(0x506)]===_0xefbe07[_0x229d63(0x41b)]&&_0x22164e[_0x229d63(0x506)]===_0x3725ec[_0x229d63(0x109)];})??!0x1;let _0x1c4cae;if(_0x579100&&_0x3f89b2?(await _0x135d86[_0x2e3c61(0x24a)](0x1),_0x579100[_0x2e3c61(0x79d)]({'output':'\x0a\x0a','type':_0x2e3c61(0x171)}),_0x1c4cae=await async function(_0x4d976a,_0x5e5783,_0xa6db9a,_0x55b107,_0x4031bf,_0x314c3a,_0x28365e,_0x405bfb,_0x38e0cb){const _0x4c884d=_0x2e3c61;let _0x14f1a1='';const _0x9705fb=_0x38e0cb[_0x4c884d(0x1c6)][_0x4c884d(0x211)](_0x3a45e8=>_0x3a45e8['id']===_0x314c3a['modelId']);if(!_0x9705fb)throw new Error(_0x4c884d(0x437));const _0x26ee23=_0x38e0cb[_0x4c884d(0x90e)][_0x4c884d(0x211)](_0x4fcc94=>_0x4fcc94[_0x4c884d(0x73b)]()===_0x9705fb[_0x4c884d(0x304)]);if(!_0x26ee23)throw new Error(_0x4c884d(0x844));for await(const _0x165b88 of _0x26ee23[_0x4c884d(0x915)]({'type':_0x4c884d(0x171),'prompt':_0x593dbb(_0x55b107,_0x314c3a),'instructions':_0x5c8abd('',_0x314c3a,_0x9705fb),'grammar':_0x314c3a[_0x4c884d(0x1bc)],'temperature':_0x314c3a[_0x4c884d(0x5d7)],'maxTokens':_0x314c3a[_0x4c884d(0x1f4)],'functions':await _0x48cb93(_0x4d976a,_0x5e5783,_0xa6db9a,_0x4031bf,_0x314c3a,_0x28365e,_0x38e0cb,_0x405bfb),'threadId':_0xa6db9a},{'model':_0x9705fb,'sequences':0x2}))_0x405bfb[_0x4c884d(0x79d)](_0x165b88),_0x14f1a1+=_0x165b88[_0x4c884d(0x86a)];return{'type':_0x4c884d(0x171),'output':_0x14f1a1};}(_0xe70c05,_0x20100a,_0xd842aa,_0x103530[_0x2e3c61(0x171)],_0x17ae2d,_0x4f6bf3,_0x329338,_0x579100,_0x2950b7),await _0x135d86['wait'](0x1),_0x579100[_0x2e3c61(0x79d)]({'output':'\x0a\x0a','type':_0x2e3c61(0x171)})):_0x1c4cae=await _0x28262c[_0x2e3c61(0x4eb)]({'type':'prompt','prompt':_0x593dbb(_0x103530[_0x2e3c61(0x171)],_0x4f6bf3),'instructions':_0x5c8abd('',_0x4f6bf3,_0x44940c),'grammar':_0x4f6bf3[_0x2e3c61(0x1bc)],'temperature':_0x4f6bf3[_0x2e3c61(0x5d7)],'maxTokens':_0x4f6bf3['maxTokens'],'functions':await _0x48cb93(_0xe70c05,_0x20100a,_0xd842aa,_0x17ae2d,_0x4f6bf3,_0x329338,_0x2950b7,_0x579100),'threadId':_0xd842aa},{'model':_0x44940c,'sequences':0x2}),_0x2e3c61(0x794)!=typeof _0x1c4cae['output'])throw new Error(_0x2e3c61(0x831));return _0x1af3b2['trace']({'jobType':_0x5107d7[_0x2e3c61(0x444)],'type':_0xe86f5a['ExecuteAgent'],'jobId':_0xe70c05,'blockId':_0x4f6bf3['id'],'agentId':_0x20100a,'threadId':_0xd842aa,'traceLevel':_0x125b14[_0x2e3c61(0x142)],'startTime':_0x37ccd6,'timestamp':Date[_0x2e3c61(0x873)](),'status':_0x2e3c61(0x84a),'agentName':_0x4f6bf3[_0x2e3c61(0x697)],'prompt':_0x103530[_0x2e3c61(0x171)],'instructions':_0x4f6bf3['instructions'],'result':_0x1c4cae[_0x2e3c61(0x86a)],'inputTokens':0x0,'outputTokens':0x0}),_0x4f6bf3[_0x2e3c61(0x88a)]?.['some'](_0x1671de=>_0x1671de[_0x2e3c61(0x506)]===_0xefbe07['Context'])?(_0x1fdde9(_0x1c4cae[_0x2e3c61(0x86a)],_0x4f6bf3,_0x329338),_0x2e3c61(0x4e5)):_0x1c4cae['output'];}catch(_0x448d0a){return console['error'](_0x448d0a),_0x1af3b2[_0x2e3c61(0x8a4)]({'jobType':_0x5107d7['Skill'],'type':_0xe86f5a['ExecuteAgent'],'jobId':_0xe70c05,'blockId':_0x4f6bf3['id'],'agentId':_0x20100a,'threadId':_0xd842aa,'traceLevel':_0x125b14[_0x2e3c61(0x142)],'startTime':_0x37ccd6,'timestamp':Date['now'](),'status':'error','errorDetails':_0x3fa395(_0x448d0a),'agentName':_0x4f6bf3[_0x2e3c61(0x697)],'prompt':_0x103530?.[_0x2e3c61(0x171)]??'','instructions':_0x4f6bf3['instructions'],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x448d0a instanceof Error?_0x448d0a['message']:_0x2e3c61(0x3bc);}}};}function _0x2ceaab(_0x39fc47,_0x4c0523,_0x33abcc,_0x57467a,_0x242d16,_0x49f99c,_0x5aa613){const _0x46eb59=_0x4d9d4f,_0x44ebfb=_0x46eb59(0x5d8)+_0x242d16[_0x46eb59(0x152)]+_0x46eb59(0x892),_0x27a0d2={'queryOrPrompt':{'type':_0x2477c2['PromptFunctionParamsType'][_0x46eb59(0x56d)]}};return _0x1af3b2['trace']({'jobType':_0x5107d7['JobContext'],'type':_0x472100[_0x46eb59(0x684)],'jobId':_0x39fc47,'agentId':_0x4c0523,'threadId':_0x33abcc,'blockId':_0x242d16['id'],'traceLevel':_0x125b14[_0x46eb59(0x142)],'startTime':Date[_0x46eb59(0x873)](),'timestamp':Date[_0x46eb59(0x873)](),'status':_0x46eb59(0x84a),'function':_0x4f2255['GetContextQuery'],'params':_0x27a0d2,'functionDescription':_0x44ebfb}),{'description':_0x44ebfb,'params':_0x27a0d2,'callback':async _0x256d1e=>{const _0x494f5d=_0x46eb59,_0x571f39=Date['now']();try{if(_0x5aa613&&(await _0x135d86['wait'](0x1),_0x5aa613[_0x494f5d(0x79d)]({'output':'\x0a\x0a`Searching\x20in\x20data\x20collection\x20'+_0x242d16[_0x494f5d(0x697)]+_0x494f5d(0x82a)+_0x256d1e?.['queryOrPrompt']+'`\x0a\x0a','type':_0x494f5d(0x171)})),_0x494f5d(0x794)!=typeof _0x256d1e?.[_0x494f5d(0x6a0)])throw new Error(_0x494f5d(0x534));const _0x2ef8f5=_0x242d16[_0x494f5d(0x77b)]['find'](_0x1a2e7f=>_0x1a2e7f[_0x494f5d(0x506)]===_0x57a82a['Prompt']),_0x4129c5=await _0x11ed3e(_0x39fc47,_0x33abcc,_0x256d1e[_0x494f5d(0x6a0)],_0x2ef8f5,_0x242d16[_0x494f5d(0x77b)],_0x49f99c);return _0x57467a[_0x494f5d(0x424)]=Array['from'](new Set([..._0x57467a['context'],..._0x4129c5[_0x494f5d(0x424)]])),_0x1af3b2[_0x494f5d(0x8a4)]({'jobType':_0x5107d7[_0x494f5d(0x935)],'type':_0x4f2255[_0x494f5d(0x9a0)],'jobId':_0x39fc47,'blockId':_0x242d16['id'],'agentId':_0x4c0523,'threadId':_0x33abcc,'traceLevel':_0x125b14['Info'],'startTime':_0x571f39,'timestamp':Date[_0x494f5d(0x873)](),'status':_0x494f5d(0x84a),'query':_0x256d1e[_0x494f5d(0x6a0)],'context':_0x4129c5[_0x494f5d(0x424)]??[],'inputTokens':_0x4129c5[_0x494f5d(0x67e)]??0x0,'outputTokens':_0x4129c5[_0x494f5d(0x23f)]??0x0}),_0x4129c5[_0x494f5d(0x86a)];}catch(_0x59f91b){return console[_0x494f5d(0x716)](_0x59f91b),_0x1af3b2[_0x494f5d(0x8a4)]({'jobType':_0x5107d7[_0x494f5d(0x935)],'type':_0x4f2255[_0x494f5d(0x9a0)],'jobId':_0x39fc47,'blockId':_0x242d16['id'],'agentId':_0x4c0523,'threadId':_0x33abcc,'traceLevel':_0x125b14[_0x494f5d(0x142)],'startTime':_0x571f39,'timestamp':Date['now'](),'status':_0x494f5d(0x716),'errorDetails':_0x3fa395(_0x59f91b),'query':_0x256d1e?.[_0x494f5d(0x6a0)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x59f91b instanceof Error?_0x59f91b[_0x494f5d(0x12c)]:'Error\x20retrieving\x20context';}}};}function _0x1b5ace(_0x160721,_0x522704,_0x2ef5af,_0x31ab40,_0x2d1401,_0x58a05a){const _0x1a590a=_0x4d9d4f,_0x334d8d={};for(const _0xaafcdb of _0x31ab40[_0x1a590a(0x5e2)])switch(_0xaafcdb[_0x1a590a(0x506)]){case _0x1a590a(0x794):case'json':_0x334d8d[_0xaafcdb[_0x1a590a(0x697)]]={'type':_0x2477c2[_0x1a590a(0x897)]['String']};break;case'number':_0x334d8d[_0xaafcdb[_0x1a590a(0x697)]]={'type':_0x2477c2['PromptFunctionParamsType'][_0x1a590a(0x680)]};break;case'boolean':_0x334d8d[_0xaafcdb[_0x1a590a(0x697)]]={'type':_0x2477c2[_0x1a590a(0x897)][_0x1a590a(0x61a)]};}return _0x1af3b2[_0x1a590a(0x8a4)]({'jobType':_0x5107d7['JobContext'],'type':_0x472100[_0x1a590a(0x92c)],'jobId':_0x160721,'agentId':_0x522704,'threadId':_0x2ef5af,'traceLevel':_0x125b14['Info'],'startTime':Date[_0x1a590a(0x873)](),'timestamp':Date['now'](),'status':'success','function':_0xe86f5a[_0x1a590a(0x91e)],'params':_0x334d8d,'functionDescription':_0x31ab40[_0x1a590a(0x152)]}),{'description':_0x1a590a(0x6b1)+_0x31ab40[_0x1a590a(0x152)],'params':_0x334d8d,'callback':async _0x4f24bf=>{const _0x4d7e73=_0x1a590a,_0x3e2cdb=Date[_0x4d7e73(0x873)]();try{if(_0x58a05a&&(await _0x135d86[_0x4d7e73(0x24a)](0x1),_0x58a05a['emit']({'output':_0x4d7e73(0x720)+_0x31ab40[_0x4d7e73(0x697)]+'`\x0a\x0a','type':_0x4d7e73(0x171)})),!_0x4f24bf)throw new Error(_0x4d7e73(0x6e9));for(const _0x2b2a86 of _0x31ab40['parameters']){if(void 0x0===_0x4f24bf[_0x2b2a86[_0x4d7e73(0x697)]])throw new Error(_0x4d7e73(0x1c0)+_0x2b2a86[_0x4d7e73(0x697)]+'\x20is\x20required');if(_0x4d7e73(0x794)===_0x2b2a86['type']&&_0x4d7e73(0x794)!=typeof _0x4f24bf[_0x2b2a86[_0x4d7e73(0x697)]])throw new Error(_0x4d7e73(0x1c0)+_0x2b2a86[_0x4d7e73(0x697)]+'\x20must\x20be\x20a\x20string');if(_0x4d7e73(0x565)===_0x2b2a86[_0x4d7e73(0x506)]&&_0x4d7e73(0x565)!=typeof _0x4f24bf[_0x2b2a86[_0x4d7e73(0x697)]])throw new Error(_0x4d7e73(0x1c0)+_0x2b2a86[_0x4d7e73(0x697)]+_0x4d7e73(0x2fe));if('boolean'===_0x2b2a86[_0x4d7e73(0x506)]&&'boolean'!=typeof _0x4f24bf[_0x2b2a86[_0x4d7e73(0x697)]])throw new Error(_0x4d7e73(0x1c0)+_0x2b2a86[_0x4d7e73(0x697)]+_0x4d7e73(0x679));if(_0x4d7e73(0x734)===_0x2b2a86[_0x4d7e73(0x506)]&&'string'!=typeof _0x4f24bf[_0x2b2a86[_0x4d7e73(0x697)]])throw new Error(_0x4d7e73(0x1c0)+_0x2b2a86[_0x4d7e73(0x697)]+'\x20must\x20be\x20a\x20string');if(_0x4d7e73(0x734)===_0x2b2a86[_0x4d7e73(0x506)])try{_0x4f24bf[_0x2b2a86[_0x4d7e73(0x697)]]=JSON['parse'](_0x4f24bf[_0x2b2a86[_0x4d7e73(0x697)]]);}catch{throw new Error('Parameter\x20'+_0x2b2a86['name']+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x5e5dcd={};for(const _0x3773f9 of _0x31ab40[_0x4d7e73(0x2a9)]){let _0x53ca3a=_0x3773f9['value'];_0x53ca3a[_0x4d7e73(0x70f)](/\$[a-zA-Z0-9]+/)&&(_0x53ca3a=_0x53ca3a[_0x4d7e73(0x5cc)](/\$[a-zA-Z0-9]+/g,_0x1d0d6e=>{const _0x224280=_0x1d0d6e['slice'](0x1);return _0x4f24bf[_0x224280];})),_0x5e5dcd[_0x3773f9[_0x4d7e73(0x697)]]=_0x53ca3a;}const _0x5bd17e=new URLSearchParams();for(const _0x50792d of _0x31ab40[_0x4d7e73(0x550)]){let _0x32f890=_0x50792d['value'];if(_0x4d7e73(0x794)==typeof _0x32f890&&_0x32f890[_0x4d7e73(0x59a)]('$')){const _0x41afd4=_0x32f890[_0x4d7e73(0x5fe)](0x1);_0x32f890=_0x4f24bf[_0x41afd4];}if(_0x4d7e73(0x794)==typeof _0x32f890&&_0x32f890[_0x4d7e73(0x59a)]('@context.')){const _0x5ca26c=_0x32f890[_0x4d7e73(0x5cc)](_0x4d7e73(0x40b),'');if(_0x31ab40['accumulated'],_0x32f890=_0x31ab40[_0x4d7e73(0x56a)]?.[_0x4d7e73(0x424)]?.[_0x5ca26c],_0x4d7e73(0x794)==typeof _0x32f890&&_0x32f890[_0x4d7e73(0x59a)]('{')&&_0x32f890[_0x4d7e73(0x732)]('}'))try{_0x32f890=JSON[_0x4d7e73(0x74d)](_0x32f890);}catch{}}_0x4d7e73(0x794)==typeof _0x32f890&&_0x32f890[_0x4d7e73(0x59a)]('[')&&_0x32f890[_0x4d7e73(0x732)](']')&&(_0x32f890=_0x32f890[_0x4d7e73(0x5fe)](0x1,-0x1)[_0x4d7e73(0xaf)](',')),_0x5bd17e['append'](_0x50792d[_0x4d7e73(0x697)],_0x32f890);}let _0x380360=_0x31ab40['endpointUrl'];_0x5bd17e[_0x4d7e73(0x573)]>0x0&&(_0x380360+='?'+_0x5bd17e[_0x4d7e73(0x77f)]());let _0x327089={};for(const _0x47d3b3 of _0x31ab40[_0x4d7e73(0x825)]){let _0x1d8a37=_0x47d3b3[_0x4d7e73(0x184)];if(_0x4d7e73(0x794)==typeof _0x1d8a37&&_0x1d8a37[_0x4d7e73(0x59a)]('$')){const _0x4eba5a=_0x1d8a37['slice'](0x1);_0x1d8a37=_0x4f24bf[_0x4eba5a];}if(_0x4d7e73(0x794)==typeof _0x1d8a37&&_0x1d8a37[_0x4d7e73(0x59a)](_0x4d7e73(0x40b))){const _0x2dc8d1=_0x1d8a37[_0x4d7e73(0x5cc)](_0x4d7e73(0x40b),'');if(_0x1d8a37=_0x31ab40[_0x4d7e73(0x56a)]?.['context']?.[_0x2dc8d1],_0x4d7e73(0x794)==typeof _0x1d8a37&&_0x1d8a37[_0x4d7e73(0x59a)]('{')&&_0x1d8a37['endsWith']('}'))try{_0x1d8a37=JSON[_0x4d7e73(0x74d)](_0x1d8a37);}catch{}}if(_0x4d7e73(0x794)==typeof _0x1d8a37&&_0x1d8a37[_0x4d7e73(0x59a)]('[')&&_0x1d8a37[_0x4d7e73(0x732)](']')&&(_0x1d8a37=_0x1d8a37['slice'](0x1,-0x1)['split'](',')),'@root'===_0x47d3b3[_0x4d7e73(0x697)]){const _0x502886=_0x1d8a37[_0x4d7e73(0x70f)](/```html(.*)```/s);_0x502886&&(_0x1d8a37=_0x502886[0x1]),_0x1d8a37=_0x1d8a37[_0x4d7e73(0x5cc)](/\n/g,''),_0x1d8a37=_0x1d8a37[_0x4d7e73(0x5cc)](/'/g,'\x22'),_0x327089=_0x1d8a37;break;}if(-0x1===_0x47d3b3[_0x4d7e73(0x697)][_0x4d7e73(0x489)]('.'))_0x327089[_0x47d3b3[_0x4d7e73(0x697)]]=_0x1d8a37;else{const [_0x103813,_0x456be9]=_0x47d3b3['name']['split']('.');_0x327089[_0x103813]||(_0x327089[_0x103813]={}),_0x327089[_0x103813][_0x456be9]=_0x1d8a37;}}const _0x40aefe=await fetch(_0x380360,{'method':_0x31ab40['endpointMethod'],'headers':_0x5e5dcd,'body':'string'==typeof _0x327089?_0x327089:JSON['stringify'](_0x327089)});if(_0x40aefe['ok']){let _0x237e66=await _0x40aefe[_0x4d7e73(0x734)]();return _0x31ab40[_0x4d7e73(0x6ca)]&&(_0x237e66=await function(_0xf8b0f3,_0x52a4ac){return new Promise((_0x4efa15,_0x126f96)=>{const _0x4725b9=a0_0x1399,_0x306d55=_0x135d86[_0x4725b9(0x121)](async()=>{const _0x4e7580=_0x4725b9;try{if(!_0xf8b0f3[_0x4e7580(0x2aa)]||!_0xf8b0f3[_0x4e7580(0x4b7)])throw new Error(_0x4e7580(0x596));const _0x4b9f3f={};if(_0xf8b0f3['asyncHeaders']){for(const _0x25b125 of _0xf8b0f3[_0x4e7580(0x59b)])_0x4b9f3f[_0x25b125[_0x4e7580(0x697)]]=_0x25b125['value'];}const _0x3001e4=_0xf8b0f3[_0x4e7580(0x2aa)]['replace'](_0x4e7580(0x8f8),_0x52a4ac),_0x461ef6=await fetch(_0x3001e4,{'method':_0xf8b0f3[_0x4e7580(0x4b7)],'headers':_0x4b9f3f});if(0xc8===_0x461ef6[_0x4e7580(0x320)]){const _0x3cbeb0=await _0x461ef6[_0x4e7580(0x734)]();_0x306d55(),_0x4efa15(_0x3cbeb0);}_0x461ef6[_0x4e7580(0x320)]>=0x190&&(console[_0x4e7580(0x716)](_0x461ef6[_0x4e7580(0x999)]),_0x306d55(),_0x126f96(new Error(_0x461ef6['statusText'])));}catch(_0x2a10d7){console[_0x4e7580(0x716)](_0x2a10d7),_0x306d55(),_0x126f96(_0x2a10d7);}},_0x18de75);});}(_0x31ab40,_0x237e66['id'])),'string'!=typeof _0x237e66&&(_0x237e66=JSON['stringify'](_0x237e66)),_0x1af3b2['trace']({'jobType':_0x5107d7[_0x4d7e73(0x444)],'type':_0xe86f5a[_0x4d7e73(0x91e)],'jobId':_0x160721,'agentId':_0x522704,'threadId':_0x2ef5af,'blockId':_0x31ab40['id'],'traceLevel':_0x125b14[_0x4d7e73(0x142)],'startTime':_0x3e2cdb,'timestamp':Date[_0x4d7e73(0x873)](),'status':_0x4d7e73(0x84a),'skillName':_0x31ab40[_0x4d7e73(0x697)],'params':_0x4f24bf,'result':_0x237e66}),_0x31ab40[_0x4d7e73(0x88a)]?.[_0x4d7e73(0x985)](_0x189806=>_0x189806[_0x4d7e73(0x506)]===_0xefbe07[_0x4d7e73(0xca)])?(_0x1fdde9(_0x237e66,_0x31ab40,_0x2d1401),_0x4d7e73(0x9b5)):_0x237e66;}throw new Error(_0x40aefe[_0x4d7e73(0x999)]);}catch(_0x2f983b){console['error'](_0x2f983b);const _0x7932d=_0x2f983b instanceof Error?_0x2f983b[_0x4d7e73(0x12c)]:_0x4d7e73(0x616);return _0x1af3b2[_0x4d7e73(0x8a4)]({'jobType':_0x5107d7['Skill'],'type':_0xe86f5a[_0x4d7e73(0x91e)],'jobId':_0x160721,'blockId':_0x31ab40['id'],'threadId':_0x2ef5af,'traceLevel':_0x125b14['Info'],'startTime':_0x3e2cdb,'timestamp':Date['now'](),'agentId':_0x522704,'status':_0x4d7e73(0x716),'skillName':_0x31ab40['name'],'params':_0x4f24bf??{},'result':_0x7932d}),_0x7932d;}}};}function _0x59ec4d(_0xf421b3,_0xc83114,_0x4291e8,_0x26302b,_0x3a36b0,_0x56fecf=!0x0){const _0xfac726=_0x4d9d4f,_0x381720='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x4ecfcb={'url':{'type':_0x2477c2['PromptFunctionParamsType'][_0xfac726(0x56d)]},'page':{'type':_0x2477c2['PromptFunctionParamsType']['Number']}};return _0x1af3b2[_0xfac726(0x8a4)]({'jobType':_0x5107d7[_0xfac726(0x22a)],'type':_0x472100['LoadSkillFunction'],'jobId':_0xf421b3,'agentId':_0xc83114,'threadId':_0x4291e8,'traceLevel':_0x125b14['Info'],'startTime':Date[_0xfac726(0x873)](),'timestamp':Date[_0xfac726(0x873)](),'status':_0xfac726(0x84a),'function':_0xe86f5a['FetchUrl'],'params':_0x4ecfcb,'functionDescription':_0x381720}),{'description':_0x381720,'params':_0x4ecfcb,'callback':async _0x4fb15a=>{const _0x26d955=_0xfac726,_0x148b39=Date[_0x26d955(0x873)]();try{if(_0x3a36b0&&(await _0x135d86[_0x26d955(0x24a)](0x1),_0x3a36b0[_0x26d955(0x79d)]({'output':_0x26d955(0x765)+_0x4fb15a?.['url']+'`\x0a\x0a','type':_0x26d955(0x171)})),_0x26d955(0x794)!=typeof _0x4fb15a?.[_0x26d955(0x14f)])throw new Error(_0x26d955(0x6c2));const _0x31448d=_0x4fb15a[_0x26d955(0x14f)];if([_0x26d955(0x27a),_0x26d955(0x9a7),'.docx',_0x26d955(0x4cf),_0x26d955(0x7ed),'.xls','.xlsx'][_0x26d955(0x985)](_0x41b513=>_0x31448d[_0x26d955(0x732)](_0x41b513)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x2505da=await fetch(_0x31448d),_0x2fb0fe=await _0x2505da[_0x26d955(0x50e)]();let _0x481dd0=_0x2fb0fe;if(_0x56fecf){const _0x3208dc=_0x2fb0fe[_0x26d955(0x70f)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x34e96d=_0x3208dc?_0x3208dc[0x1]:_0x2fb0fe,_0x431cbc=_0x34e96d[_0x26d955(0x5cc)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x26d955(0x5cc)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x26d955(0x5cc)](/<br\s*\/?>/gi,'\x20')[_0x26d955(0x5cc)](/&nbsp;/g,'\x20');_0x481dd0=_0x431cbc[_0x26d955(0x5cc)](/<\/?[^>]+(>|$)/g,'')[_0x26d955(0x5cc)](/\s\s+/g,'\x20')[_0x26d955(0x273)]();}const _0x2e9130=_0x26d955(0x565)==typeof _0x4fb15a[_0x26d955(0x1a0)]?_0x4fb15a[_0x26d955(0x1a0)]:0x1,_0x595d8c=Math[_0x26d955(0x21c)](_0x481dd0[_0x26d955(0x99a)]/_0x5afdfe);return _0x481dd0['length']>_0x5afdfe&&(_0x481dd0=_0x481dd0[_0x26d955(0x97d)]((_0x2e9130-0x1)*_0x5afdfe,(_0x2e9130-0x1)*_0x5afdfe+_0x5afdfe)+_0x26d955(0x6ba)+(_0x2e9130+0x1)+_0x26d955(0x84d)+_0x595d8c+'.'),_0x1af3b2['trace']({'jobType':_0x5107d7['Skill'],'type':_0xe86f5a[_0x26d955(0x8f1)],'jobId':_0xf421b3,'agentId':_0xc83114,'threadId':_0x4291e8,'blockId':_0x26302b,'traceLevel':_0x125b14[_0x26d955(0x142)],'startTime':_0x148b39,'timestamp':Date[_0x26d955(0x873)](),'status':_0x2505da['ok']?'success':_0x26d955(0x716),'url':_0x4fb15a[_0x26d955(0x14f)],'page':_0x2e9130,'totalPages':_0x595d8c,'response':_0x481dd0}),_0x481dd0;}catch(_0x573dd5){console[_0x26d955(0x716)](_0x573dd5);const _0x32656f=_0x573dd5 instanceof Error?_0x573dd5[_0x26d955(0x12c)]:'Error\x20fetching\x20URL';return _0x1af3b2[_0x26d955(0x8a4)]({'jobType':_0x5107d7[_0x26d955(0x444)],'type':_0xe86f5a[_0x26d955(0x8f1)],'jobId':_0xf421b3,'blockId':_0x26302b,'threadId':_0x4291e8,'traceLevel':_0x125b14[_0x26d955(0x142)],'startTime':_0x148b39,'timestamp':Date[_0x26d955(0x873)](),'agentId':_0xc83114,'status':_0x26d955(0x716),'errorDetails':_0x3fa395(_0x573dd5),'url':_0x4fb15a?.[_0x26d955(0x14f)]??'','page':0x0,'totalPages':0x0,'response':_0x32656f}),_0x32656f;}}};}async function _0x48cb93(_0x40d1a,_0x23fb8d,_0x511ccc,_0xcb096e,_0x1adb8b,_0x4713cb,_0x18eca2,_0x16141a){const _0x1807ca=_0x4d9d4f,_0x1b0e95=new Map(),_0x1c88c0=_0x4713cb[_0x1807ca(0x64c)](_0x42efee=>_0x42efee[_0x1807ca(0x88a)]?.[_0x1807ca(0x211)](_0x4616b6=>_0x4616b6[_0x1807ca(0x9d1)]===_0x1adb8b[_0x1807ca(0x9d1)]&&(_0x4616b6[_0x1807ca(0x506)]===_0xefbe07[_0x1807ca(0x935)]||_0x4616b6[_0x1807ca(0x506)]===_0xefbe07[_0x1807ca(0x444)])));for(const _0x50f487 of _0x1c88c0)_0x50f487[_0x1807ca(0x506)]===_0x3725ec['Knowledge']||_0x50f487[_0x1807ca(0x506)]===_0x3725ec[_0x1807ca(0x351)]?_0x1b0e95[_0x1807ca(0xcd)]('searchInDataCollection'+_0x50f487[_0x1807ca(0x697)][_0x1807ca(0x5cc)](/[^a-zA-Z]/g,''),_0x2ceaab(_0x40d1a,_0x23fb8d,_0x511ccc,_0xcb096e,_0x50f487,_0x18eca2,_0x16141a)):_0x50f487[_0x1807ca(0x506)]===_0x3725ec[_0x1807ca(0x63c)]||_0x50f487['type']===_0x3725ec[_0x1807ca(0x4ec)]?_0x1b0e95[_0x1807ca(0xcd)]('executeAgent'+_0x50f487['name'][_0x1807ca(0x5cc)](/[^a-zA-Z]/g,''),_0x2f0f04(_0x40d1a,_0x23fb8d,_0x511ccc,_0xcb096e,_0x50f487,_0x4713cb,_0x18eca2,_0x16141a)):_0x50f487[_0x1807ca(0x506)]===_0x3725ec[_0x1807ca(0x5ce)]?_0x1b0e95['set'](_0x50f487[_0x1807ca(0x697)][_0x1807ca(0x5cc)](/[^a-zA-Z]/g,''),_0x1b5ace(_0x40d1a,_0x23fb8d,_0x511ccc,_0x50f487,_0x4713cb,_0x16141a)):_0x1b0e95[_0x1807ca(0xcd)](_0x5eecbe(_0x50f487),await _0xefe2c3(_0x40d1a,_0x23fb8d,_0x511ccc,_0x50f487,_0x18eca2,_0x16141a));return _0x1b0e95;}function _0x5eecbe(_0x30d14f){const _0x54fa9b=_0x4d9d4f;switch(_0x30d14f[_0x54fa9b(0x506)]){case _0x3725ec['Code']:return'executeJavascriptCodeSnippet';case _0x3725ec[_0x54fa9b(0x262)]:return'searchOnGoogle';case _0x3725ec[_0x54fa9b(0x1da)]:return _0x54fa9b(0x73e);case _0x3725ec['QueryFile']:return _0x54fa9b(0x34d);case _0x3725ec['WebScraper']:case _0x3725ec[_0x54fa9b(0x8e5)]:return _0x54fa9b(0xe5);}throw new Error('Unknown\x20skill\x20type');}async function _0xefe2c3(_0x45b58f,_0x42d2e9,_0x281f89,_0x388632,_0x421e62,_0x4b77c1){const _0x4c4496=_0x4d9d4f;switch(_0x388632[_0x4c4496(0x506)]){case _0x3725ec[_0x4c4496(0x89e)]:return function(_0x1d7f1c,_0x135a3f,_0x596235,_0x4a5f8a,_0x6cef9c){const _0x5e25f5=_0x4c4496,_0x53f50c='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x3c1d4d={'code':{'type':_0x2477c2[_0x5e25f5(0x897)]['String']}};return _0x1af3b2[_0x5e25f5(0x8a4)]({'jobType':_0x5107d7[_0x5e25f5(0x22a)],'type':_0x472100[_0x5e25f5(0x92c)],'jobId':_0x1d7f1c,'agentId':_0x135a3f,'threadId':_0x596235,'traceLevel':_0x125b14[_0x5e25f5(0x142)],'startTime':Date[_0x5e25f5(0x873)](),'timestamp':Date[_0x5e25f5(0x873)](),'status':_0x5e25f5(0x84a),'function':_0xe86f5a[_0x5e25f5(0x572)],'params':_0x3c1d4d,'functionDescription':_0x53f50c}),{'description':_0x53f50c,'params':_0x3c1d4d,'callback':async _0x1ff766=>{const _0x47cf95=_0x5e25f5,_0x516147=Date[_0x47cf95(0x873)]();try{if(_0x6cef9c&&(await _0x135d86['wait'](0x1),_0x6cef9c[_0x47cf95(0x79d)]({'output':_0x47cf95(0x929),'type':_0x47cf95(0x171)})),'string'!=typeof _0x1ff766?.[_0x47cf95(0x1c1)])throw new Error(_0x47cf95(0x5bd));const _0x1984dd=Function(''+_0x1ff766?.['code'])();let _0x19b8c5='';try{_0x19b8c5=JSON[_0x47cf95(0x446)](_0x1984dd);}catch{_0x19b8c5=_0x1984dd[_0x47cf95(0x77f)]();}return _0x1af3b2[_0x47cf95(0x8a4)]({'jobType':_0x5107d7[_0x47cf95(0x444)],'type':_0xe86f5a[_0x47cf95(0x572)],'agentId':_0x135a3f,'threadId':_0x596235,'jobId':_0x1d7f1c,'blockId':_0x4a5f8a,'traceLevel':_0x125b14['Info'],'startTime':_0x516147,'timestamp':Date[_0x47cf95(0x873)](),'status':_0x47cf95(0x84a),'code':_0x1ff766['code'],'result':_0x19b8c5}),_0x1984dd;}catch(_0x259088){return console[_0x47cf95(0x716)](_0x259088),_0x1af3b2[_0x47cf95(0x8a4)]({'jobType':_0x5107d7['Skill'],'type':_0xe86f5a[_0x47cf95(0x572)],'jobId':_0x1d7f1c,'blockId':_0x4a5f8a,'traceLevel':_0x125b14[_0x47cf95(0x142)],'startTime':_0x516147,'timestamp':Date['now'](),'status':_0x47cf95(0x716),'errorDetails':_0x3fa395(_0x259088),'agentId':_0x135a3f,'threadId':_0x596235,'code':_0x1ff766?.['code']??'','result':_0x47cf95(0x5b5)}),_0x259088 instanceof Error?_0x259088[_0x47cf95(0x12c)]:_0x47cf95(0x5b5);}}};}(_0x45b58f,_0x42d2e9,_0x281f89,_0x388632['id'],_0x4b77c1);case _0x3725ec[_0x4c4496(0x54c)]:return async function(_0x52c3f5,_0x41b6d3,_0x347037,_0x1d5e2b,_0x4773a5,_0x58cf8c){const _0x38b2af=_0x4c4496;if(!_0x1d5e2b['accumulated']?.[_0x38b2af(0x96e)]||0x0===_0x1d5e2b[_0x38b2af(0x56a)][_0x38b2af(0x96e)]['length'])throw new Error('No\x20files\x20found');if(_0x1d5e2b[_0x38b2af(0x56a)]['files'][_0x38b2af(0x99a)]>0x1)throw new Error('Multiple\x20files\x20found');const _0x3d0d88=[',',';','\x09','|',':'],_0x402fee=['\x22','\x27'],_0x23c2fe=await _0x1d5e2b[_0x38b2af(0x56a)][_0x38b2af(0x96e)][0x0][_0x38b2af(0x50e)](),_0x4091a8=_0x23c2fe['split']('\x0a')[0x0];let _0x1b7e32=null,_0x57d930=null,_0x5bccee=0x0;for(const _0xdae767 of _0x3d0d88){const _0x25633c=(_0x4091a8['match'](new RegExp('\x5c'+_0xdae767,'g'))||[])[_0x38b2af(0x99a)];_0x25633c>_0x5bccee&&(_0x5bccee=_0x25633c,_0x1b7e32=_0xdae767);}_0x1b7e32||(_0x1b7e32=','),_0x5bccee=0x0;for(const _0x2fc843 of _0x402fee){const _0x1cb950=(_0x4091a8['match'](new RegExp('\x5c'+_0x2fc843,'g'))||[])[_0x38b2af(0x99a)];_0x1cb950>_0x5bccee&&(_0x5bccee=_0x1cb950,_0x57d930=_0x2fc843);}_0x57d930||(_0x57d930='\x22');const _0x470776=_0x38b2af(0x23e)+_0x4091a8[_0x38b2af(0xaf)](_0x1b7e32)[_0x38b2af(0x6de)](',\x20'),_0xbfcbe1={'query':{'type':_0x2477c2[_0x38b2af(0x897)]['String']}};return _0x1af3b2[_0x38b2af(0x8a4)]({'jobType':_0x5107d7[_0x38b2af(0x22a)],'type':_0x472100[_0x38b2af(0x92c)],'jobId':_0x52c3f5,'agentId':_0x41b6d3,'threadId':_0x347037,'traceLevel':_0x125b14[_0x38b2af(0x142)],'startTime':Date[_0x38b2af(0x873)](),'timestamp':Date[_0x38b2af(0x873)](),'status':_0x38b2af(0x84a),'function':_0xe86f5a[_0x38b2af(0x54c)],'params':_0xbfcbe1,'functionDescription':_0x470776}),{'description':_0x470776,'params':_0xbfcbe1,'callback':async _0x1f4955=>{const _0x4c7e06=_0x38b2af,_0x1409a3=Date[_0x4c7e06(0x873)]();try{if(_0x58cf8c&&(await _0x135d86[_0x4c7e06(0x24a)](0x1),_0x58cf8c[_0x4c7e06(0x79d)]({'output':'\x0a\x0a`Executing\x20query`\x0a\x0a','type':_0x4c7e06(0x171)})),!_0x4773a5[_0x4c7e06(0x1c5)])throw new Error('Query\x20file\x20connector\x20not\x20set');if(_0x4c7e06(0x794)!=typeof _0x1f4955?.['query'])throw new Error(_0x4c7e06(0x534));if(!_0x1f4955[_0x4c7e06(0x28b)][_0x4c7e06(0x766)](_0x4c7e06(0x4e0)))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0x5e1c3b=await _0x4773a5[_0x4c7e06(0x1c5)]['executeQuery'](_0x23c2fe,_0x1f4955[_0x4c7e06(0x28b)],{'headers':!0x0,'quote':_0x57d930,'separator':_0x1b7e32});return _0x1af3b2[_0x4c7e06(0x8a4)]({'jobType':_0x5107d7[_0x4c7e06(0x444)],'type':_0xe86f5a['QueryFile'],'jobId':_0x52c3f5,'agentId':_0x41b6d3,'threadId':_0x347037,'blockId':_0x1d5e2b['id'],'traceLevel':_0x125b14['Info'],'startTime':_0x1409a3,'timestamp':Date['now'](),'status':'success','query':_0x1f4955[_0x4c7e06(0x28b)],'results':_0x5e1c3b}),_0x5e1c3b;}catch(_0x49be39){return console[_0x4c7e06(0x716)](_0x49be39),_0x1af3b2[_0x4c7e06(0x8a4)]({'jobType':_0x5107d7[_0x4c7e06(0x444)],'type':_0xe86f5a['QueryFile'],'jobId':_0x52c3f5,'blockId':_0x1d5e2b['id'],'traceLevel':_0x125b14['Info'],'startTime':_0x1409a3,'timestamp':Date['now'](),'status':_0x4c7e06(0x716),'errorDetails':_0x3fa395(_0x49be39),'agentId':_0x41b6d3,'threadId':_0x347037,'query':_0x1f4955?.[_0x4c7e06(0x28b)]??'','results':_0x4c7e06(0xea)}),_0x49be39 instanceof Error?_0x49be39[_0x4c7e06(0x12c)]:_0x4c7e06(0x53f);}}};}(_0x45b58f,_0x42d2e9,_0x281f89,_0x388632,_0x421e62,_0x4b77c1);case _0x3725ec[_0x4c4496(0x262)]:return function(_0x2ff5f3,_0x4ed5ab,_0x450cf0,_0x3607c5,_0x4bb652,_0x484e6f,_0x1b5566){const _0x395c8d=_0x4c4496,_0x1f8a88=_0x395c8d(0x9a9),_0x27b620={'query':{'type':_0x2477c2[_0x395c8d(0x897)][_0x395c8d(0x56d)]}};return _0x1af3b2[_0x395c8d(0x8a4)]({'jobType':_0x5107d7[_0x395c8d(0x22a)],'type':_0x472100[_0x395c8d(0x92c)],'jobId':_0x2ff5f3,'agentId':_0x4ed5ab,'threadId':_0x450cf0,'traceLevel':_0x125b14[_0x395c8d(0x142)],'startTime':Date[_0x395c8d(0x873)](),'timestamp':Date[_0x395c8d(0x873)](),'status':_0x395c8d(0x84a),'function':_0xe86f5a[_0x395c8d(0x55d)],'params':_0x27b620,'functionDescription':_0x1f8a88}),{'description':_0x1f8a88,'params':_0x27b620,'callback':async _0x608881=>{const _0x1351c0=_0x395c8d,_0x5d989e=Date['now']();try{if(_0x1b5566&&(await _0x135d86['wait'](0x1),_0x1b5566[_0x1351c0(0x79d)]({'output':_0x1351c0(0x31f)+_0x608881?.[_0x1351c0(0x28b)]+'`\x0a\x0a','type':_0x1351c0(0x171)})),!_0x484e6f[_0x1351c0(0x850)])throw new Error(_0x1351c0(0x439));if(_0x1351c0(0x794)!=typeof _0x608881?.[_0x1351c0(0x28b)])throw new Error('Query\x20is\x20required');const _0x5dbbc9=await _0x484e6f[_0x1351c0(0x850)]['search'](_0x608881[_0x1351c0(0x28b)],_0x4bb652,_0x10b302[_0x1351c0(0x3e6)]['searchEngineId']);let _0x18ddee='';for(const _0x840eaa of _0x5dbbc9)_0x18ddee+=_0x840eaa['title']+'\x20-\x20'+_0x840eaa['url']+'\x0a'+_0x840eaa[_0x1351c0(0x4d6)]+'\x0a\x0a';return _0x1af3b2['trace']({'jobType':_0x5107d7[_0x1351c0(0x444)],'type':_0xe86f5a[_0x1351c0(0x55d)],'jobId':_0x2ff5f3,'agentId':_0x4ed5ab,'threadId':_0x450cf0,'blockId':_0x3607c5,'traceLevel':_0x125b14['Info'],'startTime':_0x5d989e,'timestamp':Date['now'](),'status':'success','query':_0x608881[_0x1351c0(0x28b)],'results':_0x18ddee}),_0x18ddee;}catch(_0x5239fa){return console[_0x1351c0(0x716)](_0x5239fa),_0x1af3b2[_0x1351c0(0x8a4)]({'jobType':_0x5107d7[_0x1351c0(0x444)],'type':_0xe86f5a[_0x1351c0(0x55d)],'jobId':_0x2ff5f3,'blockId':_0x3607c5,'traceLevel':_0x125b14['Info'],'startTime':_0x5d989e,'timestamp':Date['now'](),'status':'error','errorDetails':_0x3fa395(_0x5239fa),'agentId':_0x4ed5ab,'threadId':_0x450cf0,'query':_0x608881?.[_0x1351c0(0x28b)]??'','results':_0x1351c0(0xea)}),_0x5239fa instanceof Error?_0x5239fa['message']:_0x1351c0(0xea);}}};}(_0x45b58f,_0x42d2e9,_0x281f89,_0x388632['id'],_0x421e62[_0x4c4496(0x6a6)],_0x421e62,_0x4b77c1);case _0x3725ec[_0x4c4496(0x1da)]:return function(_0x449fbe,_0x138c68,_0x195e4a,_0x4e464b,_0x2f9ffb,_0x4c01f9,_0x55902a){const _0x9a74a9=_0x4c4496,_0x20d82f=_0x9a74a9(0x87d),_0x459d18={'query':{'type':_0x2477c2[_0x9a74a9(0x897)]['String']}};return _0x1af3b2[_0x9a74a9(0x8a4)]({'jobType':_0x5107d7['JobContext'],'type':_0x472100[_0x9a74a9(0x92c)],'jobId':_0x449fbe,'agentId':_0x138c68,'threadId':_0x195e4a,'traceLevel':_0x125b14[_0x9a74a9(0x142)],'startTime':Date[_0x9a74a9(0x873)](),'timestamp':Date[_0x9a74a9(0x873)](),'status':_0x9a74a9(0x84a),'function':_0xe86f5a['SearchPerplexity'],'params':_0x459d18,'functionDescription':_0x20d82f}),{'description':_0x20d82f,'params':_0x459d18,'callback':async _0x498908=>{const _0x2cee61=_0x9a74a9,_0x3f2d0e=Date[_0x2cee61(0x873)]();try{if(_0x55902a&&(await _0x135d86['wait'](0x1),_0x55902a['emit']({'output':_0x2cee61(0x992)+_0x498908?.['query']+_0x2cee61(0x520),'type':_0x2cee61(0x171)})),!_0x4c01f9['aiSearchConnector'])throw new Error(_0x2cee61(0x245));if(_0x2cee61(0x794)!=typeof _0x498908?.[_0x2cee61(0x28b)])throw new Error('Query\x20is\x20required');const _0x5849e7=await _0x4c01f9['aiSearchConnector']['search'](_0x498908[_0x2cee61(0x28b)],_0x2f9ffb);return _0x1af3b2[_0x2cee61(0x8a4)]({'jobType':_0x5107d7[_0x2cee61(0x444)],'type':_0xe86f5a[_0x2cee61(0x77d)],'jobId':_0x449fbe,'agentId':_0x138c68,'threadId':_0x195e4a,'blockId':_0x4e464b,'traceLevel':_0x125b14[_0x2cee61(0x142)],'startTime':_0x3f2d0e,'timestamp':Date[_0x2cee61(0x873)](),'status':_0x2cee61(0x84a),'query':_0x498908[_0x2cee61(0x28b)],'results':_0x5849e7}),_0x5849e7;}catch(_0x469ebe){return console[_0x2cee61(0x716)](_0x469ebe),_0x1af3b2[_0x2cee61(0x8a4)]({'jobType':_0x5107d7[_0x2cee61(0x444)],'type':_0xe86f5a[_0x2cee61(0x77d)],'jobId':_0x449fbe,'blockId':_0x4e464b,'traceLevel':_0x125b14[_0x2cee61(0x142)],'startTime':_0x3f2d0e,'timestamp':Date['now'](),'status':_0x2cee61(0x716),'errorDetails':_0x3fa395(_0x469ebe),'agentId':_0x138c68,'threadId':_0x195e4a,'query':_0x498908?.[_0x2cee61(0x28b)]??'','results':_0x2cee61(0xea)}),_0x469ebe instanceof Error?_0x469ebe['message']:_0x2cee61(0xea);}}};}(_0x45b58f,_0x42d2e9,_0x281f89,_0x388632['id'],_0x421e62[_0x4c4496(0x559)],_0x421e62,_0x4b77c1);case _0x3725ec[_0x4c4496(0x877)]:return _0x59ec4d(_0x45b58f,_0x42d2e9,_0x281f89,_0x388632['id'],_0x4b77c1);case _0x3725ec[_0x4c4496(0x8e5)]:return _0x59ec4d(_0x45b58f,_0x42d2e9,_0x281f89,_0x388632['id'],_0x4b77c1,!0x1);}throw new Error(_0x4c4496(0x1a9));}function _0x3fa395(_0x25e567){const _0x58f02b=_0x4d9d4f;try{return JSON[_0x58f02b(0x446)](_0x25e567);}catch(_0x449c58){return _0x25e567 instanceof Error?_0x25e567[_0x58f02b(0x77f)]():_0x58f02b(0x8bb);}}async function _0x2dac01(_0x5b8ea6,_0x17c9a7,_0x34f0b1,_0x466ec8,_0x3989e2,_0x3737a9,_0xb8a8e3,_0x14e0fe,_0x56d4f3){const _0x4d44f5=_0x4d9d4f;if(_0x3737a9[_0x4d44f5(0x56a)]||(_0x3737a9['accumulated']={}),_0x17c9a7===_0xefbe07['Text']&&_0x4d44f5(0x794)==typeof _0x34f0b1&&(_0x3737a9['accumulated'][_0x4d44f5(0x171)]=_0x34f0b1),_0x3737a9[_0x4d44f5(0x7c6)]=_0x3737a9['timesCalled']?_0x3737a9[_0x4d44f5(0x7c6)]+0x1:0x1,_0x337514(_0x3737a9,_0xb8a8e3)>_0x3737a9['timesCalled'])return;if(_0x2644bc[_0x4d44f5(0x2dd)]('Processing\x20agent\x20block:\x20'+_0x3737a9[_0x4d44f5(0x697)],_0x3737a9[_0x4d44f5(0x7c6)]),!_0x3737a9[_0x4d44f5(0x56a)][_0x4d44f5(0x171)])throw new Error(_0x4d44f5(0x409)+_0x3737a9[_0x4d44f5(0x697)]);const _0x2d137f=_0x14e0fe[_0x4d44f5(0x1c6)]['find'](_0x1e30f5=>_0x1e30f5['id']===_0x3737a9[_0x4d44f5(0x471)]);if(!_0x2d137f)throw new Error(_0x4d44f5(0x437));if(!_0x14e0fe['generativeAIWorkerConnectors'][_0x4d44f5(0x211)](_0x5699f7=>_0x5699f7[_0x4d44f5(0x73b)]()===_0x2d137f[_0x4d44f5(0x304)]))throw new Error(_0x4d44f5(0x844));_0x56d4f3&&_0x56d4f3[_0x4d44f5(0x79d)]({'output':_0x4d44f5(0x6f3)+_0x3737a9[_0x4d44f5(0x697)]+_0x4d44f5(0x520),'type':_0x4d44f5(0x171)});const _0x108e77=Date[_0x4d44f5(0x873)](),_0x560686=(0x0,_0x4246fa['v4'])(),_0x7f97e5=_0x56d4f3?await async function(_0x137316,_0x2637c8,_0x4b5994,_0x5ad12d,_0x4bc1bb,_0x331d32,_0x435175,_0x2fedda){const _0x3ac689=_0x4d44f5,_0x24aafd=_0x2fedda[_0x3ac689(0x1c6)][_0x3ac689(0x211)](_0x357a4c=>_0x357a4c['id']===_0x4bc1bb['modelId']);if(!_0x24aafd)throw new Error(_0x3ac689(0x437));const _0x5d43c4=_0x2fedda[_0x3ac689(0x90e)][_0x3ac689(0x211)](_0x2120b7=>_0x2120b7['getEngineType']()===_0x24aafd[_0x3ac689(0x304)]);if(!_0x5d43c4)throw new Error(_0x3ac689(0x844));if(!_0x4bc1bb[_0x3ac689(0x56a)]||!_0x4bc1bb[_0x3ac689(0x56a)]['prompt'])throw new Error(_0x3ac689(0x244));const _0x4dc299={'type':_0x3ac689(0x171),'output':''};for await(const _0x1d3fe3 of _0x5d43c4[_0x3ac689(0x915)]({'type':_0x4b5994['type'],'prompt':_0x593dbb(_0x4bc1bb['accumulated'][_0x3ac689(0x171)],_0x4bc1bb),'instructions':_0x5c8abd(_0x4b5994[_0x3ac689(0x80f)]??'',_0x4bc1bb,_0x24aafd),'grammar':_0x4bc1bb[_0x3ac689(0x1bc)],'temperature':_0x4bc1bb[_0x3ac689(0x5d7)],'maxTokens':_0x4bc1bb[_0x3ac689(0x1f4)],'history':_0x4b5994[_0x3ac689(0x4b1)],'functions':await _0x48cb93(_0x137316,_0x2637c8,_0x4b5994[_0x3ac689(0x46f)],_0x5ad12d,_0x4bc1bb,_0x331d32,_0x2fedda,_0x435175),'threadId':_0x4b5994[_0x3ac689(0x46f)]},{'model':_0x24aafd,'sequences':0x2}))_0x4bc1bb[_0x3ac689(0x88a)]&&_0x4bc1bb[_0x3ac689(0x88a)][_0x3ac689(0x985)](_0x4cbd12=>{const _0x5928f9=_0x3ac689,_0x15f596=_0x331d32[_0x5928f9(0x211)](_0x383560=>_0x383560['uid']===_0x4cbd12['uid']);return!!_0x15f596&&_0x4cbd12[_0x5928f9(0x506)]===_0xefbe07[_0x5928f9(0x41b)]&&_0x15f596[_0x5928f9(0x506)]===_0x3725ec[_0x5928f9(0x109)];})&&_0x435175[_0x3ac689(0x79d)](_0x1d3fe3),_0x3ac689(0x794)==typeof _0x4dc299[_0x3ac689(0x86a)]&&_0x3ac689(0x794)==typeof _0x1d3fe3[_0x3ac689(0x86a)]&&(_0x4dc299[_0x3ac689(0x86a)]+=_0x1d3fe3['output']),_0x4dc299[_0x3ac689(0x67e)]=_0x1d3fe3['inputTokens'],_0x4dc299[_0x3ac689(0x23f)]=_0x1d3fe3[_0x3ac689(0x23f)];return _0x4dc299;}(_0x5b8ea6,_0x560686,_0x466ec8,_0x3989e2,_0x3737a9,_0xb8a8e3,_0x56d4f3,_0x14e0fe):await async function(_0x212c0a,_0x180655,_0x3fce50,_0x3069cb,_0x1974ce,_0x2d11bc,_0x13fe4d){const _0x543780=_0x4d44f5,_0x3ce391=_0x13fe4d[_0x543780(0x1c6)][_0x543780(0x211)](_0x5a3a30=>_0x5a3a30['id']===_0x1974ce['modelId']);if(!_0x3ce391)throw new Error('Model\x20not\x20found');const _0x276748=_0x13fe4d[_0x543780(0x90e)][_0x543780(0x211)](_0x23da63=>_0x23da63[_0x543780(0x73b)]()===_0x3ce391[_0x543780(0x304)]);if(!_0x276748)throw new Error('No\x20connector\x20found\x20for\x20model');if(!_0x1974ce[_0x543780(0x56a)]||!_0x1974ce[_0x543780(0x56a)][_0x543780(0x171)])throw new Error(_0x543780(0x244));return _0x276748['processJob']({'type':_0x543780(0x171),'prompt':_0x593dbb(_0x1974ce[_0x543780(0x56a)]['prompt'],_0x1974ce),'instructions':_0x5c8abd(_0x3fce50['instructions']??'',_0x1974ce,_0x3ce391),'grammar':_0x1974ce['grammar'],'temperature':_0x1974ce[_0x543780(0x5d7)],'maxTokens':_0x1974ce[_0x543780(0x1f4)],'history':_0x3fce50[_0x543780(0x4b1)],'functions':await _0x48cb93(_0x212c0a,_0x180655,_0x3fce50[_0x543780(0x46f)],_0x3069cb,_0x1974ce,_0x2d11bc,_0x13fe4d),'threadId':_0x3fce50[_0x543780(0x46f)]},{'model':_0x3ce391,'sequences':0x2});}(_0x5b8ea6,_0x560686,_0x466ec8,_0x3989e2,_0x3737a9,_0xb8a8e3,_0x14e0fe);if(_0x4d44f5(0x794)!=typeof _0x7f97e5[_0x4d44f5(0x86a)])throw new Error(_0x4d44f5(0x831));_0x3989e2['inputTokens']+=_0x7f97e5[_0x4d44f5(0x67e)]??0x0,_0x3989e2['outputTokens']+=_0x7f97e5['outputTokens']??0x0,_0x1af3b2[_0x4d44f5(0x8a4)]({'jobType':_0x5107d7[_0x4d44f5(0x2d5)],'type':_0x1d3785[_0x4d44f5(0x3ae)],'jobId':_0x5b8ea6,'agentId':_0x560686,'threadId':_0x466ec8['threadId'],'traceLevel':_0x125b14[_0x4d44f5(0x142)],'startTime':_0x108e77,'timestamp':Date[_0x4d44f5(0x873)](),'blockId':_0x3737a9['id'],'status':_0x4d44f5(0x84a),'output':_0x7f97e5[_0x4d44f5(0x86a)],'prompt':_0x3737a9[_0x4d44f5(0x56a)][_0x4d44f5(0x171)],'agentName':_0x3737a9[_0x4d44f5(0x697)],'history':[],'instructions':''+_0x3737a9[_0x4d44f5(0x80f)]+(_0x466ec8[_0x4d44f5(0x80f)]??''),'ragContext':_0x7f97e5[_0x4d44f5(0x424)]??[],'inputTokens':_0x7f97e5[_0x4d44f5(0x67e)]??0x0,'outputTokens':_0x7f97e5[_0x4d44f5(0x23f)]??0x0}),_0x1fdde9(_0x7f97e5[_0x4d44f5(0x86a)],_0x3737a9,_0xb8a8e3),await _0x407d9d(_0x5b8ea6,_0x7f97e5[_0x4d44f5(0x86a)],_0x466ec8,_0x3989e2,_0x3737a9,_0xb8a8e3,_0x14e0fe,_0x56d4f3);}function _0x593dbb(_0x30792f,_0x30516c){const _0x42ebba=_0x4d9d4f;if(!_0x30516c[_0x42ebba(0x56a)]||!_0x30516c[_0x42ebba(0x56a)][_0x42ebba(0x424)])return _0x30792f;if(_0x30516c[_0x42ebba(0x56a)][_0x42ebba(0x424)])for(const _0x28e121 of Object[_0x42ebba(0x224)](_0x30516c['accumulated'][_0x42ebba(0x424)])){const _0xea53bc=_0x30516c['accumulated'][_0x42ebba(0x424)][_0x28e121];_0x30792f=_0xea53bc instanceof Array?_0x42ebba(0x795)+_0x28e121+_0x42ebba(0x901)+_0xea53bc['map'](_0x45e121=>'From\x20'+_0x45e121[_0x42ebba(0x3ba)]+':\x20'+_0x45e121[_0x42ebba(0x108)])[_0x42ebba(0x6de)]('\x0a\x0a')+'\x0a\x0a'+_0x30792f:'Given\x20'+_0x28e121+':\x20'+_0xea53bc+'\x0a\x0a'+_0x30792f;}return _0x30792f;}function _0x5c8abd(_0x30d788,_0x482636,_0x344006){const _0x2a9add=_0x4d9d4f;let _0x5db8a3='';return _0x344006[_0x2a9add(0x58e)]&&''!==_0x344006[_0x2a9add(0x58e)]&&(_0x5db8a3=_0x2a9add(0x8db)+_0x344006['knowledgeCutoffDate']+'\x0a\x0a'),_0x5db8a3=_0x5db8a3+_0x2a9add(0x203)+new Date()[_0x2a9add(0xa3)](void 0x0,{'weekday':_0x2a9add(0x566),'year':_0x2a9add(0x349),'month':_0x2a9add(0x566),'day':'numeric'})+'\x0a\x0a',''+_0x5db8a3+_0x482636[_0x2a9add(0x80f)]+_0x30d788;}function _0x51bbe2(_0x4ad757,_0x3d7d9e,_0x791f11){const _0x19f60f=_0x4d9d4f;_0x791f11['accumulated']||(_0x791f11[_0x19f60f(0x56a)]={}),_0x791f11[_0x19f60f(0x56a)][_0x19f60f(0x424)]||(_0x791f11[_0x19f60f(0x56a)]['context']={});const _0x19be3e=_0x791f11[_0x19f60f(0x1fa)]?.[_0x19f60f(0xaf)](',');_0x19be3e&&_0x19be3e[_0x19f60f(0x766)](_0x4ad757)&&(_0x791f11[_0x19f60f(0x56a)][_0x19f60f(0x424)][_0x4ad757]=_0x3d7d9e);}function _0x51042c(_0x104703,_0x176057,_0x13c5aa,_0x34a536){const _0x483580=_0x4d9d4f;_0x104703===_0xefbe07[_0x483580(0xca)]&&(_0x34a536[_0x483580(0x56a)]||(_0x34a536[_0x483580(0x56a)]={}),_0x34a536[_0x483580(0x56a)]['context']||(_0x34a536['accumulated'][_0x483580(0x424)]={}),_0x34a536[_0x483580(0x56a)][_0x483580(0x424)][_0x176057]=_0x13c5aa);}async function _0x3c2619(_0x28fde5,_0xa1f8b9,_0x1090df,_0x2d7835,_0x32e7b8,_0x915131,_0x3e109e,_0x23d4c){const _0x31f323=function(_0x7b4343,_0xc8dab1){const _0x37a3bc=a0_0x1399,_0x44935b=[];for(let _0x2b4eaf=0x0;_0x2b4eaf<_0x7b4343[_0x37a3bc(0x99a)];_0x2b4eaf+=_0xc8dab1[_0x37a3bc(0x515)][_0x37a3bc(0x573)]){let _0x27fa92=_0x2b4eaf-_0xc8dab1[_0x37a3bc(0x515)][_0x37a3bc(0x4b0)];_0x27fa92<0x0&&(_0x27fa92=0x0);let _0x2d4bc5=_0x2b4eaf+_0xc8dab1[_0x37a3bc(0x515)][_0x37a3bc(0x573)]+_0xc8dab1[_0x37a3bc(0x515)]['overlap'];_0x2d4bc5>_0x7b4343['length']&&(_0x2d4bc5=_0x7b4343[_0x37a3bc(0x99a)]),length||(length=_0x2b4eaf+_0xc8dab1['attributes'][_0x37a3bc(0x573)],length>_0x7b4343['length']&&(length=_0x7b4343['length'])),_0x44935b[_0x37a3bc(0x9e2)](_0x7b4343[_0x37a3bc(0x97d)](_0x27fa92,_0x2d4bc5));}return _0x44935b;}(_0xa1f8b9,_0x32e7b8);await _0x407d9d(_0x28fde5,_0x31f323,_0x1090df,_0x2d7835,_0x32e7b8,_0x915131,_0x3e109e,_0x23d4c);}function _0x1e814b(_0x5374d8,_0x585a90,_0x19f1d1){const _0x5a4dbd=_0x4d9d4f;_0x19f1d1['accumulated']||(_0x19f1d1[_0x5a4dbd(0x56a)]={}),_0x19f1d1[_0x5a4dbd(0x56a)][_0x5a4dbd(0x424)]||(_0x19f1d1['accumulated'][_0x5a4dbd(0x424)]={}),_0x19f1d1['accumulated'][_0x5a4dbd(0x424)][_0x5374d8]=_0x585a90;}async function _0x32b6c5(_0xc78c6c,_0x4806d2,_0x5135c0,_0x3c34fd,_0x32e3d9,_0x2ffcbf,_0x447e4b,_0x3ceea8){const _0x4f9629=_0x4d9d4f;if(_0x32e3d9[_0x4f9629(0x56a)]||(_0x32e3d9[_0x4f9629(0x56a)]={}),_0x32e3d9[_0x4f9629(0x56a)]['queries']||(_0x32e3d9[_0x4f9629(0x56a)][_0x4f9629(0x76f)]=[]),_0x4806d2 instanceof Array?_0x32e3d9['accumulated'][_0x4f9629(0x76f)]['push'](..._0x4806d2):_0x32e3d9[_0x4f9629(0x56a)]['queries'][_0x4f9629(0x9e2)](_0x4806d2),_0x32e3d9['timesCalled']=_0x32e3d9[_0x4f9629(0x7c6)]?_0x32e3d9[_0x4f9629(0x7c6)]+0x1:0x1,_0x337514(_0x32e3d9,_0x2ffcbf)>_0x32e3d9[_0x4f9629(0x7c6)])return;if(0x0===_0x32e3d9[_0x4f9629(0x56a)][_0x4f9629(0x76f)]['length'])throw new Error(_0x4f9629(0x257));let _0x3935c2=[];const _0x3c02c0=Date[_0x4f9629(0x873)]();try{let _0x3358d9=0x0,_0xbca523=0x0;for(const _0x506342 of _0x32e3d9[_0x4f9629(0x56a)][_0x4f9629(0x76f)]){const _0x497158=_0x32e3d9['retrieveBlocks'][_0x4f9629(0x211)](_0x4defed=>_0x4defed[_0x4f9629(0x506)]===_0x57a82a[_0x4f9629(0x4e9)]),_0x22c029=await _0x11ed3e(_0xc78c6c,_0x5135c0[_0x4f9629(0x46f)],_0x506342,_0x497158,_0x32e3d9['retrieveBlocks'],_0x447e4b);_0x3935c2=Array['from'](new Set([..._0x3935c2,..._0x22c029['context']])),_0x3358d9+=_0x22c029[_0x4f9629(0x67e)]??0x0,_0xbca523+=_0x22c029[_0x4f9629(0x23f)]??0x0;}_0x3c34fd[_0x4f9629(0x67e)]+=_0x3358d9,_0x3c34fd[_0x4f9629(0x23f)]+=_0xbca523,_0x3c34fd['context']=Array[_0x4f9629(0x376)](new Set([..._0x3c34fd['context'],..._0x3935c2])),_0x1af3b2[_0x4f9629(0x8a4)]({'jobType':_0x5107d7[_0x4f9629(0x2d5)],'type':_0x1d3785[_0x4f9629(0x351)],'jobId':_0xc78c6c,'threadId':_0x5135c0[_0x4f9629(0x46f)],'traceLevel':_0x125b14[_0x4f9629(0x142)],'startTime':_0x3c02c0,'timestamp':Date['now'](),'blockId':_0x32e3d9['id'],'status':_0x4f9629(0x84a),'queries':_0x32e3d9[_0x4f9629(0x56a)][_0x4f9629(0x76f)],'context':_0x3935c2,'inputTokens':_0x3358d9,'outputTokens':_0xbca523});}catch(_0x307acb){console[_0x4f9629(0x716)](_0x307acb),_0x1af3b2[_0x4f9629(0x8a4)]({'jobType':_0x5107d7[_0x4f9629(0x2d5)],'type':_0x1d3785[_0x4f9629(0x351)],'jobId':_0xc78c6c,'threadId':_0x5135c0[_0x4f9629(0x46f)],'traceLevel':_0x125b14[_0x4f9629(0x142)],'startTime':_0x3c02c0,'timestamp':Date[_0x4f9629(0x873)](),'blockId':_0x32e3d9['id'],'status':_0x4f9629(0x716),'queries':_0x32e3d9[_0x4f9629(0x56a)]['queries'],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x1fdde9(_0x3935c2,_0x32e3d9,_0x2ffcbf),await _0x407d9d(_0xc78c6c,'',_0x5135c0,_0x3c34fd,_0x32e3d9,_0x2ffcbf,_0x447e4b,_0x3ceea8);}async function _0x15281b(_0x48ec36,_0x24ef6a,_0x2866c6,_0x36b8b3,_0x9bccb9,_0xc45db2,_0x47d701,_0x19f323){const _0x6a8218=_0x4d9d4f,_0x1026f8=await _0x47d701[_0x6a8218(0x4de)][_0x6a8218(0x35d)](_0x24ef6a);await _0x407d9d(_0x48ec36,_0x1026f8,_0x2866c6,_0x36b8b3,_0x9bccb9,_0xc45db2,_0x47d701,_0x19f323);}async function _0x5d5d4e(_0x23107e,_0x2d27ea,_0x2051ed,_0x1ddb14,_0x32f102,_0x1acf83,_0x42b85f,_0x4907ef){const _0x5c980a=function(_0x29c238,_0xe5b8e){const _0x452667=a0_0x1399,_0x1214a7=[],_0x42573e=_0x29c238[_0x452667(0xaf)]('\x20');let _0x5af1b6='',_0x10cb35=0x0,_0x52619f=0x0,_0x38e36f=0x0;for(const _0x1e8e43 of _0x42573e){if(_0x5af1b6[_0x452667(0x99a)]+_0x1e8e43[_0x452667(0x99a)]>_0xe5b8e[_0x452667(0x515)]['size']){let _0x28af46=_0x10cb35,_0x45a4f8='';for(;_0x28af46>=0x0&&_0x45a4f8['length']+_0x42573e[_0x28af46][_0x452667(0x99a)]<_0xe5b8e[_0x452667(0x515)][_0x452667(0x4b0)];)_0x45a4f8=_0x42573e[_0x28af46]+'\x20'+_0x45a4f8,_0x28af46--;let _0x31be1e=_0x52619f,_0xe787b7='';for(;_0x31be1e<_0x42573e[_0x452667(0x99a)]&&_0xe787b7[_0x452667(0x99a)]+_0x42573e[_0x31be1e][_0x452667(0x99a)]<_0xe5b8e[_0x452667(0x515)][_0x452667(0x4b0)];)_0xe787b7+=_0x42573e[_0x31be1e]+'\x20',_0x31be1e++;_0x5af1b6=_0x45a4f8+_0x5af1b6+_0xe787b7,_0x1214a7['push'](_0x5af1b6[_0x452667(0x273)]()),_0x5af1b6='',_0x10cb35=_0x52619f;}_0x5af1b6+=_0x1e8e43+'\x20',_0x52619f++,_0x38e36f+=_0x1e8e43[_0x452667(0x99a)]+0x1;}if(_0x5af1b6[_0x452667(0x99a)]>0x0){let _0x13127a=_0x10cb35,_0x15aaac='';for(;_0x13127a>=0x0&&_0x15aaac[_0x452667(0x99a)]+_0x42573e[_0x13127a][_0x452667(0x99a)]<_0xe5b8e[_0x452667(0x515)][_0x452667(0x4b0)];)_0x15aaac=_0x42573e[_0x13127a]+'\x20'+_0x15aaac,_0x13127a--;_0x5af1b6=_0x15aaac+_0x5af1b6,_0x1214a7[_0x452667(0x9e2)](_0x5af1b6[_0x452667(0x273)]());}return _0x1214a7;}(_0x2d27ea,_0x32f102);await _0x407d9d(_0x23107e,_0x5c980a,_0x2051ed,_0x1ddb14,_0x32f102,_0x1acf83,_0x42b85f,_0x4907ef);}function _0x1fdde9(_0x213d38,_0x49c4cc,_0x35c09a,_0x35e987){const _0x141286=_0x4d9d4f;if(_0x49c4cc[_0x141286(0x88a)])for(const _0x336769 of _0x49c4cc[_0x141286(0x88a)]){if(_0x336769[_0x141286(0x506)]!==_0xefbe07[_0x141286(0xca)])continue;const _0x21f512=_0x35c09a[_0x141286(0x211)](_0x590bcd=>_0x590bcd[_0x141286(0x9d1)]===_0x336769[_0x141286(0x9d1)]);if(!_0x21f512)continue;let _0x58f0b1=_0x49c4cc['id'];switch(_0x35e987?_0x58f0b1=_0x35e987:(_0x49c4cc[_0x141286(0x506)]===_0x3725ec[_0x141286(0x351)]&&(_0x58f0b1=_0x49c4cc[_0x141286(0x697)]),_0x49c4cc[_0x141286(0x506)]!==_0x3725ec[_0x141286(0x4ec)]&&_0x49c4cc[_0x141286(0x506)]!==_0x3725ec[_0x141286(0x63c)]&&_0x49c4cc[_0x141286(0x506)]!==_0x3725ec[_0x141286(0x5ce)]||(_0x58f0b1=_0x49c4cc['contextOutputVariable']??_0x49c4cc[_0x141286(0x697)])),_0x21f512[_0x141286(0x506)]){case _0x3725ec[_0x141286(0x4ec)]:_0x2644bc['forceLog'](_0x141286(0x15b),_0x21f512[_0x141286(0x697)],_0x58f0b1),_0x21f512[_0x141286(0x56a)]||(_0x21f512[_0x141286(0x56a)]={}),_0x21f512[_0x141286(0x56a)][_0x141286(0x424)]||(_0x21f512['accumulated']['context']={});const _0x28bd7d=_0x21f512[_0x141286(0x1fa)]?.['split'](',');if(!(_0x28bd7d&&_0x28bd7d[_0x141286(0x766)](_0x58f0b1)||_0x141286(0x833)===_0x58f0b1))return;_0x21f512[_0x141286(0x56a)][_0x141286(0x424)][_0x58f0b1]=_0x213d38;break;case _0x3725ec[_0x141286(0x63c)]:_0x2644bc[_0x141286(0x2dd)]('Setting\x20context\x20for\x20agent\x20skill\x20block',_0x21f512['name'],_0x58f0b1),_0x51bbe2(_0x58f0b1,_0x213d38,_0x21f512);break;case _0x3725ec[_0x141286(0x109)]:_0x2644bc[_0x141286(0x2dd)](_0x141286(0x79c),_0x58f0b1),_0x141286(0x794)==typeof _0x213d38&&_0x51042c(_0x336769[_0x141286(0x506)],_0x58f0b1,_0x213d38,_0x21f512);break;case _0x3725ec[_0x141286(0x5ce)]:_0x2644bc[_0x141286(0x2dd)](_0x141286(0x415),_0x21f512[_0x141286(0x697)],_0x58f0b1),_0x141286(0x794)==typeof _0x213d38&&_0x1e814b(_0x58f0b1,_0x213d38,_0x21f512);}}}async function _0x407d9d(_0x3b8788,_0x2f4ff2,_0x4140a9,_0x25a723,_0x15f009,_0x4725b3,_0xe8ce1f,_0x5e0b05){const _0x56678a=_0x4d9d4f;if(await _0x135d86[_0x56678a(0x24a)](0x1),_0x15f009['links']){for(const _0x288dc8 of _0x15f009[_0x56678a(0x88a)]){if(_0x288dc8[_0x56678a(0x506)]===_0xefbe07['Context'])continue;const _0x43bf2a=_0x4725b3[_0x56678a(0x211)](_0x4f92d9=>_0x4f92d9['uid']===_0x288dc8['uid']);if(_0x43bf2a)switch(_0x43bf2a['type']){case _0x3725ec[_0x56678a(0x4ec)]:_0x288dc8[_0x56678a(0x506)]!==_0xefbe07[_0x56678a(0x41b)]&&_0x288dc8[_0x56678a(0x506)]!==_0xefbe07[_0x56678a(0x556)]||_0x56678a(0x794)!=typeof _0x2f4ff2||await _0x2dac01(_0x3b8788,_0x288dc8[_0x56678a(0x506)],_0x2f4ff2,_0x4140a9,_0x25a723,_0x43bf2a,_0x4725b3,_0xe8ce1f,_0x5e0b05);break;case _0x3725ec[_0x56678a(0x82f)]:_0x288dc8[_0x56678a(0x506)]===_0xefbe07[_0x56678a(0x41b)]&&_0x56678a(0x794)==typeof _0x2f4ff2&&await _0x3c2619(_0x3b8788,_0x2f4ff2,_0x4140a9,_0x25a723,_0x43bf2a,_0x4725b3,_0xe8ce1f,_0x5e0b05);break;case _0x3725ec[_0x56678a(0x351)]:_0x288dc8[_0x56678a(0x506)]===_0xefbe07[_0x56678a(0x41b)]&&_0x56678a(0x794)==typeof _0x2f4ff2&&await _0x32b6c5(_0x3b8788,_0x2f4ff2,_0x4140a9,_0x25a723,_0x43bf2a,_0x4725b3,_0xe8ce1f,_0x5e0b05),_0x288dc8[_0x56678a(0x506)]===_0xefbe07[_0x56678a(0x41b)]&&_0x2f4ff2 instanceof Array&&await _0x32b6c5(_0x3b8788,_0x2f4ff2,_0x4140a9,_0x25a723,_0x43bf2a,_0x4725b3,_0xe8ce1f,_0x5e0b05);break;case _0x3725ec[_0x56678a(0x9e5)]:_0x288dc8['type']===_0xefbe07[_0x56678a(0x41b)]&&_0x56678a(0x794)==typeof _0x2f4ff2&&await _0x15281b(_0x3b8788,_0x2f4ff2,_0x4140a9,_0x25a723,_0x43bf2a,_0x4725b3,_0xe8ce1f,_0x5e0b05);break;case _0x3725ec['WordSplitter']:_0x288dc8['type']===_0xefbe07[_0x56678a(0x41b)]&&_0x56678a(0x794)==typeof _0x2f4ff2&&await _0x5d5d4e(_0x3b8788,_0x2f4ff2,_0x4140a9,_0x25a723,_0x43bf2a,_0x4725b3,_0xe8ce1f,_0x5e0b05);}}_0x15f009[_0x56678a(0x506)]===_0x3725ec[_0x56678a(0x4e9)]&&_0x5e0b05&&_0x5e0b05[_0x56678a(0x79d)](void 0x0);}else _0x15f009[_0x56678a(0x506)]===_0x3725ec[_0x56678a(0x4e9)]&&_0x5e0b05&&_0x5e0b05['emit'](void 0x0);}function _0x337514(_0x2331a4,_0x2a6ca4){const _0x4e0705=_0x4d9d4f;let _0x243318=0x0;for(const _0x682d8a of _0x2a6ca4)for(const _0x5f3e3a of _0x682d8a[_0x4e0705(0x88a)]??[])_0x5f3e3a[_0x4e0705(0x506)]!==_0xefbe07[_0x4e0705(0xca)]&&_0x5f3e3a[_0x4e0705(0x506)]!==_0xefbe07[_0x4e0705(0x935)]&&_0x5f3e3a[_0x4e0705(0x506)]!==_0xefbe07[_0x4e0705(0x444)]&&_0x5f3e3a[_0x4e0705(0x9d1)]===_0x2331a4[_0x4e0705(0x9d1)]&&_0x243318++;return _0x243318;}async function _0x110553(_0x44b16a,_0x3b108f,_0x18d41a,_0x2c365c){const _0x5c01fc=_0x4d9d4f;if(0x0===_0x44b16a[_0x5c01fc(0x99a)])return;let _0x1ec91d=_0x5c01fc(0x1d6);for(const _0x4ba641 of _0x44b16a)if(_0x4ba641['type'][_0x5c01fc(0x59a)](_0x5c01fc(0x587))||_0x561f47(_0x4ba641[_0x5c01fc(0x697)],_0x7542ed))_0x1ec91d+='\x0a<'+_0x4ba641['name']+'>\x0a'+await _0x4ba641[_0x5c01fc(0x50e)]()+'\x0a</'+_0x4ba641[_0x5c01fc(0x697)]+'>';else{if(!_0x2c365c[_0x5c01fc(0x6f4)]['supports'](_0x4ba641))throw new Error(_0x5c01fc(0x65a)+_0x4ba641[_0x5c01fc(0x506)]+_0x5c01fc(0x445)+_0x4ba641['name']);_0x1ec91d+='\x0a<'+_0x4ba641[_0x5c01fc(0x697)]+'>\x0a'+await _0x2c365c[_0x5c01fc(0x6f4)]['parse'](_0x4ba641)+_0x5c01fc(0x280)+_0x4ba641[_0x5c01fc(0x697)]+'>';}_0x1ec91d+=_0x5c01fc(0x18a),_0x1fdde9(_0x1ec91d,_0x3b108f,_0x18d41a,'file-upload');}function _0x128bb1(_0x380882,_0x4268de){const _0x3f1362=_0x4d9d4f;_0x4268de[_0x3f1362(0x56a)]||(_0x4268de[_0x3f1362(0x56a)]={}),_0x4268de[_0x3f1362(0x56a)][_0x3f1362(0x96e)]=_0x380882;}async function _0xaf433(_0x2e7ef9,_0x302d74,_0x4350f9,_0x490ed9){const _0x4273d7=_0x4d9d4f;if(_0x2e7ef9[_0x4273d7(0x96e)]&&_0x302d74[_0x4273d7(0x88a)]){const _0x1e219e=[];for(const _0x1ba2be of _0x2e7ef9['files'])_0x1e219e[_0x4273d7(0x9e2)](_0x5b91d6(_0x1ba2be));for(const _0xb1ab93 of _0x302d74[_0x4273d7(0x88a)])if('file'===_0xb1ab93['type']){const _0x550d45=_0x4350f9[_0x4273d7(0x211)](_0x22d8bd=>_0x22d8bd['uid']===_0xb1ab93[_0x4273d7(0x9d1)]);if(!_0x550d45)continue;_0x550d45['type']===_0x3725ec[_0x4273d7(0x6a3)]&&await _0x110553(_0x1e219e,_0x550d45,_0x4350f9,_0x490ed9),_0x550d45['type']===_0x3725ec['QueryFile']&&_0x128bb1(_0x1e219e,_0x550d45);}}}function _0x5b91d6(_0x2c80b8){const _0x646649=_0x4d9d4f,_0x3f5232=atob(_0x2c80b8['content']),_0xecd715=_0x3f5232[_0x646649(0x99a)],_0xf836b6=new ArrayBuffer(_0xecd715),_0x627664=new Uint8Array(_0xf836b6);for(let _0x5a7f05=0x0;_0x5a7f05<_0xecd715;_0x5a7f05++)_0x627664[_0x5a7f05]=_0x3f5232['charCodeAt'](_0x5a7f05);return new File([_0x627664],_0x2c80b8[_0x646649(0x697)],{'type':_0x2c80b8[_0x646649(0x506)]});}class _0x355350 extends _0x1d49f7{['localNode'];[_0x4d9d4f(0x4e6)];[_0x4d9d4f(0x845)];[_0x4d9d4f(0x90e)];[_0x4d9d4f(0x6f4)];['nlpLibraryConnector'];[_0x4d9d4f(0x6a6)];['aiSearchApiKey'];[_0x4d9d4f(0x850)];[_0x4d9d4f(0x336)];[_0x4d9d4f(0x1c5)];[_0x4d9d4f(0x6f0)];[_0x4d9d4f(0x6c7)];['dataStores']=new Map();[_0x4d9d4f(0x6bb)]=new Map();[_0x4d9d4f(0x2a6)];[_0x4d9d4f(0x1c6)]=new Map();['debounceStats'];[_0x4d9d4f(0x2d6)]=0x0;['tokens']=0x0;[_0x4d9d4f(0x743)]=!0x1;[_0x4d9d4f(0x815)]=[];[_0x4d9d4f(0xf0)]=!0x1;constructor(_0x2d1a86,_0xcd219c,_0x374884,_0x885b85,_0x7c51db,_0x1675dc,_0x2a6878,_0x575aae,_0x104393,_0x17c16c,_0xe6003c,_0x42d0d0,_0x26ebd2){const _0x5ac800=_0x4d9d4f;super(_0x2d1a86,_0xcd219c,_0x885b85),this[_0x5ac800(0x772)]=_0x2d1a86,this[_0x5ac800(0x4e6)]=_0x374884,this[_0x5ac800(0x845)]=_0x7c51db,this['generativeAIWorkerConnectors']=_0x1675dc,this[_0x5ac800(0x6f4)]=_0x2a6878,this[_0x5ac800(0x4de)]=_0x575aae,this[_0x5ac800(0x6a6)]=_0x104393,this[_0x5ac800(0x559)]=_0x17c16c,this[_0x5ac800(0x850)]=_0xe6003c,this[_0x5ac800(0x336)]=_0x42d0d0,this[_0x5ac800(0x1c5)]=_0x26ebd2;}async['destroy'](){const _0x5ff256=_0x4d9d4f;for(const _0x182c59 of this[_0x5ff256(0x90e)])await _0x182c59['close']();this[_0x5ff256(0x6c7)]?.['unsubscribe'](this[_0x5ff256(0x5da)]),this[_0x5ff256(0x6d1)][_0x5ff256(0x1dc)](_0x5d67b2=>_0x5d67b2[_0x5ff256(0x4f9)](this[_0x5ff256(0x5da)])),this[_0x5ff256(0x233)]&&(clearTimeout(this['debounceStats']),delete this['debounceStats']),super[_0x5ff256(0x6ef)]();}async[_0x4d9d4f(0x285)](_0x279651=!0x1){const _0x48d2fb=_0x4d9d4f;if(this['isOpened'])super[_0x48d2fb(0x285)]();else{if(_0x2644bc[_0x48d2fb(0x2dd)](_0x48d2fb(0x956),this[_0x48d2fb(0x5da)]),this[_0x48d2fb(0x6f0)]=await _0x58d5fa['getWorkflow'](this[_0x48d2fb(0x4e6)],this[_0x48d2fb(0x5da)]),this[_0x48d2fb(0x6c7)]=this[_0x48d2fb(0x845)][_0x48d2fb(0x237)](this[_0x48d2fb(0x6f0)][_0x48d2fb(0x2ab)]),!this[_0x48d2fb(0x6c7)])throw new Error(_0x48d2fb(0x3a1));this['initializeLoggingDatabase'](),_0x2644bc['forceLog'](_0x48d2fb(0x77e),this['workflow'][_0x48d2fb(0x1c6)]);for(const _0x1e2dcf of this['workflow'][_0x48d2fb(0x1c6)])try{let _0x71f5d7;_0x1e2dcf[_0x48d2fb(0x304)]===_0x2477c2[_0x48d2fb(0x170)]['Llamacpp']&&(_0x71f5d7=await this[_0x48d2fb(0x8c5)]('/'+_0x1e2dcf['id']+_0x2f9f01)),this[_0x48d2fb(0x1c6)][_0x48d2fb(0xcd)](_0x1e2dcf['id'],{'id':_0x1e2dcf['id'],'engineType':_0x1e2dcf[_0x48d2fb(0x304)],'taskType':_0x1e2dcf[_0x48d2fb(0x9c3)],'inputType':_0x1e2dcf[_0x48d2fb(0x373)],'outputType':_0x1e2dcf[_0x48d2fb(0x867)],'sourceUrl':_0x1e2dcf[_0x48d2fb(0x94a)],'pathName':_0x71f5d7});}catch(_0x22b1a7){await this['modelStore'][_0x48d2fb(0x817)]({'action':_0x2477c2[_0x48d2fb(0x6e3)]['File'],'file':new File([''],''+_0x1e2dcf['id']+_0x2f9f01),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x1e2dcf['sourceUrl']}}),this[_0x48d2fb(0x1c6)][_0x48d2fb(0xcd)](_0x1e2dcf['id'],{'id':_0x1e2dcf['id'],'engineType':_0x1e2dcf[_0x48d2fb(0x304)],'taskType':_0x1e2dcf[_0x48d2fb(0x9c3)],'inputType':_0x1e2dcf[_0x48d2fb(0x373)],'outputType':_0x1e2dcf[_0x48d2fb(0x867)],'sourceUrl':_0x1e2dcf[_0x48d2fb(0x94a)],'pathName':await this[_0x48d2fb(0x8c5)]('/'+_0x1e2dcf['id']+_0x2f9f01)});}try{for(const _0x2cc658 of this[_0x48d2fb(0x90e)])await _0x2cc658[_0x48d2fb(0x38c)](this[_0x48d2fb(0x5da)],this['models']);}catch(_0x449ae3){return this['open'](_0x279651);}for(const _0x45fb34 of this[_0x48d2fb(0x6f0)]['dataBucketIds'])this[_0x48d2fb(0x6d1)][_0x48d2fb(0xcd)](_0x45fb34,this[_0x48d2fb(0x845)][_0x48d2fb(0x237)](_0x45fb34));await this[_0x48d2fb(0x813)](),this[_0x48d2fb(0x4d4)]();for(const _0x32b1a1 of this[_0x48d2fb(0x6f0)][_0x48d2fb(0x28c)])this[_0x48d2fb(0x6bb)][_0x48d2fb(0xcd)](_0x32b1a1,this['contentMediator']['getExternalStorageConnection'](_0x32b1a1));await this['loadExternalContent'](),this['subscribeToExternalContent'](),this[_0x48d2fb(0x743)]=!0x0,this['sendStats'](),super[_0x48d2fb(0x285)](),_0x2644bc['forceLog']('GenerativeAIWorker:\x20Opened',this['label']);}}['reset'](){const _0x3c2aa7=_0x4d9d4f;this[_0x3c2aa7(0x2d6)]=0x0,this[_0x3c2aa7(0x182)]=0x0,this['sendStats'](),super[_0x3c2aa7(0x934)]();}[_0x4d9d4f(0x36c)](){const _0x354506=_0x4d9d4f;return this['sendStats'](),this[_0x354506(0x4e1)]();}[_0x4d9d4f(0x6fe)](_0x50c03c,_0x568836,_0x225a28){const _0x244d69=_0x4d9d4f,{outputTokens:_0x1d4b7f=0x0,output:_0x13c1b6=''}=_0x50c03c,_0x40a917=_0x1d4b7f/((_0x225a28-_0x568836)/0x3e8);this[_0x244d69(0x2d6)]+=0x1,this[_0x244d69(0x182)]+=_0x1d4b7f,this[_0x244d69(0x687)](_0x40a917,_0x1d4b7f),this['sendStats']();}[_0x4d9d4f(0x18c)](_0x3cf32e,_0x319ca5){const _0x185ec4=_0x4d9d4f;return _0x3cf32e['output']=_0x3cf32e['output']??'',{'type':_0x185ec4(0x171),'output':_0x185ec4(0x794)==typeof _0x3cf32e[_0x185ec4(0x86a)]&&_0x185ec4(0x794)==typeof _0x319ca5[_0x185ec4(0x86a)]?_0x3cf32e[_0x185ec4(0x86a)]+_0x319ca5['output']:_0x319ca5[_0x185ec4(0x86a)],'outputTokens':_0x319ca5[_0x185ec4(0x23f)]??_0x3cf32e[_0x185ec4(0x23f)],'inputTokens':_0x319ca5[_0x185ec4(0x67e)]??_0x3cf32e[_0x185ec4(0x67e)]};}async[_0x4d9d4f(0x7c8)](_0x3ffec7,_0x4ffec1){const _0x3e90fc=_0x4d9d4f;if(this[_0x3e90fc(0x6f0)]=await _0x58d5fa['getWorkflow'](this[_0x3e90fc(0x4e6)],this[_0x3e90fc(0x5da)]),_0x3e90fc(0x171)===_0x4ffec1[_0x3e90fc(0x506)]){const _0x46db97=this[_0x3e90fc(0x6f0)][_0x3e90fc(0x8f9)][_0x3e90fc(0x211)](_0x57b422=>_0x57b422[_0x3e90fc(0x506)]===_0x3725ec[_0x3e90fc(0x4e9)]),_0x48e82d=await async function(_0x36f137,_0x31a71f,_0x3a0a5e,_0x43f2e5,_0x5e3013){const _0x4b21c2=_0x3e90fc,_0x7fee56=(0x0,_0x4246fa['v4'])(),_0x25f0cb=Date[_0x4b21c2(0x873)]();if(_0x1af3b2['trace']({'jobType':_0x5107d7['Workflow'],'type':_0x1d3785[_0x4b21c2(0x3c1)],'jobId':_0x36f137,'blockId':_0x3a0a5e['id'],'agentId':_0x7fee56,'threadId':_0x31a71f['threadId'],'traceLevel':_0x125b14[_0x4b21c2(0x142)],'startTime':Date[_0x4b21c2(0x873)](),'timestamp':Date[_0x4b21c2(0x873)](),'status':'success','initialPrompt':_0x31a71f[_0x4b21c2(0x171)]}),await _0xaf433(_0x31a71f,_0x3a0a5e,_0x43f2e5,_0x5e3013),_0x31a71f[_0x4b21c2(0x195)]){for(const _0x129491 in _0x31a71f['internalContext'])_0x1fdde9(_0x31a71f[_0x4b21c2(0x195)][_0x129491],_0x3a0a5e,_0x43f2e5,_0x129491);}const _0x9805e5={'type':_0x31a71f[_0x4b21c2(0x506)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x407d9d(_0x36f137,''+_0x31a71f[_0x4b21c2(0x171)],_0x31a71f,_0x9805e5,_0x3a0a5e,_0x43f2e5,_0x5e3013);const {inputTokens:_0x5cf364=0x0,outputTokens:_0x29287d=0x0,context:_0x4bfde3=[]}=_0x9805e5;return _0x1af3b2[_0x4b21c2(0x8a4)]({'jobType':_0x5107d7[_0x4b21c2(0x2d5)],'type':_0x1d3785[_0x4b21c2(0x157)],'jobId':_0x36f137,'agentId':_0x7fee56,'threadId':_0x31a71f[_0x4b21c2(0x46f)],'traceLevel':_0x125b14[_0x4b21c2(0x142)],'startTime':_0x25f0cb,'timestamp':Date[_0x4b21c2(0x873)](),'blockId':_0x3a0a5e['id'],'status':_0x4b21c2(0x84a),'output':_0x9805e5[_0x4b21c2(0x86a)]?.[_0x4b21c2(0x77f)]()??'','prompt':_0x31a71f[_0x4b21c2(0x171)],'agentName':'','history':_0x31a71f[_0x4b21c2(0x4b1)]??[],'instructions':''+(_0x31a71f[_0x4b21c2(0x80f)]??''),'ragContext':_0x4bfde3,'inputTokens':_0x5cf364,'outputTokens':_0x29287d}),{'type':_0x31a71f[_0x4b21c2(0x506)],'output':_0x9805e5[_0x4b21c2(0x86a)],'context':_0x9805e5[_0x4b21c2(0x424)],'internalContext':_0x43f2e5[_0x4b21c2(0x211)](_0x33cb25=>_0x33cb25['type']===_0x3725ec['Answer'])?.['accumulated']?.[_0x4b21c2(0x424)]??{},'inputTokens':_0x9805e5[_0x4b21c2(0x67e)]??0x0,'outputTokens':_0x9805e5[_0x4b21c2(0x23f)]??0x0};}(_0x3ffec7,_0x4ffec1,_0x46db97,this[_0x3e90fc(0x6f0)][_0x3e90fc(0x8f9)],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0x3e90fc(0x4de)],'generativeAIWorkerConnectors':this[_0x3e90fc(0x90e)],'models':this[_0x3e90fc(0x6f0)][_0x3e90fc(0x1c6)],'contentMediator':this[_0x3e90fc(0x845)],'searchApiKey':this[_0x3e90fc(0x6a6)],'aiSearchApiKey':this[_0x3e90fc(0x559)],'searchConnector':this[_0x3e90fc(0x850)],'aiSearchConnector':this[_0x3e90fc(0x336)],'queryFileConnector':this[_0x3e90fc(0x1c5)]});return _0x48e82d;}if(_0x3e90fc(0x4d3)===_0x4ffec1[_0x3e90fc(0x506)])return _0x1af3b2['trace']({'jobType':_0x5107d7[_0x3e90fc(0x41f)],'type':_0x3d594c[_0x3e90fc(0x769)],'jobId':_0x4ffec1['jobId'],'threadId':_0x4ffec1[_0x3e90fc(0x46f)],'traceLevel':_0x125b14[_0x3e90fc(0x142)],'startTime':Date[_0x3e90fc(0x873)](),'timestamp':Date['now'](),'status':_0x3e90fc(0x84a),'rating':_0x4ffec1[_0x3e90fc(0x396)],'feedback':_0x4ffec1[_0x3e90fc(0x7bc)]}),{'type':_0x3e90fc(0x4d3),'status':_0x2477c2[_0x3e90fc(0x7f9)]['Success']};if('downloadDocument'===_0x4ffec1[_0x3e90fc(0x506)]){let _0x4ba9f7;const _0x3035c7=this['dataStores']['keys']();for(;!_0x4ba9f7;){const _0x97772b=_0x3035c7[_0x3e90fc(0x726)]()[_0x3e90fc(0x184)];if(!_0x97772b)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x4ba9f7=this['dataStores'][_0x3e90fc(0x29f)](_0x97772b);try{const _0x34c9b3=await _0x4ba9f7['get'](_0x4ffec1[_0x3e90fc(0x10a)]);return{'type':_0x3e90fc(0x964),'fileName':_0x34c9b3[_0x3e90fc(0x697)],'mimeType':_0x34c9b3[_0x3e90fc(0x506)],'document':await _0x34c9b3[_0x3e90fc(0x583)]()};}catch(_0x579fe5){continue;}}throw new Error(_0x3e90fc(0x9e4));}if(_0x3e90fc(0x1f8)===_0x4ffec1[_0x3e90fc(0x506)]){const {query:_0x4e9728,collectionId:_0x57938d}=_0x4ffec1,_0x5dbd18=this[_0x3e90fc(0x6f0)][_0x3e90fc(0x8f9)]['find'](_0x559891=>(_0x559891[_0x3e90fc(0x506)]===_0x3725ec[_0x3e90fc(0x351)]||_0x3725ec['Knowledge'])&&_0x559891['id']===_0x57938d);if(!_0x5dbd18)throw new Error(_0x3e90fc(0x8c3));const _0x5b288b=_0x5dbd18['retrieveBlocks']?.[_0x3e90fc(0x211)](_0x81c518=>_0x81c518[_0x3e90fc(0x506)]===_0x57a82a[_0x3e90fc(0x4e9)]);if(!_0x5b288b)throw new Error(_0x3e90fc(0x106));return await _0x11ed3e(_0x3ffec7,'',_0x4e9728,_0x5b288b,_0x5dbd18[_0x3e90fc(0x77b)],{'documentParserConnector':this[_0x3e90fc(0x6f4)],'nlpLibraryConnector':this[_0x3e90fc(0x4de)],'generativeAIWorkerConnectors':this[_0x3e90fc(0x90e)],'models':this[_0x3e90fc(0x6f0)][_0x3e90fc(0x1c6)],'contentMediator':this[_0x3e90fc(0x845)],'searchApiKey':this['searchApiKey'],'aiSearchApiKey':this[_0x3e90fc(0x559)],'searchConnector':this[_0x3e90fc(0x850)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x3e90fc(0x1c5)]});}throw new Error(_0x3e90fc(0x24c));}async*[_0x4d9d4f(0x938)](_0x440ae3,_0x42a7ec){const _0x1fcabe=_0x4d9d4f;this[_0x1fcabe(0x6f0)]=await _0x58d5fa[_0x1fcabe(0x156)](this['vendorId'],this[_0x1fcabe(0x5da)]);const _0x144f73=this['workflow'][_0x1fcabe(0x8f9)]['find'](_0x175207=>_0x175207[_0x1fcabe(0x506)]===_0x3725ec[_0x1fcabe(0x4e9)]);for await(const _0x24e08f of async function*(_0x25be63,_0x26fb66,_0x2c0eb4,_0x2c92cb,_0x382c43){const _0x1b5f6c=_0x1fcabe,_0x41dfcc=(0x0,_0x4246fa['v4'])(),_0x475218=Date[_0x1b5f6c(0x873)]();if(_0x1af3b2[_0x1b5f6c(0x8a4)]({'jobType':_0x5107d7[_0x1b5f6c(0x2d5)],'type':_0x1d3785[_0x1b5f6c(0x3c1)],'jobId':_0x25be63,'agentId':_0x41dfcc,'threadId':_0x26fb66[_0x1b5f6c(0x46f)],'traceLevel':_0x125b14[_0x1b5f6c(0x142)],'startTime':Date[_0x1b5f6c(0x873)](),'timestamp':Date[_0x1b5f6c(0x873)](),'blockId':_0x2c0eb4['id'],'status':_0x1b5f6c(0x84a),'initialPrompt':_0x26fb66[_0x1b5f6c(0x171)]}),await _0xaf433(_0x26fb66,_0x2c0eb4,_0x2c92cb,_0x382c43),_0x26fb66[_0x1b5f6c(0x195)]){for(const _0x4c46a5 in _0x26fb66[_0x1b5f6c(0x195)])_0x1fdde9(_0x26fb66[_0x1b5f6c(0x195)][_0x4c46a5],_0x2c0eb4,_0x2c92cb,_0x4c46a5);}const _0x535d40={'type':_0x26fb66[_0x1b5f6c(0x506)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x4e0808=new _0x121df0();_0x407d9d(_0x25be63,''+_0x26fb66['prompt'],_0x26fb66,_0x535d40,_0x2c0eb4,_0x2c92cb,_0x382c43,_0x4e0808);let _0x432dfd='',_0x216283={'type':_0x26fb66[_0x1b5f6c(0x506)]};for(;;){const _0x4a76e7=await _0x4e0808[_0x1b5f6c(0x342)]();if(!_0x4a76e7)break;_0x432dfd+=_0x4a76e7[_0x1b5f6c(0x86a)],_0x216283={'type':_0x26fb66[_0x1b5f6c(0x506)],'output':_0x4a76e7[_0x1b5f6c(0x86a)],'context':_0x535d40['context'],'internalContext':{},'inputTokens':(_0x535d40['inputTokens']??0x0)+(_0x4a76e7[_0x1b5f6c(0x67e)]??0x0),'outputTokens':(_0x535d40[_0x1b5f6c(0x23f)]??0x0)+(_0x4a76e7['outputTokens']??0x0)},yield _0x216283;}yield{..._0x216283,'output':'','internalContext':_0x2c92cb['find'](_0x41cf48=>_0x41cf48['type']===_0x3725ec[_0x1b5f6c(0x109)])?.['accumulated']?.[_0x1b5f6c(0x424)]??{}};const {inputTokens:_0x3d2217=0x0,outputTokens:_0x56ea8a=0x0,context:_0x2eceb3=[]}=_0x216283;_0x1af3b2[_0x1b5f6c(0x8a4)]({'jobType':_0x5107d7[_0x1b5f6c(0x2d5)],'type':_0x1d3785['FinalOutput'],'jobId':_0x25be63,'agentId':_0x41dfcc,'threadId':_0x26fb66[_0x1b5f6c(0x46f)],'traceLevel':_0x125b14['Info'],'startTime':_0x475218,'timestamp':Date[_0x1b5f6c(0x873)](),'blockId':_0x2c0eb4['id'],'status':_0x1b5f6c(0x84a),'output':_0x432dfd,'prompt':_0x26fb66['prompt'],'agentName':'','history':_0x26fb66[_0x1b5f6c(0x4b1)]??[],'instructions':''+(_0x26fb66[_0x1b5f6c(0x80f)]??''),'ragContext':_0x2eceb3,'inputTokens':_0x3d2217,'outputTokens':_0x56ea8a});}(_0x440ae3,_0x42a7ec,_0x144f73,this[_0x1fcabe(0x6f0)][_0x1fcabe(0x8f9)],{'documentParserConnector':this[_0x1fcabe(0x6f4)],'nlpLibraryConnector':this[_0x1fcabe(0x4de)],'generativeAIWorkerConnectors':this[_0x1fcabe(0x90e)],'models':this[_0x1fcabe(0x6f0)][_0x1fcabe(0x1c6)],'contentMediator':this[_0x1fcabe(0x845)],'searchApiKey':this[_0x1fcabe(0x6a6)],'aiSearchApiKey':this[_0x1fcabe(0x559)],'searchConnector':this[_0x1fcabe(0x850)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x1fcabe(0x1c5)]}))yield _0x24e08f;}['startTracing'](_0x33f29b,_0x2bcb56){const _0x43a03e=_0x4d9d4f;if('rate'===_0x2bcb56['type'])return _0x33f29b=_0x2bcb56['jobId'],void this[_0x43a03e(0x41c)](_0x33f29b);this[_0x43a03e(0x41c)](_0x33f29b),_0x1af3b2['trace']({'jobType':_0x5107d7[_0x43a03e(0x3ab)],'type':_0x359e8[_0x43a03e(0x9d9)],'traceLevel':_0x125b14[_0x43a03e(0x142)],'jobId':_0x33f29b,'threadId':_0x2bcb56['threadId'],'startTime':Date[_0x43a03e(0x873)](),'timestamp':Date[_0x43a03e(0x873)](),'status':_0x43a03e(0x84a)});}[_0x4d9d4f(0x8b7)](_0x40b727,_0x3b1fbb){const _0x4ae4b3=_0x4d9d4f;if(_0x4ae4b3(0x4d3)===_0x3b1fbb[_0x4ae4b3(0x506)])return _0x40b727=_0x3b1fbb[_0x4ae4b3(0xf8)],void this[_0x4ae4b3(0x5b0)](_0x40b727);_0x1af3b2[_0x4ae4b3(0x8a4)]({'jobType':_0x5107d7['Job'],'type':_0x359e8[_0x4ae4b3(0x890)],'traceLevel':_0x125b14[_0x4ae4b3(0x142)],'jobId':_0x40b727,'threadId':_0x3b1fbb[_0x4ae4b3(0x46f)],'startTime':Date['now'](),'timestamp':Date[_0x4ae4b3(0x873)](),'status':'success'}),this['closeTrace'](_0x40b727);}async['getModel'](_0x15866d){const _0xad617b=_0x4d9d4f;if(!this[_0xad617b(0x6c7)])throw new Error('Model\x20store\x20not\x20initialized');const _0x35faa6=await this[_0xad617b(0x6c7)][_0xad617b(0x710)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x4e88d1 of _0x35faa6)if(_0x4e88d1[_0xad617b(0x8ca)]===_0x2477c2[_0xad617b(0x538)]['File']&&_0x4e88d1['pathName']===_0x15866d)return _0x4e88d1['absolutePathName']??_0x4e88d1[_0xad617b(0x3ba)];throw new Error(_0xad617b(0x900)+_0x15866d);}async[_0x4d9d4f(0x813)](){const _0x25e83f=_0x4d9d4f;if(!this[_0x25e83f(0x6f0)])throw new Error(_0x25e83f(0xc8));for(const _0x55d330 of this[_0x25e83f(0x6d1)][_0x25e83f(0x7a1)]())try{const _0x1d1dc6=this['workflow']['blocks'][_0x25e83f(0x64c)](_0x2c3ea2=>(_0x2c3ea2['type']===_0x3725ec[_0x25e83f(0x351)]||_0x2c3ea2[_0x25e83f(0x506)]===_0x3725ec[_0x25e83f(0x935)])&&_0x2c3ea2['ingestBlocks']?.[_0x25e83f(0x985)](_0x1bc4c2=>_0x1bc4c2['id']===_0x55d330[_0x25e83f(0x502)]()));for(let _0x296b97=_0x1d1dc6[_0x25e83f(0x99a)]-0x1;_0x296b97>=0x0;_0x296b97--)for(const _0x5195e2 of _0x1d1dc6[_0x296b97][_0x25e83f(0x392)]??[])_0x5195e2['type']===_0x57a82a[_0x25e83f(0x406)]&&this[_0x25e83f(0x845)][_0x25e83f(0x1c9)](_0x5195e2['id'])[_0x25e83f(0x8a6)]()&&_0x1d1dc6[_0x25e83f(0x2db)](_0x296b97,0x1),_0x5195e2[_0x25e83f(0x506)]===_0x57a82a[_0x25e83f(0x283)]&&this['contentMediator'][_0x25e83f(0x5d0)](_0x5195e2['id'])[_0x25e83f(0x8a6)]()&&_0x1d1dc6['splice'](_0x296b97,0x1);const _0x3e5f1e=new Map();let _0x2f6d19=!0x1;for(const _0x1c7bf3 of _0x1d1dc6){let _0x2a8b0b=''+(_0x1c7bf3[_0x25e83f(0x431)]??0x1);for(const _0x28cbd6 of _0x1c7bf3[_0x25e83f(0x392)]??[])_0x28cbd6['type']===_0x57a82a[_0x25e83f(0x4ec)]&&(_0x2a8b0b=_0x2a8b0b+'-'+(_0x28cbd6['version']??0x1));for(const _0x208d82 of _0x1c7bf3['ingestBlocks']??[])_0x208d82[_0x25e83f(0x506)]===_0x57a82a[_0x25e83f(0x406)]&&_0x3e5f1e[_0x25e83f(0xcd)](_0x208d82['id'],{'version':_0x2a8b0b,'getDatabase':this['contentMediator'][_0x25e83f(0x1c9)][_0x25e83f(0x3b0)](this['contentMediator']),'block':_0x208d82}),_0x208d82[_0x25e83f(0x506)]===_0x57a82a[_0x25e83f(0x283)]&&_0x3e5f1e['set'](_0x208d82['id'],{'version':_0x2a8b0b,'getDatabase':this['contentMediator']['getGraphDatabase'][_0x25e83f(0x3b0)](this['contentMediator']),'block':_0x208d82});}for(const {getDatabase:_0x531b92,block:_0x20cc45,version:_0x4d64f8}of _0x3e5f1e[_0x25e83f(0x7a1)]())try{const _0x2e01b6=_0x531b92(_0x20cc45['id']);_0x2e01b6[_0x25e83f(0xc0)](_0x4d64f8),_0x2e01b6[_0x25e83f(0x56e)](!0x0),_0x2f6d19=!0x0;}catch(_0x4cf2c7){_0x2f6d19=!0x1;break;}if(_0x2644bc[_0x25e83f(0x2dd)](_0x25e83f(0x5de)),_0x2f6d19)continue;_0x2644bc['forceLog'](_0x25e83f(0x255));const _0x2a43ea=await _0x55d330['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x25e83f(0x832)](_0x71e7bb[_0x25e83f(0x210)],_0x55d330[_0x25e83f(0xe6)](),_0x2a43ea);for(const {getDatabase:_0x4f636a,block:_0x38b9e4,version:_0xbbcaae}of _0x3e5f1e[_0x25e83f(0x7a1)]()){const _0x358498=_0x4f636a(_0x38b9e4['id']);_0x358498[_0x25e83f(0x381)](_0xbbcaae),_0x358498[_0x25e83f(0x56e)](!0x0);}}catch(_0x104ea3){_0x2644bc[_0x25e83f(0x716)](_0x25e83f(0x6d6),{'nodeId':this[_0x25e83f(0x772)][_0x25e83f(0x9a5)](),'nodeType':this['localNode'][_0x25e83f(0x506)]});}}async[_0x4d9d4f(0x277)](){const _0x30b582=_0x4d9d4f;for(const _0xe339af of this[_0x30b582(0x6bb)][_0x30b582(0x7a1)]())try{const _0x89e849=await _0xe339af[_0x30b582(0x710)]('/',{'recursive':!0x0});await this['syncFolder'](_0x71e7bb[_0x30b582(0x60d)],_0xe339af[_0x30b582(0xe6)](),_0x89e849);}catch(_0x418e7a){_0x2644bc['error'](_0x30b582(0x4cb),{'nodeId':this['localNode'][_0x30b582(0x9a5)](),'nodeType':this[_0x30b582(0x772)][_0x30b582(0x506)]});}}async[_0x4d9d4f(0x832)](_0x225bb2,_0x1c88e7,_0x35b9c4){const _0x2bc92c=_0x4d9d4f;for(const _0x5428ea of _0x35b9c4){if(_0x5428ea['kind']===_0x2477c2['ObjectKind'][_0x2bc92c(0x53d)]){if(!_0x5428ea['entries']||0x0===_0x5428ea[_0x2bc92c(0x7ff)][_0x2bc92c(0x99a)])continue;await this[_0x2bc92c(0x832)](_0x225bb2,_0x1c88e7,_0x5428ea['entries']);}_0x5428ea[_0x2bc92c(0x8ca)]===_0x2477c2[_0x2bc92c(0x538)]['File']&&this[_0x2bc92c(0x9b7)](_0x225bb2,_0x1c88e7,_0x5428ea['pathName']);}return new Promise(_0x14f670=>{const _0xe626d2=_0x2bc92c,_0x512ab5=_0x135d86[_0xe626d2(0x121)](()=>{const _0x229ffb=_0xe626d2;0x0===this[_0x229ffb(0x815)]['length']&&(_0x512ab5(),_0x14f670());},0x1388);});}[_0x4d9d4f(0x4d4)](){const _0x549b76=_0x4d9d4f;for(const _0x22d368 of this[_0x549b76(0x6d1)][_0x549b76(0x7a1)]())_0x22d368[_0x549b76(0x3dd)](this[_0x549b76(0x5da)],async _0x271522=>{const _0x43ac26=_0x549b76;switch(_0x271522[_0x43ac26(0x4c3)]){case _0x2477c2[_0x43ac26(0x88b)][_0x43ac26(0x7a3)]:this[_0x43ac26(0x66e)](_0x71e7bb[_0x43ac26(0x210)],_0x22d368['getName'](),_0x271522[_0x43ac26(0x2ea)]['file'][_0x43ac26(0x3ba)]),this[_0x43ac26(0x9b7)](_0x71e7bb[_0x43ac26(0x210)],_0x22d368[_0x43ac26(0xe6)](),_0x271522[_0x43ac26(0x2ea)][_0x43ac26(0x862)]['pathName']);break;case _0x2477c2[_0x43ac26(0x88b)][_0x43ac26(0x7cf)]:this[_0x43ac26(0x66e)](_0x71e7bb[_0x43ac26(0x210)],_0x22d368[_0x43ac26(0xe6)](),_0x271522[_0x43ac26(0x2ea)][_0x43ac26(0x3ba)]);}});}[_0x4d9d4f(0x265)](){const _0x367aba=_0x4d9d4f;for(const _0x8c4ed5 of this['externalStores'][_0x367aba(0x7a1)]())_0x8c4ed5[_0x367aba(0x3dd)](this['label'],async _0xe9ae74=>{const _0x534790=_0x367aba;switch(_0xe9ae74[_0x534790(0x4c3)]){case _0x2477c2[_0x534790(0x88b)][_0x534790(0x7a3)]:this[_0x534790(0x66e)](_0x71e7bb[_0x534790(0x60d)],_0x8c4ed5[_0x534790(0xe6)](),_0xe9ae74['payload']['file'][_0x534790(0x3ba)]),this[_0x534790(0x9b7)](_0x71e7bb[_0x534790(0x60d)],_0x8c4ed5[_0x534790(0xe6)](),_0xe9ae74['payload'][_0x534790(0x862)][_0x534790(0x3ba)]);break;case _0x2477c2['StorageEventType'][_0x534790(0x7cf)]:this['removeContent'](_0x71e7bb[_0x534790(0x60d)],_0x8c4ed5['getName'](),_0xe9ae74[_0x534790(0x2ea)][_0x534790(0x3ba)]);}});}[_0x4d9d4f(0x9b7)](_0x2f33cd,_0x419a5a,_0x5479b6){const _0x5b63b4=_0x4d9d4f;this['contentQueue']['push']({'type':_0x5b63b4(0x9d2),'storageType':_0x2f33cd,'storeId':_0x419a5a,'pathName':_0x5479b6}),this[_0x5b63b4(0x5c6)]();}[_0x4d9d4f(0x66e)](_0x43992d,_0x5e8d92,_0x111f49){const _0x210efd=_0x4d9d4f;this[_0x210efd(0x815)][_0x210efd(0x9e2)]({'type':_0x210efd(0x371),'storageType':_0x43992d,'storeId':_0x5e8d92,'pathName':_0x111f49}),this[_0x210efd(0x5c6)]();}async[_0x4d9d4f(0x5c6)](){const _0x259e31=_0x4d9d4f;if(!this['contentQueueRunning']){try{this['contentQueueRunning']=!0x0;const _0x2da5d0=this[_0x259e31(0x815)][_0x259e31(0x124)]();if(!_0x2da5d0)return;_0x259e31(0x9d2)===_0x2da5d0['type']?await this[_0x259e31(0x917)](_0x2da5d0[_0x259e31(0x581)],_0x2da5d0[_0x259e31(0x91c)],_0x2da5d0[_0x259e31(0x3ba)]):this[_0x259e31(0x61e)](_0x2da5d0['storageType'],_0x2da5d0[_0x259e31(0x91c)],_0x2da5d0[_0x259e31(0x3ba)]);}catch(_0x1de918){_0x2644bc[_0x259e31(0x716)]('Error\x20processing\x20content\x20queue',{'nodeId':this[_0x259e31(0x772)][_0x259e31(0x9a5)](),'nodeType':this['localNode'][_0x259e31(0x506)]});}this[_0x259e31(0xf0)]=!0x1,this[_0x259e31(0x815)][_0x259e31(0x99a)]>0x0&&this[_0x259e31(0x5c6)]();}}async[_0x4d9d4f(0x917)](_0x3052d2,_0x3de197,_0x437878){const _0x544ab1=_0x4d9d4f;if(_0x2644bc['forceLog'](_0x544ab1(0x9b7),_0x3052d2,_0x3de197,_0x437878),!this[_0x544ab1(0x6f0)])throw new Error('Workflow\x20not\x20initialized');let _0x1e23cd;switch(_0x3052d2){case _0x71e7bb[_0x544ab1(0x210)]:_0x1e23cd=_0x57a82a[_0x544ab1(0x6eb)];break;case _0x71e7bb[_0x544ab1(0x60d)]:_0x1e23cd=_0x57a82a[_0x544ab1(0x541)];}if(!_0x1e23cd)return;const _0x1b7476=this[_0x544ab1(0x6f0)][_0x544ab1(0x8f9)]['filter'](_0x1ba354=>_0x1ba354[_0x544ab1(0x506)]===_0x3725ec[_0x544ab1(0x935)]||_0x1ba354['type']===_0x3725ec['DataCollection']),_0x5870b3=new Set(_0x1b7476[_0x544ab1(0x473)](_0x1bf1e6=>_0x1bf1e6['id'])),_0x396bf1=_0x1b7476[_0x544ab1(0x64c)](_0x47754b=>_0x47754b[_0x544ab1(0x392)]?.[_0x544ab1(0x985)](_0x484807=>_0x484807['type']===_0x1e23cd&&_0x484807['id']===_0x3de197));for(const _0x1011c0 of _0x396bf1){if(!_0x5870b3[_0x544ab1(0x8dd)](_0x1011c0['id']))continue;_0x5870b3['delete'](_0x1011c0['id']);const _0x2ff715=_0x1011c0['ingestBlocks']?.[_0x544ab1(0x211)](_0x4f421d=>_0x4f421d[_0x544ab1(0x506)]===_0x1e23cd&&_0x4f421d['id']===_0x3de197);_0x2ff715&&_0x40787a[_0x544ab1(0x9d2)](this[_0x544ab1(0x5da)],async()=>{const _0xfdb0e2=_0x544ab1,_0x3b6161=(0x0,_0x4246fa['v4'])();_0x1af3b2['openTrace'](null,_0x3b6161),await _0x2de9b8(_0x3b6161,_0x437878,_0x2ff715,_0x1011c0['ingestBlocks'],{'documentParserConnector':this['documentParserConnector'],'nlpLibraryConnector':this[_0xfdb0e2(0x4de)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this[_0xfdb0e2(0x6f0)]['models'],'contentMediator':this[_0xfdb0e2(0x845)],'searchApiKey':this[_0xfdb0e2(0x6a6)],'aiSearchApiKey':this[_0xfdb0e2(0x559)],'version':_0x1011c0['version']??0x1}),_0x1af3b2[_0xfdb0e2(0x5b0)](_0x3b6161);});}this[_0x544ab1(0x71e)]();}[_0x4d9d4f(0x61e)](_0x1b64c4,_0x58a68c,_0x52ffda){const _0x1d923a=_0x4d9d4f;if(_0x2644bc[_0x1d923a(0x2dd)](_0x1d923a(0x66e),_0x1b64c4,_0x58a68c,_0x52ffda),!this[_0x1d923a(0x6f0)])throw new Error(_0x1d923a(0xc8));let _0x48a658;switch(_0x1b64c4){case _0x71e7bb[_0x1d923a(0x210)]:_0x48a658=_0x57a82a[_0x1d923a(0x6eb)];break;case _0x71e7bb[_0x1d923a(0x60d)]:_0x48a658=_0x57a82a[_0x1d923a(0x541)];}if(!_0x48a658)return;const _0x18a12e=this[_0x1d923a(0x6f0)][_0x1d923a(0x8f9)][_0x1d923a(0x64c)](_0x4d0b72=>_0x4d0b72[_0x1d923a(0x506)]===_0x3725ec[_0x1d923a(0x935)]||_0x4d0b72[_0x1d923a(0x506)]===_0x3725ec[_0x1d923a(0x351)]),_0x3b2018=new Set(_0x18a12e[_0x1d923a(0x473)](_0x27097a=>_0x27097a['id'])),_0x4bda42=_0x18a12e[_0x1d923a(0x64c)](_0x15b3e2=>_0x15b3e2[_0x1d923a(0x392)]?.[_0x1d923a(0x985)](_0x4cb7b2=>_0x4cb7b2[_0x1d923a(0x506)]===_0x48a658&&_0x4cb7b2['id']===_0x58a68c));for(const _0x1b0b23 of _0x4bda42){if(!_0x3b2018[_0x1d923a(0x8dd)](_0x1b0b23['id']))continue;_0x3b2018[_0x1d923a(0x465)](_0x1b0b23['id']);let _0xa2bf05=''+(_0x1b0b23[_0x1d923a(0x431)]??0x1);for(const _0x4224d7 of _0x1b0b23[_0x1d923a(0x392)]??[])_0x4224d7[_0x1d923a(0x506)]===_0x57a82a[_0x1d923a(0x4ec)]&&(_0xa2bf05=_0xa2bf05+'-'+(_0x4224d7[_0x1d923a(0x431)]??0x1));for(const _0x29e3cd of _0x1b0b23[_0x1d923a(0x392)]??[]){if(_0x29e3cd[_0x1d923a(0x506)]===_0x57a82a[_0x1d923a(0x406)]){const _0x4e2787=this['contentMediator'][_0x1d923a(0x1c9)](_0x29e3cd['id']);_0x4e2787['remove'](_0x52ffda),_0x4e2787['getIsLoaded']()&&_0x4e2787[_0x1d923a(0x381)](_0xa2bf05);}if(_0x29e3cd[_0x1d923a(0x506)]===_0x57a82a[_0x1d923a(0x283)]){const _0x2d03db=this[_0x1d923a(0x845)][_0x1d923a(0x5d0)](_0x29e3cd['id']);_0x2d03db[_0x1d923a(0x371)](_0x52ffda),_0x2d03db[_0x1d923a(0x8a6)]()&&_0x2d03db['saveToDisk'](_0xa2bf05);}}}this['sendStats']();}['getCoresFromCapacityReport'](){const _0x3042e0=_0x4d9d4f;try{return this['capacityReporter']['getCapacityReport']()['gpu'][_0x3042e0(0x218)]*(0x1-this[_0x3042e0(0x323)]['getCapacityReport']()[_0x3042e0(0x19a)][_0x3042e0(0x15c)]);}catch(_0x3214d5){return _0x2644bc[_0x3042e0(0x5ad)](_0x1a98bf[_0x3042e0(0x28d)],_0x3042e0(0x36a),_0x3214d5),0x0;}}[_0x4d9d4f(0x71e)](){const _0x4b7292=_0x4d9d4f;this[_0x4b7292(0x743)]&&(this[_0x4b7292(0x233)]&&clearTimeout(this[_0x4b7292(0x233)]),this['debounceStats']=setTimeout(async()=>{const _0x237ce7=_0x4b7292;if(delete this[_0x237ce7(0x233)],!this[_0x237ce7(0x6c7)])return;let _0x8a176a=await this[_0x237ce7(0x6c7)][_0x237ce7(0x61c)]();for(const _0x16cc86 of this[_0x237ce7(0x6d1)][_0x237ce7(0x7a1)]())_0x8a176a+=await _0x16cc86[_0x237ce7(0x61c)]();this[_0x237ce7(0x26f)][_0x237ce7(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x237ce7(0x72b)],'content':{'type':_0x2e4dcf['GenerativeAIWorkerStats'],'label':this[_0x237ce7(0x5da)],'stats':{'timestamp':Date[_0x237ce7(0x873)](),'storage':_0x8a176a,'messagesSent':this[_0x237ce7(0x9c7)],'messagesReceived':this[_0x237ce7(0x43d)],'bytesSent':this[_0x237ce7(0x1d1)],'bytesReceived':this[_0x237ce7(0x365)],'writes':0x0,'reads':0x0,'prompts':this[_0x237ce7(0x2d6)],'tokens':this[_0x237ce7(0x182)]}}});},_0x5760dc));}[_0x4d9d4f(0x687)](_0x2c2c74,_0x3ac416){const _0x4cb4f3=_0x4d9d4f,_0x82849c=this[_0x4cb4f3(0x5da)],_0x2d184c=this[_0x4cb4f3(0x38b)]();_0x2644bc[_0x4cb4f3(0x687)](_0x30c1eb['GenerativeAIContext'],{'topic':_0x82849c,'type':_0x4cb4f3(0x928),'nodeId':_0x2d184c,'tokenCount':_0x3ac416,'tokensPerSecond':_0x2c2c74});}[_0x4d9d4f(0x41c)](_0x468ee2){const _0x2f6795=_0x4d9d4f;try{if(!this[_0x2f6795(0x6f0)])throw new Error('Workflow\x20not\x20initialized');if(!this[_0x2f6795(0x2a6)])throw new Error(_0x2f6795(0x8d3));if(!_0x1af3b2[_0x2f6795(0x41c)](this[_0x2f6795(0x2a6)],_0x468ee2))throw new Error(_0x2f6795(0x435));return _0x468ee2;}catch(_0x5e118e){return console[_0x2f6795(0x716)](_0x2f6795(0x435),_0x5e118e),_0x2f6795(0x6a9);}}[_0x4d9d4f(0x5b0)](_0x3f7090){const _0x23c1af=_0x4d9d4f;try{_0x1af3b2['closeTrace'](_0x3f7090);}catch(_0x204290){console[_0x23c1af(0x716)]('Error\x20closing\x20trace',{'jobId':_0x3f7090,'error':_0x204290});}}async['initializeLoggingDatabase'](){return new Promise(_0xb3055b=>{const _0x16cdd3=a0_0x1399;try{const _0x2070cd=_0x11c378(this[_0x16cdd3(0x4e6)],this[_0x16cdd3(0x5da)]);this[_0x16cdd3(0x2a6)]=this['contentMediator'][_0x16cdd3(0x925)](_0x2070cd),this[_0x16cdd3(0x2a6)]['subscribe'](({event:_0x3cb9be})=>{const _0x4a2140=_0x16cdd3;_0x3cb9be===_0x2477c2[_0x4a2140(0x213)][_0x4a2140(0x824)]&&(this[_0x4a2140(0x2a6)][_0x4a2140(0x4f9)](),_0xb3055b());});}catch(_0x2d4660){console[_0x16cdd3(0x716)]('Error\x20initializing\x20logging\x20database\x20with\x20\x27'+_0x11c378(this[_0x16cdd3(0x4e6)],this[_0x16cdd3(0x5da)])+'\x27\x20dabatase\x20id.',_0x2d4660),_0xb3055b();}});}}class _0x4a15a6 extends _0x5b0910{[_0x4d9d4f(0x772)];[_0x4d9d4f(0x95e)];[_0x4d9d4f(0x4e6)];['db'];[_0x4d9d4f(0x233)];[_0x4d9d4f(0xad)]=0x0;[_0x4d9d4f(0x503)]=0x0;[_0x4d9d4f(0x611)]=!0x1;constructor(_0x95ae06,_0x13ee10,_0x2b38c5,_0x5c298f,_0x310fa2){const _0x530531=_0x4d9d4f;if(_0x530531(0x794)!=typeof _0x13ee10)throw new _0x2554b3(_0x17f7da[_0x530531(0x8fc)],_0x530531(0x967));super(_0x95ae06,_0x13ee10),this[_0x530531(0x772)]=_0x95ae06,this[_0x530531(0x95e)]=_0x2b38c5,this[_0x530531(0x4e6)]=_0x5c298f;const _0x19ed23=_0x530531(0x4be)+this[_0x530531(0x4e6)]+_0x530531(0x4be)+this['clusterId']+_0x530531(0x4be)+this['label'];this['db']=new _0x310fa2(_0x19ed23),this[_0x530531(0x71e)]();}[_0x4d9d4f(0x8a6)](){const _0x5ba460=_0x4d9d4f;return this[_0x5ba460(0x611)];}[_0x4d9d4f(0x56e)](_0x3046c5){const _0x2c5f74=_0x4d9d4f;this[_0x2c5f74(0x611)]=_0x3046c5;}[_0x4d9d4f(0x6ef)](){const _0x50b109=_0x4d9d4f;clearTimeout(this[_0x50b109(0x233)]),delete this[_0x50b109(0x233)],super[_0x50b109(0x6ef)]();}[_0x4d9d4f(0x6d7)](){const _0x551056=_0x4d9d4f;this[_0x551056(0x26f)][_0x551056(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x551056(0x72b)],'content':{'type':_0x2e4dcf[_0x551056(0x8ab)],'label':this[_0x551056(0x5da)]}});}[_0x4d9d4f(0x24e)](){const _0x26abea=_0x4d9d4f;return _0x2477c2[_0x26abea(0x61d)][_0x26abea(0x283)];}[_0x4d9d4f(0x934)](){const _0x4ae1d8=_0x4d9d4f;this[_0x4ae1d8(0x71e)]();}[_0x4d9d4f(0x8ac)](_0xc7961e,_0x3256c9,_0x1bcdce,_0x2b9825){const _0x2385fb=_0x4d9d4f;this['db'][_0x2385fb(0x8ac)](_0xc7961e,_0x3256c9,_0x1bcdce,_0x2b9825),this['writes']+=0x1,this[_0x2385fb(0x71e)]();}['addEdge'](_0x2120e8,_0x416be8){const _0x1e5022=_0x4d9d4f;this['db'][_0x1e5022(0x27d)](_0x2120e8,_0x416be8),this['writes']+=0x1,this[_0x1e5022(0x71e)]();}[_0x4d9d4f(0x4cd)](_0x4aa0d9,_0x51ac17,_0x26e25d){const _0x124f86=_0x4d9d4f,_0x2a3045=this['db'][_0x124f86(0x4cd)](_0x4aa0d9,_0x51ac17,_0x26e25d);return this[_0x124f86(0x503)]+=0x1,_0x2644bc[_0x124f86(0x687)](_0x30c1eb[_0x124f86(0x283)],{'type':_0x124f86(0xc4),'label':this['label'],'nodeId':this[_0x124f86(0x772)][_0x124f86(0x9a5)](),'nodeType':this['localNode'][_0x124f86(0x506)],'clusterId':this[_0x124f86(0x95e)],'size':0x0}),this[_0x124f86(0x71e)](),_0x2a3045;}['remove'](_0x494f89){const _0x1c8a27=_0x4d9d4f;this['db'][_0x1c8a27(0x371)](_0x494f89),this[_0x1c8a27(0xad)]+=0x1,this[_0x1c8a27(0x71e)]();}['saveToDisk'](_0x2c4c6b){this['db']['saveToDisk'](_0x2c4c6b);}[_0x4d9d4f(0xc0)](_0x55fdea){const _0x1b657b=_0x4d9d4f;this['db'][_0x1b657b(0xc0)](_0x55fdea);}[_0x4d9d4f(0x71e)](){const _0x3bebb8=_0x4d9d4f;this[_0x3bebb8(0x233)]&&clearTimeout(this[_0x3bebb8(0x233)]),this['debounceStats']=setTimeout(async()=>{const _0x5da7d4=_0x3bebb8;delete this[_0x5da7d4(0x233)];const _0x5eadb4=this['db']['getSize']();this[_0x5da7d4(0x26f)][_0x5da7d4(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x5da7d4(0x72b)],'content':{'type':_0x2e4dcf['GraphDatabaseStats'],'label':this[_0x5da7d4(0x5da)],'stats':{'timestamp':Date[_0x5da7d4(0x873)](),'storage':_0x5eadb4,'messagesSent':this[_0x5da7d4(0x9c7)],'messagesReceived':this[_0x5da7d4(0x43d)],'bytesSent':this[_0x5da7d4(0x1d1)],'bytesReceived':this[_0x5da7d4(0x365)],'writes':this[_0x5da7d4(0xad)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x2644bc[_0x5da7d4(0x778)](_0x30c1eb[_0x5da7d4(0x283)],_0x5da7d4(0x4be)+this[_0x5da7d4(0x95e)]+_0x5da7d4(0x4be)+this['label'],_0x5eadb4);},_0x5760dc);}}class _0x5260c4 extends _0x1b2132{[_0x4d9d4f(0x878)];constructor(_0x3474d5,_0x514c46,_0x2286a5){const _0x1e7821=_0x4d9d4f;super(_0x3474d5,_0x514c46),this[_0x1e7821(0x878)]=_0x2286a5;}[_0x4d9d4f(0x24e)](){const _0x247449=_0x4d9d4f;return _0x2477c2[_0x247449(0x61d)][_0x247449(0x458)];}['getMediaStream'](){const _0x5383a8=_0x4d9d4f;return this[_0x5383a8(0x878)];}[_0x4d9d4f(0x176)](){const _0x48912b=_0x4d9d4f;return this[_0x48912b(0x878)]['id'];}}class _0x519475 extends _0x5260c4{[_0x4d9d4f(0x242)];[_0x4d9d4f(0x279)];[_0x4d9d4f(0x5a3)];[_0x4d9d4f(0x20d)]=_0xa7293a();constructor(_0x4ed47c,_0x25c26d,_0x19a79e,_0x593c45,_0x5b0c09){const _0x317e65=_0x4d9d4f;super(_0x4ed47c,_0x25c26d,_0x19a79e),this[_0x317e65(0x242)]=_0x593c45,this[_0x317e65(0x279)]=_0x5b0c09;}[_0x4d9d4f(0x6ef)](){const _0x48c177=_0x4d9d4f;this[_0x48c177(0x885)](_0x48c177(0x429)),this[_0x48c177(0x885)](_0x48c177(0x59c)),super[_0x48c177(0x6ef)]();}[_0x4d9d4f(0x3db)](_0x5b0f21){const _0x494a36=_0x4d9d4f;if(!this[_0x494a36(0x5a3)])throw new _0x56b2e7(_0x56b2e7[_0x494a36(0x90b)][_0x494a36(0x69d)],{'label':this[_0x494a36(0x5da)],'ownerId':this[_0x494a36(0x753)]['getId'](),'remoteId':this['remoteId']});this[_0x494a36(0x5a3)][_0x494a36(0x817)]({'sourceId':this[_0x494a36(0x753)][_0x494a36(0x9a5)](),'content':{'action':_0x569b17[_0x494a36(0x7e2)],'track':_0x5b0f21,'stream':this[_0x494a36(0x878)],'priority':_0x2477c2[_0x494a36(0x5dc)][_0x494a36(0x952)],'params':this['getInternalTrackParams'](_0x5b0f21[_0x494a36(0x8ca)],this[_0x494a36(0x279)])}});}[_0x4d9d4f(0x885)](_0x502f2d){const _0x191fc9=_0x4d9d4f,_0x46078e=this[_0x191fc9(0x9be)](_0x502f2d);if(_0x46078e){if(!this['topic'])return null;this[_0x191fc9(0x5a3)][_0x191fc9(0x817)]({'sourceId':this[_0x191fc9(0x753)]['getId'](),'content':{'action':_0x569b17[_0x191fc9(0x4c5)],'track':_0x46078e,'stream':this[_0x191fc9(0x878)]}});}return _0x46078e;}['setPriority'](_0x3c71d4){const _0x204d22=_0x4d9d4f;if(!this[_0x204d22(0x5a3)])throw new _0x56b2e7(_0x56b2e7['codes'][_0x204d22(0x69d)],{'label':this[_0x204d22(0x5da)],'ownerId':this[_0x204d22(0x753)][_0x204d22(0x9a5)](),'remoteId':this['remoteId']});this[_0x204d22(0x5a3)][_0x204d22(0x817)]({'sourceId':this[_0x204d22(0x753)]['getId'](),'content':{'action':_0x569b17[_0x204d22(0x912)],'priority':_0x3c71d4,'stream':this[_0x204d22(0x878)]}});}['subscribe']({trackKinds:_0x3baa6a,params:_0x271af9},_0x2d72d9){const _0x453cb1=_0x4d9d4f;if(!this[_0x453cb1(0x5a3)])throw new _0x56b2e7(_0x56b2e7[_0x453cb1(0x90b)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x453cb1(0x5da)],'ownerId':this[_0x453cb1(0x753)]['getId'](),'remoteId':this[_0x453cb1(0x242)]});for(const _0x25d7dd of this['mediaStream'][_0x453cb1(0x299)]())_0x3baa6a[_0x453cb1(0x766)](_0x25d7dd[_0x453cb1(0x8ca)])&&this['topic'][_0x453cb1(0x817)]({'sourceId':this['owner'][_0x453cb1(0x9a5)](),'content':{'action':_0x569b17[_0x453cb1(0x7e2)],'track':_0x25d7dd,'stream':this['mediaStream'],'priority':_0x2d72d9,'params':this[_0x453cb1(0x547)](_0x25d7dd['kind'],_0x271af9)}});}[_0x4d9d4f(0x1e8)]({params:_0x554b7d}){const _0x36c147=_0x4d9d4f;if(!this['topic'])throw new _0x56b2e7(_0x56b2e7['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0x36c147(0x5da)],'ownerId':this[_0x36c147(0x753)]['getId'](),'remoteId':this[_0x36c147(0x242)]});for(const _0x4e437b of this['mediaStream'][_0x36c147(0x299)]())this[_0x36c147(0x5a3)]['publish']({'sourceId':this['owner']['getId'](),'content':{'action':_0x569b17[_0x36c147(0x912)],'stream':this[_0x36c147(0x878)],'params':this[_0x36c147(0x547)](_0x4e437b[_0x36c147(0x8ca)],_0x554b7d)}});}[_0x4d9d4f(0x4f9)]({trackKinds:_0x28e3de}){const _0x2a9a0b=_0x4d9d4f;if(this['topic']){for(const _0x2f39bb of this[_0x2a9a0b(0x878)][_0x2a9a0b(0x299)]())_0x28e3de[_0x2a9a0b(0x766)](_0x2f39bb[_0x2a9a0b(0x8ca)])&&this[_0x2a9a0b(0x5a3)][_0x2a9a0b(0x817)]({'sourceId':this[_0x2a9a0b(0x753)][_0x2a9a0b(0x9a5)](),'content':{'action':_0x569b17[_0x2a9a0b(0x4c5)],'stream':this[_0x2a9a0b(0x878)],'track':_0x2f39bb}});}}[_0x4d9d4f(0x15d)](_0x4b389f){const _0x5e0076=_0x4d9d4f;this[_0x5e0076(0x5a3)]=_0x4b389f;}['unregisterPublisher'](_0x3c3eb0){const _0x1acab1=_0x4d9d4f;_0x3c3eb0===this[_0x1acab1(0x5a3)]&&(delete this['topic'],this[_0x1acab1(0x20d)]['publish']());}[_0x4d9d4f(0x5a4)](_0x207490){const _0x1c9f67=_0x4d9d4f;return this[_0x1c9f67(0x20d)]['subscribe'](_0x207490);}[_0x4d9d4f(0x9be)](_0x2687c1){const _0x5c96ac=_0x4d9d4f;return this[_0x5c96ac(0x878)][_0x5c96ac(0x299)]()[_0x5c96ac(0x211)](_0x3d6da2=>_0x3d6da2[_0x5c96ac(0x8ca)]===_0x2687c1)||null;}[_0x4d9d4f(0x547)](_0x3520d6,_0x3f3849){const _0x43cd7e=_0x4d9d4f;let _0x2f08b6;return _0x43cd7e(0x59c)===_0x3520d6&&_0x3f3849?.[_0x43cd7e(0x59c)]&&_0x43cd7e(0x8e9)!=typeof _0x3f3849['video']&&(_0x2f08b6={'kind':_0x43cd7e(0x59c),..._0x3f3849['video']},_0x2f08b6[_0x43cd7e(0x476)]=this[_0x43cd7e(0xcc)]()),_0x43cd7e(0x429)===_0x3520d6&&_0x3f3849?.[_0x43cd7e(0x429)]&&_0x43cd7e(0x8e9)!=typeof _0x3f3849['audio']&&(_0x2f08b6={'kind':'audio',..._0x3f3849[_0x43cd7e(0x429)]}),_0x2f08b6;}[_0x4d9d4f(0xcc)](){const _0x4422a1=_0x4d9d4f;let _0x38b798={'width':0x0,'height':0x0};const _0x466998=this[_0x4422a1(0x878)]['getVideoTracks']();if(_0x466998['length']>0x0){const _0x31bfce=_0x466998[0x0][_0x4422a1(0xef)]();_0x31bfce[_0x4422a1(0x5a1)]&&_0x31bfce[_0x4422a1(0x3d9)]&&(_0x38b798={'width':_0x31bfce[_0x4422a1(0x5a1)],'height':_0x31bfce[_0x4422a1(0x3d9)]});}return _0x38b798;}}class _0x4b65b6 extends _0x5260c4{[_0x4d9d4f(0x95e)];[_0x4d9d4f(0xcb)]=_0x2477c2[_0x4d9d4f(0x5dc)][_0x4d9d4f(0x952)];[_0x4d9d4f(0x69b)]=new Map();['outgoingStreams']=new Map();constructor(_0x2ba858,_0x2e722a,_0x22da07,_0x3cd3c3){const _0xc6ab29=_0x4d9d4f;super(_0x2ba858,_0x2e722a,_0x22da07 instanceof MediaStream?_0x22da07:_0x22da07[_0xc6ab29(0x590)]?_0x22da07[_0xc6ab29(0x590)]:_0x22da07[_0xc6ab29(0x665)]()),this[_0xc6ab29(0x95e)]=_0x3cd3c3,this[_0xc6ab29(0x878)][_0xc6ab29(0x299)]()[_0xc6ab29(0x1dc)](_0x53bdf4=>this[_0xc6ab29(0x585)](_0x53bdf4)),_0x2644bc[_0xc6ab29(0x687)](_0x30c1eb['MediaStream'],{'type':_0xc6ab29(0x817),'label':this[_0xc6ab29(0x5da)],'nodeId':this[_0xc6ab29(0x753)][_0xc6ab29(0x9a5)](),'nodeType':this[_0xc6ab29(0x753)][_0xc6ab29(0x506)],'clusterId':this[_0xc6ab29(0x95e)],'streamId':this[_0xc6ab29(0x176)](),'trackKinds':this['mediaStream'][_0xc6ab29(0x299)]()['map'](_0x3efc46=>_0x3efc46['kind'])});}['destroy'](){const _0x3decb6=_0x4d9d4f;this[_0x3decb6(0x366)][_0x3decb6(0x573)]>0x0&&(this['outgoingStreams']['forEach'](_0x2830b0=>{const _0x3b2823=_0x3decb6;_0x2830b0[_0x3b2823(0x2bc)](),_0x2830b0['destroy']();}),this['outgoingStreams'][_0x3decb6(0x976)]()),this['trackEndedListeners'][_0x3decb6(0x1dc)](_0x2fe9e7=>_0x2fe9e7()),super[_0x3decb6(0x6ef)]();}[_0x4d9d4f(0x817)](_0x4247aa){const _0x5615ea=_0x4d9d4f;this['systemTopic'][_0x5615ea(0x817)]({'sourceId':this[_0x5615ea(0x753)][_0x5615ea(0x9a5)](),'destinationIds':_0x4247aa?[_0x4247aa]:void 0x0,'propagate':!0x0,'messageType':_0x2ba96e[_0x5615ea(0x72b)],'content':{'type':_0x2e4dcf[_0x5615ea(0x98d)],'ownerId':this['owner']['getId'](),'label':this[_0x5615ea(0x5da)],'stream':{'streamId':this[_0x5615ea(0x176)](),'availableTrackKinds':this[_0x5615ea(0x878)][_0x5615ea(0x299)]()[_0x5615ea(0x473)](_0x495970=>_0x495970[_0x5615ea(0x8ca)])}}});}['unpublish'](){const _0x2317de=_0x4d9d4f;this[_0x2317de(0x26f)]['publish']({'sourceId':this[_0x2317de(0x753)][_0x2317de(0x9a5)](),'propagate':!0x0,'messageType':_0x2ba96e[_0x2317de(0x72b)],'content':{'type':_0x2e4dcf[_0x2317de(0x8ee)],'ownerId':this[_0x2317de(0x753)][_0x2317de(0x9a5)](),'label':this[_0x2317de(0x5da)]}}),this[_0x2317de(0x26f)][_0x2317de(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e['Content'],'content':{'type':_0x2e4dcf[_0x2317de(0x2e4)],'label':this[_0x2317de(0x5da)]}}),_0x2644bc[_0x2317de(0x687)](_0x30c1eb[_0x2317de(0x6f7)],{'type':'unpublish','label':this['label'],'nodeId':this[_0x2317de(0x753)]['getId'](),'nodeType':this['owner'][_0x2317de(0x506)],'clusterId':this[_0x2317de(0x95e)],'streamId':this['getInternalStreamId']()});}['getPriority'](){const _0x4359a0=_0x4d9d4f;return this[_0x4359a0(0xcb)];}[_0x4d9d4f(0x5cf)](_0x160f58){const _0x2ab7aa=_0x4d9d4f;this[_0x2ab7aa(0xcb)]=_0x160f58,this[_0x2ab7aa(0x366)][_0x2ab7aa(0x1dc)](_0x352a2a=>_0x352a2a[_0x2ab7aa(0x5cf)](_0x160f58));}[_0x4d9d4f(0x459)](_0x459230,_0x1a7729){const _0x35323e=_0x4d9d4f;if(!this['outgoingStreams']['has'](_0x459230)){const _0x2ace00=new _0x519475(this[_0x35323e(0x753)],this['label'],this[_0x35323e(0x878)],_0x459230,_0x1a7729),_0x124c54=_0x2ace00[_0x35323e(0x5a4)](()=>{const _0x41823e=_0x35323e;_0x124c54(),this[_0x41823e(0x366)][_0x41823e(0x29f)](_0x459230)?.[_0x41823e(0x6ef)](),this[_0x41823e(0x366)][_0x41823e(0x465)](_0x459230);});this[_0x35323e(0x366)][_0x35323e(0xcd)](_0x459230,_0x2ace00),_0x2ace00['registerSystemPublisher'](this['systemTopic']);}return this[_0x35323e(0x366)]['get'](_0x459230);}[_0x4d9d4f(0x2cf)](){const _0x12b378=_0x4d9d4f;return this[_0x12b378(0x878)]['id'];}[_0x4d9d4f(0x5a7)](_0x30cfc2){const _0x2fec27=_0x4d9d4f;this[_0x2fec27(0x26f)]['publish']({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x2fec27(0x72b)],'content':{'type':_0x2e4dcf['LocalMediaStreamTrackFail'],'label':this[_0x2fec27(0x5da)],'trackKinds':[_0x30cfc2[_0x2fec27(0x8ca)]]}});}[_0x4d9d4f(0x585)](_0x5c2438){const _0x3b7371=_0x4d9d4f,_0x1d9ef3=()=>this['handleLocalTrackFailure'](_0x5c2438);_0x5c2438[_0x3b7371(0x869)](_0x3b7371(0x552),_0x1d9ef3),_0x5c2438['addEventListener'](_0x3b7371(0x2f8),_0x1d9ef3),this[_0x3b7371(0x69b)][_0x3b7371(0xcd)](_0x5c2438[_0x3b7371(0x8ca)],()=>{const _0x3d5201=_0x3b7371;_0x5c2438[_0x3d5201(0x412)]('ended',_0x1d9ef3),_0x5c2438['removeEventListener'](_0x3d5201(0x2f8),_0x1d9ef3),this['trackEndedListeners'][_0x3d5201(0x465)](_0x5c2438['kind']);});}}class _0x485be0 extends _0x4b65b6{[_0x4d9d4f(0xf9)];[_0x4d9d4f(0x848)]=[];['clientStream'];['audioSource'];[_0x4d9d4f(0xe4)];[_0x4d9d4f(0x216)];[_0x4d9d4f(0x615)];[_0x4d9d4f(0x424)];['interval'];constructor(_0x1f6767,_0x20eed5,_0x44c305,_0xd95756,_0x2f8fe4,_0x8082c6){const _0x242c5e=_0x4d9d4f;if(super(_0x1f6767,_0x20eed5,_0x44c305,_0x8082c6),this[_0x242c5e(0xf9)]=_0x2f8fe4,this[_0x242c5e(0x4bb)]=this[_0x242c5e(0x878)],this[_0x242c5e(0x216)]=document['createElement'](_0x242c5e(0x59c)),this[_0x242c5e(0x216)]['autoplay']=!0x0,this[_0x242c5e(0x216)][_0x242c5e(0x7f1)]=!0x0,this['sourceVideo'][_0x242c5e(0x590)]=this[_0x242c5e(0x4bb)],this[_0x242c5e(0x216)][_0x242c5e(0x15c)](),this[_0x242c5e(0x216)]['onloadeddata']=()=>{const _0x3c4ee5=_0x242c5e;this['sourceVideo'][_0x3c4ee5(0x355)]();},this[_0x242c5e(0x615)]=document['createElement']('canvas'),this[_0x242c5e(0x424)]=this[_0x242c5e(0x615)][_0x242c5e(0x8d5)]('2d'),this[_0x242c5e(0x878)]=this[_0x242c5e(0x615)][_0x242c5e(0x665)](_0xd95756),this[_0x242c5e(0xe4)]=this['audioContext'][_0x242c5e(0x30a)](),this['clientStream'][_0x242c5e(0x671)]()['length']>0x0){const _0x329fea=this['clientStream'][_0x242c5e(0x671)]()[0x0];this[_0x242c5e(0x452)]=this['audioContext'][_0x242c5e(0x7c7)](new MediaStream([_0x329fea])),this['audioSource'][_0x242c5e(0x6b5)](this[_0x242c5e(0xe4)]);}const _0x32c517=this[_0x242c5e(0xe4)][_0x242c5e(0x6f6)][_0x242c5e(0x299)]()[0x0];this[_0x242c5e(0x878)][_0x242c5e(0x3db)](_0x32c517),this[_0x242c5e(0x6b0)]=setInterval(()=>{const _0x3ac971=_0x242c5e;this['canvas']['width']=this[_0x3ac971(0x216)][_0x3ac971(0x148)],this['canvas'][_0x3ac971(0x3d9)]=this['sourceVideo'][_0x3ac971(0x386)],this['sourceVideo'][_0x3ac971(0x148)]?(0x0!==this[_0x3ac971(0x4bb)]['getVideoTracks']()[_0x3ac971(0x99a)]&&this[_0x3ac971(0x4bb)][_0x3ac971(0x646)]()[0x0][_0x3ac971(0x67b)]?this[_0x3ac971(0x878)][_0x3ac971(0x646)]()[0x0][_0x3ac971(0x67b)]=!0x0:this[_0x3ac971(0x878)][_0x3ac971(0x646)]()[0x0]['enabled']=!0x1,0x0!==this[_0x3ac971(0x4bb)][_0x3ac971(0x671)]()[_0x3ac971(0x99a)]&&this[_0x3ac971(0x4bb)]['getAudioTracks']()[0x0][_0x3ac971(0x67b)]?this[_0x3ac971(0x878)][_0x3ac971(0x671)]()[0x0][_0x3ac971(0x67b)]=!0x0:this[_0x3ac971(0x878)]['getAudioTracks']()[0x0][_0x3ac971(0x67b)]=!0x1,this[_0x3ac971(0x424)][_0x3ac971(0x54e)](this[_0x3ac971(0x216)],0x0,0x0)):this['context']['clearRect'](0x0,0x0,this['canvas'][_0x3ac971(0x5a1)],this[_0x3ac971(0x615)]['height']);},0x3e8/_0xd95756);}[_0x4d9d4f(0x6ef)](){const _0x2097d4=_0x4d9d4f;clearInterval(this[_0x2097d4(0x6b0)]),this['sourceVideo']['remove'](),this[_0x2097d4(0x615)][_0x2097d4(0x371)](),this[_0x2097d4(0x452)]?.[_0x2097d4(0x916)](),this[_0x2097d4(0xe4)][_0x2097d4(0x916)](),this[_0x2097d4(0x878)][_0x2097d4(0x299)]()['forEach'](_0x12a598=>{const _0x5ab05d=_0x2097d4;_0x12a598[_0x5ab05d(0x505)](),this['mediaStream']['removeTrack'](_0x12a598);}),super['destroy']();}[_0x4d9d4f(0x3db)](_0x1a3814){const _0x49ecf6=_0x4d9d4f,_0x29d25a=this[_0x49ecf6(0x9be)](_0x1a3814[_0x49ecf6(0x8ca)]);_0x29d25a&&this['removeTrack'](_0x29d25a),_0x49ecf6(0x429)!==_0x1a3814[_0x49ecf6(0x8ca)]?(_0x49ecf6(0x59c)===_0x1a3814[_0x49ecf6(0x8ca)]&&this[_0x49ecf6(0x38d)](_0x1a3814),this[_0x49ecf6(0x585)](_0x1a3814)):this[_0x49ecf6(0x617)](_0x1a3814);}[_0x4d9d4f(0x885)](_0x2c3c8a){const _0x5f08e9=_0x4d9d4f,_0x1ea88e=this[_0x5f08e9(0x20e)](_0x2c3c8a);return _0x1ea88e&&(_0x5f08e9(0x429)===_0x1ea88e['kind']&&(this['audioSource']?.['disconnect'](),this[_0x5f08e9(0x452)]=void 0x0),this['trackEndedListeners'][_0x5f08e9(0x29f)](_0x1ea88e[_0x5f08e9(0x8ca)])?.(),this['clientStream'][_0x5f08e9(0x885)](_0x1ea88e)),_0x1ea88e;}[_0x4d9d4f(0x7d9)](_0x27f753){const _0x3fc259=_0x4d9d4f;this[_0x3fc259(0x885)](_0x27f753[_0x3fc259(0x8ca)]),this[_0x3fc259(0x3db)](_0x27f753);}[_0x4d9d4f(0x209)](_0x2402a9){const _0x5e2099=_0x4d9d4f;this[_0x5e2099(0x848)]=_0x2402a9;}[_0x4d9d4f(0x9be)](_0x44512d){const _0x529328=_0x4d9d4f;return this[_0x529328(0x4bb)]['getTracks']()[_0x529328(0x211)](_0x2a5699=>_0x2a5699[_0x529328(0x8ca)]===_0x44512d)||null;}[_0x4d9d4f(0x20e)](_0x5bcf48){const _0x46c68a=_0x4d9d4f;return _0x46c68a(0x794)==typeof _0x5bcf48?this['getTrack'](_0x5bcf48):_0x5bcf48;}[_0x4d9d4f(0x617)](_0x42220b){const _0x29b1ac=_0x4d9d4f;_0x29b1ac(0x14e)===this['audioContext'][_0x29b1ac(0x7cc)]&&this['audioContext'][_0x29b1ac(0x759)](),this[_0x29b1ac(0x4bb)]['addTrack'](_0x42220b),this['audioSource']=this[_0x29b1ac(0xf9)][_0x29b1ac(0x7c7)](this[_0x29b1ac(0x4bb)]),this[_0x29b1ac(0x452)][_0x29b1ac(0x6b5)](this['audioDestination']);}[_0x4d9d4f(0x38d)](_0x3eaeef){const _0x412165=_0x4d9d4f;this[_0x412165(0x4bb)][_0x412165(0x3db)](_0x3eaeef),this[_0x412165(0x216)]['load']();}}class _0x2ee750 extends _0x4b65b6{}class _0x351907 extends _0x5b0910{[_0x4d9d4f(0x772)];[_0x4d9d4f(0x95e)];[_0x4d9d4f(0x4e6)];[_0x4d9d4f(0x159)];[_0x4d9d4f(0x395)];['options'];[_0x4d9d4f(0x341)];[_0x4d9d4f(0x6a8)];[_0x4d9d4f(0xd3)]=new Map();['objectRequests']=new Map();[_0x4d9d4f(0x357)]=new Map();[_0x4d9d4f(0x374)]=new Map();['pendingFilesRename']=new Map();[_0x4d9d4f(0x23b)]=new Map();[_0x4d9d4f(0x408)];['eventListener']=_0x27eca1();[_0x4d9d4f(0x92b)]=new Map();['debounceStats'];[_0x4d9d4f(0xad)]=0x0;[_0x4d9d4f(0x503)]=0x0;[_0x4d9d4f(0x56f)]=!0x0;[_0x4d9d4f(0x81a)]=!0x0;[_0x4d9d4f(0x775)]=0x0;[_0x4d9d4f(0x82b)]=0x0;constructor(_0x5cf536,_0x2435d8,_0x77f0d5,_0x12320e,_0x17389d,_0x1987af,_0x409378,_0x439dc1){const _0x48f4b0=_0x4d9d4f;if(_0x48f4b0(0x794)!=typeof _0x2435d8)throw new _0x2554b3(_0x17f7da[_0x48f4b0(0x266)],_0x48f4b0(0x3b6));super(_0x5cf536,_0x2435d8),this['localNode']=_0x5cf536,this[_0x48f4b0(0x95e)]=_0x77f0d5,this[_0x48f4b0(0x4e6)]=_0x12320e,this[_0x48f4b0(0x159)]=_0x17389d,this[_0x48f4b0(0x395)]=_0x409378,this[_0x48f4b0(0x6cc)]=_0x439dc1;const _0x430120=_0x48f4b0(0x4be)+this[_0x48f4b0(0x4e6)]+_0x48f4b0(0x4be)+this[_0x48f4b0(0x95e)]+_0x48f4b0(0x4be)+_0x2435d8;this[_0x48f4b0(0x408)]=new _0x1987af(_0x430120),this[_0x48f4b0(0x56f)]=this['options']?.[_0x48f4b0(0x56f)]??!0x0,this[_0x48f4b0(0x6cc)]?.[_0x48f4b0(0x608)]&&(this[_0x48f4b0(0x56f)]=!0x1),this[_0x48f4b0(0x71e)]();}['reset'](){const _0x31396a=_0x4d9d4f;this[_0x31396a(0x71e)]();}[_0x4d9d4f(0x24e)](){const _0x56da16=_0x4d9d4f;return _0x2477c2[_0x56da16(0x61d)]['ObjectStore'];}async[_0x4d9d4f(0x7a6)](){const _0x4be190=_0x4d9d4f;this['isSyncing']=!0x0;try{const _0xb24d5c=await this[_0x4be190(0x408)][_0x4be190(0x29f)](_0x5984f9),_0x4c96da=await _0xb24d5c[_0x4be190(0x50e)]();this[_0x4be190(0x6a8)]=_0x4c96da;}catch(_0x353063){}this[_0x4be190(0x341)]=this[_0x4be190(0x4f2)](async(_0x1b9b1c,_0x201250)=>{const _0x5d1f2c=_0x4be190;if(!(_0x201250 instanceof File))try{if(_0x201250[_0x5d1f2c(0x3b4)]===_0x7b0c71['Request'])return void this[_0x5d1f2c(0x553)](_0x201250);this[_0x5d1f2c(0x970)](_0x201250);}catch(_0x14f9e3){if(_0x14f9e3 instanceof _0x56b2e7)throw _0x14f9e3;throw new _0x56b2e7(_0x56b2e7[_0x5d1f2c(0x90b)][_0x5d1f2c(0x383)],{'payload':_0x201250});}}),await this[_0x4be190(0x47b)](),this['syncContent']?await this[_0x4be190(0x5bf)]():this[_0x4be190(0x221)](),this[_0x4be190(0x71e)]();}[_0x4d9d4f(0x6ef)](){const _0x40dc26=_0x4d9d4f;this[_0x40dc26(0x341)]?.(),this[_0x40dc26(0x92b)][_0x40dc26(0x1dc)](_0xe61f90=>_0xe61f90()),this[_0x40dc26(0x92b)]['clear'](),clearTimeout(this[_0x40dc26(0x233)]),delete this['debounceStats'],super['destroy']();}['close'](){const _0x396b1b=_0x4d9d4f;this[_0x396b1b(0x26f)]?.['publish']({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x396b1b(0x72b)],'content':{'type':_0x2e4dcf['CloseObjectStoreBucket'],'label':this['label']}});}[_0x4d9d4f(0x3dd)](_0x4d4b00,_0xf17738){const _0x23465e=_0x4d9d4f;if(this[_0x23465e(0x92b)][_0x23465e(0x8dd)](_0x4d4b00))throw new _0x2554b3(_0x17f7da[_0x23465e(0x29d)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x23465e(0x92b)]['set'](_0x4d4b00,this[_0x23465e(0x5d5)][_0x23465e(0x3dd)](_0xf17738)),this[_0x23465e(0x81a)]||this[_0x23465e(0x5d5)][_0x23465e(0x817)]({'event':_0x2477c2[_0x23465e(0x88b)][_0x23465e(0x824)],'payload':{'filesSynced':this[_0x23465e(0x775)]}});}[_0x4d9d4f(0x4f9)](_0x33e325){const _0x125bf0=_0x4d9d4f;this[_0x125bf0(0x92b)][_0x125bf0(0x29f)](_0x33e325)?.(),this[_0x125bf0(0x92b)]['delete'](_0x33e325);}[_0x4d9d4f(0x817)](_0x68bac4){const _0x4122ba=_0x4d9d4f;switch(_0x68bac4['action']){case _0x2477c2[_0x4122ba(0x6e3)]['File']:return this[_0x4122ba(0x780)](_0x68bac4['file'],_0x68bac4[_0x4122ba(0x240)],_0x68bac4[_0x4122ba(0x6cc)]);case _0x2477c2[_0x4122ba(0x6e3)]['Folder']:return this[_0x4122ba(0x98e)](_0x68bac4['path']);case _0x2477c2[_0x4122ba(0x6e3)][_0x4122ba(0x4f4)]:return this[_0x4122ba(0x150)](_0x68bac4[_0x4122ba(0x240)],_0x68bac4['newPath']);default:throw new _0x2554b3(_0x17f7da['ObjectStoreInvalidPayload'],_0x4122ba(0x88d)+_0x68bac4);}}async[_0x4d9d4f(0x352)](_0x41cee3){const _0xe0d942=_0x4d9d4f;try{const _0x390a6f=(0x0,_0x4246fa['v4'])(),_0x28d034=this[_0xe0d942(0x6a8)],_0x6055a6={'payloadType':_0x7b0c71[_0xe0d942(0x4f0)],'action':_0x1e1db7[_0xe0d942(0x945)],'id':_0x390a6f,'parentId':_0x28d034,'path':_0x41cee3};await this[_0xe0d942(0x706)](_0x6055a6);const _0x520d23=await this['deleteObject'](_0x41cee3);!0x0!==this['options']?.[_0xe0d942(0x608)]&&await this[_0xe0d942(0x784)](_0x6055a6),_0x2644bc['logServiceEvent'](_0x30c1eb[_0xe0d942(0x210)],{'type':_0xe0d942(0x352),'label':this['label'],'nodeId':this[_0xe0d942(0x772)][_0xe0d942(0x9a5)](),'nodeType':this[_0xe0d942(0x772)][_0xe0d942(0x506)],'clusterId':this['clusterId'],'kind':_0x520d23,'path':_0x41cee3}),this[_0xe0d942(0xad)]+=0x1,this[_0xe0d942(0x71e)]();}catch(_0x530acc){if(_0x530acc instanceof _0x56b2e7)throw new _0x2554b3(_0x17f7da[_0xe0d942(0x434)],_0xe0d942(0x25e)+_0x41cee3+_0xe0d942(0x5c7));throw new _0x2554b3(_0x17f7da[_0xe0d942(0x85a)],'Cannot\x20unpublish\x20object:\x20'+_0x41cee3);}}async[_0x4d9d4f(0x29f)](_0x101c5e,_0x4bb715){const _0x449e66=_0x4d9d4f;_0x2644bc[_0x449e66(0x687)](_0x30c1eb[_0x449e66(0x210)],{'type':_0x449e66(0x29f),'label':this[_0x449e66(0x5da)],'nodeId':this[_0x449e66(0x772)]['getId'](),'nodeType':this[_0x449e66(0x772)]['type'],'clusterId':this[_0x449e66(0x95e)],'path':_0x101c5e}),this[_0x449e66(0x503)]+=0x1,this[_0x449e66(0x71e)]();try{return await this[_0x449e66(0x408)][_0x449e66(0x29f)](_0x101c5e,_0x4bb715);}catch(_0x377a4d){try{await this['objectStoreConnector'][_0x449e66(0x29f)](_0x101c5e+_0x236a2a);}catch(_0x218117){throw new _0x2554b3(_0x17f7da['ObjectStoreInvalidPath'],'Cannot\x20get\x20file:\x20'+_0x101c5e);}throw new _0x2554b3(_0x17f7da[_0x449e66(0x434)],'Object\x20store\x20is\x20not\x20in\x20sync');}}async['list'](_0xae47d3,_0x572bea){const _0x3359f5=_0x4d9d4f,{recursive:_0x5520ba=!0x1,includeSyncingFiles:_0x2e26eb=!0x1}=_0x572bea??{};_0x2644bc[_0x3359f5(0x687)](_0x30c1eb[_0x3359f5(0x210)],{'type':_0x3359f5(0x710),'label':this[_0x3359f5(0x5da)],'nodeId':this[_0x3359f5(0x772)][_0x3359f5(0x9a5)](),'nodeType':this['localNode'][_0x3359f5(0x506)],'clusterId':this[_0x3359f5(0x95e)],'path':_0xae47d3}),this[_0x3359f5(0x503)]+=0x1,this[_0x3359f5(0x71e)]();try{const _0x39d048=await this[_0x3359f5(0x408)]['list'](_0xae47d3,_0x5520ba);return this['processList'](_0x39d048,{'recursive':_0x5520ba,'includeSyncingFiles':_0x2e26eb});}catch(_0x5883fd){throw new _0x2554b3(_0x17f7da[_0x3359f5(0x85a)],_0x3359f5(0x7e6)+_0xae47d3);}}['handleNodeJoin'](_0x4606ce){const _0x94d5fe=_0x4d9d4f;this[_0x94d5fe(0x82b)]+=0x1;for(const _0x1547fc of this[_0x94d5fe(0x4a7)][_0x94d5fe(0x7a1)]())this['send'](_0x1547fc,[_0x4606ce]);}[_0x4d9d4f(0x4df)](_0x3bb49c){const _0x2a2ed9=_0x4d9d4f;this['nodesConnected']-=0x1;const _0x1f2f03=this[_0x2a2ed9(0x357)][_0x2a2ed9(0x29f)](_0x3bb49c);if(_0x1f2f03){for(const [_0x433649,_0x55b7fa]of _0x1f2f03[_0x2a2ed9(0x7a1)]())this[_0x2a2ed9(0x3cd)](_0x433649,_0x55b7fa);this[_0x2a2ed9(0x357)]['delete'](_0x3bb49c);}}async[_0x4d9d4f(0x61c)](_0x4d79cc='/'){const _0x58807a=_0x4d9d4f;try{return await this[_0x58807a(0x408)][_0x58807a(0x193)](_0x4d79cc);}catch(_0x265be4){if(_0x265be4 instanceof Error&&_0x265be4[_0x58807a(0x12c)]['includes']('ENOENT'))return 0x0;throw new _0x2554b3(_0x17f7da[_0x58807a(0x85a)],_0x58807a(0x369)+_0x4d79cc);}}['completeSync'](){const _0x21f215=_0x4d9d4f;this['isSyncing']&&(this['isSyncing']=!0x1,this[_0x21f215(0x5d5)][_0x21f215(0x817)]({'event':_0x2477c2['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this[_0x21f215(0x775)]}}));}async[_0x4d9d4f(0x677)](_0x3c12e5,{includeSyncingFiles:_0x6d9a40=!0x1}){const _0x423e7c=_0x4d9d4f,_0x26137c=[];for(const _0xf599e2 of _0x3c12e5)if(_0xf599e2[_0x423e7c(0x8ca)]!==_0x2477c2[_0x423e7c(0x538)][_0x423e7c(0x53d)]){if(_0xf599e2[_0x423e7c(0x697)]!==_0x5984f9){if(_0xf599e2[_0x423e7c(0x697)][_0x423e7c(0x732)](_0x236a2a)){if(!_0x6d9a40)continue;const _0x22eca4=_0xf599e2;if(_0x22eca4[_0x423e7c(0x697)]=_0x22eca4[_0x423e7c(0x697)]['replace'](_0x236a2a,''),_0x22eca4['pathName']=_0x22eca4['pathName'][_0x423e7c(0x5cc)](_0x236a2a,''),await this[_0x423e7c(0x1af)](_0x22eca4[_0x423e7c(0x3ba)])){_0x3c12e5[_0x423e7c(0x211)](_0x3e74e1=>_0x3e74e1['pathName']===_0x22eca4[_0x423e7c(0x3ba)])[_0x423e7c(0x320)]=_0x2477c2[_0x423e7c(0x568)][_0x423e7c(0x9e0)];continue;}_0x22eca4['status']=_0x2477c2['FileStatus'][_0x423e7c(0x10f)];}_0x26137c['push'](_0xf599e2);}}else _0xf599e2[_0x423e7c(0x7ff)]=await this[_0x423e7c(0x677)](_0xf599e2['entries']??[],{'includeSyncingFiles':_0x6d9a40}),_0x26137c[_0x423e7c(0x9e2)](_0xf599e2);return _0x26137c;}async[_0x4d9d4f(0x780)](_0x53fd75,_0x36350b,_0x3163cf){const _0x20f516=_0x4d9d4f;try{const _0xde251f=(0x0,_0x4246fa['v4'])(),_0x8f3953=await _0x2142a9(_0x53fd75),_0xef1551=_0x5d4b5a(_0x36350b??'/',_0x53fd75['name']);let _0x31c075=!0x0;const _0x52fd18={'payloadType':_0x7b0c71[_0x20f516(0x4f0)],'action':_0x1e1db7[_0x20f516(0x7a3)],'id':_0xde251f,'parentId':this[_0x20f516(0x6a8)],'answererId':this[_0x20f516(0x772)][_0x20f516(0x9a5)](),'name':_0x53fd75['name'],'type':_0x53fd75[_0x20f516(0x506)],'path':_0x36350b??'/','skipEncryption':_0x3163cf?.['skipEncryption']??!0x1,'checksum':_0x8f3953};try{if(!_0x3163cf?.[_0x20f516(0x6c3)])throw new Error('Publish\x20the\x20transaction');const _0x49468b=_0xef1551+_0x236a2a;await this[_0x20f516(0x408)][_0x20f516(0x29f)](_0x49468b),_0x31c075=!0x1,await this[_0x20f516(0x408)][_0x20f516(0x377)](_0x49468b),this['objectRequests']['delete'](_0xef1551);}catch(_0x1af294){await this['publishTransaction'](_0x52fd18);}if(this[_0x20f516(0x56f)]||this[_0x20f516(0x6cc)]?.[_0x20f516(0x608)]?await this[_0x20f516(0x1b0)](_0x53fd75,_0x36350b,_0x3163cf):await this['createPendingFileWrite'](_0x53fd75['name'],_0x36350b??'/',{'checksum':_0x8f3953,'skipEncryption':_0x3163cf?.[_0x20f516(0x524)]??!0x1}),this['fileSendingMap'][_0x20f516(0x8dd)](_0xef1551)){const [_0x84e4f0,_0xefd16]=this[_0x20f516(0x23b)][_0x20f516(0x29f)](_0xef1551);this['fileSendingMap'][_0x20f516(0xcd)](_0xef1551,[!0x0,_0xefd16]);try{await _0xefd16;}catch(_0x5c12e9){}this[_0x20f516(0x23b)][_0x20f516(0x465)](_0xef1551);}_0x31c075&&this['nodesConnected']>0x0&&!0x0!==this['options']?.[_0x20f516(0x608)]&&await this['sendFile'](_0x53fd75,_0x52fd18),_0x2644bc[_0x20f516(0x687)](_0x30c1eb[_0x20f516(0x210)],{'type':_0x20f516(0x817),'label':this[_0x20f516(0x5da)],'nodeId':this[_0x20f516(0x772)][_0x20f516(0x9a5)](),'nodeType':this['localNode'][_0x20f516(0x506)],'clusterId':this['clusterId'],'kind':_0x2477c2['ObjectKind'][_0x20f516(0x2b8)],'path':_0x36350b,'fileName':_0x53fd75[_0x20f516(0x697)],'fileType':_0x53fd75[_0x20f516(0x506)],'size':_0x53fd75[_0x20f516(0x573)]}),this[_0x20f516(0xad)]+=0x1,this[_0x20f516(0x71e)]();}catch(_0x21a1b2){if(_0x21a1b2 instanceof _0x56b2e7)throw new _0x2554b3(_0x17f7da['ObjectStoreNotInSync'],_0x20f516(0x53e));throw new _0x2554b3(_0x17f7da[_0x20f516(0x85a)],'Cannot\x20publish\x20file:\x20'+_0x36350b+(_0x36350b?.[_0x20f516(0x732)]('/')?'':'/')+_0x53fd75[_0x20f516(0x697)]);}}async[_0x4d9d4f(0x98e)](_0x2687ca){const _0x5ac1f3=_0x4d9d4f;try{const _0x2ca348=(0x0,_0x4246fa['v4'])(),_0x3fd80c=this[_0x5ac1f3(0x6a8)],_0xb0be07={'payloadType':_0x7b0c71['Transaction'],'action':_0x1e1db7['FolderCreate'],'id':_0x2ca348,'parentId':_0x3fd80c,'path':_0x2687ca};await this[_0x5ac1f3(0x706)](_0xb0be07),await this[_0x5ac1f3(0x408)][_0x5ac1f3(0x922)](_0x2687ca),!0x0!==this[_0x5ac1f3(0x6cc)]?.[_0x5ac1f3(0x608)]&&await this[_0x5ac1f3(0x784)](_0xb0be07),_0x2644bc[_0x5ac1f3(0x687)](_0x30c1eb[_0x5ac1f3(0x210)],{'type':_0x5ac1f3(0x817),'label':this[_0x5ac1f3(0x5da)],'nodeId':this[_0x5ac1f3(0x772)][_0x5ac1f3(0x9a5)](),'nodeType':this[_0x5ac1f3(0x772)]['type'],'clusterId':this[_0x5ac1f3(0x95e)],'kind':_0x2477c2['ObjectKind'][_0x5ac1f3(0x53d)],'path':_0x2687ca}),this[_0x5ac1f3(0xad)]+=0x1,this[_0x5ac1f3(0x71e)]();}catch(_0x29f0b5){if(_0x29f0b5 instanceof _0x56b2e7)throw new _0x2554b3(_0x17f7da[_0x5ac1f3(0x434)],_0x5ac1f3(0x53e));throw new _0x2554b3(_0x17f7da['ObjectStoreInvalidPath'],_0x5ac1f3(0x579)+_0x2687ca);}}async[_0x4d9d4f(0x150)](_0x43e8d0,_0x24f737){const _0x17c34a=_0x4d9d4f;try{const _0x170757=(0x0,_0x4246fa['v4'])(),_0x408378=this[_0x17c34a(0x6a8)],_0x303e4f={'payloadType':_0x7b0c71[_0x17c34a(0x4f0)],'action':_0x1e1db7[_0x17c34a(0x4f4)],'id':_0x170757,'parentId':_0x408378,'path':_0x43e8d0,'newPath':_0x24f737};await this[_0x17c34a(0x706)](_0x303e4f);const _0xdb8761=await this['moveObject'](_0x43e8d0,_0x24f737);!0x0!==this['options']?.[_0x17c34a(0x608)]&&await this[_0x17c34a(0x784)](_0x303e4f),_0x2644bc[_0x17c34a(0x687)](_0x30c1eb[_0x17c34a(0x210)],{'type':'move','label':this[_0x17c34a(0x5da)],'nodeId':this['localNode'][_0x17c34a(0x9a5)](),'nodeType':this[_0x17c34a(0x772)][_0x17c34a(0x506)],'clusterId':this[_0x17c34a(0x95e)],'kind':_0xdb8761,'path':_0x43e8d0,'newPath':_0x24f737}),this[_0x17c34a(0xad)]+=0x1,this[_0x17c34a(0x71e)]();}catch(_0x3f04bc){if(_0x3f04bc instanceof _0x56b2e7)throw new _0x2554b3(_0x17f7da[_0x17c34a(0x434)],_0x17c34a(0x53e));throw new _0x2554b3(_0x17f7da[_0x17c34a(0x85a)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x43e8d0);}}async['handleTransactionPayload'](_0x184451,_0x1a8199=!0x1){const _0x4339ed=_0x4d9d4f;if(this['lastTransactionId']&&_0x184451[_0x4339ed(0x126)]!==this['lastTransactionId']&&_0x184451['id']!==this[_0x4339ed(0x6a8)]){if(!_0x184451[_0x4339ed(0x126)])throw new _0x56b2e7(_0x56b2e7[_0x4339ed(0x90b)][_0x4339ed(0x383)]);this['pendingSyncTransactions']['set'](_0x184451[_0x4339ed(0x126)],_0x184451);}else{try{await this['processTransactionPayload'](_0x184451,_0x1a8199);}catch(_0x9cb1d2){}await this['updateLastTransactionId'](_0x184451['id']),await this[_0x4339ed(0x760)](_0x184451['id'],_0x1a8199);}}async[_0x4d9d4f(0x4bc)](_0x2a1669,_0x48192e=!0x1){const _0x4528c3=_0x4d9d4f;switch(_0x2a1669[_0x4528c3(0x6f2)]){case _0x1e1db7[_0x4528c3(0x7a3)]:await this['handleFileWrite'](_0x2a1669);break;case _0x1e1db7[_0x4528c3(0x953)]:await this[_0x4528c3(0x66c)](_0x2a1669);break;case _0x1e1db7[_0x4528c3(0x4f4)]:await this[_0x4528c3(0x965)](_0x2a1669,_0x48192e);break;case _0x1e1db7[_0x4528c3(0x945)]:await this['handleObjectDelete'](_0x2a1669,_0x48192e);break;default:throw new _0x56b2e7(_0x56b2e7[_0x4528c3(0x90b)][_0x4528c3(0x383)],{'payload':_0x2a1669});}}async[_0x4d9d4f(0x760)](_0x2c14ae,_0x2e33f9=!0x1){const _0x2e8bd0=_0x4d9d4f;if(this[_0x2e8bd0(0xd3)][_0x2e8bd0(0x8dd)](_0x2c14ae)){const _0x14e1e2=this[_0x2e8bd0(0xd3)][_0x2e8bd0(0x29f)](_0x2c14ae);this['pendingSyncTransactions'][_0x2e8bd0(0x465)](_0x2c14ae),await this[_0x2e8bd0(0x970)](_0x14e1e2,_0x2e33f9);}}async[_0x4d9d4f(0x553)](_0x35b004){const _0x2e8284=_0x4d9d4f;switch(_0x35b004[_0x2e8284(0x6f2)]){case _0x1e1db7[_0x2e8284(0x103)]:return this['handleFileRequest'](_0x35b004);case _0x1e1db7[_0x2e8284(0x37f)]:return this[_0x2e8284(0x659)](_0x35b004);case _0x1e1db7[_0x2e8284(0x735)]:return this[_0x2e8284(0x151)](_0x35b004);case _0x1e1db7[_0x2e8284(0x411)]:return this['handleFileWrite'](_0x35b004);default:throw new _0x56b2e7(_0x56b2e7[_0x2e8284(0x90b)][_0x2e8284(0x383)],{'payload':_0x35b004});}}async[_0x4d9d4f(0x461)](_0x59705a,_0x26e7af=0x0){const _0x129b58=_0x4d9d4f,_0x25453a=_0x5d4b5a(_0x59705a['path'],_0x59705a[_0x129b58(0x697)]);if(!_0x59705a[_0x129b58(0x626)]||void 0x0===_0x59705a[_0x129b58(0x361)]||!_0x59705a[_0x129b58(0x130)])return this[_0x129b58(0x9e6)][_0x129b58(0x465)](_0x25453a),void await this[_0x129b58(0x3ef)](_0x59705a[_0x129b58(0x697)],_0x59705a[_0x129b58(0x240)],{'checksum':_0x59705a[_0x129b58(0x15e)],'skipEncryption':_0x59705a[_0x129b58(0x524)]});if(this[_0x129b58(0x9e6)][_0x129b58(0x8dd)](_0x25453a)){const _0x4ffe03=this['fileChunks']['get'](_0x25453a);_0x4ffe03[_0x129b58(0x15e)]!==_0x59705a[_0x129b58(0x15e)]&&(_0x4ffe03[_0x129b58(0x6f6)]?.[_0x129b58(0x6d7)](),this['fileChunks'][_0x129b58(0x465)](_0x25453a));}if(!this[_0x129b58(0x9e6)][_0x129b58(0x8dd)](_0x25453a)){try{await this[_0x129b58(0x408)][_0x129b58(0x377)](_0x25453a);}catch(_0x389f81){}try{const _0x395a24=this[_0x129b58(0x56f)]?await this[_0x129b58(0x408)][_0x129b58(0x50b)](_0x25453a,{'skipEncryption':_0x59705a[_0x129b58(0x524)]}):void 0x0,_0x5bb8da={'chunksReceived':_0x59705a[_0x129b58(0x998)]??0x0,'bytesReceived':0x0,'stream':_0x395a24,'checksum':_0x59705a['checksum']};this[_0x129b58(0x9e6)][_0x129b58(0xcd)](_0x25453a,_0x5bb8da),await this[_0x129b58(0x3ef)](_0x59705a['name'],_0x59705a['path'],{'checksum':_0x59705a['checksum'],'skipEncryption':_0x59705a[_0x129b58(0x524)]});}catch(_0xfd8a3){}}const _0x5617dd=this[_0x129b58(0x9e6)][_0x129b58(0x29f)](_0x25453a);if(_0x59705a[_0x129b58(0x15e)]!==_0x5617dd[_0x129b58(0x15e)])return;if(this[_0x129b58(0x48f)](_0x59705a,_0x25453a),this['syncContent']){if(!_0x5617dd[_0x129b58(0x6f6)])throw new _0x56b2e7(_0x56b2e7[_0x129b58(0x90b)][_0x129b58(0x383)],{'message':_0x129b58(0x3d3)});let _0x5b479b=_0x5617dd[_0x129b58(0x704)];if(_0x59705a[_0x129b58(0x361)]!==_0x5b479b){if(_0x5b479b>_0x59705a[_0x129b58(0x361)])return;const _0x52da19=2064.1259842519685;if(_0x59705a[_0x129b58(0x361)]>_0x5b479b+_0x52da19)return;if(_0x5617dd[_0x129b58(0x220)]||(_0x5617dd[_0x129b58(0x220)]=[]),_0x5617dd['bufferedChunks'][_0x129b58(0x99a)]>8256.503937007874)throw this[_0x129b58(0x9e6)][_0x129b58(0x465)](_0x25453a),new _0x56b2e7(_0x56b2e7['codes'][_0x129b58(0x383)],{'message':'Buffered\x20chunks\x20are\x20too\x20large'});return void _0x5617dd[_0x129b58(0x220)][_0x129b58(0x9e2)](_0x59705a);}try{_0x5617dd[_0x129b58(0x704)]+=0x1,_0x5617dd[_0x129b58(0x365)]+=_0x59705a[_0x129b58(0x626)][_0x129b58(0x578)],await _0x5617dd[_0x129b58(0x6f6)]['write'](_0x59705a['data']);}catch(_0xf1ca6){if(console[_0x129b58(0x716)](_0x129b58(0x62e),_0xf1ca6),_0x26e7af>0x3)throw this['fileChunks'][_0x129b58(0x465)](_0x25453a),console[_0x129b58(0x716)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0xf1ca6),new _0x56b2e7(_0x56b2e7['codes'][_0x129b58(0x383)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this[_0x129b58(0x461)](_0x59705a,_0x26e7af+0x1);}}try{await this[_0x129b58(0x695)](_0x5617dd,_0x59705a[_0x129b58(0x361)]+0x1);}catch(_0x511dd5){throw this[_0x129b58(0x9e6)][_0x129b58(0x465)](_0x25453a),_0x511dd5;}if(this[_0x129b58(0x9e6)][_0x129b58(0xcd)](_0x25453a,_0x5617dd),_0x5617dd['chunksReceived']<_0x59705a[_0x129b58(0x130)])return;await this[_0x129b58(0x842)](_0x25453a),this['syncContent']&&(await this['deletePendingFile'](_0x59705a),_0x2644bc[_0x129b58(0x687)](_0x30c1eb['ObjectStorage'],{'type':_0x129b58(0x7a6),'label':this[_0x129b58(0x5da)],'nodeId':this[_0x129b58(0x772)][_0x129b58(0x9a5)](),'nodeType':this['localNode'][_0x129b58(0x506)],'clusterId':this[_0x129b58(0x95e)],'kind':_0x2477c2['ObjectKind']['File'],'path':_0x59705a[_0x129b58(0x240)],'fileName':_0x59705a[_0x129b58(0x697)],'fileType':_0x59705a[_0x129b58(0x506)],'size':_0x5617dd[_0x129b58(0x365)]}));const _0x42327f=this[_0x129b58(0x374)][_0x129b58(0x29f)](_0x59705a[_0x129b58(0x240)])??[];for(const _0x3a9af8 of _0x42327f)await this[_0x129b58(0x4bc)](_0x3a9af8);this['pendingFilesTransactions'][_0x129b58(0x465)](_0x59705a['path']),this[_0x129b58(0x5d5)]['publish']({'event':_0x2477c2[_0x129b58(0x88b)][_0x129b58(0x7a3)],'payload':{'file':{'kind':_0x2477c2[_0x129b58(0x538)]['File'],'path':_0x59705a['path'],'type':_0x59705a[_0x129b58(0x506)],'size':_0x5617dd['bytesReceived'],'name':_0x59705a[_0x129b58(0x697)],'pathName':_0x25453a,'status':this[_0x129b58(0x56f)]?_0x2477c2[_0x129b58(0x568)][_0x129b58(0x271)]:_0x2477c2[_0x129b58(0x568)][_0x129b58(0x10f)]}}}),this['sendStats']();}async['manageBufferedChunks'](_0x40a94a,_0x3992e0){const _0x25df61=_0x4d9d4f,_0x456f21=_0x40a94a[_0x25df61(0x6f6)];let _0xba451d=0x0;for(;_0x40a94a[_0x25df61(0x220)]&&_0x40a94a[_0x25df61(0x220)]['length']>0x0;){const _0x106828=_0x40a94a['bufferedChunks'][_0x25df61(0x211)](_0x473380=>_0x473380[_0x25df61(0x361)]===_0x3992e0+0x1);if(!_0x106828)break;_0x40a94a[_0x25df61(0x220)]=_0x40a94a[_0x25df61(0x220)]['filter'](_0x1785bd=>_0x1785bd[_0x25df61(0x361)]!==_0x3992e0+0x1);try{await _0x456f21['write'](_0x106828['data']),_0x3992e0++;}catch(_0x1c18bf){if(console[_0x25df61(0x716)](_0x25df61(0x7cd),_0x1c18bf),_0xba451d>0x3)throw console['error']('Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x1c18bf),new _0x56b2e7(_0x56b2e7[_0x25df61(0x90b)][_0x25df61(0x383)],{'message':_0x25df61(0x95a)});_0xba451d++;continue;}_0x40a94a['chunksReceived']+=0x1,_0x40a94a[_0x25df61(0x365)]+=_0x106828[_0x25df61(0x626)]['byteLength'];}}async['handleFolderCreate'](_0x31e69f){const _0xe1917c=_0x4d9d4f;await this[_0xe1917c(0x408)][_0xe1917c(0x922)](_0x31e69f['path']);const [_0x20a633,_0x75baf]=_0x291b00(_0x31e69f[_0xe1917c(0x240)]);this[_0xe1917c(0x5d5)]['publish']({'event':_0x2477c2[_0xe1917c(0x88b)][_0xe1917c(0x953)],'payload':{'folder':{'kind':_0x2477c2[_0xe1917c(0x538)][_0xe1917c(0x53d)],'name':_0x75baf,'path':_0x20a633,'pathName':_0x31e69f[_0xe1917c(0x240)]}}});}async[_0x4d9d4f(0x131)](_0x16009e,_0xa6f328=!0x1){const _0x385e99=_0x4d9d4f;if(!_0xa6f328&&!this[_0x385e99(0x350)](_0x16009e))return;const _0x3914bf=await this[_0x385e99(0x377)](_0x16009e[_0x385e99(0x240)]),[_0x54092d,_0x5e7a91]=_0x291b00(_0x16009e[_0x385e99(0x240)]);this['eventListener'][_0x385e99(0x817)]({'event':_0x3914bf===_0x2477c2['ObjectKind']['Folder']?_0x2477c2[_0x385e99(0x88b)][_0x385e99(0x6e7)]:_0x2477c2[_0x385e99(0x88b)][_0x385e99(0x7cf)],'payload':{'name':_0x5e7a91,'path':_0x54092d,'pathName':_0x16009e['path']}}),this['sendStats']();}async['handleObjectMove'](_0x36d9cb,_0x16aab1=!0x1){const _0x45f6e5=_0x4d9d4f;if(!_0x16aab1&&!this['shouldProcessTransaction'](_0x36d9cb))return this[_0x45f6e5(0xc2)][_0x45f6e5(0xcd)](_0x36d9cb[_0x45f6e5(0x3a7)],this['pendingFilesRename'][_0x45f6e5(0x29f)](_0x36d9cb['path'])??_0x36d9cb['path']),void this['pendingFilesRename'][_0x45f6e5(0x465)](_0x36d9cb[_0x45f6e5(0x240)]);this[_0x45f6e5(0xc2)][_0x45f6e5(0x465)](_0x36d9cb['path']);const _0x5bdc80=await this[_0x45f6e5(0x408)][_0x45f6e5(0x652)](_0x36d9cb[_0x45f6e5(0x240)],_0x36d9cb['newPath']),[_0x3dc94e,_0x2c6385]=_0x291b00(_0x36d9cb[_0x45f6e5(0x240)]),[_0x5b8278,_0x4f1ec5]=_0x291b00(_0x36d9cb[_0x45f6e5(0x3a7)]);this[_0x45f6e5(0x5d5)][_0x45f6e5(0x817)]({'event':_0x5bdc80===_0x2477c2[_0x45f6e5(0x538)][_0x45f6e5(0x53d)]?_0x2477c2[_0x45f6e5(0x88b)][_0x45f6e5(0x521)]:_0x2477c2[_0x45f6e5(0x88b)][_0x45f6e5(0x25d)],'payload':{'name':_0x4f1ec5,'path':_0x5b8278,'pathName':_0x36d9cb['newPath'],'oldName':_0x2c6385,'oldPath':_0x3dc94e,'oldPathName':_0x36d9cb[_0x45f6e5(0x240)]}}),this['sendStats']();}[_0x4d9d4f(0x350)](_0x5420ce){const _0xb725d8=_0x4d9d4f,_0x41194c=this[_0xb725d8(0xc2)][_0xb725d8(0x29f)](_0x5420ce['path'])??_0x5420ce['path'];let _0x266512=!0x1;for(const _0x4d9051 of this[_0xb725d8(0x9e6)][_0xb725d8(0x224)]())if(_0x4d9051['startsWith'](_0x41194c)){const _0x1cd5eb=this[_0xb725d8(0x374)]['get'](_0x4d9051)??[];_0x1cd5eb[_0xb725d8(0x9e2)](_0x5420ce),this['pendingFilesTransactions'][_0xb725d8(0xcd)](_0x4d9051,_0x1cd5eb),_0x266512=!0x0;}return!_0x266512;}async[_0x4d9d4f(0x706)](_0x4d4479){const _0x319a41=_0x4d9d4f;if(!this[_0x319a41(0x6cc)]?.['standalone']){if(!_0x4d4479['id'])throw new _0x56b2e7(_0x56b2e7[_0x319a41(0x90b)][_0x319a41(0x383)],{'message':_0x319a41(0x91a)});if(_0x4d4479[_0x319a41(0x126)]!==this[_0x319a41(0x6a8)])throw new _0x56b2e7(_0x56b2e7[_0x319a41(0x90b)]['ObjectStoreNotSynced']);await this[_0x319a41(0x159)][_0x319a41(0x9c9)](_0x4d4479,this[_0x319a41(0x5da)]),await this['updateLastTransactionId'](_0x4d4479['id']);}}async[_0x4d9d4f(0x740)](_0x441fce){const _0x448f2b=_0x4d9d4f;this[_0x448f2b(0x6a8)]=_0x441fce;const _0x504193=new File([new Blob([this[_0x448f2b(0x6a8)]])],_0x5984f9,{'type':_0x448f2b(0x1c8)});await this[_0x448f2b(0x1b0)](_0x504193,'/');}async[_0x4d9d4f(0x6b6)](_0xb69d05){const _0x30e926=_0x4d9d4f;try{const _0x377177=await this['get'](_0xb69d05['path']+'/'+_0xb69d05[_0x30e926(0x697)],{'skipEncryption':_0xb69d05['skipEncryption']}),_0x49e78d=await _0x2142a9(_0x377177);if(''!==_0xb69d05[_0x30e926(0x15e)]&&_0x49e78d!==_0xb69d05[_0x30e926(0x15e)])return;_0xb69d05[_0x30e926(0x307)]=this['localNode'][_0x30e926(0x9a5)](),_0xb69d05[_0x30e926(0x6f2)]=_0x1e1db7[_0x30e926(0x37f)],await this['send'](_0xb69d05,[_0xb69d05[_0x30e926(0x68c)]]);}catch(_0x1cd9ed){}}async[_0x4d9d4f(0x659)](_0x229978){const _0x3dbb58=_0x4d9d4f,_0x18b901=_0x5d4b5a(_0x229978[_0x3dbb58(0x240)],_0x229978[_0x3dbb58(0x697)]);if(!this['objectRequests'][_0x3dbb58(0x8dd)](_0x18b901))return;const _0x3b8b12=this['objectRequests'][_0x3dbb58(0x29f)](_0x18b901);_0x3b8b12[_0x3dbb58(0x6f2)]=_0x1e1db7[_0x3dbb58(0x735)];const _0x27c442=_0x229978['answererId'];if(!_0x27c442)throw new _0x56b2e7(_0x56b2e7[_0x3dbb58(0x90b)][_0x3dbb58(0x383)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this['objectRequests']['delete'](_0x18b901),this['pendingFilesSyncing'][_0x3dbb58(0x8dd)](_0x27c442)||this['pendingFilesSyncing'][_0x3dbb58(0xcd)](_0x27c442,new Map()),this['pendingFilesSyncing'][_0x3dbb58(0x29f)](_0x27c442)[_0x3dbb58(0xcd)](_0x18b901,[_0x3b8b12,this[_0x3dbb58(0x8bf)](_0x27c442,_0x18b901)]),_0x3b8b12[_0x3dbb58(0x307)]=_0x27c442,_0x3b8b12['startIndex']=this['fileChunks'][_0x3dbb58(0x29f)](_0x18b901)?.[_0x3dbb58(0x704)]??0x0,0x0===_0x3b8b12['startIndex'])try{const [_0x3cb837,_0x51b27b]=await this['checkExistingPendingFileContent'](_0x229978[_0x3dbb58(0x697)],_0x229978[_0x3dbb58(0x240)],_0x229978[_0x3dbb58(0x15e)]);_0x3cb837&&(_0x3b8b12['startIndex']=_0x51b27b);}catch(_0x330cd2){}this[_0x3dbb58(0x784)](_0x3b8b12,[_0x27c442]);}async[_0x4d9d4f(0x151)](_0xaaae25){const _0x21a598=_0x4d9d4f,_0x38d3aa=_0x5d4b5a(_0xaaae25[_0x21a598(0x240)],_0xaaae25[_0x21a598(0x697)]),_0x538583=await this[_0x21a598(0x29f)](_0x38d3aa,{'skipEncryption':_0xaaae25[_0x21a598(0x524)]}),_0xf47100={..._0xaaae25,'answererId':this[_0x21a598(0x772)][_0x21a598(0x9a5)](),'action':_0x1e1db7['RequestFileWrite'],'startIndex':_0xaaae25[_0x21a598(0x998)]??0x0};await this[_0x21a598(0x102)](_0x538583,_0xf47100,[_0xaaae25[_0x21a598(0x68c)]]);}async[_0x4d9d4f(0x102)](_0x5708af,_0x3d52e0,_0x49bf4a){let _0xb87238,_0x546ae8;const _0xe79112=new Promise(async(_0x5e8ec5,_0x2992a6)=>{_0xb87238=_0x5e8ec5,_0x546ae8=_0x2992a6;});return((async()=>{const _0x8d3de9=a0_0x1399,_0x53f68c=Math[_0x8d3de9(0x21c)](_0x5708af[_0x8d3de9(0x573)]/_0x681e57);let _0x494077=_0x3d52e0[_0x8d3de9(0x998)]??0x0;const _0x55373c=_0x5d4b5a(_0x3d52e0[_0x8d3de9(0x240)],_0x3d52e0[_0x8d3de9(0x697)]);this[_0x8d3de9(0x23b)]['set'](_0x55373c,[!0x1,_0xe79112]);for await(const _0x2ca170 of async function*(_0x237fca,_0x539691=0x0,_0x2c558f){for await(const _0x6bfa76 of _0xbacd86(_0x237fca,_0x539691,_0x2c558f))yield _0x6bfa76;}(_0x5708af,_0x494077,this[_0x8d3de9(0x395)])){const [_0xb8e87]=this[_0x8d3de9(0x23b)][_0x8d3de9(0x29f)](_0x55373c)??[];if(_0xb8e87)return this[_0x8d3de9(0x23b)][_0x8d3de9(0x465)](_0x55373c),void _0x546ae8(new Error(_0x8d3de9(0x379)));if(this[_0x8d3de9(0x374)][_0x8d3de9(0x8dd)](_0x55373c)){const _0x89cdb9=this[_0x8d3de9(0x374)][_0x8d3de9(0x29f)](_0x55373c);for(const _0x208479 of _0x89cdb9)if(_0x208479[_0x8d3de9(0x6f2)]===_0x1e1db7['FileWrite']||_0x208479[_0x8d3de9(0x6f2)]===_0x1e1db7['Delete'])return;}const _0x2ef4bf={..._0x3d52e0,'type':_0x5708af[_0x8d3de9(0x506)],'data':_0x2ca170,'index':_0x494077,'total':_0x53f68c};this[_0x8d3de9(0x784)](_0x2ef4bf,_0x49bf4a),_0x494077++;}const _0x4efa27=setInterval(async()=>{const _0x4f2d06=_0x8d3de9;await this[_0x4f2d06(0x395)]()>0x0||(clearInterval(_0x4efa27),_0xb87238());});this[_0x8d3de9(0x23b)][_0x8d3de9(0x465)](_0x55373c);})()),_0xe79112;}async['deletePendingFile'](_0x282a2f){const _0x32b90b=_0x4d9d4f;try{const _0x45b473=_0x5d4b5a(_0x282a2f[_0x32b90b(0x240)],_0x282a2f['name']),_0x2449e9=_0x45b473+_0x236a2a;await this['deleteObject'](_0x2449e9);const [,_0x4fb006]=this[_0x32b90b(0x357)]['get'](_0x282a2f['answererId'])?.[_0x32b90b(0x29f)](_0x45b473)??[];_0x4fb006&&(clearTimeout(_0x4fb006),this[_0x32b90b(0x357)][_0x32b90b(0x29f)](_0x282a2f['answererId'])['delete'](_0x45b473));}catch(_0x3000b1){}0x0===this[_0x32b90b(0x357)][_0x32b90b(0x29f)](_0x282a2f[_0x32b90b(0x307)])?.[_0x32b90b(0x573)]&&this[_0x32b90b(0x357)][_0x32b90b(0x465)](_0x282a2f[_0x32b90b(0x307)]),0x0===this[_0x32b90b(0x357)][_0x32b90b(0x573)]&&0x0===this[_0x32b90b(0x4a7)][_0x32b90b(0x573)]&&this[_0x32b90b(0x221)]();}async['syncTransactions'](){const _0x39a231=_0x4d9d4f;try{const _0x38d058=await this['transactionService'][_0x39a231(0x9e8)](this[_0x39a231(0x5da)],this['lastTransactionId']);for(const _0x5e0781 of _0x38d058)await this['handleTransactionPayload'](_0x5e0781,!0x0);}catch(_0x2b2b7f){if(_0x2b2b7f instanceof _0x56b2e7&&_0x2b2b7f['code']===_0x56b2e7[_0x39a231(0x90b)]['ObjectStoreInvalidState']){await this['objectStoreConnector'][_0x39a231(0x377)](_0x5984f9),delete this[_0x39a231(0x6a8)];try{const _0x3a11ee=await this[_0x39a231(0x408)][_0x39a231(0x710)]('/',!0x1);for(const _0x303253 of _0x3a11ee)await this[_0x39a231(0x408)][_0x39a231(0x377)](_0x303253[_0x39a231(0x3ba)]);}catch(_0x2b1384){}return await this[_0x39a231(0x47b)]();}throw _0x2b2b7f;}}async[_0x4d9d4f(0x5bf)](){const _0x2ae4fd=_0x4d9d4f,_0x4795a1=await this[_0x2ae4fd(0x710)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x4a2f14=async _0x28a1c1=>{const _0x24e5a0=_0x2ae4fd;for(const _0x4e166d of _0x28a1c1){if(_0x4e166d[_0x24e5a0(0x8ca)]===_0x2477c2[_0x24e5a0(0x538)][_0x24e5a0(0x53d)]){_0x4e166d[_0x24e5a0(0x7ff)]&&_0x4e166d[_0x24e5a0(0x7ff)][_0x24e5a0(0x99a)]>0x0&&await _0x4a2f14(_0x4e166d['entries']);continue;}if(_0x4e166d[_0x24e5a0(0x320)]!==_0x2477c2['FileStatus']['Pending'])continue;const _0x16eb7c=await this[_0x24e5a0(0x29f)](_0x4e166d[_0x24e5a0(0x3ba)]+_0x236a2a),_0x26eb5a=JSON['parse'](await _0x16eb7c[_0x24e5a0(0x50e)]()),_0x30500b=_0x4e166d[_0x24e5a0(0x697)]['replace'](_0x236a2a,''),_0x5c4fcc={'payloadType':_0x7b0c71[_0x24e5a0(0x835)],'action':_0x1e1db7['RequestFile'],'sourceId':this[_0x24e5a0(0x772)][_0x24e5a0(0x9a5)](),'type':'','path':_0x4e166d[_0x24e5a0(0x240)],'name':_0x30500b,'checksum':_0x26eb5a['checksum'],'skipEncryption':_0x26eb5a[_0x24e5a0(0x524)]},_0xf4447c=_0x5d4b5a(_0x4e166d[_0x24e5a0(0x240)],_0x30500b);this[_0x24e5a0(0x4a7)]['set'](_0xf4447c,_0x5c4fcc);}};await _0x4a2f14(_0x4795a1),0x0===this[_0x2ae4fd(0x4a7)]['size']&&0x0===this[_0x2ae4fd(0x357)][_0x2ae4fd(0x573)]&&this[_0x2ae4fd(0x221)]();}async[_0x4d9d4f(0x3ef)](_0x4b929a,_0x1a9055,_0x302051){const _0x547534=_0x4d9d4f,_0x5ef53c=new File([new Blob([JSON['stringify'](_0x302051)])],''+_0x4b929a+_0x236a2a,{'type':_0x547534(0x1c8)});await this[_0x547534(0x1b0)](_0x5ef53c,_0x1a9055);}async['checkExistingPendingFileContent'](_0x35cbe0,_0x57d9cb,_0x46d54b){const _0xf23ccd=_0x4d9d4f;try{const _0x56c149=_0x5d4b5a(_0x57d9cb,_0x35cbe0),_0x45dee3=_0x56c149+_0x236a2a,_0x33b465=await this[_0xf23ccd(0x408)]['get'](_0x45dee3),{checksum:_0x20b407,skipEncryption:_0x3ef464}=JSON[_0xf23ccd(0x74d)](await _0x33b465[_0xf23ccd(0x50e)]()),_0x2a7b6c=(await this[_0xf23ccd(0x408)][_0xf23ccd(0x29f)](_0x56c149,{'skipEncryption':_0x3ef464}))[_0xf23ccd(0x573)];return _0x20b407===_0x46d54b&&_0x2a7b6c%_0x681e57==0x0?[!0x0,Math[_0xf23ccd(0x2b2)](_0x2a7b6c/_0x681e57)]:(await this[_0xf23ccd(0x408)]['deleteObject'](_0x56c149),[!0x1,0x0]);}catch(_0x56ff56){return[!0x1,0x0];}}[_0x4d9d4f(0x8bf)](_0x3d60ed,_0x1d9147){const _0x4893f3=_0x4d9d4f,[_0x41b356,_0x5676ac]=this['pendingFilesSyncing']['get'](_0x3d60ed)?.[_0x4893f3(0x29f)](_0x1d9147)??[];return _0x5676ac&&clearTimeout(_0x5676ac),setTimeout(()=>{const _0xb96b1e=_0x4893f3,[_0x30299e,_0x405fce]=this[_0xb96b1e(0x357)][_0xb96b1e(0x29f)](_0x3d60ed)['get'](_0x1d9147);this['sendFileRequestPayload'](_0x30299e,_0x405fce);},0x927c0);}async[_0x4d9d4f(0x3cd)](_0x23c26b,_0x325bc2){const _0x50077b=_0x4d9d4f;clearTimeout(_0x325bc2),_0x23c26b[_0x50077b(0x6f2)]=_0x1e1db7[_0x50077b(0x103)],this[_0x50077b(0x4a7)]['set'](_0x5d4b5a(_0x23c26b['path'],_0x23c26b[_0x50077b(0x697)]),_0x23c26b),this[_0x50077b(0x784)](_0x23c26b);}[_0x4d9d4f(0x48f)](_0x11b4d8,_0x23d469){const _0x3db082=_0x4d9d4f;if(!this[_0x3db082(0x56f)])return;this[_0x3db082(0x357)][_0x3db082(0x8dd)](_0x11b4d8[_0x3db082(0x307)])||this[_0x3db082(0x357)][_0x3db082(0xcd)](_0x11b4d8[_0x3db082(0x307)],new Map());const [_0x5a0ee8]=this[_0x3db082(0x357)][_0x3db082(0x29f)](_0x11b4d8[_0x3db082(0x307)])[_0x3db082(0x29f)](_0x23d469)??[{'payloadType':_0x7b0c71[_0x3db082(0x835)],'action':_0x1e1db7['RequestFile'],'sourceId':this[_0x3db082(0x772)]['getId'](),'type':_0x11b4d8[_0x3db082(0x506)],'name':_0x11b4d8[_0x3db082(0x697)],'path':_0x11b4d8[_0x3db082(0x240)],'skipEncryption':_0x11b4d8[_0x3db082(0x524)],'checksum':_0x11b4d8[_0x3db082(0x15e)],'answererId':_0x11b4d8[_0x3db082(0x307)]}];this['pendingFilesSyncing'][_0x3db082(0x29f)](_0x11b4d8[_0x3db082(0x307)])['set'](_0x23d469,[_0x5a0ee8,this['getOrResetPendingFileTimeout'](_0x11b4d8[_0x3db082(0x307)],_0x23d469)]);}async[_0x4d9d4f(0x1b0)](_0x36bc5c,_0x477985,_0x2e3dab){const _0x17bd22=_0x4d9d4f;this['isSyncing']&&(this[_0x17bd22(0x775)]+=0x1),await this['objectStoreConnector'][_0x17bd22(0x1b0)](_0x36bc5c,_0x477985,_0x2e3dab);}async[_0x4d9d4f(0x377)](_0x220640){const _0x179038=_0x4d9d4f;try{const _0x13158b=await this[_0x179038(0x408)][_0x179038(0x377)](_0x220640);if(!_0x220640[_0x179038(0x732)](_0x236a2a))try{await this[_0x179038(0x408)][_0x179038(0x377)](_0x220640+_0x236a2a);}catch(_0x3de7c6){}return this[_0x179038(0x81a)]&&_0x13158b===_0x2477c2[_0x179038(0x538)][_0x179038(0x2b8)]&&(this[_0x179038(0x775)]+=0x1),_0x13158b;}catch(_0x4c6332){return await this[_0x179038(0x408)]['deleteObject'](_0x220640+_0x236a2a);}}async[_0x4d9d4f(0x652)](_0x2083e3,_0x42248d){const _0x4227ca=_0x4d9d4f;try{const _0x77e8e2=await this[_0x4227ca(0x408)][_0x4227ca(0x652)](_0x2083e3,_0x42248d);if(!_0x2083e3['endsWith'](_0x236a2a))try{await this['objectStoreConnector'][_0x4227ca(0x652)](_0x2083e3+_0x236a2a,_0x42248d+_0x236a2a);}catch(_0x3fbf28){}return _0x77e8e2;}catch(_0x3247ba){return await this[_0x4227ca(0x408)][_0x4227ca(0x652)](_0x2083e3+_0x236a2a,_0x42248d+_0x236a2a);}}[_0x4d9d4f(0x71e)](){const _0xa72158=_0x4d9d4f;this[_0xa72158(0x233)]&&clearTimeout(this[_0xa72158(0x233)]),this[_0xa72158(0x233)]=setTimeout(async()=>{const _0x18a14e=_0xa72158;delete this[_0x18a14e(0x233)];const _0x50c652=await this['objectStoreConnector'][_0x18a14e(0x193)]('/');this['systemTopic']?.[_0x18a14e(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x18a14e(0x72b)],'content':{'type':_0x2e4dcf[_0x18a14e(0x3f0)],'label':this[_0x18a14e(0x5da)],'stats':{'timestamp':Date['now'](),'storage':_0x50c652,'messagesSent':this[_0x18a14e(0x9c7)],'messagesReceived':this[_0x18a14e(0x43d)],'bytesSent':this[_0x18a14e(0x1d1)],'bytesReceived':this[_0x18a14e(0x365)],'writes':this[_0x18a14e(0xad)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this[_0x18a14e(0x56f)]&&_0x2644bc[_0x18a14e(0x778)](_0x30c1eb[_0x18a14e(0x210)],_0x18a14e(0x4be)+this['clusterId']+_0x18a14e(0x4be)+this[_0x18a14e(0x5da)],_0x50c652);},_0x5760dc);}async[_0x4d9d4f(0x1af)](_0x4eaf17){const _0x3ca245=_0x4d9d4f;try{return await this[_0x3ca245(0x29f)](_0x4eaf17),!0x0;}catch(_0x11809b){return!0x1;}}async['deleteFileChunks'](_0x23c716){const _0x1b3d27=_0x4d9d4f;if(!this[_0x1b3d27(0x9e6)][_0x1b3d27(0x8dd)](_0x23c716))return;const _0x340148=this[_0x1b3d27(0x9e6)][_0x1b3d27(0x29f)](_0x23c716);if(_0x340148[_0x1b3d27(0x6f6)])try{await _0x340148[_0x1b3d27(0x6f6)]['close']();}catch(_0x8fd206){console[_0x1b3d27(0x716)](_0x1b3d27(0x46c),_0x8fd206);}this['fileChunks'][_0x1b3d27(0x465)](_0x23c716);}}class _0x272627 extends _0x5b0910{['localNode'];[_0x4d9d4f(0x95e)];['unsubscribeHandler']=new Map();[_0x4d9d4f(0x233)];constructor(_0x40ed3f,_0x5c740f,_0x483c86){const _0x22a6af=_0x4d9d4f;if(_0x22a6af(0x794)!=typeof _0x5c740f)throw new _0x2554b3(_0x17f7da[_0x22a6af(0x996)],_0x22a6af(0x6f9));super(_0x40ed3f,_0x5c740f),this[_0x22a6af(0x772)]=_0x40ed3f,this[_0x22a6af(0x95e)]=_0x483c86,this['sendStats']();}[_0x4d9d4f(0x934)](){const _0xf5aaa4=_0x4d9d4f;this[_0xf5aaa4(0x71e)]();}[_0x4d9d4f(0x24e)](){const _0x5eb23d=_0x4d9d4f;return _0x2477c2[_0x5eb23d(0x61d)][_0x5eb23d(0x343)];}[_0x4d9d4f(0x817)](_0x46cc21,_0xb2b75a){const _0x3f460a=_0x4d9d4f;_0x2644bc[_0x3f460a(0x5ad)](_0x1a98bf[_0x3f460a(0x343)],_0x3f460a(0x5a6),this[_0x3f460a(0x772)][_0x3f460a(0x9a5)](),_0x46cc21,_0xb2b75a),_0x2644bc[_0x3f460a(0x687)](_0x30c1eb['PubSub'],{'type':_0x3f460a(0x817),'label':this[_0x3f460a(0x5da)],'nodeId':this[_0x3f460a(0x772)][_0x3f460a(0x9a5)](),'nodeType':this[_0x3f460a(0x772)][_0x3f460a(0x506)],'clusterId':this[_0x3f460a(0x95e)],'remoteIds':_0xb2b75a??[],'contentType':_0x46cc21 instanceof File?_0x2477c2['ContentType']['File']:_0x2477c2[_0x3f460a(0x61d)][_0x3f460a(0x1e9)],'size':_0x46cc21 instanceof File?_0x46cc21['size']:JSON[_0x3f460a(0x446)](_0x46cc21)[_0x3f460a(0x99a)]}),this[_0x3f460a(0x71e)](),this[_0x3f460a(0x784)](_0x46cc21,_0xb2b75a);}['subscribe'](_0x3456f2,_0x3ca5f4){const _0x34e4b8=_0x4d9d4f;if(this[_0x34e4b8(0x341)][_0x34e4b8(0x8dd)](_0x3456f2))throw new _0x2554b3(_0x17f7da['PubSubTopicAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x34e4b8(0x341)][_0x34e4b8(0xcd)](_0x3456f2,this[_0x34e4b8(0x4f2)]((_0x21ca44,_0x44baf8)=>{const _0x356409=_0x34e4b8;'data'===_0x3456f2&&_0x44baf8 instanceof File||!('file'!==_0x3456f2||_0x44baf8 instanceof File)||(_0x2644bc[_0x356409(0x5ad)](_0x1a98bf[_0x356409(0x343)],_0x356409(0x49b),this[_0x356409(0x772)][_0x356409(0x9a5)](),_0x21ca44,_0x44baf8),_0x2644bc[_0x356409(0x687)](_0x30c1eb[_0x356409(0x343)],{'type':_0x356409(0x3dd),'label':this[_0x356409(0x5da)],'nodeId':this[_0x356409(0x772)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0x356409(0x95e)],'remoteId':_0x21ca44,'contentType':_0x3456f2,'size':_0x44baf8 instanceof File?_0x44baf8['size']:JSON['stringify'](_0x44baf8)[_0x356409(0x99a)]}),this['sendStats'](),_0x3ca5f4(_0x21ca44,_0x44baf8));}));}['unsubscribe'](_0x50c488){const _0x4f7d0b=_0x4d9d4f;this['unsubscribeHandler'][_0x4f7d0b(0x29f)](_0x50c488)?.(),this[_0x4f7d0b(0x341)][_0x4f7d0b(0x465)](_0x50c488);}['destroy'](){const _0x50fd7f=_0x4d9d4f;this[_0x50fd7f(0x341)][_0x50fd7f(0x1dc)](_0x525af1=>_0x525af1()),clearTimeout(this[_0x50fd7f(0x233)]),delete this[_0x50fd7f(0x233)],super['destroy']();}['close'](){const _0x2874ae=_0x4d9d4f;this['systemTopic']?.[_0x2874ae(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x2874ae(0x72b)],'content':{'type':_0x2e4dcf[_0x2874ae(0x88f)],'label':this[_0x2874ae(0x5da)]}});}[_0x4d9d4f(0x71e)](){const _0x24d52f=_0x4d9d4f;this[_0x24d52f(0x233)]&&clearTimeout(this['debounceStats']),this[_0x24d52f(0x233)]=setTimeout(()=>{const _0x125a93=_0x24d52f;this[_0x125a93(0x26f)]?.[_0x125a93(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x125a93(0x72b)],'content':{'type':_0x2e4dcf[_0x125a93(0x153)],'label':this[_0x125a93(0x5da)],'stats':{'timestamp':Date[_0x125a93(0x873)](),'storage':0x0,'messagesSent':this[_0x125a93(0x9c7)],'messagesReceived':this[_0x125a93(0x43d)],'bytesSent':this[_0x125a93(0x1d1)],'bytesReceived':this[_0x125a93(0x365)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x5760dc);}}class _0x364ea9 extends _0x5260c4{[_0x4d9d4f(0x772)];[_0x4d9d4f(0x9c1)];[_0x4d9d4f(0x624)];[_0x4d9d4f(0x95e)];[_0x4d9d4f(0x341)];[_0x4d9d4f(0x4f3)];['updateDebounce'];[_0x4d9d4f(0x366)]=new Map();[_0x4d9d4f(0x526)];[_0x4d9d4f(0x95d)]=new Set();['providerId'];[_0x4d9d4f(0x313)]=_0x27eca1();[_0x4d9d4f(0x69b)]=new Map();constructor(_0x22e5d0,_0x244ed8,_0x393472,_0x2ab0e1,_0x38b76d,_0x1b4ba3){const _0x11ce11=_0x4d9d4f;super(_0x244ed8,_0x393472,new MediaStream()),this[_0x11ce11(0x772)]=_0x22e5d0,this[_0x11ce11(0x9c1)]=_0x2ab0e1,this['availableTrackKinds']=_0x38b76d,this['clusterId']=_0x1b4ba3,this[_0x11ce11(0x878)][_0x11ce11(0x299)]()[_0x11ce11(0x1dc)](_0x3b7990=>this[_0x11ce11(0x585)](_0x3b7990));}[_0x4d9d4f(0x6ef)](){const _0x249302=_0x4d9d4f;this[_0x249302(0x366)]['size']>0x0&&(this[_0x249302(0x366)][_0x249302(0x1dc)](_0x152f0c=>{const _0x53a11c=_0x249302;_0x152f0c['unregisterSystemPublisher'](),_0x152f0c[_0x53a11c(0x6ef)]();}),this['outgoingStreams'][_0x249302(0x976)]()),this[_0x249302(0x69b)][_0x249302(0x1dc)](_0x30f0bc=>_0x30f0bc()),this[_0x249302(0x878)]['getTracks']()[_0x249302(0x1dc)](_0x4b2200=>this[_0x249302(0x878)][_0x249302(0x885)](_0x4b2200)),this['updateDebounce']&&(clearTimeout(this[_0x249302(0x8e4)]),delete this[_0x249302(0x8e4)]),this[_0x249302(0x4f3)]?.(),super['destroy']();}[_0x4d9d4f(0x7aa)](_0x34bde3){const _0x1c32c7=_0x4d9d4f;this[_0x1c32c7(0x341)]=_0x34bde3['subscribe'](({content:_0x599282})=>{const _0x466f5d=_0x1c32c7;switch(_0x599282[_0x466f5d(0x6f2)]){case _0x569b17[_0x466f5d(0x741)]:if(_0x2644bc['log'](_0x1a98bf[_0x466f5d(0x560)],'Received\x20track',this[_0x466f5d(0x772)][_0x466f5d(0x9a5)](),this['providerId']),_0x599282[_0x466f5d(0x6f6)]['id']!==this[_0x466f5d(0x9c1)]||_0x599282[_0x466f5d(0x641)]!==this[_0x466f5d(0x641)])return;this[_0x466f5d(0x885)](_0x599282[_0x466f5d(0x168)][_0x466f5d(0x8ca)]),this[_0x466f5d(0x878)][_0x466f5d(0x3db)](_0x599282[_0x466f5d(0x168)]);for(const [_0x12964c,_0x14b99b]of this[_0x466f5d(0x366)]['entries']())try{_0x14b99b['addTrack'](_0x599282['track']);}catch(_0x5ccfd7){_0x14b99b[_0x466f5d(0x6ef)](),this[_0x466f5d(0x366)][_0x466f5d(0x465)](_0x12964c);}this['setupTrackEndedListeners'](_0x599282[_0x466f5d(0x168)]),this['setupRenderElement'](),_0x466f5d(0x59c)===_0x599282[_0x466f5d(0x168)][_0x466f5d(0x8ca)]&&this[_0x466f5d(0x526)]&&(this[_0x466f5d(0x878)][_0x466f5d(0x167)]?setTimeout(()=>this['renderElement']?.[_0x466f5d(0x355)](),0x0):setTimeout(()=>this['renderElement']?.[_0x466f5d(0x15c)](),0x0),this[_0x466f5d(0x135)]());break;case _0x569b17['RemoteRemove']:if(_0x599282[_0x466f5d(0x6f6)]['id']!==this[_0x466f5d(0x9c1)]||_0x599282[_0x466f5d(0x641)]!==this['providerId'])return;this['removeTrack'](_0x599282[_0x466f5d(0x168)][_0x466f5d(0x8ca)]),this[_0x466f5d(0x526)]&&'video'===_0x599282[_0x466f5d(0x168)][_0x466f5d(0x8ca)]&&(this[_0x466f5d(0x4f3)]?.(),this[_0x466f5d(0x878)][_0x466f5d(0x299)]()[_0x466f5d(0x99a)]>0x0?this[_0x466f5d(0x526)]['load']():this['renderElement'][_0x466f5d(0x590)]=null);}});}[_0x4d9d4f(0x38f)](){const _0x8ed2a4=_0x4d9d4f;this[_0x8ed2a4(0x341)]?.(),this['trackEndedListeners'][_0x8ed2a4(0x1dc)](_0x36cf00=>_0x36cf00()),delete this[_0x8ed2a4(0x341)];}[_0x4d9d4f(0x176)](){return this['internalId'];}[_0x4d9d4f(0x76b)](_0x580611){const _0x47f8a2=_0x4d9d4f;this[_0x47f8a2(0x9c1)]=_0x580611;}[_0x4d9d4f(0x372)](){const _0x39449c=_0x4d9d4f;return this[_0x39449c(0x624)];}['hasTracks'](_0xfe2217){const _0xe21af1=_0x4d9d4f;for(const _0x54432a of _0xfe2217||this[_0xe21af1(0x624)])if(!this['mediaStream']['getTracks']()['find'](_0x473e2f=>_0x473e2f[_0xe21af1(0x8ca)]===_0x54432a))return!0x1;return!0x0;}[_0x4d9d4f(0xcc)](){const _0x308168=_0x4d9d4f;let _0x2315a3={'width':0x0,'height':0x0};const _0x5d09c0=this['mediaStream'][_0x308168(0x646)]();if(_0x5d09c0['length']>0x0){const _0x5bed77=_0x5d09c0[0x0][_0x308168(0xef)]();_0x5bed77[_0x308168(0x5a1)]&&_0x5bed77['height']&&(_0x2315a3={'width':_0x5bed77['width'],'height':_0x5bed77['height']});}return _0x2315a3;}[_0x4d9d4f(0x528)](_0x3ddae0){for(const _0x2df977 of _0x3ddae0)if(!this['subscribedTracks']['has'](_0x2df977))return!0x1;return!0x0;}['getShareableStream'](_0x18900e,_0x418b02){const _0x12f0eb=_0x4d9d4f;if(!this[_0x12f0eb(0x366)][_0x12f0eb(0x8dd)](_0x18900e)){const _0x5c72c4=new _0x519475(this[_0x12f0eb(0x753)],this[_0x12f0eb(0x5da)],this[_0x12f0eb(0x878)],_0x18900e,_0x418b02),_0x591779=_0x5c72c4['onUnregisterPublisher'](()=>{const _0x1443d7=_0x12f0eb;_0x591779(),this[_0x1443d7(0x366)][_0x1443d7(0x29f)](_0x18900e)?.['destroy'](),this[_0x1443d7(0x366)]['delete'](_0x18900e);});this['outgoingStreams'][_0x12f0eb(0xcd)](_0x18900e,_0x5c72c4),_0x5c72c4[_0x12f0eb(0xe7)](this['systemTopic']);}return this[_0x12f0eb(0x366)]['get'](_0x18900e);}[_0x4d9d4f(0x2cf)](){const _0x3d0583=_0x4d9d4f;return this[_0x3d0583(0x878)]['id'];}[_0x4d9d4f(0x430)](){const _0x480da1=_0x4d9d4f;return _0x2477c2[_0x480da1(0x5dc)]['Default'];}[_0x4d9d4f(0x3d8)](){return Array['from'](this['subscribedTracks']);}[_0x4d9d4f(0x3dd)](_0x419409){const _0x3e6440=_0x4d9d4f;let _0x4634d8=[];if(_0x419409){_0x3e6440(0x9d3)!=typeof _0x419409['video']||_0x419409[_0x3e6440(0x59c)][_0x3e6440(0x526)]instanceof HTMLVideoElement||!this[_0x3e6440(0x526)]||(_0x419409[_0x3e6440(0x59c)]={'renderElement':this[_0x3e6440(0x526)]});try{(0x0,_0x2477c2[_0x3e6440(0x982)])(_0x419409);}catch(_0x33bdff){throw new _0x2554b3(_0x17f7da[_0x3e6440(0x554)],_0x3e6440(0x227));}_0x419409[_0x3e6440(0x59c)]&&(_0x4634d8['push'](_0x3e6440(0x59c)),_0x3e6440(0x8e9)!=typeof _0x419409[_0x3e6440(0x59c)]&&_0x419409[_0x3e6440(0x59c)][_0x3e6440(0x526)]&&(this['renderElement']=_0x419409[_0x3e6440(0x59c)]['renderElement'],_0x419409['video'][_0x3e6440(0x736)]||(_0x419409['video'][_0x3e6440(0x736)]={'width':this[_0x3e6440(0x526)][_0x3e6440(0x178)],'height':this[_0x3e6440(0x526)]['clientHeight']}),delete _0x419409['video'][_0x3e6440(0x526)])),_0x419409[_0x3e6440(0x429)]&&_0x4634d8[_0x3e6440(0x9e2)]('audio');}else _0x4634d8=this[_0x3e6440(0x372)]();this[_0x3e6440(0x528)](_0x4634d8)||(_0x4634d8[_0x3e6440(0x1dc)](_0x6c24a3=>this[_0x3e6440(0x95d)]['add'](_0x6c24a3)),this[_0x3e6440(0x26f)][_0x3e6440(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x3e6440(0x72b)],'content':{'type':_0x2e4dcf['SubscribeMediaStream'],'label':this[_0x3e6440(0x5da)],'ownerId':this[_0x3e6440(0x753)]['getId'](),'trackKinds':_0x4634d8,'params':_0x419409}}),_0x2644bc['logServiceEvent'](_0x30c1eb[_0x3e6440(0x6f7)],{'type':_0x3e6440(0x3dd),'label':this['label'],'nodeId':this[_0x3e6440(0x772)]['getId'](),'nodeType':this[_0x3e6440(0x772)]['type'],'clusterId':this[_0x3e6440(0x95e)],'sourceId':this[_0x3e6440(0x753)]['getId'](),'streamId':this['internalId'],'trackKinds':_0x4634d8}));}[_0x4d9d4f(0x1e8)](_0x2c3ed1){const _0x28833e=_0x4d9d4f;try{(0x0,_0x2477c2[_0x28833e(0x982)])(_0x2c3ed1);}catch(_0x547239){throw new _0x2554b3(_0x17f7da[_0x28833e(0x554)],_0x28833e(0x227));}this[_0x28833e(0x8e4)]&&clearTimeout(this[_0x28833e(0x8e4)]),this[_0x28833e(0x8e4)]=setTimeout(()=>{const _0x5cd27e=_0x28833e;delete this['updateDebounce'],this['systemTopic'][_0x5cd27e(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x5cd27e(0x72b)],'content':{'type':_0x2e4dcf[_0x5cd27e(0x419)],'label':this[_0x5cd27e(0x5da)],'ownerId':this[_0x5cd27e(0x753)][_0x5cd27e(0x9a5)](),'params':_0x2c3ed1}});},0x1f4);}[_0x4d9d4f(0x4f9)](_0x4ad446){const _0xffc8fb=_0x4d9d4f;_0x4ad446||(_0x4ad446=this[_0xffc8fb(0x372)]()),(_0x4ad446=Array['isArray'](_0x4ad446)?_0x4ad446:[_0x4ad446])['forEach'](_0x1592f5=>this[_0xffc8fb(0x95d)]['delete'](_0x1592f5)),this[_0xffc8fb(0x26f)][_0xffc8fb(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0xffc8fb(0x72b)],'content':{'type':_0x2e4dcf[_0xffc8fb(0x2ba)],'label':this[_0xffc8fb(0x5da)],'ownerId':this[_0xffc8fb(0x753)][_0xffc8fb(0x9a5)](),'trackKinds':_0x4ad446,'remainingTracks':this[_0xffc8fb(0x95d)][_0xffc8fb(0x573)]}});}[_0x4d9d4f(0x8ec)](_0x480277){const _0x28c627=_0x4d9d4f;return this[_0x28c627(0x313)][_0x28c627(0x3dd)](_0x480277);}['getProviderId'](){const _0x485b95=_0x4d9d4f;return this[_0x485b95(0x641)];}['setProviderId'](_0x1bbed2){const _0x55b0a1=_0x4d9d4f;this[_0x55b0a1(0x641)]!==_0x1bbed2&&(this[_0x55b0a1(0x641)]=_0x1bbed2,this['providerListener'][_0x55b0a1(0x817)](_0x1bbed2));}['unsubscribeTrackEndedListener'](_0x152a67){const _0x49c5a8=_0x4d9d4f;this[_0x49c5a8(0x69b)][_0x49c5a8(0x29f)](_0x152a67)?.(),this[_0x49c5a8(0x69b)][_0x49c5a8(0x465)](_0x152a67);}[_0x4d9d4f(0x885)](_0x95cb35){const _0x57faa6=_0x4d9d4f,_0x17e306=this[_0x57faa6(0x878)][_0x57faa6(0x299)]()[_0x57faa6(0x211)](_0x12faa5=>_0x12faa5['kind']===_0x95cb35);_0x17e306&&(this[_0x57faa6(0x878)][_0x57faa6(0x885)](_0x17e306),this['outgoingStreams'][_0x57faa6(0x1dc)](_0x40b949=>_0x40b949['removeTrack'](_0x95cb35)),this[_0x57faa6(0x69b)][_0x57faa6(0x29f)](_0x95cb35)?.());}[_0x4d9d4f(0x7c5)](){const _0xe6755b=_0x4d9d4f;this['renderElement']&&(this[_0xe6755b(0x526)][_0xe6755b(0x590)]&&this[_0xe6755b(0x526)][_0xe6755b(0x590)]===this[_0xe6755b(0x878)]||(this[_0xe6755b(0x526)][_0xe6755b(0x590)]=this[_0xe6755b(0x878)]));}['setupResizeHandler'](){const _0x289744=_0x4d9d4f;if(this['renderElement']&&!this[_0x289744(0x4f3)]&&_0x289744(0x9d0)!=typeof ResizeObserver){let _0xc763fb=this[_0x289744(0x526)][_0x289744(0x178)],_0x2c934f=this[_0x289744(0x526)]['clientHeight'];const _0x3a99ec=new ResizeObserver(_0x4b95d4=>{const _0x407d1c=_0x289744,{width:_0x275df6,height:_0x4f1207}=_0x4b95d4[0x0]['contentRect'];_0xc763fb===_0x275df6&&_0x2c934f===_0x4f1207||(_0xc763fb=Math[_0x407d1c(0x194)](_0x275df6),_0x2c934f=Math['floor'](_0x4f1207),this['update']({'video':{'maxResolution':{'width':_0x275df6,'height':_0x4f1207}}}));});_0x3a99ec[_0x289744(0x44f)](this[_0x289744(0x526)]),this[_0x289744(0x4f3)]=()=>_0x3a99ec[_0x289744(0x916)]();}}[_0x4d9d4f(0x16a)](_0x413a71){const _0x4f6e6f=_0x4d9d4f,_0x250eb9=[];for(const _0x5a8c8c of this[_0x4f6e6f(0x95d)])this[_0x4f6e6f(0x885)](_0x5a8c8c),_0x250eb9['push'](_0x5a8c8c);this[_0x4f6e6f(0x641)]&&this[_0x4f6e6f(0x26f)][_0x4f6e6f(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x4f6e6f(0x72b)],'content':{'type':_0x2e4dcf[_0x4f6e6f(0x1ff)],'label':this[_0x4f6e6f(0x5da)],'streamId':this[_0x4f6e6f(0x9c1)],'ownerId':this[_0x4f6e6f(0x753)][_0x4f6e6f(0x9a5)](),'providerId':this[_0x4f6e6f(0x641)],'trackKinds':_0x250eb9}});}['setupTrackEndedListeners'](_0x2c6dae){const _0x90ed15=_0x4d9d4f,_0x34e6=()=>this[_0x90ed15(0x16a)](_0x2c6dae);_0x2c6dae['addEventListener'](_0x90ed15(0x552),_0x34e6),_0x2c6dae[_0x90ed15(0x869)]('mute',_0x34e6),this[_0x90ed15(0x69b)][_0x90ed15(0xcd)](_0x2c6dae['kind'],()=>{const _0x59000f=_0x90ed15;_0x2c6dae['removeEventListener']('ended',_0x34e6),_0x2c6dae['removeEventListener'](_0x59000f(0x2f8),_0x34e6),this[_0x59000f(0x69b)][_0x59000f(0x465)](_0x2c6dae[_0x59000f(0x8ca)]);});}}class _0x5040dd extends _0x5b0910{[_0x4d9d4f(0x772)];[_0x4d9d4f(0x95e)];[_0x4d9d4f(0x4e6)];['db'];[_0x4d9d4f(0x233)];['writes']=0x0;[_0x4d9d4f(0x503)]=0x0;[_0x4d9d4f(0x611)]=!0x1;constructor(_0x5bf74d,_0x32b49e,_0x138d32,_0xcdb098,_0x39d8dc){const _0x5b097d=_0x4d9d4f;if(_0x5b097d(0x794)!=typeof _0x32b49e)throw new _0x2554b3(_0x17f7da[_0x5b097d(0x4a8)],_0x5b097d(0x698));super(_0x5bf74d,_0x32b49e),this[_0x5b097d(0x772)]=_0x5bf74d,this['clusterId']=_0x138d32,this['vendorId']=_0xcdb098;const _0x5432f5='ccc'+this['vendorId']+_0x5b097d(0x4be)+this[_0x5b097d(0x95e)]+_0x5b097d(0x4be)+this['label'];this['db']=new _0x39d8dc(_0x5432f5),this[_0x5b097d(0x71e)]();}[_0x4d9d4f(0x8a6)](){const _0x444956=_0x4d9d4f;return this[_0x444956(0x611)];}[_0x4d9d4f(0x56e)](_0x5445ce){const _0x448afb=_0x4d9d4f;this[_0x448afb(0x611)]=_0x5445ce;}[_0x4d9d4f(0x6ef)](){const _0x3d3cc8=_0x4d9d4f;clearTimeout(this['debounceStats']),delete this[_0x3d3cc8(0x233)],super[_0x3d3cc8(0x6ef)]();}[_0x4d9d4f(0x6d7)](){const _0x46e0b0=_0x4d9d4f;this['systemTopic'][_0x46e0b0(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x46e0b0(0x72b)],'content':{'type':_0x2e4dcf[_0x46e0b0(0x37d)],'label':this[_0x46e0b0(0x5da)]}});}['reset'](){this['sendStats']();}[_0x4d9d4f(0x24e)](){const _0x8d754c=_0x4d9d4f;return _0x2477c2[_0x8d754c(0x61d)]['VectorDatabase'];}[_0x4d9d4f(0x1f8)](_0xb4b8fa,_0x2133dc,_0x394096,_0x46027d,_0x5104f9){const _0x4b33b2=_0x4d9d4f,_0x1c7f46=this['db']['search'](_0xb4b8fa,_0x2133dc,_0x394096,_0x46027d,_0x5104f9);return this[_0x4b33b2(0x503)]+=0x1,_0x2644bc['logServiceEvent'](_0x30c1eb[_0x4b33b2(0x406)],{'type':_0x4b33b2(0x1f8),'label':this[_0x4b33b2(0x5da)],'nodeId':this[_0x4b33b2(0x772)][_0x4b33b2(0x9a5)](),'nodeType':this[_0x4b33b2(0x772)][_0x4b33b2(0x506)],'clusterId':this['clusterId'],'size':0x0}),this[_0x4b33b2(0x71e)](),_0x1c7f46;}['insert'](_0x8f07c0,_0x16f97c,_0x292cd4,_0x5717c3){const _0xdd653e=_0x4d9d4f;this['db']['insert'](_0x8f07c0,_0x16f97c,_0x292cd4,_0x5717c3),this[_0xdd653e(0xad)]+=0x1,_0x2644bc['logServiceEvent'](_0x30c1eb['VectorDatabase'],{'type':_0xdd653e(0x400),'label':this['label'],'nodeId':this[_0xdd653e(0x772)][_0xdd653e(0x9a5)](),'nodeType':this[_0xdd653e(0x772)][_0xdd653e(0x506)],'clusterId':this[_0xdd653e(0x95e)],'size':_0x5717c3['reduce']((_0x2fbb8a,_0x473880)=>_0x2fbb8a+_0x473880[_0xdd653e(0x99a)],0x0)}),this[_0xdd653e(0x71e)]();}['remove'](_0x1c9d0e){const _0x325f51=_0x4d9d4f;this['db'][_0x325f51(0x371)](_0x1c9d0e),this[_0x325f51(0xad)]+=0x1,_0x2644bc[_0x325f51(0x687)](_0x30c1eb[_0x325f51(0x406)],{'type':_0x325f51(0x371),'label':this[_0x325f51(0x5da)],'nodeId':this['localNode'][_0x325f51(0x9a5)](),'nodeType':this[_0x325f51(0x772)][_0x325f51(0x506)],'clusterId':this[_0x325f51(0x95e)],'size':0x0}),this[_0x325f51(0x71e)]();}[_0x4d9d4f(0x381)](_0x46b719){const _0x6c1648=_0x4d9d4f;this['db'][_0x6c1648(0x381)](_0x46b719);}[_0x4d9d4f(0xc0)](_0x396cfc){this['db']['loadFromDisk'](_0x396cfc);}[_0x4d9d4f(0x71e)](){const _0x4269dd=_0x4d9d4f;this['debounceStats']&&clearTimeout(this[_0x4269dd(0x233)]),this[_0x4269dd(0x233)]=setTimeout(async()=>{const _0x399588=_0x4269dd;delete this[_0x399588(0x233)];const _0x2777ee=this['db']['getBuffer']()[_0x399588(0x578)];this[_0x399588(0x26f)][_0x399588(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x399588(0x72b)],'content':{'type':_0x2e4dcf[_0x399588(0x4b2)],'label':this[_0x399588(0x5da)],'stats':{'timestamp':Date['now'](),'storage':_0x2777ee,'messagesSent':this[_0x399588(0x9c7)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x399588(0x1d1)],'bytesReceived':this[_0x399588(0x365)],'writes':this['writes'],'reads':this[_0x399588(0x503)],'prompts':0x0,'tokens':0x0}}}),_0x2644bc[_0x399588(0x778)](_0x30c1eb['VectorDatabase'],_0x399588(0x4be)+this[_0x399588(0x95e)]+_0x399588(0x4be)+this[_0x399588(0x5da)],_0x2777ee);},_0x5760dc);}}class _0x1763d1{['id'];['remoteConnections'];['rank'];constructor(_0x5bc9cf,_0x15340e=new Set(),_0x5787f1){const _0x2a75a4=_0x4d9d4f;this['id']=_0x5bc9cf,this['remoteConnections']=_0x15340e,this[_0x2a75a4(0x5e6)]=_0x5787f1;}['close'](){const _0x5ca5ba=_0x4d9d4f;this[_0x5ca5ba(0x5e6)]=void 0x0,this[_0x5ca5ba(0x66d)][_0x5ca5ba(0x976)]();}[_0x4d9d4f(0x9a5)](){return this['id'];}[_0x4d9d4f(0x64e)](){const _0x49b422=_0x4d9d4f;return this[_0x49b422(0x5e6)];}[_0x4d9d4f(0x7e8)](){return this['remoteConnections'];}}class _0x1b285a extends _0x1763d1{['id'];['displayName'];[_0x4d9d4f(0x64a)];['remoteConnections'];[_0x4d9d4f(0x5e6)];[_0x4d9d4f(0x506)]=_0x2477c2['NodeType'][_0x4d9d4f(0x7b9)];constructor(_0x131997,_0x67cb3c,_0x159a8a,_0x139651=new Set(),_0x4ef549){const _0x1ed5e2=_0x4d9d4f;super(_0x131997,_0x139651,_0x4ef549),this['id']=_0x131997,this[_0x1ed5e2(0x3ce)]=_0x67cb3c,this[_0x1ed5e2(0x64a)]=_0x159a8a,this[_0x1ed5e2(0x66d)]=_0x139651,this[_0x1ed5e2(0x5e6)]=_0x4ef549;}[_0x4d9d4f(0x997)](){return this['displayName'];}[_0x4d9d4f(0x9db)](){const _0x139fa8=_0x4d9d4f;return this[_0x139fa8(0x64a)];}}class _0x127146{['vendorId'];['clusterId'];[_0x4d9d4f(0x561)];constructor(_0x14a210,_0xa61edd){const _0x15d7ab=_0x4d9d4f;this[_0x15d7ab(0x4e6)]=_0x14a210,this[_0x15d7ab(0x95e)]=_0xa61edd,this[_0x15d7ab(0x561)]=_0x15d7ab(0x4be)+this[_0x15d7ab(0x4e6)]+_0x15d7ab(0x4be)+this['clusterId'];}async[_0x4d9d4f(0x9c9)](_0x4c840e,_0x17401d){const _0x24b41a=_0x4d9d4f,_0x19d269=(0x0,_0x2d658e[_0x24b41a(0x479)])(_0x1f3417[_0x24b41a(0x45a)](),_0x24b41a(0x1ba)+this['clusterKey']+_0x24b41a(0x67a)+_0x17401d+_0x24b41a(0x251)+_0x4c840e['id']),_0x5e62f9=(0x0,_0x2d658e[_0x24b41a(0x7ba)])(_0x19d269);_0x5e62f9['remove'](),_0x4c840e[_0x24b41a(0x126)]||delete _0x4c840e[_0x24b41a(0x126)];try{await(0x0,_0x2d658e['set'])(_0x19d269,_0x4c840e);}catch(_0x3b18ff){throw await _0x5e62f9['cancel'](),new _0x56b2e7(_0x56b2e7[_0x24b41a(0x90b)][_0x24b41a(0x702)]);}if(!0x1===(await(0x0,_0x2d658e['runTransaction'])((0x0,_0x2d658e[_0x24b41a(0x479)])(_0x1f3417[_0x24b41a(0x45a)](),'clusters/'+this[_0x24b41a(0x561)]+_0x24b41a(0x67a)+_0x17401d+_0x24b41a(0x3be)),_0x3a1bcb=>_0x3a1bcb?_0x3a1bcb===_0x4c840e[_0x24b41a(0x126)]?_0x4c840e['id']:void 0x0:_0x4c840e[_0x24b41a(0x126)]?_0x4c840e[_0x24b41a(0x126)]:_0x4c840e['id']))[_0x24b41a(0x6e4)])throw await(0x0,_0x2d658e[_0x24b41a(0x371)])(_0x19d269),await _0x5e62f9['cancel'](),new _0x56b2e7(_0x56b2e7[_0x24b41a(0x90b)]['ObjectStoreNotSynced']);await _0x5e62f9[_0x24b41a(0x5c0)]();}async[_0x4d9d4f(0x9e8)](_0x47e261,_0xbc1140){const _0x202f6b=_0x4d9d4f;let _0x2624f2=[];const _0x1d70dc=(0x0,_0x2d658e['ref'])(_0x1f3417[_0x202f6b(0x45a)](),_0x202f6b(0x1ba)+this['clusterKey']+_0x202f6b(0x67a)+_0x47e261+_0x202f6b(0x309));let _0x346011=await(0x0,_0x2d658e['get'])((0x0,_0x2d658e[_0x202f6b(0x28b)])(_0x1d70dc,(0x0,_0x2d658e[_0x202f6b(0x7d1)])(0x65),(0x0,_0x2d658e[_0x202f6b(0x8a3)])()));if(!_0x346011['exists']()){if(void 0x0!==_0xbc1140)throw new _0x56b2e7(_0x56b2e7[_0x202f6b(0x90b)][_0x202f6b(0x8e8)]);return _0x2624f2;}const _0x5c7483=_0x346011[_0x202f6b(0x9bf)]();for(;Object['keys'](_0x346011[_0x202f6b(0x9bf)]())[_0x202f6b(0x99a)]>0x64;){const _0x1e8fd6=Object[_0x202f6b(0x224)](_0x346011[_0x202f6b(0x9bf)]()),_0x4e8721=_0x1e8fd6[_0x1e8fd6['length']-0x1];_0x346011=await(0x0,_0x2d658e[_0x202f6b(0x29f)])((0x0,_0x2d658e[_0x202f6b(0x28b)])(_0x1d70dc,(0x0,_0x2d658e['limitToFirst'])(0x65),(0x0,_0x2d658e[_0x202f6b(0x281)])(_0x4e8721),(0x0,_0x2d658e['orderByKey'])())),Object[_0x202f6b(0x3d1)](_0x5c7483,_0x346011[_0x202f6b(0x9bf)]());}if(_0x2624f2=Object[_0x202f6b(0x7a1)](_0x5c7483)[_0x202f6b(0x64c)](_0x115507=>'string'!=typeof _0x115507),0x0===_0x2624f2[_0x202f6b(0x99a)]&&void 0x0!==_0xbc1140)throw new _0x56b2e7(_0x56b2e7['codes'][_0x202f6b(0x8e8)]);if(_0x2624f2[_0x202f6b(0x99a)]>0x0&&void 0x0!==_0xbc1140&&!_0x2624f2['find'](_0x1429ed=>_0x1429ed['id']===_0xbc1140))throw new _0x56b2e7(_0x56b2e7[_0x202f6b(0x90b)]['ObjectStoreInvalidState']);const _0x2333b6=[];let _0x1919cf=_0x2624f2[_0x202f6b(0x211)](_0x59b839=>_0x59b839['parentId']===_0xbc1140);for(;_0x1919cf;)_0x2333b6[_0x202f6b(0x9e2)](_0x1919cf),_0x1919cf=_0x2624f2[_0x202f6b(0x211)](_0x1f5406=>_0x1f5406[_0x202f6b(0x126)]===_0x1919cf['id']);return _0x2333b6;}}class _0x25c757{['configs'];['options'];[_0x4d9d4f(0x6a6)];[_0x4d9d4f(0x559)];['localMediaStreams']=new Map();['remoteMediaStreams']=new Map();[_0x4d9d4f(0x24f)]=new Map();['objectStores']=new Map();[_0x4d9d4f(0x73a)]=new Map();[_0x4d9d4f(0x314)]=new Map();['vectorDatabases']=new Map();[_0x4d9d4f(0x763)]=new Map();['jobDispatchers']=new Map();[_0x4d9d4f(0x4c2)]=new Map();['transactionService'];constructor(_0x2f15bb,_0x599675,_0x25574b,_0x24ca9c){const _0x38f5fc=_0x4d9d4f;this['configs']=_0x2f15bb,this['options']=_0x599675,this[_0x38f5fc(0x6a6)]=_0x25574b,this[_0x38f5fc(0x559)]=_0x24ca9c,this[_0x38f5fc(0x159)]=new _0x127146(this[_0x38f5fc(0x89a)][_0x38f5fc(0x4e6)],this[_0x38f5fc(0x89a)]['clusterId']);}[_0x4d9d4f(0x6d7)](_0x4c011f=!0x1){const _0x169b39=_0x4d9d4f;this[_0x169b39(0x4b3)][_0x169b39(0x1dc)]((_0x462cc4,_0x19dbda)=>{const _0x518545=_0x169b39;_0x462cc4[_0x518545(0x1dc)]((_0x50ceea,_0x4cd860)=>{const _0x113d36=_0x518545;this[_0x113d36(0x6bc)](_0x19dbda,_0x4cd860);});}),_0x4c011f||(_0x40787a[_0x169b39(0x976)](),this['localMediaStreams'][_0x169b39(0x1dc)]((_0x2301c0,_0x28ee0c)=>{const _0x4a5e0a=_0x169b39;this[_0x4a5e0a(0x85d)](_0x28ee0c);}),this['pubSubTopics'][_0x169b39(0x1dc)]((_0x34a435,_0x5cd966)=>{const _0x3ae5de=_0x169b39;this[_0x3ae5de(0x7e0)](_0x5cd966);}),this[_0x169b39(0x632)][_0x169b39(0x1dc)]((_0x50ba6f,_0x31c5c5)=>{const _0x389d13=_0x169b39;this[_0x389d13(0x923)](_0x31c5c5);}),this['externalStorageConnections'][_0x169b39(0x1dc)]((_0x3f2138,_0x1307e0)=>{const _0x3e3620=_0x169b39;this[_0x3e3620(0x7ad)](_0x1307e0);}),this['keyValueDatabases'][_0x169b39(0x1dc)]((_0x49ae11,_0x4785d4)=>{const _0x36683d=_0x169b39;this[_0x36683d(0x762)](_0x4785d4);}),this['jobDispatchers'][_0x169b39(0x1dc)]((_0x478f9e,_0x5162c9)=>{const _0x3b698d=_0x169b39;this[_0x3b698d(0x555)](_0x5162c9);}),this[_0x169b39(0x4c2)][_0x169b39(0x1dc)]((_0x36b6ba,_0xff84b0)=>{const _0x5b7d8b=_0x169b39;this[_0x5b7d8b(0x13e)](_0xff84b0);}),this['vectorDatabases']['forEach']((_0x338ac0,_0x590bab)=>{this['removeVectorDatabase'](_0x590bab);}),this[_0x169b39(0x763)][_0x169b39(0x1dc)]((_0x50a25d,_0x16d0fe)=>{const _0x1680c5=_0x169b39;this[_0x1680c5(0x9aa)](_0x16d0fe);}));}['createObjectStoreBucket'](_0x5cb72f,_0x2cf89f,_0x302bb1){const _0x15b65e=_0x4d9d4f;if(this[_0x15b65e(0x632)][_0x15b65e(0x8dd)](_0x5cb72f))throw new _0x2554b3(_0x17f7da[_0x15b65e(0x4d2)],_0x15b65e(0x544));const _0x152b39=new _0x351907(this['configs'][_0x15b65e(0x772)],_0x5cb72f,this[_0x15b65e(0x89a)][_0x15b65e(0x95e)],this[_0x15b65e(0x89a)][_0x15b65e(0x4e6)],this[_0x15b65e(0x159)],_0x2cf89f,()=>this[_0x15b65e(0x89a)]['mediator'][_0x15b65e(0x395)](),_0x302bb1);return this[_0x15b65e(0x632)][_0x15b65e(0xcd)](_0x5cb72f,_0x152b39),this[_0x15b65e(0x89a)][_0x15b65e(0x295)][_0x15b65e(0x118)](_0x152b39),_0x152b39;}[_0x4d9d4f(0x4d0)](_0xe0ddab,_0xaba319){const _0xe1ae23=_0x4d9d4f;if(this[_0xe1ae23(0x632)]['has'](_0xe0ddab))throw new _0x2554b3(_0x17f7da[_0xe1ae23(0x97a)],'Connection\x20already\x20exists');const _0x39c0e5=new _0x1da3b9(this[_0xe1ae23(0x89a)][_0xe1ae23(0x772)],_0xe0ddab,this['configs'][_0xe1ae23(0x95e)],this[_0xe1ae23(0x89a)][_0xe1ae23(0x4e6)],_0xaba319);return this[_0xe1ae23(0x73a)][_0xe1ae23(0xcd)](_0xe0ddab,_0x39c0e5),this[_0xe1ae23(0x89a)][_0xe1ae23(0x295)]['registerSystemSource'](_0x39c0e5),_0x39c0e5;}async[_0x4d9d4f(0x7d0)](_0x37e21e,_0xf78626,_0x557f8e){const _0x131a60=_0x4d9d4f;if(this[_0x131a60(0x314)][_0x131a60(0x8dd)](_0x37e21e))throw new _0x2554b3(_0x17f7da[_0x131a60(0x98b)],_0x131a60(0x919));try{const _0x3089dc=this[_0x131a60(0x89a)]['mediator'][_0x131a60(0x593)][_0x131a60(0x3b0)](this['configs'][_0x131a60(0x295)]),_0x20776d=new _0xc35f17(this[_0x131a60(0x89a)][_0x131a60(0x772)],_0x37e21e,this[_0x131a60(0x89a)][_0x131a60(0x95e)],this[_0x131a60(0x89a)][_0x131a60(0x4e6)],_0xf78626,_0x557f8e,_0x3089dc);return this['keyValueDatabases']['set'](_0x37e21e,_0x20776d),this[_0x131a60(0x89a)][_0x131a60(0x295)][_0x131a60(0x118)](_0x20776d),_0x20776d;}catch(_0x553116){if(_0x553116 instanceof _0x2554b3)throw _0x553116;throw new _0x56b2e7(_0x56b2e7[_0x131a60(0x90b)][_0x131a60(0x7e4)],{'label':_0x37e21e,'clusterId':this['configs']['clusterId'],'vendorId':this['configs']['vendorId']});}}async[_0x4d9d4f(0x356)](_0x44cc2c,_0x1264f7){const _0xd01a1d=_0x4d9d4f;if(this['jobDispatchers'][_0xd01a1d(0x8dd)](_0x44cc2c))throw new _0x2554b3(_0x17f7da[_0xd01a1d(0x6d5)],_0xd01a1d(0x631));try{const _0x3a65f7=new _0x18e0ce(this[_0xd01a1d(0x89a)]['localNode'],_0x44cc2c,_0x1264f7);return this[_0xd01a1d(0x134)]['set'](_0x44cc2c,_0x3a65f7),this['configs'][_0xd01a1d(0x295)][_0xd01a1d(0x118)](_0x3a65f7),_0x3a65f7;}catch(_0x2ef0a5){if(_0x2ef0a5 instanceof _0x2554b3)throw _0x2ef0a5;throw new _0x56b2e7(_0x56b2e7[_0xd01a1d(0x90b)]['JobDispatcherCreationFailed'],{'label':_0x44cc2c,'clusterId':this[_0xd01a1d(0x89a)][_0xd01a1d(0x95e)],'vendorId':this[_0xd01a1d(0x89a)][_0xd01a1d(0x4e6)]});}}async['createGenerativeAIContext'](_0x5de16c,_0x24ff3b){const _0x261ce0=_0x4d9d4f;if(this['jobDispatchers'][_0x261ce0(0x8dd)](_0x5de16c))throw new _0x2554b3(_0x17f7da['GenerativeAIContextAlreadyExists'],_0x261ce0(0x5cd));if(this[_0x261ce0(0x4c2)][_0x261ce0(0x8dd)](_0x5de16c))throw new _0x2554b3(_0x17f7da['GenerativeAILabelConflict'],_0x261ce0(0x52d));try{const _0x33bd6c=new _0x3346ed(this[_0x261ce0(0x89a)]['localNode'],_0x5de16c,this[_0x261ce0(0x89a)][_0x261ce0(0x4e6)],_0x24ff3b);return this[_0x261ce0(0x134)][_0x261ce0(0xcd)](_0x5de16c,_0x33bd6c),this[_0x261ce0(0x89a)][_0x261ce0(0x295)][_0x261ce0(0x118)](_0x33bd6c),_0x33bd6c;}catch(_0x310ca9){if(_0x310ca9 instanceof _0x2554b3)throw _0x310ca9;throw new _0x56b2e7(_0x56b2e7[_0x261ce0(0x90b)][_0x261ce0(0x46e)],{'label':_0x5de16c,'clusterId':this[_0x261ce0(0x89a)][_0x261ce0(0x95e)],'vendorId':this[_0x261ce0(0x89a)][_0x261ce0(0x4e6)]});}}async[_0x4d9d4f(0x3c0)](_0x1e24be,_0x4801a6,_0x5c5c12,_0xa492a3,_0x315a80,_0xf9b3d,_0x517b6d,_0x17d1c6){const _0x3064fe=_0x4d9d4f;if(this['jobWorkers'][_0x3064fe(0x8dd)](_0x1e24be))throw new _0x2554b3(_0x17f7da[_0x3064fe(0x8e2)],_0x3064fe(0x208));if(this[_0x3064fe(0x134)][_0x3064fe(0x8dd)](_0x1e24be))throw new _0x2554b3(_0x17f7da[_0x3064fe(0x5f9)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x353e5=new _0x355350(this[_0x3064fe(0x89a)][_0x3064fe(0x772)],_0x1e24be,this[_0x3064fe(0x89a)]['vendorId'],_0x4801a6,this,_0x5c5c12,_0xa492a3,_0x315a80,this[_0x3064fe(0x6a6)],this[_0x3064fe(0x559)],_0xf9b3d,_0x517b6d,_0x17d1c6);return this[_0x3064fe(0x4c2)][_0x3064fe(0xcd)](_0x1e24be,_0x353e5),this[_0x3064fe(0x89a)][_0x3064fe(0x295)][_0x3064fe(0x118)](_0x353e5),_0x353e5;}catch(_0x3de706){if(_0x3de706 instanceof _0x2554b3)throw _0x3de706;throw new _0x56b2e7(_0x56b2e7['codes'][_0x3064fe(0x46a)],{'label':_0x1e24be,'clusterId':this[_0x3064fe(0x89a)][_0x3064fe(0x95e)],'vendorId':this[_0x3064fe(0x89a)][_0x3064fe(0x4e6)]});}}['createGraphDatabase'](_0x2fac16,_0x4b1380){const _0x4819cc=_0x4d9d4f;if(this[_0x4819cc(0x763)][_0x4819cc(0x8dd)](_0x2fac16))throw new _0x2554b3(_0x17f7da[_0x4819cc(0x25f)],_0x4819cc(0x919));try{const _0x4a704f=new _0x4a15a6(this[_0x4819cc(0x89a)]['localNode'],_0x2fac16,this[_0x4819cc(0x89a)][_0x4819cc(0x95e)],this[_0x4819cc(0x89a)][_0x4819cc(0x4e6)],_0x4b1380);return this[_0x4819cc(0x763)][_0x4819cc(0xcd)](_0x2fac16,_0x4a704f),this[_0x4819cc(0x89a)]['mediator'][_0x4819cc(0x118)](_0x4a704f),_0x4a704f;}catch(_0x17f397){if(_0x17f397 instanceof _0x2554b3)throw _0x17f397;throw new _0x56b2e7(_0x56b2e7[_0x4819cc(0x90b)][_0x4819cc(0x511)],{'label':_0x2fac16,'clusterId':this[_0x4819cc(0x89a)][_0x4819cc(0x95e)],'vendorId':this[_0x4819cc(0x89a)][_0x4819cc(0x4e6)]});}}[_0x4d9d4f(0x72a)](_0x2475db,_0x15e913){const _0x717a57=_0x4d9d4f;if(this[_0x717a57(0x389)]['has'](_0x2475db))throw new _0x2554b3(_0x17f7da[_0x717a57(0x312)],'Local\x20MediaStream\x20already\x20exists');if(!this[_0x717a57(0x6cc)][_0x717a57(0xf9)])throw new _0x2554b3(_0x17f7da[_0x717a57(0x653)],_0x717a57(0x95c));const _0x3a8db3=new _0x485be0(this[_0x717a57(0x89a)][_0x717a57(0x772)],_0x2475db,_0x15e913,this['options'][_0x717a57(0x18d)],this[_0x717a57(0x6cc)][_0x717a57(0xf9)],this[_0x717a57(0x89a)][_0x717a57(0x95e)]);return this[_0x717a57(0x389)][_0x717a57(0xcd)](_0x2475db,_0x3a8db3),this[_0x717a57(0x89a)][_0x717a57(0x295)][_0x717a57(0x118)](_0x3a8db3),_0x3a8db3[_0x717a57(0x817)](),_0x3a8db3;}[_0x4d9d4f(0x321)](_0x4054b0,_0x3731d1){const _0x2859ca=_0x4d9d4f;if(this['localMediaStreams'][_0x2859ca(0x8dd)](_0x4054b0))throw new _0x2554b3(_0x17f7da[_0x2859ca(0x312)],'Stream\x20already\x20exists');const _0x3ca1d8=new _0x2ee750(this['configs']['localNode'],_0x4054b0,_0x3731d1,this[_0x2859ca(0x89a)]['clusterId']);return this['localMediaStreams']['set'](_0x4054b0,_0x3ca1d8),this['configs']['mediator'][_0x2859ca(0x118)](_0x3ca1d8),_0x3ca1d8[_0x2859ca(0x817)](),_0x3ca1d8;}[_0x4d9d4f(0x1db)](_0x195f5c){const _0x124010=_0x4d9d4f;if(this['pubSubTopics'][_0x124010(0x8dd)](_0x195f5c))throw new _0x2554b3(_0x17f7da[_0x124010(0x462)],_0x124010(0x4b8));const _0x44d798=new _0x272627(this[_0x124010(0x89a)]['localNode'],_0x195f5c,this[_0x124010(0x89a)][_0x124010(0x95e)]);return this[_0x124010(0x24f)][_0x124010(0xcd)](_0x195f5c,_0x44d798),this[_0x124010(0x89a)]['mediator']['registerSystemSource'](_0x44d798),_0x44d798;}[_0x4d9d4f(0x69e)](_0x39c7da,_0x498ed3,_0x24ae04,_0x306083){const _0x3c825f=_0x4d9d4f;this['remoteMediaStreams'][_0x3c825f(0x8dd)](_0x39c7da)||this[_0x3c825f(0x4b3)]['set'](_0x39c7da,new Map());const _0x4656ec=this[_0x3c825f(0x4b3)][_0x3c825f(0x29f)](_0x39c7da);if(_0x4656ec[_0x3c825f(0x8dd)](_0x498ed3))throw new _0x2554b3(_0x17f7da[_0x3c825f(0x95b)],_0x3c825f(0x69c));const _0x264d73=new _0x1b285a(_0x39c7da,'',''),_0x18d3ec=new _0x364ea9(this[_0x3c825f(0x89a)][_0x3c825f(0x772)],_0x264d73,_0x498ed3,_0x24ae04,_0x306083,this[_0x3c825f(0x89a)][_0x3c825f(0x95e)]);return _0x4656ec[_0x3c825f(0xcd)](_0x498ed3,_0x18d3ec),this[_0x3c825f(0x89a)][_0x3c825f(0x295)][_0x3c825f(0x118)](_0x18d3ec),_0x18d3ec;}[_0x4d9d4f(0x4c4)](_0x3ed355,_0x3e037b){const _0x37a8e6=_0x4d9d4f;if(this['vectorDatabases']['has'](_0x3ed355))throw new _0x2554b3(_0x17f7da[_0x37a8e6(0x13c)],_0x37a8e6(0x919));try{const _0xc516bc=new _0x5040dd(this[_0x37a8e6(0x89a)][_0x37a8e6(0x772)],_0x3ed355,this[_0x37a8e6(0x89a)][_0x37a8e6(0x95e)],this['configs']['vendorId'],_0x3e037b);return this[_0x37a8e6(0x413)][_0x37a8e6(0xcd)](_0x3ed355,_0xc516bc),this['configs'][_0x37a8e6(0x295)][_0x37a8e6(0x118)](_0xc516bc),_0xc516bc;}catch(_0x20a7ad){if(_0x20a7ad instanceof _0x2554b3)throw _0x20a7ad;throw new _0x56b2e7(_0x56b2e7[_0x37a8e6(0x90b)][_0x37a8e6(0x729)],{'label':_0x3ed355,'clusterId':this[_0x37a8e6(0x89a)]['clusterId'],'vendorId':this['configs'][_0x37a8e6(0x4e6)]});}}['getObjectStoreBuckets'](_0x13686e){const _0x540a68=_0x4d9d4f,_0x5b2243=Array[_0x540a68(0x376)](this['objectStores'][_0x540a68(0x7a1)]());return _0x13686e?_0x5b2243[_0x540a68(0x64c)](_0x13686e):_0x5b2243;}[_0x4d9d4f(0x335)](_0x248f68){const _0x9ee43=_0x4d9d4f,_0x3201eb=Array['from'](this[_0x9ee43(0x73a)][_0x9ee43(0x7a1)]());return _0x248f68?_0x3201eb[_0x9ee43(0x64c)](_0x248f68):_0x3201eb;}[_0x4d9d4f(0x340)](_0x4b32fb){const _0x1898ee=_0x4d9d4f,_0x5d01b6=Array[_0x1898ee(0x376)](this[_0x1898ee(0x314)][_0x1898ee(0x7a1)]());return _0x4b32fb?_0x5d01b6[_0x1898ee(0x64c)](_0x4b32fb):_0x5d01b6;}[_0x4d9d4f(0x6d2)](_0x40525a){const _0x28a61f=_0x4d9d4f,_0x198369=Array[_0x28a61f(0x376)](this[_0x28a61f(0x134)][_0x28a61f(0x7a1)]());return _0x40525a?_0x198369[_0x28a61f(0x64c)](_0x40525a):_0x198369;}['getJobWorkers'](_0x23544f){const _0xac1013=_0x4d9d4f,_0x2b2e5a=Array[_0xac1013(0x376)](this[_0xac1013(0x4c2)][_0xac1013(0x7a1)]());return _0x23544f?_0x2b2e5a[_0xac1013(0x64c)](_0x23544f):_0x2b2e5a;}[_0x4d9d4f(0x3f6)](_0x1e0ae0){const _0x25e258=_0x4d9d4f,_0x4847af=Array[_0x25e258(0x376)](this['jobDispatchers'][_0x25e258(0x7a1)]())[_0x25e258(0x64c)](_0x4e8f65=>_0x4e8f65 instanceof _0x3346ed);return _0x1e0ae0?_0x4847af[_0x25e258(0x64c)](_0x1e0ae0):_0x4847af;}['getGenerativeAIWorkers'](_0x52a9d6){const _0x263721=_0x4d9d4f,_0x34b3ff=Array['from'](this[_0x263721(0x4c2)][_0x263721(0x7a1)]())['filter'](_0x562712=>_0x562712 instanceof _0x355350);return _0x52a9d6?_0x34b3ff[_0x263721(0x64c)](_0x52a9d6):_0x34b3ff;}[_0x4d9d4f(0x370)](_0x3cfaf5){const _0x2d0e42=_0x4d9d4f,_0x17647c=Array[_0x2d0e42(0x376)](this[_0x2d0e42(0x763)][_0x2d0e42(0x7a1)]());return _0x3cfaf5?_0x17647c['filter'](_0x3cfaf5):_0x17647c;}[_0x4d9d4f(0x894)](_0x16abe7){const _0x42ecdf=_0x4d9d4f,_0x4d0853=Array['from'](this[_0x42ecdf(0x389)][_0x42ecdf(0x7a1)]());return _0x16abe7?_0x4d0853[_0x42ecdf(0x64c)](_0x16abe7):_0x4d0853;}[_0x4d9d4f(0x93d)](_0x2a191d){const _0xb82d8=_0x4d9d4f,_0x5c56ce=Array[_0xb82d8(0x376)](this[_0xb82d8(0x24f)]['values']());return _0x2a191d?_0x5c56ce[_0xb82d8(0x64c)](_0x2a191d):_0x5c56ce;}[_0x4d9d4f(0x592)](_0x15336c){const _0x375658=_0x4d9d4f,_0x450e27=Array[_0x375658(0x376)](this[_0x375658(0x4b3)]['values']())['reduce']((_0x4a952a,_0x2a5946)=>[..._0x4a952a,...Array[_0x375658(0x376)](_0x2a5946[_0x375658(0x7a1)]())],[]);return _0x15336c?_0x450e27[_0x375658(0x64c)](_0x15336c):_0x450e27;}[_0x4d9d4f(0x979)](_0x559b82){const _0x4f0668=_0x4d9d4f,_0x4276e1=Array[_0x4f0668(0x376)](this['vectorDatabases'][_0x4f0668(0x7a1)]());return _0x559b82?_0x4276e1[_0x4f0668(0x64c)](_0x559b82):_0x4276e1;}[_0x4d9d4f(0x237)](_0x4f6f46){const _0x3f12e4=_0x4d9d4f,_0xbc4741=this['objectStores'][_0x3f12e4(0x29f)](_0x4f6f46);if(!_0xbc4741)throw new _0x2554b3(_0x17f7da[_0x3f12e4(0x5f1)],_0x3f12e4(0x1a7));return _0xbc4741;}[_0x4d9d4f(0x105)](_0x5f53c9){const _0x120e75=_0x4d9d4f,_0x26c24e=_0x5f53c9[_0x120e75(0xaf)]('-'),_0x58a59e=this[_0x120e75(0x73a)]['get'](_0x26c24e[0x1]);if(!_0x58a59e)throw new _0x2554b3(_0x17f7da[_0x120e75(0x19c)],_0x120e75(0x49d));return _0x58a59e;}['getGraphDatabase'](_0x54a74b){const _0x3b909e=_0x4d9d4f,_0x2931b0=this[_0x3b909e(0x763)]['get'](_0x54a74b);if(!_0x2931b0)throw new _0x2554b3(_0x17f7da[_0x3b909e(0x28a)],'GraphDatabase\x20not\x20found');return _0x2931b0;}[_0x4d9d4f(0x925)](_0xc21395){const _0x5110af=_0x4d9d4f,_0x1d78ac=this[_0x5110af(0x314)]['get'](_0xc21395);if(!_0x1d78ac)throw new _0x2554b3(_0x17f7da['KeyValueDatabaseDoesNotExist'],_0x5110af(0x786));return _0x1d78ac;}['getPubSubTopic'](_0x30368e){const _0x93881c=_0x4d9d4f,_0x35cb11=this[_0x93881c(0x24f)]['get'](_0x30368e);if(!_0x35cb11)throw new _0x2554b3(_0x17f7da[_0x93881c(0x98f)],_0x93881c(0x319));return _0x35cb11;}[_0x4d9d4f(0x1c9)](_0x282cee){const _0x1287ba=_0x4d9d4f,_0x21a715=this[_0x1287ba(0x413)][_0x1287ba(0x29f)](_0x282cee);if(!_0x21a715)throw new _0x2554b3(_0x17f7da[_0x1287ba(0xb1)],'VectorDatabase\x20not\x20found');return _0x21a715;}[_0x4d9d4f(0x163)](_0x1d29e7){const _0x3c61d4=_0x4d9d4f;switch(_0x1d29e7[_0x3c61d4(0x108)]['type']){case _0x2e4dcf[_0x3c61d4(0x98d)]:this[_0x3c61d4(0x59f)](_0x1d29e7[_0x3c61d4(0x108)]);break;case _0x2e4dcf[_0x3c61d4(0x8ee)]:this[_0x3c61d4(0x8c2)](_0x1d29e7['content']);break;case _0x2e4dcf[_0x3c61d4(0x9cc)]:this[_0x3c61d4(0x555)](_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x5da)]);break;case _0x2e4dcf[_0x3c61d4(0xda)]:this['removeJobWorker'](_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x5da)]);break;case _0x2e4dcf[_0x3c61d4(0x2e4)]:this['removeLocalMediaStream'](_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x5da)]);break;case _0x2e4dcf[_0x3c61d4(0x88f)]:this[_0x3c61d4(0x7e0)](_0x1d29e7['content'][_0x3c61d4(0x5da)]);break;case _0x2e4dcf[_0x3c61d4(0x50d)]:this[_0x3c61d4(0x923)](_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x5da)]);break;case _0x2e4dcf[_0x3c61d4(0x2e6)]:this[_0x3c61d4(0x7ad)](_0x1d29e7['content'][_0x3c61d4(0x5da)]);break;case _0x2e4dcf[_0x3c61d4(0x785)]:this[_0x3c61d4(0x762)](_0x1d29e7['content'][_0x3c61d4(0x5da)]);break;case _0x2e4dcf[_0x3c61d4(0x37d)]:this[_0x3c61d4(0x3f1)](_0x1d29e7['content'][_0x3c61d4(0x5da)]);break;case _0x2e4dcf[_0x3c61d4(0x8ab)]:this['removeGraphDatabase'](_0x1d29e7['content'][_0x3c61d4(0x5da)]);break;case _0x2e4dcf[_0x3c61d4(0x2ba)]:this[_0x3c61d4(0x74f)](_0x1d29e7[_0x3c61d4(0x108)]);break;case _0x2e4dcf['KeyValueDatabaseSyncRequired']:this[_0x3c61d4(0x314)][_0x3c61d4(0x29f)](_0x1d29e7['content']['label'])?.[_0x3c61d4(0x212)](_0x1d29e7['sourceId'],_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x1c4)]);break;case _0x2e4dcf[_0x3c61d4(0xc7)]:this['keyValueDatabases'][_0x3c61d4(0x29f)](_0x1d29e7['content'][_0x3c61d4(0x5da)])?.[_0x3c61d4(0x98c)](_0x1d29e7[_0x3c61d4(0x68c)],_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x1c4)]);break;case _0x2e4dcf[_0x3c61d4(0x634)]:this[_0x3c61d4(0x314)][_0x3c61d4(0x29f)](_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x5da)])?.[_0x3c61d4(0x417)](_0x1d29e7['sourceId'],_0x1d29e7[_0x3c61d4(0x108)]['peaks']);break;case _0x2e4dcf[_0x3c61d4(0x129)]:this[_0x3c61d4(0x314)][_0x3c61d4(0x29f)](_0x1d29e7[_0x3c61d4(0x108)]['label'])?.[_0x3c61d4(0x53b)](_0x1d29e7[_0x3c61d4(0x68c)],_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x1f9)]);break;case _0x2e4dcf[_0x3c61d4(0x438)]:this['keyValueDatabases'][_0x3c61d4(0x29f)](_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x5da)])?.[_0x3c61d4(0x48d)](_0x1d29e7[_0x3c61d4(0x68c)],_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x14a)]);break;case _0x2e4dcf[_0x3c61d4(0x364)]:this['keyValueDatabases'][_0x3c61d4(0x29f)](_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x5da)])?.[_0x3c61d4(0x672)](_0x1d29e7[_0x3c61d4(0x68c)],_0x1d29e7['content'][_0x3c61d4(0x333)]);break;case _0x2e4dcf['LocalMediaStreamTrackFail']:this['configs']['mediator'][_0x3c61d4(0x9ae)](_0x3c61d4(0x1f1),{'label':_0x1d29e7['content'][_0x3c61d4(0x5da)],'trackKinds':_0x1d29e7[_0x3c61d4(0x108)][_0x3c61d4(0x691)]});}}['handleNodeSystemEvents']({content:_0x4dc7b6}){const _0x235cd5=_0x4d9d4f;switch(_0x4dc7b6['type']){case _0x52da1b[_0x235cd5(0x1ac)]:this[_0x235cd5(0x250)](_0x4dc7b6),this[_0x235cd5(0x7b4)](_0x4dc7b6);break;case _0x52da1b[_0x235cd5(0x188)]:this[_0x235cd5(0x4df)](_0x4dc7b6),this[_0x235cd5(0x1ef)](_0x4dc7b6);}}[_0x4d9d4f(0x457)](_0x1576d3){const _0x2c6ab7=_0x4d9d4f;switch(_0x1576d3['content'][_0x2c6ab7(0x506)]){case _0x4e7162[_0x2c6ab7(0x3f5)]:this[_0x2c6ab7(0x83e)](_0x1576d3[_0x2c6ab7(0x68c)],_0x1576d3[_0x2c6ab7(0x108)]);break;case _0x4e7162['UpdateMediaStream']:this['handleUpdateMediaStream'](_0x1576d3['sourceId'],_0x1576d3[_0x2c6ab7(0x108)]);break;case _0x4e7162[_0x2c6ab7(0x2ba)]:this[_0x2c6ab7(0x9d7)](_0x1576d3[_0x2c6ab7(0x68c)],_0x1576d3['content']);}}[_0x4d9d4f(0x74f)](_0x1abe14){const _0x19869a=_0x4d9d4f;if(0x0===_0x1abe14[_0x19869a(0x69f)])this['remoteMediaStreams'][_0x19869a(0x29f)](_0x1abe14['ownerId'])?.[_0x19869a(0x29f)](_0x1abe14[_0x19869a(0x5da)])?.[_0x19869a(0x6ef)]();else{const _0x13b585=this['remoteMediaStreams']['get'](_0x1abe14[_0x19869a(0x180)])?.['get'](_0x1abe14[_0x19869a(0x5da)]);if(!_0x13b585)return;_0x1abe14[_0x19869a(0x691)][_0x19869a(0x1dc)](_0x4c2b6a=>_0x13b585[_0x19869a(0x834)](_0x4c2b6a));}}[_0x4d9d4f(0x59f)](_0xa91ca6){const _0x55e1dc=_0x4d9d4f,{label:_0x58248c,ownerId:_0xbe5c65,stream:{streamId:_0x58b3e3,availableTrackKinds:_0xc40f27}}=_0xa91ca6;if(this['remoteMediaStreams'][_0x55e1dc(0x29f)](_0xbe5c65)?.[_0x55e1dc(0x8dd)](_0x58248c))return void _0x2644bc[_0x55e1dc(0x5ad)](_0x1a98bf['Content'],_0x55e1dc(0xf2),_0x58b3e3);const _0x3b735d=this[_0x55e1dc(0x69e)](_0xbe5c65,_0x58248c,_0x58b3e3,_0xc40f27);this[_0x55e1dc(0x89a)][_0x55e1dc(0x295)]['notifyCluster'](_0x55e1dc(0x4ee),{'ownerId':_0xbe5c65,'stream':_0x3b735d});}['handleUnpublishMediaStream']({ownerId:_0x3957ad,label:_0x3b06ba}){const _0x7f6d2=_0x4d9d4f;this[_0x7f6d2(0x6bc)](_0x3957ad,_0x3b06ba),this[_0x7f6d2(0x89a)]['mediator']['notifyCluster'](_0x7f6d2(0x58d),{'ownerId':_0x3957ad,'label':_0x3b06ba});}[_0x4d9d4f(0x83e)](_0xc974ad,_0x113fc1){const _0xacf152=_0x4d9d4f,{ownerId:_0x363982,label:_0x26828c}=_0x113fc1;let _0x224d34;_0x224d34=_0x363982!==this[_0xacf152(0x89a)][_0xacf152(0x772)][_0xacf152(0x9a5)]()?this[_0xacf152(0x4b3)]['get'](_0x363982)['get'](_0x26828c):this['localMediaStreams'][_0xacf152(0x29f)](_0x26828c),_0x224d34['getShareableStream'](_0xc974ad,_0x113fc1[_0xacf152(0x279)])['subscribe'](_0x113fc1,_0x224d34['getPriority']());}[_0x4d9d4f(0x1cc)](_0x47fa8c,_0x2909dd){const _0x1a0d24=_0x4d9d4f,{ownerId:_0x4067cc,label:_0x212f26}=_0x2909dd;let _0x277b8e;_0x277b8e=_0x4067cc!==this[_0x1a0d24(0x89a)][_0x1a0d24(0x772)][_0x1a0d24(0x9a5)]()?this[_0x1a0d24(0x4b3)][_0x1a0d24(0x29f)](_0x4067cc)[_0x1a0d24(0x29f)](_0x212f26):this[_0x1a0d24(0x389)][_0x1a0d24(0x29f)](_0x212f26),_0x277b8e[_0x1a0d24(0x459)](_0x47fa8c,_0x2909dd[_0x1a0d24(0x279)])[_0x1a0d24(0x1e8)](_0x2909dd);}[_0x4d9d4f(0x9d7)](_0x5bd9bf,_0x48e790){const _0x10d566=_0x4d9d4f,{ownerId:_0x2e5d74,label:_0x885299}=_0x48e790;let _0x53facf;_0x53facf=_0x2e5d74!==this[_0x10d566(0x89a)]['localNode'][_0x10d566(0x9a5)]()?this['remoteMediaStreams'][_0x10d566(0x29f)](_0x2e5d74)[_0x10d566(0x29f)](_0x885299):this[_0x10d566(0x389)][_0x10d566(0x29f)](_0x885299),_0x53facf[_0x10d566(0x459)](_0x5bd9bf)[_0x10d566(0x4f9)](_0x48e790);}[_0x4d9d4f(0x250)]({id:_0x50a3d3}){const _0x55db03=_0x4d9d4f;this[_0x55db03(0x894)]()[_0x55db03(0x1dc)](_0x59a57b=>{const _0x370897=_0x55db03;_0x59a57b[_0x370897(0x817)](_0x50a3d3);});}[_0x4d9d4f(0x4df)]({id:_0x10b4cb}){const _0x279f49=_0x4d9d4f;this[_0x279f49(0x592)](_0x14ffa5=>_0x14ffa5[_0x279f49(0x38b)]()===_0x10b4cb)['forEach'](_0x1efc7b=>{const _0x433d3d=_0x279f49;this['removeRemoteMediaStream'](_0x1efc7b['getOwnerId'](),_0x1efc7b[_0x433d3d(0x502)]());});}[_0x4d9d4f(0x7b4)]({id:_0x41baec}){const _0x458fe4=_0x4d9d4f;this[_0x458fe4(0x632)][_0x458fe4(0x1dc)](_0x30d281=>_0x30d281[_0x458fe4(0x306)](_0x41baec));}[_0x4d9d4f(0x1ef)]({id:_0x4bff98}){const _0x1a5d47=_0x4d9d4f;this[_0x1a5d47(0x632)][_0x1a5d47(0x1dc)](_0x48d837=>_0x48d837['handleNodeLeave'](_0x4bff98));}[_0x4d9d4f(0x555)](_0xebcf00){const _0x573594=_0x4d9d4f;if(!this['jobDispatchers'][_0x573594(0x8dd)](_0xebcf00))throw new _0x2554b3(_0x17f7da[_0x573594(0x8e3)],_0x573594(0x7e3));const _0x52db00=this[_0x573594(0x134)][_0x573594(0x29f)](_0xebcf00);this[_0x573594(0x134)]['delete'](_0xebcf00),_0x52db00['destroy'](),this[_0x573594(0x89a)][_0x573594(0x295)][_0x573594(0x3a5)](_0x52db00);}[_0x4d9d4f(0x13e)](_0x17dc09){const _0x3e35b0=_0x4d9d4f;if(!this[_0x3e35b0(0x4c2)][_0x3e35b0(0x8dd)](_0x17dc09))throw new _0x2554b3(_0x17f7da[_0x3e35b0(0x456)],_0x3e35b0(0x34a));const _0x28dc90=this[_0x3e35b0(0x4c2)][_0x3e35b0(0x29f)](_0x17dc09);this[_0x3e35b0(0x4c2)][_0x3e35b0(0x465)](_0x17dc09),_0x28dc90[_0x3e35b0(0x6ef)](),this[_0x3e35b0(0x89a)]['mediator'][_0x3e35b0(0x3a5)](_0x28dc90);}[_0x4d9d4f(0x923)](_0x4937b5){const _0x494f5c=_0x4d9d4f;if(!this[_0x494f5c(0x632)]['has'](_0x4937b5))throw new _0x2554b3(_0x17f7da[_0x494f5c(0x5f1)],_0x494f5c(0x141));const _0x15971a=this[_0x494f5c(0x632)]['get'](_0x4937b5);this[_0x494f5c(0x632)][_0x494f5c(0x465)](_0x4937b5),_0x15971a['destroy'](),this[_0x494f5c(0x89a)][_0x494f5c(0x295)][_0x494f5c(0x3a5)](_0x15971a);}['removeExternalStorageConnection'](_0x166b8d){const _0x190a41=_0x4d9d4f;if(!this[_0x190a41(0x73a)]['has'](_0x166b8d))throw new _0x2554b3(_0x17f7da[_0x190a41(0x19c)],_0x190a41(0x1bd));const _0x4bca10=this['externalStorageConnections']['get'](_0x166b8d);this[_0x190a41(0x73a)][_0x190a41(0x465)](_0x166b8d),_0x4bca10[_0x190a41(0x6ef)](),this['configs'][_0x190a41(0x295)][_0x190a41(0x3a5)](_0x4bca10);}['removePubSubTopic'](_0x41944f){const _0x5bea2e=_0x4d9d4f;if(!this[_0x5bea2e(0x24f)][_0x5bea2e(0x8dd)](_0x41944f))throw new _0x2554b3(_0x17f7da[_0x5bea2e(0x98f)],_0x5bea2e(0x141));const _0xc225c8=this[_0x5bea2e(0x24f)][_0x5bea2e(0x29f)](_0x41944f);this[_0x5bea2e(0x24f)]['delete'](_0x41944f),_0xc225c8[_0x5bea2e(0x6ef)](),this[_0x5bea2e(0x89a)][_0x5bea2e(0x295)][_0x5bea2e(0x3a5)](_0xc225c8);}[_0x4d9d4f(0x762)](_0x16b314){const _0x1a9ac7=_0x4d9d4f;if(!this['keyValueDatabases']['has'](_0x16b314))throw new _0x2554b3(_0x17f7da['KeyValueDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x51daae=this[_0x1a9ac7(0x314)]['get'](_0x16b314);this['keyValueDatabases'][_0x1a9ac7(0x465)](_0x16b314),_0x51daae[_0x1a9ac7(0x6ef)](),this[_0x1a9ac7(0x89a)][_0x1a9ac7(0x295)][_0x1a9ac7(0x3a5)](_0x51daae);}['removeVectorDatabase'](_0x2d8eab){const _0x19dccc=_0x4d9d4f;if(!this[_0x19dccc(0x413)][_0x19dccc(0x8dd)](_0x2d8eab))throw new _0x2554b3(_0x17f7da[_0x19dccc(0xb1)],_0x19dccc(0x974));const _0x2b5917=this['vectorDatabases'][_0x19dccc(0x29f)](_0x2d8eab);this['vectorDatabases'][_0x19dccc(0x465)](_0x2d8eab),_0x2b5917[_0x19dccc(0x6ef)](),this[_0x19dccc(0x89a)]['mediator'][_0x19dccc(0x3a5)](_0x2b5917);}['removeGraphDatabase'](_0x50de68){const _0x34385a=_0x4d9d4f;if(!this['graphDatabases'][_0x34385a(0x8dd)](_0x50de68))throw new _0x2554b3(_0x17f7da[_0x34385a(0x28a)],_0x34385a(0x974));const _0x11ff1a=this[_0x34385a(0x763)]['get'](_0x50de68);this['graphDatabases'][_0x34385a(0x465)](_0x50de68),_0x11ff1a[_0x34385a(0x6ef)](),this['configs'][_0x34385a(0x295)][_0x34385a(0x3a5)](_0x11ff1a);}[_0x4d9d4f(0x85d)](_0x344f88){const _0x104451=_0x4d9d4f;if(!this[_0x104451(0x389)][_0x104451(0x8dd)](_0x344f88))throw new _0x56b2e7(_0x56b2e7[_0x104451(0x90b)]['LocalMediaStreamDoesNotExist'],{'label':_0x344f88,'localId':this[_0x104451(0x89a)][_0x104451(0x772)][_0x104451(0x9a5)]()});const _0x4862bc=this[_0x104451(0x389)][_0x104451(0x29f)](_0x344f88);this[_0x104451(0x89a)][_0x104451(0x295)][_0x104451(0x3a5)](_0x4862bc),_0x4862bc[_0x104451(0x6ef)](),this[_0x104451(0x389)][_0x104451(0x465)](_0x344f88);}[_0x4d9d4f(0x6bc)](_0x3547a2,_0x46eae3){const _0x47fc8d=_0x4d9d4f;if(!this[_0x47fc8d(0x4b3)][_0x47fc8d(0x8dd)](_0x3547a2))throw new _0x56b2e7(_0x56b2e7[_0x47fc8d(0x90b)][_0x47fc8d(0x448)],{'nodeId':_0x3547a2,'localId':this[_0x47fc8d(0x89a)][_0x47fc8d(0x772)][_0x47fc8d(0x9a5)]()});const _0x41b433=this[_0x47fc8d(0x4b3)]['get'](_0x3547a2);if(!_0x41b433[_0x47fc8d(0x8dd)](_0x46eae3))throw new _0x56b2e7(_0x56b2e7['codes']['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x3547a2,'label':_0x46eae3,'localId':this[_0x47fc8d(0x89a)]['localNode'][_0x47fc8d(0x9a5)]()});const _0x3f2939=_0x41b433[_0x47fc8d(0x29f)](_0x46eae3);this[_0x47fc8d(0x89a)]['mediator'][_0x47fc8d(0x3a5)](_0x3f2939),_0x3f2939[_0x47fc8d(0x6ef)](),_0x41b433[_0x47fc8d(0x465)](_0x46eae3);}}var _0x1553f3,_0x4fce48,_0xbd995f;!function(_0x25cbdd){const _0x1a77af=_0x4d9d4f;_0x25cbdd[_0x1a77af(0x37c)]=_0x1a77af(0x11b),_0x25cbdd[_0x1a77af(0x483)]=_0x1a77af(0x6b2),_0x25cbdd[_0x1a77af(0x202)]=_0x1a77af(0x4ff),_0x25cbdd[_0x1a77af(0x384)]=_0x1a77af(0x642),_0x25cbdd[_0x1a77af(0x635)]='jitter',_0x25cbdd['FramePerSecond']=_0x1a77af(0x86d),_0x25cbdd[_0x1a77af(0x5a0)]=_0x1a77af(0x7c4),_0x25cbdd['AudioVideoDelay']=_0x1a77af(0x269);}(_0x1553f3||(_0x1553f3={})),function(_0x5137a9){const _0x490318=_0x4d9d4f;_0x5137a9[_0x490318(0x442)]=_0x490318(0xc6),_0x5137a9[_0x490318(0x202)]='cpu.time_per_frame',_0x5137a9[_0x490318(0x59d)]=_0x490318(0x771),_0x5137a9[_0x490318(0x260)]='cpu.fps',_0x5137a9[_0x490318(0x384)]=_0x490318(0x9c4),_0x5137a9[_0x490318(0x635)]=_0x490318(0x930),_0x5137a9[_0x490318(0x5a0)]='bandwidth.rtt';}(_0x4fce48||(_0x4fce48={})),function(_0x448aba){const _0x55687d=_0x4d9d4f;_0x448aba[_0x448aba[_0x55687d(0x71a)]=0x0]=_0x55687d(0x71a);}(_0xbd995f||(_0xbd995f={}));const _0xcb190d=[{'type':_0x1553f3[_0x4d9d4f(0x37c)],'reportMetric':_0x767922=>_0x767922[_0x4d9d4f(0x37c)],'maxThreshold':2.5},{'type':_0x1553f3['DTVolatility'],'reportMetric':_0x2f67d5=>_0x2f67d5[_0x4d9d4f(0x483)],'maxThreshold':0.5}],_0xb2024e=[{'type':_0x1553f3[_0x4d9d4f(0x202)],'reportMetric':_0x116964=>{const _0x2bc675=_0x4d9d4f,_0x1fbef7=0x3e8/_0x116964[_0x2bc675(0xe2)];return _0x116964[_0x2bc675(0x405)]/_0x1fbef7;},'maxThreshold':0.75},{'type':_0x1553f3[_0x4d9d4f(0x384)],'reportMetric':_0xd94d9=>{const _0x20b4e9=_0x4d9d4f,_0x59c0a1=_0xd94d9['FPS']*_0xd94d9[_0x20b4e9(0xe0)]*_0xd94d9[_0x20b4e9(0x761)]*0.12;return _0xd94d9['bitrate']/_0x59c0a1;},'minThreshold':0.25},{'type':_0x1553f3['Jitter'],'reportMetric':_0x379329=>_0x379329[_0x4d9d4f(0x51d)],'maxThreshold':0.6},{'type':_0x1553f3['FramePerSecond'],'reportMetric':_0x5c1d9d=>_0x5c1d9d[_0x4d9d4f(0xe2)],'minThreshold':0xa}],_0x369c46=[{'type':_0x1553f3[_0x4d9d4f(0x635)],'reportMetric':_0x162100=>_0x162100[_0x4d9d4f(0x51d)],'maxThreshold':0.6}],_0x5ddfe4=[{'type':_0x1553f3[_0x4d9d4f(0x5a0)],'reportMetric':_0x3e6164=>_0x3e6164[_0x4d9d4f(0x655)],'maxThreshold':0x1/0x0}],_0x1a2a4c=[{'type':_0x1553f3['AudioVideoDelay'],'reportMetric':_0x396fc6=>_0x396fc6[_0x4d9d4f(0x59d)],'maxThreshold':0x12c}],_0x1a374c=[{'type':_0x4fce48[_0x4d9d4f(0x442)],'issues':[{'type':_0x1553f3['STVolatility'],'threshold':0x5},{'type':_0x1553f3[_0x4d9d4f(0x483)],'threshold':0x5}]},{'type':_0x4fce48[_0x4d9d4f(0x202)],'issues':[{'type':_0x1553f3[_0x4d9d4f(0x202)],'threshold':0x3}]},{'type':_0x4fce48['AudioVideoDelay'],'issues':[{'type':_0x1553f3[_0x4d9d4f(0x59d)],'threshold':0x2}]},{'type':_0x4fce48[_0x4d9d4f(0x260)],'issues':[{'type':_0x1553f3['FramePerSecond'],'threshold':0x3}]},{'type':_0x4fce48[_0x4d9d4f(0x384)],'issues':[{'type':_0x1553f3[_0x4d9d4f(0x384)],'threshold':0x3}]},{'type':_0x4fce48[_0x4d9d4f(0x635)],'issues':[{'type':_0x1553f3[_0x4d9d4f(0x635)],'threshold':0x3}]},{'type':_0x4fce48[_0x4d9d4f(0x5a0)],'issues':[{'type':_0x1553f3['RoundTripTime'],'threshold':0x3}]}];var _0x236b95,_0x4c013f;!function(_0x37bee7){const _0x5263f6=_0x4d9d4f;_0x37bee7[_0x37bee7[_0x5263f6(0x7df)]=0x0]='StreamReport',_0x37bee7[_0x37bee7[_0x5263f6(0x31d)]=0x1]=_0x5263f6(0x31d);}(_0x236b95||(_0x236b95={}));class _0x36f8ec{['configs'];[_0x4d9d4f(0x6d4)]=[];[_0x4d9d4f(0x26f)];constructor(_0x5d511c){const _0x25d008=_0x4d9d4f;this[_0x25d008(0x89a)]=_0x5d511c,this[_0x25d008(0x89a)][_0x25d008(0x295)][_0x25d008(0x118)](this);}[_0x4d9d4f(0xe7)](_0x34ed6f){const _0x43dae9=_0x4d9d4f;this[_0x43dae9(0x26f)]=_0x34ed6f;}['unregisterSystemPublisher'](){const _0x6d2608=_0x4d9d4f;this[_0x6d2608(0x26f)]=void 0x0;}[_0x4d9d4f(0x6d7)](){const _0x1803f3=_0x4d9d4f;this[_0x1803f3(0x89a)][_0x1803f3(0x295)][_0x1803f3(0x3a5)](this),this[_0x1803f3(0x6d4)]=[];}[_0x4d9d4f(0x31b)](_0x3652c5){const _0x4f21eb=_0x4d9d4f;switch(_0x3652c5[_0x4f21eb(0x108)][_0x4f21eb(0x506)]){case _0x236b95[_0x4f21eb(0x31d)]:this[_0x4f21eb(0x86b)](_0x3652c5[_0x4f21eb(0x108)][_0x4f21eb(0x626)]);break;case _0x236b95[_0x4f21eb(0x7df)]:this[_0x4f21eb(0x1b7)](_0x3652c5[_0x4f21eb(0x108)][_0x4f21eb(0x626)]);}}[_0x4d9d4f(0x20c)](_0x1e974f,_0x1685c9,_0x1343eb,_0x43532d){const _0xd68e18=_0x4d9d4f,_0x1110fe=_0x1a374c[_0xd68e18(0x211)](_0x1546e4=>_0x1546e4[_0xd68e18(0x6d4)][_0xd68e18(0x985)](_0x465a3d=>_0x465a3d[_0xd68e18(0x506)]===_0x1e974f));_0x43532d>=_0x1110fe['issues']['find'](_0xaaa98b=>_0xaaa98b[_0xd68e18(0x506)]===_0x1e974f)[_0xd68e18(0x75d)]&&(this[_0xd68e18(0x3b8)](_0x1110fe[_0xd68e18(0x506)],_0x1685c9,_0x1343eb),this[_0xd68e18(0x6d4)]=this[_0xd68e18(0x6d4)][_0xd68e18(0x64c)](_0x57ad90=>!(_0x57ad90[_0xd68e18(0x506)]===_0x1e974f&&_0x57ad90[_0xd68e18(0x432)]===_0x1685c9&&_0x57ad90[_0xd68e18(0x63f)]===_0x1343eb)));}['detectLocalIssues'](_0x1dfb0c){const _0xed2e22=_0x4d9d4f;_0xcb190d[_0xed2e22(0x1dc)](_0x58e78f=>{const _0xda04d1=_0xed2e22,_0x1a6da5=_0x58e78f[_0xda04d1(0x346)](_0x1dfb0c);_0x58e78f[_0xda04d1(0x855)]&&_0x1a6da5>_0x58e78f['maxThreshold']&&this[_0xda04d1(0x315)](_0x58e78f['type'],this[_0xda04d1(0x89a)][_0xda04d1(0x772)][_0xda04d1(0x9a5)](),_0x5a0522[_0xda04d1(0x980)],_0x1a6da5),_0x58e78f[_0xda04d1(0x484)]&&_0x1a6da5<_0x58e78f['minThreshold']&&this[_0xda04d1(0x315)](_0x58e78f[_0xda04d1(0x506)],this['configs'][_0xda04d1(0x772)][_0xda04d1(0x9a5)](),_0x5a0522[_0xda04d1(0x980)],_0x1a6da5);});}['detectStreamIssues'](_0x1aaf66){const _0x1e5fb9=_0x4d9d4f;let _0x8b918=[];switch(_0x1aaf66['origin']){case _0x5a0522['Sender']:_0x8b918=_0x5ddfe4;break;case _0x5a0522[_0x1e5fb9(0x186)]:_0x8b918=_0x1a2a4c;}_0x1aaf66[_0x1e5fb9(0x59c)]&&this[_0x1e5fb9(0x85f)](_0x1aaf66[_0x1e5fb9(0x432)],_0x5a0522[_0x1e5fb9(0x980)],_0x1aaf66[_0x1e5fb9(0x59c)]),_0x1aaf66[_0x1e5fb9(0x429)]&&this['detectAudioIssues'](_0x1aaf66[_0x1e5fb9(0x432)],_0x5a0522[_0x1e5fb9(0x980)],_0x1aaf66[_0x1e5fb9(0x429)]),_0x8b918[_0x1e5fb9(0x1dc)](_0x58ddbd=>{const _0x143252=_0x1e5fb9,_0x1c7759=_0x58ddbd[_0x143252(0x346)](_0x1aaf66);_0x58ddbd['maxThreshold']&&_0x1c7759>_0x58ddbd[_0x143252(0x855)]&&this[_0x143252(0x315)](_0x58ddbd[_0x143252(0x506)],_0x1aaf66[_0x143252(0x432)],_0x5a0522[_0x143252(0x980)],_0x1c7759),_0x58ddbd[_0x143252(0x484)]&&_0x1c7759<_0x58ddbd[_0x143252(0x484)]&&this[_0x143252(0x315)](_0x58ddbd[_0x143252(0x506)],_0x1aaf66[_0x143252(0x432)],_0x5a0522[_0x143252(0x980)],_0x1c7759);});}[_0x4d9d4f(0x85f)](_0x4b2af9,_0x8e004d,_0x1666b4){const _0x405fad=_0x4d9d4f;0x0!==_0x1666b4[_0x405fad(0x642)]&&_0xb2024e[_0x405fad(0x1dc)](_0x29ab0d=>{const _0x5f89a5=_0x405fad,_0x3db831=_0x29ab0d[_0x5f89a5(0x346)](_0x1666b4);_0x29ab0d[_0x5f89a5(0x855)]&&_0x3db831>_0x29ab0d[_0x5f89a5(0x855)]&&this[_0x5f89a5(0x315)](_0x29ab0d[_0x5f89a5(0x506)],_0x4b2af9,_0x8e004d,_0x3db831,_0x5f89a5(0x59c)),_0x29ab0d[_0x5f89a5(0x484)]&&_0x3db831<_0x29ab0d['minThreshold']&&this[_0x5f89a5(0x315)](_0x29ab0d[_0x5f89a5(0x506)],_0x4b2af9,_0x8e004d,_0x3db831,_0x5f89a5(0x59c));});}[_0x4d9d4f(0x96b)](_0x5ccd5a,_0x195454,_0x2d9e48){const _0x53e3fc=_0x4d9d4f;0x0!==_0x2d9e48[_0x53e3fc(0x642)]&&_0x369c46[_0x53e3fc(0x1dc)](_0x51a99e=>{const _0x14bc1e=_0x53e3fc,_0x3fdd82=_0x51a99e[_0x14bc1e(0x346)](_0x2d9e48);_0x51a99e[_0x14bc1e(0x855)]&&_0x3fdd82>_0x51a99e[_0x14bc1e(0x855)]&&this[_0x14bc1e(0x315)](_0x51a99e[_0x14bc1e(0x506)],_0x5ccd5a,_0x195454,_0x3fdd82,_0x14bc1e(0x429)),_0x51a99e[_0x14bc1e(0x484)]&&_0x3fdd82<_0x51a99e[_0x14bc1e(0x484)]&&this['addIssue'](_0x51a99e[_0x14bc1e(0x506)],_0x5ccd5a,_0x195454,_0x3fdd82,'audio');});}[_0x4d9d4f(0x315)](_0x198e7c,_0x208651,_0x1cc8f0,_0x44882c,_0x4c3548){const _0x34a669=_0x4d9d4f;_0x2644bc[_0x34a669(0x5ad)](_0x1a98bf['Detection'],_0x34a669(0x9dd)+_0x198e7c,_0x198e7c,_0x44882c),_0x2644bc[_0x34a669(0x297)](_0x34a669(0x3eb),{'clusterId':this[_0x34a669(0x89a)][_0x34a669(0x95e)],'nodeId':this[_0x34a669(0x89a)][_0x34a669(0x772)]['getId'](),'nodeType':this[_0x34a669(0x89a)]['localNode'][_0x34a669(0x506)],'remoteId':_0x208651,'data':{'type':_0x198e7c,'value':_0x44882c,'kind':_0x4c3548}}),this[_0x34a669(0x6d4)]=this[_0x34a669(0x6d4)][_0x34a669(0x64c)](_0xeaf4a3=>Date[_0x34a669(0x873)]()-_0xeaf4a3[_0x34a669(0x7d7)]<0x7530),this[_0x34a669(0x6d4)][_0x34a669(0x9e2)]({'timestamp':Date[_0x34a669(0x873)](),'type':_0x198e7c,'nodeId':_0x208651,'origin':_0x1cc8f0,'value':_0x44882c,'kind':_0x4c3548});const _0x3c7189=this['issues']['filter'](_0x5c1572=>_0x5c1572[_0x34a669(0x506)]===_0x198e7c&&_0x5c1572[_0x34a669(0x432)]===_0x208651&&_0x5c1572['origin']===_0x1cc8f0)[_0x34a669(0x99a)];this['detectProblems'](_0x198e7c,_0x208651,_0x1cc8f0,_0x3c7189);}[_0x4d9d4f(0x3b8)](_0x198ea2,_0x237dcf,_0x2ee829){const _0x2ea77b=_0x4d9d4f;_0x2644bc[_0x2ea77b(0x5ad)](_0x1a98bf[_0x2ea77b(0x989)],_0x2ea77b(0x31e)+_0x198ea2),_0x2644bc['logEvent'](_0x2ea77b(0x68a),{'clusterId':this[_0x2ea77b(0x89a)][_0x2ea77b(0x95e)],'nodeId':this['configs']['localNode'][_0x2ea77b(0x9a5)](),'nodeType':this['configs'][_0x2ea77b(0x772)][_0x2ea77b(0x506)],'remoteId':_0x237dcf,'data':{'type':_0x198ea2}}),this[_0x2ea77b(0x26f)]?.[_0x2ea77b(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x2ea77b(0x989)],'content':{'type':_0xbd995f[_0x2ea77b(0x71a)],'data':{'timestamp':Date[_0x2ea77b(0x873)](),'nodeId':_0x237dcf,'origin':_0x5a0522[_0x2ea77b(0x980)],'type':_0x198ea2}}});}}class _0x10f7ae extends _0x1763d1{['type']=_0x2477c2[_0x4d9d4f(0x94f)][_0x4d9d4f(0x4ec)];}class _0x405ae3 extends _0x10f7ae{[_0x4d9d4f(0x26f)];[_0x4d9d4f(0x54a)]=Date['now']();[_0x4d9d4f(0x2f9)];[_0x4d9d4f(0x83b)];[_0x4d9d4f(0x6d7)](){const _0x1f570f=_0x4d9d4f;this[_0x1f570f(0x2f9)]&&(clearTimeout(this[_0x1f570f(0x2f9)]),delete this[_0x1f570f(0x2f9)]),delete this[_0x1f570f(0x83b)],this[_0x1f570f(0x54a)]=Date[_0x1f570f(0x873)](),super['close']();}[_0x4d9d4f(0xe7)](_0x567c96){const _0x340279=_0x4d9d4f;this[_0x340279(0x26f)]=_0x567c96;}[_0x4d9d4f(0x2bc)](){delete this['systemTopic'];}[_0x4d9d4f(0x469)](_0x2dc74f){const _0x530cc7=_0x4d9d4f;!this[_0x530cc7(0x2f9)]&&this['rank']&&this[_0x530cc7(0x26f)][_0x530cc7(0x817)]({'sourceId':this['id'],'destinationIds':[_0x2dc74f],'propagate':!0x0,'messageType':_0x2ba96e[_0x530cc7(0x7e7)],'content':{'type':_0x52da1b[_0x530cc7(0x4a2)],'id':this['id'],'metaData':{'type':this[_0x530cc7(0x506)]},'rank':this['getRank'](),'remoteConnections':Array[_0x530cc7(0x376)](this[_0x530cc7(0x66d)]),'version':this[_0x530cc7(0x54a)]}});}['addRemoteConnection'](_0x2ff8af){const _0x14d208=_0x4d9d4f;this['remoteConnections']['has'](_0x2ff8af)||(this['remoteConnections'][_0x14d208(0x9d2)](_0x2ff8af),this[_0x14d208(0x2eb)](),this[_0x14d208(0x63d)](!0x0));}[_0x4d9d4f(0x453)](_0x4d854b){const _0x1b75c3=_0x4d9d4f;this[_0x1b75c3(0x66d)][_0x1b75c3(0x8dd)](_0x4d854b)&&(this[_0x1b75c3(0x66d)][_0x1b75c3(0x465)](_0x4d854b),this['incrementVersion'](),this[_0x1b75c3(0x63d)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0x4d9d4f(0x4d8)](_0x558571,_0x1f5c5f=!0x0){const _0x4d7765=_0x4d9d4f;this[_0x4d7765(0x5e6)]!==_0x558571&&(this[_0x4d7765(0x5e6)]=_0x558571,_0x1f5c5f&&(this[_0x4d7765(0x2eb)](),this[_0x4d7765(0x63d)]()));}[_0x4d9d4f(0x2eb)](){const _0x4c1d70=_0x4d9d4f;this['currentVersion']=Date[_0x4c1d70(0x873)]();}['publishUserUpdate'](_0xb1368d=!0x1){const _0x32ffb1=_0x4d9d4f;if(this[_0x32ffb1(0x5e6)]){if(this[_0x32ffb1(0x83b)]||(this[_0x32ffb1(0x83b)]=Date['now']()),this[_0x32ffb1(0x2f9)]){if(Date[_0x32ffb1(0x873)]()-this[_0x32ffb1(0x83b)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x2dc826=_0x32ffb1;delete this['lastUpdated'],delete this[_0x2dc826(0x2f9)],this['systemTopic'][_0x2dc826(0x817)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x2ba96e['Node'],'content':{'type':_0xb1368d?_0x52da1b[_0x2dc826(0x96c)]:_0x52da1b['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x2dc826(0x506)]},'rank':this[_0x2dc826(0x64e)](),'remoteConnections':Array[_0x2dc826(0x376)](this[_0x2dc826(0x66d)]),'version':this[_0x2dc826(0x54a)]}});},0x3e8);}}}class _0x3215be extends _0x1b285a{['systemTopic'];['currentVersion']=Date['now']();['updateDebounceTimeout'];[_0x4d9d4f(0x83b)];[_0x4d9d4f(0x6d7)](){const _0x3ab3a6=_0x4d9d4f;this[_0x3ab3a6(0x2f9)]&&(clearTimeout(this[_0x3ab3a6(0x2f9)]),delete this['updateDebounceTimeout']),delete this[_0x3ab3a6(0x83b)],this[_0x3ab3a6(0x54a)]=Date[_0x3ab3a6(0x873)](),super[_0x3ab3a6(0x6d7)]();}[_0x4d9d4f(0xe7)](_0x41d9ed){const _0x1458e3=_0x4d9d4f;this[_0x1458e3(0x26f)]=_0x41d9ed;}[_0x4d9d4f(0x2bc)](){const _0x33c2f6=_0x4d9d4f;delete this[_0x33c2f6(0x26f)];}[_0x4d9d4f(0x469)](_0x37e106){const _0x5a7564=_0x4d9d4f;!this['updateDebounceTimeout']&&this[_0x5a7564(0x5e6)]&&this[_0x5a7564(0x26f)][_0x5a7564(0x817)]({'sourceId':this['id'],'destinationIds':[_0x37e106],'propagate':!0x0,'messageType':_0x2ba96e[_0x5a7564(0x7e7)],'content':{'type':_0x52da1b[_0x5a7564(0x4a2)],'id':this['id'],'metaData':{'type':this[_0x5a7564(0x506)],'displayName':this['getDisplayName'](),'email':this[_0x5a7564(0x9db)]()},'rank':this[_0x5a7564(0x64e)](),'remoteConnections':Array['from'](this[_0x5a7564(0x66d)]),'version':this[_0x5a7564(0x54a)]}});}[_0x4d9d4f(0x1a5)](_0x58696a){const _0x5e5c4c=_0x4d9d4f;this[_0x5e5c4c(0x66d)]['has'](_0x58696a)||(this[_0x5e5c4c(0x66d)]['add'](_0x58696a),this[_0x5e5c4c(0x2eb)](),this[_0x5e5c4c(0x63d)](!0x0));}[_0x4d9d4f(0x453)](_0x47eeb0){const _0x440886=_0x4d9d4f;this[_0x440886(0x66d)][_0x440886(0x8dd)](_0x47eeb0)&&(this[_0x440886(0x66d)][_0x440886(0x465)](_0x47eeb0),this[_0x440886(0x2eb)](),this[_0x440886(0x63d)](!0x0));}[_0x4d9d4f(0x841)](){return this['currentVersion'];}[_0x4d9d4f(0x449)](_0x80b776){const _0x5bbacc=_0x4d9d4f;this[_0x5bbacc(0x3ce)]!==_0x80b776&&(this[_0x5bbacc(0x3ce)]=_0x80b776,this['incrementVersion'](),this[_0x5bbacc(0x63d)]());}[_0x4d9d4f(0x50f)](_0x80d16d){const _0x531ca1=_0x4d9d4f;this[_0x531ca1(0x64a)]!==_0x80d16d&&(this['email']=_0x80d16d,this['incrementVersion'](),this[_0x531ca1(0x63d)]());}[_0x4d9d4f(0x4d8)](_0x3c9f95,_0x18326f=!0x0){const _0xa0fe85=_0x4d9d4f;this['rank']!==_0x3c9f95&&(this[_0xa0fe85(0x5e6)]=_0x3c9f95,_0x18326f&&(this['incrementVersion'](),this[_0xa0fe85(0x63d)]()));}[_0x4d9d4f(0x2eb)](){const _0x574d5a=_0x4d9d4f;this['currentVersion']=Date[_0x574d5a(0x873)]();}[_0x4d9d4f(0x63d)](_0x46b6bc=!0x1){const _0x27689d=_0x4d9d4f;if(this[_0x27689d(0x5e6)]){if(this[_0x27689d(0x83b)]||(this['lastUpdated']=Date['now']()),this[_0x27689d(0x2f9)]){if(Date['now']()-this[_0x27689d(0x83b)]>0x2328)return;clearTimeout(this[_0x27689d(0x2f9)]);}this[_0x27689d(0x2f9)]=setTimeout(()=>{const _0x48eb66=_0x27689d;delete this[_0x48eb66(0x83b)],delete this['updateDebounceTimeout'],this[_0x48eb66(0x26f)][_0x48eb66(0x817)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x2ba96e[_0x48eb66(0x7e7)],'content':{'type':_0x46b6bc?_0x52da1b[_0x48eb66(0x96c)]:_0x52da1b['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x48eb66(0x506)],'displayName':this[_0x48eb66(0x997)](),'email':this[_0x48eb66(0x9db)]()},'rank':this[_0x48eb66(0x64e)](),'remoteConnections':Array[_0x48eb66(0x376)](this[_0x48eb66(0x66d)]),'version':this[_0x48eb66(0x54a)]}});},0x3e8);}}}class _0x564125{['id'];['groupId'];[_0x4d9d4f(0x4e6)];['agentConfig'];[_0x4d9d4f(0x506)]=_0x2477c2[_0x4d9d4f(0x94f)][_0x4d9d4f(0x4ec)];[_0x4d9d4f(0x9d4)];constructor(_0x1293bf,_0x37fd39,_0x2996c8,_0x215398){const _0x4b645a=_0x4d9d4f;this['id']=_0x1293bf,this[_0x4b645a(0x2d7)]=_0x37fd39,this[_0x4b645a(0x4e6)]=_0x2996c8,this[_0x4b645a(0x574)]=_0x215398;}[_0x4d9d4f(0x9a5)](){return this['id'];}[_0x4d9d4f(0x564)](_0x1c2370){const _0x306561=_0x4d9d4f,_0x515c0f=(0x0,_0xaa5d3['onSnapshot'])((0x0,_0xaa5d3[_0x306561(0x7c9)])(_0x1f3417[_0x306561(0x83a)](),_0x306561(0x4d1)+this[_0x306561(0x4e6)]+_0x306561(0x70b)+this['groupId']),_0x48c263=>{const _0x2a2e6b=_0x306561;if(_0x48c263['exists']()){const _0x1a1a98=_0x48c263['data']();if(this['agentConfig']['timestamp'][_0x2a2e6b(0x179)](_0x1a1a98['timestamp']))return;_0x2644bc[_0x2a2e6b(0x5ad)](_0x1a98bf[_0x2a2e6b(0x7e7)],_0x2a2e6b(0x943),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this['agentConfig'],'newConfig':_0x1a1a98}),this['agentConfig']=_0x1a1a98,_0x1c2370();}});return()=>_0x515c0f();}[_0x4d9d4f(0x920)](_0x53001a){const _0x5d40bb=_0x4d9d4f;return this['reportCapacity'](this[_0x5d40bb(0x2d7)],_0x53001a),_0x135d86[_0x5d40bb(0x121)](()=>this[_0x5d40bb(0x1cf)](this[_0x5d40bb(0x2d7)],_0x53001a),0x7530);}[_0x4d9d4f(0x78c)](){const _0x345932=_0x4d9d4f;if(!this[_0x345932(0x9d4)])throw new _0x56b2e7(_0x56b2e7[_0x345932(0x90b)][_0x345932(0x425)]);return this[_0x345932(0x9d4)];}async[_0x4d9d4f(0x1cf)](_0x1982c2,_0x53367b){const _0x6b7860=_0x4d9d4f,_0x1d11dd=await _0x53367b();this[_0x6b7860(0x9d4)]=_0x1d11dd,await(0x0,_0xaa5d3[_0x6b7860(0x7cb)])((0x0,_0xaa5d3[_0x6b7860(0x6da)])(_0x1f3417[_0x6b7860(0x83a)](),_0x6b7860(0x4d1)+this[_0x6b7860(0x4e6)]+'/capacities'),{'agentId':this['id'],'groupId':_0x1982c2,'timestamp':(0x0,_0xaa5d3[_0x6b7860(0x5f8)])(),'capacity':_0x1d11dd});}}!function(_0x315f3d){const _0x5d9b95=_0x4d9d4f;_0x315f3d[_0x315f3d[_0x5d9b95(0x8af)]=0x0]=_0x5d9b95(0x8af),_0x315f3d[_0x315f3d['Offline']=0x1]='Offline';}(_0x4c013f||(_0x4c013f={}));class _0x23253c extends _0x10f7ae{[_0x4d9d4f(0x54a)];[_0x4d9d4f(0x320)]=_0x4c013f['Online'];['lastUpdated']=Date[_0x4d9d4f(0x873)]();constructor(_0x2734af,_0x1647c7=new Set(),_0x481098,_0x230286){const _0x36e788=_0x4d9d4f;super(_0x2734af,_0x1647c7,_0x230286),this[_0x36e788(0x54a)]=_0x481098;}[_0x4d9d4f(0x841)](){return this['currentVersion'];}[_0x4d9d4f(0x235)](){return this['status'];}[_0x4d9d4f(0x8a0)](){const _0x3adb5a=_0x4d9d4f;return this[_0x3adb5a(0x83b)];}[_0x4d9d4f(0x4d8)](_0x2b2835){const _0x400184=_0x4d9d4f;this[_0x400184(0x5e6)]!==_0x2b2835&&(this['rank']=_0x2b2835,this[_0x400184(0x187)]());}[_0x4d9d4f(0x6ee)](_0x575dc5){const _0x4ddd83=_0x4d9d4f;let _0x7bfdfa=!0x1;for(const _0x546eaa of this['remoteConnections'])_0x575dc5[_0x4ddd83(0x766)](_0x546eaa)||(_0x7bfdfa=!0x0,this[_0x4ddd83(0x66d)][_0x4ddd83(0x465)](_0x546eaa));for(const _0x4c6bd3 of _0x575dc5)this[_0x4ddd83(0x66d)]['has'](_0x4c6bd3)||(_0x7bfdfa=!0x0,this[_0x4ddd83(0x66d)][_0x4ddd83(0x9d2)](_0x4c6bd3));_0x7bfdfa&&this[_0x4ddd83(0x187)]();}[_0x4d9d4f(0x85e)](_0x301f11){const _0x3f2767=_0x4d9d4f;this[_0x3f2767(0x54a)]!==_0x301f11&&(this[_0x3f2767(0x54a)]=_0x301f11,this[_0x3f2767(0x187)]());}[_0x4d9d4f(0x316)](_0xa53bea){const _0x7cb294=_0x4d9d4f;this['status']!==_0xa53bea&&(this[_0x7cb294(0x320)]=_0xa53bea,this[_0x7cb294(0x187)](),_0xa53bea===_0x4c013f[_0x7cb294(0x495)]&&this[_0x7cb294(0x6d7)]());}[_0x4d9d4f(0x187)](){const _0xa04c54=_0x4d9d4f;this[_0xa04c54(0x83b)]=Date[_0xa04c54(0x873)]();}}class _0x9087f7 extends _0x1b285a{[_0x4d9d4f(0x54a)];[_0x4d9d4f(0x320)]=_0x4c013f['Online'];[_0x4d9d4f(0x83b)]=Date[_0x4d9d4f(0x873)]();constructor(_0x1f5c7c,_0x60ef0f,_0x2e8ed2,_0x2a81a1=new Set(),_0x3ea4d7,_0x51a2cf){const _0x5f1445=_0x4d9d4f;super(_0x1f5c7c,_0x60ef0f,_0x2e8ed2,_0x2a81a1,_0x51a2cf),this[_0x5f1445(0x54a)]=_0x3ea4d7;}[_0x4d9d4f(0x841)](){return this['currentVersion'];}[_0x4d9d4f(0x235)](){const _0x27af33=_0x4d9d4f;return this[_0x27af33(0x320)];}[_0x4d9d4f(0x8a0)](){const _0x4acef8=_0x4d9d4f;return this[_0x4acef8(0x83b)];}['setDisplayName'](_0x1c5c9c){const _0x3bbe03=_0x4d9d4f;this[_0x3bbe03(0x3ce)]!==_0x1c5c9c&&(this[_0x3bbe03(0x3ce)]=_0x1c5c9c,this[_0x3bbe03(0x187)]());}[_0x4d9d4f(0x50f)](_0x45d879){const _0x54087c=_0x4d9d4f;this['email']!==_0x45d879&&(this['email']=_0x45d879,this[_0x54087c(0x187)]());}[_0x4d9d4f(0x4d8)](_0xdee109){const _0x36237d=_0x4d9d4f;this[_0x36237d(0x5e6)]!==_0xdee109&&(this['rank']=_0xdee109,this[_0x36237d(0x187)]());}['setRemoteConnections'](_0x59a9a1){const _0x5e6892=_0x4d9d4f;let _0x233aa1=!0x1;for(const _0x1ad1ce of this[_0x5e6892(0x66d)])_0x59a9a1[_0x5e6892(0x766)](_0x1ad1ce)||(_0x233aa1=!0x0,this[_0x5e6892(0x66d)][_0x5e6892(0x465)](_0x1ad1ce));for(const _0x5f0406 of _0x59a9a1)this[_0x5e6892(0x66d)][_0x5e6892(0x8dd)](_0x5f0406)||(_0x233aa1=!0x0,this[_0x5e6892(0x66d)][_0x5e6892(0x9d2)](_0x5f0406));_0x233aa1&&this['updateLastUpdated']();}[_0x4d9d4f(0x85e)](_0x3b84de){const _0x44f857=_0x4d9d4f;this[_0x44f857(0x54a)]!==_0x3b84de&&(this[_0x44f857(0x54a)]=_0x3b84de,this[_0x44f857(0x187)]());}['setStatus'](_0x4871a4){const _0x1754bd=_0x4d9d4f;this[_0x1754bd(0x320)]!==_0x4871a4&&(this['status']=_0x4871a4,this[_0x1754bd(0x187)](),_0x4871a4===_0x4c013f[_0x1754bd(0x495)]&&this[_0x1754bd(0x6d7)]());}[_0x4d9d4f(0x187)](){const _0x3a2f6e=_0x4d9d4f;this[_0x3a2f6e(0x83b)]=Date['now']();}}class _0x105b20{[_0x4d9d4f(0x4e6)];[_0x4d9d4f(0x95e)];[_0x4d9d4f(0x772)];['minConnections'];['disconnectCallback']=_0xa7293a();[_0x4d9d4f(0x2f5)];['childRemovedUnsubscriber'];[_0x4d9d4f(0x8ea)];[_0x4d9d4f(0x26d)]=!0x1;['clusterKey'];[_0x4d9d4f(0x73f)];constructor(_0x3c7d8d,_0x275efe,_0x28ed3f,_0x317dc8){const _0xc42c11=_0x4d9d4f;this[_0xc42c11(0x4e6)]=_0x3c7d8d,this[_0xc42c11(0x95e)]=_0x275efe,this[_0xc42c11(0x772)]=_0x28ed3f,this[_0xc42c11(0x620)]=_0x317dc8,this[_0xc42c11(0x561)]=_0xc42c11(0x4be)+this[_0xc42c11(0x4e6)]+_0xc42c11(0x4be)+this[_0xc42c11(0x95e)],this[_0xc42c11(0x73f)]='ccc'+this['vendorId']+'ccc'+this[_0xc42c11(0x772)][_0xc42c11(0x9a5)](),this['firebaseUnsubscriber']=(0x0,_0x2d658e[_0xc42c11(0x5be)])((0x0,_0x2d658e[_0xc42c11(0x479)])(_0x1f3417[_0xc42c11(0x45a)](),_0xc42c11(0x777)),_0x20ff16=>{const _0xe5f5eb=_0xc42c11;!0x0!==_0x20ff16[_0xe5f5eb(0x9bf)]()?this[_0xe5f5eb(0x26d)]&&_0x2644bc[_0xe5f5eb(0x716)]('firebase-disconnect',{'clusterId':this['clusterId'],'nodeId':this[_0xe5f5eb(0x772)][_0xe5f5eb(0x9a5)](),'nodeType':this[_0xe5f5eb(0x772)]['type']}):(this['connected']=!0x0,this[_0xe5f5eb(0x5ca)](),_0x2644bc[_0xe5f5eb(0xd0)](_0xe5f5eb(0x972),{'clusterId':this['clusterId'],'nodeId':this[_0xe5f5eb(0x772)][_0xe5f5eb(0x9a5)](),'nodeType':this[_0xe5f5eb(0x772)][_0xe5f5eb(0x506)]}));});}async['join'](){const _0xaea86e=_0x4d9d4f;await this[_0xaea86e(0x447)]();const _0x41eef3=await this['getAncestors']();return this[_0xaea86e(0x49a)]=(0x0,_0x2d658e[_0xaea86e(0x888)])((0x0,_0x2d658e[_0xaea86e(0x479)])(_0x1f3417[_0xaea86e(0x45a)](),_0xaea86e(0x1ba)+this[_0xaea86e(0x561)]+_0xaea86e(0x36e)),_0x1ad1e6=>{const _0x28d63c=_0xaea86e,_0x413774=_0x1ad1e6[_0x28d63c(0x79f)];if(!_0x413774)return;const _0x3f6529=_0x413774[_0x28d63c(0x5cc)]('ccc'+this[_0x28d63c(0x4e6)]+_0x28d63c(0x4be),'');this[_0x28d63c(0x2af)][_0x28d63c(0x817)](_0x3f6529);}),_0x41eef3;}async[_0x4d9d4f(0x6d7)](){const _0x3ee2b0=_0x4d9d4f;this[_0x3ee2b0(0x49a)]?.(),delete this['childRemovedUnsubscriber'],this[_0x3ee2b0(0x8ea)]?.['cancel'](),delete this[_0x3ee2b0(0x8ea)],this['firebaseUnsubscriber']?.(),delete this[_0x3ee2b0(0x2f5)],await(0x0,_0x2d658e[_0x3ee2b0(0x371)])((0x0,_0x2d658e[_0x3ee2b0(0x479)])(_0x1f3417['getDatabase'](),_0x3ee2b0(0x1ba)+this['clusterKey']+'/nodes/'+this[_0x3ee2b0(0x73f)]));}[_0x4d9d4f(0x3c7)](_0x50d2e1){const _0x43e7b9=_0x4d9d4f;return this[_0x43e7b9(0x2af)]['subscribe'](_0x50d2e1);}async['getAncestors'](){const _0x1ae7f9=_0x4d9d4f,_0x3c5937=[],_0x54c084=await(0x0,_0x2d658e[_0x1ae7f9(0x29f)])((0x0,_0x2d658e[_0x1ae7f9(0x479)])(_0x1f3417['getDatabase'](),_0x1ae7f9(0x1ba)+this[_0x1ae7f9(0x561)]+_0x1ae7f9(0x36e))),_0x4c9a5f=[];return _0x54c084[_0x1ae7f9(0x1dc)](_0x1fefb0=>{const _0x14231a=_0x1ae7f9,_0x4ef7dc=_0x1fefb0[_0x14231a(0x79f)]?.['replace'](_0x14231a(0x4be)+this[_0x14231a(0x4e6)]+_0x14231a(0x4be),'');_0x4c9a5f['push']({'id':_0x4ef7dc,'joinedAt':_0x1fefb0['val']()[_0x14231a(0x375)],'priority':_0x1fefb0[_0x14231a(0x9bf)]()[_0x14231a(0xcb)]});}),_0x4c9a5f[_0x1ae7f9(0xd6)]((_0x198e91,_0x22f5fa)=>_0x198e91[_0x1ae7f9(0x375)]===_0x22f5fa[_0x1ae7f9(0x375)]?_0x198e91[_0x1ae7f9(0xcb)]-_0x22f5fa['priority']:_0x198e91[_0x1ae7f9(0x375)]-_0x22f5fa[_0x1ae7f9(0x375)])[_0x1ae7f9(0x2db)](_0x4c9a5f[_0x1ae7f9(0x45c)](_0xf68143=>_0xf68143['id']===this['localNode']['getId']())),_0x4c9a5f['sort']((_0x32f0aa,_0x5d4bad)=>_0x5d4bad['joinedAt']===_0x32f0aa[_0x1ae7f9(0x375)]?_0x5d4bad[_0x1ae7f9(0xcb)]-_0x32f0aa[_0x1ae7f9(0xcb)]:_0x5d4bad[_0x1ae7f9(0x375)]-_0x32f0aa[_0x1ae7f9(0x375)])[_0x1ae7f9(0x1dc)](_0x3475ac=>{const _0x51959e=_0x1ae7f9;_0x3c5937['length']>=this['minConnections']||_0x3c5937[_0x51959e(0x9e2)](_0x3475ac['id']);}),_0x2644bc[_0x1ae7f9(0x297)](_0x1ae7f9(0x13d),{'clusterId':this[_0x1ae7f9(0x95e)],'nodeId':this[_0x1ae7f9(0x772)][_0x1ae7f9(0x9a5)](),'nodeType':this[_0x1ae7f9(0x772)]['type'],'data':{'ancestorIds':_0x3c5937,'allNodes':_0x4c9a5f}}),_0x3c5937;}async[_0x4d9d4f(0x447)](){const _0x1785e2=_0x4d9d4f;await(0x0,_0x2d658e[_0x1785e2(0xcd)])((0x0,_0x2d658e[_0x1785e2(0x479)])(_0x1f3417['getDatabase'](),_0x1785e2(0x1ba)+this[_0x1785e2(0x561)]+_0x1785e2(0x701)+this[_0x1785e2(0x73f)]),{'joinedAt':(0x0,_0x2d658e[_0x1785e2(0x5f8)])(),'priority':Math['random']()});}[_0x4d9d4f(0x5ca)](){const _0x4eb99d=_0x4d9d4f;this[_0x4eb99d(0x8ea)]&&this['onDisconnectHandler'][_0x4eb99d(0x5c0)](),this[_0x4eb99d(0x8ea)]=(0x0,_0x2d658e['onDisconnect'])((0x0,_0x2d658e[_0x4eb99d(0x479)])(_0x1f3417['getDatabase'](),_0x4eb99d(0x1ba)+this['clusterKey']+_0x4eb99d(0x701)+this['nodeKey'])),this[_0x4eb99d(0x8ea)][_0x4eb99d(0x371)]();}}class _0x5d40e2{[_0x4d9d4f(0x89a)];[_0x4d9d4f(0x519)];[_0x4d9d4f(0x436)];[_0x4d9d4f(0x7b3)];['discoveryUnsubscriber'];[_0x4d9d4f(0x482)]=[];['systemTopic'];[_0x4d9d4f(0x5b4)]=new Map();[_0x4d9d4f(0x4c1)];[_0x4d9d4f(0x3f7)];[_0x4d9d4f(0x226)];[_0x4d9d4f(0x3a9)];[_0x4d9d4f(0x132)];['readyDebounce'];constructor(_0x5c2836,_0x3f2427){const _0x401e89=_0x4d9d4f;this[_0x401e89(0x89a)]=_0x5c2836,this[_0x401e89(0x519)]=_0x3f2427,this['_isReady']=new Promise((_0x267451,_0xc2559a)=>{const _0x3da6d8=_0x401e89;this[_0x3da6d8(0x3a9)]=_0x267451,this[_0x3da6d8(0x132)]=_0xc2559a;}),this[_0x401e89(0x7b3)]=new _0x105b20(this['configs'][_0x401e89(0x4e6)],this[_0x401e89(0x89a)][_0x401e89(0x95e)],this[_0x401e89(0x89a)][_0x401e89(0x772)],this['graphService'][_0x401e89(0x4a6)]()),this['discoveryUnsubscriber']=this[_0x401e89(0x7b3)][_0x401e89(0x3c7)](this[_0x401e89(0x397)][_0x401e89(0x3b0)](this)),this[_0x401e89(0x89a)][_0x401e89(0x295)]['registerSystemSource'](this[_0x401e89(0x89a)][_0x401e89(0x772)]),this['configs'][_0x401e89(0x295)][_0x401e89(0x118)](this),this['remoteUnsubscriber']=_0x135d86[_0x401e89(0x121)](()=>{const _0x56fa7a=_0x401e89,_0x27283f=Date['now']();this['graphService'][_0x56fa7a(0x125)]()[_0x56fa7a(0x1dc)](_0x8891e9=>{const _0x9908e0=_0x56fa7a;_0x8891e9[_0x9908e0(0x235)]()===_0x4c013f[_0x9908e0(0x495)]&&_0x8891e9[_0x9908e0(0x8a0)]()<_0x27283f-0x493e0&&this[_0x9908e0(0x519)][_0x9908e0(0x42f)](_0x8891e9[_0x9908e0(0x9a5)]());});},0xea60);}async[_0x4d9d4f(0x6b8)](){return this['_isReady'];}async['isNodeReady'](_0x5c0d37){return new Promise((_0x4ed47f,_0x5e6572)=>{const _0x550fce=a0_0x1399;let _0x42f77b;const _0x4b4e2f=setTimeout(()=>{const _0x3fdb34=a0_0x1399;_0x42f77b?.(),_0x5e6572(new Error(_0x3fdb34(0xd4)+_0x5c0d37+_0x3fdb34(0x827)));},0x2710);if(this[_0x550fce(0x519)][_0x550fce(0x690)](_0x5c0d37))return clearTimeout(_0x4b4e2f),void _0x4ed47f(!0x0);_0x42f77b=this[_0x550fce(0x519)][_0x550fce(0x7fd)](()=>{const _0x334026=_0x550fce;this['graphService'][_0x334026(0x690)](_0x5c0d37)&&(clearTimeout(_0x4b4e2f),_0x4ed47f(!0x0),_0x42f77b?.());});});}[_0x4d9d4f(0xe7)](_0x5d31dd){this['systemTopic']=_0x5d31dd;}[_0x4d9d4f(0x2bc)](){const _0xcd9ab8=_0x4d9d4f;delete this[_0xcd9ab8(0x26f)];}['close'](){const _0x1c75ba=_0x4d9d4f;this[_0x1c75ba(0x4c1)]&&(clearTimeout(this[_0x1c75ba(0x4c1)]),delete this['debounceProcessRank']),delete this['lastProcessRank'],this[_0x1c75ba(0x89a)][_0x1c75ba(0x772)]['close'](),this[_0x1c75ba(0x436)](),this[_0x1c75ba(0x694)](),this['configs']['mediator']['unregisterSystemSource'](this[_0x1c75ba(0x89a)]['localNode']),this['configs'][_0x1c75ba(0x295)][_0x1c75ba(0x3a5)](this),this['discoveryService']['close']();}[_0x4d9d4f(0xde)](){const _0x102361=_0x4d9d4f;return this[_0x102361(0x482)];}[_0x4d9d4f(0x39f)](){const _0x524b3a=_0x4d9d4f;return this[_0x524b3a(0x89a)][_0x524b3a(0x772)][_0x524b3a(0x9a5)]();}[_0x4d9d4f(0x663)](){const _0x28698e=_0x4d9d4f;return this['configs'][_0x28698e(0x772)];}['getRemoteNodes'](_0x29bce5){const _0x50a6ed=_0x4d9d4f,_0x4e5056=Array[_0x50a6ed(0x376)](this[_0x50a6ed(0x519)][_0x50a6ed(0x125)]()[_0x50a6ed(0x7a1)]())['filter'](_0x31b9d3=>_0x31b9d3[_0x50a6ed(0x235)]()===_0x4c013f[_0x50a6ed(0x8af)]);return _0x29bce5?_0x4e5056['filter'](_0x29bce5):_0x4e5056;}async[_0x4d9d4f(0x13d)](){const _0x33e162=_0x4d9d4f;return this[_0x33e162(0x482)]=await this[_0x33e162(0x7b3)][_0x33e162(0x6de)](),this[_0x33e162(0x482)][_0x33e162(0x99a)]<this[_0x33e162(0x519)][_0x33e162(0x4a6)]()&&(this[_0x33e162(0x89a)][_0x33e162(0x772)][_0x33e162(0x4d8)](this[_0x33e162(0x482)][_0x33e162(0x99a)]+0x1),this['processRank']()),this[_0x33e162(0x482)];}[_0x4d9d4f(0x93a)](_0x5c1676,_0x336e11){const _0x4902a3=_0x4d9d4f,_0x2a5dbd=this[_0x4902a3(0x89a)][_0x4902a3(0x772)][_0x4902a3(0x7e8)](),_0x5acdee=new Set(_0x2a5dbd),_0x4badd4=Array[_0x4902a3(0x376)](_0x2a5dbd)['filter'](_0xc4f83b=>_0xc4f83b!==_0x5c1676)[_0x4902a3(0x473)](_0x3f0a0f=>({'id':_0x3f0a0f,'distance':0x1}));for(;_0x4badd4[_0x4902a3(0x99a)]>0x0;){const _0x267542=_0x4badd4[_0x4902a3(0x124)]();if(!_0x267542)continue;if(_0x267542['id']===_0x336e11)return _0x267542[_0x4902a3(0x491)];const _0x3ce0a3=this['graphService'][_0x4902a3(0x2f6)](_0x267542['id']);_0x3ce0a3&&_0x3ce0a3['getStatus']()!==_0x4c013f[_0x4902a3(0x495)]&&_0x3ce0a3[_0x4902a3(0x7e8)]()['forEach'](_0x19e23e=>{const _0x5cf2e0=_0x4902a3;_0x5acdee['has'](_0x19e23e)||(_0x5acdee['add'](_0x19e23e),_0x4badd4[_0x5cf2e0(0x9e2)]({'id':_0x19e23e,'distance':_0x267542[_0x5cf2e0(0x491)]+0x1}));});}return-0x1;}[_0x4d9d4f(0x2de)](_0xa479cf){const _0x3216a5=_0x4d9d4f;try{switch(_0xa479cf[_0x3216a5(0x108)]['type']){case _0x52da1b[_0x3216a5(0x4a2)]:case _0x52da1b[_0x3216a5(0x96c)]:this['handleNodeUpdate'](_0xa479cf[_0x3216a5(0x108)]),_0x2644bc[_0x3216a5(0x5ad)](_0x1a98bf[_0x3216a5(0x7e7)],_0x3216a5(0x70d),'\x27'+this[_0x3216a5(0x89a)][_0x3216a5(0x772)][_0x3216a5(0x9a5)]()+',\x20'+_0xa479cf['sourceId']+'\x27',_0xa479cf,_0xa479cf[_0x3216a5(0x108)]);break;case _0x52da1b[_0x3216a5(0x188)]:this[_0x3216a5(0x236)](_0xa479cf['content']['id']),_0x2644bc['log'](_0x1a98bf[_0x3216a5(0x7e7)],_0x3216a5(0x3da),'\x27'+this[_0x3216a5(0x89a)][_0x3216a5(0x772)][_0x3216a5(0x9a5)]()+',\x20'+_0xa479cf[_0x3216a5(0x68c)]+'\x27',_0xa479cf,_0xa479cf[_0x3216a5(0x108)]);}}catch(_0xf1b68a){if(_0xf1b68a instanceof _0x2f0fdd)return void _0x2644bc[_0x3216a5(0x5ad)](_0x1a98bf[_0x3216a5(0x7e7)],_0xf1b68a[_0x3216a5(0x12c)]);throw _0xf1b68a;}}[_0x4d9d4f(0x35c)](_0x1e85cf){const _0x27f369=_0x4d9d4f;switch(_0x1e85cf[_0x27f369(0x108)][_0x27f369(0x506)]){case _0x774ff0['Success']:this['handleConnectionSuccess'](_0x1e85cf['sourceId']),_0x2644bc[_0x27f369(0x5ad)](_0x1a98bf['Node'],_0x27f369(0x1b1),'\x27'+this['configs'][_0x27f369(0x772)]['getId']()+',\x20'+_0x1e85cf[_0x27f369(0x68c)]+'\x27',_0x1e85cf,_0x1e85cf[_0x27f369(0x108)]);break;case _0x774ff0[_0x27f369(0x48a)]:this['publishNodeLeave'](_0x1e85cf['sourceId']),_0x2644bc[_0x27f369(0x5ad)](_0x1a98bf['Node'],'NodeManager\x20-\x20PublishNodeLeave',this[_0x27f369(0x89a)][_0x27f369(0x772)][_0x27f369(0x9a5)](),_0x1e85cf,_0x1e85cf[_0x27f369(0x108)]);}}[_0x4d9d4f(0x306)](_0x256335){const _0x47915c=_0x4d9d4f;this[_0x47915c(0x57c)](_0x256335),this[_0x47915c(0x2c6)](_0x256335);}[_0x4d9d4f(0x2c6)](_0x11b13d){const _0x59ab8b=_0x4d9d4f;this[_0x59ab8b(0x89a)][_0x59ab8b(0x772)][_0x59ab8b(0x469)](_0x11b13d['id']),this[_0x59ab8b(0x504)](_0x11b13d['id']),this[_0x59ab8b(0x542)](_0x11b13d);}[_0x4d9d4f(0x1f5)](_0xc0fb91){const _0x1293f3=_0x4d9d4f,{id:_0x5279c9,metaData:_0x20750e,rank:_0x386e95,remoteConnections:_0x1a2961,version:_0x58f917}=_0xc0fb91,_0x55798e=this[_0x1293f3(0x519)][_0x1293f3(0x2f6)](_0x5279c9);if(_0x55798e){if(!(_0x58f917<=_0x55798e[_0x1293f3(0x841)]())){if(_0x55798e[_0x1293f3(0x6ee)](_0x1a2961),_0x55798e[_0x1293f3(0x85e)](_0x58f917),_0x55798e[_0x1293f3(0x506)]===_0x2477c2[_0x1293f3(0x94f)][_0x1293f3(0x7b9)]&&_0x20750e['type']===_0x2477c2['NodeType'][_0x1293f3(0x7b9)]&&(_0x55798e['setDisplayName'](_0x20750e[_0x1293f3(0x3ce)]),_0x55798e[_0x1293f3(0x50f)](_0x20750e['email'])),_0x386e95&&_0x55798e['setRank'](_0x386e95),this['setLocalRank'](_0x5279c9,_0x386e95),_0x55798e['getStatus']()===_0x4c013f[_0x1293f3(0x495)])return _0x55798e['setStatus'](_0x4c013f[_0x1293f3(0x8af)]),this[_0x1293f3(0x5d9)](),void this[_0x1293f3(0x2c6)](_0xc0fb91);this[_0x1293f3(0x5d9)](),this[_0x1293f3(0x110)]({'id':_0x5279c9,'metaData':_0x20750e,'remoteConnections':_0x1a2961,'version':_0x58f917});}}else this['handleNodeJoin'](_0xc0fb91);}[_0x4d9d4f(0x61b)](_0x5f6bb1,_0x29ae4b){const _0x4dd99b=_0x4d9d4f;_0x29ae4b&&this[_0x4dd99b(0x482)]['includes'](_0x5f6bb1)&&this[_0x4dd99b(0x89a)][_0x4dd99b(0x772)][_0x4dd99b(0x4d8)](_0x29ae4b+this[_0x4dd99b(0x482)][_0x4dd99b(0x489)](_0x5f6bb1)+0x1);}['handleConnectionSuccess'](_0x11e903){const _0x56af79=_0x4d9d4f;this[_0x56af79(0x89a)]['localNode']['addRemoteConnection'](_0x11e903);}[_0x4d9d4f(0x57c)]({id:_0x191101,metaData:_0x40b90b,rank:_0x208e1b,remoteConnections:_0x577ec9,version:_0x5c9ab2}){const _0x230a5b=_0x4d9d4f;if(this[_0x230a5b(0x519)]['hasRemoteNode'](_0x191101))throw new _0x2f0fdd('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x191101);switch(_0x40b90b[_0x230a5b(0x506)]){case _0x2477c2[_0x230a5b(0x94f)][_0x230a5b(0x7b9)]:const {displayName:_0x5074c2,email:_0x3b0f7d}=_0x40b90b;this[_0x230a5b(0x519)][_0x230a5b(0x302)](_0x191101,new _0x9087f7(_0x191101,_0x5074c2,_0x3b0f7d,new Set(_0x577ec9),_0x5c9ab2,_0x208e1b));break;case _0x2477c2[_0x230a5b(0x94f)][_0x230a5b(0x4ec)]:this[_0x230a5b(0x519)][_0x230a5b(0x302)](_0x191101,new _0x23253c(_0x191101,new Set(_0x577ec9),_0x5c9ab2,_0x208e1b));}const _0x6d2238=this[_0x230a5b(0x125)](),_0x186134=new Set(this[_0x230a5b(0x482)]);_0x6d2238['forEach'](_0x33a388=>{const _0x204622=_0x230a5b;_0x186134[_0x204622(0x8dd)](_0x33a388[_0x204622(0x9a5)]())&&_0x186134[_0x204622(0x465)](_0x33a388[_0x204622(0x9a5)]());}),0x0===_0x186134[_0x230a5b(0x573)]&&this['resolveReady']&&(this[_0x230a5b(0x2b1)]&&clearTimeout(this[_0x230a5b(0x2b1)]),this[_0x230a5b(0x2b1)]=setTimeout(()=>{const _0x2e76d9=_0x230a5b;this[_0x2e76d9(0x3a9)]?.(!0x0),delete this[_0x2e76d9(0x3a9)],delete this['rejectReady'];},0x7d0)),this[_0x230a5b(0x61b)](_0x191101,_0x208e1b),this[_0x230a5b(0x5d9)]();}[_0x4d9d4f(0x504)](_0x5d3062){const _0x326313=_0x4d9d4f;this[_0x326313(0x26f)][_0x326313(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x326313(0x7e7)],'content':{'type':_0x52da1b['NodeJoin'],'id':_0x5d3062}});}[_0x4d9d4f(0x622)](_0x340d5f){const _0x411e6c=_0x4d9d4f;this[_0x411e6c(0x26f)]?.['publish']({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x411e6c(0x7e7)],'content':{'type':_0x52da1b['NodeLeave'],'id':_0x340d5f}});}[_0x4d9d4f(0x397)](_0x5a6fa0){const _0x49b5a1=_0x4d9d4f;if(_0x5a6fa0===this[_0x49b5a1(0x89a)]['localNode'][_0x49b5a1(0x9a5)]())return this[_0x49b5a1(0x89a)][_0x49b5a1(0x295)]['notifyCluster'](_0x49b5a1(0x99e),{'id':_0x5a6fa0}),this[_0x49b5a1(0x89a)]['mediator']['close']({'force':!0x0},!0x0),this[_0x49b5a1(0x89a)][_0x49b5a1(0x295)]['open'](),void this[_0x49b5a1(0x89a)]['mediator']['initialize']();this[_0x49b5a1(0x622)](_0x5a6fa0);}[_0x4d9d4f(0x236)](_0x2b36f){const _0x5ea3aa=_0x4d9d4f;this[_0x5ea3aa(0x482)][_0x5ea3aa(0x766)](_0x2b36f)?this[_0x5ea3aa(0x67c)](_0x2b36f):this['configs'][_0x5ea3aa(0x772)][_0x5ea3aa(0x7e8)]()['has'](_0x2b36f)&&this[_0x5ea3aa(0x107)](_0x2b36f),this[_0x5ea3aa(0x89a)][_0x5ea3aa(0x772)]['removeRemoteConnection'](_0x2b36f);const _0x5d7191=Array[_0x5ea3aa(0x376)](this[_0x5ea3aa(0x5b4)][_0x5ea3aa(0x7ff)]())[_0x5ea3aa(0x211)](([,_0x5a424c])=>_0x5a424c==_0x5a424c);_0x5d7191&&this[_0x5ea3aa(0x5b4)][_0x5ea3aa(0x465)](_0x5d7191[0x0]);const _0x12b4aa=this[_0x5ea3aa(0x519)][_0x5ea3aa(0x2f6)](_0x2b36f);if(!_0x12b4aa)return;const _0x544dd2=_0x12b4aa[_0x5ea3aa(0x64e)](),_0x43ba62=this[_0x5ea3aa(0x89a)][_0x5ea3aa(0x772)][_0x5ea3aa(0x64e)]();_0x43ba62&&_0x544dd2&&_0x544dd2<_0x43ba62&&this['configs']['localNode'][_0x5ea3aa(0x4d8)](_0x43ba62-0x1,!0x1),Array[_0x5ea3aa(0x376)](this[_0x5ea3aa(0x519)][_0x5ea3aa(0x125)]()[_0x5ea3aa(0x7a1)]())[_0x5ea3aa(0x1dc)](_0xa6f65a=>{const _0x10284e=_0x5ea3aa,_0x57e417=_0xa6f65a[_0x10284e(0x64e)]();_0x57e417&&_0x544dd2&&_0x544dd2<_0x57e417&&_0xa6f65a[_0x10284e(0x4d8)](_0x57e417-0x1);}),_0x12b4aa[_0x5ea3aa(0x316)](_0x4c013f[_0x5ea3aa(0x495)]),this[_0x5ea3aa(0x89a)][_0x5ea3aa(0x295)][_0x5ea3aa(0x9ae)](_0x12b4aa[_0x5ea3aa(0x506)]+_0x5ea3aa(0x2ca),{'id':_0x2b36f});}[_0x4d9d4f(0x542)]({id:_0xfcc278,metaData:_0x3ed233,remoteConnections:_0x40baf1}){const _0x9470b2=_0x4d9d4f;switch(_0x3ed233[_0x9470b2(0x506)]){case _0x2477c2[_0x9470b2(0x94f)][_0x9470b2(0x7b9)]:this[_0x9470b2(0x89a)][_0x9470b2(0x295)][_0x9470b2(0x9ae)]('user-join',{'id':_0xfcc278,'metaData':_0x3ed233,'remoteConnections':_0x40baf1});break;case _0x2477c2[_0x9470b2(0x94f)][_0x9470b2(0x4ec)]:this['configs'][_0x9470b2(0x295)]['notifyCluster'](_0x9470b2(0x1a2),{'id':_0xfcc278,'metaData':_0x3ed233,'remoteConnections':_0x40baf1});}}['notifyClusterNodeUpdate']({id:_0x4fa922,metaData:_0x961f19,remoteConnections:_0x269754}){const _0x260081=_0x4d9d4f;switch(_0x961f19[_0x260081(0x506)]){case _0x2477c2['NodeType']['User']:this[_0x260081(0x89a)][_0x260081(0x295)]['notifyCluster'](_0x260081(0xe1),{'id':_0x4fa922,'metaData':_0x961f19,'remoteConnections':_0x269754});break;case _0x2477c2[_0x260081(0x94f)][_0x260081(0x4ec)]:this['configs'][_0x260081(0x295)]['notifyCluster'](_0x260081(0x81d),{'id':_0x4fa922,'metaData':_0x961f19,'remoteConnections':_0x269754});}}[_0x4d9d4f(0x5d9)](){const _0x38b0df=_0x4d9d4f;if(this[_0x38b0df(0x3f7)]||(this['lastProcessRank']=Date[_0x38b0df(0x873)]()),this[_0x38b0df(0x4c1)]){if(Date[_0x38b0df(0x873)]()-this[_0x38b0df(0x3f7)]>0x2328)return;clearTimeout(this[_0x38b0df(0x4c1)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x490df7=_0x38b0df;delete this[_0x490df7(0x3f7)],delete this['debounceProcessRank'];const _0x5a824e=this[_0x490df7(0x89a)][_0x490df7(0x772)][_0x490df7(0x64e)]();if(!_0x5a824e)return;const _0x5b4ef0=this['graphService']['getCurrentMaxLayer'](this[_0x490df7(0x519)][_0x490df7(0x125)]()[_0x490df7(0x573)]);if(this[_0x490df7(0x5b4)][_0x490df7(0x573)]>=_0x5b4ef0)return;let _0x3aae7c=0x1;for(;this[_0x490df7(0x89a)][_0x490df7(0x295)][_0x490df7(0x951)]()[_0x490df7(0x99a)]<this[_0x490df7(0x519)][_0x490df7(0x5d1)]()&&_0x3aae7c<=_0x5b4ef0;){if(this[_0x490df7(0x5b4)][_0x490df7(0x8dd)](_0x3aae7c)){_0x3aae7c+=0x1;continue;}const _0x41f755=this['graphService'][_0x490df7(0x177)](_0x5a824e,_0x3aae7c),_0x3c45d9=Array[_0x490df7(0x376)](this[_0x490df7(0x519)][_0x490df7(0x125)]()[_0x490df7(0x7a1)]())[_0x490df7(0x211)](_0x43ca36=>_0x43ca36[_0x490df7(0x64e)]()===_0x41f755&&_0x43ca36['getStatus']()===_0x4c013f[_0x490df7(0x8af)]);if(_0x3c45d9){try{await this[_0x490df7(0x89a)][_0x490df7(0x295)][_0x490df7(0x668)](_0x3c45d9[_0x490df7(0x9a5)](),_0x4903f6[_0x490df7(0x91f)]),this[_0x490df7(0x5b4)]['set'](_0x3aae7c,_0x3c45d9['getId']());}catch(_0x3512be){if(!(_0x3512be instanceof _0x56b2e7&&_0x3512be[_0x490df7(0x1c1)]===_0x56b2e7[_0x490df7(0x90b)][_0x490df7(0x440)]))throw _0x3512be;_0x2644bc[_0x490df7(0x5ad)](_0x1a98bf[_0x490df7(0x7e7)],this[_0x490df7(0x89a)][_0x490df7(0x772)][_0x490df7(0x9a5)](),_0x3c45d9[_0x490df7(0x9a5)](),_0x3512be['message']);}_0x3aae7c+=0x1;}else _0x3aae7c+=0x1;}},0x3e8);}async['manageAncestor'](_0x2a7cbb){const _0x57e65a=_0x4d9d4f;this[_0x57e65a(0x482)][_0x57e65a(0x2db)](this['ancestors'][_0x57e65a(0x489)](_0x2a7cbb),0x1);const _0x160f46=await this[_0x57e65a(0x7b3)]['getAncestors']();for(const _0x3d4d21 of _0x160f46)if(!this[_0x57e65a(0x482)][_0x57e65a(0x766)](_0x3d4d21)){const _0x3c93d8=Array[_0x57e65a(0x376)](this[_0x57e65a(0x5b4)][_0x57e65a(0x7ff)]())['find'](([,_0x4fb40a])=>_0x4fb40a===_0x3d4d21);_0x3c93d8&&this[_0x57e65a(0x5b4)][_0x57e65a(0x465)](_0x3c93d8[0x0]),this[_0x57e65a(0x89a)]['mediator'][_0x57e65a(0x668)](_0x3d4d21,_0x4903f6['Core']);}0x0===_0x160f46[_0x57e65a(0x99a)]&&this[_0x57e65a(0x89a)][_0x57e65a(0x772)][_0x57e65a(0x4d8)](0x1),this[_0x57e65a(0x482)]=_0x160f46;}async[_0x4d9d4f(0x107)](_0x3ef9f6){const _0x40620c=_0x4d9d4f,_0x427b5c=this[_0x40620c(0x89a)][_0x40620c(0x772)][_0x40620c(0x64e)]();if(!_0x427b5c)return;const _0x2557d7=this[_0x40620c(0x519)]['getRemoteNode'](_0x3ef9f6);if(!_0x2557d7||_0x2557d7[_0x40620c(0x235)]()===_0x4c013f[_0x40620c(0x495)])return;const _0x33e5aa=_0x2557d7[_0x40620c(0x64e)]();if(!_0x33e5aa||_0x33e5aa<_0x427b5c)return;const _0x45af92=this[_0x40620c(0x2a1)](this['configs'][_0x40620c(0x772)][_0x40620c(0x7e8)](),_0x427b5c),_0x4a904d=this[_0x40620c(0x2a1)](_0x2557d7[_0x40620c(0x7e8)](),_0x33e5aa)[_0x45af92[_0x40620c(0x45c)](([_0x2ad622])=>_0x2ad622===_0x3ef9f6)];if(!_0x4a904d||this[_0x40620c(0x89a)][_0x40620c(0x772)][_0x40620c(0x7e8)]()[_0x40620c(0x8dd)](_0x4a904d[0x0]))return;const _0x1b2764=this[_0x40620c(0x519)]['getRemoteNode'](_0x4a904d[0x0]);if(_0x1b2764&&_0x1b2764[_0x40620c(0x235)]()!==_0x4c013f[_0x40620c(0x495)])try{await this[_0x40620c(0x89a)][_0x40620c(0x295)][_0x40620c(0x668)](_0x4a904d[0x0],_0x4903f6['Optimization']);const _0x1dc115=Array[_0x40620c(0x376)](this['optimizationLayers']['entries']())[_0x40620c(0x211)](([,_0x4e7847])=>_0x4e7847===_0x3ef9f6);_0x1dc115&&this[_0x40620c(0x5b4)][_0x40620c(0xcd)](_0x1dc115[0x0],_0x4a904d[0x0]);}catch(_0x6545f7){if(!(_0x6545f7 instanceof _0x56b2e7&&_0x6545f7[_0x40620c(0x1c1)]===_0x56b2e7[_0x40620c(0x90b)][_0x40620c(0x440)]))throw _0x6545f7;_0x2644bc[_0x40620c(0x5ad)](_0x1a98bf[_0x40620c(0x7e7)],this['configs'][_0x40620c(0x772)]['getId'](),_0x4a904d[0x0],_0x6545f7[_0x40620c(0x12c)]);}}[_0x4d9d4f(0x2a1)](_0x3b5e8f,_0x48d71a){const _0x373426=_0x4d9d4f;return Array[_0x373426(0x376)](_0x3b5e8f)[_0x373426(0x9a6)]((_0x4156bb,_0x684295)=>{const _0x47e2e5=_0x373426,_0x334877=this[_0x47e2e5(0x519)]['getRemoteNode'](_0x684295);if(!_0x334877||_0x334877['getStatus']()===_0x4c013f[_0x47e2e5(0x495)])return _0x4156bb;const _0x346c45=_0x334877[_0x47e2e5(0x64e)]();if(!_0x346c45)return _0x4156bb;const _0x1587d9=_0x346c45-_0x48d71a;return _0x1587d9<=this[_0x47e2e5(0x519)][_0x47e2e5(0x4a6)]()||_0x4156bb[_0x47e2e5(0x9e2)]([_0x684295,_0x1587d9]),_0x4156bb;},[])['sort'](([,_0x322850],[,_0x33e73c])=>_0x322850-_0x33e73c);}}const _0x255ffe=[{'problemType':_0x4fce48['CPUCycle'],'remediations':[{'type':_0x9f3900['Remediation'],'component':_0x6b228d[_0x4d9d4f(0x9eb)],'action':_0x1c500c[_0x4d9d4f(0x724)]},{'type':_0x9f3900[_0x4d9d4f(0x4c6)],'component':_0x6b228d[_0x4d9d4f(0x9eb)],'action':_0x1c500c['Downgrade']}]},{'problemType':_0x4fce48['TimePerFrame'],'remediations':[{'type':_0x9f3900['Remediation'],'component':_0x6b228d[_0x4d9d4f(0x9eb)],'action':_0x1c500c[_0x4d9d4f(0x724)]}]},{'problemType':_0x4fce48[_0x4d9d4f(0x59d)],'remediations':[{'type':_0x9f3900[_0x4d9d4f(0x92a)],'component':_0x6b228d['Resolution'],'action':_0x1c500c[_0x4d9d4f(0x724)]}]},{'problemType':_0x4fce48[_0x4d9d4f(0x260)],'remediations':[{'type':_0x9f3900[_0x4d9d4f(0x92a)],'component':_0x6b228d['Resolution'],'action':_0x1c500c[_0x4d9d4f(0x724)]}]},{'problemType':_0x4fce48['Bitrate'],'remediations':[{'type':_0x9f3900[_0x4d9d4f(0x92a)],'component':_0x6b228d[_0x4d9d4f(0x384)],'action':_0x1c500c[_0x4d9d4f(0x724)]}]},{'problemType':_0x4fce48[_0x4d9d4f(0x635)],'remediations':[{'type':_0x9f3900[_0x4d9d4f(0x92a)],'component':_0x6b228d[_0x4d9d4f(0x384)],'action':_0x1c500c[_0x4d9d4f(0x724)]}]},{'problemType':_0x4fce48[_0x4d9d4f(0x5a0)],'remediations':[{'type':_0x9f3900['Remediation'],'component':_0x6b228d[_0x4d9d4f(0x384)],'action':_0x1c500c['Downgrade']}]}];class _0x102797{[_0x4d9d4f(0x89a)];[_0x4d9d4f(0x26f)];[_0x4d9d4f(0x8cd)]=new Map();constructor(_0x46c96e){const _0x3b6bbe=_0x4d9d4f;this['configs']=_0x46c96e,this[_0x3b6bbe(0x89a)][_0x3b6bbe(0x295)][_0x3b6bbe(0x118)](this);}[_0x4d9d4f(0x6d7)](){const _0x18dbed=_0x4d9d4f;this[_0x18dbed(0x89a)][_0x18dbed(0x295)][_0x18dbed(0x3a5)](this);}['registerSystemPublisher'](_0x5b93d1){const _0x2425c9=_0x4d9d4f;this[_0x2425c9(0x26f)]=_0x5b93d1;}['unregisterSystemPublisher'](){const _0xa83b3=_0x4d9d4f;delete this[_0xa83b3(0x26f)];}[_0x4d9d4f(0x390)](_0x1fee96){const _0x24e83d=_0x4d9d4f;_0x1fee96['content']['type']===_0xbd995f[_0x24e83d(0x71a)]&&this[_0x24e83d(0x2e0)](_0x1fee96[_0x24e83d(0x108)][_0x24e83d(0x626)]);}[_0x4d9d4f(0x450)](_0x5c0df7){const _0x12e793=_0x4d9d4f;_0x5c0df7[_0x12e793(0x108)]['type']===_0x9f3900[_0x12e793(0x4c6)]&&this[_0x12e793(0x49e)](_0x5c0df7['sourceId'],{'type':_0x9f3900[_0x12e793(0x92a)],'component':_0x5c0df7['content']['data'][_0x12e793(0x2cc)],'action':_0x5c0df7[_0x12e793(0x108)][_0x12e793(0x626)]['action']});}['handleProblem'](_0x265a78){const _0x4f7cba=_0x4d9d4f,_0x706566=_0x255ffe['find'](_0xacb6c3=>_0xacb6c3[_0x4f7cba(0x8a1)]===_0x265a78[_0x4f7cba(0x506)]);_0x706566[_0x4f7cba(0x286)]?.['forEach'](_0x11264b=>{const _0x3d8499=_0x4f7cba;this[_0x3d8499(0x49e)](_0x265a78[_0x3d8499(0x432)],{'type':_0x265a78[_0x3d8499(0x63f)]===_0x5a0522[_0x3d8499(0x980)]?_0x9f3900[_0x3d8499(0x92a)]:_0x9f3900['RemoteRemediation'],'component':_0x11264b[_0x3d8499(0x2cc)],'action':_0x11264b[_0x3d8499(0x6f2)]});});}[_0x4d9d4f(0x49e)](_0x1f0d45,_0x180b9a){const _0x196d90=_0x4d9d4f;if(_0x180b9a[_0x196d90(0x506)]===_0x9f3900[_0x196d90(0x92a)]){const _0x252b03=Date[_0x196d90(0x873)](),_0x3e12db=this[_0x196d90(0x8cd)][_0x196d90(0x29f)](_0x1f0d45);if(_0x3e12db&&_0x252b03-_0x3e12db<0x1388)return;this[_0x196d90(0x8cd)][_0x196d90(0xcd)](_0x1f0d45,_0x252b03);}_0x2644bc['log'](_0x1a98bf['Remediation'],'Apply\x20remediation',_0x180b9a),_0x2644bc[_0x196d90(0x297)](_0x196d90(0x569),{'clusterId':this['configs'][_0x196d90(0x95e)],'nodeId':this[_0x196d90(0x89a)][_0x196d90(0x772)][_0x196d90(0x9a5)](),'nodeType':this[_0x196d90(0x89a)][_0x196d90(0x772)][_0x196d90(0x506)],'remoteId':_0x1f0d45,'data':{'type':_0x180b9a[_0x196d90(0x506)],'component':_0x180b9a[_0x196d90(0x2cc)],'action':_0x180b9a['action']}});let _0x5efe5c,_0x487583=_0x280524;_0x180b9a[_0x196d90(0x506)]===_0x9f3900[_0x196d90(0x4c6)]&&(_0x487583=this[_0x196d90(0x89a)][_0x196d90(0x772)][_0x196d90(0x9a5)](),_0x5efe5c=[_0x1f0d45]),this['systemTopic'][_0x196d90(0x817)]({'sourceId':_0x487583,'destinationIds':_0x5efe5c,'messageType':_0x2ba96e[_0x196d90(0x92a)],'content':{'type':_0x180b9a[_0x196d90(0x506)],'targetId':_0x1f0d45,'data':_0x180b9a}});}}const _0x13e84c=0x3e8,_0x57ad66=0x7530,_0x116658=_0x4d9d4f(0x798),_0x1f0720=_0x4d9d4f(0x99d),_0x11fd92=_0x4d9d4f(0x15f),_0x4dc136=[_0x116658,_0x1f0720],_0x9c96b9=[_0x11fd92];class _0x485d47{['roundTripTime']=0x0;['estimatedPlayoutTimestamp']=0x0;['jitter']=0x0;[_0x4d9d4f(0x623)]=0x0;['packets']=0x0;['currentTimestamp']=0x0;['previousTimestamp']=0x0;[_0x4d9d4f(0x2c0)]=0x0;[_0x4d9d4f(0x39b)]=0x0;get[_0x4d9d4f(0x642)](){const _0x45b589=_0x4d9d4f;return this[_0x45b589(0x89c)]>0x0&&this[_0x45b589(0x670)]>0x0&&Date[_0x45b589(0x873)]()-this[_0x45b589(0x89c)]<_0x57ad66?(this[_0x45b589(0x2c0)]-this[_0x45b589(0x39b)])/(this[_0x45b589(0x89c)]-this[_0x45b589(0x670)])*0x8*0x3e8:0x0;}[_0x4d9d4f(0x311)](_0x4f41f9){const _0x40ccbe=_0x4d9d4f;switch(_0x4f41f9[_0x40ccbe(0x506)]){case _0x11fd92:this['processInboundReport'](_0x4f41f9);break;case _0x116658:this['processOutboundReport'](_0x4f41f9);break;case _0x1f0720:this[_0x40ccbe(0x688)](_0x4f41f9);}}['getReport'](){const _0x31bf13=_0x4d9d4f;return{'bitrate':this[_0x31bf13(0x642)],'packetsLostPerc':this[_0x31bf13(0x5c2)](),'roundTripTime':this[_0x31bf13(0x655)],'jitter':this[_0x31bf13(0x51d)]};}['processInboundReport'](_0x163fec){const _0x3bcdb7=_0x4d9d4f;this[_0x3bcdb7(0x768)](_0x163fec[_0x3bcdb7(0x365)]),this['setTimestamp'](_0x163fec[_0x3bcdb7(0x7d7)]),this[_0x3bcdb7(0x1ce)]=_0x163fec['packetsReceived'],this['packetsLost']=_0x163fec[_0x3bcdb7(0x623)],void 0x0!==_0x163fec[_0x3bcdb7(0x51d)]?this[_0x3bcdb7(0x51d)]=_0x163fec[_0x3bcdb7(0x51d)]:this[_0x3bcdb7(0x51d)]=0x0,void 0x0!==_0x163fec[_0x3bcdb7(0x229)]?this[_0x3bcdb7(0x229)]=_0x163fec[_0x3bcdb7(0x229)]:this[_0x3bcdb7(0x229)]=0x0;}['processOutboundReport'](_0x1736a0){const _0x8ace8b=_0x4d9d4f;this[_0x8ace8b(0x768)](_0x1736a0[_0x8ace8b(0x1d1)]),this[_0x8ace8b(0xc5)](_0x1736a0[_0x8ace8b(0x7d7)]),this[_0x8ace8b(0x1ce)]=_0x1736a0[_0x8ace8b(0x874)];}['processRemoteInboundReport'](_0x58a80d){const _0x14aa85=_0x4d9d4f;this[_0x14aa85(0x655)]=0x3e8*_0x58a80d['roundTripTime'],void 0x0!==_0x58a80d[_0x14aa85(0x51d)]?this[_0x14aa85(0x51d)]=_0x58a80d[_0x14aa85(0x51d)]:this[_0x14aa85(0x51d)]=0x0;}[_0x4d9d4f(0x5c2)](){const _0x5e1719=_0x4d9d4f;return this[_0x5e1719(0x1ce)]>0x0?this[_0x5e1719(0x623)]/this[_0x5e1719(0x1ce)]:0x0;}[_0x4d9d4f(0xc5)](_0x8199a4){const _0x9cfde=_0x4d9d4f;_0x8199a4>this[_0x9cfde(0x89c)]&&(this[_0x9cfde(0x670)]=this[_0x9cfde(0x89c)],this[_0x9cfde(0x89c)]=_0x8199a4);}['setBytes'](_0x500582){const _0x2d53ff=_0x4d9d4f;this[_0x2d53ff(0x39b)]=this['currentBytes'],this[_0x2d53ff(0x2c0)]=_0x500582;}}class _0x38f26f extends _0x485d47{}class _0x4b5057 extends _0x485d47{[_0x4d9d4f(0x249)]=0x0;['frameWidth']=0x0;['frameHeight']=0x0;[_0x4d9d4f(0x6b3)]=0x0;[_0x4d9d4f(0x6a7)]=0x0;get[_0x4d9d4f(0x86d)](){const _0x3e80f9=_0x4d9d4f;return this[_0x3e80f9(0x89c)]>0x0&&this['previousTimestamp']>0x0&&Date['now']()-this['currentTimestamp']<_0x57ad66?(this[_0x3e80f9(0x6b3)]-this[_0x3e80f9(0x6a7)])/(this['currentTimestamp']-this[_0x3e80f9(0x670)])*0x3e8:0x0;}get[_0x4d9d4f(0x405)](){const _0x17af6a=_0x4d9d4f;return this[_0x17af6a(0x249)]&&this[_0x17af6a(0x6b3)]&&this[_0x17af6a(0x6b3)]>0x0?this[_0x17af6a(0x249)]/this[_0x17af6a(0x6b3)]:0x0;}set[_0x4d9d4f(0x5ae)](_0xb4ae85){const _0x25a3db=_0x4d9d4f;this['previousFrames']=this[_0x25a3db(0x6b3)],this['currentFrames']=_0xb4ae85;}[_0x4d9d4f(0x973)](){const _0x4633eb=_0x4d9d4f;return{...super[_0x4633eb(0x973)](),'FPS':this[_0x4633eb(0x86d)],'timePerFrame':this[_0x4633eb(0x405)],'frameWidth':this[_0x4633eb(0xe0)],'frameHeight':this[_0x4633eb(0x761)]};}[_0x4d9d4f(0x2fd)](_0x5f4230){const _0x4ab654=_0x4d9d4f;super['processInboundReport'](_0x5f4230),this[_0x4ab654(0x249)]=_0x5f4230[_0x4ab654(0x2d4)],this[_0x4ab654(0x5ae)]=_0x5f4230[_0x4ab654(0x140)],this['frameWidth']=_0x5f4230[_0x4ab654(0xe0)],this[_0x4ab654(0x761)]=_0x5f4230[_0x4ab654(0x761)];}['processOutboundReport'](_0x1f3ab4){const _0x468514=_0x4d9d4f;super[_0x468514(0x83c)](_0x1f3ab4),this[_0x468514(0x249)]=_0x1f3ab4['totalEncodeTime'],this[_0x468514(0x5ae)]=_0x1f3ab4[_0x468514(0x466)],this[_0x468514(0xe0)]=_0x1f3ab4[_0x468514(0xe0)],this['frameHeight']=_0x1f3ab4[_0x468514(0x761)];}}class _0x254f23{['audio']=new _0x38f26f();[_0x4d9d4f(0x59c)]=new _0x4b5057();get[_0x4d9d4f(0x642)](){const _0x5dfa17=_0x4d9d4f;return this[_0x5dfa17(0x429)][_0x5dfa17(0x642)]+this[_0x5dfa17(0x59c)][_0x5dfa17(0x642)];}[_0x4d9d4f(0x62d)](_0x5933bc){const _0x36b045=_0x4d9d4f;return _0x5933bc['forEach'](_0x164811=>{const _0x245a71=a0_0x1399;switch(_0x164811['kind']){case'audio':this[_0x245a71(0x429)][_0x245a71(0x311)](_0x164811);break;case _0x245a71(0x59c):this['video'][_0x245a71(0x311)](_0x164811);}}),this[_0x36b045(0x973)]();}[_0x4d9d4f(0x973)](){const _0x3cd792=_0x4d9d4f;return{'audio':this[_0x3cd792(0x429)][_0x3cd792(0x973)](),'video':this[_0x3cd792(0x59c)][_0x3cd792(0x973)](),'roundTripTime':this[_0x3cd792(0x7db)](),'AudioVideoDelay':this[_0x3cd792(0x2ad)](),'bitrate':this[_0x3cd792(0x642)]};}[_0x4d9d4f(0x7db)](){const _0x270a13=_0x4d9d4f;return Math[_0x270a13(0x194)]((this[_0x270a13(0x429)][_0x270a13(0x655)]+this[_0x270a13(0x59c)]['roundTripTime'])/0x2);}[_0x4d9d4f(0x2ad)](){const _0x4b916b=_0x4d9d4f;return this[_0x4b916b(0x429)][_0x4b916b(0x229)]-this[_0x4b916b(0x59c)][_0x4b916b(0x229)];}}class _0x38e527{[_0x4d9d4f(0x9c0)]=0x0;[_0x4d9d4f(0x65c)]=0x0;['receiverCurrentTimestamp']=0x0;['receiverPreviousTimestamp']=0x0;['senderCurrentBytes']=0x0;[_0x4d9d4f(0x4ae)]=0x0;['receiverCurrentBytes']=0x0;[_0x4d9d4f(0x728)]=0x0;['senderTotalMessages']=0x0;[_0x4d9d4f(0x8b0)]=0x0;[_0x4d9d4f(0x875)]=0x0;[_0x4d9d4f(0x988)]=0x0;[_0x4d9d4f(0x655)]=0x0;get[_0x4d9d4f(0x642)](){const _0x10849a=_0x4d9d4f;return this[_0x10849a(0x26c)]+this['receiverBitrate'];}get[_0x4d9d4f(0x26c)](){const _0x45e9f8=_0x4d9d4f;return this[_0x45e9f8(0x9c0)]>0x0&&this[_0x45e9f8(0x65c)]>0x0&&Date[_0x45e9f8(0x873)]()-this[_0x45e9f8(0x9c0)]<_0x57ad66?(this['senderCurrentBytes']-this['senderPreviousBytes'])/(this['senderCurrentTimestamp']-this[_0x45e9f8(0x65c)])*0x8*0x3e8:0x0;}get[_0x4d9d4f(0x56c)](){const _0x2a1ec6=_0x4d9d4f;return this[_0x2a1ec6(0x1ec)]>0x0&&this[_0x2a1ec6(0x681)]>0x0&&Date[_0x2a1ec6(0x873)]()-this['receiverCurrentTimestamp']<_0x57ad66?(this[_0x2a1ec6(0x536)]-this['receiverPreviousBytes'])/(this['receiverCurrentTimestamp']-this[_0x2a1ec6(0x681)])*0x8*0x3e8:0x0;}['processReport'](_0x42ca90){const _0xa8fbfc=_0x4d9d4f;switch(_0x42ca90[_0xa8fbfc(0x63f)]){case _0x5a0522['Sender']:this[_0xa8fbfc(0x8b3)](_0x42ca90);break;case _0x5a0522[_0xa8fbfc(0x186)]:this[_0xa8fbfc(0x33f)](_0x42ca90);}}[_0x4d9d4f(0x973)](){const _0x536736=_0x4d9d4f;return{'bitrate':this['bitrate'],'senderBitrate':this[_0x536736(0x26c)],'receiverBitrate':this[_0x536736(0x56c)],'totalBytes':this[_0x536736(0x38e)](),'senderTotalBytes':this[_0x536736(0x84c)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0x536736(0x1b5)]+this[_0x536736(0x8b0)],'senderTotalMessages':this['senderTotalMessages'],'receiverTotalMessages':this[_0x536736(0x8b0)],'timeProcessing':this[_0x536736(0x875)]+this['receiverTimeProcessing'],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x536736(0x655)]};}[_0x4d9d4f(0x38e)](){const _0x35e8d1=_0x4d9d4f;return this[_0x35e8d1(0x7f7)]+this[_0x35e8d1(0x536)];}[_0x4d9d4f(0x84c)](){const _0x3546ce=_0x4d9d4f;return this[_0x3546ce(0x7f7)];}[_0x4d9d4f(0x282)](){const _0x49c055=_0x4d9d4f;return this[_0x49c055(0x536)];}[_0x4d9d4f(0x8b3)](_0x57f044){const _0x335d23=_0x4d9d4f;this[_0x335d23(0x2e8)](_0x57f044['timestamp']),this[_0x335d23(0x768)](_0x57f044[_0x335d23(0x1d1)]),this[_0x335d23(0x1b5)]=_0x57f044[_0x335d23(0x9c7)],this[_0x335d23(0x875)]=_0x57f044['timeSending'],this[_0x335d23(0x655)]=_0x57f044['roundTripTime'];}[_0x4d9d4f(0x33f)](_0x4d69cc){const _0x40a255=_0x4d9d4f;this['setReceiverTimestamp'](_0x4d69cc[_0x40a255(0x7d7)]),this[_0x40a255(0x7b6)](_0x4d69cc['bytesReceived']),this[_0x40a255(0x8b0)]=_0x4d69cc[_0x40a255(0x43d)],this[_0x40a255(0x988)]=_0x4d69cc[_0x40a255(0x82c)];}[_0x4d9d4f(0x2e8)](_0x5e5c6d){const _0x117f22=_0x4d9d4f;_0x5e5c6d>this['senderCurrentTimestamp']&&(this[_0x117f22(0x65c)]=this[_0x117f22(0x9c0)],this[_0x117f22(0x9c0)]=_0x5e5c6d);}[_0x4d9d4f(0x25c)](_0x5e250c){const _0x178903=_0x4d9d4f;_0x5e250c>this['receiverCurrentTimestamp']&&(this['receiverPreviousTimestamp']=this[_0x178903(0x1ec)],this[_0x178903(0x1ec)]=_0x5e250c);}[_0x4d9d4f(0x768)](_0x528a2f){const _0x511f0d=_0x4d9d4f;this['senderPreviousBytes']=this[_0x511f0d(0x7f7)],this[_0x511f0d(0x7f7)]=_0x528a2f;}[_0x4d9d4f(0x7b6)](_0x1c967f){const _0x4359de=_0x4d9d4f;this[_0x4359de(0x728)]=this[_0x4359de(0x536)],this[_0x4359de(0x536)]=_0x1c967f;}}class _0x2797cf{[_0x4d9d4f(0x648)]=new Map();[_0x4d9d4f(0x63a)]=new Map();[_0x4d9d4f(0x5ec)]=new _0x38e527();get[_0x4d9d4f(0x26c)](){const _0x38caf4=_0x4d9d4f;let _0x2f7e2a=0x0;return this['senderStreams'][_0x38caf4(0x1dc)](_0x61b60b=>{const _0x365909=_0x38caf4;_0x2f7e2a+=_0x61b60b[_0x365909(0x642)];}),_0x2f7e2a+=this[_0x38caf4(0x5ec)][_0x38caf4(0x26c)],_0x2f7e2a;}get['receiverBitrate'](){const _0x818f55=_0x4d9d4f;let _0x15ff6c=0x0;return this[_0x818f55(0x63a)]['forEach'](_0x3bf7d4=>{const _0x5abfb4=_0x818f55;_0x15ff6c+=_0x3bf7d4[_0x5abfb4(0x642)];}),_0x15ff6c+=this['dataChannel']['receiverBitrate'],_0x15ff6c;}get[_0x4d9d4f(0x642)](){const _0x434f6a=_0x4d9d4f;return this[_0x434f6a(0x26c)]+this[_0x434f6a(0x56c)];}[_0x4d9d4f(0x62d)](_0x4c6d87,_0x420d97){const _0x2b98fc=_0x4d9d4f,_0x4ce688=[],_0x3b43bd=[];return _0x4c6d87 instanceof Array?_0x4c6d87[_0x2b98fc(0x1dc)](_0x375b3f=>{const _0x413afd=_0x2b98fc;_0x375b3f[_0x413afd(0x1dc)](_0x4901ec=>{const _0x54bc21=_0x413afd;_0x9c96b9[_0x54bc21(0x766)](_0x4901ec[_0x54bc21(0x506)])&&_0x4ce688['push'](_0x4901ec),_0x4dc136[_0x54bc21(0x766)](_0x4901ec[_0x54bc21(0x506)])&&_0x3b43bd['push'](_0x4901ec);});}):this[_0x2b98fc(0x5ec)][_0x2b98fc(0x311)](_0x4c6d87),_0x4ce688['length']>0x0&&_0x420d97?{...this['processInboundReports'](_0x420d97,_0x4ce688),'origin':_0x5a0522[_0x2b98fc(0x186)],'streamId':_0x420d97}:_0x3b43bd['length']>0x0&&_0x420d97?{...this[_0x2b98fc(0x657)](_0x420d97,_0x3b43bd),'origin':_0x5a0522[_0x2b98fc(0x980)],'streamId':_0x420d97}:void 0x0;}[_0x4d9d4f(0x973)](){const _0x33e9c3=_0x4d9d4f,_0x117b42={};this['senderStreams'][_0x33e9c3(0x1dc)]((_0xa5e6cb,_0x129c0f)=>{const _0x21efc9=_0x33e9c3;_0x117b42[_0x129c0f]=_0xa5e6cb[_0x21efc9(0x973)]();});const _0x3af862={};return this[_0x33e9c3(0x63a)][_0x33e9c3(0x1dc)]((_0x147374,_0x1be945)=>{const _0x5130dd=_0x33e9c3;_0x3af862[_0x1be945]=_0x147374[_0x5130dd(0x973)]();}),{'bitrate':this[_0x33e9c3(0x642)],'senderBitrate':this[_0x33e9c3(0x26c)],'receiverBitrate':this[_0x33e9c3(0x56c)],'senderStreams':_0x117b42,'receiverStreams':_0x3af862,'dataChannel':this[_0x33e9c3(0x5ec)][_0x33e9c3(0x973)]()};}[_0x4d9d4f(0x1d2)](_0x383146,_0x14a3a5){const _0x302c41=_0x4d9d4f;return this[_0x302c41(0x63a)]['has'](_0x383146)||this['receiverStreams'][_0x302c41(0xcd)](_0x383146,new _0x254f23()),this[_0x302c41(0x63a)]['get'](_0x383146)[_0x302c41(0x62d)](_0x14a3a5);}[_0x4d9d4f(0x657)](_0x10a565,_0x46dbac){const _0x1fb82c=_0x4d9d4f;return this[_0x1fb82c(0x648)][_0x1fb82c(0x8dd)](_0x10a565)||this['senderStreams'][_0x1fb82c(0xcd)](_0x10a565,new _0x254f23()),this[_0x1fb82c(0x648)][_0x1fb82c(0x29f)](_0x10a565)[_0x1fb82c(0x62d)](_0x46dbac);}}class _0x2ebcff{[_0x4d9d4f(0x1e7)]=new Map();[_0x4d9d4f(0x322)]=0x0;[_0x4d9d4f(0x8b1)]=0x0;[_0x4d9d4f(0x13f)]=new Map();[_0x4d9d4f(0x632)]=new Map();[_0x4d9d4f(0x314)]=new Map();[_0x4d9d4f(0x667)]=new Map();['generativeAIWorkers']=new Map();[_0x4d9d4f(0x413)]=new Map();['graphDatabases']=new Map();[_0x4d9d4f(0x1cb)]=new Map();[_0x4d9d4f(0x1b5)]=new Map();[_0x4d9d4f(0x8b0)]=new Map();['senderTimeProcessing']=new Map();[_0x4d9d4f(0x988)]=new Map();['systemMessages']=new Map();[_0x4d9d4f(0x26f)];[_0x4d9d4f(0x973)](){const _0x2cae1d=_0x4d9d4f,_0x84a092={};this['nodes'][_0x2cae1d(0x1dc)]((_0x37152a,_0x3503d3)=>{const _0x13f0d6=_0x2cae1d;_0x84a092[_0x3503d3]=_0x37152a[_0x13f0d6(0x973)]();});let _0xd93f73=0x0;this[_0x2cae1d(0x875)][_0x2cae1d(0x1dc)](_0x5690f0=>{_0xd93f73+=_0x5690f0;});let _0x32b0e9=0x0;this[_0x2cae1d(0x988)][_0x2cae1d(0x1dc)](_0x25bcd4=>{_0x32b0e9+=_0x25bcd4;});const _0x530631=_0xd93f73+_0x32b0e9;let _0x18f771={'messages':{'total':0x0}};this[_0x2cae1d(0x254)]['forEach'](_0x386f27=>{const _0x1aa857=_0x2cae1d;Object[_0x1aa857(0x224)](_0x386f27)[_0x1aa857(0x1dc)](_0x4ade4c=>{const _0x65fa61=_0x1aa857;_0x18f771[_0x4ade4c]||(_0x18f771[_0x4ade4c]={}),Object['keys'](_0x386f27[_0x4ade4c])[_0x65fa61(0x1dc)](_0x4dff68=>{_0x18f771[_0x4ade4c][_0x4dff68]||(_0x18f771[_0x4ade4c][_0x4dff68]=0x0),_0x18f771[_0x4ade4c][_0x4dff68]+=_0x386f27[_0x4ade4c][_0x4dff68];});});});let _0x50ece4=0x0,_0x19a58d=0x0,_0xc7bfb5=0x0,_0x10d867=0x0,_0x1a236f=0x0;return this[_0x2cae1d(0x13f)][_0x2cae1d(0x1dc)](_0x18af11=>{const _0xc4d95d=_0x2cae1d;_0x19a58d+=_0x18af11[_0xc4d95d(0x9c7)],_0xc7bfb5+=_0x18af11[_0xc4d95d(0x43d)],_0x10d867+=_0x18af11[_0xc4d95d(0x1d1)],_0x1a236f+=_0x18af11[_0xc4d95d(0x365)];}),this[_0x2cae1d(0x632)][_0x2cae1d(0x1dc)](_0x240095=>{const _0x2f7fc8=_0x2cae1d;_0x50ece4+=_0x240095[_0x2f7fc8(0x3aa)],_0x19a58d+=_0x240095[_0x2f7fc8(0x9c7)],_0xc7bfb5+=_0x240095['messagesReceived'],_0x10d867+=_0x240095['bytesSent'],_0x1a236f+=_0x240095[_0x2f7fc8(0x365)];}),this[_0x2cae1d(0x314)][_0x2cae1d(0x1dc)](_0x3d7078=>{const _0x270f23=_0x2cae1d;_0x50ece4+=_0x3d7078[_0x270f23(0x3aa)],_0x19a58d+=_0x3d7078[_0x270f23(0x9c7)],_0xc7bfb5+=_0x3d7078['messagesReceived'],_0x10d867+=_0x3d7078[_0x270f23(0x1d1)],_0x1a236f+=_0x3d7078[_0x270f23(0x365)];}),this['generativeAIContexts'][_0x2cae1d(0x1dc)](_0x52b67d=>{const _0xa76ea8=_0x2cae1d;_0x50ece4+=_0x52b67d[_0xa76ea8(0x3aa)],_0x19a58d+=_0x52b67d['messagesSent'],_0xc7bfb5+=_0x52b67d[_0xa76ea8(0x43d)],_0x10d867+=_0x52b67d[_0xa76ea8(0x1d1)],_0x1a236f+=_0x52b67d['bytesReceived'];}),this[_0x2cae1d(0x475)][_0x2cae1d(0x1dc)](_0x36864b=>{const _0x567867=_0x2cae1d;_0x50ece4+=_0x36864b[_0x567867(0x3aa)],_0x19a58d+=_0x36864b[_0x567867(0x9c7)],_0xc7bfb5+=_0x36864b[_0x567867(0x43d)],_0x10d867+=_0x36864b['bytesSent'],_0x1a236f+=_0x36864b['bytesReceived'];}),this['vectorDatabases'][_0x2cae1d(0x1dc)](_0x418747=>{const _0x1b6985=_0x2cae1d;_0x50ece4+=_0x418747[_0x1b6985(0x3aa)],_0x19a58d+=_0x418747['messagesSent'],_0xc7bfb5+=_0x418747[_0x1b6985(0x43d)],_0x10d867+=_0x418747[_0x1b6985(0x1d1)],_0x1a236f+=_0x418747[_0x1b6985(0x365)];}),this[_0x2cae1d(0x763)][_0x2cae1d(0x1dc)](_0x3c7353=>{const _0x3354f0=_0x2cae1d;_0x50ece4+=_0x3c7353['storage'],_0x19a58d+=_0x3c7353['messagesSent'],_0xc7bfb5+=_0x3c7353[_0x3354f0(0x43d)],_0x10d867+=_0x3c7353['bytesSent'],_0x1a236f+=_0x3c7353[_0x3354f0(0x365)];}),{'STVolatility':this[_0x2cae1d(0x58a)](),'DTVolatility':this[_0x2cae1d(0xb4)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x2cae1d(0x5e9)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x50ece4,'totalMessages':_0x19a58d+_0xc7bfb5,'totalMessagesSent':_0x19a58d,'totalMessagesReceived':_0xc7bfb5,'totalBytes':_0x10d867+_0x1a236f,'totalBytesSent':_0x10d867,'totalBytesReceived':_0x1a236f,'systemMessages':_0x18f771,'timeProcessing':_0x530631,'nodes':_0x84a092,'pubsubTopics':Object['fromEntries'](this[_0x2cae1d(0x13f)]),'objectStores':Object[_0x2cae1d(0x693)](this['objectStores']),'keyValueDatabases':Object['fromEntries'](this['keyValueDatabases']),'generativeAIContexts':Object[_0x2cae1d(0x693)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x2cae1d(0x693)](this[_0x2cae1d(0x475)]),'vectorDatabases':Object[_0x2cae1d(0x693)](this['vectorDatabases']),'graphDatabases':Object[_0x2cae1d(0x693)](this['graphDatabases']),'externalStorages':Object[_0x2cae1d(0x693)](this[_0x2cae1d(0x1cb)])};}[_0x4d9d4f(0x58b)](_0x2e1507){const _0x1933f7=_0x4d9d4f;this[_0x1933f7(0x1e7)][_0x1933f7(0xcd)](_0x2e1507,new _0x2797cf());}[_0x4d9d4f(0x2ce)](_0xe95555){const _0x160295=_0x4d9d4f;this[_0x160295(0x1e7)]['delete'](_0xe95555);}[_0x4d9d4f(0x62d)](_0x3ef321,_0x31047e,_0x2a8080){const _0x2fef5c=_0x4d9d4f;_0x31047e instanceof Array||this[_0x2fef5c(0x139)](_0x3ef321,_0x31047e);const _0x287443=this[_0x2fef5c(0x1e7)][_0x2fef5c(0x29f)](_0x3ef321)?.[_0x2fef5c(0x62d)](_0x31047e,_0x2a8080);_0x287443&&this[_0x2fef5c(0x26f)]['publish']({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x2fef5c(0x5bb)],'content':{'type':_0x236b95['StreamReport'],'data':{..._0x287443,'nodeId':_0x3ef321}}});}[_0x4d9d4f(0x3e3)](_0x335601){const _0x549620=_0x4d9d4f;this[_0x549620(0x127)](_0x335601['secheduleTime']),this['setDurationTime'](_0x335601[_0x549620(0x8b1)]),this[_0x549620(0x26f)][_0x549620(0x817)]({'sourceId':_0x280524,'messageType':_0x2ba96e[_0x549620(0x5bb)],'content':{'type':_0x236b95['LocalReport'],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x549620(0xb4)]()}}});}[_0x4d9d4f(0x6c4)](_0x434aec,_0x474719,_0x3776a2){const _0x2cbee4=_0x4d9d4f;switch(_0x474719){case _0x2e4dcf['PubSubTopicStats']:this[_0x2cbee4(0x13f)][_0x2cbee4(0xcd)](_0x434aec,_0x3776a2);break;case _0x2e4dcf[_0x2cbee4(0x3f0)]:this[_0x2cbee4(0x632)]['set'](_0x434aec,_0x3776a2);break;case _0x2e4dcf[_0x2cbee4(0x359)]:this[_0x2cbee4(0x314)][_0x2cbee4(0xcd)](_0x434aec,_0x3776a2);break;case _0x2e4dcf[_0x2cbee4(0x7e9)]:this[_0x2cbee4(0x667)][_0x2cbee4(0xcd)](_0x434aec,_0x3776a2);break;case _0x2e4dcf[_0x2cbee4(0x215)]:this[_0x2cbee4(0x475)]['set'](_0x434aec,_0x3776a2);break;case _0x2e4dcf[_0x2cbee4(0x4b2)]:this[_0x2cbee4(0x413)][_0x2cbee4(0xcd)](_0x434aec,_0x3776a2);break;case _0x2e4dcf[_0x2cbee4(0x325)]:this[_0x2cbee4(0x763)][_0x2cbee4(0xcd)](_0x434aec,_0x3776a2);break;case _0x2e4dcf[_0x2cbee4(0x7ae)]:this[_0x2cbee4(0x1cb)][_0x2cbee4(0xcd)](_0x434aec,_0x3776a2);}}['registerSystemPublisher'](_0x2389bb){const _0x212758=_0x4d9d4f;this[_0x212758(0x26f)]=_0x2389bb;}[_0x4d9d4f(0x2bc)](){const _0x381aa7=_0x4d9d4f;delete this[_0x381aa7(0x26f)];}[_0x4d9d4f(0x58a)](){const _0x5745aa=_0x4d9d4f;return this[_0x5745aa(0x322)]>0x0&&this[_0x5745aa(0x322)]-_0x13e84c>0x0?(this[_0x5745aa(0x322)]-_0x13e84c)/_0x13e84c:0x0;}[_0x4d9d4f(0xb4)](){const _0x4a52e5=_0x4d9d4f;return this[_0x4a52e5(0x8b1)]>0x0&&this['durationTime']-0x64>0x0?(this[_0x4a52e5(0x8b1)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x1bf2e3=_0x4d9d4f;let _0x2b69=0x0;return this[_0x1bf2e3(0x1e7)][_0x1bf2e3(0x1dc)](_0x1727eb=>{const _0x2f8601=_0x1bf2e3;_0x2b69+=_0x1727eb[_0x2f8601(0x26c)];}),_0x2b69;}[_0x4d9d4f(0x696)](){const _0xb3b69a=_0x4d9d4f;let _0x2a9a7c=0x0;return this[_0xb3b69a(0x1e7)]['forEach'](_0x597713=>{const _0x13e470=_0xb3b69a;_0x2a9a7c+=_0x597713[_0x13e470(0x56c)];}),_0x2a9a7c;}['getBitrate'](){const _0x3c9245=_0x4d9d4f;let _0x531f51=0x0;return this[_0x3c9245(0x1e7)]['forEach'](_0x90600a=>{_0x531f51+=_0x90600a['bitrate'];}),_0x531f51;}[_0x4d9d4f(0x127)](_0x18fc3b){const _0x1a25bb=_0x4d9d4f;this[_0x1a25bb(0x322)]=_0x18fc3b;}[_0x4d9d4f(0x1a8)](_0xcf951f){const _0x1642b1=_0x4d9d4f;this[_0x1642b1(0x8b1)]=_0xcf951f;}[_0x4d9d4f(0x139)](_0x296edb,_0x2d1ffc){const _0xbc8287=_0x4d9d4f;switch(_0x2d1ffc[_0xbc8287(0x63f)]){case _0x5a0522['Sender']:this[_0xbc8287(0x8b3)](_0x296edb,_0x2d1ffc);break;case _0x5a0522['Receiver']:this[_0xbc8287(0x33f)](_0x296edb,_0x2d1ffc);}}[_0x4d9d4f(0x8b3)](_0x34778e,_0x35bab8){const _0x4a79c0=_0x4d9d4f;this[_0x4a79c0(0x1b5)]['set'](_0x34778e,_0x35bab8[_0x4a79c0(0x9c7)]),this[_0x4a79c0(0x875)][_0x4a79c0(0xcd)](_0x34778e,_0x35bab8[_0x4a79c0(0x803)]);}[_0x4d9d4f(0x33f)](_0x42157f,_0x59fa58){const _0x5021c9=_0x4d9d4f;this[_0x5021c9(0x8b0)][_0x5021c9(0xcd)](_0x42157f,_0x59fa58['messagesReceived']),this[_0x5021c9(0x988)]['set'](_0x42157f,_0x59fa58[_0x5021c9(0x82c)]),this[_0x5021c9(0x254)]['set'](_0x42157f,_0x59fa58[_0x5021c9(0x254)]);}}class _0x3690c1{[_0x4d9d4f(0x89a)];[_0x4d9d4f(0x908)]=new Set();['nextNodeId'];[_0x4d9d4f(0x486)];['statsReporting'];[_0x4d9d4f(0x36f)]=new _0x2ebcff();constructor(_0x16aee2){const _0x2e8092=_0x4d9d4f;this['configs']=_0x16aee2,this[_0x2e8092(0x89a)][_0x2e8092(0x295)][_0x2e8092(0x118)](this[_0x2e8092(0x36f)]),this['statsCollection']=this[_0x2e8092(0x79a)](),this[_0x2e8092(0x911)]=this[_0x2e8092(0x48b)]();}['close'](){const _0x3f3af7=_0x4d9d4f;this['configs'][_0x3f3af7(0x295)][_0x3f3af7(0x3a5)](this[_0x3f3af7(0x36f)]),this[_0x3f3af7(0x911)](),this['statsCollection']();}[_0x4d9d4f(0x58b)](_0x102ad1){const _0x184f1a=_0x4d9d4f;this['remoteNodes'][_0x184f1a(0x9d2)](_0x102ad1),this[_0x184f1a(0x36f)][_0x184f1a(0x58b)](_0x102ad1);}[_0x4d9d4f(0x2ce)](_0x15c694){const _0x1525b3=_0x4d9d4f;this[_0x1525b3(0x908)]['delete'](_0x15c694),this[_0x1525b3(0x36f)][_0x1525b3(0x2ce)](_0x15c694);}['handlePeerConnectionSystemEvents'](_0x545a7c){const _0x1610a2=_0x4d9d4f;if(_0x545a7c['content'][_0x1610a2(0x506)]===_0x774ff0['Stats']){const {nodeId:_0x32487e,streamId:_0x3a3705,stats:_0x411b9f}=_0x545a7c[_0x1610a2(0x108)];this[_0x1610a2(0x36f)][_0x1610a2(0x62d)](_0x32487e,_0x411b9f,_0x3a3705);}}[_0x4d9d4f(0x163)](_0x354bbf){const _0xd76900=_0x4d9d4f;switch(_0x354bbf[_0xd76900(0x108)][_0xd76900(0x506)]){case _0x2e4dcf['ObjectStoreStats']:case _0x2e4dcf['KeyValueDatabaseStats']:case _0x2e4dcf[_0xd76900(0x153)]:case _0x2e4dcf[_0xd76900(0x7e9)]:case _0x2e4dcf['GenerativeAIWorkerStats']:case _0x2e4dcf[_0xd76900(0x4b2)]:case _0x2e4dcf[_0xd76900(0x325)]:case _0x2e4dcf['ExternalStorageStats']:this[_0xd76900(0x36f)][_0xd76900(0x6c4)](_0x354bbf['content']['label'],_0x354bbf[_0xd76900(0x108)][_0xd76900(0x506)],_0x354bbf['content']['stats']);}}['setupStatsReporting'](){const _0x295220=_0x4d9d4f;return _0x135d86[_0x295220(0x121)](()=>{const _0x1378c1=_0x295220,_0x37e732=this['statsReport'][_0x1378c1(0x973)]();_0x2644bc[_0x1378c1(0x5ad)](_0x1a98bf[_0x1378c1(0x5bb)],_0x1378c1(0x557),_0x37e732),(0x0,_0xaa5d3[_0x1378c1(0x7cb)])((0x0,_0xaa5d3[_0x1378c1(0x6da)])(_0x1f3417[_0x1378c1(0x83a)](),_0x1378c1(0x4d1)+this['configs'][_0x1378c1(0x4e6)]+'/stats'),{'clusterId':this['configs'][_0x1378c1(0x95e)],'nodeId':this[_0x1378c1(0x89a)][_0x1378c1(0x772)][_0x1378c1(0x9a5)](),'nodeType':this['configs'][_0x1378c1(0x772)][_0x1378c1(0x506)],'timestamp':(0x0,_0xaa5d3[_0x1378c1(0x5f8)])(),'report':_0x37e732}),_0x2644bc['logEvent'](_0x1378c1(0x68e),{'clusterId':this[_0x1378c1(0x89a)][_0x1378c1(0x95e)],'nodeId':this['configs'][_0x1378c1(0x772)][_0x1378c1(0x9a5)](),'nodeType':this[_0x1378c1(0x89a)][_0x1378c1(0x772)][_0x1378c1(0x506)],'data':{'report':_0x37e732}});},_0x57ad66);}['setupStatsCollection'](){const _0x392c51=_0x4d9d4f;let _0x2927b6=!0x1,_0x4e6d95=Date[_0x392c51(0x873)]();return _0x135d86[_0x392c51(0x121)](async()=>{const _0x52a311=_0x392c51;if(_0x2927b6)return;if(_0x2927b6=!0x0,0x0===this[_0x52a311(0x908)][_0x52a311(0x573)])return delete this[_0x52a311(0x72c)],void(_0x2927b6=!0x1);const _0xfce2ad=Date[_0x52a311(0x873)]();this[_0x52a311(0x467)]();try{await this['configs'][_0x52a311(0x295)][_0x52a311(0x774)](this[_0x52a311(0x72c)]);}catch(_0x31c317){}this[_0x52a311(0x36f)]['processLocalReport']({'secheduleTime':_0xfce2ad-_0x4e6d95,'durationTime':Date[_0x52a311(0x873)]()-_0xfce2ad}),_0x4e6d95=_0xfce2ad,_0x2927b6=!0x1;},_0x13e84c);}[_0x4d9d4f(0x467)](){const _0x5c17cd=_0x4d9d4f;let _0x2b5652,_0x3e70e8=!0x1;this[_0x5c17cd(0x72c)]&&(this['remoteNodes']['has'](this[_0x5c17cd(0x72c)])||delete this['nextNodeId']);for(const _0xe37fe9 of this[_0x5c17cd(0x908)])if(_0x2b5652||(_0x2b5652=_0xe37fe9),this[_0x5c17cd(0x72c)]!==_0xe37fe9){if(_0x3e70e8)return void(this[_0x5c17cd(0x72c)]=_0xe37fe9);}else _0x3e70e8=!0x0,delete this[_0x5c17cd(0x72c)];this[_0x5c17cd(0x72c)]||(this[_0x5c17cd(0x72c)]=_0x2b5652);}}class _0x70d176{[_0x4d9d4f(0x318)];[_0x4d9d4f(0x55f)];[_0x4d9d4f(0x26f)];constructor(_0x26037a,_0x40fddf){const _0x564e0d=_0x4d9d4f;this[_0x564e0d(0x318)]=_0x26037a,this['destination']=_0x40fddf;}['registerSystemPublisher'](_0x1c5c98){const _0x144469=_0x4d9d4f;this[_0x144469(0x26f)]=_0x1c5c98;}[_0x4d9d4f(0x2bc)](){const _0x4f298c=_0x4d9d4f;delete this[_0x4f298c(0x26f)];}}class _0x2deed8 extends _0x70d176{['source'];[_0x4d9d4f(0x55f)];[_0x4d9d4f(0x279)];constructor(_0x39d793,_0x27f58d,_0x585ba2){const _0xd79f44=_0x4d9d4f;super(_0x39d793,_0x27f58d),this[_0xd79f44(0x318)]=_0x39d793,this['destination']=_0x27f58d,this['params']=_0x585ba2;}['subscribe'](_0x571049,_0x343de8,_0x3ea0c6){const _0x5d0cd1=_0x4d9d4f;if(this[_0x5d0cd1(0x55f)][_0x5d0cd1(0x24e)]()===_0x2477c2[_0x5d0cd1(0x61d)][_0x5d0cd1(0x458)]){const _0x581b2e={'type':_0x4e7162[_0x5d0cd1(0x3f5)],'label':this[_0x5d0cd1(0x55f)][_0x5d0cd1(0x502)](),'ownerId':_0x571049,'trackKinds':_0x343de8??this['destination'][_0x5d0cd1(0x372)](),'params':_0x3ea0c6};this[_0x5d0cd1(0x26f)][_0x5d0cd1(0x817)]({'sourceId':this['source'][_0x5d0cd1(0x39f)](),'destinationIds':[this[_0x5d0cd1(0x318)][_0x5d0cd1(0x91b)]()],'messageType':_0x2ba96e[_0x5d0cd1(0x560)],'content':_0x581b2e}),this[_0x5d0cd1(0x279)]=_0x3ea0c6;}}[_0x4d9d4f(0x1e8)](_0xeef51e,_0x5cddf9){const _0x440ce9=_0x4d9d4f;if(this[_0x440ce9(0x55f)][_0x440ce9(0x24e)]()===_0x2477c2[_0x440ce9(0x61d)][_0x440ce9(0x458)]){const _0x2ff31f={'type':_0x4e7162[_0x440ce9(0x419)],'label':this[_0x440ce9(0x55f)][_0x440ce9(0x502)](),'ownerId':_0xeef51e,'params':_0x5cddf9};this['systemTopic'][_0x440ce9(0x817)]({'sourceId':this['source']['getLocalId'](),'destinationIds':[this[_0x440ce9(0x318)]['getRemoteId']()],'messageType':_0x2ba96e['Subscription'],'content':_0x2ff31f}),this[_0x440ce9(0x279)]=_0x5cddf9;}}[_0x4d9d4f(0x4f9)](_0x1e4543,_0x1144bb,_0x55084f){const _0x5eb4e5=_0x4d9d4f;if(this[_0x5eb4e5(0x55f)][_0x5eb4e5(0x24e)]()===_0x2477c2[_0x5eb4e5(0x61d)][_0x5eb4e5(0x458)]){const _0x2bb224={'type':_0x4e7162[_0x5eb4e5(0x2ba)],'label':this['destination'][_0x5eb4e5(0x502)](),'ownerId':_0x1e4543,'trackKinds':_0x55084f??this[_0x5eb4e5(0x55f)][_0x5eb4e5(0x372)](),'remainingTracks':_0x1144bb};this[_0x5eb4e5(0x26f)]['publish']({'sourceId':this[_0x5eb4e5(0x318)][_0x5eb4e5(0x39f)](),'destinationIds':[this[_0x5eb4e5(0x318)][_0x5eb4e5(0x91b)]()],'messageType':_0x2ba96e[_0x5eb4e5(0x560)],'content':_0x2bb224});}}}class _0x147d65{[_0x4d9d4f(0x2f2)];['maxDistance'];[_0x4d9d4f(0x899)];['systemTopic'];['answers']=new Set();[_0x4d9d4f(0x840)]=Date['now']();[_0x4d9d4f(0x279)];[_0x4d9d4f(0x921)]=0x0;constructor(_0x5f1a44,_0x407792,_0x37f609,_0x2f6701){const _0x71a7eb=_0x4d9d4f;this[_0x71a7eb(0x2f2)]=_0x407792,this[_0x71a7eb(0x9a8)]=_0x37f609,this[_0x71a7eb(0x899)]=_0x2f6701,_0x5f1a44['forEach'](_0x224d07=>{const _0x12bce2=_0x71a7eb;this[_0x12bce2(0x933)]['add']({'nodeId':_0x224d07,'type':_0x15f250[_0x12bce2(0x8d9)]});});}[_0x4d9d4f(0x299)](){const _0x5239fd=_0x4d9d4f;return this[_0x5239fd(0x899)];}[_0x4d9d4f(0xe7)](_0x4bb57a){const _0x2aa4a8=_0x4d9d4f;this[_0x2aa4a8(0x26f)]=_0x4bb57a;}[_0x4d9d4f(0x2bc)](){const _0x1bfe03=_0x4d9d4f;delete this[_0x1bfe03(0x26f)];}[_0x4d9d4f(0x934)](_0x159695,_0x32af34){const _0x14dc70=_0x4d9d4f;this[_0x14dc70(0x840)]=Date[_0x14dc70(0x873)](),this['answers']['clear'](),_0x159695[_0x14dc70(0x1dc)](_0x45c71f=>{const _0x98cfbd=_0x14dc70;this[_0x98cfbd(0x933)][_0x98cfbd(0x9d2)]({'nodeId':_0x45c71f,'type':_0x15f250['Waiting']});}),this[_0x14dc70(0x921)]+=0x1,this['currentDistance']=_0x32af34;}[_0x4d9d4f(0x52c)](_0x3de668,_0x26d820,_0x4736c9,_0x2d277f,_0x47de1c){const _0x42ba5b=_0x4d9d4f;if(this[_0x42ba5b(0x921)]>0xa)throw new _0x56b2e7(_0x56b2e7[_0x42ba5b(0x90b)][_0x42ba5b(0x7ce)],{'answers':Array[_0x42ba5b(0x376)](this['answers'])[_0x42ba5b(0x473)](_0x1539df=>({'nodeId':_0x1539df[_0x42ba5b(0x432)],'type':_0x1539df[_0x42ba5b(0x506)]}))});const _0x4ccaca=Array[_0x42ba5b(0x376)](this[_0x42ba5b(0x933)])[_0x42ba5b(0x473)](_0x17abc6=>_0x17abc6[_0x42ba5b(0x432)]);this[_0x42ba5b(0x279)]=_0x47de1c,this[_0x42ba5b(0x26f)][_0x42ba5b(0x817)]({'sourceId':_0x3de668,'destinationIds':_0x4ccaca,'messageType':_0x2ba96e['Subscription'],'content':{'type':_0x4e7162[_0x42ba5b(0x83d)],'label':_0x4736c9,'ownerId':_0x26d820,'trackKinds':_0x2d277f,'params':_0x47de1c}}),_0x2644bc[_0x42ba5b(0x5ad)](_0x1a98bf[_0x42ba5b(0x560)],_0x42ba5b(0x32f),_0x3de668,_0x4ccaca);}[_0x4d9d4f(0x457)](_0x36c505,_0x8f98ae){const _0x2dbdbf=_0x4d9d4f;switch(_0x8f98ae[_0x2dbdbf(0x506)]){case _0x4e7162[_0x2dbdbf(0x5ea)]:{const _0x119962=this[_0x2dbdbf(0x2f2)]>=_0x8f98ae['distance']&&_0x8f98ae[_0x2dbdbf(0x491)]<=this[_0x2dbdbf(0x9a8)],_0x5bb26f=Array['from'](this[_0x2dbdbf(0x933)])['find'](_0x47ede0=>_0x47ede0[_0x2dbdbf(0x432)]===_0x36c505);_0x5bb26f[_0x2dbdbf(0x506)]=_0x119962?_0x15f250[_0x2dbdbf(0x5a8)]:_0x15f250[_0x2dbdbf(0x22e)],_0x5bb26f['cost']=_0x8f98ae['cost'],_0x5bb26f[_0x2dbdbf(0x491)]=_0x8f98ae['distance'],_0x5bb26f[_0x2dbdbf(0x801)]=_0x8f98ae['streamId'],_0x5bb26f[_0x2dbdbf(0x655)]=Date['now']()-this['startTime'],_0x5bb26f['params']=this[_0x2dbdbf(0x279)],_0x5bb26f[_0x2dbdbf(0x180)]=_0x8f98ae[_0x2dbdbf(0x180)],_0x5bb26f['trackKinds']=_0x8f98ae[_0x2dbdbf(0x691)],_0x5bb26f[_0x2dbdbf(0x63b)]=_0x8f98ae[_0x2dbdbf(0x5da)],_0x2644bc[_0x2dbdbf(0x5ad)](_0x1a98bf['Subscription'],(_0x119962?'Accepted':_0x2dbdbf(0x22e))+_0x2dbdbf(0x222),_0x5bb26f);break;}case _0x4e7162[_0x2dbdbf(0x43b)]:{const _0x289a21=Array[_0x2dbdbf(0x376)](this['answers'])[_0x2dbdbf(0x211)](_0x133f26=>_0x133f26[_0x2dbdbf(0x432)]===_0x36c505);_0x289a21['type']=_0x15f250[_0x2dbdbf(0x22e)],_0x2644bc['log'](_0x1a98bf['Subscription'],_0x2dbdbf(0x8e6),_0x289a21);break;}}if(this['canChooseAnswer']())return this['chooseAnswer']();}['chooseAnswer'](){const _0x5719c8=_0x4d9d4f,_0x4ef270=Array[_0x5719c8(0x376)](this['answers'])[_0x5719c8(0x64c)](_0x1694bf=>_0x1694bf[_0x5719c8(0x506)]===_0x15f250[_0x5719c8(0x5a8)])[_0x5719c8(0xd6)]((_0x32adb3,_0x4bde4a)=>_0x32adb3[_0x5719c8(0x51b)]===_0x4bde4a[_0x5719c8(0x51b)]?_0x32adb3[_0x5719c8(0x655)]-_0x4bde4a['roundTripTime']:_0x32adb3[_0x5719c8(0x51b)]-_0x4bde4a[_0x5719c8(0x51b)]);if(0x0===_0x4ef270['length'])throw new _0x56b2e7(_0x56b2e7[_0x5719c8(0x90b)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x5719c8(0x376)](this[_0x5719c8(0x933)])[_0x5719c8(0x473)](_0x4cf402=>({'nodeId':_0x4cf402[_0x5719c8(0x432)],'type':_0x4cf402['type']}))});return _0x2644bc['log'](_0x1a98bf[_0x5719c8(0x560)],_0x5719c8(0x6ea),_0x4ef270[0x0],this[_0x5719c8(0x933)]),_0x4ef270[0x0];}[_0x4d9d4f(0x8bd)](){const _0x5b8f6d=_0x4d9d4f;for(const _0x1a89a0 of this['answers'])if(_0x1a89a0['type']===_0x15f250[_0x5b8f6d(0x8d9)])return!0x1;return!0x0;}}class _0x2d0e89{['label'];[_0x4d9d4f(0x8c4)];[_0x4d9d4f(0x25b)]=_0x27eca1();constructor(_0x1cdf80,_0x2f2688){const _0x513170=_0x4d9d4f;this[_0x513170(0x5da)]=_0x1cdf80,this[_0x513170(0x8c4)]=_0x2f2688;}[_0x4d9d4f(0x502)](){const _0xc14633=_0x4d9d4f;return this[_0xc14633(0x5da)];}['getContentType'](){const _0x298042=_0x4d9d4f;return this[_0x298042(0x8c4)];}[_0x4d9d4f(0x4a0)](_0x530167){_0x530167['registerPublisher'](this);}[_0x4d9d4f(0x9b0)](_0x174968){const _0x17e5a4=_0x4d9d4f;_0x174968[_0x17e5a4(0x7aa)](this);}[_0x4d9d4f(0x817)](_0x456cff){const _0x42b59d=_0x4d9d4f;this[_0x42b59d(0x25b)]['publish']({'topicLabel':this[_0x42b59d(0x5da)],'contentType':this[_0x42b59d(0x8c4)],'uuid':(0x0,_0x4246fa['v4'])(),'recipients':[],..._0x456cff});}[_0x4d9d4f(0x3dd)](_0xa83e22){const _0xf0a0cc=_0x4d9d4f;return this[_0xf0a0cc(0x25b)][_0xf0a0cc(0x3dd)](_0xa83e22);}[_0x4d9d4f(0x40d)](_0x5e8558){const _0x4224e1=_0x4d9d4f;_0x5e8558[_0x4224e1(0xb7)](this);}[_0x4d9d4f(0x73d)](_0x324379){const _0x19deb5=_0x4d9d4f;_0x324379[_0x19deb5(0x38f)](this);}}class _0x35df65{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x4d9d4f(0x303)];constructor(_0x32dab3){const _0x2dc613=_0x4d9d4f;this[_0x2dc613(0x303)]=_0x32dab3;}get[_0x4d9d4f(0x816)](){const _0x3ef044=_0x4d9d4f;return this[_0x3ef044(0x21d)][_0x3ef044(0x816)];}get[_0x4d9d4f(0x259)](){const _0x4dd205=_0x4d9d4f;return this[_0x4dd205(0x21d)][_0x4dd205(0x259)];}['createSubscription'](_0x4e8535,_0x9f0979){const _0x204c6c=_0x4d9d4f,_0x2e764e=this['getPartsFromSubscription'](_0x9f0979),_0x4c22c7=_0x4e83fb(_0x4e8535);if(!_0x2e764e['supportsContentType'])throw new _0x56b2e7(_0x56b2e7[_0x204c6c(0x90b)][_0x204c6c(0x570)],{'message':_0x4c22c7+':\x20'+_0x2e764e[_0x204c6c(0x242)]+_0x204c6c(0x715)+_0x2e764e['contentType'],'subscriptionType':_0x4e8535,'subscription':_0x9f0979,'subscriptonParts':_0x2e764e});const _0x43b344=_0x21c219(_0x4e8535,_0x2e764e);if(this['maps']['subscriptions'][_0x204c6c(0x8dd)](_0x43b344))throw new _0x56b2e7(_0x56b2e7[_0x204c6c(0x90b)][_0x204c6c(0x570)],{'message':_0x4c22c7+':\x20'+_0x43b344+_0x204c6c(0x11d),'subscriptionType':_0x4e8535,'subscription':_0x9f0979,'subscriptonParts':_0x2e764e});this[_0x204c6c(0x21d)][_0x204c6c(0x816)][_0x204c6c(0xcd)](_0x43b344,_0x9f0979),this[_0x204c6c(0x96f)](_0x2e764e,_0x9f0979);}[_0x4d9d4f(0x767)](_0x563c40,_0x32f1f5){const _0x2dc3e9=_0x4d9d4f,_0x2c8ea4=_0x21c219(_0x32f1f5,_0x563c40),_0x1c57a7=this[_0x2dc3e9(0x21d)][_0x2dc3e9(0x816)][_0x2dc3e9(0x29f)](_0x2c8ea4);if(!_0x1c57a7)throw new _0x56b2e7(_0x56b2e7[_0x2dc3e9(0x90b)][_0x2dc3e9(0x570)],{'message':_0x4e83fb(_0x32f1f5)+':\x20'+_0x2c8ea4+_0x2dc3e9(0x22b),'subscriptionType':_0x32f1f5,'subscription':_0x1c57a7,'subscriptonParts':_0x563c40});this['closeSubscription'](_0x1c57a7,_0x2c8ea4,_0x563c40);}[_0x4d9d4f(0x5b8)](_0x170985,_0x1bcb96,_0x1f969b){const _0x5929b4=_0x4d9d4f;_0x1f969b=_0x1f969b||this[_0x5929b4(0x303)](_0x170985),this[_0x5929b4(0x21d)]['subscriptions'][_0x5929b4(0x465)](_0x1bcb96),this[_0x5929b4(0x714)](_0x1f969b,_0x170985);}[_0x4d9d4f(0x96f)](_0x356319,{source:_0x18d232,destination:_0xff4182}){const _0x119652=_0x4d9d4f,{contentType:_0x32d1a7,label:_0x815c4f,remoteId:_0x1808a8}=_0x356319,_0x47b9bb=_0x572f08(_0x32d1a7,_0x815c4f,_0x1808a8),_0x6dd17d=new _0x2d0e89(_0x47b9bb,_0x32d1a7);_0x6dd17d[_0x119652(0x4a0)](_0x18d232),_0x6dd17d['registerDestination'](_0xff4182),this[_0x119652(0x21d)][_0x119652(0x259)][_0x119652(0xcd)](_0x6dd17d['getLabel'](),_0x6dd17d);}['removeTopic'](_0x392ac5,_0x5388f6){const _0x1ef173=_0x4d9d4f,{contentType:_0x44ad67,label:_0x31cd1d,remoteId:_0x3b07a4}=_0x392ac5,_0x5d8d57=_0x572f08(_0x44ad67,_0x31cd1d,_0x3b07a4),_0x10bc0f=this[_0x1ef173(0x21d)]['topics'][_0x1ef173(0x29f)](_0x5d8d57);_0x10bc0f&&(this['closeTopic'](_0x10bc0f,_0x5388f6),this[_0x1ef173(0x21d)]['topics'][_0x1ef173(0x465)](_0x5d8d57));}[_0x4d9d4f(0x2e1)](_0x1f9066,{source:_0x58665c,destination:_0x3e8ec9}){_0x1f9066['unregisterSource'](_0x58665c),_0x1f9066['unregisterDestination'](_0x3e8ec9);}[_0x4d9d4f(0x860)](_0x24dd60){const _0x1189b2=_0x4d9d4f;this['maps'][_0x1189b2(0x816)]['forEach']((_0x4eb2fe,_0xcf3afa)=>{const _0x32f8fd=_0x1189b2;_0xcf3afa[_0x32f8fd(0x732)](_0x24dd60)&&this[_0x32f8fd(0x5b8)](_0x4eb2fe,_0xcf3afa);});}}class _0x4587f1{[_0x4d9d4f(0x89a)];[_0x4d9d4f(0x9a8)];[_0x4d9d4f(0x896)]=new Map();['subscriptionRequestsQueue']=_0x516607(new _0x1eff5f(this[_0x4d9d4f(0x678)][_0x4d9d4f(0x3b0)](this),()=>_0x135d86[_0x4d9d4f(0x24a)](0x64)),!0x0);[_0x4d9d4f(0x82d)]=new Map();['maps'];['chosenAnswers']=new Map();constructor(_0x2f75f6,_0x2007c4){const _0x35b9f0=_0x4d9d4f;this[_0x35b9f0(0x89a)]=_0x2f75f6,this[_0x35b9f0(0x9a8)]=_0x2007c4,this['maps']=new _0x35df65(({source:_0x21ee1a,destination:_0x38544c})=>_0x2164f0(_0x38544c,_0x21ee1a));}['createSubscription'](_0x2e1b58,_0x18295e){const _0x3d4f34=_0x4d9d4f,_0x4d46fc=this[_0x3d4f34(0x9b1)](_0x2e1b58)&&this[_0x3d4f34(0x6e1)](_0x18295e)?new _0x2deed8(_0x2e1b58,_0x18295e):new _0x70d176(_0x2e1b58,_0x18295e);this[_0x3d4f34(0x21d)][_0x3d4f34(0x2c9)](_0x20fb02['Incoming'],_0x4d46fc),this[_0x3d4f34(0x89a)]['mediator']['registerSystemSource'](_0x4d46fc);}[_0x4d9d4f(0x767)](_0x4b05d1,_0x4d57da,_0x49c159=''){const _0x24ff5e=_0x4d9d4f,_0x2c734d={'contentType':_0x4d57da,'label':_0x4b05d1,'remoteId':_0x49c159},_0x5b832e=_0x21c219(_0x20fb02['Incoming'],_0x2c734d),_0x13811b=this['maps'][_0x24ff5e(0x816)]['get'](_0x5b832e);_0x13811b&&this[_0x24ff5e(0x5b8)](_0x13811b,_0x5b832e);}[_0x4d9d4f(0x7d8)](_0xeb6d5b){this['removeRemoteStreamSubscription'](_0xeb6d5b);}['handleContentSubscribeMediaStream']({label:_0xa19a66,ownerId:_0xc736b7,trackKinds:_0x2e6a4f,params:_0x54b4ed}){const _0x1307d9=_0x4d9d4f;this[_0x1307d9(0x669)](_0xa19a66,_0xc736b7,_0x2e6a4f,_0x54b4ed);}['handleContentUpdateMediaStream']({ownerId:_0x2b97d0,label:_0x28f2e5,params:_0x4561e2}){const _0x5b094b=_0x4d9d4f,{subscriptionLabel:_0x34ea46}=this['getSubscriptionLabel'](_0x28f2e5,_0x2b97d0),_0x359add=this[_0x5b094b(0x7bf)](_0x34ea46);_0x359add&&_0x359add[_0x5b094b(0x1e8)](_0x2b97d0,_0x4561e2);}['handleContentUnsubscribeMediaStream']({ownerId:_0x56ad7f,label:_0x26cd4b,trackKinds:_0x1cec74,remainingTracks:_0xa28ea4}){const _0x16b201=_0x4d9d4f,_0x45195a=_0x21c219(_0x20fb02[_0x16b201(0x7ea)],{'contentType':_0x2477c2[_0x16b201(0x61d)][_0x16b201(0x458)],'label':_0x26cd4b,'remoteId':_0x56ad7f});this['clearSubscriptionRequestTimeout'](_0x45195a);const _0x4e3337=this['subscriptionRequests']['get'](_0x45195a);_0x4e3337&&(this[_0x16b201(0x89a)][_0x16b201(0x295)][_0x16b201(0x3a5)](_0x4e3337),this[_0x16b201(0x896)]['delete'](_0x45195a));const {parts:_0x57e5be,subscriptionLabel:_0x4d29b2}=this[_0x16b201(0x7e5)](_0x26cd4b,_0x56ad7f),_0x31dbc8=this[_0x16b201(0x7bf)](_0x4d29b2);_0x31dbc8&&(_0x31dbc8[_0x16b201(0x4f9)](_0x56ad7f,_0xa28ea4,_0x1cec74),0x0===_0xa28ea4&&this[_0x16b201(0x767)](_0x57e5be['label'],_0x57e5be[_0x16b201(0x8c4)],_0x57e5be[_0x16b201(0x242)]));}[_0x4d9d4f(0x80a)](_0x18e684,{label:_0xe776d9,ownerId:_0x4cbc8a,trackKinds:_0x50ff7e,streamId:_0x503f63,params:_0x350e95}){const _0x769d2e=_0x4d9d4f,_0x50a8c2=_0x21c219(_0x20fb02[_0x769d2e(0x7ea)],{'contentType':_0x2477c2[_0x769d2e(0x61d)][_0x769d2e(0x458)],'label':_0x503f63,'remoteId':_0x18e684}),_0x15bdb8=this[_0x769d2e(0x21d)]['subscriptions'][_0x769d2e(0x29f)](_0x50a8c2);if(!(_0x15bdb8&&_0x15bdb8 instanceof _0x2deed8))throw new _0x56b2e7(_0x56b2e7[_0x769d2e(0x90b)][_0x769d2e(0x2a8)],{'label':_0x50a8c2,'ownerId':_0x4cbc8a});this[_0x769d2e(0x5b8)](_0x15bdb8,_0x50a8c2),this['requestSubscription'](_0xe776d9,_0x4cbc8a,_0x50ff7e,_0x350e95);}['handleSubscriptionProvideMediaStream'](_0x481dae,_0x232df6){const _0x3ad594=_0x4d9d4f,{label:_0x4ed9ac,ownerId:_0x930eb,trackKinds:_0x2259ac,params:_0x4491f0}=_0x232df6,_0x5076f6=_0x21c219(_0x20fb02[_0x3ad594(0x7ea)],{'contentType':_0x2477c2[_0x3ad594(0x61d)][_0x3ad594(0x458)],'label':_0x4ed9ac,'remoteId':_0x930eb});if(!this['subscriptionRequests'][_0x3ad594(0x8dd)](_0x5076f6))throw new _0x56b2e7(_0x56b2e7[_0x3ad594(0x90b)][_0x3ad594(0x2a8)],{'label':_0x5076f6,'ownerId':_0x930eb,'streamId':_0x232df6[_0x3ad594(0x801)],'requests':this[_0x3ad594(0x896)]});const _0x35914f=this[_0x3ad594(0x896)][_0x3ad594(0x29f)](_0x5076f6);if(_0x2259ac[_0x3ad594(0x99a)]===_0x35914f[_0x3ad594(0x299)]()[_0x3ad594(0x99a)]&&_0x2259ac['every'](_0x5acf9d=>_0x35914f['getTracks']()[_0x3ad594(0x766)](_0x5acf9d)))try{const _0x559f8e=_0x35914f[_0x3ad594(0x457)](_0x481dae,_0x232df6);if(!_0x559f8e)return;this['subscribe'](_0x559f8e,_0x930eb,_0x4ed9ac,_0x5076f6,_0x2259ac);}catch(_0x1ce713){return void this['handleNoAnswer'](_0x4ed9ac,_0x930eb,_0x2259ac,_0x4491f0);}}[_0x4d9d4f(0x378)](_0x3da755,{label:_0x384583,ownerId:_0x2c4875,trackKinds:_0x1bda47}){const _0x210dd6=_0x4d9d4f,_0x651eae=this[_0x210dd6(0x89a)][_0x210dd6(0x295)][_0x210dd6(0xa6)](_0x2c4875,_0x384583);if(!_0x651eae)return;const _0x5efaa0=_0x651eae[_0x210dd6(0x176)](),_0x4c80e5=_0x651eae[_0x210dd6(0x3d8)]();_0x4c80e5['some'](_0x4544b4=>_0x1bda47[_0x210dd6(0x766)](_0x4544b4))&&this[_0x210dd6(0x214)](_0x3da755,_0x384583,_0x5efaa0,_0x2c4875,_0x4c80e5);}['handleContentRemoteMediaStreamTrackFail']({label:_0x17834b,providerId:_0x2d0f24,ownerId:_0x309f4d,streamId:_0x515031,trackKinds:_0x3efb6c}){this['findNewMediaSubscription'](_0x2d0f24,_0x17834b,_0x515031,_0x309f4d,_0x3efb6c);}[_0x4d9d4f(0x426)](_0x3bff7a){const _0x1bcfa2=_0x4d9d4f;for(const _0x4fc78d of this[_0x1bcfa2(0x481)][_0x1bcfa2(0x7a1)]()){const {streamLabel:_0x5416eb,ownerId:_0x2ed4f3,trackKinds:_0x20e4cc,params:_0x550fdc}=_0x4fc78d;if(!_0x2ed4f3||!_0x20e4cc||!_0x5416eb)return;this[_0x1bcfa2(0x958)]['push']({'label':_0x5416eb,'ownerId':_0x2ed4f3,'trackKinds':_0x20e4cc,'params':_0x550fdc,'remoteId':_0x3bff7a});}}['removeSubscriptionsForNode'](_0x5d5d3f){const _0x215686=_0x4d9d4f;this[_0x215686(0x21d)]['subscriptions'][_0x215686(0x1dc)]((_0x148d3b,_0x23d4c8)=>{const _0x2e2310=_0x215686;if(_0x23d4c8[_0x2e2310(0x732)](_0x5d5d3f)){if(_0x148d3b[_0x2e2310(0x55f)][_0x2e2310(0x24e)]()===_0x2477c2[_0x2e2310(0x61d)][_0x2e2310(0x458)]){const _0x3c8cfd=_0x148d3b['destination'];if(_0x3c8cfd['getSubscribedTracks']()['length']>0x0){const _0x5c45d0={'type':_0x4e7162[_0x2e2310(0x737)],'label':_0x3c8cfd['getLabel'](),'ownerId':_0x3c8cfd['getOwnerId'](),'trackKinds':_0x3c8cfd[_0x2e2310(0x3d8)]()};return void this[_0x2e2310(0x378)](_0x5d5d3f,_0x5c45d0);}}this[_0x2e2310(0x5b8)](_0x148d3b,_0x23d4c8);}});}[_0x4d9d4f(0x6d7)](){const _0x1cd45a=_0x4d9d4f;this[_0x1cd45a(0x21d)][_0x1cd45a(0x816)]['forEach'](this[_0x1cd45a(0x5b8)][_0x1cd45a(0x3b0)](this));}[_0x4d9d4f(0x3dd)](_0x28fff6,_0x3e37e7,_0x1d99b9,_0x102df6,_0x3693e1){const _0x19e220=_0x4d9d4f,_0x37c298=this[_0x19e220(0x89a)][_0x19e220(0x295)][_0x19e220(0x464)](_0x28fff6[_0x19e220(0x432)]),_0x2973f2=this[_0x19e220(0x89a)][_0x19e220(0x295)][_0x19e220(0xa6)](_0x3e37e7,_0x1d99b9);this[_0x19e220(0x401)](_0x102df6),this[_0x19e220(0x896)][_0x19e220(0x8dd)](_0x102df6)&&(this[_0x19e220(0x89a)]['mediator']['unregisterSystemSource'](this[_0x19e220(0x896)][_0x19e220(0x29f)](_0x102df6)),this['subscriptionRequests'][_0x19e220(0x465)](_0x102df6)),this[_0x19e220(0x443)](_0x28fff6,_0x3e37e7,_0x1d99b9,_0x2973f2),_0x2973f2[_0x19e220(0x76b)](_0x28fff6[_0x19e220(0x801)]),_0x2973f2[_0x19e220(0x30d)](_0x28fff6[_0x19e220(0x432)]);const _0x4c8728=_0x2164f0(_0x2973f2,_0x37c298),_0x15f295=_0x21c219(_0x20fb02[_0x19e220(0x7ea)],_0x4c8728);this[_0x19e220(0x21d)][_0x19e220(0x816)][_0x19e220(0x8dd)](_0x15f295)||this[_0x19e220(0x2c9)](_0x37c298,_0x2973f2);const _0x4bedd5=this[_0x19e220(0x21d)]['subscriptions'][_0x19e220(0x29f)](_0x15f295);if(!(_0x4bedd5&&_0x4bedd5 instanceof _0x2deed8))throw new _0x56b2e7(_0x56b2e7[_0x19e220(0x90b)][_0x19e220(0x2a8)],{'label':_0x102df6,'ownerId':_0x3e37e7});_0x2644bc[_0x19e220(0x297)]('subscription',{'clusterId':this[_0x19e220(0x89a)][_0x19e220(0x95e)],'nodeId':this[_0x19e220(0x89a)][_0x19e220(0x772)][_0x19e220(0x9a5)](),'nodeType':this[_0x19e220(0x89a)][_0x19e220(0x772)][_0x19e220(0x506)],'data':{'subscriptionLabel':_0x15f295,'chosenAnswer':_0x28fff6}}),this[_0x19e220(0x481)][_0x19e220(0xcd)](_0x15f295,_0x28fff6),_0x4bedd5['subscribe'](_0x3e37e7,_0x3693e1,_0x28fff6[_0x19e220(0x279)]);}[_0x4d9d4f(0x97e)]({ownerId:_0x305ba7,label:_0x164fa1}){const _0x32dd00=_0x4d9d4f,_0x509608=this['configs'][_0x32dd00(0x295)][_0x32dd00(0xa6)](_0x305ba7,_0x164fa1),[_0x5af527,_0x29a927]=Array[_0x32dd00(0x376)](this['maps']['subscriptions'][_0x32dd00(0x7ff)]())[_0x32dd00(0x211)](([_0x48b2a6,_0x355a8e])=>-0x1!==_0x48b2a6[_0x32dd00(0x489)](_0x509608['getInternalStreamId']()));return this[_0x32dd00(0x5b8)](_0x29a927,_0x5af527);}[_0x4d9d4f(0x5b8)](_0x3860ad,_0x23e810){const _0x21c765=_0x4d9d4f;this[_0x21c765(0x89a)][_0x21c765(0x295)][_0x21c765(0x3a5)](_0x3860ad),this[_0x21c765(0x21d)][_0x21c765(0x5b8)](_0x3860ad,_0x23e810);}[_0x4d9d4f(0x9b1)](_0xe20c98){const _0x485ca5=_0x4d9d4f;return _0xe20c98[_0x485ca5(0x477)]()[_0x485ca5(0x766)](_0x2477c2['ContentType']['Media']);}[_0x4d9d4f(0x6e1)](_0x36a2be){const _0x140a34=_0x4d9d4f;return _0x36a2be[_0x140a34(0x24e)]()===_0x2477c2[_0x140a34(0x61d)][_0x140a34(0x458)];}async[_0x4d9d4f(0x4a4)](_0x121a16,_0x45ede0,_0x5358d8,_0x130d22){const _0x543114=_0x4d9d4f;await _0x135d86[_0x543114(0x24a)](0x3e8);const _0x336876=_0x21c219(_0x20fb02['Incoming'],{'contentType':_0x2477c2[_0x543114(0x61d)][_0x543114(0x458)],'label':_0x121a16,'remoteId':_0x45ede0});this['clearSubscriptionRequestTimeout'](_0x336876);const _0x12f50c=this[_0x543114(0x896)]['get'](_0x336876);if(!_0x12f50c)throw new _0x56b2e7(_0x56b2e7[_0x543114(0x90b)][_0x543114(0x2a8)],{'label':_0x336876,'ownerId':_0x45ede0});const _0x3128de=this[_0x543114(0x89a)][_0x543114(0x295)][_0x543114(0x951)](_0x5b331b=>_0x5b331b[_0x543114(0x3b3)]()),_0x4f2585=this['configs']['mediator'][_0x543114(0x93a)](this[_0x543114(0x89a)][_0x543114(0x772)][_0x543114(0x9a5)](),_0x45ede0);_0x12f50c[_0x543114(0x934)](_0x3128de['map'](_0x1fd00b=>_0x1fd00b['getRemoteId']()),_0x4f2585);try{_0x12f50c[_0x543114(0x52c)](this['configs']['localNode'][_0x543114(0x9a5)](),_0x45ede0,_0x121a16,_0x5358d8,_0x130d22),this['setSubscriptionRequestTimeout'](_0x121a16,_0x45ede0,_0x5358d8,_0x130d22,_0x336876,_0x12f50c);}catch(_0x5d78f7){this[_0x543114(0x958)][_0x543114(0x9e2)]({'label':_0x121a16,'ownerId':_0x45ede0,'trackKinds':_0x5358d8,'params':_0x130d22});}}['requestSubscription'](_0x5eb684,_0xcbed61,_0x2929c9,_0x7b7924){const _0x50f0b5=_0x4d9d4f;this[_0x50f0b5(0x958)][_0x50f0b5(0x9e2)]({'label':_0x5eb684,'ownerId':_0xcbed61,'trackKinds':_0x2929c9,'params':_0x7b7924});}[_0x4d9d4f(0x678)]({label:_0x54f4e9,ownerId:_0x4c124f,trackKinds:_0x23b05e,params:_0x5c480b,remoteId:_0x34be09}){const _0xc9da9e=_0x4d9d4f;if(!this['configs']['mediator'][_0xc9da9e(0xa6)](_0x4c124f,_0x54f4e9))return;if(!this[_0xc9da9e(0x89a)][_0xc9da9e(0x295)][_0xc9da9e(0x663)]()[_0xc9da9e(0x64e)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x34be09){const _0x439caa=this['configs'][_0xc9da9e(0x295)][_0xc9da9e(0x125)]()[_0xc9da9e(0x211)](_0x2ff52a=>_0x2ff52a[_0xc9da9e(0x9a5)]()===_0x34be09),_0x4f4135=_0x439caa?.[_0xc9da9e(0x64e)]();if(!_0x439caa||!_0x4f4135)throw new Error(_0xc9da9e(0x3b7));const _0x58947c=this[_0xc9da9e(0x89a)][_0xc9da9e(0x295)]['getRemoteNodes']()[_0xc9da9e(0x211)](_0x3cde10=>_0x3cde10[_0xc9da9e(0x9a5)]()===_0x4c124f),_0x19e050=_0x58947c?.[_0xc9da9e(0x64e)]();if(!_0x58947c||!_0x19e050)throw new Error(_0xc9da9e(0x155));const _0x2e5834=this[_0xc9da9e(0x481)][_0xc9da9e(0x29f)](_0x54f4e9);if(_0x2e5834){const _0x342ea5=this[_0xc9da9e(0x89a)][_0xc9da9e(0x295)][_0xc9da9e(0x125)]()[_0xc9da9e(0x211)](_0x37741a=>_0x37741a['getId']()===_0x2e5834[_0xc9da9e(0x432)]),_0x4ab74f=_0x342ea5?.['getRank']();if(!_0x342ea5||!_0x4ab74f)throw new Error(_0xc9da9e(0x207));if(Math[_0xc9da9e(0x661)](_0x4ab74f-_0x19e050)<Math['abs'](_0x4f4135-_0x19e050))return;}}const _0x1ca919=this[_0xc9da9e(0x89a)][_0xc9da9e(0x295)]['getConnections'](_0x3b92f9=>_0x3b92f9[_0xc9da9e(0x3b3)]()&&(!_0x34be09||_0x3b92f9[_0xc9da9e(0x91b)]()===_0x34be09));if(!_0x1ca919[_0xc9da9e(0x99a)]||0x0===_0x1ca919[_0xc9da9e(0x99a)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x2d1d2f=this[_0xc9da9e(0x89a)]['mediator'][_0xc9da9e(0x93a)](this['configs']['localNode'][_0xc9da9e(0x9a5)](),_0x4c124f),_0x1c8db9=_0x21c219(_0x20fb02[_0xc9da9e(0x7ea)],{'contentType':_0x2477c2[_0xc9da9e(0x61d)][_0xc9da9e(0x458)],'label':_0x54f4e9,'remoteId':_0x4c124f});if(this['subscriptionRequests'][_0xc9da9e(0x8dd)](_0x1c8db9)){if(_0x34be09)throw new Error(_0xc9da9e(0x2c7));const _0x4edf13=this[_0xc9da9e(0x896)][_0xc9da9e(0x29f)](_0x1c8db9)['getTracks']();if(_0x4edf13[_0xc9da9e(0x99a)]===_0x23b05e[_0xc9da9e(0x99a)]&&_0x4edf13['every'](_0x4f7dd=>_0x23b05e[_0xc9da9e(0x766)](_0x4f7dd)))return;this[_0xc9da9e(0x89a)][_0xc9da9e(0x295)][_0xc9da9e(0x3a5)](this['subscriptionRequests'][_0xc9da9e(0x29f)](_0x1c8db9)),this[_0xc9da9e(0x896)][_0xc9da9e(0x465)](_0x1c8db9),_0x23b05e=Array[_0xc9da9e(0x376)](new Set(_0x23b05e[_0xc9da9e(0x868)](_0x4edf13))),this['clearSubscriptionRequestTimeout'](_0x1c8db9);}const _0xd36306=new _0x147d65(_0x1ca919[_0xc9da9e(0x473)](_0xf082b1=>_0xf082b1['getRemoteId']()),_0x2d1d2f,this[_0xc9da9e(0x9a8)],_0x23b05e);this[_0xc9da9e(0x89a)][_0xc9da9e(0x295)][_0xc9da9e(0x118)](_0xd36306),this['subscriptionRequests'][_0xc9da9e(0xcd)](_0x1c8db9,_0xd36306),_0xd36306[_0xc9da9e(0x52c)](this[_0xc9da9e(0x89a)][_0xc9da9e(0x772)]['getId'](),_0x4c124f,_0x54f4e9,_0x23b05e,_0x5c480b),this[_0xc9da9e(0x197)](_0x54f4e9,_0x4c124f,_0x23b05e,_0x5c480b,_0x1c8db9,_0xd36306);}[_0x4d9d4f(0x401)](_0x2809df){const _0x5d68bd=_0x4d9d4f;this['subscriptionRequestTimeouts'][_0x5d68bd(0x8dd)](_0x2809df)&&(clearTimeout(this[_0x5d68bd(0x82d)][_0x5d68bd(0x29f)](_0x2809df)),this[_0x5d68bd(0x82d)][_0x5d68bd(0x465)](_0x2809df));}[_0x4d9d4f(0x197)](_0x2183e7,_0x640a25,_0x20085a,_0x3de7ee,_0x355bd0,_0x1ef9f6){const _0x1e2852=_0x4d9d4f;this[_0x1e2852(0x401)](_0x355bd0),this[_0x1e2852(0x82d)][_0x1e2852(0xcd)](_0x355bd0,setTimeout(()=>{const _0x549005=_0x1e2852;this[_0x549005(0x82d)][_0x549005(0x465)](_0x355bd0);try{const _0x8ce142=_0x1ef9f6[_0x549005(0x5e4)]();this['subscribe'](_0x8ce142,_0x640a25,_0x2183e7,_0x355bd0,_0x20085a);}catch(_0x16aa9e){this['handleNoAnswer'](_0x2183e7,_0x640a25,_0x20085a,_0x3de7ee);}},0x7d0));}['findNewMediaSubscription'](_0x49209f,_0x5f1db4,_0x4e7963,_0x2948db,_0x103ec2){const _0x51cd18=_0x4d9d4f,{subscriptionLabel:_0x539f42}=this[_0x51cd18(0x7e5)](_0x5f1db4,_0x2948db),_0xf8b112=this[_0x51cd18(0x7bf)](_0x539f42),_0x236b5b=_0xf8b112?.[_0x51cd18(0x279)];_0xf8b112&&(_0xf8b112[_0x51cd18(0x4f9)](_0x2948db,0x0),this[_0x51cd18(0x767)](_0x4e7963,_0x2477c2['ContentType'][_0x51cd18(0x458)],_0x49209f)),this['requestSubscription'](_0x5f1db4,_0x2948db,_0x103ec2,_0x236b5b);}[_0x4d9d4f(0x7bf)](_0x91b91e){const _0x3ae2be=_0x4d9d4f,_0x570b47=this['maps'][_0x3ae2be(0x816)]['get'](_0x91b91e);if(_0x570b47){if(!(_0x570b47 instanceof _0x2deed8))throw new _0x56b2e7(_0x56b2e7[_0x3ae2be(0x90b)]['InvalidSubscription'],{'label':_0x91b91e,'subscription':_0x570b47});return _0x570b47;}}[_0x4d9d4f(0x7e5)](_0x325cc2,_0x2af462){const _0x8ed394=_0x4d9d4f,_0x43bed9=this[_0x8ed394(0x6ac)](_0x325cc2,_0x2af462);return{'parts':_0x43bed9,'subscriptionLabel':_0x21c219(_0x20fb02[_0x8ed394(0x7ea)],_0x43bed9)};}[_0x4d9d4f(0x6ac)](_0x250321,_0x400397){const _0x4456a4=_0x4d9d4f,_0x15aff7=this[_0x4456a4(0x89a)]['mediator']['getRemoteMediaStream'](_0x400397,_0x250321),_0x39de1e=_0x15aff7[_0x4456a4(0x1d7)]();if(!_0x39de1e)throw new _0x56b2e7(_0x56b2e7[_0x4456a4(0x90b)]['RemoteMediaStreamMissingProviderId'],{'label':_0x250321,'streamId':_0x15aff7['getInternalStreamId'](),'ownerId':_0x400397,'localId':this[_0x4456a4(0x89a)][_0x4456a4(0x772)][_0x4456a4(0x9a5)]()});return{'contentType':_0x2477c2['ContentType'][_0x4456a4(0x458)],'label':_0x15aff7[_0x4456a4(0x176)](),'remoteId':_0x39de1e};}[_0x4d9d4f(0x443)](_0xe84e8c,_0x49c4c2,_0x5dd493,_0x3cfcc7){const _0x4468cc=_0x4d9d4f,_0xfa2a40=_0x3cfcc7[_0x4468cc(0x1d7)]();if(_0xfa2a40&&_0xfa2a40!==_0xe84e8c[_0x4468cc(0x432)]){const {parts:_0x51c15f,subscriptionLabel:_0x52e44f}=this[_0x4468cc(0x7e5)](_0x5dd493,_0x49c4c2),_0x19a3d7=this[_0x4468cc(0x7bf)](_0x52e44f);_0x19a3d7&&(_0x19a3d7[_0x4468cc(0x4f9)](_0x49c4c2,0x0),this[_0x4468cc(0x767)](_0x51c15f[_0x4468cc(0x5da)],_0x51c15f[_0x4468cc(0x8c4)],_0x51c15f[_0x4468cc(0x242)]));}}}class _0x11220f{[_0x4d9d4f(0x89a)];[_0x4d9d4f(0x81e)];['maps'];constructor(_0x368f35,_0x30e0f7){const _0x5ebfba=_0x4d9d4f;this[_0x5ebfba(0x89a)]=_0x368f35,this[_0x5ebfba(0x81e)]=_0x30e0f7,this['maps']=new _0x35df65(({source:_0x5dc1fc,destination:_0x2751c8})=>_0x2164f0(_0x5dc1fc,_0x2751c8));}[_0x4d9d4f(0x2c9)](_0x2c762c,_0x53f4c4){const _0x76ca1e=_0x4d9d4f,_0x3b3bae={'source':_0x2c762c,'destination':_0x53f4c4};this['maps'][_0x76ca1e(0x2c9)](_0x20fb02[_0x76ca1e(0x3bf)],_0x3b3bae);}[_0x4d9d4f(0x767)](_0x3f00a2,_0x20e2fe,_0x4047a3=''){const _0x24f324=_0x4d9d4f,_0x118ac6={'contentType':_0x20e2fe,'label':_0x3f00a2,'remoteId':_0x4047a3};this[_0x24f324(0x21d)][_0x24f324(0x767)](_0x118ac6,_0x20fb02[_0x24f324(0x3bf)]);}[_0x4d9d4f(0x8aa)](_0x38d013,_0x2e379d){const _0x37fcfd=_0x4d9d4f;let _0x3937ee;_0x3937ee=_0x2e379d[_0x37fcfd(0x180)]!==this['configs'][_0x37fcfd(0x772)][_0x37fcfd(0x9a5)]()?this[_0x37fcfd(0x89a)][_0x37fcfd(0x295)][_0x37fcfd(0xa6)](_0x2e379d[_0x37fcfd(0x180)],_0x2e379d[_0x37fcfd(0x5da)]):this[_0x37fcfd(0x89a)][_0x37fcfd(0x295)][_0x37fcfd(0x6ae)](_0x2e379d[_0x37fcfd(0x5da)]);const _0x2348d5=_0x21c219(_0x20fb02[_0x37fcfd(0x3bf)],{'contentType':_0x2477c2[_0x37fcfd(0x61d)][_0x37fcfd(0x458)],'label':_0x3937ee[_0x37fcfd(0x2cf)](),'remoteId':_0x38d013}),_0xf3ea7a=this['getNumberOutgoingSubscriptions']();if(!this[_0x37fcfd(0x21d)][_0x37fcfd(0x816)][_0x37fcfd(0x8dd)](_0x2348d5)&&_0xf3ea7a>=this[_0x37fcfd(0x81e)])return{'type':_0x4e7162['RestartNeedMediaStream'],'ownerId':_0x2e379d[_0x37fcfd(0x180)],'label':_0x2e379d['label'],'streamId':_0x3937ee[_0x37fcfd(0x2cf)](),'trackKinds':_0x2e379d[_0x37fcfd(0x691)],'params':_0x2e379d[_0x37fcfd(0x279)]};_0x3937ee instanceof _0x364ea9&&!_0x3937ee[_0x37fcfd(0x528)](_0x2e379d[_0x37fcfd(0x691)])&&_0x3937ee[_0x37fcfd(0x3dd)](_0x2e379d[_0x37fcfd(0x279)]),this[_0x37fcfd(0x21d)][_0x37fcfd(0x816)][_0x37fcfd(0x8dd)](_0x2348d5)||this[_0x37fcfd(0x2c9)](_0x3937ee[_0x37fcfd(0x459)](_0x38d013),this[_0x37fcfd(0x89a)][_0x37fcfd(0x295)]['getConnection'](_0x38d013));}[_0x4d9d4f(0x347)](_0x2d6f50,{label:_0x24d61c,ownerId:_0x154347,remainingTracks:_0x2becfe}){const _0x167140=_0x4d9d4f;if(_0x2becfe>0x0)return;let _0x41f124;_0x41f124=_0x154347!==this['configs'][_0x167140(0x772)][_0x167140(0x9a5)]()?this['configs'][_0x167140(0x295)][_0x167140(0xa6)](_0x154347,_0x24d61c):this['configs'][_0x167140(0x295)][_0x167140(0x6ae)](_0x24d61c);const _0x12cc01=_0x41f124[_0x167140(0x2cf)](),_0x4fd6db=_0x2477c2['ContentType'][_0x167140(0x458)];this[_0x167140(0x767)](_0x12cc01,_0x4fd6db,_0x2d6f50);}[_0x4d9d4f(0x74f)](_0x17a638,{label:_0x2b4935,ownerId:_0x2c3f8e,trackKinds:_0x641e29}){const _0x338d12=_0x4d9d4f;if(_0x17a638!==_0x280524)return[];let _0x1b4d9f=[];for(const _0x413331 of this[_0x338d12(0x21d)][_0x338d12(0x816)]){const {source:_0x135369,destination:_0x5cad95}=_0x413331[0x1];_0x135369[_0x338d12(0x502)]()===_0x2b4935&&_0x135369[_0x338d12(0x38b)]()===_0x2c3f8e&&_0x1b4d9f[_0x338d12(0x9e2)]({'sourceId':this[_0x338d12(0x89a)]['localNode'][_0x338d12(0x9a5)](),'destinationIds':[_0x5cad95[_0x338d12(0x91b)]()],'messageType':_0x2ba96e['Subscription'],'content':{'type':_0x4e7162[_0x338d12(0x737)],'label':_0x2b4935,'ownerId':_0x2c3f8e,'trackKinds':_0x641e29}});}return _0x1b4d9f;}[_0x4d9d4f(0x1e6)](_0x37894a,_0x3679db){const _0x2d612e=_0x4d9d4f,{label:_0x354f41,ownerId:_0xd1c4c0,trackKinds:_0x17ed5c,params:_0x591c5d}=_0x3679db,{hasTracks:_0x55e10c,streamId:_0x6ca624,hasResolution:_0x2a2017,distance:_0x1e061d,subscriptionLabel:_0x563a33}=this[_0x2d612e(0x28f)](_0x37894a,_0x3679db);let _0x248e2c=this['getNumberOutgoingSubscriptions']()<this['maxOutgoingSubscriptions']&&(_0x55e10c||_0x1e061d>-0x1)?_0x4e7162['CanProvideMediaStream']:_0x4e7162[_0x2d612e(0x43b)];const _0x201eff=_0x1e061d<0x0?0xa:_0x1e061d;let _0x46833d=_0x55e10c?_0x2a2017?_0x201eff:_0x201eff+0x0:_0x201eff+0xa;return _0x563a33&&this['maps']['subscriptions'][_0x2d612e(0x8dd)](_0x563a33)&&(_0x55e10c&&(_0x46833d=0x0),_0x248e2c=_0x4e7162['CanProvideMediaStream']),{'type':_0x248e2c,'cost':_0x46833d,'distance':_0x1e061d,'label':_0x354f41,'ownerId':_0xd1c4c0,'streamId':_0x6ca624,'trackKinds':_0x17ed5c,'params':_0x591c5d};}[_0x4d9d4f(0x7d8)](_0x150b3d){const _0x4742d3=_0x4d9d4f,{label:_0x2ccf63,ownerId:_0x34cc1f}=_0x150b3d,_0x3815f0=this[_0x4742d3(0x89a)][_0x4742d3(0x295)][_0x4742d3(0xa6)](_0x34cc1f,_0x2ccf63);this['maps'][_0x4742d3(0x816)][_0x4742d3(0x1dc)](_0x5d446e=>{const _0x592e1c=_0x4742d3;if(_0x5d446e[_0x592e1c(0x318)][_0x592e1c(0x176)]()===_0x3815f0[_0x592e1c(0x2cf)]()){const _0x2ffebf=_0x5d446e[_0x592e1c(0x55f)];this['removeSubscription'](_0x3815f0[_0x592e1c(0x2cf)](),_0x2477c2[_0x592e1c(0x61d)][_0x592e1c(0x458)],_0x2ffebf[_0x592e1c(0x91b)]());}});}[_0x4d9d4f(0x799)]({label:_0x3aceaf}){const _0x29b567=_0x4d9d4f,_0xd0bbaf=this[_0x29b567(0x89a)][_0x29b567(0x295)][_0x29b567(0x6ae)](_0x3aceaf);this[_0x29b567(0x21d)][_0x29b567(0x816)][_0x29b567(0x1dc)](_0x288d7d=>{const _0x675422=_0x29b567;if(_0x288d7d[_0x675422(0x318)]['getInternalStreamId']()===_0xd0bbaf['getShareableStreamId']()){const _0x342d5a=_0x288d7d['destination'];this[_0x675422(0x767)](_0xd0bbaf[_0x675422(0x2cf)](),_0x2477c2[_0x675422(0x61d)]['Media'],_0x342d5a[_0x675422(0x91b)]());}});}[_0x4d9d4f(0x860)](_0x13dfac){const _0x2e24b9=_0x4d9d4f;this[_0x2e24b9(0x21d)]['removeSubscriptionsForNode'](_0x13dfac);}[_0x4d9d4f(0x6d7)](){const _0x5485c2=_0x4d9d4f;this['maps'][_0x5485c2(0x816)][_0x5485c2(0x1dc)](this[_0x5485c2(0x5b8)][_0x5485c2(0x3b0)](this));}['closeSubscription'](_0x2a3c64,_0x4b5967){const _0x1ddb36=_0x4d9d4f;this[_0x1ddb36(0x21d)][_0x1ddb36(0x5b8)](_0x2a3c64,_0x4b5967);}[_0x4d9d4f(0x28f)](_0x295078,{label:_0x3952a9,ownerId:_0x4ac7d8,trackKinds:_0xe27676,params:_0x5b23a5}){const _0x5c12f2=_0x4d9d4f;if(_0x4ac7d8!==this[_0x5c12f2(0x89a)][_0x5c12f2(0x772)][_0x5c12f2(0x9a5)]()){const _0x4f2f0a=this[_0x5c12f2(0x89a)][_0x5c12f2(0x295)][_0x5c12f2(0xa6)](_0x4ac7d8,_0x3952a9);return _0x4f2f0a&&_0x4f2f0a[_0x5c12f2(0x1d7)]()!==_0x295078?{'hasTracks':_0x4f2f0a[_0x5c12f2(0x804)](_0xe27676),'hasResolution':this['canProvideResolution'](_0x4f2f0a[_0x5c12f2(0xcc)](),_0x5b23a5),'streamId':_0x4f2f0a[_0x5c12f2(0x2cf)](),'distance':this[_0x5c12f2(0x89a)][_0x5c12f2(0x295)][_0x5c12f2(0x93a)](_0x295078,_0x4ac7d8),'subscriptionLabel':_0x21c219(_0x20fb02[_0x5c12f2(0x3bf)],{'contentType':_0x2477c2[_0x5c12f2(0x61d)][_0x5c12f2(0x458)],'label':_0x4f2f0a['getShareableStreamId'](),'remoteId':_0x295078})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x557e9e=this[_0x5c12f2(0x89a)][_0x5c12f2(0x295)]['getLocalMediaStream'](_0x3952a9);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x557e9e[_0x5c12f2(0x2cf)](),'distance':0x0,'subscriptionLabel':_0x21c219(_0x20fb02['Outgoing'],{'contentType':_0x2477c2[_0x5c12f2(0x61d)]['Media'],'label':_0x557e9e[_0x5c12f2(0x2cf)](),'remoteId':_0x295078})};}['getNumberOutgoingSubscriptions'](){const _0x413142=_0x4d9d4f;return Array['from'](this[_0x413142(0x21d)][_0x413142(0x816)][_0x413142(0x7ff)]())['filter'](([_0x31b403,{source:_0x3c200a}])=>_0x31b403['startsWith'](_0x20fb02[_0x413142(0x3bf)])&&_0x3c200a['getContentType']()===_0x2477c2[_0x413142(0x61d)][_0x413142(0x458)])[_0x413142(0x99a)];}[_0x4d9d4f(0x818)](_0x11076e,_0x56d92a){const _0x251586=_0x4d9d4f;if(!_0x56d92a||!_0x56d92a[_0x251586(0x59c)]||'boolean'==typeof _0x56d92a[_0x251586(0x59c)]||!_0x56d92a[_0x251586(0x59c)][_0x251586(0x736)])return!0x0;const {width:_0x3c13fe,height:_0x481e69}=_0x56d92a[_0x251586(0x59c)][_0x251586(0x736)];return _0x11076e[_0x251586(0x5a1)]>=_0x3c13fe&&_0x11076e[_0x251586(0x3d9)]>=_0x481e69;}}class _0x5411cf{[_0x4d9d4f(0x89a)];[_0x4d9d4f(0x81e)];['maxDistance'];['systemTopic'];['incomingManager'];[_0x4d9d4f(0x80b)];constructor(_0x1f4cda,_0x448c84,_0x10270d){const _0x50f6de=_0x4d9d4f;this[_0x50f6de(0x89a)]=_0x1f4cda,this[_0x50f6de(0x81e)]=_0x448c84,this[_0x50f6de(0x9a8)]=_0x10270d,this[_0x50f6de(0x89a)][_0x50f6de(0x295)][_0x50f6de(0x118)](this),this['incomingManager']=new _0x4587f1(this[_0x50f6de(0x89a)],this[_0x50f6de(0x9a8)]),this[_0x50f6de(0x80b)]=new _0x11220f(this[_0x50f6de(0x89a)],this[_0x50f6de(0x81e)]);}[_0x4d9d4f(0xe7)](_0x276c7c){this['systemTopic']=_0x276c7c;}[_0x4d9d4f(0x2bc)](){const _0x35af8f=_0x4d9d4f;delete this[_0x35af8f(0x26f)];}[_0x4d9d4f(0x6d7)](){const _0x4ef1b3=_0x4d9d4f;this[_0x4ef1b3(0x399)][_0x4ef1b3(0x6d7)](),this[_0x4ef1b3(0x80b)][_0x4ef1b3(0x6d7)](),this[_0x4ef1b3(0x89a)][_0x4ef1b3(0x295)]['unregisterSystemSource'](this);}[_0x4d9d4f(0x5ba)](_0x4e9076,_0x4ac995){const _0x4b304f=_0x4d9d4f;this[_0x4b304f(0x399)][_0x4b304f(0x2c9)](_0x4e9076,_0x4ac995);}[_0x4d9d4f(0x331)](_0xe70e6,_0x2b1036){const _0x41610e=_0x4d9d4f;this[_0x41610e(0x80b)]['createSubscription'](_0xe70e6,_0x2b1036);}[_0x4d9d4f(0x12a)](_0x223828,_0x47c41e,_0x50f3f2=''){const _0x5185c3=_0x4d9d4f;this[_0x5185c3(0x399)][_0x5185c3(0x767)](_0x223828,_0x47c41e,_0x50f3f2);}[_0x4d9d4f(0x427)](_0x1b6af9,_0x1651bb,_0x251fdf=''){const _0x23ee31=_0x4d9d4f;try{this[_0x23ee31(0x80b)]['removeSubscription'](_0x1b6af9,_0x1651bb,_0x251fdf);}catch(_0x4023eb){if(_0x4023eb instanceof _0x56b2e7&&_0x4023eb[_0x23ee31(0x1c1)]===_0x56b2e7['codes'][_0x23ee31(0x570)])return;}}[_0x4d9d4f(0x457)](_0x268d4a){const _0x563d99=_0x4d9d4f;switch(_0x268d4a[_0x563d99(0x108)][_0x563d99(0x506)]){case _0x4e7162['SubscribeMediaStream']:this[_0x563d99(0x8aa)](_0x268d4a['sourceId'],_0x268d4a[_0x563d99(0x108)]);break;case _0x4e7162['UnsubscribeMediaStream']:this['outgoingManager']['handleSubscriptionUnsubscribeMediaStream'](_0x268d4a[_0x563d99(0x68c)],_0x268d4a['content']);break;case _0x4e7162[_0x563d99(0x83d)]:this[_0x563d99(0x1e6)](_0x268d4a[_0x563d99(0x68c)],_0x268d4a['content']);break;case _0x4e7162['RestartNeedMediaStream']:this[_0x563d99(0x399)][_0x563d99(0x80a)](_0x268d4a['sourceId'],_0x268d4a[_0x563d99(0x108)]);break;case _0x4e7162['CanProvideMediaStream']:case _0x4e7162['CannotProvideMediaStream']:this[_0x563d99(0x399)][_0x563d99(0x686)](_0x268d4a[_0x563d99(0x68c)],_0x268d4a[_0x563d99(0x108)]);break;case _0x4e7162['MediaStreamUnavailable']:this[_0x563d99(0x399)][_0x563d99(0x378)](_0x268d4a[_0x563d99(0x68c)],_0x268d4a[_0x563d99(0x108)]);}}[_0x4d9d4f(0x163)](_0x4674c5){const _0x467b26=_0x4d9d4f;switch(_0x4674c5[_0x467b26(0x108)][_0x467b26(0x506)]){case _0x2e4dcf[_0x467b26(0x8ee)]:this['incomingManager'][_0x467b26(0x7d8)](_0x4674c5[_0x467b26(0x108)]),this['outgoingManager'][_0x467b26(0x7d8)](_0x4674c5['content']);break;case _0x2e4dcf[_0x467b26(0x3f5)]:this['incomingManager'][_0x467b26(0x310)](_0x4674c5[_0x467b26(0x108)]);break;case _0x2e4dcf[_0x467b26(0x419)]:this['incomingManager'][_0x467b26(0x45e)](_0x4674c5[_0x467b26(0x108)]);break;case _0x2e4dcf[_0x467b26(0x2ba)]:this[_0x467b26(0x74f)](_0x4674c5[_0x467b26(0x68c)],_0x4674c5[_0x467b26(0x108)]);break;case _0x2e4dcf[_0x467b26(0x2e4)]:this[_0x467b26(0x80b)][_0x467b26(0x799)](_0x4674c5[_0x467b26(0x108)]);break;case _0x2e4dcf[_0x467b26(0x88f)]:this[_0x467b26(0xae)](_0x4674c5[_0x467b26(0x108)][_0x467b26(0x5da)],_0x2477c2[_0x467b26(0x61d)]['PubSub']);break;case _0x2e4dcf['CloseObjectStoreBucket']:this['handleCloseContent'](_0x4674c5[_0x467b26(0x108)][_0x467b26(0x5da)],_0x2477c2[_0x467b26(0x61d)][_0x467b26(0x43f)]);break;case _0x2e4dcf[_0x467b26(0x2e6)]:this['handleCloseContent'](_0x4674c5[_0x467b26(0x108)][_0x467b26(0x5da)],_0x2477c2[_0x467b26(0x61d)][_0x467b26(0x60d)]);break;case _0x2e4dcf[_0x467b26(0x785)]:this[_0x467b26(0xae)](_0x4674c5[_0x467b26(0x108)][_0x467b26(0x5da)],_0x2477c2[_0x467b26(0x61d)][_0x467b26(0x62c)]);break;case _0x2e4dcf['CloseVectorDatabase']:this[_0x467b26(0xae)](_0x4674c5[_0x467b26(0x108)][_0x467b26(0x5da)],_0x2477c2[_0x467b26(0x61d)][_0x467b26(0x406)]);break;case _0x2e4dcf[_0x467b26(0x8ab)]:this[_0x467b26(0xae)](_0x4674c5['content']['label'],_0x2477c2[_0x467b26(0x61d)][_0x467b26(0x283)]);break;case _0x2e4dcf['CloseJobDispatcher']:case _0x2e4dcf['CloseJobWorker']:this['handleCloseContent'](_0x4674c5['content'][_0x467b26(0x5da)],_0x2477c2[_0x467b26(0x61d)][_0x467b26(0x3ab)]);break;case _0x2e4dcf['RemoteMediaStreamTrackFail']:this[_0x467b26(0x399)][_0x467b26(0x16c)](_0x4674c5[_0x467b26(0x108)]);}}[_0x4d9d4f(0x2de)]({content:_0x954da3}){const _0x3fb198=_0x4d9d4f;_0x954da3[_0x3fb198(0x506)]===_0x52da1b[_0x3fb198(0x188)]&&this[_0x3fb198(0x860)](_0x954da3);}['handlePeerConnectionSystemEvents'](_0x339389){const _0x57bb2d=_0x4d9d4f;_0x339389['content'][_0x57bb2d(0x506)]===_0x774ff0[_0x57bb2d(0x529)]&&this[_0x57bb2d(0x399)]['handleOptimizationConnectionSuccess'](_0x339389['sourceId']);}[_0x4d9d4f(0x74f)](_0x2575ee,_0x30bd3){const _0x58f065=_0x4d9d4f;this[_0x58f065(0x399)][_0x58f065(0x74f)](_0x30bd3),this[_0x58f065(0x80b)][_0x58f065(0x74f)](_0x2575ee,_0x30bd3)[_0x58f065(0x1dc)](_0x294958=>this[_0x58f065(0x26f)][_0x58f065(0x817)](_0x294958));}[_0x4d9d4f(0x8aa)](_0x2f04b5,_0x43454f){const _0x59711d=_0x4d9d4f,_0x57e341=this[_0x59711d(0x80b)][_0x59711d(0x8aa)](_0x2f04b5,_0x43454f);if(_0x57e341&&(this[_0x59711d(0x26f)]['publish']({'sourceId':this['configs'][_0x59711d(0x772)]['getId'](),'destinationIds':[_0x2f04b5],'messageType':_0x2ba96e[_0x59711d(0x560)],'content':_0x57e341}),_0x57e341[_0x59711d(0x506)]===_0x4e7162[_0x59711d(0x5e8)]))throw new _0x2f0fdd('Restart\x20NeedMediaStream');}[_0x4d9d4f(0x1e6)](_0x1d2c42,_0x5c1fbf){const _0x4ecba5=_0x4d9d4f,_0x199a75=this[_0x4ecba5(0x80b)][_0x4ecba5(0x1e6)](_0x1d2c42,_0x5c1fbf);this[_0x4ecba5(0x26f)][_0x4ecba5(0x817)]({'sourceId':this['configs']['localNode'][_0x4ecba5(0x9a5)](),'destinationIds':[_0x1d2c42],'messageType':_0x2ba96e[_0x4ecba5(0x560)],'content':_0x199a75});}[_0x4d9d4f(0xae)](_0x2c92c8,_0x98699){const _0x682f07=_0x4d9d4f;this[_0x682f07(0x12a)](_0x2c92c8,_0x98699),this[_0x682f07(0x427)](_0x2c92c8,_0x98699);}[_0x4d9d4f(0x860)]({id:_0x4a35e1}){const _0x39e891=_0x4d9d4f;this['incomingManager'][_0x39e891(0x860)](_0x4a35e1),this[_0x39e891(0x80b)][_0x39e891(0x860)](_0x4a35e1);}}class _0x5218b9{['label'];['listener']=_0x27eca1();constructor(){this['label']=0x0;}[_0x4d9d4f(0x502)](){return this['label'];}[_0x4d9d4f(0x24e)](){const _0x3d93ff=_0x4d9d4f;return _0x2477c2[_0x3d93ff(0x61d)][_0x3d93ff(0x1e9)];}[_0x4d9d4f(0x4a0)](_0x210d34){_0x210d34['registerSystemPublisher'](this);}[_0x4d9d4f(0x40d)](_0x4e91a1){const _0x3bb784=_0x4d9d4f;_0x4e91a1[_0x3bb784(0x2bc)]();}[_0x4d9d4f(0x817)](_0x1c07e8){const _0x1aa5c9=_0x4d9d4f;_0x2644bc[_0x1aa5c9(0x5ad)](_0x1a98bf[_0x1aa5c9(0x4a1)],'SystemTopic\x20publish',_0x1c07e8[_0x1aa5c9(0x68c)],_0x1c07e8),this[_0x1aa5c9(0x25b)][_0x1aa5c9(0x817)]({'topicLabel':this[_0x1aa5c9(0x5da)],'contentType':_0x2477c2[_0x1aa5c9(0x61d)][_0x1aa5c9(0x1e9)],'uuid':_0x1c07e8[_0x1aa5c9(0x332)]??(0x0,_0x4246fa['v4'])(),'recipients':_0x1c07e8[_0x1aa5c9(0x2c2)]??[],..._0x1c07e8});}[_0x4d9d4f(0x3dd)](_0x3e7db3){const _0x3b3b28=_0x4d9d4f;return this[_0x3b3b28(0x25b)][_0x3b3b28(0x3dd)](_0x3e7db3);}}class _0x13827c{[_0x4d9d4f(0x6cc)];['ranges']=[];[_0x4d9d4f(0x6e0)];['remoteNodes']=new Map();[_0x4d9d4f(0x79b)]=_0x27eca1();constructor(_0x38cf94){const _0x38300d=_0x4d9d4f;this[_0x38300d(0x6cc)]=_0x38cf94,this[_0x38300d(0x6e0)]=(this[_0x38300d(0x6cc)][_0x38300d(0x582)]-0x2*this[_0x38300d(0x6cc)][_0x38300d(0x620)])/0x2,this['ranges'][_0x38300d(0x9e2)]({'start':0x1,'end':this[_0x38300d(0x177)](0x1,0x1)-0x1});for(let _0x155b61=0x0;_0x155b61<this[_0x38300d(0x6e0)];++_0x155b61)this[_0x38300d(0x802)][_0x38300d(0x9e2)]({'start':this[_0x38300d(0x177)](0x1,_0x155b61+0x1),'end':this['getNextTargetRank'](0x1,_0x155b61+0x2)-0x1});}[_0x4d9d4f(0x177)](_0x340cde,_0x35e79c=0x1){const _0x19be97=_0x4d9d4f;let _0x38a22b=this[_0x19be97(0x6cc)][_0x19be97(0x9a8)]-this['options'][_0x19be97(0x620)],_0x1e93aa=0x1;for(let _0x50e851=0x1;_0x50e851<_0x35e79c;++_0x50e851)_0x38a22b*=this[_0x19be97(0x6cc)][_0x19be97(0x9a8)]-this[_0x19be97(0x6cc)][_0x19be97(0x620)]-_0x50e851,_0x1e93aa*=this[_0x19be97(0x6cc)][_0x19be97(0x9a8)]-this[_0x19be97(0x6cc)][_0x19be97(0x620)]-_0x50e851+0x1;return _0x38a22b*this[_0x19be97(0x6cc)][_0x19be97(0x620)]+_0x340cde-_0x1e93aa;}[_0x4d9d4f(0x2b3)](_0x6237e6){const _0x4d9c0d=_0x4d9d4f;let _0x26c8cb=0x0;for(;this[_0x4d9c0d(0x802)][_0x26c8cb]['end']<_0x6237e6;)_0x26c8cb+=0x1;return _0x26c8cb;}[_0x4d9d4f(0x4a6)](){const _0x2b78b2=_0x4d9d4f;return this['options'][_0x2b78b2(0x620)];}[_0x4d9d4f(0x5d1)](){const _0x5453df=_0x4d9d4f;return this['options'][_0x5453df(0x582)];}[_0x4d9d4f(0x3c3)](){const _0x527808=_0x4d9d4f;return this[_0x527808(0x6cc)][_0x527808(0x9a8)];}[_0x4d9d4f(0x125)](){const _0x5db564=_0x4d9d4f;return this[_0x5db564(0x908)];}[_0x4d9d4f(0x302)](_0x4e1a5f,_0x334b1c){const _0x24fb97=_0x4d9d4f;this[_0x24fb97(0x908)][_0x24fb97(0xcd)](_0x4e1a5f,_0x334b1c),this[_0x24fb97(0x79b)][_0x24fb97(0x817)]();}['deleteRemoteNode'](_0x190265){const _0x23a306=_0x4d9d4f;this[_0x23a306(0x908)][_0x23a306(0x465)](_0x190265),this['nodeUpdate']['publish']();}[_0x4d9d4f(0x690)](_0x4ee40c){const _0x2c3349=_0x4d9d4f;return this[_0x2c3349(0x908)][_0x2c3349(0x8dd)](_0x4ee40c);}[_0x4d9d4f(0x2f6)](_0x3d30b7){const _0x397022=_0x4d9d4f;return this['remoteNodes'][_0x397022(0x29f)](_0x3d30b7);}[_0x4d9d4f(0x496)](_0x30b1b6,_0xd4af9e){const _0x2bfb48=_0x4d9d4f,_0x294717=this[_0x2bfb48(0x2f6)](_0xd4af9e)?.[_0x2bfb48(0x64e)]()??0x0;return _0x30b1b6[_0x2bfb48(0x473)](_0x2db491=>this[_0x2bfb48(0x2f6)](_0x2db491))[_0x2bfb48(0x64c)](_0x584ee6=>void 0x0!==_0x584ee6)['sort']((_0x22d685,_0x1b05ee)=>Math['abs'](_0x294717-(_0x22d685&&_0x22d685[_0x2bfb48(0x64e)]()||0x1/0x0))-Math[_0x2bfb48(0x661)](_0x294717-(_0x1b05ee&&_0x1b05ee[_0x2bfb48(0x64e)]()||0x1/0x0)))[_0x2bfb48(0x473)](_0x242225=>_0x242225['getId']());}['onNodeUpdate'](_0x15845a){const _0x2a6df5=_0x4d9d4f;return this[_0x2a6df5(0x79b)][_0x2a6df5(0x3dd)](_0x15845a);}}class _0x30b4ad{['vendorId'];['clusterId'];[_0x4d9d4f(0x756)];[_0x4d9d4f(0x9ce)];[_0x4d9d4f(0x6cc)];[_0x4d9d4f(0x89a)];[_0x4d9d4f(0x13b)];['contentManager'];[_0x4d9d4f(0x68b)];[_0x4d9d4f(0x173)];[_0x4d9d4f(0x93c)];[_0x4d9d4f(0x576)];[_0x4d9d4f(0x682)];['nodeManager'];[_0x4d9d4f(0x519)];[_0x4d9d4f(0x26f)]=new _0x5218b9();[_0x4d9d4f(0x4a9)];['localNode'];constructor(_0xc98770,_0x54fafd,_0x5715c7,_0x2edcf9,_0x27aac6,_0x2bd02e,_0x76eedb){const _0x2c9424=_0x4d9d4f;switch(this[_0x2c9424(0x4e6)]=_0xc98770,this[_0x2c9424(0x95e)]=_0x54fafd,this[_0x2c9424(0x756)]=_0x5715c7,this[_0x2c9424(0x9ce)]=_0x2edcf9,this[_0x2c9424(0x6cc)]=_0x27aac6,this[_0x2c9424(0x89a)]=_0x2bd02e,this[_0x2c9424(0x13b)]=_0x76eedb,_0x5715c7[_0x2c9424(0x506)]){case _0x2477c2[_0x2c9424(0x94f)]['User']:this[_0x2c9424(0x772)]=new _0x3215be(_0x5715c7[_0x2c9424(0x9a5)](),_0x5715c7[_0x2c9424(0x997)](),_0x5715c7['getEmail']());break;case _0x2477c2['NodeType'][_0x2c9424(0x4ec)]:default:this[_0x2c9424(0x772)]=new _0x405ae3(_0x5715c7[_0x2c9424(0x9a5)]());}const _0x401ac7=this[_0x2c9424(0x68f)]();this[_0x2c9424(0x519)]=new _0x13827c(this[_0x2c9424(0x6cc)]),this[_0x2c9424(0x89f)]=new _0x25c757(_0x401ac7,this[_0x2c9424(0x6cc)],this[_0x2c9424(0x89a)][_0x2c9424(0x6a6)],this['configs'][_0x2c9424(0x559)]),this['connectionManager']=new _0x4bdd64(_0x401ac7,this[_0x2c9424(0x9ce)],this[_0x2c9424(0x519)],this['configs']['iceServers'],this[_0x2c9424(0x6cc)]),this[_0x2c9424(0x173)]=new _0x5411cf(_0x401ac7,this[_0x2c9424(0x6cc)]['maxOutgoingSubscriptions'],this[_0x2c9424(0x519)][_0x2c9424(0x3c3)]()),this[_0x2c9424(0x93c)]=new _0x3690c1(_0x401ac7),this[_0x2c9424(0x576)]=new _0x36f8ec(_0x401ac7),this[_0x2c9424(0x682)]=new _0x102797(_0x401ac7),this[_0x2c9424(0x6c6)]=new _0x5d40e2(_0x401ac7,this[_0x2c9424(0x519)]),this[_0x2c9424(0x4a9)]=this[_0x2c9424(0x29a)]();}[_0x4d9d4f(0x285)](){const _0x51f1c5=_0x4d9d4f,_0x58e7f2=this[_0x51f1c5(0x68f)]();this[_0x51f1c5(0x68b)]=new _0x4bdd64(_0x58e7f2,this[_0x51f1c5(0x9ce)],this['graphService'],this[_0x51f1c5(0x89a)][_0x51f1c5(0x7c0)],this[_0x51f1c5(0x6cc)]),this['subscriptionManager']=new _0x5411cf(_0x58e7f2,this[_0x51f1c5(0x6cc)][_0x51f1c5(0x81e)],this[_0x51f1c5(0x519)]['getMaxDistance']()),this[_0x51f1c5(0x93c)]=new _0x3690c1(_0x58e7f2),this[_0x51f1c5(0x576)]=new _0x36f8ec(_0x58e7f2),this['remediationManager']=new _0x102797(_0x58e7f2),this[_0x51f1c5(0x6c6)]=new _0x5d40e2(_0x58e7f2,this[_0x51f1c5(0x519)]);const _0x367bbd=this[_0x51f1c5(0x68b)][_0x51f1c5(0x42b)]();this['contentManager'][_0x51f1c5(0x93d)]()[_0x51f1c5(0x1dc)](_0x5cfff8=>{const _0x127f4c=_0x51f1c5;this['subscriptionManager']['createOutgoingSubscription'](_0x5cfff8,_0x367bbd),this['subscriptionManager'][_0x127f4c(0x5ba)](_0x367bbd,_0x5cfff8),_0x5cfff8[_0x127f4c(0x934)]();}),this[_0x51f1c5(0x89f)][_0x51f1c5(0x204)]()[_0x51f1c5(0x1dc)](_0xb8cf18=>{const _0xcd929e=_0x51f1c5;this[_0xcd929e(0x173)][_0xcd929e(0x331)](_0xb8cf18,_0x367bbd),this[_0xcd929e(0x173)][_0xcd929e(0x5ba)](_0x367bbd,_0xb8cf18),_0xb8cf18[_0xcd929e(0x934)](),_0xb8cf18[_0xcd929e(0x7a6)]();}),this['contentManager'][_0x51f1c5(0x340)]()[_0x51f1c5(0x1dc)](_0x29e89=>{const _0x41057a=_0x51f1c5;this['subscriptionManager'][_0x41057a(0x331)](_0x29e89,_0x367bbd),this[_0x41057a(0x173)][_0x41057a(0x5ba)](_0x367bbd,_0x29e89),_0x29e89[_0x41057a(0x934)](),this[_0x41057a(0x498)](_0x29e89);}),this[_0x51f1c5(0x89f)][_0x51f1c5(0x6d2)]()['forEach'](_0x294a95=>{const _0x1d9926=_0x51f1c5;this[_0x1d9926(0x173)]['createOutgoingSubscription'](_0x294a95,_0x367bbd),this['subscriptionManager'][_0x1d9926(0x5ba)](_0x367bbd,_0x294a95),_0x294a95[_0x1d9926(0x934)]();}),this[_0x51f1c5(0x89f)][_0x51f1c5(0x26b)]()[_0x51f1c5(0x1dc)](_0x10f074=>{const _0xecd962=_0x51f1c5;this[_0xecd962(0x173)][_0xecd962(0x331)](_0x10f074,_0x367bbd),this['subscriptionManager'][_0xecd962(0x5ba)](_0x367bbd,_0x10f074),_0x10f074[_0xecd962(0x934)]();}),this['contentManager']['getVectorDatabases']()[_0x51f1c5(0x1dc)](_0x341802=>{const _0x51cd5e=_0x51f1c5;this[_0x51cd5e(0x173)][_0x51cd5e(0x331)](_0x341802,_0x367bbd),this[_0x51cd5e(0x173)][_0x51cd5e(0x5ba)](_0x367bbd,_0x341802),_0x341802[_0x51cd5e(0x934)]();}),this[_0x51f1c5(0x89f)][_0x51f1c5(0x370)]()[_0x51f1c5(0x1dc)](_0x5ce1e6=>{const _0x5aca30=_0x51f1c5;this['subscriptionManager']['createOutgoingSubscription'](_0x5ce1e6,_0x367bbd),this[_0x5aca30(0x173)][_0x5aca30(0x5ba)](_0x367bbd,_0x5ce1e6),_0x5ce1e6[_0x5aca30(0x934)]();}),this['systemTopicUnsubscribe']=this[_0x51f1c5(0x29a)]();}[_0x4d9d4f(0x118)](_0x33939f){const _0x2f3c4e=_0x4d9d4f;try{this[_0x2f3c4e(0x26f)]['registerSource'](_0x33939f);}catch(_0x85f777){this[_0x2f3c4e(0x864)](_0x85f777,{});}}[_0x4d9d4f(0x3a5)](_0xf0bfe9){const _0x5385fb=_0x4d9d4f;try{this[_0x5385fb(0x26f)][_0x5385fb(0x40d)](_0xf0bfe9);}catch(_0x34430c){this[_0x5385fb(0x864)](_0x34430c,{});}}[_0x4d9d4f(0x668)](_0x41ba01,_0x198e27){const _0x3b9c80=_0x4d9d4f;return this[_0x3b9c80(0x68b)][_0x3b9c80(0x668)](_0x41ba01,_0x198e27);}[_0x4d9d4f(0x464)](_0x17206c){const _0x231215=_0x4d9d4f;try{return this[_0x231215(0x68b)][_0x231215(0x464)](_0x17206c);}catch(_0x1d45ac){throw this['handleError'](_0x1d45ac,{});}}[_0x4d9d4f(0x951)](_0x5c5d04){const _0x97723b=_0x4d9d4f;try{return this['connectionManager']['getConnections'](_0x5c5d04);}catch(_0x1a1414){throw this[_0x97723b(0x864)](_0x1a1414,{});}}['getRemoteMediaStream'](_0x56f9e1,_0x18dd3c){const _0x25a7cd=_0x4d9d4f;try{return this[_0x25a7cd(0x89f)][_0x25a7cd(0x592)](_0xc6bdd2=>_0xc6bdd2['getOwnerId']()===_0x56f9e1&&_0xc6bdd2[_0x25a7cd(0x502)]()===_0x18dd3c)[0x0];}catch(_0x2ce641){throw this['handleError'](_0x2ce641,{});}}[_0x4d9d4f(0x6ae)](_0x514a11){const _0xef5a90=_0x4d9d4f;try{return this['contentManager']['getLocalMediaStreams'](_0x474d8b=>_0x474d8b['getLabel']()===_0x514a11)[0x0];}catch(_0x157cc1){throw this[_0xef5a90(0x864)](_0x157cc1,{});}}['notifyCluster']=(..._0x1cf578)=>{const _0x37a87c=_0x4d9d4f;try{return this['clusterEventEmitter'][_0x37a87c(0x79d)](..._0x1cf578);}catch(_0x2ad565){throw this[_0x37a87c(0x864)](_0x2ad565,{});}};[_0x4d9d4f(0x527)](_0x46bd87){const _0x34a8f6=_0x4d9d4f;try{this[_0x34a8f6(0x93c)][_0x34a8f6(0x58b)](_0x46bd87);}catch(_0x1671f1){throw this[_0x34a8f6(0x864)](_0x1671f1,{});}}[_0x4d9d4f(0x4ad)](_0x374a17){const _0x54def7=_0x4d9d4f;try{this[_0x54def7(0x93c)][_0x54def7(0x2ce)](_0x374a17);}catch(_0x194ab5){throw this[_0x54def7(0x864)](_0x194ab5,{});}}[_0x4d9d4f(0x774)](_0x246a7c){const _0x4e4be9=_0x4d9d4f;return this[_0x4e4be9(0x68b)][_0x4e4be9(0x774)](_0x246a7c);}async['initialize'](){const _0x492974=_0x4d9d4f;try{await this['connectionManager']['initialize']();const _0x2a26d9=await this['nodeManager'][_0x492974(0x13d)]();for(const _0x174e35 of _0x2a26d9)this[_0x492974(0x68b)][_0x492974(0x668)](_0x174e35);}catch(_0xb4de85){throw this[_0x492974(0x864)](_0xb4de85,{});}}[_0x4d9d4f(0x327)](_0x2a50ea){const _0x5a362b=_0x4d9d4f;this[_0x5a362b(0x772)][_0x5a362b(0x506)]===_0x2477c2['NodeType']['User']&&(this['localNode'][_0x5a362b(0x50f)](_0x2a50ea['getEmail']()),this[_0x5a362b(0x772)][_0x5a362b(0x449)](_0x2a50ea['getDisplayName']()));}[_0x4d9d4f(0x6d7)]({force:_0x28bcd4=!0x1},_0x2fde9c=!0x1){const _0xaf120=_0x4d9d4f;if(_0x2644bc[_0xaf120(0xd0)](_0xaf120(0xd1),{'clusterId':this[_0xaf120(0x95e)],'nodeId':this['localNode'][_0xaf120(0x9a5)](),'nodeType':this[_0xaf120(0x772)]['type']}),!_0x28bcd4&&this[_0xaf120(0x68b)][_0xaf120(0x60f)]())throw new _0x2554b3(_0x17f7da[_0xaf120(0x927)],_0xaf120(0x8fa));_0x2644bc[_0xaf120(0x883)](),this[_0xaf120(0x4a9)](),this[_0xaf120(0x682)]['close'](),this[_0xaf120(0x576)][_0xaf120(0x6d7)](),this[_0xaf120(0x93c)][_0xaf120(0x6d7)](),this[_0xaf120(0x173)][_0xaf120(0x6d7)](),this['connectionManager']['close'](),this[_0xaf120(0x89f)]['close'](_0x2fde9c),this[_0xaf120(0x6c6)][_0xaf120(0x6d7)]();}['openPubSubTopic'](_0x4f9738){const _0x1c679e=_0x4d9d4f;try{const _0x35c363=this[_0x1c679e(0x89f)][_0x1c679e(0x1db)](_0x4f9738),_0xa0af83=this[_0x1c679e(0x68b)][_0x1c679e(0x42b)]();return this[_0x1c679e(0x173)][_0x1c679e(0x331)](_0x35c363,_0xa0af83),this[_0x1c679e(0x173)][_0x1c679e(0x5ba)](_0xa0af83,_0x35c363),_0x35c363;}catch(_0x20bd89){throw this[_0x1c679e(0x864)](_0x20bd89,{});}}async[_0x4d9d4f(0x2fc)](_0x28c52a,_0x43f646){const _0x579fb9=_0x4d9d4f;try{const _0x2846a2=this[_0x579fb9(0x89f)]['createObjectStoreBucket'](_0x28c52a,this['options'][_0x579fb9(0x408)],_0x43f646),_0x1dd2d4=this[_0x579fb9(0x68b)][_0x579fb9(0x42b)]();return this['subscriptionManager'][_0x579fb9(0x331)](_0x2846a2,_0x1dd2d4),this['subscriptionManager'][_0x579fb9(0x5ba)](_0x1dd2d4,_0x2846a2),await _0x2846a2[_0x579fb9(0x7a6)](),_0x2846a2;}catch(_0x171601){throw this[_0x579fb9(0x864)](_0x171601,{});}}async['openExternalStorageConnection'](_0x4df6ad,_0x10e8b9){const _0x441e77=_0x4d9d4f;try{if(!this[_0x441e77(0x6cc)]['externalStorageConnectors'])throw new _0x2554b3(_0x17f7da[_0x441e77(0x25a)],_0x441e77(0x37a));if(!(this[_0x441e77(0x756)]instanceof _0x564125))throw new _0x2554b3(_0x17f7da['NodeInvalidType'],'Node\x20is\x20not\x20an\x20agent');const _0x52e4df=this[_0x441e77(0x6cc)][_0x441e77(0x136)][_0x441e77(0x29f)](_0x10e8b9);if(!_0x52e4df)throw new _0x2554b3(_0x17f7da[_0x441e77(0x25a)],_0x441e77(0x37a));const _0x1ef525=this[_0x441e77(0x89f)][_0x441e77(0x4d0)](_0x4df6ad,_0x52e4df),_0x4d0491=this[_0x441e77(0x68b)][_0x441e77(0x42b)]();return this[_0x441e77(0x173)][_0x441e77(0x331)](_0x1ef525,_0x4d0491),this['subscriptionManager'][_0x441e77(0x5ba)](_0x4d0491,_0x1ef525),await _0x1ef525['open'](),_0x1ef525;}catch(_0x36242e){throw this[_0x441e77(0x864)](_0x36242e,{});}}async[_0x4d9d4f(0x722)](_0x841a8a,_0x3a3d88,_0x31d5b4){const _0x5f22a6=_0x4d9d4f;try{_0x31d5b4=_0x31d5b4||this[_0x5f22a6(0x6cc)]['keyValueDatabaseConnector'];const _0x3c77bf=await this['contentManager']['createKeyValueDatabase'](_0x841a8a,_0x3a3d88,_0x31d5b4),_0x38b28b=this[_0x5f22a6(0x68b)][_0x5f22a6(0x42b)]();return this[_0x5f22a6(0x173)]['createOutgoingSubscription'](_0x3c77bf,_0x38b28b),this[_0x5f22a6(0x173)][_0x5f22a6(0x5ba)](_0x38b28b,_0x3c77bf),await _0x3c77bf['open'](),this[_0x5f22a6(0x498)](_0x3c77bf),_0x3c77bf;}catch(_0x507b48){throw this[_0x5f22a6(0x864)](_0x507b48,{});}}async['openJobDispatcher'](_0x4b7212){const _0x1546bb=_0x4d9d4f;try{const _0x2ba0fd=await this['contentManager'][_0x1546bb(0x356)](_0x4b7212,this['graphService']),_0x30e88=this[_0x1546bb(0x68b)][_0x1546bb(0x42b)]();return this[_0x1546bb(0x173)][_0x1546bb(0x331)](_0x2ba0fd,_0x30e88),this[_0x1546bb(0x173)]['createIncomingSubscription'](_0x30e88,_0x2ba0fd),_0x2ba0fd[_0x1546bb(0x285)](),_0x2ba0fd;}catch(_0x571055){throw this[_0x1546bb(0x864)](_0x571055,{});}}async[_0x4d9d4f(0x324)](_0x27dac0){const _0x466c9d=_0x4d9d4f;throw new Error(_0x466c9d(0x1d3));}async[_0x4d9d4f(0x8a2)](_0x47e3b5){const _0x136c04=_0x4d9d4f;try{const _0x5c2c4d=await this[_0x136c04(0x89f)][_0x136c04(0x3ea)](_0x47e3b5,this['graphService']),_0x125aa4=this[_0x136c04(0x68b)]['getConnectionGroup']();return this[_0x136c04(0x173)][_0x136c04(0x331)](_0x5c2c4d,_0x125aa4),this[_0x136c04(0x173)]['createIncomingSubscription'](_0x125aa4,_0x5c2c4d),_0x5c2c4d['open'](),_0x5c2c4d;}catch(_0x2661be){throw console[_0x136c04(0x716)](_0x2661be),this[_0x136c04(0x864)](_0x2661be,{});}}async[_0x4d9d4f(0x2be)](_0x487f55){const _0x5e7666=_0x4d9d4f;try{if(!this['options'][_0x5e7666(0x90e)]||!this[_0x5e7666(0x6cc)][_0x5e7666(0x6f4)]||!this[_0x5e7666(0x6cc)][_0x5e7666(0x4de)])throw new _0x2554b3(_0x17f7da[_0x5e7666(0x99c)],_0x5e7666(0x326));if(!(this[_0x5e7666(0x756)]instanceof _0x564125))throw new _0x2554b3(_0x17f7da[_0x5e7666(0x80c)],_0x5e7666(0x3c5));const _0x4f0998=[];for(const _0x40ab6a of this[_0x5e7666(0x6cc)][_0x5e7666(0x90e)])_0x4f0998[_0x5e7666(0x9e2)](new _0x40ab6a());const _0x795ddb=new this[(_0x5e7666(0x6cc))][(_0x5e7666(0x6f4))](),_0x3ed3b5=new this['options'][(_0x5e7666(0x4de))]();let _0x1a87d5,_0x1f5563,_0x498139;this[_0x5e7666(0x6cc)][_0x5e7666(0x850)]&&(_0x1a87d5=new this[(_0x5e7666(0x6cc))]['searchConnector']()),this[_0x5e7666(0x6cc)][_0x5e7666(0x336)]&&(_0x1f5563=new this[(_0x5e7666(0x6cc))][(_0x5e7666(0x336))]()),this[_0x5e7666(0x6cc)]['queryFileConnector']&&(_0x498139=new this[(_0x5e7666(0x6cc))][(_0x5e7666(0x1c5))]());const _0x5c4ad3=await this['contentManager'][_0x5e7666(0x3c0)](_0x487f55,this[_0x5e7666(0x756)],_0x4f0998,_0x795ddb,_0x3ed3b5,_0x1a87d5,_0x1f5563,_0x498139),_0x502d3a=this[_0x5e7666(0x68b)][_0x5e7666(0x42b)]();this[_0x5e7666(0x173)][_0x5e7666(0x331)](_0x5c4ad3,_0x502d3a),this['subscriptionManager'][_0x5e7666(0x5ba)](_0x502d3a,_0x5c4ad3);const _0x2eecdf=this[_0x5e7666(0x6c6)][_0x5e7666(0xde)]();return await _0x5c4ad3[_0x5e7666(0x285)](0x0===_0x2eecdf[_0x5e7666(0x99a)]||void 0x0),_0x5c4ad3;}catch(_0x5de417){throw this[_0x5e7666(0x864)](_0x5de417,{});}}[_0x4d9d4f(0x20f)](_0x123e02){const _0x1c5291=_0x4d9d4f;try{if(!this['options'][_0x1c5291(0x2c3)])throw new _0x2554b3(_0x17f7da['GraphDatabaseMissingConnector'],_0x1c5291(0x8d0));if(!(this[_0x1c5291(0x756)]instanceof _0x564125))throw new _0x2554b3(_0x17f7da[_0x1c5291(0x80c)],_0x1c5291(0x3c5));const _0x4dc4db=this[_0x1c5291(0x89f)][_0x1c5291(0x788)](_0x123e02,this[_0x1c5291(0x6cc)][_0x1c5291(0x2c3)]),_0x14027c=this['connectionManager']['getConnectionGroup']();return this[_0x1c5291(0x173)]['createOutgoingSubscription'](_0x4dc4db,_0x14027c),this[_0x1c5291(0x173)][_0x1c5291(0x5ba)](_0x14027c,_0x4dc4db),_0x4dc4db;}catch(_0x50e825){throw this[_0x1c5291(0x864)](_0x50e825,{});}}[_0x4d9d4f(0xb8)](_0x45eeba){const _0x2f666b=_0x4d9d4f;try{if(!this['options'][_0x2f666b(0x94b)])throw new _0x2554b3(_0x17f7da[_0x2f666b(0x902)],_0x2f666b(0x839));if(!(this[_0x2f666b(0x756)]instanceof _0x564125))throw new _0x2554b3(_0x17f7da['NodeInvalidType'],_0x2f666b(0x3c5));const _0x1a5e25=this[_0x2f666b(0x89f)][_0x2f666b(0x4c4)](_0x45eeba,this[_0x2f666b(0x6cc)][_0x2f666b(0x94b)]),_0x4630ef=this[_0x2f666b(0x68b)][_0x2f666b(0x42b)]();return this[_0x2f666b(0x173)][_0x2f666b(0x331)](_0x1a5e25,_0x4630ef),this[_0x2f666b(0x173)][_0x2f666b(0x5ba)](_0x4630ef,_0x1a5e25),_0x1a5e25;}catch(_0x3b8b4f){throw this[_0x2f666b(0x864)](_0x3b8b4f,{});}}[_0x4d9d4f(0x93d)](_0x37502e){const _0x3b6a01=_0x4d9d4f;try{return this[_0x3b6a01(0x89f)][_0x3b6a01(0x93d)](_0x37502e);}catch(_0x577080){throw this[_0x3b6a01(0x864)](_0x577080,{});}}[_0x4d9d4f(0x204)](_0x1b1242){const _0x228fe2=_0x4d9d4f;try{return this[_0x228fe2(0x89f)][_0x228fe2(0x204)](_0x1b1242);}catch(_0x4cfac9){throw this['handleError'](_0x4cfac9,{});}}['getExternalStorageConnections'](_0x582ca1){const _0x43c45b=_0x4d9d4f;try{return this[_0x43c45b(0x89f)][_0x43c45b(0x335)](_0x582ca1);}catch(_0x2ffddc){throw this[_0x43c45b(0x864)](_0x2ffddc,{});}}['getKeyValueDatabases'](_0x4a6504){const _0x4adef6=_0x4d9d4f;try{return this['contentManager']['getKeyValueDatabases'](_0x4a6504);}catch(_0x5a0715){throw this[_0x4adef6(0x864)](_0x5a0715,{});}}[_0x4d9d4f(0x3f6)](_0x68463d){const _0x6f22e6=_0x4d9d4f;try{return this[_0x6f22e6(0x89f)]['getGenerativeAIContexts'](_0x68463d);}catch(_0x1f6589){throw this[_0x6f22e6(0x864)](_0x1f6589,{});}}[_0x4d9d4f(0x852)](_0x44ffe1){const _0x1d619f=_0x4d9d4f;try{return this[_0x1d619f(0x89f)][_0x1d619f(0x852)](_0x44ffe1);}catch(_0x4bb570){throw this['handleError'](_0x4bb570,{});}}[_0x4d9d4f(0x370)](_0x12fadd){const _0x58d3a6=_0x4d9d4f;try{return this[_0x58d3a6(0x89f)][_0x58d3a6(0x370)](_0x12fadd);}catch(_0x2f730a){throw this[_0x58d3a6(0x864)](_0x2f730a,{});}}[_0x4d9d4f(0x321)](_0x49e7e8,_0xb1b204){const _0x2c9bc2=_0x4d9d4f;if(!this['configs'][_0x2c9bc2(0x19d)][_0x2c9bc2(0x766)](_0x599c1b[_0x2c9bc2(0x6f7)]))throw new _0x2554b3(_0x17f7da[_0x2c9bc2(0x420)],_0x2c9bc2(0x1a4));try{return this[_0x2c9bc2(0x89f)][_0x2c9bc2(0x321)](_0x49e7e8,_0xb1b204);}catch(_0x5df581){throw this['handleError'](_0x5df581,{});}}['createLocalDynamicMediaStream'](_0x27c81c,_0x3b9e5d){const _0xa83def=_0x4d9d4f;if(!this[_0xa83def(0x89a)][_0xa83def(0x19d)][_0xa83def(0x766)](_0x599c1b[_0xa83def(0x6f7)]))throw new _0x2554b3(_0x17f7da[_0xa83def(0x420)],_0xa83def(0x1a4));try{return this[_0xa83def(0x89f)]['createLocalDynamicMediaStream'](_0x27c81c,_0x3b9e5d);}catch(_0x5026a1){throw this[_0xa83def(0x864)](_0x5026a1,{});}}['getLocalMediaStreams'](_0x10fe57){const _0x438ce7=_0x4d9d4f;if(!this[_0x438ce7(0x89a)][_0x438ce7(0x19d)][_0x438ce7(0x766)](_0x599c1b[_0x438ce7(0x6f7)]))throw new _0x2554b3(_0x17f7da['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager'][_0x438ce7(0x894)](_0x10fe57);}catch(_0x21ef09){throw this[_0x438ce7(0x864)](_0x21ef09,{});}}[_0x4d9d4f(0x592)](_0x3e8cc8){const _0x908e84=_0x4d9d4f;if(!this[_0x908e84(0x89a)][_0x908e84(0x19d)][_0x908e84(0x766)](_0x599c1b[_0x908e84(0x6f7)]))throw new _0x2554b3(_0x17f7da['FeatureNotEnabled'],_0x908e84(0x1a4));try{return this[_0x908e84(0x89f)][_0x908e84(0x592)](_0x3e8cc8);}catch(_0x8a878f){throw this[_0x908e84(0x864)](_0x8a878f,{});}}[_0x4d9d4f(0x979)](_0x40b17c){const _0x509ddf=_0x4d9d4f;try{return this[_0x509ddf(0x89f)][_0x509ddf(0x979)](_0x40b17c);}catch(_0x38b6ca){throw this['handleError'](_0x38b6ca,{});}}[_0x4d9d4f(0x93a)](_0x5a2947,_0x5bee99){const _0x2189be=_0x4d9d4f;return this[_0x2189be(0x6c6)]['getDistance'](_0x5a2947,_0x5bee99);}[_0x4d9d4f(0x663)](){const _0x29e108=_0x4d9d4f;return this[_0x29e108(0x6c6)][_0x29e108(0x663)]();}[_0x4d9d4f(0x125)](_0x1e7293){const _0x325a6f=_0x4d9d4f;try{return this[_0x325a6f(0x6c6)][_0x325a6f(0x125)](_0x1e7293);}catch(_0x58aca8){throw this[_0x325a6f(0x864)](_0x58aca8,{});}}[_0x4d9d4f(0x395)](){const _0x54fe65=_0x4d9d4f;return this[_0x54fe65(0x68b)][_0x54fe65(0x395)]();}['isNodeReady'](_0x1dee59){return this['nodeManager']['isNodeReady'](_0x1dee59);}async[_0x4d9d4f(0x75f)](_0x34c3b){const _0x49d3e8=_0x4d9d4f;try{if(_0x2644bc[_0x49d3e8(0x5ad)](_0x1a98bf[_0x49d3e8(0x4a1)],_0x49d3e8(0x1c2),this[_0x49d3e8(0x6c6)]['getLocalId'](),_0x34c3b),_0x87a977(_0x34c3b,this[_0x49d3e8(0x6c6)][_0x49d3e8(0x39f)]()))return void this[_0x49d3e8(0x68b)]['handleOutgoingSystemEvents'](_0x34c3b);switch(_0x34c3b[_0x49d3e8(0x7ca)]){case _0x2ba96e[_0x49d3e8(0x72b)]:this['statsManager'][_0x49d3e8(0x163)](_0x34c3b),this[_0x49d3e8(0x173)][_0x49d3e8(0x163)](_0x34c3b),this['contentManager']['handleContentSystemEvents'](_0x34c3b);break;case _0x2ba96e['Node']:this['subscriptionManager'][_0x49d3e8(0x2de)](_0x34c3b),this[_0x49d3e8(0x68b)]['handleNodeSystemEvents'](_0x34c3b),this[_0x49d3e8(0x89f)]['handleNodeSystemEvents'](_0x34c3b),this[_0x49d3e8(0x6c6)][_0x49d3e8(0x2de)](_0x34c3b);break;case _0x2ba96e['Detection']:this['remediationManager'][_0x49d3e8(0x390)](_0x34c3b);break;case _0x2ba96e[_0x49d3e8(0x92a)]:this[_0x49d3e8(0x682)][_0x49d3e8(0x450)](_0x34c3b);break;case _0x2ba96e[_0x49d3e8(0x5bb)]:this[_0x49d3e8(0x576)][_0x49d3e8(0x31b)](_0x34c3b);break;case _0x2ba96e['Subscription']:_0x34c3b[_0x49d3e8(0x108)][_0x49d3e8(0x506)]!==_0x4e7162['UnsubscribeMediaStream']?(this[_0x49d3e8(0x173)][_0x49d3e8(0x457)](_0x34c3b),this['contentManager'][_0x49d3e8(0x457)](_0x34c3b)):(this['contentManager'][_0x49d3e8(0x457)](_0x34c3b),this[_0x49d3e8(0x173)][_0x49d3e8(0x457)](_0x34c3b));break;case _0x2ba96e['PeerConnection']:await this['connectionManager']['handlePeerConnectionSystemEvents'](_0x34c3b),this[_0x49d3e8(0x93c)][_0x49d3e8(0x35c)](_0x34c3b),this[_0x49d3e8(0x6c6)][_0x49d3e8(0x35c)](_0x34c3b),this['subscriptionManager'][_0x49d3e8(0x35c)](_0x34c3b);}}catch(_0x3995cb){throw _0x2644bc[_0x49d3e8(0x7dc)](_0x49d3e8(0x75f),_0x3995cb),this[_0x49d3e8(0x864)](_0x3995cb,{});}}[_0x4d9d4f(0x864)](_0x1f7198,_0x3ff5d7){const _0x2680d8=_0x4d9d4f;if(!(_0x1f7198 instanceof _0x2f0fdd)){if(_0x1f7198 instanceof _0x2554b3)throw _0x1f7198;if(!(_0x1f7198 instanceof Error))throw new _0x2554b3(_0x17f7da['InternalSDKError'],_0x2680d8(0x3e0)+_0x1f7198);if(!(_0x1f7198 instanceof _0x56b2e7))throw new _0x2554b3(_0x17f7da[_0x2680d8(0x926)],_0x2680d8(0x4b4)+_0x1f7198['message']);switch(_0x1f7198['code']){case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x16d)]:case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x4bf)]:case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x603)]:case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x1f7)]:case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x627)]:case _0x56b2e7['codes'][_0x2680d8(0x8ed)]:case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x75c)]:case _0x56b2e7['codes'][_0x2680d8(0x971)]:case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x2a8)]:case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x918)]:case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x7ce)]:case _0x56b2e7[_0x2680d8(0x90b)][_0x2680d8(0x570)]:}throw _0x2644bc[_0x2680d8(0x716)]('sdk-internal-error:\x20'+_0x1f7198['message'],{'clusterId':this[_0x2680d8(0x95e)],'nodeId':this['localNode'][_0x2680d8(0x9a5)](),'nodeType':this[_0x2680d8(0x772)][_0x2680d8(0x506)]},_0x1f7198),new _0x2554b3(_0x17f7da[_0x2680d8(0x926)],_0x2680d8(0x711)+_0x1f7198[_0x2680d8(0x12c)]);}}[_0x4d9d4f(0x68f)](){const _0x1fe1d1=_0x4d9d4f;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this['clusterId'],'localNode':this[_0x1fe1d1(0x772)]};}[_0x4d9d4f(0x29a)](){const _0x5f9a5d=_0x4d9d4f;return this[_0x5f9a5d(0x26f)][_0x5f9a5d(0x3dd)](_0x55cfde=>{const _0x4b271a=_0x5f9a5d,_0x5e88f5=_0x58ef92(_0x55cfde,this[_0x4b271a(0x772)]['getId']()),_0x11f72a=_0x55cfde[_0x4b271a(0x7ca)]===_0x2ba96e[_0x4b271a(0x5bb)]||_0x55cfde[_0x4b271a(0x7ca)]===_0x2ba96e[_0x4b271a(0x60c)]&&_0x55cfde[_0x4b271a(0x108)][_0x4b271a(0x506)]===_0x774ff0['Stats']?_0x1a98bf[_0x4b271a(0x301)]:_0x1a98bf['System'];_0x2644bc[_0x4b271a(0x8a5)](_0x11f72a,_0x55cfde[_0x4b271a(0x332)]+_0x4b271a(0x445)+_0x5e88f5,_0x55cfde),this[_0x4b271a(0x75f)](_0x55cfde)[_0x4b271a(0x651)](_0x3211c2=>{console['error'](_0x3211c2);});});}async[_0x4d9d4f(0x498)](_0x4d797e){const _0x32cd6e=_0x4d9d4f,{timingLogger:_0x1bf272,logger:_0x59fa04,logBeforeSync:_0x144b9c,logAfterSync:_0x191918}=function(_0x2badf3,_0x4a9286){const _0x150aaf=a0_0x1399;if(!_0x2644bc['isChannelEnabled'](_0x4a9286))return _0x2644bc[_0x150aaf(0x7dc)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x4a9286),{..._0x3cced7(_0x2badf3,_0x4a9286),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x3155e7,logger:_0x539cc8}=_0x3cced7(_0x2badf3,_0x4a9286);let _0x20e788=0x0;return _0x20e788=Date[_0x150aaf(0x873)](),{'syncStartTime':_0x20e788,'timingLogger':_0x3155e7,'logger':_0x539cc8,'logBeforeSync':()=>(_0x19b534(_0x4a9286,_0x150aaf(0x3e4)),_0x3155e7[_0x150aaf(0x873)]()),'logAfterSync':(_0x3ff738,_0x1d1996)=>{const _0x3145de=_0x150aaf,_0x565952=Date[_0x3145de(0x873)]();_0x19b534(_0x4a9286,_0x3145de(0x258)+_0x1d1996);const _0x91689c=(_0x565952-_0x20e788)/0x3e8,_0x17bbec=(_0x565952-_0x3ff738)/0x3e8;_0x2644bc[_0x3145de(0x5ad)](_0x4a9286,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x2badf3,_0x3145de(0x74a)+_0x91689c[_0x3145de(0x7a9)](0x2)+_0x3145de(0x47c),_0x3145de(0x55c)+_0x17bbec[_0x3145de(0x7a9)](0x3)+_0x3145de(0x47c),_0x3145de(0x1bf)+((_0x565952-_0x20e788)/0x3e8-_0x17bbec)[_0x3145de(0x7a9)](0x2)+_0x3145de(0x47c));}};}(_0x4d797e['getLabel'](),_0x1a98bf[_0x32cd6e(0x62c)]);_0x59fa04[_0x32cd6e(0x5ad)](_0x32cd6e(0x562));const _0x2857fd=this[_0x32cd6e(0x6c6)][_0x32cd6e(0xde)]()[_0x32cd6e(0x99a)]>0x0;if(_0x2857fd){_0x59fa04[_0x32cd6e(0x5ad)]('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this[_0x32cd6e(0x6c6)][_0x32cd6e(0xde)]()),_0x1bf272[_0x32cd6e(0x540)](),await Promise['all'](this['nodeManager']['getAncestorIds']()[_0x32cd6e(0x473)](async _0x480c9e=>await this['nodeManager'][_0x32cd6e(0x593)](_0x480c9e)))[_0x32cd6e(0x651)](_0x3017fb=>_0x2644bc[_0x32cd6e(0xd0)](_0x32cd6e(0x947),{'nodeId':this['localNode'][_0x32cd6e(0x9a5)](),'nodeType':this[_0x32cd6e(0x772)][_0x32cd6e(0x506)]}));const _0x4088bb=_0x59fa04[_0x32cd6e(0x99b)](()=>this[_0x32cd6e(0x6c6)][_0x32cd6e(0xde)](),[]);_0x1bf272[_0x32cd6e(0x962)](_0x32cd6e(0x87f)+_0x4088bb+_0x32cd6e(0xdb));}_0x191918(_0x144b9c(),await _0x4d797e['sync'](_0x2857fd,async()=>{const _0x555ca3=_0x32cd6e;_0x1bf272[_0x555ca3(0x540)](),await this[_0x555ca3(0x6c6)][_0x555ca3(0x6b8)](),_0x1bf272['logWaitTime'](_0x555ca3(0x4fd)),_0x4d797e[_0x555ca3(0x7a6)](!0x0,()=>{const _0x489ce6=_0x555ca3;_0x59fa04[_0x489ce6(0x5ad)]('KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.'),_0x4d797e[_0x489ce6(0x7a6)](!0x1);},!0x0);}));}}class _0x29a9e5{[_0x4d9d4f(0x4e6)];[_0x4d9d4f(0x95e)];['authNode'];['eventEmitter'];[_0x4d9d4f(0x3d0)];constructor(_0x2d0ec5,_0x2e9dde,_0x5c21ee,_0x4ef876,_0x336693,_0x75b5fa,_0x330d77=new _0x3f844e()){const _0x386c71=_0x4d9d4f;this[_0x386c71(0x4e6)]=_0x2d0ec5,this[_0x386c71(0x95e)]=_0x2e9dde,this['authNode']=_0x5c21ee,this[_0x386c71(0x823)]=_0x330d77,this[_0x386c71(0x3d0)]=new _0x30b4ad(this[_0x386c71(0x4e6)],this[_0x386c71(0x95e)],_0x5c21ee,_0x4ef876,_0x336693,_0x75b5fa,this);}async[_0x4d9d4f(0x6de)](){const _0x1a91ea=_0x4d9d4f;await this[_0x1a91ea(0x3d0)]['initialize'](),this[_0x1a91ea(0x756)][_0x1a91ea(0x506)]===_0x2477c2[_0x1a91ea(0x94f)]['User']&&this[_0x1a91ea(0x756)][_0x1a91ea(0x6a5)](this['clusterId'],_0x2b5e89=>{this['orchestrator']['updateUser'](_0x2b5e89);});}[_0x4d9d4f(0x643)](_0x4c5510={}){const _0x2f8e10=_0x4d9d4f;this[_0x2f8e10(0x3d0)][_0x2f8e10(0x6d7)](_0x4c5510),this[_0x2f8e10(0x756)]['type']===_0x2477c2['NodeType'][_0x2f8e10(0x7b9)]&&this['authNode'][_0x2f8e10(0xbb)](this['clusterId']),this[_0x2f8e10(0x79d)](_0x2f8e10(0x54b),void 0x0);}['openPubSubTopic'](_0x2f42d5){const _0x2644c5=_0x4d9d4f,_0x518d42=this[_0x2644c5(0x3d0)][_0x2644c5(0x1c7)](_0x2f42d5);return{'getName':_0x518d42['getName'][_0x2644c5(0x3b0)](_0x518d42),'getOwnerId':_0x518d42['getOwnerId']['bind'](_0x518d42),'getContentType':_0x518d42[_0x2644c5(0x24e)][_0x2644c5(0x3b0)](_0x518d42),'publish':_0x518d42['publish'][_0x2644c5(0x3b0)](_0x518d42),'subscribe':_0x518d42[_0x2644c5(0x3dd)][_0x2644c5(0x3b0)](_0x518d42),'unsubscribe':_0x518d42['unsubscribe']['bind'](_0x518d42),'close':_0x518d42[_0x2644c5(0x6d7)][_0x2644c5(0x3b0)](_0x518d42)};}async[_0x4d9d4f(0x2fc)](_0x109a9b,_0x40a6e4){const _0x38f29c=_0x4d9d4f,_0x22f07c=await this[_0x38f29c(0x3d0)][_0x38f29c(0x2fc)](_0x109a9b,_0x40a6e4);return{'getName':_0x22f07c[_0x38f29c(0xe6)][_0x38f29c(0x3b0)](_0x22f07c),'getOwnerId':_0x22f07c[_0x38f29c(0x38b)][_0x38f29c(0x3b0)](_0x22f07c),'getContentType':_0x22f07c[_0x38f29c(0x24e)][_0x38f29c(0x3b0)](_0x22f07c),'publish':_0x22f07c[_0x38f29c(0x817)][_0x38f29c(0x3b0)](_0x22f07c),'unpublish':_0x22f07c[_0x38f29c(0x352)]['bind'](_0x22f07c),'get':_0x22f07c[_0x38f29c(0x29f)][_0x38f29c(0x3b0)](_0x22f07c),'list':_0x22f07c['list']['bind'](_0x22f07c),'getSize':_0x22f07c[_0x38f29c(0x61c)][_0x38f29c(0x3b0)](_0x22f07c),'subscribe':_0x22f07c[_0x38f29c(0x3dd)]['bind'](_0x22f07c),'unsubscribe':_0x22f07c[_0x38f29c(0x4f9)]['bind'](_0x22f07c),'close':_0x22f07c['close']['bind'](_0x22f07c)};}async[_0x4d9d4f(0x830)](_0x516bdc,_0x50dc60){const _0x1bed74=_0x4d9d4f,_0x95dc9d=await this[_0x1bed74(0x3d0)][_0x1bed74(0x830)](_0x516bdc,_0x50dc60);return{'getName':_0x95dc9d[_0x1bed74(0xe6)][_0x1bed74(0x3b0)](_0x95dc9d),'getOwnerId':_0x95dc9d['getOwnerId'][_0x1bed74(0x3b0)](_0x95dc9d),'getContentType':_0x95dc9d[_0x1bed74(0x24e)][_0x1bed74(0x3b0)](_0x95dc9d),'close':_0x95dc9d[_0x1bed74(0x6d7)][_0x1bed74(0x3b0)](_0x95dc9d),'get':_0x95dc9d[_0x1bed74(0x29f)]['bind'](_0x95dc9d),'list':_0x95dc9d[_0x1bed74(0x710)][_0x1bed74(0x3b0)](_0x95dc9d),'subscribe':_0x95dc9d[_0x1bed74(0x3dd)][_0x1bed74(0x3b0)](_0x95dc9d),'unsubscribe':_0x95dc9d[_0x1bed74(0x4f9)][_0x1bed74(0x3b0)](_0x95dc9d)};}async[_0x4d9d4f(0x722)](_0x113de5,_0x24bf24,_0x7d4624){const _0x153786=_0x4d9d4f,_0x2248b8=await this[_0x153786(0x3d0)][_0x153786(0x722)](_0x113de5,_0x24bf24,_0x7d4624);return{'getName':_0x2248b8[_0x153786(0xe6)][_0x153786(0x3b0)](_0x2248b8),'getOwnerId':_0x2248b8[_0x153786(0x38b)][_0x153786(0x3b0)](_0x2248b8),'getContentType':_0x2248b8[_0x153786(0x24e)][_0x153786(0x3b0)](_0x2248b8),'getTable':_0x2248b8['getTable'][_0x153786(0x3b0)](_0x2248b8),'subscribe':_0x2248b8[_0x153786(0x3dd)]['bind'](_0x2248b8),'unsubscribe':_0x2248b8[_0x153786(0x4f9)][_0x153786(0x3b0)](_0x2248b8),'close':_0x2248b8[_0x153786(0x6d7)][_0x153786(0x3b0)](_0x2248b8)};}async['openJobDispatcher'](_0x1cc47f){const _0x4efb59=_0x4d9d4f,_0x571460=await this[_0x4efb59(0x3d0)][_0x4efb59(0x4ab)](_0x1cc47f);return{'getName':_0x571460[_0x4efb59(0xe6)]['bind'](_0x571460),'getOwnerId':_0x571460[_0x4efb59(0x38b)]['bind'](_0x571460),'getContentType':_0x571460['getContentType']['bind'](_0x571460),'createJob':_0x571460[_0x4efb59(0x941)]['bind'](_0x571460),'getJob':_0x571460[_0x4efb59(0x12f)][_0x4efb59(0x3b0)](_0x571460),'getJobs':_0x571460[_0x4efb59(0x3d6)][_0x4efb59(0x3b0)](_0x571460),'close':_0x571460[_0x4efb59(0x6d7)][_0x4efb59(0x3b0)](_0x571460)};}async[_0x4d9d4f(0x324)](_0x29cdf4){const _0x653568=_0x4d9d4f,_0x33239a=await this[_0x653568(0x3d0)][_0x653568(0x324)](_0x29cdf4);return{'close':_0x33239a['close'][_0x653568(0x3b0)](_0x33239a)};}async['openGenerativeAIContext'](_0x4a0c9d){const _0x4832b5=_0x4d9d4f,_0x39f4ee=await this[_0x4832b5(0x3d0)]['openGenerativeAIContext'](_0x4a0c9d);return{'createAIJob':_0x39f4ee[_0x4832b5(0x796)]['bind'](_0x39f4ee),'ratePrompt':_0x39f4ee[_0x4832b5(0x662)][_0x4832b5(0x3b0)](_0x39f4ee),'downloadDocument':_0x39f4ee[_0x4832b5(0x964)][_0x4832b5(0x3b0)](_0x39f4ee),'search':_0x39f4ee[_0x4832b5(0x1f8)]['bind'](_0x39f4ee),'getDataBucketIds':_0x39f4ee[_0x4832b5(0x8ad)][_0x4832b5(0x3b0)](_0x39f4ee),'close':_0x39f4ee['close'][_0x4832b5(0x3b0)](_0x39f4ee)};}async[_0x4d9d4f(0x2be)](_0x5d7886){const _0xcfc33e=_0x4d9d4f,_0x1d7107=await this['orchestrator'][_0xcfc33e(0x2be)](_0x5d7886);return{'close':_0x1d7107[_0xcfc33e(0x6d7)]['bind'](_0x1d7107)};}[_0x4d9d4f(0x20f)](_0x17150e){const _0x325d7f=_0x4d9d4f,_0x85472f=this[_0x325d7f(0x3d0)][_0x325d7f(0x20f)](_0x17150e);return{'getName':_0x85472f[_0x325d7f(0xe6)][_0x325d7f(0x3b0)](_0x85472f),'getOwnerId':_0x85472f[_0x325d7f(0x38b)][_0x325d7f(0x3b0)](_0x85472f),'getContentType':_0x85472f['getContentType'][_0x325d7f(0x3b0)](_0x85472f),'addNode':_0x85472f[_0x325d7f(0x8ac)][_0x325d7f(0x3b0)](_0x85472f),'addEdge':_0x85472f[_0x325d7f(0x27d)][_0x325d7f(0x3b0)](_0x85472f),'getContent':_0x85472f[_0x325d7f(0x4cd)][_0x325d7f(0x3b0)](_0x85472f),'remove':_0x85472f['remove']['bind'](_0x85472f),'saveToDisk':_0x85472f[_0x325d7f(0x381)][_0x325d7f(0x3b0)](_0x85472f),'loadFromDisk':_0x85472f['loadFromDisk']['bind'](_0x85472f),'close':_0x85472f[_0x325d7f(0x6d7)][_0x325d7f(0x3b0)](_0x85472f)};}[_0x4d9d4f(0xb8)](_0x1fe442){const _0x3a5036=_0x4d9d4f,_0x36106f=this[_0x3a5036(0x3d0)][_0x3a5036(0xb8)](_0x1fe442);return{'getName':_0x36106f[_0x3a5036(0xe6)][_0x3a5036(0x3b0)](_0x36106f),'getOwnerId':_0x36106f['getOwnerId'][_0x3a5036(0x3b0)](_0x36106f),'getContentType':_0x36106f[_0x3a5036(0x24e)]['bind'](_0x36106f),'search':_0x36106f[_0x3a5036(0x1f8)][_0x3a5036(0x3b0)](_0x36106f),'insert':_0x36106f['insert'][_0x3a5036(0x3b0)](_0x36106f),'remove':_0x36106f[_0x3a5036(0x371)][_0x3a5036(0x3b0)](_0x36106f),'saveToDisk':_0x36106f[_0x3a5036(0x381)][_0x3a5036(0x3b0)](_0x36106f),'loadFromDisk':_0x36106f[_0x3a5036(0xc0)][_0x3a5036(0x3b0)](_0x36106f),'close':_0x36106f[_0x3a5036(0x6d7)][_0x3a5036(0x3b0)](_0x36106f)};}[_0x4d9d4f(0x93d)](_0x330a0b){const _0x58d388=_0x4d9d4f;return this['orchestrator'][_0x58d388(0x93d)](_0x330a0b)[_0x58d388(0x473)](_0x389e05=>({'getName':_0x389e05['getName'][_0x58d388(0x3b0)](_0x389e05),'getOwnerId':_0x389e05[_0x58d388(0x38b)]['bind'](_0x389e05),'getContentType':_0x389e05[_0x58d388(0x24e)][_0x58d388(0x3b0)](_0x389e05),'publish':_0x389e05['publish']['bind'](_0x389e05),'subscribe':_0x389e05[_0x58d388(0x3dd)]['bind'](_0x389e05),'unsubscribe':_0x389e05[_0x58d388(0x4f9)][_0x58d388(0x3b0)](_0x389e05),'close':_0x389e05[_0x58d388(0x6d7)]['bind'](_0x389e05)}));}[_0x4d9d4f(0x204)](_0x2192f4){const _0x1f78ac=_0x4d9d4f;return this[_0x1f78ac(0x3d0)]['getObjectStoreBuckets'](_0x2192f4)['map'](_0x7134b3=>({'getName':_0x7134b3[_0x1f78ac(0xe6)]['bind'](_0x7134b3),'getOwnerId':_0x7134b3[_0x1f78ac(0x38b)][_0x1f78ac(0x3b0)](_0x7134b3),'getContentType':_0x7134b3['getContentType'][_0x1f78ac(0x3b0)](_0x7134b3),'publish':_0x7134b3[_0x1f78ac(0x817)][_0x1f78ac(0x3b0)](_0x7134b3),'unpublish':_0x7134b3[_0x1f78ac(0x352)][_0x1f78ac(0x3b0)](_0x7134b3),'get':_0x7134b3[_0x1f78ac(0x29f)]['bind'](_0x7134b3),'list':_0x7134b3[_0x1f78ac(0x710)][_0x1f78ac(0x3b0)](_0x7134b3),'getSize':_0x7134b3[_0x1f78ac(0x61c)][_0x1f78ac(0x3b0)](_0x7134b3),'subscribe':_0x7134b3['subscribe'][_0x1f78ac(0x3b0)](_0x7134b3),'unsubscribe':_0x7134b3[_0x1f78ac(0x4f9)][_0x1f78ac(0x3b0)](_0x7134b3),'close':_0x7134b3[_0x1f78ac(0x6d7)][_0x1f78ac(0x3b0)](_0x7134b3)}));}[_0x4d9d4f(0x335)](_0x577814){const _0x9c8f88=_0x4d9d4f;return this[_0x9c8f88(0x3d0)]['getExternalStorageConnections'](_0x577814)[_0x9c8f88(0x473)](_0x540975=>({'getName':_0x540975['getName'][_0x9c8f88(0x3b0)](_0x540975),'getOwnerId':_0x540975[_0x9c8f88(0x38b)][_0x9c8f88(0x3b0)](_0x540975),'getContentType':_0x540975[_0x9c8f88(0x24e)][_0x9c8f88(0x3b0)](_0x540975),'close':_0x540975[_0x9c8f88(0x6d7)][_0x9c8f88(0x3b0)](_0x540975),'get':_0x540975[_0x9c8f88(0x29f)][_0x9c8f88(0x3b0)](_0x540975),'list':_0x540975['list']['bind'](_0x540975),'subscribe':_0x540975[_0x9c8f88(0x3dd)][_0x9c8f88(0x3b0)](_0x540975),'unsubscribe':_0x540975[_0x9c8f88(0x4f9)][_0x9c8f88(0x3b0)](_0x540975)}));}[_0x4d9d4f(0x340)](_0x5cdd1b){const _0x19ebfe=_0x4d9d4f;return this[_0x19ebfe(0x3d0)][_0x19ebfe(0x340)](_0x5cdd1b)[_0x19ebfe(0x473)](_0x5d58fd=>({'getName':_0x5d58fd[_0x19ebfe(0xe6)][_0x19ebfe(0x3b0)](_0x5d58fd),'getOwnerId':_0x5d58fd[_0x19ebfe(0x38b)][_0x19ebfe(0x3b0)](_0x5d58fd),'getContentType':_0x5d58fd[_0x19ebfe(0x24e)][_0x19ebfe(0x3b0)](_0x5d58fd),'getTable':_0x5d58fd[_0x19ebfe(0x217)]['bind'](_0x5d58fd),'subscribe':_0x5d58fd[_0x19ebfe(0x3dd)][_0x19ebfe(0x3b0)](_0x5d58fd),'unsubscribe':_0x5d58fd[_0x19ebfe(0x4f9)]['bind'](_0x5d58fd),'close':_0x5d58fd[_0x19ebfe(0x6d7)][_0x19ebfe(0x3b0)](_0x5d58fd)}));}[_0x4d9d4f(0x3f6)](_0x5b7033){const _0x536628=_0x4d9d4f;return this[_0x536628(0x3d0)][_0x536628(0x3f6)](_0x5b7033)[_0x536628(0x473)](_0xf57003=>({'createAIJob':_0xf57003[_0x536628(0x796)]['bind'](_0xf57003),'ratePrompt':_0xf57003[_0x536628(0x662)]['bind'](_0xf57003),'downloadDocument':_0xf57003[_0x536628(0x964)]['bind'](_0xf57003),'search':_0xf57003['search'][_0x536628(0x3b0)](_0xf57003),'getDataBucketIds':_0xf57003[_0x536628(0x8ad)]['bind'](_0xf57003),'close':_0xf57003[_0x536628(0x6d7)][_0x536628(0x3b0)](_0xf57003)}));}[_0x4d9d4f(0x852)](_0x5ac78d){const _0x179cbf=_0x4d9d4f;return this[_0x179cbf(0x3d0)][_0x179cbf(0x852)](_0x5ac78d)['map'](_0x309b2c=>({'close':_0x309b2c['close']['bind'](_0x309b2c)}));}[_0x4d9d4f(0x348)](_0x53c70e,_0x5605ea){const _0x33448c=_0x4d9d4f,_0x39488a=this['orchestrator'][_0x33448c(0x321)](_0x53c70e,_0x5605ea);return{'getLabel':_0x39488a[_0x33448c(0x502)][_0x33448c(0x3b0)](_0x39488a),'getOwnerId':_0x39488a[_0x33448c(0x38b)]['bind'](_0x39488a),'getContentType':_0x39488a[_0x33448c(0x24e)]['bind'](_0x39488a),'getMediaStream':_0x39488a[_0x33448c(0x39d)][_0x33448c(0x3b0)](_0x39488a),'setPriority':_0x39488a[_0x33448c(0x5cf)]['bind'](_0x39488a),'unpublish':_0x39488a[_0x33448c(0x352)][_0x33448c(0x3b0)](_0x39488a)};}[_0x4d9d4f(0x4e3)](_0x1da42a,_0x2d875f){const _0x2007f4=_0x4d9d4f,_0x410088=this[_0x2007f4(0x3d0)][_0x2007f4(0x72a)](_0x1da42a,_0x2d875f);return{'getLabel':_0x410088[_0x2007f4(0x502)]['bind'](_0x410088),'getOwnerId':_0x410088[_0x2007f4(0x38b)]['bind'](_0x410088),'getContentType':_0x410088['getContentType'][_0x2007f4(0x3b0)](_0x410088),'setPriority':_0x410088[_0x2007f4(0x5cf)]['bind'](_0x410088),'unpublish':_0x410088[_0x2007f4(0x352)]['bind'](_0x410088),'getMediaStream':_0x410088[_0x2007f4(0x39d)][_0x2007f4(0x3b0)](_0x410088),'addTrack':_0x410088[_0x2007f4(0x3db)][_0x2007f4(0x3b0)](_0x410088),'removeTrack':_0x410088['removeTrack'][_0x2007f4(0x3b0)](_0x410088),'replaceTrack':_0x410088[_0x2007f4(0x7d9)][_0x2007f4(0x3b0)](_0x410088),'setTransformations':_0x410088['setTransformations']['bind'](_0x410088)};}[_0x4d9d4f(0x894)](_0x4da776){const _0x927cc3=_0x4d9d4f;return this[_0x927cc3(0x3d0)][_0x927cc3(0x894)](_0x4da776)['map'](_0x47c816=>({'getLabel':_0x47c816['getLabel'][_0x927cc3(0x3b0)](_0x47c816),'getOwnerId':_0x47c816[_0x927cc3(0x38b)][_0x927cc3(0x3b0)](_0x47c816),'getContentType':_0x47c816['getContentType'][_0x927cc3(0x3b0)](_0x47c816),'getMediaStream':_0x47c816[_0x927cc3(0x39d)][_0x927cc3(0x3b0)](_0x47c816),'setPriority':_0x47c816[_0x927cc3(0x5cf)]['bind'](_0x47c816),'unpublish':_0x47c816[_0x927cc3(0x352)][_0x927cc3(0x3b0)](_0x47c816)}));}[_0x4d9d4f(0x592)](_0x3ab896){const _0x24af9e=_0x4d9d4f;return this[_0x24af9e(0x3d0)][_0x24af9e(0x592)](_0x3ab896)[_0x24af9e(0x473)](_0x5aa8d0=>({'getLabel':_0x5aa8d0['getLabel'][_0x24af9e(0x3b0)](_0x5aa8d0),'getOwnerId':_0x5aa8d0[_0x24af9e(0x38b)]['bind'](_0x5aa8d0),'getContentType':_0x5aa8d0['getContentType'][_0x24af9e(0x3b0)](_0x5aa8d0),'getMediaStream':_0x5aa8d0[_0x24af9e(0x39d)][_0x24af9e(0x3b0)](_0x5aa8d0),'subscribe':_0x5aa8d0['subscribe'][_0x24af9e(0x3b0)](_0x5aa8d0),'unsubscribe':_0x5aa8d0[_0x24af9e(0x4f9)][_0x24af9e(0x3b0)](_0x5aa8d0),'getAvailableTrackKinds':_0x5aa8d0[_0x24af9e(0x372)][_0x24af9e(0x3b0)](_0x5aa8d0),'update':_0x5aa8d0[_0x24af9e(0x1e8)]['bind'](_0x5aa8d0),'onProviderChange':_0x5aa8d0[_0x24af9e(0x8ec)][_0x24af9e(0x3b0)](_0x5aa8d0)}));}[_0x4d9d4f(0x370)](_0x4164ac){const _0x3936e=_0x4d9d4f;return this[_0x3936e(0x3d0)][_0x3936e(0x370)](_0x4164ac)[_0x3936e(0x473)](_0x1d79f9=>({'getName':_0x1d79f9[_0x3936e(0xe6)][_0x3936e(0x3b0)](_0x1d79f9),'getOwnerId':_0x1d79f9[_0x3936e(0x38b)][_0x3936e(0x3b0)](_0x1d79f9),'getContentType':_0x1d79f9['getContentType'][_0x3936e(0x3b0)](_0x1d79f9),'addNode':_0x1d79f9[_0x3936e(0x8ac)][_0x3936e(0x3b0)](_0x1d79f9),'addEdge':_0x1d79f9[_0x3936e(0x27d)]['bind'](_0x1d79f9),'getContent':_0x1d79f9[_0x3936e(0x4cd)][_0x3936e(0x3b0)](_0x1d79f9),'remove':_0x1d79f9[_0x3936e(0x371)][_0x3936e(0x3b0)](_0x1d79f9),'saveToDisk':_0x1d79f9[_0x3936e(0x381)][_0x3936e(0x3b0)](_0x1d79f9),'loadFromDisk':_0x1d79f9[_0x3936e(0xc0)][_0x3936e(0x3b0)](_0x1d79f9),'close':_0x1d79f9[_0x3936e(0x6d7)][_0x3936e(0x3b0)](_0x1d79f9)}));}[_0x4d9d4f(0x979)](_0x4f71e5){const _0x4c07a7=_0x4d9d4f;return this['orchestrator'][_0x4c07a7(0x979)](_0x4f71e5)[_0x4c07a7(0x473)](_0x5cd0ed=>({'getName':_0x5cd0ed[_0x4c07a7(0xe6)]['bind'](_0x5cd0ed),'getOwnerId':_0x5cd0ed[_0x4c07a7(0x38b)][_0x4c07a7(0x3b0)](_0x5cd0ed),'getContentType':_0x5cd0ed[_0x4c07a7(0x24e)][_0x4c07a7(0x3b0)](_0x5cd0ed),'search':_0x5cd0ed[_0x4c07a7(0x1f8)]['bind'](_0x5cd0ed),'insert':_0x5cd0ed[_0x4c07a7(0x400)][_0x4c07a7(0x3b0)](_0x5cd0ed),'remove':_0x5cd0ed[_0x4c07a7(0x371)][_0x4c07a7(0x3b0)](_0x5cd0ed),'saveToDisk':_0x5cd0ed[_0x4c07a7(0x381)]['bind'](_0x5cd0ed),'loadFromDisk':_0x5cd0ed[_0x4c07a7(0xc0)]['bind'](_0x5cd0ed),'close':_0x5cd0ed[_0x4c07a7(0x6d7)][_0x4c07a7(0x3b0)](_0x5cd0ed)}));}[_0x4d9d4f(0x663)](){const _0x2fa51e=_0x4d9d4f,_0x52989e=this['orchestrator']['getLocalNode']();switch(_0x52989e['type']){case _0x2477c2['NodeType'][_0x2fa51e(0x7b9)]:return{'type':_0x2477c2[_0x2fa51e(0x94f)][_0x2fa51e(0x7b9)],'getId':_0x52989e[_0x2fa51e(0x9a5)][_0x2fa51e(0x3b0)](_0x52989e),'getDisplayName':_0x52989e['getDisplayName']['bind'](_0x52989e),'getEmail':_0x52989e[_0x2fa51e(0x9db)][_0x2fa51e(0x3b0)](_0x52989e),'getRemoteConnections':_0x52989e['getRemoteConnections'][_0x2fa51e(0x3b0)](_0x52989e),'setDisplayName':_0x52989e[_0x2fa51e(0x449)][_0x2fa51e(0x3b0)](_0x52989e),'setEmail':_0x52989e['setEmail'][_0x2fa51e(0x3b0)](_0x52989e)};case _0x2477c2[_0x2fa51e(0x94f)][_0x2fa51e(0x4ec)]:default:return{'type':_0x2477c2[_0x2fa51e(0x94f)][_0x2fa51e(0x4ec)],'getId':_0x52989e[_0x2fa51e(0x9a5)][_0x2fa51e(0x3b0)](_0x52989e),'getRemoteConnections':_0x52989e['getRemoteConnections']['bind'](_0x52989e)};}}[_0x4d9d4f(0x125)](_0x344948){const _0x4b5d2b=_0x4d9d4f;return this[_0x4b5d2b(0x3d0)][_0x4b5d2b(0x125)](_0x344948)[_0x4b5d2b(0x473)](_0x6cf722=>{const _0x55104a=_0x4b5d2b;switch(_0x6cf722['type']){case _0x2477c2[_0x55104a(0x94f)]['User']:return{'type':_0x2477c2['NodeType'][_0x55104a(0x7b9)],'getId':_0x6cf722[_0x55104a(0x9a5)]['bind'](_0x6cf722),'getDisplayName':_0x6cf722['getDisplayName'][_0x55104a(0x3b0)](_0x6cf722),'getEmail':_0x6cf722[_0x55104a(0x9db)][_0x55104a(0x3b0)](_0x6cf722),'getRemoteConnections':_0x6cf722[_0x55104a(0x7e8)][_0x55104a(0x3b0)](_0x6cf722)};case _0x2477c2[_0x55104a(0x94f)][_0x55104a(0x4ec)]:return{'type':_0x2477c2[_0x55104a(0x94f)][_0x55104a(0x4ec)],'getId':_0x6cf722[_0x55104a(0x9a5)]['bind'](_0x6cf722),'getRemoteConnections':_0x6cf722[_0x55104a(0x7e8)]['bind'](_0x6cf722)};default:throw new _0x2554b3(_0x17f7da[_0x55104a(0x80c)],_0x55104a(0x4f6));}});}['on']=(..._0x3a9292)=>{const _0x551f97=_0x4d9d4f;this[_0x551f97(0x823)]['on'](..._0x3a9292);};['emit']=(..._0x21f915)=>this[_0x4d9d4f(0x823)][_0x4d9d4f(0x79d)](..._0x21f915);[_0x4d9d4f(0x931)](..._0x58aaac){const _0xc5047c=_0x4d9d4f;this[_0xc5047c(0x823)][_0xc5047c(0x931)](..._0x58aaac);}}class _0x4bfc17{['id'];['displayName'];[_0x4d9d4f(0x64a)];['type']=_0x2477c2[_0x4d9d4f(0x94f)][_0x4d9d4f(0x7b9)];[_0x4d9d4f(0x29b)]=new Map();[_0x4d9d4f(0x494)]=_0x27eca1();constructor(_0x594b53,_0x3f756b,_0x11e90d){const _0x1f265b=_0x4d9d4f;this['id']=_0x594b53,this[_0x1f265b(0x3ce)]=_0x3f756b,this[_0x1f265b(0x64a)]=_0x11e90d;}[_0x4d9d4f(0x9a5)](){return this['id'];}[_0x4d9d4f(0x997)](){return this['displayName'];}[_0x4d9d4f(0x9db)](){const _0x13227d=_0x4d9d4f;return this[_0x13227d(0x64a)];}['setDisplayName'](_0x4a1d8a){const _0xd77bab=_0x4d9d4f;this[_0xd77bab(0x3ce)]!==_0x4a1d8a&&(this[_0xd77bab(0x3ce)]=_0x4a1d8a,this['observer'][_0xd77bab(0x817)](this));}[_0x4d9d4f(0x50f)](_0x4a4434){const _0x534120=_0x4d9d4f;this[_0x534120(0x64a)]!==_0x4a4434&&(this[_0x534120(0x64a)]=_0x4a4434,this['observer'][_0x534120(0x817)](this));}[_0x4d9d4f(0x6a5)](_0x4c2777,_0x3f0b57){const _0x2e5a30=_0x4d9d4f;if(this[_0x2e5a30(0x29b)]['has'](_0x4c2777))return;const _0x568bb1=this[_0x2e5a30(0x494)]['subscribe'](_0x3f0b57);this['joinedClusters'][_0x2e5a30(0xcd)](_0x4c2777,_0x568bb1);}[_0x4d9d4f(0xbb)](_0x4dd632){const _0x2654fb=_0x4d9d4f;if(!this['joinedClusters'][_0x2654fb(0x8dd)](_0x4dd632))return;const _0x2e46cd=this[_0x2654fb(0x29b)]['get'](_0x4dd632);_0x2e46cd&&_0x2e46cd(),this[_0x2654fb(0x29b)][_0x2654fb(0x465)](_0x4dd632);}}class _0x4bb2cf{[_0x4d9d4f(0x4e6)];[_0x4d9d4f(0x614)];constructor(_0x899df8){this['vendorId']=_0x899df8;}async[_0x4d9d4f(0x3cb)](_0x232e8f){const _0x13db60=_0x4d9d4f,_0x560c2a=await(0x0,_0x3a8360['httpsCallable'])(_0x1f3417[_0x13db60(0x30f)](),_0x13db60(0xab))({'uid':_0x13db60(0x4be)+this['vendorId']+'ccc'+_0x232e8f['id']}),_0x4adc9e=await(0x0,_0x378081[_0x13db60(0x230)])(_0x1f3417[_0x13db60(0x97f)](),_0x560c2a[_0x13db60(0x626)][_0x13db60(0x1cd)]);this[_0x13db60(0x614)]=_0x4adc9e[_0x13db60(0x614)];}async[_0x4d9d4f(0x93f)](){const _0x26dd34=_0x4d9d4f;await(0x0,_0x378081['signOut'])(_0x1f3417[_0x26dd34(0x97f)]());}[_0x4d9d4f(0x200)](){const _0x28990e=_0x4d9d4f;return this[_0x28990e(0x614)]?.[_0x28990e(0x200)]()??Promise[_0x28990e(0x9a3)]('User\x20not\x20signed\x20in');}}class _0x1303f3{static [_0x4d9d4f(0x451)];[_0x4d9d4f(0x15a)]=[];constructor(){}static[_0x4d9d4f(0x893)](){const _0x5c00aa=_0x4d9d4f;return _0x1303f3[_0x5c00aa(0x451)]||(_0x1303f3[_0x5c00aa(0x451)]=new _0x1303f3()),_0x1303f3[_0x5c00aa(0x451)];}['initialize'](){const _0x343185=_0x4d9d4f;this['checkWebRTC'](),this[_0x343185(0x6d0)](),this[_0x343185(0x292)](),this[_0x343185(0x149)](),this[_0x343185(0x879)](),this[_0x343185(0x9bb)](),this[_0x343185(0x628)](),this[_0x343185(0x8dc)](),this['checkWebGL'](),this[_0x343185(0x26e)](),_0x2644bc[_0x343185(0x5ad)](_0x1a98bf[_0x343185(0x5ab)],_0x343185(0x263),{'featureSupport':this[_0x343185(0x15a)]});}['isFeatureSupported'](_0x11c87e){const _0x495167=_0x4d9d4f,_0x41d06b=this['featureSupport'][_0x495167(0x211)](_0x123993=>_0x123993[_0x495167(0x697)]===_0x11c87e);return!!_0x41d06b&&_0x41d06b[_0x495167(0x337)];}[_0x4d9d4f(0x75e)](_0x557a35){const _0x50de71=_0x4d9d4f;_0x2644bc['logEvent'](_0x50de71(0x807),{'nodeId':_0x557a35[_0x50de71(0x9a5)](),'nodeType':_0x557a35[_0x50de71(0x506)],'data':{'featureSupport':this[_0x50de71(0x15a)]}});}[_0x4d9d4f(0x1e4)](){const _0x5f5182=_0x4d9d4f,_0x15f5b2=_0x10a6e3[_0x5f5182(0x984)];let _0x297e4e=!0x1;_0x5f5182(0x658)==typeof RTCPeerConnection&&_0x5f5182(0x658)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x297e4e=!0x0:_0x2644bc[_0x5f5182(0x5ad)](_0x1a98bf[_0x5f5182(0x5ab)],_0x5f5182(0x7af)+_0x15f5b2+_0x5f5182(0x6fd)),this[_0x5f5182(0x15a)][_0x5f5182(0x9e2)]({'name':_0x15f5b2,'supported':_0x297e4e});}[_0x4d9d4f(0x6d0)](){const _0x394800=_0x4d9d4f,_0x1a8578=_0x10a6e3[_0x394800(0x6f7)];let _0x1448fa=!0x1;_0x394800(0x658)==typeof MediaStream&&_0x394800(0x658)==typeof MediaStreamTrack&&_0x394800(0x9d3)==typeof navigator&&_0x394800(0x9d3)==typeof navigator[_0x394800(0x2fa)]&&_0x394800(0x658)==typeof navigator[_0x394800(0x2fa)][_0x394800(0x4a5)]?_0x1448fa=!0x0:_0x2644bc[_0x394800(0x5ad)](_0x1a98bf[_0x394800(0x5ab)],'Support:\x20'+_0x1a8578+'\x20not\x20supported'),this['featureSupport'][_0x394800(0x9e2)]({'name':_0x1a8578,'supported':_0x1448fa});}[_0x4d9d4f(0x292)](){const _0x50275b=_0x4d9d4f,_0x141dd1=_0x10a6e3[_0x50275b(0x43c)];let _0x2ed58e=!0x1;_0x50275b(0x9d3)==typeof navigator&&_0x50275b(0x9d3)==typeof navigator[_0x50275b(0x2fa)]&&_0x50275b(0x658)==typeof navigator[_0x50275b(0x2fa)][_0x50275b(0x410)]?_0x2ed58e=!0x0:_0x2644bc[_0x50275b(0x5ad)](_0x1a98bf[_0x50275b(0x5ab)],_0x50275b(0x7af)+_0x141dd1+'\x20not\x20supported'),this['featureSupport'][_0x50275b(0x9e2)]({'name':_0x141dd1,'supported':_0x2ed58e});}[_0x4d9d4f(0x149)](){const _0x7cbe12=_0x4d9d4f,_0x5e14e0=_0x10a6e3['AudioVolume'];let _0x5076c7=!0x1;_0x7cbe12(0x658)!=typeof AudioContext||_0x7cbe12(0x658)!=typeof ScriptProcessorNode&&_0x7cbe12(0x658)!=typeof AudioWorkletNode||_0x7cbe12(0x658)!=typeof MediaStreamAudioSourceNode?_0x2644bc[_0x7cbe12(0x5ad)](_0x1a98bf[_0x7cbe12(0x5ab)],_0x7cbe12(0x7af)+_0x5e14e0+_0x7cbe12(0x6fd)):_0x5076c7=!0x0,this['featureSupport'][_0x7cbe12(0x9e2)]({'name':_0x5e14e0,'supported':_0x5076c7});}[_0x4d9d4f(0x879)](){const _0xb7544f=_0x4d9d4f,_0x242c61=_0x10a6e3[_0xb7544f(0x664)];let _0x3eea01=!0x1;_0xb7544f(0x9d3)==typeof navigator&&_0xb7544f(0x9d3)==typeof navigator[_0xb7544f(0x2fa)]&&_0xb7544f(0x658)==typeof navigator['mediaDevices'][_0xb7544f(0x4fe)]&&'function'==typeof MediaDeviceInfo?_0x3eea01=!0x0:_0x2644bc['log'](_0x1a98bf[_0xb7544f(0x5ab)],_0xb7544f(0x7af)+_0x242c61+_0xb7544f(0x6fd)),this[_0xb7544f(0x15a)][_0xb7544f(0x9e2)]({'name':_0x242c61,'supported':_0x3eea01});}[_0x4d9d4f(0x9bb)](){const _0x1860d0=_0x4d9d4f,_0x575764=_0x10a6e3['AudioOutput'];let _0x5984a7=!0x1;_0x1860d0(0x9d3)==typeof document&&'function'==typeof document['createElement'](_0x1860d0(0x59c))[_0x1860d0(0x8ff)]?_0x5984a7=!0x0:_0x2644bc['log'](_0x1a98bf[_0x1860d0(0x5ab)],_0x1860d0(0x7af)+_0x575764+_0x1860d0(0x6fd)),this['featureSupport'][_0x1860d0(0x9e2)]({'name':_0x575764,'supported':_0x5984a7});}async[_0x4d9d4f(0x628)](){const _0xd29ded=_0x4d9d4f,_0x5d21b0=_0x10a6e3['Recording'];let _0x4a1524=!0x1;try{const _0x1ca8c1=document[_0xd29ded(0x7b8)](_0xd29ded(0x615));if(MediaRecorder&&MediaSource&&_0x1ca8c1[_0xd29ded(0x665)]){const _0x1e1cd6=_0x1ca8c1[_0xd29ded(0x665)](),_0x5920bd=new MediaRecorder(_0x1e1cd6);_0x5920bd['start'](),await new Promise(_0x35f0e5=>setTimeout(_0x35f0e5,0x7d0)),_0x5920bd[_0xd29ded(0x505)](),_0x4a1524=_0xd29ded(0x6a2)===_0x5920bd['state'];}}catch(_0x167ec2){_0x2644bc[_0xd29ded(0x5ad)](_0x1a98bf[_0xd29ded(0x5ab)],_0xd29ded(0x7af)+_0x5d21b0+_0xd29ded(0x78a),_0x167ec2);}this[_0xd29ded(0x15a)][_0xd29ded(0x9e2)]({'name':_0x5d21b0,'supported':_0x4a1524}),_0x4a1524||_0x2644bc[_0xd29ded(0x5ad)](_0x1a98bf[_0xd29ded(0x5ab)],_0xd29ded(0x7af)+_0x5d21b0+'\x20not\x20supported');}[_0x4d9d4f(0x8dc)](){const _0x163461=_0x4d9d4f,_0x44b08f=_0x10a6e3[_0x163461(0xf5)];let _0x2c60b4=!0x1;try{document[_0x163461(0x7b8)](_0x163461(0x615))[_0x163461(0x665)]&&(_0x2c60b4=!0x0);}catch(_0x39ed49){_0x2644bc['log'](_0x1a98bf[_0x163461(0x5ab)],_0x163461(0x7af)+_0x44b08f+_0x163461(0x78a),_0x39ed49);}this[_0x163461(0x15a)][_0x163461(0x9e2)]({'name':_0x44b08f,'supported':_0x2c60b4}),_0x2c60b4||_0x2644bc[_0x163461(0x5ad)](_0x1a98bf[_0x163461(0x5ab)],'Support:\x20'+_0x44b08f+_0x163461(0x6fd));}[_0x4d9d4f(0x708)](){const _0x26102f=_0x4d9d4f,_0x40b369=_0x10a6e3['WebGL'];let _0x1b6d64=!0x1;try{const _0x19ec30=document[_0x26102f(0x7b8)](_0x26102f(0x615));WebGLRenderingContext&&_0x19ec30[_0x26102f(0x8d5)](_0x26102f(0x1be))&&(_0x1b6d64=!0x0);}catch(_0x20cb32){_0x2644bc[_0x26102f(0x5ad)](_0x1a98bf[_0x26102f(0x5ab)],_0x26102f(0x7af)+_0x40b369+_0x26102f(0x78a),_0x20cb32);}this[_0x26102f(0x15a)]['push']({'name':_0x40b369,'supported':_0x1b6d64}),_0x1b6d64||_0x2644bc['log'](_0x1a98bf[_0x26102f(0x5ab)],_0x26102f(0x7af)+_0x40b369+_0x26102f(0x6fd));}['checkAudioContext'](){const _0x5792a0=_0x4d9d4f,_0x1e62ba=_0x10a6e3[_0x5792a0(0x11f)];let _0x57f19b=!0x1;_0x5792a0(0x658)==typeof AudioContext?_0x57f19b=!0x0:_0x2644bc[_0x5792a0(0x5ad)](_0x1a98bf[_0x5792a0(0x5ab)],_0x5792a0(0x7af)+_0x1e62ba+_0x5792a0(0x6fd)),this[_0x5792a0(0x15a)][_0x5792a0(0x9e2)]({'name':_0x1e62ba,'supported':_0x57f19b});}}const _0x1dc511=_0x1303f3[_0x4d9d4f(0x893)]();class _0x4e5372{static [_0x4d9d4f(0x451)];static ['unsubscribe'];static ['mode'];['authService'];[_0x4d9d4f(0x4e6)];[_0x4d9d4f(0x6cc)];[_0x4d9d4f(0x89a)];[_0x4d9d4f(0x640)]=new Map();[_0x4d9d4f(0x20a)];constructor(_0x1c611f,_0x2046e9,_0x50ac27){const _0x38b34a=_0x4d9d4f;this['vendorId']=_0x1c611f,this[_0x38b34a(0x89a)]=_0x2046e9,this['authService']=new _0x4bb2cf(this[_0x38b34a(0x4e6)]),_0x1dc511[_0x38b34a(0x38c)](),this[_0x38b34a(0x6cc)]={'audioContext':_0x50ac27?.[_0x38b34a(0xf9)]??(_0x1dc511[_0x38b34a(0x7e1)](_0x10a6e3[_0x38b34a(0x11f)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x50ac27?.[_0x38b34a(0x81e)]??0x1,'minConnections':_0x50ac27?.['minConnections']??0x3,'maxConnections':_0x50ac27?.['maxConnections']??(_0x50ac27?.[_0x38b34a(0x620)]&&0x4*_0x50ac27['minConnections'])??0xc,'maxDistance':_0x50ac27?.[_0x38b34a(0x9a8)]??0xa,'maxFps':_0x50ac27?.[_0x38b34a(0x18d)]??0x18,'maxBpp':_0x50ac27?.[_0x38b34a(0x398)]??0.12,'objectStoreConnector':_0x50ac27?.[_0x38b34a(0x408)]??_0x3ac5d8[_0x38b34a(0x809)],'externalStorageConnectors':_0x50ac27?.[_0x38b34a(0x136)],'keyValueDatabaseConnector':_0x50ac27?.['keyValueDatabaseConnector']??_0x1c22c5[_0x38b34a(0x267)],'loggingDatabaseConnector':_0x50ac27?.['loggingDatabaseConnector']??_0x1c22c5[_0x38b34a(0x267)],'peerConnectionConnector':_0x50ac27?.[_0x38b34a(0x472)]??_0x2c0f70[_0x38b34a(0x9e3)],'generativeAIWorkerConnectors':_0x50ac27?.[_0x38b34a(0x90e)],'vectorDatabaseConnector':_0x50ac27?.[_0x38b34a(0x94b)],'graphDatabaseConnector':_0x50ac27?.[_0x38b34a(0x2c3)],'documentParserConnector':_0x50ac27?.[_0x38b34a(0x6f4)],'nlpLibraryConnector':_0x50ac27?.[_0x38b34a(0x4de)],'searchConnector':_0x50ac27?.[_0x38b34a(0x850)],'aiSearchConnector':_0x50ac27?.[_0x38b34a(0x336)],'queryFileConnector':_0x50ac27?.[_0x38b34a(0x1c5)]},_0x50ac27?.[_0x38b34a(0x241)]&&this[_0x38b34a(0x6cc)][_0x38b34a(0xf9)]&&_0x135d86[_0x38b34a(0x881)](this['options']['audioContext']),_0x2644bc[_0x38b34a(0x995)](this[_0x38b34a(0x4e6)]),_0x50ac27?.[_0x38b34a(0x20b)]&&_0x2644bc[_0x38b34a(0x884)](_0x50ac27[_0x38b34a(0x20b)]);}static async['getInstance'](_0x260413,_0x4db615,_0x24cd31,_0x117547,_0x85b01b){const _0x2f636a=_0x4d9d4f;this['mode']=_0x24cd31;const _0x1ac5f6=await this[_0x2f636a(0x3b1)](_0x260413,_0x4db615,_0x85b01b);return _0x4e5372[_0x2f636a(0x451)]||(_0x4e5372[_0x2f636a(0x451)]=new _0x4e5372(_0x260413,_0x1ac5f6,_0x117547)),{'close':_0x4e5372[_0x2f636a(0x451)]['close'][_0x2f636a(0x3b0)](_0x4e5372['instance']),'authenticateUser':_0x4e5372[_0x2f636a(0x451)][_0x2f636a(0x5a9)][_0x2f636a(0x3b0)](_0x4e5372[_0x2f636a(0x451)]),'authenticateAgent':_0x4e5372[_0x2f636a(0x451)][_0x2f636a(0x253)][_0x2f636a(0x3b0)](_0x4e5372[_0x2f636a(0x451)]),'joinCluster':_0x4e5372[_0x2f636a(0x451)]['joinCluster'][_0x2f636a(0x3b0)](_0x4e5372['instance'])};}static async[_0x4d9d4f(0x7d7)](){const _0x5a2893=_0x4d9d4f;return _0x1f3417[_0x5a2893(0x977)]();}static[_0x4d9d4f(0x649)](){const _0x5954c7=_0x4d9d4f;return _0x10b302[_0x5954c7(0x649)];}async[_0x4d9d4f(0x6d7)](_0x33a14e){const _0x326efd=_0x4d9d4f;this[_0x326efd(0x640)]['forEach'](_0x59f163=>{const _0x1fa2a2=_0x326efd;_0x59f163[_0x1fa2a2(0x931)](),_0x59f163[_0x1fa2a2(0x643)](_0x33a14e);}),this['clusters'][_0x326efd(0x976)](),this[_0x326efd(0x6cc)]['audioContext']&&_0x135d86['stopNoThrottlingHack'](),_0x4e5372[_0x326efd(0x4f9)]?.(),_0x4e5372['unsubscribe']=void 0x0,this[_0x326efd(0x20a)]=void 0x0,await this[_0x326efd(0x9ce)][_0x326efd(0x93f)](),_0x4e5372[_0x326efd(0x451)]=void 0x0;}static async[_0x4d9d4f(0x3b1)](_0x29e471,_0x20107f,_0x539137){const _0x4f716=_0x4d9d4f;if(!this[_0x4f716(0x35e)])throw new _0x2554b3(_0x17f7da['NodeTypeRequired'],_0x4f716(0x296));let _0x24ac39;try{_0x24ac39=await(0x0,_0x3a8360[_0x4f716(0x27f)])(_0x1f3417['getFunctions'](),_0x4f716(0x288))({'vendorId':_0x29e471,'accessToken':_0x20107f,'secretKey':_0x539137});}catch(_0x584b71){throw new _0x2554b3(_0x17f7da['InvalidAccess'],'Invalid\x20credentials');}if(!this[_0x4f716(0x718)](_0x24ac39[_0x4f716(0x626)]))throw new _0x2554b3(_0x17f7da[_0x4f716(0x17f)],_0x4f716(0x27e));const _0x52f723=_0x24ac39[_0x4f716(0x626)];return _0x52f723[_0x4f716(0x19d)]||(_0x52f723['features']=[]),this[_0x4f716(0x4f9)]||(this['unsubscribe']=_0x135d86[_0x4f716(0x121)](async()=>{const _0x1e7c2c=_0x4f716;try{const _0x2ee6ed=await this[_0x1e7c2c(0x3b1)](_0x29e471,_0x20107f,_0x539137);this[_0x1e7c2c(0x35e)]===_0x2477c2['NodeType'][_0x1e7c2c(0x4ec)]&&(_0x2ee6ed['iceServers']=_0x2ee6ed['iceServers'][_0x1e7c2c(0x64c)](_0x559faa=>_0x559faa[_0x1e7c2c(0x74b)]['startsWith']('stun:'))),_0x52f723[_0x1e7c2c(0x7c0)]=_0x2ee6ed[_0x1e7c2c(0x7c0)];}catch(_0x48c46d){}},0x1b7740)),_0x52f723;}async[_0x4d9d4f(0x5a9)](_0x4aaab5){const _0x570bb6=_0x4d9d4f;if(_0x4e5372[_0x570bb6(0x35e)]!==_0x2477c2[_0x570bb6(0x94f)][_0x570bb6(0x7b9)])throw new _0x2554b3(_0x17f7da[_0x570bb6(0x80c)],_0x570bb6(0x46b));await this['authService'][_0x570bb6(0x3cb)](_0x4aaab5);const _0x3eb28f=new _0x4bfc17(_0x4aaab5['id'],_0x4aaab5[_0x570bb6(0x3ce)],_0x4aaab5[_0x570bb6(0x64a)]);return this[_0x570bb6(0x20a)]={'node':_0x3eb28f},_0x1dc511['logSupport'](_0x3eb28f),{'type':_0x2477c2[_0x570bb6(0x94f)][_0x570bb6(0x7b9)],'getId':_0x3eb28f['getId'][_0x570bb6(0x3b0)](_0x3eb28f),'getDisplayName':_0x3eb28f[_0x570bb6(0x997)][_0x570bb6(0x3b0)](_0x3eb28f),'getEmail':_0x3eb28f[_0x570bb6(0x9db)][_0x570bb6(0x3b0)](_0x3eb28f),'setDisplayName':_0x3eb28f[_0x570bb6(0x449)][_0x570bb6(0x3b0)](_0x3eb28f),'setEmail':_0x3eb28f[_0x570bb6(0x50f)][_0x570bb6(0x3b0)](_0x3eb28f)};}async[_0x4d9d4f(0x253)](_0x4f968a){const _0x434af7=_0x4d9d4f;if(_0x4e5372[_0x434af7(0x35e)]!==_0x2477c2[_0x434af7(0x94f)][_0x434af7(0x4ec)])throw new _0x2554b3(_0x17f7da['NodeInvalidType'],_0x434af7(0x46b));const {id:_0x52e2ca,groupId:_0x407b1e}=_0x4f968a,_0x115ee3=await(0x0,_0xaa5d3[_0x434af7(0xfd)])((0x0,_0xaa5d3[_0x434af7(0x7c9)])(_0x1f3417[_0x434af7(0x83a)](),_0x434af7(0x4d1)+this[_0x434af7(0x4e6)]+_0x434af7(0x70b)+_0x407b1e));if(!_0x115ee3['exists']())throw new _0x2554b3(_0x17f7da['NodeNotAuthenticated'],_0x434af7(0x7ac));const _0x377395=_0x115ee3[_0x434af7(0x626)]();await this[_0x434af7(0x9ce)][_0x434af7(0x3cb)]({'id':_0x52e2ca});const _0x3ebe2c=new _0x564125(_0x52e2ca,_0x407b1e,this['vendorId'],_0x377395);return this[_0x434af7(0x20a)]={'node':_0x3ebe2c},_0x1dc511[_0x434af7(0x75e)](_0x3ebe2c),this[_0x434af7(0x537)](_0x3ebe2c),{'type':_0x2477c2[_0x434af7(0x94f)][_0x434af7(0x4ec)],'getId':_0x3ebe2c['getId']['bind'](_0x3ebe2c),'onConfigurationChange':_0x3ebe2c[_0x434af7(0x564)][_0x434af7(0x3b0)](_0x3ebe2c),'setReportCapacity':_0x3ebe2c[_0x434af7(0x920)][_0x434af7(0x3b0)](_0x3ebe2c)};}async[_0x4d9d4f(0x447)](_0x53f46a){const _0xeb6ef3=_0x4d9d4f;if(!this[_0xeb6ef3(0x20a)])throw new _0x2554b3(_0x17f7da[_0xeb6ef3(0x4c0)],_0xeb6ef3(0x3fc));if(this[_0xeb6ef3(0x20a)][_0xeb6ef3(0x3fb)]['type']!==_0x2477c2['NodeType'][_0xeb6ef3(0x7b9)])throw new _0x2554b3(_0x17f7da['NodeTypeNotSupported'],_0xeb6ef3(0x876));if(this[_0xeb6ef3(0x640)][_0xeb6ef3(0x8dd)](_0x53f46a))throw new _0x2554b3(_0x17f7da[_0xeb6ef3(0x8c6)],_0xeb6ef3(0x9dc));const _0x534cd9=new _0x29a9e5(this['vendorId'],_0x53f46a,this['authContext']['node'],this[_0xeb6ef3(0x9ce)],this[_0xeb6ef3(0x6cc)],this[_0xeb6ef3(0x89a)]);return await _0x534cd9[_0xeb6ef3(0x6de)](),this[_0xeb6ef3(0x6c9)](_0x53f46a,_0x534cd9),_0x2644bc[_0xeb6ef3(0x297)]('join-cluster',{'clusterId':_0x53f46a,'nodeId':this[_0xeb6ef3(0x20a)]['node'][_0xeb6ef3(0x9a5)](),'nodeType':this[_0xeb6ef3(0x20a)][_0xeb6ef3(0x3fb)]['type']}),{'leave':_0x534cd9[_0xeb6ef3(0x643)]['bind'](_0x534cd9),'getLocalNode':_0x534cd9[_0xeb6ef3(0x663)]['bind'](_0x534cd9),'openPubSubTopic':_0x534cd9[_0xeb6ef3(0x1c7)]['bind'](_0x534cd9),'openObjectStoreBucket':_0x534cd9[_0xeb6ef3(0x2fc)][_0xeb6ef3(0x3b0)](_0x534cd9),'openExternalStorageConnection':_0x534cd9[_0xeb6ef3(0x830)][_0xeb6ef3(0x3b0)](_0x534cd9),'openKeyValueDatabase':_0x534cd9[_0xeb6ef3(0x722)][_0xeb6ef3(0x3b0)](_0x534cd9),'openGenerativeAIContext':_0x534cd9[_0xeb6ef3(0x8a2)][_0xeb6ef3(0x3b0)](_0x534cd9),'openGenerativeAIWorker':_0x534cd9[_0xeb6ef3(0x2be)][_0xeb6ef3(0x3b0)](_0x534cd9),'openGraphDatabase':_0x534cd9[_0xeb6ef3(0x20f)][_0xeb6ef3(0x3b0)](_0x534cd9),'openVectorDatabase':_0x534cd9['openVectorDatabase']['bind'](_0x534cd9),'publishLocalMediaStream':_0x534cd9[_0xeb6ef3(0x348)][_0xeb6ef3(0x3b0)](_0x534cd9),'publishLocalDynamicMediaStream':_0x534cd9['publishLocalDynamicMediaStream']['bind'](_0x534cd9),'getPubSubTopics':_0x534cd9['getPubSubTopics'][_0xeb6ef3(0x3b0)](_0x534cd9),'getObjectStoreBuckets':_0x534cd9[_0xeb6ef3(0x204)]['bind'](_0x534cd9),'getExternalStorageConnections':_0x534cd9[_0xeb6ef3(0x335)]['bind'](_0x534cd9),'getKeyValueDatabases':_0x534cd9[_0xeb6ef3(0x340)][_0xeb6ef3(0x3b0)](_0x534cd9),'getGenerativeAIContexts':_0x534cd9['getGenerativeAIContexts'][_0xeb6ef3(0x3b0)](_0x534cd9),'getGenerativeAIWorkers':_0x534cd9[_0xeb6ef3(0x852)]['bind'](_0x534cd9),'getGraphDatabases':_0x534cd9[_0xeb6ef3(0x370)][_0xeb6ef3(0x3b0)](_0x534cd9),'getVectorDatabases':_0x534cd9[_0xeb6ef3(0x979)]['bind'](_0x534cd9),'getLocalMediaStreams':_0x534cd9[_0xeb6ef3(0x894)][_0xeb6ef3(0x3b0)](_0x534cd9),'getRemoteMediaStreams':_0x534cd9[_0xeb6ef3(0x592)][_0xeb6ef3(0x3b0)](_0x534cd9),'getRemoteNodes':_0x534cd9[_0xeb6ef3(0x125)][_0xeb6ef3(0x3b0)](_0x534cd9),'on':_0x534cd9['on'][_0xeb6ef3(0x3b0)](_0x534cd9),'off':_0x534cd9[_0xeb6ef3(0x931)]['bind'](_0x534cd9)};}async[_0x4d9d4f(0x537)](_0x26a76e){const _0xb5a7d9=_0x4d9d4f;for(const _0x4f8e9f of _0x26a76e[_0xb5a7d9(0x574)][_0xb5a7d9(0x640)]){const _0x540244=new _0x29a9e5(this[_0xb5a7d9(0x4e6)],_0x4f8e9f['id'],_0x26a76e,this[_0xb5a7d9(0x9ce)],this[_0xb5a7d9(0x6cc)],this[_0xb5a7d9(0x89a)]);await _0x540244['join'](),this[_0xb5a7d9(0x6c9)](_0x4f8e9f['id'],_0x540244),_0x2644bc['forceLog'](_0xb5a7d9(0xa5),_0x4f8e9f['id']);for(const _0x552219 of _0x4f8e9f[_0xb5a7d9(0x24f)]??[])_0x540244[_0xb5a7d9(0x1c7)](_0x552219),_0x2644bc[_0xb5a7d9(0x2dd)](_0xb5a7d9(0x455),_0x552219);for(const _0x225fb6 of _0x4f8e9f[_0xb5a7d9(0x53c)]??[])await _0x540244[_0xb5a7d9(0x2fc)](_0x225fb6),_0x2644bc[_0xb5a7d9(0x2dd)](_0xb5a7d9(0x605),_0x225fb6);for(const _0x160d3d of _0x4f8e9f['modelStorageBuckets']??[])await _0x540244[_0xb5a7d9(0x2fc)](_0x160d3d,{'standalone':!0x0}),_0x2644bc['forceLog'](_0xb5a7d9(0x826),_0x160d3d);for(const _0x12a02d of _0x4f8e9f['externalStorageConnections']??[]){const _0x3fed1e=_0x12a02d[_0xb5a7d9(0xaf)]('-');await _0x540244[_0xb5a7d9(0x830)](_0x3fed1e[0x1],_0x3fed1e[0x0]),_0x2644bc[_0xb5a7d9(0x2dd)]('Opened\x20external\x20storage\x20connection',_0x12a02d);}for(const _0x36efba of _0x4f8e9f[_0xb5a7d9(0x314)]??[])await _0x540244[_0xb5a7d9(0x722)](_0x36efba,{'version':0x1,'tables':{}}),_0x2644bc[_0xb5a7d9(0x2dd)](_0xb5a7d9(0x71d),_0x36efba);for(const _0x2e4206 of _0x4f8e9f[_0xb5a7d9(0x763)]??[])_0x540244[_0xb5a7d9(0x20f)](_0x2e4206),_0x2644bc['forceLog'](_0xb5a7d9(0x160),_0x2e4206);for(const _0x4a365e of _0x4f8e9f['vectorDatabases']??[])_0x540244['openVectorDatabase'](_0x4a365e),_0x2644bc[_0xb5a7d9(0x2dd)](_0xb5a7d9(0xdd),_0x4a365e);for(const _0x504d26 of _0x4f8e9f[_0xb5a7d9(0x667)]??[]){const _0x3ecac0=_0x11c378(this[_0xb5a7d9(0x4e6)],_0x504d26),_0x431e13=_0x54995d(),_0xc5f000=this[_0xb5a7d9(0x6cc)][_0xb5a7d9(0x8b6)]??this[_0xb5a7d9(0x6cc)][_0xb5a7d9(0x99f)];await _0x540244[_0xb5a7d9(0x722)](_0x3ecac0,_0x431e13,_0xc5f000),_0x2644bc['forceLog'](_0xb5a7d9(0x52e),_0x3ecac0),await _0x540244[_0xb5a7d9(0x2be)](_0x504d26),_0x2644bc[_0xb5a7d9(0x2dd)]('Opened\x20generative\x20AI\x20worker',_0x504d26);}}}[_0x4d9d4f(0x6c9)](_0x26b63e,_0x233c5e){const _0x468737=_0x4d9d4f;this[_0x468737(0x640)][_0x468737(0xcd)](_0x26b63e,_0x233c5e),_0x233c5e['on']('cluster-leave',()=>{const _0x9a9b1a=_0x468737;_0x233c5e[_0x9a9b1a(0x931)](),this[_0x9a9b1a(0x640)][_0x9a9b1a(0x465)](_0x26b63e);});}static[_0x4d9d4f(0x718)](_0x31b0a0){return void 0x0!==_0x31b0a0['iceServers'];}}return _0x5e2484;})())));function a0_0xee09(){const _0x20f39c=['versions','@id','blocks','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','key-value-database-peak-not-found','GraphDatabaseNameNotString','EntityExtractor','defineProperty','setSinkId','Model\x20not\x20found:\x20',':\x0a\x0a','VectorDatabaseMissingConnector','clearWaitSuccess','getRoot','closeConnection','handleIceCandidates','indexes','remoteNodes','RelationExtractor','ExternalStorageInvalidPath','codes','.java','graph-database-missing-connector','generativeAIWorkerConnectors','clearConnectionTimeout','default','statsReporting','Update','element','job-dispatcher-observer-not-found','processJobStream','disconnect','processAddContent','SubscriptionRequestFailed','Database\x20already\x20exists','Missing\x20transaction\x20id','getRemoteId','storeId','messageUnsubscriber','ExecuteCustomSkill','Optimization','setReportCapacity','retryCount','createFolder','removeObjectStore','.\x20Confirmation?\x20','getKeyValueDatabase','InternalSDKError','ConnectionBufferNotEmpty','answer','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','Remediation','listenerUnsubscribers','LoadSkillFunction','NodeAlreadyExist','createBuffer','call','bandwidth.jitter','off','LoggingService:\x20logging\x20enabled\x20for','answers','reset','Knowledge','digest','getTableConnector','internalProcessJobStream','/logs','getDistance','connection-invalid-data-event','statsManager','getPubSubTopics','OfficeParser','signOut','Invalid\x20data\x20channel.','createJob','toLowerCase','agent-config-changed','request-file-sync','Delete','clearUpgradeTimeout','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','Index','messages','sourceUrl','vectorDatabaseConnector','pub-sub-topic-already-subscribed','SHA-1','JobWorker:\x20Sending\x20job\x20partial\x20result','NodeType','.crewdle-layout','getConnections','Default','FolderCreate','Received\x20event\x20on\x20cluster','job-dispatcher-creation-failed','GenerativeAIWorker:\x20Opening','KeyValueDatabaseTableDoesNotExist','subscriptionRequestsQueue','Invalid\x20peer\x20connection\x20event\x20destination.','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','RemoteMediaStreamAlreadyExists','AudioContext\x20is\x20not\x20available','subscribedTracks','clusterId','updatePropagationProperties','\x20received\x20partial\x20result:','Data\x20Received','logWaitTime','connectionTimeout','downloadDocument','handleObjectMove','peer-connection','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','createConstantSource','\x20writes\x20from\x20','minResolutionScale','detectAudioIssues','NodeConnectionsUpdate','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','files','createTopic','handleTransactionPayload','InvalidSubscriber','firebase-connect','getReport','Database\x20does\x20not\x20exist','.tpl','clear','getEstimatedTimestamp','KeyValueDatabaseTableNameReserved','getVectorDatabases','ExternalStorageConnectionAlreadyExists','setItem','Sender\x20connection\x20is\x20not\x20initialized.','substring','removeRemoteStreamSubscription','getAuth','Sender','msalRefreshToken','isValidMediaSubscriptionParams','handshakeState','WebRTC','some','::￿','handleDisconnect','receiverTimeProcessing','Detection','Invalid\x20value.\x20Must\x20be\x20an\x20object.','KeyValueDatabaseAlreadyExists','processContentSynchronized','PublishMediaStream','publishFolder','PubSubTopicDoesNotExist','deleteTransactionsForTable','Execute\x20the\x20agent\x20','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','bid','Prompt\x20is\x20required','setVendorId','PubSubTopicNameNotString','getDisplayName','startIndex','statusText','length','performCalculation','GenerativeAIWorkerMissingConnector','remote-inbound-rtp','cluster-disconnect','keyValueDatabaseConnector','GetContextResult','parseWorkflowDocument','local-media-stream-already-exists','reject','Get','getId','reduce','.doc','maxDistance','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','removeGraphDatabase','processTransactionsToComputeMMR','docs','ExternalStorageNameNotString','notifyCluster','handleNeedRestart','registerDestination','isMediaSource','.crewdle-last-transaction','\x20not\x20found.','Recording','{\x20\x22status\x22:\x20\x22success\x22\x20}','remote-media-stream-already-exists','addContent','debounceRebuildMMR','.sql','layout','checkAudioOutput','handleHandshake','writeBatch','getTrack','val','senderCurrentTimestamp','internalId','hashNodes','taskType','bandwidth.bitrate','Attribution','.lua','messagesSent','RemoteMediaStreamMissingProviderId','writeTransaction','retryCallback','Low','CloseJobDispatcher','key-value-database-table-name-reserved','authService','publishSystemMessage','undefined','uid','add','object','lastCapacityReport','subscription-request-does-not-exist','jobType','handleUnsubscribeMediaStream','clearHeartbeat','Queued','move','getEmail','Cluster\x20already\x20joined','Issue\x20detected:\x20','resetConnection','count','Syncing','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','push','WebRTCBrowserPeerConnectionConnector','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','SentenceSplitter','fileChunks','key-value-database-name-not-string','getTransactions','accessToken','generative-ai-context-job-already-consumed','Resolution','request','clearRestartTimeout','.html','toLocaleDateString','pool','Joined\x20cluster','getRemoteMediaStream','.py','appendTransactionAndUpdateHashMap','external-storage-invalid-path','Signaling','sdkCreateToken','Key-value\x20database\x20creation\x20failed.','writes','handleCloseContent','split','Connected','VectorDatabaseDoesNotExist','oidc','exists','getDTVolatility','stopConnection','crewdle-sdk.firebaseapp.com','unregisterPublisher','openVectorDatabase','All','job-dispatcher-job-exists','unregisterCluster','loop','gain','logPropagateSystemEvent','not-resolved','loadFromDisk','object-store-not-in-sync','pendingFilesRename','crewdleSDKEnableLogging','get-content','setTimestamp','cpu.cycle','KeyValueDatabaseContentSynchronized','Workflow\x20not\x20initialized','operator','Context','priority','getResolution','set','receiver-on-message','Success','warning','orchestrator-close','isOffer','pendingSyncTransactions','Node\x20\x27','appendTransaction','sort','Image','pendingHandshakeCandidates','listenUnsubscriber','CloseJobWorker','\x20were\x20ready\x20in','syncTransactionsWritten','Opened\x20vector\x20database','getAncestorIds','.vue','frameWidth','user-update','FPS','limit','audioDestination','fetchContentFromUrl','getName','registerSystemPublisher','Data\x20cluster\x20is\x20not\x20open.','hasOwnProperty','Error\x20searching','Table\x20not\x20found','SenderPeerConnection\x20send','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','getSettings','contentQueueRunning','GetContextQuery','Stream\x20already\x20exists','isPromiseResolved','contentSize','Backgrounds','\x20with\x20response:','.kt','jobId','audioContext','setOnTableWriteHandler','sendIceCandidates','sendReject','getDoc','\x0a\x20===\x20Current\x20MMR\x20Root','totalNodes','eventTarget','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','sendFile','RequestFile','resolve','getExternalStorageConnection','Prompt\x20block\x20not\x20found','manageOptimization','content','Answer','documentPath','Data\x20Sent','subscription','receiver','Vector','Pending','notifyClusterNodeUpdate','batch','addBidResponse','generative-ai-worker-already-exists','dataBucketIds','PubSubTopicAlreadySubscribed','parseWorkflowBlocks','JobQueueService:\x20Job\x20completed','registerSystemSource','endpointMethod','channel','st_volatility','dataTopics','\x20already\x20exists','object-storage','AudioContext','closed','setInterval','chunk','job-','shift','getRemoteNodes','parentId','setScheduleTime','auth','KeyValueDatabaseRequestPeakTransactions','removeIncomingSubscription','keyPath','message','JobDispatcherInvalidPayload','KeyValueDatabaseInvalidQuery','getJob','total','handleObjectDelete','rejectReady','folder-create','jobDispatchers','setupResizeHandler','externalStorageConnectors','isAvailable','localId','processDataChannelReport','onConnectionStateChange','clusterEventEmitter','VectorDatabaseAlreadyExists','discover','removeJobWorker','pubsubTopics','framesDecoded','Stream\x20does\x20not\x20exist','Info','.erl','invalid-subscription','validateLayout','GenerativeAIContextJobAlreadyConsumed','endpoint','videoWidth','checkAudioVolume','transactionIds','CrewdleReceiverConnection\x20ontrack','rootComputationPromise','tableObserver','suspended','url','publishMove','handleFileSync','description','PubSubTopicStats','key-value-database-invalid-value','Missing\x20owner\x20node\x20or\x20rank','getWorkflow','FinalOutput','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','transactionService','featureSupport','Setting\x20context\x20for\x20agent\x20block','load','registerPublisher','checksum','inbound-rtp','Opened\x20graph\x20database','propn','\x27\x20in\x20table\x20\x27','handleContentSystemEvents','isChannelEnabled','Connection','JobDispatcherCreationFailed','active','track','collectTransactionsFromNode','handleRemoteTrackFailure','.info/serverTimeOffset','handleContentRemoteMediaStreamTrackFail','MissingSystemTopic','jobQueue','canAddCandidates','GenerativeAIEngineType','prompt','vectors','subscriptionManager','request-file-write','messageCallback','getInternalStreamId','getNextTargetRank','clientWidth','isEqual','KeyValueDatabasePeakNotFound','\x27\x20payload:','min','listen','crewdle-sdk-stg.firebaseapp.com','InvalidAccess','ownerId','cluster','tokens','contextOutputVariable','value','DataStream\x20onMessage','Receiver','updateLastUpdated','NodeLeave','logDataReceived','\x0a</uploaded-files>','isSync','accumulateResult','maxFps','setOnMessageHandler','\x20new\x20transactions','.ipynb','Received\x20','.cpp','calculateSize','floor','internalContext','ModelText','setSubscriptionRequestTimeout','right','receiverUnsubscribers','gpu','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','ExternalStorageConnectionDoesNotExist','features','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','external-storage-connection-already-subscribed','page','buildTableEvent','agent-join','\x20created\x20and\x20dispatched.','MediaStream\x20feature\x20not\x20enabled','addRemoteConnection','publishSyncCompletedAfterWrites','ObjectStore\x20not\x20found','setDurationTime','Unknown\x20skill\x20type','isResultResponse','publishSyncCompleted','NodeJoin','onDataChannel','.mustache','syncedFileExists','writeFile','NodeManager\x20-\x20ConnectionSuccess','tableLayout','Sending\x20\x27','generative-ai-context-job-timeout','senderTotalMessages','AITrace','detectStreamIssues','debounceRebuildMMRWithTransaction','JobQueueService:\x20Error\x20running\x20job','clusters/','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','grammar','Connection\x20does\x20not\x20exist','webgl','\x0a\x20===\x20Synchronization\x20Time:\x20','Parameter\x20','code','Orchestrator\x20handleSystemEvents','Key-value\x20database\x20table\x20does\x20not\x20exist.','mmrRoot','queryFileConnector','models','openPubSubTopic','text/plain','getVectorDatabase','NodeTypeNotSupported','externalStorages','handleUpdateMediaStream','token','packets','reportCapacity','supports','bytesSent','processInboundReports','Method\x20not\x20supported','logging-db-','ConnectionInvalidDataEvent','<uploaded-files>','getProviderId','KeyValueDatabaseTransactionTableNotInitialized','combinePeaks','AiSearch','createPubSubTopic','forEach','getResolutionScale','getEnabledChannels','handleMissingSenders','timeoutCallback','debounceReady','.gguf','system','checkWebRTC','createOffer','handleSubscriptionNeedMediaStream','nodes','update','Data','createGain','internalDownloadDocument','receiverCurrentTimestamp','JobWorkerAlreadyExists','IncomingSubscription','notifyObjectStoreOfNodeLeave','node-type-required','local-media-stream-track-fail','thread-','Invalid\x20version\x20\x27','maxTokens','handleNodeUpdate','Failed','ConnectionNotinitialized','search','peakHeights','contextInputVariable','chunks','northamerica-northeast1','ObjectStoreNotSynced','High','RemoteMediaStreamTrackFail','getIdToken','transactionsToAppend','TimePerFrame','Today\x20Date:\x20','getObjectStoreBuckets','logMMRRebuild','1.0.18.0','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','AI\x20Worker\x20already\x20exists','setTransformations','authContext','loggingConnectors','detectProblems','unregisterPublisherListener','getTrackFromParam','openGraphDatabase','ObjectStorage','find','answerContentAvailable','DatabaseEvent','findNewMediaSubscription','GenerativeAIWorkerStats','sourceVideo','getTable','cores','available','Error\x20committing\x20batch:','app','ceil','maps','Operations:','currentBatch','bufferedChunks','completeSync','\x20answer','getMilliseconds','keys','buildQuery','_isReady','Invalid\x20params','results','estimatedPlayoutTimestamp','JobContext','\x20does\x20not\x20exists','QueryBuilderInvalidArgument','getGrammars','Rejected','skill','signInWithCustomToken','JobWorker:\x20Handling\x20job\x20attribution','.go','debounceStats','\x20completed.','getStatus','removeNode','getObjectStoreBucket','send\x20error\x20on\x20','\x20attempts:','deleteJob','fileSendingMap','buffer','setConnectionType','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','outputTokens','path','disableIntervalHack','remoteId','G-F7W8KXRKQB','Agent\x20block\x20is\x20missing\x20required\x20data','AI\x20Search\x20connector\x20not\x20set','JobWorker:\x20Error\x20processing\x20job','DataChannel\x20is\x20not\x20open.','.jinja2','frameTime','wait','KeyValueDatabaseSyncRequired','Unsupported\x20job\x20type','2-digit','getContentType','pubSubTopics','handleNodeJoinNeedPublishedStream','/transactions/','isJobAttribution','authenticateAgent','systemMessages','Start\x20Ingestion','job-worker-invalid-type','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','topics','ExternalStorageConnectorsMissing','listener','setReceiverTimestamp','FileMove','Cannot\x20unpublish\x20object\x20at\x20','GraphDatabaseAlreadyExists','FramePerSecond','Partial','Search','Support:\x20current\x20config','missing-incoming-connection','subscribeToExternalContent','ObjectStoreNameNotString','IDBDatabaseConnector','Job\x20','av_delay','request-file','getJobWorkers','senderBitrate','connected','checkAudioContext','systemTopic','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','Synced','getConnectionType','trim','sender','connectionType','subscribeToJobs','loadExternalContent','.twig','params','.pdf','.erb','sampleRate','addEdge','Invalid\x20credentials','httpsCallable','\x0a</','startAt','getReceiverTotalBytes','GraphDatabase','ObjectStorageBucket','open','remediations','graph-database-already-exists','sdkValidateAccess','graphql','GraphDatabaseDoesNotExist','query','externalStorageConnectionIds','Jobs','ready','getSubscriptionInfo','\x0aAdditional\x20data:\x20','921648NtSbos','checkScreenSharing','entities','crewdleSDKLoggingChannels','mediator','Node\x20type\x20is\x20required','logEvent','workflow-invalid-block-type','getTracks','initializeSystemTopic','joinedClusters','getHash','ObjectStoreAlreadySubscribed','\x27\x20reserved','get','.sh','getOutgoingOptimizationConnections','KeyValueDatabaseIndexNotFound','appsync-close','commitTrace','ConnectionNoRetryQueue','loggingDb','isReconnecting','SubscriptionRequestDoesNotExist','headers','asyncEndpointUrl','modelsBucketId','KeyValueDatabaseTransactionValueNotSet','getAudioVideoDelay','hashTransaction','disconnectCallback','SHA-256','readyDebounce','round','getCurrentMaxLayer','bucketId','\x20after\x20','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','ExecuteAgent','File','internalRatePrompt','UnsubscribeMediaStream','getDataCollections','unregisterSystemPublisher','compareTransactions','openGenerativeAIWorker','agentId','currentBytes','ExternalStorageConnectionAlreadySubscribed','recipients','graphDatabaseConnector','firestore','then','notifyJoin','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','connection-not-initialized','createSubscription','-leave','restartTimeout','component','Invalid\x20workflow\x20block\x20type.','removeRemoteNode','getShareableStreamId','\x0a\x20===\x20Total\x20Nodes:','isNeedRestart','https://crewdle-sdk-default-rtdb.firebaseio.com','model','totalDecodeTime','Workflow','prompts','groupId','created','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','1:420235181083:web:4eff6062bd845cb0748cbe','splice','clearWaitAnswer','forceLog','handleNodeSystemEvents','batchTimeout','handleProblem','closeTopic','connectionConstructor','clockSkew','CloseMediaStream','onTrack','CloseExternalStorageConnection','file-write','setSenderTimestamp','JobWorker:\x20Received\x20job\x20attribution','payload','incrementVersion','image','pipe','420235181083','Reranker','pubsub','waitConnected','currentDistance','openedTraces','14077272VfuiuN','firebaseUnsubscriber','getRemoteNode','.txt','mute','updateDebounceTimeout','mediaDevices','WebGL','openObjectStoreBucket','processInboundReport','\x20must\x20be\x20a\x20number','WorkflowInvalidBlockType','retryQueue','SystemStats','setRemoteNode','getPartsFromSubscription','engineType','connections','handleNodeJoin','answererId','logs','/transactions','createMediaStreamDestination','GenerativeAIContextAlreadyExists','setupListeners','setProviderId','Graph\x20database\x20creation\x20failed.','getFunctions','handleContentSubscribeMediaStream','processReport','LocalMediaStreamAlreadyExists','providerListener','keyValueDatabases','addIssue','setStatus','resolutionScale','source','PubSubTopic\x20not\x20found','.ex','handleStatsSystemEvents','Ingest','LocalReport','Problem\x20detected:\x20','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','status','createLocalMediaStream','scheduleTime','capacityReporter','openJobWorker','GraphDatabaseStats','Missing\x20AI\x20worker\x20connector','updateUser','feature-not-enabled','getSkills','Invalid\x20table\x20name\x20\x27','getPeaks','commit','internalSearch','/resources/generative-ai-model/items','Send\x20request','checkSyncComplete','createOutgoingSubscription','uuid','transactions','node-does-not-exist','getExternalStorageConnections','aiSearchConnector','supported','appsync-disconnect','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','.hbs','complete','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','GenerativeAIContextInvalidPartialResult','Buffering\x20event','processReceiverReport','getKeyValueDatabases','unsubscribeHandler','once','PubSub','aws','ai-search','reportMetric','handleSubscriptionUnsubscribeMediaStream','publishLocalMediaStream','numeric','Job\x20Worker\x20does\x20not\x20exist','.bat','en-US','queryFile','Invalid\x20query','An\x20error\x20occurred','shouldProcessTransaction','DataCollection','unpublish','connection-state','isWhereValues','play','createJobDispatcher','pendingFilesSyncing','sendChunked','KeyValueDatabaseStats','21a9d78dee97f487b','local-stream-does-not-exist','handlePeerConnectionSystemEvents','getSentences','mode','us-east-1','GenerativeAIModelOutputType','index','handshakeCandidates','CrewdleSenderConnection\x20createOffer','KeyValueDatabaseSendTransactions','bytesReceived','outgoingStreams','stopNoThrottlingHack','Upgrade','Cannot\x20get\x20size\x20of\x20path:\x20','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','padStart','getBid','KeyValueDatabaseInvalidLayout','/nodes','statsReport','getGraphDatabases','remove','getAvailableTrackKinds','inputType','pendingFilesTransactions','joinedAt','from','deleteObject','handleSubscriptionMediaStreamUnavailable','File\x20sending\x20interrupted','Missing\x20external\x20storage\x20connector','\x20with\x20\x27','STVolatility','CloseVectorDatabase','json_arr','RequestAccepted','Remote\x20connection\x20already\x20exists.','saveToDisk','out','ObjectStoreInvalidSyncMessage','Bitrate','events','videoHeight','failed','appsync-connect','localMediaStreams','deployedVersion','getOwnerId','initialize','addVideoTrack','getTotalBytes','unregisterSubscriber','handleDetectionSystemEvents','getDocs','ingestBlocks','getTime','New\x20MMR\x20Root:\x20','waitForArrayBufferSize','rating','handleNodeDisconnect','maxBpp','incomingManager','JobWorker:\x20Sending\x20job\x20reject','previousBytes','Retrieve','getMediaStream','System','getLocalId','2340855gVaBet','Model\x20store\x20not\x20initialized','JobWorker:\x20Sending\x20job\x20bid','extendedRecipients','List','unregisterSystemSource','job-dispatcher-invalid-payload','newPath','RemoteRemove','resolveReady','storage','Job','Invalid\x20subscriber.','tableName','IntermediateOutput','Generative\x20AI\x20context\x20job\x20already\x20consumed.','bind','validateAccess','readyPromises','isConnected','payloadType','external-storage','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','Missing\x20remote\x20node\x20or\x20rank','addProblem','removeConnection','pathName','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','Error\x20executing\x20agent','root\x20hash:\x20','/transactions/lastTransaction','Outgoing','createGenerativeAIWorker','InitialPrompt','true','getMaxDistance','Base\x20Peer\x20Connection','Node\x20is\x20not\x20an\x20agent','lastHeartbeat','onNodeDisconnect','mistlet-capacity-report-not-set','race','.exs','signInWithCredential','waitAnswer','sendFileRequestPayload','displayName','.crewdle-pending','orchestrator','assign','receiverConnection','Writable\x20stream\x20is\x20missing','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','.pug','getJobs','setEncodingParameters','getSubscribedTracks','height','NodeManager\x20-\x20NodeLeave','addTrack','.rkt','subscribe','generative-ai-worker-model-sync-error','subscription-request-in-progress','Internal\x20unknown\x20error:\x20','relations','startBidResponseHandling','processLocalReport','Before\x20Synchronization','Generative\x20AI\x20context\x20creation\x20failed.','google','key-value-database-invalid-layout','all','callback','createGenerativeAIContext','issue','sendAction','Restart','debounceLogTimeout','createPendingFileWrite','ObjectStoreStats','removeVectorDatabase','.xml','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','SubscribeMediaStream','getGenerativeAIContexts','lastProcessRank','removeListener','destinationIds','.clj','node','Node\x20not\x20authenticated','Job\x20service\x20job\x20not\x20found.','Vector\x20database\x20creation\x20failed.','7096120cvdZsq','insert','clearSubscriptionRequestTimeout','crewdle-sdk-stg','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','retryLimit','timePerFrame','VectorDatabase','trackChanges','objectStoreConnector','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','@context.','Cannot\x20find\x20External\x20Storage\x20connection:\x20','unregisterSource','addReservedTables','timeoutValue','getDisplayMedia','RequestFileWrite','removeEventListener','vectorDatabases','key-value-database-not-open','Setting\x20context\x20for\x20custom\x20skill\x20block','LocalMediaStreamTrackFail','processContentAvailable','collectionId','UpdateMediaStream','internal','Text','openTrace','Invalid\x20object\x20store\x20sync\x20message.','processPendingHandshakeCandidates','Rating','FeatureNotEnabled','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','amd','WordSplitter','context','MistletCapacityReportNotSet','handleOptimizationConnectionSuccess','removeOutgoingSubscription','GenerativeAIContext','audio','invalid-data-chanel','getConnectionGroup','maxFramerate','JobDispatcherObserverNotFound','Disconnected','deleteRemoteNode','getPriority','version','nodeId','objectToArrayBuffer','ObjectStoreNotInSync','Error\x20opening\x20trace','remoteUnsubscriber','Model\x20not\x20found','KeyValueDatabaseRequestTransactionsValue','Search\x20connector\x20not\x20set','Consuming\x20buffered\x20event','CannotProvideMediaStream','ScreenSharing','messagesReceived','maxBitrate','ObjectStore','RemoteConnectionExists','/developers/','CPUCycle','cleanOldSubscription','Skill','\x20-\x20','stringify','joinCluster','NodeDoesNotExist','setDisplayName','syncTimeout','jobPhase','AppSync\x20publish','waitSendBuffer','remote-stream-does-not-exist','observe','handleRemediationSystemEvents','instance','audioSource','removeRemoteConnection','generative-ai-context-does-not-exist','Opened\x20pubsub\x20topic','JobWorkerDoesNotExist','handleSubscriptionSystemEvents','Media','getShareableStream','getDatabase','WorkflowDoesNotExist','findIndex','handleOnMessage','handleContentUpdateMediaStream','Connection\x20not\x20initialized.','AudioOutput','handleFileWrite','PubSubTopicAlreadyExists','GenerativeAIContextJobTimeout','getConnection','delete','framesEncoded','findNextNodeId','job-dispatcher-job-not-found','answerJoin','GenerativeAIWorkerCreationFailed','Node\x20type\x20is\x20invalid','Error\x20closing\x20writable\x20stream','previous','GenerativeAIContextCreationFailed','threadId','local-media-stream-no-audio-context','modelId','peerConnectionConnector','map','Model','generativeAIWorkers','resolution','getSupportedContentTypes','contentRequestSent','ref','key-value-database-table-does-not-exist','syncTransactions','\x20seconds','application/octet-stream','max','Internal\x20event\x20\x27','\x20to\x20send\x20dispatcherJob\x20','chosenAnswers','ancestors','DTVolatility','minThreshold','ner','statsCollection','decodeJWT','left','indexOf','Disconnect','setupStatsReporting','Invalid\x20index\x20in\x20table\x20\x27','sendTransactionsValue','propagate','setPendingFileSyncingPayload','objectStoreId','distance','candidate','trackListeners','observer','Offline','getClosestNodes','upgradeTimeout','syncKeyValueDatabase','connectionState','childRemovedUnsubscriber','PubSubTopic\x20onMessage','getModels','ExternalStorageConnection\x20not\x20found','applyRemediation','sendBid','registerSource','Events','NodeUpdate','debugEnabled','handleNoAnswer','getUserMedia','getMinConnections','objectRequests','VectorDatabaseNameNotString','systemTopicUnsubscribe','Job\x20with\x20id\x20','openJobDispatcher','head','unregisterRemoteNode','senderPreviousBytes','parseDataCollectionBlocks','overlap','history','VectorDatabaseStats','remoteMediaStreams','Internal\x20error:\x20','senders','getBufferedAmount','asyncEndpointMethod','PubSub\x20already\x20exists','workflow-does-not-exist','isWhereValue','clientStream','processTransactionPayload','object-store-already-subscribed','ccc','MissingRemoteConnection','NodeNotAuthenticated','debounceProcessRank','jobWorkers','event','createVectorDatabase','Remove','RemoteRemediation','getLayout','transactionTable','7BKWVgU','.tsx','Error\x20loading\x20external\x20content','.rb','getContent','loadEnabledChannels','.ppt','createExternalStorageConnection','developers/','ObjectStoreAlreadyExists','rate','subscribeToLocalContent','JobWorkerCreationFailed','snippet','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','setRank','Audio','.conf','Additional\x20context:\x0a','getDataLogged','onRemoveTrack','nlpLibraryConnector','handleNodeLeave','FROM\x20file','getCoresFromCapacityReport','Count','publishLocalDynamicMediaStream','knowledge','I\x20am\x20done','vendorId','appsync-connect-fail','/resources/generative-ai-workflow/items/','Prompt','JobStream','processJob','Agent','handleChunkMessage','content-publish-media','successNotified','Transaction','removeTrackCallback','onMessage','resizeHandler','Move','Connection\x20does\x20not\x20exist.','Invalid\x20node\x20type','bufferedAmountLowThreshold','systemMessagesReceived','unsubscribe','detail','senderConnection','commitBatch','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','enumerateDevices','time_per_frame','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','KeyValueDatabaseInvalidValue','getLabel','reads','publishNodeJoin','stop','type','offset','Cluster','.ejs','/resources/external-storage/items/','createWritableStream','operations','CloseObjectStoreBucket','text','setEmail','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','GraphDatabaseCreationFailed','loggingCycle','JobWorkerInvalidType','sentence-splitter','attributes','object-store-invalid-payload','lastExecuted','crewdle-sdk.appspot.com','graphService','Invalid\x20job\x20worker\x20type.','cost','Node\x20already\x20exists.','jitter','job-dispatcher-invalid-job-type','vector-database','`\x0a\x0a','FolderMove','arrayBufferToObject','object-store-stream-does-not-exist','skipEncryption','getAgents','renderElement','registerRemoteNode','isSubscribed','OptimizationConnectionSuccess','object-store-invalid-path','commitLevel','sendRequest','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','Opened\x20logging\x20database','Key-value\x20database\x20peak\x20not\x20found.','remote-connection-exists','AppSync\x20connection\x20not\x20ready','enabledChannels','key-value-database-index-not-found','Query\x20is\x20required','onHandshakeStateChange','receiverCurrentBytes','connectAgent','ObjectKind','createAnswer','globalObject','sendPeakTransactions','objectStorageBuckets','Folder','Object\x20store\x20is\x20not\x20in\x20sync','Error\x20fetching\x20file','start','ExternalStorageUpload','notifyClusterNodeJoin','\x27\x20to\x20','Store\x20already\x20exists','blockId','Error','getInternalTrackParams','.ts','Database\x20Opened','currentVersion','cluster-leave','QueryFile','LocalMediaStreamDoesNotExist','drawImage','traceLevel','queryParameters','transaction','ended','handleRequestPayload','RemoteMediaStreamInvalidSubscriptionParams','removeJobDispatcher','Wait','Stats:\x20report','\x0a\x20\x20===\x20Total\x20Nodes:\x20','aiSearchApiKey','logDataSent','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','\x0a\x20===\x20Wait\x20Time:\x20','SearchGoogle','\x20transactions\x20from\x20node\x20','destination','Subscription','clusterKey','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','isPartialResultResponse','onConfigurationChange','number','long','JobWorker:\x20Sending\x20job\x20result','FileStatus','remediation','accumulated','tableUnsubscriber','receiverBitrate','String','setIsLoaded','syncContent','InvalidSubscription','Invalid\x20key\x20\x27','ExecuteCode','size','agentConfig','.handlebars','detectionManager','subscription-request-no-answer','byteLength','Cannot\x20publish\x20folder:\x20','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','outgoingTopic','createRemoteNode','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','logger','handleOffer','ReceiverOnMessage','storageType','maxConnections','arrayBuffer','processContentAvailable\x20-\x20Peak\x20comparison:','setupTrackEndedListeners','CrewdleConnection\x20handlePeerConnectionSystemEvents','text/','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','connectionPool','getSTVolatility','addRemoteNode','connectionStateListener','content-unpublish-media','knowledgeCutoffDate','framerate','srcObject','RemoteMediaStreamDoesNotExist','getRemoteMediaStreams','isNodeReady','Amplify','getConnectionDestinations','No\x20async\x20endpoint\x20URL','JobDispatcherJobExists','GenerativeAIModelInputType','crewdle-sdk-logging-','startsWith','asyncHeaders','video','AudioVideoDelay','Result','handlePublishMediaStream','RoundTripTime','width','.jsx','topic','onUnregisterPublisher','Connection\x20not\x20connected.','PubSubTopic\x20publish','handleLocalTrackFailure','Accepted','authenticateUser','table','Support','canRestartHandshake','log','frames','onremovetrack','closeTrace','ConnectionState','JobDispatcherInvalidJobType','KeyValueDatabaseNotOpen','optimizationLayers','Error\x20executing\x20code','createBatch','KeyValueDatabaseDoesNotExist','closeSubscription','_ready','createIncomingSubscription','Stats','pub-sub-topic-name-not-string','Code\x20is\x20required','onValue','syncPendingFiles','cancel','hasTable','getPacketsLostPerc','job-worker-creation-failed','handleJobAttribution','Found\x20','processContentQueue',':\x20Object\x20store\x20is\x20not\x20in\x20sync','remote-stream-missing-provider-id','JobStatus','setOnDisconnectHandler','SubscriptionRequestInProgress','replace','AI\x20Service\x20already\x20exists','CustomSkill','setPriority','getGraphDatabase','getMaxConnections','.groovy','sequence','bufferedEvents','eventListener','connection-no-retry-queue','temperature','Search\x20in\x20data\x20collection\x20','processRank','label','Key-value\x20database\x20transaction\x20value\x20not\x20set.','MediaStreamPriority','graph-database-creation-failed','Loaded\x20from\x20disk','.ps1','bufferedAmount','evaluateProccessedJob','parameters','where','chooseAnswer','generative-ai-worker-missing-connector','rank','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','RestartNeedMediaStream','getSenderBitrate','CanProvideMediaStream','ObjectStoreInvalidPayload','dataChannel','crewdle-sdk-stg.appspot.com','messageBuffer','syncResolve','mmr','ObjectStoreDoesNotExist','object-store-cannot-write-transaction','Valid\x20layout','entity','signaling','job-worker-already-exists','Job\x20worker\x20creation\x20failed.','serverTimestamp','GenerativeAILabelConflict','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','vector-database-already-exists','addMessage','Cannot\x20get\x20file:\x20','slice','retryQueues','bufferEvent','sendTransactionsValue\x20-\x20value\x20not\x20found','Attempt\x20','PeerConnectionInvalidDestination','setupConnectionEvents','Opened\x20object\x20store\x20bucket','subtle','11522XnNTbF','standalone','connectionGroup','signalingState',',\x20Transactions:\x20','PeerConnection','ExternalStorage','between','hasBufferedData','Offer','isLoaded','signalingServer','3954lbPgZC','user','canvas','Error\x20fetching\x20URL','addAudioTrack','DEBUG\x20-\x20','node-invalid-type','Boolean','setLocalRank','getSize','ContentType','processRemoveContent','Subscribing\x20to\x20an\x20event:\x20on','minConnections','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','publishNodeLeave','packetsLost','availableTrackKinds','createNewBatch','data','ConnectionNotConnected','checkMediaRecording','\x27\x20from\x20','getEntities','lastClockUpdate','KeyValueDatabase','processReports','Error\x20writing\x20chunk\x20to\x20stream','web-scraper','isArray','Job\x20Dispatcher\x20already\x20exists','objectStores','sendWithRetry','KeyValueDatabaseContentAvailable','Jitter','isJobRequest','buildInitialMMR','isRunning','topK','receiverStreams','streamLabel','AgentSkill','publishUserUpdate','mediaTopics','origin','clusters','providerId','bitrate','leave','dispatchEvent','key-value-database-transaction-table-not-initialized','getVideoTracks','generative-ai-context-job-missing-thread-id','senderStreams','isProduction','email','counter','filter','VectorSearch','getRank','initializeApp','Database\x20not\x20open','catch','moveObject','LocalMediaStreamNoAudioContext','query-file','roundTripTime','Job\x20service\x20observer\x20not\x20found.','processOutboundReports','function','handleFileRequestAnswer','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','createBufferSource','senderPreviousTimestamp','PartialResult','removeItem','writeTransaction\x20-\x20transaction\x20already\x20exists','No\x20connections\x20available\x20to\x20send\x20message','abs','ratePrompt','getLocalNode','DeviceConfig','captureStream','debounceAppendLog','generativeAIContexts','createConnection','requestSubscription','handleSuccess','sender-send-message','handleFolderCreate','remoteConnections','removeContent','jobObservers','previousTimestamp','getAudioTracks','processReceivedTransactions','connection','Early\x20return','/resources/generative-ai-skill/items','splitParts','processList','requestSubscriptionAction','\x20must\x20be\x20a\x20boolean','/objectstores/','enabled','manageAncestor','Job\x20service\x20creation\x20failed.','inputTokens','crewdle-sdk','Number','receiverPreviousTimestamp','remediationManager','rebuildMMR','LoadKnowledgeFunction','dbKey','handleSubscriptionProvideMediaStream','logServiceEvent','processRemoteInboundReport','firstValueFrom','problem','connectionManager','sourceId','DataChannel\x20buffer\x20is\x20full.','stats','getConfigs','hasRemoteNode','trackKinds','Subject','fromEntries','discoveryUnsubscriber','manageBufferedChunks','getReceiverBitrate','name','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','subject','Handshake','trackEndedListeners','Remote\x20MediaStream\x20already\x20exists','OutgoingMediaStreamNoTopic','createRemoteMediaStream','remainingTracks','queryOrPrompt','entity-extractor','inactive','DocumentParser','mediaUnsubscribers','registerCluster','searchApiKey','previousFrames','lastTransactionId','Could\x20not\x20open\x20trace','transactionQueue','peer-connection-invalid-destination','getPartsForSubscriptionLabel','generateClient','getLocalMediaStream','return\x20this','interval','Execute\x20skill\x20','dt_volatility','currentFrames','.yml','connect','handleFileRequest','addConnection','isReady','Generative\x20AI\x20context\x20job\x20timeout.','More\x20content\x20available\x20on\x20page\x20','externalStores','removeRemoteMediaStream','calculateArrayBufferSize','prototype','generative-ai-context-already-exists','createReceiverConnection','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','URL\x20is\x20required','fetchUrl','processServiceReport','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','nodeManager','modelStore','\x20attributed\x20to\x20','addCluster','waitAsync','minRelevance','options','hasMessage','getTransactionFromTableWriteEvent','trackCallback','checkMediaStream','dataStores','getJobDispatchers','computeHash','issues','JobDispatcherAlreadyExists','Error\x20loading\x20existing\x20content','close','getSimilarity','queues','collection','\x0a\x20===\x20Total\x20Data\x20Received:\x20','Reranker\x20block\x20is\x20missing\x20required\x20data','cluster-already-joined','join','generative-ai','maxLayer','isMediaDestination','startHeartbeat','PayloadAction','committed','instantiateTransactionTable','peaks','FolderDelete','Subscription\x20request\x20does\x20not\x20exist.','No\x20parameters\x20provided','Chosen\x20answer','ObjectStorageUpload','media-stream','iceConnectionState\x20failed','setRemoteConnections','destroy','workflow','onCandidate','action','\x0a\x0a`Executing\x20agent\x20','documentParserConnector','failJob','stream','MediaStream','object-store-invalid-sync-message','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','setParams','GenerativeAIContextJobMissingThreadId','__esModule','\x20not\x20supported','compileStats','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','changesUnsubscriber','/nodes/','ObjectStoreCannotWriteTransaction','ConnectionGroup','chunksReceived','pow','publishTransaction','Subscription\x20request\x20failed.','checkWebGL','AudioVolume','internal-sdk-error','/resources/agent/items/','remote-media-stream-invalid-subscription-params','NodeManager\x20-\x20NodeUpdate','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','match','list','Internal\x20SDK\x20error:\x20','evaluateBidsAndAttributeJob','vector-database-does-not-exist','removeTopic','\x20does\x20not\x20support\x20content\x20type\x20','error','getPeakNode','isInternalSDKConfigs','collectReceiversStats','Problem','getJobObservable','cachedRoot','Opened\x20key\x20value\x20database','sendStats','incomingTopic','\x0a\x0a`Executing\x20custom\x20skill\x20','recomputeRoot','openKeyValueDatabase','IngestTrace','Downgrade','unshift','next','Bid','receiverPreviousBytes','VectorDatabaseCreationFailed','createLocalDynamicMediaStream','Content','nextNodeId','batchQueue','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','queueLength','WorkflowTrace','\x20deleted.','endsWith','GenerativeAIContextDoesNotExist','json','RequestFileSync','maxResolution','MediaStreamUnavailable','upgrade','Emitting\x20event\x20on\x20local\x20cluster','externalStorageConnections','getEngineType','Relation','unregisterDestination','searchOnPerplexity','nodeKey','updateLastTransactionId','RemoteAdd','api','isOpened','external-storage-connection-does-not-exist','Invalid\x20value.\x20Property\x20\x27','relevance','targetId','handleOutgoingSystemEvents','logConnectionState','\x0a\x20===\x20Total\x20Time:\x20','urls','shouldContinuePropagation','parse','Hub','handleContentUnsubscribeMediaStream','utf8','listChanges','GenerativeAIContextJobFailed','owner','oncloseTimeout','agent','authNode','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','hash','resume','Warning','connectorConstructor','InvalidPublisher','threshold','logSupport','handleSystemEvents','processPendingSyncTransactions','frameHeight','removeKeyValueDatabase','graphDatabases','setDoc','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','includes','removeSubscription','setBytes','PromptRating','key-value-database','setInternalId','handleAnswer','vector','tables','queries','.json','cpu.av_delay','localNode','.crewdle-transactions','collectStats','filesSynced','data-stream','.info/connected','logStorage','key-value-database-table-not-found','clearOncloseTimeout','retrieveBlocks','setUpgradeTimeout','SearchPerplexity','GenerativeAIWorker:\x20Models','toString','publishFile','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','firebaseConfig','/resources/generative-ai-agent/items','send','CloseKeyValueDatabase','KeyValueDatabase\x20not\x20found','isComputingMMR','createGraphDatabase','Remote\x20stream\x20does\x20not\x20exist.','\x20check\x20failed','node-not-authenticated','getCapacityReport','appsync-no-destination','agent-skill','\x20ms\x0a','isInternalLoggingConnector','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','exports','Entity','string','Given\x20search\x20results\x20for\x20','createAIJob','\x20to\x20generate\x20a\x20response.','outbound-rtp','handleContentCloseMediaStream','setupStatsCollection','nodeUpdate','Setting\x20context\x20for\x20answer\x20block','emit','object-store-invalid-state','key','client','values','GraphSearch','FileWrite','getWorkflowObjectStorageBuckets','Logging\x20not\x20enabled\x20for\x20channel\x20','sync','Error\x20during\x20MMR\x20rebuild\x20logging:','registeredListeners','toFixed','registerSubscriber','JobWorker:\x20Tracing\x20not\x20implemented','Agent\x20group\x20not\x20found','removeExternalStorageConnection','ExternalStorageStats','Support:\x20','DataChannel\x20is\x20not\x20initialized.','expectedTransactions','restartHandshake','discoveryService','notifyObjectStoreOfNodeJoin','isFailedResponse','setReceiverBytes','\x20MB','createElement','User','onDisconnect','Invalid\x20publisher.','feedback','transactionHashMap','runJobQueue','getMediaSubscription','iceServers','unsubscribeListener','JobDispatcherJobNotFound','isWhereBetween','rtt','setupRenderElement','timesCalled','createMediaStreamSource','internalProcessJob','doc','messageType','addDoc','state','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','SubscriptionRequestNoAnswer','FileDelete','createKeyValueDatabase','limitToFirst','data-collection','topicLabel','getTransactionByHash','/resources/generative-ai-grammar/items','NeedRestart','timestamp','handleContentUnpublishMediaStream','replaceTrack','updateJob','getRoundTripTime','debug','updated','graph-database-name-not-string','StreamReport','removePubSubTopic','isFeatureSupported','Add','Job\x20Dispatcher\x20does\x20not\x20exist','KeyValueDatabaseCreationFailed','getSubscriptionLabel','Cannot\x20list\x20directory:\x20','Node','getRemoteConnections','GenerativeAIContextStats','Incoming','74634WglyWi','reranker','.pptx','functions','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','1.0.18','muted','onClose','streams','dataUnsubscribers','Received\x20content\x20available\x20from\x20node','27931275jBYZeG','senderCurrentBytes','readyResolve','GenerativeAIRatingStatus','\x20received\x20responses:','evaluatePartialJob','encode','onNodeUpdate','vector-database-creation-failed','entries','logInitialMMR','streamId','ranges','timeSending','hasTracks','.swift','heartbeatUnsubscriber','support','hashPeakHashes','OPFSObjectStoreConnector','handleSubscriptionRestartNeedMediaStream','outgoingManager','NodeInvalidType','JobWorker:\x20Received\x20job','addCandidate','instructions','object-store-name-not-string','listenerUnsubscriber','connection-buffer-not-empty','loadLocalContent','.jl','contentQueue','subscriptions','publish','canProvideResolution','JobType','isSyncing','key-value-database-invalid-query','/resources/generative-ai-collection/items','agent-update','maxOutgoingSubscriptions','system-stats','responseTimeout','AppSync\x20subscribe','CREWDLE_WEB_SDK','eventEmitter','SyncComplete','bodyParameters','Opened\x20model\x20store\x20bucket','\x27\x20is\x20not\x20ready','logLevel','Receiving\x20\x27','\x20for\x20','nodesConnected','timeReceiving','subscriptionRequestTimeouts','CrewdleConnectionGroup','ChunkSplitter','openExternalStorageConnection','Agent\x20output\x20is\x20not\x20a\x20string','syncFolder','file-upload','unsubscribeTrackEndedListener','Request','getItem','completed','result','Missing\x20vector\x20database\x20connector','getFirestore','lastUpdated','processOutboundReport','NeedMediaStream','handleSubscribeMediaStream','Debug','startTime','getCurrentVersion','deleteFileChunks','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','No\x20connector\x20found\x20for\x20model','contentMediator','Everyone\x20','web-scraper-raw','transformations','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','success','generative-ai-label-conflict','getSenderTotalBytes','.Total\x20pages\x20available:\x20','.tcl','database','searchConnector','tail','getGenerativeAIWorkers','Unexpected\x20output\x20type','toStringTag','maxThreshold','Failed\x20to\x20commit\x20batch\x20after\x20retries:','external-storage-name-not-string','memoryUsage','\x20received\x20result:','ObjectStoreInvalidPath','handshakeDebounce','startTracing','removeLocalMediaStream','setCurrentVersion','detectVideoIssues','removeSubscriptionsForNode','filteredDestinationIds','file','object-storage-upload','handleError','connection-not-connected','receivers','outputType','concat','addEventListener','output','detectLocalIssues','external-storage-upload','fps','object-store-not-synced','vector-database-missing-connector','clearSyncTimeout','Key-Value\x20Database\x20-\x20Sync\x20Completed','RetrieveTrace','now','packetsSent','senderTimeProcessing','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','WebScraper','mediaStream','checkDeviceConfig','node-already-exist','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','noun','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','\x20already\x20exists.','SyncKeyValueDatabase\x20-\x20Ancestors\x20','addPendingHandshakeCandidate','startNoThrottlingHack','region','processBatch','setLoggingConnectors','removeTrack','getQuery','JobWorker:\x20Received\x20job\x20request','onChildRemoved','connector','links','StorageEventType','Failed\x20to\x20send\x20job\x20','Cannot\x20publish\x20payload:\x20','No\x20destinationIds\x20left','ClosePubSubTopic','Completed','.cfg','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','getInstance','getLocalMediaStreams','commitType','subscriptionRequests','PromptFunctionParamsType','Error\x20resolving\x20readyPromises:','tracks','configs','orderBy','currentTimestamp','.dart','Code','contentManager','getLastUpdated','problemType','openGenerativeAIContext','orderByKey','trace','logRaw','getIsLoaded','jobBids','onBufferedAmountLow','evaluateBids','handleSubscriptionSubscribeMediaStream','CloseGraphDatabase','addNode','getDataBucketIds','.js','Online','receiverTotalMessages','durationTime','Pool','processSenderReport','KeyValueDatabaseTableNotFound','direction','loggingDatabaseConnector','stopTracing','Core','generative-ai-context-job-failed','logSyncMetrics','Error\x20fetching\x20context','waitSuccess','canChooseAnswer','warn','getOrResetPendingFileTimeout','.md','removeTrackListeners','handleUnpublishMediaStream','Data\x20collection\x20not\x20found','contentType','getModel','ClusterAlreadyJoined','GenerativeAIWorkerModelSyncError','0\x20B','validateValue','kind','retryDelay','AppSync\x20client\x20not\x20ready','lastRemediations','getWorkflowExternalStorageConnections','No\x20global\x20object\x20found','Missing\x20graph\x20database\x20connector','mergeParts','getApp','Logging\x20database\x20not\x20initialized','ModelVector','getContext','confirmSynchronization','\x20failed.\x20Retrying...','word-splitter','Waiting','addBatchOperation','Knowledge\x20Cutoff\x20Date:\x20','checkBackgrounds','has','batchSize','DataStream','Error\x20reading\x20file\x20chunk\x20after\x20','\x20-\x20Sending\x20propagation\x20(','GenerativeAIWorkerAlreadyExists','JobDispatcherDoesNotExist','updateDebounce','WebScraperRaw','Rejected\x20answer','Medium','ObjectStoreInvalidState','boolean','onDisconnectHandler','errorDetails','onProviderChange','InvalidDataChannel','UnpublishMediaStream','transactionsToSync','jobs','FetchUrl','functionsRegion','getTotalNodes','messageListeners','Receiver\x20connection\x20is\x20not\x20initialized.','verb'];a0_0xee09=function(){return _0x20f39c;};return a0_0xee09();}