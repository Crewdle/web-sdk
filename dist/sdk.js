function a0_0x1cb0(){const _0x5a725e=['processJob','Get','kind','workflow-invalid-block-type','.java','Invalid\x20params','subscriptionManager','Connection','openGraphDatabase','Subscription\x20request\x20does\x20not\x20exist.','captureStream','Key-value\x20database\x20transaction\x20value\x20not\x20set.','FolderMove','floor','queueLength','detectAudioIssues','entity-extractor','JobDispatcherAlreadyExists','LocalMediaStreamTrackFail','statsReport','\x20-\x20Sending\x20propagation\x20(','getResolutionScale','handleTransactionPayload','GraphDatabaseStats','NodeUpdate','endpointUrl','addEdge','getConfigs','findNextNodeId','time_per_frame','startTracing','getTransactionFromTableWriteEvent','setTimestamp','mediaTopics','answerContentAvailable','runJobQueue','job-dispatcher-creation-failed','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','incrementVersion','Problem','WorkflowTrace','JobWorker:\x20Sending\x20job\x20bid','getRoundTripTime','retryCallback','byteLength','msalRefreshToken','TestPage','setPriority','senderConnection','getFirestore','Hub','systemMessagesReceived','lastTransactionId','setOnMessageHandler','Queued','getAvailableTrackKinds','\x20answer','syncedFileExists','.ini','ObjectKind','maxThreshold','cleanOldSubscription','getApp','Jitter','getSubscribedTracks','find','processReports','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','setVendorId','previousTimestamp','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','PromptFunctionParamsType','\x20received\x20partial\x20result:','ObjectStorage','senders','av_delay','graph-database','\x20does\x20not\x20exists','getMediaStream','notifyObjectStoreOfNodeLeave','pendingHandshakeCandidates','Could\x20not\x20open\x20trace','newPath','statsManager','task','GenerativeAIContextInvalidPartialResult','connection-state','ready','publishTransaction','KeyValueDatabaseNotOpen','oncloseTimeout','tokens','createLocalMediaStream','NodeTypeRequired','NodeAlreadyExist','Rejected','ConnectionGroup','disconnected','key-value-database-invalid-query','.rkt','ReceiverOnMessage','createNewBatch','getLocalId','cachedRoot','onCandidate','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','agent-config-changed','Data','rating','timeoutCallback','tableObserver','MediaStreamPriority','checkMediaStream','NodeManager\x20-\x20PublishNodeLeave','head','getFunctions','developers/','snippet','publishSystemMessage','pub-sub-topic-name-not-string','createBatchOperation','maxBitrate','outgoingManager','keyPath','Cannot\x20get\x20size\x20of\x20path:\x20','clearOncloseTimeout','Node\x20does\x20not\x20exist.','openJobWorker','clearWaitSuccess','Data\x20Sent','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','\x20must\x20be\x20a\x20string','timeSending','connection-not-initialized','ChunkSplitter','disconnect','getContent','Node\x20not\x20authenticated','KeyValueDatabaseTransactionValueNotSet','maxBpp','loggingConnectors','LocalMediaStreamNoAudioContext','getPubSubTopics','onDisconnect','Accepted','setReceiverTimestamp','getResolution','Error\x20reading\x20file\x20chunk\x20after\x20','dt_volatility','listenerUnsubscribers','forceLog','setTransformations','from','AI\x20worker\x20creation\x20failed.','Retrieve','PublishMediaStream','receiverTimeProcessing','checkWebGL','/transactions/','vector-database-creation-failed','checkDeviceConfig','isBidResponse','Incoming','overlap','updateUser','evaluateBidsAndAttributeJob','payload','deleteObject','fetchContentFromUrl','answererId','calculateArrayBufferSize','completeSync','getPartsFromSubscription','processDataChannelReport','where','some','currentTimestamp','handleProblem','startLoggingCycle','table','connection-no-retry-queue','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','726488mQngCA','readyPromises','close','getLocalNode','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','generative-ai-context-job-timeout','NodeDoesNotExist','Knowledge','\x0a\x20===\x20Total\x20Time:\x20','getOutgoingOptimizationConnections','log','receiverConnection','track','moveObject','agent-join','Initial\x20MMR\x20built\x20with','missing-system-topic','SubscriptionRequestInProgress','updateJob','\x0a\x20===\x20Current\x20MMR\x20Root','getDoc','detail','processTransactionsToComputeMMR','signInWithCustomToken','ExternalStorageConnection\x20not\x20found','JobWorker:\x20Sending\x20job\x20result','clientStream','functions','knowledge','batchQueue','job-worker-invalid-type','queryParameters','getBuffer','getAgents','processSenderReport','getSubscriptionInfo','mediaDevices','setDisplayName','Unexpected\x20output\x20type','statusText','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','streamLabel','Transaction','exports','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','RemoteMediaStreamTrackFail','objectStoreConnector','contentSize','getContext','deleteRemoteNode','LoggingService:\x20logging\x20enabled\x20for','ObjectStoreStats','isMediaDestination','Cannot\x20get\x20file:\x20','senderStreams','JobDispatcherInvalidPayload','frameTime','getCurrentMaxLayer','sendIceCandidates','upgradeTimeout','Node\x20is\x20not\x20an\x20agent','bufferedChunks','remoteId','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','handleRequestPayload','local-media-stream-track-fail','authenticateUser','changesUnsubscriber','transactionsToAppend','mmr','Agent\x20block\x20is\x20missing\x20required\x20data','getProviderId','getWorkflow','createFolder','GenerativeAIContextJobMissingThreadId','handleContentUnpublishMediaStream','indexOf','isInternalSDKConfigs','getConnectionType','getAudioTracks','validateValue','maxDepth','remediation','pendingFilesSyncing','root\x20hash:\x20','KeyValueDatabaseTransactionTableNotInitialized','Logger.getInstance','tableName','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','sdkValidateAccess','buffer','logDataReceived','key','KeyValueDatabaseCreationFailed','object-store-not-synced','getMaxConnections','remote-media-stream-invalid-subscription-params','generative-ai-context-does-not-exist','ConnectionNotinitialized','errorDetails','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','isIceCandidate','firebase-connect','destinationIds','maxOutgoingSubscriptions','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','isConnected','No\x20answer\x20block\x20found','handleSubscribeMediaStream','contextInputVariable','initializeLoggingDatabase','systemTopic','senderPreviousTimestamp','Invalid\x20version\x20\x27','getPacketsLostPerc','email','PubSubTopicAlreadyExists','Debug','results','setLocalRank','isSync','clear','VectorDatabaseStats','stopConnection','canProvideResolution','onSnapshot','completed','count','createElement','processList','setSenderTimestamp','iceServers','totalNodes','open','setDurationTime','removeTopic','Missing\x20owner\x20node\x20or\x20rank','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','Invalid\x20query','move','getLocalMediaStreams','media-stream','\x20sending\x20attempt\x20','processBatch','.ps1','.jsx','onConfigurationChange','application/octet-stream','showSkillOutput','previousBytes','/nodes','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','checkScreenSharing','ObjectStoreInvalidPath','mediaUnsubscribers','Support:\x20','handleSubscriptionMediaStreamUnavailable','name','feature-not-enabled','keyValueDatabases','externalStorageConnectionIds','/resources/generative-ai-collection/items','nodeKey','createOffer','Cluster','getRank','waitSendBuffer','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','Online','hasRemoteNode','LocalMediaStreamDoesNotExist','createBatch','CrewdleReceiverConnection\x20ontrack','New\x20MMR\x20Root:\x20','senderCurrentBytes','dataStores','_ready','PayloadAction','GetContextResult','object-storage','getConnectionDestinations','DTVolatility','propn','direction','Workflow\x20not\x20initialized','ownerId','bucketId','clearConnectionTimeout','job-dispatcher-invalid-payload','JobDispatcherObserverNotFound','Answer','\x20must\x20be\x20a\x20number','KeyValueDatabaseAlreadyExists','ExecuteAgent','KeyValueDatabaseNameNotString','Sender\x20connection\x20is\x20not\x20initialized.','handleSubscriptionSystemEvents','syncFolder','external-storage','RestartNeedMediaStream','logRaw','key-value-database-invalid-value','external-storage-connectors-missing','SubscriptionRequestNoAnswer','sequence','availableTrackKinds','Model\x20not\x20found:\x20','getJobDispatchers','orderBy','Disconnect','connection-invalid-data-event','tables','getName','SenderPeerConnection\x20send','modelName','setPendingFileSyncingPayload','transformations','groupId','removeItem','onloadeddata','SHA-256','logSupport','handleSubscriptionUnsubscribeMediaStream','Writable\x20stream\x20is\x20missing','objectStoreId','1.0.2.0','handleNodeLeave','DataStream\x20onMessage','codes','Orchestrator\x20handleSystemEvents','debugEnabled','Waiting','CloseKeyValueDatabase','listen','parameters','GenerativeAIWorkerStats','number','.bat','onGatheringStateChange','crewdle-sdk-stg','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','pow','bandwidth.rtt','265615psSCNn','Default','Context','isValidMediaSubscriptionParams','every','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','handleContentRemoteMediaStreamTrackFail','SenderPeerConnection.send','removeJobWorker','queues','skill','clearHeartbeat','ExternalStorageConnectionDoesNotExist','invalid-subscriber','registerSystemSource','options','.crewdle-layout','sendTransactionsValue','addConnection','createJobDispatcher','isReconnecting','ContentType','getAudioVideoDelay','NodeManager\x20-\x20ConnectionSuccess','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','audioSource','Key-value\x20database\x20table\x20does\x20not\x20exist.','Connection\x20does\x20not\x20exist.','outgoingTopic','issue','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','listChanges','processReport','KeyValueDatabasePeakNotFound','SyncKeyValueDatabase\x20-\x20Ancestors\x20','orchestrator-close','handleContentUnsubscribeMediaStream','getShareableStream','unregisterSystemSource','ObjectStoreAlreadyExists','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','logMMRRebuild','.ts','connection-not-connected','list','connectorConstructor','RemoteRemove','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','sort','Module','getEngineType','isArray','scheduleTime','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','external-storage-connection-does-not-exist','SearchGoogle','min','transactionIds','user-update','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','jobDispatchers','GraphDatabaseCreationFailed','getIsLoaded','remainingTracks','parse','GenerativeAIWorkerMissingConnector','decodeJWT','firebaseConfig','NodeManager\x20-\x20NodeUpdate','off','peerConnectionConnector','syncKeyValueDatabase','ObjectStoreNotInSync','RetrieveTrace','startAt','total','discover','abs','inputType','crewdle-sdk-logging-','stun:','indexes','\x20failed.\x20Retrying...','URL\x20is\x20required','\x0a\x0a`Executing\x20agent\x20','page','getNextTargetRank','\x20-\x20','parseWorkflowBlocks','time','writes','getObjectStoreBuckets','publishUserUpdate','.conf','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','handleOffer','SubscriptionRequestFailed','ObjectStoreNameNotString','startsWith','muted','crewdleSDKDisableLogging','Received\x20track','remoteUnsubscriber','all','bufferedAmount','senderCurrentTimestamp','ObjectStoreDoesNotExist','CloseJobDispatcher','invalid-subscription','title','modelId','KeyValueDatabaseInvalidValue','Support','JobWorker:\x20Tracing\x20not\x20implemented','getDocs','.lua','joinedClusters','state','handleCloseContent','isWhereBetween','message','compileStats','Handshake','messageListeners','user','node-invalid-type','image','setInternalId','.go','\x20check\x20failed','priority','subscribedTracks','remoteConnections','RemoteMediaStreamDoesNotExist','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','mistlet-capacity-report-not-set','default','onProviderChange','ReceiverPeerConnection.onMessage','setRemoteConnections','ObjectStore','rootComputationPromise','Backgrounds','GenerativeAIContext','removeRemoteMediaStream','handshakeState','sourceId','timePerFrame','incomingManager','max','Downgrade','Node','handleError','Search\x20in\x20data\x20collection\x20','writeFile','vectors','removeThread','authenticateAgent','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','comparePeaks','queries','manageAncestor','ExternalStorageConnectionAlreadySubscribed','Sync\x20completed','wait','/stats','getBufferedAmount','Bitrate','Workflow\x20does\x20not\x20exist.','Delete','providerListener','exists','handleObjectMove','DataCollection','resolutionScale','includes','.dart','Object\x20store\x20is\x20not\x20in\x20sync','publishSyncCompletedAfterWrites','getRemoteNode','Everyone\x20','RequestFileWrite','MediaStream','getPartsForSubscriptionLabel','senderBitrate','send','addRemoteNode','parseWorkflowDocument','setConnectionType','registerSource','messageBuffer','onNodeDisconnect','.handlebars','sdkCreateToken','loggingDb','Emitting\x20event\x20on\x20local\x20cluster','GenerativeAIEngineType','520174gOuVQe','ClosePubSubTopic','taskType','Text','externalStores','firebaseUnsubscriber','.clj','maxTokens','key-value-database-does-not-exist','appendTransactionAndUpdateHashMap','workflow','Medium','VectorDatabaseDoesNotExist','component','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','replaceTrack','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','MediaStream\x20feature\x20not\x20enabled','\x20writes\x20from\x20','getJob','Agent\x20group\x20not\x20found','setOnTableWriteHandler','connection','deletePendingFile','.ejs','generative-ai-worker-already-exists','updateDebounceTimeout','messageUnsubscriber','ratePrompt','Table\x20not\x20found','Invalid\x20data\x20event.','accumulateResult','createPubSubTopic','handleNodeDisconnect','LocalReport','Start\x20Ingestion','closeTopic','JobWorkerCreationFailed','CloseGraphDatabase','getDisplayName','Connected','removeTrackCallback','remote-media-stream-already-exists','_isReady','getModel','stringify','Publish\x20the\x20transaction','handleContentUpdateMediaStream','AgentSkill','setSubscriptionRequestTimeout','getMaxDistance','FileDelete','st_volatility','crewdleSDKEnableLogging','graph-database-creation-failed','Missing\x20vector\x20database\x20connector','Error\x20searching','deleteFileChunks','handlePublishMediaStream','RemoteAdd','endsWith','setContent','owner','timeoutValue','statsReporting','getSize','cluster-disconnect','KeyValueDatabaseContentAvailable','getTransactionByHash','rtt','getRemoteConnections','layout','round','encode','url','getSettings','processJobStream','\x20created\x20and\x20dispatched.','Request','Before\x20Synchronization','getKeyValueDatabases','/transactions/lastTransaction','Syncing','publish','restartHandshake','JobWorker:\x20Received\x20job\x20request','relation-extractor','createOutgoingSubscription','vendorId','unshift','slice','concat','graphql','messagesReceived','getTable','Outgoing','getReceiverBitrate','key-value-database-already-exists','handleUpdateMediaStream','listener','processInboundReports','shouldContinuePropagation','openVectorDatabase','setRemoteNode','cluster-already-joined','\x20seconds','fromEntries','contentMediator','nodesConnected','Resolution','__esModule','.rs','All','createSenderConnection','GraphSearch','toStringTag','jobBids','loadFromDisk','rebuildMMR','Missing\x20AI\x20worker\x20connector','onTrack','dataUnsubscribers','handleContentCloseMediaStream','Sender','removeVectorDatabase','job-dispatcher-already-exists','JobType','vector-database-already-exists','content','out','outputType','calculateSize','internalRatePrompt','api','transactionHashMap','WorkflowDoesNotExist','searchApiKey','retrieveContext','Detection','candidate','get-content','createBuffer','ingestBlocks','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','Error\x20retrieving\x20context','.twig','Cannot\x20publish\x20folder:\x20','onUnregisterPublisher','JobWorker:\x20Error\x20processing\x20job','VectorDatabaseMissingConnector','element','GenerativeAIWorkerCreationFailed','\x20to\x20send\x20dispatcherJob\x20','authService','MistletCapacityReportNotSet','Image','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','external-storage-invalid-path','updated','8582680xbQosf','getPriority','buildQuery','audioContext','/nodes/','load','isWhereValues','answers','string','AI\x20Service\x20already\x20exists','test-page','processPendingHandshakeCandidates','output','framerate','disconnectCallback','addCandidate','retrieveBlocks','handleChunkMessage','Recording','Buffered\x20chunks\x20are\x20too\x20large','GraphDatabaseAlreadyExists','shift','getExternalStorageConnection','getSTVolatility','Generative\x20AI\x20context\x20job\x20failed.','verb','\x20is\x20required','Error\x20closing\x20trace','Node\x20\x27','unregisterDestination','ref','restartTimeout','object-store-invalid-state','MediaStreamUnavailable','connectionState','connected','packets','GetDate','handleDisconnect','Invalid\x20workflow\x20block\x20type.','receiverTotalMessages','KeyValueDatabaseContentSynchronized','SyncComplete','eventEmitter','setupStatsReporting','OutgoingMediaStreamNoTopic','openGenerativeAIWorker','addProblem','resolution','NodeTypeNotSupported','bufferEvent','Model\x20not\x20found','getRoot','successNotified','JobWorker:\x20Sending\x20job\x20reject','createPendingFileWrite','getWorkflowExternalStorageConnections','KeyValueDatabaseInvalidQuery','UpdateMediaStream','Jobs','join-cluster','updateLastUpdated','removeRemoteNode','signOut','threshold','engine','generative-ai-context-already-exists','temperature','processRemoteInboundReport','openPubSubTopic','toLowerCase','getMilliseconds','crewdle-sdk-stg.appspot.com','Invalid\x20table\x20name\x20\x27','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','entity','job-worker-already-exists','getTrack','maxResolution','sendWithRetry','update','hasMessage','Job\x20with\x20id\x20','model','Connection\x20does\x20not\x20exist','crewdle-sdk-stg.firebaseapp.com','resolveReady','external-storage-upload','PubSub','call','findNewMediaSubscription','FeatureNotEnabled','PubSubTopicNameNotString','Restart','Subscription\x20request\x20has\x20not\x20been\x20answered.','grammar','documentParserConnector','nodeId','fileSendingMap','VectorDatabase','getLabel','RemoteMediaStreamAlreadyExists','inactive','prompts','getGrammars','rejectReady','/objectstores/','.scala','reduce','Move','Received\x20event\x20on\x20cluster','endpoint','Buffering\x20event','/resources/generative-ai-model/items','getObjectStoreBucket','text/plain','addBatchOperation','getThread','validateLayout','event','createKeyValueDatabase','renderElement','maxDistance','getDisplayMedia','getDataCollections','providerId','debounceAppendLog','key-value-database-index-not-found','.pl','420235181083','recomputeRoot','nodeUpdate','setBytes','agent-update','eventTarget','isWhereValue','openObjectStoreBucket','appsync-connect','Receiver\x20connection\x20is\x20not\x20initialized.','interval','GenerativeAIContextAlreadyExists','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','clearWaitAnswer','OPFSObjectStoreConnector','nodes','evaluateBids','answerJoin','crewdle-sdk.firebaseapp.com','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','shouldProcessTransaction','insert','getRemoteNodes','set','setOnDisconnectHandler','.cfg','pendingSyncTransactions','/transactions','left','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','String','removeJobDispatcher','Remote\x20stream\x20does\x20not\x20exist.','notifyClusterNodeUpdate','connectionManager','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','Offline','createLocalDynamicMediaStream','ranges','right','remote-connection-exists','detection','UnsubscribeMediaStream','desc','stopNoThrottlingHack','keys','toLocaleDateString','uid','trace','Ingest','DatabaseEvent','setupTrackEndedListeners','Vector\x20database\x20creation\x20failed.','rate','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','SubscribeMediaStream','application/json','Count','search','onHandshakeStateChange','hasTracks','generative-ai-label-conflict','NodeType','saveToDisk','setReceiverBytes','ConnectionBufferNotEmpty','generativeAIWorkers','outgoingStreams','ConnectionNotConnected','getCurrentVersion','subtle','answer','features','findIndex','success','PartialResult','unregisterSource','Subscription\x20request\x20failed.','Prompt','Additional\x20context:\x0a','JobContext','getSupportedContentTypes','searchInDataCollection','globalObject','contentType','Signaling','GraphDatabaseNameNotString','lastExecuted','GetContextQuery','trackChanges','Error\x20processing\x20ingest','ObjectStoreInvalidSyncMessage','GenerativeAILabelConflict','Cannot\x20list\x20directory:\x20','removeConnection','addIssue','ExecuteCustomSkill','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','Code\x20is\x20required','notifyClusterNodeJoin','unsubscribe','connectionConstructor','waitAnswer','\x20not\x20found.','jobs','getWorkflowModels','.kt','folder-create','debounceProcessRank','notifyCluster','JobWorker:\x20Received\x20job','checkAudioVolume','json','trackListeners','\x20attempts:','offset','mediator','durationTime','processOutboundReport','SystemTopic\x20publish','JobWorkerDoesNotExist','processContentAvailable\x20-\x20Peak\x20comparison:','processInboundReport','KeyValueDatabaseStats','createGraphDatabase','\x20were\x20ready\x20in','Core','LoadSkillFunction','transactions','getAncestorIds','queryOrPrompt','ExecuteCode','TimePerFrame','request-file-write','discoveryUnsubscriber','Cannot\x20find\x20External\x20Storage\x20connection:\x20','waitConnected',':\x20Object\x20store\x20is\x20not\x20in\x20sync','warning','getDTVolatility','GenerativeAIContextJobTimeout','trackEndedListeners','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','getSenderBitrate','hasOwnProperty','openTrace','ObjectStorageUpload','data-stream','OptimizationConnectionSuccess','Key-value\x20database\x20creation\x20failed.','Received\x20ContentSynchronized\x20from\x20','setEncodingParameters','clusters/','Relation','readyResolve','recipients','generative-ai-worker-creation-failed','setupListeners','key-value-database-table-does-not-exist','clearRestartTimeout','skipEncryption','Unsupported\x20job\x20type','createRemoteMediaStream','logging-db-','notifyObjectStoreOfNodeJoin','Internal\x20SDK\x20error:\x20','dispatchEvent','Missing\x20answerer\x20id\x20on\x20request\x20answer','Success','chooseAnswer','connectionGroup','setupResizeHandler','params','loggingCycle','Valid\x20layout','graphService','committed','deleteJob','getLayout','has','get','User','getContentType','\x20received\x20result:','isEqual','graphDatabases','IngestTrace','Database\x20Opened','subject','createReceiverConnection','pop','Code','getSubscriptionLabel','searchConnector','httpsCallable','Database\x20already\x20exists','reset','LocalMediaStreamAlreadyExists','subscribeToJobs','.jinja','generative-ai-worker-missing-connector','PubSubTopicStats','accessToken','checkExistingPendingFileContent','context','Vector','AudioVolume','RelationExtractor','externalStorageConnections','isJobAttribution','vector-database-missing-connector','WebScraper','Error\x20executing\x20agent','registerSystemPublisher','dbKey','dataChannel','loop','getModels','streams','signaling','getCurrentDate','AudioContext\x20is\x20not\x20available','retryQueue','initialize','messageType','resetConnection','sendReject','srcObject','unsubscribeListener','compareTransactions','canRestartHandshake','path','Invalid\x20value.\x20Must\x20be\x20an\x20object.','race','server','createObjectStoreBucket','CrewdleConnection\x20handlePeerConnectionSystemEvents','sendPeakTransactions','Missing\x20graph\x20database\x20connector','KeyValueDatabaseDoesNotExist','padStart','createConnection','configs','logBatch','appsync-connect-fail','utf8','loadLocalContent','MissingRemoteConnection','ExternalStorageNameNotString','emit','addContent','InvalidSubscription','text/','From\x20','.yml','propagate','remote-stream-does-not-exist','cpu.cycle','isNodeReady','assign','relevance','getDistance','InvalidPublisher','getClosestNodes','function','GraphDatabase','Issue\x20detected:\x20','RemoteConnectionExists','.liquid','clusterKey','Index','retryCount','setInterval','getNumberOutgoingSubscriptions','registerCluster','No\x20global\x20object\x20found','getPubSubTopic','vector-database-name-not-string','Llamacpp','listenUnsubscriber','Update','checkSyncComplete','internalProcessJobStream','random','pubsubTopics','suspended','sendChunked','logDataSent','handleContentSystemEvents','boolean','key-value-database-table-name-reserved','createConstantSource','writeBatch','links','CloseMediaStream','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','/resources/generative-ai-workflow/items/','prompt','childRemovedUnsubscriber','getIdToken','openJobDispatcher','peakHeights','retryDelay','handleRemediationSystemEvents','timestamp','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','functionsRegion','WorkflowInvalidBlockType','addCluster','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','sendRequest','objectRequests','handleOutgoingSystemEvents','Offer','retryQueues','available','type','CloseJobWorker','logs','\x27:\x20missing\x20or\x20invalid\x20keyPath','Received\x20','origin','setCurrentVersion','\x20transactions\x20from\x20node\x20','isOpened','registeredListeners','collectSendersStats','DataChannel\x20is\x20not\x20open.','remove','collectTransactionsFromNode','NodeLeave','.vb','stats','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','removeContent','node-not-authenticated','active','FileWrite','commitType','Execute\x20the\x20agent\x20','unpublish','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','handleSubscriptionSubscribeMediaStream','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','evaluateProccessedJob','Error\x20closing\x20writable\x20stream','vectorDatabases','isReady','LoadKnowledgeFunction','GenerativeAIModelInputType','downloadDocument','return\x20this','size','currentVersion','signalingState','bandwidth.jitter','Invalid\x20key\x20\x27','No\x20context\x20variables\x20set','isNeedRestart','externalStorages','remote-inbound-rtp','createWritableStream','removeObjectStore','fps','ccc','syncResolve','PeerConnection','object-store-not-in-sync','error','Stats','then','publishNodeJoin','Error\x20fetching\x20context','logInitialMMR','val','startTime','getConnectionGroup','packetsLost','EntityExtractor','syncContent','receiverBitrate','.crewdle-pending','AudioVideoDelay','lastClockUpdate','loggingDatabaseConnector','setDoc','getGenerativeAIContexts','subscriptionRequests','CloseObjectStoreBucket','filesSynced','createSubscription','tail','getBitrate','PubSubTopicDoesNotExist','ancestors','Rejected\x20answer','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','InvalidSubscriber','content-publish-media','subscription','getAncestors','trackCallback','downgrade','getTracks','Query\x20is\x20required','listenerUnsubscriber','cost','`\x0a\x0a','query','Error\x20opening\x20trace','Events','pool','isFailedResponse','object-store-name-not-string','subscribeToLocalContent','attributes','logStorage','addPendingHandshakeCandidate','syncTimeout','PromptRating','msalGetAccessToken','setRank','handshakeCandidates','getSimilarity','removeSubscription','KeyValueDatabaseRequestPeakTransactions','connecting','CloseExternalStorageConnection','AppSync\x20publish','Rating','KeyValueDatabaseTableDoesNotExist','.xml','topics','status','ExternalStorageStats','video','previous','Invalid\x20layout:\x20','action','subscriptionRequestsQueue','SystemStats','reportCapacity','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','handleSubscriptionRestartNeedMediaStream','getStatus','closeConnection','app','.tsx','catch','receivers','key-value-database-name-not-string','sourceVideo','contentManager','systemMessages','.tpl','Sending\x20\x27','handleJobAttribution','everyone','FolderCreate','jobType','buildTableEvent','Parameter\x20','Model','firestore','localMediaStreams','Completed','statsCollection','support','handleHandshake','firstValueFrom','Disconnected','DEBUG\x20-\x20','feedback','setLoggingConnectors','onClose','AppSync\x20subscribe','ExternalStorageConnectionAlreadyExists','Workflow','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','isLoaded','isResultResponse','retryLimit','heartbeatUnsubscriber','sendStats','getConnection','northamerica-northeast1','clockSkew','Synced','orderByKey','DataStream','appendTransaction','Subscription','File\x20sending\x20interrupted','CrewdleSenderConnection\x20createOffer','connector','subscriptions','appsync-no-destination','getCoresFromCapacityReport','getVectorDatabases','incomingTopic','getTransactions','replace','getGraphDatabases','isJobRequest','Processing','relations','KeyValueDatabaseSendTransactions','mmrRoot','79827uzyPPl','isSubscribed','\x20already\x20exists.','GenerativeAIContextDoesNotExist','messagesSent','engineType','addRemoteConnection','registerRemoteNode','logLevel','debug','Error','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','getTotalNodes','receiverCurrentTimestamp','clientWidth','Retrieve\x20from\x20context\x20to\x20inform\x20your\x20response.','addAudioTrack','isComputingMMR','unsubscribeTrackEndedListener','packetsReceived','3655899EFPlBD','clearUpgradeTimeout','WebScraperRaw','ObjectStoreInvalidPayload','getId','Job\x20','text','currentBatch','waitForArrayBufferSize','clusterEventEmitter','High','jitter','setParams','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','FramePerSecond','minRelevance','key-value-database-creation-failed','unregisterSubscriber','No\x20parameters\x20provided','sendFile','VectorSearch','Attempt\x20','object-store-already-exists','clearSyncTimeout','job-dispatcher-invalid-job-type','handleFolderCreate','client','removeRemoteConnection','Logging\x20not\x20enabled\x20for\x20channel\x20','now','Error\x20processing\x20retrieve','supportsContentType','connectionType','.json','onDataChannel','syncTransactions','failJob','AudioContext','Cannot\x20publish\x20file:\x20','createBufferSource','handleRemoteTrackFailure','authContext','callback','unsubscribeHandler','graph-database-name-not-string','remediationManager','authNode','topicLabel','transactionQueue','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','handleObjectDelete','openKeyValueDatabase','hashNodes','CONNECTION_STATE_CHANGE','File','.cpp','unregisterPublisher','Failed\x20to\x20send\x20job\x20','hasBufferedData','publishLocalDynamicMediaStream','maxFramerate','.info/serverTimeOffset','external-storage-connection-already-exists','handleMissingSenders','validateAccess','KeyValueDatabaseTableNotFound','asc','isInternalLoggingConnector','connectionTimeout','addEventListener','Error\x20loading\x20existing\x20content','handleAnswer','custom-skill','Error\x20resolving\x20readyPromises:','sentence-splitter','Node\x20type\x20is\x20invalid','enabledChannels','/developers/','blockId','STVolatility','clusterId','capacityReporter','GraphDatabaseDoesNotExist','framesEncoded','getWorkflowObjectStorageBuckets','bind','filter','\x20not\x20supported','split','handlePeerConnectionSystemEvents','createRemoteNode','getJobObservable','resume','debounceRebuildMMR','bid','receiverStreams','checkAudioOutput','UnpublishMediaStream','getUserMedia','logPropagateSystemEvent','debounceReadyTimeout','amd',',\x20Transactions:\x20','start','enabled','getShareableStreamId','Reranker\x20block\x20is\x20missing\x20required\x20data','.md','lastUpdated','contextOutputVariable','addBidResponse','\x0aAdditional\x20Context:\x20','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','handleContentSubscribeMediaStream','FetchUrl','Bid','node-type-not-supported','Early\x20return','parseDataCollectionBlocks','SenderSendMessage','tableUnsubscriber','length','hash','height','isSyncing','No\x20connections\x20available\x20to\x20send\x20message','.\x20Confirmation?\x20','getJobWorkers','isMediaSource','GenerativeAIContextJobFailed','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','videoWidth','vector-database','GenerativeAIContextCreationFailed','onRemoveTrack','registerSubscriber','detectionManager','Result','hashTransaction','objectStores','Unknown\x20skill\x20type','confirmSynchronization','configure','handleOptimizationConnectionSuccess','peer-connection-invalid-destination','Problem\x20detected:\x20','setUpgradeTimeout','0\x20B','updateLastTransactionId','.hbs','handleDetectionSystemEvents','removeExternalStorageConnection','G-F7W8KXRKQB','sendFileRequestPayload','openGenerativeAIContext','receiverUnsubscribers','WebRTC','Prompt\x20is\x20required','https://crewdle-sdk-default-rtdb.firebaseio.com','setItem','gpu','requestSubscription','pub-sub-topic-already-subscribed','systemTopicUnsubscribe','getTrackFromParam','getGenerativeAIWorkers','handleNodeJoin','getPeaks','optimizationLayers','maxConnections','isPromiseResolved','job-worker-creation-failed','\x0aAdditional\x20data:\x20','\x20completed.','joinedAt','unregisterCluster','minConnections','\x27\x20to\x20','createAnswer','cluster-leave','handleNodeSystemEvents','resizeHandler','Attribution','not-resolved','getRemoteMediaStream','Receiving\x20\x27','RemoteMediaStreamInvalidSubscriptionParams','Job\x20Dispatcher\x20does\x20not\x20exist','removeEventListener','disableIntervalHack','removeTrackListeners','internalContext','localId','transaction','chunksReceived','evaluatePartialJob','outputTokens','commitLevel','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','detectLocalIssues','onNodeUpdate','query-helper-invalid-argument','agentId','addTrack','toString','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','rank','clearSubscriptionRequestTimeout','.crewdle-last-transaction','Remove','versions','VectorDatabaseNameNotString','registerDestination','getRemoteId','pubSubTopics','/logs','en-US','trackKinds','createGenerativeAIContext','Key-value\x20database\x20peak\x20not\x20found.','removeKeyValueDatabase','entries','leave','buildInitialMMR','subscribeToExternalContent','isOffer','document-parser','ModelVector','unregisterRemoteNode','writeTransaction','Media','GenerativeAIContextStats','CanProvideMediaStream','chosenAnswers','discoveryService','.js','Upgrade','job-dispatcher-job-exists','autoplay','ExternalStorage','@context.','splitParts','connectionPool','senderTotalMessages','accumulated','DeviceConfig','isRunning','InvalidAccess','batchTimeout','remoteMediaStreams','source','destination','docs','region','runAgent','observer','Support:\x20current\x20config','resolve','index','Partial','onremovetrack','removeGraphDatabase','nodeManager','isProduction','logger','DocumentParser','senderPreviousBytes','\x20to\x20generate\x20a\x20response.','KeyValueDatabase','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','isAvailable','Failed','Consuming\x20buffered\x20event','audioDestination','events','nextNodeId','sender-send-message','Error\x20loading\x20external\x20content','logEvent','internalDownloadDocument','KeyValueDatabaseTableNameReserved','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','RemoteMediaStreamMissingProviderId','getInternalTrackParams','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','getDataBucketIds','local-media-stream-no-audio-context','instance','Channel\x20\x27','history','relation','handleNoAnswer','removeLocalMediaStream','orchestrator','getKeyValueDatabase','createJob','key-value-database-table-not-found','subscribe','JobDispatcherInvalidJobType','Invalid\x20where\x20clause','graph-database-already-exists','Skill','modelsBucketId','defineProperty','Agent\x20output\x20is\x20not\x20a\x20string','getGraphDatabase','iceConnectionState\x20failed','createVectorDatabase','getTotalBytes','StorageEventType','observe','.exs','getSenderTotalBytes','\x27\x20reserved','checkAudioContext','Database\x20does\x20not\x20exist','setupRenderElement','getReport','cpu.av_delay','FileMove','object-store-invalid-payload','handleSubscriptionProvideMediaStream','currentFrames','sendAction','openExternalStorageConnection','NodeNotAuthenticated','local-media-stream-already-exists','addNode','contentRequestSent','timeReceiving','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','handleSuccess','JobQueueService:\x20Running\x20job','eventListener','removeNode','streamId','processRank','2-digit','toFixed','currentDistance','key-value-database-peak-not-found','GraphDatabaseMissingConnector','ner','lastHeartbeat','CustomSkill','Job','remoteNodes','AudioOutput','external-storage-connection-already-subscribed','getEntities','uuid','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','created','trim','.rb','10LvMnOq','Cannot\x20unpublish\x20object\x20at\x20','keyValueDatabaseConnector','Optimization','inputTokens','processReceivedTransactions','searchEngineId','connections','maxFps','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','closeTrace','batchSize','serverTimestamp','getSentences','getChannelData','getBid','generativeAIWorkerConnectors','Missing\x20transaction\x20id','Node\x20already\x20exists.','syncPendingFiles','mediaStream','debounceStats','totalDecodeTime','closeSubscription','Reranker','firebase-disconnect','Invalid\x20subscription.','decode','detectStreamIssues','removeOutgoingSubscription','reads','computeHash','jobQueue','getVideoTracks','absolutePathName','setupConnectionEvents','featureSupport','FPS','vector-database-does-not-exist','deleteTransactionsForTable','GenerativeAIContextJobAlreadyConsumed','counter','processReceiverReport','IntermediateOutput','result','notifyJoin','handleFileRequestAnswer','topK','getHash','code','batch','System','endpointMethod','Bearer\x20','key-value-database-transaction-table-not-initialized','destroy','OutgoingSubscription','traceLevel','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','Subject','hasTable','VectorDatabaseAlreadyExists','connect','sourceUrl','DataStream\x20send','handleFileWrite','topic','undefined','publishFolder','RequestFileSync','file','.j2','chunks','Info','GenerativeAIModelOutputType','startIndex','doc','\x20must\x20be\x20a\x20boolean','getQuery','Invalid\x20peer\x20connection\x20event\x20destination.','request-file','\x27\x20in\x20table\x20\x27','ConnectionState','retry','Entity','60YTToCf','crewdleSDKLoggingChannels','setIsLoaded','jobId','Error\x20encountered\x20while\x20opening\x20database','CrewdleConnectionGroup','WebGL','push','clusters','InitialPrompt','.hs','complete','getEmail','collectStats','handleSystemEvents','Database\x20not\x20open','key-value-database-invalid-layout','checksum','parentId','runTransaction','::￿','Invalid\x20publisher.','node','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','distance','JobDispatcherJobNotFound','removeRemoteStreamSubscription','ENOENT','Error\x20initializing\x20logging\x20database\x20with\x20\x27','PubSubTopic\x20publish','reportMetric','handleNeedRestart','ScreenSharing','applyRemediation','canvas','job-dispatcher-observer-not-found','waitSuccess','NeedRestart','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','lastCapacityReport','getDatabase','onDisconnectHandler','problem','combinePeaks','Job\x20service\x20job\x20not\x20found.','sendTransactionsValue\x20-\x20value\x20not\x20found','manageBufferedChunks','Missing\x20remote\x20node\x20or\x20rank','Failed\x20to\x20get\x20file','addVideoTrack','pendingFilesTransactions','Store\x20already\x20exists','removeListener','us-east-1','targetId','inbound-rtp','isFeatureSupported','1486374dmaTRe','\x27\x20payload:','data','description','isPartialResultResponse','writeTransaction\x20-\x20transaction\x20already\x20exists','publishNodeLeave','write','nlpLibraryConnector','ObjectStore\x20not\x20found','ObjectStoreCannotWriteTransaction','local-stream-does-not-exist','getAuth','KeyValueDatabaseSyncRequired','Pool','handshakeDebounce','word-splitter','createAIJob','version','getEnabledChannels','subscription-request-no-answer','value','minResolutionScale','getMediaSubscription','\x20deleted.','auth','removeIncomingSubscription','ExternalStorageInvalidPath','toLocaleString','stopTracing','documentPath','Boolean','objectToArrayBuffer','getInstance','user-join','Subscribing\x20to\x20an\x20event:\x20on','closed','objectStorageBuckets','internalId','peaks','generative-ai-context-creation-failed','join','modelStore','Chosen\x20answer','values','receiverPreviousTimestamp','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','Audio','CannotProvideMediaStream','operator','Stream\x20does\x20not\x20exist','transactionTable','onBufferedAmountLow','addDoc','transactionService','removeTrack','receiverCurrentBytes','requestSubscriptionAction','audio','stream','ObjectStoreInvalidState','add','Generative\x20AI\x20context\x20job\x20timeout.','getReceiverTotalBytes','bufferedEvents','appsync-close','isChannelEnabled','cancel','key-value-database','getRemoteMediaStreams','commitBatch','webgl','debounceRebuildMMRWithTransaction','processPendingSyncTransactions','\x20already\x20exists','chunk','getCapacityReport','getLocalMediaStream','connectionStateListener','setStatus','searchOnGoogle','WordSplitter','handleFileRequest','signalingServer','JobStatus','Internal\x20error:\x20','lastProcessRank','updateDebounce','Job\x20Dispatcher\x20already\x20exists','getJobs','NodeJoin','roundTripTime','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','collection','hashPeakHashes','models','bytesSent','graphDatabaseConnector','setupStatsCollection','next','bodyParameters','FinalOutput','displayName','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Error\x20fetching\x20URL','getTableConnector','signInWithCredential','JobWorkerAlreadyExists','noun','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','debounceReady','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','getSkills','getEstimatedTimestamp','\x0a\x0a`Executing\x20custom\x20skill\x20','previousFrames','performCalculation','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','JobWorkerInvalidType','mergeParts','append','Job\x20Worker\x20does\x20not\x20exist','web-scraper','openedTraces','maxLayer','vectorDatabaseConnector','Model\x20store\x20not\x20initialized','handleSubscriptionNeedMediaStream','consumeBufferedEvents','.djt','pathName','GenerativeAIWorkerAlreadyExists','onMessage','Error\x20committing\x20batch:','Cluster\x20already\x20joined','json_arr','JobDispatcherCreationFailed','checkMediaRecording','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','delete','ConnectionInvalidDataEvent','KeyValueDatabase\x20-\x20Sync\x20completed','initializeSystemTopic','I\x20am\x20done','startHeartbeat','KeyValueDatabaseInvalidLayout','publishLocalMediaStream','NodeInvalidType','sender','onConnectionStateChange','Agent','operations','DataChannel\x20buffer\x20is\x20full.','dataTopics','true','PubSubTopicAlreadySubscribed','detectProblems','GraphDatabase\x20not\x20found','receiverPreviousBytes','AITrace','removeSubscriptionsForNode','getLastUpdated','publishFile','getInternalStreamId','Stream\x20already\x20exists','peer-connection','receiver','internalProcessJob','instructions','handleIceCandidates','generativeAIContexts','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','loadEnabledChannels','setEmail','commitTrace','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','createIncomingSubscription','loadExternalContent','tracks','createMediaStreamSource','.swift','handleFileSync','\x27\x20from\x20','job-dispatcher-job-not-found','Internal\x20event\x20\x27','bytesReceived','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','FileStatus','getVectorDatabase','publishSyncCompleted','JobStream','externalStorageConnectors','logServiceEvent','map','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','NeedMediaStream','missing-incoming-connection','readyDebounce','setReportCapacity','ModelText','JobDispatcherDoesNotExist','MissingSystemTopic','Content','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','processTransactionPayload','arrayBuffer','RequestAccepted','KeyValueDatabaseRequestTransactionsValue','agentConfig','remote-stream-missing-provider-id','1:519415702791:web:5dd39042f881cfde3251a2','Add','pubsub','CloseVectorDatabase','ClusterAlreadyJoined','/resources/generative-ai-grammar/items','contentRect','1:420235181083:web:4eff6062bd845cb0748cbe','Mistlet\x20capacity\x20report\x20not\x20set.','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','handleUnpublishMediaStream','pendingFilesRename','object-store-already-subscribed','Method\x20not\x20supported','frameHeight','NodeConnectionsUpdate','Pending','onValue','forEach','IDBDatabaseConnector','AppSync\x20client\x20not\x20ready','setProviderId','minThreshold','limitToFirst','frameWidth','filteredDestinationIds','limit','Receiver','dataBucketIds','sendBid','getExternalStorageConnections','agent','createExternalStorageConnection','supports','ExternalStorageUpload','handleNodeJoinNeedPublishedStream','invalid-access','stop','digest','key-value-database-not-open','publishSyncCompletedAfterWrites\x20-\x20','setTimeout','.info/connected','Generative\x20AI\x20context\x20creation\x20failed.','21a9d78dee97f487b','addMessage','warn','processLocalReport','Search','.sh','expectedTransactions','supported','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','lastRemediations','Error\x20writing\x20chunk\x20to\x20stream','ConnectionNoRetryQueue','getPeakNode','Missing\x20external\x20storage\x20connector','Folder','checkBackgrounds','Time','threadId','senderTimeProcessing','localNode','getOwnerId','updatePropagationProperties','messageCallback','Early\x20return:\x20','blocks','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','syncTransactionsWritten','label','currentBytes','registerPublisher','database','.css','Local\x20MediaStream\x20already\x20exists','tableLayout','Warning','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','payloadType','ObjectStoreNotSynced','storage','videoHeight','maps','Key-Value\x20Database\x20-\x20Sync\x20Completed','ended','aws','handleLocalTrackFailure','logConnectionState','CPUCycle','subscription-request-in-progress','cpu.time_per_frame','gatheringState','arrayBufferToObject','PeerConnectionInvalidDestination','StreamReport','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','appsync-disconnect','RemoteRemediation','transactionsToSync','receiver-on-message','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','\x0a\x20===\x20Synchronization\x20Time:\x20','Object\x20store\x20not\x20synced.','FolderDelete','addReservedTables','entities','once','sync','invalid-data-chanel','ObjectStoreAlreadySubscribed','\x27\x20in\x20layout','generative-ai-context-job-failed','joinCluster','PubSubTopic\x20onMessage','splice','thread-','unregisterSystemPublisher','canChooseAnswer','ExternalStorageConnectorsMissing','InvalidDataChannel','estimatedPlayoutTimestamp','getConnections','QueryBuilderInvalidArgument','Job\x20service\x20observer\x20not\x20found.','subscriptionRequestTimeouts','deployedVersion','bitrate','checkWebRTC','unregisterPublisherListener','instantiateTransactionTable','RoundTripTime','match','manageOptimization','RequestFile','between','Operations:','Low','Invalid\x20data\x20channel.','timesCalled','handleNodeUpdate','\x20attributed\x20to\x20','.txt','No\x20destinationIds\x20left','NodeManager\x20-\x20NodeLeave','processContentAvailable','executeJavascriptCodeSnippet','mode','debounceLogTimeout','No\x20connector\x20found\x20for\x20model','jobObservers','SentenceSplitter','Remediation','frames','getMinConnections','InternalSDKError','jobPhase','generative-ai-context-job-missing-thread-id','object','publishMove','Amplify','mute','fileChunks','width','validateQuery','\x20does\x20not\x20support\x20content\x20type\x20','SubscriptionRequestDoesNotExist','issues','.gguf','handleOnMessage','logSyncMetrics','send\x20error\x20on\x20','ObjectStorageBucket','jobWorkers','substring','ceil'];a0_0x1cb0=function(){return _0x5a725e;};return a0_0x1cb0();}function a0_0x2e46(_0xb6ad11,_0x1e29d7){const _0x1cb046=a0_0x1cb0();return a0_0x2e46=function(_0x2e4677,_0x19ada4){_0x2e4677=_0x2e4677-0xb8;let _0x439b2d=_0x1cb046[_0x2e4677];return _0x439b2d;},a0_0x2e46(_0xb6ad11,_0x1e29d7);}(function(_0x119a38,_0xe3951c){const _0x26a6c6=a0_0x2e46,_0x5aa4e0=_0x119a38();while(!![]){try{const _0x3b5887=parseInt(_0x26a6c6(0x14b))/0x1+-parseInt(_0x26a6c6(0x8a8))/0x2+-parseInt(_0x26a6c6(0x467))/0x3*(-parseInt(_0x26a6c6(0x634))/0x4)+parseInt(_0x26a6c6(0x5df))/0x5*(-parseInt(_0x26a6c6(0x66d))/0x6)+-parseInt(_0x26a6c6(0x99b))/0x7+parseInt(_0x26a6c6(0x1ea))/0x8+-parseInt(_0x26a6c6(0x47b))/0x9;if(_0x3b5887===_0xe3951c)break;else _0x5aa4e0['push'](_0x5aa4e0['shift']());}catch(_0x22083b){_0x5aa4e0['push'](_0x5aa4e0['shift']());}}}(a0_0x1cb0,0xa8486),!function(_0x3eefa1,_0x3230f8){const _0x11e12f=a0_0x2e46;if(_0x11e12f(0x7e0)==typeof exports&&'object'==typeof module)module[_0x11e12f(0x8d3)]=_0x3230f8();else{if(_0x11e12f(0x373)==typeof define&&define[_0x11e12f(0x4e0)])define([],_0x3230f8);else{var _0xa20333=_0x3230f8();for(var _0x5c6491 in _0xa20333)('object'==typeof exports?exports:_0x3eefa1)[_0x5c6491]=_0xa20333[_0x5c6491];}}}(this,()=>((()=>{'use strict';const _0x3cd514=a0_0x2e46;var _0x31ba3b={0x14d:(_0x56a983,_0x42717d,_0x517496)=>{const _0x3b9ea0=a0_0x2e46;_0x517496['d'](_0x42717d,{'O':()=>_0x5f16a3});const _0x5f16a3={'version':_0x3b9ea0(0x989),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x3b9ea0(0x6e2),'authDomain':_0x3b9ea0(0x23f),'databaseURL':_0x3b9ea0(0x6f8),'projectId':_0x3b9ea0(0x997),'storageBucket':_0x3b9ea0(0x232),'appId':_0x3b9ea0(0x741),'functionsRegion':_0x3b9ea0(0x450)},'google':{'searchEngineId':_0x3b9ea0(0x76d)},'aws':{'endpoint':_0x3b9ea0(0x911),'region':_0x3b9ea0(0x669)}};},0x33b:(_0x40b427,_0x5b7251,_0xf70392)=>{_0xf70392['d'](_0x5b7251,{'O':()=>_0x4907fd});const _0x4907fd={};},0x3e6:(_0x57705f,_0x57bcb2,_0x5e3053)=>{const _0x34883c=a0_0x2e46;_0x5e3053['d'](_0x57bcb2,{'O':()=>_0x2e35a5});const _0x2e35a5={'version':'1.0.2','isProduction':!0x0,'firebaseConfig':{'apiKey':_0x34883c(0x6c9),'authDomain':_0x34883c(0x27d),'databaseURL':_0x34883c(0x51a),'projectId':'crewdle-sdk','storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':_0x34883c(0x26b),'appId':_0x34883c(0x748),'measurementId':_0x34883c(0x514)},'aws':{'endpoint':_0x34883c(0x85b),'region':_0x34883c(0x669)}};},0x20:(_0x2fc4f9,_0x3b9bed,_0x16a5da)=>{_0x16a5da['d'](_0x3b9bed,{'O':()=>_0xb3b23c});const _0xb3b23c={};}},_0x1ab869={};function _0x49710e(_0x15de22){const _0x2b5714=a0_0x2e46;var _0x402ebe=_0x1ab869[_0x15de22];if(void 0x0!==_0x402ebe)return _0x402ebe['exports'];var _0x3b28f9=_0x1ab869[_0x15de22]={'exports':{}};return _0x31ba3b[_0x15de22](_0x3b28f9,_0x3b28f9[_0x2b5714(0x8d3)],_0x49710e),_0x3b28f9[_0x2b5714(0x8d3)];}_0x49710e['d']=(_0x4b23a5,_0x19c4dc)=>{const _0x1f92b8=a0_0x2e46;for(var _0x3c6964 in _0x19c4dc)_0x49710e['o'](_0x19c4dc,_0x3c6964)&&!_0x49710e['o'](_0x4b23a5,_0x3c6964)&&Object[_0x1f92b8(0x5ab)](_0x4b23a5,_0x3c6964,{'enumerable':!0x0,'get':_0x19c4dc[_0x3c6964]});},_0x49710e['g']=(function(){const _0x4059f9=a0_0x2e46;if(_0x4059f9(0x7e0)==typeof globalThis)return globalThis;try{return this||new Function(_0x4059f9(0x3ca))();}catch(_0x3382a4){if(_0x4059f9(0x7e0)==typeof window)return window;}}()),_0x49710e['o']=(_0x1eccca,_0x11e47c)=>Object['prototype'][_0x3cd514(0x2fb)]['call'](_0x1eccca,_0x11e47c),_0x49710e['r']=_0x5798c2=>{const _0x228a60=_0x3cd514;_0x228a60(0x622)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x228a60(0x5ab)](_0x5798c2,Symbol[_0x228a60(0x1be)],{'value':_0x228a60(0x9cc)}),Object['defineProperty'](_0x5798c2,_0x228a60(0x1b9),{'value':!0x0});};var _0x2089de,_0x411645,_0x5ce311,_0xd58544={};_0x49710e['r'](_0xd58544),_0x49710e['d'](_0xd58544,{'KeyValueDatabase':()=>_0x272315,'LayoutBuilder':()=>_0x21440d,'LoggingChannels':()=>_0x5ce311,'QueryBuilder':()=>_0x59793c,'SDK':()=>_0x5ed3c8,'SDKClientErrorCodes':()=>_0x2089de,'TableBuilder':()=>_0x39e1a7,'logger':()=>_0x61b339}),function(_0x564c99){const _0x27176e=_0x3cd514;_0x564c99[_0x27176e(0x2ac)]='connection-buffer-not-empty',_0x564c99[_0x27176e(0x745)]=_0x27176e(0x1b3),_0x564c99[_0x27176e(0x447)]=_0x27176e(0x4b9),_0x564c99[_0x27176e(0x128)]=_0x27176e(0x5d8),_0x564c99[_0x27176e(0x9a7)]=_0x27176e(0xbc),_0x564c99[_0x27176e(0x7b9)]=_0x27176e(0x972),_0x564c99[_0x27176e(0x688)]=_0x27176e(0x1e8),_0x564c99[_0x27176e(0x363)]='external-storage-name-not-string',_0x564c99[_0x27176e(0x245)]=_0x27176e(0x946),_0x564c99[_0x27176e(0x276)]=_0x27176e(0x22c),_0x564c99[_0x27176e(0x46a)]=_0x27176e(0x909),_0x564c99[_0x27176e(0x8f2)]=_0x27176e(0x7df),_0x564c99[_0x27176e(0x2c7)]=_0x27176e(0x2a8),_0x564c99[_0x27176e(0x6f0)]=_0x27176e(0x164),_0x564c99[_0x27176e(0xc7)]=_0x27176e(0x333),_0x564c99['GenerativeAIWorkerModelSyncError']='generative-ai-worker-model-sync-error',_0x564c99[_0x27176e(0x1fe)]=_0x27176e(0x5a8),_0x564c99[_0x27176e(0x4cd)]='graph-database-does-not-exist',_0x564c99[_0x27176e(0x5d1)]='graph-database-missing-connector',_0x564c99[_0x27176e(0x2c1)]=_0x27176e(0x4a7),_0x564c99['JobDispatcherAlreadyExists']=_0x27176e(0x1c8),_0x564c99[_0x27176e(0x737)]='job-dispatcher-does-not-exist',_0x564c99['JobDispatcherJobExists']=_0x27176e(0x569),_0x564c99[_0x27176e(0x64d)]=_0x27176e(0x726),_0x564c99[_0x27176e(0x5a6)]=_0x27176e(0x493),_0x564c99[_0x27176e(0x6d8)]=_0x27176e(0x236),_0x564c99[_0x27176e(0x2e3)]='job-worker-does-not-exist',_0x564c99[_0x27176e(0x9c2)]=_0x27176e(0x491),_0x564c99['ObjectStoreAlreadySubscribed']=_0x27176e(0x74d),_0x564c99[_0x27176e(0xf0)]='object-store-stream-does-not-exist',_0x564c99[_0x27176e(0xe7)]=_0x27176e(0x408),_0x564c99['ObjectStoreInvalidPayload']=_0x27176e(0x5bc),_0x564c99[_0x27176e(0x941)]='object-store-invalid-path',_0x564c99[_0x27176e(0xce)]=_0x27176e(0x3da),_0x564c99[_0x27176e(0x7dd)]='internal-sdk-error',_0x564c99[_0x27176e(0x573)]=_0x27176e(0x765),_0x564c99[_0x27176e(0x968)]=_0x27176e(0x1ac),_0x564c99[_0x27176e(0x35a)]=_0x27176e(0x153),_0x564c99['KeyValueDatabaseIndexNotFound']=_0x27176e(0x269),_0x564c99['KeyValueDatabaseInvalidQuery']=_0x27176e(0x854),_0x564c99['KeyValueDatabaseInvalidValue']=_0x27176e(0x971),_0x564c99[_0x27176e(0x96a)]=_0x27176e(0x42d),_0x564c99[_0x27176e(0x84b)]=_0x27176e(0x768),_0x564c99[_0x27176e(0x594)]=_0x27176e(0x38d),_0x564c99[_0x27176e(0x4bc)]=_0x27176e(0x5a4),_0x564c99[_0x27176e(0x6ff)]=_0x27176e(0x644),_0x564c99['LocalMediaStreamAlreadyExists']=_0x27176e(0x5c2),_0x564c99[_0x27176e(0x87f)]=_0x27176e(0x59a),_0x564c99[_0x27176e(0x91c)]='pub-sub-topic-already-exists',_0x564c99[_0x27176e(0x3f4)]='pub-sub-topic-does-not-exist',_0x564c99[_0x27176e(0x246)]=_0x27176e(0x869),_0x564c99[_0x27176e(0x709)]=_0x27176e(0x51e),_0x564c99[_0x27176e(0x7bd)]=_0x27176e(0x545),_0x564c99[_0x27176e(0x24f)]=_0x27176e(0x175),_0x564c99[_0x27176e(0x536)]=_0x27176e(0x908),_0x564c99[_0x27176e(0x8b9)]=_0x27176e(0x79c),_0x564c99['NodeNotAuthenticated']=_0x27176e(0x3ba),_0x564c99[_0x27176e(0x701)]=_0x27176e(0x103),_0x564c99[_0x27176e(0x21b)]=_0x27176e(0x4ef),_0x564c99[_0x27176e(0x84f)]='node-type-required',_0x564c99[_0x27176e(0x61c)]=_0x27176e(0x1ca),_0x564c99[_0x27176e(0x157)]=_0x27176e(0x605),_0x564c99[_0x27176e(0x1e0)]=_0x27176e(0x33d),_0x564c99[_0x27176e(0x54f)]=_0x27176e(0x380);}(_0x2089de||(_0x2089de={}));class _0x1e3976 extends Error{['code'];constructor(_0x417bc4,_0x418261){const _0x12cfa4=_0x3cd514;super(_0x418261),this[_0x12cfa4(0x610)]=_0x417bc4;}}!function(_0x2e8812){const _0x49273f=_0x3cd514;_0x2e8812[_0x49273f(0x242)]=_0x49273f(0x743),_0x2e8812[_0x49273f(0x83b)]=_0x49273f(0x95b),_0x2e8812[_0x49273f(0x588)]=_0x49273f(0x6b1),_0x2e8812[_0x49273f(0x24d)]=_0x49273f(0x500),_0x2e8812[_0x49273f(0x374)]=_0x49273f(0x83e),_0x2e8812[_0x49273f(0x56b)]=_0x49273f(0x96e),_0x2e8812[_0x49273f(0x13c)]=_0x49273f(0x935),_0x2e8812[_0x49273f(0x115)]='generative-ai';}(_0x411645||(_0x411645={})),function(_0x5f2d84){const _0x2437f6=_0x3cd514;_0x5f2d84[_0x2437f6(0x1bb)]=_0x2437f6(0xed),_0x5f2d84[_0x2437f6(0x99c)]='default',_0x5f2d84[_0x2437f6(0x7f9)]=_0x2437f6(0x161),_0x5f2d84[_0x2437f6(0x631)]=_0x2437f6(0x848),_0x5f2d84[_0x2437f6(0x94c)]='cluster',_0x5f2d84['Content']=_0x2437f6(0x1cb),_0x5f2d84[_0x2437f6(0x454)]=_0x2437f6(0x2fe),_0x5f2d84[_0x2437f6(0x1d5)]=_0x2437f6(0x294),_0x5f2d84[_0x2437f6(0x405)]=_0x2437f6(0x58e),_0x5f2d84[_0x2437f6(0x471)]=_0x2437f6(0x3db),_0x5f2d84[_0x2437f6(0x225)]=_0x2437f6(0x2d3),_0x5f2d84[_0x2437f6(0x588)]=_0x2437f6(0x6b1),_0x5f2d84['Node']=_0x2437f6(0x64a),_0x5f2d84[_0x2437f6(0x67b)]=_0x2437f6(0x406),_0x5f2d84[_0x2437f6(0x242)]=_0x2437f6(0x743),_0x5f2d84[_0x2437f6(0x856)]=_0x2437f6(0x7a6),_0x5f2d84[_0x2437f6(0x7da)]=_0x2437f6(0x8fa),_0x5f2d84[_0x2437f6(0x4f2)]=_0x2437f6(0x590),_0x5f2d84[_0x2437f6(0x2c0)]=_0x2437f6(0x346),_0x5f2d84[_0x2437f6(0x3dc)]=_0x2437f6(0x3b7),_0x5f2d84[_0x2437f6(0x456)]=_0x2437f6(0x3fa),_0x5f2d84[_0x2437f6(0xf6)]=_0x2437f6(0x43e),_0x5f2d84[_0x2437f6(0x612)]='system',_0x5f2d84[_0x2437f6(0x423)]='system-stats',_0x5f2d84[_0x2437f6(0x820)]=_0x2437f6(0x1f4),_0x5f2d84[_0x2437f6(0x3d9)]=_0x2437f6(0x713);}(_0x5ce311||(_0x5ce311={}));const _0x3cfea6=require('@crewdle/web-sdk-types');class _0x59793c{[_0x3cd514(0x403)];constructor(_0x409498){const _0xc9a988=_0x3cd514;this[_0xc9a988(0x403)]={'orderBy':{'key':_0x409498,'direction':'asc'}};}static['index'](_0x2123d0){const _0x3e1ee8=_0x3cd514;if('string'!=typeof _0x2123d0||0x0===_0x2123d0[_0x3e1ee8(0x4f4)])throw new _0x1e3976(_0x2089de['QueryBuilderInvalidArgument'],_0x3e1ee8(0x288));return new _0x59793c(_0x2123d0);}static[_0x3cd514(0x7e6)](_0xdadce){try{return _0x59793c['buildQuery'](_0xdadce),!0x0;}catch(_0xc21622){return!0x1;}}static[_0x3cd514(0x1ec)](_0x5f2caa){const _0x3fd908=_0x3cd514,_0x5793af=_0x59793c['index'](_0x5f2caa['orderBy']?.[_0x3fd908(0x904)]??_0x5f2caa[_0x3fd908(0x8a0)]?.['key']??'');if(_0x5f2caa[_0x3fd908(0x8a0)]){const _0x4e1221=_0x5f2caa[_0x3fd908(0x8a0)];if((_0x59793c[_0x3fd908(0x271)](_0x4e1221)||_0x59793c['isWhereValues'](_0x4e1221)||_0x59793c[_0x3fd908(0xfd)](_0x4e1221))&&_0x5793af[_0x3fd908(0x8a0)](_0x4e1221[_0x3fd908(0x69e)],_0x4e1221[_0x3fd908(0x682)]),_0x5f2caa[_0x3fd908(0x978)]?.[_0x3fd908(0x904)]&&_0x5f2caa[_0x3fd908(0x978)]?.[_0x3fd908(0x904)]!==_0x5f2caa[_0x3fd908(0x8a0)][_0x3fd908(0x904)])throw new _0x1e3976(_0x2089de[_0x3fd908(0x7bd)],_0x3fd908(0x790));}return _0x5f2caa[_0x3fd908(0x978)]&&_0x5793af[_0x3fd908(0x978)](_0x5f2caa[_0x3fd908(0x978)][_0x3fd908(0x95f)]),_0x5f2caa[_0x3fd908(0x75b)]&&_0x5793af['limit'](_0x5f2caa['limit']),_0x5f2caa[_0x3fd908(0x2de)]&&_0x5793af['offset'](_0x5f2caa[_0x3fd908(0x2de)]),_0x5793af;}[_0x3cd514(0x62d)](){return{...this['query']};}[_0x3cd514(0x8a0)](_0x397617,_0x4ac190){const _0x3274e5=_0x3cd514,_0x378e31={'key':this[_0x3274e5(0x403)][_0x3274e5(0x978)][_0x3274e5(0x904)],'operator':_0x397617,'value':_0x4ac190};if(!_0x59793c[_0x3274e5(0x271)](_0x378e31)&&!_0x59793c[_0x3274e5(0x1f0)](_0x378e31)&&!_0x59793c[_0x3274e5(0xfd)](_0x378e31))throw new _0x1e3976(_0x2089de[_0x3274e5(0x7bd)],_0x3274e5(0x5a7));return this[_0x3274e5(0x403)]['where']=_0x378e31,this;}[_0x3cd514(0x978)](_0x37aebf){const _0x3714c4=_0x3cd514;if(_0x3714c4(0x4bd)!==_0x37aebf&&_0x3714c4(0x296)!==_0x37aebf)throw new _0x1e3976(_0x2089de[_0x3714c4(0x7bd)],_0x3714c4(0x3c0));return this[_0x3714c4(0x403)]['orderBy'][_0x3714c4(0x95f)]=_0x37aebf,this;}[_0x3cd514(0x75b)](_0x2e98e5){const _0x295f92=_0x3cd514;if(_0x295f92(0x994)!=typeof _0x2e98e5||_0x2e98e5<0x0)throw new _0x1e3976(_0x2089de[_0x295f92(0x7bd)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x295f92(0x403)][_0x295f92(0x75b)]=_0x2e98e5,this;}[_0x3cd514(0x2de)](_0x1c979d){const _0x44df23=_0x3cd514;if(_0x44df23(0x994)!=typeof _0x1c979d||_0x1c979d<0x0)throw new _0x1e3976(_0x2089de[_0x44df23(0x7bd)],_0x44df23(0x94f));return this[_0x44df23(0x403)][_0x44df23(0x2de)]=_0x1c979d,this;}static[_0x3cd514(0x271)](_0x2537ad){const _0x353b53=_0x3cd514;if(!(_0x2537ad&&_0x353b53(0x7e0)==typeof _0x2537ad&&_0x353b53(0x69e)in _0x2537ad&&_0x353b53(0x682)in _0x2537ad))return!0x1;const {operator:_0xf97bb8,value:_0x538ef7}=_0x2537ad;return!(!['==','!=','>','<','<=','>='][_0x353b53(0x135)](_0xf97bb8)||Array[_0x353b53(0xb9)](_0x538ef7));}static[_0x3cd514(0x1f0)](_0x486f49){const _0x581a75=_0x3cd514;if(!(_0x486f49&&_0x581a75(0x7e0)==typeof _0x486f49&&_0x581a75(0x69e)in _0x486f49&&'value'in _0x486f49))return!0x1;const {operator:_0xd60544,value:_0x414644}=_0x486f49;return!(!['in','not-in']['includes'](_0xd60544)||!Array['isArray'](_0x414644));}static[_0x3cd514(0xfd)](_0x4f1ca5){const _0x29bb1f=_0x3cd514;if(!(_0x4f1ca5&&_0x29bb1f(0x7e0)==typeof _0x4f1ca5&&_0x29bb1f(0x69e)in _0x4f1ca5&&_0x29bb1f(0x682)in _0x4f1ca5))return!0x1;const {operator:_0x997efc,value:_0x3b2004}=_0x4f1ca5;return!(_0x29bb1f(0x7c9)!==_0x997efc||!Array['isArray'](_0x3b2004)||0x2!==_0x3b2004[_0x29bb1f(0x4f4)]);}}class _0x21440d{[_0x3cd514(0x192)];constructor(_0xbc84b){const _0x327939=_0x3cd514;this[_0x327939(0x192)]={'tables':{},'version':_0xbc84b};}static[_0x3cd514(0x260)](_0x3025fa){const _0x3a22f9=_0x3cd514;for(const _0x5c7397 in _0x3025fa){if('version'!==_0x5c7397&&_0x3a22f9(0x97b)!==_0x5c7397)return[!0x1,_0x3a22f9(0x3cf)+_0x5c7397+_0x3a22f9(0x7b1)];if(_0x3a22f9(0x97b)===_0x5c7397)for(const _0x43d3e6 in _0x3025fa['tables']){if('string'!=typeof _0x43d3e6)return[!0x1,_0x3a22f9(0x233)+_0x43d3e6+'\x27'];for(const _0x1e5229 in _0x3025fa['tables'][_0x43d3e6]){if('indexes'!==_0x1e5229)return[!0x1,_0x3a22f9(0x3cf)+_0x1e5229+_0x3a22f9(0x630)+_0x43d3e6+'\x27'];const _0x57342f=_0x3025fa[_0x3a22f9(0x97b)][_0x43d3e6][_0x1e5229]??[];for(const _0x239fc4 of _0x57342f)if(void 0x0===_0x239fc4[_0x3a22f9(0x86d)]||'string'!=typeof _0x239fc4[_0x3a22f9(0x86d)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x43d3e6+_0x3a22f9(0x3aa)];}}else{if('version'===_0x5c7397&&_0x3a22f9(0x994)!=typeof _0x3025fa[_0x5c7397])return[!0x1,_0x3a22f9(0x919)+_0x3025fa[_0x5c7397]+_0x3a22f9(0x874)];}}return[!0x0,_0x3a22f9(0x319)];}static['layout'](_0x2d72ca){const _0x96bca8=_0x3cd514,_0x2ad337=new _0x21440d(_0x2d72ca);return _0x2ad337[_0x96bca8(0x192)][_0x96bca8(0x67f)]=_0x2d72ca,_0x2ad337;}['table'](_0xb7ede2){const _0x55853d=_0x3cd514;return this['layout'][_0x55853d(0x97b)][_0xb7ede2]={},new _0x39e1a7(this[_0x55853d(0x192)]['tables'][_0xb7ede2]);}[_0x3cd514(0x31d)](){const _0x28517e=_0x3cd514;return this[_0x28517e(0x192)];}}class _0x39e1a7{[_0x3cd514(0x78e)];constructor(_0x355e58){const _0x3be99c=_0x3cd514;this[_0x3be99c(0x78e)]=_0x355e58;}[_0x3cd514(0x57e)](_0x162a3e){const _0x4d9752=_0x3cd514;return this[_0x4d9752(0x78e)][_0x4d9752(0xd7)]=this['tableLayout']['indexes']??[],this[_0x4d9752(0x78e)][_0x4d9752(0xd7)][_0x4d9752(0x63b)]({'keyPath':_0x162a3e}),this;}}const _0x14aa10=0x40000,_0x303ca8=0x3f800,_0x34d584=0x1388,_0x3a409d=_0x3cd514(0x54c),_0x1332b6=_0x3cd514(0x3e8),_0x1c8021='.crewdle-transactions',_0x57b660=_0x3cd514(0x9ab),_0x3d7937=0xdbba0,_0x238e0b=_0x3cd514(0x7ea),_0x16f8e8=0x61a8,_0x50d78a='internal';var _0x309112;!function(_0x18eb5e){const _0x1389fd=_0x3cd514;_0x18eb5e[_0x1389fd(0x90a)]=_0x1389fd(0x877),_0x18eb5e[_0x1389fd(0x2af)]=_0x1389fd(0x9c6),_0x18eb5e[_0x1389fd(0x778)]=_0x1389fd(0x8a6),_0x18eb5e[_0x1389fd(0x6fa)]=_0x1389fd(0x97a),_0x18eb5e[_0x1389fd(0x501)]=_0x1389fd(0x695),_0x18eb5e[_0x1389fd(0x847)]='generative-ai-context-invalid-partial-result',_0x18eb5e[_0x1389fd(0x607)]='generative-ai-context-job-already-consumed',_0x18eb5e['GenerativeAIContextJobFailed']=_0x1389fd(0x7b2),_0x18eb5e['GenerativeAIContextJobTimeout']=_0x1389fd(0x8ad),_0x18eb5e[_0x1389fd(0x1e2)]=_0x1389fd(0x307),_0x18eb5e[_0x1389fd(0xc3)]=_0x1389fd(0x181),_0x18eb5e[_0x1389fd(0x7ba)]=_0x1389fd(0x7af),_0x18eb5e[_0x1389fd(0x371)]='invalid-publisher',_0x18eb5e[_0x1389fd(0x3f8)]=_0x1389fd(0x9a8),_0x18eb5e[_0x1389fd(0x366)]=_0x1389fd(0xf2),_0x18eb5e[_0x1389fd(0x6f5)]=_0x1389fd(0x816),_0x18eb5e[_0x1389fd(0x8df)]=_0x1389fd(0x964),_0x18eb5e[_0x1389fd(0x64d)]='job-dispatcher-job-not-found',_0x18eb5e[_0x1389fd(0x965)]=_0x1389fd(0x657),_0x18eb5e[_0x1389fd(0x170)]=_0x1389fd(0x527),_0x18eb5e[_0x1389fd(0x6e3)]=_0x1389fd(0x8c6),_0x18eb5e[_0x1389fd(0x905)]=_0x1389fd(0x48b),_0x18eb5e[_0x1389fd(0x9bc)]=_0x1389fd(0x5d0),_0x18eb5e[_0x1389fd(0x419)]=_0x1389fd(0x309),_0x18eb5e['KeyValueDatabaseTransactionTableNotInitialized']=_0x1389fd(0x615),_0x18eb5e[_0x1389fd(0x87c)]='key-value-database-transaction-value-not-set',_0x18eb5e[_0x1389fd(0x952)]=_0x1389fd(0x678),_0x18eb5e['MissingRemoteConnection']=_0x1389fd(0x733),_0x18eb5e[_0x1389fd(0x738)]=_0x1389fd(0x8b8),_0x18eb5e[_0x1389fd(0x1e5)]=_0x1389fd(0x10d),_0x18eb5e[_0x1389fd(0x677)]='object-store-cannot-write-transaction',_0x18eb5e[_0x1389fd(0x6a9)]=_0x1389fd(0x20a),_0x18eb5e[_0x1389fd(0x2c6)]='object-store-invalid-sync-message',_0x18eb5e[_0x1389fd(0x792)]=_0x1389fd(0x906),_0x18eb5e[_0x1389fd(0x217)]='outgoing-stream-no-topic',_0x18eb5e[_0x1389fd(0x10b)]=_0x1389fd(0x36b),_0x18eb5e['RemoteMediaStreamMissingProviderId']=_0x1389fd(0x740),_0x18eb5e[_0x1389fd(0x376)]=_0x1389fd(0x293),_0x18eb5e[_0x1389fd(0x7e8)]='subscription-request-does-not-exist',_0x18eb5e[_0x1389fd(0xe6)]='subscription-request-failed',_0x18eb5e[_0x1389fd(0x973)]=_0x1389fd(0x681),_0x18eb5e[_0x1389fd(0x8ae)]='node-does-not-exist',_0x18eb5e[_0x1389fd(0x850)]='node-already-exist',_0x18eb5e[_0x1389fd(0x7a0)]=_0x1389fd(0x50c),_0x18eb5e['VectorDatabaseCreationFailed']=_0x1389fd(0x891),_0x18eb5e[_0x1389fd(0x1d2)]='workflow-does-not-exist',_0x18eb5e[_0x1389fd(0x39e)]=_0x1389fd(0x7f5);}(_0x309112||(_0x309112={}));const _0x1f8427=new Map([[_0x309112['ConnectionNotinitialized'],'Connection\x20not\x20initialized.'],[_0x309112['ConnectionNotConnected'],'Connection\x20not\x20connected.'],[_0x309112[_0x3cd514(0x778)],_0x3cd514(0x931)],[_0x309112[_0x3cd514(0x6fa)],_0x3cd514(0x169)],[_0x309112[_0x3cd514(0x501)],_0x3cd514(0x76c)],[_0x309112[_0x3cd514(0x847)],_0x3cd514(0xe4)],[_0x309112['GenerativeAIContextJobAlreadyConsumed'],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x309112[_0x3cd514(0x4fc)],_0x3cd514(0x202)],[_0x309112[_0x3cd514(0x2f7)],_0x3cd514(0x6ab)],[_0x309112[_0x3cd514(0x1e2)],_0x3cd514(0x88b)],[_0x309112[_0x3cd514(0xc3)],'Graph\x20database\x20creation\x20failed.'],[_0x309112['InvalidDataChannel'],_0x3cd514(0x7cc)],[_0x309112['InvalidPublisher'],_0x3cd514(0x649)],[_0x309112[_0x3cd514(0x3f8)],'Invalid\x20subscriber.'],[_0x309112[_0x3cd514(0x366)],_0x3cd514(0x5f9)],[_0x309112[_0x3cd514(0x6f5)],'Job\x20service\x20creation\x20failed.'],[_0x309112['JobDispatcherInvalidPayload'],'Invalid\x20job\x20service\x20payload.'],[_0x309112['JobDispatcherJobNotFound'],_0x3cd514(0x660)],[_0x309112['JobDispatcherObserverNotFound'],_0x3cd514(0x7be)],[_0x309112[_0x3cd514(0x170)],'Job\x20worker\x20creation\x20failed.'],[_0x309112[_0x3cd514(0x6e3)],'Invalid\x20job\x20worker\x20type.'],[_0x309112[_0x3cd514(0x905)],_0x3cd514(0x300)],[_0x309112['KeyValueDatabasePeakNotFound'],_0x3cd514(0x557)],[_0x309112['KeyValueDatabaseTableDoesNotExist'],_0x3cd514(0x9b5)],[_0x309112[_0x3cd514(0x8fd)],_0x3cd514(0x73a)],[_0x309112['KeyValueDatabaseTransactionValueNotSet'],_0x3cd514(0x7fd)],[_0x309112['LocalMediaStreamDoesNotExist'],'Local\x20stream\x20does\x20not\x20exist.'],[_0x309112['MissingRemoteConnection'],_0x3cd514(0x9b6)],[_0x309112[_0x3cd514(0x738)],_0x3cd514(0x93f)],[_0x309112[_0x3cd514(0x1e5)],_0x3cd514(0x749)],[_0x309112['ObjectStoreCannotWriteTransaction'],'Cannot\x20write\x20transaction.'],[_0x309112[_0x3cd514(0x2c6)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x309112[_0x3cd514(0x6a9)],'Invalid\x20object\x20store\x20state.'],[_0x309112[_0x3cd514(0x792)],_0x3cd514(0x7a9)],[_0x309112[_0x3cd514(0x217)],_0x3cd514(0x549)],[_0x309112[_0x3cd514(0x10b)],_0x3cd514(0x28b)],[_0x309112[_0x3cd514(0x596)],_0x3cd514(0x775)],[_0x309112[_0x3cd514(0x376)],'Remote\x20connection\x20already\x20exists.'],[_0x309112[_0x3cd514(0x7e8)],_0x3cd514(0x7fb)],[_0x309112[_0x3cd514(0xe6)],_0x3cd514(0x2b8)],[_0x309112['SubscriptionRequestNoAnswer'],_0x3cd514(0x248)],[_0x309112[_0x3cd514(0x8ae)],_0x3cd514(0x870)],[_0x309112['NodeAlreadyExist'],_0x3cd514(0x5f1)],[_0x309112[_0x3cd514(0x7a0)],_0x3cd514(0x62e)],[_0x309112['VectorDatabaseCreationFailed'],_0x3cd514(0x29f)],[_0x309112[_0x3cd514(0x1d2)],_0x3cd514(0x12e)],[_0x309112[_0x3cd514(0x39e)],_0x3cd514(0x211)]]);class _0xa369e8 extends Error{[_0x3cd514(0x610)];static ['codes']=_0x309112;[_0x3cd514(0x66f)];constructor(_0xd42205,_0x144d06){const _0x126f7b=_0x3cd514;super('Internal\x20SDK\x20Error:\x20'+_0xd42205+':\x20'+_0x1f8427[_0x126f7b(0x31f)](_0xd42205)+_0x126f7b(0x528)+JSON[_0x126f7b(0x178)](_0x144d06)),this[_0x126f7b(0x610)]=_0xd42205,this[_0x126f7b(0x66f)]=_0x144d06||{};}}var _0x32bee3,_0xad3143,_0x44651d,_0x2cf499,_0x48a862,_0x4e7fd4,_0xca4838;!function(_0x1c8055){const _0x16429e=_0x3cd514;_0x1c8055[_0x1c8055[_0x16429e(0x171)]=0x0]='CloseGraphDatabase',_0x1c8055[_0x1c8055['CloseJobDispatcher']=0x1]='CloseJobDispatcher',_0x1c8055[_0x1c8055['CloseJobWorker']=0x2]='CloseJobWorker',_0x1c8055[_0x1c8055['CloseExternalStorageConnection']=0x3]=_0x16429e(0x416),_0x1c8055[_0x1c8055[_0x16429e(0x990)]=0x4]='CloseKeyValueDatabase',_0x1c8055[_0x1c8055[_0x16429e(0x391)]=0x5]='CloseMediaStream',_0x1c8055[_0x1c8055[_0x16429e(0x3ef)]=0x6]=_0x16429e(0x3ef),_0x1c8055[_0x1c8055[_0x16429e(0x14c)]=0x7]=_0x16429e(0x14c),_0x1c8055[_0x1c8055[_0x16429e(0x744)]=0x8]='CloseVectorDatabase',_0x1c8055[_0x1c8055[_0x16429e(0x41d)]=0x9]=_0x16429e(0x41d),_0x1c8055[_0x1c8055[_0x16429e(0x563)]=0xa]=_0x16429e(0x563),_0x1c8055[_0x1c8055['GenerativeAIWorkerStats']=0xb]='GenerativeAIWorkerStats',_0x1c8055[_0x1c8055[_0x16429e(0x809)]=0xc]=_0x16429e(0x809),_0x1c8055[_0x1c8055[_0x16429e(0x18e)]=0xd]=_0x16429e(0x18e),_0x1c8055[_0x1c8055['KeyValueDatabaseContentSynchronized']=0xe]='KeyValueDatabaseContentSynchronized',_0x1c8055[_0x1c8055[_0x16429e(0x414)]=0xf]=_0x16429e(0x414),_0x1c8055[_0x1c8055[_0x16429e(0x73e)]=0x10]=_0x16429e(0x73e),_0x1c8055[_0x1c8055[_0x16429e(0x465)]=0x11]=_0x16429e(0x465),_0x1c8055[_0x1c8055[_0x16429e(0x2e6)]=0x12]=_0x16429e(0x2e6),_0x1c8055[_0x1c8055[_0x16429e(0x67a)]=0x13]='KeyValueDatabaseSyncRequired',_0x1c8055[_0x1c8055['LocalMediaStreamTrackFail']=0x14]=_0x16429e(0x804),_0x1c8055[_0x1c8055[_0x16429e(0x8db)]=0x15]=_0x16429e(0x8db),_0x1c8055[_0x1c8055['PubSubTopicStats']=0x16]=_0x16429e(0x334),_0x1c8055[_0x1c8055[_0x16429e(0x88d)]=0x17]='PublishMediaStream',_0x1c8055[_0x1c8055[_0x16429e(0x8d5)]=0x18]=_0x16429e(0x8d5),_0x1c8055[_0x1c8055[_0x16429e(0x2a2)]=0x19]=_0x16429e(0x2a2),_0x1c8055[_0x1c8055[_0x16429e(0x4dc)]=0x1a]=_0x16429e(0x4dc),_0x1c8055[_0x1c8055[_0x16429e(0x295)]=0x1b]=_0x16429e(0x295),_0x1c8055[_0x1c8055[_0x16429e(0x224)]=0x1c]=_0x16429e(0x224),_0x1c8055[_0x1c8055['VectorDatabaseStats']=0x1d]=_0x16429e(0x922);}(_0x32bee3||(_0x32bee3={})),function(_0x2bd583){const _0x29da4d=_0x3cd514;_0x2bd583['FileWrite']='file-write',_0x2bd583[_0x29da4d(0x435)]=_0x29da4d(0x2d6),_0x2bd583[_0x29da4d(0x12f)]=_0x29da4d(0x6f9),_0x2bd583[_0x29da4d(0x257)]=_0x29da4d(0x933),_0x2bd583[_0x29da4d(0x7c8)]=_0x29da4d(0x62f),_0x2bd583[_0x29da4d(0x73d)]='request-accepted',_0x2bd583[_0x29da4d(0x624)]='request-file-sync',_0x2bd583[_0x29da4d(0x13b)]=_0x29da4d(0x2f0);}(_0xad3143||(_0xad3143={})),function(_0xcbaf6b){const _0x83605f=_0x3cd514;_0xcbaf6b[_0x83605f(0x199)]='request',_0xcbaf6b['Transaction']=_0x83605f(0x53d);}(_0x44651d||(_0x44651d={})),function(_0x16984e){const _0x3844e5=_0x3cd514;_0x16984e[_0x3844e5(0x742)]='add',_0x16984e[_0x3844e5(0x383)]=_0x3844e5(0x23a),_0x16984e[_0x3844e5(0x12f)]='delete';}(_0x2cf499||(_0x2cf499={})),function(_0x3bc8fd){const _0x501607=_0x3cd514;_0x3bc8fd[_0x501607(0x7f3)]=_0x501607(0x31f),_0x3bc8fd['List']='list',_0x3bc8fd['Count']=_0x501607(0x927);}(_0x48a862||(_0x48a862={})),function(_0x413c0b){const _0x544033=_0x3cd514;_0x413c0b[_0x413c0b['Request']=0x0]='Request',_0x413c0b[_0x413c0b[_0x544033(0x4ee)]=0x1]=_0x544033(0x4ee),_0x413c0b[_0x413c0b[_0x544033(0x532)]=0x2]=_0x544033(0x532),_0x413c0b[_0x413c0b['PartialResult']=0x3]=_0x544033(0x2b6),_0x413c0b[_0x413c0b[_0x544033(0x505)]=0x4]=_0x544033(0x505),_0x413c0b[_0x413c0b[_0x544033(0x58b)]=0x5]=_0x544033(0x58b);}(_0x4e7fd4||(_0x4e7fd4={})),function(_0x36b409){const _0x3f09ee=_0x3cd514;_0x36b409[_0x36b409[_0x3f09ee(0x3d9)]=0x0]=_0x3f09ee(0x3d9),_0x36b409[_0x36b409[_0x3f09ee(0x11d)]=0x1]=_0x3f09ee(0x11d),_0x36b409[_0x36b409['Content']=0x2]=_0x3f09ee(0x739),_0x36b409[_0x36b409['Subscription']=0x3]=_0x3f09ee(0x456),_0x36b409[_0x36b409[_0x3f09ee(0x3dc)]=0x4]=_0x3f09ee(0x3dc),_0x36b409[_0x36b409[_0x3f09ee(0x1d5)]=0x5]='Detection',_0x36b409[_0x36b409[_0x3f09ee(0x7da)]=0x6]=_0x3f09ee(0x7da);}(_0xca4838||(_0xca4838={}));class _0x53880d{[_0x3cd514(0x189)];[_0x3cd514(0x788)];[_0x3cd514(0x917)];constructor(_0x541c4a,_0x56e2c3){const _0x398160=_0x3cd514;this[_0x398160(0x189)]=_0x541c4a,this['label']=_0x56e2c3;}['getLabel'](){return this['label'];}[_0x3cd514(0x781)](){const _0x43c03c=_0x3cd514;return this[_0x43c03c(0x189)][_0x43c03c(0x47f)]();}[_0x3cd514(0x616)](){}[_0x3cd514(0x340)](_0x488756){this['systemTopic']=_0x488756;}[_0x3cd514(0x7b7)](){const _0x245bf2=_0x3cd514;delete this[_0x245bf2(0x917)];}}const _0x3cf795=require('firebase/firestore');let _0x13e0c3=_0x49710e(0x14d)['O'];function _0x286773(_0xaf7224){const _0x288cff=_0x3cd514;return!(!_0xaf7224||_0x288cff(0x7e0)!=typeof _0xaf7224||Array['isArray'](_0xaf7224));}_0x13e0c3=function _0x2e5485(_0x35c546,..._0x3928e7){const _0x4c0eb8=_0x3cd514;if(!Array['isArray'](_0x3928e7)||0x0===_0x3928e7['length'])return _0x35c546;const _0x5f3f54=_0x3928e7[_0x4c0eb8(0x1ff)]();if(_0x286773(_0x35c546)&&_0x286773(_0x5f3f54)){for(const _0x41dcac in _0x5f3f54)_0x286773(_0x5f3f54[_0x41dcac])?(_0x35c546[_0x41dcac]||Object[_0x4c0eb8(0x36e)](_0x35c546,{[_0x41dcac]:{}}),_0x2e5485(_0x35c546[_0x41dcac],_0x5f3f54[_0x41dcac])):Object['assign'](_0x35c546,{[_0x41dcac]:_0x5f3f54[_0x41dcac]});}return _0x2e5485(_0x35c546,..._0x3928e7);}(_0x13e0c3,_0x49710e(0x3e6)['O']);const _0x7d2261=_0x13e0c3,_0x3bb940=require('firebase/app'),_0x542267=require('firebase/auth'),_0x43a04d=require('firebase/database'),_0x17a0f0=require('firebase/functions'),_0x6d7452=require('uuid'),_0x1f4978='CREWDLE_WEB_SDK';class _0x5572be{static [_0x3cd514(0x59b)];['app'];['auth'];['functions'];[_0x3cd514(0x78b)];[_0x3cd514(0x43a)];[_0x3cd514(0x451)];[_0x3cd514(0x3ea)];constructor(){this['getApp']();}static['getInstance'](){const _0x31ac98=_0x3cd514;return _0x5572be[_0x31ac98(0x59b)]||(_0x5572be[_0x31ac98(0x59b)]=new _0x5572be()),_0x5572be[_0x31ac98(0x59b)];}[_0x3cd514(0x830)](){const _0x2482fe=_0x3cd514;if(!this[_0x2482fe(0x429)]){let _0x20d49b=_0x1f4978;_0x2482fe(0x622)!=typeof window&&(_0x20d49b=_0x1f4978+'-'+(0x0,_0x6d7452['v4'])()),this[_0x2482fe(0x429)]=(0x0,_0x3bb940['initializeApp'])(_0x7d2261[_0x2482fe(0xc9)],''+_0x20d49b);}return this['app'];}[_0x3cd514(0x679)](){const _0x17d269=_0x3cd514;return this[_0x17d269(0x686)]||(this[_0x17d269(0x686)]=(0x0,_0x542267['getAuth'])(this[_0x17d269(0x830)]())),this[_0x17d269(0x686)];}[_0x3cd514(0x865)](){const _0x30d51d=_0x3cd514;return this[_0x30d51d(0x8c3)]||(this[_0x30d51d(0x8c3)]=(0x0,_0x17a0f0[_0x30d51d(0x865)])(this[_0x30d51d(0x830)](),_0x7d2261['firebaseConfig'][_0x30d51d(0x39d)])),this[_0x30d51d(0x8c3)];}[_0x3cd514(0x65c)](){const _0x34cc17=_0x3cd514;return this[_0x34cc17(0x78b)]||(this[_0x34cc17(0x78b)]=(0x0,_0x43a04d[_0x34cc17(0x65c)])(this[_0x34cc17(0x830)]())),this[_0x34cc17(0x78b)];}[_0x3cd514(0x823)](){const _0x28d275=_0x3cd514;return this['firestore']||(this[_0x28d275(0x43a)]=(0x0,_0x3cf795[_0x28d275(0x823)])(this[_0x28d275(0x830)]())),this[_0x28d275(0x43a)];}async[_0x3cd514(0x6de)](){const _0x22519c=_0x3cd514;if(this['clockSkew']&&this['lastClockUpdate']&&Date[_0x22519c(0x498)]()-this[_0x22519c(0x3ea)]<0x493e0)return Date[_0x22519c(0x498)]()+this[_0x22519c(0x451)];const _0x48d7a1=this[_0x22519c(0x65c)](),_0x3fb0b6=(0x0,_0x43a04d[_0x22519c(0x208)])(_0x48d7a1,_0x22519c(0x4b8));return new Promise(_0x59ecd3=>{const _0x104ff2=_0x22519c;(0x0,_0x43a04d[_0x104ff2(0x752)])(_0x3fb0b6,_0x1e605c=>{const _0x17a9dc=_0x104ff2;(0x0,_0x43a04d[_0x17a9dc(0xcb)])(_0x3fb0b6),this[_0x17a9dc(0x451)]=_0x1e605c[_0x17a9dc(0x3e1)](),this['lastClockUpdate']=Date[_0x17a9dc(0x498)](),_0x59ecd3(Date[_0x17a9dc(0x498)]()+(this['clockSkew']??0x0));});});}}const _0x349b1d=_0x5572be[_0x3cd514(0x68e)]();class _0x9b9af3{static [_0x3cd514(0x59b)];[_0x3cd514(0x4c7)]=[_0x5ce311[_0x3cd514(0x99c)]];[_0x3cd514(0x98e)]=!0x1;[_0x3cd514(0x87e)];[_0x3cd514(0x1a3)]='';[_0x3cd514(0x2be)];['batchQueue']=[];[_0x3cd514(0x482)];[_0x3cd514(0x574)];[_0x3cd514(0x44c)]=0xa;[_0x3cd514(0x399)]=0x1f4;['batchSize']=0x1c2;[_0x3cd514(0x18a)]=0x3e8;constructor(){const _0x3db190=_0x3cd514;if(_0x3db190(0x622)!=typeof window)this[_0x3db190(0x2be)]=window;else{if(void 0x0===_0x49710e['g'])throw new Error(_0x3db190(0x37e));this[_0x3db190(0x2be)]=_0x49710e['g'];}this[_0x3db190(0x71b)](),this['globalObject'][_0x3db190(0x180)]=_0x55645a=>{const _0x1238c5=_0x3db190;if(_0x55645a===_0x5ce311['All'])return this['enabledChannels']=Object[_0x1238c5(0x298)](_0x5ce311)[_0x1238c5(0x730)](_0x502952=>_0x5ce311[_0x502952]),void Object[_0x1238c5(0x298)](_0x5ce311)[_0x1238c5(0x753)](_0xddf78a=>{const _0x44de9a=_0x1238c5,_0x586bb0=_0xddf78a;localStorage['setItem'](_0x44de9a(0xd5)+_0x5ce311[_0x586bb0],_0x44de9a(0x708));});this['enabledChannels'][_0x1238c5(0x135)](_0x55645a)||(this[_0x1238c5(0x4c7)][_0x1238c5(0x63b)](_0x55645a),localStorage[_0x1238c5(0x51b)]('crewdle-sdk-logging-'+_0x55645a,'true'));},this[_0x3db190(0x2be)][_0x3db190(0xea)]=_0x257cb4=>{const _0x4a5328=_0x3db190;if(!_0x257cb4||_0x257cb4===_0x5ce311[_0x4a5328(0x1bb)])return this[_0x4a5328(0x4c7)]=[],void Object['keys'](_0x5ce311)['forEach'](_0x622948=>{const _0x2251df=_0x4a5328,_0x4db238=_0x622948;localStorage[_0x2251df(0x982)](_0x2251df(0xd5)+_0x5ce311[_0x4db238]);});this[_0x4a5328(0x4c7)][_0x4a5328(0x135)](_0x257cb4)&&(this[_0x4a5328(0x4c7)]=this[_0x4a5328(0x4c7)][_0x4a5328(0x4d1)](_0x1e76ab=>_0x1e76ab!==_0x257cb4),localStorage[_0x4a5328(0x982)](_0x4a5328(0xd5)+_0x257cb4));},this['globalObject'][_0x3db190(0x635)]=_0x5ce311;}static[_0x3cd514(0x68e)](){const _0x296243=_0x3cd514;try{return _0x9b9af3[_0x296243(0x59b)]||(_0x9b9af3['instance']=new _0x9b9af3()),_0x9b9af3['instance'];}catch(_0x2e72f9){return console['error'](_0x296243(0x8fe),_0x2e72f9),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x16c330){const _0x45a7a3=_0x3cd514;this[_0x45a7a3(0x1a3)]=_0x16c330,this['batchQueue']=[],this[_0x45a7a3(0x482)]=this[_0x45a7a3(0x857)](),this[_0x45a7a3(0x574)]&&(clearTimeout(this[_0x45a7a3(0x574)]),this[_0x45a7a3(0x574)]=void 0x0);}['setLoggingConnectors'](_0x410c08){const _0x218e82=_0x3cd514;this[_0x218e82(0x87e)]=_0x410c08;}[_0x3cd514(0x470)](_0x469cb0,..._0x503e8d){const _0xb39b5f=_0x3cd514;this[_0xb39b5f(0x98e)]&&this['log'](_0x5ce311[_0xb39b5f(0x99c)],_0xb39b5f(0x442)+_0x469cb0,..._0x503e8d);}[_0x3cd514(0x888)](_0x3260db,..._0x2941da){const _0x491946=_0x3cd514;console[_0x491946(0x8b2)](_0x3260db,..._0x2941da);}[_0x3cd514(0x8b2)](_0x169e92,_0x3005eb,..._0x45a3e4){const _0x4160b2=_0x3cd514;_0x7d2261[_0x4160b2(0x583)]||(this[_0x4160b2(0x4c7)][_0x4160b2(0x135)](_0x169e92)&&console[_0x4160b2(0x8b2)](_0x4160b2(0x59c)+_0x169e92+'\x27\x0a',new Date()+'\x0a',_0x3005eb,..._0x45a3e4),this['loggingConnectors']&&this[_0x4160b2(0x87e)][_0x4160b2(0x753)](_0x2167e2=>{const _0x37f041=_0x4160b2;this[_0x37f041(0x4be)](_0x2167e2)&&_0x2167e2[_0x37f041(0x680)]()['includes'](_0x169e92)&&_0x2167e2['log'](_0x3005eb,{'vendorId':this[_0x37f041(0x1a3)],'nodeId':'','nodeType':'','data':{'channel':_0x169e92,..._0x45a3e4}});}));}[_0x3cd514(0x970)](_0x3a7b99,_0x52227c,..._0x3e450c){const _0x4fee6c=_0x3cd514;_0x7d2261[_0x4fee6c(0x583)]||(this[_0x4fee6c(0x4c7)]['includes'](_0x3a7b99)&&console[_0x4fee6c(0x8b2)](_0x52227c,..._0x3e450c),this['loggingConnectors']&&this[_0x4fee6c(0x87e)]['forEach'](_0x2a2d02=>{const _0x2c9cfd=_0x4fee6c;this[_0x2c9cfd(0x4be)](_0x2a2d02)&&_0x2a2d02[_0x2c9cfd(0x680)]()[_0x2c9cfd(0x135)](_0x3a7b99)&&_0x2a2d02['log'](_0x52227c,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x3a7b99,..._0x3e450c}});}));}[_0x3cd514(0x592)](_0x5d7363,_0x1845f5){const _0x155a22=_0x3cd514;if(!this['loggingConnectors'])return;const _0x329c92={'vendorId':this[_0x155a22(0x1a3)],..._0x1845f5};this[_0x155a22(0x87e)][_0x155a22(0x753)](_0x3b9ffd=>{const _0xfb37db=_0x155a22;_0x3b9ffd[_0xfb37db(0x8b2)](_0x5d7363,_0x329c92);});}[_0x3cd514(0x72f)](_0x362454,_0x1031d4){const _0x557ebb=_0x3cd514;this[_0x557ebb(0x86a)](_0x362454,_0x1031d4),this['logBatch']();}[_0x3cd514(0x40b)](_0x2df200,_0x462369,_0x5d33e9){const _0x2d745b=_0x3cd514;(0x0,_0x3cf795[_0x2d745b(0x3ec)])((0x0,_0x3cf795[_0x2d745b(0x62b)])(_0x349b1d['getFirestore'](),_0x2d745b(0x866)+this[_0x2d745b(0x1a3)]+'/'+_0x2df200+'/'+_0x462369),{'storage':_0x5d33e9,'timestamp':(0x0,_0x3cf795[_0x2d745b(0x5eb)])()});}[_0x3cd514(0x35e)](){const _0xb495e2=_0x3cd514;this[_0xb495e2(0x482)]&&(this[_0xb495e2(0x482)][_0xb495e2(0x608)]+=0x1,this[_0xb495e2(0x482)][_0xb495e2(0x608)]===this[_0xb495e2(0x5ea)]?this[_0xb495e2(0x937)]():this[_0xb495e2(0x574)]||(this[_0xb495e2(0x574)]=this[_0xb495e2(0x2be)][_0xb495e2(0x76a)](()=>this['processBatch'](),this[_0xb495e2(0x18a)])));}async['processBatch'](){const _0x7a490d=_0x3cd514;if(this[_0x7a490d(0x482)]){for(this[_0x7a490d(0x8c5)]['push'](this[_0x7a490d(0x482)]),this[_0x7a490d(0x482)]=this[_0x7a490d(0x857)]();this[_0x7a490d(0x8c5)][_0x7a490d(0x4f4)]>0x0;){const _0x1dd068=this[_0x7a490d(0x8c5)][_0x7a490d(0x1ff)]();if(!await this['commitBatch'](_0x1dd068))break;}clearTimeout(this[_0x7a490d(0x574)]),this['batchTimeout']=void 0x0;}}[_0x3cd514(0x3db)](_0x2a187c,_0x5b2509,..._0x4f10ed){const _0x4691e6=_0x3cd514;if(console['error'](new Date(),_0x2a187c,_0x5b2509,..._0x4f10ed),this[_0x4691e6(0x87e)]){const _0xf4c5e1={'vendorId':this['vendorId'],..._0x5b2509};this[_0x4691e6(0x87e)][_0x4691e6(0x753)](_0x1217d4=>{_0x1217d4['error'](_0x2a187c,_0xf4c5e1);});}}['warning'](_0x2aa49c,_0x590889,..._0x15ee0e){const _0x1b9d5c=_0x3cd514;if(console[_0x1b9d5c(0x76f)](new Date(),_0x2aa49c,_0x590889,_0x15ee0e),this[_0x1b9d5c(0x87e)]){const _0x21062a={'vendorId':this[_0x1b9d5c(0x1a3)],..._0x590889};this[_0x1b9d5c(0x87e)][_0x1b9d5c(0x753)](_0x382487=>{const _0x3c8340=_0x1b9d5c;_0x382487[_0x3c8340(0x76f)](_0x2aa49c,_0x21062a);});}}[_0x3cd514(0x6af)](_0x1f64dd){const _0x3a627a=_0x3cd514;return this[_0x3a627a(0x4c7)]['includes'](_0x1f64dd);}async[_0x3cd514(0x6b3)](_0x96bbec,_0x1e0570=0x0){const _0x591f06=_0x3cd514;if(_0x96bbec[_0x591f06(0x608)]>0x0)try{return await _0x96bbec[_0x591f06(0x611)]['commit'](),!0x0;}catch(_0x111dc4){if(console['error'](_0x591f06(0x6f2),_0x111dc4,_0x591f06(0x7ca),_0x96bbec[_0x591f06(0x705)]),!(_0x1e0570<this[_0x591f06(0x44c)])){const {nodeId:_0x53f765='',nodeType:_0x747fa4='',clusterId:_0xe78907=''}=_0x96bbec[_0x591f06(0x705)][0x0][_0x591f06(0x66f)],_0xefef49={'nodeId':_0x53f765,'nodeType':_0x747fa4,'clusterId':_0xe78907,'data':{'operations':_0x96bbec[_0x591f06(0x705)],'error':_0x111dc4}};return this[_0x591f06(0x3db)]('Failed\x20to\x20commit\x20batch\x20after\x20retries:',_0xefef49),!0x1;}{const _0xd92fb4=this[_0x591f06(0x953)](_0x96bbec[_0x591f06(0x705)]);setTimeout(()=>this[_0x591f06(0x6b3)](_0xd92fb4,_0x1e0570+0x1),this[_0x591f06(0x399)]*Math[_0x591f06(0x999)](0x2,_0x1e0570));}}}[_0x3cd514(0x71b)](){const _0x340798=_0x3cd514;try{Object[_0x340798(0x298)](_0x5ce311)[_0x340798(0x753)](_0x3d1a56=>{const _0x5081dd=_0x340798,_0x270fd5=_0x3d1a56;localStorage['getItem'](_0x5081dd(0xd5)+_0x5ce311[_0x270fd5])&&(console[_0x5081dd(0x8b2)](_0x5081dd(0x8da),_0x5ce311[_0x270fd5]),this['enabledChannels'][_0x5081dd(0x63b)](_0x5ce311[_0x270fd5]));});}catch(_0x5e48a9){}}[_0x3cd514(0x4be)](_0x31b2c8){return void 0x0!==_0x31b2c8['getEnabledChannels'];}[_0x3cd514(0x857)](){const _0x2f4f75=_0x3cd514;return{'batch':(0x0,_0x3cf795[_0x2f4f75(0x38f)])(_0x349b1d[_0x2f4f75(0x823)]()),'operations':[],'counter':0x0};}[_0x3cd514(0x953)](_0x5b0e4a){const _0x520a7b=_0x3cd514,_0x344b1a=(0x0,_0x3cf795['writeBatch'])(_0x349b1d[_0x520a7b(0x823)]());return _0x5b0e4a['forEach'](_0x3c30cb=>this[_0x520a7b(0x25e)](_0x344b1a,_0x3c30cb)),{'batch':_0x344b1a,'operations':_0x5b0e4a,'counter':_0x5b0e4a[_0x520a7b(0x4f4)]};}['addBatchOperation'](_0x327a32,_0xcdfeca){const _0x16d662=_0x3cd514;switch(_0xcdfeca['type']){case'set':_0x327a32[_0x16d662(0x282)](_0xcdfeca[_0x16d662(0x208)],_0xcdfeca[_0x16d662(0x66f)]);break;case _0x16d662(0x23a):_0x327a32['update'](_0xcdfeca[_0x16d662(0x208)],_0xcdfeca[_0x16d662(0x66f)]);break;case'delete':_0x327a32[_0x16d662(0x6f9)](_0xcdfeca[_0x16d662(0x208)]);}}[_0x3cd514(0x86a)](_0x5e43a0,_0x1ccb9a){const _0xfb1323=_0x3cd514;this[_0xfb1323(0x482)]||(this['currentBatch']=this[_0xfb1323(0x857)]());const _0x2854a3=(0x0,_0x3cf795[_0xfb1323(0x62b)])((0x0,_0x3cf795[_0xfb1323(0x6ca)])(_0x349b1d[_0xfb1323(0x823)](),_0xfb1323(0x866)+this['vendorId']+_0xfb1323(0x553))),_0x47583b={..._0x1ccb9a,'service':_0x5e43a0,'timestamp':(0x0,_0x3cf795[_0xfb1323(0x5eb)])()},_0x2f42c2={'type':_0xfb1323(0x282),'path':_0x2854a3['path'],'ref':_0x2854a3,'data':_0x47583b};return this[_0xfb1323(0x482)]['operations'][_0xfb1323(0x63b)](_0x2f42c2),this[_0xfb1323(0x25e)](this[_0xfb1323(0x482)][_0xfb1323(0x611)],_0x2f42c2),_0x2854a3;}}const _0x61b339=_0x9b9af3['getInstance']();function _0x5e2faf(_0x533c6e,_0x451699){return'/'===_0x533c6e?_0x533c6e+_0x451699:_0x533c6e+'/'+_0x451699;}function _0x38090c(_0xbdbf42){const _0x4f0ab9=_0x3cd514,_0x509d7e=function(_0x586655){const _0x526125=a0_0x2e46;return _0x586655[_0x526125(0x4d3)]('/')[_0x526125(0x4d1)](_0x3ffc97=>_0x3ffc97[_0x526125(0x4f4)]>0x0);}(_0xbdbf42),_0x340bed=_0x509d7e[_0x4f0ab9(0x329)]()||'',_0x7e7ec8=_0x509d7e[_0x4f0ab9(0x696)]('/');return[0x0===_0x7e7ec8[_0x4f0ab9(0x4f4)]?'/':_0x7e7ec8,_0x340bed];}async function _0x1730bc(_0x214ab7){const _0x310226=_0x3cd514;let _0x17cc6b;const _0x3d33cf=_0x214ab7['size']/0x100000;_0x17cc6b=_0x3d33cf<=0xa?0x1:_0x3d33cf<=0x64?0.5:_0x3d33cf<=0x1f4?0.1:0.05;const _0x537af3=Math[_0x310226(0x7f1)](_0x214ab7[_0x310226(0x3cb)]/_0x14aa10),_0x28a58a=Math[_0x310226(0x7f1)](_0x537af3*_0x17cc6b);let _0x819fc=new Uint8Array();for(let _0x1f0f97=0x0;_0x1f0f97<_0x28a58a;_0x1f0f97++){const _0x5617db=Math[_0x310226(0x7ff)](_0x1f0f97/_0x28a58a*_0x214ab7[_0x310226(0x3cb)]);let _0x2411d6=_0x5617db+_0x14aa10;_0x2411d6>_0x214ab7[_0x310226(0x3cb)]&&(_0x2411d6=_0x214ab7['size']);const _0x15ce46=_0x214ab7[_0x310226(0x1a5)](_0x5617db,_0x2411d6),_0x4abef2=await _0x15ce46[_0x310226(0x73c)](),_0x117765=new Uint8Array([..._0x819fc,...new Uint8Array(_0x4abef2)]);_0x819fc=new Uint8Array(await crypto[_0x310226(0x2b1)][_0x310226(0x767)](_0x310226(0x984),_0x117765));}return Array[_0x310226(0x88a)](new Uint8Array(_0x819fc))[_0x310226(0x730)](_0x44f7d5=>_0x44f7d5[_0x310226(0x548)](0x10)['padStart'](0x2,'0'))[_0x310226(0x696)]('');}async function*_0x3cc1d8(_0x155a94,_0x103b90=0x0,_0x49c98f){const _0x906e7a=_0x3cd514;let _0x190e24=_0x103b90*_0x303ca8,_0x1cbdab=_0x155a94;for(;_0x190e24<_0x1cbdab[_0x906e7a(0x3cb)];){let _0x529ecf=_0x190e24+_0x303ca8;_0x529ecf>_0x1cbdab['size']&&(_0x529ecf=_0x1cbdab['size']);let _0x50d1dd=0x0;for(;_0x50d1dd<0x14;)try{await _0x49c98f?.();const _0x2df6c2=_0x1cbdab[_0x906e7a(0x1a5)](_0x190e24,_0x529ecf,_0x906e7a(0x93b)),_0x15528e=await _0x2df6c2[_0x906e7a(0x73c)]();yield _0x15528e,_0x190e24=_0x529ecf,await new Promise(_0x1c410f=>setTimeout(_0x1c410f,0x0));break;}catch(_0x3e1f43){if(console['error'](_0x906e7a(0x885)+(_0x50d1dd+0x1)+_0x906e7a(0x2dd),_0x3e1f43),_0x50d1dd++,_0x50d1dd>0x14)throw _0x3e1f43;let _0xb7db49=0x3e8*Math[_0x906e7a(0x999)](0x2,_0x50d1dd);_0xb7db49>0x7530&&(_0xb7db49=0x7530),await new Promise(_0x48fc6e=>setTimeout(_0x48fc6e,_0xb7db49));}}}class _0x38c6ff extends _0x53880d{[_0x3cd514(0x9b7)];['incomingTopic'];[_0x3cd514(0x7e4)]=new Map();['messagesSent']=0x0;[_0x3cd514(0x1a8)]=0x0;[_0x3cd514(0x6cd)]=0x0;['bytesReceived']=0x0;constructor(_0x1ad391,_0x83f6e3){super(_0x1ad391,_0x83f6e3);}[_0x3cd514(0x24e)](){return this['label'];}[_0x3cd514(0x97c)](){return this['label'];}[_0x3cd514(0x321)](){const _0x1af19a=_0x3cd514;return _0x3cfea6[_0x1af19a(0x9b0)]['Data'];}[_0x3cd514(0x711)](){const _0x2a8051=_0x3cd514;return this[_0x2a8051(0x788)];}['registerPublisher'](_0xade7d4){const _0x53c33b=_0x3cd514;if(this['outgoingTopic'])throw new _0xa369e8(_0xa369e8[_0x53c33b(0x98c)][_0x53c33b(0x371)],{'message':_0x53c33b(0x124)+this['owner']['getId']()+'\x20-\x20'+this[_0x53c33b(0x788)],'topic':this[_0x53c33b(0x9b7)]});this[_0x53c33b(0x9b7)]=_0xade7d4;}['registerSubscriber'](_0x49e491){const _0x54976c=_0x3cd514;if(this[_0x54976c(0x45e)])throw new _0xa369e8(_0xa369e8[_0x54976c(0x98c)][_0x54976c(0x3f8)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x54976c(0x189)][_0x54976c(0x47f)]()+_0x54976c(0xdd)+this[_0x54976c(0x788)],'topic':this[_0x54976c(0x45e)]});this[_0x54976c(0x45e)]=_0x49e491;}[_0x3cd514(0x4b3)](){delete this['outgoingTopic'];}[_0x3cd514(0x48c)](){delete this['incomingTopic'];}async[_0x3cd514(0x13f)](_0x44373c,_0x46adc7){const _0x132f87=_0x3cd514;if(_0x61b339[_0x132f87(0x8b2)](_0x5ce311['DataStream'],_0x132f87(0x61f),this[_0x132f87(0x189)][_0x132f87(0x47f)](),_0x44373c,_0x46adc7),this[_0x132f87(0x46b)]+=0x1,_0x44373c instanceof File){const _0x406e60=await async function(_0x20295b){const _0xe75d51=_0x132f87,_0x385bad=[];for await(const _0xa785f3 of _0x3cc1d8(_0x20295b))_0x385bad[_0xe75d51(0x63b)](_0xa785f3);return _0x385bad;}(_0x44373c);return this[_0x132f87(0x6cd)]+=_0x406e60['reduce']((_0x5a7006,_0x1cebd4)=>_0x5a7006+_0x1cebd4[_0x132f87(0x81e)],0x0),void _0x406e60[_0x132f87(0x753)]((_0x378011,_0x4c47c8)=>{const _0x4a8565=_0x132f87;this['outgoingTopic']['publish']({'sourceId':this[_0x4a8565(0x189)][_0x4a8565(0x47f)](),'destinationIds':_0x46adc7,'propagate':!0x0,'contentType':_0x3cfea6[_0x4a8565(0x9b0)][_0x4a8565(0x4b1)],'content':{'name':_0x44373c[_0x4a8565(0x945)],'type':_0x44373c[_0x4a8565(0x3a7)],'data':_0x378011,'index':_0x4c47c8,'total':_0x406e60[_0x4a8565(0x4f4)]}});});}this[_0x132f87(0x6cd)]+=JSON['stringify'](_0x44373c)['length'],this['outgoingTopic'][_0x132f87(0x19e)]({'sourceId':this[_0x132f87(0x189)][_0x132f87(0x47f)](),'destinationIds':_0x46adc7,'propagate':!0x0,'contentType':_0x3cfea6[_0x132f87(0x9b0)][_0x132f87(0x85d)],'content':_0x44373c});}['onMessage'](_0x193651){const _0x350545=_0x3cd514;return this[_0x350545(0x45e)][_0x350545(0x5a5)](_0x4eae85=>{const _0x293a11=_0x350545;switch(_0x61b339[_0x293a11(0x8b2)](_0x5ce311[_0x293a11(0x454)],_0x293a11(0x98b),this[_0x293a11(0x189)]['getId'](),_0x4eae85),_0x4eae85[_0x293a11(0x2bf)]){case _0x3cfea6['ContentType'][_0x293a11(0x85d)]:this[_0x293a11(0x1a8)]+=0x1,this['bytesReceived']+=JSON[_0x293a11(0x178)](_0x4eae85[_0x293a11(0x1cb)])['length'],_0x193651(_0x4eae85[_0x293a11(0x118)],_0x4eae85[_0x293a11(0x1cb)]);break;case _0x3cfea6[_0x293a11(0x9b0)]['File']:this[_0x293a11(0x7e4)][_0x293a11(0x31e)](_0x4eae85[_0x293a11(0x1cb)][_0x293a11(0x945)])||this[_0x293a11(0x7e4)][_0x293a11(0x282)](_0x4eae85[_0x293a11(0x1cb)][_0x293a11(0x945)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0xb39ffd=this['fileChunks'][_0x293a11(0x31f)](_0x4eae85[_0x293a11(0x1cb)]['name']);if(_0xb39ffd[_0x293a11(0x53e)]+=0x1,_0xb39ffd[_0x293a11(0x728)]+=_0x4eae85[_0x293a11(0x1cb)][_0x293a11(0x66f)]['byteLength'],_0xb39ffd[_0x293a11(0x1cb)]&&(_0xb39ffd[_0x293a11(0x1cb)][_0x4eae85[_0x293a11(0x1cb)][_0x293a11(0x57e)]]=_0x4eae85['content'][_0x293a11(0x66f)]),this['fileChunks']['set'](_0x4eae85[_0x293a11(0x1cb)][_0x293a11(0x945)],_0xb39ffd),_0xb39ffd[_0x293a11(0x53e)]+0x1<_0x4eae85[_0x293a11(0x1cb)][_0x293a11(0xd1)])return;this['messagesReceived']+=0x1,this[_0x293a11(0x728)]+=_0xb39ffd[_0x293a11(0x728)],_0xb39ffd[_0x293a11(0x1cb)]&&_0x193651(_0x4eae85[_0x293a11(0x118)],(_0x5d9365=_0xb39ffd['content'],_0x24f81a=_0x4eae85[_0x293a11(0x1cb)][_0x293a11(0x945)],_0x30697b=_0x4eae85['content']['type'],new File(_0x5d9365,_0x24f81a,{'type':_0x30697b}))),this[_0x293a11(0x7e4)][_0x293a11(0x6f9)](_0x4eae85[_0x293a11(0x1cb)][_0x293a11(0x945)]);}var _0x5d9365,_0x24f81a,_0x30697b;});}}function _0x214ef4(){let _0x51589a=[];return{'subscribe':_0x3f237e=>(_0x51589a['push'](_0x3f237e),()=>{const _0x16917d=a0_0x2e46;_0x51589a=_0x51589a[_0x16917d(0x4d1)](_0x562455=>_0x562455!==_0x3f237e);}),'publish':_0x54ae9e=>{const _0x2009d7=a0_0x2e46;_0x51589a[_0x2009d7(0x753)](_0xd0f5a1=>_0xd0f5a1(_0x54ae9e));}};}function _0x189a7c(){let _0x49d4db;return{'subscribe':_0x401917=>(_0x49d4db=_0x401917,()=>{_0x49d4db=void 0x0;}),'publish':_0x2f291b=>{_0x49d4db&&_0x49d4db(_0x2f291b);}};}class _0x1668df{[_0x3cd514(0x459)];[_0x3cd514(0x8ff)];[_0x3cd514(0x860)];['eventListener']=_0x189a7c();['listenerUnsubscriber'];constructor(_0x4adba7,_0x3abd5a,_0x19a5cf){const _0x48d18d=_0x3cd514;this[_0x48d18d(0x459)]=_0x4adba7,this[_0x48d18d(0x8ff)]=_0x3abd5a,this[_0x48d18d(0x860)]=_0x19a5cf;}[_0x3cd514(0x616)](){this['listenerUnsubscriber']?.();}async[_0x3cd514(0x31f)](_0x21877e){const _0x5c254a=_0x3cd514,_0x1cf6ec={'key':_0x21877e,'tableName':this['tableName'],'action':_0x48a862[_0x5c254a(0x7f3)]};return this['tableObserver'][_0x5c254a(0x19e)](_0x1cf6ec),this[_0x5c254a(0x459)][_0x5c254a(0x31f)](_0x21877e);}async[_0x3cd514(0x282)](_0x38baff,_0x56ccfe,_0x45b96c=!0x0){const _0x42a214=_0x3cd514;this[_0x42a214(0x8f8)](_0x56ccfe);const _0x10dc4d=await this[_0x42a214(0x459)][_0x42a214(0x31f)](_0x38baff),_0x2c35da=await this['connector'][_0x42a214(0x282)](_0x38baff,_0x56ccfe),_0x1ebe58=_0x10dc4d?_0x2cf499[_0x42a214(0x383)]:_0x2cf499[_0x42a214(0x742)];if(this[_0x42a214(0x19e)](_0x1ebe58,_0x2c35da),!_0x45b96c)return _0x2c35da;const _0x260b4e={'key':_0x38baff,'tableName':this[_0x42a214(0x8ff)],'action':_0x1ebe58,'value':_0x2c35da};return this[_0x42a214(0x860)][_0x42a214(0x19e)](_0x260b4e),_0x2c35da;}async[_0x3cd514(0x6aa)](_0x22a0ea){const _0x538c90=_0x3cd514;this[_0x538c90(0x8f8)](_0x22a0ea);const _0xc8576c=await this[_0x538c90(0x459)][_0x538c90(0x6aa)](_0x22a0ea),_0x54a144={'key':_0xc8576c['id'],'tableName':this['tableName'],'action':_0x2cf499[_0x538c90(0x742)],'value':_0xc8576c};return this[_0x538c90(0x860)][_0x538c90(0x19e)](_0x54a144),this['publish'](_0x54a144[_0x538c90(0x421)],_0xc8576c),_0xc8576c;}async['delete'](_0x4a9a06,_0x569ec7=!0x0){const _0x54332a=_0x3cd514,_0x2ecfac=await this[_0x54332a(0x459)][_0x54332a(0x31f)](_0x4a9a06);if(!_0x2ecfac)return;await this[_0x54332a(0x459)][_0x54332a(0x6f9)](_0x4a9a06);const _0x3a21da=_0x2cf499['Delete'];if(this[_0x54332a(0x19e)](_0x3a21da,_0x2ecfac),!_0x569ec7)return;const _0x4834a8={'key':_0x4a9a06,'tableName':this[_0x54332a(0x8ff)],'action':_0x3a21da,'value':_0x2ecfac};this[_0x54332a(0x860)][_0x54332a(0x19e)](_0x4834a8);}async[_0x3cd514(0x921)](){const _0x788d8c=_0x3cd514,_0x244266=await this['list']();for(const _0x332aec of _0x244266){const _0x407efa=_0x2cf499['Delete'];this[_0x788d8c(0x19e)](_0x407efa,_0x332aec);const _0x351289={'key':_0x332aec['id'],'tableName':this[_0x788d8c(0x8ff)],'action':_0x407efa,'value':_0x332aec};this[_0x788d8c(0x860)]['publish'](_0x351289);}return this[_0x788d8c(0x459)][_0x788d8c(0x921)]();}async[_0x3cd514(0x9c7)](_0x12dc10){const _0x5098d0=_0x3cd514,_0x13418a={'key':'','tableName':this[_0x5098d0(0x8ff)],'action':_0x48a862['List']};this['tableObserver']['publish'](_0x13418a);try{_0x12dc10&&(_0x12dc10=_0x12dc10 instanceof _0x59793c?_0x12dc10[_0x5098d0(0x62d)]():_0x59793c[_0x5098d0(0x1ec)](_0x12dc10)[_0x5098d0(0x62d)]());}catch(_0x3f0786){throw new _0x1e3976(_0x2089de[_0x5098d0(0x223)],_0x5098d0(0x932));}try{return await this[_0x5098d0(0x459)]['list'](_0x12dc10);}catch(_0x17ea83){let _0x5e43b3='Invalid\x20query';throw _0x17ea83 instanceof Error&&(_0x5e43b3=_0x17ea83[_0x5098d0(0xfe)]),new _0x1e3976(_0x2089de[_0x5098d0(0x223)],_0x5e43b3);}}async[_0x3cd514(0x927)](_0x3caf6f){const _0x1638db=_0x3cd514,_0x3e8bcb={'key':'','tableName':this[_0x1638db(0x8ff)],'action':_0x48a862[_0x1638db(0x2a4)]};this['tableObserver']['publish'](_0x3e8bcb);try{_0x3caf6f&&(_0x3caf6f=_0x3caf6f instanceof _0x59793c?_0x3caf6f['getQuery']():_0x59793c[_0x1638db(0x1ec)](_0x3caf6f)[_0x1638db(0x62d)]());}catch(_0x3d6085){throw new _0x1e3976(_0x2089de['KeyValueDatabaseInvalidQuery'],_0x1638db(0x932));}try{return await this['connector'][_0x1638db(0x927)](_0x3caf6f);}catch(_0x2cd8d0){let _0x27023d=_0x1638db(0x932);throw _0x2cd8d0 instanceof Error&&(_0x27023d=_0x2cd8d0[_0x1638db(0xfe)]),new _0x1e3976(_0x2089de[_0x1638db(0x223)],_0x27023d);}}[_0x3cd514(0x1ce)](){const _0x374fd4=_0x3cd514;return this[_0x374fd4(0x459)][_0x374fd4(0x1ce)]();}[_0x3cd514(0x5a5)](_0x5c1971){const _0x35aa0c=_0x3cd514;this[_0x35aa0c(0x400)]=this[_0x35aa0c(0x5c9)][_0x35aa0c(0x5a5)](_0x5c1971);}[_0x3cd514(0x2cf)](){const _0x3313f1=_0x3cd514;this[_0x3313f1(0x400)]?.();}[_0x3cd514(0x19e)](_0x580096,_0x4e4457){const _0x1c069d=_0x3cd514,_0x4e2458=this[_0x1c069d(0x437)](_0x580096,_0x4e4457);this['eventListener'][_0x1c069d(0x19e)](_0x4e2458);}[_0x3cd514(0x437)](_0x58aea2,_0x88638d){const _0x19a495=_0x3cd514;let _0x155e05;switch(_0x58aea2){case _0x2cf499[_0x19a495(0x742)]:_0x155e05=_0x19a495(0x6aa);break;case _0x2cf499[_0x19a495(0x383)]:_0x155e05=_0x19a495(0x23a);break;case _0x2cf499[_0x19a495(0x12f)]:_0x155e05=_0x19a495(0x6f9);}return{'action':_0x155e05,'value':_0x88638d};}[_0x3cd514(0x8f8)](_0x5cc6fc){const _0x5c9518=_0x3cd514;if(_0x5c9518(0x7e0)!=typeof _0x5cc6fc||null===_0x5cc6fc)throw new _0x1e3976(_0x2089de['KeyValueDatabaseInvalidValue'],_0x5c9518(0x353));for(const _0x208d33 in _0x5cc6fc){const _0xd15dad=_0x5cc6fc[_0x208d33];if('object'!=typeof _0xd15dad||_0xd15dad instanceof Date){if(!['string',_0x5c9518(0x994),_0x5c9518(0x38c)][_0x5c9518(0x135)](typeof _0xd15dad))throw new _0x1e3976(_0x2089de[_0x5c9518(0xf5)],'Invalid\x20value.\x20Property\x20\x27'+_0x208d33+_0x5c9518(0x5c6));}else this['validateValue'](_0xd15dad);}}}class _0x33836b{[_0x3cd514(0x694)]=[];[_0x3cd514(0x92c)]=0x0;[_0x3cd514(0x4ab)]=[];[_0x3cd514(0x478)]=!0x1;[_0x3cd514(0x859)]=null;['rootComputationPromise']=null;[_0x3cd514(0x7d6)];['readyResolve']=null;[_0x3cd514(0x8a9)]=[];[_0x3cd514(0x4df)];[_0x3cd514(0x958)]=Promise[_0x3cd514(0x57d)]();['expectedTransactions']=0x0;constructor(){}get['ready'](){const _0x5d07a9=_0x3cd514;return this[_0x5d07a9(0x958)];}async[_0x3cd514(0x455)](_0x3398ca,_0x216fd0=0x0){const _0x138162=_0x3cd514;this[_0x138162(0x305)]||(this[_0x138162(0x958)]=new Promise(_0x865067=>{const _0x4efb70=_0x138162;this[_0x4efb70(0x305)]=_0x865067;}),this[_0x138162(0x773)]=_0x216fd0);const _0x2ad86f=Date['now']();if(this[_0x138162(0x478)])return void this[_0x138162(0x4ab)][_0x138162(0x63b)](_0x3398ca);this[_0x138162(0x478)]=!0x0;let _0x4e7d20={'hash':await this['hashTransaction'](_0x3398ca),'height':0x0};const _0x1a08b5=this[_0x138162(0x65f)](_0x4e7d20);this[_0x138162(0x8a9)][_0x138162(0x63b)](_0x1a08b5),await _0x1a08b5,this[_0x138162(0x92c)]+=0x1;const _0x44c2e2=this[_0x138162(0x4ab)][_0x138162(0x4f4)];for(;this[_0x138162(0x4ab)][_0x138162(0x4f4)]>0x0;){const _0x55abf0=this[_0x138162(0x4ab)][_0x138162(0x1ff)]();await this[_0x138162(0x455)](_0x55abf0);}this[_0x138162(0x6db)](),await this[_0x138162(0x849)],this[_0x138162(0x268)](_0x2ad86f,_0x44c2e2);}async[_0x3cd514(0x21e)](){const _0x88f9a3=_0x3cd514;return await this[_0x88f9a3(0x958)],this[_0x88f9a3(0x478)]?(this[_0x88f9a3(0x113)]||(this[_0x88f9a3(0x113)]=this['recomputeRoot']()),await this[_0x88f9a3(0x113)]):this['cachedRoot'];}['getPeaks'](){const _0x75e2db=_0x3cd514;return this[_0x75e2db(0x694)][_0x75e2db(0x730)](({hash:_0x4272e0,height:_0x42bb7b})=>({'hash':_0x4272e0,'height':_0x42bb7b}));}[_0x3cd514(0x473)](){return this['totalNodes'];}[_0x3cd514(0x779)](_0x56d49d){const _0x49f08e=_0x3cd514;return this[_0x49f08e(0x694)][_0x49f08e(0x833)](_0x4fc094=>_0x4fc094['height']===_0x56d49d);}async['hashNodes'](_0x49c02a,_0x491483){const _0x9db690=_0x3cd514;return await this[_0x9db690(0x5fe)](_0x49c02a+_0x491483);}async[_0x3cd514(0x506)](_0x37c081){const _0x2097b2=_0x3cd514;return await this[_0x2097b2(0x5fe)](JSON[_0x2097b2(0x178)](_0x37c081));}[_0x3cd514(0x125)](_0x62dcff){const _0x2b90e3=_0x3cd514,_0x338ae=this[_0x2b90e3(0x523)](),_0x242e5d=[],_0x31b6c4=[],_0x79eeb5=[];for(const _0x55d247 of _0x338ae){const _0x43e7b6=_0x62dcff[_0x2b90e3(0x833)](_0x31dbfb=>_0x31dbfb[_0x2b90e3(0x4f6)]===_0x55d247[_0x2b90e3(0x4f6)]);_0x43e7b6?_0x55d247[_0x2b90e3(0x4f5)]!==_0x43e7b6[_0x2b90e3(0x4f5)]&&_0x242e5d[_0x2b90e3(0x63b)]({'height':_0x55d247[_0x2b90e3(0x4f6)],'localPeak':_0x55d247,'remotePeak':_0x43e7b6}):_0x31b6c4[_0x2b90e3(0x63b)](_0x55d247);}for(const _0x42f584 of _0x62dcff)_0x338ae['find'](_0x24086c=>_0x24086c[_0x2b90e3(0x4f6)]===_0x42f584[_0x2b90e3(0x4f6)])||_0x79eeb5['push'](_0x42f584);return{'differingPeaks':_0x242e5d,'peaksMissingInRemote':_0x31b6c4,'peaksMissingInLocal':_0x79eeb5};}async[_0x3cd514(0x26c)](){const _0x27d9ac=_0x3cd514;this['isComputingMMR']=!0x0;const _0x5f19db=this[_0x27d9ac(0x694)][_0x27d9ac(0x730)](_0x470372=>_0x470372[_0x27d9ac(0x4f5)]);return this[_0x27d9ac(0x859)]=await this['hashPeakHashes'](_0x5f19db),this['isComputingMMR']=!0x1,this[_0x27d9ac(0x113)]=null,this[_0x27d9ac(0x6db)](),this[_0x27d9ac(0x859)];}async[_0x3cd514(0x5fe)](_0xcee607){const _0x9c1784=_0x3cd514;try{const _0x2b309c=new TextEncoder()['encode'](_0xcee607),_0x186ffb=await crypto[_0x9c1784(0x2b1)]['digest'](_0x9c1784(0x984),_0x2b309c);return Array[_0x9c1784(0x88a)](new Uint8Array(_0x186ffb))[_0x9c1784(0x730)](_0x1ca291=>_0x1ca291[_0x9c1784(0x548)](0x10)[_0x9c1784(0x35b)](0x2,'0'))[_0x9c1784(0x696)]('');}catch(_0xeefd57){return console[_0x9c1784(0x3db)]('Hash\x20computation\x20failed,\x20retrying...',_0xeefd57),this['computeHash'](_0xcee607);}}async[_0x3cd514(0x6cb)](_0xa555df){const _0x51e686=_0x3cd514;return await this[_0x51e686(0x5fe)](_0xa555df[_0x51e686(0x696)](''));}async['combinePeaks'](_0x31b2dd){const _0xc0cd88=_0x3cd514;for(;this[_0xc0cd88(0x694)][_0xc0cd88(0x4f4)]>0x0&&this[_0xc0cd88(0x694)][this[_0xc0cd88(0x694)][_0xc0cd88(0x4f4)]-0x1]['height']===_0x31b2dd[_0xc0cd88(0x4f6)];){const _0x1501d9=this[_0xc0cd88(0x694)][_0xc0cd88(0x329)]();_0x31b2dd={'hash':await this[_0xc0cd88(0x4af)](_0x1501d9[_0xc0cd88(0x4f5)],_0x31b2dd[_0xc0cd88(0x4f5)]),'left':_0x1501d9,'right':_0x31b2dd,'height':_0x31b2dd[_0xc0cd88(0x4f6)]+0x1};}this[_0xc0cd88(0x694)][_0xc0cd88(0x63b)](_0x31b2dd),await this[_0xc0cd88(0x26c)]();}['debounceAppendLog'](_0x20fad1,_0x300145){const _0x506737=_0x3cd514;if(!_0x61b339[_0x506737(0x6af)](_0x5ce311['KeyValueDatabase']))return;this[_0x506737(0x7d6)]&&clearTimeout(this[_0x506737(0x7d6)]);const _0x40814b=Date[_0x506737(0x498)]();this[_0x506737(0x7d6)]=setTimeout(()=>_0x61b339[_0x506737(0x8b2)](_0x5ce311[_0x506737(0x588)],_0x506737(0x3c2),this[_0x506737(0x859)],_0x506737(0x27a),this[_0x506737(0x473)](),_0x506737(0x800),_0x300145,'time',_0x40814b-_0x20fad1),0x7d0);}[_0x3cd514(0x6db)](){const _0x39669f=_0x3cd514;this[_0x39669f(0x4df)]&&clearTimeout(this[_0x39669f(0x4df)]),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x5256b9=_0x39669f;try{const _0x5a662c=this[_0x5256b9(0x8a9)];if(this[_0x5256b9(0x8a9)]=[],await Promise[_0x5256b9(0xed)](_0x5a662c),this[_0x5256b9(0x773)]-=_0x5a662c[_0x5256b9(0x4f4)],this['readyPromises']['length']>0x0||this[_0x5256b9(0x773)]>0x0)return this[_0x5256b9(0x6db)]();this['readyResolve']&&(this[_0x5256b9(0x305)](),this[_0x5256b9(0x305)]=null),this[_0x5256b9(0x958)]=Promise[_0x5256b9(0x57d)](),this[_0x5256b9(0x478)]=!0x1;}catch(_0x1e2b9c){console[_0x5256b9(0x3db)](_0x5256b9(0x4c4),_0x1e2b9c);}},0xa);}}const _0x443634=[_0x3cd514(0x3d9),'Node','Content',_0x3cd514(0x456),_0x3cd514(0x3dc),_0x3cd514(0x1d5),'Remediation'],_0x4032bd=[[_0x3cd514(0x3a4),'Answer',_0x3cd514(0x100),_0x3cd514(0x313),_0x3cd514(0x659),_0x3cd514(0x247),_0x3cd514(0x979),'Stats',_0x3cd514(0x2ff)],['NodeJoin',_0x3cd514(0x80a),_0x3cd514(0x750),_0x3cd514(0x3b5)],[_0x3cd514(0x171),_0x3cd514(0xf1),_0x3cd514(0x3a8),_0x3cd514(0x416),'CloseKeyValueDatabase','CloseMediaStream',_0x3cd514(0x3ef),_0x3cd514(0x14c),_0x3cd514(0x744),'ExternalStorageStats',_0x3cd514(0x563),_0x3cd514(0x993),_0x3cd514(0x809),_0x3cd514(0x18e),'KeyValueDatabaseContentSynchronized',_0x3cd514(0x414),'KeyValueDatabaseRequestTransactionsValue','KeyValueDatabaseSendTransactions','KeyValueDatabaseStats',_0x3cd514(0x67a),_0x3cd514(0x804),_0x3cd514(0x8db),'PubSubTopicStats','PublishMediaStream','RemoteMediaStreamTrackFail',_0x3cd514(0x2a2),_0x3cd514(0x4dc),'UnsubscribeMediaStream',_0x3cd514(0x224),_0x3cd514(0x922)],[_0x3cd514(0x2a2),'UpdateMediaStream','UnsubscribeMediaStreamdiaStream',_0x3cd514(0x564),'CannotProvideMediaStream','MediaStreamUnavailable'],[_0x3cd514(0x7a1),'LocalReport'],['Problem'],[_0x3cd514(0x7da),_0x3cd514(0x7a4)]];function _0x3ef072(_0x4fe5d3){const _0x4a2265=_0x3cd514;return{..._0x4fe5d3,'systemMessageType':_0x443634[_0x4fe5d3[_0x4a2265(0x34b)]],'systemContentMessageType':_0x4032bd[_0x4fe5d3['messageType']][_0x4fe5d3[_0x4a2265(0x1cb)][_0x4a2265(0x3a7)]]};}const _0x124655={'hour':_0x3cd514(0x5cd),'minute':_0x3cd514(0x5cd),'second':_0x3cd514(0x5cd)};function _0x107c4b(_0x510374,_0x472ab4){const _0x504920=_0x3cd514,_0x1bfb7f=(function(){const _0x296499=a0_0x2e46,_0x2f6103=new Date(),_0x1ac1af=_0x2f6103[_0x296499(0x231)](),_0x5d53fd=_0x2f6103[_0x296499(0x299)](_0x296499(0x554),_0x124655)[_0x296499(0x7c6)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x5d53fd+'.'+(_0x1ac1af>0x64?''+_0x1ac1af:_0x1ac1af>0xa?'0'+_0x1ac1af:'00'+_0x1ac1af);}()),{sourceId:_0x2ca6f2,destinationIds:_0x2a35fd,systemMessageType:_0x4cd435,systemContentMessageType:_0x3aaea1}=_0x3ef072(_0x510374);return _0x1bfb7f+_0x504920(0xdd)+_0x472ab4+_0x504920(0xdd)+(_0x2ca6f2===_0x472ab4?_0x504920(0x432)+_0x4cd435+_0x504920(0x52d)+(_0x2a35fd?''+_0x2a35fd:_0x504920(0x434)):_0x510374[_0x504920(0x118)]===_0x50d78a?_0x504920(0x727)+_0x4cd435+'\x27':(_0x2a35fd?'':_0x504920(0x13a))+_0x504920(0x535)+_0x4cd435+_0x504920(0x725)+_0x2ca6f2)+'\x20with\x20\x27'+_0x3aaea1+_0x504920(0x66e);}function _0x21bf41(_0x254e63,_0x545371){const _0xb529d7=_0x3cd514;if(!_0x61b339[_0xb529d7(0x6af)](_0x254e63))return;if(_0x7d2261[_0xb529d7(0x583)])return;if(_0xb529d7(0x622)==typeof process)return;const _0xf55b10=process['memoryUsage']();console[_0xb529d7(0x8b2)]('Memory\x20Usage\x20at\x20'+_0x545371+':');for(const _0x57046f in _0xf55b10)console[_0xb529d7(0x8b2)]('\x20\x20'+_0x57046f+':\x20'+(_0xf55b10[_0x57046f]/0x400/0x400)[_0xb529d7(0x5ce)](0x2)+'\x20MB');}function _0x35d60a(_0x577d94,_0x533450){const _0x59ca95=_0x3cd514;if(!_0x61b339['isChannelEnabled'](_0x533450))return _0x61b339[_0x59ca95(0x470)](_0x59ca95(0x497)+_0x533450),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x15a3ff,_0x5e0dd7)=>_0x5e0dd7}};let _0x46c74f=0x0;return{'timingLogger':((()=>{const _0x173d73=_0x59ca95;let _0x59c47c=Date[_0x173d73(0x498)]();return{'start':()=>{const _0x3606f1=_0x173d73;_0x59c47c=Date[_0x3606f1(0x498)]();},'now':()=>Date[_0x173d73(0x498)](),'logWaitTime':_0x1667f7=>{const _0x49f12b=_0x173d73;_0x46c74f+=Date[_0x49f12b(0x498)]()-_0x59c47c,_0x61b339[_0x49f12b(0x8b2)](_0x533450,_0x1667f7,_0x46c74f+'ms',_0x577d94);}};})()),'logger':{'log':(_0x21fa79,_0x480ef2=()=>{})=>{const _0x44b175=_0x59ca95,_0xfd98b1=_0x480ef2();_0xfd98b1?_0x61b339[_0x44b175(0x8b2)](_0x533450,_0x21fa79,_0xfd98b1,_0x577d94):_0x61b339[_0x44b175(0x8b2)](_0x533450,_0x21fa79,_0x577d94);},'performCalculation':(_0x4081c8,_0x15e1a6)=>_0x4081c8()}};}function _0x251e16(_0x377681){const _0x177b28=_0x3cd514;return _0x177b28(0x622)==typeof Buffer?0x0:Buffer[_0x177b28(0x81e)](JSON[_0x177b28(0x178)](_0x377681),_0x177b28(0x360));}function _0x20fd8e(_0x19672c){const _0x143395=_0x3cd514;if(0x0===_0x19672c)return _0x143395(0x50f);const _0x2fa6c=Math['floor'](Math[_0x143395(0x8b2)](_0x19672c)/Math[_0x143395(0x8b2)](0x400));return parseFloat((_0x19672c/Math[_0x143395(0x999)](0x400,_0x2fa6c))[_0x143395(0x5ce)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x2fa6c];}class _0x272315 extends _0x38c6ff{['localNode'];['clusterId'];[_0x3cd514(0x1a3)];[_0x3cd514(0x36d)];['db'];[_0x3cd514(0x341)];[_0x3cd514(0x97b)]=new Map();[_0x3cd514(0x860)];[_0x3cd514(0x6a0)];[_0x3cd514(0x4f3)];['isSync'];[_0x3cd514(0x3d8)];[_0x3cd514(0x7a5)]=[];[_0x3cd514(0x85f)]=()=>{};['syncTimeout'];['eventListener']=_0x189a7c();['listenerUnsubscriber'];['syncTransactionsWritten']=[];[_0x3cd514(0x192)];[_0x3cd514(0x5f4)];[_0x3cd514(0xe0)]=0x0;[_0x3cd514(0x5fd)]=0x0;[_0x3cd514(0x5c4)]=!0x1;['mmr']=new _0x33836b();[_0x3cd514(0x1d1)]=new Map();['transactions']=[];[_0x3cd514(0x4d8)];[_0x3cd514(0x8ec)]=[];[_0x3cd514(0x318)];constructor(_0x1f03f2,_0xf3757a,_0x42f394,_0x41e040,_0x4f8f9f,_0xba538d,_0x1f255e){const _0x126f2b=_0x3cd514;if(_0x126f2b(0x1f2)!=typeof _0xf3757a)throw new _0x1e3976(_0x2089de[_0x126f2b(0x96a)],_0x126f2b(0x838));if(super(_0x1f03f2,_0xf3757a),this['localNode']=_0x1f03f2,this[_0x126f2b(0x4cb)]=_0x42f394,this[_0x126f2b(0x1a3)]=_0x41e040,this['isNodeReady']=_0x1f255e,this[_0x126f2b(0x341)]=_0x126f2b(0x3d7)+this[_0x126f2b(0x1a3)]+_0x126f2b(0x3d7)+this[_0x126f2b(0x4cb)]+_0x126f2b(0x3d7)+this[_0x126f2b(0x788)],this[_0x126f2b(0x860)]=_0x189a7c(),this['loggingCycle']=function(_0x2935e7,_0x17c078){const _0x840a74=_0x126f2b;if(!_0x61b339[_0x840a74(0x6af)](_0x17c078))return _0x61b339[_0x840a74(0x470)](_0x840a74(0x497)+_0x17c078),{..._0x35d60a(_0x2935e7,_0x17c078),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x840a74(0x50f),'dataReceived':_0x840a74(0x50f)})};const {timingLogger:_0x508cd4,logger:_0x4459a5}=_0x35d60a(_0x2935e7,_0x17c078);let _0x140620=0x0,_0x12da1d=0x0;return{'timingLogger':_0x508cd4,'logger':_0x4459a5,'logDataSent':(_0xecd0b8,_0x4fccee=!0x1)=>{const _0x2802ba=_0x840a74,_0x20be65=_0x251e16(_0xecd0b8);return _0x4fccee&&_0x61b339[_0x2802ba(0x8b2)](_0x17c078,_0x2802ba(0x873),_0x2935e7,_0x20be65),_0x140620+=_0x20be65,_0x20be65;},'logDataReceived':(_0x24a817,_0x29d803=!0x1)=>{const _0x5b2107=_0x840a74,_0x1d3755=_0x251e16(_0x24a817);return _0x29d803&&_0x61b339[_0x5b2107(0x8b2)](_0x17c078,'Data\x20Received',_0x2935e7,_0x1d3755),_0x12da1d+=_0x1d3755,_0x1d3755;},'getDataLogged':()=>({'dataSent':_0x20fd8e(_0x140620),'dataReceived':_0x20fd8e(_0x12da1d)})};}(this[_0x126f2b(0x788)],_0x5ce311[_0x126f2b(0x588)]),this[_0x126f2b(0x920)]=new Promise(_0x4025bb=>{const _0x2ff77b=_0x126f2b;this[_0x2ff77b(0x3d8)]=_0x4025bb;}),_0x4f8f9f instanceof _0x21440d)this['layout']=_0x4f8f9f[_0x126f2b(0x31d)]();else{const [_0x32d253,_0x45885f]=_0x21440d[_0x126f2b(0x260)](_0x4f8f9f);if(!_0x32d253)throw new _0x1e3976(_0x2089de[_0x126f2b(0x6ff)],_0x126f2b(0x420)+_0x45885f);this['layout']=structuredClone(_0x4f8f9f);}this[_0x126f2b(0x7ab)](this[_0x126f2b(0x192)]),this['db']=new _0xba538d(this['dbKey'],this[_0x126f2b(0x192)]),this['sendStats']();}async[_0x3cd514(0x814)](_0x51d250,_0x4278be){const _0x498d79=_0x3cd514;if(_0x61b339[_0x498d79(0x8b2)](_0x5ce311[_0x498d79(0x588)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x498d79(0x788)]),!this[_0x498d79(0x6a0)])throw new _0xa369e8(_0xa369e8[_0x498d79(0x98c)][_0x498d79(0x8fd)]);if(await this[_0x498d79(0x920)],await this[_0x498d79(0x36d)](_0x51d250),await this[_0x498d79(0x8ed)][_0x498d79(0x21e)]()===_0x4278be){const _0x4f9ce9={'sourceId':this['localNode'][_0x498d79(0x47f)](),'destinationIds':[_0x51d250],'propagate':!0x0,'messageType':_0xca4838['Content'],'content':{'type':_0x32bee3[_0x498d79(0x213)],'label':this[_0x498d79(0x788)],'mmrRoot':_0x4278be}};return this['loggingCycle']['logDataSent'](_0x4f9ce9),void this[_0x498d79(0x917)]['publish'](_0x4f9ce9);}const _0x3cda7a=this[_0x498d79(0x8ed)][_0x498d79(0x523)](),_0x2c4907={'sourceId':this[_0x498d79(0x780)][_0x498d79(0x47f)](),'destinationIds':[_0x51d250],'propagate':!0x0,'messageType':_0xca4838[_0x498d79(0x739)],'content':{'type':_0x32bee3[_0x498d79(0x18e)],'label':this[_0x498d79(0x788)],'peaks':_0x3cda7a}};this['loggingCycle']['logDataSent'](_0x2c4907),this[_0x498d79(0x917)][_0x498d79(0x19e)](_0x2c4907);}async['processContentSynchronized'](_0x57198e,_0x15ad3f){const _0x57d190=_0x3cd514,_0x101b1f=await this[_0x57d190(0x8ed)][_0x57d190(0x21e)](),_0x287efb=_0x101b1f===_0x15ad3f;if(_0x61b339[_0x57d190(0x8b2)](_0x5ce311[_0x57d190(0x588)],_0x57d190(0x301)+_0x57198e+_0x57d190(0x4f9)+_0x287efb,this[_0x57d190(0x788)]),_0x287efb)return this['clearSyncTimeout'](),void this[_0x57d190(0x72c)]();_0x61b339['log'](_0x5ce311['KeyValueDatabase'],_0x57d190(0x9b9),_0x101b1f,_0x15ad3f),_0x61b339[_0x57d190(0x2f5)](_0x57d190(0x9b9),{'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x57d190(0x3a7)],'remoteId':_0x57198e,'data':{'localMMRRoot':_0x101b1f,'remoteMMRRoot':_0x15ad3f}});const _0xc6f02f={'sourceId':this[_0x57d190(0x780)]['getId'](),'messageType':_0xca4838[_0x57d190(0x739)],'propagate':!0x0,'content':{'type':_0x32bee3['KeyValueDatabaseSyncRequired'],'label':this[_0x57d190(0x788)],'mmrRoot':_0x101b1f}};this[_0x57d190(0x917)][_0x57d190(0x19e)](_0xc6f02f);}async[_0x3cd514(0x7d3)](_0x469783,_0x330f33){const _0x44af74=_0x3cd514;if(_0x61b339['log'](_0x5ce311[_0x44af74(0x588)],'Received\x20content\x20available\x20from\x20node',_0x469783,_0x44af74(0x788),this['label'],_0x44af74(0x694),_0x330f33),this[_0x44af74(0x5c4)])return;this['contentRequestSent']=!0x0,this[_0x44af74(0x492)]();const {differingPeaks:_0x11b4bf,peaksMissingInLocal:_0x50e233,peaksMissingInRemote:_0x2bb843}=this['mmr'][_0x44af74(0x125)](_0x330f33);_0x61b339['log'](_0x5ce311['KeyValueDatabase'],_0x44af74(0x2e4),{'differingPeaks':_0x11b4bf,'peaksMissingInLocal':_0x50e233,'peaksMissingInRemote':_0x2bb843});const _0x5da62c={'sourceId':this[_0x44af74(0x780)]['getId'](),'destinationIds':[_0x469783],'propagate':!0x0,'messageType':_0xca4838[_0x44af74(0x739)],'content':{'type':_0x32bee3[_0x44af74(0x414)],'label':this[_0x44af74(0x788)],'peakHeights':_0x50e233[_0x44af74(0x730)](_0x53550b=>_0x53550b['height'])[_0x44af74(0x1a6)](_0x11b4bf['map'](_0x48977f=>_0x48977f[_0x44af74(0x4f6)]))}};if(this['systemTopic']['publish'](_0x5da62c),_0x11b4bf['length']>0x0||_0x2bb843['length']>0x0){const _0x200fd1=_0x2bb843[_0x44af74(0x730)](_0x13724a=>_0x13724a[_0x44af74(0x4f6)])[_0x44af74(0x1a6)](_0x11b4bf[_0x44af74(0x730)](_0x43291e=>_0x43291e[_0x44af74(0x4f6)]));await this[_0x44af74(0x358)](_0x469783,_0x200fd1,!0x0);}}async[_0x3cd514(0x358)](_0x2baedd,_0x595289,_0x501523=!0x1){const _0x49d1e0=_0x3cd514;_0x61b339[_0x49d1e0(0x8b2)](_0x5ce311['KeyValueDatabase'],_0x49d1e0(0x8ac),this[_0x49d1e0(0x788)]);const _0x5d7633=_0x595289[_0x49d1e0(0x730)](_0x3d04ae=>this['mmr'][_0x49d1e0(0x779)](_0x3d04ae))['filter'](Boolean);if(!_0x5d7633[_0x49d1e0(0x4f4)]||_0x595289[_0x49d1e0(0x4f4)]!==_0x5d7633[_0x49d1e0(0x4f4)])throw new _0xa369e8(_0xa369e8[_0x49d1e0(0x98c)][_0x49d1e0(0x9bc)],{'message':_0x49d1e0(0x542),'peakHeights':_0x595289,'peaks':_0x5d7633[_0x49d1e0(0x730)](_0x3002bd=>_0x3002bd[_0x49d1e0(0x4f6)]),'nodeId':_0x2baedd});const _0x2f9424=[];for(const _0x4cba64 of _0x5d7633)this['collectTransactionsFromNode'](_0x4cba64,_0x2f9424);const _0x5d08e6=_0x501523?void 0x0:[_0x2baedd],_0x448e27={'sourceId':this['localNode']['getId'](),'destinationIds':_0x5d08e6,'messageType':_0xca4838[_0x49d1e0(0x739)],'propagate':!0x0,'content':{'type':_0x32bee3[_0x49d1e0(0x465)],'label':this[_0x49d1e0(0x788)],'transactions':_0x2f9424}};this[_0x49d1e0(0x318)][_0x49d1e0(0x38a)](_0x448e27),this['systemTopic']['publish'](_0x448e27);}async['processReceivedTransactions'](_0xa1cdc3,_0x229180){const _0x2bc891=_0x3cd514;_0x61b339['log'](_0x5ce311[_0x2bc891(0x588)],_0x2bc891(0x3ab)+_0x229180[_0x2bc891(0x4f4)]+_0x2bc891(0x3ae)+_0xa1cdc3+_0x2bc891(0xdd)+this[_0x2bc891(0x788)]);for(const _0x17c3a9 of _0x229180){const _0x10dfc3=await this['transactionTable'][_0x2bc891(0x31f)](_0x17c3a9['id']);if(!(_0x10dfc3&&this[_0x2bc891(0x350)](_0x10dfc3,_0x17c3a9)>=0x0)){if(_0x17c3a9[_0x2bc891(0x421)]===_0x2cf499[_0x2bc891(0x12f)]){const [_0x3cee8a,_0x5dbdd2]=_0x17c3a9['id'][_0x2bc891(0x4d3)]('::'),_0x1a2b7a=this[_0x2bc891(0x1a9)](_0x3cee8a);await _0x1a2b7a[_0x2bc891(0x6f9)](_0x5dbdd2);}else this[_0x2bc891(0x7a5)][_0x2bc891(0x63b)](_0x17c3a9['id']);}}if(_0x61b339[_0x2bc891(0x8b2)](_0x5ce311[_0x2bc891(0x588)],'Found\x20'+this[_0x2bc891(0x7a5)]['length']+'\x20new\x20transactions',this[_0x2bc891(0x788)]),this[_0x2bc891(0x7a5)]['length']>0x0){const _0x212728={'sourceId':this['localNode'][_0x2bc891(0x47f)](),'destinationIds':[_0xa1cdc3],'messageType':_0xca4838[_0x2bc891(0x739)],'propagate':!0x0,'content':{'type':_0x32bee3['KeyValueDatabaseRequestTransactionsValue'],'label':this[_0x2bc891(0x788)],'transactionIds':this[_0x2bc891(0x7a5)]}};this['loggingCycle'][_0x2bc891(0x38a)](_0x212728),this[_0x2bc891(0x917)][_0x2bc891(0x19e)](_0x212728);}}[_0x3cd514(0x32f)](){const _0x22719f=_0x3cd514;this[_0x22719f(0x44e)]();}[_0x3cd514(0x321)](){const _0x4cc0e3=_0x3cd514;return _0x3cfea6[_0x4cc0e3(0x9b0)]['KeyValueDatabase'];}['destroy'](){const _0x50162b=_0x3cd514;this['db'][_0x50162b(0x8aa)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x50162b(0x5f4)]),delete this['debounceStats'],super[_0x50162b(0x616)]();}[_0x3cd514(0x8aa)](){const _0x34f0ac=_0x3cd514;this['clearSyncTimeout'](),this[_0x34f0ac(0x917)][_0x34f0ac(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x34f0ac(0x739)],'content':{'type':_0x32bee3[_0x34f0ac(0x990)],'label':this[_0x34f0ac(0x788)]}});}[_0x3cd514(0x1a9)](_0x3147bd){const _0x4393e2=_0x3cd514,_0x51cf46=this[_0x4393e2(0x97b)]['get'](_0x3147bd);if(_0x51cf46)return _0x51cf46;try{if(!this['db']['hasTable'](_0x3147bd))throw new _0x1e3976(_0x2089de[_0x4393e2(0x4bc)],_0x4393e2(0x168));const _0x4bfc6f=new _0x1668df(this['db'][_0x4393e2(0x6d6)](_0x3147bd),_0x3147bd,this[_0x4393e2(0x860)]);return this[_0x4393e2(0x97b)][_0x4393e2(0x282)](_0x3147bd,_0x4bfc6f),{'get':_0x4bfc6f[_0x4393e2(0x31f)]['bind'](_0x4bfc6f),'set':_0x4bfc6f[_0x4393e2(0x282)]['bind'](_0x4bfc6f),'add':_0x4bfc6f[_0x4393e2(0x6aa)][_0x4393e2(0x4d0)](_0x4bfc6f),'delete':_0x4bfc6f['delete'][_0x4393e2(0x4d0)](_0x4bfc6f),'clear':_0x4bfc6f[_0x4393e2(0x921)][_0x4393e2(0x4d0)](_0x4bfc6f),'list':_0x4bfc6f['list'][_0x4393e2(0x4d0)](_0x4bfc6f),'count':_0x4bfc6f[_0x4393e2(0x927)][_0x4393e2(0x4d0)](_0x4bfc6f),'subscribe':_0x4bfc6f[_0x4393e2(0x5a5)][_0x4393e2(0x4d0)](_0x4bfc6f),'unsubscribe':_0x4bfc6f[_0x4393e2(0x2cf)][_0x4393e2(0x4d0)](_0x4bfc6f)};}catch(_0x1a4e57){if(_0x1a4e57 instanceof _0x1e3976)throw _0x1a4e57;throw new _0x1e3976(_0x2089de[_0x4393e2(0x84b)],_0x4393e2(0x643));}}[_0x3cd514(0x5a5)](_0x5f3ed6){const _0x3c6235=_0x3cd514;this['listenerUnsubscriber']=this[_0x3c6235(0x5c9)][_0x3c6235(0x5a5)](_0x5f3ed6),this['isPromiseResolved'](this['isSync'])[_0x3c6235(0x3dd)](_0x8a9d2d=>{const _0x672e11=_0x3c6235;_0x8a9d2d&&this['eventListener'][_0x672e11(0x19e)]({'event':_0x3cfea6[_0x672e11(0x29d)]['SyncComplete']});});}[_0x3cd514(0x2cf)](){const _0x6e0334=_0x3cd514;this['listenerUnsubscriber']?.(),this[_0x6e0334(0x400)]=void 0x0;}async[_0x3cd514(0x92d)](){const _0x2de565=_0x3cd514;_0x21bf41(_0x5ce311[_0x2de565(0x588)],_0x2de565(0x326));const _0x354dbe=[_0x1c8021,_0x57b660],_0xf16183=[];try{await this['db']['open']();const _0x36d4e1=this['db'][_0x2de565(0x6d6)](_0x57b660),_0x33a740=await _0x36d4e1[_0x2de565(0x9c7)](),{id:_0x1e4b2b,layout:_0x34f686}=_0x33a740[0x0]??{};if(_0x34f686){for(const _0x17b45f in _0x34f686)_0x354dbe['includes'](_0x17b45f)||this['db'][_0x2de565(0x61b)](_0x17b45f)||_0xf16183[_0x2de565(0x63b)](_0x17b45f);await _0x36d4e1[_0x2de565(0x282)](_0x1e4b2b,{'layout':this['layout']});}else await _0x36d4e1[_0x2de565(0x6aa)]({'layout':this[_0x2de565(0x192)]});}catch(_0x440ebe){throw new _0x1e3976(_0x2089de[_0x2de565(0x84b)],_0x440ebe[_0x2de565(0xfe)]||_0x2de565(0x638));}this[_0x2de565(0x7c4)](),await this[_0x2de565(0x55b)](),this[_0x2de565(0x827)](),this['setOnTableWriteHandler'](),_0xf16183[_0x2de565(0x753)](_0x23b82f=>this[_0x2de565(0x606)](_0x23b82f));}async[_0x3cd514(0x7ae)](_0x17051f,_0x589c54=()=>{},_0x2b1117=!0x1){const _0x106362=_0x3cd514;if(!_0x17051f)return setTimeout(()=>{const _0x4b8485=a0_0x2e46;this['clearSyncTimeout'](),this[_0x4b8485(0x72c)]();},0x0),!0x0;if(this[_0x106362(0x5c4)]=!0x1,this['timeoutCallback']=_0x589c54,this[_0x106362(0x40d)]=setTimeout(_0x589c54,0x7d0),!this['systemTopic'])throw new _0xa369e8(_0xa369e8[_0x106362(0x98c)][_0x106362(0x738)]);const _0x52688e=await this[_0x106362(0x8ed)][_0x106362(0x21e)](),_0x35c814={'sourceId':this[_0x106362(0x780)][_0x106362(0x47f)](),'messageType':_0xca4838[_0x106362(0x739)],'propagate':_0x2b1117,'content':{'type':_0x32bee3[_0x106362(0x67a)],'label':this[_0x106362(0x788)],'mmrRoot':_0x52688e}};return this[_0x106362(0x318)][_0x106362(0x38a)](_0x35c814),this[_0x106362(0x917)]['publish'](_0x35c814),this['isSync'];}async[_0x3cd514(0x9ac)](_0x56df86,_0x238162){const _0x16d6b1=_0x3cd514;if(_0x61b339[_0x16d6b1(0x8b2)](_0x5ce311[_0x16d6b1(0x588)],_0x16d6b1(0x71a)+_0x238162['length'],this[_0x16d6b1(0x788)]),!this[_0x16d6b1(0x6a0)])throw new _0xa369e8(_0xa369e8[_0x16d6b1(0x98c)][_0x16d6b1(0x8fd)]);for(const _0x5a26e6 of _0x238162){const _0x1b11a7=await this[_0x16d6b1(0x6a0)]['get'](_0x5a26e6);if(!_0x1b11a7)continue;const [_0x3318e1,_0x1814c8]=_0x5a26e6[_0x16d6b1(0x4d3)]('::'),_0x55bd9f=this[_0x16d6b1(0x1a9)](_0x3318e1),_0x20b46f=await _0x55bd9f[_0x16d6b1(0x31f)](_0x1814c8);_0x20b46f?(_0x1b11a7[_0x16d6b1(0x682)]=_0x20b46f,this[_0x16d6b1(0x13f)](_0x1b11a7,[_0x56df86])):_0x61b339['warning'](_0x16d6b1(0x661),{'nodeId':this['localNode'][_0x16d6b1(0x47f)](),'nodeType':this[_0x16d6b1(0x780)]['type'],'remoteId':_0x56df86,'data':{'tableKeys':Object[_0x16d6b1(0x298)](this[_0x16d6b1(0x97b)]),'transactionId':_0x5a26e6,'transactions':this[_0x16d6b1(0x7a5)],'tableName':_0x3318e1,'key':_0x1814c8}});}}async[_0x3cd514(0x561)](_0xdb7c3b){const _0x31758b=_0x3cd514;if(!this['transactionTable'])throw new _0xa369e8(_0xa369e8[_0x31758b(0x98c)][_0x31758b(0x8fd)]);const _0x20439f=await this[_0x31758b(0x8ed)]['hashTransaction'](_0xdb7c3b),_0x588f44=this[_0x31758b(0x1d1)][_0x31758b(0x31f)](_0x20439f);if(_0x588f44&&this[_0x31758b(0x350)](_0xdb7c3b,_0x588f44)<=0x0)return void _0x61b339[_0x31758b(0x8b2)](_0x5ce311[_0x31758b(0x588)],_0x31758b(0x672),_0xdb7c3b);const _0x137a08={..._0xdb7c3b};return delete _0x137a08[_0x31758b(0x682)],this[_0x31758b(0x6b5)](_0x137a08),await this[_0x31758b(0x6a0)][_0x31758b(0x282)](_0xdb7c3b['id'],_0x137a08),_0xdb7c3b;}[_0x3cd514(0x350)](_0x447bbe,_0x26afcc){const _0x50806b=_0x3cd514;return _0x447bbe[_0x50806b(0x39b)]!==_0x26afcc[_0x50806b(0x39b)]?_0x447bbe['timestamp']-_0x26afcc['timestamp']:_0x447bbe[_0x50806b(0x108)]-_0x26afcc['priority'];}async[_0x3cd514(0x811)](_0x454fad){const _0x456845=_0x3cd514;if(!this[_0x456845(0x6a0)])throw new _0xa369e8(_0xa369e8[_0x456845(0x98c)][_0x456845(0x8fd)]);const _0x4f5b8c=_0x454fad[_0x456845(0x8ff)]+'::'+_0x454fad[_0x456845(0x904)],_0x34dc51=await _0x349b1d[_0x456845(0x6de)](),_0x3bcce2={'id':_0x4f5b8c,'priority':Math[_0x456845(0x386)](),'timestamp':_0x34dc51,'action':_0x454fad['action']};if(await this[_0x456845(0x561)](_0x3bcce2))return _0x3bcce2;}async[_0x3cd514(0x606)](_0x2df8b5){const _0x9de549=_0x3cd514;if(!this['transactionTable'])throw new _0xa369e8(_0xa369e8[_0x9de549(0x98c)][_0x9de549(0x8fd)]);const _0x587f7f=_0x59793c[_0x9de549(0x57e)]('id')[_0x9de549(0x8a0)](_0x9de549(0x7c9),[_0x2df8b5+'::',_0x2df8b5+_0x9de549(0x648)]),_0x310ee5=await this[_0x9de549(0x6a0)][_0x9de549(0x9c7)](_0x587f7f[_0x9de549(0x62d)]());for(const _0x3c65ec of _0x310ee5)await this[_0x9de549(0x6a0)][_0x9de549(0x6f9)](_0x3c65ec['id']);}[_0x3cd514(0x827)](){const _0x2ab71c=_0x3cd514;this[_0x2ab71c(0x6f1)](async(_0x36601b,_0x277652)=>{const _0x29188e=_0x2ab71c;if(_0x277652 instanceof File)return;if(this[_0x29188e(0x318)][_0x29188e(0x903)](_0x277652),!await this[_0x29188e(0x561)](_0x277652))return void this[_0x29188e(0x384)](_0x36601b,_0x277652);if(!_0x277652[_0x29188e(0x682)])throw new _0xa369e8(_0xa369e8['codes'][_0x29188e(0x87c)]);const [_0x5efc2d,_0x11b70a]=_0x277652['id']['split']('::'),_0x614d41=this[_0x29188e(0x1a9)](_0x5efc2d);if(!_0x614d41)throw new _0xa369e8(_0xa369e8[_0x29188e(0x98c)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x614d41});let _0x26efec=0x0;switch(_0x277652[_0x29188e(0x421)]){case _0x2cf499['Add']:case _0x2cf499['Update']:{const _0x13d849=_0x614d41[_0x29188e(0x282)](_0x11b70a,_0x277652[_0x29188e(0x682)],!0x1);_0x26efec=JSON['stringify'](_0x277652[_0x29188e(0x682)])[_0x29188e(0x4f4)],this['transactionsToSync']['includes'](_0x277652['id'])&&this[_0x29188e(0x787)][_0x29188e(0x63b)](_0x13d849);break;}case _0x2cf499[_0x29188e(0x12f)]:{const _0x2a343b=_0x614d41[_0x29188e(0x6f9)](_0x11b70a,!0x1);this[_0x29188e(0x7a5)]['includes'](_0x277652['id'])&&this[_0x29188e(0x787)]['push'](_0x2a343b);break;}}_0x61b339['logServiceEvent'](_0x411645[_0x29188e(0x588)],{'type':_0x29188e(0x7ae),'label':this[_0x29188e(0x788)],'nodeId':this[_0x29188e(0x780)][_0x29188e(0x47f)](),'nodeType':this[_0x29188e(0x780)][_0x29188e(0x3a7)],'clusterId':this[_0x29188e(0x4cb)],'tableName':_0x5efc2d,'key':_0x11b70a,'size':_0x26efec}),this[_0x29188e(0x384)](_0x36601b,_0x277652);});}[_0x3cd514(0x160)](){const _0x332cc7=_0x3cd514;this[_0x332cc7(0x4f3)]=this[_0x332cc7(0x860)][_0x332cc7(0x5a5)](async _0x27d695=>{const _0x407bfb=_0x332cc7;let _0x28169c=0x0;switch(_0x27d695[_0x407bfb(0x421)]){case _0x2cf499[_0x407bfb(0x742)]:case _0x2cf499['Update']:case _0x2cf499[_0x407bfb(0x12f)]:{const _0x1cc245=await this[_0x407bfb(0x811)](_0x27d695);if(!_0x1cc245)return;_0x1cc245[_0x407bfb(0x682)]=_0x27d695['value'],this[_0x407bfb(0x13f)](_0x1cc245),_0x28169c=JSON[_0x407bfb(0x178)](_0x27d695['value'])[_0x407bfb(0x4f4)],this[_0x407bfb(0xe0)]+=0x1;break;}case _0x48a862[_0x407bfb(0x7f3)]:case _0x48a862['List']:case _0x48a862['Count']:this['reads']+=0x1;}_0x61b339[_0x407bfb(0x72f)](_0x411645[_0x407bfb(0x588)],{'type':_0x27d695[_0x407bfb(0x421)],'label':this[_0x407bfb(0x788)],'nodeId':this[_0x407bfb(0x780)][_0x407bfb(0x47f)](),'nodeType':this[_0x407bfb(0x780)][_0x407bfb(0x3a7)],'clusterId':this[_0x407bfb(0x4cb)],'tableName':_0x27d695['tableName'],'key':_0x27d695[_0x407bfb(0x904)],'size':_0x28169c}),this['sendStats']();});}[_0x3cd514(0x7c4)](){const _0x29953a=_0x3cd514;this['db']&&(this[_0x29953a(0x6a0)]||(this[_0x29953a(0x6a0)]=this['db']['getTableConnector'](_0x1c8021)));}[_0x3cd514(0x492)](){const _0x1a2e96=_0x3cd514;this[_0x1a2e96(0x40d)]&&(clearTimeout(this['syncTimeout']),delete this[_0x1a2e96(0x40d)]);}async[_0x3cd514(0x72c)](){const _0x5dd76d=_0x3cd514;await this[_0x5dd76d(0x8ed)]['ready'],this[_0x5dd76d(0x7ec)](),this['eventListener'][_0x5dd76d(0x19e)]({'event':_0x3cfea6['DatabaseEvent'][_0x5dd76d(0x214)]}),this[_0x5dd76d(0x3d8)]?.(!0x0),delete this[_0x5dd76d(0x3d8)],this[_0x5dd76d(0x44e)](),_0x61b339[_0x5dd76d(0x8b2)](_0x5ce311['KeyValueDatabase'],_0x5dd76d(0x129),this[_0x5dd76d(0x788)]);}async['publishSyncCompletedAfterWrites'](_0xf1f8fc){const _0x4df54a=_0x3cd514;await Promise[_0x4df54a(0xed)](this['syncTransactionsWritten']),_0x61b339[_0x4df54a(0x8b2)](_0x5ce311[_0x4df54a(0x588)],_0x4df54a(0x769)+this[_0x4df54a(0x787)][_0x4df54a(0x4f4)]+_0x4df54a(0x15d)+_0xf1f8fc+_0x4df54a(0x529),this[_0x4df54a(0x788)]),await this[_0x4df54a(0x8ed)][_0x4df54a(0x849)],await this[_0x4df54a(0x509)](_0xf1f8fc),await this[_0x4df54a(0x72c)]();}[_0x3cd514(0x384)](_0x2c773e,_0x2f502d){const _0x43f588=_0x3cd514;this[_0x43f588(0x7a5)]['includes'](_0x2f502d['id'])&&(this[_0x43f588(0x492)](),this[_0x43f588(0x7a5)]=this['transactionsToSync'][_0x43f588(0x4d1)](_0x5716a4=>_0x5716a4!==_0x2f502d['id']),0x0!==this[_0x43f588(0x7a5)]['length']?this[_0x43f588(0x40d)]=setTimeout(this[_0x43f588(0x85f)],0x7d0):this[_0x43f588(0x138)](_0x2c773e));}[_0x3cd514(0x44e)](){const _0x49e59a=_0x3cd514;this[_0x49e59a(0x5f4)]&&clearTimeout(this[_0x49e59a(0x5f4)]),this[_0x49e59a(0x5f4)]=setTimeout(async()=>{const _0x4e5d2c=_0x49e59a;delete this['debounceStats'];let _0x17e175=0x0;for(const _0x2da8b2 of this['tables'][_0x4e5d2c(0x699)]())_0x17e175+=await _0x2da8b2['calculateSize']();this[_0x4e5d2c(0x917)][_0x4e5d2c(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x4e5d2c(0x739)],'content':{'type':_0x32bee3['KeyValueDatabaseStats'],'label':this[_0x4e5d2c(0x788)],'stats':{'timestamp':Date[_0x4e5d2c(0x498)](),'storage':_0x17e175,'messagesSent':this[_0x4e5d2c(0x46b)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x4e5d2c(0x6cd)],'bytesReceived':this[_0x4e5d2c(0x728)],'writes':this[_0x4e5d2c(0xe0)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x61b339[_0x4e5d2c(0x40b)](_0x411645[_0x4e5d2c(0x588)],_0x4e5d2c(0x3d7)+this[_0x4e5d2c(0x4cb)]+_0x4e5d2c(0x3d7)+this[_0x4e5d2c(0x788)],_0x17e175);},_0x34d584);}[_0x3cd514(0x7ab)](_0x3b6ee5){const _0x3277ff=_0x3cd514;if(_0x3b6ee5[_0x3277ff(0x97b)][_0x1c8021])throw new _0x1e3976(_0x2089de[_0x3277ff(0x594)],_0x3277ff(0x64b)+_0x1c8021+_0x3277ff(0x5b5));if(_0x3b6ee5[_0x3277ff(0x97b)][_0x57b660])throw new _0x1e3976(_0x2089de[_0x3277ff(0x594)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x57b660+_0x3277ff(0x5b5));_0x3b6ee5[_0x3277ff(0x97b)][_0x1c8021]={'indexes':[]},_0x3b6ee5['tables'][_0x57b660]={'indexes':[]};}async[_0x3cd514(0x526)](_0x10aeb7){const _0x2a0e6b=_0x3cd514;return Promise[_0x2a0e6b(0x354)]([_0x10aeb7,Promise['resolve'](_0x2a0e6b(0x533))])[_0x2a0e6b(0x3dd)](_0x50227e=>_0x2a0e6b(0x533)!==_0x50227e);}async[_0x3cd514(0x509)](_0x24e842){const _0x1194d4=_0x3cd514;await this[_0x1194d4(0x8be)]();const _0x257605=await this[_0x1194d4(0x8ed)]['getRoot'](),_0x3adf2a={'sourceId':this[_0x1194d4(0x780)][_0x1194d4(0x47f)](),'destinationIds':[_0x24e842],'propagate':!0x0,'messageType':_0xca4838['Content'],'content':{'type':_0x32bee3[_0x1194d4(0x213)],'label':this[_0x1194d4(0x788)],'mmrRoot':_0x257605}};this[_0x1194d4(0x917)]['publish'](_0x3adf2a);}async['buildInitialMMR'](){const _0x4a7a75=_0x3cd514;if(!this[_0x4a7a75(0x6a0)])throw new _0xa369e8(_0xa369e8[_0x4a7a75(0x98c)]['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x4a7a75(0x2eb)]=await this[_0x4a7a75(0x6a0)][_0x4a7a75(0x9c7)](),this[_0x4a7a75(0x2eb)][_0x4a7a75(0x9cb)](this[_0x4a7a75(0x350)]),this[_0x4a7a75(0x8ed)]=new _0x33836b(),this[_0x4a7a75(0x1d1)]=new Map();for(const _0x5ed636 of this[_0x4a7a75(0x2eb)])this[_0x4a7a75(0x154)](_0x5ed636,this[_0x4a7a75(0x2eb)]['length']);this[_0x4a7a75(0x3e0)]();}async[_0x3cd514(0x154)](_0x5e7ca8,_0x37b7eb){const _0x111029=_0x3cd514,_0x2a7630={..._0x5e7ca8};delete _0x2a7630['value'],await this[_0x111029(0x8ed)][_0x111029(0x455)](_0x2a7630,_0x37b7eb);const _0x58811a=await this['mmr'][_0x111029(0x506)](_0x2a7630);this[_0x111029(0x1d1)][_0x111029(0x282)](_0x58811a,_0x5e7ca8);}[_0x3cd514(0x18f)](_0xf18987){const _0x3e6a50=_0x3cd514;return this[_0x3e6a50(0x1d1)][_0x3e6a50(0x31f)](_0xf18987);}['collectTransactionsFromNode'](_0x44b912,_0x4a5069){const _0xe453b6=_0x3cd514;if(0x0!==_0x44b912[_0xe453b6(0x4f6)])_0x44b912['left']&&this[_0xe453b6(0x3b4)](_0x44b912[_0xe453b6(0x287)],_0x4a5069),_0x44b912[_0xe453b6(0x292)]&&this[_0xe453b6(0x3b4)](_0x44b912[_0xe453b6(0x292)],_0x4a5069);else{const _0x3d56d2=this[_0xe453b6(0x18f)](_0x44b912[_0xe453b6(0x4f5)]);_0x3d56d2&&_0x4a5069[_0xe453b6(0x63b)](_0x3d56d2);}}async[_0x3cd514(0x1c1)](){const _0x93dc48=_0x3cd514;this['debounceRebuildMMR']&&(clearTimeout(this[_0x93dc48(0x4d8)]),delete this[_0x93dc48(0x4d8)],this[_0x93dc48(0x8ec)][_0x93dc48(0x4f4)]>0x0&&(this[_0x93dc48(0x2eb)][_0x93dc48(0x63b)](...this[_0x93dc48(0x8ec)][_0x93dc48(0x9cb)](this[_0x93dc48(0x350)])),this[_0x93dc48(0x8ec)]=[]));const _0x2d75e6=this[_0x93dc48(0x8a4)]();this['mmr']=new _0x33836b(),this[_0x93dc48(0x1d1)][_0x93dc48(0x921)](),this[_0x93dc48(0x2eb)]['sort'](this[_0x93dc48(0x350)]);for(const _0x59954d of this[_0x93dc48(0x2eb)])this[_0x93dc48(0x154)](_0x59954d,this['transactions'][_0x93dc48(0x4f4)]);await this[_0x93dc48(0x8ed)][_0x93dc48(0x849)],this[_0x93dc48(0x9c4)](_0x2d75e6);}[_0x3cd514(0x8a4)](){const _0xd10cff=_0x3cd514;return this[_0xd10cff(0x318)][_0xd10cff(0x584)][_0xd10cff(0x6e1)](async()=>{const _0x9cc910=_0xd10cff,_0x54b823=await this[_0x9cc910(0x8ed)][_0x9cc910(0x21e)]();return{'startTime':Date['now'](),'initialRoot':_0x54b823};},Promise[_0xd10cff(0x57d)]({'startTime':0x0,'initialRoot':''}));}async[_0x3cd514(0x9c4)](_0x3bf427){const _0x143480=_0x3cd514;try{const {startTime:_0x26974f,initialRoot:_0x337c61}=await _0x3bf427,_0x250c10=await this['mmr'][_0x143480(0x21e)](),_0x2823aa=[_0x143480(0x74a)+(_0x337c61!==_0x250c10),_0x143480(0x8a7)+_0x337c61,_0x143480(0x835)+_0x250c10,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this['mmr'][_0x143480(0x473)](),_0x143480(0x9ca)+(Date[_0x143480(0x498)]()-_0x26974f)+'\x20ms\x0a'][_0x143480(0x696)]('\x20');this[_0x143480(0x318)][_0x143480(0x584)][_0x143480(0x8b2)]('',()=>_0x2823aa);}catch(_0x4d4a5f){console[_0x143480(0x3db)]('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x4d4a5f);}}[_0x3cd514(0x6b5)](_0x544070){const _0x562814=_0x3cd514;this[_0x562814(0x8ec)]['push'](_0x544070),this[_0x562814(0x4d8)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x562814(0x4d8)]),this[_0x562814(0x4d8)]=setTimeout(()=>{const _0x3e88fe=_0x562814;this[_0x3e88fe(0x8be)]();},0x3e8);}async[_0x3cd514(0x8be)](){const _0x5afd5f=_0x3cd514;if(this[_0x5afd5f(0x4d8)]&&(clearTimeout(this[_0x5afd5f(0x4d8)]),delete this['debounceRebuildMMR']),0x0!==this[_0x5afd5f(0x8ec)][_0x5afd5f(0x4f4)]){if(0x0===this[_0x5afd5f(0x2eb)][_0x5afd5f(0x4f4)])return this[_0x5afd5f(0x2eb)]=this[_0x5afd5f(0x8ec)],this[_0x5afd5f(0x8ec)]=[],await this[_0x5afd5f(0x1c1)]();if(this[_0x5afd5f(0x8ec)][_0x5afd5f(0x9cb)](this[_0x5afd5f(0x350)]),this['compareTransactions'](this['transactionsToAppend'][0x0],this['transactions'][this[_0x5afd5f(0x2eb)]['length']-0x1])>0x0){this[_0x5afd5f(0x318)][_0x5afd5f(0x584)]['log'](_0x5afd5f(0x90c)+this['transactionsToAppend'][_0x5afd5f(0x4f4)]+',\x20Transactions:\x20'+this[_0x5afd5f(0x2eb)][_0x5afd5f(0x4f4)]);for(const _0x520ab1 of this[_0x5afd5f(0x8ec)])this[_0x5afd5f(0x2eb)][_0x5afd5f(0x63b)](_0x520ab1),this[_0x5afd5f(0x154)](_0x520ab1,this[_0x5afd5f(0x8ec)]['length']);return this[_0x5afd5f(0x8ec)]=[],void this[_0x5afd5f(0x318)][_0x5afd5f(0x584)][_0x5afd5f(0x8b2)]('processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-',async()=>_0x5afd5f(0x955)+await this[_0x5afd5f(0x8ed)]['getRoot']()+',\x20Total\x20Nodes:'+this[_0x5afd5f(0x8ed)][_0x5afd5f(0x473)]());}this[_0x5afd5f(0x318)][_0x5afd5f(0x584)]['log'](_0x5afd5f(0x277)+this[_0x5afd5f(0x8ec)]['length']+_0x5afd5f(0x4e1)+this[_0x5afd5f(0x2eb)][_0x5afd5f(0x4f4)]),this[_0x5afd5f(0x2eb)][_0x5afd5f(0x63b)](...this[_0x5afd5f(0x8ec)]),this[_0x5afd5f(0x8ec)]=[],this[_0x5afd5f(0x1c1)]();}}async[_0x3cd514(0x7ec)](){const _0x1b071d=_0x3cd514;if(!_0x61b339[_0x1b071d(0x6af)](_0x5ce311[_0x1b071d(0x588)]))return;await this[_0x1b071d(0x8ed)][_0x1b071d(0x849)];const {dataSent:_0x361b93,dataReceived:_0x57860c}=this[_0x1b071d(0x318)]['getDataLogged']();_0x61b339[_0x1b071d(0x8b2)](_0x5ce311['KeyValueDatabase'],_0x1b071d(0x796),this[_0x1b071d(0x788)],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x361b93,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x57860c,_0x1b071d(0x8bb),await this[_0x1b071d(0x8ed)][_0x1b071d(0x21e)](),'\x0a\x20===\x20Total\x20Nodes:',this['mmr'][_0x1b071d(0x473)]());}async[_0x3cd514(0x3e0)](){const _0x4c4bce=_0x3cd514;if(!_0x61b339[_0x4c4bce(0x6af)](_0x5ce311[_0x4c4bce(0x588)]))return;const _0x1fa8d2=this[_0x4c4bce(0x8ed)][_0x4c4bce(0x523)](),_0x317b3a=_0x1fa8d2['map'](_0x53a68=>_0x53a68[_0x4c4bce(0x4f6)]),_0x426675=await this[_0x4c4bce(0x8ed)][_0x4c4bce(0x21e)]();_0x61b339[_0x4c4bce(0x8b2)](_0x5ce311[_0x4c4bce(0x588)],_0x4c4bce(0x8b7),this['transactions']['length'],_0x4c4bce(0x2eb),this[_0x4c4bce(0x8ed)][_0x4c4bce(0x473)](),_0x4c4bce(0x92c),_0x1fa8d2['length'],_0x4c4bce(0x694),_0x317b3a,_0x4c4bce(0x8fc),_0x426675);}}const _0x36a795=require('@crewdle/mist-connector-opfs'),_0x599789=require('@crewdle/mist-connector-indexed-db'),_0x4d5fe6=require('@crewdle/mist-connector-webrtc-browser'),_0x37a83a=0x1fc00000;var _0x469878,_0x3b5379,_0x47c2b4,_0x5a23be,_0x12eab9,_0x3a3a6a,_0x590dbd,_0xed1c40,_0x59cb2e;!function(_0x2cc375){const _0x10d85e=_0x3cd514;_0x2cc375[_0x10d85e(0x4a0)]='AudioContext',_0x2cc375['AudioOutput']=_0x10d85e(0x5d7),_0x2cc375[_0x10d85e(0x339)]=_0x10d85e(0x339),_0x2cc375[_0x10d85e(0x114)]=_0x10d85e(0x114),_0x2cc375[_0x10d85e(0x571)]=_0x10d85e(0x571),_0x2cc375[_0x10d85e(0x13c)]=_0x10d85e(0x13c),_0x2cc375[_0x10d85e(0x1fc)]=_0x10d85e(0x1fc),_0x2cc375['ScreenSharing']=_0x10d85e(0x654),_0x2cc375['WebGL']=_0x10d85e(0x63a),_0x2cc375[_0x10d85e(0x518)]=_0x10d85e(0x518);}(_0x469878||(_0x469878={}));class _0x3a1a9a{[_0x3cd514(0x3b0)];['bufferedEvents'];[_0x3cd514(0x270)];constructor(_0x226a41=new Map(),_0x272e8b=new Map(),_0x18305a=new EventTarget()){const _0x4d184f=_0x3cd514;this[_0x4d184f(0x3b0)]=_0x226a41,this[_0x4d184f(0x6ad)]=_0x272e8b,this[_0x4d184f(0x270)]=_0x18305a;}['emit']=(_0x3190f5,_0x2ca4f0)=>this['registeredListeners'][_0x3cd514(0x31e)](_0x3190f5)?(_0x61b339[_0x3cd514(0x8b2)](_0x5ce311[_0x3cd514(0x405)],_0x3cd514(0x149),{'event':_0x3190f5,'data':_0x2ca4f0}),this[_0x3cd514(0x270)][_0x3cd514(0x311)](new CustomEvent(_0x3190f5,{'detail':_0x2ca4f0})),!0x0):(this[_0x3cd514(0x21c)](_0x3190f5,_0x2ca4f0),!0x1);['on']=(_0x2c031d,_0x55a97f)=>{const _0x1fea81=_0x3cd514,_0x7fee21=_0x454dcd=>{const _0x187abf=a0_0x2e46;_0x61b339[_0x187abf(0x8b2)](_0x5ce311[_0x187abf(0x405)],_0x187abf(0x258),_0x454dcd[_0x187abf(0x3a7)],_0x454dcd['detail']),_0x55a97f(_0x454dcd[_0x187abf(0x8bd)]);};return this['registeredListeners'][_0x1fea81(0x282)](_0x2c031d,_0x7fee21),this[_0x1fea81(0x270)]['addEventListener'](_0x2c031d,_0x7fee21),_0x61b339[_0x1fea81(0x8b2)](_0x5ce311[_0x1fea81(0x94c)],_0x1fea81(0x690),_0x2c031d,_0x55a97f),this[_0x1fea81(0x6ed)](_0x2c031d),this;};['off'](_0x289ac3){const _0x227c5f=_0x3cd514;if(!_0x289ac3)return this[_0x227c5f(0x3b0)][_0x227c5f(0x753)]((_0x42fef6,_0x5e371d)=>{const _0xb30a0d=_0x227c5f;this[_0xb30a0d(0x270)]['removeEventListener'](_0x5e371d,_0x42fef6);}),void this[_0x227c5f(0x3b0)]['clear']();_0x227c5f(0x1f2)==typeof _0x289ac3&&this[_0x227c5f(0x668)](_0x289ac3),Array[_0x227c5f(0xb9)](_0x289ac3)&&_0x289ac3[_0x227c5f(0x753)](_0x10b594=>{const _0x3e50b3=_0x227c5f;this[_0x3e50b3(0x668)](_0x10b594);});}[_0x3cd514(0x668)](_0x1d0591){const _0x44b475=_0x3cd514,_0x7add2e=this[_0x44b475(0x3b0)][_0x44b475(0x31f)](_0x1d0591);_0x7add2e&&(this['eventTarget'][_0x44b475(0x538)](_0x1d0591,_0x7add2e),this[_0x44b475(0x3b0)][_0x44b475(0x6f9)](_0x1d0591));}[_0x3cd514(0x21c)](_0x35e4b4,_0x5ad271){const _0x41c9b0=_0x3cd514;_0x61b339[_0x41c9b0(0x8b2)](_0x5ce311[_0x41c9b0(0x405)],_0x41c9b0(0x25a),{'event':_0x35e4b4,'data':_0x5ad271});const _0x440afb=this[_0x41c9b0(0x6ad)][_0x41c9b0(0x31f)](_0x35e4b4)||[];this[_0x41c9b0(0x6ad)][_0x41c9b0(0x282)](_0x35e4b4,[..._0x440afb,_0x5ad271]);}['consumeBufferedEvents'](_0x489e5c){const _0x4d3b0c=_0x3cd514,_0x43c031=this[_0x4d3b0c(0x6ad)][_0x4d3b0c(0x31f)](_0x489e5c);_0x43c031&&(_0x43c031[_0x4d3b0c(0x753)](_0xee9d03=>{const _0x30a6e4=_0x4d3b0c;_0x61b339[_0x30a6e4(0x8b2)](_0x5ce311[_0x30a6e4(0x405)],_0x30a6e4(0x58c),{'event':_0x489e5c,'data':_0xee9d03}),this[_0x30a6e4(0x270)][_0x30a6e4(0x311)](new CustomEvent(_0x489e5c,{'detail':_0xee9d03}));}),this[_0x4d3b0c(0x6ad)][_0x4d3b0c(0x6f9)](_0x489e5c));}}class _0x89ef13 extends Error{constructor(_0x25bd09){const _0x477273=_0x3cd514;super(_0x477273(0x784)+_0x25bd09);}}!function(_0x2e84b8){const _0x8ecba1=_0x3cd514;_0x2e84b8[_0x2e84b8[_0x8ecba1(0x2e9)]=0x0]=_0x8ecba1(0x2e9),_0x2e84b8[_0x2e84b8[_0x8ecba1(0x5e2)]=0x1]='Optimization';}(_0x3b5379||(_0x3b5379={})),function(_0x112a67){const _0x44401f=_0x3cd514;_0x112a67[_0x112a67[_0x44401f(0x3a4)]=0x0]=_0x44401f(0x3a4),_0x112a67[_0x112a67[_0x44401f(0x966)]=0x1]=_0x44401f(0x966),_0x112a67[_0x112a67[_0x44401f(0x100)]=0x2]=_0x44401f(0x100),_0x112a67[_0x112a67['Success']=0x3]=_0x44401f(0x313),_0x112a67[_0x112a67[_0x44401f(0x659)]=0x4]=_0x44401f(0x659),_0x112a67[_0x112a67[_0x44401f(0x247)]=0x5]=_0x44401f(0x247),_0x112a67[_0x112a67[_0x44401f(0x979)]=0x6]=_0x44401f(0x979),_0x112a67[_0x112a67[_0x44401f(0x3dc)]=0x7]='Stats',_0x112a67[_0x112a67['OptimizationConnectionSuccess']=0x8]=_0x44401f(0x2ff);}(_0x47c2b4||(_0x47c2b4={})),function(_0x35db74){const _0x34eb17=_0x3cd514;_0x35db74[_0x35db74[_0x34eb17(0x1c6)]=0x0]=_0x34eb17(0x1c6),_0x35db74[_0x35db74[_0x34eb17(0x75c)]=0x1]=_0x34eb17(0x75c);}(_0x5a23be||(_0x5a23be={})),function(_0x40c33f){const _0x599390=_0x3cd514;_0x40c33f[_0x599390(0x13c)]=_0x599390(0x935);}(_0x12eab9||(_0x12eab9={})),function(_0x1ae907){const _0x900750=_0x3cd514;_0x1ae907[_0x1ae907[_0x900750(0x6c7)]=0x0]=_0x900750(0x6c7),_0x1ae907[_0x1ae907['NodeUpdate']=0x1]=_0x900750(0x80a),_0x1ae907[_0x1ae907['NodeConnectionsUpdate']=0x2]=_0x900750(0x750),_0x1ae907[_0x1ae907[_0x900750(0x3b5)]=0x3]='NodeLeave';}(_0x3a3a6a||(_0x3a3a6a={})),function(_0x2036f3){const _0x1c0e03=_0x3cd514;_0x2036f3[_0x2036f3[_0x1c0e03(0x7da)]=0x0]='Remediation',_0x2036f3[_0x2036f3[_0x1c0e03(0x7a4)]=0x1]=_0x1c0e03(0x7a4);}(_0x590dbd||(_0x590dbd={})),function(_0x3b5198){const _0x552c58=_0x3cd514;_0x3b5198[_0x552c58(0x568)]='upgrade',_0x3b5198[_0x552c58(0x11c)]=_0x552c58(0x3fd);}(_0xed1c40||(_0xed1c40={})),function(_0x519b97){const _0x440368=_0x3cd514;_0x519b97[_0x440368(0x1b8)]=_0x440368(0x21a),_0x519b97['Bitrate']='bitrate';}(_0x59cb2e||(_0x59cb2e={}));const _0x206386=require('aws-amplify'),_0x99e2c0=require('aws-amplify/utils'),_0x5cc7d1=require('@aws-amplify/api'),_0x145b51=require('@aws-amplify/core');class _0x3d779b{['clusterId'];['localNode'];[_0x3cd514(0x8e6)];constructor(_0x9b7ce8,_0x50aa15,_0x34679a){const _0x2446e8=_0x3cd514;this['clusterId']=_0x9b7ce8,this[_0x2446e8(0x780)]=_0x50aa15,this['remoteId']=_0x34679a;}[_0x3cd514(0x858)](){const _0x564717=_0x3cd514;return this[_0x564717(0x780)]['getId']();}['getRemoteId'](){return this['remoteId'];}}var _0x45214f,_0x38b3c9,_0x5e6dd6;function _0x2f4409(_0x2bd5ec,_0x4ec510){const _0x31461f=_0x3cd514;return _0x2bd5ec[_0x31461f(0x118)]===_0x4ec510;}function _0x5e6003(_0x492b76,_0x4ffcb1){const _0x596b24=_0x3cd514;return _0x492b76[_0x596b24(0x90f)]?.['includes'](_0x4ffcb1)??function(_0x262fc1){const _0x566f59=_0x596b24;return void 0x0===_0x262fc1[_0x566f59(0x90f)];}(_0x492b76);}function _0x3221c2(_0x26b7ee,{contentType:_0x4f5c44,label:_0x12472e,remoteId:_0x2d44b6}){return _0x26b7ee+'-'+_0x4f5c44+'-'+_0x12472e+'-'+_0x2d44b6;}function _0x92bf3c(_0x29892a,_0x1cf5c5,_0x8f2561){return''+_0x29892a+_0x1cf5c5+_0x8f2561;}function _0x347542(_0x44fce9){const _0x28078f=_0x3cd514;return _0x44fce9===_0x38b3c9[_0x28078f(0x894)]?'IncomingSubscription':_0x28078f(0x617);}function _0x2d85bb(_0xcdb492,_0x166cc7){const _0x26f284=_0x3cd514;return{'label':_0xcdb492[_0x26f284(0x711)](),'contentType':_0xcdb492[_0x26f284(0x321)](),'remoteId':_0x166cc7[_0x26f284(0x551)](),'supportsContentType':_0x166cc7['getSupportedContentTypes']()['includes'](_0xcdb492[_0x26f284(0x321)]())};}!function(_0x44aea0){const _0x144db9=_0x3cd514;_0x44aea0[_0x44aea0[_0x144db9(0x98f)]=0x0]=_0x144db9(0x98f),_0x44aea0[_0x44aea0[_0x144db9(0x882)]=0x1]=_0x144db9(0x882),_0x44aea0[_0x44aea0[_0x144db9(0x851)]=0x2]=_0x144db9(0x851);}(_0x45214f||(_0x45214f={})),function(_0xc0c689){const _0x5968cd=_0x3cd514;_0xc0c689[_0x5968cd(0x894)]='in',_0xc0c689['Outgoing']=_0x5968cd(0x1cc);}(_0x38b3c9||(_0x38b3c9={}));class _0x4afff0{[_0x3cd514(0x4a5)];[_0x3cd514(0x81d)];constructor(_0x54ad7d,_0x2f9257){const _0x22f3bd=_0x3cd514;this['callback']=_0x54ad7d,this[_0x22f3bd(0x81d)]=_0x2f9257;}['call'](_0x283cd9){const _0xc88e57=_0x3cd514;this[_0xc88e57(0x4a5)](_0x283cd9);}async['wait'](){const _0x404a2e=_0x3cd514;await this[_0x404a2e(0x81d)]();}}class _0x4aafc1{[_0x3cd514(0x4a5)];[_0x3cd514(0x81d)];constructor(_0x5b437a,_0x509c71){this['callback']=_0x5b437a,this['retryCallback']=_0x509c71;}async[_0x3cd514(0x243)](_0x11423b){const _0x13f404=_0x3cd514;await this[_0x13f404(0x4a5)](_0x11423b);}async[_0x3cd514(0x12a)](){const _0x5264bd=_0x3cd514;await this[_0x5264bd(0x81d)]();}}function _0x4a3adc(_0x4c77b6=()=>{},_0x44333a=()=>!0x1,_0x27453e=()=>{}){let _0x543e90,_0x386a2b,_0x21e9b2=0x0;return{get 'size'(){return _0x21e9b2;},get 'head'(){return _0x543e90;},get 'tail'(){return _0x386a2b;},set 'head'(_0x324f7b){_0x543e90=_0x324f7b;},set 'tail'(_0x1bfe91){_0x386a2b=_0x1bfe91;},'push'(_0x7be95,_0x457d70=!0x0){const _0x32c358=a0_0x2e46,_0x4875de={'value':_0x7be95};_0x457d70&&_0x44333a(_0x4875de)?_0x4c77b6():(_0x386a2b&&(_0x4875de['previous']=_0x386a2b,_0x386a2b[_0x32c358(0x6d0)]=_0x4875de),_0x386a2b=_0x4875de,_0x543e90||(_0x543e90=_0x4875de),_0x21e9b2+=0x1,_0x457d70&&_0x4c77b6());},'pop'(){const _0x32556d=a0_0x2e46;if(!_0x386a2b)return;const _0x418a6e=_0x386a2b[_0x32556d(0x682)];return _0x386a2b=_0x386a2b[_0x32556d(0x41f)],_0x386a2b&&delete _0x386a2b['next'],_0x386a2b||(_0x543e90=void 0x0),_0x21e9b2-=0x1,_0x418a6e;},'unshift'(_0x1ea8d1,_0x53b38a=!0x0){const _0x11e1ec=a0_0x2e46,_0x1c0e41={'value':_0x1ea8d1};_0x53b38a&&_0x44333a(_0x1c0e41)?_0x4c77b6():(_0x543e90&&(_0x543e90[_0x11e1ec(0x41f)]=_0x1c0e41,_0x1c0e41[_0x11e1ec(0x6d0)]=_0x543e90),_0x543e90=_0x1c0e41,_0x386a2b||(_0x386a2b=_0x1c0e41),_0x21e9b2+=0x1,_0x53b38a&&_0x4c77b6());},'shift'(){const _0x213bce=a0_0x2e46;if(!_0x543e90)return;const _0xf498b2=_0x543e90[_0x213bce(0x682)];return _0x543e90=_0x543e90[_0x213bce(0x6d0)],_0x543e90&&delete _0x543e90[_0x213bce(0x41f)],_0x543e90||(_0x386a2b=void 0x0),_0x21e9b2-=0x1,_0xf498b2;},'clear'(){_0x27453e(),_0x543e90=void 0x0,_0x386a2b=void 0x0,_0x21e9b2=0x0;}};}function _0x26b136(_0xd22e88,_0x2b9bd2=!0x1,_0x48c210=()=>{},_0x28d633=()=>!0x1,_0x1a8990=()=>{}){let _0x40bdb3=!0x1;const _0x496d75=_0x4a3adc(async function(){const _0x1bd91c=a0_0x2e46;if(!_0x40bdb3){for(_0x40bdb3=!0x0;_0x496d75[_0x1bd91c(0x864)];){const _0x543039=_0x496d75['shift']();if(_0x543039)try{_0xd22e88 instanceof _0x4afff0&&_0xd22e88[_0x1bd91c(0x243)](_0x543039),_0xd22e88 instanceof _0x4aafc1&&await _0xd22e88['call'](_0x543039),_0x48c210(_0x543039);}catch(_0x49423a){_0x2b9bd2?_0x496d75[_0x1bd91c(0x63b)](_0x543039,!0x1):_0x496d75[_0x1bd91c(0x1a4)](_0x543039,!0x1),await _0xd22e88[_0x1bd91c(0x12a)]();}}_0x40bdb3=!0x1;}},_0x28d633,_0x1a8990);return _0x496d75;}class _0xcd8926 extends _0x3d779b{[_0x3cd514(0x1a3)];[_0x3cd514(0x1e4)];[_0x3cd514(0x20c)]=_0x5cc7d1['ConnectionState'][_0x3cd514(0x441)];[_0x3cd514(0x6bb)]=_0x189a7c();[_0x3cd514(0x101)]=_0x214ef4();['subscription'];['listenUnsubscriber'];[_0x3cd514(0x349)]=_0x26b136(new _0x4aafc1(this['sendAction'][_0x3cd514(0x4d0)](this),this[_0x3cd514(0x2f3)]['bind'](this)));[_0x3cd514(0x495)];constructor(_0x130872,_0x37cca7,_0x3a8e79,_0x4345ec,_0x49c948){const _0x2c5625=_0x3cd514;super(_0x37cca7,_0x3a8e79,_0x4345ec),this[_0x2c5625(0x1a3)]=_0x130872,this[_0x2c5625(0x1e4)]=_0x49c948;}async[_0x3cd514(0x61d)](){const _0x4ece24=_0x3cd514;try{const _0x441152={'getTokens':async()=>{const _0x541a3e=a0_0x2e46,_0x532bba=await this[_0x541a3e(0x1e4)][_0x541a3e(0x396)]();return{'accessToken':(0x0,_0x145b51['decodeJWT'])(_0x532bba),'idToken':(0x0,_0x145b51[_0x541a3e(0xc8)])(_0x532bba)};}};_0x206386[_0x4ece24(0x7e2)][_0x4ece24(0x50a)]({'API':{'GraphQL':{'endpoint':_0x7d2261[_0x4ece24(0x798)][_0x4ece24(0x259)],'region':_0x7d2261[_0x4ece24(0x798)][_0x4ece24(0x579)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x441152}});const _0x50f051=(0x0,_0x5cc7d1['generateClient'])();this[_0x4ece24(0x495)]=_0x50f051,await this[_0x4ece24(0x5a5)](),this[_0x4ece24(0x382)]=_0x99e2c0[_0x4ece24(0x824)][_0x4ece24(0x991)](_0x4ece24(0x1d0),async({payload:_0x1e3915})=>{const _0x227e71=_0x4ece24;if(_0x1e3915[_0x227e71(0x261)]===_0x5cc7d1[_0x227e71(0x4b0)]){const _0x350dd2=_0x1e3915[_0x227e71(0x66f)];this[_0x227e71(0x20c)]=_0x350dd2[_0x227e71(0x20c)],this['connectionStateListener'][_0x227e71(0x19e)](_0x350dd2[_0x227e71(0x20c)]),this[_0x227e71(0x20c)]===_0x5cc7d1['ConnectionState'][_0x227e71(0x441)]?(_0x61b339[_0x227e71(0x3db)](_0x227e71(0x7a3),{'clusterId':this['clusterId'],'nodeId':this[_0x227e71(0x858)](),'nodeType':this[_0x227e71(0x780)]['type']}),this[_0x227e71(0x8aa)](),this[_0x227e71(0x61d)]()):this['connectionState']===_0x5cc7d1['ConnectionState'][_0x227e71(0x173)]?_0x61b339['warning'](_0x227e71(0x273),{'clusterId':this[_0x227e71(0x4cb)],'nodeId':this['getLocalId'](),'nodeType':this['localNode']['type']}):_0x61b339[_0x227e71(0x2f5)]('appsync-statechange',{'clusterId':this['clusterId'],'nodeId':this[_0x227e71(0x858)](),'nodeType':this['localNode']['type'],'data':{'state':_0x350dd2[_0x227e71(0x20c)]}});}});}catch(_0xfb8bbe){_0x61b339[_0x4ece24(0x3db)](_0x4ece24(0x35f),{'clusterId':this[_0x4ece24(0x4cb)],'nodeId':this[_0x4ece24(0x858)](),'nodeType':this[_0x4ece24(0x780)]['type']});}}[_0x3cd514(0x8aa)](){const _0x2b5d3d=_0x3cd514;_0x61b339[_0x2b5d3d(0x2f5)](_0x2b5d3d(0x6ae),{'clusterId':this[_0x2b5d3d(0x4cb)],'nodeId':this['getLocalId'](),'nodeType':this[_0x2b5d3d(0x780)][_0x2b5d3d(0x3a7)]}),this[_0x2b5d3d(0x349)]['clear'](),this[_0x2b5d3d(0x382)]?.(),this['subscription']?.['unsubscribe'](),delete this[_0x2b5d3d(0x3fa)];}['isConnected'](){const _0xc45422=_0x3cd514;return this[_0xc45422(0x20c)]===_0x5cc7d1[_0xc45422(0x631)][_0xc45422(0x173)];}['send'](_0xa03bde){const _0x37226d=_0x3cd514;this[_0x37226d(0x349)][_0x37226d(0x63b)](_0xa03bde);}[_0x3cd514(0x6f1)](_0x234d13){const _0x373ad1=_0x3cd514;return this[_0x373ad1(0x101)]['subscribe'](_0x234d13);}[_0x3cd514(0x2bc)](){const _0x3f6a2a=_0x3cd514;return[_0x3cfea6[_0x3f6a2a(0x9b0)][_0x3f6a2a(0x85d)]];}async['waitConnected'](){const _0x5cd619=_0x3cd514;if(!this[_0x5cd619(0x912)]())return new Promise(_0x4e17d3=>{const _0x42d662=_0x5cd619,_0x3369a9=this[_0x42d662(0x6bb)][_0x42d662(0x5a5)](_0x197142=>{const _0x5cde86=_0x42d662;_0x197142===_0x5cc7d1['ConnectionState'][_0x5cde86(0x173)]&&(_0x3369a9(),_0x4e17d3());});});}async['sendAction'](_0x402b8f){const _0x82de9a=_0x3cd514;if(this[_0x82de9a(0x20c)]!==_0x5cc7d1['ConnectionState'][_0x82de9a(0x173)])throw new Error('AppSync\x20connection\x20not\x20ready');_0x402b8f[_0x82de9a(0x90f)]&&0x1===_0x402b8f['destinationIds'][_0x82de9a(0x4f4)]?await this[_0x82de9a(0x19e)](_0x402b8f[_0x82de9a(0x90f)][0x0],JSON[_0x82de9a(0x178)](_0x402b8f)):_0x61b339[_0x82de9a(0x3db)](_0x82de9a(0x45b),{'clusterId':this[_0x82de9a(0x4cb)],'nodeId':this[_0x82de9a(0x858)](),'nodeType':this[_0x82de9a(0x780)][_0x82de9a(0x3a7)]});}async['publish'](_0x49acad,_0x268784){const _0x2368b6=_0x3cd514;if(!this[_0x2368b6(0x495)])throw new Error('AppSync\x20client\x20not\x20ready');_0x61b339[_0x2368b6(0x8b2)](_0x5ce311[_0x2368b6(0x2c0)],_0x2368b6(0x417),this[_0x2368b6(0x858)](),_0x268784),await this['client'][_0x2368b6(0x1a7)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x2368b6(0x60f)](_0x49acad),'data':_0x268784}});}async[_0x3cd514(0x5a5)](){const _0x381a94=_0x3cd514;if(this[_0x381a94(0x3fa)])return;if(!this[_0x381a94(0x495)])throw new Error(_0x381a94(0x755));_0x61b339['log'](_0x5ce311[_0x381a94(0x2c0)],_0x381a94(0x446),this[_0x381a94(0x858)]());const _0x4dbcc9=await this[_0x381a94(0x495)]['graphql']({'query':_0x381a94(0x598),'variables':{'name':await this[_0x381a94(0x60f)]()},'authToken':await this[_0x381a94(0x1e4)][_0x381a94(0x396)]()},{'Authorization':await this['authService'][_0x381a94(0x396)]()});this['subscription']=_0x4dbcc9[_0x381a94(0x5a5)]({'next':({data:_0x539c42})=>{const _0x434bc5=_0x381a94,_0x3a7fea=JSON['parse'](_0x539c42['subscribe']['data']);!_0x2f4409(_0x3a7fea,this[_0x434bc5(0x858)]())&&_0x5e6003(_0x3a7fea,this[_0x434bc5(0x858)]())&&this[_0x434bc5(0x101)]['publish'](_0x3a7fea);},'error':console[_0x381a94(0x8b2)]});}async[_0x3cd514(0x60f)](_0x259305){const _0x351c94=_0x3cd514,_0x41316a=await crypto['subtle']['digest']('SHA-1',new TextEncoder()[_0x351c94(0x194)](this[_0x351c94(0x1a3)]+'-'+this[_0x351c94(0x4cb)]+'-'+(_0x259305??this[_0x351c94(0x858)]())));return Array[_0x351c94(0x88a)](new Uint8Array(_0x41316a))['map'](_0x143e73=>_0x143e73['toString'](0x10)[_0x351c94(0x35b)](0x2,'0'))[_0x351c94(0x696)]('');}}!function(_0x996120){const _0x3de685=_0x3cd514;_0x996120[_0x996120['Add']=0x0]=_0x3de685(0x742),_0x996120[_0x996120['Remove']=0x1]=_0x3de685(0x54d),_0x996120[_0x996120[_0x3de685(0x383)]=0x2]=_0x3de685(0x383),_0x996120[_0x996120['RemoteAdd']=0x3]=_0x3de685(0x186),_0x996120[_0x996120['RemoteRemove']=0x4]=_0x3de685(0x9c9);}(_0x5e6dd6||(_0x5e6dd6={}));const _0x27d20d='0',_0x462035=_0x3cd514(0x6b8),_0x455280=_0x303ca8,_0x52c9d4=0xbe800;class _0x5e50cb{[_0x3cd514(0x4cb)];[_0x3cd514(0x780)];[_0x3cd514(0x8e6)];[_0x3cd514(0x92b)];[_0x3cd514(0x49b)];[_0x3cd514(0x2d0)];[_0x3cd514(0x161)];[_0x3cd514(0x342)];[_0x3cd514(0x3cc)]=0x1;[_0x3cd514(0x917)];[_0x3cd514(0x411)]=[];[_0x3cd514(0x842)]=[];[_0x3cd514(0x67c)];constructor(_0x2d8d54,_0x5e9fc9,_0x270b82,_0x9899aa,_0x2890ca,_0x3bebce){const _0x115302=_0x3cd514;this['clusterId']=_0x2d8d54,this[_0x115302(0x780)]=_0x5e9fc9,this[_0x115302(0x8e6)]=_0x270b82,this[_0x115302(0x92b)]=_0x9899aa,this[_0x115302(0x49b)]=_0x2890ca,this[_0x115302(0x2d0)]=_0x3bebce,this[_0x115302(0x161)]=new this[(_0x115302(0x2d0))]({'handshakeServers':this[_0x115302(0x92b)]}),this[_0x115302(0x602)]();}['close'](){const _0x29527c=_0x3cd514;this[_0x29527c(0x923)]();}['setConnectionType'](_0x3b822d){const _0x4ce759=_0x3cd514;this[_0x4ce759(0x49b)]=_0x3b822d;}async[_0x3cd514(0x43f)](_0xa9981c,_0x1f45ca){const _0x4135c2=_0x3cd514;if(_0x1f45ca===this[_0x4135c2(0x3cc)])for(const _0x46076c of _0xa9981c){if(!this[_0x4135c2(0x161)]['canAddCandidates'])return this[_0x4135c2(0x40c)](_0x46076c);try{await this['connection'][_0x4135c2(0x1f9)](_0x46076c);}catch(_0x38aeff){this[_0x4135c2(0x40c)](_0x46076c);}}}[_0x3cd514(0x912)](){const _0x24860f=_0x3cd514;return this['logConnectionState'](),'connected'===this[_0x24860f(0x161)][_0x24860f(0x20c)]&&[_0x24860f(0x20d),_0x24860f(0x926)][_0x24860f(0x135)](this[_0x24860f(0x161)][_0x24860f(0x117)])&&_0x24860f(0x691)!==this[_0x24860f(0x161)][_0x24860f(0x3cd)]&&_0x24860f(0x92d)===this[_0x24860f(0x342)]?.[_0x24860f(0xfb)];}[_0x3cd514(0x340)](_0x1a5d1e){this['systemTopic']=_0x1a5d1e;}['unregisterSystemPublisher'](){const _0x137d2b=_0x3cd514;delete this[_0x137d2b(0x917)];}[_0x3cd514(0x34c)](_0xf10c5c){const _0x3945d5=_0x3cd514;this['stopConnection'](),this[_0x3945d5(0x161)]=new this['connectionConstructor']({'handshakeServers':this[_0x3945d5(0x92b)]}),_0xf10c5c?this[_0x3945d5(0x3cc)]=_0xf10c5c:this[_0x3945d5(0x3cc)]+=0x1,this[_0x3945d5(0x602)]();}['processPendingHandshakeCandidates'](){const _0x5c6c7e=_0x3cd514;this[_0x5c6c7e(0x842)]['forEach'](_0x541403=>{const _0x315a1b=_0x5c6c7e;try{this['connection'][_0x315a1b(0x1f9)](_0x541403);}catch(_0xddd79b){}}),this[_0x5c6c7e(0x842)]=[];}['publishSystemMessage'](_0x17e1c1,_0x1be4b1){const _0x3face1=_0x3cd514;if(!this[_0x3face1(0x917)])throw new _0xa369e8(_0xa369e8['codes']['MissingSystemTopic'],{'content':_0x17e1c1});const _0x3916e0={'sourceId':this[_0x3face1(0x780)][_0x3face1(0x47f)](),'destinationIds':[this[_0x3face1(0x8e6)]],'propagate':this[_0x3face1(0x49b)]!==_0x3b5379['Core'],'retry':this['connectionType']!==_0x3b5379[_0x3face1(0x2e9)],'messageType':_0xca4838[_0x3face1(0x3d9)],'content':_0x17e1c1};_0x1be4b1&&(_0x3916e0[_0x3face1(0x5da)]=_0x1be4b1),this[_0x3face1(0x917)]['publish'](_0x3916e0);}[_0x3cd514(0x602)](){const _0x319f0f=_0x3cd514;this[_0x319f0f(0x161)][_0x319f0f(0x996)]=()=>{const _0x46add8=_0x319f0f;_0x46add8(0x63f)===this[_0x46add8(0x161)][_0x46add8(0x79e)]&&this[_0x46add8(0x411)][_0x46add8(0x4f4)]>0x0&&(this[_0x46add8(0x67c)]&&clearTimeout(this[_0x46add8(0x67c)]),this[_0x46add8(0x67c)]=setTimeout(()=>{const _0x1e740c=_0x46add8;delete this['handshakeDebounce'],this[_0x1e740c(0x8e2)](),this[_0x1e740c(0x411)]=[];},0x1f4));},this[_0x319f0f(0x161)][_0x319f0f(0x85a)]=_0x24c26c=>{const _0xb4162a=_0x319f0f;_0x24c26c[_0xb4162a(0x1d6)]&&this[_0xb4162a(0x411)][_0xb4162a(0x63b)](_0x24c26c[_0xb4162a(0x1d6)]);};}[_0x3cd514(0x923)](){const _0x2f4db5=_0x3cd514;clearTimeout(this['handshakeDebounce']),delete this[_0x2f4db5(0x67c)],this[_0x2f4db5(0x411)]=[],this[_0x2f4db5(0x842)]=[],this['dataChannel']&&(this[_0x2f4db5(0x342)][_0x2f4db5(0x6f1)]=null,this[_0x2f4db5(0x342)][_0x2f4db5(0x445)]=null,this[_0x2f4db5(0x342)][_0x2f4db5(0x8aa)](),delete this[_0x2f4db5(0x342)]),this[_0x2f4db5(0x161)][_0x2f4db5(0x996)]=null,this[_0x2f4db5(0x161)][_0x2f4db5(0x85a)]=null,this[_0x2f4db5(0x161)]['onHandshakeStateChange']=null,this[_0x2f4db5(0x161)][_0x2f4db5(0x703)]=null,this[_0x2f4db5(0x161)][_0x2f4db5(0x1c3)]=null,this[_0x2f4db5(0x161)][_0x2f4db5(0x49d)]=null,this[_0x2f4db5(0x161)][_0x2f4db5(0x8aa)]();}[_0x3cd514(0x40c)](_0x24a449){const _0x128cfd=_0x3cd514;this['pendingHandshakeCandidates'][_0x128cfd(0x63b)](_0x24a449);}[_0x3cd514(0x79a)](){const _0x2b4bbd=_0x3cd514;_0x61b339[_0x2b4bbd(0x8b2)](_0x5ce311[_0x2b4bbd(0x631)],'Base\x20Peer\x20Connection',{'localId':this[_0x2b4bbd(0x780)][_0x2b4bbd(0x47f)](),'remoteId':this[_0x2b4bbd(0x8e6)],'connectionState':this[_0x2b4bbd(0x161)][_0x2b4bbd(0x20c)],'handshakeState':this['connection']['handshakeState'],'signalingState':this[_0x2b4bbd(0x161)][_0x2b4bbd(0x3cd)],'dataChannelState':this[_0x2b4bbd(0x342)]?.[_0x2b4bbd(0xfb)]});}}function _0x5ed2db(_0x545cfa,_0x4141a3){const _0x288b08=_0x3cd514;_0x4141a3[_0x288b08(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x288b08(0x3d9)],'content':_0x545cfa});}class _0x5cc3be{static ['instance'];[_0x3cd514(0x992)]=[];[_0x3cd514(0x576)];constructor(){setInterval(()=>{const _0x22fee4=a0_0x2e46;this[_0x22fee4(0x992)]['forEach'](_0x45068c=>{const _0x4f640b=_0x22fee4;if(Date[_0x4f640b(0x498)]()-_0x45068c[_0x4f640b(0x2c2)]>_0x45068c[_0x4f640b(0x275)]){try{_0x45068c[_0x4f640b(0x4a5)]();}catch(_0x1c6649){}_0x45068c[_0x4f640b(0x2c2)]=Date[_0x4f640b(0x498)]();}});},0x64);}static[_0x3cd514(0x68e)](){const _0x32dcc2=_0x3cd514;return _0x5cc3be[_0x32dcc2(0x59b)]||(_0x5cc3be[_0x32dcc2(0x59b)]=new _0x5cc3be()),_0x5cc3be['instance'];}['startNoThrottlingHack'](_0x293a2b){const _0x2a1b23=_0x3cd514,_0x19ec82=this[_0x2a1b23(0x38e)](_0x293a2b),_0x98f2ec=_0x293a2b['createGain']();_0x98f2ec&&_0x19ec82&&(_0x98f2ec['gain'][_0x2a1b23(0x682)]=0.001,_0x19ec82[_0x2a1b23(0x61d)](_0x98f2ec),_0x98f2ec['connect'](_0x293a2b['destination']),_0x19ec82['start']());}[_0x3cd514(0x297)](){const _0x1ecd0e=_0x3cd514;this[_0x1ecd0e(0x576)]&&(this[_0x1ecd0e(0x576)]['stop'](),this['source'][_0x1ecd0e(0x879)](),this[_0x1ecd0e(0x576)]=void 0x0);}['wait'](_0x3b9145){return new Promise(_0x54102=>{setTimeout(_0x54102,_0x3b9145);});}['setInterval'](_0x334214,_0x2f7904){const _0x3a01f5=_0x3cd514;return this['parameters']['push']({'callback':_0x334214,'interval':_0x2f7904,'lastExecuted':Date[_0x3a01f5(0x498)]()}),()=>{const _0x47c856=_0x3a01f5;this[_0x47c856(0x992)]=this[_0x47c856(0x992)][_0x47c856(0x4d1)](_0x332d7c=>_0x332d7c[_0x47c856(0x4a5)]!==_0x334214);};}['createConstantSource'](_0x26da69){const _0x108c69=_0x3cd514;if(_0x26da69[_0x108c69(0x38e)])return _0x26da69[_0x108c69(0x38e)]();const _0x319393=_0x26da69[_0x108c69(0x4a2)](),_0x2eb470=_0x26da69[_0x108c69(0x1d8)](0x1,0x1,_0x26da69['sampleRate']);return _0x2eb470[_0x108c69(0x5ed)](0x0)[0x0]=0xa,_0x319393[_0x108c69(0x902)]=_0x2eb470,_0x319393[_0x108c69(0x343)]=!0x0,_0x319393;}}const _0x1bfa0c=_0x5cc3be[_0x3cd514(0x68e)]();class _0x390689 extends _0x5e50cb{[_0x3cd514(0x783)]=_0x189a7c();['trackCallback']=_0x189a7c();['removeTrackCallback']=_0x189a7c();[_0x3cd514(0x42c)]=new Map();[_0x3cd514(0x627)]=new Map();[_0x3cd514(0x658)];['messagesReceived']=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x3cd514(0x728)]=0x0;[_0x3cd514(0x5c5)]=0x0;[_0x3cd514(0x318)]=_0x35d60a(_0x3cd514(0x110),_0x5ce311[_0x3cd514(0x856)]);[_0x3cd514(0x8aa)](){const _0x2197ed=_0x3cd514;this[_0x2197ed(0x872)](),this['receivers']['clear'](),super[_0x2197ed(0x8aa)]();}async[_0x3cd514(0xe5)](_0x183920,_0x5474a4){const _0x366366=_0x3cd514;this[_0x366366(0x3cc)]=_0x5474a4,this['clearWaitSuccess']();const _0x274efb=await this[_0x366366(0x161)][_0x366366(0x52e)](_0x183920);this[_0x366366(0x1f5)]();const _0x122189=(0x0,_0x6d7452['v4'])();this['publishSystemMessage']({'type':_0x47c2b4['Answer'],'answer':_0x274efb,'version':_0x5474a4,'connectionType':this[_0x366366(0x49b)]},_0x122189),this[_0x366366(0x49b)]===_0x3b5379[_0x366366(0x2e9)]&&(this['waitSuccess']=_0x1bfa0c['setInterval'](()=>{const _0x44cfb1=_0x366366;this[_0x44cfb1(0x868)]({'type':_0x47c2b4['Answer'],'answer':_0x274efb,'version':_0x5474a4,'connectionType':this[_0x44cfb1(0x49b)]},_0x122189);},0x1388));}[_0x3cd514(0x5c7)](){const _0x140ec7=_0x3cd514;this[_0x140ec7(0x872)]();}[_0x3cd514(0x653)](_0x564350){const _0xb5d7ae=_0x3cd514;this[_0xb5d7ae(0x34c)](_0x564350),this[_0xb5d7ae(0x868)]({'type':_0x47c2b4['Restart']});}async[_0x3cd514(0x641)](){const _0xeaa5d1=_0x3cd514;this[_0xeaa5d1(0x917)]&&(await this['connection']['collectReceiversStats'](this['receivers'],(_0x4ac137,_0x346436)=>{const _0x37b924=_0xeaa5d1;_0x5ed2db({'type':_0x47c2b4[_0x37b924(0x3dc)],'streamId':_0x346436,'nodeId':this['remoteId'],'stats':_0x4ac137},this[_0x37b924(0x917)]);}),this[_0xeaa5d1(0x917)][_0xeaa5d1(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0xeaa5d1(0x3d9)],'content':{'type':_0x47c2b4[_0xeaa5d1(0x3dc)],'nodeId':this['remoteId'],'stats':{'origin':_0x5a23be['Receiver'],'timestamp':Date[_0xeaa5d1(0x498)](),'messagesReceived':this['messagesReceived'],'bytesReceived':this['bytesReceived'],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0xeaa5d1(0x825)]}}}));}[_0x3cd514(0x6f1)](_0x569635){const _0x76e410=_0x3cd514;return _0x7d2261[_0x76e410(0x583)]?this[_0x76e410(0x783)][_0x76e410(0x5a5)](_0x569635):this[_0x76e410(0x783)][_0x76e410(0x5a5)](_0x467372=>{const _0x214e26=_0x76e410;0x0===_0x467372[_0x214e26(0x4aa)]&&_0x467372[_0x214e26(0x34b)]===_0xca4838[_0x214e26(0x739)]&&this['loggingCycle'][_0x214e26(0x584)][_0x214e26(0x8b2)](_0x214e26(0x4eb)+this[_0x214e26(0x8e6)],()=>_0x3ef072(_0x467372)),_0x569635(_0x467372);});}[_0x3cd514(0x1c3)](_0x198b68){const _0x356319=_0x3cd514;return this['trackCallback'][_0x356319(0x5a5)](({track:_0xbe1d69,stream:_0x109fdd})=>_0x198b68(_0xbe1d69,_0x109fdd));}['onRemoveTrack'](_0x5e47c9){const _0x39d4d1=_0x3cd514;return this[_0x39d4d1(0x174)][_0x39d4d1(0x5a5)](({track:_0x39ee7c,stream:_0x408485})=>_0x5e47c9(_0x39ee7c,_0x408485));}['resetConnection'](_0x3f79bf){const _0x428f98=_0x3cd514;this['clearWaitSuccess'](),this[_0x428f98(0x42c)][_0x428f98(0x753)](_0x360198=>{const _0x7593f7=_0x428f98;_0x360198[_0x7593f7(0x921)]();}),super[_0x428f98(0x34c)](_0x3f79bf);}[_0x3cd514(0x8e2)](){const _0x4ec03b=_0x3cd514;this[_0x4ec03b(0x868)]({'type':_0x47c2b4['Handshake'],'candidates':this[_0x4ec03b(0x411)],'origin':_0x5a23be['Receiver'],'version':this[_0x4ec03b(0x3cc)],'connectionType':this[_0x4ec03b(0x49b)]});}['setupConnectionEvents'](){const _0x3b5b03=_0x3cd514;super[_0x3b5b03(0x602)](),this[_0x3b5b03(0x161)][_0x3b5b03(0x1c3)]=_0xdaf7ca=>{const _0x58757e=_0x3b5b03;_0x61b339[_0x58757e(0x8b2)](_0x5ce311['Connection'],_0x58757e(0x954),this[_0x58757e(0x780)][_0x58757e(0x47f)](),_0xdaf7ca),_0xdaf7ca[_0x58757e(0x345)][0x0][_0x58757e(0x580)]=_0x34920d=>{const _0x1620b8=_0x58757e;this[_0x1620b8(0x42c)][_0x1620b8(0x31f)](_0xdaf7ca[_0x1620b8(0x345)][0x0]['id'])?.[_0x1620b8(0x6f9)](_0x34920d[_0x1620b8(0x8b4)]),0x0===this[_0x1620b8(0x42c)]['get'](_0xdaf7ca[_0x1620b8(0x345)][0x0]['id'])?.[_0x1620b8(0x3cb)]&&this['receivers']['delete'](_0xdaf7ca[_0x1620b8(0x345)][0x0]['id']),this['removeTrackCallback'][_0x1620b8(0x19e)]({'track':_0x34920d['track'],'stream':_0xdaf7ca[_0x1620b8(0x345)][0x0]});},this[_0x58757e(0x42c)][_0x58757e(0x31e)](_0xdaf7ca[_0x58757e(0x345)][0x0]['id'])||this[_0x58757e(0x42c)]['set'](_0xdaf7ca['streams'][0x0]['id'],new Set()),this[_0x58757e(0x42c)]['get'](_0xdaf7ca[_0x58757e(0x345)][0x0]['id'])[_0x58757e(0x6aa)](_0xdaf7ca['track']),this[_0x58757e(0x3fc)]['publish']({'track':_0xdaf7ca[_0x58757e(0x8b4)],'stream':_0xdaf7ca[_0x58757e(0x345)][0x0]});},this['connection'][_0x3b5b03(0x49d)]=_0x19883f=>{const _0x6fa262=_0x3b5b03;this[_0x6fa262(0x342)]=_0x19883f['channel'],this['dataChannel'][_0x6fa262(0x6f1)]=_0x2ca60f=>{const _0x2e4844=_0x6fa262;if(_0x2ca60f[_0x2e4844(0x66f)]!==_0x27d20d)this[_0x2e4844(0x7eb)](_0x2ca60f[_0x2e4844(0x66f)]);else{if(!this[_0x2e4844(0x342)])return void _0x61b339[_0x2e4844(0x3db)]('missing-datachannel',{'clusterId':this[_0x2e4844(0x4cb)],'nodeId':this[_0x2e4844(0x780)][_0x2e4844(0x47f)](),'nodeType':this[_0x2e4844(0x780)]['type'],'remoteId':this[_0x2e4844(0x8e6)],'data':{'connection':_0x2e4844(0x714)}});if('open'!==this[_0x2e4844(0x342)][_0x2e4844(0xfb)])return;this[_0x2e4844(0x342)][_0x2e4844(0x13f)]('1');}};};}['handleOnMessage'](_0x4ecf76){const _0x1b88af=_0x3cd514;if(_0x1b88af(0x1f2)==typeof _0x4ecf76&&_0x4ecf76[_0x1b88af(0xe8)](_0x462035))return this['messagesReceived']+=0x1,this[_0x1b88af(0x728)]+=_0x4ecf76[_0x1b88af(0x4f4)],this['handleChunkMessage'](_0x4ecf76);setTimeout(()=>{const _0x5df76a=_0x1b88af,_0x5eb4b6=Date[_0x5df76a(0x498)]();let _0x2825da;if((_0x4ecf76 instanceof ArrayBuffer||_0x4ecf76[_0x5df76a(0x4f4)]<=_0x455280)&&(this[_0x5df76a(0x1a8)]+=0x1,this[_0x5df76a(0x728)]+=_0x4ecf76 instanceof ArrayBuffer?_0x4ecf76['byteLength']:_0x4ecf76[_0x5df76a(0x4f4)]),_0x4ecf76 instanceof ArrayBuffer){const [_0x5a302b,_0x1efbec]=this[_0x5df76a(0x56d)](_0x4ecf76);_0x2825da=_0x5a302b,_0x2825da[_0x5df76a(0x1cb)][_0x5df76a(0x66f)]=_0x1efbec;}else _0x2825da=JSON[_0x5df76a(0xc6)](_0x4ecf76);if(0x0===_0x2825da[_0x5df76a(0x4aa)]){this[_0x5df76a(0x825)]['messages'][_0x5df76a(0xd1)]+=0x1;const {systemMessageType:_0x24e031,systemContentMessageType:_0xa3cb84}=_0x3ef072(_0x2825da);this[_0x5df76a(0x825)][_0x24e031]||(this['systemMessagesReceived'][_0x24e031]={[_0xa3cb84]:0x0}),this[_0x5df76a(0x825)][_0x24e031][_0xa3cb84]||(this['systemMessagesReceived'][_0x24e031][_0xa3cb84]=0x0),this['systemMessagesReceived'][_0x24e031][_0x5df76a(0xd1)]||(this[_0x5df76a(0x825)][_0x24e031][_0x5df76a(0xd1)]=0x0),this[_0x5df76a(0x825)][_0x24e031][_0xa3cb84]+=0x1,this[_0x5df76a(0x825)][_0x24e031][_0x5df76a(0xd1)]+=0x1;}this[_0x5df76a(0x783)]['publish'](_0x2825da),this['timeReceiving']+=Date[_0x5df76a(0x498)]()-_0x5eb4b6;},0x0);}[_0x3cd514(0x1fb)](_0x473078){const _0x4fd3f5=_0x3cd514,_0x59c171=_0x473078[_0x4fd3f5(0x4d3)](';'),_0x34b39f=_0x59c171[0x1],_0x66aa5=parseInt(_0x59c171[0x2],0xa),_0x525723=parseInt(_0x59c171[0x3],0xa),_0x1c5c05=_0x473078[_0x4fd3f5(0x460)](_0x462035+';'+_0x34b39f+';'+_0x66aa5+';'+_0x525723+';','');this[_0x4fd3f5(0x627)]['has'](_0x34b39f)||this[_0x4fd3f5(0x627)]['set'](_0x34b39f,[]);const _0x170799=this['chunks'][_0x4fd3f5(0x31f)](_0x34b39f);_0x170799[_0x66aa5]=_0x1c5c05,_0x170799[_0x4fd3f5(0x4f4)]===_0x525723&&(this[_0x4fd3f5(0x7eb)](_0x170799[_0x4fd3f5(0x696)]('')),this[_0x4fd3f5(0x627)]['delete'](_0x34b39f));}[_0x3cd514(0x872)](){const _0x2187e7=_0x3cd514;this[_0x2187e7(0x658)]?.(),delete this[_0x2187e7(0x658)];}[_0x3cd514(0x79f)](_0x50030b){const _0x17d2cd=_0x3cd514,_0x14b9e5=new TextDecoder()[_0x17d2cd(0x5fa)](_0x50030b);return JSON[_0x17d2cd(0xc6)](_0x14b9e5);}[_0x3cd514(0x56d)](_0x2de368){const _0x39abd6=_0x3cd514,_0x357a06=new Uint8Array(_0x2de368[_0x39abd6(0x1a5)](0x0,0x4)),_0x1f92fd=new Uint32Array(_0x357a06[_0x39abd6(0x902)])[0x0],_0xb5b99b=new Uint8Array(_0x2de368[_0x39abd6(0x1a5)](0x4,0x4+_0x1f92fd)),_0x349896=new Uint8Array(_0x2de368['slice'](0x4+_0x1f92fd));return[this['arrayBufferToObject'](_0xb5b99b[_0x39abd6(0x902)]),_0x349896[_0x39abd6(0x902)]];}}const _0x49bde3=0xc350;var _0x527800,_0x387829;!function(_0x33e971){const _0x4fddc1=_0x3cd514;_0x33e971[_0x33e971[_0x4fddc1(0x485)]=0x0]=_0x4fddc1(0x485),_0x33e971[_0x33e971['Medium']=0x1]=_0x4fddc1(0x156),_0x33e971[_0x33e971[_0x4fddc1(0x7cb)]=0x2]=_0x4fddc1(0x7cb);}(_0x527800||(_0x527800={}));class _0x581e32 extends _0x5e50cb{['maxFps'];[_0x3cd514(0x87d)];['senders']=new Map();['heartbeatUnsubscriber'];[_0x3cd514(0x2d1)];[_0x3cd514(0x5d3)];[_0x3cd514(0x9af)]=!0x1;[_0x3cd514(0x4bf)];['restartTimeout'];[_0x3cd514(0x8e3)];[_0x3cd514(0x349)]=function(e,t=_0x527800,s=!0x1){const _0x1f048f=_0x3cd514;let n=!0x1;const i=[];async function o(){const _0x2ef6f4=a0_0x2e46;if(!n){for(n=!0x0;i[_0x2ef6f4(0x8a1)](e=>e[_0x2ef6f4(0x864)]);){let t,n=0x0;for(const [e,s]of i['entries']())if(t=s[_0x2ef6f4(0x1ff)](),n=e,t)break;if(t)try{if(e instanceof _0x4afff0&&e[_0x2ef6f4(0x243)](t),e instanceof _0x4aafc1&&await e[_0x2ef6f4(0x243)](t),i[_0x2ef6f4(0x1a5)](-0x1)[_0x2ef6f4(0x8a1)](e=>e[_0x2ef6f4(0x864)]))continue;const s=i[_0x2ef6f4(0x4f4)]-0x1;n===s&&i[s][_0x2ef6f4(0x864)]&&await _0x1bfa0c[_0x2ef6f4(0x12a)](0x0);}catch(o){s?i[n][_0x2ef6f4(0x63b)](t,!0x1):i[n][_0x2ef6f4(0x1a4)](t,!0x1),await e[_0x2ef6f4(0x12a)]();}}n=!0x1;}}return Object[_0x1f048f(0x699)](t)[_0x1f048f(0x753)](e=>{const _0x29c93e=_0x1f048f;_0x29c93e(0x1f2)!=typeof e&&(i[e]=_0x4a3adc(o));}),{'queues':i};}(new _0x4afff0(this['sendAction'][_0x3cd514(0x4d0)](this),this[_0x3cd514(0x94e)][_0x3cd514(0x4d0)](this)));['messagesSent']=0x0;['bytesSent']=0x0;['timeSending']=0x0;[_0x3cd514(0x6c8)]=0x0;['oncloseTimeout'];['loggingCycle']=_0x35d60a(_0x3cd514(0x9a2),_0x5ce311[_0x3cd514(0x4f2)]);constructor(_0x4c28e9,_0x469d36,_0x8fbb56,_0x967f32,_0x5e23a5,_0x3050d8,_0x381659,_0x55d36c){const _0x40f30c=_0x3cd514;super(_0x4c28e9,_0x469d36,_0x8fbb56,_0x967f32,_0x5e23a5,_0x55d36c),this[_0x40f30c(0x5e7)]=_0x3050d8,this[_0x40f30c(0x87d)]=_0x381659;}['close'](){const _0x13ddf0=_0x3cd514;this[_0x13ddf0(0x47c)](),this['clearHeartbeat'](),delete this[_0x13ddf0(0x5d3)],this[_0x13ddf0(0x30a)](),this['clearConnectionTimeout'](),this[_0x13ddf0(0x278)](),this[_0x13ddf0(0x83c)][_0x13ddf0(0x921)](),this[_0x13ddf0(0x9af)]=!0x1,this[_0x13ddf0(0x349)][_0x13ddf0(0x9a4)][_0x13ddf0(0x753)](_0x501beb=>_0x501beb['clear']()),this[_0x13ddf0(0x86f)](),super['close']();}['isConnected'](){const _0xe80a3a=_0x3cd514;return!!this['lastHeartbeat']&&super['isConnected']()&&Date[_0xe80a3a(0x498)]()-this[_0xe80a3a(0x5d3)]<0x3a98;}async[_0x3cd514(0x641)](){const _0x46ca28=_0x3cd514;this[_0x46ca28(0x917)]&&(await this['connection'][_0x46ca28(0x3b1)](this[_0x46ca28(0x83c)],(_0x4b4cd7,_0x3e5701)=>{const _0x2c46bd=_0x46ca28;_0x5ed2db({'type':_0x47c2b4[_0x2c46bd(0x3dc)],'streamId':_0x3e5701,'nodeId':this[_0x2c46bd(0x8e6)],'stats':_0x4b4cd7},this[_0x2c46bd(0x917)]);}),this[_0x46ca28(0x917)]['publish']({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x46ca28(0x3d9)],'content':{'type':_0x47c2b4['Stats'],'nodeId':this[_0x46ca28(0x8e6)],'stats':{'origin':_0x5a23be[_0x46ca28(0x1c6)],'timestamp':Date[_0x46ca28(0x498)](),'messagesSent':this[_0x46ca28(0x46b)],'bytesSent':this['bytesSent'],'timeSending':this[_0x46ca28(0x876)],'roundTripTime':this['roundTripTime']}}}));}async[_0x3cd514(0x94b)](_0x55f84d){const _0x23eeeb=_0x3cd514;_0x61b339[_0x23eeeb(0x8b2)](_0x5ce311['Connection'],_0x23eeeb(0x458),this['localNode']['getId'](),this['remoteId']),this[_0x23eeeb(0x30a)](),this[_0x23eeeb(0x963)](),this['clearWaitAnswer'](),this[_0x23eeeb(0x4bf)]=setTimeout(()=>{const _0x2de390=_0x23eeeb;this[_0x2de390(0x210)]();},0x7530),this[_0x23eeeb(0x342)]||(this[_0x23eeeb(0x342)]=this[_0x23eeeb(0x161)]['createDataChannel']('data'),this[_0x23eeeb(0x342)]['bufferedAmountLowThreshold']=_0x52c9d4,this[_0x23eeeb(0x342)][_0x23eeeb(0x445)]=()=>{const _0x4d4524=_0x23eeeb;this[_0x4d4524(0x84c)]=setTimeout(()=>{const _0x3a07ce=_0x4d4524;delete this[_0x3a07ce(0x84c)],[_0x3a07ce(0x415),_0x3a07ce(0x92d)][_0x3a07ce(0x135)](this[_0x3a07ce(0x342)]?.[_0x3a07ce(0xfb)]??'')||this[_0x3a07ce(0x210)]();},0xfa);});const _0x27e32f=await this[_0x23eeeb(0x161)][_0x23eeeb(0x94b)](_0x55f84d);this[_0x23eeeb(0x5d3)]||(this[_0x23eeeb(0x5d3)]=Date['now']());const _0xe5ab85=(0x0,_0x6d7452['v4'])();this[_0x23eeeb(0x868)]({'type':_0x47c2b4[_0x23eeeb(0x3a4)],'offer':_0x27e32f,'version':this['currentVersion'],'connectionType':this[_0x23eeeb(0x49b)]},_0xe5ab85),this[_0x23eeeb(0x49b)]===_0x3b5379['Core']&&(this['waitAnswer']=_0x1bfa0c[_0x23eeeb(0x37b)](()=>{const _0x2370c0=_0x23eeeb;this[_0x2370c0(0x868)]({'type':_0x47c2b4[_0x2370c0(0x3a4)],'offer':_0x27e32f,'version':this[_0x2370c0(0x3cc)],'connectionType':this['connectionType']},_0xe5ab85);},0x1388));}async[_0x3cd514(0x4c2)](_0x53b0b0,_0x5b7db8){const _0x51f5ba=_0x3cd514;if(_0x5b7db8===this[_0x51f5ba(0x3cc)]){this['clearWaitAnswer']();try{await this['connection'][_0x51f5ba(0x4c2)](_0x53b0b0,this[_0x51f5ba(0x94b)][_0x51f5ba(0x4d0)](this)),this['processPendingHandshakeCandidates'](),this['clearConnectionTimeout'](),this[_0x51f5ba(0x6fe)]();}catch(_0x1ae66f){this[_0x51f5ba(0x210)]();}}}[_0x3cd514(0x13f)](_0x18cdd0){const _0x190988=_0x3cd514;if(!this[_0x190988(0x342)])throw new _0xa369e8(_0xa369e8['codes']['InvalidDataChannel'],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x190988(0x780)][_0x190988(0x47f)](),'remoteId':this['remoteId'],'eventMessage':_0x18cdd0});if(_0x190988(0x92d)!==this[_0x190988(0x342)][_0x190988(0xfb)])throw new _0xa369e8(_0xa369e8[_0x190988(0x98c)]['InvalidDataChannel'],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x190988(0x780)]['getId'](),'remoteId':this['remoteId'],'eventMessage':_0x18cdd0});let _0x3f047d;if(_0x18cdd0[_0x190988(0x1cb)][_0x190988(0x66f)]instanceof ArrayBuffer){const _0x208f55=_0x18cdd0[_0x190988(0x1cb)][_0x190988(0x66f)];_0x18cdd0={..._0x18cdd0,'content':{..._0x18cdd0[_0x190988(0x1cb)],'data':void 0x0}},_0x3f047d=this['mergeParts'](_0x18cdd0,_0x208f55);}else _0x3f047d=JSON[_0x190988(0x178)](_0x18cdd0);if(_0x190988(0x1f2)==typeof _0x3f047d&&_0x3f047d['length']>_0x455280)return this[_0x190988(0x389)](_0x18cdd0,_0x3f047d);0x0===_0x18cdd0[_0x190988(0x4aa)]&&_0x18cdd0['messageType']===_0xca4838['Content']&&this['loggingCycle'][_0x190988(0x584)][_0x190988(0x6e1)](()=>_0x61b339[_0x190988(0x8b2)](_0x5ce311[_0x190988(0x4f2)],_0x190988(0x97d),this['remoteId'],_0x3ef072(_0x18cdd0)),void 0x0);const _0x50cdf9=0x0===_0x18cdd0[_0x190988(0x4aa)]&&[_0xca4838[_0x190988(0x456)],_0xca4838[_0x190988(0x3d9)]]['includes'](_0x18cdd0[_0x190988(0x34b)])?_0x527800[_0x190988(0x485)]:_0x18cdd0 instanceof ArrayBuffer?_0x527800[_0x190988(0x7cb)]:_0x527800['Medium'];this[_0x190988(0x239)](_0x3f047d,_0x50cdf9);}[_0x3cd514(0x547)](_0x1a7821,_0x33739a,_0xd1ccab,_0x3d172c){const _0x1326f5=_0x3cd514,_0x483eae=(_0x28c6f3=this['maxFps'],_0x5f00c7=this['maxBpp'],Math[_0x1326f5(0x7ff)](0xe1000*_0x28c6f3*_0x5f00c7));var _0x28c6f3,_0x5f00c7;const _0x2cf15c=this[_0x1326f5(0x83c)][_0x1326f5(0x31f)](_0x33739a['id'])||{'stream':_0x33739a,'priority':_0xd1ccab,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x483eae,'maxBitrate':_0x483eae,'framerate':this['maxFps'],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x3d172c},_0x45b4d0=_0x2cf15c[_0x1326f5(0x721)][_0x1a7821[_0x1326f5(0x7f4)]]||{'track':_0x1a7821};if(_0x45b4d0['sender']?(_0x45b4d0[_0x1326f5(0x8b4)]=_0x1a7821,this[_0x1326f5(0x161)]['replaceTrack'](_0x1a7821,_0x45b4d0[_0x1326f5(0x702)])):_0x45b4d0['sender']=this[_0x1326f5(0x161)][_0x1326f5(0x547)](_0x1a7821,_0x33739a),_0x2cf15c[_0x1326f5(0x721)][_0x1a7821[_0x1326f5(0x7f4)]]=_0x45b4d0,_0x3d172c&&(_0x2cf15c['params']=_0x3d172c),_0x3d172c&&'video'===_0x3d172c[_0x1326f5(0x7f4)]&&_0x3d172c[_0x1326f5(0x21a)]&&_0x3d172c['maxResolution']&&(_0x2cf15c[_0x1326f5(0x134)]=this[_0x1326f5(0x807)](_0x3d172c[_0x1326f5(0x21a)],_0x3d172c['maxResolution']),_0x2cf15c[_0x1326f5(0x683)]=_0x2cf15c[_0x1326f5(0x134)],_0x2cf15c['tracks']['video']&&_0x2cf15c['tracks'][_0x1326f5(0x41e)]['sender'])){const _0x35d4de=_0x2cf15c[_0x1326f5(0x721)][_0x1326f5(0x41e)]['sender'];this[_0x1326f5(0x161)][_0x1326f5(0x302)](_0x35d4de,Math[_0x1326f5(0x7ff)](0xa*_0x2cf15c['resolutionScale'])/0xa,_0x2cf15c[_0x1326f5(0x1f7)],_0x2cf15c[_0x1326f5(0x7c1)],_0x2cf15c[_0x1326f5(0x108)]);}this[_0x1326f5(0x83c)][_0x1326f5(0x282)](_0x33739a['id'],_0x2cf15c);}[_0x3cd514(0x821)](_0x5bdbcd,_0x38b90e){const _0x57ab9f=_0x3cd514,_0x367649=this[_0x57ab9f(0x83c)][_0x57ab9f(0x31f)](_0x5bdbcd['id']);if(_0x367649&&_0x367649[_0x57ab9f(0x108)]!==_0x38b90e&&(_0x367649[_0x57ab9f(0x108)]=_0x38b90e,_0x367649[_0x57ab9f(0x721)][_0x57ab9f(0x41e)]&&_0x367649[_0x57ab9f(0x721)]['video'][_0x57ab9f(0x702)])){const _0x2ea20c=_0x367649[_0x57ab9f(0x721)][_0x57ab9f(0x41e)][_0x57ab9f(0x702)];this[_0x57ab9f(0x161)][_0x57ab9f(0x302)](_0x2ea20c,Math[_0x57ab9f(0x7ff)](0xa*_0x367649[_0x57ab9f(0x134)])/0xa,_0x367649[_0x57ab9f(0x1f7)],_0x367649['bitrate'],_0x367649[_0x57ab9f(0x108)]);}}[_0x3cd514(0x487)](_0x5dd2a7,_0x351cfb){const _0x1ae053=_0x3cd514,_0x31355a=this[_0x1ae053(0x83c)][_0x1ae053(0x31f)](_0x5dd2a7['id']);if(_0x31355a){if(_0x31355a[_0x1ae053(0x317)]=_0x351cfb,_0x351cfb&&'video'===_0x351cfb['kind']&&_0x351cfb[_0x1ae053(0x21a)]&&_0x351cfb['maxResolution']){if(_0x31355a['minResolutionScale']=this[_0x1ae053(0x807)](_0x351cfb['resolution'],_0x351cfb['maxResolution']),_0x31355a[_0x1ae053(0x134)]<_0x31355a[_0x1ae053(0x683)]&&(_0x31355a[_0x1ae053(0x134)]=_0x31355a['minResolutionScale']),_0x31355a[_0x1ae053(0x721)][_0x1ae053(0x41e)]&&_0x31355a['tracks']['video'][_0x1ae053(0x702)]){const _0x200a6c=_0x31355a[_0x1ae053(0x721)]['video']['sender'];this['connection'][_0x1ae053(0x302)](_0x200a6c,Math[_0x1ae053(0x7ff)](0xa*_0x31355a[_0x1ae053(0x134)])/0xa,_0x31355a[_0x1ae053(0x1f7)],_0x31355a[_0x1ae053(0x7c1)],_0x31355a[_0x1ae053(0x108)]);}this['clearUpgradeTimeout'](),this[_0x1ae053(0x50e)]();}this[_0x1ae053(0x83c)][_0x1ae053(0x282)](_0x5dd2a7['id'],_0x31355a);}}[_0x3cd514(0x6a4)](_0x329b61,_0x45b55a){const _0x5d81f5=_0x3cd514,_0x93d5d8=this[_0x5d81f5(0x83c)]['get'](_0x45b55a['id']);if(_0x93d5d8){const _0x217f26=_0x93d5d8[_0x5d81f5(0x721)][_0x329b61[_0x5d81f5(0x7f4)]];_0x217f26&&(_0x217f26['sender']&&this['connection']['removeTrack'](_0x217f26['sender']),_0x217f26[_0x5d81f5(0x8b4)]=void 0x0);}}[_0x3cd514(0x655)](_0x9dd5e9){const _0x5af11b=_0x3cd514;this[_0x5af11b(0x47c)]();const _0x5af5cb=function(_0x18cd53,_0x4f4fe1){const _0x101d5b=_0x5af11b;return _0x18cd53['sort']((_0x167af2,_0x53d022)=>_0x4f4fe1[_0x101d5b(0x421)]===_0xed1c40[_0x101d5b(0x11c)]?_0x53d022['priority']-_0x167af2['priority']:_0x167af2[_0x101d5b(0x108)]-_0x53d022[_0x101d5b(0x108)])[_0x101d5b(0x833)](_0x196c5a=>function(_0x8bfa6d,_0x28ac4b){const _0x4097ec=_0x101d5b;if(_0x28ac4b[_0x4097ec(0x421)]===_0xed1c40['Downgrade']){if(_0x28ac4b['component']===_0x59cb2e[_0x4097ec(0x1b8)])return _0x8bfa6d[_0x4097ec(0x134)]<0x4||_0x8bfa6d[_0x4097ec(0x4b7)]>0xf;if(_0x28ac4b['component']===_0x59cb2e[_0x4097ec(0x12d)])return _0x8bfa6d[_0x4097ec(0x86b)]>_0x49bde3;}return _0x8bfa6d[_0x4097ec(0x134)]>_0x8bfa6d[_0x4097ec(0x683)]||_0x8bfa6d[_0x4097ec(0x1f7)]<_0x8bfa6d[_0x4097ec(0x4b7)]||_0x8bfa6d[_0x4097ec(0x7c1)]<_0x8bfa6d['maxBitrate'];}(_0x196c5a,_0x4f4fe1));}(Array[_0x5af11b(0x88a)](this['senders'][_0x5af11b(0x699)]()),_0x9dd5e9);if(_0x5af5cb&&(function(_0x153d97,_0x52c4ab){const _0x31b60a=_0x5af11b;_0x153d97[_0x31b60a(0x721)][_0x31b60a(0x41e)]&&_0x153d97[_0x31b60a(0x721)][_0x31b60a(0x41e)][_0x31b60a(0x702)]&&(_0x153d97[_0x31b60a(0x134)]=function(_0x5064cd,_0x5d410c,_0x266162){const _0x5b9565=_0x31b60a;switch(_0x266162['action']){case _0xed1c40['Downgrade']:_0x266162[_0x5b9565(0x158)]===_0x59cb2e[_0x5b9565(0x1b8)]&&(_0x5064cd+=0.5)>0x4&&(_0x5064cd=0x4);break;case _0xed1c40[_0x5b9565(0x568)]:(_0x5064cd-=0.5)<_0x5d410c&&(_0x5064cd=_0x5d410c);}return _0x5064cd;}(_0x153d97[_0x31b60a(0x134)],_0x153d97['minResolutionScale'],_0x52c4ab),_0x153d97[_0x31b60a(0x1f7)]=function(_0x17df95,_0x48664c,_0x4ad7e9){const _0x9f53b3=_0x31b60a;switch(_0x4ad7e9['action']){case _0xed1c40[_0x9f53b3(0x11c)]:_0x4ad7e9[_0x9f53b3(0x158)]===_0x59cb2e['Resolution']&&(_0x17df95-=0x3)<0xf&&(_0x17df95=0xf);break;case _0xed1c40['Upgrade']:(_0x17df95+=0x3)>_0x48664c&&(_0x17df95=_0x48664c);}return _0x17df95;}(_0x153d97[_0x31b60a(0x1f7)],_0x153d97['maxFramerate'],_0x52c4ab),_0x153d97[_0x31b60a(0x7c1)]=function(_0x31bcd5,_0x15a87a,_0x329222){const _0x4344e4=_0x31b60a;switch(_0x329222[_0x4344e4(0x421)]){case _0xed1c40[_0x4344e4(0x11c)]:_0x329222[_0x4344e4(0x158)]===_0x59cb2e[_0x4344e4(0x12d)]&&(_0x31bcd5*=0.75)<_0x49bde3&&(_0x31bcd5=_0x49bde3);break;case _0xed1c40[_0x4344e4(0x568)]:(_0x31bcd5*=1.25)>_0x15a87a&&(_0x31bcd5=_0x15a87a);}return _0x31bcd5;}(_0x153d97['bitrate'],_0x153d97[_0x31b60a(0x86b)],_0x52c4ab));}(_0x5af5cb,_0x9dd5e9),_0x5af5cb[_0x5af11b(0x721)]['video']&&_0x5af5cb[_0x5af11b(0x721)]['video'][_0x5af11b(0x702)])){const _0x25af00=_0x5af5cb[_0x5af11b(0x721)][_0x5af11b(0x41e)][_0x5af11b(0x702)];this[_0x5af11b(0x161)][_0x5af11b(0x302)](_0x25af00,Math[_0x5af11b(0x7ff)](0xa*_0x5af5cb[_0x5af11b(0x134)])/0xa,_0x5af5cb[_0x5af11b(0x1f7)],_0x5af5cb['bitrate'],_0x5af5cb[_0x5af11b(0x108)]);}(_0x5af5cb||_0x9dd5e9[_0x5af11b(0x421)]===_0xed1c40['Downgrade'])&&this['setUpgradeTimeout']();}[_0x3cd514(0x89c)](){const _0xf21012=_0x3cd514;return this['retryQueue']['queues'][_0xf21012(0x256)]((_0x502dfe,_0x250813)=>_0x502dfe+_0x250813['size'],0x0)*_0x303ca8;}['getBufferedAmount'](){const _0x299da6=_0x3cd514;return this[_0x299da6(0x342)]?.[_0x299da6(0xee)]??0x0;}['resetConnection'](){const _0x26a528=_0x3cd514;super['resetConnection'](),this[_0x26a528(0x86f)](),this[_0x26a528(0x278)](),this['senders'][_0x26a528(0x753)](_0x130bac=>{const _0x5f31cb=_0x26a528;_0x130bac['tracks'][_0x5f31cb(0x41e)]&&(_0x130bac['tracks']['video']['sender']=void 0x0),_0x130bac[_0x5f31cb(0x721)]['audio']&&(_0x130bac[_0x5f31cb(0x721)][_0x5f31cb(0x6a7)]['sender']=void 0x0);}),this[_0x26a528(0x9af)]=!0x0;}async[_0x3cd514(0x94e)](){return new Promise(async _0x1d891b=>{const _0x108175=a0_0x2e46;if(!this['dataChannel']||_0x108175(0x92d)!==this[_0x108175(0x342)][_0x108175(0xfb)])return await _0x1bfa0c[_0x108175(0x12a)](0x64),void _0x1d891b();this['dataChannel'][_0x108175(0xee)]<_0x52c9d4?_0x1d891b():this['dataChannel'][_0x108175(0x6a1)]=()=>{const _0x17cb99=_0x108175;this[_0x17cb99(0x342)]&&(this[_0x17cb99(0x342)][_0x17cb99(0x6a1)]=null),_0x1d891b();};});}['sendChunked'](_0x54f62e,_0x268614){const _0x5dc79c=_0x3cd514,_0x468d94=[];for(let _0x54bd3f=0x0;_0x54bd3f<_0x268614[_0x5dc79c(0x4f4)];_0x54bd3f+=_0x455280)_0x468d94[_0x5dc79c(0x63b)](_0x268614[_0x5dc79c(0x1a5)](_0x54bd3f,_0x54bd3f+_0x455280));for(const _0x438cc6 of _0x468d94)this[_0x5dc79c(0x239)](_0x462035+';'+_0x54f62e[_0x5dc79c(0x5da)]+';'+_0x468d94[_0x5dc79c(0x8f4)](_0x438cc6)+';'+_0x468d94[_0x5dc79c(0x4f4)]+';'+_0x438cc6,_0x527800['Low']);}async[_0x3cd514(0x239)](_0x4b1840,_0x4e99aa){const _0x57601b=_0x3cd514;_0x4b1840===_0x27d20d?this[_0x57601b(0x349)]['queues'][_0x4e99aa][_0x57601b(0x864)]?.[_0x57601b(0x682)]!==_0x27d20d&&this[_0x57601b(0x349)][_0x57601b(0x9a4)][_0x4e99aa][_0x57601b(0x1a4)](_0x4b1840):this['retryQueue'][_0x57601b(0x9a4)][_0x4e99aa][_0x57601b(0x63b)](_0x4b1840);}[_0x3cd514(0x5bf)](_0x2b1502){const _0x563ac0=_0x3cd514;if(!this['dataChannel']||_0x563ac0(0x92d)!==this['dataChannel'][_0x563ac0(0xfb)])throw new Error(_0x563ac0(0x3b2));if(this[_0x563ac0(0x342)][_0x563ac0(0xee)]>=0xbe8000)throw new Error(_0x563ac0(0x706));const _0x4dcb69=Date['now']();_0x2b1502!==_0x27d20d&&(this[_0x563ac0(0x46b)]+=0x1,this['bytesSent']+=_0x2b1502 instanceof ArrayBuffer?_0x2b1502[_0x563ac0(0x81e)]:_0x2b1502[_0x563ac0(0x4f4)]),ArrayBuffer,this['dataChannel'][_0x563ac0(0x13f)](_0x2b1502),this['timeSending']+=Date[_0x563ac0(0x498)]()-_0x4dcb69;}['startHeartbeat'](){const _0x90f511=_0x3cd514;this[_0x90f511(0x44d)]&&this['clearHeartbeat']();let _0x784cd3=!0x0,_0x23c973=Date[_0x90f511(0x498)]();this[_0x90f511(0x5d3)]=Date['now'](),this[_0x90f511(0x342)]['onMessage']=_0x345dbd=>{const _0x17ce93=_0x90f511;'1'===_0x345dbd[_0x17ce93(0x66f)]&&(this[_0x17ce93(0x6c8)]=Date[_0x17ce93(0x498)]()-_0x23c973,_0x784cd3&&this['publishSystemMessage']({'type':_0x47c2b4[_0x17ce93(0x313)]}),_0x784cd3=!0x1,this[_0x17ce93(0x5d3)]=Date[_0x17ce93(0x498)](),this[_0x17ce93(0x9af)]&&(this['isReconnecting']=!0x1,this['handleMissingSenders']()));},this[_0x90f511(0x44d)]=_0x1bfa0c[_0x90f511(0x37b)](()=>{const _0x1c4a6b=_0x90f511;_0x23c973=Date[_0x1c4a6b(0x498)](),this[_0x1c4a6b(0x239)](_0x27d20d,_0x527800[_0x1c4a6b(0x485)]),Date[_0x1c4a6b(0x498)]()-this[_0x1c4a6b(0x5d3)]>(_0x784cd3?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x3cd514(0x4ba)](){const _0x1dbb49=_0x3cd514;this['senders'][_0x1dbb49(0x753)](_0x384474=>{const _0xc68490=_0x1dbb49;_0x384474['tracks']['video']&&_0x384474[_0xc68490(0x721)][_0xc68490(0x41e)][_0xc68490(0x8b4)]&&!_0x384474[_0xc68490(0x721)]['video'][_0xc68490(0x702)]&&(_0x384474[_0xc68490(0x721)][_0xc68490(0x41e)][_0xc68490(0x702)]=this[_0xc68490(0x161)][_0xc68490(0x547)](_0x384474['tracks'][_0xc68490(0x41e)][_0xc68490(0x8b4)],_0x384474[_0xc68490(0x6a8)])),_0x384474[_0xc68490(0x721)][_0xc68490(0x6a7)]&&_0x384474[_0xc68490(0x721)][_0xc68490(0x6a7)]['track']&&!_0x384474[_0xc68490(0x721)][_0xc68490(0x6a7)]['sender']&&(_0x384474[_0xc68490(0x721)][_0xc68490(0x6a7)][_0xc68490(0x702)]=this[_0xc68490(0x161)][_0xc68490(0x547)](_0x384474[_0xc68490(0x721)]['audio']['track'],_0x384474[_0xc68490(0x6a8)]));});}[_0x3cd514(0x8e2)](){const _0x2a2191=_0x3cd514;this[_0x2a2191(0x868)]({'type':_0x47c2b4[_0x2a2191(0x100)],'candidates':this[_0x2a2191(0x411)],'origin':_0x5a23be['Sender'],'version':this[_0x2a2191(0x3cc)],'connectionType':this[_0x2a2191(0x49b)]});}[_0x3cd514(0x602)](){const _0x3c61af=_0x3cd514;super[_0x3c61af(0x602)](),this[_0x3c61af(0x161)][_0x3c61af(0x2a6)]=()=>{const _0x3972b2=_0x3c61af;if('failed'===this[_0x3972b2(0x161)][_0x3972b2(0x117)]){_0x61b339['log'](_0x5ce311[_0x3972b2(0x631)],_0x3972b2(0x5ae),this[_0x3972b2(0x780)][_0x3972b2(0x47f)](),this[_0x3972b2(0x8e6)]);try{if(this[_0x3972b2(0x161)][_0x3972b2(0x351)])return void this[_0x3972b2(0x161)][_0x3972b2(0x19f)]();}catch(_0x54b38d){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x3c61af(0x161)][_0x3c61af(0x703)]=()=>{const _0x432660=_0x3c61af;_0x432660(0x853)!==this[_0x432660(0x161)][_0x432660(0x20c)]&&'failed'!==this[_0x432660(0x161)]['connectionState']||this[_0x432660(0x210)]();};}[_0x3cd514(0x210)](){const _0x1937ba=_0x3cd514;this[_0x1937ba(0x9a6)](),this[_0x1937ba(0x30a)](),this['clearConnectionTimeout'](),_0x61b339['warning'](_0x1937ba(0x879),{'clusterId':this[_0x1937ba(0x4cb)],'nodeId':this[_0x1937ba(0x780)][_0x1937ba(0x47f)](),'nodeType':this[_0x1937ba(0x780)][_0x1937ba(0x3a7)],'remoteId':this[_0x1937ba(0x8e6)],'data':{'connectionType':this[_0x1937ba(0x49b)],'connectionState':this[_0x1937ba(0x161)][_0x1937ba(0x20c)],'iceConnectionState':this['connection'][_0x1937ba(0x117)],'signalingState':this[_0x1937ba(0x161)][_0x1937ba(0x3cd)],'readyState':this[_0x1937ba(0x342)]?.[_0x1937ba(0xfb)]||'','lastHeartbeat':this[_0x1937ba(0x5d3)]?Date['now']()-this[_0x1937ba(0x5d3)]:'','retryQueue':this[_0x1937ba(0x349)]}}),(this['lastHeartbeat']&&Date[_0x1937ba(0x498)]()-this['lastHeartbeat']>0xea60)??0x1?this['systemTopic']['publish']({'sourceId':this[_0x1937ba(0x8e6)],'destinationIds':[this[_0x1937ba(0x780)][_0x1937ba(0x47f)]()],'messageType':_0xca4838[_0x1937ba(0x3d9)],'content':{'type':_0x47c2b4[_0x1937ba(0x979)]}}):(this[_0x1937ba(0x34c)](),this[_0x1937ba(0x868)]({'type':_0x47c2b4[_0x1937ba(0x659)],'version':this[_0x1937ba(0x3cc)],'connectionType':this['connectionType']}),this[_0x1937ba(0x209)]=setTimeout(()=>{const _0x5e697b=_0x1937ba;this[_0x5e697b(0x210)]();},0x7530));}['clearHeartbeat'](){const _0x5b521c=_0x3cd514;this[_0x5b521c(0x44d)]?.(),delete this[_0x5b521c(0x44d)];}[_0x3cd514(0x963)](){const _0xd16966=_0x3cd514;this[_0xd16966(0x4bf)]&&(clearTimeout(this['connectionTimeout']),delete this[_0xd16966(0x4bf)]);}[_0x3cd514(0x30a)](){const _0x142d06=_0x3cd514;this[_0x142d06(0x209)]&&(clearTimeout(this[_0x142d06(0x209)]),delete this['restartTimeout']);}['clearUpgradeTimeout'](){const _0x5b04fa=_0x3cd514;this[_0x5b04fa(0x8e3)]&&(clearTimeout(this['upgradeTimeout']),delete this['upgradeTimeout']);}[_0x3cd514(0x50e)](){const _0x72d816=_0x3cd514;this[_0x72d816(0x8e3)]=setTimeout(()=>{const _0x8ddebb=_0x72d816;this[_0x8ddebb(0x655)]({'type':_0x590dbd[_0x8ddebb(0x7da)],'action':_0xed1c40['Upgrade']});},0x3a98);}[_0x3cd514(0x807)](_0x1f678b,_0x1801d0){const _0x2a0cf1=_0x3cd514,_0x3a8f5b=Math[_0x2a0cf1(0x11b)](_0x1f678b[_0x2a0cf1(0x7e5)]/_0x1801d0['width'],_0x1f678b[_0x2a0cf1(0x4f6)]/_0x1801d0['height']);return Math[_0x2a0cf1(0xbe)](Math[_0x2a0cf1(0x11b)](_0x3a8f5b,0x1),0x4);}[_0x3cd514(0x278)](){this['waitAnswer']?.(),delete this['waitAnswer'];}[_0x3cd514(0x86f)](){const _0x5b7fa7=_0x3cd514;this[_0x5b7fa7(0x84c)]&&(clearTimeout(this[_0x5b7fa7(0x84c)]),delete this['oncloseTimeout']);}['objectToArrayBuffer'](_0xdd152f){const _0x219b8f=_0x3cd514,_0x52488c=JSON[_0x219b8f(0x178)](_0xdd152f);return new TextEncoder()[_0x219b8f(0x194)](_0x52488c)[_0x219b8f(0x902)];}[_0x3cd514(0x6e4)](_0x1f21ef,_0x5dfd3e){const _0x43f9ff=_0x3cd514,_0x4238b5=this[_0x43f9ff(0x68d)](_0x1f21ef),_0x1be902=new Uint8Array(0x4),_0x4bfc39=new Uint8Array(_0x4238b5),_0x5d0bf0=new Uint8Array(_0x5dfd3e);_0x1be902[_0x43f9ff(0x282)](new Uint8Array(new Uint32Array([_0x4bfc39['length']])[_0x43f9ff(0x902)]));const _0x4fa8e1=new Uint8Array(0x4+_0x4bfc39[_0x43f9ff(0x4f4)]+_0x5d0bf0['length']);return _0x4fa8e1[_0x43f9ff(0x282)](_0x1be902),_0x4fa8e1[_0x43f9ff(0x282)](_0x4bfc39,0x4),_0x4fa8e1['set'](_0x5d0bf0,0x4+_0x4bfc39[_0x43f9ff(0x4f4)]),_0x4fa8e1[_0x43f9ff(0x902)];}}class _0x463561 extends _0x3d779b{[_0x3cd514(0x92b)];[_0x3cd514(0x49b)];[_0x3cd514(0x5e7)];[_0x3cd514(0x87d)];[_0x3cd514(0x2d0)];[_0x3cd514(0x822)];[_0x3cd514(0x8b3)];[_0x3cd514(0x517)]=[];[_0x3cd514(0x101)]=_0x214ef4();[_0x3cd514(0x2dc)]=_0x214ef4();[_0x3cd514(0x53a)]=_0x214ef4();[_0x3cd514(0x887)]=[];[_0x3cd514(0x917)];['dataTopics']=new Map();[_0x3cd514(0x1c4)]=new Map();[_0x3cd514(0x813)]=new Map();[_0x3cd514(0x942)]=new Map();[_0x3cd514(0x21f)]=!0x1;constructor(_0x11bde8,_0x141e79,_0x5a5d24,_0xe4b54c,_0x6842d9,_0x480237,_0x4b0861,_0xc4317e){const _0x5f2527=_0x3cd514;super(_0x11bde8,_0x141e79,_0x5a5d24),this[_0x5f2527(0x92b)]=_0xe4b54c,this['connectionType']=_0x6842d9,this['maxFps']=_0x480237,this[_0x5f2527(0x87d)]=_0x4b0861,this[_0x5f2527(0x2d0)]=_0xc4317e;}['registerPublisher'](_0x16733e){const _0x439d8b=_0x3cd514;switch(_0x16733e[_0x439d8b(0x321)]()){case _0x3cfea6[_0x439d8b(0x9b0)][_0x439d8b(0x85d)]:case _0x3cfea6[_0x439d8b(0x9b0)]['PubSub']:case _0x3cfea6[_0x439d8b(0x9b0)][_0x439d8b(0x112)]:case _0x3cfea6['ContentType'][_0x439d8b(0x588)]:case _0x3cfea6['ContentType']['Job']:case _0x3cfea6[_0x439d8b(0x9b0)]['VectorDatabase']:case _0x3cfea6['ContentType'][_0x439d8b(0x374)]:case _0x3cfea6['ContentType'][_0x439d8b(0x56b)]:this[_0x439d8b(0x707)][_0x439d8b(0x282)](_0x16733e[_0x439d8b(0x24e)](),_0x16733e);break;case _0x3cfea6[_0x439d8b(0x9b0)]['Media']:this[_0x439d8b(0x813)]['set'](_0x16733e[_0x439d8b(0x24e)](),_0x16733e);}}[_0x3cd514(0x4b3)](_0x396de2){const _0x257ed9=_0x3cd514;switch(_0x396de2[_0x257ed9(0x321)]()){case _0x3cfea6[_0x257ed9(0x9b0)][_0x257ed9(0x85d)]:case _0x3cfea6[_0x257ed9(0x9b0)][_0x257ed9(0x242)]:case _0x3cfea6['ContentType'][_0x257ed9(0x112)]:case _0x3cfea6[_0x257ed9(0x9b0)][_0x257ed9(0x588)]:case _0x3cfea6[_0x257ed9(0x9b0)]['Job']:case _0x3cfea6['ContentType'][_0x257ed9(0x24d)]:case _0x3cfea6[_0x257ed9(0x9b0)][_0x257ed9(0x374)]:case _0x3cfea6[_0x257ed9(0x9b0)][_0x257ed9(0x56b)]:this[_0x257ed9(0x707)]['delete'](_0x396de2['getLabel']());break;case _0x3cfea6[_0x257ed9(0x9b0)][_0x257ed9(0x562)]:this['mediaTopics'][_0x257ed9(0x6f9)](_0x396de2[_0x257ed9(0x24e)]());}}[_0x3cd514(0x503)](_0x51de98){const _0x261aa6=_0x3cd514;switch(_0x51de98[_0x261aa6(0x321)]()){case _0x3cfea6[_0x261aa6(0x9b0)][_0x261aa6(0x85d)]:case _0x3cfea6[_0x261aa6(0x9b0)][_0x261aa6(0x242)]:case _0x3cfea6[_0x261aa6(0x9b0)][_0x261aa6(0x112)]:case _0x3cfea6[_0x261aa6(0x9b0)][_0x261aa6(0x588)]:case _0x3cfea6['ContentType'][_0x261aa6(0x5d5)]:case _0x3cfea6[_0x261aa6(0x9b0)]['VectorDatabase']:case _0x3cfea6['ContentType'][_0x261aa6(0x374)]:case _0x3cfea6['ContentType']['ExternalStorage']:{const _0x2bf1f3=_0x51de98['subscribe'](_0x1008b1=>{const _0x37e3e0=_0x261aa6;_0x2f4409(_0x1008b1,this['getLocalId']())&&_0x5e6003(_0x1008b1,this[_0x37e3e0(0x8e6)])&&this[_0x37e3e0(0x13f)](_0x1008b1);});this[_0x261aa6(0x1c4)][_0x261aa6(0x282)](_0x51de98[_0x261aa6(0x24e)](),_0x2bf1f3);break;}case _0x3cfea6[_0x261aa6(0x9b0)][_0x261aa6(0x562)]:{const _0x4233f0=_0x51de98['subscribe'](({content:_0x4f0a1f})=>{const _0x1eeb0b=_0x261aa6;switch(_0x4f0a1f[_0x1eeb0b(0x421)]){case _0x5e6dd6['Add']:this[_0x1eeb0b(0x547)](_0x4f0a1f[_0x1eeb0b(0x8b4)],_0x4f0a1f['stream'],_0x4f0a1f[_0x1eeb0b(0x108)],_0x4f0a1f[_0x1eeb0b(0x317)]);break;case _0x5e6dd6[_0x1eeb0b(0x54d)]:this['removeTrack'](_0x4f0a1f[_0x1eeb0b(0x8b4)],_0x4f0a1f[_0x1eeb0b(0x6a8)]);break;case _0x5e6dd6[_0x1eeb0b(0x383)]:_0x4f0a1f['priority']&&this[_0x1eeb0b(0x821)](_0x4f0a1f[_0x1eeb0b(0x6a8)],_0x4f0a1f['priority']),_0x4f0a1f['params']&&this[_0x1eeb0b(0x487)](_0x4f0a1f['stream'],_0x4f0a1f['params']);}});this['mediaUnsubscribers'][_0x261aa6(0x282)](_0x51de98[_0x261aa6(0x24e)](),_0x4233f0);break;}}}[_0x3cd514(0x48c)](_0x36cb14){const _0x425ad2=_0x3cd514;switch(_0x36cb14['getContentType']()){case _0x3cfea6['ContentType']['Data']:case _0x3cfea6[_0x425ad2(0x9b0)]['PubSub']:case _0x3cfea6[_0x425ad2(0x9b0)][_0x425ad2(0x112)]:case _0x3cfea6['ContentType'][_0x425ad2(0x588)]:case _0x3cfea6[_0x425ad2(0x9b0)]['Job']:case _0x3cfea6[_0x425ad2(0x9b0)][_0x425ad2(0x24d)]:case _0x3cfea6[_0x425ad2(0x9b0)][_0x425ad2(0x374)]:case _0x3cfea6['ContentType'][_0x425ad2(0x56b)]:this[_0x425ad2(0x1c4)][_0x425ad2(0x31f)](_0x36cb14[_0x425ad2(0x24e)]())?.(),this[_0x425ad2(0x1c4)][_0x425ad2(0x6f9)](_0x36cb14[_0x425ad2(0x24e)]());break;case _0x3cfea6['ContentType']['Media']:this[_0x425ad2(0x942)][_0x425ad2(0x31f)](_0x36cb14[_0x425ad2(0x24e)]())?.(),this[_0x425ad2(0x942)][_0x425ad2(0x6f9)](_0x36cb14[_0x425ad2(0x24e)]());}}[_0x3cd514(0x2bc)](){const _0x49ca71=_0x3cd514;return[_0x3cfea6['ContentType'][_0x49ca71(0x85d)],_0x3cfea6[_0x49ca71(0x9b0)][_0x49ca71(0x562)],_0x3cfea6['ContentType']['PubSub'],_0x3cfea6[_0x49ca71(0x9b0)][_0x49ca71(0x112)],_0x3cfea6['ContentType'][_0x49ca71(0x588)],_0x3cfea6[_0x49ca71(0x9b0)][_0x49ca71(0x5d5)],_0x3cfea6[_0x49ca71(0x9b0)][_0x49ca71(0x24d)],_0x3cfea6[_0x49ca71(0x9b0)][_0x49ca71(0x374)],_0x3cfea6['ContentType'][_0x49ca71(0x56b)]];}['registerSystemPublisher'](_0x1d9af6){const _0x38e313=_0x3cd514;this[_0x38e313(0x917)]=_0x1d9af6;}[_0x3cd514(0x7b7)](){const _0x4338c0=_0x3cd514;delete this[_0x4338c0(0x917)];}async[_0x3cd514(0x61d)](){const _0x5d233c=_0x3cd514;this[_0x5d233c(0x308)](),await this['createOffer']();}[_0x3cd514(0x8aa)](){const _0x498c8a=_0x3cd514;this['listenerUnsubscribers']['forEach'](_0x36f469=>_0x36f469()),this[_0x498c8a(0x887)]=[],this[_0x498c8a(0x822)]?.[_0x498c8a(0x7b7)](),this[_0x498c8a(0x822)]?.[_0x498c8a(0x8aa)](),delete this[_0x498c8a(0x822)],this['receiverUnsubscribers']['forEach'](_0x52164c=>_0x52164c()),this[_0x498c8a(0x517)]=[],this[_0x498c8a(0x8b3)]?.[_0x498c8a(0x7b7)](),this[_0x498c8a(0x8b3)]?.[_0x498c8a(0x8aa)](),delete this[_0x498c8a(0x8b3)];}['isConnected'](){const _0x5415b3=_0x3cd514;return this[_0x5415b3(0x822)]?.[_0x5415b3(0x912)]()&&this[_0x5415b3(0x8b3)]?.['isConnected']()||!0x1;}[_0x3cd514(0x13f)](_0x1391c3){const _0x4b8156=_0x3cd514;if(!this[_0x4b8156(0x822)]||!this[_0x4b8156(0x912)]())throw new _0xa369e8(_0xa369e8[_0x4b8156(0x98c)][_0x4b8156(0x90a)],{'message':_0x4b8156(0xc1),'senderConnected':this[_0x4b8156(0x822)]?.[_0x4b8156(0x912)](),'receiverConnected':this['receiverConnection']?.['isConnected'](),'localId':this['getLocalId'](),'remoteId':this[_0x4b8156(0x8e6)],'data':_0x1391c3});this[_0x4b8156(0x822)][_0x4b8156(0x13f)](_0x1391c3);}['onMessage'](_0x5eb8a2){const _0x55d6c2=_0x3cd514;return this['messageListeners'][_0x55d6c2(0x5a5)](_0x5eb8a2);}[_0x3cd514(0x1c3)](_0x385992){const _0x3a5d3c=_0x3cd514;return this['trackListeners'][_0x3a5d3c(0x5a5)](({track:_0x2dfe56,stream:_0x43f6fb})=>_0x385992(_0x2dfe56,_0x43f6fb));}[_0x3cd514(0x502)](_0x1ccfcd){const _0x3d3412=_0x3cd514;return this['removeTrackListeners'][_0x3d3412(0x5a5)](({track:_0x199c54,stream:_0x1e9973})=>_0x1ccfcd(_0x199c54,_0x1e9973));}['addTrack'](_0x3ad8c6,_0x457c97,_0x4951c1,_0x469984){this['senderConnection']?.['addTrack'](_0x3ad8c6,_0x457c97,_0x4951c1,_0x469984);}[_0x3cd514(0x821)](_0x47ca9a,_0x3d66db){const _0x1f2c33=_0x3cd514;this[_0x1f2c33(0x822)]?.['setPriority'](_0x47ca9a,_0x3d66db);}['setParams'](_0x562808,_0x30b86e){const _0x3bb8ea=_0x3cd514;this[_0x3bb8ea(0x822)]?.[_0x3bb8ea(0x487)](_0x562808,_0x30b86e);}['removeTrack'](_0x4f0b99,_0x458a24){const _0x187ebf=_0x3cd514;this[_0x187ebf(0x822)]?.[_0x187ebf(0x6a4)](_0x4f0b99,_0x458a24);}async[_0x3cd514(0x4d4)](_0x5aab2d){const _0x2798b5=_0x3cd514;_0x61b339[_0x2798b5(0x8b2)](_0x5ce311[_0x2798b5(0x7f9)],_0x2798b5(0x357),this[_0x2798b5(0x858)](),_0x5aab2d);const {content:_0x14d3d0}=_0x5aab2d;switch(_0x14d3d0['type']){case _0x47c2b4[_0x2798b5(0x3a4)]:await this[_0x2798b5(0xe5)](_0x14d3d0);break;case _0x47c2b4[_0x2798b5(0x966)]:await this[_0x2798b5(0x4c2)](_0x14d3d0);break;case _0x47c2b4['Success']:this[_0x2798b5(0x5c7)]();break;case _0x47c2b4[_0x2798b5(0x100)]:await this[_0x2798b5(0x717)](_0x14d3d0);break;case _0x47c2b4[_0x2798b5(0x659)]:this[_0x2798b5(0x653)](_0x14d3d0);break;case _0x47c2b4[_0x2798b5(0x247)]:await this[_0x2798b5(0x94b)]();}}[_0x3cd514(0x39a)](_0x25abb8){const _0x45897b=_0x3cd514;this[_0x45897b(0x822)]?.[_0x45897b(0x655)](_0x25abb8[_0x45897b(0x1cb)][_0x45897b(0x66f)]);}[_0x3cd514(0x8f6)](){const _0x196bec=_0x3cd514;return this[_0x196bec(0x49b)];}[_0x3cd514(0x142)](_0x4d8bbd){const _0x4fd59c=_0x3cd514;this[_0x4fd59c(0x49b)]=_0x4d8bbd,this[_0x4fd59c(0x822)]?.[_0x4fd59c(0x142)](_0x4d8bbd),this[_0x4fd59c(0x8b3)]?.['setConnectionType'](_0x4d8bbd);}async[_0x3cd514(0x641)](){const _0x53bf42=_0x3cd514;await this['senderConnection']?.[_0x53bf42(0x641)](),await this[_0x53bf42(0x8b3)]?.[_0x53bf42(0x641)]();}[_0x3cd514(0x89c)](){const _0x119610=_0x3cd514;return this[_0x119610(0x822)]?.[_0x119610(0x89c)]()??0x0;}[_0x3cd514(0x12c)](){const _0xa0608=_0x3cd514;return this[_0xa0608(0x822)]?.['getBufferedAmount']()??0x0;}[_0x3cd514(0x308)](){const _0x8844b2=_0x3cd514;this['listenerUnsubscribers'][_0x8844b2(0x63b)](this[_0x8844b2(0x6f1)](_0x2d6535=>{const _0x384940=_0x8844b2;_0x5e6003(_0x2d6535,this[_0x384940(0x858)]())&&0x0!==_0x2d6535[_0x384940(0x4aa)]&&this['dataTopics'][_0x384940(0x31f)](_0x2d6535[_0x384940(0x4aa)])?.[_0x384940(0x19e)](_0x2d6535);})),this[_0x8844b2(0x887)]['push'](this[_0x8844b2(0x1c3)]((_0x2a098d,_0x1f418e)=>{const _0x238805=_0x8844b2,_0x346def=_0x92bf3c(_0x3cfea6['ContentType'][_0x238805(0x562)],_0x1f418e['id'],this['remoteId']);this[_0x238805(0x813)]['get'](_0x346def)?.[_0x238805(0x19e)]({'topicLabel':_0x346def,'sourceId':this[_0x238805(0x8e6)],'contentType':_0x3cfea6[_0x238805(0x9b0)]['Media'],'content':{'action':_0x5e6dd6[_0x238805(0x186)],'track':_0x2a098d,'stream':_0x1f418e,'providerId':this[_0x238805(0x8e6)]}});})),this[_0x8844b2(0x887)][_0x8844b2(0x63b)](this[_0x8844b2(0x502)]((_0x1daf96,_0x4908ef)=>{const _0x4e9010=_0x8844b2,_0x3185bc=_0x92bf3c(_0x3cfea6[_0x4e9010(0x9b0)][_0x4e9010(0x562)],_0x4908ef['id'],this['remoteId']);this['mediaTopics'][_0x4e9010(0x31f)](_0x3185bc)?.[_0x4e9010(0x19e)]({'topicLabel':_0x3185bc,'sourceId':this[_0x4e9010(0x8e6)],'contentType':_0x3cfea6['ContentType']['Media'],'content':{'action':_0x5e6dd6[_0x4e9010(0x9c9)],'track':_0x1daf96,'stream':_0x4908ef,'providerId':this['remoteId']}});}));}[_0x3cd514(0x717)]({candidates:_0x36caed,origin:_0x146e03,version:_0x232734}){const _0x2a00a5=_0x3cd514;return _0x146e03===_0x5a23be['Sender']?(this[_0x2a00a5(0x8b3)]||this['createReceiverConnection'](),this[_0x2a00a5(0x8b3)][_0x2a00a5(0x43f)](_0x36caed,_0x232734)):this[_0x2a00a5(0x822)][_0x2a00a5(0x43f)](_0x36caed,_0x232734);}async[_0x3cd514(0x94b)](){const _0x2b99a8=_0x3cd514;this[_0x2b99a8(0x822)]||this[_0x2b99a8(0x1bc)](),await this[_0x2b99a8(0x822)]['createOffer']();}async['handleOffer']({offer:_0x140f1d,version:_0x5d5f49}){const _0x4fe40c=_0x3cd514;this[_0x4fe40c(0x8b3)]||this[_0x4fe40c(0x328)](),await this[_0x4fe40c(0x8b3)][_0x4fe40c(0xe5)](_0x140f1d,_0x5d5f49);}async[_0x3cd514(0x4c2)]({answer:_0x2d0b86,version:_0x311c68}){const _0x1c859b=_0x3cd514;if(!this[_0x1c859b(0x822)])throw new _0xa369e8(_0xa369e8['codes'][_0x1c859b(0x90a)],{'message':_0x1c859b(0x96b),'localId':this['getLocalId'](),'remoteId':this['remoteId'],'answer':_0x2d0b86});await this[_0x1c859b(0x822)]['handleAnswer'](_0x2d0b86,_0x311c68);}[_0x3cd514(0x5c7)](){const _0x53916f=_0x3cd514;if(!this[_0x53916f(0x8b3)])throw new _0xa369e8(_0xa369e8[_0x53916f(0x98c)][_0x53916f(0x90a)],{'message':_0x53916f(0x274),'localId':this['getLocalId'](),'remoteId':this['remoteId']});this[_0x53916f(0x8b3)][_0x53916f(0x5c7)](),this[_0x53916f(0x21f)]||this[_0x53916f(0x49b)]!==_0x3b5379[_0x53916f(0x5e2)]||(this[_0x53916f(0x21f)]=!0x0,this[_0x53916f(0x917)]?.[_0x53916f(0x19e)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x53916f(0x858)]()],'messageType':_0xca4838[_0x53916f(0x3d9)],'content':{'type':_0x47c2b4[_0x53916f(0x2ff)]}}));}[_0x3cd514(0x653)](_0x72de2a){const _0xd743ee=_0x3cd514;this[_0xd743ee(0x8b3)]||this[_0xd743ee(0x328)](),this[_0xd743ee(0x8b3)][_0xd743ee(0x653)](_0x72de2a[_0xd743ee(0x67f)]);}[_0x3cd514(0x1bc)](){const _0x5cb29b=_0x3cd514;this[_0x5cb29b(0x822)]=new _0x581e32(this[_0x5cb29b(0x4cb)],this[_0x5cb29b(0x780)],this[_0x5cb29b(0x8e6)],this[_0x5cb29b(0x92b)],this[_0x5cb29b(0x49b)],this[_0x5cb29b(0x5e7)],this[_0x5cb29b(0x87d)],this['connectionConstructor']),this[_0x5cb29b(0x822)][_0x5cb29b(0x340)](this['systemTopic']);}[_0x3cd514(0x328)](){const _0x4f08d9=_0x3cd514;this[_0x4f08d9(0x8b3)]=new _0x390689(this['clusterId'],this['localNode'],this['remoteId'],this['iceServers'],this[_0x4f08d9(0x49b)],this[_0x4f08d9(0x2d0)]),this['receiverConnection'][_0x4f08d9(0x340)](this[_0x4f08d9(0x917)]),this[_0x4f08d9(0x517)][_0x4f08d9(0x63b)](this[_0x4f08d9(0x8b3)][_0x4f08d9(0x6f1)](_0x26d6d4=>this[_0x4f08d9(0x101)]['publish'](_0x26d6d4))),this['receiverUnsubscribers'][_0x4f08d9(0x63b)](this[_0x4f08d9(0x8b3)][_0x4f08d9(0x1c3)]((_0x5322fe,_0x4a039e)=>this[_0x4f08d9(0x2dc)][_0x4f08d9(0x19e)]({'track':_0x5322fe,'stream':_0x4a039e}))),this[_0x4f08d9(0x517)][_0x4f08d9(0x63b)](this[_0x4f08d9(0x8b3)][_0x4f08d9(0x502)]((_0x1f140e,_0x3ff647)=>this[_0x4f08d9(0x53a)][_0x4f08d9(0x19e)]({'track':_0x1f140e,'stream':_0x3ff647})));}}class _0x48d1c7{[_0x3cd514(0x53c)];['messageBuffer'];['graphService'];['connections']=new Map();['messageListeners']=_0x214ef4();[_0x3cd514(0x166)];[_0x3cd514(0x707)]=new Map();[_0x3cd514(0x1c4)]=new Map();[_0x3cd514(0x3a5)]=new Map();constructor(_0x49152b,_0x389507,_0x401b49){const _0x29307a=_0x3cd514;this[_0x29307a(0x53c)]=_0x49152b,this[_0x29307a(0x144)]=_0x389507,this[_0x29307a(0x31a)]=_0x401b49,this[_0x29307a(0x166)]=this[_0x29307a(0x6f1)](_0x1c9b0e=>{const _0x16ba33=_0x29307a;this[_0x16ba33(0x144)]['hasMessage'](_0x1c9b0e[_0x16ba33(0x5da)])||(_0x5e6003(_0x1c9b0e,this['localId'])&&0x0!==_0x1c9b0e[_0x16ba33(0x4aa)]&&(this['messageBuffer'][_0x16ba33(0x76e)](_0x1c9b0e[_0x16ba33(0x5da)]),this['dataTopics']['get'](_0x1c9b0e[_0x16ba33(0x4aa)])?.[_0x16ba33(0x19e)](_0x1c9b0e)),_0x1c9b0e[_0x16ba33(0x36a)]&&this['send'](_0x1c9b0e));});}['close'](){this['messageUnsubscriber']?.();}['addConnection'](_0x468258){const _0x46751d=_0x3cd514,_0x2c5615=_0x468258[_0x46751d(0x6f1)](_0x40413b=>{const _0x31f1f6=_0x46751d;this[_0x31f1f6(0x101)][_0x31f1f6(0x19e)](_0x40413b);});this[_0x46751d(0x5e6)]['set'](_0x468258,_0x2c5615),this['retryQueues'][_0x46751d(0x282)](_0x468258[_0x46751d(0x551)](),function(_0x4849a1,_0x270895=!0x1){let _0x25e7ed=new Map();const _0x3b5fa0=_0x26b136(_0x4849a1,_0x270895,function(_0x1de333){const _0x64ebef=a0_0x2e46;_0x226660(_0x1de333)&&_0x25e7ed[_0x64ebef(0x6f9)](_0x1de333[_0x64ebef(0x118)]+'-'+(_0x1de333[_0x64ebef(0x90f)]??[])+'-'+_0x1de333['messageType']+'-'+_0x1de333['content'][_0x64ebef(0x3a7)]);},function(_0x52c2c2){return!!function(_0x3a18ba){const _0x158331=a0_0x2e46,_0x1a7001=_0x3a18ba[_0x158331(0x682)];if(!_0x226660(_0x1a7001))return!0x1;const _0x3748c1=_0x1a7001[_0x158331(0x118)]+'-'+(_0x1a7001[_0x158331(0x90f)]??[])+'-'+_0x1a7001[_0x158331(0x34b)]+'-'+_0x1a7001[_0x158331(0x1cb)]['type'],_0x258e3c={'version':_0x1a7001['content'][_0x158331(0x67f)],'element':_0x3a18ba},_0x4f4316=_0x25e7ed[_0x158331(0x31f)](_0x3748c1);return _0x4f4316?(_0x4f4316[_0x158331(0x67f)]>=_0x1a7001[_0x158331(0x1cb)][_0x158331(0x67f)]||(_0x4f4316[_0x158331(0x1e1)][_0x158331(0x41f)]&&(_0x4f4316[_0x158331(0x1e1)]['previous'][_0x158331(0x6d0)]=_0x3a18ba,_0x3a18ba['previous']=_0x4f4316['element'][_0x158331(0x41f)]),_0x4f4316[_0x158331(0x1e1)][_0x158331(0x6d0)]&&(_0x4f4316[_0x158331(0x1e1)][_0x158331(0x6d0)]['previous']=_0x3a18ba,_0x3a18ba[_0x158331(0x6d0)]=_0x4f4316[_0x158331(0x1e1)][_0x158331(0x6d0)]),_0x4f4316[_0x158331(0x1e1)]===_0x3b5fa0[_0x158331(0x864)]&&(_0x3b5fa0[_0x158331(0x864)]=_0x3a18ba),_0x4f4316[_0x158331(0x1e1)]===_0x3b5fa0[_0x158331(0x3f2)]&&(_0x3b5fa0['tail']=_0x3a18ba),_0x25e7ed[_0x158331(0x282)](_0x3748c1,_0x258e3c)),!0x0):(_0x25e7ed[_0x158331(0x282)](_0x3748c1,_0x258e3c),!0x1);}(_0x52c2c2);},function(){const _0x5ade42=a0_0x2e46;_0x25e7ed[_0x5ade42(0x921)]();});function _0x226660(_0x1e3cec){const _0x127302=a0_0x2e46;if(_0x1e3cec&&_0x127302(0x7e0)==typeof _0x1e3cec&&_0x1e3cec[_0x127302(0x2fb)]('content')&&_0x1e3cec[_0x127302(0x2fb)](_0x127302(0x34b))&&_0x1e3cec[_0x127302(0x2fb)]('sourceId')){const _0x1251a9=_0x1e3cec;if(_0x1251a9[_0x127302(0x1cb)]&&_0x127302(0x7e0)==typeof _0x1251a9['content']&&_0x1251a9[_0x127302(0x1cb)][_0x127302(0x2fb)](_0x127302(0x67f))&&_0x1251a9[_0x127302(0x1cb)][_0x127302(0x2fb)](_0x127302(0x3a7)))return!0x0;}return!0x1;}return _0x3b5fa0;}(new _0x4afff0(_0xa7f4ab=>_0x468258[_0x46751d(0x13f)](_0xa7f4ab),()=>_0x1bfa0c[_0x46751d(0x12a)](0x64))));}[_0x3cd514(0x2c9)](_0x4c4212){const _0x1cf834=_0x3cd514;this[_0x1cf834(0x5e6)]['get'](_0x4c4212)?.(),this[_0x1cf834(0x5e6)][_0x1cf834(0x6f9)](_0x4c4212),this['retryQueues'][_0x1cf834(0x31f)](_0x4c4212['getRemoteId']())?.[_0x1cf834(0x921)](),this['retryQueues'][_0x1cf834(0x6f9)](_0x4c4212['getRemoteId']());}['isConnected'](_0x12dd6f){const _0x388471=_0x3cd514;return _0x61b339['log'](_0x5ce311['ConnectionState'],_0x388471(0x852),this[_0x388471(0x53c)],this[_0x388471(0x5e6)][_0x388471(0x298)]()),0x0!==this['connections']['size']&&(Array['from'](this[_0x388471(0x5e6)][_0x388471(0x298)]())[_0x388471(0x833)](_0x111e34=>_0x111e34['getRemoteId']()===_0x12dd6f)?.[_0x388471(0x912)]()??!0x1);}['registerPublisher'](_0x330ec7){const _0x1d3d70=_0x3cd514;this[_0x1d3d70(0x707)][_0x1d3d70(0x282)](_0x330ec7[_0x1d3d70(0x24e)](),_0x330ec7);}['unregisterPublisher'](_0x2a434c){const _0x3143d4=_0x3cd514;this[_0x3143d4(0x707)][_0x3143d4(0x6f9)](_0x2a434c['getLabel']());}[_0x3cd514(0x503)](_0x5247e2){const _0x1a4ae6=_0x3cd514,_0x2847ba=_0x5247e2[_0x1a4ae6(0x5a5)](this[_0x1a4ae6(0x13f)][_0x1a4ae6(0x4d0)](this));this['dataUnsubscribers'][_0x1a4ae6(0x282)](_0x5247e2[_0x1a4ae6(0x24e)](),_0x2847ba);}[_0x3cd514(0x48c)](_0x1d27f2){const _0x2fba44=_0x3cd514;this['dataUnsubscribers'][_0x2fba44(0x31f)](_0x1d27f2[_0x2fba44(0x24e)]())?.(),this[_0x2fba44(0x1c4)][_0x2fba44(0x6f9)](_0x1d27f2[_0x2fba44(0x24e)]());}[_0x3cd514(0x2bc)](){const _0x248771=_0x3cd514;return[_0x3cfea6[_0x248771(0x9b0)][_0x248771(0x85d)],_0x3cfea6[_0x248771(0x9b0)][_0x248771(0x242)],_0x3cfea6[_0x248771(0x9b0)][_0x248771(0x112)],_0x3cfea6[_0x248771(0x9b0)][_0x248771(0x588)],_0x3cfea6[_0x248771(0x9b0)][_0x248771(0x5d5)],_0x3cfea6[_0x248771(0x9b0)][_0x248771(0x24d)],_0x3cfea6[_0x248771(0x9b0)][_0x248771(0x374)],_0x3cfea6[_0x248771(0x9b0)][_0x248771(0x56b)]];}[_0x3cd514(0x13f)](_0x53c3e7){const _0x1abd07=_0x3cd514;if(!0x1===_0x53c3e7[_0x1abd07(0x632)]){if(_0x53c3e7['propagate']||!_0x53c3e7['destinationIds']||0x1!==_0x53c3e7[_0x1abd07(0x90f)][_0x1abd07(0x4f4)])throw new _0xa369e8(_0xa369e8['codes'][_0x1abd07(0x6fa)],{'message':_0x1abd07(0x589),'localId':this['localId']});if(!this[_0x1abd07(0x912)](_0x53c3e7['destinationIds'][0x0]))throw new _0x89ef13(_0x1abd07(0x4fd));}const _0x1cb362=_0x53c3e7[_0x1abd07(0x306)]??[];try{const {filteredDestinationIds:_0x32037c,extendedRecipients:_0x202a60}=this[_0x1abd07(0x782)](_0x53c3e7,_0x1cb362);_0x53c3e7[_0x1abd07(0x90f)]=_0x32037c,_0x53c3e7[_0x1abd07(0x306)]=_0x202a60;}catch(_0x4b6cd2){if(_0x4b6cd2 instanceof _0x89ef13)return void _0x61b339[_0x1abd07(0x8b2)](_0x5ce311[_0x1abd07(0x7f9)],_0x1abd07(0x639),_0x1abd07(0x4f0),_0x53c3e7,_0x4b6cd2[_0x1abd07(0xfe)]);}const _0x276ff8=this['shouldContinuePropagation'](_0x53c3e7);this[_0x1abd07(0x4de)](_0x53c3e7,_0x276ff8),_0x53c3e7['propagate']=_0x276ff8;const _0x3179ff=this[_0x1abd07(0x95c)](_0x53c3e7,_0x1cb362);for(const _0x355944 of _0x3179ff){const _0xb8055e=this['retryQueues'][_0x1abd07(0x31f)](_0x355944[_0x1abd07(0x551)]());if(!_0xb8055e)throw new _0xa369e8(_0xa369e8[_0x1abd07(0x98c)]['ConnectionNoRetryQueue'],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this['localId'],'remoteId':_0x355944[_0x1abd07(0x551)](),'data':_0x53c3e7});_0xb8055e[_0x1abd07(0x63b)](_0x53c3e7);}}[_0x3cd514(0x551)](){return'';}[_0x3cd514(0x858)](){return this['localId'];}[_0x3cd514(0x6f1)](_0x15ab14){const _0x375df5=_0x3cd514;return this[_0x375df5(0x101)]['subscribe'](_0x15ab14);}[_0x3cd514(0x782)](_0x4df6f8,_0x1da41a){const _0x5d7b84=_0x3cd514,_0x1e9ef4={'filteredDestinationIds':_0x4df6f8[_0x5d7b84(0x90f)],'extendedRecipients':_0x4df6f8[_0x5d7b84(0x306)]};if(!_0x4df6f8[_0x5d7b84(0x36a)])return _0x1e9ef4;const _0x534ac0=Array[_0x5d7b84(0x88a)](this[_0x5d7b84(0x5e6)][_0x5d7b84(0x298)]())['filter'](_0x73854f=>_0x73854f[_0x5d7b84(0x8f6)]()===_0x3b5379[_0x5d7b84(0x2e9)]||_0x73854f[_0x5d7b84(0x912)]())['map'](_0x439cdf=>_0x439cdf[_0x5d7b84(0x551)]());if(_0x534ac0['reduce']((_0x2cab7d,_0x598933)=>_0x2cab7d&&_0x4df6f8[_0x5d7b84(0x306)][_0x5d7b84(0x135)](_0x598933),!0x0))throw new _0x89ef13('All\x20recipients\x20already\x20received');if(_0x4df6f8[_0x5d7b84(0x90f)]){const _0x259067=_0x4df6f8['destinationIds'][_0x5d7b84(0x4d1)](_0x3c8121=>_0x3c8121!==this['localId']&&!_0x4df6f8['recipients']['includes'](_0x3c8121));if(0x0===_0x259067[_0x5d7b84(0x4f4)])throw new _0x89ef13(_0x5d7b84(0x7d1));_0x1e9ef4[_0x5d7b84(0x75a)]=_0x259067;}return _0x1e9ef4['extendedRecipients']=[...new Set([..._0x1da41a,..._0x534ac0,this[_0x5d7b84(0x53c)]])],_0x1e9ef4;}[_0x3cd514(0x4de)](_0x47e87a,_0x4cc5ee=!0x1){const _0x41bea0=_0x3cd514;if(0x0===_0x47e87a['topicLabel']&&!_0x2f4409(_0x47e87a,this[_0x41bea0(0x53c)])&&_0x47e87a[_0x41bea0(0x36a)]){const _0x477dc8=_0x107c4b(_0x47e87a,this['localId']);_0x61b339[_0x41bea0(0x970)](_0x5ce311[_0x41bea0(0x612)],_0x47e87a[_0x41bea0(0x5da)]+_0x41bea0(0x806)+_0x4cc5ee+')\x20'+_0x477dc8,_0x47e87a,_0x4cc5ee);}}[_0x3cd514(0x1b0)](_0x434fa0){const _0x295b3a=_0x3cd514;if(_0x434fa0[_0x295b3a(0x90f)]&&_0x434fa0[_0x295b3a(0x36a)]){const _0x4c7903=Array[_0x295b3a(0x88a)](this['connections'][_0x295b3a(0x298)]())[_0x295b3a(0x4d1)](_0x25b381=>_0x25b381[_0x295b3a(0x8f6)]()===_0x3b5379[_0x295b3a(0x2e9)]||_0x25b381['isConnected']())[_0x295b3a(0x730)](_0x333d93=>_0x333d93[_0x295b3a(0x551)]());return!_0x434fa0[_0x295b3a(0x90f)]['reduce']((_0x59044c,_0x5902dd)=>_0x59044c&&_0x4c7903[_0x295b3a(0x135)](_0x5902dd),!0x0);}return _0x434fa0[_0x295b3a(0x36a)]??!0x1;}[_0x3cd514(0x95c)](_0x24f54c,_0xf9085d){const _0x1eaf61=_0x3cd514;if(_0x24f54c['propagate']&&_0x24f54c[_0x1eaf61(0x90f)]){const _0x4a0b3b=Array[_0x1eaf61(0x88a)](this['connections'][_0x1eaf61(0x298)]())['filter'](_0xd49634=>_0xd49634[_0x1eaf61(0x8f6)]()===_0x3b5379[_0x1eaf61(0x2e9)]||_0xd49634[_0x1eaf61(0x912)]())[_0x1eaf61(0x730)](_0x27f4ac=>_0x27f4ac[_0x1eaf61(0x551)]()),_0x26d3fc=new Set(),_0x3fa43e=_0x24f54c[_0x1eaf61(0x118)]===this[_0x1eaf61(0x53c)]?0x3:0x1;return _0x24f54c[_0x1eaf61(0x90f)][_0x1eaf61(0x753)](_0x2ddb52=>{const _0x52cc2d=_0x1eaf61,_0x5f37f5=this[_0x52cc2d(0x31a)][_0x52cc2d(0x372)](_0x4a0b3b,_0x2ddb52);let _0x43179a=0x0,_0x340a2c=0x0;_0x5f37f5[_0x52cc2d(0x753)](_0x5d7770=>{const _0x239d19=_0x52cc2d;if(_0x43179a>=_0x3fa43e)return;const _0x399c61=Array[_0x239d19(0x88a)](this[_0x239d19(0x5e6)]['keys']())[_0x239d19(0x833)](_0x290029=>_0x290029['getRemoteId']()===_0x5d7770);if(_0x399c61){if(_0x399c61['getConnectionType']()===_0x3b5379[_0x239d19(0x2e9)]&&_0x340a2c>0x0)return void(_0x340a2c-=0x1);_0x26d3fc[_0x239d19(0x6aa)](_0x399c61),_0x399c61[_0x239d19(0x8f6)]()===_0x3b5379[_0x239d19(0x5e2)]&&(_0x340a2c+=0x1),_0x43179a+=0x1;}});}),Array[_0x1eaf61(0x88a)](_0x26d3fc);}return Array[_0x1eaf61(0x88a)](this['connections'][_0x1eaf61(0x298)]())['filter'](_0x5307c4=>{const _0x47e169=_0x1eaf61;return _0x8fdddb=_0x5307c4[_0x47e169(0x551)](),!_0xf9085d['includes'](_0x8fdddb)&&(_0x5e6003(_0x24f54c,_0x8fdddb)||_0x24f54c[_0x47e169(0x36a)])&&(!_0x24f54c[_0x47e169(0x36a)]||_0x5307c4['isConnected']()||_0x5307c4['getConnectionType']()===_0x3b5379[_0x47e169(0x2e9)]);var _0x8fdddb;});}}class _0x239503{['localId'];['messageBuffer'];['connections']=new Map();[_0x3cd514(0x917)];constructor(_0x4f8533,_0x18fb53){const _0x49b664=_0x3cd514;this[_0x49b664(0x53c)]=_0x4f8533,this['messageBuffer']=_0x18fb53;}[_0x3cd514(0x8aa)](){}[_0x3cd514(0x13f)](_0x5229a8){const _0x1a0cb1=_0x3cd514;for(const _0x1b6438 of this[_0x1a0cb1(0x5e6)][_0x1a0cb1(0x298)]())try{return void _0x1b6438[_0x1a0cb1(0x13f)]({'retry':!0x1,..._0x5229a8});}catch(_0x1b9398){_0x1b9398 instanceof _0x89ef13||_0x61b339['log'](_0x5ce311['Pool'],_0x1a0cb1(0x7ed)+_0x1b6438,_0x1b9398,_0x5229a8);}_0x61b339['log'](_0x5ce311[_0x1a0cb1(0x67b)],_0x1a0cb1(0x4f8));}[_0x3cd514(0x9ad)](_0x556c37){const _0x1e3f9d=_0x3cd514,_0x2cb518=_0x556c37[_0x1e3f9d(0x6f1)](_0x53ae35=>{const _0x29ba41=_0x1e3f9d;this[_0x29ba41(0x144)][_0x29ba41(0x23b)](_0x53ae35[_0x29ba41(0x5da)])||0x0===_0x53ae35[_0x29ba41(0x4aa)]&&(this['messageBuffer'][_0x29ba41(0x76e)](_0x53ae35['uuid']),_0x5e6003(_0x53ae35,this[_0x29ba41(0x53c)])&&this[_0x29ba41(0x917)]?.[_0x29ba41(0x19e)](_0x53ae35));});this[_0x1e3f9d(0x5e6)][_0x1e3f9d(0x282)](_0x556c37,_0x2cb518);}[_0x3cd514(0x2c9)](_0x10a90f){const _0x26d293=_0x3cd514;this[_0x26d293(0x5e6)]['get'](_0x10a90f)?.(),this['connections'][_0x26d293(0x6f9)](_0x10a90f);}[_0x3cd514(0x858)](){return this['localId'];}[_0x3cd514(0x551)](){return'';}[_0x3cd514(0x2bc)](){const _0x3a36b4=_0x3cd514;return[_0x3cfea6[_0x3a36b4(0x9b0)][_0x3a36b4(0x85d)]];}[_0x3cd514(0x912)](){throw new Error('Method\x20not\x20implemented.');}[_0x3cd514(0x340)](_0x536085){const _0x4ac4bc=_0x3cd514;this[_0x4ac4bc(0x917)]=_0x536085;}[_0x3cd514(0x7b7)](){const _0x566e97=_0x3cd514;delete this[_0x566e97(0x917)];}}class _0x1448a2{[_0x3cd514(0x902)]=new Map();[_0x3cd514(0x4a6)];constructor(){const _0xd97aae=_0x3cd514;this['unsubscribeHandler']=_0x1bfa0c[_0xd97aae(0x37b)](()=>{const _0x484500=_0xd97aae;for(const [_0x3ee943,_0x2b3a68]of this[_0x484500(0x902)]['entries']())Date[_0x484500(0x498)]()-_0x2b3a68>0x124f80&&this[_0x484500(0x902)]['delete'](_0x3ee943);},0x1d4c0);}[_0x3cd514(0x8aa)](){this['unsubscribeHandler']();}[_0x3cd514(0x76e)](_0x254543){const _0xa20633=_0x3cd514;this[_0xa20633(0x902)]['set'](_0x254543,Date[_0xa20633(0x498)]());}['hasMessage'](_0x5927a8){const _0x20e039=_0x3cd514;return this[_0x20e039(0x902)]['has'](_0x5927a8);}}class _0x35ec58{['configs'];[_0x3cd514(0x1e4)];[_0x3cd514(0x92b)];[_0x3cd514(0x9aa)];['connections']=new Map();[_0x3cd514(0x56e)];[_0x3cd514(0x315)];[_0x3cd514(0x6c0)];[_0x3cd514(0x144)];constructor(_0x9b5e7b,_0x687367,_0x22437d,_0x11b804,_0x426672){const _0x147556=_0x3cd514;this['configs']=_0x9b5e7b,this[_0x147556(0x1e4)]=_0x687367,this[_0x147556(0x92b)]=_0x11b804,this[_0x147556(0x9aa)]=_0x426672,this['messageBuffer']=new _0x1448a2(),this['connectionGroup']=new _0x48d1c7(this[_0x147556(0x35d)]['localNode'][_0x147556(0x47f)](),this[_0x147556(0x144)],_0x22437d),this[_0x147556(0x6c0)]=new _0xcd8926(this[_0x147556(0x35d)]['vendorId'],this[_0x147556(0x35d)][_0x147556(0x4cb)],this[_0x147556(0x35d)][_0x147556(0x780)],_0x147556(0x355),this[_0x147556(0x1e4)]),this[_0x147556(0x56e)]=new _0x239503(this[_0x147556(0x35d)][_0x147556(0x780)]['getId'](),this[_0x147556(0x144)]),this[_0x147556(0x56e)][_0x147556(0x9ad)](this[_0x147556(0x315)]),this[_0x147556(0x56e)]['addConnection'](this[_0x147556(0x6c0)]),this[_0x147556(0x35d)]['mediator'][_0x147556(0x9a9)](this[_0x147556(0x56e)]);}[_0x3cd514(0x8aa)](){const _0x4a1edc=_0x3cd514;this['messageBuffer'][_0x4a1edc(0x8aa)](),this['connections'][_0x4a1edc(0x753)]((_0x30aecb,_0x49aaf9)=>this[_0x4a1edc(0x428)](_0x49aaf9)),this[_0x4a1edc(0x35d)][_0x4a1edc(0x2df)][_0x4a1edc(0x9c1)](this[_0x4a1edc(0x56e)]),this[_0x4a1edc(0x56e)][_0x4a1edc(0x2c9)](this[_0x4a1edc(0x6c0)]),this[_0x4a1edc(0x56e)][_0x4a1edc(0x2c9)](this[_0x4a1edc(0x315)]),this[_0x4a1edc(0x56e)][_0x4a1edc(0x8aa)](),this[_0x4a1edc(0x6c0)][_0x4a1edc(0x8aa)](),this[_0x4a1edc(0x315)][_0x4a1edc(0x8aa)]();}async[_0x3cd514(0x34a)](){const _0x412f90=_0x3cd514;await this[_0x412f90(0x6c0)]['connect']();}async[_0x3cd514(0x35c)](_0x4768b6,_0x2d1605=_0x3b5379['Core']){const _0x5247a5=_0x3cd514;if(this['connections'][_0x5247a5(0x31e)](_0x4768b6)){if(this['connections'][_0x5247a5(0x31f)](_0x4768b6)?.[_0x5247a5(0x8f6)]()===_0x3b5379[_0x5247a5(0x5e2)]&&_0x2d1605===_0x3b5379[_0x5247a5(0x2e9)])return void this[_0x5247a5(0x5e6)][_0x5247a5(0x31f)](_0x4768b6)?.[_0x5247a5(0x142)](_0x3b5379['Core']);throw new _0xa369e8(_0xa369e8['codes'][_0x5247a5(0x376)],{'localId':this[_0x5247a5(0x35d)][_0x5247a5(0x780)][_0x5247a5(0x47f)](),'remoteId':_0x4768b6});}const _0x2e8906=new _0x463561(this[_0x5247a5(0x35d)][_0x5247a5(0x4cb)],this[_0x5247a5(0x35d)][_0x5247a5(0x780)],_0x4768b6,this[_0x5247a5(0x92b)],_0x2d1605,this[_0x5247a5(0x9aa)][_0x5247a5(0x5e7)],this[_0x5247a5(0x9aa)][_0x5247a5(0x87d)],this[_0x5247a5(0x9aa)][_0x5247a5(0xcc)]);this[_0x5247a5(0x5e6)][_0x5247a5(0x282)](_0x4768b6,_0x2e8906),this[_0x5247a5(0x315)][_0x5247a5(0x9ad)](_0x2e8906),this[_0x5247a5(0x35d)]['mediator'][_0x5247a5(0x9a9)](_0x2e8906),this['configs'][_0x5247a5(0x2df)][_0x5247a5(0x46e)](_0x4768b6),await _0x2e8906[_0x5247a5(0x61d)]();}[_0x3cd514(0x3e3)](){return this['connectionGroup'];}['getConnection'](_0x2cc6d0){const _0x12d1e2=_0x3cd514;if(!this[_0x12d1e2(0x5e6)][_0x12d1e2(0x31e)](_0x2cc6d0))throw new _0xa369e8(_0xa369e8[_0x12d1e2(0x98c)][_0x12d1e2(0x362)],{'localId':this['configs'][_0x12d1e2(0x780)][_0x12d1e2(0x47f)](),'remoteId':_0x2cc6d0});return this[_0x12d1e2(0x5e6)][_0x12d1e2(0x31f)](_0x2cc6d0);}[_0x3cd514(0x7bc)](_0x4288ef){const _0x9b0f00=_0x3cd514,_0x3c9503=Array[_0x9b0f00(0x88a)](this['connections'][_0x9b0f00(0x699)]());return _0x4288ef?_0x3c9503['filter'](_0x4288ef):_0x3c9503;}async[_0x3cd514(0x641)](_0x27470e){const _0x123e64=_0x3cd514,_0x2e1fe5=this['connections'][_0x123e64(0x31f)](_0x27470e);_0x2e1fe5&&_0x2e1fe5[_0x123e64(0x912)]()&&await _0x2e1fe5[_0x123e64(0x641)]();}[_0x3cd514(0x3a3)](_0x5825a4){const _0x530abc=_0x3cd514;if(_0x5825a4[_0x530abc(0x34b)]!==_0xca4838[_0x530abc(0x3d9)]||_0x5825a4[_0x530abc(0x36a)])try{this['connectionGroup'][_0x530abc(0x13f)](_0x5825a4);}catch(_0x3af406){if(_0x3af406 instanceof _0x89ef13)return;throw _0x3af406;}else this[_0x530abc(0x56e)][_0x530abc(0x13f)](_0x5825a4);}async[_0x3cd514(0x4d4)](_0x1595e8){const _0x399e86=_0x3cd514;switch(_0x1595e8['content']['type']){case _0x47c2b4['Disconnect']:case _0x47c2b4[_0x399e86(0x3dc)]:case _0x47c2b4[_0x399e86(0x2ff)]:return;}if(!_0x1595e8[_0x399e86(0x90f)]||0x1!==_0x1595e8[_0x399e86(0x90f)][_0x399e86(0x4f4)])throw new _0xa369e8(_0xa369e8['codes']['PeerConnectionInvalidDestination'],{'message':_0x399e86(0x69b),'event':_0x1595e8});if(_0x1595e8[_0x399e86(0x90f)][0x0]!==this[_0x399e86(0x35d)][_0x399e86(0x780)][_0x399e86(0x47f)]())throw new _0xa369e8(_0xa369e8['codes'][_0x399e86(0x7a0)],{'message':_0x399e86(0x4fe),'event':_0x1595e8});if(!this['connections'][_0x399e86(0x31e)](_0x1595e8[_0x399e86(0x118)])){let _0x5ebc0d=_0x3b5379[_0x399e86(0x2e9)];if(!(this['isOffer'](_0x1595e8[_0x399e86(0x1cb)])||this['isIceCandidate'](_0x1595e8[_0x399e86(0x1cb)])||this['isNeedRestart'](_0x1595e8[_0x399e86(0x1cb)])))return;_0x5ebc0d=_0x1595e8['content'][_0x399e86(0x49b)],await this['createConnection'](_0x1595e8[_0x399e86(0x118)],_0x5ebc0d);}const _0x1a4705=this[_0x399e86(0x5e6)][_0x399e86(0x31f)](_0x1595e8[_0x399e86(0x118)]);await _0x1a4705[_0x399e86(0x4d4)](_0x1595e8);}[_0x3cd514(0x39a)](_0x182a47){const _0x4db9bc=_0x3cd514;if(_0x182a47['content'][_0x4db9bc(0x3a7)]===_0x590dbd['Remediation']){if(_0x182a47[_0x4db9bc(0x1cb)][_0x4db9bc(0x66a)]===this['configs'][_0x4db9bc(0x780)]['getId']())return void this['connections'][_0x4db9bc(0x753)](_0x4f50b6=>_0x4f50b6[_0x4db9bc(0x39a)](_0x182a47));this[_0x4db9bc(0x5e6)][_0x4db9bc(0x31f)](_0x182a47['content']['targetId'])?.[_0x4db9bc(0x39a)](_0x182a47);}}[_0x3cd514(0x530)]({content:_0xf83323}){const _0x5418ce=_0x3cd514;_0xf83323[_0x5418ce(0x3a7)]===_0x3a3a6a[_0x5418ce(0x3b5)]&&this[_0x5418ce(0x428)](_0xf83323['id']);}[_0x3cd514(0x483)](){const _0x182884=_0x3cd514,_0xe07f1=Array['from'](this['connections'][_0x182884(0x699)]())[_0x182884(0x256)]((_0x1b03bf,_0x446143)=>_0x1b03bf+_0x446143[_0x182884(0x89c)](),0x0);return _0xe07f1<_0x37a83a?Promise[_0x182884(0x57d)](_0xe07f1):new Promise(_0x10ff08=>{const _0x348b7e=setInterval(()=>{const _0x32b06c=a0_0x2e46,_0x1795d7=Array[_0x32b06c(0x88a)](this['connections'][_0x32b06c(0x699)]())[_0x32b06c(0x256)]((_0x53e2b2,_0x2303f6)=>_0x53e2b2+_0x2303f6['calculateArrayBufferSize'](),0x0);_0x1795d7<_0x37a83a&&(clearInterval(_0x348b7e),_0x10ff08(_0x1795d7));},0x3e8);});}[_0x3cd514(0x4b5)](){const _0x4190d9=_0x3cd514;for(const _0x4d9ea9 of this['connections'][_0x4190d9(0x699)]())if(_0x4d9ea9[_0x4190d9(0x12c)]()>0x0||_0x4d9ea9[_0x4190d9(0x89c)]()>0x0)return!0x0;return!0x1;}[_0x3cd514(0x428)](_0x24f4f8){const _0x103eed=_0x3cd514,_0x2412b5=this[_0x103eed(0x5e6)][_0x103eed(0x31f)](_0x24f4f8);_0x2412b5&&(this[_0x103eed(0x35d)][_0x103eed(0x2df)][_0x103eed(0x560)](_0x24f4f8),this[_0x103eed(0x35d)][_0x103eed(0x2df)][_0x103eed(0x9c1)](_0x2412b5),_0x2412b5 instanceof _0x463561&&this[_0x103eed(0x315)][_0x103eed(0x2c9)](_0x2412b5),_0x2412b5[_0x103eed(0x8aa)](),this[_0x103eed(0x5e6)][_0x103eed(0x6f9)](_0x24f4f8));}[_0x3cd514(0x55d)](_0x47489d){const _0xbdcaa0=_0x3cd514;return _0x47489d[_0xbdcaa0(0x3a7)]===_0x47c2b4[_0xbdcaa0(0x3a4)];}[_0x3cd514(0x3d1)](_0x100071){const _0x3c3e12=_0x3cd514;return _0x100071['type']===_0x47c2b4[_0x3c3e12(0x659)];}[_0x3cd514(0x90d)](_0x3ff9d0){const _0x42bfaf=_0x3cd514;return _0x3ff9d0[_0x42bfaf(0x3a7)]===_0x47c2b4[_0x42bfaf(0x100)];}}!function(_0x4fa143){const _0x423518=_0x3cd514;_0x4fa143[_0x4fa143['SubscribeMediaStream']=0x0]=_0x423518(0x2a2),_0x4fa143[_0x4fa143[_0x423518(0x224)]=0x1]=_0x423518(0x224),_0x4fa143[_0x4fa143[_0x423518(0x295)]=0x2]=_0x423518(0x295),_0x4fa143[_0x4fa143[_0x423518(0x732)]=0x3]=_0x423518(0x732),_0x4fa143[_0x4fa143['RestartNeedMediaStream']=0x4]=_0x423518(0x96f),_0x4fa143[_0x4fa143[_0x423518(0x564)]=0x5]='CanProvideMediaStream',_0x4fa143[_0x4fa143[_0x423518(0x69d)]=0x6]='CannotProvideMediaStream',_0x4fa143[_0x4fa143[_0x423518(0x20b)]=0x7]='MediaStreamUnavailable';}(_0x387829||(_0x387829={}));class _0x42e59a extends _0x38c6ff{[_0x3cd514(0x780)];[_0x3cd514(0x4cb)];[_0x3cd514(0x1a3)];[_0x3cd514(0x9c8)];[_0x3cd514(0x5f4)];['reads']=0x0;[_0x3cd514(0x459)];[_0x3cd514(0x5c9)]=_0x214ef4();[_0x3cd514(0x887)]=new Map();[_0x3cd514(0x8eb)];constructor(_0x304d36,_0x5e91d,_0xd208cc,_0x4430b8,_0x356f45){const _0x1d07dd=_0x3cd514;if(_0x1d07dd(0x1f2)!=typeof _0x5e91d)throw new _0x1e3976(_0x2089de['ExternalStorageNameNotString'],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x304d36,_0x5e91d),this[_0x1d07dd(0x780)]=_0x304d36,this[_0x1d07dd(0x4cb)]=_0xd208cc,this[_0x1d07dd(0x1a3)]=_0x4430b8,this[_0x1d07dd(0x9c8)]=_0x356f45,this[_0x1d07dd(0x44e)]();}[_0x3cd514(0x616)](){const _0x20f758=_0x3cd514;this[_0x20f758(0x8eb)]?.(),this['listenerUnsubscribers'][_0x20f758(0x753)](_0x562cff=>_0x562cff()),clearTimeout(this[_0x20f758(0x5f4)]),delete this[_0x20f758(0x5f4)],super[_0x20f758(0x616)]();}[_0x3cd514(0x32f)](){const _0x1fe4ae=_0x3cd514;this[_0x1fe4ae(0x44e)]();}['close'](){const _0x5daf6c=_0x3cd514;this[_0x5daf6c(0x917)][_0x5daf6c(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x5daf6c(0x739)],'content':{'type':_0x32bee3[_0x5daf6c(0x416)],'label':this['label']}});}['getContentType'](){const _0xe0bcb8=_0x3cd514;return _0x3cfea6[_0xe0bcb8(0x9b0)][_0xe0bcb8(0x56b)];}async['get'](_0xd978e){const _0x4c9c8b=_0x3cd514;if(!this['connector'])throw new _0x1e3976(_0x2089de[_0x4c9c8b(0x7b9)],'Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected');_0x61b339[_0x4c9c8b(0x72f)](_0x411645[_0x4c9c8b(0x56b)],{'type':'get','label':this[_0x4c9c8b(0x788)],'nodeId':this[_0x4c9c8b(0x780)][_0x4c9c8b(0x47f)](),'nodeType':this[_0x4c9c8b(0x780)][_0x4c9c8b(0x3a7)],'clusterId':this[_0x4c9c8b(0x4cb)],'path':_0xd978e}),this[_0x4c9c8b(0x5fd)]+=0x1,this[_0x4c9c8b(0x44e)]();try{return await this[_0x4c9c8b(0x459)][_0x4c9c8b(0x31f)](_0xd978e);}catch(_0x585661){throw new _0x1e3976(_0x2089de[_0x4c9c8b(0x688)],'Cannot\x20get\x20file:\x20'+_0xd978e);}}async[_0x3cd514(0x9c7)](_0x3612fb,_0x58c316){const _0x58d4e5=_0x3cd514;if(!this[_0x58d4e5(0x459)])throw new _0x1e3976(_0x2089de[_0x58d4e5(0x7b9)],_0x58d4e5(0x998));const {recursive:_0x454f14=!0x1}=_0x58c316??{};_0x61b339['logServiceEvent'](_0x411645['ExternalStorage'],{'type':_0x58d4e5(0x9c7),'label':this[_0x58d4e5(0x788)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x58d4e5(0x780)][_0x58d4e5(0x3a7)],'clusterId':this[_0x58d4e5(0x4cb)],'path':_0x3612fb}),this[_0x58d4e5(0x5fd)]+=0x1,this[_0x58d4e5(0x44e)]();try{return await this[_0x58d4e5(0x459)][_0x58d4e5(0x9c7)](_0x3612fb,_0x454f14);}catch(_0x32d513){throw new _0x1e3976(_0x2089de[_0x58d4e5(0x688)],_0x58d4e5(0x2c8)+_0x3612fb);}}[_0x3cd514(0x5a5)](_0x124437,_0x2dfc0b){const _0x557033=_0x3cd514;if(this[_0x557033(0x887)][_0x557033(0x31e)](_0x124437))throw new _0x1e3976(_0x2089de[_0x557033(0x128)],_0x557033(0x15b));this[_0x557033(0x887)][_0x557033(0x282)](_0x124437,this[_0x557033(0x5c9)][_0x557033(0x5a5)](_0x2dfc0b));}[_0x3cd514(0x2cf)](_0x181d2c){const _0x55d3ef=_0x3cd514;this['listenerUnsubscribers'][_0x55d3ef(0x31f)](_0x181d2c)?.(),this[_0x55d3ef(0x887)][_0x55d3ef(0x6f9)](_0x181d2c);}async['open'](){const _0x262e8a=_0x3cd514,_0x562b3a=(await(0x0,_0x3cf795['getDoc'])((0x0,_0x3cf795['doc'])(_0x349b1d[_0x262e8a(0x823)](),_0x262e8a(0x4c8)+this['vendorId']+'/resources/external-storage/items/'+this[_0x262e8a(0x788)])))[_0x262e8a(0x66f)]();if(!_0x562b3a)throw new _0x1e3976(_0x2089de[_0x262e8a(0x9a7)],_0x262e8a(0x2f2)+this[_0x262e8a(0x788)]);const {site:_0x15c3e9,drive:_0x24fec6}=_0x562b3a,_0x320fab=(await(0x0,_0x17a0f0['httpsCallable'])(_0x349b1d[_0x262e8a(0x865)](),_0x262e8a(0x40f))({'storageId':this[_0x262e8a(0x788)]}))[_0x262e8a(0x66f)][_0x262e8a(0x335)];this[_0x262e8a(0x459)]=new this['connectorConstructor'](_0x15c3e9['id'],_0x24fec6['id'],_0x320fab,async()=>(await(0x0,_0x17a0f0[_0x262e8a(0x32d)])(_0x349b1d[_0x262e8a(0x865)](),_0x262e8a(0x81f))({'storageId':this[_0x262e8a(0x788)]}))[_0x262e8a(0x66f)]['accessToken']),this[_0x262e8a(0x2c4)]();}[_0x3cd514(0x44e)](){const _0x5d9fdb=_0x3cd514;this[_0x5d9fdb(0x5f4)]&&clearTimeout(this[_0x5d9fdb(0x5f4)]),this[_0x5d9fdb(0x5f4)]=setTimeout(async()=>{const _0x3b94a7=_0x5d9fdb;delete this[_0x3b94a7(0x5f4)],this[_0x3b94a7(0x917)][_0x3b94a7(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x3b94a7(0x739)],'content':{'type':_0x32bee3[_0x3b94a7(0x41d)],'label':this[_0x3b94a7(0x788)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this['reads'],'prompts':0x0,'tokens':0x0}}});},_0x34d584);}async[_0x3cd514(0x2c4)](){const _0x3c380d=_0x3cd514;await this[_0x3c380d(0x459)]?.[_0x3c380d(0x9ba)](),this[_0x3c380d(0x8eb)]=_0x1bfa0c[_0x3c380d(0x37b)](async()=>{const _0xe05dce=_0x3c380d;try{if(!this[_0xe05dce(0x459)])return;const _0x222837=await this[_0xe05dce(0x459)][_0xe05dce(0x9ba)]();for(const _0x5a4c14 of _0x222837)this['eventListener'][_0xe05dce(0x19e)](_0x5a4c14);}catch(_0x46c6d7){}},0x493e0);}}const _0x18fd89=require('rxjs');class _0x3cc868 extends _0x38c6ff{[_0x3cd514(0x31a)];['jobs']=new Map();[_0x3cd514(0x7d8)]=new Map();[_0x3cd514(0x1bf)]=new Map();[_0x3cd514(0x4a6)];constructor(_0x51b850,_0x42f63b,_0x94face){super(_0x51b850,_0x42f63b),this['graphService']=_0x94face;}[_0x3cd514(0x321)](){const _0x3e49c0=_0x3cd514;return _0x3cfea6['ContentType'][_0x3e49c0(0x5d5)];}[_0x3cd514(0x92d)](){const _0x571825=_0x3cd514;this[_0x571825(0x4a6)]=this['onMessage']((_0x456216,_0x34ae1a)=>{const _0x3888d3=_0x571825;if(_0x61b339[_0x3888d3(0x8b2)](_0x5ce311[_0x3888d3(0x225)],'JobDispatcher:\x20Received\x20job',_0x456216,_0x34ae1a,this[_0x3888d3(0x31a)][_0x3888d3(0x281)]()),!(_0x34ae1a instanceof File)){if(!_0x34ae1a)throw new _0xa369e8(_0xa369e8[_0x3888d3(0x98c)]['JobDispatcherInvalidPayload']);return this[_0x3888d3(0x893)](_0x34ae1a)?this[_0x3888d3(0x4e9)](_0x456216,_0x34ae1a['id'],_0x34ae1a):this[_0x3888d3(0x671)](_0x34ae1a)?(_0x61b339[_0x3888d3(0x8b2)](_0x5ce311[_0x3888d3(0x225)],_0x3888d3(0x480)+_0x34ae1a['id']+_0x3888d3(0x83a),_0x34ae1a[_0x3888d3(0x60b)]),void this[_0x3888d3(0x53f)](_0x34ae1a['id'],_0x34ae1a)):this[_0x3888d3(0x44b)](_0x34ae1a)?(_0x61b339[_0x3888d3(0x8b2)](_0x5ce311[_0x3888d3(0x225)],_0x3888d3(0x480)+_0x34ae1a['id']+_0x3888d3(0x322),_0x34ae1a['result']),void this[_0x3888d3(0x3c3)](_0x34ae1a['id'],_0x34ae1a)):void(this['isFailedResponse'](_0x34ae1a)&&this[_0x3888d3(0x49f)](_0x34ae1a['id'],_0x34ae1a['message']));}});}[_0x3cd514(0x32f)](){const _0x5197e8=_0x3cd514;this[_0x5197e8(0x921)](),this[_0x5197e8(0x92d)]();}[_0x3cd514(0x616)](){const _0x339b9f=_0x3cd514;this[_0x339b9f(0x921)](),super[_0x339b9f(0x616)]();}[_0x3cd514(0x921)](){const _0x185d56=_0x3cd514;this[_0x185d56(0x2d3)][_0x185d56(0x921)](),this[_0x185d56(0x4a6)]&&this[_0x185d56(0x4a6)]();}['close'](){const _0x1c4f9d=_0x3cd514;this[_0x1c4f9d(0x917)]?.[_0x1c4f9d(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x1c4f9d(0x739)],'content':{'type':_0x32bee3[_0x1c4f9d(0xf1)],'label':this[_0x1c4f9d(0x788)]}});}async[_0x3cd514(0x5a3)](_0x46774f){const _0x5f563d=_0x3cd514,{id:_0x28a4a6,parameters:_0x22821f,jobType:_0xa495e7}=_0x46774f,_0x28ba9f={'id':_0x28a4a6,'jobType':_0xa495e7,'parameters':_0x22821f,'status':_0x3cfea6[_0x5f563d(0x6c1)][_0x5f563d(0x751)],'created':new Date(),'updated':new Date()};if(this[_0x5f563d(0x2d3)][_0x5f563d(0x31e)](_0x28ba9f['id']))throw new _0x1e3976(_0x2089de['JobDispatcherJobExists'],_0x5f563d(0x23c)+_0x28ba9f['id']+_0x5f563d(0x469));_0x28ba9f[_0x5f563d(0x5dc)]=new Date(),_0x28ba9f[_0x5f563d(0x1e9)]=new Date();const _0x2b363d=new _0x18fd89[(_0x5f563d(0x61a))]();this[_0x5f563d(0x2d3)][_0x5f563d(0x282)](_0x28ba9f['id'],_0x28ba9f),this['jobObservers']['set'](_0x28ba9f['id'],_0x2b363d);try{const _0x566aa7={'id':_0x28ba9f['id'],'jobPhase':_0x4e7fd4[_0x5f563d(0x199)],'jobType':_0x28ba9f['jobType']},_0x46efe4=0x3;let _0x4bb2e0=0x0;const _0x3efc5e=async()=>{const _0x1295b4=_0x5f563d;_0x4bb2e0+=0x1;try{_0x61b339[_0x1295b4(0x8b2)](_0x5ce311[_0x1295b4(0x225)],_0x1295b4(0x480)+_0x28ba9f['id']+_0x1295b4(0x936)+_0x4bb2e0+'.',this[_0x1295b4(0x31a)][_0x1295b4(0x281)]()),await this['send'](_0x566aa7),_0x28ba9f[_0x1295b4(0x1e9)]=new Date(),this[_0x1295b4(0x2d3)][_0x1295b4(0x282)](_0x28ba9f['id'],_0x28ba9f),this['startBidResponseHandling'](_0x28ba9f['id']);}catch(_0x1dc127){_0x4bb2e0<_0x46efe4?(_0x61b339[_0x1295b4(0x2f5)](_0x1295b4(0x490)+_0x4bb2e0+_0x1295b4(0x1e3)+_0x28ba9f['id']+_0x1295b4(0xd8),{'nodeId':this[_0x1295b4(0x189)][_0x1295b4(0x47f)](),'nodeType':this[_0x1295b4(0x189)][_0x1295b4(0x3a7)],'data':{'job':_0x28ba9f,'attempts':_0x4bb2e0,'maxRetries':_0x46efe4}}),setTimeout(_0x3efc5e,0x3e8)):(_0x28ba9f[_0x1295b4(0x41c)]=_0x3cfea6[_0x1295b4(0x6c1)][_0x1295b4(0x58b)],_0x28ba9f[_0x1295b4(0x1e9)]=new Date(),this[_0x1295b4(0x2d3)][_0x1295b4(0x282)](_0x28ba9f['id'],_0x28ba9f),_0x61b339[_0x1295b4(0x3db)](_0x1295b4(0x4b4)+_0x28ba9f['id']+'\x20after\x20'+_0x46efe4+_0x1295b4(0x2dd),{'nodeId':this[_0x1295b4(0x189)][_0x1295b4(0x47f)](),'nodeType':this[_0x1295b4(0x189)][_0x1295b4(0x3a7)],'data':{'job':_0x28ba9f,'attempts':_0x4bb2e0,'maxRetries':_0x46efe4,'error':_0x1dc127}}));}};_0x3efc5e();const {id:_0x35766b}=_0x28ba9f;this['logEvent'](_0x5f563d(0x480)+_0x28ba9f['id']+_0x5f563d(0x198),{'jobId':_0x35766b}),_0x28ba9f['updated']=new Date();}catch(_0x4fc542){_0x28ba9f[_0x5f563d(0x41c)]=_0x3cfea6[_0x5f563d(0x6c1)]['Failed'],_0x61b339[_0x5f563d(0x3db)](_0x5f563d(0x4b4)+_0x28ba9f['id']+':',{'nodeId':this[_0x5f563d(0x189)][_0x5f563d(0x47f)](),'nodeType':this['owner'][_0x5f563d(0x3a7)],'data':{'job':_0x28ba9f,'error':_0x4fc542}});}return _0x2b363d['asObservable']();}['getJob'](_0x1c50a2){const _0x5c31f1=_0x3cd514,_0x2c2bcd=this[_0x5c31f1(0x2d3)][_0x5c31f1(0x31f)](_0x1c50a2);if(!_0x2c2bcd)throw new _0x1e3976(_0x2089de[_0x5c31f1(0x64d)],_0x5c31f1(0x23c)+_0x1c50a2+'\x20not\x20found.');return{'id':_0x2c2bcd['id'],'jobType':_0x2c2bcd[_0x5c31f1(0x436)],'status':_0x2c2bcd[_0x5c31f1(0x41c)],'parameters':_0x2c2bcd[_0x5c31f1(0x992)]};}[_0x3cd514(0x6c6)](){const _0x33f8a8=_0x3cd514;return Array[_0x33f8a8(0x88a)](this[_0x33f8a8(0x2d3)][_0x33f8a8(0x699)]())['map'](_0x591a8f=>this['getJob'](_0x591a8f['id']));}async[_0x3cd514(0x8ba)](_0x2a1770,_0x52516f){const _0x1cfcb0=_0x3cd514,_0x342b91=this[_0x1cfcb0(0x2d3)][_0x1cfcb0(0x31f)](_0x2a1770);if(!_0x342b91)throw new _0x1e3976(_0x2089de[_0x1cfcb0(0x64d)],_0x1cfcb0(0x23c)+_0x2a1770+'\x20not\x20found.');_0x342b91[_0x1cfcb0(0x992)]=_0x52516f,_0x342b91['updated']=new Date(),this[_0x1cfcb0(0x2d3)]['set'](_0x2a1770,_0x342b91);}async[_0x3cd514(0x31c)](_0x3aa02b){const _0x3e5681=_0x3cd514;if(!this[_0x3e5681(0x2d3)]['delete'](_0x3aa02b))throw new _0x1e3976(_0x2089de['JobDispatcherJobNotFound'],_0x3e5681(0x23c)+_0x3aa02b+_0x3e5681(0x2d2));const _0x5d8b53=this['jobObservers'][_0x3e5681(0x31f)](_0x3aa02b);if(!_0x5d8b53)throw new _0xa369e8(_0xa369e8['codes'][_0x3e5681(0x965)]);_0x5d8b53['complete'](),this[_0x3e5681(0x7d8)][_0x3e5681(0x6f9)](_0x3aa02b),_0x61b339[_0x3e5681(0x8b2)](_0x5ce311['Jobs'],_0x3e5681(0x480)+_0x3aa02b+_0x3e5681(0x685));}[_0x3cd514(0x4e9)](_0x227661,_0x1a9908,_0x50564b){const _0x162d10=_0x3cd514,_0x6efc76=this[_0x162d10(0x1bf)][_0x162d10(0x31f)](_0x1a9908)??new Map();_0x6efc76[_0x162d10(0x282)](_0x227661,[_0x50564b,Date['now']()]),this[_0x162d10(0x1bf)][_0x162d10(0x282)](_0x1a9908,_0x6efc76),this[_0x162d10(0x897)](_0x1a9908);}['startBidResponseHandling'](_0xb1d0a3){const _0xb02eb8=_0x3cd514,_0x5c0eee=this[_0xb02eb8(0x2d3)][_0xb02eb8(0x31f)](_0xb1d0a3);if(!_0x5c0eee)throw new _0xa369e8(_0xa369e8[_0xb02eb8(0x98c)][_0xb02eb8(0x64d)]);const _0xe26872=setTimeout(()=>this[_0xb02eb8(0x897)](_0xb1d0a3,!0x0),0xbb8);_0x5c0eee['responseTimeout']=_0xe26872,this['jobs']['set'](_0x5c0eee['id'],_0x5c0eee);}[_0x3cd514(0x897)](_0x2299f4,_0x3a878c=!0x1){const _0x2f9530=_0x3cd514,_0x3ab28b=this[_0x2f9530(0x31a)][_0x2f9530(0x281)](),_0x2782e4=Array[_0x2f9530(0x88a)](_0x3ab28b[_0x2f9530(0x699)]())[_0x2f9530(0x4d1)](_0xb65009=>_0xb65009[_0x2f9530(0x3a7)]===_0x3cfea6[_0x2f9530(0x2a9)][_0x2f9530(0x704)]),_0x12057a=this['jobBids'][_0x2f9530(0x31f)](_0x2299f4)??new Map();if(!_0x3a878c&&(!_0x12057a||_0x12057a[_0x2f9530(0x3cb)]<_0x2782e4[_0x2f9530(0x4f4)]))return;const _0x31294e=this[_0x2f9530(0x2d3)][_0x2f9530(0x31f)](_0x2299f4);if(!_0x31294e)throw new _0xa369e8(_0xa369e8['codes'][_0x2f9530(0x64d)]);if(clearTimeout(_0x31294e['responseTimeout']),_0x61b339[_0x2f9530(0x8b2)](_0x5ce311[_0x2f9530(0x225)],'Job\x20'+_0x31294e['id']+'\x20received\x20responses:',_0x12057a,this[_0x2f9530(0x1bf)]),!_0x12057a||0x0===_0x12057a[_0x2f9530(0x3cb)]){_0x31294e[_0x2f9530(0x41c)]=_0x3cfea6[_0x2f9530(0x6c1)][_0x2f9530(0x58b)],_0x31294e[_0x2f9530(0x1e9)]=new Date(),_0x61b339[_0x2f9530(0x3db)](_0x2f9530(0x480)+_0x31294e['id']+_0x2f9530(0x39c),{'nodeId':this[_0x2f9530(0x189)][_0x2f9530(0x47f)](),'nodeType':this[_0x2f9530(0x189)][_0x2f9530(0x3a7)],'data':{'job':_0x31294e,'responses':_0x12057a}});const _0x4ed970=this[_0x2f9530(0x7d8)][_0x2f9530(0x31f)](_0x2299f4);if(!_0x4ed970)throw new _0xa369e8(_0xa369e8[_0x2f9530(0x98c)][_0x2f9530(0x965)]);const _0x22691c=_0x2f9530(0x6da),_0x308181={'id':_0x31294e['id'],'status':_0x31294e[_0x2f9530(0x41c)],'message':_0x22691c};return _0x4ed970[_0x2f9530(0x6d0)](_0x308181),_0x4ed970['complete'](),this[_0x2f9530(0x2d3)]['set'](_0x31294e['id'],_0x31294e),void this[_0x2f9530(0x1bf)][_0x2f9530(0x6f9)](_0x2299f4);}const {nodeId:_0x582b8b,response:_0xa6fee7}=this[_0x2f9530(0x27b)](_0x31294e['id'],_0x12057a);_0x31294e[_0x2f9530(0x41c)]=_0x3cfea6[_0x2f9530(0x6c1)][_0x2f9530(0x463)],_0x31294e['updated']=new Date(),_0x61b339[_0x2f9530(0x8b2)](_0x5ce311[_0x2f9530(0x225)],'Job\x20'+_0x31294e['id']+_0x2f9530(0x7cf)+_0x582b8b+'\x20with\x20response:',_0xa6fee7);const _0x150542={'id':_0x31294e['id'],'jobType':_0x31294e[_0x2f9530(0x436)],'jobPhase':_0x4e7fd4['Attribution'],'parameters':_0x31294e['parameters']};this[_0x2f9530(0x13f)](_0x150542,[_0x582b8b]),this[_0x2f9530(0x2d3)][_0x2f9530(0x282)](_0x31294e['id'],_0x31294e),this['jobBids'][_0x2f9530(0x6f9)](_0x2299f4);}['evaluateBids'](_0x279221,_0x48caf8){const _0x54c245=_0x3cd514;let _0x189197;const _0x59be91=Array[_0x54c245(0x88a)](_0x48caf8[_0x54c245(0x559)]())[_0x54c245(0x4d1)](([,[_0x17473c]])=>_0x17473c[_0x54c245(0x3a6)]);if(_0x189197=_0x59be91['length']>0x0?Array[_0x54c245(0x88a)](_0x48caf8[_0x54c245(0x559)]())['sort']((_0x4caaaa,_0x6c8de1)=>_0x6c8de1[0x1][0x0][_0x54c245(0x4d9)]-_0x4caaaa[0x1][0x0]['bid']):Array[_0x54c245(0x88a)](_0x48caf8[_0x54c245(0x559)]())['sort']((_0x5858eb,_0x555904)=>_0x5858eb[0x1][0x0]['queueLength']-_0x555904[0x1][0x0][_0x54c245(0x800)]),0x1===_0x189197[_0x54c245(0x4f4)])return{'nodeId':_0x189197[0x0][0x0],'response':_0x189197[0x0][0x1][0x0]};let _0x15d931;if(_0x15d931=_0x59be91[_0x54c245(0x4f4)]>0x0?(_0x1b26fe=>{const _0x4cb61f=_0x54c245,_0x2d8b44=_0x1b26fe[0x0][0x1][0x0][_0x4cb61f(0x4d9)];return _0x1b26fe[_0x4cb61f(0x4d1)](([,[_0x1783a9]])=>_0x1783a9[_0x4cb61f(0x4d9)]===_0x2d8b44);})(_0x189197):(_0x4ffc0a=>{const _0x35eb30=_0x54c245,_0x114f51=_0x4ffc0a[0x0][0x1][0x0][_0x35eb30(0x800)];return _0x4ffc0a[_0x35eb30(0x4d1)](([,[_0x595c10]])=>_0x595c10[_0x35eb30(0x800)]===_0x114f51);})(_0x189197),0x1===_0x15d931[_0x54c245(0x4f4)])return{'nodeId':_0x15d931[0x0][0x0],'response':_0x15d931[0x0][0x1][0x0]};const _0x1e8f94=this['jobs'][_0x54c245(0x31f)](_0x279221);if(!_0x1e8f94)throw new _0xa369e8(_0xa369e8[_0x54c245(0x98c)][_0x54c245(0x64d)]);const _0x41d642=_0x1e8f94[_0x54c245(0x5dc)]['getTime'](),_0x368444=_0x15d931[_0x54c245(0x730)](([_0x35a5b2,[,_0x50e68d]])=>({'nodeId':_0x35a5b2,'rtt':_0x50e68d-_0x41d642})),_0x131bc4=Math[_0x54c245(0xbe)](..._0x368444[_0x54c245(0x730)](({rtt:_0xc2ef7e})=>_0xc2ef7e)),_0x25583f=_0x368444[_0x54c245(0x833)](({rtt:_0x304b27})=>_0x304b27===_0x131bc4),[,[_0x28556f]]=_0x15d931[_0x54c245(0x833)](([_0x4770b7])=>_0x4770b7===_0x25583f[_0x54c245(0x24b)]);return{'nodeId':_0x25583f[_0x54c245(0x24b)],'response':_0x28556f};}[_0x3cd514(0x53f)](_0x5d7b2e,_0x4da3d1){const _0x3ddf37=_0x3cd514,_0x544166=this[_0x3ddf37(0x2d3)]['get'](_0x5d7b2e);if(!_0x544166)throw new _0xa369e8(_0xa369e8['codes'][_0x3ddf37(0x64d)]);const _0x4faf9c=this['jobObservers'][_0x3ddf37(0x31f)](_0x5d7b2e);if(!_0x4faf9c)throw new _0xa369e8(_0xa369e8[_0x3ddf37(0x98c)][_0x3ddf37(0x965)]);const _0x408c57={'id':_0x544166['id'],'status':_0x3cfea6['JobStatus'][_0x3ddf37(0x57f)],'result':_0x4da3d1[_0x3ddf37(0x60b)]};_0x4faf9c[_0x3ddf37(0x6d0)](_0x408c57);}[_0x3cd514(0x3c3)](_0x574fcc,_0xe35785){const _0x1eb71c=_0x3cd514,_0x55394d=this[_0x1eb71c(0x2d3)]['get'](_0x574fcc);if(!_0x55394d)throw new _0xa369e8(_0xa369e8[_0x1eb71c(0x98c)][_0x1eb71c(0x64d)]);const _0x24687c=this[_0x1eb71c(0x7d8)][_0x1eb71c(0x31f)](_0x574fcc);if(!_0x24687c)throw new _0xa369e8(_0xa369e8['codes'][_0x1eb71c(0x965)]);_0x55394d['status']=_0x3cfea6['JobStatus'][_0x1eb71c(0x43c)];const _0x2519cf={'id':_0x55394d['id'],'status':_0x55394d[_0x1eb71c(0x41c)],'result':_0xe35785[_0x1eb71c(0x60b)]};_0x24687c[_0x1eb71c(0x6d0)](_0x2519cf),_0x24687c['complete'](),this[_0x1eb71c(0x7d8)]['delete'](_0x574fcc),this[_0x1eb71c(0x592)]('Job\x20'+_0x574fcc+'\x20finalized.',{'jobId':_0x574fcc});}['failJob'](_0x377b5c,_0x3ea135){const _0xa9bed4=_0x3cd514,_0x1d63fa=this[_0xa9bed4(0x2d3)][_0xa9bed4(0x31f)](_0x377b5c);if(!_0x1d63fa)throw new _0xa369e8(_0xa369e8['codes']['JobDispatcherJobNotFound']);const _0x2e11da=this[_0xa9bed4(0x7d8)][_0xa9bed4(0x31f)](_0x377b5c);if(!_0x2e11da)throw new _0xa369e8(_0xa369e8[_0xa9bed4(0x98c)][_0xa9bed4(0x965)]);_0x1d63fa[_0xa9bed4(0x41c)]=_0x3cfea6[_0xa9bed4(0x6c1)][_0xa9bed4(0x58b)];const _0x5efa25={'id':_0x1d63fa['id'],'status':_0x1d63fa[_0xa9bed4(0x41c)],'message':_0x3ea135};_0x2e11da[_0xa9bed4(0x6d0)](_0x5efa25),_0x2e11da[_0xa9bed4(0x63f)](),this[_0xa9bed4(0x7d8)][_0xa9bed4(0x6f9)](_0x377b5c),this[_0xa9bed4(0x592)](_0xa9bed4(0x480)+_0x377b5c+'\x20failed.',{'jobId':_0x377b5c});}[_0x3cd514(0x592)](_0x2b58f1,{jobId:_0x34f7e6}){const _0x5e1a6f=_0x3cd514,_0xec7c11={'jobId':_0x34f7e6,'mistletIds':Array[_0x5e1a6f(0x88a)](this['graphService'][_0x5e1a6f(0x281)]()['values']())[_0x5e1a6f(0x4d1)](_0x41a860=>_0x41a860['type']===_0x3cfea6[_0x5e1a6f(0x2a9)][_0x5e1a6f(0x704)])['map'](_0x40d7eb=>_0x40d7eb[_0x5e1a6f(0x47f)]())};_0x61b339['logEvent'](_0x2b58f1,{'nodeId':this['getOwnerId'](),'nodeType':this[_0x5e1a6f(0x189)][_0x5e1a6f(0x3a7)],'data':_0xec7c11}),_0x61b339['log'](_0x5ce311['Jobs'],_0x2b58f1,_0xec7c11);}[_0x3cd514(0x893)](_0x4a35f9){const _0x3ad76c=_0x3cd514,{jobPhase:_0x511d01,available:_0xe62b32,bid:_0x58698b}=_0x4a35f9;return _0x511d01===_0x4e7fd4[_0x3ad76c(0x4ee)]&&void 0x0!==_0xe62b32&&void 0x0!==_0x58698b;}['isPartialResultResponse'](_0x39537f){const {jobPhase:_0x1eac16,result:_0x1d0b73}=_0x39537f;return _0x1eac16===_0x4e7fd4['PartialResult']&&void 0x0!==_0x1d0b73;}[_0x3cd514(0x44b)](_0x2734e9){const {jobPhase:_0x77ff5,result:_0x5234ba}=_0x2734e9;return _0x77ff5===_0x4e7fd4['Result']&&void 0x0!==_0x5234ba;}[_0x3cd514(0x407)](_0x4e884e){const _0x46ee19=_0x3cd514,{jobPhase:_0x50fea0,message:_0x58b200}=_0x4e884e;return _0x50fea0===_0x4e7fd4[_0x46ee19(0x58b)]&&void 0x0!==_0x58b200&&'string'==typeof _0x58b200;}}var _0x5ec24a,_0x1146c3,_0x4aad44,_0x291256;!function(_0x358d28){const _0x3e0d85=_0x3cd514;_0x358d28[_0x3e0d85(0x83b)]=_0x3e0d85(0x95b),_0x358d28[_0x3e0d85(0x56b)]='external-storage';}(_0x5ec24a||(_0x5ec24a={})),function(_0x5aad54){const _0x33d5a7=_0x3cd514;_0x5aad54[_0x33d5a7(0x704)]='agent',_0x5aad54[_0x33d5a7(0x17b)]='agent-skill',_0x5aad54[_0x33d5a7(0x5d4)]=_0x33d5a7(0x4c3),_0x5aad54[_0x33d5a7(0x133)]='data-collection',_0x5aad54[_0x33d5a7(0x8af)]=_0x33d5a7(0x8c4),_0x5aad54[_0x33d5a7(0x2b9)]='prompt',_0x5aad54[_0x33d5a7(0x966)]=_0x33d5a7(0x2b2),_0x5aad54[_0x33d5a7(0x77d)]=_0x33d5a7(0xdf),_0x5aad54[_0x33d5a7(0x32a)]='code',_0x5aad54[_0x33d5a7(0x771)]=_0x33d5a7(0x2a5),_0x5aad54[_0x33d5a7(0x33e)]=_0x33d5a7(0x6e7),_0x5aad54[_0x33d5a7(0x47d)]='web-scraper-raw',_0x5aad54[_0x33d5a7(0x878)]='chunk-splitter',_0x5aad54[_0x33d5a7(0x7d9)]='sentence-splitter',_0x5aad54[_0x33d5a7(0x6be)]=_0x33d5a7(0x67d);}(_0x1146c3||(_0x1146c3={})),function(_0x504ede){const _0x40b14a=_0x3cd514;_0x504ede[_0x40b14a(0x2fd)]='object-storage-upload',_0x504ede[_0x40b14a(0x763)]=_0x40b14a(0x241),_0x504ede[_0x40b14a(0x585)]=_0x40b14a(0x55e),_0x504ede[_0x40b14a(0x878)]='chunk-splitter',_0x504ede[_0x40b14a(0x6be)]=_0x40b14a(0x67d),_0x504ede['SentenceSplitter']=_0x40b14a(0x4c5),_0x504ede[_0x40b14a(0x33a)]=_0x40b14a(0x1a1),_0x504ede[_0x40b14a(0x3e5)]=_0x40b14a(0x802),_0x504ede[_0x40b14a(0x5f7)]='reranker',_0x504ede[_0x40b14a(0x439)]=_0x40b14a(0x23d),_0x504ede['Agent']=_0x40b14a(0x760),_0x504ede['ObjectStorageBucket']=_0x40b14a(0x95b),_0x504ede[_0x40b14a(0x588)]=_0x40b14a(0x6b1),_0x504ede['VectorDatabase']=_0x40b14a(0x500),_0x504ede[_0x40b14a(0x374)]=_0x40b14a(0x83e),_0x504ede[_0x40b14a(0x2b9)]='prompt',_0x504ede['Context']=_0x40b14a(0x337);}(_0x4aad44||(_0x4aad44={})),function(_0x42a92b){const _0x2d6ac6=_0x3cd514;_0x42a92b['File']=_0x2d6ac6(0x625),_0x42a92b[_0x2d6ac6(0x14e)]=_0x2d6ac6(0x481),_0x42a92b[_0x2d6ac6(0x1e6)]=_0x2d6ac6(0x104),_0x42a92b[_0x2d6ac6(0x69c)]=_0x2d6ac6(0x6a7),_0x42a92b[_0x2d6ac6(0x85d)]=_0x2d6ac6(0x66f),_0x42a92b[_0x2d6ac6(0x338)]='vector',_0x42a92b[_0x2d6ac6(0x633)]=_0x2d6ac6(0x235),_0x42a92b[_0x2d6ac6(0x304)]=_0x2d6ac6(0x59e),_0x42a92b[_0x2d6ac6(0x771)]=_0x2d6ac6(0x2a5),_0x42a92b[_0x2d6ac6(0x379)]='index',_0x42a92b[_0x2d6ac6(0x8af)]='knowledge',_0x42a92b[_0x2d6ac6(0x5a9)]=_0x2d6ac6(0x9a5);}(_0x291256||(_0x291256={}));class _0x3bfcd1{static [_0x3cd514(0x59b)];constructor(){}static[_0x3cd514(0x68e)](){const _0x4afc26=_0x3cd514;return _0x3bfcd1[_0x4afc26(0x59b)]||(_0x3bfcd1[_0x4afc26(0x59b)]=new _0x3bfcd1()),_0x3bfcd1[_0x4afc26(0x59b)];}async[_0x3cd514(0x8f0)](_0x3a450d,_0x480848){const _0x4190da=_0x3cd514,_0x2ffa2c=await(0x0,_0x3cf795[_0x4190da(0x8bc)])((0x0,_0x3cf795[_0x4190da(0x62b)])(_0x349b1d['getFirestore'](),_0x4190da(0x4c8)+_0x3a450d+_0x4190da(0x393)+_0x480848)),_0x5bf161=await this[_0x4190da(0x8c9)](_0x3a450d),_0x5ca3e6=await this['getDataCollections'](_0x3a450d),_0x4bc89c=await this[_0x4190da(0x6dd)](_0x3a450d),_0x29dc73=await this[_0x4190da(0x344)](_0x3a450d),_0x199a75=await this[_0x4190da(0x252)](_0x3a450d);if(!_0x2ffa2c[_0x4190da(0x131)]())throw new _0xa369e8(_0xa369e8[_0x4190da(0x98c)]['WorkflowDoesNotExist']);return this['parseWorkflowDocument'](_0x2ffa2c,_0x5bf161,_0x5ca3e6,_0x4bc89c,_0x29dc73,_0x199a75);}[_0x3cd514(0x141)](_0x2e782d,_0x70ab68,_0x4969cb,_0x1b155d,_0x4acb09,_0x4ecb7b){const _0x4821d4=_0x3cd514,_0x1b60d0=_0x2e782d[_0x4821d4(0x66f)]();if(!_0x1b60d0)throw new _0xa369e8(_0xa369e8[_0x4821d4(0x98c)][_0x4821d4(0x1d2)]);const _0x508309=_0x1b60d0['deployedVersion']&&_0x1b60d0['versions']?_0x1b60d0[_0x4821d4(0x54e)][_0x1b60d0[_0x4821d4(0x7c0)]-0x1]:_0x1b60d0,_0x2faa79=this[_0x4821d4(0xde)](_0x508309[_0x4821d4(0x785)],_0x70ab68,_0x4969cb,_0x1b155d,_0x4ecb7b);return{'id':_0x2e782d['id'],'modelsBucketId':_0x1b60d0[_0x4821d4(0x962)],'blocks':_0x2faa79,'models':this[_0x4821d4(0x2d4)](_0x2faa79,_0x4acb09),'dataBucketIds':this[_0x4821d4(0x4cf)](_0x2faa79),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x2faa79)};}[_0x3cd514(0x2d4)](_0x4d80ea,_0x4ffa3b){const _0x5d38db=_0x3cd514,_0x44c57d=new Set();for(const _0x4a0c67 of _0x4d80ea)if(_0x4a0c67[_0x5d38db(0x3a7)]!==_0x1146c3[_0x5d38db(0x704)]&&_0x4a0c67[_0x5d38db(0x3a7)]!==_0x1146c3[_0x5d38db(0x17b)]||_0x44c57d[_0x5d38db(0x6aa)](_0x4a0c67[_0x5d38db(0xf4)]),_0x4a0c67[_0x5d38db(0x3a7)]===_0x1146c3[_0x5d38db(0x8af)]||_0x4a0c67[_0x5d38db(0x3a7)]===_0x1146c3[_0x5d38db(0x133)]){for(const _0x3ee5ce of[..._0x4a0c67['ingestBlocks'],..._0x4a0c67[_0x5d38db(0x1fa)]])_0x3ee5ce[_0x5d38db(0x3a7)]===_0x4aad44[_0x5d38db(0x439)]&&_0x44c57d['add'](_0x3ee5ce['id']),_0x3ee5ce[_0x5d38db(0x3a7)]===_0x4aad44[_0x5d38db(0x704)]&&_0x44c57d[_0x5d38db(0x6aa)](_0x3ee5ce[_0x5d38db(0xf4)]);}return Array['from'](_0x44c57d)['map'](_0x265287=>{const _0xf67be1=_0x5d38db,{id:_0x1ff5c6,engineType:_0x4e2877,taskType:_0x5f3a69,inputType:_0x3f1cdc,outputType:_0x1c9618,sourceUrl:_0x413be2}=_0x4ffa3b[_0xf67be1(0x833)](_0x3ad1c9=>_0x3ad1c9['id']===_0x265287);return{'id':_0x1ff5c6,'engineType':_0x4e2877,'taskType':_0x5f3a69,'inputType':_0x3f1cdc,'outputType':_0x1c9618,'sourceUrl':_0x413be2};});}[_0x3cd514(0x4cf)](_0x3e05e8){const _0x2a0602=_0x3cd514,_0x22ab84=new Set();for(const _0x3c2a2c of _0x3e05e8)switch(_0x3c2a2c[_0x2a0602(0x3a7)]){case _0x1146c3['Knowledge']:case _0x1146c3[_0x2a0602(0x133)]:for(const _0x50e876 of[..._0x3c2a2c[_0x2a0602(0x1d9)],..._0x3c2a2c['retrieveBlocks']])_0x50e876[_0x2a0602(0x3a7)]===_0x4aad44[_0x2a0602(0x2fd)]&&_0x22ab84['add'](_0x50e876['id']);}return Array['from'](_0x22ab84);}[_0x3cd514(0x222)](_0x21f6a2){const _0x334fb7=_0x3cd514,_0x59c26a=new Set();for(const _0x3e3ea6 of _0x21f6a2)switch(_0x3e3ea6[_0x334fb7(0x3a7)]){case _0x1146c3[_0x334fb7(0x8af)]:case _0x1146c3[_0x334fb7(0x133)]:for(const _0x363b38 of[..._0x3e3ea6['ingestBlocks'],..._0x3e3ea6[_0x334fb7(0x1fa)]])_0x363b38[_0x334fb7(0x3a7)]===_0x4aad44[_0x334fb7(0x763)]&&_0x59c26a[_0x334fb7(0x6aa)](_0x363b38['id']);}return Array[_0x334fb7(0x88a)](_0x59c26a);}['parseWorkflowBlocks'](_0x1005e2,_0x10c8cb,_0x1ea7b4,_0x4a82c2,_0x111a45){const _0x136e02=_0x3cd514;return _0x1005e2[_0x136e02(0x730)](_0x1c8eac=>{const _0x55924e=_0x136e02;switch(_0x1c8eac[_0x55924e(0x3a7)]){case _0x1146c3[_0x55924e(0x704)]:case _0x1146c3[_0x55924e(0x17b)]:const _0x5f4652=_0x10c8cb['find'](_0x3d0a3f=>_0x3d0a3f['id']===_0x1c8eac['id']);if(!_0x5f4652)throw new _0xa369e8(_0xa369e8[_0x55924e(0x98c)][_0x55924e(0x39e)],{'block':_0x1c8eac});const _0x197bc8=_0x1c8eac['version']&&_0x5f4652[_0x55924e(0x54e)]?_0x5f4652[_0x55924e(0x54e)][_0x1c8eac[_0x55924e(0x67f)]-0x1]:_0x5f4652;return{'type':_0x5f4652['type'],'id':_0x5f4652['id'],'uid':_0x1c8eac[_0x55924e(0x29a)],'name':_0x197bc8[_0x55924e(0x945)],'description':_0x197bc8['description'],'instructions':_0x197bc8[_0x55924e(0x716)],'contextInputVariable':_0x197bc8['contextInputVariable'],'contextOutputVariable':_0x197bc8[_0x55924e(0x4e8)],'showSkillOutput':_0x197bc8[_0x55924e(0x93c)],'grammar':['default',_0x55924e(0x2db),_0x55924e(0x6f4)][_0x55924e(0x135)](_0x197bc8[_0x55924e(0x249)])?_0x197bc8[_0x55924e(0x249)]:_0x111a45['find'](_0x3d8865=>_0x3d8865['id']===_0x197bc8['grammar'])[_0x55924e(0x1cb)],'temperature':_0x197bc8[_0x55924e(0x22d)],'maxTokens':_0x197bc8[_0x55924e(0x152)],'modelId':_0x197bc8[_0x55924e(0xf4)],'links':_0x1c8eac[_0x55924e(0x390)],'version':_0x1c8eac[_0x55924e(0x67f)]};case _0x1146c3[_0x55924e(0x8af)]:case _0x1146c3[_0x55924e(0x133)]:const _0x5755b1=_0x1ea7b4['find'](_0x5dfcdd=>_0x5dfcdd['id']===_0x1c8eac['id']);if(!_0x5755b1)throw new _0xa369e8(_0xa369e8[_0x55924e(0x98c)]['WorkflowInvalidBlockType'],{'block':_0x1c8eac});const _0x578e3f=_0x1c8eac[_0x55924e(0x67f)]&&_0x5755b1[_0x55924e(0x54e)]?_0x5755b1['versions'][_0x1c8eac[_0x55924e(0x67f)]-0x1]:_0x5755b1;return{'type':_0x1c8eac[_0x55924e(0x3a7)],'id':_0x5755b1['id'],'uid':_0x1c8eac['uid'],'name':_0x578e3f['name'],'description':_0x578e3f[_0x55924e(0x670)],'ingestBlocks':this[_0x55924e(0x4f1)](_0x578e3f[_0x55924e(0x1d9)],_0x10c8cb),'retrieveBlocks':this[_0x55924e(0x4f1)](_0x578e3f[_0x55924e(0x1fa)],_0x10c8cb),'links':_0x1c8eac['links'],'version':_0x1c8eac[_0x55924e(0x67f)]};case _0x1146c3[_0x55924e(0x5d4)]:const _0x546de0=_0x4a82c2[_0x55924e(0x833)](_0x18c4ec=>_0x18c4ec['id']===_0x1c8eac['id']);if(!_0x546de0)throw new _0xa369e8(_0xa369e8['codes']['WorkflowInvalidBlockType'],{'block':_0x1c8eac});return{'type':_0x1c8eac[_0x55924e(0x3a7)],'id':_0x546de0['id'],'uid':_0x1c8eac[_0x55924e(0x29a)],'name':_0x546de0[_0x55924e(0x945)],'description':_0x546de0[_0x55924e(0x670)],'parameters':_0x546de0[_0x55924e(0x992)],'endpointUrl':_0x546de0[_0x55924e(0x80b)],'endpointMethod':_0x546de0[_0x55924e(0x613)],'accessToken':_0x546de0[_0x55924e(0x335)],'queryParameters':_0x546de0['queryParameters'],'bodyParameters':_0x546de0[_0x55924e(0x6d1)],'links':_0x1c8eac[_0x55924e(0x390)]};case _0x1146c3[_0x55924e(0x2b9)]:case _0x1146c3[_0x55924e(0x966)]:case _0x1146c3[_0x55924e(0x77d)]:case _0x1146c3['Code']:case _0x1146c3[_0x55924e(0x771)]:case _0x1146c3[_0x55924e(0x33e)]:case _0x1146c3[_0x55924e(0x47d)]:case _0x1146c3['SentenceSplitter']:return{'type':_0x1c8eac[_0x55924e(0x3a7)],'id':_0x1c8eac['id'],'uid':_0x1c8eac['uid'],'links':_0x1c8eac[_0x55924e(0x390)]};case _0x1146c3['ChunkSplitter']:case _0x1146c3['WordSplitter']:return{'type':_0x1c8eac['type'],'id':_0x1c8eac['id'],'uid':_0x1c8eac['uid'],'links':_0x1c8eac['links'],'attributes':_0x1c8eac[_0x55924e(0x40a)]};default:throw new _0xa369e8(_0xa369e8['codes'][_0x55924e(0x39e)],{'block':_0x1c8eac});}});}['parseDataCollectionBlocks'](_0x49ce2e,_0xe31620){const _0x2dd7f7=_0x3cd514;return _0x49ce2e[_0x2dd7f7(0x730)](_0x33b5aa=>{const _0x4dedc3=_0x2dd7f7;switch(_0x33b5aa[_0x4dedc3(0x3a7)]){case _0x4aad44[_0x4dedc3(0x704)]:const _0x499cf1=_0xe31620[_0x4dedc3(0x833)](_0x43cb02=>_0x43cb02['id']===_0x33b5aa['id']);if(!_0x499cf1)throw new _0xa369e8(_0xa369e8[_0x4dedc3(0x98c)][_0x4dedc3(0x39e)],{'block':_0x33b5aa});const _0x3abdde=_0x33b5aa[_0x4dedc3(0x67f)]&&_0x499cf1['versions']?_0x499cf1[_0x4dedc3(0x54e)][_0x33b5aa[_0x4dedc3(0x67f)]-0x1]:_0x499cf1;return{'type':_0x33b5aa[_0x4dedc3(0x3a7)],'id':_0x33b5aa['id'],'uid':_0x33b5aa[_0x4dedc3(0x29a)],'description':_0x3abdde['description'],'instructions':_0x3abdde['instructions'],'grammar':_0x3abdde['grammar'],'temperature':_0x3abdde['temperature'],'maxTokens':_0x3abdde[_0x4dedc3(0x152)],'modelId':_0x3abdde['modelId'],'links':_0x33b5aa['links'],'version':_0x33b5aa[_0x4dedc3(0x67f)]};case _0x4aad44[_0x4dedc3(0x374)]:case _0x4aad44[_0x4dedc3(0x24d)]:case _0x4aad44[_0x4dedc3(0x6be)]:case _0x4aad44[_0x4dedc3(0x878)]:case _0x4aad44[_0x4dedc3(0x3e5)]:case _0x4aad44[_0x4dedc3(0x5f7)]:return{'type':_0x33b5aa[_0x4dedc3(0x3a7)],'id':_0x33b5aa['id'],'uid':_0x33b5aa[_0x4dedc3(0x29a)],'links':_0x33b5aa[_0x4dedc3(0x390)],'attributes':_0x33b5aa[_0x4dedc3(0x40a)]};case _0x4aad44[_0x4dedc3(0x439)]:case _0x4aad44[_0x4dedc3(0x7ee)]:case _0x4aad44['KeyValueDatabase']:case _0x4aad44[_0x4dedc3(0x33a)]:case _0x4aad44['DocumentParser']:case _0x4aad44[_0x4dedc3(0x7d9)]:case _0x4aad44['ObjectStorageUpload']:case _0x4aad44[_0x4dedc3(0x763)]:case _0x4aad44[_0x4dedc3(0x99d)]:case _0x4aad44[_0x4dedc3(0x2b9)]:return{'type':_0x33b5aa[_0x4dedc3(0x3a7)],'id':_0x33b5aa['id'],'uid':_0x33b5aa[_0x4dedc3(0x29a)],'links':_0x33b5aa[_0x4dedc3(0x390)]};default:throw new _0xa369e8(_0xa369e8[_0x4dedc3(0x98c)][_0x4dedc3(0x39e)],{'block':_0x33b5aa});}});}async[_0x3cd514(0x8c9)](_0x3c420e){const _0x9b653d=_0x3cd514;return(await(0x0,_0x3cf795['getDocs'])((0x0,_0x3cf795[_0x9b653d(0x6ca)])(_0x349b1d[_0x9b653d(0x823)](),_0x9b653d(0x4c8)+_0x3c420e+'/resources/generative-ai-agent/items')))[_0x9b653d(0x578)][_0x9b653d(0x730)](_0x36574f=>{const _0x3fa1ce=_0x9b653d,_0x13b478=_0x36574f['data']();return{'type':_0x1146c3[_0x3fa1ce(0x704)],'id':_0x36574f['id'],'name':_0x13b478[_0x3fa1ce(0x945)],'description':_0x13b478[_0x3fa1ce(0x670)],'instructions':_0x13b478[_0x3fa1ce(0x716)],'contextInputVariable':_0x13b478['contextInputVariable'],'contextOutputVariable':_0x13b478['contextOutputVariable'],'showSkillOutput':_0x13b478[_0x3fa1ce(0x93c)]??!0x0,'grammar':_0x13b478[_0x3fa1ce(0x249)]??_0x3fa1ce(0x10e),'temperature':_0x13b478[_0x3fa1ce(0x22d)],'maxTokens':_0x13b478[_0x3fa1ce(0x152)],'modelId':_0x13b478[_0x3fa1ce(0xf4)],'versions':_0x13b478['versions']};});}async[_0x3cd514(0x266)](_0xd7be3e){const _0xab181b=_0x3cd514;return(await(0x0,_0x3cf795[_0xab181b(0xf8)])((0x0,_0x3cf795['collection'])(_0x349b1d[_0xab181b(0x823)](),_0xab181b(0x4c8)+_0xd7be3e+_0xab181b(0x949))))[_0xab181b(0x578)][_0xab181b(0x730)](_0x1fd53c=>{const _0x388cb3=_0xab181b,_0x339cb4=_0x1fd53c[_0x388cb3(0x66f)]();return{'type':_0x1146c3[_0x388cb3(0x133)],'id':_0x1fd53c['id'],'name':_0x339cb4[_0x388cb3(0x945)],'description':_0x339cb4['description'],'ingestBlocks':_0x339cb4[_0x388cb3(0x1d9)],'retrieveBlocks':_0x339cb4['retrieveBlocks'],'versions':_0x339cb4[_0x388cb3(0x54e)]};});}async[_0x3cd514(0x6dd)](_0x25c6c2){const _0x39edab=_0x3cd514;return(await(0x0,_0x3cf795[_0x39edab(0xf8)])((0x0,_0x3cf795[_0x39edab(0x6ca)])(_0x349b1d['getFirestore'](),_0x39edab(0x4c8)+_0x25c6c2+'/resources/generative-ai-skill/items')))['docs']['map'](_0x1c2adc=>{const _0x510241=_0x39edab,_0x2ebf07=_0x1c2adc[_0x510241(0x66f)]();return{'type':_0x1146c3[_0x510241(0x5d4)],'id':_0x1c2adc['id'],'name':_0x2ebf07[_0x510241(0x945)],'description':_0x2ebf07[_0x510241(0x670)],'parameters':_0x2ebf07[_0x510241(0x992)],'endpointUrl':_0x2ebf07[_0x510241(0x80b)],'endpointMethod':_0x2ebf07['endpointMethod'],'accessToken':_0x2ebf07['accessToken'],'queryParameters':_0x2ebf07[_0x510241(0x8c7)],'bodyParameters':_0x2ebf07['bodyParameters']};});}async[_0x3cd514(0x252)](_0x4d792b){const _0x1eff29=_0x3cd514;return(await(0x0,_0x3cf795[_0x1eff29(0xf8)])((0x0,_0x3cf795[_0x1eff29(0x6ca)])(_0x349b1d[_0x1eff29(0x823)](),_0x1eff29(0x4c8)+_0x4d792b+_0x1eff29(0x746))))[_0x1eff29(0x578)][_0x1eff29(0x730)](_0x352f2a=>{const _0x5dcacb=_0x1eff29,_0x44f65e=_0x352f2a[_0x5dcacb(0x66f)]();return{'id':_0x352f2a['id'],'name':_0x44f65e[_0x5dcacb(0x945)],'description':_0x44f65e[_0x5dcacb(0x670)],'content':_0x44f65e[_0x5dcacb(0x1cb)]};});}async[_0x3cd514(0x344)](_0x413d56){const _0x234eba=_0x3cd514;return(await(0x0,_0x3cf795[_0x234eba(0xf8)])((0x0,_0x3cf795[_0x234eba(0x6ca)])(_0x349b1d[_0x234eba(0x823)](),_0x234eba(0x4c8)+_0x413d56+_0x234eba(0x25b))))[_0x234eba(0x578)][_0x234eba(0x730)](_0x5eabb9=>{const _0x4700bb=_0x234eba,_0x4ffef4=_0x5eabb9[_0x4700bb(0x66f)]();return{'id':_0x5eabb9['id'],'modelName':_0x4ffef4[_0x4700bb(0x97e)],'engineType':_0x4ffef4[_0x4700bb(0x22b)],'taskType':_0x4ffef4[_0x4700bb(0x846)],'inputType':_0x4ffef4[_0x4700bb(0xd4)]??_0x3cfea6[_0x4700bb(0x3c8)]['Text'],'outputType':_0x4ffef4[_0x4700bb(0x1cd)]??_0x3cfea6['GenerativeAIModelOutputType'][_0x4700bb(0x14e)],'sourceUrl':_0x4ffef4[_0x4700bb(0x195)]};});}}const _0x328271=_0x3bfcd1['getInstance']();class _0x1b3ef4 extends _0x3cc868{['localNode'];[_0x3cd514(0x1a3)];[_0x3cd514(0x251)]=0x0;[_0x3cd514(0x84d)]=0x0;[_0x3cd514(0x5f4)];constructor(_0x23b851,_0x23d394,_0x1a6a9a,_0x1f2a57){const _0x51f1a6=_0x3cd514;super(_0x23b851,_0x23d394,_0x1f2a57),this['localNode']=_0x23b851,this['vendorId']=_0x1a6a9a,this[_0x51f1a6(0x44e)]();}[_0x3cd514(0x616)](){const _0x6fcfd3=_0x3cd514;this[_0x6fcfd3(0x5f4)]&&(clearTimeout(this[_0x6fcfd3(0x5f4)]),delete this[_0x6fcfd3(0x5f4)]),super[_0x6fcfd3(0x616)]();}[_0x3cd514(0x32f)](){const _0xe6ada=_0x3cd514;this[_0xe6ada(0x251)]=0x0,this[_0xe6ada(0x84d)]=0x0,this['sendStats'](),super[_0xe6ada(0x32f)]();}[_0x3cd514(0x67e)](_0x450fba){const _0x544ccd=_0x3cd514,_0x306fc2='job-'+(0x0,_0x6d7452['v4'])();switch(_0x450fba['type']){case'prompt':let _0x71211c=!0x1;const _0x10df29=()=>{const _0xa8ebe9=a0_0x2e46;if(_0x71211c)throw new _0xa369e8(_0xa369e8[_0xa8ebe9(0x98c)][_0xa8ebe9(0x607)]);_0x71211c=!0x0;},_0x347c06=()=>(_0x10df29(),this[_0x544ccd(0x394)](_0x306fc2,_0x450fba[_0x544ccd(0x394)],_0x450fba['options'])),_0x3f37e9=()=>(_0x10df29(),this[_0x544ccd(0x6a8)](_0x306fc2,_0x450fba[_0x544ccd(0x394)],_0x450fba[_0x544ccd(0x9aa)]));return{'id':_0x306fc2,'prompt':_0x450fba['prompt'],'options':_0x450fba[_0x544ccd(0x9aa)]??{'threadId':_0x544ccd(0x7b6)+(0x0,_0x6d7452['v4'])()},'run':_0x347c06,'stream':_0x3f37e9};case _0x544ccd(0x2a0):let _0x155b6f=!0x1;const _0x38b005=()=>{const _0x5311de=_0x544ccd;if(_0x155b6f)throw new _0xa369e8(_0xa369e8[_0x5311de(0x98c)]['GenerativeAIContextJobAlreadyConsumed']);_0x155b6f=!0x0;},_0x181788=()=>(_0x38b005(),this[_0x544ccd(0x1cf)](_0x306fc2,_0x450fba[_0x544ccd(0x85e)],_0x450fba['jobId'],_0x450fba['options']));if(!_0x450fba[_0x544ccd(0x9aa)]?.[_0x544ccd(0x77e)])throw new _0x1e3976(_0x2089de['GenerativeAIContextJobMissingThreadId'],_0x544ccd(0x488));return{'id':_0x306fc2,'rating':_0x450fba['rating'],'options':_0x450fba[_0x544ccd(0x9aa)]??{'threadId':_0x544ccd(0x7b6)+(0x0,_0x6d7452['v4'])()},'rate':_0x181788};case _0x544ccd(0x3c9):let _0x4c3522=!0x1;const _0x3ab6c5=()=>{const _0x2f8570=_0x544ccd;if(_0x4c3522)throw new _0xa369e8(_0xa369e8['codes'][_0x2f8570(0x607)]);_0x4c3522=!0x0;};return{'id':_0x306fc2,'objectStoreId':'','documentPath':_0x450fba[_0x544ccd(0x68b)],'download':()=>(_0x3ab6c5(),this[_0x544ccd(0x593)](_0x306fc2,_0x450fba[_0x544ccd(0x988)],_0x450fba[_0x544ccd(0x68b)]))};}}async[_0x3cd514(0x167)](_0x2e5254){const _0x276845=_0x3cd514;return this[_0x276845(0x67e)](_0x2e5254)['rate']();}async[_0x3cd514(0x3c9)](_0x1134f4){const _0x31500e=_0x3cd514,_0x26d1ac={'type':_0x31500e(0x3c9),'objectStoreId':'','documentPath':_0x1134f4};return this[_0x31500e(0x67e)](_0x26d1ac)['download']();}async[_0x3cd514(0x1cf)](_0xf78b81,_0x31a4e4,_0x1c78cf,{threadId:_0x1ae8f6,feedback:_0x2474a1=''}){const _0x2cfc78=_0x3cd514,_0x6607a2={'type':_0x2cfc78(0x2a0),'jobId':_0x1c78cf,'threadId':_0x1ae8f6,'rating':_0x31a4e4,'feedback':_0x2474a1},_0x4f2044=await this[_0x2cfc78(0x4d6)](_0xf78b81,_0x3cfea6['JobType'][_0x2cfc78(0x5d5)],_0x6607a2,{'threadId':_0x1ae8f6,'feedback':_0x2474a1});return new Promise((_0x9d1d66,_0x197e6c)=>{const _0xa5d55=_0x2cfc78;let _0x8d7f06;const _0x4217c4=_0x4f2044[_0xa5d55(0x5a5)]({'next':_0xc858e4=>{const _0x2d5fda=_0xa5d55;switch(_0xc858e4[_0x2d5fda(0x41c)]){case _0x3cfea6[_0x2d5fda(0x6c1)]['Completed']:clearTimeout(_0x8d7f06),_0x9d1d66(_0xc858e4[_0x2d5fda(0x60b)]),_0x4217c4[_0x2d5fda(0x2cf)]();break;case _0x3cfea6[_0x2d5fda(0x6c1)][_0x2d5fda(0x58b)]:clearTimeout(_0x8d7f06),_0x197e6c(new _0xa369e8(_0xa369e8[_0x2d5fda(0x98c)]['GenerativeAIContextJobFailed'],{'updatedJob':_0xc858e4})),_0x4217c4[_0x2d5fda(0x2cf)]();}},'error':_0x1ea1ce=>{const _0x329555=_0xa5d55;clearTimeout(_0x8d7f06),_0x197e6c(new _0xa369e8(_0xa369e8[_0x329555(0x98c)][_0x329555(0x4fc)],{'err':_0x1ea1ce})),_0x4217c4[_0x329555(0x2cf)]();}});_0x8d7f06=setTimeout(()=>{const _0xb7376e=_0xa5d55;_0x197e6c(new _0xa369e8(_0xa369e8['codes'][_0xb7376e(0x2f7)])),_0x4217c4[_0xb7376e(0x2cf)]();},_0x3d7937);});}async[_0x3cd514(0x593)](_0x156375,_0x4c1f81,_0x315d4a){const _0x67a3e6=_0x3cd514,_0xe14a27={'type':_0x67a3e6(0x3c9),'objectStoreId':_0x4c1f81,'documentPath':_0x315d4a,'threadId':'thread-'+(0x0,_0x6d7452['v4'])()},_0x532ba7=await this[_0x67a3e6(0x4d6)](_0x156375,_0x3cfea6[_0x67a3e6(0x1c9)][_0x67a3e6(0x5d5)],_0xe14a27);return new Promise((_0x34d4e9,_0x13ead4)=>{const _0x19c241=_0x67a3e6;let _0x48beff;const _0x190274=_0x532ba7[_0x19c241(0x5a5)]({'next':_0x4871a5=>{const _0x46f707=_0x19c241;switch(_0x4871a5[_0x46f707(0x41c)]){case _0x3cfea6[_0x46f707(0x6c1)][_0x46f707(0x43c)]:clearTimeout(_0x48beff),_0x34d4e9(_0x4871a5[_0x46f707(0x60b)]),_0x190274[_0x46f707(0x2cf)]();break;case _0x3cfea6[_0x46f707(0x6c1)][_0x46f707(0x58b)]:clearTimeout(_0x48beff),_0x13ead4(new _0xa369e8(_0xa369e8[_0x46f707(0x98c)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x4871a5})),_0x190274['unsubscribe']();}},'error':_0x2acced=>{const _0x2fb15d=_0x19c241;clearTimeout(_0x48beff),_0x13ead4(new _0xa369e8(_0xa369e8[_0x2fb15d(0x98c)]['GenerativeAIContextJobFailed'],{'err':_0x2acced})),_0x190274[_0x2fb15d(0x2cf)]();}});_0x48beff=setTimeout(()=>{const _0x535621=_0x19c241;_0x13ead4(new _0xa369e8(_0xa369e8[_0x535621(0x98c)][_0x535621(0x2f7)])),_0x190274[_0x535621(0x2cf)]();},_0x3d7937);});}async[_0x3cd514(0x394)](_0x2dca1f,_0x470456,_0x1e551d){const _0x211f76=_0x3cd514,_0x124508={'type':_0x211f76(0x394),'prompt':_0x470456,'threadId':_0x1e551d?.[_0x211f76(0x77e)]??_0x211f76(0x7b6)+(0x0,_0x6d7452['v4'])()},_0x2620e5=await this[_0x211f76(0x4d6)](_0x2dca1f,_0x3cfea6[_0x211f76(0x1c9)]['Job'],_0x124508,_0x1e551d);return new Promise((_0x2d5557,_0x4e7f3f)=>{const _0x2fba28=_0x211f76;let _0x4b0179;const _0x301986=_0x2620e5[_0x2fba28(0x5a5)]({'next':_0x193c4c=>{const _0x4add55=_0x2fba28;switch(_0x193c4c['status']){case _0x3cfea6[_0x4add55(0x6c1)][_0x4add55(0x43c)]:if(_0x4add55(0x394)!==_0x193c4c[_0x4add55(0x60b)][_0x4add55(0x3a7)])return;const _0x474e14=_0x193c4c[_0x4add55(0x60b)][_0x4add55(0x5e3)]??0x0;this['logServiceEvent'](_0x470456,_0x474e14),clearTimeout(_0x4b0179),_0x2d5557(_0x193c4c[_0x4add55(0x60b)]),_0x301986[_0x4add55(0x2cf)](),this[_0x4add55(0x251)]+=0x1,this[_0x4add55(0x84d)]+=_0x474e14,this[_0x4add55(0x44e)]();break;case _0x3cfea6[_0x4add55(0x6c1)][_0x4add55(0x58b)]:clearTimeout(_0x4b0179),_0x4e7f3f(new _0xa369e8(_0xa369e8[_0x4add55(0x98c)][_0x4add55(0x4fc)],{'updatedJob':_0x193c4c})),_0x301986['unsubscribe'](),this[_0x4add55(0x44e)]();}},'error':_0x25fea2=>{const _0x970503=_0x2fba28;clearTimeout(_0x4b0179),_0x4e7f3f(new _0xa369e8(_0xa369e8[_0x970503(0x98c)][_0x970503(0x4fc)],{'err':_0x25fea2})),_0x301986[_0x970503(0x2cf)]();}});_0x4b0179=setTimeout(()=>{const _0x19bce7=_0x2fba28;_0x4e7f3f(new _0xa369e8(_0xa369e8[_0x19bce7(0x98c)][_0x19bce7(0x2f7)])),_0x301986[_0x19bce7(0x2cf)]();},_0x3d7937);});}async*['stream'](_0x818ff8,_0x24571d,_0xa83279){const _0x5d281d=_0x3cd514,_0x50257e={'type':'prompt','prompt':_0x24571d,'threadId':_0xa83279?.[_0x5d281d(0x77e)]??'thread-'+(0x0,_0x6d7452['v4'])()},_0x2dd23b=await this[_0x5d281d(0x4d6)](_0x818ff8,_0x3cfea6[_0x5d281d(0x1c9)][_0x5d281d(0x72d)],_0x50257e,_0xa83279);let _0x202ce3,_0x336e9a,_0x4302c8=!0x1,_0x4c0918=0x0;const _0x4403e6=[],_0x19b1dd=new Map();let _0x45f45d=null;const _0x4bbc16=()=>{_0x45f45d&&(_0x45f45d(),_0x45f45d=null);},_0x3fb830=_0x20de51=>{const _0x5ee37a=_0x5d281d;_0x4302c8=!0x0,_0x4bbc16(),_0x38b8bf[_0x5ee37a(0x2cf)](),_0x336e9a=_0x20de51;},_0x38b8bf=_0x2dd23b[_0x5d281d(0x5a5)]({'next':_0x3973f3=>{const _0x5cb1ae=_0x5d281d;switch(_0x3973f3['status']){case _0x3cfea6['JobStatus']['Partial']:if(_0x5cb1ae(0x394)!==_0x3973f3['result'][_0x5cb1ae(0x3a7)])return;if(_0x3973f3[_0x5cb1ae(0x60b)]&&void 0x0!==_0x3973f3[_0x5cb1ae(0x60b)][_0x5cb1ae(0x1f6)]){if(void 0x0===_0x3973f3[_0x5cb1ae(0x60b)][_0x5cb1ae(0x57e)])return void _0x3fb830(_0xa369e8['codes'][_0x5cb1ae(0x847)]);_0x4c0918===_0x3973f3[_0x5cb1ae(0x60b)][_0x5cb1ae(0x57e)]?(_0x4403e6['push'](_0x3973f3[_0x5cb1ae(0x60b)]),_0x4c0918++,((()=>{const _0x4b7f9b=_0x5cb1ae;for(;_0x19b1dd[_0x4b7f9b(0x31e)](_0x4c0918);)_0x4403e6['push'](_0x19b1dd[_0x4b7f9b(0x31f)](_0x4403e6[_0x4b7f9b(0x4f4)])),_0x19b1dd[_0x4b7f9b(0x6f9)](_0x4403e6[_0x4b7f9b(0x4f4)]),_0x4c0918++;})()),_0x4bbc16(),_0x56f795()):_0x19b1dd['set'](_0x3973f3['result'][_0x5cb1ae(0x57e)],_0x3973f3[_0x5cb1ae(0x60b)]);}break;case _0x3cfea6[_0x5cb1ae(0x6c1)][_0x5cb1ae(0x43c)]:if(_0x5cb1ae(0x394)!==_0x3973f3[_0x5cb1ae(0x60b)][_0x5cb1ae(0x3a7)])return;const _0x3ffa31=_0x3973f3[_0x5cb1ae(0x60b)]['inputTokens']??0x0;this[_0x5cb1ae(0x72f)](_0x24571d,_0x3ffa31),clearTimeout(_0x202ce3),_0x3fb830(),this[_0x5cb1ae(0x251)]+=0x1,this['tokens']+=_0x3ffa31,this['sendStats']();break;case _0x3cfea6[_0x5cb1ae(0x6c1)][_0x5cb1ae(0x58b)]:clearTimeout(_0x202ce3),_0x3fb830(_0xa369e8[_0x5cb1ae(0x98c)][_0x5cb1ae(0x4fc)]),this[_0x5cb1ae(0x44e)]();}},'error':_0x1c1758=>{const _0x885339=_0x5d281d;clearTimeout(_0x202ce3),_0x3fb830(_0xa369e8[_0x885339(0x98c)][_0x885339(0x4fc)]);}}),_0x2cfe9f=()=>{const _0x26b541=_0x5d281d;_0x3fb830(_0xa369e8['codes'][_0x26b541(0x2f7)]);},_0x56f795=()=>{clearTimeout(_0x202ce3),_0x202ce3=setTimeout(_0x2cfe9f,_0x3d7937);};for(_0x202ce3=setTimeout(_0x2cfe9f,_0x3d7937);!_0x4302c8||_0x4403e6[_0x5d281d(0x4f4)]>0x0;)_0x4403e6[_0x5d281d(0x4f4)]>0x0?yield _0x4403e6[_0x5d281d(0x1ff)]():await new Promise(_0x5af880=>_0x45f45d=_0x5af880);if(_0x336e9a)throw _0x61b339[_0x5d281d(0x3db)]('GenerativeAIContext\x20stream\x20error',{'nodeId':this[_0x5d281d(0x780)][_0x5d281d(0x47f)](),'nodeType':this[_0x5d281d(0x780)][_0x5d281d(0x3a7)]}),new _0xa369e8(_0x336e9a);}async[_0x3cd514(0x599)](){const _0x5c102a=_0x3cd514;return(await _0x328271[_0x5c102a(0x8f0)](this[_0x5c102a(0x1a3)],this[_0x5c102a(0x788)]))[_0x5c102a(0x75d)];}[_0x3cd514(0x72f)](_0xaa370b,_0x455b48){const _0x2a919e=_0x3cd514,_0x396da5=this[_0x2a919e(0x788)],_0x526cb4=this['getOwnerId']();_0x61b339[_0x2a919e(0x72f)](_0x411645[_0x2a919e(0x115)],{'topic':_0x396da5,'prompt':_0xaa370b,'type':_0x2a919e(0x394),'nodeId':_0x526cb4,'tokenCount':_0x455b48});}async[_0x3cd514(0x4d6)](_0x36c2f4,_0x32d499,_0xad00fd,_0x35246a={}){const _0x1ac04=_0x3cd514;let _0x44f295;switch(_0xad00fd['type']){case _0x1ac04(0x394):{const {threadId:_0x367db5}=_0x35246a;_0x44f295={'id':_0x36c2f4,'jobType':_0x32d499,'parameters':{..._0x35246a,'type':_0x1ac04(0x394),'prompt':_0xad00fd[_0x1ac04(0x394)],'threadId':_0x367db5},'status':_0x3cfea6[_0x1ac04(0x6c1)][_0x1ac04(0x751)]};break;}case'rate':{const {threadId:_0x282cfc}=_0x35246a;_0x44f295={'id':_0x36c2f4,'jobType':_0x32d499,'parameters':{..._0x35246a,'type':_0x1ac04(0x2a0),'jobId':_0xad00fd[_0x1ac04(0x637)],'rating':_0xad00fd[_0x1ac04(0x85e)],'feedback':_0xad00fd[_0x1ac04(0x443)]??'','threadId':_0x282cfc},'status':_0x3cfea6['JobStatus']['Pending']};break;}case _0x1ac04(0x3c9):_0x44f295={'id':_0x36c2f4,'jobType':_0x32d499,'parameters':{..._0x35246a,'type':_0x1ac04(0x3c9),'objectStoreId':_0xad00fd[_0x1ac04(0x988)],'documentPath':_0xad00fd['documentPath']},'status':_0x3cfea6[_0x1ac04(0x6c1)][_0x1ac04(0x751)]};}return await this[_0x1ac04(0x5a3)](_0x44f295);}[_0x3cd514(0x44e)](){const _0x19ddc9=_0x3cd514;this[_0x19ddc9(0x5f4)]&&clearTimeout(this['debounceStats']),this[_0x19ddc9(0x5f4)]=setTimeout(async()=>{const _0x5dbdf4=_0x19ddc9;delete this[_0x5dbdf4(0x5f4)],this[_0x5dbdf4(0x917)]['publish']({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x5dbdf4(0x739)],'content':{'type':_0x32bee3[_0x5dbdf4(0x563)],'label':this[_0x5dbdf4(0x788)],'stats':{'timestamp':Date[_0x5dbdf4(0x498)](),'storage':0x0,'messagesSent':this[_0x5dbdf4(0x46b)],'messagesReceived':this[_0x5dbdf4(0x1a8)],'bytesSent':this[_0x5dbdf4(0x6cd)],'bytesReceived':this[_0x5dbdf4(0x728)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x5dbdf4(0x84d)]}}});},_0x34d584);}}var _0x1920f0,_0x55aac9,_0x60e1e8,_0x12c942,_0x476828,_0x216312,_0x221598,_0x27e08b,_0x26cf11,_0x5c292e,_0x430ea5;!function(_0x36c87b){const _0x3475fb=_0x3cd514;_0x36c87b[_0x3475fb(0x70d)]=_0x3475fb(0x70d),_0x36c87b[_0x3475fb(0x325)]=_0x3475fb(0x325),_0x36c87b[_0x3475fb(0xcf)]=_0x3475fb(0xcf),_0x36c87b['WorkflowTrace']=_0x3475fb(0x81a);}(_0x1920f0||(_0x1920f0={})),function(_0x95a01d){const _0x4fca6a=_0x3cd514;_0x95a01d[_0x4fca6a(0x736)]=_0x4fca6a(0x736),_0x95a01d[_0x4fca6a(0x55f)]=_0x4fca6a(0x55f),_0x95a01d[_0x4fca6a(0x48f)]=_0x4fca6a(0x48f),_0x95a01d[_0x4fca6a(0x3e5)]='EntityExtractor',_0x95a01d[_0x4fca6a(0x1bd)]=_0x4fca6a(0x1bd),_0x95a01d['Reranker']=_0x4fca6a(0x5f7);}(_0x55aac9||(_0x55aac9={})),function(_0x210deb){const _0x143238=_0x3cd514;_0x210deb[_0x210deb['Debug']=0x0]=_0x143238(0x91d),_0x210deb[_0x210deb[_0x143238(0x628)]=0x5]='Info',_0x210deb[_0x210deb[_0x143238(0x78f)]=0xa]=_0x143238(0x78f),_0x210deb[_0x210deb['Error']=0xf]=_0x143238(0x471);}(_0x60e1e8||(_0x60e1e8={})),function(_0x1bc6bc){const _0xe72b89=_0x3cd514;_0x1bc6bc[_0xe72b89(0x88c)]='Retrieve',_0x1bc6bc['Ingest']=_0xe72b89(0x29c),_0x1bc6bc[_0xe72b89(0x8af)]=_0xe72b89(0x8af),_0x1bc6bc['Skill']=_0xe72b89(0x5a9),_0x1bc6bc[_0xe72b89(0x448)]=_0xe72b89(0x448),_0x1bc6bc[_0xe72b89(0x5d5)]=_0xe72b89(0x5d5),_0x1bc6bc[_0xe72b89(0x2bb)]=_0xe72b89(0x2bb),_0x1bc6bc[_0xe72b89(0x418)]=_0xe72b89(0x418);}(_0x12c942||(_0x12c942={})),function(_0x549687){const _0x335554=_0x3cd514;_0x549687[_0x335554(0x828)]=_0x335554(0x828),_0x549687[_0x335554(0x43c)]=_0x335554(0x43c);}(_0x476828||(_0x476828={})),function(_0x1e88af){const _0x59b38a=_0x3cd514;_0x1e88af['InitialPrompt']=_0x59b38a(0x63d),_0x1e88af['IntermediateOutput']=_0x59b38a(0x60a),_0x1e88af[_0x59b38a(0x133)]=_0x59b38a(0x133),_0x1e88af['FinalOutput']=_0x59b38a(0x6d2);}(_0x216312||(_0x216312={})),function(_0x2f91eb){const _0x3950fc=_0x3cd514;_0x2f91eb[_0x3950fc(0x878)]=_0x3950fc(0x878),_0x2f91eb[_0x3950fc(0x585)]=_0x3950fc(0x585),_0x2f91eb[_0x3950fc(0x3e5)]='EntityExtractor',_0x2f91eb[_0x3950fc(0x374)]=_0x3950fc(0x374),_0x2f91eb[_0x3950fc(0x704)]='Agent',_0x2f91eb[_0x3950fc(0x736)]=_0x3950fc(0x736),_0x2f91eb['ModelVector']=_0x3950fc(0x55f),_0x2f91eb[_0x3950fc(0x33a)]='RelationExtractor',_0x2f91eb[_0x3950fc(0x7d9)]=_0x3950fc(0x7d9),_0x2f91eb[_0x3950fc(0x24d)]=_0x3950fc(0x24d),_0x2f91eb[_0x3950fc(0x6be)]=_0x3950fc(0x6be);}(_0x221598||(_0x221598={})),function(_0x1d7f9e){const _0x28238c=_0x3cd514;_0x1d7f9e[_0x28238c(0x2c3)]=_0x28238c(0x2c3),_0x1d7f9e[_0x28238c(0x95a)]=_0x28238c(0x95a);}(_0x27e08b||(_0x27e08b={})),function(_0x5050d0){const _0xb7d248=_0x3cd514;_0x5050d0[_0xb7d248(0x2ee)]=_0xb7d248(0x2ee),_0x5050d0['GetDate']=_0xb7d248(0x20f),_0x5050d0[_0xb7d248(0x4ed)]=_0xb7d248(0x4ed),_0x5050d0[_0xb7d248(0xbd)]=_0xb7d248(0xbd),_0x5050d0['ExecuteAgent']='ExecuteAgent',_0x5050d0[_0xb7d248(0x2cb)]=_0xb7d248(0x2cb);}(_0x26cf11||(_0x26cf11={})),function(_0x24c709){const _0x41fca7=_0x3cd514;_0x24c709[_0x41fca7(0x3c7)]='LoadKnowledgeFunction',_0x24c709[_0x41fca7(0x2ea)]=_0x41fca7(0x2ea);}(_0x5c292e||(_0x5c292e={})),function(_0x23db3b){const _0xa4cf2c=_0x3cd514;_0x23db3b[_0xa4cf2c(0x40e)]=_0xa4cf2c(0x40e);}(_0x430ea5||(_0x430ea5={}));class _0x32e8a5{static [_0x3cd514(0x59b)];[_0x3cd514(0x5ff)]=[];['isRunning']=!0x1;constructor(){}static[_0x3cd514(0x68e)](){const _0x28e490=_0x3cd514;return _0x32e8a5[_0x28e490(0x59b)]||(_0x32e8a5[_0x28e490(0x59b)]=new _0x32e8a5()),_0x32e8a5[_0x28e490(0x59b)];}get[_0x3cd514(0x4f4)](){const _0x492a5c=_0x3cd514;return this['jobQueue'][_0x492a5c(0x4f4)];}[_0x3cd514(0x58a)](){const _0x310527=_0x3cd514;return!this[_0x310527(0x572)];}['clear'](_0xf0adbb){const _0x198467=_0x3cd514;_0xf0adbb?this[_0x198467(0x5ff)]=this[_0x198467(0x5ff)]['filter'](_0x4872f4=>_0x4872f4[_0x198467(0x961)]!==_0xf0adbb):(this[_0x198467(0x5ff)]=[],this[_0x198467(0x572)]=!0x1);}[_0x3cd514(0x6aa)](_0x120d96,_0x6501e3){const _0x1c5068=_0x3cd514;this[_0x1c5068(0x5ff)]['push']({'callback':_0x6501e3,'ownerId':_0x120d96}),this[_0x1c5068(0x815)]();}async[_0x3cd514(0x815)](){const _0x3fa9d7=_0x3cd514;if(!this[_0x3fa9d7(0x572)]){for(this[_0x3fa9d7(0x572)]=!0x0;this[_0x3fa9d7(0x5ff)][_0x3fa9d7(0x4f4)]>0x0;){const _0x4d2c07=this[_0x3fa9d7(0x5ff)]['shift']();if(_0x4d2c07)try{console[_0x3fa9d7(0x76f)](_0x3fa9d7(0x5c8)),await _0x4d2c07['callback']();}catch(_0x5d6fb2){console['error']('JobQueueService:\x20Error\x20running\x20job',_0x5d6fb2);}}this[_0x3fa9d7(0x572)]=!0x1;}}}const _0x1af456=_0x32e8a5[_0x3cd514(0x68e)]();class _0x589853 extends _0x38c6ff{[_0x3cd514(0x4cc)];[_0x3cd514(0x34f)];constructor(_0x2824a4,_0x2ffe66,_0x38f021){const _0x435f93=_0x3cd514;super(_0x2824a4,_0x2ffe66),this[_0x435f93(0x4cc)]=_0x38f021;}[_0x3cd514(0x321)](){const _0x16e029=_0x3cd514;return _0x3cfea6[_0x16e029(0x9b0)]['Job'];}[_0x3cd514(0x92d)](){this['subscribeToJobs']();}['close'](){const _0x485e0d=_0x3cd514;this[_0x485e0d(0x917)]?.[_0x485e0d(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x485e0d(0x739)],'content':{'type':_0x32bee3[_0x485e0d(0x3a8)],'label':this[_0x485e0d(0x788)]}});}[_0x3cd514(0x32f)](){const _0x3a4b0f=_0x3cd514;this[_0x3a4b0f(0x34f)]?.(),delete this[_0x3a4b0f(0x34f)],this[_0x3a4b0f(0x92d)]();}[_0x3cd514(0x616)](){const _0x3d784f=_0x3cd514;_0x1af456['clear'](this[_0x3d784f(0x788)]),this[_0x3d784f(0x34f)]?.(),delete this[_0x3d784f(0x34f)],super[_0x3d784f(0x616)]();}['isAvailable'](){const _0x337df0=_0x3cd514;return _0x1af456[_0x337df0(0x58a)]();}[_0x3cd514(0x5ee)](){return 0x1;}[_0x3cd514(0xff)](_0x4140e9,_0x37c73c,_0x521253){}['accumulateResult'](_0x38568b,_0x51d50e){return _0x38568b;}['startTracing'](_0x576292,_0x458ef7){const _0x18403f=_0x3cd514;console[_0x18403f(0x76f)](_0x18403f(0xf7));}['stopTracing'](_0x5d451c,_0x47fbcf){const _0x445486=_0x3cd514;console[_0x445486(0x76f)](_0x445486(0xf7));}[_0x3cd514(0x331)](){const _0x2f8470=_0x3cd514;this[_0x2f8470(0x34f)]||(this['unsubscribeListener']=this['onMessage']((_0x149891,_0x591021)=>{const _0x4c6174=_0x2f8470;if(_0x61b339[_0x4c6174(0x8b2)](_0x5ce311[_0x4c6174(0x225)],_0x4c6174(0x2d9),_0x591021),!(_0x591021 instanceof File)){if(this[_0x4c6174(0x462)](_0x591021))_0x61b339[_0x4c6174(0x8b2)](_0x5ce311[_0x4c6174(0x225)],_0x4c6174(0x1a0),_0x591021),this['isAvailable']()?this[_0x4c6174(0x75e)](_0x591021['id'],_0x591021[_0x4c6174(0x436)],_0x149891):this[_0x4c6174(0x34d)](_0x591021['id'],_0x591021[_0x4c6174(0x436)],_0x149891);else{if(this[_0x4c6174(0x33c)](_0x591021)){_0x61b339['log'](_0x5ce311[_0x4c6174(0x225)],'JobWorker:\x20Received\x20job\x20attribution',_0x591021);const {id:_0x4b9889,parameters:_0x5e9482}=_0x591021;this[_0x4c6174(0x810)](_0x4b9889,_0x5e9482),_0x1af456[_0x4c6174(0x6aa)](this[_0x4c6174(0x788)],()=>this[_0x4c6174(0x433)](_0x591021['id'],_0x591021,_0x149891));}}}}));}['sendBid'](_0x36d213,_0xa26b10,_0x522826){const _0x1f44d8=_0x3cd514,_0x514a12={'id':_0x36d213,'jobType':_0xa26b10,'jobPhase':_0x4e7fd4['Bid'],'available':!0x0,'queueLength':_0x1af456[_0x1f44d8(0x4f4)],'bid':this[_0x1f44d8(0x5ee)]()};_0x61b339[_0x1f44d8(0x8b2)](_0x5ce311[_0x1f44d8(0x225)],_0x1f44d8(0x81b),_0x514a12),this[_0x1f44d8(0x13f)](_0x514a12,[_0x522826]);}['sendReject'](_0x9eca1d,_0xed29a1,_0x53b110){const _0x55a58b=_0x3cd514,_0x43571e={'id':_0x9eca1d,'jobType':_0xed29a1,'jobPhase':_0x4e7fd4[_0x55a58b(0x4ee)],'available':!0x1,'queueLength':_0x1af456[_0x55a58b(0x4f4)],'bid':0x0};_0x61b339[_0x55a58b(0x8b2)](_0x5ce311[_0x55a58b(0x225)],_0x55a58b(0x220),_0x43571e),this[_0x55a58b(0x13f)](_0x43571e,[_0x53b110]);}async['handleJobAttribution'](_0x24d5ed,_0x2a5e69,_0x1eea8a){const _0x34cfb2=_0x3cd514;_0x61b339[_0x34cfb2(0x8b2)](_0x5ce311[_0x34cfb2(0x225)],'JobWorker:\x20Handling\x20job\x20attribution',_0x2a5e69);const _0x1d0413={'id':_0x24d5ed,'jobType':_0x2a5e69[_0x34cfb2(0x436)],'parameters':_0x2a5e69[_0x34cfb2(0x992)]};try{switch(_0x2a5e69[_0x34cfb2(0x436)]){case _0x3cfea6[_0x34cfb2(0x1c9)]['Job']:await this[_0x34cfb2(0x7f2)](_0x24d5ed,_0x2a5e69,_0x1d0413,_0x1eea8a);break;case _0x3cfea6[_0x34cfb2(0x1c9)][_0x34cfb2(0x72d)]:await this[_0x34cfb2(0x197)](_0x24d5ed,_0x2a5e69,_0x1d0413,_0x1eea8a);break;default:throw new Error(_0x34cfb2(0x30c));}}catch(_0x1cdef5){_0x61b339['error'](_0x34cfb2(0x1df),{'nodeId':this[_0x34cfb2(0x189)][_0x34cfb2(0x47f)](),'nodeType':this[_0x34cfb2(0x189)]['type'],'data':{'job':_0x1d0413}},_0x1cdef5);const _0x5d4184=_0x1cdef5 instanceof Error?_0x1cdef5[_0x34cfb2(0xfe)]:'An\x20error\x20occurred',_0x1b14cb={'id':_0x24d5ed,'jobType':_0x2a5e69[_0x34cfb2(0x436)],'jobPhase':_0x4e7fd4['Failed'],'message':_0x5d4184};await this['send'](_0x1b14cb,[_0x1eea8a]);}}async[_0x3cd514(0x7f2)](_0x4eacd8,_0x317ce0,_0x19f8da,_0x118296){const _0x35676d=_0x3cd514,_0x12af49=Date[_0x35676d(0x498)](),_0x166718=await this[_0x35676d(0x715)](_0x4eacd8,_0x19f8da[_0x35676d(0x992)]);this['compileStats'](_0x166718,_0x12af49,Date[_0x35676d(0x498)]());const _0x3fe647={'id':_0x4eacd8,'jobType':_0x317ce0['jobType'],'jobPhase':_0x4e7fd4[_0x35676d(0x505)],'result':_0x166718};_0x61b339[_0x35676d(0x8b2)](_0x5ce311[_0x35676d(0x225)],'JobWorker:\x20Sending\x20job\x20result',_0x3fe647),await this[_0x35676d(0x13f)](_0x3fe647,[_0x118296]),this['stopTracing'](_0x4eacd8,_0x19f8da[_0x35676d(0x992)]);}async['processJobStream'](_0x515a29,_0x53c84c,_0x1e3a67,_0x2c82a6){const _0x27fd79=_0x3cd514,_0x48ff31=Date[_0x27fd79(0x498)]();let _0x2328bc=0x0,_0x15369d={};for await(const _0x572527 of this[_0x27fd79(0x385)](_0x1e3a67['id'],_0x1e3a67[_0x27fd79(0x992)])){const _0x1d65f8={'id':_0x515a29,'jobType':_0x53c84c[_0x27fd79(0x436)],'jobPhase':_0x4e7fd4['PartialResult'],'result':{..._0x572527,'index':_0x2328bc}};_0x61b339['log'](_0x5ce311['Jobs'],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x1d65f8),this['send'](_0x1d65f8,[_0x2c82a6]),_0x15369d=this[_0x27fd79(0x16a)](_0x15369d,_0x572527),_0x2328bc++;}this[_0x27fd79(0xff)](_0x15369d,_0x48ff31,Date[_0x27fd79(0x498)]());const _0x4ea651={'id':_0x515a29,'jobType':_0x53c84c[_0x27fd79(0x436)],'jobPhase':_0x4e7fd4[_0x27fd79(0x505)],'result':_0x15369d};_0x61b339['log'](_0x5ce311[_0x27fd79(0x225)],_0x27fd79(0x8c1),_0x4ea651),await this[_0x27fd79(0x13f)](_0x4ea651,[_0x2c82a6]),this[_0x27fd79(0x68a)](_0x515a29,_0x1e3a67[_0x27fd79(0x992)]);}[_0x3cd514(0x462)](_0x37ea86){const _0x151979=_0x3cd514;return _0x37ea86[_0x151979(0x7de)]===_0x4e7fd4[_0x151979(0x199)];}[_0x3cd514(0x33c)](_0x261adc){const _0xef550b=_0x3cd514;return _0x261adc[_0xef550b(0x7de)]===_0x4e7fd4[_0xef550b(0x532)];}}function _0x4037c1(_0xa00d57,_0x19a429){const _0x3ae9d6=_0x3cd514;return _0x3ae9d6(0x30e)+_0xa00d57+'-'+_0x19a429;}function _0x4368fc(){const _0x3862fe=_0x3cd514,_0x3a4d7f=_0x21440d[_0x3862fe(0x192)](0x1);return _0x3a4d7f[_0x3862fe(0x8a5)]('logs')['index']('id')[_0x3862fe(0x57e)](_0x3862fe(0x637))['index'](_0x3862fe(0x546))['index']('threadId')[_0x3862fe(0x57e)](_0x3862fe(0x39b))[_0x3862fe(0x57e)](_0x3862fe(0x974)),_0x3a4d7f;}function _0x1f1ff2(_0x539ff5){const _0x4839ce=_0x3cd514;try{return JSON[_0x4839ce(0x178)](_0x539ff5);}catch(_0x48f652){return _0x539ff5 instanceof Error?_0x539ff5[_0x4839ce(0x548)]():JSON[_0x4839ce(0x178)]('Error\x20stringifying\x20object');}}class _0x42aace{static [_0x3cd514(0x59b)];[_0x3cd514(0x46f)]=_0x60e1e8[_0x3cd514(0x471)];[_0x3cd514(0x541)]=_0x60e1e8[_0x3cd514(0x628)];[_0x3cd514(0x3bd)]=_0x12c942[_0x3cd514(0x88c)];[_0x3cd514(0x6e8)]={};static [_0x3cd514(0x68e)]=()=>(_0x42aace['instance']||(_0x42aace[_0x3cd514(0x59b)]=new _0x42aace()),_0x42aace[_0x3cd514(0x59b)]);[_0x3cd514(0x2fc)](_0x389078,_0x461835,_0x46bbef=!0x0){const _0xe7def0=_0x3cd514;try{if(this[_0xe7def0(0x6e8)][_0x461835])throw new Error(_0xe7def0(0x1da));const _0x1ecc49={'sequence':0x0};if(this[_0xe7def0(0x6e8)][_0x461835]=_0x1ecc49,!_0x389078)return!0x0;const _0x5227a4=function(_0x406449){const _0x2aa8cd=_0xe7def0;return _0x406449[_0x2aa8cd(0x1a9)](_0x2aa8cd(0x3a9));}(_0x389078);return _0x1ecc49[_0xe7def0(0x78b)]=_0x389078,_0x1ecc49[_0xe7def0(0x8a5)]=_0x5227a4,!0x0;}catch(_0x496bb6){return console[_0xe7def0(0x3db)]('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27'+_0x46bbef,_0x496bb6),!!_0x46bbef&&(this[_0xe7def0(0x5e9)](_0x461835),this[_0xe7def0(0x2fc)](_0x389078,_0x461835,!0x1));}}[_0x3cd514(0x29b)](_0x5b5d99){const _0xf77f26=_0x3cd514;try{const _0x22ddc9=this[_0xf77f26(0x6e8)][_0x5b5d99['jobId']];if(!_0x22ddc9)throw new Error(_0xf77f26(0x28e));_0x5b5d99['sequence']=_0x22ddc9[_0xf77f26(0x974)]++,_0x5b5d99[_0xf77f26(0x618)]>=this['logLevel']&&console['log'](JSON['stringify'](_0x5b5d99,null,0x2)),this[_0xf77f26(0x71d)](_0x5b5d99);}catch(_0x107800){console[_0xf77f26(0x3db)](_0xf77f26(0x425),_0x107800);}}[_0x3cd514(0x5e9)](_0x1e275e){const _0x4f88da=_0x3cd514;if(!_0x42aace[_0x4f88da(0x59b)])throw new Error(_0x4f88da(0x6dc));if(!this[_0x4f88da(0x6e8)][_0x1e275e])throw new Error(_0x4f88da(0x6d4));delete this['openedTraces'][_0x1e275e];}[_0x3cd514(0x71d)](_0x89e00d){const _0x1ada42=_0x3cd514;if(_0x89e00d[_0x1ada42(0x618)]<this[_0x1ada42(0x541)]&&_0x89e00d[_0x1ada42(0x436)]!==this[_0x1ada42(0x3bd)])return;if(!this[_0x1ada42(0x6e8)][_0x89e00d[_0x1ada42(0x637)]])throw new Error(_0x1ada42(0x3b8));const _0x379f1f=this[_0x1ada42(0x6e8)][_0x89e00d[_0x1ada42(0x637)]];if(!_0x379f1f[_0x1ada42(0x78b)])throw new Error(_0x1ada42(0x729));if(!_0x379f1f[_0x1ada42(0x8a5)])throw new Error(_0x1ada42(0x472));try{const _0x581e2c=function(_0x4d897b){const _0x3768dd=_0x1ada42,_0x24fbcf=['startTime',_0x3768dd(0x39b),'jobType',_0x3768dd(0x3a7),_0x3768dd(0x637),_0x3768dd(0x618),_0x3768dd(0x4c9),_0x3768dd(0x41c),'sequence',_0x3768dd(0x90b)],_0x5315a5={..._0x4d897b};for(const _0x31a19a of _0x24fbcf)delete _0x5315a5[_0x31a19a];return{'timestamp':_0x4d897b[_0x3768dd(0x39b)],'jobType':_0x4d897b[_0x3768dd(0x436)],'type':_0x4d897b[_0x3768dd(0x3a7)],'jobId':_0x4d897b[_0x3768dd(0x637)],'agentId':_0x4d897b[_0x3768dd(0x546)]??'','traceLevel':_0x4d897b[_0x3768dd(0x618)],'blockId':_0x4d897b[_0x3768dd(0x4c9)]??'','startTime':_0x4d897b[_0x3768dd(0x3e2)],'status':_0x4d897b['status'],'sequence':_0x4d897b[_0x3768dd(0x974)]??0x0,'errorDetails':_0x4d897b[_0x3768dd(0x90b)]??'','metadata':_0x1f1ff2(_0x5315a5)};}(_0x89e00d),_0x1d0aa3=(0x0,_0x6d7452['v4'])();console[_0x1ada42(0x8b2)]('Logging\x20trace',_0x581e2c[_0x1ada42(0x3a7)]),_0x379f1f[_0x1ada42(0x8a5)][_0x1ada42(0x282)](_0x1d0aa3,_0x581e2c);}catch(_0x46cbb9){console[_0x1ada42(0x3db)](_0x1ada42(0x5e8),_0x46cbb9);}}}const _0x43b7f8=_0x42aace[_0x3cd514(0x68e)]();async function _0x233788(_0x47499a,_0xfbd017,_0x3443e7,_0x2bfca1,_0x1d8454){const _0x1a0382=_0x3cd514,_0x2170a5=Date[_0x1a0382(0x498)](),_0x162511=_0x1d8454[_0x1a0382(0x6cc)][_0x1a0382(0x833)](_0x7db79f=>_0x7db79f['id']===_0x3443e7[_0x1a0382(0xf4)]);if(!_0x162511)throw new Error('Model\x20not\x20found');const _0x3e33e6=_0x1d8454[_0x1a0382(0x5ef)][_0x1a0382(0x833)](_0x9f8526=>_0x9f8526[_0x1a0382(0xb8)]()===_0x162511[_0x1a0382(0x46c)]);if(!_0x3e33e6)throw new Error(_0x1a0382(0x7d7));const _0x1aab09=[],_0x270c12=(0x0,_0x6d7452['v4'])(),_0x3e0459=await _0x3e33e6[_0x1a0382(0x7f2)]({'type':_0x1a0382(0x394),'prompt':_0xfbd017,'instructions':_0x3443e7[_0x1a0382(0x716)],'grammar':_0x3443e7[_0x1a0382(0x249)],'temperature':_0x3443e7[_0x1a0382(0x22d)],'maxTokens':_0x3443e7[_0x1a0382(0x152)],'threadId':_0x270c12},{'model':_0x162511});if(_0x1a0382(0x1f2)!=typeof _0x3e0459[_0x1a0382(0x1f6)])throw new Error(_0x1a0382(0x5ac));_0x43b7f8[_0x1a0382(0x29b)]({'jobType':_0x12c942[_0x1a0382(0x29c)],'type':_0x221598[_0x1a0382(0x704)],'jobId':_0x47499a,'blockId':_0x3443e7['id'],'traceLevel':_0x60e1e8[_0x1a0382(0x91d)],'timestamp':Date['now'](),'startTime':_0x2170a5,'status':'success','agentId':_0x270c12,'content':_0xfbd017,'instructions':_0x3443e7[_0x1a0382(0x716)],'result':_0x3e0459[_0x1a0382(0x1f6)]}),_0x1aab09['push']({'content':_0x3e0459[_0x1a0382(0x1f6)],'start':0x0,'length':_0xfbd017[_0x1a0382(0x4f4)]}),await _0x4d3d6c(_0x47499a,_0x1aab09,_0x3443e7,_0x2bfca1,_0x1d8454);}async function _0x1f8868(_0x2df5c2,_0x421347,_0x462dff,_0x2105b2,_0x5a2841){const _0x4d4294=_0x3cd514,_0x3f3fd0=Date[_0x4d4294(0x498)]();let _0x8fcd2c=[];if(_0x421347 instanceof Array){for(const _0x28aa88 of _0x421347)_0x8fcd2c=_0x8fcd2c['concat'](_0x2770ca(_0x28aa88['content'],_0x462dff,_0x28aa88['start'],_0x28aa88[_0x4d4294(0x4f4)]));}else _0x8fcd2c=_0x2770ca(_0x421347,_0x462dff);_0x43b7f8[_0x4d4294(0x29b)]({'jobType':_0x12c942[_0x4d4294(0x29c)],'type':_0x221598[_0x4d4294(0x878)],'traceLevel':_0x60e1e8[_0x4d4294(0x91d)],'jobId':_0x2df5c2,'blockId':_0x462dff['id'],'startTime':_0x3f3fd0,'timestamp':Date[_0x4d4294(0x498)](),'status':_0x4d4294(0x2b5),'totalChunks':_0x8fcd2c[_0x4d4294(0x4f4)],'chunkSize':_0x462dff[_0x4d4294(0x40a)]['size']}),await _0x4d3d6c(_0x2df5c2,_0x8fcd2c,_0x462dff,_0x2105b2,_0x5a2841);}function _0x2770ca(_0x1ff03d,_0x363dd1,_0x1582de,_0x3cffcf){const _0x183f3d=_0x3cd514,_0x734e7=[];let _0xaa155c=0x0;for(let _0x19813b=0x0;_0x19813b<_0x1ff03d['length'];_0x19813b+=_0x363dd1[_0x183f3d(0x40a)]['size']){let _0x381a87=_0x19813b-_0x363dd1[_0x183f3d(0x40a)][_0x183f3d(0x895)];_0x381a87<0x0&&(_0x381a87=0x0);let _0x6dd10d=_0x19813b+_0x363dd1['attributes'][_0x183f3d(0x3cb)]+_0x363dd1[_0x183f3d(0x40a)]['overlap'];_0x6dd10d>_0x1ff03d[_0x183f3d(0x4f4)]&&(_0x6dd10d=_0x1ff03d['length']);const _0x1ec36e=_0x1ff03d[_0x183f3d(0x7f0)](_0x381a87,_0x6dd10d);_0x734e7[_0x183f3d(0x63b)]({'content':_0x1ec36e,'start':_0x1582de??_0xaa155c,'length':_0x3cffcf??_0x1ec36e[_0x183f3d(0x4f4)]}),_0xaa155c+=_0x1ec36e['length'];}return _0x734e7;}async function _0x3fa615(_0x429e9a,_0x24439e,_0x512167,_0x591c34,_0x3ea491){const _0x2b14d7=_0x3cd514,_0x2557f6=Date[_0x2b14d7(0x498)]();let _0x17cb1b;if(_0x24439e[_0x2b14d7(0x625)][_0x2b14d7(0x3a7)][_0x2b14d7(0xe8)](_0x2b14d7(0x367))||(_0x5027dd=_0x24439e['file'][_0x2b14d7(0x945)],_0x1cd9bc[_0x2b14d7(0x135)]('.'+(_0x5027dd[_0x2b14d7(0x4d3)]('.')[_0x2b14d7(0x329)]()?.[_0x2b14d7(0x230)]()||''))))_0x17cb1b=await _0x24439e['file']['text']();else{if(!_0x3ea491[_0x2b14d7(0x24a)][_0x2b14d7(0x762)](_0x24439e[_0x2b14d7(0x625)]))throw new Error(_0x2b14d7(0x449)+_0x24439e[_0x2b14d7(0x625)][_0x2b14d7(0x3a7)]+_0x2b14d7(0xdd)+_0x24439e[_0x2b14d7(0x625)][_0x2b14d7(0x945)]);_0x17cb1b=await _0x3ea491[_0x2b14d7(0x24a)][_0x2b14d7(0xc6)](_0x24439e[_0x2b14d7(0x625)]);}var _0x5027dd;_0x43b7f8[_0x2b14d7(0x29b)]({'jobType':_0x12c942[_0x2b14d7(0x29c)],'type':_0x221598[_0x2b14d7(0x585)],'traceLevel':_0x60e1e8[_0x2b14d7(0x91d)],'blockId':_0x512167['id'],'jobId':_0x429e9a,'startTime':_0x2557f6,'timestamp':Date[_0x2b14d7(0x498)](),'status':_0x2b14d7(0x2b5),'documentType':_0x24439e[_0x2b14d7(0x625)]['type'],'documentName':_0x24439e[_0x2b14d7(0x625)][_0x2b14d7(0x945)],'extractionMethod':'OfficeParser'}),await _0x4d3d6c(_0x429e9a,_0x17cb1b,_0x512167,_0x591c34,_0x3ea491);}const _0x1cd9bc=[_0x3cd514(0x567),_0x3cd514(0x9c5),'.py',_0x3cd514(0x49c),_0x3cd514(0x7d0),'.html',_0x3cd514(0x78c),_0x3cd514(0x41a),_0x3cd514(0x4e6),_0x3cd514(0x369),'.yaml',_0x3cd514(0x772),_0x3cd514(0x995),_0x3cd514(0x82c),_0x3cd514(0x284),_0x3cd514(0xe3),'.sql',_0x3cd514(0x5de),'.php',_0x3cd514(0x7f6),'.c',_0x3cd514(0x4b2),'.cs','.r',_0x3cd514(0x106),_0x3cd514(0x723),_0x3cd514(0x255),_0x3cd514(0x2d5),_0x3cd514(0x1ba),_0x3cd514(0x136),_0x3cd514(0x26a),_0x3cd514(0xf9),_0x3cd514(0x63e),_0x3cd514(0x151),'.groovy','.erl','.ex',_0x3cd514(0x5b3),_0x3cd514(0x3b6),_0x3cd514(0x938),'.tcl','.m','.vbs','.awk',_0x3cd514(0x855),'.jl','.ipynb',_0x3cd514(0x939),_0x3cd514(0x42a),'.vue','.erb',_0x3cd514(0x332),'.jinja2',_0x3cd514(0x511),_0x3cd514(0x146),_0x3cd514(0x163),'.pug',_0x3cd514(0x377),'.mustache',_0x3cd514(0x431),_0x3cd514(0x1dc),_0x3cd514(0x626),_0x3cd514(0x6ee)];async function _0x43c373(_0x5e64d7,_0x36efca,_0xe1c040,_0x3dd4e5,_0x590b2b){const _0x54bcb7=_0x3cd514,_0x352989=Date[_0x54bcb7(0x498)](),_0x54674d=new Set();let _0x1ff67e=0x0;for(const _0xa029b6 of _0x36efca)_0x1ff67e+=_0xa029b6[_0x54bcb7(0x1cb)]['length'],await _0xc33206(_0xa029b6[_0x54bcb7(0x1cb)],_0x54674d,_0xe1c040,_0x590b2b[_0x54bcb7(0x675)]);_0x43b7f8[_0x54bcb7(0x29b)]({'jobType':_0x12c942[_0x54bcb7(0x29c)],'type':_0x221598[_0x54bcb7(0x3e5)],'jobId':_0x5e64d7,'blockId':_0xe1c040['id'],'traceLevel':_0x60e1e8[_0x54bcb7(0x91d)],'startTime':_0x352989,'timestamp':Date[_0x54bcb7(0x498)](),'status':_0x54bcb7(0x2b5),'contentLength':_0x1ff67e,'totalChunks':_0x36efca instanceof Array?_0x36efca[_0x54bcb7(0x4f4)]:0x1,'entitiesExtracted':_0x54674d,'totalEntities':_0x54674d['size']}),await _0x4d3d6c(_0x5e64d7,_0x54674d,_0xe1c040,_0x3dd4e5,_0x590b2b);}async function _0xc33206(_0x188af9,_0x68c38f,_0x52399e,_0x2b4d4e){const _0x1243e6=_0x3cd514,_0x17af8f=await _0x2b4d4e[_0x1243e6(0x5d9)](_0x188af9,{'ner':_0x52399e[_0x1243e6(0x40a)][_0x1243e6(0x5d2)],'noun':_0x52399e[_0x1243e6(0x40a)][_0x1243e6(0x6d9)],'propn':_0x52399e[_0x1243e6(0x40a)][_0x1243e6(0x95e)],'verb':_0x52399e[_0x1243e6(0x40a)][_0x1243e6(0x203)]});for(const _0x2f19a9 of _0x17af8f)_0x68c38f[_0x1243e6(0x6aa)](_0x2f19a9);}function _0x4af12(_0x4ef938,_0x199776,_0x4bc0a1,_0x2ad410,_0x2a9229){const _0x3cc927=_0x3cd514,_0x502c7b=Date['now']();if(_0x4bc0a1[_0x3cc927(0x570)]||(_0x4bc0a1['accumulated']={}),_0x3cc927(0x1f2)==typeof _0x199776?_0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x1cb)]=_0x199776:_0x199776 instanceof Set?_0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x7ac)]=_0x199776:_0x199776 instanceof Map?_0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x464)]=_0x199776:_0x199776 instanceof Array?_0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x57e)]=_0x199776:_0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x625)]=_0x199776,_0x4bc0a1[_0x3cc927(0x7cd)]=_0x4bc0a1[_0x3cc927(0x7cd)]?_0x4bc0a1['timesCalled']+0x1:0x1,_0x72d80d(_0x4bc0a1,_0x2ad410)>_0x4bc0a1[_0x3cc927(0x7cd)])return;if(!(_0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x7ac)]&&_0x4bc0a1['accumulated'][_0x3cc927(0x625)]&&_0x4bc0a1[_0x3cc927(0x570)]['content']&&_0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x57e)]))throw new Error(_0x3cc927(0x2cc));let _0x286aed=0x0;const _0x18a5ae=_0x2a9229[_0x3cc927(0x1b6)][_0x3cc927(0x5ad)](_0x4bc0a1['id']);for(const _0x2b3af9 of _0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x7ac)]){let _0x4f7365=[];_0x4f7365=_0x4bc0a1['accumulated'][_0x3cc927(0x57e)]['filter'](_0x426a06=>_0x426a06[_0x3cc927(0x1cb)]['includes'](_0x2b3af9));try{_0x18a5ae[_0x3cc927(0x5c3)](_0x4bc0a1[_0x3cc927(0x570)]['file']['pathName'],_0x4bc0a1[_0x3cc927(0x570)]['content'],_0x4f7365,_0x2b3af9),_0x286aed+=0x1;}catch(_0x36382b){}}if(_0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x464)]){for(const [_0x228207,_0x1d796e]of _0x4bc0a1[_0x3cc927(0x570)][_0x3cc927(0x464)])for(const _0x47f73e of _0x1d796e)try{_0x18a5ae[_0x3cc927(0x80c)](_0x228207,_0x47f73e);}catch(_0x30c1a7){}if(_0x18a5ae[_0x3cc927(0xc4)]()){let _0x3a3ec2=''+(_0x2a9229[_0x3cc927(0x67f)]??0x1);for(const _0x1dd224 of _0x2ad410)if(_0x1dd224[_0x3cc927(0x3a7)]===_0x4aad44[_0x3cc927(0x704)]){_0x3a3ec2=_0x3a3ec2+'-'+(_0x1dd224[_0x3cc927(0x67f)]??0x1);break;}_0x18a5ae['saveToDisk'](_0x3a3ec2);}_0x43b7f8['trace']({'jobType':_0x12c942[_0x3cc927(0x29c)],'type':_0x221598[_0x3cc927(0x374)],'jobId':_0x4ef938,'blockId':_0x4bc0a1['id'],'status':_0x3cc927(0x2b5),'startTime':_0x502c7b,'timestamp':Date[_0x3cc927(0x498)](),'traceLevel':_0x60e1e8[_0x3cc927(0x91d)],'nodesAdded':_0x286aed,'entities':_0x4bc0a1['accumulated'][_0x3cc927(0x7ac)],'relations':_0x4bc0a1['accumulated']['relations']});}}async function _0x296495(_0x264469,_0x261e18,_0x39938d,_0x582408,_0x56547d){const _0x6355ec=_0x3cd514,_0x31396a=_0x56547d[_0x6355ec(0x6cc)][_0x6355ec(0x833)](_0x1e952e=>_0x1e952e['id']===_0x39938d['id']);if(!_0x31396a)throw new Error(_0x6355ec(0x21d));switch(_0x31396a[_0x6355ec(0x1cd)]){case _0x3cfea6[_0x6355ec(0x629)][_0x6355ec(0x14e)]:if('string'!=typeof _0x261e18)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x5c7ef3,_0x3bfbc8,_0x502a2a,_0x1c460e,_0x512b8a,_0x200382){const _0x3f44af=_0x6355ec,_0x375bde=Date['now']();let _0x346ec9;const _0x3c0e29=_0x200382[_0x3f44af(0x5ef)][_0x3f44af(0x833)](_0x6dbe35=>_0x6dbe35['getEngineType']()===_0x502a2a['engineType']);if(!_0x3c0e29)throw new Error('No\x20connector\x20found\x20for\x20model');_0x346ec9=await async function(_0x308aae,_0x12451a,_0x336855){const _0x4b3886=_0x3f44af,_0x12c4d5=await _0x12451a['processJob']({'type':_0x4b3886(0x394),'prompt':_0x308aae,'threadId':''},{'model':_0x336855});if(_0x12c4d5['output']instanceof Array)throw new Error('Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text');return _0x12c4d5['output'];}(_0x3bfbc8,_0x3c0e29,_0x502a2a),_0x43b7f8[_0x3f44af(0x29b)]({'jobType':_0x12c942['Ingest'],'type':_0x221598[_0x3f44af(0x736)],'jobId':_0x5c7ef3,'blockId':_0x1c460e['id'],'traceLevel':_0x60e1e8[_0x3f44af(0x91d)],'timestamp':Date[_0x3f44af(0x498)](),'startTime':_0x375bde,'status':_0x3f44af(0x2b5),'modelName':_0x502a2a['id'],'inputType':_0x502a2a['inputType'],'outputType':_0x502a2a[_0x3f44af(0x1cd)],'content':_0x3bfbc8,'results':_0x346ec9}),await _0x4d3d6c(_0x5c7ef3,_0x346ec9,_0x1c460e,_0x512b8a,_0x200382);}(_0x264469,_0x261e18,_0x31396a,_0x39938d,_0x582408,_0x56547d);break;case _0x3cfea6[_0x6355ec(0x629)][_0x6355ec(0x338)]:if(!(_0x261e18 instanceof Array))throw new Error(_0x6355ec(0x234));await async function(_0x5c09d6,_0x5235ef,_0x5dc2ee,_0x128d0f,_0x124562,_0x375471){const _0x2ab990=_0x6355ec,_0x43f62f=Date['now'](),_0x1d2ada=[],_0x3b9308=_0x375471[_0x2ab990(0x5ef)]['find'](_0x5ea5a8=>_0x5ea5a8[_0x2ab990(0xb8)]()===_0x5dc2ee[_0x2ab990(0x46c)]);if(!_0x3b9308)throw new Error(_0x2ab990(0x7d7));for(const _0x22a6ad of _0x5235ef)_0x1d2ada[_0x2ab990(0x63b)](await _0x90af34(_0x22a6ad,_0x3b9308,_0x5dc2ee));_0x43b7f8[_0x2ab990(0x29b)]({'jobType':_0x12c942[_0x2ab990(0x29c)],'type':_0x221598[_0x2ab990(0x55f)],'jobId':_0x5c09d6,'blockId':_0x128d0f['id'],'traceLevel':_0x60e1e8[_0x2ab990(0x91d)],'timestamp':Date[_0x2ab990(0x498)](),'startTime':_0x43f62f,'status':_0x2ab990(0x2b5),'modelName':_0x5dc2ee['id'],'inputType':_0x5dc2ee[_0x2ab990(0xd4)],'outputType':_0x5dc2ee[_0x2ab990(0x1cd)],'totalVectors':_0x1d2ada[_0x2ab990(0x4f4)]}),await _0x4d3d6c(_0x5c09d6,_0x1d2ada,_0x128d0f,_0x124562,_0x375471);}(_0x264469,_0x261e18,_0x31396a,_0x39938d,_0x582408,_0x56547d);}}async function _0x90af34(_0x235b06,_0x5e65dd,_0x2681b0){const _0x152543=_0x3cd514;return(await _0x5e65dd[_0x152543(0x7f2)]({'type':'prompt','prompt':_0x235b06['content'],'threadId':''},{'model':_0x2681b0}))[_0x152543(0x1f6)];}async function _0x51d8f0(_0x1635c8,_0xbff1c,_0x5e557b,_0x411eba,_0x299898){const _0xe0d3d0=_0x3cd514,_0x12a79f=Date[_0xe0d3d0(0x498)]();if(_0x5e557b[_0xe0d3d0(0x570)]||(_0x5e557b[_0xe0d3d0(0x570)]={}),_0xbff1c instanceof Array?_0x5e557b[_0xe0d3d0(0x570)][_0xe0d3d0(0x57e)]=_0xbff1c:_0x5e557b['accumulated'][_0xe0d3d0(0x7ac)]=_0xbff1c,_0x5e557b['timesCalled']=_0x5e557b[_0xe0d3d0(0x7cd)]?_0x5e557b[_0xe0d3d0(0x7cd)]+0x1:0x1,_0x72d80d(_0x5e557b,_0x411eba)>_0x5e557b[_0xe0d3d0(0x7cd)])return;if(!_0x5e557b[_0xe0d3d0(0x570)][_0xe0d3d0(0x57e)]||!_0x5e557b['accumulated']['entities'])throw new Error(_0xe0d3d0(0x1e7));const _0x17c2ba=new Map();for(const _0xdbdb4d of _0x5e557b[_0xe0d3d0(0x570)][_0xe0d3d0(0x57e)])_0x4ff3f9(_0xdbdb4d[_0xe0d3d0(0x1cb)],_0x5e557b[_0xe0d3d0(0x570)][_0xe0d3d0(0x7ac)],_0x17c2ba);_0x43b7f8[_0xe0d3d0(0x29b)]({'jobType':_0x12c942[_0xe0d3d0(0x29c)],'type':_0x221598['RelationExtractor'],'jobId':_0x1635c8,'blockId':_0x5e557b['id'],'traceLevel':_0x60e1e8['Debug'],'timestamp':Date['now'](),'startTime':_0x12a79f,'status':'success','entities':_0x5e557b[_0xe0d3d0(0x570)][_0xe0d3d0(0x7ac)],'relations':_0x17c2ba,'totalRelationsExtracted':_0x17c2ba[_0xe0d3d0(0x3cb)]}),await _0x4d3d6c(_0x1635c8,_0x17c2ba,_0x5e557b,_0x411eba,_0x299898);}function _0x4ff3f9(_0x55d185,_0x517aa9,_0x42309b){const _0x378e21=_0x3cd514;for(const _0x2628ca of _0x517aa9)for(const _0x5f0572 of _0x517aa9){if(_0x2628ca===_0x5f0572)continue;const _0x3be5f0=_0x55d185[_0x378e21(0x8f4)](_0x2628ca),_0x15e033=_0x55d185[_0x378e21(0x8f4)](_0x5f0572);-0x1!==_0x3be5f0&&-0x1!==_0x15e033&&(_0x42309b[_0x378e21(0x31e)](_0x2628ca)||_0x42309b['set'](_0x2628ca,new Set()),_0x42309b[_0x378e21(0x31f)](_0x2628ca)['add'](_0x5f0572));}return _0x42309b;}async function _0x57405f(_0x2dd49a,_0x309742,_0x1ddab7,_0x3be54c,_0x53e945){const _0x105a81=_0x3cd514,_0x43399d=Date['now']();let _0x1b7fbd=[];if(_0x309742 instanceof Array)for(const _0x34367d of _0x309742){const _0x872039=await _0x53e945[_0x105a81(0x675)]['getSentences'](_0x34367d[_0x105a81(0x1cb)]);_0x1b7fbd=_0x1b7fbd[_0x105a81(0x1a6)](_0x872039[_0x105a81(0x730)](_0x31b718=>({'content':_0x31b718,'start':_0x34367d[_0x105a81(0x4e2)],'length':_0x34367d[_0x105a81(0x4f4)]})));}else _0x1b7fbd=(await _0x53e945[_0x105a81(0x675)][_0x105a81(0x5ec)](_0x309742))['map'](_0x287acc=>({'content':_0x287acc,'start':_0x309742[_0x105a81(0x8f4)](_0x287acc),'length':_0x287acc[_0x105a81(0x4f4)]}));_0x43b7f8[_0x105a81(0x29b)]({'jobType':_0x12c942['Ingest'],'type':_0x221598[_0x105a81(0x7d9)],'jobId':_0x2dd49a,'blockId':_0x1ddab7['id'],'traceLevel':_0x60e1e8[_0x105a81(0x91d)],'startTime':_0x43399d,'timestamp':Date[_0x105a81(0x498)](),'status':'success','totalSentences':_0x1b7fbd[_0x105a81(0x4f4)],'averageSentenceLength':_0x1b7fbd[_0x105a81(0x256)]((_0x2ce69a,_0x418ab7)=>_0x2ce69a+_0x418ab7[_0x105a81(0x4f4)],0x0)/_0x1b7fbd[_0x105a81(0x4f4)]}),await _0x4d3d6c(_0x2dd49a,_0x1b7fbd,_0x1ddab7,_0x3be54c,_0x53e945);}function _0x1596b4(_0x1a9072,_0x38b592,_0x2b4e24,_0x364162,_0x239530){const _0x34a7bd=_0x3cd514,_0x143be2=Date[_0x34a7bd(0x498)]();var _0x4bab59;if(_0x2b4e24[_0x34a7bd(0x570)]||(_0x2b4e24[_0x34a7bd(0x570)]={}),_0x38b592 instanceof Array?(_0x4bab59=_0x38b592)[0x0]instanceof Array&&_0x34a7bd(0x994)==typeof _0x4bab59[0x0]?.[0x0]?_0x2b4e24[_0x34a7bd(0x570)][_0x34a7bd(0x121)]=_0x38b592:_0x2b4e24[_0x34a7bd(0x570)][_0x34a7bd(0x57e)]=_0x38b592:_0x34a7bd(0x1f2)==typeof _0x38b592?_0x2b4e24['accumulated'][_0x34a7bd(0x1cb)]=_0x38b592:_0x2b4e24[_0x34a7bd(0x570)][_0x34a7bd(0x625)]=_0x38b592,_0x2b4e24['timesCalled']=_0x2b4e24['timesCalled']?_0x2b4e24[_0x34a7bd(0x7cd)]+0x1:0x1,_0x72d80d(_0x2b4e24,_0x364162)>_0x2b4e24['timesCalled'])return;if(!(_0x2b4e24[_0x34a7bd(0x570)][_0x34a7bd(0x1cb)]&&_0x2b4e24[_0x34a7bd(0x570)][_0x34a7bd(0x57e)]&&_0x2b4e24['accumulated'][_0x34a7bd(0x121)]&&_0x2b4e24[_0x34a7bd(0x570)][_0x34a7bd(0x625)]))throw new Error(_0x34a7bd(0x6f7));const _0x2ebe67=_0x239530[_0x34a7bd(0x1b6)][_0x34a7bd(0x72b)](_0x2b4e24['id']);if(_0x2ebe67[_0x34a7bd(0x280)](_0x2b4e24[_0x34a7bd(0x570)][_0x34a7bd(0x625)][_0x34a7bd(0x6ef)],_0x2b4e24[_0x34a7bd(0x570)][_0x34a7bd(0x1cb)],_0x2b4e24['accumulated']['index'],_0x2b4e24[_0x34a7bd(0x570)]['vectors']),_0x2ebe67[_0x34a7bd(0xc4)]()){let _0x1f2102=''+(_0x239530[_0x34a7bd(0x67f)]??0x1);for(const _0x12d23b of _0x364162)_0x12d23b[_0x34a7bd(0x3a7)]===_0x4aad44[_0x34a7bd(0x704)]&&(_0x1f2102=_0x1f2102+'-'+(_0x12d23b[_0x34a7bd(0x67f)]??0x1));_0x2ebe67[_0x34a7bd(0x2aa)](_0x1f2102);}_0x43b7f8[_0x34a7bd(0x29b)]({'jobType':_0x12c942[_0x34a7bd(0x29c)],'type':_0x221598[_0x34a7bd(0x24d)],'jobId':_0x1a9072,'blockId':_0x2b4e24['id'],'traceLevel':_0x60e1e8[_0x34a7bd(0x91d)],'startTime':_0x143be2,'timestamp':Date[_0x34a7bd(0x498)](),'status':_0x34a7bd(0x2b5),'databaseName':_0x2ebe67[_0x34a7bd(0x97c)](),'vectorsAdded':_0x2b4e24[_0x34a7bd(0x570)][_0x34a7bd(0x121)][_0x34a7bd(0x4f4)],'filePathName':_0x2b4e24[_0x34a7bd(0x570)]['file']['pathName']});}async function _0x357d45(_0x38a331,_0x521f59,_0xe51538,_0x494485,_0x499e54){const _0x4c9be4=_0x3cd514,_0x20790e=Date[_0x4c9be4(0x498)]();let _0x2e5e04=[];if(_0x521f59 instanceof Array){for(const _0x1711d9 of _0x521f59)_0x2e5e04=_0x2e5e04['concat'](_0x35e601(_0x1711d9[_0x4c9be4(0x1cb)],_0xe51538,_0x1711d9['start'],_0x1711d9['length']));}else _0x2e5e04=_0x35e601(_0x521f59,_0xe51538);_0x43b7f8[_0x4c9be4(0x29b)]({'jobType':_0x12c942[_0x4c9be4(0x29c)],'type':_0x221598[_0x4c9be4(0x6be)],'jobId':_0x38a331,'traceLevel':_0x60e1e8[_0x4c9be4(0x91d)],'blockId':_0xe51538['id'],'startTime':_0x20790e,'timestamp':Date[_0x4c9be4(0x498)](),'status':_0x4c9be4(0x2b5),'totalChunks':_0x2e5e04[_0x4c9be4(0x4f4)],'averageChunkLength':_0x2e5e04[_0x4c9be4(0x256)]((_0x527f65,_0x2fa8ee)=>_0x527f65+_0x2fa8ee['length'],0x0)/_0x2e5e04['length']}),await _0x4d3d6c(_0x38a331,_0x2e5e04,_0xe51538,_0x494485,_0x499e54);}function _0x35e601(_0x5b2361,_0x4b35d6,_0x2aecd0,_0x2d4866){const _0xafd319=_0x3cd514,_0x3575f8=[],_0x30af24=_0x5b2361[_0xafd319(0x4d3)]('\x20');let _0x47ceb3='',_0x313955=-0x1,_0xc6c0cc=0x0,_0x426566=0x0;for(const _0x8437a7 of _0x30af24){if(_0x47ceb3[_0xafd319(0x4f4)]+_0x8437a7[_0xafd319(0x4f4)]>_0x4b35d6[_0xafd319(0x40a)][_0xafd319(0x3cb)]){const _0x30dcf1=_0x47ceb3[_0xafd319(0x4f4)];let _0xb658aa=_0x313955,_0x2db5c5='';for(;_0xb658aa>=0x0&&_0x2db5c5[_0xafd319(0x4f4)]+_0x30af24[_0xb658aa][_0xafd319(0x4f4)]<_0x4b35d6[_0xafd319(0x40a)]['overlap'];)_0x2db5c5=_0x30af24[_0xb658aa]+'\x20'+_0x2db5c5,_0xb658aa--;let _0x17ff30=_0xc6c0cc,_0x58f0a8='';for(;_0x17ff30<_0x30af24[_0xafd319(0x4f4)]&&_0x58f0a8[_0xafd319(0x4f4)]+_0x30af24[_0x17ff30][_0xafd319(0x4f4)]<_0x4b35d6[_0xafd319(0x40a)]['overlap'];)_0x58f0a8+=_0x30af24[_0x17ff30]+'\x20',_0x17ff30++;_0x47ceb3=_0x2db5c5+_0x47ceb3+_0x58f0a8,_0x3575f8[_0xafd319(0x63b)]({'content':_0x47ceb3[_0xafd319(0x5dd)](),'start':_0x2aecd0??_0x426566,'length':_0x2d4866??_0x47ceb3['length']}),_0x47ceb3='',_0x313955=_0xc6c0cc-0x1,_0x426566+=_0x30dcf1;}_0x47ceb3+=_0x8437a7+'\x20',_0xc6c0cc++;}if(_0x47ceb3[_0xafd319(0x4f4)]>0x0){const _0x13fac4=_0x47ceb3[_0xafd319(0x4f4)];let _0x5aa164=_0x313955,_0x4e3ea8='';for(;_0x5aa164>=0x0&&_0x4e3ea8[_0xafd319(0x4f4)]+_0x30af24[_0x5aa164][_0xafd319(0x4f4)]<_0x4b35d6[_0xafd319(0x40a)][_0xafd319(0x895)];)_0x4e3ea8=_0x30af24[_0x5aa164]+'\x20'+_0x4e3ea8,_0x5aa164--;_0x47ceb3=_0x4e3ea8+_0x47ceb3,_0x3575f8[_0xafd319(0x63b)]({'content':_0x47ceb3[_0xafd319(0x5dd)](),'start':_0x2aecd0??_0x426566,'length':_0x2d4866??_0x13fac4});}return _0x3575f8;}async function _0x4d3d6c(_0x4b610b,_0x1b218a,_0x4eb9b4,_0x176518,_0x4151bb){const _0x369323=_0x3cd514;for(const _0xa852cf of _0x4eb9b4[_0x369323(0x390)]||[]){const _0x56203a=_0x176518[_0x369323(0x833)](_0x4b8bfc=>_0x4b8bfc[_0x369323(0x29a)]===_0xa852cf[_0x369323(0x29a)]);if(_0x56203a)switch(_0x56203a['type']){case _0x4aad44[_0x369323(0x704)]:await _0x233788(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);break;case _0x4aad44[_0x369323(0x878)]:await _0x1f8868(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);break;case _0x4aad44[_0x369323(0x585)]:await _0x3fa615(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);break;case _0x4aad44[_0x369323(0x3e5)]:await _0x43c373(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);break;case _0x4aad44['GraphDatabase']:_0x4af12(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);break;case _0x4aad44[_0x369323(0x439)]:await _0x296495(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);break;case _0x4aad44['RelationExtractor']:await _0x51d8f0(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);break;case _0x4aad44[_0x369323(0x7d9)]:await _0x57405f(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);break;case _0x4aad44['VectorDatabase']:_0x1596b4(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);break;case _0x4aad44[_0x369323(0x6be)]:await _0x357d45(_0x4b610b,_0x1b218a,_0x56203a,_0x176518,_0x4151bb);}}}function _0x72d80d(_0x40a3dd,_0x1105a4){const _0x2a5ee8=_0x3cd514;return _0x1105a4['filter'](_0x2363a5=>_0x2363a5[_0x2a5ee8(0x390)]?.['some'](_0x43c7fc=>_0x43c7fc['uid']===_0x40a3dd[_0x2a5ee8(0x29a)]))['length'];}async function _0x52b25b(_0x46ac2c,_0x3bbea9,_0x3994c7,_0xeba300,_0x3c62f9){const _0x5ccd5d=_0x3cd514;try{let _0x450b7b;switch(_0x3994c7[_0x5ccd5d(0x3a7)]){case _0x4aad44[_0x5ccd5d(0x2fd)]:const _0x54aaea=_0x3c62f9[_0x5ccd5d(0x1b6)][_0x5ccd5d(0x25c)](_0x3994c7['id']);_0x450b7b=await _0x54aaea[_0x5ccd5d(0x31f)](_0x3bbea9);break;case _0x4aad44['ExternalStorageUpload']:const _0x55e93e=_0x3c62f9['contentMediator'][_0x5ccd5d(0x200)](_0x3994c7['id']);_0x450b7b=await _0x55e93e[_0x5ccd5d(0x31f)](_0x3bbea9);}if(!_0x450b7b)throw new Error(_0x5ccd5d(0x664));await _0x4d3d6c(_0x46ac2c,{'file':_0x450b7b,'pathName':_0x3bbea9},_0x3994c7,structuredClone(_0xeba300),_0x3c62f9);}catch(_0x4ec0ba){console[_0x5ccd5d(0x3db)](_0x5ccd5d(0x2c5),_0x4ec0ba);}}async function _0x5f51c5(_0x2b36f9,_0x3017c0,_0x23382c,_0x3e2bc8,_0x236026,_0x25e914,_0x6e7799){const _0x571fa0=_0x3cd514,_0x50ba1d=Date['now'](),_0x1abfb2=new Set();if(_0x23382c instanceof Array){for(const _0x49b7db of _0x23382c)await _0x16bff8(_0x49b7db[_0x571fa0(0x1cb)],_0x236026,_0x1abfb2,_0x6e7799['nlpLibraryConnector']);}else await _0x16bff8(_0x23382c,_0x236026,_0x1abfb2,_0x6e7799[_0x571fa0(0x675)]);_0x43b7f8[_0x571fa0(0x29b)]({'jobType':_0x12c942[_0x571fa0(0x88c)],'type':_0x55aac9[_0x571fa0(0x3e5)],'jobId':_0x2b36f9,'threadId':_0x3017c0,'blockId':_0x236026['id'],'traceLevel':_0x60e1e8[_0x571fa0(0x91d)],'startTime':_0x50ba1d,'timestamp':Date['now'](),'status':_0x571fa0(0x2b5),'content':_0x23382c,'entitiesExtracted':Array['from'](_0x1abfb2),'totalEntities':_0x1abfb2[_0x571fa0(0x3cb)]}),await _0xe4d287(_0x2b36f9,_0x3017c0,_0x1abfb2,_0x3e2bc8,_0x236026,_0x25e914,_0x6e7799);}async function _0x16bff8(_0x2c6d03,_0x232397,_0x43dda3,_0x618e7c){const _0x594179=_0x3cd514,_0x1109aa=await _0x618e7c[_0x594179(0x5d9)](_0x2c6d03,{'ner':_0x232397[_0x594179(0x40a)][_0x594179(0x5d2)],'noun':_0x232397[_0x594179(0x40a)][_0x594179(0x6d9)],'propn':_0x232397[_0x594179(0x40a)][_0x594179(0x95e)],'verb':_0x232397['attributes']['verb']});for(const _0x5a1bc4 of _0x1109aa)_0x43dda3[_0x594179(0x6aa)](_0x5a1bc4);}async function _0x169925(_0x4a0588,_0x596c05,_0xb43dce,_0x2cf19b,_0x5b444a,_0x233576,_0x27ad3f){const _0x2a048f=_0x3cd514,_0x4a297d=Date[_0x2a048f(0x498)]();if(_0x5b444a[_0x2a048f(0x570)]||(_0x5b444a[_0x2a048f(0x570)]={}),_0xb43dce instanceof Array?(_0x5b444a['accumulated'][_0x2a048f(0x91e)]||(_0x5b444a[_0x2a048f(0x570)][_0x2a048f(0x91e)]=[]),_0x5b444a['accumulated'][_0x2a048f(0x91e)]['push'](..._0xb43dce)):_0xb43dce instanceof Set?_0x5b444a[_0x2a048f(0x570)]['entities']=_0xb43dce:_0x5b444a[_0x2a048f(0x570)]['prompt']=_0xb43dce,_0x5b444a['timesCalled']=_0x5b444a[_0x2a048f(0x7cd)]?_0x5b444a[_0x2a048f(0x7cd)]+0x1:0x1,_0x2986f7(_0x5b444a,_0x233576)>_0x5b444a[_0x2a048f(0x7cd)])return;if(!_0x5b444a[_0x2a048f(0x570)]['prompt']&&!_0x5b444a[_0x2a048f(0x570)][_0x2a048f(0x91e)]||!_0x5b444a[_0x2a048f(0x570)][_0x2a048f(0x7ac)])throw new Error(_0x2a048f(0x2cc));const _0x115833=_0x27ad3f['contentMediator']['getGraphDatabase'](_0x5b444a['id'])[_0x2a048f(0x87a)](Array[_0x2a048f(0x88a)](_0x5b444a[_0x2a048f(0x570)][_0x2a048f(0x7ac)]),_0x5b444a[_0x2a048f(0x40a)][_0x2a048f(0x8f9)],_0x5b444a['attributes']['contentSize']);let _0x5f2c3a=[];for(const _0x75052b in _0x115833){const _0x29a021=_0x115833[_0x75052b];for(const _0x4464ea of _0x29a021){let _0x25abd8=0x0;if(_0x5b444a[_0x2a048f(0x570)][_0x2a048f(0x394)]&&(_0x25abd8=await _0x27ad3f[_0x2a048f(0x675)][_0x2a048f(0x412)](_0x5b444a[_0x2a048f(0x570)][_0x2a048f(0x394)],_0x4464ea)),_0x5b444a[_0x2a048f(0x570)][_0x2a048f(0x91e)]){for(const _0x156096 of _0x5b444a[_0x2a048f(0x570)][_0x2a048f(0x91e)])_0x25abd8=Math[_0x2a048f(0x11b)](_0x25abd8,await _0x27ad3f[_0x2a048f(0x675)]['getSimilarity'](_0x156096[_0x2a048f(0x1cb)],_0x4464ea));}_0x25abd8<_0x5b444a[_0x2a048f(0x40a)][_0x2a048f(0x48a)]||_0x5f2c3a[_0x2a048f(0x63b)]({'content':_0x4464ea,'relevance':_0x25abd8,'pathName':_0x75052b});}}_0x5f2c3a=_0x5f2c3a[_0x2a048f(0x9cb)]((_0x56f4d8,_0x2d3bdb)=>_0x2d3bdb['relevance']-_0x56f4d8[_0x2a048f(0x36f)])['slice'](0x0,_0x5b444a['attributes'][_0x2a048f(0x60e)]),_0x43b7f8['trace']({'jobType':_0x12c942[_0x2a048f(0x88c)],'type':_0x55aac9[_0x2a048f(0x1bd)],'jobId':_0x4a0588,'threadId':_0x596c05,'blockId':_0x5b444a['id'],'traceLevel':_0x60e1e8[_0x2a048f(0x91d)],'timestamp':Date[_0x2a048f(0x498)](),'startTime':_0x4a297d,'status':_0x2a048f(0x2b5),'content':_0xb43dce,'topResults':_0x5f2c3a,'numResults':_0x5f2c3a[_0x2a048f(0x4f4)]}),await _0xe4d287(_0x4a0588,_0x596c05,_0x5f2c3a,_0x2cf19b,_0x5b444a,_0x233576,_0x27ad3f);}async function _0x2d680f(_0x5c6143,_0x2d0d17,_0x1916b7,_0x522003,_0x5b124e,_0xdfb86,_0x11d711){const _0xb4c98e=_0x3cd514,_0x5c9905=_0x11d711[_0xb4c98e(0x6cc)]['find'](_0x255675=>_0x255675['id']===_0x5b124e['id']);if(!_0x5c9905)throw new Error(_0xb4c98e(0x21d));let _0x452408='';switch(_0x452408=_0x1916b7 instanceof Array?_0x1916b7['map'](_0x549ec8=>_0x549ec8[_0xb4c98e(0x1cb)])[_0xb4c98e(0x696)](',\x20'):_0x1916b7,_0x5c9905['outputType']){case _0x3cfea6[_0xb4c98e(0x629)][_0xb4c98e(0x14e)]:await async function(_0x28e732,_0x4a6723,_0x3b69b4,_0x5a075f,_0x37cdf0,_0x2f629a,_0x5deb79,_0xad27dd){const _0xb0b507=_0xb4c98e,_0x4b0c65=Date['now'](),_0x441c61=_0xad27dd[_0xb0b507(0x5ef)][_0xb0b507(0x833)](_0x88f099=>_0x88f099[_0xb0b507(0xb8)]()===_0x37cdf0['engineType']);if(!_0x441c61)throw new Error(_0xb0b507(0x7d7));const _0x2a5479=await async function(_0x545951,_0x588d2f,_0x3fd300,_0x162e2b,_0xc47a38){const _0x4b8554=_0xb0b507,_0x50e91c={'type':'prompt','prompt':_0x588d2f,'threadId':_0x545951};_0x3fd300[_0x4b8554(0x337)]['length']>0x0&&(_0x50e91c['instructions']=_0x4b8554(0x2ba)+_0x3fd300[_0x4b8554(0x337)][_0x4b8554(0x730)](_0x34c392=>_0x4b8554(0x368)+_0x34c392[_0x4b8554(0x6ef)]+':\x20'+_0x34c392[_0x4b8554(0x1cb)])[_0x4b8554(0x696)]('\x0a'));const _0x36e5dd=await _0x162e2b[_0x4b8554(0x7f2)](_0x50e91c,{'model':_0xc47a38});if(_0x36e5dd['output']instanceof Array)throw new Error(_0x4b8554(0x8ce));return _0x3fd300[_0x4b8554(0x5e3)]+=_0x36e5dd['inputTokens']??0x0,_0x3fd300['outputTokens']+=_0x36e5dd['outputTokens']??0x0,_0x36e5dd[_0x4b8554(0x1f6)];}(_0x4a6723,_0x3b69b4,_0x5a075f,_0x441c61,_0x37cdf0);_0x43b7f8['trace']({'jobType':_0x12c942['Retrieve'],'type':_0x55aac9[_0xb0b507(0x736)],'jobId':_0x28e732,'threadId':_0x4a6723,'blockId':_0x2f629a['id'],'traceLevel':_0x60e1e8['Debug'],'startTime':_0x4b0c65,'timestamp':Date[_0xb0b507(0x498)](),'status':_0xb0b507(0x2b5),'modelName':_0x37cdf0['id'],'content':_0x3b69b4,'newPrompt':_0x2a5479,'inputType':_0x37cdf0[_0xb0b507(0xd4)],'outputType':_0x37cdf0[_0xb0b507(0x1cd)]}),await _0xe4d287(_0x28e732,_0x4a6723,_0x2a5479,_0x5a075f,_0x2f629a,_0x5deb79,_0xad27dd);}(_0x5c6143,_0x2d0d17,_0x452408,_0x522003,_0x5c9905,_0x5b124e,_0xdfb86,_0x11d711);break;case _0x3cfea6[_0xb4c98e(0x629)][_0xb4c98e(0x338)]:await async function(_0x541d7a,_0xfad652,_0xa3d482,_0x3f74af,_0x38d0d5,_0x5da4cf,_0x54bb05,_0x4ad436){const _0x18f4e2=_0xb4c98e,_0x594864=Date[_0x18f4e2(0x498)](),_0x1e8bb4=_0x4ad436[_0x18f4e2(0x5ef)][_0x18f4e2(0x833)](_0x245e7c=>_0x245e7c[_0x18f4e2(0xb8)]()===_0x38d0d5[_0x18f4e2(0x46c)]);if(!_0x1e8bb4)throw new Error(_0x18f4e2(0x7d7));const _0x3a4b03=await async function(_0x45644a,_0x1250da,_0x1f6f7f,_0x1d8c14){const _0xd31804=_0x18f4e2;return(await _0x1f6f7f[_0xd31804(0x7f2)]({'type':_0xd31804(0x394),'prompt':_0x1250da,'threadId':_0x45644a},{'model':_0x1d8c14}))['output'];}(_0xfad652,_0xa3d482,_0x1e8bb4,_0x38d0d5);_0x43b7f8[_0x18f4e2(0x29b)]({'jobType':_0x12c942[_0x18f4e2(0x88c)],'type':_0x55aac9[_0x18f4e2(0x55f)],'jobId':_0x541d7a,'threadId':_0xfad652,'blockId':_0x5da4cf['id'],'traceLevel':_0x60e1e8['Debug'],'startTime':_0x594864,'timestamp':Date[_0x18f4e2(0x498)](),'status':_0x18f4e2(0x2b5),'modelName':_0x38d0d5['id'],'content':_0xa3d482,'totalVectors':_0x3a4b03['length']}),await _0xe4d287(_0x541d7a,_0xfad652,_0x3a4b03,_0x3f74af,_0x5da4cf,_0x54bb05,_0x4ad436);}(_0x5c6143,_0x2d0d17,_0x452408,_0x522003,_0x5c9905,_0x5b124e,_0xdfb86,_0x11d711);}}async function _0x274a8e(_0x1444a8,_0x4fa338,_0x56fab1,_0x13fc8f,_0x3f42b0,_0x5495b1,_0x6f4c22){const _0x2d1738=_0x3cd514,_0x152e7e=Date[_0x2d1738(0x498)](),_0x37552d=_0x6f4c22[_0x2d1738(0x1b6)][_0x2d1738(0x72b)](_0x3f42b0['id'])[_0x2d1738(0x2a5)](_0x56fab1,_0x3f42b0['attributes'][_0x2d1738(0x60e)],_0x3f42b0[_0x2d1738(0x40a)][_0x2d1738(0x48a)],_0x3f42b0[_0x2d1738(0x40a)][_0x2d1738(0x8d7)]);_0x43b7f8[_0x2d1738(0x29b)]({'jobType':_0x12c942[_0x2d1738(0x88c)],'type':_0x55aac9['VectorSearch'],'jobId':_0x1444a8,'threadId':_0x4fa338,'blockId':_0x3f42b0['id'],'traceLevel':_0x60e1e8['Debug'],'startTime':_0x152e7e,'timestamp':Date[_0x2d1738(0x498)](),'status':'success','topResults':_0x37552d,'numResults':_0x37552d[_0x2d1738(0x4f4)]}),await _0xe4d287(_0x1444a8,_0x4fa338,_0x37552d,_0x13fc8f,_0x3f42b0,_0x5495b1,_0x6f4c22);}async function _0x20f92b(_0x29779c,_0x52dd5a,_0x607f75,_0x107710,_0x293dc0,_0x4ec84f,_0x333089){const _0x557c40=_0x3cd514,_0x29c1fe=Date[_0x557c40(0x498)]();if(_0x293dc0[_0x557c40(0x570)]||(_0x293dc0[_0x557c40(0x570)]={}),_0x607f75 instanceof Array?(_0x293dc0[_0x557c40(0x570)]['results']||(_0x293dc0[_0x557c40(0x570)][_0x557c40(0x91e)]=[]),_0x293dc0[_0x557c40(0x570)]['results']['push'](..._0x607f75)):_0x293dc0[_0x557c40(0x570)][_0x557c40(0x394)]=_0x607f75,_0x293dc0[_0x557c40(0x7cd)]=_0x293dc0[_0x557c40(0x7cd)]?_0x293dc0['timesCalled']+0x1:0x1,_0x2986f7(_0x293dc0,_0x4ec84f)>_0x293dc0[_0x557c40(0x7cd)])return;if(!_0x293dc0[_0x557c40(0x570)]['prompt']||!_0x293dc0['accumulated'][_0x557c40(0x91e)])throw new Error(_0x557c40(0x4e5));for(const _0x9effe5 of _0x293dc0['accumulated'][_0x557c40(0x91e)])_0x9effe5['relevance']=await _0x333089[_0x557c40(0x675)]['getSimilarity'](_0x293dc0[_0x557c40(0x570)][_0x557c40(0x394)],_0x9effe5[_0x557c40(0x1cb)]);const _0x147fec=_0x293dc0['accumulated'][_0x557c40(0x91e)][_0x557c40(0x4d1)](_0x5c2d52=>_0x5c2d52[_0x557c40(0x36f)]>_0x293dc0['attributes']['minRelevance'])[_0x557c40(0x9cb)]((_0x1372dc,_0x2b1201)=>_0x2b1201['relevance']-_0x1372dc[_0x557c40(0x36f)])[_0x557c40(0x1a5)](0x0,_0x293dc0[_0x557c40(0x40a)]['topK']);_0x43b7f8[_0x557c40(0x29b)]({'jobType':_0x12c942[_0x557c40(0x88c)],'type':_0x55aac9[_0x557c40(0x5f7)],'jobId':_0x29779c,'threadId':_0x52dd5a,'blockId':_0x293dc0['id'],'traceLevel':_0x60e1e8[_0x557c40(0x91d)],'startTime':_0x29c1fe,'timestamp':Date[_0x557c40(0x498)](),'status':_0x557c40(0x2b5),'inputResults':_0x293dc0['accumulated'][_0x557c40(0x91e)],'rerankedResults':_0x147fec}),await _0xe4d287(_0x29779c,_0x52dd5a,_0x147fec,_0x107710,_0x293dc0,_0x4ec84f,_0x333089);}async function _0xe4d287(_0x384565,_0x3c7367,_0x461006,_0x3e6049,_0x4e32d8,_0x19b244,_0x195be1){const _0x428b4e=_0x3cd514;for(const _0x4a09c2 of _0x4e32d8[_0x428b4e(0x390)]||[]){const _0x1d2f55=_0x19b244[_0x428b4e(0x833)](_0x4a2eda=>_0x4a2eda['uid']===_0x4a09c2[_0x428b4e(0x29a)]);if(_0x1d2f55)switch(_0x1d2f55[_0x428b4e(0x3a7)]){case _0x4aad44[_0x428b4e(0x99d)]:_0x3e6049['context'][_0x428b4e(0x63b)](..._0x461006);break;case _0x4aad44[_0x428b4e(0x3e5)]:await _0x5f51c5(_0x384565,_0x3c7367,_0x461006,_0x3e6049,_0x1d2f55,_0x19b244,_0x195be1);break;case _0x4aad44['GraphDatabase']:await _0x169925(_0x384565,_0x3c7367,_0x461006,_0x3e6049,_0x1d2f55,_0x19b244,_0x195be1);break;case _0x4aad44['Model']:await _0x2d680f(_0x384565,_0x3c7367,_0x461006,_0x3e6049,_0x1d2f55,_0x19b244,_0x195be1);break;case _0x4aad44[_0x428b4e(0x5f7)]:await _0x20f92b(_0x384565,_0x3c7367,_0x461006,_0x3e6049,_0x1d2f55,_0x19b244,_0x195be1);break;case _0x4aad44[_0x428b4e(0x24d)]:await _0x274a8e(_0x384565,_0x3c7367,_0x461006,_0x3e6049,_0x1d2f55,_0x19b244,_0x195be1);}}}function _0x2986f7(_0x1cde07,_0xfbece6){const _0x12708c=_0x3cd514;return _0xfbece6[_0x12708c(0x4d1)](_0x3f0bc5=>_0x3f0bc5['links']?.[_0x12708c(0x8a1)](_0x22290e=>_0x22290e['uid']===_0x1cde07['uid']))[_0x12708c(0x4f4)];}async function _0x62c3c(_0xecb71d,_0x55b8e5,_0x31f7f5,_0x9b6562,_0x3465a7,_0x2ece23){const _0x16716a=_0x3cd514,_0x211a00={'type':_0x16716a(0x394),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0xe4d287(_0xecb71d,_0x55b8e5,_0x31f7f5,_0x211a00,_0x9b6562,structuredClone(_0x3465a7),_0x2ece23),_0x211a00[_0x16716a(0x1f6)]=_0x16716a(0x2ba)+_0x211a00[_0x16716a(0x337)][_0x16716a(0x730)](_0x5c5fa8=>'From\x20'+_0x5c5fa8[_0x16716a(0x6ef)]+':\x20'+_0x5c5fa8[_0x16716a(0x1cb)])[_0x16716a(0x696)]('\x0a');}catch(_0x5ce197){console[_0x16716a(0x3db)](_0x16716a(0x499),_0x5ce197);}return _0x211a00;}class _0x168ae1{static ['context']={};static[_0x3cd514(0x87a)](_0x4c9b13,_0x3e8e89){const _0x465b13=_0x3cd514;return this[_0x465b13(0x337)][_0x4c9b13]?.[_0x3e8e89]??'';}static['setContent'](_0x507bf6,_0x5886dd,_0x183c26){const _0xd02c46=_0x3cd514;this[_0xd02c46(0x337)][_0x507bf6]||(this[_0xd02c46(0x337)][_0x507bf6]={}),this[_0xd02c46(0x337)][_0x507bf6][_0x5886dd]=_0x183c26;}static[_0x3cd514(0x25f)](_0x3e7102){const _0x51f5c6=_0x3cd514;return this[_0x51f5c6(0x337)][_0x3e7102]??{};}static[_0x3cd514(0x122)](_0xd36b7b){const _0x51b9a1=_0x3cd514;delete this[_0x51b9a1(0x337)][_0xd36b7b];}}function _0x146f46(_0x2d672e,_0x104fa7,_0x53685d,_0xb157ae,_0x3e91f1,_0x4953bd,_0x515e19,_0x153124){const _0x33073a=_0x3cd514,_0x147d30=new Map(),_0x749c2=_0x4953bd['filter'](_0x534dd6=>_0x534dd6[_0x33073a(0x390)]?.['find'](_0x2e9a6b=>_0x2e9a6b[_0x33073a(0x29a)]===_0x3e91f1[_0x33073a(0x29a)]&&(_0x2e9a6b[_0x33073a(0x3a7)]===_0x291256[_0x33073a(0x8af)]||_0x2e9a6b[_0x33073a(0x3a7)]===_0x291256[_0x33073a(0x5a9)])));for(const _0xb2c2a4 of _0x749c2)_0xb2c2a4[_0x33073a(0x3a7)]===_0x1146c3[_0x33073a(0x8af)]||_0xb2c2a4['type']===_0x1146c3['DataCollection']?_0x147d30[_0x33073a(0x282)](_0x33073a(0x2bd)+_0xb2c2a4['id'],_0xb5efd6(_0x2d672e,_0x104fa7,_0x53685d,_0xb157ae,_0xb2c2a4,_0x515e19,_0x153124)):_0xb2c2a4['type']===_0x1146c3[_0x33073a(0x17b)]||_0xb2c2a4[_0x33073a(0x3a7)]===_0x1146c3[_0x33073a(0x704)]?_0x147d30['set'](_0x33073a(0x57a)+_0xb2c2a4['id'],_0x2433bf(_0x2d672e,_0x104fa7,_0x53685d,_0xb157ae,_0xb2c2a4,_0x4953bd,_0x515e19,_0x153124)):_0xb2c2a4[_0x33073a(0x3a7)]===_0x1146c3[_0x33073a(0x5d4)]?_0x147d30['set'](_0xb2c2a4[_0x33073a(0x945)][_0x33073a(0x460)](/[^a-zA-Z]/g,''),_0x5c0828(_0x2d672e,_0x104fa7,_0x53685d,_0xb2c2a4,_0x153124)):_0x147d30['set'](_0x3b78c5(_0xb2c2a4),_0x3d7376(_0x2d672e,_0x104fa7,_0x53685d,_0xb2c2a4,_0x515e19,_0x153124));return(_0x3e91f1[_0x33073a(0x915)]&&''!==_0x3e91f1[_0x33073a(0x915)]||_0x3e91f1[_0x33073a(0x4e8)]&&''!==_0x3e91f1[_0x33073a(0x4e8)])&&'default'===_0x3e91f1[_0x33073a(0x249)]&&_0x147d30[_0x33073a(0x282)](_0x33073a(0x1d4),function(_0x49a4b0,_0x159376,_0x3c3c9b){const _0x5899ae=_0x33073a;return{'description':_0x5899ae(0x476),'params':{},'callback':async()=>{const _0x32ce12=_0x5899ae;try{if(!_0x159376[_0x32ce12(0x915)]&&!_0x159376[_0x32ce12(0x4e8)])throw new Error(_0x32ce12(0x3d0));_0x3c3c9b&&_0x3c3c9b['emit']({'output':'\x0a\x0a`Retrieving\x20context`\x0a\x0a','type':'prompt'});let _0x2380a0='';if(_0x159376[_0x32ce12(0x915)]){const _0x471b92=_0x159376[_0x32ce12(0x915)]['split'](',');for(const _0x567bbb of _0x471b92){const _0x31b91b=_0x168ae1[_0x32ce12(0x87a)](_0x49a4b0,_0x567bbb);''!==_0x31b91b&&(_0x2380a0=_0x567bbb+':\x20'+_0x31b91b+'\x0a\x0a'+_0x2380a0);}}if(_0x159376[_0x32ce12(0x4e8)]){const _0x1c898e=_0x159376[_0x32ce12(0x4e8)][_0x32ce12(0x4d3)](',');for(const _0x17fbc2 of _0x1c898e){const _0x4aa037=_0x168ae1[_0x32ce12(0x87a)](_0x49a4b0,_0x17fbc2);''!==_0x4aa037&&(_0x2380a0=_0x17fbc2+':\x20'+_0x4aa037+'\x0a\x0a'+_0x2380a0);}}return _0x2380a0;}catch(_0x339681){return console[_0x32ce12(0x3db)](_0x339681),_0x339681 instanceof Error?_0x339681[_0x32ce12(0xfe)]:_0x32ce12(0x3df);}}};}(_0x53685d,_0x3e91f1,_0x153124)),_0x147d30;}function _0x2433bf(_0x43dbae,_0xa556ca,_0x27232b,_0x1be4df,_0x3694af,_0x30abb2,_0x182ced,_0x3a1397){const _0x47e00e=_0x3cd514,_0x55e8b8=_0x47e00e(0x3be)+_0x3694af[_0x47e00e(0x670)]+_0x47e00e(0x587),_0x123b22={'prompt':{'type':_0x3cfea6[_0x47e00e(0x839)]['String']}};return _0x43b7f8[_0x47e00e(0x29b)]({'jobType':_0x12c942['JobContext'],'type':_0x5c292e[_0x47e00e(0x2ea)],'jobId':_0x43dbae,'agentId':_0xa556ca,'threadId':_0x27232b,'traceLevel':_0x60e1e8[_0x47e00e(0x628)],'startTime':Date[_0x47e00e(0x498)](),'timestamp':Date['now'](),'status':_0x47e00e(0x2b5),'function':_0x26cf11[_0x47e00e(0x969)],'params':_0x123b22,'functionDescription':_0x55e8b8}),{'description':_0x55e8b8,'params':_0x123b22,'callback':async _0xf64038=>{const _0x11dc2c=_0x47e00e,_0x176a12=Date[_0x11dc2c(0x498)]();let _0x534842='';try{if(_0x3a1397&&_0x3a1397[_0x11dc2c(0x364)]({'output':_0x11dc2c(0xda)+_0x3694af[_0x11dc2c(0x945)]+'`\x0a\x0a','type':_0x11dc2c(0x394)}),_0x11dc2c(0x1f2)!=typeof _0xf64038?.['prompt'])throw new Error(_0x11dc2c(0x519));if(_0x534842=_0xf64038[_0x11dc2c(0x394)],_0x3694af[_0x11dc2c(0x915)]&&''!==_0x3694af['contextInputVariable']&&'default'!==_0x3694af[_0x11dc2c(0x249)]){const _0x50adab=_0x3694af['contextInputVariable']['split'](',');for(const _0x2dfcb0 of _0x50adab){const _0x25e26e=_0x168ae1['getContent'](_0x27232b,_0x2dfcb0);''!==_0x25e26e&&(_0x534842=_0x534842+'\x0a\x0a'+_0x2dfcb0+':\x20'+_0x25e26e);}}if(_0x3694af['contextOutputVariable']&&''!==_0x3694af[_0x11dc2c(0x4e8)]&&_0x11dc2c(0x10e)!==_0x3694af[_0x11dc2c(0x249)]){const _0x3d5a62=_0x3694af[_0x11dc2c(0x4e8)][_0x11dc2c(0x4d3)](',');for(const _0x23e20c of _0x3d5a62){const _0x1af59d=_0x168ae1[_0x11dc2c(0x87a)](_0x27232b,_0x23e20c);''!==_0x1af59d&&(_0x534842=_0x534842+'\x0a\x0a'+_0x23e20c+':\x20'+_0x1af59d);}}const _0x40df12=_0x182ced['models']['find'](_0x4c206c=>_0x4c206c['id']===_0x3694af['modelId']);if(!_0x40df12)throw new Error(_0x11dc2c(0x21d));const _0x384b0e=_0x182ced[_0x11dc2c(0x5ef)][_0x11dc2c(0x833)](_0x5223a3=>_0x5223a3[_0x11dc2c(0xb8)]()===_0x40df12[_0x11dc2c(0x46c)]);if(!_0x384b0e)throw new Error(_0x11dc2c(0x7d7));let _0xb2331;if(_0x3a1397&&!0x1!==_0x3694af[_0x11dc2c(0x93c)]?(_0x3a1397['emit']({'output':'\x0a\x0a','type':_0x11dc2c(0x394)}),_0xb2331=await async function(_0x578bf7,_0x4691a1,_0x54c138,_0x3f5a3e,_0x14b165,_0xfb827b,_0x321af1,_0x5cd6e9,_0x17404e){const _0x57c243=_0x11dc2c;let _0x50c67f='';const _0x392509=_0x17404e['models']['find'](_0x352354=>_0x352354['id']===_0xfb827b[_0x57c243(0xf4)]);if(!_0x392509)throw new Error(_0x57c243(0x21d));const _0x3349dc=_0x17404e[_0x57c243(0x5ef)][_0x57c243(0x833)](_0x1d2ef6=>_0x1d2ef6['getEngineType']()===_0x392509[_0x57c243(0x46c)]);if(!_0x3349dc)throw new Error(_0x57c243(0x7d7));for await(const _0x8af286 of _0x3349dc[_0x57c243(0x197)]({'type':_0x57c243(0x394),'prompt':_0x3f5a3e,'instructions':_0xfb827b[_0x57c243(0x716)],'grammar':_0xfb827b[_0x57c243(0x249)],'temperature':_0xfb827b[_0x57c243(0x22d)],'maxTokens':_0xfb827b[_0x57c243(0x152)],'functions':_0x146f46(_0x578bf7,_0x4691a1,_0x54c138,_0x14b165,_0xfb827b,_0x321af1,_0x17404e,_0x5cd6e9),'threadId':_0x54c138},{'model':_0x392509}))_0x5cd6e9[_0x57c243(0x364)](_0x8af286),_0x50c67f+=_0x8af286[_0x57c243(0x1f6)];return{'type':_0x57c243(0x394),'output':_0x50c67f};}(_0x43dbae,_0xa556ca,_0x27232b,_0x534842,_0x1be4df,_0x3694af,_0x30abb2,_0x3a1397,_0x182ced),_0x3a1397['emit']({'output':'\x0a\x0a','type':_0x11dc2c(0x394)})):_0xb2331=await _0x384b0e[_0x11dc2c(0x7f2)]({'type':_0x11dc2c(0x394),'prompt':_0x534842,'instructions':_0x3694af[_0x11dc2c(0x716)],'grammar':_0x3694af[_0x11dc2c(0x249)],'temperature':_0x3694af[_0x11dc2c(0x22d)],'maxTokens':_0x3694af[_0x11dc2c(0x152)],'functions':_0x146f46(_0x43dbae,_0xa556ca,_0x27232b,_0x1be4df,_0x3694af,_0x30abb2,_0x182ced,_0x3a1397),'threadId':_0x27232b},{'model':_0x40df12}),'string'!=typeof _0xb2331['output'])throw new Error(_0x11dc2c(0x5ac));return _0x43b7f8[_0x11dc2c(0x29b)]({'jobType':_0x12c942[_0x11dc2c(0x5a9)],'type':_0x26cf11['ExecuteAgent'],'jobId':_0x43dbae,'blockId':_0x3694af['id'],'agentId':_0xa556ca,'threadId':_0x27232b,'traceLevel':_0x60e1e8[_0x11dc2c(0x628)],'startTime':_0x176a12,'timestamp':Date[_0x11dc2c(0x498)](),'status':_0x11dc2c(0x2b5),'agentName':_0x3694af[_0x11dc2c(0x945)],'prompt':_0x534842,'instructions':_0x3694af[_0x11dc2c(0x716)],'result':_0xb2331['output'],'inputTokens':0x0,'outputTokens':0x0}),_0x3694af[_0x11dc2c(0x4e8)]&&(_0x168ae1[_0x11dc2c(0x188)](_0x27232b,_0x3694af[_0x11dc2c(0x4e8)],_0xb2331[_0x11dc2c(0x1f6)]),_0x1be4df[_0x11dc2c(0x53b)]=_0x168ae1['getThread'](_0x27232b)),_0x3a1397?_0x11dc2c(0x6fd):_0xb2331['output'];}catch(_0x13ac73){return console[_0x11dc2c(0x3db)](_0x13ac73),_0x43b7f8[_0x11dc2c(0x29b)]({'jobType':_0x12c942['Skill'],'type':_0x26cf11[_0x11dc2c(0x969)],'jobId':_0x43dbae,'blockId':_0x3694af['id'],'agentId':_0xa556ca,'threadId':_0x27232b,'traceLevel':_0x60e1e8[_0x11dc2c(0x628)],'startTime':_0x176a12,'timestamp':Date['now'](),'status':_0x11dc2c(0x3db),'errorDetails':_0x74eb15(_0x13ac73),'agentName':_0x3694af[_0x11dc2c(0x945)],'prompt':_0x534842,'instructions':_0x3694af['instructions'],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x13ac73 instanceof Error?_0x13ac73[_0x11dc2c(0xfe)]:_0x11dc2c(0x33f);}}};}function _0xb5efd6(_0x591391,_0x29ffe4,_0x20ae17,_0x15fbf9,_0x5a0f6c,_0x485fd6,_0x35a1d8){const _0x22aa17=_0x3cd514,_0x47fb10=_0x22aa17(0x11f)+_0x5a0f6c[_0x22aa17(0x670)]+_0x22aa17(0x71e),_0x43e0f4={'queryOrPrompt':{'type':_0x3cfea6['PromptFunctionParamsType']['String']}};return _0x43b7f8[_0x22aa17(0x29b)]({'jobType':_0x12c942[_0x22aa17(0x2bb)],'type':_0x5c292e['LoadKnowledgeFunction'],'jobId':_0x591391,'agentId':_0x29ffe4,'threadId':_0x20ae17,'blockId':_0x5a0f6c['id'],'traceLevel':_0x60e1e8[_0x22aa17(0x628)],'startTime':Date[_0x22aa17(0x498)](),'timestamp':Date[_0x22aa17(0x498)](),'status':_0x22aa17(0x2b5),'function':_0x27e08b['GetContextQuery'],'params':_0x43e0f4,'functionDescription':_0x47fb10}),{'description':_0x47fb10,'params':_0x43e0f4,'callback':async _0x5aab33=>{const _0x2a91e9=_0x22aa17,_0x4cbe6e=Date[_0x2a91e9(0x498)]();try{if(_0x35a1d8&&_0x35a1d8['emit']({'output':_0x2a91e9(0x2f9)+_0x5a0f6c[_0x2a91e9(0x945)]+'\x20for\x20'+_0x5aab33?.['queryOrPrompt']+'`\x0a\x0a','type':_0x2a91e9(0x394)}),_0x2a91e9(0x1f2)!=typeof _0x5aab33?.[_0x2a91e9(0x2ed)])throw new Error(_0x2a91e9(0x3ff));const _0x1ad733=_0x5a0f6c[_0x2a91e9(0x1fa)][_0x2a91e9(0x833)](_0x3cc83a=>_0x3cc83a['type']===_0x4aad44[_0x2a91e9(0x2b9)]),_0x1bd70d=await _0x62c3c(_0x591391,_0x20ae17,_0x5aab33[_0x2a91e9(0x2ed)],_0x1ad733,_0x5a0f6c[_0x2a91e9(0x1fa)],_0x485fd6);return _0x15fbf9[_0x2a91e9(0x337)]=Array[_0x2a91e9(0x88a)](new Set([..._0x15fbf9[_0x2a91e9(0x337)],..._0x1bd70d[_0x2a91e9(0x337)]])),_0x43b7f8[_0x2a91e9(0x29b)]({'jobType':_0x12c942[_0x2a91e9(0x8af)],'type':_0x27e08b[_0x2a91e9(0x95a)],'jobId':_0x591391,'blockId':_0x5a0f6c['id'],'agentId':_0x29ffe4,'threadId':_0x20ae17,'traceLevel':_0x60e1e8['Info'],'startTime':_0x4cbe6e,'timestamp':Date['now'](),'status':_0x2a91e9(0x2b5),'query':_0x5aab33[_0x2a91e9(0x2ed)],'context':_0x1bd70d['context']??[],'inputTokens':_0x1bd70d[_0x2a91e9(0x5e3)]??0x0,'outputTokens':_0x1bd70d['outputTokens']??0x0}),_0x1bd70d[_0x2a91e9(0x1f6)];}catch(_0x41e934){return console['error'](_0x41e934),_0x43b7f8[_0x2a91e9(0x29b)]({'jobType':_0x12c942[_0x2a91e9(0x8af)],'type':_0x27e08b['GetContextResult'],'jobId':_0x591391,'blockId':_0x5a0f6c['id'],'agentId':_0x29ffe4,'threadId':_0x20ae17,'traceLevel':_0x60e1e8[_0x2a91e9(0x628)],'startTime':_0x4cbe6e,'timestamp':Date[_0x2a91e9(0x498)](),'status':_0x2a91e9(0x3db),'errorDetails':_0x74eb15(_0x41e934),'query':_0x5aab33?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x41e934 instanceof Error?_0x41e934[_0x2a91e9(0xfe)]:_0x2a91e9(0x1db);}}};}function _0x3b78c5(_0x5c10ee){const _0x52c6a3=_0x3cd514;switch(_0x5c10ee['type']){case _0x1146c3[_0x52c6a3(0x77d)]:return _0x52c6a3(0x347);case _0x1146c3[_0x52c6a3(0x32a)]:return _0x52c6a3(0x7d4);case _0x1146c3[_0x52c6a3(0x771)]:return _0x52c6a3(0x6bd);case _0x1146c3[_0x52c6a3(0x33e)]:case _0x1146c3[_0x52c6a3(0x47d)]:return _0x52c6a3(0x89a);}throw new Error(_0x52c6a3(0x508));}function _0x3d7376(_0xf3a886,_0x5492f4,_0x2b3a77,_0x599969,_0x553e3f,_0xd710b0){const _0x172741=_0x3cd514;switch(_0x599969[_0x172741(0x3a7)]){case _0x1146c3['Time']:return function(_0x403017,_0x4d5abb,_0x188c05,_0x260d72,_0xc1efeb){const _0x3d8ae2=_0x172741,_0x1201c2='Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.';return _0x43b7f8[_0x3d8ae2(0x29b)]({'jobType':_0x12c942[_0x3d8ae2(0x2bb)],'type':_0x5c292e[_0x3d8ae2(0x2ea)],'jobId':_0x403017,'agentId':_0x4d5abb,'threadId':_0x188c05,'traceLevel':_0x60e1e8[_0x3d8ae2(0x628)],'startTime':Date['now'](),'timestamp':Date[_0x3d8ae2(0x498)](),'status':'success','function':_0x26cf11[_0x3d8ae2(0x20f)],'params':{},'functionDescription':_0x1201c2}),{'description':_0x1201c2,'callback':()=>{const _0xe71205=_0x3d8ae2,_0x1342d2=Date[_0xe71205(0x498)]();_0xc1efeb&&_0xc1efeb['emit']({'output':'\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','type':_0xe71205(0x394)});const _0x42aed1=new Date()[_0xe71205(0x689)]();return _0x43b7f8[_0xe71205(0x29b)]({'jobType':_0x12c942[_0xe71205(0x5a9)],'type':_0x26cf11['GetDate'],'jobId':_0x403017,'agentId':_0x4d5abb,'threadId':_0x188c05,'blockId':_0x260d72,'traceLevel':_0x60e1e8[_0xe71205(0x628)],'startTime':_0x1342d2,'timestamp':Date['now'](),'status':_0xe71205(0x2b5),'date':_0x42aed1}),_0x42aed1;}};}(_0xf3a886,_0x5492f4,_0x2b3a77,_0x599969['id'],_0xd710b0);case _0x1146c3[_0x172741(0x32a)]:return function(_0x20cc42,_0x454969,_0x393e75,_0x826fb2,_0xb8edd0){const _0xf1dfd6=_0x172741,_0x5f582f=_0xf1dfd6(0x3a0),_0x30b415={'code':{'type':_0x3cfea6['PromptFunctionParamsType'][_0xf1dfd6(0x289)]}};return _0x43b7f8[_0xf1dfd6(0x29b)]({'jobType':_0x12c942[_0xf1dfd6(0x2bb)],'type':_0x5c292e[_0xf1dfd6(0x2ea)],'jobId':_0x20cc42,'agentId':_0x454969,'threadId':_0x393e75,'traceLevel':_0x60e1e8[_0xf1dfd6(0x628)],'startTime':Date[_0xf1dfd6(0x498)](),'timestamp':Date['now'](),'status':_0xf1dfd6(0x2b5),'function':_0x26cf11['ExecuteCode'],'params':_0x30b415,'functionDescription':_0x5f582f}),{'description':_0x5f582f,'params':_0x30b415,'callback':_0xef13fb=>{const _0x3b1d35=_0xf1dfd6,_0x314a63=Date['now']();try{if(_0xb8edd0&&_0xb8edd0['emit']({'output':_0x3b1d35(0x8d0),'type':_0x3b1d35(0x394)}),_0x3b1d35(0x1f2)!=typeof _0xef13fb?.['code'])throw new Error(_0x3b1d35(0x2cd));const _0x13de4e=Function(''+_0xef13fb?.['code'])();let _0x51bebe='';try{_0x51bebe=JSON['stringify'](_0x13de4e);}catch{_0x51bebe=_0x13de4e[_0x3b1d35(0x548)]();}return _0x43b7f8['trace']({'jobType':_0x12c942['Skill'],'type':_0x26cf11[_0x3b1d35(0x2ee)],'agentId':_0x454969,'threadId':_0x393e75,'jobId':_0x20cc42,'blockId':_0x826fb2,'traceLevel':_0x60e1e8[_0x3b1d35(0x628)],'startTime':_0x314a63,'timestamp':Date[_0x3b1d35(0x498)](),'status':_0x3b1d35(0x2b5),'code':_0xef13fb['code'],'result':_0x51bebe}),_0x13de4e;}catch(_0x447b19){return console[_0x3b1d35(0x3db)](_0x447b19),_0x43b7f8[_0x3b1d35(0x29b)]({'jobType':_0x12c942['Skill'],'type':_0x26cf11[_0x3b1d35(0x2ee)],'jobId':_0x20cc42,'blockId':_0x826fb2,'traceLevel':_0x60e1e8['Info'],'startTime':_0x314a63,'timestamp':Date['now'](),'status':_0x3b1d35(0x3db),'errorDetails':_0x74eb15(_0x447b19),'agentId':_0x454969,'threadId':_0x393e75,'code':_0xef13fb?.[_0x3b1d35(0x610)]??'','result':'Error\x20executing\x20code'}),_0x447b19 instanceof Error?_0x447b19['message']:'Error\x20executing\x20code';}}};}(_0xf3a886,_0x5492f4,_0x2b3a77,_0x599969['id'],_0xd710b0);case _0x1146c3[_0x172741(0x771)]:return function(_0x36f592,_0x3f2bff,_0x6cf327,_0x2fe00f,_0x17155c,_0x38cf5c,_0x1d2025){const _0x5da041=_0x172741,_0xa6ea79=_0x5da041(0x392),_0x31b050={'query':{'type':_0x3cfea6[_0x5da041(0x839)][_0x5da041(0x289)]}};return _0x43b7f8[_0x5da041(0x29b)]({'jobType':_0x12c942[_0x5da041(0x2bb)],'type':_0x5c292e['LoadSkillFunction'],'jobId':_0x36f592,'agentId':_0x3f2bff,'threadId':_0x6cf327,'traceLevel':_0x60e1e8[_0x5da041(0x628)],'startTime':Date['now'](),'timestamp':Date[_0x5da041(0x498)](),'status':'success','function':_0x26cf11[_0x5da041(0xbd)],'params':_0x31b050,'functionDescription':_0xa6ea79}),{'description':_0xa6ea79,'params':_0x31b050,'callback':async _0x53b7a0=>{const _0x35a4f7=_0x5da041,_0x131bc5=Date[_0x35a4f7(0x498)]();try{if(_0x1d2025&&_0x1d2025[_0x35a4f7(0x364)]({'output':'\x0a\x0a`Searching\x20on\x20Google\x20for\x20'+_0x53b7a0?.[_0x35a4f7(0x403)]+_0x35a4f7(0x402),'type':_0x35a4f7(0x394)}),!_0x38cf5c[_0x35a4f7(0x32c)])throw new Error('Search\x20connector\x20not\x20set');if(_0x35a4f7(0x1f2)!=typeof _0x53b7a0?.[_0x35a4f7(0x403)])throw new Error(_0x35a4f7(0x3ff));const _0x5ec841=await _0x38cf5c[_0x35a4f7(0x32c)][_0x35a4f7(0x2a5)](_0x53b7a0['query'],_0x17155c,_0x7d2261['google'][_0x35a4f7(0x5e5)]);let _0x283ac1='';for(const _0x5a35b2 of _0x5ec841)_0x283ac1+=_0x5a35b2[_0x35a4f7(0xf3)]+_0x35a4f7(0xdd)+_0x5a35b2[_0x35a4f7(0x195)]+'\x0a'+_0x5a35b2[_0x35a4f7(0x867)]+'\x0a\x0a';return _0x43b7f8[_0x35a4f7(0x29b)]({'jobType':_0x12c942['Skill'],'type':_0x26cf11[_0x35a4f7(0xbd)],'jobId':_0x36f592,'agentId':_0x3f2bff,'threadId':_0x6cf327,'blockId':_0x2fe00f,'traceLevel':_0x60e1e8[_0x35a4f7(0x628)],'startTime':_0x131bc5,'timestamp':Date[_0x35a4f7(0x498)](),'status':_0x35a4f7(0x2b5),'query':_0x53b7a0[_0x35a4f7(0x403)],'results':_0x283ac1}),_0x283ac1;}catch(_0x463244){return console[_0x35a4f7(0x3db)](_0x463244),_0x43b7f8[_0x35a4f7(0x29b)]({'jobType':_0x12c942['Skill'],'type':_0x26cf11[_0x35a4f7(0xbd)],'jobId':_0x36f592,'blockId':_0x2fe00f,'traceLevel':_0x60e1e8[_0x35a4f7(0x628)],'startTime':_0x131bc5,'timestamp':Date[_0x35a4f7(0x498)](),'status':_0x35a4f7(0x3db),'errorDetails':_0x74eb15(_0x463244),'agentId':_0x3f2bff,'threadId':_0x6cf327,'query':_0x53b7a0?.[_0x35a4f7(0x403)]??'','results':'Error\x20searching'}),_0x463244 instanceof Error?_0x463244[_0x35a4f7(0xfe)]:_0x35a4f7(0x183);}}};}(_0xf3a886,_0x5492f4,_0x2b3a77,_0x599969['id'],_0x553e3f[_0x172741(0x1d3)],_0x553e3f,_0xd710b0);case _0x1146c3[_0x172741(0x33e)]:return _0x3a8738(_0xf3a886,_0x5492f4,_0x2b3a77,_0x599969['id'],_0xd710b0);case _0x1146c3[_0x172741(0x47d)]:return _0x3a8738(_0xf3a886,_0x5492f4,_0x2b3a77,_0x599969['id'],_0xd710b0,!0x1);}throw new Error(_0x172741(0x508));}function _0x3a8738(_0x1b2c29,_0x4d0d1b,_0x435f06,_0x177f17,_0x3cea25,_0x56a06e=!0x0){const _0x2b03d9=_0x3cd514,_0x27d938=_0x2b03d9(0x7a7),_0x3334b3={'url':{'type':_0x3cfea6['PromptFunctionParamsType'][_0x2b03d9(0x289)]},'page':{'type':_0x3cfea6[_0x2b03d9(0x839)]['Number']}};return _0x43b7f8[_0x2b03d9(0x29b)]({'jobType':_0x12c942['JobContext'],'type':_0x5c292e[_0x2b03d9(0x2ea)],'jobId':_0x1b2c29,'agentId':_0x4d0d1b,'threadId':_0x435f06,'traceLevel':_0x60e1e8[_0x2b03d9(0x628)],'startTime':Date['now'](),'timestamp':Date[_0x2b03d9(0x498)](),'status':_0x2b03d9(0x2b5),'function':_0x26cf11[_0x2b03d9(0x4ed)],'params':_0x3334b3,'functionDescription':_0x27d938}),{'description':_0x27d938,'params':_0x3334b3,'callback':async _0x3911e5=>{const _0x496449=_0x2b03d9,_0x5dfed5=Date[_0x496449(0x498)]();try{if(_0x3cea25&&_0x3cea25[_0x496449(0x364)]({'output':'\x0a\x0a`Fetching\x20content\x20from\x20URL\x20'+_0x3911e5?.[_0x496449(0x195)]+'`\x0a\x0a','type':_0x496449(0x394)}),'string'!=typeof _0x3911e5?.['url'])throw new Error(_0x496449(0xd9));const _0x5866cf=await fetch(_0x3911e5[_0x496449(0x195)]),_0x1d795b=await _0x5866cf['text']();let _0x469892=_0x1d795b;if(_0x56a06e){const _0x58f16b=_0x1d795b[_0x496449(0x7c6)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x31bdf4=_0x58f16b?_0x58f16b[0x1]:_0x1d795b,_0x16b69c=_0x31bdf4[_0x496449(0x460)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x496449(0x460)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x496449(0x460)](/<br\s*\/?>/gi,'\x20')[_0x496449(0x460)](/&nbsp;/g,'\x20');_0x469892=_0x16b69c[_0x496449(0x460)](/<\/?[^>]+(>|$)/g,'')[_0x496449(0x460)](/\s\s+/g,'\x20')[_0x496449(0x5dd)]();}const _0x54816e=_0x496449(0x994)==typeof _0x3911e5[_0x496449(0xdb)]?_0x3911e5[_0x496449(0xdb)]:0x1,_0x21b46b=Math['ceil'](_0x469892[_0x496449(0x4f4)]/_0x16f8e8);return _0x469892[_0x496449(0x4f4)]>_0x16f8e8&&(_0x469892=_0x469892[_0x496449(0x7f0)]((_0x54816e-0x1)*_0x16f8e8,(_0x54816e-0x1)*_0x16f8e8+_0x16f8e8)+'More\x20content\x20available\x20on\x20page\x20'+(_0x54816e+0x1)+'.Total\x20pages\x20available:\x20'+_0x21b46b+'.'),_0x43b7f8[_0x496449(0x29b)]({'jobType':_0x12c942['Skill'],'type':_0x26cf11[_0x496449(0x4ed)],'jobId':_0x1b2c29,'agentId':_0x4d0d1b,'threadId':_0x435f06,'blockId':_0x177f17,'traceLevel':_0x60e1e8['Info'],'startTime':_0x5dfed5,'timestamp':Date[_0x496449(0x498)](),'status':_0x5866cf['ok']?_0x496449(0x2b5):_0x496449(0x3db),'url':_0x3911e5['url'],'page':_0x54816e,'totalPages':_0x21b46b,'response':_0x469892}),_0x469892;}catch(_0xc86c5d){console[_0x496449(0x3db)](_0xc86c5d);const _0x18f73f=_0xc86c5d instanceof Error?_0xc86c5d['message']:'Error\x20fetching\x20URL';return _0x43b7f8[_0x496449(0x29b)]({'jobType':_0x12c942[_0x496449(0x5a9)],'type':_0x26cf11[_0x496449(0x4ed)],'jobId':_0x1b2c29,'blockId':_0x177f17,'threadId':_0x435f06,'traceLevel':_0x60e1e8['Info'],'startTime':_0x5dfed5,'timestamp':Date[_0x496449(0x498)](),'agentId':_0x4d0d1b,'status':_0x496449(0x3db),'errorDetails':_0x74eb15(_0xc86c5d),'url':_0x3911e5?.[_0x496449(0x195)]??'','page':0x0,'totalPages':0x0,'response':_0x18f73f}),_0x18f73f;}}};}function _0x5c0828(_0x36d0d4,_0x381bf0,_0xbd1cbb,_0x1904fc,_0x8c7818){const _0x517ff1=_0x3cd514,_0x16e902={};for(const _0x5170b9 of _0x1904fc[_0x517ff1(0x992)])switch(_0x5170b9[_0x517ff1(0x3a7)]){case _0x517ff1(0x1f2):case'json':_0x16e902[_0x5170b9[_0x517ff1(0x945)]]={'type':_0x3cfea6[_0x517ff1(0x839)][_0x517ff1(0x289)]};break;case'number':_0x16e902[_0x5170b9[_0x517ff1(0x945)]]={'type':_0x3cfea6[_0x517ff1(0x839)]['Number']};break;case _0x517ff1(0x38c):_0x16e902[_0x5170b9[_0x517ff1(0x945)]]={'type':_0x3cfea6[_0x517ff1(0x839)][_0x517ff1(0x68c)]};}return _0x43b7f8['trace']({'jobType':_0x12c942[_0x517ff1(0x2bb)],'type':_0x5c292e['LoadSkillFunction'],'jobId':_0x36d0d4,'agentId':_0x381bf0,'threadId':_0xbd1cbb,'traceLevel':_0x60e1e8[_0x517ff1(0x628)],'startTime':Date[_0x517ff1(0x498)](),'timestamp':Date['now'](),'status':_0x517ff1(0x2b5),'function':_0x26cf11[_0x517ff1(0x2cb)],'params':_0x16e902,'functionDescription':_0x1904fc[_0x517ff1(0x670)]}),{'description':'Execute\x20skill\x20'+_0x1904fc[_0x517ff1(0x670)],'params':_0x16e902,'callback':async _0x105cfa=>{const _0x4e6214=_0x517ff1,_0x4fc281=Date[_0x4e6214(0x498)]();try{if(_0x8c7818&&_0x8c7818[_0x4e6214(0x364)]({'output':_0x4e6214(0x6df)+_0x1904fc['name']+_0x4e6214(0x402),'type':_0x4e6214(0x394)}),!_0x105cfa)throw new Error(_0x4e6214(0x48d));for(const _0x190df0 of _0x1904fc[_0x4e6214(0x992)]){if(void 0x0===_0x105cfa[_0x190df0[_0x4e6214(0x945)]])throw new Error(_0x4e6214(0x438)+_0x190df0[_0x4e6214(0x945)]+_0x4e6214(0x204));if(_0x4e6214(0x1f2)===_0x190df0[_0x4e6214(0x3a7)]&&_0x4e6214(0x1f2)!=typeof _0x105cfa[_0x190df0[_0x4e6214(0x945)]])throw new Error(_0x4e6214(0x438)+_0x190df0[_0x4e6214(0x945)]+_0x4e6214(0x875));if(_0x4e6214(0x994)===_0x190df0[_0x4e6214(0x3a7)]&&'number'!=typeof _0x105cfa[_0x190df0['name']])throw new Error(_0x4e6214(0x438)+_0x190df0[_0x4e6214(0x945)]+_0x4e6214(0x967));if(_0x4e6214(0x38c)===_0x190df0[_0x4e6214(0x3a7)]&&_0x4e6214(0x38c)!=typeof _0x105cfa[_0x190df0['name']])throw new Error('Parameter\x20'+_0x190df0[_0x4e6214(0x945)]+_0x4e6214(0x62c));if(_0x4e6214(0x2db)===_0x190df0[_0x4e6214(0x3a7)]&&_0x4e6214(0x1f2)!=typeof _0x105cfa[_0x190df0[_0x4e6214(0x945)]])throw new Error('Parameter\x20'+_0x190df0[_0x4e6214(0x945)]+'\x20must\x20be\x20a\x20string');if(_0x4e6214(0x2db)===_0x190df0[_0x4e6214(0x3a7)])try{_0x105cfa[_0x190df0[_0x4e6214(0x945)]]=JSON[_0x4e6214(0xc6)](_0x105cfa[_0x190df0[_0x4e6214(0x945)]]);}catch{throw new Error(_0x4e6214(0x438)+_0x190df0[_0x4e6214(0x945)]+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}let _0x38616c=_0x1904fc[_0x4e6214(0x335)];_0x38616c[_0x4e6214(0xe8)]('$')&&(_0x38616c=_0x105cfa[_0x1904fc[_0x4e6214(0x335)][_0x4e6214(0x1a5)](0x1)]);const _0x38d052=new URLSearchParams();for(const _0x4feac7 of _0x1904fc[_0x4e6214(0x8c7)]){let _0x5c781d=_0x4feac7[_0x4e6214(0x682)];if(_0x4e6214(0x1f2)==typeof _0x5c781d&&_0x5c781d[_0x4e6214(0xe8)]('$')){const _0x2d268d=_0x5c781d[_0x4e6214(0x1a5)](0x1);_0x5c781d=_0x105cfa[_0x2d268d];}if(_0x4e6214(0x1f2)==typeof _0x5c781d&&_0x5c781d[_0x4e6214(0xe8)](_0x4e6214(0x56c))){const _0x105ded=_0x5c781d[_0x4e6214(0x460)](_0x4e6214(0x56c),'');if(_0x5c781d=_0x168ae1[_0x4e6214(0x87a)](_0xbd1cbb,_0x105ded),'string'==typeof _0x5c781d&&_0x5c781d['startsWith']('{')&&_0x5c781d[_0x4e6214(0x187)]('}'))try{_0x5c781d=JSON['parse'](_0x5c781d);}catch{}}_0x4e6214(0x1f2)==typeof _0x5c781d&&_0x5c781d['startsWith']('[')&&_0x5c781d[_0x4e6214(0x187)](']')&&(_0x5c781d=_0x5c781d[_0x4e6214(0x1a5)](0x1,-0x1)['split'](',')),_0x38d052[_0x4e6214(0x6e5)](_0x4feac7['name'],_0x5c781d);}let _0x56e8cb=_0x1904fc['endpointUrl'];_0x38d052[_0x4e6214(0x3cb)]>0x0&&(_0x56e8cb+='?'+_0x38d052[_0x4e6214(0x548)]());const _0x435156={};for(const _0x276815 of _0x1904fc[_0x4e6214(0x6d1)]){let _0x334dc2=_0x276815[_0x4e6214(0x682)];if(_0x4e6214(0x1f2)==typeof _0x334dc2&&_0x334dc2['startsWith']('$')){const _0x33da71=_0x334dc2[_0x4e6214(0x1a5)](0x1);_0x334dc2=_0x105cfa[_0x33da71];}if(_0x4e6214(0x1f2)==typeof _0x334dc2&&_0x334dc2[_0x4e6214(0xe8)]('@context.')){const _0xa101f4=_0x334dc2[_0x4e6214(0x460)](_0x4e6214(0x56c),'');if(_0x334dc2=_0x168ae1[_0x4e6214(0x87a)](_0xbd1cbb,_0xa101f4),_0x4e6214(0x1f2)==typeof _0x334dc2&&_0x334dc2[_0x4e6214(0xe8)]('{')&&_0x334dc2['endsWith']('}'))try{_0x334dc2=JSON['parse'](_0x334dc2);}catch{}}if(_0x4e6214(0x1f2)==typeof _0x334dc2&&_0x334dc2['startsWith']('[')&&_0x334dc2[_0x4e6214(0x187)](']')&&(_0x334dc2=_0x334dc2['slice'](0x1,-0x1)['split'](',')),-0x1===_0x276815[_0x4e6214(0x945)][_0x4e6214(0x8f4)]('.'))_0x435156[_0x276815['name']]=_0x334dc2;else{const [_0x3b0918,_0x24edbf]=_0x276815[_0x4e6214(0x945)][_0x4e6214(0x4d3)]('.');_0x435156[_0x3b0918]||(_0x435156[_0x3b0918]={}),_0x435156[_0x3b0918][_0x24edbf]=_0x334dc2;}}const _0x97a100=await fetch(_0x56e8cb,{'method':_0x1904fc[_0x4e6214(0x613)],'headers':{'Authorization':_0x4e6214(0x614)+_0x38616c,'Content-Type':_0x4e6214(0x2a3)},'body':JSON[_0x4e6214(0x178)](_0x435156)});if(_0x97a100['ok']){const _0x136b2d=await _0x97a100[_0x4e6214(0x2db)]();return _0x43b7f8[_0x4e6214(0x29b)]({'jobType':_0x12c942[_0x4e6214(0x5a9)],'type':_0x26cf11[_0x4e6214(0x2cb)],'jobId':_0x36d0d4,'agentId':_0x381bf0,'threadId':_0xbd1cbb,'blockId':_0x1904fc['id'],'traceLevel':_0x60e1e8[_0x4e6214(0x628)],'startTime':_0x4fc281,'timestamp':Date[_0x4e6214(0x498)](),'status':'success','skillName':_0x1904fc[_0x4e6214(0x945)],'params':_0x105cfa,'result':_0x136b2d}),_0x136b2d;}throw new Error(_0x97a100[_0x4e6214(0x8cf)]);}catch(_0x158407){console[_0x4e6214(0x3db)](_0x158407);const _0x27d79e=_0x158407 instanceof Error?_0x158407[_0x4e6214(0xfe)]:_0x4e6214(0x6d5);return _0x43b7f8[_0x4e6214(0x29b)]({'jobType':_0x12c942['Skill'],'type':_0x26cf11[_0x4e6214(0x2cb)],'jobId':_0x36d0d4,'blockId':_0x1904fc['id'],'threadId':_0xbd1cbb,'traceLevel':_0x60e1e8['Info'],'startTime':_0x4fc281,'timestamp':Date[_0x4e6214(0x498)](),'agentId':_0x381bf0,'status':_0x4e6214(0x3db),'skillName':_0x1904fc[_0x4e6214(0x945)],'params':_0x105cfa??{},'result':_0x27d79e}),_0x27d79e;}}};}function _0x74eb15(_0x26d30e){const _0x349a22=_0x3cd514;try{return JSON[_0x349a22(0x178)](_0x26d30e);}catch(_0x48c989){return _0x26d30e instanceof Error?_0x26d30e['toString']():'Error\x20fetching\x20context';}}async function _0xd28119(_0x58c6f2,_0x2aa868,_0x47793c,_0x28a0c4,_0x2f056e,_0x3d0ea5,_0x395613){const _0x4e1376=_0x3cd514;for(const _0x20d68b of _0x2f056e[_0x4e1376(0x390)]||[]){const _0xd1ddef=_0x3d0ea5[_0x4e1376(0x833)](_0x15c57a=>_0x15c57a['uid']===_0x20d68b[_0x4e1376(0x29a)]);if(_0xd1ddef&&_0xd1ddef[_0x4e1376(0x3a7)]===_0x1146c3[_0x4e1376(0x966)]){if(_0x2f056e[_0x4e1376(0x570)]||(_0x2f056e[_0x4e1376(0x570)]={}),_0x2aa868 instanceof Array?_0x2f056e['accumulated']['context']=_0x2aa868:_0x2f056e[_0x4e1376(0x570)][_0x4e1376(0x394)]=_0x2aa868,_0x2f056e[_0x4e1376(0x7cd)]=_0x2f056e[_0x4e1376(0x7cd)]?_0x2f056e[_0x4e1376(0x7cd)]+0x1:0x1,_0x1fcc10(_0x2f056e,_0x3d0ea5)>_0x2f056e[_0x4e1376(0x7cd)])return;return _0x2f056e;}}if(_0x2f056e['accumulated']||(_0x2f056e[_0x4e1376(0x570)]={}),_0x2aa868 instanceof Array?_0x2f056e['accumulated']['context']=_0x2aa868:_0x2f056e[_0x4e1376(0x570)][_0x4e1376(0x394)]=_0x2aa868,_0x2f056e[_0x4e1376(0x7cd)]=_0x2f056e['timesCalled']?_0x2f056e[_0x4e1376(0x7cd)]+0x1:0x1,_0x1fcc10(_0x2f056e,_0x3d0ea5)>_0x2f056e[_0x4e1376(0x7cd)])return;if(!_0x2f056e[_0x4e1376(0x570)][_0x4e1376(0x394)])throw new Error(_0x4e1376(0x8ee));const _0x2fd665=_0x395613[_0x4e1376(0x6cc)]['find'](_0x3544ab=>_0x3544ab['id']===_0x2f056e[_0x4e1376(0xf4)]);if(!_0x2fd665)throw new Error(_0x4e1376(0x21d));const _0x2c55e0=_0x395613[_0x4e1376(0x5ef)][_0x4e1376(0x833)](_0x3a500e=>_0x3a500e[_0x4e1376(0xb8)]()===_0x2fd665['engineType']);if(!_0x2c55e0)throw new Error(_0x4e1376(0x7d7));const _0x15f28e=Date[_0x4e1376(0x498)](),_0x1234f5=(0x0,_0x6d7452['v4'])(),_0x1236e3=await _0x2c55e0['processJob']({'type':_0x4e1376(0x394),'prompt':_0x2f056e[_0x4e1376(0x570)][_0x4e1376(0x394)],'instructions':''+_0x2f056e[_0x4e1376(0x716)]+(_0x47793c[_0x4e1376(0x716)]??'')+(_0x2f056e[_0x4e1376(0x570)][_0x4e1376(0x337)]?_0x4e1376(0x4ea)+_0x2f056e[_0x4e1376(0x570)][_0x4e1376(0x337)]['map'](_0x4bab07=>_0x4bab07['content'])[_0x4e1376(0x696)]('\x0a'):''),'grammar':_0x2f056e['grammar'],'temperature':_0x2f056e[_0x4e1376(0x22d)],'maxTokens':_0x2f056e[_0x4e1376(0x152)],'history':_0x47793c[_0x4e1376(0x59d)],'functions':_0x146f46(_0x58c6f2,_0x1234f5,_0x47793c[_0x4e1376(0x77e)],_0x28a0c4,_0x2f056e,_0x3d0ea5,_0x395613),'threadId':_0x47793c['threadId']},{'model':_0x2fd665});if(_0x4e1376(0x1f2)!=typeof _0x1236e3['output'])throw new Error(_0x4e1376(0x5ac));return _0x28a0c4['inputTokens']+=_0x1236e3['inputTokens']??0x0,_0x28a0c4[_0x4e1376(0x540)]+=_0x1236e3[_0x4e1376(0x540)]??0x0,_0x43b7f8['trace']({'jobType':_0x12c942['Workflow'],'type':_0x216312['IntermediateOutput'],'jobId':_0x58c6f2,'agentId':_0x1234f5,'threadId':_0x47793c['threadId'],'traceLevel':_0x60e1e8[_0x4e1376(0x628)],'startTime':_0x15f28e,'timestamp':Date[_0x4e1376(0x498)](),'blockId':_0x2f056e['id'],'status':_0x4e1376(0x2b5),'output':_0x1236e3[_0x4e1376(0x1f6)]?.[_0x4e1376(0x548)]()??'','history':[],'instructions':''+_0x2f056e[_0x4e1376(0x716)]+(_0x47793c[_0x4e1376(0x716)]??''),'ragContext':_0x1236e3[_0x4e1376(0x337)]??[],'inputTokens':_0x1236e3[_0x4e1376(0x5e3)]??0x0,'outputTokens':_0x1236e3[_0x4e1376(0x540)]??0x0}),_0x435aec(_0x58c6f2,_0x1236e3[_0x4e1376(0x1f6)],_0x47793c,_0x28a0c4,_0x2f056e,_0x3d0ea5,_0x395613);}async function _0x5bdf53(_0x57b8bb,_0x23888f,_0x4fcf34,_0x3983e0,_0x448d9e,_0x552b16,_0x50ab7b){const _0x14b70e=function(_0x14c0ff,_0x5f0c27){const _0x39eb33=a0_0x2e46,_0x77345a=[];for(let _0x1ece7e=0x0;_0x1ece7e<_0x14c0ff[_0x39eb33(0x4f4)];_0x1ece7e+=_0x5f0c27[_0x39eb33(0x40a)]['size']){let _0x52906b=_0x1ece7e-_0x5f0c27[_0x39eb33(0x40a)][_0x39eb33(0x895)];_0x52906b<0x0&&(_0x52906b=0x0);let _0x2a3655=_0x1ece7e+_0x5f0c27['attributes'][_0x39eb33(0x3cb)]+_0x5f0c27['attributes'][_0x39eb33(0x895)];_0x2a3655>_0x14c0ff['length']&&(_0x2a3655=_0x14c0ff['length']),length||(length=_0x1ece7e+_0x5f0c27['attributes'][_0x39eb33(0x3cb)],length>_0x14c0ff[_0x39eb33(0x4f4)]&&(length=_0x14c0ff[_0x39eb33(0x4f4)])),_0x77345a[_0x39eb33(0x63b)](_0x14c0ff['substring'](_0x52906b,_0x2a3655));}return _0x77345a;}(_0x23888f,_0x448d9e);return _0x435aec(_0x57b8bb,_0x14b70e,_0x4fcf34,_0x3983e0,_0x448d9e,_0x552b16,_0x50ab7b);}async function _0x3a5902(_0x3daa32,_0x4c778b,_0x203173,_0x27cc18,_0x407dc8,_0x208b3f,_0x393b20){const _0xc9e6db=_0x3cd514;if(_0x407dc8['accumulated']||(_0x407dc8['accumulated']={}),_0x407dc8[_0xc9e6db(0x570)][_0xc9e6db(0x126)]||(_0x407dc8[_0xc9e6db(0x570)][_0xc9e6db(0x126)]=[]),_0x4c778b instanceof Array?_0x407dc8['accumulated'][_0xc9e6db(0x126)]['push'](..._0x4c778b):_0x407dc8['accumulated'][_0xc9e6db(0x126)][_0xc9e6db(0x63b)](_0x4c778b),_0x407dc8['timesCalled']=_0x407dc8['timesCalled']?_0x407dc8[_0xc9e6db(0x7cd)]+0x1:0x1,_0x1fcc10(_0x407dc8,_0x208b3f)>_0x407dc8[_0xc9e6db(0x7cd)])return;if(0x0===_0x407dc8[_0xc9e6db(0x570)][_0xc9e6db(0x126)]['length'])throw new Error(_0xc9e6db(0x786));let _0x48d642=[];const _0x22fa2b=Date[_0xc9e6db(0x498)]();try{let _0x46d15a=0x0,_0x17889e=0x0;for(const _0x388f88 of _0x407dc8[_0xc9e6db(0x570)][_0xc9e6db(0x126)]){const _0x19246b=_0x407dc8[_0xc9e6db(0x1fa)][_0xc9e6db(0x833)](_0x1e8368=>_0x1e8368[_0xc9e6db(0x3a7)]===_0x4aad44[_0xc9e6db(0x2b9)]),_0x5e45ca=await _0x62c3c(_0x3daa32,_0x203173[_0xc9e6db(0x77e)],_0x388f88,_0x19246b,_0x407dc8['retrieveBlocks'],_0x393b20);_0x48d642=Array['from'](new Set([..._0x48d642,..._0x5e45ca[_0xc9e6db(0x337)]])),_0x46d15a+=_0x5e45ca[_0xc9e6db(0x5e3)]??0x0,_0x17889e+=_0x5e45ca['outputTokens']??0x0;}_0x27cc18[_0xc9e6db(0x5e3)]+=_0x46d15a,_0x27cc18[_0xc9e6db(0x540)]+=_0x17889e,_0x27cc18['context']=Array['from'](new Set([..._0x27cc18[_0xc9e6db(0x337)],..._0x48d642])),_0x43b7f8[_0xc9e6db(0x29b)]({'jobType':_0x12c942[_0xc9e6db(0x448)],'type':_0x216312[_0xc9e6db(0x133)],'jobId':_0x3daa32,'threadId':_0x203173[_0xc9e6db(0x77e)],'traceLevel':_0x60e1e8[_0xc9e6db(0x628)],'startTime':_0x22fa2b,'timestamp':Date[_0xc9e6db(0x498)](),'blockId':_0x407dc8['id'],'status':'success','queries':_0x407dc8['accumulated'][_0xc9e6db(0x126)],'context':_0x48d642,'inputTokens':_0x46d15a,'outputTokens':_0x17889e});}catch(_0x2b74ef){console[_0xc9e6db(0x3db)](_0x2b74ef),_0x43b7f8[_0xc9e6db(0x29b)]({'jobType':_0x12c942[_0xc9e6db(0x448)],'type':_0x216312['DataCollection'],'jobId':_0x3daa32,'threadId':_0x203173[_0xc9e6db(0x77e)],'traceLevel':_0x60e1e8['Info'],'startTime':_0x22fa2b,'timestamp':Date[_0xc9e6db(0x498)](),'blockId':_0x407dc8['id'],'status':_0xc9e6db(0x3db),'queries':_0x407dc8[_0xc9e6db(0x570)][_0xc9e6db(0x126)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}return _0x435aec(_0x3daa32,_0x48d642,_0x203173,_0x27cc18,_0x407dc8,_0x208b3f,_0x393b20);}async function _0xcc0d9e(_0x4aba1d,_0x264198,_0xf48dd5,_0x546ac8,_0xe307c0,_0x5d65c5,_0x38a2b8){const _0x53244c=_0x3cd514;return _0x435aec(_0x4aba1d,await _0x38a2b8['nlpLibraryConnector'][_0x53244c(0x5ec)](_0x264198),_0xf48dd5,_0x546ac8,_0xe307c0,_0x5d65c5,_0x38a2b8);}async function _0x2bb3f8(_0x32da26,_0x4e748f,_0x367353,_0x6309f,_0x1ad84f,_0x3a9d25,_0x533e38){const _0x48d9e7=function(_0x1d4268,_0x5b064f){const _0x5003f1=a0_0x2e46,_0xf9c27e=[],_0x25bc62=_0x1d4268['split']('\x20');let _0x599404='',_0x34ca19=0x0,_0x1d1c70=0x0,_0x390d7d=0x0;for(const _0x2bf91a of _0x25bc62){if(_0x599404[_0x5003f1(0x4f4)]+_0x2bf91a[_0x5003f1(0x4f4)]>_0x5b064f['attributes'][_0x5003f1(0x3cb)]){let _0x2e01e1=_0x34ca19,_0x47da1b='';for(;_0x2e01e1>=0x0&&_0x47da1b['length']+_0x25bc62[_0x2e01e1][_0x5003f1(0x4f4)]<_0x5b064f[_0x5003f1(0x40a)][_0x5003f1(0x895)];)_0x47da1b=_0x25bc62[_0x2e01e1]+'\x20'+_0x47da1b,_0x2e01e1--;let _0x133076=_0x1d1c70,_0x271b5f='';for(;_0x133076<_0x25bc62['length']&&_0x271b5f[_0x5003f1(0x4f4)]+_0x25bc62[_0x133076]['length']<_0x5b064f[_0x5003f1(0x40a)][_0x5003f1(0x895)];)_0x271b5f+=_0x25bc62[_0x133076]+'\x20',_0x133076++;_0x599404=_0x47da1b+_0x599404+_0x271b5f,_0xf9c27e[_0x5003f1(0x63b)](_0x599404[_0x5003f1(0x5dd)]()),_0x599404='',_0x34ca19=_0x1d1c70;}_0x599404+=_0x2bf91a+'\x20',_0x1d1c70++,_0x390d7d+=_0x2bf91a[_0x5003f1(0x4f4)]+0x1;}if(_0x599404[_0x5003f1(0x4f4)]>0x0){let _0xa2f08f=_0x34ca19,_0x37f2da='';for(;_0xa2f08f>=0x0&&_0x37f2da['length']+_0x25bc62[_0xa2f08f][_0x5003f1(0x4f4)]<_0x5b064f[_0x5003f1(0x40a)]['overlap'];)_0x37f2da=_0x25bc62[_0xa2f08f]+'\x20'+_0x37f2da,_0xa2f08f--;_0x599404=_0x37f2da+_0x599404,_0xf9c27e[_0x5003f1(0x63b)](_0x599404[_0x5003f1(0x5dd)]());}return _0xf9c27e;}(_0x4e748f,_0x1ad84f);return _0x435aec(_0x32da26,_0x48d9e7,_0x367353,_0x6309f,_0x1ad84f,_0x3a9d25,_0x533e38);}async function _0x435aec(_0x5bbe68,_0x20336d,_0x58b6bb,_0x15264f,_0x3a3b5d,_0x3c24d4,_0x5efcba){const _0x4b0f3f=_0x3cd514;let _0x1f8685;for(const _0x572c05 of _0x3a3b5d['links']||[]){const _0x49a2b3=_0x3c24d4['find'](_0x555857=>_0x555857[_0x4b0f3f(0x29a)]===_0x572c05[_0x4b0f3f(0x29a)]);if(_0x49a2b3){switch(_0x49a2b3['type']){case _0x1146c3[_0x4b0f3f(0x704)]:_0x1f8685=await _0xd28119(_0x5bbe68,_0x20336d,_0x58b6bb,_0x15264f,_0x49a2b3,_0x3c24d4,_0x5efcba);break;case _0x1146c3[_0x4b0f3f(0x878)]:_0x1f8685=await _0x5bdf53(_0x5bbe68,_0x20336d,_0x58b6bb,_0x15264f,_0x49a2b3,_0x3c24d4,_0x5efcba);break;case _0x1146c3['DataCollection']:_0x1f8685=await _0x3a5902(_0x5bbe68,_0x20336d,_0x58b6bb,_0x15264f,_0x49a2b3,_0x3c24d4,_0x5efcba);break;case _0x1146c3[_0x4b0f3f(0x7d9)]:_0x1f8685=await _0xcc0d9e(_0x5bbe68,_0x20336d,_0x58b6bb,_0x15264f,_0x49a2b3,_0x3c24d4,_0x5efcba);break;case _0x1146c3['WordSplitter']:_0x1f8685=await _0x2bb3f8(_0x5bbe68,_0x20336d,_0x58b6bb,_0x15264f,_0x49a2b3,_0x3c24d4,_0x5efcba);}if(_0x1f8685)return _0x1f8685;}}}function _0x1fcc10(_0x5f18ac,_0x15a4ad){const _0x2c7e4c=_0x3cd514;return _0x15a4ad['filter'](_0x3ee3a6=>_0x3ee3a6[_0x2c7e4c(0x390)]?.['some'](_0xa444db=>_0xa444db['type']!==_0x291256['Knowledge']&&_0xa444db[_0x2c7e4c(0x3a7)]!==_0x291256['Skill']&&_0xa444db[_0x2c7e4c(0x29a)]===_0x5f18ac[_0x2c7e4c(0x29a)]))[_0x2c7e4c(0x4f4)];}const _0xb0636e=require('rxjs/operators');class _0x49e2bd{['subject'];constructor(){const _0x23ba42=_0x3cd514;this[_0x23ba42(0x327)]=new _0x18fd89['Subject']();}[_0x3cd514(0x364)](_0x3fe0ea){const _0x31012f=_0x3cd514;this[_0x31012f(0x327)][_0x31012f(0x6d0)](_0x3fe0ea);}async[_0x3cd514(0x7ad)](){const _0x3b8fa4=_0x3cd514;return(0x0,_0x18fd89[_0x3b8fa4(0x440)])(this['subject']['pipe']((0x0,_0xb0636e['take'])(0x1)));}}class _0x484f05 extends _0x589853{[_0x3cd514(0x780)];[_0x3cd514(0x1a3)];[_0x3cd514(0x1b6)];[_0x3cd514(0x5ef)];[_0x3cd514(0x24a)];['nlpLibraryConnector'];[_0x3cd514(0x1d3)];['searchConnector'];[_0x3cd514(0x155)];[_0x3cd514(0x697)];[_0x3cd514(0x957)]=new Map();['externalStores']=new Map();[_0x3cd514(0x148)];[_0x3cd514(0x6cc)]=new Map();[_0x3cd514(0x5f4)];[_0x3cd514(0x251)]=0x0;['tokens']=0x0;[_0x3cd514(0x3af)]=!0x1;constructor(_0x7f4378,_0x2e247c,_0x10cddd,_0x3369cf,_0x3d2351,_0x554f70,_0x12973a,_0x23cbd3,_0x27595b,_0x374f09){const _0x27855b=_0x3cd514;super(_0x7f4378,_0x2e247c,_0x3369cf),this['localNode']=_0x7f4378,this['vendorId']=_0x10cddd,this['contentMediator']=_0x3d2351,this[_0x27855b(0x5ef)]=_0x554f70,this[_0x27855b(0x24a)]=_0x12973a,this[_0x27855b(0x675)]=_0x23cbd3,this['searchApiKey']=_0x27595b,this[_0x27855b(0x32c)]=_0x374f09;}async[_0x3cd514(0x616)](){const _0x4a30d7=_0x3cd514;for(const _0x17d3d2 of this[_0x4a30d7(0x5ef)])await _0x17d3d2[_0x4a30d7(0x8aa)]();this[_0x4a30d7(0x697)]?.[_0x4a30d7(0x2cf)](this[_0x4a30d7(0x788)]),this[_0x4a30d7(0x957)][_0x4a30d7(0x753)](_0x1159c3=>_0x1159c3[_0x4a30d7(0x2cf)](this[_0x4a30d7(0x788)])),this[_0x4a30d7(0x5f4)]&&(clearTimeout(this[_0x4a30d7(0x5f4)]),delete this[_0x4a30d7(0x5f4)]),super[_0x4a30d7(0x616)]();}async[_0x3cd514(0x92d)](_0xec3b6e=!0x1){const _0x2f4f0b=_0x3cd514;if(this['isOpened'])super[_0x2f4f0b(0x92d)]();else{if(this[_0x2f4f0b(0x155)]=await _0x328271['getWorkflow'](this[_0x2f4f0b(0x1a3)],this['label']),this[_0x2f4f0b(0x697)]=this[_0x2f4f0b(0x1b6)][_0x2f4f0b(0x25c)](this[_0x2f4f0b(0x155)][_0x2f4f0b(0x5aa)]),!this[_0x2f4f0b(0x697)])throw new Error(_0x2f4f0b(0x6eb));this[_0x2f4f0b(0x916)](),_0xec3b6e||await this['waitForSyncComplete'](this[_0x2f4f0b(0x697)]);for(const _0x3a6ae2 of this[_0x2f4f0b(0x155)][_0x2f4f0b(0x6cc)])try{let _0x238884;_0x3a6ae2[_0x2f4f0b(0x46c)]===_0x3cfea6[_0x2f4f0b(0x14a)][_0x2f4f0b(0x381)]&&(_0x238884=await this[_0x2f4f0b(0x177)]('/'+_0x3a6ae2['id']+_0x238e0b)),this[_0x2f4f0b(0x6cc)]['set'](_0x3a6ae2['id'],{'id':_0x3a6ae2['id'],'engineType':_0x3a6ae2[_0x2f4f0b(0x46c)],'taskType':_0x3a6ae2[_0x2f4f0b(0x14d)],'inputType':_0x3a6ae2['inputType'],'outputType':_0x3a6ae2[_0x2f4f0b(0x1cd)],'sourceUrl':_0x3a6ae2['sourceUrl'],'pathName':_0x238884});}catch(_0x26e943){await this[_0x2f4f0b(0x697)]['publish']({'action':_0x3cfea6[_0x2f4f0b(0x959)]['File'],'file':new File([''],''+_0x3a6ae2['id']+_0x238e0b),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x3a6ae2[_0x2f4f0b(0x61e)]}}),this['models'][_0x2f4f0b(0x282)](_0x3a6ae2['id'],{'id':_0x3a6ae2['id'],'engineType':_0x3a6ae2[_0x2f4f0b(0x46c)],'taskType':_0x3a6ae2[_0x2f4f0b(0x14d)],'inputType':_0x3a6ae2[_0x2f4f0b(0xd4)],'outputType':_0x3a6ae2['outputType'],'sourceUrl':_0x3a6ae2[_0x2f4f0b(0x61e)],'pathName':await this[_0x2f4f0b(0x177)]('/'+_0x3a6ae2['id']+_0x238e0b)});}try{for(const _0x3fbc4c of this[_0x2f4f0b(0x5ef)])await _0x3fbc4c['initialize'](this[_0x2f4f0b(0x788)],this[_0x2f4f0b(0x6cc)]);}catch(_0x1a296c){return this[_0x2f4f0b(0x92d)](_0xec3b6e);}for(const _0x1b5ac6 of this[_0x2f4f0b(0x155)][_0x2f4f0b(0x75d)])this[_0x2f4f0b(0x957)][_0x2f4f0b(0x282)](_0x1b5ac6,this[_0x2f4f0b(0x1b6)][_0x2f4f0b(0x25c)](_0x1b5ac6));await this[_0x2f4f0b(0x361)](),this[_0x2f4f0b(0x409)]();for(const _0x273bba of this['workflow'][_0x2f4f0b(0x948)])this[_0x2f4f0b(0x14f)][_0x2f4f0b(0x282)](_0x273bba,this[_0x2f4f0b(0x1b6)][_0x2f4f0b(0x200)](_0x273bba));await this[_0x2f4f0b(0x720)](),this[_0x2f4f0b(0x55c)](),this[_0x2f4f0b(0x3af)]=!0x0,this[_0x2f4f0b(0x44e)](),super[_0x2f4f0b(0x92d)]();}}['reset'](){const _0x240b7e=_0x3cd514;this[_0x240b7e(0x251)]=0x0,this['tokens']=0x0,this[_0x240b7e(0x44e)](),super[_0x240b7e(0x32f)]();}[_0x3cd514(0x5ee)](){const _0x2eb11f=_0x3cd514;return this['sendStats'](),this[_0x2eb11f(0x45c)]();}[_0x3cd514(0xff)](_0xb46276,_0x2a452e,_0x493e95){const _0x458404=_0x3cd514,{outputTokens:_0x1bcdb1=0x0,output:_0x2d5bd8=''}=_0xb46276,_0x50e550=_0x1bcdb1/((_0x493e95-_0x2a452e)/0x3e8);this[_0x458404(0x251)]+=0x1,this[_0x458404(0x84d)]+=_0x1bcdb1,this[_0x458404(0x72f)](_0x50e550,_0x1bcdb1),this['sendStats']();}[_0x3cd514(0x16a)](_0x3aa7ea,_0x209f37){const _0x423817=_0x3cd514;return _0x3aa7ea[_0x423817(0x1f6)]=_0x3aa7ea['output']??'',{'type':_0x423817(0x394),'output':_0x423817(0x1f2)==typeof _0x3aa7ea['output']&&_0x423817(0x1f2)==typeof _0x209f37[_0x423817(0x1f6)]?_0x3aa7ea['output']+_0x209f37[_0x423817(0x1f6)]:_0x209f37[_0x423817(0x1f6)],'outputTokens':_0x209f37[_0x423817(0x540)]??_0x3aa7ea['outputTokens'],'inputTokens':_0x209f37[_0x423817(0x5e3)]??_0x3aa7ea[_0x423817(0x5e3)]};}async[_0x3cd514(0x715)](_0x5f2cc8,_0x188079){const _0x1592f3=_0x3cd514;if(!this['workflow'])throw new Error(_0x1592f3(0x960));if(_0x1592f3(0x394)===_0x188079['type']){const _0x34f4b8=this['workflow']['blocks'][_0x1592f3(0x833)](_0x4694b3=>_0x4694b3['type']===_0x1146c3['Prompt']),_0x34f1fc=await async function(_0x294086,_0x46fdac,_0x3b007d,_0x1f44e5,_0x29eebb){const _0x42697f=_0x1592f3,_0x2f7427=(0x0,_0x6d7452['v4'])();if(_0x43b7f8[_0x42697f(0x29b)]({'jobType':_0x12c942[_0x42697f(0x448)],'type':_0x216312[_0x42697f(0x63d)],'jobId':_0x294086,'blockId':_0x3b007d['id'],'agentId':_0x2f7427,'threadId':_0x46fdac[_0x42697f(0x77e)],'traceLevel':_0x60e1e8[_0x42697f(0x628)],'startTime':Date[_0x42697f(0x498)](),'timestamp':Date[_0x42697f(0x498)](),'status':_0x42697f(0x2b5),'initialPrompt':_0x46fdac[_0x42697f(0x394)]}),_0x46fdac[_0x42697f(0x53b)]){for(const _0x1e1779 in _0x46fdac[_0x42697f(0x53b)])_0x168ae1[_0x42697f(0x188)](_0x46fdac[_0x42697f(0x77e)],_0x1e1779,_0x46fdac[_0x42697f(0x53b)][_0x1e1779]);}const _0x4a05ec={'type':_0x46fdac['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x3bdd0c=await _0x435aec(_0x294086,''+_0x46fdac[_0x42697f(0x394)],_0x46fdac,_0x4a05ec,_0x3b007d,_0x1f44e5,_0x29eebb);if(!_0x3bdd0c)throw new Error(_0x42697f(0x913));const _0x104f57=_0x29eebb[_0x42697f(0x6cc)][_0x42697f(0x833)](_0x540a60=>_0x540a60['id']===_0x3bdd0c[_0x42697f(0xf4)]);if(!_0x104f57)throw new Error(_0x42697f(0x21d));const _0x5ddcd1=_0x29eebb['generativeAIWorkerConnectors'][_0x42697f(0x833)](_0x39da72=>_0x39da72[_0x42697f(0xb8)]()===_0x104f57[_0x42697f(0x46c)]);if(!_0x5ddcd1)throw new Error(_0x42697f(0x7d7));let _0x21299b=_0x3bdd0c['accumulated'][_0x42697f(0x394)];if(_0x3bdd0c[_0x42697f(0x915)]&&''!==_0x3bdd0c[_0x42697f(0x915)]&&'default'!==_0x3bdd0c[_0x42697f(0x249)]){const _0x455e50=_0x3bdd0c[_0x42697f(0x915)][_0x42697f(0x4d3)](',');for(const _0x23b39b of _0x455e50)_0x21299b=_0x21299b+'\x0a\x0a'+_0x23b39b+':\x20'+_0x168ae1[_0x42697f(0x87a)](_0x46fdac[_0x42697f(0x77e)],_0x23b39b);}const _0x59180f=Date[_0x42697f(0x498)](),_0x338ef3=await _0x5ddcd1[_0x42697f(0x7f2)]({'type':_0x46fdac['type'],'prompt':_0x21299b,'instructions':''+_0x3bdd0c[_0x42697f(0x716)]+(_0x46fdac['instructions']??'')+(_0x3bdd0c['accumulated']?.[_0x42697f(0x337)]?_0x42697f(0x4ea)+_0x3bdd0c[_0x42697f(0x570)][_0x42697f(0x337)][_0x42697f(0x730)](_0x364d7a=>_0x364d7a[_0x42697f(0x1cb)])['join']('\x0a'):''),'grammar':_0x3bdd0c[_0x42697f(0x249)],'temperature':_0x3bdd0c[_0x42697f(0x22d)],'maxTokens':_0x3bdd0c['maxTokens'],'history':_0x46fdac[_0x42697f(0x59d)],'functions':_0x146f46(_0x294086,_0x2f7427,_0x46fdac[_0x42697f(0x77e)],_0x4a05ec,_0x3bdd0c,_0x1f44e5,_0x29eebb),'threadId':_0x46fdac[_0x42697f(0x77e)]},{'model':_0x104f57}),{inputTokens:_0x378713=0x0,outputTokens:_0x567f67=0x0,context:_0x7486ff=[]}=_0x338ef3;return _0x43b7f8[_0x42697f(0x29b)]({'jobType':_0x12c942[_0x42697f(0x448)],'type':_0x216312[_0x42697f(0x6d2)],'jobId':_0x294086,'agentId':_0x2f7427,'threadId':_0x46fdac[_0x42697f(0x77e)],'traceLevel':_0x60e1e8[_0x42697f(0x628)],'startTime':_0x59180f,'timestamp':Date[_0x42697f(0x498)](),'blockId':_0x3b007d['id'],'status':_0x42697f(0x2b5),'output':_0x338ef3['output']?.['toString']()??'','history':_0x46fdac['history']??[],'instructions':''+_0x3bdd0c[_0x42697f(0x716)]+(_0x46fdac[_0x42697f(0x716)]??''),'ragContext':_0x7486ff,'inputTokens':_0x378713,'outputTokens':_0x567f67}),_0x168ae1[_0x42697f(0x122)](_0x46fdac['threadId']),{'type':_0x46fdac[_0x42697f(0x3a7)],'output':_0x338ef3[_0x42697f(0x1f6)],'context':_0x4a05ec[_0x42697f(0x337)],'internalContext':_0x4a05ec[_0x42697f(0x53b)],'inputTokens':(_0x4a05ec['inputTokens']??0x0)+(_0x338ef3['inputTokens']??0x0),'outputTokens':(_0x4a05ec[_0x42697f(0x540)]??0x0)+(_0x338ef3[_0x42697f(0x540)]??0x0)};}(_0x5f2cc8,_0x188079,_0x34f4b8,this['workflow']['blocks'],{'documentParserConnector':this[_0x1592f3(0x24a)],'nlpLibraryConnector':this[_0x1592f3(0x675)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this['workflow']['models'],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x1592f3(0x1d3)],'searchConnector':this['searchConnector']});return _0x34f1fc;}if('rate'===_0x188079['type'])return _0x43b7f8[_0x1592f3(0x29b)]({'jobType':_0x12c942[_0x1592f3(0x418)],'type':_0x430ea5[_0x1592f3(0x40e)],'jobId':_0x188079['jobId'],'threadId':_0x188079[_0x1592f3(0x77e)],'traceLevel':_0x60e1e8[_0x1592f3(0x628)],'startTime':Date[_0x1592f3(0x498)](),'timestamp':Date['now'](),'status':_0x1592f3(0x2b5),'rating':_0x188079[_0x1592f3(0x85e)],'feedback':_0x188079[_0x1592f3(0x443)]}),{'type':'rate','status':_0x3cfea6['GenerativeAIRatingStatus'][_0x1592f3(0x313)]};if(_0x1592f3(0x3c9)===_0x188079[_0x1592f3(0x3a7)]){let _0x8fce33;const _0x37a5a2=this['dataStores'][_0x1592f3(0x298)]();for(;!_0x8fce33;){const _0x27c32d=_0x37a5a2[_0x1592f3(0x6d0)]()[_0x1592f3(0x682)];if(!_0x27c32d)throw new Error(_0x1592f3(0x900));_0x8fce33=this['dataStores'][_0x1592f3(0x31f)](_0x27c32d);try{const _0x5bfd0f=await _0x8fce33[_0x1592f3(0x31f)](_0x188079[_0x1592f3(0x68b)]);return{'type':_0x1592f3(0x3c9),'fileName':_0x5bfd0f[_0x1592f3(0x945)],'mimeType':_0x5bfd0f[_0x1592f3(0x3a7)],'document':await _0x5bfd0f[_0x1592f3(0x73c)]()};}catch(_0x13ead8){continue;}}throw new Error(_0x1592f3(0x900));}throw new Error(_0x1592f3(0x30c));}async*[_0x3cd514(0x385)](_0x2b7796,_0x5b885b){const _0xd310f7=_0x3cd514;if(!this[_0xd310f7(0x155)])throw new Error(_0xd310f7(0x960));const _0x389fe4=this[_0xd310f7(0x155)][_0xd310f7(0x785)][_0xd310f7(0x833)](_0x2a7b1c=>_0x2a7b1c[_0xd310f7(0x3a7)]===_0x1146c3[_0xd310f7(0x2b9)]);for await(const _0x417d09 of async function*(_0x47ae88,_0x261943,_0x3c2dca,_0x204114,_0x45eddc){const _0x1c53b2=_0xd310f7,_0x46b433=(0x0,_0x6d7452['v4'])();if(_0x43b7f8[_0x1c53b2(0x29b)]({'jobType':_0x12c942[_0x1c53b2(0x448)],'type':_0x216312[_0x1c53b2(0x63d)],'jobId':_0x47ae88,'agentId':_0x46b433,'threadId':_0x261943[_0x1c53b2(0x77e)],'traceLevel':_0x60e1e8['Info'],'startTime':Date[_0x1c53b2(0x498)](),'timestamp':Date[_0x1c53b2(0x498)](),'blockId':_0x3c2dca['id'],'status':'success','initialPrompt':_0x261943['prompt']}),_0x261943[_0x1c53b2(0x53b)]){for(const _0x38f14b in _0x261943[_0x1c53b2(0x53b)])_0x168ae1[_0x1c53b2(0x188)](_0x261943['threadId'],_0x38f14b,_0x261943[_0x1c53b2(0x53b)][_0x38f14b]);}const _0xa50fc7={'type':_0x261943[_0x1c53b2(0x3a7)],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x27add5=await _0x435aec(_0x47ae88,''+_0x261943[_0x1c53b2(0x394)],_0x261943,_0xa50fc7,_0x3c2dca,_0x204114,_0x45eddc);if(!_0x27add5)throw new Error(_0x1c53b2(0x913));const _0xa43acb=Date[_0x1c53b2(0x498)]();let _0x5e37fe='',_0x53142c={'type':_0x261943[_0x1c53b2(0x3a7)]};const _0x5dfe61=new _0x49e2bd();for(async function(_0x48874b,_0x494856,_0x315426,_0x588f6f,_0x311cfb,_0x460d5e,_0x5e1ceb,_0x44822e){const _0xa6c9f5=_0x1c53b2,_0x4b8079=_0x44822e['models']['find'](_0xeabb1e=>_0xeabb1e['id']===_0x311cfb['modelId']);if(!_0x4b8079)throw new Error(_0xa6c9f5(0x21d));const _0x45949e=_0x44822e[_0xa6c9f5(0x5ef)][_0xa6c9f5(0x833)](_0x26e836=>_0x26e836['getEngineType']()===_0x4b8079[_0xa6c9f5(0x46c)]);if(!_0x45949e)throw new Error('No\x20connector\x20found\x20for\x20model');let _0x5b199b=_0x311cfb[_0xa6c9f5(0x570)]['prompt'];if(_0x311cfb['contextInputVariable']&&''!==_0x311cfb[_0xa6c9f5(0x915)]&&_0xa6c9f5(0x10e)!==_0x311cfb[_0xa6c9f5(0x249)]){const _0x10b132=_0x311cfb['contextInputVariable'][_0xa6c9f5(0x4d3)](',');for(const _0x4f94e8 of _0x10b132)_0x5b199b=_0x5b199b+'\x0a\x0a'+_0x4f94e8+':\x20'+_0x168ae1['getContent'](_0x315426[_0xa6c9f5(0x77e)],_0x4f94e8);}for await(const _0x26f69e of _0x45949e[_0xa6c9f5(0x197)]({'type':_0x315426[_0xa6c9f5(0x3a7)],'prompt':_0x5b199b,'instructions':''+_0x311cfb['instructions']+(_0x315426['instructions']??'')+(_0x311cfb[_0xa6c9f5(0x570)]?.[_0xa6c9f5(0x337)]?_0xa6c9f5(0x4ea)+_0x311cfb[_0xa6c9f5(0x570)][_0xa6c9f5(0x337)][_0xa6c9f5(0x730)](_0x422e73=>_0x422e73[_0xa6c9f5(0x1cb)])['join']('\x0a'):''),'grammar':_0x311cfb[_0xa6c9f5(0x249)],'temperature':_0x311cfb['temperature'],'maxTokens':_0x311cfb[_0xa6c9f5(0x152)],'history':_0x315426['history'],'functions':_0x146f46(_0x48874b,_0x494856,_0x315426[_0xa6c9f5(0x77e)],_0x588f6f,_0x311cfb,_0x460d5e,_0x44822e,_0x5e1ceb),'threadId':_0x315426['threadId']},{'model':_0x4b8079}))_0x5e1ceb[_0xa6c9f5(0x364)](_0x26f69e);_0x5e1ceb[_0xa6c9f5(0x364)](void 0x0);}(_0x47ae88,_0x46b433,_0x261943,_0xa50fc7,_0x27add5,_0x204114,_0x5dfe61,_0x45eddc);;){const _0x184a54=await _0x5dfe61[_0x1c53b2(0x7ad)]();if(!_0x184a54)break;_0x5e37fe+=_0x184a54[_0x1c53b2(0x1f6)],_0x53142c={'type':_0x261943[_0x1c53b2(0x3a7)],'output':_0x184a54[_0x1c53b2(0x1f6)],'context':_0xa50fc7[_0x1c53b2(0x337)],'internalContext':_0xa50fc7['internalContext'],'inputTokens':(_0xa50fc7[_0x1c53b2(0x5e3)]??0x0)+(_0x184a54[_0x1c53b2(0x5e3)]??0x0),'outputTokens':(_0xa50fc7['outputTokens']??0x0)+(_0x184a54[_0x1c53b2(0x540)]??0x0)},yield _0x53142c;}const {inputTokens:_0x52de57=0x0,outputTokens:_0x13e412=0x0,context:_0x5ce139=[]}=_0x53142c;_0x43b7f8[_0x1c53b2(0x29b)]({'jobType':_0x12c942[_0x1c53b2(0x448)],'type':_0x216312[_0x1c53b2(0x6d2)],'jobId':_0x47ae88,'agentId':_0x46b433,'threadId':_0x261943[_0x1c53b2(0x77e)],'traceLevel':_0x60e1e8[_0x1c53b2(0x628)],'startTime':_0xa43acb,'timestamp':Date[_0x1c53b2(0x498)](),'blockId':_0x3c2dca['id'],'status':_0x1c53b2(0x2b5),'output':_0x5e37fe,'history':_0x261943['history']??[],'instructions':''+_0x27add5[_0x1c53b2(0x716)]+(_0x261943[_0x1c53b2(0x716)]??''),'ragContext':_0x5ce139,'inputTokens':_0x52de57,'outputTokens':_0x13e412}),_0x168ae1[_0x1c53b2(0x122)](_0x261943[_0x1c53b2(0x77e)]);}(_0x2b7796,_0x5b885b,_0x389fe4,this[_0xd310f7(0x155)]['blocks'],{'documentParserConnector':this[_0xd310f7(0x24a)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0xd310f7(0x5ef)],'models':this[_0xd310f7(0x155)][_0xd310f7(0x6cc)],'contentMediator':this[_0xd310f7(0x1b6)],'searchApiKey':this[_0xd310f7(0x1d3)],'searchConnector':this['searchConnector']}))yield _0x417d09;}[_0x3cd514(0x810)](_0x58c890,_0xc058e0){const _0x22e81e=_0x3cd514;if(_0x22e81e(0x2a0)===_0xc058e0[_0x22e81e(0x3a7)])return _0x58c890=_0xc058e0['jobId'],void this[_0x22e81e(0x2fc)](_0x58c890);this['openTrace'](_0x58c890),_0x43b7f8[_0x22e81e(0x29b)]({'jobType':_0x12c942[_0x22e81e(0x5d5)],'type':_0x476828[_0x22e81e(0x828)],'traceLevel':_0x60e1e8['Info'],'jobId':_0x58c890,'threadId':_0xc058e0['threadId'],'startTime':Date[_0x22e81e(0x498)](),'timestamp':Date['now'](),'status':_0x22e81e(0x2b5)});}[_0x3cd514(0x68a)](_0x45ced7,_0x2b317c){const _0xd9f0a6=_0x3cd514;if('rate'===_0x2b317c[_0xd9f0a6(0x3a7)])return _0x45ced7=_0x2b317c['jobId'],void this[_0xd9f0a6(0x5e9)](_0x45ced7);_0x43b7f8[_0xd9f0a6(0x29b)]({'jobType':_0x12c942[_0xd9f0a6(0x5d5)],'type':_0x476828['Completed'],'traceLevel':_0x60e1e8['Info'],'jobId':_0x45ced7,'threadId':_0x2b317c[_0xd9f0a6(0x77e)],'startTime':Date[_0xd9f0a6(0x498)](),'timestamp':Date[_0xd9f0a6(0x498)](),'status':_0xd9f0a6(0x2b5)}),this[_0xd9f0a6(0x5e9)](_0x45ced7);}async['waitForSyncComplete'](_0x4a4f93){return new Promise(_0xcd60bb=>{const _0x42c2ef=a0_0x2e46;_0x4a4f93[_0x42c2ef(0x5a5)](this[_0x42c2ef(0x788)],async _0x21eff4=>{const _0x504554=_0x42c2ef;_0x21eff4[_0x504554(0x261)]===_0x3cfea6[_0x504554(0x5b1)][_0x504554(0x214)]&&(_0x4a4f93[_0x504554(0x2cf)](this[_0x504554(0x788)]),_0xcd60bb(_0x21eff4[_0x504554(0x898)]['filesSynced']));});});}async[_0x3cd514(0x177)](_0x4de6ec){const _0x5384b4=_0x3cd514;if(!this[_0x5384b4(0x697)])throw new Error(_0x5384b4(0x6eb));const _0x79cb69=await this[_0x5384b4(0x697)][_0x5384b4(0x9c7)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x213bd1 of _0x79cb69)if(_0x213bd1['kind']===_0x3cfea6['ObjectKind'][_0x5384b4(0x4b1)]&&_0x213bd1['pathName']===_0x4de6ec)return _0x213bd1[_0x5384b4(0x601)]??_0x213bd1[_0x5384b4(0x6ef)];throw new Error(_0x5384b4(0x976)+_0x4de6ec);}async['loadLocalContent'](){const _0x1a8b4a=_0x3cd514;if(!this[_0x1a8b4a(0x155)])throw new Error(_0x1a8b4a(0x960));for(const _0x2d9639 of this['dataStores']['values']())try{const _0xebc229=this[_0x1a8b4a(0x155)]['blocks'][_0x1a8b4a(0x4d1)](_0x17d8d1=>(_0x17d8d1['type']===_0x1146c3[_0x1a8b4a(0x133)]||_0x17d8d1[_0x1a8b4a(0x3a7)]===_0x1146c3[_0x1a8b4a(0x8af)])&&_0x17d8d1[_0x1a8b4a(0x1d9)]?.['some'](_0x4c41a9=>_0x4c41a9['id']===_0x2d9639[_0x1a8b4a(0x24e)]()));for(let _0x148c69=_0xebc229['length']-0x1;_0x148c69>=0x0;_0x148c69--)for(const _0x205475 of _0xebc229[_0x148c69]['ingestBlocks']??[])_0x205475[_0x1a8b4a(0x3a7)]===_0x4aad44['VectorDatabase']&&this[_0x1a8b4a(0x1b6)][_0x1a8b4a(0x72b)](_0x205475['id'])[_0x1a8b4a(0xc4)]()&&_0xebc229['splice'](_0x148c69,0x1),_0x205475[_0x1a8b4a(0x3a7)]===_0x4aad44[_0x1a8b4a(0x374)]&&this[_0x1a8b4a(0x1b6)][_0x1a8b4a(0x5ad)](_0x205475['id'])[_0x1a8b4a(0xc4)]()&&_0xebc229[_0x1a8b4a(0x7b5)](_0x148c69,0x1);const _0xe552f4=new Map();let _0x16aa61=!0x1;for(const _0x41e146 of _0xebc229){let _0x5436eb=''+(_0x41e146[_0x1a8b4a(0x67f)]??0x1);for(const _0x3ef906 of _0x41e146[_0x1a8b4a(0x1d9)]??[])_0x3ef906[_0x1a8b4a(0x3a7)]===_0x4aad44[_0x1a8b4a(0x704)]&&(_0x5436eb=_0x5436eb+'-'+(_0x3ef906[_0x1a8b4a(0x67f)]??0x1));for(const _0x3daf26 of _0x41e146[_0x1a8b4a(0x1d9)]??[])_0x3daf26['type']===_0x4aad44[_0x1a8b4a(0x24d)]&&_0xe552f4[_0x1a8b4a(0x282)](_0x3daf26['id'],{'version':_0x5436eb,'getDatabase':this[_0x1a8b4a(0x1b6)][_0x1a8b4a(0x72b)][_0x1a8b4a(0x4d0)](this[_0x1a8b4a(0x1b6)]),'block':_0x3daf26}),_0x3daf26[_0x1a8b4a(0x3a7)]===_0x4aad44[_0x1a8b4a(0x374)]&&_0xe552f4[_0x1a8b4a(0x282)](_0x3daf26['id'],{'version':_0x5436eb,'getDatabase':this[_0x1a8b4a(0x1b6)][_0x1a8b4a(0x5ad)][_0x1a8b4a(0x4d0)](this[_0x1a8b4a(0x1b6)]),'block':_0x3daf26});}for(const {getDatabase:_0x180028,block:_0x365140,version:_0x36462e}of _0xe552f4[_0x1a8b4a(0x699)]())try{const _0x4622b2=_0x180028(_0x365140['id']);_0x4622b2[_0x1a8b4a(0x1c0)](_0x36462e),_0x4622b2[_0x1a8b4a(0x636)](!0x0),_0x16aa61=!0x0;}catch(_0x200c39){_0x16aa61=!0x1;break;}if(_0x61b339[_0x1a8b4a(0x888)]('Loaded\x20from\x20disk'),_0x16aa61)continue;_0x61b339[_0x1a8b4a(0x888)](_0x1a8b4a(0x16e));const _0x3ba4e4=await _0x2d9639['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x1a8b4a(0x96d)](_0x5ec24a[_0x1a8b4a(0x83b)],_0x2d9639['getName'](),_0x3ba4e4);for(const {getDatabase:_0x1d7ba9,block:_0x234b4f,version:_0x294ee3}of _0xe552f4[_0x1a8b4a(0x699)]()){const _0x5be9d6=_0x1d7ba9(_0x234b4f['id']);_0x5be9d6[_0x1a8b4a(0x2aa)](_0x294ee3),_0x5be9d6[_0x1a8b4a(0x636)](!0x0);}}catch(_0x17c472){_0x61b339[_0x1a8b4a(0x3db)](_0x1a8b4a(0x4c1),{'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0x1a8b4a(0x3a7)]});}}async['loadExternalContent'](){const _0x407982=_0x3cd514;for(const _0x1cdafc of this[_0x407982(0x14f)][_0x407982(0x699)]())try{const _0x980d16=await _0x1cdafc[_0x407982(0x9c7)]('/',{'recursive':!0x0});await this[_0x407982(0x96d)](_0x5ec24a[_0x407982(0x56b)],_0x1cdafc[_0x407982(0x97c)](),_0x980d16);}catch(_0x56a8c1){_0x61b339[_0x407982(0x3db)](_0x407982(0x591),{'nodeId':this['localNode'][_0x407982(0x47f)](),'nodeType':this['localNode'][_0x407982(0x3a7)]});}}async['syncFolder'](_0x5df121,_0x214a69,_0x53d3a2){const _0x591b5e=_0x3cd514;for(const _0x2d58c8 of _0x53d3a2){if(_0x2d58c8['kind']===_0x3cfea6[_0x591b5e(0x82d)][_0x591b5e(0x77b)]){if(!_0x2d58c8[_0x591b5e(0x559)]||0x0===_0x2d58c8[_0x591b5e(0x559)][_0x591b5e(0x4f4)])continue;await this[_0x591b5e(0x96d)](_0x5df121,_0x214a69,_0x2d58c8[_0x591b5e(0x559)]);}_0x2d58c8[_0x591b5e(0x7f4)]===_0x3cfea6[_0x591b5e(0x82d)][_0x591b5e(0x4b1)]&&await this['addContent'](_0x5df121,_0x214a69,_0x2d58c8['pathName']);}}[_0x3cd514(0x409)](){const _0x1a7cff=_0x3cd514;for(const _0x2192b4 of this[_0x1a7cff(0x957)][_0x1a7cff(0x699)]())_0x2192b4[_0x1a7cff(0x5a5)](this[_0x1a7cff(0x788)],async _0x5d6d02=>{const _0x1ffebc=_0x1a7cff;switch(_0x5d6d02[_0x1ffebc(0x261)]){case _0x3cfea6[_0x1ffebc(0x5b1)][_0x1ffebc(0x3bc)]:this['removeContent'](_0x5ec24a[_0x1ffebc(0x83b)],_0x2192b4[_0x1ffebc(0x97c)](),_0x5d6d02['payload']['file'][_0x1ffebc(0x6ef)]),await this['addContent'](_0x5ec24a[_0x1ffebc(0x83b)],_0x2192b4[_0x1ffebc(0x97c)](),_0x5d6d02[_0x1ffebc(0x898)][_0x1ffebc(0x625)][_0x1ffebc(0x6ef)]);break;case _0x3cfea6[_0x1ffebc(0x5b1)][_0x1ffebc(0x17e)]:this[_0x1ffebc(0x3b9)](_0x5ec24a[_0x1ffebc(0x83b)],_0x2192b4[_0x1ffebc(0x97c)](),_0x5d6d02[_0x1ffebc(0x898)][_0x1ffebc(0x6ef)]);}});}[_0x3cd514(0x55c)](){const _0x34dde6=_0x3cd514;for(const _0x5b1e47 of this[_0x34dde6(0x14f)][_0x34dde6(0x699)]())_0x5b1e47[_0x34dde6(0x5a5)](this[_0x34dde6(0x788)],async _0x531f2a=>{const _0x30a548=_0x34dde6;switch(_0x531f2a[_0x30a548(0x261)]){case _0x3cfea6[_0x30a548(0x5b1)]['FileWrite']:this['removeContent'](_0x5ec24a[_0x30a548(0x56b)],_0x5b1e47[_0x30a548(0x97c)](),_0x531f2a['payload'][_0x30a548(0x625)]['pathName']),await this[_0x30a548(0x365)](_0x5ec24a[_0x30a548(0x56b)],_0x5b1e47['getName'](),_0x531f2a['payload'][_0x30a548(0x625)][_0x30a548(0x6ef)]);break;case _0x3cfea6[_0x30a548(0x5b1)]['FileDelete']:this[_0x30a548(0x3b9)](_0x5ec24a[_0x30a548(0x56b)],_0x5b1e47[_0x30a548(0x97c)](),_0x531f2a[_0x30a548(0x898)][_0x30a548(0x6ef)]);}});}async[_0x3cd514(0x365)](_0x2de4c0,_0x3730cd,_0x3c30f8){const _0x625a13=_0x3cd514;if(_0x61b339[_0x625a13(0x888)](_0x625a13(0x365),_0x2de4c0,_0x3730cd,_0x3c30f8),!this[_0x625a13(0x155)])throw new Error(_0x625a13(0x960));let _0x5c43b2;switch(_0x2de4c0){case _0x5ec24a['ObjectStorage']:_0x5c43b2=_0x4aad44[_0x625a13(0x2fd)];break;case _0x5ec24a[_0x625a13(0x56b)]:_0x5c43b2=_0x4aad44[_0x625a13(0x763)];}if(!_0x5c43b2)return;const _0x4bd9a5=this[_0x625a13(0x155)][_0x625a13(0x785)]['filter'](_0x402ad6=>_0x402ad6['type']===_0x1146c3['Knowledge']||_0x402ad6['type']===_0x1146c3[_0x625a13(0x133)]),_0x2c3fc1=new Set(_0x4bd9a5['map'](_0x326e75=>_0x326e75['id'])),_0x2dab08=_0x4bd9a5[_0x625a13(0x4d1)](_0xab0ba7=>_0xab0ba7['ingestBlocks']?.[_0x625a13(0x8a1)](_0x4e670b=>_0x4e670b[_0x625a13(0x3a7)]===_0x5c43b2&&_0x4e670b['id']===_0x3730cd));for(const _0x33514b of _0x2dab08){if(!_0x2c3fc1[_0x625a13(0x31e)](_0x33514b['id']))continue;_0x2c3fc1['delete'](_0x33514b['id']);const _0x2a5bf1=_0x33514b['ingestBlocks']?.[_0x625a13(0x833)](_0x45f9fc=>_0x45f9fc[_0x625a13(0x3a7)]===_0x5c43b2&&_0x45f9fc['id']===_0x3730cd);if(!_0x2a5bf1)continue;const _0x5c31ba=(0x0,_0x6d7452['v4'])();_0x43b7f8[_0x625a13(0x2fc)](null,_0x5c31ba),await _0x52b25b(_0x5c31ba,_0x3c30f8,_0x2a5bf1,_0x33514b[_0x625a13(0x1d9)],{'documentParserConnector':this[_0x625a13(0x24a)],'nlpLibraryConnector':this[_0x625a13(0x675)],'generativeAIWorkerConnectors':this[_0x625a13(0x5ef)],'models':this[_0x625a13(0x155)][_0x625a13(0x6cc)],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x625a13(0x1d3)],'version':_0x33514b[_0x625a13(0x67f)]??0x1}),_0x43b7f8[_0x625a13(0x5e9)](_0x5c31ba);}this[_0x625a13(0x44e)]();}[_0x3cd514(0x3b9)](_0x5cfb1b,_0x2b654,_0x5ee21b){const _0x254f40=_0x3cd514;if(_0x61b339[_0x254f40(0x888)](_0x254f40(0x3b9),_0x5cfb1b,_0x2b654,_0x5ee21b),!this[_0x254f40(0x155)])throw new Error(_0x254f40(0x960));let _0x4c9e35;switch(_0x5cfb1b){case _0x5ec24a[_0x254f40(0x83b)]:_0x4c9e35=_0x4aad44['ObjectStorageUpload'];break;case _0x5ec24a['ExternalStorage']:_0x4c9e35=_0x4aad44[_0x254f40(0x763)];}if(!_0x4c9e35)return;const _0x52a643=this['workflow'][_0x254f40(0x785)][_0x254f40(0x4d1)](_0x4abde7=>_0x4abde7[_0x254f40(0x3a7)]===_0x1146c3['Knowledge']||_0x4abde7['type']===_0x1146c3[_0x254f40(0x133)]),_0x579f26=new Set(_0x52a643['map'](_0x56196a=>_0x56196a['id'])),_0x142dfb=_0x52a643['filter'](_0x4e2d31=>_0x4e2d31['ingestBlocks']?.[_0x254f40(0x8a1)](_0x584da3=>_0x584da3[_0x254f40(0x3a7)]===_0x4c9e35&&_0x584da3['id']===_0x2b654));for(const _0x1053ab of _0x142dfb){if(!_0x579f26['has'](_0x1053ab['id']))continue;_0x579f26['delete'](_0x1053ab['id']);let _0x51e3af=''+(_0x1053ab[_0x254f40(0x67f)]??0x1);for(const _0x3746b3 of _0x1053ab[_0x254f40(0x1d9)]??[])_0x3746b3[_0x254f40(0x3a7)]===_0x4aad44[_0x254f40(0x704)]&&(_0x51e3af=_0x51e3af+'-'+(_0x3746b3[_0x254f40(0x67f)]??0x1));for(const _0x3e3a2d of _0x1053ab[_0x254f40(0x1d9)]??[]){if(_0x3e3a2d[_0x254f40(0x3a7)]===_0x4aad44['VectorDatabase']){const _0xdf2192=this[_0x254f40(0x1b6)][_0x254f40(0x72b)](_0x3e3a2d['id']);_0xdf2192[_0x254f40(0x3b3)](_0x5ee21b),_0xdf2192['getIsLoaded']()&&_0xdf2192['saveToDisk'](_0x51e3af);}if(_0x3e3a2d[_0x254f40(0x3a7)]===_0x4aad44[_0x254f40(0x374)]){const _0x5a548e=this[_0x254f40(0x1b6)][_0x254f40(0x5ad)](_0x3e3a2d['id']);_0x5a548e['remove'](_0x5ee21b),_0x5a548e[_0x254f40(0xc4)]()&&_0x5a548e[_0x254f40(0x2aa)](_0x51e3af);}}}this[_0x254f40(0x44e)]();}[_0x3cd514(0x45c)](){const _0x24c5d3=_0x3cd514;try{return this[_0x24c5d3(0x4cc)][_0x24c5d3(0x6b9)]()['gpu']['cores']*(0x1-this[_0x24c5d3(0x4cc)][_0x24c5d3(0x6b9)]()[_0x24c5d3(0x51c)][_0x24c5d3(0x1ef)]);}catch(_0x4f83a3){return _0x61b339[_0x24c5d3(0x8b2)](_0x5ce311[_0x24c5d3(0x225)],_0x24c5d3(0x2a1),_0x4f83a3),0x0;}}[_0x3cd514(0x44e)](){const _0x437b6e=_0x3cd514;this['isOpened']&&(this['debounceStats']&&clearTimeout(this[_0x437b6e(0x5f4)]),this[_0x437b6e(0x5f4)]=setTimeout(async()=>{const _0x39aead=_0x437b6e;if(delete this['debounceStats'],!this[_0x39aead(0x697)])return;let _0x5c1adb=await this['modelStore'][_0x39aead(0x18c)]();for(const _0x255448 of this['dataStores'][_0x39aead(0x699)]())_0x5c1adb+=await _0x255448[_0x39aead(0x18c)]();this[_0x39aead(0x917)][_0x39aead(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x39aead(0x739)],'content':{'type':_0x32bee3[_0x39aead(0x993)],'label':this[_0x39aead(0x788)],'stats':{'timestamp':Date[_0x39aead(0x498)](),'storage':_0x5c1adb,'messagesSent':this[_0x39aead(0x46b)],'messagesReceived':this[_0x39aead(0x1a8)],'bytesSent':this[_0x39aead(0x6cd)],'bytesReceived':this[_0x39aead(0x728)],'writes':0x0,'reads':0x0,'prompts':this[_0x39aead(0x251)],'tokens':this[_0x39aead(0x84d)]}}});},_0x34d584));}[_0x3cd514(0x72f)](_0x347179,_0x3ecd7c){const _0x555b09=_0x3cd514,_0x1324e8=this[_0x555b09(0x788)],_0x472ed7=this[_0x555b09(0x781)]();_0x61b339[_0x555b09(0x72f)](_0x411645[_0x555b09(0x115)],{'topic':_0x1324e8,'type':'answer','nodeId':_0x472ed7,'tokenCount':_0x3ecd7c,'tokensPerSecond':_0x347179});}[_0x3cd514(0x2fc)](_0x13a922){const _0x2979c0=_0x3cd514;try{if(!this[_0x2979c0(0x155)])throw new Error(_0x2979c0(0x960));if(!this[_0x2979c0(0x148)])throw new Error('Logging\x20database\x20not\x20initialized');if(!_0x43b7f8['openTrace'](this['loggingDb'],_0x13a922))throw new Error(_0x2979c0(0x404));return _0x13a922;}catch(_0xb123e6){return console[_0x2979c0(0x3db)](_0x2979c0(0x404),_0xb123e6),_0x2979c0(0x843);}}[_0x3cd514(0x5e9)](_0x31b73d){const _0x50d779=_0x3cd514;try{_0x43b7f8[_0x50d779(0x5e9)](_0x31b73d);}catch(_0x575028){console[_0x50d779(0x3db)](_0x50d779(0x205),{'jobId':_0x31b73d,'error':_0x575028});}}async[_0x3cd514(0x916)](){return new Promise(_0x592e58=>{const _0x13e490=a0_0x2e46;try{const _0x299ee7=_0x4037c1(this[_0x13e490(0x1a3)],this[_0x13e490(0x788)]);this[_0x13e490(0x148)]=this[_0x13e490(0x1b6)][_0x13e490(0x5a2)](_0x299ee7),this[_0x13e490(0x148)][_0x13e490(0x5a5)](({event:_0x4dd3f1})=>{const _0x4f1a6e=_0x13e490;_0x4dd3f1===_0x3cfea6[_0x4f1a6e(0x29d)][_0x4f1a6e(0x214)]&&(this[_0x4f1a6e(0x148)]['unsubscribe'](),_0x592e58());});}catch(_0x54605a){console[_0x13e490(0x3db)](_0x13e490(0x650)+_0x4037c1(this[_0x13e490(0x1a3)],this[_0x13e490(0x788)])+'\x27\x20dabatase\x20id.',_0x54605a),_0x592e58();}});}}class _0x1218ea extends _0x38c6ff{[_0x3cd514(0x780)];[_0x3cd514(0x4cb)];[_0x3cd514(0x1a3)];['db'];['debounceStats'];['writes']=0x0;['reads']=0x0;[_0x3cd514(0x44a)]=!0x1;constructor(_0x2f1dbb,_0x11e900,_0x4502c5,_0x2b90bf,_0x488670){const _0x3e7a4f=_0x3cd514;if(_0x3e7a4f(0x1f2)!=typeof _0x11e900)throw new _0x1e3976(_0x2089de['GraphDatabaseNameNotString'],_0x3e7a4f(0x8d4));super(_0x2f1dbb,_0x11e900),this['localNode']=_0x2f1dbb,this['clusterId']=_0x4502c5,this[_0x3e7a4f(0x1a3)]=_0x2b90bf;const _0x13b392=_0x3e7a4f(0x3d7)+this[_0x3e7a4f(0x1a3)]+_0x3e7a4f(0x3d7)+this[_0x3e7a4f(0x4cb)]+_0x3e7a4f(0x3d7)+this['label'];this['db']=new _0x488670(_0x13b392),this[_0x3e7a4f(0x44e)]();}[_0x3cd514(0xc4)](){const _0x1a8e11=_0x3cd514;return this[_0x1a8e11(0x44a)];}[_0x3cd514(0x636)](_0x3d9697){const _0x2bcb8b=_0x3cd514;this[_0x2bcb8b(0x44a)]=_0x3d9697;}[_0x3cd514(0x616)](){clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}[_0x3cd514(0x8aa)](){const _0x920040=_0x3cd514;this[_0x920040(0x917)]['publish']({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x920040(0x739)],'content':{'type':_0x32bee3['CloseGraphDatabase'],'label':this[_0x920040(0x788)]}});}[_0x3cd514(0x321)](){const _0x1ce042=_0x3cd514;return _0x3cfea6[_0x1ce042(0x9b0)][_0x1ce042(0x374)];}[_0x3cd514(0x32f)](){const _0x3ee5d3=_0x3cd514;this[_0x3ee5d3(0x44e)]();}[_0x3cd514(0x5c3)](_0x479be8,_0x3543a5,_0x285aba,_0x24d47e){const _0xb17b04=_0x3cd514;this['db'][_0xb17b04(0x5c3)](_0x479be8,_0x3543a5,_0x285aba,_0x24d47e),this[_0xb17b04(0xe0)]+=0x1,this['sendStats']();}['addEdge'](_0x47de1,_0x2cca9a){const _0xc4fb2b=_0x3cd514;this['db'][_0xc4fb2b(0x80c)](_0x47de1,_0x2cca9a),this[_0xc4fb2b(0xe0)]+=0x1,this[_0xc4fb2b(0x44e)]();}[_0x3cd514(0x87a)](_0x2e8df5,_0x4cf256,_0x2edfe2){const _0x13f393=_0x3cd514,_0x59aa33=this['db'][_0x13f393(0x87a)](_0x2e8df5,_0x4cf256,_0x2edfe2);return this['reads']+=0x1,_0x61b339['logServiceEvent'](_0x411645[_0x13f393(0x374)],{'type':_0x13f393(0x1d7),'label':this['label'],'nodeId':this[_0x13f393(0x780)][_0x13f393(0x47f)](),'nodeType':this['localNode'][_0x13f393(0x3a7)],'clusterId':this[_0x13f393(0x4cb)],'size':0x0}),this['sendStats'](),_0x59aa33;}[_0x3cd514(0x3b3)](_0x416b10){const _0x5b36c4=_0x3cd514;this['db'][_0x5b36c4(0x3b3)](_0x416b10),this[_0x5b36c4(0xe0)]+=0x1,this[_0x5b36c4(0x44e)]();}[_0x3cd514(0x2aa)](_0x452413){const _0x304aa2=_0x3cd514;this['db'][_0x304aa2(0x2aa)](_0x452413);}[_0x3cd514(0x1c0)](_0xc3f330){const _0xae5f7f=_0x3cd514;this['db'][_0xae5f7f(0x1c0)](_0xc3f330);}[_0x3cd514(0x44e)](){const _0x356fec=_0x3cd514;this[_0x356fec(0x5f4)]&&clearTimeout(this[_0x356fec(0x5f4)]),this[_0x356fec(0x5f4)]=setTimeout(async()=>{const _0x5f21a5=_0x356fec;delete this['debounceStats'];const _0x438109=this['db'][_0x5f21a5(0x18c)]();this['systemTopic']['publish']({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x5f21a5(0x739)],'content':{'type':_0x32bee3['GraphDatabaseStats'],'label':this[_0x5f21a5(0x788)],'stats':{'timestamp':Date[_0x5f21a5(0x498)](),'storage':_0x438109,'messagesSent':this[_0x5f21a5(0x46b)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x5f21a5(0x728)],'writes':this[_0x5f21a5(0xe0)],'reads':this[_0x5f21a5(0x5fd)],'prompts':0x0,'tokens':0x0}}}),_0x61b339[_0x5f21a5(0x40b)](_0x411645[_0x5f21a5(0x374)],_0x5f21a5(0x3d7)+this[_0x5f21a5(0x4cb)]+_0x5f21a5(0x3d7)+this[_0x5f21a5(0x788)],_0x438109);},_0x34d584);}}class _0x1b8424 extends _0x53880d{[_0x3cd514(0x5f3)];constructor(_0x5ed005,_0x3af931,_0x1b4dc5){const _0x23c559=_0x3cd514;super(_0x5ed005,_0x3af931),this[_0x23c559(0x5f3)]=_0x1b4dc5;}['getContentType'](){const _0xda2d56=_0x3cd514;return _0x3cfea6[_0xda2d56(0x9b0)][_0xda2d56(0x562)];}[_0x3cd514(0x840)](){return this['mediaStream'];}[_0x3cd514(0x711)](){return this['mediaStream']['id'];}}class _0x50aec0 extends _0x1b8424{[_0x3cd514(0x8e6)];[_0x3cd514(0x317)];[_0x3cd514(0x621)];[_0x3cd514(0x7c3)]=_0x189a7c();constructor(_0x148ce0,_0x542bee,_0x670beb,_0x36a59e,_0x4603ea){const _0x449da4=_0x3cd514;super(_0x148ce0,_0x542bee,_0x670beb),this[_0x449da4(0x8e6)]=_0x36a59e,this['params']=_0x4603ea;}['destroy'](){const _0x323239=_0x3cd514;this[_0x323239(0x6a4)]('audio'),this[_0x323239(0x6a4)](_0x323239(0x41e)),super['destroy']();}[_0x3cd514(0x547)](_0x13615b){const _0x182a8c=_0x3cd514;if(!this[_0x182a8c(0x621)])throw new _0xa369e8(_0xa369e8[_0x182a8c(0x98c)][_0x182a8c(0x217)],{'label':this[_0x182a8c(0x788)],'ownerId':this['owner'][_0x182a8c(0x47f)](),'remoteId':this[_0x182a8c(0x8e6)]});this[_0x182a8c(0x621)][_0x182a8c(0x19e)]({'sourceId':this[_0x182a8c(0x189)][_0x182a8c(0x47f)](),'content':{'action':_0x5e6dd6[_0x182a8c(0x742)],'track':_0x13615b,'stream':this['mediaStream'],'priority':_0x3cfea6[_0x182a8c(0x861)][_0x182a8c(0x99c)],'params':this[_0x182a8c(0x597)](_0x13615b[_0x182a8c(0x7f4)],this[_0x182a8c(0x317)])}});}[_0x3cd514(0x6a4)](_0x195aa2){const _0x4475bb=_0x3cd514,_0x3f99ef=this[_0x4475bb(0x237)](_0x195aa2);if(_0x3f99ef){if(!this[_0x4475bb(0x621)])return null;this[_0x4475bb(0x621)][_0x4475bb(0x19e)]({'sourceId':this[_0x4475bb(0x189)][_0x4475bb(0x47f)](),'content':{'action':_0x5e6dd6['Remove'],'track':_0x3f99ef,'stream':this[_0x4475bb(0x5f3)]}});}return _0x3f99ef;}[_0x3cd514(0x821)](_0x441fe6){const _0x37cb4f=_0x3cd514;if(!this[_0x37cb4f(0x621)])throw new _0xa369e8(_0xa369e8[_0x37cb4f(0x98c)][_0x37cb4f(0x217)],{'label':this[_0x37cb4f(0x788)],'ownerId':this[_0x37cb4f(0x189)][_0x37cb4f(0x47f)](),'remoteId':this['remoteId']});this[_0x37cb4f(0x621)][_0x37cb4f(0x19e)]({'sourceId':this[_0x37cb4f(0x189)][_0x37cb4f(0x47f)](),'content':{'action':_0x5e6dd6[_0x37cb4f(0x383)],'priority':_0x441fe6,'stream':this[_0x37cb4f(0x5f3)]}});}[_0x3cd514(0x5a5)]({trackKinds:_0x412573,params:_0x8e6871},_0x56680b){const _0x2ece30=_0x3cd514;if(!this['topic'])throw new _0xa369e8(_0xa369e8['codes'][_0x2ece30(0x217)],{'label':this['label'],'ownerId':this[_0x2ece30(0x189)]['getId'](),'remoteId':this[_0x2ece30(0x8e6)]});for(const _0x361736 of this[_0x2ece30(0x5f3)][_0x2ece30(0x3fe)]())_0x412573[_0x2ece30(0x135)](_0x361736[_0x2ece30(0x7f4)])&&this[_0x2ece30(0x621)]['publish']({'sourceId':this['owner']['getId'](),'content':{'action':_0x5e6dd6[_0x2ece30(0x742)],'track':_0x361736,'stream':this[_0x2ece30(0x5f3)],'priority':_0x56680b,'params':this[_0x2ece30(0x597)](_0x361736[_0x2ece30(0x7f4)],_0x8e6871)}});}[_0x3cd514(0x23a)]({params:_0x5187ab}){const _0x3c41e2=_0x3cd514;if(!this[_0x3c41e2(0x621)])throw new _0xa369e8(_0xa369e8[_0x3c41e2(0x98c)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x3c41e2(0x788)],'ownerId':this[_0x3c41e2(0x189)][_0x3c41e2(0x47f)](),'remoteId':this['remoteId']});for(const _0xafa1d1 of this['mediaStream'][_0x3c41e2(0x3fe)]())this[_0x3c41e2(0x621)][_0x3c41e2(0x19e)]({'sourceId':this['owner'][_0x3c41e2(0x47f)](),'content':{'action':_0x5e6dd6[_0x3c41e2(0x383)],'stream':this['mediaStream'],'params':this[_0x3c41e2(0x597)](_0xafa1d1[_0x3c41e2(0x7f4)],_0x5187ab)}});}[_0x3cd514(0x2cf)]({trackKinds:_0x35d2e0}){const _0x41fb08=_0x3cd514;if(this[_0x41fb08(0x621)]){for(const _0x8e6295 of this[_0x41fb08(0x5f3)][_0x41fb08(0x3fe)]())_0x35d2e0[_0x41fb08(0x135)](_0x8e6295[_0x41fb08(0x7f4)])&&this[_0x41fb08(0x621)][_0x41fb08(0x19e)]({'sourceId':this[_0x41fb08(0x189)]['getId'](),'content':{'action':_0x5e6dd6[_0x41fb08(0x54d)],'stream':this[_0x41fb08(0x5f3)],'track':_0x8e6295}});}}[_0x3cd514(0x78a)](_0x28b081){const _0x5c848e=_0x3cd514;this[_0x5c848e(0x621)]=_0x28b081;}[_0x3cd514(0x4b3)](_0x5cd569){const _0x584a34=_0x3cd514;_0x5cd569===this[_0x584a34(0x621)]&&(delete this['topic'],this[_0x584a34(0x7c3)][_0x584a34(0x19e)]());}[_0x3cd514(0x1de)](_0x4d5eec){const _0x5b4500=_0x3cd514;return this['unregisterPublisherListener'][_0x5b4500(0x5a5)](_0x4d5eec);}[_0x3cd514(0x237)](_0x3ca365){const _0x372abc=_0x3cd514;return this['mediaStream'][_0x372abc(0x3fe)]()[_0x372abc(0x833)](_0x3c8e80=>_0x3c8e80['kind']===_0x3ca365)||null;}[_0x3cd514(0x597)](_0x3f08ac,_0x539a3b){const _0x2783d0=_0x3cd514;let _0x15bb2e;return _0x2783d0(0x41e)===_0x3f08ac&&_0x539a3b?.['video']&&_0x2783d0(0x38c)!=typeof _0x539a3b[_0x2783d0(0x41e)]&&(_0x15bb2e={'kind':_0x2783d0(0x41e),..._0x539a3b[_0x2783d0(0x41e)]},_0x15bb2e[_0x2783d0(0x21a)]=this[_0x2783d0(0x884)]()),_0x2783d0(0x6a7)===_0x3f08ac&&_0x539a3b?.[_0x2783d0(0x6a7)]&&_0x2783d0(0x38c)!=typeof _0x539a3b['audio']&&(_0x15bb2e={'kind':'audio',..._0x539a3b[_0x2783d0(0x6a7)]}),_0x15bb2e;}['getResolution'](){const _0x5976a2=_0x3cd514;let _0x2b8627={'width':0x0,'height':0x0};const _0x53e26c=this[_0x5976a2(0x5f3)][_0x5976a2(0x600)]();if(_0x53e26c[_0x5976a2(0x4f4)]>0x0){const _0x2ec530=_0x53e26c[0x0][_0x5976a2(0x196)]();_0x2ec530[_0x5976a2(0x7e5)]&&_0x2ec530[_0x5976a2(0x4f6)]&&(_0x2b8627={'width':_0x2ec530[_0x5976a2(0x7e5)],'height':_0x2ec530[_0x5976a2(0x4f6)]});}return _0x2b8627;}}class _0xb8f919 extends _0x1b8424{[_0x3cd514(0x4cb)];['priority']=_0x3cfea6[_0x3cd514(0x861)]['Default'];[_0x3cd514(0x2f8)]=new Map();[_0x3cd514(0x2ae)]=new Map();constructor(_0xab7ee1,_0x55bb99,_0x5ea2de,_0xa9187b){const _0x56c5e4=_0x3cd514;super(_0xab7ee1,_0x55bb99,_0x5ea2de instanceof MediaStream?_0x5ea2de:_0x5ea2de[_0x56c5e4(0x34e)]?_0x5ea2de[_0x56c5e4(0x34e)]:_0x5ea2de[_0x56c5e4(0x7fc)]()),this[_0x56c5e4(0x4cb)]=_0xa9187b,this[_0x56c5e4(0x5f3)][_0x56c5e4(0x3fe)]()[_0x56c5e4(0x753)](_0x578763=>this[_0x56c5e4(0x29e)](_0x578763)),_0x61b339[_0x56c5e4(0x72f)](_0x411645[_0x56c5e4(0x13c)],{'type':_0x56c5e4(0x19e),'label':this[_0x56c5e4(0x788)],'nodeId':this['owner']['getId'](),'nodeType':this[_0x56c5e4(0x189)]['type'],'clusterId':this['clusterId'],'streamId':this[_0x56c5e4(0x711)](),'trackKinds':this['mediaStream'][_0x56c5e4(0x3fe)]()[_0x56c5e4(0x730)](_0x44ceaf=>_0x44ceaf['kind'])});}['destroy'](){const _0x5936db=_0x3cd514;this['outgoingStreams'][_0x5936db(0x3cb)]>0x0&&(this[_0x5936db(0x2ae)][_0x5936db(0x753)](_0x23fb43=>{const _0x58601c=_0x5936db;_0x23fb43[_0x58601c(0x7b7)](),_0x23fb43[_0x58601c(0x616)]();}),this[_0x5936db(0x2ae)][_0x5936db(0x921)]()),this[_0x5936db(0x2f8)]['forEach'](_0xc454b0=>_0xc454b0()),super[_0x5936db(0x616)]();}[_0x3cd514(0x19e)](_0x18c8ed){const _0x244bd4=_0x3cd514;this[_0x244bd4(0x917)][_0x244bd4(0x19e)]({'sourceId':this[_0x244bd4(0x189)][_0x244bd4(0x47f)](),'destinationIds':_0x18c8ed?[_0x18c8ed]:void 0x0,'propagate':!0x0,'messageType':_0xca4838[_0x244bd4(0x739)],'content':{'type':_0x32bee3[_0x244bd4(0x88d)],'ownerId':this[_0x244bd4(0x189)][_0x244bd4(0x47f)](),'label':this[_0x244bd4(0x788)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this['mediaStream']['getTracks']()['map'](_0x8434bf=>_0x8434bf[_0x244bd4(0x7f4)])}}});}[_0x3cd514(0x3bf)](){const _0x46180d=_0x3cd514;this['systemTopic'][_0x46180d(0x19e)]({'sourceId':this[_0x46180d(0x189)][_0x46180d(0x47f)](),'propagate':!0x0,'messageType':_0xca4838[_0x46180d(0x739)],'content':{'type':_0x32bee3[_0x46180d(0x4dc)],'ownerId':this[_0x46180d(0x189)]['getId'](),'label':this[_0x46180d(0x788)]}}),this[_0x46180d(0x917)][_0x46180d(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x46180d(0x739)],'content':{'type':_0x32bee3['CloseMediaStream'],'label':this[_0x46180d(0x788)]}}),_0x61b339[_0x46180d(0x72f)](_0x411645[_0x46180d(0x13c)],{'type':_0x46180d(0x3bf),'label':this['label'],'nodeId':this[_0x46180d(0x189)][_0x46180d(0x47f)](),'nodeType':this[_0x46180d(0x189)][_0x46180d(0x3a7)],'clusterId':this[_0x46180d(0x4cb)],'streamId':this[_0x46180d(0x711)]()});}[_0x3cd514(0x1eb)](){const _0x26ed51=_0x3cd514;return this[_0x26ed51(0x108)];}['setPriority'](_0x2ebaa3){const _0x3f42cb=_0x3cd514;this[_0x3f42cb(0x108)]=_0x2ebaa3,this[_0x3f42cb(0x2ae)][_0x3f42cb(0x753)](_0x4b28b2=>_0x4b28b2['setPriority'](_0x2ebaa3));}[_0x3cd514(0x9c0)](_0x1ea34f,_0x3f976b){const _0x37df7a=_0x3cd514;if(!this[_0x37df7a(0x2ae)][_0x37df7a(0x31e)](_0x1ea34f)){const _0x2ff49a=new _0x50aec0(this[_0x37df7a(0x189)],this[_0x37df7a(0x788)],this['mediaStream'],_0x1ea34f,_0x3f976b),_0x470ac1=_0x2ff49a['onUnregisterPublisher'](()=>{const _0x23c097=_0x37df7a;_0x470ac1(),this['outgoingStreams'][_0x23c097(0x31f)](_0x1ea34f)?.[_0x23c097(0x616)](),this['outgoingStreams'][_0x23c097(0x6f9)](_0x1ea34f);});this[_0x37df7a(0x2ae)][_0x37df7a(0x282)](_0x1ea34f,_0x2ff49a),_0x2ff49a['registerSystemPublisher'](this[_0x37df7a(0x917)]);}return this['outgoingStreams'][_0x37df7a(0x31f)](_0x1ea34f);}[_0x3cd514(0x4e4)](){const _0x436670=_0x3cd514;return this[_0x436670(0x5f3)]['id'];}[_0x3cd514(0x799)](_0x38d54b){const _0x54ccac=_0x3cd514;this[_0x54ccac(0x917)][_0x54ccac(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838['Content'],'content':{'type':_0x32bee3[_0x54ccac(0x804)],'label':this[_0x54ccac(0x788)],'trackKinds':[_0x38d54b[_0x54ccac(0x7f4)]]}});}[_0x3cd514(0x29e)](_0x52fec5){const _0x374f32=_0x3cd514,_0xe1091e=()=>this[_0x374f32(0x799)](_0x52fec5);_0x52fec5['addEventListener']('ended',_0xe1091e),_0x52fec5[_0x374f32(0x4c0)](_0x374f32(0x7e3),_0xe1091e),this['trackEndedListeners'][_0x374f32(0x282)](_0x52fec5[_0x374f32(0x7f4)],()=>{const _0x408adf=_0x374f32;_0x52fec5[_0x408adf(0x538)](_0x408adf(0x797),_0xe1091e),_0x52fec5['removeEventListener']('mute',_0xe1091e),this[_0x408adf(0x2f8)][_0x408adf(0x6f9)](_0x52fec5[_0x408adf(0x7f4)]);});}}class _0x53aec3 extends _0xb8f919{[_0x3cd514(0x1ed)];[_0x3cd514(0x980)]=[];[_0x3cd514(0x8c2)];[_0x3cd514(0x9b4)];['audioDestination'];[_0x3cd514(0x42e)];[_0x3cd514(0x656)];['context'];[_0x3cd514(0x275)];constructor(_0x163b57,_0x5b33b4,_0x4b4c5d,_0x1f425b,_0x2b93a1,_0x9fd8c8){const _0x54711d=_0x3cd514;if(super(_0x163b57,_0x5b33b4,_0x4b4c5d,_0x9fd8c8),this[_0x54711d(0x1ed)]=_0x2b93a1,this[_0x54711d(0x8c2)]=this[_0x54711d(0x5f3)],this[_0x54711d(0x42e)]=document['createElement'](_0x54711d(0x41e)),this['sourceVideo'][_0x54711d(0x56a)]=!0x0,this['sourceVideo'][_0x54711d(0xe9)]=!0x0,this[_0x54711d(0x42e)]['srcObject']=this[_0x54711d(0x8c2)],this[_0x54711d(0x42e)][_0x54711d(0x1ef)](),this[_0x54711d(0x42e)][_0x54711d(0x983)]=()=>{const _0x41f926=_0x54711d;this[_0x41f926(0x42e)]['play']();},this[_0x54711d(0x656)]=document[_0x54711d(0x928)]('canvas'),this[_0x54711d(0x337)]=this[_0x54711d(0x656)]['getContext']('2d'),this[_0x54711d(0x5f3)]=this[_0x54711d(0x656)][_0x54711d(0x7fc)](_0x1f425b),this[_0x54711d(0x58d)]=this[_0x54711d(0x1ed)]['createMediaStreamDestination'](),this[_0x54711d(0x8c2)][_0x54711d(0x8f7)]()[_0x54711d(0x4f4)]>0x0){const _0x5a9429=this[_0x54711d(0x8c2)][_0x54711d(0x8f7)]()[0x0];this[_0x54711d(0x9b4)]=this[_0x54711d(0x1ed)][_0x54711d(0x722)](new MediaStream([_0x5a9429])),this['audioSource'][_0x54711d(0x61d)](this['audioDestination']);}const _0x98d1a5=this[_0x54711d(0x58d)]['stream'][_0x54711d(0x3fe)]()[0x0];this[_0x54711d(0x5f3)]['addTrack'](_0x98d1a5),this[_0x54711d(0x275)]=setInterval(()=>{const _0x241710=_0x54711d;this[_0x241710(0x656)][_0x241710(0x7e5)]=this[_0x241710(0x42e)]['videoWidth'],this[_0x241710(0x656)][_0x241710(0x4f6)]=this['sourceVideo'][_0x241710(0x794)],this[_0x241710(0x42e)][_0x241710(0x4ff)]?(0x0!==this[_0x241710(0x8c2)][_0x241710(0x600)]()[_0x241710(0x4f4)]&&this[_0x241710(0x8c2)][_0x241710(0x600)]()[0x0][_0x241710(0x4e3)]?this[_0x241710(0x5f3)][_0x241710(0x600)]()[0x0]['enabled']=!0x0:this[_0x241710(0x5f3)]['getVideoTracks']()[0x0]['enabled']=!0x1,0x0!==this[_0x241710(0x8c2)][_0x241710(0x8f7)]()['length']&&this[_0x241710(0x8c2)][_0x241710(0x8f7)]()[0x0][_0x241710(0x4e3)]?this[_0x241710(0x5f3)][_0x241710(0x8f7)]()[0x0][_0x241710(0x4e3)]=!0x0:this[_0x241710(0x5f3)][_0x241710(0x8f7)]()[0x0][_0x241710(0x4e3)]=!0x1,this[_0x241710(0x337)]['drawImage'](this[_0x241710(0x42e)],0x0,0x0)):this[_0x241710(0x337)]['clearRect'](0x0,0x0,this[_0x241710(0x656)]['width'],this['canvas'][_0x241710(0x4f6)]);},0x3e8/_0x1f425b);}[_0x3cd514(0x616)](){const _0x33f7a9=_0x3cd514;clearInterval(this['interval']),this['sourceVideo']['remove'](),this[_0x33f7a9(0x656)][_0x33f7a9(0x3b3)](),this[_0x33f7a9(0x9b4)]?.[_0x33f7a9(0x879)](),this['audioDestination'][_0x33f7a9(0x879)](),this['mediaStream'][_0x33f7a9(0x3fe)]()[_0x33f7a9(0x753)](_0x38a848=>{const _0x17d879=_0x33f7a9;_0x38a848[_0x17d879(0x766)](),this[_0x17d879(0x5f3)]['removeTrack'](_0x38a848);}),super[_0x33f7a9(0x616)]();}[_0x3cd514(0x547)](_0x1f83f7){const _0x14e4f3=_0x3cd514,_0x1d1dab=this[_0x14e4f3(0x237)](_0x1f83f7[_0x14e4f3(0x7f4)]);_0x1d1dab&&this['removeTrack'](_0x1d1dab),'audio'!==_0x1f83f7['kind']?(_0x14e4f3(0x41e)===_0x1f83f7['kind']&&this['addVideoTrack'](_0x1f83f7),this[_0x14e4f3(0x29e)](_0x1f83f7)):this[_0x14e4f3(0x477)](_0x1f83f7);}[_0x3cd514(0x6a4)](_0x2f8925){const _0xbe7e76=_0x3cd514,_0x469679=this['getTrackFromParam'](_0x2f8925);return _0x469679&&('audio'===_0x469679['kind']&&(this[_0xbe7e76(0x9b4)]?.[_0xbe7e76(0x879)](),this[_0xbe7e76(0x9b4)]=void 0x0),this[_0xbe7e76(0x2f8)][_0xbe7e76(0x31f)](_0x469679['kind'])?.(),this[_0xbe7e76(0x8c2)][_0xbe7e76(0x6a4)](_0x469679)),_0x469679;}[_0x3cd514(0x15a)](_0x5bc9e2){const _0x516c0f=_0x3cd514;this[_0x516c0f(0x6a4)](_0x5bc9e2['kind']),this['addTrack'](_0x5bc9e2);}[_0x3cd514(0x889)](_0x225bd6){this['transformations']=_0x225bd6;}[_0x3cd514(0x237)](_0x3318b4){const _0x2e56f5=_0x3cd514;return this[_0x2e56f5(0x8c2)][_0x2e56f5(0x3fe)]()[_0x2e56f5(0x833)](_0x5b84bd=>_0x5b84bd['kind']===_0x3318b4)||null;}[_0x3cd514(0x520)](_0x34e805){const _0x57d915=_0x3cd514;return _0x57d915(0x1f2)==typeof _0x34e805?this[_0x57d915(0x237)](_0x34e805):_0x34e805;}[_0x3cd514(0x477)](_0x555b82){const _0x3adcb8=_0x3cd514;_0x3adcb8(0x388)===this['audioContext'][_0x3adcb8(0xfb)]&&this['audioContext'][_0x3adcb8(0x4d7)](),this[_0x3adcb8(0x8c2)][_0x3adcb8(0x547)](_0x555b82),this[_0x3adcb8(0x9b4)]=this[_0x3adcb8(0x1ed)][_0x3adcb8(0x722)](this[_0x3adcb8(0x8c2)]),this[_0x3adcb8(0x9b4)][_0x3adcb8(0x61d)](this[_0x3adcb8(0x58d)]);}[_0x3cd514(0x665)](_0x2a7c07){const _0x2a7b5e=_0x3cd514;this[_0x2a7b5e(0x8c2)][_0x2a7b5e(0x547)](_0x2a7c07),this['sourceVideo'][_0x2a7b5e(0x1ef)]();}}class _0x3081b7 extends _0xb8f919{}class _0x37107b extends _0x38c6ff{['localNode'];[_0x3cd514(0x4cb)];['vendorId'];[_0x3cd514(0x6a3)];[_0x3cd514(0x483)];[_0x3cd514(0x4a6)];[_0x3cd514(0x826)];['pendingSyncTransactions']=new Map();[_0x3cd514(0x3a2)]=new Map();[_0x3cd514(0x8fb)]=new Map();['pendingFilesTransactions']=new Map();['pendingFilesRename']=new Map();[_0x3cd514(0x24c)]=new Map();[_0x3cd514(0x8d6)];[_0x3cd514(0x5c9)]=_0x214ef4();[_0x3cd514(0x887)]=new Map();[_0x3cd514(0x5f4)];['writes']=0x0;[_0x3cd514(0x5fd)]=0x0;[_0x3cd514(0x3e6)]=!0x0;[_0x3cd514(0x4f7)]=!0x0;[_0x3cd514(0x3f0)]=0x0;['nodesConnected']=0x0;constructor(_0x5e10e,_0x21f867,_0x1e47cf,_0x303d15,_0x51f203,_0x523389,_0x5e5928){const _0x563667=_0x3cd514;if(_0x563667(0x1f2)!=typeof _0x21f867)throw new _0x1e3976(_0x2089de[_0x563667(0xe7)],_0x563667(0x159));super(_0x5e10e,_0x21f867),this[_0x563667(0x780)]=_0x5e10e,this[_0x563667(0x4cb)]=_0x1e47cf,this[_0x563667(0x1a3)]=_0x303d15,this['transactionService']=_0x51f203,this['waitForArrayBufferSize']=_0x5e5928;const _0x8ed31d='ccc'+this[_0x563667(0x1a3)]+'ccc'+this[_0x563667(0x4cb)]+_0x563667(0x3d7)+_0x21f867;this[_0x563667(0x8d6)]=new _0x523389(_0x8ed31d),this[_0x563667(0x44e)]();}['reset'](){const _0x1a4d4f=_0x3cd514;this[_0x1a4d4f(0x44e)]();}[_0x3cd514(0x321)](){const _0x1d584f=_0x3cd514;return _0x3cfea6[_0x1d584f(0x9b0)]['ObjectStore'];}async['sync'](_0x3b2c4e){const _0x41c436=_0x3cd514;void 0x0!==_0x3b2c4e&&(this[_0x41c436(0x3e6)]=_0x3b2c4e),this[_0x41c436(0x4f7)]=!0x0;try{const _0x125b8e=await this[_0x41c436(0x8d6)][_0x41c436(0x31f)](_0x3a409d),_0x12a718=await _0x125b8e[_0x41c436(0x481)]();this['lastTransactionId']=_0x12a718;}catch(_0x36ff66){}this[_0x41c436(0x4a6)]=this[_0x41c436(0x6f1)](async(_0x31eeb9,_0x2fc619)=>{const _0x16ebec=_0x41c436;if(!(_0x2fc619 instanceof File))try{if(_0x2fc619[_0x16ebec(0x791)]===_0x44651d[_0x16ebec(0x199)])return void this[_0x16ebec(0x8e8)](_0x2fc619);this[_0x16ebec(0x808)](_0x2fc619);}catch(_0x273830){if(_0x273830 instanceof _0xa369e8)throw _0x273830;throw new _0xa369e8(_0xa369e8[_0x16ebec(0x98c)][_0x16ebec(0x2c6)],{'payload':_0x2fc619});}}),await this[_0x41c436(0x49e)](),this[_0x41c436(0x3e6)]?await this[_0x41c436(0x5f2)]():this[_0x41c436(0x89d)](),this[_0x41c436(0x44e)]();}[_0x3cd514(0x616)](){const _0x14268d=_0x3cd514;this[_0x14268d(0x4a6)]?.(),this['listenerUnsubscribers'][_0x14268d(0x753)](_0x2b8b0f=>_0x2b8b0f()),this[_0x14268d(0x887)][_0x14268d(0x921)](),clearTimeout(this[_0x14268d(0x5f4)]),delete this['debounceStats'],super[_0x14268d(0x616)]();}[_0x3cd514(0x8aa)](){const _0x57a734=_0x3cd514;this[_0x57a734(0x917)]?.[_0x57a734(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x57a734(0x739)],'content':{'type':_0x32bee3[_0x57a734(0x3ef)],'label':this[_0x57a734(0x788)]}});}[_0x3cd514(0x5a5)](_0x42c9fe,_0x29a274){const _0x29a244=_0x3cd514;if(this[_0x29a244(0x887)][_0x29a244(0x31e)](_0x42c9fe))throw new _0x1e3976(_0x2089de[_0x29a244(0x7b0)],_0x29a244(0x9a0));this[_0x29a244(0x887)]['set'](_0x42c9fe,this[_0x29a244(0x5c9)][_0x29a244(0x5a5)](_0x29a274)),this[_0x29a244(0x4f7)]||this['eventListener'][_0x29a244(0x19e)]({'event':_0x3cfea6[_0x29a244(0x5b1)][_0x29a244(0x214)],'payload':{'filesSynced':this['filesSynced']}});}['unsubscribe'](_0x31f763){const _0x94546b=_0x3cd514;this[_0x94546b(0x887)]['get'](_0x31f763)?.(),this[_0x94546b(0x887)]['delete'](_0x31f763);}[_0x3cd514(0x19e)](_0x1aba11){const _0x19aa21=_0x3cd514;switch(_0x1aba11[_0x19aa21(0x421)]){case _0x3cfea6[_0x19aa21(0x959)][_0x19aa21(0x4b1)]:return this[_0x19aa21(0x710)](_0x1aba11[_0x19aa21(0x625)],_0x1aba11[_0x19aa21(0x352)],_0x1aba11['options']);case _0x3cfea6[_0x19aa21(0x959)][_0x19aa21(0x77b)]:return this[_0x19aa21(0x623)](_0x1aba11['path']);case _0x3cfea6[_0x19aa21(0x959)][_0x19aa21(0x257)]:return this[_0x19aa21(0x7e1)](_0x1aba11['path'],_0x1aba11[_0x19aa21(0x844)]);default:throw new _0x1e3976(_0x2089de[_0x19aa21(0x47e)],'Cannot\x20publish\x20payload:\x20'+_0x1aba11);}}async[_0x3cd514(0x3bf)](_0x116b04){const _0x469e99=_0x3cd514;try{const _0x223c65=(0x0,_0x6d7452['v4'])(),_0x26302f=this[_0x469e99(0x826)],_0x8c4a5e={'payloadType':_0x44651d[_0x469e99(0x8d2)],'action':_0xad3143[_0x469e99(0x12f)],'id':_0x223c65,'parentId':_0x26302f,'path':_0x116b04};await this[_0x469e99(0x84a)](_0x8c4a5e);const _0x49b79f=await this[_0x469e99(0x899)](_0x116b04);await this['send'](_0x8c4a5e),_0x61b339[_0x469e99(0x72f)](_0x411645[_0x469e99(0x83b)],{'type':_0x469e99(0x3bf),'label':this['label'],'nodeId':this[_0x469e99(0x780)][_0x469e99(0x47f)](),'nodeType':this[_0x469e99(0x780)][_0x469e99(0x3a7)],'clusterId':this[_0x469e99(0x4cb)],'kind':_0x49b79f,'path':_0x116b04}),this[_0x469e99(0xe0)]+=0x1,this[_0x469e99(0x44e)]();}catch(_0x25f4f6){if(_0x25f4f6 instanceof _0xa369e8)throw new _0x1e3976(_0x2089de['ObjectStoreNotInSync'],_0x469e99(0x5e0)+_0x116b04+_0x469e99(0x2f4));throw new _0x1e3976(_0x2089de['ObjectStoreInvalidPath'],'Cannot\x20unpublish\x20object:\x20'+_0x116b04);}}async['get'](_0x26e26f,_0x1ee57c){const _0x24b673=_0x3cd514;_0x61b339[_0x24b673(0x72f)](_0x411645[_0x24b673(0x83b)],{'type':_0x24b673(0x31f),'label':this[_0x24b673(0x788)],'nodeId':this[_0x24b673(0x780)]['getId'](),'nodeType':this[_0x24b673(0x780)][_0x24b673(0x3a7)],'clusterId':this['clusterId'],'path':_0x26e26f}),this['reads']+=0x1,this[_0x24b673(0x44e)]();try{return await this[_0x24b673(0x8d6)][_0x24b673(0x31f)](_0x26e26f,_0x1ee57c);}catch(_0x3a7bbf){try{await this[_0x24b673(0x8d6)][_0x24b673(0x31f)](_0x26e26f+_0x1332b6);}catch(_0xd021b9){throw new _0x1e3976(_0x2089de['ObjectStoreInvalidPath'],_0x24b673(0x8dd)+_0x26e26f);}throw new _0x1e3976(_0x2089de[_0x24b673(0xce)],_0x24b673(0x137));}}async['list'](_0xcd9cf5,_0x38589c){const _0x3d9a9a=_0x3cd514,{recursive:_0x4a53c8=!0x1,includeSyncingFiles:_0x51251c=!0x1}=_0x38589c??{};_0x61b339[_0x3d9a9a(0x72f)](_0x411645['ObjectStorage'],{'type':_0x3d9a9a(0x9c7),'label':this[_0x3d9a9a(0x788)],'nodeId':this[_0x3d9a9a(0x780)][_0x3d9a9a(0x47f)](),'nodeType':this[_0x3d9a9a(0x780)][_0x3d9a9a(0x3a7)],'clusterId':this['clusterId'],'path':_0xcd9cf5}),this[_0x3d9a9a(0x5fd)]+=0x1,this[_0x3d9a9a(0x44e)]();try{const _0x18156e=await this[_0x3d9a9a(0x8d6)][_0x3d9a9a(0x9c7)](_0xcd9cf5,_0x4a53c8);return this[_0x3d9a9a(0x929)](_0x18156e,{'recursive':_0x4a53c8,'includeSyncingFiles':_0x51251c});}catch(_0x564b3b){throw new _0x1e3976(_0x2089de[_0x3d9a9a(0x941)],'Cannot\x20list\x20directory:\x20'+_0xcd9cf5);}}['handleNodeJoin'](_0x392c74){const _0x2f46b0=_0x3cd514;this['nodesConnected']+=0x1;for(const _0x5724f8 of this[_0x2f46b0(0x3a2)][_0x2f46b0(0x699)]())this[_0x2f46b0(0x13f)](_0x5724f8,[_0x392c74]);}[_0x3cd514(0x98a)](_0x142072){const _0x19b4ae=_0x3cd514;this['nodesConnected']-=0x1;const _0x566989=this[_0x19b4ae(0x8fb)]['get'](_0x142072);if(_0x566989){for(const [_0x1d37ad,_0x259442]of _0x566989['values']())this[_0x19b4ae(0x515)](_0x1d37ad,_0x259442);this[_0x19b4ae(0x8fb)][_0x19b4ae(0x6f9)](_0x142072);}}async[_0x3cd514(0x18c)](_0x4b597d='/'){const _0x2f64a9=_0x3cd514;try{return await this[_0x2f64a9(0x8d6)][_0x2f64a9(0x1ce)](_0x4b597d);}catch(_0x4e0382){if(_0x4e0382 instanceof Error&&_0x4e0382[_0x2f64a9(0xfe)]['includes'](_0x2f64a9(0x64f)))return 0x0;throw new _0x1e3976(_0x2089de[_0x2f64a9(0x941)],_0x2f64a9(0x86e)+_0x4b597d);}}['completeSync'](){const _0x4baa85=_0x3cd514;this[_0x4baa85(0x4f7)]&&(this[_0x4baa85(0x4f7)]=!0x1,this[_0x4baa85(0x5c9)]['publish']({'event':_0x3cfea6['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this[_0x4baa85(0x3f0)]}}));}async[_0x3cd514(0x929)](_0xe19151,{includeSyncingFiles:_0x234ef5=!0x1}){const _0x542d36=_0x3cd514,_0xb536dc=[];for(const _0x2e7235 of _0xe19151)if(_0x2e7235[_0x542d36(0x7f4)]!==_0x3cfea6[_0x542d36(0x82d)][_0x542d36(0x77b)]){if(_0x2e7235[_0x542d36(0x945)]!==_0x3a409d){if(_0x2e7235[_0x542d36(0x945)][_0x542d36(0x187)](_0x1332b6)){if(!_0x234ef5)continue;const _0x40f979=_0x2e7235;if(_0x40f979['name']=_0x40f979[_0x542d36(0x945)][_0x542d36(0x460)](_0x1332b6,''),_0x40f979['pathName']=_0x40f979[_0x542d36(0x6ef)]['replace'](_0x1332b6,''),await this[_0x542d36(0x82b)](_0x40f979['pathName'])){_0xe19151[_0x542d36(0x833)](_0xd0daf8=>_0xd0daf8[_0x542d36(0x6ef)]===_0x40f979[_0x542d36(0x6ef)])[_0x542d36(0x41c)]=_0x3cfea6['FileStatus'][_0x542d36(0x19d)];continue;}_0x40f979[_0x542d36(0x41c)]=_0x3cfea6[_0x542d36(0x72a)][_0x542d36(0x751)];}_0xb536dc[_0x542d36(0x63b)](_0x2e7235);}}else _0x2e7235[_0x542d36(0x559)]=await this[_0x542d36(0x929)](_0x2e7235[_0x542d36(0x559)]??[],{'includeSyncingFiles':_0x234ef5}),_0xb536dc['push'](_0x2e7235);return _0xb536dc;}async[_0x3cd514(0x710)](_0x4f5f08,_0x44acf5,_0x4fe1b0){const _0x141d8a=_0x3cd514;try{const _0x4eb6c8=(0x0,_0x6d7452['v4'])(),_0x25ba9c=await _0x1730bc(_0x4f5f08),_0x4406bd=_0x5e2faf(_0x44acf5??'/',_0x4f5f08[_0x141d8a(0x945)]);let _0xc4b82b=!0x0;const _0x10c90b={'payloadType':_0x44651d[_0x141d8a(0x8d2)],'action':_0xad3143[_0x141d8a(0x3bc)],'id':_0x4eb6c8,'parentId':this[_0x141d8a(0x826)],'answererId':this[_0x141d8a(0x780)]['getId'](),'name':_0x4f5f08[_0x141d8a(0x945)],'type':_0x4f5f08[_0x141d8a(0x3a7)],'path':_0x44acf5??'/','skipEncryption':_0x4fe1b0?.['skipEncryption']??!0x1,'checksum':_0x25ba9c};try{if(!_0x4fe1b0?.['fetchUrl'])throw new Error(_0x141d8a(0x179));const _0x4bda9f=_0x4406bd+_0x1332b6;await this[_0x141d8a(0x8d6)][_0x141d8a(0x31f)](_0x4bda9f),_0xc4b82b=!0x1,await this[_0x141d8a(0x8d6)][_0x141d8a(0x899)](_0x4bda9f),this[_0x141d8a(0x3a2)][_0x141d8a(0x6f9)](_0x4406bd);}catch(_0x51d306){await this[_0x141d8a(0x84a)](_0x10c90b);}if(this[_0x141d8a(0x3e6)]?await this['writeFile'](_0x4f5f08,_0x44acf5,_0x4fe1b0):await this[_0x141d8a(0x221)](_0x4f5f08[_0x141d8a(0x945)],_0x44acf5??'/',{'checksum':_0x25ba9c,'skipEncryption':_0x4fe1b0?.['skipEncryption']??!0x1}),this[_0x141d8a(0x24c)][_0x141d8a(0x31e)](_0x4406bd)){const [_0x35cfe0,_0x511e88]=this[_0x141d8a(0x24c)]['get'](_0x4406bd);this[_0x141d8a(0x24c)]['set'](_0x4406bd,[!0x0,_0x511e88]);try{await _0x511e88;}catch(_0x5e2c5b){}this[_0x141d8a(0x24c)]['delete'](_0x4406bd);}_0xc4b82b&&this[_0x141d8a(0x1b7)]>0x0&&await this[_0x141d8a(0x48e)](_0x4f5f08,_0x10c90b),_0x61b339[_0x141d8a(0x72f)](_0x411645['ObjectStorage'],{'type':_0x141d8a(0x19e),'label':this[_0x141d8a(0x788)],'nodeId':this[_0x141d8a(0x780)]['getId'](),'nodeType':this[_0x141d8a(0x780)]['type'],'clusterId':this[_0x141d8a(0x4cb)],'kind':_0x3cfea6['ObjectKind'][_0x141d8a(0x4b1)],'path':_0x44acf5,'fileName':_0x4f5f08[_0x141d8a(0x945)],'fileType':_0x4f5f08[_0x141d8a(0x3a7)],'size':_0x4f5f08[_0x141d8a(0x3cb)]}),this[_0x141d8a(0xe0)]+=0x1,this[_0x141d8a(0x44e)]();}catch(_0x19528d){if(_0x19528d instanceof _0xa369e8)throw new _0x1e3976(_0x2089de[_0x141d8a(0xce)],_0x141d8a(0x137));throw new _0x1e3976(_0x2089de['ObjectStoreInvalidPath'],_0x141d8a(0x4a1)+_0x44acf5+(_0x44acf5?.[_0x141d8a(0x187)]('/')?'':'/')+_0x4f5f08[_0x141d8a(0x945)]);}}async['publishFolder'](_0x356b57){const _0x4a481c=_0x3cd514;try{const _0x38c57c=(0x0,_0x6d7452['v4'])(),_0x4320ad=this[_0x4a481c(0x826)],_0x484422={'payloadType':_0x44651d[_0x4a481c(0x8d2)],'action':_0xad3143[_0x4a481c(0x435)],'id':_0x38c57c,'parentId':_0x4320ad,'path':_0x356b57};await this['publishTransaction'](_0x484422),await this[_0x4a481c(0x8d6)][_0x4a481c(0x8f1)](_0x356b57),await this[_0x4a481c(0x13f)](_0x484422),_0x61b339[_0x4a481c(0x72f)](_0x411645[_0x4a481c(0x83b)],{'type':_0x4a481c(0x19e),'label':this[_0x4a481c(0x788)],'nodeId':this[_0x4a481c(0x780)][_0x4a481c(0x47f)](),'nodeType':this[_0x4a481c(0x780)]['type'],'clusterId':this[_0x4a481c(0x4cb)],'kind':_0x3cfea6[_0x4a481c(0x82d)]['Folder'],'path':_0x356b57}),this[_0x4a481c(0xe0)]+=0x1,this['sendStats']();}catch(_0x25f14a){if(_0x25f14a instanceof _0xa369e8)throw new _0x1e3976(_0x2089de['ObjectStoreNotInSync'],_0x4a481c(0x137));throw new _0x1e3976(_0x2089de['ObjectStoreInvalidPath'],_0x4a481c(0x1dd)+_0x356b57);}}async[_0x3cd514(0x7e1)](_0xd4f82a,_0x133461){const _0x31a522=_0x3cd514;try{const _0x35a922=(0x0,_0x6d7452['v4'])(),_0x2bdb7e=this[_0x31a522(0x826)],_0x13b944={'payloadType':_0x44651d['Transaction'],'action':_0xad3143[_0x31a522(0x257)],'id':_0x35a922,'parentId':_0x2bdb7e,'path':_0xd4f82a,'newPath':_0x133461};await this[_0x31a522(0x84a)](_0x13b944);const _0x4713a4=await this[_0x31a522(0x8b5)](_0xd4f82a,_0x133461);await this[_0x31a522(0x13f)](_0x13b944),_0x61b339[_0x31a522(0x72f)](_0x411645[_0x31a522(0x83b)],{'type':'move','label':this[_0x31a522(0x788)],'nodeId':this[_0x31a522(0x780)][_0x31a522(0x47f)](),'nodeType':this[_0x31a522(0x780)][_0x31a522(0x3a7)],'clusterId':this['clusterId'],'kind':_0x4713a4,'path':_0xd4f82a,'newPath':_0x133461}),this[_0x31a522(0xe0)]+=0x1,this[_0x31a522(0x44e)]();}catch(_0x107180){if(_0x107180 instanceof _0xa369e8)throw new _0x1e3976(_0x2089de[_0x31a522(0xce)],_0x31a522(0x137));throw new _0x1e3976(_0x2089de[_0x31a522(0x941)],'Cannot\x20publish\x20move\x20operation:\x20'+_0xd4f82a);}}async['handleTransactionPayload'](_0x4b0323,_0x3e2358=!0x1){const _0x1ae112=_0x3cd514;if(this[_0x1ae112(0x826)]&&_0x4b0323['parentId']!==this[_0x1ae112(0x826)]&&_0x4b0323['id']!==this['lastTransactionId']){if(!_0x4b0323[_0x1ae112(0x646)])throw new _0xa369e8(_0xa369e8[_0x1ae112(0x98c)][_0x1ae112(0x2c6)]);this[_0x1ae112(0x285)][_0x1ae112(0x282)](_0x4b0323[_0x1ae112(0x646)],_0x4b0323);}else{try{await this[_0x1ae112(0x73b)](_0x4b0323,_0x3e2358);}catch(_0x56bcb5){}await this[_0x1ae112(0x510)](_0x4b0323['id']),await this['processPendingSyncTransactions'](_0x4b0323['id'],_0x3e2358);}}async[_0x3cd514(0x73b)](_0x1b6115,_0x931861=!0x1){const _0x3e7183=_0x3cd514;switch(_0x1b6115['action']){case _0xad3143['FileWrite']:await this[_0x3e7183(0x620)](_0x1b6115);break;case _0xad3143['FolderCreate']:await this[_0x3e7183(0x494)](_0x1b6115);break;case _0xad3143[_0x3e7183(0x257)]:await this[_0x3e7183(0x132)](_0x1b6115,_0x931861);break;case _0xad3143[_0x3e7183(0x12f)]:await this[_0x3e7183(0x4ad)](_0x1b6115,_0x931861);break;default:throw new _0xa369e8(_0xa369e8['codes'][_0x3e7183(0x2c6)],{'payload':_0x1b6115});}}async[_0x3cd514(0x6b6)](_0x745e21,_0x12ec9c=!0x1){const _0x546552=_0x3cd514;if(this[_0x546552(0x285)]['has'](_0x745e21)){const _0xe46efd=this['pendingSyncTransactions'][_0x546552(0x31f)](_0x745e21);this[_0x546552(0x285)][_0x546552(0x6f9)](_0x745e21),await this[_0x546552(0x808)](_0xe46efd,_0x12ec9c);}}async[_0x3cd514(0x8e8)](_0x162522){const _0x42eda4=_0x3cd514;switch(_0x162522['action']){case _0xad3143[_0x42eda4(0x7c8)]:return this[_0x42eda4(0x6bf)](_0x162522);case _0xad3143[_0x42eda4(0x73d)]:return this['handleFileRequestAnswer'](_0x162522);case _0xad3143['RequestFileSync']:return this['handleFileSync'](_0x162522);case _0xad3143['RequestFileWrite']:return this[_0x42eda4(0x620)](_0x162522);default:throw new _0xa369e8(_0xa369e8[_0x42eda4(0x98c)][_0x42eda4(0x2c6)],{'payload':_0x162522});}}async[_0x3cd514(0x620)](_0x3b3ded,_0x10d94f=0x0){const _0x39cd55=_0x3cd514,_0x393669=_0x5e2faf(_0x3b3ded[_0x39cd55(0x352)],_0x3b3ded['name']);if(!_0x3b3ded[_0x39cd55(0x66f)]||void 0x0===_0x3b3ded['index']||!_0x3b3ded['total'])return this[_0x39cd55(0x7e4)]['delete'](_0x393669),void await this[_0x39cd55(0x221)](_0x3b3ded[_0x39cd55(0x945)],_0x3b3ded[_0x39cd55(0x352)],{'checksum':_0x3b3ded[_0x39cd55(0x645)],'skipEncryption':_0x3b3ded['skipEncryption']});if(this[_0x39cd55(0x7e4)][_0x39cd55(0x31e)](_0x393669)){const _0x40acc7=this['fileChunks']['get'](_0x393669);_0x40acc7['checksum']!==_0x3b3ded['checksum']&&(_0x40acc7['stream']?.[_0x39cd55(0x8aa)](),this[_0x39cd55(0x7e4)]['delete'](_0x393669));}if(!this[_0x39cd55(0x7e4)][_0x39cd55(0x31e)](_0x393669)){try{await this[_0x39cd55(0x8d6)][_0x39cd55(0x899)](_0x393669);}catch(_0x35be9e){}try{const _0x1fe5e5=this['syncContent']?await this['objectStoreConnector'][_0x39cd55(0x3d4)](_0x393669,{'skipEncryption':_0x3b3ded[_0x39cd55(0x30b)]}):void 0x0,_0x425c6c={'chunksReceived':_0x3b3ded[_0x39cd55(0x62a)]??0x0,'bytesReceived':0x0,'stream':_0x1fe5e5,'checksum':_0x3b3ded[_0x39cd55(0x645)]};this[_0x39cd55(0x7e4)][_0x39cd55(0x282)](_0x393669,_0x425c6c),await this[_0x39cd55(0x221)](_0x3b3ded[_0x39cd55(0x945)],_0x3b3ded['path'],{'checksum':_0x3b3ded[_0x39cd55(0x645)],'skipEncryption':_0x3b3ded[_0x39cd55(0x30b)]});}catch(_0x52e32e){}}const _0x1e1b78=this[_0x39cd55(0x7e4)][_0x39cd55(0x31f)](_0x393669);if(_0x3b3ded[_0x39cd55(0x645)]!==_0x1e1b78[_0x39cd55(0x645)])return;if(this[_0x39cd55(0x97f)](_0x3b3ded,_0x393669),this[_0x39cd55(0x3e6)]){if(!_0x1e1b78['stream'])throw new _0xa369e8(_0xa369e8[_0x39cd55(0x98c)][_0x39cd55(0x2c6)],{'message':_0x39cd55(0x987)});let _0x5d75fb=_0x1e1b78[_0x39cd55(0x53e)];if(_0x3b3ded[_0x39cd55(0x57e)]!==_0x5d75fb){if(_0x5d75fb>_0x3b3ded[_0x39cd55(0x57e)])return;const _0x2a8c4a=2064.1259842519685;if(_0x3b3ded[_0x39cd55(0x57e)]>_0x5d75fb+_0x2a8c4a)return;if(_0x1e1b78[_0x39cd55(0x8e5)]||(_0x1e1b78[_0x39cd55(0x8e5)]=[]),_0x1e1b78['bufferedChunks'][_0x39cd55(0x4f4)]>8256.503937007874)throw this[_0x39cd55(0x7e4)][_0x39cd55(0x6f9)](_0x393669),new _0xa369e8(_0xa369e8[_0x39cd55(0x98c)][_0x39cd55(0x2c6)],{'message':_0x39cd55(0x1fd)});return void _0x1e1b78[_0x39cd55(0x8e5)][_0x39cd55(0x63b)](_0x3b3ded);}try{_0x1e1b78[_0x39cd55(0x53e)]+=0x1,_0x1e1b78['bytesReceived']+=_0x3b3ded['data'][_0x39cd55(0x81e)],await _0x1e1b78[_0x39cd55(0x6a8)][_0x39cd55(0x674)](_0x3b3ded['data']);}catch(_0x1b40e3){if(console[_0x39cd55(0x3db)](_0x39cd55(0x777),_0x1b40e3),_0x10d94f>0x3)throw this[_0x39cd55(0x7e4)][_0x39cd55(0x6f9)](_0x393669),console[_0x39cd55(0x3db)](_0x39cd55(0x731),_0x1b40e3),new _0xa369e8(_0xa369e8[_0x39cd55(0x98c)][_0x39cd55(0x2c6)],{'message':_0x39cd55(0x731)});return this['handleFileWrite'](_0x3b3ded,_0x10d94f+0x1);}}try{await this[_0x39cd55(0x662)](_0x1e1b78,_0x3b3ded[_0x39cd55(0x57e)]+0x1);}catch(_0x5a335c){throw this['fileChunks'][_0x39cd55(0x6f9)](_0x393669),_0x5a335c;}if(this[_0x39cd55(0x7e4)][_0x39cd55(0x282)](_0x393669,_0x1e1b78),_0x1e1b78[_0x39cd55(0x53e)]<_0x3b3ded['total'])return;await this[_0x39cd55(0x184)](_0x393669),this[_0x39cd55(0x3e6)]&&(await this['deletePendingFile'](_0x3b3ded),_0x61b339['logServiceEvent'](_0x411645[_0x39cd55(0x83b)],{'type':_0x39cd55(0x7ae),'label':this[_0x39cd55(0x788)],'nodeId':this[_0x39cd55(0x780)][_0x39cd55(0x47f)](),'nodeType':this[_0x39cd55(0x780)]['type'],'clusterId':this['clusterId'],'kind':_0x3cfea6[_0x39cd55(0x82d)]['File'],'path':_0x3b3ded['path'],'fileName':_0x3b3ded[_0x39cd55(0x945)],'fileType':_0x3b3ded[_0x39cd55(0x3a7)],'size':_0x1e1b78['bytesReceived']}));const _0x2de907=this[_0x39cd55(0x666)]['get'](_0x3b3ded['path'])??[];for(const _0x3f3b0b of _0x2de907)await this[_0x39cd55(0x73b)](_0x3f3b0b);this['pendingFilesTransactions'][_0x39cd55(0x6f9)](_0x3b3ded[_0x39cd55(0x352)]),this[_0x39cd55(0x5c9)][_0x39cd55(0x19e)]({'event':_0x3cfea6[_0x39cd55(0x5b1)][_0x39cd55(0x3bc)],'payload':{'file':{'kind':_0x3cfea6[_0x39cd55(0x82d)][_0x39cd55(0x4b1)],'path':_0x3b3ded[_0x39cd55(0x352)],'type':_0x3b3ded[_0x39cd55(0x3a7)],'size':_0x1e1b78[_0x39cd55(0x728)],'name':_0x3b3ded[_0x39cd55(0x945)],'pathName':_0x393669,'status':this[_0x39cd55(0x3e6)]?_0x3cfea6[_0x39cd55(0x72a)][_0x39cd55(0x452)]:_0x3cfea6[_0x39cd55(0x72a)][_0x39cd55(0x751)]}}}),this[_0x39cd55(0x44e)]();}async[_0x3cd514(0x662)](_0x510372,_0x4c0771){const _0xbbf4f6=_0x3cd514,_0x16df8a=_0x510372['stream'];let _0x3a5aa4=0x0;for(;_0x510372[_0xbbf4f6(0x8e5)]&&_0x510372[_0xbbf4f6(0x8e5)][_0xbbf4f6(0x4f4)]>0x0;){const _0x3d19ed=_0x510372['bufferedChunks'][_0xbbf4f6(0x833)](_0x171a11=>_0x171a11['index']===_0x4c0771+0x1);if(!_0x3d19ed)break;_0x510372[_0xbbf4f6(0x8e5)]=_0x510372['bufferedChunks'][_0xbbf4f6(0x4d1)](_0x1acf77=>_0x1acf77['index']!==_0x4c0771+0x1);try{await _0x16df8a[_0xbbf4f6(0x674)](_0x3d19ed[_0xbbf4f6(0x66f)]),_0x4c0771++;}catch(_0x41d3d2){if(console[_0xbbf4f6(0x3db)](_0xbbf4f6(0x10c),_0x41d3d2),_0x3a5aa4>0x3)throw console['error'](_0xbbf4f6(0x8e7),_0x41d3d2),new _0xa369e8(_0xa369e8[_0xbbf4f6(0x98c)][_0xbbf4f6(0x2c6)],{'message':_0xbbf4f6(0x8e7)});_0x3a5aa4++;continue;}_0x510372[_0xbbf4f6(0x53e)]+=0x1,_0x510372[_0xbbf4f6(0x728)]+=_0x3d19ed[_0xbbf4f6(0x66f)][_0xbbf4f6(0x81e)];}}async[_0x3cd514(0x494)](_0x4f96ba){const _0x435187=_0x3cd514;await this['objectStoreConnector'][_0x435187(0x8f1)](_0x4f96ba[_0x435187(0x352)]);const [_0x2fa03f,_0x54cc6d]=_0x38090c(_0x4f96ba[_0x435187(0x352)]);this[_0x435187(0x5c9)][_0x435187(0x19e)]({'event':_0x3cfea6['StorageEventType'][_0x435187(0x435)],'payload':{'folder':{'kind':_0x3cfea6[_0x435187(0x82d)]['Folder'],'name':_0x54cc6d,'path':_0x2fa03f,'pathName':_0x4f96ba[_0x435187(0x352)]}}});}async[_0x3cd514(0x4ad)](_0x275a28,_0x2f80bc=!0x1){const _0xe46fb8=_0x3cd514;if(!_0x2f80bc&&!this[_0xe46fb8(0x27f)](_0x275a28))return;const _0x571bf0=await this[_0xe46fb8(0x899)](_0x275a28[_0xe46fb8(0x352)]),[_0x5ba428,_0x4f759c]=_0x38090c(_0x275a28[_0xe46fb8(0x352)]);this['eventListener']['publish']({'event':_0x571bf0===_0x3cfea6['ObjectKind'][_0xe46fb8(0x77b)]?_0x3cfea6[_0xe46fb8(0x5b1)][_0xe46fb8(0x7aa)]:_0x3cfea6[_0xe46fb8(0x5b1)][_0xe46fb8(0x17e)],'payload':{'name':_0x4f759c,'path':_0x5ba428,'pathName':_0x275a28[_0xe46fb8(0x352)]}}),this['sendStats']();}async['handleObjectMove'](_0x5120d3,_0x59a47b=!0x1){const _0x21c23=_0x3cd514;if(!_0x59a47b&&!this[_0x21c23(0x27f)](_0x5120d3))return this[_0x21c23(0x74c)]['set'](_0x5120d3[_0x21c23(0x844)],this['pendingFilesRename']['get'](_0x5120d3['path'])??_0x5120d3[_0x21c23(0x352)]),void this[_0x21c23(0x74c)][_0x21c23(0x6f9)](_0x5120d3['path']);this[_0x21c23(0x74c)][_0x21c23(0x6f9)](_0x5120d3[_0x21c23(0x352)]);const _0x3ee96e=await this['objectStoreConnector'][_0x21c23(0x8b5)](_0x5120d3[_0x21c23(0x352)],_0x5120d3[_0x21c23(0x844)]),[_0x400ac0,_0x1b6da4]=_0x38090c(_0x5120d3['path']),[_0x32f938,_0x2d7cd9]=_0x38090c(_0x5120d3['newPath']);this['eventListener'][_0x21c23(0x19e)]({'event':_0x3ee96e===_0x3cfea6[_0x21c23(0x82d)][_0x21c23(0x77b)]?_0x3cfea6[_0x21c23(0x5b1)][_0x21c23(0x7fe)]:_0x3cfea6[_0x21c23(0x5b1)][_0x21c23(0x5bb)],'payload':{'name':_0x2d7cd9,'path':_0x32f938,'pathName':_0x5120d3['newPath'],'oldName':_0x1b6da4,'oldPath':_0x400ac0,'oldPathName':_0x5120d3[_0x21c23(0x352)]}}),this['sendStats']();}[_0x3cd514(0x27f)](_0x4401a3){const _0x42d058=_0x3cd514,_0x126f46=this[_0x42d058(0x74c)][_0x42d058(0x31f)](_0x4401a3[_0x42d058(0x352)])??_0x4401a3[_0x42d058(0x352)];let _0x52104f=!0x1;for(const _0x5ac6cf of this[_0x42d058(0x7e4)][_0x42d058(0x298)]())if(_0x5ac6cf[_0x42d058(0xe8)](_0x126f46)){const _0x349657=this[_0x42d058(0x666)][_0x42d058(0x31f)](_0x5ac6cf)??[];_0x349657[_0x42d058(0x63b)](_0x4401a3),this[_0x42d058(0x666)][_0x42d058(0x282)](_0x5ac6cf,_0x349657),_0x52104f=!0x0;}return!_0x52104f;}async[_0x3cd514(0x84a)](_0x3db604){const _0x29ad4b=_0x3cd514;if(!_0x3db604['id'])throw new _0xa369e8(_0xa369e8[_0x29ad4b(0x98c)][_0x29ad4b(0x2c6)],{'message':_0x29ad4b(0x5f0)});if(_0x3db604[_0x29ad4b(0x646)]!==this[_0x29ad4b(0x826)])throw new _0xa369e8(_0xa369e8[_0x29ad4b(0x98c)][_0x29ad4b(0x792)]);await this['transactionService'][_0x29ad4b(0x561)](_0x3db604,this[_0x29ad4b(0x788)]),await this['updateLastTransactionId'](_0x3db604['id']);}async[_0x3cd514(0x510)](_0x1a3568){const _0x107591=_0x3cd514;this[_0x107591(0x826)]=_0x1a3568;const _0x2aa5b1=new File([new Blob([this[_0x107591(0x826)]])],_0x3a409d,{'type':_0x107591(0x25d)});await this[_0x107591(0x120)](_0x2aa5b1,'/');}async[_0x3cd514(0x6bf)](_0x2b7e78){const _0x4c00b1=_0x3cd514;try{const _0x2fc0b2=await this['get'](_0x2b7e78[_0x4c00b1(0x352)]+'/'+_0x2b7e78[_0x4c00b1(0x945)],{'skipEncryption':_0x2b7e78[_0x4c00b1(0x30b)]}),_0xef747e=await _0x1730bc(_0x2fc0b2);if(''!==_0x2b7e78['checksum']&&_0xef747e!==_0x2b7e78[_0x4c00b1(0x645)])return;_0x2b7e78[_0x4c00b1(0x89b)]=this[_0x4c00b1(0x780)][_0x4c00b1(0x47f)](),_0x2b7e78[_0x4c00b1(0x421)]=_0xad3143[_0x4c00b1(0x73d)],await this['send'](_0x2b7e78,[_0x2b7e78[_0x4c00b1(0x118)]]);}catch(_0x40e9d2){}}async[_0x3cd514(0x60d)](_0x54d8da){const _0x34ba55=_0x3cd514,_0x279e3a=_0x5e2faf(_0x54d8da[_0x34ba55(0x352)],_0x54d8da[_0x34ba55(0x945)]);if(!this[_0x34ba55(0x3a2)][_0x34ba55(0x31e)](_0x279e3a))return;const _0x599027=this[_0x34ba55(0x3a2)][_0x34ba55(0x31f)](_0x279e3a);_0x599027['action']=_0xad3143[_0x34ba55(0x624)];const _0x61b612=_0x54d8da[_0x34ba55(0x89b)];if(!_0x61b612)throw new _0xa369e8(_0xa369e8[_0x34ba55(0x98c)][_0x34ba55(0x2c6)],{'message':_0x34ba55(0x312)});if(this[_0x34ba55(0x3a2)][_0x34ba55(0x6f9)](_0x279e3a),this[_0x34ba55(0x8fb)][_0x34ba55(0x31e)](_0x61b612)||this[_0x34ba55(0x8fb)][_0x34ba55(0x282)](_0x61b612,new Map()),this[_0x34ba55(0x8fb)][_0x34ba55(0x31f)](_0x61b612)[_0x34ba55(0x282)](_0x279e3a,[_0x599027,this['getOrResetPendingFileTimeout'](_0x61b612,_0x279e3a)]),_0x599027['answererId']=_0x61b612,_0x599027[_0x34ba55(0x62a)]=this[_0x34ba55(0x7e4)]['get'](_0x279e3a)?.[_0x34ba55(0x53e)]??0x0,0x0===_0x599027[_0x34ba55(0x62a)])try{const [_0x27fd4b,_0x2d3002]=await this[_0x34ba55(0x336)](_0x54d8da[_0x34ba55(0x945)],_0x54d8da['path'],_0x54d8da['checksum']);_0x27fd4b&&(_0x599027[_0x34ba55(0x62a)]=_0x2d3002);}catch(_0x15f2a2){}this[_0x34ba55(0x13f)](_0x599027,[_0x61b612]);}async[_0x3cd514(0x724)](_0x45d247){const _0x491a50=_0x3cd514,_0x48affd=_0x5e2faf(_0x45d247[_0x491a50(0x352)],_0x45d247['name']),_0x22b6a8=await this[_0x491a50(0x31f)](_0x48affd,{'skipEncryption':_0x45d247[_0x491a50(0x30b)]}),_0x3517a5={..._0x45d247,'answererId':this['localNode'][_0x491a50(0x47f)](),'action':_0xad3143[_0x491a50(0x13b)],'startIndex':_0x45d247['startIndex']??0x0};await this['sendFile'](_0x22b6a8,_0x3517a5,[_0x45d247[_0x491a50(0x118)]]);}async['sendFile'](_0x22325a,_0x40e39a,_0x5ab090){let _0x28473e,_0xd87ffb;const _0x1406a8=new Promise(async(_0x2b931d,_0x37f849)=>{_0x28473e=_0x2b931d,_0xd87ffb=_0x37f849;});return((async()=>{const _0x1e684b=a0_0x2e46,_0x4fc196=Math[_0x1e684b(0x7f1)](_0x22325a[_0x1e684b(0x3cb)]/_0x303ca8);let _0x1c499e=_0x40e39a[_0x1e684b(0x62a)]??0x0;const _0xa76cba=_0x5e2faf(_0x40e39a[_0x1e684b(0x352)],_0x40e39a['name']);this['fileSendingMap'][_0x1e684b(0x282)](_0xa76cba,[!0x1,_0x1406a8]);for await(const _0x43a419 of async function*(_0x5d17e8,_0x416532=0x0,_0x25ae21){for await(const _0x24eebf of _0x3cc1d8(_0x5d17e8,_0x416532,_0x25ae21))yield _0x24eebf;}(_0x22325a,_0x1c499e,this[_0x1e684b(0x483)])){const [_0x406a80]=this[_0x1e684b(0x24c)][_0x1e684b(0x31f)](_0xa76cba)??[];if(_0x406a80)return this[_0x1e684b(0x24c)]['delete'](_0xa76cba),void _0xd87ffb(new Error(_0x1e684b(0x457)));if(this[_0x1e684b(0x666)]['has'](_0xa76cba)){const _0x4c3c66=this['pendingFilesTransactions']['get'](_0xa76cba);for(const _0xf54e5c of _0x4c3c66)if(_0xf54e5c[_0x1e684b(0x421)]===_0xad3143[_0x1e684b(0x3bc)]||_0xf54e5c[_0x1e684b(0x421)]===_0xad3143[_0x1e684b(0x12f)])return;}const _0x5ae06e={..._0x40e39a,'type':_0x22325a[_0x1e684b(0x3a7)],'data':_0x43a419,'index':_0x1c499e,'total':_0x4fc196};this[_0x1e684b(0x13f)](_0x5ae06e,_0x5ab090),_0x1c499e++;}const _0x501f1f=setInterval(async()=>{const _0x583e09=_0x1e684b;await this[_0x583e09(0x483)]()>0x0||(clearInterval(_0x501f1f),_0x28473e());});this[_0x1e684b(0x24c)][_0x1e684b(0x6f9)](_0xa76cba);})()),_0x1406a8;}async[_0x3cd514(0x162)](_0x459b88){const _0x1a56b6=_0x3cd514;try{const _0x1d9c45=_0x5e2faf(_0x459b88[_0x1a56b6(0x352)],_0x459b88[_0x1a56b6(0x945)]),_0x1d661b=_0x1d9c45+_0x1332b6;await this[_0x1a56b6(0x899)](_0x1d661b);const [,_0x2cec0a]=this['pendingFilesSyncing'][_0x1a56b6(0x31f)](_0x459b88['answererId'])?.[_0x1a56b6(0x31f)](_0x1d9c45)??[];_0x2cec0a&&(clearTimeout(_0x2cec0a),this[_0x1a56b6(0x8fb)][_0x1a56b6(0x31f)](_0x459b88[_0x1a56b6(0x89b)])[_0x1a56b6(0x6f9)](_0x1d9c45));}catch(_0x292418){}0x0===this['pendingFilesSyncing'][_0x1a56b6(0x31f)](_0x459b88[_0x1a56b6(0x89b)])?.[_0x1a56b6(0x3cb)]&&this['pendingFilesSyncing']['delete'](_0x459b88[_0x1a56b6(0x89b)]),0x0===this[_0x1a56b6(0x8fb)][_0x1a56b6(0x3cb)]&&0x0===this[_0x1a56b6(0x3a2)]['size']&&this[_0x1a56b6(0x89d)]();}async[_0x3cd514(0x49e)](){const _0x472556=_0x3cd514;try{const _0x3ef167=await this[_0x472556(0x6a3)][_0x472556(0x45f)](this[_0x472556(0x788)],this[_0x472556(0x826)]);for(const _0x4f20bb of _0x3ef167)await this[_0x472556(0x808)](_0x4f20bb,!0x0);}catch(_0x553d15){if(_0x553d15 instanceof _0xa369e8&&_0x553d15[_0x472556(0x610)]===_0xa369e8['codes'][_0x472556(0x6a9)]){await this[_0x472556(0x8d6)][_0x472556(0x899)](_0x3a409d),delete this[_0x472556(0x826)];try{const _0xebe24f=await this[_0x472556(0x8d6)][_0x472556(0x9c7)]('/',!0x1);for(const _0x239109 of _0xebe24f)await this[_0x472556(0x8d6)][_0x472556(0x899)](_0x239109['pathName']);}catch(_0x2e015b){}return await this[_0x472556(0x49e)]();}throw _0x553d15;}}async[_0x3cd514(0x5f2)](){const _0x2deb8b=_0x3cd514,_0x2d5c95=await this[_0x2deb8b(0x9c7)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x5bc13b=async _0x4be396=>{const _0x3e1131=_0x2deb8b;for(const _0x336c24 of _0x4be396){if(_0x336c24[_0x3e1131(0x7f4)]===_0x3cfea6[_0x3e1131(0x82d)][_0x3e1131(0x77b)]){_0x336c24[_0x3e1131(0x559)]&&_0x336c24[_0x3e1131(0x559)][_0x3e1131(0x4f4)]>0x0&&await _0x5bc13b(_0x336c24[_0x3e1131(0x559)]);continue;}if(_0x336c24[_0x3e1131(0x41c)]!==_0x3cfea6['FileStatus'][_0x3e1131(0x751)])continue;const _0x28a933=await this[_0x3e1131(0x31f)](_0x336c24[_0x3e1131(0x6ef)]+_0x1332b6),_0x49cbde=JSON['parse'](await _0x28a933[_0x3e1131(0x481)]()),_0x16dceb=_0x336c24[_0x3e1131(0x945)][_0x3e1131(0x460)](_0x1332b6,''),_0x6531e2={'payloadType':_0x44651d[_0x3e1131(0x199)],'action':_0xad3143[_0x3e1131(0x7c8)],'sourceId':this[_0x3e1131(0x780)][_0x3e1131(0x47f)](),'type':'','path':_0x336c24[_0x3e1131(0x352)],'name':_0x16dceb,'checksum':_0x49cbde[_0x3e1131(0x645)],'skipEncryption':_0x49cbde['skipEncryption']},_0x46a015=_0x5e2faf(_0x336c24[_0x3e1131(0x352)],_0x16dceb);this[_0x3e1131(0x3a2)]['set'](_0x46a015,_0x6531e2);}};await _0x5bc13b(_0x2d5c95),0x0===this['objectRequests'][_0x2deb8b(0x3cb)]&&0x0===this['pendingFilesSyncing'][_0x2deb8b(0x3cb)]&&this['completeSync']();}async[_0x3cd514(0x221)](_0x112fca,_0x34f8c7,_0x895731){const _0x2a57f0=_0x3cd514,_0x19dd83=new File([new Blob([JSON[_0x2a57f0(0x178)](_0x895731)])],''+_0x112fca+_0x1332b6,{'type':'text/plain'});await this['writeFile'](_0x19dd83,_0x34f8c7);}async['checkExistingPendingFileContent'](_0x43a16a,_0x55711d,_0x32b458){const _0x3b3393=_0x3cd514;try{const _0x47a46a=_0x5e2faf(_0x55711d,_0x43a16a),_0x58bbe3=_0x47a46a+_0x1332b6,_0x44c37c=await this[_0x3b3393(0x8d6)]['get'](_0x58bbe3),{checksum:_0x38bab7,skipEncryption:_0x34184e}=JSON[_0x3b3393(0xc6)](await _0x44c37c[_0x3b3393(0x481)]()),_0x2a366f=(await this[_0x3b3393(0x8d6)][_0x3b3393(0x31f)](_0x47a46a,{'skipEncryption':_0x34184e}))[_0x3b3393(0x3cb)];return _0x38bab7===_0x32b458&&_0x2a366f%_0x303ca8==0x0?[!0x0,Math[_0x3b3393(0x193)](_0x2a366f/_0x303ca8)]:(await this[_0x3b3393(0x8d6)][_0x3b3393(0x899)](_0x47a46a),[!0x1,0x0]);}catch(_0x2ec03d){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x374559,_0x26b8d7){const _0x2e8a49=_0x3cd514,[_0x199339,_0x3ff54c]=this['pendingFilesSyncing']['get'](_0x374559)?.[_0x2e8a49(0x31f)](_0x26b8d7)??[];return _0x3ff54c&&clearTimeout(_0x3ff54c),setTimeout(()=>{const _0x149ffd=_0x2e8a49,[_0x431bda,_0x365dad]=this[_0x149ffd(0x8fb)]['get'](_0x374559)[_0x149ffd(0x31f)](_0x26b8d7);this['sendFileRequestPayload'](_0x431bda,_0x365dad);},0x927c0);}async[_0x3cd514(0x515)](_0x5d0b58,_0x2ed933){const _0x5eb6a8=_0x3cd514;clearTimeout(_0x2ed933),_0x5d0b58[_0x5eb6a8(0x421)]=_0xad3143[_0x5eb6a8(0x7c8)],this[_0x5eb6a8(0x3a2)][_0x5eb6a8(0x282)](_0x5e2faf(_0x5d0b58['path'],_0x5d0b58[_0x5eb6a8(0x945)]),_0x5d0b58),this[_0x5eb6a8(0x13f)](_0x5d0b58);}[_0x3cd514(0x97f)](_0x17badf,_0x5c2537){const _0x142b28=_0x3cd514;if(!this[_0x142b28(0x3e6)])return;this['pendingFilesSyncing'][_0x142b28(0x31e)](_0x17badf['answererId'])||this[_0x142b28(0x8fb)]['set'](_0x17badf[_0x142b28(0x89b)],new Map());const [_0x4eabda]=this[_0x142b28(0x8fb)][_0x142b28(0x31f)](_0x17badf[_0x142b28(0x89b)])[_0x142b28(0x31f)](_0x5c2537)??[{'payloadType':_0x44651d['Request'],'action':_0xad3143[_0x142b28(0x7c8)],'sourceId':this['localNode']['getId'](),'type':_0x17badf[_0x142b28(0x3a7)],'name':_0x17badf[_0x142b28(0x945)],'path':_0x17badf['path'],'skipEncryption':_0x17badf[_0x142b28(0x30b)],'checksum':_0x17badf[_0x142b28(0x645)],'answererId':_0x17badf[_0x142b28(0x89b)]}];this[_0x142b28(0x8fb)]['get'](_0x17badf['answererId'])['set'](_0x5c2537,[_0x4eabda,this['getOrResetPendingFileTimeout'](_0x17badf[_0x142b28(0x89b)],_0x5c2537)]);}async[_0x3cd514(0x120)](_0x52f5ad,_0x4f3a3f,_0x2fc3a7){const _0x3d3e9c=_0x3cd514;this['isSyncing']&&(this[_0x3d3e9c(0x3f0)]+=0x1),await this['objectStoreConnector']['writeFile'](_0x52f5ad,_0x4f3a3f,_0x2fc3a7);}async[_0x3cd514(0x899)](_0x1170cb){const _0x5f39df=_0x3cd514;try{const _0x1ed776=await this[_0x5f39df(0x8d6)][_0x5f39df(0x899)](_0x1170cb);if(!_0x1170cb[_0x5f39df(0x187)](_0x1332b6))try{await this[_0x5f39df(0x8d6)]['deleteObject'](_0x1170cb+_0x1332b6);}catch(_0x5008fc){}return this['isSyncing']&&_0x1ed776===_0x3cfea6[_0x5f39df(0x82d)][_0x5f39df(0x4b1)]&&(this[_0x5f39df(0x3f0)]+=0x1),_0x1ed776;}catch(_0xf57fed){return await this[_0x5f39df(0x8d6)][_0x5f39df(0x899)](_0x1170cb+_0x1332b6);}}async[_0x3cd514(0x8b5)](_0x5e9dfc,_0x52222c){const _0x178664=_0x3cd514;try{const _0x4f0b1f=await this[_0x178664(0x8d6)][_0x178664(0x8b5)](_0x5e9dfc,_0x52222c);if(!_0x5e9dfc[_0x178664(0x187)](_0x1332b6))try{await this['objectStoreConnector'][_0x178664(0x8b5)](_0x5e9dfc+_0x1332b6,_0x52222c+_0x1332b6);}catch(_0xfb8e61){}return _0x4f0b1f;}catch(_0x2cc748){return await this['objectStoreConnector'][_0x178664(0x8b5)](_0x5e9dfc+_0x1332b6,_0x52222c+_0x1332b6);}}[_0x3cd514(0x44e)](){const _0x5abd3b=_0x3cd514;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x5abd3b(0x5f4)]=setTimeout(async()=>{const _0x9e2b51=_0x5abd3b;delete this[_0x9e2b51(0x5f4)];const _0x5c6570=await this[_0x9e2b51(0x8d6)][_0x9e2b51(0x1ce)]('/');this[_0x9e2b51(0x917)]?.[_0x9e2b51(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x9e2b51(0x739)],'content':{'type':_0x32bee3[_0x9e2b51(0x8db)],'label':this[_0x9e2b51(0x788)],'stats':{'timestamp':Date[_0x9e2b51(0x498)](),'storage':_0x5c6570,'messagesSent':this[_0x9e2b51(0x46b)],'messagesReceived':this[_0x9e2b51(0x1a8)],'bytesSent':this[_0x9e2b51(0x6cd)],'bytesReceived':this[_0x9e2b51(0x728)],'writes':this[_0x9e2b51(0xe0)],'reads':this[_0x9e2b51(0x5fd)],'prompts':0x0,'tokens':0x0}}}),this[_0x9e2b51(0x3e6)]&&_0x61b339[_0x9e2b51(0x40b)](_0x411645[_0x9e2b51(0x83b)],'ccc'+this['clusterId']+'ccc'+this[_0x9e2b51(0x788)],_0x5c6570);},_0x34d584);}async[_0x3cd514(0x82b)](_0x33ee97){const _0x327e7c=_0x3cd514;try{return await this[_0x327e7c(0x31f)](_0x33ee97),!0x0;}catch(_0x5a14dc){return!0x1;}}async[_0x3cd514(0x184)](_0x5816f7){const _0x154d35=_0x3cd514;if(!this['fileChunks']['has'](_0x5816f7))return;const _0x2bb762=this[_0x154d35(0x7e4)][_0x154d35(0x31f)](_0x5816f7);if(_0x2bb762['stream'])try{await _0x2bb762[_0x154d35(0x6a8)][_0x154d35(0x8aa)]();}catch(_0x463b53){console['error'](_0x154d35(0x3c4),_0x463b53);}this['fileChunks'][_0x154d35(0x6f9)](_0x5816f7);}}class _0x534d8a extends _0x38c6ff{[_0x3cd514(0x780)];[_0x3cd514(0x4cb)];[_0x3cd514(0x4a6)]=new Map();[_0x3cd514(0x5f4)];constructor(_0x26055c,_0x3249e4,_0x2d75c1){const _0x13499b=_0x3cd514;if('string'!=typeof _0x3249e4)throw new _0x1e3976(_0x2089de[_0x13499b(0x246)],_0x13499b(0x719));super(_0x26055c,_0x3249e4),this[_0x13499b(0x780)]=_0x26055c,this[_0x13499b(0x4cb)]=_0x2d75c1,this['sendStats']();}['reset'](){const _0x58cbce=_0x3cd514;this[_0x58cbce(0x44e)]();}[_0x3cd514(0x321)](){const _0x46ce77=_0x3cd514;return _0x3cfea6[_0x46ce77(0x9b0)][_0x46ce77(0x242)];}['publish'](_0x536280,_0x1f2815){const _0x26072c=_0x3cd514;_0x61b339[_0x26072c(0x8b2)](_0x5ce311[_0x26072c(0x242)],_0x26072c(0x651),this['localNode'][_0x26072c(0x47f)](),_0x536280,_0x1f2815),_0x61b339[_0x26072c(0x72f)](_0x411645[_0x26072c(0x242)],{'type':'publish','label':this[_0x26072c(0x788)],'nodeId':this['localNode'][_0x26072c(0x47f)](),'nodeType':this[_0x26072c(0x780)][_0x26072c(0x3a7)],'clusterId':this['clusterId'],'remoteIds':_0x1f2815??[],'contentType':_0x536280 instanceof File?_0x3cfea6[_0x26072c(0x9b0)][_0x26072c(0x4b1)]:_0x3cfea6[_0x26072c(0x9b0)][_0x26072c(0x85d)],'size':_0x536280 instanceof File?_0x536280['size']:JSON['stringify'](_0x536280)[_0x26072c(0x4f4)]}),this[_0x26072c(0x44e)](),this[_0x26072c(0x13f)](_0x536280,_0x1f2815);}[_0x3cd514(0x5a5)](_0x3ece7c,_0x4c8340){const _0x3d78c1=_0x3cd514;if(this[_0x3d78c1(0x4a6)][_0x3d78c1(0x31e)](_0x3ece7c))throw new _0x1e3976(_0x2089de[_0x3d78c1(0x709)],_0x3d78c1(0x5db));this[_0x3d78c1(0x4a6)][_0x3d78c1(0x282)](_0x3ece7c,this['onMessage']((_0xcb9b52,_0x5bb3db)=>{const _0x589575=_0x3d78c1;_0x589575(0x66f)===_0x3ece7c&&_0x5bb3db instanceof File||!(_0x589575(0x625)!==_0x3ece7c||_0x5bb3db instanceof File)||(_0x61b339[_0x589575(0x8b2)](_0x5ce311[_0x589575(0x242)],_0x589575(0x7b4),this['localNode'][_0x589575(0x47f)](),_0xcb9b52,_0x5bb3db),_0x61b339[_0x589575(0x72f)](_0x411645[_0x589575(0x242)],{'type':'subscribe','label':this[_0x589575(0x788)],'nodeId':this[_0x589575(0x780)][_0x589575(0x47f)](),'nodeType':this[_0x589575(0x780)]['type'],'clusterId':this[_0x589575(0x4cb)],'remoteId':_0xcb9b52,'contentType':_0x3ece7c,'size':_0x5bb3db instanceof File?_0x5bb3db[_0x589575(0x3cb)]:JSON[_0x589575(0x178)](_0x5bb3db)[_0x589575(0x4f4)]}),this['sendStats'](),_0x4c8340(_0xcb9b52,_0x5bb3db));}));}[_0x3cd514(0x2cf)](_0x46cd62){const _0x421a18=_0x3cd514;this[_0x421a18(0x4a6)][_0x421a18(0x31f)](_0x46cd62)?.(),this['unsubscribeHandler'][_0x421a18(0x6f9)](_0x46cd62);}[_0x3cd514(0x616)](){const _0x4a747f=_0x3cd514;this[_0x4a747f(0x4a6)]['forEach'](_0x18574f=>_0x18574f()),clearTimeout(this['debounceStats']),delete this[_0x4a747f(0x5f4)],super[_0x4a747f(0x616)]();}[_0x3cd514(0x8aa)](){const _0x923f0e=_0x3cd514;this[_0x923f0e(0x917)]?.[_0x923f0e(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x923f0e(0x739)],'content':{'type':_0x32bee3[_0x923f0e(0x14c)],'label':this[_0x923f0e(0x788)]}});}[_0x3cd514(0x44e)](){const _0x2d3cc5=_0x3cd514;this['debounceStats']&&clearTimeout(this[_0x2d3cc5(0x5f4)]),this['debounceStats']=setTimeout(()=>{const _0x1f270a=_0x2d3cc5;this['systemTopic']?.[_0x1f270a(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x1f270a(0x739)],'content':{'type':_0x32bee3[_0x1f270a(0x334)],'label':this[_0x1f270a(0x788)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x1f270a(0x1a8)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x34d584);}}class _0x322b05 extends _0x1b8424{[_0x3cd514(0x780)];[_0x3cd514(0x693)];[_0x3cd514(0x975)];['clusterId'];[_0x3cd514(0x4a6)];[_0x3cd514(0x531)];[_0x3cd514(0x6c4)];[_0x3cd514(0x2ae)]=new Map();['renderElement'];['subscribedTracks']=new Set();['providerId'];[_0x3cd514(0x130)]=_0x214ef4();['trackEndedListeners']=new Map();constructor(_0x3d7b8a,_0x307046,_0x2e4da5,_0x244fda,_0x317591,_0x5e99ab){const _0x4e265f=_0x3cd514;super(_0x307046,_0x2e4da5,new MediaStream()),this[_0x4e265f(0x780)]=_0x3d7b8a,this[_0x4e265f(0x693)]=_0x244fda,this[_0x4e265f(0x975)]=_0x317591,this[_0x4e265f(0x4cb)]=_0x5e99ab,this[_0x4e265f(0x5f3)][_0x4e265f(0x3fe)]()['forEach'](_0x2f39ef=>this[_0x4e265f(0x29e)](_0x2f39ef));}[_0x3cd514(0x616)](){const _0x1682f5=_0x3cd514;this[_0x1682f5(0x2ae)][_0x1682f5(0x3cb)]>0x0&&(this[_0x1682f5(0x2ae)][_0x1682f5(0x753)](_0x4384dd=>{const _0x2aad29=_0x1682f5;_0x4384dd[_0x2aad29(0x7b7)](),_0x4384dd[_0x2aad29(0x616)]();}),this[_0x1682f5(0x2ae)]['clear']()),this[_0x1682f5(0x2f8)][_0x1682f5(0x753)](_0x1f3a16=>_0x1f3a16()),this['mediaStream']['getTracks']()['forEach'](_0x156f91=>this[_0x1682f5(0x5f3)][_0x1682f5(0x6a4)](_0x156f91)),this[_0x1682f5(0x6c4)]&&(clearTimeout(this['updateDebounce']),delete this['updateDebounce']),this[_0x1682f5(0x531)]?.(),super['destroy']();}[_0x3cd514(0x503)](_0x189463){const _0x3145e3=_0x3cd514;this['unsubscribeHandler']=_0x189463[_0x3145e3(0x5a5)](({content:_0x9bd95f})=>{const _0x5f4de4=_0x3145e3;switch(_0x9bd95f['action']){case _0x5e6dd6['RemoteAdd']:if(_0x61b339[_0x5f4de4(0x8b2)](_0x5ce311[_0x5f4de4(0x456)],_0x5f4de4(0xeb),this[_0x5f4de4(0x780)][_0x5f4de4(0x47f)](),this[_0x5f4de4(0x267)]),_0x9bd95f[_0x5f4de4(0x6a8)]['id']!==this[_0x5f4de4(0x693)]||_0x9bd95f['providerId']!==this['providerId'])return;this[_0x5f4de4(0x6a4)](_0x9bd95f[_0x5f4de4(0x8b4)][_0x5f4de4(0x7f4)]),this[_0x5f4de4(0x5f3)][_0x5f4de4(0x547)](_0x9bd95f[_0x5f4de4(0x8b4)]);for(const [_0x335b15,_0x5cb1e7]of this[_0x5f4de4(0x2ae)][_0x5f4de4(0x559)]())try{_0x5cb1e7['addTrack'](_0x9bd95f[_0x5f4de4(0x8b4)]);}catch(_0xa7ae0e){_0x5cb1e7[_0x5f4de4(0x616)](),this['outgoingStreams'][_0x5f4de4(0x6f9)](_0x335b15);}this[_0x5f4de4(0x29e)](_0x9bd95f[_0x5f4de4(0x8b4)]),this[_0x5f4de4(0x5b8)](),_0x5f4de4(0x41e)===_0x9bd95f[_0x5f4de4(0x8b4)][_0x5f4de4(0x7f4)]&&this[_0x5f4de4(0x263)]&&(this[_0x5f4de4(0x5f3)][_0x5f4de4(0x3bb)]?setTimeout(()=>this[_0x5f4de4(0x263)]?.['play'](),0x0):setTimeout(()=>this['renderElement']?.['load'](),0x0),this[_0x5f4de4(0x316)]());break;case _0x5e6dd6['RemoteRemove']:if(_0x9bd95f[_0x5f4de4(0x6a8)]['id']!==this[_0x5f4de4(0x693)]||_0x9bd95f[_0x5f4de4(0x267)]!==this['providerId'])return;this[_0x5f4de4(0x6a4)](_0x9bd95f[_0x5f4de4(0x8b4)][_0x5f4de4(0x7f4)]),this[_0x5f4de4(0x263)]&&_0x5f4de4(0x41e)===_0x9bd95f[_0x5f4de4(0x8b4)][_0x5f4de4(0x7f4)]&&(this['resizeHandler']?.(),this[_0x5f4de4(0x5f3)][_0x5f4de4(0x3fe)]()[_0x5f4de4(0x4f4)]>0x0?this[_0x5f4de4(0x263)][_0x5f4de4(0x1ef)]():this[_0x5f4de4(0x263)]['srcObject']=null);}});}[_0x3cd514(0x48c)](){const _0x4940c4=_0x3cd514;this[_0x4940c4(0x4a6)]?.(),this[_0x4940c4(0x2f8)][_0x4940c4(0x753)](_0x58c06e=>_0x58c06e()),delete this[_0x4940c4(0x4a6)];}[_0x3cd514(0x711)](){const _0x49c928=_0x3cd514;return this[_0x49c928(0x693)];}['setInternalId'](_0x5bbbe2){const _0x47fb88=_0x3cd514;this[_0x47fb88(0x693)]=_0x5bbbe2;}['getAvailableTrackKinds'](){return this['availableTrackKinds'];}[_0x3cd514(0x2a7)](_0x2007f4){const _0x4ebfee=_0x3cd514;for(const _0x5d3871 of _0x2007f4||this['availableTrackKinds'])if(!this[_0x4ebfee(0x5f3)][_0x4ebfee(0x3fe)]()['find'](_0x239986=>_0x239986['kind']===_0x5d3871))return!0x1;return!0x0;}[_0x3cd514(0x884)](){const _0x4c492a=_0x3cd514;let _0x156f36={'width':0x0,'height':0x0};const _0x323b7f=this[_0x4c492a(0x5f3)][_0x4c492a(0x600)]();if(_0x323b7f[_0x4c492a(0x4f4)]>0x0){const _0x1ea781=_0x323b7f[0x0][_0x4c492a(0x196)]();_0x1ea781[_0x4c492a(0x7e5)]&&_0x1ea781['height']&&(_0x156f36={'width':_0x1ea781['width'],'height':_0x1ea781[_0x4c492a(0x4f6)]});}return _0x156f36;}['isSubscribed'](_0x405f60){const _0x414e8b=_0x3cd514;for(const _0xa8c5aa of _0x405f60)if(!this[_0x414e8b(0x109)][_0x414e8b(0x31e)](_0xa8c5aa))return!0x1;return!0x0;}[_0x3cd514(0x9c0)](_0x353004,_0x178f77){const _0x422f46=_0x3cd514;if(!this[_0x422f46(0x2ae)][_0x422f46(0x31e)](_0x353004)){const _0x33760b=new _0x50aec0(this[_0x422f46(0x189)],this[_0x422f46(0x788)],this['mediaStream'],_0x353004,_0x178f77),_0x1051d7=_0x33760b['onUnregisterPublisher'](()=>{const _0x4cd212=_0x422f46;_0x1051d7(),this[_0x4cd212(0x2ae)][_0x4cd212(0x31f)](_0x353004)?.[_0x4cd212(0x616)](),this[_0x4cd212(0x2ae)][_0x4cd212(0x6f9)](_0x353004);});this[_0x422f46(0x2ae)]['set'](_0x353004,_0x33760b),_0x33760b['registerSystemPublisher'](this[_0x422f46(0x917)]);}return this['outgoingStreams'][_0x422f46(0x31f)](_0x353004);}[_0x3cd514(0x4e4)](){const _0x3fe228=_0x3cd514;return this[_0x3fe228(0x5f3)]['id'];}[_0x3cd514(0x1eb)](){const _0x118427=_0x3cd514;return _0x3cfea6['MediaStreamPriority'][_0x118427(0x99c)];}[_0x3cd514(0x832)](){const _0x558875=_0x3cd514;return Array[_0x558875(0x88a)](this['subscribedTracks']);}[_0x3cd514(0x5a5)](_0x2ab99f){const _0x388465=_0x3cd514;let _0x21d3c9=[];if(_0x2ab99f){_0x388465(0x7e0)!=typeof _0x2ab99f['video']||_0x2ab99f['video'][_0x388465(0x263)]instanceof HTMLVideoElement||!this[_0x388465(0x263)]||(_0x2ab99f[_0x388465(0x41e)]={'renderElement':this[_0x388465(0x263)]});try{(0x0,_0x3cfea6[_0x388465(0x99e)])(_0x2ab99f);}catch(_0x16c59c){throw new _0x1e3976(_0x2089de[_0x388465(0x536)],_0x388465(0x7f7));}_0x2ab99f[_0x388465(0x41e)]&&(_0x21d3c9[_0x388465(0x63b)](_0x388465(0x41e)),'boolean'!=typeof _0x2ab99f[_0x388465(0x41e)]&&_0x2ab99f[_0x388465(0x41e)][_0x388465(0x263)]&&(this[_0x388465(0x263)]=_0x2ab99f[_0x388465(0x41e)][_0x388465(0x263)],_0x2ab99f[_0x388465(0x41e)][_0x388465(0x238)]||(_0x2ab99f[_0x388465(0x41e)]['maxResolution']={'width':this[_0x388465(0x263)][_0x388465(0x475)],'height':this['renderElement']['clientHeight']}),delete _0x2ab99f[_0x388465(0x41e)][_0x388465(0x263)])),_0x2ab99f[_0x388465(0x6a7)]&&_0x21d3c9['push'](_0x388465(0x6a7));}else _0x21d3c9=this['getAvailableTrackKinds']();this[_0x388465(0x468)](_0x21d3c9)||(_0x21d3c9['forEach'](_0x3c6cb2=>this[_0x388465(0x109)]['add'](_0x3c6cb2)),this[_0x388465(0x917)][_0x388465(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x388465(0x739)],'content':{'type':_0x32bee3[_0x388465(0x2a2)],'label':this['label'],'ownerId':this[_0x388465(0x189)][_0x388465(0x47f)](),'trackKinds':_0x21d3c9,'params':_0x2ab99f}}),_0x61b339['logServiceEvent'](_0x411645['MediaStream'],{'type':_0x388465(0x5a5),'label':this[_0x388465(0x788)],'nodeId':this['localNode'][_0x388465(0x47f)](),'nodeType':this[_0x388465(0x780)][_0x388465(0x3a7)],'clusterId':this[_0x388465(0x4cb)],'sourceId':this[_0x388465(0x189)][_0x388465(0x47f)](),'streamId':this[_0x388465(0x693)],'trackKinds':_0x21d3c9}));}[_0x3cd514(0x23a)](_0x2321ae){const _0x2de2ed=_0x3cd514;try{(0x0,_0x3cfea6[_0x2de2ed(0x99e)])(_0x2321ae);}catch(_0x4b1c3f){throw new _0x1e3976(_0x2089de[_0x2de2ed(0x536)],_0x2de2ed(0x7f7));}this[_0x2de2ed(0x6c4)]&&clearTimeout(this[_0x2de2ed(0x6c4)]),this[_0x2de2ed(0x6c4)]=setTimeout(()=>{const _0x626036=_0x2de2ed;delete this[_0x626036(0x6c4)],this[_0x626036(0x917)]['publish']({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x626036(0x739)],'content':{'type':_0x32bee3['UpdateMediaStream'],'label':this[_0x626036(0x788)],'ownerId':this[_0x626036(0x189)][_0x626036(0x47f)](),'params':_0x2321ae}});},0x1f4);}[_0x3cd514(0x2cf)](_0x53c21e){const _0x4f809f=_0x3cd514;_0x53c21e||(_0x53c21e=this['getAvailableTrackKinds']()),(_0x53c21e=Array['isArray'](_0x53c21e)?_0x53c21e:[_0x53c21e])[_0x4f809f(0x753)](_0x417643=>this[_0x4f809f(0x109)][_0x4f809f(0x6f9)](_0x417643)),this[_0x4f809f(0x917)][_0x4f809f(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838['Content'],'content':{'type':_0x32bee3['UnsubscribeMediaStream'],'label':this['label'],'ownerId':this[_0x4f809f(0x189)][_0x4f809f(0x47f)](),'trackKinds':_0x53c21e,'remainingTracks':this[_0x4f809f(0x109)]['size']}});}[_0x3cd514(0x10f)](_0x5a1918){const _0x48069d=_0x3cd514;return this[_0x48069d(0x130)][_0x48069d(0x5a5)](_0x5a1918);}['getProviderId'](){const _0x1ec060=_0x3cd514;return this[_0x1ec060(0x267)];}[_0x3cd514(0x756)](_0x1f10da){const _0x40aa91=_0x3cd514;this[_0x40aa91(0x267)]!==_0x1f10da&&(this[_0x40aa91(0x267)]=_0x1f10da,this[_0x40aa91(0x130)][_0x40aa91(0x19e)](_0x1f10da));}[_0x3cd514(0x479)](_0x55ad32){const _0x28f51e=_0x3cd514;this['trackEndedListeners'][_0x28f51e(0x31f)](_0x55ad32)?.(),this[_0x28f51e(0x2f8)][_0x28f51e(0x6f9)](_0x55ad32);}[_0x3cd514(0x6a4)](_0x3e6a9a){const _0x28e6cf=_0x3cd514,_0x453b5a=this[_0x28e6cf(0x5f3)]['getTracks']()[_0x28e6cf(0x833)](_0x277be5=>_0x277be5[_0x28e6cf(0x7f4)]===_0x3e6a9a);_0x453b5a&&(this[_0x28e6cf(0x5f3)][_0x28e6cf(0x6a4)](_0x453b5a),this[_0x28e6cf(0x2ae)][_0x28e6cf(0x753)](_0xd1f908=>_0xd1f908['removeTrack'](_0x3e6a9a)),this['trackEndedListeners'][_0x28e6cf(0x31f)](_0x3e6a9a)?.());}['setupRenderElement'](){const _0x467c3a=_0x3cd514;this['renderElement']&&(this[_0x467c3a(0x263)][_0x467c3a(0x34e)]&&this[_0x467c3a(0x263)][_0x467c3a(0x34e)]===this[_0x467c3a(0x5f3)]||(this[_0x467c3a(0x263)][_0x467c3a(0x34e)]=this[_0x467c3a(0x5f3)]));}[_0x3cd514(0x316)](){const _0x5d4990=_0x3cd514;if(this[_0x5d4990(0x263)]&&!this[_0x5d4990(0x531)]&&_0x5d4990(0x622)!=typeof ResizeObserver){let _0x39287e=this[_0x5d4990(0x263)][_0x5d4990(0x475)],_0x542dbe=this[_0x5d4990(0x263)]['clientHeight'];const _0x575561=new ResizeObserver(_0x520cea=>{const _0xcad0dd=_0x5d4990,{width:_0x2f9f94,height:_0x13a612}=_0x520cea[0x0][_0xcad0dd(0x747)];_0x39287e===_0x2f9f94&&_0x542dbe===_0x13a612||(_0x39287e=Math['floor'](_0x2f9f94),_0x542dbe=Math[_0xcad0dd(0x7ff)](_0x13a612),this[_0xcad0dd(0x23a)]({'video':{'maxResolution':{'width':_0x2f9f94,'height':_0x13a612}}}));});_0x575561[_0x5d4990(0x5b2)](this[_0x5d4990(0x263)]),this[_0x5d4990(0x531)]=()=>_0x575561[_0x5d4990(0x879)]();}}['handleRemoteTrackFailure'](_0x2b73fe){const _0x39dd7a=_0x3cd514,_0x26ce67=[];for(const _0x5c531d of this[_0x39dd7a(0x109)])this[_0x39dd7a(0x6a4)](_0x5c531d),_0x26ce67[_0x39dd7a(0x63b)](_0x5c531d);this['providerId']&&this[_0x39dd7a(0x917)][_0x39dd7a(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x39dd7a(0x739)],'content':{'type':_0x32bee3['RemoteMediaStreamTrackFail'],'label':this[_0x39dd7a(0x788)],'streamId':this[_0x39dd7a(0x693)],'ownerId':this[_0x39dd7a(0x189)][_0x39dd7a(0x47f)](),'providerId':this[_0x39dd7a(0x267)],'trackKinds':_0x26ce67}});}[_0x3cd514(0x29e)](_0x25f382){const _0x606edd=_0x3cd514,_0x1dccbc=()=>this[_0x606edd(0x4a3)](_0x25f382);_0x25f382[_0x606edd(0x4c0)](_0x606edd(0x797),_0x1dccbc),_0x25f382['addEventListener'](_0x606edd(0x7e3),_0x1dccbc),this[_0x606edd(0x2f8)][_0x606edd(0x282)](_0x25f382[_0x606edd(0x7f4)],()=>{const _0xc1d190=_0x606edd;_0x25f382['removeEventListener'](_0xc1d190(0x797),_0x1dccbc),_0x25f382[_0xc1d190(0x538)](_0xc1d190(0x7e3),_0x1dccbc),this[_0xc1d190(0x2f8)][_0xc1d190(0x6f9)](_0x25f382[_0xc1d190(0x7f4)]);});}}class _0x30cf7b extends _0x38c6ff{[_0x3cd514(0x780)];[_0x3cd514(0x4cb)];[_0x3cd514(0x1a3)];['db'];[_0x3cd514(0x5f4)];['writes']=0x0;[_0x3cd514(0x5fd)]=0x0;[_0x3cd514(0x44a)]=!0x1;constructor(_0x1e7bba,_0x12da6c,_0x4e2d0b,_0x5e0f5f,_0x31df63){const _0x2cfba9=_0x3cd514;if(_0x2cfba9(0x1f2)!=typeof _0x12da6c)throw new _0x1e3976(_0x2089de[_0x2cfba9(0x54f)],'Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x1e7bba,_0x12da6c),this[_0x2cfba9(0x780)]=_0x1e7bba,this[_0x2cfba9(0x4cb)]=_0x4e2d0b,this[_0x2cfba9(0x1a3)]=_0x5e0f5f;const _0x258855=_0x2cfba9(0x3d7)+this[_0x2cfba9(0x1a3)]+_0x2cfba9(0x3d7)+this[_0x2cfba9(0x4cb)]+_0x2cfba9(0x3d7)+this['label'];this['db']=new _0x31df63(_0x258855),this[_0x2cfba9(0x44e)]();}[_0x3cd514(0xc4)](){const _0x321a4a=_0x3cd514;return this[_0x321a4a(0x44a)];}['setIsLoaded'](_0x3bdced){const _0x482afb=_0x3cd514;this[_0x482afb(0x44a)]=_0x3bdced;}[_0x3cd514(0x616)](){const _0x250e17=_0x3cd514;clearTimeout(this[_0x250e17(0x5f4)]),delete this[_0x250e17(0x5f4)],super[_0x250e17(0x616)]();}[_0x3cd514(0x8aa)](){const _0x542e71=_0x3cd514;this[_0x542e71(0x917)][_0x542e71(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x542e71(0x739)],'content':{'type':_0x32bee3[_0x542e71(0x744)],'label':this[_0x542e71(0x788)]}});}['reset'](){const _0x25e886=_0x3cd514;this[_0x25e886(0x44e)]();}['getContentType'](){const _0x1f194b=_0x3cd514;return _0x3cfea6[_0x1f194b(0x9b0)][_0x1f194b(0x24d)];}[_0x3cd514(0x2a5)](_0x4d59bf,_0x235bb4,_0x163e56,_0x28dd10){const _0x37b123=_0x3cd514,_0x225472=this['db'][_0x37b123(0x2a5)](_0x4d59bf,_0x235bb4,_0x163e56,_0x28dd10);return this['reads']+=0x1,_0x61b339[_0x37b123(0x72f)](_0x411645[_0x37b123(0x24d)],{'type':_0x37b123(0x2a5),'label':this[_0x37b123(0x788)],'nodeId':this[_0x37b123(0x780)]['getId'](),'nodeType':this['localNode'][_0x37b123(0x3a7)],'clusterId':this['clusterId'],'size':0x0}),this[_0x37b123(0x44e)](),_0x225472;}['insert'](_0x330a4b,_0x3d0166,_0x475afb,_0x2f22f6){const _0x15fba2=_0x3cd514;this['db'][_0x15fba2(0x280)](_0x330a4b,_0x3d0166,_0x475afb,_0x2f22f6),this[_0x15fba2(0xe0)]+=0x1,_0x61b339[_0x15fba2(0x72f)](_0x411645[_0x15fba2(0x24d)],{'type':_0x15fba2(0x280),'label':this['label'],'nodeId':this[_0x15fba2(0x780)][_0x15fba2(0x47f)](),'nodeType':this[_0x15fba2(0x780)][_0x15fba2(0x3a7)],'clusterId':this['clusterId'],'size':_0x2f22f6[_0x15fba2(0x256)]((_0x4a17d5,_0xafa4db)=>_0x4a17d5+_0xafa4db[_0x15fba2(0x4f4)],0x0)}),this[_0x15fba2(0x44e)]();}[_0x3cd514(0x3b3)](_0x24d242){const _0x17fd19=_0x3cd514;this['db'][_0x17fd19(0x3b3)](_0x24d242),this[_0x17fd19(0xe0)]+=0x1,_0x61b339[_0x17fd19(0x72f)](_0x411645[_0x17fd19(0x24d)],{'type':'remove','label':this[_0x17fd19(0x788)],'nodeId':this[_0x17fd19(0x780)][_0x17fd19(0x47f)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x17fd19(0x4cb)],'size':0x0}),this[_0x17fd19(0x44e)]();}[_0x3cd514(0x2aa)](_0x181725){const _0x23bbb1=_0x3cd514;this['db'][_0x23bbb1(0x2aa)](_0x181725);}[_0x3cd514(0x1c0)](_0x5e6478){const _0xcab8b2=_0x3cd514;this['db'][_0xcab8b2(0x1c0)](_0x5e6478);}['sendStats'](){const _0x355dfd=_0x3cd514;this[_0x355dfd(0x5f4)]&&clearTimeout(this[_0x355dfd(0x5f4)]),this[_0x355dfd(0x5f4)]=setTimeout(async()=>{const _0x5870e0=_0x355dfd;delete this[_0x5870e0(0x5f4)];const _0x5f38f2=this['db'][_0x5870e0(0x8c8)]()[_0x5870e0(0x81e)];this['systemTopic']['publish']({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x5870e0(0x739)],'content':{'type':_0x32bee3[_0x5870e0(0x922)],'label':this[_0x5870e0(0x788)],'stats':{'timestamp':Date[_0x5870e0(0x498)](),'storage':_0x5f38f2,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x5870e0(0x1a8)],'bytesSent':this[_0x5870e0(0x6cd)],'bytesReceived':this[_0x5870e0(0x728)],'writes':this[_0x5870e0(0xe0)],'reads':this[_0x5870e0(0x5fd)],'prompts':0x0,'tokens':0x0}}}),_0x61b339[_0x5870e0(0x40b)](_0x411645[_0x5870e0(0x24d)],_0x5870e0(0x3d7)+this[_0x5870e0(0x4cb)]+_0x5870e0(0x3d7)+this[_0x5870e0(0x788)],_0x5f38f2);},_0x34d584);}}class _0x598bc6{['id'];[_0x3cd514(0x10a)];[_0x3cd514(0x54a)];constructor(_0x51c7e7,_0x46ce42=new Set(),_0x165d87){const _0xdce2b6=_0x3cd514;this['id']=_0x51c7e7,this['remoteConnections']=_0x46ce42,this[_0xdce2b6(0x54a)]=_0x165d87;}['close'](){const _0x524ef0=_0x3cd514;this[_0x524ef0(0x54a)]=void 0x0,this[_0x524ef0(0x10a)][_0x524ef0(0x921)]();}['getId'](){return this['id'];}[_0x3cd514(0x94d)](){const _0xd25dd8=_0x3cd514;return this[_0xd25dd8(0x54a)];}['getRemoteConnections'](){const _0x2e47e7=_0x3cd514;return this[_0x2e47e7(0x10a)];}}class _0x52fa29 extends _0x598bc6{['id'];[_0x3cd514(0x6d3)];[_0x3cd514(0x91b)];[_0x3cd514(0x10a)];[_0x3cd514(0x54a)];[_0x3cd514(0x3a7)]=_0x3cfea6[_0x3cd514(0x2a9)][_0x3cd514(0x320)];constructor(_0x154f5b,_0x5da75f,_0x412816,_0x557ce9=new Set(),_0x56884a){const _0x51d778=_0x3cd514;super(_0x154f5b,_0x557ce9,_0x56884a),this['id']=_0x154f5b,this['displayName']=_0x5da75f,this[_0x51d778(0x91b)]=_0x412816,this[_0x51d778(0x10a)]=_0x557ce9,this[_0x51d778(0x54a)]=_0x56884a;}[_0x3cd514(0x172)](){return this['displayName'];}[_0x3cd514(0x640)](){return this['email'];}}class _0x1574b4{[_0x3cd514(0x1a3)];[_0x3cd514(0x4cb)];[_0x3cd514(0x378)];constructor(_0x451f7f,_0x9287ad){const _0x5e0498=_0x3cd514;this[_0x5e0498(0x1a3)]=_0x451f7f,this[_0x5e0498(0x4cb)]=_0x9287ad,this[_0x5e0498(0x378)]='ccc'+this[_0x5e0498(0x1a3)]+_0x5e0498(0x3d7)+this[_0x5e0498(0x4cb)];}async[_0x3cd514(0x561)](_0x1a7e2d,_0x15fa22){const _0xd6d264=_0x3cd514,_0x659ce=(0x0,_0x43a04d[_0xd6d264(0x208)])(_0x349b1d[_0xd6d264(0x65c)](),_0xd6d264(0x303)+this[_0xd6d264(0x378)]+_0xd6d264(0x254)+_0x15fa22+_0xd6d264(0x890)+_0x1a7e2d['id']),_0x3ace30=(0x0,_0x43a04d['onDisconnect'])(_0x659ce);_0x3ace30[_0xd6d264(0x3b3)](),_0x1a7e2d['parentId']||delete _0x1a7e2d[_0xd6d264(0x646)];try{await(0x0,_0x43a04d[_0xd6d264(0x282)])(_0x659ce,_0x1a7e2d);}catch(_0x11415e){throw await _0x3ace30[_0xd6d264(0x6b0)](),new _0xa369e8(_0xa369e8[_0xd6d264(0x98c)][_0xd6d264(0x677)]);}if(!0x1===(await(0x0,_0x43a04d[_0xd6d264(0x647)])((0x0,_0x43a04d['ref'])(_0x349b1d[_0xd6d264(0x65c)](),_0xd6d264(0x303)+this[_0xd6d264(0x378)]+_0xd6d264(0x254)+_0x15fa22+_0xd6d264(0x19c)),_0x1ae2b4=>_0x1ae2b4?_0x1ae2b4===_0x1a7e2d[_0xd6d264(0x646)]?_0x1a7e2d['id']:void 0x0:_0x1a7e2d[_0xd6d264(0x646)]?_0x1a7e2d[_0xd6d264(0x646)]:_0x1a7e2d['id']))[_0xd6d264(0x31b)])throw await(0x0,_0x43a04d[_0xd6d264(0x3b3)])(_0x659ce),await _0x3ace30[_0xd6d264(0x6b0)](),new _0xa369e8(_0xa369e8[_0xd6d264(0x98c)][_0xd6d264(0x792)]);await _0x3ace30['cancel']();}async[_0x3cd514(0x45f)](_0x397ea2,_0x5036ce){const _0x7c7dc0=_0x3cd514;let _0x5bcc1a=[];const _0xb27109=(0x0,_0x43a04d[_0x7c7dc0(0x208)])(_0x349b1d[_0x7c7dc0(0x65c)](),_0x7c7dc0(0x303)+this[_0x7c7dc0(0x378)]+_0x7c7dc0(0x254)+_0x397ea2+_0x7c7dc0(0x286));let _0x5d0e20=await(0x0,_0x43a04d[_0x7c7dc0(0x31f)])((0x0,_0x43a04d['query'])(_0xb27109,(0x0,_0x43a04d[_0x7c7dc0(0x758)])(0x65),(0x0,_0x43a04d[_0x7c7dc0(0x453)])()));if(!_0x5d0e20['exists']()){if(void 0x0!==_0x5036ce)throw new _0xa369e8(_0xa369e8[_0x7c7dc0(0x98c)]['ObjectStoreInvalidState']);return _0x5bcc1a;}const _0x3c512b=_0x5d0e20[_0x7c7dc0(0x3e1)]();for(;Object[_0x7c7dc0(0x298)](_0x5d0e20[_0x7c7dc0(0x3e1)]())[_0x7c7dc0(0x4f4)]>0x64;){const _0x4a4835=Object['keys'](_0x5d0e20[_0x7c7dc0(0x3e1)]()),_0x4ddd22=_0x4a4835[_0x4a4835[_0x7c7dc0(0x4f4)]-0x1];_0x5d0e20=await(0x0,_0x43a04d[_0x7c7dc0(0x31f)])((0x0,_0x43a04d['query'])(_0xb27109,(0x0,_0x43a04d[_0x7c7dc0(0x758)])(0x65),(0x0,_0x43a04d[_0x7c7dc0(0xd0)])(_0x4ddd22),(0x0,_0x43a04d[_0x7c7dc0(0x453)])())),Object['assign'](_0x3c512b,_0x5d0e20[_0x7c7dc0(0x3e1)]());}if(_0x5bcc1a=Object[_0x7c7dc0(0x699)](_0x3c512b)[_0x7c7dc0(0x4d1)](_0x4935d6=>'string'!=typeof _0x4935d6),0x0===_0x5bcc1a['length']&&void 0x0!==_0x5036ce)throw new _0xa369e8(_0xa369e8[_0x7c7dc0(0x98c)][_0x7c7dc0(0x6a9)]);if(_0x5bcc1a[_0x7c7dc0(0x4f4)]>0x0&&void 0x0!==_0x5036ce&&!_0x5bcc1a[_0x7c7dc0(0x833)](_0x47f954=>_0x47f954['id']===_0x5036ce))throw new _0xa369e8(_0xa369e8[_0x7c7dc0(0x98c)][_0x7c7dc0(0x6a9)]);const _0x55dcd0=[];let _0x4c1a20=_0x5bcc1a['find'](_0x133e7f=>_0x133e7f[_0x7c7dc0(0x646)]===_0x5036ce);for(;_0x4c1a20;)_0x55dcd0[_0x7c7dc0(0x63b)](_0x4c1a20),_0x4c1a20=_0x5bcc1a[_0x7c7dc0(0x833)](_0x9ac30a=>_0x9ac30a['parentId']===_0x4c1a20['id']);return _0x55dcd0;}}class _0x226ad9{[_0x3cd514(0x35d)];[_0x3cd514(0x9aa)];['searchApiKey'];['localMediaStreams']=new Map();[_0x3cd514(0x575)]=new Map();[_0x3cd514(0x552)]=new Map();['objectStores']=new Map();[_0x3cd514(0x33b)]=new Map();[_0x3cd514(0x947)]=new Map();[_0x3cd514(0x3c5)]=new Map();[_0x3cd514(0x324)]=new Map();['jobDispatchers']=new Map();[_0x3cd514(0x7ef)]=new Map();[_0x3cd514(0x6a3)];constructor(_0x24a52c,_0x23bb24,_0xf790ba){const _0x320db8=_0x3cd514;this[_0x320db8(0x35d)]=_0x24a52c,this[_0x320db8(0x9aa)]=_0x23bb24,this['searchApiKey']=_0xf790ba,this[_0x320db8(0x6a3)]=new _0x1574b4(this[_0x320db8(0x35d)]['vendorId'],this[_0x320db8(0x35d)]['clusterId']);}[_0x3cd514(0x8aa)](_0x3012f5=!0x1){const _0x3d28a1=_0x3cd514;this[_0x3d28a1(0x575)][_0x3d28a1(0x753)]((_0x1dfad6,_0x380f90)=>{const _0x169db9=_0x3d28a1;_0x1dfad6[_0x169db9(0x753)]((_0x98727e,_0x581dee)=>{const _0x27e202=_0x169db9;this[_0x27e202(0x116)](_0x380f90,_0x581dee);});}),_0x3012f5||(_0x1af456[_0x3d28a1(0x921)](),this[_0x3d28a1(0x43b)]['forEach']((_0x45bdf5,_0x18cdf5)=>{const _0x921041=_0x3d28a1;this[_0x921041(0x5a0)](_0x18cdf5);}),this[_0x3d28a1(0x552)][_0x3d28a1(0x753)]((_0x37346d,_0x41bce1)=>{this['removePubSubTopic'](_0x41bce1);}),this[_0x3d28a1(0x507)]['forEach']((_0x247570,_0x9376ed)=>{const _0x4ab3eb=_0x3d28a1;this[_0x4ab3eb(0x3d5)](_0x9376ed);}),this[_0x3d28a1(0x33b)][_0x3d28a1(0x753)]((_0x555379,_0x594357)=>{const _0x4d8835=_0x3d28a1;this[_0x4d8835(0x513)](_0x594357);}),this['keyValueDatabases']['forEach']((_0x1a6b8b,_0x4edaea)=>{const _0x47f131=_0x3d28a1;this[_0x47f131(0x558)](_0x4edaea);}),this[_0x3d28a1(0xc2)][_0x3d28a1(0x753)]((_0xd5b7ae,_0x288e36)=>{const _0x230aff=_0x3d28a1;this[_0x230aff(0x28a)](_0x288e36);}),this[_0x3d28a1(0x7ef)]['forEach']((_0x3fc23d,_0x1af2c6)=>{const _0x54b627=_0x3d28a1;this[_0x54b627(0x9a3)](_0x1af2c6);}),this[_0x3d28a1(0x3c5)][_0x3d28a1(0x753)]((_0x150302,_0x29fb26)=>{this['removeVectorDatabase'](_0x29fb26);}),this[_0x3d28a1(0x324)][_0x3d28a1(0x753)]((_0x389e19,_0x1ed7d7)=>{this['removeGraphDatabase'](_0x1ed7d7);}));}['createObjectStoreBucket'](_0x256703,_0x45d8ab){const _0x24f216=_0x3cd514;if(this[_0x24f216(0x507)][_0x24f216(0x31e)](_0x256703))throw new _0x1e3976(_0x2089de[_0x24f216(0x9c2)],_0x24f216(0x667));const _0x4a43df=new _0x37107b(this[_0x24f216(0x35d)][_0x24f216(0x780)],_0x256703,this['configs'][_0x24f216(0x4cb)],this[_0x24f216(0x35d)][_0x24f216(0x1a3)],this[_0x24f216(0x6a3)],_0x45d8ab,()=>this[_0x24f216(0x35d)][_0x24f216(0x2df)][_0x24f216(0x483)]());return this[_0x24f216(0x507)]['set'](_0x256703,_0x4a43df),this['configs']['mediator'][_0x24f216(0x9a9)](_0x4a43df),_0x4a43df;}['createExternalStorageConnection'](_0x37f4f3,_0xf45369){const _0x150352=_0x3cd514;if(this[_0x150352(0x507)][_0x150352(0x31e)](_0x37f4f3))throw new _0x1e3976(_0x2089de[_0x150352(0x447)],'Connection\x20already\x20exists');const _0x36ae59=new _0x42e59a(this['configs'][_0x150352(0x780)],_0x37f4f3,this[_0x150352(0x35d)][_0x150352(0x4cb)],this[_0x150352(0x35d)][_0x150352(0x1a3)],_0xf45369);return this[_0x150352(0x33b)]['set'](_0x37f4f3,_0x36ae59),this[_0x150352(0x35d)]['mediator'][_0x150352(0x9a9)](_0x36ae59),_0x36ae59;}async[_0x3cd514(0x262)](_0x18181a,_0x1109f9,_0x23ed9b){const _0x203c3d=_0x3cd514;if(this['keyValueDatabases'][_0x203c3d(0x31e)](_0x18181a))throw new _0x1e3976(_0x2089de['KeyValueDatabaseAlreadyExists'],_0x203c3d(0x32e));try{const _0x4fd455=this[_0x203c3d(0x35d)][_0x203c3d(0x2df)][_0x203c3d(0x36d)][_0x203c3d(0x4d0)](this[_0x203c3d(0x35d)][_0x203c3d(0x2df)]),_0xe55ca2=new _0x272315(this[_0x203c3d(0x35d)][_0x203c3d(0x780)],_0x18181a,this[_0x203c3d(0x35d)]['clusterId'],this[_0x203c3d(0x35d)]['vendorId'],_0x1109f9,_0x23ed9b,_0x4fd455);return this[_0x203c3d(0x947)][_0x203c3d(0x282)](_0x18181a,_0xe55ca2),this[_0x203c3d(0x35d)][_0x203c3d(0x2df)][_0x203c3d(0x9a9)](_0xe55ca2),_0xe55ca2;}catch(_0x43083a){if(_0x43083a instanceof _0x1e3976)throw _0x43083a;throw new _0xa369e8(_0xa369e8[_0x203c3d(0x98c)]['KeyValueDatabaseCreationFailed'],{'label':_0x18181a,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x203c3d(0x35d)]['vendorId']});}}async[_0x3cd514(0x9ae)](_0x15e8cc,_0x28f8e8){const _0x2d43e4=_0x3cd514;if(this['jobDispatchers'][_0x2d43e4(0x31e)](_0x15e8cc))throw new _0x1e3976(_0x2089de[_0x2d43e4(0x803)],_0x2d43e4(0x6c5));try{const _0x1387f0=new _0x3cc868(this[_0x2d43e4(0x35d)][_0x2d43e4(0x780)],_0x15e8cc,_0x28f8e8);return this['jobDispatchers'][_0x2d43e4(0x282)](_0x15e8cc,_0x1387f0),this['configs'][_0x2d43e4(0x2df)]['registerSystemSource'](_0x1387f0),_0x1387f0;}catch(_0x571dc0){if(_0x571dc0 instanceof _0x1e3976)throw _0x571dc0;throw new _0xa369e8(_0xa369e8['codes']['JobDispatcherCreationFailed'],{'label':_0x15e8cc,'clusterId':this[_0x2d43e4(0x35d)][_0x2d43e4(0x4cb)],'vendorId':this[_0x2d43e4(0x35d)][_0x2d43e4(0x1a3)]});}}async[_0x3cd514(0x556)](_0x6aaad2,_0x4e41d3){const _0x2728c0=_0x3cd514;if(this[_0x2728c0(0xc2)][_0x2728c0(0x31e)](_0x6aaad2))throw new _0x1e3976(_0x2089de[_0x2728c0(0x276)],_0x2728c0(0x1f3));if(this[_0x2728c0(0x7ef)]['has'](_0x6aaad2))throw new _0x1e3976(_0x2089de[_0x2728c0(0x2c7)],_0x2728c0(0x7a2));try{const _0x361378=new _0x1b3ef4(this[_0x2728c0(0x35d)][_0x2728c0(0x780)],_0x6aaad2,this[_0x2728c0(0x35d)][_0x2728c0(0x1a3)],_0x4e41d3);return this[_0x2728c0(0xc2)][_0x2728c0(0x282)](_0x6aaad2,_0x361378),this[_0x2728c0(0x35d)]['mediator'][_0x2728c0(0x9a9)](_0x361378),_0x361378;}catch(_0x223a52){if(_0x223a52 instanceof _0x1e3976)throw _0x223a52;throw new _0xa369e8(_0xa369e8[_0x2728c0(0x98c)]['GenerativeAIContextCreationFailed'],{'label':_0x6aaad2,'clusterId':this[_0x2728c0(0x35d)][_0x2728c0(0x4cb)],'vendorId':this['configs']['vendorId']});}}async['createGenerativeAIWorker'](_0xea6bcf,_0x16811b,_0x3b046a,_0x4f8e51,_0x2cd175,_0x407237){const _0x16deac=_0x3cd514;if(this[_0x16deac(0x7ef)][_0x16deac(0x31e)](_0xea6bcf))throw new _0x1e3976(_0x2089de[_0x16deac(0x6f0)],'AI\x20Worker\x20already\x20exists');if(this['jobDispatchers'][_0x16deac(0x31e)](_0xea6bcf))throw new _0x1e3976(_0x2089de[_0x16deac(0x2c7)],_0x16deac(0x7a2));try{const _0x4d4a7a=new _0x484f05(this[_0x16deac(0x35d)][_0x16deac(0x780)],_0xea6bcf,this[_0x16deac(0x35d)]['vendorId'],_0x16811b,this,_0x3b046a,_0x4f8e51,_0x2cd175,this[_0x16deac(0x1d3)],_0x407237);return this[_0x16deac(0x7ef)][_0x16deac(0x282)](_0xea6bcf,_0x4d4a7a),this['configs'][_0x16deac(0x2df)][_0x16deac(0x9a9)](_0x4d4a7a),_0x4d4a7a;}catch(_0x10fbbf){if(_0x10fbbf instanceof _0x1e3976)throw _0x10fbbf;throw new _0xa369e8(_0xa369e8[_0x16deac(0x98c)][_0x16deac(0x1e2)],{'label':_0xea6bcf,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x16deac(0x35d)]['vendorId']});}}[_0x3cd514(0x2e7)](_0x794708,_0x3becf1){const _0x570a4d=_0x3cd514;if(this[_0x570a4d(0x324)]['has'](_0x794708))throw new _0x1e3976(_0x2089de['GraphDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x51666c=new _0x1218ea(this['configs'][_0x570a4d(0x780)],_0x794708,this['configs'][_0x570a4d(0x4cb)],this[_0x570a4d(0x35d)]['vendorId'],_0x3becf1);return this[_0x570a4d(0x324)][_0x570a4d(0x282)](_0x794708,_0x51666c),this['configs'][_0x570a4d(0x2df)]['registerSystemSource'](_0x51666c),_0x51666c;}catch(_0x193211){if(_0x193211 instanceof _0x1e3976)throw _0x193211;throw new _0xa369e8(_0xa369e8[_0x570a4d(0x98c)][_0x570a4d(0xc3)],{'label':_0x794708,'clusterId':this[_0x570a4d(0x35d)][_0x570a4d(0x4cb)],'vendorId':this[_0x570a4d(0x35d)][_0x570a4d(0x1a3)]});}}[_0x3cd514(0x290)](_0x462fa2,_0x5e4731){const _0x1bae62=_0x3cd514;if(this[_0x1bae62(0x43b)][_0x1bae62(0x31e)](_0x462fa2))throw new _0x1e3976(_0x2089de[_0x1bae62(0x330)],_0x1bae62(0x78d));if(!this[_0x1bae62(0x9aa)][_0x1bae62(0x1ed)])throw new _0x1e3976(_0x2089de[_0x1bae62(0x87f)],_0x1bae62(0x348));const _0x4dca3e=new _0x53aec3(this['configs'][_0x1bae62(0x780)],_0x462fa2,_0x5e4731,this[_0x1bae62(0x9aa)]['maxFps'],this[_0x1bae62(0x9aa)][_0x1bae62(0x1ed)],this['configs']['clusterId']);return this[_0x1bae62(0x43b)][_0x1bae62(0x282)](_0x462fa2,_0x4dca3e),this['configs'][_0x1bae62(0x2df)][_0x1bae62(0x9a9)](_0x4dca3e),_0x4dca3e[_0x1bae62(0x19e)](),_0x4dca3e;}[_0x3cd514(0x84e)](_0x4ebea0,_0x4232c3){const _0x39c78b=_0x3cd514;if(this[_0x39c78b(0x43b)]['has'](_0x4ebea0))throw new _0x1e3976(_0x2089de['LocalMediaStreamAlreadyExists'],_0x39c78b(0x712));const _0x236b6d=new _0x3081b7(this[_0x39c78b(0x35d)][_0x39c78b(0x780)],_0x4ebea0,_0x4232c3,this['configs'][_0x39c78b(0x4cb)]);return this[_0x39c78b(0x43b)]['set'](_0x4ebea0,_0x236b6d),this[_0x39c78b(0x35d)]['mediator'][_0x39c78b(0x9a9)](_0x236b6d),_0x236b6d[_0x39c78b(0x19e)](),_0x236b6d;}['createPubSubTopic'](_0xe8b793){const _0x17b0e4=_0x3cd514;if(this[_0x17b0e4(0x552)]['has'](_0xe8b793))throw new _0x1e3976(_0x2089de[_0x17b0e4(0x91c)],'PubSub\x20already\x20exists');const _0x31bfda=new _0x534d8a(this[_0x17b0e4(0x35d)][_0x17b0e4(0x780)],_0xe8b793,this[_0x17b0e4(0x35d)][_0x17b0e4(0x4cb)]);return this[_0x17b0e4(0x552)]['set'](_0xe8b793,_0x31bfda),this[_0x17b0e4(0x35d)][_0x17b0e4(0x2df)][_0x17b0e4(0x9a9)](_0x31bfda),_0x31bfda;}[_0x3cd514(0x30d)](_0x1c7c88,_0x4d868e,_0x3a06b8,_0x5b2191){const _0x43fa1c=_0x3cd514;this['remoteMediaStreams'][_0x43fa1c(0x31e)](_0x1c7c88)||this[_0x43fa1c(0x575)][_0x43fa1c(0x282)](_0x1c7c88,new Map());const _0x3f930b=this['remoteMediaStreams']['get'](_0x1c7c88);if(_0x3f930b['has'](_0x4d868e))throw new _0x1e3976(_0x2089de['RemoteMediaStreamAlreadyExists'],'Remote\x20MediaStream\x20already\x20exists');const _0x46e895=new _0x52fa29(_0x1c7c88,'',''),_0x503ff3=new _0x322b05(this['configs']['localNode'],_0x46e895,_0x4d868e,_0x3a06b8,_0x5b2191,this['configs'][_0x43fa1c(0x4cb)]);return _0x3f930b[_0x43fa1c(0x282)](_0x4d868e,_0x503ff3),this[_0x43fa1c(0x35d)][_0x43fa1c(0x2df)][_0x43fa1c(0x9a9)](_0x503ff3),_0x503ff3;}[_0x3cd514(0x5af)](_0x57ec2d,_0x3c5d25){const _0x262690=_0x3cd514;if(this[_0x262690(0x3c5)][_0x262690(0x31e)](_0x57ec2d))throw new _0x1e3976(_0x2089de['VectorDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x25a407=new _0x30cf7b(this[_0x262690(0x35d)][_0x262690(0x780)],_0x57ec2d,this['configs']['clusterId'],this[_0x262690(0x35d)][_0x262690(0x1a3)],_0x3c5d25);return this[_0x262690(0x3c5)]['set'](_0x57ec2d,_0x25a407),this[_0x262690(0x35d)][_0x262690(0x2df)][_0x262690(0x9a9)](_0x25a407),_0x25a407;}catch(_0x5090fc){if(_0x5090fc instanceof _0x1e3976)throw _0x5090fc;throw new _0xa369e8(_0xa369e8[_0x262690(0x98c)]['VectorDatabaseCreationFailed'],{'label':_0x57ec2d,'clusterId':this[_0x262690(0x35d)][_0x262690(0x4cb)],'vendorId':this[_0x262690(0x35d)][_0x262690(0x1a3)]});}}['getObjectStoreBuckets'](_0x4216b8){const _0x289ca3=_0x3cd514,_0x4ae686=Array[_0x289ca3(0x88a)](this[_0x289ca3(0x507)][_0x289ca3(0x699)]());return _0x4216b8?_0x4ae686[_0x289ca3(0x4d1)](_0x4216b8):_0x4ae686;}['getExternalStorageConnections'](_0x1dd47a){const _0x40b705=_0x3cd514,_0x5b0a8b=Array['from'](this['externalStorageConnections']['values']());return _0x1dd47a?_0x5b0a8b[_0x40b705(0x4d1)](_0x1dd47a):_0x5b0a8b;}[_0x3cd514(0x19b)](_0x58b6df){const _0x1f5419=_0x3cd514,_0x496bd7=Array[_0x1f5419(0x88a)](this[_0x1f5419(0x947)][_0x1f5419(0x699)]());return _0x58b6df?_0x496bd7[_0x1f5419(0x4d1)](_0x58b6df):_0x496bd7;}[_0x3cd514(0x977)](_0x3665dc){const _0x4840c8=_0x3cd514,_0x1e85a5=Array[_0x4840c8(0x88a)](this[_0x4840c8(0xc2)][_0x4840c8(0x699)]());return _0x3665dc?_0x1e85a5[_0x4840c8(0x4d1)](_0x3665dc):_0x1e85a5;}[_0x3cd514(0x4fa)](_0x4310a1){const _0x1bdfc5=_0x3cd514,_0x16a5a9=Array['from'](this['jobWorkers'][_0x1bdfc5(0x699)]());return _0x4310a1?_0x16a5a9[_0x1bdfc5(0x4d1)](_0x4310a1):_0x16a5a9;}[_0x3cd514(0x3ed)](_0x598e6c){const _0x309ea5=_0x3cd514,_0xafdd31=Array['from'](this['jobDispatchers']['values']())[_0x309ea5(0x4d1)](_0x135e61=>_0x135e61 instanceof _0x1b3ef4);return _0x598e6c?_0xafdd31[_0x309ea5(0x4d1)](_0x598e6c):_0xafdd31;}[_0x3cd514(0x521)](_0x1b9856){const _0x5b571a=_0x3cd514,_0x535b7b=Array[_0x5b571a(0x88a)](this[_0x5b571a(0x7ef)]['values']())[_0x5b571a(0x4d1)](_0x1e0360=>_0x1e0360 instanceof _0x484f05);return _0x1b9856?_0x535b7b['filter'](_0x1b9856):_0x535b7b;}[_0x3cd514(0x461)](_0x4724a6){const _0x596782=_0x3cd514,_0x143a4c=Array['from'](this[_0x596782(0x324)][_0x596782(0x699)]());return _0x4724a6?_0x143a4c[_0x596782(0x4d1)](_0x4724a6):_0x143a4c;}[_0x3cd514(0x934)](_0x26bb2e){const _0x22224d=_0x3cd514,_0x2b3719=Array[_0x22224d(0x88a)](this[_0x22224d(0x43b)]['values']());return _0x26bb2e?_0x2b3719[_0x22224d(0x4d1)](_0x26bb2e):_0x2b3719;}[_0x3cd514(0x880)](_0x9f1bc6){const _0x271e95=_0x3cd514,_0x2ad625=Array[_0x271e95(0x88a)](this[_0x271e95(0x552)][_0x271e95(0x699)]());return _0x9f1bc6?_0x2ad625[_0x271e95(0x4d1)](_0x9f1bc6):_0x2ad625;}[_0x3cd514(0x6b2)](_0x378f4a){const _0x558fc4=_0x3cd514,_0x44052c=Array[_0x558fc4(0x88a)](this[_0x558fc4(0x575)][_0x558fc4(0x699)]())[_0x558fc4(0x256)]((_0x3ce15e,_0x4b3ecd)=>[..._0x3ce15e,...Array[_0x558fc4(0x88a)](_0x4b3ecd[_0x558fc4(0x699)]())],[]);return _0x378f4a?_0x44052c[_0x558fc4(0x4d1)](_0x378f4a):_0x44052c;}[_0x3cd514(0x45d)](_0x23e88c){const _0x548f32=_0x3cd514,_0x4b55f6=Array[_0x548f32(0x88a)](this['vectorDatabases'][_0x548f32(0x699)]());return _0x23e88c?_0x4b55f6[_0x548f32(0x4d1)](_0x23e88c):_0x4b55f6;}[_0x3cd514(0x25c)](_0x5b7730){const _0xa6a017=_0x3cd514,_0x144362=this['objectStores']['get'](_0x5b7730);if(!_0x144362)throw new _0x1e3976(_0x2089de[_0xa6a017(0xf0)],_0xa6a017(0x676));return _0x144362;}['getExternalStorageConnection'](_0x245ea0){const _0xcdadd4=_0x3cd514,_0x50c9c1=_0x245ea0[_0xcdadd4(0x4d3)]('-'),_0x2f7a65=this[_0xcdadd4(0x33b)]['get'](_0x50c9c1[0x1]);if(!_0x2f7a65)throw new _0x1e3976(_0x2089de[_0xcdadd4(0x9a7)],_0xcdadd4(0x8c0));return _0x2f7a65;}[_0x3cd514(0x5ad)](_0x41c381){const _0x5a6f21=_0x3cd514,_0x47b2c2=this[_0x5a6f21(0x324)]['get'](_0x41c381);if(!_0x47b2c2)throw new _0x1e3976(_0x2089de[_0x5a6f21(0x4cd)],_0x5a6f21(0x70b));return _0x47b2c2;}[_0x3cd514(0x5a2)](_0x155ca3){const _0x5a3206=_0x3cd514,_0x2783c9=this['keyValueDatabases'][_0x5a3206(0x31f)](_0x155ca3);if(!_0x2783c9)throw new _0x1e3976(_0x2089de[_0x5a3206(0x35a)],'KeyValueDatabase\x20not\x20found');return _0x2783c9;}[_0x3cd514(0x37f)](_0x2e6e3f){const _0x2d1fd0=_0x3cd514,_0x3ad657=this['pubSubTopics'][_0x2d1fd0(0x31f)](_0x2e6e3f);if(!_0x3ad657)throw new _0x1e3976(_0x2089de['PubSubTopicDoesNotExist'],'PubSubTopic\x20not\x20found');return _0x3ad657;}[_0x3cd514(0x72b)](_0x500fa9){const _0x37b82c=this['vectorDatabases']['get'](_0x500fa9);if(!_0x37b82c)throw new _0x1e3976(_0x2089de['VectorDatabaseDoesNotExist'],'VectorDatabase\x20not\x20found');return _0x37b82c;}[_0x3cd514(0x38b)](_0x2b3252){const _0x337f58=_0x3cd514;switch(_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x3a7)]){case _0x32bee3[_0x337f58(0x88d)]:this[_0x337f58(0x185)](_0x2b3252[_0x337f58(0x1cb)]);break;case _0x32bee3[_0x337f58(0x4dc)]:this[_0x337f58(0x74b)](_0x2b3252[_0x337f58(0x1cb)]);break;case _0x32bee3[_0x337f58(0xf1)]:this[_0x337f58(0x28a)](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)]);break;case _0x32bee3['CloseJobWorker']:this[_0x337f58(0x9a3)](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)]);break;case _0x32bee3[_0x337f58(0x391)]:this[_0x337f58(0x5a0)](_0x2b3252[_0x337f58(0x1cb)]['label']);break;case _0x32bee3['ClosePubSubTopic']:this['removePubSubTopic'](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)]);break;case _0x32bee3[_0x337f58(0x3ef)]:this['removeObjectStore'](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)]);break;case _0x32bee3[_0x337f58(0x416)]:this[_0x337f58(0x513)](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)]);break;case _0x32bee3[_0x337f58(0x990)]:this[_0x337f58(0x558)](_0x2b3252['content'][_0x337f58(0x788)]);break;case _0x32bee3[_0x337f58(0x744)]:this[_0x337f58(0x1c7)](_0x2b3252['content']['label']);break;case _0x32bee3[_0x337f58(0x171)]:this[_0x337f58(0x581)](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)]);break;case _0x32bee3[_0x337f58(0x295)]:this[_0x337f58(0x9bf)](_0x2b3252['content']);break;case _0x32bee3[_0x337f58(0x67a)]:this[_0x337f58(0x947)][_0x337f58(0x31f)](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)])?.['answerContentAvailable'](_0x2b3252['sourceId'],_0x2b3252[_0x337f58(0x1cb)]['mmrRoot']);break;case _0x32bee3['KeyValueDatabaseContentSynchronized']:this[_0x337f58(0x947)][_0x337f58(0x31f)](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)])?.['processContentSynchronized'](_0x2b3252[_0x337f58(0x118)],_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x466)]);break;case _0x32bee3['KeyValueDatabaseContentAvailable']:this[_0x337f58(0x947)]['get'](_0x2b3252['content']['label'])?.[_0x337f58(0x7d3)](_0x2b3252[_0x337f58(0x118)],_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x694)]);break;case _0x32bee3['KeyValueDatabaseRequestPeakTransactions']:this[_0x337f58(0x947)][_0x337f58(0x31f)](_0x2b3252['content'][_0x337f58(0x788)])?.[_0x337f58(0x358)](_0x2b3252['sourceId'],_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x398)]);break;case _0x32bee3[_0x337f58(0x73e)]:this['keyValueDatabases']['get'](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)])?.[_0x337f58(0x9ac)](_0x2b3252[_0x337f58(0x118)],_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0xbf)]);break;case _0x32bee3[_0x337f58(0x465)]:this[_0x337f58(0x947)][_0x337f58(0x31f)](_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)])?.[_0x337f58(0x5e4)](_0x2b3252['sourceId'],_0x2b3252[_0x337f58(0x1cb)]['transactions']);break;case _0x32bee3[_0x337f58(0x804)]:this[_0x337f58(0x35d)][_0x337f58(0x2df)]['notifyCluster'](_0x337f58(0x8e9),{'label':_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x788)],'trackKinds':_0x2b3252[_0x337f58(0x1cb)][_0x337f58(0x555)]});}}[_0x3cd514(0x530)]({content:_0x5261f5}){const _0x55c96d=_0x3cd514;switch(_0x5261f5['type']){case _0x3a3a6a['NodeJoin']:this[_0x55c96d(0x764)](_0x5261f5),this['notifyObjectStoreOfNodeJoin'](_0x5261f5);break;case _0x3a3a6a[_0x55c96d(0x3b5)]:this[_0x55c96d(0x98a)](_0x5261f5),this[_0x55c96d(0x841)](_0x5261f5);}}['handleSubscriptionSystemEvents'](_0x4e6ced){const _0x3f52e3=_0x3cd514;switch(_0x4e6ced[_0x3f52e3(0x1cb)][_0x3f52e3(0x3a7)]){case _0x387829[_0x3f52e3(0x2a2)]:this[_0x3f52e3(0x914)](_0x4e6ced[_0x3f52e3(0x118)],_0x4e6ced[_0x3f52e3(0x1cb)]);break;case _0x387829['UpdateMediaStream']:this[_0x3f52e3(0x1ad)](_0x4e6ced[_0x3f52e3(0x118)],_0x4e6ced[_0x3f52e3(0x1cb)]);break;case _0x387829[_0x3f52e3(0x295)]:this['handleUnsubscribeMediaStream'](_0x4e6ced[_0x3f52e3(0x118)],_0x4e6ced[_0x3f52e3(0x1cb)]);}}['handleContentUnsubscribeMediaStream'](_0x276f58){const _0x2967db=_0x3cd514;if(0x0===_0x276f58[_0x2967db(0xc5)])this['remoteMediaStreams'][_0x2967db(0x31f)](_0x276f58[_0x2967db(0x961)])?.['get'](_0x276f58[_0x2967db(0x788)])?.[_0x2967db(0x616)]();else{const _0x759743=this[_0x2967db(0x575)][_0x2967db(0x31f)](_0x276f58[_0x2967db(0x961)])?.[_0x2967db(0x31f)](_0x276f58['label']);if(!_0x759743)return;_0x276f58[_0x2967db(0x555)]['forEach'](_0x2653a=>_0x759743[_0x2967db(0x479)](_0x2653a));}}['handlePublishMediaStream'](_0x2bee3d){const _0x41e151=_0x3cd514,{label:_0x33038e,ownerId:_0x59985e,stream:{streamId:_0x2bae1a,availableTrackKinds:_0x3c62a4}}=_0x2bee3d;if(this['remoteMediaStreams']['get'](_0x59985e)?.['has'](_0x33038e))return void _0x61b339[_0x41e151(0x8b2)](_0x5ce311[_0x41e151(0x739)],_0x41e151(0x712),_0x2bae1a);const _0x56132a=this['createRemoteMediaStream'](_0x59985e,_0x33038e,_0x2bae1a,_0x3c62a4);this[_0x41e151(0x35d)]['mediator'][_0x41e151(0x2d8)](_0x41e151(0x3f9),{'ownerId':_0x59985e,'stream':_0x56132a});}[_0x3cd514(0x74b)]({ownerId:_0x4fd97a,label:_0x5e4fcd}){const _0x4d8ffc=_0x3cd514;this[_0x4d8ffc(0x116)](_0x4fd97a,_0x5e4fcd),this[_0x4d8ffc(0x35d)][_0x4d8ffc(0x2df)][_0x4d8ffc(0x2d8)]('content-unpublish-media',{'ownerId':_0x4fd97a,'label':_0x5e4fcd});}[_0x3cd514(0x914)](_0x3ca7eb,_0x29375a){const _0x5169a7=_0x3cd514,{ownerId:_0x11cde3,label:_0x574536}=_0x29375a;let _0x54ec4a;_0x54ec4a=_0x11cde3!==this[_0x5169a7(0x35d)]['localNode'][_0x5169a7(0x47f)]()?this[_0x5169a7(0x575)][_0x5169a7(0x31f)](_0x11cde3)[_0x5169a7(0x31f)](_0x574536):this[_0x5169a7(0x43b)]['get'](_0x574536),_0x54ec4a[_0x5169a7(0x9c0)](_0x3ca7eb,_0x29375a['params'])[_0x5169a7(0x5a5)](_0x29375a,_0x54ec4a['getPriority']());}['handleUpdateMediaStream'](_0x10da45,_0x5a232e){const _0x4b6c3c=_0x3cd514,{ownerId:_0x1c0403,label:_0x21b0b5}=_0x5a232e;let _0xfe9185;_0xfe9185=_0x1c0403!==this[_0x4b6c3c(0x35d)][_0x4b6c3c(0x780)][_0x4b6c3c(0x47f)]()?this[_0x4b6c3c(0x575)][_0x4b6c3c(0x31f)](_0x1c0403)[_0x4b6c3c(0x31f)](_0x21b0b5):this[_0x4b6c3c(0x43b)][_0x4b6c3c(0x31f)](_0x21b0b5),_0xfe9185[_0x4b6c3c(0x9c0)](_0x10da45,_0x5a232e['params'])['update'](_0x5a232e);}['handleUnsubscribeMediaStream'](_0x157184,_0x30c52d){const _0x18308f=_0x3cd514,{ownerId:_0x48f665,label:_0x4e834d}=_0x30c52d;let _0xcd64e2;_0xcd64e2=_0x48f665!==this[_0x18308f(0x35d)]['localNode'][_0x18308f(0x47f)]()?this[_0x18308f(0x575)][_0x18308f(0x31f)](_0x48f665)['get'](_0x4e834d):this[_0x18308f(0x43b)][_0x18308f(0x31f)](_0x4e834d),_0xcd64e2[_0x18308f(0x9c0)](_0x157184)[_0x18308f(0x2cf)](_0x30c52d);}[_0x3cd514(0x764)]({id:_0x57e07e}){const _0x16506f=_0x3cd514;this[_0x16506f(0x934)]()['forEach'](_0x552992=>{const _0x27b23d=_0x16506f;_0x552992[_0x27b23d(0x19e)](_0x57e07e);});}[_0x3cd514(0x98a)]({id:_0x2596fb}){const _0x5f4de7=_0x3cd514;this['getRemoteMediaStreams'](_0x4ac3f0=>_0x4ac3f0[_0x5f4de7(0x781)]()===_0x2596fb)[_0x5f4de7(0x753)](_0x3c751a=>{const _0x2adc70=_0x5f4de7;this[_0x2adc70(0x116)](_0x3c751a['getOwnerId'](),_0x3c751a[_0x2adc70(0x24e)]());});}[_0x3cd514(0x30f)]({id:_0x5269ad}){const _0x586391=_0x3cd514;this['objectStores'][_0x586391(0x753)](_0xc245b3=>_0xc245b3[_0x586391(0x522)](_0x5269ad));}[_0x3cd514(0x841)]({id:_0x51f63d}){const _0x9f18b8=_0x3cd514;this[_0x9f18b8(0x507)][_0x9f18b8(0x753)](_0x598123=>_0x598123[_0x9f18b8(0x98a)](_0x51f63d));}['removeJobDispatcher'](_0x5c1c85){const _0x1c6253=_0x3cd514;if(!this['jobDispatchers'][_0x1c6253(0x31e)](_0x5c1c85))throw new _0x1e3976(_0x2089de[_0x1c6253(0x737)],_0x1c6253(0x537));const _0x3d6705=this['jobDispatchers']['get'](_0x5c1c85);this['jobDispatchers'][_0x1c6253(0x6f9)](_0x5c1c85),_0x3d6705[_0x1c6253(0x616)](),this[_0x1c6253(0x35d)][_0x1c6253(0x2df)][_0x1c6253(0x9c1)](_0x3d6705);}[_0x3cd514(0x9a3)](_0x21dcc9){const _0x53b14d=_0x3cd514;if(!this[_0x53b14d(0x7ef)][_0x53b14d(0x31e)](_0x21dcc9))throw new _0x1e3976(_0x2089de[_0x53b14d(0x2e3)],_0x53b14d(0x6e6));const _0x3e3d47=this['jobWorkers'][_0x53b14d(0x31f)](_0x21dcc9);this['jobWorkers']['delete'](_0x21dcc9),_0x3e3d47[_0x53b14d(0x616)](),this[_0x53b14d(0x35d)][_0x53b14d(0x2df)][_0x53b14d(0x9c1)](_0x3e3d47);}[_0x3cd514(0x3d5)](_0x1f4d66){const _0xfd0847=_0x3cd514;if(!this['objectStores'][_0xfd0847(0x31e)](_0x1f4d66))throw new _0x1e3976(_0x2089de[_0xfd0847(0xf0)],_0xfd0847(0x69f));const _0x253ebe=this[_0xfd0847(0x507)][_0xfd0847(0x31f)](_0x1f4d66);this[_0xfd0847(0x507)][_0xfd0847(0x6f9)](_0x1f4d66),_0x253ebe[_0xfd0847(0x616)](),this[_0xfd0847(0x35d)][_0xfd0847(0x2df)]['unregisterSystemSource'](_0x253ebe);}[_0x3cd514(0x513)](_0x4fc5fd){const _0xba3116=_0x3cd514;if(!this['externalStorageConnections'][_0xba3116(0x31e)](_0x4fc5fd))throw new _0x1e3976(_0x2089de[_0xba3116(0x9a7)],_0xba3116(0x23e));const _0x32222c=this[_0xba3116(0x33b)][_0xba3116(0x31f)](_0x4fc5fd);this[_0xba3116(0x33b)][_0xba3116(0x6f9)](_0x4fc5fd),_0x32222c[_0xba3116(0x616)](),this['configs'][_0xba3116(0x2df)][_0xba3116(0x9c1)](_0x32222c);}['removePubSubTopic'](_0x59e28e){const _0x1557d2=_0x3cd514;if(!this['pubSubTopics']['has'](_0x59e28e))throw new _0x1e3976(_0x2089de[_0x1557d2(0x3f4)],'Stream\x20does\x20not\x20exist');const _0x319561=this[_0x1557d2(0x552)][_0x1557d2(0x31f)](_0x59e28e);this[_0x1557d2(0x552)][_0x1557d2(0x6f9)](_0x59e28e),_0x319561[_0x1557d2(0x616)](),this[_0x1557d2(0x35d)][_0x1557d2(0x2df)]['unregisterSystemSource'](_0x319561);}['removeKeyValueDatabase'](_0x57167d){const _0x26f45b=_0x3cd514;if(!this['keyValueDatabases'][_0x26f45b(0x31e)](_0x57167d))throw new _0x1e3976(_0x2089de[_0x26f45b(0x35a)],_0x26f45b(0x5b7));const _0x367b07=this['keyValueDatabases'][_0x26f45b(0x31f)](_0x57167d);this[_0x26f45b(0x947)]['delete'](_0x57167d),_0x367b07['destroy'](),this[_0x26f45b(0x35d)]['mediator']['unregisterSystemSource'](_0x367b07);}[_0x3cd514(0x1c7)](_0x58a9d7){const _0x47f7bc=_0x3cd514;if(!this[_0x47f7bc(0x3c5)][_0x47f7bc(0x31e)](_0x58a9d7))throw new _0x1e3976(_0x2089de[_0x47f7bc(0x157)],_0x47f7bc(0x5b7));const _0x41f50e=this[_0x47f7bc(0x3c5)][_0x47f7bc(0x31f)](_0x58a9d7);this[_0x47f7bc(0x3c5)]['delete'](_0x58a9d7),_0x41f50e['destroy'](),this[_0x47f7bc(0x35d)]['mediator']['unregisterSystemSource'](_0x41f50e);}['removeGraphDatabase'](_0x117156){const _0x5c3311=_0x3cd514;if(!this['graphDatabases'][_0x5c3311(0x31e)](_0x117156))throw new _0x1e3976(_0x2089de['GraphDatabaseDoesNotExist'],_0x5c3311(0x5b7));const _0x1f0e1f=this['graphDatabases'][_0x5c3311(0x31f)](_0x117156);this[_0x5c3311(0x324)][_0x5c3311(0x6f9)](_0x117156),_0x1f0e1f[_0x5c3311(0x616)](),this[_0x5c3311(0x35d)]['mediator'][_0x5c3311(0x9c1)](_0x1f0e1f);}[_0x3cd514(0x5a0)](_0x4528f6){const _0x382b7d=_0x3cd514;if(!this['localMediaStreams'][_0x382b7d(0x31e)](_0x4528f6))throw new _0xa369e8(_0xa369e8[_0x382b7d(0x98c)]['LocalMediaStreamDoesNotExist'],{'label':_0x4528f6,'localId':this[_0x382b7d(0x35d)][_0x382b7d(0x780)][_0x382b7d(0x47f)]()});const _0x15acf0=this['localMediaStreams'][_0x382b7d(0x31f)](_0x4528f6);this[_0x382b7d(0x35d)]['mediator'][_0x382b7d(0x9c1)](_0x15acf0),_0x15acf0[_0x382b7d(0x616)](),this[_0x382b7d(0x43b)][_0x382b7d(0x6f9)](_0x4528f6);}['removeRemoteMediaStream'](_0xabc61a,_0x3685a1){const _0xe5ed01=_0x3cd514;if(!this[_0xe5ed01(0x575)][_0xe5ed01(0x31e)](_0xabc61a))throw new _0xa369e8(_0xa369e8[_0xe5ed01(0x98c)][_0xe5ed01(0x8ae)],{'nodeId':_0xabc61a,'localId':this[_0xe5ed01(0x35d)]['localNode'][_0xe5ed01(0x47f)]()});const _0x496c5e=this[_0xe5ed01(0x575)]['get'](_0xabc61a);if(!_0x496c5e[_0xe5ed01(0x31e)](_0x3685a1))throw new _0xa369e8(_0xa369e8[_0xe5ed01(0x98c)]['RemoteMediaStreamDoesNotExist'],{'nodeId':_0xabc61a,'label':_0x3685a1,'localId':this['configs'][_0xe5ed01(0x780)][_0xe5ed01(0x47f)]()});const _0x202e5a=_0x496c5e['get'](_0x3685a1);this['configs']['mediator'][_0xe5ed01(0x9c1)](_0x202e5a),_0x202e5a[_0xe5ed01(0x616)](),_0x496c5e[_0xe5ed01(0x6f9)](_0x3685a1);}}var _0x4a5dc0,_0x3378a4,_0x4f1a14;!function(_0x18a27e){const _0x40745f=_0x3cd514;_0x18a27e['STVolatility']=_0x40745f(0x17f),_0x18a27e['DTVolatility']=_0x40745f(0x886),_0x18a27e['TimePerFrame']=_0x40745f(0x80f),_0x18a27e[_0x40745f(0x12d)]=_0x40745f(0x7c1),_0x18a27e[_0x40745f(0x831)]=_0x40745f(0x486),_0x18a27e[_0x40745f(0x489)]=_0x40745f(0x3d6),_0x18a27e['RoundTripTime']=_0x40745f(0x190),_0x18a27e['AudioVideoDelay']=_0x40745f(0x83d);}(_0x4a5dc0||(_0x4a5dc0={})),function(_0x26e896){const _0x1ea422=_0x3cd514;_0x26e896[_0x1ea422(0x79b)]=_0x1ea422(0x36c),_0x26e896['TimePerFrame']=_0x1ea422(0x79d),_0x26e896['AudioVideoDelay']=_0x1ea422(0x5ba),_0x26e896[_0x1ea422(0x489)]='cpu.fps',_0x26e896[_0x1ea422(0x12d)]='bandwidth.bitrate',_0x26e896[_0x1ea422(0x831)]=_0x1ea422(0x3ce),_0x26e896[_0x1ea422(0x7c5)]=_0x1ea422(0x99a);}(_0x3378a4||(_0x3378a4={})),function(_0x3f244b){const _0x1cf07c=_0x3cd514;_0x3f244b[_0x3f244b[_0x1cf07c(0x819)]=0x0]=_0x1cf07c(0x819);}(_0x4f1a14||(_0x4f1a14={}));const _0x4b97b2=[{'type':_0x4a5dc0['STVolatility'],'reportMetric':_0x39aae8=>_0x39aae8['STVolatility'],'maxThreshold':2.5},{'type':_0x4a5dc0[_0x3cd514(0x95d)],'reportMetric':_0x5a8451=>_0x5a8451[_0x3cd514(0x95d)],'maxThreshold':0.5}],_0x1f7dfa=[{'type':_0x4a5dc0[_0x3cd514(0x2ef)],'reportMetric':_0x17d997=>{const _0x2476f4=_0x3cd514,_0x3deff7=0x3e8/_0x17d997[_0x2476f4(0x604)];return _0x17d997[_0x2476f4(0x119)]/_0x3deff7;},'maxThreshold':0.75},{'type':_0x4a5dc0[_0x3cd514(0x12d)],'reportMetric':_0x3c8d0e=>{const _0xf23a8a=_0x3cd514,_0x3ffe61=_0x3c8d0e[_0xf23a8a(0x604)]*_0x3c8d0e[_0xf23a8a(0x759)]*_0x3c8d0e[_0xf23a8a(0x74f)]*0.12;return _0x3c8d0e[_0xf23a8a(0x7c1)]/_0x3ffe61;},'minThreshold':0.25},{'type':_0x4a5dc0[_0x3cd514(0x831)],'reportMetric':_0x10ee08=>_0x10ee08[_0x3cd514(0x486)],'maxThreshold':0.6},{'type':_0x4a5dc0[_0x3cd514(0x489)],'reportMetric':_0x2e05f3=>_0x2e05f3[_0x3cd514(0x604)],'minThreshold':0xa}],_0x5d50e9=[{'type':_0x4a5dc0[_0x3cd514(0x831)],'reportMetric':_0x54b00f=>_0x54b00f[_0x3cd514(0x486)],'maxThreshold':0.6}],_0x246aac=[{'type':_0x4a5dc0['RoundTripTime'],'reportMetric':_0x5e2914=>_0x5e2914['roundTripTime'],'maxThreshold':0x1/0x0}],_0x1763b3=[{'type':_0x4a5dc0[_0x3cd514(0x3e9)],'reportMetric':_0x54aee8=>_0x54aee8[_0x3cd514(0x3e9)],'maxThreshold':0x12c}],_0x175449=[{'type':_0x3378a4[_0x3cd514(0x79b)],'issues':[{'type':_0x4a5dc0[_0x3cd514(0x4ca)],'threshold':0x5},{'type':_0x4a5dc0['DTVolatility'],'threshold':0x5}]},{'type':_0x3378a4[_0x3cd514(0x2ef)],'issues':[{'type':_0x4a5dc0[_0x3cd514(0x2ef)],'threshold':0x3}]},{'type':_0x3378a4[_0x3cd514(0x3e9)],'issues':[{'type':_0x4a5dc0[_0x3cd514(0x3e9)],'threshold':0x2}]},{'type':_0x3378a4[_0x3cd514(0x489)],'issues':[{'type':_0x4a5dc0[_0x3cd514(0x489)],'threshold':0x3}]},{'type':_0x3378a4[_0x3cd514(0x12d)],'issues':[{'type':_0x4a5dc0[_0x3cd514(0x12d)],'threshold':0x3}]},{'type':_0x3378a4[_0x3cd514(0x831)],'issues':[{'type':_0x4a5dc0[_0x3cd514(0x831)],'threshold':0x3}]},{'type':_0x3378a4[_0x3cd514(0x7c5)],'issues':[{'type':_0x4a5dc0[_0x3cd514(0x7c5)],'threshold':0x3}]}];var _0x470a03,_0x425af1;!function(_0xfc62b0){const _0x45f83d=_0x3cd514;_0xfc62b0[_0xfc62b0[_0x45f83d(0x7a1)]=0x0]=_0x45f83d(0x7a1),_0xfc62b0[_0xfc62b0[_0x45f83d(0x16d)]=0x1]=_0x45f83d(0x16d);}(_0x470a03||(_0x470a03={}));class _0x1d0000{[_0x3cd514(0x35d)];[_0x3cd514(0x7e9)]=[];['systemTopic'];constructor(_0x2e0886){const _0x3b43fc=_0x3cd514;this[_0x3b43fc(0x35d)]=_0x2e0886,this['configs']['mediator'][_0x3b43fc(0x9a9)](this);}[_0x3cd514(0x340)](_0x5b8b48){const _0x20bd98=_0x3cd514;this[_0x20bd98(0x917)]=_0x5b8b48;}[_0x3cd514(0x7b7)](){const _0x481ad0=_0x3cd514;this[_0x481ad0(0x917)]=void 0x0;}[_0x3cd514(0x8aa)](){const _0xd10632=_0x3cd514;this[_0xd10632(0x35d)][_0xd10632(0x2df)]['unregisterSystemSource'](this),this[_0xd10632(0x7e9)]=[];}['handleStatsSystemEvents'](_0x51468e){const _0x1787c8=_0x3cd514;switch(_0x51468e[_0x1787c8(0x1cb)][_0x1787c8(0x3a7)]){case _0x470a03[_0x1787c8(0x16d)]:this[_0x1787c8(0x543)](_0x51468e[_0x1787c8(0x1cb)]['data']);break;case _0x470a03['StreamReport']:this[_0x1787c8(0x5fb)](_0x51468e[_0x1787c8(0x1cb)]['data']);}}['detectProblems'](_0x587b2a,_0x1c6bff,_0x4d88b2,_0x98b118){const _0x497b06=_0x3cd514,_0x525474=_0x175449[_0x497b06(0x833)](_0x24ee38=>_0x24ee38['issues'][_0x497b06(0x8a1)](_0x38ef5c=>_0x38ef5c[_0x497b06(0x3a7)]===_0x587b2a));_0x98b118>=_0x525474['issues'][_0x497b06(0x833)](_0x2ac54b=>_0x2ac54b[_0x497b06(0x3a7)]===_0x587b2a)[_0x497b06(0x22a)]&&(this[_0x497b06(0x219)](_0x525474[_0x497b06(0x3a7)],_0x1c6bff,_0x4d88b2),this[_0x497b06(0x7e9)]=this[_0x497b06(0x7e9)]['filter'](_0x1a54f3=>!(_0x1a54f3[_0x497b06(0x3a7)]===_0x587b2a&&_0x1a54f3['nodeId']===_0x1c6bff&&_0x1a54f3['origin']===_0x4d88b2)));}[_0x3cd514(0x543)](_0xb93dae){const _0x35de56=_0x3cd514;_0x4b97b2[_0x35de56(0x753)](_0x527997=>{const _0x551ed7=_0x35de56,_0x4d841c=_0x527997[_0x551ed7(0x652)](_0xb93dae);_0x527997[_0x551ed7(0x82e)]&&_0x4d841c>_0x527997[_0x551ed7(0x82e)]&&this[_0x551ed7(0x2ca)](_0x527997[_0x551ed7(0x3a7)],this['configs']['localNode'][_0x551ed7(0x47f)](),_0x5a23be[_0x551ed7(0x1c6)],_0x4d841c),_0x527997[_0x551ed7(0x757)]&&_0x4d841c<_0x527997[_0x551ed7(0x757)]&&this[_0x551ed7(0x2ca)](_0x527997[_0x551ed7(0x3a7)],this[_0x551ed7(0x35d)][_0x551ed7(0x780)]['getId'](),_0x5a23be['Sender'],_0x4d841c);});}[_0x3cd514(0x5fb)](_0x351ff6){const _0x145828=_0x3cd514;let _0x20087d=[];switch(_0x351ff6[_0x145828(0x3ac)]){case _0x5a23be[_0x145828(0x1c6)]:_0x20087d=_0x246aac;break;case _0x5a23be['Receiver']:_0x20087d=_0x1763b3;}_0x351ff6[_0x145828(0x41e)]&&this['detectVideoIssues'](_0x351ff6[_0x145828(0x24b)],_0x5a23be[_0x145828(0x1c6)],_0x351ff6[_0x145828(0x41e)]),_0x351ff6[_0x145828(0x6a7)]&&this['detectAudioIssues'](_0x351ff6[_0x145828(0x24b)],_0x5a23be[_0x145828(0x1c6)],_0x351ff6['audio']),_0x20087d[_0x145828(0x753)](_0x1c2583=>{const _0xfaf342=_0x145828,_0x246940=_0x1c2583[_0xfaf342(0x652)](_0x351ff6);_0x1c2583[_0xfaf342(0x82e)]&&_0x246940>_0x1c2583[_0xfaf342(0x82e)]&&this[_0xfaf342(0x2ca)](_0x1c2583[_0xfaf342(0x3a7)],_0x351ff6['nodeId'],_0x5a23be[_0xfaf342(0x1c6)],_0x246940),_0x1c2583['minThreshold']&&_0x246940<_0x1c2583[_0xfaf342(0x757)]&&this['addIssue'](_0x1c2583[_0xfaf342(0x3a7)],_0x351ff6[_0xfaf342(0x24b)],_0x5a23be['Sender'],_0x246940);});}['detectVideoIssues'](_0x12b26e,_0x500777,_0x3af78b){const _0x2be725=_0x3cd514;0x0!==_0x3af78b[_0x2be725(0x7c1)]&&_0x1f7dfa[_0x2be725(0x753)](_0x5f497f=>{const _0x42187a=_0x2be725,_0x59215d=_0x5f497f['reportMetric'](_0x3af78b);_0x5f497f[_0x42187a(0x82e)]&&_0x59215d>_0x5f497f[_0x42187a(0x82e)]&&this[_0x42187a(0x2ca)](_0x5f497f[_0x42187a(0x3a7)],_0x12b26e,_0x500777,_0x59215d,'video'),_0x5f497f[_0x42187a(0x757)]&&_0x59215d<_0x5f497f[_0x42187a(0x757)]&&this[_0x42187a(0x2ca)](_0x5f497f['type'],_0x12b26e,_0x500777,_0x59215d,_0x42187a(0x41e));});}[_0x3cd514(0x801)](_0x27e5dc,_0x4ddddb,_0x1612cb){const _0x415ee5=_0x3cd514;0x0!==_0x1612cb[_0x415ee5(0x7c1)]&&_0x5d50e9['forEach'](_0x4d1cbd=>{const _0x47f3ce=_0x415ee5,_0x362a20=_0x4d1cbd[_0x47f3ce(0x652)](_0x1612cb);_0x4d1cbd['maxThreshold']&&_0x362a20>_0x4d1cbd[_0x47f3ce(0x82e)]&&this[_0x47f3ce(0x2ca)](_0x4d1cbd[_0x47f3ce(0x3a7)],_0x27e5dc,_0x4ddddb,_0x362a20,_0x47f3ce(0x6a7)),_0x4d1cbd[_0x47f3ce(0x757)]&&_0x362a20<_0x4d1cbd[_0x47f3ce(0x757)]&&this[_0x47f3ce(0x2ca)](_0x4d1cbd[_0x47f3ce(0x3a7)],_0x27e5dc,_0x4ddddb,_0x362a20,_0x47f3ce(0x6a7));});}[_0x3cd514(0x2ca)](_0x2ad2f4,_0x4f3435,_0x1e74e9,_0x5d2c2e,_0x184a77){const _0x5248ff=_0x3cd514;_0x61b339[_0x5248ff(0x8b2)](_0x5ce311['Detection'],_0x5248ff(0x375)+_0x2ad2f4,_0x2ad2f4,_0x5d2c2e),_0x61b339['logEvent'](_0x5248ff(0x9b8),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x5248ff(0x35d)]['localNode'][_0x5248ff(0x47f)](),'nodeType':this[_0x5248ff(0x35d)][_0x5248ff(0x780)][_0x5248ff(0x3a7)],'remoteId':_0x4f3435,'data':{'type':_0x2ad2f4,'value':_0x5d2c2e,'kind':_0x184a77}}),this['issues']=this[_0x5248ff(0x7e9)][_0x5248ff(0x4d1)](_0x49ba9a=>Date[_0x5248ff(0x498)]()-_0x49ba9a[_0x5248ff(0x39b)]<0x7530),this[_0x5248ff(0x7e9)][_0x5248ff(0x63b)]({'timestamp':Date[_0x5248ff(0x498)](),'type':_0x2ad2f4,'nodeId':_0x4f3435,'origin':_0x1e74e9,'value':_0x5d2c2e,'kind':_0x184a77});const _0x266e68=this[_0x5248ff(0x7e9)][_0x5248ff(0x4d1)](_0x3821ee=>_0x3821ee[_0x5248ff(0x3a7)]===_0x2ad2f4&&_0x3821ee[_0x5248ff(0x24b)]===_0x4f3435&&_0x3821ee[_0x5248ff(0x3ac)]===_0x1e74e9)[_0x5248ff(0x4f4)];this[_0x5248ff(0x70a)](_0x2ad2f4,_0x4f3435,_0x1e74e9,_0x266e68);}[_0x3cd514(0x219)](_0x4b844a,_0x338de2,_0x4922bd){const _0x10230e=_0x3cd514;_0x61b339[_0x10230e(0x8b2)](_0x5ce311[_0x10230e(0x1d5)],_0x10230e(0x50d)+_0x4b844a),_0x61b339[_0x10230e(0x592)](_0x10230e(0x65e),{'clusterId':this[_0x10230e(0x35d)][_0x10230e(0x4cb)],'nodeId':this[_0x10230e(0x35d)]['localNode']['getId'](),'nodeType':this[_0x10230e(0x35d)][_0x10230e(0x780)]['type'],'remoteId':_0x338de2,'data':{'type':_0x4b844a}}),this[_0x10230e(0x917)]?.[_0x10230e(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838['Detection'],'content':{'type':_0x4f1a14[_0x10230e(0x819)],'data':{'timestamp':Date[_0x10230e(0x498)](),'nodeId':_0x338de2,'origin':_0x5a23be['Sender'],'type':_0x4b844a}}});}}class _0x482ce9 extends _0x598bc6{[_0x3cd514(0x3a7)]=_0x3cfea6['NodeType'][_0x3cd514(0x704)];}class _0x454131 extends _0x482ce9{[_0x3cd514(0x917)];[_0x3cd514(0x3cc)]=Date['now']();[_0x3cd514(0x165)];[_0x3cd514(0x4e7)];['close'](){const _0x2715bf=_0x3cd514;this[_0x2715bf(0x165)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x2715bf(0x165)]),delete this[_0x2715bf(0x4e7)],this['currentVersion']=Date[_0x2715bf(0x498)](),super[_0x2715bf(0x8aa)]();}[_0x3cd514(0x340)](_0x14f93f){const _0x4de5a8=_0x3cd514;this[_0x4de5a8(0x917)]=_0x14f93f;}[_0x3cd514(0x7b7)](){const _0x2b6daa=_0x3cd514;delete this[_0x2b6daa(0x917)];}['answerJoin'](_0x2c384a){const _0x219ab9=_0x3cd514;!this[_0x219ab9(0x165)]&&this[_0x219ab9(0x54a)]&&this[_0x219ab9(0x917)]['publish']({'sourceId':this['id'],'destinationIds':[_0x2c384a],'propagate':!0x0,'messageType':_0xca4838[_0x219ab9(0x11d)],'content':{'type':_0x3a3a6a[_0x219ab9(0x80a)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x219ab9(0x94d)](),'remoteConnections':Array[_0x219ab9(0x88a)](this['remoteConnections']),'version':this[_0x219ab9(0x3cc)]}});}[_0x3cd514(0x46d)](_0x272502){const _0x4afc1a=_0x3cd514;this[_0x4afc1a(0x10a)]['has'](_0x272502)||(this[_0x4afc1a(0x10a)][_0x4afc1a(0x6aa)](_0x272502),this['incrementVersion'](),this[_0x4afc1a(0xe2)](!0x0));}[_0x3cd514(0x496)](_0x527d45){const _0x4bdf4f=_0x3cd514;this[_0x4bdf4f(0x10a)][_0x4bdf4f(0x31e)](_0x527d45)&&(this[_0x4bdf4f(0x10a)][_0x4bdf4f(0x6f9)](_0x527d45),this['incrementVersion'](),this[_0x4bdf4f(0xe2)](!0x0));}[_0x3cd514(0x2b0)](){const _0x337b85=_0x3cd514;return this[_0x337b85(0x3cc)];}['setRank'](_0x559899,_0x352ddc=!0x0){const _0x1df17c=_0x3cd514;this['rank']!==_0x559899&&(this['rank']=_0x559899,_0x352ddc&&(this[_0x1df17c(0x818)](),this[_0x1df17c(0xe2)]()));}[_0x3cd514(0x818)](){const _0x5c9d37=_0x3cd514;this['currentVersion']=Date[_0x5c9d37(0x498)]();}['publishUserUpdate'](_0x2cd4fb=!0x1){const _0x58d56b=_0x3cd514;if(this[_0x58d56b(0x54a)]){if(this['lastUpdated']||(this[_0x58d56b(0x4e7)]=Date[_0x58d56b(0x498)]()),this['updateDebounceTimeout']){if(Date[_0x58d56b(0x498)]()-this[_0x58d56b(0x4e7)]>0x2328)return;clearTimeout(this[_0x58d56b(0x165)]);}this[_0x58d56b(0x165)]=setTimeout(()=>{const _0x1be4a5=_0x58d56b;delete this[_0x1be4a5(0x4e7)],delete this[_0x1be4a5(0x165)],this[_0x1be4a5(0x917)][_0x1be4a5(0x19e)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0xca4838[_0x1be4a5(0x11d)],'content':{'type':_0x2cd4fb?_0x3a3a6a[_0x1be4a5(0x750)]:_0x3a3a6a[_0x1be4a5(0x80a)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x1be4a5(0x94d)](),'remoteConnections':Array['from'](this[_0x1be4a5(0x10a)]),'version':this[_0x1be4a5(0x3cc)]}});},0x3e8);}}}class _0x5a242f extends _0x52fa29{[_0x3cd514(0x917)];[_0x3cd514(0x3cc)]=Date[_0x3cd514(0x498)]();[_0x3cd514(0x165)];['lastUpdated'];[_0x3cd514(0x8aa)](){const _0x33a0f5=_0x3cd514;this['updateDebounceTimeout']&&(clearTimeout(this[_0x33a0f5(0x165)]),delete this[_0x33a0f5(0x165)]),delete this[_0x33a0f5(0x4e7)],this['currentVersion']=Date['now'](),super[_0x33a0f5(0x8aa)]();}['registerSystemPublisher'](_0x50b2dd){const _0x4c2600=_0x3cd514;this[_0x4c2600(0x917)]=_0x50b2dd;}[_0x3cd514(0x7b7)](){const _0x4375b4=_0x3cd514;delete this[_0x4375b4(0x917)];}[_0x3cd514(0x27c)](_0x1c98fc){const _0x134c56=_0x3cd514;!this[_0x134c56(0x165)]&&this[_0x134c56(0x54a)]&&this[_0x134c56(0x917)][_0x134c56(0x19e)]({'sourceId':this['id'],'destinationIds':[_0x1c98fc],'propagate':!0x0,'messageType':_0xca4838[_0x134c56(0x11d)],'content':{'type':_0x3a3a6a[_0x134c56(0x80a)],'id':this['id'],'metaData':{'type':this[_0x134c56(0x3a7)],'displayName':this[_0x134c56(0x172)](),'email':this[_0x134c56(0x640)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x134c56(0x88a)](this['remoteConnections']),'version':this['currentVersion']}});}['addRemoteConnection'](_0x4656d9){const _0x1e303f=_0x3cd514;this['remoteConnections'][_0x1e303f(0x31e)](_0x4656d9)||(this[_0x1e303f(0x10a)][_0x1e303f(0x6aa)](_0x4656d9),this[_0x1e303f(0x818)](),this[_0x1e303f(0xe2)](!0x0));}[_0x3cd514(0x496)](_0x1c1dfb){const _0x55d03e=_0x3cd514;this[_0x55d03e(0x10a)]['has'](_0x1c1dfb)&&(this['remoteConnections'][_0x55d03e(0x6f9)](_0x1c1dfb),this['incrementVersion'](),this[_0x55d03e(0xe2)](!0x0));}[_0x3cd514(0x2b0)](){const _0x1c498a=_0x3cd514;return this[_0x1c498a(0x3cc)];}[_0x3cd514(0x8cd)](_0x8e05f7){const _0x106fee=_0x3cd514;this[_0x106fee(0x6d3)]!==_0x8e05f7&&(this[_0x106fee(0x6d3)]=_0x8e05f7,this[_0x106fee(0x818)](),this['publishUserUpdate']());}['setEmail'](_0x53a11c){const _0x15c63e=_0x3cd514;this[_0x15c63e(0x91b)]!==_0x53a11c&&(this['email']=_0x53a11c,this['incrementVersion'](),this[_0x15c63e(0xe2)]());}[_0x3cd514(0x410)](_0x322f86,_0xe8ebd1=!0x0){const _0x573661=_0x3cd514;this[_0x573661(0x54a)]!==_0x322f86&&(this['rank']=_0x322f86,_0xe8ebd1&&(this[_0x573661(0x818)](),this[_0x573661(0xe2)]()));}['incrementVersion'](){const _0x56a789=_0x3cd514;this[_0x56a789(0x3cc)]=Date['now']();}['publishUserUpdate'](_0x3938e3=!0x1){const _0x439f63=_0x3cd514;if(this[_0x439f63(0x54a)]){if(this[_0x439f63(0x4e7)]||(this['lastUpdated']=Date[_0x439f63(0x498)]()),this[_0x439f63(0x165)]){if(Date[_0x439f63(0x498)]()-this[_0x439f63(0x4e7)]>0x2328)return;clearTimeout(this[_0x439f63(0x165)]);}this[_0x439f63(0x165)]=setTimeout(()=>{const _0x419250=_0x439f63;delete this[_0x419250(0x4e7)],delete this['updateDebounceTimeout'],this[_0x419250(0x917)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0xca4838[_0x419250(0x11d)],'content':{'type':_0x3938e3?_0x3a3a6a[_0x419250(0x750)]:_0x3a3a6a[_0x419250(0x80a)],'id':this['id'],'metaData':{'type':this[_0x419250(0x3a7)],'displayName':this[_0x419250(0x172)](),'email':this['getEmail']()},'rank':this[_0x419250(0x94d)](),'remoteConnections':Array['from'](this[_0x419250(0x10a)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x23ebce{['id'];['groupId'];[_0x3cd514(0x1a3)];['agentConfig'];[_0x3cd514(0x3a7)]=_0x3cfea6[_0x3cd514(0x2a9)][_0x3cd514(0x704)];['lastCapacityReport'];constructor(_0x5dd0b7,_0x37dc51,_0x3b392b,_0x4bcefe){const _0x4cf3a6=_0x3cd514;this['id']=_0x5dd0b7,this[_0x4cf3a6(0x981)]=_0x37dc51,this[_0x4cf3a6(0x1a3)]=_0x3b392b,this['agentConfig']=_0x4bcefe;}[_0x3cd514(0x47f)](){return this['id'];}['onConfigurationChange'](_0x10c0b7){const _0x4243ee=_0x3cd514,_0x4350d2=(0x0,_0x3cf795[_0x4243ee(0x925)])((0x0,_0x3cf795['doc'])(_0x349b1d[_0x4243ee(0x823)](),_0x4243ee(0x866)+this[_0x4243ee(0x1a3)]+'/resources/agent/items/'+this[_0x4243ee(0x981)]),_0x200fad=>{const _0x3efef6=_0x4243ee;if(_0x200fad[_0x3efef6(0x131)]()){const _0x6d2f14=_0x200fad[_0x3efef6(0x66f)]();if(this[_0x3efef6(0x73f)]['timestamp'][_0x3efef6(0x323)](_0x6d2f14['timestamp']))return;_0x61b339['log'](_0x5ce311[_0x3efef6(0x11d)],_0x3efef6(0x85c),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this['agentConfig'],'newConfig':_0x6d2f14}),this[_0x3efef6(0x73f)]=_0x6d2f14,_0x10c0b7();}});return()=>_0x4350d2();}[_0x3cd514(0x735)](_0x4146df){const _0x525752=_0x3cd514;return this[_0x525752(0x424)](this[_0x525752(0x981)],_0x4146df),_0x1bfa0c[_0x525752(0x37b)](()=>this['reportCapacity'](this[_0x525752(0x981)],_0x4146df),0x7530);}[_0x3cd514(0x6b9)](){const _0x48a621=_0x3cd514;if(!this['lastCapacityReport'])throw new _0xa369e8(_0xa369e8[_0x48a621(0x98c)]['MistletCapacityReportNotSet']);return this[_0x48a621(0x65b)];}async['reportCapacity'](_0xc3b833,_0x1ed78d){const _0x38ea42=_0x3cd514,_0x55ca78=await _0x1ed78d();this[_0x38ea42(0x65b)]=_0x55ca78,await(0x0,_0x3cf795[_0x38ea42(0x6a2)])((0x0,_0x3cf795[_0x38ea42(0x6ca)])(_0x349b1d[_0x38ea42(0x823)](),_0x38ea42(0x866)+this[_0x38ea42(0x1a3)]+'/capacities'),{'agentId':this['id'],'groupId':_0xc3b833,'timestamp':(0x0,_0x3cf795[_0x38ea42(0x5eb)])(),'capacity':_0x55ca78});}}!function(_0x7d82f9){const _0x3ab246=_0x3cd514;_0x7d82f9[_0x7d82f9['Online']=0x0]=_0x3ab246(0x950),_0x7d82f9[_0x7d82f9[_0x3ab246(0x28f)]=0x1]=_0x3ab246(0x28f);}(_0x425af1||(_0x425af1={}));class _0x1f8c08 extends _0x482ce9{[_0x3cd514(0x3cc)];[_0x3cd514(0x41c)]=_0x425af1[_0x3cd514(0x950)];[_0x3cd514(0x4e7)]=Date[_0x3cd514(0x498)]();constructor(_0x3b1e58,_0x1ee617=new Set(),_0x4c4d06,_0x20f0bb){const _0x23eb6b=_0x3cd514;super(_0x3b1e58,_0x1ee617,_0x20f0bb),this[_0x23eb6b(0x3cc)]=_0x4c4d06;}['getCurrentVersion'](){const _0x293114=_0x3cd514;return this[_0x293114(0x3cc)];}[_0x3cd514(0x427)](){const _0x421097=_0x3cd514;return this[_0x421097(0x41c)];}[_0x3cd514(0x70f)](){const _0x4ef817=_0x3cd514;return this[_0x4ef817(0x4e7)];}[_0x3cd514(0x410)](_0x40ebd8){const _0x239929=_0x3cd514;this['rank']!==_0x40ebd8&&(this['rank']=_0x40ebd8,this[_0x239929(0x227)]());}[_0x3cd514(0x111)](_0x3dfaf2){const _0xcc4911=_0x3cd514;let _0x515247=!0x1;for(const _0x38e65a of this[_0xcc4911(0x10a)])_0x3dfaf2[_0xcc4911(0x135)](_0x38e65a)||(_0x515247=!0x0,this['remoteConnections'][_0xcc4911(0x6f9)](_0x38e65a));for(const _0x32147d of _0x3dfaf2)this[_0xcc4911(0x10a)][_0xcc4911(0x31e)](_0x32147d)||(_0x515247=!0x0,this[_0xcc4911(0x10a)][_0xcc4911(0x6aa)](_0x32147d));_0x515247&&this[_0xcc4911(0x227)]();}['setCurrentVersion'](_0x48807a){const _0x13e6a4=_0x3cd514;this['currentVersion']!==_0x48807a&&(this['currentVersion']=_0x48807a,this[_0x13e6a4(0x227)]());}[_0x3cd514(0x6bc)](_0x1b4564){const _0x2f999b=_0x3cd514;this[_0x2f999b(0x41c)]!==_0x1b4564&&(this[_0x2f999b(0x41c)]=_0x1b4564,this[_0x2f999b(0x227)](),_0x1b4564===_0x425af1[_0x2f999b(0x28f)]&&this[_0x2f999b(0x8aa)]());}[_0x3cd514(0x227)](){const _0x2b93c8=_0x3cd514;this[_0x2b93c8(0x4e7)]=Date['now']();}}class _0x5bf07f extends _0x52fa29{['currentVersion'];[_0x3cd514(0x41c)]=_0x425af1['Online'];[_0x3cd514(0x4e7)]=Date[_0x3cd514(0x498)]();constructor(_0x570027,_0x31a480,_0x50a068,_0x5bacc5=new Set(),_0x1c141a,_0x1ea074){super(_0x570027,_0x31a480,_0x50a068,_0x5bacc5,_0x1ea074),this['currentVersion']=_0x1c141a;}[_0x3cd514(0x2b0)](){return this['currentVersion'];}[_0x3cd514(0x427)](){const _0x30e7d1=_0x3cd514;return this[_0x30e7d1(0x41c)];}[_0x3cd514(0x70f)](){const _0x1e31fd=_0x3cd514;return this[_0x1e31fd(0x4e7)];}['setDisplayName'](_0x62e646){const _0x2f1aca=_0x3cd514;this[_0x2f1aca(0x6d3)]!==_0x62e646&&(this[_0x2f1aca(0x6d3)]=_0x62e646,this[_0x2f1aca(0x227)]());}[_0x3cd514(0x71c)](_0x50f3da){const _0x18fe0d=_0x3cd514;this['email']!==_0x50f3da&&(this[_0x18fe0d(0x91b)]=_0x50f3da,this[_0x18fe0d(0x227)]());}[_0x3cd514(0x410)](_0x33de34){const _0x552c6b=_0x3cd514;this[_0x552c6b(0x54a)]!==_0x33de34&&(this[_0x552c6b(0x54a)]=_0x33de34,this[_0x552c6b(0x227)]());}[_0x3cd514(0x111)](_0x2b99a2){const _0x256ea6=_0x3cd514;let _0x291c07=!0x1;for(const _0x43912c of this['remoteConnections'])_0x2b99a2['includes'](_0x43912c)||(_0x291c07=!0x0,this[_0x256ea6(0x10a)][_0x256ea6(0x6f9)](_0x43912c));for(const _0x3aba24 of _0x2b99a2)this[_0x256ea6(0x10a)][_0x256ea6(0x31e)](_0x3aba24)||(_0x291c07=!0x0,this[_0x256ea6(0x10a)]['add'](_0x3aba24));_0x291c07&&this['updateLastUpdated']();}[_0x3cd514(0x3ad)](_0x50413f){const _0x5b3b8b=_0x3cd514;this[_0x5b3b8b(0x3cc)]!==_0x50413f&&(this[_0x5b3b8b(0x3cc)]=_0x50413f,this['updateLastUpdated']());}['setStatus'](_0x1cdf4c){const _0x10f418=_0x3cd514;this[_0x10f418(0x41c)]!==_0x1cdf4c&&(this[_0x10f418(0x41c)]=_0x1cdf4c,this[_0x10f418(0x227)](),_0x1cdf4c===_0x425af1[_0x10f418(0x28f)]&&this[_0x10f418(0x8aa)]());}[_0x3cd514(0x227)](){const _0x54b1eb=_0x3cd514;this[_0x54b1eb(0x4e7)]=Date[_0x54b1eb(0x498)]();}}class _0xbbec45{[_0x3cd514(0x1a3)];[_0x3cd514(0x4cb)];[_0x3cd514(0x780)];['minConnections'];[_0x3cd514(0x1f8)]=_0x189a7c();['firebaseUnsubscriber'];[_0x3cd514(0x395)];['onDisconnectHandler'];[_0x3cd514(0x20d)]=!0x1;['clusterKey'];['nodeKey'];constructor(_0x364788,_0x4d3469,_0x34bb9c,_0x7138ad){const _0x4ff66b=_0x3cd514;this[_0x4ff66b(0x1a3)]=_0x364788,this['clusterId']=_0x4d3469,this['localNode']=_0x34bb9c,this['minConnections']=_0x7138ad,this[_0x4ff66b(0x378)]=_0x4ff66b(0x3d7)+this[_0x4ff66b(0x1a3)]+_0x4ff66b(0x3d7)+this[_0x4ff66b(0x4cb)],this[_0x4ff66b(0x94a)]=_0x4ff66b(0x3d7)+this['vendorId']+'ccc'+this['localNode'][_0x4ff66b(0x47f)](),this[_0x4ff66b(0x150)]=(0x0,_0x43a04d[_0x4ff66b(0x752)])((0x0,_0x43a04d[_0x4ff66b(0x208)])(_0x349b1d[_0x4ff66b(0x65c)](),_0x4ff66b(0x76b)),_0x1ee76a=>{const _0x29397f=_0x4ff66b;!0x0!==_0x1ee76a[_0x29397f(0x3e1)]()?this[_0x29397f(0x20d)]&&_0x61b339[_0x29397f(0x3db)](_0x29397f(0x5f8),{'clusterId':this[_0x29397f(0x4cb)],'nodeId':this[_0x29397f(0x780)][_0x29397f(0x47f)](),'nodeType':this[_0x29397f(0x780)][_0x29397f(0x3a7)]}):(this[_0x29397f(0x20d)]=!0x0,this[_0x29397f(0x283)](),_0x61b339[_0x29397f(0x2f5)](_0x29397f(0x90e),{'clusterId':this[_0x29397f(0x4cb)],'nodeId':this[_0x29397f(0x780)]['getId'](),'nodeType':this[_0x29397f(0x780)][_0x29397f(0x3a7)]}));});}async[_0x3cd514(0x696)](){const _0x4d7ca5=_0x3cd514;await this[_0x4d7ca5(0x7b3)]();const _0x51c1fb=await this[_0x4d7ca5(0x3fb)]();return this[_0x4d7ca5(0x395)]=(0x0,_0x43a04d['onChildRemoved'])((0x0,_0x43a04d['ref'])(_0x349b1d[_0x4d7ca5(0x65c)](),'clusters/'+this[_0x4d7ca5(0x378)]+_0x4d7ca5(0x93e)),_0x2e185d=>{const _0x5bf4d9=_0x4d7ca5,_0x31dd72=_0x2e185d[_0x5bf4d9(0x904)];if(!_0x31dd72)return;const _0x1a04de=_0x31dd72[_0x5bf4d9(0x460)]('ccc'+this[_0x5bf4d9(0x1a3)]+'ccc','');this[_0x5bf4d9(0x1f8)]['publish'](_0x1a04de);}),_0x51c1fb;}async[_0x3cd514(0x8aa)](){const _0x3117ea=_0x3cd514;this[_0x3117ea(0x395)]?.(),delete this[_0x3117ea(0x395)],this[_0x3117ea(0x65d)]?.[_0x3117ea(0x6b0)](),delete this[_0x3117ea(0x65d)],this['firebaseUnsubscriber']?.(),delete this[_0x3117ea(0x150)],await(0x0,_0x43a04d[_0x3117ea(0x3b3)])((0x0,_0x43a04d[_0x3117ea(0x208)])(_0x349b1d[_0x3117ea(0x65c)](),_0x3117ea(0x303)+this[_0x3117ea(0x378)]+'/nodes/'+this['nodeKey']));}[_0x3cd514(0x145)](_0xa1eed1){const _0x4bb06a=_0x3cd514;return this[_0x4bb06a(0x1f8)][_0x4bb06a(0x5a5)](_0xa1eed1);}async[_0x3cd514(0x3fb)](){const _0x5b432f=_0x3cd514,_0x5abcf9=[],_0x2c89fa=await(0x0,_0x43a04d[_0x5b432f(0x31f)])((0x0,_0x43a04d[_0x5b432f(0x208)])(_0x349b1d[_0x5b432f(0x65c)](),'clusters/'+this[_0x5b432f(0x378)]+_0x5b432f(0x93e))),_0x1aaae4=[];return _0x2c89fa[_0x5b432f(0x753)](_0x13e5ed=>{const _0x2573e0=_0x5b432f,_0x279c17=_0x13e5ed['key']?.['replace'](_0x2573e0(0x3d7)+this['vendorId']+_0x2573e0(0x3d7),'');_0x1aaae4[_0x2573e0(0x63b)]({'id':_0x279c17,'joinedAt':_0x13e5ed[_0x2573e0(0x3e1)]()[_0x2573e0(0x52a)],'priority':_0x13e5ed['val']()[_0x2573e0(0x108)]});}),_0x1aaae4[_0x5b432f(0x9cb)]((_0x55a9b2,_0x1f1b7a)=>_0x55a9b2[_0x5b432f(0x52a)]===_0x1f1b7a[_0x5b432f(0x52a)]?_0x55a9b2[_0x5b432f(0x108)]-_0x1f1b7a[_0x5b432f(0x108)]:_0x55a9b2['joinedAt']-_0x1f1b7a[_0x5b432f(0x52a)])[_0x5b432f(0x7b5)](_0x1aaae4[_0x5b432f(0x2b4)](_0x18a00c=>_0x18a00c['id']===this[_0x5b432f(0x780)][_0x5b432f(0x47f)]())),_0x1aaae4[_0x5b432f(0x9cb)]((_0x3b9dfa,_0x3bb692)=>_0x3bb692[_0x5b432f(0x52a)]===_0x3b9dfa[_0x5b432f(0x52a)]?_0x3bb692[_0x5b432f(0x108)]-_0x3b9dfa[_0x5b432f(0x108)]:_0x3bb692[_0x5b432f(0x52a)]-_0x3b9dfa['joinedAt'])[_0x5b432f(0x753)](_0x32fc04=>{const _0x4e2187=_0x5b432f;_0x5abcf9[_0x4e2187(0x4f4)]>=this[_0x4e2187(0x52c)]||_0x5abcf9[_0x4e2187(0x63b)](_0x32fc04['id']);}),_0x61b339[_0x5b432f(0x592)](_0x5b432f(0xd2),{'clusterId':this[_0x5b432f(0x4cb)],'nodeId':this[_0x5b432f(0x780)][_0x5b432f(0x47f)](),'nodeType':this['localNode']['type'],'data':{'ancestorIds':_0x5abcf9,'allNodes':_0x1aaae4}}),_0x5abcf9;}async[_0x3cd514(0x7b3)](){const _0x5a434e=_0x3cd514;await(0x0,_0x43a04d[_0x5a434e(0x282)])((0x0,_0x43a04d[_0x5a434e(0x208)])(_0x349b1d['getDatabase'](),_0x5a434e(0x303)+this[_0x5a434e(0x378)]+_0x5a434e(0x1ee)+this['nodeKey']),{'joinedAt':(0x0,_0x43a04d[_0x5a434e(0x5eb)])(),'priority':Math[_0x5a434e(0x386)]()});}[_0x3cd514(0x283)](){const _0x2eeab4=_0x3cd514;this['onDisconnectHandler']&&this[_0x2eeab4(0x65d)]['cancel'](),this[_0x2eeab4(0x65d)]=(0x0,_0x43a04d[_0x2eeab4(0x881)])((0x0,_0x43a04d[_0x2eeab4(0x208)])(_0x349b1d[_0x2eeab4(0x65c)](),_0x2eeab4(0x303)+this['clusterKey']+_0x2eeab4(0x1ee)+this[_0x2eeab4(0x94a)])),this[_0x2eeab4(0x65d)][_0x2eeab4(0x3b3)]();}}class _0x1ccd57{[_0x3cd514(0x35d)];[_0x3cd514(0x31a)];[_0x3cd514(0xec)];['discoveryService'];[_0x3cd514(0x2f1)];[_0x3cd514(0x3f5)]=[];[_0x3cd514(0x917)];['optimizationLayers']=new Map();[_0x3cd514(0x2d7)];[_0x3cd514(0x6c3)];[_0x3cd514(0x176)];['resolveReady'];[_0x3cd514(0x253)];[_0x3cd514(0x734)];constructor(_0x119301,_0x4060c3){const _0x4bcea8=_0x3cd514;this['configs']=_0x119301,this['graphService']=_0x4060c3,this[_0x4bcea8(0x176)]=new Promise((_0x3f15c5,_0x40146c)=>{const _0x2e2b26=_0x4bcea8;this['resolveReady']=_0x3f15c5,this[_0x2e2b26(0x253)]=_0x40146c;}),this[_0x4bcea8(0x566)]=new _0xbbec45(this['configs']['vendorId'],this[_0x4bcea8(0x35d)][_0x4bcea8(0x4cb)],this[_0x4bcea8(0x35d)][_0x4bcea8(0x780)],this['graphService']['getMinConnections']()),this[_0x4bcea8(0x2f1)]=this[_0x4bcea8(0x566)][_0x4bcea8(0x145)](this[_0x4bcea8(0x16c)][_0x4bcea8(0x4d0)](this)),this[_0x4bcea8(0x35d)][_0x4bcea8(0x2df)][_0x4bcea8(0x9a9)](this[_0x4bcea8(0x35d)]['localNode']),this[_0x4bcea8(0x35d)]['mediator']['registerSystemSource'](this),this[_0x4bcea8(0xec)]=_0x1bfa0c[_0x4bcea8(0x37b)](()=>{const _0x2a6df0=_0x4bcea8,_0xc5cbec=Date[_0x2a6df0(0x498)]();this['graphService'][_0x2a6df0(0x281)]()[_0x2a6df0(0x753)](_0x24a85e=>{const _0x2f84da=_0x2a6df0;_0x24a85e[_0x2f84da(0x427)]()===_0x425af1[_0x2f84da(0x28f)]&&_0x24a85e[_0x2f84da(0x70f)]()<_0xc5cbec-0x493e0&&this[_0x2f84da(0x31a)][_0x2f84da(0x8d9)](_0x24a85e[_0x2f84da(0x47f)]());});},0xea60);}async[_0x3cd514(0x3c6)](){const _0x53131e=_0x3cd514;return this[_0x53131e(0x176)];}async[_0x3cd514(0x36d)](_0xf7db8d){return new Promise((_0x42e086,_0x2546c8)=>{const _0x9629ce=a0_0x2e46;let _0x549188;const _0x1bf354=setTimeout(()=>{const _0x2a86e8=a0_0x2e46;_0x549188?.(),_0x2546c8(new Error(_0x2a86e8(0x206)+_0xf7db8d+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x9629ce(0x31a)]['hasRemoteNode'](_0xf7db8d))return clearTimeout(_0x1bf354),void _0x42e086(!0x0);_0x549188=this[_0x9629ce(0x31a)][_0x9629ce(0x544)](()=>{const _0x53f225=_0x9629ce;this[_0x53f225(0x31a)][_0x53f225(0x951)](_0xf7db8d)&&(clearTimeout(_0x1bf354),_0x42e086(!0x0),_0x549188?.());});});}[_0x3cd514(0x340)](_0x5380d9){const _0xaf23f=_0x3cd514;this[_0xaf23f(0x917)]=_0x5380d9;}[_0x3cd514(0x7b7)](){const _0x52619a=_0x3cd514;delete this[_0x52619a(0x917)];}[_0x3cd514(0x8aa)](){const _0x42b925=_0x3cd514;this['debounceProcessRank']&&(clearTimeout(this['debounceProcessRank']),delete this[_0x42b925(0x2d7)]),delete this[_0x42b925(0x6c3)],this[_0x42b925(0x35d)]['localNode'][_0x42b925(0x8aa)](),this[_0x42b925(0xec)](),this[_0x42b925(0x2f1)](),this[_0x42b925(0x35d)][_0x42b925(0x2df)][_0x42b925(0x9c1)](this[_0x42b925(0x35d)]['localNode']),this['configs'][_0x42b925(0x2df)][_0x42b925(0x9c1)](this),this[_0x42b925(0x566)][_0x42b925(0x8aa)]();}[_0x3cd514(0x2ec)](){const _0x470cb0=_0x3cd514;return this[_0x470cb0(0x3f5)];}[_0x3cd514(0x858)](){const _0x498827=_0x3cd514;return this['configs'][_0x498827(0x780)]['getId']();}[_0x3cd514(0x8ab)](){const _0x30747b=_0x3cd514;return this[_0x30747b(0x35d)][_0x30747b(0x780)];}[_0x3cd514(0x281)](_0x4b86ec){const _0x1d9939=_0x3cd514,_0x197190=Array[_0x1d9939(0x88a)](this[_0x1d9939(0x31a)][_0x1d9939(0x281)]()['values']())[_0x1d9939(0x4d1)](_0x39b060=>_0x39b060[_0x1d9939(0x427)]()===_0x425af1['Online']);return _0x4b86ec?_0x197190[_0x1d9939(0x4d1)](_0x4b86ec):_0x197190;}async[_0x3cd514(0xd2)](){const _0x31c90e=_0x3cd514;return this[_0x31c90e(0x3f5)]=await this[_0x31c90e(0x566)][_0x31c90e(0x696)](),this[_0x31c90e(0x3f5)][_0x31c90e(0x4f4)]<this['graphService']['getMinConnections']()&&(this[_0x31c90e(0x35d)][_0x31c90e(0x780)][_0x31c90e(0x410)](this['ancestors'][_0x31c90e(0x4f4)]+0x1),this[_0x31c90e(0x5cc)]()),this['ancestors'];}['getDistance'](_0x3191c8,_0xf61b5e){const _0x1dc2f6=_0x3cd514,_0x5b4620=this['configs'][_0x1dc2f6(0x780)]['getRemoteConnections'](),_0x2b24d6=new Set(_0x5b4620),_0xc4aa0e=Array[_0x1dc2f6(0x88a)](_0x5b4620)[_0x1dc2f6(0x4d1)](_0x2ab90d=>_0x2ab90d!==_0x3191c8)['map'](_0xd12ed2=>({'id':_0xd12ed2,'distance':0x1}));for(;_0xc4aa0e['length']>0x0;){const _0x133b81=_0xc4aa0e[_0x1dc2f6(0x1ff)]();if(!_0x133b81)continue;if(_0x133b81['id']===_0xf61b5e)return _0x133b81[_0x1dc2f6(0x64c)];const _0x42321c=this[_0x1dc2f6(0x31a)][_0x1dc2f6(0x139)](_0x133b81['id']);_0x42321c&&_0x42321c['getStatus']()!==_0x425af1[_0x1dc2f6(0x28f)]&&_0x42321c[_0x1dc2f6(0x191)]()[_0x1dc2f6(0x753)](_0x2e3384=>{const _0x1fe377=_0x1dc2f6;_0x2b24d6[_0x1fe377(0x31e)](_0x2e3384)||(_0x2b24d6[_0x1fe377(0x6aa)](_0x2e3384),_0xc4aa0e['push']({'id':_0x2e3384,'distance':_0x133b81[_0x1fe377(0x64c)]+0x1}));});}return-0x1;}[_0x3cd514(0x530)](_0x334e4b){const _0xa421bd=_0x3cd514;try{switch(_0x334e4b['content'][_0xa421bd(0x3a7)]){case _0x3a3a6a[_0xa421bd(0x80a)]:case _0x3a3a6a[_0xa421bd(0x750)]:this[_0xa421bd(0x7ce)](_0x334e4b[_0xa421bd(0x1cb)]),_0x61b339[_0xa421bd(0x8b2)](_0x5ce311['Node'],_0xa421bd(0xca),'\x27'+this['configs']['localNode']['getId']()+',\x20'+_0x334e4b[_0xa421bd(0x118)]+'\x27',_0x334e4b,_0x334e4b[_0xa421bd(0x1cb)]);break;case _0x3a3a6a[_0xa421bd(0x3b5)]:this[_0xa421bd(0x5ca)](_0x334e4b[_0xa421bd(0x1cb)]['id']),_0x61b339[_0xa421bd(0x8b2)](_0x5ce311[_0xa421bd(0x11d)],_0xa421bd(0x7d2),'\x27'+this[_0xa421bd(0x35d)][_0xa421bd(0x780)]['getId']()+',\x20'+_0x334e4b[_0xa421bd(0x118)]+'\x27',_0x334e4b,_0x334e4b['content']);}}catch(_0x20656c){if(_0x20656c instanceof _0x89ef13)return void _0x61b339[_0xa421bd(0x8b2)](_0x5ce311[_0xa421bd(0x11d)],_0x20656c[_0xa421bd(0xfe)]);throw _0x20656c;}}[_0x3cd514(0x4d4)](_0x319d07){const _0x58163c=_0x3cd514;switch(_0x319d07['content'][_0x58163c(0x3a7)]){case _0x47c2b4[_0x58163c(0x313)]:this['handleConnectionSuccess'](_0x319d07[_0x58163c(0x118)]),_0x61b339[_0x58163c(0x8b2)](_0x5ce311[_0x58163c(0x11d)],_0x58163c(0x9b2),'\x27'+this[_0x58163c(0x35d)]['localNode'][_0x58163c(0x47f)]()+',\x20'+_0x319d07[_0x58163c(0x118)]+'\x27',_0x319d07,_0x319d07[_0x58163c(0x1cb)]);break;case _0x47c2b4[_0x58163c(0x979)]:this['publishNodeLeave'](_0x319d07['sourceId']),_0x61b339[_0x58163c(0x8b2)](_0x5ce311[_0x58163c(0x11d)],_0x58163c(0x863),this[_0x58163c(0x35d)][_0x58163c(0x780)]['getId'](),_0x319d07,_0x319d07[_0x58163c(0x1cb)]);}}[_0x3cd514(0x522)](_0x47ad7f){const _0x1157b9=_0x3cd514;this[_0x1157b9(0x4d5)](_0x47ad7f),this[_0x1157b9(0x60c)](_0x47ad7f);}['notifyJoin'](_0x37ae94){const _0x3db473=_0x3cd514;this[_0x3db473(0x35d)][_0x3db473(0x780)][_0x3db473(0x27c)](_0x37ae94['id']),this[_0x3db473(0x3de)](_0x37ae94['id']),this[_0x3db473(0x2ce)](_0x37ae94);}[_0x3cd514(0x7ce)](_0x11df4d){const _0x2d960a=_0x3cd514,{id:_0x2bf43a,metaData:_0x342cb1,rank:_0x4466f3,remoteConnections:_0x53dec4,version:_0x391b52}=_0x11df4d,_0x9f1d4d=this[_0x2d960a(0x31a)][_0x2d960a(0x139)](_0x2bf43a);if(_0x9f1d4d){if(!(_0x391b52<=_0x9f1d4d['getCurrentVersion']())){if(_0x9f1d4d[_0x2d960a(0x111)](_0x53dec4),_0x9f1d4d[_0x2d960a(0x3ad)](_0x391b52),_0x9f1d4d[_0x2d960a(0x3a7)]===_0x3cfea6[_0x2d960a(0x2a9)][_0x2d960a(0x320)]&&_0x342cb1[_0x2d960a(0x3a7)]===_0x3cfea6[_0x2d960a(0x2a9)][_0x2d960a(0x320)]&&(_0x9f1d4d['setDisplayName'](_0x342cb1[_0x2d960a(0x6d3)]),_0x9f1d4d[_0x2d960a(0x71c)](_0x342cb1[_0x2d960a(0x91b)])),_0x4466f3&&_0x9f1d4d['setRank'](_0x4466f3),this[_0x2d960a(0x91f)](_0x2bf43a,_0x4466f3),_0x9f1d4d['getStatus']()===_0x425af1['Offline'])return _0x9f1d4d[_0x2d960a(0x6bc)](_0x425af1['Online']),this['processRank'](),void this['notifyJoin'](_0x11df4d);this['processRank'](),this['notifyClusterNodeUpdate']({'id':_0x2bf43a,'metaData':_0x342cb1,'remoteConnections':_0x53dec4,'version':_0x391b52});}}else this[_0x2d960a(0x522)](_0x11df4d);}[_0x3cd514(0x91f)](_0x131a72,_0x5370ff){const _0x1d82ac=_0x3cd514;_0x5370ff&&this[_0x1d82ac(0x3f5)]['includes'](_0x131a72)&&this['configs'][_0x1d82ac(0x780)][_0x1d82ac(0x410)](_0x5370ff+this[_0x1d82ac(0x3f5)][_0x1d82ac(0x8f4)](_0x131a72)+0x1);}['handleConnectionSuccess'](_0x60297){const _0x18728b=_0x3cd514;this[_0x18728b(0x35d)][_0x18728b(0x780)][_0x18728b(0x46d)](_0x60297);}[_0x3cd514(0x4d5)]({id:_0x1c3052,metaData:_0x3ddd40,rank:_0x47cbb9,remoteConnections:_0x4f7bf2,version:_0x4a8621}){const _0x530fcc=_0x3cd514;if(this[_0x530fcc(0x31a)][_0x530fcc(0x951)](_0x1c3052))throw new _0x89ef13(_0x530fcc(0x27e)+_0x1c3052);switch(_0x3ddd40[_0x530fcc(0x3a7)]){case _0x3cfea6[_0x530fcc(0x2a9)][_0x530fcc(0x320)]:const {displayName:_0x1d5579,email:_0x1cb174}=_0x3ddd40;this[_0x530fcc(0x31a)][_0x530fcc(0x1b2)](_0x1c3052,new _0x5bf07f(_0x1c3052,_0x1d5579,_0x1cb174,new Set(_0x4f7bf2),_0x4a8621,_0x47cbb9));break;case _0x3cfea6[_0x530fcc(0x2a9)]['Agent']:this[_0x530fcc(0x31a)][_0x530fcc(0x1b2)](_0x1c3052,new _0x1f8c08(_0x1c3052,new Set(_0x4f7bf2),_0x4a8621,_0x47cbb9));}const _0x1f9fce=this[_0x530fcc(0x281)](),_0x3a0538=new Set(this[_0x530fcc(0x3f5)]);_0x1f9fce[_0x530fcc(0x753)](_0x504210=>{const _0x4a94be=_0x530fcc;_0x3a0538[_0x4a94be(0x31e)](_0x504210[_0x4a94be(0x47f)]())&&_0x3a0538[_0x4a94be(0x6f9)](_0x504210['getId']());}),0x0===_0x3a0538['size']&&this[_0x530fcc(0x240)]&&(this[_0x530fcc(0x734)]&&clearTimeout(this[_0x530fcc(0x734)]),this['readyDebounce']=setTimeout(()=>{const _0x53b49e=_0x530fcc;this['resolveReady']?.(!0x0),delete this[_0x53b49e(0x240)],delete this['rejectReady'];},0x7d0)),this[_0x530fcc(0x91f)](_0x1c3052,_0x47cbb9),this[_0x530fcc(0x5cc)]();}[_0x3cd514(0x3de)](_0x5df9b6){const _0x10c2db=_0x3cd514;this['systemTopic']['publish']({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x10c2db(0x11d)],'content':{'type':_0x3a3a6a[_0x10c2db(0x6c7)],'id':_0x5df9b6}});}[_0x3cd514(0x673)](_0x4705a2){const _0x2a0adc=_0x3cd514;this[_0x2a0adc(0x917)]?.[_0x2a0adc(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838['Node'],'content':{'type':_0x3a3a6a['NodeLeave'],'id':_0x4705a2}});}[_0x3cd514(0x16c)](_0x9758db){const _0x24dc34=_0x3cd514;if(_0x9758db===this['configs']['localNode'][_0x24dc34(0x47f)]())return this[_0x24dc34(0x35d)][_0x24dc34(0x2df)][_0x24dc34(0x2d8)](_0x24dc34(0x18d),{'id':_0x9758db}),this[_0x24dc34(0x35d)][_0x24dc34(0x2df)][_0x24dc34(0x8aa)]({'force':!0x0},!0x0),this['configs']['mediator'][_0x24dc34(0x92d)](),void this[_0x24dc34(0x35d)][_0x24dc34(0x2df)][_0x24dc34(0x34a)]();this[_0x24dc34(0x673)](_0x9758db);}['removeNode'](_0x45d4fe){const _0x20ddf4=_0x3cd514;this[_0x20ddf4(0x3f5)][_0x20ddf4(0x135)](_0x45d4fe)?this['manageAncestor'](_0x45d4fe):this['configs']['localNode'][_0x20ddf4(0x191)]()[_0x20ddf4(0x31e)](_0x45d4fe)&&this[_0x20ddf4(0x7c7)](_0x45d4fe),this[_0x20ddf4(0x35d)]['localNode'][_0x20ddf4(0x496)](_0x45d4fe);const _0x3fd366=Array[_0x20ddf4(0x88a)](this[_0x20ddf4(0x524)][_0x20ddf4(0x559)]())['find'](([,_0x30091e])=>_0x30091e==_0x30091e);_0x3fd366&&this[_0x20ddf4(0x524)][_0x20ddf4(0x6f9)](_0x3fd366[0x0]);const _0x20e218=this[_0x20ddf4(0x31a)][_0x20ddf4(0x139)](_0x45d4fe);if(!_0x20e218)return;const _0x3733e7=_0x20e218[_0x20ddf4(0x94d)](),_0x5728c2=this['configs']['localNode'][_0x20ddf4(0x94d)]();_0x5728c2&&_0x3733e7&&_0x3733e7<_0x5728c2&&this[_0x20ddf4(0x35d)][_0x20ddf4(0x780)][_0x20ddf4(0x410)](_0x5728c2-0x1,!0x1),Array[_0x20ddf4(0x88a)](this[_0x20ddf4(0x31a)][_0x20ddf4(0x281)]()[_0x20ddf4(0x699)]())[_0x20ddf4(0x753)](_0x218937=>{const _0x41e5d3=_0x20ddf4,_0x2066f5=_0x218937[_0x41e5d3(0x94d)]();_0x2066f5&&_0x3733e7&&_0x3733e7<_0x2066f5&&_0x218937['setRank'](_0x2066f5-0x1);}),_0x20e218[_0x20ddf4(0x6bc)](_0x425af1[_0x20ddf4(0x28f)]),this[_0x20ddf4(0x35d)][_0x20ddf4(0x2df)][_0x20ddf4(0x2d8)](_0x20e218[_0x20ddf4(0x3a7)]+'-leave',{'id':_0x45d4fe});}[_0x3cd514(0x2ce)]({id:_0x398c00,metaData:_0x962f0b,remoteConnections:_0x2113a7}){const _0x5b9d1c=_0x3cd514;switch(_0x962f0b[_0x5b9d1c(0x3a7)]){case _0x3cfea6[_0x5b9d1c(0x2a9)][_0x5b9d1c(0x320)]:this['configs'][_0x5b9d1c(0x2df)][_0x5b9d1c(0x2d8)](_0x5b9d1c(0x68f),{'id':_0x398c00,'metaData':_0x962f0b,'remoteConnections':_0x2113a7});break;case _0x3cfea6[_0x5b9d1c(0x2a9)][_0x5b9d1c(0x704)]:this['configs']['mediator'][_0x5b9d1c(0x2d8)](_0x5b9d1c(0x8b6),{'id':_0x398c00,'metaData':_0x962f0b,'remoteConnections':_0x2113a7});}}[_0x3cd514(0x28c)]({id:_0xafa6e8,metaData:_0x5b6813,remoteConnections:_0x4dc3b2}){const _0x18f4ff=_0x3cd514;switch(_0x5b6813[_0x18f4ff(0x3a7)]){case _0x3cfea6[_0x18f4ff(0x2a9)][_0x18f4ff(0x320)]:this[_0x18f4ff(0x35d)][_0x18f4ff(0x2df)][_0x18f4ff(0x2d8)](_0x18f4ff(0xc0),{'id':_0xafa6e8,'metaData':_0x5b6813,'remoteConnections':_0x4dc3b2});break;case _0x3cfea6['NodeType'][_0x18f4ff(0x704)]:this[_0x18f4ff(0x35d)]['mediator']['notifyCluster'](_0x18f4ff(0x26f),{'id':_0xafa6e8,'metaData':_0x5b6813,'remoteConnections':_0x4dc3b2});}}[_0x3cd514(0x5cc)](){const _0x58ae5d=_0x3cd514;if(this['lastProcessRank']||(this[_0x58ae5d(0x6c3)]=Date['now']()),this['debounceProcessRank']){if(Date[_0x58ae5d(0x498)]()-this[_0x58ae5d(0x6c3)]>0x2328)return;clearTimeout(this[_0x58ae5d(0x2d7)]);}this[_0x58ae5d(0x2d7)]=setTimeout(async()=>{const _0x34560b=_0x58ae5d;delete this[_0x34560b(0x6c3)],delete this[_0x34560b(0x2d7)];const _0x4dc2ee=this[_0x34560b(0x35d)][_0x34560b(0x780)][_0x34560b(0x94d)]();if(!_0x4dc2ee)return;const _0x3b1e20=this[_0x34560b(0x31a)][_0x34560b(0x8e1)](this[_0x34560b(0x31a)][_0x34560b(0x281)]()[_0x34560b(0x3cb)]);if(this[_0x34560b(0x524)][_0x34560b(0x3cb)]>=_0x3b1e20)return;let _0x140649=0x1;for(;this[_0x34560b(0x35d)]['mediator'][_0x34560b(0x7bc)]()[_0x34560b(0x4f4)]<this[_0x34560b(0x31a)][_0x34560b(0x907)]()&&_0x140649<=_0x3b1e20;){if(this[_0x34560b(0x524)][_0x34560b(0x31e)](_0x140649)){_0x140649+=0x1;continue;}const _0x18f1d2=this['graphService'][_0x34560b(0xdc)](_0x4dc2ee,_0x140649),_0x1095f3=Array[_0x34560b(0x88a)](this[_0x34560b(0x31a)]['getRemoteNodes']()[_0x34560b(0x699)]())[_0x34560b(0x833)](_0x450338=>_0x450338[_0x34560b(0x94d)]()===_0x18f1d2&&_0x450338[_0x34560b(0x427)]()===_0x425af1[_0x34560b(0x950)]);if(_0x1095f3){try{await this[_0x34560b(0x35d)]['mediator']['createConnection'](_0x1095f3[_0x34560b(0x47f)](),_0x3b5379[_0x34560b(0x5e2)]),this[_0x34560b(0x524)]['set'](_0x140649,_0x1095f3['getId']());}catch(_0xc1925d){if(!(_0xc1925d instanceof _0xa369e8&&_0xc1925d[_0x34560b(0x610)]===_0xa369e8[_0x34560b(0x98c)][_0x34560b(0x376)]))throw _0xc1925d;_0x61b339['log'](_0x5ce311[_0x34560b(0x11d)],this['configs'][_0x34560b(0x780)]['getId'](),_0x1095f3[_0x34560b(0x47f)](),_0xc1925d[_0x34560b(0xfe)]);}_0x140649+=0x1;}else _0x140649+=0x1;}},0x3e8);}async[_0x3cd514(0x127)](_0x57b8e8){const _0x1eb04d=_0x3cd514;this['ancestors'][_0x1eb04d(0x7b5)](this[_0x1eb04d(0x3f5)][_0x1eb04d(0x8f4)](_0x57b8e8),0x1);const _0x184890=await this[_0x1eb04d(0x566)]['getAncestors']();for(const _0x40cd3e of _0x184890)if(!this[_0x1eb04d(0x3f5)][_0x1eb04d(0x135)](_0x40cd3e)){const _0x57c53f=Array['from'](this[_0x1eb04d(0x524)][_0x1eb04d(0x559)]())[_0x1eb04d(0x833)](([,_0x3fba94])=>_0x3fba94===_0x40cd3e);_0x57c53f&&this[_0x1eb04d(0x524)][_0x1eb04d(0x6f9)](_0x57c53f[0x0]),this[_0x1eb04d(0x35d)][_0x1eb04d(0x2df)][_0x1eb04d(0x35c)](_0x40cd3e,_0x3b5379[_0x1eb04d(0x2e9)]);}0x0===_0x184890[_0x1eb04d(0x4f4)]&&this[_0x1eb04d(0x35d)][_0x1eb04d(0x780)][_0x1eb04d(0x410)](0x1),this[_0x1eb04d(0x3f5)]=_0x184890;}async['manageOptimization'](_0x3b3bab){const _0x437e5c=_0x3cd514,_0xe19f23=this[_0x437e5c(0x35d)][_0x437e5c(0x780)]['getRank']();if(!_0xe19f23)return;const _0x1afd24=this['graphService'][_0x437e5c(0x139)](_0x3b3bab);if(!_0x1afd24||_0x1afd24['getStatus']()===_0x425af1[_0x437e5c(0x28f)])return;const _0x12b803=_0x1afd24['getRank']();if(!_0x12b803||_0x12b803<_0xe19f23)return;const _0x3ba317=this['getOutgoingOptimizationConnections'](this[_0x437e5c(0x35d)][_0x437e5c(0x780)][_0x437e5c(0x191)](),_0xe19f23),_0xa04456=this[_0x437e5c(0x8b1)](_0x1afd24[_0x437e5c(0x191)](),_0x12b803)[_0x3ba317[_0x437e5c(0x2b4)](([_0x435f86])=>_0x435f86===_0x3b3bab)];if(!_0xa04456||this[_0x437e5c(0x35d)][_0x437e5c(0x780)]['getRemoteConnections']()[_0x437e5c(0x31e)](_0xa04456[0x0]))return;const _0x12a1d1=this[_0x437e5c(0x31a)][_0x437e5c(0x139)](_0xa04456[0x0]);if(_0x12a1d1&&_0x12a1d1[_0x437e5c(0x427)]()!==_0x425af1['Offline'])try{await this[_0x437e5c(0x35d)][_0x437e5c(0x2df)][_0x437e5c(0x35c)](_0xa04456[0x0],_0x3b5379['Optimization']);const _0x134d65=Array[_0x437e5c(0x88a)](this[_0x437e5c(0x524)][_0x437e5c(0x559)]())[_0x437e5c(0x833)](([,_0x178ec4])=>_0x178ec4===_0x3b3bab);_0x134d65&&this[_0x437e5c(0x524)]['set'](_0x134d65[0x0],_0xa04456[0x0]);}catch(_0x1eac54){if(!(_0x1eac54 instanceof _0xa369e8&&_0x1eac54[_0x437e5c(0x610)]===_0xa369e8[_0x437e5c(0x98c)][_0x437e5c(0x376)]))throw _0x1eac54;_0x61b339[_0x437e5c(0x8b2)](_0x5ce311[_0x437e5c(0x11d)],this['configs'][_0x437e5c(0x780)]['getId'](),_0xa04456[0x0],_0x1eac54[_0x437e5c(0xfe)]);}}[_0x3cd514(0x8b1)](_0x17cf24,_0x3dce18){const _0x40f2c4=_0x3cd514;return Array[_0x40f2c4(0x88a)](_0x17cf24)[_0x40f2c4(0x256)]((_0x5b585e,_0x4f3f20)=>{const _0x405188=_0x40f2c4,_0x431d5d=this[_0x405188(0x31a)]['getRemoteNode'](_0x4f3f20);if(!_0x431d5d||_0x431d5d[_0x405188(0x427)]()===_0x425af1[_0x405188(0x28f)])return _0x5b585e;const _0x3f52b5=_0x431d5d[_0x405188(0x94d)]();if(!_0x3f52b5)return _0x5b585e;const _0x49555a=_0x3f52b5-_0x3dce18;return _0x49555a<=this[_0x405188(0x31a)]['getMinConnections']()||_0x5b585e['push']([_0x4f3f20,_0x49555a]),_0x5b585e;},[])[_0x40f2c4(0x9cb)](([,_0x292c0d],[,_0x31559a])=>_0x292c0d-_0x31559a);}}const _0x25b817=[{'problemType':_0x3378a4[_0x3cd514(0x79b)],'remediations':[{'type':_0x590dbd[_0x3cd514(0x7da)],'component':_0x59cb2e[_0x3cd514(0x1b8)],'action':_0xed1c40['Downgrade']},{'type':_0x590dbd[_0x3cd514(0x7a4)],'component':_0x59cb2e['Resolution'],'action':_0xed1c40[_0x3cd514(0x11c)]}]},{'problemType':_0x3378a4[_0x3cd514(0x2ef)],'remediations':[{'type':_0x590dbd[_0x3cd514(0x7da)],'component':_0x59cb2e[_0x3cd514(0x1b8)],'action':_0xed1c40['Downgrade']}]},{'problemType':_0x3378a4[_0x3cd514(0x3e9)],'remediations':[{'type':_0x590dbd['Remediation'],'component':_0x59cb2e[_0x3cd514(0x1b8)],'action':_0xed1c40[_0x3cd514(0x11c)]}]},{'problemType':_0x3378a4[_0x3cd514(0x489)],'remediations':[{'type':_0x590dbd[_0x3cd514(0x7da)],'component':_0x59cb2e['Resolution'],'action':_0xed1c40[_0x3cd514(0x11c)]}]},{'problemType':_0x3378a4[_0x3cd514(0x12d)],'remediations':[{'type':_0x590dbd[_0x3cd514(0x7da)],'component':_0x59cb2e[_0x3cd514(0x12d)],'action':_0xed1c40[_0x3cd514(0x11c)]}]},{'problemType':_0x3378a4[_0x3cd514(0x831)],'remediations':[{'type':_0x590dbd[_0x3cd514(0x7da)],'component':_0x59cb2e[_0x3cd514(0x12d)],'action':_0xed1c40['Downgrade']}]},{'problemType':_0x3378a4['RoundTripTime'],'remediations':[{'type':_0x590dbd[_0x3cd514(0x7da)],'component':_0x59cb2e['Bitrate'],'action':_0xed1c40[_0x3cd514(0x11c)]}]}];class _0x2e4b0a{[_0x3cd514(0x35d)];[_0x3cd514(0x917)];['lastRemediations']=new Map();constructor(_0x223207){const _0x1d76bc=_0x3cd514;this['configs']=_0x223207,this[_0x1d76bc(0x35d)][_0x1d76bc(0x2df)][_0x1d76bc(0x9a9)](this);}[_0x3cd514(0x8aa)](){const _0x54538e=_0x3cd514;this['configs'][_0x54538e(0x2df)]['unregisterSystemSource'](this);}[_0x3cd514(0x340)](_0x3602a0){this['systemTopic']=_0x3602a0;}[_0x3cd514(0x7b7)](){const _0x421c41=_0x3cd514;delete this[_0x421c41(0x917)];}[_0x3cd514(0x512)](_0x268e16){const _0x21e23c=_0x3cd514;_0x268e16[_0x21e23c(0x1cb)][_0x21e23c(0x3a7)]===_0x4f1a14['Problem']&&this[_0x21e23c(0x8a3)](_0x268e16[_0x21e23c(0x1cb)][_0x21e23c(0x66f)]);}['handleRemediationSystemEvents'](_0x180007){const _0x4347eb=_0x3cd514;_0x180007['content']['type']===_0x590dbd[_0x4347eb(0x7a4)]&&this[_0x4347eb(0x655)](_0x180007[_0x4347eb(0x118)],{'type':_0x590dbd[_0x4347eb(0x7da)],'component':_0x180007['content'][_0x4347eb(0x66f)][_0x4347eb(0x158)],'action':_0x180007[_0x4347eb(0x1cb)]['data'][_0x4347eb(0x421)]});}[_0x3cd514(0x8a3)](_0x349462){const _0x4e1019=_0x3cd514,_0x2a5b71=_0x25b817['find'](_0x2100f9=>_0x2100f9['problemType']===_0x349462[_0x4e1019(0x3a7)]);_0x2a5b71['remediations']?.['forEach'](_0x228fe5=>{const _0x422419=_0x4e1019;this[_0x422419(0x655)](_0x349462[_0x422419(0x24b)],{'type':_0x349462[_0x422419(0x3ac)]===_0x5a23be[_0x422419(0x1c6)]?_0x590dbd[_0x422419(0x7da)]:_0x590dbd[_0x422419(0x7a4)],'component':_0x228fe5[_0x422419(0x158)],'action':_0x228fe5[_0x422419(0x421)]});});}[_0x3cd514(0x655)](_0x1e57b2,_0x5ce30f){const _0x5181a7=_0x3cd514;if(_0x5ce30f['type']===_0x590dbd[_0x5181a7(0x7da)]){const _0x1b7927=Date[_0x5181a7(0x498)](),_0x147ff7=this[_0x5181a7(0x776)][_0x5181a7(0x31f)](_0x1e57b2);if(_0x147ff7&&_0x1b7927-_0x147ff7<0x1388)return;this[_0x5181a7(0x776)][_0x5181a7(0x282)](_0x1e57b2,_0x1b7927);}_0x61b339['log'](_0x5ce311[_0x5181a7(0x7da)],'Apply\x20remediation',_0x5ce30f),_0x61b339[_0x5181a7(0x592)](_0x5181a7(0x8fa),{'clusterId':this[_0x5181a7(0x35d)][_0x5181a7(0x4cb)],'nodeId':this[_0x5181a7(0x35d)][_0x5181a7(0x780)][_0x5181a7(0x47f)](),'nodeType':this[_0x5181a7(0x35d)][_0x5181a7(0x780)][_0x5181a7(0x3a7)],'remoteId':_0x1e57b2,'data':{'type':_0x5ce30f['type'],'component':_0x5ce30f['component'],'action':_0x5ce30f['action']}});let _0x44450a,_0x2d5cab=_0x50d78a;_0x5ce30f[_0x5181a7(0x3a7)]===_0x590dbd[_0x5181a7(0x7a4)]&&(_0x2d5cab=this[_0x5181a7(0x35d)][_0x5181a7(0x780)]['getId'](),_0x44450a=[_0x1e57b2]),this[_0x5181a7(0x917)][_0x5181a7(0x19e)]({'sourceId':_0x2d5cab,'destinationIds':_0x44450a,'messageType':_0xca4838['Remediation'],'content':{'type':_0x5ce30f[_0x5181a7(0x3a7)],'targetId':_0x1e57b2,'data':_0x5ce30f}});}}const _0x389b4b=0x3e8,_0x5a5753=0x7530,_0x2a544e='outbound-rtp',_0x266985=_0x3cd514(0x3d3),_0x3282cd=_0x3cd514(0x66b),_0x337ded=[_0x2a544e,_0x266985],_0x2be2b1=[_0x3282cd];class _0x33ce55{[_0x3cd514(0x6c8)]=0x0;[_0x3cd514(0x7bb)]=0x0;[_0x3cd514(0x486)]=0x0;[_0x3cd514(0x3e4)]=0x0;['packets']=0x0;[_0x3cd514(0x8a2)]=0x0;['previousTimestamp']=0x0;[_0x3cd514(0x789)]=0x0;[_0x3cd514(0x93d)]=0x0;get[_0x3cd514(0x7c1)](){const _0xf2fc7=_0x3cd514;return this[_0xf2fc7(0x8a2)]>0x0&&this[_0xf2fc7(0x837)]>0x0&&Date['now']()-this['currentTimestamp']<_0x5a5753?(this[_0xf2fc7(0x789)]-this[_0xf2fc7(0x93d)])/(this['currentTimestamp']-this[_0xf2fc7(0x837)])*0x8*0x3e8:0x0;}['processReport'](_0x23d2ff){const _0x16a0e1=_0x3cd514;switch(_0x23d2ff[_0x16a0e1(0x3a7)]){case _0x3282cd:this['processInboundReport'](_0x23d2ff);break;case _0x2a544e:this[_0x16a0e1(0x2e1)](_0x23d2ff);break;case _0x266985:this[_0x16a0e1(0x22e)](_0x23d2ff);}}[_0x3cd514(0x5b9)](){const _0x182201=_0x3cd514;return{'bitrate':this[_0x182201(0x7c1)],'packetsLostPerc':this[_0x182201(0x91a)](),'roundTripTime':this[_0x182201(0x6c8)],'jitter':this[_0x182201(0x486)]};}[_0x3cd514(0x2e5)](_0x54c1df){const _0x343cdf=_0x3cd514;this[_0x343cdf(0x26e)](_0x54c1df[_0x343cdf(0x728)]),this[_0x343cdf(0x812)](_0x54c1df[_0x343cdf(0x39b)]),this[_0x343cdf(0x20e)]=_0x54c1df[_0x343cdf(0x47a)],this[_0x343cdf(0x3e4)]=_0x54c1df[_0x343cdf(0x3e4)],void 0x0!==_0x54c1df[_0x343cdf(0x486)]?this[_0x343cdf(0x486)]=_0x54c1df[_0x343cdf(0x486)]:this['jitter']=0x0,void 0x0!==_0x54c1df[_0x343cdf(0x7bb)]?this['estimatedPlayoutTimestamp']=_0x54c1df[_0x343cdf(0x7bb)]:this[_0x343cdf(0x7bb)]=0x0;}[_0x3cd514(0x2e1)](_0x2ca344){const _0x28e659=_0x3cd514;this[_0x28e659(0x26e)](_0x2ca344[_0x28e659(0x6cd)]),this['setTimestamp'](_0x2ca344[_0x28e659(0x39b)]),this[_0x28e659(0x20e)]=_0x2ca344['packetsSent'];}[_0x3cd514(0x22e)](_0x574f14){const _0x12d6f5=_0x3cd514;this[_0x12d6f5(0x6c8)]=0x3e8*_0x574f14[_0x12d6f5(0x6c8)],void 0x0!==_0x574f14[_0x12d6f5(0x486)]?this[_0x12d6f5(0x486)]=_0x574f14[_0x12d6f5(0x486)]:this[_0x12d6f5(0x486)]=0x0;}[_0x3cd514(0x91a)](){const _0x2510cd=_0x3cd514;return this[_0x2510cd(0x20e)]>0x0?this[_0x2510cd(0x3e4)]/this[_0x2510cd(0x20e)]:0x0;}[_0x3cd514(0x812)](_0x278e71){const _0x38fc1b=_0x3cd514;_0x278e71>this['currentTimestamp']&&(this['previousTimestamp']=this[_0x38fc1b(0x8a2)],this[_0x38fc1b(0x8a2)]=_0x278e71);}[_0x3cd514(0x26e)](_0x499ce7){const _0x4234d4=_0x3cd514;this[_0x4234d4(0x93d)]=this['currentBytes'],this[_0x4234d4(0x789)]=_0x499ce7;}}class _0x1a660c extends _0x33ce55{}class _0x3784ba extends _0x33ce55{[_0x3cd514(0x8e0)]=0x0;[_0x3cd514(0x759)]=0x0;[_0x3cd514(0x74f)]=0x0;[_0x3cd514(0x5be)]=0x0;[_0x3cd514(0x6e0)]=0x0;get[_0x3cd514(0x3d6)](){const _0xd1836e=_0x3cd514;return this['currentTimestamp']>0x0&&this[_0xd1836e(0x837)]>0x0&&Date[_0xd1836e(0x498)]()-this[_0xd1836e(0x8a2)]<_0x5a5753?(this[_0xd1836e(0x5be)]-this[_0xd1836e(0x6e0)])/(this[_0xd1836e(0x8a2)]-this[_0xd1836e(0x837)])*0x3e8:0x0;}get[_0x3cd514(0x119)](){const _0x1a18be=_0x3cd514;return this[_0x1a18be(0x8e0)]&&this[_0x1a18be(0x5be)]&&this['currentFrames']>0x0?this['frameTime']/this['currentFrames']:0x0;}set[_0x3cd514(0x7db)](_0x4d392c){const _0x4d2719=_0x3cd514;this['previousFrames']=this[_0x4d2719(0x5be)],this['currentFrames']=_0x4d392c;}[_0x3cd514(0x5b9)](){const _0x58126b=_0x3cd514;return{...super[_0x58126b(0x5b9)](),'FPS':this[_0x58126b(0x3d6)],'timePerFrame':this[_0x58126b(0x119)],'frameWidth':this[_0x58126b(0x759)],'frameHeight':this[_0x58126b(0x74f)]};}[_0x3cd514(0x2e5)](_0x5d43a2){const _0x365183=_0x3cd514;super['processInboundReport'](_0x5d43a2),this[_0x365183(0x8e0)]=_0x5d43a2[_0x365183(0x5f5)],this[_0x365183(0x7db)]=_0x5d43a2['framesDecoded'],this[_0x365183(0x759)]=_0x5d43a2[_0x365183(0x759)],this[_0x365183(0x74f)]=_0x5d43a2['frameHeight'];}[_0x3cd514(0x2e1)](_0x10b848){const _0x449618=_0x3cd514;super['processOutboundReport'](_0x10b848),this[_0x449618(0x8e0)]=_0x10b848['totalEncodeTime'],this[_0x449618(0x7db)]=_0x10b848[_0x449618(0x4ce)],this[_0x449618(0x759)]=_0x10b848[_0x449618(0x759)],this[_0x449618(0x74f)]=_0x10b848[_0x449618(0x74f)];}}class _0x41d332{[_0x3cd514(0x6a7)]=new _0x1a660c();[_0x3cd514(0x41e)]=new _0x3784ba();get[_0x3cd514(0x7c1)](){const _0x4cc068=_0x3cd514;return this[_0x4cc068(0x6a7)]['bitrate']+this[_0x4cc068(0x41e)][_0x4cc068(0x7c1)];}['processReports'](_0x3e8bab){const _0x22dc91=_0x3cd514;return _0x3e8bab[_0x22dc91(0x753)](_0x204bf0=>{const _0x26075d=_0x22dc91;switch(_0x204bf0['kind']){case _0x26075d(0x6a7):this[_0x26075d(0x6a7)][_0x26075d(0x9bb)](_0x204bf0);break;case'video':this[_0x26075d(0x41e)][_0x26075d(0x9bb)](_0x204bf0);}}),this[_0x22dc91(0x5b9)]();}[_0x3cd514(0x5b9)](){const _0x172fa5=_0x3cd514;return{'audio':this[_0x172fa5(0x6a7)][_0x172fa5(0x5b9)](),'video':this[_0x172fa5(0x41e)][_0x172fa5(0x5b9)](),'roundTripTime':this[_0x172fa5(0x81c)](),'AudioVideoDelay':this[_0x172fa5(0x9b1)](),'bitrate':this[_0x172fa5(0x7c1)]};}[_0x3cd514(0x81c)](){const _0x4c2a4d=_0x3cd514;return Math[_0x4c2a4d(0x7ff)]((this[_0x4c2a4d(0x6a7)]['roundTripTime']+this['video'][_0x4c2a4d(0x6c8)])/0x2);}[_0x3cd514(0x9b1)](){const _0x244736=_0x3cd514;return this['audio'][_0x244736(0x7bb)]-this['video'][_0x244736(0x7bb)];}}class _0x2815b5{[_0x3cd514(0xef)]=0x0;[_0x3cd514(0x918)]=0x0;[_0x3cd514(0x474)]=0x0;[_0x3cd514(0x69a)]=0x0;[_0x3cd514(0x956)]=0x0;['senderPreviousBytes']=0x0;[_0x3cd514(0x6a5)]=0x0;[_0x3cd514(0x70c)]=0x0;[_0x3cd514(0x56f)]=0x0;[_0x3cd514(0x212)]=0x0;[_0x3cd514(0x77f)]=0x0;['receiverTimeProcessing']=0x0;[_0x3cd514(0x6c8)]=0x0;get[_0x3cd514(0x7c1)](){const _0x3d121a=_0x3cd514;return this[_0x3d121a(0x13e)]+this['receiverBitrate'];}get[_0x3cd514(0x13e)](){const _0x2f6bad=_0x3cd514;return this[_0x2f6bad(0xef)]>0x0&&this[_0x2f6bad(0x918)]>0x0&&Date[_0x2f6bad(0x498)]()-this['senderCurrentTimestamp']<_0x5a5753?(this['senderCurrentBytes']-this[_0x2f6bad(0x586)])/(this[_0x2f6bad(0xef)]-this[_0x2f6bad(0x918)])*0x8*0x3e8:0x0;}get[_0x3cd514(0x3e7)](){const _0x2630a4=_0x3cd514;return this['receiverCurrentTimestamp']>0x0&&this[_0x2630a4(0x69a)]>0x0&&Date[_0x2630a4(0x498)]()-this['receiverCurrentTimestamp']<_0x5a5753?(this[_0x2630a4(0x6a5)]-this[_0x2630a4(0x70c)])/(this['receiverCurrentTimestamp']-this[_0x2630a4(0x69a)])*0x8*0x3e8:0x0;}[_0x3cd514(0x9bb)](_0xde7d21){const _0x48fcdd=_0x3cd514;switch(_0xde7d21[_0x48fcdd(0x3ac)]){case _0x5a23be[_0x48fcdd(0x1c6)]:this['processSenderReport'](_0xde7d21);break;case _0x5a23be[_0x48fcdd(0x75c)]:this[_0x48fcdd(0x609)](_0xde7d21);}}[_0x3cd514(0x5b9)](){const _0x44723d=_0x3cd514;return{'bitrate':this[_0x44723d(0x7c1)],'senderBitrate':this[_0x44723d(0x13e)],'receiverBitrate':this[_0x44723d(0x3e7)],'totalBytes':this[_0x44723d(0x5b0)](),'senderTotalBytes':this[_0x44723d(0x5b4)](),'receiverTotalBytes':this[_0x44723d(0x6ac)](),'totalMessages':this[_0x44723d(0x56f)]+this[_0x44723d(0x212)],'senderTotalMessages':this[_0x44723d(0x56f)],'receiverTotalMessages':this[_0x44723d(0x212)],'timeProcessing':this[_0x44723d(0x77f)]+this[_0x44723d(0x88e)],'senderTimeProcessing':this[_0x44723d(0x77f)],'receiverTimeProcessing':this[_0x44723d(0x88e)],'roundTripTime':this[_0x44723d(0x6c8)]};}[_0x3cd514(0x5b0)](){const _0x61651b=_0x3cd514;return this[_0x61651b(0x956)]+this[_0x61651b(0x6a5)];}[_0x3cd514(0x5b4)](){const _0x2e35bc=_0x3cd514;return this[_0x2e35bc(0x956)];}[_0x3cd514(0x6ac)](){return this['receiverCurrentBytes'];}[_0x3cd514(0x8ca)](_0x598349){const _0x523fc4=_0x3cd514;this[_0x523fc4(0x92a)](_0x598349[_0x523fc4(0x39b)]),this[_0x523fc4(0x26e)](_0x598349[_0x523fc4(0x6cd)]),this[_0x523fc4(0x56f)]=_0x598349[_0x523fc4(0x46b)],this[_0x523fc4(0x77f)]=_0x598349['timeSending'],this['roundTripTime']=_0x598349[_0x523fc4(0x6c8)];}[_0x3cd514(0x609)](_0x50516a){const _0x4b2eb4=_0x3cd514;this[_0x4b2eb4(0x883)](_0x50516a[_0x4b2eb4(0x39b)]),this[_0x4b2eb4(0x2ab)](_0x50516a[_0x4b2eb4(0x728)]),this[_0x4b2eb4(0x212)]=_0x50516a[_0x4b2eb4(0x1a8)],this[_0x4b2eb4(0x88e)]=_0x50516a[_0x4b2eb4(0x5c5)];}['setSenderTimestamp'](_0x582a96){const _0x5618ef=_0x3cd514;_0x582a96>this[_0x5618ef(0xef)]&&(this[_0x5618ef(0x918)]=this[_0x5618ef(0xef)],this[_0x5618ef(0xef)]=_0x582a96);}[_0x3cd514(0x883)](_0x113dd6){const _0x569901=_0x3cd514;_0x113dd6>this[_0x569901(0x474)]&&(this[_0x569901(0x69a)]=this[_0x569901(0x474)],this[_0x569901(0x474)]=_0x113dd6);}[_0x3cd514(0x26e)](_0x3b5c9b){this['senderPreviousBytes']=this['senderCurrentBytes'],this['senderCurrentBytes']=_0x3b5c9b;}['setReceiverBytes'](_0x27e9b4){const _0x33f4ca=_0x3cd514;this[_0x33f4ca(0x70c)]=this[_0x33f4ca(0x6a5)],this[_0x33f4ca(0x6a5)]=_0x27e9b4;}}class _0x4ba447{['senderStreams']=new Map();[_0x3cd514(0x4da)]=new Map();['dataChannel']=new _0x2815b5();get['senderBitrate'](){const _0x3c5625=_0x3cd514;let _0x9a55a4=0x0;return this[_0x3c5625(0x8de)][_0x3c5625(0x753)](_0x1c7b8b=>{const _0x28a668=_0x3c5625;_0x9a55a4+=_0x1c7b8b[_0x28a668(0x7c1)];}),_0x9a55a4+=this[_0x3c5625(0x342)][_0x3c5625(0x13e)],_0x9a55a4;}get['receiverBitrate'](){const _0x100106=_0x3cd514;let _0x12404f=0x0;return this['receiverStreams'][_0x100106(0x753)](_0x3a9c0e=>{const _0x537356=_0x100106;_0x12404f+=_0x3a9c0e[_0x537356(0x7c1)];}),_0x12404f+=this[_0x100106(0x342)][_0x100106(0x3e7)],_0x12404f;}get[_0x3cd514(0x7c1)](){const _0x92b383=_0x3cd514;return this[_0x92b383(0x13e)]+this[_0x92b383(0x3e7)];}['processReports'](_0x5ea9de,_0x7adf75){const _0x314ba3=_0x3cd514,_0x3f28c1=[],_0x37f290=[];return _0x5ea9de instanceof Array?_0x5ea9de[_0x314ba3(0x753)](_0x32725b=>{const _0x13829b=_0x314ba3;_0x32725b[_0x13829b(0x753)](_0x3bd0be=>{const _0x823de=_0x13829b;_0x2be2b1['includes'](_0x3bd0be[_0x823de(0x3a7)])&&_0x3f28c1[_0x823de(0x63b)](_0x3bd0be),_0x337ded[_0x823de(0x135)](_0x3bd0be[_0x823de(0x3a7)])&&_0x37f290['push'](_0x3bd0be);});}):this[_0x314ba3(0x342)][_0x314ba3(0x9bb)](_0x5ea9de),_0x3f28c1[_0x314ba3(0x4f4)]>0x0&&_0x7adf75?{...this[_0x314ba3(0x1af)](_0x7adf75,_0x3f28c1),'origin':_0x5a23be[_0x314ba3(0x75c)],'streamId':_0x7adf75}:_0x37f290['length']>0x0&&_0x7adf75?{...this['processOutboundReports'](_0x7adf75,_0x37f290),'origin':_0x5a23be[_0x314ba3(0x1c6)],'streamId':_0x7adf75}:void 0x0;}[_0x3cd514(0x5b9)](){const _0x520262=_0x3cd514,_0x2cf9ba={};this[_0x520262(0x8de)][_0x520262(0x753)]((_0x193758,_0x5f54ab)=>{const _0x5621bf=_0x520262;_0x2cf9ba[_0x5f54ab]=_0x193758[_0x5621bf(0x5b9)]();});const _0x1f73f2={};return this[_0x520262(0x4da)][_0x520262(0x753)]((_0x172a21,_0x1f75ab)=>{const _0x308e30=_0x520262;_0x1f73f2[_0x1f75ab]=_0x172a21[_0x308e30(0x5b9)]();}),{'bitrate':this[_0x520262(0x7c1)],'senderBitrate':this[_0x520262(0x13e)],'receiverBitrate':this[_0x520262(0x3e7)],'senderStreams':_0x2cf9ba,'receiverStreams':_0x1f73f2,'dataChannel':this[_0x520262(0x342)][_0x520262(0x5b9)]()};}[_0x3cd514(0x1af)](_0x3a8e88,_0x583763){const _0x2f8762=_0x3cd514;return this[_0x2f8762(0x4da)][_0x2f8762(0x31e)](_0x3a8e88)||this[_0x2f8762(0x4da)][_0x2f8762(0x282)](_0x3a8e88,new _0x41d332()),this[_0x2f8762(0x4da)][_0x2f8762(0x31f)](_0x3a8e88)[_0x2f8762(0x834)](_0x583763);}['processOutboundReports'](_0x255e2d,_0x3d5650){const _0x39dc5c=_0x3cd514;return this[_0x39dc5c(0x8de)]['has'](_0x255e2d)||this[_0x39dc5c(0x8de)][_0x39dc5c(0x282)](_0x255e2d,new _0x41d332()),this[_0x39dc5c(0x8de)][_0x39dc5c(0x31f)](_0x255e2d)[_0x39dc5c(0x834)](_0x3d5650);}}class _0x392950{[_0x3cd514(0x27a)]=new Map();[_0x3cd514(0xba)]=0x0;[_0x3cd514(0x2e0)]=0x0;['pubsubTopics']=new Map();[_0x3cd514(0x507)]=new Map();['keyValueDatabases']=new Map();[_0x3cd514(0x718)]=new Map();[_0x3cd514(0x2ad)]=new Map();['vectorDatabases']=new Map();[_0x3cd514(0x324)]=new Map();[_0x3cd514(0x3d2)]=new Map();[_0x3cd514(0x56f)]=new Map();[_0x3cd514(0x212)]=new Map();['senderTimeProcessing']=new Map();['receiverTimeProcessing']=new Map();[_0x3cd514(0x430)]=new Map();[_0x3cd514(0x917)];[_0x3cd514(0x5b9)](){const _0x85abbb=_0x3cd514,_0x50027={};this[_0x85abbb(0x27a)][_0x85abbb(0x753)]((_0x5e8bb9,_0x15b56f)=>{const _0x5de353=_0x85abbb;_0x50027[_0x15b56f]=_0x5e8bb9[_0x5de353(0x5b9)]();});let _0x2fa859=0x0;this[_0x85abbb(0x77f)][_0x85abbb(0x753)](_0xaa6aa8=>{_0x2fa859+=_0xaa6aa8;});let _0x4976e7=0x0;this[_0x85abbb(0x88e)]['forEach'](_0x53def9=>{_0x4976e7+=_0x53def9;});const _0x124bf1=_0x2fa859+_0x4976e7;let _0x237b3e={'messages':{'total':0x0}};this['systemMessages'][_0x85abbb(0x753)](_0x3b3619=>{const _0xd436ed=_0x85abbb;Object[_0xd436ed(0x298)](_0x3b3619)[_0xd436ed(0x753)](_0x2c821f=>{const _0x38c19e=_0xd436ed;_0x237b3e[_0x2c821f]||(_0x237b3e[_0x2c821f]={}),Object[_0x38c19e(0x298)](_0x3b3619[_0x2c821f])['forEach'](_0x325efb=>{_0x237b3e[_0x2c821f][_0x325efb]||(_0x237b3e[_0x2c821f][_0x325efb]=0x0),_0x237b3e[_0x2c821f][_0x325efb]+=_0x3b3619[_0x2c821f][_0x325efb];});});});let _0x1285e8=0x0,_0x1a1526=0x0,_0xd72368=0x0,_0x5da576=0x0,_0x24435c=0x0;return this[_0x85abbb(0x387)][_0x85abbb(0x753)](_0x4cd833=>{const _0x3e6895=_0x85abbb;_0x1a1526+=_0x4cd833['messagesSent'],_0xd72368+=_0x4cd833[_0x3e6895(0x1a8)],_0x5da576+=_0x4cd833[_0x3e6895(0x6cd)],_0x24435c+=_0x4cd833[_0x3e6895(0x728)];}),this[_0x85abbb(0x507)][_0x85abbb(0x753)](_0x3d686f=>{const _0x20e11d=_0x85abbb;_0x1285e8+=_0x3d686f['storage'],_0x1a1526+=_0x3d686f[_0x20e11d(0x46b)],_0xd72368+=_0x3d686f[_0x20e11d(0x1a8)],_0x5da576+=_0x3d686f['bytesSent'],_0x24435c+=_0x3d686f[_0x20e11d(0x728)];}),this['keyValueDatabases'][_0x85abbb(0x753)](_0x181313=>{const _0x16fe34=_0x85abbb;_0x1285e8+=_0x181313[_0x16fe34(0x793)],_0x1a1526+=_0x181313[_0x16fe34(0x46b)],_0xd72368+=_0x181313['messagesReceived'],_0x5da576+=_0x181313[_0x16fe34(0x6cd)],_0x24435c+=_0x181313[_0x16fe34(0x728)];}),this['generativeAIContexts']['forEach'](_0x479f75=>{const _0x4cef50=_0x85abbb;_0x1285e8+=_0x479f75['storage'],_0x1a1526+=_0x479f75[_0x4cef50(0x46b)],_0xd72368+=_0x479f75['messagesReceived'],_0x5da576+=_0x479f75[_0x4cef50(0x6cd)],_0x24435c+=_0x479f75['bytesReceived'];}),this['generativeAIWorkers']['forEach'](_0x1d8480=>{const _0xce9780=_0x85abbb;_0x1285e8+=_0x1d8480[_0xce9780(0x793)],_0x1a1526+=_0x1d8480[_0xce9780(0x46b)],_0xd72368+=_0x1d8480[_0xce9780(0x1a8)],_0x5da576+=_0x1d8480[_0xce9780(0x6cd)],_0x24435c+=_0x1d8480[_0xce9780(0x728)];}),this[_0x85abbb(0x3c5)][_0x85abbb(0x753)](_0x32212e=>{const _0x46a332=_0x85abbb;_0x1285e8+=_0x32212e[_0x46a332(0x793)],_0x1a1526+=_0x32212e[_0x46a332(0x46b)],_0xd72368+=_0x32212e['messagesReceived'],_0x5da576+=_0x32212e['bytesSent'],_0x24435c+=_0x32212e[_0x46a332(0x728)];}),this[_0x85abbb(0x324)]['forEach'](_0x2e9828=>{const _0x4fa6e8=_0x85abbb;_0x1285e8+=_0x2e9828[_0x4fa6e8(0x793)],_0x1a1526+=_0x2e9828[_0x4fa6e8(0x46b)],_0xd72368+=_0x2e9828[_0x4fa6e8(0x1a8)],_0x5da576+=_0x2e9828['bytesSent'],_0x24435c+=_0x2e9828['bytesReceived'];}),{'STVolatility':this[_0x85abbb(0x201)](),'DTVolatility':this[_0x85abbb(0x2f6)](),'bitrate':this[_0x85abbb(0x3f3)](),'senderBitrate':this[_0x85abbb(0x2fa)](),'receiverBitrate':this[_0x85abbb(0x1ab)](),'totalStorageSize':_0x1285e8,'totalMessages':_0x1a1526+_0xd72368,'totalMessagesSent':_0x1a1526,'totalMessagesReceived':_0xd72368,'totalBytes':_0x5da576+_0x24435c,'totalBytesSent':_0x5da576,'totalBytesReceived':_0x24435c,'systemMessages':_0x237b3e,'timeProcessing':_0x124bf1,'nodes':_0x50027,'pubsubTopics':Object[_0x85abbb(0x1b5)](this[_0x85abbb(0x387)]),'objectStores':Object[_0x85abbb(0x1b5)](this[_0x85abbb(0x507)]),'keyValueDatabases':Object[_0x85abbb(0x1b5)](this[_0x85abbb(0x947)]),'generativeAIContexts':Object[_0x85abbb(0x1b5)](this[_0x85abbb(0x718)]),'generativeAIWorkers':Object[_0x85abbb(0x1b5)](this[_0x85abbb(0x2ad)]),'vectorDatabases':Object[_0x85abbb(0x1b5)](this[_0x85abbb(0x3c5)]),'graphDatabases':Object[_0x85abbb(0x1b5)](this['graphDatabases']),'externalStorages':Object['fromEntries'](this[_0x85abbb(0x3d2)])};}['addRemoteNode'](_0x35e774){const _0x26ee1c=_0x3cd514;this[_0x26ee1c(0x27a)][_0x26ee1c(0x282)](_0x35e774,new _0x4ba447());}[_0x3cd514(0x228)](_0x3325e7){const _0x3df316=_0x3cd514;this[_0x3df316(0x27a)][_0x3df316(0x6f9)](_0x3325e7);}[_0x3cd514(0x834)](_0x35e009,_0x479618,_0x4f5537){const _0x42aba2=_0x3cd514;_0x479618 instanceof Array||this[_0x42aba2(0x89f)](_0x35e009,_0x479618);const _0x10dbcc=this[_0x42aba2(0x27a)][_0x42aba2(0x31f)](_0x35e009)?.[_0x42aba2(0x834)](_0x479618,_0x4f5537);_0x10dbcc&&this[_0x42aba2(0x917)][_0x42aba2(0x19e)]({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x42aba2(0x3dc)],'content':{'type':_0x470a03[_0x42aba2(0x7a1)],'data':{..._0x10dbcc,'nodeId':_0x35e009}}});}[_0x3cd514(0x770)](_0x141cb){const _0x3387fa=_0x3cd514;this['setScheduleTime'](_0x141cb['secheduleTime']),this[_0x3387fa(0x92e)](_0x141cb[_0x3387fa(0x2e0)]),this[_0x3387fa(0x917)]['publish']({'sourceId':_0x50d78a,'messageType':_0xca4838[_0x3387fa(0x3dc)],'content':{'type':_0x470a03['LocalReport'],'data':{'STVolatility':this[_0x3387fa(0x201)](),'DTVolatility':this['getDTVolatility']()}}});}['processServiceReport'](_0x5835ad,_0x9bd906,_0x5f4910){const _0x305c43=_0x3cd514;switch(_0x9bd906){case _0x32bee3[_0x305c43(0x334)]:this[_0x305c43(0x387)][_0x305c43(0x282)](_0x5835ad,_0x5f4910);break;case _0x32bee3[_0x305c43(0x8db)]:this[_0x305c43(0x507)][_0x305c43(0x282)](_0x5835ad,_0x5f4910);break;case _0x32bee3[_0x305c43(0x2e6)]:this[_0x305c43(0x947)][_0x305c43(0x282)](_0x5835ad,_0x5f4910);break;case _0x32bee3[_0x305c43(0x563)]:this[_0x305c43(0x718)]['set'](_0x5835ad,_0x5f4910);break;case _0x32bee3['GenerativeAIWorkerStats']:this[_0x305c43(0x2ad)]['set'](_0x5835ad,_0x5f4910);break;case _0x32bee3[_0x305c43(0x922)]:this[_0x305c43(0x3c5)][_0x305c43(0x282)](_0x5835ad,_0x5f4910);break;case _0x32bee3['GraphDatabaseStats']:this[_0x305c43(0x324)][_0x305c43(0x282)](_0x5835ad,_0x5f4910);break;case _0x32bee3[_0x305c43(0x41d)]:this[_0x305c43(0x3d2)][_0x305c43(0x282)](_0x5835ad,_0x5f4910);}}['registerSystemPublisher'](_0x325a7e){const _0x42ac25=_0x3cd514;this[_0x42ac25(0x917)]=_0x325a7e;}[_0x3cd514(0x7b7)](){const _0x581ffd=_0x3cd514;delete this[_0x581ffd(0x917)];}[_0x3cd514(0x201)](){const _0x129f60=_0x3cd514;return this[_0x129f60(0xba)]>0x0&&this[_0x129f60(0xba)]-_0x389b4b>0x0?(this[_0x129f60(0xba)]-_0x389b4b)/_0x389b4b:0x0;}[_0x3cd514(0x2f6)](){const _0x29c77b=_0x3cd514;return this[_0x29c77b(0x2e0)]>0x0&&this[_0x29c77b(0x2e0)]-0x64>0x0?(this[_0x29c77b(0x2e0)]-0x64)/0x64:0x0;}[_0x3cd514(0x2fa)](){const _0x2bd51c=_0x3cd514;let _0xcf85b8=0x0;return this['nodes'][_0x2bd51c(0x753)](_0x23bc09=>{_0xcf85b8+=_0x23bc09['senderBitrate'];}),_0xcf85b8;}[_0x3cd514(0x1ab)](){const _0x4e8e68=_0x3cd514;let _0x26e787=0x0;return this[_0x4e8e68(0x27a)][_0x4e8e68(0x753)](_0x57e215=>{const _0x11c180=_0x4e8e68;_0x26e787+=_0x57e215[_0x11c180(0x3e7)];}),_0x26e787;}[_0x3cd514(0x3f3)](){const _0x18e316=_0x3cd514;let _0x3a19a8=0x0;return this[_0x18e316(0x27a)][_0x18e316(0x753)](_0x107446=>{const _0x3f48d1=_0x18e316;_0x3a19a8+=_0x107446[_0x3f48d1(0x7c1)];}),_0x3a19a8;}['setScheduleTime'](_0x4106db){const _0x138388=_0x3cd514;this[_0x138388(0xba)]=_0x4106db;}[_0x3cd514(0x92e)](_0x6b3419){this['durationTime']=_0x6b3419;}[_0x3cd514(0x89f)](_0xfa6918,_0x34b342){const _0x2bebcd=_0x3cd514;switch(_0x34b342[_0x2bebcd(0x3ac)]){case _0x5a23be['Sender']:this[_0x2bebcd(0x8ca)](_0xfa6918,_0x34b342);break;case _0x5a23be['Receiver']:this[_0x2bebcd(0x609)](_0xfa6918,_0x34b342);}}['processSenderReport'](_0x3b4b51,_0x33f86a){const _0x377a12=_0x3cd514;this[_0x377a12(0x56f)][_0x377a12(0x282)](_0x3b4b51,_0x33f86a[_0x377a12(0x46b)]),this[_0x377a12(0x77f)][_0x377a12(0x282)](_0x3b4b51,_0x33f86a[_0x377a12(0x876)]);}[_0x3cd514(0x609)](_0x109f62,_0xcb4acb){const _0x51ec9a=_0x3cd514;this[_0x51ec9a(0x212)]['set'](_0x109f62,_0xcb4acb['messagesReceived']),this[_0x51ec9a(0x88e)][_0x51ec9a(0x282)](_0x109f62,_0xcb4acb[_0x51ec9a(0x5c5)]),this[_0x51ec9a(0x430)]['set'](_0x109f62,_0xcb4acb['systemMessages']);}}class _0x136fec{['configs'];['remoteNodes']=new Set();[_0x3cd514(0x58f)];['statsCollection'];[_0x3cd514(0x18b)];['statsReport']=new _0x392950();constructor(_0x47257d){const _0x275464=_0x3cd514;this[_0x275464(0x35d)]=_0x47257d,this[_0x275464(0x35d)]['mediator'][_0x275464(0x9a9)](this['statsReport']),this['statsCollection']=this[_0x275464(0x6cf)](),this[_0x275464(0x18b)]=this[_0x275464(0x216)]();}[_0x3cd514(0x8aa)](){const _0x1ba63d=_0x3cd514;this[_0x1ba63d(0x35d)]['mediator']['unregisterSystemSource'](this[_0x1ba63d(0x805)]),this[_0x1ba63d(0x18b)](),this[_0x1ba63d(0x43d)]();}[_0x3cd514(0x140)](_0x52823e){const _0x5edb95=_0x3cd514;this['remoteNodes'][_0x5edb95(0x6aa)](_0x52823e),this[_0x5edb95(0x805)][_0x5edb95(0x140)](_0x52823e);}['removeRemoteNode'](_0x380866){const _0x9ce902=_0x3cd514;this[_0x9ce902(0x5d6)][_0x9ce902(0x6f9)](_0x380866),this[_0x9ce902(0x805)][_0x9ce902(0x228)](_0x380866);}['handlePeerConnectionSystemEvents'](_0xbeb181){const _0x1c37a4=_0x3cd514;if(_0xbeb181['content']['type']===_0x47c2b4[_0x1c37a4(0x3dc)]){const {nodeId:_0x32cb4c,streamId:_0x3142e8,stats:_0x120181}=_0xbeb181[_0x1c37a4(0x1cb)];this[_0x1c37a4(0x805)][_0x1c37a4(0x834)](_0x32cb4c,_0x120181,_0x3142e8);}}[_0x3cd514(0x38b)](_0x257047){const _0x4e0c3e=_0x3cd514;switch(_0x257047[_0x4e0c3e(0x1cb)]['type']){case _0x32bee3['ObjectStoreStats']:case _0x32bee3[_0x4e0c3e(0x2e6)]:case _0x32bee3['PubSubTopicStats']:case _0x32bee3['GenerativeAIContextStats']:case _0x32bee3[_0x4e0c3e(0x993)]:case _0x32bee3[_0x4e0c3e(0x922)]:case _0x32bee3[_0x4e0c3e(0x809)]:case _0x32bee3['ExternalStorageStats']:this[_0x4e0c3e(0x805)]['processServiceReport'](_0x257047[_0x4e0c3e(0x1cb)][_0x4e0c3e(0x788)],_0x257047[_0x4e0c3e(0x1cb)][_0x4e0c3e(0x3a7)],_0x257047['content'][_0x4e0c3e(0x3b7)]);}}[_0x3cd514(0x216)](){return _0x1bfa0c['setInterval'](()=>{const _0x25ecd8=a0_0x2e46,_0x2e2a2a=this[_0x25ecd8(0x805)][_0x25ecd8(0x5b9)]();_0x61b339[_0x25ecd8(0x8b2)](_0x5ce311['Stats'],'Stats:\x20report',_0x2e2a2a),(0x0,_0x3cf795['addDoc'])((0x0,_0x3cf795[_0x25ecd8(0x6ca)])(_0x349b1d[_0x25ecd8(0x823)](),_0x25ecd8(0x866)+this[_0x25ecd8(0x35d)][_0x25ecd8(0x1a3)]+_0x25ecd8(0x12b)),{'clusterId':this[_0x25ecd8(0x35d)][_0x25ecd8(0x4cb)],'nodeId':this[_0x25ecd8(0x35d)][_0x25ecd8(0x780)][_0x25ecd8(0x47f)](),'nodeType':this['configs']['localNode'][_0x25ecd8(0x3a7)],'timestamp':(0x0,_0x3cf795[_0x25ecd8(0x5eb)])(),'report':_0x2e2a2a}),_0x61b339[_0x25ecd8(0x592)](_0x25ecd8(0x3b7),{'clusterId':this[_0x25ecd8(0x35d)][_0x25ecd8(0x4cb)],'nodeId':this[_0x25ecd8(0x35d)]['localNode'][_0x25ecd8(0x47f)](),'nodeType':this['configs'][_0x25ecd8(0x780)][_0x25ecd8(0x3a7)],'data':{'report':_0x2e2a2a}});},_0x5a5753);}[_0x3cd514(0x6cf)](){const _0x55238b=_0x3cd514;let _0x11b873=!0x1,_0x509f61=Date[_0x55238b(0x498)]();return _0x1bfa0c['setInterval'](async()=>{const _0x140f9b=_0x55238b;if(_0x11b873)return;if(_0x11b873=!0x0,0x0===this['remoteNodes'][_0x140f9b(0x3cb)])return delete this[_0x140f9b(0x58f)],void(_0x11b873=!0x1);const _0x34ec17=Date[_0x140f9b(0x498)]();this[_0x140f9b(0x80e)]();try{await this[_0x140f9b(0x35d)][_0x140f9b(0x2df)][_0x140f9b(0x641)](this[_0x140f9b(0x58f)]);}catch(_0x32ca2d){}this['statsReport'][_0x140f9b(0x770)]({'secheduleTime':_0x34ec17-_0x509f61,'durationTime':Date['now']()-_0x34ec17}),_0x509f61=_0x34ec17,_0x11b873=!0x1;},_0x389b4b);}[_0x3cd514(0x80e)](){const _0x2754ec=_0x3cd514;let _0x4979aa,_0x27112f=!0x1;this[_0x2754ec(0x58f)]&&(this[_0x2754ec(0x5d6)]['has'](this[_0x2754ec(0x58f)])||delete this[_0x2754ec(0x58f)]);for(const _0xc5c449 of this['remoteNodes'])if(_0x4979aa||(_0x4979aa=_0xc5c449),this[_0x2754ec(0x58f)]!==_0xc5c449){if(_0x27112f)return void(this['nextNodeId']=_0xc5c449);}else _0x27112f=!0x0,delete this[_0x2754ec(0x58f)];this[_0x2754ec(0x58f)]||(this['nextNodeId']=_0x4979aa);}}class _0x5ac1eb{[_0x3cd514(0x576)];[_0x3cd514(0x577)];[_0x3cd514(0x917)];constructor(_0x1037bd,_0x455cbd){const _0x5b94e7=_0x3cd514;this[_0x5b94e7(0x576)]=_0x1037bd,this['destination']=_0x455cbd;}[_0x3cd514(0x340)](_0xa26a08){const _0x3ae037=_0x3cd514;this[_0x3ae037(0x917)]=_0xa26a08;}['unregisterSystemPublisher'](){const _0x4f1a66=_0x3cd514;delete this[_0x4f1a66(0x917)];}}class _0xf85496 extends _0x5ac1eb{[_0x3cd514(0x576)];['destination'];['params'];constructor(_0xd4ffa6,_0x72feed,_0x58ddf8){const _0x5ae93f=_0x3cd514;super(_0xd4ffa6,_0x72feed),this[_0x5ae93f(0x576)]=_0xd4ffa6,this[_0x5ae93f(0x577)]=_0x72feed,this[_0x5ae93f(0x317)]=_0x58ddf8;}['subscribe'](_0x5717df,_0x4297ab,_0x2e0dae){const _0x1b5e2d=_0x3cd514;if(this[_0x1b5e2d(0x577)]['getContentType']()===_0x3cfea6[_0x1b5e2d(0x9b0)][_0x1b5e2d(0x562)]){const _0x3bd30e={'type':_0x387829['SubscribeMediaStream'],'label':this[_0x1b5e2d(0x577)][_0x1b5e2d(0x24e)](),'ownerId':_0x5717df,'trackKinds':_0x4297ab??this['destination'][_0x1b5e2d(0x829)](),'params':_0x2e0dae};this['systemTopic']['publish']({'sourceId':this[_0x1b5e2d(0x576)][_0x1b5e2d(0x858)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0xca4838[_0x1b5e2d(0x456)],'content':_0x3bd30e}),this['params']=_0x2e0dae;}}[_0x3cd514(0x23a)](_0x113622,_0x27ee27){const _0x550168=_0x3cd514;if(this[_0x550168(0x577)][_0x550168(0x321)]()===_0x3cfea6[_0x550168(0x9b0)][_0x550168(0x562)]){const _0x559227={'type':_0x387829[_0x550168(0x224)],'label':this['destination'][_0x550168(0x24e)](),'ownerId':_0x113622,'params':_0x27ee27};this[_0x550168(0x917)][_0x550168(0x19e)]({'sourceId':this['source'][_0x550168(0x858)](),'destinationIds':[this['source'][_0x550168(0x551)]()],'messageType':_0xca4838[_0x550168(0x456)],'content':_0x559227}),this['params']=_0x27ee27;}}[_0x3cd514(0x2cf)](_0x4e06ac,_0x4fbee7,_0x50fd7a){const _0x5e4b7e=_0x3cd514;if(this[_0x5e4b7e(0x577)]['getContentType']()===_0x3cfea6[_0x5e4b7e(0x9b0)][_0x5e4b7e(0x562)]){const _0x4cee14={'type':_0x387829[_0x5e4b7e(0x295)],'label':this['destination'][_0x5e4b7e(0x24e)](),'ownerId':_0x4e06ac,'trackKinds':_0x50fd7a??this[_0x5e4b7e(0x577)][_0x5e4b7e(0x829)](),'remainingTracks':_0x4fbee7};this[_0x5e4b7e(0x917)]['publish']({'sourceId':this[_0x5e4b7e(0x576)]['getLocalId'](),'destinationIds':[this[_0x5e4b7e(0x576)][_0x5e4b7e(0x551)]()],'messageType':_0xca4838[_0x5e4b7e(0x456)],'content':_0x4cee14});}}}class _0x5a0aac{[_0x3cd514(0x5cf)];[_0x3cd514(0x264)];[_0x3cd514(0x721)];['systemTopic'];[_0x3cd514(0x1f1)]=new Set();['startTime']=Date[_0x3cd514(0x498)]();['params'];[_0x3cd514(0x37a)]=0x0;constructor(_0x28de94,_0x647c44,_0x1d59b6,_0x2cbf39){const _0x181b51=_0x3cd514;this[_0x181b51(0x5cf)]=_0x647c44,this[_0x181b51(0x264)]=_0x1d59b6,this[_0x181b51(0x721)]=_0x2cbf39,_0x28de94[_0x181b51(0x753)](_0x442bb0=>{const _0x59f5dd=_0x181b51;this[_0x59f5dd(0x1f1)]['add']({'nodeId':_0x442bb0,'type':_0x45214f[_0x59f5dd(0x98f)]});});}[_0x3cd514(0x3fe)](){const _0x14210b=_0x3cd514;return this[_0x14210b(0x721)];}[_0x3cd514(0x340)](_0x19d125){const _0x5c542d=_0x3cd514;this[_0x5c542d(0x917)]=_0x19d125;}['unregisterSystemPublisher'](){const _0x3dad94=_0x3cd514;delete this[_0x3dad94(0x917)];}[_0x3cd514(0x32f)](_0x48ddcb,_0x2cfc74){const _0x39de8d=_0x3cd514;this[_0x39de8d(0x3e2)]=Date[_0x39de8d(0x498)](),this[_0x39de8d(0x1f1)][_0x39de8d(0x921)](),_0x48ddcb[_0x39de8d(0x753)](_0x1874f1=>{const _0xf0c775=_0x39de8d;this[_0xf0c775(0x1f1)]['add']({'nodeId':_0x1874f1,'type':_0x45214f[_0xf0c775(0x98f)]});}),this['retryCount']+=0x1,this['currentDistance']=_0x2cfc74;}[_0x3cd514(0x3a1)](_0x1fbfc2,_0x4c6c5d,_0x25af92,_0x215597,_0x39c573){const _0x373525=_0x3cd514;if(this[_0x373525(0x37a)]>0xa)throw new _0xa369e8(_0xa369e8[_0x373525(0x98c)][_0x373525(0x973)],{'answers':Array[_0x373525(0x88a)](this['answers'])[_0x373525(0x730)](_0x8e6155=>({'nodeId':_0x8e6155[_0x373525(0x24b)],'type':_0x8e6155[_0x373525(0x3a7)]}))});const _0x5140d5=Array[_0x373525(0x88a)](this[_0x373525(0x1f1)])[_0x373525(0x730)](_0x5b288c=>_0x5b288c[_0x373525(0x24b)]);this['params']=_0x39c573,this[_0x373525(0x917)]['publish']({'sourceId':_0x1fbfc2,'destinationIds':_0x5140d5,'messageType':_0xca4838[_0x373525(0x456)],'content':{'type':_0x387829[_0x373525(0x732)],'label':_0x25af92,'ownerId':_0x4c6c5d,'trackKinds':_0x215597,'params':_0x39c573}}),_0x61b339[_0x373525(0x8b2)](_0x5ce311[_0x373525(0x456)],'Send\x20request',_0x1fbfc2,_0x5140d5);}['handleSubscriptionSystemEvents'](_0x5a3ace,_0xe263b6){const _0x1dbca0=_0x3cd514;switch(_0xe263b6[_0x1dbca0(0x3a7)]){case _0x387829[_0x1dbca0(0x564)]:{const _0x3bb9b1=this['currentDistance']>=_0xe263b6['distance']&&_0xe263b6['distance']<=this[_0x1dbca0(0x264)],_0x55539c=Array['from'](this[_0x1dbca0(0x1f1)])[_0x1dbca0(0x833)](_0x4abf1c=>_0x4abf1c[_0x1dbca0(0x24b)]===_0x5a3ace);_0x55539c[_0x1dbca0(0x3a7)]=_0x3bb9b1?_0x45214f[_0x1dbca0(0x882)]:_0x45214f[_0x1dbca0(0x851)],_0x55539c['cost']=_0xe263b6['cost'],_0x55539c['distance']=_0xe263b6['distance'],_0x55539c[_0x1dbca0(0x5cb)]=_0xe263b6[_0x1dbca0(0x5cb)],_0x55539c[_0x1dbca0(0x6c8)]=Date[_0x1dbca0(0x498)]()-this[_0x1dbca0(0x3e2)],_0x55539c[_0x1dbca0(0x317)]=this[_0x1dbca0(0x317)],_0x55539c['ownerId']=_0xe263b6['ownerId'],_0x55539c[_0x1dbca0(0x555)]=_0xe263b6[_0x1dbca0(0x555)],_0x55539c[_0x1dbca0(0x8d1)]=_0xe263b6[_0x1dbca0(0x788)],_0x61b339['log'](_0x5ce311[_0x1dbca0(0x456)],(_0x3bb9b1?'Accepted':_0x1dbca0(0x851))+_0x1dbca0(0x82a),_0x55539c);break;}case _0x387829[_0x1dbca0(0x69d)]:{const _0x438151=Array[_0x1dbca0(0x88a)](this['answers'])[_0x1dbca0(0x833)](_0x8e4010=>_0x8e4010['nodeId']===_0x5a3ace);_0x438151[_0x1dbca0(0x3a7)]=_0x45214f[_0x1dbca0(0x851)],_0x61b339['log'](_0x5ce311[_0x1dbca0(0x456)],_0x1dbca0(0x3f6),_0x438151);break;}}if(this['canChooseAnswer']())return this[_0x1dbca0(0x314)]();}[_0x3cd514(0x314)](){const _0x3fdaa1=_0x3cd514,_0x24a80a=Array[_0x3fdaa1(0x88a)](this[_0x3fdaa1(0x1f1)])[_0x3fdaa1(0x4d1)](_0x4199aa=>_0x4199aa['type']===_0x45214f[_0x3fdaa1(0x882)])[_0x3fdaa1(0x9cb)]((_0x4e7261,_0x18728a)=>_0x4e7261[_0x3fdaa1(0x401)]===_0x18728a['cost']?_0x4e7261[_0x3fdaa1(0x6c8)]-_0x18728a['roundTripTime']:_0x4e7261['cost']-_0x18728a[_0x3fdaa1(0x401)]);if(0x0===_0x24a80a[_0x3fdaa1(0x4f4)])throw new _0xa369e8(_0xa369e8[_0x3fdaa1(0x98c)][_0x3fdaa1(0x973)],{'answers':Array[_0x3fdaa1(0x88a)](this[_0x3fdaa1(0x1f1)])[_0x3fdaa1(0x730)](_0x1985bc=>({'nodeId':_0x1985bc[_0x3fdaa1(0x24b)],'type':_0x1985bc[_0x3fdaa1(0x3a7)]}))});return _0x61b339[_0x3fdaa1(0x8b2)](_0x5ce311[_0x3fdaa1(0x456)],_0x3fdaa1(0x698),_0x24a80a[0x0],this['answers']),_0x24a80a[0x0];}[_0x3cd514(0x7b8)](){const _0x5b9a3e=_0x3cd514;for(const _0x5729ce of this[_0x5b9a3e(0x1f1)])if(_0x5729ce[_0x5b9a3e(0x3a7)]===_0x45214f[_0x5b9a3e(0x98f)])return!0x1;return!0x0;}}class _0x1a15f7{[_0x3cd514(0x788)];[_0x3cd514(0x2bf)];[_0x3cd514(0x1ae)]=_0x214ef4();constructor(_0x568d25,_0x4516d0){const _0x50b495=_0x3cd514;this[_0x50b495(0x788)]=_0x568d25,this[_0x50b495(0x2bf)]=_0x4516d0;}['getLabel'](){const _0xa169ca=_0x3cd514;return this[_0xa169ca(0x788)];}[_0x3cd514(0x321)](){const _0x1cb0df=_0x3cd514;return this[_0x1cb0df(0x2bf)];}['registerSource'](_0x3f2a23){_0x3f2a23['registerPublisher'](this);}['registerDestination'](_0x9b22de){const _0x28c33e=_0x3cd514;_0x9b22de[_0x28c33e(0x503)](this);}[_0x3cd514(0x19e)](_0x2c4e19){const _0x232f3a=_0x3cd514;this[_0x232f3a(0x1ae)][_0x232f3a(0x19e)]({'topicLabel':this[_0x232f3a(0x788)],'contentType':this[_0x232f3a(0x2bf)],'uuid':(0x0,_0x6d7452['v4'])(),'recipients':[],..._0x2c4e19});}['subscribe'](_0xfa6a2d){const _0x42c83e=_0x3cd514;return this['listener'][_0x42c83e(0x5a5)](_0xfa6a2d);}['unregisterSource'](_0x90641c){const _0x4ebe6d=_0x3cd514;_0x90641c[_0x4ebe6d(0x4b3)](this);}[_0x3cd514(0x207)](_0x3dbc1){const _0x467a40=_0x3cd514;_0x3dbc1[_0x467a40(0x48c)](this);}}class _0x133aa6{[_0x3cd514(0x795)]={'topics':new Map(),'subscriptions':new Map()};[_0x3cd514(0x89e)];constructor(_0x446d14){const _0x161717=_0x3cd514;this[_0x161717(0x89e)]=_0x446d14;}get[_0x3cd514(0x45a)](){const _0x3c2aa0=_0x3cd514;return this[_0x3c2aa0(0x795)][_0x3c2aa0(0x45a)];}get[_0x3cd514(0x41b)](){return this['maps']['topics'];}[_0x3cd514(0x3f1)](_0x34f468,_0x490fe0){const _0x1901a6=_0x3cd514,_0x2f4230=this[_0x1901a6(0x89e)](_0x490fe0),_0x855ba3=_0x347542(_0x34f468);if(!_0x2f4230[_0x1901a6(0x49a)])throw new _0xa369e8(_0xa369e8['codes'][_0x1901a6(0x366)],{'message':_0x855ba3+':\x20'+_0x2f4230['remoteId']+_0x1901a6(0x7e7)+_0x2f4230[_0x1901a6(0x2bf)],'subscriptionType':_0x34f468,'subscription':_0x490fe0,'subscriptonParts':_0x2f4230});const _0x50386b=_0x3221c2(_0x34f468,_0x2f4230);if(this[_0x1901a6(0x795)]['subscriptions']['has'](_0x50386b))throw new _0xa369e8(_0xa369e8[_0x1901a6(0x98c)]['InvalidSubscription'],{'message':_0x855ba3+':\x20'+_0x50386b+_0x1901a6(0x6b7),'subscriptionType':_0x34f468,'subscription':_0x490fe0,'subscriptonParts':_0x2f4230});this[_0x1901a6(0x795)]['subscriptions']['set'](_0x50386b,_0x490fe0),this['createTopic'](_0x2f4230,_0x490fe0);}[_0x3cd514(0x413)](_0x4a7236,_0x287185){const _0x66b95c=_0x3cd514,_0x42a7eb=_0x3221c2(_0x287185,_0x4a7236),_0x2bd680=this[_0x66b95c(0x795)][_0x66b95c(0x45a)][_0x66b95c(0x31f)](_0x42a7eb);if(!_0x2bd680)throw new _0xa369e8(_0xa369e8[_0x66b95c(0x98c)][_0x66b95c(0x366)],{'message':_0x347542(_0x287185)+':\x20'+_0x42a7eb+_0x66b95c(0x83f),'subscriptionType':_0x287185,'subscription':_0x2bd680,'subscriptonParts':_0x4a7236});this[_0x66b95c(0x5f6)](_0x2bd680,_0x42a7eb,_0x4a7236);}[_0x3cd514(0x5f6)](_0x247ca6,_0x2fbe02,_0x2b970f){const _0x51545b=_0x3cd514;_0x2b970f=_0x2b970f||this[_0x51545b(0x89e)](_0x247ca6),this['maps'][_0x51545b(0x45a)][_0x51545b(0x6f9)](_0x2fbe02),this[_0x51545b(0x92f)](_0x2b970f,_0x247ca6);}['createTopic'](_0x2321d0,{source:_0x197c36,destination:_0x20e6d7}){const _0x54956f=_0x3cd514,{contentType:_0x85fa13,label:_0x291553,remoteId:_0x15985e}=_0x2321d0,_0x14737f=_0x92bf3c(_0x85fa13,_0x291553,_0x15985e),_0x166eef=new _0x1a15f7(_0x14737f,_0x85fa13);_0x166eef[_0x54956f(0x143)](_0x197c36),_0x166eef[_0x54956f(0x550)](_0x20e6d7),this[_0x54956f(0x795)][_0x54956f(0x41b)]['set'](_0x166eef['getLabel'](),_0x166eef);}['removeTopic'](_0x1447be,_0x42b683){const _0x6de489=_0x3cd514,{contentType:_0x9d6892,label:_0x198fd6,remoteId:_0x36824b}=_0x1447be,_0x4a429d=_0x92bf3c(_0x9d6892,_0x198fd6,_0x36824b),_0x2a7e4c=this[_0x6de489(0x795)][_0x6de489(0x41b)][_0x6de489(0x31f)](_0x4a429d);_0x2a7e4c&&(this[_0x6de489(0x16f)](_0x2a7e4c,_0x42b683),this[_0x6de489(0x795)][_0x6de489(0x41b)]['delete'](_0x4a429d));}[_0x3cd514(0x16f)](_0x28c203,{source:_0xaeb249,destination:_0x103d5d}){const _0x57b4df=_0x3cd514;_0x28c203['unregisterSource'](_0xaeb249),_0x28c203[_0x57b4df(0x207)](_0x103d5d);}[_0x3cd514(0x70e)](_0x16e6ea){const _0x2c5fe8=_0x3cd514;this[_0x2c5fe8(0x795)][_0x2c5fe8(0x45a)][_0x2c5fe8(0x753)]((_0x36f47a,_0x1d19bf)=>{const _0x483e98=_0x2c5fe8;_0x1d19bf[_0x483e98(0x187)](_0x16e6ea)&&this[_0x483e98(0x5f6)](_0x36f47a,_0x1d19bf);});}}class _0x42af1d{[_0x3cd514(0x35d)];[_0x3cd514(0x264)];['subscriptionRequests']=new Map();[_0x3cd514(0x422)]=_0x26b136(new _0x4afff0(this[_0x3cd514(0x6a6)][_0x3cd514(0x4d0)](this),()=>_0x1bfa0c[_0x3cd514(0x12a)](0x64)),!0x0);[_0x3cd514(0x7bf)]=new Map();['maps'];[_0x3cd514(0x565)]=new Map();constructor(_0x954183,_0x20bb00){const _0x34f067=_0x3cd514;this[_0x34f067(0x35d)]=_0x954183,this['maxDistance']=_0x20bb00,this[_0x34f067(0x795)]=new _0x133aa6(({source:_0x433145,destination:_0x5c157f})=>_0x2d85bb(_0x5c157f,_0x433145));}[_0x3cd514(0x3f1)](_0x1c1b42,_0x45fa3b){const _0x3aaeba=_0x3cd514,_0x1559ed=this[_0x3aaeba(0x4fb)](_0x1c1b42)&&this[_0x3aaeba(0x8dc)](_0x45fa3b)?new _0xf85496(_0x1c1b42,_0x45fa3b):new _0x5ac1eb(_0x1c1b42,_0x45fa3b);this[_0x3aaeba(0x795)][_0x3aaeba(0x3f1)](_0x38b3c9[_0x3aaeba(0x894)],_0x1559ed),this[_0x3aaeba(0x35d)][_0x3aaeba(0x2df)][_0x3aaeba(0x9a9)](_0x1559ed);}[_0x3cd514(0x413)](_0x14aff1,_0x480edf,_0x40a658=''){const _0x3658a5=_0x3cd514,_0x233cf1={'contentType':_0x480edf,'label':_0x14aff1,'remoteId':_0x40a658},_0x24b72d=_0x3221c2(_0x38b3c9[_0x3658a5(0x894)],_0x233cf1),_0x471194=this['maps']['subscriptions'][_0x3658a5(0x31f)](_0x24b72d);_0x471194&&this[_0x3658a5(0x5f6)](_0x471194,_0x24b72d);}[_0x3cd514(0x8f3)](_0xa1131a){const _0x557909=_0x3cd514;this[_0x557909(0x64e)](_0xa1131a);}[_0x3cd514(0x4ec)]({label:_0x4739cf,ownerId:_0x18bd79,trackKinds:_0x30bce0,params:_0x585a41}){const _0x5e0f49=_0x3cd514;this[_0x5e0f49(0x51d)](_0x4739cf,_0x18bd79,_0x30bce0,_0x585a41);}[_0x3cd514(0x17a)]({ownerId:_0x4d5ff0,label:_0x365405,params:_0x3afd8d}){const _0xa11948=_0x3cd514,{subscriptionLabel:_0x58d984}=this['getSubscriptionLabel'](_0x365405,_0x4d5ff0),_0x5035ff=this['getMediaSubscription'](_0x58d984);_0x5035ff&&_0x5035ff[_0xa11948(0x23a)](_0x4d5ff0,_0x3afd8d);}[_0x3cd514(0x9bf)]({ownerId:_0x203346,label:_0x413355,trackKinds:_0x3263e7,remainingTracks:_0x51a296}){const _0x1a41fe=_0x3cd514,_0x524a71=_0x3221c2(_0x38b3c9['Incoming'],{'contentType':_0x3cfea6['ContentType'][_0x1a41fe(0x562)],'label':_0x413355,'remoteId':_0x203346});this[_0x1a41fe(0x54b)](_0x524a71);const _0x430d89=this[_0x1a41fe(0x3ee)][_0x1a41fe(0x31f)](_0x524a71);_0x430d89&&(this[_0x1a41fe(0x35d)][_0x1a41fe(0x2df)]['unregisterSystemSource'](_0x430d89),this[_0x1a41fe(0x3ee)][_0x1a41fe(0x6f9)](_0x524a71));const {parts:_0x2f4671,subscriptionLabel:_0xc0e7df}=this[_0x1a41fe(0x32b)](_0x413355,_0x203346),_0x337c38=this['getMediaSubscription'](_0xc0e7df);_0x337c38&&(_0x337c38[_0x1a41fe(0x2cf)](_0x203346,_0x51a296,_0x3263e7),0x0===_0x51a296&&this[_0x1a41fe(0x413)](_0x2f4671[_0x1a41fe(0x788)],_0x2f4671['contentType'],_0x2f4671['remoteId']));}[_0x3cd514(0x426)](_0x61c510,{label:_0x516aec,ownerId:_0x4aec15,trackKinds:_0x2d4906,streamId:_0x3f743b,params:_0x3ecbe0}){const _0x25e235=_0x3cd514,_0x2a6ea6=_0x3221c2(_0x38b3c9[_0x25e235(0x894)],{'contentType':_0x3cfea6['ContentType'][_0x25e235(0x562)],'label':_0x3f743b,'remoteId':_0x61c510}),_0x418fd3=this[_0x25e235(0x795)]['subscriptions'][_0x25e235(0x31f)](_0x2a6ea6);if(!(_0x418fd3&&_0x418fd3 instanceof _0xf85496))throw new _0xa369e8(_0xa369e8['codes'][_0x25e235(0x7e8)],{'label':_0x2a6ea6,'ownerId':_0x4aec15});this['closeSubscription'](_0x418fd3,_0x2a6ea6),this[_0x25e235(0x51d)](_0x516aec,_0x4aec15,_0x2d4906,_0x3ecbe0);}[_0x3cd514(0x5bd)](_0x48af22,_0x9f7987){const _0x33475d=_0x3cd514,{label:_0x1d8554,ownerId:_0x49167a,trackKinds:_0x182a40,params:_0x4fbbd9}=_0x9f7987,_0x4cd5bd=_0x3221c2(_0x38b3c9['Incoming'],{'contentType':_0x3cfea6[_0x33475d(0x9b0)][_0x33475d(0x562)],'label':_0x1d8554,'remoteId':_0x49167a});if(!this[_0x33475d(0x3ee)]['has'](_0x4cd5bd))throw new _0xa369e8(_0xa369e8['codes']['SubscriptionRequestDoesNotExist'],{'label':_0x4cd5bd,'ownerId':_0x49167a,'streamId':_0x9f7987[_0x33475d(0x5cb)],'requests':this[_0x33475d(0x3ee)]});const _0xbef644=this['subscriptionRequests'][_0x33475d(0x31f)](_0x4cd5bd);if(_0x182a40[_0x33475d(0x4f4)]===_0xbef644[_0x33475d(0x3fe)]()[_0x33475d(0x4f4)]&&_0x182a40[_0x33475d(0x99f)](_0x4d8046=>_0xbef644[_0x33475d(0x3fe)]()[_0x33475d(0x135)](_0x4d8046)))try{const _0x273994=_0xbef644['handleSubscriptionSystemEvents'](_0x48af22,_0x9f7987);if(!_0x273994)return;this[_0x33475d(0x5a5)](_0x273994,_0x49167a,_0x1d8554,_0x4cd5bd,_0x182a40);}catch(_0x54916c){return void this[_0x33475d(0x59f)](_0x1d8554,_0x49167a,_0x182a40,_0x4fbbd9);}}[_0x3cd514(0x944)](_0x59ac19,{label:_0x19b3ad,ownerId:_0x5298a5,trackKinds:_0x2e657a}){const _0x4fbb26=_0x3cd514,_0x61ea9b=this[_0x4fbb26(0x35d)][_0x4fbb26(0x2df)]['getRemoteMediaStream'](_0x5298a5,_0x19b3ad);if(!_0x61ea9b)return;const _0xad14c0=_0x61ea9b['getInternalStreamId'](),_0x4613b7=_0x61ea9b[_0x4fbb26(0x832)]();_0x4613b7[_0x4fbb26(0x8a1)](_0x362948=>_0x2e657a['includes'](_0x362948))&&this[_0x4fbb26(0x244)](_0x59ac19,_0x19b3ad,_0xad14c0,_0x5298a5,_0x4613b7);}[_0x3cd514(0x9a1)]({label:_0x189a39,providerId:_0x58ba04,ownerId:_0x29c5cb,streamId:_0x1d31d6,trackKinds:_0x1a0daa}){const _0x172533=_0x3cd514;this[_0x172533(0x244)](_0x58ba04,_0x189a39,_0x1d31d6,_0x29c5cb,_0x1a0daa);}[_0x3cd514(0x50b)](_0x272630){const _0x32845e=_0x3cd514;for(const _0x4b8345 of this[_0x32845e(0x565)]['values']()){const {streamLabel:_0x4897c5,ownerId:_0x280ed7,trackKinds:_0x1d91c4,params:_0x3dba57}=_0x4b8345;if(!_0x280ed7||!_0x1d91c4||!_0x4897c5)return;this['subscriptionRequestsQueue']['push']({'label':_0x4897c5,'ownerId':_0x280ed7,'trackKinds':_0x1d91c4,'params':_0x3dba57,'remoteId':_0x272630});}}['removeSubscriptionsForNode'](_0x15db67){const _0x243dd1=_0x3cd514;this['maps']['subscriptions'][_0x243dd1(0x753)]((_0x4ff2bf,_0x248fed)=>{const _0x56c293=_0x243dd1;if(_0x248fed[_0x56c293(0x187)](_0x15db67)){if(_0x4ff2bf[_0x56c293(0x577)][_0x56c293(0x321)]()===_0x3cfea6[_0x56c293(0x9b0)][_0x56c293(0x562)]){const _0x3cb31d=_0x4ff2bf['destination'];if(_0x3cb31d[_0x56c293(0x832)]()[_0x56c293(0x4f4)]>0x0){const _0x1c2739={'type':_0x387829[_0x56c293(0x20b)],'label':_0x3cb31d[_0x56c293(0x24e)](),'ownerId':_0x3cb31d['getOwnerId'](),'trackKinds':_0x3cb31d['getSubscribedTracks']()};return void this[_0x56c293(0x944)](_0x15db67,_0x1c2739);}}this['closeSubscription'](_0x4ff2bf,_0x248fed);}});}[_0x3cd514(0x8aa)](){const _0x289ac4=_0x3cd514;this[_0x289ac4(0x795)]['subscriptions'][_0x289ac4(0x753)](this[_0x289ac4(0x5f6)]['bind'](this));}[_0x3cd514(0x5a5)](_0x36db0d,_0xb6d242,_0x4a14d6,_0x5f51cc,_0x22b403){const _0x444206=_0x3cd514,_0x52536d=this[_0x444206(0x35d)][_0x444206(0x2df)][_0x444206(0x44f)](_0x36db0d[_0x444206(0x24b)]),_0x2856f9=this[_0x444206(0x35d)][_0x444206(0x2df)][_0x444206(0x534)](_0xb6d242,_0x4a14d6);this['clearSubscriptionRequestTimeout'](_0x5f51cc),this[_0x444206(0x3ee)][_0x444206(0x31e)](_0x5f51cc)&&(this[_0x444206(0x35d)][_0x444206(0x2df)]['unregisterSystemSource'](this[_0x444206(0x3ee)][_0x444206(0x31f)](_0x5f51cc)),this[_0x444206(0x3ee)]['delete'](_0x5f51cc)),this['cleanOldSubscription'](_0x36db0d,_0xb6d242,_0x4a14d6,_0x2856f9),_0x2856f9[_0x444206(0x105)](_0x36db0d[_0x444206(0x5cb)]),_0x2856f9[_0x444206(0x756)](_0x36db0d[_0x444206(0x24b)]);const _0x311b2d=_0x2d85bb(_0x2856f9,_0x52536d),_0x197ee2=_0x3221c2(_0x38b3c9['Incoming'],_0x311b2d);this[_0x444206(0x795)][_0x444206(0x45a)][_0x444206(0x31e)](_0x197ee2)||this[_0x444206(0x3f1)](_0x52536d,_0x2856f9);const _0xd9455a=this[_0x444206(0x795)][_0x444206(0x45a)]['get'](_0x197ee2);if(!(_0xd9455a&&_0xd9455a instanceof _0xf85496))throw new _0xa369e8(_0xa369e8[_0x444206(0x98c)][_0x444206(0x7e8)],{'label':_0x5f51cc,'ownerId':_0xb6d242});_0x61b339[_0x444206(0x592)](_0x444206(0x3fa),{'clusterId':this[_0x444206(0x35d)]['clusterId'],'nodeId':this[_0x444206(0x35d)][_0x444206(0x780)][_0x444206(0x47f)](),'nodeType':this[_0x444206(0x35d)][_0x444206(0x780)][_0x444206(0x3a7)],'data':{'subscriptionLabel':_0x197ee2,'chosenAnswer':_0x36db0d}}),this['chosenAnswers'][_0x444206(0x282)](_0x197ee2,_0x36db0d),_0xd9455a[_0x444206(0x5a5)](_0xb6d242,_0x22b403,_0x36db0d[_0x444206(0x317)]);}[_0x3cd514(0x64e)]({ownerId:_0x374321,label:_0x4c6f89}){const _0x4b83cd=_0x3cd514,_0x4a2936=this['configs']['mediator'][_0x4b83cd(0x534)](_0x374321,_0x4c6f89),[_0x2a57c1,_0x1fe74e]=Array['from'](this[_0x4b83cd(0x795)]['subscriptions'][_0x4b83cd(0x559)]())['find'](([_0xed6302,_0x12f070])=>-0x1!==_0xed6302[_0x4b83cd(0x8f4)](_0x4a2936['getInternalStreamId']()));return this[_0x4b83cd(0x5f6)](_0x1fe74e,_0x2a57c1);}['closeSubscription'](_0x2e4a00,_0x568715){const _0x3104ed=_0x3cd514;this['configs'][_0x3104ed(0x2df)][_0x3104ed(0x9c1)](_0x2e4a00),this['maps'][_0x3104ed(0x5f6)](_0x2e4a00,_0x568715);}[_0x3cd514(0x4fb)](_0x299217){const _0x3a20fb=_0x3cd514;return _0x299217['getSupportedContentTypes']()[_0x3a20fb(0x135)](_0x3cfea6['ContentType'][_0x3a20fb(0x562)]);}['isMediaDestination'](_0x1ccda2){const _0x419dde=_0x3cd514;return _0x1ccda2[_0x419dde(0x321)]()===_0x3cfea6[_0x419dde(0x9b0)][_0x419dde(0x562)];}async[_0x3cd514(0x59f)](_0x5ba434,_0x2f1a80,_0x5915ab,_0x353f48){const _0x4cec77=_0x3cd514;await _0x1bfa0c[_0x4cec77(0x12a)](0x3e8);const _0xd8e220=_0x3221c2(_0x38b3c9[_0x4cec77(0x894)],{'contentType':_0x3cfea6['ContentType'][_0x4cec77(0x562)],'label':_0x5ba434,'remoteId':_0x2f1a80});this[_0x4cec77(0x54b)](_0xd8e220);const _0x98cac3=this[_0x4cec77(0x3ee)][_0x4cec77(0x31f)](_0xd8e220);if(!_0x98cac3)throw new _0xa369e8(_0xa369e8[_0x4cec77(0x98c)]['SubscriptionRequestDoesNotExist'],{'label':_0xd8e220,'ownerId':_0x2f1a80});const _0x46ba0e=this[_0x4cec77(0x35d)][_0x4cec77(0x2df)][_0x4cec77(0x7bc)](_0x4ed599=>_0x4ed599['isConnected']()),_0x5620c6=this[_0x4cec77(0x35d)][_0x4cec77(0x2df)][_0x4cec77(0x370)](this['configs'][_0x4cec77(0x780)][_0x4cec77(0x47f)](),_0x2f1a80);_0x98cac3[_0x4cec77(0x32f)](_0x46ba0e['map'](_0x24e684=>_0x24e684[_0x4cec77(0x551)]()),_0x5620c6);try{_0x98cac3[_0x4cec77(0x3a1)](this[_0x4cec77(0x35d)]['localNode'][_0x4cec77(0x47f)](),_0x2f1a80,_0x5ba434,_0x5915ab,_0x353f48),this[_0x4cec77(0x17c)](_0x5ba434,_0x2f1a80,_0x5915ab,_0x353f48,_0xd8e220,_0x98cac3);}catch(_0x3d6808){this[_0x4cec77(0x422)]['push']({'label':_0x5ba434,'ownerId':_0x2f1a80,'trackKinds':_0x5915ab,'params':_0x353f48});}}['requestSubscription'](_0x5d641e,_0x27c884,_0x3d9d6b,_0x5e6075){const _0x20e6ec=_0x3cd514;this[_0x20e6ec(0x422)]['push']({'label':_0x5d641e,'ownerId':_0x27c884,'trackKinds':_0x3d9d6b,'params':_0x5e6075});}[_0x3cd514(0x6a6)]({label:_0x138db0,ownerId:_0x21ab42,trackKinds:_0x15fb9f,params:_0xcc7847,remoteId:_0x101b1c}){const _0x349797=_0x3cd514;if(!this[_0x349797(0x35d)][_0x349797(0x2df)][_0x349797(0x534)](_0x21ab42,_0x138db0))return;if(!this[_0x349797(0x35d)][_0x349797(0x2df)]['getLocalNode']()[_0x349797(0x94d)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x101b1c){const _0x2e14b8=this[_0x349797(0x35d)][_0x349797(0x2df)][_0x349797(0x281)]()['find'](_0x24dced=>_0x24dced[_0x349797(0x47f)]()===_0x101b1c),_0x2f0121=_0x2e14b8?.[_0x349797(0x94d)]();if(!_0x2e14b8||!_0x2f0121)throw new Error(_0x349797(0x663));const _0x1b10a3=this[_0x349797(0x35d)][_0x349797(0x2df)]['getRemoteNodes']()[_0x349797(0x833)](_0xabe918=>_0xabe918[_0x349797(0x47f)]()===_0x21ab42),_0x42117e=_0x1b10a3?.[_0x349797(0x94d)]();if(!_0x1b10a3||!_0x42117e)throw new Error(_0x349797(0x930));const _0x31240e=this['chosenAnswers'][_0x349797(0x31f)](_0x138db0);if(_0x31240e){const _0xe12655=this[_0x349797(0x35d)]['mediator'][_0x349797(0x281)]()['find'](_0x22b998=>_0x22b998[_0x349797(0x47f)]()===_0x31240e['nodeId']),_0x98ce5b=_0xe12655?.[_0x349797(0x94d)]();if(!_0xe12655||!_0x98ce5b)throw new Error(_0x349797(0x817));if(Math[_0x349797(0xd3)](_0x98ce5b-_0x42117e)<Math[_0x349797(0xd3)](_0x2f0121-_0x42117e))return;}}const _0x2965cc=this[_0x349797(0x35d)][_0x349797(0x2df)][_0x349797(0x7bc)](_0x474232=>_0x474232['isConnected']()&&(!_0x101b1c||_0x474232[_0x349797(0x551)]()===_0x101b1c));if(!_0x2965cc[_0x349797(0x4f4)]||0x0===_0x2965cc['length'])throw new Error(_0x349797(0x9b3));const _0xe1c36f=this[_0x349797(0x35d)][_0x349797(0x2df)][_0x349797(0x370)](this['configs'][_0x349797(0x780)][_0x349797(0x47f)](),_0x21ab42),_0x2c3137=_0x3221c2(_0x38b3c9[_0x349797(0x894)],{'contentType':_0x3cfea6[_0x349797(0x9b0)][_0x349797(0x562)],'label':_0x138db0,'remoteId':_0x21ab42});if(this[_0x349797(0x3ee)][_0x349797(0x31e)](_0x2c3137)){if(_0x101b1c)throw new Error('We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set');const _0x386bc6=this['subscriptionRequests'][_0x349797(0x31f)](_0x2c3137)[_0x349797(0x3fe)]();if(_0x386bc6[_0x349797(0x4f4)]===_0x15fb9f[_0x349797(0x4f4)]&&_0x386bc6[_0x349797(0x99f)](_0x4d3524=>_0x15fb9f['includes'](_0x4d3524)))return;this[_0x349797(0x35d)][_0x349797(0x2df)][_0x349797(0x9c1)](this['subscriptionRequests']['get'](_0x2c3137)),this[_0x349797(0x3ee)][_0x349797(0x6f9)](_0x2c3137),_0x15fb9f=Array['from'](new Set(_0x15fb9f[_0x349797(0x1a6)](_0x386bc6))),this[_0x349797(0x54b)](_0x2c3137);}const _0x261e71=new _0x5a0aac(_0x2965cc['map'](_0x4433f4=>_0x4433f4[_0x349797(0x551)]()),_0xe1c36f,this[_0x349797(0x264)],_0x15fb9f);this[_0x349797(0x35d)][_0x349797(0x2df)][_0x349797(0x9a9)](_0x261e71),this[_0x349797(0x3ee)]['set'](_0x2c3137,_0x261e71),_0x261e71['sendRequest'](this[_0x349797(0x35d)][_0x349797(0x780)][_0x349797(0x47f)](),_0x21ab42,_0x138db0,_0x15fb9f,_0xcc7847),this[_0x349797(0x17c)](_0x138db0,_0x21ab42,_0x15fb9f,_0xcc7847,_0x2c3137,_0x261e71);}[_0x3cd514(0x54b)](_0x59432d){const _0x53a0fc=_0x3cd514;this['subscriptionRequestTimeouts']['has'](_0x59432d)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x53a0fc(0x31f)](_0x59432d)),this[_0x53a0fc(0x7bf)][_0x53a0fc(0x6f9)](_0x59432d));}[_0x3cd514(0x17c)](_0x422ac3,_0x27082b,_0xeff05f,_0x443db0,_0x485209,_0x23fe77){const _0xa62177=_0x3cd514;this['clearSubscriptionRequestTimeout'](_0x485209),this[_0xa62177(0x7bf)][_0xa62177(0x282)](_0x485209,setTimeout(()=>{const _0x361ecc=_0xa62177;this['subscriptionRequestTimeouts'][_0x361ecc(0x6f9)](_0x485209);try{const _0x177b7b=_0x23fe77[_0x361ecc(0x314)]();this[_0x361ecc(0x5a5)](_0x177b7b,_0x27082b,_0x422ac3,_0x485209,_0xeff05f);}catch(_0x24b0d3){this[_0x361ecc(0x59f)](_0x422ac3,_0x27082b,_0xeff05f,_0x443db0);}},0x7d0));}['findNewMediaSubscription'](_0x38302b,_0x335939,_0x7aeb1b,_0x424055,_0x26719a){const _0x112dd9=_0x3cd514,{subscriptionLabel:_0x5265e3}=this[_0x112dd9(0x32b)](_0x335939,_0x424055),_0x2d89d2=this['getMediaSubscription'](_0x5265e3),_0x2285ac=_0x2d89d2?.[_0x112dd9(0x317)];_0x2d89d2&&(_0x2d89d2[_0x112dd9(0x2cf)](_0x424055,0x0),this[_0x112dd9(0x413)](_0x7aeb1b,_0x3cfea6[_0x112dd9(0x9b0)][_0x112dd9(0x562)],_0x38302b)),this[_0x112dd9(0x51d)](_0x335939,_0x424055,_0x26719a,_0x2285ac);}[_0x3cd514(0x684)](_0x59db6c){const _0x4b708f=_0x3cd514,_0x15616c=this[_0x4b708f(0x795)][_0x4b708f(0x45a)]['get'](_0x59db6c);if(_0x15616c){if(!(_0x15616c instanceof _0xf85496))throw new _0xa369e8(_0xa369e8[_0x4b708f(0x98c)][_0x4b708f(0x366)],{'label':_0x59db6c,'subscription':_0x15616c});return _0x15616c;}}['getSubscriptionLabel'](_0x391cf4,_0x4cc7a6){const _0x5ce111=_0x3cd514,_0xa80818=this[_0x5ce111(0x13d)](_0x391cf4,_0x4cc7a6);return{'parts':_0xa80818,'subscriptionLabel':_0x3221c2(_0x38b3c9['Incoming'],_0xa80818)};}[_0x3cd514(0x13d)](_0x401dea,_0x59d808){const _0x440120=_0x3cd514,_0x4bb71d=this[_0x440120(0x35d)][_0x440120(0x2df)]['getRemoteMediaStream'](_0x59d808,_0x401dea),_0x35e833=_0x4bb71d['getProviderId']();if(!_0x35e833)throw new _0xa369e8(_0xa369e8[_0x440120(0x98c)][_0x440120(0x596)],{'label':_0x401dea,'streamId':_0x4bb71d[_0x440120(0x711)](),'ownerId':_0x59d808,'localId':this[_0x440120(0x35d)]['localNode'][_0x440120(0x47f)]()});return{'contentType':_0x3cfea6['ContentType']['Media'],'label':_0x4bb71d['getInternalStreamId'](),'remoteId':_0x35e833};}[_0x3cd514(0x82f)](_0x4d4553,_0x3bdd4d,_0xed69a7,_0x4660aa){const _0xaf38e7=_0x3cd514,_0x38a727=_0x4660aa[_0xaf38e7(0x8ef)]();if(_0x38a727&&_0x38a727!==_0x4d4553[_0xaf38e7(0x24b)]){const {parts:_0xc1be3b,subscriptionLabel:_0x5d63ba}=this[_0xaf38e7(0x32b)](_0xed69a7,_0x3bdd4d),_0x389300=this[_0xaf38e7(0x684)](_0x5d63ba);_0x389300&&(_0x389300[_0xaf38e7(0x2cf)](_0x3bdd4d,0x0),this[_0xaf38e7(0x413)](_0xc1be3b[_0xaf38e7(0x788)],_0xc1be3b[_0xaf38e7(0x2bf)],_0xc1be3b['remoteId']));}}}class _0x423752{[_0x3cd514(0x35d)];['maxOutgoingSubscriptions'];[_0x3cd514(0x795)];constructor(_0x3ed280,_0x2cf385){const _0x495723=_0x3cd514;this[_0x495723(0x35d)]=_0x3ed280,this[_0x495723(0x910)]=_0x2cf385,this['maps']=new _0x133aa6(({source:_0x40548e,destination:_0x5024b7})=>_0x2d85bb(_0x40548e,_0x5024b7));}[_0x3cd514(0x3f1)](_0xd397b8,_0x536027){const _0x4bdfd9=_0x3cd514,_0x7d9578={'source':_0xd397b8,'destination':_0x536027};this[_0x4bdfd9(0x795)][_0x4bdfd9(0x3f1)](_0x38b3c9[_0x4bdfd9(0x1aa)],_0x7d9578);}[_0x3cd514(0x413)](_0x24f8ff,_0x20a711,_0x1910c6=''){const _0x3c65f3={'contentType':_0x20a711,'label':_0x24f8ff,'remoteId':_0x1910c6};this['maps']['removeSubscription'](_0x3c65f3,_0x38b3c9['Outgoing']);}[_0x3cd514(0x3c1)](_0x2d85cd,_0x13c3a1){const _0x106e26=_0x3cd514;let _0x499eb6;_0x499eb6=_0x13c3a1['ownerId']!==this[_0x106e26(0x35d)][_0x106e26(0x780)][_0x106e26(0x47f)]()?this[_0x106e26(0x35d)][_0x106e26(0x2df)]['getRemoteMediaStream'](_0x13c3a1['ownerId'],_0x13c3a1['label']):this[_0x106e26(0x35d)][_0x106e26(0x2df)][_0x106e26(0x6ba)](_0x13c3a1[_0x106e26(0x788)]);const _0x30e7cc=_0x3221c2(_0x38b3c9[_0x106e26(0x1aa)],{'contentType':_0x3cfea6[_0x106e26(0x9b0)]['Media'],'label':_0x499eb6[_0x106e26(0x4e4)](),'remoteId':_0x2d85cd}),_0xc48a2e=this[_0x106e26(0x37c)]();if(!this['maps'][_0x106e26(0x45a)][_0x106e26(0x31e)](_0x30e7cc)&&_0xc48a2e>=this[_0x106e26(0x910)])return{'type':_0x387829['RestartNeedMediaStream'],'ownerId':_0x13c3a1[_0x106e26(0x961)],'label':_0x13c3a1[_0x106e26(0x788)],'streamId':_0x499eb6[_0x106e26(0x4e4)](),'trackKinds':_0x13c3a1[_0x106e26(0x555)],'params':_0x13c3a1[_0x106e26(0x317)]};_0x499eb6 instanceof _0x322b05&&!_0x499eb6['isSubscribed'](_0x13c3a1[_0x106e26(0x555)])&&_0x499eb6[_0x106e26(0x5a5)](_0x13c3a1[_0x106e26(0x317)]),this[_0x106e26(0x795)]['subscriptions'][_0x106e26(0x31e)](_0x30e7cc)||this[_0x106e26(0x3f1)](_0x499eb6[_0x106e26(0x9c0)](_0x2d85cd),this[_0x106e26(0x35d)][_0x106e26(0x2df)]['getConnection'](_0x2d85cd));}['handleSubscriptionUnsubscribeMediaStream'](_0x3d0541,{label:_0x3da97e,ownerId:_0x40b6fa,remainingTracks:_0x1fa3ae}){const _0x41c560=_0x3cd514;if(_0x1fa3ae>0x0)return;let _0x21b65f;_0x21b65f=_0x40b6fa!==this[_0x41c560(0x35d)]['localNode'][_0x41c560(0x47f)]()?this[_0x41c560(0x35d)][_0x41c560(0x2df)][_0x41c560(0x534)](_0x40b6fa,_0x3da97e):this[_0x41c560(0x35d)][_0x41c560(0x2df)]['getLocalMediaStream'](_0x3da97e);const _0x235645=_0x21b65f[_0x41c560(0x4e4)](),_0x58aaa7=_0x3cfea6[_0x41c560(0x9b0)][_0x41c560(0x562)];this['removeSubscription'](_0x235645,_0x58aaa7,_0x3d0541);}[_0x3cd514(0x9bf)](_0x3e64bc,{label:_0x72386e,ownerId:_0x355af8,trackKinds:_0xa342bb}){const _0x24f51e=_0x3cd514;if(_0x3e64bc!==_0x50d78a)return[];let _0x5f4a4c=[];for(const _0x38bc4f of this[_0x24f51e(0x795)][_0x24f51e(0x45a)]){const {source:_0x268e4d,destination:_0x5ee0d2}=_0x38bc4f[0x1];_0x268e4d[_0x24f51e(0x24e)]()===_0x72386e&&_0x268e4d[_0x24f51e(0x781)]()===_0x355af8&&_0x5f4a4c['push']({'sourceId':this['configs']['localNode'][_0x24f51e(0x47f)](),'destinationIds':[_0x5ee0d2[_0x24f51e(0x551)]()],'messageType':_0xca4838[_0x24f51e(0x456)],'content':{'type':_0x387829['MediaStreamUnavailable'],'label':_0x72386e,'ownerId':_0x355af8,'trackKinds':_0xa342bb}});}return _0x5f4a4c;}[_0x3cd514(0x6ec)](_0x17557e,_0x40a51e){const _0x5ed96e=_0x3cd514,{label:_0x4bbe90,ownerId:_0x5c9f15,trackKinds:_0x863504,params:_0x5b949d}=_0x40a51e,{hasTracks:_0x2322e3,streamId:_0x2cdd18,hasResolution:_0x488ecf,distance:_0x2957c9,subscriptionLabel:_0x40d309}=this['getSubscriptionInfo'](_0x17557e,_0x40a51e);let _0x5d32b6=this[_0x5ed96e(0x37c)]()<this[_0x5ed96e(0x910)]&&(_0x2322e3||_0x2957c9>-0x1)?_0x387829[_0x5ed96e(0x564)]:_0x387829[_0x5ed96e(0x69d)];const _0x55b0bd=_0x2957c9<0x0?0xa:_0x2957c9;let _0x4b9cb1=_0x2322e3?_0x488ecf?_0x55b0bd:_0x55b0bd+0x0:_0x55b0bd+0xa;return _0x40d309&&this['maps']['subscriptions'][_0x5ed96e(0x31e)](_0x40d309)&&(_0x2322e3&&(_0x4b9cb1=0x0),_0x5d32b6=_0x387829[_0x5ed96e(0x564)]),{'type':_0x5d32b6,'cost':_0x4b9cb1,'distance':_0x2957c9,'label':_0x4bbe90,'ownerId':_0x5c9f15,'streamId':_0x2cdd18,'trackKinds':_0x863504,'params':_0x5b949d};}[_0x3cd514(0x8f3)](_0x4537ca){const _0x3a273d=_0x3cd514,{label:_0x394326,ownerId:_0x927027}=_0x4537ca,_0x5a7a3d=this[_0x3a273d(0x35d)][_0x3a273d(0x2df)][_0x3a273d(0x534)](_0x927027,_0x394326);this['maps'][_0x3a273d(0x45a)]['forEach'](_0x1546b1=>{const _0x289000=_0x3a273d;if(_0x1546b1[_0x289000(0x576)][_0x289000(0x711)]()===_0x5a7a3d[_0x289000(0x4e4)]()){const _0x5f2249=_0x1546b1[_0x289000(0x577)];this[_0x289000(0x413)](_0x5a7a3d['getShareableStreamId'](),_0x3cfea6[_0x289000(0x9b0)][_0x289000(0x562)],_0x5f2249[_0x289000(0x551)]());}});}[_0x3cd514(0x1c5)]({label:_0x459353}){const _0x5ac555=_0x3cd514,_0x3fadb0=this[_0x5ac555(0x35d)]['mediator'][_0x5ac555(0x6ba)](_0x459353);this[_0x5ac555(0x795)][_0x5ac555(0x45a)]['forEach'](_0x399d6b=>{const _0x2b7688=_0x5ac555;if(_0x399d6b[_0x2b7688(0x576)][_0x2b7688(0x711)]()===_0x3fadb0['getShareableStreamId']()){const _0x5357ec=_0x399d6b['destination'];this['removeSubscription'](_0x3fadb0[_0x2b7688(0x4e4)](),_0x3cfea6[_0x2b7688(0x9b0)][_0x2b7688(0x562)],_0x5357ec['getRemoteId']());}});}[_0x3cd514(0x70e)](_0x3d4152){const _0x4a0b8e=_0x3cd514;this[_0x4a0b8e(0x795)][_0x4a0b8e(0x70e)](_0x3d4152);}[_0x3cd514(0x8aa)](){const _0x51289c=_0x3cd514;this['maps'][_0x51289c(0x45a)]['forEach'](this[_0x51289c(0x5f6)][_0x51289c(0x4d0)](this));}['closeSubscription'](_0xbf8290,_0x499d6d){const _0x1660ba=_0x3cd514;this[_0x1660ba(0x795)]['closeSubscription'](_0xbf8290,_0x499d6d);}[_0x3cd514(0x8cb)](_0x4e67fd,{label:_0x262daa,ownerId:_0x2212b0,trackKinds:_0x399cb0,params:_0x5ae287}){const _0x209732=_0x3cd514;if(_0x2212b0!==this['configs']['localNode'][_0x209732(0x47f)]()){const _0x315030=this[_0x209732(0x35d)][_0x209732(0x2df)][_0x209732(0x534)](_0x2212b0,_0x262daa);return _0x315030&&_0x315030[_0x209732(0x8ef)]()!==_0x4e67fd?{'hasTracks':_0x315030[_0x209732(0x2a7)](_0x399cb0),'hasResolution':this['canProvideResolution'](_0x315030[_0x209732(0x884)](),_0x5ae287),'streamId':_0x315030['getShareableStreamId'](),'distance':this[_0x209732(0x35d)][_0x209732(0x2df)]['getDistance'](_0x4e67fd,_0x2212b0),'subscriptionLabel':_0x3221c2(_0x38b3c9['Outgoing'],{'contentType':_0x3cfea6[_0x209732(0x9b0)][_0x209732(0x562)],'label':_0x315030['getShareableStreamId'](),'remoteId':_0x4e67fd})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x5ab45e=this[_0x209732(0x35d)][_0x209732(0x2df)]['getLocalMediaStream'](_0x262daa);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x5ab45e['getShareableStreamId'](),'distance':0x0,'subscriptionLabel':_0x3221c2(_0x38b3c9[_0x209732(0x1aa)],{'contentType':_0x3cfea6[_0x209732(0x9b0)][_0x209732(0x562)],'label':_0x5ab45e[_0x209732(0x4e4)](),'remoteId':_0x4e67fd})};}['getNumberOutgoingSubscriptions'](){const _0x19ecb4=_0x3cd514;return Array[_0x19ecb4(0x88a)](this[_0x19ecb4(0x795)][_0x19ecb4(0x45a)]['entries']())[_0x19ecb4(0x4d1)](([_0x4b0489,{source:_0x31161f}])=>_0x4b0489[_0x19ecb4(0xe8)](_0x38b3c9[_0x19ecb4(0x1aa)])&&_0x31161f[_0x19ecb4(0x321)]()===_0x3cfea6[_0x19ecb4(0x9b0)][_0x19ecb4(0x562)])[_0x19ecb4(0x4f4)];}[_0x3cd514(0x924)](_0x5af550,_0x650aca){const _0x5e5846=_0x3cd514;if(!_0x650aca||!_0x650aca['video']||'boolean'==typeof _0x650aca[_0x5e5846(0x41e)]||!_0x650aca['video']['maxResolution'])return!0x0;const {width:_0x405aad,height:_0xa7002e}=_0x650aca[_0x5e5846(0x41e)]['maxResolution'];return _0x5af550[_0x5e5846(0x7e5)]>=_0x405aad&&_0x5af550[_0x5e5846(0x4f6)]>=_0xa7002e;}}class _0x436ecd{[_0x3cd514(0x35d)];['maxOutgoingSubscriptions'];[_0x3cd514(0x264)];[_0x3cd514(0x917)];[_0x3cd514(0x11a)];[_0x3cd514(0x86c)];constructor(_0x40fec1,_0x4cee25,_0x11e211){const _0x1836b8=_0x3cd514;this['configs']=_0x40fec1,this[_0x1836b8(0x910)]=_0x4cee25,this[_0x1836b8(0x264)]=_0x11e211,this[_0x1836b8(0x35d)][_0x1836b8(0x2df)][_0x1836b8(0x9a9)](this),this['incomingManager']=new _0x42af1d(this[_0x1836b8(0x35d)],this[_0x1836b8(0x264)]),this['outgoingManager']=new _0x423752(this[_0x1836b8(0x35d)],this['maxOutgoingSubscriptions']);}[_0x3cd514(0x340)](_0x5c44f5){const _0x409850=_0x3cd514;this[_0x409850(0x917)]=_0x5c44f5;}[_0x3cd514(0x7b7)](){delete this['systemTopic'];}[_0x3cd514(0x8aa)](){const _0x48a8af=_0x3cd514;this[_0x48a8af(0x11a)]['close'](),this[_0x48a8af(0x86c)][_0x48a8af(0x8aa)](),this['configs'][_0x48a8af(0x2df)][_0x48a8af(0x9c1)](this);}[_0x3cd514(0x71f)](_0x18572c,_0x2c39ba){const _0x5c8d0a=_0x3cd514;this[_0x5c8d0a(0x11a)]['createSubscription'](_0x18572c,_0x2c39ba);}[_0x3cd514(0x1a2)](_0x25ac81,_0xbb071e){const _0x1089f0=_0x3cd514;this[_0x1089f0(0x86c)][_0x1089f0(0x3f1)](_0x25ac81,_0xbb071e);}[_0x3cd514(0x687)](_0x4347aa,_0x707a40,_0x2610d5=''){const _0x290f41=_0x3cd514;this['incomingManager'][_0x290f41(0x413)](_0x4347aa,_0x707a40,_0x2610d5);}[_0x3cd514(0x5fc)](_0xfdf33,_0x72abf7,_0x1c57d2=''){const _0x721f47=_0x3cd514;try{this['outgoingManager'][_0x721f47(0x413)](_0xfdf33,_0x72abf7,_0x1c57d2);}catch(_0xf8234){if(_0xf8234 instanceof _0xa369e8&&_0xf8234['code']===_0xa369e8['codes'][_0x721f47(0x366)])return;}}[_0x3cd514(0x96c)](_0x196f7b){const _0x3f6e70=_0x3cd514;switch(_0x196f7b[_0x3f6e70(0x1cb)][_0x3f6e70(0x3a7)]){case _0x387829[_0x3f6e70(0x2a2)]:this[_0x3f6e70(0x3c1)](_0x196f7b['sourceId'],_0x196f7b[_0x3f6e70(0x1cb)]);break;case _0x387829[_0x3f6e70(0x295)]:this[_0x3f6e70(0x86c)][_0x3f6e70(0x986)](_0x196f7b[_0x3f6e70(0x118)],_0x196f7b[_0x3f6e70(0x1cb)]);break;case _0x387829[_0x3f6e70(0x732)]:this[_0x3f6e70(0x6ec)](_0x196f7b['sourceId'],_0x196f7b[_0x3f6e70(0x1cb)]);break;case _0x387829[_0x3f6e70(0x96f)]:this['incomingManager'][_0x3f6e70(0x426)](_0x196f7b['sourceId'],_0x196f7b[_0x3f6e70(0x1cb)]);break;case _0x387829[_0x3f6e70(0x564)]:case _0x387829[_0x3f6e70(0x69d)]:this['incomingManager']['handleSubscriptionProvideMediaStream'](_0x196f7b[_0x3f6e70(0x118)],_0x196f7b[_0x3f6e70(0x1cb)]);break;case _0x387829['MediaStreamUnavailable']:this[_0x3f6e70(0x11a)][_0x3f6e70(0x944)](_0x196f7b[_0x3f6e70(0x118)],_0x196f7b[_0x3f6e70(0x1cb)]);}}[_0x3cd514(0x38b)](_0x1abd80){const _0x1a0dad=_0x3cd514;switch(_0x1abd80[_0x1a0dad(0x1cb)][_0x1a0dad(0x3a7)]){case _0x32bee3[_0x1a0dad(0x4dc)]:this[_0x1a0dad(0x11a)][_0x1a0dad(0x8f3)](_0x1abd80[_0x1a0dad(0x1cb)]),this[_0x1a0dad(0x86c)][_0x1a0dad(0x8f3)](_0x1abd80[_0x1a0dad(0x1cb)]);break;case _0x32bee3['SubscribeMediaStream']:this[_0x1a0dad(0x11a)]['handleContentSubscribeMediaStream'](_0x1abd80[_0x1a0dad(0x1cb)]);break;case _0x32bee3[_0x1a0dad(0x224)]:this[_0x1a0dad(0x11a)][_0x1a0dad(0x17a)](_0x1abd80[_0x1a0dad(0x1cb)]);break;case _0x32bee3['UnsubscribeMediaStream']:this[_0x1a0dad(0x9bf)](_0x1abd80[_0x1a0dad(0x118)],_0x1abd80['content']);break;case _0x32bee3[_0x1a0dad(0x391)]:this[_0x1a0dad(0x86c)]['handleContentCloseMediaStream'](_0x1abd80[_0x1a0dad(0x1cb)]);break;case _0x32bee3[_0x1a0dad(0x14c)]:this[_0x1a0dad(0xfc)](_0x1abd80['content']['label'],_0x3cfea6['ContentType']['PubSub']);break;case _0x32bee3[_0x1a0dad(0x3ef)]:this[_0x1a0dad(0xfc)](_0x1abd80['content'][_0x1a0dad(0x788)],_0x3cfea6['ContentType'][_0x1a0dad(0x112)]);break;case _0x32bee3[_0x1a0dad(0x416)]:this[_0x1a0dad(0xfc)](_0x1abd80[_0x1a0dad(0x1cb)][_0x1a0dad(0x788)],_0x3cfea6[_0x1a0dad(0x9b0)][_0x1a0dad(0x56b)]);break;case _0x32bee3['CloseKeyValueDatabase']:this[_0x1a0dad(0xfc)](_0x1abd80[_0x1a0dad(0x1cb)]['label'],_0x3cfea6[_0x1a0dad(0x9b0)][_0x1a0dad(0x588)]);break;case _0x32bee3[_0x1a0dad(0x744)]:this[_0x1a0dad(0xfc)](_0x1abd80[_0x1a0dad(0x1cb)]['label'],_0x3cfea6[_0x1a0dad(0x9b0)]['VectorDatabase']);break;case _0x32bee3[_0x1a0dad(0x171)]:this[_0x1a0dad(0xfc)](_0x1abd80[_0x1a0dad(0x1cb)][_0x1a0dad(0x788)],_0x3cfea6[_0x1a0dad(0x9b0)]['GraphDatabase']);break;case _0x32bee3[_0x1a0dad(0xf1)]:case _0x32bee3[_0x1a0dad(0x3a8)]:this[_0x1a0dad(0xfc)](_0x1abd80[_0x1a0dad(0x1cb)][_0x1a0dad(0x788)],_0x3cfea6[_0x1a0dad(0x9b0)][_0x1a0dad(0x5d5)]);break;case _0x32bee3[_0x1a0dad(0x8d5)]:this[_0x1a0dad(0x11a)]['handleContentRemoteMediaStreamTrackFail'](_0x1abd80[_0x1a0dad(0x1cb)]);}}['handleNodeSystemEvents']({content:_0x1e92a7}){const _0x55b965=_0x3cd514;_0x1e92a7[_0x55b965(0x3a7)]===_0x3a3a6a[_0x55b965(0x3b5)]&&this[_0x55b965(0x70e)](_0x1e92a7);}[_0x3cd514(0x4d4)](_0x5bc19b){const _0x4aaa53=_0x3cd514;_0x5bc19b[_0x4aaa53(0x1cb)][_0x4aaa53(0x3a7)]===_0x47c2b4[_0x4aaa53(0x2ff)]&&this[_0x4aaa53(0x11a)]['handleOptimizationConnectionSuccess'](_0x5bc19b[_0x4aaa53(0x118)]);}['handleContentUnsubscribeMediaStream'](_0x53aa0c,_0x10a42c){const _0x3cdd91=_0x3cd514;this['incomingManager'][_0x3cdd91(0x9bf)](_0x10a42c),this['outgoingManager'][_0x3cdd91(0x9bf)](_0x53aa0c,_0x10a42c)[_0x3cdd91(0x753)](_0x1bf73c=>this[_0x3cdd91(0x917)][_0x3cdd91(0x19e)](_0x1bf73c));}['handleSubscriptionSubscribeMediaStream'](_0x4465c7,_0x23749d){const _0x959a55=_0x3cd514,_0x170f97=this[_0x959a55(0x86c)][_0x959a55(0x3c1)](_0x4465c7,_0x23749d);if(_0x170f97&&(this[_0x959a55(0x917)][_0x959a55(0x19e)]({'sourceId':this[_0x959a55(0x35d)]['localNode'][_0x959a55(0x47f)](),'destinationIds':[_0x4465c7],'messageType':_0xca4838['Subscription'],'content':_0x170f97}),_0x170f97[_0x959a55(0x3a7)]===_0x387829['RestartNeedMediaStream']))throw new _0x89ef13('Restart\x20NeedMediaStream');}['handleSubscriptionNeedMediaStream'](_0x46d4ee,_0xecb40b){const _0xed78ae=_0x3cd514,_0x3f7e30=this['outgoingManager']['handleSubscriptionNeedMediaStream'](_0x46d4ee,_0xecb40b);this['systemTopic'][_0xed78ae(0x19e)]({'sourceId':this[_0xed78ae(0x35d)]['localNode']['getId'](),'destinationIds':[_0x46d4ee],'messageType':_0xca4838['Subscription'],'content':_0x3f7e30});}['handleCloseContent'](_0x3ed489,_0x7c0f4e){this['removeIncomingSubscription'](_0x3ed489,_0x7c0f4e),this['removeOutgoingSubscription'](_0x3ed489,_0x7c0f4e);}['removeSubscriptionsForNode']({id:_0x484a57}){const _0x50751f=_0x3cd514;this[_0x50751f(0x11a)][_0x50751f(0x70e)](_0x484a57),this['outgoingManager'][_0x50751f(0x70e)](_0x484a57);}}class _0x217b9e{[_0x3cd514(0x788)];[_0x3cd514(0x1ae)]=_0x214ef4();constructor(){this['label']=0x0;}[_0x3cd514(0x24e)](){const _0xa783a0=_0x3cd514;return this[_0xa783a0(0x788)];}['getContentType'](){const _0x3876d4=_0x3cd514;return _0x3cfea6[_0x3876d4(0x9b0)]['Data'];}['registerSource'](_0x42a93a){_0x42a93a['registerSystemPublisher'](this);}[_0x3cd514(0x2b7)](_0x39a55){const _0x2f3ae3=_0x3cd514;_0x39a55[_0x2f3ae3(0x7b7)]();}[_0x3cd514(0x19e)](_0xf73037){const _0x47d6d9=_0x3cd514;_0x61b339[_0x47d6d9(0x8b2)](_0x5ce311[_0x47d6d9(0x405)],_0x47d6d9(0x2e2),_0xf73037['sourceId'],_0xf73037),this['listener'][_0x47d6d9(0x19e)]({'topicLabel':this['label'],'contentType':_0x3cfea6[_0x47d6d9(0x9b0)][_0x47d6d9(0x85d)],'uuid':_0xf73037[_0x47d6d9(0x5da)]??(0x0,_0x6d7452['v4'])(),'recipients':_0xf73037[_0x47d6d9(0x306)]??[],..._0xf73037});}['subscribe'](_0x1120bd){const _0x3e9f9a=_0x3cd514;return this[_0x3e9f9a(0x1ae)][_0x3e9f9a(0x5a5)](_0x1120bd);}}class _0x10b02e{['options'];[_0x3cd514(0x291)]=[];[_0x3cd514(0x6e9)];[_0x3cd514(0x5d6)]=new Map();['nodeUpdate']=_0x214ef4();constructor(_0x41dbe9){const _0x2b884a=_0x3cd514;this[_0x2b884a(0x9aa)]=_0x41dbe9,this[_0x2b884a(0x6e9)]=(this[_0x2b884a(0x9aa)][_0x2b884a(0x525)]-0x2*this[_0x2b884a(0x9aa)]['minConnections'])/0x2,this['ranges'][_0x2b884a(0x63b)]({'start':0x1,'end':this[_0x2b884a(0xdc)](0x1,0x1)-0x1});for(let _0x4359a7=0x0;_0x4359a7<this['maxLayer'];++_0x4359a7)this['ranges']['push']({'start':this[_0x2b884a(0xdc)](0x1,_0x4359a7+0x1),'end':this['getNextTargetRank'](0x1,_0x4359a7+0x2)-0x1});}[_0x3cd514(0xdc)](_0x23b771,_0x43d9a0=0x1){const _0x5c17ae=_0x3cd514;let _0x163fa1=this['options'][_0x5c17ae(0x264)]-this[_0x5c17ae(0x9aa)][_0x5c17ae(0x52c)],_0x39cd77=0x1;for(let _0x239588=0x1;_0x239588<_0x43d9a0;++_0x239588)_0x163fa1*=this[_0x5c17ae(0x9aa)]['maxDistance']-this[_0x5c17ae(0x9aa)][_0x5c17ae(0x52c)]-_0x239588,_0x39cd77*=this[_0x5c17ae(0x9aa)][_0x5c17ae(0x264)]-this[_0x5c17ae(0x9aa)][_0x5c17ae(0x52c)]-_0x239588+0x1;return _0x163fa1*this[_0x5c17ae(0x9aa)][_0x5c17ae(0x52c)]+_0x23b771-_0x39cd77;}[_0x3cd514(0x8e1)](_0x969a72){const _0x38cb36=_0x3cd514;let _0x15ed8a=0x0;for(;this[_0x38cb36(0x291)][_0x15ed8a]['end']<_0x969a72;)_0x15ed8a+=0x1;return _0x15ed8a;}[_0x3cd514(0x7dc)](){const _0x356493=_0x3cd514;return this[_0x356493(0x9aa)][_0x356493(0x52c)];}[_0x3cd514(0x907)](){const _0x237af0=_0x3cd514;return this[_0x237af0(0x9aa)][_0x237af0(0x525)];}[_0x3cd514(0x17d)](){const _0x5dcf2b=_0x3cd514;return this[_0x5dcf2b(0x9aa)][_0x5dcf2b(0x264)];}[_0x3cd514(0x281)](){const _0x2632ae=_0x3cd514;return this[_0x2632ae(0x5d6)];}[_0x3cd514(0x1b2)](_0x5b277f,_0x13c434){const _0x1ffe1f=_0x3cd514;this[_0x1ffe1f(0x5d6)][_0x1ffe1f(0x282)](_0x5b277f,_0x13c434),this[_0x1ffe1f(0x26d)][_0x1ffe1f(0x19e)]();}[_0x3cd514(0x8d9)](_0x466e5c){const _0x4ecfb1=_0x3cd514;this[_0x4ecfb1(0x5d6)][_0x4ecfb1(0x6f9)](_0x466e5c),this['nodeUpdate'][_0x4ecfb1(0x19e)]();}[_0x3cd514(0x951)](_0x387c24){const _0x10c7da=_0x3cd514;return this['remoteNodes'][_0x10c7da(0x31e)](_0x387c24);}['getRemoteNode'](_0x4f4779){const _0x1cd556=_0x3cd514;return this['remoteNodes'][_0x1cd556(0x31f)](_0x4f4779);}[_0x3cd514(0x372)](_0x28bd0d,_0x166642){const _0x253e71=_0x3cd514,_0x48ff8a=this['getRemoteNode'](_0x166642)?.[_0x253e71(0x94d)]()??0x0;return _0x28bd0d[_0x253e71(0x730)](_0xa77fd5=>this['getRemoteNode'](_0xa77fd5))[_0x253e71(0x4d1)](_0x1d854d=>void 0x0!==_0x1d854d)[_0x253e71(0x9cb)]((_0x497408,_0x376f39)=>Math[_0x253e71(0xd3)](_0x48ff8a-(_0x497408&&_0x497408['getRank']()||0x1/0x0))-Math[_0x253e71(0xd3)](_0x48ff8a-(_0x376f39&&_0x376f39[_0x253e71(0x94d)]()||0x1/0x0)))[_0x253e71(0x730)](_0x9e98bc=>_0x9e98bc[_0x253e71(0x47f)]());}['onNodeUpdate'](_0xdb10d1){const _0x5f28f1=_0x3cd514;return this[_0x5f28f1(0x26d)]['subscribe'](_0xdb10d1);}}class _0x27719f{[_0x3cd514(0x1a3)];[_0x3cd514(0x4cb)];[_0x3cd514(0x4a9)];[_0x3cd514(0x1e4)];[_0x3cd514(0x9aa)];[_0x3cd514(0x35d)];[_0x3cd514(0x484)];[_0x3cd514(0x42f)];[_0x3cd514(0x28d)];[_0x3cd514(0x7f8)];[_0x3cd514(0x845)];[_0x3cd514(0x504)];[_0x3cd514(0x4a8)];[_0x3cd514(0x582)];[_0x3cd514(0x31a)];[_0x3cd514(0x917)]=new _0x217b9e();['systemTopicUnsubscribe'];[_0x3cd514(0x780)];constructor(_0x19a904,_0x2080ff,_0xc2952b,_0x3b8a9a,_0x35508c,_0x2ccf62,_0x36be33){const _0x46d47f=_0x3cd514;switch(this[_0x46d47f(0x1a3)]=_0x19a904,this['clusterId']=_0x2080ff,this[_0x46d47f(0x4a9)]=_0xc2952b,this['authService']=_0x3b8a9a,this['options']=_0x35508c,this[_0x46d47f(0x35d)]=_0x2ccf62,this[_0x46d47f(0x484)]=_0x36be33,_0xc2952b[_0x46d47f(0x3a7)]){case _0x3cfea6[_0x46d47f(0x2a9)][_0x46d47f(0x320)]:this[_0x46d47f(0x780)]=new _0x5a242f(_0xc2952b[_0x46d47f(0x47f)](),_0xc2952b['getDisplayName'](),_0xc2952b[_0x46d47f(0x640)]());break;case _0x3cfea6['NodeType'][_0x46d47f(0x704)]:default:this[_0x46d47f(0x780)]=new _0x454131(_0xc2952b['getId']());}const _0x5dfa52=this[_0x46d47f(0x80d)]();this[_0x46d47f(0x31a)]=new _0x10b02e(this[_0x46d47f(0x9aa)]),this[_0x46d47f(0x42f)]=new _0x226ad9(_0x5dfa52,this[_0x46d47f(0x9aa)],this[_0x46d47f(0x35d)]['searchApiKey']),this[_0x46d47f(0x28d)]=new _0x35ec58(_0x5dfa52,this['authService'],this['graphService'],this[_0x46d47f(0x35d)][_0x46d47f(0x92b)],this['options']),this[_0x46d47f(0x7f8)]=new _0x436ecd(_0x5dfa52,this[_0x46d47f(0x9aa)][_0x46d47f(0x910)],this[_0x46d47f(0x31a)][_0x46d47f(0x17d)]()),this[_0x46d47f(0x845)]=new _0x136fec(_0x5dfa52),this['detectionManager']=new _0x1d0000(_0x5dfa52),this[_0x46d47f(0x4a8)]=new _0x2e4b0a(_0x5dfa52),this[_0x46d47f(0x582)]=new _0x1ccd57(_0x5dfa52,this[_0x46d47f(0x31a)]),this[_0x46d47f(0x51f)]=this[_0x46d47f(0x6fc)]();}[_0x3cd514(0x92d)](){const _0x30595a=_0x3cd514,_0xaed504=this['getConfigs']();this['connectionManager']=new _0x35ec58(_0xaed504,this[_0x30595a(0x1e4)],this[_0x30595a(0x31a)],this[_0x30595a(0x35d)][_0x30595a(0x92b)],this[_0x30595a(0x9aa)]),this[_0x30595a(0x7f8)]=new _0x436ecd(_0xaed504,this[_0x30595a(0x9aa)][_0x30595a(0x910)],this[_0x30595a(0x31a)][_0x30595a(0x17d)]()),this[_0x30595a(0x845)]=new _0x136fec(_0xaed504),this[_0x30595a(0x504)]=new _0x1d0000(_0xaed504),this[_0x30595a(0x4a8)]=new _0x2e4b0a(_0xaed504),this['nodeManager']=new _0x1ccd57(_0xaed504,this[_0x30595a(0x31a)]);const _0x1ef0bc=this[_0x30595a(0x28d)][_0x30595a(0x3e3)]();this[_0x30595a(0x42f)][_0x30595a(0x880)]()['forEach'](_0x2d8cf6=>{const _0x4c264a=_0x30595a;this[_0x4c264a(0x7f8)]['createOutgoingSubscription'](_0x2d8cf6,_0x1ef0bc),this[_0x4c264a(0x7f8)][_0x4c264a(0x71f)](_0x1ef0bc,_0x2d8cf6),_0x2d8cf6[_0x4c264a(0x32f)]();}),this[_0x30595a(0x42f)][_0x30595a(0xe1)]()[_0x30595a(0x753)](_0x58c2c5=>{const _0x1e4687=_0x30595a;this[_0x1e4687(0x7f8)][_0x1e4687(0x1a2)](_0x58c2c5,_0x1ef0bc),this[_0x1e4687(0x7f8)]['createIncomingSubscription'](_0x1ef0bc,_0x58c2c5),_0x58c2c5[_0x1e4687(0x32f)](),_0x58c2c5['sync']();}),this[_0x30595a(0x42f)][_0x30595a(0x19b)]()[_0x30595a(0x753)](_0x48a68a=>{const _0x295d2f=_0x30595a;this['subscriptionManager'][_0x295d2f(0x1a2)](_0x48a68a,_0x1ef0bc),this[_0x295d2f(0x7f8)][_0x295d2f(0x71f)](_0x1ef0bc,_0x48a68a),_0x48a68a[_0x295d2f(0x32f)](),this[_0x295d2f(0xcd)](_0x48a68a);}),this[_0x30595a(0x42f)]['getJobDispatchers']()[_0x30595a(0x753)](_0x3dd8f8=>{const _0x400efb=_0x30595a;this[_0x400efb(0x7f8)][_0x400efb(0x1a2)](_0x3dd8f8,_0x1ef0bc),this[_0x400efb(0x7f8)][_0x400efb(0x71f)](_0x1ef0bc,_0x3dd8f8),_0x3dd8f8[_0x400efb(0x32f)]();}),this[_0x30595a(0x42f)][_0x30595a(0x4fa)]()[_0x30595a(0x753)](_0x3d8dce=>{const _0x3eab7f=_0x30595a;this[_0x3eab7f(0x7f8)][_0x3eab7f(0x1a2)](_0x3d8dce,_0x1ef0bc),this[_0x3eab7f(0x7f8)]['createIncomingSubscription'](_0x1ef0bc,_0x3d8dce),_0x3d8dce[_0x3eab7f(0x32f)]();}),this['contentManager'][_0x30595a(0x45d)]()['forEach'](_0x4910bc=>{const _0x1c4cba=_0x30595a;this[_0x1c4cba(0x7f8)][_0x1c4cba(0x1a2)](_0x4910bc,_0x1ef0bc),this['subscriptionManager'][_0x1c4cba(0x71f)](_0x1ef0bc,_0x4910bc),_0x4910bc[_0x1c4cba(0x32f)]();}),this[_0x30595a(0x42f)]['getGraphDatabases']()[_0x30595a(0x753)](_0x1fca16=>{const _0x5186c4=_0x30595a;this[_0x5186c4(0x7f8)][_0x5186c4(0x1a2)](_0x1fca16,_0x1ef0bc),this[_0x5186c4(0x7f8)][_0x5186c4(0x71f)](_0x1ef0bc,_0x1fca16),_0x1fca16['reset']();}),this[_0x30595a(0x51f)]=this[_0x30595a(0x6fc)]();}['registerSystemSource'](_0x282da4){const _0x4c50fc=_0x3cd514;try{this['systemTopic'][_0x4c50fc(0x143)](_0x282da4);}catch(_0x2e374d){this[_0x4c50fc(0x11e)](_0x2e374d,{});}}[_0x3cd514(0x9c1)](_0x55ff96){const _0x21aa7a=_0x3cd514;try{this['systemTopic'][_0x21aa7a(0x2b7)](_0x55ff96);}catch(_0x487cfd){this[_0x21aa7a(0x11e)](_0x487cfd,{});}}[_0x3cd514(0x35c)](_0x1edea8,_0x4bd8de){const _0x5a4382=_0x3cd514;return this[_0x5a4382(0x28d)]['createConnection'](_0x1edea8,_0x4bd8de);}[_0x3cd514(0x44f)](_0x2caedd){const _0x4b7850=_0x3cd514;try{return this[_0x4b7850(0x28d)][_0x4b7850(0x44f)](_0x2caedd);}catch(_0x44fb65){throw this['handleError'](_0x44fb65,{});}}['getConnections'](_0x35e7ee){const _0x294a71=_0x3cd514;try{return this[_0x294a71(0x28d)]['getConnections'](_0x35e7ee);}catch(_0x311d60){throw this[_0x294a71(0x11e)](_0x311d60,{});}}[_0x3cd514(0x534)](_0x44f6e2,_0x4965ae){const _0x1d5037=_0x3cd514;try{return this[_0x1d5037(0x42f)]['getRemoteMediaStreams'](_0x581e71=>_0x581e71[_0x1d5037(0x781)]()===_0x44f6e2&&_0x581e71[_0x1d5037(0x24e)]()===_0x4965ae)[0x0];}catch(_0x118e5e){throw this[_0x1d5037(0x11e)](_0x118e5e,{});}}[_0x3cd514(0x6ba)](_0x182d3f){const _0x292c33=_0x3cd514;try{return this[_0x292c33(0x42f)][_0x292c33(0x934)](_0xcc6b65=>_0xcc6b65[_0x292c33(0x24e)]()===_0x182d3f)[0x0];}catch(_0x362b59){throw this[_0x292c33(0x11e)](_0x362b59,{});}}[_0x3cd514(0x2d8)]=(..._0x2004a0)=>{const _0x313b0a=_0x3cd514;try{return this[_0x313b0a(0x484)][_0x313b0a(0x364)](..._0x2004a0);}catch(_0x42da2d){throw this['handleError'](_0x42da2d,{});}};[_0x3cd514(0x46e)](_0x32346b){const _0x2415e1=_0x3cd514;try{this['statsManager'][_0x2415e1(0x140)](_0x32346b);}catch(_0x21bf7c){throw this[_0x2415e1(0x11e)](_0x21bf7c,{});}}[_0x3cd514(0x560)](_0x55260e){const _0x6cbc8b=_0x3cd514;try{this[_0x6cbc8b(0x845)]['removeRemoteNode'](_0x55260e);}catch(_0x3c4001){throw this[_0x6cbc8b(0x11e)](_0x3c4001,{});}}[_0x3cd514(0x641)](_0x496e68){const _0x571d6a=_0x3cd514;return this[_0x571d6a(0x28d)][_0x571d6a(0x641)](_0x496e68);}async['initialize'](){const _0x420866=_0x3cd514;try{await this['connectionManager'][_0x420866(0x34a)]();const _0x10b47e=await this[_0x420866(0x582)][_0x420866(0xd2)]();for(const _0x6bd156 of _0x10b47e)this[_0x420866(0x28d)]['createConnection'](_0x6bd156);}catch(_0x1ff632){throw this[_0x420866(0x11e)](_0x1ff632,{});}}['updateUser'](_0xdb87d){const _0x1d2ca9=_0x3cd514;this[_0x1d2ca9(0x780)]['type']===_0x3cfea6[_0x1d2ca9(0x2a9)]['User']&&(this[_0x1d2ca9(0x780)][_0x1d2ca9(0x71c)](_0xdb87d[_0x1d2ca9(0x640)]()),this['localNode'][_0x1d2ca9(0x8cd)](_0xdb87d[_0x1d2ca9(0x172)]()));}[_0x3cd514(0x8aa)]({force:_0xb9fddb=!0x1},_0x1f5c74=!0x1){const _0x209e18=_0x3cd514;if(_0x61b339['warning'](_0x209e18(0x9be),{'clusterId':this[_0x209e18(0x4cb)],'nodeId':this[_0x209e18(0x780)][_0x209e18(0x47f)](),'nodeType':this[_0x209e18(0x780)]['type']}),!_0xb9fddb&&this['connectionManager'][_0x209e18(0x4b5)]())throw new _0x1e3976(_0x2089de['ConnectionBufferNotEmpty'],_0x209e18(0x65a));_0x61b339[_0x209e18(0x937)](),this['systemTopicUnsubscribe'](),this['remediationManager'][_0x209e18(0x8aa)](),this[_0x209e18(0x504)][_0x209e18(0x8aa)](),this['statsManager'][_0x209e18(0x8aa)](),this[_0x209e18(0x7f8)][_0x209e18(0x8aa)](),this[_0x209e18(0x28d)][_0x209e18(0x8aa)](),this[_0x209e18(0x42f)][_0x209e18(0x8aa)](_0x1f5c74),this[_0x209e18(0x582)]['close']();}[_0x3cd514(0x22f)](_0x2656a2){const _0x154bcf=_0x3cd514;try{const _0x35e911=this['contentManager'][_0x154bcf(0x16b)](_0x2656a2),_0xf709e5=this[_0x154bcf(0x28d)][_0x154bcf(0x3e3)]();return this['subscriptionManager'][_0x154bcf(0x1a2)](_0x35e911,_0xf709e5),this[_0x154bcf(0x7f8)][_0x154bcf(0x71f)](_0xf709e5,_0x35e911),_0x35e911;}catch(_0x22ea2a){throw this[_0x154bcf(0x11e)](_0x22ea2a,{});}}async[_0x3cd514(0x272)](_0x51521d,_0x48a929){const _0x20aebe=_0x3cd514;try{const _0x4a20d6=this[_0x20aebe(0x42f)][_0x20aebe(0x356)](_0x51521d,this[_0x20aebe(0x9aa)][_0x20aebe(0x8d6)]),_0x32444b=this['connectionManager'][_0x20aebe(0x3e3)]();return this['subscriptionManager'][_0x20aebe(0x1a2)](_0x4a20d6,_0x32444b),this[_0x20aebe(0x7f8)]['createIncomingSubscription'](_0x32444b,_0x4a20d6),await _0x4a20d6[_0x20aebe(0x7ae)](_0x48a929?.[_0x20aebe(0x3e6)]??!0x0),_0x4a20d6;}catch(_0x5bba6e){throw this[_0x20aebe(0x11e)](_0x5bba6e,{});}}async[_0x3cd514(0x5c0)](_0xce7777,_0xcd1289){const _0x28fad4=_0x3cd514;try{if(!this[_0x28fad4(0x9aa)][_0x28fad4(0x72e)])throw new _0x1e3976(_0x2089de['ExternalStorageConnectorsMissing'],_0x28fad4(0x77a));if(!(this[_0x28fad4(0x4a9)]instanceof _0x23ebce))throw new _0x1e3976(_0x2089de['NodeInvalidType'],_0x28fad4(0x8e4));const _0x1b2cef=this[_0x28fad4(0x9aa)][_0x28fad4(0x72e)][_0x28fad4(0x31f)](_0xcd1289);if(!_0x1b2cef)throw new _0x1e3976(_0x2089de[_0x28fad4(0x7b9)],'Missing\x20external\x20storage\x20connector');const _0x12ba57=this[_0x28fad4(0x42f)][_0x28fad4(0x761)](_0xce7777,_0x1b2cef),_0x44e737=this[_0x28fad4(0x28d)][_0x28fad4(0x3e3)]();return this['subscriptionManager'][_0x28fad4(0x1a2)](_0x12ba57,_0x44e737),this[_0x28fad4(0x7f8)][_0x28fad4(0x71f)](_0x44e737,_0x12ba57),await _0x12ba57[_0x28fad4(0x92d)](),_0x12ba57;}catch(_0x21e2dd){throw this[_0x28fad4(0x11e)](_0x21e2dd,{});}}async[_0x3cd514(0x4ae)](_0x2dbd2a,_0x2e94ae,_0x46d53c){const _0xb21b92=_0x3cd514;try{_0x46d53c=_0x46d53c||this[_0xb21b92(0x9aa)][_0xb21b92(0x5e1)];const _0x3dc5f1=await this[_0xb21b92(0x42f)]['createKeyValueDatabase'](_0x2dbd2a,_0x2e94ae,_0x46d53c),_0x23705c=this[_0xb21b92(0x28d)][_0xb21b92(0x3e3)]();return this[_0xb21b92(0x7f8)][_0xb21b92(0x1a2)](_0x3dc5f1,_0x23705c),this[_0xb21b92(0x7f8)]['createIncomingSubscription'](_0x23705c,_0x3dc5f1),await _0x3dc5f1[_0xb21b92(0x92d)](),this[_0xb21b92(0xcd)](_0x3dc5f1),_0x3dc5f1;}catch(_0x513d40){throw this[_0xb21b92(0x11e)](_0x513d40,{});}}async[_0x3cd514(0x397)](_0x4508d0){const _0x45bbc9=_0x3cd514;try{const _0x39f7b2=await this['contentManager'][_0x45bbc9(0x9ae)](_0x4508d0,this[_0x45bbc9(0x31a)]),_0x242125=this['connectionManager'][_0x45bbc9(0x3e3)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x39f7b2,_0x242125),this[_0x45bbc9(0x7f8)][_0x45bbc9(0x71f)](_0x242125,_0x39f7b2),_0x39f7b2[_0x45bbc9(0x92d)](),_0x39f7b2;}catch(_0x5807bb){throw this['handleError'](_0x5807bb,{});}}async[_0x3cd514(0x871)](_0x30c435){const _0x488cc0=_0x3cd514;throw new Error(_0x488cc0(0x74e));}async[_0x3cd514(0x516)](_0x40aee1){const _0x56c94b=_0x3cd514;try{const _0x15594a=await this[_0x56c94b(0x42f)][_0x56c94b(0x556)](_0x40aee1,this[_0x56c94b(0x31a)]),_0x45620d=this[_0x56c94b(0x28d)][_0x56c94b(0x3e3)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x15594a,_0x45620d),this[_0x56c94b(0x7f8)][_0x56c94b(0x71f)](_0x45620d,_0x15594a),_0x15594a[_0x56c94b(0x92d)](),_0x15594a;}catch(_0x24c369){throw console[_0x56c94b(0x3db)](_0x24c369),this[_0x56c94b(0x11e)](_0x24c369,{});}}async['openGenerativeAIWorker'](_0x4a8d3b){const _0x587ca3=_0x3cd514;try{if(!this[_0x587ca3(0x9aa)]['generativeAIWorkerConnectors']||!this[_0x587ca3(0x9aa)][_0x587ca3(0x24a)]||!this[_0x587ca3(0x9aa)]['nlpLibraryConnector'])throw new _0x1e3976(_0x2089de[_0x587ca3(0xc7)],_0x587ca3(0x1c2));if(!(this[_0x587ca3(0x4a9)]instanceof _0x23ebce))throw new _0x1e3976(_0x2089de[_0x587ca3(0x701)],_0x587ca3(0x8e4));const _0x24137e=[];for(const _0x797884 of this[_0x587ca3(0x9aa)]['generativeAIWorkerConnectors'])_0x24137e['push'](new _0x797884());const _0x5cfd0e=new this['options'][(_0x587ca3(0x24a))](),_0x3cd1a8=new this[(_0x587ca3(0x9aa))][(_0x587ca3(0x675))]();let _0x3009f6;this[_0x587ca3(0x9aa)][_0x587ca3(0x32c)]&&(_0x3009f6=new this[(_0x587ca3(0x9aa))][(_0x587ca3(0x32c))]());const _0x517531=await this[_0x587ca3(0x42f)]['createGenerativeAIWorker'](_0x4a8d3b,this[_0x587ca3(0x4a9)],_0x24137e,_0x5cfd0e,_0x3cd1a8,_0x3009f6),_0x202cfc=this['connectionManager'][_0x587ca3(0x3e3)]();this['subscriptionManager'][_0x587ca3(0x1a2)](_0x517531,_0x202cfc),this[_0x587ca3(0x7f8)][_0x587ca3(0x71f)](_0x202cfc,_0x517531);const _0x27e156=this[_0x587ca3(0x582)][_0x587ca3(0x2ec)]();return _0x517531[_0x587ca3(0x92d)](0x0===_0x27e156[_0x587ca3(0x4f4)]||void 0x0),_0x517531;}catch(_0x30e97c){throw this[_0x587ca3(0x11e)](_0x30e97c,{});}}[_0x3cd514(0x7fa)](_0xef4bc7){const _0x416f08=_0x3cd514;try{if(!this[_0x416f08(0x9aa)][_0x416f08(0x6ce)])throw new _0x1e3976(_0x2089de[_0x416f08(0x5d1)],_0x416f08(0x359));if(!(this[_0x416f08(0x4a9)]instanceof _0x23ebce))throw new _0x1e3976(_0x2089de[_0x416f08(0x701)],'Node\x20is\x20not\x20an\x20agent');const _0x12c74d=this[_0x416f08(0x42f)][_0x416f08(0x2e7)](_0xef4bc7,this[_0x416f08(0x9aa)][_0x416f08(0x6ce)]),_0x4feaff=this[_0x416f08(0x28d)]['getConnectionGroup']();return this[_0x416f08(0x7f8)][_0x416f08(0x1a2)](_0x12c74d,_0x4feaff),this[_0x416f08(0x7f8)][_0x416f08(0x71f)](_0x4feaff,_0x12c74d),_0x12c74d;}catch(_0x3a1d6e){throw this['handleError'](_0x3a1d6e,{});}}[_0x3cd514(0x1b1)](_0x1213c3){const _0x5c0942=_0x3cd514;try{if(!this[_0x5c0942(0x9aa)][_0x5c0942(0x6ea)])throw new _0x1e3976(_0x2089de[_0x5c0942(0x1e0)],_0x5c0942(0x182));if(!(this['authNode']instanceof _0x23ebce))throw new _0x1e3976(_0x2089de[_0x5c0942(0x701)],_0x5c0942(0x8e4));const _0xb77d9c=this[_0x5c0942(0x42f)][_0x5c0942(0x5af)](_0x1213c3,this[_0x5c0942(0x9aa)]['vectorDatabaseConnector']),_0x33df31=this[_0x5c0942(0x28d)]['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0xb77d9c,_0x33df31),this[_0x5c0942(0x7f8)]['createIncomingSubscription'](_0x33df31,_0xb77d9c),_0xb77d9c;}catch(_0x3432ea){throw this[_0x5c0942(0x11e)](_0x3432ea,{});}}[_0x3cd514(0x880)](_0x1c8254){const _0x4c29b0=_0x3cd514;try{return this[_0x4c29b0(0x42f)]['getPubSubTopics'](_0x1c8254);}catch(_0x158f8){throw this[_0x4c29b0(0x11e)](_0x158f8,{});}}[_0x3cd514(0xe1)](_0x177dc5){const _0x1b1bc2=_0x3cd514;try{return this[_0x1b1bc2(0x42f)][_0x1b1bc2(0xe1)](_0x177dc5);}catch(_0x41b4fe){throw this[_0x1b1bc2(0x11e)](_0x41b4fe,{});}}[_0x3cd514(0x75f)](_0x9bfe55){const _0x3cbf8f=_0x3cd514;try{return this['contentManager'][_0x3cbf8f(0x75f)](_0x9bfe55);}catch(_0x296d90){throw this[_0x3cbf8f(0x11e)](_0x296d90,{});}}[_0x3cd514(0x19b)](_0x3e8bc4){const _0x462651=_0x3cd514;try{return this[_0x462651(0x42f)][_0x462651(0x19b)](_0x3e8bc4);}catch(_0x34bbd4){throw this['handleError'](_0x34bbd4,{});}}[_0x3cd514(0x3ed)](_0x330d94){const _0x36608a=_0x3cd514;try{return this[_0x36608a(0x42f)]['getGenerativeAIContexts'](_0x330d94);}catch(_0x2c5721){throw this[_0x36608a(0x11e)](_0x2c5721,{});}}[_0x3cd514(0x521)](_0x594d91){const _0xd66fcc=_0x3cd514;try{return this[_0xd66fcc(0x42f)]['getGenerativeAIWorkers'](_0x594d91);}catch(_0x2c58ff){throw this[_0xd66fcc(0x11e)](_0x2c58ff,{});}}['getGraphDatabases'](_0x40835f){const _0x4d3cc2=_0x3cd514;try{return this[_0x4d3cc2(0x42f)]['getGraphDatabases'](_0x40835f);}catch(_0x358e66){throw this[_0x4d3cc2(0x11e)](_0x358e66,{});}}[_0x3cd514(0x84e)](_0xe591b3,_0x3afbad){const _0xc4048c=_0x3cd514;if(!this[_0xc4048c(0x35d)][_0xc4048c(0x2b3)][_0xc4048c(0x135)](_0x12eab9[_0xc4048c(0x13c)]))throw new _0x1e3976(_0x2089de[_0xc4048c(0x245)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0xc4048c(0x42f)]['createLocalMediaStream'](_0xe591b3,_0x3afbad);}catch(_0x318bf1){throw this['handleError'](_0x318bf1,{});}}[_0x3cd514(0x290)](_0x6236e7,_0x48a8e3){const _0x23bfde=_0x3cd514;if(!this[_0x23bfde(0x35d)][_0x23bfde(0x2b3)][_0x23bfde(0x135)](_0x12eab9[_0x23bfde(0x13c)]))throw new _0x1e3976(_0x2089de[_0x23bfde(0x245)],_0x23bfde(0x15c));try{return this[_0x23bfde(0x42f)][_0x23bfde(0x290)](_0x6236e7,_0x48a8e3);}catch(_0x606d05){throw this['handleError'](_0x606d05,{});}}[_0x3cd514(0x934)](_0x46a5e6){const _0x1eb6f1=_0x3cd514;if(!this['configs'][_0x1eb6f1(0x2b3)][_0x1eb6f1(0x135)](_0x12eab9[_0x1eb6f1(0x13c)]))throw new _0x1e3976(_0x2089de[_0x1eb6f1(0x245)],_0x1eb6f1(0x15c));try{return this[_0x1eb6f1(0x42f)][_0x1eb6f1(0x934)](_0x46a5e6);}catch(_0x1fe0ab){throw this[_0x1eb6f1(0x11e)](_0x1fe0ab,{});}}['getRemoteMediaStreams'](_0x5466c0){const _0x18b422=_0x3cd514;if(!this[_0x18b422(0x35d)]['features'][_0x18b422(0x135)](_0x12eab9[_0x18b422(0x13c)]))throw new _0x1e3976(_0x2089de[_0x18b422(0x245)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x18b422(0x42f)][_0x18b422(0x6b2)](_0x5466c0);}catch(_0x54d0ae){throw this[_0x18b422(0x11e)](_0x54d0ae,{});}}[_0x3cd514(0x45d)](_0x487b45){const _0x5477a5=_0x3cd514;try{return this['contentManager'][_0x5477a5(0x45d)](_0x487b45);}catch(_0x2a164e){throw this[_0x5477a5(0x11e)](_0x2a164e,{});}}[_0x3cd514(0x370)](_0x112684,_0x288c2c){const _0x394efa=_0x3cd514;return this[_0x394efa(0x582)][_0x394efa(0x370)](_0x112684,_0x288c2c);}[_0x3cd514(0x8ab)](){const _0x4ee4cd=_0x3cd514;return this[_0x4ee4cd(0x582)]['getLocalNode']();}[_0x3cd514(0x281)](_0x1f2574){const _0x5799fd=_0x3cd514;try{return this[_0x5799fd(0x582)][_0x5799fd(0x281)](_0x1f2574);}catch(_0xd1ae9){throw this[_0x5799fd(0x11e)](_0xd1ae9,{});}}[_0x3cd514(0x483)](){const _0x38fbe7=_0x3cd514;return this[_0x38fbe7(0x28d)][_0x38fbe7(0x483)]();}[_0x3cd514(0x36d)](_0x2e7e15){const _0x5b0ed9=_0x3cd514;return this['nodeManager'][_0x5b0ed9(0x36d)](_0x2e7e15);}async[_0x3cd514(0x642)](_0x5c516f){const _0x269efa=_0x3cd514;try{if(_0x61b339[_0x269efa(0x8b2)](_0x5ce311['Events'],_0x269efa(0x98d),this[_0x269efa(0x582)][_0x269efa(0x858)](),_0x5c516f),_0x2f4409(_0x5c516f,this[_0x269efa(0x582)][_0x269efa(0x858)]()))return void this[_0x269efa(0x28d)][_0x269efa(0x3a3)](_0x5c516f);switch(_0x5c516f[_0x269efa(0x34b)]){case _0xca4838[_0x269efa(0x739)]:this[_0x269efa(0x845)][_0x269efa(0x38b)](_0x5c516f),this[_0x269efa(0x7f8)]['handleContentSystemEvents'](_0x5c516f),this[_0x269efa(0x42f)]['handleContentSystemEvents'](_0x5c516f);break;case _0xca4838[_0x269efa(0x11d)]:this['subscriptionManager']['handleNodeSystemEvents'](_0x5c516f),this[_0x269efa(0x28d)]['handleNodeSystemEvents'](_0x5c516f),this['contentManager']['handleNodeSystemEvents'](_0x5c516f),this[_0x269efa(0x582)][_0x269efa(0x530)](_0x5c516f);break;case _0xca4838[_0x269efa(0x1d5)]:this['remediationManager'][_0x269efa(0x512)](_0x5c516f);break;case _0xca4838[_0x269efa(0x7da)]:this['remediationManager']['handleRemediationSystemEvents'](_0x5c516f);break;case _0xca4838[_0x269efa(0x3dc)]:this[_0x269efa(0x504)]['handleStatsSystemEvents'](_0x5c516f);break;case _0xca4838[_0x269efa(0x456)]:_0x5c516f[_0x269efa(0x1cb)][_0x269efa(0x3a7)]!==_0x387829[_0x269efa(0x295)]?(this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x5c516f),this[_0x269efa(0x42f)][_0x269efa(0x96c)](_0x5c516f)):(this['contentManager']['handleSubscriptionSystemEvents'](_0x5c516f),this[_0x269efa(0x7f8)][_0x269efa(0x96c)](_0x5c516f));break;case _0xca4838['PeerConnection']:await this['connectionManager']['handlePeerConnectionSystemEvents'](_0x5c516f),this[_0x269efa(0x845)][_0x269efa(0x4d4)](_0x5c516f),this[_0x269efa(0x582)]['handlePeerConnectionSystemEvents'](_0x5c516f),this[_0x269efa(0x7f8)][_0x269efa(0x4d4)](_0x5c516f);}}catch(_0x3c82f6){throw _0x61b339[_0x269efa(0x470)](_0x269efa(0x642),_0x3c82f6),this[_0x269efa(0x11e)](_0x3c82f6,{});}}['handleError'](_0x43c2c1,_0x1ace27){const _0x28f467=_0x3cd514;if(!(_0x43c2c1 instanceof _0x89ef13)){if(_0x43c2c1 instanceof _0x1e3976)throw _0x43c2c1;if(!(_0x43c2c1 instanceof Error))throw new _0x1e3976(_0x2089de[_0x28f467(0x7dd)],'Internal\x20unknown\x20error:\x20'+_0x43c2c1);if(!(_0x43c2c1 instanceof _0xa369e8))throw new _0x1e3976(_0x2089de['InternalSDKError'],_0x28f467(0x6c2)+_0x43c2c1[_0x28f467(0xfe)]);switch(_0x43c2c1[_0x28f467(0x610)]){case _0xa369e8[_0x28f467(0x98c)]['MissingSystemTopic']:case _0xa369e8[_0x28f467(0x98c)]['MissingRemoteConnection']:case _0xa369e8[_0x28f467(0x98c)][_0x28f467(0x7a0)]:case _0xa369e8[_0x28f467(0x98c)][_0x28f467(0x90a)]:case _0xa369e8['codes'][_0x28f467(0x2af)]:case _0xa369e8['codes']['InvalidDataChannel']:case _0xa369e8[_0x28f467(0x98c)][_0x28f467(0x371)]:case _0xa369e8[_0x28f467(0x98c)][_0x28f467(0x3f8)]:case _0xa369e8['codes'][_0x28f467(0x7e8)]:case _0xa369e8[_0x28f467(0x98c)][_0x28f467(0xe6)]:case _0xa369e8[_0x28f467(0x98c)][_0x28f467(0x973)]:case _0xa369e8[_0x28f467(0x98c)][_0x28f467(0x366)]:}throw _0x61b339[_0x28f467(0x3db)]('sdk-internal-error:\x20'+_0x43c2c1[_0x28f467(0xfe)],{'clusterId':this[_0x28f467(0x4cb)],'nodeId':this['localNode'][_0x28f467(0x47f)](),'nodeType':this[_0x28f467(0x780)][_0x28f467(0x3a7)]},_0x43c2c1),new _0x1e3976(_0x2089de[_0x28f467(0x7dd)],_0x28f467(0x310)+_0x43c2c1[_0x28f467(0xfe)]);}}[_0x3cd514(0x80d)](){const _0x4af647=_0x3cd514;return{'mediator':this,'vendorId':this[_0x4af647(0x1a3)],'clusterId':this['clusterId'],'localNode':this[_0x4af647(0x780)]};}[_0x3cd514(0x6fc)](){const _0x46dc5c=_0x3cd514;return this[_0x46dc5c(0x917)][_0x46dc5c(0x5a5)](_0x16ca26=>{const _0x198c34=_0x46dc5c,_0xb7d778=_0x107c4b(_0x16ca26,this[_0x198c34(0x780)]['getId']()),_0x4a5715=_0x16ca26[_0x198c34(0x34b)]===_0xca4838[_0x198c34(0x3dc)]||_0x16ca26[_0x198c34(0x34b)]===_0xca4838[_0x198c34(0x3d9)]&&_0x16ca26[_0x198c34(0x1cb)][_0x198c34(0x3a7)]===_0x47c2b4[_0x198c34(0x3dc)]?_0x5ce311['SystemStats']:_0x5ce311['System'];_0x61b339[_0x198c34(0x970)](_0x4a5715,_0x16ca26[_0x198c34(0x5da)]+'\x20-\x20'+_0xb7d778,_0x16ca26),this['handleSystemEvents'](_0x16ca26)[_0x198c34(0x42b)](_0x174779=>{const _0x689d57=_0x198c34;console[_0x689d57(0x3db)](_0x174779);});});}async[_0x3cd514(0xcd)](_0x23822a){const _0x4a8c1a=_0x3cd514,{timingLogger:_0x42499c,logger:_0x4a01bd,logBeforeSync:_0x24124a,logAfterSync:_0x2d05b5}=function(_0x4afcfa,_0x5a7fcf){const _0x26499a=a0_0x2e46;if(!_0x61b339[_0x26499a(0x6af)](_0x5a7fcf))return _0x61b339[_0x26499a(0x470)](_0x26499a(0x497)+_0x5a7fcf),{..._0x35d60a(_0x4afcfa,_0x5a7fcf),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x30512b,logger:_0x207962}=_0x35d60a(_0x4afcfa,_0x5a7fcf);let _0x4c815a=0x0;return _0x4c815a=Date[_0x26499a(0x498)](),{'syncStartTime':_0x4c815a,'timingLogger':_0x30512b,'logger':_0x207962,'logBeforeSync':()=>(_0x21bf41(_0x5a7fcf,_0x26499a(0x19a)),_0x30512b['now']()),'logAfterSync':(_0xbb074a,_0x398e15)=>{const _0x54eb31=_0x26499a,_0x62861a=Date[_0x54eb31(0x498)]();_0x21bf41(_0x5a7fcf,_0x54eb31(0x619)+_0x398e15);const _0x48bc14=(_0x62861a-_0x4c815a)/0x3e8,_0x33c790=(_0x62861a-_0xbb074a)/0x3e8;_0x61b339['log'](_0x5a7fcf,_0x54eb31(0x6fb),_0x4afcfa,_0x54eb31(0x8b0)+_0x48bc14[_0x54eb31(0x5ce)](0x2)+'\x20seconds','\x0a\x20===\x20Wait\x20Time:\x20'+_0x33c790['toFixed'](0x3)+_0x54eb31(0x1b4),_0x54eb31(0x7a8)+((_0x62861a-_0x4c815a)/0x3e8-_0x33c790)['toFixed'](0x2)+_0x54eb31(0x1b4));}};}(_0x23822a[_0x4a8c1a(0x24e)](),_0x5ce311['KeyValueDatabase']);_0x4a01bd[_0x4a8c1a(0x8b2)](_0x4a8c1a(0x3f7));const _0x225f2f=this[_0x4a8c1a(0x582)][_0x4a8c1a(0x2ec)]()[_0x4a8c1a(0x4f4)]>0x0;if(_0x225f2f){_0x4a01bd[_0x4a8c1a(0x8b2)](_0x4a8c1a(0xbb),()=>this[_0x4a8c1a(0x582)]['getAncestorIds']()),_0x42499c['start'](),await Promise[_0x4a8c1a(0xed)](this[_0x4a8c1a(0x582)][_0x4a8c1a(0x2ec)]()[_0x4a8c1a(0x730)](async _0xaa658=>await this[_0x4a8c1a(0x582)][_0x4a8c1a(0x36d)](_0xaa658)))[_0x4a8c1a(0x42b)](_0x4a7f75=>_0x61b339[_0x4a8c1a(0x2f5)](_0x4a8c1a(0x4ac),{'nodeId':this[_0x4a8c1a(0x780)][_0x4a8c1a(0x47f)](),'nodeType':this['localNode'][_0x4a8c1a(0x3a7)]}));const _0x39dcad=_0x4a01bd[_0x4a8c1a(0x6e1)](()=>this[_0x4a8c1a(0x582)][_0x4a8c1a(0x2ec)](),[]);_0x42499c['logWaitTime'](_0x4a8c1a(0x9bd)+_0x39dcad+_0x4a8c1a(0x2e8));}_0x2d05b5(_0x24124a(),await _0x23822a[_0x4a8c1a(0x7ae)](_0x225f2f,async()=>{const _0x186db4=_0x4a8c1a;_0x42499c[_0x186db4(0x4e2)](),await this['nodeManager']['isReady'](),_0x42499c['logWaitTime']('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0x23822a[_0x186db4(0x7ae)](!0x0,()=>{const _0x430483=_0x186db4;_0x4a01bd[_0x430483(0x8b2)](_0x430483(0x9c3)),_0x23822a[_0x430483(0x7ae)](!0x1);},!0x0);}));}}class _0x2f7082{[_0x3cd514(0x1a3)];[_0x3cd514(0x4cb)];[_0x3cd514(0x4a9)];[_0x3cd514(0x215)];[_0x3cd514(0x5a1)];constructor(_0x4015b4,_0x4fd884,_0x15facd,_0x3f4460,_0x48f0cc,_0x23abb5,_0x1bce3b=new _0x3a1a9a()){const _0xeb6112=_0x3cd514;this[_0xeb6112(0x1a3)]=_0x4015b4,this[_0xeb6112(0x4cb)]=_0x4fd884,this[_0xeb6112(0x4a9)]=_0x15facd,this[_0xeb6112(0x215)]=_0x1bce3b,this[_0xeb6112(0x5a1)]=new _0x27719f(this[_0xeb6112(0x1a3)],this[_0xeb6112(0x4cb)],_0x15facd,_0x3f4460,_0x48f0cc,_0x23abb5,this);}async[_0x3cd514(0x696)](){const _0x2c1fba=_0x3cd514;await this[_0x2c1fba(0x5a1)][_0x2c1fba(0x34a)](),this['authNode']['type']===_0x3cfea6[_0x2c1fba(0x2a9)]['User']&&this[_0x2c1fba(0x4a9)][_0x2c1fba(0x37d)](this['clusterId'],_0x51a3c7=>{const _0x46144b=_0x2c1fba;this[_0x46144b(0x5a1)][_0x46144b(0x896)](_0x51a3c7);});}[_0x3cd514(0x55a)](_0x28672f={}){const _0x387971=_0x3cd514;this[_0x387971(0x5a1)]['close'](_0x28672f),this[_0x387971(0x4a9)]['type']===_0x3cfea6['NodeType']['User']&&this[_0x387971(0x4a9)]['unregisterCluster'](this[_0x387971(0x4cb)]),this[_0x387971(0x364)]('cluster-leave',void 0x0);}[_0x3cd514(0x22f)](_0x44a80c){const _0x34c680=_0x3cd514,_0x2d4957=this[_0x34c680(0x5a1)][_0x34c680(0x22f)](_0x44a80c);return{'getName':_0x2d4957[_0x34c680(0x97c)][_0x34c680(0x4d0)](_0x2d4957),'getOwnerId':_0x2d4957[_0x34c680(0x781)][_0x34c680(0x4d0)](_0x2d4957),'getContentType':_0x2d4957[_0x34c680(0x321)]['bind'](_0x2d4957),'publish':_0x2d4957[_0x34c680(0x19e)][_0x34c680(0x4d0)](_0x2d4957),'subscribe':_0x2d4957[_0x34c680(0x5a5)][_0x34c680(0x4d0)](_0x2d4957),'unsubscribe':_0x2d4957['unsubscribe'][_0x34c680(0x4d0)](_0x2d4957),'close':_0x2d4957[_0x34c680(0x8aa)][_0x34c680(0x4d0)](_0x2d4957)};}async['openObjectStoreBucket'](_0x43fb1c,_0x1f0d7a){const _0x3db77d=_0x3cd514,_0x61b84f=await this[_0x3db77d(0x5a1)][_0x3db77d(0x272)](_0x43fb1c,_0x1f0d7a);return{'getName':_0x61b84f[_0x3db77d(0x97c)][_0x3db77d(0x4d0)](_0x61b84f),'getOwnerId':_0x61b84f[_0x3db77d(0x781)][_0x3db77d(0x4d0)](_0x61b84f),'getContentType':_0x61b84f[_0x3db77d(0x321)][_0x3db77d(0x4d0)](_0x61b84f),'publish':_0x61b84f[_0x3db77d(0x19e)]['bind'](_0x61b84f),'unpublish':_0x61b84f[_0x3db77d(0x3bf)][_0x3db77d(0x4d0)](_0x61b84f),'get':_0x61b84f['get'][_0x3db77d(0x4d0)](_0x61b84f),'list':_0x61b84f[_0x3db77d(0x9c7)][_0x3db77d(0x4d0)](_0x61b84f),'getSize':_0x61b84f[_0x3db77d(0x18c)][_0x3db77d(0x4d0)](_0x61b84f),'subscribe':_0x61b84f[_0x3db77d(0x5a5)]['bind'](_0x61b84f),'unsubscribe':_0x61b84f[_0x3db77d(0x2cf)]['bind'](_0x61b84f),'close':_0x61b84f[_0x3db77d(0x8aa)][_0x3db77d(0x4d0)](_0x61b84f)};}async[_0x3cd514(0x5c0)](_0x21c1c6,_0xdfc184){const _0x134d53=_0x3cd514,_0x501e35=await this[_0x134d53(0x5a1)][_0x134d53(0x5c0)](_0x21c1c6,_0xdfc184);return{'getName':_0x501e35[_0x134d53(0x97c)]['bind'](_0x501e35),'getOwnerId':_0x501e35[_0x134d53(0x781)][_0x134d53(0x4d0)](_0x501e35),'getContentType':_0x501e35[_0x134d53(0x321)][_0x134d53(0x4d0)](_0x501e35),'close':_0x501e35[_0x134d53(0x8aa)][_0x134d53(0x4d0)](_0x501e35),'get':_0x501e35[_0x134d53(0x31f)]['bind'](_0x501e35),'list':_0x501e35[_0x134d53(0x9c7)][_0x134d53(0x4d0)](_0x501e35),'subscribe':_0x501e35[_0x134d53(0x5a5)][_0x134d53(0x4d0)](_0x501e35),'unsubscribe':_0x501e35[_0x134d53(0x2cf)][_0x134d53(0x4d0)](_0x501e35)};}async[_0x3cd514(0x4ae)](_0x1b1d68,_0x52d157,_0x4f95de){const _0x2bc52b=_0x3cd514,_0x54c41d=await this[_0x2bc52b(0x5a1)][_0x2bc52b(0x4ae)](_0x1b1d68,_0x52d157,_0x4f95de);return{'getName':_0x54c41d['getName']['bind'](_0x54c41d),'getOwnerId':_0x54c41d[_0x2bc52b(0x781)][_0x2bc52b(0x4d0)](_0x54c41d),'getContentType':_0x54c41d['getContentType'][_0x2bc52b(0x4d0)](_0x54c41d),'getTable':_0x54c41d[_0x2bc52b(0x1a9)][_0x2bc52b(0x4d0)](_0x54c41d),'subscribe':_0x54c41d[_0x2bc52b(0x5a5)][_0x2bc52b(0x4d0)](_0x54c41d),'unsubscribe':_0x54c41d['unsubscribe'][_0x2bc52b(0x4d0)](_0x54c41d),'close':_0x54c41d[_0x2bc52b(0x8aa)]['bind'](_0x54c41d)};}async[_0x3cd514(0x397)](_0x9d56a9){const _0x30ac33=_0x3cd514,_0x2523db=await this[_0x30ac33(0x5a1)][_0x30ac33(0x397)](_0x9d56a9);return{'getName':_0x2523db[_0x30ac33(0x97c)][_0x30ac33(0x4d0)](_0x2523db),'getOwnerId':_0x2523db[_0x30ac33(0x781)][_0x30ac33(0x4d0)](_0x2523db),'getContentType':_0x2523db['getContentType'][_0x30ac33(0x4d0)](_0x2523db),'createJob':_0x2523db['createJob']['bind'](_0x2523db),'getJob':_0x2523db[_0x30ac33(0x15e)]['bind'](_0x2523db),'getJobs':_0x2523db[_0x30ac33(0x6c6)][_0x30ac33(0x4d0)](_0x2523db),'close':_0x2523db[_0x30ac33(0x8aa)][_0x30ac33(0x4d0)](_0x2523db)};}async['openJobWorker'](_0x4172d3){const _0x1c3730=_0x3cd514,_0x3f8f81=await this[_0x1c3730(0x5a1)][_0x1c3730(0x871)](_0x4172d3);return{'close':_0x3f8f81[_0x1c3730(0x8aa)][_0x1c3730(0x4d0)](_0x3f8f81)};}async[_0x3cd514(0x516)](_0x400451){const _0x1ed8fa=_0x3cd514,_0x4791b3=await this[_0x1ed8fa(0x5a1)][_0x1ed8fa(0x516)](_0x400451);return{'createAIJob':_0x4791b3[_0x1ed8fa(0x67e)][_0x1ed8fa(0x4d0)](_0x4791b3),'ratePrompt':_0x4791b3[_0x1ed8fa(0x167)][_0x1ed8fa(0x4d0)](_0x4791b3),'downloadDocument':_0x4791b3[_0x1ed8fa(0x3c9)]['bind'](_0x4791b3),'getDataBucketIds':_0x4791b3[_0x1ed8fa(0x599)][_0x1ed8fa(0x4d0)](_0x4791b3),'close':_0x4791b3['close'][_0x1ed8fa(0x4d0)](_0x4791b3)};}async[_0x3cd514(0x218)](_0x35073f){const _0x3e8868=_0x3cd514,_0x34adbe=await this[_0x3e8868(0x5a1)][_0x3e8868(0x218)](_0x35073f);return{'close':_0x34adbe['close']['bind'](_0x34adbe)};}[_0x3cd514(0x7fa)](_0x1562cf){const _0x34d3f1=_0x3cd514,_0xcec142=this[_0x34d3f1(0x5a1)]['openGraphDatabase'](_0x1562cf);return{'getName':_0xcec142[_0x34d3f1(0x97c)][_0x34d3f1(0x4d0)](_0xcec142),'getOwnerId':_0xcec142[_0x34d3f1(0x781)][_0x34d3f1(0x4d0)](_0xcec142),'getContentType':_0xcec142[_0x34d3f1(0x321)]['bind'](_0xcec142),'addNode':_0xcec142['addNode'][_0x34d3f1(0x4d0)](_0xcec142),'addEdge':_0xcec142['addEdge'][_0x34d3f1(0x4d0)](_0xcec142),'getContent':_0xcec142['getContent'][_0x34d3f1(0x4d0)](_0xcec142),'remove':_0xcec142['remove'][_0x34d3f1(0x4d0)](_0xcec142),'saveToDisk':_0xcec142[_0x34d3f1(0x2aa)]['bind'](_0xcec142),'loadFromDisk':_0xcec142[_0x34d3f1(0x1c0)][_0x34d3f1(0x4d0)](_0xcec142),'close':_0xcec142[_0x34d3f1(0x8aa)][_0x34d3f1(0x4d0)](_0xcec142)};}[_0x3cd514(0x1b1)](_0xf598d6){const _0x3b6c01=_0x3cd514,_0x402f28=this[_0x3b6c01(0x5a1)][_0x3b6c01(0x1b1)](_0xf598d6);return{'getName':_0x402f28['getName'][_0x3b6c01(0x4d0)](_0x402f28),'getOwnerId':_0x402f28[_0x3b6c01(0x781)][_0x3b6c01(0x4d0)](_0x402f28),'getContentType':_0x402f28[_0x3b6c01(0x321)][_0x3b6c01(0x4d0)](_0x402f28),'search':_0x402f28['search'][_0x3b6c01(0x4d0)](_0x402f28),'insert':_0x402f28['insert'][_0x3b6c01(0x4d0)](_0x402f28),'remove':_0x402f28['remove'][_0x3b6c01(0x4d0)](_0x402f28),'saveToDisk':_0x402f28[_0x3b6c01(0x2aa)]['bind'](_0x402f28),'loadFromDisk':_0x402f28[_0x3b6c01(0x1c0)]['bind'](_0x402f28),'close':_0x402f28[_0x3b6c01(0x8aa)][_0x3b6c01(0x4d0)](_0x402f28)};}[_0x3cd514(0x880)](_0x1b8d88){const _0x1a6770=_0x3cd514;return this['orchestrator'][_0x1a6770(0x880)](_0x1b8d88)['map'](_0x997f0b=>({'getName':_0x997f0b[_0x1a6770(0x97c)][_0x1a6770(0x4d0)](_0x997f0b),'getOwnerId':_0x997f0b['getOwnerId'][_0x1a6770(0x4d0)](_0x997f0b),'getContentType':_0x997f0b['getContentType'][_0x1a6770(0x4d0)](_0x997f0b),'publish':_0x997f0b['publish']['bind'](_0x997f0b),'subscribe':_0x997f0b[_0x1a6770(0x5a5)][_0x1a6770(0x4d0)](_0x997f0b),'unsubscribe':_0x997f0b[_0x1a6770(0x2cf)][_0x1a6770(0x4d0)](_0x997f0b),'close':_0x997f0b[_0x1a6770(0x8aa)][_0x1a6770(0x4d0)](_0x997f0b)}));}[_0x3cd514(0xe1)](_0x1fed32){const _0x25f080=_0x3cd514;return this[_0x25f080(0x5a1)]['getObjectStoreBuckets'](_0x1fed32)[_0x25f080(0x730)](_0x22f358=>({'getName':_0x22f358[_0x25f080(0x97c)][_0x25f080(0x4d0)](_0x22f358),'getOwnerId':_0x22f358[_0x25f080(0x781)][_0x25f080(0x4d0)](_0x22f358),'getContentType':_0x22f358['getContentType']['bind'](_0x22f358),'publish':_0x22f358['publish'][_0x25f080(0x4d0)](_0x22f358),'unpublish':_0x22f358[_0x25f080(0x3bf)][_0x25f080(0x4d0)](_0x22f358),'get':_0x22f358[_0x25f080(0x31f)][_0x25f080(0x4d0)](_0x22f358),'list':_0x22f358[_0x25f080(0x9c7)]['bind'](_0x22f358),'getSize':_0x22f358[_0x25f080(0x18c)][_0x25f080(0x4d0)](_0x22f358),'subscribe':_0x22f358[_0x25f080(0x5a5)][_0x25f080(0x4d0)](_0x22f358),'unsubscribe':_0x22f358['unsubscribe'][_0x25f080(0x4d0)](_0x22f358),'close':_0x22f358[_0x25f080(0x8aa)]['bind'](_0x22f358)}));}[_0x3cd514(0x75f)](_0x3ce3f8){const _0x3d3ecc=_0x3cd514;return this[_0x3d3ecc(0x5a1)][_0x3d3ecc(0x75f)](_0x3ce3f8)[_0x3d3ecc(0x730)](_0x4e75d2=>({'getName':_0x4e75d2['getName']['bind'](_0x4e75d2),'getOwnerId':_0x4e75d2[_0x3d3ecc(0x781)][_0x3d3ecc(0x4d0)](_0x4e75d2),'getContentType':_0x4e75d2[_0x3d3ecc(0x321)][_0x3d3ecc(0x4d0)](_0x4e75d2),'close':_0x4e75d2[_0x3d3ecc(0x8aa)][_0x3d3ecc(0x4d0)](_0x4e75d2),'get':_0x4e75d2[_0x3d3ecc(0x31f)]['bind'](_0x4e75d2),'list':_0x4e75d2[_0x3d3ecc(0x9c7)][_0x3d3ecc(0x4d0)](_0x4e75d2),'subscribe':_0x4e75d2[_0x3d3ecc(0x5a5)][_0x3d3ecc(0x4d0)](_0x4e75d2),'unsubscribe':_0x4e75d2[_0x3d3ecc(0x2cf)][_0x3d3ecc(0x4d0)](_0x4e75d2)}));}[_0x3cd514(0x19b)](_0x41a11c){const _0x3e7f8c=_0x3cd514;return this[_0x3e7f8c(0x5a1)][_0x3e7f8c(0x19b)](_0x41a11c)[_0x3e7f8c(0x730)](_0x3922df=>({'getName':_0x3922df[_0x3e7f8c(0x97c)][_0x3e7f8c(0x4d0)](_0x3922df),'getOwnerId':_0x3922df['getOwnerId'][_0x3e7f8c(0x4d0)](_0x3922df),'getContentType':_0x3922df[_0x3e7f8c(0x321)][_0x3e7f8c(0x4d0)](_0x3922df),'getTable':_0x3922df[_0x3e7f8c(0x1a9)][_0x3e7f8c(0x4d0)](_0x3922df),'subscribe':_0x3922df['subscribe'][_0x3e7f8c(0x4d0)](_0x3922df),'unsubscribe':_0x3922df[_0x3e7f8c(0x2cf)][_0x3e7f8c(0x4d0)](_0x3922df),'close':_0x3922df[_0x3e7f8c(0x8aa)][_0x3e7f8c(0x4d0)](_0x3922df)}));}[_0x3cd514(0x3ed)](_0x48cb3c){const _0x229441=_0x3cd514;return this['orchestrator'][_0x229441(0x3ed)](_0x48cb3c)[_0x229441(0x730)](_0x1cf7f4=>({'createAIJob':_0x1cf7f4[_0x229441(0x67e)][_0x229441(0x4d0)](_0x1cf7f4),'ratePrompt':_0x1cf7f4[_0x229441(0x167)][_0x229441(0x4d0)](_0x1cf7f4),'downloadDocument':_0x1cf7f4[_0x229441(0x3c9)][_0x229441(0x4d0)](_0x1cf7f4),'getDataBucketIds':_0x1cf7f4[_0x229441(0x599)][_0x229441(0x4d0)](_0x1cf7f4),'close':_0x1cf7f4[_0x229441(0x8aa)][_0x229441(0x4d0)](_0x1cf7f4)}));}[_0x3cd514(0x521)](_0x41feca){const _0x28e11d=_0x3cd514;return this['orchestrator'][_0x28e11d(0x521)](_0x41feca)[_0x28e11d(0x730)](_0x532b11=>({'close':_0x532b11[_0x28e11d(0x8aa)]['bind'](_0x532b11)}));}[_0x3cd514(0x700)](_0x2bd54d,_0x195b85){const _0x56d6bb=_0x3cd514,_0x245dff=this[_0x56d6bb(0x5a1)][_0x56d6bb(0x84e)](_0x2bd54d,_0x195b85);return{'getLabel':_0x245dff['getLabel'][_0x56d6bb(0x4d0)](_0x245dff),'getOwnerId':_0x245dff[_0x56d6bb(0x781)][_0x56d6bb(0x4d0)](_0x245dff),'getContentType':_0x245dff[_0x56d6bb(0x321)]['bind'](_0x245dff),'getMediaStream':_0x245dff[_0x56d6bb(0x840)]['bind'](_0x245dff),'setPriority':_0x245dff[_0x56d6bb(0x821)][_0x56d6bb(0x4d0)](_0x245dff),'unpublish':_0x245dff[_0x56d6bb(0x3bf)][_0x56d6bb(0x4d0)](_0x245dff)};}['publishLocalDynamicMediaStream'](_0x3953eb,_0x458e50){const _0x25183d=_0x3cd514,_0x5a3859=this[_0x25183d(0x5a1)][_0x25183d(0x290)](_0x3953eb,_0x458e50);return{'getLabel':_0x5a3859['getLabel'][_0x25183d(0x4d0)](_0x5a3859),'getOwnerId':_0x5a3859[_0x25183d(0x781)][_0x25183d(0x4d0)](_0x5a3859),'getContentType':_0x5a3859['getContentType'][_0x25183d(0x4d0)](_0x5a3859),'setPriority':_0x5a3859[_0x25183d(0x821)]['bind'](_0x5a3859),'unpublish':_0x5a3859[_0x25183d(0x3bf)][_0x25183d(0x4d0)](_0x5a3859),'getMediaStream':_0x5a3859[_0x25183d(0x840)][_0x25183d(0x4d0)](_0x5a3859),'addTrack':_0x5a3859[_0x25183d(0x547)][_0x25183d(0x4d0)](_0x5a3859),'removeTrack':_0x5a3859[_0x25183d(0x6a4)][_0x25183d(0x4d0)](_0x5a3859),'replaceTrack':_0x5a3859[_0x25183d(0x15a)][_0x25183d(0x4d0)](_0x5a3859),'setTransformations':_0x5a3859[_0x25183d(0x889)]['bind'](_0x5a3859)};}[_0x3cd514(0x934)](_0x27c31c){const _0x2d9e71=_0x3cd514;return this[_0x2d9e71(0x5a1)][_0x2d9e71(0x934)](_0x27c31c)[_0x2d9e71(0x730)](_0x32c3f2=>({'getLabel':_0x32c3f2[_0x2d9e71(0x24e)]['bind'](_0x32c3f2),'getOwnerId':_0x32c3f2['getOwnerId']['bind'](_0x32c3f2),'getContentType':_0x32c3f2[_0x2d9e71(0x321)][_0x2d9e71(0x4d0)](_0x32c3f2),'getMediaStream':_0x32c3f2[_0x2d9e71(0x840)][_0x2d9e71(0x4d0)](_0x32c3f2),'setPriority':_0x32c3f2[_0x2d9e71(0x821)][_0x2d9e71(0x4d0)](_0x32c3f2),'unpublish':_0x32c3f2[_0x2d9e71(0x3bf)][_0x2d9e71(0x4d0)](_0x32c3f2)}));}['getRemoteMediaStreams'](_0x52b020){const _0x59abab=_0x3cd514;return this[_0x59abab(0x5a1)]['getRemoteMediaStreams'](_0x52b020)[_0x59abab(0x730)](_0x3c44c3=>({'getLabel':_0x3c44c3['getLabel'][_0x59abab(0x4d0)](_0x3c44c3),'getOwnerId':_0x3c44c3[_0x59abab(0x781)][_0x59abab(0x4d0)](_0x3c44c3),'getContentType':_0x3c44c3[_0x59abab(0x321)][_0x59abab(0x4d0)](_0x3c44c3),'getMediaStream':_0x3c44c3[_0x59abab(0x840)][_0x59abab(0x4d0)](_0x3c44c3),'subscribe':_0x3c44c3[_0x59abab(0x5a5)]['bind'](_0x3c44c3),'unsubscribe':_0x3c44c3[_0x59abab(0x2cf)]['bind'](_0x3c44c3),'getAvailableTrackKinds':_0x3c44c3['getAvailableTrackKinds'][_0x59abab(0x4d0)](_0x3c44c3),'update':_0x3c44c3[_0x59abab(0x23a)][_0x59abab(0x4d0)](_0x3c44c3),'onProviderChange':_0x3c44c3['onProviderChange'][_0x59abab(0x4d0)](_0x3c44c3)}));}[_0x3cd514(0x461)](_0x639f14){const _0x139724=_0x3cd514;return this[_0x139724(0x5a1)]['getGraphDatabases'](_0x639f14)[_0x139724(0x730)](_0x14ab7c=>({'getName':_0x14ab7c[_0x139724(0x97c)][_0x139724(0x4d0)](_0x14ab7c),'getOwnerId':_0x14ab7c[_0x139724(0x781)][_0x139724(0x4d0)](_0x14ab7c),'getContentType':_0x14ab7c[_0x139724(0x321)]['bind'](_0x14ab7c),'addNode':_0x14ab7c[_0x139724(0x5c3)][_0x139724(0x4d0)](_0x14ab7c),'addEdge':_0x14ab7c[_0x139724(0x80c)]['bind'](_0x14ab7c),'getContent':_0x14ab7c['getContent'][_0x139724(0x4d0)](_0x14ab7c),'remove':_0x14ab7c[_0x139724(0x3b3)][_0x139724(0x4d0)](_0x14ab7c),'saveToDisk':_0x14ab7c[_0x139724(0x2aa)][_0x139724(0x4d0)](_0x14ab7c),'loadFromDisk':_0x14ab7c[_0x139724(0x1c0)][_0x139724(0x4d0)](_0x14ab7c),'close':_0x14ab7c[_0x139724(0x8aa)][_0x139724(0x4d0)](_0x14ab7c)}));}['getVectorDatabases'](_0x58114c){const _0x3af094=_0x3cd514;return this[_0x3af094(0x5a1)][_0x3af094(0x45d)](_0x58114c)[_0x3af094(0x730)](_0x5c4353=>({'getName':_0x5c4353[_0x3af094(0x97c)][_0x3af094(0x4d0)](_0x5c4353),'getOwnerId':_0x5c4353[_0x3af094(0x781)]['bind'](_0x5c4353),'getContentType':_0x5c4353['getContentType']['bind'](_0x5c4353),'search':_0x5c4353[_0x3af094(0x2a5)][_0x3af094(0x4d0)](_0x5c4353),'insert':_0x5c4353[_0x3af094(0x280)][_0x3af094(0x4d0)](_0x5c4353),'remove':_0x5c4353[_0x3af094(0x3b3)][_0x3af094(0x4d0)](_0x5c4353),'saveToDisk':_0x5c4353[_0x3af094(0x2aa)]['bind'](_0x5c4353),'loadFromDisk':_0x5c4353['loadFromDisk'][_0x3af094(0x4d0)](_0x5c4353),'close':_0x5c4353[_0x3af094(0x8aa)]['bind'](_0x5c4353)}));}['getLocalNode'](){const _0xec0e44=_0x3cd514,_0x497317=this[_0xec0e44(0x5a1)][_0xec0e44(0x8ab)]();switch(_0x497317[_0xec0e44(0x3a7)]){case _0x3cfea6[_0xec0e44(0x2a9)][_0xec0e44(0x320)]:return{'type':_0x3cfea6[_0xec0e44(0x2a9)][_0xec0e44(0x320)],'getId':_0x497317[_0xec0e44(0x47f)][_0xec0e44(0x4d0)](_0x497317),'getDisplayName':_0x497317[_0xec0e44(0x172)]['bind'](_0x497317),'getEmail':_0x497317[_0xec0e44(0x640)][_0xec0e44(0x4d0)](_0x497317),'getRemoteConnections':_0x497317[_0xec0e44(0x191)]['bind'](_0x497317),'setDisplayName':_0x497317[_0xec0e44(0x8cd)][_0xec0e44(0x4d0)](_0x497317),'setEmail':_0x497317[_0xec0e44(0x71c)][_0xec0e44(0x4d0)](_0x497317)};case _0x3cfea6[_0xec0e44(0x2a9)][_0xec0e44(0x704)]:default:return{'type':_0x3cfea6['NodeType']['Agent'],'getId':_0x497317[_0xec0e44(0x47f)][_0xec0e44(0x4d0)](_0x497317),'getRemoteConnections':_0x497317[_0xec0e44(0x191)][_0xec0e44(0x4d0)](_0x497317)};}}[_0x3cd514(0x281)](_0x365970){const _0x3a6855=_0x3cd514;return this[_0x3a6855(0x5a1)][_0x3a6855(0x281)](_0x365970)[_0x3a6855(0x730)](_0x803ab6=>{const _0x57cb6f=_0x3a6855;switch(_0x803ab6['type']){case _0x3cfea6[_0x57cb6f(0x2a9)]['User']:return{'type':_0x3cfea6[_0x57cb6f(0x2a9)][_0x57cb6f(0x320)],'getId':_0x803ab6[_0x57cb6f(0x47f)][_0x57cb6f(0x4d0)](_0x803ab6),'getDisplayName':_0x803ab6['getDisplayName']['bind'](_0x803ab6),'getEmail':_0x803ab6[_0x57cb6f(0x640)][_0x57cb6f(0x4d0)](_0x803ab6),'getRemoteConnections':_0x803ab6[_0x57cb6f(0x191)][_0x57cb6f(0x4d0)](_0x803ab6)};case _0x3cfea6[_0x57cb6f(0x2a9)][_0x57cb6f(0x704)]:return{'type':_0x3cfea6[_0x57cb6f(0x2a9)][_0x57cb6f(0x704)],'getId':_0x803ab6[_0x57cb6f(0x47f)]['bind'](_0x803ab6),'getRemoteConnections':_0x803ab6['getRemoteConnections'][_0x57cb6f(0x4d0)](_0x803ab6)};default:throw new _0x1e3976(_0x2089de[_0x57cb6f(0x701)],'Invalid\x20node\x20type');}});}['on']=(..._0x49e29c)=>{const _0x102b1d=_0x3cd514;this[_0x102b1d(0x215)]['on'](..._0x49e29c);};[_0x3cd514(0x364)]=(..._0x58ad6b)=>this[_0x3cd514(0x215)][_0x3cd514(0x364)](..._0x58ad6b);['off'](..._0x58c13e){const _0x2403b2=_0x3cd514;this['eventEmitter'][_0x2403b2(0xcb)](..._0x58c13e);}}class _0x26db81{['id'];['displayName'];[_0x3cd514(0x91b)];[_0x3cd514(0x3a7)]=_0x3cfea6[_0x3cd514(0x2a9)][_0x3cd514(0x320)];[_0x3cd514(0xfa)]=new Map();['observer']=_0x214ef4();constructor(_0x2c83d5,_0x25f24c,_0x243c7d){const _0x547bda=_0x3cd514;this['id']=_0x2c83d5,this[_0x547bda(0x6d3)]=_0x25f24c,this[_0x547bda(0x91b)]=_0x243c7d;}[_0x3cd514(0x47f)](){return this['id'];}[_0x3cd514(0x172)](){const _0x12c032=_0x3cd514;return this[_0x12c032(0x6d3)];}[_0x3cd514(0x640)](){return this['email'];}[_0x3cd514(0x8cd)](_0x4a276b){const _0x5ef37a=_0x3cd514;this['displayName']!==_0x4a276b&&(this[_0x5ef37a(0x6d3)]=_0x4a276b,this[_0x5ef37a(0x57b)]['publish'](this));}['setEmail'](_0x19fd77){const _0x52ebf0=_0x3cd514;this[_0x52ebf0(0x91b)]!==_0x19fd77&&(this['email']=_0x19fd77,this['observer']['publish'](this));}[_0x3cd514(0x37d)](_0x1e8d8c,_0x36d09d){const _0xb589df=_0x3cd514;if(this['joinedClusters'][_0xb589df(0x31e)](_0x1e8d8c))return;const _0x80f3cc=this['observer'][_0xb589df(0x5a5)](_0x36d09d);this['joinedClusters']['set'](_0x1e8d8c,_0x80f3cc);}[_0x3cd514(0x52b)](_0x4dae74){const _0x70e17e=_0x3cd514;if(!this[_0x70e17e(0xfa)][_0x70e17e(0x31e)](_0x4dae74))return;const _0x3f9d4b=this[_0x70e17e(0xfa)][_0x70e17e(0x31f)](_0x4dae74);_0x3f9d4b&&_0x3f9d4b(),this[_0x70e17e(0xfa)]['delete'](_0x4dae74);}}class _0x574a12{[_0x3cd514(0x1a3)];[_0x3cd514(0x102)];constructor(_0x5573b1){this['vendorId']=_0x5573b1;}async['signInWithCredential'](_0x285237){const _0x3e047f=_0x3cd514,_0x4a99f4=await(0x0,_0x17a0f0[_0x3e047f(0x32d)])(_0x349b1d[_0x3e047f(0x865)](),_0x3e047f(0x147))({'uid':_0x3e047f(0x3d7)+this[_0x3e047f(0x1a3)]+'ccc'+_0x285237['id']}),_0x53e9da=await(0x0,_0x542267[_0x3e047f(0x8bf)])(_0x349b1d[_0x3e047f(0x679)](),_0x4a99f4[_0x3e047f(0x66f)]['token']);this[_0x3e047f(0x102)]=_0x53e9da[_0x3e047f(0x102)];}async[_0x3cd514(0x229)](){const _0x229844=_0x3cd514;await(0x0,_0x542267[_0x229844(0x229)])(_0x349b1d[_0x229844(0x679)]());}[_0x3cd514(0x396)](){const _0x249c69=_0x3cd514;return this[_0x249c69(0x102)]?.[_0x249c69(0x396)]()??Promise['reject']('User\x20not\x20signed\x20in');}}class _0x568992{static [_0x3cd514(0x59b)];[_0x3cd514(0x603)]=[];constructor(){}static[_0x3cd514(0x68e)](){const _0xbb061a=_0x3cd514;return _0x568992[_0xbb061a(0x59b)]||(_0x568992['instance']=new _0x568992()),_0x568992[_0xbb061a(0x59b)];}[_0x3cd514(0x34a)](){const _0x40c66d=_0x3cd514;this['checkWebRTC'](),this['checkMediaStream'](),this[_0x40c66d(0x940)](),this[_0x40c66d(0x2da)](),this['checkDeviceConfig'](),this[_0x40c66d(0x4db)](),this[_0x40c66d(0x6f6)](),this['checkBackgrounds'](),this[_0x40c66d(0x88f)](),this[_0x40c66d(0x5b6)](),_0x61b339[_0x40c66d(0x8b2)](_0x5ce311[_0x40c66d(0xf6)],_0x40c66d(0x57c),{'featureSupport':this[_0x40c66d(0x603)]});}['isFeatureSupported'](_0x366eab){const _0x1efc4f=_0x3cd514,_0x569a60=this['featureSupport'][_0x1efc4f(0x833)](_0x4da810=>_0x4da810[_0x1efc4f(0x945)]===_0x366eab);return!!_0x569a60&&_0x569a60[_0x1efc4f(0x774)];}['logSupport'](_0x1b5c65){const _0x35401e=_0x3cd514;_0x61b339[_0x35401e(0x592)]('support',{'nodeId':_0x1b5c65[_0x35401e(0x47f)](),'nodeType':_0x1b5c65[_0x35401e(0x3a7)],'data':{'featureSupport':this[_0x35401e(0x603)]}});}[_0x3cd514(0x7c2)](){const _0x5cb0f7=_0x3cd514,_0x55587c=_0x469878[_0x5cb0f7(0x518)];let _0x8910be=!0x1;_0x5cb0f7(0x373)==typeof RTCPeerConnection&&_0x5cb0f7(0x373)==typeof RTCIceCandidate&&_0x5cb0f7(0x373)==typeof RTCSessionDescription?_0x8910be=!0x0:_0x61b339['log'](_0x5ce311[_0x5cb0f7(0xf6)],_0x5cb0f7(0x943)+_0x55587c+'\x20not\x20supported'),this[_0x5cb0f7(0x603)]['push']({'name':_0x55587c,'supported':_0x8910be});}[_0x3cd514(0x862)](){const _0x40aea0=_0x3cd514,_0x3e6ed9=_0x469878[_0x40aea0(0x13c)];let _0x2acdd6=!0x1;_0x40aea0(0x373)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x40aea0(0x7e0)==typeof navigator&&_0x40aea0(0x7e0)==typeof navigator[_0x40aea0(0x8cc)]&&_0x40aea0(0x373)==typeof navigator[_0x40aea0(0x8cc)][_0x40aea0(0x4dd)]?_0x2acdd6=!0x0:_0x61b339[_0x40aea0(0x8b2)](_0x5ce311['Support'],_0x40aea0(0x943)+_0x3e6ed9+'\x20not\x20supported'),this[_0x40aea0(0x603)][_0x40aea0(0x63b)]({'name':_0x3e6ed9,'supported':_0x2acdd6});}[_0x3cd514(0x940)](){const _0x1d7293=_0x3cd514,_0x5b79f5=_0x469878[_0x1d7293(0x654)];let _0x2258b5=!0x1;_0x1d7293(0x7e0)==typeof navigator&&_0x1d7293(0x7e0)==typeof navigator[_0x1d7293(0x8cc)]&&_0x1d7293(0x373)==typeof navigator[_0x1d7293(0x8cc)][_0x1d7293(0x265)]?_0x2258b5=!0x0:_0x61b339[_0x1d7293(0x8b2)](_0x5ce311[_0x1d7293(0xf6)],_0x1d7293(0x943)+_0x5b79f5+_0x1d7293(0x4d2)),this[_0x1d7293(0x603)][_0x1d7293(0x63b)]({'name':_0x5b79f5,'supported':_0x2258b5});}[_0x3cd514(0x2da)](){const _0x5b8da9=_0x3cd514,_0x44f012=_0x469878[_0x5b8da9(0x339)];let _0x5a716d=!0x1;_0x5b8da9(0x373)!=typeof AudioContext||_0x5b8da9(0x373)!=typeof ScriptProcessorNode&&_0x5b8da9(0x373)!=typeof AudioWorkletNode||_0x5b8da9(0x373)!=typeof MediaStreamAudioSourceNode?_0x61b339[_0x5b8da9(0x8b2)](_0x5ce311[_0x5b8da9(0xf6)],_0x5b8da9(0x943)+_0x44f012+'\x20not\x20supported'):_0x5a716d=!0x0,this['featureSupport'][_0x5b8da9(0x63b)]({'name':_0x44f012,'supported':_0x5a716d});}[_0x3cd514(0x892)](){const _0x4b48cd=_0x3cd514,_0x176a2a=_0x469878['DeviceConfig'];let _0x4036fb=!0x1;_0x4b48cd(0x7e0)==typeof navigator&&_0x4b48cd(0x7e0)==typeof navigator[_0x4b48cd(0x8cc)]&&_0x4b48cd(0x373)==typeof navigator[_0x4b48cd(0x8cc)]['enumerateDevices']&&_0x4b48cd(0x373)==typeof MediaDeviceInfo?_0x4036fb=!0x0:_0x61b339[_0x4b48cd(0x8b2)](_0x5ce311[_0x4b48cd(0xf6)],'Support:\x20'+_0x176a2a+_0x4b48cd(0x4d2)),this[_0x4b48cd(0x603)][_0x4b48cd(0x63b)]({'name':_0x176a2a,'supported':_0x4036fb});}[_0x3cd514(0x4db)](){const _0x2b6603=_0x3cd514,_0x580d54=_0x469878[_0x2b6603(0x5d7)];let _0x538e73=!0x1;_0x2b6603(0x7e0)==typeof document&&_0x2b6603(0x373)==typeof document[_0x2b6603(0x928)](_0x2b6603(0x41e))['setSinkId']?_0x538e73=!0x0:_0x61b339[_0x2b6603(0x8b2)](_0x5ce311[_0x2b6603(0xf6)],_0x2b6603(0x943)+_0x580d54+_0x2b6603(0x4d2)),this[_0x2b6603(0x603)]['push']({'name':_0x580d54,'supported':_0x538e73});}async[_0x3cd514(0x6f6)](){const _0x4617f3=_0x3cd514,_0x232843=_0x469878['Recording'];let _0x52171d=!0x1;try{const _0x341d62=document[_0x4617f3(0x928)](_0x4617f3(0x656));if(MediaRecorder&&MediaSource&&_0x341d62[_0x4617f3(0x7fc)]){const _0x29c2e2=_0x341d62[_0x4617f3(0x7fc)](),_0x42aaf0=new MediaRecorder(_0x29c2e2);_0x42aaf0[_0x4617f3(0x4e2)](),await new Promise(_0x599377=>setTimeout(_0x599377,0x7d0)),_0x42aaf0[_0x4617f3(0x766)](),_0x52171d=_0x4617f3(0x250)===_0x42aaf0[_0x4617f3(0xfb)];}}catch(_0x2c8706){_0x61b339['log'](_0x5ce311[_0x4617f3(0xf6)],'Support:\x20'+_0x232843+'\x20check\x20failed',_0x2c8706);}this[_0x4617f3(0x603)]['push']({'name':_0x232843,'supported':_0x52171d}),_0x52171d||_0x61b339['log'](_0x5ce311[_0x4617f3(0xf6)],_0x4617f3(0x943)+_0x232843+_0x4617f3(0x4d2));}[_0x3cd514(0x77c)](){const _0x5b3d6f=_0x3cd514,_0x49b523=_0x469878[_0x5b3d6f(0x114)];let _0x5d8c02=!0x1;try{document[_0x5b3d6f(0x928)](_0x5b3d6f(0x656))[_0x5b3d6f(0x7fc)]&&(_0x5d8c02=!0x0);}catch(_0x3059cb){_0x61b339[_0x5b3d6f(0x8b2)](_0x5ce311['Support'],_0x5b3d6f(0x943)+_0x49b523+_0x5b3d6f(0x107),_0x3059cb);}this[_0x5b3d6f(0x603)]['push']({'name':_0x49b523,'supported':_0x5d8c02}),_0x5d8c02||_0x61b339[_0x5b3d6f(0x8b2)](_0x5ce311[_0x5b3d6f(0xf6)],_0x5b3d6f(0x943)+_0x49b523+_0x5b3d6f(0x4d2));}[_0x3cd514(0x88f)](){const _0x1dda49=_0x3cd514,_0x39f974=_0x469878['WebGL'];let _0x5b1da4=!0x1;try{const _0xc69282=document[_0x1dda49(0x928)]('canvas');WebGLRenderingContext&&_0xc69282[_0x1dda49(0x8d8)](_0x1dda49(0x6b4))&&(_0x5b1da4=!0x0);}catch(_0x34d500){_0x61b339[_0x1dda49(0x8b2)](_0x5ce311['Support'],'Support:\x20'+_0x39f974+_0x1dda49(0x107),_0x34d500);}this[_0x1dda49(0x603)]['push']({'name':_0x39f974,'supported':_0x5b1da4}),_0x5b1da4||_0x61b339[_0x1dda49(0x8b2)](_0x5ce311['Support'],'Support:\x20'+_0x39f974+_0x1dda49(0x4d2));}[_0x3cd514(0x5b6)](){const _0x18130c=_0x3cd514,_0x478adf=_0x469878['AudioContext'];let _0x3ea8c1=!0x1;_0x18130c(0x373)==typeof AudioContext?_0x3ea8c1=!0x0:_0x61b339[_0x18130c(0x8b2)](_0x5ce311[_0x18130c(0xf6)],'Support:\x20'+_0x478adf+_0x18130c(0x4d2)),this[_0x18130c(0x603)][_0x18130c(0x63b)]({'name':_0x478adf,'supported':_0x3ea8c1});}}const _0x39b65d=_0x568992[_0x3cd514(0x68e)]();class _0x5ed3c8{static [_0x3cd514(0x59b)];static [_0x3cd514(0x2cf)];static [_0x3cd514(0x7d5)];['authService'];[_0x3cd514(0x1a3)];[_0x3cd514(0x9aa)];[_0x3cd514(0x35d)];['clusters']=new Map();['authContext'];constructor(_0xc6feda,_0x2fcb04,_0x4c07ee){const _0x384d1c=_0x3cd514;this[_0x384d1c(0x1a3)]=_0xc6feda,this[_0x384d1c(0x35d)]=_0x2fcb04,this[_0x384d1c(0x1e4)]=new _0x574a12(this[_0x384d1c(0x1a3)]),_0x39b65d[_0x384d1c(0x34a)](),this[_0x384d1c(0x9aa)]={'audioContext':_0x4c07ee?.['audioContext']??(_0x39b65d[_0x384d1c(0x66c)](_0x469878[_0x384d1c(0x4a0)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x4c07ee?.[_0x384d1c(0x910)]??0x1,'minConnections':_0x4c07ee?.[_0x384d1c(0x52c)]??0x3,'maxConnections':_0x4c07ee?.[_0x384d1c(0x525)]??(_0x4c07ee?.[_0x384d1c(0x52c)]&&0x4*_0x4c07ee[_0x384d1c(0x52c)])??0xc,'maxDistance':_0x4c07ee?.['maxDistance']??0xa,'maxFps':_0x4c07ee?.[_0x384d1c(0x5e7)]??0x18,'maxBpp':_0x4c07ee?.[_0x384d1c(0x87d)]??0.12,'objectStoreConnector':_0x4c07ee?.[_0x384d1c(0x8d6)]??_0x36a795[_0x384d1c(0x279)],'externalStorageConnectors':_0x4c07ee?.[_0x384d1c(0x72e)],'keyValueDatabaseConnector':_0x4c07ee?.['keyValueDatabaseConnector']??_0x599789[_0x384d1c(0x754)],'loggingDatabaseConnector':_0x4c07ee?.[_0x384d1c(0x3eb)]??_0x599789[_0x384d1c(0x754)],'peerConnectionConnector':_0x4c07ee?.[_0x384d1c(0xcc)]??_0x4d5fe6['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x4c07ee?.[_0x384d1c(0x5ef)],'vectorDatabaseConnector':_0x4c07ee?.[_0x384d1c(0x6ea)],'graphDatabaseConnector':_0x4c07ee?.[_0x384d1c(0x6ce)],'documentParserConnector':_0x4c07ee?.[_0x384d1c(0x24a)],'nlpLibraryConnector':_0x4c07ee?.[_0x384d1c(0x675)],'searchConnector':_0x4c07ee?.[_0x384d1c(0x32c)]},_0x4c07ee?.[_0x384d1c(0x539)]&&this['options'][_0x384d1c(0x1ed)]&&_0x1bfa0c['startNoThrottlingHack'](this['options'][_0x384d1c(0x1ed)]),_0x61b339[_0x384d1c(0x836)](this['vendorId']),_0x4c07ee?.['loggingConnectors']&&_0x61b339[_0x384d1c(0x444)](_0x4c07ee[_0x384d1c(0x87e)]);}static async['getInstance'](_0x3323e6,_0x26ca5b,_0x2a4978,_0x39c1a9,_0xfdace9){const _0x15b57b=_0x3cd514;this[_0x15b57b(0x7d5)]=_0x2a4978;const _0xe224ac=await this['validateAccess'](_0x3323e6,_0x26ca5b,_0xfdace9);return _0x5ed3c8[_0x15b57b(0x59b)]||(_0x5ed3c8['instance']=new _0x5ed3c8(_0x3323e6,_0xe224ac,_0x39c1a9)),{'close':_0x5ed3c8['instance'][_0x15b57b(0x8aa)][_0x15b57b(0x4d0)](_0x5ed3c8['instance']),'authenticateUser':_0x5ed3c8['instance'][_0x15b57b(0x8ea)][_0x15b57b(0x4d0)](_0x5ed3c8[_0x15b57b(0x59b)]),'authenticateAgent':_0x5ed3c8[_0x15b57b(0x59b)][_0x15b57b(0x123)][_0x15b57b(0x4d0)](_0x5ed3c8['instance']),'joinCluster':_0x5ed3c8[_0x15b57b(0x59b)][_0x15b57b(0x7b3)][_0x15b57b(0x4d0)](_0x5ed3c8[_0x15b57b(0x59b)])};}static async[_0x3cd514(0x39b)](){return _0x349b1d['getEstimatedTimestamp']();}static['isProduction'](){const _0x5b55b1=_0x3cd514;return _0x7d2261[_0x5b55b1(0x583)];}async[_0x3cd514(0x8aa)](_0x2e5859){const _0x19bf9d=_0x3cd514;this[_0x19bf9d(0x63c)][_0x19bf9d(0x753)](_0x40dbcf=>{const _0x5294d5=_0x19bf9d;_0x40dbcf['off'](),_0x40dbcf[_0x5294d5(0x55a)](_0x2e5859);}),this[_0x19bf9d(0x63c)][_0x19bf9d(0x921)](),this[_0x19bf9d(0x9aa)][_0x19bf9d(0x1ed)]&&_0x1bfa0c[_0x19bf9d(0x297)](),_0x5ed3c8[_0x19bf9d(0x2cf)]?.(),_0x5ed3c8[_0x19bf9d(0x2cf)]=void 0x0,this[_0x19bf9d(0x4a4)]=void 0x0,await this[_0x19bf9d(0x1e4)][_0x19bf9d(0x229)](),_0x5ed3c8['instance']=void 0x0;}static async[_0x3cd514(0x4bb)](_0x3a1e9a,_0x1df0bd,_0x5268c5){const _0x55eec9=_0x3cd514;if(!this[_0x55eec9(0x7d5)])throw new _0x1e3976(_0x2089de[_0x55eec9(0x84f)],'Node\x20type\x20is\x20required');let _0x2875c0;try{_0x2875c0=await(0x0,_0x17a0f0['httpsCallable'])(_0x349b1d[_0x55eec9(0x865)](),_0x55eec9(0x901))({'vendorId':_0x3a1e9a,'accessToken':_0x1df0bd,'secretKey':_0x5268c5});}catch(_0x3ed11a){throw new _0x1e3976(_0x2089de[_0x55eec9(0x573)],'Invalid\x20credentials');}if(!this[_0x55eec9(0x8f5)](_0x2875c0[_0x55eec9(0x66f)]))throw new _0x1e3976(_0x2089de[_0x55eec9(0x573)],'Invalid\x20credentials');const _0xc66525=_0x2875c0[_0x55eec9(0x66f)];return _0xc66525['features']||(_0xc66525[_0x55eec9(0x2b3)]=[]),this['unsubscribe']||(this['unsubscribe']=_0x1bfa0c['setInterval'](async()=>{const _0x544529=_0x55eec9;try{const _0x37c51d=await this[_0x544529(0x4bb)](_0x3a1e9a,_0x1df0bd,_0x5268c5);this[_0x544529(0x7d5)]===_0x3cfea6['NodeType'][_0x544529(0x704)]&&(_0x37c51d[_0x544529(0x92b)]=_0x37c51d[_0x544529(0x92b)][_0x544529(0x4d1)](_0x364a2d=>_0x364a2d['urls'][_0x544529(0xe8)](_0x544529(0xd6)))),_0xc66525[_0x544529(0x92b)]=_0x37c51d[_0x544529(0x92b)];}catch(_0xb21e2e){}},0x1b7740)),_0xc66525;}async[_0x3cd514(0x8ea)](_0x242d6e){const _0x882531=_0x3cd514;if(_0x5ed3c8['mode']!==_0x3cfea6[_0x882531(0x2a9)][_0x882531(0x320)])throw new _0x1e3976(_0x2089de[_0x882531(0x701)],_0x882531(0x4c6));await this[_0x882531(0x1e4)][_0x882531(0x6d7)](_0x242d6e);const _0x2936e6=new _0x26db81(_0x242d6e['id'],_0x242d6e['displayName'],_0x242d6e['email']);return this['authContext']={'node':_0x2936e6},_0x39b65d[_0x882531(0x985)](_0x2936e6),{'type':_0x3cfea6[_0x882531(0x2a9)][_0x882531(0x320)],'getId':_0x2936e6['getId'][_0x882531(0x4d0)](_0x2936e6),'getDisplayName':_0x2936e6[_0x882531(0x172)][_0x882531(0x4d0)](_0x2936e6),'getEmail':_0x2936e6['getEmail']['bind'](_0x2936e6),'setDisplayName':_0x2936e6['setDisplayName'][_0x882531(0x4d0)](_0x2936e6),'setEmail':_0x2936e6[_0x882531(0x71c)]['bind'](_0x2936e6)};}async[_0x3cd514(0x123)](_0x4c493f){const _0x19bd79=_0x3cd514;if(_0x5ed3c8[_0x19bd79(0x7d5)]!==_0x3cfea6['NodeType']['Agent'])throw new _0x1e3976(_0x2089de['NodeInvalidType'],_0x19bd79(0x4c6));const {id:_0x2f5157,groupId:_0x1a30bb}=_0x4c493f,_0x15c2c2=await(0x0,_0x3cf795['getDoc'])((0x0,_0x3cf795[_0x19bd79(0x62b)])(_0x349b1d[_0x19bd79(0x823)](),_0x19bd79(0x866)+this[_0x19bd79(0x1a3)]+'/resources/agent/items/'+_0x1a30bb));if(!_0x15c2c2['exists']())throw new _0x1e3976(_0x2089de['NodeNotAuthenticated'],_0x19bd79(0x15f));const _0x5235ac=_0x15c2c2[_0x19bd79(0x66f)]();await this[_0x19bd79(0x1e4)][_0x19bd79(0x6d7)]({'id':_0x2f5157});const _0x1d3ba1=new _0x23ebce(_0x2f5157,_0x1a30bb,this[_0x19bd79(0x1a3)],_0x5235ac);return this[_0x19bd79(0x4a4)]={'node':_0x1d3ba1},_0x39b65d[_0x19bd79(0x985)](_0x1d3ba1),await this['connectAgent'](_0x1d3ba1),{'type':_0x3cfea6[_0x19bd79(0x2a9)][_0x19bd79(0x704)],'getId':_0x1d3ba1['getId'][_0x19bd79(0x4d0)](_0x1d3ba1),'onConfigurationChange':_0x1d3ba1[_0x19bd79(0x93a)][_0x19bd79(0x4d0)](_0x1d3ba1),'setReportCapacity':_0x1d3ba1[_0x19bd79(0x735)][_0x19bd79(0x4d0)](_0x1d3ba1)};}async[_0x3cd514(0x7b3)](_0x4fbcf6){const _0x2610aa=_0x3cd514;if(!this['authContext'])throw new _0x1e3976(_0x2089de[_0x2610aa(0x5c1)],_0x2610aa(0x87b));if(this[_0x2610aa(0x4a4)][_0x2610aa(0x64a)][_0x2610aa(0x3a7)]!==_0x3cfea6[_0x2610aa(0x2a9)][_0x2610aa(0x320)])throw new _0x1e3976(_0x2089de[_0x2610aa(0x21b)],_0x2610aa(0x595));if(this[_0x2610aa(0x63c)][_0x2610aa(0x31e)](_0x4fbcf6))throw new _0x1e3976(_0x2089de[_0x2610aa(0x745)],_0x2610aa(0x6f3));const _0x3c0bdc=new _0x2f7082(this[_0x2610aa(0x1a3)],_0x4fbcf6,this[_0x2610aa(0x4a4)][_0x2610aa(0x64a)],this[_0x2610aa(0x1e4)],this['options'],this['configs']);return await _0x3c0bdc[_0x2610aa(0x696)](),this[_0x2610aa(0x39f)](_0x4fbcf6,_0x3c0bdc),_0x61b339['logEvent'](_0x2610aa(0x226),{'clusterId':_0x4fbcf6,'nodeId':this[_0x2610aa(0x4a4)][_0x2610aa(0x64a)][_0x2610aa(0x47f)](),'nodeType':this[_0x2610aa(0x4a4)][_0x2610aa(0x64a)]['type']}),{'leave':_0x3c0bdc[_0x2610aa(0x55a)]['bind'](_0x3c0bdc),'getLocalNode':_0x3c0bdc['getLocalNode'][_0x2610aa(0x4d0)](_0x3c0bdc),'openPubSubTopic':_0x3c0bdc[_0x2610aa(0x22f)]['bind'](_0x3c0bdc),'openObjectStoreBucket':_0x3c0bdc[_0x2610aa(0x272)][_0x2610aa(0x4d0)](_0x3c0bdc),'openExternalStorageConnection':_0x3c0bdc['openExternalStorageConnection'][_0x2610aa(0x4d0)](_0x3c0bdc),'openKeyValueDatabase':_0x3c0bdc[_0x2610aa(0x4ae)][_0x2610aa(0x4d0)](_0x3c0bdc),'openGenerativeAIContext':_0x3c0bdc[_0x2610aa(0x516)][_0x2610aa(0x4d0)](_0x3c0bdc),'openGenerativeAIWorker':_0x3c0bdc[_0x2610aa(0x218)][_0x2610aa(0x4d0)](_0x3c0bdc),'openGraphDatabase':_0x3c0bdc[_0x2610aa(0x7fa)][_0x2610aa(0x4d0)](_0x3c0bdc),'openVectorDatabase':_0x3c0bdc[_0x2610aa(0x1b1)]['bind'](_0x3c0bdc),'publishLocalMediaStream':_0x3c0bdc['publishLocalMediaStream']['bind'](_0x3c0bdc),'publishLocalDynamicMediaStream':_0x3c0bdc[_0x2610aa(0x4b6)]['bind'](_0x3c0bdc),'getPubSubTopics':_0x3c0bdc[_0x2610aa(0x880)][_0x2610aa(0x4d0)](_0x3c0bdc),'getObjectStoreBuckets':_0x3c0bdc[_0x2610aa(0xe1)][_0x2610aa(0x4d0)](_0x3c0bdc),'getExternalStorageConnections':_0x3c0bdc[_0x2610aa(0x75f)]['bind'](_0x3c0bdc),'getKeyValueDatabases':_0x3c0bdc[_0x2610aa(0x19b)][_0x2610aa(0x4d0)](_0x3c0bdc),'getGenerativeAIContexts':_0x3c0bdc['getGenerativeAIContexts'][_0x2610aa(0x4d0)](_0x3c0bdc),'getGenerativeAIWorkers':_0x3c0bdc[_0x2610aa(0x521)][_0x2610aa(0x4d0)](_0x3c0bdc),'getGraphDatabases':_0x3c0bdc['getGraphDatabases'][_0x2610aa(0x4d0)](_0x3c0bdc),'getVectorDatabases':_0x3c0bdc[_0x2610aa(0x45d)][_0x2610aa(0x4d0)](_0x3c0bdc),'getLocalMediaStreams':_0x3c0bdc[_0x2610aa(0x934)][_0x2610aa(0x4d0)](_0x3c0bdc),'getRemoteMediaStreams':_0x3c0bdc[_0x2610aa(0x6b2)][_0x2610aa(0x4d0)](_0x3c0bdc),'getRemoteNodes':_0x3c0bdc[_0x2610aa(0x281)][_0x2610aa(0x4d0)](_0x3c0bdc),'on':_0x3c0bdc['on'][_0x2610aa(0x4d0)](_0x3c0bdc),'off':_0x3c0bdc['off']['bind'](_0x3c0bdc)};}async['connectAgent'](_0x2d5844){const _0x341995=_0x3cd514;for(const _0x5a40e2 of _0x2d5844[_0x341995(0x73f)][_0x341995(0x63c)]){const _0x407db1=new _0x2f7082(this['vendorId'],_0x5a40e2['id'],_0x2d5844,this['authService'],this[_0x341995(0x9aa)],this[_0x341995(0x35d)]);await _0x407db1[_0x341995(0x696)](),this['addCluster'](_0x5a40e2['id'],_0x407db1);for(const _0x9ced32 of _0x5a40e2[_0x341995(0x552)]??[])_0x407db1['openPubSubTopic'](_0x9ced32);for(const _0x3e784e of _0x5a40e2[_0x341995(0x692)]??[])await _0x407db1[_0x341995(0x272)](_0x3e784e);for(const _0x2d3235 of _0x5a40e2[_0x341995(0x33b)]??[]){const _0x174053=_0x2d3235[_0x341995(0x4d3)]('-');await _0x407db1[_0x341995(0x5c0)](_0x174053[0x1],_0x174053[0x0]);}for(const _0x588a0d of _0x5a40e2[_0x341995(0x947)]??[])await _0x407db1[_0x341995(0x4ae)](_0x588a0d,{'version':0x1,'tables':{}});for(const _0x477d3b of _0x5a40e2[_0x341995(0x324)]??[])_0x407db1[_0x341995(0x7fa)](_0x477d3b);for(const _0x2e0ba5 of _0x5a40e2['vectorDatabases']??[])_0x407db1['openVectorDatabase'](_0x2e0ba5);for(const _0x280e08 of _0x5a40e2[_0x341995(0x718)]??[]){await _0x407db1[_0x341995(0x218)](_0x280e08);const _0x18e942=_0x4037c1(this[_0x341995(0x1a3)],_0x280e08),_0x4e4288=_0x4368fc(),_0x5a63da=this['options'][_0x341995(0x3eb)]??this['options'][_0x341995(0x5e1)];await _0x407db1[_0x341995(0x4ae)](_0x18e942,_0x4e4288,_0x5a63da);}}}[_0x3cd514(0x39f)](_0x294e54,_0x417d80){const _0x4b2cd7=_0x3cd514;this[_0x4b2cd7(0x63c)][_0x4b2cd7(0x282)](_0x294e54,_0x417d80),_0x417d80['on'](_0x4b2cd7(0x52f),()=>{const _0x7f9bc3=_0x4b2cd7;_0x417d80[_0x7f9bc3(0xcb)](),this[_0x7f9bc3(0x63c)][_0x7f9bc3(0x6f9)](_0x294e54);});}static[_0x3cd514(0x8f5)](_0x48e3b4){const _0x17de6a=_0x3cd514;return void 0x0!==_0x48e3b4[_0x17de6a(0x92b)];}}return _0xd58544;})())));