function a0_0x38c0(){const _0x477f79=['stream','reportMetric','keyValueDatabaseConnector','An\x20error\x20occurred','functions','invalid-access','createRemoteMediaStream','\x20already\x20exists','clientStream','embed','endpointUrl','.ipynb','trace','.twig','List','set','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','GraphDatabaseNameNotString','apikeys/','isReady','Missing\x20search\x20API\x20key','ingestFile','createGenerativeAIContextStandalone','Invalid\x20key:\x20','\x20with\x20\x27','waitSuccess','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','.rb','threshold','setOnDisconnectHandler','\x20attributed\x20to\x20','parentId','No\x20file\x20content\x20found','localMediaStreams','answer','vectorDatabases','SenderPeerConnection.send','subscription','CloseGenerativeAIContext','deleteTransactionsForTable','KeyValueDatabaseTableDoesNotExist','region','.crewdle-last-transaction','getJobs','420235181083','File','/transactions/','statusText','oidc','lastProcessRank','handleContentUpdateMediaStream','getLocalId','commitTrace','Node','signInWithCustomToken','Received\x20ContentSynchronized\x20from\x20','Database\x20already\x20exists','groupId','closeTrace','application/json','createOffer','dataChannel','hashTransaction','onConnectionStateChange','Rejected','receiverPreviousBytes','Invalid\x20query','GenerativeAIWorker:\x20FileDelete\x20failed','PubSubTopicAlreadySubscribed','getEstimatedTimestamp','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','Retrieve','layout','stop','clearOncloseTimeout','handleContentUnpublishMediaStream','generative-ai','sdkCreateToken','1.0.41.0','generative-ai-context-already-exists','confirmSynchronization','Attempt\x20','handlePeerConnectionSystemEvents','vector','serverTimestamp','key-value-database-creation-failed','handleFolderCreate','frameWidth','/objectstores/','object-store-already-subscribed','url','VectorDatabaseAlreadyExists','retryCallback','removeIncomingSubscription','pendingFilesSyncing','removeNode','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','sequence','retryLimit','getAuth','startBidResponseHandling','Get','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','handleSubscribeMediaStream','AgentSkill','statsReporting','GraphDatabaseDoesNotExist','true','RequestFileWrite','/developers/','.erb','Found\x20','loop','joinCluster','publishMove','getVectorDatabase','lastTransactionId','enumerateDevices','getTableConnector','\x20ms\x0a','UnsubscribeMediaStream','ExecuteAgent','maxThreshold','thread-','debounceReady','msalGetAccessToken','Error\x20opening\x20trace','executeAgent','connectionPool','getTable','Failed','prompts','isResultResponse','active','\x20answer','discover','createElement','VectorDatabaseStats','AITrace','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','AudioVideoDelay','result','setPendingFileSyncingPayload','nodeUpdate','reasoning','filesSynced','errorDetails','/transactions/lastTransaction','isSyncing','Unknown\x20error','subscriptionRequestsQueue','checksum','getReceiverTotalBytes','collectStats','createJobDispatcher','updateLastTransactionId','GenerativeAIContextJobInvalidType','externalStorages','.lua','getBuffer','query-helper-invalid-argument','audioDestination','Generic\x20AI\x20Agent','Node\x20does\x20not\x20exist.','SenderSendMessage','64881izhYZb','addProblem','targetId','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','18Kggncf','SystemTopic\x20publish','responseTimeout','orderBy','content-publish-media','retryDelay','title','Subscription\x20request\x20has\x20not\x20been\x20answered.','setTransformations','handleChunkMessage','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','logServiceEvent','Internal\x20unknown\x20error:\x20','operator','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','Interviewer\x20Agent','object-store-name-not-string','removeVectorDatabase','inputTokenPrice','Orchestrator\x20handleSystemEvents','debounceProcessRank','Object\x20store\x20is\x20not\x20in\x20sync','notifyClusterNodeJoin','.swift','Cannot\x20publish\x20payload:\x20','totalNodes','Resolution','length','ObjectStore\x20not\x20found','relevance','NodeManager\x20-\x20NodeUpdate','OpenAI','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','if-else-router','bandwidth.jitter','streamLabel','\x20must\x20be\x20a\x20string','messageBuffer','.yaml','executeJavascriptCodeSnippet','FPS','Competitive\x20Analysis\x20Agent','graphService','URL\x20is\x20required','InvalidSubscription','claude-3-7-sonnet-latest','bytesReceived','openAIKey','JobWorker:\x20Received\x20job\x20request','GenerativeAIModelInputType','Offline','setupConnectionEvents','PromptFunctionParamsType','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','false','router','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','openJobWorker','PromptSource','removeListener','Operations:','created','onNodeUpdate','file-list','_isReady','GraphDatabaseAlreadyExists','loggingCycle','checkAudioOutput','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','blockId','shouldProcessTransaction','cost','digest','combinePeaks','unsubscribe','handlePublishMediaStream','ConnectionInvalidDataEvent','page','.js','validation','processReport','getDataLogged','GenerativeAIRatingStatus','logDataSent','Reranker\x20block\x20is\x20missing\x20required\x20data','Support:\x20','ner','track','packetsLost','minResolutionScale','question','CloseJobWorker','createTopic','Done','text/event-stream','chunk','consumeBufferedEvents','iceConnectionState\x20failed','Shared','cluster-disconnect','processOutboundReport','logPropagateSystemEvent','setPriority','handleNodeJoinNeedPublishedStream','publishSyncCompleted','pathName','\x20completed.','SentenceSplitter','key-value-database-invalid-query','required','.conf','outgoingManager','sentence-splitter','GraphDatabaseMissingConnector','Signaling','tableObserver','ContentType','KeyValueDatabase\x20not\x20found','addNode','rank','generativeAIWorkers','NodeUpdate','UnsubscribeMediaStreamdiaStream','ceil','minConnections','connectionConstructor','getLocalMediaStreams','generative-ai-label-conflict','incomingTopic','function','catch','VectorDatabaseNameNotString','processRemoteInboundReport','notifyCluster','listen','ccc','isInternalLoggingConnector','captureStream','G-F7W8KXRKQB','claude-3-5-haiku-latest','receiverUnsubscribers','FileStatus','Low','IntermediateOutput','user-join','RAG\x20connector\x20is\x20not\x20available','gpt-4o-mini','local-media-stream-track-fail','aiSearchConnector','configs','delta','Job\x20with\x20id\x20','\x20does\x20not\x20support\x20content\x20type\x20','Request','stopTracing','inputType','VectorDatabaseMissingConnector','createWritableStream','vector-database-name-not-string','unshift','chunk-splitter','right','removeConnection','systemMessages','support','globalObject','getShareableStream','ClusterAlreadyJoined','senderStreams','.yml','notifyObjectStoreOfNodeJoin','closeTopic','Remove','ReadableStream\x20is\x20not\x20supported','checkExistingPendingFileContent','senderPreviousTimestamp','logLevel','run','timestamp','PubSub','FolderCreate','EntityExtractor','setSinkId','endpointMethod','totalEncodeTime','startLoggingCycle','localId','connectAgent','Early\x20return','evaluateBidsAndAttributeJob','Pending','output','\x20-\x20','handleSubscriptionUnsubscribeMediaStream','getObjectStoreBucket','setIsLoaded','getAudioVideoDelay','isComputingMMR','transactionHashMap','messagesSent','getBufferedAmount','No\x20connections\x20available\x20to\x20send\x20message','issues','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','accessToken','detectAudioIssues','Executing\x20custom\x20skill:\x20','receiverPreviousTimestamp','createIncomingSubscription','availableTrackKinds','handleAnswer','size','organizationId','sendTransactionsValue','Tool','st_volatility','packets','ragConnector','providerListener','NodeManager\x20-\x20PublishNodeLeave','Update','update','applyRemediation','Invalid\x20object\x20store\x20state.','AI\x20Service\x20already\x20exists','fetchUrl','addRemoteConnection','Index','getExternalStorageConnections','server','SubscriptionRequestFailed','readyDebounce','arguments','setVendorId','Invalid\x20index\x20in\x20table\x20\x27','listener','logUsage','lastHeartbeat','key-value-database-not-open','getBid','test-page','peaks','logBatch','Cannot\x20publish\x20file:\x20','Cannot\x20get\x20file:\x20','remote-stream-does-not-exist','off','openPubSubTopic','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','Attribution','mmrRoot','race','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','object-store-invalid-path','competitive-agent','deleteFile','.info/serverTimeOffset','getAgents','mode','listenUnsubscriber','.vbs','setupRenderElement','user','node-type-required','Today\x20Date:\x20','updated','2pPFYLQ','listFiles','arrayBufferToObject','handleOutgoingSystemEvents','evaluateBids','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','openTrace','ModelVector','previous','parameters','reset','KeyValueDatabaseInvalidLayout','appsync-statechange','handleSuccess','threadId','reportCapacity','getWorkflow','registerSource','google','additionnalInstructions','.sh','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','Delete','generativeAIWorkerConnectors','orderByKey','validateAccess','ObjectStore','messageType','File\x20sending\x20interrupted','removeObjectStore','bufferedChunks','ConnectionNotinitialized','Valid\x20layout','issue','Connection\x20not\x20initialized.','agentId','No\x20start\x20block\x20found','syncResolve','unregisterDestination','clientHeight','all','Error\x20executing\x20agent','get-content','FormSkillGetQuestion','endsWith','String','queries','\x20received\x20partial\x20result:','handleRemediationSystemEvents','learn-agent','llama-3.2-3b','Connected','Boolean','skipEncryption','detectVideoIssues','jobType','has','logSyncMetrics','DTVolatility','PeerConnectionInvalidDestination','ExternalStorageConnectionDoesNotExist','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','getChannelData','WebRTC','receiverConnection','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','tool-call','request-accepted','ref','Model\x20not\x20found','RelationExtractor','clearWaitAnswer','DocumentParser','onConfigurationChange','object-store-stream-does-not-exist','removePubSubTopic','eventListener','insert','GenerativeAILabelConflict','Node\x20already\x20exists.','MediaStream','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','getDoc','compileStats','onClose','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','getObjectStoreBuckets','crewdleSDKDisableLogging','hosting','registeredListeners','pipe','PartialResult','NodeInvalidType','clockSkew','unregisterSystemSource','canRestartHandshake','connected','ObjectStorageBucket','setAnswer','WorkflowTrace','connection-state','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','database','gpt-4.1','previousFrames','getJob','condition_result','signaling','Subject','authenticateAgent','joinedClusters','calculateArrayBufferSize','dataStores','processJobStream','snippet','getFirestore','WebScraper','file','Recording','Before\x20Synchronization','LocalReport','FolderDelete','onDisconnectHandler','clientWidth','Learning\x20Agent','FormSkillSubmitForm','FetchUrl','trackKinds','path','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','return\x20this','node-not-authenticated','SearchGoogle','DataChannel\x20send\x20error','.pdf','DataChannel\x20is\x20not\x20initialized.','validateQuery','subscribe','/chat/completions','AI\x20worker\x20creation\x20failed.','Code','lastUpdated','label','changesUnsubscriber','computeHash','vectorDatabaseConnector','getItem','getQuestion','operations','connectionStateListener','invalid-data-chanel','addReservedTables','GenerativeAIContextJobMissingThreadId','.dart','removeSubscriptionsForNode','getGraphDatabase','getTracks','streams','Invalid\x20subscription.','utf8','all-minilm-l12-v2','Backgrounds','retrieveBlocks','getJobDispatchers','Error\x20writing\x20file','Count','createJob','KeyValueDatabaseIndexNotFound','sourceVideo','accumulated','undefined','removeRemoteMediaStream','Pool','usage','Trend\x20Spotter','origin','vector-database-missing-connector','WebGL','senderTotalMessages','ExecuteCode','isNeedRestart','Opened\x20generative\x20AI\x20worker','getInternalTrackParams','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','Missing\x20OpenAI\x20API\x20key','slice','getName','DatabaseEvent','delete','links','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','tool','minRelevance','topK','/resources/agent/items/','Error\x20parsing\x20JSON:','.ex','mediaUnsubscribers','Sender','getLocalMediaStream','fileSendingMap','handleContentSystemEvents','getRemoteConnections','data-collection-does-not-exist','\x20failed.','key-value-database-does-not-exist','subscriptionRequests','statsCollection','remoteId','logEvent','ExecuteCustomSkill','FeatureNotEnabled','supportsContentType','agent-config-changed','CREWDLE_WEB_SDK','object-store-invalid-payload','ExternalStorage','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','Search','cpu.cycle','collection-query','getRemoteMediaStreams','sonar-deep-research','crewdle-sdk.firebaseapp.com','Invalid\x20object\x20store\x20sync\x20message.','KeyValueDatabasePeakNotFound','sendPeakTransactions','GenerativeAIContextAlreadyExists','July\x202024','.ppt','getVideoTracks','removeJobWorker','createCollection','move','Completed','parseDataCollectionBlocks','key-value-database-transaction-value-not-set','createGain','FormSkill','AudioOutput','Local\x20MediaStream\x20already\x20exists','llama-3.1-8b','handleOffer','SyncComplete','arrayBuffer','ApiKeyMissing','event','shared','OutputAudioStream','tail','handleContentRemoteMediaStreamTrackFail','add','setForDeletion','MissingRemoteConnection','jobWorkers','subject','getLabel','Cannot\x20write\x20transaction.','writeBatch','hash','ChunkSplitter','resetConnection','clearWaitSuccess','setupStatsCollection','ObjectStoreInvalidPayload','nodes','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Workflow\x20output\x20is\x20not\x20a\x20string','SearchPerplexity','\x20check\x20failed','data:\x20[DONE]\x0a\x0a','trackChanges','clearRect','jobDispatchers','KeyValueDatabase\x20-\x20Sync\x20completed','verb','addTrack','input_tokens','rebuildMMR','.rs','question-','gpt-4.1-mini','MistletCapacityReportNotSet','cachedRoot','publishFolder','Data\x20Received','Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','registerSubscriber','startTime','handleNodeJoin','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','warn','write-file','registerCluster','getGenerativeAIWorkers','history','searchInDataCollection','listenerUnsubscriber','detail','Missing\x20vector\x20database\x20connector','KeyValueDatabaseTableNameReserved','number','PubSubTopicAlreadyExists','SubscriptionRequestDoesNotExist','createAnswer','ReceiverPeerConnection.onMessage','inputTokens','dispatchEvent','ModelText','JobDispatcherInvalidPayload','sendFile','InvalidAccess','senderCurrentBytes','list','\x27\x20reserved','drawImage','handleStatsSystemEvents','No\x20parameters\x20provided','canChooseAnswer','Invalid\x20job\x20type','Search\x20connector\x20not\x20set','object-store-cannot-write-transaction','firebaseConfig','nextNodeId','removeRemoteStreamSubscription','Disconnected','getCapacityReport','KeyValueDatabaseRequestPeakTransactions','ExternalStorageInvalidPath','Rejected\x20answer','sonar-reasoning','OfficeParser','nlpLibraryConnector','cpu.av_delay','Key-value\x20database\x20peak\x20not\x20found.','queryFile','syncedFileExists','externalStorageConnectors','ObjectStorage','KeyValueDatabaseSyncRequired','trim','val','Partial','QueryFile','\x20finalized.','vendorId','NodeTypeRequired','key-value-database','DataStream','replaceTrack','anthropicApiKey','value','openGraphDatabase','.tpl','getKeyValueDatabases','GraphSearch','open','boolean','getConnection','Generative\x20AI\x20context\x20job\x20already\x20consumed.','AudioVolume','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','CloseVectorDatabase','Job\x20service\x20observer\x20not\x20found.','I\x20have\x20finished\x20executing\x20my\x20task.','TextGeneration','.pug','search','jobId','stopNoThrottlingHack','Add','.vue','KeyValueDatabaseStats','ragConnectors','discoveryService','.jinja','Reranker','subscribeToJobs','getConfigs','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','contentManager','send','crewdle','\x20attempts:','getAvailableTrackKinds','sendWithRetry','ObjectStoreInvalidState','isConnected','detectionManager','newPath','Medium','isEqual','batchSize','Received\x20content\x20available\x20from\x20node','logInitialMMR','Missing\x20external\x20storage\x20connector','getMediaSubscription','minThreshold','JobStatus','instantiateTransactionTable','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','framesEncoded','/workflows/','JobWorkerInvalidType','type','sendIceCandidates','supported','removeRemoteNode','answerJoin','\x20already\x20exists.','disconnect','not-resolved','Execute\x20skill\x20','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','maxBpp','notifyJoin','OutgoingSubscription','job-dispatcher-job-exists','queryCollection','processInboundReport','jobQueue','DataChannel\x20is\x20not\x20open.','durationTime','\x27\x20to\x20','handleNoAnswer','gpt-4.1-nano','getRemoteMediaStream','outgoingStreams','\x20to\x20generate\x20a\x20response.','JobWorkerCreationFailed','priority','.html','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','messageCallback','decodeJWT','object-store-not-synced','getTransactionFromTableWriteEvent','gatheringState','SHA-256','Error\x20closing\x20trace','maps','optimizationLayers','transformations','topicLabel','LoggingService:\x20logging\x20enabled\x20for','trackListeners','Subscription','contentType','Core','setupTrackEndedListeners','log','.j2','custom-skill','appendTransaction','/jobs','accumulateResult','startIndex','setupStatsReporting','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','failJob','Execute\x20the\x20workflow\x20','Model','updateLastUpdated','updateDebounce','removeTrackListeners','retryQueues','Consuming\x20buffered\x20event','file-delete','.cpp','Skill','jobBids','Cannot\x20get\x20size\x20of\x20path:\x20','invalid-subscriber','\x0a\x0adata:\x20','getInstance','knowledge','stringify','connecting','receiverBitrate','getNumberOutgoingSubscriptions','createGenerativeAIContext','debounceAppendLog','av_delay','text/','job-worker-does-not-exist','previousTimestamp','AppSync\x20client\x20not\x20ready','bid','uuid','content','sourceId','text','Agent','parseWorkflowDocument','Error','logSupport','Remote\x20connection\x20already\x20exists.','AI\x20Search\x20connector\x20not\x20set','AppSync\x20publish','file.content','Internal\x20SDK\x20Error:\x20','apiUrl','setSenderTimestamp','ranges','completion_tokens','getPriority','not-in','loadFromDisk','relations','getEmail','node','GraphDatabaseStats','Anthropic','getDataBucketIds','publishSyncCompletedAfterWrites\x20-\x20','videoWidth','getVectorDatabases','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','DataCollectionDoesNotExist','/resources/generative-ai-workflow/items/','call','Node\x20type\x20is\x20invalid','maxFps','Workflow','checkScreenSharing','resolution','Image','handleNodeLeave','ClosePubSubTopic','entries','handleObjectMove','logConnectionState','requestSubscription','web-scraper-raw','getInternalStreamId','orchestrator','/traces','setRank','keyPath','GenerativeAIEngineType','discoveryUnsubscriber','prototype','onBufferedAmountLow','handleFileWrite','node-invalid-type','.scala','ExternalStorageConnectionAlreadyExists','CrewdleConnection\x20handlePeerConnectionSystemEvents','transactionService','Info','query','PubSubTopicStats','jobObservers','SyncKeyValueDatabase\x20-\x20Ancestors\x20','submitForm','timeSending','status','getKeyValueDatabase','request','transactionTable','5dnXDaQ','reads','splice','getMonth','asc','openVectorDatabase','attributes','GenerativeAIWorkerMissingConnector','data','subscription-request-does-not-exist','dataBucketIds','isRunning','ended','exists','VectorDatabaseDoesNotExist','calculateSize','No\x20RAG\x20connector\x20available','childRemovedUnsubscriber','search-agent','canvas','removeLocalMediaStream','Processing\x20agent\x20block:\x20','handleContentUnsubscribeMediaStream','systemMessagesReceived','contentRect','audio','endpoint','transactionsToSync','topic','validateValue','Upgrade','handleNodeDisconnect','dataUnsubscribers','request-file','Result','JobWorker:\x20Handling\x20job\x20attribution','initialPrompt','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','/vector_stores/','sonar-reasoning-pro','pubsubTopics','autoplay','RemoteMediaStreamDoesNotExist','aws','StorageEventType','addEventListener','GenerativeAITaskType','Key-value\x20database\x20table\x20does\x20not\x20exist.','checkWebGL','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','handleLocalTrackFailure','workflow-invalid-block-type','addCluster','generative-ai-worker-creation-failed','generative-ai-worker-already-exists','getDisplayName','No\x20connector\x20found\x20for\x20model','getRank','folder-create','rejectReady','setSubscriptionRequestTimeout','Remote\x20stream\x20does\x20not\x20exist.','GetContextResult','getSubscriptionInfo','getConnectionDestinations','warning','getLastUpdated','getAncestors','setItem','/transactions','Initial\x20MMR\x20built\x20with','getResolution','Code\x20is\x20required','format','setConnectionType','JobQueueService:\x20Job\x20completed','workflow','answererId','writeTransaction\x20-\x20transaction\x20already\x20exists','writeFile','RemoteMediaStreamInvalidSubscriptionParams','options','.exs','UnpublishMediaStream','match','isJobAttribution','\x20is\x20required','bytesSent','Outgoing','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','clusters/','complete','events','getLocalNode','decode','start','processJob','Query\x20is\x20required','startTracing','subscriptions','\x0a\x20===\x20Total\x20Time:\x20','tableLayout','CanProvideMediaStream','text-embedding-3-large','push','\x20not\x20supported','deletePendingFile','\x0aAdditional\x20data:\x20','.json','job-dispatcher-observer-not-found','ExternalStorageStats','registerSystemSource','restartTimeout','isNodeReady','From\x20','unregisterSubscriber','isFeatureSupported','_ready','getTotalNodes','Vector','getPacketsLostPerc','async','tracks','orchestrator-close','Failed\x20to\x20get\x20file','Answer','setRemoteConnections','traceLevel','canProvideResolution','processReceivedTransactions','NeedRestart','authNode','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','fileChunks','syncTimeout','authenticateUser','ObjectStoreNotSynced','LocalMediaStreamDoesNotExist','ObjectStoreStats','currentDistance','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','width','validateKey','remove','tokens','mediaTopics','unsubscribeHandler','map','iceServers','propn','recipients','getMaxConnections','deleteCollection','knowledgeCutoffDate','.txt','getId','job-worker-creation-failed','failed','ENOENT','KeyValueDatabaseTransactionTableNotInitialized','Received\x20track','sdkValidateAccess','interval','AISearch','maxFramerate','currentBytes','getContent','Remediation','setLoggingConnectors','Error\x20querying\x20file','getJobWorkers','setBytes','registerSystemPublisher','isSync','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','leave','2291332lJbDhu','getGraphDatabases','forceLog','createConstantSource','Invalid\x20where\x20clause','getDocs','setProviderId','key-value-database-invalid-layout','Received\x20','NodeConnectionsUpdate','object-storage','score','detectStreamIssues','CloseKeyValueDatabase','InvalidPublisher','answers','Embeddings','Offer','WaitFalse','createFolder','Error\x20closing\x20writable\x20stream','o3-mini','generative-ai-context-job-invalid-type','token','\x20Stream\x20final\x20response','Jobs','object-store-invalid-sync-message','\x20after\x20','jobPhase','getContext','key-value-database-already-exists','successNotified','Channel\x20\x27','messagesReceived','vectors','getTransactions','transactionIds','getPeaks','unsubscribeTrackEndedListener','toFixed','pub-sub-topic-already-subscribed','Missing\x20index','external-storage-upload','RequestFileSync','getSubscribedTracks','LoadKnowledgeFunction','Content','message','Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string','capacityReporter','text/csv','Dedicated','sender-send-message','getApp','Stream\x20does\x20not\x20exist','createPubSubTopic','topics','receivers','document-parser','getCoresFromCapacityReport','appsync-connect-fail','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','connectionState','processLocalReport','/nodes/','Bid','renderElement','createRemoteNode','remote-media-stream-already-exists','currentFrames','missing-datachannel','getWorkflowObjectStorageBuckets','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','Method\x20not\x20supported','Handshake','getRemoteNodes','searchOnPerplexity','firebaseUnsubscriber','sendRequest','crewdleSDKLoggingChannels','getClosestNodes','encode','handleRequestPayload','Invalid\x20node\x20type','debounceReadyTimeout','key-value-database-table-not-found','CloseMediaStream','onDisconnect','handshakeDebounce','reject','Jitter','developers','.kt','getIdToken','Object\x20store\x20connector\x20is\x20not\x20available',',\x20Total\x20Nodes:','featureSupport','Execute\x20the\x20agent\x20','IngestTrace','createGraphDatabase','messages','entities','rating','logRaw','name','Rating','JobWorker:\x20Sending\x20job\x20bid','pow','fromEntries','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','Vector\x20database\x20creation\x20failed.','limit','processInboundReports','output_tokens','user-update','job-worker-already-exists','internalProcessJob','media-stream','RestartNeedMediaStream','object-store-invalid-state','trackCallback','base64','closed','signalingState','PubSub\x20already\x20exists','\x20seconds','ScreenSharing','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','Failed\x20to\x20commit\x20batch\x20after\x20retries:','previousBytes','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','byteLength','queryOrPrompt','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','unregisterRemoteNode','state','asObservable','objectToArrayBuffer','from','generative-ai-context-creation-failed','wait','bufferedAmountLowThreshold','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','@root','Ingest','setEmail','Events','System','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','Invalid\x20credentials','createObjectStoreBucket','chunksReceived','Prompt\x20is\x20required','systemTopicUnsubscribe','notifyObjectStoreOfNodeLeave','Knowledge','WorkflowTool','every','Account','email','Job','findIndex','close','compareTransactions','isInternalSDKConfigs','local-media-stream-no-audio-context','video','limitToFirst','processPendingHandshakeCandidates','loadEnabledChannels','inactive','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','Data\x20Sent','KeyValueDatabaseContentSynchronized','/usages','KeyValueDatabaseNotOpen','key-value-database-peak-not-found','getFullYear','onHandshakeStateChange','firebase-connect','GenerativeAIWorkerStats','Embed','findNewMediaSubscription','reranker','results','transactionQueue','/resources/generative-ai-workflow/items','getSize','file-ingest','Logging\x20trace','data-collection','\x20must\x20be\x20a\x20valid\x20JSON\x20string','NodeLeave','Error\x20executing\x20code','read','openaiApiKey','createAIJob','PayloadAction','JobType','GenerativeAIWorker:\x20Opened','node-type-not-supported','findNextNodeId','getToolDescription','GenerativeAIContext','publishNodeLeave','handleSubscriptionProvideMediaStream','Cannot\x20unpublish\x20object\x20at\x20','ObjectStorageUpload','values','ObjectStoreNameNotString','debounceRebuildMMR','/nodes','keyValueDatabases','pubsub','object-storage-upload','generative-ai-context-job-already-consumed','head','ConnectionNoRetryQueue','noun','upload','destination','success','openObjectStoreBucket','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','remoteUnsubscriber','signOut','/resources/generative-ai-agent/items','AudioContext','disconnectCallback','/resources/generative-ai-collection/items/','connections','batchTimeout','RemoteRemove','ExternalStorageUpload','handleContentCloseMediaStream','if_else','Document\x20Agent','sync','queryFileConnector','features','enabled','onUnregisterPublisher','generative-ai-context-job-failed','\x27\x20payload:','deleteObject','onSnapshot','CannotProvideMediaStream','destinationIds','Invalid\x20job\x20service\x20payload.','toLocaleDateString','enabledChannels','shift','key-value-database-table-name-reserved','Failed\x20to\x20send\x20job\x20','openGenerativeAIContextStandalone','startHeartbeat','retryCount','externalStorageConnections','RemoteMediaStreamTrackFail','\x20deleted.','engineType','removeGraphDatabase','text/plain','file-write','Mistlet\x20capacity\x20report\x20not\x20set.','connection','GenerativeAIInferenceToolType','handleNodeSystemEvents','InternalSDKError','form-skill','pendingFilesTransactions','sender','srcObject','signInWithCredential','outgoingTopic','Generative\x20AI\x20context\x20job\x20timeout.','Invalid\x20data\x20channel.','createLocalDynamicMediaStream','.awk','handleJobAttribution','isProduction','Llamacpp','Search\x20in\x20data\x20collection\x20','createGenerativeAIWorker','framerate','recomputeRoot','maxTokens','logStorage','Write\x20text\x20data\x20to\x20a\x20file.','Unknown\x20skill\x20type','debounceLogTimeout','GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found','createMediaStreamSource','Text','getResolutionScale','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','getAncestorIds','external-storage-connectors-missing','generativeAIContexts','Disconnect','Number','firebase-disconnect','kind','getProviderId','FileDelete','clearHeartbeat','input-audio-stream','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','workflowId','updateDebounceTimeout','syncContent','KeyValueDatabaseSendTransactions','stun:','JobWorkerDoesNotExist','Stream\x20already\x20exists','syncPendingFiles','LocalMediaStreamNoAudioContext','isPromiseResolved','processOutboundReports','videoHeight','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','High','checkDeviceConfig','CustomSkill','Transaction','height','default','GenerativeAIContextStats','More\x20content\x20available\x20on\x20page\x20','GenerativeAIContextJobTimeout','/search','FinalOutput','isChannelEnabled','timeoutCallback','model','pubSubTopics','Relation','getFunctions','stopConnection','collection','setTimeout','\x27\x20in\x20table\x20\x27','timesCalled','codes','addMessage','Node\x20is\x20not\x20an\x20agent','startsWith','handleProblem','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','transactions','Connection','form-skill-get-question','handleContentSubscribeMediaStream','setTimestamp','handleRemoteTrackFailure','ConnectionNotConnected','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','NodeNotAuthenticated','Archival\x20Search\x20Agent','chosenAnswers','0\x20B','Buffering\x20event','relation','ObjectStoreNotInSync','object','providerId','nodeManager','ExternalStorageNameNotString','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','buildInitialMMR','setRemoteNode','remediation','Invalid\x20table\x20name\x20\x27','observer','senders','handleSystemEvents','handleFileSync','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','agent','developers/','LocalMediaStreamTrackFail','everyone','missing-incoming-connection','job-dispatcher-job-not-found','.vb','runTransaction','21a9d78dee97f487b','params','setStatus','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','RetrieveTrace','.info/connected','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','shouldContinuePropagation',':\x20Object\x20store\x20is\x20not\x20in\x20sync','isOpened','handleDetectionSystemEvents','GenerativeAIWorker:\x20Opening','Remote\x20MediaStream\x20already\x20exists','getPubSubTopics','createExternalStorageConnection','\x20with\x20response:','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','handshakeCandidates','GenerativeAIWorkerCreationFailed','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','listenerUnsubscribers','dataTopics','Subscribing\x20to\x20an\x20event:\x20on','openGenerativeAIContext','streamId','.java','handleCloseContent','checkAudioVolume','publish','handleOnMessage','Job\x20service\x20creation\x20failed.','addIssue','us-east-1','includes','handleSubscriptionSystemEvents','padStart','chooseAnswer','isReconnecting','getDTVolatility','Invalid\x20job\x20worker\x20type.','random','join','tables','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','handleSubscriptionRestartNeedMediaStream','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','crewdle-sdk-stg.appspot.com','clusterKey','RemoteMediaStreamMissingProviderId','handleNeedRestart','deleteJob','invalid-publisher','\x0a\x20===\x20Current\x20MMR\x20Root','clear','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','write','code','currentVersion','InputAudioStream','CONNECTION_STATE_CHANGE','incrementVersion','saveToDisk','publishTransaction','isJobRequest','realtime-session-create','publishLocalMediaStream','Stats:\x20report','direction','getSettings','lastExecuted','Parameter\x20','maxConnections','numeric','setParams','connectionManager','syncTransactionsWritten','searchOnGoogle','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','Invalid\x20data\x20event.','heartbeatUnsubscriber','sendReject','\x0a</','ownerId','commitType','syncKeyValueDatabase','RequestFile','GenerativeAIWorkerAlreadyExists','assistant','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','nodesConnected','resume','ConnectionGroup','dt_volatility','file-download','getGenerativeAIContextsStandalone','JobStream','hasTable','amd','form-skill-submit-form','https://api.crewdle.ai','stats','firstValueFrom','entity-extractor','getCurrentMaxLayer','Error\x20writing\x20chunk\x20to\x20stream','find','sonar','contentMediator','mistlet-capacity-report-not-set','addDoc','getOutgoingOptimizationConnections','remoteMediaStreams','PubSubTopicNameNotString','Problem','publishSystemMessage','onChildRemoved','searchEngineId','IncomingSubscription','round','fallbackModel','Missing\x20AI\x20search\x20API\x20key','searchConnector','authContext','ExternalStorageConnectionAlreadySubscribed','isWhereValue','Error\x20searching','text-embedding-3-small','completeSync','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','getShareableStreamId','Logging\x20not\x20enabled\x20for\x20channel\x20','time','isPartialResultResponse','upgrade','.hs','error','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','jobs','isWhereValues','logWaitTime','resizeHandler','maxLayer','Logger.getInstance','statsManager','batch','bufferEvent','IDBDatabaseConnector','Invalid\x20subscriber.','queueLength','getTotalBytes','urls','@context.','createOutgoingSubscription','GenerativeAIContext\x20stream\x20error','generative-ai-context-invalid-partial-result','data:\x20','handleDisconnect','modelId','publishFile','Audio','buffer','trend-spotter','ingestBlocks','removeTopic','resolve','.\x20Confirmation?\x20','once','Detection','notifyClusterNodeUpdate','12261128wpgTMP','Early\x20return:\x20','connect','KeyValueDatabaseNameNotString','isAvailable','clearSubscriptionRequestTimeout','Folder','unregisterSource','systemTopic','graphql','lastClockUpdate','internalProcessJobStream','claude-3-opus-latest','setupResizeHandler','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','objectStores','between','getConnectionType','getContentType','problem','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','mediaDevices','getDistance','syncTransactions','Success','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','createLocalMediaStream','October\x202023','Invalid\x20params','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','application/octet-stream','addCandidate','appendTransactionAndUpdateHashMap','Pinecone','assign','distance','Model\x20not\x20found\x20','blocks','external-storage-invalid-path','RemoteConnectionExists','getDataCollections','checkWebRTC','external-storage-connection-already-subscribed','Issue\x20detected:\x20','\x20failed.\x20Retrying...','processPendingSyncTransactions','api','job-dispatcher-invalid-payload','.jsx','getSTVolatility','indexOf','localNode','cluster-leave','handleFileRequest','VectorDatabase','onTrack','setupListeners','getTransactionByHash','retry','Writable\x20stream\x20is\x20missing','clusterId','/jobs/','toStringTag','readyResolve','floor','upgradeTimeout','generative-ai-context-job-timeout','RequestAccepted','Publish\x20the\x20transaction','OptimizationConnectionSuccess','audioSource','getWorkflows','pub-sub-topic-already-exists','table','ObjectStoreCannotWriteTransaction','PublishMediaStream','Missing\x20AI\x20worker\x20connector','.css','key-value-database-name-not-string','TimePerFrame','onRemoveTrack','publishLocalDynamicMediaStream','inference','evaluatePartialJob','669455iNpsuQ','claude-3-haiku-20240307','writes','waitConnected','STVolatility','removeExternalStorageConnection','ExternalStorageConnection\x20not\x20found','processList','maxDistance','ai-search','sonar-pro','Move','currentBatch','AudioContext\x20is\x20not\x20available','WordSplitter','GraphDatabaseCreationFailed','handleConnectionSuccess','openExternalStorageConnection','getPubSubTopic','ObjectStoreDoesNotExist','processDataChannelReport','nodeKey','.crewdle-transactions','receiverTotalMessages','manageAncestor','getStatus','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','auth','KeyValueDatabaseContentAvailable','createSenderConnection','hashNodes','remainingTracks','Job\x20','CloseExternalStorageConnection','resolveReady','addConnection','unpublish','KeyValueDatabaseInvalidValue','::￿','contentSize','Accepted','updatePropagationProperties','validateLayout','November\x202024','mergeParts','Knowledge\x20Cutoff\x20Date:\x20','August\x202023','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','ObjectStoreInvalidSyncMessage','sampleRate','RemoteRemediation','getSimilarity','/embeddings','startNoThrottlingHack','addBatchOperation','Internal\x20event\x20\x27','removeRemoteConnection','getPartsFromSubscription','connection-invalid-data-event','prompt_tokens','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','AiSearch','CPUCycle','updateUser','getDate','LocalMediaStreamAlreadyExists','removeKeyValueDatabase','getMaxDistance','fileConnector','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','processContentAvailable\x20-\x20Peak\x20comparison:','getMinConnections','CloseJobDispatcher','JobDispatcherAlreadyExists','getSentences','requestSubscriptionAction','buildTableEvent','Amplify','ObjectStoreInvalidPath','WriteFile','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','internalJob','Sync\x20completed','setReportCapacity','WaitTrue','crewdle-sdk-logging-','wait-false','client','generative-ai-context-job-missing-thread-id','handleObjectDelete','KeyValueDatabaseRequestTransactionsValue','ExecuteWorkflow','frames','handleSubscriptionNeedMediaStream','onDataChannel','createBufferSource','Context','evaluateProccessedJob','getPeakNode','rate','getCurrentVersion','tableUnsubscriber','Error\x20retrieving\x20context','en-US','>\x0a\x0a','statsReport','job-dispatcher-does-not-exist','commit','peerConnectionConnector','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','JobDispatcherJobNotFound','Cannot\x20unpublish\x20object:\x20','createPendingFileWrite','string','onCandidate','handleSubscriptionSubscribeMediaStream','source','debounceRebuildMMRWithTransaction','DataCollection','remote-inbound-rtp','blank-agent','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','Data\x20collection\x20does\x20not\x20exist.','sendAction','files','handleMissingSenders','Prompt','isLoaded','clearConnectionTimeout','connector','1624SuMrwj','phi-4-14b','remote-stream-missing-provider-id','receiverStreams','debug','strategizing-agent','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','registerPublisher','transactionsToAppend','MediaStreamUnavailable','\x20-\x20Sending\x20propagation\x20(','timeReceiving','getRoundTripTime','Cannot\x20publish\x20move\x20operation:\x20','\x20MB','closeSubscription','getSubscriptionLabel','Missing\x20transaction\x20id','node-already-exist','contextOutputVariable','some','getGenerativeAIContexts','debounceStats','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','observe','connection-no-retry-queue','remoteConnections','RoundTripTime','/resources/generative-ai-collection/items','expectedTransactions','PubSubTopic\x20not\x20found','\x0a\x20===\x20Total\x20Nodes:','gpt-4o','Incoming','substring','bufferedAmount','callback','startAt','getNextTargetRank','moveObject','.jinja2','audioContext','FormSkillSetAnswer','Error\x20stringifying\x20object','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','createBatch','Database\x20does\x20not\x20exist','subscriptionManager','isSubscribed','disconnected','lastRemediations','ObjectStoreAlreadyExists','bodyParameters','key-value-database-table-does-not-exist','onNodeDisconnect','getBitrate','getHash','getTrackFromParam','.cfg','VectorDatabase\x20not\x20found','getEngineType','onGatheringStateChange','request-file-write','hasRemoteNode','MissingSystemTopic','createNewBatch','lastCapacityReport','version','Default','openKeyValueDatabase','\x20received\x20responses:','timeoutValue','collection-create','pub-sub-topic-name-not-string','getIsLoaded','subscription-request-no-answer','defineProperty','publishNodeJoin','\x20must\x20be\x20a\x20boolean','.handlebars','signalingServer','now','JobWorkerAlreadyExists','remoteNodes','Invalid\x20version\x20\x27','documentParserConnector','senderTimeProcessing','removeJobDispatcher','DeviceConfig','take','SubscriptionRequestNoAnswer','cleanOldSubscription','collectSendersStats','joinedAt','json','Error\x20fetching\x20URL','1.0.41','objectStoreConnector','estimatedPlayoutTimestamp','onMessage','instance','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','getMediaStream','OutgoingMediaStreamNoTopic','searchApiKey','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','ReceiverOnMessage','createSubscription','createConnection','JobContext','headers','clearRestartTimeout','handleFileRequestAnswer','.ini','GenerativeAIRagType','appsync-close','pop','handleUnpublishMediaStream','FolderMove','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','Invalid\x20content\x20type','workflow-tool','manageOptimization','sendFileRequestPayload','sendBid','getOwnerId','feature-not-enabled','Error\x20reading\x20file\x20chunk\x20after\x20','FormSetAnswer','checkSyncComplete','forEach','PromptRating','getToolName','firestore','getSenderBitrate','SystemStats','jitter','ancestors','Waiting','queues','KeyValueDatabaseDoesNotExist','detectProblems','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','processReceiverReport','maxOutgoingSubscriptions','document-agent','isValidMediaSubscriptionParams','dbKey','agentConfig','.php','contentRequestSent','outputType','internalId','webgl','processContentSynchronized','load','setDurationTime','UpdateMediaStream','api-key-missing','getAudioTracks','Processing','hasBufferedData','mmr','subscriptionRequestTimeouts','suspended','authService','Synced','Graph\x20database\x20creation\x20failed.','fps','Sender\x20connection\x20is\x20not\x20initialized.','indexes','getPartsForSubscriptionLabel','answer-','retryQueue','Entity','rootComputationPromise','generative-ai-context-does-not-exist','FormGetQuestion','performCalculation','node-does-not-exist','loggingConnectors','CloseGraphDatabase','summary-generator','messageListeners','connectionType','NeedMediaStream','tools','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','peer-connection-invalid-destination','InvalidSubscriber','NodeDoesNotExist','deleteFileChunks','PeerConnection','Restart','Object\x20store\x20not\x20synced.','query-generator','.doc','Method\x20not\x20implemented.','gpu','receiverCurrentTimestamp','toString','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','max','.xlsx','KeyValueDatabaseInvalidQuery','splitParts','bufferedEvents','fetch-url','displayName','.erl','MediaStreamPriority','getSupportedContentTypes','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','Retrieves\x20historical\x20data\x20from\x20online\x20archives.','processRank','pendingSyncTransactions','Receiving\x20\x27','JobDispatcherObserverNotFound','hasTracks','muted','addPendingHandshakeCandidate','Strategizing\x20Agent','commitBatch','clearSyncTimeout','comparePeaks','extendedRecipients','removeEventListener','abs','\x20not\x20found.','May\x202024','problemType','graph-database','/logs','cores','Invalid\x20value.\x20Property\x20\x27','long','2-digit','ObjectStoreAlreadySubscribed','hasMessage','Node\x20\x27','sort','eventEmitter','PubSubTopic\x20onMessage','setOnTableWriteHandler','PubSubTopicDoesNotExist','offset','Bitrate','generic-agent','Job\x20Worker\x20does\x20not\x20exist','addVideoTrack','prompt','Failed\x20to\x20get\x20filename','Local\x20stream\x20does\x20not\x20exist.','unregisterPublisherListener','cancel','clusters','https://api.stg.crewdle.ai','keys','getTime','KeyValueDatabaseCreationFailed','queryParameters','Crewdle','supports','external-storage','listChanges','relation-extractor','key-value-database-transaction-table-not-initialized','toLowerCase','DataChannel\x20buffer\x20is\x20full.','Key-value\x20database\x20creation\x20failed.','InvalidDataChannel','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','Job\x20worker\x20creation\x20failed.','waitAnswer','getSenderTotalBytes','graphDatabaseConnector','addRemoteNode','component','handleUnsubscribeMediaStream','NodeManager\x20-\x20ConnectionSuccess','available','GenerativeAIContextCreationFailed','deleteRemoteNode','Send\x20request','Syncing','currentTimestamp','InitialPrompt','sendStats','out','Warning','object-store-not-in-sync','GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','registerRemoteNode','Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','RemoteAdd','FS\x20connector\x20is\x20not\x20available','isWhereBetween','remediationManager','JobDispatcher:\x20Received\x20job','Cluster','GraphDatabase','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','bitrate','waitSendBuffer','storage','word-splitter','context','outputTokenPrice','VectorDatabaseCreationFailed','onremovetrack','/capacities','checkMediaRecording','external-storage-connection-does-not-exist','frameHeight','cluster-already-joined','FormSubmitForm','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','FileWrite','1:519415702791:web:5dd39042f881cfde3251a2','subscription-request-in-progress','mediator','storageType','JobDispatcherJobExists','setInterval','publishUserUpdate','system','object-store-already-exists','setScheduleTime','owner','Optimization','senderCurrentTimestamp','isArray','NodeAlreadyExist','nodeId','\x20with\x20','Human','senderConnection','unregisterPublisher','NodeManager\x20-\x20NodeLeave','crewdle-sdk-stg.firebaseapp.com','vector-database','tableName','Invalid\x20key\x20\x27','filename','docs','maxResolution','content-unpublish-media','WorkflowInvalidBlockType','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','initializeSystemTopic','Media','getOrResetPendingFileTimeout','.pl','addEdge','sendChunked','getEntities','Upload','query-file','Stats','parse','propagate','clusterEventEmitter','GetContextQuery','overlap','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','GenerativeAIWorker:\x20CollectionDelete\x20failed','getQuery','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','msalRefreshToken','destroy','action','getTrack','unregisterCluster','setUpgradeTimeout','claude-3-5-sonnet-latest','cpu.time_per_frame','increment','Support','receiverCurrentBytes','job-worker-invalid-type','onloadeddata','grammar','detectLocalIssues','element','openJobDispatcher','Internal\x20error:\x20','concat','parseWorkflowBlocks','connectionGroup','JobDispatcherCreationFailed','Data','counter','runJobQueue','1614354JLZEHB','getEnabledChannels','setCurrentVersion','trackEndedListeners','removeOutgoingSubscription','writeTransaction','data-stream','cpu.fps','setEncodingParameters','User','feedback','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','removeTrack','publishSyncCompletedAfterWrites','KeyValueDatabaseTransactionValueNotSet','flatMap','pendingHandshakeCandidates','logger','Queued','getReader','Buffered\x20chunks\x20are\x20too\x20large','CloseObjectStoreBucket','receiverTimeProcessing','handleError','.md','KeyValueDatabaseTableNotFound','GenerativeAIContextInvalidPartialResult','ObjectKind','appsync-no-destination','SubscriptionRequestInProgress','models','processReports','initializeApp','setDisplayName','unsubscribeListener','reduce','Unsupported\x20job\x20type','mute','getRoot','get','initialize','roundTripTime','JobWorker:\x20Sending\x20job\x20result','incomingManager','connectorConstructor','append','configure','removeGenerativeAIContext','getLayout','openedTraces','waitForArrayBufferSize','contextInputVariable','Copywriter\x20Agent','\x20to\x20send\x20dispatcherJob\x20','FramePerSecond','app','WorkflowDoesNotExist','Debug','choices','memoryUsage','functionsRegion','addAudioTrack','connectionTimeout','processBatch','graph-database-name-not-string','subtle','internalContext','isBidResponse','key','registerDestination','Feedback\x20Agent','Cannot\x20list\x20directory:\x20','createReceiverConnection','handleSubscriptionMediaStreamUnavailable','GenerativeAIContextJobFailed','sendTransactionsValue\x20-\x20value\x20not\x20found','objectRequests','JobDispatcherDoesNotExist','processTransactionsToComputeMMR','.go','answerContentAvailable','ConnectionState','Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','getRemoteNode','next','JobWorker:\x20Tracing\x20not\x20implemented','Online','MediaStream\x20feature\x20not\x20enabled','SubscribeMediaStream','total','All','GenerativeAIContextJobAlreadyConsumed','ExternalStorageConnectorsMissing','FROM\x20file','Downgrade','connection-not-connected','NodeJoin','inbound-rtp','handleTransactionPayload','CrewdleConnectionGroup','mediaStream','internal','\x20Process\x20inference\x20final\x20response','ready','packetsSent','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','Receiver','instructions','hasOwnProperty','Data\x20cluster\x20is\x20not\x20open.','Invalid\x20JSON:','13889180PNoPmk','split','LoadSkillFunction','ragApiKey','job-dispatcher-already-exists','count','POST','form-skill-set-answer','chunks','removeItem','where','unregisterSystemPublisher','receiver-on-message','debugEnabled','senderBitrate','Key-value\x20database\x20transaction\x20value\x20not\x20set.','isOffer','getRemoteId','readyPromises','openGenerativeAIWorker','getMilliseconds','bind','left','setReceiverTimestamp','Router','QueryBuilderInvalidArgument','pendingFilesRename','getConnectionGroup','setLocalRank','oncloseTimeout','scheduleTime','senderPreviousBytes','processContentAvailable','.crewdle-layout','createVectorDatabase','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','\x0a\x20===\x20Wait\x20Time:\x20','temperature','fetchContentFromUrl','/stats','transaction','All\x20recipients\x20already\x20received','closeConnection','clearUpgradeTimeout','\x20Fallback\x20model','eventTarget','body','GenerativeAIContextDoesNotExist','.bat','RemoteMediaStreamAlreadyExists','Received\x20event\x20on\x20cluster','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','getDatabase','GenerativeAIModelOutputType','crewdle-sdk.appspot.com','handleHandshake','.xls','file.type','buildQuery','exports','Cluster\x20already\x20joined','emit','processTransactionPayload','Invalid\x20layout:\x20','httpsCallable','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','job-','resolutionScale','filter','StreamReport','join-cluster','DataStream\x20onMessage','collection-delete','NodeType','Restart\x20NeedMediaStream','replace','WebScraperRaw','root\x20hash:\x20','questions','hashPeakHashes','packetsReceived','getConnections','candidate','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','outputTokens','doc','Invalid\x20value.\x20Must\x20be\x20an\x20object.','getDataCollection','min','graphDatabases','handshakeState','then','cluster','processSenderReport','description','getWorkflowExternalStorageConnections','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','No\x20global\x20object\x20found','setInternalId','embedding','collectTransactionsFromNode','KeyValueDatabase','331527TlzQcJ','getJobObservable','createMediaStreamDestination','Error\x20committing\x20batch:','setDoc','timePerFrame','key-value-database-index-not-found','shouldEmit','local-media-stream-already-exists','CrewdleSenderConnection\x20createOffer','aiSearchApiKey','removeTrackCallback','play','standalone','index','JobQueueService:\x20Error\x20running\x20job','handleNodeUpdate','Connection\x20already\x20exists','.ps1','frameTime','uid','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','getToolParams','archival-search','commitLevel','removeSubscription','subscribedTracks','Submit\x20the\x20form.','messageUnsubscriber','checkMediaStream','batchQueue','Wait','getReport','Query\x20must\x20refer\x20to\x20the\x20file\x20table','Support:\x20current\x20config'];a0_0x38c0=function(){return _0x477f79;};return a0_0x38c0();}function a0_0x2316(_0x27eb63,_0x2e3cc1){const _0x38c0a0=a0_0x38c0();return a0_0x2316=function(_0x2316bf,_0x55dcff){_0x2316bf=_0x2316bf-0x136;let _0x54a7e9=_0x38c0a0[_0x2316bf];return _0x54a7e9;},a0_0x2316(_0x27eb63,_0x2e3cc1);}(function(_0x543e88,_0x50f84f){const _0x2a4d9d=a0_0x2316,_0x14a6c6=_0x543e88();while(!![]){try{const _0x772666=-parseInt(_0x2a4d9d(0x671))/0x1*(-parseInt(_0x2a4d9d(0xb28))/0x2)+-parseInt(_0x2a4d9d(0x87d))/0x3+parseInt(_0x2a4d9d(0x3f2))/0x4*(-parseInt(_0x2a4d9d(0x341))/0x5)+parseInt(_0x2a4d9d(0xa1e))/0x6*(parseInt(_0x2a4d9d(0x952))/0x7)+parseInt(_0x2a4d9d(0x6f3))/0x8*(-parseInt(_0x2a4d9d(0xa1a))/0x9)+parseInt(_0x2a4d9d(0x8ec))/0xa+parseInt(_0x2a4d9d(0x61d))/0xb;if(_0x772666===_0x50f84f)break;else _0x14a6c6['push'](_0x14a6c6['shift']());}catch(_0x46719a){_0x14a6c6['push'](_0x14a6c6['shift']());}}}(a0_0x38c0,0xb4d76),!function(_0x50b263,_0x3188ae){const _0x38549f=a0_0x2316;if('object'==typeof exports&&_0x38549f(0x55e)==typeof module)module[_0x38549f(0x927)]=_0x3188ae();else{if('function'==typeof define&&define[_0x38549f(0x5d5)])define([],_0x3188ae);else{var _0x248923=_0x3188ae();for(var _0xdb1b39 in _0x248923)(_0x38549f(0x55e)==typeof exports?exports:_0x50b263)[_0xdb1b39]=_0x248923[_0xdb1b39];}}}(this,()=>((()=>{'use strict';const _0x5a8b1c=a0_0x2316;var _0xe800b7={0x14d:(_0x27b7f1,_0x57f5d7,_0x525fb4)=>{const _0x444724=a0_0x2316;_0x525fb4['d'](_0x57f5d7,{'O':()=>_0x31de2b});const _0x31de2b={'version':_0x444724(0x9c3),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x444724(0x91f),'authDomain':_0x444724(0x847),'databaseURL':_0x444724(0x758),'projectId':'crewdle-sdk-stg','storageBucket':_0x444724(0x5a2),'appId':_0x444724(0x832),'functionsRegion':'northamerica-northeast1'},'apiUrl':_0x444724(0x7f3),'google':{'searchEngineId':_0x444724(0x574)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x444724(0x594)}};},0x33b:(_0x1dd5f1,_0x2621a0,_0x533e1c)=>{_0x533e1c['d'](_0x2621a0,{'O':()=>_0x502e82});const _0x502e82={};},0x3e6:(_0x28381a,_0x59f3f0,_0x318c71)=>{const _0x28b3fa=a0_0x2316;_0x318c71['d'](_0x59f3f0,{'O':()=>_0x570fcf});const _0x570fcf={'version':_0x28b3fa(0x753),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':_0x28b3fa(0x1f0),'databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':'crewdle-sdk','storageBucket':_0x28b3fa(0x922),'messagingSenderId':_0x28b3fa(0x9a1),'appId':'1:420235181083:web:4eff6062bd845cb0748cbe','measurementId':_0x28b3fa(0xaa8)},'apiUrl':_0x28b3fa(0x5d7),'aws':{'endpoint':_0x28b3fa(0x863),'region':_0x28b3fa(0x594)}};},0x20:(_0x218c16,_0x24a0ff,_0x4e3be2)=>{_0x4e3be2['d'](_0x24a0ff,{'O':()=>_0x1608fd});const _0x1608fd={};}},_0xe883da={};function _0xe269a(_0x4b1ac5){const _0x587561=a0_0x2316;var _0x2863c5=_0xe883da[_0x4b1ac5];if(void 0x0!==_0x2863c5)return _0x2863c5['exports'];var _0x339495=_0xe883da[_0x4b1ac5]={'exports':{}};return _0xe800b7[_0x4b1ac5](_0x339495,_0x339495[_0x587561(0x927)],_0xe269a),_0x339495[_0x587561(0x927)];}_0xe269a['d']=(_0x11d2b7,_0x3111ff)=>{const _0x2b08ab=a0_0x2316;for(var _0xb7d5c1 in _0x3111ff)_0xe269a['o'](_0x3111ff,_0xb7d5c1)&&!_0xe269a['o'](_0x11d2b7,_0xb7d5c1)&&Object[_0x2b08ab(0x73f)](_0x11d2b7,_0xb7d5c1,{'enumerable':!0x0,'get':_0x3111ff[_0xb7d5c1]});},_0xe269a['g']=(function(){const _0x13ac12=a0_0x2316;if(_0x13ac12(0x55e)==typeof globalThis)return globalThis;try{return this||new Function(_0x13ac12(0x193))();}catch(_0x7f5490){if(_0x13ac12(0x55e)==typeof window)return window;}}()),_0xe269a['o']=(_0x5ef918,_0x29db59)=>Object[_0x5a8b1c(0x32e)]['hasOwnProperty']['call'](_0x5ef918,_0x29db59),_0xe269a['r']=_0x47396a=>{const _0x5f54e0=_0x5a8b1c;'undefined'!=typeof Symbol&&Symbol[_0x5f54e0(0x65b)]&&Object[_0x5f54e0(0x73f)](_0x47396a,Symbol['toStringTag'],{'value':'Module'}),Object[_0x5f54e0(0x73f)](_0x47396a,'__esModule',{'value':!0x0});};var _0x47ec8c,_0x261e7f,_0xf47a5,_0x25a8da={};_0xe269a['r'](_0x25a8da),_0xe269a['d'](_0x25a8da,{'KeyValueDatabase':()=>_0x6420,'LayoutBuilder':()=>_0x97d116,'LoggingChannels':()=>_0xf47a5,'QueryBuilder':()=>_0x538ebc,'SDK':()=>_0x27fb12,'SDKClientErrorCodes':()=>_0x47ec8c,'TableBuilder':()=>_0x4330a3,'logger':()=>_0x241131}),function(_0x3a0013){const _0x2375bb=_0x5a8b1c;_0x3a0013[_0x2375bb(0x206)]=_0x2375bb(0x791),_0x3a0013['ConnectionBufferNotEmpty']='connection-buffer-not-empty',_0x3a0013[_0x2375bb(0xac5)]=_0x2375bb(0x82e),_0x3a0013['ExternalStorageConnectionAlreadyExists']='external-storage-connection-already-exists',_0x3a0013[_0x2375bb(0x5ef)]=_0x2375bb(0x647),_0x3a0013[_0x2375bb(0x14d)]=_0x2375bb(0x82c),_0x3a0013[_0x2375bb(0x8d9)]=_0x2375bb(0x51b),_0x3a0013[_0x2375bb(0x259)]=_0x2375bb(0x643),_0x3a0013[_0x2375bb(0x561)]='external-storage-name-not-string',_0x3a0013['FeatureNotEnabled']=_0x2375bb(0x771),_0x3a0013[_0x2375bb(0x1f4)]=_0x2375bb(0x9c4),_0x3a0013[_0x2375bb(0x91b)]=_0x2375bb(0x7a3),_0x3a0013[_0x2375bb(0x1a9)]=_0x2375bb(0x6c9),_0x3a0013[_0x2375bb(0xa11)]=_0x2375bb(0x408),_0x3a0013['GenerativeAILabelConflict']=_0x2375bb(0xa9d),_0x3a0013[_0x2375bb(0x5ca)]=_0x2375bb(0x377),_0x3a0013[_0x2375bb(0x348)]='generative-ai-worker-missing-connector',_0x3a0013['GenerativeAIWorkerModelSyncError']='generative-ai-worker-model-sync-error',_0x3a0013[_0x2375bb(0xa5f)]='graph-database-already-exists',_0x3a0013['GraphDatabaseDoesNotExist']='graph-database-does-not-exist',_0x3a0013[_0x2375bb(0xa8f)]='graph-database-missing-connector',_0x3a0013[_0x2375bb(0x986)]=_0x2375bb(0x8bd),_0x3a0013[_0x2375bb(0x6ba)]=_0x2375bb(0x8f0),_0x3a0013['JobDispatcherDoesNotExist']=_0x2375bb(0x6db),_0x3a0013[_0x2375bb(0x836)]=_0x2375bb(0x2b2),_0x3a0013['JobDispatcherJobNotFound']='job-dispatcher-job-not-found',_0x3a0013['JobDispatcherInvalidJobType']='job-dispatcher-invalid-job-type',_0x3a0013[_0x2375bb(0x745)]=_0x2375bb(0x465),_0x3a0013[_0x2375bb(0x52b)]=_0x2375bb(0x2f5),_0x3a0013[_0x2375bb(0x726)]=_0x2375bb(0x83a),_0x3a0013[_0x2375bb(0x7e0)]=_0x2375bb(0x9ce),_0x3a0013[_0x2375bb(0x684)]=_0x2375bb(0x15b),_0x3a0013['ObjectStoreNameNotString']=_0x2375bb(0xa2e),_0x3a0013[_0x2375bb(0x219)]=_0x2375bb(0x1e8),_0x3a0013['ObjectStoreInvalidPath']=_0x2375bb(0xb1b),_0x3a0013['ObjectStoreNotInSync']=_0x2375bb(0x815),_0x3a0013[_0x2375bb(0x4fe)]='internal-sdk-error',_0x3a0013[_0x2375bb(0x248)]=_0x2375bb(0x97a),_0x3a0013['KeyValueDatabaseAlreadyExists']=_0x2375bb(0x410),_0x3a0013[_0x2375bb(0x77f)]=_0x2375bb(0x1de),_0x3a0013[_0x2375bb(0x1b8)]=_0x2375bb(0x958),_0x3a0013[_0x2375bb(0x7bf)]=_0x2375bb(0xa8a),_0x3a0013[_0x2375bb(0x696)]='key-value-database-invalid-value',_0x3a0013[_0x2375bb(0x620)]=_0x2375bb(0x66b),_0x3a0013[_0x2375bb(0x4a1)]=_0x2375bb(0xb0c),_0x3a0013[_0x2375bb(0x23d)]=_0x2375bb(0x4ee),_0x3a0013[_0x2375bb(0x896)]=_0x2375bb(0x447),_0x3a0013['KeyValueDatabaseInvalidLayout']=_0x2375bb(0x3f9),_0x3a0013[_0x2375bb(0x6b2)]=_0x2375bb(0x95a),_0x3a0013[_0x2375bb(0x52e)]=_0x2375bb(0x497),_0x3a0013[_0x2375bb(0x23f)]=_0x2375bb(0x665),_0x3a0013[_0x2375bb(0x7e7)]='pub-sub-topic-does-not-exist',_0x3a0013[_0x2375bb(0x5e4)]=_0x2375bb(0x73c),_0x3a0013[_0x2375bb(0x9b9)]=_0x2375bb(0x41a),_0x3a0013[_0x2375bb(0x905)]=_0x2375bb(0xa15),_0x3a0013[_0x2375bb(0x91d)]=_0x2375bb(0x436),_0x3a0013[_0x2375bb(0x391)]='remote-media-stream-invalid-subscription-params',_0x3a0013[_0x2375bb(0x89a)]=_0x2375bb(0x833),_0x3a0013[_0x2375bb(0x557)]=_0x2375bb(0x194),_0x3a0013['NodeInvalidType']=_0x2375bb(0x331),_0x3a0013['NodeTypeNotSupported']=_0x2375bb(0x4ba),_0x3a0013[_0x2375bb(0x26b)]=_0x2375bb(0xb25),_0x3a0013[_0x2375bb(0x9d0)]='vector-database-already-exists',_0x3a0013[_0x2375bb(0x34f)]='vector-database-does-not-exist',_0x3a0013['VectorDatabaseMissingConnector']=_0x2375bb(0x1c1),_0x3a0013[_0x2375bb(0xaa1)]=_0x2375bb(0xabc);}(_0x47ec8c||(_0x47ec8c={}));class _0x4ec9e4 extends Error{[_0x5a8b1c(0x5ac)];constructor(_0x35f52c,_0x46f127){const _0x2985be=_0x5a8b1c;super(_0x46f127),this[_0x2985be(0x5ac)]=_0x35f52c;}}!function(_0x31a8c0){const _0x32bc49=_0x5a8b1c;_0x31a8c0[_0x32bc49(0xad1)]=_0x32bc49(0x4c7),_0x31a8c0[_0x32bc49(0x263)]=_0x32bc49(0x3fc),_0x31a8c0['KeyValueDatabase']=_0x32bc49(0x26c),_0x31a8c0[_0x32bc49(0x653)]=_0x32bc49(0x848),_0x31a8c0[_0x32bc49(0x820)]=_0x32bc49(0x7da),_0x31a8c0[_0x32bc49(0x1e9)]=_0x32bc49(0x7fa),_0x31a8c0[_0x32bc49(0x161)]=_0x32bc49(0x467),_0x31a8c0[_0x32bc49(0x4bd)]=_0x32bc49(0x9c1);}(_0x261e7f||(_0x261e7f={})),function(_0x37266c){const _0x5bcbf3=_0x5a8b1c;_0x37266c[_0x5bcbf3(0x8d7)]='all',_0x37266c[_0x5bcbf3(0x737)]=_0x5bcbf3(0x538),_0x37266c[_0x5bcbf3(0x550)]='connection',_0x37266c[_0x5bcbf3(0x8ce)]=_0x5bcbf3(0x175),_0x37266c['Cluster']=_0x5bcbf3(0x948),_0x37266c['Content']=_0x5bcbf3(0x2fa),_0x37266c[_0x5bcbf3(0x26d)]=_0x5bcbf3(0x883),_0x37266c[_0x5bcbf3(0x61b)]='detection',_0x37266c[_0x5bcbf3(0x484)]=_0x5bcbf3(0x39d),_0x37266c[_0x5bcbf3(0x2ff)]=_0x5bcbf3(0x5fb),_0x37266c[_0x5bcbf3(0x40b)]=_0x5bcbf3(0x5fd),_0x37266c[_0x5bcbf3(0x951)]=_0x5bcbf3(0x26c),_0x37266c[_0x5bcbf3(0x9aa)]=_0x5bcbf3(0x30f),_0x37266c[_0x5bcbf3(0x1bd)]='pool',_0x37266c[_0x5bcbf3(0xad1)]=_0x5bcbf3(0x4c7),_0x37266c[_0x5bcbf3(0x75d)]=_0x5bcbf3(0x8f8),_0x37266c['Remediation']='remediation',_0x37266c[_0x5bcbf3(0xa19)]=_0x5bcbf3(0x426),_0x37266c['Signaling']=_0x5bcbf3(0x17c),_0x37266c[_0x5bcbf3(0x85a)]=_0x5bcbf3(0x5d8),_0x37266c[_0x5bcbf3(0x2cf)]=_0x5bcbf3(0x99a),_0x37266c[_0x5bcbf3(0x86d)]=_0x5bcbf3(0xac2),_0x37266c[_0x5bcbf3(0x485)]='system',_0x37266c[_0x5bcbf3(0x77a)]='system-stats',_0x37266c['TestPage']=_0x5bcbf3(0xb0e),_0x37266c['PeerConnection']='peer-connection';}(_0xf47a5||(_0xf47a5={}));const _0x52baed=require('@crewdle/web-sdk-types');class _0x538ebc{[_0x5a8b1c(0x337)];constructor(_0x375791){const _0x2e0483=_0x5a8b1c;this[_0x2e0483(0x337)]={'orderBy':{'key':_0x375791,'direction':_0x2e0483(0x345)}};}static[_0x5a8b1c(0x960)](_0x477168){const _0x1122fe=_0x5a8b1c;if('string'!=typeof _0x477168||0x0===_0x477168[_0x1122fe(0xa39)])throw new _0x4ec9e4(_0x47ec8c['QueryBuilderInvalidArgument'],_0x1122fe(0x636));return new _0x538ebc(_0x477168);}static[_0x5a8b1c(0x199)](_0x2a284b){const _0x5126d5=_0x5a8b1c;try{return _0x538ebc[_0x5126d5(0x926)](_0x2a284b),!0x0;}catch(_0xe7bafb){return!0x1;}}static[_0x5a8b1c(0x926)](_0x3a63da){const _0x201570=_0x5a8b1c,_0x3af2d0=_0x538ebc[_0x201570(0x960)](_0x3a63da['orderBy']?.[_0x201570(0x8c1)]??_0x3a63da[_0x201570(0x8f6)]?.['key']??'');if(_0x3a63da[_0x201570(0x8f6)]){const _0x1cc245=_0x3a63da[_0x201570(0x8f6)];if((_0x538ebc[_0x201570(0x5f0)](_0x1cc245)||_0x538ebc[_0x201570(0x5fe)](_0x1cc245)||_0x538ebc[_0x201570(0x81c)](_0x1cc245))&&_0x3af2d0[_0x201570(0x8f6)](_0x1cc245[_0x201570(0xa2b)],_0x1cc245['value']),_0x3a63da[_0x201570(0xa21)]?.[_0x201570(0x8c1)]&&_0x3a63da[_0x201570(0xa21)]?.[_0x201570(0x8c1)]!==_0x3a63da[_0x201570(0x8f6)][_0x201570(0x8c1)])throw new _0x4ec9e4(_0x47ec8c[_0x201570(0x905)],_0x201570(0x14e));}return _0x3a63da[_0x201570(0xa21)]&&_0x3af2d0[_0x201570(0xa21)](_0x3a63da['orderBy'][_0x201570(0x5b7)]),_0x3a63da[_0x201570(0x461)]&&_0x3af2d0['limit'](_0x3a63da['limit']),_0x3a63da[_0x201570(0x7e8)]&&_0x3af2d0[_0x201570(0x7e8)](_0x3a63da['offset']),_0x3af2d0;}[_0x5a8b1c(0x862)](){const _0x39cec1=_0x5a8b1c;return{...this[_0x39cec1(0x337)]};}[_0x5a8b1c(0x8f6)](_0x5635bd,_0xc4c77){const _0x1416cc=_0x5a8b1c,_0x2a186e={'key':this[_0x1416cc(0x337)][_0x1416cc(0xa21)][_0x1416cc(0x8c1)],'operator':_0x5635bd,'value':_0xc4c77};if(!_0x538ebc[_0x1416cc(0x5f0)](_0x2a186e)&&!_0x538ebc['isWhereValues'](_0x2a186e)&&!_0x538ebc[_0x1416cc(0x81c)](_0x2a186e))throw new _0x4ec9e4(_0x47ec8c[_0x1416cc(0x905)],_0x1416cc(0x3f6));return this[_0x1416cc(0x337)][_0x1416cc(0x8f6)]=_0x2a186e,this;}[_0x5a8b1c(0xa21)](_0x2dae28){const _0x442a7e=_0x5a8b1c;if(_0x442a7e(0x345)!==_0x2dae28&&'desc'!==_0x2dae28)throw new _0x4ec9e4(_0x47ec8c['QueryBuilderInvalidArgument'],_0x442a7e(0x525));return this[_0x442a7e(0x337)][_0x442a7e(0xa21)][_0x442a7e(0x5b7)]=_0x2dae28,this;}[_0x5a8b1c(0x461)](_0x2b5017){const _0x3b5e7d=_0x5a8b1c;if('number'!=typeof _0x2b5017||_0x2b5017<0x0)throw new _0x4ec9e4(_0x47ec8c['QueryBuilderInvalidArgument'],_0x3b5e7d(0x3c6));return this[_0x3b5e7d(0x337)][_0x3b5e7d(0x461)]=_0x2b5017,this;}[_0x5a8b1c(0x7e8)](_0x98c03c){const _0x46cb98=_0x5a8b1c;if('number'!=typeof _0x98c03c||_0x98c03c<0x0)throw new _0x4ec9e4(_0x47ec8c[_0x46cb98(0x905)],_0x46cb98(0x985));return this[_0x46cb98(0x337)]['offset']=_0x98c03c,this;}static[_0x5a8b1c(0x5f0)](_0x5042c4){const _0x21620f=_0x5a8b1c;if(!(_0x5042c4&&_0x21620f(0x55e)==typeof _0x5042c4&&_0x21620f(0xa2b)in _0x5042c4&&_0x21620f(0x270)in _0x5042c4))return!0x1;const {operator:_0x440eb1,value:_0x150def}=_0x5042c4;return!(!['==','!=','>','<','<=','>=']['includes'](_0x440eb1)||Array[_0x21620f(0x83f)](_0x150def));}static[_0x5a8b1c(0x5fe)](_0x378d8b){const _0x486d81=_0x5a8b1c;if(!(_0x378d8b&&_0x486d81(0x55e)==typeof _0x378d8b&&_0x486d81(0xa2b)in _0x378d8b&&'value'in _0x378d8b))return!0x1;const {operator:_0x117d00,value:_0x1c3f76}=_0x378d8b;return!(!['in',_0x486d81(0x30b)][_0x486d81(0x595)](_0x117d00)||!Array[_0x486d81(0x83f)](_0x1c3f76));}static[_0x5a8b1c(0x81c)](_0x41a125){const _0x1df232=_0x5a8b1c;if(!(_0x41a125&&'object'==typeof _0x41a125&&_0x1df232(0xa2b)in _0x41a125&&_0x1df232(0x270)in _0x41a125))return!0x1;const {operator:_0x538dd0,value:_0x57b7ff}=_0x41a125;return!(_0x1df232(0x62d)!==_0x538dd0||!Array[_0x1df232(0x83f)](_0x57b7ff)||0x2!==_0x57b7ff[_0x1df232(0xa39)]);}}class _0x97d116{[_0x5a8b1c(0x9bd)];constructor(_0x4bdd0c){const _0x5803d2=_0x5a8b1c;this[_0x5803d2(0x9bd)]={'tables':{},'version':_0x4bdd0c};}static[_0x5a8b1c(0x69b)](_0xa0972d){const _0x27e0c5=_0x5a8b1c;for(const _0x34915d in _0xa0972d){if(_0x27e0c5(0x736)!==_0x34915d&&_0x27e0c5(0x59e)!==_0x34915d)return[!0x1,'Invalid\x20key\x20\x27'+_0x34915d+'\x27\x20in\x20layout'];if(_0x27e0c5(0x59e)===_0x34915d)for(const _0x231960 in _0xa0972d[_0x27e0c5(0x59e)]){if(_0x27e0c5(0x6e2)!=typeof _0x231960)return[!0x1,_0x27e0c5(0x566)+_0x231960+'\x27'];for(const _0x2cf019 in _0xa0972d[_0x27e0c5(0x59e)][_0x231960]){if(_0x27e0c5(0x79d)!==_0x2cf019)return[!0x1,_0x27e0c5(0x84a)+_0x2cf019+_0x27e0c5(0x547)+_0x231960+'\x27'];const _0x367cdb=_0xa0972d[_0x27e0c5(0x59e)][_0x231960][_0x2cf019]??[];for(const _0x520372 of _0x367cdb)if(void 0x0===_0x520372[_0x27e0c5(0x32b)]||'string'!=typeof _0x520372[_0x27e0c5(0x32b)])return[!0x1,_0x27e0c5(0xb08)+_0x231960+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x27e0c5(0x736)===_0x34915d&&_0x27e0c5(0x23e)!=typeof _0xa0972d[_0x34915d])return[!0x1,_0x27e0c5(0x747)+_0xa0972d[_0x34915d]+_0x27e0c5(0x3ce)];}}return[!0x0,_0x27e0c5(0xb48)];}static[_0x5a8b1c(0x9bd)](_0x3ba383){const _0x5f3127=_0x5a8b1c,_0x415091=new _0x97d116(_0x3ba383);return _0x415091[_0x5f3127(0x9bd)]['version']=_0x3ba383,_0x415091;}[_0x5a8b1c(0x666)](_0x8e2827){const _0x40ac1=_0x5a8b1c;return this['layout'][_0x40ac1(0x59e)][_0x8e2827]={},new _0x4330a3(this[_0x40ac1(0x9bd)][_0x40ac1(0x59e)][_0x8e2827]);}[_0x5a8b1c(0x8ad)](){const _0x352fc6=_0x5a8b1c;return this[_0x352fc6(0x9bd)];}}class _0x4330a3{['tableLayout'];constructor(_0x4d48dc){const _0x2b96b3=_0x5a8b1c;this[_0x2b96b3(0x3a6)]=_0x4d48dc;}[_0x5a8b1c(0x960)](_0x1396bf){const _0x5b6cbd=_0x5a8b1c;return this[_0x5b6cbd(0x3a6)][_0x5b6cbd(0x79d)]=this[_0x5b6cbd(0x3a6)][_0x5b6cbd(0x79d)]??[],this[_0x5b6cbd(0x3a6)]['indexes'][_0x5b6cbd(0x3a9)]({'keyPath':_0x1396bf}),this;}}const _0x1831a8=0x40000,_0x1e1d55=0x20000,_0x291af8=0x1388,_0x24b450=_0x5a8b1c(0x99f),_0x46294c='.crewdle-pending',_0x52c269=_0x5a8b1c(0x687),_0x55324=_0x5a8b1c(0x90d),_0x2481ae=0xdbba0,_0x5bffa0=0x61a8,_0x4c58af=_0x5a8b1c(0x8e2);var _0x86bc3b;!function(_0x2fba49){const _0x5777c5=_0x5a8b1c;_0x2fba49[_0x5777c5(0xb47)]='connection-not-initialized',_0x2fba49[_0x5777c5(0x555)]=_0x5777c5(0x8dc),_0x2fba49['ConnectionNoRetryQueue']=_0x5777c5(0x70c),_0x2fba49[_0x5777c5(0xa6a)]=_0x5777c5(0x6ab),_0x2fba49[_0x5777c5(0x317)]=_0x5777c5(0x1dc),_0x2fba49['GenerativeAIContextCreationFailed']=_0x5777c5(0x47d),_0x2fba49[_0x5777c5(0x897)]=_0x5777c5(0x60e),_0x2fba49[_0x5777c5(0x8d8)]=_0x5777c5(0x4c9),_0x2fba49[_0x5777c5(0x8c7)]=_0x5777c5(0x4e4),_0x2fba49[_0x5777c5(0x53b)]=_0x5777c5(0x65f),_0x2fba49['GenerativeAIWorkerCreationFailed']=_0x5777c5(0x376),_0x2fba49[_0x5777c5(0x680)]='graph-database-creation-failed',_0x2fba49[_0x5777c5(0x801)]=_0x5777c5(0x1a7),_0x2fba49[_0x5777c5(0x400)]=_0x5777c5(0x5a7),_0x2fba49[_0x5777c5(0x7b0)]=_0x5777c5(0x2e9),_0x2fba49[_0x5777c5(0xa4a)]='invalid-subscription',_0x2fba49[_0x5777c5(0x879)]='job-dispatcher-creation-failed',_0x2fba49[_0x5777c5(0x246)]=_0x5777c5(0x64c),_0x2fba49[_0x5777c5(0x6df)]=_0x5777c5(0x571),_0x2fba49['JobDispatcherObserverNotFound']=_0x5777c5(0x3ae),_0x2fba49[_0x5777c5(0x2be)]=_0x5777c5(0x3de),_0x2fba49[_0x5777c5(0x2a4)]=_0x5777c5(0x86f),_0x2fba49[_0x5777c5(0x7f6)]=_0x5777c5(0x9ca),_0x2fba49[_0x5777c5(0x1f2)]=_0x5777c5(0x4a2),_0x2fba49['KeyValueDatabaseTableDoesNotExist']=_0x5777c5(0x728),_0x2fba49['KeyValueDatabaseTransactionTableNotInitialized']=_0x5777c5(0x7fd),_0x2fba49[_0x5777c5(0x88b)]=_0x5777c5(0x1fd),_0x2fba49[_0x5777c5(0x3cb)]='local-stream-does-not-exist',_0x2fba49[_0x5777c5(0x20e)]=_0x5777c5(0x570),_0x2fba49[_0x5777c5(0x733)]='missing-system-topic',_0x2fba49[_0x5777c5(0x22b)]=_0x5777c5(0x5e0),_0x2fba49['ObjectStoreCannotWriteTransaction']=_0x5777c5(0x252),_0x2fba49['ObjectStoreInvalidState']=_0x5777c5(0x469),_0x2fba49['ObjectStoreInvalidSyncMessage']=_0x5777c5(0x40c),_0x2fba49['ObjectStoreNotSynced']=_0x5777c5(0x2c4),_0x2fba49['OutgoingMediaStreamNoTopic']='outgoing-stream-no-topic',_0x2fba49['RemoteMediaStreamDoesNotExist']=_0x5777c5(0xb13),_0x2fba49['RemoteMediaStreamMissingProviderId']=_0x5777c5(0x6f5),_0x2fba49[_0x5777c5(0x644)]='remote-connection-exists',_0x2fba49[_0x5777c5(0x240)]=_0x5777c5(0x34a),_0x2fba49[_0x5777c5(0xb04)]='subscription-request-failed',_0x2fba49['SubscriptionRequestNoAnswer']=_0x5777c5(0x73e),_0x2fba49[_0x5777c5(0x7b1)]=_0x5777c5(0x7a6),_0x2fba49[_0x5777c5(0x840)]=_0x5777c5(0x705),_0x2fba49[_0x5777c5(0x14c)]=_0x5777c5(0x7af),_0x2fba49[_0x5777c5(0x828)]='vector-database-creation-failed',_0x2fba49[_0x5777c5(0x8b5)]='workflow-does-not-exist',_0x2fba49[_0x5777c5(0x84f)]=_0x5777c5(0x374);}(_0x86bc3b||(_0x86bc3b={}));const _0x4da732=new Map([[_0x86bc3b['ConnectionNotinitialized'],_0x5a8b1c(0xb4a)],[_0x86bc3b[_0x5a8b1c(0x555)],'Connection\x20not\x20connected.'],[_0x86bc3b[_0x5a8b1c(0x4cb)],_0x5a8b1c(0x3f0)],[_0x86bc3b[_0x5a8b1c(0xa6a)],_0x5a8b1c(0x5c2)],[_0x86bc3b[_0x5a8b1c(0x317)],_0x5a8b1c(0x6eb)],[_0x86bc3b[_0x5a8b1c(0x80c)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x86bc3b[_0x5a8b1c(0x897)],_0x5a8b1c(0xb3d)],[_0x86bc3b[_0x5a8b1c(0x8d8)],_0x5a8b1c(0x278)],[_0x86bc3b['GenerativeAIContextJobFailed'],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x86bc3b[_0x5a8b1c(0x53b)],_0x5a8b1c(0x505)],[_0x86bc3b[_0x5a8b1c(0x586)],_0x5a8b1c(0x19c)],[_0x86bc3b[_0x5a8b1c(0x680)],_0x5a8b1c(0x79a)],[_0x86bc3b[_0x5a8b1c(0x801)],_0x5a8b1c(0x506)],[_0x86bc3b['InvalidPublisher'],'Invalid\x20publisher.'],[_0x86bc3b['InvalidSubscriber'],_0x5a8b1c(0x607)],[_0x86bc3b['InvalidSubscription'],_0x5a8b1c(0x1af)],[_0x86bc3b[_0x5a8b1c(0x879)],_0x5a8b1c(0x592)],[_0x86bc3b['JobDispatcherInvalidPayload'],_0x5a8b1c(0x4ea)],[_0x86bc3b['JobDispatcherJobNotFound'],'Job\x20service\x20job\x20not\x20found.'],[_0x86bc3b[_0x5a8b1c(0x7cc)],_0x5a8b1c(0x27c)],[_0x86bc3b[_0x5a8b1c(0x2be)],_0x5a8b1c(0x803)],[_0x86bc3b[_0x5a8b1c(0x2a4)],_0x5a8b1c(0x59b)],[_0x86bc3b[_0x5a8b1c(0x7f6)],_0x5a8b1c(0x800)],[_0x86bc3b[_0x5a8b1c(0x1f2)],_0x5a8b1c(0x25f)],[_0x86bc3b[_0x5a8b1c(0x99d)],_0x5a8b1c(0x370)],[_0x86bc3b[_0x5a8b1c(0x3e1)],_0x5a8b1c(0x56b)],[_0x86bc3b['KeyValueDatabaseTransactionValueNotSet'],_0x5a8b1c(0x8fb)],[_0x86bc3b[_0x5a8b1c(0x3cb)],_0x5a8b1c(0x7ef)],[_0x86bc3b[_0x5a8b1c(0x20e)],'Connection\x20does\x20not\x20exist.'],[_0x86bc3b[_0x5a8b1c(0x733)],_0x5a8b1c(0x631)],[_0x86bc3b[_0x5a8b1c(0x22b)],_0x5a8b1c(0x4fa)],[_0x86bc3b[_0x5a8b1c(0x667)],_0x5a8b1c(0x212)],[_0x86bc3b[_0x5a8b1c(0x6a1)],_0x5a8b1c(0x1f1)],[_0x86bc3b[_0x5a8b1c(0x293)],_0x5a8b1c(0xafd)],[_0x86bc3b[_0x5a8b1c(0x3ca)],_0x5a8b1c(0x7b5)],[_0x86bc3b[_0x5a8b1c(0x75a)],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x86bc3b[_0x5a8b1c(0x36b)],_0x5a8b1c(0x37e)],[_0x86bc3b[_0x5a8b1c(0x5a4)],_0x5a8b1c(0x5fc)],[_0x86bc3b[_0x5a8b1c(0x644)],_0x5a8b1c(0x301)],[_0x86bc3b[_0x5a8b1c(0x240)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x86bc3b['SubscriptionRequestFailed'],'Subscription\x20request\x20failed.'],[_0x86bc3b['SubscriptionRequestNoAnswer'],_0x5a8b1c(0xa25)],[_0x86bc3b['NodeDoesNotExist'],_0x5a8b1c(0xa18)],[_0x86bc3b[_0x5a8b1c(0x840)],_0x5a8b1c(0x160)],[_0x86bc3b['PeerConnectionInvalidDestination'],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x86bc3b[_0x5a8b1c(0x828)],_0x5a8b1c(0x460)],[_0x86bc3b['WorkflowDoesNotExist'],'Workflow\x20does\x20not\x20exist.'],[_0x86bc3b[_0x5a8b1c(0x84f)],'Invalid\x20workflow\x20block\x20type.']]);class _0xdb384 extends Error{[_0x5a8b1c(0x5ac)];static [_0x5a8b1c(0x549)]=_0x86bc3b;[_0x5a8b1c(0x349)];constructor(_0x2b0ab2,_0x4a1a04){const _0x29a870=_0x5a8b1c;super(_0x29a870(0x305)+_0x2b0ab2+':\x20'+_0x4da732[_0x29a870(0x8a4)](_0x2b0ab2)+_0x29a870(0x3ac)+JSON['stringify'](_0x4a1a04)),this['code']=_0x2b0ab2,this[_0x29a870(0x349)]=_0x4a1a04||{};}}var _0xae157c,_0xc6a83a,_0x1aa919,_0x5d7974,_0x2e66ff,_0x168b24,_0x9cb7d1;!function(_0x27e899){const _0x403e41=_0x5a8b1c;_0x27e899[_0x27e899['CloseGraphDatabase']=0x0]=_0x403e41(0x7a8),_0x27e899[_0x27e899[_0x403e41(0x6b9)]=0x1]=_0x403e41(0x6b9),_0x27e899[_0x27e899[_0x403e41(0xa79)]=0x2]=_0x403e41(0xa79),_0x27e899[_0x27e899[_0x403e41(0x692)]=0x3]='CloseExternalStorageConnection',_0x27e899[_0x27e899[_0x403e41(0x3ff)]=0x4]=_0x403e41(0x3ff),_0x27e899[_0x27e899[_0x403e41(0x448)]=0x5]=_0x403e41(0x448),_0x27e899[_0x27e899[_0x403e41(0x892)]=0x6]=_0x403e41(0x892),_0x27e899[_0x27e899['ClosePubSubTopic']=0x7]=_0x403e41(0x321),_0x27e899[_0x27e899['CloseVectorDatabase']=0x8]=_0x403e41(0x27b),_0x27e899[_0x27e899[_0x403e41(0x99b)]=0x9]=_0x403e41(0x99b),_0x27e899[_0x27e899[_0x403e41(0x3af)]=0xa]=_0x403e41(0x3af),_0x27e899[_0x27e899[_0x403e41(0x539)]=0xb]=_0x403e41(0x539),_0x27e899[_0x27e899[_0x403e41(0x4a6)]=0xc]='GenerativeAIWorkerStats',_0x27e899[_0x27e899[_0x403e41(0x310)]=0xd]=_0x403e41(0x310),_0x27e899[_0x27e899[_0x403e41(0x68d)]=0xe]=_0x403e41(0x68d),_0x27e899[_0x27e899['KeyValueDatabaseContentSynchronized']=0xf]='KeyValueDatabaseContentSynchronized',_0x27e899[_0x27e899['KeyValueDatabaseRequestPeakTransactions']=0x10]='KeyValueDatabaseRequestPeakTransactions',_0x27e899[_0x27e899['KeyValueDatabaseRequestTransactionsValue']=0x11]=_0x403e41(0x6cb),_0x27e899[_0x27e899['KeyValueDatabaseSendTransactions']=0x12]='KeyValueDatabaseSendTransactions',_0x27e899[_0x27e899[_0x403e41(0x285)]=0x13]=_0x403e41(0x285),_0x27e899[_0x27e899[_0x403e41(0x264)]=0x14]=_0x403e41(0x264),_0x27e899[_0x27e899[_0x403e41(0x56e)]=0x15]=_0x403e41(0x56e),_0x27e899[_0x27e899[_0x403e41(0x3cc)]=0x16]=_0x403e41(0x3cc),_0x27e899[_0x27e899[_0x403e41(0x338)]=0x17]=_0x403e41(0x338),_0x27e899[_0x27e899[_0x403e41(0x668)]=0x18]=_0x403e41(0x668),_0x27e899[_0x27e899[_0x403e41(0x4f4)]=0x19]=_0x403e41(0x4f4),_0x27e899[_0x27e899[_0x403e41(0x8d5)]=0x1a]=_0x403e41(0x8d5),_0x27e899[_0x27e899[_0x403e41(0x394)]=0x1b]=_0x403e41(0x394),_0x27e899[_0x27e899[_0x403e41(0x9ed)]=0x1c]='UnsubscribeMediaStream',_0x27e899[_0x27e899[_0x403e41(0x790)]=0x1d]=_0x403e41(0x790),_0x27e899[_0x27e899['VectorDatabaseStats']=0x1e]=_0x403e41(0x9fe);}(_0xae157c||(_0xae157c={})),function(_0x3fbdc1){const _0x2e1cf7=_0x5a8b1c;_0x3fbdc1[_0x2e1cf7(0x831)]=_0x2e1cf7(0x4f9),_0x3fbdc1['FolderCreate']=_0x2e1cf7(0x37b),_0x3fbdc1[_0x2e1cf7(0xb3e)]=_0x2e1cf7(0x1cd),_0x3fbdc1[_0x2e1cf7(0x67c)]='move',_0x3fbdc1[_0x2e1cf7(0x5c9)]=_0x2e1cf7(0x362),_0x3fbdc1['RequestAccepted']=_0x2e1cf7(0x154),_0x3fbdc1[_0x2e1cf7(0x41d)]='request-file-sync',_0x3fbdc1[_0x2e1cf7(0x9e1)]=_0x2e1cf7(0x731);}(_0xc6a83a||(_0xc6a83a={})),function(_0x2b9db0){const _0x4ed810=_0x5a8b1c;_0x2b9db0[_0x4ed810(0xab7)]=_0x4ed810(0x33f),_0x2b9db0[_0x4ed810(0x536)]=_0x4ed810(0x914);}(_0x1aa919||(_0x1aa919={})),function(_0x8bc59d){const _0x5611f2=_0x5a8b1c;_0x8bc59d[_0x5611f2(0x283)]=_0x5611f2(0x20c),_0x8bc59d[_0x5611f2(0xafa)]=_0x5611f2(0xafb),_0x8bc59d['Delete']='delete';}(_0x5d7974||(_0x5d7974={})),function(_0x5694fc){const _0x36c2a9=_0x5a8b1c;_0x5694fc[_0x36c2a9(0x9da)]=_0x36c2a9(0x8a4),_0x5694fc[_0x36c2a9(0x983)]=_0x36c2a9(0x24a),_0x5694fc[_0x36c2a9(0x1b6)]=_0x36c2a9(0x8f1);}(_0x2e66ff||(_0x2e66ff={})),function(_0x433a9f){const _0x382cec=_0x5a8b1c;_0x433a9f[_0x433a9f[_0x382cec(0xab7)]=0x0]=_0x382cec(0xab7),_0x433a9f[_0x433a9f[_0x382cec(0x433)]=0x1]='Bid',_0x433a9f[_0x433a9f[_0x382cec(0xb17)]=0x2]=_0x382cec(0xb17),_0x433a9f[_0x433a9f[_0x382cec(0x16c)]=0x3]=_0x382cec(0x16c),_0x433a9f[_0x433a9f[_0x382cec(0x363)]=0x4]='Result',_0x433a9f[_0x433a9f[_0x382cec(0x9f7)]=0x5]=_0x382cec(0x9f7);}(_0x168b24||(_0x168b24={})),function(_0x2ded23){const _0x3552ea=_0x5a8b1c;_0x2ded23[_0x2ded23['PeerConnection']=0x0]='PeerConnection',_0x2ded23[_0x2ded23[_0x3552ea(0x9aa)]=0x1]='Node',_0x2ded23[_0x2ded23[_0x3552ea(0x420)]=0x2]=_0x3552ea(0x420),_0x2ded23[_0x2ded23['Subscription']=0x3]=_0x3552ea(0x2cf),_0x2ded23[_0x2ded23['Stats']=0x4]=_0x3552ea(0x85a),_0x2ded23[_0x2ded23[_0x3552ea(0x61b)]=0x5]='Detection',_0x2ded23[_0x2ded23['Remediation']=0x6]=_0x3552ea(0x3e9);}(_0x9cb7d1||(_0x9cb7d1={}));class _0x267db0{[_0x5a8b1c(0x83c)];[_0x5a8b1c(0x19f)];['systemTopic'];constructor(_0xf36a49,_0x3efc2a){const _0x1e59d5=_0x5a8b1c;this[_0x1e59d5(0x83c)]=_0xf36a49,this['label']=_0x3efc2a;}[_0x5a8b1c(0x211)](){const _0x526a9c=_0x5a8b1c;return this[_0x526a9c(0x19f)];}[_0x5a8b1c(0x770)](){const _0x13d6ee=_0x5a8b1c;return this[_0x13d6ee(0x83c)][_0x13d6ee(0x3dd)]();}['destroy'](){}[_0x5a8b1c(0x3ee)](_0x1236d5){const _0xe10a59=_0x5a8b1c;this[_0xe10a59(0x625)]=_0x1236d5;}[_0x5a8b1c(0x8f7)](){const _0x4c49bf=_0x5a8b1c;delete this[_0x4c49bf(0x625)];}}const _0x594922=require('firebase/firestore');let _0x1efcce=_0xe269a(0x14d)['O'];function _0x46652d(_0x1638ed){const _0x20badd=_0x5a8b1c;return!(!_0x1638ed||_0x20badd(0x55e)!=typeof _0x1638ed||Array[_0x20badd(0x83f)](_0x1638ed));}_0x1efcce=function _0x3ea6eb(_0x550b03,..._0x5b2ffe){const _0x24cf55=_0x5a8b1c;if(!Array['isArray'](_0x5b2ffe)||0x0===_0x5b2ffe[_0x24cf55(0xa39)])return _0x550b03;const _0x433a49=_0x5b2ffe[_0x24cf55(0x4ed)]();if(_0x46652d(_0x550b03)&&_0x46652d(_0x433a49)){for(const _0x592e64 in _0x433a49)_0x46652d(_0x433a49[_0x592e64])?(_0x550b03[_0x592e64]||Object[_0x24cf55(0x63f)](_0x550b03,{[_0x592e64]:{}}),_0x3ea6eb(_0x550b03[_0x592e64],_0x433a49[_0x592e64])):Object[_0x24cf55(0x63f)](_0x550b03,{[_0x592e64]:_0x433a49[_0x592e64]});}return _0x3ea6eb(_0x550b03,..._0x5b2ffe);}(_0x1efcce,_0xe269a(0x3e6)['O']);const _0x12ca2b=_0x1efcce,_0x12c8c2=require('firebase/app'),_0x2d8b77=require('firebase/auth'),_0x1ac700=require('firebase/database'),_0x3d092e=require('firebase/functions'),_0x4804e8=require('uuid'),_0x4107aa=_0x5a8b1c(0x1e7);class _0x71f360{static [_0x5a8b1c(0x757)];[_0x5a8b1c(0x8b4)];[_0x5a8b1c(0x68c)];[_0x5a8b1c(0x979)];[_0x5a8b1c(0x177)];[_0x5a8b1c(0x778)];[_0x5a8b1c(0x16e)];[_0x5a8b1c(0x627)];constructor(){const _0x4981f0=_0x5a8b1c;this[_0x4981f0(0x427)]();}static['getInstance'](){const _0x585b15=_0x5a8b1c;return _0x71f360[_0x585b15(0x757)]||(_0x71f360[_0x585b15(0x757)]=new _0x71f360()),_0x71f360[_0x585b15(0x757)];}[_0x5a8b1c(0x427)](){const _0x2339eb=_0x5a8b1c;if(!this[_0x2339eb(0x8b4)]){let _0xfc2060=_0x4107aa;'undefined'!=typeof window&&(_0xfc2060=_0x4107aa+'-'+(0x0,_0x4804e8['v4'])()),this[_0x2339eb(0x8b4)]=(0x0,_0x12c8c2[_0x2339eb(0x89d)])(_0x12ca2b[_0x2339eb(0x253)],''+_0xfc2060);}return this['app'];}[_0x5a8b1c(0x9d8)](){const _0x19df4f=_0x5a8b1c;return this[_0x19df4f(0x68c)]||(this[_0x19df4f(0x68c)]=(0x0,_0x2d8b77[_0x19df4f(0x9d8)])(this[_0x19df4f(0x427)]())),this[_0x19df4f(0x68c)];}['getFunctions'](){const _0x6c28c=_0x5a8b1c;return this[_0x6c28c(0x979)]||(this[_0x6c28c(0x979)]=(0x0,_0x3d092e[_0x6c28c(0x543)])(this[_0x6c28c(0x427)](),_0x12ca2b[_0x6c28c(0x253)][_0x6c28c(0x8b9)])),this[_0x6c28c(0x979)];}[_0x5a8b1c(0x920)](){const _0x48e9bb=_0x5a8b1c;return this['database']||(this[_0x48e9bb(0x177)]=(0x0,_0x1ac700[_0x48e9bb(0x920)])(this[_0x48e9bb(0x427)]())),this[_0x48e9bb(0x177)];}['getFirestore'](){const _0x40d056=_0x5a8b1c;return this[_0x40d056(0x778)]||(this[_0x40d056(0x778)]=(0x0,_0x594922[_0x40d056(0x184)])(this[_0x40d056(0x427)]())),this[_0x40d056(0x778)];}async['getEstimatedTimestamp'](){const _0x7652a1=_0x5a8b1c;if(this[_0x7652a1(0x16e)]&&this[_0x7652a1(0x627)]&&Date['now']()-this[_0x7652a1(0x627)]<0x493e0)return Date[_0x7652a1(0x744)]()+this[_0x7652a1(0x16e)];const _0x357b72=this['getDatabase'](),_0x1179c9=(0x0,_0x1ac700['ref'])(_0x357b72,_0x7652a1(0xb1e));return new Promise(_0x12fbf5=>{(0x0,_0x1ac700['onValue'])(_0x1179c9,_0x3476c6=>{const _0x4e32ca=a0_0x2316;(0x0,_0x1ac700[_0x4e32ca(0xb14)])(_0x1179c9),this[_0x4e32ca(0x16e)]=_0x3476c6['val'](),this['lastClockUpdate']=Date[_0x4e32ca(0x744)](),_0x12fbf5(Date[_0x4e32ca(0x744)]()+(this[_0x4e32ca(0x16e)]??0x0));});});}}const _0x1b7d72=_0x71f360[_0x5a8b1c(0x2eb)]();class _0x1b3414{static [_0x5a8b1c(0x757)];[_0x5a8b1c(0x4ec)]=[_0xf47a5['Default']];['debugEnabled']=!0x1;[_0x5a8b1c(0x7a7)];[_0x5a8b1c(0x26a)]='';[_0x5a8b1c(0xac3)];['batchQueue']=[];[_0x5a8b1c(0x67d)];[_0x5a8b1c(0x4d9)];[_0x5a8b1c(0x9d7)]=0xa;[_0x5a8b1c(0xa23)]=0x1f4;[_0x5a8b1c(0x299)]=0x1c2;[_0x5a8b1c(0x73a)]=0x3e8;constructor(){const _0x7e63e8=_0x5a8b1c;if('undefined'!=typeof window)this['globalObject']=window;else{if(void 0x0===_0xe269a['g'])throw new Error(_0x7e63e8(0x94d));this[_0x7e63e8(0xac3)]=_0xe269a['g'];}this[_0x7e63e8(0x49b)](),this[_0x7e63e8(0xac3)]['crewdleSDKEnableLogging']=_0x5511f4=>{const _0x3278d5=_0x7e63e8;if(_0x5511f4===_0xf47a5[_0x3278d5(0x8d7)])return this[_0x3278d5(0x4ec)]=Object[_0x3278d5(0x7f4)](_0xf47a5)['map'](_0x3cf23f=>_0xf47a5[_0x3cf23f]),void Object['keys'](_0xf47a5)['forEach'](_0x2019aa=>{const _0x2fde7d=_0x3278d5,_0x1fe084=_0x2019aa;localStorage[_0x2fde7d(0x385)](_0x2fde7d(0x6c6)+_0xf47a5[_0x1fe084],'true');});this['enabledChannels'][_0x3278d5(0x595)](_0x5511f4)||(this[_0x3278d5(0x4ec)][_0x3278d5(0x3a9)](_0x5511f4),localStorage['setItem']('crewdle-sdk-logging-'+_0x5511f4,_0x3278d5(0x9e0)));},this[_0x7e63e8(0xac3)][_0x7e63e8(0x168)]=_0x1a86c9=>{const _0x250613=_0x7e63e8;if(!_0x1a86c9||_0x1a86c9===_0xf47a5[_0x250613(0x8d7)])return this[_0x250613(0x4ec)]=[],void Object[_0x250613(0x7f4)](_0xf47a5)['forEach'](_0x1bc1f2=>{const _0xcaa980=_0x250613,_0x2e53c6=_0x1bc1f2;localStorage[_0xcaa980(0x8f5)](_0xcaa980(0x6c6)+_0xf47a5[_0x2e53c6]);});this[_0x250613(0x4ec)][_0x250613(0x595)](_0x1a86c9)&&(this[_0x250613(0x4ec)]=this['enabledChannels'][_0x250613(0x930)](_0x18ea2b=>_0x18ea2b!==_0x1a86c9),localStorage[_0x250613(0x8f5)](_0x250613(0x6c6)+_0x1a86c9));},this['globalObject'][_0x7e63e8(0x441)]=_0xf47a5;}static['getInstance'](){const _0x4029b5=_0x5a8b1c;try{return _0x1b3414[_0x4029b5(0x757)]||(_0x1b3414[_0x4029b5(0x757)]=new _0x1b3414()),_0x1b3414['instance'];}catch(_0x382565){return console[_0x4029b5(0x5fb)](_0x4029b5(0x602),_0x382565),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x5a8b1c(0xb07)](_0xc241ad){const _0x357954=_0x5a8b1c;this[_0x357954(0x26a)]=_0xc241ad,this['batchQueue']=[],this[_0x357954(0x67d)]=this[_0x357954(0x734)](),this[_0x357954(0x4d9)]&&(clearTimeout(this[_0x357954(0x4d9)]),this['batchTimeout']=void 0x0);}[_0x5a8b1c(0x3ea)](_0x13c67a){const _0x573675=_0x5a8b1c;this[_0x573675(0x7a7)]=_0x13c67a;}['debug'](_0x57eea9,..._0x54c507){const _0x485f54=_0x5a8b1c;this[_0x485f54(0x8f9)]&&this['log'](_0xf47a5[_0x485f54(0x737)],'DEBUG\x20-\x20'+_0x57eea9,..._0x54c507);}[_0x5a8b1c(0x3f4)](_0x4950b0,..._0x241895){const _0x2e5f48=_0x5a8b1c;console[_0x2e5f48(0x2d3)](_0x4950b0,..._0x241895),this[_0x2e5f48(0x7a7)]&&this[_0x2e5f48(0x7a7)][_0x2e5f48(0x775)](_0x52016a=>{const _0x4ff77e=_0x2e5f48;_0x52016a[_0x4ff77e(0x2d3)](_0x4950b0,{'vendorId':this[_0x4ff77e(0x26a)],'nodeId':'','nodeType':'','data':{..._0x241895}});});}['log'](_0x26c8bc,_0x5e113b,..._0xc0e443){const _0x11adad=_0x5a8b1c;_0x12ca2b[_0x11adad(0x50a)]||(this[_0x11adad(0x4ec)]['includes'](_0x26c8bc)&&console['log'](_0x11adad(0x412)+_0x26c8bc+'\x27\x0a',new Date()+'\x0a',_0x5e113b,..._0xc0e443),this[_0x11adad(0x7a7)]&&this[_0x11adad(0x7a7)][_0x11adad(0x775)](_0x441ce3=>{const _0x2ded14=_0x11adad;this[_0x2ded14(0xaa6)](_0x441ce3)&&_0x441ce3[_0x2ded14(0x87e)]()['includes'](_0x26c8bc)&&_0x441ce3[_0x2ded14(0x2d3)](_0x5e113b,{'vendorId':this[_0x2ded14(0x26a)],'nodeId':'','nodeType':'','data':{'channel':_0x26c8bc,..._0xc0e443}});}));}['logRaw'](_0x13e94c,_0x2a67ad,..._0x50e01e){const _0x5f556d=_0x5a8b1c;_0x12ca2b[_0x5f556d(0x50a)]||(this['enabledChannels'][_0x5f556d(0x595)](_0x13e94c)&&console['log'](_0x2a67ad,..._0x50e01e),this[_0x5f556d(0x7a7)]&&this[_0x5f556d(0x7a7)]['forEach'](_0x352aa9=>{const _0xafbe53=_0x5f556d;this[_0xafbe53(0xaa6)](_0x352aa9)&&_0x352aa9[_0xafbe53(0x87e)]()[_0xafbe53(0x595)](_0x13e94c)&&_0x352aa9['log'](_0x2a67ad,{'vendorId':this[_0xafbe53(0x26a)],'nodeId':'','nodeType':'','data':{'channel':_0x13e94c,..._0x50e01e}});}));}['logEvent'](_0x298698,_0x36ba75){const _0x493792=_0x5a8b1c;if(!this['loggingConnectors'])return;const _0xe7027e={'vendorId':this['vendorId'],..._0x36ba75};this[_0x493792(0x7a7)][_0x493792(0x775)](_0x3e4cf4=>{const _0x25d5a0=_0x493792;_0x3e4cf4[_0x25d5a0(0x2d3)](_0x298698,_0xe7027e);});}[_0x5a8b1c(0xa29)](_0x1e41f0,_0x2b3471){const _0x3bdfb8=_0x5a8b1c;this['createBatchOperation'](_0x1e41f0,_0x2b3471),this[_0x3bdfb8(0xb10)]();}['logStorage'](_0x73c556,_0x3a5212,_0x4cd1fc){const _0x4cd6dc=_0x5a8b1c;(0x0,_0x594922[_0x4cd6dc(0x956)])((0x0,_0x594922[_0x4cd6dc(0x941)])(_0x1b7d72[_0x4cd6dc(0x184)](),_0x4cd6dc(0x56d)+this[_0x4cd6dc(0x26a)]+'/'+_0x73c556+'/'+_0x3a5212),{'storage':_0x4cd1fc,'timestamp':(0x0,_0x594922[_0x4cd6dc(0x9c9)])()});}['logBatch'](){const _0x5a896b=_0x5a8b1c;this[_0x5a896b(0x67d)]&&(this[_0x5a896b(0x67d)]['counter']+=0x1,this['currentBatch']['counter']===this[_0x5a896b(0x299)]?this[_0x5a896b(0x8bc)]():this[_0x5a896b(0x4d9)]||(this[_0x5a896b(0x4d9)]=this[_0x5a896b(0xac3)][_0x5a896b(0x546)](()=>this[_0x5a896b(0x8bc)](),this[_0x5a896b(0x73a)])));}async['processBatch'](){const _0x350a57=_0x5a8b1c;if(this[_0x350a57(0x67d)]){for(this[_0x350a57(0x970)][_0x350a57(0x3a9)](this[_0x350a57(0x67d)]),this[_0x350a57(0x67d)]=this[_0x350a57(0x734)]();this[_0x350a57(0x970)]['length']>0x0;){const _0x3b3ac1=this[_0x350a57(0x970)]['shift']();if(!await this[_0x350a57(0x7d1)](_0x3b3ac1))break;}clearTimeout(this[_0x350a57(0x4d9)]),this[_0x350a57(0x4d9)]=void 0x0;}}[_0x5a8b1c(0x5fb)](_0x538394,_0x45adf7,..._0x5bc88d){const _0x3a78fe=_0x5a8b1c;if(console[_0x3a78fe(0x5fb)](new Date(),_0x538394,_0x45adf7,..._0x5bc88d),this['loggingConnectors']){const _0x5098f1={'vendorId':this['vendorId'],..._0x45adf7};this[_0x3a78fe(0x7a7)][_0x3a78fe(0x775)](_0x520a0a=>{const _0x16262d=_0x3a78fe;_0x520a0a[_0x16262d(0x5fb)](_0x538394,_0x5098f1);});}}[_0x5a8b1c(0x382)](_0x33295a,_0x1ea8dc,..._0x5686b0){const _0x587e87=_0x5a8b1c;if(console[_0x587e87(0x234)](new Date(),_0x33295a,_0x1ea8dc,_0x5686b0),this[_0x587e87(0x7a7)]){const _0x44b109={'vendorId':this[_0x587e87(0x26a)],..._0x1ea8dc};this['loggingConnectors'][_0x587e87(0x775)](_0x52ab7d=>{const _0x2dbd2e=_0x587e87;_0x52ab7d[_0x2dbd2e(0x234)](_0x33295a,_0x44b109);});}}['isChannelEnabled'](_0x21baa5){const _0x456645=_0x5a8b1c;return this[_0x456645(0x4ec)][_0x456645(0x595)](_0x21baa5);}async[_0x5a8b1c(0x7d1)](_0x344192,_0x4d9d09=0x0){const _0x4b6241=_0x5a8b1c;if(_0x344192[_0x4b6241(0x87b)]>0x0)try{return await _0x344192['batch'][_0x4b6241(0x6dc)](),!0x0;}catch(_0x563abc){if(console[_0x4b6241(0x5fb)](_0x4b6241(0x955),_0x563abc,_0x4b6241(0xa5a),_0x344192[_0x4b6241(0x1a5)]),!(_0x4d9d09<this[_0x4b6241(0x9d7)])){const {nodeId:_0x1121c6='',nodeType:_0x486bcf='',clusterId:_0x3211cc=''}=_0x344192[_0x4b6241(0x1a5)][0x0][_0x4b6241(0x349)],_0x3c4a52={'nodeId':_0x1121c6,'nodeType':_0x486bcf,'clusterId':_0x3211cc,'data':{'operations':_0x344192[_0x4b6241(0x1a5)],'error':_0x563abc}};return this[_0x4b6241(0x5fb)](_0x4b6241(0x472),_0x3c4a52),!0x1;}{const _0xb2f0e=this[_0x4b6241(0x720)](_0x344192[_0x4b6241(0x1a5)]);setTimeout(()=>this['commitBatch'](_0xb2f0e,_0x4d9d09+0x1),this[_0x4b6241(0xa23)]*Math[_0x4b6241(0x45d)](0x2,_0x4d9d09));}}}[_0x5a8b1c(0x49b)](){const _0xaf25ef=_0x5a8b1c;try{Object[_0xaf25ef(0x7f4)](_0xf47a5)[_0xaf25ef(0x775)](_0x53588e=>{const _0x3214f2=_0xaf25ef,_0x5701a7=_0x53588e;localStorage[_0x3214f2(0x1a3)](_0x3214f2(0x6c6)+_0xf47a5[_0x5701a7])&&(console['log'](_0x3214f2(0x2cd),_0xf47a5[_0x5701a7]),this[_0x3214f2(0x4ec)]['push'](_0xf47a5[_0x5701a7]));});}catch(_0x32c967){}}[_0x5a8b1c(0xaa6)](_0x3ede0d){return void 0x0!==_0x3ede0d['getEnabledChannels'];}['createNewBatch'](){const _0xc737d0=_0x5a8b1c;return{'batch':(0x0,_0x594922[_0xc737d0(0x213)])(_0x1b7d72[_0xc737d0(0x184)]()),'operations':[],'counter':0x0};}['createBatch'](_0x20e95c){const _0x366932=_0x5a8b1c,_0x3dabda=(0x0,_0x594922[_0x366932(0x213)])(_0x1b7d72['getFirestore']());return _0x20e95c[_0x366932(0x775)](_0x17fff4=>this[_0x366932(0x6a7)](_0x3dabda,_0x17fff4)),{'batch':_0x3dabda,'operations':_0x20e95c,'counter':_0x20e95c[_0x366932(0xa39)]};}['addBatchOperation'](_0x4a5ec6,_0x126e35){const _0x51b040=_0x5a8b1c;switch(_0x126e35['type']){case _0x51b040(0x984):_0x4a5ec6['set'](_0x126e35[_0x51b040(0x155)],_0x126e35['data']);break;case _0x51b040(0xafb):_0x4a5ec6['update'](_0x126e35[_0x51b040(0x155)],_0x126e35[_0x51b040(0x349)]);break;case _0x51b040(0x1cd):_0x4a5ec6['delete'](_0x126e35[_0x51b040(0x155)]);}}['createBatchOperation'](_0x20ae12,_0x5dfaf3){const _0x10975f=_0x5a8b1c;this[_0x10975f(0x67d)]||(this[_0x10975f(0x67d)]=this[_0x10975f(0x734)]());const _0x42fbcc=(0x0,_0x594922['doc'])((0x0,_0x594922[_0x10975f(0x545)])(_0x1b7d72[_0x10975f(0x184)](),'developers/'+this['vendorId']+_0x10975f(0x7db))),_0x3280ec={..._0x5dfaf3,'service':_0x20ae12,'timestamp':(0x0,_0x594922['serverTimestamp'])()},_0x378254={'type':_0x10975f(0x984),'path':_0x42fbcc[_0x10975f(0x191)],'ref':_0x42fbcc,'data':_0x3280ec};return this[_0x10975f(0x67d)][_0x10975f(0x1a5)][_0x10975f(0x3a9)](_0x378254),this[_0x10975f(0x6a7)](this[_0x10975f(0x67d)][_0x10975f(0x604)],_0x378254),_0x42fbcc;}}const _0x241131=_0x1b3414[_0x5a8b1c(0x2eb)]();function _0x20bd8c(_0x1ea869,_0x19905e){return'/'===_0x1ea869?_0x1ea869+_0x19905e:_0x1ea869+'/'+_0x19905e;}function _0x922eb0(_0x594fe2){const _0x29e030=_0x5a8b1c,_0x2619c9=function(_0x3f8cc3){const _0x49c598=a0_0x2316;return _0x3f8cc3['split']('/')[_0x49c598(0x930)](_0x5cacb3=>_0x5cacb3[_0x49c598(0xa39)]>0x0);}(_0x594fe2),_0xf88507=_0x2619c9[_0x29e030(0x767)]()||'',_0x3a7f63=_0x2619c9[_0x29e030(0x59d)]('/');return[0x0===_0x3a7f63[_0x29e030(0xa39)]?'/':_0x3a7f63,_0xf88507];}async function _0x2ac76d(_0x1f66b4){const _0x5c6498=_0x5a8b1c;let _0xda6d76;const _0x3ad1a8=_0x1f66b4['size']/0x100000;_0xda6d76=_0x3ad1a8<=0xa?0x1:_0x3ad1a8<=0x64?0.5:_0x3ad1a8<=0x1f4?0.1:0.05;const _0x227f62=Math[_0x5c6498(0xa99)](_0x1f66b4[_0x5c6498(0xaf1)]/_0x1831a8),_0x28da12=Math['ceil'](_0x227f62*_0xda6d76);let _0x449e18=new Uint8Array();for(let _0x3915d7=0x0;_0x3915d7<_0x28da12;_0x3915d7++){const _0x3e9b1a=Math['floor'](_0x3915d7/_0x28da12*_0x1f66b4[_0x5c6498(0xaf1)]);let _0x54c3b8=_0x3e9b1a+_0x1831a8;_0x54c3b8>_0x1f66b4[_0x5c6498(0xaf1)]&&(_0x54c3b8=_0x1f66b4[_0x5c6498(0xaf1)]);const _0x1005ef=_0x1f66b4[_0x5c6498(0x1ca)](_0x3e9b1a,_0x54c3b8),_0x50dbcc=await _0x1005ef[_0x5c6498(0x205)](),_0xf2a79e=new Uint8Array([..._0x449e18,...new Uint8Array(_0x50dbcc)]);_0x449e18=new Uint8Array(await crypto['subtle']['digest'](_0x5c6498(0x2c7),_0xf2a79e));}return Array[_0x5c6498(0x47c)](new Uint8Array(_0x449e18))['map'](_0x2e4167=>_0x2e4167[_0x5c6498(0x7bb)](0x10)[_0x5c6498(0x597)](0x2,'0'))[_0x5c6498(0x59d)]('');}async function*_0x362ff2(_0x29e639,_0x301d15=0x0,_0x316f5d){const _0x5e3ae6=_0x5a8b1c;let _0x4567e5=_0x301d15*_0x1e1d55,_0x5bc067=_0x29e639;for(;_0x4567e5<_0x5bc067['size'];){let _0x319ae1=_0x4567e5+_0x1e1d55;_0x319ae1>_0x5bc067[_0x5e3ae6(0xaf1)]&&(_0x319ae1=_0x5bc067[_0x5e3ae6(0xaf1)]);let _0x6850c5=0x0;for(;_0x6850c5<0x14;)try{await _0x316f5d?.();const _0x5063f1=_0x5bc067[_0x5e3ae6(0x1ca)](_0x4567e5,_0x319ae1,_0x5e3ae6(0x63b)),_0xac1252=await _0x5063f1[_0x5e3ae6(0x205)]();yield _0xac1252,_0x4567e5=_0x319ae1,await new Promise(_0x417d81=>setTimeout(_0x417d81,0x0));break;}catch(_0x2454e5){if(console[_0x5e3ae6(0x5fb)](_0x5e3ae6(0x772)+(_0x6850c5+0x1)+'\x20attempts:',_0x2454e5),_0x6850c5++,_0x6850c5>0x14)throw _0x2454e5;let _0x15abf4=0x3e8*Math[_0x5e3ae6(0x45d)](0x2,_0x6850c5);_0x15abf4>0x7530&&(_0x15abf4=0x7530),await new Promise(_0x23a7d1=>setTimeout(_0x23a7d1,_0x15abf4));}}}class _0x43d50a extends _0x267db0{[_0x5a8b1c(0x504)];[_0x5a8b1c(0xa9e)];[_0x5a8b1c(0x3c7)]=new Map();[_0x5a8b1c(0xae5)]=0x0;[_0x5a8b1c(0x413)]=0x0;[_0x5a8b1c(0x398)]=0x0;['bytesReceived']=0x0;constructor(_0x5551c9,_0xcb8a02){super(_0x5551c9,_0xcb8a02);}[_0x5a8b1c(0x211)](){return this['label'];}[_0x5a8b1c(0x1cb)](){const _0x34fe9b=_0x5a8b1c;return this[_0x34fe9b(0x19f)];}[_0x5a8b1c(0x62f)](){const _0x2b6896=_0x5a8b1c;return _0x52baed['ContentType'][_0x2b6896(0x87a)];}['getInternalStreamId'](){const _0x694ed5=_0x5a8b1c;return this[_0x694ed5(0x19f)];}[_0x5a8b1c(0x6fa)](_0x4c2d21){const _0x5e9f72=_0x5a8b1c;if(this[_0x5e9f72(0x504)])throw new _0xdb384(_0xdb384['codes']['InvalidPublisher'],{'message':_0x5e9f72(0x49d)+this['owner'][_0x5e9f72(0x3dd)]()+_0x5e9f72(0xade)+this['label'],'topic':this[_0x5e9f72(0x504)]});this[_0x5e9f72(0x504)]=_0x4c2d21;}[_0x5a8b1c(0x230)](_0x4638ea){const _0x11f7d3=_0x5a8b1c;if(this[_0x11f7d3(0xa9e)])throw new _0xdb384(_0xdb384[_0x11f7d3(0x549)][_0x11f7d3(0x7b0)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x11f7d3(0x83c)][_0x11f7d3(0x3dd)]()+_0x11f7d3(0xade)+this[_0x11f7d3(0x19f)],'topic':this[_0x11f7d3(0xa9e)]});this[_0x11f7d3(0xa9e)]=_0x4638ea;}[_0x5a8b1c(0x845)](){const _0x540a01=_0x5a8b1c;delete this[_0x540a01(0x504)];}[_0x5a8b1c(0x3b4)](){delete this['incomingTopic'];}async[_0x5a8b1c(0x28e)](_0x55d60e,_0x4e8f5f){const _0x1328ef=_0x5a8b1c;if(_0x241131[_0x1328ef(0x2d3)](_0xf47a5[_0x1328ef(0x26d)],'DataStream\x20send',this[_0x1328ef(0x83c)][_0x1328ef(0x3dd)](),_0x55d60e,_0x4e8f5f),this['messagesSent']+=0x1,_0x55d60e instanceof File){const _0x258063=await async function(_0x49bda5){const _0x21d891=_0x1328ef,_0x29ac40=[];for await(const _0x181eb9 of _0x362ff2(_0x49bda5))_0x29ac40[_0x21d891(0x3a9)](_0x181eb9);return _0x29ac40;}(_0x55d60e);return this[_0x1328ef(0x398)]+=_0x258063[_0x1328ef(0x8a0)]((_0x132912,_0x4cf948)=>_0x132912+_0x4cf948[_0x1328ef(0x475)],0x0),void _0x258063['forEach']((_0xbf03ab,_0x1c4e49)=>{const _0x18fd8f=_0x1328ef;this[_0x18fd8f(0x504)][_0x18fd8f(0x590)]({'sourceId':this[_0x18fd8f(0x83c)][_0x18fd8f(0x3dd)](),'destinationIds':_0x4e8f5f,'propagate':!0x0,'contentType':_0x52baed['ContentType'][_0x18fd8f(0x9a2)],'content':{'name':_0x55d60e['name'],'type':_0x55d60e[_0x18fd8f(0x2a5)],'data':_0xbf03ab,'index':_0x1c4e49,'total':_0x258063['length']}});});}this[_0x1328ef(0x398)]+=JSON[_0x1328ef(0x2ed)](_0x55d60e)[_0x1328ef(0xa39)],this['outgoingTopic']['publish']({'sourceId':this[_0x1328ef(0x83c)][_0x1328ef(0x3dd)](),'destinationIds':_0x4e8f5f,'propagate':!0x0,'contentType':_0x52baed[_0x1328ef(0xa92)]['Data'],'content':_0x55d60e});}[_0x5a8b1c(0x756)](_0x49bd00){const _0x37e4a7=_0x5a8b1c;return this[_0x37e4a7(0xa9e)][_0x37e4a7(0x19a)](_0x1782a7=>{const _0x3549cc=_0x37e4a7;switch(_0x241131[_0x3549cc(0x2d3)](_0xf47a5[_0x3549cc(0x26d)],_0x3549cc(0x933),this[_0x3549cc(0x83c)][_0x3549cc(0x3dd)](),_0x1782a7),_0x1782a7[_0x3549cc(0x2d0)]){case _0x52baed[_0x3549cc(0xa92)][_0x3549cc(0x87a)]:this[_0x3549cc(0x413)]+=0x1,this['bytesReceived']+=JSON['stringify'](_0x1782a7[_0x3549cc(0x2fa)])[_0x3549cc(0xa39)],_0x49bd00(_0x1782a7['sourceId'],_0x1782a7[_0x3549cc(0x2fa)]);break;case _0x52baed[_0x3549cc(0xa92)][_0x3549cc(0x9a2)]:this[_0x3549cc(0x3c7)][_0x3549cc(0x149)](_0x1782a7[_0x3549cc(0x2fa)]['name'])||this[_0x3549cc(0x3c7)]['set'](_0x1782a7['content']['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x39f6bd=this[_0x3549cc(0x3c7)][_0x3549cc(0x8a4)](_0x1782a7['content'][_0x3549cc(0x45a)]);if(_0x39f6bd[_0x3549cc(0x489)]+=0x1,_0x39f6bd[_0x3549cc(0xa4c)]+=_0x1782a7[_0x3549cc(0x2fa)][_0x3549cc(0x349)][_0x3549cc(0x475)],_0x39f6bd[_0x3549cc(0x2fa)]&&(_0x39f6bd[_0x3549cc(0x2fa)][_0x1782a7['content'][_0x3549cc(0x960)]]=_0x1782a7['content'][_0x3549cc(0x349)]),this['fileChunks'][_0x3549cc(0x984)](_0x1782a7[_0x3549cc(0x2fa)]['name'],_0x39f6bd),_0x39f6bd[_0x3549cc(0x489)]+0x1<_0x1782a7['content'][_0x3549cc(0x8d6)])return;this[_0x3549cc(0x413)]+=0x1,this[_0x3549cc(0xa4c)]+=_0x39f6bd[_0x3549cc(0xa4c)],_0x39f6bd[_0x3549cc(0x2fa)]&&_0x49bd00(_0x1782a7[_0x3549cc(0x2fb)],(_0x1a222c=_0x39f6bd[_0x3549cc(0x2fa)],_0x5bde59=_0x1782a7['content'][_0x3549cc(0x45a)],_0x2c46fe=_0x1782a7[_0x3549cc(0x2fa)][_0x3549cc(0x2a5)],new File(_0x1a222c,_0x5bde59,{'type':_0x2c46fe}))),this['fileChunks'][_0x3549cc(0x1cd)](_0x1782a7[_0x3549cc(0x2fa)][_0x3549cc(0x45a)]);}var _0x1a222c,_0x5bde59,_0x2c46fe;});}}function _0x28f8fd(){const _0x1bf836=_0x5a8b1c;let _0x13392c=[];return{'subscribe':_0x2d5f6f=>(_0x13392c[_0x1bf836(0x3a9)](_0x2d5f6f),()=>{const _0x2ef118=_0x1bf836;_0x13392c=_0x13392c[_0x2ef118(0x930)](_0x477c92=>_0x477c92!==_0x2d5f6f);}),'publish':_0xe1ef61=>{const _0x729a83=_0x1bf836;_0x13392c[_0x729a83(0x775)](_0x17d83e=>_0x17d83e(_0xe1ef61));}};}function _0x462089(){let _0x189fa0;return{'subscribe':_0x1a38a2=>(_0x189fa0=_0x1a38a2,()=>{_0x189fa0=void 0x0;}),'publish':_0x41fc04=>{_0x189fa0&&_0x189fa0(_0x41fc04);}};}class _0x10adec{[_0x5a8b1c(0x6f2)];[_0x5a8b1c(0x849)];[_0x5a8b1c(0xa91)];[_0x5a8b1c(0x15d)]=_0x462089();[_0x5a8b1c(0x23a)];constructor(_0x35cb81,_0x5ebb1b,_0x2e2540){const _0x39571e=_0x5a8b1c;this[_0x39571e(0x6f2)]=_0x35cb81,this[_0x39571e(0x849)]=_0x5ebb1b,this['tableObserver']=_0x2e2540;}[_0x5a8b1c(0x865)](){const _0x2653fa=_0x5a8b1c;this[_0x2653fa(0x23a)]?.();}async[_0x5a8b1c(0x8a4)](_0x40d002){const _0x862647=_0x5a8b1c,_0x199d9c={'key':_0x40d002,'tableName':this['tableName'],'action':_0x2e66ff['Get']};return this[_0x862647(0xa91)][_0x862647(0x590)](_0x199d9c),this[_0x862647(0x6f2)][_0x862647(0x8a4)](_0x40d002);}async[_0x5a8b1c(0x984)](_0x3d26a9,_0x418d04,_0x22e0b8=!0x0){const _0x55677d=_0x5a8b1c;this[_0x55677d(0x35e)](_0x418d04);const _0x1ab0d1=await this['connector'][_0x55677d(0x8a4)](_0x3d26a9),_0x227aed=await this[_0x55677d(0x6f2)][_0x55677d(0x984)](_0x3d26a9,_0x418d04),_0x1ce35a=_0x1ab0d1?_0x5d7974[_0x55677d(0xafa)]:_0x5d7974[_0x55677d(0x283)];if(this[_0x55677d(0x590)](_0x1ce35a,_0x227aed),!_0x22e0b8)return _0x227aed;const _0x303619={'key':_0x3d26a9,'tableName':this[_0x55677d(0x849)],'action':_0x1ce35a,'value':_0x227aed};return this[_0x55677d(0xa91)]['publish'](_0x303619),_0x227aed;}async[_0x5a8b1c(0x20c)](_0x5c6109){const _0x29fb48=_0x5a8b1c;this[_0x29fb48(0x35e)](_0x5c6109);const _0x3cd2ef=await this['connector']['add'](_0x5c6109),_0x2a3bef={'key':_0x3cd2ef['id'],'tableName':this[_0x29fb48(0x849)],'action':_0x5d7974[_0x29fb48(0x283)],'value':_0x3cd2ef};return this[_0x29fb48(0xa91)][_0x29fb48(0x590)](_0x2a3bef),this[_0x29fb48(0x590)](_0x2a3bef[_0x29fb48(0x866)],_0x3cd2ef),_0x3cd2ef;}async[_0x5a8b1c(0x1cd)](_0x2a6033,_0x26cfa6=!0x0){const _0x5d3f3c=_0x5a8b1c,_0x4c3499=await this[_0x5d3f3c(0x6f2)][_0x5d3f3c(0x8a4)](_0x2a6033);if(!_0x4c3499)return;await this[_0x5d3f3c(0x6f2)][_0x5d3f3c(0x1cd)](_0x2a6033);const _0x26b6dd=_0x5d7974[_0x5d3f3c(0xb3e)];if(this[_0x5d3f3c(0x590)](_0x26b6dd,_0x4c3499),!_0x26cfa6)return;const _0x493989={'key':_0x2a6033,'tableName':this[_0x5d3f3c(0x849)],'action':_0x26b6dd,'value':_0x4c3499};this[_0x5d3f3c(0xa91)]['publish'](_0x493989);}async['clear'](){const _0x921de2=_0x5a8b1c,_0x4f92b1=await this[_0x921de2(0x24a)]();for(const _0x31e356 of _0x4f92b1){const _0x3e37d7=_0x5d7974[_0x921de2(0xb3e)];this[_0x921de2(0x590)](_0x3e37d7,_0x31e356);const _0x5c8123={'key':_0x31e356['id'],'tableName':this['tableName'],'action':_0x3e37d7,'value':_0x31e356};this[_0x921de2(0xa91)][_0x921de2(0x590)](_0x5c8123);}return this[_0x921de2(0x6f2)]['clear']();}async[_0x5a8b1c(0x24a)](_0x266342){const _0x3a9586=_0x5a8b1c,_0x1df045={'key':'','tableName':this[_0x3a9586(0x849)],'action':_0x2e66ff[_0x3a9586(0x983)]};this[_0x3a9586(0xa91)]['publish'](_0x1df045);try{_0x266342&&(_0x266342=_0x266342 instanceof _0x538ebc?_0x266342[_0x3a9586(0x862)]():_0x538ebc['buildQuery'](_0x266342)['getQuery']());}catch(_0x20aea7){throw new _0x4ec9e4(_0x47ec8c[_0x3a9586(0x7bf)],'Invalid\x20query');}try{return await this['connector'][_0x3a9586(0x24a)](_0x266342);}catch(_0x5ea20c){let _0xd8551b=_0x3a9586(0x9b7);throw _0x5ea20c instanceof Error&&(_0xd8551b=_0x5ea20c[_0x3a9586(0x421)]),new _0x4ec9e4(_0x47ec8c[_0x3a9586(0x7bf)],_0xd8551b);}}async[_0x5a8b1c(0x8f1)](_0x411bf1){const _0x36c200=_0x5a8b1c,_0x158b8d={'key':'','tableName':this['tableName'],'action':_0x2e66ff['Count']};this[_0x36c200(0xa91)][_0x36c200(0x590)](_0x158b8d);try{_0x411bf1&&(_0x411bf1=_0x411bf1 instanceof _0x538ebc?_0x411bf1[_0x36c200(0x862)]():_0x538ebc['buildQuery'](_0x411bf1)[_0x36c200(0x862)]());}catch(_0x55db28){throw new _0x4ec9e4(_0x47ec8c[_0x36c200(0x7bf)],'Invalid\x20query');}try{return await this[_0x36c200(0x6f2)][_0x36c200(0x8f1)](_0x411bf1);}catch(_0x427d48){let _0x7c3d35=_0x36c200(0x9b7);throw _0x427d48 instanceof Error&&(_0x7c3d35=_0x427d48[_0x36c200(0x421)]),new _0x4ec9e4(_0x47ec8c[_0x36c200(0x7bf)],_0x7c3d35);}}[_0x5a8b1c(0x350)](){const _0x76c498=_0x5a8b1c;return this[_0x76c498(0x6f2)]['calculateSize']();}['subscribe'](_0x29509b){const _0x5d473=_0x5a8b1c;this[_0x5d473(0x23a)]=this[_0x5d473(0x15d)]['subscribe'](_0x29509b);}[_0x5a8b1c(0xa68)](){this['listenerUnsubscriber']?.();}[_0x5a8b1c(0x590)](_0x3f8f4a,_0x599476){const _0x5970b4=_0x5a8b1c,_0x2c03b1=this[_0x5970b4(0x6bd)](_0x3f8f4a,_0x599476);this[_0x5970b4(0x15d)][_0x5970b4(0x590)](_0x2c03b1);}[_0x5a8b1c(0x6bd)](_0x1dc01d,_0x496f14){const _0x4ad77f=_0x5a8b1c;let _0x589834;switch(_0x1dc01d){case _0x5d7974[_0x4ad77f(0x283)]:_0x589834=_0x4ad77f(0x20c);break;case _0x5d7974[_0x4ad77f(0xafa)]:_0x589834=_0x4ad77f(0xafb);break;case _0x5d7974[_0x4ad77f(0xb3e)]:_0x589834=_0x4ad77f(0x1cd);}return{'action':_0x589834,'value':_0x496f14};}[_0x5a8b1c(0x35e)](_0x2f9c68){const _0x1a301b=_0x5a8b1c;if(_0x1a301b(0x55e)!=typeof _0x2f9c68||null===_0x2f9c68)throw new _0x4ec9e4(_0x47ec8c[_0x1a301b(0x696)],_0x1a301b(0x942));for(const _0x4f5214 in _0x2f9c68){const _0x746cd1=_0x2f9c68[_0x4f5214];if(_0x1a301b(0x55e)!=typeof _0x746cd1||_0x746cd1 instanceof Date){if(![_0x1a301b(0x6e2),'number',_0x1a301b(0x276)][_0x1a301b(0x595)](typeof _0x746cd1))throw new _0x4ec9e4(_0x47ec8c[_0x1a301b(0x696)],_0x1a301b(0x7dd)+_0x4f5214+_0x1a301b(0xb1a));}else this[_0x1a301b(0x35e)](_0x746cd1);}}}class _0x433656{['peaks']=[];[_0x5a8b1c(0xa37)]=0x0;['transactionQueue']=[];[_0x5a8b1c(0xae3)]=!0x1;[_0x5a8b1c(0x22c)]=null;['rootComputationPromise']=null;[_0x5a8b1c(0x514)];['readyResolve']=null;[_0x5a8b1c(0x8fe)]=[];['debounceReadyTimeout'];[_0x5a8b1c(0x3b6)]=Promise['resolve']();[_0x5a8b1c(0x710)]=0x0;constructor(){}get[_0x5a8b1c(0x8e4)](){return this['_ready'];}async[_0x5a8b1c(0x2d6)](_0xdf1d3,_0x562cdf=0x0){const _0x55b8b5=_0x5a8b1c;this[_0x55b8b5(0x65c)]||(this[_0x55b8b5(0x3b6)]=new Promise(_0x45b808=>{const _0x38386d=_0x55b8b5;this[_0x38386d(0x65c)]=_0x45b808;}),this[_0x55b8b5(0x710)]=_0x562cdf);const _0xf0cbfb=Date['now']();if(this[_0x55b8b5(0xae3)])return void this[_0x55b8b5(0x4ab)]['push'](_0xdf1d3);this[_0x55b8b5(0xae3)]=!0x0;let _0x1f326a={'hash':await this[_0x55b8b5(0x9b3)](_0xdf1d3),'height':0x0};const _0xf58c94=this[_0x55b8b5(0xa67)](_0x1f326a);this[_0x55b8b5(0x8fe)][_0x55b8b5(0x3a9)](_0xf58c94),await _0xf58c94,this[_0x55b8b5(0xa37)]+=0x1;const _0x24704d=this[_0x55b8b5(0x4ab)][_0x55b8b5(0xa39)];for(;this['transactionQueue'][_0x55b8b5(0xa39)]>0x0;){const _0x5e214f=this['transactionQueue']['shift']();await this['appendTransaction'](_0x5e214f);}this[_0x55b8b5(0x9f1)](),await this['ready'],this['debounceAppendLog'](_0xf0cbfb,_0x24704d);}async[_0x5a8b1c(0x8a3)](){const _0x4289c7=_0x5a8b1c;return await this[_0x4289c7(0x3b6)],this[_0x4289c7(0xae3)]?(this[_0x4289c7(0x7a2)]||(this[_0x4289c7(0x7a2)]=this[_0x4289c7(0x50f)]()),await this[_0x4289c7(0x7a2)]):this['cachedRoot'];}[_0x5a8b1c(0x417)](){const _0x1591e1=_0x5a8b1c;return this[_0x1591e1(0xb0f)]['map'](({hash:_0x9a70dd,height:_0x207ef4})=>({'hash':_0x9a70dd,'height':_0x207ef4}));}['getTotalNodes'](){return this['totalNodes'];}[_0x5a8b1c(0x6d3)](_0x453535){const _0x79eba0=_0x5a8b1c;return this[_0x79eba0(0xb0f)][_0x79eba0(0x5dd)](_0x18fe41=>_0x18fe41[_0x79eba0(0x537)]===_0x453535);}async[_0x5a8b1c(0x68f)](_0x54cfc5,_0x348890){const _0x240d74=_0x5a8b1c;return await this[_0x240d74(0x1a1)](_0x54cfc5+_0x348890);}async['hashTransaction'](_0x2ae27a){const _0x311111=_0x5a8b1c;return await this[_0x311111(0x1a1)](JSON[_0x311111(0x2ed)](_0x2ae27a));}['comparePeaks'](_0x11fd24){const _0x233eb5=_0x5a8b1c,_0x1fe737=this['getPeaks'](),_0x252146=[],_0x43e994=[],_0x23cd14=[];for(const _0x28a87a of _0x1fe737){const _0x5e6c70=_0x11fd24[_0x233eb5(0x5dd)](_0x16226d=>_0x16226d['height']===_0x28a87a['height']);_0x5e6c70?_0x28a87a[_0x233eb5(0x214)]!==_0x5e6c70['hash']&&_0x252146['push']({'height':_0x28a87a['height'],'localPeak':_0x28a87a,'remotePeak':_0x5e6c70}):_0x43e994[_0x233eb5(0x3a9)](_0x28a87a);}for(const _0x2867fd of _0x11fd24)_0x1fe737[_0x233eb5(0x5dd)](_0x183183=>_0x183183[_0x233eb5(0x537)]===_0x2867fd[_0x233eb5(0x537)])||_0x23cd14[_0x233eb5(0x3a9)](_0x2867fd);return{'differingPeaks':_0x252146,'peaksMissingInRemote':_0x43e994,'peaksMissingInLocal':_0x23cd14};}async[_0x5a8b1c(0x50f)](){const _0x4b3ce0=_0x5a8b1c;this[_0x4b3ce0(0xae3)]=!0x0;const _0xe4027b=this[_0x4b3ce0(0xb0f)][_0x4b3ce0(0x3d5)](_0x3d2141=>_0x3d2141[_0x4b3ce0(0x214)]);return this[_0x4b3ce0(0x22c)]=await this[_0x4b3ce0(0x93b)](_0xe4027b),this['isComputingMMR']=!0x1,this[_0x4b3ce0(0x7a2)]=null,this[_0x4b3ce0(0x9f1)](),this[_0x4b3ce0(0x22c)];}async[_0x5a8b1c(0x1a1)](_0x4c80f5){const _0x185537=_0x5a8b1c;try{const _0x8bf826=new TextEncoder()[_0x185537(0x443)](_0x4c80f5),_0x9f5a24=await crypto[_0x185537(0x8be)][_0x185537(0xa66)](_0x185537(0x2c7),_0x8bf826);return Array[_0x185537(0x47c)](new Uint8Array(_0x9f5a24))[_0x185537(0x3d5)](_0x137c4f=>_0x137c4f[_0x185537(0x7bb)](0x10)[_0x185537(0x597)](0x2,'0'))[_0x185537(0x59d)]('');}catch(_0x4624c8){return console[_0x185537(0x5fb)]('Hash\x20computation\x20failed,\x20retrying...',_0x4624c8),this['computeHash'](_0x4c80f5);}}async[_0x5a8b1c(0x93b)](_0x375547){const _0x1b5b87=_0x5a8b1c;return await this['computeHash'](_0x375547[_0x1b5b87(0x59d)](''));}async[_0x5a8b1c(0xa67)](_0x12372b){const _0x1bd2b4=_0x5a8b1c;for(;this[_0x1bd2b4(0xb0f)][_0x1bd2b4(0xa39)]>0x0&&this[_0x1bd2b4(0xb0f)][this['peaks'][_0x1bd2b4(0xa39)]-0x1][_0x1bd2b4(0x537)]===_0x12372b[_0x1bd2b4(0x537)];){const _0x306d67=this[_0x1bd2b4(0xb0f)][_0x1bd2b4(0x767)]();_0x12372b={'hash':await this[_0x1bd2b4(0x68f)](_0x306d67[_0x1bd2b4(0x214)],_0x12372b[_0x1bd2b4(0x214)]),'left':_0x306d67,'right':_0x12372b,'height':_0x12372b[_0x1bd2b4(0x537)]+0x1};}this[_0x1bd2b4(0xb0f)]['push'](_0x12372b),await this[_0x1bd2b4(0x50f)]();}[_0x5a8b1c(0x2f2)](_0x4af73a,_0x59fc20){const _0x2a7672=_0x5a8b1c;if(!_0x241131['isChannelEnabled'](_0xf47a5['KeyValueDatabase']))return;this['debounceLogTimeout']&&clearTimeout(this['debounceLogTimeout']);const _0x4d1090=Date['now']();this[_0x2a7672(0x514)]=setTimeout(()=>_0x241131['log'](_0xf47a5['KeyValueDatabase'],_0x2a7672(0x94c),this[_0x2a7672(0x22c)],_0x2a7672(0x21a),this[_0x2a7672(0x3b7)](),'queueLength',_0x59fc20,_0x2a7672(0x5f7),_0x4d1090-_0x4af73a),0x7d0);}[_0x5a8b1c(0x9f1)](){const _0x1c3194=_0x5a8b1c;this[_0x1c3194(0x446)]&&clearTimeout(this['debounceReadyTimeout']),this[_0x1c3194(0x446)]=setTimeout(async()=>{const _0x367baa=_0x1c3194;try{const _0x548843=this[_0x367baa(0x8fe)];if(this[_0x367baa(0x8fe)]=[],await Promise[_0x367baa(0x139)](_0x548843),this[_0x367baa(0x710)]-=_0x548843[_0x367baa(0xa39)],this[_0x367baa(0x8fe)][_0x367baa(0xa39)]>0x0||this[_0x367baa(0x710)]>0x0)return this['debounceReady']();this[_0x367baa(0x65c)]&&(this[_0x367baa(0x65c)](),this[_0x367baa(0x65c)]=null),this[_0x367baa(0x3b6)]=Promise[_0x367baa(0x618)](),this[_0x367baa(0xae3)]=!0x1;}catch(_0x3d6354){console[_0x367baa(0x5fb)]('Error\x20resolving\x20readyPromises:',_0x3d6354);}},0xa);}}const _0x190a7f=['PeerConnection','Node',_0x5a8b1c(0x420),_0x5a8b1c(0x2cf),_0x5a8b1c(0x85a),_0x5a8b1c(0x61b),'Remediation'],_0x206d02=[[_0x5a8b1c(0x403),_0x5a8b1c(0x3be),_0x5a8b1c(0x43c),_0x5a8b1c(0x635),'NeedRestart',_0x5a8b1c(0x7b4),_0x5a8b1c(0x51d),_0x5a8b1c(0x85a),_0x5a8b1c(0x662)],[_0x5a8b1c(0x8dd),'NodeUpdate',_0x5a8b1c(0x3fb),'NodeLeave'],[_0x5a8b1c(0x7a8),_0x5a8b1c(0x6b9),_0x5a8b1c(0xa79),'CloseExternalStorageConnection',_0x5a8b1c(0x3ff),_0x5a8b1c(0x448),_0x5a8b1c(0x892),_0x5a8b1c(0x321),_0x5a8b1c(0x27b),_0x5a8b1c(0x3af),_0x5a8b1c(0x539),_0x5a8b1c(0x4a6),_0x5a8b1c(0x310),_0x5a8b1c(0x68d),_0x5a8b1c(0x49f),_0x5a8b1c(0x258),_0x5a8b1c(0x6cb),_0x5a8b1c(0x529),_0x5a8b1c(0x285),_0x5a8b1c(0x264),'LocalMediaStreamTrackFail',_0x5a8b1c(0x3cc),_0x5a8b1c(0x338),'PublishMediaStream',_0x5a8b1c(0x4f4),_0x5a8b1c(0x8d5),'UnpublishMediaStream',_0x5a8b1c(0x9ed),_0x5a8b1c(0x790),_0x5a8b1c(0x9fe)],[_0x5a8b1c(0x8d5),_0x5a8b1c(0x790),_0x5a8b1c(0xa98),_0x5a8b1c(0x3a7),_0x5a8b1c(0x4e8),_0x5a8b1c(0x6fc)],[_0x5a8b1c(0x931),_0x5a8b1c(0x189)],[_0x5a8b1c(0x5e5)],[_0x5a8b1c(0x3e9),_0x5a8b1c(0x6a3)]];function _0x45b903(_0x2b8ca2){const _0x53df4f=_0x5a8b1c;return{..._0x2b8ca2,'systemMessageType':_0x190a7f[_0x2b8ca2[_0x53df4f(0xb43)]],'systemContentMessageType':_0x206d02[_0x2b8ca2[_0x53df4f(0xb43)]][_0x2b8ca2[_0x53df4f(0x2fa)][_0x53df4f(0x2a5)]]};}const _0x40c099={'hour':'2-digit','minute':_0x5a8b1c(0x7df),'second':_0x5a8b1c(0x7df)};function _0x46a179(_0x397b45,_0x489bda){const _0x3a517b=_0x5a8b1c,_0x4bc7fa=(function(){const _0x363a7c=a0_0x2316,_0x53dbd9=new Date(),_0x5de806=_0x53dbd9[_0x363a7c(0x900)](),_0x3b1016=_0x53dbd9['toLocaleDateString'](_0x363a7c(0x6d8),_0x40c099)[_0x363a7c(0x395)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x3b1016+'.'+(_0x5de806>0x64?''+_0x5de806:_0x5de806>0xa?'0'+_0x5de806:'00'+_0x5de806);}()),{sourceId:_0x5324af,destinationIds:_0x23c744,systemMessageType:_0x380ccd,systemContentMessageType:_0x12f106}=_0x45b903(_0x397b45);return _0x4bc7fa+_0x3a517b(0xade)+_0x489bda+_0x3a517b(0xade)+(_0x5324af===_0x489bda?'Sending\x20\x27'+_0x380ccd+_0x3a517b(0x2b8)+(_0x23c744?''+_0x23c744:_0x3a517b(0x56f)):_0x397b45[_0x3a517b(0x2fb)]===_0x4c58af?_0x3a517b(0x6a8)+_0x380ccd+'\x27':(_0x23c744?'':'Everyone\x20')+_0x3a517b(0x7cb)+_0x380ccd+'\x27\x20from\x20'+_0x5324af)+_0x3a517b(0x98d)+_0x12f106+_0x3a517b(0x4e5);}function _0x3496ca(_0x2cea35,_0x316d60){const _0x3b6ebe=_0x5a8b1c;if(!_0x241131[_0x3b6ebe(0x53e)](_0x2cea35))return;if(_0x12ca2b[_0x3b6ebe(0x50a)])return;if(_0x3b6ebe(0x1bb)==typeof process)return;const _0x4d9483=process[_0x3b6ebe(0x8b8)]();console[_0x3b6ebe(0x2d3)]('Memory\x20Usage\x20at\x20'+_0x316d60+':');for(const _0x3d13a7 in _0x4d9483)console[_0x3b6ebe(0x2d3)]('\x20\x20'+_0x3d13a7+':\x20'+(_0x4d9483[_0x3d13a7]/0x400/0x400)['toFixed'](0x2)+_0x3b6ebe(0x701));}function _0x276eaa(_0x4f2579,_0x54a127){const _0x53ce6f=_0x5a8b1c;if(!_0x241131[_0x53ce6f(0x53e)](_0x54a127))return _0x241131['debug'](_0x53ce6f(0x5f6)+_0x54a127),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x183ab9,_0x1daaee)=>_0x1daaee}};let _0x2e87d5=0x0;return{'timingLogger':((()=>{const _0x56c20e=_0x53ce6f;let _0x53a281=Date['now']();return{'start':()=>{const _0x4bf7ba=a0_0x2316;_0x53a281=Date[_0x4bf7ba(0x744)]();},'now':()=>Date[_0x56c20e(0x744)](),'logWaitTime':_0x304d0e=>{const _0x15673f=_0x56c20e;_0x2e87d5+=Date['now']()-_0x53a281,_0x241131[_0x15673f(0x2d3)](_0x54a127,_0x304d0e,_0x2e87d5+'ms',_0x4f2579);}};})()),'logger':{'log':(_0x57f280,_0x474f45=()=>{})=>{const _0x155462=_0x474f45();_0x155462?_0x241131['log'](_0x54a127,_0x57f280,_0x155462,_0x4f2579):_0x241131['log'](_0x54a127,_0x57f280,_0x4f2579);},'performCalculation':(_0x5a7e09,_0x34144c)=>_0x5a7e09()}};}function _0x2616c8(_0x4801e7){const _0x5ac23a=_0x5a8b1c;return _0x5ac23a(0x1bb)==typeof Buffer?0x0:Buffer[_0x5ac23a(0x475)](JSON[_0x5ac23a(0x2ed)](_0x4801e7),_0x5ac23a(0x1b0));}function _0x253ff0(_0xfc15ed){const _0x13d2ee=_0x5a8b1c;if(0x0===_0xfc15ed)return _0x13d2ee(0x55a);const _0x1d9828=Math[_0x13d2ee(0x65d)](Math[_0x13d2ee(0x2d3)](_0xfc15ed)/Math[_0x13d2ee(0x2d3)](0x400));return parseFloat((_0xfc15ed/Math[_0x13d2ee(0x45d)](0x400,_0x1d9828))[_0x13d2ee(0x419)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x1d9828];}class _0x6420 extends _0x43d50a{['localNode'];['clusterId'];[_0x5a8b1c(0x26a)];[_0x5a8b1c(0x3b2)];['db'];[_0x5a8b1c(0x786)];[_0x5a8b1c(0x59e)]=new Map();[_0x5a8b1c(0xa91)];[_0x5a8b1c(0x340)];[_0x5a8b1c(0x6d6)];[_0x5a8b1c(0x3ef)];[_0x5a8b1c(0x136)];[_0x5a8b1c(0x35c)]=[];[_0x5a8b1c(0x53f)]=()=>{};[_0x5a8b1c(0x3c8)];[_0x5a8b1c(0x15d)]=_0x462089();[_0x5a8b1c(0x23a)];['syncTransactionsWritten']=[];[_0x5a8b1c(0x9bd)];[_0x5a8b1c(0x709)];[_0x5a8b1c(0x673)]=0x0;[_0x5a8b1c(0x342)]=0x0;[_0x5a8b1c(0x789)]=!0x1;['mmr']=new _0x433656();[_0x5a8b1c(0xae4)]=new Map();[_0x5a8b1c(0x54f)]=[];[_0x5a8b1c(0x4c4)];[_0x5a8b1c(0x6fb)]=[];['loggingCycle'];constructor(_0x1fccd5,_0x387ee1,_0x4e40c1,_0x3674af,_0x319678,_0x49ce42,_0x73cd12){const _0x5e36e5=_0x5a8b1c;if(_0x5e36e5(0x6e2)!=typeof _0x387ee1)throw new _0x4ec9e4(_0x47ec8c['KeyValueDatabaseNameNotString'],_0x5e36e5(0x162));if(super(_0x1fccd5,_0x387ee1),this[_0x5e36e5(0x650)]=_0x1fccd5,this[_0x5e36e5(0x659)]=_0x4e40c1,this[_0x5e36e5(0x26a)]=_0x3674af,this[_0x5e36e5(0x3b2)]=_0x73cd12,this[_0x5e36e5(0x786)]=_0x5e36e5(0xaa5)+this['vendorId']+'ccc'+this[_0x5e36e5(0x659)]+'ccc'+this['label'],this['tableObserver']=_0x462089(),this['loggingCycle']=function(_0x3aadf2,_0x3136d2){const _0x2b8541=_0x5e36e5;if(!_0x241131[_0x2b8541(0x53e)](_0x3136d2))return _0x241131[_0x2b8541(0x6f7)](_0x2b8541(0x5f6)+_0x3136d2),{..._0x276eaa(_0x3aadf2,_0x3136d2),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x2b8541(0x55a),'dataReceived':_0x2b8541(0x55a)})};const {timingLogger:_0x5c169e,logger:_0x506b50}=_0x276eaa(_0x3aadf2,_0x3136d2);let _0x2313a2=0x0,_0x252d5e=0x0;return{'timingLogger':_0x5c169e,'logger':_0x506b50,'logDataSent':(_0x2dd87b,_0x22a573=!0x1)=>{const _0x30e8f2=_0x2b8541,_0x2d37f0=_0x2616c8(_0x2dd87b);return _0x22a573&&_0x241131[_0x30e8f2(0x2d3)](_0x3136d2,_0x30e8f2(0x49e),_0x3aadf2,_0x2d37f0),_0x2313a2+=_0x2d37f0,_0x2d37f0;},'logDataReceived':(_0x2e4748,_0x62c6e9=!0x1)=>{const _0x1b154c=_0x2b8541,_0x2b3fab=_0x2616c8(_0x2e4748);return _0x62c6e9&&_0x241131[_0x1b154c(0x2d3)](_0x3136d2,_0x1b154c(0x22e),_0x3aadf2,_0x2b3fab),_0x252d5e+=_0x2b3fab,_0x2b3fab;},'getDataLogged':()=>({'dataSent':_0x253ff0(_0x2313a2),'dataReceived':_0x253ff0(_0x252d5e)})};}(this[_0x5e36e5(0x19f)],_0xf47a5[_0x5e36e5(0x951)]),this[_0x5e36e5(0x3ef)]=new Promise(_0x269652=>{const _0x4e1f24=_0x5e36e5;this[_0x4e1f24(0x136)]=_0x269652;}),_0x319678 instanceof _0x97d116)this[_0x5e36e5(0x9bd)]=_0x319678[_0x5e36e5(0x8ad)]();else{const [_0x412bca,_0x2e7c50]=_0x97d116[_0x5e36e5(0x69b)](_0x319678);if(!_0x412bca)throw new _0x4ec9e4(_0x47ec8c[_0x5e36e5(0xb33)],_0x5e36e5(0x92b)+_0x2e7c50);this['layout']=structuredClone(_0x319678);}this[_0x5e36e5(0x1a8)](this['layout']),this['db']=new _0x49ce42(this[_0x5e36e5(0x786)],this[_0x5e36e5(0x9bd)]),this[_0x5e36e5(0x812)]();}async['answerContentAvailable'](_0xbea6c,_0x2dff7a){const _0x19520a=_0x5a8b1c;if(_0x241131['log'](_0xf47a5[_0x19520a(0x951)],_0x19520a(0x59f),this['label']),!this[_0x19520a(0x340)])throw new _0xdb384(_0xdb384[_0x19520a(0x549)][_0x19520a(0x3e1)]);if(await this['isSync'],await this['isNodeReady'](_0xbea6c),await this['mmr'][_0x19520a(0x8a3)]()===_0x2dff7a){const _0x4e75ca={'sourceId':this[_0x19520a(0x650)]['getId'](),'destinationIds':[_0xbea6c],'propagate':!0x0,'messageType':_0x9cb7d1['Content'],'content':{'type':_0xae157c[_0x19520a(0x49f)],'label':this[_0x19520a(0x19f)],'mmrRoot':_0x2dff7a}};return this[_0x19520a(0xa60)][_0x19520a(0xa71)](_0x4e75ca),void this[_0x19520a(0x625)][_0x19520a(0x590)](_0x4e75ca);}const _0x470b82=this['mmr']['getPeaks'](),_0x53f3a6={'sourceId':this['localNode'][_0x19520a(0x3dd)](),'destinationIds':[_0xbea6c],'propagate':!0x0,'messageType':_0x9cb7d1[_0x19520a(0x420)],'content':{'type':_0xae157c[_0x19520a(0x68d)],'label':this['label'],'peaks':_0x470b82}};this[_0x19520a(0xa60)]['logDataSent'](_0x53f3a6),this[_0x19520a(0x625)][_0x19520a(0x590)](_0x53f3a6);}async[_0x5a8b1c(0x78d)](_0xde9eb8,_0x386e49){const _0x314886=_0x5a8b1c,_0x148f13=await this[_0x314886(0x795)][_0x314886(0x8a3)](),_0x544256=_0x148f13===_0x386e49;if(_0x241131[_0x314886(0x2d3)](_0xf47a5[_0x314886(0x951)],_0x314886(0x9ac)+_0xde9eb8+_0x314886(0x619)+_0x544256,this[_0x314886(0x19f)]),_0x544256)return this[_0x314886(0x7d2)](),void this[_0x314886(0xa86)]();_0x241131['log'](_0xf47a5['KeyValueDatabase'],_0x314886(0x372),_0x148f13,_0x386e49),_0x241131[_0x314886(0x382)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this[_0x314886(0x650)][_0x314886(0x3dd)](),'nodeType':this['localNode'][_0x314886(0x2a5)],'remoteId':_0xde9eb8,'data':{'localMMRRoot':_0x148f13,'remoteMMRRoot':_0x386e49}});const _0x3e099c={'sourceId':this['localNode'][_0x314886(0x3dd)](),'messageType':_0x9cb7d1[_0x314886(0x420)],'propagate':!0x0,'content':{'type':_0xae157c[_0x314886(0x264)],'label':this[_0x314886(0x19f)],'mmrRoot':_0x148f13}};this[_0x314886(0x625)][_0x314886(0x590)](_0x3e099c);}async[_0x5a8b1c(0x90c)](_0x922591,_0x1fb702){const _0x402f76=_0x5a8b1c;if(_0x241131['log'](_0xf47a5[_0x402f76(0x951)],_0x402f76(0x29a),_0x922591,'label',this[_0x402f76(0x19f)],_0x402f76(0xb0f),_0x1fb702),this[_0x402f76(0x789)])return;this['contentRequestSent']=!0x0,this[_0x402f76(0x7d2)]();const {differingPeaks:_0x44499b,peaksMissingInLocal:_0xf0cad0,peaksMissingInRemote:_0x4b9447}=this[_0x402f76(0x795)][_0x402f76(0x7d3)](_0x1fb702);_0x241131[_0x402f76(0x2d3)](_0xf47a5['KeyValueDatabase'],_0x402f76(0x6b7),{'differingPeaks':_0x44499b,'peaksMissingInLocal':_0xf0cad0,'peaksMissingInRemote':_0x4b9447});const _0x58e2f3={'sourceId':this['localNode'][_0x402f76(0x3dd)](),'destinationIds':[_0x922591],'propagate':!0x0,'messageType':_0x9cb7d1[_0x402f76(0x420)],'content':{'type':_0xae157c[_0x402f76(0x258)],'label':this[_0x402f76(0x19f)],'peakHeights':_0xf0cad0[_0x402f76(0x3d5)](_0x4acfb3=>_0x4acfb3[_0x402f76(0x537)])[_0x402f76(0x876)](_0x44499b['map'](_0x3de686=>_0x3de686['height']))}};if(this[_0x402f76(0x625)][_0x402f76(0x590)](_0x58e2f3),_0x44499b[_0x402f76(0xa39)]>0x0||_0x4b9447['length']>0x0){const _0x1d8893=_0x4b9447[_0x402f76(0x3d5)](_0x489f73=>_0x489f73['height'])[_0x402f76(0x876)](_0x44499b[_0x402f76(0x3d5)](_0x3e3bb0=>_0x3e3bb0[_0x402f76(0x537)]));await this[_0x402f76(0x1f3)](_0x922591,_0x1d8893,!0x0);}}async['sendPeakTransactions'](_0xad67fa,_0x1920d5,_0x424ca4=!0x1){const _0x15306c=_0x5a8b1c;_0x241131[_0x15306c(0x2d3)](_0xf47a5[_0x15306c(0x951)],_0x15306c(0x1ea),this[_0x15306c(0x19f)]);const _0x16a78c=_0x1920d5[_0x15306c(0x3d5)](_0x35cf8d=>this['mmr']['getPeakNode'](_0x35cf8d))['filter'](Boolean);if(!_0x16a78c[_0x15306c(0xa39)]||_0x1920d5['length']!==_0x16a78c[_0x15306c(0xa39)])throw new _0xdb384(_0xdb384[_0x15306c(0x549)]['KeyValueDatabasePeakNotFound'],{'message':_0x15306c(0x577),'peakHeights':_0x1920d5,'peaks':_0x16a78c[_0x15306c(0x3d5)](_0x5b7537=>_0x5b7537['height']),'nodeId':_0xad67fa});const _0x24e0d8=[];for(const _0x1e896f of _0x16a78c)this[_0x15306c(0x950)](_0x1e896f,_0x24e0d8);const _0x1af2f7=_0x424ca4?void 0x0:[_0xad67fa],_0xb626f2={'sourceId':this[_0x15306c(0x650)][_0x15306c(0x3dd)](),'destinationIds':_0x1af2f7,'messageType':_0x9cb7d1['Content'],'propagate':!0x0,'content':{'type':_0xae157c[_0x15306c(0x529)],'label':this[_0x15306c(0x19f)],'transactions':_0x24e0d8}};this[_0x15306c(0xa60)][_0x15306c(0xa71)](_0xb626f2),this[_0x15306c(0x625)][_0x15306c(0x590)](_0xb626f2);}async[_0x5a8b1c(0x3c2)](_0x2a0ef9,_0x2dc1e6){const _0xd2f056=_0x5a8b1c;_0x241131[_0xd2f056(0x2d3)](_0xf47a5['KeyValueDatabase'],_0xd2f056(0x3fa)+_0x2dc1e6[_0xd2f056(0xa39)]+'\x20transactions\x20from\x20node\x20'+_0x2a0ef9+_0xd2f056(0xade)+this[_0xd2f056(0x19f)]);for(const _0x10510f of _0x2dc1e6){const _0x4493e4=await this[_0xd2f056(0x340)]['get'](_0x10510f['id']);if(!(_0x4493e4&&this[_0xd2f056(0x495)](_0x4493e4,_0x10510f)>=0x0)){if(_0x10510f['action']===_0x5d7974['Delete']){const [_0x233787,_0x5e894b]=_0x10510f['id'][_0xd2f056(0x8ed)]('::'),_0x36c8b7=this[_0xd2f056(0x9f6)](_0x233787);await _0x36c8b7[_0xd2f056(0x1cd)](_0x5e894b);}else this[_0xd2f056(0x35c)][_0xd2f056(0x3a9)](_0x10510f['id']);}}if(_0x241131[_0xd2f056(0x2d3)](_0xf47a5[_0xd2f056(0x951)],_0xd2f056(0x9e4)+this[_0xd2f056(0x35c)][_0xd2f056(0xa39)]+'\x20new\x20transactions',this[_0xd2f056(0x19f)]),this[_0xd2f056(0x35c)][_0xd2f056(0xa39)]>0x0){const _0x18cb53={'sourceId':this[_0xd2f056(0x650)][_0xd2f056(0x3dd)](),'destinationIds':[_0x2a0ef9],'messageType':_0x9cb7d1['Content'],'propagate':!0x0,'content':{'type':_0xae157c[_0xd2f056(0x6cb)],'label':this[_0xd2f056(0x19f)],'transactionIds':this['transactionsToSync']}};this[_0xd2f056(0xa60)]['logDataSent'](_0x18cb53),this[_0xd2f056(0x625)][_0xd2f056(0x590)](_0x18cb53);}}[_0x5a8b1c(0xb32)](){const _0x126e2c=_0x5a8b1c;this[_0x126e2c(0x812)]();}['getContentType'](){const _0x30178a=_0x5a8b1c;return _0x52baed['ContentType'][_0x30178a(0x951)];}[_0x5a8b1c(0x865)](){const _0x56fdf4=_0x5a8b1c;this['db'][_0x56fdf4(0x494)](),this[_0x56fdf4(0x6d6)]?.(),clearTimeout(this[_0x56fdf4(0x709)]),delete this['debounceStats'],super[_0x56fdf4(0x865)]();}[_0x5a8b1c(0x494)](){const _0x233eca=_0x5a8b1c;this['clearSyncTimeout'](),this[_0x233eca(0x625)][_0x233eca(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1['Content'],'content':{'type':_0xae157c[_0x233eca(0x3ff)],'label':this[_0x233eca(0x19f)]}});}[_0x5a8b1c(0x9f6)](_0x56525a){const _0x5e9449=_0x5a8b1c,_0x747e4c=this[_0x5e9449(0x59e)][_0x5e9449(0x8a4)](_0x56525a);if(_0x747e4c)return _0x747e4c;try{if(!this['db'][_0x5e9449(0x5d4)](_0x56525a))throw new _0x4ec9e4(_0x47ec8c[_0x5e9449(0x896)],'Table\x20not\x20found');const _0x479a3c=new _0x10adec(this['db'][_0x5e9449(0x9eb)](_0x56525a),_0x56525a,this[_0x5e9449(0xa91)]);return this[_0x5e9449(0x59e)]['set'](_0x56525a,_0x479a3c),{'get':_0x479a3c[_0x5e9449(0x8a4)]['bind'](_0x479a3c),'set':_0x479a3c[_0x5e9449(0x984)][_0x5e9449(0x901)](_0x479a3c),'add':_0x479a3c['add']['bind'](_0x479a3c),'delete':_0x479a3c[_0x5e9449(0x1cd)]['bind'](_0x479a3c),'clear':_0x479a3c[_0x5e9449(0x5a9)][_0x5e9449(0x901)](_0x479a3c),'list':_0x479a3c[_0x5e9449(0x24a)]['bind'](_0x479a3c),'count':_0x479a3c[_0x5e9449(0x8f1)][_0x5e9449(0x901)](_0x479a3c),'subscribe':_0x479a3c[_0x5e9449(0x19a)]['bind'](_0x479a3c),'unsubscribe':_0x479a3c[_0x5e9449(0xa68)][_0x5e9449(0x901)](_0x479a3c)};}catch(_0x33650b){if(_0x33650b instanceof _0x4ec9e4)throw _0x33650b;throw new _0x4ec9e4(_0x47ec8c[_0x5e9449(0x4a1)],'Database\x20not\x20open');}}[_0x5a8b1c(0x19a)](_0xf0e66e){const _0x487058=_0x5a8b1c;this[_0x487058(0x23a)]=this[_0x487058(0x15d)]['subscribe'](_0xf0e66e),this['isPromiseResolved'](this[_0x487058(0x3ef)])[_0x487058(0x947)](_0x2d3b4a=>{const _0x2538f4=_0x487058;_0x2d3b4a&&this[_0x2538f4(0x15d)][_0x2538f4(0x590)]({'event':_0x52baed[_0x2538f4(0x1cc)][_0x2538f4(0x204)]});});}[_0x5a8b1c(0xa68)](){const _0x476f3d=_0x5a8b1c;this[_0x476f3d(0x23a)]?.(),this[_0x476f3d(0x23a)]=void 0x0;}async[_0x5a8b1c(0x275)](){const _0x77a85f=_0x5a8b1c;_0x3496ca(_0xf47a5[_0x77a85f(0x951)],'Database\x20Opened');const _0xb24d14=[_0x52c269,_0x55324],_0x1d9dc3=[];try{await this['db'][_0x77a85f(0x275)]();const _0x3e57de=this['db'][_0x77a85f(0x9eb)](_0x55324),_0x2ca1f8=await _0x3e57de[_0x77a85f(0x24a)](),{id:_0x3d81cc,layout:_0xa38ad}=_0x2ca1f8[0x0]??{};if(_0xa38ad){for(const _0x351287 in _0xa38ad)_0xb24d14[_0x77a85f(0x595)](_0x351287)||this['db'][_0x77a85f(0x5d4)](_0x351287)||_0x1d9dc3[_0x77a85f(0x3a9)](_0x351287);await _0x3e57de[_0x77a85f(0x984)](_0x3d81cc,{'layout':this[_0x77a85f(0x9bd)]});}else await _0x3e57de[_0x77a85f(0x20c)]({'layout':this['layout']});}catch(_0x13da5c){throw new _0x4ec9e4(_0x47ec8c[_0x77a85f(0x4a1)],_0x13da5c[_0x77a85f(0x421)]||'Error\x20encountered\x20while\x20opening\x20database');}this['instantiateTransactionTable'](),await this['buildInitialMMR'](),this['setOnMessageHandler'](),this[_0x77a85f(0x7e6)](),_0x1d9dc3[_0x77a85f(0x775)](_0x559756=>this[_0x77a85f(0x99c)](_0x559756));}async[_0x5a8b1c(0x4df)](_0x345924,_0x574f4f=()=>{},_0x941653=!0x1){const _0x2dfe53=_0x5a8b1c;if(!_0x345924)return setTimeout(()=>{const _0xdf8f7b=a0_0x2316;this[_0xdf8f7b(0x7d2)](),this[_0xdf8f7b(0xa86)]();},0x0),!0x0;if(this[_0x2dfe53(0x789)]=!0x1,this['timeoutCallback']=_0x574f4f,this[_0x2dfe53(0x3c8)]=setTimeout(_0x574f4f,0x7d0),!this['systemTopic'])throw new _0xdb384(_0xdb384[_0x2dfe53(0x549)][_0x2dfe53(0x733)]);const _0x433aa0=await this[_0x2dfe53(0x795)][_0x2dfe53(0x8a3)](),_0x3607b3={'sourceId':this[_0x2dfe53(0x650)]['getId'](),'messageType':_0x9cb7d1[_0x2dfe53(0x420)],'propagate':_0x941653,'content':{'type':_0xae157c[_0x2dfe53(0x264)],'label':this[_0x2dfe53(0x19f)],'mmrRoot':_0x433aa0}};return this[_0x2dfe53(0xa60)]['logDataSent'](_0x3607b3),this[_0x2dfe53(0x625)][_0x2dfe53(0x590)](_0x3607b3),this[_0x2dfe53(0x3ef)];}async[_0x5a8b1c(0xaf3)](_0x1d6bd2,_0xa05f4e){const _0x42cc18=_0x5a8b1c;if(_0x241131['log'](_0xf47a5[_0x42cc18(0x951)],_0x42cc18(0x781)+_0xa05f4e[_0x42cc18(0xa39)],this[_0x42cc18(0x19f)]),!this['transactionTable'])throw new _0xdb384(_0xdb384[_0x42cc18(0x549)][_0x42cc18(0x3e1)]);for(const _0x1b1e88 of _0xa05f4e){const _0x1652d0=await this['transactionTable'][_0x42cc18(0x8a4)](_0x1b1e88);if(!_0x1652d0)continue;const [_0xa6163d,_0x27ef0f]=_0x1b1e88[_0x42cc18(0x8ed)]('::'),_0x497ca5=this[_0x42cc18(0x9f6)](_0xa6163d),_0x10f26d=await _0x497ca5[_0x42cc18(0x8a4)](_0x27ef0f);_0x10f26d?(_0x1652d0[_0x42cc18(0x270)]=_0x10f26d,this[_0x42cc18(0x28e)](_0x1652d0,[_0x1d6bd2])):_0x241131[_0x42cc18(0x382)](_0x42cc18(0x8c8),{'nodeId':this[_0x42cc18(0x650)][_0x42cc18(0x3dd)](),'nodeType':this[_0x42cc18(0x650)]['type'],'remoteId':_0x1d6bd2,'data':{'tableKeys':Object[_0x42cc18(0x7f4)](this['tables']),'transactionId':_0x1b1e88,'transactions':this[_0x42cc18(0x35c)],'tableName':_0xa6163d,'key':_0x27ef0f}});}}async[_0x5a8b1c(0x882)](_0x4cfee3){const _0xd68294=_0x5a8b1c;if(!this['transactionTable'])throw new _0xdb384(_0xdb384[_0xd68294(0x549)][_0xd68294(0x3e1)]);const _0x100fa0=await this['mmr'][_0xd68294(0x9b3)](_0x4cfee3),_0x66c6f5=this['transactionHashMap'][_0xd68294(0x8a4)](_0x100fa0);if(_0x66c6f5&&this[_0xd68294(0x495)](_0x4cfee3,_0x66c6f5)<=0x0)return void _0x241131[_0xd68294(0x2d3)](_0xf47a5[_0xd68294(0x951)],_0xd68294(0x38f),_0x4cfee3);const _0x2e04e4={..._0x4cfee3};return delete _0x2e04e4[_0xd68294(0x270)],this[_0xd68294(0x6e6)](_0x2e04e4),await this['transactionTable'][_0xd68294(0x984)](_0x4cfee3['id'],_0x2e04e4),_0x4cfee3;}[_0x5a8b1c(0x495)](_0x1dafcc,_0x22e9f2){const _0x19f80f=_0x5a8b1c;return _0x1dafcc['timestamp']!==_0x22e9f2[_0x19f80f(0xad0)]?_0x1dafcc[_0x19f80f(0xad0)]-_0x22e9f2[_0x19f80f(0xad0)]:_0x1dafcc[_0x19f80f(0x2bf)]-_0x22e9f2['priority'];}async[_0x5a8b1c(0x2c5)](_0x372ef7){const _0x4a783d=_0x5a8b1c;if(!this[_0x4a783d(0x340)])throw new _0xdb384(_0xdb384[_0x4a783d(0x549)][_0x4a783d(0x3e1)]);const _0x2b2edf=_0x372ef7['tableName']+'::'+_0x372ef7[_0x4a783d(0x8c1)],_0x1e48f3=await _0x1b7d72[_0x4a783d(0x9ba)](),_0x200bd0={'id':_0x2b2edf,'priority':Math[_0x4a783d(0x59c)](),'timestamp':_0x1e48f3,'action':_0x372ef7[_0x4a783d(0x866)]};if(await this[_0x4a783d(0x882)](_0x200bd0))return _0x200bd0;}async['deleteTransactionsForTable'](_0x3cbd11){const _0x2ab84e=_0x5a8b1c;if(!this[_0x2ab84e(0x340)])throw new _0xdb384(_0xdb384[_0x2ab84e(0x549)][_0x2ab84e(0x3e1)]);const _0x501bab=_0x538ebc[_0x2ab84e(0x960)]('id')[_0x2ab84e(0x8f6)]('between',[_0x3cbd11+'::',_0x3cbd11+_0x2ab84e(0x697)]),_0x59c885=await this[_0x2ab84e(0x340)][_0x2ab84e(0x24a)](_0x501bab[_0x2ab84e(0x862)]());for(const _0x367c8e of _0x59c885)await this[_0x2ab84e(0x340)][_0x2ab84e(0x1cd)](_0x367c8e['id']);}['setOnMessageHandler'](){const _0x1de4a0=_0x5a8b1c;this[_0x1de4a0(0x756)](async(_0xeb9cc8,_0x4e9834)=>{const _0x475619=_0x1de4a0;if(_0x4e9834 instanceof File)return;if(this['loggingCycle']['logDataReceived'](_0x4e9834),!await this[_0x475619(0x882)](_0x4e9834))return void this[_0x475619(0x774)](_0xeb9cc8,_0x4e9834);if(!_0x4e9834['value'])throw new _0xdb384(_0xdb384['codes'][_0x475619(0x88b)]);const [_0x554f33,_0x68532b]=_0x4e9834['id'][_0x475619(0x8ed)]('::'),_0x3ea7ab=this['getTable'](_0x554f33);if(!_0x3ea7ab)throw new _0xdb384(_0xdb384[_0x475619(0x549)][_0x475619(0x99d)],{'table':_0x3ea7ab});let _0x3bd427=0x0;switch(_0x4e9834[_0x475619(0x866)]){case _0x5d7974[_0x475619(0x283)]:case _0x5d7974['Update']:{const _0x408398=_0x3ea7ab[_0x475619(0x984)](_0x68532b,_0x4e9834[_0x475619(0x270)],!0x1);_0x3bd427=JSON[_0x475619(0x2ed)](_0x4e9834[_0x475619(0x270)])[_0x475619(0xa39)],this[_0x475619(0x35c)][_0x475619(0x595)](_0x4e9834['id'])&&this[_0x475619(0x5bf)]['push'](_0x408398);break;}case _0x5d7974[_0x475619(0xb3e)]:{const _0x44ca27=_0x3ea7ab[_0x475619(0x1cd)](_0x68532b,!0x1);this['transactionsToSync'][_0x475619(0x595)](_0x4e9834['id'])&&this['syncTransactionsWritten'][_0x475619(0x3a9)](_0x44ca27);break;}}_0x241131[_0x475619(0xa29)](_0x261e7f[_0x475619(0x951)],{'type':_0x475619(0x4df),'label':this[_0x475619(0x19f)],'nodeId':this[_0x475619(0x650)]['getId'](),'nodeType':this[_0x475619(0x650)][_0x475619(0x2a5)],'clusterId':this[_0x475619(0x659)],'tableName':_0x554f33,'key':_0x68532b,'size':_0x3bd427}),this[_0x475619(0x774)](_0xeb9cc8,_0x4e9834);});}['setOnTableWriteHandler'](){const _0x597ecd=_0x5a8b1c;this[_0x597ecd(0x6d6)]=this[_0x597ecd(0xa91)][_0x597ecd(0x19a)](async _0x1a52e2=>{const _0x4ecdea=_0x597ecd;let _0x253a8b=0x0;switch(_0x1a52e2[_0x4ecdea(0x866)]){case _0x5d7974[_0x4ecdea(0x283)]:case _0x5d7974[_0x4ecdea(0xafa)]:case _0x5d7974['Delete']:{const _0x250ab2=await this[_0x4ecdea(0x2c5)](_0x1a52e2);if(!_0x250ab2)return;_0x250ab2[_0x4ecdea(0x270)]=_0x1a52e2['value'],this['send'](_0x250ab2),_0x253a8b=JSON[_0x4ecdea(0x2ed)](_0x1a52e2['value'])[_0x4ecdea(0xa39)],this[_0x4ecdea(0x673)]+=0x1;break;}case _0x2e66ff[_0x4ecdea(0x9da)]:case _0x2e66ff[_0x4ecdea(0x983)]:case _0x2e66ff[_0x4ecdea(0x1b6)]:this[_0x4ecdea(0x342)]+=0x1;}_0x241131['logServiceEvent'](_0x261e7f[_0x4ecdea(0x951)],{'type':_0x1a52e2[_0x4ecdea(0x866)],'label':this[_0x4ecdea(0x19f)],'nodeId':this['localNode'][_0x4ecdea(0x3dd)](),'nodeType':this[_0x4ecdea(0x650)][_0x4ecdea(0x2a5)],'clusterId':this[_0x4ecdea(0x659)],'tableName':_0x1a52e2[_0x4ecdea(0x849)],'key':_0x1a52e2[_0x4ecdea(0x8c1)],'size':_0x253a8b}),this['sendStats']();});}[_0x5a8b1c(0x2a0)](){const _0x1771c0=_0x5a8b1c;this['db']&&(this[_0x1771c0(0x340)]||(this[_0x1771c0(0x340)]=this['db'][_0x1771c0(0x9eb)](_0x52c269)));}[_0x5a8b1c(0x7d2)](){const _0x161c5e=_0x5a8b1c;this[_0x161c5e(0x3c8)]&&(clearTimeout(this[_0x161c5e(0x3c8)]),delete this['syncTimeout']);}async[_0x5a8b1c(0xa86)](){const _0x2603da=_0x5a8b1c;await this[_0x2603da(0x795)]['ready'],this['logSyncMetrics'](),this[_0x2603da(0x15d)][_0x2603da(0x590)]({'event':_0x52baed['DatabaseEvent'][_0x2603da(0x204)]}),this[_0x2603da(0x136)]?.(!0x0),delete this[_0x2603da(0x136)],this[_0x2603da(0x812)](),_0x241131[_0x2603da(0x2d3)](_0xf47a5[_0x2603da(0x951)],_0x2603da(0x6c3),this['label']);}async[_0x5a8b1c(0x88a)](_0x472e54){const _0x46b3f9=_0x5a8b1c;await Promise[_0x46b3f9(0x139)](this[_0x46b3f9(0x5bf)]),_0x241131[_0x46b3f9(0x2d3)](_0xf47a5[_0x46b3f9(0x951)],_0x46b3f9(0x313)+this[_0x46b3f9(0x5bf)][_0x46b3f9(0xa39)]+'\x20writes\x20from\x20'+_0x472e54+_0x46b3f9(0xa88),this[_0x46b3f9(0x19f)]),await this['mmr']['ready'],await this[_0x46b3f9(0x9c5)](_0x472e54),await this[_0x46b3f9(0xa86)]();}['checkSyncComplete'](_0x3243cd,_0x2f4790){const _0x3142b1=_0x5a8b1c;this[_0x3142b1(0x35c)][_0x3142b1(0x595)](_0x2f4790['id'])&&(this['clearSyncTimeout'](),this[_0x3142b1(0x35c)]=this['transactionsToSync'][_0x3142b1(0x930)](_0x1f8516=>_0x1f8516!==_0x2f4790['id']),0x0!==this[_0x3142b1(0x35c)][_0x3142b1(0xa39)]?this['syncTimeout']=setTimeout(this[_0x3142b1(0x53f)],0x7d0):this[_0x3142b1(0x88a)](_0x3243cd));}[_0x5a8b1c(0x812)](){const _0x4db56e=_0x5a8b1c;this[_0x4db56e(0x709)]&&clearTimeout(this[_0x4db56e(0x709)]),this['debounceStats']=setTimeout(async()=>{const _0xfa73f7=_0x4db56e;delete this[_0xfa73f7(0x709)];let _0x900c73=0x0;for(const _0x4920d8 of this[_0xfa73f7(0x59e)][_0xfa73f7(0x4c2)]())_0x900c73+=await _0x4920d8['calculateSize']();this['systemTopic'][_0xfa73f7(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0xfa73f7(0x420)],'content':{'type':_0xae157c[_0xfa73f7(0x285)],'label':this[_0xfa73f7(0x19f)],'stats':{'timestamp':Date[_0xfa73f7(0x744)](),'storage':_0x900c73,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this[_0xfa73f7(0x673)],'reads':this[_0xfa73f7(0x342)],'prompts':0x0,'tokens':0x0}}}),_0x241131['logStorage'](_0x261e7f[_0xfa73f7(0x951)],_0xfa73f7(0xaa5)+this[_0xfa73f7(0x659)]+_0xfa73f7(0xaa5)+this[_0xfa73f7(0x19f)],_0x900c73);},_0x291af8);}[_0x5a8b1c(0x1a8)](_0x3d4681){const _0x10c6a2=_0x5a8b1c;if(_0x3d4681[_0x10c6a2(0x59e)][_0x52c269])throw new _0x4ec9e4(_0x47ec8c[_0x10c6a2(0x23d)],_0x10c6a2(0x27a)+_0x52c269+'\x27\x20reserved');if(_0x3d4681[_0x10c6a2(0x59e)][_0x55324])throw new _0x4ec9e4(_0x47ec8c['KeyValueDatabaseTableNameReserved'],_0x10c6a2(0x27a)+_0x55324+_0x10c6a2(0x24b));_0x3d4681['tables'][_0x52c269]={'indexes':[]},_0x3d4681[_0x10c6a2(0x59e)][_0x55324]={'indexes':[]};}async[_0x5a8b1c(0x52f)](_0x110b6d){const _0x25a9dd=_0x5a8b1c;return Promise[_0x25a9dd(0xb19)]([_0x110b6d,Promise[_0x25a9dd(0x618)](_0x25a9dd(0x2ac))])[_0x25a9dd(0x947)](_0x3cad78=>_0x25a9dd(0x2ac)!==_0x3cad78);}async[_0x5a8b1c(0x9c5)](_0x4ef925){const _0x2ac424=_0x5a8b1c;await this[_0x2ac424(0x8cb)]();const _0x320e5d=await this[_0x2ac424(0x795)][_0x2ac424(0x8a3)](),_0x15a094={'sourceId':this['localNode'][_0x2ac424(0x3dd)](),'destinationIds':[_0x4ef925],'propagate':!0x0,'messageType':_0x9cb7d1[_0x2ac424(0x420)],'content':{'type':_0xae157c['KeyValueDatabaseContentSynchronized'],'label':this['label'],'mmrRoot':_0x320e5d}};this['systemTopic'][_0x2ac424(0x590)](_0x15a094);}async[_0x5a8b1c(0x563)](){const _0x28da26=_0x5a8b1c;if(!this[_0x28da26(0x340)])throw new _0xdb384(_0xdb384[_0x28da26(0x549)][_0x28da26(0x3e1)]);this[_0x28da26(0x54f)]=await this[_0x28da26(0x340)][_0x28da26(0x24a)](),this[_0x28da26(0x54f)][_0x28da26(0x7e3)](this[_0x28da26(0x495)]),this[_0x28da26(0x795)]=new _0x433656(),this[_0x28da26(0xae4)]=new Map();for(const _0x18304a of this['transactions'])this[_0x28da26(0x63d)](_0x18304a,this['transactions'][_0x28da26(0xa39)]);this[_0x28da26(0x29b)]();}async[_0x5a8b1c(0x63d)](_0x39a87c,_0x41f61b){const _0x3cc934=_0x5a8b1c,_0x5ed23b={..._0x39a87c};delete _0x5ed23b[_0x3cc934(0x270)],await this[_0x3cc934(0x795)]['appendTransaction'](_0x5ed23b,_0x41f61b);const _0x4db278=await this[_0x3cc934(0x795)][_0x3cc934(0x9b3)](_0x5ed23b);this['transactionHashMap'][_0x3cc934(0x984)](_0x4db278,_0x39a87c);}['getTransactionByHash'](_0x859c60){const _0x5a8c8f=_0x5a8b1c;return this[_0x5a8c8f(0xae4)]['get'](_0x859c60);}['collectTransactionsFromNode'](_0x252164,_0x1c3d75){const _0x6c65e9=_0x5a8b1c;if(0x0!==_0x252164[_0x6c65e9(0x537)])_0x252164[_0x6c65e9(0x902)]&&this[_0x6c65e9(0x950)](_0x252164[_0x6c65e9(0x902)],_0x1c3d75),_0x252164[_0x6c65e9(0xabf)]&&this['collectTransactionsFromNode'](_0x252164[_0x6c65e9(0xabf)],_0x1c3d75);else{const _0x56467a=this[_0x6c65e9(0x656)](_0x252164[_0x6c65e9(0x214)]);_0x56467a&&_0x1c3d75[_0x6c65e9(0x3a9)](_0x56467a);}}async[_0x5a8b1c(0x227)](){const _0x349259=_0x5a8b1c;this[_0x349259(0x4c4)]&&(clearTimeout(this[_0x349259(0x4c4)]),delete this[_0x349259(0x4c4)],this[_0x349259(0x6fb)][_0x349259(0xa39)]>0x0&&(this[_0x349259(0x54f)][_0x349259(0x3a9)](...this[_0x349259(0x6fb)][_0x349259(0x7e3)](this['compareTransactions'])),this['transactionsToAppend']=[]));const _0x51aa0c=this[_0x349259(0xad7)]();this[_0x349259(0x795)]=new _0x433656(),this['transactionHashMap'][_0x349259(0x5a9)](),this[_0x349259(0x54f)][_0x349259(0x7e3)](this[_0x349259(0x495)]);for(const _0x142842 of this[_0x349259(0x54f)])this['appendTransactionAndUpdateHashMap'](_0x142842,this[_0x349259(0x54f)][_0x349259(0xa39)]);await this['mmr'][_0x349259(0x8e4)],this['logMMRRebuild'](_0x51aa0c);}[_0x5a8b1c(0xad7)](){const _0x2149d1=_0x5a8b1c;return this[_0x2149d1(0xa60)]['logger']['performCalculation'](async()=>{const _0x256461=_0x2149d1,_0x50dfd3=await this[_0x256461(0x795)]['getRoot']();return{'startTime':Date[_0x256461(0x744)](),'initialRoot':_0x50dfd3};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async['logMMRRebuild'](_0x47bd34){const _0x14d7ce=_0x5a8b1c;try{const {startTime:_0x35d006,initialRoot:_0x341f14}=await _0x47bd34,_0x2bd228=await this[_0x14d7ce(0x795)]['getRoot'](),_0x4b6a3c=[_0x14d7ce(0x6ea)+(_0x341f14!==_0x2bd228),_0x14d7ce(0x5f4)+_0x341f14,_0x14d7ce(0xa28)+_0x2bd228,_0x14d7ce(0x21b)+this[_0x14d7ce(0x795)][_0x14d7ce(0x3b7)](),'\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20'+(Date[_0x14d7ce(0x744)]()-_0x35d006)+_0x14d7ce(0x9ec)]['join']('\x20');this[_0x14d7ce(0xa60)][_0x14d7ce(0x88e)]['log']('',()=>_0x4b6a3c);}catch(_0x3b1a08){console[_0x14d7ce(0x5fb)]('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x3b1a08);}}[_0x5a8b1c(0x6e6)](_0x1db1db){const _0x1b753a=_0x5a8b1c;this[_0x1b753a(0x6fb)]['push'](_0x1db1db),this[_0x1b753a(0x4c4)]&&(clearTimeout(this[_0x1b753a(0x4c4)]),delete this[_0x1b753a(0x4c4)]),this[_0x1b753a(0x4c4)]=setTimeout(()=>{const _0x5602d4=_0x1b753a;this[_0x5602d4(0x8cb)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x5e6f70=_0x5a8b1c;if(this['debounceRebuildMMR']&&(clearTimeout(this[_0x5e6f70(0x4c4)]),delete this['debounceRebuildMMR']),0x0!==this[_0x5e6f70(0x6fb)][_0x5e6f70(0xa39)]){if(0x0===this[_0x5e6f70(0x54f)]['length'])return this['transactions']=this[_0x5e6f70(0x6fb)],this[_0x5e6f70(0x6fb)]=[],await this[_0x5e6f70(0x227)]();if(this[_0x5e6f70(0x6fb)][_0x5e6f70(0x7e3)](this[_0x5e6f70(0x495)]),this['compareTransactions'](this[_0x5e6f70(0x6fb)][0x0],this[_0x5e6f70(0x54f)][this[_0x5e6f70(0x54f)][_0x5e6f70(0xa39)]-0x1])>0x0){this[_0x5e6f70(0xa60)][_0x5e6f70(0x88e)]['log'](_0x5e6f70(0x2a1)+this[_0x5e6f70(0x6fb)][_0x5e6f70(0xa39)]+',\x20Transactions:\x20'+this['transactions'][_0x5e6f70(0xa39)]);for(const _0x533a6 of this[_0x5e6f70(0x6fb)])this['transactions'][_0x5e6f70(0x3a9)](_0x533a6),this[_0x5e6f70(0x63d)](_0x533a6,this[_0x5e6f70(0x6fb)][_0x5e6f70(0xa39)]);return this[_0x5e6f70(0x6fb)]=[],void this[_0x5e6f70(0xa60)]['logger']['log'](_0x5e6f70(0x2ae),async()=>'New\x20MMR\x20Root:\x20'+await this[_0x5e6f70(0x795)]['getRoot']()+_0x5e6f70(0x451)+this['mmr']['getTotalNodes']());}this['loggingCycle'][_0x5e6f70(0x88e)][_0x5e6f70(0x2d3)](_0x5e6f70(0x5c1)+this[_0x5e6f70(0x6fb)][_0x5e6f70(0xa39)]+',\x20Transactions:\x20'+this[_0x5e6f70(0x54f)][_0x5e6f70(0xa39)]),this['transactions'][_0x5e6f70(0x3a9)](...this[_0x5e6f70(0x6fb)]),this[_0x5e6f70(0x6fb)]=[],this['rebuildMMR']();}}async[_0x5a8b1c(0x14a)](){const _0x21569a=_0x5a8b1c;if(!_0x241131[_0x21569a(0x53e)](_0xf47a5[_0x21569a(0x951)]))return;await this[_0x21569a(0x795)][_0x21569a(0x8e4)];const {dataSent:_0x521752,dataReceived:_0x463799}=this[_0x21569a(0xa60)][_0x21569a(0xa6f)]();_0x241131['log'](_0xf47a5[_0x21569a(0x951)],'Key-Value\x20Database\x20-\x20Sync\x20Completed',this['label'],_0x21569a(0x90f)+_0x521752,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x463799,_0x21569a(0x5a8),await this['mmr'][_0x21569a(0x8a3)](),_0x21569a(0x712),this[_0x21569a(0x795)]['getTotalNodes']());}async[_0x5a8b1c(0x29b)](){const _0x95a1fe=_0x5a8b1c;if(!_0x241131['isChannelEnabled'](_0xf47a5[_0x95a1fe(0x951)]))return;const _0x53c1ae=this[_0x95a1fe(0x795)]['getPeaks'](),_0x3ed137=_0x53c1ae[_0x95a1fe(0x3d5)](_0x58192d=>_0x58192d['height']),_0x3165ad=await this['mmr'][_0x95a1fe(0x8a3)]();_0x241131[_0x95a1fe(0x2d3)](_0xf47a5[_0x95a1fe(0x951)],_0x95a1fe(0x387),this[_0x95a1fe(0x54f)][_0x95a1fe(0xa39)],_0x95a1fe(0x54f),this['mmr'][_0x95a1fe(0x3b7)](),_0x95a1fe(0xa37),_0x53c1ae[_0x95a1fe(0xa39)],_0x95a1fe(0xb0f),_0x3ed137,_0x95a1fe(0x939),_0x3165ad);}}const _0x3e73b4=require('@crewdle/mist-connector-opfs'),_0x5a54fa=require('@crewdle/mist-connector-indexed-db'),_0x3bb4fb=require('@crewdle/mist-connector-webrtc-browser'),_0x30abe4=0x10000000;var _0x2ec1fb,_0x21fa51,_0x5e1ebe,_0x6b5ab7,_0x5b239a,_0xba42b7,_0x22f6a1,_0x411a87,_0x3079f8;!function(_0x399fcc){const _0x3b12ec=_0x5a8b1c;_0x399fcc[_0x3b12ec(0x4d5)]=_0x3b12ec(0x4d5),_0x399fcc[_0x3b12ec(0x200)]=_0x3b12ec(0x200),_0x399fcc[_0x3b12ec(0x279)]=_0x3b12ec(0x279),_0x399fcc[_0x3b12ec(0x1b2)]=_0x3b12ec(0x1b2),_0x399fcc[_0x3b12ec(0x74b)]=_0x3b12ec(0x74b),_0x399fcc[_0x3b12ec(0x161)]=_0x3b12ec(0x161),_0x399fcc[_0x3b12ec(0x187)]='Recording',_0x399fcc['ScreenSharing']=_0x3b12ec(0x470),_0x399fcc[_0x3b12ec(0x1c2)]='WebGL',_0x399fcc[_0x3b12ec(0x150)]=_0x3b12ec(0x150);}(_0x2ec1fb||(_0x2ec1fb={}));class _0x120347{[_0x5a8b1c(0x16a)];['bufferedEvents'];[_0x5a8b1c(0x919)];constructor(_0xe960a5=new Map(),_0x5461f9=new Map(),_0x510ab0=new EventTarget()){const _0x16d2db=_0x5a8b1c;this['registeredListeners']=_0xe960a5,this[_0x16d2db(0x7c1)]=_0x5461f9,this[_0x16d2db(0x919)]=_0x510ab0;}['emit']=(_0x5bcf4e,_0x2980e8)=>this[_0x5a8b1c(0x16a)][_0x5a8b1c(0x149)](_0x5bcf4e)?(_0x241131[_0x5a8b1c(0x2d3)](_0xf47a5['Events'],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x5bcf4e,'data':_0x2980e8}),this[_0x5a8b1c(0x919)][_0x5a8b1c(0x244)](new CustomEvent(_0x5bcf4e,{'detail':_0x2980e8})),!0x0):(this[_0x5a8b1c(0x605)](_0x5bcf4e,_0x2980e8),!0x1);['on']=(_0x1970a2,_0x3429ba)=>{const _0xea47ea=_0x5a8b1c,_0x13efaf=_0x2f7cfd=>{const _0x554d94=a0_0x2316;_0x241131[_0x554d94(0x2d3)](_0xf47a5[_0x554d94(0x484)],_0x554d94(0x91e),_0x2f7cfd[_0x554d94(0x2a5)],_0x2f7cfd[_0x554d94(0x23b)]),_0x3429ba(_0x2f7cfd[_0x554d94(0x23b)]);};return this[_0xea47ea(0x16a)]['set'](_0x1970a2,_0x13efaf),this['eventTarget'][_0xea47ea(0x36e)](_0x1970a2,_0x13efaf),_0x241131[_0xea47ea(0x2d3)](_0xf47a5[_0xea47ea(0x81f)],_0xea47ea(0x58a),_0x1970a2,_0x3429ba),this[_0xea47ea(0xa7e)](_0x1970a2),this;};[_0x5a8b1c(0xb14)](_0x29f77d){const _0xf603f1=_0x5a8b1c;if(!_0x29f77d)return this['registeredListeners'][_0xf603f1(0x775)]((_0x287661,_0x42ab9a)=>{const _0x2e0ed7=_0xf603f1;this[_0x2e0ed7(0x919)]['removeEventListener'](_0x42ab9a,_0x287661);}),void this['registeredListeners'][_0xf603f1(0x5a9)]();'string'==typeof _0x29f77d&&this[_0xf603f1(0xa59)](_0x29f77d),Array[_0xf603f1(0x83f)](_0x29f77d)&&_0x29f77d[_0xf603f1(0x775)](_0x5c4038=>{this['removeListener'](_0x5c4038);});}[_0x5a8b1c(0xa59)](_0x5930ed){const _0x2798dd=_0x5a8b1c,_0x4726fe=this['registeredListeners']['get'](_0x5930ed);_0x4726fe&&(this[_0x2798dd(0x919)][_0x2798dd(0x7d5)](_0x5930ed,_0x4726fe),this[_0x2798dd(0x16a)][_0x2798dd(0x1cd)](_0x5930ed));}[_0x5a8b1c(0x605)](_0x4f84fd,_0x405206){const _0x4c0365=_0x5a8b1c;_0x241131[_0x4c0365(0x2d3)](_0xf47a5[_0x4c0365(0x484)],_0x4c0365(0x55b),{'event':_0x4f84fd,'data':_0x405206});const _0x1a77d0=this['bufferedEvents'][_0x4c0365(0x8a4)](_0x4f84fd)||[];this[_0x4c0365(0x7c1)][_0x4c0365(0x984)](_0x4f84fd,[..._0x1a77d0,_0x405206]);}['consumeBufferedEvents'](_0xc186aa){const _0x362384=_0x5a8b1c,_0x1de44b=this[_0x362384(0x7c1)]['get'](_0xc186aa);_0x1de44b&&(_0x1de44b['forEach'](_0x3966ef=>{const _0x238b9d=_0x362384;_0x241131[_0x238b9d(0x2d3)](_0xf47a5[_0x238b9d(0x484)],_0x238b9d(0x2e3),{'event':_0xc186aa,'data':_0x3966ef}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0xc186aa,{'detail':_0x3966ef}));}),this[_0x362384(0x7c1)][_0x362384(0x1cd)](_0xc186aa));}}class _0x181159 extends Error{constructor(_0x17485b){const _0x37fe0e=_0x5a8b1c;super(_0x37fe0e(0x61e)+_0x17485b);}}!function(_0x333ddd){const _0x5a30a0=_0x5a8b1c;_0x333ddd[_0x333ddd['Core']=0x0]=_0x5a30a0(0x2d1),_0x333ddd[_0x333ddd[_0x5a30a0(0x83d)]=0x1]=_0x5a30a0(0x83d);}(_0x21fa51||(_0x21fa51={})),function(_0xab33f4){const _0x2ea0a3=_0x5a8b1c;_0xab33f4[_0xab33f4[_0x2ea0a3(0x403)]=0x0]=_0x2ea0a3(0x403),_0xab33f4[_0xab33f4['Answer']=0x1]=_0x2ea0a3(0x3be),_0xab33f4[_0xab33f4[_0x2ea0a3(0x43c)]=0x2]=_0x2ea0a3(0x43c),_0xab33f4[_0xab33f4[_0x2ea0a3(0x635)]=0x3]=_0x2ea0a3(0x635),_0xab33f4[_0xab33f4[_0x2ea0a3(0x3c3)]=0x4]=_0x2ea0a3(0x3c3),_0xab33f4[_0xab33f4[_0x2ea0a3(0x7b4)]=0x5]=_0x2ea0a3(0x7b4),_0xab33f4[_0xab33f4[_0x2ea0a3(0x51d)]=0x6]=_0x2ea0a3(0x51d),_0xab33f4[_0xab33f4[_0x2ea0a3(0x85a)]=0x7]=_0x2ea0a3(0x85a),_0xab33f4[_0xab33f4[_0x2ea0a3(0x662)]=0x8]=_0x2ea0a3(0x662);}(_0x5e1ebe||(_0x5e1ebe={})),function(_0x1b3da7){const _0x57be33=_0x5a8b1c;_0x1b3da7[_0x1b3da7['Sender']=0x0]=_0x57be33(0x1d7),_0x1b3da7[_0x1b3da7['Receiver']=0x1]=_0x57be33(0x8e7);}(_0x6b5ab7||(_0x6b5ab7={})),function(_0x469c27){const _0xe2bfec=_0x5a8b1c;_0x469c27[_0xe2bfec(0x161)]=_0xe2bfec(0x467);}(_0x5b239a||(_0x5b239a={})),function(_0x447802){const _0x4112c8=_0x5a8b1c;_0x447802[_0x447802[_0x4112c8(0x8dd)]=0x0]=_0x4112c8(0x8dd),_0x447802[_0x447802[_0x4112c8(0xa97)]=0x1]=_0x4112c8(0xa97),_0x447802[_0x447802[_0x4112c8(0x3fb)]=0x2]=_0x4112c8(0x3fb),_0x447802[_0x447802['NodeLeave']=0x3]=_0x4112c8(0x4b2);}(_0xba42b7||(_0xba42b7={})),function(_0x2f20d6){const _0x3f8a90=_0x5a8b1c;_0x2f20d6[_0x2f20d6[_0x3f8a90(0x3e9)]=0x0]=_0x3f8a90(0x3e9),_0x2f20d6[_0x2f20d6['RemoteRemediation']=0x1]=_0x3f8a90(0x6a3);}(_0x22f6a1||(_0x22f6a1={})),function(_0x4b0297){const _0x5627a7=_0x5a8b1c;_0x4b0297['Upgrade']=_0x5627a7(0x5f9),_0x4b0297[_0x5627a7(0x8db)]='downgrade';}(_0x411a87||(_0x411a87={})),function(_0xee10d1){const _0x2d8c7e=_0x5a8b1c;_0xee10d1[_0x2d8c7e(0xa38)]=_0x2d8c7e(0x31e),_0xee10d1[_0x2d8c7e(0x7e9)]=_0x2d8c7e(0x822);}(_0x3079f8||(_0x3079f8={}));const _0xc50e27=require('aws-amplify'),_0x1747a7=require('aws-amplify/utils'),_0x3895a0=require('@aws-amplify/api'),_0x4f0900=require('@aws-amplify/core');class _0x26d866{['clusterId'];[_0x5a8b1c(0x650)];['remoteId'];constructor(_0x415701,_0x1e4da4,_0x26d237){const _0x5e9df1=_0x5a8b1c;this[_0x5e9df1(0x659)]=_0x415701,this[_0x5e9df1(0x650)]=_0x1e4da4,this[_0x5e9df1(0x1e1)]=_0x26d237;}['getLocalId'](){const _0x208967=_0x5a8b1c;return this[_0x208967(0x650)][_0x208967(0x3dd)]();}['getRemoteId'](){const _0x2767b6=_0x5a8b1c;return this[_0x2767b6(0x1e1)];}}var _0x42e207,_0x1ba924,_0x4a37a5;function _0x2b6706(_0x2ddb67,_0xc143b0){const _0x720bb8=_0x5a8b1c;return _0x2ddb67[_0x720bb8(0x2fb)]===_0xc143b0;}function _0x5bf992(_0x444309,_0x5f2b4a){const _0x490908=_0x5a8b1c;return _0x444309[_0x490908(0x4e9)]?.[_0x490908(0x595)](_0x5f2b4a)??function(_0x3174ae){const _0x26f7b3=_0x490908;return void 0x0===_0x3174ae[_0x26f7b3(0x4e9)];}(_0x444309);}function _0x4edddb(_0x1d9d0,{contentType:_0x433953,label:_0x302f1e,remoteId:_0x122660}){return _0x1d9d0+'-'+_0x433953+'-'+_0x302f1e+'-'+_0x122660;}function _0xc3bbef(_0x341bde,_0xbe582a,_0xdc5502){return''+_0x341bde+_0xbe582a+_0xdc5502;}function _0x29a955(_0x27c87b){const _0x391550=_0x5a8b1c;return _0x27c87b===_0x1ba924['Incoming']?_0x391550(0x5e9):_0x391550(0x2b1);}function _0x4acf58(_0x7171c3,_0xd1437a){const _0x91e908=_0x5a8b1c;return{'label':_0x7171c3[_0x91e908(0x327)](),'contentType':_0x7171c3['getContentType'](),'remoteId':_0xd1437a[_0x91e908(0x8fd)](),'supportsContentType':_0xd1437a[_0x91e908(0x7c6)]()[_0x91e908(0x595)](_0x7171c3[_0x91e908(0x62f)]())};}!function(_0x4a1a2d){const _0x55c2e0=_0x5a8b1c;_0x4a1a2d[_0x4a1a2d[_0x55c2e0(0x77d)]=0x0]=_0x55c2e0(0x77d),_0x4a1a2d[_0x4a1a2d[_0x55c2e0(0x699)]=0x1]=_0x55c2e0(0x699),_0x4a1a2d[_0x4a1a2d[_0x55c2e0(0x9b5)]=0x2]=_0x55c2e0(0x9b5);}(_0x42e207||(_0x42e207={})),function(_0x15e4b4){const _0x3ad41a=_0x5a8b1c;_0x15e4b4['Incoming']='in',_0x15e4b4[_0x3ad41a(0x399)]=_0x3ad41a(0x813);}(_0x1ba924||(_0x1ba924={}));class _0x17e78e{[_0x5a8b1c(0x717)];[_0x5a8b1c(0x9d1)];constructor(_0x217326,_0x43d530){const _0x40d7ad=_0x5a8b1c;this[_0x40d7ad(0x717)]=_0x217326,this[_0x40d7ad(0x9d1)]=_0x43d530;}[_0x5a8b1c(0x319)](_0x2e32a2){this['callback'](_0x2e32a2);}async[_0x5a8b1c(0x47e)](){const _0x49763e=_0x5a8b1c;await this[_0x49763e(0x9d1)]();}}class _0x10f72f{[_0x5a8b1c(0x717)];[_0x5a8b1c(0x9d1)];constructor(_0x1eeed8,_0xcc081){const _0x419919=_0x5a8b1c;this[_0x419919(0x717)]=_0x1eeed8,this[_0x419919(0x9d1)]=_0xcc081;}async[_0x5a8b1c(0x319)](_0x177bdd){const _0x26dca3=_0x5a8b1c;await this[_0x26dca3(0x717)](_0x177bdd);}async[_0x5a8b1c(0x47e)](){const _0x7d19ca=_0x5a8b1c;await this[_0x7d19ca(0x9d1)]();}}function _0x5bc89f(_0x1947df=()=>{},_0x4cda5e=()=>!0x1,_0x111a54=()=>{}){let _0x52c0c3,_0x4cbb18,_0x31b303=0x0;return{get 'size'(){return _0x31b303;},get 'head'(){return _0x52c0c3;},get 'tail'(){return _0x4cbb18;},set 'head'(_0x5cc6b5){_0x52c0c3=_0x5cc6b5;},set 'tail'(_0x529875){_0x4cbb18=_0x529875;},'push'(_0x1d21a9,_0x3e9e74=!0x0){const _0x1ae255=a0_0x2316,_0x3b63c4={'value':_0x1d21a9};_0x3e9e74&&_0x4cda5e(_0x3b63c4)?_0x1947df():(_0x4cbb18&&(_0x3b63c4['previous']=_0x4cbb18,_0x4cbb18[_0x1ae255(0x8d1)]=_0x3b63c4),_0x4cbb18=_0x3b63c4,_0x52c0c3||(_0x52c0c3=_0x3b63c4),_0x31b303+=0x1,_0x3e9e74&&_0x1947df());},'pop'(){const _0x5a45d7=a0_0x2316;if(!_0x4cbb18)return;const _0x371260=_0x4cbb18[_0x5a45d7(0x270)];return _0x4cbb18=_0x4cbb18[_0x5a45d7(0xb30)],_0x4cbb18&&delete _0x4cbb18['next'],_0x4cbb18||(_0x52c0c3=void 0x0),_0x31b303-=0x1,_0x371260;},'unshift'(_0xf38b69,_0x35a4e6=!0x0){const _0x30a44a=a0_0x2316,_0x484f84={'value':_0xf38b69};_0x35a4e6&&_0x4cda5e(_0x484f84)?_0x1947df():(_0x52c0c3&&(_0x52c0c3[_0x30a44a(0xb30)]=_0x484f84,_0x484f84[_0x30a44a(0x8d1)]=_0x52c0c3),_0x52c0c3=_0x484f84,_0x4cbb18||(_0x4cbb18=_0x484f84),_0x31b303+=0x1,_0x35a4e6&&_0x1947df());},'shift'(){const _0x59dece=a0_0x2316;if(!_0x52c0c3)return;const _0x394981=_0x52c0c3[_0x59dece(0x270)];return _0x52c0c3=_0x52c0c3[_0x59dece(0x8d1)],_0x52c0c3&&delete _0x52c0c3[_0x59dece(0xb30)],_0x52c0c3||(_0x4cbb18=void 0x0),_0x31b303-=0x1,_0x394981;},'clear'(){_0x111a54(),_0x52c0c3=void 0x0,_0x4cbb18=void 0x0,_0x31b303=0x0;}};}function _0x2df630(_0x14b702,_0x33949d=!0x1,_0x23ba0a=()=>{},_0x39a462=()=>!0x1,_0x566ce7=()=>{}){let _0x2f6aac=!0x1;const _0x3c1c53=_0x5bc89f(async function(){const _0x51ee97=a0_0x2316;if(!_0x2f6aac){for(_0x2f6aac=!0x0;_0x3c1c53[_0x51ee97(0x4ca)];){const _0x1a3dbf=_0x3c1c53[_0x51ee97(0x4ed)]();if(_0x1a3dbf)try{_0x14b702 instanceof _0x17e78e&&_0x14b702[_0x51ee97(0x319)](_0x1a3dbf),_0x14b702 instanceof _0x10f72f&&await _0x14b702['call'](_0x1a3dbf),_0x23ba0a(_0x1a3dbf);}catch(_0x5e5d34){_0x33949d?_0x3c1c53[_0x51ee97(0x3a9)](_0x1a3dbf,!0x1):_0x3c1c53['unshift'](_0x1a3dbf,!0x1),await _0x14b702[_0x51ee97(0x47e)]();}}_0x2f6aac=!0x1;}},_0x39a462,_0x566ce7);return _0x3c1c53;}class _0x4c45bc extends _0x26d866{['vendorId'];['authService'];[_0x5a8b1c(0x430)]=_0x3895a0['ConnectionState'][_0x5a8b1c(0x256)];[_0x5a8b1c(0x1a6)]=_0x462089();['messageListeners']=_0x28f8fd();['subscription'];[_0x5a8b1c(0xb21)];[_0x5a8b1c(0x7a0)]=_0x2df630(new _0x10f72f(this[_0x5a8b1c(0x6ec)][_0x5a8b1c(0x901)](this),this[_0x5a8b1c(0x674)][_0x5a8b1c(0x901)](this)));[_0x5a8b1c(0x6c8)];constructor(_0x42296d,_0x2637e2,_0xea5854,_0x242faa,_0x33b4d5){const _0x427155=_0x5a8b1c;super(_0x2637e2,_0xea5854,_0x242faa),this[_0x427155(0x26a)]=_0x42296d,this['authService']=_0x33b4d5;}async['connect'](){const _0x26e3ed=_0x5a8b1c;try{const _0x58267a={'getTokens':async()=>{const _0x2769f8=a0_0x2316,_0x2bfa33=await this[_0x2769f8(0x798)][_0x2769f8(0x44f)]();return{'accessToken':(0x0,_0x4f0900[_0x2769f8(0x2c3)])(_0x2bfa33),'idToken':(0x0,_0x4f0900['decodeJWT'])(_0x2bfa33)};}};_0xc50e27[_0x26e3ed(0x6be)][_0x26e3ed(0x8ab)]({'API':{'GraphQL':{'endpoint':_0x12ca2b[_0x26e3ed(0x36c)][_0x26e3ed(0x35b)],'region':_0x12ca2b[_0x26e3ed(0x36c)][_0x26e3ed(0x99e)],'defaultAuthMode':_0x26e3ed(0x9a5)}}},{'Auth':{'tokenProvider':_0x58267a}});const _0x2449ba=(0x0,_0x3895a0['generateClient'])();this[_0x26e3ed(0x6c8)]=_0x2449ba,await this[_0x26e3ed(0x19a)](),this[_0x26e3ed(0xb21)]=_0x1747a7['Hub'][_0x26e3ed(0xaa4)](_0x26e3ed(0x64b),async({payload:_0x51c41d})=>{const _0xc2f0c3=_0x26e3ed;if(_0x51c41d[_0xc2f0c3(0x207)]===_0x3895a0[_0xc2f0c3(0x5af)]){const _0x5b8899=_0x51c41d[_0xc2f0c3(0x349)];this[_0xc2f0c3(0x430)]=_0x5b8899['connectionState'],this['connectionStateListener'][_0xc2f0c3(0x590)](_0x5b8899[_0xc2f0c3(0x430)]),this['connectionState']===_0x3895a0[_0xc2f0c3(0x8ce)][_0xc2f0c3(0x256)]?(_0x241131[_0xc2f0c3(0x5fb)]('appsync-disconnect',{'clusterId':this[_0xc2f0c3(0x659)],'nodeId':this[_0xc2f0c3(0x9a8)](),'nodeType':this['localNode'][_0xc2f0c3(0x2a5)]}),this[_0xc2f0c3(0x494)](),this[_0xc2f0c3(0x61f)]()):this[_0xc2f0c3(0x430)]===_0x3895a0[_0xc2f0c3(0x8ce)][_0xc2f0c3(0x144)]?_0x241131['warning']('appsync-connect',{'clusterId':this[_0xc2f0c3(0x659)],'nodeId':this[_0xc2f0c3(0x9a8)](),'nodeType':this[_0xc2f0c3(0x650)][_0xc2f0c3(0x2a5)]}):_0x241131['warning'](_0xc2f0c3(0xb34),{'clusterId':this[_0xc2f0c3(0x659)],'nodeId':this[_0xc2f0c3(0x9a8)](),'nodeType':this[_0xc2f0c3(0x650)][_0xc2f0c3(0x2a5)],'data':{'state':_0x5b8899[_0xc2f0c3(0x430)]}});}});}catch(_0xaa2e40){_0x241131[_0x26e3ed(0x5fb)](_0x26e3ed(0x42e),{'clusterId':this['clusterId'],'nodeId':this[_0x26e3ed(0x9a8)](),'nodeType':this[_0x26e3ed(0x650)][_0x26e3ed(0x2a5)]});}}['close'](){const _0x348338=_0x5a8b1c;_0x241131[_0x348338(0x382)](_0x348338(0x766),{'clusterId':this[_0x348338(0x659)],'nodeId':this[_0x348338(0x9a8)](),'nodeType':this[_0x348338(0x650)]['type']}),this[_0x348338(0x7a0)]['clear'](),this[_0x348338(0xb21)]?.(),this[_0x348338(0x99a)]?.['unsubscribe'](),delete this[_0x348338(0x99a)];}[_0x5a8b1c(0x294)](){const _0x2415c1=_0x5a8b1c;return this[_0x2415c1(0x430)]===_0x3895a0[_0x2415c1(0x8ce)]['Connected'];}[_0x5a8b1c(0x28e)](_0x155a54){const _0x42d921=_0x5a8b1c;this[_0x42d921(0x7a0)][_0x42d921(0x3a9)](_0x155a54);}[_0x5a8b1c(0x756)](_0xdaefea){const _0xf15639=_0x5a8b1c;return this[_0xf15639(0x7aa)][_0xf15639(0x19a)](_0xdaefea);}[_0x5a8b1c(0x7c6)](){const _0x3358a3=_0x5a8b1c;return[_0x52baed[_0x3358a3(0xa92)][_0x3358a3(0x87a)]];}async[_0x5a8b1c(0x674)](){const _0x36fa0f=_0x5a8b1c;if(!this[_0x36fa0f(0x294)]())return new Promise(_0x2f3147=>{const _0x47f7e6=_0x36fa0f,_0x137751=this[_0x47f7e6(0x1a6)][_0x47f7e6(0x19a)](_0x5d2fc5=>{_0x5d2fc5===_0x3895a0['ConnectionState']['Connected']&&(_0x137751(),_0x2f3147());});});}async[_0x5a8b1c(0x6ec)](_0x278004){const _0x7984f5=_0x5a8b1c;if(this[_0x7984f5(0x430)]!==_0x3895a0[_0x7984f5(0x8ce)]['Connected'])throw new Error('AppSync\x20connection\x20not\x20ready');_0x278004[_0x7984f5(0x4e9)]&&0x1===_0x278004['destinationIds']['length']?await this['publish'](_0x278004[_0x7984f5(0x4e9)][0x0],JSON[_0x7984f5(0x2ed)](_0x278004)):_0x241131[_0x7984f5(0x5fb)](_0x7984f5(0x899),{'clusterId':this[_0x7984f5(0x659)],'nodeId':this[_0x7984f5(0x9a8)](),'nodeType':this[_0x7984f5(0x650)][_0x7984f5(0x2a5)]});}async[_0x5a8b1c(0x590)](_0x139b51,_0x1fc086){const _0x338c9d=_0x5a8b1c;if(!this[_0x338c9d(0x6c8)])throw new Error(_0x338c9d(0x2f7));_0x241131['log'](_0xf47a5[_0x338c9d(0xa90)],_0x338c9d(0x303),this[_0x338c9d(0x9a8)](),_0x1fc086),await this[_0x338c9d(0x6c8)][_0x338c9d(0x626)]({'query':'\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x338c9d(0x72b)](_0x139b51),'data':_0x1fc086}});}async[_0x5a8b1c(0x19a)](){const _0x4a49ed=_0x5a8b1c;if(this[_0x4a49ed(0x99a)])return;if(!this['client'])throw new Error(_0x4a49ed(0x2f7));_0x241131[_0x4a49ed(0x2d3)](_0xf47a5['Signaling'],'AppSync\x20subscribe',this[_0x4a49ed(0x9a8)]());const _0x39e015=await this[_0x4a49ed(0x6c8)][_0x4a49ed(0x626)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x4a49ed(0x72b)]()},'authToken':await this[_0x4a49ed(0x798)][_0x4a49ed(0x44f)]()},{'Authorization':await this[_0x4a49ed(0x798)][_0x4a49ed(0x44f)]()});this[_0x4a49ed(0x99a)]=_0x39e015[_0x4a49ed(0x19a)]({'next':({data:_0x32a14c})=>{const _0x4ec08c=_0x4a49ed,_0x4f7604=JSON['parse'](_0x32a14c['subscribe']['data']);!_0x2b6706(_0x4f7604,this[_0x4ec08c(0x9a8)]())&&_0x5bf992(_0x4f7604,this[_0x4ec08c(0x9a8)]())&&this['messageListeners'][_0x4ec08c(0x590)](_0x4f7604);},'error':console[_0x4a49ed(0x2d3)]});}async[_0x5a8b1c(0x72b)](_0x8d7519){const _0x31bd3b=_0x5a8b1c,_0x1aeb12=await crypto[_0x31bd3b(0x8be)][_0x31bd3b(0xa66)]('SHA-1',new TextEncoder()[_0x31bd3b(0x443)](this[_0x31bd3b(0x26a)]+'-'+this[_0x31bd3b(0x659)]+'-'+(_0x8d7519??this[_0x31bd3b(0x9a8)]())));return Array['from'](new Uint8Array(_0x1aeb12))[_0x31bd3b(0x3d5)](_0x34cc1a=>_0x34cc1a[_0x31bd3b(0x7bb)](0x10)[_0x31bd3b(0x597)](0x2,'0'))[_0x31bd3b(0x59d)]('');}}!function(_0x28fb43){const _0x4e8802=_0x5a8b1c;_0x28fb43[_0x28fb43[_0x4e8802(0x283)]=0x0]=_0x4e8802(0x283),_0x28fb43[_0x28fb43['Remove']=0x1]=_0x4e8802(0xaca),_0x28fb43[_0x28fb43[_0x4e8802(0xafa)]=0x2]=_0x4e8802(0xafa),_0x28fb43[_0x28fb43[_0x4e8802(0x81a)]=0x3]=_0x4e8802(0x81a),_0x28fb43[_0x28fb43['RemoteRemove']=0x4]=_0x4e8802(0x4da);}(_0x4a37a5||(_0x4a37a5={}));const _0x23657c='0',_0x86117a=_0x5a8b1c(0xa7d),_0x25a1ff=_0x1e1d55,_0x176ccb=0x60000;class _0x3d25e7{[_0x5a8b1c(0x659)];[_0x5a8b1c(0x650)];['remoteId'];[_0x5a8b1c(0x3d6)];[_0x5a8b1c(0x7ab)];[_0x5a8b1c(0xa9b)];[_0x5a8b1c(0x4fb)];[_0x5a8b1c(0x9b2)];[_0x5a8b1c(0x5ad)]=0x1;[_0x5a8b1c(0x625)];[_0x5a8b1c(0x585)]=[];[_0x5a8b1c(0x88d)]=[];[_0x5a8b1c(0x44a)];constructor(_0x20a4f4,_0xb4f394,_0x506a45,_0x43621c,_0x3f3c6d,_0x23a696){const _0x5a05fe=_0x5a8b1c;this[_0x5a05fe(0x659)]=_0x20a4f4,this[_0x5a05fe(0x650)]=_0xb4f394,this[_0x5a05fe(0x1e1)]=_0x506a45,this['iceServers']=_0x43621c,this['connectionType']=_0x3f3c6d,this['connectionConstructor']=_0x23a696,this[_0x5a05fe(0x4fb)]=new this[(_0x5a05fe(0xa9b))]({'handshakeServers':this[_0x5a05fe(0x3d6)]}),this[_0x5a05fe(0xa51)]();}['close'](){this['stopConnection']();}[_0x5a8b1c(0x38b)](_0x25209b){const _0x1c0216=_0x5a8b1c;this[_0x1c0216(0x7ab)]=_0x25209b;}async[_0x5a8b1c(0x923)](_0x2efde6,_0x146ae0){const _0xd8077f=_0x5a8b1c;if(_0x146ae0===this[_0xd8077f(0x5ad)])for(const _0x9b283 of _0x2efde6){if(!this['connection']['canAddCandidates'])return this[_0xd8077f(0x7cf)](_0x9b283);try{await this['connection'][_0xd8077f(0x63c)](_0x9b283);}catch(_0x271763){this['addPendingHandshakeCandidate'](_0x9b283);}}}[_0x5a8b1c(0x294)](){const _0x109134=_0x5a8b1c;return this['logConnectionState'](),_0x109134(0x171)===this['connection'][_0x109134(0x430)]&&['connected','completed'][_0x109134(0x595)](this[_0x109134(0x4fb)][_0x109134(0x946)])&&_0x109134(0x46c)!==this[_0x109134(0x4fb)][_0x109134(0x46d)]&&_0x109134(0x275)===this[_0x109134(0x9b2)]?.[_0x109134(0x479)];}[_0x5a8b1c(0x3ee)](_0x40627b){const _0x34fab3=_0x5a8b1c;this[_0x34fab3(0x625)]=_0x40627b;}[_0x5a8b1c(0x8f7)](){const _0x2bab9a=_0x5a8b1c;delete this[_0x2bab9a(0x625)];}[_0x5a8b1c(0x216)](_0x32b71f){const _0x1d8f79=_0x5a8b1c;this[_0x1d8f79(0x544)](),this[_0x1d8f79(0x4fb)]=new this[(_0x1d8f79(0xa9b))]({'handshakeServers':this[_0x1d8f79(0x3d6)]}),_0x32b71f?this[_0x1d8f79(0x5ad)]=_0x32b71f:this[_0x1d8f79(0x5ad)]+=0x1,this[_0x1d8f79(0xa51)]();}[_0x5a8b1c(0x49a)](){const _0x34a18f=_0x5a8b1c;this[_0x34a18f(0x88d)][_0x34a18f(0x775)](_0x12433a=>{const _0x1aa933=_0x34a18f;try{this[_0x1aa933(0x4fb)][_0x1aa933(0x63c)](_0x12433a);}catch(_0x51bc8e){}}),this[_0x34a18f(0x88d)]=[];}['publishSystemMessage'](_0x58894b,_0x2fe388){const _0xa4e4d4=_0x5a8b1c;if(!this[_0xa4e4d4(0x625)])throw new _0xdb384(_0xdb384[_0xa4e4d4(0x549)][_0xa4e4d4(0x733)],{'content':_0x58894b});const _0x220398={'sourceId':this[_0xa4e4d4(0x650)]['getId'](),'destinationIds':[this[_0xa4e4d4(0x1e1)]],'propagate':this['connectionType']!==_0x21fa51[_0xa4e4d4(0x2d1)],'retry':this[_0xa4e4d4(0x7ab)]!==_0x21fa51[_0xa4e4d4(0x2d1)],'messageType':_0x9cb7d1[_0xa4e4d4(0x7b3)],'content':_0x58894b};_0x2fe388&&(_0x220398[_0xa4e4d4(0x2f9)]=_0x2fe388),this[_0xa4e4d4(0x625)][_0xa4e4d4(0x590)](_0x220398);}[_0x5a8b1c(0xa51)](){const _0x1bbb06=_0x5a8b1c;this['connection'][_0x1bbb06(0x730)]=()=>{const _0xa13490=_0x1bbb06;'complete'===this[_0xa13490(0x4fb)][_0xa13490(0x2c6)]&&this[_0xa13490(0x585)]['length']>0x0&&(this[_0xa13490(0x44a)]&&clearTimeout(this[_0xa13490(0x44a)]),this[_0xa13490(0x44a)]=setTimeout(()=>{const _0x4389a0=_0xa13490;delete this[_0x4389a0(0x44a)],this[_0x4389a0(0x2a6)](),this[_0x4389a0(0x585)]=[];},0x1f4));},this[_0x1bbb06(0x4fb)]['onCandidate']=_0x14dbd2=>{const _0x373d87=_0x1bbb06;_0x14dbd2[_0x373d87(0x93e)]&&this[_0x373d87(0x585)][_0x373d87(0x3a9)](_0x14dbd2[_0x373d87(0x93e)]);};}[_0x5a8b1c(0x544)](){const _0x568676=_0x5a8b1c;clearTimeout(this[_0x568676(0x44a)]),delete this[_0x568676(0x44a)],this[_0x568676(0x585)]=[],this['pendingHandshakeCandidates']=[],this[_0x568676(0x9b2)]&&(this[_0x568676(0x9b2)]['onMessage']=null,this[_0x568676(0x9b2)][_0x568676(0x165)]=null,this[_0x568676(0x9b2)]['close'](),delete this[_0x568676(0x9b2)]),this['connection'][_0x568676(0x730)]=null,this['connection'][_0x568676(0x6e3)]=null,this[_0x568676(0x4fb)][_0x568676(0x4a4)]=null,this[_0x568676(0x4fb)]['onConnectionStateChange']=null,this['connection'][_0x568676(0x654)]=null,this[_0x568676(0x4fb)][_0x568676(0x6cf)]=null,this[_0x568676(0x4fb)][_0x568676(0x494)]();}['addPendingHandshakeCandidate'](_0xc2350e){const _0x26ca0d=_0x5a8b1c;this[_0x26ca0d(0x88d)][_0x26ca0d(0x3a9)](_0xc2350e);}[_0x5a8b1c(0x324)](){const _0x1080c7=_0x5a8b1c;_0x241131[_0x1080c7(0x2d3)](_0xf47a5[_0x1080c7(0x8ce)],'Base\x20Peer\x20Connection',{'localId':this[_0x1080c7(0x650)][_0x1080c7(0x3dd)](),'remoteId':this[_0x1080c7(0x1e1)],'connectionState':this['connection']['connectionState'],'handshakeState':this[_0x1080c7(0x4fb)][_0x1080c7(0x946)],'signalingState':this[_0x1080c7(0x4fb)][_0x1080c7(0x46d)],'dataChannelState':this[_0x1080c7(0x9b2)]?.['state']});}}function _0x2a60b9(_0x1ff411,_0x51ce06){const _0x321737=_0x5a8b1c;_0x51ce06[_0x321737(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1['PeerConnection'],'content':_0x1ff411});}class _0x31aa4d{static [_0x5a8b1c(0x757)];[_0x5a8b1c(0xb31)]=[];[_0x5a8b1c(0x6e5)];constructor(){setInterval(()=>{const _0x58e45a=a0_0x2316;this[_0x58e45a(0xb31)][_0x58e45a(0x775)](_0x190209=>{const _0x2ac181=_0x58e45a;if(Date[_0x2ac181(0x744)]()-_0x190209['lastExecuted']>_0x190209[_0x2ac181(0x3e4)]){try{_0x190209[_0x2ac181(0x717)]();}catch(_0x5282f9){}_0x190209[_0x2ac181(0x5b9)]=Date[_0x2ac181(0x744)]();}});},0x64);}static[_0x5a8b1c(0x2eb)](){const _0x553ef7=_0x5a8b1c;return _0x31aa4d['instance']||(_0x31aa4d[_0x553ef7(0x757)]=new _0x31aa4d()),_0x31aa4d['instance'];}[_0x5a8b1c(0x6a6)](_0xbf063f){const _0x166629=_0x5a8b1c,_0x3759c0=this[_0x166629(0x3f5)](_0xbf063f),_0x2ec69d=_0xbf063f[_0x166629(0x1fe)]();_0x2ec69d&&_0x3759c0&&(_0x2ec69d['gain'][_0x166629(0x270)]=0.001,_0x3759c0[_0x166629(0x61f)](_0x2ec69d),_0x2ec69d[_0x166629(0x61f)](_0xbf063f[_0x166629(0x4ce)]),_0x3759c0[_0x166629(0x3a0)]());}[_0x5a8b1c(0x282)](){const _0x282456=_0x5a8b1c;this[_0x282456(0x6e5)]&&(this[_0x282456(0x6e5)][_0x282456(0x9be)](),this[_0x282456(0x6e5)]['disconnect'](),this['source']=void 0x0);}[_0x5a8b1c(0x47e)](_0x1e65b7){return new Promise(_0x47b120=>{setTimeout(_0x47b120,_0x1e65b7);});}[_0x5a8b1c(0x837)](_0x2c953f,_0x45b8a4){const _0x107b10=_0x5a8b1c;return this[_0x107b10(0xb31)]['push']({'callback':_0x2c953f,'interval':_0x45b8a4,'lastExecuted':Date[_0x107b10(0x744)]()}),()=>{const _0x2a0ab5=_0x107b10;this[_0x2a0ab5(0xb31)]=this[_0x2a0ab5(0xb31)][_0x2a0ab5(0x930)](_0x28c76b=>_0x28c76b[_0x2a0ab5(0x717)]!==_0x2c953f);};}[_0x5a8b1c(0x3f5)](_0x5a4abd){const _0x4818e1=_0x5a8b1c;if(_0x5a4abd['createConstantSource'])return _0x5a4abd[_0x4818e1(0x3f5)]();const _0x1133ec=_0x5a4abd[_0x4818e1(0x6d0)](),_0x3c1b5e=_0x5a4abd['createBuffer'](0x1,0x1,_0x5a4abd[_0x4818e1(0x6a2)]);return _0x3c1b5e[_0x4818e1(0x14f)](0x0)[0x0]=0xa,_0x1133ec[_0x4818e1(0x614)]=_0x3c1b5e,_0x1133ec[_0x4818e1(0x9e5)]=!0x0,_0x1133ec;}}const _0x3d74ea=_0x31aa4d['getInstance']();class _0x38ea8b extends _0x3d25e7{['messageCallback']=_0x462089();[_0x5a8b1c(0x46a)]=_0x462089();[_0x5a8b1c(0x95d)]=_0x462089();['receivers']=new Map();[_0x5a8b1c(0x8f4)]=new Map();[_0x5a8b1c(0x98e)];['messagesReceived']=0x0;[_0x5a8b1c(0x358)]={'messages':{'total':0x0}};[_0x5a8b1c(0xa4c)]=0x0;['timeReceiving']=0x0;['loggingCycle']=_0x276eaa(_0x5a8b1c(0x242),_0xf47a5[_0x5a8b1c(0x75d)]);[_0x5a8b1c(0x494)](){const _0x554211=_0x5a8b1c;this[_0x554211(0x217)](),this[_0x554211(0x42b)][_0x554211(0x5a9)](),super[_0x554211(0x494)]();}async[_0x5a8b1c(0x203)](_0x2802ff,_0x5e376d){const _0x3260f7=_0x5a8b1c;this[_0x3260f7(0x5ad)]=_0x5e376d,this[_0x3260f7(0x217)]();const _0x247a41=await this[_0x3260f7(0x4fb)][_0x3260f7(0x241)](_0x2802ff);this[_0x3260f7(0x49a)]();const _0x9ad398=(0x0,_0x4804e8['v4'])();this[_0x3260f7(0x5e6)]({'type':_0x5e1ebe[_0x3260f7(0x3be)],'answer':_0x247a41,'version':_0x5e376d,'connectionType':this['connectionType']},_0x9ad398),this[_0x3260f7(0x7ab)]===_0x21fa51[_0x3260f7(0x2d1)]&&(this['waitSuccess']=_0x3d74ea['setInterval'](()=>{const _0x29e58b=_0x3260f7;this[_0x29e58b(0x5e6)]({'type':_0x5e1ebe['Answer'],'answer':_0x247a41,'version':_0x5e376d,'connectionType':this[_0x29e58b(0x7ab)]},_0x9ad398);},0x1388));}[_0x5a8b1c(0xb35)](){const _0x1ce5bf=_0x5a8b1c;this[_0x1ce5bf(0x217)]();}[_0x5a8b1c(0x5a5)](_0x21a07d){const _0x1ba96c=_0x5a8b1c;this['resetConnection'](_0x21a07d),this[_0x1ba96c(0x5e6)]({'type':_0x5e1ebe[_0x1ba96c(0x7b4)]});}async[_0x5a8b1c(0xa0e)](){const _0x163288=_0x5a8b1c;this[_0x163288(0x625)]&&(await this['connection']['collectReceiversStats'](this[_0x163288(0x42b)],(_0x540fbe,_0x4180e1)=>{const _0x54fd6c=_0x163288;_0x2a60b9({'type':_0x5e1ebe[_0x54fd6c(0x85a)],'streamId':_0x4180e1,'nodeId':this[_0x54fd6c(0x1e1)],'stats':_0x540fbe},this[_0x54fd6c(0x625)]);}),this[_0x163288(0x625)][_0x163288(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x163288(0x7b3)],'content':{'type':_0x5e1ebe[_0x163288(0x85a)],'nodeId':this[_0x163288(0x1e1)],'stats':{'origin':_0x6b5ab7[_0x163288(0x8e7)],'timestamp':Date[_0x163288(0x744)](),'messagesReceived':this[_0x163288(0x413)],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x163288(0x6fe)],'systemMessages':this[_0x163288(0x358)]}}}));}[_0x5a8b1c(0x756)](_0x181c01){const _0x3af019=_0x5a8b1c;return _0x12ca2b['isProduction']?this[_0x3af019(0x2c2)][_0x3af019(0x19a)](_0x181c01):this[_0x3af019(0x2c2)]['subscribe'](_0x45307b=>{const _0x469d1e=_0x3af019;0x0===_0x45307b[_0x469d1e(0x2cc)]&&_0x45307b[_0x469d1e(0xb43)]===_0x9cb7d1[_0x469d1e(0x420)]&&this[_0x469d1e(0xa60)][_0x469d1e(0x88e)][_0x469d1e(0x2d3)](_0x469d1e(0x888)+this[_0x469d1e(0x1e1)],()=>_0x45b903(_0x45307b)),_0x181c01(_0x45307b);});}[_0x5a8b1c(0x654)](_0x1b8fe9){const _0xc5e746=_0x5a8b1c;return this[_0xc5e746(0x46a)]['subscribe'](({track:_0x355802,stream:_0x557fc7})=>_0x1b8fe9(_0x355802,_0x557fc7));}['onRemoveTrack'](_0x3f7bc1){const _0x2d2e6f=_0x5a8b1c;return this[_0x2d2e6f(0x95d)][_0x2d2e6f(0x19a)](({track:_0x432138,stream:_0x43f87a})=>_0x3f7bc1(_0x432138,_0x43f87a));}[_0x5a8b1c(0x216)](_0x3c6f58){const _0x55969e=_0x5a8b1c;this[_0x55969e(0x217)](),this['receivers'][_0x55969e(0x775)](_0x38f48d=>{const _0x5407fb=_0x55969e;_0x38f48d[_0x5407fb(0x5a9)]();}),super[_0x55969e(0x216)](_0x3c6f58);}[_0x5a8b1c(0x2a6)](){const _0xc9e8=_0x5a8b1c;this[_0xc9e8(0x5e6)]({'type':_0x5e1ebe['Handshake'],'candidates':this[_0xc9e8(0x585)],'origin':_0x6b5ab7[_0xc9e8(0x8e7)],'version':this[_0xc9e8(0x5ad)],'connectionType':this[_0xc9e8(0x7ab)]});}[_0x5a8b1c(0xa51)](){const _0x114da4=_0x5a8b1c;super[_0x114da4(0xa51)](),this[_0x114da4(0x4fb)][_0x114da4(0x654)]=_0x5f1246=>{const _0x14f26d=_0x114da4;_0x241131[_0x14f26d(0x2d3)](_0xf47a5[_0x14f26d(0x550)],'CrewdleReceiverConnection\x20ontrack',this[_0x14f26d(0x650)]['getId'](),_0x5f1246),_0x5f1246[_0x14f26d(0x1ae)][0x0][_0x14f26d(0x829)]=_0x1b8172=>{const _0x38c2b5=_0x14f26d;this['receivers']['get'](_0x5f1246['streams'][0x0]['id'])?.[_0x38c2b5(0x1cd)](_0x1b8172['track']),0x0===this[_0x38c2b5(0x42b)][_0x38c2b5(0x8a4)](_0x5f1246[_0x38c2b5(0x1ae)][0x0]['id'])?.[_0x38c2b5(0xaf1)]&&this[_0x38c2b5(0x42b)][_0x38c2b5(0x1cd)](_0x5f1246[_0x38c2b5(0x1ae)][0x0]['id']),this['removeTrackCallback'][_0x38c2b5(0x590)]({'track':_0x1b8172[_0x38c2b5(0xa75)],'stream':_0x5f1246['streams'][0x0]});},this['receivers'][_0x14f26d(0x149)](_0x5f1246[_0x14f26d(0x1ae)][0x0]['id'])||this[_0x14f26d(0x42b)][_0x14f26d(0x984)](_0x5f1246['streams'][0x0]['id'],new Set()),this[_0x14f26d(0x42b)][_0x14f26d(0x8a4)](_0x5f1246['streams'][0x0]['id'])[_0x14f26d(0x20c)](_0x5f1246[_0x14f26d(0xa75)]),this[_0x14f26d(0x46a)]['publish']({'track':_0x5f1246['track'],'stream':_0x5f1246['streams'][0x0]});},this[_0x114da4(0x4fb)][_0x114da4(0x6cf)]=_0x5cb910=>{const _0x222213=_0x114da4;this[_0x222213(0x9b2)]=_0x5cb910['channel'],this['dataChannel'][_0x222213(0x756)]=_0x41a0cb=>{const _0x4ea3b4=_0x222213;if(_0x41a0cb['data']!==_0x23657c)this[_0x4ea3b4(0x591)](_0x41a0cb['data']);else{if(!this[_0x4ea3b4(0x9b2)])return void _0x241131[_0x4ea3b4(0x5fb)](_0x4ea3b4(0x438),{'clusterId':this[_0x4ea3b4(0x659)],'nodeId':this[_0x4ea3b4(0x650)][_0x4ea3b4(0x3dd)](),'nodeType':this[_0x4ea3b4(0x650)][_0x4ea3b4(0x2a5)],'remoteId':this[_0x4ea3b4(0x1e1)],'data':{'connection':'receiver'}});if('open'!==this[_0x4ea3b4(0x9b2)][_0x4ea3b4(0x479)])return;this['dataChannel'][_0x4ea3b4(0x28e)]('1');}};};}[_0x5a8b1c(0x591)](_0x179e00){const _0x5c891d=_0x5a8b1c;if(_0x5c891d(0x6e2)==typeof _0x179e00&&_0x179e00[_0x5c891d(0x54c)](_0x86117a))return this[_0x5c891d(0x413)]+=0x1,this[_0x5c891d(0xa4c)]+=_0x179e00['length'],this[_0x5c891d(0xa27)](_0x179e00);setTimeout(()=>{const _0x22a825=_0x5c891d,_0x685f4b=Date[_0x22a825(0x744)]();let _0x5757d0;if((_0x179e00 instanceof ArrayBuffer||_0x179e00[_0x22a825(0xa39)]<=_0x25a1ff)&&(this[_0x22a825(0x413)]+=0x1,this[_0x22a825(0xa4c)]+=_0x179e00 instanceof ArrayBuffer?_0x179e00[_0x22a825(0x475)]:_0x179e00['length']),_0x179e00 instanceof ArrayBuffer){const [_0x3ff6fa,_0x5637c8]=this[_0x22a825(0x7c0)](_0x179e00);_0x5757d0=_0x3ff6fa,_0x5757d0[_0x22a825(0x2fa)][_0x22a825(0x349)]=_0x5637c8;}else _0x5757d0=JSON[_0x22a825(0x85b)](_0x179e00);if(0x0===_0x5757d0[_0x22a825(0x2cc)]){this[_0x22a825(0x358)][_0x22a825(0x456)]['total']+=0x1;const {systemMessageType:_0x383efc,systemContentMessageType:_0x42ac84}=_0x45b903(_0x5757d0);this['systemMessagesReceived'][_0x383efc]||(this[_0x22a825(0x358)][_0x383efc]={[_0x42ac84]:0x0}),this[_0x22a825(0x358)][_0x383efc][_0x42ac84]||(this['systemMessagesReceived'][_0x383efc][_0x42ac84]=0x0),this[_0x22a825(0x358)][_0x383efc]['total']||(this[_0x22a825(0x358)][_0x383efc][_0x22a825(0x8d6)]=0x0),this[_0x22a825(0x358)][_0x383efc][_0x42ac84]+=0x1,this['systemMessagesReceived'][_0x383efc][_0x22a825(0x8d6)]+=0x1;}this[_0x22a825(0x2c2)]['publish'](_0x5757d0),this[_0x22a825(0x6fe)]+=Date[_0x22a825(0x744)]()-_0x685f4b;},0x0);}[_0x5a8b1c(0xa27)](_0x2ebf0b){const _0x363e75=_0x5a8b1c,_0x1b6681=_0x2ebf0b[_0x363e75(0x8ed)](';'),_0x3da644=_0x1b6681[0x1],_0x364c65=parseInt(_0x1b6681[0x2],0xa),_0x3317ea=parseInt(_0x1b6681[0x3],0xa),_0x3b6bba=_0x2ebf0b[_0x363e75(0x937)](_0x86117a+';'+_0x3da644+';'+_0x364c65+';'+_0x3317ea+';','');this[_0x363e75(0x8f4)][_0x363e75(0x149)](_0x3da644)||this[_0x363e75(0x8f4)]['set'](_0x3da644,[]);const _0x511e36=this[_0x363e75(0x8f4)]['get'](_0x3da644);_0x511e36[_0x364c65]=_0x3b6bba,_0x511e36[_0x363e75(0xa39)]===_0x3317ea&&(this[_0x363e75(0x591)](_0x511e36[_0x363e75(0x59d)]('')),this[_0x363e75(0x8f4)][_0x363e75(0x1cd)](_0x3da644));}[_0x5a8b1c(0x217)](){const _0x5d86ae=_0x5a8b1c;this['waitSuccess']?.(),delete this[_0x5d86ae(0x98e)];}[_0x5a8b1c(0xb2a)](_0x11a3ce){const _0x4cedad=_0x5a8b1c,_0x18434a=new TextDecoder()[_0x4cedad(0x39f)](_0x11a3ce);return JSON[_0x4cedad(0x85b)](_0x18434a);}[_0x5a8b1c(0x7c0)](_0x9d67dc){const _0x14a41e=_0x5a8b1c,_0x14ff32=new Uint8Array(_0x9d67dc[_0x14a41e(0x1ca)](0x0,0x4)),_0xbd876e=new Uint32Array(_0x14ff32['buffer'])[0x0],_0x408dbd=new Uint8Array(_0x9d67dc['slice'](0x4,0x4+_0xbd876e)),_0x2bab91=new Uint8Array(_0x9d67dc['slice'](0x4+_0xbd876e));return[this[_0x14a41e(0xb2a)](_0x408dbd[_0x14a41e(0x614)]),_0x2bab91[_0x14a41e(0x614)]];}}const _0x477b90=0xc350;var _0x4bea61,_0x22bb2e;!function(_0x494047){const _0x5ced02=_0x5a8b1c;_0x494047[_0x494047['High']=0x0]=_0x5ced02(0x533),_0x494047[_0x494047[_0x5ced02(0x297)]=0x1]='Medium',_0x494047[_0x494047[_0x5ced02(0xaac)]=0x2]=_0x5ced02(0xaac);}(_0x4bea61||(_0x4bea61={}));class _0x7cf898 extends _0x3d25e7{[_0x5a8b1c(0x31b)];[_0x5a8b1c(0x2af)];[_0x5a8b1c(0x568)]=new Map();[_0x5a8b1c(0x5c3)];['waitAnswer'];[_0x5a8b1c(0xb0b)];[_0x5a8b1c(0x599)]=!0x1;[_0x5a8b1c(0x8bb)];[_0x5a8b1c(0x3b1)];[_0x5a8b1c(0x65e)];[_0x5a8b1c(0x7a0)]=function(e,t=_0x4bea61,n=!0x1){const _0x2a8b94=_0x5a8b1c;let s=!0x1;const o=[];async function i(){const _0x5436e0=a0_0x2316;if(!s){for(s=!0x0;o[_0x5436e0(0x707)](e=>e[_0x5436e0(0x4ca)]);){let t,s=0x0;for(const [e,n]of o[_0x5436e0(0x322)]())if(t=n[_0x5436e0(0x4ed)](),s=e,t)break;if(t)try{if(e instanceof _0x17e78e&&e[_0x5436e0(0x319)](t),e instanceof _0x10f72f&&await e[_0x5436e0(0x319)](t),o['slice'](-0x1)['some'](e=>e[_0x5436e0(0x4ca)]))continue;const n=o[_0x5436e0(0xa39)]-0x1;s===n&&o[n][_0x5436e0(0x4ca)]&&await _0x3d74ea['wait'](0x0);}catch(i){n?o[s][_0x5436e0(0x3a9)](t,!0x1):o[s][_0x5436e0(0xabd)](t,!0x1),await e[_0x5436e0(0x47e)]();}}s=!0x1;}}return Object[_0x2a8b94(0x4c2)](t)['forEach'](e=>{const _0x38d049=_0x2a8b94;_0x38d049(0x6e2)!=typeof e&&(o[e]=_0x5bc89f(i));}),{'queues':o};}(new _0x17e78e(this['sendAction'][_0x5a8b1c(0x901)](this),this[_0x5a8b1c(0x823)][_0x5a8b1c(0x901)](this)));[_0x5a8b1c(0xae5)]=0x0;[_0x5a8b1c(0x398)]=0x0;[_0x5a8b1c(0x33c)]=0x0;[_0x5a8b1c(0x8a6)]=0x0;[_0x5a8b1c(0x909)];['loggingCycle']=_0x276eaa(_0x5a8b1c(0x999),_0xf47a5[_0x5a8b1c(0xa19)]);constructor(_0x3392ae,_0x1ccf22,_0x3d2c96,_0x386719,_0xac4078,_0x1c3da5,_0x634b0a,_0x488ae7){const _0x2cbf53=_0x5a8b1c;super(_0x3392ae,_0x1ccf22,_0x3d2c96,_0x386719,_0xac4078,_0x488ae7),this[_0x2cbf53(0x31b)]=_0x1c3da5,this['maxBpp']=_0x634b0a;}['close'](){const _0x3f67b1=_0x5a8b1c;this['clearUpgradeTimeout'](),this[_0x3f67b1(0x523)](),delete this[_0x3f67b1(0xb0b)],this[_0x3f67b1(0x762)](),this[_0x3f67b1(0x6f1)](),this[_0x3f67b1(0x158)](),this['senders']['clear'](),this[_0x3f67b1(0x599)]=!0x1,this[_0x3f67b1(0x7a0)][_0x3f67b1(0x77e)]['forEach'](_0x22d2a5=>_0x22d2a5[_0x3f67b1(0x5a9)]()),this[_0x3f67b1(0x9bf)](),super['close']();}[_0x5a8b1c(0x294)](){const _0x3f25a3=_0x5a8b1c;return!!this[_0x3f25a3(0xb0b)]&&super[_0x3f25a3(0x294)]()&&Date[_0x3f25a3(0x744)]()-this[_0x3f25a3(0xb0b)]<0x3a98;}async[_0x5a8b1c(0xa0e)](){const _0xabf52e=_0x5a8b1c;this[_0xabf52e(0x625)]&&(await this[_0xabf52e(0x4fb)][_0xabf52e(0x74f)](this[_0xabf52e(0x568)],(_0x5b19a5,_0xfec64e)=>{const _0x578033=_0xabf52e;_0x2a60b9({'type':_0x5e1ebe[_0x578033(0x85a)],'streamId':_0xfec64e,'nodeId':this['remoteId'],'stats':_0x5b19a5},this[_0x578033(0x625)]);}),this['systemTopic'][_0xabf52e(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0xabf52e(0x7b3)],'content':{'type':_0x5e1ebe[_0xabf52e(0x85a)],'nodeId':this[_0xabf52e(0x1e1)],'stats':{'origin':_0x6b5ab7[_0xabf52e(0x1d7)],'timestamp':Date[_0xabf52e(0x744)](),'messagesSent':this['messagesSent'],'bytesSent':this[_0xabf52e(0x398)],'timeSending':this['timeSending'],'roundTripTime':this[_0xabf52e(0x8a6)]}}}));}async[_0x5a8b1c(0x9b1)](_0x5d3c6b){const _0x3bae82=_0x5a8b1c;_0x241131[_0x3bae82(0x2d3)](_0xf47a5[_0x3bae82(0x550)],_0x3bae82(0x95b),this[_0x3bae82(0x650)]['getId'](),this[_0x3bae82(0x1e1)]),this[_0x3bae82(0x762)](),this[_0x3bae82(0x6f1)](),this[_0x3bae82(0x158)](),this['connectionTimeout']=setTimeout(()=>{const _0x2f5930=_0x3bae82;this[_0x2f5930(0x610)]();},0x7530),this[_0x3bae82(0x9b2)]||(this[_0x3bae82(0x9b2)]=this[_0x3bae82(0x4fb)]['createDataChannel'](_0x3bae82(0x349)),this['dataChannel'][_0x3bae82(0x47f)]=_0x176ccb,this[_0x3bae82(0x9b2)][_0x3bae82(0x165)]=()=>{const _0x29dedd=_0x3bae82;this[_0x29dedd(0x909)]=setTimeout(()=>{const _0x426b4e=_0x29dedd;delete this[_0x426b4e(0x909)],[_0x426b4e(0x2ee),_0x426b4e(0x275)][_0x426b4e(0x595)](this[_0x426b4e(0x9b2)]?.['state']??'')||this[_0x426b4e(0x610)]();},0xfa);});const _0x28a91b=await this[_0x3bae82(0x4fb)][_0x3bae82(0x9b1)](_0x5d3c6b);this[_0x3bae82(0xb0b)]||(this[_0x3bae82(0xb0b)]=Date[_0x3bae82(0x744)]());const _0x1441ac=(0x0,_0x4804e8['v4'])();this[_0x3bae82(0x5e6)]({'type':_0x5e1ebe['Offer'],'offer':_0x28a91b,'version':this[_0x3bae82(0x5ad)],'connectionType':this[_0x3bae82(0x7ab)]},_0x1441ac),this[_0x3bae82(0x7ab)]===_0x21fa51[_0x3bae82(0x2d1)]&&(this[_0x3bae82(0x804)]=_0x3d74ea[_0x3bae82(0x837)](()=>{const _0x2195a4=_0x3bae82;this[_0x2195a4(0x5e6)]({'type':_0x5e1ebe['Offer'],'offer':_0x28a91b,'version':this['currentVersion'],'connectionType':this[_0x2195a4(0x7ab)]},_0x1441ac);},0x1388));}async[_0x5a8b1c(0xaf0)](_0x381f78,_0x2451c7){const _0x29b05e=_0x5a8b1c;if(_0x2451c7===this[_0x29b05e(0x5ad)]){this[_0x29b05e(0x158)]();try{await this[_0x29b05e(0x4fb)][_0x29b05e(0xaf0)](_0x381f78,this['createOffer'][_0x29b05e(0x901)](this)),this[_0x29b05e(0x49a)](),this['clearConnectionTimeout'](),this[_0x29b05e(0x4f1)]();}catch(_0x482db5){this[_0x29b05e(0x610)]();}}}[_0x5a8b1c(0x28e)](_0x13b2fd){const _0xb46c68=_0x5a8b1c;if(!this['dataChannel'])throw new _0xdb384(_0xdb384[_0xb46c68(0x549)][_0xb46c68(0x801)],{'message':_0xb46c68(0x198),'localId':this[_0xb46c68(0x650)][_0xb46c68(0x3dd)](),'remoteId':this[_0xb46c68(0x1e1)],'eventMessage':_0x13b2fd});if('open'!==this[_0xb46c68(0x9b2)][_0xb46c68(0x479)])throw new _0xdb384(_0xdb384[_0xb46c68(0x549)][_0xb46c68(0x801)],{'message':_0xb46c68(0x8ea),'localId':this[_0xb46c68(0x650)][_0xb46c68(0x3dd)](),'remoteId':this[_0xb46c68(0x1e1)],'eventMessage':_0x13b2fd});let _0x450b49;if(_0x13b2fd[_0xb46c68(0x2fa)][_0xb46c68(0x349)]instanceof ArrayBuffer){const _0x174458=_0x13b2fd[_0xb46c68(0x2fa)][_0xb46c68(0x349)];_0x13b2fd={..._0x13b2fd,'content':{..._0x13b2fd[_0xb46c68(0x2fa)],'data':void 0x0}},_0x450b49=this[_0xb46c68(0x69d)](_0x13b2fd,_0x174458);}else _0x450b49=JSON[_0xb46c68(0x2ed)](_0x13b2fd);if(_0xb46c68(0x6e2)==typeof _0x450b49&&_0x450b49['length']>_0x25a1ff)return void this[_0xb46c68(0x856)](_0x13b2fd,_0x450b49);0x0===_0x13b2fd[_0xb46c68(0x2cc)]&&_0x13b2fd[_0xb46c68(0xb43)]===_0x9cb7d1[_0xb46c68(0x420)]&&this[_0xb46c68(0xa60)][_0xb46c68(0x88e)]['performCalculation'](()=>_0x241131[_0xb46c68(0x2d3)](_0xf47a5[_0xb46c68(0xa19)],'SenderPeerConnection\x20send',this[_0xb46c68(0x1e1)],_0x45b903(_0x13b2fd)),void 0x0);const _0x4ec86a=0x0===_0x13b2fd[_0xb46c68(0x2cc)]&&[_0x9cb7d1['Subscription'],_0x9cb7d1['PeerConnection']][_0xb46c68(0x595)](_0x13b2fd[_0xb46c68(0xb43)])?_0x4bea61[_0xb46c68(0x533)]:_0x13b2fd instanceof ArrayBuffer?_0x4bea61[_0xb46c68(0xaac)]:_0x4bea61['Medium'];this[_0xb46c68(0x292)](_0x450b49,_0x4ec86a);}['addTrack'](_0x53ca5d,_0x4b7f6e,_0x1b8126,_0x1364b8){const _0x28e133=_0x5a8b1c,_0xba74cc=(_0xcd2736=this[_0x28e133(0x31b)],_0x4bd8f8=this[_0x28e133(0x2af)],Math[_0x28e133(0x65d)](0xe1000*_0xcd2736*_0x4bd8f8));var _0xcd2736,_0x4bd8f8;const _0x4e3acd=this[_0x28e133(0x568)]['get'](_0x4b7f6e['id'])||{'stream':_0x4b7f6e,'priority':_0x1b8126,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0xba74cc,'maxBitrate':_0xba74cc,'framerate':this[_0x28e133(0x31b)],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x1364b8},_0x266ebc=_0x4e3acd['tracks'][_0x53ca5d[_0x28e133(0x520)]]||{'track':_0x53ca5d};if(_0x266ebc['sender']?(_0x266ebc[_0x28e133(0xa75)]=_0x53ca5d,this['connection'][_0x28e133(0x26e)](_0x53ca5d,_0x266ebc[_0x28e133(0x501)])):_0x266ebc[_0x28e133(0x501)]=this[_0x28e133(0x4fb)]['addTrack'](_0x53ca5d,_0x4b7f6e),_0x4e3acd[_0x28e133(0x3bb)][_0x53ca5d[_0x28e133(0x520)]]=_0x266ebc,_0x1364b8&&(_0x4e3acd['params']=_0x1364b8),_0x1364b8&&'video'===_0x1364b8[_0x28e133(0x520)]&&_0x1364b8['resolution']&&_0x1364b8[_0x28e133(0x84d)]&&(_0x4e3acd[_0x28e133(0x92f)]=this[_0x28e133(0x518)](_0x1364b8[_0x28e133(0x31e)],_0x1364b8[_0x28e133(0x84d)]),_0x4e3acd[_0x28e133(0xa77)]=_0x4e3acd[_0x28e133(0x92f)],_0x4e3acd[_0x28e133(0x3bb)]['video']&&_0x4e3acd[_0x28e133(0x3bb)][_0x28e133(0x498)][_0x28e133(0x501)])){const _0x4bea14=_0x4e3acd[_0x28e133(0x3bb)][_0x28e133(0x498)][_0x28e133(0x501)];this[_0x28e133(0x4fb)]['setEncodingParameters'](_0x4bea14,Math[_0x28e133(0x65d)](0xa*_0x4e3acd[_0x28e133(0x92f)])/0xa,_0x4e3acd['framerate'],_0x4e3acd[_0x28e133(0x822)],_0x4e3acd['priority']);}this[_0x28e133(0x568)][_0x28e133(0x984)](_0x4b7f6e['id'],_0x4e3acd);}[_0x5a8b1c(0xa84)](_0x59a767,_0x470116){const _0x3b82e4=_0x5a8b1c,_0x36188c=this[_0x3b82e4(0x568)][_0x3b82e4(0x8a4)](_0x59a767['id']);if(_0x36188c&&_0x36188c['priority']!==_0x470116&&(_0x36188c[_0x3b82e4(0x2bf)]=_0x470116,_0x36188c[_0x3b82e4(0x3bb)][_0x3b82e4(0x498)]&&_0x36188c[_0x3b82e4(0x3bb)][_0x3b82e4(0x498)][_0x3b82e4(0x501)])){const _0x54284e=_0x36188c[_0x3b82e4(0x3bb)][_0x3b82e4(0x498)][_0x3b82e4(0x501)];this[_0x3b82e4(0x4fb)]['setEncodingParameters'](_0x54284e,Math[_0x3b82e4(0x65d)](0xa*_0x36188c['resolutionScale'])/0xa,_0x36188c['framerate'],_0x36188c[_0x3b82e4(0x822)],_0x36188c[_0x3b82e4(0x2bf)]);}}[_0x5a8b1c(0x5bd)](_0x518a09,_0x29c421){const _0x2e056a=_0x5a8b1c,_0x551df5=this['senders'][_0x2e056a(0x8a4)](_0x518a09['id']);if(_0x551df5){if(_0x551df5['params']=_0x29c421,_0x29c421&&_0x2e056a(0x498)===_0x29c421['kind']&&_0x29c421['resolution']&&_0x29c421['maxResolution']){if(_0x551df5[_0x2e056a(0xa77)]=this[_0x2e056a(0x518)](_0x29c421[_0x2e056a(0x31e)],_0x29c421['maxResolution']),_0x551df5[_0x2e056a(0x92f)]<_0x551df5[_0x2e056a(0xa77)]&&(_0x551df5[_0x2e056a(0x92f)]=_0x551df5[_0x2e056a(0xa77)]),_0x551df5[_0x2e056a(0x3bb)][_0x2e056a(0x498)]&&_0x551df5[_0x2e056a(0x3bb)][_0x2e056a(0x498)][_0x2e056a(0x501)]){const _0x5a9648=_0x551df5[_0x2e056a(0x3bb)]['video'][_0x2e056a(0x501)];this[_0x2e056a(0x4fb)][_0x2e056a(0x885)](_0x5a9648,Math['floor'](0xa*_0x551df5['resolutionScale'])/0xa,_0x551df5[_0x2e056a(0x50e)],_0x551df5[_0x2e056a(0x822)],_0x551df5[_0x2e056a(0x2bf)]);}this['clearUpgradeTimeout'](),this[_0x2e056a(0x869)]();}this[_0x2e056a(0x568)][_0x2e056a(0x984)](_0x518a09['id'],_0x551df5);}}[_0x5a8b1c(0x889)](_0x38be99,_0x2cd536){const _0x5b5b60=_0x5a8b1c,_0x51e7b8=this[_0x5b5b60(0x568)]['get'](_0x2cd536['id']);if(_0x51e7b8){const _0x1a67f1=_0x51e7b8[_0x5b5b60(0x3bb)][_0x38be99[_0x5b5b60(0x520)]];_0x1a67f1&&(_0x1a67f1[_0x5b5b60(0x501)]&&this[_0x5b5b60(0x4fb)][_0x5b5b60(0x889)](_0x1a67f1['sender']),_0x1a67f1['track']=void 0x0);}}[_0x5a8b1c(0xafc)](_0xddc1e7){const _0x330d06=_0x5a8b1c;this[_0x330d06(0x917)]();const _0x875699=function(_0x47a1b4,_0x4776d5){const _0x42f402=_0x330d06;return _0x47a1b4[_0x42f402(0x7e3)]((_0x18c615,_0x301200)=>_0x4776d5[_0x42f402(0x866)]===_0x411a87['Downgrade']?_0x301200['priority']-_0x18c615[_0x42f402(0x2bf)]:_0x18c615[_0x42f402(0x2bf)]-_0x301200[_0x42f402(0x2bf)])[_0x42f402(0x5dd)](_0x16d6d5=>function(_0x1614d2,_0x49ac38){const _0x485918=_0x42f402;if(_0x49ac38['action']===_0x411a87[_0x485918(0x8db)]){if(_0x49ac38[_0x485918(0x808)]===_0x3079f8[_0x485918(0xa38)])return _0x1614d2[_0x485918(0x92f)]<0x4||_0x1614d2[_0x485918(0x3e6)]>0xf;if(_0x49ac38['component']===_0x3079f8[_0x485918(0x7e9)])return _0x1614d2['maxBitrate']>_0x477b90;}return _0x1614d2['resolutionScale']>_0x1614d2[_0x485918(0xa77)]||_0x1614d2['framerate']<_0x1614d2['maxFramerate']||_0x1614d2[_0x485918(0x822)]<_0x1614d2['maxBitrate'];}(_0x16d6d5,_0x4776d5));}(Array['from'](this[_0x330d06(0x568)][_0x330d06(0x4c2)]()),_0xddc1e7);if(_0x875699&&(function(_0x13f0f3,_0x45c7ca){const _0x467dcf=_0x330d06;_0x13f0f3[_0x467dcf(0x3bb)][_0x467dcf(0x498)]&&_0x13f0f3[_0x467dcf(0x3bb)][_0x467dcf(0x498)][_0x467dcf(0x501)]&&(_0x13f0f3['resolutionScale']=function(_0x4b60eb,_0x39ece7,_0x503e78){const _0x5a0fc9=_0x467dcf;switch(_0x503e78[_0x5a0fc9(0x866)]){case _0x411a87[_0x5a0fc9(0x8db)]:_0x503e78[_0x5a0fc9(0x808)]===_0x3079f8[_0x5a0fc9(0xa38)]&&(_0x4b60eb+=0.5)>0x4&&(_0x4b60eb=0x4);break;case _0x411a87['Upgrade']:(_0x4b60eb-=0.5)<_0x39ece7&&(_0x4b60eb=_0x39ece7);}return _0x4b60eb;}(_0x13f0f3['resolutionScale'],_0x13f0f3[_0x467dcf(0xa77)],_0x45c7ca),_0x13f0f3[_0x467dcf(0x50e)]=function(_0x526625,_0x4969ea,_0x33b8ab){const _0x48d0e2=_0x467dcf;switch(_0x33b8ab['action']){case _0x411a87[_0x48d0e2(0x8db)]:_0x33b8ab[_0x48d0e2(0x808)]===_0x3079f8[_0x48d0e2(0xa38)]&&(_0x526625-=0x3)<0xf&&(_0x526625=0xf);break;case _0x411a87[_0x48d0e2(0x35f)]:(_0x526625+=0x3)>_0x4969ea&&(_0x526625=_0x4969ea);}return _0x526625;}(_0x13f0f3[_0x467dcf(0x50e)],_0x13f0f3[_0x467dcf(0x3e6)],_0x45c7ca),_0x13f0f3[_0x467dcf(0x822)]=function(_0x2b3526,_0x2c5ef1,_0xdf4bb1){const _0x220388=_0x467dcf;switch(_0xdf4bb1[_0x220388(0x866)]){case _0x411a87[_0x220388(0x8db)]:_0xdf4bb1[_0x220388(0x808)]===_0x3079f8[_0x220388(0x7e9)]&&(_0x2b3526*=0.75)<_0x477b90&&(_0x2b3526=_0x477b90);break;case _0x411a87[_0x220388(0x35f)]:(_0x2b3526*=1.25)>_0x2c5ef1&&(_0x2b3526=_0x2c5ef1);}return _0x2b3526;}(_0x13f0f3[_0x467dcf(0x822)],_0x13f0f3['maxBitrate'],_0x45c7ca));}(_0x875699,_0xddc1e7),_0x875699[_0x330d06(0x3bb)][_0x330d06(0x498)]&&_0x875699['tracks']['video'][_0x330d06(0x501)])){const _0x323368=_0x875699[_0x330d06(0x3bb)][_0x330d06(0x498)][_0x330d06(0x501)];this['connection'][_0x330d06(0x885)](_0x323368,Math[_0x330d06(0x65d)](0xa*_0x875699['resolutionScale'])/0xa,_0x875699[_0x330d06(0x50e)],_0x875699[_0x330d06(0x822)],_0x875699['priority']);}(_0x875699||_0xddc1e7[_0x330d06(0x866)]===_0x411a87[_0x330d06(0x8db)])&&this[_0x330d06(0x869)]();}['calculateArrayBufferSize'](){const _0x5b62db=_0x5a8b1c;return this[_0x5b62db(0x7a0)]['queues'][_0x5b62db(0x8a0)]((_0x5cd051,_0x321782)=>_0x5cd051+_0x321782[_0x5b62db(0xaf1)],0x0)*_0x1e1d55;}[_0x5a8b1c(0xae6)](){const _0x214b4e=_0x5a8b1c;return this['dataChannel']?.[_0x214b4e(0x716)]??0x0;}[_0x5a8b1c(0x216)](){const _0x4efe1b=_0x5a8b1c;super[_0x4efe1b(0x216)](),this['clearOncloseTimeout'](),this['clearWaitAnswer'](),this[_0x4efe1b(0x568)][_0x4efe1b(0x775)](_0x39bf1a=>{const _0x1fc05a=_0x4efe1b;_0x39bf1a[_0x1fc05a(0x3bb)][_0x1fc05a(0x498)]&&(_0x39bf1a['tracks'][_0x1fc05a(0x498)][_0x1fc05a(0x501)]=void 0x0),_0x39bf1a[_0x1fc05a(0x3bb)][_0x1fc05a(0x35a)]&&(_0x39bf1a[_0x1fc05a(0x3bb)][_0x1fc05a(0x35a)]['sender']=void 0x0);}),this[_0x4efe1b(0x599)]=!0x0;}async[_0x5a8b1c(0x823)](){return new Promise(async _0x22804c=>{const _0x349aa9=a0_0x2316;if(!this['dataChannel']||'open'!==this[_0x349aa9(0x9b2)]['state'])return await _0x3d74ea[_0x349aa9(0x47e)](0x64),void _0x22804c();this[_0x349aa9(0x9b2)][_0x349aa9(0x716)]<_0x176ccb?_0x22804c():this[_0x349aa9(0x9b2)][_0x349aa9(0x32f)]=()=>{const _0x2ba688=_0x349aa9;this['dataChannel']&&(this[_0x2ba688(0x9b2)][_0x2ba688(0x32f)]=null),_0x22804c();};});}async[_0x5a8b1c(0x856)](_0x327a18,_0x220ac5){const _0xfefa5b=_0x5a8b1c,_0x2b7a93=[];for(let _0x39862c=0x0;_0x39862c<_0x220ac5['length'];_0x39862c+=_0x25a1ff)_0x2b7a93[_0xfefa5b(0x3a9)](_0x220ac5[_0xfefa5b(0x1ca)](_0x39862c,_0x39862c+_0x25a1ff));for(const _0x4056e8 of _0x2b7a93){for(;this['retryQueue'][_0xfefa5b(0x77e)][_0x4bea61[_0xfefa5b(0xaac)]][_0xfefa5b(0xaf1)]>0x1;)await _0x3d74ea[_0xfefa5b(0x47e)](0x64);this[_0xfefa5b(0x292)](_0x86117a+';'+_0x327a18[_0xfefa5b(0x2f9)]+';'+_0x2b7a93['indexOf'](_0x4056e8)+';'+_0x2b7a93[_0xfefa5b(0xa39)]+';'+_0x4056e8,_0x4bea61[_0xfefa5b(0xaac)]);}}async[_0x5a8b1c(0x292)](_0x201d96,_0xd559fa){const _0x54974d=_0x5a8b1c;_0x201d96===_0x23657c?this[_0x54974d(0x7a0)]['queues'][_0xd559fa]['head']?.[_0x54974d(0x270)]!==_0x23657c&&this[_0x54974d(0x7a0)]['queues'][_0xd559fa][_0x54974d(0xabd)](_0x201d96):this[_0x54974d(0x7a0)][_0x54974d(0x77e)][_0xd559fa][_0x54974d(0x3a9)](_0x201d96);}[_0x5a8b1c(0x6ec)](_0x480be7){const _0x50362c=_0x5a8b1c;if(!this['dataChannel']||_0x50362c(0x275)!==this[_0x50362c(0x9b2)][_0x50362c(0x479)])throw new Error(_0x50362c(0x2b6));if(this[_0x50362c(0x9b2)][_0x50362c(0x716)]>=0x600000)throw new Error(_0x50362c(0x7ff));const _0x2c997e=Date['now']();_0x480be7!==_0x23657c&&(this[_0x50362c(0xae5)]+=0x1,this[_0x50362c(0x398)]+=_0x480be7 instanceof ArrayBuffer?_0x480be7[_0x50362c(0x475)]:_0x480be7[_0x50362c(0xa39)]);try{ArrayBuffer,this[_0x50362c(0x9b2)][_0x50362c(0x28e)](_0x480be7);}catch(_0x3baf7f){throw console[_0x50362c(0x5fb)](_0x50362c(0x196),_0x3baf7f),_0x3baf7f;}this[_0x50362c(0x33c)]+=Date[_0x50362c(0x744)]()-_0x2c997e;}[_0x5a8b1c(0x4f1)](){const _0x5d0259=_0x5a8b1c;this['heartbeatUnsubscriber']&&this[_0x5d0259(0x523)]();let _0x16d9b7=!0x0,_0x14aba8=Date[_0x5d0259(0x744)]();this[_0x5d0259(0xb0b)]=Date[_0x5d0259(0x744)](),this['dataChannel'][_0x5d0259(0x756)]=_0xc9185d=>{const _0x216d91=_0x5d0259;'1'===_0xc9185d[_0x216d91(0x349)]&&(this[_0x216d91(0x8a6)]=Date['now']()-_0x14aba8,_0x16d9b7&&this['publishSystemMessage']({'type':_0x5e1ebe[_0x216d91(0x635)]}),_0x16d9b7=!0x1,this[_0x216d91(0xb0b)]=Date[_0x216d91(0x744)](),this[_0x216d91(0x599)]&&(this[_0x216d91(0x599)]=!0x1,this['handleMissingSenders']()));},this['heartbeatUnsubscriber']=_0x3d74ea[_0x5d0259(0x837)](()=>{const _0x3f5748=_0x5d0259;_0x14aba8=Date[_0x3f5748(0x744)](),this[_0x3f5748(0x292)](_0x23657c,_0x4bea61[_0x3f5748(0x533)]),Date[_0x3f5748(0x744)]()-this[_0x3f5748(0xb0b)]>(_0x16d9b7?0x15f90:0x3a98)&&this[_0x3f5748(0x610)]();},0xbb8);}[_0x5a8b1c(0x6ee)](){const _0x2d080d=_0x5a8b1c;this[_0x2d080d(0x568)][_0x2d080d(0x775)](_0x172a82=>{const _0x3070f0=_0x2d080d;_0x172a82[_0x3070f0(0x3bb)][_0x3070f0(0x498)]&&_0x172a82['tracks']['video']['track']&&!_0x172a82[_0x3070f0(0x3bb)]['video']['sender']&&(_0x172a82[_0x3070f0(0x3bb)][_0x3070f0(0x498)][_0x3070f0(0x501)]=this['connection'][_0x3070f0(0x225)](_0x172a82[_0x3070f0(0x3bb)]['video'][_0x3070f0(0xa75)],_0x172a82[_0x3070f0(0x975)])),_0x172a82[_0x3070f0(0x3bb)][_0x3070f0(0x35a)]&&_0x172a82['tracks'][_0x3070f0(0x35a)]['track']&&!_0x172a82[_0x3070f0(0x3bb)][_0x3070f0(0x35a)][_0x3070f0(0x501)]&&(_0x172a82['tracks']['audio'][_0x3070f0(0x501)]=this['connection'][_0x3070f0(0x225)](_0x172a82['tracks'][_0x3070f0(0x35a)][_0x3070f0(0xa75)],_0x172a82[_0x3070f0(0x975)]));});}[_0x5a8b1c(0x2a6)](){const _0x517ec9=_0x5a8b1c;this[_0x517ec9(0x5e6)]({'type':_0x5e1ebe['Handshake'],'candidates':this['handshakeCandidates'],'origin':_0x6b5ab7[_0x517ec9(0x1d7)],'version':this[_0x517ec9(0x5ad)],'connectionType':this['connectionType']});}['setupConnectionEvents'](){const _0x27d78c=_0x5a8b1c;super[_0x27d78c(0xa51)](),this['connection'][_0x27d78c(0x4a4)]=()=>{const _0xcdb9e0=_0x27d78c;if('failed'===this[_0xcdb9e0(0x4fb)]['handshakeState']){_0x241131[_0xcdb9e0(0x2d3)](_0xf47a5[_0xcdb9e0(0x8ce)],_0xcdb9e0(0xa7f),this[_0xcdb9e0(0x650)][_0xcdb9e0(0x3dd)](),this[_0xcdb9e0(0x1e1)]);try{if(this[_0xcdb9e0(0x4fb)][_0xcdb9e0(0x170)])return void this[_0xcdb9e0(0x4fb)]['restartHandshake']();}catch(_0x588366){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x27d78c(0x4fb)][_0x27d78c(0x9b4)]=()=>{const _0x10d60a=_0x27d78c;_0x10d60a(0x724)!==this[_0x10d60a(0x4fb)][_0x10d60a(0x430)]&&_0x10d60a(0x3df)!==this['connection'][_0x10d60a(0x430)]||this['handleDisconnect']();};}[_0x5a8b1c(0x610)](){const _0x3d5f99=_0x5a8b1c;this[_0x3d5f99(0x523)](),this[_0x3d5f99(0x762)](),this['clearConnectionTimeout'](),_0x241131[_0x3d5f99(0x382)](_0x3d5f99(0x2ab),{'clusterId':this[_0x3d5f99(0x659)],'nodeId':this['localNode'][_0x3d5f99(0x3dd)](),'nodeType':this[_0x3d5f99(0x650)][_0x3d5f99(0x2a5)],'remoteId':this[_0x3d5f99(0x1e1)],'data':{'connectionType':this[_0x3d5f99(0x7ab)],'connectionState':this['connection']['connectionState'],'iceConnectionState':this[_0x3d5f99(0x4fb)][_0x3d5f99(0x946)],'signalingState':this[_0x3d5f99(0x4fb)][_0x3d5f99(0x46d)],'readyState':this[_0x3d5f99(0x9b2)]?.[_0x3d5f99(0x479)]||'','lastHeartbeat':this[_0x3d5f99(0xb0b)]?Date[_0x3d5f99(0x744)]()-this[_0x3d5f99(0xb0b)]:'','retryQueue':this[_0x3d5f99(0x7a0)]}}),(this[_0x3d5f99(0xb0b)]&&Date[_0x3d5f99(0x744)]()-this[_0x3d5f99(0xb0b)]>0xea60)??0x1?this[_0x3d5f99(0x625)][_0x3d5f99(0x590)]({'sourceId':this[_0x3d5f99(0x1e1)],'destinationIds':[this[_0x3d5f99(0x650)][_0x3d5f99(0x3dd)]()],'messageType':_0x9cb7d1[_0x3d5f99(0x7b3)],'content':{'type':_0x5e1ebe[_0x3d5f99(0x51d)]}}):(this['resetConnection'](),this[_0x3d5f99(0x5e6)]({'type':_0x5e1ebe[_0x3d5f99(0x3c3)],'version':this[_0x3d5f99(0x5ad)],'connectionType':this[_0x3d5f99(0x7ab)]}),this[_0x3d5f99(0x3b1)]=setTimeout(()=>{const _0x489972=_0x3d5f99;this[_0x489972(0x610)]();},0x7530));}[_0x5a8b1c(0x523)](){const _0x24c77b=_0x5a8b1c;this[_0x24c77b(0x5c3)]?.(),delete this['heartbeatUnsubscriber'];}[_0x5a8b1c(0x6f1)](){const _0x4d0b7a=_0x5a8b1c;this['connectionTimeout']&&(clearTimeout(this[_0x4d0b7a(0x8bb)]),delete this[_0x4d0b7a(0x8bb)]);}['clearRestartTimeout'](){const _0x1c83e7=_0x5a8b1c;this[_0x1c83e7(0x3b1)]&&(clearTimeout(this[_0x1c83e7(0x3b1)]),delete this[_0x1c83e7(0x3b1)]);}['clearUpgradeTimeout'](){const _0x338f8a=_0x5a8b1c;this[_0x338f8a(0x65e)]&&(clearTimeout(this['upgradeTimeout']),delete this[_0x338f8a(0x65e)]);}[_0x5a8b1c(0x869)](){const _0x19464c=_0x5a8b1c;this[_0x19464c(0x65e)]=setTimeout(()=>{const _0x10d836=_0x19464c;this[_0x10d836(0xafc)]({'type':_0x22f6a1[_0x10d836(0x3e9)],'action':_0x411a87['Upgrade']});},0x3a98);}['getResolutionScale'](_0x38ef36,_0x26fe6c){const _0x5d7784=_0x5a8b1c,_0x591a78=Math[_0x5d7784(0x7bd)](_0x38ef36[_0x5d7784(0x3cf)]/_0x26fe6c[_0x5d7784(0x3cf)],_0x38ef36[_0x5d7784(0x537)]/_0x26fe6c[_0x5d7784(0x537)]);return Math[_0x5d7784(0x944)](Math[_0x5d7784(0x7bd)](_0x591a78,0x1),0x4);}[_0x5a8b1c(0x158)](){this['waitAnswer']?.(),delete this['waitAnswer'];}[_0x5a8b1c(0x9bf)](){const _0x448bb9=_0x5a8b1c;this[_0x448bb9(0x909)]&&(clearTimeout(this[_0x448bb9(0x909)]),delete this[_0x448bb9(0x909)]);}[_0x5a8b1c(0x47b)](_0x2e7780){const _0x2bba80=_0x5a8b1c,_0x6ce01e=JSON['stringify'](_0x2e7780);return new TextEncoder()[_0x2bba80(0x443)](_0x6ce01e)[_0x2bba80(0x614)];}[_0x5a8b1c(0x69d)](_0x1d9d57,_0x3cba8a){const _0x536c69=_0x5a8b1c,_0x572e1b=this['objectToArrayBuffer'](_0x1d9d57),_0x3b9ea=new Uint8Array(0x4),_0x5baec1=new Uint8Array(_0x572e1b),_0x3955a1=new Uint8Array(_0x3cba8a);_0x3b9ea[_0x536c69(0x984)](new Uint8Array(new Uint32Array([_0x5baec1['length']])['buffer']));const _0x42697b=new Uint8Array(0x4+_0x5baec1[_0x536c69(0xa39)]+_0x3955a1['length']);return _0x42697b['set'](_0x3b9ea),_0x42697b['set'](_0x5baec1,0x4),_0x42697b['set'](_0x3955a1,0x4+_0x5baec1[_0x536c69(0xa39)]),_0x42697b['buffer'];}}class _0x4bca70 extends _0x26d866{['iceServers'];[_0x5a8b1c(0x7ab)];[_0x5a8b1c(0x31b)];[_0x5a8b1c(0x2af)];[_0x5a8b1c(0xa9b)];['senderConnection'];[_0x5a8b1c(0x151)];[_0x5a8b1c(0xaaa)]=[];[_0x5a8b1c(0x7aa)]=_0x28f8fd();[_0x5a8b1c(0x2ce)]=_0x28f8fd();[_0x5a8b1c(0x2e1)]=_0x28f8fd();['listenerUnsubscribers']=[];[_0x5a8b1c(0x625)];['dataTopics']=new Map();[_0x5a8b1c(0x361)]=new Map();[_0x5a8b1c(0x3d3)]=new Map();[_0x5a8b1c(0x1d6)]=new Map();[_0x5a8b1c(0x411)]=!0x1;constructor(_0x2c4ef4,_0x239618,_0x7a8100,_0x314119,_0x384a58,_0x4b951c,_0x439364,_0x331140){const _0x568f62=_0x5a8b1c;super(_0x2c4ef4,_0x239618,_0x7a8100),this[_0x568f62(0x3d6)]=_0x314119,this['connectionType']=_0x384a58,this[_0x568f62(0x31b)]=_0x4b951c,this['maxBpp']=_0x439364,this[_0x568f62(0xa9b)]=_0x331140;}[_0x5a8b1c(0x6fa)](_0x19066d){const _0x1c93db=_0x5a8b1c;switch(_0x19066d[_0x1c93db(0x62f)]()){case _0x52baed[_0x1c93db(0xa92)][_0x1c93db(0x87a)]:case _0x52baed[_0x1c93db(0xa92)][_0x1c93db(0xad1)]:case _0x52baed[_0x1c93db(0xa92)][_0x1c93db(0xb42)]:case _0x52baed[_0x1c93db(0xa92)][_0x1c93db(0x951)]:case _0x52baed[_0x1c93db(0xa92)]['Job']:case _0x52baed[_0x1c93db(0xa92)][_0x1c93db(0x653)]:case _0x52baed[_0x1c93db(0xa92)][_0x1c93db(0x820)]:case _0x52baed['ContentType']['ExternalStorage']:this['dataTopics']['set'](_0x19066d['getLabel'](),_0x19066d);break;case _0x52baed[_0x1c93db(0xa92)][_0x1c93db(0x852)]:this[_0x1c93db(0x3d3)][_0x1c93db(0x984)](_0x19066d[_0x1c93db(0x211)](),_0x19066d);}}[_0x5a8b1c(0x845)](_0x3b2f8b){const _0x1456d5=_0x5a8b1c;switch(_0x3b2f8b[_0x1456d5(0x62f)]()){case _0x52baed['ContentType'][_0x1456d5(0x87a)]:case _0x52baed[_0x1456d5(0xa92)][_0x1456d5(0xad1)]:case _0x52baed[_0x1456d5(0xa92)]['ObjectStore']:case _0x52baed[_0x1456d5(0xa92)][_0x1456d5(0x951)]:case _0x52baed[_0x1456d5(0xa92)][_0x1456d5(0x492)]:case _0x52baed[_0x1456d5(0xa92)][_0x1456d5(0x653)]:case _0x52baed[_0x1456d5(0xa92)][_0x1456d5(0x820)]:case _0x52baed[_0x1456d5(0xa92)]['ExternalStorage']:this[_0x1456d5(0x589)][_0x1456d5(0x1cd)](_0x3b2f8b[_0x1456d5(0x211)]());break;case _0x52baed[_0x1456d5(0xa92)][_0x1456d5(0x852)]:this[_0x1456d5(0x3d3)][_0x1456d5(0x1cd)](_0x3b2f8b[_0x1456d5(0x211)]());}}[_0x5a8b1c(0x230)](_0x30c54f){const _0xc5965e=_0x5a8b1c;switch(_0x30c54f[_0xc5965e(0x62f)]()){case _0x52baed[_0xc5965e(0xa92)][_0xc5965e(0x87a)]:case _0x52baed[_0xc5965e(0xa92)][_0xc5965e(0xad1)]:case _0x52baed[_0xc5965e(0xa92)]['ObjectStore']:case _0x52baed[_0xc5965e(0xa92)][_0xc5965e(0x951)]:case _0x52baed[_0xc5965e(0xa92)][_0xc5965e(0x492)]:case _0x52baed['ContentType'][_0xc5965e(0x653)]:case _0x52baed['ContentType']['GraphDatabase']:case _0x52baed[_0xc5965e(0xa92)]['ExternalStorage']:{const _0x5ae412=_0x30c54f[_0xc5965e(0x19a)](_0x586c09=>{const _0x13ae56=_0xc5965e;_0x2b6706(_0x586c09,this[_0x13ae56(0x9a8)]())&&_0x5bf992(_0x586c09,this[_0x13ae56(0x1e1)])&&this[_0x13ae56(0x28e)](_0x586c09);});this[_0xc5965e(0x361)]['set'](_0x30c54f[_0xc5965e(0x211)](),_0x5ae412);break;}case _0x52baed['ContentType'][_0xc5965e(0x852)]:{const _0x37c548=_0x30c54f[_0xc5965e(0x19a)](({content:_0x12ca83})=>{const _0x5537be=_0xc5965e;switch(_0x12ca83[_0x5537be(0x866)]){case _0x4a37a5[_0x5537be(0x283)]:this[_0x5537be(0x225)](_0x12ca83[_0x5537be(0xa75)],_0x12ca83[_0x5537be(0x975)],_0x12ca83[_0x5537be(0x2bf)],_0x12ca83[_0x5537be(0x575)]);break;case _0x4a37a5[_0x5537be(0xaca)]:this[_0x5537be(0x889)](_0x12ca83['track'],_0x12ca83[_0x5537be(0x975)]);break;case _0x4a37a5[_0x5537be(0xafa)]:_0x12ca83[_0x5537be(0x2bf)]&&this[_0x5537be(0xa84)](_0x12ca83[_0x5537be(0x975)],_0x12ca83[_0x5537be(0x2bf)]),_0x12ca83['params']&&this[_0x5537be(0x5bd)](_0x12ca83[_0x5537be(0x975)],_0x12ca83[_0x5537be(0x575)]);}});this['mediaUnsubscribers'][_0xc5965e(0x984)](_0x30c54f[_0xc5965e(0x211)](),_0x37c548);break;}}}[_0x5a8b1c(0x3b4)](_0x4a30c9){const _0x41ae98=_0x5a8b1c;switch(_0x4a30c9[_0x41ae98(0x62f)]()){case _0x52baed[_0x41ae98(0xa92)][_0x41ae98(0x87a)]:case _0x52baed[_0x41ae98(0xa92)][_0x41ae98(0xad1)]:case _0x52baed['ContentType'][_0x41ae98(0xb42)]:case _0x52baed[_0x41ae98(0xa92)][_0x41ae98(0x951)]:case _0x52baed[_0x41ae98(0xa92)]['Job']:case _0x52baed[_0x41ae98(0xa92)][_0x41ae98(0x653)]:case _0x52baed['ContentType'][_0x41ae98(0x820)]:case _0x52baed[_0x41ae98(0xa92)]['ExternalStorage']:this[_0x41ae98(0x361)][_0x41ae98(0x8a4)](_0x4a30c9[_0x41ae98(0x211)]())?.(),this[_0x41ae98(0x361)][_0x41ae98(0x1cd)](_0x4a30c9[_0x41ae98(0x211)]());break;case _0x52baed[_0x41ae98(0xa92)][_0x41ae98(0x852)]:this['mediaUnsubscribers'][_0x41ae98(0x8a4)](_0x4a30c9[_0x41ae98(0x211)]())?.(),this[_0x41ae98(0x1d6)][_0x41ae98(0x1cd)](_0x4a30c9[_0x41ae98(0x211)]());}}[_0x5a8b1c(0x7c6)](){const _0x3b035d=_0x5a8b1c;return[_0x52baed[_0x3b035d(0xa92)][_0x3b035d(0x87a)],_0x52baed[_0x3b035d(0xa92)]['Media'],_0x52baed['ContentType'][_0x3b035d(0xad1)],_0x52baed['ContentType'][_0x3b035d(0xb42)],_0x52baed[_0x3b035d(0xa92)][_0x3b035d(0x951)],_0x52baed['ContentType'][_0x3b035d(0x492)],_0x52baed[_0x3b035d(0xa92)][_0x3b035d(0x653)],_0x52baed['ContentType'][_0x3b035d(0x820)],_0x52baed[_0x3b035d(0xa92)][_0x3b035d(0x1e9)]];}[_0x5a8b1c(0x3ee)](_0x244415){const _0xaf1cfe=_0x5a8b1c;this[_0xaf1cfe(0x625)]=_0x244415;}[_0x5a8b1c(0x8f7)](){const _0x2aebb0=_0x5a8b1c;delete this[_0x2aebb0(0x625)];}async[_0x5a8b1c(0x61f)](){const _0x45d7b1=_0x5a8b1c;this['setupListeners'](),await this[_0x45d7b1(0x9b1)]();}[_0x5a8b1c(0x494)](){const _0x3908bc=_0x5a8b1c;this['listenerUnsubscribers'][_0x3908bc(0x775)](_0x481004=>_0x481004()),this[_0x3908bc(0x588)]=[],this[_0x3908bc(0x844)]?.['unregisterSystemPublisher'](),this[_0x3908bc(0x844)]?.[_0x3908bc(0x494)](),delete this[_0x3908bc(0x844)],this[_0x3908bc(0xaaa)][_0x3908bc(0x775)](_0x10ef15=>_0x10ef15()),this[_0x3908bc(0xaaa)]=[],this['receiverConnection']?.['unregisterSystemPublisher'](),this[_0x3908bc(0x151)]?.['close'](),delete this[_0x3908bc(0x151)];}[_0x5a8b1c(0x294)](){const _0x95b54e=_0x5a8b1c;return this[_0x95b54e(0x844)]?.[_0x95b54e(0x294)]()&&this['receiverConnection']?.[_0x95b54e(0x294)]()||!0x1;}[_0x5a8b1c(0x28e)](_0x5e661a){const _0x1bbbba=_0x5a8b1c;if(!this[_0x1bbbba(0x844)]||!this[_0x1bbbba(0x294)]())throw new _0xdb384(_0xdb384[_0x1bbbba(0x549)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x1bbbba(0x844)]?.['isConnected'](),'receiverConnected':this[_0x1bbbba(0x151)]?.['isConnected'](),'localId':this[_0x1bbbba(0x9a8)](),'remoteId':this[_0x1bbbba(0x1e1)],'data':_0x5e661a});this['senderConnection'][_0x1bbbba(0x28e)](_0x5e661a);}['onMessage'](_0x835525){const _0x152df0=_0x5a8b1c;return this[_0x152df0(0x7aa)][_0x152df0(0x19a)](_0x835525);}[_0x5a8b1c(0x654)](_0x257072){const _0x3ef19a=_0x5a8b1c;return this[_0x3ef19a(0x2ce)][_0x3ef19a(0x19a)](({track:_0x4d57b0,stream:_0x3e42fe})=>_0x257072(_0x4d57b0,_0x3e42fe));}[_0x5a8b1c(0x66d)](_0x286d71){const _0xc79dc7=_0x5a8b1c;return this[_0xc79dc7(0x2e1)]['subscribe'](({track:_0x14cc42,stream:_0x435a4c})=>_0x286d71(_0x14cc42,_0x435a4c));}[_0x5a8b1c(0x225)](_0x454daa,_0x54d369,_0x2ecc70,_0x3f3b13){const _0x25c341=_0x5a8b1c;this[_0x25c341(0x844)]?.['addTrack'](_0x454daa,_0x54d369,_0x2ecc70,_0x3f3b13);}[_0x5a8b1c(0xa84)](_0x74c819,_0x48e96f){this['senderConnection']?.['setPriority'](_0x74c819,_0x48e96f);}[_0x5a8b1c(0x5bd)](_0x7f3272,_0x52f17b){const _0x296307=_0x5a8b1c;this['senderConnection']?.[_0x296307(0x5bd)](_0x7f3272,_0x52f17b);}[_0x5a8b1c(0x889)](_0x2812b4,_0x30013d){const _0x40e2a2=_0x5a8b1c;this[_0x40e2a2(0x844)]?.[_0x40e2a2(0x889)](_0x2812b4,_0x30013d);}async[_0x5a8b1c(0x9c7)](_0x15148d){const _0x3b0c70=_0x5a8b1c;_0x241131['log'](_0xf47a5[_0x3b0c70(0x550)],_0x3b0c70(0x334),this[_0x3b0c70(0x9a8)](),_0x15148d);const {content:_0x5b82b3}=_0x15148d;switch(_0x5b82b3[_0x3b0c70(0x2a5)]){case _0x5e1ebe[_0x3b0c70(0x403)]:await this[_0x3b0c70(0x203)](_0x5b82b3);break;case _0x5e1ebe[_0x3b0c70(0x3be)]:await this['handleAnswer'](_0x5b82b3);break;case _0x5e1ebe[_0x3b0c70(0x635)]:this['handleSuccess']();break;case _0x5e1ebe[_0x3b0c70(0x43c)]:await this['handleIceCandidates'](_0x5b82b3);break;case _0x5e1ebe[_0x3b0c70(0x3c3)]:this[_0x3b0c70(0x5a5)](_0x5b82b3);break;case _0x5e1ebe[_0x3b0c70(0x7b4)]:await this[_0x3b0c70(0x9b1)]();}}[_0x5a8b1c(0x141)](_0x1d607a){const _0x559713=_0x5a8b1c;this['senderConnection']?.[_0x559713(0xafc)](_0x1d607a[_0x559713(0x2fa)][_0x559713(0x349)]);}[_0x5a8b1c(0x62e)](){const _0x32d15b=_0x5a8b1c;return this[_0x32d15b(0x7ab)];}[_0x5a8b1c(0x38b)](_0x3d52b3){const _0x4cd336=_0x5a8b1c;this[_0x4cd336(0x7ab)]=_0x3d52b3,this['senderConnection']?.[_0x4cd336(0x38b)](_0x3d52b3),this[_0x4cd336(0x151)]?.[_0x4cd336(0x38b)](_0x3d52b3);}async[_0x5a8b1c(0xa0e)](){await this['senderConnection']?.['collectStats'](),await this['receiverConnection']?.['collectStats']();}['calculateArrayBufferSize'](){const _0x560284=_0x5a8b1c;return this['senderConnection']?.[_0x560284(0x180)]()??0x0;}[_0x5a8b1c(0xae6)](){const _0xa83714=_0x5a8b1c;return this[_0xa83714(0x844)]?.[_0xa83714(0xae6)]()??0x0;}[_0x5a8b1c(0x655)](){const _0x1dd954=_0x5a8b1c;this['listenerUnsubscribers']['push'](this['onMessage'](_0x211630=>{const _0x629007=a0_0x2316;_0x5bf992(_0x211630,this[_0x629007(0x9a8)]())&&0x0!==_0x211630[_0x629007(0x2cc)]&&this['dataTopics']['get'](_0x211630['topicLabel'])?.[_0x629007(0x590)](_0x211630);})),this[_0x1dd954(0x588)][_0x1dd954(0x3a9)](this[_0x1dd954(0x654)]((_0x44b778,_0x4d4217)=>{const _0x233607=_0x1dd954,_0x36e8ab=_0xc3bbef(_0x52baed['ContentType'][_0x233607(0x852)],_0x4d4217['id'],this[_0x233607(0x1e1)]);this[_0x233607(0x3d3)][_0x233607(0x8a4)](_0x36e8ab)?.[_0x233607(0x590)]({'topicLabel':_0x36e8ab,'sourceId':this[_0x233607(0x1e1)],'contentType':_0x52baed['ContentType'][_0x233607(0x852)],'content':{'action':_0x4a37a5['RemoteAdd'],'track':_0x44b778,'stream':_0x4d4217,'providerId':this['remoteId']}});})),this[_0x1dd954(0x588)][_0x1dd954(0x3a9)](this[_0x1dd954(0x66d)]((_0x22aab3,_0x4efff6)=>{const _0xfb585d=_0x1dd954,_0x5739fb=_0xc3bbef(_0x52baed['ContentType'][_0xfb585d(0x852)],_0x4efff6['id'],this[_0xfb585d(0x1e1)]);this[_0xfb585d(0x3d3)]['get'](_0x5739fb)?.[_0xfb585d(0x590)]({'topicLabel':_0x5739fb,'sourceId':this[_0xfb585d(0x1e1)],'contentType':_0x52baed['ContentType'][_0xfb585d(0x852)],'content':{'action':_0x4a37a5[_0xfb585d(0x4da)],'track':_0x22aab3,'stream':_0x4efff6,'providerId':this[_0xfb585d(0x1e1)]}});}));}['handleIceCandidates']({candidates:_0x5b7246,origin:_0x1a06d2,version:_0x36c068}){const _0x1cda3e=_0x5a8b1c;return _0x1a06d2===_0x6b5ab7[_0x1cda3e(0x1d7)]?(this[_0x1cda3e(0x151)]||this[_0x1cda3e(0x8c5)](),this['receiverConnection'][_0x1cda3e(0x923)](_0x5b7246,_0x36c068)):this[_0x1cda3e(0x844)][_0x1cda3e(0x923)](_0x5b7246,_0x36c068);}async[_0x5a8b1c(0x9b1)](){const _0x3efa15=_0x5a8b1c;this[_0x3efa15(0x844)]||this[_0x3efa15(0x68e)](),await this['senderConnection'][_0x3efa15(0x9b1)]();}async[_0x5a8b1c(0x203)]({offer:_0x405a58,version:_0x3b0608}){const _0x51b883=_0x5a8b1c;this[_0x51b883(0x151)]||this[_0x51b883(0x8c5)](),await this[_0x51b883(0x151)][_0x51b883(0x203)](_0x405a58,_0x3b0608);}async[_0x5a8b1c(0xaf0)]({answer:_0x58e63d,version:_0x4032e7}){const _0x5e7876=_0x5a8b1c;if(!this[_0x5e7876(0x844)])throw new _0xdb384(_0xdb384[_0x5e7876(0x549)][_0x5e7876(0xb47)],{'message':_0x5e7876(0x79c),'localId':this['getLocalId'](),'remoteId':this['remoteId'],'answer':_0x58e63d});await this[_0x5e7876(0x844)]['handleAnswer'](_0x58e63d,_0x4032e7);}[_0x5a8b1c(0xb35)](){const _0x1ff97c=_0x5a8b1c;if(!this[_0x1ff97c(0x151)])throw new _0xdb384(_0xdb384[_0x1ff97c(0x549)][_0x1ff97c(0xb47)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x1ff97c(0x9a8)](),'remoteId':this[_0x1ff97c(0x1e1)]});this[_0x1ff97c(0x151)][_0x1ff97c(0xb35)](),this[_0x1ff97c(0x411)]||this[_0x1ff97c(0x7ab)]!==_0x21fa51[_0x1ff97c(0x83d)]||(this[_0x1ff97c(0x411)]=!0x0,this[_0x1ff97c(0x625)]?.['publish']({'sourceId':this['remoteId'],'destinationIds':[this[_0x1ff97c(0x9a8)]()],'messageType':_0x9cb7d1[_0x1ff97c(0x7b3)],'content':{'type':_0x5e1ebe[_0x1ff97c(0x662)]}}));}[_0x5a8b1c(0x5a5)](_0x47a5f3){const _0x5589ae=_0x5a8b1c;this[_0x5589ae(0x151)]||this[_0x5589ae(0x8c5)](),this['receiverConnection'][_0x5589ae(0x5a5)](_0x47a5f3[_0x5589ae(0x736)]);}[_0x5a8b1c(0x68e)](){const _0x79480b=_0x5a8b1c;this[_0x79480b(0x844)]=new _0x7cf898(this[_0x79480b(0x659)],this[_0x79480b(0x650)],this['remoteId'],this[_0x79480b(0x3d6)],this[_0x79480b(0x7ab)],this[_0x79480b(0x31b)],this[_0x79480b(0x2af)],this[_0x79480b(0xa9b)]),this[_0x79480b(0x844)]['registerSystemPublisher'](this[_0x79480b(0x625)]);}['createReceiverConnection'](){const _0x35c74c=_0x5a8b1c;this['receiverConnection']=new _0x38ea8b(this['clusterId'],this['localNode'],this[_0x35c74c(0x1e1)],this[_0x35c74c(0x3d6)],this[_0x35c74c(0x7ab)],this[_0x35c74c(0xa9b)]),this[_0x35c74c(0x151)][_0x35c74c(0x3ee)](this[_0x35c74c(0x625)]),this['receiverUnsubscribers'][_0x35c74c(0x3a9)](this[_0x35c74c(0x151)][_0x35c74c(0x756)](_0x530afc=>this[_0x35c74c(0x7aa)][_0x35c74c(0x590)](_0x530afc))),this[_0x35c74c(0xaaa)][_0x35c74c(0x3a9)](this[_0x35c74c(0x151)]['onTrack']((_0x3c7960,_0x20cfdd)=>this[_0x35c74c(0x2ce)][_0x35c74c(0x590)]({'track':_0x3c7960,'stream':_0x20cfdd}))),this[_0x35c74c(0xaaa)][_0x35c74c(0x3a9)](this['receiverConnection'][_0x35c74c(0x66d)]((_0x541f29,_0x16984d)=>this[_0x35c74c(0x2e1)][_0x35c74c(0x590)]({'track':_0x541f29,'stream':_0x16984d})));}}class _0x31c10f{['localId'];[_0x5a8b1c(0xa43)];[_0x5a8b1c(0xa48)];['connections']=new Map();[_0x5a8b1c(0x7aa)]=_0x28f8fd();[_0x5a8b1c(0x96e)];['dataTopics']=new Map();[_0x5a8b1c(0x361)]=new Map();[_0x5a8b1c(0x2e2)]=new Map();constructor(_0x3a69ce,_0x33be76,_0x19e148){const _0x25d6e2=_0x5a8b1c;this['localId']=_0x3a69ce,this[_0x25d6e2(0xa43)]=_0x33be76,this[_0x25d6e2(0xa48)]=_0x19e148,this[_0x25d6e2(0x96e)]=this[_0x25d6e2(0x756)](_0x9b205b=>{const _0x1127a7=_0x25d6e2;this[_0x1127a7(0xa43)][_0x1127a7(0x7e1)](_0x9b205b['uuid'])||(_0x5bf992(_0x9b205b,this['localId'])&&0x0!==_0x9b205b[_0x1127a7(0x2cc)]&&(this[_0x1127a7(0xa43)][_0x1127a7(0x54a)](_0x9b205b[_0x1127a7(0x2f9)]),this[_0x1127a7(0x589)][_0x1127a7(0x8a4)](_0x9b205b[_0x1127a7(0x2cc)])?.['publish'](_0x9b205b)),_0x9b205b[_0x1127a7(0x85c)]&&this[_0x1127a7(0x28e)](_0x9b205b));});}['close'](){const _0x33f5e9=_0x5a8b1c;this[_0x33f5e9(0x96e)]?.();}[_0x5a8b1c(0x694)](_0x25a5d8){const _0x228bf0=_0x5a8b1c,_0x322cba=_0x25a5d8[_0x228bf0(0x756)](_0x22f030=>{const _0x39c5c4=_0x228bf0;this[_0x39c5c4(0x7aa)][_0x39c5c4(0x590)](_0x22f030);});this[_0x228bf0(0x4d8)][_0x228bf0(0x984)](_0x25a5d8,_0x322cba),this[_0x228bf0(0x2e2)][_0x228bf0(0x984)](_0x25a5d8[_0x228bf0(0x8fd)](),function(_0x2c8881,_0x23e9b5=!0x1){let _0x4412ef=new Map();const _0x46484d=_0x2df630(_0x2c8881,_0x23e9b5,function(_0x11f316){const _0x3537a2=a0_0x2316;_0x4952b2(_0x11f316)&&_0x4412ef['delete'](_0x11f316[_0x3537a2(0x2fb)]+'-'+(_0x11f316[_0x3537a2(0x4e9)]??[])+'-'+_0x11f316[_0x3537a2(0xb43)]+'-'+_0x11f316[_0x3537a2(0x2fa)][_0x3537a2(0x2a5)]);},function(_0x4b5e07){return!!function(_0x3d9dd2){const _0x55b507=a0_0x2316,_0x1bf9ba=_0x3d9dd2[_0x55b507(0x270)];if(!_0x4952b2(_0x1bf9ba))return!0x1;const _0x2475a6=_0x1bf9ba['sourceId']+'-'+(_0x1bf9ba[_0x55b507(0x4e9)]??[])+'-'+_0x1bf9ba[_0x55b507(0xb43)]+'-'+_0x1bf9ba[_0x55b507(0x2fa)]['type'],_0x3f7201={'version':_0x1bf9ba[_0x55b507(0x2fa)][_0x55b507(0x736)],'element':_0x3d9dd2},_0x4a4e79=_0x4412ef[_0x55b507(0x8a4)](_0x2475a6);return _0x4a4e79?(_0x4a4e79[_0x55b507(0x736)]>=_0x1bf9ba['content']['version']||(_0x4a4e79[_0x55b507(0x873)]['previous']&&(_0x4a4e79[_0x55b507(0x873)]['previous'][_0x55b507(0x8d1)]=_0x3d9dd2,_0x3d9dd2[_0x55b507(0xb30)]=_0x4a4e79[_0x55b507(0x873)][_0x55b507(0xb30)]),_0x4a4e79[_0x55b507(0x873)][_0x55b507(0x8d1)]&&(_0x4a4e79[_0x55b507(0x873)][_0x55b507(0x8d1)][_0x55b507(0xb30)]=_0x3d9dd2,_0x3d9dd2[_0x55b507(0x8d1)]=_0x4a4e79[_0x55b507(0x873)][_0x55b507(0x8d1)]),_0x4a4e79[_0x55b507(0x873)]===_0x46484d[_0x55b507(0x4ca)]&&(_0x46484d[_0x55b507(0x4ca)]=_0x3d9dd2),_0x4a4e79['element']===_0x46484d['tail']&&(_0x46484d[_0x55b507(0x20a)]=_0x3d9dd2),_0x4412ef['set'](_0x2475a6,_0x3f7201)),!0x0):(_0x4412ef['set'](_0x2475a6,_0x3f7201),!0x1);}(_0x4b5e07);},function(){const _0x346abe=a0_0x2316;_0x4412ef[_0x346abe(0x5a9)]();});function _0x4952b2(_0x1dd389){const _0x59f0ab=a0_0x2316;if(_0x1dd389&&_0x59f0ab(0x55e)==typeof _0x1dd389&&_0x1dd389[_0x59f0ab(0x8e9)]('content')&&_0x1dd389['hasOwnProperty']('messageType')&&_0x1dd389[_0x59f0ab(0x8e9)](_0x59f0ab(0x2fb))){const _0x1d2ac1=_0x1dd389;if(_0x1d2ac1[_0x59f0ab(0x2fa)]&&_0x59f0ab(0x55e)==typeof _0x1d2ac1['content']&&_0x1d2ac1[_0x59f0ab(0x2fa)][_0x59f0ab(0x8e9)](_0x59f0ab(0x736))&&_0x1d2ac1[_0x59f0ab(0x2fa)]['hasOwnProperty']('type'))return!0x0;}return!0x1;}return _0x46484d;}(new _0x17e78e(_0x25d1f0=>_0x25a5d8[_0x228bf0(0x28e)](_0x25d1f0),()=>_0x3d74ea[_0x228bf0(0x47e)](0x64))));}[_0x5a8b1c(0xac0)](_0x599d89){const _0x574bb6=_0x5a8b1c;this[_0x574bb6(0x4d8)]['get'](_0x599d89)?.(),this[_0x574bb6(0x4d8)][_0x574bb6(0x1cd)](_0x599d89),this['retryQueues'][_0x574bb6(0x8a4)](_0x599d89[_0x574bb6(0x8fd)]())?.[_0x574bb6(0x5a9)](),this[_0x574bb6(0x2e2)]['delete'](_0x599d89[_0x574bb6(0x8fd)]());}[_0x5a8b1c(0x294)](_0x1b6017){const _0x591630=_0x5a8b1c;return _0x241131['log'](_0xf47a5[_0x591630(0x8ce)],_0x591630(0x5cf),this[_0x591630(0xad8)],this['connections'][_0x591630(0x7f4)]()),0x0!==this[_0x591630(0x4d8)][_0x591630(0xaf1)]&&(Array[_0x591630(0x47c)](this['connections'][_0x591630(0x7f4)]())['find'](_0x3360d5=>_0x3360d5[_0x591630(0x8fd)]()===_0x1b6017)?.[_0x591630(0x294)]()??!0x1);}['registerPublisher'](_0x1a259a){const _0xfbcdb5=_0x5a8b1c;this[_0xfbcdb5(0x589)]['set'](_0x1a259a[_0xfbcdb5(0x211)](),_0x1a259a);}[_0x5a8b1c(0x845)](_0x1a7da3){const _0x3c8a3a=_0x5a8b1c;this['dataTopics'][_0x3c8a3a(0x1cd)](_0x1a7da3['getLabel']());}[_0x5a8b1c(0x230)](_0x125e76){const _0x564e31=_0x5a8b1c,_0x196d7c=_0x125e76[_0x564e31(0x19a)](this[_0x564e31(0x28e)][_0x564e31(0x901)](this));this[_0x564e31(0x361)][_0x564e31(0x984)](_0x125e76['getLabel'](),_0x196d7c);}[_0x5a8b1c(0x3b4)](_0x1298a5){const _0xdaae1b=_0x5a8b1c;this[_0xdaae1b(0x361)][_0xdaae1b(0x8a4)](_0x1298a5[_0xdaae1b(0x211)]())?.(),this[_0xdaae1b(0x361)]['delete'](_0x1298a5[_0xdaae1b(0x211)]());}[_0x5a8b1c(0x7c6)](){const _0x2f7cd7=_0x5a8b1c;return[_0x52baed[_0x2f7cd7(0xa92)][_0x2f7cd7(0x87a)],_0x52baed['ContentType'][_0x2f7cd7(0xad1)],_0x52baed['ContentType']['ObjectStore'],_0x52baed[_0x2f7cd7(0xa92)][_0x2f7cd7(0x951)],_0x52baed[_0x2f7cd7(0xa92)]['Job'],_0x52baed[_0x2f7cd7(0xa92)][_0x2f7cd7(0x653)],_0x52baed['ContentType'][_0x2f7cd7(0x820)],_0x52baed[_0x2f7cd7(0xa92)][_0x2f7cd7(0x1e9)]];}['send'](_0x5f2fb0){const _0xc155bf=_0x5a8b1c;if(!0x1===_0x5f2fb0[_0xc155bf(0x657)]){if(_0x5f2fb0['propagate']||!_0x5f2fb0[_0xc155bf(0x4e9)]||0x1!==_0x5f2fb0[_0xc155bf(0x4e9)]['length'])throw new _0xdb384(_0xdb384[_0xc155bf(0x549)][_0xc155bf(0xa6a)],{'message':_0xc155bf(0x75c),'localId':this[_0xc155bf(0xad8)]});if(!this[_0xc155bf(0x294)](_0x5f2fb0[_0xc155bf(0x4e9)][0x0]))throw new _0x181159(_0xc155bf(0xa53));}const _0x282d14=_0x5f2fb0[_0xc155bf(0x3d8)]??[];try{const {filteredDestinationIds:_0x249a2b,extendedRecipients:_0x541990}=this[_0xc155bf(0x69a)](_0x5f2fb0,_0x282d14);_0x5f2fb0['destinationIds']=_0x249a2b,_0x5f2fb0[_0xc155bf(0x3d8)]=_0x541990;}catch(_0x410eb3){if(_0x410eb3 instanceof _0x181159)return void _0x241131['log'](_0xf47a5[_0xc155bf(0x550)],_0xc155bf(0x8e0),_0xc155bf(0xada),_0x5f2fb0,_0x410eb3[_0xc155bf(0x421)]);}const _0x4a249e=this[_0xc155bf(0x57b)](_0x5f2fb0);this[_0xc155bf(0xa83)](_0x5f2fb0,_0x4a249e),_0x5f2fb0[_0xc155bf(0x85c)]=_0x4a249e;const _0x377b6d=this[_0xc155bf(0x381)](_0x5f2fb0,_0x282d14);for(const _0x26f4e6 of _0x377b6d){const _0x3cf090=this[_0xc155bf(0x2e2)][_0xc155bf(0x8a4)](_0x26f4e6[_0xc155bf(0x8fd)]());if(!_0x3cf090)throw new _0xdb384(_0xdb384['codes'][_0xc155bf(0x4cb)],{'message':'CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','localId':this[_0xc155bf(0xad8)],'remoteId':_0x26f4e6['getRemoteId'](),'data':_0x5f2fb0});_0x3cf090[_0xc155bf(0x3a9)](_0x5f2fb0);}}[_0x5a8b1c(0x8fd)](){return'';}['getLocalId'](){const _0x8e4d33=_0x5a8b1c;return this[_0x8e4d33(0xad8)];}[_0x5a8b1c(0x756)](_0x475ea8){const _0x5f2368=_0x5a8b1c;return this[_0x5f2368(0x7aa)][_0x5f2368(0x19a)](_0x475ea8);}[_0x5a8b1c(0x69a)](_0x56a321,_0x3f52f6){const _0x5690d7=_0x5a8b1c,_0x278a5a={'filteredDestinationIds':_0x56a321[_0x5690d7(0x4e9)],'extendedRecipients':_0x56a321[_0x5690d7(0x3d8)]};if(!_0x56a321[_0x5690d7(0x85c)])return _0x278a5a;const _0x46a1d5=Array['from'](this[_0x5690d7(0x4d8)][_0x5690d7(0x7f4)]())[_0x5690d7(0x930)](_0x88ce16=>_0x88ce16[_0x5690d7(0x62e)]()===_0x21fa51[_0x5690d7(0x2d1)]||_0x88ce16[_0x5690d7(0x294)]())[_0x5690d7(0x3d5)](_0x1fa37c=>_0x1fa37c[_0x5690d7(0x8fd)]());if(_0x46a1d5[_0x5690d7(0x8a0)]((_0x12fb93,_0x2e3f02)=>_0x12fb93&&_0x56a321['recipients'][_0x5690d7(0x595)](_0x2e3f02),!0x0))throw new _0x181159(_0x5690d7(0x915));if(_0x56a321[_0x5690d7(0x4e9)]){const _0x142b80=_0x56a321[_0x5690d7(0x4e9)][_0x5690d7(0x930)](_0x2696be=>_0x2696be!==this['localId']&&!_0x56a321[_0x5690d7(0x3d8)][_0x5690d7(0x595)](_0x2696be));if(0x0===_0x142b80[_0x5690d7(0xa39)])throw new _0x181159('No\x20destinationIds\x20left');_0x278a5a['filteredDestinationIds']=_0x142b80;}return _0x278a5a[_0x5690d7(0x7d4)]=[...new Set([..._0x3f52f6,..._0x46a1d5,this['localId']])],_0x278a5a;}[_0x5a8b1c(0xa83)](_0x55d97d,_0x40212b=!0x1){const _0x1c2901=_0x5a8b1c;if(0x0===_0x55d97d[_0x1c2901(0x2cc)]&&!_0x2b6706(_0x55d97d,this[_0x1c2901(0xad8)])&&_0x55d97d[_0x1c2901(0x85c)]){const _0x416ea9=_0x46a179(_0x55d97d,this['localId']);_0x241131[_0x1c2901(0x459)](_0xf47a5['System'],_0x55d97d[_0x1c2901(0x2f9)]+_0x1c2901(0x6fd)+_0x40212b+')\x20'+_0x416ea9,_0x55d97d,_0x40212b);}}[_0x5a8b1c(0x57b)](_0x57bfa9){const _0x8c8c38=_0x5a8b1c;if(_0x57bfa9['destinationIds']&&_0x57bfa9['propagate']){const _0xdbe68=Array[_0x8c8c38(0x47c)](this[_0x8c8c38(0x4d8)][_0x8c8c38(0x7f4)]())[_0x8c8c38(0x930)](_0x3c5f4a=>_0x3c5f4a['getConnectionType']()===_0x21fa51[_0x8c8c38(0x2d1)]||_0x3c5f4a[_0x8c8c38(0x294)]())[_0x8c8c38(0x3d5)](_0x37b6bd=>_0x37b6bd[_0x8c8c38(0x8fd)]());return!_0x57bfa9[_0x8c8c38(0x4e9)][_0x8c8c38(0x8a0)]((_0xfe0673,_0x2b894e)=>_0xfe0673&&_0xdbe68[_0x8c8c38(0x595)](_0x2b894e),!0x0);}return _0x57bfa9['propagate']??!0x1;}[_0x5a8b1c(0x381)](_0x3067da,_0x41f203){const _0xb343c9=_0x5a8b1c;if(_0x3067da[_0xb343c9(0x85c)]&&_0x3067da[_0xb343c9(0x4e9)]){const _0x1fe22f=Array[_0xb343c9(0x47c)](this[_0xb343c9(0x4d8)][_0xb343c9(0x7f4)]())[_0xb343c9(0x930)](_0x25331d=>_0x25331d[_0xb343c9(0x62e)]()===_0x21fa51[_0xb343c9(0x2d1)]||_0x25331d[_0xb343c9(0x294)]())[_0xb343c9(0x3d5)](_0x186528=>_0x186528[_0xb343c9(0x8fd)]()),_0x54b118=new Set(),_0x5a93a0=_0x3067da[_0xb343c9(0x2fb)]===this[_0xb343c9(0xad8)]?0x3:0x1;return _0x3067da[_0xb343c9(0x4e9)][_0xb343c9(0x775)](_0x2b5a01=>{const _0x58e095=_0xb343c9,_0x4c6b9d=this['graphService'][_0x58e095(0x442)](_0x1fe22f,_0x2b5a01);let _0x4d8664=0x0,_0x939a0f=0x0;_0x4c6b9d['forEach'](_0x220489=>{const _0x50f827=_0x58e095;if(_0x4d8664>=_0x5a93a0)return;const _0x54920c=Array['from'](this[_0x50f827(0x4d8)][_0x50f827(0x7f4)]())['find'](_0x466e9e=>_0x466e9e[_0x50f827(0x8fd)]()===_0x220489);if(_0x54920c){if(_0x54920c['getConnectionType']()===_0x21fa51['Core']&&_0x939a0f>0x0)return void(_0x939a0f-=0x1);_0x54b118[_0x50f827(0x20c)](_0x54920c),_0x54920c[_0x50f827(0x62e)]()===_0x21fa51[_0x50f827(0x83d)]&&(_0x939a0f+=0x1),_0x4d8664+=0x1;}});}),Array['from'](_0x54b118);}return Array[_0xb343c9(0x47c)](this['connections']['keys']())[_0xb343c9(0x930)](_0xd9fac9=>{const _0x2f5f92=_0xb343c9;return _0x25a245=_0xd9fac9[_0x2f5f92(0x8fd)](),!_0x41f203[_0x2f5f92(0x595)](_0x25a245)&&(_0x5bf992(_0x3067da,_0x25a245)||_0x3067da['propagate'])&&(!_0x3067da[_0x2f5f92(0x85c)]||_0xd9fac9[_0x2f5f92(0x294)]()||_0xd9fac9[_0x2f5f92(0x62e)]()===_0x21fa51[_0x2f5f92(0x2d1)]);var _0x25a245;});}}class _0xdc93cf{[_0x5a8b1c(0xad8)];[_0x5a8b1c(0xa43)];['connections']=new Map();['systemTopic'];constructor(_0x4b4a21,_0x264c72){const _0x361bf3=_0x5a8b1c;this[_0x361bf3(0xad8)]=_0x4b4a21,this['messageBuffer']=_0x264c72;}[_0x5a8b1c(0x494)](){}[_0x5a8b1c(0x28e)](_0x24d954){const _0x41a2e3=_0x5a8b1c;for(const _0x3e9011 of this[_0x41a2e3(0x4d8)][_0x41a2e3(0x7f4)]())try{return void _0x3e9011['send']({'retry':!0x1,..._0x24d954});}catch(_0x564719){_0x564719 instanceof _0x181159||_0x241131['log'](_0xf47a5['Pool'],'send\x20error\x20on\x20'+_0x3e9011,_0x564719,_0x24d954);}_0x241131[_0x41a2e3(0x2d3)](_0xf47a5[_0x41a2e3(0x1bd)],_0x41a2e3(0xae7));}['addConnection'](_0x5c34e5){const _0x4d246e=_0x5a8b1c,_0xc27003=_0x5c34e5[_0x4d246e(0x756)](_0x42704a=>{const _0x4d0620=_0x4d246e;this[_0x4d0620(0xa43)][_0x4d0620(0x7e1)](_0x42704a[_0x4d0620(0x2f9)])||0x0===_0x42704a[_0x4d0620(0x2cc)]&&(this['messageBuffer'][_0x4d0620(0x54a)](_0x42704a[_0x4d0620(0x2f9)]),_0x5bf992(_0x42704a,this['localId'])&&this['systemTopic']?.[_0x4d0620(0x590)](_0x42704a));});this['connections']['set'](_0x5c34e5,_0xc27003);}['removeConnection'](_0x45d22d){const _0x16effc=_0x5a8b1c;this[_0x16effc(0x4d8)]['get'](_0x45d22d)?.(),this['connections'][_0x16effc(0x1cd)](_0x45d22d);}[_0x5a8b1c(0x9a8)](){const _0x245d13=_0x5a8b1c;return this[_0x245d13(0xad8)];}['getRemoteId'](){return'';}['getSupportedContentTypes'](){return[_0x52baed['ContentType']['Data']];}[_0x5a8b1c(0x294)](){const _0x2e117d=_0x5a8b1c;throw new Error(_0x2e117d(0x7b8));}[_0x5a8b1c(0x3ee)](_0x471b5a){const _0x37b87d=_0x5a8b1c;this[_0x37b87d(0x625)]=_0x471b5a;}[_0x5a8b1c(0x8f7)](){const _0x3f188f=_0x5a8b1c;delete this[_0x3f188f(0x625)];}}class _0x290fe9{[_0x5a8b1c(0x614)]=new Map();[_0x5a8b1c(0x3d4)];constructor(){const _0x411bc8=_0x5a8b1c;this[_0x411bc8(0x3d4)]=_0x3d74ea[_0x411bc8(0x837)](()=>{const _0x25fced=_0x411bc8;for(const [_0x2e0b67,_0x3a8fbe]of this[_0x25fced(0x614)]['entries']())Date[_0x25fced(0x744)]()-_0x3a8fbe>0x124f80&&this[_0x25fced(0x614)]['delete'](_0x2e0b67);},0x1d4c0);}[_0x5a8b1c(0x494)](){const _0xe73c52=_0x5a8b1c;this[_0xe73c52(0x3d4)]();}[_0x5a8b1c(0x54a)](_0x2a6650){const _0x4f1d7c=_0x5a8b1c;this['buffer'][_0x4f1d7c(0x984)](_0x2a6650,Date[_0x4f1d7c(0x744)]());}[_0x5a8b1c(0x7e1)](_0x144ea1){const _0x1fd0d9=_0x5a8b1c;return this[_0x1fd0d9(0x614)][_0x1fd0d9(0x149)](_0x144ea1);}}class _0x1f74c6{['configs'];[_0x5a8b1c(0x798)];[_0x5a8b1c(0x3d6)];[_0x5a8b1c(0x392)];['connections']=new Map();['connectionPool'];[_0x5a8b1c(0x878)];[_0x5a8b1c(0x743)];['messageBuffer'];constructor(_0x235360,_0x112f67,_0x5ad6b0,_0x590757,_0x14c7b6){const _0x4fd51e=_0x5a8b1c;this[_0x4fd51e(0xab3)]=_0x235360,this[_0x4fd51e(0x798)]=_0x112f67,this[_0x4fd51e(0x3d6)]=_0x590757,this[_0x4fd51e(0x392)]=_0x14c7b6,this[_0x4fd51e(0xa43)]=new _0x290fe9(),this[_0x4fd51e(0x878)]=new _0x31c10f(this[_0x4fd51e(0xab3)]['localNode']['getId'](),this[_0x4fd51e(0xa43)],_0x5ad6b0),this[_0x4fd51e(0x743)]=new _0x4c45bc(this[_0x4fd51e(0xab3)][_0x4fd51e(0x26a)],this[_0x4fd51e(0xab3)][_0x4fd51e(0x659)],this[_0x4fd51e(0xab3)][_0x4fd51e(0x650)],_0x4fd51e(0xb03),this[_0x4fd51e(0x798)]),this[_0x4fd51e(0x9f5)]=new _0xdc93cf(this[_0x4fd51e(0xab3)][_0x4fd51e(0x650)][_0x4fd51e(0x3dd)](),this[_0x4fd51e(0xa43)]),this[_0x4fd51e(0x9f5)][_0x4fd51e(0x694)](this[_0x4fd51e(0x878)]),this['connectionPool'][_0x4fd51e(0x694)](this['signalingServer']),this[_0x4fd51e(0xab3)]['mediator'][_0x4fd51e(0x3b0)](this['connectionPool']);}[_0x5a8b1c(0x494)](){const _0x44fefb=_0x5a8b1c;this[_0x44fefb(0xa43)][_0x44fefb(0x494)](),this[_0x44fefb(0x4d8)][_0x44fefb(0x775)]((_0xe295d9,_0x39c9b2)=>this['closeConnection'](_0x39c9b2)),this[_0x44fefb(0xab3)]['mediator']['unregisterSystemSource'](this[_0x44fefb(0x9f5)]),this[_0x44fefb(0x9f5)][_0x44fefb(0xac0)](this[_0x44fefb(0x743)]),this[_0x44fefb(0x9f5)][_0x44fefb(0xac0)](this[_0x44fefb(0x878)]),this[_0x44fefb(0x9f5)][_0x44fefb(0x494)](),this['signalingServer'][_0x44fefb(0x494)](),this['connectionGroup']['close']();}async[_0x5a8b1c(0x8a5)](){const _0x25984d=_0x5a8b1c;await this[_0x25984d(0x743)]['connect']();}async['createConnection'](_0x16a15e,_0x3e07e4=_0x21fa51[_0x5a8b1c(0x2d1)]){const _0x583984=_0x5a8b1c;if(this['connections'][_0x583984(0x149)](_0x16a15e)){if(this[_0x583984(0x4d8)][_0x583984(0x8a4)](_0x16a15e)?.[_0x583984(0x62e)]()===_0x21fa51[_0x583984(0x83d)]&&_0x3e07e4===_0x21fa51[_0x583984(0x2d1)])return void this[_0x583984(0x4d8)][_0x583984(0x8a4)](_0x16a15e)?.[_0x583984(0x38b)](_0x21fa51[_0x583984(0x2d1)]);throw new _0xdb384(_0xdb384['codes'][_0x583984(0x644)],{'localId':this[_0x583984(0xab3)][_0x583984(0x650)]['getId'](),'remoteId':_0x16a15e});}const _0x46cca4=new _0x4bca70(this[_0x583984(0xab3)][_0x583984(0x659)],this[_0x583984(0xab3)]['localNode'],_0x16a15e,this[_0x583984(0x3d6)],_0x3e07e4,this['options'][_0x583984(0x31b)],this[_0x583984(0x392)][_0x583984(0x2af)],this['options'][_0x583984(0x6dd)]);this[_0x583984(0x4d8)][_0x583984(0x984)](_0x16a15e,_0x46cca4),this['connectionGroup']['addConnection'](_0x46cca4),this[_0x583984(0xab3)][_0x583984(0x834)]['registerSystemSource'](_0x46cca4),this[_0x583984(0xab3)][_0x583984(0x834)][_0x583984(0x818)](_0x16a15e),await _0x46cca4[_0x583984(0x61f)]();}[_0x5a8b1c(0x907)](){return this['connectionGroup'];}[_0x5a8b1c(0x277)](_0x43e1dd){const _0x19d9ec=_0x5a8b1c;if(!this[_0x19d9ec(0x4d8)]['has'](_0x43e1dd))throw new _0xdb384(_0xdb384['codes'][_0x19d9ec(0x20e)],{'localId':this[_0x19d9ec(0xab3)][_0x19d9ec(0x650)][_0x19d9ec(0x3dd)](),'remoteId':_0x43e1dd});return this[_0x19d9ec(0x4d8)][_0x19d9ec(0x8a4)](_0x43e1dd);}[_0x5a8b1c(0x93d)](_0x314a90){const _0x133650=_0x5a8b1c,_0x5b85ac=Array[_0x133650(0x47c)](this[_0x133650(0x4d8)]['values']());return _0x314a90?_0x5b85ac[_0x133650(0x930)](_0x314a90):_0x5b85ac;}async[_0x5a8b1c(0xa0e)](_0x4ebef3){const _0x438181=_0x5a8b1c,_0xc0b2b8=this['connections']['get'](_0x4ebef3);_0xc0b2b8&&_0xc0b2b8[_0x438181(0x294)]()&&await _0xc0b2b8[_0x438181(0xa0e)]();}[_0x5a8b1c(0xb2b)](_0x4b64e7){const _0x193149=_0x5a8b1c;if(_0x4b64e7[_0x193149(0xb43)]!==_0x9cb7d1[_0x193149(0x7b3)]||_0x4b64e7[_0x193149(0x85c)])try{this['connectionGroup']['send'](_0x4b64e7);}catch(_0x48e452){if(_0x48e452 instanceof _0x181159)return;throw _0x48e452;}else this[_0x193149(0x9f5)][_0x193149(0x28e)](_0x4b64e7);}async[_0x5a8b1c(0x9c7)](_0x5a790a){const _0x166bd7=_0x5a8b1c;switch(_0x5a790a['content'][_0x166bd7(0x2a5)]){case _0x5e1ebe[_0x166bd7(0x51d)]:case _0x5e1ebe['Stats']:case _0x5e1ebe[_0x166bd7(0x662)]:return;}if(!_0x5a790a[_0x166bd7(0x4e9)]||0x1!==_0x5a790a[_0x166bd7(0x4e9)][_0x166bd7(0xa39)])throw new _0xdb384(_0xdb384[_0x166bd7(0x549)][_0x166bd7(0x14c)],{'message':_0x166bd7(0x366),'event':_0x5a790a});if(_0x5a790a[_0x166bd7(0x4e9)][0x0]!==this[_0x166bd7(0xab3)][_0x166bd7(0x650)]['getId']())throw new _0xdb384(_0xdb384['codes']['PeerConnectionInvalidDestination'],{'message':_0x166bd7(0x3c5),'event':_0x5a790a});if(!this[_0x166bd7(0x4d8)]['has'](_0x5a790a[_0x166bd7(0x2fb)])){let _0xb7cbaa=_0x21fa51[_0x166bd7(0x2d1)];if(!(this['isOffer'](_0x5a790a[_0x166bd7(0x2fa)])||this['isIceCandidate'](_0x5a790a[_0x166bd7(0x2fa)])||this[_0x166bd7(0x1c5)](_0x5a790a['content'])))return;_0xb7cbaa=_0x5a790a[_0x166bd7(0x2fa)]['connectionType'],await this[_0x166bd7(0x75f)](_0x5a790a[_0x166bd7(0x2fb)],_0xb7cbaa);}const _0xaac101=this[_0x166bd7(0x4d8)][_0x166bd7(0x8a4)](_0x5a790a[_0x166bd7(0x2fb)]);await _0xaac101['handlePeerConnectionSystemEvents'](_0x5a790a);}[_0x5a8b1c(0x141)](_0x543aaf){const _0xd28e3a=_0x5a8b1c;if(_0x543aaf[_0xd28e3a(0x2fa)][_0xd28e3a(0x2a5)]===_0x22f6a1[_0xd28e3a(0x3e9)]){if(_0x543aaf[_0xd28e3a(0x2fa)][_0xd28e3a(0xa1c)]===this[_0xd28e3a(0xab3)]['localNode'][_0xd28e3a(0x3dd)]())return void this[_0xd28e3a(0x4d8)][_0xd28e3a(0x775)](_0xd2ccf2=>_0xd2ccf2[_0xd28e3a(0x141)](_0x543aaf));this[_0xd28e3a(0x4d8)][_0xd28e3a(0x8a4)](_0x543aaf[_0xd28e3a(0x2fa)][_0xd28e3a(0xa1c)])?.[_0xd28e3a(0x141)](_0x543aaf);}}[_0x5a8b1c(0x4fd)]({content:_0xab8e39}){const _0xdb417=_0x5a8b1c;_0xab8e39[_0xdb417(0x2a5)]===_0xba42b7['NodeLeave']&&this[_0xdb417(0x916)](_0xab8e39['id']);}[_0x5a8b1c(0x8af)](){const _0x4aeb49=_0x5a8b1c,_0x941d5e=Array['from'](this[_0x4aeb49(0x4d8)]['values']())[_0x4aeb49(0x8a0)]((_0x16f820,_0x354af8)=>_0x16f820+_0x354af8['calculateArrayBufferSize'](),0x0);return _0x941d5e<_0x30abe4?Promise[_0x4aeb49(0x618)](_0x941d5e):new Promise(_0x4437b6=>{const _0x435384=setInterval(()=>{const _0x2d3712=a0_0x2316,_0x401ec3=Array[_0x2d3712(0x47c)](this['connections']['values']())['reduce']((_0x2b1ec6,_0x5f4bf5)=>_0x2b1ec6+_0x5f4bf5[_0x2d3712(0x180)](),0x0);_0x401ec3<_0x30abe4&&(clearInterval(_0x435384),_0x4437b6(_0x401ec3));},0x3e8);});}[_0x5a8b1c(0x794)](){const _0xb70ec6=_0x5a8b1c;for(const _0xc8cc64 of this[_0xb70ec6(0x4d8)]['values']())if(_0xc8cc64[_0xb70ec6(0xae6)]()>0x0||_0xc8cc64['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}['closeConnection'](_0x7e932e){const _0x35b080=_0x5a8b1c,_0x177ead=this[_0x35b080(0x4d8)][_0x35b080(0x8a4)](_0x7e932e);_0x177ead&&(this['configs'][_0x35b080(0x834)]['unregisterRemoteNode'](_0x7e932e),this[_0x35b080(0xab3)][_0x35b080(0x834)][_0x35b080(0x16f)](_0x177ead),_0x177ead instanceof _0x4bca70&&this['connectionGroup']['removeConnection'](_0x177ead),_0x177ead[_0x35b080(0x494)](),this[_0x35b080(0x4d8)][_0x35b080(0x1cd)](_0x7e932e));}[_0x5a8b1c(0x8fc)](_0x376134){const _0x40e302=_0x5a8b1c;return _0x376134[_0x40e302(0x2a5)]===_0x5e1ebe[_0x40e302(0x403)];}[_0x5a8b1c(0x1c5)](_0x3cf3d3){const _0x34c3fa=_0x5a8b1c;return _0x3cf3d3[_0x34c3fa(0x2a5)]===_0x5e1ebe[_0x34c3fa(0x3c3)];}['isIceCandidate'](_0x51e2bf){const _0x140cc8=_0x5a8b1c;return _0x51e2bf[_0x140cc8(0x2a5)]===_0x5e1ebe[_0x140cc8(0x43c)];}}!function(_0x5e19dc){const _0x416d8d=_0x5a8b1c;_0x5e19dc[_0x5e19dc[_0x416d8d(0x8d5)]=0x0]='SubscribeMediaStream',_0x5e19dc[_0x5e19dc[_0x416d8d(0x790)]=0x1]=_0x416d8d(0x790),_0x5e19dc[_0x5e19dc[_0x416d8d(0x9ed)]=0x2]=_0x416d8d(0x9ed),_0x5e19dc[_0x5e19dc[_0x416d8d(0x7ac)]=0x3]=_0x416d8d(0x7ac),_0x5e19dc[_0x5e19dc[_0x416d8d(0x468)]=0x4]='RestartNeedMediaStream',_0x5e19dc[_0x5e19dc[_0x416d8d(0x3a7)]=0x5]='CanProvideMediaStream',_0x5e19dc[_0x5e19dc[_0x416d8d(0x4e8)]=0x6]=_0x416d8d(0x4e8),_0x5e19dc[_0x5e19dc[_0x416d8d(0x6fc)]=0x7]='MediaStreamUnavailable';}(_0x22bb2e||(_0x22bb2e={}));class _0x5e1056 extends _0x43d50a{[_0x5a8b1c(0x650)];[_0x5a8b1c(0x659)];['vendorId'];[_0x5a8b1c(0x8a9)];['debounceStats'];[_0x5a8b1c(0x342)]=0x0;[_0x5a8b1c(0x6f2)];['eventListener']=_0x28f8fd();[_0x5a8b1c(0x588)]=new Map();[_0x5a8b1c(0x1a0)];constructor(_0x1ada15,_0x5a731f,_0xb9cf6b,_0x285cfe,_0x1e9133){const _0x53ab72=_0x5a8b1c;if(_0x53ab72(0x6e2)!=typeof _0x5a731f)throw new _0x4ec9e4(_0x47ec8c[_0x53ab72(0x561)],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x1ada15,_0x5a731f),this[_0x53ab72(0x650)]=_0x1ada15,this[_0x53ab72(0x659)]=_0xb9cf6b,this[_0x53ab72(0x26a)]=_0x285cfe,this[_0x53ab72(0x8a9)]=_0x1e9133,this[_0x53ab72(0x812)]();}[_0x5a8b1c(0x865)](){const _0x502245=_0x5a8b1c;this['changesUnsubscriber']?.(),this[_0x502245(0x588)]['forEach'](_0x4b437c=>_0x4b437c()),clearTimeout(this[_0x502245(0x709)]),delete this[_0x502245(0x709)],super[_0x502245(0x865)]();}[_0x5a8b1c(0xb32)](){this['sendStats']();}['close'](){const _0x451ae0=_0x5a8b1c;this['systemTopic'][_0x451ae0(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x451ae0(0x420)],'content':{'type':_0xae157c[_0x451ae0(0x692)],'label':this[_0x451ae0(0x19f)]}});}[_0x5a8b1c(0x62f)](){const _0xc0c337=_0x5a8b1c;return _0x52baed[_0xc0c337(0xa92)]['ExternalStorage'];}async[_0x5a8b1c(0x8a4)](_0x442c4c){const _0x4fcd60=_0x5a8b1c;if(!this[_0x4fcd60(0x6f2)])throw new _0x4ec9e4(_0x47ec8c['ExternalStorageConnectorsMissing'],_0x4fcd60(0x817));_0x241131[_0x4fcd60(0xa29)](_0x261e7f[_0x4fcd60(0x1e9)],{'type':'get','label':this[_0x4fcd60(0x19f)],'nodeId':this[_0x4fcd60(0x650)][_0x4fcd60(0x3dd)](),'nodeType':this[_0x4fcd60(0x650)][_0x4fcd60(0x2a5)],'clusterId':this['clusterId'],'path':_0x442c4c}),this[_0x4fcd60(0x342)]+=0x1,this[_0x4fcd60(0x812)]();try{return await this[_0x4fcd60(0x6f2)]['get'](_0x442c4c);}catch(_0x30954f){throw new _0x4ec9e4(_0x47ec8c[_0x4fcd60(0x259)],_0x4fcd60(0xb12)+_0x442c4c);}}async[_0x5a8b1c(0x24a)](_0x2cb06f,_0x138fe1){const _0x1fef75=_0x5a8b1c;if(!this['connector'])throw new _0x4ec9e4(_0x47ec8c['ExternalStorageConnectorsMissing'],_0x1fef75(0x233));const {recursive:_0x330798=!0x1}=_0x138fe1??{};_0x241131[_0x1fef75(0xa29)](_0x261e7f['ExternalStorage'],{'type':_0x1fef75(0x24a),'label':this[_0x1fef75(0x19f)],'nodeId':this[_0x1fef75(0x650)]['getId'](),'nodeType':this[_0x1fef75(0x650)][_0x1fef75(0x2a5)],'clusterId':this[_0x1fef75(0x659)],'path':_0x2cb06f}),this[_0x1fef75(0x342)]+=0x1,this[_0x1fef75(0x812)]();try{return await this[_0x1fef75(0x6f2)]['list'](_0x2cb06f,_0x330798);}catch(_0x9c7616){throw new _0x4ec9e4(_0x47ec8c[_0x1fef75(0x259)],_0x1fef75(0x8c4)+_0x2cb06f);}}['subscribe'](_0x17f3ef,_0x90919b){const _0x46b786=_0x5a8b1c;if(this[_0x46b786(0x588)][_0x46b786(0x149)](_0x17f3ef))throw new _0x4ec9e4(_0x47ec8c['ExternalStorageConnectionAlreadySubscribed'],_0x46b786(0xa2c));this[_0x46b786(0x588)][_0x46b786(0x984)](_0x17f3ef,this['eventListener'][_0x46b786(0x19a)](_0x90919b));}[_0x5a8b1c(0xa68)](_0x5bd122){const _0x3f0906=_0x5a8b1c;this[_0x3f0906(0x588)][_0x3f0906(0x8a4)](_0x5bd122)?.(),this['listenerUnsubscribers'][_0x3f0906(0x1cd)](_0x5bd122);}async['open'](){const _0x2b9469=_0x5a8b1c,_0x2c5ff1=(await(0x0,_0x594922['getDoc'])((0x0,_0x594922[_0x2b9469(0x941)])(_0x1b7d72[_0x2b9469(0x184)](),_0x2b9469(0x9e2)+this[_0x2b9469(0x26a)]+'/resources/external-storage/items/'+this[_0x2b9469(0x19f)])))[_0x2b9469(0x349)]();if(!_0x2c5ff1)throw new _0x4ec9e4(_0x47ec8c[_0x2b9469(0x14d)],'Cannot\x20find\x20External\x20Storage\x20connection:\x20'+this[_0x2b9469(0x19f)]);const {site:_0x40ff0d,drive:_0x3d80fd}=_0x2c5ff1,_0xbea4e4=(await(0x0,_0x3d092e[_0x2b9469(0x92c)])(_0x1b7d72['getFunctions'](),_0x2b9469(0x9f2))({'storageId':this[_0x2b9469(0x19f)]}))[_0x2b9469(0x349)][_0x2b9469(0xaea)];this['connector']=new this[(_0x2b9469(0x8a9))](_0x40ff0d['id'],_0x3d80fd['id'],_0xbea4e4,async()=>(await(0x0,_0x3d092e[_0x2b9469(0x92c)])(_0x1b7d72['getFunctions'](),_0x2b9469(0x864))({'storageId':this['label']}))[_0x2b9469(0x349)][_0x2b9469(0xaea)]),this['trackChanges']();}['sendStats'](){const _0x222166=_0x5a8b1c;this[_0x222166(0x709)]&&clearTimeout(this[_0x222166(0x709)]),this['debounceStats']=setTimeout(async()=>{const _0x4e987d=_0x222166;delete this[_0x4e987d(0x709)],this[_0x4e987d(0x625)][_0x4e987d(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x4e987d(0x420)],'content':{'type':_0xae157c[_0x4e987d(0x3af)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x4e987d(0x342)],'prompts':0x0,'tokens':0x0}}});},_0x291af8);}async[_0x5a8b1c(0x220)](){const _0x5a7300=_0x5a8b1c;await this['connector']?.[_0x5a7300(0x7fb)](),this['changesUnsubscriber']=_0x3d74ea[_0x5a7300(0x837)](async()=>{const _0x18d3a0=_0x5a7300;try{if(!this[_0x18d3a0(0x6f2)])return;const _0x1cef86=await this[_0x18d3a0(0x6f2)][_0x18d3a0(0x7fb)]();for(const _0x1d8081 of _0x1cef86)this[_0x18d3a0(0x15d)]['publish'](_0x1d8081);}catch(_0x44edb1){}},0x493e0);}}const _0x293caa=require('rxjs');class _0x565b39 extends _0x43d50a{[_0x5a8b1c(0xa48)];[_0x5a8b1c(0x5fd)]=new Map();[_0x5a8b1c(0x339)]=new Map();[_0x5a8b1c(0x2e7)]=new Map();[_0x5a8b1c(0x3d4)];constructor(_0x3c2c9d,_0x3d819b,_0x20181a){const _0x4d1e74=_0x5a8b1c;super(_0x3c2c9d,_0x3d819b),this[_0x4d1e74(0xa48)]=_0x20181a;}[_0x5a8b1c(0x62f)](){const _0x2895a7=_0x5a8b1c;return _0x52baed[_0x2895a7(0xa92)][_0x2895a7(0x492)];}[_0x5a8b1c(0x275)](){const _0x2e86d1=_0x5a8b1c;this['unsubscribeHandler']=this[_0x2e86d1(0x756)]((_0x591719,_0x4a5f11)=>{const _0x495a58=_0x2e86d1;if(_0x241131[_0x495a58(0x2d3)](_0xf47a5['Jobs'],_0x495a58(0x81e),_0x591719,_0x4a5f11,this[_0x495a58(0xa48)][_0x495a58(0x43d)]()),!(_0x4a5f11 instanceof File)){if(!_0x4a5f11)throw new _0xdb384(_0xdb384[_0x495a58(0x549)][_0x495a58(0x246)]);return this[_0x495a58(0x8c0)](_0x4a5f11)?this['addBidResponse'](_0x591719,_0x4a5f11['id'],_0x4a5f11):this[_0x495a58(0x5f8)](_0x4a5f11)?(_0x241131[_0x495a58(0x2d3)](_0xf47a5[_0x495a58(0x40b)],_0x495a58(0x691)+_0x4a5f11['id']+_0x495a58(0x140),_0x4a5f11[_0x495a58(0xa02)]),void this[_0x495a58(0x670)](_0x4a5f11['id'],_0x4a5f11)):this['isResultResponse'](_0x4a5f11)?(_0x241131[_0x495a58(0x2d3)](_0xf47a5[_0x495a58(0x40b)],_0x495a58(0x691)+_0x4a5f11['id']+'\x20received\x20result:',_0x4a5f11[_0x495a58(0xa02)]),void this[_0x495a58(0x6d2)](_0x4a5f11['id'],_0x4a5f11)):void(this['isFailedResponse'](_0x4a5f11)&&this[_0x495a58(0x2dc)](_0x4a5f11['id'],_0x4a5f11[_0x495a58(0x421)]));}});}[_0x5a8b1c(0xb32)](){const _0x145c7b=_0x5a8b1c;this[_0x145c7b(0x5a9)](),this[_0x145c7b(0x275)]();}[_0x5a8b1c(0x865)](){this['clear'](),super['destroy']();}[_0x5a8b1c(0x5a9)](){const _0x1b433b=_0x5a8b1c;this['jobs'][_0x1b433b(0x5a9)](),this['unsubscribeHandler']&&this[_0x1b433b(0x3d4)]();}['close'](){const _0x2ab425=_0x5a8b1c;this[_0x2ab425(0x625)]?.[_0x2ab425(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x2ab425(0x420)],'content':{'type':_0xae157c[_0x2ab425(0x6b9)],'label':this[_0x2ab425(0x19f)]}});}async['createJob'](_0x1377c2){const _0x3fa02a=_0x5a8b1c,{id:_0x430062,parameters:_0x20b744,jobType:_0xd30433}=_0x1377c2,_0x575ea9={'id':_0x430062,'jobType':_0xd30433,'parameters':_0x20b744,'status':_0x52baed[_0x3fa02a(0x29f)][_0x3fa02a(0xadc)],'created':new Date(),'updated':new Date()};if(this[_0x3fa02a(0x5fd)]['has'](_0x575ea9['id']))throw new _0x4ec9e4(_0x47ec8c['JobDispatcherJobExists'],'Job\x20with\x20id\x20'+_0x575ea9['id']+_0x3fa02a(0x2aa));_0x575ea9['created']=new Date(),_0x575ea9[_0x3fa02a(0xb27)]=new Date();const _0x2141dd=new _0x293caa[(_0x3fa02a(0x17d))]();this[_0x3fa02a(0x5fd)][_0x3fa02a(0x984)](_0x575ea9['id'],_0x575ea9),this[_0x3fa02a(0x339)][_0x3fa02a(0x984)](_0x575ea9['id'],_0x2141dd);try{const _0x46bbb5={'id':_0x575ea9['id'],'jobPhase':_0x168b24[_0x3fa02a(0xab7)],'jobType':_0x575ea9['jobType']},_0x24eed0=0x3;let _0x43fa75=0x0;const _0xb8bcc5=async()=>{const _0x148033=_0x3fa02a;_0x43fa75+=0x1;try{_0x241131[_0x148033(0x2d3)](_0xf47a5['Jobs'],_0x148033(0x691)+_0x575ea9['id']+'\x20sending\x20attempt\x20'+_0x43fa75+'.',this['graphService'][_0x148033(0x43d)]()),await this[_0x148033(0x28e)](_0x46bbb5),_0x575ea9[_0x148033(0xb27)]=new Date(),this['jobs'][_0x148033(0x984)](_0x575ea9['id'],_0x575ea9),this[_0x148033(0x9d9)](_0x575ea9['id']);}catch(_0x425798){_0x43fa75<_0x24eed0?(_0x241131[_0x148033(0x382)](_0x148033(0x9c6)+_0x43fa75+_0x148033(0x8b2)+_0x575ea9['id']+_0x148033(0x649),{'nodeId':this[_0x148033(0x83c)][_0x148033(0x3dd)](),'nodeType':this['owner']['type'],'data':{'job':_0x575ea9,'attempts':_0x43fa75,'maxRetries':_0x24eed0}}),setTimeout(_0xb8bcc5,0x3e8)):(_0x575ea9[_0x148033(0x33d)]=_0x52baed[_0x148033(0x29f)][_0x148033(0x9f7)],_0x575ea9[_0x148033(0xb27)]=new Date(),this[_0x148033(0x5fd)][_0x148033(0x984)](_0x575ea9['id'],_0x575ea9),_0x241131[_0x148033(0x5fb)](_0x148033(0x4ef)+_0x575ea9['id']+_0x148033(0x40d)+_0x24eed0+_0x148033(0x290),{'nodeId':this['owner'][_0x148033(0x3dd)](),'nodeType':this[_0x148033(0x83c)]['type'],'data':{'job':_0x575ea9,'attempts':_0x43fa75,'maxRetries':_0x24eed0,'error':_0x425798}}));}};_0xb8bcc5();const {id:_0x4eee73}=_0x575ea9;this[_0x3fa02a(0x1e2)](_0x3fa02a(0x691)+_0x575ea9['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x4eee73}),_0x575ea9[_0x3fa02a(0xb27)]=new Date();}catch(_0x104b9c){_0x575ea9[_0x3fa02a(0x33d)]=_0x52baed[_0x3fa02a(0x29f)][_0x3fa02a(0x9f7)],_0x241131[_0x3fa02a(0x5fb)](_0x3fa02a(0x4ef)+_0x575ea9['id']+':',{'nodeId':this[_0x3fa02a(0x83c)][_0x3fa02a(0x3dd)](),'nodeType':this[_0x3fa02a(0x83c)][_0x3fa02a(0x2a5)],'data':{'job':_0x575ea9,'error':_0x104b9c}});}return _0x2141dd[_0x3fa02a(0x47a)]();}[_0x5a8b1c(0x17a)](_0x549dd3){const _0x1738a5=_0x5a8b1c,_0x5760c0=this['jobs'][_0x1738a5(0x8a4)](_0x549dd3);if(!_0x5760c0)throw new _0x4ec9e4(_0x47ec8c['JobDispatcherJobNotFound'],'Job\x20with\x20id\x20'+_0x549dd3+'\x20not\x20found.');return{'id':_0x5760c0['id'],'jobType':_0x5760c0[_0x1738a5(0x148)],'status':_0x5760c0[_0x1738a5(0x33d)],'parameters':_0x5760c0[_0x1738a5(0xb31)]};}[_0x5a8b1c(0x9a0)](){const _0x470a4a=_0x5a8b1c;return Array['from'](this[_0x470a4a(0x5fd)][_0x470a4a(0x4c2)]())['map'](_0x399867=>this[_0x470a4a(0x17a)](_0x399867['id']));}async['updateJob'](_0x4791d9,_0x624b2c){const _0x168ebe=_0x5a8b1c,_0x5dd993=this[_0x168ebe(0x5fd)]['get'](_0x4791d9);if(!_0x5dd993)throw new _0x4ec9e4(_0x47ec8c[_0x168ebe(0x6df)],_0x168ebe(0xab5)+_0x4791d9+'\x20not\x20found.');_0x5dd993[_0x168ebe(0xb31)]=_0x624b2c,_0x5dd993[_0x168ebe(0xb27)]=new Date(),this['jobs']['set'](_0x4791d9,_0x5dd993);}async[_0x5a8b1c(0x5a6)](_0x23b077){const _0x2dc255=_0x5a8b1c;if(!this['jobs'][_0x2dc255(0x1cd)](_0x23b077))throw new _0x4ec9e4(_0x47ec8c[_0x2dc255(0x6df)],_0x2dc255(0xab5)+_0x23b077+_0x2dc255(0x7d7));const _0x51dbad=this[_0x2dc255(0x339)][_0x2dc255(0x8a4)](_0x23b077);if(!_0x51dbad)throw new _0xdb384(_0xdb384[_0x2dc255(0x549)][_0x2dc255(0x7cc)]);_0x51dbad[_0x2dc255(0x39c)](),this[_0x2dc255(0x339)][_0x2dc255(0x1cd)](_0x23b077),_0x241131[_0x2dc255(0x2d3)](_0xf47a5[_0x2dc255(0x40b)],_0x2dc255(0x691)+_0x23b077+_0x2dc255(0x4f5));}['addBidResponse'](_0x336b5b,_0x38a252,_0x490dc0){const _0x475b01=_0x5a8b1c,_0x262466=this['jobBids']['get'](_0x38a252)??new Map();_0x262466['set'](_0x336b5b,[_0x490dc0,Date[_0x475b01(0x744)]()]),this[_0x475b01(0x2e7)]['set'](_0x38a252,_0x262466),this[_0x475b01(0xadb)](_0x38a252);}[_0x5a8b1c(0x9d9)](_0x2507d3){const _0x2f2d28=_0x5a8b1c,_0xb8d901=this[_0x2f2d28(0x5fd)]['get'](_0x2507d3);if(!_0xb8d901)throw new _0xdb384(_0xdb384[_0x2f2d28(0x549)][_0x2f2d28(0x6df)]);const _0x40c370=setTimeout(()=>this[_0x2f2d28(0xadb)](_0x2507d3,!0x0),0xbb8);_0xb8d901[_0x2f2d28(0xa20)]=_0x40c370,this[_0x2f2d28(0x5fd)][_0x2f2d28(0x984)](_0xb8d901['id'],_0xb8d901);}[_0x5a8b1c(0xadb)](_0x39778d,_0xfc1968=!0x1){const _0x5b70e0=_0x5a8b1c,_0x3ebf39=this['graphService']['getRemoteNodes'](),_0x1f39b9=Array[_0x5b70e0(0x47c)](_0x3ebf39[_0x5b70e0(0x4c2)]())[_0x5b70e0(0x930)](_0x2a9f72=>_0x2a9f72[_0x5b70e0(0x2a5)]===_0x52baed[_0x5b70e0(0x935)][_0x5b70e0(0x2fd)]),_0x237a1d=this[_0x5b70e0(0x2e7)][_0x5b70e0(0x8a4)](_0x39778d)??new Map();if(!_0xfc1968&&(!_0x237a1d||_0x237a1d['size']<_0x1f39b9[_0x5b70e0(0xa39)]))return;const _0x5e3b37=this[_0x5b70e0(0x5fd)][_0x5b70e0(0x8a4)](_0x39778d);if(!_0x5e3b37)throw new _0xdb384(_0xdb384[_0x5b70e0(0x549)]['JobDispatcherJobNotFound']);if(clearTimeout(_0x5e3b37[_0x5b70e0(0xa20)]),_0x241131[_0x5b70e0(0x2d3)](_0xf47a5[_0x5b70e0(0x40b)],_0x5b70e0(0x691)+_0x5e3b37['id']+_0x5b70e0(0x739),_0x237a1d,this[_0x5b70e0(0x2e7)]),!_0x237a1d||0x0===_0x237a1d[_0x5b70e0(0xaf1)]){_0x5e3b37[_0x5b70e0(0x33d)]=_0x52baed[_0x5b70e0(0x29f)][_0x5b70e0(0x9f7)],_0x5e3b37['updated']=new Date(),_0x241131[_0x5b70e0(0x5fb)]('Job\x20'+_0x5e3b37['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this['owner'][_0x5b70e0(0x3dd)](),'nodeType':this[_0x5b70e0(0x83c)][_0x5b70e0(0x2a5)],'data':{'job':_0x5e3b37,'responses':_0x237a1d}});const _0x84e08a=this['jobObservers'][_0x5b70e0(0x8a4)](_0x39778d);if(!_0x84e08a)throw new _0xdb384(_0xdb384[_0x5b70e0(0x549)][_0x5b70e0(0x7cc)]);const _0x25d1a4=_0x5b70e0(0x480),_0xbed1b0={'id':_0x5e3b37['id'],'status':_0x5e3b37['status'],'message':_0x25d1a4};return _0x84e08a['next'](_0xbed1b0),_0x84e08a['complete'](),this[_0x5b70e0(0x5fd)][_0x5b70e0(0x984)](_0x5e3b37['id'],_0x5e3b37),void this[_0x5b70e0(0x2e7)]['delete'](_0x39778d);}const {nodeId:_0x2f70f8,response:_0x55bf8b}=this['evaluateBids'](_0x5e3b37['id'],_0x237a1d);_0x5e3b37[_0x5b70e0(0x33d)]=_0x52baed[_0x5b70e0(0x29f)][_0x5b70e0(0x793)],_0x5e3b37['updated']=new Date(),_0x241131[_0x5b70e0(0x2d3)](_0xf47a5['Jobs'],_0x5b70e0(0x691)+_0x5e3b37['id']+_0x5b70e0(0x993)+_0x2f70f8+_0x5b70e0(0x583),_0x55bf8b);const _0x58c749={'id':_0x5e3b37['id'],'jobType':_0x5e3b37[_0x5b70e0(0x148)],'jobPhase':_0x168b24[_0x5b70e0(0xb17)],'parameters':_0x5e3b37['parameters']};this[_0x5b70e0(0x28e)](_0x58c749,[_0x2f70f8]),this['jobs']['set'](_0x5e3b37['id'],_0x5e3b37),this[_0x5b70e0(0x2e7)][_0x5b70e0(0x1cd)](_0x39778d);}[_0x5a8b1c(0xb2c)](_0x35ce5f,_0x3de8de){const _0x20134f=_0x5a8b1c;let _0x580efe;const _0x1bb991=Array[_0x20134f(0x47c)](_0x3de8de[_0x20134f(0x322)]())[_0x20134f(0x930)](([,[_0x31ae64]])=>_0x31ae64[_0x20134f(0x80b)]);if(_0x580efe=_0x1bb991[_0x20134f(0xa39)]>0x0?Array[_0x20134f(0x47c)](_0x3de8de[_0x20134f(0x322)]())[_0x20134f(0x7e3)]((_0x32a479,_0x25d700)=>_0x25d700[0x1][0x0][_0x20134f(0x2f8)]-_0x32a479[0x1][0x0]['bid']):Array['from'](_0x3de8de['entries']())[_0x20134f(0x7e3)]((_0x304ec6,_0x4351fa)=>_0x304ec6[0x1][0x0][_0x20134f(0x608)]-_0x4351fa[0x1][0x0][_0x20134f(0x608)]),0x1===_0x580efe['length'])return{'nodeId':_0x580efe[0x0][0x0],'response':_0x580efe[0x0][0x1][0x0]};let _0x5ad998;if(_0x5ad998=_0x1bb991[_0x20134f(0xa39)]>0x0?(_0x2cdc4b=>{const _0x456a38=_0x20134f,_0x325c8b=_0x2cdc4b[0x0][0x1][0x0][_0x456a38(0x2f8)];return _0x2cdc4b[_0x456a38(0x930)](([,[_0x36038e]])=>_0x36038e[_0x456a38(0x2f8)]===_0x325c8b);})(_0x580efe):(_0x27b965=>{const _0x51f027=_0x20134f,_0x3a6188=_0x27b965[0x0][0x1][0x0][_0x51f027(0x608)];return _0x27b965['filter'](([,[_0x555241]])=>_0x555241[_0x51f027(0x608)]===_0x3a6188);})(_0x580efe),0x1===_0x5ad998['length'])return{'nodeId':_0x5ad998[0x0][0x0],'response':_0x5ad998[0x0][0x1][0x0]};const _0x3acfd0=this[_0x20134f(0x5fd)][_0x20134f(0x8a4)](_0x35ce5f);if(!_0x3acfd0)throw new _0xdb384(_0xdb384[_0x20134f(0x549)][_0x20134f(0x6df)]);const _0xd9879a=_0x3acfd0[_0x20134f(0xa5b)][_0x20134f(0x7f5)](),_0x70abe=_0x5ad998[_0x20134f(0x3d5)](([_0x50f3fc,[,_0x548611]])=>({'nodeId':_0x50f3fc,'rtt':_0x548611-_0xd9879a})),_0x593a42=Math[_0x20134f(0x944)](..._0x70abe[_0x20134f(0x3d5)](({rtt:_0x517d83})=>_0x517d83)),_0x3275d7=_0x70abe['find'](({rtt:_0x26abd7})=>_0x26abd7===_0x593a42),[,[_0x4b8d5f]]=_0x5ad998[_0x20134f(0x5dd)](([_0x4a0bc8])=>_0x4a0bc8===_0x3275d7['nodeId']);return{'nodeId':_0x3275d7[_0x20134f(0x841)],'response':_0x4b8d5f};}[_0x5a8b1c(0x670)](_0x52e74e,_0x5d5812){const _0x3622c8=_0x5a8b1c,_0x2ec6ca=this[_0x3622c8(0x5fd)]['get'](_0x52e74e);if(!_0x2ec6ca)throw new _0xdb384(_0xdb384[_0x3622c8(0x549)][_0x3622c8(0x6df)]);const _0x53a6f6=this[_0x3622c8(0x339)]['get'](_0x52e74e);if(!_0x53a6f6)throw new _0xdb384(_0xdb384[_0x3622c8(0x549)][_0x3622c8(0x7cc)]);const _0x5f1ee9={'id':_0x2ec6ca['id'],'status':_0x52baed['JobStatus'][_0x3622c8(0x267)],'result':_0x5d5812[_0x3622c8(0xa02)]};_0x53a6f6[_0x3622c8(0x8d1)](_0x5f1ee9);}[_0x5a8b1c(0x6d2)](_0x5ff967,_0x15eb23){const _0x56c69a=_0x5a8b1c,_0x5bf294=this['jobs'][_0x56c69a(0x8a4)](_0x5ff967);if(!_0x5bf294)throw new _0xdb384(_0xdb384[_0x56c69a(0x549)]['JobDispatcherJobNotFound']);const _0x1003e7=this[_0x56c69a(0x339)][_0x56c69a(0x8a4)](_0x5ff967);if(!_0x1003e7)throw new _0xdb384(_0xdb384[_0x56c69a(0x549)][_0x56c69a(0x7cc)]);_0x5bf294['status']=_0x52baed[_0x56c69a(0x29f)][_0x56c69a(0x1fb)];const _0x358812={'id':_0x5bf294['id'],'status':_0x5bf294[_0x56c69a(0x33d)],'result':_0x15eb23['result']};_0x1003e7[_0x56c69a(0x8d1)](_0x358812),_0x1003e7[_0x56c69a(0x39c)](),this[_0x56c69a(0x339)][_0x56c69a(0x1cd)](_0x5ff967),this[_0x56c69a(0x1e2)]('Job\x20'+_0x5ff967+_0x56c69a(0x269),{'jobId':_0x5ff967});}[_0x5a8b1c(0x2dc)](_0x5849cb,_0x455154){const _0x5c078e=_0x5a8b1c,_0x11b16f=this[_0x5c078e(0x5fd)][_0x5c078e(0x8a4)](_0x5849cb);if(!_0x11b16f)throw new _0xdb384(_0xdb384[_0x5c078e(0x549)]['JobDispatcherJobNotFound']);const _0x69188b=this[_0x5c078e(0x339)][_0x5c078e(0x8a4)](_0x5849cb);if(!_0x69188b)throw new _0xdb384(_0xdb384['codes']['JobDispatcherObserverNotFound']);_0x11b16f['status']=_0x52baed['JobStatus'][_0x5c078e(0x9f7)];const _0x24e098={'id':_0x11b16f['id'],'status':_0x11b16f['status'],'message':_0x455154};_0x69188b[_0x5c078e(0x8d1)](_0x24e098),_0x69188b[_0x5c078e(0x39c)](),this[_0x5c078e(0x339)][_0x5c078e(0x1cd)](_0x5849cb),this[_0x5c078e(0x1e2)](_0x5c078e(0x691)+_0x5849cb+_0x5c078e(0x1dd),{'jobId':_0x5849cb});}[_0x5a8b1c(0x1e2)](_0x52dca7,{jobId:_0x481e83}){const _0x2ccdde=_0x5a8b1c,_0x30505b={'jobId':_0x481e83,'mistletIds':Array['from'](this[_0x2ccdde(0xa48)][_0x2ccdde(0x43d)]()[_0x2ccdde(0x4c2)]())[_0x2ccdde(0x930)](_0x620c1=>_0x620c1[_0x2ccdde(0x2a5)]===_0x52baed['NodeType'][_0x2ccdde(0x2fd)])['map'](_0xfde601=>_0xfde601[_0x2ccdde(0x3dd)]())};_0x241131[_0x2ccdde(0x1e2)](_0x52dca7,{'nodeId':this[_0x2ccdde(0x770)](),'nodeType':this[_0x2ccdde(0x83c)][_0x2ccdde(0x2a5)],'data':_0x30505b}),_0x241131[_0x2ccdde(0x2d3)](_0xf47a5[_0x2ccdde(0x40b)],_0x52dca7,_0x30505b);}[_0x5a8b1c(0x8c0)](_0x1c03c6){const _0x55c748=_0x5a8b1c,{jobPhase:_0x46e1c5,available:_0x1a2fd8,bid:_0x4108b0}=_0x1c03c6;return _0x46e1c5===_0x168b24[_0x55c748(0x433)]&&void 0x0!==_0x1a2fd8&&void 0x0!==_0x4108b0;}[_0x5a8b1c(0x5f8)](_0x4522d5){const _0x350dcb=_0x5a8b1c,{jobPhase:_0xd24250,result:_0xcb37fc}=_0x4522d5;return _0xd24250===_0x168b24[_0x350dcb(0x16c)]&&void 0x0!==_0xcb37fc;}[_0x5a8b1c(0x9f9)](_0x2ca4f9){const _0x9dac0d=_0x5a8b1c,{jobPhase:_0x1b5a08,result:_0x419366}=_0x2ca4f9;return _0x1b5a08===_0x168b24[_0x9dac0d(0x363)]&&void 0x0!==_0x419366;}['isFailedResponse'](_0x3250f1){const _0x1f4b00=_0x5a8b1c,{jobPhase:_0x5445c0,message:_0x31f49f}=_0x3250f1;return _0x5445c0===_0x168b24['Failed']&&void 0x0!==_0x31f49f&&_0x1f4b00(0x6e2)==typeof _0x31f49f;}}var _0x4e5f2d,_0x2e1081,_0x18ee4f,_0x722880,_0x3e31d1;!function(_0x35a056){const _0x5f5a3c=_0x5a8b1c;_0x35a056[_0x5f5a3c(0x263)]='object-storage',_0x35a056[_0x5f5a3c(0x1e9)]=_0x5f5a3c(0x7fa);}(_0x4e5f2d||(_0x4e5f2d={})),function(_0x14117b){const _0x327726=_0x5a8b1c;_0x14117b[_0x327726(0x2fd)]=_0x327726(0x56c),_0x14117b[_0x327726(0x9dd)]='agent-skill',_0x14117b['Router']=_0x327726(0xa55),_0x14117b['CustomSkill']=_0x327726(0x2d5),_0x14117b['DataCollection']=_0x327726(0x4b0),_0x14117b[_0x327726(0x48d)]=_0x327726(0x2ec),_0x14117b[_0x327726(0x6ef)]=_0x327726(0x7ed),_0x14117b[_0x327726(0x3be)]=_0x327726(0x997),_0x14117b[_0x327726(0x19d)]=_0x327726(0x5ac),_0x14117b[_0x327726(0x1ff)]=_0x327726(0x4ff),_0x14117b[_0x327726(0x1eb)]=_0x327726(0x280),_0x14117b['AiSearch']=_0x327726(0x67a),_0x14117b[_0x327726(0x185)]='web-scraper',_0x14117b['WebScraperRaw']=_0x327726(0x326),_0x14117b[_0x327726(0x268)]=_0x327726(0x859),_0x14117b[_0x327726(0x6c0)]=_0x327726(0x235),_0x14117b[_0x327726(0x215)]=_0x327726(0xabe),_0x14117b[_0x327726(0xa89)]=_0x327726(0xa8e),_0x14117b[_0x327726(0x67f)]=_0x327726(0x825),_0x14117b[_0x327726(0x159)]=_0x327726(0x42c),_0x14117b[_0x327726(0x5ae)]=_0x327726(0x524),_0x14117b['OutputAudioStream']='output-audio-stream',_0x14117b[_0x327726(0x48e)]=_0x327726(0x76c);}(_0x2e1081||(_0x2e1081={})),function(_0x2c47b2){const _0x274892=_0x5a8b1c;_0x2c47b2[_0x274892(0x4c1)]=_0x274892(0x4c8),_0x2c47b2[_0x274892(0x4db)]=_0x274892(0x41c),_0x2c47b2[_0x274892(0x159)]='document-parser',_0x2c47b2[_0x274892(0x215)]=_0x274892(0xabe),_0x2c47b2[_0x274892(0x67f)]='word-splitter',_0x2c47b2[_0x274892(0xa89)]='sentence-splitter',_0x2c47b2[_0x274892(0x157)]=_0x274892(0x7fc),_0x2c47b2[_0x274892(0xad3)]=_0x274892(0x5da),_0x2c47b2[_0x274892(0x289)]=_0x274892(0x4a9),_0x2c47b2[_0x274892(0x2de)]=_0x274892(0x540),_0x2c47b2['Agent']=_0x274892(0x56c),_0x2c47b2['ObjectStorageBucket']=_0x274892(0x3fc),_0x2c47b2['KeyValueDatabase']=_0x274892(0x26c),_0x2c47b2[_0x274892(0x653)]='vector-database',_0x2c47b2[_0x274892(0x820)]=_0x274892(0x7da),_0x2c47b2[_0x274892(0x6ef)]='prompt',_0x2c47b2[_0x274892(0x6d1)]=_0x274892(0x826),_0x2c47b2[_0x274892(0x858)]=_0x274892(0x4cd),_0x2c47b2['Embed']='embed';}(_0x18ee4f||(_0x18ee4f={})),function(_0x2b1a2b){const _0x52637c=_0x5a8b1c;_0x2b1a2b[_0x52637c(0x9a2)]=_0x52637c(0x186),_0x2b1a2b[_0x52637c(0x517)]=_0x52637c(0x2fc),_0x2b1a2b[_0x52637c(0x31f)]='image',_0x2b1a2b[_0x52637c(0x613)]='audio',_0x2b1a2b['Data']=_0x52637c(0x349),_0x2b1a2b[_0x52637c(0x3b8)]=_0x52637c(0x9c8),_0x2b1a2b['Entity']='entity',_0x2b1a2b['Relation']=_0x52637c(0x55c),_0x2b1a2b[_0x52637c(0x1eb)]='search',_0x2b1a2b[_0x52637c(0xb01)]=_0x52637c(0x960),_0x2b1a2b[_0x52637c(0xaf4)]=_0x52637c(0x1d0),_0x2b1a2b['Context']=_0x52637c(0x826),_0x2b1a2b[_0x52637c(0x971)]=_0x52637c(0x47e),_0x2b1a2b['WaitTrue']='wait-true',_0x2b1a2b[_0x52637c(0x404)]=_0x52637c(0x6c7);}(_0x722880||(_0x722880={})),function(_0x3e0a97){const _0x507343=_0x5a8b1c;_0x3e0a97[_0x507343(0xa80)]=_0x507343(0x208),_0x3e0a97[_0x507343(0x490)]='account',_0x3e0a97[_0x507343(0x425)]='dedicated';}(_0x3e31d1||(_0x3e31d1={}));const _0x382518=[{'type':_0x2e1081[_0x5a8b1c(0x904)],'id':_0x5a8b1c(0xa3f),'name':'Conditional\x20Router','description':_0x5a8b1c(0xa00),'modelId':'gpt-4.1-nano','instructions':_0x5a8b1c(0x22f),'grammar':'if_else','temperature':0x0,'maxTokens':0x64}],_0x48a345=[{'type':_0x2e1081[_0x5a8b1c(0x2fd)],'id':_0x5a8b1c(0x6e9),'name':'Blank\x20Agent','description':'','modelId':'gpt-4.1-nano','instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081['Agent'],'id':_0x5a8b1c(0x7ea),'name':_0x5a8b1c(0xa17),'description':_0x5a8b1c(0x486),'modelId':'gpt-4.1-nano','instructions':_0x5a8b1c(0x7c7),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081[_0x5a8b1c(0x2fd)],'id':_0x5a8b1c(0x353),'name':'Search\x20Agent','description':'Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','modelId':_0x5a8b1c(0x2ba),'instructions':_0x5a8b1c(0x8cf),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081['Agent'],'id':'feedback-agent','name':_0x5a8b1c(0x8c3),'description':_0x5a8b1c(0x471),'modelId':_0x5a8b1c(0x2ba),'instructions':'Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081['Agent'],'id':_0x5a8b1c(0x142),'name':_0x5a8b1c(0x18d),'description':_0x5a8b1c(0x71f),'modelId':_0x5a8b1c(0x2ba),'instructions':_0x5a8b1c(0x4d1),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081['Agent'],'id':_0x5a8b1c(0x7b6),'name':'Query\x20Generator','description':'Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','modelId':_0x5a8b1c(0x2ba),'instructions':_0x5a8b1c(0x6c1),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081[_0x5a8b1c(0x2fd)],'id':_0x5a8b1c(0xb1c),'name':_0x5a8b1c(0xa47),'description':_0x5a8b1c(0x519),'modelId':_0x5a8b1c(0x2ba),'instructions':'Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081[_0x5a8b1c(0x2fd)],'id':_0x5a8b1c(0x6f8),'name':_0x5a8b1c(0x7d0),'description':_0x5a8b1c(0x850),'modelId':'gpt-4.1-nano','instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081[_0x5a8b1c(0x2fd)],'id':_0x5a8b1c(0x7a9),'name':'Summary\x20Generator','description':'Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','modelId':_0x5a8b1c(0x2ba),'instructions':_0x5a8b1c(0x7bc),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081[_0x5a8b1c(0x2fd)],'id':_0x5a8b1c(0x969),'name':_0x5a8b1c(0x558),'description':_0x5a8b1c(0x7c8),'modelId':_0x5a8b1c(0x2ba),'instructions':'Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081[_0x5a8b1c(0x2fd)],'id':_0x5a8b1c(0x615),'name':_0x5a8b1c(0x1bf),'description':'Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','modelId':'gpt-4.1-nano','instructions':'Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2e1081[_0x5a8b1c(0x2fd)],'id':'copywriter-agent','name':_0x5a8b1c(0x8b1),'description':_0x5a8b1c(0x967),'modelId':'gpt-4.1-nano','instructions':_0x5a8b1c(0x584),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'coordinator-agent','name':'Coordinator\x20Agent','description':_0x5a8b1c(0x8e6),'modelId':_0x5a8b1c(0x2ba),'instructions':_0x5a8b1c(0xa62),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'interview-agent','name':_0x5a8b1c(0xa2d),'description':_0x5a8b1c(0xa3e),'modelId':_0x5a8b1c(0x2ba),'instructions':_0x5a8b1c(0x802),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x5a8b1c(0x784),'name':_0x5a8b1c(0x4de),'description':_0x5a8b1c(0x819),'modelId':_0x5a8b1c(0x2ba),'instructions':'Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x5cada4{static [_0x5a8b1c(0x757)];constructor(){}static['getInstance'](){const _0x885f7a=_0x5a8b1c;return _0x5cada4[_0x885f7a(0x757)]||(_0x5cada4[_0x885f7a(0x757)]=new _0x5cada4()),_0x5cada4['instance'];}async[_0x5a8b1c(0xb38)](_0x30b3e7,_0xcfa01a){const _0x40b668=_0x5a8b1c,_0x34eaf8=await(0x0,_0x594922['getDoc'])((0x0,_0x594922[_0x40b668(0x941)])(_0x1b7d72[_0x40b668(0x184)](),_0x40b668(0x9e2)+_0x30b3e7+_0x40b668(0x318)+_0xcfa01a)),_0x383573=await this['getAgents'](_0x30b3e7),_0x1b8e73=await this[_0x40b668(0x664)](_0x30b3e7),_0xd57edb=await this['getDataCollections'](_0x30b3e7);if(!_0x34eaf8[_0x40b668(0x34e)]())throw new _0xdb384(_0xdb384['codes']['WorkflowDoesNotExist']);return this['parseWorkflowDocument'](_0x34eaf8,_0x383573,_0x1b8e73,_0xd57edb);}async[_0x5a8b1c(0x645)](_0x4e5c8d){const _0x1ca3a3=_0x5a8b1c;return(await(0x0,_0x594922['getDocs'])((0x0,_0x594922[_0x1ca3a3(0x545)])(_0x1b7d72[_0x1ca3a3(0x184)](),_0x1ca3a3(0x9e2)+_0x4e5c8d+_0x1ca3a3(0x70f))))[_0x1ca3a3(0x84c)][_0x1ca3a3(0x3d5)](_0x1bc6e9=>{const _0x3be671=_0x1ca3a3,_0x4fe0ae=_0x1bc6e9['data']();return{'type':_0x2e1081['DataCollection'],'id':_0x1bc6e9['id'],'name':_0x4fe0ae[_0x3be671(0x45a)],'description':_0x4fe0ae[_0x3be671(0x94a)],'storageType':_0x4fe0ae[_0x3be671(0x835)]??_0x52baed[_0x3be671(0x765)]['Pinecone'],'hosting':_0x4fe0ae[_0x3be671(0x169)]??_0x3e31d1[_0x3be671(0x425)],'modelId':_0x4fe0ae['modelId']??_0x3be671(0x5f2),'ingestBlocks':_0x4fe0ae[_0x3be671(0x616)],'retrieveBlocks':_0x4fe0ae[_0x3be671(0x1b3)]};});}async[_0x5a8b1c(0x943)](_0x45b914,_0x21392a){const _0x6ab65a=_0x5a8b1c,_0x4c672=await(0x0,_0x594922['getDoc'])((0x0,_0x594922['doc'])(_0x1b7d72['getFirestore'](),_0x6ab65a(0x9e2)+_0x45b914+_0x6ab65a(0x4d7)+_0x21392a)),_0x401d49=await this['getAgents'](_0x45b914),_0x3046ea=_0x4c672['data']();if(!_0x3046ea)throw new _0xdb384(_0xdb384[_0x6ab65a(0x549)]['DataCollectionDoesNotExist']);return{'type':_0x2e1081[_0x6ab65a(0x6e7)],'id':_0x21392a,'uid':_0x21392a,'name':_0x3046ea[_0x6ab65a(0x45a)],'description':_0x3046ea[_0x6ab65a(0x94a)],'storageType':_0x3046ea[_0x6ab65a(0x835)]??_0x52baed[_0x6ab65a(0x765)][_0x6ab65a(0x63e)],'hosting':_0x3046ea[_0x6ab65a(0x169)]??_0x3e31d1[_0x6ab65a(0x425)],'modelId':_0x3046ea[_0x6ab65a(0x611)]??_0x6ab65a(0x5f2),'ingestBlocks':this['parseDataCollectionBlocks'](_0x3046ea[_0x6ab65a(0x616)],_0x401d49),'retrieveBlocks':this[_0x6ab65a(0x1fc)](_0x3046ea[_0x6ab65a(0x1b3)],_0x401d49),'links':[]};}[_0x5a8b1c(0x2fe)](_0x2c9e64,_0x5155b3,_0x55be42,_0x8501d8){const _0x3cabd1=_0x5a8b1c,_0x30ed43=_0x2c9e64['data']();if(!_0x30ed43)throw new _0xdb384(_0xdb384['codes'][_0x3cabd1(0x8b5)]);const _0x66e9d3=this[_0x3cabd1(0x877)](_0x30ed43[_0x3cabd1(0x642)],_0x5155b3,_0x55be42,_0x8501d8);return{'id':_0x2c9e64['id'],'name':_0x30ed43[_0x3cabd1(0x45a)],'description':_0x30ed43[_0x3cabd1(0x94a)],'blocks':_0x66e9d3,'dataBucketIds':this[_0x3cabd1(0x439)](_0x66e9d3),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x66e9d3),'initialPrompt':_0x30ed43[_0x3cabd1(0x365)]};}[_0x5a8b1c(0x439)](_0x5373d1){const _0x202aba=_0x5a8b1c,_0x339f41=new Set();for(const _0x2714e5 of _0x5373d1)switch(_0x2714e5[_0x202aba(0x2a5)]){case _0x2e1081[_0x202aba(0x48d)]:case _0x2e1081[_0x202aba(0x6e7)]:for(const _0x130325 of[..._0x2714e5['ingestBlocks'],..._0x2714e5[_0x202aba(0x1b3)]])_0x130325[_0x202aba(0x2a5)]===_0x18ee4f[_0x202aba(0x4c1)]&&_0x339f41['add'](_0x130325['id']);}return Array['from'](_0x339f41);}[_0x5a8b1c(0x94b)](_0x2ccbd1){const _0x34e858=_0x5a8b1c,_0x170a3c=new Set();for(const _0x145de6 of _0x2ccbd1)switch(_0x145de6['type']){case _0x2e1081[_0x34e858(0x48d)]:case _0x2e1081['DataCollection']:for(const _0x24066e of[..._0x145de6[_0x34e858(0x616)],..._0x145de6[_0x34e858(0x1b3)]])_0x24066e[_0x34e858(0x2a5)]===_0x18ee4f[_0x34e858(0x4db)]&&_0x170a3c[_0x34e858(0x20c)](_0x24066e['id']);}return Array['from'](_0x170a3c);}[_0x5a8b1c(0x877)](_0x5775ce,_0x2c574d,_0x4abfda,_0x515ba1){return _0x5775ce['map'](_0x2d48e7=>{const _0x5b8e1f=a0_0x2316;switch(_0x2d48e7[_0x5b8e1f(0x2a5)]){case _0x2e1081[_0x5b8e1f(0x2fd)]:case _0x2e1081[_0x5b8e1f(0x9dd)]:case _0x2e1081['Router']:const _0x565792=_0x2c574d[_0x5b8e1f(0x5dd)](_0x2c8531=>_0x2c8531['id']===_0x2d48e7['id']);if(!_0x565792)throw new _0xdb384(_0xdb384['codes'][_0x5b8e1f(0x84f)],{'block':_0x2d48e7});return{'type':_0x2e1081['Agent'],'id':_0x565792['id'],'uid':_0x2d48e7[_0x5b8e1f(0x966)],'name':_0x565792[_0x5b8e1f(0x45a)],'description':_0x565792[_0x5b8e1f(0x94a)],'instructions':(_0x565792[_0x5b8e1f(0x8e8)]+'\x0a\x0a'+(_0x2d48e7[_0x5b8e1f(0x56c)]?.[_0x5b8e1f(0xb3b)]??''))[_0x5b8e1f(0x265)](),'contextOutputVariable':_0x2d48e7[_0x5b8e1f(0x56c)]?.[_0x5b8e1f(0x706)],'contextInputVariable':_0x2d48e7[_0x5b8e1f(0x56c)]?.[_0x5b8e1f(0x8b0)],'reasoning':_0x2d48e7[_0x5b8e1f(0x56c)]?.[_0x5b8e1f(0xa05)]??!0x1,'grammar':_0x2d48e7['agent']?.[_0x5b8e1f(0x871)]??_0x5b8e1f(0x538),'temperature':_0x2d48e7[_0x5b8e1f(0x56c)]?.[_0x5b8e1f(0x911)]??0.5,'maxTokens':_0x2d48e7['agent']?.[_0x5b8e1f(0x510)]??0x1f4,'modelId':_0x2d48e7[_0x5b8e1f(0x56c)]?.['modelId']??_0x5b8e1f(0xab0),'links':_0x2d48e7[_0x5b8e1f(0x1ce)]};case _0x2e1081[_0x5b8e1f(0x48d)]:case _0x2e1081[_0x5b8e1f(0x6e7)]:const _0x50ad37=_0x515ba1[_0x5b8e1f(0x5dd)](_0x46027c=>_0x46027c['id']===_0x2d48e7['id']);if(!_0x50ad37)throw new _0xdb384(_0xdb384[_0x5b8e1f(0x549)][_0x5b8e1f(0x84f)],{'block':_0x2d48e7});return{'type':_0x2d48e7[_0x5b8e1f(0x2a5)],'id':_0x50ad37['id'],'uid':_0x2d48e7[_0x5b8e1f(0x966)],'name':_0x50ad37[_0x5b8e1f(0x45a)],'description':_0x50ad37[_0x5b8e1f(0x94a)],'ingestBlocks':this[_0x5b8e1f(0x1fc)](_0x50ad37['ingestBlocks'],_0x2c574d),'retrieveBlocks':this[_0x5b8e1f(0x1fc)](_0x50ad37[_0x5b8e1f(0x1b3)],_0x2c574d),'links':_0x2d48e7[_0x5b8e1f(0x1ce)]};case _0x2e1081[_0x5b8e1f(0x535)]:return{'type':_0x2d48e7[_0x5b8e1f(0x2a5)],'id':_0x2d48e7['id'],'uid':_0x2d48e7[_0x5b8e1f(0x966)],'name':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x45a)],'description':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x94a)],'parameters':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0xb31)],'endpointUrl':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x97f)],'endpointMethod':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0xad5)],'headers':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x761)],'queryParameters':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x7f7)],'bodyParameters':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x727)],'contextOutputVariable':_0x2d48e7[_0x5b8e1f(0x1d0)]['contextOutputVariable'],'links':_0x2d48e7[_0x5b8e1f(0x1ce)]};case _0x2e1081[_0x5b8e1f(0x1ff)]:return{'type':_0x2d48e7[_0x5b8e1f(0x2a5)],'id':_0x2d48e7['id'],'uid':_0x2d48e7['uid'],'name':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x45a)],'description':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x94a)],'questions':_0x2d48e7['tool'][_0x5b8e1f(0x93a)]['map'](_0x59c954=>({'id':_0x59c954['id'],'question':_0x59c954[_0x5b8e1f(0x45a)],'validation':_0x59c954[_0x5b8e1f(0x270)],'required':_0x5b8e1f(0x9e0)===_0x59c954[_0x5b8e1f(0xa8b)],'format':_0x59c954[_0x5b8e1f(0x38a)]})),'contextOutputVariable':_0x2d48e7['tool'][_0x5b8e1f(0x706)],'links':_0x2d48e7['links']};case _0x2e1081[_0x5b8e1f(0x6ae)]:return{'type':_0x2d48e7[_0x5b8e1f(0x2a5)],'id':_0x2d48e7['id'],'uid':_0x2d48e7[_0x5b8e1f(0x966)],'modelId':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x611)]??_0x5b8e1f(0x5de),'links':_0x2d48e7[_0x5b8e1f(0x1ce)]};case _0x2e1081['WorkflowTool']:const _0x3aad93=_0x4abfda['find'](_0x3b3c30=>_0x3b3c30['id']===_0x2d48e7['id']);if(!_0x3aad93)throw new _0xdb384(_0xdb384[_0x5b8e1f(0x549)]['WorkflowInvalidBlockType'],{'block':_0x2d48e7});return{'type':_0x2d48e7[_0x5b8e1f(0x2a5)],'id':_0x2d48e7['id'],'uid':_0x2d48e7['uid'],'name':_0x3aad93[_0x5b8e1f(0x45a)],'description':_0x3aad93[_0x5b8e1f(0x94a)],'workflowId':_0x3aad93['id'],'async':_0x2d48e7['tool'][_0x5b8e1f(0x3ba)],'contextOutputVariable':_0x2d48e7[_0x5b8e1f(0x1d0)][_0x5b8e1f(0x706)],'contextInputVariable':_0x2d48e7[_0x5b8e1f(0x1d0)]['contextInputVariable'],'links':_0x2d48e7['links']};case _0x2e1081[_0x5b8e1f(0x6ef)]:case _0x2e1081[_0x5b8e1f(0x5ae)]:case _0x2e1081[_0x5b8e1f(0x3be)]:case _0x2e1081[_0x5b8e1f(0x209)]:case _0x2e1081[_0x5b8e1f(0x19d)]:case _0x2e1081[_0x5b8e1f(0x1eb)]:case _0x2e1081[_0x5b8e1f(0x185)]:case _0x2e1081[_0x5b8e1f(0x938)]:case _0x2e1081['QueryFile']:case _0x2e1081[_0x5b8e1f(0x6c0)]:case _0x2e1081[_0x5b8e1f(0xa89)]:case _0x2e1081[_0x5b8e1f(0x159)]:return{'type':_0x2d48e7[_0x5b8e1f(0x2a5)],'id':_0x2d48e7['id'],'uid':_0x2d48e7['uid'],'links':_0x2d48e7['links']};case _0x2e1081[_0x5b8e1f(0x215)]:case _0x2e1081[_0x5b8e1f(0x67f)]:return{'type':_0x2d48e7[_0x5b8e1f(0x2a5)],'id':_0x2d48e7['id'],'uid':_0x2d48e7['uid'],'links':_0x2d48e7[_0x5b8e1f(0x1ce)],'attributes':_0x2d48e7[_0x5b8e1f(0x347)]};default:throw new _0xdb384(_0xdb384[_0x5b8e1f(0x549)][_0x5b8e1f(0x84f)],{'block':_0x2d48e7});}});}['parseDataCollectionBlocks'](_0x24a78c,_0x37d3a2){return _0x24a78c?_0x24a78c['map'](_0x5c788c=>{const _0x2bd83a=a0_0x2316;switch(_0x5c788c[_0x2bd83a(0x2a5)]){case _0x18ee4f['Agent']:const _0x51d28d=_0x37d3a2[_0x2bd83a(0x5dd)](_0x1e3a43=>_0x1e3a43['id']===_0x5c788c['id']);if(!_0x51d28d)throw new _0xdb384(_0xdb384['codes'][_0x2bd83a(0x84f)],{'block':_0x5c788c});return{'type':_0x5c788c[_0x2bd83a(0x2a5)],'id':_0x5c788c['id'],'uid':_0x5c788c[_0x2bd83a(0x966)],'description':_0x51d28d[_0x2bd83a(0x94a)],'instructions':(_0x51d28d[_0x2bd83a(0x8e8)]+'\x0a\x0a'+(_0x5c788c[_0x2bd83a(0x56c)]?.['additionnalInstructions']??''))[_0x2bd83a(0x265)](),'contextOutputVariable':_0x5c788c[_0x2bd83a(0x56c)]?.[_0x2bd83a(0x706)],'contextInputVariable':_0x5c788c['agent']?.['contextInputVariable'],'reasoning':_0x5c788c[_0x2bd83a(0x56c)]?.[_0x2bd83a(0xa05)]??!0x1,'grammar':_0x5c788c[_0x2bd83a(0x56c)]?.[_0x2bd83a(0x871)]??_0x2bd83a(0x538),'temperature':_0x5c788c['agent']?.['temperature']??0.5,'maxTokens':_0x5c788c[_0x2bd83a(0x56c)]?.[_0x2bd83a(0x510)]??0x1f4,'modelId':_0x5c788c[_0x2bd83a(0x56c)]?.[_0x2bd83a(0x611)]??_0x2bd83a(0xab0),'links':_0x5c788c[_0x2bd83a(0x1ce)]};case _0x18ee4f[_0x2bd83a(0x820)]:case _0x18ee4f[_0x2bd83a(0x653)]:case _0x18ee4f[_0x2bd83a(0x67f)]:case _0x18ee4f[_0x2bd83a(0x215)]:case _0x18ee4f[_0x2bd83a(0xad3)]:case _0x18ee4f[_0x2bd83a(0x289)]:return{'type':_0x5c788c[_0x2bd83a(0x2a5)],'id':_0x5c788c['id'],'uid':_0x5c788c[_0x2bd83a(0x966)],'links':_0x5c788c[_0x2bd83a(0x1ce)],'attributes':_0x5c788c[_0x2bd83a(0x347)]};case _0x18ee4f['Model']:case _0x18ee4f[_0x2bd83a(0x172)]:case _0x18ee4f[_0x2bd83a(0x951)]:case _0x18ee4f[_0x2bd83a(0x157)]:case _0x18ee4f[_0x2bd83a(0x159)]:case _0x18ee4f[_0x2bd83a(0xa89)]:case _0x18ee4f[_0x2bd83a(0x4c1)]:case _0x18ee4f[_0x2bd83a(0x4db)]:case _0x18ee4f[_0x2bd83a(0x6d1)]:case _0x18ee4f[_0x2bd83a(0x6ef)]:case _0x18ee4f['Upload']:case _0x18ee4f[_0x2bd83a(0x4a7)]:return{'type':_0x5c788c['type'],'id':_0x5c788c['id'],'uid':_0x5c788c[_0x2bd83a(0x966)],'links':_0x5c788c[_0x2bd83a(0x1ce)]};default:throw new _0xdb384(_0xdb384[_0x2bd83a(0x549)][_0x2bd83a(0x84f)],{'block':_0x5c788c});}}):[];}async[_0x5a8b1c(0xb1f)](_0x139927){const _0x1f8e54=_0x5a8b1c,_0x44700a=(await(0x0,_0x594922['getDocs'])((0x0,_0x594922[_0x1f8e54(0x545)])(_0x1b7d72[_0x1f8e54(0x184)](),'/developers/'+_0x139927+_0x1f8e54(0x4d4))))['docs']['map'](_0x348c27=>{const _0x151aee=_0x1f8e54,_0x44bcc6=_0x348c27[_0x151aee(0x349)]();return{'type':_0x2e1081[_0x151aee(0x2fd)],'id':_0x348c27['id'],'name':_0x44bcc6[_0x151aee(0x45a)],'description':_0x44bcc6[_0x151aee(0x94a)],'instructions':_0x44bcc6['instructions']};});return _0x44700a[_0x1f8e54(0x3a9)](..._0x382518),_0x44700a[_0x1f8e54(0x3a9)](..._0x48a345),_0x44700a;}async[_0x5a8b1c(0x664)](_0x411ab8){const _0x743545=_0x5a8b1c;return(await(0x0,_0x594922[_0x743545(0x3f7)])((0x0,_0x594922['collection'])(_0x1b7d72['getFirestore'](),'/developers/'+_0x411ab8+_0x743545(0x4ac))))[_0x743545(0x84c)][_0x743545(0x3d5)](_0x32cfe8=>{const _0x56b5e0=_0x743545,_0x73c250=_0x32cfe8[_0x56b5e0(0x349)]();return{'id':_0x32cfe8['id'],'name':_0x73c250['name'],'description':_0x73c250[_0x56b5e0(0x94a)]};});}}const _0x4b8b58=_0x5cada4[_0x5a8b1c(0x2eb)]();class _0x2ac52b extends _0x565b39{[_0x5a8b1c(0x650)];[_0x5a8b1c(0x26a)];[_0x5a8b1c(0x9f8)]=0x0;[_0x5a8b1c(0x3d2)]=0x0;[_0x5a8b1c(0x709)];constructor(_0x2db2ef,_0x44d8f3,_0xa6d783,_0x1441ed){const _0x12341f=_0x5a8b1c;super(_0x2db2ef,_0x44d8f3,_0x1441ed),this['localNode']=_0x2db2ef,this[_0x12341f(0x26a)]=_0xa6d783,this['sendStats']();}[_0x5a8b1c(0x865)](){const _0x493ced=_0x5a8b1c;this[_0x493ced(0x709)]&&(clearTimeout(this[_0x493ced(0x709)]),delete this[_0x493ced(0x709)]),super[_0x493ced(0x865)]();}['reset'](){const _0x2f4c6e=_0x5a8b1c;this['prompts']=0x0,this[_0x2f4c6e(0x3d2)]=0x0,this[_0x2f4c6e(0x812)](),super[_0x2f4c6e(0xb32)]();}[_0x5a8b1c(0x4b6)](_0x2221e7){const _0x1f0c97=_0x5a8b1c,_0x4712fd=_0x1f0c97(0x92e)+(0x0,_0x4804e8['v4'])();let _0x17ad78=!0x1;const _0x1a1de1=()=>{const _0x235ed6=_0x1f0c97;if(_0x17ad78)throw new _0xdb384(_0xdb384['codes'][_0x235ed6(0x8d8)]);_0x17ad78=!0x0;};switch(_0x2221e7[_0x1f0c97(0x2a5)]){case'collection-create':case _0x1f0c97(0x934):case _0x1f0c97(0x1ed):case'file-delete':case _0x1f0c97(0x5d1):case _0x1f0c97(0x4ae):case _0x1f0c97(0x4ae):case _0x1f0c97(0xa5d):case _0x1f0c97(0x6d4):case _0x1f0c97(0x5b4):case'tool-call':case _0x1f0c97(0x97e):return{'id':_0x4712fd,..._0x2221e7,'run':()=>(_0x1a1de1(),this[_0x1f0c97(0x6c2)](_0x4712fd,_0x2221e7))};case _0x1f0c97(0x66f):case'prompt':const _0x2be2be=()=>(_0x1a1de1(),this['run'](_0x4712fd,_0x2221e7)),_0xff1924=()=>(_0x1a1de1(),this['stream'](_0x4712fd,_0x2221e7));return{'id':_0x4712fd,'options':{'threadId':_0x1f0c97(0x9f0)+(0x0,_0x4804e8['v4'])()},..._0x2221e7,'run':_0x2be2be,'stream':_0xff1924};default:throw new Error(_0x1f0c97(0x250));}}async['internalJob'](_0x5bfdd3,_0x4935d0){const _0x3875aa=_0x5a8b1c;if(_0x3875aa(0x66f)===_0x4935d0[_0x3875aa(0x2a5)]||_0x3875aa(0x7ed)===_0x4935d0[_0x3875aa(0x2a5)])throw new _0x4ec9e4(_0x47ec8c['GenerativeAIContextJobInvalidType'],_0x3875aa(0x250));const _0x418a2a={'threadId':_0x3875aa(0x9f0)+(0x0,_0x4804e8['v4'])(),..._0x4935d0},_0x15439b=await this[_0x3875aa(0x953)](_0x5bfdd3,_0x52baed[_0x3875aa(0x4b8)][_0x3875aa(0x492)],_0x418a2a);return new Promise((_0x125394,_0x5904db)=>{const _0x3ba78d=_0x3875aa;let _0x37db6b;const _0x53fef3=_0x15439b[_0x3ba78d(0x19a)]({'next':_0x50b2d4=>{const _0x480e55=_0x3ba78d;switch(_0x50b2d4[_0x480e55(0x33d)]){case _0x52baed[_0x480e55(0x29f)]['Completed']:clearTimeout(_0x37db6b),_0x125394(_0x50b2d4[_0x480e55(0xa02)]),_0x53fef3[_0x480e55(0xa68)]();break;case _0x52baed[_0x480e55(0x29f)][_0x480e55(0x9f7)]:clearTimeout(_0x37db6b),_0x5904db(new _0xdb384(_0xdb384['codes'][_0x480e55(0x8c7)],{'updatedJob':_0x50b2d4})),_0x53fef3[_0x480e55(0xa68)]();}},'error':_0x54e2dc=>{const _0x136896=_0x3ba78d;clearTimeout(_0x37db6b),_0x5904db(new _0xdb384(_0xdb384[_0x136896(0x549)]['GenerativeAIContextJobFailed'],{'err':_0x54e2dc})),_0x53fef3[_0x136896(0xa68)]();}});_0x37db6b=setTimeout(()=>{const _0x4d134a=_0x3ba78d;_0x5904db(new _0xdb384(_0xdb384[_0x4d134a(0x549)][_0x4d134a(0x53b)])),_0x53fef3[_0x4d134a(0xa68)]();},_0x2481ae);});}async[_0x5a8b1c(0xacf)](_0x9c9c96,_0x1d8a4c){const _0x13d981=_0x5a8b1c,_0x197073=await this[_0x13d981(0x953)](_0x9c9c96,_0x52baed[_0x13d981(0x4b8)]['Job'],_0x1d8a4c);return new Promise((_0x3c5c30,_0x447eec)=>{const _0x214e7d=_0x13d981;let _0x2ec065;const _0x59f647=_0x197073[_0x214e7d(0x19a)]({'next':_0x33aa22=>{const _0x289de7=_0x214e7d;switch(_0x33aa22[_0x289de7(0x33d)]){case _0x52baed[_0x289de7(0x29f)][_0x289de7(0x1fb)]:if('prompt'!==_0x33aa22[_0x289de7(0xa02)][_0x289de7(0x2a5)])return;const _0x9707b=_0x33aa22['result'][_0x289de7(0x243)]??0x0;this[_0x289de7(0xa29)](_0x1d8a4c[_0x289de7(0x7ed)],_0x9707b),clearTimeout(_0x2ec065),_0x3c5c30(_0x33aa22[_0x289de7(0xa02)]),_0x59f647[_0x289de7(0xa68)](),this[_0x289de7(0x9f8)]+=0x1,this[_0x289de7(0x3d2)]+=_0x9707b,this[_0x289de7(0x812)]();break;case _0x52baed[_0x289de7(0x29f)][_0x289de7(0x9f7)]:clearTimeout(_0x2ec065),_0x447eec(new _0xdb384(_0xdb384['codes'][_0x289de7(0x8c7)],{'updatedJob':_0x33aa22})),_0x59f647[_0x289de7(0xa68)](),this[_0x289de7(0x812)]();}},'error':_0x1cb4bd=>{const _0x3d5b58=_0x214e7d;clearTimeout(_0x2ec065),_0x447eec(new _0xdb384(_0xdb384['codes'][_0x3d5b58(0x8c7)],{'err':_0x1cb4bd})),_0x59f647['unsubscribe']();}});_0x2ec065=setTimeout(()=>{const _0x7d46f7=_0x214e7d;_0x447eec(new _0xdb384(_0xdb384[_0x7d46f7(0x549)][_0x7d46f7(0x53b)])),_0x59f647[_0x7d46f7(0xa68)]();},_0x2481ae);});}async*[_0x5a8b1c(0x975)](_0x5058b0,_0x217c23){const _0x110ce9=_0x5a8b1c,_0x1918a6=await this['getJobObservable'](_0x5058b0,_0x52baed[_0x110ce9(0x4b8)]['JobStream'],_0x217c23);let _0x33c1dc,_0x2f67f1,_0x47989e=!0x1,_0x350c8a=0x0;const _0x2cde37=[],_0x46b473=new Map();let _0x31ca64=null;const _0x3b06f0=()=>{_0x31ca64&&(_0x31ca64(),_0x31ca64=null);},_0x58f56b=_0x4855f6=>{const _0x3dbca8=_0x110ce9;_0x47989e=!0x0,_0x3b06f0(),_0x2016bb[_0x3dbca8(0xa68)](),_0x2f67f1=_0x4855f6;},_0x2016bb=_0x1918a6['subscribe']({'next':async _0x292ad2=>{const _0x5c8cb1=_0x110ce9;switch(_0x292ad2[_0x5c8cb1(0x33d)]){case _0x52baed['JobStatus'][_0x5c8cb1(0x267)]:if(_0x5c8cb1(0x7ed)!==_0x292ad2[_0x5c8cb1(0xa02)][_0x5c8cb1(0x2a5)])return;if(void 0x0!==_0x292ad2[_0x5c8cb1(0xa02)]['output']){if(void 0x0===_0x292ad2[_0x5c8cb1(0xa02)]['index'])return void _0x58f56b(_0xdb384[_0x5c8cb1(0x549)]['GenerativeAIContextInvalidPartialResult']);_0x350c8a===_0x292ad2[_0x5c8cb1(0xa02)][_0x5c8cb1(0x960)]?(_0x2cde37['push'](_0x292ad2['result']),_0x350c8a++,((()=>{const _0x4b47ff=_0x5c8cb1;for(;_0x46b473[_0x4b47ff(0x149)](_0x350c8a);)_0x2cde37[_0x4b47ff(0x3a9)](_0x46b473['get'](_0x2cde37['length'])),_0x46b473['delete'](_0x2cde37[_0x4b47ff(0xa39)]),_0x350c8a++;})()),_0x3b06f0(),_0x553411()):_0x46b473[_0x5c8cb1(0x984)](_0x292ad2[_0x5c8cb1(0xa02)][_0x5c8cb1(0x960)],_0x292ad2[_0x5c8cb1(0xa02)]);}break;case _0x52baed[_0x5c8cb1(0x29f)]['Completed']:if(_0x5c8cb1(0x7ed)!==_0x292ad2['result'][_0x5c8cb1(0x2a5)])return;for(;_0x350c8a!==_0x292ad2['result'][_0x5c8cb1(0x960)];)await _0x3d74ea[_0x5c8cb1(0x47e)](0x3e8);const _0x2fb4c0=_0x292ad2[_0x5c8cb1(0xa02)]['inputTokens']??0x0;this[_0x5c8cb1(0xa29)](_0x217c23[_0x5c8cb1(0x7ed)],_0x2fb4c0),clearTimeout(_0x33c1dc),_0x58f56b(),this[_0x5c8cb1(0x9f8)]+=0x1,this[_0x5c8cb1(0x3d2)]+=_0x2fb4c0,this[_0x5c8cb1(0x812)]();break;case _0x52baed[_0x5c8cb1(0x29f)]['Failed']:clearTimeout(_0x33c1dc),_0x58f56b(_0xdb384[_0x5c8cb1(0x549)][_0x5c8cb1(0x8c7)]),this[_0x5c8cb1(0x812)]();}},'error':_0xc6c23f=>{const _0x314710=_0x110ce9;clearTimeout(_0x33c1dc),_0x58f56b(_0xdb384[_0x314710(0x549)][_0x314710(0x8c7)]);}}),_0x386860=()=>{const _0x2e4f5d=_0x110ce9;_0x58f56b(_0xdb384[_0x2e4f5d(0x549)][_0x2e4f5d(0x53b)]);},_0x553411=()=>{clearTimeout(_0x33c1dc),_0x33c1dc=setTimeout(_0x386860,_0x2481ae);};for(_0x33c1dc=setTimeout(_0x386860,_0x2481ae);!_0x47989e||_0x2cde37[_0x110ce9(0xa39)]>0x0;)_0x2cde37[_0x110ce9(0xa39)]>0x0?yield _0x2cde37['shift']():await new Promise(_0x59bd12=>_0x31ca64=_0x59bd12);if(_0x2f67f1)throw _0x241131[_0x110ce9(0x5fb)](_0x110ce9(0x60d),{'nodeId':this[_0x110ce9(0x650)][_0x110ce9(0x3dd)](),'nodeType':this[_0x110ce9(0x650)][_0x110ce9(0x2a5)]}),new _0xdb384(_0x2f67f1);}async[_0x5a8b1c(0x312)](){const _0x36b6ee=_0x5a8b1c;return(await _0x4b8b58['getWorkflow'](this['vendorId'],this['label']))[_0x36b6ee(0x34b)];}[_0x5a8b1c(0xa29)](_0x3e9776,_0x302e4c){const _0x429100=_0x5a8b1c,_0x4c8452=this[_0x429100(0x19f)],_0x4dcac2=this[_0x429100(0x770)]();_0x241131['logServiceEvent'](_0x261e7f[_0x429100(0x4bd)],{'topic':_0x4c8452,'prompt':_0x3e9776,'type':_0x429100(0x7ed),'nodeId':_0x4dcac2,'tokenCount':_0x302e4c});}async[_0x5a8b1c(0x953)](_0x4cee73,_0x4082fb,_0x4463cd,_0x14bcc6={}){const _0x4eae64=_0x5a8b1c;let _0x50b58a;switch(_0x4463cd[_0x4eae64(0x2a5)]){case _0x4eae64(0x73b):case'collection-delete':case'collection-query':case'embed':case _0x4eae64(0x2e4):case'file-download':case _0x4eae64(0x4ae):case _0x4eae64(0xa5d):case _0x4eae64(0x66f):case _0x4eae64(0x7ed):case _0x4eae64(0x6d4):case _0x4eae64(0x5b4):case'tool-call':_0x50b58a={'id':_0x4cee73,'jobType':_0x4082fb,'parameters':{..._0x14bcc6,..._0x4463cd},'status':_0x52baed[_0x4eae64(0x29f)][_0x4eae64(0xadc)]};break;default:throw new Error('Invalid\x20job\x20type');}return await this[_0x4eae64(0x1b7)](_0x50b58a);}[_0x5a8b1c(0x812)](){const _0x3e0751=_0x5a8b1c;this[_0x3e0751(0x709)]&&clearTimeout(this[_0x3e0751(0x709)]),this['debounceStats']=setTimeout(async()=>{const _0x537941=_0x3e0751;delete this[_0x537941(0x709)],this[_0x537941(0x625)][_0x537941(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1['Content'],'content':{'type':_0xae157c[_0x537941(0x539)],'label':this[_0x537941(0x19f)],'stats':{'timestamp':Date[_0x537941(0x744)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x537941(0x413)],'bytesSent':this[_0x537941(0x398)],'bytesReceived':this[_0x537941(0xa4c)],'writes':0x0,'reads':0x0,'prompts':this[_0x537941(0x9f8)],'tokens':this[_0x537941(0x3d2)]}}});},_0x291af8);}}var _0x5b77ec,_0xcd22a7,_0x1388f3,_0x4ec7f8,_0x4894d6,_0x5d9f0c,_0x3b3d88,_0x42f939,_0x5cfdda,_0x529612,_0x2d491f;!function(_0x3b5155){const _0x44b0bd=_0x5a8b1c;_0x3b5155[_0x44b0bd(0x9ff)]=_0x44b0bd(0x9ff),_0x3b5155[_0x44b0bd(0x454)]=_0x44b0bd(0x454),_0x3b5155['RetrieveTrace']=_0x44b0bd(0x578),_0x3b5155['WorkflowTrace']=_0x44b0bd(0x174);}(_0x5b77ec||(_0x5b77ec={})),function(_0xb741cb){const _0x3fa8b3=_0x5a8b1c;_0xb741cb['ModelText']='ModelText',_0xb741cb[_0x3fa8b3(0xb2f)]=_0x3fa8b3(0xb2f),_0xb741cb['VectorSearch']='VectorSearch',_0xb741cb[_0x3fa8b3(0xad3)]=_0x3fa8b3(0xad3),_0xb741cb[_0x3fa8b3(0x274)]=_0x3fa8b3(0x274),_0xb741cb[_0x3fa8b3(0x289)]=_0x3fa8b3(0x289);}(_0xcd22a7||(_0xcd22a7={})),function(_0x5bdb83){const _0x56bf05=_0x5a8b1c;_0x5bdb83[_0x5bdb83[_0x56bf05(0x8b6)]=0x0]='Debug',_0x5bdb83[_0x5bdb83[_0x56bf05(0x336)]=0x5]='Info',_0x5bdb83[_0x5bdb83[_0x56bf05(0x814)]=0xa]=_0x56bf05(0x814),_0x5bdb83[_0x5bdb83[_0x56bf05(0x2ff)]=0xf]='Error';}(_0x1388f3||(_0x1388f3={})),function(_0x2913fa){const _0x479b37=_0x5a8b1c;_0x2913fa[_0x479b37(0x9bc)]=_0x479b37(0x9bc),_0x2913fa['Ingest']='Ingest',_0x2913fa[_0x479b37(0x48d)]=_0x479b37(0x48d),_0x2913fa[_0x479b37(0x2e6)]=_0x479b37(0x2e6),_0x2913fa[_0x479b37(0x31c)]=_0x479b37(0x31c),_0x2913fa[_0x479b37(0x492)]='Job',_0x2913fa['JobContext']=_0x479b37(0x760),_0x2913fa['Rating']=_0x479b37(0x45b);}(_0x4ec7f8||(_0x4ec7f8={})),function(_0x77e163){const _0x33ab6b=_0x5a8b1c;_0x77e163[_0x33ab6b(0x88f)]='Queued',_0x77e163[_0x33ab6b(0x1fb)]='Completed';}(_0x4894d6||(_0x4894d6={})),function(_0x37e200){const _0x5e1010=_0x5a8b1c;_0x37e200[_0x5e1010(0x811)]=_0x5e1010(0x811),_0x37e200[_0x5e1010(0xaad)]=_0x5e1010(0xaad),_0x37e200[_0x5e1010(0x6e7)]=_0x5e1010(0x6e7),_0x37e200[_0x5e1010(0x53d)]=_0x5e1010(0x53d);}(_0x5d9f0c||(_0x5d9f0c={})),function(_0x215edb){const _0x54f7fa=_0x5a8b1c;_0x215edb[_0x54f7fa(0x215)]='ChunkSplitter',_0x215edb[_0x54f7fa(0x159)]='DocumentParser',_0x215edb[_0x54f7fa(0xad3)]=_0x54f7fa(0xad3),_0x215edb['GraphDatabase']=_0x54f7fa(0x820),_0x215edb[_0x54f7fa(0x2fd)]='Agent',_0x215edb[_0x54f7fa(0x245)]='ModelText',_0x215edb['ModelVector']=_0x54f7fa(0xb2f),_0x215edb[_0x54f7fa(0x157)]=_0x54f7fa(0x157),_0x215edb[_0x54f7fa(0xa89)]=_0x54f7fa(0xa89),_0x215edb[_0x54f7fa(0x653)]='VectorDatabase',_0x215edb[_0x54f7fa(0x67f)]=_0x54f7fa(0x67f);}(_0x3b3d88||(_0x3b3d88={})),function(_0x51f66d){const _0x16b0af=_0x5a8b1c;_0x51f66d[_0x16b0af(0x85e)]=_0x16b0af(0x85e),_0x51f66d['GetContextResult']=_0x16b0af(0x37f);}(_0x42f939||(_0x42f939={})),function(_0x5ca2ea){const _0x39d248=_0x5a8b1c;_0x5ca2ea[_0x39d248(0x1c4)]=_0x39d248(0x1c4),_0x5ca2ea[_0x39d248(0x18f)]='FetchUrl',_0x5ca2ea[_0x39d248(0x195)]=_0x39d248(0x195),_0x5ca2ea[_0x39d248(0x21d)]=_0x39d248(0x21d),_0x5ca2ea[_0x39d248(0x9ee)]=_0x39d248(0x9ee),_0x5ca2ea[_0x39d248(0x1e3)]=_0x39d248(0x1e3),_0x5ca2ea['QueryFile']=_0x39d248(0x268),_0x5ca2ea['WriteFile']=_0x39d248(0x6c0),_0x5ca2ea[_0x39d248(0x6cc)]=_0x39d248(0x6cc),_0x5ca2ea[_0x39d248(0x7a4)]=_0x39d248(0x7a4),_0x5ca2ea[_0x39d248(0x773)]=_0x39d248(0x773),_0x5ca2ea[_0x39d248(0x82f)]=_0x39d248(0x82f);}(_0x5cfdda||(_0x5cfdda={})),function(_0x169217){const _0x485dc6=_0x5a8b1c;_0x169217[_0x485dc6(0x41f)]=_0x485dc6(0x41f),_0x169217[_0x485dc6(0x8ee)]='LoadSkillFunction';}(_0x529612||(_0x529612={})),function(_0x39d860){const _0x537a62=_0x5a8b1c;_0x39d860[_0x537a62(0x776)]=_0x537a62(0x776);}(_0x2d491f||(_0x2d491f={}));class _0x2149ce{static [_0x5a8b1c(0x757)]=new _0x2149ce();[_0x5a8b1c(0x2b5)]=[];[_0x5a8b1c(0x34c)]=!0x1;constructor(){}static['getInstance'](){const _0x423ce7=_0x5a8b1c;return _0x2149ce[_0x423ce7(0x757)];}get[_0x5a8b1c(0xa39)](){const _0x2d69f5=_0x5a8b1c;return this[_0x2d69f5(0x2b5)][_0x2d69f5(0xa39)];}[_0x5a8b1c(0x621)](){const _0x1f5d26=_0x5a8b1c;return!this[_0x1f5d26(0x34c)];}[_0x5a8b1c(0x5a9)](_0x3b9a50){const _0x241153=_0x5a8b1c;_0x3b9a50?this[_0x241153(0x2b5)]=this['jobQueue'][_0x241153(0x930)](_0x324f8e=>_0x324f8e['ownerId']!==_0x3b9a50):(this[_0x241153(0x2b5)]=[],this[_0x241153(0x34c)]=!0x1);}[_0x5a8b1c(0x20c)](_0x24ec76,_0x6d3f66){const _0x5ea46e=_0x5a8b1c;this[_0x5ea46e(0x2b5)]['push']({'callback':_0x6d3f66,'ownerId':_0x24ec76}),this[_0x5ea46e(0x87c)]();}async[_0x5a8b1c(0x87c)](){const _0xacfd12=_0x5a8b1c;if(!this[_0xacfd12(0x34c)]){for(this[_0xacfd12(0x34c)]=!0x0;this[_0xacfd12(0x2b5)][_0xacfd12(0xa39)]>0x0;){const _0x35b733=this[_0xacfd12(0x2b5)][_0xacfd12(0x4ed)]();if(_0x35b733)try{console['warn']('JobQueueService:\x20Running\x20job'),await _0x35b733['callback'](),console[_0xacfd12(0x234)](_0xacfd12(0x38c));}catch(_0x930366){console[_0xacfd12(0x5fb)](_0xacfd12(0x961),_0x930366);}}this['isRunning']=!0x1;}}}const _0x30721e=_0x2149ce['getInstance']();class _0xc559de extends _0x43d50a{[_0x5a8b1c(0x423)];[_0x5a8b1c(0x89f)];constructor(_0x18e2da,_0x4380c3,_0x13ca6e){super(_0x18e2da,_0x4380c3),this['capacityReporter']=_0x13ca6e;}[_0x5a8b1c(0x62f)](){const _0x5e9962=_0x5a8b1c;return _0x52baed['ContentType'][_0x5e9962(0x492)];}[_0x5a8b1c(0x275)](){const _0x29f0d9=_0x5a8b1c;this[_0x29f0d9(0x28a)]();}['close'](){const _0x139624=_0x5a8b1c;this[_0x139624(0x625)]?.[_0x139624(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x139624(0x420)],'content':{'type':_0xae157c['CloseJobWorker'],'label':this[_0x139624(0x19f)]}});}[_0x5a8b1c(0xb32)](){const _0x2eaeb6=_0x5a8b1c;this['unsubscribeListener']?.(),delete this[_0x2eaeb6(0x89f)],this[_0x2eaeb6(0x275)]();}['destroy'](){const _0x69d8f4=_0x5a8b1c;_0x30721e[_0x69d8f4(0x5a9)](this[_0x69d8f4(0x19f)]),this[_0x69d8f4(0x89f)]?.(),delete this[_0x69d8f4(0x89f)],super[_0x69d8f4(0x865)]();}[_0x5a8b1c(0x621)](){const _0xd55859=_0x5a8b1c;return _0x30721e[_0xd55859(0x621)]();}[_0x5a8b1c(0xb0d)](){return 0x1;}[_0x5a8b1c(0x164)](_0xa1cc42,_0x846b21,_0x41ac4a){}['accumulateResult'](_0x54dabf,_0x4fabc7){return _0x54dabf;}async['startTracing'](_0x1bc05b,_0x35b8c4){const _0x4cadb0=_0x5a8b1c;console[_0x4cadb0(0x234)](_0x4cadb0(0x8d2));}async[_0x5a8b1c(0xab8)](_0x2f4fcc,_0x225abc){const _0x46abc0=_0x5a8b1c;console[_0x46abc0(0x234)](_0x46abc0(0x8d2));}[_0x5a8b1c(0x28a)](){const _0x584b29=_0x5a8b1c;this['unsubscribeListener']||(this[_0x584b29(0x89f)]=this[_0x584b29(0x756)](async(_0x2df108,_0xc3c095)=>{const _0x520086=_0x584b29;if(_0x241131[_0x520086(0x2d3)](_0xf47a5[_0x520086(0x40b)],'JobWorker:\x20Received\x20job',_0xc3c095),!(_0xc3c095 instanceof File)){if(this[_0x520086(0x5b3)](_0xc3c095))_0x241131['log'](_0xf47a5[_0x520086(0x40b)],_0x520086(0xa4e),_0xc3c095),this[_0x520086(0x621)]()?this[_0x520086(0x76f)](_0xc3c095['id'],_0xc3c095['jobType'],_0x2df108):this[_0x520086(0x5c4)](_0xc3c095['id'],_0xc3c095[_0x520086(0x148)],_0x2df108);else{if(this[_0x520086(0x396)](_0xc3c095)){_0x241131[_0x520086(0x2d3)](_0xf47a5['Jobs'],'JobWorker:\x20Received\x20job\x20attribution',_0xc3c095);const {id:_0x200c3e,parameters:_0x468626}=_0xc3c095;await this[_0x520086(0x3a3)](_0x200c3e,_0x468626),this['handleJobAttribution'](_0xc3c095['id'],_0xc3c095,_0x2df108);}}}}));}[_0x5a8b1c(0x76f)](_0x49e347,_0x24b4a0,_0x33fbb6){const _0x116229=_0x5a8b1c,_0x659722={'id':_0x49e347,'jobType':_0x24b4a0,'jobPhase':_0x168b24[_0x116229(0x433)],'available':!0x0,'queueLength':_0x30721e[_0x116229(0xa39)],'bid':this[_0x116229(0xb0d)]()};_0x241131[_0x116229(0x2d3)](_0xf47a5['Jobs'],_0x116229(0x45c),_0x659722),this[_0x116229(0x28e)](_0x659722,[_0x33fbb6]);}[_0x5a8b1c(0x5c4)](_0x31e2f3,_0x55cffe,_0x494a94){const _0x5e8933=_0x5a8b1c,_0x3e05ce={'id':_0x31e2f3,'jobType':_0x55cffe,'jobPhase':_0x168b24[_0x5e8933(0x433)],'available':!0x1,'queueLength':_0x30721e['length'],'bid':0x0};_0x241131[_0x5e8933(0x2d3)](_0xf47a5[_0x5e8933(0x40b)],'JobWorker:\x20Sending\x20job\x20reject',_0x3e05ce),this['send'](_0x3e05ce,[_0x494a94]);}async[_0x5a8b1c(0x509)](_0x2e848f,_0x337767,_0x1944c8){const _0x8f0474=_0x5a8b1c;_0x241131[_0x8f0474(0x2d3)](_0xf47a5[_0x8f0474(0x40b)],_0x8f0474(0x364),_0x337767);const _0xc9ff54={'id':_0x2e848f,'jobType':_0x337767['jobType'],'parameters':_0x337767[_0x8f0474(0xb31)]};try{switch(_0x337767['jobType']){case _0x52baed[_0x8f0474(0x4b8)][_0x8f0474(0x492)]:await this[_0x8f0474(0x3a1)](_0x2e848f,_0x337767,_0xc9ff54,_0x1944c8);break;case _0x52baed[_0x8f0474(0x4b8)][_0x8f0474(0x5d3)]:await this['processJobStream'](_0x2e848f,_0x337767,_0xc9ff54,_0x1944c8);break;default:throw new Error(_0x8f0474(0x8a1));}}catch(_0x3f07c7){_0x241131['error']('JobWorker:\x20Error\x20processing\x20job',{'nodeId':this[_0x8f0474(0x83c)]['getId'](),'nodeType':this['owner'][_0x8f0474(0x2a5)],'data':{'job':_0xc9ff54}},_0x3f07c7);const _0x5e5fe6=_0x3f07c7 instanceof Error?_0x3f07c7[_0x8f0474(0x421)]:_0x8f0474(0x978),_0x177943={'id':_0x2e848f,'jobType':_0x337767['jobType'],'jobPhase':_0x168b24[_0x8f0474(0x9f7)],'message':_0x5e5fe6};await this['send'](_0x177943,[_0x1944c8]);}}async['processJob'](_0x426f9a,_0x3fc75d,_0x99440d,_0x4cc867){const _0x58c998=_0x5a8b1c,_0x5da1f8=Date[_0x58c998(0x744)](),_0x411d0f=await this['internalProcessJob'](_0x426f9a,_0x99440d[_0x58c998(0xb31)]);this['compileStats'](_0x411d0f,_0x5da1f8,Date[_0x58c998(0x744)]());const _0x20221b={'id':_0x426f9a,'jobType':_0x3fc75d['jobType'],'jobPhase':_0x168b24['Result'],'result':_0x411d0f};_0x241131['log'](_0xf47a5['Jobs'],_0x58c998(0x8a7),_0x20221b),await this[_0x58c998(0x28e)](_0x20221b,[_0x4cc867]),await this[_0x58c998(0xab8)](_0x426f9a,_0x99440d[_0x58c998(0xb31)]);}async[_0x5a8b1c(0x182)](_0x3a80c9,_0x11edea,_0x7c08,_0x143bf1){const _0xd9ca9e=_0x5a8b1c,_0x127f8e=Date[_0xd9ca9e(0x744)]();let _0x2c6c02=0x0,_0x20008c={};for await(const _0x1cc20e of this[_0xd9ca9e(0x628)](_0x7c08['id'],_0x7c08['parameters'])){const _0x2cf6b4={'id':_0x3a80c9,'jobType':_0x11edea[_0xd9ca9e(0x148)],'jobPhase':_0x168b24[_0xd9ca9e(0x16c)],'result':{..._0x1cc20e,'index':_0x2c6c02}};_0x241131[_0xd9ca9e(0x2d3)](_0xf47a5[_0xd9ca9e(0x40b)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x2cf6b4),this['send'](_0x2cf6b4,[_0x143bf1]),_0x20008c=this['accumulateResult'](_0x20008c,_0x1cc20e),_0x2c6c02++;}this[_0xd9ca9e(0x164)](_0x20008c,_0x127f8e,Date['now']());const _0x418fdf={'id':_0x3a80c9,'jobType':_0x11edea[_0xd9ca9e(0x148)],'jobPhase':_0x168b24[_0xd9ca9e(0x363)],'result':{..._0x20008c,'index':_0x2c6c02}};_0x241131[_0xd9ca9e(0x2d3)](_0xf47a5[_0xd9ca9e(0x40b)],'JobWorker:\x20Sending\x20job\x20result',_0x418fdf),await this['send'](_0x418fdf,[_0x143bf1]),await this['stopTracing'](_0x3a80c9,_0x7c08['parameters']);}[_0x5a8b1c(0x5b3)](_0xcfc43d){const _0x1042a7=_0x5a8b1c;return _0xcfc43d[_0x1042a7(0x40e)]===_0x168b24[_0x1042a7(0xab7)];}['isJobAttribution'](_0x126605){const _0x216a3a=_0x5a8b1c;return _0x126605[_0x216a3a(0x40e)]===_0x168b24[_0x216a3a(0xb17)];}}const _0x3075e1=new Map([[_0x5a8b1c(0x713),{'id':_0x5a8b1c(0x713),'inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':_0x5a8b1c(0xab0)}],[_0x5a8b1c(0xab0),{'id':_0x5a8b1c(0xab0),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0x5a8b1c(0xab0)}],[_0x5a8b1c(0x178),{'id':_0x5a8b1c(0x178),'inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':'gpt-4.1-nano'}],[_0x5a8b1c(0x22a),{'id':_0x5a8b1c(0x22a),'inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0x5a8b1c(0x2ba)}],[_0x5a8b1c(0x2ba),{'id':_0x5a8b1c(0x2ba),'inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x5a8b1c(0x2ba)}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':'gpt-4.1-nano'}],['o3-mini',{'id':_0x5a8b1c(0x407),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x5a8b1c(0x2ba)}],[_0x5a8b1c(0xa4b),{'id':'claude-3-7-sonnet-latest','inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':'claude-3-haiku-20240307'}],[_0x5a8b1c(0xaa9),{'id':_0x5a8b1c(0xaa9),'inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':_0x5a8b1c(0x672)}],[_0x5a8b1c(0x86a),{'id':_0x5a8b1c(0x86a),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x5a8b1c(0x672)}],[_0x5a8b1c(0x672),{'id':_0x5a8b1c(0x672),'inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':_0x5a8b1c(0x672)}],[_0x5a8b1c(0x629),{'id':'claude-3-opus-latest','inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x5a8b1c(0x672)}],[_0x5a8b1c(0x5de),{'id':_0x5a8b1c(0x5de),'inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':'sonar'}],[_0x5a8b1c(0x67b),{'id':_0x5a8b1c(0x67b),'inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':_0x5a8b1c(0x5de)}],['sonar-reasoning',{'id':_0x5a8b1c(0x25b),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':_0x5a8b1c(0x5de)}],[_0x5a8b1c(0x368),{'id':_0x5a8b1c(0x368),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x5a8b1c(0x5de)}],[_0x5a8b1c(0x1ef),{'id':'sonar-deep-research','inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x5a8b1c(0x5de)}]]),_0x2b0020=new Map([[_0x5a8b1c(0x1b1),{'id':_0x5a8b1c(0x1b1),'engineType':_0x52baed[_0x5a8b1c(0x32c)]['Llamacpp'],'taskType':_0x52baed['GenerativeAITaskType'][_0x5a8b1c(0x402)],'inputType':_0x52baed['GenerativeAIModelInputType'][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x3b8)],'sourceUrl':_0x5a8b1c(0x70a)}],[_0x5a8b1c(0x5f2),{'id':_0x5a8b1c(0x5f2),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0xa3d)],'taskType':_0x52baed[_0x5a8b1c(0x36f)][_0x5a8b1c(0x402)],'inputType':_0x52baed[_0x5a8b1c(0xa4f)][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)]['Vector'],'sourceUrl':''}],[_0x5a8b1c(0x3a8),{'id':'text-embedding-3-large','engineType':_0x52baed['GenerativeAIEngineType'][_0x5a8b1c(0xa3d)],'taskType':_0x52baed[_0x5a8b1c(0x36f)]['Embeddings'],'inputType':_0x52baed[_0x5a8b1c(0xa4f)]['Text'],'outputType':_0x52baed['GenerativeAIModelOutputType'][_0x5a8b1c(0x3b8)],'sourceUrl':''}],[_0x5a8b1c(0x202),{'id':_0x5a8b1c(0x202),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0x50b)],'taskType':_0x52baed[_0x5a8b1c(0x36f)][_0x5a8b1c(0x27e)],'inputType':_0x52baed[_0x5a8b1c(0xa4f)][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'sourceUrl':_0x5a8b1c(0x474)}],[_0x5a8b1c(0x143),{'id':_0x5a8b1c(0x143),'engineType':_0x52baed['GenerativeAIEngineType']['Llamacpp'],'taskType':_0x52baed['GenerativeAITaskType'][_0x5a8b1c(0x27e)],'inputType':_0x52baed['GenerativeAIModelInputType'][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'sourceUrl':'https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf'}],['phi-4-14b',{'id':_0x5a8b1c(0x6f4),'engineType':_0x52baed[_0x5a8b1c(0x32c)]['Llamacpp'],'taskType':_0x52baed[_0x5a8b1c(0x36f)][_0x5a8b1c(0x27e)],'inputType':_0x52baed['GenerativeAIModelInputType']['Text'],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'sourceUrl':_0x5a8b1c(0x68b)}],['gpt-4o',{'id':_0x5a8b1c(0x713),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0xa3d)],'taskType':_0x52baed['GenerativeAITaskType'][_0x5a8b1c(0x27e)],'inputType':_0x52baed[_0x5a8b1c(0xa4f)][_0x5a8b1c(0x517)],'outputType':_0x52baed['GenerativeAIModelOutputType'][_0x5a8b1c(0x517)],'knowledgeCutoffDate':_0x5a8b1c(0x638),'sourceUrl':''}],[_0x5a8b1c(0xab0),{'id':_0x5a8b1c(0xab0),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0xa3d)],'taskType':_0x52baed[_0x5a8b1c(0x36f)]['TextGeneration'],'inputType':_0x52baed[_0x5a8b1c(0xa4f)][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],[_0x5a8b1c(0x178),{'id':_0x5a8b1c(0x178),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0xa3d)],'taskType':_0x52baed[_0x5a8b1c(0x36f)]['TextGeneration'],'inputType':_0x52baed[_0x5a8b1c(0xa4f)][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)]['Text'],'knowledgeCutoffDate':_0x5a8b1c(0x7d8),'sourceUrl':''}],[_0x5a8b1c(0x22a),{'id':'gpt-4.1-mini','engineType':_0x52baed[_0x5a8b1c(0x32c)]['OpenAI'],'taskType':_0x52baed[_0x5a8b1c(0x36f)][_0x5a8b1c(0x27e)],'inputType':_0x52baed[_0x5a8b1c(0xa4f)][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'knowledgeCutoffDate':_0x5a8b1c(0x7d8),'sourceUrl':''}],[_0x5a8b1c(0x2ba),{'id':_0x5a8b1c(0x2ba),'engineType':_0x52baed[_0x5a8b1c(0x32c)]['OpenAI'],'taskType':_0x52baed[_0x5a8b1c(0x36f)][_0x5a8b1c(0x27e)],'inputType':_0x52baed['GenerativeAIModelInputType'][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'knowledgeCutoffDate':_0x5a8b1c(0x7d8),'sourceUrl':''}],['o1',{'id':'o1','engineType':_0x52baed['GenerativeAIEngineType'][_0x5a8b1c(0xa3d)],'taskType':_0x52baed['GenerativeAITaskType'][_0x5a8b1c(0x27e)],'inputType':_0x52baed[_0x5a8b1c(0xa4f)][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'knowledgeCutoffDate':_0x5a8b1c(0x638),'sourceUrl':''}],[_0x5a8b1c(0x407),{'id':_0x5a8b1c(0x407),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0xa3d)],'taskType':_0x52baed[_0x5a8b1c(0x36f)][_0x5a8b1c(0x27e)],'inputType':_0x52baed[_0x5a8b1c(0xa4f)][_0x5a8b1c(0x517)],'outputType':_0x52baed['GenerativeAIModelOutputType'][_0x5a8b1c(0x517)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],[_0x5a8b1c(0xa4b),{'id':_0x5a8b1c(0xa4b),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0x311)],'taskType':_0x52baed[_0x5a8b1c(0x36f)][_0x5a8b1c(0x27e)],'inputType':_0x52baed[_0x5a8b1c(0xa4f)]['Text'],'outputType':_0x52baed['GenerativeAIModelOutputType'][_0x5a8b1c(0x517)],'knowledgeCutoffDate':_0x5a8b1c(0x69c),'sourceUrl':''}],[_0x5a8b1c(0xaa9),{'id':_0x5a8b1c(0xaa9),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0x311)],'taskType':_0x52baed[_0x5a8b1c(0x36f)]['TextGeneration'],'inputType':_0x52baed[_0x5a8b1c(0xa4f)][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'knowledgeCutoffDate':'April\x202024','sourceUrl':''}],[_0x5a8b1c(0x86a),{'id':_0x5a8b1c(0x86a),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0x311)],'taskType':_0x52baed[_0x5a8b1c(0x36f)][_0x5a8b1c(0x27e)],'inputType':_0x52baed['GenerativeAIModelInputType'][_0x5a8b1c(0x517)],'outputType':_0x52baed['GenerativeAIModelOutputType'][_0x5a8b1c(0x517)],'knowledgeCutoffDate':_0x5a8b1c(0x1f5),'sourceUrl':''}],['claude-3-haiku-20240307',{'id':_0x5a8b1c(0x672),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0x311)],'taskType':_0x52baed[_0x5a8b1c(0x36f)][_0x5a8b1c(0x27e)],'inputType':_0x52baed['GenerativeAIModelInputType'][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'knowledgeCutoffDate':_0x5a8b1c(0x69f),'sourceUrl':''}],['claude-3-opus-latest',{'id':_0x5a8b1c(0x629),'engineType':_0x52baed[_0x5a8b1c(0x32c)][_0x5a8b1c(0x311)],'taskType':_0x52baed['GenerativeAITaskType'][_0x5a8b1c(0x27e)],'inputType':_0x52baed['GenerativeAIModelInputType'][_0x5a8b1c(0x517)],'outputType':_0x52baed[_0x5a8b1c(0x921)][_0x5a8b1c(0x517)],'knowledgeCutoffDate':'August\x202023','sourceUrl':''}]]),_0x25cbe2=require('rxjs/operators');class _0x49d871{['subject'];constructor(){const _0x4163b1=_0x5a8b1c;this[_0x4163b1(0x210)]=new _0x293caa['Subject']();}[_0x5a8b1c(0x929)](_0x29b063){const _0xfcba61=_0x5a8b1c;this[_0xfcba61(0x210)][_0xfcba61(0x8d1)](_0x29b063);}async['once'](){const _0x24362c=_0x5a8b1c;return(0x0,_0x293caa[_0x24362c(0x5d9)])(this['subject'][_0x24362c(0x16b)]((0x0,_0x25cbe2[_0x24362c(0x74c)])(0x1)));}}function _0x475f60(_0x248e1b){const _0x43286b=_0x5a8b1c;try{return JSON[_0x43286b(0x2ed)](_0x248e1b);}catch(_0x162ca7){return _0x248e1b instanceof Error?_0x248e1b[_0x43286b(0x7bb)]():JSON[_0x43286b(0x2ed)](_0x43286b(0x71e));}}class _0x5e6248{static ['instance'];[_0x5a8b1c(0xace)]=_0x1388f3[_0x5a8b1c(0x2ff)];[_0x5a8b1c(0x96a)]=_0x1388f3[_0x5a8b1c(0x336)];[_0x5a8b1c(0x5c7)]=_0x4ec7f8[_0x5a8b1c(0x9bc)];[_0x5a8b1c(0x8ae)]={};static [_0x5a8b1c(0x2eb)]=()=>(_0x5e6248['instance']||(_0x5e6248['instance']=new _0x5e6248()),_0x5e6248[_0x5a8b1c(0x757)]);async['openTrace'](_0x5398b5,_0x3f4bd3,_0x21a878,_0x326b72){const _0x41df24=_0x5a8b1c;try{if(this[_0x41df24(0x8ae)][_0x3f4bd3])return!0x0;const _0x2beb53={'vendorId':_0x5398b5,'workflowId':_0x21a878,'sequence':0x0};if(this[_0x41df24(0x8ae)][_0x3f4bd3]=_0x2beb53,!_0x326b72||!_0x21a878)return!0x0;const _0x3f57d3=(0x0,_0x594922[_0x41df24(0x941)])(_0x1b7d72[_0x41df24(0x184)](),_0x41df24(0x56d)+_0x5398b5+_0x41df24(0x2a3)+_0x21a878+_0x41df24(0x2d7),_0x3f4bd3);return(await(0x0,_0x594922[_0x41df24(0x163)])(_0x3f57d3))[_0x41df24(0x34e)]()||await(0x0,_0x594922[_0x41df24(0x956)])(_0x3f57d3,{'threadId':_0x326b72,'startTime':(0x0,_0x594922[_0x41df24(0x9c9)])()}),!0x0;}catch(_0x42e293){return console[_0x41df24(0x5fb)](_0x41df24(0x860),_0x42e293),!0x1;}}async[_0x5a8b1c(0xb0a)](_0x194e6d,_0x182a71,_0x3286d7,_0x537c9b){const _0x35e91b=_0x5a8b1c;try{if(!this[_0x35e91b(0x8ae)][_0x194e6d])throw new Error(_0x35e91b(0x62b));const _0x39499d=new Date(),_0x154bdd=_0x39499d[_0x35e91b(0x4a3)]()+'-'+_0x39499d['getMonth']()+'-'+_0x39499d[_0x35e91b(0x6b1)](),_0x57db05=new Date(_0x39499d[_0x35e91b(0x4a3)](),_0x39499d[_0x35e91b(0x344)](),_0x39499d['getDate']()),_0x5339a9=this[_0x35e91b(0x8ae)][_0x194e6d][_0x35e91b(0x26a)],_0x39b611=_0x182a71+'-'+_0x154bdd,_0xdd0b13=_0x3075e1['get'](_0x182a71);if(!_0xdd0b13)return void console['error'](_0x35e91b(0x515),_0x182a71);const _0x41284e=_0xdd0b13[_0x35e91b(0xa30)]*_0x3286d7/0xf4240*0x64,_0x117406=_0xdd0b13[_0x35e91b(0x827)]*_0x537c9b/0xf4240*0x64,_0x47483e=(0x0,_0x594922['doc'])(_0x1b7d72['getFirestore'](),_0x35e91b(0x56d)+_0x5339a9+_0x35e91b(0x4a0),_0x39b611);await(0x0,_0x594922['setDoc'])(_0x47483e,{'modelId':_0x182a71,'date':_0x57db05,'inputTokens':(0x0,_0x594922[_0x35e91b(0x86c)])(_0x3286d7),'outputTokens':(0x0,_0x594922[_0x35e91b(0x86c)])(_0x537c9b),'inputCredits':(0x0,_0x594922[_0x35e91b(0x86c)])(_0x41284e),'outputCredits':(0x0,_0x594922['increment'])(_0x117406),'totalCredits':(0x0,_0x594922[_0x35e91b(0x86c)])(_0x41284e+_0x117406)},{'merge':!0x0});}catch(_0x1ac57e){console[_0x35e91b(0x5fb)](_0x35e91b(0x816),_0x1ac57e);}}async[_0x5a8b1c(0x981)](_0x4b6b38){const _0x33db74=_0x5a8b1c;try{const _0xf584e1=this[_0x33db74(0x8ae)][_0x4b6b38[_0x33db74(0x281)]];if(!_0xf584e1)throw new Error(_0x33db74(0x9d5));_0x4b6b38['sequence']=_0xf584e1[_0x33db74(0x9d6)]++,_0x4b6b38[_0x33db74(0x3c0)]>=this[_0x33db74(0xace)]&&console[_0x33db74(0x2d3)](JSON['stringify'](_0x4b6b38,null,0x2)),await this['commitTrace'](_0x4b6b38);}catch(_0x1f2aa1){console[_0x33db74(0x5fb)](_0x33db74(0x9db),_0x1f2aa1);}}async[_0x5a8b1c(0x9af)](_0x59eafd,_0x2287aa){const _0x232156=_0x5a8b1c;if(!_0x5e6248['instance'])throw new Error('GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open');if(!this['openedTraces'][_0x59eafd])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');if(_0x2287aa&&this[_0x232156(0x8ae)][_0x59eafd][_0x232156(0x526)])try{await(0x0,_0x594922['setDoc'])((0x0,_0x594922[_0x232156(0x941)])(_0x1b7d72[_0x232156(0x184)](),_0x232156(0x56d)+this['openedTraces'][_0x59eafd][_0x232156(0x26a)]+_0x232156(0x2a3)+this[_0x232156(0x8ae)][_0x59eafd]['workflowId']+_0x232156(0x2d7),_0x59eafd),{'endTime':(0x0,_0x594922[_0x232156(0x9c9)])()},{'merge':!0x0}),this['setForDeletion'](_0x59eafd);}catch(_0x4d9c4b){console[_0x232156(0x5fb)](_0x232156(0x192),_0x4d9c4b);}else this[_0x232156(0x20d)](_0x59eafd);}[_0x5a8b1c(0x20d)](_0x420863){setTimeout(()=>{const _0x28b1f7=a0_0x2316;delete this[_0x28b1f7(0x8ae)][_0x420863];},0x1b7740);}async[_0x5a8b1c(0x9a9)](_0x392f0a){const _0x41f961=_0x5a8b1c;if(_0x392f0a['traceLevel']<this[_0x41f961(0x96a)]&&_0x392f0a['jobType']!==this['commitType'])return;if(!this[_0x41f961(0x8ae)][_0x392f0a['jobId']])throw new Error(_0x41f961(0x63a));const _0x1349ae=this['openedTraces'][_0x392f0a[_0x41f961(0x281)]];try{const _0x2e9a65=function(_0x130e5c){const _0xede4d2=_0x41f961,_0x1660cd=[_0xede4d2(0x231),_0xede4d2(0xad0),_0xede4d2(0x148),'type','jobId',_0xede4d2(0x3c0),_0xede4d2(0xa63),_0xede4d2(0x33d),'sequence',_0xede4d2(0xa07)],_0x2e8f1c={..._0x130e5c};for(const _0x3ba3e6 of _0x1660cd)delete _0x2e8f1c[_0x3ba3e6];return{'timestamp':_0x130e5c[_0xede4d2(0xad0)],'jobType':_0x130e5c['jobType'],'type':_0x130e5c[_0xede4d2(0x2a5)],'jobId':_0x130e5c[_0xede4d2(0x281)],'agentId':_0x130e5c[_0xede4d2(0xb4b)]??'','traceLevel':_0x130e5c['traceLevel'],'blockId':_0x130e5c[_0xede4d2(0xa63)]??'','startTime':_0x130e5c['startTime'],'status':_0x130e5c[_0xede4d2(0x33d)],'sequence':_0x130e5c[_0xede4d2(0x9d6)]??0x0,'errorDetails':_0x130e5c['errorDetails']??'','metadata':_0x475f60(_0x2e8f1c)};}(_0x392f0a),_0x106fee=(0x0,_0x4804e8['v4'])();console[_0x41f961(0x2d3)](_0x41f961(0x4af),_0x2e9a65['type']),await(0x0,_0x594922[_0x41f961(0x956)])((0x0,_0x594922['doc'])(_0x1b7d72[_0x41f961(0x184)](),_0x41f961(0x56d)+_0x1349ae[_0x41f961(0x26a)]+'/workflows/'+_0x1349ae[_0x41f961(0x526)]+_0x41f961(0x65a)+_0x392f0a[_0x41f961(0x281)]+_0x41f961(0x329),_0x106fee),_0x2e9a65),_0x392f0a['type']===_0x2d491f[_0x41f961(0x776)]&&await(0x0,_0x594922[_0x41f961(0x956)])((0x0,_0x594922[_0x41f961(0x941)])(_0x1b7d72[_0x41f961(0x184)](),_0x41f961(0x56d)+_0x1349ae[_0x41f961(0x26a)]+_0x41f961(0x2a3)+_0x1349ae[_0x41f961(0x526)]+_0x41f961(0x2d7),_0x392f0a[_0x41f961(0x281)]),{'rating':_0x392f0a[_0x41f961(0x458)]},{'merge':!0x0});}catch(_0x5802ef){console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x5802ef);}}}const _0x3f0782=_0x5e6248['getInstance']();async function _0x5bbdd5(_0x53bd4d,_0x4da697,_0x163fc2,_0x3d0c4b,_0x4d214f,_0x14b014,_0x5f7b14,_0x4bf11f){const _0xe62478=function(_0x4e6fea,_0xa04b63){const _0x48e3cd=a0_0x2316,_0x3fa0b6=[];for(let _0xd700e2=0x0;_0xd700e2<_0x4e6fea[_0x48e3cd(0xa39)];_0xd700e2+=_0xa04b63[_0x48e3cd(0x347)]['size']){let _0xb28101=_0xd700e2-_0xa04b63['attributes'][_0x48e3cd(0x85f)];_0xb28101<0x0&&(_0xb28101=0x0);let _0x1b3c38=_0xd700e2+_0xa04b63['attributes'][_0x48e3cd(0xaf1)]+_0xa04b63[_0x48e3cd(0x347)][_0x48e3cd(0x85f)];_0x1b3c38>_0x4e6fea[_0x48e3cd(0xa39)]&&(_0x1b3c38=_0x4e6fea[_0x48e3cd(0xa39)]),length||(length=_0xd700e2+_0xa04b63[_0x48e3cd(0x347)][_0x48e3cd(0xaf1)],length>_0x4e6fea[_0x48e3cd(0xa39)]&&(length=_0x4e6fea[_0x48e3cd(0xa39)])),_0x3fa0b6[_0x48e3cd(0x3a9)](_0x4e6fea[_0x48e3cd(0x715)](_0xb28101,_0x1b3c38));}return _0x3fa0b6;}(_0x4da697,_0x4d214f);await _0x391277(_0x53bd4d,_0xe62478,_0x163fc2,_0x3d0c4b,_0x4d214f,_0x14b014,_0x5f7b14,_0x4bf11f);}async function _0x1d298b(_0x581cea,_0x33789f,_0x21c558,_0x55bc24,_0x94afed,_0x21a468,_0x292281,_0x54cffe){const _0x29933f=_0x5a8b1c;if(_0x94afed[_0x29933f(0x1ba)]||(_0x94afed[_0x29933f(0x1ba)]={}),_0x94afed[_0x29933f(0x1ba)]['queries']||(_0x94afed[_0x29933f(0x1ba)][_0x29933f(0x13f)]=[]),_0x33789f instanceof Array?_0x94afed['accumulated'][_0x29933f(0x13f)]['push'](..._0x33789f):_0x94afed[_0x29933f(0x1ba)]['queries']['push'](_0x33789f),_0x94afed[_0x29933f(0x548)]=_0x94afed[_0x29933f(0x548)]?_0x94afed[_0x29933f(0x548)]+0x1:0x1,_0x2e1a9d(_0x94afed,_0x21a468)>_0x94afed['timesCalled'])return;if(0x0===_0x94afed[_0x29933f(0x1ba)]['queries'][_0x29933f(0xa39)])throw new Error(_0x29933f(0x152));let _0x1090cf=[];const _0x453e78=Date['now']();try{let _0x1d6b3a=0x0,_0xeca6af=0x0;for(const _0x726596 of _0x94afed[_0x29933f(0x1ba)][_0x29933f(0x13f)]){const _0x12068d=await fetch(_0x12ca2b['apiUrl']+_0x29933f(0x367)+_0x94afed['id']+_0x29933f(0x53c),{'method':_0x29933f(0x8f2),'headers':{'Content-Type':_0x29933f(0x9b0),'x-vendor-id':_0x21c558[_0x29933f(0x26a)]},'body':JSON['stringify']({'query':_0x726596})}),_0x247b7b=((await _0x12068d[_0x29933f(0x751)]())[_0x29933f(0x349)]??[])[_0x29933f(0x3d5)](_0x122026=>({'pathName':_0x122026[_0x29933f(0x84b)],'relevance':_0x122026[_0x29933f(0x3fd)],'content':_0x122026[_0x29933f(0x2fa)]['text']}));_0x1090cf=Array[_0x29933f(0x47c)](new Set([..._0x1090cf,..._0x247b7b])),_0x1d6b3a+=_0x247b7b[_0x29933f(0x243)]??0x0,_0xeca6af+=_0x247b7b[_0x29933f(0x940)]??0x0;}_0x55bc24[_0x29933f(0x243)]+=_0x1d6b3a,_0x55bc24['outputTokens']+=_0xeca6af,_0x55bc24[_0x29933f(0x826)]=Array[_0x29933f(0x47c)](new Set([..._0x55bc24['context'],..._0x1090cf])),await _0x3f0782[_0x29933f(0x981)]({'jobType':_0x4ec7f8['Workflow'],'type':_0x5d9f0c['DataCollection'],'jobId':_0x581cea,'threadId':_0x21c558[_0x29933f(0xb36)],'traceLevel':_0x1388f3['Info'],'startTime':_0x453e78,'timestamp':Date[_0x29933f(0x744)](),'blockId':_0x94afed['id'],'status':'success','queries':_0x94afed[_0x29933f(0x1ba)][_0x29933f(0x13f)],'context':_0x1090cf,'inputTokens':_0x1d6b3a,'outputTokens':_0xeca6af});}catch(_0x413e90){console[_0x29933f(0x5fb)](_0x413e90),await _0x3f0782[_0x29933f(0x981)]({'jobType':_0x4ec7f8[_0x29933f(0x31c)],'type':_0x5d9f0c['DataCollection'],'jobId':_0x581cea,'threadId':_0x21c558['threadId'],'traceLevel':_0x1388f3[_0x29933f(0x336)],'startTime':_0x453e78,'timestamp':Date['now'](),'blockId':_0x94afed['id'],'status':_0x29933f(0x5fb),'queries':_0x94afed[_0x29933f(0x1ba)]['queries'],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x391277(_0x581cea,'',_0x21c558,_0x55bc24,_0x94afed,_0x21a468,_0x292281,_0x54cffe);}async function _0x4fdb85(_0x3d726d,_0x4b5628,_0x13c85f,_0x294c03,_0x1efd26,_0xe8284c,_0x15f384,_0x36519f){const _0x3914ab=await _0x15f384['nlpLibraryConnector']['getSentences'](_0x4b5628);await _0x391277(_0x3d726d,_0x3914ab,_0x13c85f,_0x294c03,_0x1efd26,_0xe8284c,_0x15f384,_0x36519f);}async function _0x30b343(_0x47db7f,_0x5bb0b4,_0x2a6231,_0xfe7a27,_0x2290d2,_0x9c1439,_0x16eaf3,_0x563fe1){const _0x4c0279=function(_0xa2966e,_0x142672){const _0x4f2c74=a0_0x2316,_0x43b242=[],_0x47ab6c=_0xa2966e[_0x4f2c74(0x8ed)]('\x20');let _0x47a0ec='',_0x16a1e6=0x0,_0x46b8b0=0x0,_0x4c7fc2=0x0;for(const _0x4bd04a of _0x47ab6c){if(_0x47a0ec[_0x4f2c74(0xa39)]+_0x4bd04a[_0x4f2c74(0xa39)]>_0x142672[_0x4f2c74(0x347)][_0x4f2c74(0xaf1)]){let _0x1596b9=_0x16a1e6,_0x1ab7e6='';for(;_0x1596b9>=0x0&&_0x1ab7e6[_0x4f2c74(0xa39)]+_0x47ab6c[_0x1596b9]['length']<_0x142672[_0x4f2c74(0x347)][_0x4f2c74(0x85f)];)_0x1ab7e6=_0x47ab6c[_0x1596b9]+'\x20'+_0x1ab7e6,_0x1596b9--;let _0x10252b=_0x46b8b0,_0xa0f65d='';for(;_0x10252b<_0x47ab6c[_0x4f2c74(0xa39)]&&_0xa0f65d[_0x4f2c74(0xa39)]+_0x47ab6c[_0x10252b][_0x4f2c74(0xa39)]<_0x142672[_0x4f2c74(0x347)][_0x4f2c74(0x85f)];)_0xa0f65d+=_0x47ab6c[_0x10252b]+'\x20',_0x10252b++;_0x47a0ec=_0x1ab7e6+_0x47a0ec+_0xa0f65d,_0x43b242['push'](_0x47a0ec[_0x4f2c74(0x265)]()),_0x47a0ec='',_0x16a1e6=_0x46b8b0;}_0x47a0ec+=_0x4bd04a+'\x20',_0x46b8b0++,_0x4c7fc2+=_0x4bd04a[_0x4f2c74(0xa39)]+0x1;}if(_0x47a0ec[_0x4f2c74(0xa39)]>0x0){let _0x1f3a84=_0x16a1e6,_0x37eb7a='';for(;_0x1f3a84>=0x0&&_0x37eb7a['length']+_0x47ab6c[_0x1f3a84][_0x4f2c74(0xa39)]<_0x142672[_0x4f2c74(0x347)]['overlap'];)_0x37eb7a=_0x47ab6c[_0x1f3a84]+'\x20'+_0x37eb7a,_0x1f3a84--;_0x47a0ec=_0x37eb7a+_0x47a0ec,_0x43b242[_0x4f2c74(0x3a9)](_0x47a0ec[_0x4f2c74(0x265)]());}return _0x43b242;}(_0x5bb0b4,_0x2290d2);await _0x391277(_0x47db7f,_0x4c0279,_0x2a6231,_0xfe7a27,_0x2290d2,_0x9c1439,_0x16eaf3,_0x563fe1);}async function _0x391277(_0xc5d826,_0x325411,_0x415ce1,_0x118da9,_0x490785,_0x977f1f,_0x191267,_0x520e8e){const _0x273f40=_0x5a8b1c;if(await _0x3d74ea[_0x273f40(0x47e)](0x1),_0x490785[_0x273f40(0x1ce)]){for(const _0x16dfec of _0x490785[_0x273f40(0x1ce)]){if(_0x16dfec[_0x273f40(0x2a5)]===_0x722880[_0x273f40(0x6d1)])continue;const _0x48aef4=_0x977f1f[_0x273f40(0x5dd)](_0x4f250e=>_0x4f250e[_0x273f40(0x966)]===_0x16dfec[_0x273f40(0x966)]);if(_0x48aef4)switch(_0x48aef4['type']){case _0x2e1081[_0x273f40(0x2fd)]:_0x16dfec[_0x273f40(0x2a5)]!==_0x722880['Text']&&_0x16dfec[_0x273f40(0x2a5)]!==_0x722880['Wait']||_0x273f40(0x6e2)!=typeof _0x325411||await _0x475517(_0xc5d826,_0x16dfec[_0x273f40(0x2a5)],_0x325411,_0x415ce1,_0x118da9,_0x48aef4,_0x977f1f,_0x191267,_0x520e8e),_0x16dfec[_0x273f40(0x2a5)]===_0x722880[_0x273f40(0x6c5)]&&_0x273f40(0x9e0)===_0x325411&&await _0x475517(_0xc5d826,_0x16dfec[_0x273f40(0x2a5)],_0x325411,_0x415ce1,_0x118da9,_0x48aef4,_0x977f1f,_0x191267,_0x520e8e),_0x16dfec[_0x273f40(0x2a5)]===_0x722880[_0x273f40(0x404)]&&_0x273f40(0xa54)===_0x325411&&await _0x475517(_0xc5d826,_0x16dfec['type'],_0x325411,_0x415ce1,_0x118da9,_0x48aef4,_0x977f1f,_0x191267,_0x520e8e);break;case _0x2e1081[_0x273f40(0x215)]:_0x16dfec['type']===_0x722880[_0x273f40(0x517)]&&_0x273f40(0x6e2)==typeof _0x325411&&await _0x5bbdd5(_0xc5d826,_0x325411,_0x415ce1,_0x118da9,_0x48aef4,_0x977f1f,_0x191267,_0x520e8e);break;case _0x2e1081[_0x273f40(0x6e7)]:_0x16dfec[_0x273f40(0x2a5)]===_0x722880[_0x273f40(0x517)]&&_0x273f40(0x6e2)==typeof _0x325411&&await _0x1d298b(_0xc5d826,_0x325411,_0x415ce1,_0x118da9,_0x48aef4,_0x977f1f,_0x191267,_0x520e8e),_0x16dfec['type']===_0x722880[_0x273f40(0x517)]&&_0x325411 instanceof Array&&await _0x1d298b(_0xc5d826,_0x325411,_0x415ce1,_0x118da9,_0x48aef4,_0x977f1f,_0x191267,_0x520e8e);break;case _0x2e1081[_0x273f40(0xa89)]:_0x16dfec['type']===_0x722880[_0x273f40(0x517)]&&_0x273f40(0x6e2)==typeof _0x325411&&await _0x4fdb85(_0xc5d826,_0x325411,_0x415ce1,_0x118da9,_0x48aef4,_0x977f1f,_0x191267,_0x520e8e);break;case _0x2e1081[_0x273f40(0x67f)]:_0x16dfec[_0x273f40(0x2a5)]===_0x722880['Text']&&_0x273f40(0x6e2)==typeof _0x325411&&await _0x30b343(_0xc5d826,_0x325411,_0x415ce1,_0x118da9,_0x48aef4,_0x977f1f,_0x191267,_0x520e8e);}}_0x490785[_0x273f40(0x2a5)]===_0x2e1081[_0x273f40(0x6ef)]&&_0x520e8e&&_0x520e8e[_0x273f40(0x929)](void 0x0);}else _0x490785['type']===_0x2e1081[_0x273f40(0x6ef)]&&_0x520e8e&&_0x520e8e['emit'](void 0x0);}function _0x2e1a9d(_0x228529,_0xea7149){const _0x550271=_0x5a8b1c;let _0x21420f=0x0;for(const _0xef6c79 of _0xea7149)for(const _0x1231a0 of _0xef6c79[_0x550271(0x1ce)]??[])_0x1231a0[_0x550271(0x2a5)]!==_0x722880['Context']&&_0x1231a0[_0x550271(0x2a5)]!==_0x722880[_0x550271(0xaf4)]&&_0x1231a0[_0x550271(0x966)]===_0x228529[_0x550271(0x966)]&&_0x21420f++;return _0x21420f;}function _0x123884(_0x5e9030,_0x382b49){const _0xa03bb3=_0x5a8b1c,_0x4d4ee2={'type':_0x5e9030[_0xa03bb3(0x2a5)],'name':_0x5e9030[_0xa03bb3(0x45a)]??'','description':_0x5e9030[_0xa03bb3(0x94a)]??'','parameters':_0x5e9030['parameters']??[],'headers':_0x5e9030[_0xa03bb3(0x761)]??[],'queryParameters':_0x5e9030['queryParameters']??[],'bodyParameters':_0x5e9030[_0xa03bb3(0x727)]??[],'endpointUrl':_0x5e9030[_0xa03bb3(0x97f)]??'','endpointMethod':_0x5e9030[_0xa03bb3(0xad5)]??'','contextInputVariable':_0x5e9030[_0xa03bb3(0x8b0)]??'','contextOutputVariable':_0x5e9030['contextOutputVariable']??'','modelId':_0x5e9030['modelId']??'','workflowId':_0x5e9030[_0xa03bb3(0x526)]??'','async':_0x5e9030[_0xa03bb3(0x3ba)]??!0x1,'instructions':_0x5e9030['instructions']??'','maxTokens':_0x5e9030[_0xa03bb3(0x510)]??0x0,'temperature':_0x5e9030[_0xa03bb3(0x911)]??0x0,'grammar':_0x5e9030[_0xa03bb3(0x871)]??_0xa03bb3(0x538),'collectionId':_0x5e9030[_0xa03bb3(0x2a5)]===_0x2e1081[_0xa03bb3(0x6e7)]||_0x5e9030[_0xa03bb3(0x2a5)]===_0x2e1081[_0xa03bb3(0x48d)]?_0x5e9030['id']:'','shouldEmit':_0x5e9030[_0xa03bb3(0x1ce)]?.[_0xa03bb3(0x707)](_0x49ecf5=>_0x49ecf5[_0xa03bb3(0x2a5)]===_0x722880[_0xa03bb3(0x517)]&&_0x382b49[_0xa03bb3(0x5dd)](_0x23d27c=>_0x23d27c[_0xa03bb3(0x966)]===_0x49ecf5['uid'])?.[_0xa03bb3(0x2a5)]===_0x2e1081['Answer'])??!0x1};if(_0x5e9030[_0xa03bb3(0x2a5)]===_0x2e1081[_0xa03bb3(0x1ff)])return[{..._0x4d4ee2,'type':_0x52baed[_0xa03bb3(0x4fc)][_0xa03bb3(0x13c)],'questions':_0x5e9030[_0xa03bb3(0x93a)]??[]},{..._0x4d4ee2,'type':_0x52baed[_0xa03bb3(0x4fc)]['FormSkillSetAnswer'],'questions':_0x5e9030[_0xa03bb3(0x93a)]??[]},{..._0x4d4ee2,'type':_0x52baed['GenerativeAIInferenceToolType'][_0xa03bb3(0x18e)],'questions':_0x5e9030['questions']??[]}];if(_0x5e9030['type']===_0x2e1081[_0xa03bb3(0x2fd)]||_0x5e9030[_0xa03bb3(0x2a5)]===_0x2e1081[_0xa03bb3(0x9dd)]||_0x5e9030[_0xa03bb3(0x2a5)]===_0x2e1081['Router']){const _0x326d62=_0x382b49['filter'](_0x422293=>_0x422293['links']?.[_0xa03bb3(0x707)](_0x253834=>_0x253834[_0xa03bb3(0x966)]===_0x5e9030[_0xa03bb3(0x966)]&&_0x253834['type']===_0x722880[_0xa03bb3(0xaf4)]));if(_0x326d62['length']>0x0)return{..._0x4d4ee2,'tools':_0x326d62[_0xa03bb3(0x88c)](_0x151d80=>_0x123884(_0x151d80,_0x382b49))};}return _0x4d4ee2;}async function _0x475517(_0x8f09bf,_0x3fc4d7,_0x437a3c,_0x4b61c7,_0x432a05,_0x1a133a,_0x3f23af,_0x498239,_0x4a7f1c){const _0x2113bb=_0x5a8b1c;if(_0x1a133a['accumulated']||(_0x1a133a[_0x2113bb(0x1ba)]={}),_0x3fc4d7===_0x722880['Text']&&_0x2113bb(0x6e2)==typeof _0x437a3c&&(_0x1a133a[_0x2113bb(0x1ba)][_0x2113bb(0x7ed)]||(_0x1a133a[_0x2113bb(0x1ba)]['prompt']=[]),_0x1a133a[_0x2113bb(0x1ba)][_0x2113bb(0x7ed)][_0x2113bb(0x3a9)](_0x437a3c)),_0x1a133a[_0x2113bb(0x548)]=_0x1a133a[_0x2113bb(0x548)]?_0x1a133a['timesCalled']+0x1:0x1,_0x2e1a9d(_0x1a133a,_0x3f23af)>_0x1a133a['timesCalled'])return;if(_0x241131[_0x2113bb(0x3f4)](_0x2113bb(0x356)+_0x1a133a[_0x2113bb(0x45a)],_0x1a133a['timesCalled']),!_0x1a133a[_0x2113bb(0x1ba)][_0x2113bb(0x7ed)])throw new Error(_0x2113bb(0x1cf)+_0x1a133a[_0x2113bb(0x45a)]);const _0x14fdc3=_0x498239['models']['find'](_0x2d836a=>_0x2d836a['id']===_0x1a133a['modelId']);if(!_0x14fdc3)throw new Error(_0x2113bb(0x641)+_0x1a133a['modelId']);const _0x448349=Date[_0x2113bb(0x744)](),_0x58740b=(0x0,_0x4804e8['v4'])();let _0x31c841='',_0x3c4d1f=0x0,_0x4e6cd6=0x0;const _0x5513e6=[],_0x27ab2a=function(_0x136420,_0x1aa34d,_0x488d54){const _0x1da844=_0x2113bb;if(_0x488d54[_0x1da844(0x8b0)]){const _0x4dffa0=_0x488d54[_0x1da844(0x8b0)][_0x1da844(0x8ed)](',');for(const _0x4dff6e of _0x4dffa0)_0x1da844(0x6ed)!==_0x4dff6e&&_0x1aa34d[_0x1da844(0x8bf)]?.[_0x4dff6e]&&(_0x136420='<'+_0x4dff6e+'>'+_0x1aa34d['internalContext'][_0x4dff6e]+'</'+_0x4dff6e+_0x1da844(0x6d9)+_0x136420);}return _0x136420;}(_0x1a133a[_0x2113bb(0x1ba)][_0x2113bb(0x7ed)][_0x2113bb(0x59d)]('\x0a\x0a'),_0x432a05,_0x1a133a);let _0x22620a=_0x27ab2a;const _0x2417a4=_0x1a133a[_0x2113bb(0x8b0)]?.[_0x2113bb(0x8ed)](',');if(_0x432a05['internalContext']?.[_0x2113bb(0x6ed)]&&_0x2417a4?.['includes'](_0x2113bb(0x6ed))){const _0x1d3005=_0x432a05[_0x2113bb(0x8bf)][_0x2113bb(0x6ed)][_0x2113bb(0x8ed)](',');_0x22620a=[];for(const _0x43c4c4 of _0x1d3005)_0x22620a['push']({'type':_0x2113bb(0x186),'file':{'file_id':_0x43c4c4}});_0x22620a[_0x2113bb(0x3a9)]({'type':_0x2113bb(0x2fc),'text':_0x27ab2a});}_0x5513e6['push']({'role':'system','content':_0x6826dc(_0x4b61c7[_0x2113bb(0x8e8)]??'',_0x1a133a,_0x14fdc3)}),_0x5513e6[_0x2113bb(0x3a9)](..._0x4b61c7[_0x2113bb(0x238)]?.['map'](_0x85b496=>({'role':_0x85b496[_0x2113bb(0x6e5)]===_0x52baed[_0x2113bb(0xa58)][_0x2113bb(0x843)]?_0x2113bb(0xb24):_0x2113bb(0x5cb),'content':_0x85b496[_0x2113bb(0x421)]}))??[]),_0x5513e6[_0x2113bb(0x3a9)]({'role':_0x2113bb(0xb24),'content':_0x22620a});const _0x321b5e=_0x3f23af[_0x2113bb(0x930)](_0x4df285=>_0x4df285[_0x2113bb(0x1ce)]?.[_0x2113bb(0x707)](_0x3ec823=>_0x3ec823[_0x2113bb(0x966)]===_0x1a133a[_0x2113bb(0x966)]&&_0x3ec823[_0x2113bb(0x2a5)]===_0x722880['Tool']))[_0x2113bb(0x88c)](_0xc688e1=>_0x123884(_0xc688e1,_0x3f23af));if(_0x4a7f1c){const _0xe556ea=_0x1a133a[_0x2113bb(0x1ce)]?.[_0x2113bb(0x707)](_0x2b2ae4=>_0x2b2ae4[_0x2113bb(0x2a5)]===_0x722880[_0x2113bb(0x517)]&&_0x3f23af['find'](_0x103292=>_0x103292['uid']===_0x2b2ae4[_0x2113bb(0x966)])?.[_0x2113bb(0x2a5)]===_0x2e1081[_0x2113bb(0x3be)])??!0x1,_0x3fe1f0=await fetch(_0x12ca2b['apiUrl']+_0x2113bb(0x19b),{'method':_0x2113bb(0x8f2),'headers':{'Accept':_0x2113bb(0xa7c),'Content-Type':_0x2113bb(0x9b0),'x-vendor-id':_0x4b61c7[_0x2113bb(0x26a)]},'body':JSON[_0x2113bb(0x2ed)]({'model':_0x1a133a[_0x2113bb(0x611)],'messages':_0x5513e6,'max_completion_tokens':_0x1a133a[_0x2113bb(0x510)],'temperature':_0x1a133a[_0x2113bb(0x911)],'metadata':{'threadId':_0x4b61c7[_0x2113bb(0xb36)],'agentId':_0x58740b,'jobId':_0x8f09bf,'workflowId':_0x4b61c7[_0x2113bb(0x526)],'context':_0x432a05[_0x2113bb(0x8bf)]??{}},'structured_output':_0x1a133a[_0x2113bb(0x871)],'tools':_0x321b5e,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x3fe1f0['ok']||!_0x3fe1f0['body'])throw new Error(_0x2113bb(0xacb));const _0x187e37=_0x3fe1f0[_0x2113bb(0x91a)][_0x2113bb(0x890)](),_0x41db1f=new TextDecoder();for(;;){const {value:_0x29e122,done:_0x44a4cc}=await _0x187e37[_0x2113bb(0x4b4)]();if(_0x44a4cc)break;const _0x5eda30=_0x41db1f['decode'](_0x29e122,{'stream':!0x0});if(_0x2113bb(0x21f)===_0x5eda30)break;const _0x3c3ff6=_0x2c91bc(_0x5eda30);for(const _0xc58db6 of _0x3c3ff6)_0xc58db6['choices']&&_0xc58db6[_0x2113bb(0x8b7)][0x0]&&(_0xe556ea&&(_0x4a7f1c[_0x2113bb(0x929)]({'output':_0xc58db6[_0x2113bb(0x8b7)][0x0][_0x2113bb(0xab4)][_0x2113bb(0x2fa)],'type':'prompt'}),await _0x3d74ea[_0x2113bb(0x47e)](0x1)),_0x31c841+=_0xc58db6[_0x2113bb(0x8b7)][0x0][_0x2113bb(0xab4)][_0x2113bb(0x2fa)]??'',_0x3c4d1f=_0xc58db6[_0x2113bb(0x1be)]?.['prompt_tokens']??0x0,_0x4e6cd6=_0xc58db6[_0x2113bb(0x1be)]?.['completion_tokens']??0x0,_0x432a05[_0x2113bb(0x8bf)]={..._0x432a05[_0x2113bb(0x8bf)],..._0xc58db6['context']});}_0x432a05['outputTokens']=(_0x432a05[_0x2113bb(0x940)]??0x0)+_0x4e6cd6,_0x432a05[_0x2113bb(0x243)]=(_0x432a05[_0x2113bb(0x243)]??0x0)+_0x3c4d1f,_0x4a7f1c[_0x2113bb(0x929)]({'output':_0xe556ea?'\x0a\x0a':'','type':'prompt'}),await _0x3d74ea[_0x2113bb(0x47e)](0x1);}else{const _0x300aae=await fetch(_0x12ca2b[_0x2113bb(0x306)]+'/chat/completions',{'method':_0x2113bb(0x8f2),'headers':{'Content-Type':_0x2113bb(0x9b0),'x-vendor-id':_0x4b61c7['vendorId']},'body':JSON['stringify']({'model':_0x1a133a[_0x2113bb(0x611)],'messages':_0x5513e6,'max_completion_tokens':_0x1a133a[_0x2113bb(0x510)],'temperature':_0x1a133a[_0x2113bb(0x911)],'metadata':{'threadId':_0x4b61c7[_0x2113bb(0xb36)],'agentId':_0x58740b,'jobId':_0x8f09bf,'workflowId':_0x4b61c7[_0x2113bb(0x526)],'context':_0x432a05['internalContext']??{}},'structured_output':_0x1a133a[_0x2113bb(0x871)],'tools':_0x321b5e})}),_0x44b12b=await _0x300aae[_0x2113bb(0x751)]();_0x31c841=_0x44b12b['choices'][0x0]['message'][_0x2113bb(0x2fa)],_0x3c4d1f=_0x44b12b[_0x2113bb(0x1be)][_0x2113bb(0x6ac)],_0x4e6cd6=_0x44b12b[_0x2113bb(0x1be)][_0x2113bb(0x309)],_0x432a05[_0x2113bb(0xadd)]=_0x31c841,_0x432a05['internalContext']={..._0x432a05['internalContext'],..._0x44b12b[_0x2113bb(0x826)]},_0x432a05[_0x2113bb(0x940)]=(_0x432a05['outputTokens']??0x0)+_0x4e6cd6,_0x432a05['inputTokens']=(_0x432a05['inputTokens']??0x0)+_0x3c4d1f;}if(_0x1a133a[_0x2113bb(0x706)]&&(_0x432a05[_0x2113bb(0x8bf)]||(_0x432a05['internalContext']={}),_0x432a05[_0x2113bb(0x8bf)][_0x1a133a['contextOutputVariable']]=_0x31c841),await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x2113bb(0x31c)],'type':_0x5d9f0c[_0x2113bb(0xaad)],'jobId':_0x8f09bf,'agentId':_0x58740b,'threadId':_0x4b61c7[_0x2113bb(0xb36)],'traceLevel':_0x1388f3[_0x2113bb(0x336)],'startTime':_0x448349,'timestamp':Date[_0x2113bb(0x744)](),'blockId':_0x1a133a['id'],'status':'success','output':_0x31c841,'prompt':_0x27ab2a,'agentName':_0x1a133a[_0x2113bb(0x45a)],'history':[],'instructions':''+_0x1a133a[_0x2113bb(0x8e8)]+(_0x4b61c7[_0x2113bb(0x8e8)]??''),'ragContext':[],'inputTokens':_0x3c4d1f??0x0,'outputTokens':_0x4e6cd6??0x0}),_0x2113bb(0x4dd)===_0x1a133a[_0x2113bb(0x871)])try{_0x31c841=JSON[_0x2113bb(0x85b)](_0x31c841)[_0x2113bb(0x17b)]?_0x2113bb(0x9e0):_0x2113bb(0xa54);}catch(_0x9abb27){console[_0x2113bb(0x5fb)](_0x2113bb(0x1d4),_0x31c841),_0x31c841=_0x2113bb(0xa54);}await _0x391277(_0x8f09bf,_0x31c841,_0x4b61c7,_0x432a05,_0x1a133a,_0x3f23af,_0x498239,_0x4a7f1c);}function _0x6826dc(_0x296081,_0xfe9d66,_0xe42513){const _0x172de6=_0x5a8b1c;let _0x3e9b6='';return _0xe42513[_0x172de6(0x3db)]&&''!==_0xe42513[_0x172de6(0x3db)]&&(_0x3e9b6=_0x172de6(0x69e)+_0xe42513[_0x172de6(0x3db)]+'\x0a\x0a'),_0x3e9b6=_0x3e9b6+_0x172de6(0xb26)+new Date()[_0x172de6(0x4eb)](void 0x0,{'weekday':_0x172de6(0x7de),'year':_0x172de6(0x5bc),'month':_0x172de6(0x7de),'day':_0x172de6(0x5bc)})+'\x0a\x0a',''+_0x3e9b6+_0xfe9d66[_0x172de6(0x8e8)]+_0x296081;}function _0x2c91bc(_0x2bb9d8){const _0x22cccf=_0x5a8b1c;return _0x2bb9d8[_0x22cccf(0x8ed)](_0x22cccf(0x2ea))[_0x22cccf(0x3d5)](_0x457b40=>_0x457b40[_0x22cccf(0x937)](_0x22cccf(0x60f),'')[_0x22cccf(0x265)]())[_0x22cccf(0x930)](_0x521a32=>''!==_0x521a32)[_0x22cccf(0x3d5)](_0x2ee12a=>{const _0x40a298=_0x22cccf;if('[DONE]'===_0x2ee12a)return null;try{return JSON['parse'](_0x2ee12a);}catch(_0x20b512){return console[_0x40a298(0x5fb)](_0x40a298(0x8eb),_0x2ee12a),null;}})[_0x22cccf(0x930)](_0x4560c9=>null!==_0x4560c9);}async function _0x4d0f3a(_0x4fda55,_0x31bee9,_0x38e093,_0x222e2f,_0x510c55,_0x40afe0,_0x85680f){const _0x23f563=_0x5a8b1c,_0x2b65d2=_0x23f563(0x453)+_0x510c55[_0x23f563(0x94a)]+'\x20to\x20generate\x20a\x20response.',_0xd31f61={'prompt':{'type':_0x52baed[_0x23f563(0xa52)][_0x23f563(0x13e)]}};return await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x23f563(0x760)],'type':_0x529612[_0x23f563(0x8ee)],'jobId':_0x4fda55,'agentId':_0x31bee9,'threadId':_0x38e093[_0x23f563(0xb36)],'traceLevel':_0x1388f3[_0x23f563(0x336)],'startTime':Date[_0x23f563(0x744)](),'timestamp':Date['now'](),'status':_0x23f563(0x4cf),'function':_0x5cfdda[_0x23f563(0x9ee)],'params':_0xd31f61,'functionDescription':_0x2b65d2}),{'description':_0x2b65d2,'params':_0xd31f61,'callback':async _0x28c4be=>_0x5b7087(_0x38e093[_0x23f563(0x26a)],_0x510c55,_0x40afe0,_0x28c4be,_0x222e2f,_0x4fda55,_0x31bee9,_0x38e093[_0x23f563(0xb36)],_0x85680f)};}async function _0x5b7087(_0x1e223b,_0x4e64eb,_0x16ca63,_0x4ea973,_0x321b30,_0x2cd14d,_0x54f758,_0x4f6367,_0x5e7847){const _0x24e84d=_0x5a8b1c,_0x187fb9=Date[_0x24e84d(0x744)]();try{if(_0x24e84d(0x6e2)!=typeof _0x4ea973?.[_0x24e84d(0x7ed)])throw new Error('Prompt\x20is\x20required');if(!_0x16ca63[_0x24e84d(0x89b)][_0x24e84d(0x5dd)](_0x54263e=>_0x54263e['id']===_0x4e64eb[_0x24e84d(0x611)]))throw new Error(_0x24e84d(0x156));let _0x438b84='',_0x5815ac=[];if(_0x4e64eb[_0x24e84d(0x8e8)]&&_0x5815ac[_0x24e84d(0x3a9)]({'role':'system','content':_0x4e64eb[_0x24e84d(0x8e8)]}),_0x5815ac[_0x24e84d(0x3a9)]({'role':_0x24e84d(0xb24),'content':_0x4ea973[_0x24e84d(0x7ed)]}),_0x5e7847&&_0x4e64eb['shouldEmit']){const _0x4bfef8=await fetch(_0x12ca2b[_0x24e84d(0x306)]+'/chat/completions',{'method':_0x24e84d(0x8f2),'headers':{'Accept':_0x24e84d(0xa7c),'Content-Type':'application/json','x-vendor-id':_0x1e223b},'body':JSON['stringify']({'model':_0x4e64eb['modelId'],'messages':_0x5815ac,'max_completion_tokens':_0x4e64eb[_0x24e84d(0x510)],'temperature':_0x4e64eb['temperature'],'tools':_0x4e64eb[_0x24e84d(0x7ad)],'structured_output':_0x4e64eb[_0x24e84d(0x871)],'metadata':{'threadId':_0x4f6367,'jobId':_0x2cd14d,'agentId':_0x54f758,'context':_0x321b30?.[_0x24e84d(0x8bf)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x4bfef8['ok']||!_0x4bfef8[_0x24e84d(0x91a)])throw new Error(_0x24e84d(0xacb));const _0x4d33e5=_0x4bfef8[_0x24e84d(0x91a)][_0x24e84d(0x890)](),_0x58749c=new TextDecoder();let _0xe9d5d4=0x0,_0x5bca6b=0x0,_0x53af3e='';for(;;){const {value:_0x587ffc,done:_0x1f0b2a}=await _0x4d33e5['read']();if(_0x1f0b2a)break;const _0x1eba25=_0x58749c[_0x24e84d(0x39f)](_0x587ffc,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x1eba25)break;const _0x451b56=_0x2c91bc(_0x1eba25);for(const _0x5afaf1 of _0x451b56)_0x5afaf1[_0x24e84d(0x8b7)]&&_0x5afaf1[_0x24e84d(0x8b7)][0x0]&&(_0x53af3e+=_0x5afaf1['choices'][0x0][_0x24e84d(0xab4)][_0x24e84d(0x2fa)],_0xe9d5d4+=_0x5afaf1[_0x24e84d(0x1be)]?.['input_tokens']??0x0,_0x5bca6b+=_0x5afaf1['usage']?.[_0x24e84d(0x463)]??0x0,_0x321b30&&(_0x321b30['internalContext']={..._0x321b30[_0x24e84d(0x8bf)],..._0x5afaf1[_0x24e84d(0x826)]}),_0x5e7847['emit']({'output':_0x5afaf1[_0x24e84d(0x8b7)][0x0][_0x24e84d(0xab4)][_0x24e84d(0x2fa)],'type':'prompt'}),await _0x3d74ea[_0x24e84d(0x47e)](0x1));}_0x321b30&&(_0x321b30[_0x24e84d(0x940)]=(_0x321b30[_0x24e84d(0x940)]??0x0)+_0x5bca6b,_0x321b30[_0x24e84d(0x243)]=(_0x321b30[_0x24e84d(0x243)]??0x0)+_0xe9d5d4,_0x4e64eb['contextOutputVariable']&&(_0x321b30[_0x24e84d(0x8bf)]||(_0x321b30[_0x24e84d(0x8bf)]={}),_0x321b30[_0x24e84d(0x8bf)][_0x4e64eb['contextOutputVariable']]=_0x53af3e)),_0x5e7847[_0x24e84d(0x929)]({'output':'\x0a\x0a','type':_0x24e84d(0x7ed)}),await _0x3d74ea[_0x24e84d(0x47e)](0x1),_0x438b84='I\x20have\x20finished\x20executing\x20my\x20task.';}else{const _0x2583e5=await fetch(_0x12ca2b[_0x24e84d(0x306)]+_0x24e84d(0x19b),{'method':'POST','headers':{'Content-Type':'application/json','x-vendor-id':_0x1e223b},'body':JSON[_0x24e84d(0x2ed)]({'model':_0x4e64eb['modelId'],'messages':_0x5815ac,'max_completion_tokens':_0x4e64eb[_0x24e84d(0x510)],'temperature':_0x4e64eb[_0x24e84d(0x911)],'tools':_0x4e64eb[_0x24e84d(0x7ad)],'structured_output':_0x4e64eb[_0x24e84d(0x871)],'metadata':{'threadId':_0x4f6367,'jobId':_0x2cd14d,'agentId':_0x54f758,'context':_0x321b30?.[_0x24e84d(0x8bf)]??{}}})}),_0x13e794=await _0x2583e5['json']();_0x438b84=_0x13e794[_0x24e84d(0x8b7)][0x0][_0x24e84d(0x421)]['content'],_0x321b30&&(_0x321b30['internalContext']={..._0x321b30[_0x24e84d(0x8bf)],..._0x13e794[_0x24e84d(0x826)]},_0x321b30[_0x24e84d(0x940)]=(_0x321b30[_0x24e84d(0x940)]??0x0)+_0x13e794['usage']['completion_tokens'],_0x321b30[_0x24e84d(0x243)]=(_0x321b30['inputTokens']??0x0)+_0x13e794[_0x24e84d(0x1be)]['prompt_tokens'],_0x4e64eb['contextOutputVariable']&&(_0x321b30['internalContext']||(_0x321b30[_0x24e84d(0x8bf)]={}),_0x321b30['internalContext'][_0x4e64eb[_0x24e84d(0x706)]]=_0x438b84));}if(_0x24e84d(0x6e2)!=typeof _0x438b84)throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x2cd14d&&_0x54f758&&_0x4f6367&&await _0x3f0782[_0x24e84d(0x981)]({'jobType':_0x4ec7f8[_0x24e84d(0x2e6)],'type':_0x5cfdda[_0x24e84d(0x9ee)],'jobId':_0x2cd14d,'blockId':_0x24e84d(0x56c),'agentId':_0x54f758,'threadId':_0x4f6367,'traceLevel':_0x1388f3[_0x24e84d(0x336)],'startTime':_0x187fb9,'timestamp':Date[_0x24e84d(0x744)](),'status':_0x24e84d(0x4cf),'agentName':_0x4e64eb[_0x24e84d(0x45a)],'prompt':_0x4ea973['prompt'],'instructions':_0x4e64eb[_0x24e84d(0x8e8)]??'','result':_0x438b84,'inputTokens':0x0,'outputTokens':0x0}),_0x438b84;}catch(_0xdc8db){return console[_0x24e84d(0x5fb)](_0xdc8db),_0x2cd14d&&_0x54f758&&_0x4f6367&&await _0x3f0782[_0x24e84d(0x981)]({'jobType':_0x4ec7f8[_0x24e84d(0x2e6)],'type':_0x5cfdda[_0x24e84d(0x9ee)],'jobId':_0x2cd14d,'blockId':_0x24e84d(0x56c),'agentId':_0x54f758,'threadId':_0x4f6367,'traceLevel':_0x1388f3['Info'],'startTime':_0x187fb9,'timestamp':Date[_0x24e84d(0x744)](),'status':'error','errorDetails':_0x425981(_0xdc8db),'agentName':_0x4e64eb[_0x24e84d(0x45a)],'prompt':_0x4ea973?.['prompt']??'','instructions':_0x4e64eb[_0x24e84d(0x8e8)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0xdc8db instanceof Error?_0xdc8db[_0x24e84d(0x421)]:_0x24e84d(0x13a);}}async function _0x348958(_0x1af7c1,_0x5775e8,_0x51c4e1,_0x366074,_0x4c49e0,_0x56e039){const _0x1ad696=_0x5a8b1c,_0x1c580c=Date[_0x1ad696(0x744)]();try{if(!_0x5775e8[_0x1ad696(0xab2)])throw new Error(_0x1ad696(0x302));if(!_0x1af7c1[_0x1ad696(0x611)])throw new Error('Model\x20ID\x20is\x20required');if(_0x1ad696(0x6e2)!=typeof _0x51c4e1?.['query'])throw new Error(_0x1ad696(0x3a2));const _0x3b4170=await _0x5775e8['aiSearchConnector']['search'](_0x51c4e1[_0x1ad696(0x337)],_0x1af7c1[_0x1ad696(0x611)]);return _0x366074&&_0x4c49e0&&_0x56e039&&(await _0x3f0782[_0x1ad696(0xb0a)](_0x366074,_0x1af7c1[_0x1ad696(0x611)],_0x3b4170['inputTokens'],_0x3b4170['outputTokens']),console[_0x1ad696(0x2d3)](new Date()+'\x20Ai\x20search\x20final\x20response',_0x1af7c1[_0x1ad696(0x611)],_0x3b4170[_0x1ad696(0x243)],_0x3b4170[_0x1ad696(0x940)]),await _0x3f0782[_0x1ad696(0x981)]({'jobType':_0x4ec7f8['Skill'],'type':_0x5cfdda[_0x1ad696(0x21d)],'jobId':_0x366074,'agentId':_0x4c49e0,'threadId':_0x56e039,'blockId':_0x1ad696(0x67a),'traceLevel':_0x1388f3[_0x1ad696(0x336)],'startTime':_0x1c580c,'timestamp':Date[_0x1ad696(0x744)](),'status':_0x1ad696(0x4cf),'query':_0x51c4e1['query'],'results':_0x3b4170['output']})),_0x3b4170[_0x1ad696(0xadd)];}catch(_0x23bc48){return console[_0x1ad696(0x5fb)](_0x23bc48),_0x366074&&_0x4c49e0&&_0x56e039&&await _0x3f0782['trace']({'jobType':_0x4ec7f8['Skill'],'type':_0x5cfdda[_0x1ad696(0x21d)],'jobId':_0x366074,'blockId':_0x1ad696(0x67a),'traceLevel':_0x1388f3[_0x1ad696(0x336)],'startTime':_0x1c580c,'timestamp':Date[_0x1ad696(0x744)](),'status':'error','errorDetails':_0x425981(_0x23bc48),'agentId':_0x4c49e0,'threadId':_0x56e039,'query':_0x51c4e1?.[_0x1ad696(0x337)]??'','results':_0x1ad696(0x5f1)}),_0x23bc48 instanceof Error?_0x23bc48[_0x1ad696(0x421)]:'Error\x20searching';}}async function _0xa06424(_0x5dc13a,_0x5870a5,_0x20bae8,_0x5a86e6){const _0x5dc226=_0x5a8b1c,_0x12a237=Date['now']();try{if(_0x5dc226(0x6e2)!=typeof _0x5dc13a?.[_0x5dc226(0x5ac)])throw new Error(_0x5dc226(0x389));const _0x1ad308=Function(''+_0x5dc13a?.['code'])();let _0xffb072='';try{_0xffb072=JSON['stringify'](_0x1ad308);}catch{_0xffb072=_0x1ad308['toString']();}return _0x5870a5&&_0x20bae8&&_0x5a86e6&&await _0x3f0782[_0x5dc226(0x981)]({'jobType':_0x4ec7f8[_0x5dc226(0x2e6)],'type':_0x5cfdda[_0x5dc226(0x1c4)],'agentId':_0x20bae8,'threadId':_0x5a86e6,'jobId':_0x5870a5,'blockId':_0x5dc226(0x5ac),'traceLevel':_0x1388f3[_0x5dc226(0x336)],'startTime':_0x12a237,'timestamp':Date['now'](),'status':'success','code':_0x5dc13a[_0x5dc226(0x5ac)],'result':_0xffb072}),_0x1ad308;}catch(_0x1f397b){return console['error'](_0x1f397b),_0x5870a5&&_0x20bae8&&_0x5a86e6&&await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x5dc226(0x2e6)],'type':_0x5cfdda[_0x5dc226(0x1c4)],'jobId':_0x5870a5,'blockId':_0x5dc226(0x5ac),'traceLevel':_0x1388f3[_0x5dc226(0x336)],'startTime':_0x12a237,'timestamp':Date[_0x5dc226(0x744)](),'status':_0x5dc226(0x5fb),'errorDetails':_0x425981(_0x1f397b),'agentId':_0x20bae8,'threadId':_0x5a86e6,'code':_0x5dc13a?.[_0x5dc226(0x5ac)]??'','result':_0x5dc226(0x4b3)}),_0x1f397b instanceof Error?_0x1f397b['message']:'Error\x20executing\x20code';}}async function _0x35051e(_0x147802,_0x3cbc40,_0x760299,_0x2122f2,_0x476c5c){const _0xe6a979=_0x5a8b1c,_0x911c11=_0xe6a979(0x50c)+_0x476c5c['description']+_0xe6a979(0x477),_0x2fa60c={'queryOrPrompt':{'type':_0x52baed[_0xe6a979(0xa52)][_0xe6a979(0x13e)]}};return await _0x3f0782[_0xe6a979(0x981)]({'jobType':_0x4ec7f8[_0xe6a979(0x760)],'type':_0x529612[_0xe6a979(0x41f)],'jobId':_0x147802,'agentId':_0x3cbc40,'threadId':_0x760299[_0xe6a979(0xb36)],'blockId':_0xe6a979(0x4b0),'traceLevel':_0x1388f3[_0xe6a979(0x336)],'startTime':Date[_0xe6a979(0x744)](),'timestamp':Date[_0xe6a979(0x744)](),'status':_0xe6a979(0x4cf),'function':_0x42f939[_0xe6a979(0x85e)],'params':_0x2fa60c,'functionDescription':_0x911c11}),{'description':_0x911c11,'params':_0x2fa60c,'callback':async _0x933416=>_0xb6c484(_0x760299[_0xe6a979(0x26a)],_0x476c5c,_0x933416,_0x2122f2,_0x147802,_0x3cbc40,_0x760299[_0xe6a979(0xb36)])};}async function _0xb6c484(_0x321759,_0x370ae0,_0x56c1f4,_0x107d63,_0x36d7e4,_0x353f2d,_0x4de847){const _0x415d44=_0x5a8b1c,_0x39814f=Date[_0x415d44(0x744)]();try{if(_0x415d44(0x6e2)!=typeof _0x56c1f4?.[_0x415d44(0x476)])throw new Error(_0x415d44(0x3a2));const _0x4dfabd=await fetch(_0x12ca2b[_0x415d44(0x306)]+_0x415d44(0x367)+_0x370ae0['collectionId']+_0x415d44(0x53c),{'method':'POST','headers':{'Content-Type':_0x415d44(0x9b0),'x-vendor-id':_0x321759},'body':JSON[_0x415d44(0x2ed)]({'query':_0x56c1f4[_0x415d44(0x476)]})}),_0x29d6dc=((await _0x4dfabd[_0x415d44(0x751)]())[_0x415d44(0x349)]??[])[_0x415d44(0x3d5)](_0x5eed5c=>({'pathName':_0x5eed5c[_0x415d44(0x84b)],'relevance':_0x5eed5c[_0x415d44(0x3fd)],'content':_0x5eed5c['content'][_0x415d44(0x2fc)]}));return _0x107d63&&(_0x107d63[_0x415d44(0x826)]=Array['from'](new Set([..._0x107d63[_0x415d44(0x826)]??[],..._0x29d6dc]))),_0x36d7e4&&_0x353f2d&&_0x4de847&&await _0x3f0782[_0x415d44(0x981)]({'jobType':_0x4ec7f8[_0x415d44(0x48d)],'type':_0x42f939[_0x415d44(0x37f)],'jobId':_0x36d7e4,'blockId':'data-collection','agentId':_0x353f2d,'threadId':_0x4de847,'traceLevel':_0x1388f3[_0x415d44(0x336)],'startTime':_0x39814f,'timestamp':Date[_0x415d44(0x744)](),'status':_0x415d44(0x4cf),'query':_0x56c1f4[_0x415d44(0x476)],'context':_0x29d6dc??[],'inputTokens':0x0,'outputTokens':0x0}),_0x29d6dc['reduce']((_0x14908b,_0x32d60d)=>_0x14908b+'\x0a'+_0x32d60d[_0x415d44(0x2fa)],'');}catch(_0x2d8db3){return console['error'](_0x2d8db3),_0x36d7e4&&_0x353f2d&&_0x4de847&&await _0x3f0782[_0x415d44(0x981)]({'jobType':_0x4ec7f8[_0x415d44(0x48d)],'type':_0x42f939['GetContextResult'],'jobId':_0x36d7e4,'blockId':_0x415d44(0x4b0),'agentId':_0x353f2d,'threadId':_0x4de847,'traceLevel':_0x1388f3[_0x415d44(0x336)],'startTime':_0x39814f,'timestamp':Date['now'](),'status':_0x415d44(0x5fb),'errorDetails':_0x425981(_0x2d8db3),'query':_0x56c1f4?.[_0x415d44(0x476)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x2d8db3 instanceof Error?_0x2d8db3['message']:_0x415d44(0x6d7);}}async function _0x3cf40c(_0x6ada27,_0x256bbf,_0x29c01b,_0x29cb7d,_0x16f666){const _0x25401b=_0x5a8b1c,_0x3324d9={};for(const _0x29d5b1 of _0x16f666[_0x25401b(0xb31)]??[])switch(_0x29d5b1[_0x25401b(0x2a5)]){case _0x25401b(0x6e2):case'json':_0x3324d9[_0x29d5b1['name']]={'type':_0x52baed['PromptFunctionParamsType']['String']};break;case _0x25401b(0x23e):_0x3324d9[_0x29d5b1[_0x25401b(0x45a)]]={'type':_0x52baed[_0x25401b(0xa52)][_0x25401b(0x51e)]};break;case _0x25401b(0x276):_0x3324d9[_0x29d5b1[_0x25401b(0x45a)]]={'type':_0x52baed['PromptFunctionParamsType'][_0x25401b(0x145)]};}return await _0x3f0782[_0x25401b(0x981)]({'jobType':_0x4ec7f8[_0x25401b(0x760)],'type':_0x529612['LoadSkillFunction'],'jobId':_0x6ada27,'agentId':_0x256bbf,'threadId':_0x29c01b,'traceLevel':_0x1388f3[_0x25401b(0x336)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x25401b(0x4cf),'function':_0x5cfdda[_0x25401b(0x1e3)],'params':_0x3324d9,'functionDescription':_0x16f666['description']??''}),{'description':'Execute\x20skill\x20'+_0x16f666[_0x25401b(0x94a)],'params':_0x3324d9,'callback':async _0xf69577=>_0xac0dc(_0x16f666,_0xf69577,_0x29cb7d,_0x6ada27,_0x256bbf,_0x29c01b)};}async function _0xac0dc(_0xf4e8b0,_0x3e39b4,_0x2ce518,_0x4159ca,_0x4988e3,_0x243f80){const _0x55aa7e=_0x5a8b1c,_0x275f4f=Date[_0x55aa7e(0x744)]();try{if(!_0x3e39b4)throw new Error(_0x55aa7e(0x24e));for(const _0x32f26e of _0xf4e8b0[_0x55aa7e(0xb31)]??[]){if(void 0x0===_0x3e39b4[_0x32f26e['name']])throw new Error(_0x55aa7e(0x5ba)+_0x32f26e[_0x55aa7e(0x45a)]+_0x55aa7e(0x397));if(_0x55aa7e(0x6e2)===_0x32f26e['type']&&_0x55aa7e(0x6e2)!=typeof _0x3e39b4[_0x32f26e[_0x55aa7e(0x45a)]])throw new Error('Parameter\x20'+_0x32f26e['name']+_0x55aa7e(0xa42));if(_0x55aa7e(0x23e)===_0x32f26e[_0x55aa7e(0x2a5)]&&_0x55aa7e(0x23e)!=typeof _0x3e39b4[_0x32f26e[_0x55aa7e(0x45a)]])throw new Error(_0x55aa7e(0x5ba)+_0x32f26e[_0x55aa7e(0x45a)]+'\x20must\x20be\x20a\x20number');if(_0x55aa7e(0x276)===_0x32f26e['type']&&_0x55aa7e(0x276)!=typeof _0x3e39b4[_0x32f26e[_0x55aa7e(0x45a)]])throw new Error(_0x55aa7e(0x5ba)+_0x32f26e['name']+_0x55aa7e(0x741));if(_0x55aa7e(0x751)===_0x32f26e[_0x55aa7e(0x2a5)]&&'string'!=typeof _0x3e39b4[_0x32f26e['name']])throw new Error(_0x55aa7e(0x5ba)+_0x32f26e[_0x55aa7e(0x45a)]+_0x55aa7e(0xa42));if('json'===_0x32f26e['type'])try{_0x3e39b4[_0x32f26e[_0x55aa7e(0x45a)]]=JSON['parse'](_0x3e39b4[_0x32f26e[_0x55aa7e(0x45a)]]);}catch{throw new Error(_0x55aa7e(0x5ba)+_0x32f26e[_0x55aa7e(0x45a)]+_0x55aa7e(0x4b1));}}const _0x1aed2c={};for(const _0x4a77a8 of _0xf4e8b0['headers']??[]){let _0x55910b=_0x4a77a8[_0x55aa7e(0x270)];_0x55910b[_0x55aa7e(0x395)](/\$[a-zA-Z0-9]+/)&&(_0x55910b=_0x55910b['replace'](/\$[a-zA-Z0-9]+/g,_0x37662e=>{const _0x50cbed=_0x55aa7e,_0x428ef3=_0x37662e[_0x50cbed(0x1ca)](0x1);return _0x3e39b4[_0x428ef3];})),_0x1aed2c[_0x4a77a8[_0x55aa7e(0x45a)]]=_0x55910b;}const _0x977fc9=new URLSearchParams();for(const _0x29bf1c of _0xf4e8b0[_0x55aa7e(0x7f7)]??[]){let _0x2155c3=_0x29bf1c[_0x55aa7e(0x270)];if('string'==typeof _0x2155c3&&_0x2155c3[_0x55aa7e(0x54c)]('$')){const _0x178f7b=_0x2155c3['slice'](0x1);_0x2155c3=_0x3e39b4[_0x178f7b];}if('string'==typeof _0x2155c3&&_0x2155c3['startsWith']('@context.')){const _0x5c57d9=_0x2155c3[_0x55aa7e(0x937)](_0x55aa7e(0x60b),'');if(_0x2155c3=_0x2ce518?.[_0x55aa7e(0x8bf)]?.[_0x5c57d9],_0x55aa7e(0x6e2)==typeof _0x2155c3&&_0x2155c3['startsWith']('{')&&_0x2155c3['endsWith']('}'))try{_0x2155c3=JSON[_0x55aa7e(0x85b)](_0x2155c3);}catch{}}'string'==typeof _0x2155c3&&_0x2155c3['startsWith']('[')&&_0x2155c3[_0x55aa7e(0x13d)](']')&&(_0x2155c3=JSON[_0x55aa7e(0x85b)](_0x2155c3)),_0x977fc9[_0x55aa7e(0x8aa)](_0x29bf1c[_0x55aa7e(0x45a)],_0x2155c3);}let _0x4ab351,_0x2a2cd1=_0xf4e8b0['endpointUrl']??'';_0x977fc9[_0x55aa7e(0xaf1)]>0x0&&(_0x2a2cd1+='?'+_0x977fc9[_0x55aa7e(0x7bb)]());for(const _0x3f1dfb of _0xf4e8b0['bodyParameters']??[]){void 0x0===_0x4ab351&&(_0x4ab351={});let _0x2e9e1e=_0x3f1dfb[_0x55aa7e(0x270)];if('string'==typeof _0x2e9e1e&&_0x2e9e1e['startsWith']('$')){const _0x1281a1=_0x2e9e1e['slice'](0x1);_0x2e9e1e=_0x3e39b4[_0x1281a1];}if(_0x55aa7e(0x6e2)==typeof _0x2e9e1e&&_0x2e9e1e[_0x55aa7e(0x54c)]('@context.')){const _0x157140=_0x2e9e1e[_0x55aa7e(0x937)](_0x55aa7e(0x60b),'');if(_0x2e9e1e=_0x2ce518?.[_0x55aa7e(0x8bf)]?.[_0x157140],_0x55aa7e(0x6e2)==typeof _0x2e9e1e&&_0x2e9e1e[_0x55aa7e(0x54c)]('{')&&_0x2e9e1e['endsWith']('}'))try{_0x2e9e1e=JSON[_0x55aa7e(0x85b)](_0x2e9e1e);}catch{}}if(_0x55aa7e(0x6e2)==typeof _0x2e9e1e&&_0x2e9e1e[_0x55aa7e(0x54c)]('[')&&_0x2e9e1e['endsWith'](']')&&(_0x2e9e1e=JSON['parse'](_0x2e9e1e)),_0x55aa7e(0x481)===_0x3f1dfb['name']){const _0x1a9c60=_0x2e9e1e[_0x55aa7e(0x395)](/```html(.*)```/s);_0x1a9c60&&(_0x2e9e1e=_0x1a9c60[0x1]),_0x2e9e1e=_0x2e9e1e[_0x55aa7e(0x937)](/\n/g,''),_0x2e9e1e=_0x2e9e1e[_0x55aa7e(0x937)](/'/g,'\x22'),_0x4ab351=_0x2e9e1e;break;}if(-0x1===_0x3f1dfb[_0x55aa7e(0x45a)]['indexOf']('.'))_0x4ab351[_0x3f1dfb[_0x55aa7e(0x45a)]]=_0x2e9e1e;else{const [_0x4a3e42,_0x3a7f8b]=_0x3f1dfb[_0x55aa7e(0x45a)][_0x55aa7e(0x8ed)]('.');_0x4ab351[_0x4a3e42]||(_0x4ab351[_0x4a3e42]={}),_0x4ab351[_0x4a3e42][_0x3a7f8b]=_0x2e9e1e;}}console[_0x55aa7e(0x2d3)](_0x55aa7e(0xaec)+_0xf4e8b0[_0x55aa7e(0x45a)]+_0x55aa7e(0x842)+JSON[_0x55aa7e(0x2ed)](_0x4ab351));const _0xc95496=await fetch(_0x2a2cd1,{'method':_0xf4e8b0['endpointMethod'],'headers':_0x1aed2c,'body':void 0x0===_0x4ab351?void 0x0:_0x55aa7e(0x6e2)==typeof _0x4ab351?_0x4ab351:JSON[_0x55aa7e(0x2ed)](_0x4ab351)});if(_0xc95496['ok']){let _0x345eb5=await _0xc95496[_0x55aa7e(0x751)]();return _0x55aa7e(0x6e2)!=typeof _0x345eb5&&(_0x345eb5=JSON[_0x55aa7e(0x2ed)](_0x345eb5)),_0x4159ca&&_0x4988e3&&_0x243f80&&await _0x3f0782[_0x55aa7e(0x981)]({'jobType':_0x4ec7f8[_0x55aa7e(0x2e6)],'type':_0x5cfdda['ExecuteCustomSkill'],'jobId':_0x4159ca,'agentId':_0x4988e3,'threadId':_0x243f80,'blockId':_0x55aa7e(0x2d5),'traceLevel':_0x1388f3[_0x55aa7e(0x336)],'startTime':_0x275f4f,'timestamp':Date[_0x55aa7e(0x744)](),'status':'success','skillName':_0xf4e8b0[_0x55aa7e(0x45a)],'params':_0x3e39b4,'result':_0x345eb5}),_0x2ce518&&_0xf4e8b0[_0x55aa7e(0x706)]&&''!==_0xf4e8b0[_0x55aa7e(0x706)]&&(_0x2ce518[_0x55aa7e(0x8bf)]||(_0x2ce518[_0x55aa7e(0x8bf)]={}),_0x2ce518['internalContext'][_0xf4e8b0[_0x55aa7e(0x706)]]=_0x345eb5),_0x345eb5;}throw new Error(_0xc95496[_0x55aa7e(0x9a4)]);}catch(_0x3b995d){console['error'](_0x3b995d);const _0x409b96=_0x3b995d instanceof Error?_0x3b995d[_0x55aa7e(0x421)]:_0x55aa7e(0x752);return _0x4159ca&&_0x4988e3&&_0x243f80&&await _0x3f0782[_0x55aa7e(0x981)]({'jobType':_0x4ec7f8[_0x55aa7e(0x2e6)],'type':_0x5cfdda[_0x55aa7e(0x1e3)],'jobId':_0x4159ca,'blockId':_0x55aa7e(0x2d5),'threadId':_0x243f80,'traceLevel':_0x1388f3['Info'],'startTime':_0x275f4f,'timestamp':Date[_0x55aa7e(0x744)](),'agentId':_0x4988e3,'status':_0x55aa7e(0x5fb),'skillName':_0xf4e8b0[_0x55aa7e(0x45a)],'params':_0x3e39b4??{},'result':_0x409b96}),_0x409b96;}}async function _0x1610d4(_0x38a053,_0x2898c1,_0x4ea278,_0x4c221c=!0x0){const _0x327850=_0x5a8b1c,_0x3499dd='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x4bed31={'url':{'type':_0x52baed[_0x327850(0xa52)][_0x327850(0x13e)]},'page':{'type':_0x52baed[_0x327850(0xa52)][_0x327850(0x51e)]}};return await _0x3f0782[_0x327850(0x981)]({'jobType':_0x4ec7f8['JobContext'],'type':_0x529612['LoadSkillFunction'],'jobId':_0x38a053,'agentId':_0x2898c1,'threadId':_0x4ea278,'traceLevel':_0x1388f3[_0x327850(0x336)],'startTime':Date[_0x327850(0x744)](),'timestamp':Date['now'](),'status':_0x327850(0x4cf),'function':_0x5cfdda[_0x327850(0x18f)],'params':_0x4bed31,'functionDescription':_0x3499dd}),{'description':_0x3499dd,'params':_0x4bed31,'callback':async _0x64c9cd=>_0x5bd1f8(_0x64c9cd,_0x4c221c,_0x38a053,_0x2898c1,_0x4ea278)};}async function _0x5bd1f8(_0x3db463,_0x3494ad=!0x0,_0x149e41,_0x10a8ae,_0x514403){const _0x37e43a=_0x5a8b1c,_0xeb46c9=Date[_0x37e43a(0x744)]();try{if(_0x37e43a(0x6e2)!=typeof _0x3db463?.['url'])throw new Error(_0x37e43a(0xa49));const _0x5bf9e9=_0x3db463[_0x37e43a(0x9cf)];if([_0x37e43a(0x197),_0x37e43a(0x7b7),'.docx',_0x37e43a(0x1f6),'.pptx',_0x37e43a(0x924),_0x37e43a(0x7be)][_0x37e43a(0x707)](_0x262e70=>_0x5bf9e9['endsWith'](_0x262e70)))throw new Error('Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file');const _0x2494de=await fetch(_0x5bf9e9),_0x4c6754=await _0x2494de[_0x37e43a(0x2fc)]();let _0x42af62=_0x4c6754;if(_0x3494ad){const _0x17dc78=_0x4c6754[_0x37e43a(0x395)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x340a94=_0x17dc78?_0x17dc78[0x1]:_0x4c6754,_0x3bc2b7=_0x340a94[_0x37e43a(0x937)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x37e43a(0x937)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x37e43a(0x937)](/<br\s*\/?>/gi,'\x20')[_0x37e43a(0x937)](/&nbsp;/g,'\x20');_0x42af62=_0x3bc2b7[_0x37e43a(0x937)](/<\/?[^>]+(>|$)/g,'')[_0x37e43a(0x937)](/\s\s+/g,'\x20')[_0x37e43a(0x265)]();}const _0x6e7f32=_0x37e43a(0x23e)==typeof _0x3db463[_0x37e43a(0xa6b)]?_0x3db463[_0x37e43a(0xa6b)]:0x1,_0x38544c=Math['ceil'](_0x42af62[_0x37e43a(0xa39)]/_0x5bffa0);return _0x42af62[_0x37e43a(0xa39)]>_0x5bffa0&&(_0x42af62=_0x42af62[_0x37e43a(0x715)]((_0x6e7f32-0x1)*_0x5bffa0,(_0x6e7f32-0x1)*_0x5bffa0+_0x5bffa0)+_0x37e43a(0x53a)+(_0x6e7f32+0x1)+'.Total\x20pages\x20available:\x20'+_0x38544c+'.'),_0x149e41&&_0x10a8ae&&_0x514403&&await _0x3f0782[_0x37e43a(0x981)]({'jobType':_0x4ec7f8['Skill'],'type':_0x5cfdda[_0x37e43a(0x18f)],'jobId':_0x149e41,'agentId':_0x10a8ae,'threadId':_0x514403,'blockId':_0x37e43a(0x7c2),'traceLevel':_0x1388f3[_0x37e43a(0x336)],'startTime':_0xeb46c9,'timestamp':Date[_0x37e43a(0x744)](),'status':_0x2494de['ok']?'success':_0x37e43a(0x5fb),'url':_0x3db463['url'],'page':_0x6e7f32,'totalPages':_0x38544c,'response':_0x42af62}),_0x42af62;}catch(_0x254d2d){console[_0x37e43a(0x5fb)](_0x254d2d);const _0x2d9d57=_0x254d2d instanceof Error?_0x254d2d[_0x37e43a(0x421)]:_0x37e43a(0x752);return _0x149e41&&_0x10a8ae&&_0x514403&&await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x37e43a(0x2e6)],'type':_0x5cfdda[_0x37e43a(0x18f)],'jobId':_0x149e41,'blockId':'fetch-url','threadId':_0x514403,'traceLevel':_0x1388f3['Info'],'startTime':_0xeb46c9,'timestamp':Date[_0x37e43a(0x744)](),'agentId':_0x10a8ae,'status':_0x37e43a(0x5fb),'errorDetails':_0x425981(_0x254d2d),'url':_0x3db463?.[_0x37e43a(0x9cf)]??'','page':0x0,'totalPages':0x0,'response':_0x2d9d57}),_0x2d9d57;}}async function _0x369be6(_0x5e5ddf,_0x43c051,_0x5e4fc6,_0x45e256,_0x3a5fb1){const _0x1b4d3c=_0x5a8b1c,_0x1b419d=Date[_0x1b4d3c(0x744)]();try{if(!_0x5e5ddf[_0x1b4d3c(0x5ed)])throw new Error(_0x1b4d3c(0x251));if(_0x1b4d3c(0x6e2)!=typeof _0x43c051?.[_0x1b4d3c(0x337)])throw new Error('Query\x20is\x20required');const _0x1ea21d=await _0x5e5ddf[_0x1b4d3c(0x5ed)][_0x1b4d3c(0x280)](_0x43c051[_0x1b4d3c(0x337)],_0x12ca2b[_0x1b4d3c(0xb3a)][_0x1b4d3c(0x5e8)]);let _0x467f27='';for(const _0x3ae85d of _0x1ea21d)_0x467f27+=_0x3ae85d[_0x1b4d3c(0xa24)]+_0x1b4d3c(0xade)+_0x3ae85d['url']+'\x0a'+_0x3ae85d[_0x1b4d3c(0x183)]+'\x0a\x0a';return _0x5e4fc6&&_0x45e256&&_0x3a5fb1&&await _0x3f0782[_0x1b4d3c(0x981)]({'jobType':_0x4ec7f8[_0x1b4d3c(0x2e6)],'type':_0x5cfdda['SearchGoogle'],'jobId':_0x5e4fc6,'agentId':_0x45e256,'threadId':_0x3a5fb1,'blockId':'search','traceLevel':_0x1388f3[_0x1b4d3c(0x336)],'startTime':_0x1b419d,'timestamp':Date[_0x1b4d3c(0x744)](),'status':_0x1b4d3c(0x4cf),'query':_0x43c051['query'],'results':_0x467f27}),_0x467f27;}catch(_0x4cea14){return console[_0x1b4d3c(0x5fb)](_0x4cea14),_0x5e4fc6&&_0x45e256&&_0x3a5fb1&&await _0x3f0782[_0x1b4d3c(0x981)]({'jobType':_0x4ec7f8['Skill'],'type':_0x5cfdda[_0x1b4d3c(0x195)],'jobId':_0x5e4fc6,'blockId':_0x1b4d3c(0x280),'traceLevel':_0x1388f3['Info'],'startTime':_0x1b419d,'timestamp':Date[_0x1b4d3c(0x744)](),'status':_0x1b4d3c(0x5fb),'errorDetails':_0x425981(_0x4cea14),'agentId':_0x45e256,'threadId':_0x3a5fb1,'query':_0x43c051?.[_0x1b4d3c(0x337)]??'','results':_0x1b4d3c(0x5f1)}),_0x4cea14 instanceof Error?_0x4cea14[_0x1b4d3c(0x421)]:_0x1b4d3c(0x5f1);}}async function _0x5dd08e(_0x4b3d5a,_0x48fc86,_0x1b7147,_0x261f1e,_0x4b7e67,_0x166611){const _0x54fe61=_0x5a8b1c,_0x56e4a3=_0x54fe61(0x2dd)+_0x4b7e67[_0x54fe61(0x94a)]+'\x20to\x20generate\x20a\x20response.',_0x36b5f0={'prompt':{'type':_0x52baed['PromptFunctionParamsType']['String']}};return await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x54fe61(0x760)],'type':_0x529612[_0x54fe61(0x8ee)],'jobId':_0x4b3d5a,'agentId':_0x48fc86,'threadId':_0x1b7147[_0x54fe61(0xb36)],'traceLevel':_0x1388f3[_0x54fe61(0x336)],'startTime':Date['now'](),'timestamp':Date[_0x54fe61(0x744)](),'status':_0x54fe61(0x4cf),'function':_0x5cfdda['ExecuteWorkflow'],'params':_0x36b5f0,'functionDescription':_0x56e4a3}),{'description':_0x56e4a3,'params':_0x36b5f0,'callback':async _0x30cdb9=>_0x257233(_0x1b7147['vendorId'],_0x4b7e67,_0x30cdb9,_0x261f1e,_0x4b3d5a,_0x48fc86,_0x1b7147[_0x54fe61(0xb36)],_0x166611)};}async function _0x257233(_0x3d11da,_0x177936,_0x45d10f,_0x3ec1f9,_0x19b064,_0x55ba0b,_0x1c4a61,_0x4ee020){const _0x51433c=_0x5a8b1c,_0x3ee553=Date[_0x51433c(0x744)]();try{if(_0x51433c(0x6e2)!=typeof _0x45d10f?.[_0x51433c(0x7ed)])throw new Error(_0x51433c(0x48a));let _0x2c60ed='';const _0x466278=_0x177936[_0x51433c(0x8b0)]?.[_0x51433c(0x8ed)](',')??[];let _0x6c1967=_0x45d10f[_0x51433c(0x7ed)];for(const _0x5e2444 of _0x466278){const _0x298358=_0x3ec1f9?.['internalContext']?.[_0x5e2444];_0x298358&&(_0x6c1967='<'+_0x5e2444+'>\x0a'+_0x298358+_0x51433c(0x5c5)+_0x5e2444+'>\x0a\x0a'+_0x6c1967);}let _0x102fcd=[{'role':'user','content':_0x6c1967}];if(_0x4ee020&&_0x177936[_0x51433c(0x959)]){const _0x3b02d0=await fetch(_0x12ca2b[_0x51433c(0x306)]+_0x51433c(0x2a3)+_0x177936[_0x51433c(0x526)]+_0x51433c(0x19b),{'method':'POST','headers':{'Accept':_0x51433c(0xa7c),'Content-Type':_0x51433c(0x9b0),'x-vendor-id':_0x3d11da},'body':JSON[_0x51433c(0x2ed)]({'model':_0x177936[_0x51433c(0x611)],'messages':_0x102fcd,'max_completion_tokens':_0x177936['maxTokens'],'temperature':_0x177936[_0x51433c(0x911)],'tools':_0x177936[_0x51433c(0x7ad)],'structured_output':_0x177936[_0x51433c(0x871)],'metadata':{'threadId':_0x1c4a61,'jobId':_0x19b064,'agentId':_0x55ba0b,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x3b02d0['ok']||!_0x3b02d0[_0x51433c(0x91a)])throw new Error('ReadableStream\x20is\x20not\x20supported');const _0x3004f9=_0x3b02d0[_0x51433c(0x91a)]['getReader'](),_0x3d9dc5=new TextDecoder();let _0xc2d9cb=0x0,_0x529097=0x0,_0xfb6e45='';for(;;){const {value:_0x2b0413,done:_0x1979dd}=await _0x3004f9[_0x51433c(0x4b4)]();if(_0x1979dd)break;const _0x5c6847=_0x3d9dc5[_0x51433c(0x39f)](_0x2b0413,{'stream':!0x0});if(_0x51433c(0x21f)===_0x5c6847)break;const _0x5b199b=_0x2c91bc(_0x5c6847);for(const _0x42a88d of _0x5b199b)_0x42a88d[_0x51433c(0x8b7)]&&_0x42a88d[_0x51433c(0x8b7)][0x0]&&(_0xfb6e45+=_0x42a88d[_0x51433c(0x8b7)][0x0][_0x51433c(0xab4)][_0x51433c(0x2fa)],_0xc2d9cb+=_0x42a88d[_0x51433c(0x1be)]?.[_0x51433c(0x226)]??0x0,_0x529097+=_0x42a88d['usage']?.[_0x51433c(0x463)]??0x0,_0x3ec1f9&&(_0x3ec1f9[_0x51433c(0x8bf)]={..._0x3ec1f9[_0x51433c(0x8bf)],..._0x42a88d[_0x51433c(0x826)]}),_0x4ee020[_0x51433c(0x929)]({'output':_0x42a88d[_0x51433c(0x8b7)][0x0][_0x51433c(0xab4)][_0x51433c(0x2fa)],'type':_0x51433c(0x7ed)}),await _0x3d74ea[_0x51433c(0x47e)](0x1));}_0x3ec1f9&&(_0x3ec1f9[_0x51433c(0x940)]=(_0x3ec1f9[_0x51433c(0x940)]??0x0)+_0x529097,_0x3ec1f9[_0x51433c(0x243)]=(_0x3ec1f9['inputTokens']??0x0)+_0xc2d9cb,_0x177936[_0x51433c(0x706)]&&(_0x3ec1f9['internalContext']||(_0x3ec1f9[_0x51433c(0x8bf)]={}),_0x3ec1f9[_0x51433c(0x8bf)][_0x177936[_0x51433c(0x706)]]=_0xfb6e45)),_0x4ee020[_0x51433c(0x929)]({'output':'\x0a\x0a','type':_0x51433c(0x7ed)}),await _0x3d74ea[_0x51433c(0x47e)](0x1),_0x2c60ed=_0x51433c(0x27d);}else{const _0x1d8382=fetch(_0x12ca2b['apiUrl']+_0x51433c(0x2a3)+_0x177936[_0x51433c(0x526)]+_0x51433c(0x19b),{'method':_0x51433c(0x8f2),'headers':{'Content-Type':_0x51433c(0x9b0),'x-vendor-id':_0x3d11da},'body':JSON[_0x51433c(0x2ed)]({'model':_0x177936[_0x51433c(0x611)],'messages':_0x102fcd,'max_completion_tokens':_0x177936[_0x51433c(0x510)],'temperature':_0x177936[_0x51433c(0x911)],'tools':_0x177936['tools'],'structured_output':_0x177936['grammar'],'metadata':{'threadId':_0x1c4a61,'jobId':_0x19b064,'agentId':_0x55ba0b,'context':{}}})});if(_0x177936[_0x51433c(0x3ba)])return _0x51433c(0x27d);const _0x50bab5=await _0x1d8382,_0x236436=await _0x50bab5[_0x51433c(0x751)]();_0x2c60ed=_0x236436[_0x51433c(0x8b7)][0x0][_0x51433c(0x421)][_0x51433c(0x2fa)],_0x3ec1f9&&(_0x3ec1f9[_0x51433c(0x8bf)]={..._0x3ec1f9['internalContext'],..._0x236436[_0x51433c(0x826)]},_0x3ec1f9['outputTokens']=(_0x3ec1f9[_0x51433c(0x940)]??0x0)+_0x236436[_0x51433c(0x1be)][_0x51433c(0x309)],_0x3ec1f9[_0x51433c(0x243)]=(_0x3ec1f9['inputTokens']??0x0)+_0x236436[_0x51433c(0x1be)][_0x51433c(0x6ac)],_0x177936[_0x51433c(0x706)]&&(_0x3ec1f9[_0x51433c(0x8bf)]||(_0x3ec1f9[_0x51433c(0x8bf)]={}),_0x3ec1f9[_0x51433c(0x8bf)][_0x177936[_0x51433c(0x706)]]=_0x2c60ed));}if('string'!=typeof _0x2c60ed)throw new Error(_0x51433c(0x21c));return _0x19b064&&_0x55ba0b&&_0x1c4a61&&await _0x3f0782[_0x51433c(0x981)]({'jobType':_0x4ec7f8[_0x51433c(0x2e6)],'type':_0x5cfdda['ExecuteWorkflow'],'jobId':_0x19b064,'blockId':_0x51433c(0x38d),'agentId':_0x55ba0b,'threadId':_0x1c4a61,'traceLevel':_0x1388f3['Info'],'startTime':_0x3ee553,'timestamp':Date['now'](),'status':'success','workflowName':_0x177936[_0x51433c(0x45a)],'prompt':_0x45d10f['prompt'],'result':_0x2c60ed,'inputTokens':0x0,'outputTokens':0x0}),_0x2c60ed;}catch(_0x365093){if(console[_0x51433c(0x5fb)](_0x365093),_0x19b064&&_0x55ba0b&&_0x1c4a61&&await _0x3f0782[_0x51433c(0x981)]({'jobType':_0x4ec7f8[_0x51433c(0x2e6)],'type':_0x5cfdda[_0x51433c(0x6cc)],'jobId':_0x19b064,'blockId':_0x51433c(0x38d),'agentId':_0x55ba0b,'threadId':_0x1c4a61,'traceLevel':_0x1388f3['Info'],'startTime':_0x3ee553,'timestamp':Date['now'](),'status':_0x51433c(0x5fb),'errorDetails':_0x425981(_0x365093),'workflowName':_0x177936[_0x51433c(0x45a)],'prompt':_0x45d10f?.[_0x51433c(0x7ed)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x365093 instanceof Error)throw _0x365093;throw new Error(_0x51433c(0x6ad));}}async function _0x2b6604(_0x4f255b,_0x453883,_0xd1104a,_0x42d641,_0x2fca4f){const _0x353f5a=_0x5a8b1c;return await _0x3f0782[_0x353f5a(0x981)]({'jobType':_0x4ec7f8[_0x353f5a(0x760)],'type':_0x529612[_0x353f5a(0x8ee)],'jobId':_0x4f255b,'agentId':_0x453883,'threadId':_0xd1104a,'traceLevel':_0x1388f3[_0x353f5a(0x336)],'startTime':Date[_0x353f5a(0x744)](),'timestamp':Date[_0x353f5a(0x744)](),'status':'success','function':_0x5cfdda[_0x353f5a(0x7a4)],'params':{},'functionDescription':'Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.'}),{'description':_0x353f5a(0x2c1),'params':{},'callback':async()=>_0x32483b(_0x2fca4f,_0x42d641,_0x4f255b,_0x453883,_0xd1104a)};}async function _0x32483b(_0x65bbd9,_0x2cf271,_0x1820cc,_0x19a629,_0x583a1b){const _0x2835f5=_0x5a8b1c,_0x3e662f=Date[_0x2835f5(0x744)]();let _0x4a8f86=_0x65bbd9[_0x2835f5(0x45a)][_0x2835f5(0x937)](/[^a-zA-Z]/g,'');_0x4a8f86[_0x2835f5(0x54c)](_0x2835f5(0x1a4))&&(_0x4a8f86=_0x4a8f86[_0x2835f5(0x937)](_0x2835f5(0x1a4),''));const _0x5118db=_0x2835f5(0x229)+_0x4a8f86;let _0x552675=0x0;_0x2cf271&&(_0x552675=parseInt(_0x2cf271[_0x2835f5(0x8bf)]?.[_0x5118db]??'0'));const _0x52ef4d=_0x65bbd9[_0x2835f5(0x93a)]||[];if(_0x552675>=_0x52ef4d[_0x2835f5(0xa39)])return JSON[_0x2835f5(0x2ed)]({'error':_0x2835f5(0x54e)});const _0x132b7b=_0x52ef4d[_0x552675];return _0x1820cc&&_0x19a629&&_0x583a1b&&await _0x3f0782[_0x2835f5(0x981)]({'jobType':_0x4ec7f8['Skill'],'type':_0x5cfdda[_0x2835f5(0x7a4)],'jobId':_0x1820cc,'agentId':_0x19a629,'threadId':_0x583a1b,'blockId':_0x2835f5(0x551),'traceLevel':_0x1388f3[_0x2835f5(0x336)],'startTime':_0x3e662f,'timestamp':Date[_0x2835f5(0x744)](),'status':_0x2835f5(0x4cf),'question':_0x132b7b[_0x2835f5(0xa78)],'currentQuestionIndex':_0x552675,'questions':_0x52ef4d[_0x2835f5(0x3d5)](_0x2b252f=>_0x2b252f[_0x2835f5(0xa78)])}),JSON[_0x2835f5(0x2ed)]({'id':_0x132b7b['id'],'question':_0x132b7b[_0x2835f5(0xa78)],'validation':_0x132b7b[_0x2835f5(0xa6d)],'required':_0x132b7b[_0x2835f5(0xa8b)],'format':_0x132b7b['format'],'action':_0x2835f5(0x830)});}async function _0x476e07(_0x48c84e,_0x427b40,_0x109797,_0x3768d9,_0x49f497){const _0x5ebc6f=_0x5a8b1c;return await _0x3f0782[_0x5ebc6f(0x981)]({'jobType':_0x4ec7f8['JobContext'],'type':_0x529612[_0x5ebc6f(0x8ee)],'jobId':_0x48c84e,'agentId':_0x427b40,'threadId':_0x109797,'traceLevel':_0x1388f3[_0x5ebc6f(0x336)],'startTime':Date[_0x5ebc6f(0x744)](),'timestamp':Date[_0x5ebc6f(0x744)](),'status':_0x5ebc6f(0x4cf),'function':_0x5cfdda[_0x5ebc6f(0x773)],'params':{},'functionDescription':'Set\x20the\x20answer\x20to\x20the\x20current\x20question.'}),{'description':_0x5ebc6f(0x2db),'params':{'id':{'type':_0x52baed[_0x5ebc6f(0xa52)][_0x5ebc6f(0x13e)]},'answer':{'type':_0x52baed[_0x5ebc6f(0xa52)][_0x5ebc6f(0x13e)]}},'callback':async _0x587369=>_0x415a34(_0x49f497,_0x587369,_0x3768d9,_0x48c84e,_0x427b40,_0x109797)};}async function _0x415a34(_0x2e3821,_0x1b0c25,_0x250a78,_0x3c17e7,_0x2309e8,_0x2cb4d4){const _0x13199f=_0x5a8b1c,_0x32c036=Date[_0x13199f(0x744)]();let _0x344e4c=_0x2e3821[_0x13199f(0x45a)]['replace'](/[^a-zA-Z]/g,'');_0x344e4c['startsWith'](_0x13199f(0x173))&&(_0x344e4c=_0x344e4c['replace'](_0x13199f(0x173),''));const _0x301a3b=_0x13199f(0x229)+_0x344e4c,_0x354d60=_0x2e3821[_0x13199f(0x93a)]||[];let _0x3aa1a7=0x0;if(_0x250a78&&(_0x3aa1a7=parseInt(_0x250a78['internalContext']?.[_0x301a3b]??'0')),!_0x1b0c25?.['id']||'string'!=typeof _0x1b0c25['id'])return JSON[_0x13199f(0x2ed)]({'error':'Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id'});const _0x3c77f8=_0x354d60[_0x13199f(0x5dd)](_0x3e95e0=>_0x3e95e0['id']===_0x1b0c25['id']);if(!_0x3c77f8)return JSON[_0x13199f(0x2ed)]({'error':_0x13199f(0x821)});if(!_0x1b0c25?.['answer']||_0x13199f(0x6e2)!=typeof _0x1b0c25['answer'])return JSON[_0x13199f(0x2ed)]({'error':_0x13199f(0x422)});if(_0x250a78){_0x250a78[_0x13199f(0x8bf)]||(_0x250a78[_0x13199f(0x8bf)]={});const _0x57f048=_0x13199f(0x79f)+_0x344e4c,_0xb132ac=_0x57f048+'-'+_0x1b0c25['id'];_0x250a78[_0x13199f(0x8bf)][_0xb132ac]=_0x1b0c25[_0x13199f(0x997)];let _0x41d173=!0x1;for(let _0x39a198=0x0;_0x39a198<_0x354d60['length'];_0x39a198++){const _0x3e31bc=_0x250a78[_0x13199f(0x8bf)]?.[_0x57f048+'-'+_0x354d60[_0x39a198]['id']];if(_0x39a198!==_0x3aa1a7&&!_0x3e31bc){_0x3aa1a7=_0x39a198,_0x41d173=!0x0;break;}}_0x41d173||_0x3aa1a7++,_0x250a78[_0x13199f(0x8bf)][_0x301a3b]=_0x3aa1a7[_0x13199f(0x7bb)]();}return _0x3c17e7&&_0x2309e8&&_0x2cb4d4&&await _0x3f0782[_0x13199f(0x981)]({'jobType':_0x4ec7f8['Skill'],'type':_0x5cfdda[_0x13199f(0x773)],'jobId':_0x3c17e7,'agentId':_0x2309e8,'threadId':_0x2cb4d4,'blockId':_0x13199f(0x8f3),'traceLevel':_0x1388f3[_0x13199f(0x336)],'startTime':_0x32c036,'timestamp':Date[_0x13199f(0x744)](),'status':'success','question':_0x3c77f8[_0x13199f(0xa78)],'answer':_0x1b0c25[_0x13199f(0x997)],'currentQuestionIndex':_0x3aa1a7,'questions':_0x354d60[_0x13199f(0x3d5)](_0x1b28a4=>_0x1b28a4[_0x13199f(0xa78)])}),JSON['stringify']({'success':'Call\x20getQuestion\x20to\x20get\x20the\x20next\x20question'});}async function _0x59b722(_0x53e176,_0x264eff,_0x578895,_0x4e22fd,_0x105c1a){const _0x55d6d8=_0x5a8b1c,_0x48e197='Submit\x20the\x20form.';return await _0x3f0782[_0x55d6d8(0x981)]({'jobType':_0x4ec7f8[_0x55d6d8(0x760)],'type':_0x529612['LoadSkillFunction'],'jobId':_0x53e176,'agentId':_0x264eff,'threadId':_0x578895,'traceLevel':_0x1388f3['Info'],'startTime':Date[_0x55d6d8(0x744)](),'timestamp':Date[_0x55d6d8(0x744)](),'status':_0x55d6d8(0x4cf),'function':_0x5cfdda[_0x55d6d8(0x82f)],'params':{},'functionDescription':_0x48e197}),{'description':_0x48e197,'params':{},'callback':async()=>_0x419e6e(_0x105c1a,_0x4e22fd,_0x53e176,_0x264eff,_0x578895)};}async function _0x419e6e(_0x44ccd0,_0x114e89,_0x1233ac,_0x315d8c,_0x173dee){const _0x2ed198=_0x5a8b1c;let _0x24bf3b=_0x44ccd0[_0x2ed198(0x45a)]['replace'](/[^a-zA-Z]/g,'');_0x24bf3b[_0x2ed198(0x54c)](_0x2ed198(0x33b))&&(_0x24bf3b=_0x24bf3b['replace']('submitForm',''));const _0xe85e88=_0x44ccd0['questions']||[],_0x3cff4d={};if(!_0x114e89)return JSON['stringify']({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});for(let _0x2e0837=0x0;_0x2e0837<_0xe85e88[_0x2ed198(0xa39)];_0x2e0837++){const _0x3075fe=_0x114e89[_0x2ed198(0x8bf)]?.['answer-'+_0x24bf3b+'-'+_0xe85e88[_0x2e0837]['id']];if(_0xe85e88[_0x2e0837][_0x2ed198(0xa8b)]&&!_0x3075fe)return JSON[_0x2ed198(0x2ed)]({'error':_0x2ed198(0x93f)});_0x3cff4d[_0xe85e88[_0x2e0837]['id']]=_0x3075fe;}return _0x114e89&&_0x44ccd0['contextOutputVariable']&&(_0x114e89[_0x2ed198(0x8bf)]||(_0x114e89[_0x2ed198(0x8bf)]={}),_0x114e89[_0x2ed198(0x8bf)][_0x44ccd0['contextOutputVariable']]=JSON[_0x2ed198(0x2ed)](_0x3cff4d)),_0x1233ac&&_0x315d8c&&_0x173dee&&await _0x3f0782[_0x2ed198(0x981)]({'jobType':_0x4ec7f8[_0x2ed198(0x2e6)],'type':_0x5cfdda['FormSubmitForm'],'jobId':_0x1233ac,'agentId':_0x315d8c,'threadId':_0x173dee,'blockId':_0x2ed198(0x5d6),'traceLevel':_0x1388f3[_0x2ed198(0x336)],'startTime':Date['now'](),'timestamp':Date[_0x2ed198(0x744)](),'status':_0x2ed198(0x4cf),'answers':_0x3cff4d}),JSON[_0x2ed198(0x2ed)]({'success':!0x0});}async function _0x433912(_0x2f87e2,_0x472902,_0x58241b,_0x5ce940,_0x479f97,_0x240e01,_0x47f169){const _0x3da8a9=_0x5a8b1c,_0x573cf3=new Map();for(const _0x5f3b4d of _0x479f97)_0x5f3b4d[_0x3da8a9(0x2a5)]===_0x52baed[_0x3da8a9(0x4fc)][_0x3da8a9(0x48d)]||_0x5f3b4d[_0x3da8a9(0x2a5)]===_0x52baed['GenerativeAIInferenceToolType']['DataCollection']?_0x573cf3[_0x3da8a9(0x984)](_0x3da8a9(0x239)+_0x5f3b4d[_0x3da8a9(0x45a)][_0x3da8a9(0x937)](/[^a-zA-Z]/g,''),await _0x35051e(_0x2f87e2,_0x472902,_0x58241b,_0x5ce940,_0x5f3b4d)):_0x5f3b4d[_0x3da8a9(0x2a5)]===_0x52baed[_0x3da8a9(0x4fc)]['AgentSkill']||_0x5f3b4d['type']===_0x52baed[_0x3da8a9(0x4fc)]['Agent']?_0x573cf3[_0x3da8a9(0x984)](_0x3da8a9(0x9f4)+_0x5f3b4d['name'][_0x3da8a9(0x937)](/[^a-zA-Z]/g,''),await _0x4d0f3a(_0x2f87e2,_0x472902,_0x58241b,_0x5ce940,_0x5f3b4d,_0x240e01,_0x47f169)):_0x5f3b4d[_0x3da8a9(0x2a5)]===_0x52baed[_0x3da8a9(0x4fc)][_0x3da8a9(0x48e)]?_0x573cf3[_0x3da8a9(0x984)]('executeWorkflow'+_0x5f3b4d[_0x3da8a9(0x45a)][_0x3da8a9(0x937)](/[^a-zA-Z]/g,''),await _0x5dd08e(_0x2f87e2,_0x472902,_0x58241b,_0x5ce940,_0x5f3b4d,_0x47f169)):_0x5f3b4d[_0x3da8a9(0x2a5)]===_0x52baed['GenerativeAIInferenceToolType'][_0x3da8a9(0x535)]?_0x573cf3[_0x3da8a9(0x984)](_0x5f3b4d[_0x3da8a9(0x45a)][_0x3da8a9(0x937)](/[^a-zA-Z]/g,''),await _0x3cf40c(_0x2f87e2,_0x472902,_0x58241b[_0x3da8a9(0xb36)],_0x5ce940,_0x5f3b4d)):_0x5f3b4d[_0x3da8a9(0x2a5)]===_0x52baed[_0x3da8a9(0x4fc)][_0x3da8a9(0x13c)]?_0x573cf3[_0x3da8a9(0x984)]('getQuestion'+_0x5f3b4d[_0x3da8a9(0x45a)][_0x3da8a9(0x937)](/[^a-zA-Z]/g,''),await _0x2b6604(_0x2f87e2,_0x472902,_0x58241b['threadId'],_0x5ce940,_0x5f3b4d)):_0x5f3b4d[_0x3da8a9(0x2a5)]===_0x52baed[_0x3da8a9(0x4fc)][_0x3da8a9(0x71d)]?_0x573cf3[_0x3da8a9(0x984)](_0x3da8a9(0x173)+_0x5f3b4d['name'][_0x3da8a9(0x937)](/[^a-zA-Z]/g,''),await _0x476e07(_0x2f87e2,_0x472902,_0x58241b[_0x3da8a9(0xb36)],_0x5ce940,_0x5f3b4d)):_0x5f3b4d[_0x3da8a9(0x2a5)]===_0x52baed[_0x3da8a9(0x4fc)][_0x3da8a9(0x18e)]?_0x573cf3['set'](_0x3da8a9(0x33b)+_0x5f3b4d[_0x3da8a9(0x45a)][_0x3da8a9(0x937)](/[^a-zA-Z]/g,''),await _0x59b722(_0x2f87e2,_0x472902,_0x58241b[_0x3da8a9(0xb36)],_0x5ce940,_0x5f3b4d)):_0x573cf3[_0x3da8a9(0x984)](_0x7e89b8(_0x5f3b4d),await _0x32cee3(_0x2f87e2,_0x472902,_0x58241b,_0x5ce940,_0x5f3b4d,_0x240e01));return _0x573cf3;}function _0x7e89b8(_0x587fb2){const _0x5a13b4=_0x5a8b1c;switch(_0x587fb2[_0x5a13b4(0x2a5)]){case _0x52baed[_0x5a13b4(0x4fc)][_0x5a13b4(0x3e5)]:return _0x5a13b4(0x43e);case _0x52baed['GenerativeAIInferenceToolType'][_0x5a13b4(0x19d)]:return _0x5a13b4(0xa45);case _0x52baed[_0x5a13b4(0x4fc)][_0x5a13b4(0x268)]:return _0x5a13b4(0x260);case _0x52baed[_0x5a13b4(0x4fc)][_0x5a13b4(0x1eb)]:return _0x5a13b4(0x5c0);case _0x52baed['GenerativeAIInferenceToolType'][_0x5a13b4(0x185)]:case _0x52baed[_0x5a13b4(0x4fc)]['WebScraperRaw']:return _0x5a13b4(0x912);case _0x52baed[_0x5a13b4(0x4fc)][_0x5a13b4(0x6c0)]:return _0x5a13b4(0x390);}throw new Error(_0x5a13b4(0x513));}async function _0x32cee3(_0x5da222,_0x597c4e,_0x113015,_0x1dc817,_0x26fbe5,_0x40b1e8){const _0x4fbba0=_0x5a8b1c;switch(_0x26fbe5[_0x4fbba0(0x2a5)]){case _0x52baed[_0x4fbba0(0x4fc)][_0x4fbba0(0x3e5)]:return async function(_0x5bcafb,_0x27962f,_0xe3007c,_0x52e6ea,_0x591519){const _0x4deaf8=_0x4fbba0,_0x9cb0c3=_0x4deaf8(0xae9),_0xe47073={'query':{'type':_0x52baed[_0x4deaf8(0xa52)][_0x4deaf8(0x13e)]}};await _0x3f0782[_0x4deaf8(0x981)]({'jobType':_0x4ec7f8[_0x4deaf8(0x760)],'type':_0x529612[_0x4deaf8(0x8ee)],'jobId':_0x5bcafb,'agentId':_0x27962f,'threadId':_0xe3007c[_0x4deaf8(0xb36)],'traceLevel':_0x1388f3['Info'],'startTime':Date[_0x4deaf8(0x744)](),'timestamp':Date[_0x4deaf8(0x744)](),'status':_0x4deaf8(0x4cf),'function':_0x5cfdda[_0x4deaf8(0x21d)],'params':_0xe47073,'functionDescription':_0x9cb0c3});const _0x47aae3=_0xe3007c[_0x4deaf8(0x26a)],_0x3ba35e=(await(0x0,_0x594922['getDoc'])((0x0,_0x594922[_0x4deaf8(0x941)])(_0x1b7d72[_0x4deaf8(0x184)](),'developers',_0x47aae3)))[_0x4deaf8(0x349)]();return _0x3ba35e&&_0x3ba35e[_0x4deaf8(0xaf2)]||(console[_0x4deaf8(0x2d3)](new Date()+'\x20Fallback\x20model',_0x52e6ea[_0x4deaf8(0x611)],_0x3075e1[_0x4deaf8(0x8a4)](_0x52e6ea[_0x4deaf8(0x611)])[_0x4deaf8(0x5eb)]),_0x52e6ea[_0x4deaf8(0x611)]=_0x3075e1[_0x4deaf8(0x8a4)](_0x52e6ea[_0x4deaf8(0x611)])[_0x4deaf8(0x5eb)]),{'description':_0x9cb0c3,'params':_0xe47073,'callback':async _0x392264=>_0x348958(_0x52e6ea,_0x591519,_0x392264,_0x5bcafb,_0x27962f,_0xe3007c['threadId'])};}(_0x5da222,_0x597c4e,_0x113015,_0x26fbe5,_0x40b1e8);case _0x52baed[_0x4fbba0(0x4fc)][_0x4fbba0(0x19d)]:return async function(_0x1cdbd9,_0xc4adb1,_0x41d6d6){const _0x30a0ad=_0x4fbba0,_0x107a8e='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x1f3fcf={'code':{'type':_0x52baed[_0x30a0ad(0xa52)][_0x30a0ad(0x13e)]}};return await _0x3f0782[_0x30a0ad(0x981)]({'jobType':_0x4ec7f8[_0x30a0ad(0x760)],'type':_0x529612[_0x30a0ad(0x8ee)],'jobId':_0x1cdbd9,'agentId':_0xc4adb1,'threadId':_0x41d6d6,'traceLevel':_0x1388f3['Info'],'startTime':Date['now'](),'timestamp':Date[_0x30a0ad(0x744)](),'status':_0x30a0ad(0x4cf),'function':_0x5cfdda[_0x30a0ad(0x1c4)],'params':_0x1f3fcf,'functionDescription':_0x107a8e}),{'description':_0x107a8e,'params':_0x1f3fcf,'callback':async _0x24320a=>_0xa06424(_0x24320a,_0x1cdbd9,_0xc4adb1,_0x41d6d6)};}(_0x5da222,_0x597c4e,_0x113015[_0x4fbba0(0xb36)]);case _0x52baed['GenerativeAIInferenceToolType'][_0x4fbba0(0x268)]:return async function(_0x3240b0,_0x455a4c,_0xec845b,_0x2afd0d,_0x1f083e){const _0x2de256=_0x4fbba0,_0x4f3a62=[',',';','\x09','|',':'],_0x58e16c=['\x22','\x27'];let _0xd4e9c3='';if(_0x2de256(0x424)===_0x2afd0d[_0x2de256(0x8bf)]?.[_0x2de256(0x925)]&&_0x2afd0d[_0x2de256(0x8bf)]?.['file.content']&&(_0xd4e9c3=_0x2afd0d['internalContext'][_0x2de256(0x304)]),''===_0xd4e9c3)throw new Error(_0x2de256(0x995));const _0xad43fc=_0xd4e9c3[_0x2de256(0x8ed)]('\x0a')[0x0];let _0x540b50=null,_0x3a1f53=null,_0x4c021d=0x0;for(const _0x2ae8ab of _0x4f3a62){const _0x876aa=(_0xad43fc['match'](new RegExp('\x5c'+_0x2ae8ab,'g'))||[])[_0x2de256(0xa39)];_0x876aa>_0x4c021d&&(_0x4c021d=_0x876aa,_0x540b50=_0x2ae8ab);}_0x540b50||(_0x540b50=','),_0x4c021d=0x0;for(const _0x4f69da of _0x58e16c){const _0x2eb955=(_0xad43fc[_0x2de256(0x395)](new RegExp('\x5c'+_0x4f69da,'g'))||[])['length'];_0x2eb955>_0x4c021d&&(_0x4c021d=_0x2eb955,_0x3a1f53=_0x4f69da);}_0x3a1f53||(_0x3a1f53='\x22');const _0x1bfb27=_0x2de256(0x7ae)+_0xad43fc[_0x2de256(0x8ed)](_0x540b50)[_0x2de256(0x59d)](',\x20'),_0x222c7f={'query':{'type':_0x52baed[_0x2de256(0xa52)][_0x2de256(0x13e)]}};return await _0x3f0782[_0x2de256(0x981)]({'jobType':_0x4ec7f8[_0x2de256(0x760)],'type':_0x529612[_0x2de256(0x8ee)],'jobId':_0x3240b0,'agentId':_0x455a4c,'threadId':_0xec845b,'traceLevel':_0x1388f3[_0x2de256(0x336)],'startTime':Date[_0x2de256(0x744)](),'timestamp':Date[_0x2de256(0x744)](),'status':_0x2de256(0x4cf),'function':_0x5cfdda['QueryFile'],'params':_0x222c7f,'functionDescription':_0x1bfb27}),{'description':_0x1bfb27,'params':_0x222c7f,'callback':async _0x20e10f=>{const _0x15eaf2=_0x2de256,_0x2ef20a=Date[_0x15eaf2(0x744)]();try{if(!_0x1f083e[_0x15eaf2(0x4e0)])throw new Error('Query\x20file\x20connector\x20not\x20set');if(_0x15eaf2(0x6e2)!=typeof _0x20e10f?.['query'])throw new Error(_0x15eaf2(0x3a2));if(!_0x20e10f[_0x15eaf2(0x337)][_0x15eaf2(0x595)](_0x15eaf2(0x8da)))throw new Error(_0x15eaf2(0x973));const _0xdc95be=await _0x1f083e['queryFileConnector']['executeQuery'](_0xd4e9c3,_0x20e10f['query'],{'headers':!0x0,'quote':_0x3a1f53,'separator':_0x540b50});await _0x3f0782[_0x15eaf2(0x981)]({'jobType':_0x4ec7f8[_0x15eaf2(0x2e6)],'type':_0x5cfdda[_0x15eaf2(0x268)],'jobId':_0x3240b0,'agentId':_0x455a4c,'threadId':_0xec845b,'blockId':_0x15eaf2(0x859),'traceLevel':_0x1388f3[_0x15eaf2(0x336)],'startTime':_0x2ef20a,'timestamp':Date[_0x15eaf2(0x744)](),'status':_0x15eaf2(0x4cf),'query':_0x20e10f[_0x15eaf2(0x337)],'results':_0xdc95be[_0x15eaf2(0x715)](0x0,0x3e8)});const _0x2c12f1=JSON[_0x15eaf2(0x85b)](_0xdc95be);let _0x486c06='';if(_0x2c12f1[_0x15eaf2(0xa39)]>0x0){const _0x27a773=Object['keys'](_0x2c12f1[0x0]);_0x486c06=_0x27a773['map'](_0x2d7df4=>'\x22'+_0x2d7df4+'\x22')[_0x15eaf2(0x59d)](',')+'\x0a';for(const _0x590b7a of _0x2c12f1)_0x486c06+=_0x27a773[_0x15eaf2(0x3d5)](_0x12251c=>'\x22'+_0x590b7a[_0x12251c]+'\x22')['join'](',')+'\x0a';}return _0x2afd0d[_0x15eaf2(0x8bf)]||(_0x2afd0d[_0x15eaf2(0x8bf)]={}),_0x2afd0d[_0x15eaf2(0x8bf)][_0x15eaf2(0x304)]=_0x486c06,_0x2afd0d[_0x15eaf2(0x8bf)][_0x15eaf2(0x925)]=_0x15eaf2(0x424),_0xdc95be[_0x15eaf2(0x715)](0x0,0x3e8);}catch(_0x1fa0a6){return console[_0x15eaf2(0x5fb)](_0x1fa0a6),await _0x3f0782[_0x15eaf2(0x981)]({'jobType':_0x4ec7f8[_0x15eaf2(0x2e6)],'type':_0x5cfdda['QueryFile'],'jobId':_0x3240b0,'blockId':_0x15eaf2(0x859),'traceLevel':_0x1388f3[_0x15eaf2(0x336)],'startTime':_0x2ef20a,'timestamp':Date['now'](),'status':_0x15eaf2(0x5fb),'errorDetails':_0x425981(_0x1fa0a6),'agentId':_0x455a4c,'threadId':_0xec845b,'query':_0x20e10f?.['query']??'','results':_0x15eaf2(0x5f1)}),_0x1fa0a6 instanceof Error?_0x1fa0a6[_0x15eaf2(0x421)]:_0x15eaf2(0x3eb);}}};}(_0x5da222,_0x597c4e,_0x113015[_0x4fbba0(0xb36)],_0x1dc817,_0x40b1e8);case _0x52baed[_0x4fbba0(0x4fc)][_0x4fbba0(0x1eb)]:return async function(_0x485fec,_0x3ff4fb,_0x413d50,_0x5cb58f){const _0x370e49=_0x4fbba0,_0x558f68=_0x370e49(0x28c),_0x38e1dd={'query':{'type':_0x52baed[_0x370e49(0xa52)][_0x370e49(0x13e)]}};return await _0x3f0782[_0x370e49(0x981)]({'jobType':_0x4ec7f8[_0x370e49(0x760)],'type':_0x529612['LoadSkillFunction'],'jobId':_0x485fec,'agentId':_0x3ff4fb,'threadId':_0x413d50,'traceLevel':_0x1388f3[_0x370e49(0x336)],'startTime':Date[_0x370e49(0x744)](),'timestamp':Date[_0x370e49(0x744)](),'status':'success','function':_0x5cfdda[_0x370e49(0x195)],'params':_0x38e1dd,'functionDescription':_0x558f68}),{'description':_0x558f68,'params':_0x38e1dd,'callback':async _0x31d111=>_0x369be6(_0x5cb58f,_0x31d111,_0x485fec,_0x3ff4fb,_0x413d50)};}(_0x5da222,_0x597c4e,_0x113015['threadId'],_0x40b1e8);case _0x52baed[_0x4fbba0(0x4fc)][_0x4fbba0(0x185)]:return _0x1610d4(_0x5da222,_0x597c4e,_0x113015[_0x4fbba0(0xb36)]);case _0x52baed[_0x4fbba0(0x4fc)][_0x4fbba0(0x938)]:return _0x1610d4(_0x5da222,_0x597c4e,_0x113015[_0x4fbba0(0xb36)],!0x1);case _0x52baed[_0x4fbba0(0x4fc)][_0x4fbba0(0x6c0)]:return async function(_0x9c1a78,_0x3d9056,_0xeafeb7,_0x24bd84){const _0x578ae2=_0x4fbba0,_0x58818b=_0x578ae2(0x512),_0x1b4fd9={'text':{'type':_0x52baed[_0x578ae2(0xa52)][_0x578ae2(0x13e)]}};return await _0x3f0782[_0x578ae2(0x981)]({'jobType':_0x4ec7f8[_0x578ae2(0x760)],'type':_0x529612['LoadSkillFunction'],'jobId':_0x9c1a78,'agentId':_0x3d9056,'threadId':_0xeafeb7,'traceLevel':_0x1388f3[_0x578ae2(0x336)],'startTime':Date[_0x578ae2(0x744)](),'timestamp':Date[_0x578ae2(0x744)](),'status':_0x578ae2(0x4cf),'function':_0x5cfdda['WriteFile'],'params':_0x1b4fd9,'functionDescription':_0x58818b}),{'description':_0x58818b,'params':_0x1b4fd9,'callback':async _0xa4ec3c=>{const _0x4e24ec=_0x578ae2,_0x51e0c6=Date[_0x4e24ec(0x744)]();try{if(_0x4e24ec(0x6e2)!=typeof _0xa4ec3c?.['text'])throw new Error('Text\x20is\x20required');return await _0x3f0782[_0x4e24ec(0x981)]({'jobType':_0x4ec7f8[_0x4e24ec(0x2e6)],'type':_0x5cfdda[_0x4e24ec(0x6c0)],'jobId':_0x9c1a78,'agentId':_0x3d9056,'threadId':_0xeafeb7,'blockId':'write-file','traceLevel':_0x1388f3[_0x4e24ec(0x336)],'startTime':_0x51e0c6,'timestamp':Date['now'](),'status':'success','content':_0xa4ec3c[_0x4e24ec(0x2fc)]}),_0x24bd84[_0x4e24ec(0x8bf)]||(_0x24bd84[_0x4e24ec(0x8bf)]={}),_0x24bd84['internalContext'][_0x4e24ec(0x304)]=_0xa4ec3c[_0x4e24ec(0x2fc)],_0x24bd84[_0x4e24ec(0x8bf)]['file.type']=_0x4e24ec(0x4f8),_0x4e24ec(0xa7b);}catch(_0x21c823){return console[_0x4e24ec(0x5fb)](_0x21c823),await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x4e24ec(0x2e6)],'type':_0x5cfdda[_0x4e24ec(0x6c0)],'jobId':_0x9c1a78,'blockId':'write-file','traceLevel':_0x1388f3[_0x4e24ec(0x336)],'startTime':_0x51e0c6,'timestamp':Date[_0x4e24ec(0x744)](),'status':_0x4e24ec(0x5fb),'errorDetails':_0x425981(_0x21c823),'agentId':_0x3d9056,'threadId':_0xeafeb7,'content':_0x4e24ec(0x6e2)==typeof _0xa4ec3c?.[_0x4e24ec(0x2fc)]?_0xa4ec3c['text']:''}),_0x21c823 instanceof Error?_0x21c823[_0x4e24ec(0x421)]:_0x4e24ec(0x1b5);}}};}(_0x5da222,_0x597c4e,_0x113015[_0x4fbba0(0xb36)],_0x1dc817);}throw new Error('Unknown\x20skill\x20type');}function _0x425981(_0x14fa8e){const _0x21bb35=_0x5a8b1c;try{return JSON['stringify'](_0x14fa8e);}catch(_0x42d9c0){return _0x14fa8e instanceof Error?_0x14fa8e[_0x21bb35(0x7bb)]():'Error\x20fetching\x20context';}}async function _0x1467fd(_0x3ac08c,_0x578333,_0x21c970){const _0x2d632f=_0x5a8b1c,_0x3ba85b=_0x578333[_0x2d632f(0xb4b)]??(0x0,_0x4804e8['v4'])(),_0x232d8d={'type':_0x2d632f(0x7ed),'context':[],'internalContext':_0x578333[_0x2d632f(0x8bf)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x2f6da5=_0x578333[_0x2d632f(0x26a)],_0x18ec84=(await(0x0,_0x594922['getDoc'])((0x0,_0x594922[_0x2d632f(0x941)])(_0x1b7d72[_0x2d632f(0x184)](),'developers',_0x2f6da5)))[_0x2d632f(0x349)]();_0x18ec84&&_0x18ec84[_0x2d632f(0xaf2)]||(console[_0x2d632f(0x2d3)](new Date()+_0x2d632f(0x918),_0x578333['model'],_0x3075e1['get'](_0x578333[_0x2d632f(0x540)])['fallbackModel']),_0x578333['model']=_0x3075e1['get'](_0x578333[_0x2d632f(0x540)])[_0x2d632f(0x5eb)]);const _0x7cf5d2=await async function(_0x513c63,_0x5f1dd9,_0x49af83,_0x464d94,_0x168724){const _0x3f8c2f=_0x2d632f,_0x277d88=_0x168724['models'][_0x3f8c2f(0x5dd)](_0x4fb220=>_0x4fb220['id']===_0x49af83['model']);if(!_0x277d88)throw new Error(_0x3f8c2f(0x156));const _0x594072=_0x168724[_0x3f8c2f(0xb3f)]['find'](_0x24449a=>_0x24449a[_0x3f8c2f(0x72f)]()===_0x277d88[_0x3f8c2f(0x4f6)]);if(!_0x594072)throw new Error(_0x3f8c2f(0x379));const _0x3b795e=await _0x433912(_0x513c63,_0x5f1dd9,_0x49af83,_0x464d94,_0x49af83['tools']??[],_0x168724);return _0x594072[_0x3f8c2f(0x3a1)]({'type':'prompt','prompt':_0x49af83[_0x3f8c2f(0x7ed)],'instructions':_0x49af83[_0x3f8c2f(0x8e8)],'reasoning':_0x49af83[_0x3f8c2f(0xa05)],'grammar':_0x49af83[_0x3f8c2f(0x871)],'temperature':_0x49af83[_0x3f8c2f(0x911)],'maxTokens':_0x49af83[_0x3f8c2f(0x510)],'history':_0x49af83['history'],'functions':_0x3b795e,'threadId':_0x49af83[_0x3f8c2f(0xb36)]},{'model':_0x277d88,'sequences':Array[_0x3f8c2f(0x47c)](_0x3b795e['keys']())[_0x3f8c2f(0x707)](_0x22cee5=>_0x22cee5[_0x3f8c2f(0x54c)](_0x3f8c2f(0x9f4)))?0x2:0x1});}(_0x3ac08c,_0x3ba85b,_0x578333,_0x232d8d,_0x21c970);return _0x3f0782['logUsage'](_0x3ac08c,_0x578333[_0x2d632f(0x540)],_0x7cf5d2[_0x2d632f(0x243)]??0x0,_0x7cf5d2[_0x2d632f(0x940)]??0x0),console[_0x2d632f(0x2d3)](new Date()+_0x2d632f(0x8e3),_0x578333['model'],_0x7cf5d2[_0x2d632f(0x243)]??0x0,_0x7cf5d2[_0x2d632f(0x940)]??0x0),{'type':'prompt','output':_0x7cf5d2[_0x2d632f(0xadd)],'context':_0x232d8d[_0x2d632f(0x826)],'internalContext':_0x232d8d[_0x2d632f(0x8bf)]??{},'inputTokens':_0x7cf5d2['inputTokens']??0x0,'outputTokens':_0x7cf5d2[_0x2d632f(0x940)]??0x0};}async function _0x20ce83(_0x2ac2f4,_0x1ddd3a){const _0x58c8b6=_0x5a8b1c,_0x42d4aa=await async function(_0x3020ec,_0xebc283){const _0x3684bf=a0_0x2316,_0x2aec7c=_0xebc283[_0x3684bf(0x89b)][_0x3684bf(0x5dd)](_0x388e9b=>_0x388e9b['id']===_0x3020ec[_0x3684bf(0x540)]);if(!_0x2aec7c)throw new Error(_0x3684bf(0x156));const _0x4d54b0=_0xebc283[_0x3684bf(0xb3f)][_0x3684bf(0x5dd)](_0x4f1948=>_0x4f1948[_0x3684bf(0x72f)]()===_0x2aec7c['engineType']);if(!_0x4d54b0)throw new Error('No\x20connector\x20found\x20for\x20model');return _0x4d54b0[_0x3684bf(0x3a1)]({'type':_0x3684bf(0x7ed),'prompt':_0x3020ec['text'],'threadId':_0x3020ec[_0x3684bf(0xb36)]},{'model':_0x2aec7c,'sequences':0x1});}(_0x2ac2f4,_0x1ddd3a);return{'type':_0x58c8b6(0x7ed),'output':_0x42d4aa['output'],'inputTokens':_0x42d4aa[_0x58c8b6(0x243)]??0x0,'outputTokens':_0x42d4aa['outputTokens']??0x0};}async function _0x59d7af(_0x566659,_0x99a8e){const _0x504d76=_0x5a8b1c;let _0x58c1fe='',_0x5d6f8a={'type':_0x504d76(0x7ed),'internalContext':_0x566659[_0x504d76(0x8bf)]??{}};switch(_0x566659[_0x504d76(0x1d0)][_0x504d76(0x2a5)]){case _0x52baed['GenerativeAIInferenceToolType'][_0x504d76(0x2fd)]:case _0x52baed[_0x504d76(0x4fc)][_0x504d76(0x9dd)]:_0x58c1fe=await _0x5b7087(_0x566659[_0x504d76(0x26a)],_0x566659[_0x504d76(0x1d0)],_0x99a8e,_0x566659[_0x504d76(0xb06)],_0x5d6f8a);break;case _0x52baed[_0x504d76(0x4fc)][_0x504d76(0x3e5)]:_0x58c1fe=await _0x348958(_0x566659[_0x504d76(0x1d0)],_0x99a8e,_0x566659[_0x504d76(0xb06)]);break;case _0x52baed[_0x504d76(0x4fc)][_0x504d76(0x19d)]:_0x58c1fe=await _0xa06424(_0x566659[_0x504d76(0xb06)]);break;case _0x52baed['GenerativeAIInferenceToolType'][_0x504d76(0x6e7)]:case _0x52baed['GenerativeAIInferenceToolType'][_0x504d76(0x48d)]:_0x58c1fe=await _0xb6c484(_0x566659[_0x504d76(0x26a)],_0x566659[_0x504d76(0x1d0)],_0x566659[_0x504d76(0xb06)],_0x5d6f8a);break;case _0x52baed['GenerativeAIInferenceToolType'][_0x504d76(0x535)]:_0x58c1fe=await _0xac0dc(_0x566659[_0x504d76(0x1d0)],_0x566659[_0x504d76(0xb06)],_0x5d6f8a);break;case _0x52baed[_0x504d76(0x4fc)][_0x504d76(0x185)]:_0x58c1fe=await _0x5bd1f8(_0x566659[_0x504d76(0xb06)]);break;case _0x52baed[_0x504d76(0x4fc)][_0x504d76(0x938)]:_0x58c1fe=await _0x5bd1f8(_0x566659[_0x504d76(0xb06)],!0x1);break;case _0x52baed['GenerativeAIInferenceToolType'][_0x504d76(0x1eb)]:_0x58c1fe=await _0x369be6(_0x99a8e,_0x566659[_0x504d76(0xb06)]);break;case _0x52baed[_0x504d76(0x4fc)]['FormSkillGetQuestion']:_0x58c1fe=await _0x32483b(_0x566659[_0x504d76(0x1d0)],_0x5d6f8a);break;case _0x52baed[_0x504d76(0x4fc)]['FormSkillSetAnswer']:_0x58c1fe=await _0x415a34(_0x566659[_0x504d76(0x1d0)],_0x566659['arguments'],_0x5d6f8a);break;case _0x52baed[_0x504d76(0x4fc)][_0x504d76(0x18e)]:_0x58c1fe=await _0x419e6e(_0x566659[_0x504d76(0x1d0)],_0x5d6f8a);break;case _0x52baed[_0x504d76(0x4fc)][_0x504d76(0x48e)]:_0x566659[_0x504d76(0x1d0)][_0x504d76(0x3ba)]?_0x58c1fe=await _0x257233(_0x566659[_0x504d76(0x26a)],_0x566659[_0x504d76(0x1d0)],_0x566659['arguments'],_0x5d6f8a):(_0x257233(_0x566659[_0x504d76(0x26a)],_0x566659[_0x504d76(0x1d0)],_0x566659[_0x504d76(0xb06)],_0x5d6f8a),_0x58c1fe=_0x504d76(0x27d));}return{'type':_0x504d76(0x153),'output':_0x58c1fe,'internalContext':_0x5d6f8a[_0x504d76(0x8bf)]??{}};}async function*_0x1cba1f(_0x59d539,_0x3afbab,_0x1fa581){const _0x591efd=_0x5a8b1c,_0x3392c6=_0x3afbab[_0x591efd(0xb4b)]??(0x0,_0x4804e8['v4'])(),_0x5afad4={'type':_0x591efd(0x7ed),'context':[],'internalContext':_0x3afbab[_0x591efd(0x8bf)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x5bc762=new _0x49d871(),_0x92381f=_0x3afbab[_0x591efd(0x26a)],_0x8ee052=(await(0x0,_0x594922[_0x591efd(0x163)])((0x0,_0x594922['doc'])(_0x1b7d72[_0x591efd(0x184)](),_0x591efd(0x44d),_0x92381f)))['data']();_0x8ee052&&_0x8ee052['organizationId']||(console[_0x591efd(0x2d3)](new Date()+_0x591efd(0x918),_0x3afbab['model'],_0x3075e1['get'](_0x3afbab[_0x591efd(0x540)])['fallbackModel']),_0x3afbab[_0x591efd(0x540)]=_0x3075e1[_0x591efd(0x8a4)](_0x3afbab[_0x591efd(0x540)])['fallbackModel']),async function(_0x6152f9,_0x3ae7b4,_0x1404b8,_0x2c061d,_0x2181a2,_0x4abf80){const _0x4c475e=_0x591efd,_0x5cc2d7=_0x4abf80[_0x4c475e(0x89b)][_0x4c475e(0x5dd)](_0xccd859=>_0xccd859['id']===_0x1404b8[_0x4c475e(0x540)]);if(!_0x5cc2d7)throw new Error(_0x4c475e(0x156));const _0x39c98c=_0x4abf80[_0x4c475e(0xb3f)][_0x4c475e(0x5dd)](_0x5cb0db=>_0x5cb0db['getEngineType']()===_0x5cc2d7[_0x4c475e(0x4f6)]);if(!_0x39c98c)throw new Error(_0x4c475e(0x379));const _0x4d8e86={'type':'prompt','output':''},_0x1eb028=await _0x433912(_0x6152f9,_0x3ae7b4,_0x1404b8,_0x2c061d,_0x1404b8[_0x4c475e(0x7ad)]??[],_0x4abf80,_0x2181a2);for await(const _0x162e9c of _0x39c98c[_0x4c475e(0x182)]({'type':_0x4c475e(0x7ed),'prompt':_0x1404b8['prompt'],'instructions':_0x1404b8['instructions'],'reasoning':_0x1404b8['reasoning'],'grammar':_0x1404b8[_0x4c475e(0x871)],'temperature':_0x1404b8[_0x4c475e(0x911)],'maxTokens':_0x1404b8[_0x4c475e(0x510)],'history':_0x1404b8[_0x4c475e(0x238)],'functions':_0x1eb028,'threadId':_0x1404b8['threadId']},{'model':_0x5cc2d7,'sequences':Array[_0x4c475e(0x47c)](_0x1eb028['keys']())[_0x4c475e(0x707)](_0x3911b3=>_0x3911b3[_0x4c475e(0x54c)](_0x4c475e(0x9f4)))?0x2:0x1}))_0x2181a2['emit'](_0x162e9c),_0x4c475e(0x6e2)==typeof _0x4d8e86['output']&&_0x4c475e(0x6e2)==typeof _0x162e9c[_0x4c475e(0xadd)]&&(_0x4d8e86[_0x4c475e(0xadd)]+=_0x162e9c['output']),_0x4d8e86[_0x4c475e(0x243)]=_0x162e9c[_0x4c475e(0x243)],_0x4d8e86['outputTokens']=_0x162e9c[_0x4c475e(0x940)];await _0x3d74ea['wait'](0x1),_0x2181a2[_0x4c475e(0x929)](void 0x0);}(_0x59d539,_0x3392c6,_0x3afbab,_0x5afad4,_0x5bc762,_0x1fa581);let _0x123918='',_0x12b545={'type':_0x591efd(0x7ed)};for(;;){const _0x5b715e=await _0x5bc762[_0x591efd(0x61a)]();if(!_0x5b715e)break;_0x123918+=_0x5b715e['output'],_0x12b545={'type':_0x591efd(0x7ed),'output':_0x5b715e[_0x591efd(0xadd)],'context':_0x5afad4[_0x591efd(0x826)],'internalContext':{},'inputTokens':_0x5b715e['inputTokens']??0x0,'outputTokens':_0x5b715e[_0x591efd(0x940)]??0x0},yield _0x12b545;}_0x3f0782[_0x591efd(0xb0a)](_0x59d539,_0x3afbab['model'],_0x12b545['inputTokens']??0x0,_0x12b545[_0x591efd(0x940)]??0x0),console[_0x591efd(0x2d3)](new Date()+_0x591efd(0x40a),_0x3afbab['model'],_0x12b545[_0x591efd(0x243)]??0x0,_0x12b545[_0x591efd(0x940)]??0x0),yield{..._0x12b545,'output':'','internalContext':_0x5afad4[_0x591efd(0x8bf)]??{}};}async function _0x19431c(_0x124e44,_0x12da4e,_0x47ac7e,_0x13f230,_0x5180f7,_0x3be7ae){const _0x584993=_0x5a8b1c,_0x40ef4d=Date['now']();if(!_0x3be7ae[_0x584993(0x89b)][_0x584993(0x5dd)](_0x32987a=>_0x32987a['id']===_0x13f230[_0x584993(0x611)]))throw new Error(_0x584993(0x156));const _0x3c7407=(0x0,_0x4804e8['v4'])(),_0x57409f=[];_0x57409f[_0x584993(0x3a9)]({'role':_0x584993(0x839),'content':_0x13f230[_0x584993(0x8e8)]}),_0x57409f[_0x584993(0x3a9)]({'role':_0x584993(0xb24),'content':_0x47ac7e});const _0x49e8c6=await fetch(_0x12ca2b[_0x584993(0x306)]+_0x584993(0x19b),{'method':_0x584993(0x8f2),'headers':{'Content-Type':'application/json','x-vendor-id':_0x124e44},'body':JSON[_0x584993(0x2ed)]({'model':_0x13f230[_0x584993(0x611)],'messages':_0x57409f,'max_completion_tokens':_0x13f230[_0x584993(0x510)],'temperature':_0x13f230[_0x584993(0x911)],'threadId':_0x3c7407})}),_0x388640=(await _0x49e8c6[_0x584993(0x751)]())[_0x584993(0x8b7)][0x0][_0x584993(0x421)][_0x584993(0x2fa)];await _0x3f0782[_0x584993(0x981)]({'jobType':_0x4ec7f8[_0x584993(0x482)],'type':_0x3b3d88[_0x584993(0x2fd)],'jobId':_0x12da4e,'blockId':_0x13f230['id'],'traceLevel':_0x1388f3['Debug'],'timestamp':Date[_0x584993(0x744)](),'startTime':_0x40ef4d,'status':_0x584993(0x4cf),'agentId':_0x3c7407,'content':_0x47ac7e,'instructions':_0x13f230[_0x584993(0x8e8)],'result':_0x388640});const _0x725e4c=[];if(_0x13f230[_0x584993(0x1ce)]?.[_0x584993(0x707)](_0x5c7ce5=>_0x5c7ce5[_0x584993(0x2a5)]===_0x722880[_0x584993(0x517)]))return _0x725e4c[_0x584993(0x3a9)]({'content':_0x388640,'start':0x0,'length':_0x388640[_0x584993(0xa39)]}),await _0x13140b(_0x124e44,_0x12da4e,_0x725e4c,_0x13f230,_0x5180f7,_0x3be7ae),void await _0x13140b(_0x124e44,_0x12da4e,_0x388640,_0x13f230,_0x5180f7,_0x3be7ae);_0x725e4c[_0x584993(0x3a9)]({'content':_0x388640,'start':0x0,'length':_0x47ac7e['length']}),await _0x13140b(_0x124e44,_0x12da4e,_0x725e4c,_0x13f230,_0x5180f7,_0x3be7ae);}async function _0x328f1f(_0x114c74,_0x3a48e9,_0x2dff5b,_0x25b199,_0x4e0f31,_0x13ca41){const _0x2e1186=_0x5a8b1c,_0x478437=Date[_0x2e1186(0x744)]();let _0x1de9d9=[];if(_0x2dff5b instanceof Array)for(const _0xa60327 of _0x2dff5b){if(_0x2e1186(0x6e2)!=typeof _0xa60327[_0x2e1186(0x2fa)])throw new Error(_0x2e1186(0x76b));_0x1de9d9=_0x1de9d9[_0x2e1186(0x876)](_0x72b46f(_0xa60327['content'],_0x25b199,_0xa60327[_0x2e1186(0x3a0)],_0xa60327[_0x2e1186(0xa39)]));}else _0x1de9d9=_0x72b46f(_0x2dff5b,_0x25b199);await _0x3f0782[_0x2e1186(0x981)]({'jobType':_0x4ec7f8[_0x2e1186(0x482)],'type':_0x3b3d88['ChunkSplitter'],'traceLevel':_0x1388f3[_0x2e1186(0x8b6)],'jobId':_0x3a48e9,'blockId':_0x25b199['id'],'startTime':_0x478437,'timestamp':Date[_0x2e1186(0x744)](),'status':_0x2e1186(0x4cf),'totalChunks':_0x1de9d9[_0x2e1186(0xa39)],'chunkSize':_0x25b199[_0x2e1186(0x347)][_0x2e1186(0xaf1)]}),await _0x13140b(_0x114c74,_0x3a48e9,_0x1de9d9,_0x25b199,_0x4e0f31,_0x13ca41);}function _0x72b46f(_0x59c4ef,_0x1f22ad,_0x4ef640,_0x180182){const _0xa8854b=_0x5a8b1c,_0x12eec0=[];for(let _0x12e86f=0x0;_0x12e86f<_0x59c4ef[_0xa8854b(0xa39)];_0x12e86f+=_0x1f22ad[_0xa8854b(0x347)]['size']){let _0xe344bd=_0x12e86f-_0x1f22ad[_0xa8854b(0x347)][_0xa8854b(0x85f)];_0xe344bd<0x0&&(_0xe344bd=0x0);let _0x1ede83=_0x12e86f+_0x1f22ad['attributes'][_0xa8854b(0xaf1)]+_0x1f22ad['attributes'][_0xa8854b(0x85f)];_0x1ede83>_0x59c4ef[_0xa8854b(0xa39)]&&(_0x1ede83=_0x59c4ef[_0xa8854b(0xa39)]);const _0x87f4bc=_0x59c4ef['substring'](_0xe344bd,_0x1ede83);_0x12eec0[_0xa8854b(0x3a9)]({'content':_0x87f4bc,'start':_0x4ef640??_0x12e86f,'length':_0x180182??(_0x12e86f+_0x1f22ad[_0xa8854b(0x347)][_0xa8854b(0xaf1)]>_0x59c4ef['length']?_0x59c4ef[_0xa8854b(0xa39)]-_0x12e86f:_0x1f22ad[_0xa8854b(0x347)][_0xa8854b(0xaf1)])});}return _0x12eec0;}async function _0x5d0162(_0x6fe383,_0x2ef3b5,_0x3b33de,_0x3dd9e4,_0x52ead3,_0x45acb1){const _0x19351b=_0x5a8b1c,_0x53e04e=Date[_0x19351b(0x744)]();let _0x19df28;if(_0x3b33de[_0x19351b(0x186)][_0x19351b(0x2a5)][_0x19351b(0x54c)](_0x19351b(0x2f4))||_0x5f1914(_0x3b33de[_0x19351b(0x186)]['name'],_0x5eac4a))_0x19df28=await _0x3b33de[_0x19351b(0x186)]['text']();else{if(!_0x45acb1['documentParserConnector'][_0x19351b(0x7f9)](_0x3b33de[_0x19351b(0x186)]))throw new Error(_0x19351b(0x45f)+_0x3b33de['file'][_0x19351b(0x2a5)]+_0x19351b(0xade)+_0x3b33de[_0x19351b(0x186)]['name']);_0x19df28=await _0x45acb1[_0x19351b(0x748)][_0x19351b(0x85b)](_0x3b33de[_0x19351b(0x186)]);}await _0x3f0782[_0x19351b(0x981)]({'jobType':_0x4ec7f8['Ingest'],'type':_0x3b3d88[_0x19351b(0x159)],'traceLevel':_0x1388f3[_0x19351b(0x8b6)],'blockId':_0x3dd9e4['id'],'jobId':_0x2ef3b5,'startTime':_0x53e04e,'timestamp':Date[_0x19351b(0x744)](),'status':'success','documentType':_0x3b33de[_0x19351b(0x186)][_0x19351b(0x2a5)],'documentName':_0x3b33de['file'][_0x19351b(0x45a)],'extractionMethod':_0x19351b(0x25c)}),await _0x13140b(_0x6fe383,_0x2ef3b5,_0x19df28,_0x3dd9e4,_0x52ead3,_0x45acb1);const _0x37b579=[{'content':_0x19df28,'start':0x0,'length':_0x19df28[_0x19351b(0xa39)]}];await _0x13140b(_0x6fe383,_0x2ef3b5,_0x37b579,_0x3dd9e4,_0x52ead3,_0x45acb1);}const _0x5eac4a=[_0x5a8b1c(0xa6c),'.ts','.py',_0x5a8b1c(0x3ad),_0x5a8b1c(0x3dc),_0x5a8b1c(0x2c0),_0x5a8b1c(0x66a),'.xml',_0x5a8b1c(0x895),_0x5a8b1c(0xac7),_0x5a8b1c(0xa44),_0x5a8b1c(0xb3c),_0x5a8b1c(0x91c),_0x5a8b1c(0x764),_0x5a8b1c(0x72d),_0x5a8b1c(0xa8c),'.sql',_0x5a8b1c(0x990),_0x5a8b1c(0x788),_0x5a8b1c(0x58d),'.c',_0x5a8b1c(0x2e5),'.cs','.r',_0x5a8b1c(0x8cc),_0x5a8b1c(0xa35),_0x5a8b1c(0x332),_0x5a8b1c(0x44e),_0x5a8b1c(0x228),_0x5a8b1c(0x1aa),_0x5a8b1c(0x854),_0x5a8b1c(0xa13),_0x5a8b1c(0x5fa),'.clj','.groovy',_0x5a8b1c(0x7c4),_0x5a8b1c(0x1d5),_0x5a8b1c(0x393),_0x5a8b1c(0x572),_0x5a8b1c(0x964),'.tcl','.m',_0x5a8b1c(0xb22),_0x5a8b1c(0x508),'.rkt','.jl',_0x5a8b1c(0x980),_0x5a8b1c(0x64d),'.tsx',_0x5a8b1c(0x284),_0x5a8b1c(0x9e3),_0x5a8b1c(0x288),_0x5a8b1c(0x71b),'.hbs',_0x5a8b1c(0x742),'.ejs',_0x5a8b1c(0x27f),'.liquid','.mustache',_0x5a8b1c(0x272),_0x5a8b1c(0x982),_0x5a8b1c(0x2d4),'.djt'];function _0x5f1914(_0x4c2b78,_0x339266){const _0x222b9c=_0x5a8b1c;return _0x339266['includes']('.'+(_0x4c2b78[_0x222b9c(0x8ed)]('.')['pop']()?.[_0x222b9c(0x7fe)]()||''));}async function _0xe92146(_0x14793f,_0x3bff45,_0x25f4b3,_0xbddcc2,_0x4435ce,_0x83f7f8){const _0x311d6a=_0x5a8b1c,_0x207651=Date['now'](),_0x2fa9af=new Set();let _0x53bb38=0x0;for(const _0x40e72f of _0x25f4b3){if(_0x311d6a(0x6e2)!=typeof _0x40e72f[_0x311d6a(0x2fa)])throw new Error(_0x311d6a(0x76b));_0x53bb38+=_0x40e72f[_0x311d6a(0x2fa)]['length'],await _0x3c3d8f(_0x40e72f[_0x311d6a(0x2fa)],_0x2fa9af,_0xbddcc2,_0x83f7f8[_0x311d6a(0x25d)]);}await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x311d6a(0x482)],'type':_0x3b3d88['EntityExtractor'],'jobId':_0x3bff45,'blockId':_0xbddcc2['id'],'traceLevel':_0x1388f3[_0x311d6a(0x8b6)],'startTime':_0x207651,'timestamp':Date[_0x311d6a(0x744)](),'status':_0x311d6a(0x4cf),'contentLength':_0x53bb38,'totalChunks':_0x25f4b3 instanceof Array?_0x25f4b3[_0x311d6a(0xa39)]:0x1,'entitiesExtracted':_0x2fa9af,'totalEntities':_0x2fa9af[_0x311d6a(0xaf1)]}),await _0x13140b(_0x14793f,_0x3bff45,_0x2fa9af,_0xbddcc2,_0x4435ce,_0x83f7f8);}async function _0x3c3d8f(_0x56c1ca,_0xea952a,_0x4a6dbc,_0x4ef56e){const _0x5698d0=_0x5a8b1c,_0x4aed52=await _0x4ef56e[_0x5698d0(0x857)](_0x56c1ca,{'ner':_0x4a6dbc[_0x5698d0(0x347)][_0x5698d0(0xa74)],'noun':_0x4a6dbc[_0x5698d0(0x347)]['noun'],'propn':_0x4a6dbc[_0x5698d0(0x347)][_0x5698d0(0x3d7)],'verb':_0x4a6dbc[_0x5698d0(0x347)]['verb']});for(const _0xaacef of _0x4aed52)_0xea952a['add'](_0xaacef);}async function _0x11f1b7(_0x2909aa,_0x52d1ff,_0x40f5d1,_0x285d8d,_0x34bfbf){const _0x3f1d1e=_0x5a8b1c,_0x4b73b6=Date[_0x3f1d1e(0x744)]();if(_0x40f5d1[_0x3f1d1e(0x1ba)]||(_0x40f5d1[_0x3f1d1e(0x1ba)]={}),'string'==typeof _0x52d1ff?_0x40f5d1[_0x3f1d1e(0x1ba)]['content']=_0x52d1ff:_0x52d1ff instanceof Set?_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x457)]=_0x52d1ff:_0x52d1ff instanceof Map?_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x30d)]=_0x52d1ff:_0x52d1ff instanceof Array?_0x40f5d1[_0x3f1d1e(0x1ba)]['index']=_0x52d1ff:_0x40f5d1['accumulated']['file']=_0x52d1ff,_0x40f5d1[_0x3f1d1e(0x548)]=_0x40f5d1[_0x3f1d1e(0x548)]?_0x40f5d1['timesCalled']+0x1:0x1,_0x5dc594(_0x40f5d1,_0x285d8d[_0x3f1d1e(0x616)])>_0x40f5d1[_0x3f1d1e(0x548)])return;if(!(_0x40f5d1['accumulated'][_0x3f1d1e(0x457)]&&_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x186)]&&_0x40f5d1['accumulated']['content']&&_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x960)]))throw new Error(_0x3f1d1e(0x176));let _0x4f3365=0x0;const _0x3c449f=_0x34bfbf[_0x3f1d1e(0x5df)][_0x3f1d1e(0x1ac)](_0x40f5d1['id']);for(const _0x3278bd of _0x40f5d1[_0x3f1d1e(0x1ba)]['entities']){let _0x49a406=[];_0x49a406=_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x960)][_0x3f1d1e(0x930)](_0x13e3a7=>'string'==typeof _0x13e3a7[_0x3f1d1e(0x2fa)]&&_0x13e3a7[_0x3f1d1e(0x2fa)]['includes'](_0x3278bd));try{_0x3c449f[_0x3f1d1e(0xa94)](_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x186)][_0x3f1d1e(0xa87)],_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x2fa)],_0x49a406,_0x3278bd),_0x4f3365+=0x1;}catch(_0x4e7bb6){}}if(_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x30d)]){for(const [_0x4d7146,_0x8f2d22]of _0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x30d)])for(const _0x59d502 of _0x8f2d22)try{_0x3c449f[_0x3f1d1e(0x855)](_0x4d7146,_0x59d502);}catch(_0x3b298f){}await _0x3f0782[_0x3f1d1e(0x981)]({'jobType':_0x4ec7f8['Ingest'],'type':_0x3b3d88[_0x3f1d1e(0x820)],'jobId':_0x2909aa,'blockId':_0x40f5d1['id'],'status':_0x3f1d1e(0x4cf),'startTime':_0x4b73b6,'timestamp':Date[_0x3f1d1e(0x744)](),'traceLevel':_0x1388f3['Debug'],'nodesAdded':_0x4f3365,'entities':_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x457)],'relations':_0x40f5d1[_0x3f1d1e(0x1ba)][_0x3f1d1e(0x30d)]});}}async function _0x553900(_0x52170a,_0x4f17ac,_0x53dcda,_0x293c97,_0x5797f7,_0x15d895){const _0x1dfafa=_0x5a8b1c,_0xc12851=_0x15d895[_0x1dfafa(0x89b)][_0x1dfafa(0x5dd)](_0x534a81=>_0x534a81['id']===_0x293c97['id']);if(!_0xc12851)throw new Error('Model\x20not\x20found');switch(_0xc12851[_0x1dfafa(0x78a)]){case _0x52baed[_0x1dfafa(0x921)]['Text']:if('string'!=typeof _0x53dcda)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x1937e5,_0x328335,_0x1abdd7,_0x42bdd9,_0xdba69c,_0x30cbd5,_0x429da4){const _0x381428=_0x1dfafa,_0xbfa436=Date[_0x381428(0x744)]();let _0x385f63;const _0x45f86d=await fetch(_0x12ca2b[_0x381428(0x306)]+_0x381428(0x19b),{'method':_0x381428(0x8f2),'headers':{'Content-Type':_0x381428(0x9b0),'x-vendor-id':_0x1937e5},'body':JSON['stringify']({'messages':[{'role':'user','content':_0x1abdd7}],'model':_0x42bdd9['id']})});_0x385f63=(await _0x45f86d[_0x381428(0x751)]())['choices'][0x0]['message'][_0x381428(0x2fa)],await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x381428(0x482)],'type':_0x3b3d88['ModelText'],'jobId':_0x328335,'blockId':_0xdba69c['id'],'traceLevel':_0x1388f3[_0x381428(0x8b6)],'timestamp':Date['now'](),'startTime':_0xbfa436,'status':_0x381428(0x4cf),'modelName':_0x42bdd9['id'],'inputType':_0x42bdd9['inputType'],'outputType':_0x42bdd9[_0x381428(0x78a)],'content':_0x1abdd7,'results':_0x385f63}),await _0x13140b(_0x1937e5,_0x328335,_0x385f63,_0xdba69c,_0x30cbd5,_0x429da4);}(_0x52170a,_0x4f17ac,_0x53dcda,_0xc12851,_0x293c97,_0x5797f7,_0x15d895);break;case _0x52baed['GenerativeAIModelOutputType']['Vector']:if(!(_0x53dcda instanceof Array))throw new Error(_0x1dfafa(0x98f));await async function(_0x5443dc,_0x19ee5a,_0x514716,_0x1804aa,_0x2173e5,_0x378062,_0x31c2e0){const _0x1a08e5=_0x1dfafa,_0x276db2=Date[_0x1a08e5(0x744)](),_0x2cd9ae=await fetch(_0x12ca2b[_0x1a08e5(0x306)]+_0x1a08e5(0x6a5),{'method':_0x1a08e5(0x8f2),'headers':{'Content-Type':'application/json','x-vendor-id':_0x5443dc},'body':JSON[_0x1a08e5(0x2ed)]({'input':_0x514716['map'](_0x461855=>_0x461855[_0x1a08e5(0x2fa)]),'model':_0x1804aa['id']})}),_0x4bcec8=(await _0x2cd9ae['json']())['data'][_0x1a08e5(0x3d5)](_0x442394=>_0x442394[_0x1a08e5(0x94f)]);await _0x3f0782[_0x1a08e5(0x981)]({'jobType':_0x4ec7f8[_0x1a08e5(0x482)],'type':_0x3b3d88['ModelVector'],'jobId':_0x19ee5a,'blockId':_0x2173e5['id'],'traceLevel':_0x1388f3['Debug'],'timestamp':Date[_0x1a08e5(0x744)](),'startTime':_0x276db2,'status':'success','modelName':_0x1804aa['id'],'inputType':_0x1804aa['inputType'],'outputType':_0x1804aa[_0x1a08e5(0x78a)],'totalVectors':_0x4bcec8[_0x1a08e5(0xa39)]}),await _0x13140b(_0x5443dc,_0x19ee5a,_0x4bcec8,_0x2173e5,_0x378062,_0x31c2e0);}(_0x52170a,_0x4f17ac,_0x53dcda,_0xc12851,_0x293c97,_0x5797f7,_0x15d895);}}async function _0x1658da(_0x1fd2f9,_0x3a6e46,_0x2fb6f5,_0x397ecd,_0x13a15b,_0xbaf309){const _0x2636ef=_0x5a8b1c,_0xba308c=Date[_0x2636ef(0x744)]();if(_0x397ecd[_0x2636ef(0x1ba)]||(_0x397ecd[_0x2636ef(0x1ba)]={}),_0x2fb6f5 instanceof Array?_0x397ecd['accumulated'][_0x2636ef(0x960)]=_0x2fb6f5:_0x397ecd[_0x2636ef(0x1ba)]['entities']=_0x2fb6f5,_0x397ecd[_0x2636ef(0x548)]=_0x397ecd['timesCalled']?_0x397ecd[_0x2636ef(0x548)]+0x1:0x1,_0x5dc594(_0x397ecd,_0x13a15b[_0x2636ef(0x616)])>_0x397ecd[_0x2636ef(0x548)])return;if(!_0x397ecd[_0x2636ef(0x1ba)][_0x2636ef(0x960)]||!_0x397ecd[_0x2636ef(0x1ba)][_0x2636ef(0x457)])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0x457deb=new Map();for(const _0x305c24 of _0x397ecd[_0x2636ef(0x1ba)][_0x2636ef(0x960)]){if(_0x2636ef(0x6e2)!=typeof _0x305c24[_0x2636ef(0x2fa)])throw new Error(_0x2636ef(0x76b));_0x48c2a7(_0x305c24[_0x2636ef(0x2fa)],_0x397ecd[_0x2636ef(0x1ba)][_0x2636ef(0x457)],_0x457deb);}await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x2636ef(0x482)],'type':_0x3b3d88[_0x2636ef(0x157)],'jobId':_0x3a6e46,'blockId':_0x397ecd['id'],'traceLevel':_0x1388f3[_0x2636ef(0x8b6)],'timestamp':Date[_0x2636ef(0x744)](),'startTime':_0xba308c,'status':'success','entities':_0x397ecd['accumulated'][_0x2636ef(0x457)],'relations':_0x457deb,'totalRelationsExtracted':_0x457deb[_0x2636ef(0xaf1)]}),await _0x13140b(_0x1fd2f9,_0x3a6e46,_0x457deb,_0x397ecd,_0x13a15b,_0xbaf309);}function _0x48c2a7(_0x2978ee,_0x4dca50,_0x1d6cda){const _0x886c2=_0x5a8b1c;for(const _0x545cb5 of _0x4dca50)for(const _0x2678de of _0x4dca50){if(_0x545cb5===_0x2678de)continue;const _0x51666e=_0x2978ee[_0x886c2(0x64f)](_0x545cb5),_0x5d7ed7=_0x2978ee[_0x886c2(0x64f)](_0x2678de);-0x1!==_0x51666e&&-0x1!==_0x5d7ed7&&(_0x1d6cda['has'](_0x545cb5)||_0x1d6cda[_0x886c2(0x984)](_0x545cb5,new Set()),_0x1d6cda[_0x886c2(0x8a4)](_0x545cb5)[_0x886c2(0x20c)](_0x2678de));}return _0x1d6cda;}async function _0x433559(_0xdfe394,_0x2f1ff5,_0x4dab63,_0xb4442d,_0x252d20,_0x3fefb9){const _0x2f21c2=_0x5a8b1c,_0x4db1e6=Date[_0x2f21c2(0x744)]();let _0x5ed909=[];if(_0x4dab63 instanceof Array)for(const _0x460dbc of _0x4dab63){if(_0x2f21c2(0x6e2)!=typeof _0x460dbc['content'])throw new Error('Invalid\x20content\x20type');const _0x3b0f3a=await _0x3fefb9['nlpLibraryConnector'][_0x2f21c2(0x6bb)](_0x460dbc[_0x2f21c2(0x2fa)]);_0x5ed909=_0x5ed909[_0x2f21c2(0x876)](_0x3b0f3a['map'](_0x3b7628=>({'content':_0x3b7628,'start':_0x460dbc[_0x2f21c2(0x3a0)],'length':_0x460dbc[_0x2f21c2(0xa39)]})));}else _0x5ed909=(await _0x3fefb9[_0x2f21c2(0x25d)][_0x2f21c2(0x6bb)](_0x4dab63))[_0x2f21c2(0x3d5)](_0x5c45be=>({'content':_0x5c45be,'start':_0x4dab63[_0x2f21c2(0x64f)](_0x5c45be),'length':_0x5c45be[_0x2f21c2(0xa39)]}));await _0x3f0782[_0x2f21c2(0x981)]({'jobType':_0x4ec7f8[_0x2f21c2(0x482)],'type':_0x3b3d88[_0x2f21c2(0xa89)],'jobId':_0x2f1ff5,'blockId':_0xb4442d['id'],'traceLevel':_0x1388f3[_0x2f21c2(0x8b6)],'startTime':_0x4db1e6,'timestamp':Date[_0x2f21c2(0x744)](),'status':_0x2f21c2(0x4cf),'totalSentences':_0x5ed909[_0x2f21c2(0xa39)],'averageSentenceLength':_0x5ed909['reduce']((_0x2ee459,_0x3da403)=>_0x2ee459+_0x3da403[_0x2f21c2(0xa39)],0x0)/_0x5ed909[_0x2f21c2(0xa39)]}),await _0x13140b(_0xdfe394,_0x2f1ff5,_0x5ed909,_0xb4442d,_0x252d20,_0x3fefb9);}async function _0x4dc312(_0x111b6d,_0x342736,_0x488d52){const _0x35d3a0=_0x5a8b1c;if(0x0===_0x111b6d[_0x35d3a0(0xa39)])return;const _0x383eb5=_0x342736['internalContext']?.['files']?_0x342736['internalContext']['files'][_0x35d3a0(0x8ed)](','):[];for(const _0x144efa of _0x111b6d){const _0xa87752=await _0x488d52[_0x35d3a0(0x6b5)][_0x35d3a0(0x390)](_0x144efa);_0x383eb5[_0x35d3a0(0x3a9)](_0xa87752);}_0x342736['internalContext']||(_0x342736[_0x35d3a0(0x8bf)]={}),_0x342736[_0x35d3a0(0x8bf)][_0x35d3a0(0x6ed)]=_0x383eb5[_0x35d3a0(0x59d)](',');}async function _0x49b3ae(_0x250b15,_0x5888f3,_0x598f8d,_0xf84d6f,_0x1178e2){const _0x508e7a=_0x5a8b1c,_0x4e732b=_0x5888f3[_0x508e7a(0xb4b)]??(0x0,_0x4804e8['v4'])(),_0x4f5fc7=Date[_0x508e7a(0x744)]();await _0x3f0782[_0x508e7a(0x981)]({'jobType':_0x4ec7f8[_0x508e7a(0x31c)],'type':_0x5d9f0c[_0x508e7a(0x811)],'jobId':_0x250b15,'blockId':_0x598f8d['id'],'agentId':_0x4e732b,'threadId':_0x5888f3['threadId'],'traceLevel':_0x1388f3[_0x508e7a(0x336)],'startTime':Date[_0x508e7a(0x744)](),'timestamp':Date[_0x508e7a(0x744)](),'status':_0x508e7a(0x4cf),'initialPrompt':_0x5888f3[_0x508e7a(0x7ed)]});const _0x3133ff={'type':_0x508e7a(0x7ed),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x5888f3[_0x508e7a(0x8bf)]&&(_0x3133ff[_0x508e7a(0x8bf)]=_0x5888f3[_0x508e7a(0x8bf)]),await _0x458860(_0x5888f3,_0x3133ff,_0x598f8d,_0xf84d6f,_0x1178e2),await _0x391277(_0x250b15,''+_0x5888f3[_0x508e7a(0x7ed)],_0x5888f3,_0x3133ff,_0x598f8d,_0xf84d6f,_0x1178e2);const {inputTokens:_0x437e66=0x0,outputTokens:_0x45b3c4=0x0,context:_0x1a76cc=[]}=_0x3133ff;await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x508e7a(0x31c)],'type':_0x5d9f0c[_0x508e7a(0x53d)],'jobId':_0x250b15,'agentId':_0x4e732b,'threadId':_0x5888f3[_0x508e7a(0xb36)],'traceLevel':_0x1388f3[_0x508e7a(0x336)],'startTime':_0x4f5fc7,'timestamp':Date[_0x508e7a(0x744)](),'blockId':_0x598f8d['id'],'status':'success','output':_0x3133ff[_0x508e7a(0xadd)]?.[_0x508e7a(0x7bb)]()??'','prompt':_0x5888f3[_0x508e7a(0x7ed)],'agentName':'','history':_0x5888f3[_0x508e7a(0x238)]??[],'instructions':''+(_0x5888f3[_0x508e7a(0x8e8)]??''),'ragContext':_0x1a76cc,'inputTokens':_0x437e66,'outputTokens':_0x45b3c4});const _0x7fce2c=_0xf84d6f['find'](_0x2a8b49=>_0x2a8b49[_0x508e7a(0x2a5)]===_0x2e1081[_0x508e7a(0x3be)]);return{'type':_0x508e7a(0x7ed),'output':_0x3133ff[_0x508e7a(0xadd)],'context':_0x3133ff[_0x508e7a(0x826)],'internalContext':_0x3133ff['internalContext'],'resultFile':await _0x7fce2c?.[_0x508e7a(0x1ba)]?.[_0x508e7a(0x186)]?.[_0x508e7a(0x2fc)]()??void 0x0,'inputTokens':_0x3133ff[_0x508e7a(0x243)]??0x0,'outputTokens':_0x3133ff[_0x508e7a(0x940)]??0x0};}async function*_0x5304d7(_0x120543,_0x334ecc,_0x495780,_0x64cff7,_0x4d05a){const _0x48f561=_0x5a8b1c,_0x125972=_0x334ecc[_0x48f561(0xb4b)]??(0x0,_0x4804e8['v4'])(),_0x47c4e0=Date[_0x48f561(0x744)]();await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x48f561(0x31c)],'type':_0x5d9f0c[_0x48f561(0x811)],'jobId':_0x120543,'agentId':_0x125972,'threadId':_0x334ecc['threadId'],'traceLevel':_0x1388f3['Info'],'startTime':Date[_0x48f561(0x744)](),'timestamp':Date[_0x48f561(0x744)](),'blockId':_0x495780['id'],'status':_0x48f561(0x4cf),'initialPrompt':_0x334ecc[_0x48f561(0x7ed)]});const _0x3cf1f3={'type':_0x48f561(0x7ed),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x334ecc[_0x48f561(0x8bf)]&&(_0x3cf1f3[_0x48f561(0x8bf)]=_0x334ecc['internalContext']);const _0x13a9a9=new _0x49d871();await _0x458860(_0x334ecc,_0x3cf1f3,_0x495780,_0x64cff7,_0x4d05a),_0x391277(_0x120543,''+_0x334ecc[_0x48f561(0x7ed)],_0x334ecc,_0x3cf1f3,_0x495780,_0x64cff7,_0x4d05a,_0x13a9a9);let _0x16b816='',_0x167e14={'type':_0x48f561(0x7ed)};for(;;){const _0x3b031d=await _0x13a9a9[_0x48f561(0x61a)]();if(!_0x3b031d)break;_0x16b816+=_0x3b031d[_0x48f561(0xadd)],_0x167e14={'type':_0x48f561(0x7ed),'output':_0x3b031d[_0x48f561(0xadd)],'context':_0x3cf1f3[_0x48f561(0x826)],'resultFile':void 0x0,'inputTokens':(_0x3cf1f3['inputTokens']??0x0)+(_0x3b031d[_0x48f561(0x243)]??0x0),'outputTokens':(_0x3cf1f3['outputTokens']??0x0)+(_0x3b031d['outputTokens']??0x0)},yield _0x167e14;}const _0x5c7670=_0x64cff7[_0x48f561(0x5dd)](_0x12a717=>_0x12a717[_0x48f561(0x2a5)]===_0x2e1081[_0x48f561(0x3be)]);yield{..._0x167e14,'output':'','internalContext':_0x3cf1f3[_0x48f561(0x8bf)],'resultFile':await _0x5c7670?.[_0x48f561(0x1ba)]?.[_0x48f561(0x186)]?.[_0x48f561(0x2fc)]()??void 0x0};const {inputTokens:_0x606155=0x0,outputTokens:_0x57b7cf=0x0,context:_0x2cf3ea=[]}=_0x167e14;await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0x48f561(0x31c)],'type':_0x5d9f0c['FinalOutput'],'jobId':_0x120543,'agentId':_0x125972,'threadId':_0x334ecc[_0x48f561(0xb36)],'traceLevel':_0x1388f3[_0x48f561(0x336)],'startTime':_0x47c4e0,'timestamp':Date['now'](),'blockId':_0x495780['id'],'status':_0x48f561(0x4cf),'output':_0x16b816,'prompt':_0x334ecc['prompt'],'agentName':'','history':_0x334ecc[_0x48f561(0x238)]??[],'instructions':''+(_0x334ecc['instructions']??''),'ragContext':_0x2cf3ea,'inputTokens':_0x606155,'outputTokens':_0x57b7cf});}async function _0x458860(_0xa14447,_0x30e1e4,_0x1cbb06,_0x39f169,_0x1298ae){const _0x3e11ea=_0x5a8b1c;if(_0xa14447[_0x3e11ea(0x6ed)]&&_0x1cbb06[_0x3e11ea(0x1ce)]){const _0x1b93fb=[];for(const _0x5261ad of _0xa14447['files'])_0x1b93fb[_0x3e11ea(0x3a9)](_0x282e70(_0x5261ad));for(const _0x530aa8 of _0x1cbb06[_0x3e11ea(0x1ce)])if(_0x3e11ea(0x186)===_0x530aa8[_0x3e11ea(0x2a5)]){const _0x6dc14a=_0x39f169[_0x3e11ea(0x5dd)](_0x432f55=>_0x432f55[_0x3e11ea(0x966)]===_0x530aa8[_0x3e11ea(0x966)]);if(!_0x6dc14a)continue;_0x6dc14a[_0x3e11ea(0x2a5)]===_0x2e1081[_0x3e11ea(0x159)]&&await _0x4dc312(_0x1b93fb,_0x30e1e4,_0x1298ae);}}}function _0x282e70(_0xa5fce2){const _0x41e749=_0x5a8b1c,_0x14ffcd=Uint8Array[_0x41e749(0x47c)](Buffer['from'](_0xa5fce2[_0x41e749(0x2fa)],_0x41e749(0x46b))),_0x57ee00=new Blob([_0x14ffcd],{'type':_0xa5fce2[_0x41e749(0x2a5)]});return new File([_0x57ee00],_0xa5fce2[_0x41e749(0x45a)],{'type':_0xa5fce2['type']});}function _0x4e11bf(_0x3804a1,_0x288a74){const _0x4deb40=_0x5a8b1c;switch(_0x288a74[_0x4deb40(0x169)]){case _0x3e31d1[_0x4deb40(0xa80)]:return _0x4deb40(0x28f);case _0x3e31d1[_0x4deb40(0x490)]:return _0x3804a1;case _0x3e31d1[_0x4deb40(0x425)]:default:return _0x288a74['id'];}}async function _0x2cd7ee(_0x3ee02d,_0x4bb06e,_0xf5b595,_0x931f76,_0x109635,_0x24b75e){const _0x2f3ad1=_0x5a8b1c,_0x3720a6=Date[_0x2f3ad1(0x744)]();var _0x3fc071;if(_0x931f76['accumulated']||(_0x931f76[_0x2f3ad1(0x1ba)]={}),_0xf5b595 instanceof Array?(_0x3fc071=_0xf5b595)[0x0]instanceof Array&&_0x2f3ad1(0x23e)==typeof _0x3fc071[0x0]?.[0x0]?_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x414)]=_0xf5b595:_0x931f76[_0x2f3ad1(0x1ba)]['index']=_0xf5b595:'string'==typeof _0xf5b595?_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x2fa)]=_0xf5b595:_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x186)]=_0xf5b595,_0x931f76[_0x2f3ad1(0x548)]=_0x931f76[_0x2f3ad1(0x548)]?_0x931f76[_0x2f3ad1(0x548)]+0x1:0x1,!(_0x5dc594(_0x931f76,_0x109635['ingestBlocks'])>_0x931f76[_0x2f3ad1(0x548)])){if(_0x2f3ad1(0x848)===_0x931f76['id']){if(!_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x960)]||!_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x414)]||!_0x931f76['accumulated'][_0x2f3ad1(0x186)])throw new Error(_0x2f3ad1(0x6f9));if(!_0x24b75e['ragConnector'])throw new Error(_0x2f3ad1(0xaaf));const _0x225e8f=[];for(let _0x461853=0x0;_0x461853<_0x931f76[_0x2f3ad1(0x1ba)]['index'][_0x2f3ad1(0xa39)];_0x461853++){const _0x69c6e3=_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x414)][_0x461853],_0x5c7c73=_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x960)][_0x461853];_0x225e8f['push']({'content':_0x69c6e3,'start':_0x5c7c73[_0x2f3ad1(0x3a0)],'length':_0x5c7c73[_0x2f3ad1(0xa39)]});}const _0x2e0b28=_0x4e11bf(_0x3ee02d,_0x109635);await _0x24b75e[_0x2f3ad1(0xaf7)]['ingestFile'](_0x2e0b28,_0x109635['id'],_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x186)][_0x2f3ad1(0xa87)],_0x225e8f);}else{if(!(_0x931f76['accumulated'][_0x2f3ad1(0x2fa)]&&_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x960)]&&_0x931f76[_0x2f3ad1(0x1ba)]['vectors']&&_0x931f76['accumulated']['file']))throw new Error(_0x2f3ad1(0x6f9));const _0x10eeb2=_0x24b75e['contentMediator'][_0x2f3ad1(0x9e8)](_0x931f76['id']);_0x10eeb2[_0x2f3ad1(0x15e)](_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x186)][_0x2f3ad1(0xa87)],_0x931f76['accumulated'][_0x2f3ad1(0x2fa)],_0x931f76['accumulated'][_0x2f3ad1(0x960)],_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x414)]),await _0x3f0782[_0x2f3ad1(0x981)]({'jobType':_0x4ec7f8[_0x2f3ad1(0x482)],'type':_0x3b3d88['VectorDatabase'],'jobId':_0x4bb06e,'blockId':_0x931f76['id'],'traceLevel':_0x1388f3['Debug'],'startTime':_0x3720a6,'timestamp':Date[_0x2f3ad1(0x744)](),'status':'success','databaseName':_0x10eeb2[_0x2f3ad1(0x1cb)](),'vectorsAdded':_0x931f76[_0x2f3ad1(0x1ba)][_0x2f3ad1(0x414)][_0x2f3ad1(0xa39)],'filePathName':_0x931f76['accumulated'][_0x2f3ad1(0x186)][_0x2f3ad1(0xa87)]});}}}async function _0x10515d(_0x4c7bf9,_0x3b5cbd,_0xb0433b,_0x126b88,_0x2b0826,_0x56d34d){const _0x194dd3=_0x5a8b1c,_0x3b0b1c=Date[_0x194dd3(0x744)]();let _0x33a4fd=[];if(_0xb0433b instanceof Array)for(const _0x1f2e03 of _0xb0433b){if(_0x194dd3(0x6e2)!=typeof _0x1f2e03[_0x194dd3(0x2fa)])throw new Error('Invalid\x20content\x20type');_0x33a4fd=_0x33a4fd[_0x194dd3(0x876)](_0x2c2f15(_0x1f2e03[_0x194dd3(0x2fa)],_0x126b88,_0x1f2e03[_0x194dd3(0x3a0)],_0x1f2e03[_0x194dd3(0xa39)]));}else _0x33a4fd=_0x2c2f15(_0xb0433b,_0x126b88);await _0x3f0782[_0x194dd3(0x981)]({'jobType':_0x4ec7f8['Ingest'],'type':_0x3b3d88[_0x194dd3(0x67f)],'jobId':_0x3b5cbd,'traceLevel':_0x1388f3[_0x194dd3(0x8b6)],'blockId':_0x126b88['id'],'startTime':_0x3b0b1c,'timestamp':Date['now'](),'status':'success','totalChunks':_0x33a4fd['length'],'averageChunkLength':_0x33a4fd['reduce']((_0xb85167,_0x1e68a8)=>_0xb85167+_0x1e68a8[_0x194dd3(0xa39)],0x0)/_0x33a4fd[_0x194dd3(0xa39)]}),await _0x13140b(_0x4c7bf9,_0x3b5cbd,_0x33a4fd,_0x126b88,_0x2b0826,_0x56d34d);}function _0x2c2f15(_0x3a4225,_0x2e5ecd,_0x2ec670,_0x2f9381){const _0x4b95ea=_0x5a8b1c,_0x2e329b=[],_0x1451cb=_0x3a4225[_0x4b95ea(0x8ed)]('\x20');let _0x5e76d8='',_0x45f3d2=-0x1,_0x20426a=0x0,_0x349e1f=0x0;for(const _0x196dde of _0x1451cb){if(_0x5e76d8[_0x4b95ea(0xa39)]+_0x196dde['length']>_0x2e5ecd[_0x4b95ea(0x347)][_0x4b95ea(0xaf1)]){const _0x14bd43=_0x5e76d8[_0x4b95ea(0xa39)];let _0x5a6385=_0x45f3d2,_0x214499='';for(;_0x5a6385>=0x0&&_0x214499[_0x4b95ea(0xa39)]+_0x1451cb[_0x5a6385][_0x4b95ea(0xa39)]<_0x2e5ecd[_0x4b95ea(0x347)][_0x4b95ea(0x85f)];)_0x214499=_0x1451cb[_0x5a6385]+'\x20'+_0x214499,_0x5a6385--;let _0x500024=_0x20426a,_0x1011b2='';for(;_0x500024<_0x1451cb[_0x4b95ea(0xa39)]&&_0x1011b2[_0x4b95ea(0xa39)]+_0x1451cb[_0x500024][_0x4b95ea(0xa39)]<_0x2e5ecd[_0x4b95ea(0x347)][_0x4b95ea(0x85f)];)_0x1011b2+=_0x1451cb[_0x500024]+'\x20',_0x500024++;_0x5e76d8=_0x214499+_0x5e76d8+_0x1011b2,_0x2e329b[_0x4b95ea(0x3a9)]({'content':_0x5e76d8[_0x4b95ea(0x265)](),'start':_0x2ec670??_0x349e1f,'length':_0x2f9381??_0x14bd43}),_0x5e76d8='',_0x45f3d2=_0x20426a-0x1,_0x349e1f+=_0x14bd43;}_0x5e76d8+=_0x196dde+'\x20',_0x20426a++;}if(_0x5e76d8[_0x4b95ea(0xa39)]>0x0){const _0x11019f=_0x5e76d8['length'];let _0xc7f0b6=_0x45f3d2,_0x2af942='';for(;_0xc7f0b6>=0x0&&_0x2af942[_0x4b95ea(0xa39)]+_0x1451cb[_0xc7f0b6]['length']<_0x2e5ecd['attributes']['overlap'];)_0x2af942=_0x1451cb[_0xc7f0b6]+'\x20'+_0x2af942,_0xc7f0b6--;_0x5e76d8=_0x2af942+_0x5e76d8,_0x2e329b[_0x4b95ea(0x3a9)]({'content':_0x5e76d8[_0x4b95ea(0x265)](),'start':_0x2ec670??_0x349e1f,'length':_0x2f9381??_0x11019f});}return _0x2e329b;}async function _0x13140b(_0x44ddfa,_0xea585f,_0x7f595f,_0xf1709b,_0x2ffc6c,_0x53b833){const _0x5d256a=_0x5a8b1c;for(const _0x3521ab of _0xf1709b['links']||[]){const _0x44912d=_0x2ffc6c[_0x5d256a(0x616)][_0x5d256a(0x5dd)](_0x40f360=>_0x40f360[_0x5d256a(0x966)]===_0x3521ab[_0x5d256a(0x966)]);if(_0x44912d)switch(_0x44912d[_0x5d256a(0x2a5)]){case _0x18ee4f[_0x5d256a(0x2fd)]:_0x3521ab[_0x5d256a(0x2a5)]===_0x722880['Text']&&'string'==typeof _0x7f595f&&await _0x19431c(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);break;case _0x18ee4f[_0x5d256a(0x215)]:_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0x517)]&&'string'==typeof _0x7f595f&&await _0x328f1f(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0xb01)]&&_0x7f595f instanceof Array&&await _0x328f1f(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);break;case _0x18ee4f[_0x5d256a(0x159)]:_0x3521ab['type']===_0x722880[_0x5d256a(0x9a2)]&&await _0x5d0162(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);break;case _0x18ee4f[_0x5d256a(0x4a7)]:if(_0x3521ab[_0x5d256a(0x2a5)]===_0x722880['Index']&&_0x7f595f instanceof Array){if(!_0x2ffc6c[_0x5d256a(0x611)])throw new Error(_0x5d256a(0xb16));const _0x5623ff={'type':_0x18ee4f[_0x5d256a(0x2de)],'id':_0x2ffc6c['modelId'],'uid':(0x0,_0x4804e8['v4'])(),'links':_0x44912d['links']};await _0x553900(_0x44ddfa,_0xea585f,_0x7f595f,_0x5623ff,_0x2ffc6c,_0x53b833);}break;case _0x18ee4f[_0x5d256a(0xad3)]:_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0xb01)]&&_0x7f595f instanceof Array&&await _0xe92146(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);break;case _0x18ee4f['GraphDatabase']:_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0x517)]&&_0x5d256a(0x6e2)==typeof _0x7f595f&&await _0x11f1b7(_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab['type']===_0x722880[_0x5d256a(0xb01)]&&_0x7f595f instanceof Array&&await _0x11f1b7(_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0x7a1)]&&_0x7f595f instanceof Set&&await _0x11f1b7(_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab['type']===_0x722880[_0x5d256a(0x542)]&&_0x7f595f instanceof Map&&await _0x11f1b7(_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0x9a2)]&&await _0x11f1b7(_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);break;case _0x18ee4f['Model']:_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0x517)]&&_0x5d256a(0x6e2)==typeof _0x7f595f&&await _0x553900(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab['type']===_0x722880[_0x5d256a(0xb01)]&&_0x7f595f instanceof Array&&await _0x553900(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);break;case _0x18ee4f[_0x5d256a(0x157)]:_0x3521ab['type']===_0x722880[_0x5d256a(0xb01)]&&_0x7f595f instanceof Array&&await _0x1658da(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab['type']===_0x722880[_0x5d256a(0x7a1)]&&_0x7f595f instanceof Set&&await _0x1658da(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);break;case _0x18ee4f[_0x5d256a(0xa89)]:_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0x517)]&&'string'==typeof _0x7f595f&&await _0x433559(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0xb01)]&&_0x7f595f instanceof Array&&await _0x433559(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);break;case _0x18ee4f[_0x5d256a(0x653)]:_0x3521ab[_0x5d256a(0x2a5)]===_0x722880['Text']&&_0x5d256a(0x6e2)==typeof _0x7f595f&&await _0x2cd7ee(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab[_0x5d256a(0x2a5)]===_0x722880['Index']&&_0x7f595f instanceof Array&&await _0x2cd7ee(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab[_0x5d256a(0x2a5)]===_0x722880[_0x5d256a(0x3b8)]&&_0x7f595f instanceof Array&&await _0x2cd7ee(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab[_0x5d256a(0x2a5)]===_0x722880['File']&&await _0x2cd7ee(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);break;case _0x18ee4f[_0x5d256a(0x67f)]:_0x3521ab[_0x5d256a(0x2a5)]===_0x722880['Text']&&_0x5d256a(0x6e2)==typeof _0x7f595f&&await _0x10515d(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833),_0x3521ab[_0x5d256a(0x2a5)]===_0x722880['Index']&&_0x7f595f instanceof Array&&await _0x10515d(_0x44ddfa,_0xea585f,_0x7f595f,_0x44912d,_0x2ffc6c,_0x53b833);}}}function _0x5dc594(_0x3e56f7,_0x6cbf12){const _0x5e19b7=_0x5a8b1c;return _0x6cbf12[_0x5e19b7(0x930)](_0x3fddca=>_0x3fddca[_0x5e19b7(0x1ce)]?.[_0x5e19b7(0x707)](_0x3c29f7=>_0x3c29f7[_0x5e19b7(0x966)]===_0x3e56f7['uid']))[_0x5e19b7(0xa39)];}async function _0x597247(_0x51fa86,_0x2a8e90,_0x8183e6,_0x3faa51,_0x3a74b2,_0x10c998,_0xcc8280){const _0xd5a7ca=_0x5a8b1c;try{let _0x593d65;switch(_0x3a74b2['type']){case _0x18ee4f[_0xd5a7ca(0x4c1)]:const _0x285b66=_0xcc8280[_0xd5a7ca(0x5df)]['getObjectStoreBucket'](_0x3a74b2['id']);_0x593d65=await _0x285b66['get'](_0x8183e6);break;case _0x18ee4f[_0xd5a7ca(0x4db)]:const _0x16c80a=_0xcc8280['contentMediator']['getExternalStorageConnection'](_0x3a74b2['id']);_0x593d65=await _0x16c80a[_0xd5a7ca(0x8a4)](_0x8183e6);case _0x18ee4f['Upload']:const _0xfb337c=_0x8183e6[_0xd5a7ca(0x8ed)]('/')['pop']();if(!_0xfb337c)throw new Error(_0xd5a7ca(0x7ee));const _0x32a2c5=_0x8183e6['replace'](_0xfb337c,''),_0x475136=Buffer[_0xd5a7ca(0x47c)](_0x3faa51,_0xd5a7ca(0x46b));if(_0x593d65=new File([_0x475136],_0xfb337c),!_0xcc8280[_0xd5a7ca(0x754)])throw new Error(_0xd5a7ca(0x81b));await _0xcc8280['objectStoreConnector'][_0xd5a7ca(0x390)](_0x593d65,_0x32a2c5);}if(!_0x593d65)throw new Error(_0xd5a7ca(0x3bd));await _0x13140b(_0x51fa86,_0x2a8e90,{'file':_0x593d65,'pathName':_0x8183e6},_0x3a74b2,structuredClone(_0x10c998),_0xcc8280);}catch(_0x3ce86f){console['error']('Error\x20processing\x20ingest',_0x3ce86f);}}async function _0x595b5c(_0x2ccaec,_0x583105,_0x17d9f9,_0x2285cd,_0x3ef6a0,_0x153092,_0x3c3aa2,_0x497c23){const _0x5a95ae=_0x5a8b1c,_0x2899d6=Date[_0x5a95ae(0x744)](),_0x40040c=new Set();if(_0x2285cd instanceof Array){for(const _0x2e6844 of _0x2285cd)await _0x1cbde1(_0x2e6844[_0x5a95ae(0x2fa)],_0x153092,_0x40040c,_0x497c23[_0x5a95ae(0x25d)]);}else await _0x1cbde1(_0x2285cd,_0x153092,_0x40040c,_0x497c23[_0x5a95ae(0x25d)]);await _0x3f0782[_0x5a95ae(0x981)]({'jobType':_0x4ec7f8['Retrieve'],'type':_0xcd22a7[_0x5a95ae(0xad3)],'jobId':_0x583105,'threadId':_0x17d9f9,'blockId':_0x153092['id'],'traceLevel':_0x1388f3[_0x5a95ae(0x8b6)],'startTime':_0x2899d6,'timestamp':Date[_0x5a95ae(0x744)](),'status':_0x5a95ae(0x4cf),'content':_0x2285cd,'entitiesExtracted':Array['from'](_0x40040c),'totalEntities':_0x40040c[_0x5a95ae(0xaf1)]}),await _0x3cb968(_0x2ccaec,_0x583105,_0x17d9f9,_0x40040c,_0x3ef6a0,_0x153092,_0x3c3aa2,_0x497c23);}async function _0x1cbde1(_0x4d4232,_0x41f8bc,_0xa3b728,_0x1e4504){const _0x2969cb=_0x5a8b1c,_0x30e792=await _0x1e4504['getEntities'](_0x4d4232,{'ner':_0x41f8bc[_0x2969cb(0x347)][_0x2969cb(0xa74)],'noun':_0x41f8bc[_0x2969cb(0x347)][_0x2969cb(0x4cc)],'propn':_0x41f8bc[_0x2969cb(0x347)]['propn'],'verb':_0x41f8bc[_0x2969cb(0x347)][_0x2969cb(0x224)]});for(const _0x597fca of _0x30e792)_0xa3b728['add'](_0x597fca);}async function _0x22bdb9(_0x24badb,_0x5b24a5,_0xf3c750,_0x3403ff,_0x5266da,_0x2d1053,_0x7615b4,_0x1d2bb3){const _0xf697e0=_0x5a8b1c,_0xdf3215=Date[_0xf697e0(0x744)]();if(_0x2d1053['accumulated']||(_0x2d1053['accumulated']={}),_0x3403ff instanceof Array?(_0x2d1053[_0xf697e0(0x1ba)][_0xf697e0(0x4aa)]||(_0x2d1053['accumulated'][_0xf697e0(0x4aa)]=[]),_0x2d1053['accumulated'][_0xf697e0(0x4aa)][_0xf697e0(0x3a9)](..._0x3403ff)):_0x3403ff instanceof Set?_0x2d1053[_0xf697e0(0x1ba)][_0xf697e0(0x457)]=_0x3403ff:_0x2d1053[_0xf697e0(0x1ba)][_0xf697e0(0x7ed)]=_0x3403ff,_0x2d1053['timesCalled']=_0x2d1053[_0xf697e0(0x548)]?_0x2d1053[_0xf697e0(0x548)]+0x1:0x1,_0x4e4023(_0x2d1053,_0x7615b4[_0xf697e0(0x1b3)])>_0x2d1053['timesCalled'])return;if(!_0x2d1053[_0xf697e0(0x1ba)][_0xf697e0(0x7ed)]&&!_0x2d1053[_0xf697e0(0x1ba)]['results']||!_0x2d1053[_0xf697e0(0x1ba)]['entities'])throw new Error(_0xf697e0(0x176));const _0x545b3c=_0x1d2bb3[_0xf697e0(0x5df)]['getGraphDatabase'](_0x2d1053['id'])[_0xf697e0(0x3e8)](Array[_0xf697e0(0x47c)](_0x2d1053[_0xf697e0(0x1ba)][_0xf697e0(0x457)]),_0x2d1053[_0xf697e0(0x347)]['maxDepth'],_0x2d1053[_0xf697e0(0x347)]['contentSize']);let _0xbe8c96=[];for(const _0x19d0ac in _0x545b3c){const _0x3061d6=_0x545b3c[_0x19d0ac];for(const _0x2d7c41 of _0x3061d6){let _0x4bd5e8=0x0;if(_0x2d1053[_0xf697e0(0x1ba)]['prompt']&&(_0x4bd5e8=await _0x1d2bb3[_0xf697e0(0x25d)][_0xf697e0(0x6a4)](_0x2d1053['accumulated'][_0xf697e0(0x7ed)],_0x2d7c41)),_0x2d1053[_0xf697e0(0x1ba)][_0xf697e0(0x4aa)]){for(const _0x7c4d15 of _0x2d1053[_0xf697e0(0x1ba)]['results'])_0x4bd5e8=Math['max'](_0x4bd5e8,await _0x1d2bb3[_0xf697e0(0x25d)]['getSimilarity'](_0x7c4d15[_0xf697e0(0x2fa)],_0x2d7c41));}_0x4bd5e8<_0x2d1053[_0xf697e0(0x347)][_0xf697e0(0x1d1)]||_0xbe8c96[_0xf697e0(0x3a9)]({'content':_0x2d7c41,'relevance':_0x4bd5e8,'pathName':_0x19d0ac});}}_0xbe8c96=_0xbe8c96[_0xf697e0(0x7e3)]((_0x32a799,_0x3e48de)=>_0x3e48de[_0xf697e0(0xa3b)]-_0x32a799['relevance'])[_0xf697e0(0x1ca)](0x0,_0x2d1053[_0xf697e0(0x347)]['topK']),await _0x3f0782[_0xf697e0(0x981)]({'jobType':_0x4ec7f8[_0xf697e0(0x9bc)],'type':_0xcd22a7['GraphSearch'],'jobId':_0x5b24a5,'threadId':_0xf3c750,'blockId':_0x2d1053['id'],'traceLevel':_0x1388f3[_0xf697e0(0x8b6)],'timestamp':Date['now'](),'startTime':_0xdf3215,'status':_0xf697e0(0x4cf),'content':_0x3403ff,'topResults':_0xbe8c96,'numResults':_0xbe8c96['length']}),await _0x3cb968(_0x24badb,_0x5b24a5,_0xf3c750,_0xbe8c96,_0x5266da,_0x2d1053,_0x7615b4,_0x1d2bb3);}async function _0x20c96e(_0x3f85d0,_0x4bbaad,_0x4a1195,_0x712e1a,_0x50248a,_0x20c5f8,_0x2ab983,_0x1f9c30){const _0xde158e=_0x5a8b1c,_0x9b5ab3=_0x1f9c30['models'][_0xde158e(0x5dd)](_0x5d22d9=>_0x5d22d9['id']===_0x20c5f8['id']);if(!_0x9b5ab3)throw new Error(_0xde158e(0x156));let _0x382ba0='';switch(_0x382ba0=_0x712e1a instanceof Array?_0x712e1a[_0xde158e(0x3d5)](_0x4b97d5=>_0x4b97d5[_0xde158e(0x2fa)])['join'](',\x20'):_0x712e1a,_0x9b5ab3['outputType']){case _0x52baed[_0xde158e(0x921)][_0xde158e(0x517)]:await async function(_0x1b9d96,_0x1b9eb1,_0x2528b1,_0x440aa5,_0x86dec6,_0x927848,_0x4800c1,_0x52e4e9,_0x389465){const _0x15ceee=_0xde158e,_0x2f02e9=Date[_0x15ceee(0x744)](),_0xbb484b=await fetch(_0x12ca2b[_0x15ceee(0x306)]+_0x15ceee(0x19b),{'method':_0x15ceee(0x8f2),'headers':{'Content-Type':'application/json','x-vendor-id':_0x1b9d96},'body':JSON[_0x15ceee(0x2ed)]({'messages':[{'role':_0x15ceee(0xb24),'content':_0x440aa5}],'model':_0x927848['id']})}),_0x4055f0=(await _0xbb484b['json']())[_0x15ceee(0x8b7)][0x0][_0x15ceee(0x421)][_0x15ceee(0x2fa)];await _0x3f0782[_0x15ceee(0x981)]({'jobType':_0x4ec7f8[_0x15ceee(0x9bc)],'type':_0xcd22a7['ModelText'],'jobId':_0x1b9eb1,'threadId':_0x2528b1,'blockId':_0x4800c1['id'],'traceLevel':_0x1388f3[_0x15ceee(0x8b6)],'startTime':_0x2f02e9,'timestamp':Date[_0x15ceee(0x744)](),'status':_0x15ceee(0x4cf),'modelName':_0x927848['id'],'content':_0x440aa5,'newPrompt':_0x4055f0,'inputType':_0x927848[_0x15ceee(0xab9)],'outputType':_0x927848[_0x15ceee(0x78a)]}),await _0x3cb968(_0x1b9d96,_0x1b9eb1,_0x2528b1,_0x4055f0,_0x86dec6,_0x4800c1,_0x52e4e9,_0x389465);}(_0x3f85d0,_0x4bbaad,_0x4a1195,_0x382ba0,_0x50248a,_0x9b5ab3,_0x20c5f8,_0x2ab983,_0x1f9c30);break;case _0x52baed[_0xde158e(0x921)]['Vector']:await async function(_0x34576b,_0x3545c4,_0x4ba30b,_0x5a6300,_0x55e810,_0x25c4d4,_0x25bf6e,_0x334694,_0x5690fe){const _0x42bcea=_0xde158e,_0x56b893=Date[_0x42bcea(0x744)](),_0x2aad86=await fetch(_0x12ca2b[_0x42bcea(0x306)]+_0x42bcea(0x6a5),{'method':_0x42bcea(0x8f2),'headers':{'Content-Type':_0x42bcea(0x9b0),'x-vendor-id':_0x34576b},'body':JSON[_0x42bcea(0x2ed)]({'input':_0x5a6300,'model':_0x25c4d4['id']})}),_0x30eed7=(await _0x2aad86[_0x42bcea(0x751)]())['data'][0x0]['embedding'];await _0x3f0782[_0x42bcea(0x981)]({'jobType':_0x4ec7f8[_0x42bcea(0x9bc)],'type':_0xcd22a7[_0x42bcea(0xb2f)],'jobId':_0x3545c4,'threadId':_0x4ba30b,'blockId':_0x25bf6e['id'],'traceLevel':_0x1388f3['Debug'],'startTime':_0x56b893,'timestamp':Date['now'](),'status':_0x42bcea(0x4cf),'modelName':_0x25c4d4['id'],'content':_0x5a6300,'totalVectors':_0x30eed7[_0x42bcea(0xa39)]}),await _0x3cb968(_0x34576b,_0x3545c4,_0x4ba30b,_0x30eed7,_0x55e810,_0x25bf6e,_0x334694,_0x5690fe);}(_0x3f85d0,_0x4bbaad,_0x4a1195,_0x382ba0,_0x50248a,_0x9b5ab3,_0x20c5f8,_0x2ab983,_0x1f9c30);}}async function _0x4c1aee(_0x4a48d9,_0x5acb45,_0x40ebfc,_0x16da84,_0x4959c6,_0x506d8d,_0x478c5b,_0x48e77c){const _0x2ddcfc=_0x5a8b1c,_0x5f1f6c=Date[_0x2ddcfc(0x744)]();if(_0x506d8d[_0x2ddcfc(0x1ba)]||(_0x506d8d[_0x2ddcfc(0x1ba)]={}),_0x16da84 instanceof Array?(_0x506d8d[_0x2ddcfc(0x1ba)][_0x2ddcfc(0x4aa)]||(_0x506d8d[_0x2ddcfc(0x1ba)][_0x2ddcfc(0x4aa)]=[]),_0x506d8d['accumulated'][_0x2ddcfc(0x4aa)][_0x2ddcfc(0x3a9)](..._0x16da84)):_0x506d8d[_0x2ddcfc(0x1ba)][_0x2ddcfc(0x7ed)]=_0x16da84,_0x506d8d[_0x2ddcfc(0x548)]=_0x506d8d[_0x2ddcfc(0x548)]?_0x506d8d[_0x2ddcfc(0x548)]+0x1:0x1,_0x4e4023(_0x506d8d,_0x478c5b['retrieveBlocks'])>_0x506d8d[_0x2ddcfc(0x548)])return;if(!_0x506d8d[_0x2ddcfc(0x1ba)][_0x2ddcfc(0x7ed)]||!_0x506d8d[_0x2ddcfc(0x1ba)][_0x2ddcfc(0x4aa)])throw new Error(_0x2ddcfc(0xa72));for(const _0x4701e7 of _0x506d8d[_0x2ddcfc(0x1ba)][_0x2ddcfc(0x4aa)])_0x4701e7[_0x2ddcfc(0xa3b)]=await _0x48e77c[_0x2ddcfc(0x25d)][_0x2ddcfc(0x6a4)](_0x506d8d[_0x2ddcfc(0x1ba)][_0x2ddcfc(0x7ed)],_0x4701e7['content']);const _0x436799=_0x506d8d[_0x2ddcfc(0x1ba)][_0x2ddcfc(0x4aa)][_0x2ddcfc(0x930)](_0x45e9c5=>_0x45e9c5[_0x2ddcfc(0xa3b)]>_0x506d8d['attributes']['minRelevance'])[_0x2ddcfc(0x7e3)]((_0x3011da,_0xd1458d)=>_0xd1458d[_0x2ddcfc(0xa3b)]-_0x3011da['relevance'])[_0x2ddcfc(0x1ca)](0x0,_0x506d8d[_0x2ddcfc(0x347)][_0x2ddcfc(0x1d2)]);await _0x3f0782[_0x2ddcfc(0x981)]({'jobType':_0x4ec7f8[_0x2ddcfc(0x9bc)],'type':_0xcd22a7['Reranker'],'jobId':_0x5acb45,'threadId':_0x40ebfc,'blockId':_0x506d8d['id'],'traceLevel':_0x1388f3[_0x2ddcfc(0x8b6)],'startTime':_0x5f1f6c,'timestamp':Date[_0x2ddcfc(0x744)](),'status':'success','inputResults':_0x506d8d[_0x2ddcfc(0x1ba)][_0x2ddcfc(0x4aa)],'rerankedResults':_0x436799}),await _0x3cb968(_0x4a48d9,_0x5acb45,_0x40ebfc,_0x436799,_0x4959c6,_0x506d8d,_0x478c5b,_0x48e77c);}async function _0x204726(_0x4f9abe,_0xdd3a9d,_0x5e00a9,_0x18d88a,_0x38bab9,_0x1e6d40,_0x396690,_0x469c49){const _0x49f83c=_0x5a8b1c,_0x445440=Date[_0x49f83c(0x744)]();if(_0x1e6d40[_0x49f83c(0x1ba)]||(_0x1e6d40[_0x49f83c(0x1ba)]={}),_0x18d88a instanceof Array?_0x1e6d40[_0x49f83c(0x1ba)][_0x49f83c(0x9c8)]=_0x18d88a:_0x1e6d40[_0x49f83c(0x1ba)][_0x49f83c(0x2fa)]=_0x18d88a,_0x1e6d40[_0x49f83c(0x548)]=_0x1e6d40[_0x49f83c(0x548)]?_0x1e6d40['timesCalled']+0x1:0x1,!(_0x4e4023(_0x1e6d40,_0x396690[_0x49f83c(0x1b3)])>_0x1e6d40[_0x49f83c(0x548)])){if(_0x49f83c(0x848)===_0x1e6d40['id']){if(!_0x1e6d40[_0x49f83c(0x1ba)][_0x49f83c(0x9c8)])throw new Error(_0x49f83c(0x6f9));if(!_0x469c49['ragConnector'])throw new Error(_0x49f83c(0xaaf));const _0x2977cd=_0x4e11bf(_0x4f9abe,_0x396690);let _0x599fa1=await _0x469c49[_0x49f83c(0xaf7)]?.[_0x49f83c(0x2b3)](_0x2977cd,_0x396690['id'],_0x1e6d40[_0x49f83c(0x1ba)][_0x49f83c(0x9c8)],_0x1e6d40[_0x49f83c(0x347)][_0x49f83c(0x1d2)]);_0x599fa1=_0x599fa1[_0x49f83c(0x930)](_0x3b01bf=>_0x3b01bf['relevance']>_0x1e6d40[_0x49f83c(0x347)][_0x49f83c(0x1d1)])||[];const _0x102851=[];for(const _0x39f51b of _0x599fa1){if(!_0x469c49[_0x49f83c(0x754)])throw new Error(_0x49f83c(0x450));if(void 0x0===_0x39f51b[_0x49f83c(0x3a0)]||void 0x0===_0x39f51b['length'])throw new Error(_0x49f83c(0x41b));const _0x2acbb0=await _0x469c49[_0x49f83c(0x754)][_0x49f83c(0x8a4)](_0x39f51b[_0x49f83c(0xa87)]);let _0x3c243e='';if(_0x2acbb0['type']['startsWith'](_0x49f83c(0x2f4))||_0x5f1914(_0x2acbb0[_0x49f83c(0x45a)],_0x5eac4a))_0x3c243e=await _0x2acbb0['text']();else{if(!_0x469c49[_0x49f83c(0x748)]['supports'](_0x2acbb0))throw new Error(_0x49f83c(0x45f)+_0x2acbb0['type']+_0x49f83c(0xade)+_0x2acbb0['name']);_0x3c243e=await _0x469c49['documentParserConnector'][_0x49f83c(0x85b)](_0x2acbb0);}_0x102851[_0x49f83c(0x3a9)]({'pathName':_0x39f51b[_0x49f83c(0xa87)],'content':_0x3c243e['substring'](_0x39f51b[_0x49f83c(0x3a0)],_0x39f51b[_0x49f83c(0x3a0)]+_0x39f51b[_0x49f83c(0xa39)]),'relevance':_0x39f51b[_0x49f83c(0xa3b)]});}await _0x3cb968(_0x4f9abe,_0xdd3a9d,_0x5e00a9,_0x102851,_0x38bab9,_0x1e6d40,_0x396690,_0x469c49);}else{if(!_0x1e6d40['accumulated'][_0x49f83c(0x9c8)]||!_0x1e6d40[_0x49f83c(0x1ba)][_0x49f83c(0x2fa)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x28f2e7=await _0x469c49[_0x49f83c(0x25d)]['getEntities'](_0x1e6d40[_0x49f83c(0x1ba)]['content'],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x25d56d=_0x469c49[_0x49f83c(0x5df)][_0x49f83c(0x9e8)](_0x1e6d40['id'])[_0x49f83c(0x280)](_0x28f2e7,_0x1e6d40['accumulated'][_0x49f83c(0x9c8)],_0x1e6d40['attributes'][_0x49f83c(0x1d2)],_0x1e6d40[_0x49f83c(0x347)][_0x49f83c(0x1d1)],_0x1e6d40[_0x49f83c(0x347)][_0x49f83c(0x698)]);await _0x3f0782['trace']({'jobType':_0x4ec7f8['Retrieve'],'type':_0xcd22a7['VectorSearch'],'jobId':_0xdd3a9d,'threadId':_0x5e00a9,'blockId':_0x1e6d40['id'],'traceLevel':_0x1388f3[_0x49f83c(0x8b6)],'startTime':_0x445440,'timestamp':Date[_0x49f83c(0x744)](),'status':_0x49f83c(0x4cf),'topResults':_0x25d56d,'numResults':_0x25d56d['length']}),await _0x3cb968(_0x4f9abe,_0xdd3a9d,_0x5e00a9,_0x25d56d,_0x38bab9,_0x1e6d40,_0x396690,_0x469c49);}}}async function _0x3cb968(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x24158a,_0xb8ceed,_0x1be16f){const _0x3d6ab3=_0x5a8b1c;for(const _0x3f9945 of _0x24158a['links']||[]){const _0x36deb8=_0xb8ceed[_0x3d6ab3(0x1b3)][_0x3d6ab3(0x5dd)](_0x53cc07=>_0x53cc07['uid']===_0x3f9945['uid']);if(_0x36deb8)switch(_0x36deb8[_0x3d6ab3(0x2a5)]){case _0x18ee4f[_0x3d6ab3(0x6d1)]:_0x3f9945[_0x3d6ab3(0x2a5)]===_0x722880[_0x3d6ab3(0x1eb)]&&_0x58347e instanceof Array&&_0xefe2ea[_0x3d6ab3(0x826)]['push'](..._0x58347e);break;case _0x18ee4f['Embed']:if(_0x3f9945[_0x3d6ab3(0x2a5)]===_0x722880[_0x3d6ab3(0x517)]&&_0x3d6ab3(0x6e2)==typeof _0x58347e){if(!_0xb8ceed[_0x3d6ab3(0x611)])throw new Error(_0x3d6ab3(0xb16));const _0x135830={'type':_0x18ee4f[_0x3d6ab3(0x2de)],'id':_0xb8ceed[_0x3d6ab3(0x611)],'uid':(0x0,_0x4804e8['v4'])(),'links':_0x36deb8[_0x3d6ab3(0x1ce)]};await _0x20c96e(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x135830,_0xb8ceed,_0x1be16f);}break;case _0x18ee4f['EntityExtractor']:_0x3f9945[_0x3d6ab3(0x2a5)]===_0x722880[_0x3d6ab3(0x517)]&&_0x3d6ab3(0x6e2)==typeof _0x58347e&&await _0x595b5c(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f),_0x3f9945[_0x3d6ab3(0x2a5)]===_0x722880[_0x3d6ab3(0x1eb)]&&_0x58347e instanceof Array&&await _0x595b5c(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f);break;case _0x18ee4f[_0x3d6ab3(0x820)]:_0x3f9945[_0x3d6ab3(0x2a5)]===_0x722880[_0x3d6ab3(0x517)]&&_0x3d6ab3(0x6e2)==typeof _0x58347e&&await _0x22bdb9(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f),_0x3f9945['type']===_0x722880[_0x3d6ab3(0x1eb)]&&_0x58347e instanceof Array&&await _0x22bdb9(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f),_0x3f9945[_0x3d6ab3(0x2a5)]===_0x722880[_0x3d6ab3(0x7a1)]&&_0x58347e instanceof Set&&await _0x22bdb9(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f);break;case _0x18ee4f[_0x3d6ab3(0x2de)]:_0x3f9945['type']===_0x722880[_0x3d6ab3(0x517)]&&_0x3d6ab3(0x6e2)==typeof _0x58347e&&await _0x20c96e(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f),_0x3f9945[_0x3d6ab3(0x2a5)]===_0x722880[_0x3d6ab3(0x1eb)]&&_0x58347e instanceof Array&&await _0x20c96e(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f);break;case _0x18ee4f[_0x3d6ab3(0x289)]:_0x3f9945[_0x3d6ab3(0x2a5)]===_0x722880[_0x3d6ab3(0x517)]&&_0x3d6ab3(0x6e2)==typeof _0x58347e&&await _0x4c1aee(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f),_0x3f9945[_0x3d6ab3(0x2a5)]===_0x722880['Search']&&_0x58347e instanceof Array&&await _0x4c1aee(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f);break;case _0x18ee4f[_0x3d6ab3(0x653)]:_0x3f9945['type']===_0x722880['Text']&&'string'==typeof _0x58347e&&await _0x204726(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f),_0x3f9945['type']===_0x722880[_0x3d6ab3(0x3b8)]&&_0x58347e instanceof Array&&await _0x204726(_0x2f9b02,_0x31a750,_0x34498d,_0x58347e,_0xefe2ea,_0x36deb8,_0xb8ceed,_0x1be16f);}}}function _0x4e4023(_0x4ad8fb,_0x3ac61f){const _0x394479=_0x5a8b1c;return _0x3ac61f['filter'](_0x3348eb=>_0x3348eb[_0x394479(0x1ce)]?.[_0x394479(0x707)](_0x2dd2b2=>_0x2dd2b2['uid']===_0x4ad8fb['uid']))[_0x394479(0xa39)];}async function _0x3e691c(_0x41188c,_0x4a02ef,_0x2db893,_0x1b5cc3,_0x27e03a,_0x2f7090,_0x294396){const _0x511e7e=_0x5a8b1c,_0x6b8c4e={'type':'prompt','output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x1a67ef;await _0x3cb968(_0x41188c,_0x4a02ef,_0x2db893,_0x1b5cc3,_0x6b8c4e,_0x27e03a,structuredClone(_0x2f7090),_0x294396),_0x6b8c4e[_0x511e7e(0x826)][_0x511e7e(0x8a0)]((_0x15276a,_0x445822)=>_0x15276a+_0x445822[_0x511e7e(0x2fa)]['length'],0x0)>_0x5bffa0&&(_0x1a67ef=Math[_0x511e7e(0x65d)](_0x5bffa0/_0x6b8c4e[_0x511e7e(0x826)][_0x511e7e(0xa39)])),_0x6b8c4e[_0x511e7e(0xadd)]='Additional\x20context:\x0a'+_0x6b8c4e[_0x511e7e(0x826)]['map'](_0x28dc52=>_0x511e7e(0x3b3)+_0x28dc52['pathName']+':\x20'+_0x28dc52[_0x511e7e(0x2fa)]['substring'](0x0,_0x1a67ef))[_0x511e7e(0x59d)]('\x0a');}catch(_0x1d0c0e){console[_0x511e7e(0x5fb)]('Error\x20processing\x20retrieve',_0x1d0c0e);}return _0x6b8c4e;}class _0x57cd59 extends _0xc559de{['contentMediator'];['generativeAIWorkerConnectors'];[_0x5a8b1c(0x754)];[_0x5a8b1c(0x748)];['fileConnector'];[_0x5a8b1c(0x25d)];[_0x5a8b1c(0x5ed)];[_0x5a8b1c(0xab2)];['queryFileConnector'];[_0x5a8b1c(0x286)];['openAIKey'];['dataStores']=new Map();[_0x5a8b1c(0x89b)]=_0x2b0020;[_0x5a8b1c(0x709)];['prompts']=0x0;[_0x5a8b1c(0x3d2)]=0x0;[_0x5a8b1c(0x57d)]=!0x1;constructor(_0xfd0930,_0x320258,_0x3f22ee,_0x5862ef,_0x22f83b,_0x203286,_0x2e28aa,_0x4b7cf1,_0x3cbb8b,_0x5aa448,_0x474a17,_0x5823e8,_0x382af7,_0x3e9d99){const _0x27613c=_0x5a8b1c;super(_0xfd0930,_0x320258,_0x3f22ee),this[_0x27613c(0x5df)]=_0x5862ef,this[_0x27613c(0xb3f)]=_0x22f83b,this[_0x27613c(0x754)]=_0x203286,this[_0x27613c(0x748)]=_0x2e28aa,this['fileConnector']=_0x4b7cf1,this[_0x27613c(0x25d)]=_0x3cbb8b,this[_0x27613c(0x5ed)]=_0x5aa448,this[_0x27613c(0xab2)]=_0x474a17,this['queryFileConnector']=_0x5823e8,this['ragConnectors']=_0x382af7,this['openAIKey']=_0x3e9d99;}async['destroy'](){const _0x3f681f=_0x5a8b1c;for(const _0xb31ea8 of this[_0x3f681f(0xb3f)])await _0xb31ea8[_0x3f681f(0x494)]();this['dataStores']['forEach'](_0x116b6d=>_0x116b6d[_0x3f681f(0xa68)](this[_0x3f681f(0x19f)])),this[_0x3f681f(0x709)]&&(clearTimeout(this[_0x3f681f(0x709)]),delete this[_0x3f681f(0x709)]),super['destroy']();}async[_0x5a8b1c(0x275)](_0x52d8f3=!0x1){const _0x322b0a=_0x5a8b1c;if(this[_0x322b0a(0x57d)])super['open']();else{_0x241131[_0x322b0a(0x3f4)](_0x322b0a(0x57f),this[_0x322b0a(0x19f)]);try{for(const _0x3ebab3 of this[_0x322b0a(0xb3f)])await _0x3ebab3[_0x322b0a(0x8a5)](this['label'],this[_0x322b0a(0x89b)]);}catch(_0x5d19cf){return this[_0x322b0a(0x275)](_0x52d8f3);}this['isOpened']=!0x0,this['sendStats'](),super['open'](),_0x241131[_0x322b0a(0x3f4)]('GenerativeAIWorker:\x20Opened',this[_0x322b0a(0x19f)]);}}[_0x5a8b1c(0xb32)](){const _0x3aebfa=_0x5a8b1c;this[_0x3aebfa(0x9f8)]=0x0,this[_0x3aebfa(0x3d2)]=0x0,this[_0x3aebfa(0x812)](),super[_0x3aebfa(0xb32)]();}[_0x5a8b1c(0xb0d)](){const _0x1df219=_0x5a8b1c;return this[_0x1df219(0x812)](),this[_0x1df219(0x42d)]();}['compileStats'](_0xbe1308,_0x4feb06,_0x4debcd){const _0xf0d400=_0x5a8b1c,{outputTokens:_0x1c1f70=0x0,output:_0x55e1d7=''}=_0xbe1308,_0x4fe871=_0x1c1f70/((_0x4debcd-_0x4feb06)/0x3e8);this['prompts']+=0x1,this[_0xf0d400(0x3d2)]+=_0x1c1f70,this[_0xf0d400(0xa29)](_0x4fe871,_0x1c1f70),this[_0xf0d400(0x812)]();}[_0x5a8b1c(0x2d8)](_0x1c90c9,_0x27b4f3){const _0x28d1fe=_0x5a8b1c;return _0x1c90c9['output']=_0x1c90c9[_0x28d1fe(0xadd)]??'',{'type':_0x28d1fe(0x7ed),'output':_0x28d1fe(0x6e2)==typeof _0x1c90c9['output']&&_0x28d1fe(0x6e2)==typeof _0x27b4f3[_0x28d1fe(0xadd)]?_0x1c90c9[_0x28d1fe(0xadd)]+_0x27b4f3[_0x28d1fe(0xadd)]:_0x27b4f3[_0x28d1fe(0xadd)],'outputTokens':_0x27b4f3[_0x28d1fe(0x940)]??_0x1c90c9[_0x28d1fe(0x940)],'inputTokens':_0x27b4f3[_0x28d1fe(0x243)]??_0x1c90c9[_0x28d1fe(0x243)]};}async['internalProcessJob'](_0x5c3242,_0x40adea){const _0x2cf4cd=_0x5a8b1c;if(_0x2cf4cd(0x7ed)===_0x40adea[_0x2cf4cd(0x2a5)]){const _0x13ec5e=await _0x4b8b58[_0x2cf4cd(0xb38)](_0x40adea[_0x2cf4cd(0x26a)],_0x40adea[_0x2cf4cd(0x526)]),_0x4cbb59=_0x13ec5e[_0x2cf4cd(0x642)][_0x2cf4cd(0x5dd)](_0x95b5b=>_0x95b5b[_0x2cf4cd(0x2a5)]===_0x2e1081[_0x2cf4cd(0x6ef)]);return await _0x49b3ae(_0x40adea['jobId']??_0x5c3242,_0x40adea,_0x4cbb59,_0x13ec5e['blocks'],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x2cf4cd(0x6b5)],'nlpLibraryConnector':this[_0x2cf4cd(0x25d)],'generativeAIWorkerConnectors':this[_0x2cf4cd(0xb3f)],'models':Array[_0x2cf4cd(0x47c)](this[_0x2cf4cd(0x89b)][_0x2cf4cd(0x4c2)]()),'contentMediator':this[_0x2cf4cd(0x5df)],'searchConnector':this[_0x2cf4cd(0x5ed)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x2cf4cd(0x4e0)]});}if(_0x2cf4cd(0x97e)===_0x40adea[_0x2cf4cd(0x2a5)])return await _0x20ce83(_0x40adea,{'documentParserConnector':this[_0x2cf4cd(0x748)],'fileConnector':this[_0x2cf4cd(0x6b5)],'nlpLibraryConnector':this[_0x2cf4cd(0x25d)],'generativeAIWorkerConnectors':this[_0x2cf4cd(0xb3f)],'models':Array[_0x2cf4cd(0x47c)](this['models']['values']()),'contentMediator':this[_0x2cf4cd(0x5df)],'searchConnector':this[_0x2cf4cd(0x5ed)],'aiSearchConnector':this[_0x2cf4cd(0xab2)],'queryFileConnector':this[_0x2cf4cd(0x4e0)]});if('inference'===_0x40adea['type'])return await _0x1467fd(_0x40adea['jobId']??_0x5c3242,_0x40adea,{'documentParserConnector':this[_0x2cf4cd(0x748)],'fileConnector':this[_0x2cf4cd(0x6b5)],'nlpLibraryConnector':this[_0x2cf4cd(0x25d)],'generativeAIWorkerConnectors':this[_0x2cf4cd(0xb3f)],'models':Array[_0x2cf4cd(0x47c)](this[_0x2cf4cd(0x89b)][_0x2cf4cd(0x4c2)]()),'contentMediator':this[_0x2cf4cd(0x5df)],'searchConnector':this[_0x2cf4cd(0x5ed)],'aiSearchConnector':this[_0x2cf4cd(0xab2)],'queryFileConnector':this[_0x2cf4cd(0x4e0)]});if('rate'===_0x40adea[_0x2cf4cd(0x2a5)])return await _0x3f0782[_0x2cf4cd(0x981)]({'jobType':_0x4ec7f8[_0x2cf4cd(0x45b)],'type':_0x2d491f['PromptRating'],'jobId':_0x40adea[_0x2cf4cd(0x281)],'threadId':_0x40adea[_0x2cf4cd(0xb36)],'traceLevel':_0x1388f3[_0x2cf4cd(0x336)],'startTime':Date[_0x2cf4cd(0x744)](),'timestamp':Date[_0x2cf4cd(0x744)](),'status':'success','rating':_0x40adea[_0x2cf4cd(0x458)],'feedback':_0x40adea['feedback']}),{'type':_0x2cf4cd(0x6d4),'status':_0x52baed['GenerativeAIRatingStatus'][_0x2cf4cd(0x635)]};if(_0x2cf4cd(0x153)===_0x40adea[_0x2cf4cd(0x2a5)])return await _0x59d7af(_0x40adea,{'documentParserConnector':this[_0x2cf4cd(0x748)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x2cf4cd(0xb3f)],'models':Array[_0x2cf4cd(0x47c)](this['models'][_0x2cf4cd(0x4c2)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x2cf4cd(0x5ed)],'aiSearchConnector':this[_0x2cf4cd(0xab2)],'queryFileConnector':this[_0x2cf4cd(0x4e0)]});if(_0x2cf4cd(0x5b4)===_0x40adea[_0x2cf4cd(0x2a5)]){const _0x886b8=await _0x4b8b58[_0x2cf4cd(0xb38)](_0x40adea['vendorId'],_0x40adea[_0x2cf4cd(0x526)]),_0x2fb743=_0x886b8[_0x2cf4cd(0x642)][_0x2cf4cd(0x5dd)](_0x6d2db5=>_0x6d2db5[_0x2cf4cd(0x2a5)]===_0x2e1081[_0x2cf4cd(0x2fd)]),_0x576469=_0x886b8['blocks'][_0x2cf4cd(0x930)](_0x3ba3f3=>_0x3ba3f3[_0x2cf4cd(0x1ce)]?.[_0x2cf4cd(0x707)](_0x1aa76d=>_0x1aa76d['type']===_0x722880[_0x2cf4cd(0xaf4)]&&_0x1aa76d['uid']===_0x2fb743[_0x2cf4cd(0x966)]))[_0x2cf4cd(0x88c)](_0x385fe6=>_0x123884(_0x385fe6,_0x886b8[_0x2cf4cd(0x642)]));return{'type':_0x2cf4cd(0x5b4),'apiKey':this[_0x2cf4cd(0xa4d)],'modelId':_0x2fb743['modelId'],'instructions':_0x2fb743[_0x2cf4cd(0x8e8)],'temperature':_0x2fb743['temperature'],'maxTokens':_0x2fb743[_0x2cf4cd(0x510)],'initialPrompt':_0x886b8[_0x2cf4cd(0x365)],'tools':_0x576469[_0x2cf4cd(0x3d5)](_0x2c39fb=>({..._0x2c39fb,'name':this[_0x2cf4cd(0x777)](_0x2c39fb),'description':this[_0x2cf4cd(0x4bc)](_0x2c39fb),'parameters':this['getToolParams'](_0x2c39fb)}))};}if(_0x2cf4cd(0x2e4)===_0x40adea[_0x2cf4cd(0x2a5)]){const {vendorId:_0x42065e,collectionId:_0x32488f,fileId:_0x323fcd}=_0x40adea,_0x55a607=await _0x4b8b58['getDataCollection'](_0x42065e,_0x32488f),_0x24d425=this[_0x2cf4cd(0x286)]?.['get'](_0x55a607[_0x2cf4cd(0x835)]);if(!_0x24d425)throw new Error(_0x2cf4cd(0x351));const _0x537a30=_0x4e11bf(_0x42065e,_0x55a607);if(_0x55a607['storageType']===_0x52baed[_0x2cf4cd(0x765)][_0x2cf4cd(0x7f8)])try{await _0x24d425[_0x2cf4cd(0xb1d)](_0x537a30,_0x32488f,'/'+_0x42065e+'/'+_0x32488f+'/'+_0x323fcd),await this[_0x2cf4cd(0x754)][_0x2cf4cd(0x4e6)]('/'+_0x42065e+'/'+_0x32488f+'/'+_0x323fcd);}catch(_0x337d99){_0x241131[_0x2cf4cd(0x5fb)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x337d99);}else try{await _0x24d425[_0x2cf4cd(0xb1d)](_0x537a30,_0x32488f,_0x323fcd);}catch(_0x2459d4){_0x241131[_0x2cf4cd(0x5fb)](_0x2cf4cd(0x9b8),_0x2459d4);}return{'type':_0x2cf4cd(0x2e4)};}if(_0x2cf4cd(0x5d1)===_0x40adea[_0x2cf4cd(0x2a5)]){let _0x2cf2bd;const _0x4a0704=this['dataStores'][_0x2cf4cd(0x7f4)]();for(;!_0x2cf2bd;){const _0x30f5af=_0x4a0704[_0x2cf4cd(0x8d1)]()['value'];if(!_0x30f5af)throw new Error(_0x2cf4cd(0x6b6));_0x2cf2bd=this[_0x2cf4cd(0x181)][_0x2cf4cd(0x8a4)](_0x30f5af);try{const _0x21daf5=await _0x2cf2bd['get'](_0x40adea['documentPath']);return{'type':_0x2cf4cd(0x5d1),'fileName':_0x21daf5['name'],'mimeType':_0x21daf5['type'],'document':await _0x21daf5[_0x2cf4cd(0x205)]()};}catch(_0x370168){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}if('file-ingest'===_0x40adea[_0x2cf4cd(0x2a5)]){const {vendorId:_0x5c9166,collectionId:_0x2bd1cd,fileName:_0x4c5400,content:_0x12a7d5}=_0x40adea,_0x15e3aa=await _0x4b8b58[_0x2cf4cd(0x943)](_0x5c9166,_0x2bd1cd);if(_0x15e3aa[_0x2cf4cd(0x835)]!==_0x52baed[_0x2cf4cd(0x765)][_0x2cf4cd(0x7f8)]){const _0x3227e7=this[_0x2cf4cd(0x286)]?.[_0x2cf4cd(0x8a4)](_0x15e3aa[_0x2cf4cd(0x835)]);if(!_0x3227e7)throw new Error(_0x2cf4cd(0x351));const _0x27fc6c=_0x4e11bf(_0x5c9166,_0x15e3aa);return await _0x3227e7[_0x2cf4cd(0x98a)](_0x27fc6c,_0x2bd1cd,_0x4c5400,_0x12a7d5),{'type':_0x2cf4cd(0x4ae)};}const _0x111f6c=_0x15e3aa[_0x2cf4cd(0x616)]?.[_0x2cf4cd(0x5dd)](_0x1da473=>_0x1da473[_0x2cf4cd(0x2a5)]===_0x18ee4f[_0x2cf4cd(0x858)]);if(!_0x111f6c)throw new Error(_0x2cf4cd(0xb4c));const _0x312039=(0x0,_0x4804e8['v4'])();return _0x3f0782['openTrace'](_0x5c9166,_0x312039),await _0x597247(_0x40adea[_0x2cf4cd(0x26a)],_0x312039,'/'+_0x5c9166+'/'+_0x2bd1cd+'/'+_0x4c5400,_0x12a7d5,_0x111f6c,_0x15e3aa,{'objectStoreConnector':this[_0x2cf4cd(0x754)],'ragConnector':this['ragConnectors']?.[_0x2cf4cd(0x8a4)](_0x52baed['GenerativeAIRagType'][_0x2cf4cd(0x7f8)]),'documentParserConnector':this[_0x2cf4cd(0x748)],'fileConnector':this[_0x2cf4cd(0x6b5)],'nlpLibraryConnector':this[_0x2cf4cd(0x25d)],'generativeAIWorkerConnectors':this[_0x2cf4cd(0xb3f)],'models':Array[_0x2cf4cd(0x47c)](this[_0x2cf4cd(0x89b)][_0x2cf4cd(0x4c2)]()),'contentMediator':this[_0x2cf4cd(0x5df)]}),_0x3f0782['closeTrace'](_0x312039),{'type':'file-ingest'};}if(_0x2cf4cd(0xa5d)===_0x40adea[_0x2cf4cd(0x2a5)]){const {vendorId:_0x141cef,collectionId:_0x2e902b}=_0x40adea,_0x19ef68=await _0x4b8b58['getDataCollection'](_0x141cef,_0x2e902b);if(_0x19ef68['storageType']!==_0x52baed['GenerativeAIRagType']['Crewdle']){const _0xd090f3=this[_0x2cf4cd(0x286)]?.[_0x2cf4cd(0x8a4)](_0x19ef68['storageType']);if(!_0xd090f3)throw new Error(_0x2cf4cd(0x351));const _0x4a2392=_0x4e11bf(_0x141cef,_0x19ef68);return{'type':_0x2cf4cd(0xa5d),'files':await _0xd090f3[_0x2cf4cd(0xb29)](_0x4a2392,_0x2e902b)};}try{return{'type':_0x2cf4cd(0xa5d),'files':(await this['objectStoreConnector'][_0x2cf4cd(0x24a)]('/'+_0x141cef+'/'+_0x2e902b,!0x1))[_0x2cf4cd(0x3d5)](_0x1becdc=>({'name':_0x1becdc[_0x2cf4cd(0x45a)],'id':_0x1becdc[_0x2cf4cd(0x45a)],'status':_0x2cf4cd(0x8e4)}))};}catch(_0x499fa5){return{'type':_0x2cf4cd(0xa5d),'files':[]};}}if(_0x2cf4cd(0x73b)===_0x40adea['type']){const {vendorId:_0x1b7900,collectionId:_0x12012c}=_0x40adea,_0x2d4b79=await _0x4b8b58['getDataCollection'](_0x1b7900,_0x12012c),_0x205271=this[_0x2cf4cd(0x286)]?.[_0x2cf4cd(0x8a4)](_0x2d4b79[_0x2cf4cd(0x835)]);if(!_0x205271)return{'type':_0x2cf4cd(0x73b)};const _0xb5b4ec=_0x4e11bf(_0x1b7900,_0x2d4b79);return await _0x205271[_0x2cf4cd(0x1f9)](_0xb5b4ec,_0x12012c),{'type':_0x2cf4cd(0x73b)};}if('collection-delete'===_0x40adea[_0x2cf4cd(0x2a5)]){const {vendorId:_0x2db143,collectionId:_0x7c8df3}=_0x40adea,_0x1b7fbd=await _0x4b8b58[_0x2cf4cd(0x943)](_0x2db143,_0x7c8df3),_0x5af904=this['ragConnectors']?.[_0x2cf4cd(0x8a4)](_0x1b7fbd[_0x2cf4cd(0x835)]);if(!_0x5af904)return{'type':_0x2cf4cd(0x934)};const _0x500a3c=_0x4e11bf(_0x2db143,_0x1b7fbd);let _0x3ebddc=!0x1;if(_0x1b7fbd[_0x2cf4cd(0x169)]===_0x3e31d1[_0x2cf4cd(0x425)]&&(_0x3ebddc=!0x0),_0x1b7fbd[_0x2cf4cd(0x169)]===_0x3e31d1['Account']){_0x3ebddc=!0x0;const _0x58d5d8=await _0x4b8b58[_0x2cf4cd(0x645)](_0x2db143);for(const _0x3ebb26 of _0x58d5d8)if(_0x3ebb26[_0x2cf4cd(0x835)]===_0x1b7fbd[_0x2cf4cd(0x835)]&&_0x3ebb26['hosting']===_0x3e31d1[_0x2cf4cd(0x490)]&&_0x3ebb26['id']!==_0x1b7fbd['id']){_0x3ebddc=!0x1;break;}}try{await _0x5af904[_0x2cf4cd(0x3da)](_0x500a3c,_0x7c8df3,_0x3ebddc);}catch(_0xc2e589){_0x241131[_0x2cf4cd(0x5fb)]('GenerativeAIWorker:\x20CollectionDelete\x20failed',_0xc2e589);}return{'type':_0x2cf4cd(0x934)};}if(_0x2cf4cd(0x1ed)===_0x40adea[_0x2cf4cd(0x2a5)]){const {query:_0x10306e,vendorId:_0xaa73f3,collectionId:_0x5bb904}=_0x40adea,_0x1c9243=await _0x4b8b58[_0x2cf4cd(0x943)](_0xaa73f3,_0x5bb904);if(_0x1c9243['storageType']!==_0x52baed[_0x2cf4cd(0x765)]['Crewdle']){const _0x17fcd3=this[_0x2cf4cd(0x286)]?.[_0x2cf4cd(0x8a4)](_0x1c9243[_0x2cf4cd(0x835)]);if(!_0x17fcd3)throw new Error(_0x2cf4cd(0x351));const _0x41fda6=_0x4e11bf(_0xaa73f3,_0x1c9243);return{'type':_0x2cf4cd(0x1ed),'results':await _0x17fcd3['queryCollection'](_0x41fda6,_0x5bb904,_0x10306e,0x1)};}const _0x4a763d=_0x1c9243['retrieveBlocks']?.[_0x2cf4cd(0x5dd)](_0x329ef1=>_0x329ef1['type']===_0x18ee4f['Prompt']);return{'type':_0x2cf4cd(0x1ed),'results':(await _0x3e691c(_0x40adea['vendorId'],_0x5c3242,'',_0x10306e,_0x4a763d,_0x1c9243,{'objectStoreConnector':this[_0x2cf4cd(0x754)],'ragConnector':this[_0x2cf4cd(0x286)]?.[_0x2cf4cd(0x8a4)](_0x52baed['GenerativeAIRagType']['Crewdle']),'documentParserConnector':this[_0x2cf4cd(0x748)],'fileConnector':this[_0x2cf4cd(0x6b5)],'nlpLibraryConnector':this[_0x2cf4cd(0x25d)],'generativeAIWorkerConnectors':this[_0x2cf4cd(0xb3f)],'models':Array[_0x2cf4cd(0x47c)](this['models'][_0x2cf4cd(0x4c2)]()),'contentMediator':this[_0x2cf4cd(0x5df)],'searchConnector':this[_0x2cf4cd(0x5ed)],'aiSearchConnector':this[_0x2cf4cd(0xab2)],'queryFileConnector':this[_0x2cf4cd(0x4e0)]}))['context']??[]};}throw new Error(_0x2cf4cd(0x8a1));}async*['internalProcessJobStream'](_0x1fbfe9,_0x5794a7){const _0x25c110=_0x5a8b1c;if(_0x25c110(0x7ed)===_0x5794a7[_0x25c110(0x2a5)]){const _0x4616aa=await _0x4b8b58[_0x25c110(0xb38)](_0x5794a7[_0x25c110(0x26a)],_0x5794a7[_0x25c110(0x526)]),_0x53f52e=_0x4616aa[_0x25c110(0x642)][_0x25c110(0x5dd)](_0xdb3f6c=>_0xdb3f6c[_0x25c110(0x2a5)]===_0x2e1081['Prompt']);for await(const _0x2e9e99 of _0x5304d7(_0x5794a7[_0x25c110(0x281)]??_0x1fbfe9,_0x5794a7,_0x53f52e,_0x4616aa[_0x25c110(0x642)],{'documentParserConnector':this[_0x25c110(0x748)],'fileConnector':this[_0x25c110(0x6b5)],'nlpLibraryConnector':this[_0x25c110(0x25d)],'generativeAIWorkerConnectors':this[_0x25c110(0xb3f)],'models':Array['from'](this[_0x25c110(0x89b)][_0x25c110(0x4c2)]()),'contentMediator':this[_0x25c110(0x5df)],'searchConnector':this[_0x25c110(0x5ed)],'aiSearchConnector':this[_0x25c110(0xab2)],'queryFileConnector':this[_0x25c110(0x4e0)]}))yield _0x2e9e99;}if('inference'===_0x5794a7[_0x25c110(0x2a5)]){for await(const _0x4148e1 of _0x1cba1f(_0x5794a7[_0x25c110(0x281)]??_0x1fbfe9,_0x5794a7,{'documentParserConnector':this[_0x25c110(0x748)],'fileConnector':this[_0x25c110(0x6b5)],'nlpLibraryConnector':this[_0x25c110(0x25d)],'generativeAIWorkerConnectors':this[_0x25c110(0xb3f)],'models':Array['from'](this[_0x25c110(0x89b)][_0x25c110(0x4c2)]()),'contentMediator':this[_0x25c110(0x5df)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']}))yield _0x4148e1;}}async[_0x5a8b1c(0x3a3)](_0x1312f0,_0x1394c4){const _0x39b7aa=_0x5a8b1c;if(_0x39b7aa(0x6d4)===_0x1394c4[_0x39b7aa(0x2a5)])return _0x1312f0=_0x1394c4[_0x39b7aa(0x281)],void await this[_0x39b7aa(0xb2e)](_0x1312f0,_0x1394c4[_0x39b7aa(0x26a)],_0x1394c4[_0x39b7aa(0x526)]);_0x39b7aa(0x7ed)!==_0x1394c4[_0x39b7aa(0x2a5)]&&'inference'!==_0x1394c4[_0x39b7aa(0x2a5)]||!_0x1394c4[_0x39b7aa(0x281)]||(_0x1312f0=_0x1394c4[_0x39b7aa(0x281)]),await this[_0x39b7aa(0xb2e)](_0x1312f0,_0x1394c4['vendorId'],_0x1394c4[_0x39b7aa(0x526)],_0x1394c4['threadId']),await _0x3f0782[_0x39b7aa(0x981)]({'jobType':_0x4ec7f8[_0x39b7aa(0x492)],'type':_0x4894d6['Queued'],'traceLevel':_0x1388f3[_0x39b7aa(0x336)],'jobId':_0x1312f0,'threadId':_0x1394c4['threadId'],'startTime':Date[_0x39b7aa(0x744)](),'timestamp':Date[_0x39b7aa(0x744)](),'status':_0x39b7aa(0x4cf)});}async[_0x5a8b1c(0xab8)](_0x4eb4fd,_0x2e9bd4){const _0x925a8=_0x5a8b1c;if(_0x925a8(0x6d4)===_0x2e9bd4[_0x925a8(0x2a5)])return _0x4eb4fd=_0x2e9bd4['jobId'],void await this[_0x925a8(0x9af)](_0x4eb4fd);_0x925a8(0x7ed)!==_0x2e9bd4[_0x925a8(0x2a5)]&&_0x925a8(0x66f)!==_0x2e9bd4[_0x925a8(0x2a5)]||!_0x2e9bd4[_0x925a8(0x281)]||(_0x4eb4fd=_0x2e9bd4[_0x925a8(0x281)]),await _0x3f0782[_0x925a8(0x981)]({'jobType':_0x4ec7f8[_0x925a8(0x492)],'type':_0x4894d6['Completed'],'traceLevel':_0x1388f3['Info'],'jobId':_0x4eb4fd,'threadId':_0x2e9bd4[_0x925a8(0xb36)],'startTime':Date['now'](),'timestamp':Date[_0x925a8(0x744)](),'status':_0x925a8(0x4cf)}),await this[_0x925a8(0x9af)](_0x4eb4fd,_0x2e9bd4[_0x925a8(0xb36)]);}[_0x5a8b1c(0x777)](_0x9e2612){const _0x3e1cef=_0x5a8b1c;switch(_0x9e2612[_0x3e1cef(0x2a5)]){case _0x2e1081[_0x3e1cef(0x2fd)]:case _0x2e1081[_0x3e1cef(0x9dd)]:return _0x3e1cef(0x9f4)+_0x9e2612[_0x3e1cef(0x45a)][_0x3e1cef(0x937)](/[^a-zA-Z]/g,'');case _0x2e1081[_0x3e1cef(0x48e)]:return'executeWorkflow'+_0x9e2612[_0x3e1cef(0x45a)][_0x3e1cef(0x937)](/[^a-zA-Z]/g,'');case _0x2e1081[_0x3e1cef(0x6e7)]:case _0x2e1081[_0x3e1cef(0x48d)]:return _0x3e1cef(0x239)+_0x9e2612['name'][_0x3e1cef(0x937)](/[^a-zA-Z]/g,'');case _0x2e1081[_0x3e1cef(0x535)]:return _0x9e2612[_0x3e1cef(0x45a)]['replace'](/[^a-zA-Z]/g,'');case _0x2e1081[_0x3e1cef(0x6ae)]:return _0x3e1cef(0x43e);case _0x2e1081[_0x3e1cef(0x19d)]:return'executeJavascriptCodeSnippet';case _0x2e1081[_0x3e1cef(0x1eb)]:return _0x3e1cef(0x5c0);case _0x2e1081[_0x3e1cef(0x185)]:case _0x2e1081[_0x3e1cef(0x938)]:return'fetchContentFromUrl';case _0x52baed[_0x3e1cef(0x4fc)][_0x3e1cef(0x13c)]:return _0x3e1cef(0x1a4)+_0x9e2612[_0x3e1cef(0x45a)]['replace'](/[^a-zA-Z]/g,'');case _0x52baed[_0x3e1cef(0x4fc)]['FormSkillSetAnswer']:return _0x3e1cef(0x173)+_0x9e2612[_0x3e1cef(0x45a)]['replace'](/[^a-zA-Z]/g,'');case _0x52baed[_0x3e1cef(0x4fc)]['FormSkillSubmitForm']:return'submitForm'+_0x9e2612[_0x3e1cef(0x45a)][_0x3e1cef(0x937)](/[^a-zA-Z]/g,'');default:return'';}}[_0x5a8b1c(0x4bc)](_0x49164c){const _0x1b6f5f=_0x5a8b1c;switch(_0x49164c['type']){case _0x2e1081['Agent']:case _0x2e1081[_0x1b6f5f(0x9dd)]:return'Execute\x20the\x20agent\x20'+_0x49164c[_0x1b6f5f(0x94a)]+_0x1b6f5f(0x2bd);case _0x2e1081[_0x1b6f5f(0x48e)]:return _0x1b6f5f(0x2dd)+_0x49164c[_0x1b6f5f(0x94a)]+_0x1b6f5f(0x2bd);case _0x2e1081[_0x1b6f5f(0x6e7)]:case _0x2e1081[_0x1b6f5f(0x48d)]:return _0x1b6f5f(0x50c)+_0x49164c[_0x1b6f5f(0x94a)]+_0x1b6f5f(0x477);case _0x2e1081[_0x1b6f5f(0x535)]:return _0x1b6f5f(0x2ad)+_0x49164c[_0x1b6f5f(0x94a)];case _0x2e1081[_0x1b6f5f(0x6ae)]:return'Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x2e1081['Code']:return _0x1b6f5f(0x6a0);case _0x2e1081[_0x1b6f5f(0x1eb)]:return'Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.';case _0x2e1081[_0x1b6f5f(0x185)]:case _0x2e1081['WebScraperRaw']:return _0x1b6f5f(0x39a);case _0x52baed[_0x1b6f5f(0x4fc)]['FormSkillGetQuestion']:return _0x1b6f5f(0x2c1);case _0x52baed[_0x1b6f5f(0x4fc)][_0x1b6f5f(0x71d)]:return _0x1b6f5f(0x2db);case _0x52baed[_0x1b6f5f(0x4fc)]['FormSkillSubmitForm']:return _0x1b6f5f(0x96d);default:return'';}}[_0x5a8b1c(0x968)](_0x13c07c){const _0x304aee=_0x5a8b1c;switch(_0x13c07c[_0x304aee(0x2a5)]){case _0x2e1081[_0x304aee(0x2fd)]:case _0x2e1081[_0x304aee(0x9dd)]:case _0x2e1081[_0x304aee(0x48e)]:return[{'name':_0x304aee(0x7ed),'type':'string'}];case _0x2e1081[_0x304aee(0x6e7)]:case _0x2e1081['Knowledge']:return[{'name':'queryOrPrompt','type':_0x304aee(0x6e2)}];case _0x2e1081[_0x304aee(0x535)]:return _0x13c07c['parameters']['map'](_0x2e761c=>({'name':_0x2e761c['name'],'type':_0x2e761c['type']??_0x304aee(0x6e2)}))??[];case _0x2e1081[_0x304aee(0x6ae)]:return[{'name':_0x304aee(0x337),'type':_0x304aee(0x6e2)}];case _0x2e1081['Code']:return[{'name':'code','type':_0x304aee(0x6e2)}];case _0x2e1081[_0x304aee(0x1eb)]:return[{'name':_0x304aee(0x337),'type':_0x304aee(0x6e2)}];case _0x2e1081[_0x304aee(0x185)]:case _0x2e1081['WebScraperRaw']:return[{'name':_0x304aee(0x9cf),'type':_0x304aee(0x6e2)},{'name':_0x304aee(0xa6b),'type':'number'}];case _0x52baed['GenerativeAIInferenceToolType'][_0x304aee(0x13c)]:return[];case _0x52baed[_0x304aee(0x4fc)][_0x304aee(0x71d)]:return[{'name':'id','type':'string'},{'name':_0x304aee(0x997),'type':_0x304aee(0x6e2)}];case _0x52baed[_0x304aee(0x4fc)]['FormSkillSubmitForm']:default:return[];}}['getCoresFromCapacityReport'](){const _0x262191=_0x5a8b1c;try{return this[_0x262191(0x423)][_0x262191(0x257)]()[_0x262191(0x7b9)][_0x262191(0x7dc)]*(0x1-this[_0x262191(0x423)][_0x262191(0x257)]()[_0x262191(0x7b9)]['load']);}catch(_0x15cb37){return _0x241131[_0x262191(0x2d3)](_0xf47a5[_0x262191(0x40b)],_0x262191(0xa1d),_0x15cb37),0x0;}}[_0x5a8b1c(0x812)](){const _0x45c952=_0x5a8b1c;this[_0x45c952(0x57d)]&&(this[_0x45c952(0x709)]&&clearTimeout(this[_0x45c952(0x709)]),this[_0x45c952(0x709)]=setTimeout(async()=>{const _0x30957a=_0x45c952;delete this[_0x30957a(0x709)];let _0xbb3976=0x0;for(const _0xd2f1c9 of this['dataStores'][_0x30957a(0x4c2)]())_0xbb3976+=await _0xd2f1c9[_0x30957a(0x4ad)]();this[_0x30957a(0x625)][_0x30957a(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x30957a(0x420)],'content':{'type':_0xae157c[_0x30957a(0x4a6)],'label':this[_0x30957a(0x19f)],'stats':{'timestamp':Date[_0x30957a(0x744)](),'storage':_0xbb3976,'messagesSent':this[_0x30957a(0xae5)],'messagesReceived':this[_0x30957a(0x413)],'bytesSent':this[_0x30957a(0x398)],'bytesReceived':this[_0x30957a(0xa4c)],'writes':0x0,'reads':0x0,'prompts':this[_0x30957a(0x9f8)],'tokens':this[_0x30957a(0x3d2)]}}});},_0x291af8));}[_0x5a8b1c(0xa29)](_0x9a5c67,_0x3126c4){const _0x26a986=_0x5a8b1c,_0x36c1eb=this['label'],_0x52db51=this[_0x26a986(0x770)]();_0x241131[_0x26a986(0xa29)](_0x261e7f['GenerativeAIContext'],{'topic':_0x36c1eb,'type':_0x26a986(0x997),'nodeId':_0x52db51,'tokenCount':_0x3126c4,'tokensPerSecond':_0x9a5c67});}async[_0x5a8b1c(0xb2e)](_0x43512a,_0x3ccc6d,_0x323603,_0x598b38){const _0x5d7811=_0x5a8b1c;try{if(!await _0x3f0782[_0x5d7811(0xb2e)](_0x3ccc6d,_0x43512a,_0x323603,_0x598b38))throw new Error(_0x5d7811(0x9f3));return _0x43512a;}catch(_0x12c373){return console[_0x5d7811(0x5fb)]('Error\x20opening\x20trace',_0x12c373),'Could\x20not\x20open\x20trace';}}async['closeTrace'](_0x130acc,_0x5bb7f2){const _0x3d38a5=_0x5a8b1c;try{await _0x3f0782['closeTrace'](_0x130acc,_0x5bb7f2);}catch(_0x7aeba9){console[_0x3d38a5(0x5fb)]('Error\x20closing\x20trace',{'jobId':_0x130acc,'error':_0x7aeba9});}}}class _0x2c8262 extends _0x43d50a{[_0x5a8b1c(0x650)];[_0x5a8b1c(0x659)];[_0x5a8b1c(0x26a)];['db'];[_0x5a8b1c(0x709)];['writes']=0x0;['reads']=0x0;[_0x5a8b1c(0x6f0)]=!0x1;constructor(_0x2228e5,_0x45c44d,_0x216a8b,_0x4eb529,_0x8578ed){const _0x4d75a7=_0x5a8b1c;if(_0x4d75a7(0x6e2)!=typeof _0x45c44d)throw new _0x4ec9e4(_0x47ec8c[_0x4d75a7(0x986)],_0x4d75a7(0x42f));super(_0x2228e5,_0x45c44d),this[_0x4d75a7(0x650)]=_0x2228e5,this['clusterId']=_0x216a8b,this[_0x4d75a7(0x26a)]=_0x4eb529;const _0x2c145b=_0x4d75a7(0xaa5)+this[_0x4d75a7(0x26a)]+'ccc'+this['clusterId']+_0x4d75a7(0xaa5)+this['label'];this['db']=new _0x8578ed(_0x2c145b),this[_0x4d75a7(0x812)]();}['getIsLoaded'](){const _0x1fc9ac=_0x5a8b1c;return this[_0x1fc9ac(0x6f0)];}[_0x5a8b1c(0xae1)](_0x4540e3){const _0x3dd832=_0x5a8b1c;this[_0x3dd832(0x6f0)]=_0x4540e3;}['destroy'](){const _0x58eebc=_0x5a8b1c;clearTimeout(this[_0x58eebc(0x709)]),delete this['debounceStats'],super['destroy']();}[_0x5a8b1c(0x494)](){const _0x1df332=_0x5a8b1c;this[_0x1df332(0x625)]['publish']({'sourceId':_0x4c58af,'messageType':_0x9cb7d1['Content'],'content':{'type':_0xae157c[_0x1df332(0x7a8)],'label':this[_0x1df332(0x19f)]}});}[_0x5a8b1c(0x62f)](){const _0x3b382b=_0x5a8b1c;return _0x52baed[_0x3b382b(0xa92)]['GraphDatabase'];}[_0x5a8b1c(0xb32)](){const _0xf806ff=_0x5a8b1c;this[_0xf806ff(0x812)]();}[_0x5a8b1c(0xa94)](_0x3d8172,_0xf6d759,_0x5c0b24,_0x44ca7f){const _0x2fa93c=_0x5a8b1c;this['db'][_0x2fa93c(0xa94)](_0x3d8172,_0xf6d759,_0x5c0b24,_0x44ca7f),this[_0x2fa93c(0x673)]+=0x1,this[_0x2fa93c(0x812)]();}['addEdge'](_0x5b60b8,_0x572e3b){const _0x12ff96=_0x5a8b1c;this['db'][_0x12ff96(0x855)](_0x5b60b8,_0x572e3b),this[_0x12ff96(0x673)]+=0x1,this[_0x12ff96(0x812)]();}['getContent'](_0x1c66e1,_0x5a2086,_0x3cf1a4){const _0x320ff1=_0x5a8b1c,_0x593edb=this['db'][_0x320ff1(0x3e8)](_0x1c66e1,_0x5a2086,_0x3cf1a4);return this[_0x320ff1(0x342)]+=0x1,_0x241131['logServiceEvent'](_0x261e7f[_0x320ff1(0x820)],{'type':_0x320ff1(0x13b),'label':this['label'],'nodeId':this[_0x320ff1(0x650)][_0x320ff1(0x3dd)](),'nodeType':this[_0x320ff1(0x650)]['type'],'clusterId':this[_0x320ff1(0x659)],'size':0x0}),this[_0x320ff1(0x812)](),_0x593edb;}[_0x5a8b1c(0x3d1)](_0x27149f){const _0x2f4eb1=_0x5a8b1c;this['db'][_0x2f4eb1(0x3d1)](_0x27149f),this['writes']+=0x1,this['sendStats']();}['saveToDisk'](_0x1b1895){const _0x26d900=_0x5a8b1c;this['db'][_0x26d900(0x5b1)](_0x1b1895);}['loadFromDisk'](_0x458871){this['db']['loadFromDisk'](_0x458871);}[_0x5a8b1c(0x812)](){const _0x3fe03c=_0x5a8b1c;this[_0x3fe03c(0x709)]&&clearTimeout(this['debounceStats']),this[_0x3fe03c(0x709)]=setTimeout(async()=>{const _0x368770=_0x3fe03c;delete this['debounceStats'];const _0x2c2b90=this['db'][_0x368770(0x4ad)]();this[_0x368770(0x625)][_0x368770(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x368770(0x420)],'content':{'type':_0xae157c[_0x368770(0x310)],'label':this[_0x368770(0x19f)],'stats':{'timestamp':Date[_0x368770(0x744)](),'storage':_0x2c2b90,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x368770(0x413)],'bytesSent':this[_0x368770(0x398)],'bytesReceived':this[_0x368770(0xa4c)],'writes':this['writes'],'reads':this[_0x368770(0x342)],'prompts':0x0,'tokens':0x0}}}),_0x241131['logStorage'](_0x261e7f[_0x368770(0x820)],_0x368770(0xaa5)+this[_0x368770(0x659)]+'ccc'+this[_0x368770(0x19f)],_0x2c2b90);},_0x291af8);}}class _0x3383c6 extends _0x267db0{[_0x5a8b1c(0x8e1)];constructor(_0x30ac9d,_0x4cf901,_0x37f391){super(_0x30ac9d,_0x4cf901),this['mediaStream']=_0x37f391;}[_0x5a8b1c(0x62f)](){const _0x50337c=_0x5a8b1c;return _0x52baed[_0x50337c(0xa92)][_0x50337c(0x852)];}[_0x5a8b1c(0x759)](){const _0x598b3a=_0x5a8b1c;return this[_0x598b3a(0x8e1)];}['getInternalStreamId'](){const _0x1312b7=_0x5a8b1c;return this[_0x1312b7(0x8e1)]['id'];}}class _0x28ddd1 extends _0x3383c6{['remoteId'];['params'];[_0x5a8b1c(0x35d)];[_0x5a8b1c(0x7f0)]=_0x462089();constructor(_0x331c4f,_0xf26f3d,_0x1aebf0,_0x5d5a38,_0x4f4a45){const _0x34bb3a=_0x5a8b1c;super(_0x331c4f,_0xf26f3d,_0x1aebf0),this[_0x34bb3a(0x1e1)]=_0x5d5a38,this[_0x34bb3a(0x575)]=_0x4f4a45;}[_0x5a8b1c(0x865)](){const _0xb1be8f=_0x5a8b1c;this[_0xb1be8f(0x889)](_0xb1be8f(0x35a)),this[_0xb1be8f(0x889)](_0xb1be8f(0x498)),super['destroy']();}[_0x5a8b1c(0x225)](_0x6a700a){const _0xf996f9=_0x5a8b1c;if(!this[_0xf996f9(0x35d)])throw new _0xdb384(_0xdb384[_0xf996f9(0x549)][_0xf996f9(0x75a)],{'label':this['label'],'ownerId':this['owner'][_0xf996f9(0x3dd)](),'remoteId':this[_0xf996f9(0x1e1)]});this[_0xf996f9(0x35d)][_0xf996f9(0x590)]({'sourceId':this[_0xf996f9(0x83c)]['getId'](),'content':{'action':_0x4a37a5[_0xf996f9(0x283)],'track':_0x6a700a,'stream':this['mediaStream'],'priority':_0x52baed[_0xf996f9(0x7c5)][_0xf996f9(0x737)],'params':this[_0xf996f9(0x1c7)](_0x6a700a[_0xf996f9(0x520)],this[_0xf996f9(0x575)])}});}[_0x5a8b1c(0x889)](_0x4c7be2){const _0x165b7d=_0x5a8b1c,_0x12e67d=this['getTrack'](_0x4c7be2);if(_0x12e67d){if(!this[_0x165b7d(0x35d)])return null;this[_0x165b7d(0x35d)]['publish']({'sourceId':this[_0x165b7d(0x83c)][_0x165b7d(0x3dd)](),'content':{'action':_0x4a37a5[_0x165b7d(0xaca)],'track':_0x12e67d,'stream':this[_0x165b7d(0x8e1)]}});}return _0x12e67d;}[_0x5a8b1c(0xa84)](_0x304c39){const _0x4840c8=_0x5a8b1c;if(!this[_0x4840c8(0x35d)])throw new _0xdb384(_0xdb384[_0x4840c8(0x549)][_0x4840c8(0x75a)],{'label':this['label'],'ownerId':this[_0x4840c8(0x83c)][_0x4840c8(0x3dd)](),'remoteId':this[_0x4840c8(0x1e1)]});this['topic']['publish']({'sourceId':this[_0x4840c8(0x83c)][_0x4840c8(0x3dd)](),'content':{'action':_0x4a37a5[_0x4840c8(0xafa)],'priority':_0x304c39,'stream':this['mediaStream']}});}[_0x5a8b1c(0x19a)]({trackKinds:_0x4e4d32,params:_0x2c211b},_0x53fe36){const _0x6d5c1=_0x5a8b1c;if(!this[_0x6d5c1(0x35d)])throw new _0xdb384(_0xdb384[_0x6d5c1(0x549)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x6d5c1(0x19f)],'ownerId':this[_0x6d5c1(0x83c)]['getId'](),'remoteId':this[_0x6d5c1(0x1e1)]});for(const _0x673565 of this['mediaStream'][_0x6d5c1(0x1ad)]())_0x4e4d32[_0x6d5c1(0x595)](_0x673565[_0x6d5c1(0x520)])&&this['topic'][_0x6d5c1(0x590)]({'sourceId':this[_0x6d5c1(0x83c)][_0x6d5c1(0x3dd)](),'content':{'action':_0x4a37a5[_0x6d5c1(0x283)],'track':_0x673565,'stream':this[_0x6d5c1(0x8e1)],'priority':_0x53fe36,'params':this['getInternalTrackParams'](_0x673565[_0x6d5c1(0x520)],_0x2c211b)}});}[_0x5a8b1c(0xafb)]({params:_0x28d55f}){const _0xfda271=_0x5a8b1c;if(!this[_0xfda271(0x35d)])throw new _0xdb384(_0xdb384['codes']['OutgoingMediaStreamNoTopic'],{'label':this[_0xfda271(0x19f)],'ownerId':this[_0xfda271(0x83c)][_0xfda271(0x3dd)](),'remoteId':this['remoteId']});for(const _0x4fb3c4 of this[_0xfda271(0x8e1)][_0xfda271(0x1ad)]())this[_0xfda271(0x35d)][_0xfda271(0x590)]({'sourceId':this[_0xfda271(0x83c)][_0xfda271(0x3dd)](),'content':{'action':_0x4a37a5['Update'],'stream':this['mediaStream'],'params':this[_0xfda271(0x1c7)](_0x4fb3c4[_0xfda271(0x520)],_0x28d55f)}});}[_0x5a8b1c(0xa68)]({trackKinds:_0x35b18a}){const _0xc22c4e=_0x5a8b1c;if(this[_0xc22c4e(0x35d)]){for(const _0x5a1d82 of this[_0xc22c4e(0x8e1)]['getTracks']())_0x35b18a[_0xc22c4e(0x595)](_0x5a1d82[_0xc22c4e(0x520)])&&this['topic'][_0xc22c4e(0x590)]({'sourceId':this[_0xc22c4e(0x83c)][_0xc22c4e(0x3dd)](),'content':{'action':_0x4a37a5[_0xc22c4e(0xaca)],'stream':this[_0xc22c4e(0x8e1)],'track':_0x5a1d82}});}}['registerPublisher'](_0x57422a){const _0x4ff5b6=_0x5a8b1c;this[_0x4ff5b6(0x35d)]=_0x57422a;}[_0x5a8b1c(0x845)](_0x464c79){const _0x650566=_0x5a8b1c;_0x464c79===this['topic']&&(delete this[_0x650566(0x35d)],this['unregisterPublisherListener'][_0x650566(0x590)]());}[_0x5a8b1c(0x4e3)](_0x1386fe){const _0x1ba69b=_0x5a8b1c;return this[_0x1ba69b(0x7f0)]['subscribe'](_0x1386fe);}[_0x5a8b1c(0x867)](_0x1b698f){const _0x269ce3=_0x5a8b1c;return this[_0x269ce3(0x8e1)][_0x269ce3(0x1ad)]()[_0x269ce3(0x5dd)](_0x4f5a4e=>_0x4f5a4e[_0x269ce3(0x520)]===_0x1b698f)||null;}['getInternalTrackParams'](_0x161515,_0x2c2015){const _0x54b2fe=_0x5a8b1c;let _0xa000a7;return _0x54b2fe(0x498)===_0x161515&&_0x2c2015?.[_0x54b2fe(0x498)]&&_0x54b2fe(0x276)!=typeof _0x2c2015[_0x54b2fe(0x498)]&&(_0xa000a7={'kind':_0x54b2fe(0x498),..._0x2c2015['video']},_0xa000a7[_0x54b2fe(0x31e)]=this['getResolution']()),_0x54b2fe(0x35a)===_0x161515&&_0x2c2015?.[_0x54b2fe(0x35a)]&&_0x54b2fe(0x276)!=typeof _0x2c2015[_0x54b2fe(0x35a)]&&(_0xa000a7={'kind':'audio',..._0x2c2015[_0x54b2fe(0x35a)]}),_0xa000a7;}[_0x5a8b1c(0x388)](){const _0x4b378b=_0x5a8b1c;let _0x3e6adb={'width':0x0,'height':0x0};const _0x5c63e2=this[_0x4b378b(0x8e1)][_0x4b378b(0x1f7)]();if(_0x5c63e2[_0x4b378b(0xa39)]>0x0){const _0x30ea1f=_0x5c63e2[0x0][_0x4b378b(0x5b8)]();_0x30ea1f[_0x4b378b(0x3cf)]&&_0x30ea1f[_0x4b378b(0x537)]&&(_0x3e6adb={'width':_0x30ea1f[_0x4b378b(0x3cf)],'height':_0x30ea1f[_0x4b378b(0x537)]});}return _0x3e6adb;}}class _0x5c843f extends _0x3383c6{['clusterId'];[_0x5a8b1c(0x2bf)]=_0x52baed[_0x5a8b1c(0x7c5)][_0x5a8b1c(0x737)];['trackEndedListeners']=new Map();[_0x5a8b1c(0x2bc)]=new Map();constructor(_0xbf89f7,_0x5b5982,_0x5b84ab,_0x21bc91){const _0x349b5a=_0x5a8b1c;super(_0xbf89f7,_0x5b5982,_0x5b84ab instanceof MediaStream?_0x5b84ab:_0x5b84ab['srcObject']?_0x5b84ab['srcObject']:_0x5b84ab[_0x349b5a(0xaa7)]()),this[_0x349b5a(0x659)]=_0x21bc91,this[_0x349b5a(0x8e1)][_0x349b5a(0x1ad)]()[_0x349b5a(0x775)](_0x2a44ae=>this[_0x349b5a(0x2d2)](_0x2a44ae)),_0x241131['logServiceEvent'](_0x261e7f[_0x349b5a(0x161)],{'type':_0x349b5a(0x590),'label':this[_0x349b5a(0x19f)],'nodeId':this['owner']['getId'](),'nodeType':this['owner'][_0x349b5a(0x2a5)],'clusterId':this['clusterId'],'streamId':this[_0x349b5a(0x327)](),'trackKinds':this[_0x349b5a(0x8e1)]['getTracks']()['map'](_0x5d7927=>_0x5d7927[_0x349b5a(0x520)])});}['destroy'](){const _0x4baccf=_0x5a8b1c;this[_0x4baccf(0x2bc)][_0x4baccf(0xaf1)]>0x0&&(this[_0x4baccf(0x2bc)][_0x4baccf(0x775)](_0x4c29c3=>{const _0x2ccc2e=_0x4baccf;_0x4c29c3[_0x2ccc2e(0x8f7)](),_0x4c29c3[_0x2ccc2e(0x865)]();}),this[_0x4baccf(0x2bc)][_0x4baccf(0x5a9)]()),this[_0x4baccf(0x880)]['forEach'](_0x1a56f3=>_0x1a56f3()),super[_0x4baccf(0x865)]();}[_0x5a8b1c(0x590)](_0x75747f){const _0x46bdb9=_0x5a8b1c;this[_0x46bdb9(0x625)][_0x46bdb9(0x590)]({'sourceId':this[_0x46bdb9(0x83c)][_0x46bdb9(0x3dd)](),'destinationIds':_0x75747f?[_0x75747f]:void 0x0,'propagate':!0x0,'messageType':_0x9cb7d1['Content'],'content':{'type':_0xae157c[_0x46bdb9(0x668)],'ownerId':this[_0x46bdb9(0x83c)][_0x46bdb9(0x3dd)](),'label':this[_0x46bdb9(0x19f)],'stream':{'streamId':this[_0x46bdb9(0x327)](),'availableTrackKinds':this[_0x46bdb9(0x8e1)]['getTracks']()[_0x46bdb9(0x3d5)](_0x39acc1=>_0x39acc1[_0x46bdb9(0x520)])}}});}[_0x5a8b1c(0x695)](){const _0xe1bad1=_0x5a8b1c;this[_0xe1bad1(0x625)]['publish']({'sourceId':this[_0xe1bad1(0x83c)][_0xe1bad1(0x3dd)](),'propagate':!0x0,'messageType':_0x9cb7d1[_0xe1bad1(0x420)],'content':{'type':_0xae157c[_0xe1bad1(0x394)],'ownerId':this[_0xe1bad1(0x83c)][_0xe1bad1(0x3dd)](),'label':this['label']}}),this[_0xe1bad1(0x625)][_0xe1bad1(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0xe1bad1(0x420)],'content':{'type':_0xae157c['CloseMediaStream'],'label':this[_0xe1bad1(0x19f)]}}),_0x241131['logServiceEvent'](_0x261e7f[_0xe1bad1(0x161)],{'type':_0xe1bad1(0x695),'label':this['label'],'nodeId':this['owner'][_0xe1bad1(0x3dd)](),'nodeType':this[_0xe1bad1(0x83c)][_0xe1bad1(0x2a5)],'clusterId':this['clusterId'],'streamId':this[_0xe1bad1(0x327)]()});}[_0x5a8b1c(0x30a)](){return this['priority'];}[_0x5a8b1c(0xa84)](_0x439e8a){const _0x357bf5=_0x5a8b1c;this[_0x357bf5(0x2bf)]=_0x439e8a,this[_0x357bf5(0x2bc)]['forEach'](_0x5ddb34=>_0x5ddb34[_0x357bf5(0xa84)](_0x439e8a));}[_0x5a8b1c(0xac4)](_0x58da6c,_0xf8ed94){const _0x11900a=_0x5a8b1c;if(!this[_0x11900a(0x2bc)][_0x11900a(0x149)](_0x58da6c)){const _0x16762e=new _0x28ddd1(this[_0x11900a(0x83c)],this['label'],this[_0x11900a(0x8e1)],_0x58da6c,_0xf8ed94),_0x3d61e8=_0x16762e[_0x11900a(0x4e3)](()=>{const _0x1522e1=_0x11900a;_0x3d61e8(),this['outgoingStreams'][_0x1522e1(0x8a4)](_0x58da6c)?.['destroy'](),this[_0x1522e1(0x2bc)]['delete'](_0x58da6c);});this[_0x11900a(0x2bc)]['set'](_0x58da6c,_0x16762e),_0x16762e[_0x11900a(0x3ee)](this[_0x11900a(0x625)]);}return this[_0x11900a(0x2bc)]['get'](_0x58da6c);}['getShareableStreamId'](){return this['mediaStream']['id'];}[_0x5a8b1c(0x373)](_0x4ee49c){const _0x12c3f3=_0x5a8b1c;this[_0x12c3f3(0x625)]['publish']({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x12c3f3(0x420)],'content':{'type':_0xae157c[_0x12c3f3(0x56e)],'label':this[_0x12c3f3(0x19f)],'trackKinds':[_0x4ee49c['kind']]}});}[_0x5a8b1c(0x2d2)](_0x4da12e){const _0x51b2b8=_0x5a8b1c,_0x5c760d=()=>this['handleLocalTrackFailure'](_0x4da12e);_0x4da12e[_0x51b2b8(0x36e)](_0x51b2b8(0x34d),_0x5c760d),_0x4da12e[_0x51b2b8(0x36e)]('mute',_0x5c760d),this['trackEndedListeners'][_0x51b2b8(0x984)](_0x4da12e[_0x51b2b8(0x520)],()=>{const _0x2fccaf=_0x51b2b8;_0x4da12e[_0x2fccaf(0x7d5)](_0x2fccaf(0x34d),_0x5c760d),_0x4da12e[_0x2fccaf(0x7d5)]('mute',_0x5c760d),this[_0x2fccaf(0x880)][_0x2fccaf(0x1cd)](_0x4da12e[_0x2fccaf(0x520)]);});}}class _0x2595fb extends _0x5c843f{[_0x5a8b1c(0x71c)];[_0x5a8b1c(0x2cb)]=[];[_0x5a8b1c(0x97d)];[_0x5a8b1c(0x663)];[_0x5a8b1c(0xa16)];['sourceVideo'];['canvas'];[_0x5a8b1c(0x826)];[_0x5a8b1c(0x3e4)];constructor(_0x45ea00,_0x1e7e61,_0x231d50,_0x21b719,_0x195af4,_0x11d2d0){const _0x212750=_0x5a8b1c;if(super(_0x45ea00,_0x1e7e61,_0x231d50,_0x11d2d0),this[_0x212750(0x71c)]=_0x195af4,this[_0x212750(0x97d)]=this[_0x212750(0x8e1)],this[_0x212750(0x1b9)]=document[_0x212750(0x9fd)](_0x212750(0x498)),this[_0x212750(0x1b9)][_0x212750(0x36a)]=!0x0,this[_0x212750(0x1b9)][_0x212750(0x7ce)]=!0x0,this[_0x212750(0x1b9)][_0x212750(0x502)]=this[_0x212750(0x97d)],this['sourceVideo']['load'](),this[_0x212750(0x1b9)][_0x212750(0x870)]=()=>{const _0x4bb800=_0x212750;this[_0x4bb800(0x1b9)][_0x4bb800(0x95e)]();},this['canvas']=document[_0x212750(0x9fd)](_0x212750(0x354)),this[_0x212750(0x826)]=this[_0x212750(0x354)][_0x212750(0x40f)]('2d'),this[_0x212750(0x8e1)]=this[_0x212750(0x354)]['captureStream'](_0x21b719),this[_0x212750(0xa16)]=this[_0x212750(0x71c)][_0x212750(0x954)](),this[_0x212750(0x97d)]['getAudioTracks']()[_0x212750(0xa39)]>0x0){const _0x16c13b=this[_0x212750(0x97d)]['getAudioTracks']()[0x0];this[_0x212750(0x663)]=this[_0x212750(0x71c)][_0x212750(0x516)](new MediaStream([_0x16c13b])),this[_0x212750(0x663)][_0x212750(0x61f)](this['audioDestination']);}const _0x4a0ce8=this['audioDestination']['stream'][_0x212750(0x1ad)]()[0x0];this[_0x212750(0x8e1)][_0x212750(0x225)](_0x4a0ce8),this[_0x212750(0x3e4)]=setInterval(()=>{const _0x33832a=_0x212750;this[_0x33832a(0x354)][_0x33832a(0x3cf)]=this[_0x33832a(0x1b9)][_0x33832a(0x314)],this[_0x33832a(0x354)][_0x33832a(0x537)]=this[_0x33832a(0x1b9)][_0x33832a(0x531)],this[_0x33832a(0x1b9)]['videoWidth']?(0x0!==this[_0x33832a(0x97d)][_0x33832a(0x1f7)]()[_0x33832a(0xa39)]&&this['clientStream']['getVideoTracks']()[0x0][_0x33832a(0x4e2)]?this[_0x33832a(0x8e1)][_0x33832a(0x1f7)]()[0x0][_0x33832a(0x4e2)]=!0x0:this[_0x33832a(0x8e1)][_0x33832a(0x1f7)]()[0x0][_0x33832a(0x4e2)]=!0x1,0x0!==this['clientStream']['getAudioTracks']()[_0x33832a(0xa39)]&&this[_0x33832a(0x97d)]['getAudioTracks']()[0x0]['enabled']?this[_0x33832a(0x8e1)][_0x33832a(0x792)]()[0x0][_0x33832a(0x4e2)]=!0x0:this[_0x33832a(0x8e1)]['getAudioTracks']()[0x0][_0x33832a(0x4e2)]=!0x1,this[_0x33832a(0x826)][_0x33832a(0x24c)](this[_0x33832a(0x1b9)],0x0,0x0)):this[_0x33832a(0x826)][_0x33832a(0x221)](0x0,0x0,this[_0x33832a(0x354)][_0x33832a(0x3cf)],this[_0x33832a(0x354)][_0x33832a(0x537)]);},0x3e8/_0x21b719);}[_0x5a8b1c(0x865)](){const _0x19a500=_0x5a8b1c;clearInterval(this[_0x19a500(0x3e4)]),this['sourceVideo']['remove'](),this[_0x19a500(0x354)]['remove'](),this[_0x19a500(0x663)]?.[_0x19a500(0x2ab)](),this[_0x19a500(0xa16)][_0x19a500(0x2ab)](),this[_0x19a500(0x8e1)]['getTracks']()[_0x19a500(0x775)](_0x2cffff=>{const _0x4de45c=_0x19a500;_0x2cffff[_0x4de45c(0x9be)](),this[_0x4de45c(0x8e1)][_0x4de45c(0x889)](_0x2cffff);}),super[_0x19a500(0x865)]();}[_0x5a8b1c(0x225)](_0x29da37){const _0x54e87a=_0x5a8b1c,_0x11effa=this[_0x54e87a(0x867)](_0x29da37[_0x54e87a(0x520)]);_0x11effa&&this[_0x54e87a(0x889)](_0x11effa),_0x54e87a(0x35a)!==_0x29da37[_0x54e87a(0x520)]?('video'===_0x29da37[_0x54e87a(0x520)]&&this[_0x54e87a(0x7ec)](_0x29da37),this[_0x54e87a(0x2d2)](_0x29da37)):this[_0x54e87a(0x8ba)](_0x29da37);}[_0x5a8b1c(0x889)](_0x4dbdc8){const _0x127e1f=_0x5a8b1c,_0x195a38=this[_0x127e1f(0x72c)](_0x4dbdc8);return _0x195a38&&(_0x127e1f(0x35a)===_0x195a38['kind']&&(this[_0x127e1f(0x663)]?.['disconnect'](),this[_0x127e1f(0x663)]=void 0x0),this[_0x127e1f(0x880)][_0x127e1f(0x8a4)](_0x195a38['kind'])?.(),this[_0x127e1f(0x97d)][_0x127e1f(0x889)](_0x195a38)),_0x195a38;}['replaceTrack'](_0x155064){const _0x588e1d=_0x5a8b1c;this[_0x588e1d(0x889)](_0x155064[_0x588e1d(0x520)]),this[_0x588e1d(0x225)](_0x155064);}[_0x5a8b1c(0xa26)](_0x5c6329){const _0xa0bae4=_0x5a8b1c;this[_0xa0bae4(0x2cb)]=_0x5c6329;}['getTrack'](_0x44699d){const _0x1260b5=_0x5a8b1c;return this[_0x1260b5(0x97d)][_0x1260b5(0x1ad)]()[_0x1260b5(0x5dd)](_0x3226cd=>_0x3226cd[_0x1260b5(0x520)]===_0x44699d)||null;}[_0x5a8b1c(0x72c)](_0x8984e3){const _0x193b02=_0x5a8b1c;return _0x193b02(0x6e2)==typeof _0x8984e3?this[_0x193b02(0x867)](_0x8984e3):_0x8984e3;}[_0x5a8b1c(0x8ba)](_0x4a1c84){const _0x4bbce4=_0x5a8b1c;_0x4bbce4(0x797)===this[_0x4bbce4(0x71c)]['state']&&this[_0x4bbce4(0x71c)][_0x4bbce4(0x5ce)](),this[_0x4bbce4(0x97d)]['addTrack'](_0x4a1c84),this['audioSource']=this['audioContext'][_0x4bbce4(0x516)](this['clientStream']),this[_0x4bbce4(0x663)][_0x4bbce4(0x61f)](this[_0x4bbce4(0xa16)]);}[_0x5a8b1c(0x7ec)](_0x4e1464){const _0x4899cb=_0x5a8b1c;this[_0x4899cb(0x97d)][_0x4899cb(0x225)](_0x4e1464),this[_0x4899cb(0x1b9)]['load']();}}class _0x4b27f9 extends _0x5c843f{}class _0x31b903 extends _0x43d50a{['localNode'];[_0x5a8b1c(0x659)];[_0x5a8b1c(0x26a)];['transactionService'];[_0x5a8b1c(0x8af)];[_0x5a8b1c(0x392)];[_0x5a8b1c(0x3d4)];[_0x5a8b1c(0x9e9)];[_0x5a8b1c(0x7ca)]=new Map();[_0x5a8b1c(0x8c9)]=new Map();[_0x5a8b1c(0x9d3)]=new Map();[_0x5a8b1c(0x500)]=new Map();[_0x5a8b1c(0x906)]=new Map();[_0x5a8b1c(0x1d9)]=new Map();[_0x5a8b1c(0x754)];[_0x5a8b1c(0x15d)]=_0x28f8fd();[_0x5a8b1c(0x588)]=new Map();['debounceStats'];[_0x5a8b1c(0x673)]=0x0;[_0x5a8b1c(0x342)]=0x0;[_0x5a8b1c(0x528)]=!0x0;[_0x5a8b1c(0xa09)]=!0x0;[_0x5a8b1c(0xa06)]=0x0;[_0x5a8b1c(0x5cd)]=0x0;constructor(_0x15a615,_0x3ac2bf,_0x299424,_0x9430db,_0x57dac4,_0x2ac34d,_0x462740,_0x42ae06){const _0x438fbc=_0x5a8b1c;if('string'!=typeof _0x3ac2bf)throw new _0x4ec9e4(_0x47ec8c[_0x438fbc(0x4c3)],_0x438fbc(0x5cc));super(_0x15a615,_0x3ac2bf),this['localNode']=_0x15a615,this[_0x438fbc(0x659)]=_0x299424,this[_0x438fbc(0x26a)]=_0x9430db,this[_0x438fbc(0x335)]=_0x57dac4,this[_0x438fbc(0x8af)]=_0x462740,this[_0x438fbc(0x392)]=_0x42ae06;const _0x5d1f57=_0x438fbc(0xaa5)+this[_0x438fbc(0x26a)]+_0x438fbc(0xaa5)+this[_0x438fbc(0x659)]+_0x438fbc(0xaa5)+_0x3ac2bf;this[_0x438fbc(0x754)]=new _0x2ac34d(_0x5d1f57),this[_0x438fbc(0x528)]=this[_0x438fbc(0x392)]?.[_0x438fbc(0x528)]??!0x0,this[_0x438fbc(0x392)]?.[_0x438fbc(0x95f)]&&(this[_0x438fbc(0x528)]=!0x1),this[_0x438fbc(0x812)]();}[_0x5a8b1c(0xb32)](){const _0x270a8d=_0x5a8b1c;this[_0x270a8d(0x812)]();}[_0x5a8b1c(0x62f)](){return _0x52baed['ContentType']['ObjectStore'];}async[_0x5a8b1c(0x4df)](){const _0x4cc8d1=_0x5a8b1c;this[_0x4cc8d1(0xa09)]=!0x0;try{const _0x13aaf9=await this['objectStoreConnector']['get'](_0x24b450),_0x867e4e=await _0x13aaf9[_0x4cc8d1(0x2fc)]();this['lastTransactionId']=_0x867e4e;}catch(_0x35b89f){}this['unsubscribeHandler']=this['onMessage'](async(_0x5b7008,_0x4415ff)=>{const _0x328127=_0x4cc8d1;if(!(_0x4415ff instanceof File))try{if(_0x4415ff['payloadType']===_0x1aa919['Request'])return void this[_0x328127(0x444)](_0x4415ff);this[_0x328127(0x8df)](_0x4415ff);}catch(_0x3d9068){if(_0x3d9068 instanceof _0xdb384)throw _0x3d9068;throw new _0xdb384(_0xdb384[_0x328127(0x549)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x4415ff});}}),await this['syncTransactions'](),this[_0x4cc8d1(0x528)]?await this[_0x4cc8d1(0x52d)]():this[_0x4cc8d1(0x5f3)](),this[_0x4cc8d1(0x812)]();}[_0x5a8b1c(0x865)](){const _0xdd9f58=_0x5a8b1c;this[_0xdd9f58(0x3d4)]?.(),this['listenerUnsubscribers'][_0xdd9f58(0x775)](_0x50d619=>_0x50d619()),this['listenerUnsubscribers']['clear'](),clearTimeout(this['debounceStats']),delete this[_0xdd9f58(0x709)],super[_0xdd9f58(0x865)]();}[_0x5a8b1c(0x494)](){const _0x1c46ff=_0x5a8b1c;this[_0x1c46ff(0x625)]?.[_0x1c46ff(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x1c46ff(0x420)],'content':{'type':_0xae157c[_0x1c46ff(0x892)],'label':this[_0x1c46ff(0x19f)]}});}[_0x5a8b1c(0x19a)](_0x81a615,_0x57a8ab){const _0x4ea415=_0x5a8b1c;if(this[_0x4ea415(0x588)]['has'](_0x81a615))throw new _0x4ec9e4(_0x47ec8c['ObjectStoreAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this['listenerUnsubscribers'][_0x4ea415(0x984)](_0x81a615,this[_0x4ea415(0x15d)][_0x4ea415(0x19a)](_0x57a8ab)),this[_0x4ea415(0xa09)]||this['eventListener'][_0x4ea415(0x590)]({'event':_0x52baed[_0x4ea415(0x36d)][_0x4ea415(0x204)],'payload':{'filesSynced':this[_0x4ea415(0xa06)]}});}[_0x5a8b1c(0xa68)](_0x3bb580){const _0xd3b758=_0x5a8b1c;this[_0xd3b758(0x588)][_0xd3b758(0x8a4)](_0x3bb580)?.(),this[_0xd3b758(0x588)]['delete'](_0x3bb580);}['publish'](_0x2e7120){const _0x288e8f=_0x5a8b1c;switch(_0x2e7120[_0x288e8f(0x866)]){case _0x52baed[_0x288e8f(0x4b7)][_0x288e8f(0x9a2)]:return this[_0x288e8f(0x612)](_0x2e7120[_0x288e8f(0x186)],_0x2e7120[_0x288e8f(0x191)],_0x2e7120['options']);case _0x52baed[_0x288e8f(0x4b7)][_0x288e8f(0x623)]:return this[_0x288e8f(0x22d)](_0x2e7120[_0x288e8f(0x191)]);case _0x52baed[_0x288e8f(0x4b7)]['Move']:return this[_0x288e8f(0x9e7)](_0x2e7120[_0x288e8f(0x191)],_0x2e7120[_0x288e8f(0x296)]);default:throw new _0x4ec9e4(_0x47ec8c['ObjectStoreInvalidPayload'],_0x288e8f(0xa36)+_0x2e7120);}}async[_0x5a8b1c(0x695)](_0x5f5254){const _0x26c0a1=_0x5a8b1c;try{const _0x28d185=(0x0,_0x4804e8['v4'])(),_0x8cd7ef=this['lastTransactionId'],_0x475b21={'payloadType':_0x1aa919[_0x26c0a1(0x536)],'action':_0xc6a83a['Delete'],'id':_0x28d185,'parentId':_0x8cd7ef,'path':_0x5f5254};await this[_0x26c0a1(0x5b2)](_0x475b21);const _0x55dfda=await this[_0x26c0a1(0x4e6)](_0x5f5254);!0x0!==this[_0x26c0a1(0x392)]?.[_0x26c0a1(0x95f)]&&await this[_0x26c0a1(0x28e)](_0x475b21),_0x241131['logServiceEvent'](_0x261e7f[_0x26c0a1(0x263)],{'type':_0x26c0a1(0x695),'label':this[_0x26c0a1(0x19f)],'nodeId':this[_0x26c0a1(0x650)]['getId'](),'nodeType':this[_0x26c0a1(0x650)][_0x26c0a1(0x2a5)],'clusterId':this[_0x26c0a1(0x659)],'kind':_0x55dfda,'path':_0x5f5254}),this['writes']+=0x1,this[_0x26c0a1(0x812)]();}catch(_0x5587d0){if(_0x5587d0 instanceof _0xdb384)throw new _0x4ec9e4(_0x47ec8c[_0x26c0a1(0x55d)],_0x26c0a1(0x4c0)+_0x5f5254+_0x26c0a1(0x57c));throw new _0x4ec9e4(_0x47ec8c['ObjectStoreInvalidPath'],_0x26c0a1(0x6e0)+_0x5f5254);}}async['get'](_0x3d3b0a,_0x4dff43){const _0x5b3940=_0x5a8b1c;_0x241131[_0x5b3940(0xa29)](_0x261e7f[_0x5b3940(0x263)],{'type':_0x5b3940(0x8a4),'label':this[_0x5b3940(0x19f)],'nodeId':this[_0x5b3940(0x650)][_0x5b3940(0x3dd)](),'nodeType':this[_0x5b3940(0x650)][_0x5b3940(0x2a5)],'clusterId':this['clusterId'],'path':_0x3d3b0a}),this[_0x5b3940(0x342)]+=0x1,this['sendStats']();try{return await this[_0x5b3940(0x754)]['get'](_0x3d3b0a,_0x4dff43);}catch(_0x5d1660){try{await this[_0x5b3940(0x754)][_0x5b3940(0x8a4)](_0x3d3b0a+_0x46294c);}catch(_0x2e29fc){throw new _0x4ec9e4(_0x47ec8c['ObjectStoreInvalidPath'],_0x5b3940(0xb12)+_0x3d3b0a);}throw new _0x4ec9e4(_0x47ec8c['ObjectStoreNotInSync'],_0x5b3940(0xa33));}}async[_0x5a8b1c(0x24a)](_0x9d6d69,_0x3afae7){const _0xe86384=_0x5a8b1c,{recursive:_0x43dcd7=!0x1,includeSyncingFiles:_0x5f0933=!0x1}=_0x3afae7??{};_0x241131[_0xe86384(0xa29)](_0x261e7f[_0xe86384(0x263)],{'type':_0xe86384(0x24a),'label':this['label'],'nodeId':this[_0xe86384(0x650)]['getId'](),'nodeType':this[_0xe86384(0x650)][_0xe86384(0x2a5)],'clusterId':this[_0xe86384(0x659)],'path':_0x9d6d69}),this[_0xe86384(0x342)]+=0x1,this[_0xe86384(0x812)]();try{const _0x4ba259=await this[_0xe86384(0x754)][_0xe86384(0x24a)](_0x9d6d69,_0x43dcd7);return this[_0xe86384(0x678)](_0x4ba259,{'recursive':_0x43dcd7,'includeSyncingFiles':_0x5f0933});}catch(_0x2ebe25){throw new _0x4ec9e4(_0x47ec8c[_0xe86384(0x6bf)],_0xe86384(0x8c4)+_0x9d6d69);}}[_0x5a8b1c(0x232)](_0x25f0dc){const _0x4dee34=_0x5a8b1c;this[_0x4dee34(0x5cd)]+=0x1;for(const _0x44181e of this[_0x4dee34(0x8c9)][_0x4dee34(0x4c2)]())this[_0x4dee34(0x28e)](_0x44181e,[_0x25f0dc]);}['handleNodeLeave'](_0xa30550){const _0x46a3c1=_0x5a8b1c;this[_0x46a3c1(0x5cd)]-=0x1;const _0x451abd=this[_0x46a3c1(0x9d3)]['get'](_0xa30550);if(_0x451abd){for(const [_0x20d101,_0x4398a3]of _0x451abd['values']())this[_0x46a3c1(0x76e)](_0x20d101,_0x4398a3);this[_0x46a3c1(0x9d3)]['delete'](_0xa30550);}}async[_0x5a8b1c(0x4ad)](_0x1fcddd='/'){const _0x31b3b1=_0x5a8b1c;try{return await this[_0x31b3b1(0x754)][_0x31b3b1(0x350)](_0x1fcddd);}catch(_0x45b838){if(_0x45b838 instanceof Error&&_0x45b838[_0x31b3b1(0x421)][_0x31b3b1(0x595)](_0x31b3b1(0x3e0)))return 0x0;throw new _0x4ec9e4(_0x47ec8c[_0x31b3b1(0x6bf)],_0x31b3b1(0x2e8)+_0x1fcddd);}}[_0x5a8b1c(0x5f3)](){const _0x199b32=_0x5a8b1c;this[_0x199b32(0xa09)]&&(this[_0x199b32(0xa09)]=!0x1,this[_0x199b32(0x15d)][_0x199b32(0x590)]({'event':_0x52baed[_0x199b32(0x36d)]['SyncComplete'],'payload':{'filesSynced':this[_0x199b32(0xa06)]}}));}async[_0x5a8b1c(0x678)](_0x20c680,{includeSyncingFiles:_0x437acb=!0x1}){const _0x4130aa=_0x5a8b1c,_0xe2841=[];for(const _0x37ec4b of _0x20c680)if(_0x37ec4b[_0x4130aa(0x520)]!==_0x52baed[_0x4130aa(0x898)][_0x4130aa(0x623)]){if(_0x37ec4b[_0x4130aa(0x45a)]!==_0x24b450){if(_0x37ec4b['name'][_0x4130aa(0x13d)](_0x46294c)){if(!_0x437acb)continue;const _0x152ee5=_0x37ec4b;if(_0x152ee5[_0x4130aa(0x45a)]=_0x152ee5['name'][_0x4130aa(0x937)](_0x46294c,''),_0x152ee5[_0x4130aa(0xa87)]=_0x152ee5[_0x4130aa(0xa87)]['replace'](_0x46294c,''),await this[_0x4130aa(0x261)](_0x152ee5['pathName'])){_0x20c680[_0x4130aa(0x5dd)](_0x537304=>_0x537304[_0x4130aa(0xa87)]===_0x152ee5[_0x4130aa(0xa87)])[_0x4130aa(0x33d)]=_0x52baed[_0x4130aa(0xaab)][_0x4130aa(0x80f)];continue;}_0x152ee5[_0x4130aa(0x33d)]=_0x52baed[_0x4130aa(0xaab)]['Pending'];}_0xe2841[_0x4130aa(0x3a9)](_0x37ec4b);}}else _0x37ec4b[_0x4130aa(0x322)]=await this['processList'](_0x37ec4b['entries']??[],{'includeSyncingFiles':_0x437acb}),_0xe2841[_0x4130aa(0x3a9)](_0x37ec4b);return _0xe2841;}async['publishFile'](_0x2c3995,_0x5a39f3,_0x222479){const _0x5ccce7=_0x5a8b1c;try{const _0x356582=(0x0,_0x4804e8['v4'])(),_0xb3c416=await _0x2ac76d(_0x2c3995),_0x59f913=_0x20bd8c(_0x5a39f3??'/',_0x2c3995[_0x5ccce7(0x45a)]);let _0x1a28df=!0x0;const _0x299054={'payloadType':_0x1aa919['Transaction'],'action':_0xc6a83a[_0x5ccce7(0x831)],'id':_0x356582,'parentId':this['lastTransactionId'],'answererId':this[_0x5ccce7(0x650)]['getId'](),'name':_0x2c3995['name'],'type':_0x2c3995[_0x5ccce7(0x2a5)],'path':_0x5a39f3??'/','skipEncryption':_0x222479?.['skipEncryption']??!0x1,'checksum':_0xb3c416};try{if(!_0x222479?.[_0x5ccce7(0xaff)])throw new Error(_0x5ccce7(0x661));const _0x4cf4b6=_0x59f913+_0x46294c;await this[_0x5ccce7(0x754)][_0x5ccce7(0x8a4)](_0x4cf4b6),_0x1a28df=!0x1,await this[_0x5ccce7(0x754)]['deleteObject'](_0x4cf4b6),this['objectRequests'][_0x5ccce7(0x1cd)](_0x59f913);}catch(_0x5904b2){await this[_0x5ccce7(0x5b2)](_0x299054);}if(this[_0x5ccce7(0x528)]||this[_0x5ccce7(0x392)]?.[_0x5ccce7(0x95f)]?await this[_0x5ccce7(0x390)](_0x2c3995,_0x5a39f3,_0x222479):await this[_0x5ccce7(0x6e1)](_0x2c3995['name'],_0x5a39f3??'/',{'checksum':_0xb3c416,'skipEncryption':_0x222479?.[_0x5ccce7(0x146)]??!0x1}),this[_0x5ccce7(0x1d9)][_0x5ccce7(0x149)](_0x59f913)){const [_0x703a8c,_0x8802ee]=this[_0x5ccce7(0x1d9)][_0x5ccce7(0x8a4)](_0x59f913);this[_0x5ccce7(0x1d9)][_0x5ccce7(0x984)](_0x59f913,[!0x0,_0x8802ee]);try{await _0x8802ee;}catch(_0x32bac4){}this[_0x5ccce7(0x1d9)][_0x5ccce7(0x1cd)](_0x59f913);}_0x1a28df&&this['nodesConnected']>0x0&&!0x0!==this[_0x5ccce7(0x392)]?.[_0x5ccce7(0x95f)]&&await this[_0x5ccce7(0x247)](_0x2c3995,_0x299054),_0x241131[_0x5ccce7(0xa29)](_0x261e7f[_0x5ccce7(0x263)],{'type':_0x5ccce7(0x590),'label':this[_0x5ccce7(0x19f)],'nodeId':this['localNode'][_0x5ccce7(0x3dd)](),'nodeType':this['localNode'][_0x5ccce7(0x2a5)],'clusterId':this['clusterId'],'kind':_0x52baed[_0x5ccce7(0x898)][_0x5ccce7(0x9a2)],'path':_0x5a39f3,'fileName':_0x2c3995[_0x5ccce7(0x45a)],'fileType':_0x2c3995[_0x5ccce7(0x2a5)],'size':_0x2c3995[_0x5ccce7(0xaf1)]}),this[_0x5ccce7(0x673)]+=0x1,this['sendStats']();}catch(_0xb11aec){if(_0xb11aec instanceof _0xdb384)throw new _0x4ec9e4(_0x47ec8c[_0x5ccce7(0x55d)],_0x5ccce7(0xa33));throw new _0x4ec9e4(_0x47ec8c[_0x5ccce7(0x6bf)],_0x5ccce7(0xb11)+_0x5a39f3+(_0x5a39f3?.[_0x5ccce7(0x13d)]('/')?'':'/')+_0x2c3995['name']);}}async[_0x5a8b1c(0x22d)](_0x10ef73){const _0x31fe2d=_0x5a8b1c;try{const _0x24d0b9=(0x0,_0x4804e8['v4'])(),_0x2acadc=this[_0x31fe2d(0x9e9)],_0x30e1e8={'payloadType':_0x1aa919[_0x31fe2d(0x536)],'action':_0xc6a83a[_0x31fe2d(0xad2)],'id':_0x24d0b9,'parentId':_0x2acadc,'path':_0x10ef73};await this[_0x31fe2d(0x5b2)](_0x30e1e8),await this[_0x31fe2d(0x754)][_0x31fe2d(0x405)](_0x10ef73),!0x0!==this[_0x31fe2d(0x392)]?.[_0x31fe2d(0x95f)]&&await this[_0x31fe2d(0x28e)](_0x30e1e8),_0x241131['logServiceEvent'](_0x261e7f[_0x31fe2d(0x263)],{'type':_0x31fe2d(0x590),'label':this[_0x31fe2d(0x19f)],'nodeId':this[_0x31fe2d(0x650)][_0x31fe2d(0x3dd)](),'nodeType':this[_0x31fe2d(0x650)]['type'],'clusterId':this[_0x31fe2d(0x659)],'kind':_0x52baed[_0x31fe2d(0x898)][_0x31fe2d(0x623)],'path':_0x10ef73}),this[_0x31fe2d(0x673)]+=0x1,this['sendStats']();}catch(_0x4a58fc){if(_0x4a58fc instanceof _0xdb384)throw new _0x4ec9e4(_0x47ec8c[_0x31fe2d(0x55d)],_0x31fe2d(0xa33));throw new _0x4ec9e4(_0x47ec8c[_0x31fe2d(0x6bf)],'Cannot\x20publish\x20folder:\x20'+_0x10ef73);}}async['publishMove'](_0x28e576,_0x198988){const _0x48ffba=_0x5a8b1c;try{const _0x5c8168=(0x0,_0x4804e8['v4'])(),_0x1f96f6=this[_0x48ffba(0x9e9)],_0x20dbb8={'payloadType':_0x1aa919[_0x48ffba(0x536)],'action':_0xc6a83a['Move'],'id':_0x5c8168,'parentId':_0x1f96f6,'path':_0x28e576,'newPath':_0x198988};await this[_0x48ffba(0x5b2)](_0x20dbb8);const _0x4344ba=await this[_0x48ffba(0x71a)](_0x28e576,_0x198988);!0x0!==this[_0x48ffba(0x392)]?.[_0x48ffba(0x95f)]&&await this['send'](_0x20dbb8),_0x241131['logServiceEvent'](_0x261e7f[_0x48ffba(0x263)],{'type':_0x48ffba(0x1fa),'label':this['label'],'nodeId':this['localNode'][_0x48ffba(0x3dd)](),'nodeType':this[_0x48ffba(0x650)][_0x48ffba(0x2a5)],'clusterId':this['clusterId'],'kind':_0x4344ba,'path':_0x28e576,'newPath':_0x198988}),this[_0x48ffba(0x673)]+=0x1,this[_0x48ffba(0x812)]();}catch(_0x14540e){if(_0x14540e instanceof _0xdb384)throw new _0x4ec9e4(_0x47ec8c[_0x48ffba(0x55d)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x4ec9e4(_0x47ec8c['ObjectStoreInvalidPath'],_0x48ffba(0x700)+_0x28e576);}}async['handleTransactionPayload'](_0x2cfbb4,_0x2cd934=!0x1){const _0x4ff645=_0x5a8b1c;if(this[_0x4ff645(0x9e9)]&&_0x2cfbb4['parentId']!==this[_0x4ff645(0x9e9)]&&_0x2cfbb4['id']!==this[_0x4ff645(0x9e9)]){if(!_0x2cfbb4[_0x4ff645(0x994)])throw new _0xdb384(_0xdb384[_0x4ff645(0x549)][_0x4ff645(0x6a1)]);this[_0x4ff645(0x7ca)][_0x4ff645(0x984)](_0x2cfbb4['parentId'],_0x2cfbb4);}else{try{await this[_0x4ff645(0x92a)](_0x2cfbb4,_0x2cd934);}catch(_0x4cfe0c){}await this['updateLastTransactionId'](_0x2cfbb4['id']),await this[_0x4ff645(0x64a)](_0x2cfbb4['id'],_0x2cd934);}}async[_0x5a8b1c(0x92a)](_0x1a5a2a,_0x30b281=!0x1){const _0x19d32f=_0x5a8b1c;switch(_0x1a5a2a[_0x19d32f(0x866)]){case _0xc6a83a[_0x19d32f(0x831)]:await this[_0x19d32f(0x330)](_0x1a5a2a);break;case _0xc6a83a[_0x19d32f(0xad2)]:await this[_0x19d32f(0x9cb)](_0x1a5a2a);break;case _0xc6a83a[_0x19d32f(0x67c)]:await this[_0x19d32f(0x323)](_0x1a5a2a,_0x30b281);break;case _0xc6a83a[_0x19d32f(0xb3e)]:await this[_0x19d32f(0x6ca)](_0x1a5a2a,_0x30b281);break;default:throw new _0xdb384(_0xdb384['codes'][_0x19d32f(0x6a1)],{'payload':_0x1a5a2a});}}async['processPendingSyncTransactions'](_0x175533,_0x4daba6=!0x1){const _0x2f20c3=_0x5a8b1c;if(this[_0x2f20c3(0x7ca)][_0x2f20c3(0x149)](_0x175533)){const _0x4310ab=this[_0x2f20c3(0x7ca)][_0x2f20c3(0x8a4)](_0x175533);this['pendingSyncTransactions'][_0x2f20c3(0x1cd)](_0x175533),await this[_0x2f20c3(0x8df)](_0x4310ab,_0x4daba6);}}async['handleRequestPayload'](_0x3248e3){const _0x44bed6=_0x5a8b1c;switch(_0x3248e3[_0x44bed6(0x866)]){case _0xc6a83a[_0x44bed6(0x5c9)]:return this[_0x44bed6(0x652)](_0x3248e3);case _0xc6a83a[_0x44bed6(0x660)]:return this[_0x44bed6(0x763)](_0x3248e3);case _0xc6a83a[_0x44bed6(0x41d)]:return this[_0x44bed6(0x56a)](_0x3248e3);case _0xc6a83a['RequestFileWrite']:return this[_0x44bed6(0x330)](_0x3248e3);default:throw new _0xdb384(_0xdb384[_0x44bed6(0x549)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x3248e3});}}async[_0x5a8b1c(0x330)](_0x569762,_0x1e2de9=0x0){const _0x3c8092=_0x5a8b1c,_0x495a3d=_0x20bd8c(_0x569762[_0x3c8092(0x191)],_0x569762[_0x3c8092(0x45a)]);if(!_0x569762[_0x3c8092(0x349)]||void 0x0===_0x569762['index']||!_0x569762['total'])return this['fileChunks']['delete'](_0x495a3d),void await this[_0x3c8092(0x6e1)](_0x569762['name'],_0x569762[_0x3c8092(0x191)],{'checksum':_0x569762[_0x3c8092(0xa0c)],'skipEncryption':_0x569762[_0x3c8092(0x146)]});if(this[_0x3c8092(0x3c7)]['has'](_0x495a3d)){const _0x27d562=this[_0x3c8092(0x3c7)][_0x3c8092(0x8a4)](_0x495a3d);_0x27d562[_0x3c8092(0xa0c)]!==_0x569762[_0x3c8092(0xa0c)]&&(_0x27d562[_0x3c8092(0x975)]?.[_0x3c8092(0x494)](),this[_0x3c8092(0x3c7)]['delete'](_0x495a3d));}if(!this[_0x3c8092(0x3c7)][_0x3c8092(0x149)](_0x495a3d)){try{await this['objectStoreConnector'][_0x3c8092(0x4e6)](_0x495a3d);}catch(_0x30f11a){}try{const _0x4956e4=this[_0x3c8092(0x528)]?await this[_0x3c8092(0x754)][_0x3c8092(0xabb)](_0x495a3d,{'skipEncryption':_0x569762[_0x3c8092(0x146)]}):void 0x0,_0x1502bb={'chunksReceived':_0x569762[_0x3c8092(0x2d9)]??0x0,'bytesReceived':0x0,'stream':_0x4956e4,'checksum':_0x569762[_0x3c8092(0xa0c)]};this[_0x3c8092(0x3c7)][_0x3c8092(0x984)](_0x495a3d,_0x1502bb),await this[_0x3c8092(0x6e1)](_0x569762['name'],_0x569762[_0x3c8092(0x191)],{'checksum':_0x569762[_0x3c8092(0xa0c)],'skipEncryption':_0x569762[_0x3c8092(0x146)]});}catch(_0x3ab545){}}const _0x5c1fc1=this['fileChunks'][_0x3c8092(0x8a4)](_0x495a3d);if(_0x569762[_0x3c8092(0xa0c)]!==_0x5c1fc1[_0x3c8092(0xa0c)])return;if(this[_0x3c8092(0xa03)](_0x569762,_0x495a3d),this[_0x3c8092(0x528)]){if(!_0x5c1fc1[_0x3c8092(0x975)])throw new _0xdb384(_0xdb384[_0x3c8092(0x549)]['ObjectStoreInvalidSyncMessage'],{'message':_0x3c8092(0x658)});let _0x216355=_0x5c1fc1[_0x3c8092(0x489)];if(_0x569762[_0x3c8092(0x960)]!==_0x216355){if(_0x216355>_0x569762[_0x3c8092(0x960)])return;const _0x5a4c1f=0x1000;if(_0x569762[_0x3c8092(0x960)]>_0x216355+_0x5a4c1f)return;if(_0x5c1fc1[_0x3c8092(0xb46)]||(_0x5c1fc1['bufferedChunks']=[]),_0x5c1fc1[_0x3c8092(0xb46)][_0x3c8092(0xa39)]>0x4000)throw this[_0x3c8092(0x3c7)][_0x3c8092(0x1cd)](_0x495a3d),new _0xdb384(_0xdb384[_0x3c8092(0x549)][_0x3c8092(0x6a1)],{'message':_0x3c8092(0x891)});return void _0x5c1fc1['bufferedChunks']['push'](_0x569762);}try{_0x5c1fc1[_0x3c8092(0x489)]+=0x1,_0x5c1fc1[_0x3c8092(0xa4c)]+=_0x569762[_0x3c8092(0x349)][_0x3c8092(0x475)],await _0x5c1fc1[_0x3c8092(0x975)][_0x3c8092(0x5ab)](_0x569762['data']);}catch(_0x4941b7){if(console[_0x3c8092(0x5fb)](_0x3c8092(0x5dc),_0x4941b7),_0x1e2de9>0x3)throw this[_0x3c8092(0x3c7)][_0x3c8092(0x1cd)](_0x495a3d),console[_0x3c8092(0x5fb)](_0x3c8092(0x9bb),_0x4941b7),new _0xdb384(_0xdb384['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x3c8092(0x9bb)});return this[_0x3c8092(0x330)](_0x569762,_0x1e2de9+0x1);}}try{await this['manageBufferedChunks'](_0x5c1fc1,_0x569762[_0x3c8092(0x960)]+0x1);}catch(_0x1d0706){throw this[_0x3c8092(0x3c7)][_0x3c8092(0x1cd)](_0x495a3d),_0x1d0706;}if(this['fileChunks'][_0x3c8092(0x984)](_0x495a3d,_0x5c1fc1),_0x5c1fc1[_0x3c8092(0x489)]<_0x569762[_0x3c8092(0x8d6)])return;await this[_0x3c8092(0x7b2)](_0x495a3d),this[_0x3c8092(0x528)]&&(await this[_0x3c8092(0x3ab)](_0x569762),_0x241131[_0x3c8092(0xa29)](_0x261e7f[_0x3c8092(0x263)],{'type':_0x3c8092(0x4df),'label':this['label'],'nodeId':this[_0x3c8092(0x650)][_0x3c8092(0x3dd)](),'nodeType':this['localNode'][_0x3c8092(0x2a5)],'clusterId':this[_0x3c8092(0x659)],'kind':_0x52baed[_0x3c8092(0x898)][_0x3c8092(0x9a2)],'path':_0x569762[_0x3c8092(0x191)],'fileName':_0x569762['name'],'fileType':_0x569762[_0x3c8092(0x2a5)],'size':_0x5c1fc1[_0x3c8092(0xa4c)]}));const _0x27b4dc=this['pendingFilesTransactions'][_0x3c8092(0x8a4)](_0x569762['path'])??[];for(const _0x501770 of _0x27b4dc)await this[_0x3c8092(0x92a)](_0x501770);this['pendingFilesTransactions'][_0x3c8092(0x1cd)](_0x569762['path']),this[_0x3c8092(0x15d)]['publish']({'event':_0x52baed[_0x3c8092(0x36d)][_0x3c8092(0x831)],'payload':{'file':{'kind':_0x52baed[_0x3c8092(0x898)][_0x3c8092(0x9a2)],'path':_0x569762[_0x3c8092(0x191)],'type':_0x569762['type'],'size':_0x5c1fc1[_0x3c8092(0xa4c)],'name':_0x569762[_0x3c8092(0x45a)],'pathName':_0x495a3d,'status':this[_0x3c8092(0x528)]?_0x52baed['FileStatus'][_0x3c8092(0x799)]:_0x52baed[_0x3c8092(0xaab)][_0x3c8092(0xadc)]}}}),this[_0x3c8092(0x812)]();}async['manageBufferedChunks'](_0x1e0f6f,_0x37beac){const _0x49c4ba=_0x5a8b1c,_0x21c309=_0x1e0f6f['stream'];let _0x24ad03=0x0;for(;_0x1e0f6f[_0x49c4ba(0xb46)]&&_0x1e0f6f['bufferedChunks'][_0x49c4ba(0xa39)]>0x0;){const _0x1c030c=_0x1e0f6f[_0x49c4ba(0xb46)][_0x49c4ba(0x5dd)](_0x47fa07=>_0x47fa07[_0x49c4ba(0x960)]===_0x37beac+0x1);if(!_0x1c030c)break;_0x1e0f6f[_0x49c4ba(0xb46)]=_0x1e0f6f[_0x49c4ba(0xb46)][_0x49c4ba(0x930)](_0x50ae37=>_0x50ae37[_0x49c4ba(0x960)]!==_0x37beac+0x1);try{await _0x21c309[_0x49c4ba(0x5ab)](_0x1c030c[_0x49c4ba(0x349)]),_0x37beac++;}catch(_0x3bd867){if(console['error']('Error\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x3bd867),_0x24ad03>0x3)throw console['error'](_0x49c4ba(0x43a),_0x3bd867),new _0xdb384(_0xdb384['codes'][_0x49c4ba(0x6a1)],{'message':_0x49c4ba(0x43a)});_0x24ad03++;continue;}_0x1e0f6f[_0x49c4ba(0x489)]+=0x1,_0x1e0f6f[_0x49c4ba(0xa4c)]+=_0x1c030c[_0x49c4ba(0x349)][_0x49c4ba(0x475)];}}async[_0x5a8b1c(0x9cb)](_0x225fba){const _0x2c9688=_0x5a8b1c;await this[_0x2c9688(0x754)][_0x2c9688(0x405)](_0x225fba[_0x2c9688(0x191)]);const [_0x57fb29,_0x3aa5aa]=_0x922eb0(_0x225fba['path']);this[_0x2c9688(0x15d)][_0x2c9688(0x590)]({'event':_0x52baed['StorageEventType'][_0x2c9688(0xad2)],'payload':{'folder':{'kind':_0x52baed[_0x2c9688(0x898)]['Folder'],'name':_0x3aa5aa,'path':_0x57fb29,'pathName':_0x225fba['path']}}});}async['handleObjectDelete'](_0x3cc07c,_0x590059=!0x1){const _0x3b7b8e=_0x5a8b1c;if(!_0x590059&&!this['shouldProcessTransaction'](_0x3cc07c))return;const _0x2ddd10=await this[_0x3b7b8e(0x4e6)](_0x3cc07c[_0x3b7b8e(0x191)]),[_0x399215,_0x4f4cc4]=_0x922eb0(_0x3cc07c[_0x3b7b8e(0x191)]);this['eventListener'][_0x3b7b8e(0x590)]({'event':_0x2ddd10===_0x52baed['ObjectKind'][_0x3b7b8e(0x623)]?_0x52baed[_0x3b7b8e(0x36d)][_0x3b7b8e(0x18a)]:_0x52baed[_0x3b7b8e(0x36d)][_0x3b7b8e(0x522)],'payload':{'name':_0x4f4cc4,'path':_0x399215,'pathName':_0x3cc07c[_0x3b7b8e(0x191)]}}),this[_0x3b7b8e(0x812)]();}async[_0x5a8b1c(0x323)](_0x44c613,_0x2ba9d8=!0x1){const _0x419209=_0x5a8b1c;if(!_0x2ba9d8&&!this[_0x419209(0xa64)](_0x44c613))return this[_0x419209(0x906)][_0x419209(0x984)](_0x44c613[_0x419209(0x296)],this[_0x419209(0x906)][_0x419209(0x8a4)](_0x44c613[_0x419209(0x191)])??_0x44c613[_0x419209(0x191)]),void this[_0x419209(0x906)][_0x419209(0x1cd)](_0x44c613[_0x419209(0x191)]);this[_0x419209(0x906)][_0x419209(0x1cd)](_0x44c613[_0x419209(0x191)]);const _0x242d8b=await this[_0x419209(0x754)][_0x419209(0x71a)](_0x44c613[_0x419209(0x191)],_0x44c613[_0x419209(0x296)]),[_0x1b682d,_0x1d7cc0]=_0x922eb0(_0x44c613[_0x419209(0x191)]),[_0x33ce7d,_0x25fa8b]=_0x922eb0(_0x44c613[_0x419209(0x296)]);this[_0x419209(0x15d)][_0x419209(0x590)]({'event':_0x242d8b===_0x52baed[_0x419209(0x898)][_0x419209(0x623)]?_0x52baed[_0x419209(0x36d)][_0x419209(0x769)]:_0x52baed[_0x419209(0x36d)]['FileMove'],'payload':{'name':_0x25fa8b,'path':_0x33ce7d,'pathName':_0x44c613[_0x419209(0x296)],'oldName':_0x1d7cc0,'oldPath':_0x1b682d,'oldPathName':_0x44c613['path']}}),this[_0x419209(0x812)]();}[_0x5a8b1c(0xa64)](_0xfed1d){const _0x742a28=_0x5a8b1c,_0x55a1cb=this[_0x742a28(0x906)][_0x742a28(0x8a4)](_0xfed1d[_0x742a28(0x191)])??_0xfed1d['path'];let _0xa7112a=!0x1;for(const _0x54046b of this[_0x742a28(0x3c7)]['keys']())if(_0x54046b[_0x742a28(0x54c)](_0x55a1cb)){const _0x434897=this[_0x742a28(0x500)][_0x742a28(0x8a4)](_0x54046b)??[];_0x434897['push'](_0xfed1d),this[_0x742a28(0x500)][_0x742a28(0x984)](_0x54046b,_0x434897),_0xa7112a=!0x0;}return!_0xa7112a;}async[_0x5a8b1c(0x5b2)](_0x1fc257){const _0x1e6def=_0x5a8b1c;if(!this[_0x1e6def(0x392)]?.['standalone']){if(!_0x1fc257['id'])throw new _0xdb384(_0xdb384[_0x1e6def(0x549)][_0x1e6def(0x6a1)],{'message':_0x1e6def(0x704)});if(_0x1fc257['parentId']!==this[_0x1e6def(0x9e9)])throw new _0xdb384(_0xdb384['codes'][_0x1e6def(0x3ca)]);await this[_0x1e6def(0x335)][_0x1e6def(0x882)](_0x1fc257,this[_0x1e6def(0x19f)]),await this['updateLastTransactionId'](_0x1fc257['id']);}}async[_0x5a8b1c(0xa10)](_0xa17d72){const _0xf2cea3=_0x5a8b1c;this[_0xf2cea3(0x9e9)]=_0xa17d72;const _0x99d002=new File([new Blob([this[_0xf2cea3(0x9e9)]])],_0x24b450,{'type':'text/plain'});await this['writeFile'](_0x99d002,'/');}async[_0x5a8b1c(0x652)](_0x124596){const _0x2181e1=_0x5a8b1c;try{const _0x4d6bee=await this['get'](_0x124596[_0x2181e1(0x191)]+'/'+_0x124596[_0x2181e1(0x45a)],{'skipEncryption':_0x124596[_0x2181e1(0x146)]}),_0xc9f307=await _0x2ac76d(_0x4d6bee);if(''!==_0x124596[_0x2181e1(0xa0c)]&&_0xc9f307!==_0x124596[_0x2181e1(0xa0c)])return;_0x124596['answererId']=this[_0x2181e1(0x650)]['getId'](),_0x124596[_0x2181e1(0x866)]=_0xc6a83a[_0x2181e1(0x660)],await this['send'](_0x124596,[_0x124596['sourceId']]);}catch(_0x1eaaa9){}}async[_0x5a8b1c(0x763)](_0x4d4e17){const _0x555220=_0x5a8b1c,_0x129623=_0x20bd8c(_0x4d4e17['path'],_0x4d4e17['name']);if(!this['objectRequests'][_0x555220(0x149)](_0x129623))return;const _0x4626c1=this[_0x555220(0x8c9)]['get'](_0x129623);_0x4626c1[_0x555220(0x866)]=_0xc6a83a[_0x555220(0x41d)];const _0x21e2d8=_0x4d4e17[_0x555220(0x38e)];if(!_0x21e2d8)throw new _0xdb384(_0xdb384[_0x555220(0x549)][_0x555220(0x6a1)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this[_0x555220(0x8c9)]['delete'](_0x129623),this[_0x555220(0x9d3)]['has'](_0x21e2d8)||this[_0x555220(0x9d3)][_0x555220(0x984)](_0x21e2d8,new Map()),this[_0x555220(0x9d3)]['get'](_0x21e2d8)[_0x555220(0x984)](_0x129623,[_0x4626c1,this[_0x555220(0x853)](_0x21e2d8,_0x129623)]),_0x4626c1[_0x555220(0x38e)]=_0x21e2d8,_0x4626c1[_0x555220(0x2d9)]=this[_0x555220(0x3c7)][_0x555220(0x8a4)](_0x129623)?.['chunksReceived']??0x0,0x0===_0x4626c1['startIndex'])try{const [_0x9c444,_0x3c2e48]=await this[_0x555220(0xacc)](_0x4d4e17[_0x555220(0x45a)],_0x4d4e17[_0x555220(0x191)],_0x4d4e17['checksum']);_0x9c444&&(_0x4626c1[_0x555220(0x2d9)]=_0x3c2e48);}catch(_0x40899b){}this[_0x555220(0x28e)](_0x4626c1,[_0x21e2d8]);}async[_0x5a8b1c(0x56a)](_0x4f5565){const _0x425020=_0x5a8b1c,_0xdc5bcc=_0x20bd8c(_0x4f5565['path'],_0x4f5565[_0x425020(0x45a)]),_0x3e532a=await this[_0x425020(0x8a4)](_0xdc5bcc,{'skipEncryption':_0x4f5565['skipEncryption']}),_0xe72c0={..._0x4f5565,'answererId':this[_0x425020(0x650)]['getId'](),'action':_0xc6a83a[_0x425020(0x9e1)],'startIndex':_0x4f5565[_0x425020(0x2d9)]??0x0};await this[_0x425020(0x247)](_0x3e532a,_0xe72c0,[_0x4f5565[_0x425020(0x2fb)]]);}async['sendFile'](_0x3c8ecf,_0xda5f05,_0x1dff8a){let _0x99826b,_0x6b2fdd;const _0x5d0ae9=new Promise(async(_0x4a52ce,_0x99949)=>{_0x99826b=_0x4a52ce,_0x6b2fdd=_0x99949;});return((async()=>{const _0x2a7aee=a0_0x2316,_0x4a6921=Math[_0x2a7aee(0xa99)](_0x3c8ecf['size']/_0x1e1d55);let _0x515352=_0xda5f05[_0x2a7aee(0x2d9)]??0x0;const _0x4b1a17=_0x20bd8c(_0xda5f05[_0x2a7aee(0x191)],_0xda5f05[_0x2a7aee(0x45a)]);this[_0x2a7aee(0x1d9)][_0x2a7aee(0x984)](_0x4b1a17,[!0x1,_0x5d0ae9]);for await(const _0x47eb04 of async function*(_0x5e7dcb,_0x51479a=0x0,_0x5291ae){for await(const _0x363c12 of _0x362ff2(_0x5e7dcb,_0x51479a,_0x5291ae))yield _0x363c12;}(_0x3c8ecf,_0x515352,this[_0x2a7aee(0x8af)])){const [_0x194da7]=this['fileSendingMap'][_0x2a7aee(0x8a4)](_0x4b1a17)??[];if(_0x194da7)return this[_0x2a7aee(0x1d9)][_0x2a7aee(0x1cd)](_0x4b1a17),void _0x6b2fdd(new Error(_0x2a7aee(0xb44)));if(this['pendingFilesTransactions'][_0x2a7aee(0x149)](_0x4b1a17)){const _0x1f9fe6=this[_0x2a7aee(0x500)][_0x2a7aee(0x8a4)](_0x4b1a17);for(const _0x1f7d66 of _0x1f9fe6)if(_0x1f7d66[_0x2a7aee(0x866)]===_0xc6a83a['FileWrite']||_0x1f7d66['action']===_0xc6a83a[_0x2a7aee(0xb3e)])return;}const _0x4350ea={..._0xda5f05,'type':_0x3c8ecf['type'],'data':_0x47eb04,'index':_0x515352,'total':_0x4a6921};this[_0x2a7aee(0x28e)](_0x4350ea,_0x1dff8a),_0x515352++;}const _0x2e0fc5=setInterval(async()=>{const _0x454fa6=_0x2a7aee;await this[_0x454fa6(0x8af)]()>0x0||(clearInterval(_0x2e0fc5),_0x99826b());});this[_0x2a7aee(0x1d9)][_0x2a7aee(0x1cd)](_0x4b1a17);})()),_0x5d0ae9;}async[_0x5a8b1c(0x3ab)](_0x3ebd31){const _0x4af9ff=_0x5a8b1c;try{const _0x1a2d7c=_0x20bd8c(_0x3ebd31[_0x4af9ff(0x191)],_0x3ebd31[_0x4af9ff(0x45a)]),_0x4500da=_0x1a2d7c+_0x46294c;await this['deleteObject'](_0x4500da);const [,_0x3a58c7]=this[_0x4af9ff(0x9d3)][_0x4af9ff(0x8a4)](_0x3ebd31['answererId'])?.['get'](_0x1a2d7c)??[];_0x3a58c7&&(clearTimeout(_0x3a58c7),this[_0x4af9ff(0x9d3)][_0x4af9ff(0x8a4)](_0x3ebd31[_0x4af9ff(0x38e)])[_0x4af9ff(0x1cd)](_0x1a2d7c));}catch(_0x52d859){}0x0===this[_0x4af9ff(0x9d3)][_0x4af9ff(0x8a4)](_0x3ebd31[_0x4af9ff(0x38e)])?.[_0x4af9ff(0xaf1)]&&this[_0x4af9ff(0x9d3)][_0x4af9ff(0x1cd)](_0x3ebd31[_0x4af9ff(0x38e)]),0x0===this[_0x4af9ff(0x9d3)]['size']&&0x0===this[_0x4af9ff(0x8c9)][_0x4af9ff(0xaf1)]&&this['completeSync']();}async[_0x5a8b1c(0x634)](){const _0x2420b2=_0x5a8b1c;try{const _0x2fa80a=await this[_0x2420b2(0x335)][_0x2420b2(0x415)](this[_0x2420b2(0x19f)],this[_0x2420b2(0x9e9)]);for(const _0x5a04aa of _0x2fa80a)await this['handleTransactionPayload'](_0x5a04aa,!0x0);}catch(_0x3fa789){if(_0x3fa789 instanceof _0xdb384&&_0x3fa789[_0x2420b2(0x5ac)]===_0xdb384[_0x2420b2(0x549)]['ObjectStoreInvalidState']){await this[_0x2420b2(0x754)][_0x2420b2(0x4e6)](_0x24b450),delete this[_0x2420b2(0x9e9)];try{const _0x44b11d=await this[_0x2420b2(0x754)][_0x2420b2(0x24a)]('/',!0x1);for(const _0x444b3d of _0x44b11d)await this[_0x2420b2(0x754)][_0x2420b2(0x4e6)](_0x444b3d[_0x2420b2(0xa87)]);}catch(_0x287020){}return await this[_0x2420b2(0x634)]();}throw _0x3fa789;}}async['syncPendingFiles'](){const _0x2a8497=_0x5a8b1c,_0x4aad28=await this[_0x2a8497(0x24a)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x41b1f3=async _0x4b45ef=>{const _0x2d0e26=_0x2a8497;for(const _0x3c7e03 of _0x4b45ef){if(_0x3c7e03['kind']===_0x52baed[_0x2d0e26(0x898)][_0x2d0e26(0x623)]){_0x3c7e03[_0x2d0e26(0x322)]&&_0x3c7e03['entries'][_0x2d0e26(0xa39)]>0x0&&await _0x41b1f3(_0x3c7e03[_0x2d0e26(0x322)]);continue;}if(_0x3c7e03[_0x2d0e26(0x33d)]!==_0x52baed[_0x2d0e26(0xaab)][_0x2d0e26(0xadc)])continue;const _0xc985ab=await this[_0x2d0e26(0x8a4)](_0x3c7e03[_0x2d0e26(0xa87)]+_0x46294c),_0x1b577a=JSON['parse'](await _0xc985ab[_0x2d0e26(0x2fc)]()),_0x26ab39=_0x3c7e03[_0x2d0e26(0x45a)][_0x2d0e26(0x937)](_0x46294c,''),_0x484777={'payloadType':_0x1aa919[_0x2d0e26(0xab7)],'action':_0xc6a83a[_0x2d0e26(0x5c9)],'sourceId':this[_0x2d0e26(0x650)]['getId'](),'type':'','path':_0x3c7e03[_0x2d0e26(0x191)],'name':_0x26ab39,'checksum':_0x1b577a[_0x2d0e26(0xa0c)],'skipEncryption':_0x1b577a[_0x2d0e26(0x146)]},_0x289ae0=_0x20bd8c(_0x3c7e03['path'],_0x26ab39);this[_0x2d0e26(0x8c9)][_0x2d0e26(0x984)](_0x289ae0,_0x484777);}};await _0x41b1f3(_0x4aad28),0x0===this[_0x2a8497(0x8c9)][_0x2a8497(0xaf1)]&&0x0===this['pendingFilesSyncing']['size']&&this[_0x2a8497(0x5f3)]();}async[_0x5a8b1c(0x6e1)](_0x45e791,_0x5050a6,_0x5c8edc){const _0x1bf98d=_0x5a8b1c,_0x257f6d=new File([new Blob([JSON[_0x1bf98d(0x2ed)](_0x5c8edc)])],''+_0x45e791+_0x46294c,{'type':_0x1bf98d(0x4f8)});await this[_0x1bf98d(0x390)](_0x257f6d,_0x5050a6);}async[_0x5a8b1c(0xacc)](_0x2116fa,_0x16093e,_0x16bf9b){const _0x5affbf=_0x5a8b1c;try{const _0x5168a8=_0x20bd8c(_0x16093e,_0x2116fa),_0x5e5f74=_0x5168a8+_0x46294c,_0x56532d=await this[_0x5affbf(0x754)][_0x5affbf(0x8a4)](_0x5e5f74),{checksum:_0x252b74,skipEncryption:_0x45967a}=JSON[_0x5affbf(0x85b)](await _0x56532d[_0x5affbf(0x2fc)]()),_0x39f4b2=(await this[_0x5affbf(0x754)]['get'](_0x5168a8,{'skipEncryption':_0x45967a}))[_0x5affbf(0xaf1)];return _0x252b74===_0x16bf9b&&_0x39f4b2%_0x1e1d55==0x0?[!0x0,Math[_0x5affbf(0x5ea)](_0x39f4b2/_0x1e1d55)]:(await this[_0x5affbf(0x754)][_0x5affbf(0x4e6)](_0x5168a8),[!0x1,0x0]);}catch(_0x5b650a){return[!0x1,0x0];}}[_0x5a8b1c(0x853)](_0x5c9fb2,_0x13c03a){const _0x303b56=_0x5a8b1c,[_0x3d42c0,_0x1f6a65]=this[_0x303b56(0x9d3)]['get'](_0x5c9fb2)?.[_0x303b56(0x8a4)](_0x13c03a)??[];return _0x1f6a65&&clearTimeout(_0x1f6a65),setTimeout(()=>{const _0x2829c8=_0x303b56,[_0x1d2383,_0x443ae4]=this[_0x2829c8(0x9d3)][_0x2829c8(0x8a4)](_0x5c9fb2)[_0x2829c8(0x8a4)](_0x13c03a);this['sendFileRequestPayload'](_0x1d2383,_0x443ae4);},0x927c0);}async['sendFileRequestPayload'](_0x25d135,_0x53f294){const _0x4df10d=_0x5a8b1c;clearTimeout(_0x53f294),_0x25d135[_0x4df10d(0x866)]=_0xc6a83a[_0x4df10d(0x5c9)],this[_0x4df10d(0x8c9)][_0x4df10d(0x984)](_0x20bd8c(_0x25d135[_0x4df10d(0x191)],_0x25d135[_0x4df10d(0x45a)]),_0x25d135),this[_0x4df10d(0x28e)](_0x25d135);}[_0x5a8b1c(0xa03)](_0x369ded,_0x41f901){const _0x40807f=_0x5a8b1c;if(!this[_0x40807f(0x528)])return;this[_0x40807f(0x9d3)][_0x40807f(0x149)](_0x369ded[_0x40807f(0x38e)])||this[_0x40807f(0x9d3)][_0x40807f(0x984)](_0x369ded['answererId'],new Map());const [_0x38316e]=this[_0x40807f(0x9d3)][_0x40807f(0x8a4)](_0x369ded[_0x40807f(0x38e)])[_0x40807f(0x8a4)](_0x41f901)??[{'payloadType':_0x1aa919[_0x40807f(0xab7)],'action':_0xc6a83a[_0x40807f(0x5c9)],'sourceId':this['localNode'][_0x40807f(0x3dd)](),'type':_0x369ded[_0x40807f(0x2a5)],'name':_0x369ded[_0x40807f(0x45a)],'path':_0x369ded[_0x40807f(0x191)],'skipEncryption':_0x369ded[_0x40807f(0x146)],'checksum':_0x369ded[_0x40807f(0xa0c)],'answererId':_0x369ded[_0x40807f(0x38e)]}];this[_0x40807f(0x9d3)][_0x40807f(0x8a4)](_0x369ded[_0x40807f(0x38e)])[_0x40807f(0x984)](_0x41f901,[_0x38316e,this['getOrResetPendingFileTimeout'](_0x369ded[_0x40807f(0x38e)],_0x41f901)]);}async[_0x5a8b1c(0x390)](_0x193098,_0xbaca9,_0x3a726a){const _0x736d63=_0x5a8b1c;this[_0x736d63(0xa09)]&&(this['filesSynced']+=0x1),await this[_0x736d63(0x754)][_0x736d63(0x390)](_0x193098,_0xbaca9,_0x3a726a);}async[_0x5a8b1c(0x4e6)](_0x5d1e5c){const _0xcba01c=_0x5a8b1c;try{const _0x4a4f26=await this[_0xcba01c(0x754)][_0xcba01c(0x4e6)](_0x5d1e5c);if(!_0x5d1e5c[_0xcba01c(0x13d)](_0x46294c))try{await this['objectStoreConnector']['deleteObject'](_0x5d1e5c+_0x46294c);}catch(_0x715925){}return this[_0xcba01c(0xa09)]&&_0x4a4f26===_0x52baed[_0xcba01c(0x898)][_0xcba01c(0x9a2)]&&(this[_0xcba01c(0xa06)]+=0x1),_0x4a4f26;}catch(_0x10af59){return await this[_0xcba01c(0x754)][_0xcba01c(0x4e6)](_0x5d1e5c+_0x46294c);}}async[_0x5a8b1c(0x71a)](_0x27035f,_0x28629e){const _0xee8dc1=_0x5a8b1c;try{const _0x542467=await this[_0xee8dc1(0x754)][_0xee8dc1(0x71a)](_0x27035f,_0x28629e);if(!_0x27035f[_0xee8dc1(0x13d)](_0x46294c))try{await this[_0xee8dc1(0x754)][_0xee8dc1(0x71a)](_0x27035f+_0x46294c,_0x28629e+_0x46294c);}catch(_0x527194){}return _0x542467;}catch(_0xe1c0ee){return await this[_0xee8dc1(0x754)][_0xee8dc1(0x71a)](_0x27035f+_0x46294c,_0x28629e+_0x46294c);}}[_0x5a8b1c(0x812)](){const _0x4ba72f=_0x5a8b1c;this['debounceStats']&&clearTimeout(this[_0x4ba72f(0x709)]),this[_0x4ba72f(0x709)]=setTimeout(async()=>{const _0x2beee6=_0x4ba72f;delete this[_0x2beee6(0x709)];const _0x3d5294=await this[_0x2beee6(0x754)][_0x2beee6(0x350)]('/');this[_0x2beee6(0x625)]?.[_0x2beee6(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1['Content'],'content':{'type':_0xae157c[_0x2beee6(0x3cc)],'label':this[_0x2beee6(0x19f)],'stats':{'timestamp':Date[_0x2beee6(0x744)](),'storage':_0x3d5294,'messagesSent':this[_0x2beee6(0xae5)],'messagesReceived':this[_0x2beee6(0x413)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this[_0x2beee6(0x673)],'reads':this[_0x2beee6(0x342)],'prompts':0x0,'tokens':0x0}}}),this[_0x2beee6(0x528)]&&_0x241131[_0x2beee6(0x511)](_0x261e7f[_0x2beee6(0x263)],_0x2beee6(0xaa5)+this[_0x2beee6(0x659)]+_0x2beee6(0xaa5)+this['label'],_0x3d5294);},_0x291af8);}async[_0x5a8b1c(0x261)](_0x4fb13f){const _0x424d1e=_0x5a8b1c;try{return await this[_0x424d1e(0x8a4)](_0x4fb13f),!0x0;}catch(_0x1fc667){return!0x1;}}async[_0x5a8b1c(0x7b2)](_0x79a339){const _0x45d34f=_0x5a8b1c;if(!this['fileChunks'][_0x45d34f(0x149)](_0x79a339))return;const _0x263204=this[_0x45d34f(0x3c7)][_0x45d34f(0x8a4)](_0x79a339);if(_0x263204['stream'])try{await _0x263204['stream']['close']();}catch(_0x3a3f0a){console[_0x45d34f(0x5fb)](_0x45d34f(0x406),_0x3a3f0a);}this['fileChunks']['delete'](_0x79a339);}}class _0x5422f7 extends _0x43d50a{['localNode'];[_0x5a8b1c(0x659)];['unsubscribeHandler']=new Map();[_0x5a8b1c(0x709)];constructor(_0x27cd65,_0x320ed8,_0x163599){const _0x176683=_0x5a8b1c;if('string'!=typeof _0x320ed8)throw new _0x4ec9e4(_0x47ec8c['PubSubTopicNameNotString'],_0x176683(0x1c8));super(_0x27cd65,_0x320ed8),this[_0x176683(0x650)]=_0x27cd65,this[_0x176683(0x659)]=_0x163599,this[_0x176683(0x812)]();}[_0x5a8b1c(0xb32)](){const _0x3254f4=_0x5a8b1c;this[_0x3254f4(0x812)]();}['getContentType'](){const _0x3428d6=_0x5a8b1c;return _0x52baed['ContentType'][_0x3428d6(0xad1)];}[_0x5a8b1c(0x590)](_0x5103b8,_0x113ed0){const _0x54477d=_0x5a8b1c;_0x241131['log'](_0xf47a5['PubSub'],'PubSubTopic\x20publish',this[_0x54477d(0x650)][_0x54477d(0x3dd)](),_0x5103b8,_0x113ed0),_0x241131[_0x54477d(0xa29)](_0x261e7f[_0x54477d(0xad1)],{'type':_0x54477d(0x590),'label':this[_0x54477d(0x19f)],'nodeId':this[_0x54477d(0x650)][_0x54477d(0x3dd)](),'nodeType':this[_0x54477d(0x650)][_0x54477d(0x2a5)],'clusterId':this[_0x54477d(0x659)],'remoteIds':_0x113ed0??[],'contentType':_0x5103b8 instanceof File?_0x52baed['ContentType'][_0x54477d(0x9a2)]:_0x52baed['ContentType']['Data'],'size':_0x5103b8 instanceof File?_0x5103b8['size']:JSON[_0x54477d(0x2ed)](_0x5103b8)[_0x54477d(0xa39)]}),this['sendStats'](),this[_0x54477d(0x28e)](_0x5103b8,_0x113ed0);}[_0x5a8b1c(0x19a)](_0xad1b85,_0x46870c){const _0x8a6ec7=_0x5a8b1c;if(this[_0x8a6ec7(0x3d4)][_0x8a6ec7(0x149)](_0xad1b85))throw new _0x4ec9e4(_0x47ec8c[_0x8a6ec7(0x9b9)],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x8a6ec7(0x3d4)]['set'](_0xad1b85,this[_0x8a6ec7(0x756)]((_0x79a1f2,_0xb21a4d)=>{const _0x379581=_0x8a6ec7;_0x379581(0x349)===_0xad1b85&&_0xb21a4d instanceof File||!(_0x379581(0x186)!==_0xad1b85||_0xb21a4d instanceof File)||(_0x241131[_0x379581(0x2d3)](_0xf47a5[_0x379581(0xad1)],_0x379581(0x7e5),this['localNode'][_0x379581(0x3dd)](),_0x79a1f2,_0xb21a4d),_0x241131['logServiceEvent'](_0x261e7f[_0x379581(0xad1)],{'type':_0x379581(0x19a),'label':this['label'],'nodeId':this[_0x379581(0x650)][_0x379581(0x3dd)](),'nodeType':this[_0x379581(0x650)]['type'],'clusterId':this[_0x379581(0x659)],'remoteId':_0x79a1f2,'contentType':_0xad1b85,'size':_0xb21a4d instanceof File?_0xb21a4d[_0x379581(0xaf1)]:JSON['stringify'](_0xb21a4d)[_0x379581(0xa39)]}),this[_0x379581(0x812)](),_0x46870c(_0x79a1f2,_0xb21a4d));}));}[_0x5a8b1c(0xa68)](_0x32feca){const _0x5d6e0b=_0x5a8b1c;this[_0x5d6e0b(0x3d4)][_0x5d6e0b(0x8a4)](_0x32feca)?.(),this['unsubscribeHandler'][_0x5d6e0b(0x1cd)](_0x32feca);}[_0x5a8b1c(0x865)](){const _0x440ec5=_0x5a8b1c;this['unsubscribeHandler'][_0x440ec5(0x775)](_0x2c5402=>_0x2c5402()),clearTimeout(this[_0x440ec5(0x709)]),delete this['debounceStats'],super[_0x440ec5(0x865)]();}[_0x5a8b1c(0x494)](){const _0x616e58=_0x5a8b1c;this[_0x616e58(0x625)]?.['publish']({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x616e58(0x420)],'content':{'type':_0xae157c[_0x616e58(0x321)],'label':this['label']}});}['sendStats'](){const _0x1c6804=_0x5a8b1c;this[_0x1c6804(0x709)]&&clearTimeout(this[_0x1c6804(0x709)]),this[_0x1c6804(0x709)]=setTimeout(()=>{const _0x5c5ee3=_0x1c6804;this[_0x5c5ee3(0x625)]?.['publish']({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x5c5ee3(0x420)],'content':{'type':_0xae157c[_0x5c5ee3(0x338)],'label':this[_0x5c5ee3(0x19f)],'stats':{'timestamp':Date[_0x5c5ee3(0x744)](),'storage':0x0,'messagesSent':this[_0x5c5ee3(0xae5)],'messagesReceived':this[_0x5c5ee3(0x413)],'bytesSent':this[_0x5c5ee3(0x398)],'bytesReceived':this[_0x5c5ee3(0xa4c)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x291af8);}}class _0x439d9d extends _0x3383c6{[_0x5a8b1c(0x650)];['internalId'];[_0x5a8b1c(0xaef)];[_0x5a8b1c(0x659)];['unsubscribeHandler'];['resizeHandler'];['updateDebounce'];[_0x5a8b1c(0x2bc)]=new Map();['renderElement'];[_0x5a8b1c(0x96c)]=new Set();[_0x5a8b1c(0x55f)];[_0x5a8b1c(0xaf8)]=_0x28f8fd();['trackEndedListeners']=new Map();constructor(_0x418f93,_0x1a909a,_0x533890,_0x21c364,_0x2b33a2,_0x4b2e21){const _0x213626=_0x5a8b1c;super(_0x1a909a,_0x533890,new MediaStream()),this[_0x213626(0x650)]=_0x418f93,this[_0x213626(0x78b)]=_0x21c364,this[_0x213626(0xaef)]=_0x2b33a2,this[_0x213626(0x659)]=_0x4b2e21,this[_0x213626(0x8e1)][_0x213626(0x1ad)]()[_0x213626(0x775)](_0x447862=>this[_0x213626(0x2d2)](_0x447862));}[_0x5a8b1c(0x865)](){const _0xc121ed=_0x5a8b1c;this[_0xc121ed(0x2bc)][_0xc121ed(0xaf1)]>0x0&&(this['outgoingStreams'][_0xc121ed(0x775)](_0x40eac3=>{const _0xd10f0e=_0xc121ed;_0x40eac3[_0xd10f0e(0x8f7)](),_0x40eac3[_0xd10f0e(0x865)]();}),this[_0xc121ed(0x2bc)][_0xc121ed(0x5a9)]()),this[_0xc121ed(0x880)][_0xc121ed(0x775)](_0x156401=>_0x156401()),this['mediaStream']['getTracks']()[_0xc121ed(0x775)](_0x952d85=>this[_0xc121ed(0x8e1)][_0xc121ed(0x889)](_0x952d85)),this[_0xc121ed(0x2e0)]&&(clearTimeout(this[_0xc121ed(0x2e0)]),delete this[_0xc121ed(0x2e0)]),this[_0xc121ed(0x600)]?.(),super[_0xc121ed(0x865)]();}[_0x5a8b1c(0x230)](_0x341545){const _0x4c497f=_0x5a8b1c;this[_0x4c497f(0x3d4)]=_0x341545['subscribe'](({content:_0xdd410f})=>{const _0x58b50a=_0x4c497f;switch(_0xdd410f[_0x58b50a(0x866)]){case _0x4a37a5[_0x58b50a(0x81a)]:if(_0x241131['log'](_0xf47a5[_0x58b50a(0x2cf)],_0x58b50a(0x3e2),this[_0x58b50a(0x650)]['getId'](),this[_0x58b50a(0x55f)]),_0xdd410f[_0x58b50a(0x975)]['id']!==this['internalId']||_0xdd410f[_0x58b50a(0x55f)]!==this[_0x58b50a(0x55f)])return;this[_0x58b50a(0x889)](_0xdd410f[_0x58b50a(0xa75)][_0x58b50a(0x520)]),this['mediaStream']['addTrack'](_0xdd410f[_0x58b50a(0xa75)]);for(const [_0x4309da,_0x41c646]of this[_0x58b50a(0x2bc)][_0x58b50a(0x322)]())try{_0x41c646[_0x58b50a(0x225)](_0xdd410f[_0x58b50a(0xa75)]);}catch(_0x1b6305){_0x41c646[_0x58b50a(0x865)](),this['outgoingStreams'][_0x58b50a(0x1cd)](_0x4309da);}this[_0x58b50a(0x2d2)](_0xdd410f['track']),this[_0x58b50a(0xb23)](),'video'===_0xdd410f[_0x58b50a(0xa75)][_0x58b50a(0x520)]&&this['renderElement']&&(this[_0x58b50a(0x8e1)][_0x58b50a(0x9fa)]?setTimeout(()=>this[_0x58b50a(0x434)]?.[_0x58b50a(0x95e)](),0x0):setTimeout(()=>this[_0x58b50a(0x434)]?.[_0x58b50a(0x78e)](),0x0),this[_0x58b50a(0x62a)]());break;case _0x4a37a5['RemoteRemove']:if(_0xdd410f['stream']['id']!==this[_0x58b50a(0x78b)]||_0xdd410f[_0x58b50a(0x55f)]!==this[_0x58b50a(0x55f)])return;this[_0x58b50a(0x889)](_0xdd410f[_0x58b50a(0xa75)][_0x58b50a(0x520)]),this[_0x58b50a(0x434)]&&_0x58b50a(0x498)===_0xdd410f['track']['kind']&&(this[_0x58b50a(0x600)]?.(),this['mediaStream'][_0x58b50a(0x1ad)]()[_0x58b50a(0xa39)]>0x0?this[_0x58b50a(0x434)][_0x58b50a(0x78e)]():this['renderElement'][_0x58b50a(0x502)]=null);}});}['unregisterSubscriber'](){const _0xf16ff9=_0x5a8b1c;this['unsubscribeHandler']?.(),this[_0xf16ff9(0x880)]['forEach'](_0x278fc0=>_0x278fc0()),delete this[_0xf16ff9(0x3d4)];}[_0x5a8b1c(0x327)](){return this['internalId'];}['setInternalId'](_0x454d03){this['internalId']=_0x454d03;}[_0x5a8b1c(0x291)](){const _0x45a4b5=_0x5a8b1c;return this[_0x45a4b5(0xaef)];}[_0x5a8b1c(0x7cd)](_0x3c73da){const _0x302f74=_0x5a8b1c;for(const _0xd6828a of _0x3c73da||this[_0x302f74(0xaef)])if(!this[_0x302f74(0x8e1)][_0x302f74(0x1ad)]()[_0x302f74(0x5dd)](_0x50ab13=>_0x50ab13[_0x302f74(0x520)]===_0xd6828a))return!0x1;return!0x0;}[_0x5a8b1c(0x388)](){const _0x4b510e=_0x5a8b1c;let _0x190c34={'width':0x0,'height':0x0};const _0x5d13a1=this['mediaStream'][_0x4b510e(0x1f7)]();if(_0x5d13a1[_0x4b510e(0xa39)]>0x0){const _0x5a7e0f=_0x5d13a1[0x0]['getSettings']();_0x5a7e0f[_0x4b510e(0x3cf)]&&_0x5a7e0f[_0x4b510e(0x537)]&&(_0x190c34={'width':_0x5a7e0f['width'],'height':_0x5a7e0f[_0x4b510e(0x537)]});}return _0x190c34;}[_0x5a8b1c(0x723)](_0x55496c){const _0x74b923=_0x5a8b1c;for(const _0x433f85 of _0x55496c)if(!this[_0x74b923(0x96c)][_0x74b923(0x149)](_0x433f85))return!0x1;return!0x0;}[_0x5a8b1c(0xac4)](_0x554865,_0x72e99){const _0x1f9f8b=_0x5a8b1c;if(!this[_0x1f9f8b(0x2bc)]['has'](_0x554865)){const _0x3a11a7=new _0x28ddd1(this['owner'],this[_0x1f9f8b(0x19f)],this[_0x1f9f8b(0x8e1)],_0x554865,_0x72e99),_0x3176de=_0x3a11a7[_0x1f9f8b(0x4e3)](()=>{const _0xf60525=_0x1f9f8b;_0x3176de(),this['outgoingStreams'][_0xf60525(0x8a4)](_0x554865)?.[_0xf60525(0x865)](),this['outgoingStreams']['delete'](_0x554865);});this[_0x1f9f8b(0x2bc)][_0x1f9f8b(0x984)](_0x554865,_0x3a11a7),_0x3a11a7[_0x1f9f8b(0x3ee)](this[_0x1f9f8b(0x625)]);}return this[_0x1f9f8b(0x2bc)][_0x1f9f8b(0x8a4)](_0x554865);}[_0x5a8b1c(0x5f5)](){const _0x56d1e4=_0x5a8b1c;return this[_0x56d1e4(0x8e1)]['id'];}[_0x5a8b1c(0x30a)](){const _0xd0f799=_0x5a8b1c;return _0x52baed[_0xd0f799(0x7c5)]['Default'];}[_0x5a8b1c(0x41e)](){const _0x37c89e=_0x5a8b1c;return Array[_0x37c89e(0x47c)](this[_0x37c89e(0x96c)]);}[_0x5a8b1c(0x19a)](_0x45f08f){const _0x3c5e55=_0x5a8b1c;let _0x2d8692=[];if(_0x45f08f){'object'!=typeof _0x45f08f[_0x3c5e55(0x498)]||_0x45f08f[_0x3c5e55(0x498)]['renderElement']instanceof HTMLVideoElement||!this[_0x3c5e55(0x434)]||(_0x45f08f['video']={'renderElement':this[_0x3c5e55(0x434)]});try{(0x0,_0x52baed[_0x3c5e55(0x785)])(_0x45f08f);}catch(_0x183db9){throw new _0x4ec9e4(_0x47ec8c['RemoteMediaStreamInvalidSubscriptionParams'],_0x3c5e55(0x639));}_0x45f08f['video']&&(_0x2d8692[_0x3c5e55(0x3a9)](_0x3c5e55(0x498)),'boolean'!=typeof _0x45f08f[_0x3c5e55(0x498)]&&_0x45f08f[_0x3c5e55(0x498)][_0x3c5e55(0x434)]&&(this[_0x3c5e55(0x434)]=_0x45f08f[_0x3c5e55(0x498)][_0x3c5e55(0x434)],_0x45f08f[_0x3c5e55(0x498)][_0x3c5e55(0x84d)]||(_0x45f08f[_0x3c5e55(0x498)][_0x3c5e55(0x84d)]={'width':this[_0x3c5e55(0x434)]['clientWidth'],'height':this[_0x3c5e55(0x434)][_0x3c5e55(0x138)]}),delete _0x45f08f[_0x3c5e55(0x498)][_0x3c5e55(0x434)])),_0x45f08f[_0x3c5e55(0x35a)]&&_0x2d8692[_0x3c5e55(0x3a9)](_0x3c5e55(0x35a));}else _0x2d8692=this['getAvailableTrackKinds']();this['isSubscribed'](_0x2d8692)||(_0x2d8692['forEach'](_0x3f1352=>this['subscribedTracks']['add'](_0x3f1352)),this[_0x3c5e55(0x625)][_0x3c5e55(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1['Content'],'content':{'type':_0xae157c[_0x3c5e55(0x8d5)],'label':this['label'],'ownerId':this[_0x3c5e55(0x83c)][_0x3c5e55(0x3dd)](),'trackKinds':_0x2d8692,'params':_0x45f08f}}),_0x241131[_0x3c5e55(0xa29)](_0x261e7f[_0x3c5e55(0x161)],{'type':_0x3c5e55(0x19a),'label':this[_0x3c5e55(0x19f)],'nodeId':this[_0x3c5e55(0x650)][_0x3c5e55(0x3dd)](),'nodeType':this[_0x3c5e55(0x650)][_0x3c5e55(0x2a5)],'clusterId':this[_0x3c5e55(0x659)],'sourceId':this[_0x3c5e55(0x83c)][_0x3c5e55(0x3dd)](),'streamId':this[_0x3c5e55(0x78b)],'trackKinds':_0x2d8692}));}[_0x5a8b1c(0xafb)](_0x27159f){const _0x3e44cf=_0x5a8b1c;try{(0x0,_0x52baed[_0x3e44cf(0x785)])(_0x27159f);}catch(_0x1850b2){throw new _0x4ec9e4(_0x47ec8c[_0x3e44cf(0x391)],_0x3e44cf(0x639));}this[_0x3e44cf(0x2e0)]&&clearTimeout(this[_0x3e44cf(0x2e0)]),this[_0x3e44cf(0x2e0)]=setTimeout(()=>{const _0x19276f=_0x3e44cf;delete this[_0x19276f(0x2e0)],this[_0x19276f(0x625)][_0x19276f(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x19276f(0x420)],'content':{'type':_0xae157c[_0x19276f(0x790)],'label':this[_0x19276f(0x19f)],'ownerId':this[_0x19276f(0x83c)]['getId'](),'params':_0x27159f}});},0x1f4);}[_0x5a8b1c(0xa68)](_0x262de7){const _0xafb059=_0x5a8b1c;_0x262de7||(_0x262de7=this[_0xafb059(0x291)]()),(_0x262de7=Array[_0xafb059(0x83f)](_0x262de7)?_0x262de7:[_0x262de7])['forEach'](_0x3fb3ba=>this[_0xafb059(0x96c)][_0xafb059(0x1cd)](_0x3fb3ba)),this[_0xafb059(0x625)][_0xafb059(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0xafb059(0x420)],'content':{'type':_0xae157c[_0xafb059(0x9ed)],'label':this[_0xafb059(0x19f)],'ownerId':this[_0xafb059(0x83c)][_0xafb059(0x3dd)](),'trackKinds':_0x262de7,'remainingTracks':this[_0xafb059(0x96c)][_0xafb059(0xaf1)]}});}['onProviderChange'](_0x36dc6f){const _0x535982=_0x5a8b1c;return this[_0x535982(0xaf8)][_0x535982(0x19a)](_0x36dc6f);}['getProviderId'](){const _0x42e6e8=_0x5a8b1c;return this[_0x42e6e8(0x55f)];}[_0x5a8b1c(0x3f8)](_0x15ee21){const _0x2441c1=_0x5a8b1c;this[_0x2441c1(0x55f)]!==_0x15ee21&&(this['providerId']=_0x15ee21,this[_0x2441c1(0xaf8)]['publish'](_0x15ee21));}[_0x5a8b1c(0x418)](_0x270b21){const _0x387dcd=_0x5a8b1c;this[_0x387dcd(0x880)][_0x387dcd(0x8a4)](_0x270b21)?.(),this[_0x387dcd(0x880)][_0x387dcd(0x1cd)](_0x270b21);}[_0x5a8b1c(0x889)](_0x367668){const _0x24d095=_0x5a8b1c,_0xdd28f=this[_0x24d095(0x8e1)][_0x24d095(0x1ad)]()[_0x24d095(0x5dd)](_0x4e33ab=>_0x4e33ab['kind']===_0x367668);_0xdd28f&&(this['mediaStream'][_0x24d095(0x889)](_0xdd28f),this[_0x24d095(0x2bc)][_0x24d095(0x775)](_0x3fc70e=>_0x3fc70e[_0x24d095(0x889)](_0x367668)),this['trackEndedListeners'][_0x24d095(0x8a4)](_0x367668)?.());}[_0x5a8b1c(0xb23)](){const _0x347e46=_0x5a8b1c;this[_0x347e46(0x434)]&&(this[_0x347e46(0x434)]['srcObject']&&this[_0x347e46(0x434)]['srcObject']===this['mediaStream']||(this[_0x347e46(0x434)][_0x347e46(0x502)]=this[_0x347e46(0x8e1)]));}[_0x5a8b1c(0x62a)](){const _0x3d391a=_0x5a8b1c;if(this[_0x3d391a(0x434)]&&!this['resizeHandler']&&_0x3d391a(0x1bb)!=typeof ResizeObserver){let _0x1fe537=this[_0x3d391a(0x434)][_0x3d391a(0x18c)],_0x1a65a8=this[_0x3d391a(0x434)][_0x3d391a(0x138)];const _0x285671=new ResizeObserver(_0x22a1df=>{const _0x1dfda8=_0x3d391a,{width:_0x3f37b9,height:_0x346ffd}=_0x22a1df[0x0][_0x1dfda8(0x359)];_0x1fe537===_0x3f37b9&&_0x1a65a8===_0x346ffd||(_0x1fe537=Math['floor'](_0x3f37b9),_0x1a65a8=Math['floor'](_0x346ffd),this[_0x1dfda8(0xafb)]({'video':{'maxResolution':{'width':_0x3f37b9,'height':_0x346ffd}}}));});_0x285671[_0x3d391a(0x70b)](this[_0x3d391a(0x434)]),this['resizeHandler']=()=>_0x285671[_0x3d391a(0x2ab)]();}}[_0x5a8b1c(0x554)](_0x140061){const _0x3c327f=_0x5a8b1c,_0x176047=[];for(const _0x86cc32 of this[_0x3c327f(0x96c)])this[_0x3c327f(0x889)](_0x86cc32),_0x176047['push'](_0x86cc32);this['providerId']&&this[_0x3c327f(0x625)][_0x3c327f(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x3c327f(0x420)],'content':{'type':_0xae157c['RemoteMediaStreamTrackFail'],'label':this[_0x3c327f(0x19f)],'streamId':this[_0x3c327f(0x78b)],'ownerId':this[_0x3c327f(0x83c)]['getId'](),'providerId':this[_0x3c327f(0x55f)],'trackKinds':_0x176047}});}[_0x5a8b1c(0x2d2)](_0x51f77b){const _0x94b8cd=_0x5a8b1c,_0x635e9c=()=>this[_0x94b8cd(0x554)](_0x51f77b);_0x51f77b['addEventListener']('ended',_0x635e9c),_0x51f77b['addEventListener']('mute',_0x635e9c),this[_0x94b8cd(0x880)]['set'](_0x51f77b['kind'],()=>{const _0x5ea55f=_0x94b8cd;_0x51f77b['removeEventListener']('ended',_0x635e9c),_0x51f77b[_0x5ea55f(0x7d5)](_0x5ea55f(0x8a2),_0x635e9c),this[_0x5ea55f(0x880)]['delete'](_0x51f77b['kind']);});}}class _0x1ca3a7 extends _0x43d50a{[_0x5a8b1c(0x650)];['clusterId'];[_0x5a8b1c(0x26a)];['db'];[_0x5a8b1c(0x709)];[_0x5a8b1c(0x673)]=0x0;[_0x5a8b1c(0x342)]=0x0;['isLoaded']=!0x1;constructor(_0x33283c,_0x3d1223,_0x2fcb18,_0x9f3311,_0xd20558){const _0x20cdc9=_0x5a8b1c;if('string'!=typeof _0x3d1223)throw new _0x4ec9e4(_0x47ec8c[_0x20cdc9(0xaa1)],_0x20cdc9(0xa56));super(_0x33283c,_0x3d1223),this['localNode']=_0x33283c,this[_0x20cdc9(0x659)]=_0x2fcb18,this[_0x20cdc9(0x26a)]=_0x9f3311;const _0x46b20a='ccc'+this[_0x20cdc9(0x26a)]+_0x20cdc9(0xaa5)+this[_0x20cdc9(0x659)]+_0x20cdc9(0xaa5)+this[_0x20cdc9(0x19f)];this['db']=new _0xd20558(_0x46b20a),this[_0x20cdc9(0x812)]();}[_0x5a8b1c(0x73d)](){const _0x47997e=_0x5a8b1c;return this[_0x47997e(0x6f0)];}[_0x5a8b1c(0xae1)](_0x16ffa7){this['isLoaded']=_0x16ffa7;}[_0x5a8b1c(0x865)](){const _0x3d9f59=_0x5a8b1c;clearTimeout(this[_0x3d9f59(0x709)]),delete this[_0x3d9f59(0x709)],super[_0x3d9f59(0x865)]();}[_0x5a8b1c(0x494)](){const _0x28417a=_0x5a8b1c;this[_0x28417a(0x625)]['publish']({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x28417a(0x420)],'content':{'type':_0xae157c[_0x28417a(0x27b)],'label':this[_0x28417a(0x19f)]}});}[_0x5a8b1c(0xb32)](){const _0x16416f=_0x5a8b1c;this[_0x16416f(0x812)]();}[_0x5a8b1c(0x62f)](){return _0x52baed['ContentType']['VectorDatabase'];}['search'](_0x14eafc,_0x33bfb9,_0x31c02e,_0x25c3a7,_0x57249e){const _0x326886=_0x5a8b1c,_0x6be187=this['db'][_0x326886(0x280)](_0x14eafc,_0x33bfb9,_0x31c02e,_0x25c3a7,_0x57249e);return this['reads']+=0x1,_0x241131[_0x326886(0xa29)](_0x261e7f[_0x326886(0x653)],{'type':'search','label':this[_0x326886(0x19f)],'nodeId':this[_0x326886(0x650)][_0x326886(0x3dd)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x326886(0x659)],'size':0x0}),this[_0x326886(0x812)](),_0x6be187;}[_0x5a8b1c(0x15e)](_0x56318,_0x5cd207,_0x418253,_0x998c7d){const _0x278ddb=_0x5a8b1c;this['db'][_0x278ddb(0x15e)](_0x56318,_0x5cd207,_0x418253,_0x998c7d),this[_0x278ddb(0x673)]+=0x1,_0x241131[_0x278ddb(0xa29)](_0x261e7f[_0x278ddb(0x653)],{'type':'insert','label':this[_0x278ddb(0x19f)],'nodeId':this[_0x278ddb(0x650)][_0x278ddb(0x3dd)](),'nodeType':this[_0x278ddb(0x650)][_0x278ddb(0x2a5)],'clusterId':this[_0x278ddb(0x659)],'size':_0x998c7d[_0x278ddb(0x8a0)]((_0x226f75,_0x3dee2a)=>_0x226f75+_0x3dee2a[_0x278ddb(0xa39)],0x0)}),this[_0x278ddb(0x812)]();}[_0x5a8b1c(0x3d1)](_0x4b5a98){const _0x46cc3f=_0x5a8b1c;this['db']['remove'](_0x4b5a98),this['writes']+=0x1,_0x241131['logServiceEvent'](_0x261e7f['VectorDatabase'],{'type':'remove','label':this[_0x46cc3f(0x19f)],'nodeId':this[_0x46cc3f(0x650)]['getId'](),'nodeType':this[_0x46cc3f(0x650)][_0x46cc3f(0x2a5)],'clusterId':this['clusterId'],'size':0x0}),this['sendStats']();}['saveToDisk'](_0xdd2f4a){const _0x50bf7c=_0x5a8b1c;this['db'][_0x50bf7c(0x5b1)](_0xdd2f4a);}[_0x5a8b1c(0x30c)](_0x57cc09){this['db']['loadFromDisk'](_0x57cc09);}[_0x5a8b1c(0x812)](){const _0x47769d=_0x5a8b1c;this['debounceStats']&&clearTimeout(this[_0x47769d(0x709)]),this[_0x47769d(0x709)]=setTimeout(async()=>{const _0x27bd49=_0x47769d;delete this[_0x27bd49(0x709)];const _0x5051a7=this['db'][_0x27bd49(0xa14)]()[_0x27bd49(0x475)];this[_0x27bd49(0x625)][_0x27bd49(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x27bd49(0x420)],'content':{'type':_0xae157c['VectorDatabaseStats'],'label':this[_0x27bd49(0x19f)],'stats':{'timestamp':Date[_0x27bd49(0x744)](),'storage':_0x5051a7,'messagesSent':this[_0x27bd49(0xae5)],'messagesReceived':this[_0x27bd49(0x413)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0x27bd49(0x342)],'prompts':0x0,'tokens':0x0}}}),_0x241131[_0x27bd49(0x511)](_0x261e7f[_0x27bd49(0x653)],_0x27bd49(0xaa5)+this[_0x27bd49(0x659)]+_0x27bd49(0xaa5)+this[_0x27bd49(0x19f)],_0x5051a7);},_0x291af8);}}class _0x5d76e5{['id'];[_0x5a8b1c(0x70d)];['rank'];constructor(_0x87156d,_0x4f8515=new Set(),_0x4d1881){const _0x299554=_0x5a8b1c;this['id']=_0x87156d,this[_0x299554(0x70d)]=_0x4f8515,this[_0x299554(0xa95)]=_0x4d1881;}[_0x5a8b1c(0x494)](){const _0x596fed=_0x5a8b1c;this[_0x596fed(0xa95)]=void 0x0,this[_0x596fed(0x70d)]['clear']();}[_0x5a8b1c(0x3dd)](){return this['id'];}[_0x5a8b1c(0x37a)](){const _0x5dafb1=_0x5a8b1c;return this[_0x5dafb1(0xa95)];}[_0x5a8b1c(0x1db)](){const _0x5bb2d7=_0x5a8b1c;return this[_0x5bb2d7(0x70d)];}}class _0x3fac9e extends _0x5d76e5{['id'];['displayName'];['email'];['remoteConnections'];[_0x5a8b1c(0xa95)];[_0x5a8b1c(0x2a5)]=_0x52baed['NodeType'][_0x5a8b1c(0x886)];constructor(_0x109f31,_0x436a5d,_0x2da325,_0x65bc22=new Set(),_0x190d57){const _0x3b4f3f=_0x5a8b1c;super(_0x109f31,_0x65bc22,_0x190d57),this['id']=_0x109f31,this[_0x3b4f3f(0x7c3)]=_0x436a5d,this[_0x3b4f3f(0x491)]=_0x2da325,this[_0x3b4f3f(0x70d)]=_0x65bc22,this[_0x3b4f3f(0xa95)]=_0x190d57;}[_0x5a8b1c(0x378)](){const _0x754aaa=_0x5a8b1c;return this[_0x754aaa(0x7c3)];}[_0x5a8b1c(0x30e)](){const _0xddaa7b=_0x5a8b1c;return this[_0xddaa7b(0x491)];}}class _0x384ea8{[_0x5a8b1c(0x26a)];['clusterId'];[_0x5a8b1c(0x5a3)];constructor(_0x208a79,_0x41b30d){const _0x3701a5=_0x5a8b1c;this[_0x3701a5(0x26a)]=_0x208a79,this[_0x3701a5(0x659)]=_0x41b30d,this['clusterKey']=_0x3701a5(0xaa5)+this[_0x3701a5(0x26a)]+_0x3701a5(0xaa5)+this[_0x3701a5(0x659)];}async[_0x5a8b1c(0x882)](_0x6e6b70,_0x45ab87){const _0x3a23de=_0x5a8b1c,_0x67f79f=(0x0,_0x1ac700[_0x3a23de(0x155)])(_0x1b7d72[_0x3a23de(0x920)](),'clusters/'+this['clusterKey']+_0x3a23de(0x9cd)+_0x45ab87+_0x3a23de(0x9a3)+_0x6e6b70['id']),_0x3eb1e5=(0x0,_0x1ac700[_0x3a23de(0x449)])(_0x67f79f);_0x3eb1e5[_0x3a23de(0x3d1)](),_0x6e6b70[_0x3a23de(0x994)]||delete _0x6e6b70[_0x3a23de(0x994)];try{await(0x0,_0x1ac700['set'])(_0x67f79f,_0x6e6b70);}catch(_0x538166){throw await _0x3eb1e5[_0x3a23de(0x7f1)](),new _0xdb384(_0xdb384[_0x3a23de(0x549)][_0x3a23de(0x667)]);}if(!0x1===(await(0x0,_0x1ac700[_0x3a23de(0x573)])((0x0,_0x1ac700[_0x3a23de(0x155)])(_0x1b7d72[_0x3a23de(0x920)](),_0x3a23de(0x39b)+this[_0x3a23de(0x5a3)]+'/objectstores/'+_0x45ab87+_0x3a23de(0xa08)),_0x5e5c38=>_0x5e5c38?_0x5e5c38===_0x6e6b70[_0x3a23de(0x994)]?_0x6e6b70['id']:void 0x0:_0x6e6b70[_0x3a23de(0x994)]?_0x6e6b70[_0x3a23de(0x994)]:_0x6e6b70['id']))['committed'])throw await(0x0,_0x1ac700[_0x3a23de(0x3d1)])(_0x67f79f),await _0x3eb1e5[_0x3a23de(0x7f1)](),new _0xdb384(_0xdb384[_0x3a23de(0x549)][_0x3a23de(0x3ca)]);await _0x3eb1e5[_0x3a23de(0x7f1)]();}async[_0x5a8b1c(0x415)](_0xd138b4,_0x55907a){const _0xb6465c=_0x5a8b1c;let _0x51ac68=[];const _0x3a4f4b=(0x0,_0x1ac700['ref'])(_0x1b7d72[_0xb6465c(0x920)](),_0xb6465c(0x39b)+this[_0xb6465c(0x5a3)]+_0xb6465c(0x9cd)+_0xd138b4+_0xb6465c(0x386));let _0x41711e=await(0x0,_0x1ac700[_0xb6465c(0x8a4)])((0x0,_0x1ac700['query'])(_0x3a4f4b,(0x0,_0x1ac700['limitToFirst'])(0x65),(0x0,_0x1ac700[_0xb6465c(0xb40)])()));if(!_0x41711e[_0xb6465c(0x34e)]()){if(void 0x0!==_0x55907a)throw new _0xdb384(_0xdb384[_0xb6465c(0x549)][_0xb6465c(0x293)]);return _0x51ac68;}const _0x33000e=_0x41711e[_0xb6465c(0x266)]();for(;Object['keys'](_0x41711e[_0xb6465c(0x266)]())[_0xb6465c(0xa39)]>0x64;){const _0x100c8a=Object[_0xb6465c(0x7f4)](_0x41711e[_0xb6465c(0x266)]()),_0x125095=_0x100c8a[_0x100c8a[_0xb6465c(0xa39)]-0x1];_0x41711e=await(0x0,_0x1ac700['get'])((0x0,_0x1ac700[_0xb6465c(0x337)])(_0x3a4f4b,(0x0,_0x1ac700[_0xb6465c(0x499)])(0x65),(0x0,_0x1ac700[_0xb6465c(0x718)])(_0x125095),(0x0,_0x1ac700[_0xb6465c(0xb40)])())),Object['assign'](_0x33000e,_0x41711e[_0xb6465c(0x266)]());}if(_0x51ac68=Object[_0xb6465c(0x4c2)](_0x33000e)[_0xb6465c(0x930)](_0x36600f=>'string'!=typeof _0x36600f),0x0===_0x51ac68[_0xb6465c(0xa39)]&&void 0x0!==_0x55907a)throw new _0xdb384(_0xdb384[_0xb6465c(0x549)][_0xb6465c(0x293)]);if(_0x51ac68[_0xb6465c(0xa39)]>0x0&&void 0x0!==_0x55907a&&!_0x51ac68[_0xb6465c(0x5dd)](_0x3c853b=>_0x3c853b['id']===_0x55907a))throw new _0xdb384(_0xdb384[_0xb6465c(0x549)]['ObjectStoreInvalidState']);const _0x9a200=[];let _0x2df3d4=_0x51ac68[_0xb6465c(0x5dd)](_0x17b35f=>_0x17b35f[_0xb6465c(0x994)]===_0x55907a);for(;_0x2df3d4;)_0x9a200[_0xb6465c(0x3a9)](_0x2df3d4),_0x2df3d4=_0x51ac68[_0xb6465c(0x5dd)](_0x660548=>_0x660548[_0xb6465c(0x994)]===_0x2df3d4['id']);return _0x9a200;}}class _0x1b1787 extends _0x267db0{[_0x5a8b1c(0x5df)];[_0x5a8b1c(0xb3f)];[_0x5a8b1c(0x754)];[_0x5a8b1c(0x748)];['fileConnector'];[_0x5a8b1c(0x25d)];[_0x5a8b1c(0x5ed)];[_0x5a8b1c(0xab2)];[_0x5a8b1c(0x4e0)];[_0x5a8b1c(0x286)];[_0x5a8b1c(0xa4d)];[_0x5a8b1c(0x89b)]=_0x2b0020;[_0x5a8b1c(0x181)]=new Map();['isOpened']=!0x1;constructor(_0x530c61,_0x128e59,_0x5ad503,_0xf6830b,_0x7d3023,_0x1119b5,_0xd29a4f,_0x3b9cec,_0x5068cc,_0x102e85,_0x3938c1,_0x1f1aad,_0x3f856e){const _0x336af1=_0x5a8b1c;super(_0x530c61,_0x128e59),this[_0x336af1(0x5df)]=_0x5ad503,this['generativeAIWorkerConnectors']=_0xf6830b,this[_0x336af1(0x754)]=_0x7d3023,this[_0x336af1(0x748)]=_0x1119b5,this[_0x336af1(0x6b5)]=_0xd29a4f,this[_0x336af1(0x25d)]=_0x3b9cec,this[_0x336af1(0x5ed)]=_0x5068cc,this['aiSearchConnector']=_0x102e85,this[_0x336af1(0x4e0)]=_0x3938c1,this['ragConnectors']=_0x1f1aad,this[_0x336af1(0xa4d)]=_0x3f856e,this['open']();}async[_0x5a8b1c(0x312)](){return[];}async[_0x5a8b1c(0x275)](_0x16dbe7=!0x1){const _0xe4e61a=_0x5a8b1c;if(!this[_0xe4e61a(0x57d)]){_0x241131[_0xe4e61a(0x3f4)]('GenerativeAIWorker:\x20Opening',this[_0xe4e61a(0x19f)]);try{for(const _0x3b33eb of this[_0xe4e61a(0xb3f)])await _0x3b33eb[_0xe4e61a(0x8a5)](this['label'],this[_0xe4e61a(0x89b)]);}catch(_0x12e136){return this[_0xe4e61a(0x275)](_0x16dbe7);}this['isOpened']=!0x0,_0x241131[_0xe4e61a(0x3f4)](_0xe4e61a(0x4b9),this[_0xe4e61a(0x19f)]);}}[_0x5a8b1c(0x494)](){const _0x9aed1f=_0x5a8b1c;this[_0x9aed1f(0x625)]?.['publish']({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x9aed1f(0x420)],'content':{'type':_0xae157c[_0x9aed1f(0x99b)],'label':this[_0x9aed1f(0x19f)]}});}['getInternalStreamId'](){const _0x1a0afa=_0x5a8b1c;return this[_0x1a0afa(0x19f)];}[_0x5a8b1c(0x62f)](){return _0x52baed['ContentType']['Data'];}[_0x5a8b1c(0x4b6)](_0x10e8a8){const _0x3333e6=_0x5a8b1c,_0x8ed79c=_0x3333e6(0x92e)+(0x0,_0x4804e8['v4'])();let _0x5ed6ec=!0x1;const _0xd1b83=()=>{const _0xacc93=_0x3333e6;if(_0x5ed6ec)throw new _0xdb384(_0xdb384[_0xacc93(0x549)][_0xacc93(0x8d8)]);_0x5ed6ec=!0x0;},_0x4054d9={'threadId':_0x3333e6(0x9f0)+(0x0,_0x4804e8['v4'])(),..._0x10e8a8};switch(_0x10e8a8[_0x3333e6(0x2a5)]){case _0x3333e6(0x73b):case _0x3333e6(0x934):case _0x3333e6(0x1ed):case _0x3333e6(0x2e4):case _0x3333e6(0x5d1):case _0x3333e6(0x4ae):case'file-ingest':case _0x3333e6(0xa5d):case'rate':case _0x3333e6(0x5b4):case'tool-call':case _0x3333e6(0x97e):return{'id':_0x8ed79c,..._0x10e8a8,'run':()=>(_0xd1b83(),this[_0x3333e6(0x466)](_0x8ed79c,_0x4054d9))};case'inference':case _0x3333e6(0x7ed):return{'id':_0x8ed79c,'options':{'threadId':_0x3333e6(0x9f0)+(0x0,_0x4804e8['v4'])()},..._0x10e8a8,'run':()=>(_0xd1b83(),this['internalProcessJob'](_0x8ed79c,_0x4054d9)),'stream':()=>(_0xd1b83(),this[_0x3333e6(0x628)](_0x8ed79c,_0x4054d9))};default:throw new Error(_0x3333e6(0x250));}}async[_0x5a8b1c(0x466)](_0x6be7cc,_0x454329){const _0xe158f2=_0x5a8b1c;if(_0xe158f2(0x7ed)===_0x454329[_0xe158f2(0x2a5)]){await this[_0xe158f2(0x3a3)](_0x6be7cc,_0x454329);const _0x290a4e=await _0x4b8b58[_0xe158f2(0xb38)](_0x454329[_0xe158f2(0x26a)],_0x454329[_0xe158f2(0x526)]),_0x5c65f1=_0x290a4e['blocks']['find'](_0x117e50=>_0x117e50['type']===_0x2e1081['Prompt']),_0x12faa5=await _0x49b3ae(_0x454329[_0xe158f2(0x281)]??_0x6be7cc,_0x454329,_0x5c65f1,_0x290a4e[_0xe158f2(0x642)],{'documentParserConnector':this[_0xe158f2(0x748)],'fileConnector':this[_0xe158f2(0x6b5)],'nlpLibraryConnector':this[_0xe158f2(0x25d)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0xe158f2(0x47c)](this['models'][_0xe158f2(0x4c2)]()),'contentMediator':this[_0xe158f2(0x5df)],'searchConnector':this[_0xe158f2(0x5ed)],'aiSearchConnector':this[_0xe158f2(0xab2)],'queryFileConnector':this[_0xe158f2(0x4e0)]});return await this[_0xe158f2(0xab8)](_0x6be7cc,_0x454329),_0x12faa5;}if(_0xe158f2(0x97e)===_0x454329[_0xe158f2(0x2a5)])return await _0x20ce83(_0x454329,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0xe158f2(0x6b5)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0xe158f2(0xb3f)],'models':Array[_0xe158f2(0x47c)](this['models'][_0xe158f2(0x4c2)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0xe158f2(0x5ed)],'aiSearchConnector':this[_0xe158f2(0xab2)],'queryFileConnector':this[_0xe158f2(0x4e0)]});if('inference'===_0x454329[_0xe158f2(0x2a5)]){await this[_0xe158f2(0x3a3)](_0x6be7cc,_0x454329);const _0x5ca760=await _0x1467fd(_0x454329['jobId']??_0x6be7cc,_0x454329,{'documentParserConnector':this[_0xe158f2(0x748)],'fileConnector':this[_0xe158f2(0x6b5)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0xe158f2(0x47c)](this['models'][_0xe158f2(0x4c2)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0xe158f2(0xab2)],'queryFileConnector':this[_0xe158f2(0x4e0)]});return await this[_0xe158f2(0xab8)](_0x6be7cc,_0x454329),_0x5ca760;}if('rate'===_0x454329[_0xe158f2(0x2a5)])return await _0x3f0782['trace']({'jobType':_0x4ec7f8[_0xe158f2(0x45b)],'type':_0x2d491f[_0xe158f2(0x776)],'jobId':_0x454329[_0xe158f2(0x281)],'threadId':_0x454329[_0xe158f2(0xb36)],'traceLevel':_0x1388f3[_0xe158f2(0x336)],'startTime':Date[_0xe158f2(0x744)](),'timestamp':Date[_0xe158f2(0x744)](),'status':_0xe158f2(0x4cf),'rating':_0x454329[_0xe158f2(0x458)],'feedback':_0x454329[_0xe158f2(0x887)]}),{'type':'rate','status':_0x52baed[_0xe158f2(0xa70)][_0xe158f2(0x635)]};if(_0xe158f2(0x153)===_0x454329[_0xe158f2(0x2a5)])return await _0x59d7af(_0x454329,{'documentParserConnector':this[_0xe158f2(0x748)],'fileConnector':this[_0xe158f2(0x6b5)],'nlpLibraryConnector':this[_0xe158f2(0x25d)],'generativeAIWorkerConnectors':this[_0xe158f2(0xb3f)],'models':Array[_0xe158f2(0x47c)](this[_0xe158f2(0x89b)]['values']()),'contentMediator':this[_0xe158f2(0x5df)],'searchConnector':this[_0xe158f2(0x5ed)],'aiSearchConnector':this[_0xe158f2(0xab2)],'queryFileConnector':this[_0xe158f2(0x4e0)]});if(_0xe158f2(0x5b4)===_0x454329['type']){const _0x12ffdd=await _0x4b8b58[_0xe158f2(0xb38)](_0x454329[_0xe158f2(0x26a)],_0x454329['workflowId']),_0x4cc404=_0x12ffdd[_0xe158f2(0x642)]['find'](_0x560cce=>_0x560cce[_0xe158f2(0x2a5)]===_0x2e1081[_0xe158f2(0x2fd)]),_0x2ae755=_0x12ffdd[_0xe158f2(0x642)]['filter'](_0x38abde=>_0x38abde[_0xe158f2(0x1ce)]?.['some'](_0x60cbd3=>_0x60cbd3[_0xe158f2(0x2a5)]===_0x722880[_0xe158f2(0xaf4)]&&_0x60cbd3['uid']===_0x4cc404[_0xe158f2(0x966)]))[_0xe158f2(0x88c)](_0x18c452=>_0x123884(_0x18c452,_0x12ffdd['blocks']));return{'type':_0xe158f2(0x5b4),'apiKey':this[_0xe158f2(0xa4d)],'modelId':_0x4cc404['modelId'],'instructions':_0x4cc404[_0xe158f2(0x8e8)],'temperature':_0x4cc404[_0xe158f2(0x911)],'maxTokens':_0x4cc404[_0xe158f2(0x510)],'initialPrompt':_0x12ffdd['initialPrompt'],'tools':_0x2ae755['map'](_0x5ce104=>({..._0x5ce104,'name':this['getToolName'](_0x5ce104),'description':this['getToolDescription'](_0x5ce104),'parameters':this[_0xe158f2(0x968)](_0x5ce104)}))};}if(_0xe158f2(0x2e4)===_0x454329[_0xe158f2(0x2a5)]){const {vendorId:_0x451eb7,collectionId:_0x3d2418,fileId:_0x16a7b9}=_0x454329,_0x2ae97c=await _0x4b8b58[_0xe158f2(0x943)](_0x451eb7,_0x3d2418),_0x136cf3=this['ragConnectors']?.[_0xe158f2(0x8a4)](_0x2ae97c['storageType']);if(!_0x136cf3)throw new Error(_0xe158f2(0x351));const _0x24bc36=_0x4e11bf(_0x451eb7,_0x2ae97c);if(_0x2ae97c[_0xe158f2(0x835)]===_0x52baed[_0xe158f2(0x765)]['Crewdle'])try{await _0x136cf3[_0xe158f2(0xb1d)](_0x24bc36,_0x3d2418,'/'+_0x451eb7+'/'+_0x3d2418+'/'+_0x16a7b9),await this[_0xe158f2(0x754)][_0xe158f2(0x4e6)]('/'+_0x451eb7+'/'+_0x3d2418+'/'+_0x16a7b9);}catch(_0x445a9c){_0x241131[_0xe158f2(0x5fb)](_0xe158f2(0x9b8),_0x445a9c);}else try{await _0x136cf3[_0xe158f2(0xb1d)](_0x24bc36,_0x3d2418,_0x16a7b9);}catch(_0x1a18d4){_0x241131[_0xe158f2(0x5fb)](_0xe158f2(0x9b8),_0x1a18d4);}return{'type':_0xe158f2(0x2e4)};}if(_0xe158f2(0x5d1)===_0x454329[_0xe158f2(0x2a5)]){let _0x4a1227;const _0x22cab6=this[_0xe158f2(0x181)]['keys']();for(;!_0x4a1227;){const _0x200723=_0x22cab6[_0xe158f2(0x8d1)]()[_0xe158f2(0x270)];if(!_0x200723)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x4a1227=this['dataStores']['get'](_0x200723);try{const _0xff660b=await _0x4a1227[_0xe158f2(0x8a4)](_0x454329['documentPath']);return{'type':'file-download','fileName':_0xff660b[_0xe158f2(0x45a)],'mimeType':_0xff660b[_0xe158f2(0x2a5)],'document':await _0xff660b[_0xe158f2(0x205)]()};}catch(_0x3d8ab8){continue;}}throw new Error(_0xe158f2(0x6b6));}if(_0xe158f2(0x4ae)===_0x454329[_0xe158f2(0x2a5)]){const {vendorId:_0x754062,collectionId:_0x7937c3,fileName:_0x25aa97,content:_0x197e59}=_0x454329,_0x441ab6=await _0x4b8b58['getDataCollection'](_0x754062,_0x7937c3);if(_0x441ab6[_0xe158f2(0x835)]!==_0x52baed[_0xe158f2(0x765)][_0xe158f2(0x7f8)]){const _0x4391b2=this[_0xe158f2(0x286)]?.[_0xe158f2(0x8a4)](_0x441ab6['storageType']);if(!_0x4391b2)throw new Error(_0xe158f2(0x351));const _0x215371=_0x4e11bf(_0x754062,_0x441ab6);return await _0x4391b2['ingestFile'](_0x215371,_0x7937c3,_0x25aa97,_0x197e59),{'type':_0xe158f2(0x4ae)};}const _0x63ecb1=_0x441ab6[_0xe158f2(0x616)]?.[_0xe158f2(0x5dd)](_0x5d1d48=>_0x5d1d48['type']===_0x18ee4f['Upload']);if(!_0x63ecb1)throw new Error(_0xe158f2(0xb4c));return await _0x597247(_0x454329[_0xe158f2(0x26a)],_0x6be7cc,'/'+_0x754062+'/'+_0x7937c3+'/'+_0x25aa97,_0x197e59,_0x63ecb1,_0x441ab6,{'objectStoreConnector':this[_0xe158f2(0x754)],'ragConnector':this[_0xe158f2(0x286)]?.['get'](_0x52baed[_0xe158f2(0x765)]['Crewdle']),'documentParserConnector':this[_0xe158f2(0x748)],'fileConnector':this[_0xe158f2(0x6b5)],'nlpLibraryConnector':this[_0xe158f2(0x25d)],'generativeAIWorkerConnectors':this[_0xe158f2(0xb3f)],'models':Array[_0xe158f2(0x47c)](this['models'][_0xe158f2(0x4c2)]()),'contentMediator':this[_0xe158f2(0x5df)]}),{'type':'file-ingest'};}if('file-list'===_0x454329[_0xe158f2(0x2a5)]){const {vendorId:_0x449745,collectionId:_0x4cfdba}=_0x454329,_0x4f5595=await _0x4b8b58[_0xe158f2(0x943)](_0x449745,_0x4cfdba);if(_0x4f5595[_0xe158f2(0x835)]!==_0x52baed[_0xe158f2(0x765)]['Crewdle']){const _0xe09433=this[_0xe158f2(0x286)]?.['get'](_0x4f5595[_0xe158f2(0x835)]);if(!_0xe09433)throw new Error(_0xe158f2(0x351));const _0x5930aa=_0x4e11bf(_0x449745,_0x4f5595);return{'type':_0xe158f2(0xa5d),'files':await _0xe09433[_0xe158f2(0xb29)](_0x5930aa,_0x4cfdba)};}try{return{'type':_0xe158f2(0xa5d),'files':(await this[_0xe158f2(0x754)][_0xe158f2(0x24a)]('/'+_0x449745+'/'+_0x4cfdba,!0x1))[_0xe158f2(0x3d5)](_0x4e6d90=>({'name':_0x4e6d90['name'],'id':_0x4e6d90[_0xe158f2(0x45a)],'status':'ready'}))};}catch(_0x472b3a){return{'type':_0xe158f2(0xa5d),'files':[]};}}if(_0xe158f2(0x73b)===_0x454329[_0xe158f2(0x2a5)]){const {vendorId:_0x45fe4e,collectionId:_0x13c9e0}=_0x454329,_0x10db02=await _0x4b8b58[_0xe158f2(0x943)](_0x45fe4e,_0x13c9e0),_0x5a8cb7=this['ragConnectors']?.[_0xe158f2(0x8a4)](_0x10db02['storageType']);if(!_0x5a8cb7)return{'type':_0xe158f2(0x73b)};const _0x404665=_0x4e11bf(_0x45fe4e,_0x10db02);return await _0x5a8cb7[_0xe158f2(0x1f9)](_0x404665,_0x13c9e0),{'type':'collection-create'};}if('collection-delete'===_0x454329['type']){const {vendorId:_0x4b3541,collectionId:_0x543ed2}=_0x454329,_0x15565c=await _0x4b8b58['getDataCollection'](_0x4b3541,_0x543ed2),_0x20ad33=this[_0xe158f2(0x286)]?.[_0xe158f2(0x8a4)](_0x15565c[_0xe158f2(0x835)]);if(!_0x20ad33)return{'type':_0xe158f2(0x934)};const _0x14b508=_0x4e11bf(_0x4b3541,_0x15565c);let _0x14f72d=!0x1;if(_0x15565c[_0xe158f2(0x169)]===_0x3e31d1[_0xe158f2(0x425)]&&(_0x14f72d=!0x0),_0x15565c[_0xe158f2(0x169)]===_0x3e31d1[_0xe158f2(0x490)]){_0x14f72d=!0x0;const _0x19df59=await _0x4b8b58['getDataCollections'](_0x4b3541);for(const _0x5d34d3 of _0x19df59)if(_0x5d34d3['storageType']===_0x15565c[_0xe158f2(0x835)]&&_0x5d34d3[_0xe158f2(0x169)]===_0x3e31d1[_0xe158f2(0x490)]&&_0x5d34d3['id']!==_0x15565c['id']){_0x14f72d=!0x1;break;}}try{await _0x20ad33[_0xe158f2(0x3da)](_0x14b508,_0x543ed2,_0x14f72d);}catch(_0x3a44c8){_0x241131[_0xe158f2(0x5fb)](_0xe158f2(0x861),_0x3a44c8);}return{'type':_0xe158f2(0x934)};}if(_0xe158f2(0x1ed)===_0x454329[_0xe158f2(0x2a5)]){const {query:_0x46b15e,vendorId:_0x39157d,collectionId:_0x438e16}=_0x454329,_0x2f8845=await _0x4b8b58[_0xe158f2(0x943)](_0x39157d,_0x438e16);if(_0x2f8845['storageType']!==_0x52baed[_0xe158f2(0x765)][_0xe158f2(0x7f8)]){const _0x322710=this[_0xe158f2(0x286)]?.[_0xe158f2(0x8a4)](_0x2f8845[_0xe158f2(0x835)]);if(!_0x322710)throw new Error(_0xe158f2(0x351));const _0x3ec086=_0x4e11bf(_0x39157d,_0x2f8845);return{'type':_0xe158f2(0x1ed),'results':await _0x322710['queryCollection'](_0x3ec086,_0x438e16,_0x46b15e,0x1)};}const _0x2e4114=_0x2f8845[_0xe158f2(0x1b3)]?.[_0xe158f2(0x5dd)](_0x27caf8=>_0x27caf8[_0xe158f2(0x2a5)]===_0x18ee4f[_0xe158f2(0x6ef)]);return{'type':'collection-query','results':(await _0x3e691c(_0x454329[_0xe158f2(0x26a)],_0x6be7cc,'',_0x46b15e,_0x2e4114,_0x2f8845,{'objectStoreConnector':this[_0xe158f2(0x754)],'ragConnector':this[_0xe158f2(0x286)]?.[_0xe158f2(0x8a4)](_0x52baed[_0xe158f2(0x765)][_0xe158f2(0x7f8)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0xe158f2(0x6b5)],'nlpLibraryConnector':this[_0xe158f2(0x25d)],'generativeAIWorkerConnectors':this[_0xe158f2(0xb3f)],'models':Array['from'](this[_0xe158f2(0x89b)][_0xe158f2(0x4c2)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0xe158f2(0x5ed)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this['queryFileConnector']}))['context']??[]};}throw new Error('Unsupported\x20job\x20type');}async*[_0x5a8b1c(0x628)](_0xcdfc18,_0x431669){const _0x6698d2=_0x5a8b1c;if(_0x6698d2(0x7ed)===_0x431669[_0x6698d2(0x2a5)]){await this['startTracing'](_0xcdfc18,_0x431669);const _0x57eb49=await _0x4b8b58[_0x6698d2(0xb38)](_0x431669[_0x6698d2(0x26a)],_0x431669['workflowId']),_0x13334f=_0x57eb49['blocks']['find'](_0xf87fb1=>_0xf87fb1['type']===_0x2e1081[_0x6698d2(0x6ef)]);for await(const _0x1a5250 of _0x5304d7(_0x431669[_0x6698d2(0x281)]??_0xcdfc18,_0x431669,_0x13334f,_0x57eb49[_0x6698d2(0x642)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x6698d2(0x6b5)],'nlpLibraryConnector':this[_0x6698d2(0x25d)],'generativeAIWorkerConnectors':this[_0x6698d2(0xb3f)],'models':Array[_0x6698d2(0x47c)](this[_0x6698d2(0x89b)][_0x6698d2(0x4c2)]()),'contentMediator':this[_0x6698d2(0x5df)],'searchConnector':this[_0x6698d2(0x5ed)],'aiSearchConnector':this[_0x6698d2(0xab2)],'queryFileConnector':this['queryFileConnector']}))yield _0x1a5250;await this[_0x6698d2(0xab8)](_0xcdfc18,_0x431669);}if(_0x6698d2(0x66f)===_0x431669[_0x6698d2(0x2a5)]){await this[_0x6698d2(0x3a3)](_0xcdfc18,_0x431669);for await(const _0x44d9a3 of _0x1cba1f(_0x431669[_0x6698d2(0x281)]??_0xcdfc18,_0x431669,{'documentParserConnector':this[_0x6698d2(0x748)],'fileConnector':this[_0x6698d2(0x6b5)],'nlpLibraryConnector':this[_0x6698d2(0x25d)],'generativeAIWorkerConnectors':this[_0x6698d2(0xb3f)],'models':Array['from'](this[_0x6698d2(0x89b)][_0x6698d2(0x4c2)]()),'contentMediator':this[_0x6698d2(0x5df)],'searchConnector':this[_0x6698d2(0x5ed)],'aiSearchConnector':this[_0x6698d2(0xab2)],'queryFileConnector':this[_0x6698d2(0x4e0)]}))yield _0x44d9a3;await this[_0x6698d2(0xab8)](_0xcdfc18,_0x431669);}}async[_0x5a8b1c(0x3a3)](_0x240149,_0x2e102a){const _0xa7e37b=_0x5a8b1c;if('rate'===_0x2e102a[_0xa7e37b(0x2a5)])return _0x240149=_0x2e102a[_0xa7e37b(0x281)],void await this[_0xa7e37b(0xb2e)](_0x240149,_0x2e102a[_0xa7e37b(0x26a)],_0x2e102a[_0xa7e37b(0x526)]);_0xa7e37b(0x7ed)!==_0x2e102a[_0xa7e37b(0x2a5)]&&_0xa7e37b(0x66f)!==_0x2e102a[_0xa7e37b(0x2a5)]||!_0x2e102a['jobId']||(_0x240149=_0x2e102a[_0xa7e37b(0x281)]),await this[_0xa7e37b(0xb2e)](_0x240149,_0x2e102a['vendorId'],_0x2e102a[_0xa7e37b(0x526)],_0x2e102a[_0xa7e37b(0xb36)]),await _0x3f0782[_0xa7e37b(0x981)]({'jobType':_0x4ec7f8[_0xa7e37b(0x492)],'type':_0x4894d6['Queued'],'traceLevel':_0x1388f3[_0xa7e37b(0x336)],'jobId':_0x240149,'threadId':_0x2e102a[_0xa7e37b(0xb36)],'startTime':Date[_0xa7e37b(0x744)](),'timestamp':Date[_0xa7e37b(0x744)](),'status':'success'});}async[_0x5a8b1c(0xab8)](_0x469c4c,_0xea1f1c){const _0x1af585=_0x5a8b1c;if(_0x1af585(0x6d4)===_0xea1f1c[_0x1af585(0x2a5)])return _0x469c4c=_0xea1f1c[_0x1af585(0x281)],void await this[_0x1af585(0x9af)](_0x469c4c);'prompt'!==_0xea1f1c[_0x1af585(0x2a5)]&&_0x1af585(0x66f)!==_0xea1f1c[_0x1af585(0x2a5)]||!_0xea1f1c[_0x1af585(0x281)]||(_0x469c4c=_0xea1f1c[_0x1af585(0x281)]),await _0x3f0782['trace']({'jobType':_0x4ec7f8['Job'],'type':_0x4894d6['Completed'],'traceLevel':_0x1388f3['Info'],'jobId':_0x469c4c,'threadId':_0xea1f1c[_0x1af585(0xb36)],'startTime':Date['now'](),'timestamp':Date[_0x1af585(0x744)](),'status':_0x1af585(0x4cf)}),await this[_0x1af585(0x9af)](_0x469c4c,_0xea1f1c['threadId']);}async['openTrace'](_0x282b79,_0x4e8feb,_0x2027e2,_0x3490e9){const _0x43d52b=_0x5a8b1c;try{if(!await _0x3f0782[_0x43d52b(0xb2e)](_0x4e8feb,_0x282b79,_0x2027e2,_0x3490e9))throw new Error('Error\x20opening\x20trace');return _0x282b79;}catch(_0x85399d){return console[_0x43d52b(0x5fb)](_0x43d52b(0x9f3),_0x85399d),'Could\x20not\x20open\x20trace';}}async[_0x5a8b1c(0x9af)](_0x1033fb,_0x3055d2){const _0x14767e=_0x5a8b1c;try{await _0x3f0782['closeTrace'](_0x1033fb,_0x3055d2);}catch(_0x28a292){console[_0x14767e(0x5fb)](_0x14767e(0x2c8),{'jobId':_0x1033fb,'error':_0x28a292});}}[_0x5a8b1c(0x777)](_0x41eac0){const _0x22c3c0=_0x5a8b1c;switch(_0x41eac0[_0x22c3c0(0x2a5)]){case _0x2e1081[_0x22c3c0(0x2fd)]:case _0x2e1081[_0x22c3c0(0x9dd)]:return _0x22c3c0(0x9f4)+_0x41eac0['name']['replace'](/[^a-zA-Z]/g,'');case _0x2e1081[_0x22c3c0(0x48e)]:return'executeWorkflow'+_0x41eac0[_0x22c3c0(0x45a)][_0x22c3c0(0x937)](/[^a-zA-Z]/g,'');case _0x2e1081[_0x22c3c0(0x6e7)]:case _0x2e1081[_0x22c3c0(0x48d)]:return'searchInDataCollection'+_0x41eac0[_0x22c3c0(0x45a)][_0x22c3c0(0x937)](/[^a-zA-Z]/g,'');case _0x2e1081[_0x22c3c0(0x535)]:return _0x41eac0[_0x22c3c0(0x45a)][_0x22c3c0(0x937)](/[^a-zA-Z]/g,'');case _0x2e1081[_0x22c3c0(0x6ae)]:return _0x22c3c0(0x43e);case _0x2e1081['Code']:return _0x22c3c0(0xa45);case _0x2e1081[_0x22c3c0(0x1eb)]:return'searchOnGoogle';case _0x2e1081[_0x22c3c0(0x185)]:case _0x2e1081[_0x22c3c0(0x938)]:return _0x22c3c0(0x912);case _0x52baed[_0x22c3c0(0x4fc)][_0x22c3c0(0x13c)]:return _0x22c3c0(0x1a4)+_0x41eac0[_0x22c3c0(0x45a)][_0x22c3c0(0x937)](/[^a-zA-Z]/g,'');case _0x52baed[_0x22c3c0(0x4fc)][_0x22c3c0(0x71d)]:return'setAnswer'+_0x41eac0[_0x22c3c0(0x45a)]['replace'](/[^a-zA-Z]/g,'');case _0x52baed[_0x22c3c0(0x4fc)][_0x22c3c0(0x18e)]:return _0x22c3c0(0x33b)+_0x41eac0[_0x22c3c0(0x45a)][_0x22c3c0(0x937)](/[^a-zA-Z]/g,'');default:return'';}}[_0x5a8b1c(0x4bc)](_0x56f51f){const _0x5daedc=_0x5a8b1c;switch(_0x56f51f[_0x5daedc(0x2a5)]){case _0x2e1081['Agent']:case _0x2e1081[_0x5daedc(0x9dd)]:return'Execute\x20the\x20agent\x20'+_0x56f51f[_0x5daedc(0x94a)]+_0x5daedc(0x2bd);case _0x2e1081['WorkflowTool']:return _0x5daedc(0x2dd)+_0x56f51f[_0x5daedc(0x94a)]+'\x20to\x20generate\x20a\x20response.';case _0x2e1081['DataCollection']:case _0x2e1081[_0x5daedc(0x48d)]:return _0x5daedc(0x50c)+_0x56f51f[_0x5daedc(0x94a)]+_0x5daedc(0x477);case _0x2e1081['CustomSkill']:return'Execute\x20skill\x20'+_0x56f51f['description'];case _0x2e1081[_0x5daedc(0x6ae)]:return _0x5daedc(0xae9);case _0x2e1081[_0x5daedc(0x19d)]:return _0x5daedc(0x6a0);case _0x2e1081['Search']:return _0x5daedc(0x28c);case _0x2e1081[_0x5daedc(0x185)]:case _0x2e1081[_0x5daedc(0x938)]:return'Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.';case _0x52baed[_0x5daedc(0x4fc)][_0x5daedc(0x13c)]:return _0x5daedc(0x2c1);case _0x52baed[_0x5daedc(0x4fc)][_0x5daedc(0x71d)]:return'Set\x20the\x20answer\x20to\x20the\x20current\x20question.';case _0x52baed[_0x5daedc(0x4fc)][_0x5daedc(0x18e)]:return _0x5daedc(0x96d);default:return'';}}['getToolParams'](_0x1c729a){const _0x2d5479=_0x5a8b1c;switch(_0x1c729a['type']){case _0x2e1081[_0x2d5479(0x2fd)]:case _0x2e1081['AgentSkill']:case _0x2e1081[_0x2d5479(0x48e)]:return[{'name':_0x2d5479(0x7ed),'type':_0x2d5479(0x6e2)}];case _0x2e1081[_0x2d5479(0x6e7)]:case _0x2e1081[_0x2d5479(0x48d)]:return[{'name':_0x2d5479(0x476),'type':'string'}];case _0x2e1081[_0x2d5479(0x535)]:return _0x1c729a['parameters'][_0x2d5479(0x3d5)](_0x45fd51=>({'name':_0x45fd51[_0x2d5479(0x45a)],'type':_0x45fd51[_0x2d5479(0x2a5)]??_0x2d5479(0x6e2)}))??[];case _0x2e1081[_0x2d5479(0x6ae)]:return[{'name':'query','type':_0x2d5479(0x6e2)}];case _0x2e1081['Code']:return[{'name':'code','type':_0x2d5479(0x6e2)}];case _0x2e1081['Search']:return[{'name':'query','type':'string'}];case _0x2e1081[_0x2d5479(0x185)]:case _0x2e1081[_0x2d5479(0x938)]:return[{'name':_0x2d5479(0x9cf),'type':_0x2d5479(0x6e2)},{'name':_0x2d5479(0xa6b),'type':_0x2d5479(0x23e)}];case _0x52baed[_0x2d5479(0x4fc)][_0x2d5479(0x13c)]:return[];case _0x52baed['GenerativeAIInferenceToolType']['FormSkillSetAnswer']:return[{'name':'id','type':'string'},{'name':'answer','type':'string'}];case _0x52baed[_0x2d5479(0x4fc)]['FormSkillSubmitForm']:default:return[];}}}class _0x27cc10{['configs'];[_0x5a8b1c(0x392)];['localMediaStreams']=new Map();[_0x5a8b1c(0x5e3)]=new Map();[_0x5a8b1c(0x541)]=new Map();[_0x5a8b1c(0x62c)]=new Map();['externalStorageConnections']=new Map();[_0x5a8b1c(0x4c6)]=new Map();['vectorDatabases']=new Map();[_0x5a8b1c(0x945)]=new Map();['jobDispatchers']=new Map();[_0x5a8b1c(0x20f)]=new Map();[_0x5a8b1c(0x51c)]=new Map();['transactionService'];constructor(_0x1cee72,_0x542882){const _0x3dea95=_0x5a8b1c;this['configs']=_0x1cee72,this[_0x3dea95(0x392)]=_0x542882,this[_0x3dea95(0x335)]=new _0x384ea8(this[_0x3dea95(0xab3)][_0x3dea95(0x26a)],this[_0x3dea95(0xab3)][_0x3dea95(0x659)]);}[_0x5a8b1c(0x494)](_0x4b3845=!0x1){const _0x3feb7e=_0x5a8b1c;this[_0x3feb7e(0x5e3)][_0x3feb7e(0x775)]((_0x595926,_0x1a9685)=>{const _0x4f5657=_0x3feb7e;_0x595926[_0x4f5657(0x775)]((_0x28e260,_0x4b194c)=>{this['removeRemoteMediaStream'](_0x1a9685,_0x4b194c);});}),_0x4b3845||(_0x30721e[_0x3feb7e(0x5a9)](),this[_0x3feb7e(0x996)][_0x3feb7e(0x775)]((_0x3d59f5,_0x13929e)=>{const _0x5d55df=_0x3feb7e;this[_0x5d55df(0x355)](_0x13929e);}),this[_0x3feb7e(0x541)][_0x3feb7e(0x775)]((_0x38ba17,_0x323268)=>{const _0x237ef5=_0x3feb7e;this[_0x237ef5(0x15c)](_0x323268);}),this[_0x3feb7e(0x62c)][_0x3feb7e(0x775)]((_0x433962,_0x4b7dd2)=>{const _0xf76e57=_0x3feb7e;this[_0xf76e57(0xb45)](_0x4b7dd2);}),this[_0x3feb7e(0x4f3)]['forEach']((_0x487383,_0x556761)=>{const _0x51e015=_0x3feb7e;this[_0x51e015(0x676)](_0x556761);}),this[_0x3feb7e(0x4c6)]['forEach']((_0x163836,_0x297db4)=>{const _0x175052=_0x3feb7e;this[_0x175052(0x6b3)](_0x297db4);}),this[_0x3feb7e(0x222)][_0x3feb7e(0x775)]((_0x373779,_0x8e6b3a)=>{const _0x13be0d=_0x3feb7e;this[_0x13be0d(0x74a)](_0x8e6b3a);}),this['jobWorkers']['forEach']((_0x381006,_0x24430a)=>{const _0x48dffa=_0x3feb7e;this[_0x48dffa(0x1f8)](_0x24430a);}),this[_0x3feb7e(0x51c)]['forEach']((_0x55d185,_0x3d4360)=>{const _0x291de7=_0x3feb7e;this[_0x291de7(0x8ac)](_0x3d4360);}),this[_0x3feb7e(0x998)]['forEach']((_0x11623b,_0x18f2ff)=>{const _0xc48185=_0x3feb7e;this[_0xc48185(0xa2f)](_0x18f2ff);}),this[_0x3feb7e(0x945)][_0x3feb7e(0x775)]((_0x25b18e,_0x38f6ce)=>{const _0x1a3fa3=_0x3feb7e;this[_0x1a3fa3(0x4f7)](_0x38f6ce);}));}[_0x5a8b1c(0x488)](_0xca8892,_0x2e6b39,_0x419165){const _0xd44dad=_0x5a8b1c;if(this[_0xd44dad(0x62c)][_0xd44dad(0x149)](_0xca8892))throw new _0x4ec9e4(_0x47ec8c[_0xd44dad(0x726)],'Store\x20already\x20exists');const _0x2ff8f7=new _0x31b903(this[_0xd44dad(0xab3)][_0xd44dad(0x650)],_0xca8892,this[_0xd44dad(0xab3)][_0xd44dad(0x659)],this[_0xd44dad(0xab3)]['vendorId'],this['transactionService'],_0x2e6b39,()=>this[_0xd44dad(0xab3)][_0xd44dad(0x834)][_0xd44dad(0x8af)](),_0x419165);return this[_0xd44dad(0x62c)][_0xd44dad(0x984)](_0xca8892,_0x2ff8f7),this[_0xd44dad(0xab3)][_0xd44dad(0x834)][_0xd44dad(0x3b0)](_0x2ff8f7),_0x2ff8f7;}[_0x5a8b1c(0x582)](_0x3b5cbc,_0x64e36b){const _0x2261fa=_0x5a8b1c;if(this[_0x2261fa(0x62c)][_0x2261fa(0x149)](_0x3b5cbc))throw new _0x4ec9e4(_0x47ec8c[_0x2261fa(0x333)],_0x2261fa(0x963));const _0x2562fb=new _0x5e1056(this['configs'][_0x2261fa(0x650)],_0x3b5cbc,this[_0x2261fa(0xab3)][_0x2261fa(0x659)],this['configs'][_0x2261fa(0x26a)],_0x64e36b);return this[_0x2261fa(0x4f3)]['set'](_0x3b5cbc,_0x2562fb),this[_0x2261fa(0xab3)][_0x2261fa(0x834)]['registerSystemSource'](_0x2562fb),_0x2562fb;}async['createKeyValueDatabase'](_0x35cd5,_0x417b5e,_0xe77abd){const _0x4514a3=_0x5a8b1c;if(this[_0x4514a3(0x4c6)][_0x4514a3(0x149)](_0x35cd5))throw new _0x4ec9e4(_0x47ec8c['KeyValueDatabaseAlreadyExists'],'Database\x20already\x20exists');try{const _0x5907b0=this['configs'][_0x4514a3(0x834)]['isNodeReady']['bind'](this['configs'][_0x4514a3(0x834)]),_0x3a67a4=new _0x6420(this[_0x4514a3(0xab3)][_0x4514a3(0x650)],_0x35cd5,this[_0x4514a3(0xab3)]['clusterId'],this['configs'][_0x4514a3(0x26a)],_0x417b5e,_0xe77abd,_0x5907b0);return this['keyValueDatabases']['set'](_0x35cd5,_0x3a67a4),this['configs'][_0x4514a3(0x834)][_0x4514a3(0x3b0)](_0x3a67a4),_0x3a67a4;}catch(_0x27fd85){if(_0x27fd85 instanceof _0x4ec9e4)throw _0x27fd85;throw new _0xdb384(_0xdb384[_0x4514a3(0x549)][_0x4514a3(0x7f6)],{'label':_0x35cd5,'clusterId':this['configs']['clusterId'],'vendorId':this[_0x4514a3(0xab3)][_0x4514a3(0x26a)]});}}async[_0x5a8b1c(0xa0f)](_0x5086b3,_0x5b09bd){const _0x440e6b=_0x5a8b1c;if(this[_0x440e6b(0x222)][_0x440e6b(0x149)](_0x5086b3))throw new _0x4ec9e4(_0x47ec8c[_0x440e6b(0x6ba)],'Job\x20Dispatcher\x20already\x20exists');try{const _0x3a8014=new _0x565b39(this[_0x440e6b(0xab3)][_0x440e6b(0x650)],_0x5086b3,_0x5b09bd);return this[_0x440e6b(0x222)][_0x440e6b(0x984)](_0x5086b3,_0x3a8014),this[_0x440e6b(0xab3)]['mediator'][_0x440e6b(0x3b0)](_0x3a8014),_0x3a8014;}catch(_0x4b2e75){if(_0x4b2e75 instanceof _0x4ec9e4)throw _0x4b2e75;throw new _0xdb384(_0xdb384['codes'][_0x440e6b(0x879)],{'label':_0x5086b3,'clusterId':this[_0x440e6b(0xab3)][_0x440e6b(0x659)],'vendorId':this[_0x440e6b(0xab3)][_0x440e6b(0x26a)]});}}async['createGenerativeAIContext'](_0xcef9d8,_0xc393d2){const _0x1e6c2e=_0x5a8b1c;if(this[_0x1e6c2e(0x222)][_0x1e6c2e(0x149)](_0xcef9d8))throw new _0x4ec9e4(_0x47ec8c[_0x1e6c2e(0x1f4)],'AI\x20Service\x20already\x20exists');if(this[_0x1e6c2e(0x20f)][_0x1e6c2e(0x149)](_0xcef9d8))throw new _0x4ec9e4(_0x47ec8c[_0x1e6c2e(0x15f)],_0x1e6c2e(0x532));try{const _0x2e3b1a=new _0x2ac52b(this[_0x1e6c2e(0xab3)][_0x1e6c2e(0x650)],_0xcef9d8,this['configs'][_0x1e6c2e(0x26a)],_0xc393d2);return this[_0x1e6c2e(0x222)][_0x1e6c2e(0x984)](_0xcef9d8,_0x2e3b1a),this[_0x1e6c2e(0xab3)][_0x1e6c2e(0x834)][_0x1e6c2e(0x3b0)](_0x2e3b1a),_0x2e3b1a;}catch(_0x239b86){if(_0x239b86 instanceof _0x4ec9e4)throw _0x239b86;throw new _0xdb384(_0xdb384['codes'][_0x1e6c2e(0x80c)],{'label':_0xcef9d8,'clusterId':this[_0x1e6c2e(0xab3)][_0x1e6c2e(0x659)],'vendorId':this['configs'][_0x1e6c2e(0x26a)]});}}async[_0x5a8b1c(0x98b)](_0x5b61bb,_0x334d90,_0xf87c7d,_0x54c29b,_0x4d00b7,_0x1ab189,_0x6d8a25,_0x40b86d,_0x26f1a1,_0x27a047,_0x570798){const _0x4b866f=_0x5a8b1c;if(this['generativeAIContexts'][_0x4b866f(0x149)](_0x5b61bb))throw new _0x4ec9e4(_0x47ec8c[_0x4b866f(0x1f4)],_0x4b866f(0xafe));if(this['jobWorkers'][_0x4b866f(0x149)](_0x5b61bb))throw new _0x4ec9e4(_0x47ec8c[_0x4b866f(0x15f)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0xfad518=new _0x1b1787(this[_0x4b866f(0xab3)][_0x4b866f(0x650)],_0x5b61bb,this,_0x334d90,_0xf87c7d,_0x54c29b,_0x4d00b7,_0x1ab189,_0x6d8a25,_0x40b86d,_0x26f1a1,_0x27a047,_0x570798);return this[_0x4b866f(0x51c)][_0x4b866f(0x984)](_0x5b61bb,_0xfad518),this['configs']['mediator'][_0x4b866f(0x3b0)](_0xfad518),_0xfad518;}catch(_0x3f82e8){if(_0x3f82e8 instanceof _0x4ec9e4)throw _0x3f82e8;throw new _0xdb384(_0xdb384['codes'][_0x4b866f(0x80c)],{'label':_0x5b61bb,'clusterId':this['configs'][_0x4b866f(0x659)],'vendorId':this[_0x4b866f(0xab3)][_0x4b866f(0x26a)]});}}async[_0x5a8b1c(0x50d)](_0xde798b,_0xbcffc2,_0x50816c,_0x5980b9,_0x326d0e,_0x34f45e,_0x26213e,_0x1bb8aa,_0x2756bd,_0x285ff3,_0x2ab025,_0x3fc322){const _0x2a4fdb=_0x5a8b1c;if(this[_0x2a4fdb(0x20f)]['has'](_0xde798b))throw new _0x4ec9e4(_0x47ec8c[_0x2a4fdb(0x5ca)],'AI\x20Worker\x20already\x20exists');if(this['jobDispatchers'][_0x2a4fdb(0x149)](_0xde798b))throw new _0x4ec9e4(_0x47ec8c['GenerativeAILabelConflict'],_0x2a4fdb(0x532));try{const _0x511e48=new _0x57cd59(this[_0x2a4fdb(0xab3)]['localNode'],_0xde798b,_0xbcffc2,this,_0x50816c,_0x5980b9,_0x326d0e,_0x34f45e,_0x26213e,_0x1bb8aa,_0x2756bd,_0x285ff3,_0x2ab025,_0x3fc322);return this[_0x2a4fdb(0x20f)][_0x2a4fdb(0x984)](_0xde798b,_0x511e48),this[_0x2a4fdb(0xab3)]['mediator'][_0x2a4fdb(0x3b0)](_0x511e48),_0x511e48;}catch(_0x22c277){if(_0x22c277 instanceof _0x4ec9e4)throw _0x22c277;throw new _0xdb384(_0xdb384[_0x2a4fdb(0x549)][_0x2a4fdb(0x586)],{'label':_0xde798b,'clusterId':this[_0x2a4fdb(0xab3)]['clusterId'],'vendorId':this[_0x2a4fdb(0xab3)][_0x2a4fdb(0x26a)]});}}['createGraphDatabase'](_0x37c76f,_0x4cb27c){const _0xeb4510=_0x5a8b1c;if(this[_0xeb4510(0x945)][_0xeb4510(0x149)](_0x37c76f))throw new _0x4ec9e4(_0x47ec8c[_0xeb4510(0xa5f)],'Database\x20already\x20exists');try{const _0x1bf753=new _0x2c8262(this[_0xeb4510(0xab3)][_0xeb4510(0x650)],_0x37c76f,this[_0xeb4510(0xab3)][_0xeb4510(0x659)],this['configs'][_0xeb4510(0x26a)],_0x4cb27c);return this[_0xeb4510(0x945)][_0xeb4510(0x984)](_0x37c76f,_0x1bf753),this[_0xeb4510(0xab3)][_0xeb4510(0x834)]['registerSystemSource'](_0x1bf753),_0x1bf753;}catch(_0x35704e){if(_0x35704e instanceof _0x4ec9e4)throw _0x35704e;throw new _0xdb384(_0xdb384[_0xeb4510(0x549)][_0xeb4510(0x680)],{'label':_0x37c76f,'clusterId':this['configs']['clusterId'],'vendorId':this[_0xeb4510(0xab3)]['vendorId']});}}[_0x5a8b1c(0x507)](_0x4ee1b2,_0xd35f0c){const _0x15e3f8=_0x5a8b1c;if(this[_0x15e3f8(0x996)][_0x15e3f8(0x149)](_0x4ee1b2))throw new _0x4ec9e4(_0x47ec8c[_0x15e3f8(0x6b2)],_0x15e3f8(0x201));if(!this[_0x15e3f8(0x392)][_0x15e3f8(0x71c)])throw new _0x4ec9e4(_0x47ec8c[_0x15e3f8(0x52e)],_0x15e3f8(0x67e));const _0x3ee22d=new _0x2595fb(this[_0x15e3f8(0xab3)]['localNode'],_0x4ee1b2,_0xd35f0c,this['options'][_0x15e3f8(0x31b)],this['options'][_0x15e3f8(0x71c)],this[_0x15e3f8(0xab3)][_0x15e3f8(0x659)]);return this['localMediaStreams'][_0x15e3f8(0x984)](_0x4ee1b2,_0x3ee22d),this[_0x15e3f8(0xab3)]['mediator'][_0x15e3f8(0x3b0)](_0x3ee22d),_0x3ee22d[_0x15e3f8(0x590)](),_0x3ee22d;}[_0x5a8b1c(0x637)](_0x3bcb2e,_0x156e69){const _0x29540b=_0x5a8b1c;if(this[_0x29540b(0x996)]['has'](_0x3bcb2e))throw new _0x4ec9e4(_0x47ec8c[_0x29540b(0x6b2)],_0x29540b(0x52c));const _0x268eaa=new _0x4b27f9(this[_0x29540b(0xab3)][_0x29540b(0x650)],_0x3bcb2e,_0x156e69,this[_0x29540b(0xab3)][_0x29540b(0x659)]);return this[_0x29540b(0x996)][_0x29540b(0x984)](_0x3bcb2e,_0x268eaa),this[_0x29540b(0xab3)][_0x29540b(0x834)]['registerSystemSource'](_0x268eaa),_0x268eaa['publish'](),_0x268eaa;}[_0x5a8b1c(0x429)](_0x496250){const _0x57da9d=_0x5a8b1c;if(this['pubSubTopics'][_0x57da9d(0x149)](_0x496250))throw new _0x4ec9e4(_0x47ec8c[_0x57da9d(0x23f)],_0x57da9d(0x46e));const _0x528460=new _0x5422f7(this[_0x57da9d(0xab3)][_0x57da9d(0x650)],_0x496250,this[_0x57da9d(0xab3)]['clusterId']);return this[_0x57da9d(0x541)]['set'](_0x496250,_0x528460),this['configs'][_0x57da9d(0x834)][_0x57da9d(0x3b0)](_0x528460),_0x528460;}[_0x5a8b1c(0x97b)](_0x568faf,_0x781e09,_0x2e8201,_0x32ac6e){const _0x395c0f=_0x5a8b1c;this[_0x395c0f(0x5e3)][_0x395c0f(0x149)](_0x568faf)||this[_0x395c0f(0x5e3)][_0x395c0f(0x984)](_0x568faf,new Map());const _0x4efe94=this[_0x395c0f(0x5e3)][_0x395c0f(0x8a4)](_0x568faf);if(_0x4efe94[_0x395c0f(0x149)](_0x781e09))throw new _0x4ec9e4(_0x47ec8c[_0x395c0f(0x91d)],_0x395c0f(0x580));const _0x20e7e8=new _0x3fac9e(_0x568faf,'',''),_0x2a6c9b=new _0x439d9d(this[_0x395c0f(0xab3)][_0x395c0f(0x650)],_0x20e7e8,_0x781e09,_0x2e8201,_0x32ac6e,this['configs'][_0x395c0f(0x659)]);return _0x4efe94[_0x395c0f(0x984)](_0x781e09,_0x2a6c9b),this[_0x395c0f(0xab3)][_0x395c0f(0x834)][_0x395c0f(0x3b0)](_0x2a6c9b),_0x2a6c9b;}[_0x5a8b1c(0x90e)](_0x5c985f,_0x21a49c){const _0x5650d6=_0x5a8b1c;if(this[_0x5650d6(0x998)]['has'](_0x5c985f))throw new _0x4ec9e4(_0x47ec8c[_0x5650d6(0x9d0)],_0x5650d6(0x9ad));try{const _0x5c9d61=new _0x1ca3a7(this[_0x5650d6(0xab3)][_0x5650d6(0x650)],_0x5c985f,this['configs'][_0x5650d6(0x659)],this[_0x5650d6(0xab3)][_0x5650d6(0x26a)],_0x21a49c);return this[_0x5650d6(0x998)][_0x5650d6(0x984)](_0x5c985f,_0x5c9d61),this[_0x5650d6(0xab3)][_0x5650d6(0x834)]['registerSystemSource'](_0x5c9d61),_0x5c9d61;}catch(_0xe8b0c2){if(_0xe8b0c2 instanceof _0x4ec9e4)throw _0xe8b0c2;throw new _0xdb384(_0xdb384[_0x5650d6(0x549)]['VectorDatabaseCreationFailed'],{'label':_0x5c985f,'clusterId':this[_0x5650d6(0xab3)][_0x5650d6(0x659)],'vendorId':this[_0x5650d6(0xab3)][_0x5650d6(0x26a)]});}}['getObjectStoreBuckets'](_0x52b830){const _0x125a75=_0x5a8b1c,_0x5a7825=Array['from'](this[_0x125a75(0x62c)][_0x125a75(0x4c2)]());return _0x52b830?_0x5a7825[_0x125a75(0x930)](_0x52b830):_0x5a7825;}[_0x5a8b1c(0xb02)](_0x39ca85){const _0x5eca96=_0x5a8b1c,_0x55c4cb=Array[_0x5eca96(0x47c)](this[_0x5eca96(0x4f3)]['values']());return _0x39ca85?_0x55c4cb['filter'](_0x39ca85):_0x55c4cb;}[_0x5a8b1c(0x273)](_0x43ed8e){const _0x5b4bf8=_0x5a8b1c,_0xdb2bbc=Array['from'](this[_0x5b4bf8(0x4c6)][_0x5b4bf8(0x4c2)]());return _0x43ed8e?_0xdb2bbc[_0x5b4bf8(0x930)](_0x43ed8e):_0xdb2bbc;}[_0x5a8b1c(0x1b4)](_0x108803){const _0x25d436=_0x5a8b1c,_0x32b3f5=Array[_0x25d436(0x47c)](this['jobDispatchers']['values']());return _0x108803?_0x32b3f5[_0x25d436(0x930)](_0x108803):_0x32b3f5;}[_0x5a8b1c(0x3ec)](_0x72f517){const _0x3c10ac=_0x5a8b1c,_0x5c86bd=Array[_0x3c10ac(0x47c)](this[_0x3c10ac(0x20f)]['values']());return _0x72f517?_0x5c86bd[_0x3c10ac(0x930)](_0x72f517):_0x5c86bd;}[_0x5a8b1c(0x708)](_0x5d0974){const _0x441679=_0x5a8b1c,_0xe87f6c=Array[_0x441679(0x47c)](this[_0x441679(0x222)][_0x441679(0x4c2)]())[_0x441679(0x930)](_0x18e3e7=>_0x18e3e7 instanceof _0x2ac52b);return _0x5d0974?_0xe87f6c[_0x441679(0x930)](_0x5d0974):_0xe87f6c;}['getGenerativeAIContextsStandalone'](_0x2cf62f){const _0x34ef2f=_0x5a8b1c,_0x3e666a=Array['from'](this['generativeAIContexts'][_0x34ef2f(0x4c2)]());return _0x2cf62f?_0x3e666a['filter'](_0x2cf62f):_0x3e666a;}[_0x5a8b1c(0x237)](_0x216f45){const _0x66a414=_0x5a8b1c,_0x292579=Array['from'](this[_0x66a414(0x20f)][_0x66a414(0x4c2)]())[_0x66a414(0x930)](_0x38ef91=>_0x38ef91 instanceof _0x57cd59);return _0x216f45?_0x292579[_0x66a414(0x930)](_0x216f45):_0x292579;}['getGraphDatabases'](_0x900f74){const _0x4ea37c=_0x5a8b1c,_0x52a4a0=Array[_0x4ea37c(0x47c)](this['graphDatabases'][_0x4ea37c(0x4c2)]());return _0x900f74?_0x52a4a0['filter'](_0x900f74):_0x52a4a0;}[_0x5a8b1c(0xa9c)](_0x2ea09c){const _0x1f396d=_0x5a8b1c,_0x312b23=Array[_0x1f396d(0x47c)](this[_0x1f396d(0x996)][_0x1f396d(0x4c2)]());return _0x2ea09c?_0x312b23[_0x1f396d(0x930)](_0x2ea09c):_0x312b23;}[_0x5a8b1c(0x581)](_0x211c87){const _0x4ede54=_0x5a8b1c,_0x308b39=Array[_0x4ede54(0x47c)](this[_0x4ede54(0x541)][_0x4ede54(0x4c2)]());return _0x211c87?_0x308b39[_0x4ede54(0x930)](_0x211c87):_0x308b39;}[_0x5a8b1c(0x1ee)](_0x5a3d70){const _0x4faed5=_0x5a8b1c,_0x217e29=Array[_0x4faed5(0x47c)](this[_0x4faed5(0x5e3)][_0x4faed5(0x4c2)]())[_0x4faed5(0x8a0)]((_0x3d6203,_0x1a5686)=>[..._0x3d6203,...Array['from'](_0x1a5686[_0x4faed5(0x4c2)]())],[]);return _0x5a3d70?_0x217e29[_0x4faed5(0x930)](_0x5a3d70):_0x217e29;}[_0x5a8b1c(0x315)](_0x31b896){const _0x160704=_0x5a8b1c,_0x4b4aed=Array[_0x160704(0x47c)](this[_0x160704(0x998)][_0x160704(0x4c2)]());return _0x31b896?_0x4b4aed['filter'](_0x31b896):_0x4b4aed;}[_0x5a8b1c(0xae0)](_0x4d1e08){const _0x5721f5=_0x5a8b1c,_0x23de7a=this['objectStores']['get'](_0x4d1e08);if(!_0x23de7a)throw new _0x4ec9e4(_0x47ec8c[_0x5721f5(0x684)],_0x5721f5(0xa3a));return _0x23de7a;}['getExternalStorageConnection'](_0x49d476){const _0x562629=_0x5a8b1c,_0x46fb5f=_0x49d476['split']('-'),_0x4fae1d=this[_0x562629(0x4f3)][_0x562629(0x8a4)](_0x46fb5f[0x1]);if(!_0x4fae1d)throw new _0x4ec9e4(_0x47ec8c[_0x562629(0x14d)],_0x562629(0x677));return _0x4fae1d;}[_0x5a8b1c(0x1ac)](_0x115dbd){const _0xda7679=_0x5a8b1c,_0x308353=this[_0xda7679(0x945)][_0xda7679(0x8a4)](_0x115dbd);if(!_0x308353)throw new _0x4ec9e4(_0x47ec8c['GraphDatabaseDoesNotExist'],'GraphDatabase\x20not\x20found');return _0x308353;}[_0x5a8b1c(0x33e)](_0x1199ce){const _0x134c7e=_0x5a8b1c,_0x6f0214=this['keyValueDatabases']['get'](_0x1199ce);if(!_0x6f0214)throw new _0x4ec9e4(_0x47ec8c['KeyValueDatabaseDoesNotExist'],_0x134c7e(0xa93));return _0x6f0214;}[_0x5a8b1c(0x683)](_0x55ce6a){const _0x256733=_0x5a8b1c,_0x199ef0=this[_0x256733(0x541)][_0x256733(0x8a4)](_0x55ce6a);if(!_0x199ef0)throw new _0x4ec9e4(_0x47ec8c[_0x256733(0x7e7)],_0x256733(0x711));return _0x199ef0;}[_0x5a8b1c(0x9e8)](_0x510bb9){const _0x2dd398=_0x5a8b1c,_0x44d929=this[_0x2dd398(0x998)][_0x2dd398(0x8a4)](_0x510bb9);if(!_0x44d929)throw new _0x4ec9e4(_0x47ec8c[_0x2dd398(0x34f)],_0x2dd398(0x72e));return _0x44d929;}['handleContentSystemEvents'](_0x16fc73){const _0x845840=_0x5a8b1c;switch(_0x16fc73[_0x845840(0x2fa)][_0x845840(0x2a5)]){case _0xae157c[_0x845840(0x668)]:this[_0x845840(0xa69)](_0x16fc73[_0x845840(0x2fa)]);break;case _0xae157c[_0x845840(0x394)]:this[_0x845840(0x768)](_0x16fc73[_0x845840(0x2fa)]);break;case _0xae157c[_0x845840(0x6b9)]:this[_0x845840(0x74a)](_0x16fc73['content'][_0x845840(0x19f)]);break;case _0xae157c['CloseJobWorker']:this['removeJobWorker'](_0x16fc73[_0x845840(0x2fa)][_0x845840(0x19f)]);break;case _0xae157c[_0x845840(0x99b)]:this[_0x845840(0x8ac)](_0x16fc73[_0x845840(0x2fa)][_0x845840(0x19f)]);break;case _0xae157c[_0x845840(0x448)]:this[_0x845840(0x355)](_0x16fc73['content'][_0x845840(0x19f)]);break;case _0xae157c[_0x845840(0x321)]:this['removePubSubTopic'](_0x16fc73[_0x845840(0x2fa)][_0x845840(0x19f)]);break;case _0xae157c['CloseObjectStoreBucket']:this[_0x845840(0xb45)](_0x16fc73['content'][_0x845840(0x19f)]);break;case _0xae157c[_0x845840(0x692)]:this[_0x845840(0x676)](_0x16fc73['content']['label']);break;case _0xae157c[_0x845840(0x3ff)]:this[_0x845840(0x6b3)](_0x16fc73['content'][_0x845840(0x19f)]);break;case _0xae157c['CloseVectorDatabase']:this['removeVectorDatabase'](_0x16fc73['content'][_0x845840(0x19f)]);break;case _0xae157c[_0x845840(0x7a8)]:this['removeGraphDatabase'](_0x16fc73[_0x845840(0x2fa)][_0x845840(0x19f)]);break;case _0xae157c[_0x845840(0x9ed)]:this[_0x845840(0x357)](_0x16fc73[_0x845840(0x2fa)]);break;case _0xae157c[_0x845840(0x264)]:this[_0x845840(0x4c6)][_0x845840(0x8a4)](_0x16fc73[_0x845840(0x2fa)][_0x845840(0x19f)])?.[_0x845840(0x8cd)](_0x16fc73['sourceId'],_0x16fc73['content'][_0x845840(0xb18)]);break;case _0xae157c[_0x845840(0x49f)]:this[_0x845840(0x4c6)][_0x845840(0x8a4)](_0x16fc73[_0x845840(0x2fa)]['label'])?.[_0x845840(0x78d)](_0x16fc73[_0x845840(0x2fb)],_0x16fc73[_0x845840(0x2fa)][_0x845840(0xb18)]);break;case _0xae157c['KeyValueDatabaseContentAvailable']:this['keyValueDatabases'][_0x845840(0x8a4)](_0x16fc73['content']['label'])?.[_0x845840(0x90c)](_0x16fc73[_0x845840(0x2fb)],_0x16fc73['content'][_0x845840(0xb0f)]);break;case _0xae157c['KeyValueDatabaseRequestPeakTransactions']:this[_0x845840(0x4c6)][_0x845840(0x8a4)](_0x16fc73[_0x845840(0x2fa)]['label'])?.[_0x845840(0x1f3)](_0x16fc73['sourceId'],_0x16fc73['content']['peakHeights']);break;case _0xae157c[_0x845840(0x6cb)]:this[_0x845840(0x4c6)]['get'](_0x16fc73[_0x845840(0x2fa)]['label'])?.['sendTransactionsValue'](_0x16fc73[_0x845840(0x2fb)],_0x16fc73[_0x845840(0x2fa)][_0x845840(0x416)]);break;case _0xae157c[_0x845840(0x529)]:this[_0x845840(0x4c6)][_0x845840(0x8a4)](_0x16fc73['content'][_0x845840(0x19f)])?.[_0x845840(0x3c2)](_0x16fc73[_0x845840(0x2fb)],_0x16fc73[_0x845840(0x2fa)]['transactions']);break;case _0xae157c[_0x845840(0x56e)]:this[_0x845840(0xab3)][_0x845840(0x834)]['notifyCluster'](_0x845840(0xab1),{'label':_0x16fc73['content'][_0x845840(0x19f)],'trackKinds':_0x16fc73['content']['trackKinds']});}}['handleNodeSystemEvents']({content:_0x548f4e}){const _0x7a4e8d=_0x5a8b1c;switch(_0x548f4e[_0x7a4e8d(0x2a5)]){case _0xba42b7[_0x7a4e8d(0x8dd)]:this[_0x7a4e8d(0xa85)](_0x548f4e),this[_0x7a4e8d(0xac8)](_0x548f4e);break;case _0xba42b7[_0x7a4e8d(0x4b2)]:this['handleNodeLeave'](_0x548f4e),this[_0x7a4e8d(0x48c)](_0x548f4e);}}['handleSubscriptionSystemEvents'](_0x2f1106){const _0x52b37b=_0x5a8b1c;switch(_0x2f1106[_0x52b37b(0x2fa)][_0x52b37b(0x2a5)]){case _0x22bb2e[_0x52b37b(0x8d5)]:this[_0x52b37b(0x9dc)](_0x2f1106[_0x52b37b(0x2fb)],_0x2f1106[_0x52b37b(0x2fa)]);break;case _0x22bb2e['UpdateMediaStream']:this['handleUpdateMediaStream'](_0x2f1106[_0x52b37b(0x2fb)],_0x2f1106[_0x52b37b(0x2fa)]);break;case _0x22bb2e[_0x52b37b(0x9ed)]:this[_0x52b37b(0x809)](_0x2f1106[_0x52b37b(0x2fb)],_0x2f1106[_0x52b37b(0x2fa)]);}}[_0x5a8b1c(0x357)](_0x59b9f4){const _0x21246d=_0x5a8b1c;if(0x0===_0x59b9f4[_0x21246d(0x690)])this[_0x21246d(0x5e3)][_0x21246d(0x8a4)](_0x59b9f4[_0x21246d(0x5c6)])?.[_0x21246d(0x8a4)](_0x59b9f4[_0x21246d(0x19f)])?.[_0x21246d(0x865)]();else{const _0x2f9b73=this['remoteMediaStreams'][_0x21246d(0x8a4)](_0x59b9f4[_0x21246d(0x5c6)])?.[_0x21246d(0x8a4)](_0x59b9f4[_0x21246d(0x19f)]);if(!_0x2f9b73)return;_0x59b9f4['trackKinds'][_0x21246d(0x775)](_0x4aff4b=>_0x2f9b73[_0x21246d(0x418)](_0x4aff4b));}}[_0x5a8b1c(0xa69)](_0x112e31){const _0x880b5b=_0x5a8b1c,{label:_0x400347,ownerId:_0x527c5c,stream:{streamId:_0xcd585e,availableTrackKinds:_0x2df8e0}}=_0x112e31;if(this['remoteMediaStreams'][_0x880b5b(0x8a4)](_0x527c5c)?.[_0x880b5b(0x149)](_0x400347))return void _0x241131[_0x880b5b(0x2d3)](_0xf47a5[_0x880b5b(0x420)],_0x880b5b(0x52c),_0xcd585e);const _0x243647=this[_0x880b5b(0x97b)](_0x527c5c,_0x400347,_0xcd585e,_0x2df8e0);this[_0x880b5b(0xab3)]['mediator']['notifyCluster'](_0x880b5b(0xa22),{'ownerId':_0x527c5c,'stream':_0x243647});}[_0x5a8b1c(0x768)]({ownerId:_0x18e151,label:_0x1c7719}){const _0x44fcba=_0x5a8b1c;this[_0x44fcba(0x1bc)](_0x18e151,_0x1c7719),this[_0x44fcba(0xab3)]['mediator'][_0x44fcba(0xaa3)](_0x44fcba(0x84e),{'ownerId':_0x18e151,'label':_0x1c7719});}['handleSubscribeMediaStream'](_0x4e19c7,_0x20808c){const _0x4bb1f9=_0x5a8b1c,{ownerId:_0x282c55,label:_0x427ded}=_0x20808c;let _0x2a946a;_0x2a946a=_0x282c55!==this[_0x4bb1f9(0xab3)][_0x4bb1f9(0x650)][_0x4bb1f9(0x3dd)]()?this[_0x4bb1f9(0x5e3)][_0x4bb1f9(0x8a4)](_0x282c55)['get'](_0x427ded):this[_0x4bb1f9(0x996)]['get'](_0x427ded),_0x2a946a[_0x4bb1f9(0xac4)](_0x4e19c7,_0x20808c[_0x4bb1f9(0x575)])[_0x4bb1f9(0x19a)](_0x20808c,_0x2a946a['getPriority']());}['handleUpdateMediaStream'](_0x38c4d1,_0x11d3c4){const _0xf8944a=_0x5a8b1c,{ownerId:_0x5d54fb,label:_0x4619bb}=_0x11d3c4;let _0x272fdb;_0x272fdb=_0x5d54fb!==this[_0xf8944a(0xab3)][_0xf8944a(0x650)][_0xf8944a(0x3dd)]()?this[_0xf8944a(0x5e3)]['get'](_0x5d54fb)[_0xf8944a(0x8a4)](_0x4619bb):this[_0xf8944a(0x996)][_0xf8944a(0x8a4)](_0x4619bb),_0x272fdb[_0xf8944a(0xac4)](_0x38c4d1,_0x11d3c4['params'])[_0xf8944a(0xafb)](_0x11d3c4);}[_0x5a8b1c(0x809)](_0x1bc9d9,_0x10d442){const _0x508bd5=_0x5a8b1c,{ownerId:_0x5db48a,label:_0x236a43}=_0x10d442;let _0x5e9da6;_0x5e9da6=_0x5db48a!==this['configs'][_0x508bd5(0x650)][_0x508bd5(0x3dd)]()?this[_0x508bd5(0x5e3)][_0x508bd5(0x8a4)](_0x5db48a)[_0x508bd5(0x8a4)](_0x236a43):this[_0x508bd5(0x996)][_0x508bd5(0x8a4)](_0x236a43),_0x5e9da6['getShareableStream'](_0x1bc9d9)[_0x508bd5(0xa68)](_0x10d442);}[_0x5a8b1c(0xa85)]({id:_0x551f3c}){const _0xde4cc2=_0x5a8b1c;this[_0xde4cc2(0xa9c)]()['forEach'](_0x3192a6=>{const _0x2bf89b=_0xde4cc2;_0x3192a6[_0x2bf89b(0x590)](_0x551f3c);});}[_0x5a8b1c(0x320)]({id:_0x585c48}){const _0xb16a90=_0x5a8b1c;this[_0xb16a90(0x1ee)](_0x86f3c=>_0x86f3c[_0xb16a90(0x770)]()===_0x585c48)[_0xb16a90(0x775)](_0x366b52=>{const _0x224edf=_0xb16a90;this[_0x224edf(0x1bc)](_0x366b52[_0x224edf(0x770)](),_0x366b52['getLabel']());});}['notifyObjectStoreOfNodeJoin']({id:_0x44c7a1}){const _0x442dd5=_0x5a8b1c;this['objectStores'][_0x442dd5(0x775)](_0x3c32a3=>_0x3c32a3[_0x442dd5(0x232)](_0x44c7a1));}[_0x5a8b1c(0x48c)]({id:_0x3b765c}){const _0x41879c=_0x5a8b1c;this['objectStores'][_0x41879c(0x775)](_0x2edec7=>_0x2edec7[_0x41879c(0x320)](_0x3b765c));}[_0x5a8b1c(0x74a)](_0x251b93){const _0x4679a8=_0x5a8b1c;if(!this[_0x4679a8(0x222)][_0x4679a8(0x149)](_0x251b93))throw new _0x4ec9e4(_0x47ec8c[_0x4679a8(0x8ca)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x5505f4=this[_0x4679a8(0x222)]['get'](_0x251b93);this[_0x4679a8(0x222)][_0x4679a8(0x1cd)](_0x251b93),_0x5505f4[_0x4679a8(0x865)](),this[_0x4679a8(0xab3)][_0x4679a8(0x834)][_0x4679a8(0x16f)](_0x5505f4);}[_0x5a8b1c(0x1f8)](_0x13391d){const _0x10665b=_0x5a8b1c;if(!this[_0x10665b(0x20f)]['has'](_0x13391d))throw new _0x4ec9e4(_0x47ec8c[_0x10665b(0x52b)],_0x10665b(0x7eb));const _0x25da83=this[_0x10665b(0x20f)][_0x10665b(0x8a4)](_0x13391d);this[_0x10665b(0x20f)][_0x10665b(0x1cd)](_0x13391d),_0x25da83[_0x10665b(0x865)](),this[_0x10665b(0xab3)]['mediator']['unregisterSystemSource'](_0x25da83);}[_0x5a8b1c(0x8ac)](_0x30285e){const _0x5af809=_0x5a8b1c;if(!this[_0x5af809(0x51c)][_0x5af809(0x149)](_0x30285e))throw new _0x4ec9e4(_0x47ec8c[_0x5af809(0x91b)],'Generative\x20AI\x20Context\x20does\x20not\x20exist');const _0x582a7c=this[_0x5af809(0x51c)][_0x5af809(0x8a4)](_0x30285e);this['generativeAIContexts'][_0x5af809(0x1cd)](_0x30285e),this['configs']['mediator'][_0x5af809(0x16f)](_0x582a7c);}[_0x5a8b1c(0xb45)](_0x3577ee){const _0x3cffb7=_0x5a8b1c;if(!this[_0x3cffb7(0x62c)][_0x3cffb7(0x149)](_0x3577ee))throw new _0x4ec9e4(_0x47ec8c[_0x3cffb7(0x684)],_0x3cffb7(0x428));const _0xd44e06=this[_0x3cffb7(0x62c)]['get'](_0x3577ee);this[_0x3cffb7(0x62c)][_0x3cffb7(0x1cd)](_0x3577ee),_0xd44e06[_0x3cffb7(0x865)](),this['configs'][_0x3cffb7(0x834)][_0x3cffb7(0x16f)](_0xd44e06);}[_0x5a8b1c(0x676)](_0x3af225){const _0x1d3460=_0x5a8b1c;if(!this[_0x1d3460(0x4f3)][_0x1d3460(0x149)](_0x3af225))throw new _0x4ec9e4(_0x47ec8c[_0x1d3460(0x14d)],'Connection\x20does\x20not\x20exist');const _0xc9e52f=this[_0x1d3460(0x4f3)]['get'](_0x3af225);this[_0x1d3460(0x4f3)][_0x1d3460(0x1cd)](_0x3af225),_0xc9e52f['destroy'](),this['configs'][_0x1d3460(0x834)][_0x1d3460(0x16f)](_0xc9e52f);}['removePubSubTopic'](_0x1dd40b){const _0x38f76a=_0x5a8b1c;if(!this[_0x38f76a(0x541)]['has'](_0x1dd40b))throw new _0x4ec9e4(_0x47ec8c[_0x38f76a(0x7e7)],_0x38f76a(0x428));const _0x2009b8=this[_0x38f76a(0x541)][_0x38f76a(0x8a4)](_0x1dd40b);this['pubSubTopics'][_0x38f76a(0x1cd)](_0x1dd40b),_0x2009b8[_0x38f76a(0x865)](),this[_0x38f76a(0xab3)][_0x38f76a(0x834)][_0x38f76a(0x16f)](_0x2009b8);}[_0x5a8b1c(0x6b3)](_0x5109a0){const _0x2f99a4=_0x5a8b1c;if(!this[_0x2f99a4(0x4c6)][_0x2f99a4(0x149)](_0x5109a0))throw new _0x4ec9e4(_0x47ec8c['KeyValueDatabaseDoesNotExist'],_0x2f99a4(0x721));const _0x4f1ada=this[_0x2f99a4(0x4c6)][_0x2f99a4(0x8a4)](_0x5109a0);this[_0x2f99a4(0x4c6)]['delete'](_0x5109a0),_0x4f1ada[_0x2f99a4(0x865)](),this['configs'][_0x2f99a4(0x834)]['unregisterSystemSource'](_0x4f1ada);}[_0x5a8b1c(0xa2f)](_0x55c0c8){const _0x372ac2=_0x5a8b1c;if(!this['vectorDatabases'][_0x372ac2(0x149)](_0x55c0c8))throw new _0x4ec9e4(_0x47ec8c['VectorDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x2f7fba=this[_0x372ac2(0x998)][_0x372ac2(0x8a4)](_0x55c0c8);this[_0x372ac2(0x998)][_0x372ac2(0x1cd)](_0x55c0c8),_0x2f7fba[_0x372ac2(0x865)](),this[_0x372ac2(0xab3)][_0x372ac2(0x834)]['unregisterSystemSource'](_0x2f7fba);}[_0x5a8b1c(0x4f7)](_0x28619c){const _0xef8a32=_0x5a8b1c;if(!this[_0xef8a32(0x945)][_0xef8a32(0x149)](_0x28619c))throw new _0x4ec9e4(_0x47ec8c[_0xef8a32(0x9df)],'Database\x20does\x20not\x20exist');const _0x55dd8d=this[_0xef8a32(0x945)][_0xef8a32(0x8a4)](_0x28619c);this['graphDatabases'][_0xef8a32(0x1cd)](_0x28619c),_0x55dd8d[_0xef8a32(0x865)](),this[_0xef8a32(0xab3)][_0xef8a32(0x834)]['unregisterSystemSource'](_0x55dd8d);}[_0x5a8b1c(0x355)](_0x16716b){const _0x10e345=_0x5a8b1c;if(!this[_0x10e345(0x996)][_0x10e345(0x149)](_0x16716b))throw new _0xdb384(_0xdb384[_0x10e345(0x549)]['LocalMediaStreamDoesNotExist'],{'label':_0x16716b,'localId':this[_0x10e345(0xab3)][_0x10e345(0x650)][_0x10e345(0x3dd)]()});const _0x35d511=this[_0x10e345(0x996)]['get'](_0x16716b);this['configs']['mediator'][_0x10e345(0x16f)](_0x35d511),_0x35d511[_0x10e345(0x865)](),this[_0x10e345(0x996)][_0x10e345(0x1cd)](_0x16716b);}['removeRemoteMediaStream'](_0x63e0e5,_0x266810){const _0x2032e4=_0x5a8b1c;if(!this[_0x2032e4(0x5e3)]['has'](_0x63e0e5))throw new _0xdb384(_0xdb384[_0x2032e4(0x549)][_0x2032e4(0x7b1)],{'nodeId':_0x63e0e5,'localId':this[_0x2032e4(0xab3)]['localNode']['getId']()});const _0x469d43=this['remoteMediaStreams'][_0x2032e4(0x8a4)](_0x63e0e5);if(!_0x469d43[_0x2032e4(0x149)](_0x266810))throw new _0xdb384(_0xdb384[_0x2032e4(0x549)][_0x2032e4(0x36b)],{'nodeId':_0x63e0e5,'label':_0x266810,'localId':this[_0x2032e4(0xab3)]['localNode'][_0x2032e4(0x3dd)]()});const _0x5b8b17=_0x469d43[_0x2032e4(0x8a4)](_0x266810);this['configs']['mediator'][_0x2032e4(0x16f)](_0x5b8b17),_0x5b8b17[_0x2032e4(0x865)](),_0x469d43['delete'](_0x266810);}}var _0x38e356,_0x3bd6ad,_0x1e910e;!function(_0x58d832){const _0x45e725=_0x5a8b1c;_0x58d832['STVolatility']=_0x45e725(0xaf5),_0x58d832[_0x45e725(0x14b)]=_0x45e725(0x5d0),_0x58d832[_0x45e725(0x66c)]='time_per_frame',_0x58d832[_0x45e725(0x7e9)]=_0x45e725(0x822),_0x58d832['Jitter']=_0x45e725(0x77b),_0x58d832[_0x45e725(0x8b3)]=_0x45e725(0x79b),_0x58d832['RoundTripTime']='rtt',_0x58d832[_0x45e725(0xa01)]=_0x45e725(0x2f3);}(_0x38e356||(_0x38e356={})),function(_0x3bb7ce){const _0x80163c=_0x5a8b1c;_0x3bb7ce[_0x80163c(0x6af)]=_0x80163c(0x1ec),_0x3bb7ce[_0x80163c(0x66c)]=_0x80163c(0x86b),_0x3bb7ce[_0x80163c(0xa01)]=_0x80163c(0x25e),_0x3bb7ce[_0x80163c(0x8b3)]=_0x80163c(0x884),_0x3bb7ce['Bitrate']='bandwidth.bitrate',_0x3bb7ce[_0x80163c(0x44c)]=_0x80163c(0xa40),_0x3bb7ce[_0x80163c(0x70e)]='bandwidth.rtt';}(_0x3bd6ad||(_0x3bd6ad={})),function(_0x20ad2b){const _0x9c50d2=_0x5a8b1c;_0x20ad2b[_0x20ad2b[_0x9c50d2(0x5e5)]=0x0]=_0x9c50d2(0x5e5);}(_0x1e910e||(_0x1e910e={}));const _0x460bf9=[{'type':_0x38e356[_0x5a8b1c(0x675)],'reportMetric':_0xf7ba12=>_0xf7ba12[_0x5a8b1c(0x675)],'maxThreshold':2.5},{'type':_0x38e356[_0x5a8b1c(0x14b)],'reportMetric':_0x57cc5d=>_0x57cc5d['DTVolatility'],'maxThreshold':0.5}],_0x1569ec=[{'type':_0x38e356[_0x5a8b1c(0x66c)],'reportMetric':_0x42e197=>{const _0x37f348=_0x5a8b1c,_0x143668=0x3e8/_0x42e197[_0x37f348(0xa46)];return _0x42e197['timePerFrame']/_0x143668;},'maxThreshold':0.75},{'type':_0x38e356[_0x5a8b1c(0x7e9)],'reportMetric':_0x327552=>{const _0x23cdbb=_0x5a8b1c,_0xdab218=_0x327552[_0x23cdbb(0xa46)]*_0x327552[_0x23cdbb(0x9cc)]*_0x327552[_0x23cdbb(0x82d)]*0.12;return _0x327552[_0x23cdbb(0x822)]/_0xdab218;},'minThreshold':0.25},{'type':_0x38e356[_0x5a8b1c(0x44c)],'reportMetric':_0x1b6b68=>_0x1b6b68['jitter'],'maxThreshold':0.6},{'type':_0x38e356['FramePerSecond'],'reportMetric':_0x44228e=>_0x44228e[_0x5a8b1c(0xa46)],'minThreshold':0xa}],_0x59d418=[{'type':_0x38e356[_0x5a8b1c(0x44c)],'reportMetric':_0x49288d=>_0x49288d['jitter'],'maxThreshold':0.6}],_0x34f7a7=[{'type':_0x38e356[_0x5a8b1c(0x70e)],'reportMetric':_0x33cc7c=>_0x33cc7c['roundTripTime'],'maxThreshold':0x1/0x0}],_0x5eab76=[{'type':_0x38e356[_0x5a8b1c(0xa01)],'reportMetric':_0xaa43f6=>_0xaa43f6[_0x5a8b1c(0xa01)],'maxThreshold':0x12c}],_0x4c182b=[{'type':_0x3bd6ad[_0x5a8b1c(0x6af)],'issues':[{'type':_0x38e356['STVolatility'],'threshold':0x5},{'type':_0x38e356[_0x5a8b1c(0x14b)],'threshold':0x5}]},{'type':_0x3bd6ad[_0x5a8b1c(0x66c)],'issues':[{'type':_0x38e356[_0x5a8b1c(0x66c)],'threshold':0x3}]},{'type':_0x3bd6ad[_0x5a8b1c(0xa01)],'issues':[{'type':_0x38e356['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x3bd6ad[_0x5a8b1c(0x8b3)],'issues':[{'type':_0x38e356[_0x5a8b1c(0x8b3)],'threshold':0x3}]},{'type':_0x3bd6ad[_0x5a8b1c(0x7e9)],'issues':[{'type':_0x38e356[_0x5a8b1c(0x7e9)],'threshold':0x3}]},{'type':_0x3bd6ad[_0x5a8b1c(0x44c)],'issues':[{'type':_0x38e356[_0x5a8b1c(0x44c)],'threshold':0x3}]},{'type':_0x3bd6ad[_0x5a8b1c(0x70e)],'issues':[{'type':_0x38e356[_0x5a8b1c(0x70e)],'threshold':0x3}]}];var _0x37f485,_0x16221c;!function(_0x46c5f4){const _0x103ffe=_0x5a8b1c;_0x46c5f4[_0x46c5f4[_0x103ffe(0x931)]=0x0]=_0x103ffe(0x931),_0x46c5f4[_0x46c5f4[_0x103ffe(0x189)]=0x1]=_0x103ffe(0x189);}(_0x37f485||(_0x37f485={}));class _0x466a14{[_0x5a8b1c(0xab3)];[_0x5a8b1c(0xae8)]=[];[_0x5a8b1c(0x625)];constructor(_0x97b550){const _0x5d7178=_0x5a8b1c;this[_0x5d7178(0xab3)]=_0x97b550,this[_0x5d7178(0xab3)][_0x5d7178(0x834)][_0x5d7178(0x3b0)](this);}[_0x5a8b1c(0x3ee)](_0x1ff8eb){const _0x59e333=_0x5a8b1c;this[_0x59e333(0x625)]=_0x1ff8eb;}[_0x5a8b1c(0x8f7)](){const _0x294a0=_0x5a8b1c;this[_0x294a0(0x625)]=void 0x0;}[_0x5a8b1c(0x494)](){const _0x2a5ec0=_0x5a8b1c;this[_0x2a5ec0(0xab3)]['mediator'][_0x2a5ec0(0x16f)](this),this[_0x2a5ec0(0xae8)]=[];}[_0x5a8b1c(0x24d)](_0x2c2c1b){const _0x233d42=_0x5a8b1c;switch(_0x2c2c1b[_0x233d42(0x2fa)]['type']){case _0x37f485[_0x233d42(0x189)]:this[_0x233d42(0x872)](_0x2c2c1b['content'][_0x233d42(0x349)]);break;case _0x37f485[_0x233d42(0x931)]:this[_0x233d42(0x3fe)](_0x2c2c1b[_0x233d42(0x2fa)][_0x233d42(0x349)]);}}[_0x5a8b1c(0x780)](_0x47da23,_0x5a3c8f,_0x519545,_0x300739){const _0x256cbe=_0x5a8b1c,_0x451887=_0x4c182b[_0x256cbe(0x5dd)](_0x2121fe=>_0x2121fe['issues'][_0x256cbe(0x707)](_0x51ee79=>_0x51ee79[_0x256cbe(0x2a5)]===_0x47da23));_0x300739>=_0x451887[_0x256cbe(0xae8)]['find'](_0x3d44d0=>_0x3d44d0[_0x256cbe(0x2a5)]===_0x47da23)[_0x256cbe(0x991)]&&(this[_0x256cbe(0xa1b)](_0x451887['type'],_0x5a3c8f,_0x519545),this[_0x256cbe(0xae8)]=this['issues'][_0x256cbe(0x930)](_0x15bccf=>!(_0x15bccf[_0x256cbe(0x2a5)]===_0x47da23&&_0x15bccf[_0x256cbe(0x841)]===_0x5a3c8f&&_0x15bccf[_0x256cbe(0x1c0)]===_0x519545)));}[_0x5a8b1c(0x872)](_0x5cc398){_0x460bf9['forEach'](_0x5d54b5=>{const _0xe3e167=a0_0x2316,_0x42c82d=_0x5d54b5['reportMetric'](_0x5cc398);_0x5d54b5[_0xe3e167(0x9ef)]&&_0x42c82d>_0x5d54b5[_0xe3e167(0x9ef)]&&this[_0xe3e167(0x593)](_0x5d54b5['type'],this[_0xe3e167(0xab3)]['localNode']['getId'](),_0x6b5ab7[_0xe3e167(0x1d7)],_0x42c82d),_0x5d54b5['minThreshold']&&_0x42c82d<_0x5d54b5['minThreshold']&&this[_0xe3e167(0x593)](_0x5d54b5[_0xe3e167(0x2a5)],this[_0xe3e167(0xab3)][_0xe3e167(0x650)]['getId'](),_0x6b5ab7['Sender'],_0x42c82d);});}[_0x5a8b1c(0x3fe)](_0x2f352d){const _0x3d3b51=_0x5a8b1c;let _0x1cec3a=[];switch(_0x2f352d[_0x3d3b51(0x1c0)]){case _0x6b5ab7[_0x3d3b51(0x1d7)]:_0x1cec3a=_0x34f7a7;break;case _0x6b5ab7['Receiver']:_0x1cec3a=_0x5eab76;}_0x2f352d['video']&&this['detectVideoIssues'](_0x2f352d[_0x3d3b51(0x841)],_0x6b5ab7['Sender'],_0x2f352d[_0x3d3b51(0x498)]),_0x2f352d[_0x3d3b51(0x35a)]&&this[_0x3d3b51(0xaeb)](_0x2f352d[_0x3d3b51(0x841)],_0x6b5ab7[_0x3d3b51(0x1d7)],_0x2f352d[_0x3d3b51(0x35a)]),_0x1cec3a[_0x3d3b51(0x775)](_0xa6ac7b=>{const _0x2657c6=_0x3d3b51,_0x56e609=_0xa6ac7b[_0x2657c6(0x976)](_0x2f352d);_0xa6ac7b[_0x2657c6(0x9ef)]&&_0x56e609>_0xa6ac7b['maxThreshold']&&this['addIssue'](_0xa6ac7b[_0x2657c6(0x2a5)],_0x2f352d[_0x2657c6(0x841)],_0x6b5ab7[_0x2657c6(0x1d7)],_0x56e609),_0xa6ac7b[_0x2657c6(0x29e)]&&_0x56e609<_0xa6ac7b[_0x2657c6(0x29e)]&&this[_0x2657c6(0x593)](_0xa6ac7b[_0x2657c6(0x2a5)],_0x2f352d['nodeId'],_0x6b5ab7[_0x2657c6(0x1d7)],_0x56e609);});}[_0x5a8b1c(0x147)](_0x435fef,_0x3b64fa,_0x54f36d){const _0x1df643=_0x5a8b1c;0x0!==_0x54f36d[_0x1df643(0x822)]&&_0x1569ec['forEach'](_0x2232e7=>{const _0x50dcb0=_0x1df643,_0x42340b=_0x2232e7[_0x50dcb0(0x976)](_0x54f36d);_0x2232e7[_0x50dcb0(0x9ef)]&&_0x42340b>_0x2232e7[_0x50dcb0(0x9ef)]&&this[_0x50dcb0(0x593)](_0x2232e7[_0x50dcb0(0x2a5)],_0x435fef,_0x3b64fa,_0x42340b,_0x50dcb0(0x498)),_0x2232e7[_0x50dcb0(0x29e)]&&_0x42340b<_0x2232e7[_0x50dcb0(0x29e)]&&this['addIssue'](_0x2232e7[_0x50dcb0(0x2a5)],_0x435fef,_0x3b64fa,_0x42340b,_0x50dcb0(0x498));});}[_0x5a8b1c(0xaeb)](_0x155fb2,_0x2adb8a,_0x358488){const _0x47c141=_0x5a8b1c;0x0!==_0x358488[_0x47c141(0x822)]&&_0x59d418['forEach'](_0x472354=>{const _0x233643=_0x47c141,_0x2e8838=_0x472354[_0x233643(0x976)](_0x358488);_0x472354[_0x233643(0x9ef)]&&_0x2e8838>_0x472354['maxThreshold']&&this[_0x233643(0x593)](_0x472354[_0x233643(0x2a5)],_0x155fb2,_0x2adb8a,_0x2e8838,_0x233643(0x35a)),_0x472354[_0x233643(0x29e)]&&_0x2e8838<_0x472354[_0x233643(0x29e)]&&this[_0x233643(0x593)](_0x472354[_0x233643(0x2a5)],_0x155fb2,_0x2adb8a,_0x2e8838,_0x233643(0x35a));});}[_0x5a8b1c(0x593)](_0x280688,_0x4870cc,_0x4248fc,_0x2495db,_0x5ec81f){const _0x51918d=_0x5a8b1c;_0x241131[_0x51918d(0x2d3)](_0xf47a5[_0x51918d(0x61b)],_0x51918d(0x648)+_0x280688,_0x280688,_0x2495db),_0x241131[_0x51918d(0x1e2)](_0x51918d(0xb49),{'clusterId':this[_0x51918d(0xab3)][_0x51918d(0x659)],'nodeId':this['configs']['localNode'][_0x51918d(0x3dd)](),'nodeType':this[_0x51918d(0xab3)][_0x51918d(0x650)]['type'],'remoteId':_0x4870cc,'data':{'type':_0x280688,'value':_0x2495db,'kind':_0x5ec81f}}),this[_0x51918d(0xae8)]=this[_0x51918d(0xae8)][_0x51918d(0x930)](_0x510a95=>Date['now']()-_0x510a95[_0x51918d(0xad0)]<0x7530),this[_0x51918d(0xae8)]['push']({'timestamp':Date[_0x51918d(0x744)](),'type':_0x280688,'nodeId':_0x4870cc,'origin':_0x4248fc,'value':_0x2495db,'kind':_0x5ec81f});const _0x54ecd5=this[_0x51918d(0xae8)][_0x51918d(0x930)](_0x5b3cb4=>_0x5b3cb4['type']===_0x280688&&_0x5b3cb4['nodeId']===_0x4870cc&&_0x5b3cb4[_0x51918d(0x1c0)]===_0x4248fc)[_0x51918d(0xa39)];this[_0x51918d(0x780)](_0x280688,_0x4870cc,_0x4248fc,_0x54ecd5);}[_0x5a8b1c(0xa1b)](_0x1b365e,_0x5f35b5,_0xbe7136){const _0x302a70=_0x5a8b1c;_0x241131[_0x302a70(0x2d3)](_0xf47a5[_0x302a70(0x61b)],'Problem\x20detected:\x20'+_0x1b365e),_0x241131[_0x302a70(0x1e2)](_0x302a70(0x630),{'clusterId':this[_0x302a70(0xab3)][_0x302a70(0x659)],'nodeId':this['configs'][_0x302a70(0x650)][_0x302a70(0x3dd)](),'nodeType':this[_0x302a70(0xab3)][_0x302a70(0x650)][_0x302a70(0x2a5)],'remoteId':_0x5f35b5,'data':{'type':_0x1b365e}}),this[_0x302a70(0x625)]?.[_0x302a70(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1['Detection'],'content':{'type':_0x1e910e['Problem'],'data':{'timestamp':Date['now'](),'nodeId':_0x5f35b5,'origin':_0x6b5ab7[_0x302a70(0x1d7)],'type':_0x1b365e}}});}}class _0x52f95f extends _0x5d76e5{['type']=_0x52baed[_0x5a8b1c(0x935)][_0x5a8b1c(0x2fd)];}class _0x197455 extends _0x52f95f{[_0x5a8b1c(0x625)];[_0x5a8b1c(0x5ad)]=Date['now']();[_0x5a8b1c(0x527)];['lastUpdated'];[_0x5a8b1c(0x494)](){const _0x5590e0=_0x5a8b1c;this[_0x5590e0(0x527)]&&(clearTimeout(this[_0x5590e0(0x527)]),delete this[_0x5590e0(0x527)]),delete this[_0x5590e0(0x19e)],this[_0x5590e0(0x5ad)]=Date[_0x5590e0(0x744)](),super[_0x5590e0(0x494)]();}['registerSystemPublisher'](_0x7eddb9){this['systemTopic']=_0x7eddb9;}[_0x5a8b1c(0x8f7)](){const _0xc6cc3c=_0x5a8b1c;delete this[_0xc6cc3c(0x625)];}[_0x5a8b1c(0x2a9)](_0x555c28){const _0xe0095c=_0x5a8b1c;!this[_0xe0095c(0x527)]&&this[_0xe0095c(0xa95)]&&this[_0xe0095c(0x625)][_0xe0095c(0x590)]({'sourceId':this['id'],'destinationIds':[_0x555c28],'propagate':!0x0,'messageType':_0x9cb7d1['Node'],'content':{'type':_0xba42b7[_0xe0095c(0xa97)],'id':this['id'],'metaData':{'type':this[_0xe0095c(0x2a5)]},'rank':this[_0xe0095c(0x37a)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0xe0095c(0x5ad)]}});}[_0x5a8b1c(0xb00)](_0xb0cfd4){const _0x5a2667=_0x5a8b1c;this[_0x5a2667(0x70d)][_0x5a2667(0x149)](_0xb0cfd4)||(this[_0x5a2667(0x70d)][_0x5a2667(0x20c)](_0xb0cfd4),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}[_0x5a8b1c(0x6a9)](_0x57d368){const _0x29bcb2=_0x5a8b1c;this[_0x29bcb2(0x70d)][_0x29bcb2(0x149)](_0x57d368)&&(this[_0x29bcb2(0x70d)][_0x29bcb2(0x1cd)](_0x57d368),this[_0x29bcb2(0x5b0)](),this[_0x29bcb2(0x838)](!0x0));}[_0x5a8b1c(0x6d5)](){return this['currentVersion'];}[_0x5a8b1c(0x32a)](_0x14f1c3,_0x4a852c=!0x0){const _0x1e91c8=_0x5a8b1c;this[_0x1e91c8(0xa95)]!==_0x14f1c3&&(this[_0x1e91c8(0xa95)]=_0x14f1c3,_0x4a852c&&(this['incrementVersion'](),this['publishUserUpdate']()));}[_0x5a8b1c(0x5b0)](){const _0x450ad7=_0x5a8b1c;this[_0x450ad7(0x5ad)]=Date['now']();}[_0x5a8b1c(0x838)](_0x31cdcc=!0x1){const _0x41fb34=_0x5a8b1c;if(this[_0x41fb34(0xa95)]){if(this['lastUpdated']||(this[_0x41fb34(0x19e)]=Date[_0x41fb34(0x744)]()),this['updateDebounceTimeout']){if(Date[_0x41fb34(0x744)]()-this[_0x41fb34(0x19e)]>0x2328)return;clearTimeout(this[_0x41fb34(0x527)]);}this[_0x41fb34(0x527)]=setTimeout(()=>{const _0x35ce44=_0x41fb34;delete this['lastUpdated'],delete this[_0x35ce44(0x527)],this[_0x35ce44(0x625)][_0x35ce44(0x590)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x9cb7d1[_0x35ce44(0x9aa)],'content':{'type':_0x31cdcc?_0xba42b7[_0x35ce44(0x3fb)]:_0xba42b7[_0x35ce44(0xa97)],'id':this['id'],'metaData':{'type':this[_0x35ce44(0x2a5)]},'rank':this[_0x35ce44(0x37a)](),'remoteConnections':Array['from'](this[_0x35ce44(0x70d)]),'version':this[_0x35ce44(0x5ad)]}});},0x3e8);}}}class _0xa76a2e extends _0x3fac9e{['systemTopic'];[_0x5a8b1c(0x5ad)]=Date['now']();[_0x5a8b1c(0x527)];[_0x5a8b1c(0x19e)];[_0x5a8b1c(0x494)](){const _0x45b67c=_0x5a8b1c;this[_0x45b67c(0x527)]&&(clearTimeout(this[_0x45b67c(0x527)]),delete this[_0x45b67c(0x527)]),delete this[_0x45b67c(0x19e)],this[_0x45b67c(0x5ad)]=Date[_0x45b67c(0x744)](),super['close']();}['registerSystemPublisher'](_0xac6827){this['systemTopic']=_0xac6827;}[_0x5a8b1c(0x8f7)](){delete this['systemTopic'];}['answerJoin'](_0x88d2bb){const _0x42b844=_0x5a8b1c;!this[_0x42b844(0x527)]&&this[_0x42b844(0xa95)]&&this[_0x42b844(0x625)][_0x42b844(0x590)]({'sourceId':this['id'],'destinationIds':[_0x88d2bb],'propagate':!0x0,'messageType':_0x9cb7d1['Node'],'content':{'type':_0xba42b7[_0x42b844(0xa97)],'id':this['id'],'metaData':{'type':this[_0x42b844(0x2a5)],'displayName':this[_0x42b844(0x378)](),'email':this[_0x42b844(0x30e)]()},'rank':this[_0x42b844(0x37a)](),'remoteConnections':Array[_0x42b844(0x47c)](this[_0x42b844(0x70d)]),'version':this['currentVersion']}});}[_0x5a8b1c(0xb00)](_0x48922b){const _0x260364=_0x5a8b1c;this[_0x260364(0x70d)][_0x260364(0x149)](_0x48922b)||(this['remoteConnections']['add'](_0x48922b),this[_0x260364(0x5b0)](),this[_0x260364(0x838)](!0x0));}[_0x5a8b1c(0x6a9)](_0x16eca0){const _0x47ce73=_0x5a8b1c;this[_0x47ce73(0x70d)][_0x47ce73(0x149)](_0x16eca0)&&(this['remoteConnections']['delete'](_0x16eca0),this[_0x47ce73(0x5b0)](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){const _0x53f0e7=_0x5a8b1c;return this[_0x53f0e7(0x5ad)];}['setDisplayName'](_0x5cde1f){const _0x5badeb=_0x5a8b1c;this['displayName']!==_0x5cde1f&&(this['displayName']=_0x5cde1f,this[_0x5badeb(0x5b0)](),this['publishUserUpdate']());}[_0x5a8b1c(0x483)](_0x12f0ad){const _0x1cf1a3=_0x5a8b1c;this[_0x1cf1a3(0x491)]!==_0x12f0ad&&(this[_0x1cf1a3(0x491)]=_0x12f0ad,this[_0x1cf1a3(0x5b0)](),this[_0x1cf1a3(0x838)]());}[_0x5a8b1c(0x32a)](_0xc6557c,_0x6671f=!0x0){const _0x71d9fb=_0x5a8b1c;this[_0x71d9fb(0xa95)]!==_0xc6557c&&(this[_0x71d9fb(0xa95)]=_0xc6557c,_0x6671f&&(this['incrementVersion'](),this[_0x71d9fb(0x838)]()));}['incrementVersion'](){const _0x3a0750=_0x5a8b1c;this[_0x3a0750(0x5ad)]=Date[_0x3a0750(0x744)]();}[_0x5a8b1c(0x838)](_0x240868=!0x1){const _0x5d8369=_0x5a8b1c;if(this[_0x5d8369(0xa95)]){if(this[_0x5d8369(0x19e)]||(this[_0x5d8369(0x19e)]=Date['now']()),this[_0x5d8369(0x527)]){if(Date[_0x5d8369(0x744)]()-this[_0x5d8369(0x19e)]>0x2328)return;clearTimeout(this[_0x5d8369(0x527)]);}this[_0x5d8369(0x527)]=setTimeout(()=>{const _0x3fdab8=_0x5d8369;delete this['lastUpdated'],delete this['updateDebounceTimeout'],this[_0x3fdab8(0x625)][_0x3fdab8(0x590)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x9cb7d1[_0x3fdab8(0x9aa)],'content':{'type':_0x240868?_0xba42b7['NodeConnectionsUpdate']:_0xba42b7[_0x3fdab8(0xa97)],'id':this['id'],'metaData':{'type':this[_0x3fdab8(0x2a5)],'displayName':this[_0x3fdab8(0x378)](),'email':this[_0x3fdab8(0x30e)]()},'rank':this[_0x3fdab8(0x37a)](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x3fdab8(0x5ad)]}});},0x3e8);}}}class _0x41f17e{['id'];[_0x5a8b1c(0x9ae)];[_0x5a8b1c(0x26a)];[_0x5a8b1c(0x787)];[_0x5a8b1c(0x2a5)]=_0x52baed['NodeType']['Agent'];[_0x5a8b1c(0x735)];constructor(_0x182948,_0x267f98,_0x1f32d5,_0x5e70c2){const _0x2302d9=_0x5a8b1c;this['id']=_0x182948,this[_0x2302d9(0x9ae)]=_0x267f98,this['vendorId']=_0x1f32d5,this[_0x2302d9(0x787)]=_0x5e70c2;}[_0x5a8b1c(0x3dd)](){return this['id'];}[_0x5a8b1c(0x15a)](_0x4df7a9){const _0x23af27=_0x5a8b1c,_0xda04b0=(0x0,_0x594922[_0x23af27(0x4e7)])((0x0,_0x594922[_0x23af27(0x941)])(_0x1b7d72['getFirestore'](),'developers/'+this[_0x23af27(0x26a)]+_0x23af27(0x1d3)+this[_0x23af27(0x9ae)]),_0x22b682=>{const _0x2ba559=_0x23af27;if(_0x22b682[_0x2ba559(0x34e)]()){const _0x4e27f1=_0x22b682[_0x2ba559(0x349)]();if(this[_0x2ba559(0x787)][_0x2ba559(0xad0)][_0x2ba559(0x298)](_0x4e27f1['timestamp']))return;_0x241131[_0x2ba559(0x2d3)](_0xf47a5[_0x2ba559(0x9aa)],_0x2ba559(0x1e6),{'agentId':this['id'],'groupId':this[_0x2ba559(0x9ae)],'oldConfig':this['agentConfig'],'newConfig':_0x4e27f1}),this[_0x2ba559(0x787)]=_0x4e27f1,_0x4df7a9();}});return()=>_0xda04b0();}[_0x5a8b1c(0x6c4)](_0x4ba2a2){const _0x3c999f=_0x5a8b1c;return this[_0x3c999f(0xb37)](this['groupId'],_0x4ba2a2),_0x3d74ea['setInterval'](()=>this['reportCapacity'](this[_0x3c999f(0x9ae)],_0x4ba2a2),0x7530);}[_0x5a8b1c(0x257)](){const _0x1ad134=_0x5a8b1c;if(!this[_0x1ad134(0x735)])throw new _0xdb384(_0xdb384[_0x1ad134(0x549)][_0x1ad134(0x22b)]);return this['lastCapacityReport'];}async[_0x5a8b1c(0xb37)](_0x227266,_0x2df85c){const _0x42cc05=_0x5a8b1c,_0x5f18e4=await _0x2df85c();this[_0x42cc05(0x735)]=_0x5f18e4,await(0x0,_0x594922[_0x42cc05(0x5e1)])((0x0,_0x594922['collection'])(_0x1b7d72[_0x42cc05(0x184)](),_0x42cc05(0x56d)+this['vendorId']+_0x42cc05(0x82a)),{'agentId':this['id'],'groupId':_0x227266,'timestamp':(0x0,_0x594922[_0x42cc05(0x9c9)])(),'capacity':_0x5f18e4});}}!function(_0x4817d1){const _0x330e8f=_0x5a8b1c;_0x4817d1[_0x4817d1['Online']=0x0]=_0x330e8f(0x8d3),_0x4817d1[_0x4817d1['Offline']=0x1]='Offline';}(_0x16221c||(_0x16221c={}));class _0x168af1 extends _0x52f95f{['currentVersion'];[_0x5a8b1c(0x33d)]=_0x16221c[_0x5a8b1c(0x8d3)];[_0x5a8b1c(0x19e)]=Date[_0x5a8b1c(0x744)]();constructor(_0x14a9d6,_0x13120f=new Set(),_0x11a0c3,_0x197d41){super(_0x14a9d6,_0x13120f,_0x197d41),this['currentVersion']=_0x11a0c3;}['getCurrentVersion'](){return this['currentVersion'];}[_0x5a8b1c(0x68a)](){const _0x729c4c=_0x5a8b1c;return this[_0x729c4c(0x33d)];}[_0x5a8b1c(0x383)](){return this['lastUpdated'];}[_0x5a8b1c(0x32a)](_0x81bca4){const _0x244a4a=_0x5a8b1c;this[_0x244a4a(0xa95)]!==_0x81bca4&&(this[_0x244a4a(0xa95)]=_0x81bca4,this[_0x244a4a(0x2df)]());}[_0x5a8b1c(0x3bf)](_0x4a7926){const _0x1a5165=_0x5a8b1c;let _0x44a68a=!0x1;for(const _0xaa36c4 of this[_0x1a5165(0x70d)])_0x4a7926[_0x1a5165(0x595)](_0xaa36c4)||(_0x44a68a=!0x0,this[_0x1a5165(0x70d)][_0x1a5165(0x1cd)](_0xaa36c4));for(const _0xe4c901 of _0x4a7926)this[_0x1a5165(0x70d)][_0x1a5165(0x149)](_0xe4c901)||(_0x44a68a=!0x0,this[_0x1a5165(0x70d)][_0x1a5165(0x20c)](_0xe4c901));_0x44a68a&&this['updateLastUpdated']();}[_0x5a8b1c(0x87f)](_0x196f02){const _0x1b6773=_0x5a8b1c;this[_0x1b6773(0x5ad)]!==_0x196f02&&(this['currentVersion']=_0x196f02,this[_0x1b6773(0x2df)]());}[_0x5a8b1c(0x576)](_0xeff92c){const _0x13883d=_0x5a8b1c;this[_0x13883d(0x33d)]!==_0xeff92c&&(this[_0x13883d(0x33d)]=_0xeff92c,this['updateLastUpdated'](),_0xeff92c===_0x16221c[_0x13883d(0xa50)]&&this[_0x13883d(0x494)]());}[_0x5a8b1c(0x2df)](){const _0x254dd1=_0x5a8b1c;this[_0x254dd1(0x19e)]=Date[_0x254dd1(0x744)]();}}class _0x41e3e4 extends _0x3fac9e{[_0x5a8b1c(0x5ad)];[_0x5a8b1c(0x33d)]=_0x16221c[_0x5a8b1c(0x8d3)];[_0x5a8b1c(0x19e)]=Date['now']();constructor(_0x5ba6db,_0x1f245f,_0x5041c5,_0x1dc98c=new Set(),_0x375e76,_0x6c0e96){super(_0x5ba6db,_0x1f245f,_0x5041c5,_0x1dc98c,_0x6c0e96),this['currentVersion']=_0x375e76;}[_0x5a8b1c(0x6d5)](){const _0x489624=_0x5a8b1c;return this[_0x489624(0x5ad)];}[_0x5a8b1c(0x68a)](){const _0x2fc9d6=_0x5a8b1c;return this[_0x2fc9d6(0x33d)];}[_0x5a8b1c(0x383)](){const _0x2e58cd=_0x5a8b1c;return this[_0x2e58cd(0x19e)];}['setDisplayName'](_0x55c262){const _0x174a89=_0x5a8b1c;this['displayName']!==_0x55c262&&(this[_0x174a89(0x7c3)]=_0x55c262,this[_0x174a89(0x2df)]());}[_0x5a8b1c(0x483)](_0x4061c5){const _0x5562a5=_0x5a8b1c;this[_0x5562a5(0x491)]!==_0x4061c5&&(this['email']=_0x4061c5,this['updateLastUpdated']());}[_0x5a8b1c(0x32a)](_0x1e7ffd){const _0x25432e=_0x5a8b1c;this['rank']!==_0x1e7ffd&&(this[_0x25432e(0xa95)]=_0x1e7ffd,this[_0x25432e(0x2df)]());}[_0x5a8b1c(0x3bf)](_0x9e79bf){const _0x180384=_0x5a8b1c;let _0x131738=!0x1;for(const _0x564f74 of this['remoteConnections'])_0x9e79bf[_0x180384(0x595)](_0x564f74)||(_0x131738=!0x0,this[_0x180384(0x70d)][_0x180384(0x1cd)](_0x564f74));for(const _0x44ff98 of _0x9e79bf)this[_0x180384(0x70d)][_0x180384(0x149)](_0x44ff98)||(_0x131738=!0x0,this[_0x180384(0x70d)][_0x180384(0x20c)](_0x44ff98));_0x131738&&this['updateLastUpdated']();}[_0x5a8b1c(0x87f)](_0x105004){const _0x28b66c=_0x5a8b1c;this['currentVersion']!==_0x105004&&(this[_0x28b66c(0x5ad)]=_0x105004,this[_0x28b66c(0x2df)]());}[_0x5a8b1c(0x576)](_0x53be3a){const _0x28bab6=_0x5a8b1c;this[_0x28bab6(0x33d)]!==_0x53be3a&&(this[_0x28bab6(0x33d)]=_0x53be3a,this['updateLastUpdated'](),_0x53be3a===_0x16221c[_0x28bab6(0xa50)]&&this[_0x28bab6(0x494)]());}['updateLastUpdated'](){const _0x342ad4=_0x5a8b1c;this[_0x342ad4(0x19e)]=Date[_0x342ad4(0x744)]();}}class _0x23ea18{[_0x5a8b1c(0x26a)];[_0x5a8b1c(0x659)];[_0x5a8b1c(0x650)];[_0x5a8b1c(0xa9a)];[_0x5a8b1c(0x4d6)]=_0x462089();[_0x5a8b1c(0x43f)];['childRemovedUnsubscriber'];['onDisconnectHandler'];['connected']=!0x1;['clusterKey'];['nodeKey'];constructor(_0x39c854,_0x1f9670,_0x487337,_0x4d68ba){const _0x240723=_0x5a8b1c;this['vendorId']=_0x39c854,this[_0x240723(0x659)]=_0x1f9670,this[_0x240723(0x650)]=_0x487337,this[_0x240723(0xa9a)]=_0x4d68ba,this[_0x240723(0x5a3)]='ccc'+this[_0x240723(0x26a)]+'ccc'+this[_0x240723(0x659)],this[_0x240723(0x686)]=_0x240723(0xaa5)+this[_0x240723(0x26a)]+'ccc'+this[_0x240723(0x650)]['getId'](),this['firebaseUnsubscriber']=(0x0,_0x1ac700['onValue'])((0x0,_0x1ac700[_0x240723(0x155)])(_0x1b7d72[_0x240723(0x920)](),_0x240723(0x579)),_0x538a43=>{const _0x5ed68a=_0x240723;!0x0!==_0x538a43[_0x5ed68a(0x266)]()?this[_0x5ed68a(0x171)]&&_0x241131['error'](_0x5ed68a(0x51f),{'clusterId':this[_0x5ed68a(0x659)],'nodeId':this[_0x5ed68a(0x650)][_0x5ed68a(0x3dd)](),'nodeType':this[_0x5ed68a(0x650)][_0x5ed68a(0x2a5)]}):(this[_0x5ed68a(0x171)]=!0x0,this[_0x5ed68a(0x992)](),_0x241131['warning'](_0x5ed68a(0x4a5),{'clusterId':this['clusterId'],'nodeId':this[_0x5ed68a(0x650)][_0x5ed68a(0x3dd)](),'nodeType':this[_0x5ed68a(0x650)][_0x5ed68a(0x2a5)]}));});}async[_0x5a8b1c(0x59d)](){const _0x5e4465=_0x5a8b1c;await this[_0x5e4465(0x9e6)]();const _0xfc26e0=await this[_0x5e4465(0x384)]();return this['childRemovedUnsubscriber']=(0x0,_0x1ac700[_0x5e4465(0x5e7)])((0x0,_0x1ac700[_0x5e4465(0x155)])(_0x1b7d72[_0x5e4465(0x920)](),_0x5e4465(0x39b)+this[_0x5e4465(0x5a3)]+_0x5e4465(0x4c5)),_0x29af7e=>{const _0x26931f=_0x5e4465,_0x5c2d50=_0x29af7e[_0x26931f(0x8c1)];if(!_0x5c2d50)return;const _0x1313bd=_0x5c2d50[_0x26931f(0x937)](_0x26931f(0xaa5)+this[_0x26931f(0x26a)]+'ccc','');this[_0x26931f(0x4d6)][_0x26931f(0x590)](_0x1313bd);}),_0xfc26e0;}async[_0x5a8b1c(0x494)](){const _0x2e2727=_0x5a8b1c;this[_0x2e2727(0x352)]?.(),delete this[_0x2e2727(0x352)],this[_0x2e2727(0x18b)]?.[_0x2e2727(0x7f1)](),delete this[_0x2e2727(0x18b)],this[_0x2e2727(0x43f)]?.(),delete this[_0x2e2727(0x43f)],await(0x0,_0x1ac700[_0x2e2727(0x3d1)])((0x0,_0x1ac700[_0x2e2727(0x155)])(_0x1b7d72[_0x2e2727(0x920)](),_0x2e2727(0x39b)+this['clusterKey']+_0x2e2727(0x432)+this[_0x2e2727(0x686)]));}[_0x5a8b1c(0x729)](_0x275c27){const _0x4447a1=_0x5a8b1c;return this[_0x4447a1(0x4d6)][_0x4447a1(0x19a)](_0x275c27);}async['getAncestors'](){const _0x524d50=_0x5a8b1c,_0x1b1ab6=[],_0x1bc1cb=await(0x0,_0x1ac700['get'])((0x0,_0x1ac700[_0x524d50(0x155)])(_0x1b7d72['getDatabase'](),_0x524d50(0x39b)+this[_0x524d50(0x5a3)]+'/nodes')),_0x3b0af7=[];return _0x1bc1cb[_0x524d50(0x775)](_0x1504f2=>{const _0x510148=_0x524d50,_0x556ef7=_0x1504f2['key']?.[_0x510148(0x937)](_0x510148(0xaa5)+this[_0x510148(0x26a)]+_0x510148(0xaa5),'');_0x3b0af7[_0x510148(0x3a9)]({'id':_0x556ef7,'joinedAt':_0x1504f2['val']()[_0x510148(0x750)],'priority':_0x1504f2[_0x510148(0x266)]()['priority']});}),_0x3b0af7[_0x524d50(0x7e3)]((_0x22ab7e,_0x3a6c88)=>_0x22ab7e[_0x524d50(0x750)]===_0x3a6c88[_0x524d50(0x750)]?_0x22ab7e[_0x524d50(0x2bf)]-_0x3a6c88[_0x524d50(0x2bf)]:_0x22ab7e[_0x524d50(0x750)]-_0x3a6c88[_0x524d50(0x750)])[_0x524d50(0x343)](_0x3b0af7[_0x524d50(0x493)](_0x456fb2=>_0x456fb2['id']===this[_0x524d50(0x650)][_0x524d50(0x3dd)]())),_0x3b0af7[_0x524d50(0x7e3)]((_0x1a4607,_0x47f736)=>_0x47f736['joinedAt']===_0x1a4607['joinedAt']?_0x47f736[_0x524d50(0x2bf)]-_0x1a4607['priority']:_0x47f736['joinedAt']-_0x1a4607[_0x524d50(0x750)])[_0x524d50(0x775)](_0x2457ba=>{const _0x39135d=_0x524d50;_0x1b1ab6['length']>=this[_0x39135d(0xa9a)]||_0x1b1ab6['push'](_0x2457ba['id']);}),_0x241131['logEvent']('discover',{'clusterId':this['clusterId'],'nodeId':this[_0x524d50(0x650)]['getId'](),'nodeType':this[_0x524d50(0x650)]['type'],'data':{'ancestorIds':_0x1b1ab6,'allNodes':_0x3b0af7}}),_0x1b1ab6;}async[_0x5a8b1c(0x9e6)](){const _0xb7a194=_0x5a8b1c;await(0x0,_0x1ac700[_0xb7a194(0x984)])((0x0,_0x1ac700[_0xb7a194(0x155)])(_0x1b7d72[_0xb7a194(0x920)](),_0xb7a194(0x39b)+this[_0xb7a194(0x5a3)]+_0xb7a194(0x432)+this[_0xb7a194(0x686)]),{'joinedAt':(0x0,_0x1ac700[_0xb7a194(0x9c9)])(),'priority':Math['random']()});}[_0x5a8b1c(0x992)](){const _0x4fc7a8=_0x5a8b1c;this[_0x4fc7a8(0x18b)]&&this[_0x4fc7a8(0x18b)][_0x4fc7a8(0x7f1)](),this['onDisconnectHandler']=(0x0,_0x1ac700[_0x4fc7a8(0x449)])((0x0,_0x1ac700[_0x4fc7a8(0x155)])(_0x1b7d72[_0x4fc7a8(0x920)](),_0x4fc7a8(0x39b)+this[_0x4fc7a8(0x5a3)]+'/nodes/'+this[_0x4fc7a8(0x686)])),this[_0x4fc7a8(0x18b)][_0x4fc7a8(0x3d1)]();}}class _0xda2e18{[_0x5a8b1c(0xab3)];[_0x5a8b1c(0xa48)];[_0x5a8b1c(0x4d2)];[_0x5a8b1c(0x287)];[_0x5a8b1c(0x32d)];['ancestors']=[];['systemTopic'];[_0x5a8b1c(0x2ca)]=new Map();[_0x5a8b1c(0xa32)];[_0x5a8b1c(0x9a6)];[_0x5a8b1c(0xa5e)];[_0x5a8b1c(0x693)];[_0x5a8b1c(0x37c)];[_0x5a8b1c(0xb05)];constructor(_0x460795,_0x12c283){const _0x70c102=_0x5a8b1c;this[_0x70c102(0xab3)]=_0x460795,this[_0x70c102(0xa48)]=_0x12c283,this[_0x70c102(0xa5e)]=new Promise((_0x1f24c9,_0x3ccd78)=>{const _0x4f62e0=_0x70c102;this['resolveReady']=_0x1f24c9,this[_0x4f62e0(0x37c)]=_0x3ccd78;}),this[_0x70c102(0x287)]=new _0x23ea18(this[_0x70c102(0xab3)][_0x70c102(0x26a)],this[_0x70c102(0xab3)][_0x70c102(0x659)],this['configs'][_0x70c102(0x650)],this['graphService'][_0x70c102(0x6b8)]()),this['discoveryUnsubscriber']=this[_0x70c102(0x287)][_0x70c102(0x729)](this[_0x70c102(0x360)][_0x70c102(0x901)](this)),this[_0x70c102(0xab3)][_0x70c102(0x834)]['registerSystemSource'](this[_0x70c102(0xab3)][_0x70c102(0x650)]),this[_0x70c102(0xab3)][_0x70c102(0x834)][_0x70c102(0x3b0)](this),this[_0x70c102(0x4d2)]=_0x3d74ea[_0x70c102(0x837)](()=>{const _0x5d6f16=_0x70c102,_0x44594f=Date[_0x5d6f16(0x744)]();this[_0x5d6f16(0xa48)][_0x5d6f16(0x43d)]()['forEach'](_0x54627a=>{const _0x5bf71d=_0x5d6f16;_0x54627a['getStatus']()===_0x16221c['Offline']&&_0x54627a['getLastUpdated']()<_0x44594f-0x493e0&&this[_0x5bf71d(0xa48)]['deleteRemoteNode'](_0x54627a[_0x5bf71d(0x3dd)]());});},0xea60);}async[_0x5a8b1c(0x988)](){const _0x598685=_0x5a8b1c;return this[_0x598685(0xa5e)];}async[_0x5a8b1c(0x3b2)](_0x201fd5){return new Promise((_0x433d17,_0x442937)=>{const _0x237087=a0_0x2316;let _0x488e74;const _0x16efbd=setTimeout(()=>{const _0x4f6964=a0_0x2316;_0x488e74?.(),_0x442937(new Error(_0x4f6964(0x7e2)+_0x201fd5+'\x27\x20is\x20not\x20ready'));},0x2710);if(this['graphService'][_0x237087(0x732)](_0x201fd5))return clearTimeout(_0x16efbd),void _0x433d17(!0x0);_0x488e74=this[_0x237087(0xa48)]['onNodeUpdate'](()=>{const _0x396198=_0x237087;this[_0x396198(0xa48)]['hasRemoteNode'](_0x201fd5)&&(clearTimeout(_0x16efbd),_0x433d17(!0x0),_0x488e74?.());});});}['registerSystemPublisher'](_0x24baba){const _0x577b47=_0x5a8b1c;this[_0x577b47(0x625)]=_0x24baba;}[_0x5a8b1c(0x8f7)](){const _0x240ca6=_0x5a8b1c;delete this[_0x240ca6(0x625)];}[_0x5a8b1c(0x494)](){const _0x36132a=_0x5a8b1c;this['debounceProcessRank']&&(clearTimeout(this['debounceProcessRank']),delete this[_0x36132a(0xa32)]),delete this[_0x36132a(0x9a6)],this[_0x36132a(0xab3)][_0x36132a(0x650)][_0x36132a(0x494)](),this['remoteUnsubscriber'](),this[_0x36132a(0x32d)](),this[_0x36132a(0xab3)][_0x36132a(0x834)][_0x36132a(0x16f)](this[_0x36132a(0xab3)][_0x36132a(0x650)]),this[_0x36132a(0xab3)][_0x36132a(0x834)][_0x36132a(0x16f)](this),this[_0x36132a(0x287)]['close']();}[_0x5a8b1c(0x51a)](){const _0x1c07bb=_0x5a8b1c;return this[_0x1c07bb(0x77c)];}['getLocalId'](){const _0x23781f=_0x5a8b1c;return this['configs'][_0x23781f(0x650)][_0x23781f(0x3dd)]();}[_0x5a8b1c(0x39e)](){const _0x310396=_0x5a8b1c;return this[_0x310396(0xab3)][_0x310396(0x650)];}['getRemoteNodes'](_0x1ee3f5){const _0x120183=_0x5a8b1c,_0x59dd8d=Array['from'](this[_0x120183(0xa48)][_0x120183(0x43d)]()[_0x120183(0x4c2)]())['filter'](_0x2fed5f=>_0x2fed5f[_0x120183(0x68a)]()===_0x16221c[_0x120183(0x8d3)]);return _0x1ee3f5?_0x59dd8d[_0x120183(0x930)](_0x1ee3f5):_0x59dd8d;}async[_0x5a8b1c(0x9fc)](){const _0x1fd9be=_0x5a8b1c;return this[_0x1fd9be(0x77c)]=await this[_0x1fd9be(0x287)][_0x1fd9be(0x59d)](),this[_0x1fd9be(0x77c)][_0x1fd9be(0xa39)]<this[_0x1fd9be(0xa48)][_0x1fd9be(0x6b8)]()&&(this[_0x1fd9be(0xab3)]['localNode'][_0x1fd9be(0x32a)](this['ancestors'][_0x1fd9be(0xa39)]+0x1),this['processRank']()),this[_0x1fd9be(0x77c)];}['getDistance'](_0x6cfdce,_0x53f619){const _0x4f1c49=_0x5a8b1c,_0x5d0b44=this[_0x4f1c49(0xab3)][_0x4f1c49(0x650)][_0x4f1c49(0x1db)](),_0x5414a7=new Set(_0x5d0b44),_0x20d642=Array[_0x4f1c49(0x47c)](_0x5d0b44)['filter'](_0x2468e2=>_0x2468e2!==_0x6cfdce)[_0x4f1c49(0x3d5)](_0x45fef4=>({'id':_0x45fef4,'distance':0x1}));for(;_0x20d642[_0x4f1c49(0xa39)]>0x0;){const _0x2414fa=_0x20d642[_0x4f1c49(0x4ed)]();if(!_0x2414fa)continue;if(_0x2414fa['id']===_0x53f619)return _0x2414fa['distance'];const _0x46c69f=this['graphService']['getRemoteNode'](_0x2414fa['id']);_0x46c69f&&_0x46c69f['getStatus']()!==_0x16221c[_0x4f1c49(0xa50)]&&_0x46c69f[_0x4f1c49(0x1db)]()[_0x4f1c49(0x775)](_0x5c5ec7=>{const _0x16bb18=_0x4f1c49;_0x5414a7[_0x16bb18(0x149)](_0x5c5ec7)||(_0x5414a7[_0x16bb18(0x20c)](_0x5c5ec7),_0x20d642['push']({'id':_0x5c5ec7,'distance':_0x2414fa[_0x16bb18(0x640)]+0x1}));});}return-0x1;}[_0x5a8b1c(0x4fd)](_0x5df029){const _0x457e94=_0x5a8b1c;try{switch(_0x5df029[_0x457e94(0x2fa)]['type']){case _0xba42b7[_0x457e94(0xa97)]:case _0xba42b7['NodeConnectionsUpdate']:this[_0x457e94(0x962)](_0x5df029[_0x457e94(0x2fa)]),_0x241131[_0x457e94(0x2d3)](_0xf47a5[_0x457e94(0x9aa)],_0x457e94(0xa3c),'\x27'+this['configs']['localNode'][_0x457e94(0x3dd)]()+',\x20'+_0x5df029['sourceId']+'\x27',_0x5df029,_0x5df029[_0x457e94(0x2fa)]);break;case _0xba42b7[_0x457e94(0x4b2)]:this[_0x457e94(0x9d4)](_0x5df029[_0x457e94(0x2fa)]['id']),_0x241131[_0x457e94(0x2d3)](_0xf47a5[_0x457e94(0x9aa)],_0x457e94(0x846),'\x27'+this[_0x457e94(0xab3)][_0x457e94(0x650)]['getId']()+',\x20'+_0x5df029[_0x457e94(0x2fb)]+'\x27',_0x5df029,_0x5df029[_0x457e94(0x2fa)]);}}catch(_0x284512){if(_0x284512 instanceof _0x181159)return void _0x241131[_0x457e94(0x2d3)](_0xf47a5[_0x457e94(0x9aa)],_0x284512[_0x457e94(0x421)]);throw _0x284512;}}[_0x5a8b1c(0x9c7)](_0xc6c151){const _0xca266f=_0x5a8b1c;switch(_0xc6c151[_0xca266f(0x2fa)][_0xca266f(0x2a5)]){case _0x5e1ebe[_0xca266f(0x635)]:this[_0xca266f(0x681)](_0xc6c151[_0xca266f(0x2fb)]),_0x241131[_0xca266f(0x2d3)](_0xf47a5[_0xca266f(0x9aa)],_0xca266f(0x80a),'\x27'+this['configs']['localNode'][_0xca266f(0x3dd)]()+',\x20'+_0xc6c151[_0xca266f(0x2fb)]+'\x27',_0xc6c151,_0xc6c151[_0xca266f(0x2fa)]);break;case _0x5e1ebe['Disconnect']:this[_0xca266f(0x4be)](_0xc6c151['sourceId']),_0x241131[_0xca266f(0x2d3)](_0xf47a5[_0xca266f(0x9aa)],_0xca266f(0xaf9),this[_0xca266f(0xab3)]['localNode'][_0xca266f(0x3dd)](),_0xc6c151,_0xc6c151[_0xca266f(0x2fa)]);}}[_0x5a8b1c(0x232)](_0x12303d){const _0x207506=_0x5a8b1c;this[_0x207506(0x435)](_0x12303d),this['notifyJoin'](_0x12303d);}['notifyJoin'](_0x5bc893){const _0xf8392e=_0x5a8b1c;this[_0xf8392e(0xab3)][_0xf8392e(0x650)]['answerJoin'](_0x5bc893['id']),this[_0xf8392e(0x740)](_0x5bc893['id']),this[_0xf8392e(0xa34)](_0x5bc893);}['handleNodeUpdate'](_0x1a4656){const _0x57d8b0=_0x5a8b1c,{id:_0x451c75,metaData:_0x1b0dfa,rank:_0x54c59f,remoteConnections:_0x4f6e39,version:_0x414adc}=_0x1a4656,_0x49ab31=this[_0x57d8b0(0xa48)][_0x57d8b0(0x8d0)](_0x451c75);if(_0x49ab31){if(!(_0x414adc<=_0x49ab31[_0x57d8b0(0x6d5)]())){if(_0x49ab31[_0x57d8b0(0x3bf)](_0x4f6e39),_0x49ab31[_0x57d8b0(0x87f)](_0x414adc),_0x49ab31[_0x57d8b0(0x2a5)]===_0x52baed['NodeType'][_0x57d8b0(0x886)]&&_0x1b0dfa[_0x57d8b0(0x2a5)]===_0x52baed[_0x57d8b0(0x935)]['User']&&(_0x49ab31[_0x57d8b0(0x89e)](_0x1b0dfa['displayName']),_0x49ab31[_0x57d8b0(0x483)](_0x1b0dfa['email'])),_0x54c59f&&_0x49ab31[_0x57d8b0(0x32a)](_0x54c59f),this['setLocalRank'](_0x451c75,_0x54c59f),_0x49ab31['getStatus']()===_0x16221c['Offline'])return _0x49ab31[_0x57d8b0(0x576)](_0x16221c[_0x57d8b0(0x8d3)]),this[_0x57d8b0(0x7c9)](),void this[_0x57d8b0(0x2b0)](_0x1a4656);this[_0x57d8b0(0x7c9)](),this['notifyClusterNodeUpdate']({'id':_0x451c75,'metaData':_0x1b0dfa,'remoteConnections':_0x4f6e39,'version':_0x414adc});}}else this['handleNodeJoin'](_0x1a4656);}[_0x5a8b1c(0x908)](_0x440e61,_0x5223d9){const _0x51499d=_0x5a8b1c;_0x5223d9&&this['ancestors'][_0x51499d(0x595)](_0x440e61)&&this[_0x51499d(0xab3)]['localNode']['setRank'](_0x5223d9+this['ancestors']['indexOf'](_0x440e61)+0x1);}[_0x5a8b1c(0x681)](_0x3219ae){const _0x5774bd=_0x5a8b1c;this[_0x5774bd(0xab3)]['localNode']['addRemoteConnection'](_0x3219ae);}[_0x5a8b1c(0x435)]({id:_0x3e6553,metaData:_0x230d62,rank:_0x2b0a44,remoteConnections:_0x2d6ad4,version:_0x1a1065}){const _0x2fc963=_0x5a8b1c;if(this['graphService'][_0x2fc963(0x732)](_0x3e6553))throw new _0x181159(_0x2fc963(0xb2d)+_0x3e6553);switch(_0x230d62[_0x2fc963(0x2a5)]){case _0x52baed[_0x2fc963(0x935)][_0x2fc963(0x886)]:const {displayName:_0x458095,email:_0x21283e}=_0x230d62;this[_0x2fc963(0xa48)][_0x2fc963(0x564)](_0x3e6553,new _0x41e3e4(_0x3e6553,_0x458095,_0x21283e,new Set(_0x2d6ad4),_0x1a1065,_0x2b0a44));break;case _0x52baed['NodeType'][_0x2fc963(0x2fd)]:this[_0x2fc963(0xa48)][_0x2fc963(0x564)](_0x3e6553,new _0x168af1(_0x3e6553,new Set(_0x2d6ad4),_0x1a1065,_0x2b0a44));}const _0x196a5d=this[_0x2fc963(0x43d)](),_0x183f37=new Set(this[_0x2fc963(0x77c)]);_0x196a5d[_0x2fc963(0x775)](_0x1d5b85=>{const _0x303fa2=_0x2fc963;_0x183f37[_0x303fa2(0x149)](_0x1d5b85[_0x303fa2(0x3dd)]())&&_0x183f37[_0x303fa2(0x1cd)](_0x1d5b85[_0x303fa2(0x3dd)]());}),0x0===_0x183f37[_0x2fc963(0xaf1)]&&this[_0x2fc963(0x693)]&&(this[_0x2fc963(0xb05)]&&clearTimeout(this[_0x2fc963(0xb05)]),this[_0x2fc963(0xb05)]=setTimeout(()=>{const _0x462531=_0x2fc963;this[_0x462531(0x693)]?.(!0x0),delete this['resolveReady'],delete this[_0x462531(0x37c)];},0x7d0)),this[_0x2fc963(0x908)](_0x3e6553,_0x2b0a44),this['processRank']();}['publishNodeJoin'](_0x14c0c0){const _0x113230=_0x5a8b1c;this['systemTopic']['publish']({'sourceId':_0x4c58af,'messageType':_0x9cb7d1['Node'],'content':{'type':_0xba42b7[_0x113230(0x8dd)],'id':_0x14c0c0}});}[_0x5a8b1c(0x4be)](_0x2c5318){const _0x31565f=_0x5a8b1c;this[_0x31565f(0x625)]?.['publish']({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x31565f(0x9aa)],'content':{'type':_0xba42b7[_0x31565f(0x4b2)],'id':_0x2c5318}});}[_0x5a8b1c(0x360)](_0x5ec551){const _0x4eaf0d=_0x5a8b1c;if(_0x5ec551===this['configs'][_0x4eaf0d(0x650)][_0x4eaf0d(0x3dd)]())return this[_0x4eaf0d(0xab3)][_0x4eaf0d(0x834)][_0x4eaf0d(0xaa3)](_0x4eaf0d(0xa81),{'id':_0x5ec551}),this[_0x4eaf0d(0xab3)][_0x4eaf0d(0x834)][_0x4eaf0d(0x494)]({'force':!0x0},!0x0),this[_0x4eaf0d(0xab3)][_0x4eaf0d(0x834)][_0x4eaf0d(0x275)](),void this['configs'][_0x4eaf0d(0x834)][_0x4eaf0d(0x8a5)]();this[_0x4eaf0d(0x4be)](_0x5ec551);}['removeNode'](_0x2035e6){const _0x11fcd2=_0x5a8b1c;this[_0x11fcd2(0x77c)]['includes'](_0x2035e6)?this[_0x11fcd2(0x689)](_0x2035e6):this[_0x11fcd2(0xab3)]['localNode'][_0x11fcd2(0x1db)]()['has'](_0x2035e6)&&this[_0x11fcd2(0x76d)](_0x2035e6),this[_0x11fcd2(0xab3)][_0x11fcd2(0x650)][_0x11fcd2(0x6a9)](_0x2035e6);const _0x635821=Array[_0x11fcd2(0x47c)](this[_0x11fcd2(0x2ca)][_0x11fcd2(0x322)]())[_0x11fcd2(0x5dd)](([,_0x8824b4])=>_0x8824b4==_0x8824b4);_0x635821&&this[_0x11fcd2(0x2ca)][_0x11fcd2(0x1cd)](_0x635821[0x0]);const _0x231b52=this[_0x11fcd2(0xa48)][_0x11fcd2(0x8d0)](_0x2035e6);if(!_0x231b52)return;const _0x1b65d5=_0x231b52['getRank'](),_0x58e11f=this[_0x11fcd2(0xab3)]['localNode']['getRank']();_0x58e11f&&_0x1b65d5&&_0x1b65d5<_0x58e11f&&this['configs'][_0x11fcd2(0x650)]['setRank'](_0x58e11f-0x1,!0x1),Array[_0x11fcd2(0x47c)](this['graphService'][_0x11fcd2(0x43d)]()[_0x11fcd2(0x4c2)]())[_0x11fcd2(0x775)](_0x386928=>{const _0x5ea227=_0x11fcd2,_0xe1838a=_0x386928[_0x5ea227(0x37a)]();_0xe1838a&&_0x1b65d5&&_0x1b65d5<_0xe1838a&&_0x386928[_0x5ea227(0x32a)](_0xe1838a-0x1);}),_0x231b52[_0x11fcd2(0x576)](_0x16221c[_0x11fcd2(0xa50)]),this[_0x11fcd2(0xab3)][_0x11fcd2(0x834)][_0x11fcd2(0xaa3)](_0x231b52[_0x11fcd2(0x2a5)]+'-leave',{'id':_0x2035e6});}[_0x5a8b1c(0xa34)]({id:_0x30b45e,metaData:_0x2e37a2,remoteConnections:_0x399dac}){const _0x45aa9c=_0x5a8b1c;switch(_0x2e37a2['type']){case _0x52baed[_0x45aa9c(0x935)][_0x45aa9c(0x886)]:this[_0x45aa9c(0xab3)][_0x45aa9c(0x834)][_0x45aa9c(0xaa3)](_0x45aa9c(0xaae),{'id':_0x30b45e,'metaData':_0x2e37a2,'remoteConnections':_0x399dac});break;case _0x52baed[_0x45aa9c(0x935)][_0x45aa9c(0x2fd)]:this[_0x45aa9c(0xab3)][_0x45aa9c(0x834)][_0x45aa9c(0xaa3)]('agent-join',{'id':_0x30b45e,'metaData':_0x2e37a2,'remoteConnections':_0x399dac});}}[_0x5a8b1c(0x61c)]({id:_0x3351bf,metaData:_0x47eaaa,remoteConnections:_0x3c1d11}){const _0x460811=_0x5a8b1c;switch(_0x47eaaa[_0x460811(0x2a5)]){case _0x52baed[_0x460811(0x935)][_0x460811(0x886)]:this[_0x460811(0xab3)]['mediator'][_0x460811(0xaa3)](_0x460811(0x464),{'id':_0x3351bf,'metaData':_0x47eaaa,'remoteConnections':_0x3c1d11});break;case _0x52baed[_0x460811(0x935)]['Agent']:this[_0x460811(0xab3)][_0x460811(0x834)][_0x460811(0xaa3)]('agent-update',{'id':_0x3351bf,'metaData':_0x47eaaa,'remoteConnections':_0x3c1d11});}}['processRank'](){const _0x3d13ed=_0x5a8b1c;if(this[_0x3d13ed(0x9a6)]||(this[_0x3d13ed(0x9a6)]=Date[_0x3d13ed(0x744)]()),this[_0x3d13ed(0xa32)]){if(Date[_0x3d13ed(0x744)]()-this[_0x3d13ed(0x9a6)]>0x2328)return;clearTimeout(this[_0x3d13ed(0xa32)]);}this[_0x3d13ed(0xa32)]=setTimeout(async()=>{const _0x36b548=_0x3d13ed;delete this[_0x36b548(0x9a6)],delete this[_0x36b548(0xa32)];const _0x2ce614=this[_0x36b548(0xab3)]['localNode'][_0x36b548(0x37a)]();if(!_0x2ce614)return;const _0x5aec8d=this['graphService'][_0x36b548(0x5db)](this[_0x36b548(0xa48)]['getRemoteNodes']()['size']);if(this[_0x36b548(0x2ca)][_0x36b548(0xaf1)]>=_0x5aec8d)return;let _0x25062e=0x1;for(;this[_0x36b548(0xab3)]['mediator'][_0x36b548(0x93d)]()['length']<this[_0x36b548(0xa48)][_0x36b548(0x3d9)]()&&_0x25062e<=_0x5aec8d;){if(this['optimizationLayers'][_0x36b548(0x149)](_0x25062e)){_0x25062e+=0x1;continue;}const _0x52b426=this[_0x36b548(0xa48)][_0x36b548(0x719)](_0x2ce614,_0x25062e),_0x46c341=Array[_0x36b548(0x47c)](this['graphService'][_0x36b548(0x43d)]()[_0x36b548(0x4c2)]())[_0x36b548(0x5dd)](_0x5687bc=>_0x5687bc['getRank']()===_0x52b426&&_0x5687bc[_0x36b548(0x68a)]()===_0x16221c[_0x36b548(0x8d3)]);if(_0x46c341){try{await this['configs'][_0x36b548(0x834)][_0x36b548(0x75f)](_0x46c341[_0x36b548(0x3dd)](),_0x21fa51['Optimization']),this[_0x36b548(0x2ca)][_0x36b548(0x984)](_0x25062e,_0x46c341[_0x36b548(0x3dd)]());}catch(_0x354726){if(!(_0x354726 instanceof _0xdb384&&_0x354726['code']===_0xdb384[_0x36b548(0x549)][_0x36b548(0x644)]))throw _0x354726;_0x241131[_0x36b548(0x2d3)](_0xf47a5[_0x36b548(0x9aa)],this['configs'][_0x36b548(0x650)][_0x36b548(0x3dd)](),_0x46c341[_0x36b548(0x3dd)](),_0x354726['message']);}_0x25062e+=0x1;}else _0x25062e+=0x1;}},0x3e8);}async[_0x5a8b1c(0x689)](_0x441365){const _0x52d696=_0x5a8b1c;this[_0x52d696(0x77c)][_0x52d696(0x343)](this['ancestors'][_0x52d696(0x64f)](_0x441365),0x1);const _0x3cff26=await this[_0x52d696(0x287)][_0x52d696(0x384)]();for(const _0x29ef04 of _0x3cff26)if(!this['ancestors'][_0x52d696(0x595)](_0x29ef04)){const _0x7a42e3=Array[_0x52d696(0x47c)](this['optimizationLayers']['entries']())[_0x52d696(0x5dd)](([,_0x583b7d])=>_0x583b7d===_0x29ef04);_0x7a42e3&&this[_0x52d696(0x2ca)][_0x52d696(0x1cd)](_0x7a42e3[0x0]),this[_0x52d696(0xab3)]['mediator']['createConnection'](_0x29ef04,_0x21fa51[_0x52d696(0x2d1)]);}0x0===_0x3cff26['length']&&this[_0x52d696(0xab3)][_0x52d696(0x650)][_0x52d696(0x32a)](0x1),this[_0x52d696(0x77c)]=_0x3cff26;}async[_0x5a8b1c(0x76d)](_0xf5ad8a){const _0x549c79=_0x5a8b1c,_0x3d64d1=this[_0x549c79(0xab3)][_0x549c79(0x650)][_0x549c79(0x37a)]();if(!_0x3d64d1)return;const _0x13377d=this['graphService'][_0x549c79(0x8d0)](_0xf5ad8a);if(!_0x13377d||_0x13377d[_0x549c79(0x68a)]()===_0x16221c[_0x549c79(0xa50)])return;const _0x446f71=_0x13377d[_0x549c79(0x37a)]();if(!_0x446f71||_0x446f71<_0x3d64d1)return;const _0x38fb9b=this[_0x549c79(0x5e2)](this['configs'][_0x549c79(0x650)]['getRemoteConnections'](),_0x3d64d1),_0x11347a=this[_0x549c79(0x5e2)](_0x13377d[_0x549c79(0x1db)](),_0x446f71)[_0x38fb9b[_0x549c79(0x493)](([_0x4a7d8e])=>_0x4a7d8e===_0xf5ad8a)];if(!_0x11347a||this[_0x549c79(0xab3)]['localNode'][_0x549c79(0x1db)]()[_0x549c79(0x149)](_0x11347a[0x0]))return;const _0x138702=this[_0x549c79(0xa48)][_0x549c79(0x8d0)](_0x11347a[0x0]);if(_0x138702&&_0x138702[_0x549c79(0x68a)]()!==_0x16221c[_0x549c79(0xa50)])try{await this['configs']['mediator'][_0x549c79(0x75f)](_0x11347a[0x0],_0x21fa51['Optimization']);const _0x1ea4af=Array[_0x549c79(0x47c)](this['optimizationLayers']['entries']())[_0x549c79(0x5dd)](([,_0x4e901b])=>_0x4e901b===_0xf5ad8a);_0x1ea4af&&this[_0x549c79(0x2ca)][_0x549c79(0x984)](_0x1ea4af[0x0],_0x11347a[0x0]);}catch(_0xa0d3cd){if(!(_0xa0d3cd instanceof _0xdb384&&_0xa0d3cd[_0x549c79(0x5ac)]===_0xdb384['codes'][_0x549c79(0x644)]))throw _0xa0d3cd;_0x241131['log'](_0xf47a5[_0x549c79(0x9aa)],this['configs'][_0x549c79(0x650)][_0x549c79(0x3dd)](),_0x11347a[0x0],_0xa0d3cd[_0x549c79(0x421)]);}}[_0x5a8b1c(0x5e2)](_0x1643fa,_0xce3031){const _0x3c355b=_0x5a8b1c;return Array[_0x3c355b(0x47c)](_0x1643fa)[_0x3c355b(0x8a0)]((_0x1f28a5,_0x5a5707)=>{const _0x41bfea=_0x3c355b,_0x1561d0=this[_0x41bfea(0xa48)]['getRemoteNode'](_0x5a5707);if(!_0x1561d0||_0x1561d0[_0x41bfea(0x68a)]()===_0x16221c[_0x41bfea(0xa50)])return _0x1f28a5;const _0x216750=_0x1561d0[_0x41bfea(0x37a)]();if(!_0x216750)return _0x1f28a5;const _0x2f76da=_0x216750-_0xce3031;return _0x2f76da<=this[_0x41bfea(0xa48)][_0x41bfea(0x6b8)]()||_0x1f28a5[_0x41bfea(0x3a9)]([_0x5a5707,_0x2f76da]),_0x1f28a5;},[])[_0x3c355b(0x7e3)](([,_0x102cd4],[,_0x4d6a2e])=>_0x102cd4-_0x4d6a2e);}}const _0x502bf3=[{'problemType':_0x3bd6ad[_0x5a8b1c(0x6af)],'remediations':[{'type':_0x22f6a1[_0x5a8b1c(0x3e9)],'component':_0x3079f8[_0x5a8b1c(0xa38)],'action':_0x411a87[_0x5a8b1c(0x8db)]},{'type':_0x22f6a1[_0x5a8b1c(0x6a3)],'component':_0x3079f8[_0x5a8b1c(0xa38)],'action':_0x411a87[_0x5a8b1c(0x8db)]}]},{'problemType':_0x3bd6ad[_0x5a8b1c(0x66c)],'remediations':[{'type':_0x22f6a1[_0x5a8b1c(0x3e9)],'component':_0x3079f8[_0x5a8b1c(0xa38)],'action':_0x411a87[_0x5a8b1c(0x8db)]}]},{'problemType':_0x3bd6ad['AudioVideoDelay'],'remediations':[{'type':_0x22f6a1[_0x5a8b1c(0x3e9)],'component':_0x3079f8[_0x5a8b1c(0xa38)],'action':_0x411a87[_0x5a8b1c(0x8db)]}]},{'problemType':_0x3bd6ad['FramePerSecond'],'remediations':[{'type':_0x22f6a1['Remediation'],'component':_0x3079f8[_0x5a8b1c(0xa38)],'action':_0x411a87[_0x5a8b1c(0x8db)]}]},{'problemType':_0x3bd6ad[_0x5a8b1c(0x7e9)],'remediations':[{'type':_0x22f6a1[_0x5a8b1c(0x3e9)],'component':_0x3079f8['Bitrate'],'action':_0x411a87[_0x5a8b1c(0x8db)]}]},{'problemType':_0x3bd6ad['Jitter'],'remediations':[{'type':_0x22f6a1[_0x5a8b1c(0x3e9)],'component':_0x3079f8[_0x5a8b1c(0x7e9)],'action':_0x411a87[_0x5a8b1c(0x8db)]}]},{'problemType':_0x3bd6ad['RoundTripTime'],'remediations':[{'type':_0x22f6a1[_0x5a8b1c(0x3e9)],'component':_0x3079f8['Bitrate'],'action':_0x411a87['Downgrade']}]}];class _0x4d9579{[_0x5a8b1c(0xab3)];['systemTopic'];['lastRemediations']=new Map();constructor(_0x22219a){const _0x463aa7=_0x5a8b1c;this[_0x463aa7(0xab3)]=_0x22219a,this[_0x463aa7(0xab3)][_0x463aa7(0x834)][_0x463aa7(0x3b0)](this);}[_0x5a8b1c(0x494)](){const _0x3a016e=_0x5a8b1c;this[_0x3a016e(0xab3)][_0x3a016e(0x834)]['unregisterSystemSource'](this);}[_0x5a8b1c(0x3ee)](_0x2c5221){const _0x4c31be=_0x5a8b1c;this[_0x4c31be(0x625)]=_0x2c5221;}['unregisterSystemPublisher'](){const _0x2c3508=_0x5a8b1c;delete this[_0x2c3508(0x625)];}[_0x5a8b1c(0x57e)](_0x47897a){const _0x256439=_0x5a8b1c;_0x47897a['content'][_0x256439(0x2a5)]===_0x1e910e[_0x256439(0x5e5)]&&this[_0x256439(0x54d)](_0x47897a[_0x256439(0x2fa)][_0x256439(0x349)]);}[_0x5a8b1c(0x141)](_0x4ff0b7){const _0x565c71=_0x5a8b1c;_0x4ff0b7[_0x565c71(0x2fa)][_0x565c71(0x2a5)]===_0x22f6a1[_0x565c71(0x6a3)]&&this[_0x565c71(0xafc)](_0x4ff0b7[_0x565c71(0x2fb)],{'type':_0x22f6a1[_0x565c71(0x3e9)],'component':_0x4ff0b7[_0x565c71(0x2fa)][_0x565c71(0x349)][_0x565c71(0x808)],'action':_0x4ff0b7[_0x565c71(0x2fa)]['data'][_0x565c71(0x866)]});}[_0x5a8b1c(0x54d)](_0x5602fe){const _0x885896=_0x5a8b1c,_0x3300af=_0x502bf3[_0x885896(0x5dd)](_0x2cb9c8=>_0x2cb9c8[_0x885896(0x7d9)]===_0x5602fe[_0x885896(0x2a5)]);_0x3300af['remediations']?.[_0x885896(0x775)](_0x40abaf=>{const _0x21da67=_0x885896;this[_0x21da67(0xafc)](_0x5602fe[_0x21da67(0x841)],{'type':_0x5602fe[_0x21da67(0x1c0)]===_0x6b5ab7['Sender']?_0x22f6a1['Remediation']:_0x22f6a1[_0x21da67(0x6a3)],'component':_0x40abaf['component'],'action':_0x40abaf[_0x21da67(0x866)]});});}[_0x5a8b1c(0xafc)](_0x5290d2,_0x166a42){const _0x310e45=_0x5a8b1c;if(_0x166a42['type']===_0x22f6a1[_0x310e45(0x3e9)]){const _0x1c8d3e=Date['now'](),_0x125f4b=this[_0x310e45(0x725)][_0x310e45(0x8a4)](_0x5290d2);if(_0x125f4b&&_0x1c8d3e-_0x125f4b<0x1388)return;this[_0x310e45(0x725)][_0x310e45(0x984)](_0x5290d2,_0x1c8d3e);}_0x241131[_0x310e45(0x2d3)](_0xf47a5[_0x310e45(0x3e9)],'Apply\x20remediation',_0x166a42),_0x241131['logEvent'](_0x310e45(0x565),{'clusterId':this[_0x310e45(0xab3)][_0x310e45(0x659)],'nodeId':this['configs']['localNode'][_0x310e45(0x3dd)](),'nodeType':this[_0x310e45(0xab3)]['localNode']['type'],'remoteId':_0x5290d2,'data':{'type':_0x166a42['type'],'component':_0x166a42[_0x310e45(0x808)],'action':_0x166a42['action']}});let _0x42896c,_0x43379e=_0x4c58af;_0x166a42[_0x310e45(0x2a5)]===_0x22f6a1[_0x310e45(0x6a3)]&&(_0x43379e=this[_0x310e45(0xab3)][_0x310e45(0x650)][_0x310e45(0x3dd)](),_0x42896c=[_0x5290d2]),this[_0x310e45(0x625)]['publish']({'sourceId':_0x43379e,'destinationIds':_0x42896c,'messageType':_0x9cb7d1[_0x310e45(0x3e9)],'content':{'type':_0x166a42[_0x310e45(0x2a5)],'targetId':_0x5290d2,'data':_0x166a42}});}}const _0x29eb55=0x3e8,_0x39106b=0x7530,_0x252441='outbound-rtp',_0x4366a3=_0x5a8b1c(0x6e8),_0x5c191e=_0x5a8b1c(0x8de),_0x1fa68a=[_0x252441,_0x4366a3],_0xe146c7=[_0x5c191e];class _0x5779a5{[_0x5a8b1c(0x8a6)]=0x0;['estimatedPlayoutTimestamp']=0x0;['jitter']=0x0;['packetsLost']=0x0;[_0x5a8b1c(0xaf6)]=0x0;[_0x5a8b1c(0x810)]=0x0;['previousTimestamp']=0x0;[_0x5a8b1c(0x3e7)]=0x0;[_0x5a8b1c(0x473)]=0x0;get[_0x5a8b1c(0x822)](){const _0x5e93ee=_0x5a8b1c;return this['currentTimestamp']>0x0&&this[_0x5e93ee(0x2f6)]>0x0&&Date[_0x5e93ee(0x744)]()-this[_0x5e93ee(0x810)]<_0x39106b?(this[_0x5e93ee(0x3e7)]-this['previousBytes'])/(this[_0x5e93ee(0x810)]-this[_0x5e93ee(0x2f6)])*0x8*0x3e8:0x0;}[_0x5a8b1c(0xa6e)](_0x4efa85){const _0x5167a2=_0x5a8b1c;switch(_0x4efa85[_0x5167a2(0x2a5)]){case _0x5c191e:this[_0x5167a2(0x2b4)](_0x4efa85);break;case _0x252441:this[_0x5167a2(0xa82)](_0x4efa85);break;case _0x4366a3:this[_0x5167a2(0xaa2)](_0x4efa85);}}[_0x5a8b1c(0x972)](){const _0x188a1b=_0x5a8b1c;return{'bitrate':this[_0x188a1b(0x822)],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this[_0x188a1b(0x8a6)],'jitter':this[_0x188a1b(0x77b)]};}[_0x5a8b1c(0x2b4)](_0x54c41a){const _0x16365c=_0x5a8b1c;this[_0x16365c(0x3ed)](_0x54c41a[_0x16365c(0xa4c)]),this[_0x16365c(0x553)](_0x54c41a[_0x16365c(0xad0)]),this[_0x16365c(0xaf6)]=_0x54c41a[_0x16365c(0x93c)],this[_0x16365c(0xa76)]=_0x54c41a[_0x16365c(0xa76)],void 0x0!==_0x54c41a[_0x16365c(0x77b)]?this[_0x16365c(0x77b)]=_0x54c41a[_0x16365c(0x77b)]:this['jitter']=0x0,void 0x0!==_0x54c41a[_0x16365c(0x755)]?this[_0x16365c(0x755)]=_0x54c41a[_0x16365c(0x755)]:this[_0x16365c(0x755)]=0x0;}[_0x5a8b1c(0xa82)](_0x17604b){const _0x5e5c08=_0x5a8b1c;this['setBytes'](_0x17604b[_0x5e5c08(0x398)]),this[_0x5e5c08(0x553)](_0x17604b[_0x5e5c08(0xad0)]),this['packets']=_0x17604b[_0x5e5c08(0x8e5)];}[_0x5a8b1c(0xaa2)](_0x11eee6){const _0x154cd8=_0x5a8b1c;this[_0x154cd8(0x8a6)]=0x3e8*_0x11eee6[_0x154cd8(0x8a6)],void 0x0!==_0x11eee6[_0x154cd8(0x77b)]?this['jitter']=_0x11eee6['jitter']:this[_0x154cd8(0x77b)]=0x0;}[_0x5a8b1c(0x3b9)](){const _0x5f0fa3=_0x5a8b1c;return this[_0x5f0fa3(0xaf6)]>0x0?this[_0x5f0fa3(0xa76)]/this[_0x5f0fa3(0xaf6)]:0x0;}[_0x5a8b1c(0x553)](_0x2b1580){const _0x4db162=_0x5a8b1c;_0x2b1580>this[_0x4db162(0x810)]&&(this[_0x4db162(0x2f6)]=this[_0x4db162(0x810)],this['currentTimestamp']=_0x2b1580);}[_0x5a8b1c(0x3ed)](_0x7b7fdd){const _0x129a37=_0x5a8b1c;this[_0x129a37(0x473)]=this[_0x129a37(0x3e7)],this['currentBytes']=_0x7b7fdd;}}class _0xfe42e6 extends _0x5779a5{}class _0x1b73d9 extends _0x5779a5{[_0x5a8b1c(0x965)]=0x0;[_0x5a8b1c(0x9cc)]=0x0;[_0x5a8b1c(0x82d)]=0x0;['currentFrames']=0x0;[_0x5a8b1c(0x179)]=0x0;get[_0x5a8b1c(0x79b)](){const _0xe4bc62=_0x5a8b1c;return this[_0xe4bc62(0x810)]>0x0&&this[_0xe4bc62(0x2f6)]>0x0&&Date[_0xe4bc62(0x744)]()-this['currentTimestamp']<_0x39106b?(this[_0xe4bc62(0x437)]-this[_0xe4bc62(0x179)])/(this[_0xe4bc62(0x810)]-this['previousTimestamp'])*0x3e8:0x0;}get[_0x5a8b1c(0x957)](){const _0x41e73b=_0x5a8b1c;return this[_0x41e73b(0x965)]&&this[_0x41e73b(0x437)]&&this[_0x41e73b(0x437)]>0x0?this['frameTime']/this[_0x41e73b(0x437)]:0x0;}set['frames'](_0x3072be){const _0x1cc4e6=_0x5a8b1c;this[_0x1cc4e6(0x179)]=this['currentFrames'],this[_0x1cc4e6(0x437)]=_0x3072be;}[_0x5a8b1c(0x972)](){const _0x16fd22=_0x5a8b1c;return{...super[_0x16fd22(0x972)](),'FPS':this[_0x16fd22(0x79b)],'timePerFrame':this[_0x16fd22(0x957)],'frameWidth':this[_0x16fd22(0x9cc)],'frameHeight':this[_0x16fd22(0x82d)]};}[_0x5a8b1c(0x2b4)](_0x343468){const _0x56bff2=_0x5a8b1c;super[_0x56bff2(0x2b4)](_0x343468),this[_0x56bff2(0x965)]=_0x343468['totalDecodeTime'],this[_0x56bff2(0x6cd)]=_0x343468['framesDecoded'],this[_0x56bff2(0x9cc)]=_0x343468[_0x56bff2(0x9cc)],this[_0x56bff2(0x82d)]=_0x343468[_0x56bff2(0x82d)];}[_0x5a8b1c(0xa82)](_0x16be14){const _0x20a020=_0x5a8b1c;super[_0x20a020(0xa82)](_0x16be14),this[_0x20a020(0x965)]=_0x16be14[_0x20a020(0xad6)],this[_0x20a020(0x6cd)]=_0x16be14[_0x20a020(0x2a2)],this[_0x20a020(0x9cc)]=_0x16be14['frameWidth'],this[_0x20a020(0x82d)]=_0x16be14[_0x20a020(0x82d)];}}class _0x5ce45e{[_0x5a8b1c(0x35a)]=new _0xfe42e6();[_0x5a8b1c(0x498)]=new _0x1b73d9();get[_0x5a8b1c(0x822)](){const _0x54df5e=_0x5a8b1c;return this[_0x54df5e(0x35a)][_0x54df5e(0x822)]+this[_0x54df5e(0x498)][_0x54df5e(0x822)];}['processReports'](_0x4f7a38){const _0x34be87=_0x5a8b1c;return _0x4f7a38[_0x34be87(0x775)](_0x2cbef7=>{const _0x4822d1=_0x34be87;switch(_0x2cbef7['kind']){case _0x4822d1(0x35a):this[_0x4822d1(0x35a)][_0x4822d1(0xa6e)](_0x2cbef7);break;case _0x4822d1(0x498):this[_0x4822d1(0x498)][_0x4822d1(0xa6e)](_0x2cbef7);}}),this[_0x34be87(0x972)]();}['getReport'](){const _0x27fe32=_0x5a8b1c;return{'audio':this[_0x27fe32(0x35a)][_0x27fe32(0x972)](),'video':this[_0x27fe32(0x498)][_0x27fe32(0x972)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x27fe32(0xae2)](),'bitrate':this[_0x27fe32(0x822)]};}[_0x5a8b1c(0x6ff)](){const _0x4fd054=_0x5a8b1c;return Math[_0x4fd054(0x65d)]((this[_0x4fd054(0x35a)][_0x4fd054(0x8a6)]+this[_0x4fd054(0x498)][_0x4fd054(0x8a6)])/0x2);}[_0x5a8b1c(0xae2)](){const _0xa52c9=_0x5a8b1c;return this['audio'][_0xa52c9(0x755)]-this[_0xa52c9(0x498)][_0xa52c9(0x755)];}}class _0x67f820{[_0x5a8b1c(0x83e)]=0x0;[_0x5a8b1c(0xacd)]=0x0;[_0x5a8b1c(0x7ba)]=0x0;[_0x5a8b1c(0xaed)]=0x0;[_0x5a8b1c(0x249)]=0x0;[_0x5a8b1c(0x90b)]=0x0;[_0x5a8b1c(0x86e)]=0x0;[_0x5a8b1c(0x9b6)]=0x0;[_0x5a8b1c(0x1c3)]=0x0;[_0x5a8b1c(0x688)]=0x0;[_0x5a8b1c(0x749)]=0x0;[_0x5a8b1c(0x893)]=0x0;[_0x5a8b1c(0x8a6)]=0x0;get[_0x5a8b1c(0x822)](){const _0x1934f1=_0x5a8b1c;return this['senderBitrate']+this[_0x1934f1(0x2ef)];}get['senderBitrate'](){const _0x398891=_0x5a8b1c;return this[_0x398891(0x83e)]>0x0&&this[_0x398891(0xacd)]>0x0&&Date[_0x398891(0x744)]()-this[_0x398891(0x83e)]<_0x39106b?(this['senderCurrentBytes']-this[_0x398891(0x90b)])/(this[_0x398891(0x83e)]-this['senderPreviousTimestamp'])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x4d1266=_0x5a8b1c;return this[_0x4d1266(0x7ba)]>0x0&&this[_0x4d1266(0xaed)]>0x0&&Date[_0x4d1266(0x744)]()-this[_0x4d1266(0x7ba)]<_0x39106b?(this[_0x4d1266(0x86e)]-this[_0x4d1266(0x9b6)])/(this[_0x4d1266(0x7ba)]-this[_0x4d1266(0xaed)])*0x8*0x3e8:0x0;}[_0x5a8b1c(0xa6e)](_0x5698ba){const _0x373376=_0x5a8b1c;switch(_0x5698ba[_0x373376(0x1c0)]){case _0x6b5ab7['Sender']:this[_0x373376(0x949)](_0x5698ba);break;case _0x6b5ab7[_0x373376(0x8e7)]:this['processReceiverReport'](_0x5698ba);}}[_0x5a8b1c(0x972)](){const _0x5cbe59=_0x5a8b1c;return{'bitrate':this['bitrate'],'senderBitrate':this[_0x5cbe59(0x8fa)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this[_0x5cbe59(0x805)](),'receiverTotalBytes':this['getReceiverTotalBytes'](),'totalMessages':this[_0x5cbe59(0x1c3)]+this[_0x5cbe59(0x688)],'senderTotalMessages':this[_0x5cbe59(0x1c3)],'receiverTotalMessages':this[_0x5cbe59(0x688)],'timeProcessing':this[_0x5cbe59(0x749)]+this[_0x5cbe59(0x893)],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0x5cbe59(0x8a6)]};}[_0x5a8b1c(0x609)](){const _0x8dcddb=_0x5a8b1c;return this[_0x8dcddb(0x249)]+this['receiverCurrentBytes'];}[_0x5a8b1c(0x805)](){const _0x2d5a1e=_0x5a8b1c;return this[_0x2d5a1e(0x249)];}[_0x5a8b1c(0xa0d)](){const _0x36ead6=_0x5a8b1c;return this[_0x36ead6(0x86e)];}[_0x5a8b1c(0x949)](_0x2e70c2){const _0x4df05c=_0x5a8b1c;this[_0x4df05c(0x307)](_0x2e70c2[_0x4df05c(0xad0)]),this[_0x4df05c(0x3ed)](_0x2e70c2[_0x4df05c(0x398)]),this[_0x4df05c(0x1c3)]=_0x2e70c2['messagesSent'],this['senderTimeProcessing']=_0x2e70c2[_0x4df05c(0x33c)],this[_0x4df05c(0x8a6)]=_0x2e70c2[_0x4df05c(0x8a6)];}['processReceiverReport'](_0x20c935){const _0x437e12=_0x5a8b1c;this[_0x437e12(0x903)](_0x20c935[_0x437e12(0xad0)]),this['setReceiverBytes'](_0x20c935[_0x437e12(0xa4c)]),this[_0x437e12(0x688)]=_0x20c935[_0x437e12(0x413)],this[_0x437e12(0x893)]=_0x20c935[_0x437e12(0x6fe)];}[_0x5a8b1c(0x307)](_0x3ba5a1){const _0x388754=_0x5a8b1c;_0x3ba5a1>this[_0x388754(0x83e)]&&(this[_0x388754(0xacd)]=this[_0x388754(0x83e)],this[_0x388754(0x83e)]=_0x3ba5a1);}[_0x5a8b1c(0x903)](_0x1a860f){const _0x549d38=_0x5a8b1c;_0x1a860f>this[_0x549d38(0x7ba)]&&(this[_0x549d38(0xaed)]=this['receiverCurrentTimestamp'],this['receiverCurrentTimestamp']=_0x1a860f);}[_0x5a8b1c(0x3ed)](_0x183fa4){const _0x35cba8=_0x5a8b1c;this['senderPreviousBytes']=this['senderCurrentBytes'],this[_0x35cba8(0x249)]=_0x183fa4;}['setReceiverBytes'](_0x4f4634){const _0x3382a4=_0x5a8b1c;this[_0x3382a4(0x9b6)]=this[_0x3382a4(0x86e)],this[_0x3382a4(0x86e)]=_0x4f4634;}}class _0x15c0ef{[_0x5a8b1c(0xac6)]=new Map();[_0x5a8b1c(0x6f6)]=new Map();[_0x5a8b1c(0x9b2)]=new _0x67f820();get[_0x5a8b1c(0x8fa)](){const _0x4ccda6=_0x5a8b1c;let _0x771472=0x0;return this[_0x4ccda6(0xac6)][_0x4ccda6(0x775)](_0x46f103=>{_0x771472+=_0x46f103['bitrate'];}),_0x771472+=this[_0x4ccda6(0x9b2)][_0x4ccda6(0x8fa)],_0x771472;}get[_0x5a8b1c(0x2ef)](){const _0x23d8e7=_0x5a8b1c;let _0x73a221=0x0;return this[_0x23d8e7(0x6f6)][_0x23d8e7(0x775)](_0x51f3b5=>{_0x73a221+=_0x51f3b5['bitrate'];}),_0x73a221+=this[_0x23d8e7(0x9b2)][_0x23d8e7(0x2ef)],_0x73a221;}get[_0x5a8b1c(0x822)](){const _0x17a879=_0x5a8b1c;return this[_0x17a879(0x8fa)]+this['receiverBitrate'];}[_0x5a8b1c(0x89c)](_0x18e59a,_0x5e3e59){const _0x12b99a=_0x5a8b1c,_0x19e712=[],_0x3a79b4=[];return _0x18e59a instanceof Array?_0x18e59a['forEach'](_0x30f922=>{_0x30f922['forEach'](_0x3111ec=>{const _0x4ea946=a0_0x2316;_0xe146c7[_0x4ea946(0x595)](_0x3111ec['type'])&&_0x19e712[_0x4ea946(0x3a9)](_0x3111ec),_0x1fa68a['includes'](_0x3111ec['type'])&&_0x3a79b4[_0x4ea946(0x3a9)](_0x3111ec);});}):this[_0x12b99a(0x9b2)]['processReport'](_0x18e59a),_0x19e712[_0x12b99a(0xa39)]>0x0&&_0x5e3e59?{...this['processInboundReports'](_0x5e3e59,_0x19e712),'origin':_0x6b5ab7['Receiver'],'streamId':_0x5e3e59}:_0x3a79b4['length']>0x0&&_0x5e3e59?{...this[_0x12b99a(0x530)](_0x5e3e59,_0x3a79b4),'origin':_0x6b5ab7['Sender'],'streamId':_0x5e3e59}:void 0x0;}[_0x5a8b1c(0x972)](){const _0xbd526a=_0x5a8b1c,_0x4d05bc={};this[_0xbd526a(0xac6)][_0xbd526a(0x775)]((_0x57aec9,_0xa42fa0)=>{const _0x11caa3=_0xbd526a;_0x4d05bc[_0xa42fa0]=_0x57aec9[_0x11caa3(0x972)]();});const _0x110c56={};return this[_0xbd526a(0x6f6)]['forEach']((_0x3c4865,_0x2c7421)=>{const _0x40607d=_0xbd526a;_0x110c56[_0x2c7421]=_0x3c4865[_0x40607d(0x972)]();}),{'bitrate':this[_0xbd526a(0x822)],'senderBitrate':this[_0xbd526a(0x8fa)],'receiverBitrate':this[_0xbd526a(0x2ef)],'senderStreams':_0x4d05bc,'receiverStreams':_0x110c56,'dataChannel':this[_0xbd526a(0x9b2)][_0xbd526a(0x972)]()};}[_0x5a8b1c(0x462)](_0x330fb7,_0x412db8){const _0x3bbc02=_0x5a8b1c;return this['receiverStreams']['has'](_0x330fb7)||this['receiverStreams'][_0x3bbc02(0x984)](_0x330fb7,new _0x5ce45e()),this['receiverStreams'][_0x3bbc02(0x8a4)](_0x330fb7)['processReports'](_0x412db8);}['processOutboundReports'](_0x2613b8,_0x219060){const _0x1b2335=_0x5a8b1c;return this[_0x1b2335(0xac6)][_0x1b2335(0x149)](_0x2613b8)||this[_0x1b2335(0xac6)][_0x1b2335(0x984)](_0x2613b8,new _0x5ce45e()),this[_0x1b2335(0xac6)]['get'](_0x2613b8)[_0x1b2335(0x89c)](_0x219060);}}class _0x2bd83b{[_0x5a8b1c(0x21a)]=new Map();[_0x5a8b1c(0x90a)]=0x0;['durationTime']=0x0;[_0x5a8b1c(0x369)]=new Map();['objectStores']=new Map();[_0x5a8b1c(0x4c6)]=new Map();['generativeAIContexts']=new Map();[_0x5a8b1c(0xa96)]=new Map();[_0x5a8b1c(0x998)]=new Map();[_0x5a8b1c(0x945)]=new Map();[_0x5a8b1c(0xa12)]=new Map();[_0x5a8b1c(0x1c3)]=new Map();[_0x5a8b1c(0x688)]=new Map();[_0x5a8b1c(0x749)]=new Map();[_0x5a8b1c(0x893)]=new Map();[_0x5a8b1c(0xac1)]=new Map();[_0x5a8b1c(0x625)];[_0x5a8b1c(0x972)](){const _0x355505=_0x5a8b1c,_0x2cebde={};this[_0x355505(0x21a)][_0x355505(0x775)]((_0x4f8a4b,_0x31ffb9)=>{const _0x27d7d8=_0x355505;_0x2cebde[_0x31ffb9]=_0x4f8a4b[_0x27d7d8(0x972)]();});let _0x1ff83e=0x0;this['senderTimeProcessing']['forEach'](_0x618d7c=>{_0x1ff83e+=_0x618d7c;});let _0x3f224e=0x0;this[_0x355505(0x893)]['forEach'](_0x5479d6=>{_0x3f224e+=_0x5479d6;});const _0x118b8a=_0x1ff83e+_0x3f224e;let _0x2a31a8={'messages':{'total':0x0}};this[_0x355505(0xac1)][_0x355505(0x775)](_0x1c910b=>{const _0x2d40f9=_0x355505;Object[_0x2d40f9(0x7f4)](_0x1c910b)['forEach'](_0x1f9bce=>{const _0x4ef59b=_0x2d40f9;_0x2a31a8[_0x1f9bce]||(_0x2a31a8[_0x1f9bce]={}),Object['keys'](_0x1c910b[_0x1f9bce])[_0x4ef59b(0x775)](_0x55d338=>{_0x2a31a8[_0x1f9bce][_0x55d338]||(_0x2a31a8[_0x1f9bce][_0x55d338]=0x0),_0x2a31a8[_0x1f9bce][_0x55d338]+=_0x1c910b[_0x1f9bce][_0x55d338];});});});let _0x490ecb=0x0,_0x2ca3c7=0x0,_0x39ea89=0x0,_0x598d4e=0x0,_0x3b0d27=0x0;return this[_0x355505(0x369)][_0x355505(0x775)](_0x318e99=>{const _0x57780c=_0x355505;_0x2ca3c7+=_0x318e99[_0x57780c(0xae5)],_0x39ea89+=_0x318e99['messagesReceived'],_0x598d4e+=_0x318e99[_0x57780c(0x398)],_0x3b0d27+=_0x318e99[_0x57780c(0xa4c)];}),this[_0x355505(0x62c)][_0x355505(0x775)](_0x148e4f=>{const _0xdf6e8=_0x355505;_0x490ecb+=_0x148e4f[_0xdf6e8(0x824)],_0x2ca3c7+=_0x148e4f[_0xdf6e8(0xae5)],_0x39ea89+=_0x148e4f[_0xdf6e8(0x413)],_0x598d4e+=_0x148e4f[_0xdf6e8(0x398)],_0x3b0d27+=_0x148e4f[_0xdf6e8(0xa4c)];}),this['keyValueDatabases'][_0x355505(0x775)](_0x39ae0d=>{const _0x312351=_0x355505;_0x490ecb+=_0x39ae0d[_0x312351(0x824)],_0x2ca3c7+=_0x39ae0d[_0x312351(0xae5)],_0x39ea89+=_0x39ae0d[_0x312351(0x413)],_0x598d4e+=_0x39ae0d[_0x312351(0x398)],_0x3b0d27+=_0x39ae0d[_0x312351(0xa4c)];}),this[_0x355505(0x51c)]['forEach'](_0x2f9024=>{const _0x59572a=_0x355505;_0x490ecb+=_0x2f9024[_0x59572a(0x824)],_0x2ca3c7+=_0x2f9024[_0x59572a(0xae5)],_0x39ea89+=_0x2f9024[_0x59572a(0x413)],_0x598d4e+=_0x2f9024[_0x59572a(0x398)],_0x3b0d27+=_0x2f9024['bytesReceived'];}),this[_0x355505(0xa96)][_0x355505(0x775)](_0x2cdfbb=>{const _0x469b5f=_0x355505;_0x490ecb+=_0x2cdfbb[_0x469b5f(0x824)],_0x2ca3c7+=_0x2cdfbb[_0x469b5f(0xae5)],_0x39ea89+=_0x2cdfbb[_0x469b5f(0x413)],_0x598d4e+=_0x2cdfbb[_0x469b5f(0x398)],_0x3b0d27+=_0x2cdfbb['bytesReceived'];}),this['vectorDatabases'][_0x355505(0x775)](_0x4c798d=>{const _0x33e660=_0x355505;_0x490ecb+=_0x4c798d[_0x33e660(0x824)],_0x2ca3c7+=_0x4c798d[_0x33e660(0xae5)],_0x39ea89+=_0x4c798d[_0x33e660(0x413)],_0x598d4e+=_0x4c798d[_0x33e660(0x398)],_0x3b0d27+=_0x4c798d[_0x33e660(0xa4c)];}),this[_0x355505(0x945)]['forEach'](_0x464af2=>{const _0x5e77cb=_0x355505;_0x490ecb+=_0x464af2[_0x5e77cb(0x824)],_0x2ca3c7+=_0x464af2[_0x5e77cb(0xae5)],_0x39ea89+=_0x464af2[_0x5e77cb(0x413)],_0x598d4e+=_0x464af2['bytesSent'],_0x3b0d27+=_0x464af2['bytesReceived'];}),{'STVolatility':this[_0x355505(0x64e)](),'DTVolatility':this[_0x355505(0x59a)](),'bitrate':this[_0x355505(0x72a)](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x490ecb,'totalMessages':_0x2ca3c7+_0x39ea89,'totalMessagesSent':_0x2ca3c7,'totalMessagesReceived':_0x39ea89,'totalBytes':_0x598d4e+_0x3b0d27,'totalBytesSent':_0x598d4e,'totalBytesReceived':_0x3b0d27,'systemMessages':_0x2a31a8,'timeProcessing':_0x118b8a,'nodes':_0x2cebde,'pubsubTopics':Object[_0x355505(0x45e)](this[_0x355505(0x369)]),'objectStores':Object[_0x355505(0x45e)](this[_0x355505(0x62c)]),'keyValueDatabases':Object[_0x355505(0x45e)](this[_0x355505(0x4c6)]),'generativeAIContexts':Object[_0x355505(0x45e)](this[_0x355505(0x51c)]),'generativeAIWorkers':Object[_0x355505(0x45e)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x355505(0x45e)](this[_0x355505(0x998)]),'graphDatabases':Object[_0x355505(0x45e)](this['graphDatabases']),'externalStorages':Object[_0x355505(0x45e)](this['externalStorages'])};}[_0x5a8b1c(0x807)](_0x3c9121){const _0x29a77d=_0x5a8b1c;this['nodes'][_0x29a77d(0x984)](_0x3c9121,new _0x15c0ef());}[_0x5a8b1c(0x2a8)](_0x346b7d){const _0x2e52e5=_0x5a8b1c;this[_0x2e52e5(0x21a)][_0x2e52e5(0x1cd)](_0x346b7d);}[_0x5a8b1c(0x89c)](_0x1096a5,_0x4debcb,_0x561542){const _0x49cce2=_0x5a8b1c;_0x4debcb instanceof Array||this[_0x49cce2(0x685)](_0x1096a5,_0x4debcb);const _0x1762f5=this[_0x49cce2(0x21a)][_0x49cce2(0x8a4)](_0x1096a5)?.[_0x49cce2(0x89c)](_0x4debcb,_0x561542);_0x1762f5&&this[_0x49cce2(0x625)][_0x49cce2(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x49cce2(0x85a)],'content':{'type':_0x37f485[_0x49cce2(0x931)],'data':{..._0x1762f5,'nodeId':_0x1096a5}}});}[_0x5a8b1c(0x431)](_0x15573e){const _0x3c0c93=_0x5a8b1c;this[_0x3c0c93(0x83b)](_0x15573e['secheduleTime']),this['setDurationTime'](_0x15573e[_0x3c0c93(0x2b7)]),this[_0x3c0c93(0x625)][_0x3c0c93(0x590)]({'sourceId':_0x4c58af,'messageType':_0x9cb7d1[_0x3c0c93(0x85a)],'content':{'type':_0x37f485['LocalReport'],'data':{'STVolatility':this[_0x3c0c93(0x64e)](),'DTVolatility':this[_0x3c0c93(0x59a)]()}}});}['processServiceReport'](_0x535976,_0x4ae905,_0x236eaa){const _0x189ecc=_0x5a8b1c;switch(_0x4ae905){case _0xae157c[_0x189ecc(0x338)]:this[_0x189ecc(0x369)][_0x189ecc(0x984)](_0x535976,_0x236eaa);break;case _0xae157c[_0x189ecc(0x3cc)]:this[_0x189ecc(0x62c)][_0x189ecc(0x984)](_0x535976,_0x236eaa);break;case _0xae157c[_0x189ecc(0x285)]:this[_0x189ecc(0x4c6)][_0x189ecc(0x984)](_0x535976,_0x236eaa);break;case _0xae157c[_0x189ecc(0x539)]:this[_0x189ecc(0x51c)][_0x189ecc(0x984)](_0x535976,_0x236eaa);break;case _0xae157c[_0x189ecc(0x4a6)]:this['generativeAIWorkers'][_0x189ecc(0x984)](_0x535976,_0x236eaa);break;case _0xae157c[_0x189ecc(0x9fe)]:this[_0x189ecc(0x998)]['set'](_0x535976,_0x236eaa);break;case _0xae157c[_0x189ecc(0x310)]:this[_0x189ecc(0x945)]['set'](_0x535976,_0x236eaa);break;case _0xae157c[_0x189ecc(0x3af)]:this['externalStorages'][_0x189ecc(0x984)](_0x535976,_0x236eaa);}}[_0x5a8b1c(0x3ee)](_0x55f61c){const _0x5e8688=_0x5a8b1c;this[_0x5e8688(0x625)]=_0x55f61c;}[_0x5a8b1c(0x8f7)](){delete this['systemTopic'];}[_0x5a8b1c(0x64e)](){const _0x20f753=_0x5a8b1c;return this['scheduleTime']>0x0&&this['scheduleTime']-_0x29eb55>0x0?(this[_0x20f753(0x90a)]-_0x29eb55)/_0x29eb55:0x0;}[_0x5a8b1c(0x59a)](){const _0x1d9d92=_0x5a8b1c;return this[_0x1d9d92(0x2b7)]>0x0&&this['durationTime']-0x64>0x0?(this[_0x1d9d92(0x2b7)]-0x64)/0x64:0x0;}[_0x5a8b1c(0x779)](){const _0x5516c7=_0x5a8b1c;let _0x46d895=0x0;return this['nodes'][_0x5516c7(0x775)](_0x374134=>{const _0x2f56b2=_0x5516c7;_0x46d895+=_0x374134[_0x2f56b2(0x8fa)];}),_0x46d895;}['getReceiverBitrate'](){const _0x1af05e=_0x5a8b1c;let _0x27e3fb=0x0;return this[_0x1af05e(0x21a)][_0x1af05e(0x775)](_0x259f02=>{const _0x3cfa9a=_0x1af05e;_0x27e3fb+=_0x259f02[_0x3cfa9a(0x2ef)];}),_0x27e3fb;}[_0x5a8b1c(0x72a)](){const _0x1378f4=_0x5a8b1c;let _0x5330d3=0x0;return this[_0x1378f4(0x21a)][_0x1378f4(0x775)](_0x587326=>{const _0xc46f5f=_0x1378f4;_0x5330d3+=_0x587326[_0xc46f5f(0x822)];}),_0x5330d3;}['setScheduleTime'](_0x3b9ed3){const _0x4a464d=_0x5a8b1c;this[_0x4a464d(0x90a)]=_0x3b9ed3;}[_0x5a8b1c(0x78f)](_0x202817){const _0x5aeac9=_0x5a8b1c;this[_0x5aeac9(0x2b7)]=_0x202817;}[_0x5a8b1c(0x685)](_0x3afed0,_0x20a010){const _0x5b8b5d=_0x5a8b1c;switch(_0x20a010[_0x5b8b5d(0x1c0)]){case _0x6b5ab7['Sender']:this[_0x5b8b5d(0x949)](_0x3afed0,_0x20a010);break;case _0x6b5ab7['Receiver']:this[_0x5b8b5d(0x782)](_0x3afed0,_0x20a010);}}[_0x5a8b1c(0x949)](_0x2a5224,_0x1c92af){const _0x3532dc=_0x5a8b1c;this[_0x3532dc(0x1c3)][_0x3532dc(0x984)](_0x2a5224,_0x1c92af[_0x3532dc(0xae5)]),this[_0x3532dc(0x749)][_0x3532dc(0x984)](_0x2a5224,_0x1c92af[_0x3532dc(0x33c)]);}[_0x5a8b1c(0x782)](_0x1a9316,_0x413426){const _0x34b864=_0x5a8b1c;this['receiverTotalMessages'][_0x34b864(0x984)](_0x1a9316,_0x413426['messagesReceived']),this[_0x34b864(0x893)][_0x34b864(0x984)](_0x1a9316,_0x413426['timeReceiving']),this[_0x34b864(0xac1)][_0x34b864(0x984)](_0x1a9316,_0x413426[_0x34b864(0xac1)]);}}class _0x61621e{[_0x5a8b1c(0xab3)];[_0x5a8b1c(0x746)]=new Set();[_0x5a8b1c(0x254)];['statsCollection'];['statsReporting'];[_0x5a8b1c(0x6da)]=new _0x2bd83b();constructor(_0x3ae88a){const _0x19f83d=_0x5a8b1c;this[_0x19f83d(0xab3)]=_0x3ae88a,this[_0x19f83d(0xab3)][_0x19f83d(0x834)][_0x19f83d(0x3b0)](this['statsReport']),this[_0x19f83d(0x1e0)]=this[_0x19f83d(0x218)](),this[_0x19f83d(0x9de)]=this[_0x19f83d(0x2da)]();}['close'](){const _0x468dd5=_0x5a8b1c;this[_0x468dd5(0xab3)][_0x468dd5(0x834)][_0x468dd5(0x16f)](this[_0x468dd5(0x6da)]),this[_0x468dd5(0x9de)](),this[_0x468dd5(0x1e0)]();}[_0x5a8b1c(0x807)](_0x1e23ca){const _0x2dc7b1=_0x5a8b1c;this[_0x2dc7b1(0x746)][_0x2dc7b1(0x20c)](_0x1e23ca),this[_0x2dc7b1(0x6da)][_0x2dc7b1(0x807)](_0x1e23ca);}[_0x5a8b1c(0x2a8)](_0x6c63a2){const _0x1ed604=_0x5a8b1c;this[_0x1ed604(0x746)][_0x1ed604(0x1cd)](_0x6c63a2),this[_0x1ed604(0x6da)]['removeRemoteNode'](_0x6c63a2);}[_0x5a8b1c(0x9c7)](_0x36df70){const _0x31f550=_0x5a8b1c;if(_0x36df70['content'][_0x31f550(0x2a5)]===_0x5e1ebe[_0x31f550(0x85a)]){const {nodeId:_0x34ee09,streamId:_0x512f15,stats:_0x4a35ee}=_0x36df70['content'];this[_0x31f550(0x6da)][_0x31f550(0x89c)](_0x34ee09,_0x4a35ee,_0x512f15);}}['handleContentSystemEvents'](_0xccc8b0){const _0xc5210a=_0x5a8b1c;switch(_0xccc8b0[_0xc5210a(0x2fa)][_0xc5210a(0x2a5)]){case _0xae157c[_0xc5210a(0x3cc)]:case _0xae157c[_0xc5210a(0x285)]:case _0xae157c[_0xc5210a(0x338)]:case _0xae157c['GenerativeAIContextStats']:case _0xae157c[_0xc5210a(0x4a6)]:case _0xae157c['VectorDatabaseStats']:case _0xae157c[_0xc5210a(0x310)]:case _0xae157c[_0xc5210a(0x3af)]:this[_0xc5210a(0x6da)]['processServiceReport'](_0xccc8b0['content'][_0xc5210a(0x19f)],_0xccc8b0['content'][_0xc5210a(0x2a5)],_0xccc8b0[_0xc5210a(0x2fa)][_0xc5210a(0x5d8)]);}}['setupStatsReporting'](){return _0x3d74ea['setInterval'](()=>{const _0x353394=a0_0x2316,_0x53ada4=this[_0x353394(0x6da)]['getReport']();_0x241131[_0x353394(0x2d3)](_0xf47a5[_0x353394(0x85a)],_0x353394(0x5b6),_0x53ada4),(0x0,_0x594922[_0x353394(0x5e1)])((0x0,_0x594922[_0x353394(0x545)])(_0x1b7d72[_0x353394(0x184)](),_0x353394(0x56d)+this['configs'][_0x353394(0x26a)]+_0x353394(0x913)),{'clusterId':this['configs'][_0x353394(0x659)],'nodeId':this[_0x353394(0xab3)][_0x353394(0x650)][_0x353394(0x3dd)](),'nodeType':this[_0x353394(0xab3)][_0x353394(0x650)][_0x353394(0x2a5)],'timestamp':(0x0,_0x594922[_0x353394(0x9c9)])(),'report':_0x53ada4}),_0x241131[_0x353394(0x1e2)](_0x353394(0x5d8),{'clusterId':this[_0x353394(0xab3)][_0x353394(0x659)],'nodeId':this[_0x353394(0xab3)][_0x353394(0x650)][_0x353394(0x3dd)](),'nodeType':this['configs'][_0x353394(0x650)][_0x353394(0x2a5)],'data':{'report':_0x53ada4}});},_0x39106b);}[_0x5a8b1c(0x218)](){const _0x4915f3=_0x5a8b1c;let _0x3afe0c=!0x1,_0x425251=Date[_0x4915f3(0x744)]();return _0x3d74ea[_0x4915f3(0x837)](async()=>{const _0x555006=_0x4915f3;if(_0x3afe0c)return;if(_0x3afe0c=!0x0,0x0===this[_0x555006(0x746)][_0x555006(0xaf1)])return delete this['nextNodeId'],void(_0x3afe0c=!0x1);const _0x67a86f=Date[_0x555006(0x744)]();this['findNextNodeId']();try{await this['configs']['mediator'][_0x555006(0xa0e)](this[_0x555006(0x254)]);}catch(_0x206ee0){}this[_0x555006(0x6da)]['processLocalReport']({'secheduleTime':_0x67a86f-_0x425251,'durationTime':Date[_0x555006(0x744)]()-_0x67a86f}),_0x425251=_0x67a86f,_0x3afe0c=!0x1;},_0x29eb55);}[_0x5a8b1c(0x4bb)](){const _0x9dd4a4=_0x5a8b1c;let _0x36e452,_0x564e2a=!0x1;this[_0x9dd4a4(0x254)]&&(this['remoteNodes'][_0x9dd4a4(0x149)](this[_0x9dd4a4(0x254)])||delete this['nextNodeId']);for(const _0x29073a of this[_0x9dd4a4(0x746)])if(_0x36e452||(_0x36e452=_0x29073a),this['nextNodeId']!==_0x29073a){if(_0x564e2a)return void(this['nextNodeId']=_0x29073a);}else _0x564e2a=!0x0,delete this[_0x9dd4a4(0x254)];this[_0x9dd4a4(0x254)]||(this[_0x9dd4a4(0x254)]=_0x36e452);}}class _0x10393a{[_0x5a8b1c(0x6e5)];[_0x5a8b1c(0x4ce)];[_0x5a8b1c(0x625)];constructor(_0x215a6b,_0x584532){const _0x89591c=_0x5a8b1c;this[_0x89591c(0x6e5)]=_0x215a6b,this[_0x89591c(0x4ce)]=_0x584532;}[_0x5a8b1c(0x3ee)](_0x2121ab){const _0x579817=_0x5a8b1c;this[_0x579817(0x625)]=_0x2121ab;}[_0x5a8b1c(0x8f7)](){const _0x58e7d2=_0x5a8b1c;delete this[_0x58e7d2(0x625)];}}class _0x369c78 extends _0x10393a{['source'];[_0x5a8b1c(0x4ce)];[_0x5a8b1c(0x575)];constructor(_0x324c3a,_0x3161f6,_0x500d44){const _0xf94bf=_0x5a8b1c;super(_0x324c3a,_0x3161f6),this[_0xf94bf(0x6e5)]=_0x324c3a,this[_0xf94bf(0x4ce)]=_0x3161f6,this[_0xf94bf(0x575)]=_0x500d44;}[_0x5a8b1c(0x19a)](_0x4f2029,_0x56cf29,_0x5dbbe2){const _0x5d070a=_0x5a8b1c;if(this[_0x5d070a(0x4ce)][_0x5d070a(0x62f)]()===_0x52baed[_0x5d070a(0xa92)][_0x5d070a(0x852)]){const _0x4dc12c={'type':_0x22bb2e['SubscribeMediaStream'],'label':this[_0x5d070a(0x4ce)][_0x5d070a(0x211)](),'ownerId':_0x4f2029,'trackKinds':_0x56cf29??this[_0x5d070a(0x4ce)]['getAvailableTrackKinds'](),'params':_0x5dbbe2};this[_0x5d070a(0x625)][_0x5d070a(0x590)]({'sourceId':this[_0x5d070a(0x6e5)][_0x5d070a(0x9a8)](),'destinationIds':[this['source'][_0x5d070a(0x8fd)]()],'messageType':_0x9cb7d1[_0x5d070a(0x2cf)],'content':_0x4dc12c}),this['params']=_0x5dbbe2;}}[_0x5a8b1c(0xafb)](_0x1363e6,_0x4f07e0){const _0x372464=_0x5a8b1c;if(this[_0x372464(0x4ce)]['getContentType']()===_0x52baed['ContentType'][_0x372464(0x852)]){const _0x36540a={'type':_0x22bb2e[_0x372464(0x790)],'label':this[_0x372464(0x4ce)][_0x372464(0x211)](),'ownerId':_0x1363e6,'params':_0x4f07e0};this['systemTopic'][_0x372464(0x590)]({'sourceId':this[_0x372464(0x6e5)][_0x372464(0x9a8)](),'destinationIds':[this[_0x372464(0x6e5)]['getRemoteId']()],'messageType':_0x9cb7d1[_0x372464(0x2cf)],'content':_0x36540a}),this[_0x372464(0x575)]=_0x4f07e0;}}['unsubscribe'](_0x23bf90,_0x30f4f6,_0x3270b6){const _0x363d36=_0x5a8b1c;if(this['destination'][_0x363d36(0x62f)]()===_0x52baed['ContentType'][_0x363d36(0x852)]){const _0x207482={'type':_0x22bb2e[_0x363d36(0x9ed)],'label':this[_0x363d36(0x4ce)][_0x363d36(0x211)](),'ownerId':_0x23bf90,'trackKinds':_0x3270b6??this[_0x363d36(0x4ce)][_0x363d36(0x291)](),'remainingTracks':_0x30f4f6};this[_0x363d36(0x625)]['publish']({'sourceId':this[_0x363d36(0x6e5)][_0x363d36(0x9a8)](),'destinationIds':[this['source'][_0x363d36(0x8fd)]()],'messageType':_0x9cb7d1['Subscription'],'content':_0x207482});}}}class _0x3d7c4e{[_0x5a8b1c(0x3cd)];[_0x5a8b1c(0x679)];[_0x5a8b1c(0x3bb)];[_0x5a8b1c(0x625)];[_0x5a8b1c(0x401)]=new Set();[_0x5a8b1c(0x231)]=Date[_0x5a8b1c(0x744)]();[_0x5a8b1c(0x575)];['retryCount']=0x0;constructor(_0x4740a6,_0x295a38,_0x4af63b,_0xd7672a){const _0xe2939c=_0x5a8b1c;this['currentDistance']=_0x295a38,this[_0xe2939c(0x679)]=_0x4af63b,this['tracks']=_0xd7672a,_0x4740a6['forEach'](_0x5b255b=>{const _0x5c4049=_0xe2939c;this[_0x5c4049(0x401)][_0x5c4049(0x20c)]({'nodeId':_0x5b255b,'type':_0x42e207['Waiting']});});}['getTracks'](){const _0x2c7cca=_0x5a8b1c;return this[_0x2c7cca(0x3bb)];}[_0x5a8b1c(0x3ee)](_0x21eda4){const _0x2db257=_0x5a8b1c;this[_0x2db257(0x625)]=_0x21eda4;}[_0x5a8b1c(0x8f7)](){const _0x4df5e7=_0x5a8b1c;delete this[_0x4df5e7(0x625)];}[_0x5a8b1c(0xb32)](_0x32a9f3,_0x1e0ac6){const _0x1cbcd0=_0x5a8b1c;this[_0x1cbcd0(0x231)]=Date[_0x1cbcd0(0x744)](),this[_0x1cbcd0(0x401)][_0x1cbcd0(0x5a9)](),_0x32a9f3[_0x1cbcd0(0x775)](_0x3d1044=>{const _0x18e9d1=_0x1cbcd0;this['answers'][_0x18e9d1(0x20c)]({'nodeId':_0x3d1044,'type':_0x42e207['Waiting']});}),this[_0x1cbcd0(0x4f2)]+=0x1,this[_0x1cbcd0(0x3cd)]=_0x1e0ac6;}[_0x5a8b1c(0x440)](_0x57632e,_0x34d8de,_0x210ee6,_0x48d84d,_0x13f431){const _0x457ce8=_0x5a8b1c;if(this[_0x457ce8(0x4f2)]>0xa)throw new _0xdb384(_0xdb384[_0x457ce8(0x549)][_0x457ce8(0x74d)],{'answers':Array['from'](this[_0x457ce8(0x401)])['map'](_0x518236=>({'nodeId':_0x518236[_0x457ce8(0x841)],'type':_0x518236[_0x457ce8(0x2a5)]}))});const _0x473a53=Array[_0x457ce8(0x47c)](this[_0x457ce8(0x401)])['map'](_0x4b2177=>_0x4b2177[_0x457ce8(0x841)]);this[_0x457ce8(0x575)]=_0x13f431,this['systemTopic'][_0x457ce8(0x590)]({'sourceId':_0x57632e,'destinationIds':_0x473a53,'messageType':_0x9cb7d1[_0x457ce8(0x2cf)],'content':{'type':_0x22bb2e[_0x457ce8(0x7ac)],'label':_0x210ee6,'ownerId':_0x34d8de,'trackKinds':_0x48d84d,'params':_0x13f431}}),_0x241131[_0x457ce8(0x2d3)](_0xf47a5[_0x457ce8(0x2cf)],_0x457ce8(0x80e),_0x57632e,_0x473a53);}['handleSubscriptionSystemEvents'](_0x2e579b,_0x23b60e){const _0x2cacfe=_0x5a8b1c;switch(_0x23b60e['type']){case _0x22bb2e[_0x2cacfe(0x3a7)]:{const _0x265355=this['currentDistance']>=_0x23b60e[_0x2cacfe(0x640)]&&_0x23b60e[_0x2cacfe(0x640)]<=this[_0x2cacfe(0x679)],_0x540bab=Array[_0x2cacfe(0x47c)](this[_0x2cacfe(0x401)])[_0x2cacfe(0x5dd)](_0x1b35d6=>_0x1b35d6[_0x2cacfe(0x841)]===_0x2e579b);_0x540bab[_0x2cacfe(0x2a5)]=_0x265355?_0x42e207['Accepted']:_0x42e207['Rejected'],_0x540bab['cost']=_0x23b60e[_0x2cacfe(0xa65)],_0x540bab[_0x2cacfe(0x640)]=_0x23b60e[_0x2cacfe(0x640)],_0x540bab[_0x2cacfe(0x58c)]=_0x23b60e['streamId'],_0x540bab[_0x2cacfe(0x8a6)]=Date['now']()-this[_0x2cacfe(0x231)],_0x540bab[_0x2cacfe(0x575)]=this['params'],_0x540bab[_0x2cacfe(0x5c6)]=_0x23b60e['ownerId'],_0x540bab[_0x2cacfe(0x190)]=_0x23b60e[_0x2cacfe(0x190)],_0x540bab[_0x2cacfe(0xa41)]=_0x23b60e[_0x2cacfe(0x19f)],_0x241131[_0x2cacfe(0x2d3)](_0xf47a5[_0x2cacfe(0x2cf)],(_0x265355?_0x2cacfe(0x699):_0x2cacfe(0x9b5))+_0x2cacfe(0x9fb),_0x540bab);break;}case _0x22bb2e['CannotProvideMediaStream']:{const _0x149420=Array[_0x2cacfe(0x47c)](this[_0x2cacfe(0x401)])[_0x2cacfe(0x5dd)](_0x58ab0f=>_0x58ab0f['nodeId']===_0x2e579b);_0x149420[_0x2cacfe(0x2a5)]=_0x42e207[_0x2cacfe(0x9b5)],_0x241131['log'](_0xf47a5['Subscription'],_0x2cacfe(0x25a),_0x149420);break;}}if(this[_0x2cacfe(0x24f)]())return this['chooseAnswer']();}[_0x5a8b1c(0x598)](){const _0x2c5fa8=_0x5a8b1c,_0x2ae1cd=Array[_0x2c5fa8(0x47c)](this[_0x2c5fa8(0x401)])[_0x2c5fa8(0x930)](_0x53d1c3=>_0x53d1c3[_0x2c5fa8(0x2a5)]===_0x42e207[_0x2c5fa8(0x699)])['sort']((_0x3da7ce,_0x417ee2)=>_0x3da7ce[_0x2c5fa8(0xa65)]===_0x417ee2['cost']?_0x3da7ce['roundTripTime']-_0x417ee2[_0x2c5fa8(0x8a6)]:_0x3da7ce[_0x2c5fa8(0xa65)]-_0x417ee2[_0x2c5fa8(0xa65)]);if(0x0===_0x2ae1cd[_0x2c5fa8(0xa39)])throw new _0xdb384(_0xdb384[_0x2c5fa8(0x549)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x2c5fa8(0x47c)](this[_0x2c5fa8(0x401)])[_0x2c5fa8(0x3d5)](_0x323c4f=>({'nodeId':_0x323c4f[_0x2c5fa8(0x841)],'type':_0x323c4f[_0x2c5fa8(0x2a5)]}))});return _0x241131[_0x2c5fa8(0x2d3)](_0xf47a5[_0x2c5fa8(0x2cf)],'Chosen\x20answer',_0x2ae1cd[0x0],this[_0x2c5fa8(0x401)]),_0x2ae1cd[0x0];}['canChooseAnswer'](){const _0x2449e4=_0x5a8b1c;for(const _0x1f6ee2 of this[_0x2449e4(0x401)])if(_0x1f6ee2[_0x2449e4(0x2a5)]===_0x42e207['Waiting'])return!0x1;return!0x0;}}class _0x214beb{['label'];[_0x5a8b1c(0x2d0)];[_0x5a8b1c(0xb09)]=_0x28f8fd();constructor(_0x4a123e,_0x5f284d){const _0x46389e=_0x5a8b1c;this['label']=_0x4a123e,this[_0x46389e(0x2d0)]=_0x5f284d;}[_0x5a8b1c(0x211)](){const _0x1ed01b=_0x5a8b1c;return this[_0x1ed01b(0x19f)];}[_0x5a8b1c(0x62f)](){const _0x24d3ec=_0x5a8b1c;return this[_0x24d3ec(0x2d0)];}[_0x5a8b1c(0xb39)](_0x50252f){const _0x35f8a9=_0x5a8b1c;_0x50252f[_0x35f8a9(0x6fa)](this);}[_0x5a8b1c(0x8c2)](_0x159a55){const _0x181e74=_0x5a8b1c;_0x159a55[_0x181e74(0x230)](this);}[_0x5a8b1c(0x590)](_0x2cddb4){const _0x2487dc=_0x5a8b1c;this[_0x2487dc(0xb09)][_0x2487dc(0x590)]({'topicLabel':this[_0x2487dc(0x19f)],'contentType':this[_0x2487dc(0x2d0)],'uuid':(0x0,_0x4804e8['v4'])(),'recipients':[],..._0x2cddb4});}['subscribe'](_0x16f221){const _0xe162b1=_0x5a8b1c;return this[_0xe162b1(0xb09)]['subscribe'](_0x16f221);}['unregisterSource'](_0x40c2f3){const _0x406eeb=_0x5a8b1c;_0x40c2f3[_0x406eeb(0x845)](this);}['unregisterDestination'](_0x4113a6){const _0x6ec7ad=_0x5a8b1c;_0x4113a6[_0x6ec7ad(0x3b4)](this);}}class _0x276595{['maps']={'topics':new Map(),'subscriptions':new Map()};[_0x5a8b1c(0x6aa)];constructor(_0x13faed){const _0x2e1a50=_0x5a8b1c;this[_0x2e1a50(0x6aa)]=_0x13faed;}get[_0x5a8b1c(0x3a4)](){const _0x557d51=_0x5a8b1c;return this[_0x557d51(0x2c9)]['subscriptions'];}get[_0x5a8b1c(0x42a)](){const _0x4a19bf=_0x5a8b1c;return this[_0x4a19bf(0x2c9)][_0x4a19bf(0x42a)];}[_0x5a8b1c(0x75e)](_0x349af4,_0x1cff20){const _0x321e79=_0x5a8b1c,_0x480194=this[_0x321e79(0x6aa)](_0x1cff20),_0x4cd24b=_0x29a955(_0x349af4);if(!_0x480194[_0x321e79(0x1e5)])throw new _0xdb384(_0xdb384[_0x321e79(0x549)]['InvalidSubscription'],{'message':_0x4cd24b+':\x20'+_0x480194[_0x321e79(0x1e1)]+_0x321e79(0xab6)+_0x480194[_0x321e79(0x2d0)],'subscriptionType':_0x349af4,'subscription':_0x1cff20,'subscriptonParts':_0x480194});const _0x5d93e8=_0x4edddb(_0x349af4,_0x480194);if(this[_0x321e79(0x2c9)][_0x321e79(0x3a4)][_0x321e79(0x149)](_0x5d93e8))throw new _0xdb384(_0xdb384[_0x321e79(0x549)][_0x321e79(0xa4a)],{'message':_0x4cd24b+':\x20'+_0x5d93e8+_0x321e79(0x97c),'subscriptionType':_0x349af4,'subscription':_0x1cff20,'subscriptonParts':_0x480194});this[_0x321e79(0x2c9)][_0x321e79(0x3a4)]['set'](_0x5d93e8,_0x1cff20),this[_0x321e79(0xa7a)](_0x480194,_0x1cff20);}[_0x5a8b1c(0x96b)](_0xc18e75,_0x33cf09){const _0x525425=_0x5a8b1c,_0x67f977=_0x4edddb(_0x33cf09,_0xc18e75),_0x3ed851=this['maps'][_0x525425(0x3a4)][_0x525425(0x8a4)](_0x67f977);if(!_0x3ed851)throw new _0xdb384(_0xdb384[_0x525425(0x549)][_0x525425(0xa4a)],{'message':_0x29a955(_0x33cf09)+':\x20'+_0x67f977+'\x20does\x20not\x20exists','subscriptionType':_0x33cf09,'subscription':_0x3ed851,'subscriptonParts':_0xc18e75});this[_0x525425(0x702)](_0x3ed851,_0x67f977,_0xc18e75);}[_0x5a8b1c(0x702)](_0xb337d5,_0x1baac0,_0x35d992){const _0x250462=_0x5a8b1c;_0x35d992=_0x35d992||this['getPartsFromSubscription'](_0xb337d5),this[_0x250462(0x2c9)][_0x250462(0x3a4)][_0x250462(0x1cd)](_0x1baac0),this[_0x250462(0x617)](_0x35d992,_0xb337d5);}[_0x5a8b1c(0xa7a)](_0x4c9c49,{source:_0x359d63,destination:_0x5dee55}){const _0x476283=_0x5a8b1c,{contentType:_0x5e53b2,label:_0x666d83,remoteId:_0x347e9c}=_0x4c9c49,_0x3db739=_0xc3bbef(_0x5e53b2,_0x666d83,_0x347e9c),_0x1c1dda=new _0x214beb(_0x3db739,_0x5e53b2);_0x1c1dda[_0x476283(0xb39)](_0x359d63),_0x1c1dda[_0x476283(0x8c2)](_0x5dee55),this[_0x476283(0x2c9)][_0x476283(0x42a)][_0x476283(0x984)](_0x1c1dda[_0x476283(0x211)](),_0x1c1dda);}['removeTopic'](_0x55dc3f,_0x2e6ac6){const _0x318ec2=_0x5a8b1c,{contentType:_0x18dfce,label:_0x358c19,remoteId:_0x48e82c}=_0x55dc3f,_0x3c98c0=_0xc3bbef(_0x18dfce,_0x358c19,_0x48e82c),_0x27b1e3=this[_0x318ec2(0x2c9)][_0x318ec2(0x42a)][_0x318ec2(0x8a4)](_0x3c98c0);_0x27b1e3&&(this[_0x318ec2(0xac9)](_0x27b1e3,_0x2e6ac6),this[_0x318ec2(0x2c9)][_0x318ec2(0x42a)][_0x318ec2(0x1cd)](_0x3c98c0));}['closeTopic'](_0x41ccf3,{source:_0x4e62f6,destination:_0x2f3e88}){const _0x164d78=_0x5a8b1c;_0x41ccf3['unregisterSource'](_0x4e62f6),_0x41ccf3[_0x164d78(0x137)](_0x2f3e88);}['removeSubscriptionsForNode'](_0x5af012){const _0x519a17=_0x5a8b1c;this[_0x519a17(0x2c9)][_0x519a17(0x3a4)][_0x519a17(0x775)]((_0x1168dc,_0x3faddd)=>{const _0x9b8dd4=_0x519a17;_0x3faddd['endsWith'](_0x5af012)&&this[_0x9b8dd4(0x702)](_0x1168dc,_0x3faddd);});}}class _0x47c58b{[_0x5a8b1c(0xab3)];[_0x5a8b1c(0x679)];[_0x5a8b1c(0x1df)]=new Map();[_0x5a8b1c(0xa0b)]=_0x2df630(new _0x17e78e(this[_0x5a8b1c(0x6bc)]['bind'](this),()=>_0x3d74ea[_0x5a8b1c(0x47e)](0x64)),!0x0);[_0x5a8b1c(0x796)]=new Map();[_0x5a8b1c(0x2c9)];[_0x5a8b1c(0x559)]=new Map();constructor(_0x32cc50,_0x11e991){const _0x4c64c9=_0x5a8b1c;this['configs']=_0x32cc50,this[_0x4c64c9(0x679)]=_0x11e991,this['maps']=new _0x276595(({source:_0xf28e17,destination:_0x118f19})=>_0x4acf58(_0x118f19,_0xf28e17));}[_0x5a8b1c(0x75e)](_0x2eeb48,_0x998549){const _0x24b34b=_0x5a8b1c,_0x138560=this['isMediaSource'](_0x2eeb48)&&this['isMediaDestination'](_0x998549)?new _0x369c78(_0x2eeb48,_0x998549):new _0x10393a(_0x2eeb48,_0x998549);this[_0x24b34b(0x2c9)][_0x24b34b(0x75e)](_0x1ba924[_0x24b34b(0x714)],_0x138560),this[_0x24b34b(0xab3)][_0x24b34b(0x834)][_0x24b34b(0x3b0)](_0x138560);}[_0x5a8b1c(0x96b)](_0x3bde78,_0x511b8d,_0x550957=''){const _0x34697d=_0x5a8b1c,_0x1fa91b={'contentType':_0x511b8d,'label':_0x3bde78,'remoteId':_0x550957},_0x41abfb=_0x4edddb(_0x1ba924['Incoming'],_0x1fa91b),_0xacd7c8=this[_0x34697d(0x2c9)][_0x34697d(0x3a4)][_0x34697d(0x8a4)](_0x41abfb);_0xacd7c8&&this[_0x34697d(0x702)](_0xacd7c8,_0x41abfb);}[_0x5a8b1c(0x9c0)](_0x51f957){const _0xeed76=_0x5a8b1c;this[_0xeed76(0x255)](_0x51f957);}[_0x5a8b1c(0x552)]({label:_0x243c08,ownerId:_0x837f9c,trackKinds:_0x31791d,params:_0x4f4d50}){const _0x4fb3ea=_0x5a8b1c;this[_0x4fb3ea(0x325)](_0x243c08,_0x837f9c,_0x31791d,_0x4f4d50);}[_0x5a8b1c(0x9a7)]({ownerId:_0xb19af,label:_0x212efe,params:_0x231d98}){const _0x686192=_0x5a8b1c,{subscriptionLabel:_0xa4e744}=this[_0x686192(0x703)](_0x212efe,_0xb19af),_0xbb14c9=this[_0x686192(0x29d)](_0xa4e744);_0xbb14c9&&_0xbb14c9[_0x686192(0xafb)](_0xb19af,_0x231d98);}[_0x5a8b1c(0x357)]({ownerId:_0xf3dcbc,label:_0x3172bf,trackKinds:_0x553d64,remainingTracks:_0x1cfffd}){const _0x240622=_0x5a8b1c,_0x2f6964=_0x4edddb(_0x1ba924['Incoming'],{'contentType':_0x52baed[_0x240622(0xa92)][_0x240622(0x852)],'label':_0x3172bf,'remoteId':_0xf3dcbc});this[_0x240622(0x622)](_0x2f6964);const _0x5afd1c=this['subscriptionRequests']['get'](_0x2f6964);_0x5afd1c&&(this['configs']['mediator'][_0x240622(0x16f)](_0x5afd1c),this[_0x240622(0x1df)][_0x240622(0x1cd)](_0x2f6964));const {parts:_0x209a79,subscriptionLabel:_0x2e1a72}=this[_0x240622(0x703)](_0x3172bf,_0xf3dcbc),_0x19949f=this[_0x240622(0x29d)](_0x2e1a72);_0x19949f&&(_0x19949f[_0x240622(0xa68)](_0xf3dcbc,_0x1cfffd,_0x553d64),0x0===_0x1cfffd&&this[_0x240622(0x96b)](_0x209a79[_0x240622(0x19f)],_0x209a79[_0x240622(0x2d0)],_0x209a79[_0x240622(0x1e1)]));}[_0x5a8b1c(0x5a0)](_0x7f1b4e,{label:_0x2951c8,ownerId:_0x1840cf,trackKinds:_0x196036,streamId:_0x491660,params:_0x1b6956}){const _0x2d6a3e=_0x5a8b1c,_0x1a7a3a=_0x4edddb(_0x1ba924['Incoming'],{'contentType':_0x52baed[_0x2d6a3e(0xa92)][_0x2d6a3e(0x852)],'label':_0x491660,'remoteId':_0x7f1b4e}),_0x2e94d4=this[_0x2d6a3e(0x2c9)][_0x2d6a3e(0x3a4)][_0x2d6a3e(0x8a4)](_0x1a7a3a);if(!(_0x2e94d4&&_0x2e94d4 instanceof _0x369c78))throw new _0xdb384(_0xdb384[_0x2d6a3e(0x549)]['SubscriptionRequestDoesNotExist'],{'label':_0x1a7a3a,'ownerId':_0x1840cf});this['closeSubscription'](_0x2e94d4,_0x1a7a3a),this[_0x2d6a3e(0x325)](_0x2951c8,_0x1840cf,_0x196036,_0x1b6956);}[_0x5a8b1c(0x4bf)](_0x25e1e3,_0x2e5fb7){const _0x357748=_0x5a8b1c,{label:_0xd72c1b,ownerId:_0x1631d5,trackKinds:_0x4d15ca,params:_0x452047}=_0x2e5fb7,_0x5c5c13=_0x4edddb(_0x1ba924[_0x357748(0x714)],{'contentType':_0x52baed['ContentType'][_0x357748(0x852)],'label':_0xd72c1b,'remoteId':_0x1631d5});if(!this[_0x357748(0x1df)][_0x357748(0x149)](_0x5c5c13))throw new _0xdb384(_0xdb384[_0x357748(0x549)][_0x357748(0x240)],{'label':_0x5c5c13,'ownerId':_0x1631d5,'streamId':_0x2e5fb7[_0x357748(0x58c)],'requests':this[_0x357748(0x1df)]});const _0xd15c0=this[_0x357748(0x1df)]['get'](_0x5c5c13);if(_0x4d15ca['length']===_0xd15c0['getTracks']()[_0x357748(0xa39)]&&_0x4d15ca[_0x357748(0x48f)](_0x49e5e2=>_0xd15c0['getTracks']()[_0x357748(0x595)](_0x49e5e2)))try{const _0x527de2=_0xd15c0['handleSubscriptionSystemEvents'](_0x25e1e3,_0x2e5fb7);if(!_0x527de2)return;this['subscribe'](_0x527de2,_0x1631d5,_0xd72c1b,_0x5c5c13,_0x4d15ca);}catch(_0x204f44){return void this['handleNoAnswer'](_0xd72c1b,_0x1631d5,_0x4d15ca,_0x452047);}}[_0x5a8b1c(0x8c6)](_0x1b46e8,{label:_0xa37084,ownerId:_0x99f5b8,trackKinds:_0x383690}){const _0x43f29c=_0x5a8b1c,_0x16ee61=this[_0x43f29c(0xab3)][_0x43f29c(0x834)]['getRemoteMediaStream'](_0x99f5b8,_0xa37084);if(!_0x16ee61)return;const _0x4a583c=_0x16ee61[_0x43f29c(0x327)](),_0x5f3034=_0x16ee61['getSubscribedTracks']();_0x5f3034[_0x43f29c(0x707)](_0x59880d=>_0x383690[_0x43f29c(0x595)](_0x59880d))&&this[_0x43f29c(0x4a8)](_0x1b46e8,_0xa37084,_0x4a583c,_0x99f5b8,_0x5f3034);}[_0x5a8b1c(0x20b)]({label:_0x38c044,providerId:_0x1362bc,ownerId:_0x2dc549,streamId:_0x346add,trackKinds:_0x431610}){const _0x716482=_0x5a8b1c;this[_0x716482(0x4a8)](_0x1362bc,_0x38c044,_0x346add,_0x2dc549,_0x431610);}['handleOptimizationConnectionSuccess'](_0x3fef1c){const _0x5e55c9=_0x5a8b1c;for(const _0x42918e of this['chosenAnswers'][_0x5e55c9(0x4c2)]()){const {streamLabel:_0x139fdd,ownerId:_0x2d43b5,trackKinds:_0x4b9f2c,params:_0x5c5491}=_0x42918e;if(!_0x2d43b5||!_0x4b9f2c||!_0x139fdd)return;this[_0x5e55c9(0xa0b)][_0x5e55c9(0x3a9)]({'label':_0x139fdd,'ownerId':_0x2d43b5,'trackKinds':_0x4b9f2c,'params':_0x5c5491,'remoteId':_0x3fef1c});}}[_0x5a8b1c(0x1ab)](_0x23c155){const _0x819c4c=_0x5a8b1c;this[_0x819c4c(0x2c9)][_0x819c4c(0x3a4)][_0x819c4c(0x775)]((_0x107cbf,_0x208c6e)=>{const _0x3252d6=_0x819c4c;if(_0x208c6e[_0x3252d6(0x13d)](_0x23c155)){if(_0x107cbf[_0x3252d6(0x4ce)]['getContentType']()===_0x52baed[_0x3252d6(0xa92)]['Media']){const _0x39f14d=_0x107cbf['destination'];if(_0x39f14d[_0x3252d6(0x41e)]()[_0x3252d6(0xa39)]>0x0){const _0x567b09={'type':_0x22bb2e[_0x3252d6(0x6fc)],'label':_0x39f14d['getLabel'](),'ownerId':_0x39f14d[_0x3252d6(0x770)](),'trackKinds':_0x39f14d[_0x3252d6(0x41e)]()};return void this[_0x3252d6(0x8c6)](_0x23c155,_0x567b09);}}this[_0x3252d6(0x702)](_0x107cbf,_0x208c6e);}});}['close'](){const _0x418a46=_0x5a8b1c;this['maps'][_0x418a46(0x3a4)][_0x418a46(0x775)](this[_0x418a46(0x702)]['bind'](this));}['subscribe'](_0x33ba50,_0x3a62e9,_0x5c1a6b,_0x835d88,_0x224165){const _0x30cada=_0x5a8b1c,_0x107928=this[_0x30cada(0xab3)][_0x30cada(0x834)]['getConnection'](_0x33ba50[_0x30cada(0x841)]),_0x2351cb=this['configs'][_0x30cada(0x834)][_0x30cada(0x2bb)](_0x3a62e9,_0x5c1a6b);this[_0x30cada(0x622)](_0x835d88),this[_0x30cada(0x1df)][_0x30cada(0x149)](_0x835d88)&&(this['configs'][_0x30cada(0x834)][_0x30cada(0x16f)](this[_0x30cada(0x1df)]['get'](_0x835d88)),this['subscriptionRequests']['delete'](_0x835d88)),this['cleanOldSubscription'](_0x33ba50,_0x3a62e9,_0x5c1a6b,_0x2351cb),_0x2351cb[_0x30cada(0x94e)](_0x33ba50[_0x30cada(0x58c)]),_0x2351cb[_0x30cada(0x3f8)](_0x33ba50[_0x30cada(0x841)]);const _0xa95318=_0x4acf58(_0x2351cb,_0x107928),_0xb174cc=_0x4edddb(_0x1ba924[_0x30cada(0x714)],_0xa95318);this[_0x30cada(0x2c9)][_0x30cada(0x3a4)][_0x30cada(0x149)](_0xb174cc)||this[_0x30cada(0x75e)](_0x107928,_0x2351cb);const _0x56ba9e=this[_0x30cada(0x2c9)][_0x30cada(0x3a4)]['get'](_0xb174cc);if(!(_0x56ba9e&&_0x56ba9e instanceof _0x369c78))throw new _0xdb384(_0xdb384['codes'][_0x30cada(0x240)],{'label':_0x835d88,'ownerId':_0x3a62e9});_0x241131[_0x30cada(0x1e2)](_0x30cada(0x99a),{'clusterId':this[_0x30cada(0xab3)][_0x30cada(0x659)],'nodeId':this[_0x30cada(0xab3)]['localNode'][_0x30cada(0x3dd)](),'nodeType':this[_0x30cada(0xab3)]['localNode']['type'],'data':{'subscriptionLabel':_0xb174cc,'chosenAnswer':_0x33ba50}}),this[_0x30cada(0x559)][_0x30cada(0x984)](_0xb174cc,_0x33ba50),_0x56ba9e[_0x30cada(0x19a)](_0x3a62e9,_0x224165,_0x33ba50[_0x30cada(0x575)]);}['removeRemoteStreamSubscription']({ownerId:_0x4849d2,label:_0x19f2e9}){const _0x2e1d44=_0x5a8b1c,_0x5a0e03=this[_0x2e1d44(0xab3)]['mediator'][_0x2e1d44(0x2bb)](_0x4849d2,_0x19f2e9),[_0x5bab6c,_0xa8d58d]=Array['from'](this[_0x2e1d44(0x2c9)][_0x2e1d44(0x3a4)][_0x2e1d44(0x322)]())['find'](([_0xe97744,_0x47fff3])=>-0x1!==_0xe97744['indexOf'](_0x5a0e03['getInternalStreamId']()));return this[_0x2e1d44(0x702)](_0xa8d58d,_0x5bab6c);}[_0x5a8b1c(0x702)](_0x295a5a,_0x4f70c2){const _0x3d4e3d=_0x5a8b1c;this[_0x3d4e3d(0xab3)][_0x3d4e3d(0x834)][_0x3d4e3d(0x16f)](_0x295a5a),this[_0x3d4e3d(0x2c9)][_0x3d4e3d(0x702)](_0x295a5a,_0x4f70c2);}['isMediaSource'](_0xc3d131){const _0x378e8b=_0x5a8b1c;return _0xc3d131['getSupportedContentTypes']()['includes'](_0x52baed[_0x378e8b(0xa92)][_0x378e8b(0x852)]);}['isMediaDestination'](_0x545836){const _0x14d88b=_0x5a8b1c;return _0x545836[_0x14d88b(0x62f)]()===_0x52baed[_0x14d88b(0xa92)]['Media'];}async[_0x5a8b1c(0x2b9)](_0x73093b,_0x1ca96d,_0xa0ddba,_0x50d239){const _0xb9af32=_0x5a8b1c;await _0x3d74ea[_0xb9af32(0x47e)](0x3e8);const _0x1ff5a9=_0x4edddb(_0x1ba924['Incoming'],{'contentType':_0x52baed[_0xb9af32(0xa92)][_0xb9af32(0x852)],'label':_0x73093b,'remoteId':_0x1ca96d});this[_0xb9af32(0x622)](_0x1ff5a9);const _0x4a395f=this['subscriptionRequests'][_0xb9af32(0x8a4)](_0x1ff5a9);if(!_0x4a395f)throw new _0xdb384(_0xdb384[_0xb9af32(0x549)][_0xb9af32(0x240)],{'label':_0x1ff5a9,'ownerId':_0x1ca96d});const _0x4ec94f=this[_0xb9af32(0xab3)][_0xb9af32(0x834)][_0xb9af32(0x93d)](_0x4876d6=>_0x4876d6['isConnected']()),_0x28e30d=this['configs'][_0xb9af32(0x834)][_0xb9af32(0x633)](this[_0xb9af32(0xab3)][_0xb9af32(0x650)]['getId'](),_0x1ca96d);_0x4a395f[_0xb9af32(0xb32)](_0x4ec94f[_0xb9af32(0x3d5)](_0x490a6b=>_0x490a6b[_0xb9af32(0x8fd)]()),_0x28e30d);try{_0x4a395f['sendRequest'](this[_0xb9af32(0xab3)][_0xb9af32(0x650)][_0xb9af32(0x3dd)](),_0x1ca96d,_0x73093b,_0xa0ddba,_0x50d239),this[_0xb9af32(0x37d)](_0x73093b,_0x1ca96d,_0xa0ddba,_0x50d239,_0x1ff5a9,_0x4a395f);}catch(_0x44d671){this[_0xb9af32(0xa0b)]['push']({'label':_0x73093b,'ownerId':_0x1ca96d,'trackKinds':_0xa0ddba,'params':_0x50d239});}}[_0x5a8b1c(0x325)](_0x5cdb27,_0xa2fcbc,_0x455527,_0x2bd079){const _0x5268d5=_0x5a8b1c;this[_0x5268d5(0xa0b)][_0x5268d5(0x3a9)]({'label':_0x5cdb27,'ownerId':_0xa2fcbc,'trackKinds':_0x455527,'params':_0x2bd079});}[_0x5a8b1c(0x6bc)]({label:_0x329563,ownerId:_0x59da4f,trackKinds:_0x23eb62,params:_0x5ba81b,remoteId:_0x3aabd0}){const _0x52593d=_0x5a8b1c;if(!this['configs'][_0x52593d(0x834)][_0x52593d(0x2bb)](_0x59da4f,_0x329563))return;if(!this[_0x52593d(0xab3)][_0x52593d(0x834)][_0x52593d(0x39e)]()[_0x52593d(0x37a)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x3aabd0){const _0x49eb7c=this[_0x52593d(0xab3)][_0x52593d(0x834)][_0x52593d(0x43d)]()[_0x52593d(0x5dd)](_0x3ef8f7=>_0x3ef8f7['getId']()===_0x3aabd0),_0x2fbb44=_0x49eb7c?.[_0x52593d(0x37a)]();if(!_0x49eb7c||!_0x2fbb44)throw new Error('Missing\x20remote\x20node\x20or\x20rank');const _0x4cb008=this['configs'][_0x52593d(0x834)]['getRemoteNodes']()[_0x52593d(0x5dd)](_0x5aa90a=>_0x5aa90a[_0x52593d(0x3dd)]()===_0x59da4f),_0x4a8e30=_0x4cb008?.['getRank']();if(!_0x4cb008||!_0x4a8e30)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x3cbc49=this[_0x52593d(0x559)][_0x52593d(0x8a4)](_0x329563);if(_0x3cbc49){const _0x35f458=this[_0x52593d(0xab3)][_0x52593d(0x834)][_0x52593d(0x43d)]()[_0x52593d(0x5dd)](_0x4b1400=>_0x4b1400[_0x52593d(0x3dd)]()===_0x3cbc49[_0x52593d(0x841)]),_0x108896=_0x35f458?.[_0x52593d(0x37a)]();if(!_0x35f458||!_0x108896)throw new Error(_0x52593d(0x92d));if(Math[_0x52593d(0x7d6)](_0x108896-_0x4a8e30)<Math[_0x52593d(0x7d6)](_0x2fbb44-_0x4a8e30))return;}}const _0x427f22=this[_0x52593d(0xab3)][_0x52593d(0x834)][_0x52593d(0x93d)](_0x2f9e2d=>_0x2f9e2d[_0x52593d(0x294)]()&&(!_0x3aabd0||_0x2f9e2d[_0x52593d(0x8fd)]()===_0x3aabd0));if(!_0x427f22['length']||0x0===_0x427f22[_0x52593d(0xa39)])throw new Error(_0x52593d(0x5aa));const _0xd8b894=this['configs'][_0x52593d(0x834)]['getDistance'](this[_0x52593d(0xab3)]['localNode']['getId'](),_0x59da4f),_0x4b9d11=_0x4edddb(_0x1ba924['Incoming'],{'contentType':_0x52baed[_0x52593d(0xa92)][_0x52593d(0x852)],'label':_0x329563,'remoteId':_0x59da4f});if(this['subscriptionRequests'][_0x52593d(0x149)](_0x4b9d11)){if(_0x3aabd0)throw new Error(_0x52593d(0x587));const _0xee5638=this[_0x52593d(0x1df)][_0x52593d(0x8a4)](_0x4b9d11)['getTracks']();if(_0xee5638[_0x52593d(0xa39)]===_0x23eb62[_0x52593d(0xa39)]&&_0xee5638[_0x52593d(0x48f)](_0x52508d=>_0x23eb62['includes'](_0x52508d)))return;this['configs'][_0x52593d(0x834)]['unregisterSystemSource'](this[_0x52593d(0x1df)][_0x52593d(0x8a4)](_0x4b9d11)),this[_0x52593d(0x1df)][_0x52593d(0x1cd)](_0x4b9d11),_0x23eb62=Array['from'](new Set(_0x23eb62[_0x52593d(0x876)](_0xee5638))),this['clearSubscriptionRequestTimeout'](_0x4b9d11);}const _0x512dfe=new _0x3d7c4e(_0x427f22[_0x52593d(0x3d5)](_0x4067b0=>_0x4067b0[_0x52593d(0x8fd)]()),_0xd8b894,this['maxDistance'],_0x23eb62);this[_0x52593d(0xab3)][_0x52593d(0x834)][_0x52593d(0x3b0)](_0x512dfe),this[_0x52593d(0x1df)]['set'](_0x4b9d11,_0x512dfe),_0x512dfe['sendRequest'](this[_0x52593d(0xab3)][_0x52593d(0x650)][_0x52593d(0x3dd)](),_0x59da4f,_0x329563,_0x23eb62,_0x5ba81b),this[_0x52593d(0x37d)](_0x329563,_0x59da4f,_0x23eb62,_0x5ba81b,_0x4b9d11,_0x512dfe);}[_0x5a8b1c(0x622)](_0x4f702f){const _0x33655f=_0x5a8b1c;this[_0x33655f(0x796)][_0x33655f(0x149)](_0x4f702f)&&(clearTimeout(this[_0x33655f(0x796)][_0x33655f(0x8a4)](_0x4f702f)),this['subscriptionRequestTimeouts'][_0x33655f(0x1cd)](_0x4f702f));}[_0x5a8b1c(0x37d)](_0x551598,_0x4ad121,_0x94728c,_0x5bbe6d,_0x11ba90,_0x2ade8b){const _0x558515=_0x5a8b1c;this[_0x558515(0x622)](_0x11ba90),this[_0x558515(0x796)][_0x558515(0x984)](_0x11ba90,setTimeout(()=>{const _0x2c7138=_0x558515;this['subscriptionRequestTimeouts'][_0x2c7138(0x1cd)](_0x11ba90);try{const _0x2bdec3=_0x2ade8b[_0x2c7138(0x598)]();this[_0x2c7138(0x19a)](_0x2bdec3,_0x4ad121,_0x551598,_0x11ba90,_0x94728c);}catch(_0x594cce){this[_0x2c7138(0x2b9)](_0x551598,_0x4ad121,_0x94728c,_0x5bbe6d);}},0x7d0));}[_0x5a8b1c(0x4a8)](_0x256630,_0x19ee3b,_0x7bd87b,_0x40dd37,_0x55c399){const _0x4f884d=_0x5a8b1c,{subscriptionLabel:_0x7ee51e}=this[_0x4f884d(0x703)](_0x19ee3b,_0x40dd37),_0x27cd3e=this[_0x4f884d(0x29d)](_0x7ee51e),_0x20ae7e=_0x27cd3e?.[_0x4f884d(0x575)];_0x27cd3e&&(_0x27cd3e[_0x4f884d(0xa68)](_0x40dd37,0x0),this[_0x4f884d(0x96b)](_0x7bd87b,_0x52baed['ContentType'][_0x4f884d(0x852)],_0x256630)),this['requestSubscription'](_0x19ee3b,_0x40dd37,_0x55c399,_0x20ae7e);}[_0x5a8b1c(0x29d)](_0x3087e4){const _0x3daaa0=_0x5a8b1c,_0x2d37e2=this[_0x3daaa0(0x2c9)]['subscriptions'][_0x3daaa0(0x8a4)](_0x3087e4);if(_0x2d37e2){if(!(_0x2d37e2 instanceof _0x369c78))throw new _0xdb384(_0xdb384[_0x3daaa0(0x549)][_0x3daaa0(0xa4a)],{'label':_0x3087e4,'subscription':_0x2d37e2});return _0x2d37e2;}}['getSubscriptionLabel'](_0x5cfc8,_0x5b4a80){const _0x406a3c=_0x5a8b1c,_0x58cb42=this['getPartsForSubscriptionLabel'](_0x5cfc8,_0x5b4a80);return{'parts':_0x58cb42,'subscriptionLabel':_0x4edddb(_0x1ba924[_0x406a3c(0x714)],_0x58cb42)};}[_0x5a8b1c(0x79e)](_0x22ad76,_0x58c68a){const _0x32b371=_0x5a8b1c,_0x4729a3=this['configs'][_0x32b371(0x834)][_0x32b371(0x2bb)](_0x58c68a,_0x22ad76),_0x5741d1=_0x4729a3[_0x32b371(0x521)]();if(!_0x5741d1)throw new _0xdb384(_0xdb384[_0x32b371(0x549)][_0x32b371(0x5a4)],{'label':_0x22ad76,'streamId':_0x4729a3['getInternalStreamId'](),'ownerId':_0x58c68a,'localId':this[_0x32b371(0xab3)]['localNode'][_0x32b371(0x3dd)]()});return{'contentType':_0x52baed['ContentType']['Media'],'label':_0x4729a3[_0x32b371(0x327)](),'remoteId':_0x5741d1};}[_0x5a8b1c(0x74e)](_0x234f39,_0x3a0196,_0x42ec28,_0x34933a){const _0xda4da5=_0x5a8b1c,_0x5f1bb4=_0x34933a[_0xda4da5(0x521)]();if(_0x5f1bb4&&_0x5f1bb4!==_0x234f39[_0xda4da5(0x841)]){const {parts:_0x511c57,subscriptionLabel:_0x46f6dc}=this[_0xda4da5(0x703)](_0x42ec28,_0x3a0196),_0x5f11e9=this[_0xda4da5(0x29d)](_0x46f6dc);_0x5f11e9&&(_0x5f11e9[_0xda4da5(0xa68)](_0x3a0196,0x0),this[_0xda4da5(0x96b)](_0x511c57[_0xda4da5(0x19f)],_0x511c57[_0xda4da5(0x2d0)],_0x511c57[_0xda4da5(0x1e1)]));}}}class _0x4b2c95{[_0x5a8b1c(0xab3)];[_0x5a8b1c(0x783)];[_0x5a8b1c(0x2c9)];constructor(_0x5305d1,_0x2aa61f){const _0x534b62=_0x5a8b1c;this[_0x534b62(0xab3)]=_0x5305d1,this[_0x534b62(0x783)]=_0x2aa61f,this[_0x534b62(0x2c9)]=new _0x276595(({source:_0x524426,destination:_0x5cb992})=>_0x4acf58(_0x524426,_0x5cb992));}['createSubscription'](_0x3cf71f,_0x2e849d){const _0x581dc6=_0x5a8b1c,_0x51707f={'source':_0x3cf71f,'destination':_0x2e849d};this['maps'][_0x581dc6(0x75e)](_0x1ba924[_0x581dc6(0x399)],_0x51707f);}['removeSubscription'](_0xdb7822,_0x48eca9,_0x5e47f0=''){const _0x4751b5=_0x5a8b1c,_0x34567e={'contentType':_0x48eca9,'label':_0xdb7822,'remoteId':_0x5e47f0};this[_0x4751b5(0x2c9)][_0x4751b5(0x96b)](_0x34567e,_0x1ba924[_0x4751b5(0x399)]);}[_0x5a8b1c(0x6e4)](_0x45d79e,_0x52fe61){const _0x5d9ff6=_0x5a8b1c;let _0x56e06a;_0x56e06a=_0x52fe61[_0x5d9ff6(0x5c6)]!==this[_0x5d9ff6(0xab3)][_0x5d9ff6(0x650)][_0x5d9ff6(0x3dd)]()?this[_0x5d9ff6(0xab3)][_0x5d9ff6(0x834)]['getRemoteMediaStream'](_0x52fe61[_0x5d9ff6(0x5c6)],_0x52fe61['label']):this[_0x5d9ff6(0xab3)]['mediator'][_0x5d9ff6(0x1d8)](_0x52fe61[_0x5d9ff6(0x19f)]);const _0xed3a67=_0x4edddb(_0x1ba924[_0x5d9ff6(0x399)],{'contentType':_0x52baed[_0x5d9ff6(0xa92)][_0x5d9ff6(0x852)],'label':_0x56e06a[_0x5d9ff6(0x5f5)](),'remoteId':_0x45d79e}),_0x1bca71=this[_0x5d9ff6(0x2f0)]();if(!this[_0x5d9ff6(0x2c9)][_0x5d9ff6(0x3a4)]['has'](_0xed3a67)&&_0x1bca71>=this[_0x5d9ff6(0x783)])return{'type':_0x22bb2e['RestartNeedMediaStream'],'ownerId':_0x52fe61['ownerId'],'label':_0x52fe61['label'],'streamId':_0x56e06a[_0x5d9ff6(0x5f5)](),'trackKinds':_0x52fe61[_0x5d9ff6(0x190)],'params':_0x52fe61[_0x5d9ff6(0x575)]};_0x56e06a instanceof _0x439d9d&&!_0x56e06a['isSubscribed'](_0x52fe61[_0x5d9ff6(0x190)])&&_0x56e06a[_0x5d9ff6(0x19a)](_0x52fe61[_0x5d9ff6(0x575)]),this['maps'][_0x5d9ff6(0x3a4)][_0x5d9ff6(0x149)](_0xed3a67)||this[_0x5d9ff6(0x75e)](_0x56e06a[_0x5d9ff6(0xac4)](_0x45d79e),this['configs']['mediator'][_0x5d9ff6(0x277)](_0x45d79e));}[_0x5a8b1c(0xadf)](_0x14d41a,{label:_0x313214,ownerId:_0x349852,remainingTracks:_0x19db7c}){const _0x2c2a29=_0x5a8b1c;if(_0x19db7c>0x0)return;let _0x331eda;_0x331eda=_0x349852!==this[_0x2c2a29(0xab3)][_0x2c2a29(0x650)][_0x2c2a29(0x3dd)]()?this[_0x2c2a29(0xab3)][_0x2c2a29(0x834)][_0x2c2a29(0x2bb)](_0x349852,_0x313214):this[_0x2c2a29(0xab3)][_0x2c2a29(0x834)][_0x2c2a29(0x1d8)](_0x313214);const _0x32b314=_0x331eda[_0x2c2a29(0x5f5)](),_0x47fa97=_0x52baed[_0x2c2a29(0xa92)]['Media'];this[_0x2c2a29(0x96b)](_0x32b314,_0x47fa97,_0x14d41a);}[_0x5a8b1c(0x357)](_0x2e27e5,{label:_0x5ddecb,ownerId:_0x2c9909,trackKinds:_0x4c5bac}){const _0x3a5805=_0x5a8b1c;if(_0x2e27e5!==_0x4c58af)return[];let _0x2779d7=[];for(const _0x1b6254 of this['maps'][_0x3a5805(0x3a4)]){const {source:_0x53d690,destination:_0x42e37f}=_0x1b6254[0x1];_0x53d690[_0x3a5805(0x211)]()===_0x5ddecb&&_0x53d690[_0x3a5805(0x770)]()===_0x2c9909&&_0x2779d7[_0x3a5805(0x3a9)]({'sourceId':this['configs'][_0x3a5805(0x650)][_0x3a5805(0x3dd)](),'destinationIds':[_0x42e37f[_0x3a5805(0x8fd)]()],'messageType':_0x9cb7d1['Subscription'],'content':{'type':_0x22bb2e[_0x3a5805(0x6fc)],'label':_0x5ddecb,'ownerId':_0x2c9909,'trackKinds':_0x4c5bac}});}return _0x2779d7;}[_0x5a8b1c(0x6ce)](_0x5bcfdf,_0x411a58){const _0x30bfc3=_0x5a8b1c,{label:_0x167572,ownerId:_0x416f70,trackKinds:_0x199339,params:_0x387319}=_0x411a58,{hasTracks:_0x3acf37,streamId:_0x3e749e,hasResolution:_0x2b1803,distance:_0x3da4ff,subscriptionLabel:_0x570104}=this[_0x30bfc3(0x380)](_0x5bcfdf,_0x411a58);let _0x5da8d5=this[_0x30bfc3(0x2f0)]()<this[_0x30bfc3(0x783)]&&(_0x3acf37||_0x3da4ff>-0x1)?_0x22bb2e[_0x30bfc3(0x3a7)]:_0x22bb2e[_0x30bfc3(0x4e8)];const _0x367285=_0x3da4ff<0x0?0xa:_0x3da4ff;let _0x4b0a48=_0x3acf37?_0x2b1803?_0x367285:_0x367285+0x0:_0x367285+0xa;return _0x570104&&this[_0x30bfc3(0x2c9)][_0x30bfc3(0x3a4)]['has'](_0x570104)&&(_0x3acf37&&(_0x4b0a48=0x0),_0x5da8d5=_0x22bb2e[_0x30bfc3(0x3a7)]),{'type':_0x5da8d5,'cost':_0x4b0a48,'distance':_0x3da4ff,'label':_0x167572,'ownerId':_0x416f70,'streamId':_0x3e749e,'trackKinds':_0x199339,'params':_0x387319};}[_0x5a8b1c(0x9c0)](_0x3b6370){const _0x2afcc2=_0x5a8b1c,{label:_0x4140bf,ownerId:_0xbccde5}=_0x3b6370,_0x325a2f=this[_0x2afcc2(0xab3)][_0x2afcc2(0x834)][_0x2afcc2(0x2bb)](_0xbccde5,_0x4140bf);this[_0x2afcc2(0x2c9)]['subscriptions'][_0x2afcc2(0x775)](_0x361851=>{const _0x4f6bb2=_0x2afcc2;if(_0x361851[_0x4f6bb2(0x6e5)]['getInternalStreamId']()===_0x325a2f[_0x4f6bb2(0x5f5)]()){const _0x4e01d6=_0x361851[_0x4f6bb2(0x4ce)];this[_0x4f6bb2(0x96b)](_0x325a2f[_0x4f6bb2(0x5f5)](),_0x52baed[_0x4f6bb2(0xa92)][_0x4f6bb2(0x852)],_0x4e01d6['getRemoteId']());}});}['handleContentCloseMediaStream']({label:_0x1bef29}){const _0x3ed9c7=_0x5a8b1c,_0x477bda=this[_0x3ed9c7(0xab3)][_0x3ed9c7(0x834)][_0x3ed9c7(0x1d8)](_0x1bef29);this[_0x3ed9c7(0x2c9)][_0x3ed9c7(0x3a4)][_0x3ed9c7(0x775)](_0x56779f=>{const _0x200e3d=_0x3ed9c7;if(_0x56779f[_0x200e3d(0x6e5)][_0x200e3d(0x327)]()===_0x477bda[_0x200e3d(0x5f5)]()){const _0x3a602e=_0x56779f[_0x200e3d(0x4ce)];this[_0x200e3d(0x96b)](_0x477bda[_0x200e3d(0x5f5)](),_0x52baed[_0x200e3d(0xa92)][_0x200e3d(0x852)],_0x3a602e[_0x200e3d(0x8fd)]());}});}['removeSubscriptionsForNode'](_0x256984){this['maps']['removeSubscriptionsForNode'](_0x256984);}['close'](){const _0x5c0ee3=_0x5a8b1c;this[_0x5c0ee3(0x2c9)][_0x5c0ee3(0x3a4)]['forEach'](this[_0x5c0ee3(0x702)][_0x5c0ee3(0x901)](this));}[_0x5a8b1c(0x702)](_0x2d248b,_0x27c8e1){const _0x2b24f8=_0x5a8b1c;this[_0x2b24f8(0x2c9)]['closeSubscription'](_0x2d248b,_0x27c8e1);}['getSubscriptionInfo'](_0x47b85d,{label:_0x362ec0,ownerId:_0x1834a5,trackKinds:_0x3b341d,params:_0x2bee53}){const _0x383f40=_0x5a8b1c;if(_0x1834a5!==this[_0x383f40(0xab3)][_0x383f40(0x650)][_0x383f40(0x3dd)]()){const _0x1a80ff=this[_0x383f40(0xab3)]['mediator'][_0x383f40(0x2bb)](_0x1834a5,_0x362ec0);return _0x1a80ff&&_0x1a80ff['getProviderId']()!==_0x47b85d?{'hasTracks':_0x1a80ff[_0x383f40(0x7cd)](_0x3b341d),'hasResolution':this[_0x383f40(0x3c1)](_0x1a80ff[_0x383f40(0x388)](),_0x2bee53),'streamId':_0x1a80ff['getShareableStreamId'](),'distance':this[_0x383f40(0xab3)]['mediator']['getDistance'](_0x47b85d,_0x1834a5),'subscriptionLabel':_0x4edddb(_0x1ba924['Outgoing'],{'contentType':_0x52baed[_0x383f40(0xa92)][_0x383f40(0x852)],'label':_0x1a80ff[_0x383f40(0x5f5)](),'remoteId':_0x47b85d})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x277ca5=this['configs']['mediator'][_0x383f40(0x1d8)](_0x362ec0);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x277ca5[_0x383f40(0x5f5)](),'distance':0x0,'subscriptionLabel':_0x4edddb(_0x1ba924['Outgoing'],{'contentType':_0x52baed[_0x383f40(0xa92)][_0x383f40(0x852)],'label':_0x277ca5[_0x383f40(0x5f5)](),'remoteId':_0x47b85d})};}[_0x5a8b1c(0x2f0)](){const _0x3fbda0=_0x5a8b1c;return Array[_0x3fbda0(0x47c)](this[_0x3fbda0(0x2c9)][_0x3fbda0(0x3a4)][_0x3fbda0(0x322)]())[_0x3fbda0(0x930)](([_0x1a8d49,{source:_0x597d5c}])=>_0x1a8d49['startsWith'](_0x1ba924[_0x3fbda0(0x399)])&&_0x597d5c[_0x3fbda0(0x62f)]()===_0x52baed[_0x3fbda0(0xa92)]['Media'])[_0x3fbda0(0xa39)];}['canProvideResolution'](_0x40a9e9,_0x4b37e3){const _0x2e328e=_0x5a8b1c;if(!_0x4b37e3||!_0x4b37e3[_0x2e328e(0x498)]||_0x2e328e(0x276)==typeof _0x4b37e3[_0x2e328e(0x498)]||!_0x4b37e3['video'][_0x2e328e(0x84d)])return!0x0;const {width:_0x13a3e3,height:_0x412b8a}=_0x4b37e3['video'][_0x2e328e(0x84d)];return _0x40a9e9['width']>=_0x13a3e3&&_0x40a9e9[_0x2e328e(0x537)]>=_0x412b8a;}}class _0x5c60ae{['configs'];[_0x5a8b1c(0x783)];[_0x5a8b1c(0x679)];[_0x5a8b1c(0x625)];[_0x5a8b1c(0x8a8)];[_0x5a8b1c(0xa8d)];constructor(_0x63a2c6,_0x2b754a,_0x3eb536){const _0x1b367e=_0x5a8b1c;this['configs']=_0x63a2c6,this[_0x1b367e(0x783)]=_0x2b754a,this[_0x1b367e(0x679)]=_0x3eb536,this['configs'][_0x1b367e(0x834)][_0x1b367e(0x3b0)](this),this[_0x1b367e(0x8a8)]=new _0x47c58b(this[_0x1b367e(0xab3)],this[_0x1b367e(0x679)]),this['outgoingManager']=new _0x4b2c95(this[_0x1b367e(0xab3)],this[_0x1b367e(0x783)]);}[_0x5a8b1c(0x3ee)](_0x3661bf){this['systemTopic']=_0x3661bf;}[_0x5a8b1c(0x8f7)](){const _0x260f3e=_0x5a8b1c;delete this[_0x260f3e(0x625)];}[_0x5a8b1c(0x494)](){const _0x2c708c=_0x5a8b1c;this[_0x2c708c(0x8a8)][_0x2c708c(0x494)](),this['outgoingManager'][_0x2c708c(0x494)](),this[_0x2c708c(0xab3)][_0x2c708c(0x834)][_0x2c708c(0x16f)](this);}[_0x5a8b1c(0xaee)](_0x43b4bb,_0x254e0e){const _0x3a395b=_0x5a8b1c;this[_0x3a395b(0x8a8)][_0x3a395b(0x75e)](_0x43b4bb,_0x254e0e);}[_0x5a8b1c(0x60c)](_0x7082b6,_0x191a84){const _0x1a82f4=_0x5a8b1c;this[_0x1a82f4(0xa8d)][_0x1a82f4(0x75e)](_0x7082b6,_0x191a84);}[_0x5a8b1c(0x9d2)](_0x18bf54,_0x2d5ff9,_0x25c9c6=''){const _0x353ec1=_0x5a8b1c;this[_0x353ec1(0x8a8)][_0x353ec1(0x96b)](_0x18bf54,_0x2d5ff9,_0x25c9c6);}[_0x5a8b1c(0x881)](_0x864c3c,_0xd11c07,_0x340808=''){const _0x4479af=_0x5a8b1c;try{this[_0x4479af(0xa8d)][_0x4479af(0x96b)](_0x864c3c,_0xd11c07,_0x340808);}catch(_0x3f33b7){if(_0x3f33b7 instanceof _0xdb384&&_0x3f33b7[_0x4479af(0x5ac)]===_0xdb384['codes'][_0x4479af(0xa4a)])return;}}[_0x5a8b1c(0x596)](_0xca860a){const _0x4a4ad8=_0x5a8b1c;switch(_0xca860a['content'][_0x4a4ad8(0x2a5)]){case _0x22bb2e[_0x4a4ad8(0x8d5)]:this[_0x4a4ad8(0x6e4)](_0xca860a[_0x4a4ad8(0x2fb)],_0xca860a[_0x4a4ad8(0x2fa)]);break;case _0x22bb2e[_0x4a4ad8(0x9ed)]:this[_0x4a4ad8(0xa8d)][_0x4a4ad8(0xadf)](_0xca860a['sourceId'],_0xca860a[_0x4a4ad8(0x2fa)]);break;case _0x22bb2e[_0x4a4ad8(0x7ac)]:this[_0x4a4ad8(0x6ce)](_0xca860a[_0x4a4ad8(0x2fb)],_0xca860a[_0x4a4ad8(0x2fa)]);break;case _0x22bb2e['RestartNeedMediaStream']:this[_0x4a4ad8(0x8a8)]['handleSubscriptionRestartNeedMediaStream'](_0xca860a['sourceId'],_0xca860a['content']);break;case _0x22bb2e[_0x4a4ad8(0x3a7)]:case _0x22bb2e[_0x4a4ad8(0x4e8)]:this['incomingManager']['handleSubscriptionProvideMediaStream'](_0xca860a['sourceId'],_0xca860a[_0x4a4ad8(0x2fa)]);break;case _0x22bb2e[_0x4a4ad8(0x6fc)]:this[_0x4a4ad8(0x8a8)][_0x4a4ad8(0x8c6)](_0xca860a['sourceId'],_0xca860a[_0x4a4ad8(0x2fa)]);}}[_0x5a8b1c(0x1da)](_0x3015b4){const _0x2c2e27=_0x5a8b1c;switch(_0x3015b4['content']['type']){case _0xae157c[_0x2c2e27(0x394)]:this['incomingManager'][_0x2c2e27(0x9c0)](_0x3015b4[_0x2c2e27(0x2fa)]),this[_0x2c2e27(0xa8d)]['handleContentUnpublishMediaStream'](_0x3015b4['content']);break;case _0xae157c[_0x2c2e27(0x8d5)]:this['incomingManager']['handleContentSubscribeMediaStream'](_0x3015b4[_0x2c2e27(0x2fa)]);break;case _0xae157c['UpdateMediaStream']:this[_0x2c2e27(0x8a8)][_0x2c2e27(0x9a7)](_0x3015b4['content']);break;case _0xae157c[_0x2c2e27(0x9ed)]:this[_0x2c2e27(0x357)](_0x3015b4[_0x2c2e27(0x2fb)],_0x3015b4[_0x2c2e27(0x2fa)]);break;case _0xae157c[_0x2c2e27(0x448)]:this['outgoingManager'][_0x2c2e27(0x4dc)](_0x3015b4[_0x2c2e27(0x2fa)]);break;case _0xae157c['ClosePubSubTopic']:this[_0x2c2e27(0x58e)](_0x3015b4['content']['label'],_0x52baed[_0x2c2e27(0xa92)][_0x2c2e27(0xad1)]);break;case _0xae157c['CloseObjectStoreBucket']:this[_0x2c2e27(0x58e)](_0x3015b4[_0x2c2e27(0x2fa)][_0x2c2e27(0x19f)],_0x52baed[_0x2c2e27(0xa92)][_0x2c2e27(0xb42)]);break;case _0xae157c[_0x2c2e27(0x692)]:this['handleCloseContent'](_0x3015b4['content']['label'],_0x52baed['ContentType'][_0x2c2e27(0x1e9)]);break;case _0xae157c[_0x2c2e27(0x3ff)]:this[_0x2c2e27(0x58e)](_0x3015b4[_0x2c2e27(0x2fa)][_0x2c2e27(0x19f)],_0x52baed[_0x2c2e27(0xa92)][_0x2c2e27(0x951)]);break;case _0xae157c[_0x2c2e27(0x27b)]:this[_0x2c2e27(0x58e)](_0x3015b4[_0x2c2e27(0x2fa)][_0x2c2e27(0x19f)],_0x52baed[_0x2c2e27(0xa92)]['VectorDatabase']);break;case _0xae157c[_0x2c2e27(0x7a8)]:this[_0x2c2e27(0x58e)](_0x3015b4['content'][_0x2c2e27(0x19f)],_0x52baed[_0x2c2e27(0xa92)][_0x2c2e27(0x820)]);break;case _0xae157c['CloseJobDispatcher']:case _0xae157c['CloseJobWorker']:this[_0x2c2e27(0x58e)](_0x3015b4[_0x2c2e27(0x2fa)]['label'],_0x52baed['ContentType']['Job']);break;case _0xae157c['RemoteMediaStreamTrackFail']:this[_0x2c2e27(0x8a8)][_0x2c2e27(0x20b)](_0x3015b4[_0x2c2e27(0x2fa)]);}}['handleNodeSystemEvents']({content:_0xd01ade}){const _0x5f1b8b=_0x5a8b1c;_0xd01ade[_0x5f1b8b(0x2a5)]===_0xba42b7[_0x5f1b8b(0x4b2)]&&this['removeSubscriptionsForNode'](_0xd01ade);}[_0x5a8b1c(0x9c7)](_0x1fed93){const _0x12732a=_0x5a8b1c;_0x1fed93[_0x12732a(0x2fa)]['type']===_0x5e1ebe[_0x12732a(0x662)]&&this[_0x12732a(0x8a8)]['handleOptimizationConnectionSuccess'](_0x1fed93[_0x12732a(0x2fb)]);}[_0x5a8b1c(0x357)](_0x55a488,_0x593348){const _0x1665ef=_0x5a8b1c;this['incomingManager'][_0x1665ef(0x357)](_0x593348),this[_0x1665ef(0xa8d)][_0x1665ef(0x357)](_0x55a488,_0x593348)[_0x1665ef(0x775)](_0x546b5a=>this[_0x1665ef(0x625)][_0x1665ef(0x590)](_0x546b5a));}[_0x5a8b1c(0x6e4)](_0x29ba27,_0x83984e){const _0x3a12c2=_0x5a8b1c,_0x5cd28b=this[_0x3a12c2(0xa8d)][_0x3a12c2(0x6e4)](_0x29ba27,_0x83984e);if(_0x5cd28b&&(this[_0x3a12c2(0x625)][_0x3a12c2(0x590)]({'sourceId':this[_0x3a12c2(0xab3)][_0x3a12c2(0x650)][_0x3a12c2(0x3dd)](),'destinationIds':[_0x29ba27],'messageType':_0x9cb7d1[_0x3a12c2(0x2cf)],'content':_0x5cd28b}),_0x5cd28b['type']===_0x22bb2e[_0x3a12c2(0x468)]))throw new _0x181159(_0x3a12c2(0x936));}[_0x5a8b1c(0x6ce)](_0x466f2b,_0xdd28d0){const _0x2e8fdf=_0x5a8b1c,_0x517495=this[_0x2e8fdf(0xa8d)][_0x2e8fdf(0x6ce)](_0x466f2b,_0xdd28d0);this[_0x2e8fdf(0x625)]['publish']({'sourceId':this[_0x2e8fdf(0xab3)][_0x2e8fdf(0x650)][_0x2e8fdf(0x3dd)](),'destinationIds':[_0x466f2b],'messageType':_0x9cb7d1[_0x2e8fdf(0x2cf)],'content':_0x517495});}[_0x5a8b1c(0x58e)](_0x4912fc,_0x239e86){const _0x4feae1=_0x5a8b1c;this[_0x4feae1(0x9d2)](_0x4912fc,_0x239e86),this[_0x4feae1(0x881)](_0x4912fc,_0x239e86);}[_0x5a8b1c(0x1ab)]({id:_0x3e9609}){const _0x5a8a99=_0x5a8b1c;this[_0x5a8a99(0x8a8)][_0x5a8a99(0x1ab)](_0x3e9609),this[_0x5a8a99(0xa8d)][_0x5a8a99(0x1ab)](_0x3e9609);}}class _0x50bc1e{[_0x5a8b1c(0x19f)];[_0x5a8b1c(0xb09)]=_0x28f8fd();constructor(){const _0x27c160=_0x5a8b1c;this[_0x27c160(0x19f)]=0x0;}[_0x5a8b1c(0x211)](){const _0x503fe6=_0x5a8b1c;return this[_0x503fe6(0x19f)];}[_0x5a8b1c(0x62f)](){const _0x59d807=_0x5a8b1c;return _0x52baed[_0x59d807(0xa92)]['Data'];}['registerSource'](_0x1586a6){const _0x5ed58e=_0x5a8b1c;_0x1586a6[_0x5ed58e(0x3ee)](this);}[_0x5a8b1c(0x624)](_0x523bed){_0x523bed['unregisterSystemPublisher']();}[_0x5a8b1c(0x590)](_0x3c0b7c){const _0x4a7f4f=_0x5a8b1c;_0x241131[_0x4a7f4f(0x2d3)](_0xf47a5[_0x4a7f4f(0x484)],_0x4a7f4f(0xa1f),_0x3c0b7c[_0x4a7f4f(0x2fb)],_0x3c0b7c),this['listener']['publish']({'topicLabel':this[_0x4a7f4f(0x19f)],'contentType':_0x52baed['ContentType']['Data'],'uuid':_0x3c0b7c[_0x4a7f4f(0x2f9)]??(0x0,_0x4804e8['v4'])(),'recipients':_0x3c0b7c[_0x4a7f4f(0x3d8)]??[],..._0x3c0b7c});}[_0x5a8b1c(0x19a)](_0x2f3172){const _0x125889=_0x5a8b1c;return this[_0x125889(0xb09)][_0x125889(0x19a)](_0x2f3172);}}class _0x15cac9{['options'];[_0x5a8b1c(0x308)]=[];[_0x5a8b1c(0x601)];[_0x5a8b1c(0x746)]=new Map();[_0x5a8b1c(0xa04)]=_0x28f8fd();constructor(_0x1b7b6f){const _0x229d55=_0x5a8b1c;this['options']=_0x1b7b6f,this[_0x229d55(0x601)]=(this[_0x229d55(0x392)][_0x229d55(0x5bb)]-0x2*this['options'][_0x229d55(0xa9a)])/0x2,this[_0x229d55(0x308)][_0x229d55(0x3a9)]({'start':0x1,'end':this[_0x229d55(0x719)](0x1,0x1)-0x1});for(let _0x58b72e=0x0;_0x58b72e<this[_0x229d55(0x601)];++_0x58b72e)this[_0x229d55(0x308)][_0x229d55(0x3a9)]({'start':this[_0x229d55(0x719)](0x1,_0x58b72e+0x1),'end':this[_0x229d55(0x719)](0x1,_0x58b72e+0x2)-0x1});}['getNextTargetRank'](_0x45549d,_0x1ac42c=0x1){const _0x4c49bd=_0x5a8b1c;let _0x52cef5=this['options']['maxDistance']-this[_0x4c49bd(0x392)][_0x4c49bd(0xa9a)],_0x2ec22f=0x1;for(let _0x340d5f=0x1;_0x340d5f<_0x1ac42c;++_0x340d5f)_0x52cef5*=this[_0x4c49bd(0x392)][_0x4c49bd(0x679)]-this[_0x4c49bd(0x392)]['minConnections']-_0x340d5f,_0x2ec22f*=this[_0x4c49bd(0x392)]['maxDistance']-this[_0x4c49bd(0x392)][_0x4c49bd(0xa9a)]-_0x340d5f+0x1;return _0x52cef5*this[_0x4c49bd(0x392)][_0x4c49bd(0xa9a)]+_0x45549d-_0x2ec22f;}[_0x5a8b1c(0x5db)](_0x2377ad){let _0x21beed=0x0;for(;this['ranges'][_0x21beed]['end']<_0x2377ad;)_0x21beed+=0x1;return _0x21beed;}[_0x5a8b1c(0x6b8)](){const _0x4e3485=_0x5a8b1c;return this['options'][_0x4e3485(0xa9a)];}['getMaxConnections'](){const _0x3addd6=_0x5a8b1c;return this[_0x3addd6(0x392)][_0x3addd6(0x5bb)];}[_0x5a8b1c(0x6b4)](){const _0x277179=_0x5a8b1c;return this[_0x277179(0x392)][_0x277179(0x679)];}[_0x5a8b1c(0x43d)](){const _0x1ec0cb=_0x5a8b1c;return this[_0x1ec0cb(0x746)];}[_0x5a8b1c(0x564)](_0x34c1a9,_0x5bab44){const _0xd8da47=_0x5a8b1c;this[_0xd8da47(0x746)]['set'](_0x34c1a9,_0x5bab44),this[_0xd8da47(0xa04)]['publish']();}[_0x5a8b1c(0x80d)](_0xf1f433){const _0x1307d3=_0x5a8b1c;this['remoteNodes'][_0x1307d3(0x1cd)](_0xf1f433),this[_0x1307d3(0xa04)][_0x1307d3(0x590)]();}[_0x5a8b1c(0x732)](_0x239ee3){const _0x3ffc79=_0x5a8b1c;return this['remoteNodes'][_0x3ffc79(0x149)](_0x239ee3);}[_0x5a8b1c(0x8d0)](_0x11fc12){const _0x5eca60=_0x5a8b1c;return this['remoteNodes'][_0x5eca60(0x8a4)](_0x11fc12);}[_0x5a8b1c(0x442)](_0x175ccf,_0x86ca15){const _0x540692=_0x5a8b1c,_0x2879ad=this[_0x540692(0x8d0)](_0x86ca15)?.[_0x540692(0x37a)]()??0x0;return _0x175ccf[_0x540692(0x3d5)](_0x484334=>this[_0x540692(0x8d0)](_0x484334))[_0x540692(0x930)](_0x2f5260=>void 0x0!==_0x2f5260)[_0x540692(0x7e3)]((_0x3e7d97,_0x4d6e29)=>Math[_0x540692(0x7d6)](_0x2879ad-(_0x3e7d97&&_0x3e7d97[_0x540692(0x37a)]()||0x1/0x0))-Math[_0x540692(0x7d6)](_0x2879ad-(_0x4d6e29&&_0x4d6e29[_0x540692(0x37a)]()||0x1/0x0)))[_0x540692(0x3d5)](_0x59dc34=>_0x59dc34[_0x540692(0x3dd)]());}[_0x5a8b1c(0xa5c)](_0x1e5259){return this['nodeUpdate']['subscribe'](_0x1e5259);}}class _0x3d5fb9{[_0x5a8b1c(0x26a)];['clusterId'];['authNode'];[_0x5a8b1c(0x798)];[_0x5a8b1c(0x392)];['configs'];[_0x5a8b1c(0x85d)];['contentManager'];['connectionManager'];[_0x5a8b1c(0x722)];[_0x5a8b1c(0x603)];[_0x5a8b1c(0x295)];['remediationManager'];['nodeManager'];[_0x5a8b1c(0xa48)];[_0x5a8b1c(0x625)]=new _0x50bc1e();[_0x5a8b1c(0x48b)];[_0x5a8b1c(0x650)];constructor(_0x22a7c3,_0x2da463,_0x16131a,_0x2c36cf,_0x53f766,_0x4590bd,_0x26cd8d){const _0x4407e5=_0x5a8b1c;switch(this[_0x4407e5(0x26a)]=_0x22a7c3,this[_0x4407e5(0x659)]=_0x2da463,this[_0x4407e5(0x3c4)]=_0x16131a,this[_0x4407e5(0x798)]=_0x2c36cf,this['options']=_0x53f766,this[_0x4407e5(0xab3)]=_0x4590bd,this[_0x4407e5(0x85d)]=_0x26cd8d,_0x16131a['type']){case _0x52baed[_0x4407e5(0x935)][_0x4407e5(0x886)]:this['localNode']=new _0xa76a2e(_0x16131a[_0x4407e5(0x3dd)](),_0x16131a[_0x4407e5(0x378)](),_0x16131a[_0x4407e5(0x30e)]());break;case _0x52baed[_0x4407e5(0x935)][_0x4407e5(0x2fd)]:default:this['localNode']=new _0x197455(_0x16131a[_0x4407e5(0x3dd)]());}const _0x365b53=this[_0x4407e5(0x28b)]();this[_0x4407e5(0xa48)]=new _0x15cac9(this['options']),this['contentManager']=new _0x27cc10(_0x365b53,this[_0x4407e5(0x392)]),this['connectionManager']=new _0x1f74c6(_0x365b53,this[_0x4407e5(0x798)],this['graphService'],this[_0x4407e5(0xab3)][_0x4407e5(0x3d6)],this[_0x4407e5(0x392)]),this['subscriptionManager']=new _0x5c60ae(_0x365b53,this['options'][_0x4407e5(0x783)],this[_0x4407e5(0xa48)][_0x4407e5(0x6b4)]()),this['statsManager']=new _0x61621e(_0x365b53),this['detectionManager']=new _0x466a14(_0x365b53),this[_0x4407e5(0x81d)]=new _0x4d9579(_0x365b53),this[_0x4407e5(0x560)]=new _0xda2e18(_0x365b53,this[_0x4407e5(0xa48)]),this[_0x4407e5(0x48b)]=this[_0x4407e5(0x851)]();}['open'](){const _0x536eda=_0x5a8b1c,_0x4f77c5=this[_0x536eda(0x28b)]();this[_0x536eda(0x5be)]=new _0x1f74c6(_0x4f77c5,this[_0x536eda(0x798)],this[_0x536eda(0xa48)],this[_0x536eda(0xab3)]['iceServers'],this['options']),this[_0x536eda(0x722)]=new _0x5c60ae(_0x4f77c5,this[_0x536eda(0x392)][_0x536eda(0x783)],this[_0x536eda(0xa48)][_0x536eda(0x6b4)]()),this['statsManager']=new _0x61621e(_0x4f77c5),this[_0x536eda(0x295)]=new _0x466a14(_0x4f77c5),this[_0x536eda(0x81d)]=new _0x4d9579(_0x4f77c5),this[_0x536eda(0x560)]=new _0xda2e18(_0x4f77c5,this[_0x536eda(0xa48)]);const _0x3fac3c=this[_0x536eda(0x5be)][_0x536eda(0x907)]();this['contentManager'][_0x536eda(0x581)]()[_0x536eda(0x775)](_0x6fac5=>{const _0x243848=_0x536eda;this[_0x243848(0x722)]['createOutgoingSubscription'](_0x6fac5,_0x3fac3c),this[_0x243848(0x722)][_0x243848(0xaee)](_0x3fac3c,_0x6fac5),_0x6fac5['reset']();}),this[_0x536eda(0x28d)][_0x536eda(0x167)]()[_0x536eda(0x775)](_0x3fce8b=>{const _0x377b09=_0x536eda;this[_0x377b09(0x722)][_0x377b09(0x60c)](_0x3fce8b,_0x3fac3c),this[_0x377b09(0x722)][_0x377b09(0xaee)](_0x3fac3c,_0x3fce8b),_0x3fce8b[_0x377b09(0xb32)](),_0x3fce8b['sync']();}),this[_0x536eda(0x28d)][_0x536eda(0x273)]()[_0x536eda(0x775)](_0xe5178f=>{const _0x185bea=_0x536eda;this[_0x185bea(0x722)][_0x185bea(0x60c)](_0xe5178f,_0x3fac3c),this[_0x185bea(0x722)][_0x185bea(0xaee)](_0x3fac3c,_0xe5178f),_0xe5178f[_0x185bea(0xb32)](),this[_0x185bea(0x5c8)](_0xe5178f);}),this[_0x536eda(0x28d)][_0x536eda(0x1b4)]()[_0x536eda(0x775)](_0x45881c=>{const _0x28ed04=_0x536eda;this[_0x28ed04(0x722)][_0x28ed04(0x60c)](_0x45881c,_0x3fac3c),this[_0x28ed04(0x722)][_0x28ed04(0xaee)](_0x3fac3c,_0x45881c),_0x45881c[_0x28ed04(0xb32)]();}),this[_0x536eda(0x28d)][_0x536eda(0x3ec)]()[_0x536eda(0x775)](_0x2a8a76=>{const _0x152268=_0x536eda;this[_0x152268(0x722)][_0x152268(0x60c)](_0x2a8a76,_0x3fac3c),this[_0x152268(0x722)][_0x152268(0xaee)](_0x3fac3c,_0x2a8a76),_0x2a8a76[_0x152268(0xb32)]();}),this[_0x536eda(0x28d)]['getVectorDatabases']()[_0x536eda(0x775)](_0x563ff1=>{const _0x4a8499=_0x536eda;this[_0x4a8499(0x722)][_0x4a8499(0x60c)](_0x563ff1,_0x3fac3c),this['subscriptionManager'][_0x4a8499(0xaee)](_0x3fac3c,_0x563ff1),_0x563ff1[_0x4a8499(0xb32)]();}),this[_0x536eda(0x28d)]['getGraphDatabases']()['forEach'](_0x40e754=>{const _0x57a7ca=_0x536eda;this[_0x57a7ca(0x722)]['createOutgoingSubscription'](_0x40e754,_0x3fac3c),this[_0x57a7ca(0x722)][_0x57a7ca(0xaee)](_0x3fac3c,_0x40e754),_0x40e754[_0x57a7ca(0xb32)]();}),this['systemTopicUnsubscribe']=this[_0x536eda(0x851)]();}['registerSystemSource'](_0x32cde6){const _0x23bd74=_0x5a8b1c;try{this[_0x23bd74(0x625)][_0x23bd74(0xb39)](_0x32cde6);}catch(_0x100f6b){this['handleError'](_0x100f6b,{});}}[_0x5a8b1c(0x16f)](_0x1759a3){const _0x2417cd=_0x5a8b1c;try{this['systemTopic'][_0x2417cd(0x624)](_0x1759a3);}catch(_0xc176d8){this[_0x2417cd(0x894)](_0xc176d8,{});}}[_0x5a8b1c(0x75f)](_0x2eb2d1,_0x4debfd){const _0x1ad5aa=_0x5a8b1c;return this[_0x1ad5aa(0x5be)][_0x1ad5aa(0x75f)](_0x2eb2d1,_0x4debfd);}[_0x5a8b1c(0x277)](_0x59f370){const _0x22abbf=_0x5a8b1c;try{return this[_0x22abbf(0x5be)][_0x22abbf(0x277)](_0x59f370);}catch(_0x3a4b56){throw this['handleError'](_0x3a4b56,{});}}['getConnections'](_0x7760cc){const _0x36768d=_0x5a8b1c;try{return this[_0x36768d(0x5be)][_0x36768d(0x93d)](_0x7760cc);}catch(_0x2c4a87){throw this[_0x36768d(0x894)](_0x2c4a87,{});}}[_0x5a8b1c(0x2bb)](_0x3ede6f,_0x2d6d45){const _0x16ffe1=_0x5a8b1c;try{return this[_0x16ffe1(0x28d)]['getRemoteMediaStreams'](_0xf0258c=>_0xf0258c[_0x16ffe1(0x770)]()===_0x3ede6f&&_0xf0258c[_0x16ffe1(0x211)]()===_0x2d6d45)[0x0];}catch(_0x1eb807){throw this[_0x16ffe1(0x894)](_0x1eb807,{});}}[_0x5a8b1c(0x1d8)](_0x533e56){const _0x1cd14d=_0x5a8b1c;try{return this[_0x1cd14d(0x28d)][_0x1cd14d(0xa9c)](_0x504ae8=>_0x504ae8[_0x1cd14d(0x211)]()===_0x533e56)[0x0];}catch(_0x199782){throw this[_0x1cd14d(0x894)](_0x199782,{});}}[_0x5a8b1c(0xaa3)]=(..._0x485a4f)=>{const _0x4375b0=_0x5a8b1c;try{return this[_0x4375b0(0x85d)][_0x4375b0(0x929)](..._0x485a4f);}catch(_0xcf9117){throw this[_0x4375b0(0x894)](_0xcf9117,{});}};['registerRemoteNode'](_0x33fa3a){const _0x23bbe7=_0x5a8b1c;try{this[_0x23bbe7(0x603)]['addRemoteNode'](_0x33fa3a);}catch(_0x7bdf4a){throw this[_0x23bbe7(0x894)](_0x7bdf4a,{});}}[_0x5a8b1c(0x478)](_0x580a8e){const _0x1ced39=_0x5a8b1c;try{this['statsManager']['removeRemoteNode'](_0x580a8e);}catch(_0x20e5ba){throw this[_0x1ced39(0x894)](_0x20e5ba,{});}}[_0x5a8b1c(0xa0e)](_0x1ef73b){const _0x1d674e=_0x5a8b1c;return this[_0x1d674e(0x5be)][_0x1d674e(0xa0e)](_0x1ef73b);}async[_0x5a8b1c(0x8a5)](){const _0x20f5dc=_0x5a8b1c;try{await this['connectionManager'][_0x20f5dc(0x8a5)]();const _0x4e6581=await this['nodeManager']['discover']();for(const _0x4304d2 of _0x4e6581)this[_0x20f5dc(0x5be)][_0x20f5dc(0x75f)](_0x4304d2);}catch(_0x272037){throw this[_0x20f5dc(0x894)](_0x272037,{});}}[_0x5a8b1c(0x6b0)](_0x5f1f3d){const _0xe0afbc=_0x5a8b1c;this['localNode'][_0xe0afbc(0x2a5)]===_0x52baed[_0xe0afbc(0x935)][_0xe0afbc(0x886)]&&(this[_0xe0afbc(0x650)][_0xe0afbc(0x483)](_0x5f1f3d[_0xe0afbc(0x30e)]()),this['localNode'][_0xe0afbc(0x89e)](_0x5f1f3d[_0xe0afbc(0x378)]()));}[_0x5a8b1c(0x494)]({force:_0x2bc4bb=!0x1},_0x4b71c2=!0x1){const _0x5617d=_0x5a8b1c;if(_0x241131[_0x5617d(0x382)](_0x5617d(0x3bc),{'clusterId':this['clusterId'],'nodeId':this[_0x5617d(0x650)][_0x5617d(0x3dd)](),'nodeType':this[_0x5617d(0x650)]['type']}),!_0x2bc4bb&&this[_0x5617d(0x5be)][_0x5617d(0x794)]())throw new _0x4ec9e4(_0x47ec8c['ConnectionBufferNotEmpty'],'Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection');_0x241131['processBatch'](),this['systemTopicUnsubscribe'](),this['remediationManager'][_0x5617d(0x494)](),this[_0x5617d(0x295)][_0x5617d(0x494)](),this[_0x5617d(0x603)]['close'](),this['subscriptionManager'][_0x5617d(0x494)](),this[_0x5617d(0x5be)][_0x5617d(0x494)](),this[_0x5617d(0x28d)][_0x5617d(0x494)](_0x4b71c2),this['nodeManager'][_0x5617d(0x494)]();}['openPubSubTopic'](_0x38369f){const _0x529cb3=_0x5a8b1c;try{const _0x92e53f=this[_0x529cb3(0x28d)][_0x529cb3(0x429)](_0x38369f),_0x33e2d1=this['connectionManager'][_0x529cb3(0x907)]();return this[_0x529cb3(0x722)]['createOutgoingSubscription'](_0x92e53f,_0x33e2d1),this[_0x529cb3(0x722)][_0x529cb3(0xaee)](_0x33e2d1,_0x92e53f),_0x92e53f;}catch(_0x443aae){throw this[_0x529cb3(0x894)](_0x443aae,{});}}async[_0x5a8b1c(0x4d0)](_0x2f2ef4,_0x31283c){const _0x28f8a1=_0x5a8b1c;try{const _0x3e9a8e=this[_0x28f8a1(0x28d)][_0x28f8a1(0x488)](_0x2f2ef4,this[_0x28f8a1(0x392)][_0x28f8a1(0x754)],_0x31283c),_0x1514ea=this[_0x28f8a1(0x5be)][_0x28f8a1(0x907)]();return this[_0x28f8a1(0x722)][_0x28f8a1(0x60c)](_0x3e9a8e,_0x1514ea),this[_0x28f8a1(0x722)][_0x28f8a1(0xaee)](_0x1514ea,_0x3e9a8e),await _0x3e9a8e[_0x28f8a1(0x4df)](),_0x3e9a8e;}catch(_0x151706){throw this[_0x28f8a1(0x894)](_0x151706,{});}}async[_0x5a8b1c(0x682)](_0x10c14c,_0x56a36b){const _0x391cdd=_0x5a8b1c;try{if(!this[_0x391cdd(0x392)][_0x391cdd(0x262)])throw new _0x4ec9e4(_0x47ec8c[_0x391cdd(0x8d9)],'Missing\x20external\x20storage\x20connector');if(!(this[_0x391cdd(0x3c4)]instanceof _0x41f17e))throw new _0x4ec9e4(_0x47ec8c[_0x391cdd(0x16d)],_0x391cdd(0x54b));const _0x9affb0=this[_0x391cdd(0x392)][_0x391cdd(0x262)][_0x391cdd(0x8a4)](_0x56a36b);if(!_0x9affb0)throw new _0x4ec9e4(_0x47ec8c[_0x391cdd(0x8d9)],_0x391cdd(0x29c));const _0x170416=this[_0x391cdd(0x28d)][_0x391cdd(0x582)](_0x10c14c,_0x9affb0),_0x30c1fb=this[_0x391cdd(0x5be)][_0x391cdd(0x907)]();return this[_0x391cdd(0x722)][_0x391cdd(0x60c)](_0x170416,_0x30c1fb),this[_0x391cdd(0x722)][_0x391cdd(0xaee)](_0x30c1fb,_0x170416),await _0x170416['open'](),_0x170416;}catch(_0x48a72b){throw this[_0x391cdd(0x894)](_0x48a72b,{});}}async[_0x5a8b1c(0x738)](_0x25c195,_0x13b6df,_0x2d69a7){const _0x351597=_0x5a8b1c;try{_0x2d69a7=_0x2d69a7||this[_0x351597(0x392)][_0x351597(0x977)];const _0x4dcdcc=await this[_0x351597(0x28d)]['createKeyValueDatabase'](_0x25c195,_0x13b6df,_0x2d69a7),_0xcc6786=this[_0x351597(0x5be)][_0x351597(0x907)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x4dcdcc,_0xcc6786),this['subscriptionManager'][_0x351597(0xaee)](_0xcc6786,_0x4dcdcc),await _0x4dcdcc[_0x351597(0x275)](),this[_0x351597(0x5c8)](_0x4dcdcc),_0x4dcdcc;}catch(_0xf31ba2){throw this[_0x351597(0x894)](_0xf31ba2,{});}}async[_0x5a8b1c(0x874)](_0x5aa4c2){const _0x232661=_0x5a8b1c;try{const _0x3bce1e=await this[_0x232661(0x28d)][_0x232661(0xa0f)](_0x5aa4c2,this[_0x232661(0xa48)]),_0x18c1cd=this[_0x232661(0x5be)][_0x232661(0x907)]();return this[_0x232661(0x722)][_0x232661(0x60c)](_0x3bce1e,_0x18c1cd),this['subscriptionManager'][_0x232661(0xaee)](_0x18c1cd,_0x3bce1e),_0x3bce1e[_0x232661(0x275)](),_0x3bce1e;}catch(_0x55ae95){throw this[_0x232661(0x894)](_0x55ae95,{});}}async['openJobWorker'](_0x4d4808){const _0x5c7f9e=_0x5a8b1c;throw new Error(_0x5c7f9e(0x43b));}async['openGenerativeAIContext'](_0x56cd53){const _0x2f27a7=_0x5a8b1c;try{const _0xa5fa75=await this['contentManager'][_0x2f27a7(0x2f1)](_0x56cd53,this[_0x2f27a7(0xa48)]),_0xfb13a4=this[_0x2f27a7(0x5be)]['getConnectionGroup']();return this[_0x2f27a7(0x722)][_0x2f27a7(0x60c)](_0xa5fa75,_0xfb13a4),this[_0x2f27a7(0x722)][_0x2f27a7(0xaee)](_0xfb13a4,_0xa5fa75),_0xa5fa75[_0x2f27a7(0x275)](),_0xa5fa75;}catch(_0x73cc53){throw console[_0x2f27a7(0x5fb)](_0x73cc53),this[_0x2f27a7(0x894)](_0x73cc53,{});}}async[_0x5a8b1c(0x4f0)](_0x390cfc){const _0x43d333=_0x5a8b1c;try{if(!(this['options'][_0x43d333(0xb3f)]&&this['options']['documentParserConnector']&&this[_0x43d333(0x392)][_0x43d333(0x6b5)]&&this['options'][_0x43d333(0x25d)]))throw new _0x4ec9e4(_0x47ec8c[_0x43d333(0x348)],_0x43d333(0x669));if(!this[_0x43d333(0xab3)][_0x43d333(0x4b5)])throw new _0x4ec9e4(_0x47ec8c['ApiKeyMissing'],_0x43d333(0x1c9));const _0x5677d3=[];for(const [_0x256a8a,_0x22aa9f]of this[_0x43d333(0x392)][_0x43d333(0xb3f)]){let _0x574d5b;_0x256a8a===_0x52baed[_0x43d333(0x32c)][_0x43d333(0xa3d)]&&(_0x574d5b=this[_0x43d333(0xab3)][_0x43d333(0x4b5)]),_0x256a8a===_0x52baed[_0x43d333(0x32c)][_0x43d333(0x311)]&&(_0x574d5b=this[_0x43d333(0xab3)]['anthropicApiKey']),_0x5677d3['push'](new _0x22aa9f(_0x574d5b));}const _0x42a8ce=new this['options']['objectStoreConnector'](_0x43d333(0x28f)),_0x581149=new this[(_0x43d333(0x392))][(_0x43d333(0x748))](),_0x5b6ea=new this['options'][(_0x43d333(0x6b5))](this[_0x43d333(0xab3)][_0x43d333(0x4b5)]),_0x14acfc=new this['options'][(_0x43d333(0x25d))]();let _0x3b46e6,_0x55eba0,_0x43613e,_0x11b4bf;if(this[_0x43d333(0x392)]['searchConnector']){if(!this['configs']['searchApiKey'])throw new _0x4ec9e4(_0x47ec8c['ApiKeyMissing'],_0x43d333(0x989));_0x3b46e6=new this[(_0x43d333(0x392))]['searchConnector'](this[_0x43d333(0xab3)][_0x43d333(0x75b)]);}if(this['options']['aiSearchConnector']){if(!this[_0x43d333(0xab3)][_0x43d333(0x95c)])throw new _0x4ec9e4(_0x47ec8c[_0x43d333(0x206)],_0x43d333(0x5ec));_0x55eba0=new this[(_0x43d333(0x392))][(_0x43d333(0xab2))](this[_0x43d333(0xab3)][_0x43d333(0x95c)]);}if(this[_0x43d333(0x392)][_0x43d333(0x4e0)]&&(_0x43613e=new this[(_0x43d333(0x392))]['queryFileConnector']()),this[_0x43d333(0x392)][_0x43d333(0x286)]){if(!this[_0x43d333(0xab3)][_0x43d333(0x8ef)])throw new _0x4ec9e4(_0x47ec8c[_0x43d333(0x206)],'Missing\x20RAG\x20API\x20key');_0x11b4bf=new Map();for(const [_0x4df9fd,_0x4e6092]of this[_0x43d333(0x392)][_0x43d333(0x286)])_0x11b4bf[_0x43d333(0x984)](_0x4df9fd,new _0x4e6092(this[_0x43d333(0xab3)]['ragApiKey']));}return await this[_0x43d333(0x28d)][_0x43d333(0x98b)](_0x390cfc,_0x5677d3,_0x42a8ce,_0x581149,_0x5b6ea,_0x14acfc,_0x3b46e6,_0x55eba0,_0x43613e,_0x11b4bf,this[_0x43d333(0xab3)][_0x43d333(0x4b5)]);}catch(_0x326491){throw this[_0x43d333(0x894)](_0x326491,{});}}async['openGenerativeAIWorker'](_0x35a574){const _0x516d54=_0x5a8b1c;try{if(!(this[_0x516d54(0x392)][_0x516d54(0xb3f)]&&this[_0x516d54(0x392)][_0x516d54(0x748)]&&this['options'][_0x516d54(0x6b5)]&&this[_0x516d54(0x392)][_0x516d54(0x25d)]))throw new _0x4ec9e4(_0x47ec8c[_0x516d54(0x348)],_0x516d54(0x669));if(!(this['authNode']instanceof _0x41f17e))throw new _0x4ec9e4(_0x47ec8c['NodeInvalidType'],_0x516d54(0x54b));if(!this[_0x516d54(0xab3)][_0x516d54(0x4b5)])throw new _0x4ec9e4(_0x47ec8c[_0x516d54(0x206)],_0x516d54(0x1c9));const _0x4d1ba9=[];for(const [_0x4d586a,_0x334f25]of this[_0x516d54(0x392)][_0x516d54(0xb3f)]){let _0x30cd03;_0x4d586a===_0x52baed['GenerativeAIEngineType'][_0x516d54(0xa3d)]&&(_0x30cd03=this[_0x516d54(0xab3)]['openaiApiKey']),_0x4d586a===_0x52baed[_0x516d54(0x32c)][_0x516d54(0x311)]&&(_0x30cd03=this['configs'][_0x516d54(0x26f)]),_0x4d1ba9[_0x516d54(0x3a9)](new _0x334f25(_0x30cd03));}const _0x413337=new this[(_0x516d54(0x392))][(_0x516d54(0x754))](_0x516d54(0x28f)),_0x5c5aa4=new this[(_0x516d54(0x392))][(_0x516d54(0x748))](),_0x39b905=new this['options'][(_0x516d54(0x6b5))](this[_0x516d54(0xab3)]['openaiApiKey']),_0x3f3355=new this[(_0x516d54(0x392))][(_0x516d54(0x25d))]();let _0x4ec81b,_0x15e723,_0x5ca1e3,_0x4dcc7f;if(this[_0x516d54(0x392)][_0x516d54(0x5ed)]){if(!this['configs']['searchApiKey'])throw new _0x4ec9e4(_0x47ec8c[_0x516d54(0x206)],_0x516d54(0x989));_0x4ec81b=new this['options'][(_0x516d54(0x5ed))](this[_0x516d54(0xab3)]['searchApiKey']);}if(this['options'][_0x516d54(0xab2)]){if(!this[_0x516d54(0xab3)][_0x516d54(0x95c)])throw new _0x4ec9e4(_0x47ec8c[_0x516d54(0x206)],_0x516d54(0x5ec));_0x15e723=new this[(_0x516d54(0x392))][(_0x516d54(0xab2))](this[_0x516d54(0xab3)][_0x516d54(0x95c)]);}if(this[_0x516d54(0x392)][_0x516d54(0x4e0)]&&(_0x5ca1e3=new this['options'][(_0x516d54(0x4e0))]()),this['options'][_0x516d54(0x286)]){if(!this[_0x516d54(0xab3)][_0x516d54(0x8ef)])throw new _0x4ec9e4(_0x47ec8c['ApiKeyMissing'],'Missing\x20RAG\x20API\x20key');_0x4dcc7f=new Map();for(const [_0x1a62c1,_0x350ce7]of this[_0x516d54(0x392)][_0x516d54(0x286)])_0x4dcc7f[_0x516d54(0x984)](_0x1a62c1,new _0x350ce7(this[_0x516d54(0xab3)][_0x516d54(0x8ef)]));}const _0x22b424=await this[_0x516d54(0x28d)][_0x516d54(0x50d)](_0x35a574,this[_0x516d54(0x3c4)],_0x4d1ba9,_0x413337,_0x5c5aa4,_0x39b905,_0x3f3355,_0x4ec81b,_0x15e723,_0x5ca1e3,_0x4dcc7f,this[_0x516d54(0xab3)]['openaiApiKey']),_0x327f80=this[_0x516d54(0x5be)][_0x516d54(0x907)]();this[_0x516d54(0x722)][_0x516d54(0x60c)](_0x22b424,_0x327f80),this[_0x516d54(0x722)][_0x516d54(0xaee)](_0x327f80,_0x22b424);const _0x2e5923=this['nodeManager'][_0x516d54(0x51a)]();return await _0x22b424['open'](0x0===_0x2e5923[_0x516d54(0xa39)]||void 0x0),_0x22b424;}catch(_0x147e48){throw this[_0x516d54(0x894)](_0x147e48,{});}}['openGraphDatabase'](_0xf8ca60){const _0x168196=_0x5a8b1c;try{if(!this[_0x168196(0x392)][_0x168196(0x806)])throw new _0x4ec9e4(_0x47ec8c[_0x168196(0xa8f)],'Missing\x20graph\x20database\x20connector');if(!(this['authNode']instanceof _0x41f17e))throw new _0x4ec9e4(_0x47ec8c[_0x168196(0x16d)],_0x168196(0x54b));const _0x4e60b5=this['contentManager'][_0x168196(0x455)](_0xf8ca60,this[_0x168196(0x392)][_0x168196(0x806)]),_0x451931=this[_0x168196(0x5be)][_0x168196(0x907)]();return this[_0x168196(0x722)][_0x168196(0x60c)](_0x4e60b5,_0x451931),this['subscriptionManager']['createIncomingSubscription'](_0x451931,_0x4e60b5),_0x4e60b5;}catch(_0x43c86f){throw this['handleError'](_0x43c86f,{});}}['openVectorDatabase'](_0x26a99b){const _0x58dfc4=_0x5a8b1c;try{if(!this['options'][_0x58dfc4(0x1a2)])throw new _0x4ec9e4(_0x47ec8c[_0x58dfc4(0xaba)],_0x58dfc4(0x23c));if(!(this[_0x58dfc4(0x3c4)]instanceof _0x41f17e))throw new _0x4ec9e4(_0x47ec8c[_0x58dfc4(0x16d)],_0x58dfc4(0x54b));const _0x5716e7=this[_0x58dfc4(0x28d)][_0x58dfc4(0x90e)](_0x26a99b,this[_0x58dfc4(0x392)][_0x58dfc4(0x1a2)]),_0x30280e=this[_0x58dfc4(0x5be)][_0x58dfc4(0x907)]();return this[_0x58dfc4(0x722)]['createOutgoingSubscription'](_0x5716e7,_0x30280e),this[_0x58dfc4(0x722)][_0x58dfc4(0xaee)](_0x30280e,_0x5716e7),_0x5716e7;}catch(_0x2f0d89){throw this[_0x58dfc4(0x894)](_0x2f0d89,{});}}[_0x5a8b1c(0x581)](_0x1ba0ce){const _0x4723b5=_0x5a8b1c;try{return this[_0x4723b5(0x28d)]['getPubSubTopics'](_0x1ba0ce);}catch(_0x3d1522){throw this[_0x4723b5(0x894)](_0x3d1522,{});}}[_0x5a8b1c(0x167)](_0x38780f){const _0x54c542=_0x5a8b1c;try{return this[_0x54c542(0x28d)][_0x54c542(0x167)](_0x38780f);}catch(_0x26714e){throw this[_0x54c542(0x894)](_0x26714e,{});}}[_0x5a8b1c(0xb02)](_0x1bc504){const _0x25f86b=_0x5a8b1c;try{return this[_0x25f86b(0x28d)]['getExternalStorageConnections'](_0x1bc504);}catch(_0x189c3c){throw this[_0x25f86b(0x894)](_0x189c3c,{});}}[_0x5a8b1c(0x273)](_0xb9a893){const _0x295218=_0x5a8b1c;try{return this[_0x295218(0x28d)][_0x295218(0x273)](_0xb9a893);}catch(_0x19e2da){throw this[_0x295218(0x894)](_0x19e2da,{});}}[_0x5a8b1c(0x708)](_0x5849bc){const _0xdaac8b=_0x5a8b1c;try{return this['contentManager']['getGenerativeAIContexts'](_0x5849bc);}catch(_0x1b85b2){throw this[_0xdaac8b(0x894)](_0x1b85b2,{});}}[_0x5a8b1c(0x5d2)](_0xf81d7f){const _0x391608=_0x5a8b1c;try{return this[_0x391608(0x28d)][_0x391608(0x5d2)](_0xf81d7f);}catch(_0x4b1829){throw this[_0x391608(0x894)](_0x4b1829,{});}}[_0x5a8b1c(0x237)](_0x48e32a){const _0x312f52=_0x5a8b1c;try{return this['contentManager']['getGenerativeAIWorkers'](_0x48e32a);}catch(_0x1ed103){throw this[_0x312f52(0x894)](_0x1ed103,{});}}['getGraphDatabases'](_0x3f0741){const _0x3564d5=_0x5a8b1c;try{return this[_0x3564d5(0x28d)]['getGraphDatabases'](_0x3f0741);}catch(_0x45798d){throw this[_0x3564d5(0x894)](_0x45798d,{});}}[_0x5a8b1c(0x637)](_0x5b2c49,_0x46bd20){const _0x5d49d3=_0x5a8b1c;if(!this[_0x5d49d3(0xab3)]['features']['includes'](_0x5b239a[_0x5d49d3(0x161)]))throw new _0x4ec9e4(_0x47ec8c[_0x5d49d3(0x1e4)],'MediaStream\x20feature\x20not\x20enabled');try{return this['contentManager']['createLocalMediaStream'](_0x5b2c49,_0x46bd20);}catch(_0x3c03f6){throw this['handleError'](_0x3c03f6,{});}}[_0x5a8b1c(0x507)](_0x3f707d,_0x3fe11c){const _0x26a71e=_0x5a8b1c;if(!this[_0x26a71e(0xab3)]['features'][_0x26a71e(0x595)](_0x5b239a['MediaStream']))throw new _0x4ec9e4(_0x47ec8c['FeatureNotEnabled'],_0x26a71e(0x8d4));try{return this['contentManager'][_0x26a71e(0x507)](_0x3f707d,_0x3fe11c);}catch(_0x1a01f4){throw this['handleError'](_0x1a01f4,{});}}['getLocalMediaStreams'](_0x5f2649){const _0x5b9cc0=_0x5a8b1c;if(!this[_0x5b9cc0(0xab3)][_0x5b9cc0(0x4e1)][_0x5b9cc0(0x595)](_0x5b239a[_0x5b9cc0(0x161)]))throw new _0x4ec9e4(_0x47ec8c[_0x5b9cc0(0x1e4)],_0x5b9cc0(0x8d4));try{return this[_0x5b9cc0(0x28d)][_0x5b9cc0(0xa9c)](_0x5f2649);}catch(_0x352c22){throw this[_0x5b9cc0(0x894)](_0x352c22,{});}}[_0x5a8b1c(0x1ee)](_0x5a751b){const _0x37a915=_0x5a8b1c;if(!this[_0x37a915(0xab3)]['features'][_0x37a915(0x595)](_0x5b239a[_0x37a915(0x161)]))throw new _0x4ec9e4(_0x47ec8c[_0x37a915(0x1e4)],_0x37a915(0x8d4));try{return this[_0x37a915(0x28d)][_0x37a915(0x1ee)](_0x5a751b);}catch(_0x387584){throw this[_0x37a915(0x894)](_0x387584,{});}}[_0x5a8b1c(0x315)](_0x1d0379){const _0x3450f9=_0x5a8b1c;try{return this[_0x3450f9(0x28d)][_0x3450f9(0x315)](_0x1d0379);}catch(_0x4eb574){throw this['handleError'](_0x4eb574,{});}}[_0x5a8b1c(0x633)](_0x131917,_0x11146c){const _0x28f540=_0x5a8b1c;return this[_0x28f540(0x560)][_0x28f540(0x633)](_0x131917,_0x11146c);}['getLocalNode'](){const _0x29bb9b=_0x5a8b1c;return this[_0x29bb9b(0x560)][_0x29bb9b(0x39e)]();}[_0x5a8b1c(0x43d)](_0x20637d){const _0x123d96=_0x5a8b1c;try{return this[_0x123d96(0x560)][_0x123d96(0x43d)](_0x20637d);}catch(_0x5c4cf2){throw this[_0x123d96(0x894)](_0x5c4cf2,{});}}[_0x5a8b1c(0x8af)](){const _0x4a2b34=_0x5a8b1c;return this['connectionManager'][_0x4a2b34(0x8af)]();}[_0x5a8b1c(0x3b2)](_0x173eec){const _0x516004=_0x5a8b1c;return this[_0x516004(0x560)][_0x516004(0x3b2)](_0x173eec);}async[_0x5a8b1c(0x569)](_0x636663){const _0x2591f2=_0x5a8b1c;try{if(_0x241131['log'](_0xf47a5['Events'],_0x2591f2(0xa31),this[_0x2591f2(0x560)]['getLocalId'](),_0x636663),_0x2b6706(_0x636663,this[_0x2591f2(0x560)][_0x2591f2(0x9a8)]()))return void this[_0x2591f2(0x5be)][_0x2591f2(0xb2b)](_0x636663);switch(_0x636663[_0x2591f2(0xb43)]){case _0x9cb7d1[_0x2591f2(0x420)]:this[_0x2591f2(0x603)][_0x2591f2(0x1da)](_0x636663),this[_0x2591f2(0x722)][_0x2591f2(0x1da)](_0x636663),this[_0x2591f2(0x28d)][_0x2591f2(0x1da)](_0x636663);break;case _0x9cb7d1[_0x2591f2(0x9aa)]:this['subscriptionManager'][_0x2591f2(0x4fd)](_0x636663),this[_0x2591f2(0x5be)][_0x2591f2(0x4fd)](_0x636663),this['contentManager'][_0x2591f2(0x4fd)](_0x636663),this['nodeManager'][_0x2591f2(0x4fd)](_0x636663);break;case _0x9cb7d1[_0x2591f2(0x61b)]:this['remediationManager'][_0x2591f2(0x57e)](_0x636663);break;case _0x9cb7d1[_0x2591f2(0x3e9)]:this[_0x2591f2(0x81d)]['handleRemediationSystemEvents'](_0x636663);break;case _0x9cb7d1[_0x2591f2(0x85a)]:this['detectionManager'][_0x2591f2(0x24d)](_0x636663);break;case _0x9cb7d1[_0x2591f2(0x2cf)]:_0x636663[_0x2591f2(0x2fa)]['type']!==_0x22bb2e[_0x2591f2(0x9ed)]?(this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x636663),this['contentManager'][_0x2591f2(0x596)](_0x636663)):(this['contentManager'][_0x2591f2(0x596)](_0x636663),this[_0x2591f2(0x722)]['handleSubscriptionSystemEvents'](_0x636663));break;case _0x9cb7d1['PeerConnection']:await this[_0x2591f2(0x5be)][_0x2591f2(0x9c7)](_0x636663),this[_0x2591f2(0x603)][_0x2591f2(0x9c7)](_0x636663),this[_0x2591f2(0x560)][_0x2591f2(0x9c7)](_0x636663),this[_0x2591f2(0x722)][_0x2591f2(0x9c7)](_0x636663);}}catch(_0x47c09f){throw _0x241131['debug'](_0x2591f2(0x569),_0x47c09f),this[_0x2591f2(0x894)](_0x47c09f,{});}}['handleError'](_0x35c27e,_0x252259){const _0x348f05=_0x5a8b1c;if(!(_0x35c27e instanceof _0x181159)){if(_0x35c27e instanceof _0x4ec9e4)throw _0x35c27e;if(!(_0x35c27e instanceof Error))throw new _0x4ec9e4(_0x47ec8c[_0x348f05(0x4fe)],_0x348f05(0xa2a)+_0x35c27e);if(!(_0x35c27e instanceof _0xdb384))throw new _0x4ec9e4(_0x47ec8c['InternalSDKError'],_0x348f05(0x875)+_0x35c27e[_0x348f05(0x421)]);switch(_0x35c27e[_0x348f05(0x5ac)]){case _0xdb384[_0x348f05(0x549)]['MissingSystemTopic']:case _0xdb384[_0x348f05(0x549)]['MissingRemoteConnection']:case _0xdb384[_0x348f05(0x549)][_0x348f05(0x14c)]:case _0xdb384['codes'][_0x348f05(0xb47)]:case _0xdb384[_0x348f05(0x549)][_0x348f05(0x555)]:case _0xdb384[_0x348f05(0x549)][_0x348f05(0x801)]:case _0xdb384[_0x348f05(0x549)]['InvalidPublisher']:case _0xdb384[_0x348f05(0x549)]['InvalidSubscriber']:case _0xdb384[_0x348f05(0x549)][_0x348f05(0x240)]:case _0xdb384[_0x348f05(0x549)][_0x348f05(0xb04)]:case _0xdb384['codes']['SubscriptionRequestNoAnswer']:case _0xdb384[_0x348f05(0x549)][_0x348f05(0xa4a)]:}throw _0x241131[_0x348f05(0x5fb)]('sdk-internal-error:\x20'+_0x35c27e[_0x348f05(0x421)],{'clusterId':this[_0x348f05(0x659)],'nodeId':this[_0x348f05(0x650)][_0x348f05(0x3dd)](),'nodeType':this[_0x348f05(0x650)][_0x348f05(0x2a5)]},_0x35c27e),new _0x4ec9e4(_0x47ec8c[_0x348f05(0x4fe)],'Internal\x20SDK\x20error:\x20'+_0x35c27e[_0x348f05(0x421)]);}}['getConfigs'](){const _0x159922=_0x5a8b1c;return{'mediator':this,'vendorId':this[_0x159922(0x26a)],'clusterId':this[_0x159922(0x659)],'localNode':this[_0x159922(0x650)]};}['initializeSystemTopic'](){const _0x4d602a=_0x5a8b1c;return this[_0x4d602a(0x625)][_0x4d602a(0x19a)](_0x1f2b80=>{const _0x5ab0ca=_0x4d602a,_0x2c1381=_0x46a179(_0x1f2b80,this[_0x5ab0ca(0x650)]['getId']()),_0x51fa19=_0x1f2b80['messageType']===_0x9cb7d1[_0x5ab0ca(0x85a)]||_0x1f2b80[_0x5ab0ca(0xb43)]===_0x9cb7d1[_0x5ab0ca(0x7b3)]&&_0x1f2b80[_0x5ab0ca(0x2fa)]['type']===_0x5e1ebe[_0x5ab0ca(0x85a)]?_0xf47a5[_0x5ab0ca(0x77a)]:_0xf47a5[_0x5ab0ca(0x485)];_0x241131[_0x5ab0ca(0x459)](_0x51fa19,_0x1f2b80[_0x5ab0ca(0x2f9)]+_0x5ab0ca(0xade)+_0x2c1381,_0x1f2b80),this[_0x5ab0ca(0x569)](_0x1f2b80)['catch'](_0x891c4b=>{const _0x3a91ed=_0x5ab0ca;console[_0x3a91ed(0x5fb)](_0x891c4b);});});}async[_0x5a8b1c(0x5c8)](_0x18ef5e){const _0x5e73ea=_0x5a8b1c,{timingLogger:_0xa02a78,logger:_0x574b64,logBeforeSync:_0x35e41e,logAfterSync:_0x1f291a}=function(_0x9bd247,_0x5e3140){const _0x15d766=a0_0x2316;if(!_0x241131[_0x15d766(0x53e)](_0x5e3140))return _0x241131['debug']('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x5e3140),{..._0x276eaa(_0x9bd247,_0x5e3140),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x328937,logger:_0x1e4199}=_0x276eaa(_0x9bd247,_0x5e3140);let _0x285fd1=0x0;return _0x285fd1=Date[_0x15d766(0x744)](),{'syncStartTime':_0x285fd1,'timingLogger':_0x328937,'logger':_0x1e4199,'logBeforeSync':()=>(_0x3496ca(_0x5e3140,_0x15d766(0x188)),_0x328937[_0x15d766(0x744)]()),'logAfterSync':(_0x4a8176,_0x2d5460)=>{const _0x52e1a0=_0x15d766,_0x526a85=Date[_0x52e1a0(0x744)]();_0x3496ca(_0x5e3140,_0x52e1a0(0x562)+_0x2d5460);const _0x27af82=(_0x526a85-_0x285fd1)/0x3e8,_0x2253d0=(_0x526a85-_0x4a8176)/0x3e8;_0x241131[_0x52e1a0(0x2d3)](_0x5e3140,_0x52e1a0(0x223),_0x9bd247,_0x52e1a0(0x3a5)+_0x27af82['toFixed'](0x2)+_0x52e1a0(0x46f),_0x52e1a0(0x910)+_0x2253d0[_0x52e1a0(0x419)](0x3)+_0x52e1a0(0x46f),'\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x526a85-_0x285fd1)/0x3e8-_0x2253d0)[_0x52e1a0(0x419)](0x2)+_0x52e1a0(0x46f));}};}(_0x18ef5e['getLabel'](),_0xf47a5[_0x5e73ea(0x951)]);_0x574b64[_0x5e73ea(0x2d3)](_0x5e73ea(0x166));const _0x1c2eee=this['nodeManager'][_0x5e73ea(0x51a)]()[_0x5e73ea(0xa39)]>0x0;if(_0x1c2eee){_0x574b64['log'](_0x5e73ea(0x57a),()=>this[_0x5e73ea(0x560)][_0x5e73ea(0x51a)]()),_0xa02a78[_0x5e73ea(0x3a0)](),await Promise['all'](this[_0x5e73ea(0x560)][_0x5e73ea(0x51a)]()[_0x5e73ea(0x3d5)](async _0x3f6bc1=>await this[_0x5e73ea(0x560)][_0x5e73ea(0x3b2)](_0x3f6bc1)))[_0x5e73ea(0xaa0)](_0x1217c9=>_0x241131[_0x5e73ea(0x382)](_0x5e73ea(0x76a),{'nodeId':this[_0x5e73ea(0x650)][_0x5e73ea(0x3dd)](),'nodeType':this[_0x5e73ea(0x650)][_0x5e73ea(0x2a5)]}));const _0x485299=_0x574b64[_0x5e73ea(0x7a5)](()=>this[_0x5e73ea(0x560)][_0x5e73ea(0x51a)](),[]);_0xa02a78[_0x5e73ea(0x5ff)](_0x5e73ea(0x33a)+_0x485299+'\x20were\x20ready\x20in');}_0x1f291a(_0x35e41e(),await _0x18ef5e[_0x5e73ea(0x4df)](_0x1c2eee,async()=>{const _0x138d5f=_0x5e73ea;_0xa02a78[_0x138d5f(0x3a0)](),await this[_0x138d5f(0x560)]['isReady'](),_0xa02a78[_0x138d5f(0x5ff)](_0x138d5f(0x556)),_0x18ef5e[_0x138d5f(0x4df)](!0x0,()=>{const _0x5c03f9=_0x138d5f;_0x574b64['log'](_0x5c03f9(0x6de)),_0x18ef5e[_0x5c03f9(0x4df)](!0x1);},!0x0);}));}}class _0x11c37e{[_0x5a8b1c(0x26a)];[_0x5a8b1c(0x659)];[_0x5a8b1c(0x3c4)];[_0x5a8b1c(0x7e4)];[_0x5a8b1c(0x328)];constructor(_0x2e9043,_0x305fde,_0x5056f4,_0x4ac027,_0x30fedd,_0x55143c,_0x11c53b=new _0x120347()){const _0x1f8535=_0x5a8b1c;this[_0x1f8535(0x26a)]=_0x2e9043,this[_0x1f8535(0x659)]=_0x305fde,this[_0x1f8535(0x3c4)]=_0x5056f4,this[_0x1f8535(0x7e4)]=_0x11c53b,this[_0x1f8535(0x328)]=new _0x3d5fb9(this['vendorId'],this[_0x1f8535(0x659)],_0x5056f4,_0x4ac027,_0x30fedd,_0x55143c,this);}async[_0x5a8b1c(0x59d)](){const _0xce3214=_0x5a8b1c;await this['orchestrator'][_0xce3214(0x8a5)](),this['authNode']['type']===_0x52baed[_0xce3214(0x935)][_0xce3214(0x886)]&&this[_0xce3214(0x3c4)][_0xce3214(0x236)](this[_0xce3214(0x659)],_0xba0f22=>{const _0x10e380=_0xce3214;this[_0x10e380(0x328)]['updateUser'](_0xba0f22);});}[_0x5a8b1c(0x3f1)](_0x593fc3={}){const _0x3e7ffd=_0x5a8b1c;this[_0x3e7ffd(0x328)][_0x3e7ffd(0x494)](_0x593fc3),this['authNode'][_0x3e7ffd(0x2a5)]===_0x52baed['NodeType']['User']&&this['authNode'][_0x3e7ffd(0x868)](this[_0x3e7ffd(0x659)]),this[_0x3e7ffd(0x929)](_0x3e7ffd(0x651),void 0x0);}[_0x5a8b1c(0xb15)](_0x477f48){const _0x2b0d53=_0x5a8b1c,_0x8930ae=this[_0x2b0d53(0x328)]['openPubSubTopic'](_0x477f48);return{'getName':_0x8930ae[_0x2b0d53(0x1cb)][_0x2b0d53(0x901)](_0x8930ae),'getOwnerId':_0x8930ae[_0x2b0d53(0x770)][_0x2b0d53(0x901)](_0x8930ae),'getContentType':_0x8930ae['getContentType'][_0x2b0d53(0x901)](_0x8930ae),'publish':_0x8930ae['publish'][_0x2b0d53(0x901)](_0x8930ae),'subscribe':_0x8930ae[_0x2b0d53(0x19a)]['bind'](_0x8930ae),'unsubscribe':_0x8930ae['unsubscribe'][_0x2b0d53(0x901)](_0x8930ae),'close':_0x8930ae[_0x2b0d53(0x494)][_0x2b0d53(0x901)](_0x8930ae)};}async[_0x5a8b1c(0x4d0)](_0x3c54eb,_0x50188e){const _0x2c2a7e=_0x5a8b1c,_0x54382b=await this[_0x2c2a7e(0x328)][_0x2c2a7e(0x4d0)](_0x3c54eb,_0x50188e);return{'getName':_0x54382b[_0x2c2a7e(0x1cb)][_0x2c2a7e(0x901)](_0x54382b),'getOwnerId':_0x54382b[_0x2c2a7e(0x770)]['bind'](_0x54382b),'getContentType':_0x54382b['getContentType'][_0x2c2a7e(0x901)](_0x54382b),'publish':_0x54382b['publish'][_0x2c2a7e(0x901)](_0x54382b),'unpublish':_0x54382b['unpublish']['bind'](_0x54382b),'get':_0x54382b[_0x2c2a7e(0x8a4)][_0x2c2a7e(0x901)](_0x54382b),'list':_0x54382b[_0x2c2a7e(0x24a)]['bind'](_0x54382b),'getSize':_0x54382b[_0x2c2a7e(0x4ad)][_0x2c2a7e(0x901)](_0x54382b),'subscribe':_0x54382b[_0x2c2a7e(0x19a)][_0x2c2a7e(0x901)](_0x54382b),'unsubscribe':_0x54382b[_0x2c2a7e(0xa68)][_0x2c2a7e(0x901)](_0x54382b),'close':_0x54382b[_0x2c2a7e(0x494)]['bind'](_0x54382b)};}async[_0x5a8b1c(0x682)](_0x480ac3,_0xf45fb5){const _0x47833f=_0x5a8b1c,_0x1feda4=await this[_0x47833f(0x328)][_0x47833f(0x682)](_0x480ac3,_0xf45fb5);return{'getName':_0x1feda4[_0x47833f(0x1cb)][_0x47833f(0x901)](_0x1feda4),'getOwnerId':_0x1feda4[_0x47833f(0x770)][_0x47833f(0x901)](_0x1feda4),'getContentType':_0x1feda4[_0x47833f(0x62f)][_0x47833f(0x901)](_0x1feda4),'close':_0x1feda4['close'][_0x47833f(0x901)](_0x1feda4),'get':_0x1feda4[_0x47833f(0x8a4)]['bind'](_0x1feda4),'list':_0x1feda4[_0x47833f(0x24a)][_0x47833f(0x901)](_0x1feda4),'subscribe':_0x1feda4[_0x47833f(0x19a)][_0x47833f(0x901)](_0x1feda4),'unsubscribe':_0x1feda4[_0x47833f(0xa68)][_0x47833f(0x901)](_0x1feda4)};}async[_0x5a8b1c(0x738)](_0x5920a0,_0x2243b2,_0x3627e1){const _0x293953=_0x5a8b1c,_0x2d9f12=await this[_0x293953(0x328)][_0x293953(0x738)](_0x5920a0,_0x2243b2,_0x3627e1);return{'getName':_0x2d9f12[_0x293953(0x1cb)][_0x293953(0x901)](_0x2d9f12),'getOwnerId':_0x2d9f12[_0x293953(0x770)]['bind'](_0x2d9f12),'getContentType':_0x2d9f12[_0x293953(0x62f)]['bind'](_0x2d9f12),'getTable':_0x2d9f12[_0x293953(0x9f6)][_0x293953(0x901)](_0x2d9f12),'subscribe':_0x2d9f12[_0x293953(0x19a)]['bind'](_0x2d9f12),'unsubscribe':_0x2d9f12['unsubscribe'][_0x293953(0x901)](_0x2d9f12),'close':_0x2d9f12[_0x293953(0x494)][_0x293953(0x901)](_0x2d9f12)};}async['openJobDispatcher'](_0x50f542){const _0x467ae5=_0x5a8b1c,_0x9aedb3=await this[_0x467ae5(0x328)][_0x467ae5(0x874)](_0x50f542);return{'getName':_0x9aedb3[_0x467ae5(0x1cb)][_0x467ae5(0x901)](_0x9aedb3),'getOwnerId':_0x9aedb3[_0x467ae5(0x770)]['bind'](_0x9aedb3),'getContentType':_0x9aedb3['getContentType'][_0x467ae5(0x901)](_0x9aedb3),'createJob':_0x9aedb3[_0x467ae5(0x1b7)][_0x467ae5(0x901)](_0x9aedb3),'getJob':_0x9aedb3['getJob'][_0x467ae5(0x901)](_0x9aedb3),'getJobs':_0x9aedb3['getJobs'][_0x467ae5(0x901)](_0x9aedb3),'close':_0x9aedb3['close'][_0x467ae5(0x901)](_0x9aedb3)};}async[_0x5a8b1c(0xa57)](_0x25d50f){const _0x48fa7b=_0x5a8b1c,_0x144e2e=await this[_0x48fa7b(0x328)]['openJobWorker'](_0x25d50f);return{'close':_0x144e2e[_0x48fa7b(0x494)][_0x48fa7b(0x901)](_0x144e2e)};}async[_0x5a8b1c(0x58b)](_0x229aa3){const _0xa96dfb=_0x5a8b1c,_0x2c2c1f=await this[_0xa96dfb(0x328)][_0xa96dfb(0x58b)](_0x229aa3);return{'createAIJob':_0x2c2c1f['createAIJob'][_0xa96dfb(0x901)](_0x2c2c1f),'getDataBucketIds':_0x2c2c1f[_0xa96dfb(0x312)]['bind'](_0x2c2c1f),'close':_0x2c2c1f[_0xa96dfb(0x494)]['bind'](_0x2c2c1f)};}async['openGenerativeAIContextStandalone'](_0xaa29e0){const _0x4d9930=_0x5a8b1c,_0x17cedb=await this[_0x4d9930(0x328)][_0x4d9930(0x4f0)](_0xaa29e0);return{'createAIJob':_0x17cedb[_0x4d9930(0x4b6)][_0x4d9930(0x901)](_0x17cedb),'getDataBucketIds':_0x17cedb[_0x4d9930(0x312)][_0x4d9930(0x901)](_0x17cedb),'close':_0x17cedb[_0x4d9930(0x494)][_0x4d9930(0x901)](_0x17cedb)};}async[_0x5a8b1c(0x8ff)](_0x25d86f){const _0x1c69fd=_0x5a8b1c,_0x49fc3f=await this[_0x1c69fd(0x328)][_0x1c69fd(0x8ff)](_0x25d86f);return{'close':_0x49fc3f['close']['bind'](_0x49fc3f)};}[_0x5a8b1c(0x271)](_0x53b43a){const _0x4de3d6=_0x5a8b1c,_0xf6adf6=this[_0x4de3d6(0x328)][_0x4de3d6(0x271)](_0x53b43a);return{'getName':_0xf6adf6[_0x4de3d6(0x1cb)]['bind'](_0xf6adf6),'getOwnerId':_0xf6adf6[_0x4de3d6(0x770)][_0x4de3d6(0x901)](_0xf6adf6),'getContentType':_0xf6adf6['getContentType'][_0x4de3d6(0x901)](_0xf6adf6),'addNode':_0xf6adf6[_0x4de3d6(0xa94)][_0x4de3d6(0x901)](_0xf6adf6),'addEdge':_0xf6adf6[_0x4de3d6(0x855)][_0x4de3d6(0x901)](_0xf6adf6),'getContent':_0xf6adf6['getContent']['bind'](_0xf6adf6),'remove':_0xf6adf6[_0x4de3d6(0x3d1)]['bind'](_0xf6adf6),'saveToDisk':_0xf6adf6[_0x4de3d6(0x5b1)][_0x4de3d6(0x901)](_0xf6adf6),'loadFromDisk':_0xf6adf6[_0x4de3d6(0x30c)]['bind'](_0xf6adf6),'close':_0xf6adf6[_0x4de3d6(0x494)]['bind'](_0xf6adf6)};}[_0x5a8b1c(0x346)](_0x266432){const _0x3eaa32=_0x5a8b1c,_0x30c5c8=this[_0x3eaa32(0x328)]['openVectorDatabase'](_0x266432);return{'getName':_0x30c5c8[_0x3eaa32(0x1cb)]['bind'](_0x30c5c8),'getOwnerId':_0x30c5c8[_0x3eaa32(0x770)]['bind'](_0x30c5c8),'getContentType':_0x30c5c8[_0x3eaa32(0x62f)][_0x3eaa32(0x901)](_0x30c5c8),'search':_0x30c5c8[_0x3eaa32(0x280)]['bind'](_0x30c5c8),'insert':_0x30c5c8[_0x3eaa32(0x15e)][_0x3eaa32(0x901)](_0x30c5c8),'remove':_0x30c5c8['remove'][_0x3eaa32(0x901)](_0x30c5c8),'saveToDisk':_0x30c5c8[_0x3eaa32(0x5b1)]['bind'](_0x30c5c8),'loadFromDisk':_0x30c5c8[_0x3eaa32(0x30c)][_0x3eaa32(0x901)](_0x30c5c8),'close':_0x30c5c8['close']['bind'](_0x30c5c8)};}[_0x5a8b1c(0x581)](_0x524767){const _0x52d4ad=_0x5a8b1c;return this[_0x52d4ad(0x328)][_0x52d4ad(0x581)](_0x524767)[_0x52d4ad(0x3d5)](_0x5efbe9=>({'getName':_0x5efbe9[_0x52d4ad(0x1cb)]['bind'](_0x5efbe9),'getOwnerId':_0x5efbe9['getOwnerId'][_0x52d4ad(0x901)](_0x5efbe9),'getContentType':_0x5efbe9[_0x52d4ad(0x62f)][_0x52d4ad(0x901)](_0x5efbe9),'publish':_0x5efbe9[_0x52d4ad(0x590)][_0x52d4ad(0x901)](_0x5efbe9),'subscribe':_0x5efbe9[_0x52d4ad(0x19a)][_0x52d4ad(0x901)](_0x5efbe9),'unsubscribe':_0x5efbe9['unsubscribe'][_0x52d4ad(0x901)](_0x5efbe9),'close':_0x5efbe9[_0x52d4ad(0x494)][_0x52d4ad(0x901)](_0x5efbe9)}));}['getObjectStoreBuckets'](_0x38ca59){const _0x575078=_0x5a8b1c;return this[_0x575078(0x328)][_0x575078(0x167)](_0x38ca59)['map'](_0x51ab78=>({'getName':_0x51ab78[_0x575078(0x1cb)][_0x575078(0x901)](_0x51ab78),'getOwnerId':_0x51ab78[_0x575078(0x770)][_0x575078(0x901)](_0x51ab78),'getContentType':_0x51ab78[_0x575078(0x62f)][_0x575078(0x901)](_0x51ab78),'publish':_0x51ab78[_0x575078(0x590)][_0x575078(0x901)](_0x51ab78),'unpublish':_0x51ab78[_0x575078(0x695)]['bind'](_0x51ab78),'get':_0x51ab78[_0x575078(0x8a4)][_0x575078(0x901)](_0x51ab78),'list':_0x51ab78[_0x575078(0x24a)]['bind'](_0x51ab78),'getSize':_0x51ab78[_0x575078(0x4ad)][_0x575078(0x901)](_0x51ab78),'subscribe':_0x51ab78[_0x575078(0x19a)]['bind'](_0x51ab78),'unsubscribe':_0x51ab78[_0x575078(0xa68)][_0x575078(0x901)](_0x51ab78),'close':_0x51ab78[_0x575078(0x494)]['bind'](_0x51ab78)}));}[_0x5a8b1c(0xb02)](_0x5d1662){const _0x136ce2=_0x5a8b1c;return this[_0x136ce2(0x328)][_0x136ce2(0xb02)](_0x5d1662)[_0x136ce2(0x3d5)](_0x155738=>({'getName':_0x155738[_0x136ce2(0x1cb)]['bind'](_0x155738),'getOwnerId':_0x155738[_0x136ce2(0x770)][_0x136ce2(0x901)](_0x155738),'getContentType':_0x155738[_0x136ce2(0x62f)]['bind'](_0x155738),'close':_0x155738['close'][_0x136ce2(0x901)](_0x155738),'get':_0x155738[_0x136ce2(0x8a4)][_0x136ce2(0x901)](_0x155738),'list':_0x155738['list'][_0x136ce2(0x901)](_0x155738),'subscribe':_0x155738[_0x136ce2(0x19a)][_0x136ce2(0x901)](_0x155738),'unsubscribe':_0x155738['unsubscribe'][_0x136ce2(0x901)](_0x155738)}));}[_0x5a8b1c(0x273)](_0x445911){const _0x362c48=_0x5a8b1c;return this[_0x362c48(0x328)]['getKeyValueDatabases'](_0x445911)[_0x362c48(0x3d5)](_0x29ffbe=>({'getName':_0x29ffbe[_0x362c48(0x1cb)][_0x362c48(0x901)](_0x29ffbe),'getOwnerId':_0x29ffbe[_0x362c48(0x770)][_0x362c48(0x901)](_0x29ffbe),'getContentType':_0x29ffbe['getContentType']['bind'](_0x29ffbe),'getTable':_0x29ffbe[_0x362c48(0x9f6)][_0x362c48(0x901)](_0x29ffbe),'subscribe':_0x29ffbe[_0x362c48(0x19a)][_0x362c48(0x901)](_0x29ffbe),'unsubscribe':_0x29ffbe['unsubscribe'][_0x362c48(0x901)](_0x29ffbe),'close':_0x29ffbe[_0x362c48(0x494)]['bind'](_0x29ffbe)}));}[_0x5a8b1c(0x708)](_0x1b36b3){const _0x51d2ca=_0x5a8b1c;return this['orchestrator'][_0x51d2ca(0x708)](_0x1b36b3)[_0x51d2ca(0x3d5)](_0x535e19=>({'createAIJob':_0x535e19[_0x51d2ca(0x4b6)][_0x51d2ca(0x901)](_0x535e19),'getDataBucketIds':_0x535e19[_0x51d2ca(0x312)][_0x51d2ca(0x901)](_0x535e19),'close':_0x535e19[_0x51d2ca(0x494)][_0x51d2ca(0x901)](_0x535e19)}));}[_0x5a8b1c(0x5d2)](_0x234c83){const _0x160249=_0x5a8b1c;return this[_0x160249(0x328)][_0x160249(0x5d2)](_0x234c83)['map'](_0x5bcabb=>({'createAIJob':_0x5bcabb['createAIJob'][_0x160249(0x901)](_0x5bcabb),'getDataBucketIds':_0x5bcabb[_0x160249(0x312)][_0x160249(0x901)](_0x5bcabb),'close':_0x5bcabb['close']['bind'](_0x5bcabb)}));}['getGenerativeAIWorkers'](_0x1f5468){const _0x13f791=_0x5a8b1c;return this[_0x13f791(0x328)]['getGenerativeAIWorkers'](_0x1f5468)[_0x13f791(0x3d5)](_0x29ac23=>({'close':_0x29ac23['close'][_0x13f791(0x901)](_0x29ac23)}));}[_0x5a8b1c(0x5b5)](_0x28ba8a,_0x36f5c8){const _0x230ba9=_0x5a8b1c,_0x5ec4a1=this[_0x230ba9(0x328)][_0x230ba9(0x637)](_0x28ba8a,_0x36f5c8);return{'getLabel':_0x5ec4a1[_0x230ba9(0x211)][_0x230ba9(0x901)](_0x5ec4a1),'getOwnerId':_0x5ec4a1[_0x230ba9(0x770)]['bind'](_0x5ec4a1),'getContentType':_0x5ec4a1[_0x230ba9(0x62f)][_0x230ba9(0x901)](_0x5ec4a1),'getMediaStream':_0x5ec4a1[_0x230ba9(0x759)][_0x230ba9(0x901)](_0x5ec4a1),'setPriority':_0x5ec4a1[_0x230ba9(0xa84)][_0x230ba9(0x901)](_0x5ec4a1),'unpublish':_0x5ec4a1[_0x230ba9(0x695)][_0x230ba9(0x901)](_0x5ec4a1)};}[_0x5a8b1c(0x66e)](_0x1dff18,_0x5904c4){const _0x41fb15=_0x5a8b1c,_0x467c52=this[_0x41fb15(0x328)][_0x41fb15(0x507)](_0x1dff18,_0x5904c4);return{'getLabel':_0x467c52[_0x41fb15(0x211)]['bind'](_0x467c52),'getOwnerId':_0x467c52[_0x41fb15(0x770)]['bind'](_0x467c52),'getContentType':_0x467c52[_0x41fb15(0x62f)][_0x41fb15(0x901)](_0x467c52),'setPriority':_0x467c52[_0x41fb15(0xa84)]['bind'](_0x467c52),'unpublish':_0x467c52[_0x41fb15(0x695)]['bind'](_0x467c52),'getMediaStream':_0x467c52[_0x41fb15(0x759)]['bind'](_0x467c52),'addTrack':_0x467c52[_0x41fb15(0x225)][_0x41fb15(0x901)](_0x467c52),'removeTrack':_0x467c52[_0x41fb15(0x889)][_0x41fb15(0x901)](_0x467c52),'replaceTrack':_0x467c52['replaceTrack']['bind'](_0x467c52),'setTransformations':_0x467c52[_0x41fb15(0xa26)][_0x41fb15(0x901)](_0x467c52)};}['getLocalMediaStreams'](_0x5dca8d){const _0x7e3b29=_0x5a8b1c;return this[_0x7e3b29(0x328)][_0x7e3b29(0xa9c)](_0x5dca8d)[_0x7e3b29(0x3d5)](_0x5cb3ef=>({'getLabel':_0x5cb3ef[_0x7e3b29(0x211)][_0x7e3b29(0x901)](_0x5cb3ef),'getOwnerId':_0x5cb3ef[_0x7e3b29(0x770)][_0x7e3b29(0x901)](_0x5cb3ef),'getContentType':_0x5cb3ef['getContentType'][_0x7e3b29(0x901)](_0x5cb3ef),'getMediaStream':_0x5cb3ef[_0x7e3b29(0x759)][_0x7e3b29(0x901)](_0x5cb3ef),'setPriority':_0x5cb3ef[_0x7e3b29(0xa84)][_0x7e3b29(0x901)](_0x5cb3ef),'unpublish':_0x5cb3ef[_0x7e3b29(0x695)][_0x7e3b29(0x901)](_0x5cb3ef)}));}[_0x5a8b1c(0x1ee)](_0x2e1bc4){const _0x2ceed5=_0x5a8b1c;return this[_0x2ceed5(0x328)]['getRemoteMediaStreams'](_0x2e1bc4)[_0x2ceed5(0x3d5)](_0x2b09cd=>({'getLabel':_0x2b09cd[_0x2ceed5(0x211)][_0x2ceed5(0x901)](_0x2b09cd),'getOwnerId':_0x2b09cd[_0x2ceed5(0x770)][_0x2ceed5(0x901)](_0x2b09cd),'getContentType':_0x2b09cd[_0x2ceed5(0x62f)][_0x2ceed5(0x901)](_0x2b09cd),'getMediaStream':_0x2b09cd[_0x2ceed5(0x759)][_0x2ceed5(0x901)](_0x2b09cd),'subscribe':_0x2b09cd['subscribe'][_0x2ceed5(0x901)](_0x2b09cd),'unsubscribe':_0x2b09cd[_0x2ceed5(0xa68)][_0x2ceed5(0x901)](_0x2b09cd),'getAvailableTrackKinds':_0x2b09cd['getAvailableTrackKinds'][_0x2ceed5(0x901)](_0x2b09cd),'update':_0x2b09cd[_0x2ceed5(0xafb)][_0x2ceed5(0x901)](_0x2b09cd),'onProviderChange':_0x2b09cd['onProviderChange'][_0x2ceed5(0x901)](_0x2b09cd)}));}['getGraphDatabases'](_0x513266){const _0x47292f=_0x5a8b1c;return this[_0x47292f(0x328)][_0x47292f(0x3f3)](_0x513266)['map'](_0x924b6f=>({'getName':_0x924b6f['getName'][_0x47292f(0x901)](_0x924b6f),'getOwnerId':_0x924b6f[_0x47292f(0x770)][_0x47292f(0x901)](_0x924b6f),'getContentType':_0x924b6f['getContentType']['bind'](_0x924b6f),'addNode':_0x924b6f[_0x47292f(0xa94)]['bind'](_0x924b6f),'addEdge':_0x924b6f[_0x47292f(0x855)][_0x47292f(0x901)](_0x924b6f),'getContent':_0x924b6f[_0x47292f(0x3e8)][_0x47292f(0x901)](_0x924b6f),'remove':_0x924b6f['remove'][_0x47292f(0x901)](_0x924b6f),'saveToDisk':_0x924b6f['saveToDisk']['bind'](_0x924b6f),'loadFromDisk':_0x924b6f[_0x47292f(0x30c)][_0x47292f(0x901)](_0x924b6f),'close':_0x924b6f[_0x47292f(0x494)][_0x47292f(0x901)](_0x924b6f)}));}['getVectorDatabases'](_0x3e6acb){const _0x17dae4=_0x5a8b1c;return this[_0x17dae4(0x328)][_0x17dae4(0x315)](_0x3e6acb)[_0x17dae4(0x3d5)](_0xafc5f1=>({'getName':_0xafc5f1[_0x17dae4(0x1cb)][_0x17dae4(0x901)](_0xafc5f1),'getOwnerId':_0xafc5f1[_0x17dae4(0x770)][_0x17dae4(0x901)](_0xafc5f1),'getContentType':_0xafc5f1['getContentType'][_0x17dae4(0x901)](_0xafc5f1),'search':_0xafc5f1['search'][_0x17dae4(0x901)](_0xafc5f1),'insert':_0xafc5f1[_0x17dae4(0x15e)]['bind'](_0xafc5f1),'remove':_0xafc5f1['remove'][_0x17dae4(0x901)](_0xafc5f1),'saveToDisk':_0xafc5f1[_0x17dae4(0x5b1)][_0x17dae4(0x901)](_0xafc5f1),'loadFromDisk':_0xafc5f1['loadFromDisk'][_0x17dae4(0x901)](_0xafc5f1),'close':_0xafc5f1[_0x17dae4(0x494)][_0x17dae4(0x901)](_0xafc5f1)}));}[_0x5a8b1c(0x39e)](){const _0x22c411=_0x5a8b1c,_0x4c999f=this[_0x22c411(0x328)]['getLocalNode']();switch(_0x4c999f[_0x22c411(0x2a5)]){case _0x52baed[_0x22c411(0x935)][_0x22c411(0x886)]:return{'type':_0x52baed[_0x22c411(0x935)][_0x22c411(0x886)],'getId':_0x4c999f[_0x22c411(0x3dd)][_0x22c411(0x901)](_0x4c999f),'getDisplayName':_0x4c999f['getDisplayName'][_0x22c411(0x901)](_0x4c999f),'getEmail':_0x4c999f[_0x22c411(0x30e)][_0x22c411(0x901)](_0x4c999f),'getRemoteConnections':_0x4c999f[_0x22c411(0x1db)][_0x22c411(0x901)](_0x4c999f),'setDisplayName':_0x4c999f[_0x22c411(0x89e)][_0x22c411(0x901)](_0x4c999f),'setEmail':_0x4c999f['setEmail'][_0x22c411(0x901)](_0x4c999f)};case _0x52baed[_0x22c411(0x935)]['Agent']:default:return{'type':_0x52baed[_0x22c411(0x935)]['Agent'],'getId':_0x4c999f['getId']['bind'](_0x4c999f),'getRemoteConnections':_0x4c999f[_0x22c411(0x1db)][_0x22c411(0x901)](_0x4c999f)};}}[_0x5a8b1c(0x43d)](_0x49289a){const _0x27fdcb=_0x5a8b1c;return this['orchestrator'][_0x27fdcb(0x43d)](_0x49289a)[_0x27fdcb(0x3d5)](_0x5e425f=>{const _0x4fabd3=_0x27fdcb;switch(_0x5e425f[_0x4fabd3(0x2a5)]){case _0x52baed[_0x4fabd3(0x935)]['User']:return{'type':_0x52baed[_0x4fabd3(0x935)][_0x4fabd3(0x886)],'getId':_0x5e425f[_0x4fabd3(0x3dd)][_0x4fabd3(0x901)](_0x5e425f),'getDisplayName':_0x5e425f['getDisplayName']['bind'](_0x5e425f),'getEmail':_0x5e425f[_0x4fabd3(0x30e)][_0x4fabd3(0x901)](_0x5e425f),'getRemoteConnections':_0x5e425f['getRemoteConnections'][_0x4fabd3(0x901)](_0x5e425f)};case _0x52baed[_0x4fabd3(0x935)][_0x4fabd3(0x2fd)]:return{'type':_0x52baed[_0x4fabd3(0x935)][_0x4fabd3(0x2fd)],'getId':_0x5e425f[_0x4fabd3(0x3dd)][_0x4fabd3(0x901)](_0x5e425f),'getRemoteConnections':_0x5e425f[_0x4fabd3(0x1db)][_0x4fabd3(0x901)](_0x5e425f)};default:throw new _0x4ec9e4(_0x47ec8c[_0x4fabd3(0x16d)],_0x4fabd3(0x445));}});}['on']=(..._0x5b83d7)=>{this['eventEmitter']['on'](..._0x5b83d7);};['emit']=(..._0x471188)=>this['eventEmitter']['emit'](..._0x471188);['off'](..._0xa26876){const _0x370e64=_0x5a8b1c;this['eventEmitter'][_0x370e64(0xb14)](..._0xa26876);}}class _0xf83da2{['id'];[_0x5a8b1c(0x7c3)];[_0x5a8b1c(0x491)];[_0x5a8b1c(0x2a5)]=_0x52baed[_0x5a8b1c(0x935)]['User'];[_0x5a8b1c(0x17f)]=new Map();['observer']=_0x28f8fd();constructor(_0x3ec268,_0x1f8cc3,_0x21a4fa){const _0x2364c4=_0x5a8b1c;this['id']=_0x3ec268,this[_0x2364c4(0x7c3)]=_0x1f8cc3,this[_0x2364c4(0x491)]=_0x21a4fa;}['getId'](){return this['id'];}[_0x5a8b1c(0x378)](){return this['displayName'];}[_0x5a8b1c(0x30e)](){return this['email'];}[_0x5a8b1c(0x89e)](_0x2ccf67){const _0x149a34=_0x5a8b1c;this[_0x149a34(0x7c3)]!==_0x2ccf67&&(this[_0x149a34(0x7c3)]=_0x2ccf67,this['observer'][_0x149a34(0x590)](this));}[_0x5a8b1c(0x483)](_0x3fbf53){const _0x16367a=_0x5a8b1c;this[_0x16367a(0x491)]!==_0x3fbf53&&(this['email']=_0x3fbf53,this[_0x16367a(0x567)][_0x16367a(0x590)](this));}['registerCluster'](_0x37863b,_0x13b7f0){const _0x376026=_0x5a8b1c;if(this['joinedClusters'][_0x376026(0x149)](_0x37863b))return;const _0x25bf78=this[_0x376026(0x567)][_0x376026(0x19a)](_0x13b7f0);this[_0x376026(0x17f)][_0x376026(0x984)](_0x37863b,_0x25bf78);}[_0x5a8b1c(0x868)](_0x4c0f5c){const _0x100fbf=_0x5a8b1c;if(!this[_0x100fbf(0x17f)][_0x100fbf(0x149)](_0x4c0f5c))return;const _0x122884=this[_0x100fbf(0x17f)]['get'](_0x4c0f5c);_0x122884&&_0x122884(),this['joinedClusters'][_0x100fbf(0x1cd)](_0x4c0f5c);}}class _0x4e297b{[_0x5a8b1c(0x26a)];[_0x5a8b1c(0xb24)];constructor(_0x24a662){this['vendorId']=_0x24a662;}async['signInWithCredential'](_0x5ef82d){const _0x28c3f6=_0x5a8b1c,_0x5770dc=await(0x0,_0x3d092e[_0x28c3f6(0x92c)])(_0x1b7d72['getFunctions'](),_0x28c3f6(0x9c2))({'uid':'ccc'+this['vendorId']+'ccc'+_0x5ef82d['id']}),_0x3ec60c=await(0x0,_0x2d8b77[_0x28c3f6(0x9ab)])(_0x1b7d72['getAuth'](),_0x5770dc[_0x28c3f6(0x349)][_0x28c3f6(0x409)]);this[_0x28c3f6(0xb24)]=_0x3ec60c[_0x28c3f6(0xb24)];}async['signOut'](){const _0x39b8f1=_0x5a8b1c;await(0x0,_0x2d8b77[_0x39b8f1(0x4d3)])(_0x1b7d72[_0x39b8f1(0x9d8)]());}['getIdToken'](){const _0x1706bc=_0x5a8b1c;return this[_0x1706bc(0xb24)]?.[_0x1706bc(0x44f)]()??Promise[_0x1706bc(0x44b)]('User\x20not\x20signed\x20in');}}class _0x599f42{static [_0x5a8b1c(0x757)];[_0x5a8b1c(0x452)]=[];constructor(){}static[_0x5a8b1c(0x2eb)](){const _0x5a12ab=_0x5a8b1c;return _0x599f42[_0x5a12ab(0x757)]||(_0x599f42['instance']=new _0x599f42()),_0x599f42[_0x5a12ab(0x757)];}[_0x5a8b1c(0x8a5)](){const _0x2a2e8e=_0x5a8b1c;this[_0x2a2e8e(0x646)](),this[_0x2a2e8e(0x96f)](),this[_0x2a2e8e(0x31d)](),this[_0x2a2e8e(0x58f)](),this[_0x2a2e8e(0x534)](),this['checkAudioOutput'](),this[_0x2a2e8e(0x82b)](),this['checkBackgrounds'](),this[_0x2a2e8e(0x371)](),this['checkAudioContext'](),_0x241131[_0x2a2e8e(0x2d3)](_0xf47a5[_0x2a2e8e(0x86d)],_0x2a2e8e(0x974),{'featureSupport':this[_0x2a2e8e(0x452)]});}[_0x5a8b1c(0x3b5)](_0x4794cc){const _0x44951b=_0x5a8b1c,_0x57e5cf=this[_0x44951b(0x452)][_0x44951b(0x5dd)](_0xcc997=>_0xcc997[_0x44951b(0x45a)]===_0x4794cc);return!!_0x57e5cf&&_0x57e5cf[_0x44951b(0x2a7)];}[_0x5a8b1c(0x300)](_0x17f0df){const _0x542798=_0x5a8b1c;_0x241131[_0x542798(0x1e2)](_0x542798(0xac2),{'nodeId':_0x17f0df[_0x542798(0x3dd)](),'nodeType':_0x17f0df[_0x542798(0x2a5)],'data':{'featureSupport':this[_0x542798(0x452)]}});}[_0x5a8b1c(0x646)](){const _0x4c1935=_0x5a8b1c,_0x3c3797=_0x2ec1fb[_0x4c1935(0x150)];let _0x5dfcd1=!0x1;_0x4c1935(0xa9f)==typeof RTCPeerConnection&&_0x4c1935(0xa9f)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x5dfcd1=!0x0:_0x241131[_0x4c1935(0x2d3)](_0xf47a5[_0x4c1935(0x86d)],_0x4c1935(0xa73)+_0x3c3797+'\x20not\x20supported'),this['featureSupport'][_0x4c1935(0x3a9)]({'name':_0x3c3797,'supported':_0x5dfcd1});}['checkMediaStream'](){const _0x1ec388=_0x5a8b1c,_0x487390=_0x2ec1fb[_0x1ec388(0x161)];let _0x22e31a=!0x1;_0x1ec388(0xa9f)==typeof MediaStream&&'function'==typeof MediaStreamTrack&&_0x1ec388(0x55e)==typeof navigator&&_0x1ec388(0x55e)==typeof navigator['mediaDevices']&&_0x1ec388(0xa9f)==typeof navigator['mediaDevices']['getUserMedia']?_0x22e31a=!0x0:_0x241131[_0x1ec388(0x2d3)](_0xf47a5['Support'],_0x1ec388(0xa73)+_0x487390+'\x20not\x20supported'),this[_0x1ec388(0x452)]['push']({'name':_0x487390,'supported':_0x22e31a});}[_0x5a8b1c(0x31d)](){const _0x52533e=_0x5a8b1c,_0x1b4ea8=_0x2ec1fb[_0x52533e(0x470)];let _0x47a40e=!0x1;_0x52533e(0x55e)==typeof navigator&&'object'==typeof navigator[_0x52533e(0x632)]&&_0x52533e(0xa9f)==typeof navigator[_0x52533e(0x632)]['getDisplayMedia']?_0x47a40e=!0x0:_0x241131[_0x52533e(0x2d3)](_0xf47a5[_0x52533e(0x86d)],_0x52533e(0xa73)+_0x1b4ea8+_0x52533e(0x3aa)),this[_0x52533e(0x452)][_0x52533e(0x3a9)]({'name':_0x1b4ea8,'supported':_0x47a40e});}[_0x5a8b1c(0x58f)](){const _0x386986=_0x5a8b1c,_0x4515ee=_0x2ec1fb['AudioVolume'];let _0x4f43fa=!0x1;_0x386986(0xa9f)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0x386986(0xa9f)!=typeof AudioWorkletNode||_0x386986(0xa9f)!=typeof MediaStreamAudioSourceNode?_0x241131[_0x386986(0x2d3)](_0xf47a5['Support'],'Support:\x20'+_0x4515ee+_0x386986(0x3aa)):_0x4f43fa=!0x0,this[_0x386986(0x452)][_0x386986(0x3a9)]({'name':_0x4515ee,'supported':_0x4f43fa});}[_0x5a8b1c(0x534)](){const _0xc318f=_0x5a8b1c,_0x296213=_0x2ec1fb[_0xc318f(0x74b)];let _0x4689f3=!0x1;_0xc318f(0x55e)==typeof navigator&&_0xc318f(0x55e)==typeof navigator[_0xc318f(0x632)]&&_0xc318f(0xa9f)==typeof navigator[_0xc318f(0x632)][_0xc318f(0x9ea)]&&_0xc318f(0xa9f)==typeof MediaDeviceInfo?_0x4689f3=!0x0:_0x241131[_0xc318f(0x2d3)](_0xf47a5[_0xc318f(0x86d)],_0xc318f(0xa73)+_0x296213+'\x20not\x20supported'),this[_0xc318f(0x452)][_0xc318f(0x3a9)]({'name':_0x296213,'supported':_0x4689f3});}[_0x5a8b1c(0xa61)](){const _0x125893=_0x5a8b1c,_0x2b9a79=_0x2ec1fb['AudioOutput'];let _0x4173bd=!0x1;_0x125893(0x55e)==typeof document&&_0x125893(0xa9f)==typeof document['createElement'](_0x125893(0x498))[_0x125893(0xad4)]?_0x4173bd=!0x0:_0x241131[_0x125893(0x2d3)](_0xf47a5['Support'],_0x125893(0xa73)+_0x2b9a79+_0x125893(0x3aa)),this[_0x125893(0x452)][_0x125893(0x3a9)]({'name':_0x2b9a79,'supported':_0x4173bd});}async[_0x5a8b1c(0x82b)](){const _0x55d14e=_0x5a8b1c,_0x21f131=_0x2ec1fb[_0x55d14e(0x187)];let _0x5a902b=!0x1;try{const _0x3827ea=document['createElement'](_0x55d14e(0x354));if(MediaRecorder&&MediaSource&&_0x3827ea['captureStream']){const _0x8c614a=_0x3827ea[_0x55d14e(0xaa7)](),_0x154387=new MediaRecorder(_0x8c614a);_0x154387[_0x55d14e(0x3a0)](),await new Promise(_0x176136=>setTimeout(_0x176136,0x7d0)),_0x154387[_0x55d14e(0x9be)](),_0x5a902b=_0x55d14e(0x49c)===_0x154387['state'];}}catch(_0x483925){_0x241131[_0x55d14e(0x2d3)](_0xf47a5[_0x55d14e(0x86d)],_0x55d14e(0xa73)+_0x21f131+'\x20check\x20failed',_0x483925);}this[_0x55d14e(0x452)][_0x55d14e(0x3a9)]({'name':_0x21f131,'supported':_0x5a902b}),_0x5a902b||_0x241131[_0x55d14e(0x2d3)](_0xf47a5['Support'],_0x55d14e(0xa73)+_0x21f131+'\x20not\x20supported');}['checkBackgrounds'](){const _0x25fa15=_0x5a8b1c,_0x6713a5=_0x2ec1fb[_0x25fa15(0x1b2)];let _0x31332f=!0x1;try{document[_0x25fa15(0x9fd)](_0x25fa15(0x354))['captureStream']&&(_0x31332f=!0x0);}catch(_0x37869d){_0x241131[_0x25fa15(0x2d3)](_0xf47a5[_0x25fa15(0x86d)],'Support:\x20'+_0x6713a5+_0x25fa15(0x21e),_0x37869d);}this['featureSupport'][_0x25fa15(0x3a9)]({'name':_0x6713a5,'supported':_0x31332f}),_0x31332f||_0x241131[_0x25fa15(0x2d3)](_0xf47a5[_0x25fa15(0x86d)],'Support:\x20'+_0x6713a5+_0x25fa15(0x3aa));}[_0x5a8b1c(0x371)](){const _0x5120bc=_0x5a8b1c,_0x1fbef1=_0x2ec1fb[_0x5120bc(0x1c2)];let _0x5326f7=!0x1;try{const _0x49a5ef=document['createElement'](_0x5120bc(0x354));WebGLRenderingContext&&_0x49a5ef[_0x5120bc(0x40f)](_0x5120bc(0x78c))&&(_0x5326f7=!0x0);}catch(_0x3c0697){_0x241131['log'](_0xf47a5[_0x5120bc(0x86d)],'Support:\x20'+_0x1fbef1+_0x5120bc(0x21e),_0x3c0697);}this[_0x5120bc(0x452)][_0x5120bc(0x3a9)]({'name':_0x1fbef1,'supported':_0x5326f7}),_0x5326f7||_0x241131['log'](_0xf47a5[_0x5120bc(0x86d)],'Support:\x20'+_0x1fbef1+_0x5120bc(0x3aa));}['checkAudioContext'](){const _0x4b7497=_0x5a8b1c,_0x4e756a=_0x2ec1fb[_0x4b7497(0x4d5)];let _0x124328=!0x1;'function'==typeof AudioContext?_0x124328=!0x0:_0x241131[_0x4b7497(0x2d3)](_0xf47a5['Support'],_0x4b7497(0xa73)+_0x4e756a+'\x20not\x20supported'),this[_0x4b7497(0x452)][_0x4b7497(0x3a9)]({'name':_0x4e756a,'supported':_0x124328});}}const _0x4ad7=_0x599f42['getInstance']();class _0x27fb12{static [_0x5a8b1c(0x757)];static [_0x5a8b1c(0xa68)];static [_0x5a8b1c(0xb20)];[_0x5a8b1c(0x798)];['vendorId'];['options'];[_0x5a8b1c(0xab3)];[_0x5a8b1c(0x7f2)]=new Map();[_0x5a8b1c(0x5ee)];constructor(_0xc9b945,_0x1101c1,_0x3f1135){const _0x48bcb4=_0x5a8b1c;this[_0x48bcb4(0x26a)]=_0xc9b945,this[_0x48bcb4(0xab3)]=_0x1101c1,this['authService']=new _0x4e297b(this['vendorId']),_0x4ad7[_0x48bcb4(0x8a5)](),this['options']={'audioContext':_0x3f1135?.['audioContext']??(_0x4ad7[_0x48bcb4(0x3b5)](_0x2ec1fb[_0x48bcb4(0x4d5)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x3f1135?.[_0x48bcb4(0x783)]??0x1,'minConnections':_0x3f1135?.[_0x48bcb4(0xa9a)]??0x3,'maxConnections':_0x3f1135?.[_0x48bcb4(0x5bb)]??(_0x3f1135?.[_0x48bcb4(0xa9a)]&&0x4*_0x3f1135[_0x48bcb4(0xa9a)])??0xc,'maxDistance':_0x3f1135?.[_0x48bcb4(0x679)]??0xa,'maxFps':_0x3f1135?.[_0x48bcb4(0x31b)]??0x18,'maxBpp':_0x3f1135?.[_0x48bcb4(0x2af)]??0.12,'objectStoreConnector':_0x3f1135?.['objectStoreConnector']??_0x3e73b4['OPFSObjectStoreConnector'],'externalStorageConnectors':_0x3f1135?.[_0x48bcb4(0x262)],'keyValueDatabaseConnector':_0x3f1135?.[_0x48bcb4(0x977)]??_0x5a54fa[_0x48bcb4(0x606)],'peerConnectionConnector':_0x3f1135?.[_0x48bcb4(0x6dd)]??_0x3bb4fb['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x3f1135?.[_0x48bcb4(0xb3f)],'vectorDatabaseConnector':_0x3f1135?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x3f1135?.['graphDatabaseConnector'],'documentParserConnector':_0x3f1135?.[_0x48bcb4(0x748)],'fileConnector':_0x3f1135?.[_0x48bcb4(0x6b5)],'nlpLibraryConnector':_0x3f1135?.['nlpLibraryConnector'],'searchConnector':_0x3f1135?.['searchConnector'],'aiSearchConnector':_0x3f1135?.['aiSearchConnector'],'queryFileConnector':_0x3f1135?.[_0x48bcb4(0x4e0)],'ragConnectors':_0x3f1135?.[_0x48bcb4(0x286)]},_0x3f1135?.['disableIntervalHack']&&this[_0x48bcb4(0x392)][_0x48bcb4(0x71c)]&&_0x3d74ea[_0x48bcb4(0x6a6)](this['options'][_0x48bcb4(0x71c)]),_0x241131[_0x48bcb4(0xb07)](this[_0x48bcb4(0x26a)]),_0x3f1135?.['loggingConnectors']&&_0x241131[_0x48bcb4(0x3ea)](_0x3f1135['loggingConnectors']);}static async[_0x5a8b1c(0x2eb)](_0x3da3cb,_0x35436a,_0x213bc6,_0x496f80,_0x1d2e30){const _0x1aba6e=_0x5a8b1c;this[_0x1aba6e(0xb20)]=_0x213bc6;const _0x42ee06=await this[_0x1aba6e(0xb41)](_0x3da3cb,_0x35436a,_0x1d2e30);return _0x27fb12['instance']||(_0x27fb12[_0x1aba6e(0x757)]=new _0x27fb12(_0x3da3cb,_0x42ee06,_0x496f80)),{'close':_0x27fb12['instance']['close'][_0x1aba6e(0x901)](_0x27fb12[_0x1aba6e(0x757)]),'authenticateUser':_0x27fb12[_0x1aba6e(0x757)][_0x1aba6e(0x3c9)][_0x1aba6e(0x901)](_0x27fb12[_0x1aba6e(0x757)]),'authenticateAgent':_0x27fb12['instance'][_0x1aba6e(0x17e)][_0x1aba6e(0x901)](_0x27fb12['instance']),'validateKey':_0x27fb12[_0x1aba6e(0x757)][_0x1aba6e(0x3d0)]['bind'](_0x27fb12[_0x1aba6e(0x757)]),'joinCluster':_0x27fb12[_0x1aba6e(0x757)]['joinCluster'][_0x1aba6e(0x901)](_0x27fb12[_0x1aba6e(0x757)])};}static async['timestamp'](){const _0x225303=_0x5a8b1c;return _0x1b7d72[_0x225303(0x9ba)]();}static[_0x5a8b1c(0x50a)](){const _0x26d00c=_0x5a8b1c;return _0x12ca2b[_0x26d00c(0x50a)];}async[_0x5a8b1c(0x494)](_0x4f0859){const _0x476808=_0x5a8b1c;this[_0x476808(0x7f2)]['forEach'](_0x8b22c8=>{const _0x431894=_0x476808;_0x8b22c8[_0x431894(0xb14)](),_0x8b22c8[_0x431894(0x3f1)](_0x4f0859);}),this['clusters'][_0x476808(0x5a9)](),this[_0x476808(0x392)][_0x476808(0x71c)]&&_0x3d74ea['stopNoThrottlingHack'](),_0x27fb12['unsubscribe']?.(),_0x27fb12[_0x476808(0xa68)]=void 0x0,this[_0x476808(0x5ee)]=void 0x0,await this[_0x476808(0x798)][_0x476808(0x4d3)](),_0x27fb12[_0x476808(0x757)]=void 0x0;}static async[_0x5a8b1c(0xb41)](_0x14ce62,_0x4b4264,_0x3a5344){const _0x5f2c9a=_0x5a8b1c;if(!this[_0x5f2c9a(0xb20)])throw new _0x4ec9e4(_0x47ec8c['NodeTypeRequired'],'Node\x20type\x20is\x20required');let _0x319de6;try{_0x319de6=await(0x0,_0x3d092e[_0x5f2c9a(0x92c)])(_0x1b7d72['getFunctions'](),_0x5f2c9a(0x3e3))({'vendorId':_0x14ce62,'accessToken':_0x4b4264,'secretKey':_0x3a5344});}catch(_0x44f4bf){throw new _0x4ec9e4(_0x47ec8c['InvalidAccess'],_0x5f2c9a(0x487));}if(!this[_0x5f2c9a(0x496)](_0x319de6[_0x5f2c9a(0x349)]))throw new _0x4ec9e4(_0x47ec8c[_0x5f2c9a(0x248)],'Invalid\x20credentials');const _0x503d6f=_0x319de6[_0x5f2c9a(0x349)];return _0x503d6f[_0x5f2c9a(0x4e1)]||(_0x503d6f[_0x5f2c9a(0x4e1)]=[]),this[_0x5f2c9a(0xa68)]||(this[_0x5f2c9a(0xa68)]=_0x3d74ea['setInterval'](async()=>{const _0x533d76=_0x5f2c9a;try{const _0x3d445c=await this[_0x533d76(0xb41)](_0x14ce62,_0x4b4264,_0x3a5344);this[_0x533d76(0xb20)]===_0x52baed[_0x533d76(0x935)][_0x533d76(0x2fd)]&&(_0x3d445c[_0x533d76(0x3d6)]=_0x3d445c[_0x533d76(0x3d6)][_0x533d76(0x930)](_0x43c554=>_0x43c554[_0x533d76(0x60a)][_0x533d76(0x54c)](_0x533d76(0x52a)))),_0x503d6f[_0x533d76(0x3d6)]=_0x3d445c[_0x533d76(0x3d6)];}catch(_0x5b5833){}},0x1b7740)),_0x503d6f;}async[_0x5a8b1c(0x3c9)](_0x4703c1){const _0x382541=_0x5a8b1c;if(_0x27fb12['mode']!==_0x52baed[_0x382541(0x935)]['User'])throw new _0x4ec9e4(_0x47ec8c['NodeInvalidType'],_0x382541(0x31a));await this[_0x382541(0x798)][_0x382541(0x503)](_0x4703c1);const _0x42a5da=new _0xf83da2(_0x4703c1['id'],_0x4703c1[_0x382541(0x7c3)],_0x4703c1[_0x382541(0x491)]);return this['authContext']={'node':_0x42a5da},_0x4ad7[_0x382541(0x300)](_0x42a5da),{'type':_0x52baed[_0x382541(0x935)][_0x382541(0x886)],'getId':_0x42a5da[_0x382541(0x3dd)][_0x382541(0x901)](_0x42a5da),'getDisplayName':_0x42a5da[_0x382541(0x378)][_0x382541(0x901)](_0x42a5da),'getEmail':_0x42a5da[_0x382541(0x30e)][_0x382541(0x901)](_0x42a5da),'setDisplayName':_0x42a5da['setDisplayName'][_0x382541(0x901)](_0x42a5da),'setEmail':_0x42a5da[_0x382541(0x483)][_0x382541(0x901)](_0x42a5da)};}async[_0x5a8b1c(0x17e)](_0x4b941f){const _0x5e2714=_0x5a8b1c;if(_0x27fb12[_0x5e2714(0xb20)]!==_0x52baed[_0x5e2714(0x935)][_0x5e2714(0x2fd)])throw new _0x4ec9e4(_0x47ec8c['NodeInvalidType'],_0x5e2714(0x31a));const {id:_0x5e250f,groupId:_0x4c01f5}=_0x4b941f,_0x238168=await(0x0,_0x594922[_0x5e2714(0x163)])((0x0,_0x594922['doc'])(_0x1b7d72['getFirestore'](),_0x5e2714(0x56d)+this[_0x5e2714(0x26a)]+'/resources/agent/items/'+_0x4c01f5));if(!_0x238168[_0x5e2714(0x34e)]())throw new _0x4ec9e4(_0x47ec8c['NodeNotAuthenticated'],'Agent\x20group\x20not\x20found');const _0xc7fa0d=_0x238168[_0x5e2714(0x349)]();await this[_0x5e2714(0x798)]['signInWithCredential']({'id':_0x5e250f});const _0x1c6bac=new _0x41f17e(_0x5e250f,_0x4c01f5,this[_0x5e2714(0x26a)],_0xc7fa0d);return this[_0x5e2714(0x5ee)]={'node':_0x1c6bac},_0x4ad7['logSupport'](_0x1c6bac),this[_0x5e2714(0xad9)](_0x1c6bac),{'type':_0x52baed[_0x5e2714(0x935)][_0x5e2714(0x2fd)],'getId':_0x1c6bac[_0x5e2714(0x3dd)][_0x5e2714(0x901)](_0x1c6bac),'onConfigurationChange':_0x1c6bac['onConfigurationChange']['bind'](_0x1c6bac),'setReportCapacity':_0x1c6bac[_0x5e2714(0x6c4)][_0x5e2714(0x901)](_0x1c6bac)};}async[_0x5a8b1c(0x3d0)](_0x579d41,_0x1360bb){const _0x4e07f8=_0x5a8b1c,_0x2dfa8b=await(0x0,_0x594922[_0x4e07f8(0x163)])((0x0,_0x594922[_0x4e07f8(0x941)])(_0x1b7d72[_0x4e07f8(0x184)](),_0x4e07f8(0x987)+_0x579d41));if(!_0x2dfa8b[_0x4e07f8(0x34e)]()){const _0x2ea7a3=atob(_0x579d41)[_0x4e07f8(0x8ed)](':'),_0x227b88=_0x2ea7a3['shift'](),_0x4bffd8=_0x2ea7a3['join'](':');if(!_0x227b88||!_0x4bffd8)throw new _0x4ec9e4(_0x47ec8c['InvalidAccess'],_0x4e07f8(0x5a1));try{return await(0x0,_0x3d092e['httpsCallable'])(_0x1b7d72[_0x4e07f8(0x543)](),_0x4e07f8(0x3e3))({'vendorId':_0x227b88,'accessToken':_0x4bffd8,'origin':_0x1360bb}),_0x227b88;}catch(_0x3e6310){throw new _0x4ec9e4(_0x47ec8c[_0x4e07f8(0x248)],_0x4e07f8(0x98c)+(_0x3e6310 instanceof Error?_0x3e6310[_0x4e07f8(0x421)]:_0x4e07f8(0xa0a)));}}return _0x2dfa8b['data']()[_0x4e07f8(0x26a)];}async[_0x5a8b1c(0x9e6)](_0x38f688,_0x30cb42){const _0x2e83f4=_0x5a8b1c;if(!this['authContext'])throw new _0x4ec9e4(_0x47ec8c['NodeNotAuthenticated'],'Node\x20not\x20authenticated');if(this[_0x2e83f4(0x5ee)][_0x2e83f4(0x30f)][_0x2e83f4(0x2a5)]!==_0x52baed['NodeType'][_0x2e83f4(0x886)])throw new _0x4ec9e4(_0x47ec8c['NodeTypeNotSupported'],_0x2e83f4(0x316));if(this[_0x2e83f4(0x7f2)][_0x2e83f4(0x149)](_0x38f688))throw new _0x4ec9e4(_0x47ec8c['ClusterAlreadyJoined'],_0x2e83f4(0x928));const _0x2d8e89=new _0x11c37e(this[_0x2e83f4(0x26a)],_0x38f688,this['authContext'][_0x2e83f4(0x30f)],this[_0x2e83f4(0x798)],this[_0x2e83f4(0x392)],this[_0x2e83f4(0xab3)]);return!0x0!==_0x30cb42&&await _0x2d8e89[_0x2e83f4(0x59d)](),this[_0x2e83f4(0x375)](_0x38f688,_0x2d8e89),_0x241131[_0x2e83f4(0x1e2)](_0x2e83f4(0x932),{'clusterId':_0x38f688,'nodeId':this[_0x2e83f4(0x5ee)]['node'][_0x2e83f4(0x3dd)](),'nodeType':this[_0x2e83f4(0x5ee)][_0x2e83f4(0x30f)][_0x2e83f4(0x2a5)]}),{'leave':_0x2d8e89['leave']['bind'](_0x2d8e89),'getLocalNode':_0x2d8e89[_0x2e83f4(0x39e)][_0x2e83f4(0x901)](_0x2d8e89),'openPubSubTopic':_0x2d8e89[_0x2e83f4(0xb15)][_0x2e83f4(0x901)](_0x2d8e89),'openObjectStoreBucket':_0x2d8e89[_0x2e83f4(0x4d0)][_0x2e83f4(0x901)](_0x2d8e89),'openExternalStorageConnection':_0x2d8e89[_0x2e83f4(0x682)]['bind'](_0x2d8e89),'openKeyValueDatabase':_0x2d8e89['openKeyValueDatabase'][_0x2e83f4(0x901)](_0x2d8e89),'openGenerativeAIContext':_0x2d8e89[_0x2e83f4(0x58b)]['bind'](_0x2d8e89),'openGenerativeAIContextStandalone':_0x2d8e89[_0x2e83f4(0x4f0)][_0x2e83f4(0x901)](_0x2d8e89),'openGenerativeAIWorker':_0x2d8e89['openGenerativeAIWorker'][_0x2e83f4(0x901)](_0x2d8e89),'openGraphDatabase':_0x2d8e89['openGraphDatabase']['bind'](_0x2d8e89),'openVectorDatabase':_0x2d8e89[_0x2e83f4(0x346)][_0x2e83f4(0x901)](_0x2d8e89),'publishLocalMediaStream':_0x2d8e89[_0x2e83f4(0x5b5)]['bind'](_0x2d8e89),'publishLocalDynamicMediaStream':_0x2d8e89[_0x2e83f4(0x66e)][_0x2e83f4(0x901)](_0x2d8e89),'getPubSubTopics':_0x2d8e89[_0x2e83f4(0x581)][_0x2e83f4(0x901)](_0x2d8e89),'getObjectStoreBuckets':_0x2d8e89[_0x2e83f4(0x167)]['bind'](_0x2d8e89),'getExternalStorageConnections':_0x2d8e89[_0x2e83f4(0xb02)][_0x2e83f4(0x901)](_0x2d8e89),'getKeyValueDatabases':_0x2d8e89['getKeyValueDatabases'][_0x2e83f4(0x901)](_0x2d8e89),'getGenerativeAIContexts':_0x2d8e89[_0x2e83f4(0x708)]['bind'](_0x2d8e89),'getGenerativeAIContextsStandalone':_0x2d8e89[_0x2e83f4(0x5d2)][_0x2e83f4(0x901)](_0x2d8e89),'getGenerativeAIWorkers':_0x2d8e89[_0x2e83f4(0x237)][_0x2e83f4(0x901)](_0x2d8e89),'getGraphDatabases':_0x2d8e89[_0x2e83f4(0x3f3)]['bind'](_0x2d8e89),'getVectorDatabases':_0x2d8e89[_0x2e83f4(0x315)]['bind'](_0x2d8e89),'getLocalMediaStreams':_0x2d8e89[_0x2e83f4(0xa9c)][_0x2e83f4(0x901)](_0x2d8e89),'getRemoteMediaStreams':_0x2d8e89['getRemoteMediaStreams'][_0x2e83f4(0x901)](_0x2d8e89),'getRemoteNodes':_0x2d8e89[_0x2e83f4(0x43d)][_0x2e83f4(0x901)](_0x2d8e89),'on':_0x2d8e89['on'][_0x2e83f4(0x901)](_0x2d8e89),'off':_0x2d8e89[_0x2e83f4(0xb14)][_0x2e83f4(0x901)](_0x2d8e89)};}async['connectAgent'](_0xd6aca6){const _0x5143db=_0x5a8b1c,_0x4561fc=new _0x11c37e(this[_0x5143db(0x26a)],_0x5143db(0x28f),_0xd6aca6,this['authService'],this[_0x5143db(0x392)],this[_0x5143db(0xab3)]);await _0x4561fc[_0x5143db(0x59d)](),this[_0x5143db(0x375)]('crewdle',_0x4561fc),_0x241131[_0x5143db(0x3f4)]('Joined\x20cluster',_0x5143db(0x28f)),await _0x4561fc[_0x5143db(0x8ff)](_0x5143db(0x28f)),_0x241131[_0x5143db(0x3f4)](_0x5143db(0x1c6),_0x5143db(0x28f));}['addCluster'](_0x1dfb58,_0x19d2da){this['clusters']['set'](_0x1dfb58,_0x19d2da),_0x19d2da['on']('cluster-leave',()=>{const _0x481ada=a0_0x2316;_0x19d2da[_0x481ada(0xb14)](),this['clusters'][_0x481ada(0x1cd)](_0x1dfb58);});}static[_0x5a8b1c(0x496)](_0x1a3206){const _0x595e23=_0x5a8b1c;return void 0x0!==_0x1a3206[_0x595e23(0x3d6)];}}return _0x25a8da;})())));