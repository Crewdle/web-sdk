(function(_0x32d73a,_0x1e41db){const _0xa7e81=a0_0x53e8,_0x17b19b=_0x32d73a();while(!![]){try{const _0x1dbaa2=-parseInt(_0xa7e81(0x5fa))/0x1*(-parseInt(_0xa7e81(0x854))/0x2)+-parseInt(_0xa7e81(0x703))/0x3+-parseInt(_0xa7e81(0xd0))/0x4+parseInt(_0xa7e81(0x652))/0x5*(parseInt(_0xa7e81(0x526))/0x6)+parseInt(_0xa7e81(0x658))/0x7+-parseInt(_0xa7e81(0x1e8))/0x8*(parseInt(_0xa7e81(0x1d2))/0x9)+-parseInt(_0xa7e81(0x61a))/0xa*(-parseInt(_0xa7e81(0x902))/0xb);if(_0x1dbaa2===_0x1e41db)break;else _0x17b19b['push'](_0x17b19b['shift']());}catch(_0x48e722){_0x17b19b['push'](_0x17b19b['shift']());}}}(a0_0x4f79,0x6108a),!function(_0x29ee00,_0x3fe855){const _0x2126bb=a0_0x53e8;if(_0x2126bb(0x781)==typeof exports&&_0x2126bb(0x781)==typeof module)module['exports']=_0x3fe855();else{if(_0x2126bb(0x2ab)==typeof define&&define[_0x2126bb(0x59f)])define([],_0x3fe855);else{var _0x758921=_0x3fe855();for(var _0x1dcf77 in _0x758921)(_0x2126bb(0x781)==typeof exports?exports:_0x29ee00)[_0x1dcf77]=_0x758921[_0x1dcf77];}}}(this,()=>((()=>{'use strict';const _0x148812=a0_0x53e8;var _0x4449e5={0x14d:(_0xba5bba,_0x6c5690,_0x5440b4)=>{const _0x3aaea5=a0_0x53e8;_0x5440b4['d'](_0x6c5690,{'O':()=>_0xbeeb21});const _0xbeeb21={'version':_0x3aaea5(0x70a),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x3aaea5(0x835),'databaseURL':'https://crewdle-sdk-stg-default-rtdb.firebaseio.com','projectId':_0x3aaea5(0x28b),'storageBucket':_0x3aaea5(0x254),'appId':_0x3aaea5(0x194),'functionsRegion':'northamerica-northeast1'},'google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0x3aaea5(0x2f2),'region':_0x3aaea5(0x12b)}};},0x33b:(_0x21b0ef,_0x17bc18,_0x10b222)=>{_0x10b222['d'](_0x17bc18,{'O':()=>_0x81eecb});const _0x81eecb={};},0x3e6:(_0x428b58,_0x65a256,_0x1268d8)=>{const _0x23c5c9=a0_0x53e8;_0x1268d8['d'](_0x65a256,{'O':()=>_0x5136a9});const _0x5136a9={'version':_0x23c5c9(0x421),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x23c5c9(0x7b1),'authDomain':_0x23c5c9(0x8a9),'databaseURL':_0x23c5c9(0x4bd),'projectId':_0x23c5c9(0x96c),'storageBucket':_0x23c5c9(0x48e),'messagingSenderId':_0x23c5c9(0x398),'appId':_0x23c5c9(0xd5),'measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x23c5c9(0x8b1),'region':_0x23c5c9(0x12b)}};},0x20:(_0x369121,_0x5f5b12,_0x285296)=>{_0x285296['d'](_0x5f5b12,{'O':()=>_0x4fd696});const _0x4fd696={};}},_0x1283b6={};function _0x49b999(_0x23ba6b){const _0x32be1e=a0_0x53e8;var _0x4eac98=_0x1283b6[_0x23ba6b];if(void 0x0!==_0x4eac98)return _0x4eac98[_0x32be1e(0x59a)];var _0x12eb88=_0x1283b6[_0x23ba6b]={'exports':{}};return _0x4449e5[_0x23ba6b](_0x12eb88,_0x12eb88[_0x32be1e(0x59a)],_0x49b999),_0x12eb88[_0x32be1e(0x59a)];}_0x49b999['d']=(_0x29dddf,_0x5ec2ce)=>{for(var _0xf06bd3 in _0x5ec2ce)_0x49b999['o'](_0x5ec2ce,_0xf06bd3)&&!_0x49b999['o'](_0x29dddf,_0xf06bd3)&&Object['defineProperty'](_0x29dddf,_0xf06bd3,{'enumerable':!0x0,'get':_0x5ec2ce[_0xf06bd3]});},_0x49b999['g']=(function(){const _0x4a3a3e=a0_0x53e8;if('object'==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x43e83e){if(_0x4a3a3e(0x781)==typeof window)return window;}}()),_0x49b999['o']=(_0x292207,_0x259ca5)=>Object['prototype'][_0x148812(0x359)][_0x148812(0x34c)](_0x292207,_0x259ca5),_0x49b999['r']=_0x3750cb=>{const _0x2504aa=_0x148812;'undefined'!=typeof Symbol&&Symbol[_0x2504aa(0x40d)]&&Object[_0x2504aa(0x541)](_0x3750cb,Symbol['toStringTag'],{'value':_0x2504aa(0x79e)}),Object[_0x2504aa(0x541)](_0x3750cb,_0x2504aa(0x494),{'value':!0x0});};var _0x128d3f,_0x4d4c54,_0x306624,_0x3e4001={};_0x49b999['r'](_0x3e4001),_0x49b999['d'](_0x3e4001,{'KeyValueDatabase':()=>_0x3c10e8,'LayoutBuilder':()=>_0x3ec939,'LoggingChannels':()=>_0x306624,'QueryBuilder':()=>_0x5d427e,'SDK':()=>_0x3ca681,'SDKClientErrorCodes':()=>_0x128d3f,'TableBuilder':()=>_0x4eff2a,'logger':()=>_0x24a63b}),function(_0xf81437){const _0x1b84e0=_0x148812;_0xf81437['ConnectionBufferNotEmpty']=_0x1b84e0(0x1e1),_0xf81437[_0x1b84e0(0x9d)]='cluster-already-joined',_0xf81437[_0x1b84e0(0x917)]=_0x1b84e0(0x341),_0xf81437['ExternalStorageConnectionAlreadySubscribed']='external-storage-connection-already-subscribed',_0xf81437[_0x1b84e0(0x5a0)]=_0x1b84e0(0x369),_0xf81437[_0x1b84e0(0xcb)]='external-storage-connectors-missing',_0xf81437[_0x1b84e0(0x8b0)]=_0x1b84e0(0x971),_0xf81437['ExternalStorageNameNotString']=_0x1b84e0(0x207),_0xf81437['FeatureNotEnabled']='feature-not-enabled',_0xf81437['GenerativeAIContextAlreadyExists']='generative-ai-context-already-exists',_0xf81437[_0x1b84e0(0x10a)]=_0x1b84e0(0x512),_0xf81437[_0x1b84e0(0x7ad)]=_0x1b84e0(0x124),_0xf81437['GenerativeAILabelConflict']=_0x1b84e0(0x547),_0xf81437[_0x1b84e0(0x160)]='generative-ai-worker-already-exists',_0xf81437[_0x1b84e0(0x5b7)]=_0x1b84e0(0x5d5),_0xf81437[_0x1b84e0(0x8bc)]='generative-ai-worker-model-sync-error',_0xf81437[_0x1b84e0(0x731)]=_0x1b84e0(0x97b),_0xf81437['GraphDatabaseDoesNotExist']=_0x1b84e0(0x6b0),_0xf81437[_0x1b84e0(0x210)]=_0x1b84e0(0x5b4),_0xf81437[_0x1b84e0(0x555)]='graph-database-name-not-string',_0xf81437[_0x1b84e0(0xca)]='job-dispatcher-already-exists',_0xf81437[_0x1b84e0(0x8d0)]=_0x1b84e0(0x6f4),_0xf81437[_0x1b84e0(0x2de)]=_0x1b84e0(0x2fc),_0xf81437[_0x1b84e0(0x8d9)]=_0x1b84e0(0x19a),_0xf81437['JobDispatcherInvalidJobType']='job-dispatcher-invalid-job-type',_0xf81437[_0x1b84e0(0x63d)]=_0x1b84e0(0x192),_0xf81437[_0x1b84e0(0x2bf)]=_0x1b84e0(0x602),_0xf81437['ObjectStoreAlreadyExists']=_0x1b84e0(0x60e),_0xf81437[_0x1b84e0(0x11b)]='object-store-already-subscribed',_0xf81437[_0x1b84e0(0x4ff)]='object-store-stream-does-not-exist',_0xf81437[_0x1b84e0(0x858)]='object-store-name-not-string',_0xf81437[_0x1b84e0(0x8ab)]=_0x1b84e0(0x7df),_0xf81437['ObjectStoreInvalidPath']=_0x1b84e0(0x2fb),_0xf81437[_0x1b84e0(0x78d)]=_0x1b84e0(0x7d0),_0xf81437[_0x1b84e0(0x103)]=_0x1b84e0(0x3df),_0xf81437[_0x1b84e0(0x407)]='invalid-access',_0xf81437['KeyValueDatabaseAlreadyExists']=_0x1b84e0(0x25a),_0xf81437[_0x1b84e0(0x45b)]=_0x1b84e0(0x3f4),_0xf81437[_0x1b84e0(0x4fc)]='key-value-database-index-not-found',_0xf81437[_0x1b84e0(0x734)]=_0x1b84e0(0x306),_0xf81437[_0x1b84e0(0x18c)]='key-value-database-invalid-value',_0xf81437['KeyValueDatabaseNameNotString']=_0x1b84e0(0x80f),_0xf81437['KeyValueDatabaseNotOpen']=_0x1b84e0(0x3f5),_0xf81437[_0x1b84e0(0x40f)]=_0x1b84e0(0x889),_0xf81437[_0x1b84e0(0x444)]=_0x1b84e0(0x6f6),_0xf81437[_0x1b84e0(0x747)]=_0x1b84e0(0x95d),_0xf81437[_0x1b84e0(0x520)]='local-media-stream-already-exists',_0xf81437['LocalMediaStreamNoAudioContext']='local-media-stream-no-audio-context',_0xf81437[_0x1b84e0(0x942)]='pub-sub-topic-already-exists',_0xf81437[_0x1b84e0(0x8c9)]=_0x1b84e0(0x677),_0xf81437[_0x1b84e0(0x930)]=_0x1b84e0(0x278),_0xf81437[_0x1b84e0(0x46b)]=_0x1b84e0(0x5dd),_0xf81437[_0x1b84e0(0x7b3)]=_0x1b84e0(0x30b),_0xf81437['RemoteMediaStreamAlreadyExists']=_0x1b84e0(0x974),_0xf81437[_0x1b84e0(0x386)]=_0x1b84e0(0x3cc),_0xf81437[_0x1b84e0(0x504)]='subscription-request-in-progress',_0xf81437[_0x1b84e0(0x6ef)]=_0x1b84e0(0x19e),_0xf81437[_0x1b84e0(0x655)]=_0x1b84e0(0x674),_0xf81437[_0x1b84e0(0x44c)]='node-type-not-supported',_0xf81437[_0x1b84e0(0x98f)]=_0x1b84e0(0x7e3),_0xf81437[_0x1b84e0(0x4f1)]='vector-database-already-exists',_0xf81437[_0x1b84e0(0x8eb)]=_0x1b84e0(0x248),_0xf81437[_0x1b84e0(0x7e6)]=_0x1b84e0(0x20e),_0xf81437[_0x1b84e0(0x826)]='vector-database-name-not-string';}(_0x128d3f||(_0x128d3f={}));class _0x5f50cc extends Error{[_0x148812(0x6ed)];constructor(_0x217883,_0x56575c){const _0x43135c=_0x148812;super(_0x56575c),this[_0x43135c(0x6ed)]=_0x217883;}}!function(_0xef4325){const _0x466b2a=_0x148812;_0xef4325[_0x466b2a(0x52c)]=_0x466b2a(0x534),_0xef4325[_0x466b2a(0x13d)]=_0x466b2a(0x429),_0xef4325['KeyValueDatabase']=_0x466b2a(0x2b9),_0xef4325[_0x466b2a(0x2e2)]='vector-database',_0xef4325[_0x466b2a(0x7b8)]=_0x466b2a(0x244),_0xef4325[_0x466b2a(0x980)]='external-storage',_0xef4325[_0x466b2a(0x996)]=_0x466b2a(0xb9),_0xef4325[_0x466b2a(0x376)]=_0x466b2a(0x43a);}(_0x4d4c54||(_0x4d4c54={})),function(_0x14dbc6){const _0x521c2a=_0x148812;_0x14dbc6[_0x521c2a(0x60a)]='all',_0x14dbc6[_0x521c2a(0x573)]=_0x521c2a(0x8bb),_0x14dbc6[_0x521c2a(0x109)]=_0x521c2a(0x3e9),_0x14dbc6[_0x521c2a(0x197)]=_0x521c2a(0x245),_0x14dbc6['Cluster']=_0x521c2a(0xf5),_0x14dbc6['Content']=_0x521c2a(0x92a),_0x14dbc6[_0x521c2a(0xd1)]=_0x521c2a(0x68e),_0x14dbc6['Detection']='detection',_0x14dbc6[_0x521c2a(0x2ff)]=_0x521c2a(0x736),_0x14dbc6['Error']=_0x521c2a(0x2d0),_0x14dbc6[_0x521c2a(0x1f7)]='jobs',_0x14dbc6[_0x521c2a(0x492)]=_0x521c2a(0x2b9),_0x14dbc6[_0x521c2a(0x30e)]=_0x521c2a(0x1d6),_0x14dbc6['Pool']=_0x521c2a(0x55e),_0x14dbc6[_0x521c2a(0x52c)]=_0x521c2a(0x534),_0x14dbc6[_0x521c2a(0x50f)]='receiver-on-message',_0x14dbc6[_0x521c2a(0x48c)]=_0x521c2a(0x5b0),_0x14dbc6['SenderSendMessage']=_0x521c2a(0x97e),_0x14dbc6[_0x521c2a(0x2f1)]=_0x521c2a(0x7b5),_0x14dbc6['Stats']=_0x521c2a(0x8da),_0x14dbc6[_0x521c2a(0x737)]=_0x521c2a(0x711),_0x14dbc6[_0x521c2a(0x23f)]=_0x521c2a(0x283),_0x14dbc6['System']='system',_0x14dbc6[_0x521c2a(0x685)]=_0x521c2a(0x6c7),_0x14dbc6[_0x521c2a(0x5f7)]=_0x521c2a(0x8cc),_0x14dbc6[_0x521c2a(0x891)]=_0x521c2a(0x68b);}(_0x306624||(_0x306624={}));const _0x366c21=require('@crewdle/web-sdk-types');class _0x5d427e{[_0x148812(0x133)];constructor(_0x1c68e6){const _0x17f92a=_0x148812;this[_0x17f92a(0x133)]={'orderBy':{'key':_0x1c68e6,'direction':_0x17f92a(0x28d)}};}static[_0x148812(0x17b)](_0x1b6e49){const _0x5d4539=_0x148812;if('string'!=typeof _0x1b6e49||0x0===_0x1b6e49[_0x5d4539(0x6a1)])throw new _0x5f50cc(_0x128d3f[_0x5d4539(0x7b3)],_0x5d4539(0x390));return new _0x5d427e(_0x1b6e49);}static[_0x148812(0x3ab)](_0x5ec18f){const _0x473882=_0x148812;try{return _0x5d427e[_0x473882(0x3e7)](_0x5ec18f),!0x0;}catch(_0x30cae7){return!0x1;}}static[_0x148812(0x3e7)](_0x5a869a){const _0x341ddc=_0x148812,_0x4e6177=_0x5d427e[_0x341ddc(0x17b)](_0x5a869a[_0x341ddc(0x379)]?.['key']??_0x5a869a['where']?.[_0x341ddc(0x751)]??'');if(_0x5a869a[_0x341ddc(0x4fb)]){const _0x3a3006=_0x5a869a[_0x341ddc(0x4fb)];if((_0x5d427e['isWhereValue'](_0x3a3006)||_0x5d427e['isWhereValues'](_0x3a3006)||_0x5d427e[_0x341ddc(0xb4)](_0x3a3006))&&_0x4e6177[_0x341ddc(0x4fb)](_0x3a3006[_0x341ddc(0x5a9)],_0x3a3006[_0x341ddc(0x33d)]),_0x5a869a[_0x341ddc(0x379)]?.['key']&&_0x5a869a[_0x341ddc(0x379)]?.[_0x341ddc(0x751)]!==_0x5a869a[_0x341ddc(0x4fb)]['key'])throw new _0x5f50cc(_0x128d3f[_0x341ddc(0x7b3)],_0x341ddc(0x32d));}return _0x5a869a[_0x341ddc(0x379)]&&_0x4e6177[_0x341ddc(0x379)](_0x5a869a['orderBy']['direction']),_0x5a869a['limit']&&_0x4e6177[_0x341ddc(0x6b1)](_0x5a869a[_0x341ddc(0x6b1)]),_0x5a869a[_0x341ddc(0x252)]&&_0x4e6177[_0x341ddc(0x252)](_0x5a869a[_0x341ddc(0x252)]),_0x4e6177;}[_0x148812(0x63c)](){const _0x3f413e=_0x148812;return{...this[_0x3f413e(0x133)]};}[_0x148812(0x4fb)](_0xd35fe9,_0x1ef69a){const _0x4ebbb4=_0x148812,_0x492cce={'key':this['query'][_0x4ebbb4(0x379)][_0x4ebbb4(0x751)],'operator':_0xd35fe9,'value':_0x1ef69a};if(!_0x5d427e[_0x4ebbb4(0x90b)](_0x492cce)&&!_0x5d427e['isWhereValues'](_0x492cce)&&!_0x5d427e[_0x4ebbb4(0xb4)](_0x492cce))throw new _0x5f50cc(_0x128d3f[_0x4ebbb4(0x7b3)],_0x4ebbb4(0x6a9));return this[_0x4ebbb4(0x133)][_0x4ebbb4(0x4fb)]=_0x492cce,this;}[_0x148812(0x379)](_0x4b1d6b){const _0x41688c=_0x148812;if(_0x41688c(0x28d)!==_0x4b1d6b&&_0x41688c(0x320)!==_0x4b1d6b)throw new _0x5f50cc(_0x128d3f['QueryBuilderInvalidArgument'],_0x41688c(0x3ba));return this[_0x41688c(0x133)][_0x41688c(0x379)][_0x41688c(0x1d5)]=_0x4b1d6b,this;}['limit'](_0x2746ea){const _0x3ff0f1=_0x148812;if(_0x3ff0f1(0x89)!=typeof _0x2746ea||_0x2746ea<0x0)throw new _0x5f50cc(_0x128d3f[_0x3ff0f1(0x7b3)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x3ff0f1(0x133)]['limit']=_0x2746ea,this;}[_0x148812(0x252)](_0x3d40ef){const _0x402e7b=_0x148812;if(_0x402e7b(0x89)!=typeof _0x3d40ef||_0x3d40ef<0x0)throw new _0x5f50cc(_0x128d3f[_0x402e7b(0x7b3)],_0x402e7b(0x8fb));return this[_0x402e7b(0x133)][_0x402e7b(0x252)]=_0x3d40ef,this;}static['isWhereValue'](_0x2be24f){const _0x4f6dc3=_0x148812;if(!(_0x2be24f&&_0x4f6dc3(0x781)==typeof _0x2be24f&&'operator'in _0x2be24f&&'value'in _0x2be24f))return!0x1;const {operator:_0x371b85,value:_0x3637c0}=_0x2be24f;return!(!['==','!=','>','<','<=','>='][_0x4f6dc3(0x523)](_0x371b85)||Array[_0x4f6dc3(0x6c1)](_0x3637c0));}static['isWhereValues'](_0x209534){const _0x58e2cf=_0x148812;if(!(_0x209534&&_0x58e2cf(0x781)==typeof _0x209534&&'operator'in _0x209534&&_0x58e2cf(0x33d)in _0x209534))return!0x1;const {operator:_0x2aeb87,value:_0x58ff88}=_0x209534;return!(!['in',_0x58e2cf(0x83a)][_0x58e2cf(0x523)](_0x2aeb87)||!Array[_0x58e2cf(0x6c1)](_0x58ff88));}static['isWhereBetween'](_0x3cfca9){const _0xf976f6=_0x148812;if(!(_0x3cfca9&&_0xf976f6(0x781)==typeof _0x3cfca9&&_0xf976f6(0x5a9)in _0x3cfca9&&_0xf976f6(0x33d)in _0x3cfca9))return!0x1;const {operator:_0x5510c0,value:_0x1e7dd3}=_0x3cfca9;return!(_0xf976f6(0x189)!==_0x5510c0||!Array[_0xf976f6(0x6c1)](_0x1e7dd3)||0x2!==_0x1e7dd3[_0xf976f6(0x6a1)]);}}class _0x3ec939{[_0x148812(0x7bd)];constructor(_0x5611a7){const _0x2f8b9e=_0x148812;this[_0x2f8b9e(0x7bd)]={'tables':{},'version':_0x5611a7};}static['validateLayout'](_0x33faa2){const _0xbaae53=_0x148812;for(const _0xc8aeb7 in _0x33faa2){if(_0xbaae53(0xb3)!==_0xc8aeb7&&_0xbaae53(0x539)!==_0xc8aeb7)return[!0x1,_0xbaae53(0x399)+_0xc8aeb7+'\x27\x20in\x20layout'];if(_0xbaae53(0x539)===_0xc8aeb7)for(const _0xc03600 in _0x33faa2[_0xbaae53(0x539)]){if(_0xbaae53(0x53a)!=typeof _0xc03600)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0xc03600+'\x27'];for(const _0x2a72f8 in _0x33faa2[_0xbaae53(0x539)][_0xc03600]){if(_0xbaae53(0x5af)!==_0x2a72f8)return[!0x1,_0xbaae53(0x399)+_0x2a72f8+_0xbaae53(0x393)+_0xc03600+'\x27'];const _0x20ccaf=_0x33faa2[_0xbaae53(0x539)][_0xc03600][_0x2a72f8]??[];for(const _0x4a9ab6 of _0x20ccaf)if(void 0x0===_0x4a9ab6[_0xbaae53(0x26a)]||'string'!=typeof _0x4a9ab6[_0xbaae53(0x26a)])return[!0x1,_0xbaae53(0x72b)+_0xc03600+_0xbaae53(0x3f2)];}}else{if(_0xbaae53(0xb3)===_0xc8aeb7&&_0xbaae53(0x89)!=typeof _0x33faa2[_0xc8aeb7])return[!0x1,_0xbaae53(0x5d6)+_0x33faa2[_0xc8aeb7]+_0xbaae53(0x92c)];}}return[!0x0,_0xbaae53(0x818)];}static[_0x148812(0x7bd)](_0x535ca2){const _0x3a4498=_0x148812,_0x5d2e86=new _0x3ec939(_0x535ca2);return _0x5d2e86[_0x3a4498(0x7bd)][_0x3a4498(0xb3)]=_0x535ca2,_0x5d2e86;}[_0x148812(0x743)](_0x25d503){const _0x101e95=_0x148812;return this['layout']['tables'][_0x25d503]={},new _0x4eff2a(this[_0x101e95(0x7bd)][_0x101e95(0x539)][_0x25d503]);}['getLayout'](){const _0x389be7=_0x148812;return this[_0x389be7(0x7bd)];}}class _0x4eff2a{[_0x148812(0x224)];constructor(_0x981745){const _0x145f9e=_0x148812;this[_0x145f9e(0x224)]=_0x981745;}[_0x148812(0x17b)](_0x2d4978){const _0x25ac39=_0x148812;return this[_0x25ac39(0x224)][_0x25ac39(0x5af)]=this[_0x25ac39(0x224)][_0x25ac39(0x5af)]??[],this[_0x25ac39(0x224)][_0x25ac39(0x5af)][_0x25ac39(0x5dc)]({'keyPath':_0x2d4978}),this;}}const _0x4a8145=0x40000,_0x13cfd0=0x3f800,_0x470373=0x1388,_0x156ca6='.crewdle-last-transaction',_0x352666='.crewdle-pending',_0x2c607e=_0x148812(0x7f6),_0x29521e='.crewdle-layout',_0x389c52=0xdbba0,_0x3aca46='.gguf',_0x5237cf=0x61a8,_0xaf1303=0x7530,_0x309f6b=_0x148812(0x564);var _0x556372;!function(_0x119752){const _0x387015=_0x148812;_0x119752[_0x387015(0x258)]=_0x387015(0x302),_0x119752['ConnectionNotConnected']=_0x387015(0x13a),_0x119752[_0x387015(0x4ae)]=_0x387015(0x38e),_0x119752['ConnectionInvalidDataEvent']=_0x387015(0x8e3),_0x119752['GenerativeAIContextCreationFailed']=_0x387015(0x954),_0x119752[_0x387015(0x220)]=_0x387015(0x458),_0x119752['GenerativeAIContextJobAlreadyConsumed']=_0x387015(0x3b5),_0x119752[_0x387015(0xa3)]=_0x387015(0x890),_0x119752[_0x387015(0x638)]=_0x387015(0x72e),_0x119752[_0x387015(0x8ce)]=_0x387015(0x6e0),_0x119752[_0x387015(0x2f9)]='graph-database-creation-failed',_0x119752[_0x387015(0xa0)]=_0x387015(0x381),_0x119752['InvalidPublisher']=_0x387015(0x4f5),_0x119752[_0x387015(0x1c3)]='invalid-subscriber',_0x119752['InvalidSubscription']='invalid-subscription',_0x119752[_0x387015(0x671)]=_0x387015(0x6a6),_0x119752[_0x387015(0x206)]=_0x387015(0x857),_0x119752[_0x387015(0x8d9)]=_0x387015(0x19a),_0x119752[_0x387015(0x825)]=_0x387015(0x5b8),_0x119752[_0x387015(0x1da)]=_0x387015(0x1d3),_0x119752[_0x387015(0x35f)]=_0x387015(0x1d1),_0x119752['KeyValueDatabaseCreationFailed']=_0x387015(0x4cf),_0x119752[_0x387015(0x16c)]=_0x387015(0x367),_0x119752[_0x387015(0x76b)]=_0x387015(0x89d),_0x119752[_0x387015(0x8ed)]=_0x387015(0x4f9),_0x119752[_0x387015(0x95c)]=_0x387015(0x6a4),_0x119752['LocalMediaStreamDoesNotExist']=_0x387015(0x5f9),_0x119752['MissingRemoteConnection']=_0x387015(0x3f1),_0x119752[_0x387015(0x4c2)]=_0x387015(0x866),_0x119752[_0x387015(0x4c7)]=_0x387015(0x5ef),_0x119752['ObjectStoreCannotWriteTransaction']=_0x387015(0x83b),_0x119752[_0x387015(0x656)]='object-store-invalid-state',_0x119752[_0x387015(0x7d5)]=_0x387015(0x506),_0x119752[_0x387015(0x708)]=_0x387015(0x69f),_0x119752[_0x387015(0x609)]='outgoing-stream-no-topic',_0x119752[_0x387015(0x3ca)]=_0x387015(0x55b),_0x119752[_0x387015(0x86f)]='remote-stream-missing-provider-id',_0x119752[_0x387015(0x3be)]=_0x387015(0x3c5),_0x119752[_0x387015(0x36f)]=_0x387015(0x354),_0x119752['SubscriptionRequestFailed']=_0x387015(0x2b5),_0x119752['SubscriptionRequestNoAnswer']=_0x387015(0x7e2),_0x119752[_0x387015(0x535)]='node-does-not-exist',_0x119752[_0x387015(0x8c6)]=_0x387015(0x749),_0x119752[_0x387015(0x7c3)]='peer-connection-invalid-destination',_0x119752[_0x387015(0x215)]=_0x387015(0x340),_0x119752[_0x387015(0x1f2)]=_0x387015(0x12f),_0x119752[_0x387015(0x69c)]='workflow-invalid-block-type';}(_0x556372||(_0x556372={}));const _0x397017=new Map([[_0x556372[_0x148812(0x258)],_0x148812(0x355)],[_0x556372[_0x148812(0x42c)],'Connection\x20not\x20connected.'],[_0x556372[_0x148812(0x4ae)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x556372[_0x148812(0x4eb)],_0x148812(0x764)],[_0x556372[_0x148812(0x54c)],_0x148812(0x2cd)],[_0x556372[_0x148812(0x220)],_0x148812(0x2b7)],[_0x556372[_0x148812(0x2ec)],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x556372[_0x148812(0xa3)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x556372[_0x148812(0x638)],_0x148812(0x378)],[_0x556372[_0x148812(0x8ce)],_0x148812(0xee)],[_0x556372[_0x148812(0x2f9)],_0x148812(0x5ac)],[_0x556372['InvalidDataChannel'],_0x148812(0x528)],[_0x556372[_0x148812(0x7d1)],'Invalid\x20publisher.'],[_0x556372[_0x148812(0x1c3)],'Invalid\x20subscriber.'],[_0x556372[_0x148812(0x806)],'Invalid\x20subscription.'],[_0x556372[_0x148812(0x671)],_0x148812(0x8ec)],[_0x556372[_0x148812(0x206)],_0x148812(0x3d1)],[_0x556372[_0x148812(0x8d9)],_0x148812(0x4ed)],[_0x556372[_0x148812(0x825)],_0x148812(0x5b2)],[_0x556372['JobWorkerCreationFailed'],_0x148812(0x344)],[_0x556372[_0x148812(0x35f)],_0x148812(0x1ad)],[_0x556372[_0x148812(0x867)],_0x148812(0x604)],[_0x556372[_0x148812(0x16c)],_0x148812(0x2f7)],[_0x556372['KeyValueDatabaseTableDoesNotExist'],_0x148812(0x7ff)],[_0x556372[_0x148812(0x8ed)],_0x148812(0x632)],[_0x556372[_0x148812(0x95c)],_0x148812(0x347)],[_0x556372[_0x148812(0xbd)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x556372[_0x148812(0x28c)],_0x148812(0x2e8)],[_0x556372['MissingSystemTopic'],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x556372[_0x148812(0x4c7)],_0x148812(0xc7)],[_0x556372[_0x148812(0x298)],_0x148812(0x8e)],[_0x556372[_0x148812(0x7d5)],_0x148812(0x73b)],[_0x556372['ObjectStoreInvalidState'],_0x148812(0x594)],[_0x556372['ObjectStoreNotSynced'],_0x148812(0x874)],[_0x556372['OutgoingMediaStreamNoTopic'],_0x148812(0x99)],[_0x556372[_0x148812(0x3ca)],_0x148812(0x18b)],[_0x556372[_0x148812(0x86f)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x556372[_0x148812(0x3be)],'Remote\x20connection\x20already\x20exists.'],[_0x556372[_0x148812(0x36f)],_0x148812(0x836)],[_0x556372[_0x148812(0x6ab)],_0x148812(0x6fc)],[_0x556372[_0x148812(0x3b8)],_0x148812(0x75b)],[_0x556372[_0x148812(0x535)],'Node\x20does\x20not\x20exist.'],[_0x556372['NodeAlreadyExist'],'Node\x20already\x20exists.'],[_0x556372['PeerConnectionInvalidDestination'],_0x148812(0x62d)],[_0x556372[_0x148812(0x215)],_0x148812(0x318)],[_0x556372[_0x148812(0x1f2)],'Workflow\x20does\x20not\x20exist.'],[_0x556372[_0x148812(0x69c)],'Invalid\x20workflow\x20block\x20type.']]);class _0x864d50 extends Error{[_0x148812(0x6ed)];static [_0x148812(0x753)]=_0x556372;[_0x148812(0x912)];constructor(_0x566b2b,_0x17c62d){const _0x418294=_0x148812;super(_0x418294(0x83c)+_0x566b2b+':\x20'+_0x397017[_0x418294(0x792)](_0x566b2b)+_0x418294(0x205)+JSON[_0x418294(0x605)](_0x17c62d)),this['code']=_0x566b2b,this[_0x418294(0x912)]=_0x17c62d||{};}}var _0x457093,_0x312176,_0x369bd3,_0x47a236,_0x354975,_0x2892de,_0x427f74;!function(_0x32947f){const _0x4e4073=_0x148812;_0x32947f[_0x32947f[_0x4e4073(0x619)]=0x0]=_0x4e4073(0x619),_0x32947f[_0x32947f['CloseJobDispatcher']=0x1]=_0x4e4073(0x2c7),_0x32947f[_0x32947f[_0x4e4073(0x384)]=0x2]=_0x4e4073(0x384),_0x32947f[_0x32947f['CloseExternalStorageConnection']=0x3]=_0x4e4073(0x10b),_0x32947f[_0x32947f[_0x4e4073(0x423)]=0x4]=_0x4e4073(0x423),_0x32947f[_0x32947f[_0x4e4073(0x64d)]=0x5]='CloseMediaStream',_0x32947f[_0x32947f['CloseObjectStoreBucket']=0x6]='CloseObjectStoreBucket',_0x32947f[_0x32947f[_0x4e4073(0x96f)]=0x7]=_0x4e4073(0x96f),_0x32947f[_0x32947f[_0x4e4073(0x805)]=0x8]=_0x4e4073(0x805),_0x32947f[_0x32947f[_0x4e4073(0x1d4)]=0x9]=_0x4e4073(0x1d4),_0x32947f[_0x32947f[_0x4e4073(0x73a)]=0xa]=_0x4e4073(0x73a),_0x32947f[_0x32947f[_0x4e4073(0x23a)]=0xb]=_0x4e4073(0x23a),_0x32947f[_0x32947f['GraphDatabaseStats']=0xc]='GraphDatabaseStats',_0x32947f[_0x32947f['KeyValueDatabaseContentAvailable']=0xd]='KeyValueDatabaseContentAvailable',_0x32947f[_0x32947f['KeyValueDatabaseContentSynchronized']=0xe]='KeyValueDatabaseContentSynchronized',_0x32947f[_0x32947f[_0x4e4073(0x3c9)]=0xf]=_0x4e4073(0x3c9),_0x32947f[_0x32947f[_0x4e4073(0xf8)]=0x10]=_0x4e4073(0xf8),_0x32947f[_0x32947f[_0x4e4073(0x2f0)]=0x11]=_0x4e4073(0x2f0),_0x32947f[_0x32947f['KeyValueDatabaseStats']=0x12]=_0x4e4073(0xc0),_0x32947f[_0x32947f['KeyValueDatabaseSyncRequired']=0x13]=_0x4e4073(0x932),_0x32947f[_0x32947f[_0x4e4073(0x579)]=0x14]=_0x4e4073(0x579),_0x32947f[_0x32947f[_0x4e4073(0x299)]=0x15]='ObjectStoreStats',_0x32947f[_0x32947f[_0x4e4073(0x64e)]=0x16]=_0x4e4073(0x64e),_0x32947f[_0x32947f[_0x4e4073(0x603)]=0x17]=_0x4e4073(0x603),_0x32947f[_0x32947f['RemoteMediaStreamTrackFail']=0x18]='RemoteMediaStreamTrackFail',_0x32947f[_0x32947f[_0x4e4073(0x893)]=0x19]=_0x4e4073(0x893),_0x32947f[_0x32947f[_0x4e4073(0x4f4)]=0x1a]='UnpublishMediaStream',_0x32947f[_0x32947f['UnsubscribeMediaStream']=0x1b]=_0x4e4073(0x6fa),_0x32947f[_0x32947f['UpdateMediaStream']=0x1c]=_0x4e4073(0x6d2),_0x32947f[_0x32947f[_0x4e4073(0x66a)]=0x1d]='VectorDatabaseStats';}(_0x457093||(_0x457093={})),function(_0x4344eb){const _0x1e4270=_0x148812;_0x4344eb[_0x1e4270(0x68d)]=_0x1e4270(0x77e),_0x4344eb[_0x1e4270(0x834)]=_0x1e4270(0x741),_0x4344eb[_0x1e4270(0x86c)]=_0x1e4270(0x91b),_0x4344eb[_0x1e4270(0x1ac)]=_0x1e4270(0x137),_0x4344eb[_0x1e4270(0xe8)]=_0x1e4270(0x1db),_0x4344eb[_0x1e4270(0x2ca)]=_0x1e4270(0x1ef),_0x4344eb[_0x1e4270(0x3c8)]=_0x1e4270(0x5fc),_0x4344eb['RequestFileWrite']='request-file-write';}(_0x312176||(_0x312176={})),function(_0x43cd6e){const _0x59c8df=_0x148812;_0x43cd6e[_0x59c8df(0x368)]=_0x59c8df(0x402),_0x43cd6e['Transaction']=_0x59c8df(0x8fd);}(_0x369bd3||(_0x369bd3={})),function(_0x598efb){const _0x3d82b5=_0x148812;_0x598efb[_0x3d82b5(0x647)]='add',_0x598efb[_0x3d82b5(0x83)]=_0x3d82b5(0x81a),_0x598efb[_0x3d82b5(0x86c)]='delete';}(_0x47a236||(_0x47a236={})),function(_0x5067bf){const _0x4c4168=_0x148812;_0x5067bf['Get']=_0x4c4168(0x792),_0x5067bf['List']=_0x4c4168(0x946),_0x5067bf[_0x4c4168(0x17e)]='count';}(_0x354975||(_0x354975={})),function(_0x122592){const _0x4eb18d=_0x148812;_0x122592[_0x122592[_0x4eb18d(0x368)]=0x0]=_0x4eb18d(0x368),_0x122592[_0x122592[_0x4eb18d(0x6e6)]=0x1]=_0x4eb18d(0x6e6),_0x122592[_0x122592['Attribution']=0x2]=_0x4eb18d(0x6e3),_0x122592[_0x122592['PartialResult']=0x3]=_0x4eb18d(0x2dc),_0x122592[_0x122592[_0x4eb18d(0x256)]=0x4]=_0x4eb18d(0x256),_0x122592[_0x122592[_0x4eb18d(0x267)]=0x5]='Failed';}(_0x2892de||(_0x2892de={})),function(_0x1c52b4){const _0x3fd3aa=_0x148812;_0x1c52b4[_0x1c52b4[_0x3fd3aa(0x891)]=0x0]=_0x3fd3aa(0x891),_0x1c52b4[_0x1c52b4['Node']=0x1]=_0x3fd3aa(0x30e),_0x1c52b4[_0x1c52b4['Content']=0x2]=_0x3fd3aa(0x1c4),_0x1c52b4[_0x1c52b4['Subscription']=0x3]='Subscription',_0x1c52b4[_0x1c52b4['Stats']=0x4]='Stats',_0x1c52b4[_0x1c52b4[_0x3fd3aa(0x972)]=0x5]=_0x3fd3aa(0x972),_0x1c52b4[_0x1c52b4[_0x3fd3aa(0x48c)]=0x6]=_0x3fd3aa(0x48c);}(_0x427f74||(_0x427f74={}));class _0x204d07{[_0x148812(0x132)];[_0x148812(0xb2)];[_0x148812(0x3eb)];constructor(_0x3e798a,_0x188f90){const _0x22337e=_0x148812;this[_0x22337e(0x132)]=_0x3e798a,this[_0x22337e(0xb2)]=_0x188f90;}[_0x148812(0x5cf)](){const _0x48b3bb=_0x148812;return this[_0x48b3bb(0xb2)];}[_0x148812(0x6ce)](){const _0x13d538=_0x148812;return this[_0x13d538(0x132)][_0x13d538(0x114)]();}['destroy'](){}[_0x148812(0x364)](_0x16fe1d){const _0x55d7be=_0x148812;this[_0x55d7be(0x3eb)]=_0x16fe1d;}[_0x148812(0x75f)](){const _0x220300=_0x148812;delete this[_0x220300(0x3eb)];}}const _0x23941c=require('firebase/firestore');let _0x5efde6=_0x49b999(0x14d)['O'];function _0x241dae(_0x2abbb0){const _0x3c9319=_0x148812;return!(!_0x2abbb0||'object'!=typeof _0x2abbb0||Array[_0x3c9319(0x6c1)](_0x2abbb0));}_0x5efde6=function _0xb5e655(_0x3a873f,..._0x3938b8){const _0x24d6cb=_0x148812;if(!Array['isArray'](_0x3938b8)||0x0===_0x3938b8[_0x24d6cb(0x6a1)])return _0x3a873f;const _0x226e03=_0x3938b8[_0x24d6cb(0x4cd)]();if(_0x241dae(_0x3a873f)&&_0x241dae(_0x226e03)){for(const _0x2b7855 in _0x226e03)_0x241dae(_0x226e03[_0x2b7855])?(_0x3a873f[_0x2b7855]||Object[_0x24d6cb(0x8aa)](_0x3a873f,{[_0x2b7855]:{}}),_0xb5e655(_0x3a873f[_0x2b7855],_0x226e03[_0x2b7855])):Object[_0x24d6cb(0x8aa)](_0x3a873f,{[_0x2b7855]:_0x226e03[_0x2b7855]});}return _0xb5e655(_0x3a873f,..._0x3938b8);}(_0x5efde6,_0x49b999(0x3e6)['O']);const _0x452d67=_0x5efde6,_0x10d0bd=require('firebase/app'),_0x4ab7e3=require('firebase/auth'),_0x4da9ca=require('firebase/database'),_0x1563b0=require('firebase/functions'),_0x12e752=require('uuid'),_0x5a4160=_0x148812(0x305);class _0x4a3b5f{static [_0x148812(0x39b)];[_0x148812(0x48f)];[_0x148812(0x53f)];[_0x148812(0x899)];[_0x148812(0x8c0)];[_0x148812(0x1de)];['clockSkew'];[_0x148812(0xef)];constructor(){const _0x146dc2=_0x148812;this[_0x146dc2(0x15b)]();}static['getInstance'](){const _0x436824=_0x148812;return _0x4a3b5f[_0x436824(0x39b)]||(_0x4a3b5f[_0x436824(0x39b)]=new _0x4a3b5f()),_0x4a3b5f[_0x436824(0x39b)];}['getApp'](){const _0x4e12bd=_0x148812;if(!this[_0x4e12bd(0x48f)]){let _0x3eb87c=_0x5a4160;_0x4e12bd(0x1f3)!=typeof window&&(_0x3eb87c=_0x5a4160+'-'+(0x0,_0x12e752['v4'])()),this['app']=(0x0,_0x10d0bd[_0x4e12bd(0x116)])(_0x452d67[_0x4e12bd(0x998)],''+_0x3eb87c);}return this['app'];}[_0x148812(0x813)](){const _0x2ad777=_0x148812;return this[_0x2ad777(0x53f)]||(this[_0x2ad777(0x53f)]=(0x0,_0x4ab7e3[_0x2ad777(0x813)])(this[_0x2ad777(0x15b)]())),this[_0x2ad777(0x53f)];}[_0x148812(0xde)](){const _0x4c6013=_0x148812;return this[_0x4c6013(0x899)]||(this[_0x4c6013(0x899)]=(0x0,_0x1563b0[_0x4c6013(0xde)])(this[_0x4c6013(0x15b)](),_0x452d67[_0x4c6013(0x998)][_0x4c6013(0x791)])),this['functions'];}['getDatabase'](){const _0x104ff5=_0x148812;return this[_0x104ff5(0x8c0)]||(this['database']=(0x0,_0x4da9ca[_0x104ff5(0x53c)])(this[_0x104ff5(0x15b)]())),this[_0x104ff5(0x8c0)];}[_0x148812(0x58f)](){const _0x2864c0=_0x148812;return this[_0x2864c0(0x1de)]||(this[_0x2864c0(0x1de)]=(0x0,_0x23941c[_0x2864c0(0x58f)])(this[_0x2864c0(0x15b)]())),this[_0x2864c0(0x1de)];}async[_0x148812(0x7ee)](){const _0xbfb982=_0x148812;if(this['clockSkew']&&this[_0xbfb982(0xef)]&&Date[_0xbfb982(0x847)]()-this['lastClockUpdate']<0x493e0)return Date[_0xbfb982(0x847)]()+this[_0xbfb982(0x49b)];const _0x392fa9=this[_0xbfb982(0x53c)](),_0x194622=(0x0,_0x4da9ca['ref'])(_0x392fa9,'.info/serverTimeOffset');return new Promise(_0x4746a7=>{const _0x51dae9=_0xbfb982;(0x0,_0x4da9ca[_0x51dae9(0x58a)])(_0x194622,_0x131a31=>{const _0x10f7f2=_0x51dae9;(0x0,_0x4da9ca[_0x10f7f2(0x57f)])(_0x194622),this[_0x10f7f2(0x49b)]=_0x131a31['val'](),this[_0x10f7f2(0xef)]=Date[_0x10f7f2(0x847)](),_0x4746a7(Date[_0x10f7f2(0x847)]()+(this[_0x10f7f2(0x49b)]??0x0));});});}}const _0x22b478=_0x4a3b5f[_0x148812(0x3bf)]();class _0x2680cb{static [_0x148812(0x39b)];['enabledChannels']=[_0x306624[_0x148812(0x573)]];['debugEnabled']=!0x1;['loggingConnectors'];['vendorId']='';[_0x148812(0x485)];[_0x148812(0x667)]=[];[_0x148812(0x67c)];[_0x148812(0x138)];[_0x148812(0x617)]=0xa;['retryDelay']=0x1f4;[_0x148812(0x4e6)]=0x1c2;[_0x148812(0x871)]=0x3e8;constructor(){const _0x326722=_0x148812;if(_0x326722(0x1f3)!=typeof window)this[_0x326722(0x485)]=window;else{if(void 0x0===_0x49b999['g'])throw new Error(_0x326722(0x1f5));this[_0x326722(0x485)]=_0x49b999['g'];}this[_0x326722(0x50c)](),this[_0x326722(0x485)][_0x326722(0x308)]=_0x4b27bb=>{const _0x258705=_0x326722;if(_0x4b27bb===_0x306624['All'])return this[_0x258705(0x83d)]=Object['keys'](_0x306624)[_0x258705(0x7e1)](_0x46cd6a=>_0x306624[_0x46cd6a]),void Object['keys'](_0x306624)[_0x258705(0x6bf)](_0x41dc96=>{const _0x3ea336=_0x258705,_0x24c97c=_0x41dc96;localStorage[_0x3ea336(0x438)]('crewdle-sdk-logging-'+_0x306624[_0x24c97c],_0x3ea336(0x5bd));});this['enabledChannels'][_0x258705(0x523)](_0x4b27bb)||(this[_0x258705(0x83d)]['push'](_0x4b27bb),localStorage[_0x258705(0x438)]('crewdle-sdk-logging-'+_0x4b27bb,_0x258705(0x5bd)));},this['globalObject'][_0x326722(0x823)]=_0x4955ff=>{const _0x41c33c=_0x326722;if(!_0x4955ff||_0x4955ff===_0x306624['All'])return this['enabledChannels']=[],void Object[_0x41c33c(0x6fe)](_0x306624)[_0x41c33c(0x6bf)](_0x5a01ce=>{const _0x3fc9cf=_0x41c33c,_0x1d9f73=_0x5a01ce;localStorage[_0x3fc9cf(0x3bb)](_0x3fc9cf(0x888)+_0x306624[_0x1d9f73]);});this[_0x41c33c(0x83d)][_0x41c33c(0x523)](_0x4955ff)&&(this[_0x41c33c(0x83d)]=this[_0x41c33c(0x83d)][_0x41c33c(0x5b5)](_0x54bb80=>_0x54bb80!==_0x4955ff),localStorage['removeItem'](_0x41c33c(0x888)+_0x4955ff));},this[_0x326722(0x485)][_0x326722(0x568)]=_0x306624;}static[_0x148812(0x3bf)](){const _0x5006ee=_0x148812;try{return _0x2680cb[_0x5006ee(0x39b)]||(_0x2680cb[_0x5006ee(0x39b)]=new _0x2680cb()),_0x2680cb[_0x5006ee(0x39b)];}catch(_0x494093){return console[_0x5006ee(0x2d0)](_0x5006ee(0x4b8),_0x494093),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x148812(0x8a7)](_0x41a08a){const _0x29d9be=_0x148812;this[_0x29d9be(0x945)]=_0x41a08a,this[_0x29d9be(0x667)]=[],this[_0x29d9be(0x67c)]=this[_0x29d9be(0x274)](),this[_0x29d9be(0x138)]&&(clearTimeout(this[_0x29d9be(0x138)]),this[_0x29d9be(0x138)]=void 0x0);}[_0x148812(0x44d)](_0x5f22ff){this['loggingConnectors']=_0x5f22ff;}[_0x148812(0x69b)](_0x3861b5,..._0x2b1daf){const _0x1c78c7=_0x148812;this[_0x1c78c7(0x36b)]&&this['log'](_0x306624['Default'],'DEBUG\x20-\x20'+_0x3861b5,..._0x2b1daf);}[_0x148812(0x614)](_0x537116,..._0x4db549){const _0x5017cf=_0x148812;console[_0x5017cf(0x14c)](_0x537116,..._0x4db549);}[_0x148812(0x14c)](_0xcd8751,_0x4fb18e,..._0x3abf80){const _0x4befc2=_0x148812;_0x452d67[_0x4befc2(0x3a6)]||(this[_0x4befc2(0x83d)][_0x4befc2(0x523)](_0xcd8751)&&console['log'](_0x4befc2(0xf0)+_0xcd8751+'\x27\x0a',new Date()+'\x0a',_0x4fb18e,..._0x3abf80),this['loggingConnectors']&&this[_0x4befc2(0x78a)][_0x4befc2(0x6bf)](_0x56ecac=>{const _0x2af631=_0x4befc2;this[_0x2af631(0x2d5)](_0x56ecac)&&_0x56ecac['getEnabledChannels']()[_0x2af631(0x523)](_0xcd8751)&&_0x56ecac[_0x2af631(0x14c)](_0x4fb18e,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0xcd8751,..._0x3abf80}});}));}['logRaw'](_0x565ffa,_0x59c1be,..._0x8f92b0){const _0x19fe2e=_0x148812;_0x452d67[_0x19fe2e(0x3a6)]||(this['enabledChannels']['includes'](_0x565ffa)&&console['log'](_0x59c1be,..._0x8f92b0),this[_0x19fe2e(0x78a)]&&this[_0x19fe2e(0x78a)]['forEach'](_0x5271f4=>{const _0x5b14ba=_0x19fe2e;this[_0x5b14ba(0x2d5)](_0x5271f4)&&_0x5271f4['getEnabledChannels']()[_0x5b14ba(0x523)](_0x565ffa)&&_0x5271f4['log'](_0x59c1be,{'vendorId':this[_0x5b14ba(0x945)],'nodeId':'','nodeType':'','data':{'channel':_0x565ffa,..._0x8f92b0}});}));}['logEvent'](_0x3edf95,_0x33ea50){const _0x390809=_0x148812;if(!this[_0x390809(0x78a)])return;const _0x5e5b60={'vendorId':this['vendorId'],..._0x33ea50};this[_0x390809(0x78a)]['forEach'](_0x55de0d=>{_0x55de0d['log'](_0x3edf95,_0x5e5b60);});}[_0x148812(0x8f3)](_0x411c48,_0x56bed5){this['createBatchOperation'](_0x411c48,_0x56bed5),this['logBatch']();}[_0x148812(0x16f)](_0x226c37,_0xceb9a2,_0x46e4f6){const _0x114809=_0x148812;(0x0,_0x23941c['setDoc'])((0x0,_0x23941c[_0x114809(0x4e0)])(_0x22b478[_0x114809(0x58f)](),_0x114809(0x457)+this[_0x114809(0x945)]+'/'+_0x226c37+'/'+_0xceb9a2),{'storage':_0x46e4f6,'timestamp':(0x0,_0x23941c['serverTimestamp'])()});}[_0x148812(0x872)](){const _0x460a20=_0x148812;this['currentBatch']&&(this[_0x460a20(0x67c)][_0x460a20(0x5b9)]+=0x1,this['currentBatch']['counter']===this[_0x460a20(0x4e6)]?this['processBatch']():this[_0x460a20(0x138)]||(this[_0x460a20(0x138)]=this['globalObject']['setTimeout'](()=>this[_0x460a20(0x496)](),this[_0x460a20(0x871)])));}async[_0x148812(0x496)](){const _0x4a4b23=_0x148812;if(this[_0x4a4b23(0x67c)]){for(this['batchQueue'][_0x4a4b23(0x5dc)](this[_0x4a4b23(0x67c)]),this['currentBatch']=this['createNewBatch']();this[_0x4a4b23(0x667)]['length']>0x0;){const _0x4f92b5=this['batchQueue'][_0x4a4b23(0x4cd)]();if(!await this[_0x4a4b23(0x557)](_0x4f92b5))break;}clearTimeout(this[_0x4a4b23(0x138)]),this['batchTimeout']=void 0x0;}}[_0x148812(0x2d0)](_0x23e351,_0x43b0d0,..._0x38df04){const _0x508672=_0x148812;if(console['error'](new Date(),_0x23e351,_0x43b0d0,..._0x38df04),this[_0x508672(0x78a)]){const _0x3447b2={'vendorId':this[_0x508672(0x945)],..._0x43b0d0};this['loggingConnectors'][_0x508672(0x6bf)](_0x478a04=>{_0x478a04['error'](_0x23e351,_0x3447b2);});}}[_0x148812(0x659)](_0x461ee5,_0x423148,..._0x538bea){const _0x5f29fb=_0x148812;if(console[_0x5f29fb(0x6f8)](new Date(),_0x461ee5,_0x423148,_0x538bea),this[_0x5f29fb(0x78a)]){const _0x261fa1={'vendorId':this[_0x5f29fb(0x945)],..._0x423148};this[_0x5f29fb(0x78a)][_0x5f29fb(0x6bf)](_0x1c7d81=>{const _0xd4b967=_0x5f29fb;_0x1c7d81[_0xd4b967(0x6f8)](_0x461ee5,_0x261fa1);});}}['isChannelEnabled'](_0xce4817){const _0x49478b=_0x148812;return this[_0x49478b(0x83d)][_0x49478b(0x523)](_0xce4817);}async['commitBatch'](_0x1e290d,_0x327527=0x0){const _0x28b512=_0x148812;if(_0x1e290d[_0x28b512(0x5b9)]>0x0)try{return await _0x1e290d[_0x28b512(0x588)][_0x28b512(0x75c)](),!0x0;}catch(_0x408d96){if(console[_0x28b512(0x2d0)]('Error\x20committing\x20batch:',_0x408d96,'Operations:',_0x1e290d[_0x28b512(0x119)]),!(_0x327527<this[_0x28b512(0x617)])){const {nodeId:_0x5e3b2c='',nodeType:_0x4a772c='',clusterId:_0x94f108=''}=_0x1e290d[_0x28b512(0x119)][0x0][_0x28b512(0x912)],_0x377f9c={'nodeId':_0x5e3b2c,'nodeType':_0x4a772c,'clusterId':_0x94f108,'data':{'operations':_0x1e290d[_0x28b512(0x119)],'error':_0x408d96}};return this[_0x28b512(0x2d0)](_0x28b512(0x3fc),_0x377f9c),!0x1;}{const _0x57867c=this[_0x28b512(0x5ba)](_0x1e290d[_0x28b512(0x119)]);setTimeout(()=>this['commitBatch'](_0x57867c,_0x327527+0x1),this[_0x28b512(0x79b)]*Math[_0x28b512(0x7da)](0x2,_0x327527));}}}[_0x148812(0x50c)](){const _0x369385=_0x148812;try{Object[_0x369385(0x6fe)](_0x306624)[_0x369385(0x6bf)](_0x52ab96=>{const _0x12340c=_0x369385,_0x4d0078=_0x52ab96;localStorage[_0x12340c(0x1a8)]('crewdle-sdk-logging-'+_0x306624[_0x4d0078])&&(console['log'](_0x12340c(0x380),_0x306624[_0x4d0078]),this[_0x12340c(0x83d)][_0x12340c(0x5dc)](_0x306624[_0x4d0078]));});}catch(_0x265973){}}['isInternalLoggingConnector'](_0x160ac1){const _0x46c169=_0x148812;return void 0x0!==_0x160ac1[_0x46c169(0x23c)];}[_0x148812(0x274)](){const _0x5ae37e=_0x148812;return{'batch':(0x0,_0x23941c[_0x5ae37e(0x1eb)])(_0x22b478[_0x5ae37e(0x58f)]()),'operations':[],'counter':0x0};}[_0x148812(0x5ba)](_0x42e384){const _0x27dc32=_0x148812,_0x2a59b7=(0x0,_0x23941c[_0x27dc32(0x1eb)])(_0x22b478[_0x27dc32(0x58f)]());return _0x42e384['forEach'](_0x3c80ae=>this['addBatchOperation'](_0x2a59b7,_0x3c80ae)),{'batch':_0x2a59b7,'operations':_0x42e384,'counter':_0x42e384[_0x27dc32(0x6a1)]};}['addBatchOperation'](_0x12e4c5,_0x35c9f1){const _0x371155=_0x148812;switch(_0x35c9f1[_0x371155(0x200)]){case _0x371155(0x6b3):_0x12e4c5[_0x371155(0x6b3)](_0x35c9f1[_0x371155(0x964)],_0x35c9f1['data']);break;case'update':_0x12e4c5['update'](_0x35c9f1[_0x371155(0x964)],_0x35c9f1[_0x371155(0x912)]);break;case _0x371155(0x91b):_0x12e4c5[_0x371155(0x91b)](_0x35c9f1['ref']);}}['createBatchOperation'](_0x45e1b1,_0x4a92f2){const _0xb0f782=_0x148812;this[_0xb0f782(0x67c)]||(this[_0xb0f782(0x67c)]=this[_0xb0f782(0x274)]());const _0x13ef7d=(0x0,_0x23941c['doc'])((0x0,_0x23941c[_0xb0f782(0x6bc)])(_0x22b478[_0xb0f782(0x58f)](),'developers/'+this[_0xb0f782(0x945)]+_0xb0f782(0x140))),_0x2c02f3={..._0x4a92f2,'service':_0x45e1b1,'timestamp':(0x0,_0x23941c[_0xb0f782(0x141)])()},_0x2bc88f={'type':_0xb0f782(0x6b3),'path':_0x13ef7d[_0xb0f782(0x64f)],'ref':_0x13ef7d,'data':_0x2c02f3};return this[_0xb0f782(0x67c)][_0xb0f782(0x119)][_0xb0f782(0x5dc)](_0x2bc88f),this[_0xb0f782(0x9f)](this[_0xb0f782(0x67c)][_0xb0f782(0x588)],_0x2bc88f),_0x13ef7d;}}const _0x24a63b=_0x2680cb[_0x148812(0x3bf)]();function _0x24dea2(_0x39561b,_0x1b904d){return'/'===_0x39561b?_0x39561b+_0x1b904d:_0x39561b+'/'+_0x1b904d;}function _0x26348a(_0x11fa14){const _0x5e7282=_0x148812,_0x275334=function(_0x474393){const _0x25a770=a0_0x53e8;return _0x474393[_0x25a770(0x3ea)]('/')[_0x25a770(0x5b5)](_0x51c093=>_0x51c093[_0x25a770(0x6a1)]>0x0);}(_0x11fa14),_0x156465=_0x275334[_0x5e7282(0x21a)]()||'',_0x2a408e=_0x275334['join']('/');return[0x0===_0x2a408e[_0x5e7282(0x6a1)]?'/':_0x2a408e,_0x156465];}async function _0x55b8b6(_0x3d19e1){const _0xd84767=_0x148812;let _0x321dd3;const _0x3bdf21=_0x3d19e1[_0xd84767(0x33c)]/0x100000;_0x321dd3=_0x3bdf21<=0xa?0x1:_0x3bdf21<=0x64?0.5:_0x3bdf21<=0x1f4?0.1:0.05;const _0x1644df=Math[_0xd84767(0x698)](_0x3d19e1[_0xd84767(0x33c)]/_0x4a8145),_0x53eac7=Math['ceil'](_0x1644df*_0x321dd3);let _0x31295f=new Uint8Array();for(let _0x30148b=0x0;_0x30148b<_0x53eac7;_0x30148b++){const _0x35c2be=Math[_0xd84767(0x8df)](_0x30148b/_0x53eac7*_0x3d19e1[_0xd84767(0x33c)]);let _0x3fc438=_0x35c2be+_0x4a8145;_0x3fc438>_0x3d19e1[_0xd84767(0x33c)]&&(_0x3fc438=_0x3d19e1[_0xd84767(0x33c)]);const _0x3a94cb=_0x3d19e1[_0xd84767(0x234)](_0x35c2be,_0x3fc438),_0x38213a=await _0x3a94cb['arrayBuffer'](),_0x42c0a8=new Uint8Array([..._0x31295f,...new Uint8Array(_0x38213a)]);_0x31295f=new Uint8Array(await crypto[_0xd84767(0x3f7)]['digest'](_0xd84767(0x4c5),_0x42c0a8));}return Array[_0xd84767(0x928)](new Uint8Array(_0x31295f))[_0xd84767(0x7e1)](_0x1f8ba3=>_0x1f8ba3[_0xd84767(0x551)](0x10)['padStart'](0x2,'0'))[_0xd84767(0x3b0)]('');}async function*_0x101864(_0x569ff5,_0x307f84=0x0,_0x4b9851){const _0x3e01c4=_0x148812;let _0x12e00d=_0x307f84*_0x13cfd0,_0x41112f=_0x569ff5;for(;_0x12e00d<_0x41112f['size'];){let _0x192f2e=_0x12e00d+_0x13cfd0;_0x192f2e>_0x41112f[_0x3e01c4(0x33c)]&&(_0x192f2e=_0x41112f['size']);let _0x256cdc=0x0;for(;_0x256cdc<0x14;)try{await _0x4b9851?.();const _0x337864=_0x41112f[_0x3e01c4(0x234)](_0x12e00d,_0x192f2e,_0x3e01c4(0x88f)),_0x3a3b9d=await _0x337864[_0x3e01c4(0x913)]();yield _0x3a3b9d,_0x12e00d=_0x192f2e,await new Promise(_0x566f41=>setTimeout(_0x566f41,0x0));break;}catch(_0x3e7dd3){if(console[_0x3e01c4(0x2d0)](_0x3e01c4(0x112)+(_0x256cdc+0x1)+'\x20attempts:',_0x3e7dd3),_0x256cdc++,_0x256cdc>0x14)throw _0x3e7dd3;let _0x1b22aa=0x3e8*Math[_0x3e01c4(0x7da)](0x2,_0x256cdc);_0x1b22aa>0x7530&&(_0x1b22aa=0x7530),await new Promise(_0x6d8e28=>setTimeout(_0x6d8e28,_0x1b22aa));}}}class _0x36c311 extends _0x204d07{[_0x148812(0x3b9)];[_0x148812(0x58e)];['fileChunks']=new Map();[_0x148812(0x2a4)]=0x0;[_0x148812(0x8f7)]=0x0;['bytesSent']=0x0;[_0x148812(0x811)]=0x0;constructor(_0x8847a2,_0x1eaa75){super(_0x8847a2,_0x1eaa75);}[_0x148812(0x5cf)](){const _0x472b1f=_0x148812;return this[_0x472b1f(0xb2)];}[_0x148812(0x895)](){return this['label'];}[_0x148812(0x16e)](){const _0x5115f2=_0x148812;return _0x366c21[_0x5115f2(0x8a4)][_0x5115f2(0x660)];}['getInternalStreamId'](){return this['label'];}['registerPublisher'](_0x5a3fb4){const _0x46f88b=_0x148812;if(this[_0x46f88b(0x3b9)])throw new _0x864d50(_0x864d50[_0x46f88b(0x753)][_0x46f88b(0x7d1)],{'message':_0x46f88b(0x52b)+this[_0x46f88b(0x132)][_0x46f88b(0x114)]()+_0x46f88b(0x19b)+this[_0x46f88b(0xb2)],'topic':this[_0x46f88b(0x3b9)]});this[_0x46f88b(0x3b9)]=_0x5a3fb4;}['registerSubscriber'](_0x310778){const _0x287b8f=_0x148812;if(this[_0x287b8f(0x58e)])throw new _0x864d50(_0x864d50[_0x287b8f(0x753)]['InvalidSubscriber'],{'message':_0x287b8f(0x6ec)+this['owner'][_0x287b8f(0x114)]()+_0x287b8f(0x19b)+this[_0x287b8f(0xb2)],'topic':this[_0x287b8f(0x58e)]});this['incomingTopic']=_0x310778;}[_0x148812(0x99a)](){const _0x4e24a6=_0x148812;delete this[_0x4e24a6(0x3b9)];}['unregisterSubscriber'](){const _0x424950=_0x148812;delete this[_0x424950(0x58e)];}async[_0x148812(0x6aa)](_0x291ced,_0x59c139){const _0x5ae01d=_0x148812;if(_0x24a63b[_0x5ae01d(0x14c)](_0x306624['DataStream'],_0x5ae01d(0x3a7),this[_0x5ae01d(0x132)][_0x5ae01d(0x114)](),_0x291ced,_0x59c139),this[_0x5ae01d(0x2a4)]+=0x1,_0x291ced instanceof File){const _0x253810=await async function(_0x4c1bc7){const _0xc1cdee=_0x5ae01d,_0x47c9de=[];for await(const _0x33ef9c of _0x101864(_0x4c1bc7))_0x47c9de[_0xc1cdee(0x5dc)](_0x33ef9c);return _0x47c9de;}(_0x291ced);return this[_0x5ae01d(0x64a)]+=_0x253810[_0x5ae01d(0x88)]((_0x37aaf0,_0x4021d5)=>_0x37aaf0+_0x4021d5['byteLength'],0x0),void _0x253810[_0x5ae01d(0x6bf)]((_0x4b2396,_0x3884aa)=>{const _0x42549e=_0x5ae01d;this['outgoingTopic']['publish']({'sourceId':this[_0x42549e(0x132)]['getId'](),'destinationIds':_0x59c139,'propagate':!0x0,'contentType':_0x366c21[_0x42549e(0x8a4)][_0x42549e(0x85d)],'content':{'name':_0x291ced['name'],'type':_0x291ced[_0x42549e(0x200)],'data':_0x4b2396,'index':_0x3884aa,'total':_0x253810[_0x42549e(0x6a1)]}});});}this[_0x5ae01d(0x64a)]+=JSON[_0x5ae01d(0x605)](_0x291ced)['length'],this[_0x5ae01d(0x3b9)][_0x5ae01d(0x5a3)]({'sourceId':this[_0x5ae01d(0x132)]['getId'](),'destinationIds':_0x59c139,'propagate':!0x0,'contentType':_0x366c21[_0x5ae01d(0x8a4)][_0x5ae01d(0x660)],'content':_0x291ced});}[_0x148812(0x763)](_0x3be330){const _0x26a091=_0x148812;return this[_0x26a091(0x58e)]['subscribe'](_0x1667f2=>{const _0x42c1e9=_0x26a091;switch(_0x24a63b[_0x42c1e9(0x14c)](_0x306624[_0x42c1e9(0xd1)],_0x42c1e9(0x5d7),this[_0x42c1e9(0x132)][_0x42c1e9(0x114)](),_0x1667f2),_0x1667f2['contentType']){case _0x366c21[_0x42c1e9(0x8a4)][_0x42c1e9(0x660)]:this[_0x42c1e9(0x8f7)]+=0x1,this['bytesReceived']+=JSON[_0x42c1e9(0x605)](_0x1667f2[_0x42c1e9(0x92a)])[_0x42c1e9(0x6a1)],_0x3be330(_0x1667f2[_0x42c1e9(0x21f)],_0x1667f2[_0x42c1e9(0x92a)]);break;case _0x366c21[_0x42c1e9(0x8a4)][_0x42c1e9(0x85d)]:this[_0x42c1e9(0x29d)]['has'](_0x1667f2[_0x42c1e9(0x92a)][_0x42c1e9(0x82)])||this[_0x42c1e9(0x29d)][_0x42c1e9(0x6b3)](_0x1667f2[_0x42c1e9(0x92a)][_0x42c1e9(0x82)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x20ff36=this['fileChunks'][_0x42c1e9(0x792)](_0x1667f2[_0x42c1e9(0x92a)]['name']);if(_0x20ff36[_0x42c1e9(0x13f)]+=0x1,_0x20ff36[_0x42c1e9(0x811)]+=_0x1667f2['content'][_0x42c1e9(0x912)][_0x42c1e9(0x5a5)],_0x20ff36['content']&&(_0x20ff36[_0x42c1e9(0x92a)][_0x1667f2[_0x42c1e9(0x92a)][_0x42c1e9(0x17b)]]=_0x1667f2['content'][_0x42c1e9(0x912)]),this['fileChunks'][_0x42c1e9(0x6b3)](_0x1667f2['content'][_0x42c1e9(0x82)],_0x20ff36),_0x20ff36[_0x42c1e9(0x13f)]+0x1<_0x1667f2['content'][_0x42c1e9(0x94f)])return;this[_0x42c1e9(0x8f7)]+=0x1,this[_0x42c1e9(0x811)]+=_0x20ff36['bytesReceived'],_0x20ff36['content']&&_0x3be330(_0x1667f2[_0x42c1e9(0x21f)],(_0x3571a7=_0x20ff36[_0x42c1e9(0x92a)],_0x38ab78=_0x1667f2['content'][_0x42c1e9(0x82)],_0x1df2d8=_0x1667f2[_0x42c1e9(0x92a)][_0x42c1e9(0x200)],new File(_0x3571a7,_0x38ab78,{'type':_0x1df2d8}))),this[_0x42c1e9(0x29d)]['delete'](_0x1667f2[_0x42c1e9(0x92a)][_0x42c1e9(0x82)]);}var _0x3571a7,_0x38ab78,_0x1df2d8;});}}function _0x48de03(){const _0x5470e5=_0x148812;let _0x5631ec=[];return{'subscribe':_0x152936=>(_0x5631ec[_0x5470e5(0x5dc)](_0x152936),()=>{_0x5631ec=_0x5631ec['filter'](_0x2ad2fa=>_0x2ad2fa!==_0x152936);}),'publish':_0x9a25e4=>{const _0x11d0f0=_0x5470e5;_0x5631ec[_0x11d0f0(0x6bf)](_0xb39bfe=>_0xb39bfe(_0x9a25e4));}};}function _0x127104(){let _0x49ff01;return{'subscribe':_0x57e72a=>(_0x49ff01=_0x57e72a,()=>{_0x49ff01=void 0x0;}),'publish':_0x354d4d=>{_0x49ff01&&_0x49ff01(_0x354d4d);}};}class _0x52f963{['connector'];[_0x148812(0x1c9)];[_0x148812(0x613)];[_0x148812(0x5d8)]=_0x127104();[_0x148812(0xad)];constructor(_0x2eac49,_0x26af4a,_0x2b4b7e){const _0x18bca2=_0x148812;this[_0x18bca2(0x98b)]=_0x2eac49,this[_0x18bca2(0x1c9)]=_0x26af4a,this[_0x18bca2(0x613)]=_0x2b4b7e;}[_0x148812(0x1b2)](){const _0x19861b=_0x148812;this[_0x19861b(0xad)]?.();}async[_0x148812(0x792)](_0x1ae1f0){const _0x6d8449=_0x148812,_0x73f91a={'key':_0x1ae1f0,'tableName':this[_0x6d8449(0x1c9)],'action':_0x354975[_0x6d8449(0x2a0)]};return this[_0x6d8449(0x613)]['publish'](_0x73f91a),this[_0x6d8449(0x98b)][_0x6d8449(0x792)](_0x1ae1f0);}async[_0x148812(0x6b3)](_0x259f44,_0xf947c5,_0xa3583f=!0x0){const _0x2ec4fa=_0x148812;this[_0x2ec4fa(0x409)](_0xf947c5);const _0x17c0c0=await this[_0x2ec4fa(0x98b)][_0x2ec4fa(0x792)](_0x259f44),_0x2da650=await this[_0x2ec4fa(0x98b)]['set'](_0x259f44,_0xf947c5),_0x7f264c=_0x17c0c0?_0x47a236[_0x2ec4fa(0x83)]:_0x47a236[_0x2ec4fa(0x647)];if(this[_0x2ec4fa(0x5a3)](_0x7f264c,_0x2da650),!_0xa3583f)return _0x2da650;const _0x3d792d={'key':_0x259f44,'tableName':this['tableName'],'action':_0x7f264c,'value':_0x2da650};return this[_0x2ec4fa(0x613)][_0x2ec4fa(0x5a3)](_0x3d792d),_0x2da650;}async[_0x148812(0x96d)](_0x408636){const _0x5549fd=_0x148812;this[_0x5549fd(0x409)](_0x408636);const _0xebc8c1=await this['connector']['add'](_0x408636),_0x1ce059={'key':_0xebc8c1['id'],'tableName':this[_0x5549fd(0x1c9)],'action':_0x47a236[_0x5549fd(0x647)],'value':_0xebc8c1};return this[_0x5549fd(0x613)]['publish'](_0x1ce059),this[_0x5549fd(0x5a3)](_0x1ce059[_0x5549fd(0x89b)],_0xebc8c1),_0xebc8c1;}async['delete'](_0x14ab25,_0x118a98=!0x0){const _0x39dfdf=_0x148812,_0x192ec9=await this['connector'][_0x39dfdf(0x792)](_0x14ab25);if(!_0x192ec9)return;await this[_0x39dfdf(0x98b)][_0x39dfdf(0x91b)](_0x14ab25);const _0x338256=_0x47a236[_0x39dfdf(0x86c)];if(this[_0x39dfdf(0x5a3)](_0x338256,_0x192ec9),!_0x118a98)return;const _0x1aa25a={'key':_0x14ab25,'tableName':this['tableName'],'action':_0x338256,'value':_0x192ec9};this[_0x39dfdf(0x613)][_0x39dfdf(0x5a3)](_0x1aa25a);}async[_0x148812(0x970)](){const _0x3b0282=_0x148812,_0x2c71b9=await this[_0x3b0282(0x946)]();for(const _0x57a49e of _0x2c71b9){const _0x5147c2=_0x47a236[_0x3b0282(0x86c)];this[_0x3b0282(0x5a3)](_0x5147c2,_0x57a49e);const _0x1f5bcc={'key':_0x57a49e['id'],'tableName':this[_0x3b0282(0x1c9)],'action':_0x5147c2,'value':_0x57a49e};this[_0x3b0282(0x613)]['publish'](_0x1f5bcc);}return this[_0x3b0282(0x98b)][_0x3b0282(0x970)]();}async[_0x148812(0x946)](_0x5d2e5a){const _0x48ba68=_0x148812,_0x2db3d1={'key':'','tableName':this['tableName'],'action':_0x354975[_0x48ba68(0x67f)]};this[_0x48ba68(0x613)][_0x48ba68(0x5a3)](_0x2db3d1);try{_0x5d2e5a&&(_0x5d2e5a=_0x5d2e5a instanceof _0x5d427e?_0x5d2e5a[_0x48ba68(0x63c)]():_0x5d427e[_0x48ba68(0x3e7)](_0x5d2e5a)['getQuery']());}catch(_0x2341e9){throw new _0x5f50cc(_0x128d3f[_0x48ba68(0x734)],_0x48ba68(0x624));}try{return await this[_0x48ba68(0x98b)][_0x48ba68(0x946)](_0x5d2e5a);}catch(_0x26577a){let _0x55f5f8=_0x48ba68(0x624);throw _0x26577a instanceof Error&&(_0x55f5f8=_0x26577a['message']),new _0x5f50cc(_0x128d3f['KeyValueDatabaseInvalidQuery'],_0x55f5f8);}}async['count'](_0x540aeb){const _0x4308e3=_0x148812,_0x547bbf={'key':'','tableName':this[_0x4308e3(0x1c9)],'action':_0x354975['Count']};this[_0x4308e3(0x613)][_0x4308e3(0x5a3)](_0x547bbf);try{_0x540aeb&&(_0x540aeb=_0x540aeb instanceof _0x5d427e?_0x540aeb['getQuery']():_0x5d427e[_0x4308e3(0x3e7)](_0x540aeb)[_0x4308e3(0x63c)]());}catch(_0x266aac){throw new _0x5f50cc(_0x128d3f['KeyValueDatabaseInvalidQuery'],_0x4308e3(0x624));}try{return await this[_0x4308e3(0x98b)][_0x4308e3(0x71c)](_0x540aeb);}catch(_0x3e6c80){let _0x17e388='Invalid\x20query';throw _0x3e6c80 instanceof Error&&(_0x17e388=_0x3e6c80[_0x4308e3(0x34d)]),new _0x5f50cc(_0x128d3f[_0x4308e3(0x734)],_0x17e388);}}[_0x148812(0x87e)](){const _0x4c16f4=_0x148812;return this[_0x4c16f4(0x98b)]['calculateSize']();}['subscribe'](_0x4f5748){const _0x93834=_0x148812;this[_0x93834(0xad)]=this[_0x93834(0x5d8)][_0x93834(0x360)](_0x4f5748);}[_0x148812(0x4a0)](){const _0x2d89a9=_0x148812;this[_0x2d89a9(0xad)]?.();}[_0x148812(0x5a3)](_0x50e13c,_0x32ec59){const _0x14589c=_0x148812,_0x5574aa=this[_0x14589c(0x16b)](_0x50e13c,_0x32ec59);this[_0x14589c(0x5d8)]['publish'](_0x5574aa);}[_0x148812(0x16b)](_0x2c3aa3,_0x139cf4){const _0x37677b=_0x148812;let _0x1ad1eb;switch(_0x2c3aa3){case _0x47a236[_0x37677b(0x647)]:_0x1ad1eb=_0x37677b(0x96d);break;case _0x47a236[_0x37677b(0x83)]:_0x1ad1eb=_0x37677b(0x81a);break;case _0x47a236[_0x37677b(0x86c)]:_0x1ad1eb=_0x37677b(0x91b);}return{'action':_0x1ad1eb,'value':_0x139cf4};}[_0x148812(0x409)](_0x1791a2){const _0x1f2c1a=_0x148812;if(_0x1f2c1a(0x781)!=typeof _0x1791a2||null===_0x1791a2)throw new _0x5f50cc(_0x128d3f[_0x1f2c1a(0x18c)],_0x1f2c1a(0x3ff));for(const _0x2f1b04 in _0x1791a2){const _0x326e04=_0x1791a2[_0x2f1b04];if(_0x1f2c1a(0x781)!=typeof _0x326e04||_0x326e04 instanceof Date){if(!['string',_0x1f2c1a(0x89),'boolean'][_0x1f2c1a(0x523)](typeof _0x326e04))throw new _0x5f50cc(_0x128d3f[_0x1f2c1a(0x18c)],_0x1f2c1a(0x621)+_0x2f1b04+_0x1f2c1a(0xc1));}else this['validateValue'](_0x326e04);}}}class _0x40515f{[_0x148812(0x24a)]=[];['totalNodes']=0x0;[_0x148812(0x170)]=[];[_0x148812(0x8f)]=!0x1;[_0x148812(0x7a0)]=null;[_0x148812(0x8a1)]=null;[_0x148812(0x4d7)];[_0x148812(0x330)]=null;[_0x148812(0x967)]=[];[_0x148812(0x151)];['_ready']=Promise[_0x148812(0x87d)]();['expectedTransactions']=0x0;constructor(){}get[_0x148812(0xd6)](){const _0x48f225=_0x148812;return this[_0x48f225(0x4f2)];}async[_0x148812(0x1c1)](_0x1ed54c,_0xd0116b=0x0){const _0x443023=_0x148812;this[_0x443023(0x330)]||(this['_ready']=new Promise(_0x35d3c1=>{const _0x1a675e=_0x443023;this[_0x1a675e(0x330)]=_0x35d3c1;}),this[_0x443023(0x760)]=_0xd0116b);const _0x829c35=Date[_0x443023(0x847)]();if(this[_0x443023(0x8f)])return void this[_0x443023(0x170)][_0x443023(0x5dc)](_0x1ed54c);this['isComputingMMR']=!0x0;let _0x4f68b0={'hash':await this['hashTransaction'](_0x1ed54c),'height':0x0};const _0x3a0c2c=this['combinePeaks'](_0x4f68b0);this[_0x443023(0x967)][_0x443023(0x5dc)](_0x3a0c2c),await _0x3a0c2c,this[_0x443023(0x377)]+=0x1;const _0xa6182b=this['transactionQueue']['length'];for(;this[_0x443023(0x170)]['length']>0x0;){const _0x4820ef=this['transactionQueue'][_0x443023(0x4cd)]();await this[_0x443023(0x1c1)](_0x4820ef);}this[_0x443023(0xa9)](),await this[_0x443023(0xd6)],this[_0x443023(0x12a)](_0x829c35,_0xa6182b);}async[_0x148812(0x1cd)](){const _0x21229f=_0x148812;return await this[_0x21229f(0x4f2)],this[_0x21229f(0x8f)]?(this['rootComputationPromise']||(this[_0x21229f(0x8a1)]=this['recomputeRoot']()),await this[_0x21229f(0x8a1)]):this['cachedRoot'];}[_0x148812(0x7e9)](){const _0x224eb9=_0x148812;return this[_0x224eb9(0x24a)]['map'](({hash:_0x23259b,height:_0x5d1a47})=>({'hash':_0x23259b,'height':_0x5d1a47}));}[_0x148812(0x145)](){const _0x2f64e0=_0x148812;return this[_0x2f64e0(0x377)];}[_0x148812(0xe7)](_0x1669f6){const _0x5d4d1e=_0x148812;return this[_0x5d4d1e(0x24a)][_0x5d4d1e(0x453)](_0x62b215=>_0x62b215['height']===_0x1669f6);}async[_0x148812(0x65d)](_0x4adccd,_0xa3754a){const _0x422b68=_0x148812;return await this[_0x422b68(0x724)](_0x4adccd+_0xa3754a);}async['hashTransaction'](_0x482cc4){const _0x35941b=_0x148812;return await this[_0x35941b(0x724)](JSON[_0x35941b(0x605)](_0x482cc4));}[_0x148812(0x7a8)](_0x197b93){const _0x26eb6d=_0x148812,_0x52e55c=this[_0x26eb6d(0x7e9)](),_0x13d2b8=[],_0x42a2ba=[],_0x198545=[];for(const _0x14ae31 of _0x52e55c){const _0x228c3e=_0x197b93[_0x26eb6d(0x453)](_0x250b72=>_0x250b72[_0x26eb6d(0x7e7)]===_0x14ae31[_0x26eb6d(0x7e7)]);_0x228c3e?_0x14ae31[_0x26eb6d(0x136)]!==_0x228c3e[_0x26eb6d(0x136)]&&_0x13d2b8[_0x26eb6d(0x5dc)]({'height':_0x14ae31['height'],'localPeak':_0x14ae31,'remotePeak':_0x228c3e}):_0x42a2ba[_0x26eb6d(0x5dc)](_0x14ae31);}for(const _0x4f68cd of _0x197b93)_0x52e55c['find'](_0xa9121b=>_0xa9121b[_0x26eb6d(0x7e7)]===_0x4f68cd[_0x26eb6d(0x7e7)])||_0x198545['push'](_0x4f68cd);return{'differingPeaks':_0x13d2b8,'peaksMissingInRemote':_0x42a2ba,'peaksMissingInLocal':_0x198545};}async[_0x148812(0x683)](){const _0x4ed146=_0x148812;this[_0x4ed146(0x8f)]=!0x0;const _0xa8e9df=this['peaks'][_0x4ed146(0x7e1)](_0x27b138=>_0x27b138[_0x4ed146(0x136)]);return this['cachedRoot']=await this[_0x4ed146(0x487)](_0xa8e9df),this[_0x4ed146(0x8f)]=!0x1,this['rootComputationPromise']=null,this[_0x4ed146(0xa9)](),this[_0x4ed146(0x7a0)];}async['computeHash'](_0x1adbc4){const _0x50844f=_0x148812;try{const _0x1ba262=new TextEncoder()[_0x50844f(0x6b9)](_0x1adbc4),_0x480206=await crypto[_0x50844f(0x3f7)][_0x50844f(0x9b)](_0x50844f(0x4c5),_0x1ba262);return Array['from'](new Uint8Array(_0x480206))['map'](_0x5c0fac=>_0x5c0fac[_0x50844f(0x551)](0x10)[_0x50844f(0x1b1)](0x2,'0'))[_0x50844f(0x3b0)]('');}catch(_0x397611){return console[_0x50844f(0x2d0)](_0x50844f(0x70d),_0x397611),this[_0x50844f(0x724)](_0x1adbc4);}}async['hashPeakHashes'](_0x7f6e05){const _0x153034=_0x148812;return await this[_0x153034(0x724)](_0x7f6e05[_0x153034(0x3b0)](''));}async[_0x148812(0x543)](_0x494ca3){const _0x2f5321=_0x148812;for(;this[_0x2f5321(0x24a)][_0x2f5321(0x6a1)]>0x0&&this['peaks'][this['peaks'][_0x2f5321(0x6a1)]-0x1][_0x2f5321(0x7e7)]===_0x494ca3['height'];){const _0x13ced6=this['peaks'][_0x2f5321(0x21a)]();_0x494ca3={'hash':await this[_0x2f5321(0x65d)](_0x13ced6['hash'],_0x494ca3[_0x2f5321(0x136)]),'left':_0x13ced6,'right':_0x494ca3,'height':_0x494ca3[_0x2f5321(0x7e7)]+0x1};}this[_0x2f5321(0x24a)][_0x2f5321(0x5dc)](_0x494ca3),await this[_0x2f5321(0x683)]();}[_0x148812(0x12a)](_0x59330e,_0x3c9288){const _0x3ed8a5=_0x148812;if(!_0x24a63b['isChannelEnabled'](_0x306624[_0x3ed8a5(0x492)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x3ed8a5(0x4d7)]);const _0x43e647=Date['now']();this[_0x3ed8a5(0x4d7)]=setTimeout(()=>_0x24a63b[_0x3ed8a5(0x14c)](_0x306624[_0x3ed8a5(0x492)],_0x3ed8a5(0x4c0),this[_0x3ed8a5(0x7a0)],'nodes',this[_0x3ed8a5(0x145)](),'queueLength',_0x3c9288,_0x3ed8a5(0x544),_0x43e647-_0x59330e),0x7d0);}['debounceReady'](){const _0x23bc6e=_0x148812;this[_0x23bc6e(0x151)]&&clearTimeout(this[_0x23bc6e(0x151)]),this['debounceReadyTimeout']=setTimeout(async()=>{const _0x3c11df=_0x23bc6e;try{const _0x42d6e0=this[_0x3c11df(0x967)];if(this[_0x3c11df(0x967)]=[],await Promise[_0x3c11df(0x6f7)](_0x42d6e0),this['expectedTransactions']-=_0x42d6e0[_0x3c11df(0x6a1)],this[_0x3c11df(0x967)][_0x3c11df(0x6a1)]>0x0||this['expectedTransactions']>0x0)return this[_0x3c11df(0xa9)]();this[_0x3c11df(0x330)]&&(this[_0x3c11df(0x330)](),this[_0x3c11df(0x330)]=null),this['_ready']=Promise['resolve'](),this['isComputingMMR']=!0x1;}catch(_0x101f04){console['error'](_0x3c11df(0xcf),_0x101f04);}},0xa);}}const _0x5bfc7d=[_0x148812(0x891),_0x148812(0x30e),'Content','Subscription','Stats',_0x148812(0x972),_0x148812(0x48c)],_0x491f9d=[['Offer',_0x148812(0x6c0),'Handshake','Success',_0x148812(0x968),'Restart',_0x148812(0x413),_0x148812(0x7b0),_0x148812(0x43d)],[_0x148812(0x95a),'NodeUpdate',_0x148812(0x24d),_0x148812(0x64b)],[_0x148812(0x619),'CloseJobDispatcher',_0x148812(0x384),_0x148812(0x10b),'CloseKeyValueDatabase',_0x148812(0x64d),_0x148812(0x5c4),_0x148812(0x96f),_0x148812(0x805),_0x148812(0x1d4),_0x148812(0x73a),_0x148812(0x23a),_0x148812(0x707),_0x148812(0x719),'KeyValueDatabaseContentSynchronized','KeyValueDatabaseRequestPeakTransactions','KeyValueDatabaseRequestTransactionsValue',_0x148812(0x2f0),_0x148812(0xc0),_0x148812(0x932),'LocalMediaStreamTrackFail',_0x148812(0x299),_0x148812(0x64e),_0x148812(0x603),_0x148812(0x414),'SubscribeMediaStream',_0x148812(0x4f4),'UnsubscribeMediaStream',_0x148812(0x6d2),_0x148812(0x66a)],[_0x148812(0x893),_0x148812(0x6d2),_0x148812(0x6cf),_0x148812(0x1ff),_0x148812(0x22d),'MediaStreamUnavailable'],['StreamReport',_0x148812(0x439)],[_0x148812(0x7f8)],['Remediation','RemoteRemediation']];function _0x51b6c3(_0x1f3ef6){const _0x59c49e=_0x148812;return{..._0x1f3ef6,'systemMessageType':_0x5bfc7d[_0x1f3ef6[_0x59c49e(0x373)]],'systemContentMessageType':_0x491f9d[_0x1f3ef6[_0x59c49e(0x373)]][_0x1f3ef6[_0x59c49e(0x92a)]['type']]};}const _0x1d40d9={'hour':_0x148812(0x5da),'minute':_0x148812(0x5da),'second':_0x148812(0x5da)};function _0x1718a0(_0x13ed4d,_0x5389ed){const _0x49284a=_0x148812,_0x12ce28=(function(){const _0x4c9f6c=a0_0x53e8,_0x1e91b8=new Date(),_0x524eca=_0x1e91b8[_0x4c9f6c(0x5f6)](),_0x2b795c=_0x1e91b8[_0x4c9f6c(0x3da)](_0x4c9f6c(0x7e5),_0x1d40d9)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x2b795c+'.'+(_0x524eca>0x64?''+_0x524eca:_0x524eca>0xa?'0'+_0x524eca:'00'+_0x524eca);}()),{sourceId:_0x49b85e,destinationIds:_0x8c6a5f,systemMessageType:_0x36abec,systemContentMessageType:_0x98c860}=_0x51b6c3(_0x13ed4d);return _0x12ce28+'\x20-\x20'+_0x5389ed+_0x49284a(0x19b)+(_0x49b85e===_0x5389ed?_0x49284a(0x149)+_0x36abec+'\x27\x20to\x20'+(_0x8c6a5f?''+_0x8c6a5f:'everyone'):_0x13ed4d[_0x49284a(0x21f)]===_0x309f6b?'Internal\x20event\x20\x27'+_0x36abec+'\x27':(_0x8c6a5f?'':_0x49284a(0x66e))+'Receiving\x20\x27'+_0x36abec+'\x27\x20from\x20'+_0x49b85e)+_0x49284a(0x508)+_0x98c860+_0x49284a(0x592);}function _0x337505(_0x5d987a,_0x56f0c6){const _0x344939=_0x148812;if(!_0x24a63b[_0x344939(0x348)](_0x5d987a))return;if(_0x452d67[_0x344939(0x3a6)])return;if(_0x344939(0x1f3)==typeof process)return;const _0x246333=process[_0x344939(0x688)]();console[_0x344939(0x14c)](_0x344939(0x474)+_0x56f0c6+':');for(const _0xdeb1bb in _0x246333)console[_0x344939(0x14c)]('\x20\x20'+_0xdeb1bb+':\x20'+(_0x246333[_0xdeb1bb]/0x400/0x400)[_0x344939(0x845)](0x2)+'\x20MB');}function _0x2b0f8b(_0x18e35f,_0x5f3642){const _0xad38a0=_0x148812;if(!_0x24a63b[_0xad38a0(0x348)](_0x5f3642))return _0x24a63b[_0xad38a0(0x69b)](_0xad38a0(0x29c)+_0x5f3642),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x415b97,_0x5a4848)=>_0x5a4848}};let _0x5efae4=0x0;return{'timingLogger':((()=>{const _0x485fc=_0xad38a0;let _0xdf0575=Date[_0x485fc(0x847)]();return{'start':()=>{const _0x2dba2d=_0x485fc;_0xdf0575=Date[_0x2dba2d(0x847)]();},'now':()=>Date[_0x485fc(0x847)](),'logWaitTime':_0x2b97d4=>{const _0x44dcb5=_0x485fc;_0x5efae4+=Date[_0x44dcb5(0x847)]()-_0xdf0575,_0x24a63b[_0x44dcb5(0x14c)](_0x5f3642,_0x2b97d4,_0x5efae4+'ms',_0x18e35f);}};})()),'logger':{'log':(_0x1055be,_0x5b05f9=()=>{})=>{const _0x3e889d=_0xad38a0,_0x2b37f1=_0x5b05f9();_0x2b37f1?_0x24a63b[_0x3e889d(0x14c)](_0x5f3642,_0x1055be,_0x2b37f1,_0x18e35f):_0x24a63b[_0x3e889d(0x14c)](_0x5f3642,_0x1055be,_0x18e35f);},'performCalculation':(_0x116d78,_0x8abf64)=>_0x116d78()}};}function _0x250fe1(_0x15f678){const _0x5175e4=_0x148812;return _0x5175e4(0x1f3)==typeof Buffer?0x0:Buffer[_0x5175e4(0x5a5)](JSON[_0x5175e4(0x605)](_0x15f678),_0x5175e4(0x2b1));}function _0x2c8f2e(_0x5c4462){const _0x2e17b7=_0x148812;if(0x0===_0x5c4462)return'0\x20B';const _0x385507=Math['floor'](Math[_0x2e17b7(0x14c)](_0x5c4462)/Math[_0x2e17b7(0x14c)](0x400));return parseFloat((_0x5c4462/Math[_0x2e17b7(0x7da)](0x400,_0x385507))[_0x2e17b7(0x845)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x385507];}class _0x3c10e8 extends _0x36c311{[_0x148812(0x894)];[_0x148812(0x853)];[_0x148812(0x945)];[_0x148812(0x150)];['db'];[_0x148812(0x5c9)];[_0x148812(0x539)]=new Map();[_0x148812(0x613)];[_0x148812(0x49c)];[_0x148812(0x4fa)];[_0x148812(0x317)];[_0x148812(0x79a)];[_0x148812(0xed)]=[];[_0x148812(0x174)]=()=>{};[_0x148812(0x328)];[_0x148812(0x5d8)]=_0x127104();[_0x148812(0xad)];['syncTransactionsWritten']=[];[_0x148812(0x7bd)];[_0x148812(0x5b1)];['writes']=0x0;['reads']=0x0;[_0x148812(0x6a0)]=!0x1;[_0x148812(0x3c6)]=new _0x40515f();[_0x148812(0x779)]=new Map();[_0x148812(0x75d)]=[];[_0x148812(0x559)];[_0x148812(0x620)]=[];[_0x148812(0xc4)];constructor(_0x37f00f,_0x56b5f3,_0x1b4647,_0xd377ca,_0x12ef02,_0x5f1f39,_0x1cf77c){const _0x3bfe04=_0x148812;if(_0x3bfe04(0x53a)!=typeof _0x56b5f3)throw new _0x5f50cc(_0x128d3f[_0x3bfe04(0xbc)],_0x3bfe04(0x260));if(super(_0x37f00f,_0x56b5f3),this[_0x3bfe04(0x894)]=_0x37f00f,this['clusterId']=_0x1b4647,this[_0x3bfe04(0x945)]=_0xd377ca,this['isNodeReady']=_0x1cf77c,this[_0x3bfe04(0x5c9)]=_0x3bfe04(0x311)+this[_0x3bfe04(0x945)]+_0x3bfe04(0x311)+this['clusterId']+_0x3bfe04(0x311)+this['label'],this['tableObserver']=_0x127104(),this[_0x3bfe04(0xc4)]=function(_0x39c144,_0x491fd8){const _0x1aa195=_0x3bfe04;if(!_0x24a63b[_0x1aa195(0x348)](_0x491fd8))return _0x24a63b['debug']('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x491fd8),{..._0x2b0f8b(_0x39c144,_0x491fd8),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':_0x1aa195(0x276)})};const {timingLogger:_0x47e573,logger:_0x1807fc}=_0x2b0f8b(_0x39c144,_0x491fd8);let _0x4653af=0x0,_0x3a8c9f=0x0;return{'timingLogger':_0x47e573,'logger':_0x1807fc,'logDataSent':(_0x396df6,_0x5f3d7c=!0x1)=>{const _0x3a0da5=_0x1aa195,_0x2e5ab2=_0x250fe1(_0x396df6);return _0x5f3d7c&&_0x24a63b[_0x3a0da5(0x14c)](_0x491fd8,_0x3a0da5(0x4ce),_0x39c144,_0x2e5ab2),_0x4653af+=_0x2e5ab2,_0x2e5ab2;},'logDataReceived':(_0x5d32da,_0x101102=!0x1)=>{const _0x11a808=_0x1aa195,_0x1450d4=_0x250fe1(_0x5d32da);return _0x101102&&_0x24a63b[_0x11a808(0x14c)](_0x491fd8,'Data\x20Received',_0x39c144,_0x1450d4),_0x3a8c9f+=_0x1450d4,_0x1450d4;},'getDataLogged':()=>({'dataSent':_0x2c8f2e(_0x4653af),'dataReceived':_0x2c8f2e(_0x3a8c9f)})};}(this[_0x3bfe04(0xb2)],_0x306624['KeyValueDatabase']),this[_0x3bfe04(0x317)]=new Promise(_0x213543=>{const _0x50e18f=_0x3bfe04;this[_0x50e18f(0x79a)]=_0x213543;}),_0x12ef02 instanceof _0x3ec939)this[_0x3bfe04(0x7bd)]=_0x12ef02[_0x3bfe04(0x827)]();else{const [_0x37d8aa,_0x2a9e25]=_0x3ec939[_0x3bfe04(0x3d9)](_0x12ef02);if(!_0x37d8aa)throw new _0x5f50cc(_0x128d3f['KeyValueDatabaseInvalidLayout'],_0x3bfe04(0x982)+_0x2a9e25);this[_0x3bfe04(0x7bd)]=structuredClone(_0x12ef02);}this[_0x3bfe04(0x7c7)](this['layout']),this['db']=new _0x5f1f39(this['dbKey'],this[_0x3bfe04(0x7bd)]),this[_0x3bfe04(0x44b)]();}async['answerContentAvailable'](_0x559b08,_0x4d8902){const _0x32f98d=_0x148812;if(_0x24a63b[_0x32f98d(0x14c)](_0x306624[_0x32f98d(0x492)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this['label']),!this[_0x32f98d(0x49c)])throw new _0x864d50(_0x864d50['codes'][_0x32f98d(0x8ed)]);if(await this[_0x32f98d(0x317)],await this[_0x32f98d(0x150)](_0x559b08),await this[_0x32f98d(0x3c6)][_0x32f98d(0x1cd)]()===_0x4d8902){const _0x32a724={'sourceId':this[_0x32f98d(0x894)][_0x32f98d(0x114)](),'destinationIds':[_0x559b08],'propagate':!0x0,'messageType':_0x427f74['Content'],'content':{'type':_0x457093[_0x32f98d(0x2a3)],'label':this['label'],'mmrRoot':_0x4d8902}};return this['loggingCycle'][_0x32f98d(0x38c)](_0x32a724),void this[_0x32f98d(0x3eb)][_0x32f98d(0x5a3)](_0x32a724);}const _0x2c5c17=this[_0x32f98d(0x3c6)][_0x32f98d(0x7e9)](),_0x29d479={'sourceId':this[_0x32f98d(0x894)]['getId'](),'destinationIds':[_0x559b08],'propagate':!0x0,'messageType':_0x427f74[_0x32f98d(0x1c4)],'content':{'type':_0x457093['KeyValueDatabaseContentAvailable'],'label':this['label'],'peaks':_0x2c5c17}};this['loggingCycle']['logDataSent'](_0x29d479),this['systemTopic'][_0x32f98d(0x5a3)](_0x29d479);}async[_0x148812(0x787)](_0x5abb65,_0x3c235c){const _0x87a322=_0x148812,_0x28ef12=await this[_0x87a322(0x3c6)][_0x87a322(0x1cd)](),_0x4b0620=_0x28ef12===_0x3c235c;if(_0x24a63b['log'](_0x306624[_0x87a322(0x492)],_0x87a322(0x562)+_0x5abb65+_0x87a322(0x6d7)+_0x4b0620,this[_0x87a322(0xb2)]),_0x4b0620)return this['clearSyncTimeout'](),void this['publishSyncCompleted']();_0x24a63b[_0x87a322(0x14c)](_0x306624[_0x87a322(0x492)],_0x87a322(0x52f),_0x28ef12,_0x3c235c),_0x24a63b[_0x87a322(0x659)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this[_0x87a322(0x894)][_0x87a322(0x114)](),'nodeType':this['localNode'][_0x87a322(0x200)],'remoteId':_0x5abb65,'data':{'localMMRRoot':_0x28ef12,'remoteMMRRoot':_0x3c235c}});const _0x8801c2={'sourceId':this[_0x87a322(0x894)][_0x87a322(0x114)](),'messageType':_0x427f74[_0x87a322(0x1c4)],'propagate':!0x0,'content':{'type':_0x457093[_0x87a322(0x932)],'label':this['label'],'mmrRoot':_0x28ef12}};this[_0x87a322(0x3eb)][_0x87a322(0x5a3)](_0x8801c2);}async['processContentAvailable'](_0x55ef83,_0x135b63){const _0x3152ae=_0x148812;if(_0x24a63b[_0x3152ae(0x14c)](_0x306624['KeyValueDatabase'],_0x3152ae(0x175),_0x55ef83,_0x3152ae(0xb2),this[_0x3152ae(0xb2)],_0x3152ae(0x24a),_0x135b63),this['contentRequestSent'])return;this[_0x3152ae(0x6a0)]=!0x0,this[_0x3152ae(0x25e)]();const {differingPeaks:_0x516021,peaksMissingInLocal:_0xac408,peaksMissingInRemote:_0x4658ef}=this[_0x3152ae(0x3c6)]['comparePeaks'](_0x135b63);_0x24a63b['log'](_0x306624[_0x3152ae(0x492)],_0x3152ae(0x540),{'differingPeaks':_0x516021,'peaksMissingInLocal':_0xac408,'peaksMissingInRemote':_0x4658ef});const _0x54aa7b={'sourceId':this[_0x3152ae(0x894)][_0x3152ae(0x114)](),'destinationIds':[_0x55ef83],'propagate':!0x0,'messageType':_0x427f74[_0x3152ae(0x1c4)],'content':{'type':_0x457093['KeyValueDatabaseRequestPeakTransactions'],'label':this[_0x3152ae(0xb2)],'peakHeights':_0xac408[_0x3152ae(0x7e1)](_0x56247f=>_0x56247f['height'])['concat'](_0x516021[_0x3152ae(0x7e1)](_0x58d5ca=>_0x58d5ca['height']))}};if(this[_0x3152ae(0x3eb)][_0x3152ae(0x5a3)](_0x54aa7b),_0x516021[_0x3152ae(0x6a1)]>0x0||_0x4658ef[_0x3152ae(0x6a1)]>0x0){const _0x51d61a=_0x4658ef[_0x3152ae(0x7e1)](_0x1818a7=>_0x1818a7[_0x3152ae(0x7e7)])[_0x3152ae(0x121)](_0x516021[_0x3152ae(0x7e1)](_0x519216=>_0x519216[_0x3152ae(0x7e7)]));await this[_0x3152ae(0x327)](_0x55ef83,_0x51d61a,!0x0);}}async[_0x148812(0x327)](_0x1f6097,_0x28d72c,_0x206adf=!0x1){const _0x44d2cd=_0x148812;_0x24a63b[_0x44d2cd(0x14c)](_0x306624[_0x44d2cd(0x492)],_0x44d2cd(0x37e),this[_0x44d2cd(0xb2)]);const _0x4dc130=_0x28d72c['map'](_0x368035=>this[_0x44d2cd(0x3c6)]['getPeakNode'](_0x368035))['filter'](Boolean);if(!_0x4dc130['length']||_0x28d72c[_0x44d2cd(0x6a1)]!==_0x4dc130[_0x44d2cd(0x6a1)])throw new _0x864d50(_0x864d50['codes']['KeyValueDatabasePeakNotFound'],{'message':_0x44d2cd(0x3e1),'peakHeights':_0x28d72c,'peaks':_0x4dc130[_0x44d2cd(0x7e1)](_0x40d281=>_0x40d281[_0x44d2cd(0x7e7)]),'nodeId':_0x1f6097});const _0x386372=[];for(const _0x545a1a of _0x4dc130)this[_0x44d2cd(0x615)](_0x545a1a,_0x386372);const _0x2b598f=_0x206adf?void 0x0:[_0x1f6097],_0xd062aa={'sourceId':this[_0x44d2cd(0x894)][_0x44d2cd(0x114)](),'destinationIds':_0x2b598f,'messageType':_0x427f74['Content'],'propagate':!0x0,'content':{'type':_0x457093[_0x44d2cd(0x2f0)],'label':this[_0x44d2cd(0xb2)],'transactions':_0x386372}};this[_0x44d2cd(0xc4)][_0x44d2cd(0x38c)](_0xd062aa),this[_0x44d2cd(0x3eb)][_0x44d2cd(0x5a3)](_0xd062aa);}async[_0x148812(0x3d8)](_0x134e28,_0x266dfd){const _0x29a960=_0x148812;_0x24a63b['log'](_0x306624[_0x29a960(0x492)],_0x29a960(0x35c)+_0x266dfd[_0x29a960(0x6a1)]+_0x29a960(0x3e6)+_0x134e28+'\x20-\x20'+this[_0x29a960(0xb2)]);for(const _0x1c9f9e of _0x266dfd){const _0x3b4627=await this[_0x29a960(0x49c)]['get'](_0x1c9f9e['id']);if(!(_0x3b4627&&this[_0x29a960(0x5c3)](_0x3b4627,_0x1c9f9e)>=0x0)){if(_0x1c9f9e['action']===_0x47a236['Delete']){const [_0x32ec91,_0x45dacf]=_0x1c9f9e['id']['split']('::'),_0x1132b3=this[_0x29a960(0xd4)](_0x32ec91);await _0x1132b3[_0x29a960(0x91b)](_0x45dacf);}else this[_0x29a960(0xed)][_0x29a960(0x5dc)](_0x1c9f9e['id']);}}if(_0x24a63b[_0x29a960(0x14c)](_0x306624['KeyValueDatabase'],_0x29a960(0x178)+this[_0x29a960(0xed)][_0x29a960(0x6a1)]+_0x29a960(0x125),this[_0x29a960(0xb2)]),this['transactionsToSync']['length']>0x0){const _0x280662={'sourceId':this['localNode'][_0x29a960(0x114)](),'destinationIds':[_0x134e28],'messageType':_0x427f74['Content'],'propagate':!0x0,'content':{'type':_0x457093[_0x29a960(0xf8)],'label':this[_0x29a960(0xb2)],'transactionIds':this[_0x29a960(0xed)]}};this[_0x29a960(0xc4)][_0x29a960(0x38c)](_0x280662),this[_0x29a960(0x3eb)][_0x29a960(0x5a3)](_0x280662);}}[_0x148812(0x98a)](){const _0x26a0b2=_0x148812;this[_0x26a0b2(0x44b)]();}['getContentType'](){const _0x46af8c=_0x148812;return _0x366c21[_0x46af8c(0x8a4)]['KeyValueDatabase'];}[_0x148812(0x1b2)](){const _0x3ed3fc=_0x148812;this['db'][_0x3ed3fc(0x6ac)](),this[_0x3ed3fc(0x4fa)]?.(),clearTimeout(this[_0x3ed3fc(0x5b1)]),delete this[_0x3ed3fc(0x5b1)],super[_0x3ed3fc(0x1b2)]();}[_0x148812(0x6ac)](){const _0x7516fa=_0x148812;this[_0x7516fa(0x25e)](),this[_0x7516fa(0x3eb)]['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x7516fa(0x1c4)],'content':{'type':_0x457093['CloseKeyValueDatabase'],'label':this[_0x7516fa(0xb2)]}});}[_0x148812(0xd4)](_0x178597){const _0x16f553=_0x148812,_0x48b5c2=this[_0x16f553(0x539)]['get'](_0x178597);if(_0x48b5c2)return _0x48b5c2;try{if(!this['db'][_0x16f553(0x848)](_0x178597))throw new _0x5f50cc(_0x128d3f[_0x16f553(0x444)],_0x16f553(0x713));const _0x43886c=new _0x52f963(this['db'][_0x16f553(0x195)](_0x178597),_0x178597,this[_0x16f553(0x613)]);return this[_0x16f553(0x539)][_0x16f553(0x6b3)](_0x178597,_0x43886c),{'get':_0x43886c['get'][_0x16f553(0x949)](_0x43886c),'set':_0x43886c[_0x16f553(0x6b3)]['bind'](_0x43886c),'add':_0x43886c[_0x16f553(0x96d)][_0x16f553(0x949)](_0x43886c),'delete':_0x43886c['delete']['bind'](_0x43886c),'clear':_0x43886c['clear'][_0x16f553(0x949)](_0x43886c),'list':_0x43886c[_0x16f553(0x946)][_0x16f553(0x949)](_0x43886c),'count':_0x43886c['count']['bind'](_0x43886c),'subscribe':_0x43886c[_0x16f553(0x360)]['bind'](_0x43886c),'unsubscribe':_0x43886c[_0x16f553(0x4a0)][_0x16f553(0x949)](_0x43886c)};}catch(_0x57c97e){if(_0x57c97e instanceof _0x5f50cc)throw _0x57c97e;throw new _0x5f50cc(_0x128d3f[_0x16f553(0x38a)],'Database\x20not\x20open');}}['subscribe'](_0x311f0f){const _0x4521d4=_0x148812;this['listenerUnsubscriber']=this['eventListener'][_0x4521d4(0x360)](_0x311f0f),this[_0x4521d4(0x21d)](this[_0x4521d4(0x317)])[_0x4521d4(0x20c)](_0x8242b8=>{const _0xf396fa=_0x4521d4;_0x8242b8&&this['eventListener'][_0xf396fa(0x5a3)]({'event':_0x366c21[_0xf396fa(0x809)][_0xf396fa(0x7f0)]});});}[_0x148812(0x4a0)](){const _0x120db3=_0x148812;this['listenerUnsubscriber']?.(),this[_0x120db3(0xad)]=void 0x0;}async[_0x148812(0x29a)](){const _0x5b5820=_0x148812;_0x337505(_0x306624[_0x5b5820(0x492)],_0x5b5820(0x5a8));const _0x14d734=[_0x2c607e,_0x29521e],_0x41ed36=[];try{await this['db'][_0x5b5820(0x29a)]();const _0x43c06e=this['db'][_0x5b5820(0x195)](_0x29521e),_0x4cc1d1=await _0x43c06e[_0x5b5820(0x946)](),{id:_0x5921a3,layout:_0x5dac88}=_0x4cc1d1[0x0]??{};if(_0x5dac88){for(const _0x5c2970 in _0x5dac88)_0x14d734[_0x5b5820(0x523)](_0x5c2970)||this['db'][_0x5b5820(0x848)](_0x5c2970)||_0x41ed36[_0x5b5820(0x5dc)](_0x5c2970);await _0x43c06e[_0x5b5820(0x6b3)](_0x5921a3,{'layout':this[_0x5b5820(0x7bd)]});}else await _0x43c06e[_0x5b5820(0x96d)]({'layout':this[_0x5b5820(0x7bd)]});}catch(_0x16aaa1){throw new _0x5f50cc(_0x128d3f[_0x5b5820(0x38a)],_0x16aaa1[_0x5b5820(0x34d)]||_0x5b5820(0x840));}this[_0x5b5820(0x646)](),await this[_0x5b5820(0x3ef)](),this[_0x5b5820(0x7a1)](),this[_0x5b5820(0x936)](),_0x41ed36[_0x5b5820(0x6bf)](_0x540778=>this['deleteTransactionsForTable'](_0x540778));}async['sync'](_0x208df4,_0x4b47a5=()=>{},_0x262027=!0x1){const _0x426b22=_0x148812;if(!_0x208df4)return setTimeout(()=>{const _0x3bf864=a0_0x53e8;this[_0x3bf864(0x25e)](),this[_0x3bf864(0xfe)]();},0x0),!0x0;if(this[_0x426b22(0x6a0)]=!0x1,this[_0x426b22(0x174)]=_0x4b47a5,this['syncTimeout']=setTimeout(_0x4b47a5,0x7d0),!this[_0x426b22(0x3eb)])throw new _0x864d50(_0x864d50[_0x426b22(0x753)][_0x426b22(0x4c2)]);const _0x2b5048=await this[_0x426b22(0x3c6)]['getRoot'](),_0x3c2196={'sourceId':this[_0x426b22(0x894)][_0x426b22(0x114)](),'messageType':_0x427f74[_0x426b22(0x1c4)],'propagate':_0x262027,'content':{'type':_0x457093[_0x426b22(0x932)],'label':this[_0x426b22(0xb2)],'mmrRoot':_0x2b5048}};return this[_0x426b22(0xc4)][_0x426b22(0x38c)](_0x3c2196),this[_0x426b22(0x3eb)][_0x426b22(0x5a3)](_0x3c2196),this[_0x426b22(0x317)];}async[_0x148812(0x6b8)](_0x328d34,_0x56f1e4){const _0x26c01c=_0x148812;if(_0x24a63b['log'](_0x306624[_0x26c01c(0x492)],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0x56f1e4['length'],this['label']),!this[_0x26c01c(0x49c)])throw new _0x864d50(_0x864d50[_0x26c01c(0x753)][_0x26c01c(0x8ed)]);for(const _0x3f81fe of _0x56f1e4){const _0x35d1b6=await this[_0x26c01c(0x49c)][_0x26c01c(0x792)](_0x3f81fe);if(!_0x35d1b6)continue;const [_0x2a5493,_0x397356]=_0x3f81fe[_0x26c01c(0x3ea)]('::'),_0x138e71=this['getTable'](_0x2a5493),_0x64590a=await _0x138e71[_0x26c01c(0x792)](_0x397356);_0x64590a?(_0x35d1b6[_0x26c01c(0x33d)]=_0x64590a,this[_0x26c01c(0x6aa)](_0x35d1b6,[_0x328d34])):_0x24a63b['warning'](_0x26c01c(0x814),{'nodeId':this[_0x26c01c(0x894)][_0x26c01c(0x114)](),'nodeType':this[_0x26c01c(0x894)][_0x26c01c(0x200)],'remoteId':_0x328d34,'data':{'tableKeys':Object[_0x26c01c(0x6fe)](this[_0x26c01c(0x539)]),'transactionId':_0x3f81fe,'transactions':this[_0x26c01c(0xed)],'tableName':_0x2a5493,'key':_0x397356}});}}async['writeTransaction'](_0x598edc){const _0x26cb85=_0x148812;if(!this['transactionTable'])throw new _0x864d50(_0x864d50[_0x26cb85(0x753)][_0x26cb85(0x8ed)]);const _0x1b7c51=await this[_0x26cb85(0x3c6)][_0x26cb85(0x881)](_0x598edc),_0x25cd43=this[_0x26cb85(0x779)][_0x26cb85(0x792)](_0x1b7c51);if(_0x25cd43&&this[_0x26cb85(0x5c3)](_0x598edc,_0x25cd43)<=0x0)return void _0x24a63b[_0x26cb85(0x14c)](_0x306624[_0x26cb85(0x492)],_0x26cb85(0x50b),_0x598edc);const _0x595e7c={..._0x598edc};return delete _0x595e7c[_0x26cb85(0x33d)],this[_0x26cb85(0x45f)](_0x595e7c),await this[_0x26cb85(0x49c)][_0x26cb85(0x6b3)](_0x598edc['id'],_0x595e7c),_0x598edc;}[_0x148812(0x5c3)](_0x54f061,_0x5d6c42){const _0x2f2a65=_0x148812;return _0x54f061['timestamp']!==_0x5d6c42[_0x2f2a65(0x33f)]?_0x54f061[_0x2f2a65(0x33f)]-_0x5d6c42[_0x2f2a65(0x33f)]:_0x54f061['priority']-_0x5d6c42['priority'];}async['getTransactionFromTableWriteEvent'](_0x28bbc0){const _0x33f571=_0x148812;if(!this[_0x33f571(0x49c)])throw new _0x864d50(_0x864d50['codes']['KeyValueDatabaseTransactionTableNotInitialized']);const _0x2ba502=_0x28bbc0[_0x33f571(0x1c9)]+'::'+_0x28bbc0['key'],_0xd7c883=await _0x22b478['getEstimatedTimestamp'](),_0x5c95c8={'id':_0x2ba502,'priority':Math['random'](),'timestamp':_0xd7c883,'action':_0x28bbc0[_0x33f571(0x89b)]};if(await this[_0x33f571(0x6f5)](_0x5c95c8))return _0x5c95c8;}async[_0x148812(0x430)](_0x32bb58){const _0x278cc5=_0x148812;if(!this[_0x278cc5(0x49c)])throw new _0x864d50(_0x864d50['codes'][_0x278cc5(0x8ed)]);const _0x528959=_0x5d427e[_0x278cc5(0x17b)]('id')[_0x278cc5(0x4fb)](_0x278cc5(0x189),[_0x32bb58+'::',_0x32bb58+_0x278cc5(0x515)]),_0x2ac9b8=await this[_0x278cc5(0x49c)][_0x278cc5(0x946)](_0x528959['getQuery']());for(const _0xe1a628 of _0x2ac9b8)await this[_0x278cc5(0x49c)][_0x278cc5(0x91b)](_0xe1a628['id']);}['setOnMessageHandler'](){const _0x8f07bb=_0x148812;this[_0x8f07bb(0x763)](async(_0x37ad9a,_0x50c6a7)=>{const _0x3d60b1=_0x8f07bb;if(_0x50c6a7 instanceof File)return;if(this['loggingCycle'][_0x3d60b1(0x185)](_0x50c6a7),!await this[_0x3d60b1(0x6f5)](_0x50c6a7))return void this['checkSyncComplete'](_0x37ad9a,_0x50c6a7);if(!_0x50c6a7[_0x3d60b1(0x33d)])throw new _0x864d50(_0x864d50[_0x3d60b1(0x753)][_0x3d60b1(0x95c)]);const [_0x2fe398,_0xaafc3d]=_0x50c6a7['id'][_0x3d60b1(0x3ea)]('::'),_0x3e1ca8=this[_0x3d60b1(0xd4)](_0x2fe398);if(!_0x3e1ca8)throw new _0x864d50(_0x864d50[_0x3d60b1(0x753)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x3e1ca8});let _0x489768=0x0;switch(_0x50c6a7['action']){case _0x47a236[_0x3d60b1(0x647)]:case _0x47a236[_0x3d60b1(0x83)]:{const _0x3b6767=_0x3e1ca8[_0x3d60b1(0x6b3)](_0xaafc3d,_0x50c6a7[_0x3d60b1(0x33d)],!0x1);_0x489768=JSON['stringify'](_0x50c6a7[_0x3d60b1(0x33d)])['length'],this[_0x3d60b1(0xed)][_0x3d60b1(0x523)](_0x50c6a7['id'])&&this[_0x3d60b1(0x76e)][_0x3d60b1(0x5dc)](_0x3b6767);break;}case _0x47a236[_0x3d60b1(0x86c)]:{const _0x18c023=_0x3e1ca8[_0x3d60b1(0x91b)](_0xaafc3d,!0x1);this[_0x3d60b1(0xed)][_0x3d60b1(0x523)](_0x50c6a7['id'])&&this[_0x3d60b1(0x76e)]['push'](_0x18c023);break;}}_0x24a63b[_0x3d60b1(0x8f3)](_0x4d4c54[_0x3d60b1(0x492)],{'type':_0x3d60b1(0x319),'label':this[_0x3d60b1(0xb2)],'nodeId':this[_0x3d60b1(0x894)][_0x3d60b1(0x114)](),'nodeType':this['localNode'][_0x3d60b1(0x200)],'clusterId':this[_0x3d60b1(0x853)],'tableName':_0x2fe398,'key':_0xaafc3d,'size':_0x489768}),this[_0x3d60b1(0x57c)](_0x37ad9a,_0x50c6a7);});}['setOnTableWriteHandler'](){const _0x1dae5a=_0x148812;this['tableUnsubscriber']=this[_0x1dae5a(0x613)][_0x1dae5a(0x360)](async _0xdb692d=>{const _0x778aed=_0x1dae5a;let _0xec99f4=0x0;switch(_0xdb692d[_0x778aed(0x89b)]){case _0x47a236[_0x778aed(0x647)]:case _0x47a236['Update']:case _0x47a236['Delete']:{const _0x31ff7c=await this[_0x778aed(0x887)](_0xdb692d);if(!_0x31ff7c)return;_0x31ff7c['value']=_0xdb692d[_0x778aed(0x33d)],this[_0x778aed(0x6aa)](_0x31ff7c),_0xec99f4=JSON[_0x778aed(0x605)](_0xdb692d['value'])[_0x778aed(0x6a1)],this[_0x778aed(0x712)]+=0x1;break;}case _0x354975[_0x778aed(0x2a0)]:case _0x354975[_0x778aed(0x67f)]:case _0x354975[_0x778aed(0x17e)]:this[_0x778aed(0x144)]+=0x1;}_0x24a63b[_0x778aed(0x8f3)](_0x4d4c54[_0x778aed(0x492)],{'type':_0xdb692d[_0x778aed(0x89b)],'label':this['label'],'nodeId':this[_0x778aed(0x894)][_0x778aed(0x114)](),'nodeType':this[_0x778aed(0x894)][_0x778aed(0x200)],'clusterId':this[_0x778aed(0x853)],'tableName':_0xdb692d[_0x778aed(0x1c9)],'key':_0xdb692d[_0x778aed(0x751)],'size':_0xec99f4}),this[_0x778aed(0x44b)]();});}[_0x148812(0x646)](){const _0x458cd6=_0x148812;this['db']&&(this[_0x458cd6(0x49c)]||(this['transactionTable']=this['db'][_0x458cd6(0x195)](_0x2c607e)));}[_0x148812(0x25e)](){const _0x20b886=_0x148812;this[_0x20b886(0x328)]&&(clearTimeout(this[_0x20b886(0x328)]),delete this['syncTimeout']);}async[_0x148812(0xfe)](){const _0x373ea5=_0x148812;await this[_0x373ea5(0x3c6)]['ready'],this['logSyncMetrics'](),this[_0x373ea5(0x5d8)][_0x373ea5(0x5a3)]({'event':_0x366c21[_0x373ea5(0x809)]['SyncComplete']}),this[_0x373ea5(0x79a)]?.(!0x0),delete this[_0x373ea5(0x79a)],this[_0x373ea5(0x44b)](),_0x24a63b['log'](_0x306624[_0x373ea5(0x492)],_0x373ea5(0x58d),this['label']);}async[_0x148812(0x5fd)](_0x16a81d){const _0x3084e4=_0x148812;await Promise[_0x3084e4(0x6f7)](this[_0x3084e4(0x76e)]),_0x24a63b[_0x3084e4(0x14c)](_0x306624[_0x3084e4(0x492)],_0x3084e4(0xd2)+this[_0x3084e4(0x76e)]['length']+'\x20writes\x20from\x20'+_0x16a81d+_0x3084e4(0x4e7),this[_0x3084e4(0xb2)]),await this[_0x3084e4(0x3c6)]['ready'],await this[_0x3084e4(0x1a0)](_0x16a81d),await this[_0x3084e4(0xfe)]();}['checkSyncComplete'](_0x3feed1,_0x266216){const _0x4548cc=_0x148812;this[_0x4548cc(0xed)]['includes'](_0x266216['id'])&&(this[_0x4548cc(0x25e)](),this['transactionsToSync']=this[_0x4548cc(0xed)]['filter'](_0x412d70=>_0x412d70!==_0x266216['id']),0x0!==this[_0x4548cc(0xed)]['length']?this['syncTimeout']=setTimeout(this[_0x4548cc(0x174)],0x7d0):this[_0x4548cc(0x5fd)](_0x3feed1));}['sendStats'](){const _0x5a366a=_0x148812;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x5a366a(0x5b1)]=setTimeout(async()=>{const _0x30627e=_0x5a366a;delete this[_0x30627e(0x5b1)];let _0x457199=0x0;for(const _0x1a80ee of this[_0x30627e(0x539)]['values']())_0x457199+=await _0x1a80ee[_0x30627e(0x87e)]();this[_0x30627e(0x3eb)][_0x30627e(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74['Content'],'content':{'type':_0x457093['KeyValueDatabaseStats'],'label':this[_0x30627e(0xb2)],'stats':{'timestamp':Date[_0x30627e(0x847)](),'storage':_0x457199,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x30627e(0x8f7)],'bytesSent':this[_0x30627e(0x64a)],'bytesReceived':this['bytesReceived'],'writes':this[_0x30627e(0x712)],'reads':this[_0x30627e(0x144)],'prompts':0x0,'tokens':0x0}}}),_0x24a63b[_0x30627e(0x16f)](_0x4d4c54[_0x30627e(0x492)],_0x30627e(0x311)+this['clusterId']+_0x30627e(0x311)+this[_0x30627e(0xb2)],_0x457199);},_0x470373);}[_0x148812(0x7c7)](_0x598dfc){const _0x406f0f=_0x148812;if(_0x598dfc['tables'][_0x2c607e])throw new _0x5f50cc(_0x128d3f['KeyValueDatabaseTableNameReserved'],_0x406f0f(0x34f)+_0x2c607e+_0x406f0f(0x2e1));if(_0x598dfc['tables'][_0x29521e])throw new _0x5f50cc(_0x128d3f['KeyValueDatabaseTableNameReserved'],_0x406f0f(0x34f)+_0x29521e+_0x406f0f(0x2e1));_0x598dfc[_0x406f0f(0x539)][_0x2c607e]={'indexes':[]},_0x598dfc[_0x406f0f(0x539)][_0x29521e]={'indexes':[]};}async[_0x148812(0x21d)](_0xcddb9c){const _0x1f8247=_0x148812;return Promise[_0x1f8247(0x6f9)]([_0xcddb9c,Promise[_0x1f8247(0x87d)]('not-resolved')])['then'](_0x479778=>_0x1f8247(0x186)!==_0x479778);}async[_0x148812(0x1a0)](_0x524067){const _0x235bd9=_0x148812;await this['processTransactionsToComputeMMR']();const _0xa07289=await this[_0x235bd9(0x3c6)]['getRoot'](),_0x42b8f1={'sourceId':this['localNode'][_0x235bd9(0x114)](),'destinationIds':[_0x524067],'propagate':!0x0,'messageType':_0x427f74[_0x235bd9(0x1c4)],'content':{'type':_0x457093['KeyValueDatabaseContentSynchronized'],'label':this[_0x235bd9(0xb2)],'mmrRoot':_0xa07289}};this['systemTopic'][_0x235bd9(0x5a3)](_0x42b8f1);}async[_0x148812(0x3ef)](){const _0x2d486b=_0x148812;if(!this['transactionTable'])throw new _0x864d50(_0x864d50['codes']['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x2d486b(0x75d)]=await this['transactionTable']['list'](),this['transactions'][_0x2d486b(0x556)](this[_0x2d486b(0x5c3)]),this['mmr']=new _0x40515f(),this['transactionHashMap']=new Map();for(const _0xafcd97 of this[_0x2d486b(0x75d)])this[_0x2d486b(0x746)](_0xafcd97,this[_0x2d486b(0x75d)][_0x2d486b(0x6a1)]);this['logInitialMMR']();}async[_0x148812(0x746)](_0x5d254b,_0x5d91ec){const _0x1a15c4=_0x148812,_0x3bd0f4={..._0x5d254b};delete _0x3bd0f4['value'],await this['mmr']['appendTransaction'](_0x3bd0f4,_0x5d91ec);const _0x143658=await this[_0x1a15c4(0x3c6)][_0x1a15c4(0x881)](_0x3bd0f4);this[_0x1a15c4(0x779)][_0x1a15c4(0x6b3)](_0x143658,_0x5d254b);}['getTransactionByHash'](_0x2d9c2f){const _0x3637ae=_0x148812;return this[_0x3637ae(0x779)]['get'](_0x2d9c2f);}[_0x148812(0x615)](_0x490c00,_0x3d9f8f){const _0x5522ab=_0x148812;if(0x0!==_0x490c00[_0x5522ab(0x7e7)])_0x490c00[_0x5522ab(0x265)]&&this[_0x5522ab(0x615)](_0x490c00[_0x5522ab(0x265)],_0x3d9f8f),_0x490c00[_0x5522ab(0x65e)]&&this[_0x5522ab(0x615)](_0x490c00[_0x5522ab(0x65e)],_0x3d9f8f);else{const _0x4b1b55=this['getTransactionByHash'](_0x490c00[_0x5522ab(0x136)]);_0x4b1b55&&_0x3d9f8f['push'](_0x4b1b55);}}async['rebuildMMR'](){const _0xc37742=_0x148812;this[_0xc37742(0x559)]&&(clearTimeout(this['debounceRebuildMMR']),delete this['debounceRebuildMMR'],this[_0xc37742(0x620)]['length']>0x0&&(this['transactions'][_0xc37742(0x5dc)](...this['transactionsToAppend'][_0xc37742(0x556)](this['compareTransactions'])),this[_0xc37742(0x620)]=[]));const _0x68fae8=this['startLoggingCycle']();this['mmr']=new _0x40515f(),this[_0xc37742(0x779)][_0xc37742(0x970)](),this['transactions']['sort'](this[_0xc37742(0x5c3)]);for(const _0x1157d9 of this['transactions'])this[_0xc37742(0x746)](_0x1157d9,this[_0xc37742(0x75d)][_0xc37742(0x6a1)]);await this['mmr']['ready'],this[_0xc37742(0x5f8)](_0x68fae8);}['startLoggingCycle'](){const _0x462403=_0x148812;return this[_0x462403(0xc4)]['logger']['performCalculation'](async()=>{const _0x350416=_0x462403,_0x4ecd5f=await this[_0x350416(0x3c6)]['getRoot']();return{'startTime':Date[_0x350416(0x847)](),'initialRoot':_0x4ecd5f};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async[_0x148812(0x5f8)](_0x26febf){const _0x596368=_0x148812;try{const {startTime:_0x1c7cfa,initialRoot:_0x32e6c3}=await _0x26febf,_0x252eb2=await this[_0x596368(0x3c6)][_0x596368(0x1cd)](),_0x48ab7b=[_0x596368(0x8ac)+(_0x32e6c3!==_0x252eb2),_0x596368(0x862)+_0x32e6c3,_0x596368(0x85)+_0x252eb2,_0x596368(0xa5)+this[_0x596368(0x3c6)][_0x596368(0x145)](),_0x596368(0x1ee)+(Date[_0x596368(0x847)]()-_0x1c7cfa)+_0x596368(0x225)][_0x596368(0x3b0)]('\x20');this[_0x596368(0xc4)][_0x596368(0x375)][_0x596368(0x14c)]('',()=>_0x48ab7b);}catch(_0x4a1372){console[_0x596368(0x2d0)](_0x596368(0x287),_0x4a1372);}}[_0x148812(0x45f)](_0x3c1963){const _0x4fd921=_0x148812;this[_0x4fd921(0x620)][_0x4fd921(0x5dc)](_0x3c1963),this['debounceRebuildMMR']&&(clearTimeout(this[_0x4fd921(0x559)]),delete this[_0x4fd921(0x559)]),this[_0x4fd921(0x559)]=setTimeout(()=>{const _0xd9a187=_0x4fd921;this[_0xd9a187(0x905)]();},0x3e8);}async[_0x148812(0x905)](){const _0x250bd2=_0x148812;if(this[_0x250bd2(0x559)]&&(clearTimeout(this[_0x250bd2(0x559)]),delete this[_0x250bd2(0x559)]),0x0!==this['transactionsToAppend'][_0x250bd2(0x6a1)]){if(0x0===this[_0x250bd2(0x75d)]['length'])return this[_0x250bd2(0x75d)]=this[_0x250bd2(0x620)],this[_0x250bd2(0x620)]=[],await this[_0x250bd2(0x2dd)]();if(this['transactionsToAppend'][_0x250bd2(0x556)](this[_0x250bd2(0x5c3)]),this[_0x250bd2(0x5c3)](this[_0x250bd2(0x620)][0x0],this[_0x250bd2(0x75d)][this['transactions'][_0x250bd2(0x6a1)]-0x1])>0x0){this[_0x250bd2(0xc4)][_0x250bd2(0x375)][_0x250bd2(0x14c)](_0x250bd2(0x691)+this['transactionsToAppend']['length']+',\x20Transactions:\x20'+this[_0x250bd2(0x75d)][_0x250bd2(0x6a1)]);for(const _0x21ea7a of this[_0x250bd2(0x620)])this[_0x250bd2(0x75d)]['push'](_0x21ea7a),this[_0x250bd2(0x746)](_0x21ea7a,this['transactionsToAppend'][_0x250bd2(0x6a1)]);return this['transactionsToAppend']=[],void this[_0x250bd2(0xc4)][_0x250bd2(0x375)]['log'](_0x250bd2(0x22c),async()=>_0x250bd2(0x833)+await this['mmr']['getRoot']()+_0x250bd2(0x622)+this[_0x250bd2(0x3c6)]['getTotalNodes']());}this['loggingCycle']['logger']['log'](_0x250bd2(0x65c)+this[_0x250bd2(0x620)][_0x250bd2(0x6a1)]+_0x250bd2(0x991)+this['transactions'][_0x250bd2(0x6a1)]),this[_0x250bd2(0x75d)][_0x250bd2(0x5dc)](...this['transactionsToAppend']),this['transactionsToAppend']=[],this[_0x250bd2(0x2dd)]();}}async[_0x148812(0x56d)](){const _0x597ba2=_0x148812;if(!_0x24a63b[_0x597ba2(0x348)](_0x306624['KeyValueDatabase']))return;await this[_0x597ba2(0x3c6)][_0x597ba2(0xd6)];const {dataSent:_0x36c65d,dataReceived:_0x5a57f6}=this[_0x597ba2(0xc4)][_0x597ba2(0x55f)]();_0x24a63b[_0x597ba2(0x14c)](_0x306624[_0x597ba2(0x492)],_0x597ba2(0x7ab),this[_0x597ba2(0xb2)],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x36c65d,'\x0a\x20===\x20Total\x20Data\x20Received:\x20'+_0x5a57f6,_0x597ba2(0xce),await this[_0x597ba2(0x3c6)]['getRoot'](),'\x0a\x20===\x20Total\x20Nodes:',this[_0x597ba2(0x3c6)][_0x597ba2(0x145)]());}async['logInitialMMR'](){const _0x4f9928=_0x148812;if(!_0x24a63b[_0x4f9928(0x348)](_0x306624[_0x4f9928(0x492)]))return;const _0x58de0e=this[_0x4f9928(0x3c6)][_0x4f9928(0x7e9)](),_0x395f4c=_0x58de0e[_0x4f9928(0x7e1)](_0x5894c3=>_0x5894c3[_0x4f9928(0x7e7)]),_0x33a27c=await this['mmr']['getRoot']();_0x24a63b[_0x4f9928(0x14c)](_0x306624[_0x4f9928(0x492)],_0x4f9928(0xb8),this[_0x4f9928(0x75d)]['length'],_0x4f9928(0x75d),this[_0x4f9928(0x3c6)][_0x4f9928(0x145)](),'totalNodes',_0x58de0e[_0x4f9928(0x6a1)],_0x4f9928(0x24a),_0x395f4c,_0x4f9928(0x966),_0x33a27c);}}const _0x20955a=require('@crewdle/mist-connector-opfs'),_0x31d242=require('@crewdle/mist-connector-indexed-db'),_0x1f4553=require('@crewdle/mist-connector-webrtc-browser'),_0x40068a=0x1fc00000;var _0x19bf76,_0x222324,_0x4c498b,_0x12853b,_0x56ddb9,_0x4b25da,_0x525464,_0x205619,_0x2fbac2;!function(_0x502150){const _0x23055f=_0x148812;_0x502150['AudioContext']=_0x23055f(0x3b7),_0x502150[_0x23055f(0x7ac)]=_0x23055f(0x7ac),_0x502150[_0x23055f(0x554)]=_0x23055f(0x554),_0x502150[_0x23055f(0x773)]=_0x23055f(0x773),_0x502150[_0x23055f(0x356)]=_0x23055f(0x356),_0x502150[_0x23055f(0x996)]=_0x23055f(0x996),_0x502150[_0x23055f(0x47a)]=_0x23055f(0x47a),_0x502150[_0x23055f(0x338)]=_0x23055f(0x338),_0x502150[_0x23055f(0x563)]=_0x23055f(0x563),_0x502150[_0x23055f(0x8d7)]=_0x23055f(0x8d7);}(_0x19bf76||(_0x19bf76={}));class _0x3ee3c8{[_0x148812(0x8dc)];['bufferedEvents'];[_0x148812(0x435)];constructor(_0x4464de=new Map(),_0x15e8ca=new Map(),_0x79ed93=new EventTarget()){const _0x572c1c=_0x148812;this[_0x572c1c(0x8dc)]=_0x4464de,this[_0x572c1c(0xd7)]=_0x15e8ca,this[_0x572c1c(0x435)]=_0x79ed93;}[_0x148812(0x498)]=(_0x475ddc,_0x2764fe)=>this[_0x148812(0x8dc)][_0x148812(0x31f)](_0x475ddc)?(_0x24a63b['log'](_0x306624[_0x148812(0x2ff)],_0x148812(0x824),{'event':_0x475ddc,'data':_0x2764fe}),this[_0x148812(0x435)][_0x148812(0x2ac)](new CustomEvent(_0x475ddc,{'detail':_0x2764fe})),!0x0):(this[_0x148812(0x873)](_0x475ddc,_0x2764fe),!0x1);['on']=(_0x33f4c1,_0x2618ed)=>{const _0x493bb4=_0x148812,_0x16dfb0=_0x1a8f58=>{const _0x4f8df4=a0_0x53e8;_0x24a63b[_0x4f8df4(0x14c)](_0x306624['Events'],_0x4f8df4(0x361),_0x1a8f58[_0x4f8df4(0x200)],_0x1a8f58[_0x4f8df4(0x7d4)]),_0x2618ed(_0x1a8f58['detail']);};return this[_0x493bb4(0x8dc)][_0x493bb4(0x6b3)](_0x33f4c1,_0x16dfb0),this[_0x493bb4(0x435)][_0x493bb4(0x76c)](_0x33f4c1,_0x16dfb0),_0x24a63b[_0x493bb4(0x14c)](_0x306624[_0x493bb4(0x78c)],'Subscribing\x20to\x20an\x20event:\x20on',_0x33f4c1,_0x2618ed),this[_0x493bb4(0x27f)](_0x33f4c1),this;};[_0x148812(0x57f)](_0x148a48){const _0x183909=_0x148812;if(!_0x148a48)return this['registeredListeners'][_0x183909(0x6bf)]((_0x1f0d1e,_0x1d3cc0)=>{const _0x40b580=_0x183909;this['eventTarget'][_0x40b580(0x597)](_0x1d3cc0,_0x1f0d1e);}),void this[_0x183909(0x8dc)]['clear']();_0x183909(0x53a)==typeof _0x148a48&&this[_0x183909(0x117)](_0x148a48),Array[_0x183909(0x6c1)](_0x148a48)&&_0x148a48['forEach'](_0x311fd3=>{const _0x4b112c=_0x183909;this[_0x4b112c(0x117)](_0x311fd3);});}['removeListener'](_0x4c1a23){const _0x3400c9=_0x148812,_0x4d4b44=this[_0x3400c9(0x8dc)]['get'](_0x4c1a23);_0x4d4b44&&(this['eventTarget'][_0x3400c9(0x597)](_0x4c1a23,_0x4d4b44),this[_0x3400c9(0x8dc)][_0x3400c9(0x91b)](_0x4c1a23));}['bufferEvent'](_0x480c45,_0x3e8ea0){const _0xcaea3c=_0x148812;_0x24a63b['log'](_0x306624[_0xcaea3c(0x2ff)],'Buffering\x20event',{'event':_0x480c45,'data':_0x3e8ea0});const _0x525a13=this['bufferedEvents'][_0xcaea3c(0x792)](_0x480c45)||[];this[_0xcaea3c(0xd7)]['set'](_0x480c45,[..._0x525a13,_0x3e8ea0]);}[_0x148812(0x27f)](_0x3adf11){const _0x3ed597=_0x148812,_0x2d5860=this[_0x3ed597(0xd7)][_0x3ed597(0x792)](_0x3adf11);_0x2d5860&&(_0x2d5860[_0x3ed597(0x6bf)](_0x41bf0b=>{const _0x455c1e=_0x3ed597;_0x24a63b[_0x455c1e(0x14c)](_0x306624['Events'],_0x455c1e(0x5de),{'event':_0x3adf11,'data':_0x41bf0b}),this[_0x455c1e(0x435)][_0x455c1e(0x2ac)](new CustomEvent(_0x3adf11,{'detail':_0x41bf0b}));}),this['bufferedEvents']['delete'](_0x3adf11));}}class _0x30fc07 extends Error{constructor(_0xc35eff){const _0x35a543=_0x148812;super(_0x35a543(0x60b)+_0xc35eff);}}!function(_0x485108){const _0x34e9a9=_0x148812;_0x485108[_0x485108[_0x34e9a9(0x222)]=0x0]=_0x34e9a9(0x222),_0x485108[_0x485108['Optimization']=0x1]=_0x34e9a9(0x3bc);}(_0x222324||(_0x222324={})),function(_0x2fcec5){const _0x2c2bfb=_0x148812;_0x2fcec5[_0x2fcec5[_0x2c2bfb(0x531)]=0x0]=_0x2c2bfb(0x531),_0x2fcec5[_0x2fcec5[_0x2c2bfb(0x6c0)]=0x1]=_0x2c2bfb(0x6c0),_0x2fcec5[_0x2fcec5[_0x2c2bfb(0x30d)]=0x2]=_0x2c2bfb(0x30d),_0x2fcec5[_0x2fcec5[_0x2c2bfb(0x45e)]=0x3]=_0x2c2bfb(0x45e),_0x2fcec5[_0x2fcec5[_0x2c2bfb(0x968)]=0x4]='NeedRestart',_0x2fcec5[_0x2fcec5[_0x2c2bfb(0x405)]=0x5]=_0x2c2bfb(0x405),_0x2fcec5[_0x2fcec5[_0x2c2bfb(0x413)]=0x6]=_0x2c2bfb(0x413),_0x2fcec5[_0x2fcec5[_0x2c2bfb(0x7b0)]=0x7]=_0x2c2bfb(0x7b0),_0x2fcec5[_0x2fcec5[_0x2c2bfb(0x43d)]=0x8]=_0x2c2bfb(0x43d);}(_0x4c498b||(_0x4c498b={})),function(_0x5d86f5){const _0x39e37b=_0x148812;_0x5d86f5[_0x5d86f5[_0x39e37b(0x879)]=0x0]='Sender',_0x5d86f5[_0x5d86f5['Receiver']=0x1]=_0x39e37b(0x71d);}(_0x12853b||(_0x12853b={})),function(_0x34d5a2){const _0x45e17f=_0x148812;_0x34d5a2[_0x45e17f(0x996)]=_0x45e17f(0xb9);}(_0x56ddb9||(_0x56ddb9={})),function(_0xece967){const _0x3f0eb9=_0x148812;_0xece967[_0xece967['NodeJoin']=0x0]=_0x3f0eb9(0x95a),_0xece967[_0xece967[_0x3f0eb9(0x850)]=0x1]=_0x3f0eb9(0x850),_0xece967[_0xece967['NodeConnectionsUpdate']=0x2]='NodeConnectionsUpdate',_0xece967[_0xece967[_0x3f0eb9(0x64b)]=0x3]=_0x3f0eb9(0x64b);}(_0x4b25da||(_0x4b25da={})),function(_0x5dd651){const _0x1ccac5=_0x148812;_0x5dd651[_0x5dd651[_0x1ccac5(0x48c)]=0x0]='Remediation',_0x5dd651[_0x5dd651['RemoteRemediation']=0x1]=_0x1ccac5(0x1b9);}(_0x525464||(_0x525464={})),function(_0x5d1493){const _0x4e8943=_0x148812;_0x5d1493[_0x4e8943(0x17d)]=_0x4e8943(0x40e),_0x5d1493[_0x4e8943(0x362)]=_0x4e8943(0x7b4);}(_0x205619||(_0x205619={})),function(_0x304d0a){const _0x219858=_0x148812;_0x304d0a[_0x219858(0x570)]='resolution',_0x304d0a[_0x219858(0x329)]=_0x219858(0x172);}(_0x2fbac2||(_0x2fbac2={}));const _0xa3bc9c=require('aws-amplify'),_0x2f6ce1=require('aws-amplify/utils'),_0x78d6c7=require('@aws-amplify/api'),_0x5ab63e=require('@aws-amplify/core');class _0xdf55c2{['clusterId'];[_0x148812(0x894)];[_0x148812(0x89a)];constructor(_0x5e28b8,_0xa9b83b,_0xa92c01){const _0x51fa79=_0x148812;this['clusterId']=_0x5e28b8,this[_0x51fa79(0x894)]=_0xa9b83b,this[_0x51fa79(0x89a)]=_0xa92c01;}[_0x148812(0x63f)](){const _0x330af3=_0x148812;return this[_0x330af3(0x894)][_0x330af3(0x114)]();}[_0x148812(0x4e1)](){const _0x47ef17=_0x148812;return this[_0x47ef17(0x89a)];}}var _0xc5a2fb,_0x2e284f,_0x4decb1;function _0x24bc38(_0x5f0a4b,_0x487904){const _0x2c50f4=_0x148812;return _0x5f0a4b[_0x2c50f4(0x21f)]===_0x487904;}function _0x3de2cb(_0x33ba0c,_0x2f99b8){const _0x380e7a=_0x148812;return _0x33ba0c[_0x380e7a(0x389)]?.[_0x380e7a(0x523)](_0x2f99b8)??function(_0x435aeb){const _0x57261d=_0x380e7a;return void 0x0===_0x435aeb[_0x57261d(0x389)];}(_0x33ba0c);}function _0x5c2338(_0x141c87,{contentType:_0x1b0af5,label:_0x398684,remoteId:_0x2d71ff}){return _0x141c87+'-'+_0x1b0af5+'-'+_0x398684+'-'+_0x2d71ff;}function _0x4b8d73(_0xfe44e5,_0x42b790,_0x21c415){return''+_0xfe44e5+_0x42b790+_0x21c415;}function _0x53f105(_0x12312b){const _0x54171b=_0x148812;return _0x12312b===_0x2e284f[_0x54171b(0x6d4)]?_0x54171b(0x68c):_0x54171b(0xbb);}function _0x5ab70b(_0x16e4bb,_0xc35d70){const _0x48f667=_0x148812;return{'label':_0x16e4bb[_0x48f667(0x108)](),'contentType':_0x16e4bb['getContentType'](),'remoteId':_0xc35d70[_0x48f667(0x4e1)](),'supportsContentType':_0xc35d70['getSupportedContentTypes']()[_0x48f667(0x523)](_0x16e4bb[_0x48f667(0x16e)]())};}!function(_0x1fe666){const _0x324f1c=_0x148812;_0x1fe666[_0x1fe666[_0x324f1c(0xa7)]=0x0]=_0x324f1c(0xa7),_0x1fe666[_0x1fe666[_0x324f1c(0x4b1)]=0x1]=_0x324f1c(0x4b1),_0x1fe666[_0x1fe666[_0x324f1c(0x2fa)]=0x2]=_0x324f1c(0x2fa);}(_0xc5a2fb||(_0xc5a2fb={})),function(_0x424f96){const _0x1e780e=_0x148812;_0x424f96[_0x1e780e(0x6d4)]='in',_0x424f96[_0x1e780e(0x307)]=_0x1e780e(0x886);}(_0x2e284f||(_0x2e284f={}));class _0x456bd6{[_0x148812(0x581)];['retryCallback'];constructor(_0x5773c6,_0x2c84b9){const _0x851b0f=_0x148812;this[_0x851b0f(0x581)]=_0x5773c6,this[_0x851b0f(0x395)]=_0x2c84b9;}[_0x148812(0x34c)](_0x2402f4){this['callback'](_0x2402f4);}async[_0x148812(0x86e)](){const _0x16a819=_0x148812;await this[_0x16a819(0x395)]();}}class _0x43d967{['callback'];['retryCallback'];constructor(_0x4386bb,_0x2f1aa0){const _0x41754c=_0x148812;this[_0x41754c(0x581)]=_0x4386bb,this[_0x41754c(0x395)]=_0x2f1aa0;}async[_0x148812(0x34c)](_0x2310f0){await this['callback'](_0x2310f0);}async[_0x148812(0x86e)](){await this['retryCallback']();}}function _0x3bf673(_0x29f333=()=>{},_0x5b8ce7=()=>!0x1,_0x151636=()=>{}){let _0x548b8a,_0x28158a,_0x4b498=0x0;return{get 'size'(){return _0x4b498;},get 'head'(){return _0x548b8a;},get 'tail'(){return _0x28158a;},set 'head'(_0xf7149e){_0x548b8a=_0xf7149e;},set 'tail'(_0x321660){_0x28158a=_0x321660;},'push'(_0x214384,_0x537be4=!0x0){const _0x1b39dd=a0_0x53e8,_0x5a449c={'value':_0x214384};_0x537be4&&_0x5b8ce7(_0x5a449c)?_0x29f333():(_0x28158a&&(_0x5a449c['previous']=_0x28158a,_0x28158a[_0x1b39dd(0x3a5)]=_0x5a449c),_0x28158a=_0x5a449c,_0x548b8a||(_0x548b8a=_0x5a449c),_0x4b498+=0x1,_0x537be4&&_0x29f333());},'pop'(){const _0x43e231=a0_0x53e8;if(!_0x28158a)return;const _0x1c0f61=_0x28158a[_0x43e231(0x33d)];return _0x28158a=_0x28158a[_0x43e231(0x5e6)],_0x28158a&&delete _0x28158a[_0x43e231(0x3a5)],_0x28158a||(_0x548b8a=void 0x0),_0x4b498-=0x1,_0x1c0f61;},'unshift'(_0x5d9a65,_0x46c9a4=!0x0){const _0x1845d4=a0_0x53e8,_0x215c20={'value':_0x5d9a65};_0x46c9a4&&_0x5b8ce7(_0x215c20)?_0x29f333():(_0x548b8a&&(_0x548b8a[_0x1845d4(0x5e6)]=_0x215c20,_0x215c20['next']=_0x548b8a),_0x548b8a=_0x215c20,_0x28158a||(_0x28158a=_0x215c20),_0x4b498+=0x1,_0x46c9a4&&_0x29f333());},'shift'(){const _0x2a7c15=a0_0x53e8;if(!_0x548b8a)return;const _0x1c928b=_0x548b8a['value'];return _0x548b8a=_0x548b8a[_0x2a7c15(0x3a5)],_0x548b8a&&delete _0x548b8a[_0x2a7c15(0x5e6)],_0x548b8a||(_0x28158a=void 0x0),_0x4b498-=0x1,_0x1c928b;},'clear'(){_0x151636(),_0x548b8a=void 0x0,_0x28158a=void 0x0,_0x4b498=0x0;}};}function _0x31f1b7(_0x5c0750,_0xa0b57=!0x1,_0x5046b5=()=>{},_0x527090=()=>!0x1,_0x4c4a0e=()=>{}){let _0x114247=!0x1;const _0x22d77e=_0x3bf673(async function(){const _0x4d086d=a0_0x53e8;if(!_0x114247){for(_0x114247=!0x0;_0x22d77e[_0x4d086d(0x39d)];){const _0x5bd011=_0x22d77e[_0x4d086d(0x4cd)]();if(_0x5bd011)try{_0x5c0750 instanceof _0x456bd6&&_0x5c0750[_0x4d086d(0x34c)](_0x5bd011),_0x5c0750 instanceof _0x43d967&&await _0x5c0750[_0x4d086d(0x34c)](_0x5bd011),_0x5046b5(_0x5bd011);}catch(_0x49fce9){_0xa0b57?_0x22d77e[_0x4d086d(0x5dc)](_0x5bd011,!0x1):_0x22d77e[_0x4d086d(0x7dc)](_0x5bd011,!0x1),await _0x5c0750['wait']();}}_0x114247=!0x1;}},_0x527090,_0x4c4a0e);return _0x22d77e;}class _0x18d058 extends _0xdf55c2{['vendorId'];[_0x148812(0x3d6)];['connectionState']=_0x78d6c7[_0x148812(0x197)][_0x148812(0x1ba)];[_0x148812(0x87c)]=_0x127104();[_0x148812(0x331)]=_0x48de03();[_0x148812(0x711)];[_0x148812(0x903)];[_0x148812(0x440)]=_0x31f1b7(new _0x43d967(this['sendAction'][_0x148812(0x949)](this),this['waitConnected']['bind'](this)));[_0x148812(0x596)];constructor(_0x306036,_0x380118,_0x524751,_0x2e074b,_0x38069b){const _0x45fc38=_0x148812;super(_0x380118,_0x524751,_0x2e074b),this[_0x45fc38(0x945)]=_0x306036,this[_0x45fc38(0x3d6)]=_0x38069b;}async[_0x148812(0x2b8)](){const _0x542abf=_0x148812;try{const _0x11b13e={'getTokens':async()=>{const _0x2d1ef1=a0_0x53e8,_0x45475a=await this[_0x2d1ef1(0x3d6)][_0x2d1ef1(0x56f)]();return{'accessToken':(0x0,_0x5ab63e[_0x2d1ef1(0x943)])(_0x45475a),'idToken':(0x0,_0x5ab63e[_0x2d1ef1(0x943)])(_0x45475a)};}};_0xa3bc9c[_0x542abf(0x280)]['configure']({'API':{'GraphQL':{'endpoint':_0x452d67[_0x542abf(0x98)][_0x542abf(0x969)],'region':_0x452d67[_0x542abf(0x98)][_0x542abf(0x479)],'defaultAuthMode':'oidc'}}},{'Auth':{'tokenProvider':_0x11b13e}});const _0x1bc71=(0x0,_0x78d6c7['generateClient'])();this['client']=_0x1bc71,await this[_0x542abf(0x360)](),this['listenUnsubscriber']=_0x2f6ce1[_0x542abf(0x983)][_0x542abf(0x15f)](_0x542abf(0x211),async({payload:_0xf3d19c})=>{const _0x31cc77=_0x542abf;if(_0xf3d19c['event']===_0x78d6c7[_0x31cc77(0x214)]){const _0xc25e1c=_0xf3d19c[_0x31cc77(0x912)];this[_0x31cc77(0x754)]=_0xc25e1c[_0x31cc77(0x754)],this[_0x31cc77(0x87c)][_0x31cc77(0x5a3)](_0xc25e1c[_0x31cc77(0x754)]),this['connectionState']===_0x78d6c7['ConnectionState'][_0x31cc77(0x1ba)]?(_0x24a63b[_0x31cc77(0x2d0)](_0x31cc77(0x916),{'clusterId':this[_0x31cc77(0x853)],'nodeId':this[_0x31cc77(0x63f)](),'nodeType':this[_0x31cc77(0x894)]['type']}),this[_0x31cc77(0x6ac)](),this['connect']()):this[_0x31cc77(0x754)]===_0x78d6c7[_0x31cc77(0x197)][_0x31cc77(0x4da)]?_0x24a63b[_0x31cc77(0x659)](_0x31cc77(0x931),{'clusterId':this[_0x31cc77(0x853)],'nodeId':this['getLocalId'](),'nodeType':this['localNode']['type']}):_0x24a63b[_0x31cc77(0x659)]('appsync-statechange',{'clusterId':this[_0x31cc77(0x853)],'nodeId':this[_0x31cc77(0x63f)](),'nodeType':this[_0x31cc77(0x894)][_0x31cc77(0x200)],'data':{'state':_0xc25e1c['connectionState']}});}});}catch(_0x3c9d28){_0x24a63b[_0x542abf(0x2d0)]('appsync-connect-fail',{'clusterId':this[_0x542abf(0x853)],'nodeId':this[_0x542abf(0x63f)](),'nodeType':this['localNode']['type']});}}[_0x148812(0x6ac)](){const _0x192dbb=_0x148812;_0x24a63b[_0x192dbb(0x659)](_0x192dbb(0x978),{'clusterId':this[_0x192dbb(0x853)],'nodeId':this[_0x192dbb(0x63f)](),'nodeType':this['localNode'][_0x192dbb(0x200)]}),this[_0x192dbb(0x440)]['clear'](),this[_0x192dbb(0x903)]?.(),this[_0x192dbb(0x711)]?.[_0x192dbb(0x4a0)](),delete this[_0x192dbb(0x711)];}['isConnected'](){const _0x9bf590=_0x148812;return this[_0x9bf590(0x754)]===_0x78d6c7[_0x9bf590(0x197)]['Connected'];}[_0x148812(0x6aa)](_0x34844e){const _0x57d3fe=_0x148812;this[_0x57d3fe(0x440)]['push'](_0x34844e);}[_0x148812(0x763)](_0x2bbf60){const _0x2e7241=_0x148812;return this[_0x2e7241(0x331)][_0x2e7241(0x360)](_0x2bbf60);}[_0x148812(0x12c)](){const _0x544a74=_0x148812;return[_0x366c21[_0x544a74(0x8a4)][_0x544a74(0x660)]];}async[_0x148812(0x524)](){if(!this['isConnected']())return new Promise(_0xc6166a=>{const _0x543bb6=a0_0x53e8,_0x5315ab=this[_0x543bb6(0x87c)]['subscribe'](_0x187d5c=>{const _0x206847=_0x543bb6;_0x187d5c===_0x78d6c7['ConnectionState'][_0x206847(0x4da)]&&(_0x5315ab(),_0xc6166a());});});}async[_0x148812(0x843)](_0x3302ac){const _0x7f476e=_0x148812;if(this['connectionState']!==_0x78d6c7[_0x7f476e(0x197)][_0x7f476e(0x4da)])throw new Error(_0x7f476e(0x3bd));_0x3302ac[_0x7f476e(0x389)]&&0x1===_0x3302ac[_0x7f476e(0x389)]['length']?await this[_0x7f476e(0x5a3)](_0x3302ac[_0x7f476e(0x389)][0x0],JSON[_0x7f476e(0x605)](_0x3302ac)):_0x24a63b[_0x7f476e(0x2d0)](_0x7f476e(0x644),{'clusterId':this[_0x7f476e(0x853)],'nodeId':this[_0x7f476e(0x63f)](),'nodeType':this[_0x7f476e(0x894)]['type']});}async[_0x148812(0x5a3)](_0x4533bf,_0x4e3b43){const _0x601c6=_0x148812;if(!this[_0x601c6(0x596)])throw new Error(_0x601c6(0x7a3));_0x24a63b['log'](_0x306624[_0x601c6(0x2f1)],'AppSync\x20publish',this[_0x601c6(0x63f)](),_0x4e3b43),await this['client'][_0x601c6(0x8d2)]({'query':_0x601c6(0x837),'variables':{'name':await this[_0x601c6(0x94b)](_0x4533bf),'data':_0x4e3b43}});}async[_0x148812(0x360)](){const _0x22d642=_0x148812;if(this[_0x22d642(0x711)])return;if(!this[_0x22d642(0x596)])throw new Error(_0x22d642(0x7a3));_0x24a63b[_0x22d642(0x14c)](_0x306624[_0x22d642(0x2f1)],'AppSync\x20subscribe',this['getLocalId']());const _0xaab1da=await this[_0x22d642(0x596)][_0x22d642(0x8d2)]({'query':_0x22d642(0x3c3),'variables':{'name':await this[_0x22d642(0x94b)]()},'authToken':await this['authService'][_0x22d642(0x56f)]()},{'Authorization':await this['authService'][_0x22d642(0x56f)]()});this['subscription']=_0xaab1da[_0x22d642(0x360)]({'next':({data:_0x1b7d32})=>{const _0x3646f6=_0x22d642,_0x3a3ea2=JSON[_0x3646f6(0x3d3)](_0x1b7d32['subscribe'][_0x3646f6(0x912)]);!_0x24bc38(_0x3a3ea2,this['getLocalId']())&&_0x3de2cb(_0x3a3ea2,this['getLocalId']())&&this[_0x3646f6(0x331)][_0x3646f6(0x5a3)](_0x3a3ea2);},'error':console[_0x22d642(0x14c)]});}async[_0x148812(0x94b)](_0x583eb1){const _0x26e0e5=_0x148812,_0x18af5f=await crypto[_0x26e0e5(0x3f7)][_0x26e0e5(0x9b)](_0x26e0e5(0x90f),new TextEncoder()[_0x26e0e5(0x6b9)](this['vendorId']+'-'+this['clusterId']+'-'+(_0x583eb1??this[_0x26e0e5(0x63f)]())));return Array[_0x26e0e5(0x928)](new Uint8Array(_0x18af5f))['map'](_0x176cc7=>_0x176cc7[_0x26e0e5(0x551)](0x10)[_0x26e0e5(0x1b1)](0x2,'0'))[_0x26e0e5(0x3b0)]('');}}!function(_0x26ba82){const _0x2e9762=_0x148812;_0x26ba82[_0x26ba82['Add']=0x0]=_0x2e9762(0x647),_0x26ba82[_0x26ba82[_0x2e9762(0xfb)]=0x1]='Remove',_0x26ba82[_0x26ba82[_0x2e9762(0x83)]=0x2]=_0x2e9762(0x83),_0x26ba82[_0x26ba82[_0x2e9762(0x161)]=0x3]=_0x2e9762(0x161),_0x26ba82[_0x26ba82[_0x2e9762(0x642)]=0x4]=_0x2e9762(0x642);}(_0x4decb1||(_0x4decb1={}));const _0x3fb59f='0',_0x3abae5=_0x148812(0xb7),_0x54c59c=_0x13cfd0,_0x31103e=0xbe800;class _0x3139a5{['clusterId'];[_0x148812(0x894)];[_0x148812(0x89a)];['iceServers'];[_0x148812(0x3ad)];[_0x148812(0x19f)];[_0x148812(0x3e9)];[_0x148812(0x268)];[_0x148812(0x2a7)]=0x1;[_0x148812(0x3eb)];[_0x148812(0x167)]=[];['pendingHandshakeCandidates']=[];[_0x148812(0x2cc)];constructor(_0x40fa94,_0x3cefbb,_0xa60a25,_0xf8b7cd,_0x3af983,_0x37432c){const _0x31289f=_0x148812;this[_0x31289f(0x853)]=_0x40fa94,this[_0x31289f(0x894)]=_0x3cefbb,this[_0x31289f(0x89a)]=_0xa60a25,this['iceServers']=_0xf8b7cd,this[_0x31289f(0x3ad)]=_0x3af983,this[_0x31289f(0x19f)]=_0x37432c,this['connection']=new this['connectionConstructor']({'handshakeServers':this['iceServers']}),this[_0x31289f(0x8d6)]();}[_0x148812(0x6ac)](){this['stopConnection']();}[_0x148812(0x4de)](_0x27ae11){const _0xd13043=_0x148812;this[_0xd13043(0x3ad)]=_0x27ae11;}async[_0x148812(0x394)](_0x56536b,_0x4f7660){const _0x4b123b=_0x148812;if(_0x4f7660===this['currentVersion'])for(const _0x38a66f of _0x56536b){if(!this['connection'][_0x4b123b(0x777)])return this[_0x4b123b(0x171)](_0x38a66f);try{await this[_0x4b123b(0x3e9)]['addCandidate'](_0x38a66f);}catch(_0x13c1a4){this[_0x4b123b(0x171)](_0x38a66f);}}}[_0x148812(0x89c)](){const _0x145b29=_0x148812;return this[_0x145b29(0x2f5)](),_0x145b29(0x7b9)===this[_0x145b29(0x3e9)][_0x145b29(0x754)]&&[_0x145b29(0x7b9),_0x145b29(0x821)][_0x145b29(0x523)](this['connection'][_0x145b29(0x190)])&&_0x145b29(0x628)!==this[_0x145b29(0x3e9)][_0x145b29(0x948)]&&'open'===this[_0x145b29(0x268)]?.['state'];}[_0x148812(0x364)](_0x2c4211){this['systemTopic']=_0x2c4211;}['unregisterSystemPublisher'](){const _0x518494=_0x148812;delete this[_0x518494(0x3eb)];}[_0x148812(0x935)](_0x20c6ad){const _0x59c4bd=_0x148812;this['stopConnection'](),this[_0x59c4bd(0x3e9)]=new this['connectionConstructor']({'handshakeServers':this[_0x59c4bd(0x106)]}),_0x20c6ad?this[_0x59c4bd(0x2a7)]=_0x20c6ad:this[_0x59c4bd(0x2a7)]+=0x1,this[_0x59c4bd(0x8d6)]();}[_0x148812(0xaf)](){const _0x2da849=_0x148812;this[_0x2da849(0x31b)]['forEach'](_0x1a939f=>{const _0x35d7fc=_0x2da849;try{this[_0x35d7fc(0x3e9)]['addCandidate'](_0x1a939f);}catch(_0x4aa461){}}),this[_0x2da849(0x31b)]=[];}[_0x148812(0x2e3)](_0x7e32e3,_0x5df98c){const _0x1fa718=_0x148812;if(!this[_0x1fa718(0x3eb)])throw new _0x864d50(_0x864d50[_0x1fa718(0x753)][_0x1fa718(0x4c2)],{'content':_0x7e32e3});const _0xc1a919={'sourceId':this['localNode'][_0x1fa718(0x114)](),'destinationIds':[this['remoteId']],'propagate':this['connectionType']!==_0x222324['Core'],'retry':this[_0x1fa718(0x3ad)]!==_0x222324['Core'],'messageType':_0x427f74[_0x1fa718(0x891)],'content':_0x7e32e3};_0x5df98c&&(_0xc1a919[_0x1fa718(0x48b)]=_0x5df98c),this[_0x1fa718(0x3eb)][_0x1fa718(0x5a3)](_0xc1a919);}[_0x148812(0x8d6)](){const _0x34e3ed=_0x148812;this[_0x34e3ed(0x3e9)][_0x34e3ed(0x8af)]=()=>{const _0x23a57f=_0x34e3ed;_0x23a57f(0x8c)===this[_0x23a57f(0x3e9)][_0x23a57f(0x5d2)]&&this[_0x23a57f(0x167)][_0x23a57f(0x6a1)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this['handshakeDebounce']),this[_0x23a57f(0x2cc)]=setTimeout(()=>{const _0x10d76e=_0x23a57f;delete this[_0x10d76e(0x2cc)],this[_0x10d76e(0x3de)](),this[_0x10d76e(0x167)]=[];},0x1f4));},this[_0x34e3ed(0x3e9)][_0x34e3ed(0x829)]=_0x1b9db7=>{const _0x53b6d4=_0x34e3ed;_0x1b9db7[_0x53b6d4(0x96b)]&&this[_0x53b6d4(0x167)][_0x53b6d4(0x5dc)](_0x1b9db7[_0x53b6d4(0x96b)]);};}[_0x148812(0x6d8)](){const _0x1c2bcf=_0x148812;clearTimeout(this[_0x1c2bcf(0x2cc)]),delete this[_0x1c2bcf(0x2cc)],this[_0x1c2bcf(0x167)]=[],this['pendingHandshakeCandidates']=[],this[_0x1c2bcf(0x268)]&&(this[_0x1c2bcf(0x268)][_0x1c2bcf(0x763)]=null,this['dataChannel']['onClose']=null,this['dataChannel'][_0x1c2bcf(0x6ac)](),delete this[_0x1c2bcf(0x268)]),this[_0x1c2bcf(0x3e9)]['onGatheringStateChange']=null,this[_0x1c2bcf(0x3e9)][_0x1c2bcf(0x829)]=null,this['connection'][_0x1c2bcf(0x32e)]=null,this[_0x1c2bcf(0x3e9)][_0x1c2bcf(0x1b0)]=null,this[_0x1c2bcf(0x3e9)][_0x1c2bcf(0x79c)]=null,this[_0x1c2bcf(0x3e9)][_0x1c2bcf(0x83e)]=null,this[_0x1c2bcf(0x3e9)][_0x1c2bcf(0x6ac)]();}['addPendingHandshakeCandidate'](_0x152264){this['pendingHandshakeCandidates']['push'](_0x152264);}[_0x148812(0x2f5)](){const _0x536595=_0x148812;_0x24a63b['log'](_0x306624['ConnectionState'],'Base\x20Peer\x20Connection',{'localId':this[_0x536595(0x894)][_0x536595(0x114)](),'remoteId':this['remoteId'],'connectionState':this[_0x536595(0x3e9)]['connectionState'],'handshakeState':this['connection'][_0x536595(0x190)],'signalingState':this['connection'][_0x536595(0x948)],'dataChannelState':this[_0x536595(0x268)]?.['state']});}}function _0x4c4180(_0x287e5a,_0x489b20){const _0x32091f=_0x148812;_0x489b20[_0x32091f(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x32091f(0x891)],'content':_0x287e5a});}class _0x1bdf97{static [_0x148812(0x39b)];['parameters']=[];[_0x148812(0x939)];constructor(){setInterval(()=>{const _0x1322c7=a0_0x53e8;this[_0x1322c7(0x591)][_0x1322c7(0x6bf)](_0x414965=>{const _0x2c576b=_0x1322c7;if(Date[_0x2c576b(0x847)]()-_0x414965[_0x2c576b(0x97)]>_0x414965['interval']){try{_0x414965[_0x2c576b(0x581)]();}catch(_0x469fe7){}_0x414965[_0x2c576b(0x97)]=Date[_0x2c576b(0x847)]();}});},0x64);}static['getInstance'](){const _0x114e32=_0x148812;return _0x1bdf97[_0x114e32(0x39b)]||(_0x1bdf97[_0x114e32(0x39b)]=new _0x1bdf97()),_0x1bdf97[_0x114e32(0x39b)];}[_0x148812(0x961)](_0x5a2e9e){const _0x38ac83=_0x148812,_0x265a44=this[_0x38ac83(0x865)](_0x5a2e9e),_0x55571a=_0x5a2e9e[_0x38ac83(0x55d)]();_0x55571a&&_0x265a44&&(_0x55571a[_0x38ac83(0x13c)][_0x38ac83(0x33d)]=0.001,_0x265a44[_0x38ac83(0x2b8)](_0x55571a),_0x55571a['connect'](_0x5a2e9e['destination']),_0x265a44['start']());}[_0x148812(0x914)](){const _0x71e5a8=_0x148812;this[_0x71e5a8(0x939)]&&(this['source'][_0x71e5a8(0x1bc)](),this[_0x71e5a8(0x939)][_0x71e5a8(0x94d)](),this[_0x71e5a8(0x939)]=void 0x0);}['wait'](_0x359104){return new Promise(_0x449f43=>{setTimeout(_0x449f43,_0x359104);});}[_0x148812(0x511)](_0x248ad1,_0x13c237){const _0x4a01fb=_0x148812;return this[_0x4a01fb(0x591)][_0x4a01fb(0x5dc)]({'callback':_0x248ad1,'interval':_0x13c237,'lastExecuted':Date[_0x4a01fb(0x847)]()}),()=>{const _0x3c982f=_0x4a01fb;this[_0x3c982f(0x591)]=this[_0x3c982f(0x591)][_0x3c982f(0x5b5)](_0x4a2699=>_0x4a2699[_0x3c982f(0x581)]!==_0x248ad1);};}['createConstantSource'](_0x207c7d){const _0xeba562=_0x148812;if(_0x207c7d[_0xeba562(0x865)])return _0x207c7d[_0xeba562(0x865)]();const _0x3e5b2f=_0x207c7d[_0xeba562(0x4d9)](),_0x4046e4=_0x207c7d[_0xeba562(0x81c)](0x1,0x1,_0x207c7d[_0xeba562(0x985)]);return _0x4046e4['getChannelData'](0x0)[0x0]=0xa,_0x3e5b2f['buffer']=_0x4046e4,_0x3e5b2f[_0xeba562(0x73e)]=!0x0,_0x3e5b2f;}}const _0x1d7287=_0x1bdf97[_0x148812(0x3bf)]();class _0x2fee97 extends _0x3139a5{[_0x148812(0x2b4)]=_0x127104();[_0x148812(0x2be)]=_0x127104();['removeTrackCallback']=_0x127104();['receivers']=new Map();[_0x148812(0x3fa)]=new Map();[_0x148812(0xf6)];[_0x148812(0x8f7)]=0x0;[_0x148812(0x339)]={'messages':{'total':0x0}};[_0x148812(0x811)]=0x0;[_0x148812(0x7ef)]=0x0;[_0x148812(0xc4)]=_0x2b0f8b('ReceiverPeerConnection.onMessage',_0x306624[_0x148812(0x50f)]);[_0x148812(0x6ac)](){const _0x3931f4=_0x148812;this[_0x3931f4(0x22a)](),this[_0x3931f4(0x71e)][_0x3931f4(0x970)](),super[_0x3931f4(0x6ac)]();}async['handleOffer'](_0x131b2d,_0x41bd27){const _0xdd15e2=_0x148812;this[_0xdd15e2(0x2a7)]=_0x41bd27,this[_0xdd15e2(0x22a)]();const _0x2b8ce7=await this['connection'][_0xdd15e2(0x920)](_0x131b2d);this[_0xdd15e2(0xaf)]();const _0x2c219e=(0x0,_0x12e752['v4'])();this[_0xdd15e2(0x2e3)]({'type':_0x4c498b[_0xdd15e2(0x6c0)],'answer':_0x2b8ce7,'version':_0x41bd27,'connectionType':this['connectionType']},_0x2c219e),this[_0xdd15e2(0x3ad)]===_0x222324['Core']&&(this[_0xdd15e2(0xf6)]=_0x1d7287['setInterval'](()=>{const _0x5e3763=_0xdd15e2;this[_0x5e3763(0x2e3)]({'type':_0x4c498b['Answer'],'answer':_0x2b8ce7,'version':_0x41bd27,'connectionType':this[_0x5e3763(0x3ad)]},_0x2c219e);},0x1388));}[_0x148812(0x640)](){const _0x48c619=_0x148812;this[_0x48c619(0x22a)]();}[_0x148812(0x507)](_0x23b9ca){const _0x2eccb4=_0x148812;this['resetConnection'](_0x23b9ca),this[_0x2eccb4(0x2e3)]({'type':_0x4c498b['Restart']});}async[_0x148812(0x425)](){const _0x39952f=_0x148812;this[_0x39952f(0x3eb)]&&(await this[_0x39952f(0x3e9)][_0x39952f(0x5ff)](this['receivers'],(_0x48c806,_0x3d727b)=>{const _0x8e295e=_0x39952f;_0x4c4180({'type':_0x4c498b['Stats'],'streamId':_0x3d727b,'nodeId':this[_0x8e295e(0x89a)],'stats':_0x48c806},this[_0x8e295e(0x3eb)]);}),this['systemTopic']['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x39952f(0x891)],'content':{'type':_0x4c498b[_0x39952f(0x7b0)],'nodeId':this['remoteId'],'stats':{'origin':_0x12853b['Receiver'],'timestamp':Date['now'](),'messagesReceived':this[_0x39952f(0x8f7)],'bytesReceived':this[_0x39952f(0x811)],'timeReceiving':this[_0x39952f(0x7ef)],'systemMessages':this[_0x39952f(0x339)]}}}));}[_0x148812(0x763)](_0x357153){const _0x292eb1=_0x148812;return _0x452d67[_0x292eb1(0x3a6)]?this[_0x292eb1(0x2b4)][_0x292eb1(0x360)](_0x357153):this[_0x292eb1(0x2b4)]['subscribe'](_0x1c0e2b=>{const _0x1b1b5a=_0x292eb1;0x0===_0x1c0e2b[_0x1b1b5a(0x2ef)]&&_0x1c0e2b[_0x1b1b5a(0x373)]===_0x427f74[_0x1b1b5a(0x1c4)]&&this[_0x1b1b5a(0xc4)][_0x1b1b5a(0x375)][_0x1b1b5a(0x14c)]('ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20'+this[_0x1b1b5a(0x89a)],()=>_0x51b6c3(_0x1c0e2b)),_0x357153(_0x1c0e2b);});}[_0x148812(0x79c)](_0x152eaa){const _0x5c56eb=_0x148812;return this[_0x5c56eb(0x2be)][_0x5c56eb(0x360)](({track:_0x2944c5,stream:_0x192dcb})=>_0x152eaa(_0x2944c5,_0x192dcb));}['onRemoveTrack'](_0x3bc5e1){const _0x3ce13f=_0x148812;return this['removeTrackCallback'][_0x3ce13f(0x360)](({track:_0x27ece3,stream:_0x475466})=>_0x3bc5e1(_0x27ece3,_0x475466));}[_0x148812(0x935)](_0x5562e6){const _0x406702=_0x148812;this[_0x406702(0x22a)](),this[_0x406702(0x71e)][_0x406702(0x6bf)](_0x2c6462=>{_0x2c6462['clear']();}),super[_0x406702(0x935)](_0x5562e6);}[_0x148812(0x3de)](){const _0x17823f=_0x148812;this[_0x17823f(0x2e3)]({'type':_0x4c498b['Handshake'],'candidates':this[_0x17823f(0x167)],'origin':_0x12853b[_0x17823f(0x71d)],'version':this[_0x17823f(0x2a7)],'connectionType':this['connectionType']});}['setupConnectionEvents'](){const _0x1a4ef8=_0x148812;super[_0x1a4ef8(0x8d6)](),this[_0x1a4ef8(0x3e9)][_0x1a4ef8(0x79c)]=_0x4e070f=>{const _0x4f4ef3=_0x1a4ef8;_0x24a63b[_0x4f4ef3(0x14c)](_0x306624['Connection'],_0x4f4ef3(0x67a),this['localNode'][_0x4f4ef3(0x114)](),_0x4e070f),_0x4e070f[_0x4f4ef3(0x1fa)][0x0]['onremovetrack']=_0x131716=>{const _0x45b2fb=_0x4f4ef3;this[_0x45b2fb(0x71e)][_0x45b2fb(0x792)](_0x4e070f[_0x45b2fb(0x1fa)][0x0]['id'])?.['delete'](_0x131716['track']),0x0===this[_0x45b2fb(0x71e)][_0x45b2fb(0x792)](_0x4e070f[_0x45b2fb(0x1fa)][0x0]['id'])?.[_0x45b2fb(0x33c)]&&this[_0x45b2fb(0x71e)][_0x45b2fb(0x91b)](_0x4e070f[_0x45b2fb(0x1fa)][0x0]['id']),this['removeTrackCallback']['publish']({'track':_0x131716['track'],'stream':_0x4e070f['streams'][0x0]});},this['receivers']['has'](_0x4e070f[_0x4f4ef3(0x1fa)][0x0]['id'])||this['receivers'][_0x4f4ef3(0x6b3)](_0x4e070f[_0x4f4ef3(0x1fa)][0x0]['id'],new Set()),this[_0x4f4ef3(0x71e)][_0x4f4ef3(0x792)](_0x4e070f[_0x4f4ef3(0x1fa)][0x0]['id'])[_0x4f4ef3(0x96d)](_0x4e070f[_0x4f4ef3(0x6a7)]),this[_0x4f4ef3(0x2be)][_0x4f4ef3(0x5a3)]({'track':_0x4e070f['track'],'stream':_0x4e070f['streams'][0x0]});},this['connection'][_0x1a4ef8(0x83e)]=_0x12282b=>{const _0x54db61=_0x1a4ef8;this[_0x54db61(0x268)]=_0x12282b[_0x54db61(0x3fe)],this[_0x54db61(0x268)][_0x54db61(0x763)]=_0x10d33c=>{const _0x1fd73f=_0x54db61;if(_0x10d33c[_0x1fd73f(0x912)]!==_0x3fb59f)this[_0x1fd73f(0x606)](_0x10d33c[_0x1fd73f(0x912)]);else{if(!this[_0x1fd73f(0x268)])return void _0x24a63b['error'](_0x1fd73f(0x849),{'clusterId':this[_0x1fd73f(0x853)],'nodeId':this['localNode'][_0x1fd73f(0x114)](),'nodeType':this[_0x1fd73f(0x894)][_0x1fd73f(0x200)],'remoteId':this[_0x1fd73f(0x89a)],'data':{'connection':_0x1fd73f(0x45d)}});if(_0x1fd73f(0x29a)!==this['dataChannel'][_0x1fd73f(0x701)])return;this[_0x1fd73f(0x268)]['send']('1');}};};}[_0x148812(0x606)](_0x5863c8){const _0x112932=_0x148812;if(_0x112932(0x53a)==typeof _0x5863c8&&_0x5863c8['startsWith'](_0x3abae5))return this[_0x112932(0x8f7)]+=0x1,this[_0x112932(0x811)]+=_0x5863c8[_0x112932(0x6a1)],this[_0x112932(0x721)](_0x5863c8);setTimeout(()=>{const _0x283533=_0x112932,_0x3aff08=Date[_0x283533(0x847)]();let _0x246313;if((_0x5863c8 instanceof ArrayBuffer||_0x5863c8['length']<=_0x54c59c)&&(this['messagesReceived']+=0x1,this[_0x283533(0x811)]+=_0x5863c8 instanceof ArrayBuffer?_0x5863c8[_0x283533(0x5a5)]:_0x5863c8[_0x283533(0x6a1)]),_0x5863c8 instanceof ArrayBuffer){const [_0x3756fa,_0x11cdec]=this['splitParts'](_0x5863c8);_0x246313=_0x3756fa,_0x246313[_0x283533(0x92a)][_0x283533(0x912)]=_0x11cdec;}else _0x246313=JSON[_0x283533(0x3d3)](_0x5863c8);if(0x0===_0x246313[_0x283533(0x2ef)]){this[_0x283533(0x339)][_0x283533(0x553)][_0x283533(0x94f)]+=0x1;const {systemMessageType:_0x2415c7,systemContentMessageType:_0x565c0f}=_0x51b6c3(_0x246313);this['systemMessagesReceived'][_0x2415c7]||(this[_0x283533(0x339)][_0x2415c7]={[_0x565c0f]:0x0}),this[_0x283533(0x339)][_0x2415c7][_0x565c0f]||(this[_0x283533(0x339)][_0x2415c7][_0x565c0f]=0x0),this[_0x283533(0x339)][_0x2415c7][_0x283533(0x94f)]||(this['systemMessagesReceived'][_0x2415c7][_0x283533(0x94f)]=0x0),this[_0x283533(0x339)][_0x2415c7][_0x565c0f]+=0x1,this[_0x283533(0x339)][_0x2415c7]['total']+=0x1;}this[_0x283533(0x2b4)][_0x283533(0x5a3)](_0x246313),this['timeReceiving']+=Date[_0x283533(0x847)]()-_0x3aff08;},0x0);}['handleChunkMessage'](_0xea2c1c){const _0x3b2f81=_0x148812,_0x55e0f4=_0xea2c1c[_0x3b2f81(0x3ea)](';'),_0xe09939=_0x55e0f4[0x1],_0x3b1767=parseInt(_0x55e0f4[0x2],0xa),_0xc28734=parseInt(_0x55e0f4[0x3],0xa),_0x432954=_0xea2c1c[_0x3b2f81(0x10f)](_0x3abae5+';'+_0xe09939+';'+_0x3b1767+';'+_0xc28734+';','');this[_0x3b2f81(0x3fa)][_0x3b2f81(0x31f)](_0xe09939)||this['chunks']['set'](_0xe09939,[]);const _0x2d7b8f=this[_0x3b2f81(0x3fa)][_0x3b2f81(0x792)](_0xe09939);_0x2d7b8f[_0x3b1767]=_0x432954,_0x2d7b8f[_0x3b2f81(0x6a1)]===_0xc28734&&(this['handleOnMessage'](_0x2d7b8f[_0x3b2f81(0x3b0)]('')),this[_0x3b2f81(0x3fa)]['delete'](_0xe09939));}[_0x148812(0x22a)](){const _0x486157=_0x148812;this[_0x486157(0xf6)]?.(),delete this[_0x486157(0xf6)];}[_0x148812(0x139)](_0x2095c8){const _0x3dca50=_0x148812,_0x5f253a=new TextDecoder()['decode'](_0x2095c8);return JSON[_0x3dca50(0x3d3)](_0x5f253a);}[_0x148812(0x7c0)](_0x3e3d34){const _0x5cb6cd=_0x148812,_0x478858=new Uint8Array(_0x3e3d34[_0x5cb6cd(0x234)](0x0,0x4)),_0x436b5c=new Uint32Array(_0x478858['buffer'])[0x0],_0x37ea2a=new Uint8Array(_0x3e3d34[_0x5cb6cd(0x234)](0x4,0x4+_0x436b5c)),_0xe5b407=new Uint8Array(_0x3e3d34[_0x5cb6cd(0x234)](0x4+_0x436b5c));return[this[_0x5cb6cd(0x139)](_0x37ea2a[_0x5cb6cd(0x297)]),_0xe5b407[_0x5cb6cd(0x297)]];}}const _0x3e528d=0xc350;var _0x4e3001,_0x43bb47;!function(_0x2cb2d5){const _0x3ecc16=_0x148812;_0x2cb2d5[_0x2cb2d5['High']=0x0]=_0x3ecc16(0x30c),_0x2cb2d5[_0x2cb2d5[_0x3ecc16(0x766)]=0x1]=_0x3ecc16(0x766),_0x2cb2d5[_0x2cb2d5[_0x3ecc16(0x87b)]=0x2]=_0x3ecc16(0x87b);}(_0x4e3001||(_0x4e3001={}));class _0x109f11 extends _0x3139a5{[_0x148812(0xe6)];['maxBpp'];[_0x148812(0x38d)]=new Map();[_0x148812(0x93)];['waitAnswer'];[_0x148812(0x7cc)];[_0x148812(0x911)]=!0x1;['connectionTimeout'];[_0x148812(0x241)];[_0x148812(0x5e1)];[_0x148812(0x440)]=function(e,t=_0x4e3001,s=!0x1){const _0x1ed677=_0x148812;let n=!0x1;const i=[];async function o(){const _0x3709d9=a0_0x53e8;if(!n){for(n=!0x0;i[_0x3709d9(0x794)](e=>e[_0x3709d9(0x39d)]);){let t,n=0x0;for(const [e,s]of i[_0x3709d9(0x653)]())if(t=s[_0x3709d9(0x4cd)](),n=e,t)break;if(t)try{if(e instanceof _0x456bd6&&e[_0x3709d9(0x34c)](t),e instanceof _0x43d967&&await e[_0x3709d9(0x34c)](t),i[_0x3709d9(0x234)](-0x1)[_0x3709d9(0x794)](e=>e[_0x3709d9(0x39d)]))continue;const s=i[_0x3709d9(0x6a1)]-0x1;n===s&&i[s]['head']&&await _0x1d7287[_0x3709d9(0x86e)](0x0);}catch(o){s?i[n][_0x3709d9(0x5dc)](t,!0x1):i[n][_0x3709d9(0x7dc)](t,!0x1),await e[_0x3709d9(0x86e)]();}}n=!0x1;}}return Object['values'](t)[_0x1ed677(0x6bf)](e=>{const _0x28a72c=_0x1ed677;_0x28a72c(0x53a)!=typeof e&&(i[e]=_0x3bf673(o));}),{'queues':i};}(new _0x456bd6(this[_0x148812(0x843)][_0x148812(0x949)](this),this[_0x148812(0x8e8)][_0x148812(0x949)](this)));[_0x148812(0x2a4)]=0x0;[_0x148812(0x64a)]=0x0;[_0x148812(0x582)]=0x0;[_0x148812(0x2ee)]=0x0;[_0x148812(0x838)];[_0x148812(0xc4)]=_0x2b0f8b(_0x148812(0x2bb),_0x306624[_0x148812(0x795)]);constructor(_0x55a6cd,_0x229f0a,_0x1b3513,_0x20062e,_0x23ee4b,_0x22b19,_0x361f17,_0x1d3b85){const _0xb1d50a=_0x148812;super(_0x55a6cd,_0x229f0a,_0x1b3513,_0x20062e,_0x23ee4b,_0x1d3b85),this['maxFps']=_0x22b19,this[_0xb1d50a(0x323)]=_0x361f17;}['close'](){const _0x48be97=_0x148812;this['clearUpgradeTimeout'](),this[_0x48be97(0x27c)](),delete this['lastHeartbeat'],this[_0x48be97(0x22e)](),this[_0x48be97(0x5d9)](),this[_0x48be97(0x247)](),this['senders']['clear'](),this[_0x48be97(0x911)]=!0x1,this[_0x48be97(0x440)]['queues'][_0x48be97(0x6bf)](_0x2d5ae4=>_0x2d5ae4[_0x48be97(0x970)]()),this[_0x48be97(0x4c1)](),super[_0x48be97(0x6ac)]();}[_0x148812(0x89c)](){const _0x5ba7c9=_0x148812;return!!this['lastHeartbeat']&&super[_0x5ba7c9(0x89c)]()&&Date['now']()-this['lastHeartbeat']<0x3a98;}async[_0x148812(0x425)](){const _0x276447=_0x148812;this[_0x276447(0x3eb)]&&(await this['connection']['collectSendersStats'](this[_0x276447(0x38d)],(_0x294c3e,_0xa70339)=>{const _0x3384d4=_0x276447;_0x4c4180({'type':_0x4c498b[_0x3384d4(0x7b0)],'streamId':_0xa70339,'nodeId':this[_0x3384d4(0x89a)],'stats':_0x294c3e},this['systemTopic']);}),this['systemTopic']['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74['PeerConnection'],'content':{'type':_0x4c498b[_0x276447(0x7b0)],'nodeId':this[_0x276447(0x89a)],'stats':{'origin':_0x12853b[_0x276447(0x879)],'timestamp':Date['now'](),'messagesSent':this[_0x276447(0x2a4)],'bytesSent':this[_0x276447(0x64a)],'timeSending':this[_0x276447(0x582)],'roundTripTime':this[_0x276447(0x2ee)]}}}));}async['createOffer'](_0x258247){const _0x50b5e0=_0x148812;_0x24a63b['log'](_0x306624[_0x50b5e0(0x109)],_0x50b5e0(0x908),this[_0x50b5e0(0x894)][_0x50b5e0(0x114)](),this['remoteId']),this[_0x50b5e0(0x22e)](),this['clearConnectionTimeout'](),this['clearWaitAnswer'](),this[_0x50b5e0(0x776)]=setTimeout(()=>{const _0x194adc=_0x50b5e0;this[_0x194adc(0x1e7)]();},0x7530),this[_0x50b5e0(0x268)]||(this[_0x50b5e0(0x268)]=this['connection'][_0x50b5e0(0x462)](_0x50b5e0(0x912)),this[_0x50b5e0(0x268)]['bufferedAmountLowThreshold']=_0x31103e,this['dataChannel'][_0x50b5e0(0x53d)]=()=>{const _0x1c2a78=_0x50b5e0;this[_0x1c2a78(0x838)]=setTimeout(()=>{const _0x52974f=_0x1c2a78;delete this[_0x52974f(0x838)],[_0x52974f(0x987),_0x52974f(0x29a)][_0x52974f(0x523)](this['dataChannel']?.[_0x52974f(0x701)]??'')||this[_0x52974f(0x1e7)]();},0xfa);});const _0x2fc618=await this[_0x50b5e0(0x3e9)][_0x50b5e0(0x5c6)](_0x258247);this[_0x50b5e0(0x7cc)]||(this[_0x50b5e0(0x7cc)]=Date[_0x50b5e0(0x847)]());const _0x179a89=(0x0,_0x12e752['v4'])();this[_0x50b5e0(0x2e3)]({'type':_0x4c498b[_0x50b5e0(0x531)],'offer':_0x2fc618,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x179a89),this[_0x50b5e0(0x3ad)]===_0x222324[_0x50b5e0(0x222)]&&(this[_0x50b5e0(0x96)]=_0x1d7287['setInterval'](()=>{const _0x193fda=_0x50b5e0;this[_0x193fda(0x2e3)]({'type':_0x4c498b[_0x193fda(0x531)],'offer':_0x2fc618,'version':this[_0x193fda(0x2a7)],'connectionType':this[_0x193fda(0x3ad)]},_0x179a89);},0x1388));}async['handleAnswer'](_0x42e6fe,_0x53710a){const _0x4d369c=_0x148812;if(_0x53710a===this[_0x4d369c(0x2a7)]){this['clearWaitAnswer']();try{await this[_0x4d369c(0x3e9)][_0x4d369c(0x5df)](_0x42e6fe,this['createOffer'][_0x4d369c(0x949)](this)),this['processPendingHandshakeCandidates'](),this['clearConnectionTimeout'](),this['startHeartbeat']();}catch(_0x195a31){this[_0x4d369c(0x1e7)]();}}}['send'](_0x56b805){const _0x8d3006=_0x148812;if(!this[_0x8d3006(0x268)])throw new _0x864d50(_0x864d50[_0x8d3006(0x753)][_0x8d3006(0xa0)],{'message':_0x8d3006(0x23b),'localId':this['localNode'][_0x8d3006(0x114)](),'remoteId':this[_0x8d3006(0x89a)],'eventMessage':_0x56b805});if(_0x8d3006(0x29a)!==this['dataChannel']['state'])throw new _0x864d50(_0x864d50[_0x8d3006(0x753)][_0x8d3006(0xa0)],{'message':_0x8d3006(0x424),'localId':this[_0x8d3006(0x894)]['getId'](),'remoteId':this[_0x8d3006(0x89a)],'eventMessage':_0x56b805});let _0x2a2a66;if(_0x56b805['content']['data']instanceof ArrayBuffer){const _0x59e4f3=_0x56b805[_0x8d3006(0x92a)][_0x8d3006(0x912)];_0x56b805={..._0x56b805,'content':{..._0x56b805[_0x8d3006(0x92a)],'data':void 0x0}},_0x2a2a66=this[_0x8d3006(0x8bf)](_0x56b805,_0x59e4f3);}else _0x2a2a66=JSON['stringify'](_0x56b805);if(_0x8d3006(0x53a)==typeof _0x2a2a66&&_0x2a2a66['length']>_0x54c59c)return this[_0x8d3006(0x88d)](_0x56b805,_0x2a2a66);0x0===_0x56b805['topicLabel']&&_0x56b805['messageType']===_0x427f74[_0x8d3006(0x1c4)]&&this[_0x8d3006(0xc4)][_0x8d3006(0x375)][_0x8d3006(0x7d3)](()=>_0x24a63b[_0x8d3006(0x14c)](_0x306624[_0x8d3006(0x795)],_0x8d3006(0xdf),this[_0x8d3006(0x89a)],_0x51b6c3(_0x56b805)),void 0x0);const _0x1c7761=0x0===_0x56b805[_0x8d3006(0x2ef)]&&[_0x427f74[_0x8d3006(0x737)],_0x427f74[_0x8d3006(0x891)]][_0x8d3006(0x523)](_0x56b805[_0x8d3006(0x373)])?_0x4e3001[_0x8d3006(0x30c)]:_0x56b805 instanceof ArrayBuffer?_0x4e3001[_0x8d3006(0x87b)]:_0x4e3001['Medium'];this[_0x8d3006(0x756)](_0x2a2a66,_0x1c7761);}[_0x148812(0x483)](_0x26cc6c,_0x49a081,_0x37f375,_0x2e8550){const _0x232f54=_0x148812,_0x187485=(_0x523557=this[_0x232f54(0xe6)],_0x378df6=this['maxBpp'],Math['floor'](0xe1000*_0x523557*_0x378df6));var _0x523557,_0x378df6;const _0x10d036=this[_0x232f54(0x38d)]['get'](_0x49a081['id'])||{'stream':_0x49a081,'priority':_0x37f375,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x187485,'maxBitrate':_0x187485,'framerate':this['maxFps'],'maxFramerate':this['maxFps'],'tracks':{},'params':_0x2e8550},_0x4d0b4f=_0x10d036[_0x232f54(0x6db)][_0x26cc6c[_0x232f54(0x550)]]||{'track':_0x26cc6c};if(_0x4d0b4f['sender']?(_0x4d0b4f[_0x232f54(0x6a7)]=_0x26cc6c,this[_0x232f54(0x3e9)][_0x232f54(0x584)](_0x26cc6c,_0x4d0b4f[_0x232f54(0x4c3)])):_0x4d0b4f[_0x232f54(0x4c3)]=this['connection'][_0x232f54(0x483)](_0x26cc6c,_0x49a081),_0x10d036[_0x232f54(0x6db)][_0x26cc6c[_0x232f54(0x550)]]=_0x4d0b4f,_0x2e8550&&(_0x10d036[_0x232f54(0xc8)]=_0x2e8550),_0x2e8550&&_0x232f54(0x1c0)===_0x2e8550[_0x232f54(0x550)]&&_0x2e8550[_0x232f54(0x2cb)]&&_0x2e8550[_0x232f54(0x8bd)]&&(_0x10d036['resolutionScale']=this[_0x232f54(0x976)](_0x2e8550[_0x232f54(0x2cb)],_0x2e8550['maxResolution']),_0x10d036[_0x232f54(0x351)]=_0x10d036[_0x232f54(0x204)],_0x10d036[_0x232f54(0x6db)][_0x232f54(0x1c0)]&&_0x10d036[_0x232f54(0x6db)][_0x232f54(0x1c0)]['sender'])){const _0x2c8fbb=_0x10d036[_0x232f54(0x6db)][_0x232f54(0x1c0)][_0x232f54(0x4c3)];this[_0x232f54(0x3e9)]['setEncodingParameters'](_0x2c8fbb,Math[_0x232f54(0x8df)](0xa*_0x10d036[_0x232f54(0x204)])/0xa,_0x10d036[_0x232f54(0x51f)],_0x10d036[_0x232f54(0x172)],_0x10d036[_0x232f54(0x587)]);}this[_0x232f54(0x38d)][_0x232f54(0x6b3)](_0x49a081['id'],_0x10d036);}[_0x148812(0x7db)](_0x600228,_0x5cd302){const _0x4bf6d4=_0x148812,_0x194442=this[_0x4bf6d4(0x38d)][_0x4bf6d4(0x792)](_0x600228['id']);if(_0x194442&&_0x194442[_0x4bf6d4(0x587)]!==_0x5cd302&&(_0x194442[_0x4bf6d4(0x587)]=_0x5cd302,_0x194442[_0x4bf6d4(0x6db)]['video']&&_0x194442[_0x4bf6d4(0x6db)][_0x4bf6d4(0x1c0)][_0x4bf6d4(0x4c3)])){const _0x517180=_0x194442['tracks'][_0x4bf6d4(0x1c0)][_0x4bf6d4(0x4c3)];this['connection']['setEncodingParameters'](_0x517180,Math[_0x4bf6d4(0x8df)](0xa*_0x194442[_0x4bf6d4(0x204)])/0xa,_0x194442[_0x4bf6d4(0x51f)],_0x194442[_0x4bf6d4(0x172)],_0x194442[_0x4bf6d4(0x587)]);}}[_0x148812(0x681)](_0x56d6b7,_0x11ea4b){const _0x4817c0=_0x148812,_0x48ebd4=this[_0x4817c0(0x38d)][_0x4817c0(0x792)](_0x56d6b7['id']);if(_0x48ebd4){if(_0x48ebd4['params']=_0x11ea4b,_0x11ea4b&&_0x4817c0(0x1c0)===_0x11ea4b[_0x4817c0(0x550)]&&_0x11ea4b[_0x4817c0(0x2cb)]&&_0x11ea4b[_0x4817c0(0x8bd)]){if(_0x48ebd4[_0x4817c0(0x351)]=this[_0x4817c0(0x976)](_0x11ea4b[_0x4817c0(0x2cb)],_0x11ea4b[_0x4817c0(0x8bd)]),_0x48ebd4[_0x4817c0(0x204)]<_0x48ebd4[_0x4817c0(0x351)]&&(_0x48ebd4[_0x4817c0(0x204)]=_0x48ebd4['minResolutionScale']),_0x48ebd4[_0x4817c0(0x6db)][_0x4817c0(0x1c0)]&&_0x48ebd4[_0x4817c0(0x6db)][_0x4817c0(0x1c0)][_0x4817c0(0x4c3)]){const _0x3f9fc8=_0x48ebd4[_0x4817c0(0x6db)]['video'][_0x4817c0(0x4c3)];this[_0x4817c0(0x3e9)]['setEncodingParameters'](_0x3f9fc8,Math['floor'](0xa*_0x48ebd4['resolutionScale'])/0xa,_0x48ebd4['framerate'],_0x48ebd4[_0x4817c0(0x172)],_0x48ebd4['priority']);}this['clearUpgradeTimeout'](),this[_0x4817c0(0x965)]();}this[_0x4817c0(0x38d)][_0x4817c0(0x6b3)](_0x56d6b7['id'],_0x48ebd4);}}['removeTrack'](_0xccbb13,_0x35d937){const _0x4a4508=_0x148812,_0x560494=this[_0x4a4508(0x38d)][_0x4a4508(0x792)](_0x35d937['id']);if(_0x560494){const _0x3ae626=_0x560494[_0x4a4508(0x6db)][_0xccbb13['kind']];_0x3ae626&&(_0x3ae626['sender']&&this[_0x4a4508(0x3e9)][_0x4a4508(0x44a)](_0x3ae626['sender']),_0x3ae626['track']=void 0x0);}}[_0x148812(0x5fe)](_0x47ae87){const _0x16fb43=_0x148812;this[_0x16fb43(0x72d)]();const _0x1755d5=function(_0x387f83,_0x58a466){const _0x294bf4=_0x16fb43;return _0x387f83[_0x294bf4(0x556)]((_0x18c1f2,_0x1becce)=>_0x58a466[_0x294bf4(0x89b)]===_0x205619[_0x294bf4(0x362)]?_0x1becce[_0x294bf4(0x587)]-_0x18c1f2['priority']:_0x18c1f2[_0x294bf4(0x587)]-_0x1becce[_0x294bf4(0x587)])[_0x294bf4(0x453)](_0x2a1f84=>function(_0x4efc3c,_0x766b5){const _0xcc9d6e=_0x294bf4;if(_0x766b5[_0xcc9d6e(0x89b)]===_0x205619['Downgrade']){if(_0x766b5[_0xcc9d6e(0x90)]===_0x2fbac2['Resolution'])return _0x4efc3c[_0xcc9d6e(0x204)]<0x4||_0x4efc3c[_0xcc9d6e(0x266)]>0xf;if(_0x766b5[_0xcc9d6e(0x90)]===_0x2fbac2[_0xcc9d6e(0x329)])return _0x4efc3c[_0xcc9d6e(0x6a2)]>_0x3e528d;}return _0x4efc3c[_0xcc9d6e(0x204)]>_0x4efc3c[_0xcc9d6e(0x351)]||_0x4efc3c[_0xcc9d6e(0x51f)]<_0x4efc3c[_0xcc9d6e(0x266)]||_0x4efc3c[_0xcc9d6e(0x172)]<_0x4efc3c[_0xcc9d6e(0x6a2)];}(_0x2a1f84,_0x58a466));}(Array[_0x16fb43(0x928)](this[_0x16fb43(0x38d)][_0x16fb43(0x910)]()),_0x47ae87);if(_0x1755d5&&(function(_0x1d5093,_0x7a7e06){const _0x13fd7c=_0x16fb43;_0x1d5093[_0x13fd7c(0x6db)][_0x13fd7c(0x1c0)]&&_0x1d5093['tracks'][_0x13fd7c(0x1c0)][_0x13fd7c(0x4c3)]&&(_0x1d5093[_0x13fd7c(0x204)]=function(_0x6a29fd,_0x28c06d,_0x529a23){const _0x451b1a=_0x13fd7c;switch(_0x529a23[_0x451b1a(0x89b)]){case _0x205619[_0x451b1a(0x362)]:_0x529a23[_0x451b1a(0x90)]===_0x2fbac2[_0x451b1a(0x570)]&&(_0x6a29fd+=0.5)>0x4&&(_0x6a29fd=0x4);break;case _0x205619['Upgrade']:(_0x6a29fd-=0.5)<_0x28c06d&&(_0x6a29fd=_0x28c06d);}return _0x6a29fd;}(_0x1d5093[_0x13fd7c(0x204)],_0x1d5093[_0x13fd7c(0x351)],_0x7a7e06),_0x1d5093[_0x13fd7c(0x51f)]=function(_0x12a515,_0x560d8b,_0x53090d){const _0x2b878a=_0x13fd7c;switch(_0x53090d[_0x2b878a(0x89b)]){case _0x205619[_0x2b878a(0x362)]:_0x53090d[_0x2b878a(0x90)]===_0x2fbac2[_0x2b878a(0x570)]&&(_0x12a515-=0x3)<0xf&&(_0x12a515=0xf);break;case _0x205619[_0x2b878a(0x17d)]:(_0x12a515+=0x3)>_0x560d8b&&(_0x12a515=_0x560d8b);}return _0x12a515;}(_0x1d5093['framerate'],_0x1d5093['maxFramerate'],_0x7a7e06),_0x1d5093[_0x13fd7c(0x172)]=function(_0x522388,_0x4114db,_0x176153){const _0x163314=_0x13fd7c;switch(_0x176153['action']){case _0x205619[_0x163314(0x362)]:_0x176153[_0x163314(0x90)]===_0x2fbac2['Bitrate']&&(_0x522388*=0.75)<_0x3e528d&&(_0x522388=_0x3e528d);break;case _0x205619[_0x163314(0x17d)]:(_0x522388*=1.25)>_0x4114db&&(_0x522388=_0x4114db);}return _0x522388;}(_0x1d5093[_0x13fd7c(0x172)],_0x1d5093[_0x13fd7c(0x6a2)],_0x7a7e06));}(_0x1755d5,_0x47ae87),_0x1755d5[_0x16fb43(0x6db)][_0x16fb43(0x1c0)]&&_0x1755d5['tracks']['video'][_0x16fb43(0x4c3)])){const _0x3015ed=_0x1755d5[_0x16fb43(0x6db)][_0x16fb43(0x1c0)][_0x16fb43(0x4c3)];this['connection'][_0x16fb43(0x6d5)](_0x3015ed,Math[_0x16fb43(0x8df)](0xa*_0x1755d5[_0x16fb43(0x204)])/0xa,_0x1755d5['framerate'],_0x1755d5['bitrate'],_0x1755d5[_0x16fb43(0x587)]);}(_0x1755d5||_0x47ae87['action']===_0x205619['Downgrade'])&&this[_0x16fb43(0x965)]();}['calculateArrayBufferSize'](){const _0x2aa1c9=_0x148812;return this[_0x2aa1c9(0x440)][_0x2aa1c9(0x403)]['reduce']((_0xfbf244,_0x3405b1)=>_0xfbf244+_0x3405b1[_0x2aa1c9(0x33c)],0x0)*_0x13cfd0;}[_0x148812(0x411)](){const _0x171e0c=_0x148812;return this[_0x171e0c(0x268)]?.['bufferedAmount']??0x0;}[_0x148812(0x935)](){const _0x167eef=_0x148812;super[_0x167eef(0x935)](),this[_0x167eef(0x4c1)](),this['clearWaitAnswer'](),this['senders'][_0x167eef(0x6bf)](_0x1a5628=>{const _0x393388=_0x167eef;_0x1a5628[_0x393388(0x6db)][_0x393388(0x1c0)]&&(_0x1a5628[_0x393388(0x6db)]['video']['sender']=void 0x0),_0x1a5628[_0x393388(0x6db)]['audio']&&(_0x1a5628[_0x393388(0x6db)]['audio'][_0x393388(0x4c3)]=void 0x0);}),this[_0x167eef(0x911)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0xd29a6d=>{const _0x38d51e=a0_0x53e8;if(!this[_0x38d51e(0x268)]||_0x38d51e(0x29a)!==this[_0x38d51e(0x268)][_0x38d51e(0x701)])return await _0x1d7287[_0x38d51e(0x86e)](0x64),void _0xd29a6d();this[_0x38d51e(0x268)][_0x38d51e(0x3d7)]<_0x31103e?_0xd29a6d():this[_0x38d51e(0x268)][_0x38d51e(0x81d)]=()=>{const _0x5a6589=_0x38d51e;this[_0x5a6589(0x268)]&&(this[_0x5a6589(0x268)][_0x5a6589(0x81d)]=null),_0xd29a6d();};});}['sendChunked'](_0x20d2a9,_0xc22019){const _0x11d561=_0x148812,_0x505e7e=[];for(let _0x269ada=0x0;_0x269ada<_0xc22019[_0x11d561(0x6a1)];_0x269ada+=_0x54c59c)_0x505e7e[_0x11d561(0x5dc)](_0xc22019[_0x11d561(0x234)](_0x269ada,_0x269ada+_0x54c59c));for(const _0x30e034 of _0x505e7e)this['sendWithRetry'](_0x3abae5+';'+_0x20d2a9[_0x11d561(0x48b)]+';'+_0x505e7e['indexOf'](_0x30e034)+';'+_0x505e7e['length']+';'+_0x30e034,_0x4e3001[_0x11d561(0x87b)]);}async[_0x148812(0x756)](_0x292f2d,_0x1c89d8){const _0x2ab147=_0x148812;_0x292f2d===_0x3fb59f?this[_0x2ab147(0x440)][_0x2ab147(0x403)][_0x1c89d8][_0x2ab147(0x39d)]?.[_0x2ab147(0x33d)]!==_0x3fb59f&&this[_0x2ab147(0x440)][_0x2ab147(0x403)][_0x1c89d8][_0x2ab147(0x7dc)](_0x292f2d):this[_0x2ab147(0x440)]['queues'][_0x1c89d8][_0x2ab147(0x5dc)](_0x292f2d);}[_0x148812(0x843)](_0x2b0042){const _0x2a37e2=_0x148812;if(!this[_0x2a37e2(0x268)]||'open'!==this[_0x2a37e2(0x268)][_0x2a37e2(0x701)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this[_0x2a37e2(0x268)][_0x2a37e2(0x3d7)]>=0xbe8000)throw new Error('DataChannel\x20buffer\x20is\x20full.');const _0x213673=Date['now']();_0x2b0042!==_0x3fb59f&&(this[_0x2a37e2(0x2a4)]+=0x1,this[_0x2a37e2(0x64a)]+=_0x2b0042 instanceof ArrayBuffer?_0x2b0042[_0x2a37e2(0x5a5)]:_0x2b0042[_0x2a37e2(0x6a1)]),ArrayBuffer,this[_0x2a37e2(0x268)][_0x2a37e2(0x6aa)](_0x2b0042),this[_0x2a37e2(0x582)]+=Date[_0x2a37e2(0x847)]()-_0x213673;}[_0x148812(0x8dd)](){const _0x22cee7=_0x148812;this[_0x22cee7(0x93)]&&this[_0x22cee7(0x27c)]();let _0x203df1=!0x0,_0x34bf0d=Date[_0x22cee7(0x847)]();this[_0x22cee7(0x7cc)]=Date['now'](),this['dataChannel'][_0x22cee7(0x763)]=_0x1b9b06=>{const _0x570cf1=_0x22cee7;'1'===_0x1b9b06[_0x570cf1(0x912)]&&(this['roundTripTime']=Date[_0x570cf1(0x847)]()-_0x34bf0d,_0x203df1&&this[_0x570cf1(0x2e3)]({'type':_0x4c498b[_0x570cf1(0x45e)]}),_0x203df1=!0x1,this[_0x570cf1(0x7cc)]=Date['now'](),this[_0x570cf1(0x911)]&&(this[_0x570cf1(0x911)]=!0x1,this[_0x570cf1(0x3a0)]()));},this[_0x22cee7(0x93)]=_0x1d7287[_0x22cee7(0x511)](()=>{const _0x47d0cc=_0x22cee7;_0x34bf0d=Date['now'](),this[_0x47d0cc(0x756)](_0x3fb59f,_0x4e3001[_0x47d0cc(0x30c)]),Date[_0x47d0cc(0x847)]()-this[_0x47d0cc(0x7cc)]>(_0x203df1?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x148812(0x3a0)](){const _0x2c6e28=_0x148812;this[_0x2c6e28(0x38d)]['forEach'](_0x3a15c8=>{const _0x27340f=_0x2c6e28;_0x3a15c8[_0x27340f(0x6db)][_0x27340f(0x1c0)]&&_0x3a15c8[_0x27340f(0x6db)][_0x27340f(0x1c0)]['track']&&!_0x3a15c8[_0x27340f(0x6db)][_0x27340f(0x1c0)][_0x27340f(0x4c3)]&&(_0x3a15c8[_0x27340f(0x6db)][_0x27340f(0x1c0)][_0x27340f(0x4c3)]=this[_0x27340f(0x3e9)][_0x27340f(0x483)](_0x3a15c8[_0x27340f(0x6db)][_0x27340f(0x1c0)][_0x27340f(0x6a7)],_0x3a15c8['stream'])),_0x3a15c8[_0x27340f(0x6db)]['audio']&&_0x3a15c8[_0x27340f(0x6db)][_0x27340f(0x828)][_0x27340f(0x6a7)]&&!_0x3a15c8[_0x27340f(0x6db)][_0x27340f(0x828)]['sender']&&(_0x3a15c8[_0x27340f(0x6db)][_0x27340f(0x828)]['sender']=this[_0x27340f(0x3e9)][_0x27340f(0x483)](_0x3a15c8['tracks'][_0x27340f(0x828)][_0x27340f(0x6a7)],_0x3a15c8['stream']));});}[_0x148812(0x3de)](){const _0x5f15e2=_0x148812;this[_0x5f15e2(0x2e3)]({'type':_0x4c498b['Handshake'],'candidates':this[_0x5f15e2(0x167)],'origin':_0x12853b['Sender'],'version':this[_0x5f15e2(0x2a7)],'connectionType':this[_0x5f15e2(0x3ad)]});}[_0x148812(0x8d6)](){const _0x6ed811=_0x148812;super[_0x6ed811(0x8d6)](),this[_0x6ed811(0x3e9)]['onHandshakeStateChange']=()=>{const _0x1757ae=_0x6ed811;if(_0x1757ae(0x1ea)===this['connection']['handshakeState']){_0x24a63b[_0x1757ae(0x14c)](_0x306624[_0x1757ae(0x197)],_0x1757ae(0x785),this['localNode'][_0x1757ae(0x114)](),this[_0x1757ae(0x89a)]);try{if(this[_0x1757ae(0x3e9)][_0x1757ae(0x436)])return void this['connection'][_0x1757ae(0x6d3)]();}catch(_0x5a9698){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x6ed811(0x3e9)]['onConnectionStateChange']=()=>{const _0x1d7c7f=_0x6ed811;_0x1d7c7f(0x93d)!==this[_0x1d7c7f(0x3e9)]['connectionState']&&'failed'!==this[_0x1d7c7f(0x3e9)][_0x1d7c7f(0x754)]||this[_0x1d7c7f(0x1e7)]();};}[_0x148812(0x1e7)](){const _0x36dc93=_0x148812;this['clearHeartbeat'](),this[_0x36dc93(0x22e)](),this['clearConnectionTimeout'](),_0x24a63b[_0x36dc93(0x659)](_0x36dc93(0x94d),{'clusterId':this[_0x36dc93(0x853)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x36dc93(0x894)][_0x36dc93(0x200)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x36dc93(0x3ad)],'connectionState':this[_0x36dc93(0x3e9)][_0x36dc93(0x754)],'iceConnectionState':this[_0x36dc93(0x3e9)][_0x36dc93(0x190)],'signalingState':this[_0x36dc93(0x3e9)][_0x36dc93(0x948)],'readyState':this[_0x36dc93(0x268)]?.['state']||'','lastHeartbeat':this[_0x36dc93(0x7cc)]?Date['now']()-this[_0x36dc93(0x7cc)]:'','retryQueue':this[_0x36dc93(0x440)]}}),(this[_0x36dc93(0x7cc)]&&Date[_0x36dc93(0x847)]()-this[_0x36dc93(0x7cc)]>0xea60)??0x1?this[_0x36dc93(0x3eb)][_0x36dc93(0x5a3)]({'sourceId':this[_0x36dc93(0x89a)],'destinationIds':[this[_0x36dc93(0x894)]['getId']()],'messageType':_0x427f74[_0x36dc93(0x891)],'content':{'type':_0x4c498b[_0x36dc93(0x413)]}}):(this[_0x36dc93(0x935)](),this['publishSystemMessage']({'type':_0x4c498b[_0x36dc93(0x968)],'version':this[_0x36dc93(0x2a7)],'connectionType':this[_0x36dc93(0x3ad)]}),this[_0x36dc93(0x241)]=setTimeout(()=>{const _0x1675d6=_0x36dc93;this[_0x1675d6(0x1e7)]();},0x7530));}['clearHeartbeat'](){const _0x4b5e9a=_0x148812;this[_0x4b5e9a(0x93)]?.(),delete this['heartbeatUnsubscriber'];}[_0x148812(0x5d9)](){const _0x390f72=_0x148812;this[_0x390f72(0x776)]&&(clearTimeout(this[_0x390f72(0x776)]),delete this['connectionTimeout']);}[_0x148812(0x22e)](){const _0x11a036=_0x148812;this[_0x11a036(0x241)]&&(clearTimeout(this[_0x11a036(0x241)]),delete this[_0x11a036(0x241)]);}[_0x148812(0x72d)](){const _0x1fa1a6=_0x148812;this[_0x1fa1a6(0x5e1)]&&(clearTimeout(this[_0x1fa1a6(0x5e1)]),delete this[_0x1fa1a6(0x5e1)]);}['setUpgradeTimeout'](){const _0x3aad9d=_0x148812;this[_0x3aad9d(0x5e1)]=setTimeout(()=>{const _0x200266=_0x3aad9d;this[_0x200266(0x5fe)]({'type':_0x525464[_0x200266(0x48c)],'action':_0x205619['Upgrade']});},0x3a98);}[_0x148812(0x976)](_0x4fc5af,_0x48d616){const _0x4526cf=_0x148812,_0x51dbcd=Math[_0x4526cf(0x629)](_0x4fc5af[_0x4526cf(0x8f9)]/_0x48d616[_0x4526cf(0x8f9)],_0x4fc5af[_0x4526cf(0x7e7)]/_0x48d616[_0x4526cf(0x7e7)]);return Math['min'](Math[_0x4526cf(0x629)](_0x51dbcd,0x1),0x4);}[_0x148812(0x247)](){const _0x2020ef=_0x148812;this[_0x2020ef(0x96)]?.(),delete this[_0x2020ef(0x96)];}['clearOncloseTimeout'](){const _0x1a4ef1=_0x148812;this[_0x1a4ef1(0x838)]&&(clearTimeout(this['oncloseTimeout']),delete this['oncloseTimeout']);}[_0x148812(0x28a)](_0x23f63b){const _0x5925c5=_0x148812,_0x35a3c6=JSON[_0x5925c5(0x605)](_0x23f63b);return new TextEncoder()[_0x5925c5(0x6b9)](_0x35a3c6)[_0x5925c5(0x297)];}['mergeParts'](_0xbd2476,_0xdc41ae){const _0x3d4164=_0x148812,_0x20e569=this[_0x3d4164(0x28a)](_0xbd2476),_0x26c224=new Uint8Array(0x4),_0x381f21=new Uint8Array(_0x20e569),_0xdbecbb=new Uint8Array(_0xdc41ae);_0x26c224[_0x3d4164(0x6b3)](new Uint8Array(new Uint32Array([_0x381f21[_0x3d4164(0x6a1)]])[_0x3d4164(0x297)]));const _0x17531d=new Uint8Array(0x4+_0x381f21[_0x3d4164(0x6a1)]+_0xdbecbb[_0x3d4164(0x6a1)]);return _0x17531d[_0x3d4164(0x6b3)](_0x26c224),_0x17531d[_0x3d4164(0x6b3)](_0x381f21,0x4),_0x17531d[_0x3d4164(0x6b3)](_0xdbecbb,0x4+_0x381f21['length']),_0x17531d[_0x3d4164(0x297)];}}class _0x558c0e extends _0xdf55c2{[_0x148812(0x106)];[_0x148812(0x3ad)];[_0x148812(0xe6)];[_0x148812(0x323)];[_0x148812(0x19f)];[_0x148812(0x7f7)];['receiverConnection'];[_0x148812(0x7f2)]=[];[_0x148812(0x331)]=_0x48de03();[_0x148812(0x4e8)]=_0x48de03();[_0x148812(0x2c2)]=_0x48de03();[_0x148812(0x786)]=[];[_0x148812(0x3eb)];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0x148812(0x906)]=new Map();[_0x148812(0xa4)]=new Map();[_0x148812(0x64c)]=!0x1;constructor(_0x5e3a08,_0x5ca078,_0x27c3d5,_0x38faa7,_0x3d8628,_0x3477c6,_0xc0d1dc,_0x3be681){const _0x4026e8=_0x148812;super(_0x5e3a08,_0x5ca078,_0x27c3d5),this[_0x4026e8(0x106)]=_0x38faa7,this['connectionType']=_0x3d8628,this[_0x4026e8(0xe6)]=_0x3477c6,this['maxBpp']=_0xc0d1dc,this[_0x4026e8(0x19f)]=_0x3be681;}['registerPublisher'](_0x969605){const _0x11d4cc=_0x148812;switch(_0x969605['getContentType']()){case _0x366c21[_0x11d4cc(0x8a4)][_0x11d4cc(0x660)]:case _0x366c21['ContentType'][_0x11d4cc(0x52c)]:case _0x366c21[_0x11d4cc(0x8a4)]['ObjectStore']:case _0x366c21[_0x11d4cc(0x8a4)][_0x11d4cc(0x492)]:case _0x366c21[_0x11d4cc(0x8a4)][_0x11d4cc(0x71f)]:case _0x366c21[_0x11d4cc(0x8a4)]['VectorDatabase']:case _0x366c21[_0x11d4cc(0x8a4)][_0x11d4cc(0x7b8)]:case _0x366c21[_0x11d4cc(0x8a4)][_0x11d4cc(0x980)]:this[_0x11d4cc(0x74d)][_0x11d4cc(0x6b3)](_0x969605[_0x11d4cc(0x5cf)](),_0x969605);break;case _0x366c21[_0x11d4cc(0x8a4)]['Media']:this[_0x11d4cc(0x906)][_0x11d4cc(0x6b3)](_0x969605['getLabel'](),_0x969605);}}[_0x148812(0x99a)](_0x3df667){const _0x926bce=_0x148812;switch(_0x3df667[_0x926bce(0x16e)]()){case _0x366c21['ContentType'][_0x926bce(0x660)]:case _0x366c21['ContentType'][_0x926bce(0x52c)]:case _0x366c21[_0x926bce(0x8a4)][_0x926bce(0x27d)]:case _0x366c21[_0x926bce(0x8a4)][_0x926bce(0x492)]:case _0x366c21[_0x926bce(0x8a4)][_0x926bce(0x71f)]:case _0x366c21[_0x926bce(0x8a4)][_0x926bce(0x2e2)]:case _0x366c21[_0x926bce(0x8a4)][_0x926bce(0x7b8)]:case _0x366c21[_0x926bce(0x8a4)][_0x926bce(0x980)]:this[_0x926bce(0x74d)][_0x926bce(0x91b)](_0x3df667['getLabel']());break;case _0x366c21['ContentType']['Media']:this[_0x926bce(0x906)]['delete'](_0x3df667['getLabel']());}}[_0x148812(0x8c5)](_0x381baf){const _0x38e9e4=_0x148812;switch(_0x381baf[_0x38e9e4(0x16e)]()){case _0x366c21[_0x38e9e4(0x8a4)][_0x38e9e4(0x660)]:case _0x366c21[_0x38e9e4(0x8a4)][_0x38e9e4(0x52c)]:case _0x366c21[_0x38e9e4(0x8a4)][_0x38e9e4(0x27d)]:case _0x366c21['ContentType'][_0x38e9e4(0x492)]:case _0x366c21['ContentType'][_0x38e9e4(0x71f)]:case _0x366c21[_0x38e9e4(0x8a4)][_0x38e9e4(0x2e2)]:case _0x366c21[_0x38e9e4(0x8a4)][_0x38e9e4(0x7b8)]:case _0x366c21[_0x38e9e4(0x8a4)][_0x38e9e4(0x980)]:{const _0x459a38=_0x381baf[_0x38e9e4(0x360)](_0x52785a=>{const _0x54f63a=_0x38e9e4;_0x24bc38(_0x52785a,this[_0x54f63a(0x63f)]())&&_0x3de2cb(_0x52785a,this['remoteId'])&&this[_0x54f63a(0x6aa)](_0x52785a);});this[_0x38e9e4(0x963)][_0x38e9e4(0x6b3)](_0x381baf[_0x38e9e4(0x5cf)](),_0x459a38);break;}case _0x366c21['ContentType'][_0x38e9e4(0x6ca)]:{const _0xa8dbb8=_0x381baf['subscribe'](({content:_0x5a253c})=>{const _0x5544b5=_0x38e9e4;switch(_0x5a253c[_0x5544b5(0x89b)]){case _0x4decb1[_0x5544b5(0x647)]:this[_0x5544b5(0x483)](_0x5a253c[_0x5544b5(0x6a7)],_0x5a253c[_0x5544b5(0x495)],_0x5a253c[_0x5544b5(0x587)],_0x5a253c['params']);break;case _0x4decb1['Remove']:this[_0x5544b5(0x44a)](_0x5a253c[_0x5544b5(0x6a7)],_0x5a253c[_0x5544b5(0x495)]);break;case _0x4decb1[_0x5544b5(0x83)]:_0x5a253c[_0x5544b5(0x587)]&&this[_0x5544b5(0x7db)](_0x5a253c['stream'],_0x5a253c['priority']),_0x5a253c[_0x5544b5(0xc8)]&&this[_0x5544b5(0x681)](_0x5a253c[_0x5544b5(0x495)],_0x5a253c[_0x5544b5(0xc8)]);}});this['mediaUnsubscribers'][_0x38e9e4(0x6b3)](_0x381baf[_0x38e9e4(0x5cf)](),_0xa8dbb8);break;}}}[_0x148812(0x8e4)](_0x587aec){const _0x42eee8=_0x148812;switch(_0x587aec[_0x42eee8(0x16e)]()){case _0x366c21[_0x42eee8(0x8a4)][_0x42eee8(0x660)]:case _0x366c21['ContentType']['PubSub']:case _0x366c21[_0x42eee8(0x8a4)][_0x42eee8(0x27d)]:case _0x366c21['ContentType'][_0x42eee8(0x492)]:case _0x366c21['ContentType'][_0x42eee8(0x71f)]:case _0x366c21[_0x42eee8(0x8a4)][_0x42eee8(0x2e2)]:case _0x366c21[_0x42eee8(0x8a4)]['GraphDatabase']:case _0x366c21[_0x42eee8(0x8a4)][_0x42eee8(0x980)]:this['dataUnsubscribers']['get'](_0x587aec['getLabel']())?.(),this['dataUnsubscribers']['delete'](_0x587aec[_0x42eee8(0x5cf)]());break;case _0x366c21[_0x42eee8(0x8a4)][_0x42eee8(0x6ca)]:this[_0x42eee8(0xa4)][_0x42eee8(0x792)](_0x587aec[_0x42eee8(0x5cf)]())?.(),this[_0x42eee8(0xa4)][_0x42eee8(0x91b)](_0x587aec[_0x42eee8(0x5cf)]());}}[_0x148812(0x12c)](){const _0x2e48f5=_0x148812;return[_0x366c21[_0x2e48f5(0x8a4)]['Data'],_0x366c21['ContentType'][_0x2e48f5(0x6ca)],_0x366c21[_0x2e48f5(0x8a4)][_0x2e48f5(0x52c)],_0x366c21[_0x2e48f5(0x8a4)][_0x2e48f5(0x27d)],_0x366c21[_0x2e48f5(0x8a4)][_0x2e48f5(0x492)],_0x366c21[_0x2e48f5(0x8a4)]['Job'],_0x366c21[_0x2e48f5(0x8a4)][_0x2e48f5(0x2e2)],_0x366c21[_0x2e48f5(0x8a4)][_0x2e48f5(0x7b8)],_0x366c21[_0x2e48f5(0x8a4)][_0x2e48f5(0x980)]];}['registerSystemPublisher'](_0x594fef){this['systemTopic']=_0x594fef;}[_0x148812(0x75f)](){const _0x2cf8a8=_0x148812;delete this[_0x2cf8a8(0x3eb)];}async[_0x148812(0x2b8)](){const _0x224e49=_0x148812;this[_0x224e49(0x91e)](),await this['createOffer']();}[_0x148812(0x6ac)](){const _0x5dfda2=_0x148812;this['listenerUnsubscribers'][_0x5dfda2(0x6bf)](_0x28c525=>_0x28c525()),this[_0x5dfda2(0x786)]=[],this[_0x5dfda2(0x7f7)]?.['unregisterSystemPublisher'](),this['senderConnection']?.['close'](),delete this[_0x5dfda2(0x7f7)],this['receiverUnsubscribers']['forEach'](_0x3857e8=>_0x3857e8()),this['receiverUnsubscribers']=[],this['receiverConnection']?.['unregisterSystemPublisher'](),this['receiverConnection']?.[_0x5dfda2(0x6ac)](),delete this[_0x5dfda2(0x322)];}[_0x148812(0x89c)](){const _0x5e0a78=_0x148812;return this[_0x5e0a78(0x7f7)]?.['isConnected']()&&this['receiverConnection']?.[_0x5e0a78(0x89c)]()||!0x1;}[_0x148812(0x6aa)](_0x2e54eb){const _0x418f5f=_0x148812;if(!this[_0x418f5f(0x7f7)]||!this[_0x418f5f(0x89c)]())throw new _0x864d50(_0x864d50[_0x418f5f(0x753)]['ConnectionNotinitialized'],{'message':'Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','senderConnected':this[_0x418f5f(0x7f7)]?.[_0x418f5f(0x89c)](),'receiverConnected':this[_0x418f5f(0x322)]?.['isConnected'](),'localId':this[_0x418f5f(0x63f)](),'remoteId':this[_0x418f5f(0x89a)],'data':_0x2e54eb});this[_0x418f5f(0x7f7)][_0x418f5f(0x6aa)](_0x2e54eb);}[_0x148812(0x763)](_0x33cde7){return this['messageListeners']['subscribe'](_0x33cde7);}[_0x148812(0x79c)](_0x56131a){const _0x95f000=_0x148812;return this['trackListeners'][_0x95f000(0x360)](({track:_0x342c01,stream:_0xc9f5d3})=>_0x56131a(_0x342c01,_0xc9f5d3));}[_0x148812(0x94)](_0x4d5eb9){const _0x5e07c7=_0x148812;return this[_0x5e07c7(0x2c2)][_0x5e07c7(0x360)](({track:_0x260dc6,stream:_0x52586f})=>_0x4d5eb9(_0x260dc6,_0x52586f));}[_0x148812(0x483)](_0x21ab52,_0x25f405,_0x1a1a51,_0x3b3663){const _0x4e7ce5=_0x148812;this[_0x4e7ce5(0x7f7)]?.[_0x4e7ce5(0x483)](_0x21ab52,_0x25f405,_0x1a1a51,_0x3b3663);}['setPriority'](_0x1e6ec1,_0x439eb8){const _0x3f57ec=_0x148812;this['senderConnection']?.[_0x3f57ec(0x7db)](_0x1e6ec1,_0x439eb8);}['setParams'](_0x21104f,_0xb0004){const _0x2dd433=_0x148812;this[_0x2dd433(0x7f7)]?.[_0x2dd433(0x681)](_0x21104f,_0xb0004);}['removeTrack'](_0x5388d5,_0x4760b8){const _0x288c37=_0x148812;this[_0x288c37(0x7f7)]?.['removeTrack'](_0x5388d5,_0x4760b8);}async['handlePeerConnectionSystemEvents'](_0x1c2bbc){const _0x4f26b9=_0x148812;_0x24a63b[_0x4f26b9(0x14c)](_0x306624[_0x4f26b9(0x109)],_0x4f26b9(0x4a8),this[_0x4f26b9(0x63f)](),_0x1c2bbc);const {content:_0x15ee11}=_0x1c2bbc;switch(_0x15ee11[_0x4f26b9(0x200)]){case _0x4c498b[_0x4f26b9(0x531)]:await this['handleOffer'](_0x15ee11);break;case _0x4c498b[_0x4f26b9(0x6c0)]:await this[_0x4f26b9(0x5df)](_0x15ee11);break;case _0x4c498b[_0x4f26b9(0x45e)]:this['handleSuccess']();break;case _0x4c498b[_0x4f26b9(0x30d)]:await this[_0x4f26b9(0x549)](_0x15ee11);break;case _0x4c498b[_0x4f26b9(0x968)]:this[_0x4f26b9(0x507)](_0x15ee11);break;case _0x4c498b['Restart']:await this[_0x4f26b9(0x5c6)]();}}[_0x148812(0x5ce)](_0x261d09){const _0x1d64ac=_0x148812;this[_0x1d64ac(0x7f7)]?.[_0x1d64ac(0x5fe)](_0x261d09['content'][_0x1d64ac(0x912)]);}[_0x148812(0x740)](){const _0x267ecf=_0x148812;return this[_0x267ecf(0x3ad)];}[_0x148812(0x4de)](_0x12ae2f){const _0x7d2914=_0x148812;this['connectionType']=_0x12ae2f,this['senderConnection']?.[_0x7d2914(0x4de)](_0x12ae2f),this[_0x7d2914(0x322)]?.[_0x7d2914(0x4de)](_0x12ae2f);}async[_0x148812(0x425)](){const _0xb82f9d=_0x148812;await this[_0xb82f9d(0x7f7)]?.[_0xb82f9d(0x425)](),await this[_0xb82f9d(0x322)]?.['collectStats']();}[_0x148812(0x715)](){const _0x2fa2e4=_0x148812;return this[_0x2fa2e4(0x7f7)]?.[_0x2fa2e4(0x715)]()??0x0;}[_0x148812(0x411)](){const _0x122b3a=_0x148812;return this[_0x122b3a(0x7f7)]?.['getBufferedAmount']()??0x0;}[_0x148812(0x91e)](){const _0x42202e=_0x148812;this[_0x42202e(0x786)][_0x42202e(0x5dc)](this[_0x42202e(0x763)](_0x13f19a=>{const _0xf61c1=_0x42202e;_0x3de2cb(_0x13f19a,this['getLocalId']())&&0x0!==_0x13f19a['topicLabel']&&this['dataTopics'][_0xf61c1(0x792)](_0x13f19a[_0xf61c1(0x2ef)])?.['publish'](_0x13f19a);})),this[_0x42202e(0x786)]['push'](this[_0x42202e(0x79c)]((_0x49bf35,_0x162056)=>{const _0x550b7f=_0x42202e,_0x435119=_0x4b8d73(_0x366c21[_0x550b7f(0x8a4)][_0x550b7f(0x6ca)],_0x162056['id'],this[_0x550b7f(0x89a)]);this[_0x550b7f(0x906)]['get'](_0x435119)?.[_0x550b7f(0x5a3)]({'topicLabel':_0x435119,'sourceId':this[_0x550b7f(0x89a)],'contentType':_0x366c21['ContentType'][_0x550b7f(0x6ca)],'content':{'action':_0x4decb1[_0x550b7f(0x161)],'track':_0x49bf35,'stream':_0x162056,'providerId':this['remoteId']}});})),this[_0x42202e(0x786)][_0x42202e(0x5dc)](this[_0x42202e(0x94)]((_0x569b94,_0x361da2)=>{const _0x13ffc0=_0x42202e,_0x20c145=_0x4b8d73(_0x366c21[_0x13ffc0(0x8a4)]['Media'],_0x361da2['id'],this['remoteId']);this[_0x13ffc0(0x906)][_0x13ffc0(0x792)](_0x20c145)?.[_0x13ffc0(0x5a3)]({'topicLabel':_0x20c145,'sourceId':this['remoteId'],'contentType':_0x366c21['ContentType'][_0x13ffc0(0x6ca)],'content':{'action':_0x4decb1[_0x13ffc0(0x642)],'track':_0x569b94,'stream':_0x361da2,'providerId':this[_0x13ffc0(0x89a)]}});}));}[_0x148812(0x549)]({candidates:_0x45bfce,origin:_0x44ba40,version:_0x10fd81}){const _0x187442=_0x148812;return _0x44ba40===_0x12853b['Sender']?(this['receiverConnection']||this['createReceiverConnection'](),this['receiverConnection']['handleHandshake'](_0x45bfce,_0x10fd81)):this['senderConnection'][_0x187442(0x394)](_0x45bfce,_0x10fd81);}async[_0x148812(0x5c6)](){const _0x52d1a1=_0x148812;this[_0x52d1a1(0x7f7)]||this[_0x52d1a1(0x97c)](),await this[_0x52d1a1(0x7f7)]['createOffer']();}async['handleOffer']({offer:_0x4bd0d6,version:_0x37207e}){const _0x151687=_0x148812;this['receiverConnection']||this[_0x151687(0x516)](),await this[_0x151687(0x322)][_0x151687(0x742)](_0x4bd0d6,_0x37207e);}async[_0x148812(0x5df)]({answer:_0x391ed9,version:_0x3576a7}){const _0x5277b1=_0x148812;if(!this[_0x5277b1(0x7f7)])throw new _0x864d50(_0x864d50[_0x5277b1(0x753)][_0x5277b1(0x258)],{'message':_0x5277b1(0x21c),'localId':this[_0x5277b1(0x63f)](),'remoteId':this['remoteId'],'answer':_0x391ed9});await this[_0x5277b1(0x7f7)][_0x5277b1(0x5df)](_0x391ed9,_0x3576a7);}[_0x148812(0x640)](){const _0x2582b7=_0x148812;if(!this['receiverConnection'])throw new _0x864d50(_0x864d50[_0x2582b7(0x753)][_0x2582b7(0x258)],{'message':_0x2582b7(0x627),'localId':this[_0x2582b7(0x63f)](),'remoteId':this['remoteId']});this['receiverConnection']['handleSuccess'](),this[_0x2582b7(0x64c)]||this[_0x2582b7(0x3ad)]!==_0x222324[_0x2582b7(0x3bc)]||(this[_0x2582b7(0x64c)]=!0x0,this[_0x2582b7(0x3eb)]?.[_0x2582b7(0x5a3)]({'sourceId':this[_0x2582b7(0x89a)],'destinationIds':[this[_0x2582b7(0x63f)]()],'messageType':_0x427f74[_0x2582b7(0x891)],'content':{'type':_0x4c498b[_0x2582b7(0x43d)]}}));}[_0x148812(0x507)](_0x5a5162){const _0x376a6d=_0x148812;this[_0x376a6d(0x322)]||this[_0x376a6d(0x516)](),this['receiverConnection'][_0x376a6d(0x507)](_0x5a5162[_0x376a6d(0xb3)]);}[_0x148812(0x97c)](){const _0x357ccd=_0x148812;this[_0x357ccd(0x7f7)]=new _0x109f11(this[_0x357ccd(0x853)],this[_0x357ccd(0x894)],this[_0x357ccd(0x89a)],this[_0x357ccd(0x106)],this[_0x357ccd(0x3ad)],this[_0x357ccd(0xe6)],this[_0x357ccd(0x323)],this[_0x357ccd(0x19f)]),this[_0x357ccd(0x7f7)]['registerSystemPublisher'](this[_0x357ccd(0x3eb)]);}[_0x148812(0x516)](){const _0x2edc04=_0x148812;this[_0x2edc04(0x322)]=new _0x2fee97(this[_0x2edc04(0x853)],this[_0x2edc04(0x894)],this['remoteId'],this[_0x2edc04(0x106)],this[_0x2edc04(0x3ad)],this[_0x2edc04(0x19f)]),this[_0x2edc04(0x322)]['registerSystemPublisher'](this[_0x2edc04(0x3eb)]),this[_0x2edc04(0x7f2)]['push'](this[_0x2edc04(0x322)][_0x2edc04(0x763)](_0x3fa352=>this['messageListeners'][_0x2edc04(0x5a3)](_0x3fa352))),this[_0x2edc04(0x7f2)][_0x2edc04(0x5dc)](this[_0x2edc04(0x322)][_0x2edc04(0x79c)]((_0x325e84,_0xe8456e)=>this[_0x2edc04(0x4e8)][_0x2edc04(0x5a3)]({'track':_0x325e84,'stream':_0xe8456e}))),this['receiverUnsubscribers'][_0x2edc04(0x5dc)](this[_0x2edc04(0x322)][_0x2edc04(0x94)]((_0x22fd82,_0x3ca196)=>this['removeTrackListeners']['publish']({'track':_0x22fd82,'stream':_0x3ca196})));}}class _0x5403dc{[_0x148812(0x123)];[_0x148812(0x42a)];[_0x148812(0x986)];[_0x148812(0x91d)]=new Map();[_0x148812(0x331)]=_0x48de03();[_0x148812(0x5cc)];[_0x148812(0x74d)]=new Map();[_0x148812(0x963)]=new Map();[_0x148812(0x366)]=new Map();constructor(_0x1340a7,_0x3b38bc,_0x49d2af){const _0x309788=_0x148812;this[_0x309788(0x123)]=_0x1340a7,this[_0x309788(0x42a)]=_0x3b38bc,this[_0x309788(0x986)]=_0x49d2af,this[_0x309788(0x5cc)]=this[_0x309788(0x763)](_0x2cce16=>{const _0xaaba5d=_0x309788;this[_0xaaba5d(0x42a)][_0xaaba5d(0x28e)](_0x2cce16['uuid'])||(_0x3de2cb(_0x2cce16,this[_0xaaba5d(0x123)])&&0x0!==_0x2cce16[_0xaaba5d(0x2ef)]&&(this[_0xaaba5d(0x42a)][_0xaaba5d(0x80b)](_0x2cce16[_0xaaba5d(0x48b)]),this[_0xaaba5d(0x74d)]['get'](_0x2cce16[_0xaaba5d(0x2ef)])?.[_0xaaba5d(0x5a3)](_0x2cce16)),_0x2cce16[_0xaaba5d(0x3a1)]&&this[_0xaaba5d(0x6aa)](_0x2cce16));});}[_0x148812(0x6ac)](){const _0x295ee3=_0x148812;this[_0x295ee3(0x5cc)]?.();}[_0x148812(0x7e0)](_0x70063b){const _0xb9cf3e=_0x148812,_0x5ae685=_0x70063b['onMessage'](_0x321476=>{const _0x2cd867=a0_0x53e8;this[_0x2cd867(0x331)][_0x2cd867(0x5a3)](_0x321476);});this[_0xb9cf3e(0x91d)][_0xb9cf3e(0x6b3)](_0x70063b,_0x5ae685),this[_0xb9cf3e(0x366)][_0xb9cf3e(0x6b3)](_0x70063b[_0xb9cf3e(0x4e1)](),function(_0x1ed0f1,_0x189cdf=!0x1){let _0x92a7f5=new Map();const _0x2d4de8=_0x31f1b7(_0x1ed0f1,_0x189cdf,function(_0x1595d3){const _0x53d1ea=a0_0x53e8;_0x25f7b3(_0x1595d3)&&_0x92a7f5['delete'](_0x1595d3[_0x53d1ea(0x21f)]+'-'+(_0x1595d3[_0x53d1ea(0x389)]??[])+'-'+_0x1595d3[_0x53d1ea(0x373)]+'-'+_0x1595d3[_0x53d1ea(0x92a)][_0x53d1ea(0x200)]);},function(_0x31d2d3){return!!function(_0x3501ab){const _0x31c250=a0_0x53e8,_0x101bda=_0x3501ab[_0x31c250(0x33d)];if(!_0x25f7b3(_0x101bda))return!0x1;const _0x2c461e=_0x101bda[_0x31c250(0x21f)]+'-'+(_0x101bda[_0x31c250(0x389)]??[])+'-'+_0x101bda[_0x31c250(0x373)]+'-'+_0x101bda[_0x31c250(0x92a)][_0x31c250(0x200)],_0x27df66={'version':_0x101bda[_0x31c250(0x92a)]['version'],'element':_0x3501ab},_0x4e3c14=_0x92a7f5[_0x31c250(0x792)](_0x2c461e);return _0x4e3c14?(_0x4e3c14[_0x31c250(0xb3)]>=_0x101bda[_0x31c250(0x92a)]['version']||(_0x4e3c14[_0x31c250(0x6d1)][_0x31c250(0x5e6)]&&(_0x4e3c14[_0x31c250(0x6d1)][_0x31c250(0x5e6)]['next']=_0x3501ab,_0x3501ab['previous']=_0x4e3c14[_0x31c250(0x6d1)][_0x31c250(0x5e6)]),_0x4e3c14['element'][_0x31c250(0x3a5)]&&(_0x4e3c14[_0x31c250(0x6d1)]['next'][_0x31c250(0x5e6)]=_0x3501ab,_0x3501ab[_0x31c250(0x3a5)]=_0x4e3c14[_0x31c250(0x6d1)][_0x31c250(0x3a5)]),_0x4e3c14[_0x31c250(0x6d1)]===_0x2d4de8['head']&&(_0x2d4de8['head']=_0x3501ab),_0x4e3c14[_0x31c250(0x6d1)]===_0x2d4de8['tail']&&(_0x2d4de8[_0x31c250(0xdb)]=_0x3501ab),_0x92a7f5[_0x31c250(0x6b3)](_0x2c461e,_0x27df66)),!0x0):(_0x92a7f5[_0x31c250(0x6b3)](_0x2c461e,_0x27df66),!0x1);}(_0x31d2d3);},function(){_0x92a7f5['clear']();});function _0x25f7b3(_0x534bc2){const _0x3c1fcb=a0_0x53e8;if(_0x534bc2&&_0x3c1fcb(0x781)==typeof _0x534bc2&&_0x534bc2[_0x3c1fcb(0x359)](_0x3c1fcb(0x92a))&&_0x534bc2[_0x3c1fcb(0x359)]('messageType')&&_0x534bc2[_0x3c1fcb(0x359)](_0x3c1fcb(0x21f))){const _0xbf3c64=_0x534bc2;if(_0xbf3c64['content']&&_0x3c1fcb(0x781)==typeof _0xbf3c64[_0x3c1fcb(0x92a)]&&_0xbf3c64[_0x3c1fcb(0x92a)]['hasOwnProperty'](_0x3c1fcb(0xb3))&&_0xbf3c64[_0x3c1fcb(0x92a)][_0x3c1fcb(0x359)](_0x3c1fcb(0x200)))return!0x0;}return!0x1;}return _0x2d4de8;}(new _0x456bd6(_0x533b5b=>_0x70063b[_0xb9cf3e(0x6aa)](_0x533b5b),()=>_0x1d7287[_0xb9cf3e(0x86e)](0x64))));}[_0x148812(0x5b3)](_0x4d93ce){const _0x91486=_0x148812;this[_0x91486(0x91d)][_0x91486(0x792)](_0x4d93ce)?.(),this['connections'][_0x91486(0x91b)](_0x4d93ce),this['retryQueues']['get'](_0x4d93ce[_0x91486(0x4e1)]())?.[_0x91486(0x970)](),this[_0x91486(0x366)][_0x91486(0x91b)](_0x4d93ce['getRemoteId']());}[_0x148812(0x89c)](_0x2783f3){const _0x4a7b8b=_0x148812;return _0x24a63b[_0x4a7b8b(0x14c)](_0x306624['ConnectionState'],_0x4a7b8b(0x46c),this[_0x4a7b8b(0x123)],this['connections'][_0x4a7b8b(0x6fe)]()),0x0!==this[_0x4a7b8b(0x91d)][_0x4a7b8b(0x33c)]&&(Array['from'](this[_0x4a7b8b(0x91d)][_0x4a7b8b(0x6fe)]())[_0x4a7b8b(0x453)](_0x432250=>_0x432250[_0x4a7b8b(0x4e1)]()===_0x2783f3)?.['isConnected']()??!0x1);}[_0x148812(0x491)](_0x257276){const _0x48077b=_0x148812;this[_0x48077b(0x74d)][_0x48077b(0x6b3)](_0x257276['getLabel'](),_0x257276);}['unregisterPublisher'](_0x131332){const _0x153993=_0x148812;this[_0x153993(0x74d)][_0x153993(0x91b)](_0x131332[_0x153993(0x5cf)]());}[_0x148812(0x8c5)](_0x1fc561){const _0x235ee1=_0x148812,_0x3d07fa=_0x1fc561['subscribe'](this[_0x235ee1(0x6aa)][_0x235ee1(0x949)](this));this['dataUnsubscribers'][_0x235ee1(0x6b3)](_0x1fc561[_0x235ee1(0x5cf)](),_0x3d07fa);}[_0x148812(0x8e4)](_0x33a4af){const _0x250af0=_0x148812;this[_0x250af0(0x963)][_0x250af0(0x792)](_0x33a4af[_0x250af0(0x5cf)]())?.(),this[_0x250af0(0x963)][_0x250af0(0x91b)](_0x33a4af[_0x250af0(0x5cf)]());}[_0x148812(0x12c)](){const _0x245e9f=_0x148812;return[_0x366c21[_0x245e9f(0x8a4)][_0x245e9f(0x660)],_0x366c21['ContentType']['PubSub'],_0x366c21[_0x245e9f(0x8a4)][_0x245e9f(0x27d)],_0x366c21['ContentType']['KeyValueDatabase'],_0x366c21[_0x245e9f(0x8a4)][_0x245e9f(0x71f)],_0x366c21['ContentType'][_0x245e9f(0x2e2)],_0x366c21[_0x245e9f(0x8a4)][_0x245e9f(0x7b8)],_0x366c21[_0x245e9f(0x8a4)][_0x245e9f(0x980)]];}['send'](_0x4ad7cb){const _0x5f4a7b=_0x148812;if(!0x1===_0x4ad7cb[_0x5f4a7b(0x8b2)]){if(_0x4ad7cb[_0x5f4a7b(0x3a1)]||!_0x4ad7cb['destinationIds']||0x1!==_0x4ad7cb['destinationIds'][_0x5f4a7b(0x6a1)])throw new _0x864d50(_0x864d50[_0x5f4a7b(0x753)]['ConnectionInvalidDataEvent'],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x5f4a7b(0x123)]});if(!this[_0x5f4a7b(0x89c)](_0x4ad7cb[_0x5f4a7b(0x389)][0x0]))throw new _0x30fc07(_0x5f4a7b(0x938));}const _0x3d9391=_0x4ad7cb['recipients']??[];try{const {filteredDestinationIds:_0x243ef2,extendedRecipients:_0x3c5dce}=this[_0x5f4a7b(0x239)](_0x4ad7cb,_0x3d9391);_0x4ad7cb['destinationIds']=_0x243ef2,_0x4ad7cb['recipients']=_0x3c5dce;}catch(_0x261723){if(_0x261723 instanceof _0x30fc07)return void _0x24a63b[_0x5f4a7b(0x14c)](_0x306624[_0x5f4a7b(0x109)],_0x5f4a7b(0x226),'Early\x20return',_0x4ad7cb,_0x261723[_0x5f4a7b(0x34d)]);}const _0xc4ecc=this[_0x5f4a7b(0x2d9)](_0x4ad7cb);this[_0x5f4a7b(0x7b2)](_0x4ad7cb,_0xc4ecc),_0x4ad7cb['propagate']=_0xc4ecc;const _0x48781f=this[_0x5f4a7b(0x2a9)](_0x4ad7cb,_0x3d9391);for(const _0x177b7d of _0x48781f){const _0x2b491d=this[_0x5f4a7b(0x366)]['get'](_0x177b7d[_0x5f4a7b(0x4e1)]());if(!_0x2b491d)throw new _0x864d50(_0x864d50[_0x5f4a7b(0x753)]['ConnectionNoRetryQueue'],{'message':_0x5f4a7b(0x270),'localId':this['localId'],'remoteId':_0x177b7d[_0x5f4a7b(0x4e1)](),'data':_0x4ad7cb});_0x2b491d['push'](_0x4ad7cb);}}['getRemoteId'](){return'';}[_0x148812(0x63f)](){return this['localId'];}[_0x148812(0x763)](_0x316085){const _0x40a5b2=_0x148812;return this[_0x40a5b2(0x331)][_0x40a5b2(0x360)](_0x316085);}['updatePropagationProperties'](_0x142071,_0x2490b9){const _0x45ab57=_0x148812,_0x223016={'filteredDestinationIds':_0x142071['destinationIds'],'extendedRecipients':_0x142071['recipients']};if(!_0x142071['propagate'])return _0x223016;const _0x36159b=Array[_0x45ab57(0x928)](this['connections'][_0x45ab57(0x6fe)]())[_0x45ab57(0x5b5)](_0x50b75b=>_0x50b75b['getConnectionType']()===_0x222324['Core']||_0x50b75b[_0x45ab57(0x89c)]())[_0x45ab57(0x7e1)](_0x5a36b4=>_0x5a36b4[_0x45ab57(0x4e1)]());if(_0x36159b['reduce']((_0x556f2c,_0x1d3b71)=>_0x556f2c&&_0x142071[_0x45ab57(0x4dd)][_0x45ab57(0x523)](_0x1d3b71),!0x0))throw new _0x30fc07('All\x20recipients\x20already\x20received');if(_0x142071['destinationIds']){const _0x3560dd=_0x142071[_0x45ab57(0x389)]['filter'](_0x5e8148=>_0x5e8148!==this['localId']&&!_0x142071['recipients'][_0x45ab57(0x523)](_0x5e8148));if(0x0===_0x3560dd[_0x45ab57(0x6a1)])throw new _0x30fc07(_0x45ab57(0x6da));_0x223016[_0x45ab57(0x212)]=_0x3560dd;}return _0x223016[_0x45ab57(0x4e4)]=[...new Set([..._0x2490b9,..._0x36159b,this['localId']])],_0x223016;}[_0x148812(0x7b2)](_0x114162,_0x27b649=!0x1){const _0x37c3c1=_0x148812;if(0x0===_0x114162['topicLabel']&&!_0x24bc38(_0x114162,this[_0x37c3c1(0x123)])&&_0x114162[_0x37c3c1(0x3a1)]){const _0x425a52=_0x1718a0(_0x114162,this['localId']);_0x24a63b[_0x37c3c1(0x2ce)](_0x306624[_0x37c3c1(0x240)],_0x114162[_0x37c3c1(0x48b)]+_0x37c3c1(0x68a)+_0x27b649+')\x20'+_0x425a52,_0x114162,_0x27b649);}}[_0x148812(0x2d9)](_0x4abf03){const _0x1eb2c5=_0x148812;if(_0x4abf03[_0x1eb2c5(0x389)]&&_0x4abf03[_0x1eb2c5(0x3a1)]){const _0x27dd0e=Array[_0x1eb2c5(0x928)](this[_0x1eb2c5(0x91d)]['keys']())[_0x1eb2c5(0x5b5)](_0xf40019=>_0xf40019[_0x1eb2c5(0x740)]()===_0x222324['Core']||_0xf40019[_0x1eb2c5(0x89c)]())[_0x1eb2c5(0x7e1)](_0x4115dd=>_0x4115dd['getRemoteId']());return!_0x4abf03[_0x1eb2c5(0x389)][_0x1eb2c5(0x88)]((_0xe8075d,_0x221657)=>_0xe8075d&&_0x27dd0e[_0x1eb2c5(0x523)](_0x221657),!0x0);}return _0x4abf03[_0x1eb2c5(0x3a1)]??!0x1;}[_0x148812(0x2a9)](_0x1db589,_0x43714b){const _0x45f320=_0x148812;if(_0x1db589[_0x45f320(0x3a1)]&&_0x1db589[_0x45f320(0x389)]){const _0x47afc6=Array[_0x45f320(0x928)](this[_0x45f320(0x91d)]['keys']())[_0x45f320(0x5b5)](_0x45ff7e=>_0x45ff7e[_0x45f320(0x740)]()===_0x222324[_0x45f320(0x222)]||_0x45ff7e[_0x45f320(0x89c)]())[_0x45f320(0x7e1)](_0x26cb79=>_0x26cb79['getRemoteId']()),_0x421ad4=new Set(),_0x3210c0=_0x1db589[_0x45f320(0x21f)]===this[_0x45f320(0x123)]?0x3:0x1;return _0x1db589[_0x45f320(0x389)][_0x45f320(0x6bf)](_0x546597=>{const _0x1b5c88=_0x45f320,_0x58bf8e=this[_0x1b5c88(0x986)][_0x1b5c88(0x282)](_0x47afc6,_0x546597);let _0x322a48=0x0,_0x1b66cb=0x0;_0x58bf8e[_0x1b5c88(0x6bf)](_0x145eaf=>{const _0x32f2f6=_0x1b5c88;if(_0x322a48>=_0x3210c0)return;const _0x480e95=Array['from'](this[_0x32f2f6(0x91d)][_0x32f2f6(0x6fe)]())[_0x32f2f6(0x453)](_0x260636=>_0x260636[_0x32f2f6(0x4e1)]()===_0x145eaf);if(_0x480e95){if(_0x480e95[_0x32f2f6(0x740)]()===_0x222324['Core']&&_0x1b66cb>0x0)return void(_0x1b66cb-=0x1);_0x421ad4[_0x32f2f6(0x96d)](_0x480e95),_0x480e95['getConnectionType']()===_0x222324['Optimization']&&(_0x1b66cb+=0x1),_0x322a48+=0x1;}});}),Array['from'](_0x421ad4);}return Array[_0x45f320(0x928)](this[_0x45f320(0x91d)][_0x45f320(0x6fe)]())[_0x45f320(0x5b5)](_0x498cfc=>{const _0x347207=_0x45f320;return _0x4cdbd5=_0x498cfc[_0x347207(0x4e1)](),!_0x43714b[_0x347207(0x523)](_0x4cdbd5)&&(_0x3de2cb(_0x1db589,_0x4cdbd5)||_0x1db589['propagate'])&&(!_0x1db589['propagate']||_0x498cfc[_0x347207(0x89c)]()||_0x498cfc['getConnectionType']()===_0x222324['Core']);var _0x4cdbd5;});}}class _0x112774{[_0x148812(0x123)];['messageBuffer'];[_0x148812(0x91d)]=new Map();[_0x148812(0x3eb)];constructor(_0x49ccca,_0x2287a1){const _0x3b3cef=_0x148812;this[_0x3b3cef(0x123)]=_0x49ccca,this[_0x3b3cef(0x42a)]=_0x2287a1;}[_0x148812(0x6ac)](){}[_0x148812(0x6aa)](_0x431f88){const _0x13d39a=_0x148812;for(const _0x2b7754 of this[_0x13d39a(0x91d)][_0x13d39a(0x6fe)]())try{return void _0x2b7754[_0x13d39a(0x6aa)]({'retry':!0x1,..._0x431f88});}catch(_0x44f056){_0x44f056 instanceof _0x30fc07||_0x24a63b[_0x13d39a(0x14c)](_0x306624[_0x13d39a(0x80a)],_0x13d39a(0x72f)+_0x2b7754,_0x44f056,_0x431f88);}_0x24a63b[_0x13d39a(0x14c)](_0x306624[_0x13d39a(0x80a)],_0x13d39a(0x152));}[_0x148812(0x7e0)](_0x34d041){const _0x13a3a6=_0x148812,_0x26e5ca=_0x34d041[_0x13a3a6(0x763)](_0x4f16c3=>{const _0xd726ea=_0x13a3a6;this[_0xd726ea(0x42a)][_0xd726ea(0x28e)](_0x4f16c3[_0xd726ea(0x48b)])||0x0===_0x4f16c3[_0xd726ea(0x2ef)]&&(this[_0xd726ea(0x42a)]['addMessage'](_0x4f16c3['uuid']),_0x3de2cb(_0x4f16c3,this[_0xd726ea(0x123)])&&this[_0xd726ea(0x3eb)]?.[_0xd726ea(0x5a3)](_0x4f16c3));});this['connections'][_0x13a3a6(0x6b3)](_0x34d041,_0x26e5ca);}[_0x148812(0x5b3)](_0x45f2bb){const _0xea5c76=_0x148812;this[_0xea5c76(0x91d)][_0xea5c76(0x792)](_0x45f2bb)?.(),this[_0xea5c76(0x91d)][_0xea5c76(0x91b)](_0x45f2bb);}[_0x148812(0x63f)](){return this['localId'];}[_0x148812(0x4e1)](){return'';}[_0x148812(0x12c)](){const _0x5a6446=_0x148812;return[_0x366c21['ContentType'][_0x5a6446(0x660)]];}['isConnected'](){throw new Error('Method\x20not\x20implemented.');}['registerSystemPublisher'](_0x234d78){const _0x2f0c01=_0x148812;this[_0x2f0c01(0x3eb)]=_0x234d78;}[_0x148812(0x75f)](){delete this['systemTopic'];}}class _0x4d4ea1{['buffer']=new Map();['unsubscribeHandler'];constructor(){this['unsubscribeHandler']=_0x1d7287['setInterval'](()=>{const _0x1512f0=a0_0x53e8;for(const [_0x232528,_0x3ef9b7]of this[_0x1512f0(0x297)][_0x1512f0(0x653)]())Date[_0x1512f0(0x847)]()-_0x3ef9b7>0x124f80&&this['buffer']['delete'](_0x232528);},0x1d4c0);}[_0x148812(0x6ac)](){const _0x42e717=_0x148812;this[_0x42e717(0x6f0)]();}[_0x148812(0x80b)](_0x86f680){const _0x554ac5=_0x148812;this[_0x554ac5(0x297)][_0x554ac5(0x6b3)](_0x86f680,Date['now']());}[_0x148812(0x28e)](_0xa103a4){const _0x5df1d2=_0x148812;return this['buffer'][_0x5df1d2(0x31f)](_0xa103a4);}}class _0x2472f8{[_0x148812(0x5bf)];[_0x148812(0x3d6)];['iceServers'];[_0x148812(0x2c0)];[_0x148812(0x91d)]=new Map();[_0x148812(0x8e7)];[_0x148812(0x3d0)];['signalingServer'];[_0x148812(0x42a)];constructor(_0x1da1fb,_0x23e451,_0x3e1db6,_0x400de1,_0x4f6ed6){const _0x219f7d=_0x148812;this['configs']=_0x1da1fb,this[_0x219f7d(0x3d6)]=_0x23e451,this['iceServers']=_0x400de1,this[_0x219f7d(0x2c0)]=_0x4f6ed6,this['messageBuffer']=new _0x4d4ea1(),this[_0x219f7d(0x3d0)]=new _0x5403dc(this['configs']['localNode']['getId'](),this[_0x219f7d(0x42a)],_0x3e1db6),this[_0x219f7d(0x770)]=new _0x18d058(this['configs'][_0x219f7d(0x945)],this[_0x219f7d(0x5bf)][_0x219f7d(0x853)],this[_0x219f7d(0x5bf)][_0x219f7d(0x894)],_0x219f7d(0x4be),this[_0x219f7d(0x3d6)]),this[_0x219f7d(0x8e7)]=new _0x112774(this[_0x219f7d(0x5bf)][_0x219f7d(0x894)][_0x219f7d(0x114)](),this[_0x219f7d(0x42a)]),this['connectionPool']['addConnection'](this['connectionGroup']),this[_0x219f7d(0x8e7)]['addConnection'](this['signalingServer']),this['configs'][_0x219f7d(0x990)][_0x219f7d(0x428)](this[_0x219f7d(0x8e7)]);}['close'](){const _0x1bed22=_0x148812;this[_0x1bed22(0x42a)][_0x1bed22(0x6ac)](),this[_0x1bed22(0x91d)][_0x1bed22(0x6bf)]((_0x8c0218,_0x5dcd9b)=>this[_0x1bed22(0x41d)](_0x5dcd9b)),this['configs']['mediator'][_0x1bed22(0x447)](this[_0x1bed22(0x8e7)]),this[_0x1bed22(0x8e7)]['removeConnection'](this[_0x1bed22(0x770)]),this[_0x1bed22(0x8e7)][_0x1bed22(0x5b3)](this['connectionGroup']),this['connectionPool'][_0x1bed22(0x6ac)](),this[_0x1bed22(0x770)][_0x1bed22(0x6ac)](),this[_0x1bed22(0x3d0)][_0x1bed22(0x6ac)]();}async[_0x148812(0x85c)](){const _0x558baf=_0x148812;await this['signalingServer'][_0x558baf(0x2b8)]();}async[_0x148812(0x269)](_0x812089,_0x4bcfa1=_0x222324[_0x148812(0x222)]){const _0x52b0ed=_0x148812;if(this[_0x52b0ed(0x91d)][_0x52b0ed(0x31f)](_0x812089)){if(this[_0x52b0ed(0x91d)][_0x52b0ed(0x792)](_0x812089)?.['getConnectionType']()===_0x222324['Optimization']&&_0x4bcfa1===_0x222324[_0x52b0ed(0x222)])return void this[_0x52b0ed(0x91d)][_0x52b0ed(0x792)](_0x812089)?.[_0x52b0ed(0x4de)](_0x222324[_0x52b0ed(0x222)]);throw new _0x864d50(_0x864d50[_0x52b0ed(0x753)][_0x52b0ed(0x3be)],{'localId':this[_0x52b0ed(0x5bf)][_0x52b0ed(0x894)][_0x52b0ed(0x114)](),'remoteId':_0x812089});}const _0x28838b=new _0x558c0e(this[_0x52b0ed(0x5bf)]['clusterId'],this[_0x52b0ed(0x5bf)]['localNode'],_0x812089,this[_0x52b0ed(0x106)],_0x4bcfa1,this[_0x52b0ed(0x2c0)][_0x52b0ed(0xe6)],this[_0x52b0ed(0x2c0)][_0x52b0ed(0x323)],this[_0x52b0ed(0x2c0)][_0x52b0ed(0x1e2)]);this[_0x52b0ed(0x91d)][_0x52b0ed(0x6b3)](_0x812089,_0x28838b),this[_0x52b0ed(0x3d0)][_0x52b0ed(0x7e0)](_0x28838b),this[_0x52b0ed(0x5bf)][_0x52b0ed(0x990)]['registerSystemSource'](_0x28838b),this[_0x52b0ed(0x5bf)]['mediator'][_0x52b0ed(0x26d)](_0x812089),await _0x28838b[_0x52b0ed(0x2b8)]();}['getConnectionGroup'](){return this['connectionGroup'];}[_0x148812(0x59c)](_0xce36b8){const _0x33a067=_0x148812;if(!this['connections'][_0x33a067(0x31f)](_0xce36b8))throw new _0x864d50(_0x864d50[_0x33a067(0x753)][_0x33a067(0x28c)],{'localId':this['configs'][_0x33a067(0x894)]['getId'](),'remoteId':_0xce36b8});return this[_0x33a067(0x91d)]['get'](_0xce36b8);}[_0x148812(0x101)](_0x17726e){const _0x1a384a=_0x148812,_0x41e1c2=Array[_0x1a384a(0x928)](this['connections']['values']());return _0x17726e?_0x41e1c2[_0x1a384a(0x5b5)](_0x17726e):_0x41e1c2;}async['collectStats'](_0x18465a){const _0x5bbe5d=_0x148812,_0x43cfc0=this[_0x5bbe5d(0x91d)][_0x5bbe5d(0x792)](_0x18465a);_0x43cfc0&&_0x43cfc0[_0x5bbe5d(0x89c)]()&&await _0x43cfc0['collectStats']();}[_0x148812(0x3c7)](_0x1f461b){const _0x3d5134=_0x148812;if(_0x1f461b[_0x3d5134(0x373)]!==_0x427f74[_0x3d5134(0x891)]||_0x1f461b[_0x3d5134(0x3a1)])try{this[_0x3d5134(0x3d0)][_0x3d5134(0x6aa)](_0x1f461b);}catch(_0x287b41){if(_0x287b41 instanceof _0x30fc07)return;throw _0x287b41;}else this[_0x3d5134(0x8e7)][_0x3d5134(0x6aa)](_0x1f461b);}async[_0x148812(0x4bb)](_0x35c7cb){const _0x7b0e49=_0x148812;switch(_0x35c7cb[_0x7b0e49(0x92a)]['type']){case _0x4c498b[_0x7b0e49(0x413)]:case _0x4c498b[_0x7b0e49(0x7b0)]:case _0x4c498b[_0x7b0e49(0x43d)]:return;}if(!_0x35c7cb[_0x7b0e49(0x389)]||0x1!==_0x35c7cb['destinationIds'][_0x7b0e49(0x6a1)])throw new _0x864d50(_0x864d50[_0x7b0e49(0x753)][_0x7b0e49(0x7c3)],{'message':_0x7b0e49(0x6cc),'event':_0x35c7cb});if(_0x35c7cb[_0x7b0e49(0x389)][0x0]!==this['configs'][_0x7b0e49(0x894)]['getId']())throw new _0x864d50(_0x864d50[_0x7b0e49(0x753)][_0x7b0e49(0x7c3)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x35c7cb});if(!this['connections'][_0x7b0e49(0x31f)](_0x35c7cb[_0x7b0e49(0x21f)])){let _0x13d9e7=_0x222324['Core'];if(!(this[_0x7b0e49(0x3cd)](_0x35c7cb[_0x7b0e49(0x92a)])||this[_0x7b0e49(0x432)](_0x35c7cb['content'])||this[_0x7b0e49(0xf9)](_0x35c7cb['content'])))return;_0x13d9e7=_0x35c7cb[_0x7b0e49(0x92a)][_0x7b0e49(0x3ad)],await this[_0x7b0e49(0x269)](_0x35c7cb[_0x7b0e49(0x21f)],_0x13d9e7);}const _0x28083b=this[_0x7b0e49(0x91d)][_0x7b0e49(0x792)](_0x35c7cb['sourceId']);await _0x28083b[_0x7b0e49(0x4bb)](_0x35c7cb);}['handleRemediationSystemEvents'](_0x48d2b2){const _0x339282=_0x148812;if(_0x48d2b2['content'][_0x339282(0x200)]===_0x525464['Remediation']){if(_0x48d2b2[_0x339282(0x92a)]['targetId']===this['configs'][_0x339282(0x894)][_0x339282(0x114)]())return void this['connections'][_0x339282(0x6bf)](_0x4bdf83=>_0x4bdf83[_0x339282(0x5ce)](_0x48d2b2));this['connections']['get'](_0x48d2b2['content']['targetId'])?.[_0x339282(0x5ce)](_0x48d2b2);}}[_0x148812(0x6c4)]({content:_0x2ea889}){const _0x5b3f83=_0x148812;_0x2ea889['type']===_0x4b25da[_0x5b3f83(0x64b)]&&this['closeConnection'](_0x2ea889['id']);}[_0x148812(0x53b)](){const _0x4eff93=_0x148812,_0x1b0cd8=Array[_0x4eff93(0x928)](this['connections']['values']())['reduce']((_0x127a32,_0x5e697e)=>_0x127a32+_0x5e697e[_0x4eff93(0x715)](),0x0);return _0x1b0cd8<_0x40068a?Promise[_0x4eff93(0x87d)](_0x1b0cd8):new Promise(_0x12d2f4=>{const _0x535c91=setInterval(()=>{const _0x923489=a0_0x53e8,_0x36f7e8=Array[_0x923489(0x928)](this[_0x923489(0x91d)][_0x923489(0x910)]())[_0x923489(0x88)]((_0x4eca83,_0x422994)=>_0x4eca83+_0x422994['calculateArrayBufferSize'](),0x0);_0x36f7e8<_0x40068a&&(clearInterval(_0x535c91),_0x12d2f4(_0x36f7e8));},0x3e8);});}[_0x148812(0x6e8)](){const _0x33b8f2=_0x148812;for(const _0x30b3a5 of this[_0x33b8f2(0x91d)][_0x33b8f2(0x910)]())if(_0x30b3a5['getBufferedAmount']()>0x0||_0x30b3a5[_0x33b8f2(0x715)]()>0x0)return!0x0;return!0x1;}[_0x148812(0x41d)](_0x1b96a8){const _0x11ac08=_0x148812,_0x410f10=this[_0x11ac08(0x91d)][_0x11ac08(0x792)](_0x1b96a8);_0x410f10&&(this[_0x11ac08(0x5bf)]['mediator'][_0x11ac08(0x387)](_0x1b96a8),this[_0x11ac08(0x5bf)][_0x11ac08(0x990)][_0x11ac08(0x447)](_0x410f10),_0x410f10 instanceof _0x558c0e&&this[_0x11ac08(0x3d0)][_0x11ac08(0x5b3)](_0x410f10),_0x410f10[_0x11ac08(0x6ac)](),this[_0x11ac08(0x91d)]['delete'](_0x1b96a8));}[_0x148812(0x3cd)](_0x28b673){const _0x329c19=_0x148812;return _0x28b673[_0x329c19(0x200)]===_0x4c498b[_0x329c19(0x531)];}[_0x148812(0xf9)](_0x39606a){const _0x3112bd=_0x148812;return _0x39606a[_0x3112bd(0x200)]===_0x4c498b[_0x3112bd(0x968)];}[_0x148812(0x432)](_0x289ac3){const _0x2dc7bd=_0x148812;return _0x289ac3[_0x2dc7bd(0x200)]===_0x4c498b[_0x2dc7bd(0x30d)];}}!function(_0x9d11c4){const _0x30d860=_0x148812;_0x9d11c4[_0x9d11c4['SubscribeMediaStream']=0x0]='SubscribeMediaStream',_0x9d11c4[_0x9d11c4[_0x30d860(0x6d2)]=0x1]=_0x30d860(0x6d2),_0x9d11c4[_0x9d11c4[_0x30d860(0x6fa)]=0x2]=_0x30d860(0x6fa),_0x9d11c4[_0x9d11c4['NeedMediaStream']=0x3]=_0x30d860(0x345),_0x9d11c4[_0x9d11c4['RestartNeedMediaStream']=0x4]=_0x30d860(0x358),_0x9d11c4[_0x9d11c4['CanProvideMediaStream']=0x5]='CanProvideMediaStream',_0x9d11c4[_0x9d11c4['CannotProvideMediaStream']=0x6]='CannotProvideMediaStream',_0x9d11c4[_0x9d11c4[_0x30d860(0x32a)]=0x7]='MediaStreamUnavailable';}(_0x43bb47||(_0x43bb47={}));class _0x854fe6 extends _0x36c311{['localNode'];[_0x148812(0x853)];[_0x148812(0x945)];['connectorConstructor'];[_0x148812(0x5b1)];[_0x148812(0x144)]=0x0;[_0x148812(0x98b)];['eventListener']=_0x48de03();[_0x148812(0x786)]=new Map();[_0x148812(0x924)];constructor(_0x5e8d33,_0x3b7122,_0x4de218,_0x59dfa4,_0x3bd5ff){const _0x120795=_0x148812;if(_0x120795(0x53a)!=typeof _0x3b7122)throw new _0x5f50cc(_0x128d3f[_0x120795(0x595)],_0x120795(0x8b7));super(_0x5e8d33,_0x3b7122),this[_0x120795(0x894)]=_0x5e8d33,this[_0x120795(0x853)]=_0x4de218,this[_0x120795(0x945)]=_0x59dfa4,this['connectorConstructor']=_0x3bd5ff,this['sendStats']();}[_0x148812(0x1b2)](){const _0x2e0c53=_0x148812;this[_0x2e0c53(0x924)]?.(),this['listenerUnsubscribers'][_0x2e0c53(0x6bf)](_0x5f3e56=>_0x5f3e56()),clearTimeout(this[_0x2e0c53(0x5b1)]),delete this['debounceStats'],super['destroy']();}[_0x148812(0x98a)](){const _0x487d67=_0x148812;this[_0x487d67(0x44b)]();}['close'](){const _0x17b4f6=_0x148812;this['systemTopic'][_0x17b4f6(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x17b4f6(0x1c4)],'content':{'type':_0x457093['CloseExternalStorageConnection'],'label':this['label']}});}[_0x148812(0x16e)](){const _0x3ca0ed=_0x148812;return _0x366c21[_0x3ca0ed(0x8a4)][_0x3ca0ed(0x980)];}async[_0x148812(0x792)](_0x19764b){const _0x100cbb=_0x148812;if(!this['connector'])throw new _0x5f50cc(_0x128d3f[_0x100cbb(0xcb)],_0x100cbb(0x173));_0x24a63b[_0x100cbb(0x8f3)](_0x4d4c54[_0x100cbb(0x980)],{'type':_0x100cbb(0x792),'label':this[_0x100cbb(0xb2)],'nodeId':this[_0x100cbb(0x894)][_0x100cbb(0x114)](),'nodeType':this[_0x100cbb(0x894)][_0x100cbb(0x200)],'clusterId':this['clusterId'],'path':_0x19764b}),this['reads']+=0x1,this[_0x100cbb(0x44b)]();try{return await this[_0x100cbb(0x98b)][_0x100cbb(0x792)](_0x19764b);}catch(_0x215a9d){throw new _0x5f50cc(_0x128d3f[_0x100cbb(0x8b0)],_0x100cbb(0x8a2)+_0x19764b);}}async[_0x148812(0x946)](_0x11a46b,_0x4e4f38){const _0x422303=_0x148812;if(!this[_0x422303(0x98b)])throw new _0x5f50cc(_0x128d3f[_0x422303(0xcb)],_0x422303(0x99b));const {recursive:_0x17d12f=!0x1}=_0x4e4f38??{};_0x24a63b[_0x422303(0x8f3)](_0x4d4c54[_0x422303(0x980)],{'type':_0x422303(0x946),'label':this['label'],'nodeId':this['localNode'][_0x422303(0x114)](),'nodeType':this[_0x422303(0x894)][_0x422303(0x200)],'clusterId':this['clusterId'],'path':_0x11a46b}),this[_0x422303(0x144)]+=0x1,this[_0x422303(0x44b)]();try{return await this[_0x422303(0x98b)][_0x422303(0x946)](_0x11a46b,_0x17d12f);}catch(_0x260431){throw new _0x5f50cc(_0x128d3f[_0x422303(0x8b0)],_0x422303(0x1e3)+_0x11a46b);}}[_0x148812(0x360)](_0x550805,_0x5b8969){const _0x526f20=_0x148812;if(this[_0x526f20(0x786)][_0x526f20(0x31f)](_0x550805))throw new _0x5f50cc(_0x128d3f[_0x526f20(0x1b6)],_0x526f20(0x82c));this[_0x526f20(0x786)][_0x526f20(0x6b3)](_0x550805,this[_0x526f20(0x5d8)][_0x526f20(0x360)](_0x5b8969));}[_0x148812(0x4a0)](_0x2c8e58){const _0x3ce5a6=_0x148812;this['listenerUnsubscribers'][_0x3ce5a6(0x792)](_0x2c8e58)?.(),this[_0x3ce5a6(0x786)][_0x3ce5a6(0x91b)](_0x2c8e58);}async[_0x148812(0x29a)](){const _0x2bc11d=_0x148812,_0xf8ed08=(await(0x0,_0x23941c['getDoc'])((0x0,_0x23941c[_0x2bc11d(0x4e0)])(_0x22b478['getFirestore'](),'/developers/'+this['vendorId']+_0x2bc11d(0x39e)+this['label'])))['data']();if(!_0xf8ed08)throw new _0x5f50cc(_0x128d3f['ExternalStorageConnectionDoesNotExist'],'Cannot\x20find\x20External\x20Storage\x20connection:\x20'+this[_0x2bc11d(0xb2)]);const {site:_0x5d44b7,drive:_0x417682}=_0xf8ed08,_0x2bd8bf=(await(0x0,_0x1563b0[_0x2bc11d(0x803)])(_0x22b478[_0x2bc11d(0xde)](),_0x2bc11d(0x382))({'storageId':this[_0x2bc11d(0xb2)]}))[_0x2bc11d(0x912)]['accessToken'];this[_0x2bc11d(0x98b)]=new this[(_0x2bc11d(0x70b))](_0x5d44b7['id'],_0x417682['id'],_0x2bd8bf,async()=>(await(0x0,_0x1563b0[_0x2bc11d(0x803)])(_0x22b478[_0x2bc11d(0xde)](),_0x2bc11d(0x7c8))({'storageId':this['label']}))['data']['accessToken']),this[_0x2bc11d(0x1e4)]();}[_0x148812(0x44b)](){const _0x35528b=_0x148812;this[_0x35528b(0x5b1)]&&clearTimeout(this[_0x35528b(0x5b1)]),this[_0x35528b(0x5b1)]=setTimeout(async()=>{const _0x512ba6=_0x35528b;delete this[_0x512ba6(0x5b1)],this['systemTopic'][_0x512ba6(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x512ba6(0x1c4)],'content':{'type':_0x457093['ExternalStorageStats'],'label':this[_0x512ba6(0xb2)],'stats':{'timestamp':Date[_0x512ba6(0x847)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x512ba6(0x144)],'prompts':0x0,'tokens':0x0}}});},_0x470373);}async[_0x148812(0x1e4)](){const _0x427714=_0x148812;await this[_0x427714(0x98b)]?.[_0x427714(0x2c8)](),this[_0x427714(0x924)]=_0x1d7287[_0x427714(0x511)](async()=>{const _0x3e9145=_0x427714;try{if(!this[_0x3e9145(0x98b)])return;const _0x129f7b=await this['connector']['listChanges']();for(const _0xa5cbf9 of _0x129f7b)this['eventListener'][_0x3e9145(0x5a3)](_0xa5cbf9);}catch(_0x357fd3){}},0x493e0);}}const _0x7eac83=require('rxjs');class _0x2be506 extends _0x36c311{['graphService'];[_0x148812(0xb5)]=new Map();[_0x148812(0x7ca)]=new Map();[_0x148812(0x7bb)]=new Map();[_0x148812(0x6f0)];constructor(_0x52d1cd,_0x2dfb25,_0x221089){const _0x36bc5e=_0x148812;super(_0x52d1cd,_0x2dfb25),this[_0x36bc5e(0x986)]=_0x221089;}[_0x148812(0x16e)](){const _0x105e87=_0x148812;return _0x366c21['ContentType'][_0x105e87(0x71f)];}[_0x148812(0x29a)](){const _0x25aeb7=_0x148812;this[_0x25aeb7(0x6f0)]=this[_0x25aeb7(0x763)]((_0x3f3b10,_0x2b516e)=>{const _0x120e92=_0x25aeb7;if(_0x24a63b['log'](_0x306624[_0x120e92(0x1f7)],_0x120e92(0x257),_0x3f3b10,_0x2b516e,this[_0x120e92(0x986)][_0x120e92(0x118)]()),!(_0x2b516e instanceof File)){if(!_0x2b516e)throw new _0x864d50(_0x864d50[_0x120e92(0x753)]['JobDispatcherInvalidPayload']);return this['isBidResponse'](_0x2b516e)?this[_0x120e92(0x401)](_0x3f3b10,_0x2b516e['id'],_0x2b516e):this[_0x120e92(0x730)](_0x2b516e)?(_0x24a63b[_0x120e92(0x14c)](_0x306624[_0x120e92(0x1f7)],_0x120e92(0x692)+_0x2b516e['id']+_0x120e92(0x689),_0x2b516e[_0x120e92(0x7ae)]),void this[_0x120e92(0x926)](_0x2b516e['id'],_0x2b516e)):this[_0x120e92(0x84b)](_0x2b516e)?(_0x24a63b[_0x120e92(0x14c)](_0x306624[_0x120e92(0x1f7)],'Job\x20'+_0x2b516e['id']+'\x20received\x20result:',_0x2b516e[_0x120e92(0x7ae)]),void this[_0x120e92(0x27e)](_0x2b516e['id'],_0x2b516e)):void(this[_0x120e92(0x2b0)](_0x2b516e)&&this[_0x120e92(0x925)](_0x2b516e['id'],_0x2b516e['message']));}});}[_0x148812(0x98a)](){const _0x17c7ca=_0x148812;this[_0x17c7ca(0x970)](),this[_0x17c7ca(0x29a)]();}[_0x148812(0x1b2)](){const _0x56cb78=_0x148812;this[_0x56cb78(0x970)](),super[_0x56cb78(0x1b2)]();}[_0x148812(0x970)](){const _0x3ad78a=_0x148812;this['jobs']['clear'](),this['unsubscribeHandler']&&this[_0x3ad78a(0x6f0)]();}[_0x148812(0x6ac)](){const _0xae6df2=_0x148812;this[_0xae6df2(0x3eb)]?.['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74[_0xae6df2(0x1c4)],'content':{'type':_0x457093[_0xae6df2(0x2c7)],'label':this[_0xae6df2(0xb2)]}});}async['createJob'](_0x338f19){const _0x50cbd6=_0x148812,{id:_0x4e375a,parameters:_0x4c8fe5,jobType:_0x169183}=_0x338f19,_0x21d538={'id':_0x4e375a,'jobType':_0x169183,'parameters':_0x4c8fe5,'status':_0x366c21['JobStatus']['Pending'],'created':new Date(),'updated':new Date()};if(this[_0x50cbd6(0xb5)][_0x50cbd6(0x31f)](_0x21d538['id']))throw new _0x5f50cc(_0x128d3f[_0x50cbd6(0x2de)],'Job\x20with\x20id\x20'+_0x21d538['id']+_0x50cbd6(0x552));_0x21d538['created']=new Date(),_0x21d538[_0x50cbd6(0x6ad)]=new Date();const _0x55627a=new _0x7eac83['Subject']();this[_0x50cbd6(0xb5)]['set'](_0x21d538['id'],_0x21d538),this[_0x50cbd6(0x7ca)][_0x50cbd6(0x6b3)](_0x21d538['id'],_0x55627a);try{const _0x468440={'id':_0x21d538['id'],'jobPhase':_0x2892de[_0x50cbd6(0x368)],'jobType':_0x21d538[_0x50cbd6(0x2d4)]},_0x4272ae=0x3;let _0x547b4a=0x0;const _0x141bcd=async()=>{const _0x21aed7=_0x50cbd6;_0x547b4a+=0x1;try{_0x24a63b[_0x21aed7(0x14c)](_0x306624[_0x21aed7(0x1f7)],_0x21aed7(0x692)+_0x21d538['id']+_0x21aed7(0x15a)+_0x547b4a+'.',this[_0x21aed7(0x986)][_0x21aed7(0x118)]()),await this[_0x21aed7(0x6aa)](_0x468440),_0x21d538['updated']=new Date(),this['jobs'][_0x21aed7(0x6b3)](_0x21d538['id'],_0x21d538),this[_0x21aed7(0x47d)](_0x21d538['id']);}catch(_0x28f95e){_0x547b4a<_0x4272ae?(_0x24a63b[_0x21aed7(0x659)](_0x21aed7(0x352)+_0x547b4a+_0x21aed7(0x490)+_0x21d538['id']+_0x21aed7(0x989),{'nodeId':this[_0x21aed7(0x132)][_0x21aed7(0x114)](),'nodeType':this[_0x21aed7(0x132)][_0x21aed7(0x200)],'data':{'job':_0x21d538,'attempts':_0x547b4a,'maxRetries':_0x4272ae}}),setTimeout(_0x141bcd,0x3e8)):(_0x21d538[_0x21aed7(0x697)]=_0x366c21[_0x21aed7(0x78e)][_0x21aed7(0x267)],_0x21d538[_0x21aed7(0x6ad)]=new Date(),this[_0x21aed7(0xb5)][_0x21aed7(0x6b3)](_0x21d538['id'],_0x21d538),_0x24a63b[_0x21aed7(0x2d0)](_0x21aed7(0x618)+_0x21d538['id']+_0x21aed7(0x4e3)+_0x4272ae+_0x21aed7(0x1b8),{'nodeId':this[_0x21aed7(0x132)][_0x21aed7(0x114)](),'nodeType':this[_0x21aed7(0x132)][_0x21aed7(0x200)],'data':{'job':_0x21d538,'attempts':_0x547b4a,'maxRetries':_0x4272ae,'error':_0x28f95e}}));}};_0x141bcd();const {id:_0xcf83f9}=_0x21d538;this[_0x50cbd6(0x4ba)](_0x50cbd6(0x692)+_0x21d538['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0xcf83f9}),_0x21d538['updated']=new Date();}catch(_0x408ac7){_0x21d538['status']=_0x366c21['JobStatus']['Failed'],_0x24a63b[_0x50cbd6(0x2d0)]('Failed\x20to\x20send\x20job\x20'+_0x21d538['id']+':',{'nodeId':this['owner']['getId'](),'nodeType':this['owner'][_0x50cbd6(0x200)],'data':{'job':_0x21d538,'error':_0x408ac7}});}return _0x55627a['asObservable']();}['getJob'](_0x50b323){const _0x3cd3ee=_0x148812,_0x22d151=this[_0x3cd3ee(0xb5)][_0x3cd3ee(0x792)](_0x50b323);if(!_0x22d151)throw new _0x5f50cc(_0x128d3f[_0x3cd3ee(0x8d9)],_0x3cd3ee(0x5d1)+_0x50b323+'\x20not\x20found.');return{'id':_0x22d151['id'],'jobType':_0x22d151[_0x3cd3ee(0x2d4)],'status':_0x22d151[_0x3cd3ee(0x697)],'parameters':_0x22d151['parameters']};}[_0x148812(0x412)](){const _0x56af70=_0x148812;return Array[_0x56af70(0x928)](this[_0x56af70(0xb5)][_0x56af70(0x910)]())['map'](_0x5e07d9=>this[_0x56af70(0x201)](_0x5e07d9['id']));}async['updateJob'](_0x5e7b1b,_0x455f3a){const _0x3c0b18=_0x148812,_0x4eed2e=this[_0x3c0b18(0xb5)][_0x3c0b18(0x792)](_0x5e7b1b);if(!_0x4eed2e)throw new _0x5f50cc(_0x128d3f[_0x3c0b18(0x8d9)],_0x3c0b18(0x5d1)+_0x5e7b1b+_0x3c0b18(0x2e9));_0x4eed2e['parameters']=_0x455f3a,_0x4eed2e[_0x3c0b18(0x6ad)]=new Date(),this['jobs'][_0x3c0b18(0x6b3)](_0x5e7b1b,_0x4eed2e);}async[_0x148812(0x51c)](_0xbd204a){const _0x523bc8=_0x148812;if(!this[_0x523bc8(0xb5)][_0x523bc8(0x91b)](_0xbd204a))throw new _0x5f50cc(_0x128d3f[_0x523bc8(0x8d9)],_0x523bc8(0x5d1)+_0xbd204a+_0x523bc8(0x2e9));const _0x718b81=this[_0x523bc8(0x7ca)][_0x523bc8(0x792)](_0xbd204a);if(!_0x718b81)throw new _0x864d50(_0x864d50[_0x523bc8(0x753)][_0x523bc8(0x825)]);_0x718b81[_0x523bc8(0x8c)](),this[_0x523bc8(0x7ca)][_0x523bc8(0x91b)](_0xbd204a),_0x24a63b[_0x523bc8(0x14c)](_0x306624[_0x523bc8(0x1f7)],'Job\x20'+_0xbd204a+_0x523bc8(0x878));}[_0x148812(0x401)](_0x4c36b4,_0x32aef4,_0x1a7e28){const _0x4e5e69=_0x148812,_0x1b3747=this[_0x4e5e69(0x7bb)][_0x4e5e69(0x792)](_0x32aef4)??new Map();_0x1b3747[_0x4e5e69(0x6b3)](_0x4c36b4,[_0x1a7e28,Date[_0x4e5e69(0x847)]()]),this[_0x4e5e69(0x7bb)]['set'](_0x32aef4,_0x1b3747),this[_0x4e5e69(0x909)](_0x32aef4);}[_0x148812(0x47d)](_0x4cafa9){const _0x43f977=_0x148812,_0x434abd=this[_0x43f977(0xb5)][_0x43f977(0x792)](_0x4cafa9);if(!_0x434abd)throw new _0x864d50(_0x864d50['codes']['JobDispatcherJobNotFound']);const _0x5e9f96=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x4cafa9,!0x0),0xbb8);_0x434abd[_0x43f977(0x94c)]=_0x5e9f96,this[_0x43f977(0xb5)][_0x43f977(0x6b3)](_0x434abd['id'],_0x434abd);}['evaluateBidsAndAttributeJob'](_0x3671dd,_0x127bca=!0x1){const _0x3e1e7c=_0x148812,_0x272d2c=this[_0x3e1e7c(0x986)][_0x3e1e7c(0x118)](),_0x35093c=Array[_0x3e1e7c(0x928)](_0x272d2c[_0x3e1e7c(0x910)]())[_0x3e1e7c(0x5b5)](_0x4adcf1=>_0x4adcf1['type']===_0x366c21[_0x3e1e7c(0x3a8)][_0x3e1e7c(0x6b4)]),_0x103db9=this[_0x3e1e7c(0x7bb)][_0x3e1e7c(0x792)](_0x3671dd)??new Map();if(!_0x127bca&&(!_0x103db9||_0x103db9['size']<_0x35093c[_0x3e1e7c(0x6a1)]))return;const _0x25011d=this[_0x3e1e7c(0xb5)]['get'](_0x3671dd);if(!_0x25011d)throw new _0x864d50(_0x864d50[_0x3e1e7c(0x753)][_0x3e1e7c(0x8d9)]);if(clearTimeout(_0x25011d['responseTimeout']),_0x24a63b['log'](_0x306624[_0x3e1e7c(0x1f7)],_0x3e1e7c(0x692)+_0x25011d['id']+'\x20received\x20responses:',_0x103db9,this['jobBids']),!_0x103db9||0x0===_0x103db9[_0x3e1e7c(0x33c)]){_0x25011d['status']=_0x366c21['JobStatus'][_0x3e1e7c(0x267)],_0x25011d['updated']=new Date(),_0x24a63b[_0x3e1e7c(0x2d0)](_0x3e1e7c(0x692)+_0x25011d['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this[_0x3e1e7c(0x132)][_0x3e1e7c(0x114)](),'nodeType':this['owner'][_0x3e1e7c(0x200)],'data':{'job':_0x25011d,'responses':_0x103db9}});const _0x6eb0a=this[_0x3e1e7c(0x7ca)][_0x3e1e7c(0x792)](_0x3671dd);if(!_0x6eb0a)throw new _0x864d50(_0x864d50[_0x3e1e7c(0x753)][_0x3e1e7c(0x825)]);const _0x23f8e2=_0x3e1e7c(0x84d),_0x5407b8={'id':_0x25011d['id'],'status':_0x25011d[_0x3e1e7c(0x697)],'message':_0x23f8e2};return _0x6eb0a[_0x3e1e7c(0x3a5)](_0x5407b8),_0x6eb0a[_0x3e1e7c(0x8c)](),this[_0x3e1e7c(0xb5)][_0x3e1e7c(0x6b3)](_0x25011d['id'],_0x25011d),void this[_0x3e1e7c(0x7bb)][_0x3e1e7c(0x91b)](_0x3671dd);}const {nodeId:_0x197c92,response:_0x3b6cf5}=this['evaluateBids'](_0x25011d['id'],_0x103db9);_0x25011d[_0x3e1e7c(0x697)]=_0x366c21[_0x3e1e7c(0x78e)]['Processing'],_0x25011d[_0x3e1e7c(0x6ad)]=new Date(),_0x24a63b[_0x3e1e7c(0x14c)](_0x306624['Jobs'],_0x3e1e7c(0x692)+_0x25011d['id']+_0x3e1e7c(0x921)+_0x197c92+'\x20with\x20response:',_0x3b6cf5);const _0x41bd97={'id':_0x25011d['id'],'jobType':_0x25011d[_0x3e1e7c(0x2d4)],'jobPhase':_0x2892de[_0x3e1e7c(0x6e3)],'parameters':_0x25011d[_0x3e1e7c(0x591)]};this[_0x3e1e7c(0x6aa)](_0x41bd97,[_0x197c92]),this[_0x3e1e7c(0xb5)][_0x3e1e7c(0x6b3)](_0x25011d['id'],_0x25011d),this['jobBids'][_0x3e1e7c(0x91b)](_0x3671dd);}[_0x148812(0x820)](_0x44bd68,_0x2673c4){const _0x3ed635=_0x148812;let _0x40d606;const _0x313d70=Array['from'](_0x2673c4['entries']())[_0x3ed635(0x5b5)](([,[_0x2a1604]])=>_0x2a1604[_0x3ed635(0x5e3)]);if(_0x40d606=_0x313d70[_0x3ed635(0x6a1)]>0x0?Array[_0x3ed635(0x928)](_0x2673c4[_0x3ed635(0x653)]())[_0x3ed635(0x556)]((_0x5b9339,_0x53ccea)=>_0x53ccea[0x1][0x0][_0x3ed635(0x4e5)]-_0x5b9339[0x1][0x0][_0x3ed635(0x4e5)]):Array['from'](_0x2673c4[_0x3ed635(0x653)]())[_0x3ed635(0x556)]((_0xcfbe61,_0x434fcf)=>_0xcfbe61[0x1][0x0][_0x3ed635(0x752)]-_0x434fcf[0x1][0x0]['queueLength']),0x1===_0x40d606[_0x3ed635(0x6a1)])return{'nodeId':_0x40d606[0x0][0x0],'response':_0x40d606[0x0][0x1][0x0]};let _0x59dd35;if(_0x59dd35=_0x313d70[_0x3ed635(0x6a1)]>0x0?(_0x2ce65f=>{const _0x35834b=_0x3ed635,_0x3573a5=_0x2ce65f[0x0][0x1][0x0]['bid'];return _0x2ce65f[_0x35834b(0x5b5)](([,[_0xde8406]])=>_0xde8406[_0x35834b(0x4e5)]===_0x3573a5);})(_0x40d606):(_0x28aeb6=>{const _0x30df18=_0x3ed635,_0x4c318e=_0x28aeb6[0x0][0x1][0x0][_0x30df18(0x752)];return _0x28aeb6['filter'](([,[_0x4b1cf6]])=>_0x4b1cf6['queueLength']===_0x4c318e);})(_0x40d606),0x1===_0x59dd35['length'])return{'nodeId':_0x59dd35[0x0][0x0],'response':_0x59dd35[0x0][0x1][0x0]};const _0x214942=this[_0x3ed635(0xb5)][_0x3ed635(0x792)](_0x44bd68);if(!_0x214942)throw new _0x864d50(_0x864d50['codes']['JobDispatcherJobNotFound']);const _0x3aced9=_0x214942['created'][_0x3ed635(0x810)](),_0x1e368c=_0x59dd35[_0x3ed635(0x7e1)](([_0x2821ab,[,_0xf281a1]])=>({'nodeId':_0x2821ab,'rtt':_0xf281a1-_0x3aced9})),_0x571af6=Math[_0x3ed635(0x135)](..._0x1e368c[_0x3ed635(0x7e1)](({rtt:_0x4bf3ba})=>_0x4bf3ba)),_0x23d62c=_0x1e368c['find'](({rtt:_0x54e8c2})=>_0x54e8c2===_0x571af6),[,[_0x51b569]]=_0x59dd35[_0x3ed635(0x453)](([_0x58f79b])=>_0x58f79b===_0x23d62c[_0x3ed635(0x300)]);return{'nodeId':_0x23d62c['nodeId'],'response':_0x51b569};}[_0x148812(0x926)](_0x20dfad,_0x500257){const _0x37b75a=_0x148812,_0x2df43a=this[_0x37b75a(0xb5)]['get'](_0x20dfad);if(!_0x2df43a)throw new _0x864d50(_0x864d50['codes']['JobDispatcherJobNotFound']);const _0x2fdb59=this[_0x37b75a(0x7ca)][_0x37b75a(0x792)](_0x20dfad);if(!_0x2fdb59)throw new _0x864d50(_0x864d50['codes'][_0x37b75a(0x825)]);const _0x140b7d={'id':_0x2df43a['id'],'status':_0x366c21[_0x37b75a(0x78e)]['Partial'],'result':_0x500257[_0x37b75a(0x7ae)]};_0x2fdb59[_0x37b75a(0x3a5)](_0x140b7d);}[_0x148812(0x27e)](_0x98f6d6,_0x38bd82){const _0x51f8a7=_0x148812,_0x33f416=this[_0x51f8a7(0xb5)]['get'](_0x98f6d6);if(!_0x33f416)throw new _0x864d50(_0x864d50['codes'][_0x51f8a7(0x8d9)]);const _0x564acd=this[_0x51f8a7(0x7ca)][_0x51f8a7(0x792)](_0x98f6d6);if(!_0x564acd)throw new _0x864d50(_0x864d50[_0x51f8a7(0x753)][_0x51f8a7(0x825)]);_0x33f416[_0x51f8a7(0x697)]=_0x366c21[_0x51f8a7(0x78e)][_0x51f8a7(0x8ca)];const _0x249aef={'id':_0x33f416['id'],'status':_0x33f416[_0x51f8a7(0x697)],'result':_0x38bd82[_0x51f8a7(0x7ae)]};_0x564acd[_0x51f8a7(0x3a5)](_0x249aef),_0x564acd[_0x51f8a7(0x8c)](),this[_0x51f8a7(0x7ca)][_0x51f8a7(0x91b)](_0x98f6d6),this[_0x51f8a7(0x4ba)](_0x51f8a7(0x692)+_0x98f6d6+'\x20finalized.',{'jobId':_0x98f6d6});}['failJob'](_0x494c92,_0x1c229a){const _0x1b8689=_0x148812,_0x43fae3=this['jobs'][_0x1b8689(0x792)](_0x494c92);if(!_0x43fae3)throw new _0x864d50(_0x864d50[_0x1b8689(0x753)][_0x1b8689(0x8d9)]);const _0x22bd79=this['jobObservers'][_0x1b8689(0x792)](_0x494c92);if(!_0x22bd79)throw new _0x864d50(_0x864d50[_0x1b8689(0x753)][_0x1b8689(0x825)]);_0x43fae3[_0x1b8689(0x697)]=_0x366c21[_0x1b8689(0x78e)][_0x1b8689(0x267)];const _0xe4dc1a={'id':_0x43fae3['id'],'status':_0x43fae3['status'],'message':_0x1c229a};_0x22bd79[_0x1b8689(0x3a5)](_0xe4dc1a),_0x22bd79['complete'](),this[_0x1b8689(0x7ca)][_0x1b8689(0x91b)](_0x494c92),this[_0x1b8689(0x4ba)]('Job\x20'+_0x494c92+_0x1b8689(0x20b),{'jobId':_0x494c92});}[_0x148812(0x4ba)](_0x2ec36d,{jobId:_0x16fbeb}){const _0x229adc=_0x148812,_0x330fb2={'jobId':_0x16fbeb,'mistletIds':Array[_0x229adc(0x928)](this[_0x229adc(0x986)][_0x229adc(0x118)]()[_0x229adc(0x910)]())[_0x229adc(0x5b5)](_0x544c57=>_0x544c57[_0x229adc(0x200)]===_0x366c21[_0x229adc(0x3a8)][_0x229adc(0x6b4)])[_0x229adc(0x7e1)](_0x2c661e=>_0x2c661e[_0x229adc(0x114)]())};_0x24a63b[_0x229adc(0x4ba)](_0x2ec36d,{'nodeId':this[_0x229adc(0x6ce)](),'nodeType':this[_0x229adc(0x132)]['type'],'data':_0x330fb2}),_0x24a63b[_0x229adc(0x14c)](_0x306624[_0x229adc(0x1f7)],_0x2ec36d,_0x330fb2);}['isBidResponse'](_0x3c7886){const _0x4100cd=_0x148812,{jobPhase:_0x2779d9,available:_0xa39dee,bid:_0x536aec}=_0x3c7886;return _0x2779d9===_0x2892de[_0x4100cd(0x6e6)]&&void 0x0!==_0xa39dee&&void 0x0!==_0x536aec;}['isPartialResultResponse'](_0x3b8924){const _0x5d17ac=_0x148812,{jobPhase:_0x4f1281,result:_0x19c791}=_0x3b8924;return _0x4f1281===_0x2892de[_0x5d17ac(0x2dc)]&&void 0x0!==_0x19c791;}[_0x148812(0x84b)](_0x318290){const _0x1d39e2=_0x148812,{jobPhase:_0x395cf0,result:_0xfab4e8}=_0x318290;return _0x395cf0===_0x2892de[_0x1d39e2(0x256)]&&void 0x0!==_0xfab4e8;}[_0x148812(0x2b0)](_0x197a10){const _0x36215c=_0x148812,{jobPhase:_0xd70b2f,message:_0x152be9}=_0x197a10;return _0xd70b2f===_0x2892de[_0x36215c(0x267)]&&void 0x0!==_0x152be9&&_0x36215c(0x53a)==typeof _0x152be9;}}var _0x447956,_0xe97749,_0x5e6e36,_0x30db5a;!function(_0x8625a6){const _0x65b881=_0x148812;_0x8625a6['ObjectStorage']=_0x65b881(0x429),_0x8625a6['ExternalStorage']='external-storage';}(_0x447956||(_0x447956={})),function(_0x467357){const _0x3b51ec=_0x148812;_0x467357['Agent']='agent',_0x467357[_0x3b51ec(0x732)]=_0x3b51ec(0x54d),_0x467357[_0x3b51ec(0x815)]=_0x3b51ec(0x984),_0x467357[_0x3b51ec(0x84)]=_0x3b51ec(0x561),_0x467357['Knowledge']='knowledge',_0x467357[_0x3b51ec(0x98d)]='prompt',_0x467357[_0x3b51ec(0x6c0)]=_0x3b51ec(0x4bf),_0x467357['Time']=_0x3b51ec(0x544),_0x467357[_0x3b51ec(0xd3)]=_0x3b51ec(0x6ed),_0x467357['Search']=_0x3b51ec(0xc3),_0x467357[_0x3b51ec(0x76f)]='web-scraper',_0x467357['WebScraperRaw']=_0x3b51ec(0x199),_0x467357['ChunkSplitter']=_0x3b51ec(0x471),_0x467357['SentenceSplitter']='sentence-splitter',_0x467357[_0x3b51ec(0x1fc)]='word-splitter';}(_0xe97749||(_0xe97749={})),function(_0xa19bbf){const _0x4796a1=_0x148812;_0xa19bbf['ObjectStorageUpload']=_0x4796a1(0x804),_0xa19bbf[_0x4796a1(0x193)]=_0x4796a1(0xc2),_0xa19bbf[_0x4796a1(0x7fb)]='document-parser',_0xa19bbf[_0x4796a1(0x7a5)]=_0x4796a1(0x471),_0xa19bbf[_0x4796a1(0x1fc)]='word-splitter',_0xa19bbf['SentenceSplitter']=_0x4796a1(0x93a),_0xa19bbf[_0x4796a1(0x798)]='relation-extractor',_0xa19bbf[_0x4796a1(0x52e)]='entity-extractor',_0xa19bbf['Reranker']=_0x4796a1(0x77b),_0xa19bbf[_0x4796a1(0x901)]=_0x4796a1(0x88a),_0xa19bbf['Agent']='agent',_0xa19bbf[_0x4796a1(0x127)]=_0x4796a1(0x429),_0xa19bbf[_0x4796a1(0x492)]=_0x4796a1(0x2b9),_0xa19bbf[_0x4796a1(0x2e2)]='vector-database',_0xa19bbf[_0x4796a1(0x7b8)]='graph-database',_0xa19bbf['Prompt']='prompt',_0xa19bbf[_0x4796a1(0x639)]='context';}(_0x5e6e36||(_0x5e6e36={})),function(_0x1ef15a){const _0x3cb237=_0x148812;_0x1ef15a[_0x3cb237(0x85d)]=_0x3cb237(0x501),_0x1ef15a[_0x3cb237(0xe4)]=_0x3cb237(0x625),_0x1ef15a[_0x3cb237(0x84a)]=_0x3cb237(0x272),_0x1ef15a[_0x3cb237(0x1a1)]=_0x3cb237(0x828),_0x1ef15a[_0x3cb237(0x660)]='data',_0x1ef15a[_0x3cb237(0x66f)]=_0x3cb237(0x500),_0x1ef15a['Entity']=_0x3cb237(0x105),_0x1ef15a[_0x3cb237(0x251)]=_0x3cb237(0x94e),_0x1ef15a[_0x3cb237(0x74b)]=_0x3cb237(0xc3),_0x1ef15a[_0x3cb237(0x157)]=_0x3cb237(0x17b),_0x1ef15a[_0x3cb237(0x934)]=_0x3cb237(0x261),_0x1ef15a[_0x3cb237(0x49a)]=_0x3cb237(0x6dc),_0x1ef15a[_0x3cb237(0x639)]=_0x3cb237(0x4cb),_0x1ef15a[_0x3cb237(0x69d)]=_0x3cb237(0x86e);}(_0x30db5a||(_0x30db5a={}));class _0x3b1354{static [_0x148812(0x39b)];constructor(){}static[_0x148812(0x3bf)](){const _0xd1d9c0=_0x148812;return _0x3b1354['instance']||(_0x3b1354[_0xd1d9c0(0x39b)]=new _0x3b1354()),_0x3b1354[_0xd1d9c0(0x39b)];}async[_0x148812(0x90a)](_0xc45798,_0x5c479f){const _0x39aaf2=_0x148812,_0x2f4632=await(0x0,_0x23941c[_0x39aaf2(0x941)])((0x0,_0x23941c[_0x39aaf2(0x4e0)])(_0x22b478[_0x39aaf2(0x58f)](),_0x39aaf2(0x1af)+_0xc45798+_0x39aaf2(0x4a1)+_0x5c479f)),_0x5cc94a=await this['getAgents'](_0xc45798),_0x4ca572=await this['getDataCollections'](_0xc45798),_0x394b8e=await this[_0x39aaf2(0x290)](_0xc45798),_0x21dbed=await this[_0x39aaf2(0x63e)](_0xc45798),_0x17f34d=await this[_0x39aaf2(0x5ea)](_0xc45798);if(!_0x2f4632[_0x39aaf2(0x15d)]())throw new _0x864d50(_0x864d50['codes'][_0x39aaf2(0x1f2)]);return this[_0x39aaf2(0x66c)](_0x2f4632,_0x5cc94a,_0x4ca572,_0x394b8e,_0x21dbed,_0x17f34d);}[_0x148812(0x66c)](_0x3f0f54,_0x552497,_0x5ea906,_0x27a032,_0x3e4ac7,_0x8f7be7){const _0x38fe05=_0x148812,_0x288b39=_0x3f0f54[_0x38fe05(0x912)]();if(!_0x288b39)throw new _0x864d50(_0x864d50[_0x38fe05(0x753)]['WorkflowDoesNotExist']);const _0x4d4009=_0x288b39[_0x38fe05(0x720)]&&_0x288b39[_0x38fe05(0x242)]?_0x288b39[_0x38fe05(0x242)][_0x288b39[_0x38fe05(0x720)]-0x1]:_0x288b39,_0x2e2cc2=this[_0x38fe05(0x480)](_0x4d4009[_0x38fe05(0x45c)],_0x552497,_0x5ea906,_0x27a032,_0x8f7be7);return{'id':_0x3f0f54['id'],'modelsBucketId':_0x288b39[_0x38fe05(0x85f)],'blocks':_0x2e2cc2,'models':this[_0x38fe05(0x1e0)](_0x2e2cc2,_0x3e4ac7),'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0x2e2cc2),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x2e2cc2)};}[_0x148812(0x1e0)](_0x3439ec,_0x5359a4){const _0x26d03a=_0x148812,_0x3d7538=new Set();for(const _0x550f54 of _0x3439ec)if(_0x550f54[_0x26d03a(0x200)]!==_0xe97749[_0x26d03a(0x6b4)]&&_0x550f54[_0x26d03a(0x200)]!==_0xe97749[_0x26d03a(0x732)]||_0x3d7538[_0x26d03a(0x96d)](_0x550f54[_0x26d03a(0x34e)]),_0x550f54[_0x26d03a(0x200)]===_0xe97749[_0x26d03a(0x934)]||_0x550f54[_0x26d03a(0x200)]===_0xe97749[_0x26d03a(0x84)]){for(const _0x244627 of[..._0x550f54[_0x26d03a(0x3e4)],..._0x550f54[_0x26d03a(0x7ec)]])_0x244627['type']===_0x5e6e36[_0x26d03a(0x901)]&&_0x3d7538[_0x26d03a(0x96d)](_0x244627['id']),_0x244627[_0x26d03a(0x200)]===_0x5e6e36['Agent']&&_0x3d7538[_0x26d03a(0x96d)](_0x244627[_0x26d03a(0x34e)]);}return Array[_0x26d03a(0x928)](_0x3d7538)[_0x26d03a(0x7e1)](_0x17e25f=>{const {id:_0x3d5f70,engineType:_0x3d6bee,taskType:_0x3f5df6,inputType:_0x11f393,outputType:_0x4d3f01,sourceUrl:_0x5bb539}=_0x5359a4['find'](_0x133826=>_0x133826['id']===_0x17e25f);return{'id':_0x3d5f70,'engineType':_0x3d6bee,'taskType':_0x3f5df6,'inputType':_0x11f393,'outputType':_0x4d3f01,'sourceUrl':_0x5bb539};});}['getWorkflowObjectStorageBuckets'](_0x316cc4){const _0x40c109=_0x148812,_0x45894b=new Set();for(const _0x3827dc of _0x316cc4)switch(_0x3827dc[_0x40c109(0x200)]){case _0xe97749[_0x40c109(0x934)]:case _0xe97749[_0x40c109(0x84)]:for(const _0x2a6d1f of[..._0x3827dc[_0x40c109(0x3e4)],..._0x3827dc[_0x40c109(0x7ec)]])_0x2a6d1f[_0x40c109(0x200)]===_0x5e6e36[_0x40c109(0x54a)]&&_0x45894b['add'](_0x2a6d1f['id']);}return Array[_0x40c109(0x928)](_0x45894b);}[_0x148812(0x54b)](_0x27e1d4){const _0x2ff050=_0x148812,_0x1e3c90=new Set();for(const _0x5dd39c of _0x27e1d4)switch(_0x5dd39c[_0x2ff050(0x200)]){case _0xe97749[_0x2ff050(0x934)]:case _0xe97749[_0x2ff050(0x84)]:for(const _0x1be098 of[..._0x5dd39c[_0x2ff050(0x3e4)],..._0x5dd39c['retrieveBlocks']])_0x1be098[_0x2ff050(0x200)]===_0x5e6e36[_0x2ff050(0x193)]&&_0x1e3c90[_0x2ff050(0x96d)](_0x1be098['id']);}return Array['from'](_0x1e3c90);}[_0x148812(0x480)](_0x3d41d5,_0x3ebc07,_0x119e73,_0x3617cd,_0x27a407){const _0x5bc086=_0x148812;return _0x3d41d5[_0x5bc086(0x7e1)](_0x53a81d=>{const _0x319242=_0x5bc086;switch(_0x53a81d['type']){case _0xe97749[_0x319242(0x6b4)]:case _0xe97749[_0x319242(0x732)]:const _0x3390bd=_0x3ebc07[_0x319242(0x453)](_0x37a024=>_0x37a024['id']===_0x53a81d['id']);if(!_0x3390bd)throw new _0x864d50(_0x864d50[_0x319242(0x753)][_0x319242(0x69c)],{'block':_0x53a81d});const _0x2a8733=_0x53a81d[_0x319242(0xb3)]&&_0x3390bd[_0x319242(0x242)]?_0x3390bd[_0x319242(0x242)][_0x53a81d[_0x319242(0xb3)]-0x1]:_0x3390bd;return{'type':_0x3390bd[_0x319242(0x200)],'id':_0x3390bd['id'],'uid':_0x53a81d[_0x319242(0x680)],'name':_0x2a8733[_0x319242(0x82)],'description':_0x2a8733[_0x319242(0x11d)],'instructions':_0x2a8733[_0x319242(0x7bc)],'contextOutputVariable':_0x2a8733[_0x319242(0x86a)],'grammar':[_0x319242(0x8bb),_0x319242(0x3ee),_0x319242(0x446)]['includes'](_0x2a8733[_0x319242(0x18f)])?_0x2a8733[_0x319242(0x18f)]:_0x27a407[_0x319242(0x453)](_0x23905c=>_0x23905c['id']===_0x2a8733[_0x319242(0x18f)])[_0x319242(0x92a)],'temperature':_0x2a8733[_0x319242(0xb6)],'maxTokens':_0x2a8733[_0x319242(0x808)],'modelId':_0x2a8733[_0x319242(0x34e)],'links':_0x53a81d['links'],'version':_0x53a81d[_0x319242(0xb3)]};case _0xe97749[_0x319242(0x934)]:case _0xe97749[_0x319242(0x84)]:const _0x184b7b=_0x119e73[_0x319242(0x453)](_0x54a5f1=>_0x54a5f1['id']===_0x53a81d['id']);if(!_0x184b7b)throw new _0x864d50(_0x864d50[_0x319242(0x753)][_0x319242(0x69c)],{'block':_0x53a81d});const _0x5ce31b=_0x53a81d[_0x319242(0xb3)]&&_0x184b7b[_0x319242(0x242)]?_0x184b7b['versions'][_0x53a81d[_0x319242(0xb3)]-0x1]:_0x184b7b;return{'type':_0x53a81d[_0x319242(0x200)],'id':_0x184b7b['id'],'uid':_0x53a81d[_0x319242(0x680)],'name':_0x5ce31b[_0x319242(0x82)],'description':_0x5ce31b[_0x319242(0x11d)],'ingestBlocks':this[_0x319242(0x863)](_0x5ce31b['ingestBlocks'],_0x3ebc07),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x5ce31b[_0x319242(0x7ec)],_0x3ebc07),'links':_0x53a81d['links'],'version':_0x53a81d[_0x319242(0xb3)]};case _0xe97749[_0x319242(0x815)]:const _0x44eea2=_0x3617cd[_0x319242(0x453)](_0x1657fa=>_0x1657fa['id']===_0x53a81d['id']);if(!_0x44eea2)throw new _0x864d50(_0x864d50[_0x319242(0x753)]['WorkflowInvalidBlockType'],{'block':_0x53a81d});return{'type':_0x53a81d[_0x319242(0x200)],'id':_0x44eea2['id'],'uid':_0x53a81d[_0x319242(0x680)],'name':_0x44eea2[_0x319242(0x82)],'description':_0x44eea2['description'],'parameters':_0x44eea2['parameters'],'endpointUrl':_0x44eea2[_0x319242(0x235)],'endpointMethod':_0x44eea2[_0x319242(0x3e8)],'headers':_0x44eea2['headers'],'queryParameters':_0x44eea2[_0x319242(0x181)],'bodyParameters':_0x44eea2[_0x319242(0x279)],'contextOutputVariable':_0x44eea2[_0x319242(0x86a)],'waitAsync':_0x44eea2[_0x319242(0x48a)],'asyncEndpointUrl':_0x44eea2[_0x319242(0x30f)],'asyncEndpointMethod':_0x44eea2[_0x319242(0x70c)],'asyncHeaders':_0x44eea2[_0x319242(0x6e2)],'links':_0x53a81d['links']};case _0xe97749[_0x319242(0x98d)]:case _0xe97749[_0x319242(0x6c0)]:case _0xe97749[_0x319242(0x4ee)]:case _0xe97749[_0x319242(0xd3)]:case _0xe97749['Search']:case _0xe97749['WebScraper']:case _0xe97749[_0x319242(0x67d)]:case _0xe97749['SentenceSplitter']:return{'type':_0x53a81d[_0x319242(0x200)],'id':_0x53a81d['id'],'uid':_0x53a81d[_0x319242(0x680)],'links':_0x53a81d['links']};case _0xe97749[_0x319242(0x7a5)]:case _0xe97749[_0x319242(0x1fc)]:return{'type':_0x53a81d['type'],'id':_0x53a81d['id'],'uid':_0x53a81d[_0x319242(0x680)],'links':_0x53a81d[_0x319242(0x1fb)],'attributes':_0x53a81d[_0x319242(0x97f)]};default:throw new _0x864d50(_0x864d50[_0x319242(0x753)][_0x319242(0x69c)],{'block':_0x53a81d});}});}[_0x148812(0x863)](_0x3a5d27,_0xa9b4a8){const _0x58af96=_0x148812;return _0x3a5d27[_0x58af96(0x7e1)](_0x1087b7=>{const _0x213ae1=_0x58af96;switch(_0x1087b7[_0x213ae1(0x200)]){case _0x5e6e36['Agent']:const _0x153d17=_0xa9b4a8[_0x213ae1(0x453)](_0x311736=>_0x311736['id']===_0x1087b7['id']);if(!_0x153d17)throw new _0x864d50(_0x864d50['codes'][_0x213ae1(0x69c)],{'block':_0x1087b7});const _0x59d2f8=_0x1087b7[_0x213ae1(0xb3)]&&_0x153d17['versions']?_0x153d17[_0x213ae1(0x242)][_0x1087b7['version']-0x1]:_0x153d17;return{'type':_0x1087b7[_0x213ae1(0x200)],'id':_0x1087b7['id'],'uid':_0x1087b7['uid'],'description':_0x59d2f8[_0x213ae1(0x11d)],'instructions':_0x59d2f8[_0x213ae1(0x7bc)],'grammar':_0x59d2f8['grammar'],'temperature':_0x59d2f8[_0x213ae1(0xb6)],'maxTokens':_0x59d2f8[_0x213ae1(0x808)],'modelId':_0x59d2f8[_0x213ae1(0x34e)],'links':_0x1087b7[_0x213ae1(0x1fb)],'version':_0x1087b7[_0x213ae1(0xb3)]};case _0x5e6e36[_0x213ae1(0x7b8)]:case _0x5e6e36['VectorDatabase']:case _0x5e6e36[_0x213ae1(0x1fc)]:case _0x5e6e36[_0x213ae1(0x7a5)]:case _0x5e6e36[_0x213ae1(0x52e)]:case _0x5e6e36['Reranker']:return{'type':_0x1087b7['type'],'id':_0x1087b7['id'],'uid':_0x1087b7['uid'],'links':_0x1087b7[_0x213ae1(0x1fb)],'attributes':_0x1087b7[_0x213ae1(0x97f)]};case _0x5e6e36[_0x213ae1(0x901)]:case _0x5e6e36[_0x213ae1(0x127)]:case _0x5e6e36[_0x213ae1(0x492)]:case _0x5e6e36[_0x213ae1(0x798)]:case _0x5e6e36[_0x213ae1(0x7fb)]:case _0x5e6e36['SentenceSplitter']:case _0x5e6e36[_0x213ae1(0x54a)]:case _0x5e6e36[_0x213ae1(0x193)]:case _0x5e6e36[_0x213ae1(0x639)]:case _0x5e6e36[_0x213ae1(0x98d)]:return{'type':_0x1087b7[_0x213ae1(0x200)],'id':_0x1087b7['id'],'uid':_0x1087b7['uid'],'links':_0x1087b7[_0x213ae1(0x1fb)]};default:throw new _0x864d50(_0x864d50['codes'][_0x213ae1(0x69c)],{'block':_0x1087b7});}});}async[_0x148812(0x5c7)](_0x53ae6b){const _0x94c7ad=_0x148812;return(await(0x0,_0x23941c[_0x94c7ad(0x670)])((0x0,_0x23941c[_0x94c7ad(0x6bc)])(_0x22b478[_0x94c7ad(0x58f)](),_0x94c7ad(0x1af)+_0x53ae6b+_0x94c7ad(0xe9))))[_0x94c7ad(0x60c)][_0x94c7ad(0x7e1)](_0x50057d=>{const _0x1add40=_0x94c7ad,_0x5ce56d=_0x50057d['data']();return{'type':_0xe97749['Agent'],'id':_0x50057d['id'],'name':_0x5ce56d[_0x1add40(0x82)],'description':_0x5ce56d['description'],'instructions':_0x5ce56d[_0x1add40(0x7bc)],'contextOutputVariable':_0x5ce56d['contextOutputVariable'],'grammar':_0x5ce56d[_0x1add40(0x18f)]??_0x1add40(0x8bb),'temperature':_0x5ce56d['temperature'],'maxTokens':_0x5ce56d[_0x1add40(0x808)],'modelId':_0x5ce56d[_0x1add40(0x34e)],'versions':_0x5ce56d[_0x1add40(0x242)]};});}async[_0x148812(0x54e)](_0x4d8aa8){const _0x219507=_0x148812;return(await(0x0,_0x23941c['getDocs'])((0x0,_0x23941c[_0x219507(0x6bc)])(_0x22b478[_0x219507(0x58f)](),_0x219507(0x1af)+_0x4d8aa8+_0x219507(0x2e6))))['docs'][_0x219507(0x7e1)](_0x5bfb06=>{const _0x22d7f9=_0x219507,_0x4c840a=_0x5bfb06[_0x22d7f9(0x912)]();return{'type':_0xe97749[_0x22d7f9(0x84)],'id':_0x5bfb06['id'],'name':_0x4c840a[_0x22d7f9(0x82)],'description':_0x4c840a[_0x22d7f9(0x11d)],'ingestBlocks':_0x4c840a[_0x22d7f9(0x3e4)],'retrieveBlocks':_0x4c840a[_0x22d7f9(0x7ec)],'versions':_0x4c840a[_0x22d7f9(0x242)]};});}async[_0x148812(0x290)](_0x14ddc9){const _0x6a1b8a=_0x148812;return(await(0x0,_0x23941c[_0x6a1b8a(0x670)])((0x0,_0x23941c['collection'])(_0x22b478[_0x6a1b8a(0x58f)](),_0x6a1b8a(0x1af)+_0x14ddc9+_0x6a1b8a(0x1e9))))[_0x6a1b8a(0x60c)][_0x6a1b8a(0x7e1)](_0x2c71dc=>{const _0x2082f2=_0x6a1b8a,_0x1e795b=_0x2c71dc[_0x2082f2(0x912)]();return{'type':_0xe97749[_0x2082f2(0x815)],'id':_0x2c71dc['id'],'name':_0x1e795b[_0x2082f2(0x82)],'description':_0x1e795b['description'],'parameters':_0x1e795b[_0x2082f2(0x591)],'endpointUrl':_0x1e795b['endpointUrl'],'endpointMethod':_0x1e795b[_0x2082f2(0x3e8)],'headers':_0x1e795b[_0x2082f2(0x4c4)],'queryParameters':_0x1e795b['queryParameters'],'bodyParameters':_0x1e795b[_0x2082f2(0x279)],'contextOutputVariable':_0x1e795b[_0x2082f2(0x86a)],'waitAsync':_0x1e795b[_0x2082f2(0x48a)]??!0x1,'asyncEndpointUrl':_0x1e795b[_0x2082f2(0x30f)],'asyncEndpointMethod':_0x1e795b['asyncEndpointMethod'],'asyncHeaders':_0x1e795b['asyncHeaders']};});}async['getGrammars'](_0x24bde0){const _0x543b85=_0x148812;return(await(0x0,_0x23941c[_0x543b85(0x670)])((0x0,_0x23941c[_0x543b85(0x6bc)])(_0x22b478[_0x543b85(0x58f)](),'/developers/'+_0x24bde0+_0x543b85(0x191))))['docs'][_0x543b85(0x7e1)](_0x31ddd9=>{const _0x27a306=_0x543b85,_0x22c552=_0x31ddd9[_0x27a306(0x912)]();return{'id':_0x31ddd9['id'],'name':_0x22c552['name'],'description':_0x22c552['description'],'content':_0x22c552[_0x27a306(0x92a)]};});}async['getModels'](_0x6776e){const _0x59fed6=_0x148812;return(await(0x0,_0x23941c['getDocs'])((0x0,_0x23941c[_0x59fed6(0x6bc)])(_0x22b478[_0x59fed6(0x58f)](),'/developers/'+_0x6776e+_0x59fed6(0x999))))['docs'][_0x59fed6(0x7e1)](_0x305102=>{const _0x370ffb=_0x59fed6,_0x477ab3=_0x305102[_0x370ffb(0x912)]();return{'id':_0x305102['id'],'modelName':_0x477ab3[_0x370ffb(0x593)],'engineType':_0x477ab3[_0x370ffb(0x28f)],'taskType':_0x477ab3[_0x370ffb(0x68f)],'inputType':_0x477ab3[_0x370ffb(0x5ab)]??_0x366c21['GenerativeAIModelInputType']['Text'],'outputType':_0x477ab3[_0x370ffb(0x29f)]??_0x366c21[_0x370ffb(0x72a)]['Text'],'sourceUrl':_0x477ab3[_0x370ffb(0x5f4)]};});}}const _0x6468d=_0x3b1354['getInstance']();class _0x182725 extends _0x2be506{[_0x148812(0x894)];[_0x148812(0x945)];['prompts']=0x0;[_0x148812(0x4b9)]=0x0;[_0x148812(0x5b1)];constructor(_0x44b2a8,_0xc6a774,_0xc733b6,_0x5e2625){const _0x27523d=_0x148812;super(_0x44b2a8,_0xc6a774,_0x5e2625),this['localNode']=_0x44b2a8,this[_0x27523d(0x945)]=_0xc733b6,this['sendStats']();}[_0x148812(0x1b2)](){const _0x1439b8=_0x148812;this[_0x1439b8(0x5b1)]&&(clearTimeout(this[_0x1439b8(0x5b1)]),delete this[_0x1439b8(0x5b1)]),super['destroy']();}[_0x148812(0x98a)](){const _0x5c81ac=_0x148812;this[_0x5c81ac(0x979)]=0x0,this[_0x5c81ac(0x4b9)]=0x0,this[_0x5c81ac(0x44b)](),super[_0x5c81ac(0x98a)]();}['createAIJob'](_0x26e922){const _0x1c82b3=_0x148812,_0x18de87=_0x1c82b3(0x27b)+(0x0,_0x12e752['v4'])();switch(_0x26e922[_0x1c82b3(0x200)]){case _0x1c82b3(0x3ce):let _0x5cb058=!0x1;const _0x4088ff=()=>{const _0x13e2e4=_0x1c82b3;if(_0x5cb058)throw new _0x864d50(_0x864d50[_0x13e2e4(0x753)][_0x13e2e4(0x2ec)]);_0x5cb058=!0x0;},_0x2543eb=()=>(_0x4088ff(),this[_0x1c82b3(0x3ce)](_0x18de87,_0x26e922[_0x1c82b3(0x3ce)],_0x26e922[_0x1c82b3(0x2c0)])),_0x2266fb=()=>(_0x4088ff(),this[_0x1c82b3(0x495)](_0x18de87,_0x26e922['prompt'],_0x26e922['options']));return{'id':_0x18de87,'prompt':_0x26e922['prompt'],'options':_0x26e922[_0x1c82b3(0x2c0)]??{'threadId':_0x1c82b3(0x572)+(0x0,_0x12e752['v4'])()},'run':_0x2543eb,'stream':_0x2266fb};case _0x1c82b3(0x259):let _0x267b2c=!0x1;const _0x31dac3=()=>{const _0x3f641a=_0x1c82b3;if(_0x267b2c)throw new _0x864d50(_0x864d50[_0x3f641a(0x753)][_0x3f641a(0x2ec)]);_0x267b2c=!0x0;},_0x5eb648=()=>(_0x31dac3(),this['internalRatePrompt'](_0x18de87,_0x26e922[_0x1c82b3(0x47c)],_0x26e922[_0x1c82b3(0x231)],_0x26e922[_0x1c82b3(0x2c0)]));if(!_0x26e922[_0x1c82b3(0x2c0)]?.[_0x1c82b3(0x39a)])throw new _0x5f50cc(_0x128d3f[_0x1c82b3(0x7ad)],_0x1c82b3(0x309));return{'id':_0x18de87,'rating':_0x26e922[_0x1c82b3(0x47c)],'options':_0x26e922[_0x1c82b3(0x2c0)]??{'threadId':_0x1c82b3(0x572)+(0x0,_0x12e752['v4'])()},'rate':_0x5eb648};case'downloadDocument':let _0x103f7f=!0x1;const _0x11b328=()=>{const _0x27036a=_0x1c82b3;if(_0x103f7f)throw new _0x864d50(_0x864d50[_0x27036a(0x753)][_0x27036a(0x2ec)]);_0x103f7f=!0x0;};return{'id':_0x18de87,'objectStoreId':'','documentPath':_0x26e922['documentPath'],'download':()=>(_0x11b328(),this['internalDownloadDocument'](_0x18de87,_0x26e922['objectStoreId'],_0x26e922['documentPath']))};}}async[_0x148812(0x459)](_0xe0517f){const _0x301768=_0x148812;return this[_0x301768(0x14a)](_0xe0517f)['rate']();}async['downloadDocument'](_0x149aa6){const _0x45e50d=_0x148812,_0x30d324={'type':'downloadDocument','objectStoreId':'','documentPath':_0x149aa6};return this['createAIJob'](_0x30d324)[_0x45e50d(0xaa)]();}async['internalRatePrompt'](_0x389d20,_0x5b34e8,_0x10ea4e,{threadId:_0x3d29c2,feedback:_0x49f523=''}){const _0x5c48c5=_0x148812,_0x13a98f={'type':_0x5c48c5(0x259),'jobId':_0x10ea4e,'threadId':_0x3d29c2,'rating':_0x5b34e8,'feedback':_0x49f523},_0x2b52ae=await this[_0x5c48c5(0x357)](_0x389d20,_0x366c21[_0x5c48c5(0x4a2)][_0x5c48c5(0x71f)],_0x13a98f,{'threadId':_0x3d29c2,'feedback':_0x49f523});return new Promise((_0x148cf7,_0x5e3ec2)=>{let _0x2f7f81;const _0x4455cd=_0x2b52ae['subscribe']({'next':_0x58951a=>{const _0x117e8c=a0_0x53e8;switch(_0x58951a['status']){case _0x366c21[_0x117e8c(0x78e)][_0x117e8c(0x8ca)]:clearTimeout(_0x2f7f81),_0x148cf7(_0x58951a['result']),_0x4455cd[_0x117e8c(0x4a0)]();break;case _0x366c21['JobStatus']['Failed']:clearTimeout(_0x2f7f81),_0x5e3ec2(new _0x864d50(_0x864d50[_0x117e8c(0x753)][_0x117e8c(0xa3)],{'updatedJob':_0x58951a})),_0x4455cd[_0x117e8c(0x4a0)]();}},'error':_0x56ca36=>{const _0x4ce3cc=a0_0x53e8;clearTimeout(_0x2f7f81),_0x5e3ec2(new _0x864d50(_0x864d50['codes'][_0x4ce3cc(0xa3)],{'err':_0x56ca36})),_0x4455cd['unsubscribe']();}});_0x2f7f81=setTimeout(()=>{const _0x1d3ba2=a0_0x53e8;_0x5e3ec2(new _0x864d50(_0x864d50[_0x1d3ba2(0x753)]['GenerativeAIContextJobTimeout'])),_0x4455cd[_0x1d3ba2(0x4a0)]();},_0x389c52);});}async[_0x148812(0x868)](_0x483153,_0x2eeb9a,_0x3a9f8d){const _0x372f10=_0x148812,_0x53ef07={'type':_0x372f10(0x343),'objectStoreId':_0x2eeb9a,'documentPath':_0x3a9f8d,'threadId':_0x372f10(0x572)+(0x0,_0x12e752['v4'])()},_0x174d46=await this[_0x372f10(0x357)](_0x483153,_0x366c21[_0x372f10(0x4a2)][_0x372f10(0x71f)],_0x53ef07);return new Promise((_0x10e456,_0x5d22c1)=>{const _0xdba40=_0x372f10;let _0x559d74;const _0x56ed77=_0x174d46[_0xdba40(0x360)]({'next':_0x15abdf=>{const _0x3ff47b=_0xdba40;switch(_0x15abdf[_0x3ff47b(0x697)]){case _0x366c21['JobStatus']['Completed']:clearTimeout(_0x559d74),_0x10e456(_0x15abdf[_0x3ff47b(0x7ae)]),_0x56ed77['unsubscribe']();break;case _0x366c21[_0x3ff47b(0x78e)][_0x3ff47b(0x267)]:clearTimeout(_0x559d74),_0x5d22c1(new _0x864d50(_0x864d50[_0x3ff47b(0x753)][_0x3ff47b(0xa3)],{'updatedJob':_0x15abdf})),_0x56ed77[_0x3ff47b(0x4a0)]();}},'error':_0x561708=>{const _0x2b0467=_0xdba40;clearTimeout(_0x559d74),_0x5d22c1(new _0x864d50(_0x864d50[_0x2b0467(0x753)]['GenerativeAIContextJobFailed'],{'err':_0x561708})),_0x56ed77[_0x2b0467(0x4a0)]();}});_0x559d74=setTimeout(()=>{const _0x4ec3e6=_0xdba40;_0x5d22c1(new _0x864d50(_0x864d50[_0x4ec3e6(0x753)]['GenerativeAIContextJobTimeout'])),_0x56ed77['unsubscribe']();},_0x389c52);});}async['prompt'](_0x44201f,_0x3968ed,_0x3d05d2){const _0x5a3d8c=_0x148812,_0x33d9d2={'type':_0x5a3d8c(0x3ce),'prompt':_0x3968ed,'threadId':_0x3d05d2?.[_0x5a3d8c(0x39a)]??'thread-'+(0x0,_0x12e752['v4'])()},_0x219c35=await this[_0x5a3d8c(0x357)](_0x44201f,_0x366c21['JobType'][_0x5a3d8c(0x71f)],_0x33d9d2,_0x3d05d2);return new Promise((_0x42bfa5,_0x2e5db6)=>{let _0x2625a3;const _0x12d97d=_0x219c35['subscribe']({'next':_0x5e4e42=>{const _0x328598=a0_0x53e8;switch(_0x5e4e42['status']){case _0x366c21[_0x328598(0x78e)][_0x328598(0x8ca)]:if(_0x328598(0x3ce)!==_0x5e4e42[_0x328598(0x7ae)]['type'])return;const _0x32dcc3=_0x5e4e42[_0x328598(0x7ae)][_0x328598(0x288)]??0x0;this[_0x328598(0x8f3)](_0x3968ed,_0x32dcc3),clearTimeout(_0x2625a3),_0x42bfa5(_0x5e4e42[_0x328598(0x7ae)]),_0x12d97d[_0x328598(0x4a0)](),this[_0x328598(0x979)]+=0x1,this[_0x328598(0x4b9)]+=_0x32dcc3,this[_0x328598(0x44b)]();break;case _0x366c21[_0x328598(0x78e)][_0x328598(0x267)]:clearTimeout(_0x2625a3),_0x2e5db6(new _0x864d50(_0x864d50[_0x328598(0x753)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x5e4e42})),_0x12d97d[_0x328598(0x4a0)](),this['sendStats']();}},'error':_0x1d78cd=>{const _0x50d68f=a0_0x53e8;clearTimeout(_0x2625a3),_0x2e5db6(new _0x864d50(_0x864d50[_0x50d68f(0x753)][_0x50d68f(0xa3)],{'err':_0x1d78cd})),_0x12d97d[_0x50d68f(0x4a0)]();}});_0x2625a3=setTimeout(()=>{const _0x5f3f2a=a0_0x53e8;_0x2e5db6(new _0x864d50(_0x864d50[_0x5f3f2a(0x753)]['GenerativeAIContextJobTimeout'])),_0x12d97d[_0x5f3f2a(0x4a0)]();},_0x389c52);});}async*[_0x148812(0x495)](_0x18df8,_0x2acd2c,_0x59fd50){const _0x5a17de=_0x148812,_0x8f7524={'type':_0x5a17de(0x3ce),'prompt':_0x2acd2c,'threadId':_0x59fd50?.['threadId']??_0x5a17de(0x572)+(0x0,_0x12e752['v4'])()},_0x14d8d2=await this[_0x5a17de(0x357)](_0x18df8,_0x366c21[_0x5a17de(0x4a2)][_0x5a17de(0x3a2)],_0x8f7524,_0x59fd50);let _0x37ef20,_0x140537,_0x5aebb7=!0x1,_0x3906e2=0x0;const _0x53e984=[],_0x127419=new Map();let _0x34237d=null;const _0x481cba=()=>{_0x34237d&&(_0x34237d(),_0x34237d=null);},_0x302664=_0x56ede8=>{const _0x1893ec=_0x5a17de;_0x5aebb7=!0x0,_0x481cba(),_0x362fee[_0x1893ec(0x4a0)](),_0x140537=_0x56ede8;},_0x362fee=_0x14d8d2[_0x5a17de(0x360)]({'next':_0x5db4b1=>{const _0x33df11=_0x5a17de;switch(_0x5db4b1[_0x33df11(0x697)]){case _0x366c21['JobStatus'][_0x33df11(0x69a)]:if(_0x33df11(0x3ce)!==_0x5db4b1[_0x33df11(0x7ae)][_0x33df11(0x200)])return;if(_0x5db4b1['result']&&void 0x0!==_0x5db4b1[_0x33df11(0x7ae)][_0x33df11(0x91f)]){if(void 0x0===_0x5db4b1[_0x33df11(0x7ae)][_0x33df11(0x17b)])return void _0x302664(_0x864d50[_0x33df11(0x753)][_0x33df11(0x220)]);_0x3906e2===_0x5db4b1[_0x33df11(0x7ae)][_0x33df11(0x17b)]?(_0x53e984[_0x33df11(0x5dc)](_0x5db4b1[_0x33df11(0x7ae)]),_0x3906e2++,((()=>{const _0x38f4b2=_0x33df11;for(;_0x127419[_0x38f4b2(0x31f)](_0x3906e2);)_0x53e984[_0x38f4b2(0x5dc)](_0x127419['get'](_0x53e984['length'])),_0x127419[_0x38f4b2(0x91b)](_0x53e984[_0x38f4b2(0x6a1)]),_0x3906e2++;})()),_0x481cba(),_0x371bf5()):_0x127419['set'](_0x5db4b1[_0x33df11(0x7ae)][_0x33df11(0x17b)],_0x5db4b1[_0x33df11(0x7ae)]);}break;case _0x366c21[_0x33df11(0x78e)][_0x33df11(0x8ca)]:if(_0x33df11(0x3ce)!==_0x5db4b1['result'][_0x33df11(0x200)])return;const _0x3be3e9=_0x5db4b1[_0x33df11(0x7ae)][_0x33df11(0x288)]??0x0;this[_0x33df11(0x8f3)](_0x2acd2c,_0x3be3e9),clearTimeout(_0x37ef20),_0x302664(),this[_0x33df11(0x979)]+=0x1,this[_0x33df11(0x4b9)]+=_0x3be3e9,this[_0x33df11(0x44b)]();break;case _0x366c21[_0x33df11(0x78e)][_0x33df11(0x267)]:clearTimeout(_0x37ef20),_0x302664(_0x864d50['codes']['GenerativeAIContextJobFailed']),this['sendStats']();}},'error':_0x59c6da=>{const _0x2633e4=_0x5a17de;clearTimeout(_0x37ef20),_0x302664(_0x864d50[_0x2633e4(0x753)][_0x2633e4(0xa3)]);}}),_0x16a4ec=()=>{const _0x4ed330=_0x5a17de;_0x302664(_0x864d50[_0x4ed330(0x753)][_0x4ed330(0x638)]);},_0x371bf5=()=>{clearTimeout(_0x37ef20),_0x37ef20=setTimeout(_0x16a4ec,_0x389c52);};for(_0x37ef20=setTimeout(_0x16a4ec,_0x389c52);!_0x5aebb7||_0x53e984[_0x5a17de(0x6a1)]>0x0;)_0x53e984[_0x5a17de(0x6a1)]>0x0?yield _0x53e984[_0x5a17de(0x4cd)]():await new Promise(_0x497097=>_0x34237d=_0x497097);if(_0x140537)throw _0x24a63b[_0x5a17de(0x2d0)](_0x5a17de(0x885),{'nodeId':this[_0x5a17de(0x894)][_0x5a17de(0x114)](),'nodeType':this[_0x5a17de(0x894)]['type']}),new _0x864d50(_0x140537);}async['getDataBucketIds'](){const _0xc94cca=_0x148812;return(await _0x6468d['getWorkflow'](this[_0xc94cca(0x945)],this[_0xc94cca(0xb2)]))[_0xc94cca(0x959)];}[_0x148812(0x8f3)](_0x18bfeb,_0x4779bc){const _0x3518c2=_0x148812,_0x378b8b=this['label'],_0x532428=this[_0x3518c2(0x6ce)]();_0x24a63b[_0x3518c2(0x8f3)](_0x4d4c54[_0x3518c2(0x376)],{'topic':_0x378b8b,'prompt':_0x18bfeb,'type':_0x3518c2(0x3ce),'nodeId':_0x532428,'tokenCount':_0x4779bc});}async[_0x148812(0x357)](_0x12f2bf,_0x2994a7,_0x3c3206,_0x20c33e={}){const _0x22158a=_0x148812;let _0x9921d;switch(_0x3c3206[_0x22158a(0x200)]){case _0x22158a(0x3ce):{const {threadId:_0x1f175c}=_0x20c33e;_0x9921d={'id':_0x12f2bf,'jobType':_0x2994a7,'parameters':{..._0x20c33e,'type':_0x22158a(0x3ce),'prompt':_0x3c3206[_0x22158a(0x3ce)],'threadId':_0x1f175c},'status':_0x366c21[_0x22158a(0x78e)]['Pending']};break;}case _0x22158a(0x259):{const {threadId:_0x1aec52}=_0x20c33e;_0x9921d={'id':_0x12f2bf,'jobType':_0x2994a7,'parameters':{..._0x20c33e,'type':_0x22158a(0x259),'jobId':_0x3c3206[_0x22158a(0x231)],'rating':_0x3c3206[_0x22158a(0x47c)],'feedback':_0x3c3206[_0x22158a(0x518)]??'','threadId':_0x1aec52},'status':_0x366c21[_0x22158a(0x78e)]['Pending']};break;}case _0x22158a(0x343):_0x9921d={'id':_0x12f2bf,'jobType':_0x2994a7,'parameters':{..._0x20c33e,'type':_0x22158a(0x343),'objectStoreId':_0x3c3206[_0x22158a(0x950)],'documentPath':_0x3c3206[_0x22158a(0x6e5)]},'status':_0x366c21[_0x22158a(0x78e)][_0x22158a(0x877)]};}return await this[_0x22158a(0x907)](_0x9921d);}[_0x148812(0x44b)](){const _0x232906=_0x148812;this[_0x232906(0x5b1)]&&clearTimeout(this[_0x232906(0x5b1)]),this[_0x232906(0x5b1)]=setTimeout(async()=>{const _0x5a5054=_0x232906;delete this[_0x5a5054(0x5b1)],this[_0x5a5054(0x3eb)][_0x5a5054(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x5a5054(0x1c4)],'content':{'type':_0x457093[_0x5a5054(0x73a)],'label':this[_0x5a5054(0xb2)],'stats':{'timestamp':Date[_0x5a5054(0x847)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x5a5054(0x64a)],'bytesReceived':this[_0x5a5054(0x811)],'writes':0x0,'reads':0x0,'prompts':this[_0x5a5054(0x979)],'tokens':this[_0x5a5054(0x4b9)]}}});},_0x470373);}}var _0x4817e1,_0x251086,_0x32da54,_0x4c2700,_0xb3e2e6,_0x272c30,_0x325f59,_0x917db6,_0x30666c,_0xbad0d,_0x57684f;!function(_0x2ace7a){const _0x2bae07=_0x148812;_0x2ace7a[_0x2bae07(0x530)]=_0x2bae07(0x530),_0x2ace7a[_0x2bae07(0x87)]='IngestTrace',_0x2ace7a[_0x2bae07(0x538)]=_0x2bae07(0x538),_0x2ace7a[_0x2bae07(0x5a7)]=_0x2bae07(0x5a7);}(_0x4817e1||(_0x4817e1={})),function(_0x4755f6){const _0x12856e=_0x148812;_0x4755f6[_0x12856e(0x729)]=_0x12856e(0x729),_0x4755f6[_0x12856e(0x122)]='ModelVector',_0x4755f6[_0x12856e(0x158)]=_0x12856e(0x158),_0x4755f6[_0x12856e(0x52e)]='EntityExtractor',_0x4755f6[_0x12856e(0x188)]=_0x12856e(0x188),_0x4755f6[_0x12856e(0x769)]=_0x12856e(0x769);}(_0x251086||(_0x251086={})),function(_0x3b004d){const _0x133fe6=_0x148812;_0x3b004d[_0x3b004d[_0x133fe6(0x148)]=0x0]='Debug',_0x3b004d[_0x3b004d['Info']=0x5]='Info',_0x3b004d[_0x3b004d[_0x133fe6(0x693)]=0xa]=_0x133fe6(0x693),_0x3b004d[_0x3b004d[_0x133fe6(0x78b)]=0xf]=_0x133fe6(0x78b);}(_0x32da54||(_0x32da54={})),function(_0xde2cef){const _0x2cd560=_0x148812;_0xde2cef[_0x2cd560(0x434)]=_0x2cd560(0x434),_0xde2cef[_0x2cd560(0x6fd)]='Ingest',_0xde2cef[_0x2cd560(0x934)]=_0x2cd560(0x934),_0xde2cef['Skill']=_0x2cd560(0x49a),_0xde2cef['Workflow']=_0x2cd560(0x686),_0xde2cef[_0x2cd560(0x71f)]='Job',_0xde2cef[_0x2cd560(0x24b)]=_0x2cd560(0x24b),_0xde2cef[_0x2cd560(0x416)]=_0x2cd560(0x416);}(_0x4c2700||(_0x4c2700={})),function(_0x4f6c98){const _0x3987e6=_0x148812;_0x4f6c98[_0x3987e6(0x4d2)]=_0x3987e6(0x4d2),_0x4f6c98[_0x3987e6(0x8ca)]=_0x3987e6(0x8ca);}(_0xb3e2e6||(_0xb3e2e6={})),function(_0x4d1ea0){const _0x21a2bf=_0x148812;_0x4d1ea0[_0x21a2bf(0x5d0)]=_0x21a2bf(0x5d0),_0x4d1ea0[_0x21a2bf(0x7cb)]=_0x21a2bf(0x7cb),_0x4d1ea0[_0x21a2bf(0x84)]=_0x21a2bf(0x84),_0x4d1ea0['FinalOutput']='FinalOutput';}(_0x272c30||(_0x272c30={})),function(_0x5e8e80){const _0x5423b4=_0x148812;_0x5e8e80[_0x5423b4(0x7a5)]=_0x5423b4(0x7a5),_0x5e8e80[_0x5423b4(0x7fb)]=_0x5423b4(0x7fb),_0x5e8e80[_0x5423b4(0x52e)]=_0x5423b4(0x52e),_0x5e8e80[_0x5423b4(0x7b8)]=_0x5423b4(0x7b8),_0x5e8e80[_0x5423b4(0x6b4)]=_0x5423b4(0x6b4),_0x5e8e80[_0x5423b4(0x729)]=_0x5423b4(0x729),_0x5e8e80[_0x5423b4(0x122)]=_0x5423b4(0x122),_0x5e8e80[_0x5423b4(0x798)]='RelationExtractor',_0x5e8e80[_0x5423b4(0x583)]=_0x5423b4(0x583),_0x5e8e80[_0x5423b4(0x2e2)]=_0x5423b4(0x2e2),_0x5e8e80['WordSplitter']=_0x5423b4(0x1fc);}(_0x325f59||(_0x325f59={})),function(_0x2dfea1){const _0x306bfd=_0x148812;_0x2dfea1[_0x306bfd(0x7cd)]=_0x306bfd(0x7cd),_0x2dfea1[_0x306bfd(0x6a5)]=_0x306bfd(0x6a5);}(_0x917db6||(_0x917db6={})),function(_0x18012f){const _0x3dff08=_0x148812;_0x18012f[_0x3dff08(0x36c)]='ExecuteCode',_0x18012f[_0x3dff08(0x536)]=_0x3dff08(0x536),_0x18012f[_0x3dff08(0x513)]='FetchUrl',_0x18012f[_0x3dff08(0x275)]=_0x3dff08(0x275),_0x18012f['ExecuteAgent']=_0x3dff08(0x7f5),_0x18012f[_0x3dff08(0x463)]=_0x3dff08(0x463);}(_0x30666c||(_0x30666c={})),function(_0xdc897){const _0xcab89c=_0x148812;_0xdc897[_0xcab89c(0x159)]=_0xcab89c(0x159),_0xdc897[_0xcab89c(0x450)]='LoadSkillFunction';}(_0xbad0d||(_0xbad0d={})),function(_0x2d8f51){const _0x3a30d9=_0x148812;_0x2d8f51[_0x3a30d9(0x34b)]=_0x3a30d9(0x34b);}(_0x57684f||(_0x57684f={}));class _0xca3e4d{static [_0x148812(0x39b)];[_0x148812(0x3b6)]=[];[_0x148812(0x651)]=!0x1;constructor(){}static[_0x148812(0x3bf)](){const _0x1101f7=_0x148812;return _0xca3e4d['instance']||(_0xca3e4d['instance']=new _0xca3e4d()),_0xca3e4d[_0x1101f7(0x39b)];}get[_0x148812(0x6a1)](){const _0x258535=_0x148812;return this[_0x258535(0x3b6)][_0x258535(0x6a1)];}[_0x148812(0x337)](){const _0x4b91b4=_0x148812;return!this[_0x4b91b4(0x651)];}['clear'](_0x4087cf){const _0x3e2d85=_0x148812;_0x4087cf?this[_0x3e2d85(0x3b6)]=this[_0x3e2d85(0x3b6)][_0x3e2d85(0x5b5)](_0x35b99a=>_0x35b99a[_0x3e2d85(0x8e5)]!==_0x4087cf):(this[_0x3e2d85(0x3b6)]=[],this[_0x3e2d85(0x651)]=!0x1);}['add'](_0x223e67,_0x264e47){const _0x2468bb=_0x148812;this[_0x2468bb(0x3b6)][_0x2468bb(0x5dc)]({'callback':_0x264e47,'ownerId':_0x223e67}),this['runJobQueue']();}async[_0x148812(0x1a2)](){const _0x3ab469=_0x148812;if(!this['isRunning']){for(this[_0x3ab469(0x651)]=!0x0;this[_0x3ab469(0x3b6)][_0x3ab469(0x6a1)]>0x0;){const _0x4db0ba=this[_0x3ab469(0x3b6)][_0x3ab469(0x4cd)]();if(_0x4db0ba)try{console['warn'](_0x3ab469(0x1a6)),await _0x4db0ba[_0x3ab469(0x581)]();}catch(_0x406db2){console[_0x3ab469(0x2d0)](_0x3ab469(0x65b),_0x406db2);}}this[_0x3ab469(0x651)]=!0x1;}}}const _0x1bef94=_0xca3e4d[_0x148812(0x3bf)]();class _0x98fe50 extends _0x36c311{[_0x148812(0x62a)];['unsubscribeListener'];constructor(_0x178ae6,_0x58fb93,_0x5943cd){const _0x20f7fa=_0x148812;super(_0x178ae6,_0x58fb93),this[_0x20f7fa(0x62a)]=_0x5943cd;}['getContentType'](){const _0x304a08=_0x148812;return _0x366c21[_0x304a08(0x8a4)][_0x304a08(0x71f)];}[_0x148812(0x29a)](){const _0x31e1e9=_0x148812;this[_0x31e1e9(0x51d)]();}[_0x148812(0x6ac)](){const _0x534ea7=_0x148812;this[_0x534ea7(0x3eb)]?.['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74['Content'],'content':{'type':_0x457093['CloseJobWorker'],'label':this[_0x534ea7(0xb2)]}});}[_0x148812(0x98a)](){const _0x5ac896=_0x148812;this[_0x5ac896(0x52a)]?.(),delete this[_0x5ac896(0x52a)],this[_0x5ac896(0x29a)]();}['destroy'](){const _0x3088a1=_0x148812;_0x1bef94['clear'](this[_0x3088a1(0xb2)]),this[_0x3088a1(0x52a)]?.(),delete this[_0x3088a1(0x52a)],super[_0x3088a1(0x1b2)]();}[_0x148812(0x337)](){const _0x408e7e=_0x148812;return _0x1bef94[_0x408e7e(0x337)]();}[_0x148812(0x2c6)](){return 0x1;}[_0x148812(0x3b3)](_0x4c5bef,_0x1afc31,_0x53f16d){}['accumulateResult'](_0x60b51e,_0x45a4ee){return _0x60b51e;}[_0x148812(0x4ef)](_0x50ba45,_0x1a2cce){const _0x138025=_0x148812;console['warn'](_0x138025(0x93f));}[_0x148812(0x3e5)](_0x3768fc,_0x40fcf6){const _0x1363e6=_0x148812;console[_0x1363e6(0x6f8)](_0x1363e6(0x93f));}['subscribeToJobs'](){const _0x3a66a2=_0x148812;this[_0x3a66a2(0x52a)]||(this[_0x3a66a2(0x52a)]=this[_0x3a66a2(0x763)]((_0x37a85d,_0x5e56df)=>{const _0x4aa3a2=_0x3a66a2;if(_0x24a63b[_0x4aa3a2(0x14c)](_0x306624[_0x4aa3a2(0x1f7)],_0x4aa3a2(0x1a9),_0x5e56df),!(_0x5e56df instanceof File)){if(this[_0x4aa3a2(0x13b)](_0x5e56df))_0x24a63b[_0x4aa3a2(0x14c)](_0x306624[_0x4aa3a2(0x1f7)],_0x4aa3a2(0x2f8),_0x5e56df),this['isAvailable']()?this[_0x4aa3a2(0x3a3)](_0x5e56df['id'],_0x5e56df['jobType'],_0x37a85d):this[_0x4aa3a2(0x775)](_0x5e56df['id'],_0x5e56df[_0x4aa3a2(0x2d4)],_0x37a85d);else{if(this[_0x4aa3a2(0x35b)](_0x5e56df)){_0x24a63b[_0x4aa3a2(0x14c)](_0x306624[_0x4aa3a2(0x1f7)],_0x4aa3a2(0x82a),_0x5e56df);const {id:_0x3c7ea3,parameters:_0x314b17}=_0x5e56df;this[_0x4aa3a2(0x4ef)](_0x3c7ea3,_0x314b17),_0x1bef94[_0x4aa3a2(0x96d)](this[_0x4aa3a2(0xb2)],()=>this[_0x4aa3a2(0x5d4)](_0x5e56df['id'],_0x5e56df,_0x37a85d));}}}}));}[_0x148812(0x3a3)](_0xb613c2,_0x59a458,_0x3318b8){const _0x40b510=_0x148812,_0x1a032d={'id':_0xb613c2,'jobType':_0x59a458,'jobPhase':_0x2892de[_0x40b510(0x6e6)],'available':!0x0,'queueLength':_0x1bef94['length'],'bid':this['getBid']()};_0x24a63b['log'](_0x306624[_0x40b510(0x1f7)],'JobWorker:\x20Sending\x20job\x20bid',_0x1a032d),this[_0x40b510(0x6aa)](_0x1a032d,[_0x3318b8]);}[_0x148812(0x775)](_0x1b0c88,_0x25d169,_0x57af33){const _0x3eea1e=_0x148812,_0x2db20c={'id':_0x1b0c88,'jobType':_0x25d169,'jobPhase':_0x2892de[_0x3eea1e(0x6e6)],'available':!0x1,'queueLength':_0x1bef94['length'],'bid':0x0};_0x24a63b['log'](_0x306624['Jobs'],'JobWorker:\x20Sending\x20job\x20reject',_0x2db20c),this['send'](_0x2db20c,[_0x57af33]);}async['handleJobAttribution'](_0x402fb6,_0x3faf31,_0x22a504){const _0x43cd8e=_0x148812;_0x24a63b['log'](_0x306624['Jobs'],'JobWorker:\x20Handling\x20job\x20attribution',_0x3faf31);const _0x3440b5={'id':_0x402fb6,'jobType':_0x3faf31[_0x43cd8e(0x2d4)],'parameters':_0x3faf31[_0x43cd8e(0x591)]};try{switch(_0x3faf31[_0x43cd8e(0x2d4)]){case _0x366c21[_0x43cd8e(0x4a2)][_0x43cd8e(0x71f)]:await this[_0x43cd8e(0x5f1)](_0x402fb6,_0x3faf31,_0x3440b5,_0x22a504);break;case _0x366c21['JobType'][_0x43cd8e(0x3a2)]:await this[_0x43cd8e(0x898)](_0x402fb6,_0x3faf31,_0x3440b5,_0x22a504);break;default:throw new Error(_0x43cd8e(0x8f1));}}catch(_0x1d4fb3){_0x24a63b['error']('JobWorker:\x20Error\x20processing\x20job',{'nodeId':this['owner']['getId'](),'nodeType':this[_0x43cd8e(0x132)][_0x43cd8e(0x200)],'data':{'job':_0x3440b5}},_0x1d4fb3);const _0x3c8147=_0x1d4fb3 instanceof Error?_0x1d4fb3[_0x43cd8e(0x34d)]:'An\x20error\x20occurred',_0x2aa3a5={'id':_0x402fb6,'jobType':_0x3faf31[_0x43cd8e(0x2d4)],'jobPhase':_0x2892de[_0x43cd8e(0x267)],'message':_0x3c8147};await this[_0x43cd8e(0x6aa)](_0x2aa3a5,[_0x22a504]);}}async['processJob'](_0x4e75ae,_0x5cd4a1,_0x2c7cd1,_0x47f811){const _0x4a5095=_0x148812,_0x567010=Date['now'](),_0x2a8e2b=await this[_0x4a5095(0x700)](_0x4e75ae,_0x2c7cd1[_0x4a5095(0x591)]);this[_0x4a5095(0x3b3)](_0x2a8e2b,_0x567010,Date[_0x4a5095(0x847)]());const _0x4d3bb1={'id':_0x4e75ae,'jobType':_0x5cd4a1['jobType'],'jobPhase':_0x2892de[_0x4a5095(0x256)],'result':_0x2a8e2b};_0x24a63b['log'](_0x306624['Jobs'],_0x4a5095(0x8b9),_0x4d3bb1),await this[_0x4a5095(0x6aa)](_0x4d3bb1,[_0x47f811]),this[_0x4a5095(0x3e5)](_0x4e75ae,_0x2c7cd1[_0x4a5095(0x591)]);}async[_0x148812(0x898)](_0x278970,_0x1e883c,_0x167c5b,_0x54fffd){const _0x59286c=_0x148812,_0x22f2c3=Date[_0x59286c(0x847)]();let _0x367352=0x0,_0x11a5b2={};for await(const _0x4b6f73 of this[_0x59286c(0x962)](_0x167c5b['id'],_0x167c5b[_0x59286c(0x591)])){const _0x316134={'id':_0x278970,'jobType':_0x1e883c[_0x59286c(0x2d4)],'jobPhase':_0x2892de[_0x59286c(0x2dc)],'result':{..._0x4b6f73,'index':_0x367352}};_0x24a63b[_0x59286c(0x14c)](_0x306624[_0x59286c(0x1f7)],_0x59286c(0x183),_0x316134),this['send'](_0x316134,[_0x54fffd]),_0x11a5b2=this[_0x59286c(0x3dd)](_0x11a5b2,_0x4b6f73),_0x367352++;}this[_0x59286c(0x3b3)](_0x11a5b2,_0x22f2c3,Date[_0x59286c(0x847)]());const _0x56e57a={'id':_0x278970,'jobType':_0x1e883c[_0x59286c(0x2d4)],'jobPhase':_0x2892de[_0x59286c(0x256)],'result':_0x11a5b2};_0x24a63b[_0x59286c(0x14c)](_0x306624[_0x59286c(0x1f7)],_0x59286c(0x8b9),_0x56e57a),await this['send'](_0x56e57a,[_0x54fffd]),this[_0x59286c(0x3e5)](_0x278970,_0x167c5b['parameters']);}[_0x148812(0x13b)](_0x204988){const _0x35c7e4=_0x148812;return _0x204988[_0x35c7e4(0x8fc)]===_0x2892de[_0x35c7e4(0x368)];}[_0x148812(0x35b)](_0x389b15){const _0x876f5=_0x148812;return _0x389b15[_0x876f5(0x8fc)]===_0x2892de[_0x876f5(0x6e3)];}}function _0x2f91e1(_0x475baa,_0x4d9f23){return'logging-db-'+_0x475baa+'-'+_0x4d9f23;}function _0x3b610b(){const _0x3ef8eb=_0x148812,_0x3001b9=_0x3ec939['layout'](0x1);return _0x3001b9['table'](_0x3ef8eb(0x5cd))[_0x3ef8eb(0x17b)]('id')[_0x3ef8eb(0x17b)](_0x3ef8eb(0x231))[_0x3ef8eb(0x17b)](_0x3ef8eb(0x7af))[_0x3ef8eb(0x17b)](_0x3ef8eb(0x39a))[_0x3ef8eb(0x17b)](_0x3ef8eb(0x33f))[_0x3ef8eb(0x17b)](_0x3ef8eb(0x4d6)),_0x3001b9;}function _0x32cc67(_0x56e70d){const _0x147c33=_0x148812;try{return JSON[_0x147c33(0x605)](_0x56e70d);}catch(_0x1914e0){return _0x56e70d instanceof Error?_0x56e70d[_0x147c33(0x551)]():JSON[_0x147c33(0x605)](_0x147c33(0x333));}}class _0x2a7b5e{static [_0x148812(0x39b)];[_0x148812(0x202)]=_0x32da54[_0x148812(0x78b)];[_0x148812(0x233)]=_0x32da54[_0x148812(0x284)];[_0x148812(0x1c8)]=_0x4c2700[_0x148812(0x434)];['openedTraces']={};static [_0x148812(0x3bf)]=()=>(_0x2a7b5e[_0x148812(0x39b)]||(_0x2a7b5e['instance']=new _0x2a7b5e()),_0x2a7b5e['instance']);['openTrace'](_0x3a5348,_0x4a06ec,_0x26a1c7=!0x0){const _0x584b86=_0x148812;try{if(this['openedTraces'][_0x4a06ec])throw new Error(_0x584b86(0x169));const _0x4dfced={'sequence':0x0};if(this[_0x584b86(0x3db)][_0x4a06ec]=_0x4dfced,!_0x3a5348)return!0x0;const _0x34449f=function(_0x310953){const _0x47176e=_0x584b86;return _0x310953[_0x47176e(0xd4)](_0x47176e(0x5cd));}(_0x3a5348);return _0x4dfced[_0x584b86(0x8c0)]=_0x3a5348,_0x4dfced[_0x584b86(0x743)]=_0x34449f,!0x0;}catch(_0xb023fa){return console[_0x584b86(0x2d0)](_0x584b86(0x8d3)+_0x26a1c7,_0xb023fa),!!_0x26a1c7&&(this[_0x584b86(0x922)](_0x4a06ec),this[_0x584b86(0x489)](_0x3a5348,_0x4a06ec,!0x1));}}[_0x148812(0x292)](_0x4a0810){const _0x2f9247=_0x148812;try{const _0x3e4782=this['openedTraces'][_0x4a0810[_0x2f9247(0x231)]];if(!_0x3e4782)throw new Error(_0x2f9247(0x7a2));_0x4a0810['sequence']=_0x3e4782[_0x2f9247(0x4d6)]++,_0x4a0810['traceLevel']>=this[_0x2f9247(0x202)]&&console[_0x2f9247(0x14c)](JSON['stringify'](_0x4a0810,null,0x2)),this[_0x2f9247(0x2bd)](_0x4a0810);}catch(_0xd3f5f5){console[_0x2f9247(0x2d0)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0xd3f5f5);}}[_0x148812(0x922)](_0x1b41f9){const _0x1382f8=_0x148812;if(!_0x2a7b5e[_0x1382f8(0x39b)])throw new Error(_0x1382f8(0x203));if(!this[_0x1382f8(0x3db)][_0x1b41f9])throw new Error(_0x1382f8(0x419));delete this[_0x1382f8(0x3db)][_0x1b41f9];}[_0x148812(0x2bd)](_0x46e458){const _0x4abe80=_0x148812;if(_0x46e458['traceLevel']<this[_0x4abe80(0x233)]&&_0x46e458[_0x4abe80(0x2d4)]!==this['commitType'])return;if(!this[_0x4abe80(0x3db)][_0x46e458['jobId']])throw new Error(_0x4abe80(0x649));const _0x2975e7=this['openedTraces'][_0x46e458['jobId']];if(!_0x2975e7['database'])throw new Error('GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set');if(!_0x2975e7[_0x4abe80(0x743)])throw new Error(_0x4abe80(0x509));try{const _0x1b2d0a=function(_0x272d4f){const _0x487a7b=_0x4abe80,_0x42a400=['startTime',_0x487a7b(0x33f),_0x487a7b(0x2d4),'type','jobId',_0x487a7b(0x60d),_0x487a7b(0x1d8),_0x487a7b(0x697),_0x487a7b(0x4d6),_0x487a7b(0x718)],_0x4184eb={..._0x272d4f};for(const _0x4a16e2 of _0x42a400)delete _0x4184eb[_0x4a16e2];return{'timestamp':_0x272d4f[_0x487a7b(0x33f)],'jobType':_0x272d4f[_0x487a7b(0x2d4)],'type':_0x272d4f[_0x487a7b(0x200)],'jobId':_0x272d4f['jobId'],'agentId':_0x272d4f[_0x487a7b(0x7af)]??'','traceLevel':_0x272d4f[_0x487a7b(0x60d)],'blockId':_0x272d4f[_0x487a7b(0x1d8)]??'','startTime':_0x272d4f[_0x487a7b(0xb1)],'status':_0x272d4f[_0x487a7b(0x697)],'sequence':_0x272d4f[_0x487a7b(0x4d6)]??0x0,'errorDetails':_0x272d4f[_0x487a7b(0x718)]??'','metadata':_0x32cc67(_0x4184eb)};}(_0x46e458),_0x32fdd8=(0x0,_0x12e752['v4'])();console['log'](_0x4abe80(0x7c4),_0x1b2d0a[_0x4abe80(0x200)]),_0x2975e7[_0x4abe80(0x743)][_0x4abe80(0x6b3)](_0x32fdd8,_0x1b2d0a);}catch(_0x3f455c){console[_0x4abe80(0x2d0)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x3f455c);}}}const _0x1310f4=_0x2a7b5e[_0x148812(0x3bf)]();async function _0x3c1453(_0x21502e,_0x4ebb9e,_0x281a59,_0x5574f9,_0x43ea01){const _0x124fa4=_0x148812,_0xf2bc47=Date[_0x124fa4(0x847)](),_0x718341=_0x43ea01[_0x124fa4(0x321)][_0x124fa4(0x453)](_0x19b776=>_0x19b776['id']===_0x281a59['modelId']);if(!_0x718341)throw new Error(_0x124fa4(0x37d));const _0x19e8ae=_0x43ea01[_0x124fa4(0x585)][_0x124fa4(0x453)](_0x58fbec=>_0x58fbec[_0x124fa4(0x17a)]()===_0x718341[_0x124fa4(0x7dd)]);if(!_0x19e8ae)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x2a6f9b=[],_0x585bef=(0x0,_0x12e752['v4'])(),_0x5e54c9=await _0x19e8ae[_0x124fa4(0x5f1)]({'type':_0x124fa4(0x3ce),'prompt':_0x4ebb9e,'instructions':_0x281a59['instructions'],'grammar':_0x281a59[_0x124fa4(0x18f)],'temperature':_0x281a59[_0x124fa4(0xb6)],'maxTokens':_0x281a59[_0x124fa4(0x808)],'threadId':_0x585bef},{'model':_0x718341});if(_0x124fa4(0x53a)!=typeof _0x5e54c9['output'])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');_0x1310f4[_0x124fa4(0x292)]({'jobType':_0x4c2700[_0x124fa4(0x6fd)],'type':_0x325f59['Agent'],'jobId':_0x21502e,'blockId':_0x281a59['id'],'traceLevel':_0x32da54[_0x124fa4(0x148)],'timestamp':Date[_0x124fa4(0x847)](),'startTime':_0xf2bc47,'status':_0x124fa4(0xf3),'agentId':_0x585bef,'content':_0x4ebb9e,'instructions':_0x281a59[_0x124fa4(0x7bc)],'result':_0x5e54c9[_0x124fa4(0x91f)]}),_0x2a6f9b[_0x124fa4(0x5dc)]({'content':_0x5e54c9['output'],'start':0x0,'length':_0x4ebb9e['length']}),await _0x264bcf(_0x21502e,_0x2a6f9b,_0x281a59,_0x5574f9,_0x43ea01);}async function _0x2ba78c(_0x45d4a5,_0x4bafb7,_0x4877e1,_0x484080,_0x2dd662){const _0x18e2de=_0x148812,_0x8ba4c4=Date[_0x18e2de(0x847)]();let _0x5b095d=[];if(_0x4bafb7 instanceof Array){for(const _0x203b81 of _0x4bafb7)_0x5b095d=_0x5b095d[_0x18e2de(0x121)](_0x193b21(_0x203b81[_0x18e2de(0x92a)],_0x4877e1,_0x203b81[_0x18e2de(0x4b7)],_0x203b81[_0x18e2de(0x6a1)]));}else _0x5b095d=_0x193b21(_0x4bafb7,_0x4877e1);_0x1310f4[_0x18e2de(0x292)]({'jobType':_0x4c2700[_0x18e2de(0x6fd)],'type':_0x325f59[_0x18e2de(0x7a5)],'traceLevel':_0x32da54[_0x18e2de(0x148)],'jobId':_0x45d4a5,'blockId':_0x4877e1['id'],'startTime':_0x8ba4c4,'timestamp':Date[_0x18e2de(0x847)](),'status':_0x18e2de(0xf3),'totalChunks':_0x5b095d['length'],'chunkSize':_0x4877e1[_0x18e2de(0x97f)][_0x18e2de(0x33c)]}),await _0x264bcf(_0x45d4a5,_0x5b095d,_0x4877e1,_0x484080,_0x2dd662);}function _0x193b21(_0x2375d6,_0x3c1800,_0x9cedb3,_0x3c4208){const _0x193b9d=_0x148812,_0x34fdb1=[];let _0x287dbe=0x0;for(let _0x272c33=0x0;_0x272c33<_0x2375d6[_0x193b9d(0x6a1)];_0x272c33+=_0x3c1800[_0x193b9d(0x97f)][_0x193b9d(0x33c)]){let _0x33cbd5=_0x272c33-_0x3c1800['attributes'][_0x193b9d(0x86)];_0x33cbd5<0x0&&(_0x33cbd5=0x0);let _0x511b67=_0x272c33+_0x3c1800[_0x193b9d(0x97f)][_0x193b9d(0x33c)]+_0x3c1800[_0x193b9d(0x97f)][_0x193b9d(0x86)];_0x511b67>_0x2375d6[_0x193b9d(0x6a1)]&&(_0x511b67=_0x2375d6[_0x193b9d(0x6a1)]);const _0x2e57fd=_0x2375d6['substring'](_0x33cbd5,_0x511b67);_0x34fdb1[_0x193b9d(0x5dc)]({'content':_0x2e57fd,'start':_0x9cedb3??_0x287dbe,'length':_0x3c4208??_0x2e57fd['length']}),_0x287dbe+=_0x2e57fd[_0x193b9d(0x6a1)];}return _0x34fdb1;}async function _0x2bddf8(_0x466912,_0x338ba3,_0x233fad,_0x550378,_0x20ef4d){const _0x2e8ed8=_0x148812,_0x116df9=Date['now']();let _0x394624;if(_0x338ba3[_0x2e8ed8(0x501)][_0x2e8ed8(0x200)][_0x2e8ed8(0x96a)](_0x2e8ed8(0x44e))||(_0x5a69f3=_0x338ba3[_0x2e8ed8(0x501)]['name'],_0x1e97f5[_0x2e8ed8(0x523)]('.'+(_0x5a69f3['split']('.')[_0x2e8ed8(0x21a)]()?.['toLowerCase']()||''))))_0x394624=await _0x338ba3['file'][_0x2e8ed8(0x625)]();else{if(!_0x20ef4d['documentParserConnector'][_0x2e8ed8(0x7e8)](_0x338ba3['file']))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x338ba3[_0x2e8ed8(0x501)][_0x2e8ed8(0x200)]+_0x2e8ed8(0x19b)+_0x338ba3['file']['name']);_0x394624=await _0x20ef4d[_0x2e8ed8(0x4aa)][_0x2e8ed8(0x3d3)](_0x338ba3[_0x2e8ed8(0x501)]);}var _0x5a69f3;_0x1310f4[_0x2e8ed8(0x292)]({'jobType':_0x4c2700[_0x2e8ed8(0x6fd)],'type':_0x325f59[_0x2e8ed8(0x7fb)],'traceLevel':_0x32da54['Debug'],'blockId':_0x233fad['id'],'jobId':_0x466912,'startTime':_0x116df9,'timestamp':Date[_0x2e8ed8(0x847)](),'status':_0x2e8ed8(0xf3),'documentType':_0x338ba3[_0x2e8ed8(0x501)][_0x2e8ed8(0x200)],'documentName':_0x338ba3['file'][_0x2e8ed8(0x82)],'extractionMethod':_0x2e8ed8(0x8fa)}),await _0x264bcf(_0x466912,_0x394624,_0x233fad,_0x550378,_0x20ef4d);}const _0x1e97f5=['.js',_0x148812(0xc6),_0x148812(0x62c),_0x148812(0x63b),_0x148812(0x3f6),'.html',_0x148812(0x46f),_0x148812(0x1df),'.md',_0x148812(0x1ce),'.yaml',_0x148812(0x745),_0x148812(0x2f6),_0x148812(0x422),_0x148812(0x7c9),_0x148812(0x36a),'.sql','.rb','.php',_0x148812(0x406),'.c','.cpp',_0x148812(0x7a9),'.r',_0x148812(0x72c),_0x148812(0x3a4),_0x148812(0x1b3),_0x148812(0x57e),_0x148812(0x755),'.dart',_0x148812(0xf4),_0x148812(0x93c),'.hs','.clj',_0x148812(0x4a7),_0x148812(0x6f3),_0x148812(0x5eb),_0x148812(0x166),_0x148812(0x40a),_0x148812(0x1c6),_0x148812(0x7c1),'.m',_0x148812(0x19c),_0x148812(0x499),_0x148812(0x4b6),_0x148812(0x246),_0x148812(0x47b),_0x148812(0x84e),_0x148812(0x11c),_0x148812(0x5a6),_0x148812(0x784),_0x148812(0x6df),_0x148812(0x134),'.hbs',_0x148812(0x2fe),'.ejs','.pug','.liquid',_0x148812(0x709),_0x148812(0x87a),_0x148812(0x790),'.j2','.djt'];async function _0x31c400(_0x146f10,_0x3abe5f,_0x2a6777,_0x154619,_0x5e7111){const _0x6f3c30=_0x148812,_0x4d2827=Date['now'](),_0x2d3e10=new Set();let _0x2fc620=0x0;for(const _0x136ad4 of _0x3abe5f)_0x2fc620+=_0x136ad4[_0x6f3c30(0x92a)]['length'],await _0x10c424(_0x136ad4[_0x6f3c30(0x92a)],_0x2d3e10,_0x2a6777,_0x5e7111[_0x6f3c30(0x475)]);_0x1310f4[_0x6f3c30(0x292)]({'jobType':_0x4c2700['Ingest'],'type':_0x325f59['EntityExtractor'],'jobId':_0x146f10,'blockId':_0x2a6777['id'],'traceLevel':_0x32da54[_0x6f3c30(0x148)],'startTime':_0x4d2827,'timestamp':Date[_0x6f3c30(0x847)](),'status':'success','contentLength':_0x2fc620,'totalChunks':_0x3abe5f instanceof Array?_0x3abe5f[_0x6f3c30(0x6a1)]:0x1,'entitiesExtracted':_0x2d3e10,'totalEntities':_0x2d3e10[_0x6f3c30(0x33c)]}),await _0x264bcf(_0x146f10,_0x2d3e10,_0x2a6777,_0x154619,_0x5e7111);}async function _0x10c424(_0x24d369,_0x3452bc,_0x24a5b0,_0x182a63){const _0x3ecd60=_0x148812,_0x4ed0c2=await _0x182a63['getEntities'](_0x24d369,{'ner':_0x24a5b0[_0x3ecd60(0x97f)][_0x3ecd60(0x88e)],'noun':_0x24a5b0['attributes']['noun'],'propn':_0x24a5b0[_0x3ecd60(0x97f)][_0x3ecd60(0x316)],'verb':_0x24a5b0[_0x3ecd60(0x97f)][_0x3ecd60(0x20a)]});for(const _0x2f25a7 of _0x4ed0c2)_0x3452bc[_0x3ecd60(0x96d)](_0x2f25a7);}function _0x57449e(_0x49b563,_0x521a7a,_0x354eb2,_0x3bd27a,_0x46b7fe){const _0x3e892d=_0x148812,_0x1c4d86=Date[_0x3e892d(0x847)]();if(_0x354eb2['accumulated']||(_0x354eb2[_0x3e892d(0x146)]={}),_0x3e892d(0x53a)==typeof _0x521a7a?_0x354eb2['accumulated']['content']=_0x521a7a:_0x521a7a instanceof Set?_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x819)]=_0x521a7a:_0x521a7a instanceof Map?_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x2bc)]=_0x521a7a:_0x521a7a instanceof Array?_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x17b)]=_0x521a7a:_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x501)]=_0x521a7a,_0x354eb2[_0x3e892d(0x657)]=_0x354eb2['timesCalled']?_0x354eb2[_0x3e892d(0x657)]+0x1:0x1,_0x3a0b93(_0x354eb2,_0x3bd27a)>_0x354eb2[_0x3e892d(0x657)])return;if(!(_0x354eb2['accumulated'][_0x3e892d(0x819)]&&_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x501)]&&_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x92a)]&&_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x17b)]))throw new Error(_0x3e892d(0x250));let _0x57d228=0x0;const _0x556265=_0x46b7fe['contentMediator'][_0x3e892d(0x923)](_0x354eb2['id']);for(const _0x45f336 of _0x354eb2['accumulated']['entities']){let _0x1dd4a2=[];_0x1dd4a2=_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x17b)][_0x3e892d(0x5b5)](_0x46f4c9=>_0x46f4c9[_0x3e892d(0x92a)][_0x3e892d(0x523)](_0x45f336));try{_0x556265['addNode'](_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x501)][_0x3e892d(0x179)],_0x354eb2['accumulated']['content'],_0x1dd4a2,_0x45f336),_0x57d228+=0x1;}catch(_0x543b3a){}}if(_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x2bc)]){for(const [_0x2579c6,_0x374e8b]of _0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x2bc)])for(const _0x4fef5a of _0x374e8b)try{_0x556265['addEdge'](_0x2579c6,_0x4fef5a);}catch(_0x3dc5aa){}if(_0x556265[_0x3e892d(0x291)]()){let _0x23d647=''+(_0x46b7fe['version']??0x1);for(const _0x337b5f of _0x3bd27a)if(_0x337b5f[_0x3e892d(0x200)]===_0x5e6e36['Agent']){_0x23d647=_0x23d647+'-'+(_0x337b5f[_0x3e892d(0xb3)]??0x1);break;}_0x556265[_0x3e892d(0x26c)](_0x23d647);}_0x1310f4['trace']({'jobType':_0x4c2700['Ingest'],'type':_0x325f59[_0x3e892d(0x7b8)],'jobId':_0x49b563,'blockId':_0x354eb2['id'],'status':_0x3e892d(0xf3),'startTime':_0x1c4d86,'timestamp':Date[_0x3e892d(0x847)](),'traceLevel':_0x32da54[_0x3e892d(0x148)],'nodesAdded':_0x57d228,'entities':_0x354eb2['accumulated'][_0x3e892d(0x819)],'relations':_0x354eb2[_0x3e892d(0x146)][_0x3e892d(0x2bc)]});}}async function _0x2d64e3(_0x495aa0,_0x32d764,_0x299278,_0x1f09ac,_0x4eee6e){const _0x34cf7e=_0x148812,_0x205284=_0x4eee6e[_0x34cf7e(0x321)][_0x34cf7e(0x453)](_0x3c129c=>_0x3c129c['id']===_0x299278['id']);if(!_0x205284)throw new Error(_0x34cf7e(0x37d));switch(_0x205284[_0x34cf7e(0x29f)]){case _0x366c21[_0x34cf7e(0x72a)][_0x34cf7e(0xe4)]:if(_0x34cf7e(0x53a)!=typeof _0x32d764)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x215e8b,_0x3a1d48,_0x244953,_0x69d853,_0x12f5c1,_0x3f5717){const _0x31a2f4=_0x34cf7e,_0x4c6653=Date[_0x31a2f4(0x847)]();let _0x1b27d1;const _0x203ead=_0x3f5717['generativeAIWorkerConnectors'][_0x31a2f4(0x453)](_0x4ea1ec=>_0x4ea1ec['getEngineType']()===_0x244953['engineType']);if(!_0x203ead)throw new Error(_0x31a2f4(0x8c8));_0x1b27d1=await async function(_0x450ca9,_0x124009,_0x268657){const _0x316ad6=await _0x124009['processJob']({'type':'prompt','prompt':_0x450ca9,'threadId':''},{'model':_0x268657});if(_0x316ad6['output']instanceof Array)throw new Error('Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text');return _0x316ad6['output'];}(_0x3a1d48,_0x203ead,_0x244953),_0x1310f4[_0x31a2f4(0x292)]({'jobType':_0x4c2700['Ingest'],'type':_0x325f59[_0x31a2f4(0x729)],'jobId':_0x215e8b,'blockId':_0x69d853['id'],'traceLevel':_0x32da54[_0x31a2f4(0x148)],'timestamp':Date[_0x31a2f4(0x847)](),'startTime':_0x4c6653,'status':_0x31a2f4(0xf3),'modelName':_0x244953['id'],'inputType':_0x244953[_0x31a2f4(0x5ab)],'outputType':_0x244953[_0x31a2f4(0x29f)],'content':_0x3a1d48,'results':_0x1b27d1}),await _0x264bcf(_0x215e8b,_0x1b27d1,_0x69d853,_0x12f5c1,_0x3f5717);}(_0x495aa0,_0x32d764,_0x205284,_0x299278,_0x1f09ac,_0x4eee6e);break;case _0x366c21[_0x34cf7e(0x72a)][_0x34cf7e(0x66f)]:if(!(_0x32d764 instanceof Array))throw new Error(_0x34cf7e(0x452));await async function(_0x338eca,_0x14981e,_0x3df92c,_0x20d2a0,_0x4e7f02,_0x5701d5){const _0x1513f6=_0x34cf7e,_0x1ae3e8=Date[_0x1513f6(0x847)](),_0x3ac95a=[],_0x37b1cb=_0x5701d5['generativeAIWorkerConnectors'][_0x1513f6(0x453)](_0x1bf3f6=>_0x1bf3f6[_0x1513f6(0x17a)]()===_0x3df92c[_0x1513f6(0x7dd)]);if(!_0x37b1cb)throw new Error(_0x1513f6(0x8c8));for(const _0x2d679b of _0x14981e)_0x3ac95a[_0x1513f6(0x5dc)](await _0x46e6ee(_0x2d679b,_0x37b1cb,_0x3df92c));_0x1310f4['trace']({'jobType':_0x4c2700['Ingest'],'type':_0x325f59['ModelVector'],'jobId':_0x338eca,'blockId':_0x20d2a0['id'],'traceLevel':_0x32da54[_0x1513f6(0x148)],'timestamp':Date[_0x1513f6(0x847)](),'startTime':_0x1ae3e8,'status':'success','modelName':_0x3df92c['id'],'inputType':_0x3df92c[_0x1513f6(0x5ab)],'outputType':_0x3df92c[_0x1513f6(0x29f)],'totalVectors':_0x3ac95a[_0x1513f6(0x6a1)]}),await _0x264bcf(_0x338eca,_0x3ac95a,_0x20d2a0,_0x4e7f02,_0x5701d5);}(_0x495aa0,_0x32d764,_0x205284,_0x299278,_0x1f09ac,_0x4eee6e);}}async function _0x46e6ee(_0x4fb4ba,_0x1640b8,_0x234a5b){const _0x5624fa=_0x148812;return(await _0x1640b8[_0x5624fa(0x5f1)]({'type':_0x5624fa(0x3ce),'prompt':_0x4fb4ba[_0x5624fa(0x92a)],'threadId':''},{'model':_0x234a5b}))[_0x5624fa(0x91f)];}async function _0x33caab(_0x4c35f0,_0x2a0329,_0xedd357,_0x39b5c5,_0x3803d5){const _0x5a32d4=_0x148812,_0x1214e7=Date[_0x5a32d4(0x847)]();if(_0xedd357[_0x5a32d4(0x146)]||(_0xedd357[_0x5a32d4(0x146)]={}),_0x2a0329 instanceof Array?_0xedd357[_0x5a32d4(0x146)]['index']=_0x2a0329:_0xedd357['accumulated'][_0x5a32d4(0x819)]=_0x2a0329,_0xedd357[_0x5a32d4(0x657)]=_0xedd357['timesCalled']?_0xedd357['timesCalled']+0x1:0x1,_0x3a0b93(_0xedd357,_0x39b5c5)>_0xedd357[_0x5a32d4(0x657)])return;if(!_0xedd357['accumulated']['index']||!_0xedd357[_0x5a32d4(0x146)][_0x5a32d4(0x819)])throw new Error(_0x5a32d4(0x662));const _0x44e3a3=new Map();for(const _0x27644e of _0xedd357[_0x5a32d4(0x146)][_0x5a32d4(0x17b)])_0x49b596(_0x27644e['content'],_0xedd357[_0x5a32d4(0x146)]['entities'],_0x44e3a3);_0x1310f4['trace']({'jobType':_0x4c2700['Ingest'],'type':_0x325f59[_0x5a32d4(0x798)],'jobId':_0x4c35f0,'blockId':_0xedd357['id'],'traceLevel':_0x32da54[_0x5a32d4(0x148)],'timestamp':Date[_0x5a32d4(0x847)](),'startTime':_0x1214e7,'status':_0x5a32d4(0xf3),'entities':_0xedd357['accumulated'][_0x5a32d4(0x819)],'relations':_0x44e3a3,'totalRelationsExtracted':_0x44e3a3['size']}),await _0x264bcf(_0x4c35f0,_0x44e3a3,_0xedd357,_0x39b5c5,_0x3803d5);}function _0x49b596(_0x22d643,_0xe53262,_0x467afe){const _0x11ecbd=_0x148812;for(const _0x3465dd of _0xe53262)for(const _0x233188 of _0xe53262){if(_0x3465dd===_0x233188)continue;const _0x3672c0=_0x22d643['indexOf'](_0x3465dd),_0x2e0651=_0x22d643[_0x11ecbd(0x5e0)](_0x233188);-0x1!==_0x3672c0&&-0x1!==_0x2e0651&&(_0x467afe['has'](_0x3465dd)||_0x467afe['set'](_0x3465dd,new Set()),_0x467afe[_0x11ecbd(0x792)](_0x3465dd)[_0x11ecbd(0x96d)](_0x233188));}return _0x467afe;}async function _0x52b7e6(_0x569012,_0x12e776,_0x12ea7a,_0x570396,_0x542e50){const _0x3e5f15=_0x148812,_0x32aa73=Date[_0x3e5f15(0x847)]();let _0x43782e=[];if(_0x12e776 instanceof Array)for(const _0x154821 of _0x12e776){const _0x38d07c=await _0x542e50[_0x3e5f15(0x475)][_0x3e5f15(0x8b4)](_0x154821[_0x3e5f15(0x92a)]);_0x43782e=_0x43782e[_0x3e5f15(0x121)](_0x38d07c[_0x3e5f15(0x7e1)](_0x1a4ef7=>({'content':_0x1a4ef7,'start':_0x154821[_0x3e5f15(0x4b7)],'length':_0x154821['length']})));}else _0x43782e=(await _0x542e50['nlpLibraryConnector']['getSentences'](_0x12e776))['map'](_0x1ff720=>({'content':_0x1ff720,'start':_0x12e776['indexOf'](_0x1ff720),'length':_0x1ff720[_0x3e5f15(0x6a1)]}));_0x1310f4['trace']({'jobType':_0x4c2700[_0x3e5f15(0x6fd)],'type':_0x325f59[_0x3e5f15(0x583)],'jobId':_0x569012,'blockId':_0x12ea7a['id'],'traceLevel':_0x32da54[_0x3e5f15(0x148)],'startTime':_0x32aa73,'timestamp':Date[_0x3e5f15(0x847)](),'status':_0x3e5f15(0xf3),'totalSentences':_0x43782e['length'],'averageSentenceLength':_0x43782e['reduce']((_0x4fdbf7,_0x4dad24)=>_0x4fdbf7+_0x4dad24[_0x3e5f15(0x6a1)],0x0)/_0x43782e['length']}),await _0x264bcf(_0x569012,_0x43782e,_0x12ea7a,_0x570396,_0x542e50);}function _0x37237b(_0x1f1a48,_0xfa843b,_0x14d07c,_0x22139f,_0x183e27){const _0x5114c2=_0x148812,_0xa45af4=Date[_0x5114c2(0x847)]();var _0x59098d;if(_0x14d07c[_0x5114c2(0x146)]||(_0x14d07c['accumulated']={}),_0xfa843b instanceof Array?(_0x59098d=_0xfa843b)[0x0]instanceof Array&&'number'==typeof _0x59098d[0x0]?.[0x0]?_0x14d07c[_0x5114c2(0x146)]['vectors']=_0xfa843b:_0x14d07c[_0x5114c2(0x146)][_0x5114c2(0x17b)]=_0xfa843b:_0x5114c2(0x53a)==typeof _0xfa843b?_0x14d07c[_0x5114c2(0x146)][_0x5114c2(0x92a)]=_0xfa843b:_0x14d07c['accumulated'][_0x5114c2(0x501)]=_0xfa843b,_0x14d07c['timesCalled']=_0x14d07c['timesCalled']?_0x14d07c['timesCalled']+0x1:0x1,_0x3a0b93(_0x14d07c,_0x22139f)>_0x14d07c['timesCalled'])return;if(!(_0x14d07c[_0x5114c2(0x146)][_0x5114c2(0x92a)]&&_0x14d07c[_0x5114c2(0x146)]['index']&&_0x14d07c[_0x5114c2(0x146)][_0x5114c2(0xdc)]&&_0x14d07c[_0x5114c2(0x146)]['file']))throw new Error(_0x5114c2(0x8ae));const _0x11b4ea=_0x183e27[_0x5114c2(0xe1)][_0x5114c2(0x32c)](_0x14d07c['id']);if(_0x11b4ea['insert'](_0x14d07c[_0x5114c2(0x146)]['file'][_0x5114c2(0x179)],_0x14d07c[_0x5114c2(0x146)][_0x5114c2(0x92a)],_0x14d07c[_0x5114c2(0x146)]['index'],_0x14d07c[_0x5114c2(0x146)][_0x5114c2(0xdc)]),_0x11b4ea[_0x5114c2(0x291)]()){let _0x49e3d5=''+(_0x183e27[_0x5114c2(0xb3)]??0x1);for(const _0x521121 of _0x22139f)_0x521121[_0x5114c2(0x200)]===_0x5e6e36[_0x5114c2(0x6b4)]&&(_0x49e3d5=_0x49e3d5+'-'+(_0x521121['version']??0x1));_0x11b4ea[_0x5114c2(0x26c)](_0x49e3d5);}_0x1310f4[_0x5114c2(0x292)]({'jobType':_0x4c2700[_0x5114c2(0x6fd)],'type':_0x325f59['VectorDatabase'],'jobId':_0x1f1a48,'blockId':_0x14d07c['id'],'traceLevel':_0x32da54[_0x5114c2(0x148)],'startTime':_0xa45af4,'timestamp':Date[_0x5114c2(0x847)](),'status':_0x5114c2(0xf3),'databaseName':_0x11b4ea[_0x5114c2(0x895)](),'vectorsAdded':_0x14d07c[_0x5114c2(0x146)][_0x5114c2(0xdc)][_0x5114c2(0x6a1)],'filePathName':_0x14d07c[_0x5114c2(0x146)][_0x5114c2(0x501)][_0x5114c2(0x179)]});}async function _0x2acf31(_0x13c5cb,_0x7a19c,_0x2535b9,_0x54bebc,_0x2341b6){const _0x1c1291=_0x148812,_0x5760e4=Date['now']();let _0x4a81fb=[];if(_0x7a19c instanceof Array){for(const _0xc873fb of _0x7a19c)_0x4a81fb=_0x4a81fb[_0x1c1291(0x121)](_0xed7f5a(_0xc873fb['content'],_0x2535b9,_0xc873fb['start'],_0xc873fb[_0x1c1291(0x6a1)]));}else _0x4a81fb=_0xed7f5a(_0x7a19c,_0x2535b9);_0x1310f4[_0x1c1291(0x292)]({'jobType':_0x4c2700[_0x1c1291(0x6fd)],'type':_0x325f59[_0x1c1291(0x1fc)],'jobId':_0x13c5cb,'traceLevel':_0x32da54[_0x1c1291(0x148)],'blockId':_0x2535b9['id'],'startTime':_0x5760e4,'timestamp':Date[_0x1c1291(0x847)](),'status':_0x1c1291(0xf3),'totalChunks':_0x4a81fb[_0x1c1291(0x6a1)],'averageChunkLength':_0x4a81fb['reduce']((_0x51e9a8,_0x545438)=>_0x51e9a8+_0x545438['length'],0x0)/_0x4a81fb[_0x1c1291(0x6a1)]}),await _0x264bcf(_0x13c5cb,_0x4a81fb,_0x2535b9,_0x54bebc,_0x2341b6);}function _0xed7f5a(_0x113ea9,_0x5f541e,_0x1100a1,_0x359c3a){const _0x1f4d5b=_0x148812,_0xc0d88d=[],_0x5a218d=_0x113ea9[_0x1f4d5b(0x3ea)]('\x20');let _0xbe4fc3='',_0x1ea875=-0x1,_0x4ba968=0x0,_0x348a23=0x0;for(const _0x4e1499 of _0x5a218d){if(_0xbe4fc3['length']+_0x4e1499['length']>_0x5f541e[_0x1f4d5b(0x97f)][_0x1f4d5b(0x33c)]){const _0x487b26=_0xbe4fc3['length'];let _0x4eeb86=_0x1ea875,_0x479d1a='';for(;_0x4eeb86>=0x0&&_0x479d1a[_0x1f4d5b(0x6a1)]+_0x5a218d[_0x4eeb86][_0x1f4d5b(0x6a1)]<_0x5f541e[_0x1f4d5b(0x97f)][_0x1f4d5b(0x86)];)_0x479d1a=_0x5a218d[_0x4eeb86]+'\x20'+_0x479d1a,_0x4eeb86--;let _0x4bd660=_0x4ba968,_0x108384='';for(;_0x4bd660<_0x5a218d['length']&&_0x108384[_0x1f4d5b(0x6a1)]+_0x5a218d[_0x4bd660][_0x1f4d5b(0x6a1)]<_0x5f541e[_0x1f4d5b(0x97f)]['overlap'];)_0x108384+=_0x5a218d[_0x4bd660]+'\x20',_0x4bd660++;_0xbe4fc3=_0x479d1a+_0xbe4fc3+_0x108384,_0xc0d88d[_0x1f4d5b(0x5dc)]({'content':_0xbe4fc3[_0x1f4d5b(0x6f1)](),'start':_0x1100a1??_0x348a23,'length':_0x359c3a??_0xbe4fc3[_0x1f4d5b(0x6a1)]}),_0xbe4fc3='',_0x1ea875=_0x4ba968-0x1,_0x348a23+=_0x487b26;}_0xbe4fc3+=_0x4e1499+'\x20',_0x4ba968++;}if(_0xbe4fc3['length']>0x0){const _0x3cf921=_0xbe4fc3[_0x1f4d5b(0x6a1)];let _0x23a57e=_0x1ea875,_0x3082d2='';for(;_0x23a57e>=0x0&&_0x3082d2[_0x1f4d5b(0x6a1)]+_0x5a218d[_0x23a57e][_0x1f4d5b(0x6a1)]<_0x5f541e[_0x1f4d5b(0x97f)][_0x1f4d5b(0x86)];)_0x3082d2=_0x5a218d[_0x23a57e]+'\x20'+_0x3082d2,_0x23a57e--;_0xbe4fc3=_0x3082d2+_0xbe4fc3,_0xc0d88d[_0x1f4d5b(0x5dc)]({'content':_0xbe4fc3[_0x1f4d5b(0x6f1)](),'start':_0x1100a1??_0x348a23,'length':_0x359c3a??_0x3cf921});}return _0xc0d88d;}async function _0x264bcf(_0x1f085a,_0x5cd358,_0x5be8ef,_0x16ce85,_0x17d1bb){const _0x51a264=_0x148812;for(const _0x360eca of _0x5be8ef[_0x51a264(0x1fb)]||[]){const _0x5a0f59=_0x16ce85[_0x51a264(0x453)](_0x5028f6=>_0x5028f6[_0x51a264(0x680)]===_0x360eca['uid']);if(_0x5a0f59)switch(_0x5a0f59['type']){case _0x5e6e36[_0x51a264(0x6b4)]:await _0x3c1453(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);break;case _0x5e6e36[_0x51a264(0x7a5)]:await _0x2ba78c(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);break;case _0x5e6e36['DocumentParser']:await _0x2bddf8(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);break;case _0x5e6e36[_0x51a264(0x52e)]:await _0x31c400(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);break;case _0x5e6e36['GraphDatabase']:_0x57449e(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);break;case _0x5e6e36[_0x51a264(0x901)]:await _0x2d64e3(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);break;case _0x5e6e36['RelationExtractor']:await _0x33caab(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);break;case _0x5e6e36['SentenceSplitter']:await _0x52b7e6(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);break;case _0x5e6e36[_0x51a264(0x2e2)]:_0x37237b(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);break;case _0x5e6e36[_0x51a264(0x1fc)]:await _0x2acf31(_0x1f085a,_0x5cd358,_0x5a0f59,_0x16ce85,_0x17d1bb);}}}function _0x3a0b93(_0x29ad09,_0x36976d){const _0x475576=_0x148812;return _0x36976d[_0x475576(0x5b5)](_0x19a745=>_0x19a745[_0x475576(0x1fb)]?.[_0x475576(0x794)](_0x190202=>_0x190202[_0x475576(0x680)]===_0x29ad09[_0x475576(0x680)]))[_0x475576(0x6a1)];}async function _0x4d5153(_0x34ec0f,_0x77f1d5,_0x3e0b95,_0x47fa0,_0x18c17e){const _0x1273c6=_0x148812;try{let _0x71f6fe;switch(_0x3e0b95[_0x1273c6(0x200)]){case _0x5e6e36[_0x1273c6(0x54a)]:const _0x148c1e=_0x18c17e['contentMediator'][_0x1273c6(0x5be)](_0x3e0b95['id']);_0x71f6fe=await _0x148c1e[_0x1273c6(0x792)](_0x77f1d5);break;case _0x5e6e36[_0x1273c6(0x193)]:const _0x1310da=_0x18c17e[_0x1273c6(0xe1)][_0x1273c6(0x39c)](_0x3e0b95['id']);_0x71f6fe=await _0x1310da[_0x1273c6(0x792)](_0x77f1d5);}if(!_0x71f6fe)throw new Error('Failed\x20to\x20get\x20file');await _0x264bcf(_0x34ec0f,{'file':_0x71f6fe,'pathName':_0x77f1d5},_0x3e0b95,structuredClone(_0x47fa0),_0x18c17e);}catch(_0x3187ea){console[_0x1273c6(0x2d0)](_0x1273c6(0x4ac),_0x3187ea);}}const _0x2b4319=require('rxjs/operators');class _0x2972d6{['subject'];constructor(){const _0x12cf8f=_0x148812;this[_0x12cf8f(0x7ed)]=new _0x7eac83[(_0x12cf8f(0x90e))]();}[_0x148812(0x498)](_0x27339d){const _0xbdba8d=_0x148812;this['subject'][_0xbdba8d(0x3a5)](_0x27339d);}async[_0x148812(0x684)](){const _0x1f9c45=_0x148812;return(0x0,_0x7eac83['firstValueFrom'])(this[_0x1f9c45(0x7ed)]['pipe']((0x0,_0x2b4319['take'])(0x1)));}}async function _0x4607b8(_0x33c002,_0x262874,_0x58d586,_0x783d17,_0x42c75e,_0x4fbde7,_0x4ea548){const _0x400ba4=_0x148812,_0xfcf72b=Date[_0x400ba4(0x847)](),_0x18cbbe=new Set();if(_0x58d586 instanceof Array){for(const _0x583712 of _0x58d586)await _0x2d9d8e(_0x583712[_0x400ba4(0x92a)],_0x42c75e,_0x18cbbe,_0x4ea548[_0x400ba4(0x475)]);}else await _0x2d9d8e(_0x58d586,_0x42c75e,_0x18cbbe,_0x4ea548[_0x400ba4(0x475)]);_0x1310f4['trace']({'jobType':_0x4c2700['Retrieve'],'type':_0x251086[_0x400ba4(0x52e)],'jobId':_0x33c002,'threadId':_0x262874,'blockId':_0x42c75e['id'],'traceLevel':_0x32da54[_0x400ba4(0x148)],'startTime':_0xfcf72b,'timestamp':Date[_0x400ba4(0x847)](),'status':_0x400ba4(0xf3),'content':_0x58d586,'entitiesExtracted':Array[_0x400ba4(0x928)](_0x18cbbe),'totalEntities':_0x18cbbe['size']}),await _0x267af5(_0x33c002,_0x262874,_0x18cbbe,_0x783d17,_0x42c75e,_0x4fbde7,_0x4ea548);}async function _0x2d9d8e(_0x2b6c34,_0x119f98,_0x1c8460,_0x10e6f9){const _0x486bbf=_0x148812,_0x157af2=await _0x10e6f9[_0x486bbf(0x74f)](_0x2b6c34,{'ner':_0x119f98[_0x486bbf(0x97f)][_0x486bbf(0x88e)],'noun':_0x119f98[_0x486bbf(0x97f)][_0x486bbf(0x5f2)],'propn':_0x119f98[_0x486bbf(0x97f)]['propn'],'verb':_0x119f98['attributes'][_0x486bbf(0x20a)]});for(const _0x402b3a of _0x157af2)_0x1c8460[_0x486bbf(0x96d)](_0x402b3a);}async function _0x457060(_0x55f365,_0x1cf39e,_0x3966fa,_0x45f02a,_0x357e70,_0x2c8566,_0xc6e9dc){const _0x401b99=_0x148812,_0x3ab207=Date['now']();if(_0x357e70[_0x401b99(0x146)]||(_0x357e70[_0x401b99(0x146)]={}),_0x3966fa instanceof Array?(_0x357e70[_0x401b99(0x146)][_0x401b99(0x177)]||(_0x357e70[_0x401b99(0x146)][_0x401b99(0x177)]=[]),_0x357e70[_0x401b99(0x146)][_0x401b99(0x177)]['push'](..._0x3966fa)):_0x3966fa instanceof Set?_0x357e70[_0x401b99(0x146)][_0x401b99(0x819)]=_0x3966fa:_0x357e70[_0x401b99(0x146)][_0x401b99(0x3ce)]=_0x3966fa,_0x357e70[_0x401b99(0x657)]=_0x357e70[_0x401b99(0x657)]?_0x357e70['timesCalled']+0x1:0x1,_0x5152f7(_0x357e70,_0x2c8566)>_0x357e70[_0x401b99(0x657)])return;if(!_0x357e70['accumulated']['prompt']&&!_0x357e70[_0x401b99(0x146)][_0x401b99(0x177)]||!_0x357e70[_0x401b99(0x146)]['entities'])throw new Error(_0x401b99(0x250));const _0x38ae74=_0xc6e9dc[_0x401b99(0xe1)][_0x401b99(0x923)](_0x357e70['id'])[_0x401b99(0x85a)](Array[_0x401b99(0x928)](_0x357e70[_0x401b99(0x146)][_0x401b99(0x819)]),_0x357e70[_0x401b99(0x97f)][_0x401b99(0x22b)],_0x357e70[_0x401b99(0x97f)][_0x401b99(0x728)]);let _0x344887=[];for(const _0x5576c7 in _0x38ae74){const _0x50ba24=_0x38ae74[_0x5576c7];for(const _0xa33c6e of _0x50ba24){let _0x580a4a=0x0;if(_0x357e70[_0x401b99(0x146)][_0x401b99(0x3ce)]&&(_0x580a4a=await _0xc6e9dc[_0x401b99(0x475)][_0x401b99(0x5db)](_0x357e70[_0x401b99(0x146)][_0x401b99(0x3ce)],_0xa33c6e)),_0x357e70['accumulated'][_0x401b99(0x177)]){for(const _0x4a766b of _0x357e70[_0x401b99(0x146)][_0x401b99(0x177)])_0x580a4a=Math[_0x401b99(0x629)](_0x580a4a,await _0xc6e9dc['nlpLibraryConnector'][_0x401b99(0x5db)](_0x4a766b['content'],_0xa33c6e));}_0x580a4a<_0x357e70[_0x401b99(0x97f)][_0x401b99(0x2ea)]||_0x344887['push']({'content':_0xa33c6e,'relevance':_0x580a4a,'pathName':_0x5576c7});}}_0x344887=_0x344887[_0x401b99(0x556)]((_0x10ee5b,_0x2efbb4)=>_0x2efbb4['relevance']-_0x10ee5b[_0x401b99(0x91a)])[_0x401b99(0x234)](0x0,_0x357e70[_0x401b99(0x97f)][_0x401b99(0x2f4)]),_0x1310f4[_0x401b99(0x292)]({'jobType':_0x4c2700[_0x401b99(0x434)],'type':_0x251086[_0x401b99(0x188)],'jobId':_0x55f365,'threadId':_0x1cf39e,'blockId':_0x357e70['id'],'traceLevel':_0x32da54[_0x401b99(0x148)],'timestamp':Date[_0x401b99(0x847)](),'startTime':_0x3ab207,'status':_0x401b99(0xf3),'content':_0x3966fa,'topResults':_0x344887,'numResults':_0x344887[_0x401b99(0x6a1)]}),await _0x267af5(_0x55f365,_0x1cf39e,_0x344887,_0x45f02a,_0x357e70,_0x2c8566,_0xc6e9dc);}async function _0x1e1b59(_0x5e93cb,_0x1dde6a,_0x987865,_0x4abad1,_0x19e6bc,_0x6cec8d,_0x37da42){const _0x12b81d=_0x148812,_0x238eed=_0x37da42[_0x12b81d(0x321)]['find'](_0x233b58=>_0x233b58['id']===_0x19e6bc['id']);if(!_0x238eed)throw new Error(_0x12b81d(0x37d));let _0xca3113='';switch(_0xca3113=_0x987865 instanceof Array?_0x987865[_0x12b81d(0x7e1)](_0x49b39b=>_0x49b39b['content'])[_0x12b81d(0x3b0)](',\x20'):_0x987865,_0x238eed[_0x12b81d(0x29f)]){case _0x366c21[_0x12b81d(0x72a)]['Text']:await async function(_0x7dbcf8,_0x335e2f,_0x197e94,_0x233b75,_0x5947ad,_0x2c8b33,_0x4b89da,_0x27ef05){const _0x39027f=_0x12b81d,_0x355c47=Date['now'](),_0x4dac7a=_0x27ef05[_0x39027f(0x585)]['find'](_0x4dc882=>_0x4dc882[_0x39027f(0x17a)]()===_0x5947ad[_0x39027f(0x7dd)]);if(!_0x4dac7a)throw new Error(_0x39027f(0x8c8));const _0x22ec61=await async function(_0x1bfacd,_0x4a3d25,_0x44cd8c,_0x59a1c9,_0x39d7aa){const _0x426fa1=_0x39027f,_0x27cb19={'type':'prompt','prompt':_0x4a3d25,'threadId':_0x1bfacd};_0x44cd8c[_0x426fa1(0x4cb)][_0x426fa1(0x6a1)]>0x0&&(_0x27cb19[_0x426fa1(0x7bc)]=_0x426fa1(0x1dd)+_0x44cd8c[_0x426fa1(0x4cb)][_0x426fa1(0x7e1)](_0x5596a3=>_0x426fa1(0x7a7)+_0x5596a3['pathName']+':\x20'+_0x5596a3[_0x426fa1(0x92a)])['join']('\x0a'));const _0x29365f=await _0x59a1c9['processJob'](_0x27cb19,{'model':_0x39d7aa});if(_0x29365f[_0x426fa1(0x91f)]instanceof Array)throw new Error(_0x426fa1(0x83f));return _0x44cd8c[_0x426fa1(0x288)]+=_0x29365f['inputTokens']??0x0,_0x44cd8c[_0x426fa1(0x933)]+=_0x29365f[_0x426fa1(0x933)]??0x0,_0x29365f[_0x426fa1(0x91f)];}(_0x335e2f,_0x197e94,_0x233b75,_0x4dac7a,_0x5947ad);_0x1310f4[_0x39027f(0x292)]({'jobType':_0x4c2700[_0x39027f(0x434)],'type':_0x251086[_0x39027f(0x729)],'jobId':_0x7dbcf8,'threadId':_0x335e2f,'blockId':_0x2c8b33['id'],'traceLevel':_0x32da54[_0x39027f(0x148)],'startTime':_0x355c47,'timestamp':Date[_0x39027f(0x847)](),'status':_0x39027f(0xf3),'modelName':_0x5947ad['id'],'content':_0x197e94,'newPrompt':_0x22ec61,'inputType':_0x5947ad[_0x39027f(0x5ab)],'outputType':_0x5947ad[_0x39027f(0x29f)]}),await _0x267af5(_0x7dbcf8,_0x335e2f,_0x22ec61,_0x233b75,_0x2c8b33,_0x4b89da,_0x27ef05);}(_0x5e93cb,_0x1dde6a,_0xca3113,_0x4abad1,_0x238eed,_0x19e6bc,_0x6cec8d,_0x37da42);break;case _0x366c21[_0x12b81d(0x72a)][_0x12b81d(0x66f)]:await async function(_0x4890ae,_0x335dc0,_0x56ff7e,_0x26600b,_0x327ccb,_0x36dde8,_0x3ce168,_0x507ec4){const _0x351298=_0x12b81d,_0x441c2f=Date[_0x351298(0x847)](),_0x1c5910=_0x507ec4['generativeAIWorkerConnectors'][_0x351298(0x453)](_0x5eb507=>_0x5eb507[_0x351298(0x17a)]()===_0x327ccb['engineType']);if(!_0x1c5910)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x410b00=await async function(_0x79c537,_0x4e17b5,_0x2e67a6,_0x17b743){const _0x3ecee2=_0x351298;return(await _0x2e67a6[_0x3ecee2(0x5f1)]({'type':_0x3ecee2(0x3ce),'prompt':_0x4e17b5,'threadId':_0x79c537},{'model':_0x17b743}))[_0x3ecee2(0x91f)];}(_0x335dc0,_0x56ff7e,_0x1c5910,_0x327ccb);_0x1310f4[_0x351298(0x292)]({'jobType':_0x4c2700['Retrieve'],'type':_0x251086[_0x351298(0x122)],'jobId':_0x4890ae,'threadId':_0x335dc0,'blockId':_0x36dde8['id'],'traceLevel':_0x32da54['Debug'],'startTime':_0x441c2f,'timestamp':Date[_0x351298(0x847)](),'status':'success','modelName':_0x327ccb['id'],'content':_0x56ff7e,'totalVectors':_0x410b00[_0x351298(0x6a1)]}),await _0x267af5(_0x4890ae,_0x335dc0,_0x410b00,_0x26600b,_0x36dde8,_0x3ce168,_0x507ec4);}(_0x5e93cb,_0x1dde6a,_0xca3113,_0x4abad1,_0x238eed,_0x19e6bc,_0x6cec8d,_0x37da42);}}async function _0x2a9773(_0xb6741e,_0x57d4b4,_0x2e33a6,_0x2853bc,_0x3912c9,_0x2b927a,_0x3afd1b){const _0x26a16b=_0x148812,_0x37ea4c=Date['now'](),_0xd2db8a=_0x3afd1b[_0x26a16b(0xe1)][_0x26a16b(0x32c)](_0x3912c9['id'])['search'](_0x2e33a6,_0x3912c9[_0x26a16b(0x97f)]['topK'],_0x3912c9['attributes'][_0x26a16b(0x2ea)],_0x3912c9['attributes'][_0x26a16b(0x728)]);_0x1310f4['trace']({'jobType':_0x4c2700['Retrieve'],'type':_0x251086['VectorSearch'],'jobId':_0xb6741e,'threadId':_0x57d4b4,'blockId':_0x3912c9['id'],'traceLevel':_0x32da54['Debug'],'startTime':_0x37ea4c,'timestamp':Date[_0x26a16b(0x847)](),'status':_0x26a16b(0xf3),'topResults':_0xd2db8a,'numResults':_0xd2db8a['length']}),await _0x267af5(_0xb6741e,_0x57d4b4,_0xd2db8a,_0x2853bc,_0x3912c9,_0x2b927a,_0x3afd1b);}async function _0x3bf06a(_0x499309,_0x23fa5c,_0x57f247,_0x49e322,_0x1aab39,_0x4da618,_0x5b23f7){const _0x146f91=_0x148812,_0x433802=Date['now']();if(_0x1aab39[_0x146f91(0x146)]||(_0x1aab39[_0x146f91(0x146)]={}),_0x57f247 instanceof Array?(_0x1aab39[_0x146f91(0x146)][_0x146f91(0x177)]||(_0x1aab39[_0x146f91(0x146)][_0x146f91(0x177)]=[]),_0x1aab39[_0x146f91(0x146)][_0x146f91(0x177)][_0x146f91(0x5dc)](..._0x57f247)):_0x1aab39[_0x146f91(0x146)][_0x146f91(0x3ce)]=_0x57f247,_0x1aab39[_0x146f91(0x657)]=_0x1aab39[_0x146f91(0x657)]?_0x1aab39[_0x146f91(0x657)]+0x1:0x1,_0x5152f7(_0x1aab39,_0x4da618)>_0x1aab39[_0x146f91(0x657)])return;if(!_0x1aab39[_0x146f91(0x146)]['prompt']||!_0x1aab39[_0x146f91(0x146)]['results'])throw new Error(_0x146f91(0x782));for(const _0x494fb4 of _0x1aab39[_0x146f91(0x146)][_0x146f91(0x177)])_0x494fb4[_0x146f91(0x91a)]=await _0x5b23f7['nlpLibraryConnector'][_0x146f91(0x5db)](_0x1aab39['accumulated']['prompt'],_0x494fb4[_0x146f91(0x92a)]);const _0x557f16=_0x1aab39[_0x146f91(0x146)][_0x146f91(0x177)][_0x146f91(0x5b5)](_0x50a6d2=>_0x50a6d2[_0x146f91(0x91a)]>_0x1aab39[_0x146f91(0x97f)][_0x146f91(0x2ea)])['sort']((_0x184668,_0x2d56a9)=>_0x2d56a9['relevance']-_0x184668[_0x146f91(0x91a)])[_0x146f91(0x234)](0x0,_0x1aab39['attributes'][_0x146f91(0x2f4)]);_0x1310f4['trace']({'jobType':_0x4c2700['Retrieve'],'type':_0x251086['Reranker'],'jobId':_0x499309,'threadId':_0x23fa5c,'blockId':_0x1aab39['id'],'traceLevel':_0x32da54[_0x146f91(0x148)],'startTime':_0x433802,'timestamp':Date[_0x146f91(0x847)](),'status':_0x146f91(0xf3),'inputResults':_0x1aab39['accumulated'][_0x146f91(0x177)],'rerankedResults':_0x557f16}),await _0x267af5(_0x499309,_0x23fa5c,_0x557f16,_0x49e322,_0x1aab39,_0x4da618,_0x5b23f7);}async function _0x267af5(_0x4b9127,_0x137daf,_0x2aeeec,_0x13f276,_0x32bc91,_0x434255,_0x23a95c){const _0x5c4830=_0x148812;for(const _0x3ddcad of _0x32bc91[_0x5c4830(0x1fb)]||[]){const _0x559bbb=_0x434255[_0x5c4830(0x453)](_0x4a2fbb=>_0x4a2fbb['uid']===_0x3ddcad[_0x5c4830(0x680)]);if(_0x559bbb)switch(_0x559bbb[_0x5c4830(0x200)]){case _0x5e6e36[_0x5c4830(0x639)]:_0x13f276[_0x5c4830(0x4cb)]['push'](..._0x2aeeec);break;case _0x5e6e36[_0x5c4830(0x52e)]:await _0x4607b8(_0x4b9127,_0x137daf,_0x2aeeec,_0x13f276,_0x559bbb,_0x434255,_0x23a95c);break;case _0x5e6e36[_0x5c4830(0x7b8)]:await _0x457060(_0x4b9127,_0x137daf,_0x2aeeec,_0x13f276,_0x559bbb,_0x434255,_0x23a95c);break;case _0x5e6e36['Model']:await _0x1e1b59(_0x4b9127,_0x137daf,_0x2aeeec,_0x13f276,_0x559bbb,_0x434255,_0x23a95c);break;case _0x5e6e36[_0x5c4830(0x769)]:await _0x3bf06a(_0x4b9127,_0x137daf,_0x2aeeec,_0x13f276,_0x559bbb,_0x434255,_0x23a95c);break;case _0x5e6e36[_0x5c4830(0x2e2)]:await _0x2a9773(_0x4b9127,_0x137daf,_0x2aeeec,_0x13f276,_0x559bbb,_0x434255,_0x23a95c);}}}function _0x5152f7(_0x3a4f2e,_0x96c15c){const _0x3b7a23=_0x148812;return _0x96c15c['filter'](_0x445f8e=>_0x445f8e[_0x3b7a23(0x1fb)]?.[_0x3b7a23(0x794)](_0x2295f9=>_0x2295f9[_0x3b7a23(0x680)]===_0x3a4f2e[_0x3b7a23(0x680)]))[_0x3b7a23(0x6a1)];}async function _0x5cbb3c(_0x528f3b,_0x44ebe1,_0x24a610,_0x3fb493,_0x247eeb,_0x360d52){const _0x503a2e=_0x148812,_0x5ecaa0={'type':_0x503a2e(0x3ce),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x267af5(_0x528f3b,_0x44ebe1,_0x24a610,_0x5ecaa0,_0x3fb493,structuredClone(_0x247eeb),_0x360d52),_0x5ecaa0[_0x503a2e(0x91f)]=_0x503a2e(0x1dd)+_0x5ecaa0[_0x503a2e(0x4cb)][_0x503a2e(0x7e1)](_0x43b11a=>_0x503a2e(0x7a7)+_0x43b11a[_0x503a2e(0x179)]+':\x20'+_0x43b11a[_0x503a2e(0x92a)])['join']('\x0a');}catch(_0x2d025b){console[_0x503a2e(0x2d0)](_0x503a2e(0x410),_0x2d025b);}return _0x5ecaa0;}function _0x4b5b99(_0x28a0c0,_0xd31b41,_0x5d465b,_0x2e3898,_0x40df43,_0x12edfc,_0xe4c05a,_0x3b0d4c){const _0x2290c2=_0x148812,_0x1f27d7=new Map(),_0x427b26=_0x12edfc[_0x2290c2(0x5b5)](_0x21dbeb=>_0x21dbeb[_0x2290c2(0x1fb)]?.[_0x2290c2(0x453)](_0x39dd70=>_0x39dd70[_0x2290c2(0x680)]===_0x40df43[_0x2290c2(0x680)]&&(_0x39dd70[_0x2290c2(0x200)]===_0x30db5a[_0x2290c2(0x934)]||_0x39dd70[_0x2290c2(0x200)]===_0x30db5a[_0x2290c2(0x49a)])));for(const _0x383b01 of _0x427b26)_0x383b01[_0x2290c2(0x200)]===_0xe97749[_0x2290c2(0x934)]||_0x383b01['type']===_0xe97749['DataCollection']?_0x1f27d7[_0x2290c2(0x6b3)](_0x2290c2(0x31d)+_0x383b01['id'],_0x15498a(_0x28a0c0,_0xd31b41,_0x5d465b,_0x2e3898,_0x383b01,_0xe4c05a,_0x3b0d4c)):_0x383b01[_0x2290c2(0x200)]===_0xe97749['AgentSkill']||_0x383b01['type']===_0xe97749[_0x2290c2(0x6b4)]?_0x1f27d7['set'](_0x2290c2(0x277)+_0x383b01['id'],_0x16c5e0(_0x28a0c0,_0xd31b41,_0x5d465b,_0x2e3898,_0x383b01,_0x12edfc,_0xe4c05a,_0x3b0d4c)):_0x383b01['type']===_0xe97749['CustomSkill']?_0x1f27d7[_0x2290c2(0x6b3)](_0x383b01[_0x2290c2(0x82)]['replace'](/[^a-zA-Z]/g,''),_0x1c89ba(_0x28a0c0,_0xd31b41,_0x5d465b,_0x383b01,_0x12edfc,_0x3b0d4c)):_0x1f27d7[_0x2290c2(0x6b3)](_0x8ec91a(_0x383b01),_0x2fcfaf(_0x28a0c0,_0xd31b41,_0x5d465b,_0x383b01,_0xe4c05a,_0x3b0d4c));return _0x40df43[_0x2290c2(0x146)]?.[_0x2290c2(0x4cb)]&&_0x2290c2(0x8bb)===_0x40df43['grammar']&&_0x1f27d7[_0x2290c2(0x6b3)](_0x2290c2(0x90d),function(_0x171c5b,_0x9d12b7){return{'description':'Retrieve\x20from\x20context\x20to\x20inform\x20your\x20response.','params':{},'callback':async()=>{const _0x4489ff=a0_0x53e8;try{if(!_0x171c5b[_0x4489ff(0x146)]?.['context'])throw new Error(_0x4489ff(0x1ca));_0x9d12b7&&(await _0x1d7287[_0x4489ff(0x86e)](0x1),_0x9d12b7[_0x4489ff(0x498)]({'output':_0x4489ff(0x4e9),'type':_0x4489ff(0x3ce)}));let _0xaded3d='';if(_0x171c5b[_0x4489ff(0x146)]['context']){for(const _0x4bf8c9 of Object[_0x4489ff(0x6fe)](_0x171c5b[_0x4489ff(0x146)][_0x4489ff(0x4cb)]))_0xaded3d=_0x4bf8c9+':\x20'+_0x171c5b[_0x4489ff(0x146)][_0x4489ff(0x4cb)][_0x4bf8c9]+'\x0a\x0a'+_0xaded3d;}return _0xaded3d;}catch(_0x2c59b1){return console[_0x4489ff(0x2d0)](_0x2c59b1),_0x2c59b1 instanceof Error?_0x2c59b1[_0x4489ff(0x34d)]:_0x4489ff(0x7ea);}}};}(_0x40df43,_0x3b0d4c)),_0x1f27d7;}function _0x16c5e0(_0x5f0fad,_0x5d44de,_0x3e65a7,_0x3eb83e,_0x3d29cc,_0xece8ea,_0x1167a4,_0x4e4068){const _0x57d9b6=_0x148812,_0x126e09='Execute\x20the\x20agent\x20'+_0x3d29cc[_0x57d9b6(0x11d)]+_0x57d9b6(0x650),_0x2e0479={'prompt':{'type':_0x366c21['PromptFunctionParamsType'][_0x57d9b6(0xd9)]}};return _0x1310f4[_0x57d9b6(0x292)]({'jobType':_0x4c2700['JobContext'],'type':_0xbad0d['LoadSkillFunction'],'jobId':_0x5f0fad,'agentId':_0x5d44de,'threadId':_0x3e65a7,'traceLevel':_0x32da54[_0x57d9b6(0x284)],'startTime':Date[_0x57d9b6(0x847)](),'timestamp':Date[_0x57d9b6(0x847)](),'status':_0x57d9b6(0xf3),'function':_0x30666c['ExecuteAgent'],'params':_0x2e0479,'functionDescription':_0x126e09}),{'description':_0x126e09,'params':_0x2e0479,'callback':async _0x28069a=>{const _0x435a9b=_0x57d9b6,_0x1d3bbb=Date[_0x435a9b(0x847)]();try{if(_0x4e4068&&(await _0x1d7287['wait'](0x1),_0x4e4068[_0x435a9b(0x498)]({'output':_0x435a9b(0xae)+_0x3d29cc[_0x435a9b(0x82)]+_0x435a9b(0xf1),'type':_0x435a9b(0x3ce)})),_0x435a9b(0x53a)!=typeof _0x28069a?.[_0x435a9b(0x3ce)])throw new Error(_0x435a9b(0x3c2));let _0x5612aa=_0x28069a[_0x435a9b(0x3ce)];if(_0x3d29cc[_0x435a9b(0x146)]?.[_0x435a9b(0x4cb)]&&_0x435a9b(0x8bb)!==_0x3d29cc[_0x435a9b(0x18f)]){_0x4e4068&&(await _0x1d7287[_0x435a9b(0x86e)](0x1),_0x4e4068[_0x435a9b(0x498)]({'output':_0x435a9b(0x4e9),'type':_0x435a9b(0x3ce)}));for(const _0x272517 of Object[_0x435a9b(0x6fe)](_0x3d29cc['accumulated'][_0x435a9b(0x4cb)]))_0x5612aa=_0x5612aa+'\x0a\x0a'+_0x272517+':\x20'+_0x3d29cc[_0x435a9b(0x146)][_0x435a9b(0x4cb)][_0x272517];}const _0x2900c8=_0x1167a4['models'][_0x435a9b(0x453)](_0xb421e4=>_0xb421e4['id']===_0x3d29cc[_0x435a9b(0x34e)]);if(!_0x2900c8)throw new Error(_0x435a9b(0x37d));const _0x5b9a41=_0x1167a4[_0x435a9b(0x585)][_0x435a9b(0x453)](_0x5c0d02=>_0x5c0d02['getEngineType']()===_0x2900c8[_0x435a9b(0x7dd)]);if(!_0x5b9a41)throw new Error(_0x435a9b(0x8c8));const _0x3911c6=_0x3d29cc[_0x435a9b(0x1fb)]?.['some'](_0x50a38c=>{const _0x659d7a=_0x435a9b,_0x42e60d=_0xece8ea[_0x659d7a(0x453)](_0x14d773=>_0x14d773[_0x659d7a(0x680)]===_0x50a38c['uid']);return!!_0x42e60d&&_0x42e60d[_0x659d7a(0x200)]===_0xe97749[_0x659d7a(0x6c0)];})??!0x1;let _0x5ba9ed;if(_0x4e4068&&_0x3911c6?(await _0x1d7287[_0x435a9b(0x86e)](0x1),_0x4e4068[_0x435a9b(0x498)]({'output':'\x0a\x0a','type':_0x435a9b(0x3ce)}),_0x5ba9ed=await async function(_0x11ad94,_0x14b476,_0x49ea22,_0x40b8e9,_0x241fc2,_0x341d52,_0x1e05cb,_0x56c2f2,_0xd5056b){const _0x59a125=_0x435a9b;let _0x57f814='';const _0x15bcd4=_0xd5056b['models'][_0x59a125(0x453)](_0x139a3a=>_0x139a3a['id']===_0x341d52[_0x59a125(0x34e)]);if(!_0x15bcd4)throw new Error(_0x59a125(0x37d));const _0x38faee=_0xd5056b[_0x59a125(0x585)][_0x59a125(0x453)](_0x3f3436=>_0x3f3436[_0x59a125(0x17a)]()===_0x15bcd4[_0x59a125(0x7dd)]);if(!_0x38faee)throw new Error(_0x59a125(0x8c8));for await(const _0x456bba of _0x38faee['processJobStream']({'type':_0x59a125(0x3ce),'prompt':_0x40b8e9,'instructions':_0x341d52[_0x59a125(0x7bc)],'grammar':_0x341d52[_0x59a125(0x18f)],'temperature':_0x341d52[_0x59a125(0xb6)],'maxTokens':_0x341d52['maxTokens'],'functions':_0x4b5b99(_0x11ad94,_0x14b476,_0x49ea22,_0x241fc2,_0x341d52,_0x1e05cb,_0xd5056b,_0x56c2f2),'threadId':_0x49ea22},{'model':_0x15bcd4}))_0x56c2f2[_0x59a125(0x498)](_0x456bba),_0x57f814+=_0x456bba[_0x59a125(0x91f)];return{'type':_0x59a125(0x3ce),'output':_0x57f814};}(_0x5f0fad,_0x5d44de,_0x3e65a7,_0x5612aa,_0x3eb83e,_0x3d29cc,_0xece8ea,_0x4e4068,_0x1167a4),await _0x1d7287[_0x435a9b(0x86e)](0x1),_0x4e4068['emit']({'output':'\x0a\x0a','type':_0x435a9b(0x3ce)})):_0x5ba9ed=await _0x5b9a41['processJob']({'type':_0x435a9b(0x3ce),'prompt':_0x5612aa,'instructions':_0x3d29cc[_0x435a9b(0x7bc)],'grammar':_0x3d29cc['grammar'],'temperature':_0x3d29cc[_0x435a9b(0xb6)],'maxTokens':_0x3d29cc[_0x435a9b(0x808)],'functions':_0x4b5b99(_0x5f0fad,_0x5d44de,_0x3e65a7,_0x3eb83e,_0x3d29cc,_0xece8ea,_0x1167a4,_0x4e4068),'threadId':_0x3e65a7},{'model':_0x2900c8}),_0x435a9b(0x53a)!=typeof _0x5ba9ed[_0x435a9b(0x91f)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x1310f4[_0x435a9b(0x292)]({'jobType':_0x4c2700[_0x435a9b(0x49a)],'type':_0x30666c[_0x435a9b(0x7f5)],'jobId':_0x5f0fad,'blockId':_0x3d29cc['id'],'agentId':_0x5d44de,'threadId':_0x3e65a7,'traceLevel':_0x32da54[_0x435a9b(0x284)],'startTime':_0x1d3bbb,'timestamp':Date[_0x435a9b(0x847)](),'status':_0x435a9b(0xf3),'agentName':_0x3d29cc['name'],'prompt':_0x5612aa,'instructions':_0x3d29cc['instructions'],'result':_0x5ba9ed[_0x435a9b(0x91f)],'inputTokens':0x0,'outputTokens':0x0}),_0x3d29cc['links']?.[_0x435a9b(0x794)](_0x3924b5=>_0x3924b5[_0x435a9b(0x200)]===_0x30db5a[_0x435a9b(0x639)])?(_0x46450f(_0x5ba9ed[_0x435a9b(0x91f)],_0x3d29cc,_0xece8ea),_0x435a9b(0x5bc)):_0x5ba9ed[_0x435a9b(0x91f)];}catch(_0x155f70){return console[_0x435a9b(0x2d0)](_0x155f70),_0x1310f4['trace']({'jobType':_0x4c2700[_0x435a9b(0x49a)],'type':_0x30666c[_0x435a9b(0x7f5)],'jobId':_0x5f0fad,'blockId':_0x3d29cc['id'],'agentId':_0x5d44de,'threadId':_0x3e65a7,'traceLevel':_0x32da54[_0x435a9b(0x284)],'startTime':_0x1d3bbb,'timestamp':Date['now'](),'status':_0x435a9b(0x2d0),'errorDetails':_0x4b59e6(_0x155f70),'agentName':_0x3d29cc[_0x435a9b(0x82)],'prompt':'','instructions':_0x3d29cc['instructions'],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x155f70 instanceof Error?_0x155f70[_0x435a9b(0x34d)]:'Error\x20executing\x20agent';}}};}function _0x15498a(_0x5492d8,_0x3fd7cb,_0x17cc83,_0x109fb5,_0xa5dfb6,_0x2747d1,_0x16f27e){const _0x4d0d5b=_0x148812,_0x407110=_0x4d0d5b(0x558)+_0xa5dfb6[_0x4d0d5b(0x11d)]+_0x4d0d5b(0x90c),_0x321f41={'queryOrPrompt':{'type':_0x366c21['PromptFunctionParamsType'][_0x4d0d5b(0xd9)]}};return _0x1310f4[_0x4d0d5b(0x292)]({'jobType':_0x4c2700[_0x4d0d5b(0x24b)],'type':_0xbad0d['LoadKnowledgeFunction'],'jobId':_0x5492d8,'agentId':_0x3fd7cb,'threadId':_0x17cc83,'blockId':_0xa5dfb6['id'],'traceLevel':_0x32da54[_0x4d0d5b(0x284)],'startTime':Date['now'](),'timestamp':Date[_0x4d0d5b(0x847)](),'status':_0x4d0d5b(0xf3),'function':_0x917db6[_0x4d0d5b(0x7cd)],'params':_0x321f41,'functionDescription':_0x407110}),{'description':_0x407110,'params':_0x321f41,'callback':async _0x520901=>{const _0x27a3e8=_0x4d0d5b,_0x519580=Date[_0x27a3e8(0x847)]();try{if(_0x16f27e&&(await _0x1d7287[_0x27a3e8(0x86e)](0x1),_0x16f27e['emit']({'output':_0x27a3e8(0x546)+_0xa5dfb6[_0x27a3e8(0x82)]+'\x20for\x20'+_0x520901?.[_0x27a3e8(0x56c)]+'`\x0a\x0a','type':'prompt'})),_0x27a3e8(0x53a)!=typeof _0x520901?.[_0x27a3e8(0x56c)])throw new Error('Query\x20is\x20required');const _0x179018=_0xa5dfb6[_0x27a3e8(0x7ec)]['find'](_0x3b266d=>_0x3b266d[_0x27a3e8(0x200)]===_0x5e6e36[_0x27a3e8(0x98d)]),_0x358cb3=await _0x5cbb3c(_0x5492d8,_0x17cc83,_0x520901[_0x27a3e8(0x56c)],_0x179018,_0xa5dfb6[_0x27a3e8(0x7ec)],_0x2747d1);return _0x109fb5[_0x27a3e8(0x4cb)]=Array[_0x27a3e8(0x928)](new Set([..._0x109fb5['context'],..._0x358cb3[_0x27a3e8(0x4cb)]])),_0x1310f4[_0x27a3e8(0x292)]({'jobType':_0x4c2700[_0x27a3e8(0x934)],'type':_0x917db6[_0x27a3e8(0x6a5)],'jobId':_0x5492d8,'blockId':_0xa5dfb6['id'],'agentId':_0x3fd7cb,'threadId':_0x17cc83,'traceLevel':_0x32da54[_0x27a3e8(0x284)],'startTime':_0x519580,'timestamp':Date[_0x27a3e8(0x847)](),'status':_0x27a3e8(0xf3),'query':_0x520901[_0x27a3e8(0x56c)],'context':_0x358cb3['context']??[],'inputTokens':_0x358cb3[_0x27a3e8(0x288)]??0x0,'outputTokens':_0x358cb3[_0x27a3e8(0x933)]??0x0}),_0x358cb3[_0x27a3e8(0x91f)];}catch(_0x464c22){return console[_0x27a3e8(0x2d0)](_0x464c22),_0x1310f4[_0x27a3e8(0x292)]({'jobType':_0x4c2700[_0x27a3e8(0x934)],'type':_0x917db6[_0x27a3e8(0x6a5)],'jobId':_0x5492d8,'blockId':_0xa5dfb6['id'],'agentId':_0x3fd7cb,'threadId':_0x17cc83,'traceLevel':_0x32da54[_0x27a3e8(0x284)],'startTime':_0x519580,'timestamp':Date[_0x27a3e8(0x847)](),'status':'error','errorDetails':_0x4b59e6(_0x464c22),'query':_0x520901?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x464c22 instanceof Error?_0x464c22[_0x27a3e8(0x34d)]:_0x27a3e8(0x7c5);}}};}function _0x8ec91a(_0x1cc183){const _0x2fd010=_0x148812;switch(_0x1cc183[_0x2fd010(0x200)]){case _0xe97749['Time']:return _0x2fd010(0xc9);case _0xe97749[_0x2fd010(0xd3)]:return _0x2fd010(0x363);case _0xe97749[_0x2fd010(0x74b)]:return'searchOnGoogle';case _0xe97749[_0x2fd010(0x76f)]:case _0xe97749['WebScraperRaw']:return _0x2fd010(0x6b6);}throw new Error(_0x2fd010(0x85b));}function _0x2fcfaf(_0x2b5d07,_0x8992b1,_0x542997,_0x505dcb,_0x3a35ec,_0xf03781){const _0x372249=_0x148812;switch(_0x505dcb[_0x372249(0x200)]){case _0xe97749[_0x372249(0x4ee)]:return function(_0x333f39,_0x1dd648,_0x3b21a6,_0x13fdf2,_0x55af22){const _0x2995bf=_0x372249,_0x3b58b4=_0x2995bf(0x915);return _0x1310f4[_0x2995bf(0x292)]({'jobType':_0x4c2700[_0x2995bf(0x24b)],'type':_0xbad0d[_0x2995bf(0x450)],'jobId':_0x333f39,'agentId':_0x1dd648,'threadId':_0x3b21a6,'traceLevel':_0x32da54['Info'],'startTime':Date[_0x2995bf(0x847)](),'timestamp':Date['now'](),'status':'success','function':_0x30666c['GetDate'],'params':{},'functionDescription':_0x3b58b4}),{'description':_0x3b58b4,'callback':()=>{const _0x40ae14=_0x2995bf,_0x3da63b=Date[_0x40ae14(0x847)]();_0x55af22&&_0x55af22[_0x40ae14(0x498)]({'output':'\x0a\x0a`Getting\x20current\x20date\x20and\x20time`\x0a\x0a','type':_0x40ae14(0x3ce)});const _0x2be473=new Date()[_0x40ae14(0x5cb)]();return _0x1310f4['trace']({'jobType':_0x4c2700['Skill'],'type':_0x30666c[_0x40ae14(0x536)],'jobId':_0x333f39,'agentId':_0x1dd648,'threadId':_0x3b21a6,'blockId':_0x13fdf2,'traceLevel':_0x32da54['Info'],'startTime':_0x3da63b,'timestamp':Date[_0x40ae14(0x847)](),'status':_0x40ae14(0xf3),'date':_0x2be473}),_0x2be473;}};}(_0x2b5d07,_0x8992b1,_0x542997,_0x505dcb['id'],_0xf03781);case _0xe97749['Code']:return function(_0x34d202,_0x85bb4b,_0x4f5a00,_0x4f5365,_0x4f542e){const _0x43b5d9=_0x372249,_0x40c7a9=_0x43b5d9(0x153),_0x1e2782={'code':{'type':_0x366c21[_0x43b5d9(0x860)]['String']}};return _0x1310f4[_0x43b5d9(0x292)]({'jobType':_0x4c2700['JobContext'],'type':_0xbad0d[_0x43b5d9(0x450)],'jobId':_0x34d202,'agentId':_0x85bb4b,'threadId':_0x4f5a00,'traceLevel':_0x32da54['Info'],'startTime':Date[_0x43b5d9(0x847)](),'timestamp':Date['now'](),'status':_0x43b5d9(0xf3),'function':_0x30666c[_0x43b5d9(0x36c)],'params':_0x1e2782,'functionDescription':_0x40c7a9}),{'description':_0x40c7a9,'params':_0x1e2782,'callback':_0x5b3b4a=>{const _0xc058a8=_0x43b5d9,_0xfd39f7=Date[_0xc058a8(0x847)]();try{if(_0x4f542e&&_0x4f542e[_0xc058a8(0x498)]({'output':_0xc058a8(0x2c3),'type':_0xc058a8(0x3ce)}),'string'!=typeof _0x5b3b4a?.[_0xc058a8(0x6ed)])throw new Error(_0xc058a8(0x61f));const _0x315fdf=Function(''+_0x5b3b4a?.['code'])();let _0x5cfd14='';try{_0x5cfd14=JSON[_0xc058a8(0x605)](_0x315fdf);}catch{_0x5cfd14=_0x315fdf['toString']();}return _0x1310f4[_0xc058a8(0x292)]({'jobType':_0x4c2700['Skill'],'type':_0x30666c[_0xc058a8(0x36c)],'agentId':_0x85bb4b,'threadId':_0x4f5a00,'jobId':_0x34d202,'blockId':_0x4f5365,'traceLevel':_0x32da54['Info'],'startTime':_0xfd39f7,'timestamp':Date[_0xc058a8(0x847)](),'status':_0xc058a8(0xf3),'code':_0x5b3b4a[_0xc058a8(0x6ed)],'result':_0x5cfd14}),_0x315fdf;}catch(_0xa6895){return console['error'](_0xa6895),_0x1310f4['trace']({'jobType':_0x4c2700[_0xc058a8(0x49a)],'type':_0x30666c[_0xc058a8(0x36c)],'jobId':_0x34d202,'blockId':_0x4f5365,'traceLevel':_0x32da54['Info'],'startTime':_0xfd39f7,'timestamp':Date['now'](),'status':_0xc058a8(0x2d0),'errorDetails':_0x4b59e6(_0xa6895),'agentId':_0x85bb4b,'threadId':_0x4f5a00,'code':_0x5b3b4a?.['code']??'','result':_0xc058a8(0x6b2)}),_0xa6895 instanceof Error?_0xa6895['message']:'Error\x20executing\x20code';}}};}(_0x2b5d07,_0x8992b1,_0x542997,_0x505dcb['id'],_0xf03781);case _0xe97749['Search']:return function(_0x4bc30e,_0x4fa34b,_0x4ece6d,_0x880c4a,_0x1538f5,_0x4cd533,_0xf928c8){const _0x24d523=_0x372249,_0x3bf8f1=_0x24d523(0x415),_0xe1bfeb={'query':{'type':_0x366c21[_0x24d523(0x860)][_0x24d523(0xd9)]}};return _0x1310f4[_0x24d523(0x292)]({'jobType':_0x4c2700[_0x24d523(0x24b)],'type':_0xbad0d[_0x24d523(0x450)],'jobId':_0x4bc30e,'agentId':_0x4fa34b,'threadId':_0x4ece6d,'traceLevel':_0x32da54[_0x24d523(0x284)],'startTime':Date[_0x24d523(0x847)](),'timestamp':Date[_0x24d523(0x847)](),'status':_0x24d523(0xf3),'function':_0x30666c[_0x24d523(0x275)],'params':_0xe1bfeb,'functionDescription':_0x3bf8f1}),{'description':_0x3bf8f1,'params':_0xe1bfeb,'callback':async _0x5b770e=>{const _0x16edd1=_0x24d523,_0x58689c=Date[_0x16edd1(0x847)]();try{if(_0xf928c8&&(await _0x1d7287['wait'](0x1),_0xf928c8[_0x16edd1(0x498)]({'output':_0x16edd1(0x529)+_0x5b770e?.[_0x16edd1(0x133)]+'`\x0a\x0a','type':'prompt'})),!_0x4cd533['searchConnector'])throw new Error(_0x16edd1(0x70e));if(_0x16edd1(0x53a)!=typeof _0x5b770e?.[_0x16edd1(0x133)])throw new Error(_0x16edd1(0x4d1));const _0x271036=await _0x4cd533[_0x16edd1(0x168)][_0x16edd1(0xc3)](_0x5b770e[_0x16edd1(0x133)],_0x1538f5,_0x452d67[_0x16edd1(0x1f1)][_0x16edd1(0x643)]);let _0x2c425f='';for(const _0x12110d of _0x271036)_0x2c425f+=_0x12110d[_0x16edd1(0x445)]+_0x16edd1(0x19b)+_0x12110d['url']+'\x0a'+_0x12110d[_0x16edd1(0x717)]+'\x0a\x0a';return _0x1310f4[_0x16edd1(0x292)]({'jobType':_0x4c2700[_0x16edd1(0x49a)],'type':_0x30666c['SearchGoogle'],'jobId':_0x4bc30e,'agentId':_0x4fa34b,'threadId':_0x4ece6d,'blockId':_0x880c4a,'traceLevel':_0x32da54[_0x16edd1(0x284)],'startTime':_0x58689c,'timestamp':Date[_0x16edd1(0x847)](),'status':_0x16edd1(0xf3),'query':_0x5b770e[_0x16edd1(0x133)],'results':_0x2c425f}),_0x2c425f;}catch(_0x1636d4){return console[_0x16edd1(0x2d0)](_0x1636d4),_0x1310f4[_0x16edd1(0x292)]({'jobType':_0x4c2700[_0x16edd1(0x49a)],'type':_0x30666c['SearchGoogle'],'jobId':_0x4bc30e,'blockId':_0x880c4a,'traceLevel':_0x32da54[_0x16edd1(0x284)],'startTime':_0x58689c,'timestamp':Date[_0x16edd1(0x847)](),'status':'error','errorDetails':_0x4b59e6(_0x1636d4),'agentId':_0x4fa34b,'threadId':_0x4ece6d,'query':_0x5b770e?.['query']??'','results':'Error\x20searching'}),_0x1636d4 instanceof Error?_0x1636d4[_0x16edd1(0x34d)]:'Error\x20searching';}}};}(_0x2b5d07,_0x8992b1,_0x542997,_0x505dcb['id'],_0x3a35ec[_0x372249(0x864)],_0x3a35ec,_0xf03781);case _0xe97749['WebScraper']:return _0x1321c6(_0x2b5d07,_0x8992b1,_0x542997,_0x505dcb['id'],_0xf03781);case _0xe97749['WebScraperRaw']:return _0x1321c6(_0x2b5d07,_0x8992b1,_0x542997,_0x505dcb['id'],_0xf03781,!0x1);}throw new Error(_0x372249(0x85b));}function _0x1321c6(_0x114e18,_0x452293,_0x5444d0,_0x10b4f9,_0x554786,_0x1bcd08=!0x0){const _0x1cc4c5=_0x148812,_0x19bb82='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x286462={'url':{'type':_0x366c21[_0x1cc4c5(0x860)][_0x1cc4c5(0xd9)]},'page':{'type':_0x366c21[_0x1cc4c5(0x860)][_0x1cc4c5(0x8ef)]}};return _0x1310f4[_0x1cc4c5(0x292)]({'jobType':_0x4c2700[_0x1cc4c5(0x24b)],'type':_0xbad0d[_0x1cc4c5(0x450)],'jobId':_0x114e18,'agentId':_0x452293,'threadId':_0x5444d0,'traceLevel':_0x32da54[_0x1cc4c5(0x284)],'startTime':Date[_0x1cc4c5(0x847)](),'timestamp':Date[_0x1cc4c5(0x847)](),'status':_0x1cc4c5(0xf3),'function':_0x30666c[_0x1cc4c5(0x513)],'params':_0x286462,'functionDescription':_0x19bb82}),{'description':_0x19bb82,'params':_0x286462,'callback':async _0x434020=>{const _0x482c39=_0x1cc4c5,_0x363aad=Date[_0x482c39(0x847)]();try{if(_0x554786&&(await _0x1d7287[_0x482c39(0x86e)](0x1),_0x554786[_0x482c39(0x498)]({'output':_0x482c39(0x4f3)+_0x434020?.[_0x482c39(0x5f4)]+_0x482c39(0xf1),'type':_0x482c39(0x3ce)})),_0x482c39(0x53a)!=typeof _0x434020?.[_0x482c39(0x5f4)])throw new Error(_0x482c39(0x590));const _0x10fbce=await fetch(_0x434020[_0x482c39(0x5f4)]),_0x10da2a=await _0x10fbce[_0x482c39(0x625)]();let _0x5c0adb=_0x10da2a;if(_0x1bcd08){const _0x2ec7c8=_0x10da2a['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x5afa04=_0x2ec7c8?_0x2ec7c8[0x1]:_0x10da2a,_0x5d31c3=_0x5afa04[_0x482c39(0x10f)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x482c39(0x10f)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x482c39(0x10f)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x5c0adb=_0x5d31c3[_0x482c39(0x10f)](/<\/?[^>]+(>|$)/g,'')[_0x482c39(0x10f)](/\s\s+/g,'\x20')[_0x482c39(0x6f1)]();}const _0x3f3eec='number'==typeof _0x434020['page']?_0x434020['page']:0x1,_0x165f87=Math['ceil'](_0x5c0adb[_0x482c39(0x6a1)]/_0x5237cf);return _0x5c0adb[_0x482c39(0x6a1)]>_0x5237cf&&(_0x5c0adb=_0x5c0adb[_0x482c39(0x454)]((_0x3f3eec-0x1)*_0x5237cf,(_0x3f3eec-0x1)*_0x5237cf+_0x5237cf)+_0x482c39(0x892)+(_0x3f3eec+0x1)+_0x482c39(0x4b3)+_0x165f87+'.'),_0x1310f4[_0x482c39(0x292)]({'jobType':_0x4c2700[_0x482c39(0x49a)],'type':_0x30666c['FetchUrl'],'jobId':_0x114e18,'agentId':_0x452293,'threadId':_0x5444d0,'blockId':_0x10b4f9,'traceLevel':_0x32da54[_0x482c39(0x284)],'startTime':_0x363aad,'timestamp':Date['now'](),'status':_0x10fbce['ok']?_0x482c39(0xf3):_0x482c39(0x2d0),'url':_0x434020['url'],'page':_0x3f3eec,'totalPages':_0x165f87,'response':_0x5c0adb}),_0x5c0adb;}catch(_0x1ecbcf){console['error'](_0x1ecbcf);const _0x54f754=_0x1ecbcf instanceof Error?_0x1ecbcf[_0x482c39(0x34d)]:'Error\x20fetching\x20URL';return _0x1310f4['trace']({'jobType':_0x4c2700[_0x482c39(0x49a)],'type':_0x30666c[_0x482c39(0x513)],'jobId':_0x114e18,'blockId':_0x10b4f9,'threadId':_0x5444d0,'traceLevel':_0x32da54[_0x482c39(0x284)],'startTime':_0x363aad,'timestamp':Date[_0x482c39(0x847)](),'agentId':_0x452293,'status':'error','errorDetails':_0x4b59e6(_0x1ecbcf),'url':_0x434020?.[_0x482c39(0x5f4)]??'','page':0x0,'totalPages':0x0,'response':_0x54f754}),_0x54f754;}}};}function _0x1c89ba(_0x22ba52,_0x5eccb3,_0x1ff832,_0x5ee028,_0x38038e,_0x145100){const _0x4ea8b0=_0x148812,_0x151bd3={};for(const _0x23b4f9 of _0x5ee028[_0x4ea8b0(0x591)])switch(_0x23b4f9[_0x4ea8b0(0x200)]){case _0x4ea8b0(0x53a):case _0x4ea8b0(0x3ee):_0x151bd3[_0x23b4f9[_0x4ea8b0(0x82)]]={'type':_0x366c21[_0x4ea8b0(0x860)][_0x4ea8b0(0xd9)]};break;case _0x4ea8b0(0x89):_0x151bd3[_0x23b4f9[_0x4ea8b0(0x82)]]={'type':_0x366c21[_0x4ea8b0(0x860)][_0x4ea8b0(0x8ef)]};break;case _0x4ea8b0(0x8d):_0x151bd3[_0x23b4f9[_0x4ea8b0(0x82)]]={'type':_0x366c21[_0x4ea8b0(0x860)][_0x4ea8b0(0x706)]};}return _0x1310f4[_0x4ea8b0(0x292)]({'jobType':_0x4c2700[_0x4ea8b0(0x24b)],'type':_0xbad0d[_0x4ea8b0(0x450)],'jobId':_0x22ba52,'agentId':_0x5eccb3,'threadId':_0x1ff832,'traceLevel':_0x32da54[_0x4ea8b0(0x284)],'startTime':Date['now'](),'timestamp':Date[_0x4ea8b0(0x847)](),'status':_0x4ea8b0(0xf3),'function':_0x30666c[_0x4ea8b0(0x463)],'params':_0x151bd3,'functionDescription':_0x5ee028[_0x4ea8b0(0x11d)]}),{'description':_0x4ea8b0(0x2af)+_0x5ee028[_0x4ea8b0(0x11d)],'params':_0x151bd3,'callback':async _0xd28e35=>{const _0x295268=_0x4ea8b0,_0x5b0cfc=Date['now']();try{if(_0x145100&&(await _0x1d7287[_0x295268(0x86e)](0x1),_0x145100['emit']({'output':_0x295268(0x765)+_0x5ee028[_0x295268(0x82)]+'`\x0a\x0a','type':'prompt'})),!_0xd28e35)throw new Error(_0x295268(0xbf));for(const _0x238fdd of _0x5ee028['parameters']){if(void 0x0===_0xd28e35[_0x238fdd[_0x295268(0x82)]])throw new Error('Parameter\x20'+_0x238fdd[_0x295268(0x82)]+_0x295268(0x58b));if(_0x295268(0x53a)===_0x238fdd[_0x295268(0x200)]&&'string'!=typeof _0xd28e35[_0x238fdd[_0x295268(0x82)]])throw new Error(_0x295268(0x2c9)+_0x238fdd[_0x295268(0x82)]+_0x295268(0x7de));if('number'===_0x238fdd[_0x295268(0x200)]&&_0x295268(0x89)!=typeof _0xd28e35[_0x238fdd[_0x295268(0x82)]])throw new Error(_0x295268(0x2c9)+_0x238fdd[_0x295268(0x82)]+_0x295268(0x303));if(_0x295268(0x8d)===_0x238fdd[_0x295268(0x200)]&&_0x295268(0x8d)!=typeof _0xd28e35[_0x238fdd[_0x295268(0x82)]])throw new Error(_0x295268(0x2c9)+_0x238fdd[_0x295268(0x82)]+_0x295268(0x8e9));if('json'===_0x238fdd[_0x295268(0x200)]&&_0x295268(0x53a)!=typeof _0xd28e35[_0x238fdd['name']])throw new Error(_0x295268(0x2c9)+_0x238fdd[_0x295268(0x82)]+_0x295268(0x7de));if('json'===_0x238fdd[_0x295268(0x200)])try{_0xd28e35[_0x238fdd[_0x295268(0x82)]]=JSON['parse'](_0xd28e35[_0x238fdd[_0x295268(0x82)]]);}catch{throw new Error(_0x295268(0x2c9)+_0x238fdd[_0x295268(0x82)]+_0x295268(0x5c5));}}const _0x12ab18={};for(const _0x294cf6 of _0x5ee028[_0x295268(0x4c4)]){let _0x26ceff=_0x294cf6[_0x295268(0x33d)];_0x26ceff[_0x295268(0x8a)](/\$[a-zA-Z0-9]+/)&&(_0x26ceff=_0x26ceff[_0x295268(0x10f)](/\$[a-zA-Z0-9]+/g,_0x1cf43d=>{const _0x15c3a0=_0x295268,_0x554dad=_0x1cf43d[_0x15c3a0(0x234)](0x1);return _0xd28e35[_0x554dad];})),_0x12ab18[_0x294cf6[_0x295268(0x82)]]=_0x26ceff;}const _0x5e6caf=new URLSearchParams();for(const _0x374976 of _0x5ee028[_0x295268(0x181)]){let _0x464a9e=_0x374976[_0x295268(0x33d)];if(_0x295268(0x53a)==typeof _0x464a9e&&_0x464a9e[_0x295268(0x96a)]('$')){const _0x546639=_0x464a9e['slice'](0x1);_0x464a9e=_0xd28e35[_0x546639];}if(_0x295268(0x53a)==typeof _0x464a9e&&_0x464a9e[_0x295268(0x96a)]('@context.')){const _0x3663d7=_0x464a9e[_0x295268(0x10f)](_0x295268(0xe2),'');if(_0x5ee028[_0x295268(0x146)],_0x464a9e=_0x5ee028['accumulated']?.[_0x295268(0x4cb)]?.[_0x3663d7],_0x295268(0x53a)==typeof _0x464a9e&&_0x464a9e[_0x295268(0x96a)]('{')&&_0x464a9e[_0x295268(0x2d3)]('}'))try{_0x464a9e=JSON[_0x295268(0x3d3)](_0x464a9e);}catch{}}_0x295268(0x53a)==typeof _0x464a9e&&_0x464a9e[_0x295268(0x96a)]('[')&&_0x464a9e['endsWith'](']')&&(_0x464a9e=_0x464a9e['slice'](0x1,-0x1)[_0x295268(0x3ea)](',')),_0x5e6caf['append'](_0x374976[_0x295268(0x82)],_0x464a9e);}let _0x2638bf=_0x5ee028['endpointUrl'];_0x5e6caf[_0x295268(0x33c)]>0x0&&(_0x2638bf+='?'+_0x5e6caf[_0x295268(0x551)]());let _0x4549f1={};for(const _0x57cf2b of _0x5ee028[_0x295268(0x279)]){let _0x32ffe5=_0x57cf2b['value'];if('string'==typeof _0x32ffe5&&_0x32ffe5[_0x295268(0x96a)]('$')){const _0x23ec8b=_0x32ffe5[_0x295268(0x234)](0x1);_0x32ffe5=_0xd28e35[_0x23ec8b];}if(_0x295268(0x53a)==typeof _0x32ffe5&&_0x32ffe5[_0x295268(0x96a)]('@context.')){const _0x6624a0=_0x32ffe5['replace'](_0x295268(0xe2),'');if(_0x32ffe5=_0x5ee028[_0x295268(0x146)]?.[_0x295268(0x4cb)]?.[_0x6624a0],_0x295268(0x53a)==typeof _0x32ffe5&&_0x32ffe5['startsWith']('{')&&_0x32ffe5[_0x295268(0x2d3)]('}'))try{_0x32ffe5=JSON['parse'](_0x32ffe5);}catch{}}if(_0x295268(0x53a)==typeof _0x32ffe5&&_0x32ffe5[_0x295268(0x96a)]('[')&&_0x32ffe5[_0x295268(0x2d3)](']')&&(_0x32ffe5=_0x32ffe5[_0x295268(0x234)](0x1,-0x1)[_0x295268(0x3ea)](',')),_0x295268(0x944)===_0x57cf2b['name']){const _0x2d4bce=_0x32ffe5[_0x295268(0x8a)](/```html(.*)```/s);_0x2d4bce&&(_0x32ffe5=_0x2d4bce[0x1]),_0x32ffe5=_0x32ffe5[_0x295268(0x10f)](/\n/g,''),_0x32ffe5=_0x32ffe5[_0x295268(0x10f)](/'/g,'\x22'),_0x4549f1=_0x32ffe5;break;}if(-0x1===_0x57cf2b[_0x295268(0x82)]['indexOf']('.'))_0x4549f1[_0x57cf2b[_0x295268(0x82)]]=_0x32ffe5;else{const [_0x5ecbbe,_0x4aae7a]=_0x57cf2b[_0x295268(0x82)]['split']('.');_0x4549f1[_0x5ecbbe]||(_0x4549f1[_0x5ecbbe]={}),_0x4549f1[_0x5ecbbe][_0x4aae7a]=_0x32ffe5;}}const _0x267e57=await fetch(_0x2638bf,{'method':_0x5ee028[_0x295268(0x3e8)],'headers':_0x12ab18,'body':'string'==typeof _0x4549f1?_0x4549f1:JSON['stringify'](_0x4549f1)});if(_0x267e57['ok']){let _0x15cdb4=await _0x267e57['json']();return _0x5ee028[_0x295268(0x48a)]&&(_0x15cdb4=await function(_0x5874f6,_0x499e50){return new Promise((_0x1c79bb,_0x3f222c)=>{const _0x3ff035=_0x1d7287['setInterval'](async()=>{const _0x2d88da=a0_0x53e8;try{if(!_0x5874f6[_0x2d88da(0x30f)]||!_0x5874f6['asyncEndpointMethod'])throw new Error('No\x20async\x20endpoint\x20URL');const _0x2ba53e={};if(_0x5874f6['asyncHeaders']){for(const _0x4b7835 of _0x5874f6['asyncHeaders'])_0x2ba53e[_0x4b7835[_0x2d88da(0x82)]]=_0x4b7835[_0x2d88da(0x33d)];}const _0x38e9f8=_0x5874f6[_0x2d88da(0x30f)][_0x2d88da(0x10f)](_0x2d88da(0x3a9),_0x499e50),_0x5722a0=await fetch(_0x38e9f8,{'method':_0x5874f6[_0x2d88da(0x70c)],'headers':_0x2ba53e});if(0xc8===_0x5722a0[_0x2d88da(0x697)]){const _0x5457dd=await _0x5722a0[_0x2d88da(0x3ee)]();_0x3ff035(),_0x1c79bb(_0x5457dd);}_0x5722a0[_0x2d88da(0x697)]>=0x190&&(console[_0x2d88da(0x2d0)](_0x5722a0[_0x2d88da(0x666)]),_0x3ff035(),_0x3f222c(new Error(_0x5722a0['statusText'])));}catch(_0x22dd0b){console[_0x2d88da(0x2d0)](_0x22dd0b),_0x3ff035(),_0x3f222c(_0x22dd0b);}},_0xaf1303);});}(_0x5ee028,_0x15cdb4['id'])),_0x5ee028[_0x295268(0x1fb)]?.[_0x295268(0x794)](_0x23c4eb=>_0x23c4eb['type']===_0x30db5a[_0x295268(0x639)])?(_0x46450f(_0x15cdb4,_0x5ee028,_0x38038e),_0x295268(0x5bc)):(_0x1310f4[_0x295268(0x292)]({'jobType':_0x4c2700[_0x295268(0x49a)],'type':_0x30666c[_0x295268(0x463)],'jobId':_0x22ba52,'agentId':_0x5eccb3,'threadId':_0x1ff832,'blockId':_0x5ee028['id'],'traceLevel':_0x32da54[_0x295268(0x284)],'startTime':_0x5b0cfc,'timestamp':Date[_0x295268(0x847)](),'status':_0x295268(0xf3),'skillName':_0x5ee028[_0x295268(0x82)],'params':_0xd28e35,'result':_0x15cdb4}),_0x15cdb4);}throw new Error(_0x267e57['statusText']);}catch(_0x1641f8){console[_0x295268(0x2d0)](_0x1641f8);const _0x3cbb56=_0x1641f8 instanceof Error?_0x1641f8[_0x295268(0x34d)]:_0x295268(0x716);return _0x1310f4[_0x295268(0x292)]({'jobType':_0x4c2700['Skill'],'type':_0x30666c[_0x295268(0x463)],'jobId':_0x22ba52,'blockId':_0x5ee028['id'],'threadId':_0x1ff832,'traceLevel':_0x32da54[_0x295268(0x284)],'startTime':_0x5b0cfc,'timestamp':Date[_0x295268(0x847)](),'agentId':_0x5eccb3,'status':_0x295268(0x2d0),'skillName':_0x5ee028['name'],'params':_0xd28e35??{},'result':_0x3cbb56}),_0x3cbb56;}}};}function _0x4b59e6(_0x3a7a9c){const _0x2d3f36=_0x148812;try{return JSON[_0x2d3f36(0x605)](_0x3a7a9c);}catch(_0x4b92d3){return _0x3a7a9c instanceof Error?_0x3a7a9c[_0x2d3f36(0x551)]():'Error\x20fetching\x20context';}}async function _0x133b6d(_0xae349a,_0x518e47,_0x5e09e1,_0x39c959,_0x378ebf,_0x31e948,_0x26b8e3,_0x218698,_0x261015){const _0x24aede=_0x148812;if(_0x31e948[_0x24aede(0x146)]||(_0x31e948['accumulated']={}),_0x518e47===_0x30db5a[_0x24aede(0xe4)]&&_0x24aede(0x53a)==typeof _0x5e09e1&&(_0x31e948['accumulated'][_0x24aede(0x3ce)]=_0x5e09e1),_0x31e948['timesCalled']=_0x31e948[_0x24aede(0x657)]?_0x31e948[_0x24aede(0x657)]+0x1:0x1,_0xdb742a(_0x31e948,_0x26b8e3)>_0x31e948[_0x24aede(0x657)])return;if(_0x24a63b['forceLog'](_0x24aede(0x3e0)+_0x31e948[_0x24aede(0x82)],_0x31e948['timesCalled']),!_0x31e948['accumulated'][_0x24aede(0x3ce)])throw new Error(_0x24aede(0x442)+_0x31e948['name']);const _0x3896b3=_0x218698[_0x24aede(0x321)]['find'](_0x22a975=>_0x22a975['id']===_0x31e948[_0x24aede(0x34e)]);if(!_0x3896b3)throw new Error(_0x24aede(0x37d));if(!_0x218698['generativeAIWorkerConnectors'][_0x24aede(0x453)](_0x466ba9=>_0x466ba9[_0x24aede(0x17a)]()===_0x3896b3['engineType']))throw new Error('No\x20connector\x20found\x20for\x20model');_0x261015&&_0x261015[_0x24aede(0x498)]({'output':_0x24aede(0xae)+_0x31e948['name']+_0x24aede(0xf1),'type':_0x24aede(0x3ce)});const _0x5851c8=Date[_0x24aede(0x847)](),_0x11fa43=(0x0,_0x12e752['v4'])(),_0x3d77ae=_0x261015?await async function(_0x3a96ec,_0x2c2007,_0x3b1382,_0xcc04de,_0x4b16a6,_0x309c82,_0x3eadcc,_0x1aa15b){const _0x40a04e=_0x24aede,_0x30771e=_0x1aa15b[_0x40a04e(0x321)][_0x40a04e(0x453)](_0xc321cd=>_0xc321cd['id']===_0x4b16a6[_0x40a04e(0x34e)]);if(!_0x30771e)throw new Error(_0x40a04e(0x37d));const _0x5bcb96=_0x1aa15b[_0x40a04e(0x585)][_0x40a04e(0x453)](_0x499dfd=>_0x499dfd['getEngineType']()===_0x30771e[_0x40a04e(0x7dd)]);if(!_0x5bcb96)throw new Error(_0x40a04e(0x8c8));if(!_0x4b16a6[_0x40a04e(0x146)]||!_0x4b16a6[_0x40a04e(0x146)][_0x40a04e(0x3ce)])throw new Error(_0x40a04e(0x8ea));let _0x546ca8=_0x4b16a6[_0x40a04e(0x146)][_0x40a04e(0x3ce)];if(_0x4b16a6[_0x40a04e(0x146)]['context']&&'default'!==_0x4b16a6[_0x40a04e(0x18f)]){await _0x1d7287[_0x40a04e(0x86e)](0x1),_0x3eadcc['emit']({'output':_0x40a04e(0x4e9),'type':_0x40a04e(0x3ce)});for(const _0x4463bf of Object[_0x40a04e(0x6fe)](_0x4b16a6[_0x40a04e(0x146)][_0x40a04e(0x4cb)]))_0x546ca8=_0x546ca8+'\x0a\x0a'+_0x4463bf+':\x20'+_0x4b16a6[_0x40a04e(0x146)][_0x40a04e(0x4cb)][_0x4463bf];}const _0x217d33={'type':_0x40a04e(0x3ce),'output':''};for await(const _0x14c28f of _0x5bcb96[_0x40a04e(0x898)]({'type':_0x3b1382[_0x40a04e(0x200)],'prompt':_0x546ca8,'instructions':''+_0x4b16a6[_0x40a04e(0x7bc)]+(_0x3b1382[_0x40a04e(0x7bc)]??''),'grammar':_0x4b16a6[_0x40a04e(0x18f)],'temperature':_0x4b16a6[_0x40a04e(0xb6)],'maxTokens':_0x4b16a6[_0x40a04e(0x808)],'history':_0x3b1382[_0x40a04e(0x8b6)],'functions':_0x4b5b99(_0x3a96ec,_0x2c2007,_0x3b1382[_0x40a04e(0x39a)],_0xcc04de,_0x4b16a6,_0x309c82,_0x1aa15b,_0x3eadcc),'threadId':_0x3b1382[_0x40a04e(0x39a)]},{'model':_0x30771e}))_0x4b16a6[_0x40a04e(0x1fb)]&&_0x4b16a6[_0x40a04e(0x1fb)][_0x40a04e(0x794)](_0x484363=>{const _0x4d8263=_0x40a04e,_0x53725a=_0x309c82[_0x4d8263(0x453)](_0x5ee610=>_0x5ee610[_0x4d8263(0x680)]===_0x484363[_0x4d8263(0x680)]);return!!_0x53725a&&_0x53725a[_0x4d8263(0x200)]===_0xe97749['Answer'];})&&_0x3eadcc[_0x40a04e(0x498)](_0x14c28f),_0x40a04e(0x53a)==typeof _0x217d33[_0x40a04e(0x91f)]&&'string'==typeof _0x14c28f[_0x40a04e(0x91f)]&&(_0x217d33['output']+=_0x14c28f['output']),_0x217d33['inputTokens']=_0x14c28f['inputTokens'],_0x217d33[_0x40a04e(0x933)]=_0x14c28f['outputTokens'];return _0x217d33;}(_0xae349a,_0x11fa43,_0x39c959,_0x378ebf,_0x31e948,_0x26b8e3,_0x261015,_0x218698):await async function(_0x435592,_0x4b75b6,_0x3d608f,_0x4f761a,_0x44f5bf,_0x366a54,_0x19cbb2){const _0x4f5372=_0x24aede,_0x4b64ae=_0x19cbb2[_0x4f5372(0x321)][_0x4f5372(0x453)](_0x20ae7a=>_0x20ae7a['id']===_0x44f5bf['modelId']);if(!_0x4b64ae)throw new Error(_0x4f5372(0x37d));const _0x11dbc0=_0x19cbb2[_0x4f5372(0x585)][_0x4f5372(0x453)](_0x1d7bf9=>_0x1d7bf9[_0x4f5372(0x17a)]()===_0x4b64ae[_0x4f5372(0x7dd)]);if(!_0x11dbc0)throw new Error(_0x4f5372(0x8c8));if(!_0x44f5bf['accumulated']||!_0x44f5bf[_0x4f5372(0x146)]['prompt'])throw new Error(_0x4f5372(0x8ea));let _0x3286d0=_0x44f5bf[_0x4f5372(0x146)][_0x4f5372(0x3ce)];if(_0x44f5bf[_0x4f5372(0x146)][_0x4f5372(0x4cb)]&&'default'!==_0x44f5bf[_0x4f5372(0x18f)]){for(const _0x478db1 of Object['keys'](_0x44f5bf[_0x4f5372(0x146)][_0x4f5372(0x4cb)]))_0x3286d0=_0x3286d0+'\x0a\x0a'+_0x478db1+':\x20'+_0x44f5bf[_0x4f5372(0x146)][_0x4f5372(0x4cb)][_0x478db1];}return _0x11dbc0[_0x4f5372(0x5f1)]({'type':_0x4f5372(0x3ce),'prompt':_0x44f5bf[_0x4f5372(0x146)][_0x4f5372(0x3ce)],'instructions':''+_0x44f5bf[_0x4f5372(0x7bc)]+(_0x3d608f[_0x4f5372(0x7bc)]??''),'grammar':_0x44f5bf[_0x4f5372(0x18f)],'temperature':_0x44f5bf[_0x4f5372(0xb6)],'maxTokens':_0x44f5bf[_0x4f5372(0x808)],'history':_0x3d608f[_0x4f5372(0x8b6)],'functions':_0x4b5b99(_0x435592,_0x4b75b6,_0x3d608f[_0x4f5372(0x39a)],_0x4f761a,_0x44f5bf,_0x366a54,_0x19cbb2),'threadId':_0x3d608f['threadId']},{'model':_0x4b64ae});}(_0xae349a,_0x11fa43,_0x39c959,_0x378ebf,_0x31e948,_0x26b8e3,_0x218698);if(_0x24aede(0x53a)!=typeof _0x3d77ae[_0x24aede(0x91f)])throw new Error(_0x24aede(0x77d));_0x378ebf[_0x24aede(0x288)]+=_0x3d77ae[_0x24aede(0x288)]??0x0,_0x378ebf[_0x24aede(0x933)]+=_0x3d77ae[_0x24aede(0x933)]??0x0,_0x1310f4[_0x24aede(0x292)]({'jobType':_0x4c2700[_0x24aede(0x686)],'type':_0x272c30[_0x24aede(0x7cb)],'jobId':_0xae349a,'agentId':_0x11fa43,'threadId':_0x39c959[_0x24aede(0x39a)],'traceLevel':_0x32da54[_0x24aede(0x284)],'startTime':_0x5851c8,'timestamp':Date[_0x24aede(0x847)](),'blockId':_0x31e948['id'],'status':_0x24aede(0xf3),'output':_0x3d77ae[_0x24aede(0x91f)],'prompt':_0x31e948[_0x24aede(0x146)][_0x24aede(0x3ce)],'agentName':_0x31e948[_0x24aede(0x82)],'history':[],'instructions':''+_0x31e948[_0x24aede(0x7bc)]+(_0x39c959[_0x24aede(0x7bc)]??''),'ragContext':_0x3d77ae[_0x24aede(0x4cb)]??[],'inputTokens':_0x3d77ae[_0x24aede(0x288)]??0x0,'outputTokens':_0x3d77ae[_0x24aede(0x933)]??0x0}),_0x46450f(_0x3d77ae[_0x24aede(0x91f)],_0x31e948,_0x26b8e3),await _0x3ad021(_0xae349a,_0x3d77ae[_0x24aede(0x91f)],_0x39c959,_0x378ebf,_0x31e948,_0x26b8e3,_0x218698,_0x261015);}function _0x519b97(_0x33077a,_0x4c4cfc,_0x3e948a){const _0x5aac5d=_0x148812;_0x3e948a[_0x5aac5d(0x146)]||(_0x3e948a[_0x5aac5d(0x146)]={}),_0x3e948a[_0x5aac5d(0x146)]['context']||(_0x3e948a['accumulated'][_0x5aac5d(0x4cb)]={}),_0x3e948a[_0x5aac5d(0x146)]['context'][_0x33077a]=_0x4c4cfc;}function _0xaece6c(_0x246184,_0x5792f1,_0x5e0ec3,_0x5b0c6e){const _0xd847aa=_0x148812;_0x246184===_0x30db5a[_0xd847aa(0x639)]&&(_0x5b0c6e[_0xd847aa(0x146)]||(_0x5b0c6e[_0xd847aa(0x146)]={}),_0x5b0c6e['accumulated'][_0xd847aa(0x4cb)]||(_0x5b0c6e[_0xd847aa(0x146)][_0xd847aa(0x4cb)]={}),_0x5b0c6e[_0xd847aa(0x146)][_0xd847aa(0x4cb)][_0x5792f1]=_0x5e0ec3);}async function _0x38d009(_0x587b1a,_0x1afceb,_0x318e1f,_0x4eb250,_0x265b20,_0x4741cb,_0x26e268,_0x3b8a31){const _0x583f1e=function(_0x23eff9,_0x823301){const _0x16f1ec=a0_0x53e8,_0xd5cd83=[];for(let _0x102f70=0x0;_0x102f70<_0x23eff9['length'];_0x102f70+=_0x823301[_0x16f1ec(0x97f)][_0x16f1ec(0x33c)]){let _0x45b16a=_0x102f70-_0x823301[_0x16f1ec(0x97f)][_0x16f1ec(0x86)];_0x45b16a<0x0&&(_0x45b16a=0x0);let _0x816227=_0x102f70+_0x823301[_0x16f1ec(0x97f)][_0x16f1ec(0x33c)]+_0x823301[_0x16f1ec(0x97f)][_0x16f1ec(0x86)];_0x816227>_0x23eff9[_0x16f1ec(0x6a1)]&&(_0x816227=_0x23eff9[_0x16f1ec(0x6a1)]),length||(length=_0x102f70+_0x823301[_0x16f1ec(0x97f)][_0x16f1ec(0x33c)],length>_0x23eff9['length']&&(length=_0x23eff9['length'])),_0xd5cd83[_0x16f1ec(0x5dc)](_0x23eff9[_0x16f1ec(0x454)](_0x45b16a,_0x816227));}return _0xd5cd83;}(_0x1afceb,_0x265b20);await _0x3ad021(_0x587b1a,_0x583f1e,_0x318e1f,_0x4eb250,_0x265b20,_0x4741cb,_0x26e268,_0x3b8a31);}function _0x5bc2c4(_0x3adfb6,_0x33d206,_0x4789bd){const _0x21ec84=_0x148812;_0x4789bd[_0x21ec84(0x146)]||(_0x4789bd['accumulated']={}),_0x4789bd[_0x21ec84(0x146)][_0x21ec84(0x4cb)]||(_0x4789bd[_0x21ec84(0x146)][_0x21ec84(0x4cb)]={}),_0x4789bd['accumulated']['context'][_0x3adfb6]=_0x33d206;}async function _0x4e0410(_0x49c4ce,_0x4c16b8,_0x2a1992,_0x2e296e,_0x436242,_0x1acfdf,_0x3e2668,_0x132e5c){const _0x207185=_0x148812;if(_0x436242[_0x207185(0x146)]||(_0x436242['accumulated']={}),_0x436242[_0x207185(0x146)]['queries']||(_0x436242[_0x207185(0x146)][_0x207185(0x1dc)]=[]),_0x4c16b8 instanceof Array?_0x436242['accumulated'][_0x207185(0x1dc)][_0x207185(0x5dc)](..._0x4c16b8):_0x436242[_0x207185(0x146)][_0x207185(0x1dc)][_0x207185(0x5dc)](_0x4c16b8),_0x436242[_0x207185(0x657)]=_0x436242[_0x207185(0x657)]?_0x436242[_0x207185(0x657)]+0x1:0x1,_0xdb742a(_0x436242,_0x1acfdf)>_0x436242[_0x207185(0x657)])return;if(0x0===_0x436242[_0x207185(0x146)]['queries'][_0x207185(0x6a1)])throw new Error(_0x207185(0x62f));let _0x25ec9d=[];const _0x10bdf4=Date[_0x207185(0x847)]();try{let _0x2583c0=0x0,_0x2457a5=0x0;for(const _0x1b1ff3 of _0x436242[_0x207185(0x146)][_0x207185(0x1dc)]){const _0x35e824=_0x436242[_0x207185(0x7ec)][_0x207185(0x453)](_0x3fd8eb=>_0x3fd8eb[_0x207185(0x200)]===_0x5e6e36[_0x207185(0x98d)]),_0x40e99d=await _0x5cbb3c(_0x49c4ce,_0x2a1992[_0x207185(0x39a)],_0x1b1ff3,_0x35e824,_0x436242[_0x207185(0x7ec)],_0x3e2668);_0x25ec9d=Array[_0x207185(0x928)](new Set([..._0x25ec9d,..._0x40e99d[_0x207185(0x4cb)]])),_0x2583c0+=_0x40e99d['inputTokens']??0x0,_0x2457a5+=_0x40e99d[_0x207185(0x933)]??0x0;}_0x2e296e['inputTokens']+=_0x2583c0,_0x2e296e[_0x207185(0x933)]+=_0x2457a5,_0x2e296e['context']=Array['from'](new Set([..._0x2e296e[_0x207185(0x4cb)],..._0x25ec9d])),_0x1310f4[_0x207185(0x292)]({'jobType':_0x4c2700[_0x207185(0x686)],'type':_0x272c30[_0x207185(0x84)],'jobId':_0x49c4ce,'threadId':_0x2a1992[_0x207185(0x39a)],'traceLevel':_0x32da54[_0x207185(0x284)],'startTime':_0x10bdf4,'timestamp':Date[_0x207185(0x847)](),'blockId':_0x436242['id'],'status':_0x207185(0xf3),'queries':_0x436242[_0x207185(0x146)][_0x207185(0x1dc)],'context':_0x25ec9d,'inputTokens':_0x2583c0,'outputTokens':_0x2457a5});}catch(_0x5cf829){console[_0x207185(0x2d0)](_0x5cf829),_0x1310f4[_0x207185(0x292)]({'jobType':_0x4c2700[_0x207185(0x686)],'type':_0x272c30['DataCollection'],'jobId':_0x49c4ce,'threadId':_0x2a1992[_0x207185(0x39a)],'traceLevel':_0x32da54[_0x207185(0x284)],'startTime':_0x10bdf4,'timestamp':Date[_0x207185(0x847)](),'blockId':_0x436242['id'],'status':_0x207185(0x2d0),'queries':_0x436242[_0x207185(0x146)]['queries'],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x46450f(_0x25ec9d,_0x436242,_0x1acfdf),await _0x3ad021(_0x49c4ce,_0x25ec9d,_0x2a1992,_0x2e296e,_0x436242,_0x1acfdf,_0x3e2668,_0x132e5c);}async function _0x5854a3(_0x1c225b,_0x294847,_0x459468,_0x2a2ef8,_0x5b9077,_0x4c1b37,_0x4d6275,_0x4d851a){const _0x40b770=_0x148812,_0x3752cb=await _0x4d6275['nlpLibraryConnector'][_0x40b770(0x8b4)](_0x294847);await _0x3ad021(_0x1c225b,_0x3752cb,_0x459468,_0x2a2ef8,_0x5b9077,_0x4c1b37,_0x4d6275,_0x4d851a);}async function _0x1ab483(_0x3be0ea,_0x323430,_0x432e79,_0x18d545,_0x39263a,_0x3fbdc3,_0x5f169f,_0x259659){const _0xc40ac0=function(_0x1212a9,_0xb90c55){const _0x1dbf93=a0_0x53e8,_0xc64dbd=[],_0x3cc5e9=_0x1212a9[_0x1dbf93(0x3ea)]('\x20');let _0x556075='',_0x5ce2f9=0x0,_0x2a386c=0x0,_0x3b0a3f=0x0;for(const _0x3e3ec4 of _0x3cc5e9){if(_0x556075[_0x1dbf93(0x6a1)]+_0x3e3ec4[_0x1dbf93(0x6a1)]>_0xb90c55[_0x1dbf93(0x97f)][_0x1dbf93(0x33c)]){let _0x4af621=_0x5ce2f9,_0x85fec9='';for(;_0x4af621>=0x0&&_0x85fec9[_0x1dbf93(0x6a1)]+_0x3cc5e9[_0x4af621][_0x1dbf93(0x6a1)]<_0xb90c55[_0x1dbf93(0x97f)][_0x1dbf93(0x86)];)_0x85fec9=_0x3cc5e9[_0x4af621]+'\x20'+_0x85fec9,_0x4af621--;let _0x8d683e=_0x2a386c,_0x4de70f='';for(;_0x8d683e<_0x3cc5e9['length']&&_0x4de70f[_0x1dbf93(0x6a1)]+_0x3cc5e9[_0x8d683e][_0x1dbf93(0x6a1)]<_0xb90c55[_0x1dbf93(0x97f)]['overlap'];)_0x4de70f+=_0x3cc5e9[_0x8d683e]+'\x20',_0x8d683e++;_0x556075=_0x85fec9+_0x556075+_0x4de70f,_0xc64dbd[_0x1dbf93(0x5dc)](_0x556075['trim']()),_0x556075='',_0x5ce2f9=_0x2a386c;}_0x556075+=_0x3e3ec4+'\x20',_0x2a386c++,_0x3b0a3f+=_0x3e3ec4[_0x1dbf93(0x6a1)]+0x1;}if(_0x556075[_0x1dbf93(0x6a1)]>0x0){let _0x21694d=_0x5ce2f9,_0x326f95='';for(;_0x21694d>=0x0&&_0x326f95[_0x1dbf93(0x6a1)]+_0x3cc5e9[_0x21694d]['length']<_0xb90c55[_0x1dbf93(0x97f)][_0x1dbf93(0x86)];)_0x326f95=_0x3cc5e9[_0x21694d]+'\x20'+_0x326f95,_0x21694d--;_0x556075=_0x326f95+_0x556075,_0xc64dbd[_0x1dbf93(0x5dc)](_0x556075[_0x1dbf93(0x6f1)]());}return _0xc64dbd;}(_0x323430,_0x39263a);await _0x3ad021(_0x3be0ea,_0xc40ac0,_0x432e79,_0x18d545,_0x39263a,_0x3fbdc3,_0x5f169f,_0x259659);}function _0x46450f(_0x17e007,_0x484181,_0x481c83,_0xa50026){const _0x1ddbe9=_0x148812;if(_0x484181[_0x1ddbe9(0x1fb)])for(const _0xc4a248 of _0x484181[_0x1ddbe9(0x1fb)]){if(_0xc4a248[_0x1ddbe9(0x200)]!==_0x30db5a['Context'])continue;const _0x1c963a=_0x481c83[_0x1ddbe9(0x453)](_0x1e1f3d=>_0x1e1f3d[_0x1ddbe9(0x680)]===_0xc4a248[_0x1ddbe9(0x680)]);if(!_0x1c963a)continue;let _0x1eb93f=_0x484181['id'];switch(_0xa50026?_0x1eb93f=_0xa50026:(_0x484181[_0x1ddbe9(0x200)]===_0xe97749[_0x1ddbe9(0x84)]&&(_0x1eb93f=_0x484181[_0x1ddbe9(0x82)]),_0x484181['type']!==_0xe97749[_0x1ddbe9(0x6b4)]&&_0x484181['type']!==_0xe97749[_0x1ddbe9(0x732)]&&_0x484181['type']!==_0xe97749[_0x1ddbe9(0x815)]||(_0x1eb93f=_0x484181[_0x1ddbe9(0x86a)]??_0x484181[_0x1ddbe9(0x82)])),_0x1c963a['type']){case _0xe97749['Agent']:_0x24a63b['forceLog'](_0x1ddbe9(0x5e2),_0x1c963a['name'],_0x1eb93f),_0x1c963a['accumulated']||(_0x1c963a[_0x1ddbe9(0x146)]={}),_0x1c963a[_0x1ddbe9(0x146)][_0x1ddbe9(0x4cb)]||(_0x1c963a[_0x1ddbe9(0x146)][_0x1ddbe9(0x4cb)]={}),_0x1c963a['accumulated']['context'][_0x1eb93f]=_0x17e007,_0x1c963a[_0x1ddbe9(0x657)]=_0x1c963a[_0x1ddbe9(0x657)]?_0x1c963a['timesCalled']+0x1:0x1;break;case _0xe97749['AgentSkill']:_0x24a63b[_0x1ddbe9(0x614)](_0x1ddbe9(0x599),_0x1c963a[_0x1ddbe9(0x82)],_0x1eb93f),_0x519b97(_0x1eb93f,_0x17e007,_0x1c963a);break;case _0xe97749['Answer']:_0x24a63b['forceLog'](_0x1ddbe9(0x2a8),_0x1eb93f),_0xaece6c(_0xc4a248[_0x1ddbe9(0x200)],_0x1eb93f,_0x17e007,_0x1c963a);break;case _0xe97749[_0x1ddbe9(0x815)]:_0x24a63b[_0x1ddbe9(0x614)](_0x1ddbe9(0x846),_0x1c963a[_0x1ddbe9(0x82)],_0x1eb93f),_0x5bc2c4(_0x1eb93f,_0x17e007,_0x1c963a);}}}async function _0x3ad021(_0x11e186,_0x216bc1,_0x4fcc76,_0x5dd83a,_0x1ec882,_0x2e38c7,_0x23a040,_0x7f2903){const _0xb9fbb1=_0x148812;if(await _0x1d7287[_0xb9fbb1(0x86e)](0x1),_0x1ec882[_0xb9fbb1(0x1fb)]){for(const _0x3d3605 of _0x1ec882[_0xb9fbb1(0x1fb)]){if(_0x3d3605[_0xb9fbb1(0x200)]===_0x30db5a[_0xb9fbb1(0x639)])continue;const _0x54acdb=_0x2e38c7[_0xb9fbb1(0x453)](_0x2c1bb7=>_0x2c1bb7[_0xb9fbb1(0x680)]===_0x3d3605['uid']);if(_0x54acdb)switch(_0x54acdb[_0xb9fbb1(0x200)]){case _0xe97749[_0xb9fbb1(0x6b4)]:await _0x133b6d(_0x11e186,_0x3d3605['type'],_0x216bc1,_0x4fcc76,_0x5dd83a,_0x54acdb,_0x2e38c7,_0x23a040,_0x7f2903);break;case _0xe97749['ChunkSplitter']:await _0x38d009(_0x11e186,_0x216bc1,_0x4fcc76,_0x5dd83a,_0x54acdb,_0x2e38c7,_0x23a040,_0x7f2903);break;case _0xe97749[_0xb9fbb1(0x84)]:await _0x4e0410(_0x11e186,_0x216bc1,_0x4fcc76,_0x5dd83a,_0x54acdb,_0x2e38c7,_0x23a040,_0x7f2903);break;case _0xe97749[_0xb9fbb1(0x583)]:await _0x5854a3(_0x11e186,_0x216bc1,_0x4fcc76,_0x5dd83a,_0x54acdb,_0x2e38c7,_0x23a040,_0x7f2903);break;case _0xe97749[_0xb9fbb1(0x1fc)]:await _0x1ab483(_0x11e186,_0x216bc1,_0x4fcc76,_0x5dd83a,_0x54acdb,_0x2e38c7,_0x23a040,_0x7f2903);}}_0x1ec882[_0xb9fbb1(0x200)]===_0xe97749[_0xb9fbb1(0x98d)]&&_0x7f2903&&_0x7f2903[_0xb9fbb1(0x498)](void 0x0);}else _0x1ec882[_0xb9fbb1(0x200)]===_0xe97749[_0xb9fbb1(0x98d)]&&_0x7f2903&&_0x7f2903['emit'](void 0x0);}function _0xdb742a(_0x21adaa,_0x2e4d48){const _0x31f060=_0x148812;let _0xac3221=0x0;for(const _0x17dbed of _0x2e4d48)for(const _0x400eec of _0x17dbed[_0x31f060(0x1fb)]??[])_0x400eec[_0x31f060(0x200)]!==_0x30db5a[_0x31f060(0x934)]&&_0x400eec[_0x31f060(0x200)]!==_0x30db5a[_0x31f060(0x49a)]&&_0x400eec[_0x31f060(0x680)]===_0x21adaa['uid']&&_0xac3221++;return _0xac3221;}class _0x415a41 extends _0x98fe50{[_0x148812(0x894)];[_0x148812(0x945)];[_0x148812(0xe1)];[_0x148812(0x585)];['documentParserConnector'];[_0x148812(0x475)];['searchApiKey'];['searchConnector'];['workflow'];[_0x148812(0x8f0)];[_0x148812(0x74c)]=new Map();[_0x148812(0x54f)]=new Map();[_0x148812(0x21b)];['models']=new Map();[_0x148812(0x5b1)];[_0x148812(0x979)]=0x0;[_0x148812(0x4b9)]=0x0;[_0x148812(0x8e6)]=!0x1;constructor(_0x5ece52,_0x568c81,_0x237204,_0xcbcd48,_0x3d9b22,_0x468b05,_0x51d567,_0x1aa458,_0x3e00e4,_0x3a89d0){const _0x5a54ac=_0x148812;super(_0x5ece52,_0x568c81,_0xcbcd48),this[_0x5a54ac(0x894)]=_0x5ece52,this[_0x5a54ac(0x945)]=_0x237204,this[_0x5a54ac(0xe1)]=_0x3d9b22,this[_0x5a54ac(0x585)]=_0x468b05,this[_0x5a54ac(0x4aa)]=_0x51d567,this[_0x5a54ac(0x475)]=_0x1aa458,this[_0x5a54ac(0x864)]=_0x3e00e4,this[_0x5a54ac(0x168)]=_0x3a89d0;}async[_0x148812(0x1b2)](){const _0x2d412e=_0x148812;for(const _0x334710 of this[_0x2d412e(0x585)])await _0x334710[_0x2d412e(0x6ac)]();this[_0x2d412e(0x8f0)]?.['unsubscribe'](this['label']),this[_0x2d412e(0x74c)][_0x2d412e(0x6bf)](_0x2863c2=>_0x2863c2['unsubscribe'](this[_0x2d412e(0xb2)])),this[_0x2d412e(0x5b1)]&&(clearTimeout(this[_0x2d412e(0x5b1)]),delete this[_0x2d412e(0x5b1)]),super[_0x2d412e(0x1b2)]();}async[_0x148812(0x29a)](_0x50a79f=!0x1){const _0x1c4780=_0x148812;if(this[_0x1c4780(0x8e6)])super[_0x1c4780(0x29a)]();else{if(_0x24a63b[_0x1c4780(0x614)](_0x1c4780(0x23d),this['label']),this[_0x1c4780(0x598)]=await _0x6468d[_0x1c4780(0x90a)](this['vendorId'],this[_0x1c4780(0xb2)]),this[_0x1c4780(0x8f0)]=this['contentMediator'][_0x1c4780(0x5be)](this[_0x1c4780(0x598)][_0x1c4780(0x519)]),!this[_0x1c4780(0x8f0)])throw new Error(_0x1c4780(0x176));this[_0x1c4780(0x774)](),_0x24a63b[_0x1c4780(0x614)]('GenerativeAIWorker:\x20Models',this['workflow'][_0x1c4780(0x321)]);for(const _0x2e85a1 of this[_0x1c4780(0x598)]['models'])try{let _0x3f4693;_0x2e85a1[_0x1c4780(0x7dd)]===_0x366c21['GenerativeAIEngineType'][_0x1c4780(0x180)]&&(_0x3f4693=await this[_0x1c4780(0x673)]('/'+_0x2e85a1['id']+_0x3aca46)),this[_0x1c4780(0x321)][_0x1c4780(0x6b3)](_0x2e85a1['id'],{'id':_0x2e85a1['id'],'engineType':_0x2e85a1['engineType'],'taskType':_0x2e85a1[_0x1c4780(0x616)],'inputType':_0x2e85a1[_0x1c4780(0x5ab)],'outputType':_0x2e85a1['outputType'],'sourceUrl':_0x2e85a1[_0x1c4780(0x510)],'pathName':_0x3f4693});}catch(_0xf09519){await this[_0x1c4780(0x8f0)][_0x1c4780(0x5a3)]({'action':_0x366c21[_0x1c4780(0xb0)][_0x1c4780(0x85d)],'file':new File([''],''+_0x2e85a1['id']+_0x3aca46),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x2e85a1[_0x1c4780(0x510)]}}),this[_0x1c4780(0x321)][_0x1c4780(0x6b3)](_0x2e85a1['id'],{'id':_0x2e85a1['id'],'engineType':_0x2e85a1[_0x1c4780(0x7dd)],'taskType':_0x2e85a1['taskType'],'inputType':_0x2e85a1[_0x1c4780(0x5ab)],'outputType':_0x2e85a1[_0x1c4780(0x29f)],'sourceUrl':_0x2e85a1[_0x1c4780(0x510)],'pathName':await this['getModel']('/'+_0x2e85a1['id']+_0x3aca46)});}try{for(const _0x4229d7 of this[_0x1c4780(0x585)])await _0x4229d7[_0x1c4780(0x85c)](this['label'],this[_0x1c4780(0x321)]);}catch(_0x2fb90f){return this[_0x1c4780(0x29a)](_0x50a79f);}for(const _0x5664be of this[_0x1c4780(0x598)][_0x1c4780(0x959)])this[_0x1c4780(0x74c)]['set'](_0x5664be,this[_0x1c4780(0xe1)][_0x1c4780(0x5be)](_0x5664be));await this[_0x1c4780(0x789)](),this[_0x1c4780(0x876)]();for(const _0x285906 of this['workflow'][_0x1c4780(0x35d)])this[_0x1c4780(0x54f)][_0x1c4780(0x6b3)](_0x285906,this[_0x1c4780(0xe1)][_0x1c4780(0x39c)](_0x285906));await this[_0x1c4780(0x2d8)](),this['subscribeToExternalContent'](),this[_0x1c4780(0x8e6)]=!0x0,this[_0x1c4780(0x44b)](),super[_0x1c4780(0x29a)](),_0x24a63b[_0x1c4780(0x614)](_0x1c4780(0x793),this[_0x1c4780(0xb2)]);}}[_0x148812(0x98a)](){const _0x47cbbc=_0x148812;this['prompts']=0x0,this[_0x47cbbc(0x4b9)]=0x0,this[_0x47cbbc(0x44b)](),super[_0x47cbbc(0x98a)]();}[_0x148812(0x2c6)](){const _0x598f9f=_0x148812;return this[_0x598f9f(0x44b)](),this[_0x598f9f(0x8a8)]();}[_0x148812(0x3b3)](_0x3e3ae7,_0x5bbd19,_0x1f2975){const _0x3b562d=_0x148812,{outputTokens:_0x22f138=0x0,output:_0x1ea02=''}=_0x3e3ae7,_0x146611=_0x22f138/((_0x1f2975-_0x5bbd19)/0x3e8);this['prompts']+=0x1,this[_0x3b562d(0x4b9)]+=_0x22f138,this[_0x3b562d(0x8f3)](_0x146611,_0x22f138),this['sendStats']();}[_0x148812(0x3dd)](_0x4c4d94,_0x5bdfbf){const _0x1e476e=_0x148812;return _0x4c4d94['output']=_0x4c4d94['output']??'',{'type':'prompt','output':'string'==typeof _0x4c4d94[_0x1e476e(0x91f)]&&_0x1e476e(0x53a)==typeof _0x5bdfbf[_0x1e476e(0x91f)]?_0x4c4d94[_0x1e476e(0x91f)]+_0x5bdfbf['output']:_0x5bdfbf[_0x1e476e(0x91f)],'outputTokens':_0x5bdfbf['outputTokens']??_0x4c4d94[_0x1e476e(0x933)],'inputTokens':_0x5bdfbf[_0x1e476e(0x288)]??_0x4c4d94[_0x1e476e(0x288)]};}async[_0x148812(0x700)](_0x267a71,_0x46faa0){const _0xb55c76=_0x148812;if(this[_0xb55c76(0x598)]=await _0x6468d['getWorkflow'](this[_0xb55c76(0x945)],this[_0xb55c76(0xb2)]),_0xb55c76(0x3ce)===_0x46faa0[_0xb55c76(0x200)]){const _0x17a153=this[_0xb55c76(0x598)][_0xb55c76(0x45c)]['find'](_0x2d18da=>_0x2d18da[_0xb55c76(0x200)]===_0xe97749['Prompt']),_0x33837b=await async function(_0x4a7d7e,_0x366f61,_0x34df77,_0x55ee94,_0x2b37c0){const _0x3c4388=_0xb55c76,_0x3bb03d=(0x0,_0x12e752['v4'])(),_0x1020d3=Date[_0x3c4388(0x847)]();if(_0x1310f4[_0x3c4388(0x292)]({'jobType':_0x4c2700[_0x3c4388(0x686)],'type':_0x272c30[_0x3c4388(0x5d0)],'jobId':_0x4a7d7e,'blockId':_0x34df77['id'],'agentId':_0x3bb03d,'threadId':_0x366f61['threadId'],'traceLevel':_0x32da54['Info'],'startTime':Date[_0x3c4388(0x847)](),'timestamp':Date['now'](),'status':_0x3c4388(0xf3),'initialPrompt':_0x366f61[_0x3c4388(0x3ce)]}),_0x366f61[_0x3c4388(0x488)]){for(const _0x54fedd in _0x366f61[_0x3c4388(0x488)])_0x46450f(_0x366f61['internalContext'][_0x54fedd],_0x34df77,_0x55ee94,_0x54fedd);}const _0x34cedd={'type':_0x366f61[_0x3c4388(0x200)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x3ad021(_0x4a7d7e,''+_0x366f61[_0x3c4388(0x3ce)],_0x366f61,_0x34cedd,_0x34df77,_0x55ee94,_0x2b37c0);const {inputTokens:_0x23b701=0x0,outputTokens:_0xab51af=0x0,context:_0x24b27b=[]}=_0x34cedd;return _0x1310f4['trace']({'jobType':_0x4c2700[_0x3c4388(0x686)],'type':_0x272c30[_0x3c4388(0x9c)],'jobId':_0x4a7d7e,'agentId':_0x3bb03d,'threadId':_0x366f61[_0x3c4388(0x39a)],'traceLevel':_0x32da54[_0x3c4388(0x284)],'startTime':_0x1020d3,'timestamp':Date[_0x3c4388(0x847)](),'blockId':_0x34df77['id'],'status':_0x3c4388(0xf3),'output':_0x34cedd[_0x3c4388(0x91f)]?.[_0x3c4388(0x551)]()??'','prompt':_0x366f61[_0x3c4388(0x3ce)],'agentName':'','history':_0x366f61[_0x3c4388(0x8b6)]??[],'instructions':''+(_0x366f61[_0x3c4388(0x7bc)]??''),'ragContext':_0x24b27b,'inputTokens':_0x23b701,'outputTokens':_0xab51af}),{'type':_0x366f61['type'],'output':_0x34cedd[_0x3c4388(0x91f)],'context':_0x34cedd[_0x3c4388(0x4cb)],'internalContext':_0x55ee94[_0x3c4388(0x453)](_0x1ab907=>_0x1ab907['type']===_0xe97749[_0x3c4388(0x6c0)])?.[_0x3c4388(0x146)]?.['context']??{},'inputTokens':_0x34cedd[_0x3c4388(0x288)]??0x0,'outputTokens':_0x34cedd[_0x3c4388(0x933)]??0x0};}(_0x267a71,_0x46faa0,_0x17a153,this['workflow'][_0xb55c76(0x45c)],{'documentParserConnector':this[_0xb55c76(0x4aa)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0xb55c76(0x585)],'models':this[_0xb55c76(0x598)]['models'],'contentMediator':this[_0xb55c76(0xe1)],'searchApiKey':this[_0xb55c76(0x864)],'searchConnector':this[_0xb55c76(0x168)]});return _0x33837b;}if(_0xb55c76(0x259)===_0x46faa0[_0xb55c76(0x200)])return _0x1310f4[_0xb55c76(0x292)]({'jobType':_0x4c2700[_0xb55c76(0x416)],'type':_0x57684f[_0xb55c76(0x34b)],'jobId':_0x46faa0[_0xb55c76(0x231)],'threadId':_0x46faa0['threadId'],'traceLevel':_0x32da54[_0xb55c76(0x284)],'startTime':Date['now'](),'timestamp':Date[_0xb55c76(0x847)](),'status':_0xb55c76(0xf3),'rating':_0x46faa0['rating'],'feedback':_0x46faa0['feedback']}),{'type':_0xb55c76(0x259),'status':_0x366c21[_0xb55c76(0x952)][_0xb55c76(0x45e)]};if(_0xb55c76(0x343)===_0x46faa0['type']){let _0xbe078;const _0x3d489e=this[_0xb55c76(0x74c)][_0xb55c76(0x6fe)]();for(;!_0xbe078;){const _0x4f1e8e=_0x3d489e[_0xb55c76(0x3a5)]()[_0xb55c76(0x33d)];if(!_0x4f1e8e)throw new Error(_0xb55c76(0x645));_0xbe078=this[_0xb55c76(0x74c)][_0xb55c76(0x792)](_0x4f1e8e);try{const _0x2b6816=await _0xbe078[_0xb55c76(0x792)](_0x46faa0['documentPath']);return{'type':_0xb55c76(0x343),'fileName':_0x2b6816[_0xb55c76(0x82)],'mimeType':_0x2b6816['type'],'document':await _0x2b6816[_0xb55c76(0x913)]()};}catch(_0x3437d7){continue;}}throw new Error(_0xb55c76(0x645));}throw new Error(_0xb55c76(0x8f1));}async*[_0x148812(0x962)](_0x419511,_0x28a7e3){const _0x2923e1=_0x148812;this[_0x2923e1(0x598)]=await _0x6468d[_0x2923e1(0x90a)](this['vendorId'],this[_0x2923e1(0xb2)]);const _0x60c5ef=this['workflow'][_0x2923e1(0x45c)][_0x2923e1(0x453)](_0x2e8319=>_0x2e8319[_0x2923e1(0x200)]===_0xe97749[_0x2923e1(0x98d)]);for await(const _0x241421 of async function*(_0xe2c8ba,_0xe98209,_0x3f2374,_0x285019,_0x362fe0){const _0x27779e=_0x2923e1,_0x1ba6be=(0x0,_0x12e752['v4'])(),_0x28e956=Date[_0x27779e(0x847)]();if(_0x1310f4[_0x27779e(0x292)]({'jobType':_0x4c2700[_0x27779e(0x686)],'type':_0x272c30['InitialPrompt'],'jobId':_0xe2c8ba,'agentId':_0x1ba6be,'threadId':_0xe98209[_0x27779e(0x39a)],'traceLevel':_0x32da54[_0x27779e(0x284)],'startTime':Date[_0x27779e(0x847)](),'timestamp':Date[_0x27779e(0x847)](),'blockId':_0x3f2374['id'],'status':'success','initialPrompt':_0xe98209[_0x27779e(0x3ce)]}),_0xe98209[_0x27779e(0x488)]){for(const _0x3f1557 in _0xe98209['internalContext'])_0x46450f(_0xe98209[_0x27779e(0x488)][_0x3f1557],_0x3f2374,_0x285019,_0x3f1557);}const _0x4517ae={'type':_0xe98209['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x5c7f6e=new _0x2972d6();_0x3ad021(_0xe2c8ba,''+_0xe98209[_0x27779e(0x3ce)],_0xe98209,_0x4517ae,_0x3f2374,_0x285019,_0x362fe0,_0x5c7f6e);let _0x1b8420='',_0x5a5a67={'type':_0xe98209[_0x27779e(0x200)]};for(;;){const _0x32aa6d=await _0x5c7f6e[_0x27779e(0x684)]();if(!_0x32aa6d)break;_0x1b8420+=_0x32aa6d['output'],_0x5a5a67={'type':_0xe98209[_0x27779e(0x200)],'output':_0x32aa6d['output'],'context':_0x4517ae[_0x27779e(0x4cb)],'internalContext':{},'inputTokens':(_0x4517ae['inputTokens']??0x0)+(_0x32aa6d[_0x27779e(0x288)]??0x0),'outputTokens':(_0x4517ae[_0x27779e(0x933)]??0x0)+(_0x32aa6d[_0x27779e(0x933)]??0x0)},yield _0x5a5a67;}yield{..._0x5a5a67,'output':'','internalContext':_0x285019[_0x27779e(0x453)](_0x2f1086=>_0x2f1086[_0x27779e(0x200)]===_0xe97749[_0x27779e(0x6c0)])?.['accumulated']?.[_0x27779e(0x4cb)]??{}};const {inputTokens:_0x50b099=0x0,outputTokens:_0x3f185b=0x0,context:_0x3d4d29=[]}=_0x5a5a67;_0x1310f4[_0x27779e(0x292)]({'jobType':_0x4c2700['Workflow'],'type':_0x272c30[_0x27779e(0x9c)],'jobId':_0xe2c8ba,'agentId':_0x1ba6be,'threadId':_0xe98209[_0x27779e(0x39a)],'traceLevel':_0x32da54[_0x27779e(0x284)],'startTime':_0x28e956,'timestamp':Date[_0x27779e(0x847)](),'blockId':_0x3f2374['id'],'status':'success','output':_0x1b8420,'prompt':_0xe98209[_0x27779e(0x3ce)],'agentName':'','history':_0xe98209[_0x27779e(0x8b6)]??[],'instructions':''+(_0xe98209[_0x27779e(0x7bc)]??''),'ragContext':_0x3d4d29,'inputTokens':_0x50b099,'outputTokens':_0x3f185b});}(_0x419511,_0x28a7e3,_0x60c5ef,this[_0x2923e1(0x598)]['blocks'],{'documentParserConnector':this[_0x2923e1(0x4aa)],'nlpLibraryConnector':this[_0x2923e1(0x475)],'generativeAIWorkerConnectors':this[_0x2923e1(0x585)],'models':this[_0x2923e1(0x598)][_0x2923e1(0x321)],'contentMediator':this[_0x2923e1(0xe1)],'searchApiKey':this['searchApiKey'],'searchConnector':this[_0x2923e1(0x168)]}))yield _0x241421;}[_0x148812(0x4ef)](_0x4b99e3,_0x3f155b){const _0x12360c=_0x148812;if(_0x12360c(0x259)===_0x3f155b[_0x12360c(0x200)])return _0x4b99e3=_0x3f155b[_0x12360c(0x231)],void this[_0x12360c(0x489)](_0x4b99e3);this[_0x12360c(0x489)](_0x4b99e3),_0x1310f4[_0x12360c(0x292)]({'jobType':_0x4c2700['Job'],'type':_0xb3e2e6[_0x12360c(0x4d2)],'traceLevel':_0x32da54[_0x12360c(0x284)],'jobId':_0x4b99e3,'threadId':_0x3f155b[_0x12360c(0x39a)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success'});}[_0x148812(0x3e5)](_0x5b9215,_0x97f3f2){const _0xa4c6be=_0x148812;if('rate'===_0x97f3f2[_0xa4c6be(0x200)])return _0x5b9215=_0x97f3f2[_0xa4c6be(0x231)],void this[_0xa4c6be(0x922)](_0x5b9215);_0x1310f4['trace']({'jobType':_0x4c2700[_0xa4c6be(0x71f)],'type':_0xb3e2e6[_0xa4c6be(0x8ca)],'traceLevel':_0x32da54[_0xa4c6be(0x284)],'jobId':_0x5b9215,'threadId':_0x97f3f2[_0xa4c6be(0x39a)],'startTime':Date[_0xa4c6be(0x847)](),'timestamp':Date[_0xa4c6be(0x847)](),'status':_0xa4c6be(0xf3)}),this[_0xa4c6be(0x922)](_0x5b9215);}async[_0x148812(0x7f3)](_0x1c86e6){return new Promise(_0x1a9de1=>{const _0x476fb2=a0_0x53e8;_0x1c86e6[_0x476fb2(0x360)](this['label'],async _0x5985ed=>{const _0x53be2c=_0x476fb2;_0x5985ed['event']===_0x366c21[_0x53be2c(0x633)]['SyncComplete']&&(_0x1c86e6['unsubscribe'](this[_0x53be2c(0xb2)]),_0x1a9de1(_0x5985ed[_0x53be2c(0x757)][_0x53be2c(0x611)]));});});}async[_0x148812(0x673)](_0xc98c86){const _0x433608=_0x148812;if(!this[_0x433608(0x8f0)])throw new Error(_0x433608(0x176));const _0x27041e=await this[_0x433608(0x8f0)][_0x433608(0x946)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0xe01e7c of _0x27041e)if(_0xe01e7c['kind']===_0x366c21['ObjectKind']['File']&&_0xe01e7c['pathName']===_0xc98c86)return _0xe01e7c[_0x433608(0x81b)]??_0xe01e7c[_0x433608(0x179)];throw new Error(_0x433608(0x184)+_0xc98c86);}async[_0x148812(0x789)](){const _0x3845c3=_0x148812;if(!this[_0x3845c3(0x598)])throw new Error('Workflow\x20not\x20initialized');for(const _0x1c1eab of this[_0x3845c3(0x74c)]['values']())try{const _0x28cff4=this['workflow'][_0x3845c3(0x45c)][_0x3845c3(0x5b5)](_0x4f20fb=>(_0x4f20fb[_0x3845c3(0x200)]===_0xe97749[_0x3845c3(0x84)]||_0x4f20fb[_0x3845c3(0x200)]===_0xe97749[_0x3845c3(0x934)])&&_0x4f20fb[_0x3845c3(0x3e4)]?.['some'](_0x2106ce=>_0x2106ce['id']===_0x1c1eab['getLabel']()));for(let _0x1e2606=_0x28cff4[_0x3845c3(0x6a1)]-0x1;_0x1e2606>=0x0;_0x1e2606--)for(const _0x45cba2 of _0x28cff4[_0x1e2606][_0x3845c3(0x3e4)]??[])_0x45cba2[_0x3845c3(0x200)]===_0x5e6e36[_0x3845c3(0x2e2)]&&this['contentMediator'][_0x3845c3(0x32c)](_0x45cba2['id'])[_0x3845c3(0x291)]()&&_0x28cff4[_0x3845c3(0x71b)](_0x1e2606,0x1),_0x45cba2[_0x3845c3(0x200)]===_0x5e6e36[_0x3845c3(0x7b8)]&&this[_0x3845c3(0xe1)][_0x3845c3(0x923)](_0x45cba2['id'])[_0x3845c3(0x291)]()&&_0x28cff4[_0x3845c3(0x71b)](_0x1e2606,0x1);const _0x599e4e=new Map();let _0x32cb82=!0x1;for(const _0x34fa4f of _0x28cff4){let _0xe77e47=''+(_0x34fa4f[_0x3845c3(0xb3)]??0x1);for(const _0x3cd8f2 of _0x34fa4f[_0x3845c3(0x3e4)]??[])_0x3cd8f2['type']===_0x5e6e36['Agent']&&(_0xe77e47=_0xe77e47+'-'+(_0x3cd8f2[_0x3845c3(0xb3)]??0x1));for(const _0x1fe360 of _0x34fa4f[_0x3845c3(0x3e4)]??[])_0x1fe360['type']===_0x5e6e36['VectorDatabase']&&_0x599e4e[_0x3845c3(0x6b3)](_0x1fe360['id'],{'version':_0xe77e47,'getDatabase':this[_0x3845c3(0xe1)][_0x3845c3(0x32c)][_0x3845c3(0x949)](this[_0x3845c3(0xe1)]),'block':_0x1fe360}),_0x1fe360[_0x3845c3(0x200)]===_0x5e6e36[_0x3845c3(0x7b8)]&&_0x599e4e[_0x3845c3(0x6b3)](_0x1fe360['id'],{'version':_0xe77e47,'getDatabase':this[_0x3845c3(0xe1)][_0x3845c3(0x923)][_0x3845c3(0x949)](this['contentMediator']),'block':_0x1fe360});}for(const {getDatabase:_0x2574d4,block:_0x45c225,version:_0x4f7248}of _0x599e4e['values']())try{const _0x3efba8=_0x2574d4(_0x45c225['id']);_0x3efba8[_0x3845c3(0x548)](_0x4f7248),_0x3efba8[_0x3845c3(0x822)](!0x0),_0x32cb82=!0x0;}catch(_0x1ded76){_0x32cb82=!0x1;break;}if(_0x24a63b[_0x3845c3(0x614)](_0x3845c3(0x19d)),_0x32cb82)continue;_0x24a63b['forceLog']('Start\x20Ingestion');const _0x4d5138=await _0x1c1eab[_0x3845c3(0x946)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this['syncFolder'](_0x447956[_0x3845c3(0x13d)],_0x1c1eab[_0x3845c3(0x895)](),_0x4d5138);for(const {getDatabase:_0x4e46c9,block:_0x24a779,version:_0x3aa3ac}of _0x599e4e[_0x3845c3(0x910)]()){const _0xbc7030=_0x4e46c9(_0x24a779['id']);_0xbc7030[_0x3845c3(0x26c)](_0x3aa3ac),_0xbc7030[_0x3845c3(0x822)](!0x0);}}catch(_0x20fa26){_0x24a63b['error'](_0x3845c3(0x142),{'nodeId':this[_0x3845c3(0x894)][_0x3845c3(0x114)](),'nodeType':this[_0x3845c3(0x894)][_0x3845c3(0x200)]});}}async[_0x148812(0x2d8)](){const _0x4334aa=_0x148812;for(const _0x399c87 of this[_0x4334aa(0x54f)]['values']())try{const _0x25409a=await _0x399c87['list']('/',{'recursive':!0x0});await this[_0x4334aa(0x5aa)](_0x447956[_0x4334aa(0x980)],_0x399c87['getName'](),_0x25409a);}catch(_0x1dbb5e){_0x24a63b[_0x4334aa(0x2d0)](_0x4334aa(0x255),{'nodeId':this[_0x4334aa(0x894)][_0x4334aa(0x114)](),'nodeType':this['localNode'][_0x4334aa(0x200)]});}}async[_0x148812(0x5aa)](_0x4b0578,_0x1fbfef,_0x3350f1){const _0xd12e0b=_0x148812;for(const _0x16dc48 of _0x3350f1){if(_0x16dc48[_0xd12e0b(0x550)]===_0x366c21['ObjectKind'][_0xd12e0b(0x2f3)]){if(!_0x16dc48['entries']||0x0===_0x16dc48[_0xd12e0b(0x653)][_0xd12e0b(0x6a1)])continue;await this['syncFolder'](_0x4b0578,_0x1fbfef,_0x16dc48[_0xd12e0b(0x653)]);}_0x16dc48['kind']===_0x366c21[_0xd12e0b(0x608)][_0xd12e0b(0x85d)]&&await this[_0xd12e0b(0x566)](_0x4b0578,_0x1fbfef,_0x16dc48[_0xd12e0b(0x179)]);}}[_0x148812(0x876)](){const _0x3668b6=_0x148812;for(const _0x4c0268 of this[_0x3668b6(0x74c)][_0x3668b6(0x910)]())_0x4c0268['subscribe'](this[_0x3668b6(0xb2)],async _0x477959=>{const _0x3dc961=_0x3668b6;switch(_0x477959['event']){case _0x366c21[_0x3dc961(0x633)][_0x3dc961(0x68d)]:this[_0x3dc961(0x465)](_0x447956[_0x3dc961(0x13d)],_0x4c0268[_0x3dc961(0x895)](),_0x477959['payload']['file'][_0x3dc961(0x179)]),await this[_0x3dc961(0x566)](_0x447956[_0x3dc961(0x13d)],_0x4c0268[_0x3dc961(0x895)](),_0x477959[_0x3dc961(0x757)][_0x3dc961(0x501)]['pathName']);break;case _0x366c21['StorageEventType'][_0x3dc961(0x11a)]:this[_0x3dc961(0x465)](_0x447956[_0x3dc961(0x13d)],_0x4c0268[_0x3dc961(0x895)](),_0x477959[_0x3dc961(0x757)][_0x3dc961(0x179)]);}});}['subscribeToExternalContent'](){const _0x56ac32=_0x148812;for(const _0x317d54 of this['externalStores']['values']())_0x317d54[_0x56ac32(0x360)](this[_0x56ac32(0xb2)],async _0x31da47=>{const _0x4ad3ac=_0x56ac32;switch(_0x31da47[_0x4ad3ac(0x218)]){case _0x366c21[_0x4ad3ac(0x633)][_0x4ad3ac(0x68d)]:this[_0x4ad3ac(0x465)](_0x447956['ExternalStorage'],_0x317d54[_0x4ad3ac(0x895)](),_0x31da47[_0x4ad3ac(0x757)][_0x4ad3ac(0x501)][_0x4ad3ac(0x179)]),await this['addContent'](_0x447956[_0x4ad3ac(0x980)],_0x317d54[_0x4ad3ac(0x895)](),_0x31da47[_0x4ad3ac(0x757)]['file']['pathName']);break;case _0x366c21[_0x4ad3ac(0x633)][_0x4ad3ac(0x11a)]:this[_0x4ad3ac(0x465)](_0x447956['ExternalStorage'],_0x317d54['getName'](),_0x31da47[_0x4ad3ac(0x757)][_0x4ad3ac(0x179)]);}});}async[_0x148812(0x566)](_0x558901,_0x486a09,_0x47aed){const _0x176e40=_0x148812;if(_0x24a63b['forceLog']('addContent',_0x558901,_0x486a09,_0x47aed),!this[_0x176e40(0x598)])throw new Error('Workflow\x20not\x20initialized');let _0x13db3f;switch(_0x558901){case _0x447956[_0x176e40(0x13d)]:_0x13db3f=_0x5e6e36[_0x176e40(0x54a)];break;case _0x447956[_0x176e40(0x980)]:_0x13db3f=_0x5e6e36['ExternalStorageUpload'];}if(!_0x13db3f)return;const _0x5a1d3b=this[_0x176e40(0x598)][_0x176e40(0x45c)][_0x176e40(0x5b5)](_0x34c0b1=>_0x34c0b1[_0x176e40(0x200)]===_0xe97749['Knowledge']||_0x34c0b1['type']===_0xe97749[_0x176e40(0x84)]),_0x19cc82=new Set(_0x5a1d3b['map'](_0x4e413e=>_0x4e413e['id'])),_0x4d9323=_0x5a1d3b[_0x176e40(0x5b5)](_0xe4f0d4=>_0xe4f0d4[_0x176e40(0x3e4)]?.[_0x176e40(0x794)](_0x289ed2=>_0x289ed2[_0x176e40(0x200)]===_0x13db3f&&_0x289ed2['id']===_0x486a09));for(const _0x3c7157 of _0x4d9323){if(!_0x19cc82[_0x176e40(0x31f)](_0x3c7157['id']))continue;_0x19cc82[_0x176e40(0x91b)](_0x3c7157['id']);const _0x43dddd=_0x3c7157[_0x176e40(0x3e4)]?.[_0x176e40(0x453)](_0x259180=>_0x259180['type']===_0x13db3f&&_0x259180['id']===_0x486a09);if(!_0x43dddd)continue;const _0x4e67ff=(0x0,_0x12e752['v4'])();_0x1310f4[_0x176e40(0x489)](null,_0x4e67ff),await _0x4d5153(_0x4e67ff,_0x47aed,_0x43dddd,_0x3c7157[_0x176e40(0x3e4)],{'documentParserConnector':this[_0x176e40(0x4aa)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x176e40(0x585)],'models':this['workflow'][_0x176e40(0x321)],'contentMediator':this[_0x176e40(0xe1)],'searchApiKey':this[_0x176e40(0x864)],'version':_0x3c7157[_0x176e40(0xb3)]??0x1}),_0x1310f4[_0x176e40(0x922)](_0x4e67ff);}this[_0x176e40(0x44b)]();}[_0x148812(0x465)](_0x9b4467,_0x22e1b1,_0x2b2d76){const _0x1c3740=_0x148812;if(_0x24a63b['forceLog'](_0x1c3740(0x465),_0x9b4467,_0x22e1b1,_0x2b2d76),!this[_0x1c3740(0x598)])throw new Error(_0x1c3740(0xcc));let _0x298ad9;switch(_0x9b4467){case _0x447956[_0x1c3740(0x13d)]:_0x298ad9=_0x5e6e36['ObjectStorageUpload'];break;case _0x447956[_0x1c3740(0x980)]:_0x298ad9=_0x5e6e36['ExternalStorageUpload'];}if(!_0x298ad9)return;const _0x152653=this[_0x1c3740(0x598)][_0x1c3740(0x45c)][_0x1c3740(0x5b5)](_0x15ffa7=>_0x15ffa7['type']===_0xe97749['Knowledge']||_0x15ffa7[_0x1c3740(0x200)]===_0xe97749[_0x1c3740(0x84)]),_0x2fe592=new Set(_0x152653[_0x1c3740(0x7e1)](_0x3402ea=>_0x3402ea['id'])),_0x2f9496=_0x152653[_0x1c3740(0x5b5)](_0x1dea87=>_0x1dea87['ingestBlocks']?.['some'](_0x255eeb=>_0x255eeb[_0x1c3740(0x200)]===_0x298ad9&&_0x255eeb['id']===_0x22e1b1));for(const _0x8f2ea5 of _0x2f9496){if(!_0x2fe592[_0x1c3740(0x31f)](_0x8f2ea5['id']))continue;_0x2fe592[_0x1c3740(0x91b)](_0x8f2ea5['id']);let _0x3dbfc3=''+(_0x8f2ea5[_0x1c3740(0xb3)]??0x1);for(const _0x421da6 of _0x8f2ea5[_0x1c3740(0x3e4)]??[])_0x421da6[_0x1c3740(0x200)]===_0x5e6e36[_0x1c3740(0x6b4)]&&(_0x3dbfc3=_0x3dbfc3+'-'+(_0x421da6['version']??0x1));for(const _0x3aa23f of _0x8f2ea5[_0x1c3740(0x3e4)]??[]){if(_0x3aa23f[_0x1c3740(0x200)]===_0x5e6e36['VectorDatabase']){const _0x4fc67a=this[_0x1c3740(0xe1)]['getVectorDatabase'](_0x3aa23f['id']);_0x4fc67a[_0x1c3740(0x957)](_0x2b2d76),_0x4fc67a[_0x1c3740(0x291)]()&&_0x4fc67a[_0x1c3740(0x26c)](_0x3dbfc3);}if(_0x3aa23f['type']===_0x5e6e36[_0x1c3740(0x7b8)]){const _0xa18dfa=this[_0x1c3740(0xe1)][_0x1c3740(0x923)](_0x3aa23f['id']);_0xa18dfa[_0x1c3740(0x957)](_0x2b2d76),_0xa18dfa['getIsLoaded']()&&_0xa18dfa['saveToDisk'](_0x3dbfc3);}}}this[_0x1c3740(0x44b)]();}[_0x148812(0x8a8)](){const _0x1b3e4c=_0x148812;try{return this[_0x1b3e4c(0x62a)]['getCapacityReport']()[_0x1b3e4c(0x8d5)]['cores']*(0x1-this[_0x1b3e4c(0x62a)][_0x1b3e4c(0x370)]()[_0x1b3e4c(0x8d5)][_0x1b3e4c(0x661)]);}catch(_0x2ad4b8){return _0x24a63b[_0x1b3e4c(0x14c)](_0x306624[_0x1b3e4c(0x1f7)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x2ad4b8),0x0;}}[_0x148812(0x44b)](){const _0x398492=_0x148812;this['isOpened']&&(this[_0x398492(0x5b1)]&&clearTimeout(this['debounceStats']),this[_0x398492(0x5b1)]=setTimeout(async()=>{const _0x250ba4=_0x398492;if(delete this[_0x250ba4(0x5b1)],!this[_0x250ba4(0x8f0)])return;let _0xc8774e=await this[_0x250ba4(0x8f0)]['getSize']();for(const _0x1a0c25 of this[_0x250ba4(0x74c)][_0x250ba4(0x910)]())_0xc8774e+=await _0x1a0c25[_0x250ba4(0x18a)]();this[_0x250ba4(0x3eb)]['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74['Content'],'content':{'type':_0x457093[_0x250ba4(0x23a)],'label':this[_0x250ba4(0xb2)],'stats':{'timestamp':Date['now'](),'storage':_0xc8774e,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x250ba4(0x8f7)],'bytesSent':this[_0x250ba4(0x64a)],'bytesReceived':this[_0x250ba4(0x811)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this['tokens']}}});},_0x470373));}[_0x148812(0x8f3)](_0x3c78d4,_0x107373){const _0x1208e5=_0x148812,_0x16525a=this[_0x1208e5(0xb2)],_0x465a02=this[_0x1208e5(0x6ce)]();_0x24a63b[_0x1208e5(0x8f3)](_0x4d4c54[_0x1208e5(0x376)],{'topic':_0x16525a,'type':_0x1208e5(0x4bf),'nodeId':_0x465a02,'tokenCount':_0x107373,'tokensPerSecond':_0x3c78d4});}[_0x148812(0x489)](_0x2c4d03){const _0x12fb3e=_0x148812;try{if(!this[_0x12fb3e(0x598)])throw new Error(_0x12fb3e(0xcc));if(!this[_0x12fb3e(0x21b)])throw new Error(_0x12fb3e(0x65f));if(!_0x1310f4[_0x12fb3e(0x489)](this['loggingDb'],_0x2c4d03))throw new Error(_0x12fb3e(0x293));return _0x2c4d03;}catch(_0x5d7463){return console['error'](_0x12fb3e(0x293),_0x5d7463),'Could\x20not\x20open\x20trace';}}['closeTrace'](_0x121bd6){const _0x49017f=_0x148812;try{_0x1310f4[_0x49017f(0x922)](_0x121bd6);}catch(_0x323494){console['error'](_0x49017f(0x503),{'jobId':_0x121bd6,'error':_0x323494});}}async[_0x148812(0x774)](){return new Promise(_0x88bd66=>{const _0x1ec826=a0_0x53e8;try{const _0x26cf60=_0x2f91e1(this[_0x1ec826(0x945)],this[_0x1ec826(0xb2)]);this[_0x1ec826(0x21b)]=this[_0x1ec826(0xe1)][_0x1ec826(0xe0)](_0x26cf60),this[_0x1ec826(0x21b)][_0x1ec826(0x360)](({event:_0x30d1e2})=>{const _0x1c9d05=_0x1ec826;_0x30d1e2===_0x366c21['DatabaseEvent'][_0x1c9d05(0x7f0)]&&(this['loggingDb'][_0x1c9d05(0x4a0)](),_0x88bd66());});}catch(_0x2518b3){console['error'](_0x1ec826(0x20d)+_0x2f91e1(this[_0x1ec826(0x945)],this[_0x1ec826(0xb2)])+_0x1ec826(0x95e),_0x2518b3),_0x88bd66();}});}}class _0x543a6d extends _0x36c311{[_0x148812(0x894)];['clusterId'];[_0x148812(0x945)];['db'];['debounceStats'];['writes']=0x0;[_0x148812(0x144)]=0x0;[_0x148812(0x4c6)]=!0x1;constructor(_0x485c47,_0xe3b3,_0x129201,_0x5d48f4,_0x3606c2){const _0x337f37=_0x148812;if(_0x337f37(0x53a)!=typeof _0xe3b3)throw new _0x5f50cc(_0x128d3f[_0x337f37(0x555)],_0x337f37(0x26e));super(_0x485c47,_0xe3b3),this[_0x337f37(0x894)]=_0x485c47,this[_0x337f37(0x853)]=_0x129201,this[_0x337f37(0x945)]=_0x5d48f4;const _0x59f7ba='ccc'+this[_0x337f37(0x945)]+_0x337f37(0x311)+this['clusterId']+_0x337f37(0x311)+this[_0x337f37(0xb2)];this['db']=new _0x3606c2(_0x59f7ba),this[_0x337f37(0x44b)]();}['getIsLoaded'](){const _0x11b679=_0x148812;return this[_0x11b679(0x4c6)];}[_0x148812(0x822)](_0xb11be7){const _0x1017c1=_0x148812;this[_0x1017c1(0x4c6)]=_0xb11be7;}[_0x148812(0x1b2)](){const _0xc18edf=_0x148812;clearTimeout(this['debounceStats']),delete this[_0xc18edf(0x5b1)],super['destroy']();}[_0x148812(0x6ac)](){const _0x1ceb14=_0x148812;this['systemTopic']['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x1ceb14(0x1c4)],'content':{'type':_0x457093[_0x1ceb14(0x619)],'label':this['label']}});}[_0x148812(0x16e)](){const _0x5e4163=_0x148812;return _0x366c21[_0x5e4163(0x8a4)][_0x5e4163(0x7b8)];}[_0x148812(0x98a)](){const _0x28226e=_0x148812;this[_0x28226e(0x44b)]();}[_0x148812(0x46d)](_0xbc85e,_0x51387c,_0x2644f1,_0x87c2e6){const _0x5b24a4=_0x148812;this['db'][_0x5b24a4(0x46d)](_0xbc85e,_0x51387c,_0x2644f1,_0x87c2e6),this[_0x5b24a4(0x712)]+=0x1,this[_0x5b24a4(0x44b)]();}[_0x148812(0x6e7)](_0x46d009,_0xde26e6){const _0x557c3d=_0x148812;this['db'][_0x557c3d(0x6e7)](_0x46d009,_0xde26e6),this['writes']+=0x1,this[_0x557c3d(0x44b)]();}[_0x148812(0x85a)](_0x252de0,_0x57720e,_0x4585af){const _0x266ea1=_0x148812,_0x10c2d9=this['db'][_0x266ea1(0x85a)](_0x252de0,_0x57720e,_0x4585af);return this[_0x266ea1(0x144)]+=0x1,_0x24a63b[_0x266ea1(0x8f3)](_0x4d4c54[_0x266ea1(0x7b8)],{'type':_0x266ea1(0x427),'label':this[_0x266ea1(0xb2)],'nodeId':this[_0x266ea1(0x894)][_0x266ea1(0x114)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'size':0x0}),this[_0x266ea1(0x44b)](),_0x10c2d9;}[_0x148812(0x957)](_0x5c5e0a){const _0x49f613=_0x148812;this['db'][_0x49f613(0x957)](_0x5c5e0a),this['writes']+=0x1,this[_0x49f613(0x44b)]();}[_0x148812(0x26c)](_0x46b104){this['db']['saveToDisk'](_0x46b104);}['loadFromDisk'](_0x31e7f9){const _0x334deb=_0x148812;this['db'][_0x334deb(0x548)](_0x31e7f9);}['sendStats'](){const _0x1b93eb=_0x148812;this[_0x1b93eb(0x5b1)]&&clearTimeout(this['debounceStats']),this[_0x1b93eb(0x5b1)]=setTimeout(async()=>{const _0x3e0518=_0x1b93eb;delete this[_0x3e0518(0x5b1)];const _0x23d6ff=this['db'][_0x3e0518(0x18a)]();this[_0x3e0518(0x3eb)][_0x3e0518(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x3e0518(0x1c4)],'content':{'type':_0x457093[_0x3e0518(0x707)],'label':this['label'],'stats':{'timestamp':Date[_0x3e0518(0x847)](),'storage':_0x23d6ff,'messagesSent':this[_0x3e0518(0x2a4)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x3e0518(0x64a)],'bytesReceived':this[_0x3e0518(0x811)],'writes':this['writes'],'reads':this[_0x3e0518(0x144)],'prompts':0x0,'tokens':0x0}}}),_0x24a63b['logStorage'](_0x4d4c54[_0x3e0518(0x7b8)],_0x3e0518(0x311)+this[_0x3e0518(0x853)]+_0x3e0518(0x311)+this[_0x3e0518(0xb2)],_0x23d6ff);},_0x470373);}}class _0x3a2d97 extends _0x204d07{[_0x148812(0x586)];constructor(_0x1fa687,_0x110b86,_0x1b1862){const _0x3b26bd=_0x148812;super(_0x1fa687,_0x110b86),this[_0x3b26bd(0x586)]=_0x1b1862;}['getContentType'](){const _0x34db88=_0x148812;return _0x366c21['ContentType'][_0x34db88(0x6ca)];}[_0x148812(0x758)](){const _0x24c3b7=_0x148812;return this[_0x24c3b7(0x586)];}[_0x148812(0x108)](){const _0x188661=_0x148812;return this[_0x188661(0x586)]['id'];}}class _0x51f4c4 extends _0x3a2d97{[_0x148812(0x89a)];[_0x148812(0xc8)];['topic'];[_0x148812(0xec)]=_0x127104();constructor(_0x1d4fc0,_0x3b62f9,_0x28a480,_0x3f9636,_0x188000){const _0x31601b=_0x148812;super(_0x1d4fc0,_0x3b62f9,_0x28a480),this[_0x31601b(0x89a)]=_0x3f9636,this[_0x31601b(0xc8)]=_0x188000;}[_0x148812(0x1b2)](){const _0x4d3811=_0x148812;this[_0x4d3811(0x44a)]('audio'),this['removeTrack']('video'),super[_0x4d3811(0x1b2)]();}[_0x148812(0x483)](_0x1cb819){const _0xae1456=_0x148812;if(!this[_0xae1456(0x80c)])throw new _0x864d50(_0x864d50[_0xae1456(0x753)][_0xae1456(0x609)],{'label':this['label'],'ownerId':this['owner']['getId'](),'remoteId':this[_0xae1456(0x89a)]});this[_0xae1456(0x80c)][_0xae1456(0x5a3)]({'sourceId':this[_0xae1456(0x132)]['getId'](),'content':{'action':_0x4decb1[_0xae1456(0x647)],'track':_0x1cb819,'stream':this[_0xae1456(0x586)],'priority':_0x366c21['MediaStreamPriority']['Default'],'params':this[_0xae1456(0x1ed)](_0x1cb819['kind'],this[_0xae1456(0xc8)])}});}[_0x148812(0x44a)](_0x2493ee){const _0x1cf06f=_0x148812,_0x126308=this['getTrack'](_0x2493ee);if(_0x126308){if(!this['topic'])return null;this['topic'][_0x1cf06f(0x5a3)]({'sourceId':this[_0x1cf06f(0x132)]['getId'](),'content':{'action':_0x4decb1['Remove'],'track':_0x126308,'stream':this[_0x1cf06f(0x586)]}});}return _0x126308;}['setPriority'](_0x160e43){const _0x3eeeb5=_0x148812;if(!this[_0x3eeeb5(0x80c)])throw new _0x864d50(_0x864d50[_0x3eeeb5(0x753)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x3eeeb5(0xb2)],'ownerId':this['owner'][_0x3eeeb5(0x114)](),'remoteId':this[_0x3eeeb5(0x89a)]});this[_0x3eeeb5(0x80c)][_0x3eeeb5(0x5a3)]({'sourceId':this[_0x3eeeb5(0x132)]['getId'](),'content':{'action':_0x4decb1[_0x3eeeb5(0x83)],'priority':_0x160e43,'stream':this['mediaStream']}});}['subscribe']({trackKinds:_0xf24e60,params:_0x376c09},_0xd5304f){const _0x551b52=_0x148812;if(!this[_0x551b52(0x80c)])throw new _0x864d50(_0x864d50[_0x551b52(0x753)][_0x551b52(0x609)],{'label':this['label'],'ownerId':this[_0x551b52(0x132)][_0x551b52(0x114)](),'remoteId':this[_0x551b52(0x89a)]});for(const _0x44ff09 of this['mediaStream']['getTracks']())_0xf24e60[_0x551b52(0x523)](_0x44ff09[_0x551b52(0x550)])&&this[_0x551b52(0x80c)][_0x551b52(0x5a3)]({'sourceId':this[_0x551b52(0x132)][_0x551b52(0x114)](),'content':{'action':_0x4decb1[_0x551b52(0x647)],'track':_0x44ff09,'stream':this[_0x551b52(0x586)],'priority':_0xd5304f,'params':this[_0x551b52(0x1ed)](_0x44ff09[_0x551b52(0x550)],_0x376c09)}});}[_0x148812(0x81a)]({params:_0x239b45}){const _0x4fd22c=_0x148812;if(!this[_0x4fd22c(0x80c)])throw new _0x864d50(_0x864d50[_0x4fd22c(0x753)][_0x4fd22c(0x609)],{'label':this[_0x4fd22c(0xb2)],'ownerId':this[_0x4fd22c(0x132)]['getId'](),'remoteId':this['remoteId']});for(const _0xed838c of this[_0x4fd22c(0x586)][_0x4fd22c(0x8cf)]())this[_0x4fd22c(0x80c)][_0x4fd22c(0x5a3)]({'sourceId':this[_0x4fd22c(0x132)][_0x4fd22c(0x114)](),'content':{'action':_0x4decb1[_0x4fd22c(0x83)],'stream':this[_0x4fd22c(0x586)],'params':this['getInternalTrackParams'](_0xed838c['kind'],_0x239b45)}});}[_0x148812(0x4a0)]({trackKinds:_0xf8935f}){const _0x467a70=_0x148812;if(this['topic']){for(const _0xb1efe of this[_0x467a70(0x586)][_0x467a70(0x8cf)]())_0xf8935f[_0x467a70(0x523)](_0xb1efe[_0x467a70(0x550)])&&this['topic'][_0x467a70(0x5a3)]({'sourceId':this[_0x467a70(0x132)][_0x467a70(0x114)](),'content':{'action':_0x4decb1['Remove'],'stream':this['mediaStream'],'track':_0xb1efe}});}}[_0x148812(0x491)](_0x25e4d4){const _0x45f89c=_0x148812;this[_0x45f89c(0x80c)]=_0x25e4d4;}[_0x148812(0x99a)](_0x37479f){const _0x58db44=_0x148812;_0x37479f===this[_0x58db44(0x80c)]&&(delete this[_0x58db44(0x80c)],this[_0x58db44(0xec)]['publish']());}[_0x148812(0x448)](_0x367bf5){const _0x5bdd5d=_0x148812;return this[_0x5bdd5d(0xec)][_0x5bdd5d(0x360)](_0x367bf5);}['getTrack'](_0x145162){const _0x2151c8=_0x148812;return this[_0x2151c8(0x586)][_0x2151c8(0x8cf)]()[_0x2151c8(0x453)](_0x23fd4d=>_0x23fd4d[_0x2151c8(0x550)]===_0x145162)||null;}[_0x148812(0x1ed)](_0x2bcfb1,_0x40bca5){const _0x1741dd=_0x148812;let _0xca11fb;return _0x1741dd(0x1c0)===_0x2bcfb1&&_0x40bca5?.[_0x1741dd(0x1c0)]&&_0x1741dd(0x8d)!=typeof _0x40bca5[_0x1741dd(0x1c0)]&&(_0xca11fb={'kind':_0x1741dd(0x1c0),..._0x40bca5[_0x1741dd(0x1c0)]},_0xca11fb[_0x1741dd(0x2cb)]=this[_0x1741dd(0x6fb)]()),'audio'===_0x2bcfb1&&_0x40bca5?.[_0x1741dd(0x828)]&&_0x1741dd(0x8d)!=typeof _0x40bca5['audio']&&(_0xca11fb={'kind':_0x1741dd(0x828),..._0x40bca5[_0x1741dd(0x828)]}),_0xca11fb;}[_0x148812(0x6fb)](){const _0x1211df=_0x148812;let _0x403ade={'width':0x0,'height':0x0};const _0xc3e9f9=this[_0x1211df(0x586)][_0x1211df(0x42e)]();if(_0xc3e9f9[_0x1211df(0x6a1)]>0x0){const _0x3a5fd9=_0xc3e9f9[0x0]['getSettings']();_0x3a5fd9[_0x1211df(0x8f9)]&&_0x3a5fd9[_0x1211df(0x7e7)]&&(_0x403ade={'width':_0x3a5fd9['width'],'height':_0x3a5fd9[_0x1211df(0x7e7)]});}return _0x403ade;}}class _0x2737db extends _0x3a2d97{[_0x148812(0x853)];[_0x148812(0x587)]=_0x366c21[_0x148812(0x4f7)]['Default'];[_0x148812(0x800)]=new Map();[_0x148812(0x7b7)]=new Map();constructor(_0x5521fb,_0x404732,_0x5e5cb0,_0x565f74){const _0x695123=_0x148812;super(_0x5521fb,_0x404732,_0x5e5cb0 instanceof MediaStream?_0x5e5cb0:_0x5e5cb0[_0x695123(0x6dd)]?_0x5e5cb0[_0x695123(0x6dd)]:_0x5e5cb0[_0x695123(0x25f)]()),this[_0x695123(0x853)]=_0x565f74,this['mediaStream'][_0x695123(0x8cf)]()[_0x695123(0x6bf)](_0x450077=>this[_0x695123(0x30a)](_0x450077)),_0x24a63b[_0x695123(0x8f3)](_0x4d4c54[_0x695123(0x996)],{'type':'publish','label':this['label'],'nodeId':this[_0x695123(0x132)][_0x695123(0x114)](),'nodeType':this['owner'][_0x695123(0x200)],'clusterId':this[_0x695123(0x853)],'streamId':this[_0x695123(0x108)](),'trackKinds':this[_0x695123(0x586)][_0x695123(0x8cf)]()[_0x695123(0x7e1)](_0x2a5034=>_0x2a5034[_0x695123(0x550)])});}[_0x148812(0x1b2)](){const _0x3652e4=_0x148812;this[_0x3652e4(0x7b7)]['size']>0x0&&(this[_0x3652e4(0x7b7)][_0x3652e4(0x6bf)](_0x2013f5=>{const _0x520028=_0x3652e4;_0x2013f5[_0x520028(0x75f)](),_0x2013f5['destroy']();}),this[_0x3652e4(0x7b7)][_0x3652e4(0x970)]()),this['trackEndedListeners'][_0x3652e4(0x6bf)](_0x447270=>_0x447270()),super[_0x3652e4(0x1b2)]();}[_0x148812(0x5a3)](_0x216f89){const _0x49b7d9=_0x148812;this[_0x49b7d9(0x3eb)]['publish']({'sourceId':this[_0x49b7d9(0x132)]['getId'](),'destinationIds':_0x216f89?[_0x216f89]:void 0x0,'propagate':!0x0,'messageType':_0x427f74[_0x49b7d9(0x1c4)],'content':{'type':_0x457093[_0x49b7d9(0x603)],'ownerId':this['owner'][_0x49b7d9(0x114)](),'label':this[_0x49b7d9(0xb2)],'stream':{'streamId':this[_0x49b7d9(0x108)](),'availableTrackKinds':this[_0x49b7d9(0x586)][_0x49b7d9(0x8cf)]()[_0x49b7d9(0x7e1)](_0x5c7371=>_0x5c7371[_0x49b7d9(0x550)])}}});}['unpublish'](){const _0x128681=_0x148812;this[_0x128681(0x3eb)][_0x128681(0x5a3)]({'sourceId':this[_0x128681(0x132)]['getId'](),'propagate':!0x0,'messageType':_0x427f74[_0x128681(0x1c4)],'content':{'type':_0x457093[_0x128681(0x4f4)],'ownerId':this[_0x128681(0x132)][_0x128681(0x114)](),'label':this[_0x128681(0xb2)]}}),this[_0x128681(0x3eb)]['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x128681(0x1c4)],'content':{'type':_0x457093[_0x128681(0x64d)],'label':this[_0x128681(0xb2)]}}),_0x24a63b[_0x128681(0x8f3)](_0x4d4c54[_0x128681(0x996)],{'type':_0x128681(0x6c9),'label':this[_0x128681(0xb2)],'nodeId':this[_0x128681(0x132)][_0x128681(0x114)](),'nodeType':this[_0x128681(0x132)][_0x128681(0x200)],'clusterId':this[_0x128681(0x853)],'streamId':this[_0x128681(0x108)]()});}['getPriority'](){const _0x4cef9f=_0x148812;return this[_0x4cef9f(0x587)];}['setPriority'](_0x367a0c){const _0x337ef2=_0x148812;this[_0x337ef2(0x587)]=_0x367a0c,this['outgoingStreams'][_0x337ef2(0x6bf)](_0x2960c6=>_0x2960c6[_0x337ef2(0x7db)](_0x367a0c));}[_0x148812(0x973)](_0x427d17,_0x5d9add){const _0x237e61=_0x148812;if(!this[_0x237e61(0x7b7)]['has'](_0x427d17)){const _0x46570f=new _0x51f4c4(this[_0x237e61(0x132)],this[_0x237e61(0xb2)],this[_0x237e61(0x586)],_0x427d17,_0x5d9add),_0x4e1de3=_0x46570f[_0x237e61(0x448)](()=>{const _0x3a42f2=_0x237e61;_0x4e1de3(),this['outgoingStreams'][_0x3a42f2(0x792)](_0x427d17)?.[_0x3a42f2(0x1b2)](),this['outgoingStreams'][_0x3a42f2(0x91b)](_0x427d17);});this[_0x237e61(0x7b7)][_0x237e61(0x6b3)](_0x427d17,_0x46570f),_0x46570f['registerSystemPublisher'](this[_0x237e61(0x3eb)]);}return this['outgoingStreams']['get'](_0x427d17);}['getShareableStreamId'](){const _0x4cf40a=_0x148812;return this[_0x4cf40a(0x586)]['id'];}[_0x148812(0x8cb)](_0x3415a3){const _0x3d9e03=_0x148812;this[_0x3d9e03(0x3eb)]['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x3d9e03(0x1c4)],'content':{'type':_0x457093['LocalMediaStreamTrackFail'],'label':this[_0x3d9e03(0xb2)],'trackKinds':[_0x3415a3[_0x3d9e03(0x550)]]}});}[_0x148812(0x30a)](_0x5d7aed){const _0x43715b=_0x148812,_0xfab643=()=>this['handleLocalTrackFailure'](_0x5d7aed);_0x5d7aed['addEventListener'](_0x43715b(0x7d2),_0xfab643),_0x5d7aed[_0x43715b(0x76c)](_0x43715b(0x58c),_0xfab643),this[_0x43715b(0x800)][_0x43715b(0x6b3)](_0x5d7aed[_0x43715b(0x550)],()=>{const _0x2dd873=_0x43715b;_0x5d7aed['removeEventListener'](_0x2dd873(0x7d2),_0xfab643),_0x5d7aed[_0x2dd873(0x597)](_0x2dd873(0x58c),_0xfab643),this[_0x2dd873(0x800)][_0x2dd873(0x91b)](_0x5d7aed[_0x2dd873(0x550)]);});}}class _0x248697 extends _0x2737db{[_0x148812(0x5ca)];[_0x148812(0x1e6)]=[];[_0x148812(0x182)];[_0x148812(0x31c)];[_0x148812(0x2d1)];['sourceVideo'];['canvas'];[_0x148812(0x4cb)];[_0x148812(0x332)];constructor(_0x11bbf2,_0x7f3777,_0x4c8461,_0x18875e,_0x51422a,_0x24d277){const _0x3c1805=_0x148812;if(super(_0x11bbf2,_0x7f3777,_0x4c8461,_0x24d277),this['audioContext']=_0x51422a,this[_0x3c1805(0x182)]=this[_0x3c1805(0x586)],this['sourceVideo']=document[_0x3c1805(0x997)](_0x3c1805(0x1c0)),this[_0x3c1805(0x725)]['autoplay']=!0x0,this[_0x3c1805(0x725)][_0x3c1805(0x955)]=!0x0,this[_0x3c1805(0x725)]['srcObject']=this[_0x3c1805(0x182)],this[_0x3c1805(0x725)][_0x3c1805(0x661)](),this['sourceVideo'][_0x3c1805(0x2da)]=()=>{const _0x5c4592=_0x3c1805;this[_0x5c4592(0x725)]['play']();},this[_0x3c1805(0x2d7)]=document[_0x3c1805(0x997)](_0x3c1805(0x2d7)),this[_0x3c1805(0x4cb)]=this[_0x3c1805(0x2d7)][_0x3c1805(0x484)]('2d'),this[_0x3c1805(0x586)]=this[_0x3c1805(0x2d7)][_0x3c1805(0x25f)](_0x18875e),this[_0x3c1805(0x2d1)]=this[_0x3c1805(0x5ca)][_0x3c1805(0x560)](),this[_0x3c1805(0x182)][_0x3c1805(0x6ae)]()[_0x3c1805(0x6a1)]>0x0){const _0x321a4d=this['clientStream'][_0x3c1805(0x6ae)]()[0x0];this['audioSource']=this[_0x3c1805(0x5ca)][_0x3c1805(0x2c1)](new MediaStream([_0x321a4d])),this[_0x3c1805(0x31c)][_0x3c1805(0x2b8)](this[_0x3c1805(0x2d1)]);}const _0x11d022=this[_0x3c1805(0x2d1)]['stream'][_0x3c1805(0x8cf)]()[0x0];this[_0x3c1805(0x586)]['addTrack'](_0x11d022),this[_0x3c1805(0x332)]=setInterval(()=>{const _0x1f75f5=_0x3c1805;this[_0x1f75f5(0x2d7)]['width']=this[_0x1f75f5(0x725)][_0x1f75f5(0x325)],this[_0x1f75f5(0x2d7)]['height']=this[_0x1f75f5(0x725)][_0x1f75f5(0x468)],this['sourceVideo'][_0x1f75f5(0x325)]?(0x0!==this['clientStream']['getVideoTracks']()[_0x1f75f5(0x6a1)]&&this['clientStream'][_0x1f75f5(0x42e)]()[0x0][_0x1f75f5(0x6e1)]?this[_0x1f75f5(0x586)][_0x1f75f5(0x42e)]()[0x0][_0x1f75f5(0x6e1)]=!0x0:this['mediaStream'][_0x1f75f5(0x42e)]()[0x0][_0x1f75f5(0x6e1)]=!0x1,0x0!==this[_0x1f75f5(0x182)]['getAudioTracks']()[_0x1f75f5(0x6a1)]&&this[_0x1f75f5(0x182)][_0x1f75f5(0x6ae)]()[0x0][_0x1f75f5(0x6e1)]?this[_0x1f75f5(0x586)][_0x1f75f5(0x6ae)]()[0x0]['enabled']=!0x0:this[_0x1f75f5(0x586)][_0x1f75f5(0x6ae)]()[0x0][_0x1f75f5(0x6e1)]=!0x1,this['context'][_0x1f75f5(0x869)](this['sourceVideo'],0x0,0x0)):this[_0x1f75f5(0x4cb)][_0x1f75f5(0x335)](0x0,0x0,this[_0x1f75f5(0x2d7)][_0x1f75f5(0x8f9)],this[_0x1f75f5(0x2d7)][_0x1f75f5(0x7e7)]);},0x3e8/_0x18875e);}[_0x148812(0x1b2)](){const _0x24b75d=_0x148812;clearInterval(this[_0x24b75d(0x332)]),this['sourceVideo'][_0x24b75d(0x957)](),this[_0x24b75d(0x2d7)][_0x24b75d(0x957)](),this[_0x24b75d(0x31c)]?.[_0x24b75d(0x94d)](),this[_0x24b75d(0x2d1)][_0x24b75d(0x94d)](),this['mediaStream'][_0x24b75d(0x8cf)]()[_0x24b75d(0x6bf)](_0x3de343=>{const _0x22e416=_0x24b75d;_0x3de343[_0x22e416(0x1bc)](),this['mediaStream'][_0x22e416(0x44a)](_0x3de343);}),super['destroy']();}['addTrack'](_0x1eaeae){const _0x72e07e=_0x148812,_0x389ca4=this[_0x72e07e(0x1bf)](_0x1eaeae[_0x72e07e(0x550)]);_0x389ca4&&this[_0x72e07e(0x44a)](_0x389ca4),_0x72e07e(0x828)!==_0x1eaeae[_0x72e07e(0x550)]?('video'===_0x1eaeae[_0x72e07e(0x550)]&&this[_0x72e07e(0x8be)](_0x1eaeae),this[_0x72e07e(0x30a)](_0x1eaeae)):this[_0x72e07e(0x502)](_0x1eaeae);}['removeTrack'](_0xf34536){const _0x315ad0=_0x148812,_0x42a682=this['getTrackFromParam'](_0xf34536);return _0x42a682&&(_0x315ad0(0x828)===_0x42a682[_0x315ad0(0x550)]&&(this[_0x315ad0(0x31c)]?.[_0x315ad0(0x94d)](),this[_0x315ad0(0x31c)]=void 0x0),this[_0x315ad0(0x800)][_0x315ad0(0x792)](_0x42a682[_0x315ad0(0x550)])?.(),this[_0x315ad0(0x182)][_0x315ad0(0x44a)](_0x42a682)),_0x42a682;}[_0x148812(0x584)](_0x27dec0){const _0x47badf=_0x148812;this[_0x47badf(0x44a)](_0x27dec0[_0x47badf(0x550)]),this[_0x47badf(0x483)](_0x27dec0);}[_0x148812(0x227)](_0x49d5d1){const _0x5ebf71=_0x148812;this[_0x5ebf71(0x1e6)]=_0x49d5d1;}['getTrack'](_0x4c34cd){const _0x4763f8=_0x148812;return this[_0x4763f8(0x182)]['getTracks']()[_0x4763f8(0x453)](_0x1eb61d=>_0x1eb61d[_0x4763f8(0x550)]===_0x4c34cd)||null;}[_0x148812(0x797)](_0x31afce){return'string'==typeof _0x31afce?this['getTrack'](_0x31afce):_0x31afce;}['addAudioTrack'](_0x4d7860){const _0x2e5a59=_0x148812;_0x2e5a59(0x25c)===this['audioContext'][_0x2e5a59(0x701)]&&this[_0x2e5a59(0x5ca)][_0x2e5a59(0x76a)](),this[_0x2e5a59(0x182)]['addTrack'](_0x4d7860),this[_0x2e5a59(0x31c)]=this[_0x2e5a59(0x5ca)][_0x2e5a59(0x2c1)](this[_0x2e5a59(0x182)]),this['audioSource']['connect'](this[_0x2e5a59(0x2d1)]);}[_0x148812(0x8be)](_0xf84ef9){const _0xe973f6=_0x148812;this[_0xe973f6(0x182)]['addTrack'](_0xf84ef9),this[_0xe973f6(0x725)][_0xe973f6(0x661)]();}}class _0x52349b extends _0x2737db{}class _0xadc99f extends _0x36c311{[_0x148812(0x894)];[_0x148812(0x853)];[_0x148812(0x945)];['transactionService'];[_0x148812(0x53b)];['unsubscribeHandler'];[_0x148812(0x111)];[_0x148812(0x3f3)]=new Map();['objectRequests']=new Map();[_0x148812(0x623)]=new Map();['pendingFilesTransactions']=new Map();[_0x148812(0x859)]=new Map();[_0x148812(0x104)]=new Map();[_0x148812(0x249)];[_0x148812(0x5d8)]=_0x48de03();[_0x148812(0x786)]=new Map();[_0x148812(0x5b1)];[_0x148812(0x712)]=0x0;[_0x148812(0x144)]=0x0;[_0x148812(0x3c4)]=!0x0;[_0x148812(0xac)]=!0x0;['filesSynced']=0x0;[_0x148812(0x4fd)]=0x0;constructor(_0x11703c,_0x412934,_0x66d00d,_0x31003f,_0x773518,_0x49baaf,_0x2091eb){const _0x13652a=_0x148812;if(_0x13652a(0x53a)!=typeof _0x412934)throw new _0x5f50cc(_0x128d3f[_0x13652a(0x858)],_0x13652a(0x4bc));super(_0x11703c,_0x412934),this['localNode']=_0x11703c,this[_0x13652a(0x853)]=_0x66d00d,this[_0x13652a(0x945)]=_0x31003f,this[_0x13652a(0x533)]=_0x773518,this[_0x13652a(0x53b)]=_0x2091eb;const _0x59a4d7='ccc'+this['vendorId']+_0x13652a(0x311)+this[_0x13652a(0x853)]+_0x13652a(0x311)+_0x412934;this[_0x13652a(0x249)]=new _0x49baaf(_0x59a4d7),this[_0x13652a(0x44b)]();}['reset'](){this['sendStats']();}[_0x148812(0x16e)](){const _0x560539=_0x148812;return _0x366c21[_0x560539(0x8a4)][_0x560539(0x27d)];}async[_0x148812(0x319)](_0x4a9a4d){const _0x272fc8=_0x148812;void 0x0!==_0x4a9a4d&&(this[_0x272fc8(0x3c4)]=_0x4a9a4d),this['isSyncing']=!0x0;try{const _0x5e8770=await this[_0x272fc8(0x249)][_0x272fc8(0x792)](_0x156ca6),_0x5b7eaa=await _0x5e8770[_0x272fc8(0x625)]();this['lastTransactionId']=_0x5b7eaa;}catch(_0x14d09b){}this[_0x272fc8(0x6f0)]=this[_0x272fc8(0x763)](async(_0x13768d,_0x229003)=>{const _0x463c9c=_0x272fc8;if(!(_0x229003 instanceof File))try{if(_0x229003[_0x463c9c(0x27a)]===_0x369bd3[_0x463c9c(0x368)])return void this[_0x463c9c(0x8b3)](_0x229003);this[_0x463c9c(0x41f)](_0x229003);}catch(_0x429bf9){if(_0x429bf9 instanceof _0x864d50)throw _0x429bf9;throw new _0x864d50(_0x864d50[_0x463c9c(0x753)][_0x463c9c(0x7d5)],{'payload':_0x229003});}}),await this[_0x272fc8(0x5c8)](),this[_0x272fc8(0x3c4)]?await this[_0x272fc8(0x6d0)]():this[_0x272fc8(0x43f)](),this[_0x272fc8(0x44b)]();}[_0x148812(0x1b2)](){const _0x9a106c=_0x148812;this[_0x9a106c(0x6f0)]?.(),this[_0x9a106c(0x786)][_0x9a106c(0x6bf)](_0x305c23=>_0x305c23()),this['listenerUnsubscribers'][_0x9a106c(0x970)](),clearTimeout(this[_0x9a106c(0x5b1)]),delete this[_0x9a106c(0x5b1)],super[_0x9a106c(0x1b2)]();}[_0x148812(0x6ac)](){const _0x4cf4f1=_0x148812;this[_0x4cf4f1(0x3eb)]?.[_0x4cf4f1(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x4cf4f1(0x1c4)],'content':{'type':_0x457093[_0x4cf4f1(0x5c4)],'label':this['label']}});}[_0x148812(0x360)](_0x178b67,_0x5a8ff7){const _0x2dbdbb=_0x148812;if(this[_0x2dbdbb(0x786)][_0x2dbdbb(0x31f)](_0x178b67))throw new _0x5f50cc(_0x128d3f[_0x2dbdbb(0x11b)],_0x2dbdbb(0xda));this[_0x2dbdbb(0x786)][_0x2dbdbb(0x6b3)](_0x178b67,this[_0x2dbdbb(0x5d8)][_0x2dbdbb(0x360)](_0x5a8ff7)),this[_0x2dbdbb(0xac)]||this[_0x2dbdbb(0x5d8)][_0x2dbdbb(0x5a3)]({'event':_0x366c21[_0x2dbdbb(0x633)][_0x2dbdbb(0x7f0)],'payload':{'filesSynced':this[_0x2dbdbb(0x611)]}});}[_0x148812(0x4a0)](_0x2d6f0c){const _0x4db5b6=_0x148812;this[_0x4db5b6(0x786)][_0x4db5b6(0x792)](_0x2d6f0c)?.(),this['listenerUnsubscribers'][_0x4db5b6(0x91b)](_0x2d6f0c);}[_0x148812(0x5a3)](_0x9df90f){const _0xcd9d5f=_0x148812;switch(_0x9df90f[_0xcd9d5f(0x89b)]){case _0x366c21[_0xcd9d5f(0xb0)][_0xcd9d5f(0x85d)]:return this[_0xcd9d5f(0x807)](_0x9df90f[_0xcd9d5f(0x501)],_0x9df90f[_0xcd9d5f(0x64f)],_0x9df90f[_0xcd9d5f(0x2c0)]);case _0x366c21[_0xcd9d5f(0xb0)][_0xcd9d5f(0x2f3)]:return this[_0xcd9d5f(0x20f)](_0x9df90f[_0xcd9d5f(0x64f)]);case _0x366c21[_0xcd9d5f(0xb0)]['Move']:return this[_0xcd9d5f(0x7be)](_0x9df90f[_0xcd9d5f(0x64f)],_0x9df90f['newPath']);default:throw new _0x5f50cc(_0x128d3f[_0xcd9d5f(0x8ab)],_0xcd9d5f(0x37f)+_0x9df90f);}}async[_0x148812(0x6c9)](_0x3ada64){const _0x1c8718=_0x148812;try{const _0x11efff=(0x0,_0x12e752['v4'])(),_0x4a3e68=this['lastTransactionId'],_0x4d5e7d={'payloadType':_0x369bd3[_0x1c8718(0x796)],'action':_0x312176[_0x1c8718(0x86c)],'id':_0x11efff,'parentId':_0x4a3e68,'path':_0x3ada64};await this[_0x1c8718(0x1cc)](_0x4d5e7d);const _0x22f4f1=await this['deleteObject'](_0x3ada64);await this['send'](_0x4d5e7d),_0x24a63b[_0x1c8718(0x8f3)](_0x4d4c54[_0x1c8718(0x13d)],{'type':_0x1c8718(0x6c9),'label':this[_0x1c8718(0xb2)],'nodeId':this[_0x1c8718(0x894)][_0x1c8718(0x114)](),'nodeType':this[_0x1c8718(0x894)][_0x1c8718(0x200)],'clusterId':this[_0x1c8718(0x853)],'kind':_0x22f4f1,'path':_0x3ada64}),this[_0x1c8718(0x712)]+=0x1,this['sendStats']();}catch(_0x52e41b){if(_0x52e41b instanceof _0x864d50)throw new _0x5f50cc(_0x128d3f[_0x1c8718(0x78d)],'Cannot\x20unpublish\x20object\x20at\x20'+_0x3ada64+_0x1c8718(0x5ec));throw new _0x5f50cc(_0x128d3f[_0x1c8718(0x2b3)],'Cannot\x20unpublish\x20object:\x20'+_0x3ada64);}}async['get'](_0x5c9e46,_0x37cffd){const _0x2fade0=_0x148812;_0x24a63b[_0x2fade0(0x8f3)](_0x4d4c54[_0x2fade0(0x13d)],{'type':'get','label':this[_0x2fade0(0xb2)],'nodeId':this[_0x2fade0(0x894)][_0x2fade0(0x114)](),'nodeType':this['localNode'][_0x2fade0(0x200)],'clusterId':this[_0x2fade0(0x853)],'path':_0x5c9e46}),this['reads']+=0x1,this[_0x2fade0(0x44b)]();try{return await this[_0x2fade0(0x249)][_0x2fade0(0x792)](_0x5c9e46,_0x37cffd);}catch(_0xfefaf0){try{await this[_0x2fade0(0x249)][_0x2fade0(0x792)](_0x5c9e46+_0x352666);}catch(_0x16d0c9){throw new _0x5f50cc(_0x128d3f[_0x2fade0(0x2b3)],'Cannot\x20get\x20file:\x20'+_0x5c9e46);}throw new _0x5f50cc(_0x128d3f[_0x2fade0(0x78d)],_0x2fade0(0x38b));}}async['list'](_0x5a4aa0,_0x51fb50){const _0x153ae8=_0x148812,{recursive:_0x1cc170=!0x1,includeSyncingFiles:_0x7f8266=!0x1}=_0x51fb50??{};_0x24a63b[_0x153ae8(0x8f3)](_0x4d4c54[_0x153ae8(0x13d)],{'type':_0x153ae8(0x946),'label':this[_0x153ae8(0xb2)],'nodeId':this[_0x153ae8(0x894)][_0x153ae8(0x114)](),'nodeType':this[_0x153ae8(0x894)]['type'],'clusterId':this[_0x153ae8(0x853)],'path':_0x5a4aa0}),this[_0x153ae8(0x144)]+=0x1,this[_0x153ae8(0x44b)]();try{const _0x59822d=await this[_0x153ae8(0x249)][_0x153ae8(0x946)](_0x5a4aa0,_0x1cc170);return this[_0x153ae8(0x2a2)](_0x59822d,{'recursive':_0x1cc170,'includeSyncingFiles':_0x7f8266});}catch(_0x2e5653){throw new _0x5f50cc(_0x128d3f[_0x153ae8(0x2b3)],_0x153ae8(0x1e3)+_0x5a4aa0);}}[_0x148812(0x694)](_0x1b9013){const _0x199a5a=_0x148812;this[_0x199a5a(0x4fd)]+=0x1;for(const _0x4045e1 of this[_0x199a5a(0x839)][_0x199a5a(0x910)]())this[_0x199a5a(0x6aa)](_0x4045e1,[_0x1b9013]);}['handleNodeLeave'](_0x13799f){const _0x234b13=_0x148812;this[_0x234b13(0x4fd)]-=0x1;const _0x2f440a=this[_0x234b13(0x623)]['get'](_0x13799f);if(_0x2f440a){for(const [_0x5a7895,_0x3bf3a4]of _0x2f440a[_0x234b13(0x910)]())this[_0x234b13(0x310)](_0x5a7895,_0x3bf3a4);this[_0x234b13(0x623)][_0x234b13(0x91b)](_0x13799f);}}async['getSize'](_0x33dab6='/'){const _0x1f2939=_0x148812;try{return await this[_0x1f2939(0x249)][_0x1f2939(0x87e)](_0x33dab6);}catch(_0x4657ce){if(_0x4657ce instanceof Error&&_0x4657ce['message']['includes'](_0x1f2939(0x8c2)))return 0x0;throw new _0x5f50cc(_0x128d3f[_0x1f2939(0x2b3)],_0x1f2939(0x76d)+_0x33dab6);}}[_0x148812(0x43f)](){const _0x55881a=_0x148812;this['isSyncing']&&(this['isSyncing']=!0x1,this[_0x55881a(0x5d8)][_0x55881a(0x5a3)]({'event':_0x366c21[_0x55881a(0x633)][_0x55881a(0x7f0)],'payload':{'filesSynced':this[_0x55881a(0x611)]}}));}async[_0x148812(0x2a2)](_0x5c2e73,{includeSyncingFiles:_0x2d6728=!0x1}){const _0x264223=_0x148812,_0x48d0ce=[];for(const _0x48a14c of _0x5c2e73)if(_0x48a14c[_0x264223(0x550)]!==_0x366c21[_0x264223(0x608)]['Folder']){if(_0x48a14c['name']!==_0x156ca6){if(_0x48a14c['name']['endsWith'](_0x352666)){if(!_0x2d6728)continue;const _0x50e202=_0x48a14c;if(_0x50e202[_0x264223(0x82)]=_0x50e202['name'][_0x264223(0x10f)](_0x352666,''),_0x50e202['pathName']=_0x50e202['pathName'][_0x264223(0x10f)](_0x352666,''),await this[_0x264223(0x576)](_0x50e202[_0x264223(0x179)])){_0x5c2e73[_0x264223(0x453)](_0x21c4eb=>_0x21c4eb['pathName']===_0x50e202[_0x264223(0x179)])[_0x264223(0x697)]=_0x366c21[_0x264223(0x353)]['Syncing'];continue;}_0x50e202[_0x264223(0x697)]=_0x366c21[_0x264223(0x353)]['Pending'];}_0x48d0ce[_0x264223(0x5dc)](_0x48a14c);}}else _0x48a14c[_0x264223(0x653)]=await this[_0x264223(0x2a2)](_0x48a14c[_0x264223(0x653)]??[],{'includeSyncingFiles':_0x2d6728}),_0x48d0ce[_0x264223(0x5dc)](_0x48a14c);return _0x48d0ce;}async[_0x148812(0x807)](_0x586584,_0x10fbee,_0x5cbdf1){const _0x4d1f10=_0x148812;try{const _0x32e034=(0x0,_0x12e752['v4'])(),_0x5753da=await _0x55b8b6(_0x586584),_0x2034d8=_0x24dea2(_0x10fbee??'/',_0x586584[_0x4d1f10(0x82)]);let _0x301f24=!0x0;const _0x109077={'payloadType':_0x369bd3[_0x4d1f10(0x796)],'action':_0x312176[_0x4d1f10(0x68d)],'id':_0x32e034,'parentId':this[_0x4d1f10(0x111)],'answererId':this[_0x4d1f10(0x894)]['getId'](),'name':_0x586584[_0x4d1f10(0x82)],'type':_0x586584['type'],'path':_0x10fbee??'/','skipEncryption':_0x5cbdf1?.[_0x4d1f10(0x788)]??!0x1,'checksum':_0x5753da};try{if(!_0x5cbdf1?.[_0x4d1f10(0x750)])throw new Error(_0x4d1f10(0xbe));const _0x5ef4e8=_0x2034d8+_0x352666;await this[_0x4d1f10(0x249)][_0x4d1f10(0x792)](_0x5ef4e8),_0x301f24=!0x1,await this['objectStoreConnector'][_0x4d1f10(0x714)](_0x5ef4e8),this[_0x4d1f10(0x839)][_0x4d1f10(0x91b)](_0x2034d8);}catch(_0x5889b1){await this[_0x4d1f10(0x1cc)](_0x109077);}if(this[_0x4d1f10(0x3c4)]?await this[_0x4d1f10(0x81f)](_0x586584,_0x10fbee,_0x5cbdf1):await this[_0x4d1f10(0x40b)](_0x586584['name'],_0x10fbee??'/',{'checksum':_0x5753da,'skipEncryption':_0x5cbdf1?.[_0x4d1f10(0x788)]??!0x1}),this[_0x4d1f10(0x104)][_0x4d1f10(0x31f)](_0x2034d8)){const [_0x157c76,_0x2b33aa]=this[_0x4d1f10(0x104)][_0x4d1f10(0x792)](_0x2034d8);this[_0x4d1f10(0x104)][_0x4d1f10(0x6b3)](_0x2034d8,[!0x0,_0x2b33aa]);try{await _0x2b33aa;}catch(_0x5d12cf){}this['fileSendingMap'][_0x4d1f10(0x91b)](_0x2034d8);}_0x301f24&&this[_0x4d1f10(0x4fd)]>0x0&&await this[_0x4d1f10(0x919)](_0x586584,_0x109077),_0x24a63b[_0x4d1f10(0x8f3)](_0x4d4c54[_0x4d1f10(0x13d)],{'type':_0x4d1f10(0x5a3),'label':this[_0x4d1f10(0xb2)],'nodeId':this[_0x4d1f10(0x894)][_0x4d1f10(0x114)](),'nodeType':this[_0x4d1f10(0x894)][_0x4d1f10(0x200)],'clusterId':this[_0x4d1f10(0x853)],'kind':_0x366c21['ObjectKind'][_0x4d1f10(0x85d)],'path':_0x10fbee,'fileName':_0x586584[_0x4d1f10(0x82)],'fileType':_0x586584['type'],'size':_0x586584[_0x4d1f10(0x33c)]}),this[_0x4d1f10(0x712)]+=0x1,this[_0x4d1f10(0x44b)]();}catch(_0xff2ac6){if(_0xff2ac6 instanceof _0x864d50)throw new _0x5f50cc(_0x128d3f[_0x4d1f10(0x78d)],_0x4d1f10(0x38b));throw new _0x5f50cc(_0x128d3f['ObjectStoreInvalidPath'],_0x4d1f10(0x3fb)+_0x10fbee+(_0x10fbee?.[_0x4d1f10(0x2d3)]('/')?'':'/')+_0x586584['name']);}}async[_0x148812(0x20f)](_0x5a809e){const _0x6b9b48=_0x148812;try{const _0x3f2265=(0x0,_0x12e752['v4'])(),_0x4f2286=this[_0x6b9b48(0x111)],_0x327db4={'payloadType':_0x369bd3[_0x6b9b48(0x796)],'action':_0x312176[_0x6b9b48(0x834)],'id':_0x3f2265,'parentId':_0x4f2286,'path':_0x5a809e};await this[_0x6b9b48(0x1cc)](_0x327db4),await this[_0x6b9b48(0x249)]['createFolder'](_0x5a809e),await this[_0x6b9b48(0x6aa)](_0x327db4),_0x24a63b['logServiceEvent'](_0x4d4c54[_0x6b9b48(0x13d)],{'type':_0x6b9b48(0x5a3),'label':this[_0x6b9b48(0xb2)],'nodeId':this[_0x6b9b48(0x894)]['getId'](),'nodeType':this[_0x6b9b48(0x894)][_0x6b9b48(0x200)],'clusterId':this[_0x6b9b48(0x853)],'kind':_0x366c21[_0x6b9b48(0x608)]['Folder'],'path':_0x5a809e}),this[_0x6b9b48(0x712)]+=0x1,this[_0x6b9b48(0x44b)]();}catch(_0x48451c){if(_0x48451c instanceof _0x864d50)throw new _0x5f50cc(_0x128d3f[_0x6b9b48(0x78d)],_0x6b9b48(0x38b));throw new _0x5f50cc(_0x128d3f[_0x6b9b48(0x2b3)],_0x6b9b48(0x722)+_0x5a809e);}}async[_0x148812(0x7be)](_0x3e9874,_0x48f573){const _0x121b6d=_0x148812;try{const _0x64f064=(0x0,_0x12e752['v4'])(),_0x4f7bf5=this['lastTransactionId'],_0x4f34d3={'payloadType':_0x369bd3['Transaction'],'action':_0x312176['Move'],'id':_0x64f064,'parentId':_0x4f7bf5,'path':_0x3e9874,'newPath':_0x48f573};await this[_0x121b6d(0x1cc)](_0x4f34d3);const _0xb69e7d=await this[_0x121b6d(0x904)](_0x3e9874,_0x48f573);await this[_0x121b6d(0x6aa)](_0x4f34d3),_0x24a63b['logServiceEvent'](_0x4d4c54[_0x121b6d(0x13d)],{'type':'move','label':this[_0x121b6d(0xb2)],'nodeId':this[_0x121b6d(0x894)]['getId'](),'nodeType':this[_0x121b6d(0x894)][_0x121b6d(0x200)],'clusterId':this[_0x121b6d(0x853)],'kind':_0xb69e7d,'path':_0x3e9874,'newPath':_0x48f573}),this['writes']+=0x1,this['sendStats']();}catch(_0x35c64f){if(_0x35c64f instanceof _0x864d50)throw new _0x5f50cc(_0x128d3f[_0x121b6d(0x78d)],_0x121b6d(0x38b));throw new _0x5f50cc(_0x128d3f[_0x121b6d(0x2b3)],_0x121b6d(0x6a3)+_0x3e9874);}}async[_0x148812(0x41f)](_0x186fe6,_0x40c5e5=!0x1){const _0xb4a5e4=_0x148812;if(this['lastTransactionId']&&_0x186fe6['parentId']!==this['lastTransactionId']&&_0x186fe6['id']!==this[_0xb4a5e4(0x111)]){if(!_0x186fe6[_0xb4a5e4(0x441)])throw new _0x864d50(_0x864d50['codes'][_0xb4a5e4(0x7d5)]);this[_0xb4a5e4(0x3f3)][_0xb4a5e4(0x6b3)](_0x186fe6[_0xb4a5e4(0x441)],_0x186fe6);}else{try{await this[_0xb4a5e4(0x5bb)](_0x186fe6,_0x40c5e5);}catch(_0x2dcc51){}await this[_0xb4a5e4(0x696)](_0x186fe6['id']),await this[_0xb4a5e4(0x958)](_0x186fe6['id'],_0x40c5e5);}}async[_0x148812(0x5bb)](_0x22b6e6,_0x55baf0=!0x1){const _0x44d47b=_0x148812;switch(_0x22b6e6['action']){case _0x312176[_0x44d47b(0x68d)]:await this[_0x44d47b(0x953)](_0x22b6e6);break;case _0x312176[_0x44d47b(0x834)]:await this[_0x44d47b(0x486)](_0x22b6e6);break;case _0x312176[_0x44d47b(0x1ac)]:await this['handleObjectMove'](_0x22b6e6,_0x55baf0);break;case _0x312176['Delete']:await this[_0x44d47b(0x5a2)](_0x22b6e6,_0x55baf0);break;default:throw new _0x864d50(_0x864d50[_0x44d47b(0x753)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x22b6e6});}}async[_0x148812(0x958)](_0xc48a02,_0x3cf70c=!0x1){const _0x4cdc4f=_0x148812;if(this[_0x4cdc4f(0x3f3)][_0x4cdc4f(0x31f)](_0xc48a02)){const _0x53ec9d=this[_0x4cdc4f(0x3f3)][_0x4cdc4f(0x792)](_0xc48a02);this[_0x4cdc4f(0x3f3)][_0x4cdc4f(0x91b)](_0xc48a02),await this[_0x4cdc4f(0x41f)](_0x53ec9d,_0x3cf70c);}}async[_0x148812(0x8b3)](_0x9765cc){const _0x3c4667=_0x148812;switch(_0x9765cc[_0x3c4667(0x89b)]){case _0x312176[_0x3c4667(0xe8)]:return this[_0x3c4667(0x1c7)](_0x9765cc);case _0x312176[_0x3c4667(0x2ca)]:return this[_0x3c4667(0x217)](_0x9765cc);case _0x312176['RequestFileSync']:return this['handleFileSync'](_0x9765cc);case _0x312176[_0x3c4667(0x977)]:return this[_0x3c4667(0x953)](_0x9765cc);default:throw new _0x864d50(_0x864d50['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x9765cc});}}async[_0x148812(0x953)](_0x14e3fe,_0x176017=0x0){const _0x1603f9=_0x148812,_0x464689=_0x24dea2(_0x14e3fe['path'],_0x14e3fe[_0x1603f9(0x82)]);if(!_0x14e3fe[_0x1603f9(0x912)]||void 0x0===_0x14e3fe[_0x1603f9(0x17b)]||!_0x14e3fe[_0x1603f9(0x94f)])return this[_0x1603f9(0x29d)][_0x1603f9(0x91b)](_0x464689),void await this['createPendingFileWrite'](_0x14e3fe[_0x1603f9(0x82)],_0x14e3fe[_0x1603f9(0x64f)],{'checksum':_0x14e3fe[_0x1603f9(0x830)],'skipEncryption':_0x14e3fe[_0x1603f9(0x788)]});if(this[_0x1603f9(0x29d)][_0x1603f9(0x31f)](_0x464689)){const _0x356427=this[_0x1603f9(0x29d)][_0x1603f9(0x792)](_0x464689);_0x356427['checksum']!==_0x14e3fe[_0x1603f9(0x830)]&&(_0x356427[_0x1603f9(0x495)]?.[_0x1603f9(0x6ac)](),this[_0x1603f9(0x29d)][_0x1603f9(0x91b)](_0x464689));}if(!this['fileChunks'][_0x1603f9(0x31f)](_0x464689)){try{await this[_0x1603f9(0x249)]['deleteObject'](_0x464689);}catch(_0x42db09){}try{const _0x19ab81=this[_0x1603f9(0x3c4)]?await this[_0x1603f9(0x249)]['createWritableStream'](_0x464689,{'skipEncryption':_0x14e3fe[_0x1603f9(0x788)]}):void 0x0,_0x22eec8={'chunksReceived':_0x14e3fe['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x19ab81,'checksum':_0x14e3fe[_0x1603f9(0x830)]};this[_0x1603f9(0x29d)][_0x1603f9(0x6b3)](_0x464689,_0x22eec8),await this[_0x1603f9(0x40b)](_0x14e3fe[_0x1603f9(0x82)],_0x14e3fe['path'],{'checksum':_0x14e3fe[_0x1603f9(0x830)],'skipEncryption':_0x14e3fe[_0x1603f9(0x788)]});}catch(_0x21c975){}}const _0x579eb7=this[_0x1603f9(0x29d)][_0x1603f9(0x792)](_0x464689);if(_0x14e3fe[_0x1603f9(0x830)]!==_0x579eb7[_0x1603f9(0x830)])return;if(this['setPendingFileSyncingPayload'](_0x14e3fe,_0x464689),this[_0x1603f9(0x3c4)]){if(!_0x579eb7[_0x1603f9(0x495)])throw new _0x864d50(_0x864d50[_0x1603f9(0x753)][_0x1603f9(0x7d5)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x18bb6e=_0x579eb7[_0x1603f9(0x13f)];if(_0x14e3fe[_0x1603f9(0x17b)]!==_0x18bb6e){if(_0x18bb6e>_0x14e3fe[_0x1603f9(0x17b)])return;const _0x5f12ab=2064.1259842519685;if(_0x14e3fe[_0x1603f9(0x17b)]>_0x18bb6e+_0x5f12ab)return;if(_0x579eb7[_0x1603f9(0x1ab)]||(_0x579eb7['bufferedChunks']=[]),_0x579eb7[_0x1603f9(0x1ab)][_0x1603f9(0x6a1)]>8256.503937007874)throw this['fileChunks'][_0x1603f9(0x91b)](_0x464689),new _0x864d50(_0x864d50[_0x1603f9(0x753)][_0x1603f9(0x7d5)],{'message':_0x1603f9(0x3f9)});return void _0x579eb7['bufferedChunks'][_0x1603f9(0x5dc)](_0x14e3fe);}try{_0x579eb7[_0x1603f9(0x13f)]+=0x1,_0x579eb7['bytesReceived']+=_0x14e3fe[_0x1603f9(0x912)][_0x1603f9(0x5a5)],await _0x579eb7[_0x1603f9(0x495)]['write'](_0x14e3fe[_0x1603f9(0x912)]);}catch(_0x46d421){if(console[_0x1603f9(0x2d0)](_0x1603f9(0x744),_0x46d421),_0x176017>0x3)throw this[_0x1603f9(0x29d)][_0x1603f9(0x91b)](_0x464689),console[_0x1603f9(0x2d0)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x46d421),new _0x864d50(_0x864d50['codes'][_0x1603f9(0x7d5)],{'message':_0x1603f9(0x1d7)});return this[_0x1603f9(0x953)](_0x14e3fe,_0x176017+0x1);}}try{await this[_0x1603f9(0x861)](_0x579eb7,_0x14e3fe[_0x1603f9(0x17b)]+0x1);}catch(_0x16bd40){throw this[_0x1603f9(0x29d)][_0x1603f9(0x91b)](_0x464689),_0x16bd40;}if(this[_0x1603f9(0x29d)][_0x1603f9(0x6b3)](_0x464689,_0x579eb7),_0x579eb7['chunksReceived']<_0x14e3fe[_0x1603f9(0x94f)])return;await this[_0x1603f9(0x110)](_0x464689),this['syncContent']&&(await this[_0x1603f9(0x8e2)](_0x14e3fe),_0x24a63b[_0x1603f9(0x8f3)](_0x4d4c54[_0x1603f9(0x13d)],{'type':_0x1603f9(0x319),'label':this['label'],'nodeId':this[_0x1603f9(0x894)]['getId'](),'nodeType':this[_0x1603f9(0x894)]['type'],'clusterId':this[_0x1603f9(0x853)],'kind':_0x366c21[_0x1603f9(0x608)][_0x1603f9(0x85d)],'path':_0x14e3fe['path'],'fileName':_0x14e3fe[_0x1603f9(0x82)],'fileType':_0x14e3fe[_0x1603f9(0x200)],'size':_0x579eb7[_0x1603f9(0x811)]}));const _0x40103e=this[_0x1603f9(0x4c8)][_0x1603f9(0x792)](_0x14e3fe[_0x1603f9(0x64f)])??[];for(const _0x57a134 of _0x40103e)await this[_0x1603f9(0x5bb)](_0x57a134);this[_0x1603f9(0x4c8)][_0x1603f9(0x91b)](_0x14e3fe[_0x1603f9(0x64f)]),this[_0x1603f9(0x5d8)][_0x1603f9(0x5a3)]({'event':_0x366c21['StorageEventType']['FileWrite'],'payload':{'file':{'kind':_0x366c21['ObjectKind'][_0x1603f9(0x85d)],'path':_0x14e3fe['path'],'type':_0x14e3fe['type'],'size':_0x579eb7['bytesReceived'],'name':_0x14e3fe[_0x1603f9(0x82)],'pathName':_0x464689,'status':this[_0x1603f9(0x3c4)]?_0x366c21[_0x1603f9(0x353)]['Synced']:_0x366c21['FileStatus'][_0x1603f9(0x877)]}}}),this['sendStats']();}async['manageBufferedChunks'](_0x2f1a8f,_0x5a0471){const _0x2ed271=_0x148812,_0x316153=_0x2f1a8f[_0x2ed271(0x495)];let _0x3fcc70=0x0;for(;_0x2f1a8f[_0x2ed271(0x1ab)]&&_0x2f1a8f[_0x2ed271(0x1ab)]['length']>0x0;){const _0x5b5847=_0x2f1a8f[_0x2ed271(0x1ab)][_0x2ed271(0x453)](_0x4b7c07=>_0x4b7c07['index']===_0x5a0471+0x1);if(!_0x5b5847)break;_0x2f1a8f['bufferedChunks']=_0x2f1a8f['bufferedChunks']['filter'](_0x144940=>_0x144940[_0x2ed271(0x17b)]!==_0x5a0471+0x1);try{await _0x316153[_0x2ed271(0x710)](_0x5b5847[_0x2ed271(0x912)]),_0x5a0471++;}catch(_0x2fb432){if(console[_0x2ed271(0x2d0)](_0x2ed271(0x2ad),_0x2fb432),_0x3fcc70>0x3)throw console['error'](_0x2ed271(0x80d),_0x2fb432),new _0x864d50(_0x864d50[_0x2ed271(0x753)]['ObjectStoreInvalidSyncMessage'],{'message':_0x2ed271(0x80d)});_0x3fcc70++;continue;}_0x2f1a8f['chunksReceived']+=0x1,_0x2f1a8f['bytesReceived']+=_0x5b5847[_0x2ed271(0x912)][_0x2ed271(0x5a5)];}}async[_0x148812(0x486)](_0x4fcfac){const _0x41f631=_0x148812;await this[_0x41f631(0x249)]['createFolder'](_0x4fcfac['path']);const [_0x5a7a02,_0x292db9]=_0x26348a(_0x4fcfac['path']);this[_0x41f631(0x5d8)][_0x41f631(0x5a3)]({'event':_0x366c21[_0x41f631(0x633)][_0x41f631(0x834)],'payload':{'folder':{'kind':_0x366c21[_0x41f631(0x608)][_0x41f631(0x2f3)],'name':_0x292db9,'path':_0x5a7a02,'pathName':_0x4fcfac[_0x41f631(0x64f)]}}});}async[_0x148812(0x5a2)](_0x25992b,_0x581844=!0x1){const _0x1378df=_0x148812;if(!_0x581844&&!this[_0x1378df(0x6c5)](_0x25992b))return;const _0x18969d=await this['deleteObject'](_0x25992b['path']),[_0x26a408,_0x42c674]=_0x26348a(_0x25992b['path']);this[_0x1378df(0x5d8)][_0x1378df(0x5a3)]({'event':_0x18969d===_0x366c21['ObjectKind'][_0x1378df(0x2f3)]?_0x366c21['StorageEventType'][_0x1378df(0x397)]:_0x366c21[_0x1378df(0x633)][_0x1378df(0x11a)],'payload':{'name':_0x42c674,'path':_0x26a408,'pathName':_0x25992b[_0x1378df(0x64f)]}}),this[_0x1378df(0x44b)]();}async[_0x148812(0x11e)](_0x15fabc,_0x54d4f0=!0x1){const _0x151ab0=_0x148812;if(!_0x54d4f0&&!this['shouldProcessTransaction'](_0x15fabc))return this[_0x151ab0(0x859)][_0x151ab0(0x6b3)](_0x15fabc[_0x151ab0(0x98e)],this[_0x151ab0(0x859)]['get'](_0x15fabc[_0x151ab0(0x64f)])??_0x15fabc[_0x151ab0(0x64f)]),void this['pendingFilesRename'][_0x151ab0(0x91b)](_0x15fabc[_0x151ab0(0x64f)]);this[_0x151ab0(0x859)][_0x151ab0(0x91b)](_0x15fabc['path']);const _0x4157d5=await this[_0x151ab0(0x249)][_0x151ab0(0x904)](_0x15fabc[_0x151ab0(0x64f)],_0x15fabc[_0x151ab0(0x98e)]),[_0x4b9c57,_0x517d53]=_0x26348a(_0x15fabc[_0x151ab0(0x64f)]),[_0x49a629,_0x44e6f5]=_0x26348a(_0x15fabc[_0x151ab0(0x98e)]);this[_0x151ab0(0x5d8)]['publish']({'event':_0x4157d5===_0x366c21[_0x151ab0(0x608)]['Folder']?_0x366c21[_0x151ab0(0x633)]['FolderMove']:_0x366c21[_0x151ab0(0x633)][_0x151ab0(0x7e4)],'payload':{'name':_0x44e6f5,'path':_0x49a629,'pathName':_0x15fabc[_0x151ab0(0x98e)],'oldName':_0x517d53,'oldPath':_0x4b9c57,'oldPathName':_0x15fabc[_0x151ab0(0x64f)]}}),this[_0x151ab0(0x44b)]();}['shouldProcessTransaction'](_0x2f6fce){const _0x52f012=_0x148812,_0x309545=this['pendingFilesRename']['get'](_0x2f6fce[_0x52f012(0x64f)])??_0x2f6fce[_0x52f012(0x64f)];let _0x284770=!0x1;for(const _0x4c58d6 of this[_0x52f012(0x29d)][_0x52f012(0x6fe)]())if(_0x4c58d6[_0x52f012(0x96a)](_0x309545)){const _0x10cf55=this[_0x52f012(0x4c8)][_0x52f012(0x792)](_0x4c58d6)??[];_0x10cf55['push'](_0x2f6fce),this['pendingFilesTransactions'][_0x52f012(0x6b3)](_0x4c58d6,_0x10cf55),_0x284770=!0x0;}return!_0x284770;}async[_0x148812(0x1cc)](_0xf422e1){const _0x25f75a=_0x148812;if(!_0xf422e1['id'])throw new _0x864d50(_0x864d50[_0x25f75a(0x753)]['ObjectStoreInvalidSyncMessage'],{'message':'Missing\x20transaction\x20id'});if(_0xf422e1[_0x25f75a(0x441)]!==this[_0x25f75a(0x111)])throw new _0x864d50(_0x864d50[_0x25f75a(0x753)][_0x25f75a(0x708)]);await this['transactionService'][_0x25f75a(0x6f5)](_0xf422e1,this[_0x25f75a(0xb2)]),await this[_0x25f75a(0x696)](_0xf422e1['id']);}async[_0x148812(0x696)](_0x427b7c){const _0x3d60c6=_0x148812;this['lastTransactionId']=_0x427b7c;const _0x27f421=new File([new Blob([this[_0x3d60c6(0x111)]])],_0x156ca6,{'type':_0x3d60c6(0x3e2)});await this[_0x3d60c6(0x81f)](_0x27f421,'/');}async[_0x148812(0x1c7)](_0x33ae64){const _0xba50=_0x148812;try{const _0x2cbaae=await this[_0xba50(0x792)](_0x33ae64[_0xba50(0x64f)]+'/'+_0x33ae64[_0xba50(0x82)],{'skipEncryption':_0x33ae64['skipEncryption']}),_0x116584=await _0x55b8b6(_0x2cbaae);if(''!==_0x33ae64[_0xba50(0x830)]&&_0x116584!==_0x33ae64['checksum'])return;_0x33ae64[_0xba50(0x461)]=this[_0xba50(0x894)]['getId'](),_0x33ae64['action']=_0x312176[_0xba50(0x2ca)],await this[_0xba50(0x6aa)](_0x33ae64,[_0x33ae64[_0xba50(0x21f)]]);}catch(_0x220e6b){}}async['handleFileRequestAnswer'](_0x38d620){const _0x456183=_0x148812,_0x57d7ef=_0x24dea2(_0x38d620[_0x456183(0x64f)],_0x38d620['name']);if(!this[_0x456183(0x839)][_0x456183(0x31f)](_0x57d7ef))return;const _0x20bb8d=this[_0x456183(0x839)][_0x456183(0x792)](_0x57d7ef);_0x20bb8d[_0x456183(0x89b)]=_0x312176['RequestFileSync'];const _0x4fa7c0=_0x38d620[_0x456183(0x461)];if(!_0x4fa7c0)throw new _0x864d50(_0x864d50[_0x456183(0x753)][_0x456183(0x7d5)],{'message':_0x456183(0x120)});if(this[_0x456183(0x839)][_0x456183(0x91b)](_0x57d7ef),this[_0x456183(0x623)][_0x456183(0x31f)](_0x4fa7c0)||this[_0x456183(0x623)][_0x456183(0x6b3)](_0x4fa7c0,new Map()),this[_0x456183(0x623)][_0x456183(0x792)](_0x4fa7c0)[_0x456183(0x6b3)](_0x57d7ef,[_0x20bb8d,this[_0x456183(0x420)](_0x4fa7c0,_0x57d7ef)]),_0x20bb8d[_0x456183(0x461)]=_0x4fa7c0,_0x20bb8d[_0x456183(0x3b4)]=this[_0x456183(0x29d)][_0x456183(0x792)](_0x57d7ef)?.[_0x456183(0x13f)]??0x0,0x0===_0x20bb8d['startIndex'])try{const [_0x2abf63,_0x4541ed]=await this[_0x456183(0x32f)](_0x38d620[_0x456183(0x82)],_0x38d620[_0x456183(0x64f)],_0x38d620[_0x456183(0x830)]);_0x2abf63&&(_0x20bb8d[_0x456183(0x3b4)]=_0x4541ed);}catch(_0x554ac0){}this[_0x456183(0x6aa)](_0x20bb8d,[_0x4fa7c0]);}async[_0x148812(0x1b5)](_0x4fb625){const _0x453ea1=_0x148812,_0x51121f=_0x24dea2(_0x4fb625[_0x453ea1(0x64f)],_0x4fb625[_0x453ea1(0x82)]),_0xdfed7f=await this[_0x453ea1(0x792)](_0x51121f,{'skipEncryption':_0x4fb625[_0x453ea1(0x788)]}),_0x2b9a98={..._0x4fb625,'answererId':this[_0x453ea1(0x894)][_0x453ea1(0x114)](),'action':_0x312176[_0x453ea1(0x977)],'startIndex':_0x4fb625[_0x453ea1(0x3b4)]??0x0};await this['sendFile'](_0xdfed7f,_0x2b9a98,[_0x4fb625[_0x453ea1(0x21f)]]);}async['sendFile'](_0x568403,_0x311106,_0xabf36c){let _0x2ba84a,_0x3f0efd;const _0x32a082=new Promise(async(_0x1c2d4b,_0x4760a3)=>{_0x2ba84a=_0x1c2d4b,_0x3f0efd=_0x4760a3;});return((async()=>{const _0x5b5601=a0_0x53e8,_0x49185d=Math[_0x5b5601(0x698)](_0x568403['size']/_0x13cfd0);let _0x82846b=_0x311106[_0x5b5601(0x3b4)]??0x0;const _0x1b06a6=_0x24dea2(_0x311106[_0x5b5601(0x64f)],_0x311106['name']);this[_0x5b5601(0x104)]['set'](_0x1b06a6,[!0x1,_0x32a082]);for await(const _0x3616b4 of async function*(_0x1407b5,_0x4d0b07=0x0,_0x4035fa){for await(const _0xa3e1f1 of _0x101864(_0x1407b5,_0x4d0b07,_0x4035fa))yield _0xa3e1f1;}(_0x568403,_0x82846b,this['waitForArrayBufferSize'])){const [_0x2f22cb]=this['fileSendingMap'][_0x5b5601(0x792)](_0x1b06a6)??[];if(_0x2f22cb)return this['fileSendingMap']['delete'](_0x1b06a6),void _0x3f0efd(new Error(_0x5b5601(0x1f0)));if(this[_0x5b5601(0x4c8)][_0x5b5601(0x31f)](_0x1b06a6)){const _0x311236=this[_0x5b5601(0x4c8)][_0x5b5601(0x792)](_0x1b06a6);for(const _0x3c385f of _0x311236)if(_0x3c385f[_0x5b5601(0x89b)]===_0x312176[_0x5b5601(0x68d)]||_0x3c385f[_0x5b5601(0x89b)]===_0x312176['Delete'])return;}const _0x423286={..._0x311106,'type':_0x568403[_0x5b5601(0x200)],'data':_0x3616b4,'index':_0x82846b,'total':_0x49185d};this['send'](_0x423286,_0xabf36c),_0x82846b++;}const _0x4ec703=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x4ec703),_0x2ba84a());});this[_0x5b5601(0x104)][_0x5b5601(0x91b)](_0x1b06a6);})()),_0x32a082;}async[_0x148812(0x8e2)](_0x43e9e5){const _0x233724=_0x148812;try{const _0x34cc55=_0x24dea2(_0x43e9e5[_0x233724(0x64f)],_0x43e9e5[_0x233724(0x82)]),_0x25f315=_0x34cc55+_0x352666;await this['deleteObject'](_0x25f315);const [,_0x438955]=this[_0x233724(0x623)][_0x233724(0x792)](_0x43e9e5[_0x233724(0x461)])?.[_0x233724(0x792)](_0x34cc55)??[];_0x438955&&(clearTimeout(_0x438955),this['pendingFilesSyncing'][_0x233724(0x792)](_0x43e9e5['answererId'])[_0x233724(0x91b)](_0x34cc55));}catch(_0x533097){}0x0===this[_0x233724(0x623)]['get'](_0x43e9e5['answererId'])?.[_0x233724(0x33c)]&&this[_0x233724(0x623)][_0x233724(0x91b)](_0x43e9e5[_0x233724(0x461)]),0x0===this[_0x233724(0x623)][_0x233724(0x33c)]&&0x0===this['objectRequests'][_0x233724(0x33c)]&&this[_0x233724(0x43f)]();}async['syncTransactions'](){const _0xbbe9ce=_0x148812;try{const _0x387202=await this[_0xbbe9ce(0x533)][_0xbbe9ce(0x238)](this[_0xbbe9ce(0xb2)],this['lastTransactionId']);for(const _0x3fc649 of _0x387202)await this[_0xbbe9ce(0x41f)](_0x3fc649,!0x0);}catch(_0x1e2616){if(_0x1e2616 instanceof _0x864d50&&_0x1e2616[_0xbbe9ce(0x6ed)]===_0x864d50[_0xbbe9ce(0x753)][_0xbbe9ce(0x656)]){await this[_0xbbe9ce(0x249)]['deleteObject'](_0x156ca6),delete this[_0xbbe9ce(0x111)];try{const _0x16816a=await this[_0xbbe9ce(0x249)][_0xbbe9ce(0x946)]('/',!0x1);for(const _0x3bfbfe of _0x16816a)await this[_0xbbe9ce(0x249)][_0xbbe9ce(0x714)](_0x3bfbfe['pathName']);}catch(_0x4cf8b0){}return await this[_0xbbe9ce(0x5c8)]();}throw _0x1e2616;}}async['syncPendingFiles'](){const _0xe74585=_0x148812,_0x1e2fdf=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x4fc109=async _0x4d19d0=>{const _0x37af3f=a0_0x53e8;for(const _0x2bed9d of _0x4d19d0){if(_0x2bed9d['kind']===_0x366c21['ObjectKind'][_0x37af3f(0x2f3)]){_0x2bed9d['entries']&&_0x2bed9d[_0x37af3f(0x653)][_0x37af3f(0x6a1)]>0x0&&await _0x4fc109(_0x2bed9d[_0x37af3f(0x653)]);continue;}if(_0x2bed9d[_0x37af3f(0x697)]!==_0x366c21['FileStatus']['Pending'])continue;const _0x2206d7=await this[_0x37af3f(0x792)](_0x2bed9d[_0x37af3f(0x179)]+_0x352666),_0x186cda=JSON[_0x37af3f(0x3d3)](await _0x2206d7['text']()),_0x2910fa=_0x2bed9d[_0x37af3f(0x82)][_0x37af3f(0x10f)](_0x352666,''),_0x21b83a={'payloadType':_0x369bd3[_0x37af3f(0x368)],'action':_0x312176[_0x37af3f(0xe8)],'sourceId':this['localNode'][_0x37af3f(0x114)](),'type':'','path':_0x2bed9d[_0x37af3f(0x64f)],'name':_0x2910fa,'checksum':_0x186cda[_0x37af3f(0x830)],'skipEncryption':_0x186cda['skipEncryption']},_0x56102b=_0x24dea2(_0x2bed9d[_0x37af3f(0x64f)],_0x2910fa);this[_0x37af3f(0x839)][_0x37af3f(0x6b3)](_0x56102b,_0x21b83a);}};await _0x4fc109(_0x1e2fdf),0x0===this['objectRequests'][_0xe74585(0x33c)]&&0x0===this[_0xe74585(0x623)][_0xe74585(0x33c)]&&this[_0xe74585(0x43f)]();}async['createPendingFileWrite'](_0x11e6ee,_0x26b632,_0x48ea87){const _0x396113=_0x148812,_0x4128da=new File([new Blob([JSON[_0x396113(0x605)](_0x48ea87)])],''+_0x11e6ee+_0x352666,{'type':_0x396113(0x3e2)});await this[_0x396113(0x81f)](_0x4128da,_0x26b632);}async[_0x148812(0x32f)](_0xa355ce,_0x463033,_0x4d6fce){const _0x2e7b70=_0x148812;try{const _0x14a618=_0x24dea2(_0x463033,_0xa355ce),_0x2c61ca=_0x14a618+_0x352666,_0x46e4f0=await this[_0x2e7b70(0x249)][_0x2e7b70(0x792)](_0x2c61ca),{checksum:_0x1c6b92,skipEncryption:_0x345c3f}=JSON[_0x2e7b70(0x3d3)](await _0x46e4f0[_0x2e7b70(0x625)]()),_0x421b5d=(await this['objectStoreConnector'][_0x2e7b70(0x792)](_0x14a618,{'skipEncryption':_0x345c3f}))['size'];return _0x1c6b92===_0x4d6fce&&_0x421b5d%_0x13cfd0==0x0?[!0x0,Math[_0x2e7b70(0x7d6)](_0x421b5d/_0x13cfd0)]:(await this[_0x2e7b70(0x249)][_0x2e7b70(0x714)](_0x14a618),[!0x1,0x0]);}catch(_0x22e7d3){return[!0x1,0x0];}}[_0x148812(0x420)](_0x1bef2e,_0x5644f0){const _0x2faeb5=_0x148812,[_0x430f22,_0x2693c0]=this['pendingFilesSyncing'][_0x2faeb5(0x792)](_0x1bef2e)?.[_0x2faeb5(0x792)](_0x5644f0)??[];return _0x2693c0&&clearTimeout(_0x2693c0),setTimeout(()=>{const _0x4d1f5b=_0x2faeb5,[_0x456570,_0x2d4328]=this[_0x4d1f5b(0x623)][_0x4d1f5b(0x792)](_0x1bef2e)[_0x4d1f5b(0x792)](_0x5644f0);this[_0x4d1f5b(0x310)](_0x456570,_0x2d4328);},0x927c0);}async['sendFileRequestPayload'](_0x46108d,_0x55045f){const _0x1e3909=_0x148812;clearTimeout(_0x55045f),_0x46108d[_0x1e3909(0x89b)]=_0x312176['RequestFile'],this[_0x1e3909(0x839)][_0x1e3909(0x6b3)](_0x24dea2(_0x46108d[_0x1e3909(0x64f)],_0x46108d[_0x1e3909(0x82)]),_0x46108d),this['send'](_0x46108d);}[_0x148812(0x61d)](_0x34cb04,_0x4238f2){const _0x3ff932=_0x148812;if(!this[_0x3ff932(0x3c4)])return;this[_0x3ff932(0x623)][_0x3ff932(0x31f)](_0x34cb04[_0x3ff932(0x461)])||this[_0x3ff932(0x623)]['set'](_0x34cb04[_0x3ff932(0x461)],new Map());const [_0x205825]=this[_0x3ff932(0x623)][_0x3ff932(0x792)](_0x34cb04[_0x3ff932(0x461)])[_0x3ff932(0x792)](_0x4238f2)??[{'payloadType':_0x369bd3['Request'],'action':_0x312176[_0x3ff932(0xe8)],'sourceId':this[_0x3ff932(0x894)][_0x3ff932(0x114)](),'type':_0x34cb04['type'],'name':_0x34cb04[_0x3ff932(0x82)],'path':_0x34cb04[_0x3ff932(0x64f)],'skipEncryption':_0x34cb04['skipEncryption'],'checksum':_0x34cb04['checksum'],'answererId':_0x34cb04[_0x3ff932(0x461)]}];this[_0x3ff932(0x623)][_0x3ff932(0x792)](_0x34cb04[_0x3ff932(0x461)])['set'](_0x4238f2,[_0x205825,this['getOrResetPendingFileTimeout'](_0x34cb04[_0x3ff932(0x461)],_0x4238f2)]);}async[_0x148812(0x81f)](_0x8bfa8d,_0x415ace,_0x2992a9){const _0x4c5b4c=_0x148812;this['isSyncing']&&(this[_0x4c5b4c(0x611)]+=0x1),await this[_0x4c5b4c(0x249)][_0x4c5b4c(0x81f)](_0x8bfa8d,_0x415ace,_0x2992a9);}async['deleteObject'](_0xeb5447){const _0x437074=_0x148812;try{const _0x29824a=await this[_0x437074(0x249)][_0x437074(0x714)](_0xeb5447);if(!_0xeb5447[_0x437074(0x2d3)](_0x352666))try{await this[_0x437074(0x249)][_0x437074(0x714)](_0xeb5447+_0x352666);}catch(_0x2617b7){}return this['isSyncing']&&_0x29824a===_0x366c21['ObjectKind'][_0x437074(0x85d)]&&(this['filesSynced']+=0x1),_0x29824a;}catch(_0x61304e){return await this[_0x437074(0x249)][_0x437074(0x714)](_0xeb5447+_0x352666);}}async[_0x148812(0x904)](_0x321537,_0x421307){const _0x48260e=_0x148812;try{const _0x15b06b=await this[_0x48260e(0x249)][_0x48260e(0x904)](_0x321537,_0x421307);if(!_0x321537[_0x48260e(0x2d3)](_0x352666))try{await this[_0x48260e(0x249)]['moveObject'](_0x321537+_0x352666,_0x421307+_0x352666);}catch(_0xd3d0fd){}return _0x15b06b;}catch(_0x6fbb6c){return await this[_0x48260e(0x249)][_0x48260e(0x904)](_0x321537+_0x352666,_0x421307+_0x352666);}}[_0x148812(0x44b)](){const _0x5538d6=_0x148812;this['debounceStats']&&clearTimeout(this[_0x5538d6(0x5b1)]),this['debounceStats']=setTimeout(async()=>{const _0x3a85f8=_0x5538d6;delete this[_0x3a85f8(0x5b1)];const _0x2594f2=await this[_0x3a85f8(0x249)]['calculateSize']('/');this[_0x3a85f8(0x3eb)]?.[_0x3a85f8(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74['Content'],'content':{'type':_0x457093[_0x3a85f8(0x299)],'label':this[_0x3a85f8(0xb2)],'stats':{'timestamp':Date['now'](),'storage':_0x2594f2,'messagesSent':this[_0x3a85f8(0x2a4)],'messagesReceived':this[_0x3a85f8(0x8f7)],'bytesSent':this[_0x3a85f8(0x64a)],'bytesReceived':this[_0x3a85f8(0x811)],'writes':this[_0x3a85f8(0x712)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x24a63b[_0x3a85f8(0x16f)](_0x4d4c54[_0x3a85f8(0x13d)],_0x3a85f8(0x311)+this[_0x3a85f8(0x853)]+_0x3a85f8(0x311)+this[_0x3a85f8(0xb2)],_0x2594f2);},_0x470373);}async['syncedFileExists'](_0x793b96){try{return await this['get'](_0x793b96),!0x0;}catch(_0x42902d){return!0x1;}}async[_0x148812(0x110)](_0x7fb04c){const _0x5f2b6c=_0x148812;if(!this[_0x5f2b6c(0x29d)][_0x5f2b6c(0x31f)](_0x7fb04c))return;const _0x28b781=this[_0x5f2b6c(0x29d)][_0x5f2b6c(0x792)](_0x7fb04c);if(_0x28b781[_0x5f2b6c(0x495)])try{await _0x28b781[_0x5f2b6c(0x495)][_0x5f2b6c(0x6ac)]();}catch(_0x314286){console[_0x5f2b6c(0x2d0)](_0x5f2b6c(0x532),_0x314286);}this[_0x5f2b6c(0x29d)]['delete'](_0x7fb04c);}}class _0x1ec62b extends _0x36c311{[_0x148812(0x894)];[_0x148812(0x853)];[_0x148812(0x6f0)]=new Map();[_0x148812(0x5b1)];constructor(_0x52e68e,_0x368cc6,_0x3630cd){const _0x36105a=_0x148812;if(_0x36105a(0x53a)!=typeof _0x368cc6)throw new _0x5f50cc(_0x128d3f[_0x36105a(0x930)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x52e68e,_0x368cc6),this[_0x36105a(0x894)]=_0x52e68e,this[_0x36105a(0x853)]=_0x3630cd,this[_0x36105a(0x44b)]();}[_0x148812(0x98a)](){const _0x343752=_0x148812;this[_0x343752(0x44b)]();}[_0x148812(0x16e)](){const _0x196050=_0x148812;return _0x366c21[_0x196050(0x8a4)][_0x196050(0x52c)];}[_0x148812(0x5a3)](_0x124874,_0x37b4fa){const _0xda420f=_0x148812;_0x24a63b['log'](_0x306624[_0xda420f(0x52c)],_0xda420f(0x66d),this[_0xda420f(0x894)][_0xda420f(0x114)](),_0x124874,_0x37b4fa),_0x24a63b[_0xda420f(0x8f3)](_0x4d4c54[_0xda420f(0x52c)],{'type':_0xda420f(0x5a3),'label':this[_0xda420f(0xb2)],'nodeId':this[_0xda420f(0x894)][_0xda420f(0x114)](),'nodeType':this[_0xda420f(0x894)][_0xda420f(0x200)],'clusterId':this[_0xda420f(0x853)],'remoteIds':_0x37b4fa??[],'contentType':_0x124874 instanceof File?_0x366c21[_0xda420f(0x8a4)]['File']:_0x366c21[_0xda420f(0x8a4)]['Data'],'size':_0x124874 instanceof File?_0x124874[_0xda420f(0x33c)]:JSON[_0xda420f(0x605)](_0x124874)[_0xda420f(0x6a1)]}),this[_0xda420f(0x44b)](),this['send'](_0x124874,_0x37b4fa);}[_0x148812(0x360)](_0x5b4418,_0x6feb02){const _0x31f370=_0x148812;if(this[_0x31f370(0x6f0)][_0x31f370(0x31f)](_0x5b4418))throw new _0x5f50cc(_0x128d3f[_0x31f370(0x46b)],_0x31f370(0x6c3));this['unsubscribeHandler'][_0x31f370(0x6b3)](_0x5b4418,this[_0x31f370(0x763)]((_0x1eff8b,_0xa1e3ad)=>{const _0x17d4dd=_0x31f370;_0x17d4dd(0x912)===_0x5b4418&&_0xa1e3ad instanceof File||!(_0x17d4dd(0x501)!==_0x5b4418||_0xa1e3ad instanceof File)||(_0x24a63b[_0x17d4dd(0x14c)](_0x306624[_0x17d4dd(0x52c)],_0x17d4dd(0x762),this[_0x17d4dd(0x894)][_0x17d4dd(0x114)](),_0x1eff8b,_0xa1e3ad),_0x24a63b[_0x17d4dd(0x8f3)](_0x4d4c54[_0x17d4dd(0x52c)],{'type':_0x17d4dd(0x360),'label':this['label'],'nodeId':this['localNode'][_0x17d4dd(0x114)](),'nodeType':this[_0x17d4dd(0x894)][_0x17d4dd(0x200)],'clusterId':this['clusterId'],'remoteId':_0x1eff8b,'contentType':_0x5b4418,'size':_0xa1e3ad instanceof File?_0xa1e3ad[_0x17d4dd(0x33c)]:JSON['stringify'](_0xa1e3ad)['length']}),this['sendStats'](),_0x6feb02(_0x1eff8b,_0xa1e3ad));}));}[_0x148812(0x4a0)](_0x36b393){const _0x373068=_0x148812;this[_0x373068(0x6f0)][_0x373068(0x792)](_0x36b393)?.(),this[_0x373068(0x6f0)][_0x373068(0x91b)](_0x36b393);}[_0x148812(0x1b2)](){const _0x1ed6db=_0x148812;this[_0x1ed6db(0x6f0)][_0x1ed6db(0x6bf)](_0x4efe66=>_0x4efe66()),clearTimeout(this[_0x1ed6db(0x5b1)]),delete this[_0x1ed6db(0x5b1)],super[_0x1ed6db(0x1b2)]();}[_0x148812(0x6ac)](){const _0x78075e=_0x148812;this[_0x78075e(0x3eb)]?.[_0x78075e(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74['Content'],'content':{'type':_0x457093[_0x78075e(0x96f)],'label':this[_0x78075e(0xb2)]}});}[_0x148812(0x44b)](){const _0x24b61b=_0x148812;this[_0x24b61b(0x5b1)]&&clearTimeout(this[_0x24b61b(0x5b1)]),this[_0x24b61b(0x5b1)]=setTimeout(()=>{const _0x4bd4e5=_0x24b61b;this['systemTopic']?.[_0x4bd4e5(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x4bd4e5(0x1c4)],'content':{'type':_0x457093[_0x4bd4e5(0x64e)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x4bd4e5(0x2a4)],'messagesReceived':this[_0x4bd4e5(0x8f7)],'bytesSent':this[_0x4bd4e5(0x64a)],'bytesReceived':this[_0x4bd4e5(0x811)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x470373);}}class _0xa1a96b extends _0x3a2d97{['localNode'];['internalId'];['availableTrackKinds'];['clusterId'];[_0x148812(0x6f0)];[_0x148812(0x24f)];[_0x148812(0xea)];['outgoingStreams']=new Map();[_0x148812(0x5e9)];[_0x148812(0x682)]=new Set();[_0x148812(0x55c)];[_0x148812(0x36d)]=_0x48de03();[_0x148812(0x800)]=new Map();constructor(_0x2a8810,_0xffac70,_0x385d1e,_0x5f1235,_0x109aed,_0x5ca38c){const _0x23bcfc=_0x148812;super(_0xffac70,_0x385d1e,new MediaStream()),this[_0x23bcfc(0x894)]=_0x2a8810,this[_0x23bcfc(0x927)]=_0x5f1235,this[_0x23bcfc(0x571)]=_0x109aed,this[_0x23bcfc(0x853)]=_0x5ca38c,this[_0x23bcfc(0x586)]['getTracks']()['forEach'](_0x122b97=>this[_0x23bcfc(0x30a)](_0x122b97));}[_0x148812(0x1b2)](){const _0x442749=_0x148812;this['outgoingStreams']['size']>0x0&&(this[_0x442749(0x7b7)][_0x442749(0x6bf)](_0x4c1e6c=>{const _0x4e348f=_0x442749;_0x4c1e6c[_0x4e348f(0x75f)](),_0x4c1e6c['destroy']();}),this['outgoingStreams']['clear']()),this[_0x442749(0x800)][_0x442749(0x6bf)](_0xe41e2a=>_0xe41e2a()),this[_0x442749(0x586)][_0x442749(0x8cf)]()[_0x442749(0x6bf)](_0x5556ee=>this[_0x442749(0x586)]['removeTrack'](_0x5556ee)),this[_0x442749(0xea)]&&(clearTimeout(this[_0x442749(0xea)]),delete this[_0x442749(0xea)]),this[_0x442749(0x24f)]?.(),super[_0x442749(0x1b2)]();}[_0x148812(0x8c5)](_0x18233b){const _0x127aef=_0x148812;this[_0x127aef(0x6f0)]=_0x18233b[_0x127aef(0x360)](({content:_0x338c19})=>{const _0x2d0ad6=_0x127aef;switch(_0x338c19['action']){case _0x4decb1['RemoteAdd']:if(_0x24a63b[_0x2d0ad6(0x14c)](_0x306624[_0x2d0ad6(0x737)],'Received\x20track',this[_0x2d0ad6(0x894)][_0x2d0ad6(0x114)](),this[_0x2d0ad6(0x55c)]),_0x338c19[_0x2d0ad6(0x495)]['id']!==this['internalId']||_0x338c19[_0x2d0ad6(0x55c)]!==this[_0x2d0ad6(0x55c)])return;this['removeTrack'](_0x338c19['track'][_0x2d0ad6(0x550)]),this['mediaStream']['addTrack'](_0x338c19[_0x2d0ad6(0x6a7)]);for(const [_0x3616df,_0x22fcf9]of this[_0x2d0ad6(0x7b7)][_0x2d0ad6(0x653)]())try{_0x22fcf9[_0x2d0ad6(0x483)](_0x338c19[_0x2d0ad6(0x6a7)]);}catch(_0x27f93c){_0x22fcf9['destroy'](),this[_0x2d0ad6(0x7b7)][_0x2d0ad6(0x91b)](_0x3616df);}this[_0x2d0ad6(0x30a)](_0x338c19[_0x2d0ad6(0x6a7)]),this[_0x2d0ad6(0x816)](),_0x2d0ad6(0x1c0)===_0x338c19[_0x2d0ad6(0x6a7)][_0x2d0ad6(0x550)]&&this[_0x2d0ad6(0x5e9)]&&(this[_0x2d0ad6(0x586)][_0x2d0ad6(0x196)]?setTimeout(()=>this['renderElement']?.[_0x2d0ad6(0x57a)](),0x0):setTimeout(()=>this[_0x2d0ad6(0x5e9)]?.[_0x2d0ad6(0x661)](),0x0),this['setupResizeHandler']());break;case _0x4decb1[_0x2d0ad6(0x642)]:if(_0x338c19[_0x2d0ad6(0x495)]['id']!==this[_0x2d0ad6(0x927)]||_0x338c19[_0x2d0ad6(0x55c)]!==this[_0x2d0ad6(0x55c)])return;this[_0x2d0ad6(0x44a)](_0x338c19[_0x2d0ad6(0x6a7)]['kind']),this[_0x2d0ad6(0x5e9)]&&'video'===_0x338c19[_0x2d0ad6(0x6a7)][_0x2d0ad6(0x550)]&&(this['resizeHandler']?.(),this[_0x2d0ad6(0x586)][_0x2d0ad6(0x8cf)]()[_0x2d0ad6(0x6a1)]>0x0?this[_0x2d0ad6(0x5e9)][_0x2d0ad6(0x661)]():this[_0x2d0ad6(0x5e9)]['srcObject']=null);}});}[_0x148812(0x8e4)](){const _0x3f4ab9=_0x148812;this[_0x3f4ab9(0x6f0)]?.(),this[_0x3f4ab9(0x800)][_0x3f4ab9(0x6bf)](_0x3532d3=>_0x3532d3()),delete this['unsubscribeHandler'];}[_0x148812(0x108)](){const _0x3e9ae8=_0x148812;return this[_0x3e9ae8(0x927)];}['setInternalId'](_0x1ace15){const _0x2ee1e9=_0x148812;this[_0x2ee1e9(0x927)]=_0x1ace15;}[_0x148812(0x7fa)](){const _0x2c14d3=_0x148812;return this[_0x2c14d3(0x571)];}[_0x148812(0x3cb)](_0x226065){const _0x4158b4=_0x148812;for(const _0x137eaf of _0x226065||this[_0x4158b4(0x571)])if(!this['mediaStream'][_0x4158b4(0x8cf)]()[_0x4158b4(0x453)](_0x18f4f2=>_0x18f4f2[_0x4158b4(0x550)]===_0x137eaf))return!0x1;return!0x0;}[_0x148812(0x6fb)](){const _0x3b0792=_0x148812;let _0xb576c9={'width':0x0,'height':0x0};const _0x2ef8b4=this[_0x3b0792(0x586)][_0x3b0792(0x42e)]();if(_0x2ef8b4['length']>0x0){const _0x50f887=_0x2ef8b4[0x0][_0x3b0792(0x10c)]();_0x50f887['width']&&_0x50f887[_0x3b0792(0x7e7)]&&(_0xb576c9={'width':_0x50f887[_0x3b0792(0x8f9)],'height':_0x50f887[_0x3b0792(0x7e7)]});}return _0xb576c9;}[_0x148812(0x466)](_0x37ee39){const _0x2e5383=_0x148812;for(const _0x30d7a0 of _0x37ee39)if(!this['subscribedTracks'][_0x2e5383(0x31f)](_0x30d7a0))return!0x1;return!0x0;}[_0x148812(0x973)](_0x1036f6,_0x2735d2){const _0x38a06e=_0x148812;if(!this[_0x38a06e(0x7b7)][_0x38a06e(0x31f)](_0x1036f6)){const _0x143da3=new _0x51f4c4(this[_0x38a06e(0x132)],this[_0x38a06e(0xb2)],this[_0x38a06e(0x586)],_0x1036f6,_0x2735d2),_0x3f5400=_0x143da3[_0x38a06e(0x448)](()=>{const _0x4eb4e1=_0x38a06e;_0x3f5400(),this['outgoingStreams'][_0x4eb4e1(0x792)](_0x1036f6)?.['destroy'](),this[_0x4eb4e1(0x7b7)][_0x4eb4e1(0x91b)](_0x1036f6);});this[_0x38a06e(0x7b7)][_0x38a06e(0x6b3)](_0x1036f6,_0x143da3),_0x143da3[_0x38a06e(0x364)](this[_0x38a06e(0x3eb)]);}return this[_0x38a06e(0x7b7)][_0x38a06e(0x792)](_0x1036f6);}[_0x148812(0x126)](){const _0x2f06e0=_0x148812;return this[_0x2f06e0(0x586)]['id'];}[_0x148812(0x527)](){const _0x16c514=_0x148812;return _0x366c21[_0x16c514(0x4f7)]['Default'];}['getSubscribedTracks'](){const _0x497dc9=_0x148812;return Array[_0x497dc9(0x928)](this[_0x497dc9(0x682)]);}['subscribe'](_0x44bf4e){const _0x2addaa=_0x148812;let _0x25a8b9=[];if(_0x44bf4e){_0x2addaa(0x781)!=typeof _0x44bf4e[_0x2addaa(0x1c0)]||_0x44bf4e[_0x2addaa(0x1c0)][_0x2addaa(0x5e9)]instanceof HTMLVideoElement||!this[_0x2addaa(0x5e9)]||(_0x44bf4e[_0x2addaa(0x1c0)]={'renderElement':this[_0x2addaa(0x5e9)]});try{(0x0,_0x366c21['isValidMediaSubscriptionParams'])(_0x44bf4e);}catch(_0x2f5394){throw new _0x5f50cc(_0x128d3f[_0x2addaa(0x386)],_0x2addaa(0x2c4));}_0x44bf4e[_0x2addaa(0x1c0)]&&(_0x25a8b9['push'](_0x2addaa(0x1c0)),'boolean'!=typeof _0x44bf4e[_0x2addaa(0x1c0)]&&_0x44bf4e['video'][_0x2addaa(0x5e9)]&&(this[_0x2addaa(0x5e9)]=_0x44bf4e[_0x2addaa(0x1c0)][_0x2addaa(0x5e9)],_0x44bf4e[_0x2addaa(0x1c0)][_0x2addaa(0x8bd)]||(_0x44bf4e[_0x2addaa(0x1c0)][_0x2addaa(0x8bd)]={'width':this['renderElement'][_0x2addaa(0x1e5)],'height':this[_0x2addaa(0x5e9)][_0x2addaa(0x472)]}),delete _0x44bf4e[_0x2addaa(0x1c0)][_0x2addaa(0x5e9)])),_0x44bf4e[_0x2addaa(0x828)]&&_0x25a8b9[_0x2addaa(0x5dc)]('audio');}else _0x25a8b9=this[_0x2addaa(0x7fa)]();this['isSubscribed'](_0x25a8b9)||(_0x25a8b9[_0x2addaa(0x6bf)](_0x4bf797=>this[_0x2addaa(0x682)][_0x2addaa(0x96d)](_0x4bf797)),this[_0x2addaa(0x3eb)][_0x2addaa(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x2addaa(0x1c4)],'content':{'type':_0x457093[_0x2addaa(0x893)],'label':this[_0x2addaa(0xb2)],'ownerId':this[_0x2addaa(0x132)][_0x2addaa(0x114)](),'trackKinds':_0x25a8b9,'params':_0x44bf4e}}),_0x24a63b['logServiceEvent'](_0x4d4c54[_0x2addaa(0x996)],{'type':_0x2addaa(0x360),'label':this['label'],'nodeId':this['localNode'][_0x2addaa(0x114)](),'nodeType':this[_0x2addaa(0x894)][_0x2addaa(0x200)],'clusterId':this['clusterId'],'sourceId':this[_0x2addaa(0x132)][_0x2addaa(0x114)](),'streamId':this[_0x2addaa(0x927)],'trackKinds':_0x25a8b9}));}[_0x148812(0x81a)](_0x3d6d58){const _0x17d73c=_0x148812;try{(0x0,_0x366c21[_0x17d73c(0x455)])(_0x3d6d58);}catch(_0x367e32){throw new _0x5f50cc(_0x128d3f['RemoteMediaStreamInvalidSubscriptionParams'],_0x17d73c(0x2c4));}this[_0x17d73c(0xea)]&&clearTimeout(this[_0x17d73c(0xea)]),this['updateDebounce']=setTimeout(()=>{const _0x5c6b1e=_0x17d73c;delete this['updateDebounce'],this[_0x5c6b1e(0x3eb)][_0x5c6b1e(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x5c6b1e(0x1c4)],'content':{'type':_0x457093[_0x5c6b1e(0x6d2)],'label':this[_0x5c6b1e(0xb2)],'ownerId':this['owner'][_0x5c6b1e(0x114)](),'params':_0x3d6d58}});},0x1f4);}[_0x148812(0x4a0)](_0x5287a0){const _0x2288ee=_0x148812;_0x5287a0||(_0x5287a0=this[_0x2288ee(0x7fa)]()),(_0x5287a0=Array[_0x2288ee(0x6c1)](_0x5287a0)?_0x5287a0:[_0x5287a0])['forEach'](_0x526fec=>this[_0x2288ee(0x682)][_0x2288ee(0x91b)](_0x526fec)),this[_0x2288ee(0x3eb)][_0x2288ee(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74['Content'],'content':{'type':_0x457093[_0x2288ee(0x6fa)],'label':this[_0x2288ee(0xb2)],'ownerId':this[_0x2288ee(0x132)][_0x2288ee(0x114)](),'trackKinds':_0x5287a0,'remainingTracks':this['subscribedTracks'][_0x2288ee(0x33c)]}});}[_0x148812(0x49e)](_0x493685){const _0x3d0eb5=_0x148812;return this[_0x3d0eb5(0x36d)][_0x3d0eb5(0x360)](_0x493685);}[_0x148812(0x10e)](){const _0x3bb201=_0x148812;return this[_0x3bb201(0x55c)];}[_0x148812(0x517)](_0x51a47f){const _0x4554da=_0x148812;this[_0x4554da(0x55c)]!==_0x51a47f&&(this[_0x4554da(0x55c)]=_0x51a47f,this['providerListener']['publish'](_0x51a47f));}['unsubscribeTrackEndedListener'](_0x3496c7){const _0x565a98=_0x148812;this[_0x565a98(0x800)][_0x565a98(0x792)](_0x3496c7)?.(),this[_0x565a98(0x800)][_0x565a98(0x91b)](_0x3496c7);}[_0x148812(0x44a)](_0x58d29c){const _0x54ece3=_0x148812,_0x2bc64a=this[_0x54ece3(0x586)][_0x54ece3(0x8cf)]()[_0x54ece3(0x453)](_0x24cbc9=>_0x24cbc9['kind']===_0x58d29c);_0x2bc64a&&(this['mediaStream']['removeTrack'](_0x2bc64a),this[_0x54ece3(0x7b7)]['forEach'](_0x390269=>_0x390269[_0x54ece3(0x44a)](_0x58d29c)),this[_0x54ece3(0x800)]['get'](_0x58d29c)?.());}[_0x148812(0x816)](){const _0x5ce4af=_0x148812;this[_0x5ce4af(0x5e9)]&&(this[_0x5ce4af(0x5e9)][_0x5ce4af(0x6dd)]&&this[_0x5ce4af(0x5e9)][_0x5ce4af(0x6dd)]===this['mediaStream']||(this['renderElement']['srcObject']=this[_0x5ce4af(0x586)]));}[_0x148812(0x4a6)](){const _0x247c00=_0x148812;if(this[_0x247c00(0x5e9)]&&!this[_0x247c00(0x24f)]&&'undefined'!=typeof ResizeObserver){let _0x28d795=this['renderElement']['clientWidth'],_0x485082=this['renderElement'][_0x247c00(0x472)];const _0x117328=new ResizeObserver(_0x2c927f=>{const _0x31408f=_0x247c00,{width:_0x2cf3a6,height:_0x4dc21e}=_0x2c927f[0x0][_0x31408f(0x14b)];_0x28d795===_0x2cf3a6&&_0x485082===_0x4dc21e||(_0x28d795=Math[_0x31408f(0x8df)](_0x2cf3a6),_0x485082=Math[_0x31408f(0x8df)](_0x4dc21e),this[_0x31408f(0x81a)]({'video':{'maxResolution':{'width':_0x2cf3a6,'height':_0x4dc21e}}}));});_0x117328[_0x247c00(0x25d)](this[_0x247c00(0x5e9)]),this[_0x247c00(0x24f)]=()=>_0x117328[_0x247c00(0x94d)]();}}[_0x148812(0x221)](_0x136a4b){const _0x592dea=_0x148812,_0x3b86ff=[];for(const _0x3b58c6 of this['subscribedTracks'])this[_0x592dea(0x44a)](_0x3b58c6),_0x3b86ff[_0x592dea(0x5dc)](_0x3b58c6);this[_0x592dea(0x55c)]&&this[_0x592dea(0x3eb)][_0x592dea(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x592dea(0x1c4)],'content':{'type':_0x457093['RemoteMediaStreamTrackFail'],'label':this[_0x592dea(0xb2)],'streamId':this[_0x592dea(0x927)],'ownerId':this[_0x592dea(0x132)][_0x592dea(0x114)](),'providerId':this[_0x592dea(0x55c)],'trackKinds':_0x3b86ff}});}[_0x148812(0x30a)](_0x4bc4f7){const _0x11f681=_0x148812,_0x4da4ee=()=>this[_0x11f681(0x221)](_0x4bc4f7);_0x4bc4f7[_0x11f681(0x76c)]('ended',_0x4da4ee),_0x4bc4f7[_0x11f681(0x76c)]('mute',_0x4da4ee),this['trackEndedListeners'][_0x11f681(0x6b3)](_0x4bc4f7[_0x11f681(0x550)],()=>{const _0x336b89=_0x11f681;_0x4bc4f7[_0x336b89(0x597)](_0x336b89(0x7d2),_0x4da4ee),_0x4bc4f7[_0x336b89(0x597)](_0x336b89(0x58c),_0x4da4ee),this[_0x336b89(0x800)][_0x336b89(0x91b)](_0x4bc4f7[_0x336b89(0x550)]);});}}class _0x57d000 extends _0x36c311{['localNode'];[_0x148812(0x853)];[_0x148812(0x945)];['db'];[_0x148812(0x5b1)];[_0x148812(0x712)]=0x0;[_0x148812(0x144)]=0x0;[_0x148812(0x4c6)]=!0x1;constructor(_0x105d2d,_0x4fc902,_0xb9568b,_0x153adc,_0x4652f3){const _0x528674=_0x148812;if(_0x528674(0x53a)!=typeof _0x4fc902)throw new _0x5f50cc(_0x128d3f['VectorDatabaseNameNotString'],_0x528674(0x187));super(_0x105d2d,_0x4fc902),this['localNode']=_0x105d2d,this[_0x528674(0x853)]=_0xb9568b,this[_0x528674(0x945)]=_0x153adc;const _0x28d047=_0x528674(0x311)+this['vendorId']+_0x528674(0x311)+this['clusterId']+_0x528674(0x311)+this[_0x528674(0xb2)];this['db']=new _0x4652f3(_0x28d047),this['sendStats']();}[_0x148812(0x291)](){return this['isLoaded'];}['setIsLoaded'](_0x15afc6){const _0x54a984=_0x148812;this[_0x54a984(0x4c6)]=_0x15afc6;}[_0x148812(0x1b2)](){const _0x3257a1=_0x148812;clearTimeout(this[_0x3257a1(0x5b1)]),delete this[_0x3257a1(0x5b1)],super['destroy']();}['close'](){const _0x19dfd7=_0x148812;this['systemTopic'][_0x19dfd7(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x19dfd7(0x1c4)],'content':{'type':_0x457093[_0x19dfd7(0x805)],'label':this[_0x19dfd7(0xb2)]}});}['reset'](){const _0x3b07e4=_0x148812;this[_0x3b07e4(0x44b)]();}['getContentType'](){const _0x33b825=_0x148812;return _0x366c21['ContentType'][_0x33b825(0x2e2)];}[_0x148812(0xc3)](_0xfeeab2,_0x3700ba,_0x2cfd1e,_0x3d0ea2){const _0x124fc6=_0x148812,_0x4cf7b8=this['db']['search'](_0xfeeab2,_0x3700ba,_0x2cfd1e,_0x3d0ea2);return this['reads']+=0x1,_0x24a63b['logServiceEvent'](_0x4d4c54[_0x124fc6(0x2e2)],{'type':_0x124fc6(0xc3),'label':this['label'],'nodeId':this[_0x124fc6(0x894)][_0x124fc6(0x114)](),'nodeType':this[_0x124fc6(0x894)][_0x124fc6(0x200)],'clusterId':this[_0x124fc6(0x853)],'size':0x0}),this['sendStats'](),_0x4cf7b8;}[_0x148812(0x262)](_0x4eae4c,_0x280774,_0x1b8744,_0x2b55fc){const _0x9597b5=_0x148812;this['db']['insert'](_0x4eae4c,_0x280774,_0x1b8744,_0x2b55fc),this[_0x9597b5(0x712)]+=0x1,_0x24a63b['logServiceEvent'](_0x4d4c54[_0x9597b5(0x2e2)],{'type':'insert','label':this[_0x9597b5(0xb2)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x9597b5(0x894)]['type'],'clusterId':this[_0x9597b5(0x853)],'size':_0x2b55fc[_0x9597b5(0x88)]((_0x337a5d,_0x139586)=>_0x337a5d+_0x139586[_0x9597b5(0x6a1)],0x0)}),this[_0x9597b5(0x44b)]();}['remove'](_0x3737e6){const _0x5eef59=_0x148812;this['db']['remove'](_0x3737e6),this[_0x5eef59(0x712)]+=0x1,_0x24a63b['logServiceEvent'](_0x4d4c54['VectorDatabase'],{'type':'remove','label':this[_0x5eef59(0xb2)],'nodeId':this[_0x5eef59(0x894)]['getId'](),'nodeType':this[_0x5eef59(0x894)]['type'],'clusterId':this[_0x5eef59(0x853)],'size':0x0}),this[_0x5eef59(0x44b)]();}[_0x148812(0x26c)](_0x2cac4c){const _0x943ba4=_0x148812;this['db'][_0x943ba4(0x26c)](_0x2cac4c);}[_0x148812(0x548)](_0x965377){const _0x260ac7=_0x148812;this['db'][_0x260ac7(0x548)](_0x965377);}[_0x148812(0x44b)](){const _0x586a9c=_0x148812;this[_0x586a9c(0x5b1)]&&clearTimeout(this[_0x586a9c(0x5b1)]),this[_0x586a9c(0x5b1)]=setTimeout(async()=>{const _0x2a69c7=_0x586a9c;delete this[_0x2a69c7(0x5b1)];const _0x1afc4f=this['db']['getBuffer']()[_0x2a69c7(0x5a5)];this[_0x2a69c7(0x3eb)]['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x2a69c7(0x1c4)],'content':{'type':_0x457093[_0x2a69c7(0x66a)],'label':this['label'],'stats':{'timestamp':Date[_0x2a69c7(0x847)](),'storage':_0x1afc4f,'messagesSent':this[_0x2a69c7(0x2a4)],'messagesReceived':this[_0x2a69c7(0x8f7)],'bytesSent':this[_0x2a69c7(0x64a)],'bytesReceived':this['bytesReceived'],'writes':this[_0x2a69c7(0x712)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x24a63b[_0x2a69c7(0x16f)](_0x4d4c54['VectorDatabase'],_0x2a69c7(0x311)+this[_0x2a69c7(0x853)]+'ccc'+this[_0x2a69c7(0xb2)],_0x1afc4f);},_0x470373);}}class _0x2bd43c{['id'];[_0x148812(0x41c)];[_0x148812(0x2fd)];constructor(_0x5aa924,_0x4a92c4=new Set(),_0x4e19f3){this['id']=_0x5aa924,this['remoteConnections']=_0x4a92c4,this['rank']=_0x4e19f3;}['close'](){const _0x2aed90=_0x148812;this[_0x2aed90(0x2fd)]=void 0x0,this[_0x2aed90(0x41c)][_0x2aed90(0x970)]();}[_0x148812(0x114)](){return this['id'];}[_0x148812(0x6bd)](){const _0x11285e=_0x148812;return this[_0x11285e(0x2fd)];}[_0x148812(0x470)](){return this['remoteConnections'];}}class _0x36f897 extends _0x2bd43c{['id'];[_0x148812(0x631)];[_0x148812(0x802)];[_0x148812(0x41c)];[_0x148812(0x2fd)];[_0x148812(0x200)]=_0x366c21[_0x148812(0x3a8)][_0x148812(0x86d)];constructor(_0x50a070,_0x2614f9,_0xdbad6d,_0x2b75c9=new Set(),_0x1c12eb){const _0x1fb09c=_0x148812;super(_0x50a070,_0x2b75c9,_0x1c12eb),this['id']=_0x50a070,this['displayName']=_0x2614f9,this['email']=_0xdbad6d,this[_0x1fb09c(0x41c)]=_0x2b75c9,this[_0x1fb09c(0x2fd)]=_0x1c12eb;}[_0x148812(0x14e)](){const _0x525161=_0x148812;return this[_0x525161(0x631)];}[_0x148812(0x3b2)](){const _0x1eface=_0x148812;return this[_0x1eface(0x802)];}}class _0x990ad5{[_0x148812(0x945)];[_0x148812(0x853)];[_0x148812(0x8fe)];constructor(_0x43b34e,_0x46a752){const _0x4bb202=_0x148812;this[_0x4bb202(0x945)]=_0x43b34e,this[_0x4bb202(0x853)]=_0x46a752,this['clusterKey']='ccc'+this[_0x4bb202(0x945)]+'ccc'+this['clusterId'];}async[_0x148812(0x6f5)](_0x32e231,_0x2d0841){const _0x5604ca=_0x148812,_0x46b766=(0x0,_0x4da9ca[_0x5604ca(0x964)])(_0x22b478[_0x5604ca(0x53c)](),_0x5604ca(0x699)+this[_0x5604ca(0x8fe)]+_0x5604ca(0x3cf)+_0x2d0841+'/transactions/'+_0x32e231['id']),_0x359a73=(0x0,_0x4da9ca[_0x5604ca(0x6c6)])(_0x46b766);_0x359a73[_0x5604ca(0x957)](),_0x32e231[_0x5604ca(0x441)]||delete _0x32e231[_0x5604ca(0x441)];try{await(0x0,_0x4da9ca[_0x5604ca(0x6b3)])(_0x46b766,_0x32e231);}catch(_0x444050){throw await _0x359a73[_0x5604ca(0x7a4)](),new _0x864d50(_0x864d50[_0x5604ca(0x753)][_0x5604ca(0x298)]);}if(!0x1===(await(0x0,_0x4da9ca['runTransaction'])((0x0,_0x4da9ca[_0x5604ca(0x964)])(_0x22b478[_0x5604ca(0x53c)](),'clusters/'+this[_0x5604ca(0x8fe)]+_0x5604ca(0x3cf)+_0x2d0841+_0x5604ca(0x481)),_0x115562=>_0x115562?_0x115562===_0x32e231[_0x5604ca(0x441)]?_0x32e231['id']:void 0x0:_0x32e231[_0x5604ca(0x441)]?_0x32e231['parentId']:_0x32e231['id']))[_0x5604ca(0x92f)])throw await(0x0,_0x4da9ca[_0x5604ca(0x957)])(_0x46b766),await _0x359a73[_0x5604ca(0x7a4)](),new _0x864d50(_0x864d50[_0x5604ca(0x753)]['ObjectStoreNotSynced']);await _0x359a73[_0x5604ca(0x7a4)]();}async[_0x148812(0x238)](_0x4708c7,_0x801790){const _0x1b626f=_0x148812;let _0x303f48=[];const _0x25861b=(0x0,_0x4da9ca['ref'])(_0x22b478[_0x1b626f(0x53c)](),_0x1b626f(0x699)+this['clusterKey']+_0x1b626f(0x3cf)+_0x4708c7+_0x1b626f(0x6e4));let _0x20d16a=await(0x0,_0x4da9ca[_0x1b626f(0x792)])((0x0,_0x4da9ca['query'])(_0x25861b,(0x0,_0x4da9ca[_0x1b626f(0x16a)])(0x65),(0x0,_0x4da9ca[_0x1b626f(0x4a3)])()));if(!_0x20d16a[_0x1b626f(0x15d)]()){if(void 0x0!==_0x801790)throw new _0x864d50(_0x864d50[_0x1b626f(0x753)][_0x1b626f(0x656)]);return _0x303f48;}const _0xb50b77=_0x20d16a['val']();for(;Object['keys'](_0x20d16a[_0x1b626f(0x702)]())[_0x1b626f(0x6a1)]>0x64;){const _0x3cc1ab=Object[_0x1b626f(0x6fe)](_0x20d16a['val']()),_0x1a93a9=_0x3cc1ab[_0x3cc1ab[_0x1b626f(0x6a1)]-0x1];_0x20d16a=await(0x0,_0x4da9ca[_0x1b626f(0x792)])((0x0,_0x4da9ca['query'])(_0x25861b,(0x0,_0x4da9ca[_0x1b626f(0x16a)])(0x65),(0x0,_0x4da9ca[_0x1b626f(0x6d9)])(_0x1a93a9),(0x0,_0x4da9ca[_0x1b626f(0x4a3)])())),Object['assign'](_0xb50b77,_0x20d16a['val']());}if(_0x303f48=Object[_0x1b626f(0x910)](_0xb50b77)[_0x1b626f(0x5b5)](_0x42b42f=>_0x1b626f(0x53a)!=typeof _0x42b42f),0x0===_0x303f48[_0x1b626f(0x6a1)]&&void 0x0!==_0x801790)throw new _0x864d50(_0x864d50[_0x1b626f(0x753)][_0x1b626f(0x656)]);if(_0x303f48[_0x1b626f(0x6a1)]>0x0&&void 0x0!==_0x801790&&!_0x303f48['find'](_0x22ad6c=>_0x22ad6c['id']===_0x801790))throw new _0x864d50(_0x864d50[_0x1b626f(0x753)][_0x1b626f(0x656)]);const _0xcc1fdf=[];let _0x4482df=_0x303f48[_0x1b626f(0x453)](_0x453fea=>_0x453fea[_0x1b626f(0x441)]===_0x801790);for(;_0x4482df;)_0xcc1fdf[_0x1b626f(0x5dc)](_0x4482df),_0x4482df=_0x303f48[_0x1b626f(0x453)](_0x28e18d=>_0x28e18d['parentId']===_0x4482df['id']);return _0xcc1fdf;}}class _0x19dce4{[_0x148812(0x5bf)];[_0x148812(0x2c0)];[_0x148812(0x864)];[_0x148812(0x1be)]=new Map();[_0x148812(0x4af)]=new Map();[_0x148812(0x882)]=new Map();[_0x148812(0x82e)]=new Map();[_0x148812(0x56a)]=new Map();[_0x148812(0x960)]=new Map();['vectorDatabases']=new Map();[_0x148812(0x4b2)]=new Map();[_0x148812(0x4d0)]=new Map();['jobWorkers']=new Map();[_0x148812(0x533)];constructor(_0x114aae,_0x872461,_0x1af065){const _0x2aae91=_0x148812;this[_0x2aae91(0x5bf)]=_0x114aae,this['options']=_0x872461,this['searchApiKey']=_0x1af065,this['transactionService']=new _0x990ad5(this[_0x2aae91(0x5bf)][_0x2aae91(0x945)],this['configs']['clusterId']);}['close'](_0xb214cc=!0x1){const _0x5d6b18=_0x148812;this[_0x5d6b18(0x4af)][_0x5d6b18(0x6bf)]((_0x41fadb,_0x5c6e78)=>{const _0x1fb502=_0x5d6b18;_0x41fadb[_0x1fb502(0x6bf)]((_0x3d5e4c,_0x5e4bda)=>{this['removeRemoteMediaStream'](_0x5c6e78,_0x5e4bda);});}),_0xb214cc||(_0x1bef94[_0x5d6b18(0x970)](),this[_0x5d6b18(0x1be)][_0x5d6b18(0x6bf)]((_0x5b7974,_0x509317)=>{const _0x2296c2=_0x5d6b18;this[_0x2296c2(0x41b)](_0x509317);}),this[_0x5d6b18(0x882)]['forEach']((_0x1540c3,_0x150b0a)=>{this['removePubSubTopic'](_0x150b0a);}),this[_0x5d6b18(0x82e)][_0x5d6b18(0x6bf)]((_0x50aed4,_0x726dc8)=>{const _0x1db291=_0x5d6b18;this[_0x1db291(0x4d5)](_0x726dc8);}),this[_0x5d6b18(0x56a)][_0x5d6b18(0x6bf)]((_0x40df46,_0xc1f983)=>{const _0x42797c=_0x5d6b18;this[_0x42797c(0x1fe)](_0xc1f983);}),this[_0x5d6b18(0x960)][_0x5d6b18(0x6bf)]((_0x22daf1,_0x2392d3)=>{const _0x29183d=_0x5d6b18;this[_0x29183d(0x7aa)](_0x2392d3);}),this[_0x5d6b18(0x4d0)][_0x5d6b18(0x6bf)]((_0x2586c2,_0x433161)=>{this['removeJobDispatcher'](_0x433161);}),this[_0x5d6b18(0x897)][_0x5d6b18(0x6bf)]((_0x4fe601,_0x5acfc)=>{const _0x2dae9d=_0x5d6b18;this[_0x2dae9d(0xf2)](_0x5acfc);}),this[_0x5d6b18(0x1ec)][_0x5d6b18(0x6bf)]((_0x141bab,_0x3ed901)=>{const _0x25c30e=_0x5d6b18;this[_0x25c30e(0x880)](_0x3ed901);}),this[_0x5d6b18(0x4b2)][_0x5d6b18(0x6bf)]((_0x3f1f92,_0x48a55e)=>{const _0x5608a8=_0x5d6b18;this[_0x5608a8(0x565)](_0x48a55e);}));}['createObjectStoreBucket'](_0x494183,_0x5e3da8){const _0x53756e=_0x148812;if(this[_0x53756e(0x82e)][_0x53756e(0x31f)](_0x494183))throw new _0x5f50cc(_0x128d3f[_0x53756e(0x315)],_0x53756e(0x5a4));const _0x142f0d=new _0xadc99f(this[_0x53756e(0x5bf)]['localNode'],_0x494183,this[_0x53756e(0x5bf)][_0x53756e(0x853)],this['configs']['vendorId'],this['transactionService'],_0x5e3da8,()=>this[_0x53756e(0x5bf)][_0x53756e(0x990)]['waitForArrayBufferSize']());return this[_0x53756e(0x82e)][_0x53756e(0x6b3)](_0x494183,_0x142f0d),this[_0x53756e(0x5bf)][_0x53756e(0x990)][_0x53756e(0x428)](_0x142f0d),_0x142f0d;}[_0x148812(0x35a)](_0x311595,_0x4e1b8a){const _0x3d3bef=_0x148812;if(this[_0x3d3bef(0x82e)][_0x3d3bef(0x31f)](_0x311595))throw new _0x5f50cc(_0x128d3f['ExternalStorageConnectionAlreadyExists'],_0x3d3bef(0x47f));const _0x3b5483=new _0x854fe6(this[_0x3d3bef(0x5bf)][_0x3d3bef(0x894)],_0x311595,this['configs']['clusterId'],this['configs'][_0x3d3bef(0x945)],_0x4e1b8a);return this[_0x3d3bef(0x56a)][_0x3d3bef(0x6b3)](_0x311595,_0x3b5483),this[_0x3d3bef(0x5bf)][_0x3d3bef(0x990)]['registerSystemSource'](_0x3b5483),_0x3b5483;}async[_0x148812(0x929)](_0x50b4cf,_0xbc1ae5,_0x280990){const _0x3fcf6d=_0x148812;if(this[_0x3fcf6d(0x960)][_0x3fcf6d(0x31f)](_0x50b4cf))throw new _0x5f50cc(_0x128d3f[_0x3fcf6d(0x8de)],'Database\x20already\x20exists');try{const _0x5530ed=this['configs'][_0x3fcf6d(0x990)][_0x3fcf6d(0x150)][_0x3fcf6d(0x949)](this['configs'][_0x3fcf6d(0x990)]),_0x3310f8=new _0x3c10e8(this[_0x3fcf6d(0x5bf)][_0x3fcf6d(0x894)],_0x50b4cf,this[_0x3fcf6d(0x5bf)][_0x3fcf6d(0x853)],this['configs'][_0x3fcf6d(0x945)],_0xbc1ae5,_0x280990,_0x5530ed);return this[_0x3fcf6d(0x960)][_0x3fcf6d(0x6b3)](_0x50b4cf,_0x3310f8),this[_0x3fcf6d(0x5bf)]['mediator'][_0x3fcf6d(0x428)](_0x3310f8),_0x3310f8;}catch(_0x43df45){if(_0x43df45 instanceof _0x5f50cc)throw _0x43df45;throw new _0x864d50(_0x864d50[_0x3fcf6d(0x753)][_0x3fcf6d(0x867)],{'label':_0x50b4cf,'clusterId':this['configs'][_0x3fcf6d(0x853)],'vendorId':this[_0x3fcf6d(0x5bf)]['vendorId']});}}async[_0x148812(0x73f)](_0x526550,_0x3eddb4){const _0x9f814c=_0x148812;if(this[_0x9f814c(0x4d0)][_0x9f814c(0x31f)](_0x526550))throw new _0x5f50cc(_0x128d3f[_0x9f814c(0xca)],'Job\x20Dispatcher\x20already\x20exists');try{const _0x42d664=new _0x2be506(this[_0x9f814c(0x5bf)][_0x9f814c(0x894)],_0x526550,_0x3eddb4);return this['jobDispatchers'][_0x9f814c(0x6b3)](_0x526550,_0x42d664),this[_0x9f814c(0x5bf)][_0x9f814c(0x990)]['registerSystemSource'](_0x42d664),_0x42d664;}catch(_0x381d3f){if(_0x381d3f instanceof _0x5f50cc)throw _0x381d3f;throw new _0x864d50(_0x864d50[_0x9f814c(0x753)][_0x9f814c(0x671)],{'label':_0x526550,'clusterId':this['configs'][_0x9f814c(0x853)],'vendorId':this[_0x9f814c(0x5bf)][_0x9f814c(0x945)]});}}async[_0x148812(0x1cf)](_0x503919,_0x2c35fe){const _0xd4b12=_0x148812;if(this[_0xd4b12(0x4d0)][_0xd4b12(0x31f)](_0x503919))throw new _0x5f50cc(_0x128d3f['GenerativeAIContextAlreadyExists'],_0xd4b12(0x580));if(this[_0xd4b12(0x897)][_0xd4b12(0x31f)](_0x503919))throw new _0x5f50cc(_0x128d3f[_0xd4b12(0x6d6)],_0xd4b12(0x17f));try{const _0x39f860=new _0x182725(this[_0xd4b12(0x5bf)]['localNode'],_0x503919,this[_0xd4b12(0x5bf)][_0xd4b12(0x945)],_0x2c35fe);return this['jobDispatchers']['set'](_0x503919,_0x39f860),this[_0xd4b12(0x5bf)][_0xd4b12(0x990)][_0xd4b12(0x428)](_0x39f860),_0x39f860;}catch(_0x2ebef8){if(_0x2ebef8 instanceof _0x5f50cc)throw _0x2ebef8;throw new _0x864d50(_0x864d50[_0xd4b12(0x753)]['GenerativeAIContextCreationFailed'],{'label':_0x503919,'clusterId':this['configs'][_0xd4b12(0x853)],'vendorId':this['configs'][_0xd4b12(0x945)]});}}async[_0x148812(0x16d)](_0x4cad38,_0x259e18,_0x164453,_0x246417,_0x36eb62,_0x19b5ca){const _0x41484e=_0x148812;if(this[_0x41484e(0x897)][_0x41484e(0x31f)](_0x4cad38))throw new _0x5f50cc(_0x128d3f['GenerativeAIWorkerAlreadyExists'],_0x41484e(0x3f0));if(this['jobDispatchers'][_0x41484e(0x31f)](_0x4cad38))throw new _0x5f50cc(_0x128d3f[_0x41484e(0x6d6)],_0x41484e(0x17f));try{const _0x2d630f=new _0x415a41(this[_0x41484e(0x5bf)]['localNode'],_0x4cad38,this['configs']['vendorId'],_0x259e18,this,_0x164453,_0x246417,_0x36eb62,this[_0x41484e(0x864)],_0x19b5ca);return this['jobWorkers'][_0x41484e(0x6b3)](_0x4cad38,_0x2d630f),this[_0x41484e(0x5bf)][_0x41484e(0x990)][_0x41484e(0x428)](_0x2d630f),_0x2d630f;}catch(_0x1585ca){if(_0x1585ca instanceof _0x5f50cc)throw _0x1585ca;throw new _0x864d50(_0x864d50[_0x41484e(0x753)][_0x41484e(0x8ce)],{'label':_0x4cad38,'clusterId':this[_0x41484e(0x5bf)][_0x41484e(0x853)],'vendorId':this['configs'][_0x41484e(0x945)]});}}[_0x148812(0x102)](_0xae3287,_0x13a911){const _0x321023=_0x148812;if(this[_0x321023(0x4b2)]['has'](_0xae3287))throw new _0x5f50cc(_0x128d3f[_0x321023(0x731)],_0x321023(0x164));try{const _0x58e7be=new _0x543a6d(this[_0x321023(0x5bf)]['localNode'],_0xae3287,this[_0x321023(0x5bf)][_0x321023(0x853)],this[_0x321023(0x5bf)][_0x321023(0x945)],_0x13a911);return this['graphDatabases'][_0x321023(0x6b3)](_0xae3287,_0x58e7be),this[_0x321023(0x5bf)][_0x321023(0x990)][_0x321023(0x428)](_0x58e7be),_0x58e7be;}catch(_0x471db3){if(_0x471db3 instanceof _0x5f50cc)throw _0x471db3;throw new _0x864d50(_0x864d50[_0x321023(0x753)]['GraphDatabaseCreationFailed'],{'label':_0xae3287,'clusterId':this[_0x321023(0x5bf)][_0x321023(0x853)],'vendorId':this['configs'][_0x321023(0x945)]});}}['createLocalDynamicMediaStream'](_0x4cafef,_0x4f8590){const _0x30bea8=_0x148812;if(this[_0x30bea8(0x1be)][_0x30bea8(0x31f)](_0x4cafef))throw new _0x5f50cc(_0x128d3f[_0x30bea8(0x520)],_0x30bea8(0x884));if(!this['options']['audioContext'])throw new _0x5f50cc(_0x128d3f[_0x30bea8(0x665)],'AudioContext\x20is\x20not\x20available');const _0x119312=new _0x248697(this['configs'][_0x30bea8(0x894)],_0x4cafef,_0x4f8590,this[_0x30bea8(0x2c0)][_0x30bea8(0xe6)],this['options'][_0x30bea8(0x5ca)],this[_0x30bea8(0x5bf)][_0x30bea8(0x853)]);return this[_0x30bea8(0x1be)][_0x30bea8(0x6b3)](_0x4cafef,_0x119312),this[_0x30bea8(0x5bf)][_0x30bea8(0x990)][_0x30bea8(0x428)](_0x119312),_0x119312[_0x30bea8(0x5a3)](),_0x119312;}['createLocalMediaStream'](_0x51b2cf,_0x280166){const _0x265bc7=_0x148812;if(this[_0x265bc7(0x1be)][_0x265bc7(0x31f)](_0x51b2cf))throw new _0x5f50cc(_0x128d3f[_0x265bc7(0x520)],'Stream\x20already\x20exists');const _0x1c849d=new _0x52349b(this['configs'][_0x265bc7(0x894)],_0x51b2cf,_0x280166,this[_0x265bc7(0x5bf)][_0x265bc7(0x853)]);return this['localMediaStreams'][_0x265bc7(0x6b3)](_0x51b2cf,_0x1c849d),this[_0x265bc7(0x5bf)][_0x265bc7(0x990)][_0x265bc7(0x428)](_0x1c849d),_0x1c849d[_0x265bc7(0x5a3)](),_0x1c849d;}['createPubSubTopic'](_0xc6f239){const _0x2624fd=_0x148812;if(this[_0x2624fd(0x882)][_0x2624fd(0x31f)](_0xc6f239))throw new _0x5f50cc(_0x128d3f[_0x2624fd(0x942)],'PubSub\x20already\x20exists');const _0xa383b6=new _0x1ec62b(this[_0x2624fd(0x5bf)]['localNode'],_0xc6f239,this['configs'][_0x2624fd(0x853)]);return this[_0x2624fd(0x882)]['set'](_0xc6f239,_0xa383b6),this[_0x2624fd(0x5bf)]['mediator'][_0x2624fd(0x428)](_0xa383b6),_0xa383b6;}[_0x148812(0x324)](_0x9e9f18,_0x552b7b,_0x19e240,_0x1aadb6){const _0x2e7a78=_0x148812;this['remoteMediaStreams'][_0x2e7a78(0x31f)](_0x9e9f18)||this[_0x2e7a78(0x4af)]['set'](_0x9e9f18,new Map());const _0x59269c=this[_0x2e7a78(0x4af)]['get'](_0x9e9f18);if(_0x59269c[_0x2e7a78(0x31f)](_0x552b7b))throw new _0x5f50cc(_0x128d3f['RemoteMediaStreamAlreadyExists'],_0x2e7a78(0x2ba));const _0x3b793c=new _0x36f897(_0x9e9f18,'',''),_0x452bf1=new _0xa1a96b(this[_0x2e7a78(0x5bf)]['localNode'],_0x3b793c,_0x552b7b,_0x19e240,_0x1aadb6,this[_0x2e7a78(0x5bf)]['clusterId']);return _0x59269c[_0x2e7a78(0x6b3)](_0x552b7b,_0x452bf1),this[_0x2e7a78(0x5bf)][_0x2e7a78(0x990)]['registerSystemSource'](_0x452bf1),_0x452bf1;}[_0x148812(0x896)](_0x28e5b4,_0x340ea1){const _0x5ae075=_0x148812;if(this[_0x5ae075(0x1ec)][_0x5ae075(0x31f)](_0x28e5b4))throw new _0x5f50cc(_0x128d3f[_0x5ae075(0x4f1)],_0x5ae075(0x164));try{const _0x5a4d3b=new _0x57d000(this[_0x5ae075(0x5bf)]['localNode'],_0x28e5b4,this[_0x5ae075(0x5bf)][_0x5ae075(0x853)],this[_0x5ae075(0x5bf)][_0x5ae075(0x945)],_0x340ea1);return this[_0x5ae075(0x1ec)][_0x5ae075(0x6b3)](_0x28e5b4,_0x5a4d3b),this[_0x5ae075(0x5bf)][_0x5ae075(0x990)][_0x5ae075(0x428)](_0x5a4d3b),_0x5a4d3b;}catch(_0x495207){if(_0x495207 instanceof _0x5f50cc)throw _0x495207;throw new _0x864d50(_0x864d50['codes'][_0x5ae075(0x215)],{'label':_0x28e5b4,'clusterId':this[_0x5ae075(0x5bf)][_0x5ae075(0x853)],'vendorId':this[_0x5ae075(0x5bf)]['vendorId']});}}[_0x148812(0x223)](_0x2518a9){const _0x35f6c5=_0x148812,_0x50163e=Array[_0x35f6c5(0x928)](this[_0x35f6c5(0x82e)][_0x35f6c5(0x910)]());return _0x2518a9?_0x50163e[_0x35f6c5(0x5b5)](_0x2518a9):_0x50163e;}[_0x148812(0x3b1)](_0x5f036c){const _0xde7c08=_0x148812,_0x383517=Array['from'](this['externalStorageConnections'][_0xde7c08(0x910)]());return _0x5f036c?_0x383517[_0xde7c08(0x5b5)](_0x5f036c):_0x383517;}[_0x148812(0x4c9)](_0x298ca4){const _0x44c21c=_0x148812,_0x36a34e=Array['from'](this[_0x44c21c(0x960)]['values']());return _0x298ca4?_0x36a34e['filter'](_0x298ca4):_0x36a34e;}[_0x148812(0x5f5)](_0x9ea1a2){const _0x415416=_0x148812,_0x168cdd=Array[_0x415416(0x928)](this[_0x415416(0x4d0)]['values']());return _0x9ea1a2?_0x168cdd[_0x415416(0x5b5)](_0x9ea1a2):_0x168cdd;}[_0x148812(0x7cf)](_0x2c8f50){const _0x34a297=_0x148812,_0x50026c=Array[_0x34a297(0x928)](this[_0x34a297(0x897)]['values']());return _0x2c8f50?_0x50026c[_0x34a297(0x5b5)](_0x2c8f50):_0x50026c;}[_0x148812(0x273)](_0x1d7929){const _0x5a39e7=_0x148812,_0x57d1fb=Array[_0x5a39e7(0x928)](this['jobDispatchers'][_0x5a39e7(0x910)]())['filter'](_0x58f6ac=>_0x58f6ac instanceof _0x182725);return _0x1d7929?_0x57d1fb[_0x5a39e7(0x5b5)](_0x1d7929):_0x57d1fb;}['getGenerativeAIWorkers'](_0x509afd){const _0x82e6ad=_0x148812,_0x4f8b09=Array[_0x82e6ad(0x928)](this[_0x82e6ad(0x897)]['values']())[_0x82e6ad(0x5b5)](_0x3b7959=>_0x3b7959 instanceof _0x415a41);return _0x509afd?_0x4f8b09['filter'](_0x509afd):_0x4f8b09;}[_0x148812(0x8f6)](_0x5e37b2){const _0x9b2c45=_0x148812,_0x1c5440=Array['from'](this[_0x9b2c45(0x4b2)][_0x9b2c45(0x910)]());return _0x5e37b2?_0x1c5440[_0x9b2c45(0x5b5)](_0x5e37b2):_0x1c5440;}[_0x148812(0x95b)](_0x5ede37){const _0x2e0263=_0x148812,_0x4aba09=Array[_0x2e0263(0x928)](this[_0x2e0263(0x1be)][_0x2e0263(0x910)]());return _0x5ede37?_0x4aba09['filter'](_0x5ede37):_0x4aba09;}['getPubSubTopics'](_0x56a99b){const _0x184b81=_0x148812,_0x1d1ed3=Array[_0x184b81(0x928)](this['pubSubTopics'][_0x184b81(0x910)]());return _0x56a99b?_0x1d1ed3[_0x184b81(0x5b5)](_0x56a99b):_0x1d1ed3;}[_0x148812(0x8d4)](_0x44bfb7){const _0x1a87e1=_0x148812,_0x10983c=Array[_0x1a87e1(0x928)](this[_0x1a87e1(0x4af)]['values']())['reduce']((_0x5538a9,_0x183526)=>[..._0x5538a9,...Array['from'](_0x183526[_0x1a87e1(0x910)]())],[]);return _0x44bfb7?_0x10983c['filter'](_0x44bfb7):_0x10983c;}[_0x148812(0x92)](_0x20db95){const _0x39d330=_0x148812,_0x2cd441=Array[_0x39d330(0x928)](this[_0x39d330(0x1ec)][_0x39d330(0x910)]());return _0x20db95?_0x2cd441[_0x39d330(0x5b5)](_0x20db95):_0x2cd441;}[_0x148812(0x5be)](_0x48e28d){const _0x48424b=_0x148812,_0x332f56=this[_0x48424b(0x82e)]['get'](_0x48e28d);if(!_0x332f56)throw new _0x5f50cc(_0x128d3f[_0x48424b(0x4ff)],_0x48424b(0x42b));return _0x332f56;}['getExternalStorageConnection'](_0x1d2e75){const _0x27515e=_0x148812,_0x37dd42=_0x1d2e75[_0x27515e(0x3ea)]('-'),_0x320b9f=this[_0x27515e(0x56a)][_0x27515e(0x792)](_0x37dd42[0x1]);if(!_0x320b9f)throw new _0x5f50cc(_0x128d3f[_0x27515e(0x5a0)],_0x27515e(0x346));return _0x320b9f;}['getGraphDatabase'](_0x829779){const _0x2d2ee3=_0x148812,_0x299569=this[_0x2d2ee3(0x4b2)][_0x2d2ee3(0x792)](_0x829779);if(!_0x299569)throw new _0x5f50cc(_0x128d3f[_0x2d2ee3(0x7f9)],_0x2d2ee3(0x392));return _0x299569;}[_0x148812(0xe0)](_0x24bcf6){const _0x387f04=_0x148812,_0x3c2b1d=this[_0x387f04(0x960)][_0x387f04(0x792)](_0x24bcf6);if(!_0x3c2b1d)throw new _0x5f50cc(_0x128d3f['KeyValueDatabaseDoesNotExist'],_0x387f04(0x4a5));return _0x3c2b1d;}[_0x148812(0x82b)](_0x634048){const _0x3f6c73=_0x148812,_0x26e44c=this[_0x3f6c73(0x882)][_0x3f6c73(0x792)](_0x634048);if(!_0x26e44c)throw new _0x5f50cc(_0x128d3f[_0x3f6c73(0x8c9)],_0x3f6c73(0x208));return _0x26e44c;}[_0x148812(0x32c)](_0x276550){const _0x7f559c=_0x148812,_0x40c2c0=this[_0x7f559c(0x1ec)]['get'](_0x276550);if(!_0x40c2c0)throw new _0x5f50cc(_0x128d3f['VectorDatabaseDoesNotExist'],_0x7f559c(0x34a));return _0x40c2c0;}[_0x148812(0x6af)](_0x55cb2e){const _0x543d22=_0x148812;switch(_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0x200)]){case _0x457093[_0x543d22(0x603)]:this[_0x543d22(0xe5)](_0x55cb2e[_0x543d22(0x92a)]);break;case _0x457093[_0x543d22(0x4f4)]:this[_0x543d22(0x844)](_0x55cb2e['content']);break;case _0x457093[_0x543d22(0x2c7)]:this[_0x543d22(0x26b)](_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0xb2)]);break;case _0x457093[_0x543d22(0x384)]:this[_0x543d22(0xf2)](_0x55cb2e[_0x543d22(0x92a)]['label']);break;case _0x457093[_0x543d22(0x64d)]:this['removeLocalMediaStream'](_0x55cb2e[_0x543d22(0x92a)]['label']);break;case _0x457093[_0x543d22(0x96f)]:this[_0x543d22(0x626)](_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0xb2)]);break;case _0x457093[_0x543d22(0x5c4)]:this[_0x543d22(0x4d5)](_0x55cb2e['content']['label']);break;case _0x457093['CloseExternalStorageConnection']:this[_0x543d22(0x1fe)](_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0xb2)]);break;case _0x457093['CloseKeyValueDatabase']:this[_0x543d22(0x7aa)](_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0xb2)]);break;case _0x457093[_0x543d22(0x805)]:this['removeVectorDatabase'](_0x55cb2e[_0x543d22(0x92a)]['label']);break;case _0x457093['CloseGraphDatabase']:this[_0x543d22(0x565)](_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0xb2)]);break;case _0x457093[_0x543d22(0x6fa)]:this['handleContentUnsubscribeMediaStream'](_0x55cb2e[_0x543d22(0x92a)]);break;case _0x457093[_0x543d22(0x932)]:this['keyValueDatabases'][_0x543d22(0x792)](_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0xb2)])?.[_0x543d22(0x2d2)](_0x55cb2e[_0x543d22(0x21f)],_0x55cb2e['content'][_0x543d22(0x8b5)]);break;case _0x457093['KeyValueDatabaseContentSynchronized']:this[_0x543d22(0x960)][_0x543d22(0x792)](_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0xb2)])?.[_0x543d22(0x787)](_0x55cb2e['sourceId'],_0x55cb2e['content']['mmrRoot']);break;case _0x457093['KeyValueDatabaseContentAvailable']:this[_0x543d22(0x960)][_0x543d22(0x792)](_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0xb2)])?.[_0x543d22(0x7d7)](_0x55cb2e[_0x543d22(0x21f)],_0x55cb2e['content']['peaks']);break;case _0x457093[_0x543d22(0x3c9)]:this[_0x543d22(0x960)][_0x543d22(0x792)](_0x55cb2e[_0x543d22(0x92a)]['label'])?.['sendPeakTransactions'](_0x55cb2e[_0x543d22(0x21f)],_0x55cb2e['content'][_0x543d22(0x12d)]);break;case _0x457093[_0x543d22(0xf8)]:this[_0x543d22(0x960)]['get'](_0x55cb2e['content'][_0x543d22(0xb2)])?.[_0x543d22(0x6b8)](_0x55cb2e[_0x543d22(0x21f)],_0x55cb2e[_0x543d22(0x92a)]['transactionIds']);break;case _0x457093[_0x543d22(0x2f0)]:this['keyValueDatabases'][_0x543d22(0x792)](_0x55cb2e[_0x543d22(0x92a)]['label'])?.[_0x543d22(0x3d8)](_0x55cb2e[_0x543d22(0x21f)],_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0x75d)]);break;case _0x457093['LocalMediaStreamTrackFail']:this[_0x543d22(0x5bf)][_0x543d22(0x990)][_0x543d22(0x89e)](_0x543d22(0x522),{'label':_0x55cb2e[_0x543d22(0x92a)][_0x543d22(0xb2)],'trackKinds':_0x55cb2e[_0x543d22(0x92a)]['trackKinds']});}}[_0x148812(0x6c4)]({content:_0x2ace70}){const _0x2abff4=_0x148812;switch(_0x2ace70[_0x2abff4(0x200)]){case _0x4b25da[_0x2abff4(0x95a)]:this[_0x2abff4(0x521)](_0x2ace70),this['notifyObjectStoreOfNodeJoin'](_0x2ace70);break;case _0x4b25da['NodeLeave']:this[_0x2abff4(0x883)](_0x2ace70),this['notifyObjectStoreOfNodeLeave'](_0x2ace70);}}[_0x148812(0x304)](_0x296fd0){const _0xbc9c15=_0x148812;switch(_0x296fd0[_0xbc9c15(0x92a)]['type']){case _0x43bb47[_0xbc9c15(0x893)]:this[_0xbc9c15(0x286)](_0x296fd0['sourceId'],_0x296fd0[_0xbc9c15(0x92a)]);break;case _0x43bb47[_0xbc9c15(0x6d2)]:this[_0xbc9c15(0x3d2)](_0x296fd0[_0xbc9c15(0x21f)],_0x296fd0['content']);break;case _0x43bb47[_0xbc9c15(0x6fa)]:this['handleUnsubscribeMediaStream'](_0x296fd0['sourceId'],_0x296fd0[_0xbc9c15(0x92a)]);}}[_0x148812(0x4ca)](_0xd731df){const _0xec038=_0x148812;if(0x0===_0xd731df['remainingTracks'])this['remoteMediaStreams'][_0xec038(0x792)](_0xd731df['ownerId'])?.[_0xec038(0x792)](_0xd731df['label'])?.[_0xec038(0x1b2)]();else{const _0x59e53b=this[_0xec038(0x4af)][_0xec038(0x792)](_0xd731df[_0xec038(0x8e5)])?.['get'](_0xd731df[_0xec038(0xb2)]);if(!_0x59e53b)return;_0xd731df[_0xec038(0x4e2)]['forEach'](_0x53ccb0=>_0x59e53b[_0xec038(0x74a)](_0x53ccb0));}}['handlePublishMediaStream'](_0x11e0cc){const _0x2d8728=_0x148812,{label:_0x38f351,ownerId:_0x5184be,stream:{streamId:_0x5bb0c1,availableTrackKinds:_0x42bdfd}}=_0x11e0cc;if(this[_0x2d8728(0x4af)]['get'](_0x5184be)?.['has'](_0x38f351))return void _0x24a63b[_0x2d8728(0x14c)](_0x306624[_0x2d8728(0x1c4)],_0x2d8728(0x567),_0x5bb0c1);const _0x76b490=this[_0x2d8728(0x324)](_0x5184be,_0x38f351,_0x5bb0c1,_0x42bdfd);this[_0x2d8728(0x5bf)][_0x2d8728(0x990)][_0x2d8728(0x89e)](_0x2d8728(0x2a1),{'ownerId':_0x5184be,'stream':_0x76b490});}[_0x148812(0x844)]({ownerId:_0x4cc058,label:_0x47b2bb}){const _0x12209e=_0x148812;this['removeRemoteMediaStream'](_0x4cc058,_0x47b2bb),this[_0x12209e(0x5bf)][_0x12209e(0x990)][_0x12209e(0x89e)]('content-unpublish-media',{'ownerId':_0x4cc058,'label':_0x47b2bb});}['handleSubscribeMediaStream'](_0x4b1847,_0x278659){const _0x55a3b5=_0x148812,{ownerId:_0x19a0b4,label:_0x16afe3}=_0x278659;let _0x3db379;_0x3db379=_0x19a0b4!==this[_0x55a3b5(0x5bf)][_0x55a3b5(0x894)][_0x55a3b5(0x114)]()?this['remoteMediaStreams']['get'](_0x19a0b4)['get'](_0x16afe3):this['localMediaStreams'][_0x55a3b5(0x792)](_0x16afe3),_0x3db379[_0x55a3b5(0x973)](_0x4b1847,_0x278659[_0x55a3b5(0xc8)])['subscribe'](_0x278659,_0x3db379['getPriority']());}[_0x148812(0x3d2)](_0x3a9ed8,_0x41aa1c){const _0x4e46a3=_0x148812,{ownerId:_0x5c3e43,label:_0x47e215}=_0x41aa1c;let _0x43b70b;_0x43b70b=_0x5c3e43!==this[_0x4e46a3(0x5bf)][_0x4e46a3(0x894)][_0x4e46a3(0x114)]()?this[_0x4e46a3(0x4af)][_0x4e46a3(0x792)](_0x5c3e43)[_0x4e46a3(0x792)](_0x47e215):this[_0x4e46a3(0x1be)]['get'](_0x47e215),_0x43b70b[_0x4e46a3(0x973)](_0x3a9ed8,_0x41aa1c['params'])[_0x4e46a3(0x81a)](_0x41aa1c);}[_0x148812(0x4ad)](_0x49bd50,_0x20834c){const _0x3fec9a=_0x148812,{ownerId:_0x445301,label:_0x84a86}=_0x20834c;let _0x1b9842;_0x1b9842=_0x445301!==this[_0x3fec9a(0x5bf)][_0x3fec9a(0x894)][_0x3fec9a(0x114)]()?this[_0x3fec9a(0x4af)][_0x3fec9a(0x792)](_0x445301)['get'](_0x84a86):this[_0x3fec9a(0x1be)][_0x3fec9a(0x792)](_0x84a86),_0x1b9842[_0x3fec9a(0x973)](_0x49bd50)['unsubscribe'](_0x20834c);}[_0x148812(0x521)]({id:_0xa74938}){const _0x3f36e7=_0x148812;this[_0x3f36e7(0x95b)]()[_0x3f36e7(0x6bf)](_0x316d6c=>{const _0x2af13e=_0x3f36e7;_0x316d6c[_0x2af13e(0x5a3)](_0xa74938);});}[_0x148812(0x883)]({id:_0x1a068f}){const _0x5957c2=_0x148812;this[_0x5957c2(0x8d4)](_0x1b0096=>_0x1b0096['getOwnerId']()===_0x1a068f)[_0x5957c2(0x6bf)](_0x337528=>{const _0x4534de=_0x5957c2;this[_0x4534de(0x21e)](_0x337528[_0x4534de(0x6ce)](),_0x337528[_0x4534de(0x5cf)]());});}[_0x148812(0x24e)]({id:_0x180dec}){const _0x2d6cd4=_0x148812;this[_0x2d6cd4(0x82e)][_0x2d6cd4(0x6bf)](_0x3d9f92=>_0x3d9f92[_0x2d6cd4(0x694)](_0x180dec));}[_0x148812(0x92e)]({id:_0x35cac4}){const _0x18d81b=_0x148812;this[_0x18d81b(0x82e)]['forEach'](_0x144c27=>_0x144c27[_0x18d81b(0x883)](_0x35cac4));}[_0x148812(0x26b)](_0x40093f){const _0x118ffc=_0x148812;if(!this[_0x118ffc(0x4d0)][_0x118ffc(0x31f)](_0x40093f))throw new _0x5f50cc(_0x128d3f['JobDispatcherDoesNotExist'],_0x118ffc(0x940));const _0x5024e2=this[_0x118ffc(0x4d0)]['get'](_0x40093f);this[_0x118ffc(0x4d0)][_0x118ffc(0x91b)](_0x40093f),_0x5024e2[_0x118ffc(0x1b2)](),this[_0x118ffc(0x5bf)][_0x118ffc(0x990)][_0x118ffc(0x447)](_0x5024e2);}['removeJobWorker'](_0x3f7fc4){const _0x50d4e3=_0x148812;if(!this['jobWorkers'][_0x50d4e3(0x31f)](_0x3f7fc4))throw new _0x5f50cc(_0x128d3f['JobWorkerDoesNotExist'],_0x50d4e3(0x7bf));const _0x534819=this[_0x50d4e3(0x897)]['get'](_0x3f7fc4);this[_0x50d4e3(0x897)][_0x50d4e3(0x91b)](_0x3f7fc4),_0x534819['destroy'](),this[_0x50d4e3(0x5bf)]['mediator'][_0x50d4e3(0x447)](_0x534819);}[_0x148812(0x4d5)](_0x32f87e){const _0x481c34=_0x148812;if(!this[_0x481c34(0x82e)][_0x481c34(0x31f)](_0x32f87e))throw new _0x5f50cc(_0x128d3f[_0x481c34(0x4ff)],_0x481c34(0x93e));const _0x36b8ac=this[_0x481c34(0x82e)][_0x481c34(0x792)](_0x32f87e);this[_0x481c34(0x82e)][_0x481c34(0x91b)](_0x32f87e),_0x36b8ac[_0x481c34(0x1b2)](),this[_0x481c34(0x5bf)]['mediator'][_0x481c34(0x447)](_0x36b8ac);}[_0x148812(0x1fe)](_0x7e2d0d){const _0x2bbda2=_0x148812;if(!this[_0x2bbda2(0x56a)][_0x2bbda2(0x31f)](_0x7e2d0d))throw new _0x5f50cc(_0x128d3f[_0x2bbda2(0x5a0)],'Connection\x20does\x20not\x20exist');const _0x51c7a0=this['externalStorageConnections']['get'](_0x7e2d0d);this[_0x2bbda2(0x56a)][_0x2bbda2(0x91b)](_0x7e2d0d),_0x51c7a0['destroy'](),this[_0x2bbda2(0x5bf)][_0x2bbda2(0x990)]['unregisterSystemSource'](_0x51c7a0);}[_0x148812(0x626)](_0x37e27f){const _0x26bcfc=_0x148812;if(!this[_0x26bcfc(0x882)][_0x26bcfc(0x31f)](_0x37e27f))throw new _0x5f50cc(_0x128d3f[_0x26bcfc(0x8c9)],_0x26bcfc(0x93e));const _0x4fb8ea=this[_0x26bcfc(0x882)][_0x26bcfc(0x792)](_0x37e27f);this[_0x26bcfc(0x882)][_0x26bcfc(0x91b)](_0x37e27f),_0x4fb8ea['destroy'](),this[_0x26bcfc(0x5bf)]['mediator'][_0x26bcfc(0x447)](_0x4fb8ea);}[_0x148812(0x7aa)](_0x132f5e){const _0x4b55ca=_0x148812;if(!this[_0x4b55ca(0x960)]['has'](_0x132f5e))throw new _0x5f50cc(_0x128d3f['KeyValueDatabaseDoesNotExist'],_0x4b55ca(0x443));const _0x4c6233=this[_0x4b55ca(0x960)][_0x4b55ca(0x792)](_0x132f5e);this[_0x4b55ca(0x960)][_0x4b55ca(0x91b)](_0x132f5e),_0x4c6233[_0x4b55ca(0x1b2)](),this[_0x4b55ca(0x5bf)][_0x4b55ca(0x990)][_0x4b55ca(0x447)](_0x4c6233);}[_0x148812(0x880)](_0x275ccb){const _0x44f05b=_0x148812;if(!this[_0x44f05b(0x1ec)][_0x44f05b(0x31f)](_0x275ccb))throw new _0x5f50cc(_0x128d3f[_0x44f05b(0x8eb)],'Database\x20does\x20not\x20exist');const _0x2ade62=this[_0x44f05b(0x1ec)][_0x44f05b(0x792)](_0x275ccb);this['vectorDatabases']['delete'](_0x275ccb),_0x2ade62[_0x44f05b(0x1b2)](),this[_0x44f05b(0x5bf)][_0x44f05b(0x990)][_0x44f05b(0x447)](_0x2ade62);}['removeGraphDatabase'](_0x451695){const _0x107b72=_0x148812;if(!this[_0x107b72(0x4b2)][_0x107b72(0x31f)](_0x451695))throw new _0x5f50cc(_0x128d3f['GraphDatabaseDoesNotExist'],_0x107b72(0x443));const _0x4cb3dc=this['graphDatabases'][_0x107b72(0x792)](_0x451695);this[_0x107b72(0x4b2)]['delete'](_0x451695),_0x4cb3dc[_0x107b72(0x1b2)](),this[_0x107b72(0x5bf)][_0x107b72(0x990)][_0x107b72(0x447)](_0x4cb3dc);}[_0x148812(0x41b)](_0x5bf816){const _0x344778=_0x148812;if(!this[_0x344778(0x1be)][_0x344778(0x31f)](_0x5bf816))throw new _0x864d50(_0x864d50[_0x344778(0x753)][_0x344778(0xbd)],{'label':_0x5bf816,'localId':this[_0x344778(0x5bf)][_0x344778(0x894)]['getId']()});const _0x12b96a=this[_0x344778(0x1be)]['get'](_0x5bf816);this[_0x344778(0x5bf)][_0x344778(0x990)][_0x344778(0x447)](_0x12b96a),_0x12b96a[_0x344778(0x1b2)](),this[_0x344778(0x1be)][_0x344778(0x91b)](_0x5bf816);}[_0x148812(0x21e)](_0x4d5e6a,_0x3bc043){const _0x2bb663=_0x148812;if(!this[_0x2bb663(0x4af)][_0x2bb663(0x31f)](_0x4d5e6a))throw new _0x864d50(_0x864d50['codes'][_0x2bb663(0x535)],{'nodeId':_0x4d5e6a,'localId':this[_0x2bb663(0x5bf)][_0x2bb663(0x894)]['getId']()});const _0x143301=this[_0x2bb663(0x4af)][_0x2bb663(0x792)](_0x4d5e6a);if(!_0x143301[_0x2bb663(0x31f)](_0x3bc043))throw new _0x864d50(_0x864d50[_0x2bb663(0x753)][_0x2bb663(0x3ca)],{'nodeId':_0x4d5e6a,'label':_0x3bc043,'localId':this['configs'][_0x2bb663(0x894)]['getId']()});const _0x2e5573=_0x143301[_0x2bb663(0x792)](_0x3bc043);this['configs'][_0x2bb663(0x990)][_0x2bb663(0x447)](_0x2e5573),_0x2e5573['destroy'](),_0x143301[_0x2bb663(0x91b)](_0x3bc043);}}var _0x3ff93b,_0x2c67d9,_0x908bb3;!function(_0x46cb2c){const _0x3e6468=_0x148812;_0x46cb2c[_0x3e6468(0x48d)]=_0x3e6468(0x95),_0x46cb2c['DTVolatility']=_0x3e6468(0xfd),_0x46cb2c['TimePerFrame']='time_per_frame',_0x46cb2c[_0x3e6468(0x329)]=_0x3e6468(0x172),_0x46cb2c[_0x3e6468(0x162)]=_0x3e6468(0x772),_0x46cb2c[_0x3e6468(0x61e)]=_0x3e6468(0x801),_0x46cb2c['RoundTripTime']='rtt',_0x46cb2c['AudioVideoDelay']='av_delay';}(_0x3ff93b||(_0x3ff93b={})),function(_0x5d46c2){const _0x2ba243=_0x148812;_0x5d46c2[_0x2ba243(0x687)]=_0x2ba243(0x505),_0x5d46c2['TimePerFrame']=_0x2ba243(0x56e),_0x5d46c2[_0x2ba243(0x55a)]=_0x2ba243(0x612),_0x5d46c2['FramePerSecond']=_0x2ba243(0x96e),_0x5d46c2[_0x2ba243(0x329)]=_0x2ba243(0x92b),_0x5d46c2[_0x2ba243(0x162)]=_0x2ba243(0x456),_0x5d46c2[_0x2ba243(0x767)]=_0x2ba243(0x2db);}(_0x2c67d9||(_0x2c67d9={})),function(_0x17cc3d){const _0x2a8f4b=_0x148812;_0x17cc3d[_0x17cc3d[_0x2a8f4b(0x7f8)]=0x0]=_0x2a8f4b(0x7f8);}(_0x908bb3||(_0x908bb3={}));const _0x2a53e3=[{'type':_0x3ff93b[_0x148812(0x48d)],'reportMetric':_0x3a3351=>_0x3a3351[_0x148812(0x48d)],'maxThreshold':2.5},{'type':_0x3ff93b[_0x148812(0x4df)],'reportMetric':_0x32afd1=>_0x32afd1[_0x148812(0x4df)],'maxThreshold':0.5}],_0x2ad078=[{'type':_0x3ff93b[_0x148812(0x8b8)],'reportMetric':_0x413a1b=>{const _0x4b1edd=_0x148812,_0x5437c4=0x3e8/_0x413a1b[_0x4b1edd(0x385)];return _0x413a1b[_0x4b1edd(0x63a)]/_0x5437c4;},'maxThreshold':0.75},{'type':_0x3ff93b['Bitrate'],'reportMetric':_0x312458=>{const _0x4bbc7b=_0x148812,_0x5813e0=_0x312458['FPS']*_0x312458[_0x4bbc7b(0x3c0)]*_0x312458[_0x4bbc7b(0x7fc)]*0.12;return _0x312458[_0x4bbc7b(0x172)]/_0x5813e0;},'minThreshold':0.25},{'type':_0x3ff93b[_0x148812(0x162)],'reportMetric':_0x2cb6b5=>_0x2cb6b5['jitter'],'maxThreshold':0.6},{'type':_0x3ff93b[_0x148812(0x61e)],'reportMetric':_0x208abb=>_0x208abb['FPS'],'minThreshold':0xa}],_0x16c0e4=[{'type':_0x3ff93b['Jitter'],'reportMetric':_0x20d4b9=>_0x20d4b9['jitter'],'maxThreshold':0.6}],_0x3e719a=[{'type':_0x3ff93b[_0x148812(0x767)],'reportMetric':_0x1f1fa3=>_0x1f1fa3['roundTripTime'],'maxThreshold':0x1/0x0}],_0x4fd946=[{'type':_0x3ff93b[_0x148812(0x55a)],'reportMetric':_0x352c30=>_0x352c30['AudioVideoDelay'],'maxThreshold':0x12c}],_0x513629=[{'type':_0x2c67d9['CPUCycle'],'issues':[{'type':_0x3ff93b['STVolatility'],'threshold':0x5},{'type':_0x3ff93b[_0x148812(0x4df)],'threshold':0x5}]},{'type':_0x2c67d9[_0x148812(0x8b8)],'issues':[{'type':_0x3ff93b[_0x148812(0x8b8)],'threshold':0x3}]},{'type':_0x2c67d9[_0x148812(0x55a)],'issues':[{'type':_0x3ff93b[_0x148812(0x55a)],'threshold':0x2}]},{'type':_0x2c67d9[_0x148812(0x61e)],'issues':[{'type':_0x3ff93b['FramePerSecond'],'threshold':0x3}]},{'type':_0x2c67d9[_0x148812(0x329)],'issues':[{'type':_0x3ff93b['Bitrate'],'threshold':0x3}]},{'type':_0x2c67d9[_0x148812(0x162)],'issues':[{'type':_0x3ff93b[_0x148812(0x162)],'threshold':0x3}]},{'type':_0x2c67d9['RoundTripTime'],'issues':[{'type':_0x3ff93b[_0x148812(0x767)],'threshold':0x3}]}];var _0x47161a,_0x5c5557;!function(_0x1e2feb){const _0xdb2610=_0x148812;_0x1e2feb[_0x1e2feb[_0xdb2610(0x2e4)]=0x0]=_0xdb2610(0x2e4),_0x1e2feb[_0x1e2feb[_0xdb2610(0x439)]=0x1]=_0xdb2610(0x439);}(_0x47161a||(_0x47161a={}));class _0x44a3e3{[_0x148812(0x5bf)];[_0x148812(0x49d)]=[];['systemTopic'];constructor(_0x141462){const _0x40eb6d=_0x148812;this[_0x40eb6d(0x5bf)]=_0x141462,this[_0x40eb6d(0x5bf)][_0x40eb6d(0x990)][_0x40eb6d(0x428)](this);}['registerSystemPublisher'](_0x519e75){const _0xf8c299=_0x148812;this[_0xf8c299(0x3eb)]=_0x519e75;}[_0x148812(0x75f)](){const _0x140c4b=_0x148812;this[_0x140c4b(0x3eb)]=void 0x0;}[_0x148812(0x6ac)](){const _0x49edb4=_0x148812;this[_0x49edb4(0x5bf)][_0x49edb4(0x990)][_0x49edb4(0x447)](this),this['issues']=[];}[_0x148812(0x59b)](_0x5db8e1){const _0x53f6e4=_0x148812;switch(_0x5db8e1[_0x53f6e4(0x92a)][_0x53f6e4(0x200)]){case _0x47161a['LocalReport']:this[_0x53f6e4(0x334)](_0x5db8e1[_0x53f6e4(0x92a)][_0x53f6e4(0x912)]);break;case _0x47161a[_0x53f6e4(0x2e4)]:this[_0x53f6e4(0x4db)](_0x5db8e1[_0x53f6e4(0x92a)]['data']);}}[_0x148812(0x8b)](_0x4bc0d1,_0x127ac2,_0x2f9ab8,_0x4cbbb4){const _0x31a532=_0x148812,_0xea4e7=_0x513629[_0x31a532(0x453)](_0x590a54=>_0x590a54[_0x31a532(0x49d)][_0x31a532(0x794)](_0x56597d=>_0x56597d['type']===_0x4bc0d1));_0x4cbbb4>=_0xea4e7['issues']['find'](_0x4963aa=>_0x4963aa['type']===_0x4bc0d1)[_0x31a532(0x8a0)]&&(this[_0x31a532(0x97a)](_0xea4e7[_0x31a532(0x200)],_0x127ac2,_0x2f9ab8),this[_0x31a532(0x49d)]=this[_0x31a532(0x49d)][_0x31a532(0x5b5)](_0x397269=>!(_0x397269['type']===_0x4bc0d1&&_0x397269[_0x31a532(0x300)]===_0x127ac2&&_0x397269[_0x31a532(0x46a)]===_0x2f9ab8)));}[_0x148812(0x334)](_0x512476){const _0x479b84=_0x148812;_0x2a53e3[_0x479b84(0x6bf)](_0x4c9e61=>{const _0x44ba4f=_0x479b84,_0xe21055=_0x4c9e61['reportMetric'](_0x512476);_0x4c9e61[_0x44ba4f(0x4cc)]&&_0xe21055>_0x4c9e61['maxThreshold']&&this[_0x44ba4f(0x947)](_0x4c9e61[_0x44ba4f(0x200)],this['configs'][_0x44ba4f(0x894)][_0x44ba4f(0x114)](),_0x12853b[_0x44ba4f(0x879)],_0xe21055),_0x4c9e61['minThreshold']&&_0xe21055<_0x4c9e61[_0x44ba4f(0x4b5)]&&this[_0x44ba4f(0x947)](_0x4c9e61[_0x44ba4f(0x200)],this[_0x44ba4f(0x5bf)]['localNode']['getId'](),_0x12853b['Sender'],_0xe21055);});}[_0x148812(0x4db)](_0x524bf7){const _0x4229a8=_0x148812;let _0x2dcfb6=[];switch(_0x524bf7['origin']){case _0x12853b[_0x4229a8(0x879)]:_0x2dcfb6=_0x3e719a;break;case _0x12853b[_0x4229a8(0x71d)]:_0x2dcfb6=_0x4fd946;}_0x524bf7['video']&&this[_0x4229a8(0x285)](_0x524bf7['nodeId'],_0x12853b['Sender'],_0x524bf7['video']),_0x524bf7[_0x4229a8(0x828)]&&this[_0x4229a8(0x733)](_0x524bf7[_0x4229a8(0x300)],_0x12853b[_0x4229a8(0x879)],_0x524bf7[_0x4229a8(0x828)]),_0x2dcfb6[_0x4229a8(0x6bf)](_0x371911=>{const _0xced420=_0x4229a8,_0x26d7f7=_0x371911[_0xced420(0x22f)](_0x524bf7);_0x371911[_0xced420(0x4cc)]&&_0x26d7f7>_0x371911['maxThreshold']&&this[_0xced420(0x947)](_0x371911[_0xced420(0x200)],_0x524bf7[_0xced420(0x300)],_0x12853b['Sender'],_0x26d7f7),_0x371911[_0xced420(0x4b5)]&&_0x26d7f7<_0x371911['minThreshold']&&this[_0xced420(0x947)](_0x371911[_0xced420(0x200)],_0x524bf7[_0xced420(0x300)],_0x12853b[_0xced420(0x879)],_0x26d7f7);});}[_0x148812(0x285)](_0x1b4649,_0x2bd369,_0x216df2){const _0x8fae9=_0x148812;0x0!==_0x216df2[_0x8fae9(0x172)]&&_0x2ad078['forEach'](_0x5b697b=>{const _0x2accdd=_0x8fae9,_0xb9b356=_0x5b697b['reportMetric'](_0x216df2);_0x5b697b['maxThreshold']&&_0xb9b356>_0x5b697b[_0x2accdd(0x4cc)]&&this[_0x2accdd(0x947)](_0x5b697b['type'],_0x1b4649,_0x2bd369,_0xb9b356,'video'),_0x5b697b['minThreshold']&&_0xb9b356<_0x5b697b[_0x2accdd(0x4b5)]&&this['addIssue'](_0x5b697b[_0x2accdd(0x200)],_0x1b4649,_0x2bd369,_0xb9b356,_0x2accdd(0x1c0));});}[_0x148812(0x733)](_0x139d31,_0x38d3a3,_0x48c6d8){const _0x186313=_0x148812;0x0!==_0x48c6d8['bitrate']&&_0x16c0e4[_0x186313(0x6bf)](_0x2d589b=>{const _0x48c0f0=_0x186313,_0x2ebce8=_0x2d589b['reportMetric'](_0x48c6d8);_0x2d589b[_0x48c0f0(0x4cc)]&&_0x2ebce8>_0x2d589b[_0x48c0f0(0x4cc)]&&this[_0x48c0f0(0x947)](_0x2d589b[_0x48c0f0(0x200)],_0x139d31,_0x38d3a3,_0x2ebce8,_0x48c0f0(0x828)),_0x2d589b[_0x48c0f0(0x4b5)]&&_0x2ebce8<_0x2d589b[_0x48c0f0(0x4b5)]&&this['addIssue'](_0x2d589b[_0x48c0f0(0x200)],_0x139d31,_0x38d3a3,_0x2ebce8,'audio');});}['addIssue'](_0x174f6d,_0x44dda5,_0x349fe9,_0x337e7e,_0x51a8d1){const _0x593683=_0x148812;_0x24a63b[_0x593683(0x14c)](_0x306624[_0x593683(0x972)],_0x593683(0x7fe)+_0x174f6d,_0x174f6d,_0x337e7e),_0x24a63b[_0x593683(0x4ba)](_0x593683(0x975),{'clusterId':this[_0x593683(0x5bf)]['clusterId'],'nodeId':this[_0x593683(0x5bf)][_0x593683(0x894)][_0x593683(0x114)](),'nodeType':this[_0x593683(0x5bf)]['localNode']['type'],'remoteId':_0x44dda5,'data':{'type':_0x174f6d,'value':_0x337e7e,'kind':_0x51a8d1}}),this[_0x593683(0x49d)]=this[_0x593683(0x49d)][_0x593683(0x5b5)](_0xfa2e46=>Date['now']()-_0xfa2e46['timestamp']<0x7530),this['issues'][_0x593683(0x5dc)]({'timestamp':Date[_0x593683(0x847)](),'type':_0x174f6d,'nodeId':_0x44dda5,'origin':_0x349fe9,'value':_0x337e7e,'kind':_0x51a8d1});const _0x1796aa=this[_0x593683(0x49d)][_0x593683(0x5b5)](_0x1d9e86=>_0x1d9e86[_0x593683(0x200)]===_0x174f6d&&_0x1d9e86[_0x593683(0x300)]===_0x44dda5&&_0x1d9e86[_0x593683(0x46a)]===_0x349fe9)[_0x593683(0x6a1)];this[_0x593683(0x8b)](_0x174f6d,_0x44dda5,_0x349fe9,_0x1796aa);}[_0x148812(0x97a)](_0x24189f,_0x243ffa,_0x4a4c6b){const _0xb048c1=_0x148812;_0x24a63b[_0xb048c1(0x14c)](_0x306624[_0xb048c1(0x972)],_0xb048c1(0x39f)+_0x24189f),_0x24a63b[_0xb048c1(0x4ba)](_0xb048c1(0x817),{'clusterId':this[_0xb048c1(0x5bf)][_0xb048c1(0x853)],'nodeId':this[_0xb048c1(0x5bf)][_0xb048c1(0x894)]['getId'](),'nodeType':this[_0xb048c1(0x5bf)][_0xb048c1(0x894)][_0xb048c1(0x200)],'remoteId':_0x243ffa,'data':{'type':_0x24189f}}),this[_0xb048c1(0x3eb)]?.['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74[_0xb048c1(0x972)],'content':{'type':_0x908bb3[_0xb048c1(0x7f8)],'data':{'timestamp':Date[_0xb048c1(0x847)](),'nodeId':_0x243ffa,'origin':_0x12853b['Sender'],'type':_0x24189f}}});}}class _0x52ad7c extends _0x2bd43c{[_0x148812(0x200)]=_0x366c21[_0x148812(0x3a8)][_0x148812(0x6b4)];}class _0x3c9b1a extends _0x52ad7c{[_0x148812(0x3eb)];[_0x148812(0x2a7)]=Date[_0x148812(0x847)]();[_0x148812(0x3ec)];['lastUpdated'];[_0x148812(0x6ac)](){const _0x449498=_0x148812;this[_0x449498(0x3ec)]&&(clearTimeout(this[_0x449498(0x3ec)]),delete this['updateDebounceTimeout']),delete this['lastUpdated'],this[_0x449498(0x2a7)]=Date[_0x449498(0x847)](),super['close']();}[_0x148812(0x364)](_0x3dce0a){const _0x20b2f9=_0x148812;this[_0x20b2f9(0x3eb)]=_0x3dce0a;}[_0x148812(0x75f)](){delete this['systemTopic'];}[_0x148812(0x4a9)](_0x317a29){const _0x188b9c=_0x148812;!this[_0x188b9c(0x3ec)]&&this[_0x188b9c(0x2fd)]&&this[_0x188b9c(0x3eb)][_0x188b9c(0x5a3)]({'sourceId':this['id'],'destinationIds':[_0x317a29],'propagate':!0x0,'messageType':_0x427f74['Node'],'content':{'type':_0x4b25da[_0x188b9c(0x850)],'id':this['id'],'metaData':{'type':this['type']},'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x188b9c(0x41c)]),'version':this[_0x188b9c(0x2a7)]}});}[_0x148812(0x431)](_0x34ff59){const _0x233ee9=_0x148812;this[_0x233ee9(0x41c)]['has'](_0x34ff59)||(this['remoteConnections'][_0x233ee9(0x96d)](_0x34ff59),this[_0x233ee9(0x739)](),this[_0x233ee9(0x232)](!0x0));}[_0x148812(0x88b)](_0x5ce1d2){const _0x87bd37=_0x148812;this[_0x87bd37(0x41c)][_0x87bd37(0x31f)](_0x5ce1d2)&&(this[_0x87bd37(0x41c)][_0x87bd37(0x91b)](_0x5ce1d2),this[_0x87bd37(0x739)](),this[_0x87bd37(0x232)](!0x0));}[_0x148812(0x918)](){return this['currentVersion'];}[_0x148812(0x8f2)](_0x4be88e,_0x5a4d62=!0x0){const _0x533652=_0x148812;this[_0x533652(0x2fd)]!==_0x4be88e&&(this['rank']=_0x4be88e,_0x5a4d62&&(this[_0x533652(0x739)](),this[_0x533652(0x232)]()));}['incrementVersion'](){const _0x26b9c7=_0x148812;this[_0x26b9c7(0x2a7)]=Date[_0x26b9c7(0x847)]();}[_0x148812(0x232)](_0x38700f=!0x1){const _0x3caf9b=_0x148812;if(this[_0x3caf9b(0x2fd)]){if(this[_0x3caf9b(0x3ac)]||(this[_0x3caf9b(0x3ac)]=Date[_0x3caf9b(0x847)]()),this[_0x3caf9b(0x3ec)]){if(Date[_0x3caf9b(0x847)]()-this[_0x3caf9b(0x3ac)]>0x2328)return;clearTimeout(this[_0x3caf9b(0x3ec)]);}this[_0x3caf9b(0x3ec)]=setTimeout(()=>{const _0x1b8a3c=_0x3caf9b;delete this[_0x1b8a3c(0x3ac)],delete this[_0x1b8a3c(0x3ec)],this[_0x1b8a3c(0x3eb)][_0x1b8a3c(0x5a3)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x427f74[_0x1b8a3c(0x30e)],'content':{'type':_0x38700f?_0x4b25da['NodeConnectionsUpdate']:_0x4b25da[_0x1b8a3c(0x850)],'id':this['id'],'metaData':{'type':this[_0x1b8a3c(0x200)]},'rank':this[_0x1b8a3c(0x6bd)](),'remoteConnections':Array[_0x1b8a3c(0x928)](this[_0x1b8a3c(0x41c)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x238b2a extends _0x36f897{[_0x148812(0x3eb)];[_0x148812(0x2a7)]=Date[_0x148812(0x847)]();[_0x148812(0x3ec)];[_0x148812(0x3ac)];['close'](){const _0x9e9bf0=_0x148812;this['updateDebounceTimeout']&&(clearTimeout(this[_0x9e9bf0(0x3ec)]),delete this[_0x9e9bf0(0x3ec)]),delete this[_0x9e9bf0(0x3ac)],this[_0x9e9bf0(0x2a7)]=Date[_0x9e9bf0(0x847)](),super[_0x9e9bf0(0x6ac)]();}[_0x148812(0x364)](_0x3907d1){const _0x32c700=_0x148812;this[_0x32c700(0x3eb)]=_0x3907d1;}[_0x148812(0x75f)](){const _0x260b4a=_0x148812;delete this[_0x260b4a(0x3eb)];}[_0x148812(0x4a9)](_0x5eb7c8){const _0x4878d0=_0x148812;!this[_0x4878d0(0x3ec)]&&this[_0x4878d0(0x2fd)]&&this[_0x4878d0(0x3eb)]['publish']({'sourceId':this['id'],'destinationIds':[_0x5eb7c8],'propagate':!0x0,'messageType':_0x427f74[_0x4878d0(0x30e)],'content':{'type':_0x4b25da['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x4878d0(0x200)],'displayName':this['getDisplayName'](),'email':this[_0x4878d0(0x3b2)]()},'rank':this['getRank'](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this[_0x4878d0(0x2a7)]}});}[_0x148812(0x431)](_0x4ebd32){const _0x1fb447=_0x148812;this[_0x1fb447(0x41c)][_0x1fb447(0x31f)](_0x4ebd32)||(this[_0x1fb447(0x41c)]['add'](_0x4ebd32),this[_0x1fb447(0x739)](),this[_0x1fb447(0x232)](!0x0));}[_0x148812(0x88b)](_0x3a6b28){const _0x2da269=_0x148812;this[_0x2da269(0x41c)][_0x2da269(0x31f)](_0x3a6b28)&&(this[_0x2da269(0x41c)][_0x2da269(0x91b)](_0x3a6b28),this[_0x2da269(0x739)](),this[_0x2da269(0x232)](!0x0));}[_0x148812(0x918)](){const _0x5ec7ad=_0x148812;return this[_0x5ec7ad(0x2a7)];}[_0x148812(0x11f)](_0x5c73f7){const _0x51028b=_0x148812;this[_0x51028b(0x631)]!==_0x5c73f7&&(this[_0x51028b(0x631)]=_0x5c73f7,this[_0x51028b(0x739)](),this[_0x51028b(0x232)]());}[_0x148812(0x994)](_0x369642){const _0x274730=_0x148812;this['email']!==_0x369642&&(this[_0x274730(0x802)]=_0x369642,this[_0x274730(0x739)](),this[_0x274730(0x232)]());}[_0x148812(0x8f2)](_0x2941b2,_0x39438f=!0x0){const _0x30ec26=_0x148812;this[_0x30ec26(0x2fd)]!==_0x2941b2&&(this[_0x30ec26(0x2fd)]=_0x2941b2,_0x39438f&&(this['incrementVersion'](),this[_0x30ec26(0x232)]()));}[_0x148812(0x739)](){const _0x563aad=_0x148812;this['currentVersion']=Date[_0x563aad(0x847)]();}[_0x148812(0x232)](_0x20189f=!0x1){const _0xa47480=_0x148812;if(this['rank']){if(this[_0xa47480(0x3ac)]||(this[_0xa47480(0x3ac)]=Date['now']()),this[_0xa47480(0x3ec)]){if(Date['now']()-this[_0xa47480(0x3ac)]>0x2328)return;clearTimeout(this[_0xa47480(0x3ec)]);}this[_0xa47480(0x3ec)]=setTimeout(()=>{const _0x51a205=_0xa47480;delete this[_0x51a205(0x3ac)],delete this['updateDebounceTimeout'],this[_0x51a205(0x3eb)][_0x51a205(0x5a3)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x427f74[_0x51a205(0x30e)],'content':{'type':_0x20189f?_0x4b25da[_0x51a205(0x24d)]:_0x4b25da[_0x51a205(0x850)],'id':this['id'],'metaData':{'type':this[_0x51a205(0x200)],'displayName':this[_0x51a205(0x14e)](),'email':this['getEmail']()},'rank':this[_0x51a205(0x6bd)](),'remoteConnections':Array['from'](this[_0x51a205(0x41c)]),'version':this[_0x51a205(0x2a7)]}});},0x3e8);}}}class _0x1668fa{['id'];['groupId'];['vendorId'];['agentConfig'];[_0x148812(0x200)]=_0x366c21[_0x148812(0x3a8)][_0x148812(0x6b4)];['lastCapacityReport'];constructor(_0xa82704,_0x39ffd5,_0x45932b,_0x5871c5){const _0x245499=_0x148812;this['id']=_0xa82704,this[_0x245499(0x25b)]=_0x39ffd5,this[_0x245499(0x945)]=_0x45932b,this[_0x245499(0x992)]=_0x5871c5;}[_0x148812(0x114)](){return this['id'];}[_0x148812(0x577)](_0x1e0228){const _0x4da996=_0x148812,_0xd4931b=(0x0,_0x23941c[_0x4da996(0x589)])((0x0,_0x23941c[_0x4da996(0x4e0)])(_0x22b478['getFirestore'](),_0x4da996(0x457)+this['vendorId']+'/resources/agent/items/'+this[_0x4da996(0x25b)]),_0x55c236=>{const _0x6d5fae=_0x4da996;if(_0x55c236['exists']()){const _0x37c3a0=_0x55c236[_0x6d5fae(0x912)]();if(this['agentConfig'][_0x6d5fae(0x33f)][_0x6d5fae(0x388)](_0x37c3a0[_0x6d5fae(0x33f)]))return;_0x24a63b[_0x6d5fae(0x14c)](_0x306624[_0x6d5fae(0x30e)],_0x6d5fae(0x735),{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this[_0x6d5fae(0x992)],'newConfig':_0x37c3a0}),this[_0x6d5fae(0x992)]=_0x37c3a0,_0x1e0228();}});return()=>_0xd4931b();}[_0x148812(0x59d)](_0x31ce01){const _0xd3fda=_0x148812;return this['reportCapacity'](this[_0xd3fda(0x25b)],_0x31ce01),_0x1d7287[_0xd3fda(0x511)](()=>this['reportCapacity'](this[_0xd3fda(0x25b)],_0x31ce01),0x7530);}[_0x148812(0x370)](){const _0x1f5505=_0x148812;if(!this[_0x1f5505(0x62b)])throw new _0x864d50(_0x864d50[_0x1f5505(0x753)][_0x1f5505(0x4c7)]);return this[_0x1f5505(0x62b)];}async[_0x148812(0x271)](_0x6cf87a,_0x5bbebd){const _0x23477a=_0x148812,_0x8e61ed=await _0x5bbebd();this['lastCapacityReport']=_0x8e61ed,await(0x0,_0x23941c['addDoc'])((0x0,_0x23941c[_0x23477a(0x6bc)])(_0x22b478['getFirestore'](),_0x23477a(0x457)+this['vendorId']+_0x23477a(0x3af)),{'agentId':this['id'],'groupId':_0x6cf87a,'timestamp':(0x0,_0x23941c[_0x23477a(0x141)])(),'capacity':_0x8e61ed});}}!function(_0x39682a){const _0x5ec458=_0x148812;_0x39682a[_0x39682a[_0x5ec458(0x6b7)]=0x0]='Online',_0x39682a[_0x39682a[_0x5ec458(0xfa)]=0x1]='Offline';}(_0x5c5557||(_0x5c5557={}));class _0x273506 extends _0x52ad7c{[_0x148812(0x2a7)];[_0x148812(0x697)]=_0x5c5557['Online'];['lastUpdated']=Date[_0x148812(0x847)]();constructor(_0x55c5bd,_0x13ff82=new Set(),_0x50bf4c,_0x44432f){const _0x32be44=_0x148812;super(_0x55c5bd,_0x13ff82,_0x44432f),this[_0x32be44(0x2a7)]=_0x50bf4c;}['getCurrentVersion'](){const _0x154775=_0x148812;return this[_0x154775(0x2a7)];}[_0x148812(0x6a8)](){const _0xb11d24=_0x148812;return this[_0xb11d24(0x697)];}[_0x148812(0x130)](){return this['lastUpdated'];}['setRank'](_0x27eb74){const _0x5407e1=_0x148812;this[_0x5407e1(0x2fd)]!==_0x27eb74&&(this[_0x5407e1(0x2fd)]=_0x27eb74,this[_0x5407e1(0x100)]());}[_0x148812(0x1ae)](_0x20964d){const _0x3cf823=_0x148812;let _0x4f344d=!0x1;for(const _0x1b744c of this[_0x3cf823(0x41c)])_0x20964d[_0x3cf823(0x523)](_0x1b744c)||(_0x4f344d=!0x0,this[_0x3cf823(0x41c)][_0x3cf823(0x91b)](_0x1b744c));for(const _0xa3b559 of _0x20964d)this[_0x3cf823(0x41c)][_0x3cf823(0x31f)](_0xa3b559)||(_0x4f344d=!0x0,this[_0x3cf823(0x41c)][_0x3cf823(0x96d)](_0xa3b559));_0x4f344d&&this[_0x3cf823(0x100)]();}[_0x148812(0x641)](_0x7f1184){const _0x5b2eaf=_0x148812;this['currentVersion']!==_0x7f1184&&(this[_0x5b2eaf(0x2a7)]=_0x7f1184,this[_0x5b2eaf(0x100)]());}[_0x148812(0x4b4)](_0x253f33){const _0x3642a8=_0x148812;this[_0x3642a8(0x697)]!==_0x253f33&&(this[_0x3642a8(0x697)]=_0x253f33,this[_0x3642a8(0x100)](),_0x253f33===_0x5c5557[_0x3642a8(0xfa)]&&this['close']());}[_0x148812(0x100)](){const _0x478e93=_0x148812;this[_0x478e93(0x3ac)]=Date['now']();}}class _0x3dbb4a extends _0x36f897{[_0x148812(0x2a7)];[_0x148812(0x697)]=_0x5c5557[_0x148812(0x6b7)];[_0x148812(0x3ac)]=Date['now']();constructor(_0x81630d,_0x295c7e,_0xde8b62,_0x998c37=new Set(),_0x30ae6e,_0x2e031a){const _0x3d9262=_0x148812;super(_0x81630d,_0x295c7e,_0xde8b62,_0x998c37,_0x2e031a),this[_0x3d9262(0x2a7)]=_0x30ae6e;}[_0x148812(0x918)](){const _0x59aa2a=_0x148812;return this[_0x59aa2a(0x2a7)];}[_0x148812(0x6a8)](){const _0x31906b=_0x148812;return this[_0x31906b(0x697)];}['getLastUpdated'](){const _0x4f2185=_0x148812;return this[_0x4f2185(0x3ac)];}[_0x148812(0x11f)](_0x4ff692){const _0x390178=_0x148812;this[_0x390178(0x631)]!==_0x4ff692&&(this[_0x390178(0x631)]=_0x4ff692,this[_0x390178(0x100)]());}[_0x148812(0x994)](_0x3afa2f){const _0x562869=_0x148812;this[_0x562869(0x802)]!==_0x3afa2f&&(this[_0x562869(0x802)]=_0x3afa2f,this[_0x562869(0x100)]());}[_0x148812(0x8f2)](_0x4943aa){const _0x2ba083=_0x148812;this[_0x2ba083(0x2fd)]!==_0x4943aa&&(this[_0x2ba083(0x2fd)]=_0x4943aa,this[_0x2ba083(0x100)]());}['setRemoteConnections'](_0x3f8e81){const _0x24ec2d=_0x148812;let _0x413c46=!0x1;for(const _0x1960b8 of this['remoteConnections'])_0x3f8e81['includes'](_0x1960b8)||(_0x413c46=!0x0,this[_0x24ec2d(0x41c)]['delete'](_0x1960b8));for(const _0x472b9e of _0x3f8e81)this[_0x24ec2d(0x41c)][_0x24ec2d(0x31f)](_0x472b9e)||(_0x413c46=!0x0,this[_0x24ec2d(0x41c)][_0x24ec2d(0x96d)](_0x472b9e));_0x413c46&&this[_0x24ec2d(0x100)]();}[_0x148812(0x641)](_0x2891d4){const _0x19cd52=_0x148812;this[_0x19cd52(0x2a7)]!==_0x2891d4&&(this[_0x19cd52(0x2a7)]=_0x2891d4,this['updateLastUpdated']());}[_0x148812(0x4b4)](_0x3394d8){const _0x3bd037=_0x148812;this[_0x3bd037(0x697)]!==_0x3394d8&&(this[_0x3bd037(0x697)]=_0x3394d8,this[_0x3bd037(0x100)](),_0x3394d8===_0x5c5557['Offline']&&this[_0x3bd037(0x6ac)]());}['updateLastUpdated'](){const _0x529825=_0x148812;this[_0x529825(0x3ac)]=Date[_0x529825(0x847)]();}}class _0x1e57a8{[_0x148812(0x945)];[_0x148812(0x853)];[_0x148812(0x894)];[_0x148812(0x676)];['disconnectCallback']=_0x127104();[_0x148812(0x77c)];[_0x148812(0x437)];[_0x148812(0x5e4)];['connected']=!0x1;[_0x148812(0x8fe)];[_0x148812(0x1a3)];constructor(_0x1bd5ff,_0x5b4849,_0x109918,_0xf3e9f){const _0x3c61bf=_0x148812;this['vendorId']=_0x1bd5ff,this[_0x3c61bf(0x853)]=_0x5b4849,this[_0x3c61bf(0x894)]=_0x109918,this[_0x3c61bf(0x676)]=_0xf3e9f,this[_0x3c61bf(0x8fe)]=_0x3c61bf(0x311)+this[_0x3c61bf(0x945)]+'ccc'+this[_0x3c61bf(0x853)],this[_0x3c61bf(0x1a3)]=_0x3c61bf(0x311)+this['vendorId']+_0x3c61bf(0x311)+this['localNode'][_0x3c61bf(0x114)](),this[_0x3c61bf(0x77c)]=(0x0,_0x4da9ca[_0x3c61bf(0x58a)])((0x0,_0x4da9ca['ref'])(_0x22b478['getDatabase'](),_0x3c61bf(0x263)),_0x82a761=>{const _0x2ee466=_0x3c61bf;!0x0!==_0x82a761[_0x2ee466(0x702)]()?this['connected']&&_0x24a63b[_0x2ee466(0x2d0)](_0x2ee466(0x143),{'clusterId':this[_0x2ee466(0x853)],'nodeId':this[_0x2ee466(0x894)][_0x2ee466(0x114)](),'nodeType':this[_0x2ee466(0x894)][_0x2ee466(0x200)]}):(this['connected']=!0x0,this[_0x2ee466(0x2a5)](),_0x24a63b['warning'](_0x2ee466(0x2ae),{'clusterId':this[_0x2ee466(0x853)],'nodeId':this[_0x2ee466(0x894)][_0x2ee466(0x114)](),'nodeType':this[_0x2ee466(0x894)][_0x2ee466(0x200)]}));});}async[_0x148812(0x3b0)](){const _0x4c2098=_0x148812;await this['joinCluster']();const _0x1b153c=await this['getAncestors']();return this[_0x4c2098(0x437)]=(0x0,_0x4da9ca[_0x4c2098(0x6c8)])((0x0,_0x4da9ca[_0x4c2098(0x964)])(_0x22b478[_0x4c2098(0x53c)](),_0x4c2098(0x699)+this['clusterKey']+_0x4c2098(0x236)),_0xfae2e4=>{const _0x461f10=_0x4c2098,_0x225485=_0xfae2e4[_0x461f10(0x751)];if(!_0x225485)return;const _0x491eec=_0x225485['replace'](_0x461f10(0x311)+this[_0x461f10(0x945)]+'ccc','');this[_0x461f10(0x349)][_0x461f10(0x5a3)](_0x491eec);}),_0x1b153c;}async['close'](){const _0x2f2fe2=_0x148812;this[_0x2f2fe2(0x437)]?.(),delete this['childRemovedUnsubscriber'],this['onDisconnectHandler']?.[_0x2f2fe2(0x7a4)](),delete this[_0x2f2fe2(0x5e4)],this[_0x2f2fe2(0x77c)]?.(),delete this[_0x2f2fe2(0x77c)],await(0x0,_0x4da9ca[_0x2f2fe2(0x957)])((0x0,_0x4da9ca['ref'])(_0x22b478[_0x2f2fe2(0x53c)](),_0x2f2fe2(0x699)+this[_0x2f2fe2(0x8fe)]+_0x2f2fe2(0x3fd)+this[_0x2f2fe2(0x1a3)]));}['onNodeDisconnect'](_0x55dc30){const _0x153804=_0x148812;return this[_0x153804(0x349)]['subscribe'](_0x55dc30);}async[_0x148812(0x75a)](){const _0x1663be=_0x148812,_0x19b898=[],_0x1da00a=await(0x0,_0x4da9ca[_0x1663be(0x792)])((0x0,_0x4da9ca[_0x1663be(0x964)])(_0x22b478['getDatabase'](),_0x1663be(0x699)+this[_0x1663be(0x8fe)]+'/nodes')),_0x2838c1=[];return _0x1da00a[_0x1663be(0x6bf)](_0x29d9d6=>{const _0x5cd74a=_0x1663be,_0x5ef422=_0x29d9d6[_0x5cd74a(0x751)]?.[_0x5cd74a(0x10f)](_0x5cd74a(0x311)+this[_0x5cd74a(0x945)]+_0x5cd74a(0x311),'');_0x2838c1[_0x5cd74a(0x5dc)]({'id':_0x5ef422,'joinedAt':_0x29d9d6[_0x5cd74a(0x702)]()[_0x5cd74a(0x18d)],'priority':_0x29d9d6[_0x5cd74a(0x702)]()[_0x5cd74a(0x587)]});}),_0x2838c1[_0x1663be(0x556)]((_0x308a00,_0x284bde)=>_0x308a00[_0x1663be(0x18d)]===_0x284bde[_0x1663be(0x18d)]?_0x308a00['priority']-_0x284bde[_0x1663be(0x587)]:_0x308a00[_0x1663be(0x18d)]-_0x284bde['joinedAt'])['splice'](_0x2838c1['findIndex'](_0x12b8a0=>_0x12b8a0['id']===this[_0x1663be(0x894)]['getId']())),_0x2838c1[_0x1663be(0x556)]((_0x27ebf1,_0x1827d9)=>_0x1827d9[_0x1663be(0x18d)]===_0x27ebf1[_0x1663be(0x18d)]?_0x1827d9[_0x1663be(0x587)]-_0x27ebf1[_0x1663be(0x587)]:_0x1827d9['joinedAt']-_0x27ebf1[_0x1663be(0x18d)])[_0x1663be(0x6bf)](_0x53030e=>{const _0x38c086=_0x1663be;_0x19b898['length']>=this['minConnections']||_0x19b898[_0x38c086(0x5dc)](_0x53030e['id']);}),_0x24a63b['logEvent'](_0x1663be(0x336),{'clusterId':this['clusterId'],'nodeId':this[_0x1663be(0x894)]['getId'](),'nodeType':this[_0x1663be(0x894)][_0x1663be(0x200)],'data':{'ancestorIds':_0x19b898,'allNodes':_0x2838c1}}),_0x19b898;}async[_0x148812(0x497)](){const _0x27b9bd=_0x148812;await(0x0,_0x4da9ca[_0x27b9bd(0x6b3)])((0x0,_0x4da9ca['ref'])(_0x22b478[_0x27b9bd(0x53c)](),'clusters/'+this[_0x27b9bd(0x8fe)]+_0x27b9bd(0x3fd)+this[_0x27b9bd(0x1a3)]),{'joinedAt':(0x0,_0x4da9ca[_0x27b9bd(0x141)])(),'priority':Math[_0x27b9bd(0x5b6)]()});}[_0x148812(0x2a5)](){const _0x20b1bc=_0x148812;this[_0x20b1bc(0x5e4)]&&this[_0x20b1bc(0x5e4)][_0x20b1bc(0x7a4)](),this['onDisconnectHandler']=(0x0,_0x4da9ca[_0x20b1bc(0x6c6)])((0x0,_0x4da9ca[_0x20b1bc(0x964)])(_0x22b478[_0x20b1bc(0x53c)](),_0x20b1bc(0x699)+this[_0x20b1bc(0x8fe)]+'/nodes/'+this[_0x20b1bc(0x1a3)])),this[_0x20b1bc(0x5e4)][_0x20b1bc(0x957)]();}}class _0x56ee44{['configs'];[_0x148812(0x986)];['remoteUnsubscriber'];[_0x148812(0x8c3)];[_0x148812(0x2aa)];[_0x148812(0x2e7)]=[];[_0x148812(0x3eb)];[_0x148812(0x2d6)]=new Map();[_0x148812(0x1b4)];['lastProcessRank'];[_0x148812(0xfc)];[_0x148812(0x3e3)];[_0x148812(0x1aa)];['readyDebounce'];constructor(_0x2cf3d7,_0x33d1ce){const _0x17eb45=_0x148812;this[_0x17eb45(0x5bf)]=_0x2cf3d7,this[_0x17eb45(0x986)]=_0x33d1ce,this['_isReady']=new Promise((_0x97008,_0x29a6dc)=>{const _0x44e2ae=_0x17eb45;this[_0x44e2ae(0x3e3)]=_0x97008,this['rejectReady']=_0x29a6dc;}),this[_0x17eb45(0x8c3)]=new _0x1e57a8(this[_0x17eb45(0x5bf)]['vendorId'],this[_0x17eb45(0x5bf)][_0x17eb45(0x853)],this[_0x17eb45(0x5bf)]['localNode'],this['graphService'][_0x17eb45(0x937)]()),this[_0x17eb45(0x2aa)]=this[_0x17eb45(0x8c3)][_0x17eb45(0x383)](this['handleNodeDisconnect']['bind'](this)),this[_0x17eb45(0x5bf)][_0x17eb45(0x990)][_0x17eb45(0x428)](this['configs'][_0x17eb45(0x894)]),this[_0x17eb45(0x5bf)]['mediator'][_0x17eb45(0x428)](this),this['remoteUnsubscriber']=_0x1d7287['setInterval'](()=>{const _0x41ab04=_0x17eb45,_0x5408ff=Date[_0x41ab04(0x847)]();this[_0x41ab04(0x986)][_0x41ab04(0x118)]()[_0x41ab04(0x6bf)](_0xe8bbae=>{const _0x42920b=_0x41ab04;_0xe8bbae['getStatus']()===_0x5c5557[_0x42920b(0xfa)]&&_0xe8bbae[_0x42920b(0x130)]()<_0x5408ff-0x493e0&&this[_0x42920b(0x986)][_0x42920b(0x113)](_0xe8bbae['getId']());});},0xea60);}async[_0x148812(0x7c2)](){const _0x4b6d01=_0x148812;return this[_0x4b6d01(0xfc)];}async['isNodeReady'](_0x39713c){return new Promise((_0x4db3d4,_0x5be94e)=>{const _0xe01ca0=a0_0x53e8;let _0x391320;const _0x2fa67e=setTimeout(()=>{const _0x8b115=a0_0x53e8;_0x391320?.(),_0x5be94e(new Error(_0x8b115(0x107)+_0x39713c+_0x8b115(0xdd)));},0x2710);if(this['graphService'][_0xe01ca0(0x1bb)](_0x39713c))return clearTimeout(_0x2fa67e),void _0x4db3d4(!0x0);_0x391320=this[_0xe01ca0(0x986)][_0xe01ca0(0x94a)](()=>{const _0x567603=_0xe01ca0;this['graphService'][_0x567603(0x1bb)](_0x39713c)&&(clearTimeout(_0x2fa67e),_0x4db3d4(!0x0),_0x391320?.());});});}[_0x148812(0x364)](_0x14877b){const _0x1ea83e=_0x148812;this[_0x1ea83e(0x3eb)]=_0x14877b;}[_0x148812(0x75f)](){const _0x4ec9bf=_0x148812;delete this[_0x4ec9bf(0x3eb)];}[_0x148812(0x6ac)](){const _0x6c5d13=_0x148812;this[_0x6c5d13(0x1b4)]&&(clearTimeout(this[_0x6c5d13(0x1b4)]),delete this['debounceProcessRank']),delete this[_0x6c5d13(0x5c0)],this[_0x6c5d13(0x5bf)][_0x6c5d13(0x894)][_0x6c5d13(0x6ac)](),this[_0x6c5d13(0x59e)](),this[_0x6c5d13(0x2aa)](),this[_0x6c5d13(0x5bf)][_0x6c5d13(0x990)]['unregisterSystemSource'](this[_0x6c5d13(0x5bf)][_0x6c5d13(0x894)]),this[_0x6c5d13(0x5bf)][_0x6c5d13(0x990)][_0x6c5d13(0x447)](this),this[_0x6c5d13(0x8c3)][_0x6c5d13(0x6ac)]();}['getAncestorIds'](){const _0x26dc77=_0x148812;return this[_0x26dc77(0x2e7)];}['getLocalId'](){const _0x66efd8=_0x148812;return this[_0x66efd8(0x5bf)][_0x66efd8(0x894)][_0x66efd8(0x114)]();}['getLocalNode'](){const _0x15705d=_0x148812;return this[_0x15705d(0x5bf)][_0x15705d(0x894)];}['getRemoteNodes'](_0x3fa284){const _0x469553=_0x148812,_0x205e14=Array[_0x469553(0x928)](this[_0x469553(0x986)][_0x469553(0x118)]()[_0x469553(0x910)]())[_0x469553(0x5b5)](_0x6717c8=>_0x6717c8[_0x469553(0x6a8)]()===_0x5c5557[_0x469553(0x6b7)]);return _0x3fa284?_0x205e14[_0x469553(0x5b5)](_0x3fa284):_0x205e14;}async[_0x148812(0x336)](){const _0x391095=_0x148812;return this[_0x391095(0x2e7)]=await this[_0x391095(0x8c3)]['join'](),this['ancestors'][_0x391095(0x6a1)]<this[_0x391095(0x986)][_0x391095(0x937)]()&&(this['configs'][_0x391095(0x894)][_0x391095(0x8f2)](this[_0x391095(0x2e7)][_0x391095(0x6a1)]+0x1),this[_0x391095(0x62e)]()),this[_0x391095(0x2e7)];}[_0x148812(0xc5)](_0x52c7a8,_0x1b5f01){const _0x23715c=_0x148812,_0x485d43=this[_0x23715c(0x5bf)][_0x23715c(0x894)][_0x23715c(0x470)](),_0xbb4c8b=new Set(_0x485d43),_0x303591=Array[_0x23715c(0x928)](_0x485d43)['filter'](_0x3ad1b5=>_0x3ad1b5!==_0x52c7a8)[_0x23715c(0x7e1)](_0x189e21=>({'id':_0x189e21,'distance':0x1}));for(;_0x303591['length']>0x0;){const _0x18bf26=_0x303591['shift']();if(!_0x18bf26)continue;if(_0x18bf26['id']===_0x1b5f01)return _0x18bf26['distance'];const _0x43e0e4=this[_0x23715c(0x986)][_0x23715c(0x8ee)](_0x18bf26['id']);_0x43e0e4&&_0x43e0e4['getStatus']()!==_0x5c5557[_0x23715c(0xfa)]&&_0x43e0e4[_0x23715c(0x470)]()[_0x23715c(0x6bf)](_0x6bf959=>{const _0x4d9f17=_0x23715c;_0xbb4c8b['has'](_0x6bf959)||(_0xbb4c8b[_0x4d9f17(0x96d)](_0x6bf959),_0x303591[_0x4d9f17(0x5dc)]({'id':_0x6bf959,'distance':_0x18bf26[_0x4d9f17(0x988)]+0x1}));});}return-0x1;}[_0x148812(0x6c4)](_0x589191){const _0x2d970e=_0x148812;try{switch(_0x589191[_0x2d970e(0x92a)]['type']){case _0x4b25da[_0x2d970e(0x850)]:case _0x4b25da[_0x2d970e(0x24d)]:this['handleNodeUpdate'](_0x589191[_0x2d970e(0x92a)]),_0x24a63b[_0x2d970e(0x14c)](_0x306624[_0x2d970e(0x30e)],_0x2d970e(0x42f),'\x27'+this['configs']['localNode'][_0x2d970e(0x114)]()+',\x20'+_0x589191[_0x2d970e(0x21f)]+'\x27',_0x589191,_0x589191[_0x2d970e(0x92a)]);break;case _0x4b25da[_0x2d970e(0x64b)]:this[_0x2d970e(0x40c)](_0x589191[_0x2d970e(0x92a)]['id']),_0x24a63b[_0x2d970e(0x14c)](_0x306624[_0x2d970e(0x30e)],_0x2d970e(0x473),'\x27'+this['configs']['localNode'][_0x2d970e(0x114)]()+',\x20'+_0x589191[_0x2d970e(0x21f)]+'\x27',_0x589191,_0x589191[_0x2d970e(0x92a)]);}}catch(_0x1e32d6){if(_0x1e32d6 instanceof _0x30fc07)return void _0x24a63b[_0x2d970e(0x14c)](_0x306624[_0x2d970e(0x30e)],_0x1e32d6[_0x2d970e(0x34d)]);throw _0x1e32d6;}}[_0x148812(0x4bb)](_0x185eba){const _0xb819af=_0x148812;switch(_0x185eba[_0xb819af(0x92a)][_0xb819af(0x200)]){case _0x4c498b['Success']:this[_0xb819af(0x6cb)](_0x185eba[_0xb819af(0x21f)]),_0x24a63b[_0xb819af(0x14c)](_0x306624[_0xb819af(0x30e)],_0xb819af(0x87f),'\x27'+this['configs'][_0xb819af(0x894)]['getId']()+',\x20'+_0x185eba[_0xb819af(0x21f)]+'\x27',_0x185eba,_0x185eba['content']);break;case _0x4c498b[_0xb819af(0x413)]:this[_0xb819af(0x1a7)](_0x185eba[_0xb819af(0x21f)]),_0x24a63b[_0xb819af(0x14c)](_0x306624[_0xb819af(0x30e)],_0xb819af(0x89f),this[_0xb819af(0x5bf)][_0xb819af(0x894)][_0xb819af(0x114)](),_0x185eba,_0x185eba[_0xb819af(0x92a)]);}}[_0x148812(0x694)](_0x54c794){const _0x14ce80=_0x148812;this[_0x14ce80(0x5ed)](_0x54c794),this[_0x14ce80(0x88c)](_0x54c794);}['notifyJoin'](_0x85a0ee){const _0x216917=_0x148812;this[_0x216917(0x5bf)]['localNode'][_0x216917(0x4a9)](_0x85a0ee['id']),this['publishNodeJoin'](_0x85a0ee['id']),this[_0x216917(0x2c5)](_0x85a0ee);}[_0x148812(0x493)](_0x5b61f9){const _0x323c93=_0x148812,{id:_0x45a1b2,metaData:_0x49a979,rank:_0x4f7cb2,remoteConnections:_0xfb4903,version:_0x4fa1d9}=_0x5b61f9,_0x51579f=this[_0x323c93(0x986)][_0x323c93(0x8ee)](_0x45a1b2);if(_0x51579f){if(!(_0x4fa1d9<=_0x51579f[_0x323c93(0x918)]())){if(_0x51579f[_0x323c93(0x1ae)](_0xfb4903),_0x51579f[_0x323c93(0x641)](_0x4fa1d9),_0x51579f[_0x323c93(0x200)]===_0x366c21[_0x323c93(0x3a8)]['User']&&_0x49a979[_0x323c93(0x200)]===_0x366c21[_0x323c93(0x3a8)][_0x323c93(0x86d)]&&(_0x51579f[_0x323c93(0x11f)](_0x49a979[_0x323c93(0x631)]),_0x51579f['setEmail'](_0x49a979[_0x323c93(0x802)])),_0x4f7cb2&&_0x51579f[_0x323c93(0x8f2)](_0x4f7cb2),this[_0x323c93(0x2e5)](_0x45a1b2,_0x4f7cb2),_0x51579f[_0x323c93(0x6a8)]()===_0x5c5557[_0x323c93(0xfa)])return _0x51579f['setStatus'](_0x5c5557['Online']),this['processRank'](),void this[_0x323c93(0x88c)](_0x5b61f9);this['processRank'](),this['notifyClusterNodeUpdate']({'id':_0x45a1b2,'metaData':_0x49a979,'remoteConnections':_0xfb4903,'version':_0x4fa1d9});}}else this['handleNodeJoin'](_0x5b61f9);}[_0x148812(0x2e5)](_0x206880,_0x4b4a67){const _0x38a6f4=_0x148812;_0x4b4a67&&this[_0x38a6f4(0x2e7)]['includes'](_0x206880)&&this[_0x38a6f4(0x5bf)]['localNode'][_0x38a6f4(0x8f2)](_0x4b4a67+this[_0x38a6f4(0x2e7)][_0x38a6f4(0x5e0)](_0x206880)+0x1);}[_0x148812(0x6cb)](_0xdb0754){const _0x5f469f=_0x148812;this[_0x5f469f(0x5bf)][_0x5f469f(0x894)][_0x5f469f(0x431)](_0xdb0754);}['createRemoteNode']({id:_0x26242f,metaData:_0x18f189,rank:_0x4f36f4,remoteConnections:_0x13cb87,version:_0xc9c03c}){const _0x131b60=_0x148812;if(this[_0x131b60(0x986)][_0x131b60(0x1bb)](_0x26242f))throw new _0x30fc07('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x26242f);switch(_0x18f189[_0x131b60(0x200)]){case _0x366c21[_0x131b60(0x3a8)][_0x131b60(0x86d)]:const {displayName:_0x2140f3,email:_0x552234}=_0x18f189;this[_0x131b60(0x986)][_0x131b60(0x33a)](_0x26242f,new _0x3dbb4a(_0x26242f,_0x2140f3,_0x552234,new Set(_0x13cb87),_0xc9c03c,_0x4f36f4));break;case _0x366c21[_0x131b60(0x3a8)]['Agent']:this[_0x131b60(0x986)][_0x131b60(0x33a)](_0x26242f,new _0x273506(_0x26242f,new Set(_0x13cb87),_0xc9c03c,_0x4f36f4));}const _0x491a5a=this[_0x131b60(0x118)](),_0x5ea284=new Set(this['ancestors']);_0x491a5a[_0x131b60(0x6bf)](_0x8f74ae=>{const _0x37006a=_0x131b60;_0x5ea284[_0x37006a(0x31f)](_0x8f74ae[_0x37006a(0x114)]())&&_0x5ea284[_0x37006a(0x91b)](_0x8f74ae['getId']());}),0x0===_0x5ea284[_0x131b60(0x33c)]&&this[_0x131b60(0x3e3)]&&(this[_0x131b60(0x43b)]&&clearTimeout(this[_0x131b60(0x43b)]),this[_0x131b60(0x43b)]=setTimeout(()=>{const _0x1f63f=_0x131b60;this[_0x1f63f(0x3e3)]?.(!0x0),delete this['resolveReady'],delete this[_0x1f63f(0x1aa)];},0x7d0)),this[_0x131b60(0x2e5)](_0x26242f,_0x4f36f4),this[_0x131b60(0x62e)]();}['publishNodeJoin'](_0x2ae2ce){const _0x484e65=_0x148812;this[_0x484e65(0x3eb)][_0x484e65(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x484e65(0x30e)],'content':{'type':_0x4b25da[_0x484e65(0x95a)],'id':_0x2ae2ce}});}['publishNodeLeave'](_0x28b788){const _0x1c06ad=_0x148812;this[_0x1c06ad(0x3eb)]?.[_0x1c06ad(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74[_0x1c06ad(0x30e)],'content':{'type':_0x4b25da[_0x1c06ad(0x64b)],'id':_0x28b788}});}['handleNodeDisconnect'](_0x3ac74f){const _0x46b696=_0x148812;if(_0x3ac74f===this['configs'][_0x46b696(0x894)][_0x46b696(0x114)]())return this[_0x46b696(0x5bf)][_0x46b696(0x990)][_0x46b696(0x89e)](_0x46b696(0x690),{'id':_0x3ac74f}),this[_0x46b696(0x5bf)][_0x46b696(0x990)][_0x46b696(0x6ac)]({'force':!0x0},!0x0),this[_0x46b696(0x5bf)][_0x46b696(0x990)][_0x46b696(0x29a)](),void this[_0x46b696(0x5bf)][_0x46b696(0x990)][_0x46b696(0x85c)]();this['publishNodeLeave'](_0x3ac74f);}['removeNode'](_0x274264){const _0x2df763=_0x148812;this['ancestors']['includes'](_0x274264)?this[_0x2df763(0x672)](_0x274264):this[_0x2df763(0x5bf)][_0x2df763(0x894)]['getRemoteConnections']()['has'](_0x274264)&&this['manageOptimization'](_0x274264),this[_0x2df763(0x5bf)][_0x2df763(0x894)][_0x2df763(0x88b)](_0x274264);const _0x1c820d=Array[_0x2df763(0x928)](this['optimizationLayers'][_0x2df763(0x653)]())['find'](([,_0x2713db])=>_0x2713db==_0x2713db);_0x1c820d&&this[_0x2df763(0x2d6)][_0x2df763(0x91b)](_0x1c820d[0x0]);const _0x11e592=this[_0x2df763(0x986)]['getRemoteNode'](_0x274264);if(!_0x11e592)return;const _0x14ccbf=_0x11e592[_0x2df763(0x6bd)](),_0x33ca9a=this[_0x2df763(0x5bf)][_0x2df763(0x894)][_0x2df763(0x6bd)]();_0x33ca9a&&_0x14ccbf&&_0x14ccbf<_0x33ca9a&&this[_0x2df763(0x5bf)]['localNode'][_0x2df763(0x8f2)](_0x33ca9a-0x1,!0x1),Array['from'](this[_0x2df763(0x986)][_0x2df763(0x118)]()['values']())['forEach'](_0x977515=>{const _0x305711=_0x2df763,_0x2c6ca7=_0x977515['getRank']();_0x2c6ca7&&_0x14ccbf&&_0x14ccbf<_0x2c6ca7&&_0x977515[_0x305711(0x8f2)](_0x2c6ca7-0x1);}),_0x11e592[_0x2df763(0x4b4)](_0x5c5557[_0x2df763(0xfa)]),this[_0x2df763(0x5bf)]['mediator'][_0x2df763(0x89e)](_0x11e592[_0x2df763(0x200)]+_0x2df763(0x4a4),{'id':_0x274264});}['notifyClusterNodeJoin']({id:_0x54e895,metaData:_0x3ac407,remoteConnections:_0x224640}){const _0x45a9bf=_0x148812;switch(_0x3ac407['type']){case _0x366c21[_0x45a9bf(0x3a8)][_0x45a9bf(0x86d)]:this[_0x45a9bf(0x5bf)][_0x45a9bf(0x990)]['notifyCluster'](_0x45a9bf(0x12e),{'id':_0x54e895,'metaData':_0x3ac407,'remoteConnections':_0x224640});break;case _0x366c21[_0x45a9bf(0x3a8)][_0x45a9bf(0x6b4)]:this[_0x45a9bf(0x5bf)][_0x45a9bf(0x990)][_0x45a9bf(0x89e)]('agent-join',{'id':_0x54e895,'metaData':_0x3ac407,'remoteConnections':_0x224640});}}['notifyClusterNodeUpdate']({id:_0x2cb12f,metaData:_0x2bc9cf,remoteConnections:_0x3016ca}){const _0x195469=_0x148812;switch(_0x2bc9cf[_0x195469(0x200)]){case _0x366c21[_0x195469(0x3a8)]['User']:this[_0x195469(0x5bf)][_0x195469(0x990)][_0x195469(0x89e)](_0x195469(0x7a6),{'id':_0x2cb12f,'metaData':_0x2bc9cf,'remoteConnections':_0x3016ca});break;case _0x366c21[_0x195469(0x3a8)][_0x195469(0x6b4)]:this[_0x195469(0x5bf)][_0x195469(0x990)][_0x195469(0x89e)](_0x195469(0x47e),{'id':_0x2cb12f,'metaData':_0x2bc9cf,'remoteConnections':_0x3016ca});}}[_0x148812(0x62e)](){const _0x39b3f5=_0x148812;if(this[_0x39b3f5(0x5c0)]||(this['lastProcessRank']=Date[_0x39b3f5(0x847)]()),this['debounceProcessRank']){if(Date[_0x39b3f5(0x847)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x39b3f5(0x1b4)]);}this[_0x39b3f5(0x1b4)]=setTimeout(async()=>{const _0x5e84be=_0x39b3f5;delete this[_0x5e84be(0x5c0)],delete this[_0x5e84be(0x1b4)];const _0x306a90=this[_0x5e84be(0x5bf)]['localNode']['getRank']();if(!_0x306a90)return;const _0x2dd9fd=this[_0x5e84be(0x986)][_0x5e84be(0x37a)](this['graphService'][_0x5e84be(0x118)]()[_0x5e84be(0x33c)]);if(this[_0x5e84be(0x2d6)][_0x5e84be(0x33c)]>=_0x2dd9fd)return;let _0x4db8dc=0x1;for(;this[_0x5e84be(0x5bf)][_0x5e84be(0x990)][_0x5e84be(0x101)]()['length']<this['graphService']['getMaxConnections']()&&_0x4db8dc<=_0x2dd9fd;){if(this[_0x5e84be(0x2d6)]['has'](_0x4db8dc)){_0x4db8dc+=0x1;continue;}const _0x43ceb3=this[_0x5e84be(0x986)][_0x5e84be(0x53e)](_0x306a90,_0x4db8dc),_0x56746c=Array[_0x5e84be(0x928)](this[_0x5e84be(0x986)][_0x5e84be(0x118)]()[_0x5e84be(0x910)]())[_0x5e84be(0x453)](_0xf5e96f=>_0xf5e96f[_0x5e84be(0x6bd)]()===_0x43ceb3&&_0xf5e96f[_0x5e84be(0x6a8)]()===_0x5c5557[_0x5e84be(0x6b7)]);if(_0x56746c){try{await this[_0x5e84be(0x5bf)]['mediator'][_0x5e84be(0x269)](_0x56746c[_0x5e84be(0x114)](),_0x222324[_0x5e84be(0x3bc)]),this[_0x5e84be(0x2d6)][_0x5e84be(0x6b3)](_0x4db8dc,_0x56746c[_0x5e84be(0x114)]());}catch(_0x248cc3){if(!(_0x248cc3 instanceof _0x864d50&&_0x248cc3[_0x5e84be(0x6ed)]===_0x864d50[_0x5e84be(0x753)][_0x5e84be(0x3be)]))throw _0x248cc3;_0x24a63b[_0x5e84be(0x14c)](_0x306624['Node'],this[_0x5e84be(0x5bf)][_0x5e84be(0x894)]['getId'](),_0x56746c[_0x5e84be(0x114)](),_0x248cc3[_0x5e84be(0x34d)]);}_0x4db8dc+=0x1;}else _0x4db8dc+=0x1;}},0x3e8);}async['manageAncestor'](_0x291bd2){const _0x3e2ed9=_0x148812;this[_0x3e2ed9(0x2e7)][_0x3e2ed9(0x71b)](this[_0x3e2ed9(0x2e7)][_0x3e2ed9(0x5e0)](_0x291bd2),0x1);const _0x2637cc=await this[_0x3e2ed9(0x8c3)][_0x3e2ed9(0x75a)]();for(const _0x21de5a of _0x2637cc)if(!this[_0x3e2ed9(0x2e7)][_0x3e2ed9(0x523)](_0x21de5a)){const _0xcc8184=Array[_0x3e2ed9(0x928)](this[_0x3e2ed9(0x2d6)][_0x3e2ed9(0x653)]())[_0x3e2ed9(0x453)](([,_0x577fbd])=>_0x577fbd===_0x21de5a);_0xcc8184&&this['optimizationLayers'][_0x3e2ed9(0x91b)](_0xcc8184[0x0]),this[_0x3e2ed9(0x5bf)]['mediator'][_0x3e2ed9(0x269)](_0x21de5a,_0x222324[_0x3e2ed9(0x222)]);}0x0===_0x2637cc[_0x3e2ed9(0x6a1)]&&this[_0x3e2ed9(0x5bf)][_0x3e2ed9(0x894)][_0x3e2ed9(0x8f2)](0x1),this[_0x3e2ed9(0x2e7)]=_0x2637cc;}async[_0x148812(0x2df)](_0x412d23){const _0x16b2e7=_0x148812,_0x2e6bcf=this[_0x16b2e7(0x5bf)]['localNode'][_0x16b2e7(0x6bd)]();if(!_0x2e6bcf)return;const _0x9d0cd5=this[_0x16b2e7(0x986)]['getRemoteNode'](_0x412d23);if(!_0x9d0cd5||_0x9d0cd5['getStatus']()===_0x5c5557[_0x16b2e7(0xfa)])return;const _0x258ea9=_0x9d0cd5[_0x16b2e7(0x6bd)]();if(!_0x258ea9||_0x258ea9<_0x2e6bcf)return;const _0xfe56f4=this[_0x16b2e7(0x831)](this[_0x16b2e7(0x5bf)][_0x16b2e7(0x894)][_0x16b2e7(0x470)](),_0x2e6bcf),_0x48deb5=this['getOutgoingOptimizationConnections'](_0x9d0cd5[_0x16b2e7(0x470)](),_0x258ea9)[_0xfe56f4['findIndex'](([_0x3ea491])=>_0x3ea491===_0x412d23)];if(!_0x48deb5||this[_0x16b2e7(0x5bf)]['localNode'][_0x16b2e7(0x470)]()[_0x16b2e7(0x31f)](_0x48deb5[0x0]))return;const _0x3c69ba=this[_0x16b2e7(0x986)][_0x16b2e7(0x8ee)](_0x48deb5[0x0]);if(_0x3c69ba&&_0x3c69ba['getStatus']()!==_0x5c5557[_0x16b2e7(0xfa)])try{await this['configs'][_0x16b2e7(0x990)][_0x16b2e7(0x269)](_0x48deb5[0x0],_0x222324['Optimization']);const _0x35848c=Array[_0x16b2e7(0x928)](this[_0x16b2e7(0x2d6)]['entries']())['find'](([,_0x3f8d25])=>_0x3f8d25===_0x412d23);_0x35848c&&this[_0x16b2e7(0x2d6)][_0x16b2e7(0x6b3)](_0x35848c[0x0],_0x48deb5[0x0]);}catch(_0x3c21ac){if(!(_0x3c21ac instanceof _0x864d50&&_0x3c21ac[_0x16b2e7(0x6ed)]===_0x864d50[_0x16b2e7(0x753)]['RemoteConnectionExists']))throw _0x3c21ac;_0x24a63b[_0x16b2e7(0x14c)](_0x306624[_0x16b2e7(0x30e)],this['configs'][_0x16b2e7(0x894)][_0x16b2e7(0x114)](),_0x48deb5[0x0],_0x3c21ac[_0x16b2e7(0x34d)]);}}[_0x148812(0x831)](_0x37ae2d,_0x594d46){const _0x50a356=_0x148812;return Array[_0x50a356(0x928)](_0x37ae2d)[_0x50a356(0x88)]((_0x2455ce,_0x5e170f)=>{const _0x1ae805=_0x50a356,_0x379f60=this[_0x1ae805(0x986)][_0x1ae805(0x8ee)](_0x5e170f);if(!_0x379f60||_0x379f60['getStatus']()===_0x5c5557[_0x1ae805(0xfa)])return _0x2455ce;const _0x497e43=_0x379f60[_0x1ae805(0x6bd)]();if(!_0x497e43)return _0x2455ce;const _0x2d9454=_0x497e43-_0x594d46;return _0x2d9454<=this[_0x1ae805(0x986)][_0x1ae805(0x937)]()||_0x2455ce['push']([_0x5e170f,_0x2d9454]),_0x2455ce;},[])[_0x50a356(0x556)](([,_0x9636a2],[,_0x31a709])=>_0x9636a2-_0x31a709);}}const _0x3c366d=[{'problemType':_0x2c67d9['CPUCycle'],'remediations':[{'type':_0x525464[_0x148812(0x48c)],'component':_0x2fbac2[_0x148812(0x570)],'action':_0x205619[_0x148812(0x362)]},{'type':_0x525464[_0x148812(0x1b9)],'component':_0x2fbac2[_0x148812(0x570)],'action':_0x205619[_0x148812(0x362)]}]},{'problemType':_0x2c67d9[_0x148812(0x8b8)],'remediations':[{'type':_0x525464[_0x148812(0x48c)],'component':_0x2fbac2['Resolution'],'action':_0x205619[_0x148812(0x362)]}]},{'problemType':_0x2c67d9[_0x148812(0x55a)],'remediations':[{'type':_0x525464[_0x148812(0x48c)],'component':_0x2fbac2['Resolution'],'action':_0x205619['Downgrade']}]},{'problemType':_0x2c67d9[_0x148812(0x61e)],'remediations':[{'type':_0x525464[_0x148812(0x48c)],'component':_0x2fbac2[_0x148812(0x570)],'action':_0x205619[_0x148812(0x362)]}]},{'problemType':_0x2c67d9[_0x148812(0x329)],'remediations':[{'type':_0x525464[_0x148812(0x48c)],'component':_0x2fbac2[_0x148812(0x329)],'action':_0x205619['Downgrade']}]},{'problemType':_0x2c67d9['Jitter'],'remediations':[{'type':_0x525464[_0x148812(0x48c)],'component':_0x2fbac2[_0x148812(0x329)],'action':_0x205619['Downgrade']}]},{'problemType':_0x2c67d9[_0x148812(0x767)],'remediations':[{'type':_0x525464[_0x148812(0x48c)],'component':_0x2fbac2[_0x148812(0x329)],'action':_0x205619[_0x148812(0x362)]}]}];class _0x447454{[_0x148812(0x5bf)];['systemTopic'];['lastRemediations']=new Map();constructor(_0x23dd3c){const _0x21e229=_0x148812;this[_0x21e229(0x5bf)]=_0x23dd3c,this[_0x21e229(0x5bf)][_0x21e229(0x990)][_0x21e229(0x428)](this);}[_0x148812(0x6ac)](){const _0x103047=_0x148812;this[_0x103047(0x5bf)][_0x103047(0x990)][_0x103047(0x447)](this);}['registerSystemPublisher'](_0x49ccc8){const _0x56c0ad=_0x148812;this[_0x56c0ad(0x3eb)]=_0x49ccc8;}['unregisterSystemPublisher'](){const _0x54c2ef=_0x148812;delete this[_0x54c2ef(0x3eb)];}[_0x148812(0x8f8)](_0xa8c5dc){const _0xbc89f0=_0x148812;_0xa8c5dc[_0xbc89f0(0x92a)][_0xbc89f0(0x200)]===_0x908bb3[_0xbc89f0(0x7f8)]&&this[_0xbc89f0(0x229)](_0xa8c5dc[_0xbc89f0(0x92a)][_0xbc89f0(0x912)]);}['handleRemediationSystemEvents'](_0x36fe7b){const _0x381012=_0x148812;_0x36fe7b['content'][_0x381012(0x200)]===_0x525464['RemoteRemediation']&&this['applyRemediation'](_0x36fe7b[_0x381012(0x21f)],{'type':_0x525464[_0x381012(0x48c)],'component':_0x36fe7b[_0x381012(0x92a)][_0x381012(0x912)][_0x381012(0x90)],'action':_0x36fe7b['content'][_0x381012(0x912)][_0x381012(0x89b)]});}['handleProblem'](_0x45da54){const _0x4b8efb=_0x148812,_0x316008=_0x3c366d['find'](_0x2bf438=>_0x2bf438[_0x4b8efb(0x31a)]===_0x45da54[_0x4b8efb(0x200)]);_0x316008['remediations']?.[_0x4b8efb(0x6bf)](_0x2cd069=>{const _0x3ec51b=_0x4b8efb;this['applyRemediation'](_0x45da54[_0x3ec51b(0x300)],{'type':_0x45da54['origin']===_0x12853b[_0x3ec51b(0x879)]?_0x525464[_0x3ec51b(0x48c)]:_0x525464[_0x3ec51b(0x1b9)],'component':_0x2cd069[_0x3ec51b(0x90)],'action':_0x2cd069[_0x3ec51b(0x89b)]});});}[_0x148812(0x5fe)](_0x2d45a1,_0x5510b7){const _0x2b1605=_0x148812;if(_0x5510b7[_0x2b1605(0x200)]===_0x525464[_0x2b1605(0x48c)]){const _0x280c6a=Date[_0x2b1605(0x847)](),_0x37dccd=this[_0x2b1605(0xab)][_0x2b1605(0x792)](_0x2d45a1);if(_0x37dccd&&_0x280c6a-_0x37dccd<0x1388)return;this[_0x2b1605(0xab)][_0x2b1605(0x6b3)](_0x2d45a1,_0x280c6a);}_0x24a63b[_0x2b1605(0x14c)](_0x306624[_0x2b1605(0x48c)],_0x2b1605(0x537),_0x5510b7),_0x24a63b[_0x2b1605(0x4ba)](_0x2b1605(0x5b0),{'clusterId':this[_0x2b1605(0x5bf)]['clusterId'],'nodeId':this[_0x2b1605(0x5bf)][_0x2b1605(0x894)][_0x2b1605(0x114)](),'nodeType':this['configs'][_0x2b1605(0x894)]['type'],'remoteId':_0x2d45a1,'data':{'type':_0x5510b7['type'],'component':_0x5510b7['component'],'action':_0x5510b7[_0x2b1605(0x89b)]}});let _0x1f0734,_0x40411b=_0x309f6b;_0x5510b7[_0x2b1605(0x200)]===_0x525464['RemoteRemediation']&&(_0x40411b=this[_0x2b1605(0x5bf)][_0x2b1605(0x894)][_0x2b1605(0x114)](),_0x1f0734=[_0x2d45a1]),this['systemTopic'][_0x2b1605(0x5a3)]({'sourceId':_0x40411b,'destinationIds':_0x1f0734,'messageType':_0x427f74[_0x2b1605(0x48c)],'content':{'type':_0x5510b7[_0x2b1605(0x200)],'targetId':_0x2d45a1,'data':_0x5510b7}});}}const _0x446c7c=0x3e8,_0x24f4ea=0x7530,_0x3b2f26='outbound-rtp',_0x2f5d37=_0x148812(0x230),_0x46a2d4=_0x148812(0x61c),_0x192632=[_0x3b2f26,_0x2f5d37],_0x2b9c73=[_0x46a2d4];class _0x4c3756{[_0x148812(0x2ee)]=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x148812(0x772)]=0x0;[_0x148812(0x37c)]=0x0;[_0x148812(0x464)]=0x0;['currentTimestamp']=0x0;[_0x148812(0x778)]=0x0;[_0x148812(0x33e)]=0x0;['previousBytes']=0x0;get[_0x148812(0x172)](){const _0x5dd245=_0x148812;return this[_0x5dd245(0x7d9)]>0x0&&this[_0x5dd245(0x778)]>0x0&&Date[_0x5dd245(0x847)]()-this['currentTimestamp']<_0x24f4ea?(this[_0x5dd245(0x33e)]-this[_0x5dd245(0x1c2)])/(this[_0x5dd245(0x7d9)]-this[_0x5dd245(0x778)])*0x8*0x3e8:0x0;}[_0x148812(0x477)](_0x31d0b6){const _0x1af0ca=_0x148812;switch(_0x31d0b6[_0x1af0ca(0x200)]){case _0x46a2d4:this[_0x1af0ca(0x3ae)](_0x31d0b6);break;case _0x3b2f26:this[_0x1af0ca(0x163)](_0x31d0b6);break;case _0x2f5d37:this[_0x1af0ca(0x679)](_0x31d0b6);}}['getReport'](){const _0x506402=_0x148812;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x506402(0x78f)](),'roundTripTime':this[_0x506402(0x2ee)],'jitter':this['jitter']};}['processInboundReport'](_0x1be853){const _0x43cd53=_0x148812;this['setBytes'](_0x1be853[_0x43cd53(0x811)]),this[_0x43cd53(0x768)](_0x1be853[_0x43cd53(0x33f)]),this[_0x43cd53(0x464)]=_0x1be853[_0x43cd53(0x6eb)],this[_0x43cd53(0x37c)]=_0x1be853[_0x43cd53(0x37c)],void 0x0!==_0x1be853[_0x43cd53(0x772)]?this[_0x43cd53(0x772)]=_0x1be853[_0x43cd53(0x772)]:this[_0x43cd53(0x772)]=0x0,void 0x0!==_0x1be853['estimatedPlayoutTimestamp']?this[_0x43cd53(0x296)]=_0x1be853[_0x43cd53(0x296)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x148812(0x163)](_0x275737){const _0x5534f2=_0x148812;this['setBytes'](_0x275737['bytesSent']),this[_0x5534f2(0x768)](_0x275737['timestamp']),this['packets']=_0x275737[_0x5534f2(0x3c1)];}['processRemoteInboundReport'](_0x443dc6){const _0x476ae2=_0x148812;this[_0x476ae2(0x2ee)]=0x3e8*_0x443dc6[_0x476ae2(0x2ee)],void 0x0!==_0x443dc6[_0x476ae2(0x772)]?this[_0x476ae2(0x772)]=_0x443dc6[_0x476ae2(0x772)]:this[_0x476ae2(0x772)]=0x0;}[_0x148812(0x78f)](){const _0x1e0b05=_0x148812;return this[_0x1e0b05(0x464)]>0x0?this[_0x1e0b05(0x37c)]/this[_0x1e0b05(0x464)]:0x0;}['setTimestamp'](_0x51474a){const _0x589b56=_0x148812;_0x51474a>this[_0x589b56(0x7d9)]&&(this[_0x589b56(0x778)]=this[_0x589b56(0x7d9)],this[_0x589b56(0x7d9)]=_0x51474a);}[_0x148812(0x43c)](_0x85bdf9){const _0x4a96dc=_0x148812;this[_0x4a96dc(0x1c2)]=this[_0x4a96dc(0x33e)],this[_0x4a96dc(0x33e)]=_0x85bdf9;}}class _0x21b27b extends _0x4c3756{}class _0x30dfc3 extends _0x4c3756{['frameTime']=0x0;[_0x148812(0x3c0)]=0x0;[_0x148812(0x7fc)]=0x0;[_0x148812(0xba)]=0x0;[_0x148812(0x8f4)]=0x0;get[_0x148812(0x801)](){const _0x373313=_0x148812;return this['currentTimestamp']>0x0&&this['previousTimestamp']>0x0&&Date[_0x373313(0x847)]()-this['currentTimestamp']<_0x24f4ea?(this[_0x373313(0xba)]-this[_0x373313(0x8f4)])/(this['currentTimestamp']-this['previousTimestamp'])*0x3e8:0x0;}get[_0x148812(0x63a)](){const _0x2d5a26=_0x148812;return this[_0x2d5a26(0x128)]&&this[_0x2d5a26(0xba)]&&this[_0x2d5a26(0xba)]>0x0?this[_0x2d5a26(0x128)]/this[_0x2d5a26(0xba)]:0x0;}set[_0x148812(0x7ba)](_0x391ecf){const _0x3d3517=_0x148812;this['previousFrames']=this[_0x3d3517(0xba)],this['currentFrames']=_0x391ecf;}['getReport'](){const _0x462f25=_0x148812;return{...super[_0x462f25(0x52d)](),'FPS':this[_0x462f25(0x801)],'timePerFrame':this[_0x462f25(0x63a)],'frameWidth':this['frameWidth'],'frameHeight':this['frameHeight']};}['processInboundReport'](_0x4bcb16){const _0x919ef8=_0x148812;super['processInboundReport'](_0x4bcb16),this['frameTime']=_0x4bcb16[_0x919ef8(0x7d8)],this[_0x919ef8(0x7ba)]=_0x4bcb16['framesDecoded'],this['frameWidth']=_0x4bcb16['frameWidth'],this[_0x919ef8(0x7fc)]=_0x4bcb16[_0x919ef8(0x7fc)];}[_0x148812(0x163)](_0x2fc41f){const _0x34bdd0=_0x148812;super[_0x34bdd0(0x163)](_0x2fc41f),this[_0x34bdd0(0x128)]=_0x2fc41f['totalEncodeTime'],this[_0x34bdd0(0x7ba)]=_0x2fc41f[_0x34bdd0(0x6ba)],this[_0x34bdd0(0x3c0)]=_0x2fc41f[_0x34bdd0(0x3c0)],this['frameHeight']=_0x2fc41f[_0x34bdd0(0x7fc)];}}class _0xdf9105{[_0x148812(0x828)]=new _0x21b27b();[_0x148812(0x1c0)]=new _0x30dfc3();get[_0x148812(0x172)](){const _0x289ab3=_0x148812;return this['audio']['bitrate']+this['video'][_0x289ab3(0x172)];}['processReports'](_0x4e4660){const _0x1055ef=_0x148812;return _0x4e4660[_0x1055ef(0x6bf)](_0x1d9abb=>{const _0x33d946=_0x1055ef;switch(_0x1d9abb[_0x33d946(0x550)]){case _0x33d946(0x828):this[_0x33d946(0x828)]['processReport'](_0x1d9abb);break;case _0x33d946(0x1c0):this['video'][_0x33d946(0x477)](_0x1d9abb);}}),this['getReport']();}[_0x148812(0x52d)](){const _0x2fcdd2=_0x148812;return{'audio':this[_0x2fcdd2(0x828)][_0x2fcdd2(0x52d)](),'video':this[_0x2fcdd2(0x1c0)]['getReport'](),'roundTripTime':this[_0x2fcdd2(0x771)](),'AudioVideoDelay':this[_0x2fcdd2(0x705)](),'bitrate':this['bitrate']};}['getRoundTripTime'](){const _0x438765=_0x148812;return Math['floor']((this['audio'][_0x438765(0x2ee)]+this[_0x438765(0x1c0)]['roundTripTime'])/0x2);}['getAudioVideoDelay'](){const _0x3f5c21=_0x148812;return this[_0x3f5c21(0x828)][_0x3f5c21(0x296)]-this[_0x3f5c21(0x1c0)][_0x3f5c21(0x296)];}}class _0x5a73ee{[_0x148812(0x2eb)]=0x0;['senderPreviousTimestamp']=0x0;[_0x148812(0x131)]=0x0;[_0x148812(0x4b0)]=0x0;[_0x148812(0x1f6)]=0x0;[_0x148812(0x213)]=0x0;['receiverCurrentBytes']=0x0;['receiverPreviousBytes']=0x0;[_0x148812(0x29e)]=0x0;[_0x148812(0xff)]=0x0;['senderTimeProcessing']=0x0;[_0x148812(0x3aa)]=0x0;[_0x148812(0x2ee)]=0x0;get[_0x148812(0x172)](){const _0x992570=_0x148812;return this[_0x992570(0x4f6)]+this['receiverBitrate'];}get[_0x148812(0x4f6)](){const _0x18510f=_0x148812;return this[_0x18510f(0x2eb)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date[_0x18510f(0x847)]()-this[_0x18510f(0x2eb)]<_0x24f4ea?(this[_0x18510f(0x1f6)]-this[_0x18510f(0x213)])/(this['senderCurrentTimestamp']-this[_0x18510f(0x780)])*0x8*0x3e8:0x0;}get[_0x148812(0x695)](){const _0x4b5a66=_0x148812;return this['receiverCurrentTimestamp']>0x0&&this[_0x4b5a66(0x4b0)]>0x0&&Date[_0x4b5a66(0x847)]()-this['receiverCurrentTimestamp']<_0x24f4ea?(this['receiverCurrentBytes']-this[_0x4b5a66(0x97d)])/(this[_0x4b5a66(0x131)]-this[_0x4b5a66(0x4b0)])*0x8*0x3e8:0x0;}['processReport'](_0x4ad4b2){const _0x20f93c=_0x148812;switch(_0x4ad4b2['origin']){case _0x12853b[_0x20f93c(0x879)]:this[_0x20f93c(0x73c)](_0x4ad4b2);break;case _0x12853b[_0x20f93c(0x71d)]:this['processReceiverReport'](_0x4ad4b2);}}['getReport'](){const _0x502718=_0x148812;return{'bitrate':this[_0x502718(0x172)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x502718(0x695)],'totalBytes':this[_0x502718(0x417)](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this[_0x502718(0xe3)](),'totalMessages':this[_0x502718(0x29e)]+this[_0x502718(0xff)],'senderTotalMessages':this[_0x502718(0x29e)],'receiverTotalMessages':this[_0x502718(0xff)],'timeProcessing':this['senderTimeProcessing']+this['receiverTimeProcessing'],'senderTimeProcessing':this[_0x502718(0x1a4)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this['roundTripTime']};}[_0x148812(0x417)](){const _0xb766a1=_0x148812;return this[_0xb766a1(0x1f6)]+this[_0xb766a1(0x951)];}['getSenderTotalBytes'](){const _0x5747d7=_0x148812;return this[_0x5747d7(0x1f6)];}[_0x148812(0xe3)](){const _0x1b02ab=_0x148812;return this[_0x1b02ab(0x951)];}[_0x148812(0x73c)](_0x1e1b24){const _0x462d21=_0x148812;this[_0x462d21(0x294)](_0x1e1b24[_0x462d21(0x33f)]),this['setBytes'](_0x1e1b24[_0x462d21(0x64a)]),this['senderTotalMessages']=_0x1e1b24['messagesSent'],this[_0x462d21(0x1a4)]=_0x1e1b24[_0x462d21(0x582)],this['roundTripTime']=_0x1e1b24[_0x462d21(0x2ee)];}['processReceiverReport'](_0x3640f6){const _0x498893=_0x148812;this[_0x498893(0x637)](_0x3640f6[_0x498893(0x33f)]),this['setReceiverBytes'](_0x3640f6['bytesReceived']),this['receiverTotalMessages']=_0x3640f6[_0x498893(0x8f7)],this[_0x498893(0x3aa)]=_0x3640f6[_0x498893(0x7ef)];}[_0x148812(0x294)](_0x1faa92){const _0xb57b00=_0x148812;_0x1faa92>this['senderCurrentTimestamp']&&(this['senderPreviousTimestamp']=this[_0xb57b00(0x2eb)],this[_0xb57b00(0x2eb)]=_0x1faa92);}[_0x148812(0x637)](_0x361397){const _0x57e896=_0x148812;_0x361397>this['receiverCurrentTimestamp']&&(this[_0x57e896(0x4b0)]=this[_0x57e896(0x131)],this[_0x57e896(0x131)]=_0x361397);}[_0x148812(0x43c)](_0xee2eae){const _0x25765f=_0x148812;this[_0x25765f(0x213)]=this[_0x25765f(0x1f6)],this[_0x25765f(0x1f6)]=_0xee2eae;}[_0x148812(0x6c2)](_0x4057f7){const _0x5ecdd6=_0x148812;this[_0x5ecdd6(0x97d)]=this[_0x5ecdd6(0x951)],this['receiverCurrentBytes']=_0x4057f7;}}class _0x312caf{[_0x148812(0x3f8)]=new Map();[_0x148812(0x726)]=new Map();[_0x148812(0x268)]=new _0x5a73ee();get[_0x148812(0x4f6)](){const _0x266977=_0x148812;let _0x419280=0x0;return this[_0x266977(0x3f8)][_0x266977(0x6bf)](_0x10712a=>{const _0x9dc88d=_0x266977;_0x419280+=_0x10712a[_0x9dc88d(0x172)];}),_0x419280+=this[_0x266977(0x268)][_0x266977(0x4f6)],_0x419280;}get[_0x148812(0x695)](){const _0x5d8fa5=_0x148812;let _0x206b38=0x0;return this[_0x5d8fa5(0x726)]['forEach'](_0x32bd52=>{const _0x30dcd6=_0x5d8fa5;_0x206b38+=_0x32bd52[_0x30dcd6(0x172)];}),_0x206b38+=this[_0x5d8fa5(0x268)][_0x5d8fa5(0x695)],_0x206b38;}get['bitrate'](){const _0x5698a3=_0x148812;return this[_0x5698a3(0x4f6)]+this[_0x5698a3(0x695)];}['processReports'](_0x3ed6bb,_0x2231fb){const _0x3528b1=_0x148812,_0x5c40cd=[],_0xdcb74=[];return _0x3ed6bb instanceof Array?_0x3ed6bb[_0x3528b1(0x6bf)](_0x4cb9a5=>{const _0x39e1c4=_0x3528b1;_0x4cb9a5[_0x39e1c4(0x6bf)](_0xd67a78=>{const _0x24f6ad=_0x39e1c4;_0x2b9c73[_0x24f6ad(0x523)](_0xd67a78[_0x24f6ad(0x200)])&&_0x5c40cd[_0x24f6ad(0x5dc)](_0xd67a78),_0x192632['includes'](_0xd67a78[_0x24f6ad(0x200)])&&_0xdcb74[_0x24f6ad(0x5dc)](_0xd67a78);});}):this[_0x3528b1(0x268)][_0x3528b1(0x477)](_0x3ed6bb),_0x5c40cd[_0x3528b1(0x6a1)]>0x0&&_0x2231fb?{...this[_0x3528b1(0x5d3)](_0x2231fb,_0x5c40cd),'origin':_0x12853b['Receiver'],'streamId':_0x2231fb}:_0xdcb74['length']>0x0&&_0x2231fb?{...this[_0x3528b1(0xa6)](_0x2231fb,_0xdcb74),'origin':_0x12853b['Sender'],'streamId':_0x2231fb}:void 0x0;}[_0x148812(0x52d)](){const _0x35c27c=_0x148812,_0x15d978={};this[_0x35c27c(0x3f8)]['forEach']((_0x4df9e1,_0x17b101)=>{const _0x44a23b=_0x35c27c;_0x15d978[_0x17b101]=_0x4df9e1[_0x44a23b(0x52d)]();});const _0x2db5e2={};return this['receiverStreams']['forEach']((_0x625ab,_0x286665)=>{_0x2db5e2[_0x286665]=_0x625ab['getReport']();}),{'bitrate':this[_0x35c27c(0x172)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0x35c27c(0x695)],'senderStreams':_0x15d978,'receiverStreams':_0x2db5e2,'dataChannel':this[_0x35c27c(0x268)]['getReport']()};}[_0x148812(0x5d3)](_0xd2392c,_0x3ac5b1){const _0x189321=_0x148812;return this['receiverStreams']['has'](_0xd2392c)||this[_0x189321(0x726)][_0x189321(0x6b3)](_0xd2392c,new _0xdf9105()),this[_0x189321(0x726)][_0x189321(0x792)](_0xd2392c)[_0x189321(0x6b5)](_0x3ac5b1);}[_0x148812(0xa6)](_0xe4250e,_0x353f72){const _0x1ee78e=_0x148812;return this[_0x1ee78e(0x3f8)][_0x1ee78e(0x31f)](_0xe4250e)||this['senderStreams'][_0x1ee78e(0x6b3)](_0xe4250e,new _0xdf9105()),this[_0x1ee78e(0x3f8)][_0x1ee78e(0x792)](_0xe4250e)[_0x1ee78e(0x6b5)](_0x353f72);}}class _0x3ec699{[_0x148812(0x451)]=new Map();[_0x148812(0x748)]=0x0;[_0x148812(0x478)]=0x0;[_0x148812(0x154)]=new Map();[_0x148812(0x82e)]=new Map();[_0x148812(0x960)]=new Map();[_0x148812(0x1f8)]=new Map();[_0x148812(0x36e)]=new Map();[_0x148812(0x1ec)]=new Map();['graphDatabases']=new Map();[_0x148812(0x4fe)]=new Map();[_0x148812(0x29e)]=new Map();[_0x148812(0xff)]=new Map();[_0x148812(0x1a4)]=new Map();[_0x148812(0x3aa)]=new Map();['systemMessages']=new Map();[_0x148812(0x3eb)];['getReport'](){const _0x3df5b7=_0x148812,_0xb65e4b={};this[_0x3df5b7(0x451)]['forEach']((_0x4d1b97,_0x5d6de6)=>{const _0x1f67e3=_0x3df5b7;_0xb65e4b[_0x5d6de6]=_0x4d1b97[_0x1f67e3(0x52d)]();});let _0x4e0b24=0x0;this['senderTimeProcessing'][_0x3df5b7(0x6bf)](_0x58ec0e=>{_0x4e0b24+=_0x58ec0e;});let _0x1bbc8f=0x0;this[_0x3df5b7(0x3aa)][_0x3df5b7(0x6bf)](_0x4668d0=>{_0x1bbc8f+=_0x4668d0;});const _0x2c9645=_0x4e0b24+_0x1bbc8f;let _0x48790a={'messages':{'total':0x0}};this[_0x3df5b7(0x219)][_0x3df5b7(0x6bf)](_0x2f8e3e=>{const _0x1f67c4=_0x3df5b7;Object[_0x1f67c4(0x6fe)](_0x2f8e3e)['forEach'](_0x1741f2=>{const _0x49dd11=_0x1f67c4;_0x48790a[_0x1741f2]||(_0x48790a[_0x1741f2]={}),Object[_0x49dd11(0x6fe)](_0x2f8e3e[_0x1741f2])['forEach'](_0x3eaf89=>{_0x48790a[_0x1741f2][_0x3eaf89]||(_0x48790a[_0x1741f2][_0x3eaf89]=0x0),_0x48790a[_0x1741f2][_0x3eaf89]+=_0x2f8e3e[_0x1741f2][_0x3eaf89];});});});let _0x9fe2af=0x0,_0x51ba67=0x0,_0x41b896=0x0,_0x126840=0x0,_0x358195=0x0;return this[_0x3df5b7(0x154)][_0x3df5b7(0x6bf)](_0x10dddd=>{const _0x52327e=_0x3df5b7;_0x51ba67+=_0x10dddd['messagesSent'],_0x41b896+=_0x10dddd[_0x52327e(0x8f7)],_0x126840+=_0x10dddd[_0x52327e(0x64a)],_0x358195+=_0x10dddd['bytesReceived'];}),this[_0x3df5b7(0x82e)][_0x3df5b7(0x6bf)](_0x544b81=>{const _0x5477e4=_0x3df5b7;_0x9fe2af+=_0x544b81[_0x5477e4(0x44f)],_0x51ba67+=_0x544b81['messagesSent'],_0x41b896+=_0x544b81[_0x5477e4(0x8f7)],_0x126840+=_0x544b81[_0x5477e4(0x64a)],_0x358195+=_0x544b81[_0x5477e4(0x811)];}),this[_0x3df5b7(0x960)][_0x3df5b7(0x6bf)](_0x29714a=>{const _0xe7fab3=_0x3df5b7;_0x9fe2af+=_0x29714a['storage'],_0x51ba67+=_0x29714a[_0xe7fab3(0x2a4)],_0x41b896+=_0x29714a[_0xe7fab3(0x8f7)],_0x126840+=_0x29714a[_0xe7fab3(0x64a)],_0x358195+=_0x29714a['bytesReceived'];}),this[_0x3df5b7(0x1f8)][_0x3df5b7(0x6bf)](_0x12dbef=>{const _0x163737=_0x3df5b7;_0x9fe2af+=_0x12dbef['storage'],_0x51ba67+=_0x12dbef[_0x163737(0x2a4)],_0x41b896+=_0x12dbef[_0x163737(0x8f7)],_0x126840+=_0x12dbef[_0x163737(0x64a)],_0x358195+=_0x12dbef[_0x163737(0x811)];}),this[_0x3df5b7(0x36e)]['forEach'](_0x9b46f1=>{const _0x312642=_0x3df5b7;_0x9fe2af+=_0x9b46f1[_0x312642(0x44f)],_0x51ba67+=_0x9b46f1[_0x312642(0x2a4)],_0x41b896+=_0x9b46f1['messagesReceived'],_0x126840+=_0x9b46f1[_0x312642(0x64a)],_0x358195+=_0x9b46f1['bytesReceived'];}),this[_0x3df5b7(0x1ec)][_0x3df5b7(0x6bf)](_0x22bd6d=>{const _0xb6f8f8=_0x3df5b7;_0x9fe2af+=_0x22bd6d[_0xb6f8f8(0x44f)],_0x51ba67+=_0x22bd6d[_0xb6f8f8(0x2a4)],_0x41b896+=_0x22bd6d[_0xb6f8f8(0x8f7)],_0x126840+=_0x22bd6d['bytesSent'],_0x358195+=_0x22bd6d[_0xb6f8f8(0x811)];}),this[_0x3df5b7(0x4b2)][_0x3df5b7(0x6bf)](_0xfc1a67=>{const _0x28a412=_0x3df5b7;_0x9fe2af+=_0xfc1a67[_0x28a412(0x44f)],_0x51ba67+=_0xfc1a67[_0x28a412(0x2a4)],_0x41b896+=_0xfc1a67[_0x28a412(0x8f7)],_0x126840+=_0xfc1a67[_0x28a412(0x64a)],_0x358195+=_0xfc1a67['bytesReceived'];}),{'STVolatility':this[_0x3df5b7(0x8a3)](),'DTVolatility':this[_0x3df5b7(0x5ae)](),'bitrate':this[_0x3df5b7(0x372)](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x9fe2af,'totalMessages':_0x51ba67+_0x41b896,'totalMessagesSent':_0x51ba67,'totalMessagesReceived':_0x41b896,'totalBytes':_0x126840+_0x358195,'totalBytesSent':_0x126840,'totalBytesReceived':_0x358195,'systemMessages':_0x48790a,'timeProcessing':_0x2c9645,'nodes':_0xb65e4b,'pubsubTopics':Object[_0x3df5b7(0x4ec)](this['pubsubTopics']),'objectStores':Object[_0x3df5b7(0x4ec)](this[_0x3df5b7(0x82e)]),'keyValueDatabases':Object[_0x3df5b7(0x4ec)](this[_0x3df5b7(0x960)]),'generativeAIContexts':Object[_0x3df5b7(0x4ec)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x3df5b7(0x4ec)](this[_0x3df5b7(0x36e)]),'vectorDatabases':Object['fromEntries'](this[_0x3df5b7(0x1ec)]),'graphDatabases':Object[_0x3df5b7(0x4ec)](this[_0x3df5b7(0x4b2)]),'externalStorages':Object[_0x3df5b7(0x4ec)](this[_0x3df5b7(0x4fe)])};}['addRemoteNode'](_0x4d46f8){const _0x1b42e0=_0x148812;this[_0x1b42e0(0x451)][_0x1b42e0(0x6b3)](_0x4d46f8,new _0x312caf());}[_0x148812(0x46e)](_0x137236){const _0x363564=_0x148812;this[_0x363564(0x451)][_0x363564(0x91b)](_0x137236);}[_0x148812(0x6b5)](_0x59206e,_0x49261c,_0x3ed27b){const _0x21f364=_0x148812;_0x49261c instanceof Array||this['processDataChannelReport'](_0x59206e,_0x49261c);const _0x1881b2=this[_0x21f364(0x451)][_0x21f364(0x792)](_0x59206e)?.[_0x21f364(0x6b5)](_0x49261c,_0x3ed27b);_0x1881b2&&this[_0x21f364(0x3eb)][_0x21f364(0x5a3)]({'sourceId':_0x309f6b,'messageType':_0x427f74['Stats'],'content':{'type':_0x47161a['StreamReport'],'data':{..._0x1881b2,'nodeId':_0x59206e}}});}[_0x148812(0x400)](_0x4682ad){const _0x89d159=_0x148812;this[_0x89d159(0x855)](_0x4682ad['secheduleTime']),this[_0x89d159(0x663)](_0x4682ad[_0x89d159(0x478)]),this[_0x89d159(0x3eb)]['publish']({'sourceId':_0x309f6b,'messageType':_0x427f74['Stats'],'content':{'type':_0x47161a[_0x89d159(0x439)],'data':{'STVolatility':this['getSTVolatility'](),'DTVolatility':this[_0x89d159(0x5ae)]()}}});}[_0x148812(0x92d)](_0x2c4b2c,_0x357293,_0x529d4e){const _0x58049c=_0x148812;switch(_0x357293){case _0x457093[_0x58049c(0x64e)]:this[_0x58049c(0x154)][_0x58049c(0x6b3)](_0x2c4b2c,_0x529d4e);break;case _0x457093[_0x58049c(0x299)]:this['objectStores'][_0x58049c(0x6b3)](_0x2c4b2c,_0x529d4e);break;case _0x457093[_0x58049c(0xc0)]:this[_0x58049c(0x960)][_0x58049c(0x6b3)](_0x2c4b2c,_0x529d4e);break;case _0x457093['GenerativeAIContextStats']:this['generativeAIContexts'][_0x58049c(0x6b3)](_0x2c4b2c,_0x529d4e);break;case _0x457093[_0x58049c(0x23a)]:this[_0x58049c(0x36e)][_0x58049c(0x6b3)](_0x2c4b2c,_0x529d4e);break;case _0x457093[_0x58049c(0x66a)]:this[_0x58049c(0x1ec)][_0x58049c(0x6b3)](_0x2c4b2c,_0x529d4e);break;case _0x457093[_0x58049c(0x707)]:this[_0x58049c(0x4b2)][_0x58049c(0x6b3)](_0x2c4b2c,_0x529d4e);break;case _0x457093['ExternalStorageStats']:this[_0x58049c(0x4fe)][_0x58049c(0x6b3)](_0x2c4b2c,_0x529d4e);}}[_0x148812(0x364)](_0x41f7d8){this['systemTopic']=_0x41f7d8;}[_0x148812(0x75f)](){const _0x9f7a9f=_0x148812;delete this[_0x9f7a9f(0x3eb)];}[_0x148812(0x8a3)](){const _0x203138=_0x148812;return this['scheduleTime']>0x0&&this[_0x203138(0x748)]-_0x446c7c>0x0?(this[_0x203138(0x748)]-_0x446c7c)/_0x446c7c:0x0;}[_0x148812(0x5ae)](){const _0x5e2dc3=_0x148812;return this[_0x5e2dc3(0x478)]>0x0&&this[_0x5e2dc3(0x478)]-0x64>0x0?(this[_0x5e2dc3(0x478)]-0x64)/0x64:0x0;}[_0x148812(0x57b)](){const _0x35662c=_0x148812;let _0x13dff3=0x0;return this[_0x35662c(0x451)][_0x35662c(0x6bf)](_0x36c209=>{const _0x59fb49=_0x35662c;_0x13dff3+=_0x36c209[_0x59fb49(0x4f6)];}),_0x13dff3;}[_0x148812(0x634)](){const _0x3f04bd=_0x148812;let _0x1ea647=0x0;return this['nodes'][_0x3f04bd(0x6bf)](_0x33dfe0=>{const _0x2c9e74=_0x3f04bd;_0x1ea647+=_0x33dfe0[_0x2c9e74(0x695)];}),_0x1ea647;}[_0x148812(0x372)](){const _0x201f0a=_0x148812;let _0x49a5a2=0x0;return this['nodes'][_0x201f0a(0x6bf)](_0x2d9348=>{const _0x250f49=_0x201f0a;_0x49a5a2+=_0x2d9348[_0x250f49(0x172)];}),_0x49a5a2;}[_0x148812(0x855)](_0x1e444c){const _0x256d58=_0x148812;this[_0x256d58(0x748)]=_0x1e444c;}['setDurationTime'](_0x22b2f2){const _0x4bb94e=_0x148812;this[_0x4bb94e(0x478)]=_0x22b2f2;}[_0x148812(0x993)](_0x2b2a8e,_0x3cc5fa){const _0x4358e0=_0x148812;switch(_0x3cc5fa[_0x4358e0(0x46a)]){case _0x12853b[_0x4358e0(0x879)]:this[_0x4358e0(0x73c)](_0x2b2a8e,_0x3cc5fa);break;case _0x12853b[_0x4358e0(0x71d)]:this[_0x4358e0(0x460)](_0x2b2a8e,_0x3cc5fa);}}[_0x148812(0x73c)](_0x253fa0,_0x40e8ef){const _0x5f4042=_0x148812;this[_0x5f4042(0x29e)][_0x5f4042(0x6b3)](_0x253fa0,_0x40e8ef[_0x5f4042(0x2a4)]),this[_0x5f4042(0x1a4)][_0x5f4042(0x6b3)](_0x253fa0,_0x40e8ef['timeSending']);}[_0x148812(0x460)](_0x4d2f9d,_0x5ad761){const _0x4b7ff6=_0x148812;this[_0x4b7ff6(0xff)][_0x4b7ff6(0x6b3)](_0x4d2f9d,_0x5ad761[_0x4b7ff6(0x8f7)]),this[_0x4b7ff6(0x3aa)]['set'](_0x4d2f9d,_0x5ad761[_0x4b7ff6(0x7ef)]),this[_0x4b7ff6(0x219)][_0x4b7ff6(0x6b3)](_0x4d2f9d,_0x5ad761[_0x4b7ff6(0x219)]);}}class _0x510f31{[_0x148812(0x5bf)];[_0x148812(0x7f4)]=new Set();[_0x148812(0x198)];[_0x148812(0x8e0)];[_0x148812(0x82d)];[_0x148812(0x545)]=new _0x3ec699();constructor(_0x5ba22c){const _0x33737e=_0x148812;this[_0x33737e(0x5bf)]=_0x5ba22c,this[_0x33737e(0x5bf)][_0x33737e(0x990)][_0x33737e(0x428)](this[_0x33737e(0x545)]),this[_0x33737e(0x8e0)]=this[_0x33737e(0x5ad)](),this[_0x33737e(0x82d)]=this[_0x33737e(0x237)]();}['close'](){const _0x41bc31=_0x148812;this[_0x41bc31(0x5bf)][_0x41bc31(0x990)]['unregisterSystemSource'](this[_0x41bc31(0x545)]),this['statsReporting'](),this['statsCollection']();}[_0x148812(0x147)](_0xc24a94){const _0x786f84=_0x148812;this[_0x786f84(0x7f4)]['add'](_0xc24a94),this[_0x786f84(0x545)]['addRemoteNode'](_0xc24a94);}[_0x148812(0x46e)](_0x4b6293){const _0x38391b=_0x148812;this[_0x38391b(0x7f4)][_0x38391b(0x91b)](_0x4b6293),this[_0x38391b(0x545)][_0x38391b(0x46e)](_0x4b6293);}['handlePeerConnectionSystemEvents'](_0x258e12){const _0x308cec=_0x148812;if(_0x258e12['content'][_0x308cec(0x200)]===_0x4c498b[_0x308cec(0x7b0)]){const {nodeId:_0x19b6f5,streamId:_0x323074,stats:_0x269103}=_0x258e12[_0x308cec(0x92a)];this['statsReport'][_0x308cec(0x6b5)](_0x19b6f5,_0x269103,_0x323074);}}['handleContentSystemEvents'](_0x6d09ce){const _0x36d9ac=_0x148812;switch(_0x6d09ce[_0x36d9ac(0x92a)][_0x36d9ac(0x200)]){case _0x457093[_0x36d9ac(0x299)]:case _0x457093[_0x36d9ac(0xc0)]:case _0x457093[_0x36d9ac(0x64e)]:case _0x457093[_0x36d9ac(0x73a)]:case _0x457093[_0x36d9ac(0x23a)]:case _0x457093['VectorDatabaseStats']:case _0x457093[_0x36d9ac(0x707)]:case _0x457093[_0x36d9ac(0x1d4)]:this[_0x36d9ac(0x545)][_0x36d9ac(0x92d)](_0x6d09ce[_0x36d9ac(0x92a)][_0x36d9ac(0xb2)],_0x6d09ce[_0x36d9ac(0x92a)]['type'],_0x6d09ce[_0x36d9ac(0x92a)]['stats']);}}['setupStatsReporting'](){return _0x1d7287['setInterval'](()=>{const _0x2d4801=a0_0x53e8,_0x35880b=this['statsReport'][_0x2d4801(0x52d)]();_0x24a63b[_0x2d4801(0x14c)](_0x306624[_0x2d4801(0x7b0)],_0x2d4801(0x42d),_0x35880b),(0x0,_0x23941c['addDoc'])((0x0,_0x23941c[_0x2d4801(0x6bc)])(_0x22b478[_0x2d4801(0x58f)](),_0x2d4801(0x457)+this['configs']['vendorId']+_0x2d4801(0x1fd)),{'clusterId':this[_0x2d4801(0x5bf)][_0x2d4801(0x853)],'nodeId':this[_0x2d4801(0x5bf)][_0x2d4801(0x894)][_0x2d4801(0x114)](),'nodeType':this[_0x2d4801(0x5bf)][_0x2d4801(0x894)]['type'],'timestamp':(0x0,_0x23941c['serverTimestamp'])(),'report':_0x35880b}),_0x24a63b[_0x2d4801(0x4ba)](_0x2d4801(0x8da),{'clusterId':this[_0x2d4801(0x5bf)]['clusterId'],'nodeId':this['configs'][_0x2d4801(0x894)][_0x2d4801(0x114)](),'nodeType':this['configs']['localNode'][_0x2d4801(0x200)],'data':{'report':_0x35880b}});},_0x24f4ea);}[_0x148812(0x5ad)](){const _0xe8be30=_0x148812;let _0xbec8e2=!0x1,_0x1dc6a0=Date[_0xe8be30(0x847)]();return _0x1d7287[_0xe8be30(0x511)](async()=>{const _0x1ebe45=_0xe8be30;if(_0xbec8e2)return;if(_0xbec8e2=!0x0,0x0===this['remoteNodes'][_0x1ebe45(0x33c)])return delete this['nextNodeId'],void(_0xbec8e2=!0x1);const _0x57287d=Date[_0x1ebe45(0x847)]();this['findNextNodeId']();try{await this[_0x1ebe45(0x5bf)][_0x1ebe45(0x990)][_0x1ebe45(0x425)](this[_0x1ebe45(0x198)]);}catch(_0x67095d){}this[_0x1ebe45(0x545)][_0x1ebe45(0x400)]({'secheduleTime':_0x57287d-_0x1dc6a0,'durationTime':Date['now']()-_0x57287d}),_0x1dc6a0=_0x57287d,_0xbec8e2=!0x1;},_0x446c7c);}['findNextNodeId'](){const _0x2647f7=_0x148812;let _0x1478db,_0x1948cd=!0x1;this[_0x2647f7(0x198)]&&(this[_0x2647f7(0x7f4)][_0x2647f7(0x31f)](this[_0x2647f7(0x198)])||delete this[_0x2647f7(0x198)]);for(const _0x4bfdf7 of this[_0x2647f7(0x7f4)])if(_0x1478db||(_0x1478db=_0x4bfdf7),this[_0x2647f7(0x198)]!==_0x4bfdf7){if(_0x1948cd)return void(this['nextNodeId']=_0x4bfdf7);}else _0x1948cd=!0x0,delete this[_0x2647f7(0x198)];this['nextNodeId']||(this[_0x2647f7(0x198)]=_0x1478db);}}class _0x2ca2d6{[_0x148812(0x939)];[_0x148812(0x851)];['systemTopic'];constructor(_0x22cfd9,_0x3cf7bf){const _0x38581a=_0x148812;this['source']=_0x22cfd9,this[_0x38581a(0x851)]=_0x3cf7bf;}[_0x148812(0x364)](_0x4e4179){this['systemTopic']=_0x4e4179;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}class _0x56b0d5 extends _0x2ca2d6{[_0x148812(0x939)];[_0x148812(0x851)];[_0x148812(0xc8)];constructor(_0x4911f5,_0x2787f6,_0x4f25b5){const _0x1f78ef=_0x148812;super(_0x4911f5,_0x2787f6),this[_0x1f78ef(0x939)]=_0x4911f5,this[_0x1f78ef(0x851)]=_0x2787f6,this[_0x1f78ef(0xc8)]=_0x4f25b5;}['subscribe'](_0x4cb9f1,_0x3918da,_0xf96cb7){const _0x1fc6a6=_0x148812;if(this['destination'][_0x1fc6a6(0x16e)]()===_0x366c21[_0x1fc6a6(0x8a4)]['Media']){const _0x523f8c={'type':_0x43bb47[_0x1fc6a6(0x893)],'label':this[_0x1fc6a6(0x851)]['getLabel'](),'ownerId':_0x4cb9f1,'trackKinds':_0x3918da??this[_0x1fc6a6(0x851)][_0x1fc6a6(0x7fa)](),'params':_0xf96cb7};this[_0x1fc6a6(0x3eb)][_0x1fc6a6(0x5a3)]({'sourceId':this['source'][_0x1fc6a6(0x63f)](),'destinationIds':[this[_0x1fc6a6(0x939)][_0x1fc6a6(0x4e1)]()],'messageType':_0x427f74[_0x1fc6a6(0x737)],'content':_0x523f8c}),this[_0x1fc6a6(0xc8)]=_0xf96cb7;}}[_0x148812(0x81a)](_0x3b7ed3,_0x4604b4){const _0xf074a0=_0x148812;if(this['destination'][_0xf074a0(0x16e)]()===_0x366c21[_0xf074a0(0x8a4)]['Media']){const _0x51026a={'type':_0x43bb47['UpdateMediaStream'],'label':this['destination']['getLabel'](),'ownerId':_0x3b7ed3,'params':_0x4604b4};this[_0xf074a0(0x3eb)]['publish']({'sourceId':this['source'][_0xf074a0(0x63f)](),'destinationIds':[this[_0xf074a0(0x939)][_0xf074a0(0x4e1)]()],'messageType':_0x427f74[_0xf074a0(0x737)],'content':_0x51026a}),this[_0xf074a0(0xc8)]=_0x4604b4;}}['unsubscribe'](_0x2aed29,_0x2281fd,_0x1c72fd){const _0x20d5f9=_0x148812;if(this[_0x20d5f9(0x851)][_0x20d5f9(0x16e)]()===_0x366c21['ContentType'][_0x20d5f9(0x6ca)]){const _0x6c338e={'type':_0x43bb47[_0x20d5f9(0x6fa)],'label':this['destination'][_0x20d5f9(0x5cf)](),'ownerId':_0x2aed29,'trackKinds':_0x1c72fd??this[_0x20d5f9(0x851)][_0x20d5f9(0x7fa)](),'remainingTracks':_0x2281fd};this[_0x20d5f9(0x3eb)]['publish']({'sourceId':this[_0x20d5f9(0x939)]['getLocalId'](),'destinationIds':[this[_0x20d5f9(0x939)]['getRemoteId']()],'messageType':_0x427f74['Subscription'],'content':_0x6c338e});}}}class _0x52daad{[_0x148812(0x832)];[_0x148812(0x433)];[_0x148812(0x6db)];[_0x148812(0x3eb)];['answers']=new Set();[_0x148812(0xb1)]=Date[_0x148812(0x847)]();[_0x148812(0xc8)];['retryCount']=0x0;constructor(_0x117e9c,_0x8b5344,_0x3975e2,_0x21a893){const _0x1a6a86=_0x148812;this[_0x1a6a86(0x832)]=_0x8b5344,this['maxDistance']=_0x3975e2,this['tracks']=_0x21a893,_0x117e9c[_0x1a6a86(0x6bf)](_0x3551cb=>{const _0x201209=_0x1a6a86;this[_0x201209(0x51b)][_0x201209(0x96d)]({'nodeId':_0x3551cb,'type':_0xc5a2fb[_0x201209(0xa7)]});});}[_0x148812(0x8cf)](){const _0x542413=_0x148812;return this[_0x542413(0x6db)];}[_0x148812(0x364)](_0x3e14f9){const _0x44d3aa=_0x148812;this[_0x44d3aa(0x3eb)]=_0x3e14f9;}[_0x148812(0x75f)](){const _0x335f34=_0x148812;delete this[_0x335f34(0x3eb)];}['reset'](_0x4b3176,_0x8207e5){const _0x187e48=_0x148812;this['startTime']=Date[_0x187e48(0x847)](),this[_0x187e48(0x51b)]['clear'](),_0x4b3176[_0x187e48(0x6bf)](_0x1ccb50=>{const _0x1ef094=_0x187e48;this[_0x1ef094(0x51b)]['add']({'nodeId':_0x1ccb50,'type':_0xc5a2fb['Waiting']});}),this[_0x187e48(0x82f)]+=0x1,this[_0x187e48(0x832)]=_0x8207e5;}['sendRequest'](_0x25ed69,_0x22aaa6,_0x2954c9,_0x4c4aff,_0x4ea100){const _0x36ec93=_0x148812;if(this[_0x36ec93(0x82f)]>0xa)throw new _0x864d50(_0x864d50['codes'][_0x36ec93(0x3b8)],{'answers':Array[_0x36ec93(0x928)](this[_0x36ec93(0x51b)])[_0x36ec93(0x7e1)](_0x39dddb=>({'nodeId':_0x39dddb[_0x36ec93(0x300)],'type':_0x39dddb[_0x36ec93(0x200)]}))});const _0x546296=Array[_0x36ec93(0x928)](this[_0x36ec93(0x51b)])[_0x36ec93(0x7e1)](_0x547eba=>_0x547eba[_0x36ec93(0x300)]);this[_0x36ec93(0xc8)]=_0x4ea100,this[_0x36ec93(0x3eb)][_0x36ec93(0x5a3)]({'sourceId':_0x25ed69,'destinationIds':_0x546296,'messageType':_0x427f74['Subscription'],'content':{'type':_0x43bb47[_0x36ec93(0x345)],'label':_0x2954c9,'ownerId':_0x22aaa6,'trackKinds':_0x4c4aff,'params':_0x4ea100}}),_0x24a63b[_0x36ec93(0x14c)](_0x306624[_0x36ec93(0x737)],_0x36ec93(0x38f),_0x25ed69,_0x546296);}[_0x148812(0x304)](_0x1d9fde,_0x5e82e4){const _0x13220d=_0x148812;switch(_0x5e82e4[_0x13220d(0x200)]){case _0x43bb47[_0x13220d(0x1ff)]:{const _0x1365d1=this['currentDistance']>=_0x5e82e4[_0x13220d(0x988)]&&_0x5e82e4[_0x13220d(0x988)]<=this[_0x13220d(0x433)],_0x2ab9e7=Array['from'](this['answers'])[_0x13220d(0x453)](_0x2cf9d2=>_0x2cf9d2['nodeId']===_0x1d9fde);_0x2ab9e7[_0x13220d(0x200)]=_0x1365d1?_0xc5a2fb['Accepted']:_0xc5a2fb[_0x13220d(0x2fa)],_0x2ab9e7[_0x13220d(0x7f1)]=_0x5e82e4[_0x13220d(0x7f1)],_0x2ab9e7[_0x13220d(0x988)]=_0x5e82e4[_0x13220d(0x988)],_0x2ab9e7['streamId']=_0x5e82e4['streamId'],_0x2ab9e7[_0x13220d(0x2ee)]=Date[_0x13220d(0x847)]()-this[_0x13220d(0xb1)],_0x2ab9e7[_0x13220d(0xc8)]=this[_0x13220d(0xc8)],_0x2ab9e7[_0x13220d(0x8e5)]=_0x5e82e4[_0x13220d(0x8e5)],_0x2ab9e7[_0x13220d(0x4e2)]=_0x5e82e4[_0x13220d(0x4e2)],_0x2ab9e7['streamLabel']=_0x5e82e4['label'],_0x24a63b[_0x13220d(0x14c)](_0x306624[_0x13220d(0x737)],(_0x1365d1?_0x13220d(0x4b1):_0x13220d(0x2fa))+_0x13220d(0xf7),_0x2ab9e7);break;}case _0x43bb47[_0x13220d(0x22d)]:{const _0x42f5f8=Array[_0x13220d(0x928)](this[_0x13220d(0x51b)])['find'](_0x5360d7=>_0x5360d7['nodeId']===_0x1d9fde);_0x42f5f8[_0x13220d(0x200)]=_0xc5a2fb[_0x13220d(0x2fa)],_0x24a63b[_0x13220d(0x14c)](_0x306624[_0x13220d(0x737)],_0x13220d(0x35e),_0x42f5f8);break;}}if(this[_0x13220d(0x759)]())return this[_0x13220d(0x43e)]();}['chooseAnswer'](){const _0x396f3c=_0x148812,_0x2b08e7=Array[_0x396f3c(0x928)](this[_0x396f3c(0x51b)])[_0x396f3c(0x5b5)](_0x4109e7=>_0x4109e7[_0x396f3c(0x200)]===_0xc5a2fb[_0x396f3c(0x4b1)])[_0x396f3c(0x556)]((_0x27ff2f,_0x41b3e1)=>_0x27ff2f['cost']===_0x41b3e1['cost']?_0x27ff2f[_0x396f3c(0x2ee)]-_0x41b3e1['roundTripTime']:_0x27ff2f[_0x396f3c(0x7f1)]-_0x41b3e1['cost']);if(0x0===_0x2b08e7[_0x396f3c(0x6a1)])throw new _0x864d50(_0x864d50[_0x396f3c(0x753)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x396f3c(0x928)](this[_0x396f3c(0x51b)])[_0x396f3c(0x7e1)](_0x553b63=>({'nodeId':_0x553b63['nodeId'],'type':_0x553b63[_0x396f3c(0x200)]}))});return _0x24a63b['log'](_0x306624[_0x396f3c(0x737)],_0x396f3c(0x5e7),_0x2b08e7[0x0],this[_0x396f3c(0x51b)]),_0x2b08e7[0x0];}[_0x148812(0x759)](){const _0xa6a7da=_0x148812;for(const _0x53a006 of this[_0xa6a7da(0x51b)])if(_0x53a006[_0xa6a7da(0x200)]===_0xc5a2fb[_0xa6a7da(0xa7)])return!0x1;return!0x0;}}class _0x5b8021{[_0x148812(0xb2)];[_0x148812(0x37b)];[_0x148812(0x23e)]=_0x48de03();constructor(_0x26805e,_0x4f461d){const _0x39caf1=_0x148812;this[_0x39caf1(0xb2)]=_0x26805e,this[_0x39caf1(0x37b)]=_0x4f461d;}[_0x148812(0x5cf)](){return this['label'];}[_0x148812(0x16e)](){const _0x2a3c21=_0x148812;return this[_0x2a3c21(0x37b)];}[_0x148812(0x98c)](_0xc96b35){const _0x267593=_0x148812;_0xc96b35[_0x267593(0x491)](this);}['registerDestination'](_0x9a076f){_0x9a076f['registerSubscriber'](this);}[_0x148812(0x5a3)](_0x1b07d1){const _0xc98900=_0x148812;this[_0xc98900(0x23e)][_0xc98900(0x5a3)]({'topicLabel':this[_0xc98900(0xb2)],'contentType':this[_0xc98900(0x37b)],'uuid':(0x0,_0x12e752['v4'])(),'recipients':[],..._0x1b07d1});}['subscribe'](_0x439213){const _0x401e8e=_0x148812;return this['listener'][_0x401e8e(0x360)](_0x439213);}[_0x148812(0x18e)](_0x531904){const _0x327ca4=_0x148812;_0x531904[_0x327ca4(0x99a)](this);}[_0x148812(0x542)](_0x124c29){const _0x1ca493=_0x148812;_0x124c29[_0x1ca493(0x8e4)](this);}}class _0x1f8a99{[_0x148812(0x45a)]={'topics':new Map(),'subscriptions':new Map()};[_0x148812(0x6f2)];constructor(_0x5af02d){const _0x5674d2=_0x148812;this[_0x5674d2(0x6f2)]=_0x5af02d;}get[_0x148812(0x664)](){const _0x25973c=_0x148812;return this['maps'][_0x25973c(0x664)];}get[_0x148812(0x426)](){const _0xb38134=_0x148812;return this['maps'][_0xb38134(0x426)];}[_0x148812(0x396)](_0x5b521e,_0x14d744){const _0x1877f5=_0x148812,_0x533775=this[_0x1877f5(0x6f2)](_0x14d744),_0xb44021=_0x53f105(_0x5b521e);if(!_0x533775[_0x1877f5(0x8a5)])throw new _0x864d50(_0x864d50[_0x1877f5(0x753)][_0x1877f5(0x806)],{'message':_0xb44021+':\x20'+_0x533775[_0x1877f5(0x89a)]+_0x1877f5(0x3ed)+_0x533775[_0x1877f5(0x37b)],'subscriptionType':_0x5b521e,'subscription':_0x14d744,'subscriptonParts':_0x533775});const _0x3914b8=_0x5c2338(_0x5b521e,_0x533775);if(this['maps'][_0x1877f5(0x664)][_0x1877f5(0x31f)](_0x3914b8))throw new _0x864d50(_0x864d50[_0x1877f5(0x753)]['InvalidSubscription'],{'message':_0xb44021+':\x20'+_0x3914b8+'\x20already\x20exists','subscriptionType':_0x5b521e,'subscription':_0x14d744,'subscriptonParts':_0x533775});this[_0x1877f5(0x45a)][_0x1877f5(0x664)]['set'](_0x3914b8,_0x14d744),this[_0x1877f5(0x342)](_0x533775,_0x14d744);}[_0x148812(0x8d8)](_0x444a22,_0x4046a8){const _0x51ddbe=_0x148812,_0x503816=_0x5c2338(_0x4046a8,_0x444a22),_0x491481=this[_0x51ddbe(0x45a)][_0x51ddbe(0x664)][_0x51ddbe(0x792)](_0x503816);if(!_0x491481)throw new _0x864d50(_0x864d50[_0x51ddbe(0x753)][_0x51ddbe(0x806)],{'message':_0x53f105(_0x4046a8)+':\x20'+_0x503816+_0x51ddbe(0x5e5),'subscriptionType':_0x4046a8,'subscription':_0x491481,'subscriptonParts':_0x444a22});this['closeSubscription'](_0x491481,_0x503816,_0x444a22);}['closeSubscription'](_0x4064db,_0x43fdee,_0x165964){const _0x38eebf=_0x148812;_0x165964=_0x165964||this[_0x38eebf(0x6f2)](_0x4064db),this['maps']['subscriptions'][_0x38eebf(0x91b)](_0x43fdee),this[_0x38eebf(0x91)](_0x165964,_0x4064db);}[_0x148812(0x342)](_0x5ab5aa,{source:_0x16eb66,destination:_0x3a0c46}){const _0x479b2a=_0x148812,{contentType:_0xdd8bc,label:_0x262fdf,remoteId:_0x1861fd}=_0x5ab5aa,_0x6ca2b=_0x4b8d73(_0xdd8bc,_0x262fdf,_0x1861fd),_0x510249=new _0x5b8021(_0x6ca2b,_0xdd8bc);_0x510249['registerSource'](_0x16eb66),_0x510249[_0x479b2a(0x812)](_0x3a0c46),this[_0x479b2a(0x45a)][_0x479b2a(0x426)][_0x479b2a(0x6b3)](_0x510249[_0x479b2a(0x5cf)](),_0x510249);}['removeTopic'](_0x2732c3,_0x5b65c8){const _0x448652=_0x148812,{contentType:_0x1b264f,label:_0x2e7c8d,remoteId:_0x461d09}=_0x2732c3,_0x424056=_0x4b8d73(_0x1b264f,_0x2e7c8d,_0x461d09),_0x4eee52=this[_0x448652(0x45a)][_0x448652(0x426)][_0x448652(0x792)](_0x424056);_0x4eee52&&(this[_0x448652(0x8db)](_0x4eee52,_0x5b65c8),this[_0x448652(0x45a)][_0x448652(0x426)]['delete'](_0x424056));}[_0x148812(0x8db)](_0x460d6d,{source:_0x8c3863,destination:_0x3a0425}){const _0x465ed1=_0x148812;_0x460d6d[_0x465ed1(0x18e)](_0x8c3863),_0x460d6d[_0x465ed1(0x542)](_0x3a0425);}[_0x148812(0x723)](_0xc7261d){const _0x88ed87=_0x148812;this[_0x88ed87(0x45a)][_0x88ed87(0x664)][_0x88ed87(0x6bf)]((_0x4004ec,_0x576c4a)=>{const _0x371014=_0x88ed87;_0x576c4a[_0x371014(0x2d3)](_0xc7261d)&&this[_0x371014(0x6cd)](_0x4004ec,_0x576c4a);});}}class _0x46d450{[_0x148812(0x5bf)];[_0x148812(0x433)];['subscriptionRequests']=new Map();['subscriptionRequestsQueue']=_0x31f1b7(new _0x456bd6(this[_0x148812(0x391)][_0x148812(0x949)](this),()=>_0x1d7287['wait'](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();['maps'];[_0x148812(0x129)]=new Map();constructor(_0x1ce5bf,_0x2664ae){const _0x2d674a=_0x148812;this[_0x2d674a(0x5bf)]=_0x1ce5bf,this[_0x2d674a(0x433)]=_0x2664ae,this[_0x2d674a(0x45a)]=new _0x1f8a99(({source:_0x49ff36,destination:_0x49ef62})=>_0x5ab70b(_0x49ef62,_0x49ff36));}['createSubscription'](_0x3fd7de,_0x130b72){const _0x77b287=_0x148812,_0x1ec44b=this['isMediaSource'](_0x3fd7de)&&this[_0x77b287(0x29b)](_0x130b72)?new _0x56b0d5(_0x3fd7de,_0x130b72):new _0x2ca2d6(_0x3fd7de,_0x130b72);this[_0x77b287(0x45a)][_0x77b287(0x396)](_0x2e284f['Incoming'],_0x1ec44b),this[_0x77b287(0x5bf)][_0x77b287(0x990)]['registerSystemSource'](_0x1ec44b);}[_0x148812(0x8d8)](_0xd65925,_0x390cd0,_0x48d31=''){const _0x417532=_0x148812,_0x2e3d3f={'contentType':_0x390cd0,'label':_0xd65925,'remoteId':_0x48d31},_0x2169d8=_0x5c2338(_0x2e284f[_0x417532(0x6d4)],_0x2e3d3f),_0x288c7a=this[_0x417532(0x45a)]['subscriptions'][_0x417532(0x792)](_0x2169d8);_0x288c7a&&this[_0x417532(0x6cd)](_0x288c7a,_0x2169d8);}[_0x148812(0x4d3)](_0x393df0){this['removeRemoteStreamSubscription'](_0x393df0);}[_0x148812(0x669)]({label:_0x272086,ownerId:_0x45b111,trackKinds:_0x2dab7e,params:_0x3ae855}){const _0x2a85dd=_0x148812;this[_0x2a85dd(0x469)](_0x272086,_0x45b111,_0x2dab7e,_0x3ae855);}[_0x148812(0x601)]({ownerId:_0xca517e,label:_0x366267,params:_0x2cad49}){const _0x37f168=_0x148812,{subscriptionLabel:_0x12879a}=this['getSubscriptionLabel'](_0x366267,_0xca517e),_0x2163d9=this['getMediaSubscription'](_0x12879a);_0x2163d9&&_0x2163d9[_0x37f168(0x81a)](_0xca517e,_0x2cad49);}[_0x148812(0x4ca)]({ownerId:_0x243a4b,label:_0x336ef9,trackKinds:_0x4a37e0,remainingTracks:_0x91885d}){const _0x4e5a05=_0x148812,_0x4ddac2=_0x5c2338(_0x2e284f[_0x4e5a05(0x6d4)],{'contentType':_0x366c21['ContentType'][_0x4e5a05(0x6ca)],'label':_0x336ef9,'remoteId':_0x243a4b});this[_0x4e5a05(0x5ee)](_0x4ddac2);const _0x3f38aa=this[_0x4e5a05(0x738)][_0x4e5a05(0x792)](_0x4ddac2);_0x3f38aa&&(this[_0x4e5a05(0x5bf)][_0x4e5a05(0x990)][_0x4e5a05(0x447)](_0x3f38aa),this[_0x4e5a05(0x738)]['delete'](_0x4ddac2));const {parts:_0x5540e6,subscriptionLabel:_0x5528aa}=this[_0x4e5a05(0x842)](_0x336ef9,_0x243a4b),_0x3a8981=this['getMediaSubscription'](_0x5528aa);_0x3a8981&&(_0x3a8981[_0x4e5a05(0x4a0)](_0x243a4b,_0x91885d,_0x4a37e0),0x0===_0x91885d&&this['removeSubscription'](_0x5540e6[_0x4e5a05(0xb2)],_0x5540e6['contentType'],_0x5540e6[_0x4e5a05(0x89a)]));}[_0x148812(0x67e)](_0x252657,{label:_0x50c43a,ownerId:_0x3532a8,trackKinds:_0x497f3a,streamId:_0x2ae723,params:_0x4fee5f}){const _0x1ae0b4=_0x148812,_0x54a4aa=_0x5c2338(_0x2e284f['Incoming'],{'contentType':_0x366c21[_0x1ae0b4(0x8a4)][_0x1ae0b4(0x6ca)],'label':_0x2ae723,'remoteId':_0x252657}),_0x24ba67=this['maps'][_0x1ae0b4(0x664)]['get'](_0x54a4aa);if(!(_0x24ba67&&_0x24ba67 instanceof _0x56b0d5))throw new _0x864d50(_0x864d50[_0x1ae0b4(0x753)]['SubscriptionRequestDoesNotExist'],{'label':_0x54a4aa,'ownerId':_0x3532a8});this[_0x1ae0b4(0x6cd)](_0x24ba67,_0x54a4aa),this[_0x1ae0b4(0x469)](_0x50c43a,_0x3532a8,_0x497f3a,_0x4fee5f);}[_0x148812(0x165)](_0x360105,_0x54eb83){const _0x4988c4=_0x148812,{label:_0x1eafd5,ownerId:_0x2d2b8c,trackKinds:_0x132537,params:_0x2282dd}=_0x54eb83,_0x2b03fe=_0x5c2338(_0x2e284f[_0x4988c4(0x6d4)],{'contentType':_0x366c21[_0x4988c4(0x8a4)][_0x4988c4(0x6ca)],'label':_0x1eafd5,'remoteId':_0x2d2b8c});if(!this[_0x4988c4(0x738)]['has'](_0x2b03fe))throw new _0x864d50(_0x864d50[_0x4988c4(0x753)]['SubscriptionRequestDoesNotExist'],{'label':_0x2b03fe,'ownerId':_0x2d2b8c,'streamId':_0x54eb83[_0x4988c4(0x350)],'requests':this[_0x4988c4(0x738)]});const _0x103932=this['subscriptionRequests'][_0x4988c4(0x792)](_0x2b03fe);if(_0x132537['length']===_0x103932[_0x4988c4(0x8cf)]()[_0x4988c4(0x6a1)]&&_0x132537[_0x4988c4(0x50d)](_0x198b46=>_0x103932['getTracks']()[_0x4988c4(0x523)](_0x198b46)))try{const _0x5bf69b=_0x103932[_0x4988c4(0x304)](_0x360105,_0x54eb83);if(!_0x5bf69b)return;this[_0x4988c4(0x360)](_0x5bf69b,_0x2d2b8c,_0x1eafd5,_0x2b03fe,_0x132537);}catch(_0x5c56b1){return void this['handleNoAnswer'](_0x1eafd5,_0x2d2b8c,_0x132537,_0x2282dd);}}['handleSubscriptionMediaStreamUnavailable'](_0xc49d32,{label:_0x2e38ea,ownerId:_0x413aed,trackKinds:_0x4d87fc}){const _0x5e3051=_0x148812,_0x332b86=this[_0x5e3051(0x5bf)][_0x5e3051(0x990)][_0x5e3051(0x41e)](_0x413aed,_0x2e38ea);if(!_0x332b86)return;const _0xba624=_0x332b86[_0x5e3051(0x108)](),_0x3121ab=_0x332b86[_0x5e3051(0x243)]();_0x3121ab[_0x5e3051(0x794)](_0x2092a2=>_0x4d87fc[_0x5e3051(0x523)](_0x2092a2))&&this[_0x5e3051(0x51e)](_0xc49d32,_0x2e38ea,_0xba624,_0x413aed,_0x3121ab);}[_0x148812(0x24c)]({label:_0x25133d,providerId:_0x13b8b6,ownerId:_0x33ed5a,streamId:_0x43a989,trackKinds:_0x160449}){const _0x36d9c4=_0x148812;this[_0x36d9c4(0x51e)](_0x13b8b6,_0x25133d,_0x43a989,_0x33ed5a,_0x160449);}['handleOptimizationConnectionSuccess'](_0x33b70f){const _0x12419a=_0x148812;for(const _0x2b8650 of this[_0x12419a(0x129)][_0x12419a(0x910)]()){const {streamLabel:_0x42f3a6,ownerId:_0x35158c,trackKinds:_0xde9898,params:_0x2c7db7}=_0x2b8650;if(!_0x35158c||!_0xde9898||!_0x42f3a6)return;this[_0x12419a(0x856)][_0x12419a(0x5dc)]({'label':_0x42f3a6,'ownerId':_0x35158c,'trackKinds':_0xde9898,'params':_0x2c7db7,'remoteId':_0x33b70f});}}[_0x148812(0x723)](_0x430652){const _0x5b5276=_0x148812;this[_0x5b5276(0x45a)]['subscriptions'][_0x5b5276(0x6bf)]((_0x3c7e47,_0x100435)=>{const _0x1f0bf6=_0x5b5276;if(_0x100435[_0x1f0bf6(0x2d3)](_0x430652)){if(_0x3c7e47[_0x1f0bf6(0x851)][_0x1f0bf6(0x16e)]()===_0x366c21[_0x1f0bf6(0x8a4)][_0x1f0bf6(0x6ca)]){const _0xec31fc=_0x3c7e47[_0x1f0bf6(0x851)];if(_0xec31fc[_0x1f0bf6(0x243)]()['length']>0x0){const _0x43126b={'type':_0x43bb47[_0x1f0bf6(0x32a)],'label':_0xec31fc[_0x1f0bf6(0x5cf)](),'ownerId':_0xec31fc[_0x1f0bf6(0x6ce)](),'trackKinds':_0xec31fc[_0x1f0bf6(0x243)]()};return void this[_0x1f0bf6(0x8c7)](_0x430652,_0x43126b);}}this['closeSubscription'](_0x3c7e47,_0x100435);}});}[_0x148812(0x6ac)](){const _0x1ea572=_0x148812;this[_0x1ea572(0x45a)][_0x1ea572(0x664)]['forEach'](this[_0x1ea572(0x6cd)]['bind'](this));}[_0x148812(0x360)](_0x2de409,_0x66b1aa,_0x185696,_0x32ec2d,_0x4fe46f){const _0x4b9376=_0x148812,_0x333c82=this[_0x4b9376(0x5bf)][_0x4b9376(0x990)][_0x4b9376(0x59c)](_0x2de409[_0x4b9376(0x300)]),_0x4abcef=this[_0x4b9376(0x5bf)][_0x4b9376(0x990)][_0x4b9376(0x41e)](_0x66b1aa,_0x185696);this[_0x4b9376(0x5ee)](_0x32ec2d),this['subscriptionRequests'][_0x4b9376(0x31f)](_0x32ec2d)&&(this['configs'][_0x4b9376(0x990)][_0x4b9376(0x447)](this[_0x4b9376(0x738)][_0x4b9376(0x792)](_0x32ec2d)),this['subscriptionRequests'][_0x4b9376(0x91b)](_0x32ec2d)),this[_0x4b9376(0x4ea)](_0x2de409,_0x66b1aa,_0x185696,_0x4abcef),_0x4abcef[_0x4b9376(0x6be)](_0x2de409[_0x4b9376(0x350)]),_0x4abcef['setProviderId'](_0x2de409[_0x4b9376(0x300)]);const _0x20e256=_0x5ab70b(_0x4abcef,_0x333c82),_0x47ba1f=_0x5c2338(_0x2e284f[_0x4b9376(0x6d4)],_0x20e256);this[_0x4b9376(0x45a)][_0x4b9376(0x664)][_0x4b9376(0x31f)](_0x47ba1f)||this['createSubscription'](_0x333c82,_0x4abcef);const _0xf002ba=this['maps'][_0x4b9376(0x664)][_0x4b9376(0x792)](_0x47ba1f);if(!(_0xf002ba&&_0xf002ba instanceof _0x56b0d5))throw new _0x864d50(_0x864d50[_0x4b9376(0x753)][_0x4b9376(0x36f)],{'label':_0x32ec2d,'ownerId':_0x66b1aa});_0x24a63b[_0x4b9376(0x4ba)](_0x4b9376(0x711),{'clusterId':this[_0x4b9376(0x5bf)][_0x4b9376(0x853)],'nodeId':this[_0x4b9376(0x5bf)][_0x4b9376(0x894)][_0x4b9376(0x114)](),'nodeType':this[_0x4b9376(0x5bf)][_0x4b9376(0x894)][_0x4b9376(0x200)],'data':{'subscriptionLabel':_0x47ba1f,'chosenAnswer':_0x2de409}}),this[_0x4b9376(0x129)][_0x4b9376(0x6b3)](_0x47ba1f,_0x2de409),_0xf002ba[_0x4b9376(0x360)](_0x66b1aa,_0x4fe46f,_0x2de409['params']);}[_0x148812(0x70f)]({ownerId:_0x18a4ea,label:_0x126cc9}){const _0x5a8c20=_0x148812,_0x10ccfd=this[_0x5a8c20(0x5bf)][_0x5a8c20(0x990)]['getRemoteMediaStream'](_0x18a4ea,_0x126cc9),[_0x200ce1,_0x142bfc]=Array['from'](this[_0x5a8c20(0x45a)][_0x5a8c20(0x664)]['entries']())[_0x5a8c20(0x453)](([_0x52d8fb,_0x10a810])=>-0x1!==_0x52d8fb[_0x5a8c20(0x5e0)](_0x10ccfd[_0x5a8c20(0x108)]()));return this[_0x5a8c20(0x6cd)](_0x142bfc,_0x200ce1);}[_0x148812(0x6cd)](_0x1f99e1,_0x4bc3d7){const _0x5a4230=_0x148812;this[_0x5a4230(0x5bf)][_0x5a4230(0x990)][_0x5a4230(0x447)](_0x1f99e1),this[_0x5a4230(0x45a)]['closeSubscription'](_0x1f99e1,_0x4bc3d7);}[_0x148812(0x981)](_0x5dc3f1){const _0x5a382f=_0x148812;return _0x5dc3f1[_0x5a382f(0x12c)]()[_0x5a382f(0x523)](_0x366c21[_0x5a382f(0x8a4)]['Media']);}[_0x148812(0x29b)](_0x50a1d6){const _0x352ddb=_0x148812;return _0x50a1d6[_0x352ddb(0x16e)]()===_0x366c21[_0x352ddb(0x8a4)]['Media'];}async['handleNoAnswer'](_0x395089,_0x412202,_0x215df0,_0x18134e){const _0x38e973=_0x148812;await _0x1d7287[_0x38e973(0x86e)](0x3e8);const _0x25255f=_0x5c2338(_0x2e284f[_0x38e973(0x6d4)],{'contentType':_0x366c21[_0x38e973(0x8a4)][_0x38e973(0x6ca)],'label':_0x395089,'remoteId':_0x412202});this[_0x38e973(0x5ee)](_0x25255f);const _0x449e00=this[_0x38e973(0x738)][_0x38e973(0x792)](_0x25255f);if(!_0x449e00)throw new _0x864d50(_0x864d50[_0x38e973(0x753)]['SubscriptionRequestDoesNotExist'],{'label':_0x25255f,'ownerId':_0x412202});const _0x3edee0=this['configs'][_0x38e973(0x990)]['getConnections'](_0x3ba587=>_0x3ba587[_0x38e973(0x89c)]()),_0x414a3c=this[_0x38e973(0x5bf)][_0x38e973(0x990)]['getDistance'](this[_0x38e973(0x5bf)]['localNode'][_0x38e973(0x114)](),_0x412202);_0x449e00[_0x38e973(0x98a)](_0x3edee0['map'](_0xfda833=>_0xfda833[_0x38e973(0x4e1)]()),_0x414a3c);try{_0x449e00[_0x38e973(0x14f)](this[_0x38e973(0x5bf)][_0x38e973(0x894)][_0x38e973(0x114)](),_0x412202,_0x395089,_0x215df0,_0x18134e),this[_0x38e973(0x799)](_0x395089,_0x412202,_0x215df0,_0x18134e,_0x25255f,_0x449e00);}catch(_0xaea0f2){this['subscriptionRequestsQueue'][_0x38e973(0x5dc)]({'label':_0x395089,'ownerId':_0x412202,'trackKinds':_0x215df0,'params':_0x18134e});}}['requestSubscription'](_0x586711,_0x974077,_0x363a44,_0x2a2184){const _0x90d4b6=_0x148812;this[_0x90d4b6(0x856)][_0x90d4b6(0x5dc)]({'label':_0x586711,'ownerId':_0x974077,'trackKinds':_0x363a44,'params':_0x2a2184});}[_0x148812(0x391)]({label:_0x2e101f,ownerId:_0x3c6357,trackKinds:_0x3dc6ec,params:_0x26551c,remoteId:_0x5a76e2}){const _0x6566f8=_0x148812;if(!this[_0x6566f8(0x5bf)][_0x6566f8(0x990)][_0x6566f8(0x41e)](_0x3c6357,_0x2e101f))return;if(!this[_0x6566f8(0x5bf)][_0x6566f8(0x990)][_0x6566f8(0x6e9)]()[_0x6566f8(0x6bd)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x5a76e2){const _0x37b389=this['configs'][_0x6566f8(0x990)][_0x6566f8(0x118)]()[_0x6566f8(0x453)](_0x3651db=>_0x3651db['getId']()===_0x5a76e2),_0x5a7209=_0x37b389?.['getRank']();if(!_0x37b389||!_0x5a7209)throw new Error(_0x6566f8(0x75e));const _0x472105=this[_0x6566f8(0x5bf)][_0x6566f8(0x990)][_0x6566f8(0x118)]()[_0x6566f8(0x453)](_0x1f5d4b=>_0x1f5d4b[_0x6566f8(0x114)]()===_0x3c6357),_0x12dcfc=_0x472105?.[_0x6566f8(0x6bd)]();if(!_0x472105||!_0x12dcfc)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x4bed0b=this['chosenAnswers'][_0x6566f8(0x792)](_0x2e101f);if(_0x4bed0b){const _0x4130d1=this[_0x6566f8(0x5bf)][_0x6566f8(0x990)][_0x6566f8(0x118)]()[_0x6566f8(0x453)](_0x59ca21=>_0x59ca21[_0x6566f8(0x114)]()===_0x4bed0b[_0x6566f8(0x300)]),_0x34507b=_0x4130d1?.[_0x6566f8(0x6bd)]();if(!_0x4130d1||!_0x34507b)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math[_0x6566f8(0x4f8)](_0x34507b-_0x12dcfc)<Math[_0x6566f8(0x4f8)](_0x5a7209-_0x12dcfc))return;}}const _0x24fc69=this[_0x6566f8(0x5bf)][_0x6566f8(0x990)][_0x6566f8(0x101)](_0x129f9f=>_0x129f9f[_0x6566f8(0x89c)]()&&(!_0x5a76e2||_0x129f9f[_0x6566f8(0x4e1)]()===_0x5a76e2));if(!_0x24fc69['length']||0x0===_0x24fc69[_0x6566f8(0x6a1)])throw new Error(_0x6566f8(0x60f));const _0xb748fe=this[_0x6566f8(0x5bf)][_0x6566f8(0x990)][_0x6566f8(0xc5)](this[_0x6566f8(0x5bf)]['localNode'][_0x6566f8(0x114)](),_0x3c6357),_0x3342b9=_0x5c2338(_0x2e284f[_0x6566f8(0x6d4)],{'contentType':_0x366c21[_0x6566f8(0x8a4)]['Media'],'label':_0x2e101f,'remoteId':_0x3c6357});if(this[_0x6566f8(0x738)][_0x6566f8(0x31f)](_0x3342b9)){if(_0x5a76e2)throw new Error(_0x6566f8(0x5fb));const _0x48f588=this[_0x6566f8(0x738)][_0x6566f8(0x792)](_0x3342b9)[_0x6566f8(0x8cf)]();if(_0x48f588[_0x6566f8(0x6a1)]===_0x3dc6ec['length']&&_0x48f588[_0x6566f8(0x50d)](_0x250a01=>_0x3dc6ec[_0x6566f8(0x523)](_0x250a01)))return;this[_0x6566f8(0x5bf)][_0x6566f8(0x990)][_0x6566f8(0x447)](this[_0x6566f8(0x738)]['get'](_0x3342b9)),this[_0x6566f8(0x738)][_0x6566f8(0x91b)](_0x3342b9),_0x3dc6ec=Array[_0x6566f8(0x928)](new Set(_0x3dc6ec[_0x6566f8(0x121)](_0x48f588))),this[_0x6566f8(0x5ee)](_0x3342b9);}const _0x8afcca=new _0x52daad(_0x24fc69[_0x6566f8(0x7e1)](_0x567bab=>_0x567bab['getRemoteId']()),_0xb748fe,this[_0x6566f8(0x433)],_0x3dc6ec);this[_0x6566f8(0x5bf)]['mediator']['registerSystemSource'](_0x8afcca),this[_0x6566f8(0x738)][_0x6566f8(0x6b3)](_0x3342b9,_0x8afcca),_0x8afcca[_0x6566f8(0x14f)](this[_0x6566f8(0x5bf)]['localNode'][_0x6566f8(0x114)](),_0x3c6357,_0x2e101f,_0x3dc6ec,_0x26551c),this['setSubscriptionRequestTimeout'](_0x2e101f,_0x3c6357,_0x3dc6ec,_0x26551c,_0x3342b9,_0x8afcca);}[_0x148812(0x5ee)](_0x4717d8){const _0x233e20=_0x148812;this['subscriptionRequestTimeouts'][_0x233e20(0x31f)](_0x4717d8)&&(clearTimeout(this[_0x233e20(0x155)][_0x233e20(0x792)](_0x4717d8)),this['subscriptionRequestTimeouts']['delete'](_0x4717d8));}['setSubscriptionRequestTimeout'](_0x36b5c1,_0x535cc3,_0x2e9680,_0x4a3f45,_0x5f277a,_0x3ce1e5){const _0x2a8b19=_0x148812;this['clearSubscriptionRequestTimeout'](_0x5f277a),this['subscriptionRequestTimeouts'][_0x2a8b19(0x6b3)](_0x5f277a,setTimeout(()=>{const _0x5c20cb=_0x2a8b19;this[_0x5c20cb(0x155)][_0x5c20cb(0x91b)](_0x5f277a);try{const _0x367e63=_0x3ce1e5['chooseAnswer']();this[_0x5c20cb(0x360)](_0x367e63,_0x535cc3,_0x36b5c1,_0x5f277a,_0x2e9680);}catch(_0x140433){this['handleNoAnswer'](_0x36b5c1,_0x535cc3,_0x2e9680,_0x4a3f45);}},0x7d0));}[_0x148812(0x51e)](_0x562f51,_0x82cd5,_0x5ea51c,_0x3d76b3,_0xe048a2){const _0x3cd80b=_0x148812,{subscriptionLabel:_0x5be588}=this[_0x3cd80b(0x842)](_0x82cd5,_0x3d76b3),_0x2b8cda=this[_0x3cd80b(0x1b7)](_0x5be588),_0x59f5cf=_0x2b8cda?.[_0x3cd80b(0xc8)];_0x2b8cda&&(_0x2b8cda[_0x3cd80b(0x4a0)](_0x3d76b3,0x0),this[_0x3cd80b(0x8d8)](_0x5ea51c,_0x366c21['ContentType'][_0x3cd80b(0x6ca)],_0x562f51)),this[_0x3cd80b(0x469)](_0x82cd5,_0x3d76b3,_0xe048a2,_0x59f5cf);}[_0x148812(0x1b7)](_0x5b3a69){const _0x26897e=_0x148812,_0x583531=this[_0x26897e(0x45a)][_0x26897e(0x664)][_0x26897e(0x792)](_0x5b3a69);if(_0x583531){if(!(_0x583531 instanceof _0x56b0d5))throw new _0x864d50(_0x864d50[_0x26897e(0x753)][_0x26897e(0x806)],{'label':_0x5b3a69,'subscription':_0x583531});return _0x583531;}}[_0x148812(0x842)](_0x167706,_0xf8d9c0){const _0x234a2f=this['getPartsForSubscriptionLabel'](_0x167706,_0xf8d9c0);return{'parts':_0x234a2f,'subscriptionLabel':_0x5c2338(_0x2e284f['Incoming'],_0x234a2f)};}[_0x148812(0x2e0)](_0x363836,_0x2926de){const _0x5b05b4=_0x148812,_0x286452=this[_0x5b05b4(0x5bf)][_0x5b05b4(0x990)][_0x5b05b4(0x41e)](_0x2926de,_0x363836),_0x7939ae=_0x286452[_0x5b05b4(0x10e)]();if(!_0x7939ae)throw new _0x864d50(_0x864d50[_0x5b05b4(0x753)][_0x5b05b4(0x86f)],{'label':_0x363836,'streamId':_0x286452['getInternalStreamId'](),'ownerId':_0x2926de,'localId':this[_0x5b05b4(0x5bf)][_0x5b05b4(0x894)][_0x5b05b4(0x114)]()});return{'contentType':_0x366c21[_0x5b05b4(0x8a4)][_0x5b05b4(0x6ca)],'label':_0x286452['getInternalStreamId'](),'remoteId':_0x7939ae};}[_0x148812(0x4ea)](_0x52e181,_0x130bc5,_0x86a04e,_0x3dea2f){const _0x9951b0=_0x148812,_0x225fbc=_0x3dea2f[_0x9951b0(0x10e)]();if(_0x225fbc&&_0x225fbc!==_0x52e181[_0x9951b0(0x300)]){const {parts:_0x26bb2f,subscriptionLabel:_0x52d988}=this[_0x9951b0(0x842)](_0x86a04e,_0x130bc5),_0x303771=this[_0x9951b0(0x1b7)](_0x52d988);_0x303771&&(_0x303771[_0x9951b0(0x4a0)](_0x130bc5,0x0),this[_0x9951b0(0x8d8)](_0x26bb2f['label'],_0x26bb2f[_0x9951b0(0x37b)],_0x26bb2f[_0x9951b0(0x89a)]));}}}class _0x50961e{[_0x148812(0x5bf)];[_0x148812(0x95f)];[_0x148812(0x45a)];constructor(_0x166cc8,_0x229bfa){const _0x2b949e=_0x148812;this[_0x2b949e(0x5bf)]=_0x166cc8,this[_0x2b949e(0x95f)]=_0x229bfa,this[_0x2b949e(0x45a)]=new _0x1f8a99(({source:_0x52dd18,destination:_0x1a7ae2})=>_0x5ab70b(_0x52dd18,_0x1a7ae2));}[_0x148812(0x396)](_0x56941c,_0x1b5e6b){const _0x5a56d5=_0x148812,_0x4cfe7f={'source':_0x56941c,'destination':_0x1b5e6b};this[_0x5a56d5(0x45a)][_0x5a56d5(0x396)](_0x2e284f[_0x5a56d5(0x307)],_0x4cfe7f);}['removeSubscription'](_0x78fb3c,_0x486bd6,_0x5952bf=''){const _0x4970b3=_0x148812,_0x2eb83e={'contentType':_0x486bd6,'label':_0x78fb3c,'remoteId':_0x5952bf};this[_0x4970b3(0x45a)]['removeSubscription'](_0x2eb83e,_0x2e284f[_0x4970b3(0x307)]);}[_0x148812(0x17c)](_0x10bbe5,_0x2db487){const _0xf37564=_0x148812;let _0x2f07c5;_0x2f07c5=_0x2db487[_0xf37564(0x8e5)]!==this['configs'][_0xf37564(0x894)][_0xf37564(0x114)]()?this[_0xf37564(0x5bf)]['mediator']['getRemoteMediaStream'](_0x2db487[_0xf37564(0x8e5)],_0x2db487[_0xf37564(0xb2)]):this[_0xf37564(0x5bf)]['mediator']['getLocalMediaStream'](_0x2db487[_0xf37564(0xb2)]);const _0x18fc37=_0x5c2338(_0x2e284f[_0xf37564(0x307)],{'contentType':_0x366c21[_0xf37564(0x8a4)][_0xf37564(0x6ca)],'label':_0x2f07c5[_0xf37564(0x126)](),'remoteId':_0x10bbe5}),_0x4b2f59=this[_0xf37564(0xa1)]();if(!this[_0xf37564(0x45a)][_0xf37564(0x664)]['has'](_0x18fc37)&&_0x4b2f59>=this[_0xf37564(0x95f)])return{'type':_0x43bb47[_0xf37564(0x358)],'ownerId':_0x2db487['ownerId'],'label':_0x2db487[_0xf37564(0xb2)],'streamId':_0x2f07c5[_0xf37564(0x126)](),'trackKinds':_0x2db487[_0xf37564(0x4e2)],'params':_0x2db487[_0xf37564(0xc8)]};_0x2f07c5 instanceof _0xa1a96b&&!_0x2f07c5[_0xf37564(0x466)](_0x2db487[_0xf37564(0x4e2)])&&_0x2f07c5[_0xf37564(0x360)](_0x2db487[_0xf37564(0xc8)]),this['maps'][_0xf37564(0x664)][_0xf37564(0x31f)](_0x18fc37)||this[_0xf37564(0x396)](_0x2f07c5['getShareableStream'](_0x10bbe5),this[_0xf37564(0x5bf)][_0xf37564(0x990)][_0xf37564(0x59c)](_0x10bbe5));}[_0x148812(0x5e8)](_0x11b851,{label:_0x43edcb,ownerId:_0x18000d,remainingTracks:_0x2f77e3}){const _0xf6b948=_0x148812;if(_0x2f77e3>0x0)return;let _0x4cfd85;_0x4cfd85=_0x18000d!==this[_0xf6b948(0x5bf)]['localNode'][_0xf6b948(0x114)]()?this[_0xf6b948(0x5bf)][_0xf6b948(0x990)][_0xf6b948(0x41e)](_0x18000d,_0x43edcb):this['configs'][_0xf6b948(0x990)][_0xf6b948(0x77a)](_0x43edcb);const _0x5dc21f=_0x4cfd85[_0xf6b948(0x126)](),_0x4e3a5d=_0x366c21[_0xf6b948(0x8a4)]['Media'];this[_0xf6b948(0x8d8)](_0x5dc21f,_0x4e3a5d,_0x11b851);}['handleContentUnsubscribeMediaStream'](_0x5b560b,{label:_0x6086c4,ownerId:_0x3439cd,trackKinds:_0x2f1828}){const _0x3d5804=_0x148812;if(_0x5b560b!==_0x309f6b)return[];let _0x510d95=[];for(const _0x4020c9 of this[_0x3d5804(0x45a)][_0x3d5804(0x664)]){const {source:_0x2d7ac5,destination:_0xc429c}=_0x4020c9[0x1];_0x2d7ac5['getLabel']()===_0x6086c4&&_0x2d7ac5[_0x3d5804(0x6ce)]()===_0x3439cd&&_0x510d95[_0x3d5804(0x5dc)]({'sourceId':this[_0x3d5804(0x5bf)]['localNode']['getId'](),'destinationIds':[_0xc429c[_0x3d5804(0x4e1)]()],'messageType':_0x427f74[_0x3d5804(0x737)],'content':{'type':_0x43bb47['MediaStreamUnavailable'],'label':_0x6086c4,'ownerId':_0x3439cd,'trackKinds':_0x2f1828}});}return _0x510d95;}['handleSubscriptionNeedMediaStream'](_0x5b7cc9,_0x270826){const _0x3b1f01=_0x148812,{label:_0x538a5e,ownerId:_0x1897b5,trackKinds:_0x71c3c1,params:_0x41ee66}=_0x270826,{hasTracks:_0x64d617,streamId:_0x3ef58f,hasResolution:_0x4fb017,distance:_0x3659f4,subscriptionLabel:_0x388a90}=this[_0x3b1f01(0x2a6)](_0x5b7cc9,_0x270826);let _0x428123=this['getNumberOutgoingSubscriptions']()<this[_0x3b1f01(0x95f)]&&(_0x64d617||_0x3659f4>-0x1)?_0x43bb47['CanProvideMediaStream']:_0x43bb47['CannotProvideMediaStream'];const _0xf59edd=_0x3659f4<0x0?0xa:_0x3659f4;let _0x4ff9cc=_0x64d617?_0x4fb017?_0xf59edd:_0xf59edd+0x0:_0xf59edd+0xa;return _0x388a90&&this[_0x3b1f01(0x45a)][_0x3b1f01(0x664)][_0x3b1f01(0x31f)](_0x388a90)&&(_0x64d617&&(_0x4ff9cc=0x0),_0x428123=_0x43bb47['CanProvideMediaStream']),{'type':_0x428123,'cost':_0x4ff9cc,'distance':_0x3659f4,'label':_0x538a5e,'ownerId':_0x1897b5,'streamId':_0x3ef58f,'trackKinds':_0x71c3c1,'params':_0x41ee66};}[_0x148812(0x4d3)](_0x4d6b26){const _0x46186e=_0x148812,{label:_0x528c8b,ownerId:_0x116bb2}=_0x4d6b26,_0x91b4a3=this[_0x46186e(0x5bf)][_0x46186e(0x990)]['getRemoteMediaStream'](_0x116bb2,_0x528c8b);this[_0x46186e(0x45a)][_0x46186e(0x664)][_0x46186e(0x6bf)](_0xc2ae47=>{const _0xab797=_0x46186e;if(_0xc2ae47['source'][_0xab797(0x108)]()===_0x91b4a3[_0xab797(0x126)]()){const _0xa78aa7=_0xc2ae47['destination'];this[_0xab797(0x8d8)](_0x91b4a3[_0xab797(0x126)](),_0x366c21['ContentType'][_0xab797(0x6ca)],_0xa78aa7[_0xab797(0x4e1)]());}});}[_0x148812(0xa8)]({label:_0x32fb0e}){const _0xd9d0c7=_0x148812,_0x5ad6a7=this[_0xd9d0c7(0x5bf)]['mediator'][_0xd9d0c7(0x77a)](_0x32fb0e);this[_0xd9d0c7(0x45a)][_0xd9d0c7(0x664)][_0xd9d0c7(0x6bf)](_0xbfcac9=>{const _0x5117a1=_0xd9d0c7;if(_0xbfcac9[_0x5117a1(0x939)][_0x5117a1(0x108)]()===_0x5ad6a7[_0x5117a1(0x126)]()){const _0x55e4f0=_0xbfcac9[_0x5117a1(0x851)];this[_0x5117a1(0x8d8)](_0x5ad6a7[_0x5117a1(0x126)](),_0x366c21[_0x5117a1(0x8a4)][_0x5117a1(0x6ca)],_0x55e4f0[_0x5117a1(0x4e1)]());}});}[_0x148812(0x723)](_0x26cfad){const _0x272de9=_0x148812;this[_0x272de9(0x45a)][_0x272de9(0x723)](_0x26cfad);}[_0x148812(0x6ac)](){const _0x10dacc=_0x148812;this[_0x10dacc(0x45a)]['subscriptions']['forEach'](this['closeSubscription'][_0x10dacc(0x949)](this));}[_0x148812(0x6cd)](_0x52887d,_0x428faa){const _0x307227=_0x148812;this[_0x307227(0x45a)][_0x307227(0x6cd)](_0x52887d,_0x428faa);}[_0x148812(0x2a6)](_0x361a56,{label:_0x22f288,ownerId:_0x1a5ac8,trackKinds:_0x2592a7,params:_0x5b0219}){const _0x4a1c5a=_0x148812;if(_0x1a5ac8!==this[_0x4a1c5a(0x5bf)][_0x4a1c5a(0x894)][_0x4a1c5a(0x114)]()){const _0x308838=this[_0x4a1c5a(0x5bf)][_0x4a1c5a(0x990)]['getRemoteMediaStream'](_0x1a5ac8,_0x22f288);return _0x308838&&_0x308838['getProviderId']()!==_0x361a56?{'hasTracks':_0x308838[_0x4a1c5a(0x3cb)](_0x2592a7),'hasResolution':this['canProvideResolution'](_0x308838['getResolution'](),_0x5b0219),'streamId':_0x308838[_0x4a1c5a(0x126)](),'distance':this[_0x4a1c5a(0x5bf)][_0x4a1c5a(0x990)][_0x4a1c5a(0xc5)](_0x361a56,_0x1a5ac8),'subscriptionLabel':_0x5c2338(_0x2e284f[_0x4a1c5a(0x307)],{'contentType':_0x366c21['ContentType'][_0x4a1c5a(0x6ca)],'label':_0x308838['getShareableStreamId'](),'remoteId':_0x361a56})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x24df72=this[_0x4a1c5a(0x5bf)][_0x4a1c5a(0x990)]['getLocalMediaStream'](_0x22f288);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x24df72[_0x4a1c5a(0x126)](),'distance':0x0,'subscriptionLabel':_0x5c2338(_0x2e284f[_0x4a1c5a(0x307)],{'contentType':_0x366c21['ContentType'][_0x4a1c5a(0x6ca)],'label':_0x24df72['getShareableStreamId'](),'remoteId':_0x361a56})};}[_0x148812(0xa1)](){const _0x458074=_0x148812;return Array[_0x458074(0x928)](this[_0x458074(0x45a)][_0x458074(0x664)][_0x458074(0x653)]())[_0x458074(0x5b5)](([_0xc0c961,{source:_0x52ded3}])=>_0xc0c961[_0x458074(0x96a)](_0x2e284f[_0x458074(0x307)])&&_0x52ded3[_0x458074(0x16e)]()===_0x366c21['ContentType']['Media'])[_0x458074(0x6a1)];}[_0x148812(0x314)](_0x2095bd,_0x374fef){const _0xdade6e=_0x148812;if(!_0x374fef||!_0x374fef[_0xdade6e(0x1c0)]||_0xdade6e(0x8d)==typeof _0x374fef[_0xdade6e(0x1c0)]||!_0x374fef[_0xdade6e(0x1c0)]['maxResolution'])return!0x0;const {width:_0x5cbaa2,height:_0x53c0dc}=_0x374fef['video'][_0xdade6e(0x8bd)];return _0x2095bd[_0xdade6e(0x8f9)]>=_0x5cbaa2&&_0x2095bd[_0xdade6e(0x7e7)]>=_0x53c0dc;}}class _0x12e503{[_0x148812(0x5bf)];['maxOutgoingSubscriptions'];['maxDistance'];[_0x148812(0x3eb)];['incomingManager'];[_0x148812(0x4f0)];constructor(_0x56ca27,_0x2baf54,_0x652b13){const _0x4d13a9=_0x148812;this[_0x4d13a9(0x5bf)]=_0x56ca27,this[_0x4d13a9(0x95f)]=_0x2baf54,this[_0x4d13a9(0x433)]=_0x652b13,this[_0x4d13a9(0x5bf)]['mediator'][_0x4d13a9(0x428)](this),this[_0x4d13a9(0x13e)]=new _0x46d450(this[_0x4d13a9(0x5bf)],this[_0x4d13a9(0x433)]),this[_0x4d13a9(0x4f0)]=new _0x50961e(this[_0x4d13a9(0x5bf)],this[_0x4d13a9(0x95f)]);}['registerSystemPublisher'](_0xa019ff){this['systemTopic']=_0xa019ff;}[_0x148812(0x75f)](){delete this['systemTopic'];}['close'](){const _0x2cb551=_0x148812;this[_0x2cb551(0x13e)][_0x2cb551(0x6ac)](),this[_0x2cb551(0x4f0)][_0x2cb551(0x6ac)](),this[_0x2cb551(0x5bf)][_0x2cb551(0x990)][_0x2cb551(0x447)](this);}['createIncomingSubscription'](_0x6d7fa5,_0x59274d){this['incomingManager']['createSubscription'](_0x6d7fa5,_0x59274d);}['createOutgoingSubscription'](_0x22fe47,_0x2118e7){const _0x2310fd=_0x148812;this['outgoingManager'][_0x2310fd(0x396)](_0x22fe47,_0x2118e7);}[_0x148812(0x7eb)](_0x49b73c,_0x5289f1,_0x183184=''){const _0x532d0f=_0x148812;this[_0x532d0f(0x13e)][_0x532d0f(0x8d8)](_0x49b73c,_0x5289f1,_0x183184);}['removeOutgoingSubscription'](_0xd15e6,_0x49a74e,_0x395da8=''){const _0x1f75b8=_0x148812;try{this[_0x1f75b8(0x4f0)][_0x1f75b8(0x8d8)](_0xd15e6,_0x49a74e,_0x395da8);}catch(_0x5bfbdf){if(_0x5bfbdf instanceof _0x864d50&&_0x5bfbdf[_0x1f75b8(0x6ed)]===_0x864d50[_0x1f75b8(0x753)]['InvalidSubscription'])return;}}[_0x148812(0x304)](_0x10ff60){const _0x1b954d=_0x148812;switch(_0x10ff60['content'][_0x1b954d(0x200)]){case _0x43bb47[_0x1b954d(0x893)]:this['handleSubscriptionSubscribeMediaStream'](_0x10ff60[_0x1b954d(0x21f)],_0x10ff60[_0x1b954d(0x92a)]);break;case _0x43bb47[_0x1b954d(0x6fa)]:this[_0x1b954d(0x4f0)][_0x1b954d(0x5e8)](_0x10ff60[_0x1b954d(0x21f)],_0x10ff60[_0x1b954d(0x92a)]);break;case _0x43bb47[_0x1b954d(0x345)]:this['handleSubscriptionNeedMediaStream'](_0x10ff60['sourceId'],_0x10ff60[_0x1b954d(0x92a)]);break;case _0x43bb47['RestartNeedMediaStream']:this[_0x1b954d(0x13e)][_0x1b954d(0x67e)](_0x10ff60[_0x1b954d(0x21f)],_0x10ff60['content']);break;case _0x43bb47['CanProvideMediaStream']:case _0x43bb47[_0x1b954d(0x22d)]:this['incomingManager'][_0x1b954d(0x165)](_0x10ff60[_0x1b954d(0x21f)],_0x10ff60[_0x1b954d(0x92a)]);break;case _0x43bb47[_0x1b954d(0x32a)]:this[_0x1b954d(0x13e)][_0x1b954d(0x8c7)](_0x10ff60[_0x1b954d(0x21f)],_0x10ff60[_0x1b954d(0x92a)]);}}[_0x148812(0x6af)](_0x2e3f6e){const _0x384287=_0x148812;switch(_0x2e3f6e['content'][_0x384287(0x200)]){case _0x457093[_0x384287(0x4f4)]:this[_0x384287(0x13e)][_0x384287(0x4d3)](_0x2e3f6e[_0x384287(0x92a)]),this['outgoingManager']['handleContentUnpublishMediaStream'](_0x2e3f6e['content']);break;case _0x457093[_0x384287(0x893)]:this[_0x384287(0x13e)][_0x384287(0x669)](_0x2e3f6e[_0x384287(0x92a)]);break;case _0x457093['UpdateMediaStream']:this[_0x384287(0x13e)][_0x384287(0x601)](_0x2e3f6e[_0x384287(0x92a)]);break;case _0x457093[_0x384287(0x6fa)]:this['handleContentUnsubscribeMediaStream'](_0x2e3f6e[_0x384287(0x21f)],_0x2e3f6e[_0x384287(0x92a)]);break;case _0x457093[_0x384287(0x64d)]:this[_0x384287(0x4f0)][_0x384287(0xa8)](_0x2e3f6e[_0x384287(0x92a)]);break;case _0x457093['ClosePubSubTopic']:this[_0x384287(0x578)](_0x2e3f6e['content'][_0x384287(0xb2)],_0x366c21[_0x384287(0x8a4)][_0x384287(0x52c)]);break;case _0x457093[_0x384287(0x5c4)]:this['handleCloseContent'](_0x2e3f6e['content'][_0x384287(0xb2)],_0x366c21[_0x384287(0x8a4)]['ObjectStore']);break;case _0x457093['CloseExternalStorageConnection']:this[_0x384287(0x578)](_0x2e3f6e['content'][_0x384287(0xb2)],_0x366c21[_0x384287(0x8a4)][_0x384287(0x980)]);break;case _0x457093[_0x384287(0x423)]:this[_0x384287(0x578)](_0x2e3f6e[_0x384287(0x92a)][_0x384287(0xb2)],_0x366c21['ContentType'][_0x384287(0x492)]);break;case _0x457093['CloseVectorDatabase']:this[_0x384287(0x578)](_0x2e3f6e[_0x384287(0x92a)][_0x384287(0xb2)],_0x366c21[_0x384287(0x8a4)][_0x384287(0x2e2)]);break;case _0x457093['CloseGraphDatabase']:this[_0x384287(0x578)](_0x2e3f6e[_0x384287(0x92a)][_0x384287(0xb2)],_0x366c21[_0x384287(0x8a4)][_0x384287(0x7b8)]);break;case _0x457093[_0x384287(0x2c7)]:case _0x457093[_0x384287(0x384)]:this[_0x384287(0x578)](_0x2e3f6e[_0x384287(0x92a)]['label'],_0x366c21[_0x384287(0x8a4)]['Job']);break;case _0x457093[_0x384287(0x414)]:this[_0x384287(0x13e)]['handleContentRemoteMediaStreamTrackFail'](_0x2e3f6e[_0x384287(0x92a)]);}}['handleNodeSystemEvents']({content:_0x5cb457}){const _0x3b38aa=_0x148812;_0x5cb457[_0x3b38aa(0x200)]===_0x4b25da[_0x3b38aa(0x64b)]&&this['removeSubscriptionsForNode'](_0x5cb457);}[_0x148812(0x4bb)](_0x5c8346){const _0x161e46=_0x148812;_0x5c8346['content'][_0x161e46(0x200)]===_0x4c498b[_0x161e46(0x43d)]&&this[_0x161e46(0x13e)]['handleOptimizationConnectionSuccess'](_0x5c8346[_0x161e46(0x21f)]);}['handleContentUnsubscribeMediaStream'](_0x1e2007,_0x11d0a5){const _0x35758d=_0x148812;this[_0x35758d(0x13e)][_0x35758d(0x4ca)](_0x11d0a5),this[_0x35758d(0x4f0)][_0x35758d(0x4ca)](_0x1e2007,_0x11d0a5)['forEach'](_0x4d04d2=>this['systemTopic']['publish'](_0x4d04d2));}[_0x148812(0x17c)](_0x4db297,_0x40728){const _0x512b29=_0x148812,_0x12e2da=this[_0x512b29(0x4f0)][_0x512b29(0x17c)](_0x4db297,_0x40728);if(_0x12e2da&&(this[_0x512b29(0x3eb)]['publish']({'sourceId':this[_0x512b29(0x5bf)][_0x512b29(0x894)]['getId'](),'destinationIds':[_0x4db297],'messageType':_0x427f74['Subscription'],'content':_0x12e2da}),_0x12e2da['type']===_0x43bb47[_0x512b29(0x358)]))throw new _0x30fc07(_0x512b29(0x41a));}[_0x148812(0x69e)](_0x540c28,_0x8fad86){const _0x23669a=_0x148812,_0x34eaa1=this[_0x23669a(0x4f0)]['handleSubscriptionNeedMediaStream'](_0x540c28,_0x8fad86);this[_0x23669a(0x3eb)][_0x23669a(0x5a3)]({'sourceId':this[_0x23669a(0x5bf)]['localNode']['getId'](),'destinationIds':[_0x540c28],'messageType':_0x427f74['Subscription'],'content':_0x34eaa1});}[_0x148812(0x578)](_0x4580d6,_0x3a0161){const _0x1db976=_0x148812;this[_0x1db976(0x7eb)](_0x4580d6,_0x3a0161),this['removeOutgoingSubscription'](_0x4580d6,_0x3a0161);}[_0x148812(0x723)]({id:_0x10efaa}){const _0x269b86=_0x148812;this['incomingManager']['removeSubscriptionsForNode'](_0x10efaa),this[_0x269b86(0x4f0)][_0x269b86(0x723)](_0x10efaa);}}class _0x376743{[_0x148812(0xb2)];[_0x148812(0x23e)]=_0x48de03();constructor(){const _0x2d1d0b=_0x148812;this[_0x2d1d0b(0xb2)]=0x0;}['getLabel'](){const _0x2476dd=_0x148812;return this[_0x2476dd(0xb2)];}[_0x148812(0x16e)](){const _0x2f2bf4=_0x148812;return _0x366c21[_0x2f2bf4(0x8a4)][_0x2f2bf4(0x660)];}[_0x148812(0x98c)](_0x1caabd){const _0x1af445=_0x148812;_0x1caabd[_0x1af445(0x364)](this);}['unregisterSource'](_0x41eb5e){const _0x2d9efd=_0x148812;_0x41eb5e[_0x2d9efd(0x75f)]();}[_0x148812(0x5a3)](_0x4981ee){const _0x222c4b=_0x148812;_0x24a63b['log'](_0x306624[_0x222c4b(0x2ff)],_0x222c4b(0x404),_0x4981ee[_0x222c4b(0x21f)],_0x4981ee),this[_0x222c4b(0x23e)][_0x222c4b(0x5a3)]({'topicLabel':this['label'],'contentType':_0x366c21[_0x222c4b(0x8a4)][_0x222c4b(0x660)],'uuid':_0x4981ee['uuid']??(0x0,_0x12e752['v4'])(),'recipients':_0x4981ee[_0x222c4b(0x4dd)]??[],..._0x4981ee});}[_0x148812(0x360)](_0x46137d){const _0x2a71eb=_0x148812;return this[_0x2a71eb(0x23e)][_0x2a71eb(0x360)](_0x46137d);}}class _0x3f838b{[_0x148812(0x2c0)];[_0x148812(0x467)]=[];[_0x148812(0x3d4)];[_0x148812(0x7f4)]=new Map();['nodeUpdate']=_0x48de03();constructor(_0x595901){const _0x387c81=_0x148812;this[_0x387c81(0x2c0)]=_0x595901,this[_0x387c81(0x3d4)]=(this[_0x387c81(0x2c0)]['maxConnections']-0x2*this[_0x387c81(0x2c0)][_0x387c81(0x676)])/0x2,this[_0x387c81(0x467)][_0x387c81(0x5dc)]({'start':0x1,'end':this[_0x387c81(0x53e)](0x1,0x1)-0x1});for(let _0x1e2c4a=0x0;_0x1e2c4a<this[_0x387c81(0x3d4)];++_0x1e2c4a)this[_0x387c81(0x467)][_0x387c81(0x5dc)]({'start':this[_0x387c81(0x53e)](0x1,_0x1e2c4a+0x1),'end':this['getNextTargetRank'](0x1,_0x1e2c4a+0x2)-0x1});}['getNextTargetRank'](_0x37b295,_0x5228a5=0x1){const _0xf85fc9=_0x148812;let _0x315be0=this[_0xf85fc9(0x2c0)][_0xf85fc9(0x433)]-this[_0xf85fc9(0x2c0)][_0xf85fc9(0x676)],_0x1ba9a6=0x1;for(let _0xa7064b=0x1;_0xa7064b<_0x5228a5;++_0xa7064b)_0x315be0*=this[_0xf85fc9(0x2c0)][_0xf85fc9(0x433)]-this[_0xf85fc9(0x2c0)][_0xf85fc9(0x676)]-_0xa7064b,_0x1ba9a6*=this[_0xf85fc9(0x2c0)][_0xf85fc9(0x433)]-this['options'][_0xf85fc9(0x676)]-_0xa7064b+0x1;return _0x315be0*this[_0xf85fc9(0x2c0)][_0xf85fc9(0x676)]+_0x37b295-_0x1ba9a6;}[_0x148812(0x37a)](_0x2a2818){const _0x2580ef=_0x148812;let _0x148ee4=0x0;for(;this['ranges'][_0x148ee4][_0x2580ef(0x1cb)]<_0x2a2818;)_0x148ee4+=0x1;return _0x148ee4;}[_0x148812(0x937)](){const _0x3461c0=_0x148812;return this[_0x3461c0(0x2c0)][_0x3461c0(0x676)];}['getMaxConnections'](){const _0x5c39cb=_0x148812;return this[_0x5c39cb(0x2c0)][_0x5c39cb(0x115)];}[_0x148812(0x264)](){const _0x37448b=_0x148812;return this[_0x37448b(0x2c0)][_0x37448b(0x433)];}['getRemoteNodes'](){const _0x597003=_0x148812;return this[_0x597003(0x7f4)];}[_0x148812(0x33a)](_0x438533,_0x2aa978){const _0x1b921c=_0x148812;this[_0x1b921c(0x7f4)][_0x1b921c(0x6b3)](_0x438533,_0x2aa978),this[_0x1b921c(0x84f)][_0x1b921c(0x5a3)]();}[_0x148812(0x113)](_0x4cf95a){const _0xed6421=_0x148812;this[_0xed6421(0x7f4)][_0xed6421(0x91b)](_0x4cf95a),this[_0xed6421(0x84f)][_0xed6421(0x5a3)]();}[_0x148812(0x1bb)](_0x5a2c34){const _0x2f996c=_0x148812;return this['remoteNodes'][_0x2f996c(0x31f)](_0x5a2c34);}[_0x148812(0x8ee)](_0x869749){const _0x4aea75=_0x148812;return this[_0x4aea75(0x7f4)][_0x4aea75(0x792)](_0x869749);}[_0x148812(0x282)](_0x57d91a,_0x1974b2){const _0x5435f2=_0x148812,_0xe87e10=this[_0x5435f2(0x8ee)](_0x1974b2)?.[_0x5435f2(0x6bd)]()??0x0;return _0x57d91a[_0x5435f2(0x7e1)](_0xef9445=>this[_0x5435f2(0x8ee)](_0xef9445))[_0x5435f2(0x5b5)](_0x231aa1=>void 0x0!==_0x231aa1)[_0x5435f2(0x556)]((_0x5a45ed,_0x25b924)=>Math[_0x5435f2(0x4f8)](_0xe87e10-(_0x5a45ed&&_0x5a45ed[_0x5435f2(0x6bd)]()||0x1/0x0))-Math[_0x5435f2(0x4f8)](_0xe87e10-(_0x25b924&&_0x25b924[_0x5435f2(0x6bd)]()||0x1/0x0)))['map'](_0x1fe9cf=>_0x1fe9cf[_0x5435f2(0x114)]());}[_0x148812(0x94a)](_0x552e9f){const _0x583ba4=_0x148812;return this[_0x583ba4(0x84f)][_0x583ba4(0x360)](_0x552e9f);}}class _0x1d030a{[_0x148812(0x945)];[_0x148812(0x853)];[_0x148812(0x3dc)];[_0x148812(0x3d6)];[_0x148812(0x2c0)];[_0x148812(0x5bf)];[_0x148812(0x91c)];[_0x148812(0x216)];[_0x148812(0x3d5)];[_0x148812(0xcd)];[_0x148812(0x449)];[_0x148812(0xeb)];[_0x148812(0x1f4)];['nodeManager'];[_0x148812(0x986)];[_0x148812(0x3eb)]=new _0x376743();['systemTopicUnsubscribe'];[_0x148812(0x894)];constructor(_0x4645db,_0x3bdd55,_0x242f5f,_0x1ca66d,_0x2ed445,_0x5d3486,_0x75f221){const _0x14e99a=_0x148812;switch(this['vendorId']=_0x4645db,this['clusterId']=_0x3bdd55,this[_0x14e99a(0x3dc)]=_0x242f5f,this[_0x14e99a(0x3d6)]=_0x1ca66d,this[_0x14e99a(0x2c0)]=_0x2ed445,this[_0x14e99a(0x5bf)]=_0x5d3486,this['clusterEventEmitter']=_0x75f221,_0x242f5f[_0x14e99a(0x200)]){case _0x366c21[_0x14e99a(0x3a8)][_0x14e99a(0x86d)]:this[_0x14e99a(0x894)]=new _0x238b2a(_0x242f5f[_0x14e99a(0x114)](),_0x242f5f[_0x14e99a(0x14e)](),_0x242f5f[_0x14e99a(0x3b2)]());break;case _0x366c21[_0x14e99a(0x3a8)][_0x14e99a(0x6b4)]:default:this[_0x14e99a(0x894)]=new _0x3c9b1a(_0x242f5f[_0x14e99a(0x114)]());}const _0x13193e=this[_0x14e99a(0x93b)]();this[_0x14e99a(0x986)]=new _0x3f838b(this[_0x14e99a(0x2c0)]),this['contentManager']=new _0x19dce4(_0x13193e,this['options'],this['configs'][_0x14e99a(0x864)]),this[_0x14e99a(0x3d5)]=new _0x2472f8(_0x13193e,this[_0x14e99a(0x3d6)],this[_0x14e99a(0x986)],this[_0x14e99a(0x5bf)][_0x14e99a(0x106)],this[_0x14e99a(0x2c0)]),this[_0x14e99a(0xcd)]=new _0x12e503(_0x13193e,this[_0x14e99a(0x2c0)][_0x14e99a(0x95f)],this['graphService'][_0x14e99a(0x264)]()),this[_0x14e99a(0x449)]=new _0x510f31(_0x13193e),this[_0x14e99a(0xeb)]=new _0x44a3e3(_0x13193e),this['remediationManager']=new _0x447454(_0x13193e),this[_0x14e99a(0x84c)]=new _0x56ee44(_0x13193e,this[_0x14e99a(0x986)]),this['systemTopicUnsubscribe']=this[_0x14e99a(0xd8)]();}[_0x148812(0x29a)](){const _0x18d1e5=_0x148812,_0x4518a2=this[_0x18d1e5(0x93b)]();this['connectionManager']=new _0x2472f8(_0x4518a2,this[_0x18d1e5(0x3d6)],this[_0x18d1e5(0x986)],this[_0x18d1e5(0x5bf)][_0x18d1e5(0x106)],this[_0x18d1e5(0x2c0)]),this[_0x18d1e5(0xcd)]=new _0x12e503(_0x4518a2,this[_0x18d1e5(0x2c0)][_0x18d1e5(0x95f)],this[_0x18d1e5(0x986)][_0x18d1e5(0x264)]()),this[_0x18d1e5(0x449)]=new _0x510f31(_0x4518a2),this[_0x18d1e5(0xeb)]=new _0x44a3e3(_0x4518a2),this[_0x18d1e5(0x1f4)]=new _0x447454(_0x4518a2),this[_0x18d1e5(0x84c)]=new _0x56ee44(_0x4518a2,this[_0x18d1e5(0x986)]);const _0x4ab78c=this[_0x18d1e5(0x3d5)][_0x18d1e5(0x56b)]();this[_0x18d1e5(0x216)][_0x18d1e5(0x636)]()[_0x18d1e5(0x6bf)](_0x221270=>{const _0x278071=_0x18d1e5;this[_0x278071(0xcd)][_0x278071(0x1c5)](_0x221270,_0x4ab78c),this['subscriptionManager']['createIncomingSubscription'](_0x4ab78c,_0x221270),_0x221270['reset']();}),this[_0x18d1e5(0x216)][_0x18d1e5(0x223)]()[_0x18d1e5(0x6bf)](_0x48cdf6=>{const _0x112d17=_0x18d1e5;this[_0x112d17(0xcd)][_0x112d17(0x1c5)](_0x48cdf6,_0x4ab78c),this[_0x112d17(0xcd)][_0x112d17(0x8f5)](_0x4ab78c,_0x48cdf6),_0x48cdf6[_0x112d17(0x98a)](),_0x48cdf6[_0x112d17(0x319)]();}),this[_0x18d1e5(0x216)]['getKeyValueDatabases']()[_0x18d1e5(0x6bf)](_0x34aaad=>{const _0x59c2c1=_0x18d1e5;this[_0x59c2c1(0xcd)][_0x59c2c1(0x1c5)](_0x34aaad,_0x4ab78c),this['subscriptionManager'][_0x59c2c1(0x8f5)](_0x4ab78c,_0x34aaad),_0x34aaad[_0x59c2c1(0x98a)](),this[_0x59c2c1(0x65a)](_0x34aaad);}),this[_0x18d1e5(0x216)][_0x18d1e5(0x5f5)]()[_0x18d1e5(0x6bf)](_0x318dea=>{const _0xf17e71=_0x18d1e5;this['subscriptionManager'][_0xf17e71(0x1c5)](_0x318dea,_0x4ab78c),this[_0xf17e71(0xcd)][_0xf17e71(0x8f5)](_0x4ab78c,_0x318dea),_0x318dea[_0xf17e71(0x98a)]();}),this[_0x18d1e5(0x216)][_0x18d1e5(0x7cf)]()[_0x18d1e5(0x6bf)](_0x1648a6=>{const _0x4b9beb=_0x18d1e5;this[_0x4b9beb(0xcd)][_0x4b9beb(0x1c5)](_0x1648a6,_0x4ab78c),this['subscriptionManager'][_0x4b9beb(0x8f5)](_0x4ab78c,_0x1648a6),_0x1648a6['reset']();}),this[_0x18d1e5(0x216)]['getVectorDatabases']()[_0x18d1e5(0x6bf)](_0x968b52=>{const _0x2f0993=_0x18d1e5;this['subscriptionManager'][_0x2f0993(0x1c5)](_0x968b52,_0x4ab78c),this['subscriptionManager']['createIncomingSubscription'](_0x4ab78c,_0x968b52),_0x968b52[_0x2f0993(0x98a)]();}),this[_0x18d1e5(0x216)][_0x18d1e5(0x8f6)]()[_0x18d1e5(0x6bf)](_0x51b2ae=>{const _0x114c25=_0x18d1e5;this[_0x114c25(0xcd)][_0x114c25(0x1c5)](_0x51b2ae,_0x4ab78c),this['subscriptionManager'][_0x114c25(0x8f5)](_0x4ab78c,_0x51b2ae),_0x51b2ae[_0x114c25(0x98a)]();}),this[_0x18d1e5(0x4d4)]=this[_0x18d1e5(0xd8)]();}[_0x148812(0x428)](_0x18b26b){const _0x4f8b2b=_0x148812;try{this[_0x4f8b2b(0x3eb)][_0x4f8b2b(0x98c)](_0x18b26b);}catch(_0x1cd7da){this['handleError'](_0x1cd7da,{});}}[_0x148812(0x447)](_0x16534c){const _0x3c871d=_0x148812;try{this[_0x3c871d(0x3eb)][_0x3c871d(0x18e)](_0x16534c);}catch(_0x184cab){this[_0x3c871d(0x2cf)](_0x184cab,{});}}[_0x148812(0x269)](_0x39fab8,_0x4881e2){const _0x34f9ec=_0x148812;return this[_0x34f9ec(0x3d5)][_0x34f9ec(0x269)](_0x39fab8,_0x4881e2);}['getConnection'](_0x500b90){const _0x35400f=_0x148812;try{return this['connectionManager'][_0x35400f(0x59c)](_0x500b90);}catch(_0x2ecb36){throw this[_0x35400f(0x2cf)](_0x2ecb36,{});}}[_0x148812(0x101)](_0x3113ac){const _0x1c508b=_0x148812;try{return this[_0x1c508b(0x3d5)][_0x1c508b(0x101)](_0x3113ac);}catch(_0x22207b){throw this['handleError'](_0x22207b,{});}}[_0x148812(0x41e)](_0x4628cc,_0x20ef79){const _0x4fc91c=_0x148812;try{return this[_0x4fc91c(0x216)][_0x4fc91c(0x8d4)](_0x54273b=>_0x54273b[_0x4fc91c(0x6ce)]()===_0x4628cc&&_0x54273b[_0x4fc91c(0x5cf)]()===_0x20ef79)[0x0];}catch(_0x44dc51){throw this[_0x4fc91c(0x2cf)](_0x44dc51,{});}}['getLocalMediaStream'](_0x34820f){const _0x76e6bb=_0x148812;try{return this[_0x76e6bb(0x216)][_0x76e6bb(0x95b)](_0x6b2917=>_0x6b2917[_0x76e6bb(0x5cf)]()===_0x34820f)[0x0];}catch(_0x148b01){throw this[_0x76e6bb(0x2cf)](_0x148b01,{});}}[_0x148812(0x89e)]=(..._0x2ec1af)=>{const _0x3c1774=_0x148812;try{return this[_0x3c1774(0x91c)][_0x3c1774(0x498)](..._0x2ec1af);}catch(_0x4ce936){throw this[_0x3c1774(0x2cf)](_0x4ce936,{});}};[_0x148812(0x26d)](_0x30b982){const _0x37265b=_0x148812;try{this[_0x37265b(0x449)]['addRemoteNode'](_0x30b982);}catch(_0x592c5a){throw this['handleError'](_0x592c5a,{});}}[_0x148812(0x387)](_0x183c65){const _0x2439c7=_0x148812;try{this[_0x2439c7(0x449)][_0x2439c7(0x46e)](_0x183c65);}catch(_0x4ced11){throw this[_0x2439c7(0x2cf)](_0x4ced11,{});}}['collectStats'](_0x3d1ab0){const _0x3b0ada=_0x148812;return this[_0x3b0ada(0x3d5)][_0x3b0ada(0x425)](_0x3d1ab0);}async[_0x148812(0x85c)](){const _0x3c0698=_0x148812;try{await this['connectionManager'][_0x3c0698(0x85c)]();const _0x1e4cba=await this['nodeManager'][_0x3c0698(0x336)]();for(const _0x539c91 of _0x1e4cba)this[_0x3c0698(0x3d5)][_0x3c0698(0x269)](_0x539c91);}catch(_0x357e19){throw this[_0x3c0698(0x2cf)](_0x357e19,{});}}[_0x148812(0x704)](_0xee133f){const _0x498313=_0x148812;this[_0x498313(0x894)][_0x498313(0x200)]===_0x366c21['NodeType'][_0x498313(0x86d)]&&(this['localNode'][_0x498313(0x994)](_0xee133f[_0x498313(0x3b2)]()),this[_0x498313(0x894)]['setDisplayName'](_0xee133f[_0x498313(0x14e)]()));}[_0x148812(0x6ac)]({force:_0x37bd52=!0x1},_0x318165=!0x1){const _0x3f0e79=_0x148812;if(_0x24a63b[_0x3f0e79(0x659)]('orchestrator-close',{'clusterId':this[_0x3f0e79(0x853)],'nodeId':this[_0x3f0e79(0x894)][_0x3f0e79(0x114)](),'nodeType':this[_0x3f0e79(0x894)][_0x3f0e79(0x200)]}),!_0x37bd52&&this['connectionManager'][_0x3f0e79(0x6e8)]())throw new _0x5f50cc(_0x128d3f['ConnectionBufferNotEmpty'],_0x3f0e79(0x575));_0x24a63b[_0x3f0e79(0x496)](),this['systemTopicUnsubscribe'](),this[_0x3f0e79(0x1f4)]['close'](),this['detectionManager'][_0x3f0e79(0x6ac)](),this[_0x3f0e79(0x449)]['close'](),this['subscriptionManager']['close'](),this['connectionManager'][_0x3f0e79(0x6ac)](),this['contentManager'][_0x3f0e79(0x6ac)](_0x318165),this[_0x3f0e79(0x84c)][_0x3f0e79(0x6ac)]();}['openPubSubTopic'](_0x4cf0be){const _0x491be4=_0x148812;try{const _0x2f4cd2=this['contentManager']['createPubSubTopic'](_0x4cf0be),_0x40e093=this[_0x491be4(0x3d5)][_0x491be4(0x56b)]();return this[_0x491be4(0xcd)][_0x491be4(0x1c5)](_0x2f4cd2,_0x40e093),this['subscriptionManager']['createIncomingSubscription'](_0x40e093,_0x2f4cd2),_0x2f4cd2;}catch(_0x51eaf){throw this[_0x491be4(0x2cf)](_0x51eaf,{});}}async['openObjectStoreBucket'](_0x58d68e,_0x7edb0e){const _0x203a27=_0x148812;try{const _0x345b96=this[_0x203a27(0x216)][_0x203a27(0x6ea)](_0x58d68e,this[_0x203a27(0x2c0)]['objectStoreConnector']),_0x225015=this[_0x203a27(0x3d5)]['getConnectionGroup']();return this['subscriptionManager'][_0x203a27(0x1c5)](_0x345b96,_0x225015),this['subscriptionManager'][_0x203a27(0x8f5)](_0x225015,_0x345b96),await _0x345b96[_0x203a27(0x319)](_0x7edb0e?.['syncContent']??!0x0),_0x345b96;}catch(_0x4da212){throw this[_0x203a27(0x2cf)](_0x4da212,{});}}async[_0x148812(0x2ed)](_0x21897d,_0x29fc79){const _0x41462d=_0x148812;try{if(!this['options'][_0x41462d(0x1a5)])throw new _0x5f50cc(_0x128d3f[_0x41462d(0xcb)],_0x41462d(0x86b));if(!(this[_0x41462d(0x3dc)]instanceof _0x1668fa))throw new _0x5f50cc(_0x128d3f['NodeInvalidType'],_0x41462d(0x209));const _0x3cc6b8=this[_0x41462d(0x2c0)]['externalStorageConnectors'][_0x41462d(0x792)](_0x29fc79);if(!_0x3cc6b8)throw new _0x5f50cc(_0x128d3f['ExternalStorageConnectorsMissing'],_0x41462d(0x86b));const _0x44f449=this[_0x41462d(0x216)][_0x41462d(0x35a)](_0x21897d,_0x3cc6b8),_0x5eba29=this[_0x41462d(0x3d5)][_0x41462d(0x56b)]();return this['subscriptionManager'][_0x41462d(0x1c5)](_0x44f449,_0x5eba29),this[_0x41462d(0xcd)][_0x41462d(0x8f5)](_0x5eba29,_0x44f449),await _0x44f449['open'](),_0x44f449;}catch(_0x36d1b6){throw this[_0x41462d(0x2cf)](_0x36d1b6,{});}}async['openKeyValueDatabase'](_0x3db348,_0x5f3459,_0x178bd9){const _0x1e0383=_0x148812;try{_0x178bd9=_0x178bd9||this[_0x1e0383(0x2c0)][_0x1e0383(0x6bb)];const _0xbc0751=await this[_0x1e0383(0x216)][_0x1e0383(0x929)](_0x3db348,_0x5f3459,_0x178bd9),_0x4deedf=this[_0x1e0383(0x3d5)]['getConnectionGroup']();return this[_0x1e0383(0xcd)][_0x1e0383(0x1c5)](_0xbc0751,_0x4deedf),this['subscriptionManager'][_0x1e0383(0x8f5)](_0x4deedf,_0xbc0751),await _0xbc0751['open'](),this[_0x1e0383(0x65a)](_0xbc0751),_0xbc0751;}catch(_0x1d6207){throw this[_0x1e0383(0x2cf)](_0x1d6207,{});}}async[_0x148812(0x10d)](_0x2e1833){const _0xb76db7=_0x148812;try{const _0x579c9f=await this[_0xb76db7(0x216)][_0xb76db7(0x73f)](_0x2e1833,this[_0xb76db7(0x986)]),_0x4de709=this[_0xb76db7(0x3d5)][_0xb76db7(0x56b)]();return this[_0xb76db7(0xcd)][_0xb76db7(0x1c5)](_0x579c9f,_0x4de709),this[_0xb76db7(0xcd)][_0xb76db7(0x8f5)](_0x4de709,_0x579c9f),_0x579c9f[_0xb76db7(0x29a)](),_0x579c9f;}catch(_0x1bb5e5){throw this['handleError'](_0x1bb5e5,{});}}async[_0x148812(0x635)](_0x1eaec4){const _0x5b5508=_0x148812;throw new Error(_0x5b5508(0x73d));}async[_0x148812(0x8ad)](_0x26e828){const _0x2f349d=_0x148812;try{const _0x2224c1=await this[_0x2f349d(0x216)]['createGenerativeAIContext'](_0x26e828,this[_0x2f349d(0x986)]),_0xb8d6f4=this[_0x2f349d(0x3d5)][_0x2f349d(0x56b)]();return this[_0x2f349d(0xcd)][_0x2f349d(0x1c5)](_0x2224c1,_0xb8d6f4),this[_0x2f349d(0xcd)]['createIncomingSubscription'](_0xb8d6f4,_0x2224c1),_0x2224c1[_0x2f349d(0x29a)](),_0x2224c1;}catch(_0x4fffcb){throw console[_0x2f349d(0x2d0)](_0x4fffcb),this[_0x2f349d(0x2cf)](_0x4fffcb,{});}}async[_0x148812(0x8cd)](_0x352856){const _0x496442=_0x148812;try{if(!this['options'][_0x496442(0x585)]||!this[_0x496442(0x2c0)][_0x496442(0x4aa)]||!this[_0x496442(0x2c0)][_0x496442(0x475)])throw new _0x5f50cc(_0x128d3f[_0x496442(0x5b7)],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x496442(0x3dc)]instanceof _0x1668fa))throw new _0x5f50cc(_0x128d3f[_0x496442(0x655)],'Node\x20is\x20not\x20an\x20agent');const _0x448f33=[];for(const _0x1a8855 of this[_0x496442(0x2c0)]['generativeAIWorkerConnectors'])_0x448f33[_0x496442(0x5dc)](new _0x1a8855());const _0x415f54=new this[(_0x496442(0x2c0))]['documentParserConnector'](),_0x270666=new this[(_0x496442(0x2c0))]['nlpLibraryConnector']();let _0x5845a2;this[_0x496442(0x2c0)][_0x496442(0x168)]&&(_0x5845a2=new this[(_0x496442(0x2c0))][(_0x496442(0x168))]());const _0x2dc481=await this['contentManager']['createGenerativeAIWorker'](_0x352856,this[_0x496442(0x3dc)],_0x448f33,_0x415f54,_0x270666,_0x5845a2),_0x36d729=this['connectionManager'][_0x496442(0x56b)]();this[_0x496442(0xcd)][_0x496442(0x1c5)](_0x2dc481,_0x36d729),this[_0x496442(0xcd)][_0x496442(0x8f5)](_0x36d729,_0x2dc481);const _0x1425e7=this['nodeManager'][_0x496442(0x8d1)]();return await _0x2dc481[_0x496442(0x29a)](0x0===_0x1425e7[_0x496442(0x6a1)]||void 0x0),_0x2dc481;}catch(_0x47e6c9){throw this[_0x496442(0x2cf)](_0x47e6c9,{});}}[_0x148812(0x8ff)](_0x5e156c){const _0x105a9b=_0x148812;try{if(!this[_0x105a9b(0x2c0)][_0x105a9b(0x610)])throw new _0x5f50cc(_0x128d3f['GraphDatabaseMissingConnector'],_0x105a9b(0x8a6));if(!(this[_0x105a9b(0x3dc)]instanceof _0x1668fa))throw new _0x5f50cc(_0x128d3f[_0x105a9b(0x655)],'Node\x20is\x20not\x20an\x20agent');const _0x2b65ba=this[_0x105a9b(0x216)]['createGraphDatabase'](_0x5e156c,this[_0x105a9b(0x2c0)]['graphDatabaseConnector']),_0x599d57=this[_0x105a9b(0x3d5)][_0x105a9b(0x56b)]();return this[_0x105a9b(0xcd)]['createOutgoingSubscription'](_0x2b65ba,_0x599d57),this[_0x105a9b(0xcd)][_0x105a9b(0x8f5)](_0x599d57,_0x2b65ba),_0x2b65ba;}catch(_0x336ad7){throw this[_0x105a9b(0x2cf)](_0x336ad7,{});}}['openVectorDatabase'](_0x529252){const _0x36b35d=_0x148812;try{if(!this[_0x36b35d(0x2c0)][_0x36b35d(0x15c)])throw new _0x5f50cc(_0x128d3f[_0x36b35d(0x7e6)],_0x36b35d(0x4d8));if(!(this[_0x36b35d(0x3dc)]instanceof _0x1668fa))throw new _0x5f50cc(_0x128d3f[_0x36b35d(0x655)],_0x36b35d(0x209));const _0x50d281=this[_0x36b35d(0x216)]['createVectorDatabase'](_0x529252,this[_0x36b35d(0x2c0)][_0x36b35d(0x15c)]),_0x58e6c9=this['connectionManager'][_0x36b35d(0x56b)]();return this[_0x36b35d(0xcd)][_0x36b35d(0x1c5)](_0x50d281,_0x58e6c9),this[_0x36b35d(0xcd)][_0x36b35d(0x8f5)](_0x58e6c9,_0x50d281),_0x50d281;}catch(_0x5551ac){throw this[_0x36b35d(0x2cf)](_0x5551ac,{});}}[_0x148812(0x636)](_0x403873){const _0x5cc668=_0x148812;try{return this[_0x5cc668(0x216)][_0x5cc668(0x636)](_0x403873);}catch(_0x51364b){throw this[_0x5cc668(0x2cf)](_0x51364b,{});}}[_0x148812(0x223)](_0xd02431){const _0x31bc75=_0x148812;try{return this[_0x31bc75(0x216)]['getObjectStoreBuckets'](_0xd02431);}catch(_0x35a9b2){throw this[_0x31bc75(0x2cf)](_0x35a9b2,{});}}[_0x148812(0x3b1)](_0x8311de){const _0x491e8b=_0x148812;try{return this[_0x491e8b(0x216)]['getExternalStorageConnections'](_0x8311de);}catch(_0x59f800){throw this[_0x491e8b(0x2cf)](_0x59f800,{});}}[_0x148812(0x4c9)](_0x38b91a){const _0xeb7c36=_0x148812;try{return this[_0xeb7c36(0x216)][_0xeb7c36(0x4c9)](_0x38b91a);}catch(_0x2303a3){throw this[_0xeb7c36(0x2cf)](_0x2303a3,{});}}[_0x148812(0x273)](_0x3655e4){const _0x513ded=_0x148812;try{return this[_0x513ded(0x216)][_0x513ded(0x273)](_0x3655e4);}catch(_0x25e938){throw this[_0x513ded(0x2cf)](_0x25e938,{});}}[_0x148812(0x374)](_0x3b621f){const _0x2591ea=_0x148812;try{return this[_0x2591ea(0x216)][_0x2591ea(0x374)](_0x3b621f);}catch(_0x150d0e){throw this[_0x2591ea(0x2cf)](_0x150d0e,{});}}['getGraphDatabases'](_0x169b8e){const _0x56ee8a=_0x148812;try{return this[_0x56ee8a(0x216)]['getGraphDatabases'](_0x169b8e);}catch(_0x202683){throw this['handleError'](_0x202683,{});}}[_0x148812(0x761)](_0x449144,_0x9978b){const _0x3558bd=_0x148812;if(!this['configs']['features'][_0x3558bd(0x523)](_0x56ddb9[_0x3558bd(0x996)]))throw new _0x5f50cc(_0x128d3f[_0x3558bd(0x8c4)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x3558bd(0x216)][_0x3558bd(0x761)](_0x449144,_0x9978b);}catch(_0x1eb60d){throw this[_0x3558bd(0x2cf)](_0x1eb60d,{});}}[_0x148812(0x32b)](_0x196fce,_0x31ef45){const _0x39dc59=_0x148812;if(!this[_0x39dc59(0x5bf)][_0x39dc59(0x1bd)]['includes'](_0x56ddb9[_0x39dc59(0x996)]))throw new _0x5f50cc(_0x128d3f[_0x39dc59(0x8c4)],_0x39dc59(0x995));try{return this[_0x39dc59(0x216)]['createLocalDynamicMediaStream'](_0x196fce,_0x31ef45);}catch(_0x5d2a30){throw this[_0x39dc59(0x2cf)](_0x5d2a30,{});}}[_0x148812(0x95b)](_0x248596){const _0x1c7f6a=_0x148812;if(!this[_0x1c7f6a(0x5bf)][_0x1c7f6a(0x1bd)][_0x1c7f6a(0x523)](_0x56ddb9[_0x1c7f6a(0x996)]))throw new _0x5f50cc(_0x128d3f[_0x1c7f6a(0x8c4)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x1c7f6a(0x216)][_0x1c7f6a(0x95b)](_0x248596);}catch(_0x342f39){throw this[_0x1c7f6a(0x2cf)](_0x342f39,{});}}[_0x148812(0x8d4)](_0x465f3d){const _0x58b6d=_0x148812;if(!this[_0x58b6d(0x5bf)][_0x58b6d(0x1bd)]['includes'](_0x56ddb9['MediaStream']))throw new _0x5f50cc(_0x128d3f[_0x58b6d(0x8c4)],_0x58b6d(0x995));try{return this[_0x58b6d(0x216)][_0x58b6d(0x8d4)](_0x465f3d);}catch(_0x98ac09){throw this[_0x58b6d(0x2cf)](_0x98ac09,{});}}[_0x148812(0x92)](_0x1cd498){const _0x290788=_0x148812;try{return this[_0x290788(0x216)]['getVectorDatabases'](_0x1cd498);}catch(_0x34ba92){throw this[_0x290788(0x2cf)](_0x34ba92,{});}}['getDistance'](_0x2637b4,_0x2511da){const _0x102b61=_0x148812;return this[_0x102b61(0x84c)][_0x102b61(0xc5)](_0x2637b4,_0x2511da);}[_0x148812(0x6e9)](){const _0x16237=_0x148812;return this[_0x16237(0x84c)][_0x16237(0x6e9)]();}['getRemoteNodes'](_0x2fb200){const _0x2f6769=_0x148812;try{return this[_0x2f6769(0x84c)]['getRemoteNodes'](_0x2fb200);}catch(_0x120897){throw this[_0x2f6769(0x2cf)](_0x120897,{});}}[_0x148812(0x53b)](){const _0xb29fde=_0x148812;return this[_0xb29fde(0x3d5)][_0xb29fde(0x53b)]();}['isNodeReady'](_0x4795ac){const _0x1e6a7f=_0x148812;return this[_0x1e6a7f(0x84c)]['isNodeReady'](_0x4795ac);}async[_0x148812(0x727)](_0x20f842){const _0x45afde=_0x148812;try{if(_0x24a63b['log'](_0x306624[_0x45afde(0x2ff)],_0x45afde(0x900),this[_0x45afde(0x84c)][_0x45afde(0x63f)](),_0x20f842),_0x24bc38(_0x20f842,this[_0x45afde(0x84c)][_0x45afde(0x63f)]()))return void this['connectionManager'][_0x45afde(0x3c7)](_0x20f842);switch(_0x20f842['messageType']){case _0x427f74['Content']:this['statsManager']['handleContentSystemEvents'](_0x20f842),this['subscriptionManager'][_0x45afde(0x6af)](_0x20f842),this['contentManager'][_0x45afde(0x6af)](_0x20f842);break;case _0x427f74['Node']:this['subscriptionManager'][_0x45afde(0x6c4)](_0x20f842),this[_0x45afde(0x3d5)]['handleNodeSystemEvents'](_0x20f842),this[_0x45afde(0x216)][_0x45afde(0x6c4)](_0x20f842),this[_0x45afde(0x84c)][_0x45afde(0x6c4)](_0x20f842);break;case _0x427f74['Detection']:this[_0x45afde(0x1f4)][_0x45afde(0x8f8)](_0x20f842);break;case _0x427f74[_0x45afde(0x48c)]:this[_0x45afde(0x1f4)][_0x45afde(0x5ce)](_0x20f842);break;case _0x427f74[_0x45afde(0x7b0)]:this[_0x45afde(0xeb)][_0x45afde(0x59b)](_0x20f842);break;case _0x427f74[_0x45afde(0x737)]:_0x20f842[_0x45afde(0x92a)][_0x45afde(0x200)]!==_0x43bb47[_0x45afde(0x6fa)]?(this['subscriptionManager'][_0x45afde(0x304)](_0x20f842),this['contentManager'][_0x45afde(0x304)](_0x20f842)):(this[_0x45afde(0x216)][_0x45afde(0x304)](_0x20f842),this['subscriptionManager'][_0x45afde(0x304)](_0x20f842));break;case _0x427f74[_0x45afde(0x891)]:await this['connectionManager']['handlePeerConnectionSystemEvents'](_0x20f842),this['statsManager'][_0x45afde(0x4bb)](_0x20f842),this[_0x45afde(0x84c)][_0x45afde(0x4bb)](_0x20f842),this['subscriptionManager'][_0x45afde(0x4bb)](_0x20f842);}}catch(_0x377af8){throw _0x24a63b[_0x45afde(0x69b)](_0x45afde(0x727),_0x377af8),this[_0x45afde(0x2cf)](_0x377af8,{});}}[_0x148812(0x2cf)](_0x102c4d,_0x4bb3ba){const _0x5f38e1=_0x148812;if(!(_0x102c4d instanceof _0x30fc07)){if(_0x102c4d instanceof _0x5f50cc)throw _0x102c4d;if(!(_0x102c4d instanceof Error))throw new _0x5f50cc(_0x128d3f['InternalSDKError'],_0x5f38e1(0x1d0)+_0x102c4d);if(!(_0x102c4d instanceof _0x864d50))throw new _0x5f50cc(_0x128d3f[_0x5f38e1(0x103)],'Internal\x20error:\x20'+_0x102c4d[_0x5f38e1(0x34d)]);switch(_0x102c4d[_0x5f38e1(0x6ed)]){case _0x864d50[_0x5f38e1(0x753)][_0x5f38e1(0x4c2)]:case _0x864d50[_0x5f38e1(0x753)]['MissingRemoteConnection']:case _0x864d50[_0x5f38e1(0x753)][_0x5f38e1(0x7c3)]:case _0x864d50['codes'][_0x5f38e1(0x258)]:case _0x864d50[_0x5f38e1(0x753)]['ConnectionNotConnected']:case _0x864d50[_0x5f38e1(0x753)][_0x5f38e1(0xa0)]:case _0x864d50[_0x5f38e1(0x753)][_0x5f38e1(0x7d1)]:case _0x864d50[_0x5f38e1(0x753)][_0x5f38e1(0x1c3)]:case _0x864d50['codes'][_0x5f38e1(0x36f)]:case _0x864d50[_0x5f38e1(0x753)][_0x5f38e1(0x6ab)]:case _0x864d50[_0x5f38e1(0x753)][_0x5f38e1(0x3b8)]:case _0x864d50['codes'][_0x5f38e1(0x806)]:}throw _0x24a63b['error'](_0x5f38e1(0x2b2)+_0x102c4d[_0x5f38e1(0x34d)],{'clusterId':this[_0x5f38e1(0x853)],'nodeId':this[_0x5f38e1(0x894)]['getId'](),'nodeType':this[_0x5f38e1(0x894)][_0x5f38e1(0x200)]},_0x102c4d),new _0x5f50cc(_0x128d3f[_0x5f38e1(0x103)],_0x5f38e1(0x2b6)+_0x102c4d[_0x5f38e1(0x34d)]);}}['getConfigs'](){const _0x1af4a1=_0x148812;return{'mediator':this,'vendorId':this[_0x1af4a1(0x945)],'clusterId':this[_0x1af4a1(0x853)],'localNode':this[_0x1af4a1(0x894)]};}[_0x148812(0xd8)](){const _0x4fed82=_0x148812;return this[_0x4fed82(0x3eb)][_0x4fed82(0x360)](_0x2f3ee3=>{const _0x13cf6f=_0x4fed82,_0x2ecb2a=_0x1718a0(_0x2f3ee3,this[_0x13cf6f(0x894)][_0x13cf6f(0x114)]()),_0x7f55ba=_0x2f3ee3[_0x13cf6f(0x373)]===_0x427f74[_0x13cf6f(0x7b0)]||_0x2f3ee3[_0x13cf6f(0x373)]===_0x427f74['PeerConnection']&&_0x2f3ee3[_0x13cf6f(0x92a)]['type']===_0x4c498b['Stats']?_0x306624[_0x13cf6f(0x685)]:_0x306624['System'];_0x24a63b[_0x13cf6f(0x2ce)](_0x7f55ba,_0x2f3ee3[_0x13cf6f(0x48b)]+_0x13cf6f(0x19b)+_0x2ecb2a,_0x2f3ee3),this['handleSystemEvents'](_0x2f3ee3)['catch'](_0x2e82f=>{console['error'](_0x2e82f);});});}async['syncKeyValueDatabase'](_0x4b7931){const _0x229323=_0x148812,{timingLogger:_0x5e0dfd,logger:_0x8e79e4,logBeforeSync:_0x2a59be,logAfterSync:_0x1c266a}=function(_0x3dff25,_0x1394a9){const _0x5c3f77=a0_0x53e8;if(!_0x24a63b[_0x5c3f77(0x348)](_0x1394a9))return _0x24a63b[_0x5c3f77(0x69b)](_0x5c3f77(0x29c)+_0x1394a9),{..._0x2b0f8b(_0x3dff25,_0x1394a9),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x5f487e,logger:_0x1c2b06}=_0x2b0f8b(_0x3dff25,_0x1394a9);let _0x347941=0x0;return _0x347941=Date['now'](),{'syncStartTime':_0x347941,'timingLogger':_0x5f487e,'logger':_0x1c2b06,'logBeforeSync':()=>(_0x337505(_0x1394a9,_0x5c3f77(0x14d)),_0x5f487e[_0x5c3f77(0x847)]()),'logAfterSync':(_0x19d4d4,_0x551b48)=>{const _0x477ebc=_0x5c3f77,_0x47d800=Date['now']();_0x337505(_0x1394a9,_0x477ebc(0x9e)+_0x551b48);const _0x1d68df=(_0x47d800-_0x347941)/0x3e8,_0x566ff6=(_0x47d800-_0x19d4d4)/0x3e8;_0x24a63b[_0x477ebc(0x14c)](_0x1394a9,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x3dff25,_0x477ebc(0x81e)+_0x1d68df[_0x477ebc(0x845)](0x2)+_0x477ebc(0x50a),_0x477ebc(0x85e)+_0x566ff6['toFixed'](0x3)+_0x477ebc(0x50a),'\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x47d800-_0x347941)/0x3e8-_0x566ff6)['toFixed'](0x2)+'\x20seconds');}};}(_0x4b7931[_0x229323(0x5cf)](),_0x306624[_0x229323(0x492)]);_0x8e79e4[_0x229323(0x14c)](_0x229323(0x26f));const _0x1e8fbd=this[_0x229323(0x84c)][_0x229323(0x8d1)]()[_0x229323(0x6a1)]>0x0;if(_0x1e8fbd){_0x8e79e4[_0x229323(0x14c)]('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this[_0x229323(0x84c)][_0x229323(0x8d1)]()),_0x5e0dfd['start'](),await Promise[_0x229323(0x6f7)](this[_0x229323(0x84c)][_0x229323(0x8d1)]()['map'](async _0x506341=>await this['nodeManager'][_0x229323(0x150)](_0x506341)))['catch'](_0x22ed7d=>_0x24a63b[_0x229323(0x659)](_0x229323(0xa2),{'nodeId':this['localNode']['getId'](),'nodeType':this[_0x229323(0x894)][_0x229323(0x200)]}));const _0x331f58=_0x8e79e4['performCalculation'](()=>this['nodeManager'][_0x229323(0x8d1)](),[]);_0x5e0dfd['logWaitTime'](_0x229323(0x289)+_0x331f58+_0x229323(0x9a));}_0x1c266a(_0x2a59be(),await _0x4b7931[_0x229323(0x319)](_0x1e8fbd,async()=>{const _0x532558=_0x229323;_0x5e0dfd[_0x532558(0x4b7)](),await this[_0x532558(0x84c)][_0x532558(0x7c2)](),_0x5e0dfd[_0x532558(0x50e)](_0x532558(0x4dc)),_0x4b7931[_0x532558(0x319)](!0x0,()=>{const _0x2494b8=_0x532558;_0x8e79e4[_0x2494b8(0x14c)](_0x2494b8(0x4ab)),_0x4b7931[_0x2494b8(0x319)](!0x1);},!0x0);}));}}class _0x28fa49{['vendorId'];[_0x148812(0x853)];[_0x148812(0x3dc)];[_0x148812(0x33b)];['orchestrator'];constructor(_0xcc199a,_0x5ed7a7,_0x3c8e27,_0x2079fb,_0x4c51ff,_0x55c715,_0x313f20=new _0x3ee3c8()){const _0x55789f=_0x148812;this[_0x55789f(0x945)]=_0xcc199a,this[_0x55789f(0x853)]=_0x5ed7a7,this['authNode']=_0x3c8e27,this[_0x55789f(0x33b)]=_0x313f20,this[_0x55789f(0x31e)]=new _0x1d030a(this[_0x55789f(0x945)],this['clusterId'],_0x3c8e27,_0x2079fb,_0x4c51ff,_0x55c715,this);}async['join'](){const _0x182832=_0x148812;await this['orchestrator'][_0x182832(0x85c)](),this['authNode']['type']===_0x366c21[_0x182832(0x3a8)][_0x182832(0x86d)]&&this[_0x182832(0x3dc)][_0x182832(0x841)](this[_0x182832(0x853)],_0x4304d7=>{const _0x83048a=_0x182832;this[_0x83048a(0x31e)][_0x83048a(0x704)](_0x4304d7);});}[_0x148812(0x574)](_0x72e2a0={}){const _0x2320c6=_0x148812;this[_0x2320c6(0x31e)]['close'](_0x72e2a0),this[_0x2320c6(0x3dc)][_0x2320c6(0x200)]===_0x366c21[_0x2320c6(0x3a8)][_0x2320c6(0x86d)]&&this[_0x2320c6(0x3dc)][_0x2320c6(0x365)](this[_0x2320c6(0x853)]),this[_0x2320c6(0x498)]('cluster-leave',void 0x0);}['openPubSubTopic'](_0x39fab7){const _0x267074=_0x148812,_0x1ab3a0=this[_0x267074(0x31e)][_0x267074(0x1d9)](_0x39fab7);return{'getName':_0x1ab3a0[_0x267074(0x895)][_0x267074(0x949)](_0x1ab3a0),'getOwnerId':_0x1ab3a0[_0x267074(0x6ce)][_0x267074(0x949)](_0x1ab3a0),'getContentType':_0x1ab3a0[_0x267074(0x16e)][_0x267074(0x949)](_0x1ab3a0),'publish':_0x1ab3a0[_0x267074(0x5a3)][_0x267074(0x949)](_0x1ab3a0),'subscribe':_0x1ab3a0[_0x267074(0x360)][_0x267074(0x949)](_0x1ab3a0),'unsubscribe':_0x1ab3a0[_0x267074(0x4a0)][_0x267074(0x949)](_0x1ab3a0),'close':_0x1ab3a0[_0x267074(0x6ac)][_0x267074(0x949)](_0x1ab3a0)};}async[_0x148812(0x313)](_0x47415d,_0x4c5edb){const _0x55f455=_0x148812,_0x12f1d6=await this['orchestrator'][_0x55f455(0x313)](_0x47415d,_0x4c5edb);return{'getName':_0x12f1d6[_0x55f455(0x895)][_0x55f455(0x949)](_0x12f1d6),'getOwnerId':_0x12f1d6[_0x55f455(0x6ce)]['bind'](_0x12f1d6),'getContentType':_0x12f1d6[_0x55f455(0x16e)][_0x55f455(0x949)](_0x12f1d6),'publish':_0x12f1d6[_0x55f455(0x5a3)]['bind'](_0x12f1d6),'unpublish':_0x12f1d6['unpublish']['bind'](_0x12f1d6),'get':_0x12f1d6['get'][_0x55f455(0x949)](_0x12f1d6),'list':_0x12f1d6['list'][_0x55f455(0x949)](_0x12f1d6),'getSize':_0x12f1d6[_0x55f455(0x18a)][_0x55f455(0x949)](_0x12f1d6),'subscribe':_0x12f1d6[_0x55f455(0x360)][_0x55f455(0x949)](_0x12f1d6),'unsubscribe':_0x12f1d6[_0x55f455(0x4a0)][_0x55f455(0x949)](_0x12f1d6),'close':_0x12f1d6[_0x55f455(0x6ac)][_0x55f455(0x949)](_0x12f1d6)};}async[_0x148812(0x2ed)](_0x5bbec0,_0x26ec0d){const _0x5401d0=_0x148812,_0x1ada97=await this[_0x5401d0(0x31e)][_0x5401d0(0x2ed)](_0x5bbec0,_0x26ec0d);return{'getName':_0x1ada97[_0x5401d0(0x895)][_0x5401d0(0x949)](_0x1ada97),'getOwnerId':_0x1ada97[_0x5401d0(0x6ce)][_0x5401d0(0x949)](_0x1ada97),'getContentType':_0x1ada97[_0x5401d0(0x16e)][_0x5401d0(0x949)](_0x1ada97),'close':_0x1ada97['close'][_0x5401d0(0x949)](_0x1ada97),'get':_0x1ada97[_0x5401d0(0x792)][_0x5401d0(0x949)](_0x1ada97),'list':_0x1ada97[_0x5401d0(0x946)][_0x5401d0(0x949)](_0x1ada97),'subscribe':_0x1ada97[_0x5401d0(0x360)][_0x5401d0(0x949)](_0x1ada97),'unsubscribe':_0x1ada97[_0x5401d0(0x4a0)][_0x5401d0(0x949)](_0x1ada97)};}async[_0x148812(0x80e)](_0x4f3238,_0x37f2ce,_0x5a1d49){const _0x5770c7=_0x148812,_0x30f1ab=await this['orchestrator'][_0x5770c7(0x80e)](_0x4f3238,_0x37f2ce,_0x5a1d49);return{'getName':_0x30f1ab[_0x5770c7(0x895)][_0x5770c7(0x949)](_0x30f1ab),'getOwnerId':_0x30f1ab[_0x5770c7(0x6ce)]['bind'](_0x30f1ab),'getContentType':_0x30f1ab[_0x5770c7(0x16e)][_0x5770c7(0x949)](_0x30f1ab),'getTable':_0x30f1ab[_0x5770c7(0xd4)][_0x5770c7(0x949)](_0x30f1ab),'subscribe':_0x30f1ab['subscribe']['bind'](_0x30f1ab),'unsubscribe':_0x30f1ab[_0x5770c7(0x4a0)][_0x5770c7(0x949)](_0x30f1ab),'close':_0x30f1ab[_0x5770c7(0x6ac)]['bind'](_0x30f1ab)};}async[_0x148812(0x10d)](_0x44a79b){const _0xcc7ef6=_0x148812,_0xee4909=await this[_0xcc7ef6(0x31e)][_0xcc7ef6(0x10d)](_0x44a79b);return{'getName':_0xee4909[_0xcc7ef6(0x895)]['bind'](_0xee4909),'getOwnerId':_0xee4909['getOwnerId'][_0xcc7ef6(0x949)](_0xee4909),'getContentType':_0xee4909[_0xcc7ef6(0x16e)][_0xcc7ef6(0x949)](_0xee4909),'createJob':_0xee4909['createJob'][_0xcc7ef6(0x949)](_0xee4909),'getJob':_0xee4909['getJob']['bind'](_0xee4909),'getJobs':_0xee4909[_0xcc7ef6(0x412)][_0xcc7ef6(0x949)](_0xee4909),'close':_0xee4909[_0xcc7ef6(0x6ac)][_0xcc7ef6(0x949)](_0xee4909)};}async[_0x148812(0x635)](_0x1c6747){const _0x40d4b4=_0x148812,_0x4d87ef=await this[_0x40d4b4(0x31e)][_0x40d4b4(0x635)](_0x1c6747);return{'close':_0x4d87ef[_0x40d4b4(0x6ac)]['bind'](_0x4d87ef)};}async[_0x148812(0x8ad)](_0x923e46){const _0xffe399=_0x148812,_0x532f67=await this[_0xffe399(0x31e)][_0xffe399(0x8ad)](_0x923e46);return{'createAIJob':_0x532f67[_0xffe399(0x14a)][_0xffe399(0x949)](_0x532f67),'ratePrompt':_0x532f67['ratePrompt'][_0xffe399(0x949)](_0x532f67),'downloadDocument':_0x532f67[_0xffe399(0x343)][_0xffe399(0x949)](_0x532f67),'getDataBucketIds':_0x532f67['getDataBucketIds'][_0xffe399(0x949)](_0x532f67),'close':_0x532f67[_0xffe399(0x6ac)][_0xffe399(0x949)](_0x532f67)};}async[_0x148812(0x8cd)](_0x1f8f04){const _0x26970a=_0x148812,_0x4e883c=await this[_0x26970a(0x31e)]['openGenerativeAIWorker'](_0x1f8f04);return{'close':_0x4e883c[_0x26970a(0x6ac)][_0x26970a(0x949)](_0x4e883c)};}[_0x148812(0x8ff)](_0x2ce438){const _0x1bc106=_0x148812,_0x769fde=this['orchestrator'][_0x1bc106(0x8ff)](_0x2ce438);return{'getName':_0x769fde[_0x1bc106(0x895)][_0x1bc106(0x949)](_0x769fde),'getOwnerId':_0x769fde[_0x1bc106(0x6ce)]['bind'](_0x769fde),'getContentType':_0x769fde[_0x1bc106(0x16e)][_0x1bc106(0x949)](_0x769fde),'addNode':_0x769fde[_0x1bc106(0x46d)][_0x1bc106(0x949)](_0x769fde),'addEdge':_0x769fde[_0x1bc106(0x6e7)][_0x1bc106(0x949)](_0x769fde),'getContent':_0x769fde[_0x1bc106(0x85a)][_0x1bc106(0x949)](_0x769fde),'remove':_0x769fde[_0x1bc106(0x957)][_0x1bc106(0x949)](_0x769fde),'saveToDisk':_0x769fde[_0x1bc106(0x26c)][_0x1bc106(0x949)](_0x769fde),'loadFromDisk':_0x769fde['loadFromDisk']['bind'](_0x769fde),'close':_0x769fde[_0x1bc106(0x6ac)][_0x1bc106(0x949)](_0x769fde)};}[_0x148812(0x7ce)](_0x3bb05d){const _0xaca835=_0x148812,_0x5a0664=this[_0xaca835(0x31e)][_0xaca835(0x7ce)](_0x3bb05d);return{'getName':_0x5a0664[_0xaca835(0x895)][_0xaca835(0x949)](_0x5a0664),'getOwnerId':_0x5a0664['getOwnerId'][_0xaca835(0x949)](_0x5a0664),'getContentType':_0x5a0664[_0xaca835(0x16e)]['bind'](_0x5a0664),'search':_0x5a0664[_0xaca835(0xc3)][_0xaca835(0x949)](_0x5a0664),'insert':_0x5a0664[_0xaca835(0x262)][_0xaca835(0x949)](_0x5a0664),'remove':_0x5a0664['remove'][_0xaca835(0x949)](_0x5a0664),'saveToDisk':_0x5a0664[_0xaca835(0x26c)]['bind'](_0x5a0664),'loadFromDisk':_0x5a0664[_0xaca835(0x548)][_0xaca835(0x949)](_0x5a0664),'close':_0x5a0664['close'][_0xaca835(0x949)](_0x5a0664)};}[_0x148812(0x636)](_0x9f8f81){const _0x276963=_0x148812;return this[_0x276963(0x31e)][_0x276963(0x636)](_0x9f8f81)[_0x276963(0x7e1)](_0x41d7ee=>({'getName':_0x41d7ee[_0x276963(0x895)]['bind'](_0x41d7ee),'getOwnerId':_0x41d7ee[_0x276963(0x6ce)][_0x276963(0x949)](_0x41d7ee),'getContentType':_0x41d7ee['getContentType']['bind'](_0x41d7ee),'publish':_0x41d7ee['publish'][_0x276963(0x949)](_0x41d7ee),'subscribe':_0x41d7ee['subscribe'][_0x276963(0x949)](_0x41d7ee),'unsubscribe':_0x41d7ee['unsubscribe']['bind'](_0x41d7ee),'close':_0x41d7ee[_0x276963(0x6ac)][_0x276963(0x949)](_0x41d7ee)}));}[_0x148812(0x223)](_0x32655f){const _0x114451=_0x148812;return this[_0x114451(0x31e)][_0x114451(0x223)](_0x32655f)['map'](_0x1fbb6e=>({'getName':_0x1fbb6e[_0x114451(0x895)][_0x114451(0x949)](_0x1fbb6e),'getOwnerId':_0x1fbb6e[_0x114451(0x6ce)][_0x114451(0x949)](_0x1fbb6e),'getContentType':_0x1fbb6e['getContentType'][_0x114451(0x949)](_0x1fbb6e),'publish':_0x1fbb6e[_0x114451(0x5a3)][_0x114451(0x949)](_0x1fbb6e),'unpublish':_0x1fbb6e[_0x114451(0x6c9)][_0x114451(0x949)](_0x1fbb6e),'get':_0x1fbb6e[_0x114451(0x792)]['bind'](_0x1fbb6e),'list':_0x1fbb6e['list']['bind'](_0x1fbb6e),'getSize':_0x1fbb6e[_0x114451(0x18a)][_0x114451(0x949)](_0x1fbb6e),'subscribe':_0x1fbb6e[_0x114451(0x360)]['bind'](_0x1fbb6e),'unsubscribe':_0x1fbb6e[_0x114451(0x4a0)][_0x114451(0x949)](_0x1fbb6e),'close':_0x1fbb6e[_0x114451(0x6ac)][_0x114451(0x949)](_0x1fbb6e)}));}['getExternalStorageConnections'](_0x5c6a24){const _0x29f199=_0x148812;return this[_0x29f199(0x31e)][_0x29f199(0x3b1)](_0x5c6a24)[_0x29f199(0x7e1)](_0x28c636=>({'getName':_0x28c636[_0x29f199(0x895)][_0x29f199(0x949)](_0x28c636),'getOwnerId':_0x28c636[_0x29f199(0x6ce)]['bind'](_0x28c636),'getContentType':_0x28c636[_0x29f199(0x16e)][_0x29f199(0x949)](_0x28c636),'close':_0x28c636[_0x29f199(0x6ac)]['bind'](_0x28c636),'get':_0x28c636[_0x29f199(0x792)]['bind'](_0x28c636),'list':_0x28c636[_0x29f199(0x946)][_0x29f199(0x949)](_0x28c636),'subscribe':_0x28c636[_0x29f199(0x360)]['bind'](_0x28c636),'unsubscribe':_0x28c636[_0x29f199(0x4a0)][_0x29f199(0x949)](_0x28c636)}));}[_0x148812(0x4c9)](_0x505b48){const _0x25e6ce=_0x148812;return this['orchestrator'][_0x25e6ce(0x4c9)](_0x505b48)[_0x25e6ce(0x7e1)](_0x2d8280=>({'getName':_0x2d8280[_0x25e6ce(0x895)][_0x25e6ce(0x949)](_0x2d8280),'getOwnerId':_0x2d8280[_0x25e6ce(0x6ce)][_0x25e6ce(0x949)](_0x2d8280),'getContentType':_0x2d8280[_0x25e6ce(0x16e)][_0x25e6ce(0x949)](_0x2d8280),'getTable':_0x2d8280['getTable'][_0x25e6ce(0x949)](_0x2d8280),'subscribe':_0x2d8280['subscribe'][_0x25e6ce(0x949)](_0x2d8280),'unsubscribe':_0x2d8280[_0x25e6ce(0x4a0)][_0x25e6ce(0x949)](_0x2d8280),'close':_0x2d8280[_0x25e6ce(0x6ac)][_0x25e6ce(0x949)](_0x2d8280)}));}[_0x148812(0x273)](_0xa6a54){const _0x65a414=_0x148812;return this[_0x65a414(0x31e)][_0x65a414(0x273)](_0xa6a54)[_0x65a414(0x7e1)](_0x5bb30e=>({'createAIJob':_0x5bb30e[_0x65a414(0x14a)][_0x65a414(0x949)](_0x5bb30e),'ratePrompt':_0x5bb30e[_0x65a414(0x459)][_0x65a414(0x949)](_0x5bb30e),'downloadDocument':_0x5bb30e['downloadDocument'][_0x65a414(0x949)](_0x5bb30e),'getDataBucketIds':_0x5bb30e['getDataBucketIds'][_0x65a414(0x949)](_0x5bb30e),'close':_0x5bb30e[_0x65a414(0x6ac)][_0x65a414(0x949)](_0x5bb30e)}));}[_0x148812(0x374)](_0x3344ba){const _0x26ffc7=_0x148812;return this['orchestrator'][_0x26ffc7(0x374)](_0x3344ba)[_0x26ffc7(0x7e1)](_0x46a15f=>({'close':_0x46a15f[_0x26ffc7(0x6ac)][_0x26ffc7(0x949)](_0x46a15f)}));}[_0x148812(0x1f9)](_0x1d08a9,_0x230b45){const _0x37fd8c=_0x148812,_0x1bd33d=this[_0x37fd8c(0x31e)][_0x37fd8c(0x761)](_0x1d08a9,_0x230b45);return{'getLabel':_0x1bd33d[_0x37fd8c(0x5cf)][_0x37fd8c(0x949)](_0x1bd33d),'getOwnerId':_0x1bd33d[_0x37fd8c(0x6ce)][_0x37fd8c(0x949)](_0x1bd33d),'getContentType':_0x1bd33d[_0x37fd8c(0x16e)]['bind'](_0x1bd33d),'getMediaStream':_0x1bd33d['getMediaStream'][_0x37fd8c(0x949)](_0x1bd33d),'setPriority':_0x1bd33d[_0x37fd8c(0x7db)][_0x37fd8c(0x949)](_0x1bd33d),'unpublish':_0x1bd33d['unpublish'][_0x37fd8c(0x949)](_0x1bd33d)};}[_0x148812(0x678)](_0x119bdf,_0x8fe05){const _0xd426ec=_0x148812,_0x615371=this[_0xd426ec(0x31e)]['createLocalDynamicMediaStream'](_0x119bdf,_0x8fe05);return{'getLabel':_0x615371[_0xd426ec(0x5cf)][_0xd426ec(0x949)](_0x615371),'getOwnerId':_0x615371[_0xd426ec(0x6ce)][_0xd426ec(0x949)](_0x615371),'getContentType':_0x615371[_0xd426ec(0x16e)]['bind'](_0x615371),'setPriority':_0x615371[_0xd426ec(0x7db)][_0xd426ec(0x949)](_0x615371),'unpublish':_0x615371[_0xd426ec(0x6c9)]['bind'](_0x615371),'getMediaStream':_0x615371[_0xd426ec(0x758)][_0xd426ec(0x949)](_0x615371),'addTrack':_0x615371[_0xd426ec(0x483)][_0xd426ec(0x949)](_0x615371),'removeTrack':_0x615371[_0xd426ec(0x44a)][_0xd426ec(0x949)](_0x615371),'replaceTrack':_0x615371[_0xd426ec(0x584)]['bind'](_0x615371),'setTransformations':_0x615371[_0xd426ec(0x227)][_0xd426ec(0x949)](_0x615371)};}[_0x148812(0x95b)](_0x58d497){const _0x4a8713=_0x148812;return this[_0x4a8713(0x31e)]['getLocalMediaStreams'](_0x58d497)[_0x4a8713(0x7e1)](_0x14bdc9=>({'getLabel':_0x14bdc9[_0x4a8713(0x5cf)]['bind'](_0x14bdc9),'getOwnerId':_0x14bdc9[_0x4a8713(0x6ce)][_0x4a8713(0x949)](_0x14bdc9),'getContentType':_0x14bdc9[_0x4a8713(0x16e)][_0x4a8713(0x949)](_0x14bdc9),'getMediaStream':_0x14bdc9['getMediaStream'][_0x4a8713(0x949)](_0x14bdc9),'setPriority':_0x14bdc9[_0x4a8713(0x7db)][_0x4a8713(0x949)](_0x14bdc9),'unpublish':_0x14bdc9[_0x4a8713(0x6c9)]['bind'](_0x14bdc9)}));}['getRemoteMediaStreams'](_0x390286){const _0x4548de=_0x148812;return this[_0x4548de(0x31e)][_0x4548de(0x8d4)](_0x390286)[_0x4548de(0x7e1)](_0x2f721e=>({'getLabel':_0x2f721e['getLabel']['bind'](_0x2f721e),'getOwnerId':_0x2f721e[_0x4548de(0x6ce)]['bind'](_0x2f721e),'getContentType':_0x2f721e[_0x4548de(0x16e)][_0x4548de(0x949)](_0x2f721e),'getMediaStream':_0x2f721e[_0x4548de(0x758)][_0x4548de(0x949)](_0x2f721e),'subscribe':_0x2f721e[_0x4548de(0x360)][_0x4548de(0x949)](_0x2f721e),'unsubscribe':_0x2f721e['unsubscribe'][_0x4548de(0x949)](_0x2f721e),'getAvailableTrackKinds':_0x2f721e[_0x4548de(0x7fa)][_0x4548de(0x949)](_0x2f721e),'update':_0x2f721e[_0x4548de(0x81a)][_0x4548de(0x949)](_0x2f721e),'onProviderChange':_0x2f721e['onProviderChange'][_0x4548de(0x949)](_0x2f721e)}));}['getGraphDatabases'](_0x236dff){const _0x47219a=_0x148812;return this[_0x47219a(0x31e)][_0x47219a(0x8f6)](_0x236dff)[_0x47219a(0x7e1)](_0x123443=>({'getName':_0x123443['getName']['bind'](_0x123443),'getOwnerId':_0x123443[_0x47219a(0x6ce)][_0x47219a(0x949)](_0x123443),'getContentType':_0x123443['getContentType'][_0x47219a(0x949)](_0x123443),'addNode':_0x123443[_0x47219a(0x46d)]['bind'](_0x123443),'addEdge':_0x123443[_0x47219a(0x6e7)]['bind'](_0x123443),'getContent':_0x123443[_0x47219a(0x85a)][_0x47219a(0x949)](_0x123443),'remove':_0x123443[_0x47219a(0x957)][_0x47219a(0x949)](_0x123443),'saveToDisk':_0x123443[_0x47219a(0x26c)][_0x47219a(0x949)](_0x123443),'loadFromDisk':_0x123443[_0x47219a(0x548)][_0x47219a(0x949)](_0x123443),'close':_0x123443['close'][_0x47219a(0x949)](_0x123443)}));}[_0x148812(0x92)](_0x445520){const _0x379bec=_0x148812;return this['orchestrator'][_0x379bec(0x92)](_0x445520)[_0x379bec(0x7e1)](_0x477ce3=>({'getName':_0x477ce3[_0x379bec(0x895)][_0x379bec(0x949)](_0x477ce3),'getOwnerId':_0x477ce3[_0x379bec(0x6ce)][_0x379bec(0x949)](_0x477ce3),'getContentType':_0x477ce3[_0x379bec(0x16e)][_0x379bec(0x949)](_0x477ce3),'search':_0x477ce3[_0x379bec(0xc3)][_0x379bec(0x949)](_0x477ce3),'insert':_0x477ce3[_0x379bec(0x262)][_0x379bec(0x949)](_0x477ce3),'remove':_0x477ce3[_0x379bec(0x957)]['bind'](_0x477ce3),'saveToDisk':_0x477ce3['saveToDisk'][_0x379bec(0x949)](_0x477ce3),'loadFromDisk':_0x477ce3[_0x379bec(0x548)][_0x379bec(0x949)](_0x477ce3),'close':_0x477ce3[_0x379bec(0x6ac)][_0x379bec(0x949)](_0x477ce3)}));}['getLocalNode'](){const _0x557628=_0x148812,_0x3d9d7c=this[_0x557628(0x31e)][_0x557628(0x6e9)]();switch(_0x3d9d7c[_0x557628(0x200)]){case _0x366c21[_0x557628(0x3a8)][_0x557628(0x86d)]:return{'type':_0x366c21['NodeType']['User'],'getId':_0x3d9d7c[_0x557628(0x114)][_0x557628(0x949)](_0x3d9d7c),'getDisplayName':_0x3d9d7c[_0x557628(0x14e)][_0x557628(0x949)](_0x3d9d7c),'getEmail':_0x3d9d7c[_0x557628(0x3b2)][_0x557628(0x949)](_0x3d9d7c),'getRemoteConnections':_0x3d9d7c[_0x557628(0x470)][_0x557628(0x949)](_0x3d9d7c),'setDisplayName':_0x3d9d7c[_0x557628(0x11f)]['bind'](_0x3d9d7c),'setEmail':_0x3d9d7c[_0x557628(0x994)][_0x557628(0x949)](_0x3d9d7c)};case _0x366c21[_0x557628(0x3a8)][_0x557628(0x6b4)]:default:return{'type':_0x366c21[_0x557628(0x3a8)][_0x557628(0x6b4)],'getId':_0x3d9d7c['getId'][_0x557628(0x949)](_0x3d9d7c),'getRemoteConnections':_0x3d9d7c[_0x557628(0x470)][_0x557628(0x949)](_0x3d9d7c)};}}[_0x148812(0x118)](_0x3ecbdc){const _0x497f42=_0x148812;return this[_0x497f42(0x31e)][_0x497f42(0x118)](_0x3ecbdc)['map'](_0x2fc764=>{const _0x19b686=_0x497f42;switch(_0x2fc764[_0x19b686(0x200)]){case _0x366c21['NodeType']['User']:return{'type':_0x366c21[_0x19b686(0x3a8)][_0x19b686(0x86d)],'getId':_0x2fc764[_0x19b686(0x114)][_0x19b686(0x949)](_0x2fc764),'getDisplayName':_0x2fc764[_0x19b686(0x14e)]['bind'](_0x2fc764),'getEmail':_0x2fc764['getEmail'][_0x19b686(0x949)](_0x2fc764),'getRemoteConnections':_0x2fc764[_0x19b686(0x470)]['bind'](_0x2fc764)};case _0x366c21[_0x19b686(0x3a8)][_0x19b686(0x6b4)]:return{'type':_0x366c21[_0x19b686(0x3a8)][_0x19b686(0x6b4)],'getId':_0x2fc764[_0x19b686(0x114)][_0x19b686(0x949)](_0x2fc764),'getRemoteConnections':_0x2fc764['getRemoteConnections'][_0x19b686(0x949)](_0x2fc764)};default:throw new _0x5f50cc(_0x128d3f[_0x19b686(0x655)],_0x19b686(0x607));}});}['on']=(..._0x4471f6)=>{const _0x21ca46=_0x148812;this[_0x21ca46(0x33b)]['on'](..._0x4471f6);};['emit']=(..._0x404c1a)=>this[_0x148812(0x33b)]['emit'](..._0x404c1a);[_0x148812(0x57f)](..._0x4b3ed8){const _0x357094=_0x148812;this[_0x357094(0x33b)][_0x357094(0x57f)](..._0x4b3ed8);}}class _0x30068a{['id'];['displayName'];['email'];[_0x148812(0x200)]=_0x366c21[_0x148812(0x3a8)]['User'];[_0x148812(0x61b)]=new Map();[_0x148812(0x5a1)]=_0x48de03();constructor(_0x4a7d9c,_0x42a03d,_0x3ebd5b){const _0x4e0e61=_0x148812;this['id']=_0x4a7d9c,this[_0x4e0e61(0x631)]=_0x42a03d,this[_0x4e0e61(0x802)]=_0x3ebd5b;}[_0x148812(0x114)](){return this['id'];}[_0x148812(0x14e)](){const _0x376487=_0x148812;return this[_0x376487(0x631)];}['getEmail'](){return this['email'];}[_0x148812(0x11f)](_0x5b8a5e){const _0x5f2047=_0x148812;this[_0x5f2047(0x631)]!==_0x5b8a5e&&(this[_0x5f2047(0x631)]=_0x5b8a5e,this[_0x5f2047(0x5a1)][_0x5f2047(0x5a3)](this));}[_0x148812(0x994)](_0x3d7043){const _0x1538a8=_0x148812;this['email']!==_0x3d7043&&(this[_0x1538a8(0x802)]=_0x3d7043,this[_0x1538a8(0x5a1)][_0x1538a8(0x5a3)](this));}['registerCluster'](_0x5db49b,_0x3688f0){const _0x398f2b=_0x148812;if(this[_0x398f2b(0x61b)][_0x398f2b(0x31f)](_0x5db49b))return;const _0x1dbcdb=this[_0x398f2b(0x5a1)][_0x398f2b(0x360)](_0x3688f0);this[_0x398f2b(0x61b)][_0x398f2b(0x6b3)](_0x5db49b,_0x1dbcdb);}[_0x148812(0x365)](_0x2cca0b){const _0x534932=_0x148812;if(!this[_0x534932(0x61b)][_0x534932(0x31f)](_0x2cca0b))return;const _0x3e2f92=this[_0x534932(0x61b)]['get'](_0x2cca0b);_0x3e2f92&&_0x3e2f92(),this[_0x534932(0x61b)][_0x534932(0x91b)](_0x2cca0b);}}class _0x3d2494{[_0x148812(0x945)];[_0x148812(0x371)];constructor(_0x4c6072){const _0x388605=_0x148812;this[_0x388605(0x945)]=_0x4c6072;}async[_0x148812(0x852)](_0x2e3498){const _0x418de5=_0x148812,_0x41e023=await(0x0,_0x1563b0[_0x418de5(0x803)])(_0x22b478['getFunctions'](),'sdkCreateToken')({'uid':_0x418de5(0x311)+this[_0x418de5(0x945)]+'ccc'+_0x2e3498['id']}),_0x344cf5=await(0x0,_0x4ab7e3['signInWithCustomToken'])(_0x22b478['getAuth'](),_0x41e023[_0x418de5(0x912)][_0x418de5(0x6ee)]);this['user']=_0x344cf5[_0x418de5(0x371)];}async[_0x148812(0x5f0)](){const _0x5953ac=_0x148812;await(0x0,_0x4ab7e3[_0x5953ac(0x5f0)])(_0x22b478[_0x5953ac(0x813)]());}[_0x148812(0x56f)](){const _0x4be3de=_0x148812;return this[_0x4be3de(0x371)]?.[_0x4be3de(0x56f)]()??Promise['reject']('User\x20not\x20signed\x20in');}}class _0x226aba{static ['instance'];['featureSupport']=[];constructor(){}static[_0x148812(0x3bf)](){const _0x434d25=_0x148812;return _0x226aba[_0x434d25(0x39b)]||(_0x226aba['instance']=new _0x226aba()),_0x226aba[_0x434d25(0x39b)];}['initialize'](){const _0x3c4fd0=_0x148812;this['checkWebRTC'](),this[_0x3c4fd0(0x668)](),this[_0x3c4fd0(0x49f)](),this[_0x3c4fd0(0x476)](),this[_0x3c4fd0(0x67b)](),this[_0x3c4fd0(0x77f)](),this[_0x3c4fd0(0x156)](),this[_0x3c4fd0(0x956)](),this[_0x3c4fd0(0x74e)](),this[_0x3c4fd0(0x482)](),_0x24a63b[_0x3c4fd0(0x14c)](_0x306624[_0x3c4fd0(0x23f)],_0x3c4fd0(0x228),{'featureSupport':this[_0x3c4fd0(0x8e1)]});}[_0x148812(0x7fd)](_0x2ada4b){const _0x62011b=_0x148812,_0x18e539=this[_0x62011b(0x8e1)][_0x62011b(0x453)](_0x20f4ed=>_0x20f4ed['name']===_0x2ada4b);return!!_0x18e539&&_0x18e539[_0x62011b(0x51a)];}['logSupport'](_0x1c5f00){const _0x38956b=_0x148812;_0x24a63b[_0x38956b(0x4ba)](_0x38956b(0x283),{'nodeId':_0x1c5f00[_0x38956b(0x114)](),'nodeType':_0x1c5f00[_0x38956b(0x200)],'data':{'featureSupport':this[_0x38956b(0x8e1)]}});}[_0x148812(0x312)](){const _0x8be9fc=_0x148812,_0x5372ce=_0x19bf76[_0x8be9fc(0x8d7)];let _0x3bc37f=!0x1;_0x8be9fc(0x2ab)==typeof RTCPeerConnection&&_0x8be9fc(0x2ab)==typeof RTCIceCandidate&&_0x8be9fc(0x2ab)==typeof RTCSessionDescription?_0x3bc37f=!0x0:_0x24a63b['log'](_0x306624['Support'],'Support:\x20'+_0x5372ce+_0x8be9fc(0x569)),this[_0x8be9fc(0x8e1)][_0x8be9fc(0x5dc)]({'name':_0x5372ce,'supported':_0x3bc37f});}[_0x148812(0x668)](){const _0x37d8e6=_0x148812,_0x30f35a=_0x19bf76['MediaStream'];let _0x22aa40=!0x1;_0x37d8e6(0x2ab)==typeof MediaStream&&_0x37d8e6(0x2ab)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x37d8e6(0x781)==typeof navigator[_0x37d8e6(0x8c1)]&&_0x37d8e6(0x2ab)==typeof navigator[_0x37d8e6(0x8c1)][_0x37d8e6(0x15e)]?_0x22aa40=!0x0:_0x24a63b[_0x37d8e6(0x14c)](_0x306624['Support'],_0x37d8e6(0x79f)+_0x30f35a+_0x37d8e6(0x569)),this[_0x37d8e6(0x8e1)][_0x37d8e6(0x5dc)]({'name':_0x30f35a,'supported':_0x22aa40});}[_0x148812(0x49f)](){const _0x208223=_0x148812,_0x263391=_0x19bf76[_0x208223(0x338)];let _0x53ec24=!0x1;_0x208223(0x781)==typeof navigator&&_0x208223(0x781)==typeof navigator[_0x208223(0x8c1)]&&_0x208223(0x2ab)==typeof navigator[_0x208223(0x8c1)][_0x208223(0x7c6)]?_0x53ec24=!0x0:_0x24a63b[_0x208223(0x14c)](_0x306624[_0x208223(0x23f)],'Support:\x20'+_0x263391+'\x20not\x20supported'),this[_0x208223(0x8e1)]['push']({'name':_0x263391,'supported':_0x53ec24});}[_0x148812(0x476)](){const _0x2633d2=_0x148812,_0x5a8492=_0x19bf76[_0x2633d2(0x554)];let _0x5b8b94=!0x1;_0x2633d2(0x2ab)!=typeof AudioContext||_0x2633d2(0x2ab)!=typeof ScriptProcessorNode&&_0x2633d2(0x2ab)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x24a63b[_0x2633d2(0x14c)](_0x306624[_0x2633d2(0x23f)],_0x2633d2(0x79f)+_0x5a8492+_0x2633d2(0x569)):_0x5b8b94=!0x0,this['featureSupport'][_0x2633d2(0x5dc)]({'name':_0x5a8492,'supported':_0x5b8b94});}['checkDeviceConfig'](){const _0x1c4d39=_0x148812,_0xd10a56=_0x19bf76['DeviceConfig'];let _0x168766=!0x1;_0x1c4d39(0x781)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&_0x1c4d39(0x2ab)==typeof navigator['mediaDevices'][_0x1c4d39(0x600)]&&_0x1c4d39(0x2ab)==typeof MediaDeviceInfo?_0x168766=!0x0:_0x24a63b[_0x1c4d39(0x14c)](_0x306624['Support'],'Support:\x20'+_0xd10a56+'\x20not\x20supported'),this[_0x1c4d39(0x8e1)][_0x1c4d39(0x5dc)]({'name':_0xd10a56,'supported':_0x168766});}[_0x148812(0x77f)](){const _0x10a1f6=_0x148812,_0x38636c=_0x19bf76[_0x10a1f6(0x7ac)];let _0x52fb71=!0x1;_0x10a1f6(0x781)==typeof document&&'function'==typeof document['createElement'](_0x10a1f6(0x1c0))[_0x10a1f6(0x783)]?_0x52fb71=!0x0:_0x24a63b[_0x10a1f6(0x14c)](_0x306624['Support'],_0x10a1f6(0x79f)+_0x38636c+'\x20not\x20supported'),this[_0x10a1f6(0x8e1)][_0x10a1f6(0x5dc)]({'name':_0x38636c,'supported':_0x52fb71});}async[_0x148812(0x156)](){const _0x45dcb8=_0x148812,_0x280bef=_0x19bf76[_0x45dcb8(0x47a)];let _0x3d8413=!0x1;try{const _0x467580=document[_0x45dcb8(0x997)](_0x45dcb8(0x2d7));if(MediaRecorder&&MediaSource&&_0x467580[_0x45dcb8(0x25f)]){const _0x41f5ca=_0x467580[_0x45dcb8(0x25f)](),_0x4e9b69=new MediaRecorder(_0x41f5ca);_0x4e9b69['start'](),await new Promise(_0x4d13e8=>setTimeout(_0x4d13e8,0x7d0)),_0x4e9b69[_0x45dcb8(0x1bc)](),_0x3d8413=_0x45dcb8(0x57d)===_0x4e9b69[_0x45dcb8(0x701)];}}catch(_0x43f8cf){_0x24a63b[_0x45dcb8(0x14c)](_0x306624[_0x45dcb8(0x23f)],_0x45dcb8(0x79f)+_0x280bef+_0x45dcb8(0x5f3),_0x43f8cf);}this['featureSupport'][_0x45dcb8(0x5dc)]({'name':_0x280bef,'supported':_0x3d8413}),_0x3d8413||_0x24a63b[_0x45dcb8(0x14c)](_0x306624[_0x45dcb8(0x23f)],_0x45dcb8(0x79f)+_0x280bef+_0x45dcb8(0x569));}[_0x148812(0x956)](){const _0x589cb2=_0x148812,_0x229912=_0x19bf76[_0x589cb2(0x773)];let _0x11bea5=!0x1;try{document[_0x589cb2(0x997)](_0x589cb2(0x2d7))[_0x589cb2(0x25f)]&&(_0x11bea5=!0x0);}catch(_0x2af182){_0x24a63b[_0x589cb2(0x14c)](_0x306624[_0x589cb2(0x23f)],'Support:\x20'+_0x229912+_0x589cb2(0x5f3),_0x2af182);}this[_0x589cb2(0x8e1)][_0x589cb2(0x5dc)]({'name':_0x229912,'supported':_0x11bea5}),_0x11bea5||_0x24a63b[_0x589cb2(0x14c)](_0x306624[_0x589cb2(0x23f)],'Support:\x20'+_0x229912+_0x589cb2(0x569));}['checkWebGL'](){const _0x42b2cb=_0x148812,_0x3b5d58=_0x19bf76['WebGL'];let _0x534de5=!0x1;try{const _0x545df0=document[_0x42b2cb(0x997)]('canvas');WebGLRenderingContext&&_0x545df0[_0x42b2cb(0x484)]('webgl')&&(_0x534de5=!0x0);}catch(_0x5a3521){_0x24a63b[_0x42b2cb(0x14c)](_0x306624[_0x42b2cb(0x23f)],_0x42b2cb(0x79f)+_0x3b5d58+_0x42b2cb(0x5f3),_0x5a3521);}this[_0x42b2cb(0x8e1)]['push']({'name':_0x3b5d58,'supported':_0x534de5}),_0x534de5||_0x24a63b[_0x42b2cb(0x14c)](_0x306624[_0x42b2cb(0x23f)],_0x42b2cb(0x79f)+_0x3b5d58+'\x20not\x20supported');}[_0x148812(0x482)](){const _0x412de0=_0x148812,_0x33836e=_0x19bf76[_0x412de0(0x3b7)];let _0x42575c=!0x1;_0x412de0(0x2ab)==typeof AudioContext?_0x42575c=!0x0:_0x24a63b['log'](_0x306624[_0x412de0(0x23f)],'Support:\x20'+_0x33836e+_0x412de0(0x569)),this[_0x412de0(0x8e1)][_0x412de0(0x5dc)]({'name':_0x33836e,'supported':_0x42575c});}}const _0x90dfec=_0x226aba[_0x148812(0x3bf)]();class _0x3ca681{static [_0x148812(0x39b)];static ['unsubscribe'];static [_0x148812(0x675)];[_0x148812(0x3d6)];[_0x148812(0x945)];[_0x148812(0x2c0)];['configs'];[_0x148812(0x875)]=new Map();[_0x148812(0x630)];constructor(_0x2930cc,_0x5c8d00,_0x59b0d2){const _0x502deb=_0x148812;this[_0x502deb(0x945)]=_0x2930cc,this[_0x502deb(0x5bf)]=_0x5c8d00,this['authService']=new _0x3d2494(this[_0x502deb(0x945)]),_0x90dfec[_0x502deb(0x85c)](),this['options']={'audioContext':_0x59b0d2?.['audioContext']??(_0x90dfec['isFeatureSupported'](_0x19bf76[_0x502deb(0x3b7)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x59b0d2?.[_0x502deb(0x95f)]??0x1,'minConnections':_0x59b0d2?.[_0x502deb(0x676)]??0x3,'maxConnections':_0x59b0d2?.[_0x502deb(0x115)]??(_0x59b0d2?.[_0x502deb(0x676)]&&0x4*_0x59b0d2[_0x502deb(0x676)])??0xc,'maxDistance':_0x59b0d2?.[_0x502deb(0x433)]??0xa,'maxFps':_0x59b0d2?.[_0x502deb(0xe6)]??0x18,'maxBpp':_0x59b0d2?.[_0x502deb(0x323)]??0.12,'objectStoreConnector':_0x59b0d2?.[_0x502deb(0x249)]??_0x20955a[_0x502deb(0x71a)],'externalStorageConnectors':_0x59b0d2?.['externalStorageConnectors'],'keyValueDatabaseConnector':_0x59b0d2?.[_0x502deb(0x6bb)]??_0x31d242['IDBDatabaseConnector'],'loggingDatabaseConnector':_0x59b0d2?.['loggingDatabaseConnector']??_0x31d242[_0x502deb(0x6de)],'peerConnectionConnector':_0x59b0d2?.['peerConnectionConnector']??_0x1f4553[_0x502deb(0x6ff)],'generativeAIWorkerConnectors':_0x59b0d2?.[_0x502deb(0x585)],'vectorDatabaseConnector':_0x59b0d2?.[_0x502deb(0x15c)],'graphDatabaseConnector':_0x59b0d2?.['graphDatabaseConnector'],'documentParserConnector':_0x59b0d2?.['documentParserConnector'],'nlpLibraryConnector':_0x59b0d2?.[_0x502deb(0x475)],'searchConnector':_0x59b0d2?.[_0x502deb(0x168)]},_0x59b0d2?.[_0x502deb(0x295)]&&this['options'][_0x502deb(0x5ca)]&&_0x1d7287['startNoThrottlingHack'](this[_0x502deb(0x2c0)][_0x502deb(0x5ca)]),_0x24a63b[_0x502deb(0x8a7)](this['vendorId']),_0x59b0d2?.['loggingConnectors']&&_0x24a63b['setLoggingConnectors'](_0x59b0d2[_0x502deb(0x78a)]);}static async[_0x148812(0x3bf)](_0x4a34c7,_0xa9e4fe,_0x2c3517,_0x458e48,_0xb42315){const _0x1d0cbd=_0x148812;this[_0x1d0cbd(0x675)]=_0x2c3517;const _0x304d51=await this[_0x1d0cbd(0x326)](_0x4a34c7,_0xa9e4fe,_0xb42315);return _0x3ca681[_0x1d0cbd(0x39b)]||(_0x3ca681['instance']=new _0x3ca681(_0x4a34c7,_0x304d51,_0x458e48)),{'close':_0x3ca681[_0x1d0cbd(0x39b)][_0x1d0cbd(0x6ac)][_0x1d0cbd(0x949)](_0x3ca681[_0x1d0cbd(0x39b)]),'authenticateUser':_0x3ca681['instance'][_0x1d0cbd(0x253)][_0x1d0cbd(0x949)](_0x3ca681[_0x1d0cbd(0x39b)]),'authenticateAgent':_0x3ca681[_0x1d0cbd(0x39b)][_0x1d0cbd(0x5c2)][_0x1d0cbd(0x949)](_0x3ca681[_0x1d0cbd(0x39b)]),'joinCluster':_0x3ca681[_0x1d0cbd(0x39b)][_0x1d0cbd(0x497)][_0x1d0cbd(0x949)](_0x3ca681[_0x1d0cbd(0x39b)])};}static async[_0x148812(0x33f)](){const _0x1dc814=_0x148812;return _0x22b478[_0x1dc814(0x7ee)]();}static['isProduction'](){const _0x43fe6b=_0x148812;return _0x452d67[_0x43fe6b(0x3a6)];}async['close'](_0x1761ac){const _0x2b38f7=_0x148812;this[_0x2b38f7(0x875)]['forEach'](_0x5172f8=>{const _0x323f7f=_0x2b38f7;_0x5172f8['off'](),_0x5172f8[_0x323f7f(0x574)](_0x1761ac);}),this['clusters'][_0x2b38f7(0x970)](),this['options'][_0x2b38f7(0x5ca)]&&_0x1d7287[_0x2b38f7(0x914)](),_0x3ca681[_0x2b38f7(0x4a0)]?.(),_0x3ca681[_0x2b38f7(0x4a0)]=void 0x0,this[_0x2b38f7(0x630)]=void 0x0,await this[_0x2b38f7(0x3d6)][_0x2b38f7(0x5f0)](),_0x3ca681[_0x2b38f7(0x39b)]=void 0x0;}static async[_0x148812(0x326)](_0x4f0f7d,_0x59c734,_0xd321a7){const _0x3efeba=_0x148812;if(!this['mode'])throw new _0x5f50cc(_0x128d3f[_0x3efeba(0x98f)],_0x3efeba(0x281));let _0x1291f8;try{_0x1291f8=await(0x0,_0x1563b0[_0x3efeba(0x803)])(_0x22b478[_0x3efeba(0xde)](),'sdkValidateAccess')({'vendorId':_0x4f0f7d,'accessToken':_0x59c734,'secretKey':_0xd321a7});}catch(_0x3434a8){throw new _0x5f50cc(_0x128d3f[_0x3efeba(0x407)],'Invalid\x20credentials');}if(!this[_0x3efeba(0x5c1)](_0x1291f8['data']))throw new _0x5f50cc(_0x128d3f['InvalidAccess'],_0x3efeba(0x301));const _0x3fb629=_0x1291f8[_0x3efeba(0x912)];return _0x3fb629[_0x3efeba(0x1bd)]||(_0x3fb629[_0x3efeba(0x1bd)]=[]),this[_0x3efeba(0x4a0)]||(this['unsubscribe']=_0x1d7287[_0x3efeba(0x511)](async()=>{const _0x561141=_0x3efeba;try{const _0x245c3c=await this['validateAccess'](_0x4f0f7d,_0x59c734,_0xd321a7);this[_0x561141(0x675)]===_0x366c21[_0x561141(0x3a8)]['Agent']&&(_0x245c3c[_0x561141(0x106)]=_0x245c3c[_0x561141(0x106)]['filter'](_0x462b5f=>_0x462b5f['urls']['startsWith'](_0x561141(0x8ba)))),_0x3fb629['iceServers']=_0x245c3c[_0x561141(0x106)];}catch(_0x231e6){}},0x1b7740)),_0x3fb629;}async[_0x148812(0x253)](_0x5c791e){const _0x2c8fe9=_0x148812;if(_0x3ca681['mode']!==_0x366c21['NodeType'][_0x2c8fe9(0x86d)])throw new _0x5f50cc(_0x128d3f[_0x2c8fe9(0x655)],_0x2c8fe9(0x525));await this[_0x2c8fe9(0x3d6)][_0x2c8fe9(0x852)](_0x5c791e);const _0x499327=new _0x30068a(_0x5c791e['id'],_0x5c791e[_0x2c8fe9(0x631)],_0x5c791e[_0x2c8fe9(0x802)]);return this[_0x2c8fe9(0x630)]={'node':_0x499327},_0x90dfec[_0x2c8fe9(0x514)](_0x499327),{'type':_0x366c21[_0x2c8fe9(0x3a8)][_0x2c8fe9(0x86d)],'getId':_0x499327[_0x2c8fe9(0x114)][_0x2c8fe9(0x949)](_0x499327),'getDisplayName':_0x499327[_0x2c8fe9(0x14e)][_0x2c8fe9(0x949)](_0x499327),'getEmail':_0x499327[_0x2c8fe9(0x3b2)][_0x2c8fe9(0x949)](_0x499327),'setDisplayName':_0x499327[_0x2c8fe9(0x11f)][_0x2c8fe9(0x949)](_0x499327),'setEmail':_0x499327[_0x2c8fe9(0x994)][_0x2c8fe9(0x949)](_0x499327)};}async[_0x148812(0x5c2)](_0x587d23){const _0x967fd1=_0x148812;if(_0x3ca681[_0x967fd1(0x675)]!==_0x366c21[_0x967fd1(0x3a8)][_0x967fd1(0x6b4)])throw new _0x5f50cc(_0x128d3f[_0x967fd1(0x655)],_0x967fd1(0x525));const {id:_0x41e4ee,groupId:_0x2e6b09}=_0x587d23,_0xd68df0=await(0x0,_0x23941c[_0x967fd1(0x941)])((0x0,_0x23941c['doc'])(_0x22b478[_0x967fd1(0x58f)](),_0x967fd1(0x457)+this[_0x967fd1(0x945)]+_0x967fd1(0x408)+_0x2e6b09));if(!_0xd68df0['exists']())throw new _0x5f50cc(_0x128d3f[_0x967fd1(0x6ef)],_0x967fd1(0x648));const _0x466662=_0xd68df0[_0x967fd1(0x912)]();await this[_0x967fd1(0x3d6)][_0x967fd1(0x852)]({'id':_0x41e4ee});const _0x10f4e9=new _0x1668fa(_0x41e4ee,_0x2e6b09,this[_0x967fd1(0x945)],_0x466662);return this[_0x967fd1(0x630)]={'node':_0x10f4e9},_0x90dfec[_0x967fd1(0x514)](_0x10f4e9),await this['connectAgent'](_0x10f4e9),{'type':_0x366c21[_0x967fd1(0x3a8)][_0x967fd1(0x6b4)],'getId':_0x10f4e9['getId']['bind'](_0x10f4e9),'onConfigurationChange':_0x10f4e9[_0x967fd1(0x577)][_0x967fd1(0x949)](_0x10f4e9),'setReportCapacity':_0x10f4e9[_0x967fd1(0x59d)]['bind'](_0x10f4e9)};}async['joinCluster'](_0xd884cd){const _0x3b3745=_0x148812;if(!this[_0x3b3745(0x630)])throw new _0x5f50cc(_0x128d3f['NodeNotAuthenticated'],'Node\x20not\x20authenticated');if(this['authContext'][_0x3b3745(0x1d6)][_0x3b3745(0x200)]!==_0x366c21['NodeType']['User'])throw new _0x5f50cc(_0x128d3f[_0x3b3745(0x44c)],_0x3b3745(0x66b));if(this['clusters']['has'](_0xd884cd))throw new _0x5f50cc(_0x128d3f[_0x3b3745(0x9d)],_0x3b3745(0x7b6));const _0x1e6c7b=new _0x28fa49(this[_0x3b3745(0x945)],_0xd884cd,this[_0x3b3745(0x630)][_0x3b3745(0x1d6)],this[_0x3b3745(0x3d6)],this[_0x3b3745(0x2c0)],this['configs']);return await _0x1e6c7b[_0x3b3745(0x3b0)](),this[_0x3b3745(0x79d)](_0xd884cd,_0x1e6c7b),_0x24a63b[_0x3b3745(0x4ba)](_0x3b3745(0x654),{'clusterId':_0xd884cd,'nodeId':this[_0x3b3745(0x630)]['node'][_0x3b3745(0x114)](),'nodeType':this[_0x3b3745(0x630)][_0x3b3745(0x1d6)][_0x3b3745(0x200)]}),{'leave':_0x1e6c7b[_0x3b3745(0x574)][_0x3b3745(0x949)](_0x1e6c7b),'getLocalNode':_0x1e6c7b[_0x3b3745(0x6e9)][_0x3b3745(0x949)](_0x1e6c7b),'openPubSubTopic':_0x1e6c7b['openPubSubTopic'][_0x3b3745(0x949)](_0x1e6c7b),'openObjectStoreBucket':_0x1e6c7b[_0x3b3745(0x313)]['bind'](_0x1e6c7b),'openExternalStorageConnection':_0x1e6c7b[_0x3b3745(0x2ed)]['bind'](_0x1e6c7b),'openKeyValueDatabase':_0x1e6c7b['openKeyValueDatabase']['bind'](_0x1e6c7b),'openGenerativeAIContext':_0x1e6c7b[_0x3b3745(0x8ad)][_0x3b3745(0x949)](_0x1e6c7b),'openGenerativeAIWorker':_0x1e6c7b['openGenerativeAIWorker']['bind'](_0x1e6c7b),'openGraphDatabase':_0x1e6c7b[_0x3b3745(0x8ff)][_0x3b3745(0x949)](_0x1e6c7b),'openVectorDatabase':_0x1e6c7b['openVectorDatabase'][_0x3b3745(0x949)](_0x1e6c7b),'publishLocalMediaStream':_0x1e6c7b[_0x3b3745(0x1f9)]['bind'](_0x1e6c7b),'publishLocalDynamicMediaStream':_0x1e6c7b[_0x3b3745(0x678)][_0x3b3745(0x949)](_0x1e6c7b),'getPubSubTopics':_0x1e6c7b[_0x3b3745(0x636)][_0x3b3745(0x949)](_0x1e6c7b),'getObjectStoreBuckets':_0x1e6c7b['getObjectStoreBuckets']['bind'](_0x1e6c7b),'getExternalStorageConnections':_0x1e6c7b[_0x3b3745(0x3b1)][_0x3b3745(0x949)](_0x1e6c7b),'getKeyValueDatabases':_0x1e6c7b['getKeyValueDatabases'][_0x3b3745(0x949)](_0x1e6c7b),'getGenerativeAIContexts':_0x1e6c7b[_0x3b3745(0x273)][_0x3b3745(0x949)](_0x1e6c7b),'getGenerativeAIWorkers':_0x1e6c7b[_0x3b3745(0x374)][_0x3b3745(0x949)](_0x1e6c7b),'getGraphDatabases':_0x1e6c7b[_0x3b3745(0x8f6)][_0x3b3745(0x949)](_0x1e6c7b),'getVectorDatabases':_0x1e6c7b[_0x3b3745(0x92)]['bind'](_0x1e6c7b),'getLocalMediaStreams':_0x1e6c7b['getLocalMediaStreams'][_0x3b3745(0x949)](_0x1e6c7b),'getRemoteMediaStreams':_0x1e6c7b['getRemoteMediaStreams']['bind'](_0x1e6c7b),'getRemoteNodes':_0x1e6c7b[_0x3b3745(0x118)][_0x3b3745(0x949)](_0x1e6c7b),'on':_0x1e6c7b['on'][_0x3b3745(0x949)](_0x1e6c7b),'off':_0x1e6c7b[_0x3b3745(0x57f)][_0x3b3745(0x949)](_0x1e6c7b)};}async[_0x148812(0x870)](_0x2cea42){const _0x458883=_0x148812;for(const _0x5c9bcd of _0x2cea42[_0x458883(0x992)][_0x458883(0x875)]){const _0x2f408e=new _0x28fa49(this['vendorId'],_0x5c9bcd['id'],_0x2cea42,this[_0x458883(0x3d6)],this[_0x458883(0x2c0)],this['configs']);await _0x2f408e['join'](),this[_0x458883(0x79d)](_0x5c9bcd['id'],_0x2f408e);for(const _0x2a6f6c of _0x5c9bcd['pubSubTopics']??[])_0x2f408e[_0x458883(0x1d9)](_0x2a6f6c);for(const _0x45cfdb of _0x5c9bcd['objectStorageBuckets']??[])await _0x2f408e['openObjectStoreBucket'](_0x45cfdb);for(const _0x4cda53 of _0x5c9bcd[_0x458883(0x56a)]??[]){const _0x14a475=_0x4cda53['split']('-');await _0x2f408e[_0x458883(0x2ed)](_0x14a475[0x1],_0x14a475[0x0]);}for(const _0x4d6909 of _0x5c9bcd[_0x458883(0x960)]??[])await _0x2f408e[_0x458883(0x80e)](_0x4d6909,{'version':0x1,'tables':{}});for(const _0x3568e6 of _0x5c9bcd[_0x458883(0x4b2)]??[])_0x2f408e['openGraphDatabase'](_0x3568e6);for(const _0x334613 of _0x5c9bcd[_0x458883(0x1ec)]??[])_0x2f408e['openVectorDatabase'](_0x334613);for(const _0x5ec3f9 of _0x5c9bcd[_0x458883(0x1f8)]??[]){const _0x41cc70=_0x2f91e1(this[_0x458883(0x945)],_0x5ec3f9),_0x1927f8=_0x3b610b(),_0x3f8741=this['options']['loggingDatabaseConnector']??this[_0x458883(0x2c0)]['keyValueDatabaseConnector'];await _0x2f408e[_0x458883(0x80e)](_0x41cc70,_0x1927f8,_0x3f8741),await _0x2f408e[_0x458883(0x8cd)](_0x5ec3f9);}}}['addCluster'](_0x43bad9,_0x41af2e){const _0x7f7572=_0x148812;this[_0x7f7572(0x875)][_0x7f7572(0x6b3)](_0x43bad9,_0x41af2e),_0x41af2e['on'](_0x7f7572(0x418),()=>{const _0x50336b=_0x7f7572;_0x41af2e['off'](),this['clusters'][_0x50336b(0x91b)](_0x43bad9);});}static[_0x148812(0x5c1)](_0x2c9ee1){const _0x5ccd12=_0x148812;return void 0x0!==_0x2c9ee1[_0x5ccd12(0x106)];}}return _0x3e4001;})())));function a0_0x53e8(_0x1eeead,_0x5dd18c){const _0x4f79f9=a0_0x4f79();return a0_0x53e8=function(_0x53e83f,_0x52a244){_0x53e83f=_0x53e83f-0x82;let _0x2eaba9=_0x4f79f9[_0x53e83f];return _0x2eaba9;},a0_0x53e8(_0x1eeead,_0x5dd18c);}function a0_0x4f79(){const _0x45d975=['notifyCluster','NodeManager\x20-\x20PublishNodeLeave','threshold','rootComputationPromise','Cannot\x20get\x20file:\x20','getSTVolatility','ContentType','supportsContentType','Missing\x20graph\x20database\x20connector','setVendorId','getCoresFromCapacityReport','crewdle-sdk.firebaseapp.com','assign','ObjectStoreInvalidPayload','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','openGenerativeAIContext','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','onGatheringStateChange','ExternalStorageInvalidPath','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','retry','handleRequestPayload','getSentences','mmrRoot','history','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','TimePerFrame','JobWorker:\x20Sending\x20job\x20result','stun:','default','GenerativeAIWorkerModelSyncError','maxResolution','addVideoTrack','mergeParts','database','mediaDevices','ENOENT','discoveryService','FeatureNotEnabled','registerSubscriber','NodeAlreadyExist','handleSubscriptionMediaStreamUnavailable','No\x20connector\x20found\x20for\x20model','PubSubTopicDoesNotExist','Completed','handleLocalTrackFailure','test-page','openGenerativeAIWorker','GenerativeAIWorkerCreationFailed','getTracks','JobDispatcherDoesNotExist','getAncestorIds','graphql','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','getRemoteMediaStreams','gpu','setupConnectionEvents','WebRTC','removeSubscription','JobDispatcherJobNotFound','stats','closeTopic','registeredListeners','startHeartbeat','KeyValueDatabaseAlreadyExists','floor','statsCollection','featureSupport','deletePendingFile','connection-invalid-data-event','unregisterSubscriber','ownerId','isOpened','connectionPool','waitSendBuffer','\x20must\x20be\x20a\x20boolean','Agent\x20block\x20is\x20missing\x20required\x20data','VectorDatabaseDoesNotExist','Job\x20service\x20creation\x20failed.','KeyValueDatabaseTransactionTableNotInitialized','getRemoteNode','Number','modelStore','Unsupported\x20job\x20type','setRank','logServiceEvent','previousFrames','createIncomingSubscription','getGraphDatabases','messagesReceived','handleDetectionSystemEvents','width','OfficeParser','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','jobPhase','transaction','clusterKey','openGraphDatabase','Orchestrator\x20handleSystemEvents','Model','14619BaqZgT','listenUnsubscriber','moveObject','processTransactionsToComputeMMR','mediaTopics','createJob','CrewdleSenderConnection\x20createOffer','evaluateBidsAndAttributeJob','getWorkflow','isWhereValue','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','retrieveContext','Subject','SHA-1','values','isReconnecting','data','arrayBuffer','stopNoThrottlingHack','Retrieve\x20the\x20current\x20date\x20and\x20time\x20in\x20the\x20appropriate\x20format\x20for\x20time-sensitive\x20operations\x20or\x20logging\x20purposes.','appsync-disconnect','ExternalStorageConnectionAlreadyExists','getCurrentVersion','sendFile','relevance','delete','clusterEventEmitter','connections','setupListeners','output','createAnswer','\x20attributed\x20to\x20','closeTrace','getGraphDatabase','changesUnsubscriber','failJob','evaluatePartialJob','internalId','from','createKeyValueDatabase','content','bandwidth.bitrate','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','processServiceReport','notifyObjectStoreOfNodeLeave','committed','PubSubTopicNameNotString','appsync-connect','KeyValueDatabaseSyncRequired','outputTokens','Knowledge','resetConnection','setOnTableWriteHandler','getMinConnections','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','source','sentence-splitter','getConfigs','.lua','disconnected','Stream\x20does\x20not\x20exist','JobWorker:\x20Tracing\x20not\x20implemented','Job\x20Dispatcher\x20does\x20not\x20exist','getDoc','PubSubTopicAlreadyExists','decodeJWT','@root','vendorId','list','addIssue','signalingState','bind','onNodeUpdate','getHash','responseTimeout','disconnect','relation','total','objectStoreId','receiverCurrentBytes','GenerativeAIRatingStatus','handleFileWrite','generative-ai-context-creation-failed','muted','checkBackgrounds','remove','processPendingSyncTransactions','dataBucketIds','NodeJoin','getLocalMediaStreams','KeyValueDatabaseTransactionValueNotSet','key-value-database-invalid-layout','\x27\x20dabatase\x20id.','maxOutgoingSubscriptions','keyValueDatabases','startNoThrottlingHack','internalProcessJobStream','dataUnsubscribers','ref','setUpgradeTimeout','root\x20hash:\x20','readyPromises','NeedRestart','endpoint','startsWith','candidate','crewdle-sdk','add','cpu.fps','ClosePubSubTopic','clear','external-storage-invalid-path','Detection','getShareableStream','remote-media-stream-already-exists','issue','getResolutionScale','RequestFileWrite','appsync-close','prompts','addProblem','graph-database-already-exists','createSenderConnection','receiverPreviousBytes','sender-send-message','attributes','ExternalStorage','isMediaSource','Invalid\x20layout:\x20','Hub','custom-skill','sampleRate','graphService','connecting','distance','\x20failed.\x20Retrying...','reset','connector','registerSource','Prompt','newPath','NodeTypeRequired','mediator',',\x20Transactions:\x20','agentConfig','processDataChannelReport','setEmail','MediaStream\x20feature\x20not\x20enabled','MediaStream','createElement','firebaseConfig','/resources/generative-ai-model/items','unregisterPublisher','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','name','Update','DataCollection','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','overlap','IngestTrace','reduce','number','match','detectProblems','complete','boolean','Cannot\x20write\x20transaction.','isComputingMMR','component','removeTopic','getVectorDatabases','heartbeatUnsubscriber','onRemoveTrack','st_volatility','waitAnswer','lastExecuted','aws','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','\x20were\x20ready\x20in','digest','FinalOutput','ClusterAlreadyJoined','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','addBatchOperation','InvalidDataChannel','getNumberOutgoingSubscriptions','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','GenerativeAIContextJobFailed','mediaUnsubscribers','\x0a\x20\x20===\x20Total\x20Nodes:\x20','processOutboundReports','Waiting','handleContentCloseMediaStream','debounceReady','download','lastRemediations','isSyncing','listenerUnsubscriber','\x0a\x0a`Executing\x20agent\x20','processPendingHandshakeCandidates','PayloadAction','startTime','label','version','isWhereBetween','jobs','temperature','chunk','Initial\x20MMR\x20built\x20with','media-stream','currentFrames','OutgoingSubscription','KeyValueDatabaseNameNotString','LocalMediaStreamDoesNotExist','Publish\x20the\x20transaction','No\x20parameters\x20provided','KeyValueDatabaseStats','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','external-storage-upload','search','loggingCycle','getDistance','.ts','Mistlet\x20capacity\x20report\x20not\x20set.','params','getCurrentDate','JobDispatcherAlreadyExists','ExternalStorageConnectorsMissing','Workflow\x20not\x20initialized','subscriptionManager','\x0a\x20===\x20Current\x20MMR\x20Root','Error\x20resolving\x20readyPromises:','692668ePBTWX','DataStream','publishSyncCompletedAfterWrites\x20-\x20','Code','getTable','1:420235181083:web:4eff6062bd845cb0748cbe','ready','bufferedEvents','initializeSystemTopic','String','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','tail','vectors','\x27\x20is\x20not\x20ready','getFunctions','SenderPeerConnection\x20send','getKeyValueDatabase','contentMediator','@context.','getReceiverTotalBytes','Text','handlePublishMediaStream','maxFps','getPeakNode','RequestFile','/resources/generative-ai-agent/items','updateDebounce','detectionManager','unregisterPublisherListener','transactionsToSync','AI\x20worker\x20creation\x20failed.','lastClockUpdate','Channel\x20\x27','`\x0a\x0a','removeJobWorker','success','.pl','cluster','waitSuccess','\x20answer','KeyValueDatabaseRequestTransactionsValue','isNeedRestart','Offline','Remove','_isReady','dt_volatility','publishSyncCompleted','receiverTotalMessages','updateLastUpdated','getConnections','createGraphDatabase','InternalSDKError','fileSendingMap','entity','iceServers','Node\x20\x27','getInternalStreamId','Connection','GenerativeAIContextDoesNotExist','CloseExternalStorageConnection','getSettings','openJobDispatcher','getProviderId','replace','deleteFileChunks','lastTransactionId','Error\x20reading\x20file\x20chunk\x20after\x20','deleteRemoteNode','getId','maxConnections','initializeApp','removeListener','getRemoteNodes','operations','FileDelete','ObjectStoreAlreadySubscribed','.tsx','description','handleObjectMove','setDisplayName','Missing\x20answerer\x20id\x20on\x20request\x20answer','concat','ModelVector','localId','generative-ai-context-job-missing-thread-id','\x20new\x20transactions','getShareableStreamId','ObjectStorageBucket','frameTime','chosenAnswers','debounceAppendLog','us-east-1','getSupportedContentTypes','peakHeights','user-join','workflow-does-not-exist','getLastUpdated','receiverCurrentTimestamp','owner','query','.jinja2','min','hash','move','batchTimeout','arrayBufferToObject','connection-not-connected','isJobRequest','gain','ObjectStorage','incomingManager','chunksReceived','/logs','serverTimestamp','Error\x20loading\x20existing\x20content','firebase-disconnect','reads','getTotalNodes','accumulated','addRemoteNode','Debug','Sending\x20\x27','createAIJob','contentRect','log','Before\x20Synchronization','getDisplayName','sendRequest','isNodeReady','debounceReadyTimeout','No\x20connections\x20available\x20to\x20send\x20message','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','pubsubTopics','subscriptionRequestTimeouts','checkMediaRecording','Index','VectorSearch','LoadKnowledgeFunction','\x20sending\x20attempt\x20','getApp','vectorDatabaseConnector','exists','getUserMedia','listen','GenerativeAIWorkerAlreadyExists','RemoteAdd','Jitter','processOutboundReport','Database\x20already\x20exists','handleSubscriptionProvideMediaStream','.exs','handshakeCandidates','searchConnector','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','limitToFirst','buildTableEvent','KeyValueDatabasePeakNotFound','createGenerativeAIWorker','getContentType','logStorage','transactionQueue','addPendingHandshakeCandidate','bitrate','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','timeoutCallback','Received\x20content\x20available\x20from\x20node','Model\x20store\x20not\x20initialized','results','Found\x20','pathName','getEngineType','index','handleSubscriptionSubscribeMediaStream','Upgrade','Count','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','Llamacpp','queryParameters','clientStream','JobWorker:\x20Sending\x20job\x20partial\x20result','Model\x20not\x20found:\x20','logDataReceived','not-resolved','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','GraphSearch','between','getSize','Remote\x20stream\x20does\x20not\x20exist.','KeyValueDatabaseInvalidValue','joinedAt','unregisterSource','grammar','handshakeState','/resources/generative-ai-grammar/items','job-worker-already-exists','ExternalStorageUpload','1:519415702791:web:5dd39042f881cfde3251a2','getTableConnector','active','ConnectionState','nextNodeId','web-scraper-raw','job-dispatcher-job-not-found','\x20-\x20','.vbs','Loaded\x20from\x20disk','node-not-authenticated','connectionConstructor','confirmSynchronization','Audio','runJobQueue','nodeKey','senderTimeProcessing','externalStorageConnectors','JobQueueService:\x20Running\x20job','publishNodeLeave','getItem','JobWorker:\x20Received\x20job','rejectReady','bufferedChunks','Move','Invalid\x20job\x20worker\x20type.','setRemoteConnections','/developers/','onConnectionStateChange','padStart','destroy','.scala','debounceProcessRank','handleFileSync','ExternalStorageConnectionAlreadySubscribed','getMediaSubscription','\x20attempts:','RemoteRemediation','Disconnected','hasRemoteNode','stop','features','localMediaStreams','getTrack','video','appendTransaction','previousBytes','InvalidSubscriber','Content','createOutgoingSubscription','.ps1','handleFileRequest','commitType','tableName','No\x20context\x20variables\x20set','end','publishTransaction','getRoot','.yml','createGenerativeAIContext','Internal\x20unknown\x20error:\x20','job-worker-invalid-type','135OUqfrx','job-worker-creation-failed','ExternalStorageStats','direction','node','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','blockId','openPubSubTopic','JobWorkerCreationFailed','request-file','queries','Additional\x20context:\x0a','firestore','.xml','getWorkflowModels','connection-buffer-not-empty','peerConnectionConnector','Cannot\x20list\x20directory:\x20','trackChanges','clientWidth','transformations','handleDisconnect','199640QfVZFs','/resources/generative-ai-skill/items','failed','writeBatch','vectorDatabases','getInternalTrackParams','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','request-accepted','File\x20sending\x20interrupted','google','WorkflowDoesNotExist','undefined','remediationManager','No\x20global\x20object\x20found','senderCurrentBytes','Jobs','generativeAIContexts','publishLocalMediaStream','streams','links','WordSplitter','/stats','removeExternalStorageConnection','CanProvideMediaStream','type','getJob','logLevel','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','resolutionScale','\x0aAdditional\x20data:\x20','JobDispatcherInvalidPayload','external-storage-name-not-string','PubSubTopic\x20not\x20found','Node\x20is\x20not\x20an\x20agent','verb','\x20failed.','then','Error\x20initializing\x20logging\x20database\x20with\x20\x27','vector-database-missing-connector','publishFolder','GraphDatabaseMissingConnector','api','filteredDestinationIds','senderPreviousBytes','CONNECTION_STATE_CHANGE','VectorDatabaseCreationFailed','contentManager','handleFileRequestAnswer','event','systemMessages','pop','loggingDb','Sender\x20connection\x20is\x20not\x20initialized.','isPromiseResolved','removeRemoteMediaStream','sourceId','GenerativeAIContextInvalidPartialResult','handleRemoteTrackFailure','Core','getObjectStoreBuckets','tableLayout','\x20ms\x0a','CrewdleConnectionGroup','setTransformations','Support:\x20current\x20config','handleProblem','clearWaitSuccess','maxDepth','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','CannotProvideMediaStream','clearRestartTimeout','reportMetric','remote-inbound-rtp','jobId','publishUserUpdate','commitLevel','slice','endpointUrl','/nodes','setupStatsReporting','getTransactions','updatePropagationProperties','GenerativeAIWorkerStats','DataChannel\x20is\x20not\x20initialized.','getEnabledChannels','GenerativeAIWorker:\x20Opening','listener','Support','System','restartTimeout','versions','getSubscribedTracks','graph-database','connection-state','.jl','clearWaitAnswer','vector-database-does-not-exist','objectStoreConnector','peaks','JobContext','handleContentRemoteMediaStreamTrackFail','NodeConnectionsUpdate','notifyObjectStoreOfNodeJoin','resizeHandler','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','Relation','offset','authenticateUser','crewdle-sdk-stg.appspot.com','Error\x20loading\x20external\x20content','Result','JobDispatcher:\x20Received\x20job','ConnectionNotinitialized','rate','key-value-database-already-exists','groupId','suspended','observe','clearSyncTimeout','captureStream','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','knowledge','insert','.info/connected','getMaxDistance','left','maxFramerate','Failed','dataChannel','createConnection','keyPath','removeJobDispatcher','saveToDisk','registerRemoteNode','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','reportCapacity','image','getGenerativeAIContexts','createNewBatch','SearchGoogle','0\x20B','runAgent','pub-sub-topic-name-not-string','bodyParameters','payloadType','job-','clearHeartbeat','ObjectStore','evaluateProccessedJob','consumeBufferedEvents','Amplify','Node\x20type\x20is\x20required','getClosestNodes','support','Info','detectVideoIssues','handleSubscribeMediaStream','Error\x20during\x20MMR\x20rebuild\x20logging:','inputTokens','SyncKeyValueDatabase\x20-\x20Ancestors\x20','objectToArrayBuffer','crewdle-sdk-stg','MissingRemoteConnection','asc','hasMessage','engine','getSkills','getIsLoaded','trace','Error\x20opening\x20trace','setSenderTimestamp','disableIntervalHack','estimatedPlayoutTimestamp','buffer','ObjectStoreCannotWriteTransaction','ObjectStoreStats','open','isMediaDestination','Logging\x20not\x20enabled\x20for\x20channel\x20','fileChunks','senderTotalMessages','outputType','Get','content-publish-media','processList','KeyValueDatabaseContentSynchronized','messagesSent','setOnDisconnectHandler','getSubscriptionInfo','currentVersion','Setting\x20context\x20for\x20answer\x20block','getConnectionDestinations','discoveryUnsubscriber','function','dispatchEvent','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','firebase-connect','Execute\x20skill\x20','isFailedResponse','utf8','sdk-internal-error:\x20','ObjectStoreInvalidPath','messageCallback','subscription-request-failed','Internal\x20SDK\x20error:\x20','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','connect','key-value-database','Remote\x20MediaStream\x20already\x20exists','SenderPeerConnection.send','relations','commitTrace','trackCallback','JobWorkerDoesNotExist','options','createMediaStreamSource','removeTrackListeners','\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','Invalid\x20params','notifyClusterNodeJoin','getBid','CloseJobDispatcher','listChanges','Parameter\x20','RequestAccepted','resolution','handshakeDebounce','Generative\x20AI\x20context\x20creation\x20failed.','logRaw','handleError','error','audioDestination','answerContentAvailable','endsWith','jobType','isInternalLoggingConnector','optimizationLayers','canvas','loadExternalContent','shouldContinuePropagation','onloadeddata','bandwidth.rtt','PartialResult','rebuildMMR','JobDispatcherJobExists','manageOptimization','getPartsForSubscriptionLabel','\x27\x20reserved','VectorDatabase','publishSystemMessage','StreamReport','setLocalRank','/resources/generative-ai-collection/items','ancestors','Connection\x20does\x20not\x20exist.','\x20not\x20found.','minRelevance','senderCurrentTimestamp','GenerativeAIContextJobAlreadyConsumed','openExternalStorageConnection','roundTripTime','topicLabel','KeyValueDatabaseSendTransactions','Signaling','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','Folder','topK','logConnectionState','.bat','Key-value\x20database\x20peak\x20not\x20found.','JobWorker:\x20Received\x20job\x20request','GraphDatabaseCreationFailed','Rejected','object-store-invalid-path','job-dispatcher-job-exists','rank','.handlebars','Events','nodeId','Invalid\x20credentials','connection-not-initialized','\x20must\x20be\x20a\x20number','handleSubscriptionSystemEvents','CREWDLE_WEB_SDK','key-value-database-invalid-query','Outgoing','crewdleSDKEnableLogging','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','setupTrackEndedListeners','query-helper-invalid-argument','High','Handshake','Node','asyncEndpointUrl','sendFileRequestPayload','ccc','checkWebRTC','openObjectStoreBucket','canProvideResolution','ObjectStoreAlreadyExists','propn','isSync','Vector\x20database\x20creation\x20failed.','sync','problemType','pendingHandshakeCandidates','audioSource','searchInDataCollection','orchestrator','has','desc','models','receiverConnection','maxBpp','createRemoteMediaStream','videoWidth','validateAccess','sendPeakTransactions','syncTimeout','Bitrate','MediaStreamUnavailable','createLocalDynamicMediaStream','getVectorDatabase','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','onHandshakeStateChange','checkExistingPendingFileContent','readyResolve','messageListeners','interval','Error\x20stringifying\x20object','detectLocalIssues','clearRect','discover','isAvailable','ScreenSharing','systemMessagesReceived','setRemoteNode','eventEmitter','size','value','currentBytes','timestamp','vector-database-creation-failed','external-storage-connection-already-exists','createTopic','downloadDocument','Job\x20worker\x20creation\x20failed.','NeedMediaStream','ExternalStorageConnection\x20not\x20found','Key-value\x20database\x20transaction\x20value\x20not\x20set.','isChannelEnabled','disconnectCallback','VectorDatabase\x20not\x20found','PromptRating','call','message','modelId','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','streamId','minResolutionScale','Attempt\x20','FileStatus','subscription-request-does-not-exist','Connection\x20not\x20initialized.','DeviceConfig','getJobObservable','RestartNeedMediaStream','hasOwnProperty','createExternalStorageConnection','isJobAttribution','Received\x20','externalStorageConnectionIds','Rejected\x20answer','JobWorkerInvalidType','subscribe','Received\x20event\x20on\x20cluster','Downgrade','executeJavascriptCodeSnippet','registerSystemPublisher','unregisterCluster','retryQueues','key-value-database-peak-not-found','Request','external-storage-connection-does-not-exist','.conf','debugEnabled','ExecuteCode','providerListener','generativeAIWorkers','SubscriptionRequestDoesNotExist','getCapacityReport','user','getBitrate','messageType','getGenerativeAIWorkers','logger','GenerativeAIContext','totalNodes','Generative\x20AI\x20context\x20job\x20timeout.','orderBy','getCurrentMaxLayer','contentType','packetsLost','Model\x20not\x20found','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','Cannot\x20publish\x20payload:\x20','LoggingService:\x20logging\x20enabled\x20for','invalid-data-chanel','msalGetAccessToken','onNodeDisconnect','CloseJobWorker','FPS','RemoteMediaStreamInvalidSubscriptionParams','unregisterRemoteNode','isEqual','destinationIds','KeyValueDatabaseNotOpen','Object\x20store\x20is\x20not\x20in\x20sync','logDataSent','senders','connection-no-retry-queue','Send\x20request','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','requestSubscriptionAction','GraphDatabase\x20not\x20found','\x27\x20in\x20table\x20\x27','handleHandshake','retryCallback','createSubscription','FolderDelete','420235181083','Invalid\x20key\x20\x27','threadId','instance','getExternalStorageConnection','head','/resources/external-storage/items/','Problem\x20detected:\x20','handleMissingSenders','propagate','JobStream','sendBid','.swift','next','isProduction','DataStream\x20send','NodeType','@id','receiverTimeProcessing','validateQuery','lastUpdated','connectionType','processInboundReport','/capacities','join','getExternalStorageConnections','getEmail','compileStats','startIndex','generative-ai-context-job-already-consumed','jobQueue','AudioContext','SubscriptionRequestNoAnswer','outgoingTopic','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','removeItem','Optimization','AppSync\x20connection\x20not\x20ready','RemoteConnectionExists','getInstance','frameWidth','packetsSent','Prompt\x20is\x20required','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','syncContent','remote-connection-exists','mmr','handleOutgoingSystemEvents','RequestFileSync','KeyValueDatabaseRequestPeakTransactions','RemoteMediaStreamDoesNotExist','hasTracks','remote-media-stream-invalid-subscription-params','isOffer','prompt','/objectstores/','connectionGroup','Invalid\x20job\x20service\x20payload.','handleUpdateMediaStream','parse','maxLayer','connectionManager','authService','bufferedAmount','processReceivedTransactions','validateLayout','toLocaleDateString','openedTraces','authNode','accumulateResult','sendIceCandidates','internal-sdk-error','Processing\x20agent\x20block:\x20','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','text/plain','resolveReady','ingestBlocks','stopTracing','\x20transactions\x20from\x20node\x20','buildQuery','endpointMethod','connection','split','systemTopic','updateDebounceTimeout','\x20does\x20not\x20support\x20content\x20type\x20','json','buildInitialMMR','AI\x20Worker\x20already\x20exists','missing-incoming-connection','\x27:\x20missing\x20or\x20invalid\x20keyPath','pendingSyncTransactions','key-value-database-does-not-exist','key-value-database-not-open','.txt','subtle','senderStreams','Buffered\x20chunks\x20are\x20too\x20large','chunks','Cannot\x20publish\x20file:\x20','Failed\x20to\x20commit\x20batch\x20after\x20retries:','/nodes/','channel','Invalid\x20value.\x20Must\x20be\x20an\x20object.','processLocalReport','addBidResponse','request','queues','SystemTopic\x20publish','Restart','.java','InvalidAccess','/resources/agent/items/','validateValue','.vb','createPendingFileWrite','removeNode','toStringTag','upgrade','KeyValueDatabaseTableNameReserved','Error\x20processing\x20retrieve','getBufferedAmount','getJobs','Disconnect','RemoteMediaStreamTrackFail','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Rating','getTotalBytes','cluster-leave','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Restart\x20NeedMediaStream','removeLocalMediaStream','remoteConnections','closeConnection','getRemoteMediaStream','handleTransactionPayload','getOrResetPendingFileTimeout','1.0.7','.ini','CloseKeyValueDatabase','Data\x20cluster\x20is\x20not\x20open.','collectStats','topics','get-content','registerSystemSource','object-storage','messageBuffer','ObjectStore\x20not\x20found','ConnectionNotConnected','Stats:\x20report','getVideoTracks','NodeManager\x20-\x20NodeUpdate','deleteTransactionsForTable','addRemoteConnection','isIceCandidate','maxDistance','Retrieve','eventTarget','canRestartHandshake','childRemovedUnsubscriber','setItem','LocalReport','generative-ai','readyDebounce','setBytes','OptimizationConnectionSuccess','chooseAnswer','completeSync','retryQueue','parentId','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','Database\x20does\x20not\x20exist','KeyValueDatabaseTableNotFound','title','json_arr','unregisterSystemSource','onUnregisterPublisher','statsManager','removeTrack','sendStats','NodeTypeNotSupported','setLoggingConnectors','text/','storage','LoadSkillFunction','nodes','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','find','substring','isValidMediaSubscriptionParams','bandwidth.jitter','developers/','generative-ai-context-invalid-partial-result','ratePrompt','maps','KeyValueDatabaseDoesNotExist','blocks','receiver','Success','debounceRebuildMMRWithTransaction','processReceiverReport','answererId','createDataChannel','ExecuteCustomSkill','packets','removeContent','isSubscribed','ranges','videoHeight','requestSubscription','origin','PubSubTopicAlreadySubscribed','ConnectionGroup','addNode','removeRemoteNode','.css','getRemoteConnections','chunk-splitter','clientHeight','NodeManager\x20-\x20NodeLeave','Memory\x20Usage\x20at\x20','nlpLibraryConnector','checkAudioVolume','processReport','durationTime','region','Recording','.ipynb','rating','startBidResponseHandling','agent-update','Connection\x20already\x20exists','parseWorkflowBlocks','/transactions/lastTransaction','checkAudioContext','addTrack','getContext','globalObject','handleFolderCreate','hashPeakHashes','internalContext','openTrace','waitAsync','uuid','Remediation','STVolatility','crewdle-sdk.appspot.com','app','\x20to\x20send\x20dispatcherJob\x20','registerPublisher','KeyValueDatabase','handleNodeUpdate','__esModule','stream','processBatch','joinCluster','emit','.awk','Skill','clockSkew','transactionTable','issues','onProviderChange','checkScreenSharing','unsubscribe','/resources/generative-ai-workflow/items/','JobType','orderByKey','-leave','KeyValueDatabase\x20not\x20found','setupResizeHandler','.groovy','CrewdleConnection\x20handlePeerConnectionSystemEvents','answerJoin','documentParserConnector','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','Error\x20processing\x20ingest','handleUnsubscribeMediaStream','ConnectionNoRetryQueue','remoteMediaStreams','receiverPreviousTimestamp','Accepted','graphDatabases','.Total\x20pages\x20available:\x20','setStatus','minThreshold','.rkt','start','Logger.getInstance','tokens','logEvent','handlePeerConnectionSystemEvents','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','https://crewdle-sdk-default-rtdb.firebaseio.com','server','answer','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','clearOncloseTimeout','MissingSystemTopic','sender','headers','SHA-256','isLoaded','MistletCapacityReportNotSet','pendingFilesTransactions','getKeyValueDatabases','handleContentUnsubscribeMediaStream','context','maxThreshold','shift','Data\x20Sent','key-value-database-creation-failed','jobDispatchers','Query\x20is\x20required','Queued','handleContentUnpublishMediaStream','systemTopicUnsubscribe','removeObjectStore','sequence','debounceLogTimeout','Missing\x20vector\x20database\x20connector','createBufferSource','Connected','detectStreamIssues','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','recipients','setConnectionType','DTVolatility','doc','getRemoteId','trackKinds','\x20after\x20','extendedRecipients','bid','batchSize','\x20completed.','trackListeners','\x0a\x0a`Retrieving\x20context`\x0a\x0a','cleanOldSubscription','ConnectionInvalidDataEvent','fromEntries','Job\x20service\x20job\x20not\x20found.','Time','startTracing','outgoingManager','VectorDatabaseAlreadyExists','_ready','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','UnpublishMediaStream','invalid-publisher','senderBitrate','MediaStreamPriority','abs','key-value-database-transaction-table-not-initialized','tableUnsubscriber','where','KeyValueDatabaseIndexNotFound','nodesConnected','externalStorages','ObjectStoreDoesNotExist','vector','file','addAudioTrack','Error\x20closing\x20trace','SubscriptionRequestInProgress','cpu.cycle','object-store-invalid-sync-message','handleNeedRestart','\x20with\x20\x27','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','\x20seconds','writeTransaction\x20-\x20transaction\x20already\x20exists','loadEnabledChannels','every','logWaitTime','ReceiverOnMessage','sourceUrl','setInterval','generative-ai-context-does-not-exist','FetchUrl','logSupport','::￿','createReceiverConnection','setProviderId','feedback','modelsBucketId','supported','answers','deleteJob','subscribeToJobs','findNewMediaSubscription','framerate','LocalMediaStreamAlreadyExists','handleNodeJoinNeedPublishedStream','local-media-stream-track-fail','includes','waitConnected','Node\x20type\x20is\x20invalid','3312930tjwEwn','getPriority','Invalid\x20data\x20channel.','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','unsubscribeListener','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','PubSub','getReport','EntityExtractor','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','AITrace','Offer','Error\x20closing\x20writable\x20stream','transactionService','pubsub','NodeDoesNotExist','GetDate','Apply\x20remediation','RetrieveTrace','tables','string','waitForArrayBufferSize','getDatabase','onClose','getNextTargetRank','auth','processContentAvailable\x20-\x20Peak\x20comparison:','defineProperty','unregisterDestination','combinePeaks','time','statsReport','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','generative-ai-label-conflict','loadFromDisk','handleIceCandidates','ObjectStorageUpload','getWorkflowExternalStorageConnections','GenerativeAIContextCreationFailed','agent-skill','getDataCollections','externalStores','kind','toString','\x20already\x20exists.','messages','AudioVolume','GraphDatabaseNameNotString','sort','commitBatch','Search\x20in\x20data\x20collection\x20','debounceRebuildMMR','AudioVideoDelay','remote-stream-does-not-exist','providerId','createGain','pool','getDataLogged','createMediaStreamDestination','data-collection','Received\x20ContentSynchronized\x20from\x20','WebGL','internal','removeGraphDatabase','addContent','Stream\x20already\x20exists','crewdleSDKLoggingChannels','\x20not\x20supported','externalStorageConnections','getConnectionGroup','queryOrPrompt','logSyncMetrics','cpu.time_per_frame','getIdToken','Resolution','availableTrackKinds','thread-','Default','leave','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','syncedFileExists','onConfigurationChange','handleCloseContent','LocalMediaStreamTrackFail','play','getSenderBitrate','checkSyncComplete','inactive','.kt','off','AI\x20Service\x20already\x20exists','callback','timeSending','SentenceSplitter','replaceTrack','generativeAIWorkerConnectors','mediaStream','priority','batch','onSnapshot','onValue','\x20is\x20required','mute','Sync\x20completed','incomingTopic','getFirestore','URL\x20is\x20required','parameters','\x27\x20payload:','modelName','Invalid\x20object\x20store\x20state.','ExternalStorageNameNotString','client','removeEventListener','workflow','Setting\x20context\x20for\x20agent\x20skill\x20block','exports','handleStatsSystemEvents','getConnection','setReportCapacity','remoteUnsubscriber','amd','ExternalStorageConnectionDoesNotExist','observer','handleObjectDelete','publish','Store\x20already\x20exists','byteLength','.vue','WorkflowTrace','Database\x20Opened','operator','syncFolder','inputType','Graph\x20database\x20creation\x20failed.','setupStatsCollection','getDTVolatility','indexes','remediation','debounceStats','Job\x20service\x20observer\x20not\x20found.','removeConnection','graph-database-missing-connector','filter','random','GenerativeAIWorkerMissingConnector','job-dispatcher-observer-not-found','counter','createBatch','processTransactionPayload','I\x20am\x20done','true','getObjectStoreBucket','configs','lastProcessRank','isInternalSDKConfigs','authenticateAgent','compareTransactions','CloseObjectStoreBucket','\x20must\x20be\x20a\x20valid\x20JSON\x20string','createOffer','getAgents','syncTransactions','dbKey','audioContext','toLocaleString','messageUnsubscriber','logs','handleRemediationSystemEvents','getLabel','InitialPrompt','Job\x20with\x20id\x20','gatheringState','processInboundReports','handleJobAttribution','generative-ai-worker-missing-connector','Invalid\x20version\x20\x27','DataStream\x20onMessage','eventListener','clearConnectionTimeout','2-digit','getSimilarity','push','pub-sub-topic-already-subscribed','Consuming\x20buffered\x20event','handleAnswer','indexOf','upgradeTimeout','Setting\x20context\x20for\x20agent\x20block','available','onDisconnectHandler','\x20does\x20not\x20exists','previous','Chosen\x20answer','handleSubscriptionUnsubscribeMediaStream','renderElement','getGrammars','.ex',':\x20Object\x20store\x20is\x20not\x20in\x20sync','createRemoteNode','clearSubscriptionRequestTimeout','mistlet-capacity-report-not-set','signOut','processJob','noun','\x20check\x20failed','url','getJobDispatchers','getMilliseconds','TestPage','logMMRRebuild','local-stream-does-not-exist','350089UMWGLi','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','request-file-sync','publishSyncCompletedAfterWrites','applyRemediation','collectReceiversStats','enumerateDevices','handleContentUpdateMediaStream','job-worker-does-not-exist','PublishMediaStream','Key-value\x20database\x20creation\x20failed.','stringify','handleOnMessage','Invalid\x20node\x20type','ObjectKind','OutgoingMediaStreamNoTopic','All','Early\x20return:\x20','docs','traceLevel','object-store-already-exists','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','graphDatabaseConnector','filesSynced','cpu.av_delay','tableObserver','forceLog','collectTransactionsFromNode','taskType','retryLimit','Failed\x20to\x20send\x20job\x20','CloseGraphDatabase','10hoHiZO','joinedClusters','inbound-rtp','setPendingFileSyncingPayload','FramePerSecond','Code\x20is\x20required','transactionsToAppend','Invalid\x20value.\x20Property\x20\x27',',\x20Total\x20Nodes:','pendingFilesSyncing','Invalid\x20query','text','removePubSubTopic','Receiver\x20connection\x20is\x20not\x20initialized.','closed','max','capacityReporter','lastCapacityReport','.py','Invalid\x20peer\x20connection\x20event\x20destination.','processRank','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','authContext','displayName','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','StorageEventType','getReceiverBitrate','openJobWorker','getPubSubTopics','setReceiverTimestamp','GenerativeAIContextJobTimeout','Context','timePerFrame','.json','getQuery','JobWorkerAlreadyExists','getModels','getLocalId','handleSuccess','setCurrentVersion','RemoteRemove','searchEngineId','appsync-no-destination','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','instantiateTransactionTable','Add','Agent\x20group\x20not\x20found','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','bytesSent','NodeLeave','successNotified','CloseMediaStream','PubSubTopicStats','path','\x20to\x20generate\x20a\x20response.','isRunning','5pLBjlU','entries','join-cluster','NodeInvalidType','ObjectStoreInvalidState','timesCalled','4558337jlhsbR','warning','syncKeyValueDatabase','JobQueueService:\x20Error\x20running\x20job','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','hashNodes','right','Logging\x20database\x20not\x20initialized','Data','load','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','setDurationTime','subscriptions','LocalMediaStreamNoAudioContext','statusText','batchQueue','checkMediaStream','handleContentSubscribeMediaStream','VectorDatabaseStats','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','parseWorkflowDocument','PubSubTopic\x20publish','Everyone\x20','Vector','getDocs','JobDispatcherCreationFailed','manageAncestor','getModel','node-invalid-type','mode','minConnections','pub-sub-topic-does-not-exist','publishLocalDynamicMediaStream','processRemoteInboundReport','CrewdleReceiverConnection\x20ontrack','checkDeviceConfig','currentBatch','WebScraperRaw','handleSubscriptionRestartNeedMediaStream','List','uid','setParams','subscribedTracks','recomputeRoot','once','SystemStats','Workflow','CPUCycle','memoryUsage','\x20received\x20partial\x20result:','\x20-\x20Sending\x20propagation\x20(','peer-connection','IncomingSubscription','FileWrite','data-stream','task','cluster-disconnect','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','Job\x20','Warning','handleNodeJoin','receiverBitrate','updateLastTransactionId','status','ceil','clusters/','Partial','debug','WorkflowInvalidBlockType','Wait','handleSubscriptionNeedMediaStream','object-store-not-synced','contentRequestSent','length','maxBitrate','Cannot\x20publish\x20move\x20operation:\x20','key-value-database-transaction-value-not-set','GetContextResult','job-dispatcher-creation-failed','track','getStatus','Invalid\x20where\x20clause','send','SubscriptionRequestFailed','close','updated','getAudioTracks','handleContentSystemEvents','graph-database-does-not-exist','limit','Error\x20executing\x20code','set','Agent','processReports','fetchContentFromUrl','Online','sendTransactionsValue','encode','framesEncoded','keyValueDatabaseConnector','collection','getRank','setInternalId','forEach','Answer','isArray','setReceiverBytes','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','handleNodeSystemEvents','shouldProcessTransaction','onDisconnect','system-stats','onChildRemoved','unpublish','Media','handleConnectionSuccess','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','closeSubscription','getOwnerId','UnsubscribeMediaStreamdiaStream','syncPendingFiles','element','UpdateMediaStream','restartHandshake','Incoming','setEncodingParameters','GenerativeAILabelConflict','.\x20Confirmation?\x20','stopConnection','startAt','No\x20destinationIds\x20left','tracks','skill','srcObject','IDBDatabaseConnector','.jinja','generative-ai-worker-creation-failed','enabled','asyncHeaders','Attribution','/transactions','documentPath','Bid','addEdge','hasBufferedData','getLocalNode','createObjectStoreBucket','packetsReceived','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','code','token','NodeNotAuthenticated','unsubscribeHandler','trim','getPartsFromSubscription','.erl','job-dispatcher-does-not-exist','writeTransaction','key-value-database-table-not-found','all','warn','race','UnsubscribeMediaStream','getResolution','Subscription\x20request\x20failed.','Ingest','keys','WebRTCBrowserPeerConnectionConnector','internalProcessJob','state','val','1829466EfiFCj','updateUser','getAudioVideoDelay','Boolean','GraphDatabaseStats','ObjectStoreNotSynced','.mustache','1.0.7.0','connectorConstructor','asyncEndpointMethod','Hash\x20computation\x20failed,\x20retrying...','Search\x20connector\x20not\x20set','removeRemoteStreamSubscription','write','subscription','writes','Table\x20not\x20found','deleteObject','calculateArrayBufferSize','Error\x20fetching\x20URL','snippet','errorDetails','KeyValueDatabaseContentAvailable','OPFSObjectStoreConnector','splice','count','Receiver','receivers','Job','deployedVersion','handleChunkMessage','Cannot\x20publish\x20folder:\x20','removeSubscriptionsForNode','computeHash','sourceVideo','receiverStreams','handleSystemEvents','contentSize','ModelText','GenerativeAIModelOutputType','Invalid\x20index\x20in\x20table\x20\x27','.go','clearUpgradeTimeout','generative-ai-context-job-timeout','send\x20error\x20on\x20','isPartialResultResponse','GraphDatabaseAlreadyExists','AgentSkill','detectAudioIssues','KeyValueDatabaseInvalidQuery','agent-config-changed','events','Subscription','subscriptionRequests','incrementVersion','GenerativeAIContextStats','Invalid\x20object\x20store\x20sync\x20message.','processSenderReport','Method\x20not\x20supported','loop','createJobDispatcher','getConnectionType','folder-create','handleOffer','table','Error\x20writing\x20chunk\x20to\x20stream','.sh','appendTransactionAndUpdateHashMap','KeyValueDatabaseInvalidLayout','scheduleTime','node-already-exist','unsubscribeTrackEndedListener','Search','dataStores','dataTopics','checkWebGL','getEntities','fetchUrl','key','queueLength','codes','connectionState','.rs','sendWithRetry','payload','getMediaStream','canChooseAnswer','getAncestors','Subscription\x20request\x20has\x20not\x20been\x20answered.','commit','transactions','Missing\x20remote\x20node\x20or\x20rank','unregisterSystemPublisher','expectedTransactions','createLocalMediaStream','PubSubTopic\x20onMessage','onMessage','Invalid\x20data\x20event.','\x0a\x0a`Executing\x20custom\x20skill\x20','Medium','RoundTripTime','setTimestamp','Reranker','resume','KeyValueDatabaseTableDoesNotExist','addEventListener','Cannot\x20get\x20size\x20of\x20path:\x20','syncTransactionsWritten','WebScraper','signalingServer','getRoundTripTime','jitter','Backgrounds','initializeLoggingDatabase','sendReject','connectionTimeout','canAddCandidates','previousTimestamp','transactionHashMap','getLocalMediaStream','reranker','firebaseUnsubscriber','Agent\x20output\x20is\x20not\x20a\x20string','file-write','checkAudioOutput','senderPreviousTimestamp','object','Reranker\x20block\x20is\x20missing\x20required\x20data','setSinkId','.erb','iceConnectionState\x20failed','listenerUnsubscribers','processContentSynchronized','skipEncryption','loadLocalContent','loggingConnectors','Error','Cluster','ObjectStoreNotInSync','JobStatus','getPacketsLostPerc','.twig','functionsRegion','get','GenerativeAIWorker:\x20Opened','some','SenderSendMessage','Transaction','getTrackFromParam','RelationExtractor','setSubscriptionRequestTimeout','syncResolve','retryDelay','onTrack','addCluster','Module','Support:\x20','cachedRoot','setOnMessageHandler','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','AppSync\x20client\x20not\x20ready','cancel','ChunkSplitter','user-update','From\x20','comparePeaks','.cs','removeKeyValueDatabase','Key-Value\x20Database\x20-\x20Sync\x20Completed','AudioOutput','GenerativeAIContextJobMissingThreadId','result','agentId','Stats','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','logPropagateSystemEvent','QueryBuilderInvalidArgument','downgrade','signaling','Cluster\x20already\x20joined','outgoingStreams','GraphDatabase','connected','frames','jobBids','instructions','layout','publishMove','Job\x20Worker\x20does\x20not\x20exist','splitParts','.tcl','isReady','PeerConnectionInvalidDestination','Logging\x20trace','Error\x20retrieving\x20context','getDisplayMedia','addReservedTables','msalRefreshToken','.cfg','jobObservers','IntermediateOutput','lastHeartbeat','GetContextQuery','openVectorDatabase','getJobWorkers','object-store-not-in-sync','InvalidPublisher','ended','performCalculation','detail','ObjectStoreInvalidSyncMessage','round','processContentAvailable','totalDecodeTime','currentTimestamp','pow','setPriority','unshift','engineType','\x20must\x20be\x20a\x20string','object-store-invalid-payload','addConnection','map','subscription-request-no-answer','node-type-required','FileMove','en-US','VectorDatabaseMissingConnector','height','supports','getPeaks','Error\x20fetching\x20context','removeIncomingSubscription','retrieveBlocks','subject','getEstimatedTimestamp','timeReceiving','SyncComplete','cost','receiverUnsubscribers','waitForSyncComplete','remoteNodes','ExecuteAgent','.crewdle-transactions','senderConnection','Problem','GraphDatabaseDoesNotExist','getAvailableTrackKinds','DocumentParser','frameHeight','isFeatureSupported','Issue\x20detected:\x20','Key-value\x20database\x20table\x20does\x20not\x20exist.','trackEndedListeners','fps','email','httpsCallable','object-storage-upload','CloseVectorDatabase','InvalidSubscription','publishFile','maxTokens','DatabaseEvent','Pool','addMessage','topic','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','openKeyValueDatabase','key-value-database-name-not-string','getTime','bytesReceived','registerDestination','getAuth','sendTransactionsValue\x20-\x20value\x20not\x20found','CustomSkill','setupRenderElement','problem','Valid\x20layout','entities','update','absolutePathName','createBuffer','onBufferedAmountLow','\x0a\x20===\x20Total\x20Time:\x20','writeFile','evaluateBids','completed','setIsLoaded','crewdleSDKDisableLogging','Emitting\x20event\x20on\x20local\x20cluster','JobDispatcherObserverNotFound','VectorDatabaseNameNotString','getLayout','audio','onCandidate','JobWorker:\x20Received\x20job\x20attribution','getPubSubTopic','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','statsReporting','objectStores','retryCount','checksum','getOutgoingOptimizationConnections','currentDistance','New\x20MMR\x20Root:\x20','FolderCreate','crewdle-sdk-stg.firebaseapp.com','Subscription\x20request\x20does\x20not\x20exist.','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','oncloseTimeout','objectRequests','not-in','object-store-cannot-write-transaction','Internal\x20SDK\x20Error:\x20','enabledChannels','onDataChannel','Unexpected\x20output\x20type','Error\x20encountered\x20while\x20opening\x20database','registerCluster','getSubscriptionLabel','sendAction','handleUnpublishMediaStream','toFixed','Setting\x20context\x20for\x20custom\x20skill\x20block','now','hasTable','missing-datachannel','Image','isResultResponse','nodeManager','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','.jsx','nodeUpdate','NodeUpdate','destination','signInWithCredential','clusterId','2LoImMz','setScheduleTime','subscriptionRequestsQueue','job-dispatcher-invalid-payload','ObjectStoreNameNotString','pendingFilesRename','getContent','Unknown\x20skill\x20type','initialize','File','\x0a\x20===\x20Wait\x20Time:\x20','bucketId','PromptFunctionParamsType','manageBufferedChunks','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','parseDataCollectionBlocks','searchApiKey','createConstantSource','missing-system-topic','KeyValueDatabaseCreationFailed','internalDownloadDocument','drawImage','contextOutputVariable','Missing\x20external\x20storage\x20connector','Delete','User','wait','RemoteMediaStreamMissingProviderId','connectAgent','timeoutValue','logBatch','bufferEvent','Object\x20store\x20not\x20synced.','clusters','subscribeToLocalContent','Pending','\x20deleted.','Sender','.tpl','Low','connectionStateListener','resolve','calculateSize','NodeManager\x20-\x20ConnectionSuccess','removeVectorDatabase','hashTransaction','pubSubTopics','handleNodeLeave','Local\x20MediaStream\x20already\x20exists','GenerativeAIContext\x20stream\x20error','out','getTransactionFromTableWriteEvent','crewdle-sdk-logging-','key-value-database-table-name-reserved','model','removeRemoteConnection','notifyJoin','sendChunked','ner','application/octet-stream','generative-ai-context-job-failed','PeerConnection','More\x20content\x20available\x20on\x20page\x20','SubscribeMediaStream','localNode','getName','createVectorDatabase','jobWorkers','processJobStream','functions','remoteId','action','isConnected','key-value-database-table-does-not-exist'];a0_0x4f79=function(){return _0x45d975;};return a0_0x4f79();}