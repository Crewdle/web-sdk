function a0_0x11f8(_0x5937a3,_0x174dd4){const _0x570696=a0_0x5706();return a0_0x11f8=function(_0x11f8db,_0x3a7b4e){_0x11f8db=_0x11f8db-0xe0;let _0x4271fa=_0x570696[_0x11f8db];return _0x4271fa;},a0_0x11f8(_0x5937a3,_0x174dd4);}(function(_0x36de1f,_0x502249){const _0x15e256=a0_0x11f8,_0x4966d8=_0x36de1f();while(!![]){try{const _0x482ea8=-parseInt(_0x15e256(0x61c))/0x1+-parseInt(_0x15e256(0xac5))/0x2*(parseInt(_0x15e256(0x19e))/0x3)+parseInt(_0x15e256(0x545))/0x4+-parseInt(_0x15e256(0x6ec))/0x5*(parseInt(_0x15e256(0x5e1))/0x6)+parseInt(_0x15e256(0x427))/0x7*(parseInt(_0x15e256(0xac7))/0x8)+-parseInt(_0x15e256(0x845))/0x9*(parseInt(_0x15e256(0xa69))/0xa)+-parseInt(_0x15e256(0x9e8))/0xb*(-parseInt(_0x15e256(0x754))/0xc);if(_0x482ea8===_0x502249)break;else _0x4966d8['push'](_0x4966d8['shift']());}catch(_0x37f637){_0x4966d8['push'](_0x4966d8['shift']());}}}(a0_0x5706,0xc1e26),!function(_0x13aa81,_0x58e87b){const _0x5cafd6=a0_0x11f8;if(_0x5cafd6(0x97a)==typeof exports&&_0x5cafd6(0x97a)==typeof module)module[_0x5cafd6(0x6a0)]=_0x58e87b();else{if('function'==typeof define&&define[_0x5cafd6(0x518)])define([],_0x58e87b);else{var _0x1060ec=_0x58e87b();for(var _0x5c5205 in _0x1060ec)(_0x5cafd6(0x97a)==typeof exports?exports:_0x13aa81)[_0x5c5205]=_0x1060ec[_0x5c5205];}}}(this,()=>((()=>{'use strict';const _0x2d5032=a0_0x11f8;var _0x520ce1={0x14d:(_0xd5064d,_0xb282ad,_0x395fcc)=>{const _0xf1837d=a0_0x11f8;_0x395fcc['d'](_0xb282ad,{'O':()=>_0x143a4f});const _0x143a4f={'version':'1.0.43.0','isProduction':!0x1,'firebaseConfig':{'apiKey':_0xf1837d(0x8bd),'authDomain':_0xf1837d(0x98b),'databaseURL':_0xf1837d(0x691),'projectId':_0xf1837d(0xab9),'storageBucket':'crewdle-sdk-stg.appspot.com','appId':_0xf1837d(0x9f0),'functionsRegion':_0xf1837d(0x599)},'apiUrl':'https://api.stg.crewdle.ai','google':{'searchEngineId':'21a9d78dee97f487b'},'aws':{'endpoint':_0xf1837d(0x349),'region':_0xf1837d(0x986)}};},0x33b:(_0x13f724,_0x4e0211,_0x5a18cf)=>{_0x5a18cf['d'](_0x4e0211,{'O':()=>_0x5a0f57});const _0x5a0f57={};},0x3e6:(_0x230a05,_0x4a6565,_0x2c2eeb)=>{const _0x6c605c=a0_0x11f8;_0x2c2eeb['d'](_0x4a6565,{'O':()=>_0x47f1b4});const _0x47f1b4={'version':_0x6c605c(0x2a4),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x6c605c(0x8c3),'authDomain':_0x6c605c(0x5b9),'databaseURL':_0x6c605c(0x98d),'projectId':_0x6c605c(0x69f),'storageBucket':_0x6c605c(0x199),'messagingSenderId':_0x6c605c(0x4cf),'appId':_0x6c605c(0x4df),'measurementId':'G-F7W8KXRKQB'},'apiUrl':_0x6c605c(0x19a),'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':'us-east-1'}};},0x20:(_0x231070,_0x2c55b6,_0x4eaff1)=>{_0x4eaff1['d'](_0x2c55b6,{'O':()=>_0x42bfc7});const _0x42bfc7={};}},_0x398fc2={};function _0x203f3a(_0x3064cf){const _0x355805=a0_0x11f8;var _0x9e8848=_0x398fc2[_0x3064cf];if(void 0x0!==_0x9e8848)return _0x9e8848[_0x355805(0x6a0)];var _0x4eeb58=_0x398fc2[_0x3064cf]={'exports':{}};return _0x520ce1[_0x3064cf](_0x4eeb58,_0x4eeb58[_0x355805(0x6a0)],_0x203f3a),_0x4eeb58[_0x355805(0x6a0)];}_0x203f3a['d']=(_0x59959f,_0x3aa076)=>{const _0xed9557=a0_0x11f8;for(var _0x59b3e6 in _0x3aa076)_0x203f3a['o'](_0x3aa076,_0x59b3e6)&&!_0x203f3a['o'](_0x59959f,_0x59b3e6)&&Object[_0xed9557(0xa97)](_0x59959f,_0x59b3e6,{'enumerable':!0x0,'get':_0x3aa076[_0x59b3e6]});},_0x203f3a['g']=(function(){const _0x3de4a6=a0_0x11f8;if('object'==typeof globalThis)return globalThis;try{return this||new Function(_0x3de4a6(0x333))();}catch(_0x22b623){if('object'==typeof window)return window;}}()),_0x203f3a['o']=(_0xa6b803,_0x473461)=>Object[_0x2d5032(0x101)]['hasOwnProperty'][_0x2d5032(0x7f5)](_0xa6b803,_0x473461),_0x203f3a['r']=_0x5d7bd1=>{const _0x37849e=_0x2d5032;_0x37849e(0x9c0)!=typeof Symbol&&Symbol[_0x37849e(0x2d0)]&&Object[_0x37849e(0xa97)](_0x5d7bd1,Symbol[_0x37849e(0x2d0)],{'value':_0x37849e(0x1be)}),Object[_0x37849e(0xa97)](_0x5d7bd1,'__esModule',{'value':!0x0});};var _0x10a5c8,_0x751840,_0x53d5c4,_0x3e33e0={};_0x203f3a['r'](_0x3e33e0),_0x203f3a['d'](_0x3e33e0,{'KeyValueDatabase':()=>_0x300a59,'LayoutBuilder':()=>_0xb9eb49,'LoggingChannels':()=>_0x53d5c4,'QueryBuilder':()=>_0x13a18c,'SDK':()=>_0x3e2a82,'SDKClientErrorCodes':()=>_0x10a5c8,'TableBuilder':()=>_0x40cbb5,'logger':()=>_0x27f628}),function(_0x553306){const _0x16bb8d=_0x2d5032;_0x553306['ApiKeyMissing']=_0x16bb8d(0x635),_0x553306[_0x16bb8d(0x8c9)]=_0x16bb8d(0x95e),_0x553306[_0x16bb8d(0x241)]='cluster-already-joined',_0x553306[_0x16bb8d(0x4b7)]=_0x16bb8d(0x78c),_0x553306[_0x16bb8d(0x281)]=_0x16bb8d(0xa2d),_0x553306[_0x16bb8d(0x226)]=_0x16bb8d(0x1a5),_0x553306[_0x16bb8d(0xa61)]=_0x16bb8d(0x8f4),_0x553306['ExternalStorageInvalidPath']=_0x16bb8d(0x2f6),_0x553306[_0x16bb8d(0x5b7)]='external-storage-name-not-string',_0x553306['FeatureNotEnabled']=_0x16bb8d(0x722),_0x553306['GenerativeAIContextAlreadyExists']=_0x16bb8d(0x55c),_0x553306[_0x16bb8d(0x564)]=_0x16bb8d(0x594),_0x553306[_0x16bb8d(0x5f0)]=_0x16bb8d(0x4f4),_0x553306[_0x16bb8d(0x7ce)]=_0x16bb8d(0x66d),_0x553306['GenerativeAILabelConflict']=_0x16bb8d(0x97c),_0x553306['GenerativeAIWorkerAlreadyExists']=_0x16bb8d(0x592),_0x553306['GenerativeAIWorkerMissingConnector']=_0x16bb8d(0x661),_0x553306[_0x16bb8d(0x902)]=_0x16bb8d(0x8e8),_0x553306[_0x16bb8d(0x112)]=_0x16bb8d(0x4bc),_0x553306[_0x16bb8d(0x9d8)]=_0x16bb8d(0x378),_0x553306[_0x16bb8d(0x522)]=_0x16bb8d(0x3cd),_0x553306[_0x16bb8d(0x102)]='graph-database-name-not-string',_0x553306['JobDispatcherAlreadyExists']=_0x16bb8d(0x267),_0x553306['JobDispatcherDoesNotExist']=_0x16bb8d(0x8a9),_0x553306['JobDispatcherJobExists']=_0x16bb8d(0x444),_0x553306[_0x16bb8d(0x995)]=_0x16bb8d(0x76d),_0x553306[_0x16bb8d(0x43f)]='job-dispatcher-invalid-job-type',_0x553306[_0x16bb8d(0x130)]=_0x16bb8d(0x800),_0x553306['JobWorkerDoesNotExist']=_0x16bb8d(0x2b8),_0x553306['ObjectStoreAlreadyExists']=_0x16bb8d(0x4a2),_0x553306['ObjectStoreAlreadySubscribed']=_0x16bb8d(0x6c3),_0x553306[_0x16bb8d(0x939)]='object-store-stream-does-not-exist',_0x553306[_0x16bb8d(0x5bb)]=_0x16bb8d(0x726),_0x553306['ObjectStoreInvalidPayload']=_0x16bb8d(0x227),_0x553306['ObjectStoreInvalidPath']=_0x16bb8d(0x889),_0x553306['ObjectStoreNotInSync']=_0x16bb8d(0x269),_0x553306[_0x16bb8d(0x613)]='internal-sdk-error',_0x553306[_0x16bb8d(0x334)]=_0x16bb8d(0x4ab),_0x553306[_0x16bb8d(0x8ef)]=_0x16bb8d(0x94b),_0x553306[_0x16bb8d(0x308)]=_0x16bb8d(0x39f),_0x553306[_0x16bb8d(0x51a)]=_0x16bb8d(0x73f),_0x553306[_0x16bb8d(0x693)]=_0x16bb8d(0x5f8),_0x553306[_0x16bb8d(0x230)]=_0x16bb8d(0x151),_0x553306['KeyValueDatabaseNameNotString']=_0x16bb8d(0x11f),_0x553306[_0x16bb8d(0x8cd)]=_0x16bb8d(0x3a4),_0x553306['KeyValueDatabaseTableNameReserved']=_0x16bb8d(0x5a2),_0x553306['KeyValueDatabaseTableNotFound']=_0x16bb8d(0xa5f),_0x553306[_0x16bb8d(0x4ff)]=_0x16bb8d(0x48b),_0x553306['LocalMediaStreamAlreadyExists']=_0x16bb8d(0x684),_0x553306[_0x16bb8d(0x242)]='local-media-stream-no-audio-context',_0x553306[_0x16bb8d(0x4de)]=_0x16bb8d(0x605),_0x553306['PubSubTopicDoesNotExist']=_0x16bb8d(0x28c),_0x553306[_0x16bb8d(0xa33)]=_0x16bb8d(0x876),_0x553306[_0x16bb8d(0x629)]='pub-sub-topic-already-subscribed',_0x553306['QueryBuilderInvalidArgument']='query-helper-invalid-argument',_0x553306['RemoteMediaStreamAlreadyExists']=_0x16bb8d(0x4c7),_0x553306[_0x16bb8d(0x73a)]=_0x16bb8d(0xacd),_0x553306[_0x16bb8d(0x200)]=_0x16bb8d(0x445),_0x553306[_0x16bb8d(0x128)]='node-not-authenticated',_0x553306[_0x16bb8d(0x44a)]='node-invalid-type',_0x553306[_0x16bb8d(0x548)]=_0x16bb8d(0x6ac),_0x553306[_0x16bb8d(0x833)]='node-type-required',_0x553306[_0x16bb8d(0x359)]='vector-database-already-exists',_0x553306[_0x16bb8d(0xaba)]='vector-database-does-not-exist',_0x553306['VectorDatabaseMissingConnector']='vector-database-missing-connector',_0x553306[_0x16bb8d(0x965)]=_0x16bb8d(0x8b0);}(_0x10a5c8||(_0x10a5c8={}));class _0x10fc18 extends Error{['code'];constructor(_0x4fec64,_0x2d305c){const _0x50b223=_0x2d5032;super(_0x2d305c),this[_0x50b223(0x23c)]=_0x4fec64;}}!function(_0x4d4e72){const _0x3de7e7=_0x2d5032;_0x4d4e72[_0x3de7e7(0x973)]=_0x3de7e7(0x6e1),_0x4d4e72['ObjectStorage']='object-storage',_0x4d4e72[_0x3de7e7(0x7a3)]=_0x3de7e7(0x488),_0x4d4e72[_0x3de7e7(0x571)]=_0x3de7e7(0x756),_0x4d4e72[_0x3de7e7(0x1a3)]='graph-database',_0x4d4e72[_0x3de7e7(0x821)]=_0x3de7e7(0x5d1),_0x4d4e72['MediaStream']=_0x3de7e7(0x8e7),_0x4d4e72[_0x3de7e7(0x7a9)]=_0x3de7e7(0x621);}(_0x751840||(_0x751840={})),function(_0x511c1e){const _0x161514=_0x2d5032;_0x511c1e[_0x161514(0x4f8)]=_0x161514(0x526),_0x511c1e[_0x161514(0x921)]=_0x161514(0x8ca),_0x511c1e[_0x161514(0x449)]='connection',_0x511c1e[_0x161514(0xa26)]=_0x161514(0x2fc),_0x511c1e[_0x161514(0x211)]='cluster',_0x511c1e['Content']='content',_0x511c1e[_0x161514(0x99a)]=_0x161514(0x89f),_0x511c1e[_0x161514(0x8f3)]=_0x161514(0x1e9),_0x511c1e['Events']='events',_0x511c1e[_0x161514(0x2b9)]=_0x161514(0x275),_0x511c1e[_0x161514(0x6ee)]=_0x161514(0x3df),_0x511c1e[_0x161514(0x7a3)]='key-value-database',_0x511c1e[_0x161514(0x1e0)]='node',_0x511c1e['Pool']=_0x161514(0xa20),_0x511c1e[_0x161514(0x973)]=_0x161514(0x6e1),_0x511c1e['ReceiverOnMessage']=_0x161514(0x82d),_0x511c1e[_0x161514(0x785)]='remediation',_0x511c1e['SenderSendMessage']=_0x161514(0x519),_0x511c1e[_0x161514(0x265)]=_0x161514(0x9b5),_0x511c1e['Stats']=_0x161514(0x336),_0x511c1e[_0x161514(0x431)]='subscription',_0x511c1e['Support']=_0x161514(0x360),_0x511c1e['System']='system',_0x511c1e[_0x161514(0x48f)]=_0x161514(0x1d8),_0x511c1e[_0x161514(0x62e)]=_0x161514(0x837),_0x511c1e[_0x161514(0x802)]=_0x161514(0x416);}(_0x53d5c4||(_0x53d5c4={}));const _0x1a575a=require('@crewdle/web-sdk-types');class _0x13a18c{['query'];constructor(_0x19385a){const _0x56debc=_0x2d5032;this[_0x56debc(0x9ec)]={'orderBy':{'key':_0x19385a,'direction':_0x56debc(0xac6)}};}static['index'](_0x15266e){const _0x370803=_0x2d5032;if(_0x370803(0x823)!=typeof _0x15266e||0x0===_0x15266e['length'])throw new _0x10fc18(_0x10a5c8[_0x370803(0x170)],_0x370803(0x577));return new _0x13a18c(_0x15266e);}static['validateQuery'](_0x3697ae){const _0x1968bb=_0x2d5032;try{return _0x13a18c[_0x1968bb(0x949)](_0x3697ae),!0x0;}catch(_0x282ba0){return!0x1;}}static[_0x2d5032(0x949)](_0x5ab78f){const _0x42932f=_0x2d5032,_0x1b84fe=_0x13a18c[_0x42932f(0x2a7)](_0x5ab78f[_0x42932f(0x996)]?.[_0x42932f(0x9f3)]??_0x5ab78f[_0x42932f(0x283)]?.['key']??'');if(_0x5ab78f[_0x42932f(0x283)]){const _0x1a2376=_0x5ab78f[_0x42932f(0x283)];if((_0x13a18c['isWhereValue'](_0x1a2376)||_0x13a18c['isWhereValues'](_0x1a2376)||_0x13a18c['isWhereBetween'](_0x1a2376))&&_0x1b84fe[_0x42932f(0x283)](_0x1a2376[_0x42932f(0xaf5)],_0x1a2376[_0x42932f(0x50f)]),_0x5ab78f[_0x42932f(0x996)]?.['key']&&_0x5ab78f['orderBy']?.['key']!==_0x5ab78f[_0x42932f(0x283)][_0x42932f(0x9f3)])throw new _0x10fc18(_0x10a5c8[_0x42932f(0x170)],_0x42932f(0x1d2));}return _0x5ab78f[_0x42932f(0x996)]&&_0x1b84fe[_0x42932f(0x996)](_0x5ab78f[_0x42932f(0x996)][_0x42932f(0x40f)]),_0x5ab78f[_0x42932f(0x6f6)]&&_0x1b84fe['limit'](_0x5ab78f[_0x42932f(0x6f6)]),_0x5ab78f[_0x42932f(0x15f)]&&_0x1b84fe[_0x42932f(0x15f)](_0x5ab78f[_0x42932f(0x15f)]),_0x1b84fe;}[_0x2d5032(0x3ba)](){const _0x401f1e=_0x2d5032;return{...this[_0x401f1e(0x9ec)]};}['where'](_0x16f54d,_0x217c7c){const _0x54d099=_0x2d5032,_0x48cdff={'key':this[_0x54d099(0x9ec)][_0x54d099(0x996)][_0x54d099(0x9f3)],'operator':_0x16f54d,'value':_0x217c7c};if(!_0x13a18c[_0x54d099(0x300)](_0x48cdff)&&!_0x13a18c[_0x54d099(0x15c)](_0x48cdff)&&!_0x13a18c[_0x54d099(0x2c1)](_0x48cdff))throw new _0x10fc18(_0x10a5c8[_0x54d099(0x170)],_0x54d099(0x434));return this[_0x54d099(0x9ec)][_0x54d099(0x283)]=_0x48cdff,this;}[_0x2d5032(0x996)](_0x347d3d){const _0x4e0937=_0x2d5032;if('asc'!==_0x347d3d&&_0x4e0937(0x178)!==_0x347d3d)throw new _0x10fc18(_0x10a5c8[_0x4e0937(0x170)],_0x4e0937(0x6b6));return this['query'][_0x4e0937(0x996)][_0x4e0937(0x40f)]=_0x347d3d,this;}[_0x2d5032(0x6f6)](_0x50aedf){const _0x37a0d3=_0x2d5032;if('number'!=typeof _0x50aedf||_0x50aedf<0x0)throw new _0x10fc18(_0x10a5c8['QueryBuilderInvalidArgument'],_0x37a0d3(0x22d));return this[_0x37a0d3(0x9ec)][_0x37a0d3(0x6f6)]=_0x50aedf,this;}[_0x2d5032(0x15f)](_0x853dc9){const _0x4b4677=_0x2d5032;if(_0x4b4677(0x566)!=typeof _0x853dc9||_0x853dc9<0x0)throw new _0x10fc18(_0x10a5c8[_0x4b4677(0x170)],_0x4b4677(0x3fb));return this['query'][_0x4b4677(0x15f)]=_0x853dc9,this;}static['isWhereValue'](_0x22e08a){const _0x1c2c7b=_0x2d5032;if(!(_0x22e08a&&'object'==typeof _0x22e08a&&_0x1c2c7b(0xaf5)in _0x22e08a&&_0x1c2c7b(0x50f)in _0x22e08a))return!0x1;const {operator:_0x31d245,value:_0x2f3624}=_0x22e08a;return!(!['==','!=','>','<','<=','>=']['includes'](_0x31d245)||Array['isArray'](_0x2f3624));}static[_0x2d5032(0x15c)](_0x6aaa76){const _0x13c3b1=_0x2d5032;if(!(_0x6aaa76&&_0x13c3b1(0x97a)==typeof _0x6aaa76&&_0x13c3b1(0xaf5)in _0x6aaa76&&_0x13c3b1(0x50f)in _0x6aaa76))return!0x1;const {operator:_0x239556,value:_0x35a7b8}=_0x6aaa76;return!(!['in',_0x13c3b1(0x380)][_0x13c3b1(0x21f)](_0x239556)||!Array[_0x13c3b1(0x7e5)](_0x35a7b8));}static[_0x2d5032(0x2c1)](_0x3ea7cb){const _0x17a071=_0x2d5032;if(!(_0x3ea7cb&&_0x17a071(0x97a)==typeof _0x3ea7cb&&_0x17a071(0xaf5)in _0x3ea7cb&&'value'in _0x3ea7cb))return!0x1;const {operator:_0x2125cc,value:_0x42b493}=_0x3ea7cb;return!(_0x17a071(0x21a)!==_0x2125cc||!Array[_0x17a071(0x7e5)](_0x42b493)||0x2!==_0x42b493['length']);}}class _0xb9eb49{[_0x2d5032(0xe2)];constructor(_0xa24b2f){this['layout']={'tables':{},'version':_0xa24b2f};}static[_0x2d5032(0xaed)](_0x3f400a){const _0x4d571d=_0x2d5032;for(const _0xfb09b1 in _0x3f400a){if('version'!==_0xfb09b1&&_0x4d571d(0x13b)!==_0xfb09b1)return[!0x1,_0x4d571d(0x143)+_0xfb09b1+'\x27\x20in\x20layout'];if(_0x4d571d(0x13b)===_0xfb09b1)for(const _0xa4470b in _0x3f400a['tables']){if(_0x4d571d(0x823)!=typeof _0xa4470b)return[!0x1,_0x4d571d(0x6b4)+_0xa4470b+'\x27'];for(const _0xc74eb1 in _0x3f400a[_0x4d571d(0x13b)][_0xa4470b]){if(_0x4d571d(0x3e1)!==_0xc74eb1)return[!0x1,_0x4d571d(0x143)+_0xc74eb1+_0x4d571d(0x99b)+_0xa4470b+'\x27'];const _0x573c4a=_0x3f400a['tables'][_0xa4470b][_0xc74eb1]??[];for(const _0x1f8a15 of _0x573c4a)if(void 0x0===_0x1f8a15['keyPath']||_0x4d571d(0x823)!=typeof _0x1f8a15[_0x4d571d(0x6a8)])return[!0x1,_0x4d571d(0x7ac)+_0xa4470b+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x4d571d(0x3ec)===_0xfb09b1&&_0x4d571d(0x566)!=typeof _0x3f400a[_0xfb09b1])return[!0x1,_0x4d571d(0x1bc)+_0x3f400a[_0xfb09b1]+_0x4d571d(0x617)];}}return[!0x0,_0x4d571d(0x4d3)];}static[_0x2d5032(0xe2)](_0x3df807){const _0x524ccc=new _0xb9eb49(_0x3df807);return _0x524ccc['layout']['version']=_0x3df807,_0x524ccc;}[_0x2d5032(0x33a)](_0x3b3dad){const _0xdeb1ce=_0x2d5032;return this[_0xdeb1ce(0xe2)]['tables'][_0x3b3dad]={},new _0x40cbb5(this[_0xdeb1ce(0xe2)][_0xdeb1ce(0x13b)][_0x3b3dad]);}[_0x2d5032(0x1c9)](){const _0x211929=_0x2d5032;return this[_0x211929(0xe2)];}}class _0x40cbb5{[_0x2d5032(0x354)];constructor(_0x36fe4b){const _0x178cda=_0x2d5032;this[_0x178cda(0x354)]=_0x36fe4b;}[_0x2d5032(0x2a7)](_0x5aaa0c){const _0x3e0356=_0x2d5032;return this[_0x3e0356(0x354)]['indexes']=this['tableLayout'][_0x3e0356(0x3e1)]??[],this[_0x3e0356(0x354)]['indexes'][_0x3e0356(0x806)]({'keyPath':_0x5aaa0c}),this;}}const _0x488685=0x40000,_0x310ee6=0x20000,_0x38055e=0x1388,_0x57eb15=_0x2d5032(0x777),_0x7ca409=_0x2d5032(0xaee),_0x2c2bda=_0x2d5032(0x5cb),_0x517214=_0x2d5032(0x3e6),_0x49212c=0xdbba0,_0x5e7874=0x61a8,_0x20f836=_0x2d5032(0x83c);var _0x28fbcb;!function(_0x5e92fb){const _0x2e0a1c=_0x2d5032;_0x5e92fb[_0x2e0a1c(0x6dc)]=_0x2e0a1c(0x146),_0x5e92fb[_0x2e0a1c(0x626)]=_0x2e0a1c(0x746),_0x5e92fb[_0x2e0a1c(0x35b)]='connection-no-retry-queue',_0x5e92fb[_0x2e0a1c(0x909)]=_0x2e0a1c(0xed),_0x5e92fb['DataCollectionDoesNotExist']=_0x2e0a1c(0x9b0),_0x5e92fb['GenerativeAIContextCreationFailed']=_0x2e0a1c(0x2b0),_0x5e92fb[_0x2e0a1c(0x2ff)]=_0x2e0a1c(0x175),_0x5e92fb['GenerativeAIContextJobAlreadyConsumed']=_0x2e0a1c(0x8b4),_0x5e92fb[_0x2e0a1c(0x4f7)]=_0x2e0a1c(0x2a5),_0x5e92fb[_0x2e0a1c(0x3f3)]=_0x2e0a1c(0x162),_0x5e92fb['GenerativeAIWorkerCreationFailed']=_0x2e0a1c(0x493),_0x5e92fb[_0x2e0a1c(0x8e3)]=_0x2e0a1c(0x1ec),_0x5e92fb[_0x2e0a1c(0x855)]=_0x2e0a1c(0x698),_0x5e92fb[_0x2e0a1c(0x1b4)]=_0x2e0a1c(0x942),_0x5e92fb['InvalidSubscriber']=_0x2e0a1c(0x6d4),_0x5e92fb[_0x2e0a1c(0x15e)]=_0x2e0a1c(0x2e7),_0x5e92fb[_0x2e0a1c(0x82e)]='job-dispatcher-creation-failed',_0x5e92fb[_0x2e0a1c(0x67c)]='job-dispatcher-invalid-payload',_0x5e92fb[_0x2e0a1c(0x995)]=_0x2e0a1c(0x76d),_0x5e92fb[_0x2e0a1c(0x1a6)]='job-dispatcher-observer-not-found',_0x5e92fb[_0x2e0a1c(0x2ad)]=_0x2e0a1c(0x76a),_0x5e92fb['JobWorkerInvalidType']='job-worker-invalid-type',_0x5e92fb[_0x2e0a1c(0x6fa)]=_0x2e0a1c(0x60e),_0x5e92fb[_0x2e0a1c(0x778)]=_0x2e0a1c(0x87e),_0x5e92fb[_0x2e0a1c(0x4f2)]=_0x2e0a1c(0x615),_0x5e92fb[_0x2e0a1c(0x994)]='key-value-database-transaction-table-not-initialized',_0x5e92fb[_0x2e0a1c(0x578)]=_0x2e0a1c(0x59e),_0x5e92fb['LocalMediaStreamDoesNotExist']=_0x2e0a1c(0x28f),_0x5e92fb[_0x2e0a1c(0xa91)]=_0x2e0a1c(0x885),_0x5e92fb[_0x2e0a1c(0x3f4)]=_0x2e0a1c(0x627),_0x5e92fb[_0x2e0a1c(0x660)]=_0x2e0a1c(0x411),_0x5e92fb[_0x2e0a1c(0x187)]=_0x2e0a1c(0x284),_0x5e92fb[_0x2e0a1c(0x240)]=_0x2e0a1c(0x8fe),_0x5e92fb[_0x2e0a1c(0xaa8)]='object-store-invalid-sync-message',_0x5e92fb['ObjectStoreNotSynced']=_0x2e0a1c(0x81e),_0x5e92fb[_0x2e0a1c(0x381)]=_0x2e0a1c(0x619),_0x5e92fb[_0x2e0a1c(0x9cb)]='remote-stream-does-not-exist',_0x5e92fb['RemoteMediaStreamMissingProviderId']=_0x2e0a1c(0xa48),_0x5e92fb[_0x2e0a1c(0xa6a)]='remote-connection-exists',_0x5e92fb[_0x2e0a1c(0x2e9)]=_0x2e0a1c(0x122),_0x5e92fb[_0x2e0a1c(0x71e)]=_0x2e0a1c(0x720),_0x5e92fb[_0x2e0a1c(0x422)]=_0x2e0a1c(0x670),_0x5e92fb[_0x2e0a1c(0x3f0)]='node-does-not-exist',_0x5e92fb[_0x2e0a1c(0x370)]=_0x2e0a1c(0x11e),_0x5e92fb[_0x2e0a1c(0x168)]=_0x2e0a1c(0x2a0),_0x5e92fb[_0x2e0a1c(0xa93)]=_0x2e0a1c(0x1ac),_0x5e92fb[_0x2e0a1c(0x807)]=_0x2e0a1c(0x37f),_0x5e92fb[_0x2e0a1c(0x296)]='workflow-invalid-block-type';}(_0x28fbcb||(_0x28fbcb={}));const _0x5d18b7=new Map([[_0x28fbcb['ConnectionNotinitialized'],'Connection\x20not\x20initialized.'],[_0x28fbcb[_0x2d5032(0x626)],_0x2d5032(0x3b0)],[_0x28fbcb[_0x2d5032(0x35b)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x28fbcb['ConnectionInvalidDataEvent'],'Invalid\x20data\x20event.'],[_0x28fbcb['DataCollectionDoesNotExist'],'Data\x20collection\x20does\x20not\x20exist.'],[_0x28fbcb[_0x2d5032(0x5cf)],_0x2d5032(0x195)],[_0x28fbcb['GenerativeAIContextInvalidPartialResult'],_0x2d5032(0x95d)],[_0x28fbcb[_0x2d5032(0x68a)],_0x2d5032(0x543)],[_0x28fbcb[_0x2d5032(0x4f7)],_0x2d5032(0xe4)],[_0x28fbcb[_0x2d5032(0x3f3)],_0x2d5032(0x53f)],[_0x28fbcb['GenerativeAIWorkerCreationFailed'],_0x2d5032(0x4e1)],[_0x28fbcb['GraphDatabaseCreationFailed'],'Graph\x20database\x20creation\x20failed.'],[_0x28fbcb[_0x2d5032(0x855)],_0x2d5032(0x972)],[_0x28fbcb[_0x2d5032(0x1b4)],_0x2d5032(0xae3)],[_0x28fbcb['InvalidSubscriber'],_0x2d5032(0x2fd)],[_0x28fbcb[_0x2d5032(0x15e)],_0x2d5032(0x3bd)],[_0x28fbcb[_0x2d5032(0x82e)],_0x2d5032(0x77e)],[_0x28fbcb[_0x2d5032(0x67c)],_0x2d5032(0x1df)],[_0x28fbcb[_0x2d5032(0x995)],'Job\x20service\x20job\x20not\x20found.'],[_0x28fbcb['JobDispatcherObserverNotFound'],_0x2d5032(0x7f9)],[_0x28fbcb[_0x2d5032(0x2ad)],_0x2d5032(0x931)],[_0x28fbcb[_0x2d5032(0x9ef)],_0x2d5032(0x659)],[_0x28fbcb['KeyValueDatabaseCreationFailed'],'Key-value\x20database\x20creation\x20failed.'],[_0x28fbcb[_0x2d5032(0x778)],_0x2d5032(0x4ec)],[_0x28fbcb[_0x2d5032(0x4f2)],_0x2d5032(0x75f)],[_0x28fbcb[_0x2d5032(0x994)],_0x2d5032(0x6eb)],[_0x28fbcb['KeyValueDatabaseTransactionValueNotSet'],_0x2d5032(0x144)],[_0x28fbcb[_0x2d5032(0x391)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x28fbcb[_0x2d5032(0xa91)],_0x2d5032(0xa1d)],[_0x28fbcb[_0x2d5032(0x3f4)],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x28fbcb[_0x2d5032(0x660)],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x28fbcb[_0x2d5032(0x187)],_0x2d5032(0x460)],[_0x28fbcb['ObjectStoreInvalidSyncMessage'],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x28fbcb[_0x2d5032(0x240)],'Invalid\x20object\x20store\x20state.'],[_0x28fbcb[_0x2d5032(0x4ee)],_0x2d5032(0x801)],[_0x28fbcb['OutgoingMediaStreamNoTopic'],_0x2d5032(0x3d3)],[_0x28fbcb['RemoteMediaStreamDoesNotExist'],_0x2d5032(0x695)],[_0x28fbcb[_0x2d5032(0x323)],_0x2d5032(0x954)],[_0x28fbcb[_0x2d5032(0xa6a)],_0x2d5032(0x496)],[_0x28fbcb[_0x2d5032(0x2e9)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x28fbcb[_0x2d5032(0x71e)],_0x2d5032(0x5f5)],[_0x28fbcb[_0x2d5032(0x422)],_0x2d5032(0x8be)],[_0x28fbcb[_0x2d5032(0x3f0)],_0x2d5032(0x533)],[_0x28fbcb[_0x2d5032(0x370)],_0x2d5032(0x16b)],[_0x28fbcb[_0x2d5032(0x168)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x28fbcb[_0x2d5032(0xa93)],'Vector\x20database\x20creation\x20failed.'],[_0x28fbcb['WorkflowDoesNotExist'],_0x2d5032(0x6f2)],[_0x28fbcb[_0x2d5032(0x296)],'Invalid\x20workflow\x20block\x20type.']]);class _0x54e1a8 extends Error{[_0x2d5032(0x23c)];static [_0x2d5032(0x318)]=_0x28fbcb;[_0x2d5032(0x906)];constructor(_0x2cce2b,_0xc7a5f4){const _0x516808=_0x2d5032;super(_0x516808(0x865)+_0x2cce2b+':\x20'+_0x5d18b7[_0x516808(0x13f)](_0x2cce2b)+'\x0aAdditional\x20data:\x20'+JSON[_0x516808(0x8b2)](_0xc7a5f4)),this[_0x516808(0x23c)]=_0x2cce2b,this[_0x516808(0x906)]=_0xc7a5f4||{};}}var _0x1ff5c6,_0x1ac54a,_0x5dd587,_0x386e29,_0x223122,_0xe033b9,_0x4bbd49;!function(_0x3a6d0b){const _0x27a93c=_0x2d5032;_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x1d3)]=0x0]=_0x27a93c(0x1d3),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x202)]=0x1]=_0x27a93c(0x202),_0x3a6d0b[_0x3a6d0b['CloseJobWorker']=0x2]='CloseJobWorker',_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x2b1)]=0x3]=_0x27a93c(0x2b1),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x72d)]=0x4]='CloseKeyValueDatabase',_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x1dd)]=0x5]='CloseMediaStream',_0x3a6d0b[_0x3a6d0b['CloseObjectStoreBucket']=0x6]=_0x27a93c(0x89e),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x673)]=0x7]='ClosePubSubTopic',_0x3a6d0b[_0x3a6d0b['CloseVectorDatabase']=0x8]=_0x27a93c(0x966),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x57d)]=0x9]=_0x27a93c(0x57d),_0x3a6d0b[_0x3a6d0b['ExternalStorageStats']=0xa]='ExternalStorageStats',_0x3a6d0b[_0x3a6d0b['GenerativeAIContextStats']=0xb]=_0x27a93c(0x6f8),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x3ea)]=0xc]=_0x27a93c(0x3ea),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x847)]=0xd]=_0x27a93c(0x847),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x923)]=0xe]=_0x27a93c(0x923),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x5e0)]=0xf]=_0x27a93c(0x5e0),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x327)]=0x10]=_0x27a93c(0x327),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x6e7)]=0x11]=_0x27a93c(0x6e7),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x213)]=0x12]=_0x27a93c(0x213),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0xa51)]=0x13]=_0x27a93c(0xa51),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x5b8)]=0x14]=_0x27a93c(0x5b8),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x6c9)]=0x15]='LocalMediaStreamTrackFail',_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x848)]=0x16]='ObjectStoreStats',_0x3a6d0b[_0x3a6d0b['PubSubTopicStats']=0x17]=_0x27a93c(0xa98),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x934)]=0x18]=_0x27a93c(0x934),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x58e)]=0x19]='RemoteMediaStreamTrackFail',_0x3a6d0b[_0x3a6d0b['SubscribeMediaStream']=0x1a]=_0x27a93c(0x477),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x880)]=0x1b]=_0x27a93c(0x880),_0x3a6d0b[_0x3a6d0b['UnsubscribeMediaStream']=0x1c]=_0x27a93c(0x465),_0x3a6d0b[_0x3a6d0b[_0x27a93c(0xa39)]=0x1d]='UpdateMediaStream',_0x3a6d0b[_0x3a6d0b[_0x27a93c(0x66a)]=0x1e]=_0x27a93c(0x66a);}(_0x1ff5c6||(_0x1ff5c6={})),function(_0x135bed){const _0x1c73f9=_0x2d5032;_0x135bed[_0x1c73f9(0x893)]=_0x1c73f9(0x9fc),_0x135bed[_0x1c73f9(0x451)]='folder-create',_0x135bed[_0x1c73f9(0x82b)]='delete',_0x135bed[_0x1c73f9(0x5ed)]=_0x1c73f9(0x87a),_0x135bed[_0x1c73f9(0x74b)]='request-file',_0x135bed[_0x1c73f9(0x832)]='request-accepted',_0x135bed[_0x1c73f9(0x246)]=_0x1c73f9(0x55f),_0x135bed[_0x1c73f9(0x2ec)]='request-file-write';}(_0x1ac54a||(_0x1ac54a={})),function(_0x243f86){const _0x2c6580=_0x2d5032;_0x243f86[_0x2c6580(0x836)]='request',_0x243f86[_0x2c6580(0x481)]=_0x2c6580(0x507);}(_0x5dd587||(_0x5dd587={})),function(_0x35867f){const _0x1cfe21=_0x2d5032;_0x35867f[_0x1cfe21(0x104)]='add',_0x35867f[_0x1cfe21(0x47f)]=_0x1cfe21(0x963),_0x35867f['Delete']='delete';}(_0x386e29||(_0x386e29={})),function(_0x237223){const _0x2a1475=_0x2d5032;_0x237223[_0x2a1475(0x819)]=_0x2a1475(0x13f),_0x237223[_0x2a1475(0x161)]='list',_0x237223[_0x2a1475(0x1b3)]=_0x2a1475(0xa27);}(_0x223122||(_0x223122={})),function(_0x3e2eb4){const _0xe8e9ad=_0x2d5032;_0x3e2eb4[_0x3e2eb4[_0xe8e9ad(0x836)]=0x0]=_0xe8e9ad(0x836),_0x3e2eb4[_0x3e2eb4['Bid']=0x1]=_0xe8e9ad(0x7e4),_0x3e2eb4[_0x3e2eb4[_0xe8e9ad(0x8b8)]=0x2]=_0xe8e9ad(0x8b8),_0x3e2eb4[_0x3e2eb4[_0xe8e9ad(0x940)]=0x3]=_0xe8e9ad(0x940),_0x3e2eb4[_0x3e2eb4[_0xe8e9ad(0x680)]=0x4]=_0xe8e9ad(0x680),_0x3e2eb4[_0x3e2eb4[_0xe8e9ad(0x262)]=0x5]=_0xe8e9ad(0x262);}(_0xe033b9||(_0xe033b9={})),function(_0x314383){const _0x2d5024=_0x2d5032;_0x314383[_0x314383[_0x2d5024(0x802)]=0x0]='PeerConnection',_0x314383[_0x314383['Node']=0x1]=_0x2d5024(0x1e0),_0x314383[_0x314383['Content']=0x2]='Content',_0x314383[_0x314383[_0x2d5024(0x431)]=0x3]=_0x2d5024(0x431),_0x314383[_0x314383[_0x2d5024(0x2d5)]=0x4]=_0x2d5024(0x2d5),_0x314383[_0x314383[_0x2d5024(0x8f3)]=0x5]=_0x2d5024(0x8f3),_0x314383[_0x314383[_0x2d5024(0x785)]=0x6]=_0x2d5024(0x785);}(_0x4bbd49||(_0x4bbd49={}));class _0x5f0ad6{[_0x2d5032(0x573)];[_0x2d5032(0x32e)];[_0x2d5032(0x83a)];constructor(_0x1ec37b,_0xeec0f2){const _0x41b9ad=_0x2d5032;this[_0x41b9ad(0x573)]=_0x1ec37b,this['label']=_0xeec0f2;}[_0x2d5032(0xa74)](){const _0x13465d=_0x2d5032;return this[_0x13465d(0x32e)];}['getOwnerId'](){const _0x3513f2=_0x2d5032;return this['owner'][_0x3513f2(0x5cd)]();}[_0x2d5032(0x7f6)](){}[_0x2d5032(0x6d6)](_0x3ce70c){const _0x1db1ff=_0x2d5032;this[_0x1db1ff(0x83a)]=_0x3ce70c;}[_0x2d5032(0x4ba)](){const _0x2c9132=_0x2d5032;delete this[_0x2c9132(0x83a)];}}const _0x4538fe=require('firebase/firestore');let _0x456c67=_0x203f3a(0x14d)['O'];function _0x4692ff(_0x167798){const _0x582c2d=_0x2d5032;return!(!_0x167798||_0x582c2d(0x97a)!=typeof _0x167798||Array[_0x582c2d(0x7e5)](_0x167798));}_0x456c67=function _0xe5f40a(_0x551bcc,..._0x5c1bbd){const _0x4c8b0a=_0x2d5032;if(!Array['isArray'](_0x5c1bbd)||0x0===_0x5c1bbd[_0x4c8b0a(0x80e)])return _0x551bcc;const _0x2fa906=_0x5c1bbd[_0x4c8b0a(0x35e)]();if(_0x4692ff(_0x551bcc)&&_0x4692ff(_0x2fa906)){for(const _0x5a27a8 in _0x2fa906)_0x4692ff(_0x2fa906[_0x5a27a8])?(_0x551bcc[_0x5a27a8]||Object[_0x4c8b0a(0x410)](_0x551bcc,{[_0x5a27a8]:{}}),_0xe5f40a(_0x551bcc[_0x5a27a8],_0x2fa906[_0x5a27a8])):Object['assign'](_0x551bcc,{[_0x5a27a8]:_0x2fa906[_0x5a27a8]});}return _0xe5f40a(_0x551bcc,..._0x5c1bbd);}(_0x456c67,_0x203f3a(0x3e6)['O']);const _0x1e75f5=_0x456c67,_0x579ddb=require('firebase/app'),_0x317ff6=require('firebase/auth'),_0x280b6d=require('firebase/database'),_0x4257bc=require('firebase/functions'),_0x1fd9e4=require('uuid'),_0x3b44a1='CREWDLE_WEB_SDK';class _0x3a67cc{static [_0x2d5032(0x237)];['app'];[_0x2d5032(0x272)];['functions'];[_0x2d5032(0x471)];[_0x2d5032(0x83f)];[_0x2d5032(0x7dd)];[_0x2d5032(0x8bb)];constructor(){const _0x48e5ba=_0x2d5032;this[_0x48e5ba(0x492)]();}static[_0x2d5032(0x181)](){const _0x2075c5=_0x2d5032;return _0x3a67cc[_0x2075c5(0x237)]||(_0x3a67cc[_0x2075c5(0x237)]=new _0x3a67cc()),_0x3a67cc[_0x2075c5(0x237)];}[_0x2d5032(0x492)](){const _0x5925f9=_0x2d5032;if(!this[_0x5925f9(0x534)]){let _0x22a057=_0x3b44a1;_0x5925f9(0x9c0)!=typeof window&&(_0x22a057=_0x3b44a1+'-'+(0x0,_0x1fd9e4['v4'])()),this[_0x5925f9(0x534)]=(0x0,_0x579ddb[_0x5925f9(0xabf)])(_0x1e75f5[_0x5925f9(0x787)],''+_0x22a057);}return this[_0x5925f9(0x534)];}[_0x2d5032(0x292)](){const _0x4e80bb=_0x2d5032;return this['auth']||(this[_0x4e80bb(0x272)]=(0x0,_0x317ff6['getAuth'])(this[_0x4e80bb(0x492)]())),this[_0x4e80bb(0x272)];}[_0x2d5032(0x3ce)](){const _0x5b3133=_0x2d5032;return this[_0x5b3133(0x259)]||(this['functions']=(0x0,_0x4257bc[_0x5b3133(0x3ce)])(this['getApp'](),_0x1e75f5['firebaseConfig']['functionsRegion'])),this['functions'];}[_0x2d5032(0x295)](){const _0x2009df=_0x2d5032;return this[_0x2009df(0x471)]||(this[_0x2009df(0x471)]=(0x0,_0x280b6d[_0x2009df(0x295)])(this[_0x2009df(0x492)]())),this['database'];}[_0x2d5032(0x2af)](){const _0x366542=_0x2d5032;return this[_0x366542(0x83f)]||(this[_0x366542(0x83f)]=(0x0,_0x4538fe[_0x366542(0x2af)])(this[_0x366542(0x492)]())),this[_0x366542(0x83f)];}async[_0x2d5032(0x117)](){const _0x4a68a6=_0x2d5032;if(this[_0x4a68a6(0x7dd)]&&this[_0x4a68a6(0x8bb)]&&Date['now']()-this[_0x4a68a6(0x8bb)]<0x493e0)return Date[_0x4a68a6(0xa45)]()+this[_0x4a68a6(0x7dd)];const _0x3d3f51=this[_0x4a68a6(0x295)](),_0x43b4c4=(0x0,_0x280b6d[_0x4a68a6(0x2b6)])(_0x3d3f51,_0x4a68a6(0x37b));return new Promise(_0x43b412=>{const _0x4cf5ba=_0x4a68a6;(0x0,_0x280b6d[_0x4cf5ba(0xaf3)])(_0x43b4c4,_0x554d54=>{const _0x255e4e=_0x4cf5ba;(0x0,_0x280b6d[_0x255e4e(0x116)])(_0x43b4c4),this[_0x255e4e(0x7dd)]=_0x554d54[_0x255e4e(0x90e)](),this[_0x255e4e(0x8bb)]=Date[_0x255e4e(0xa45)](),_0x43b412(Date['now']()+(this[_0x255e4e(0x7dd)]??0x0));});});}}const _0x2f80ec=_0x3a67cc[_0x2d5032(0x181)]();class _0x15b307{static [_0x2d5032(0x237)];[_0x2d5032(0x676)]=[_0x53d5c4['Default']];['debugEnabled']=!0x1;[_0x2d5032(0x1bf)];[_0x2d5032(0x514)]='';[_0x2d5032(0x48a)];[_0x2d5032(0xaaf)]=[];[_0x2d5032(0xa78)];[_0x2d5032(0xa16)];[_0x2d5032(0xa0f)]=0xa;[_0x2d5032(0x26e)]=0x1f4;[_0x2d5032(0x297)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x1cd82f=_0x2d5032;if(_0x1cd82f(0x9c0)!=typeof window)this[_0x1cd82f(0x48a)]=window;else{if(void 0x0===_0x203f3a['g'])throw new Error(_0x1cd82f(0xa80));this[_0x1cd82f(0x48a)]=_0x203f3a['g'];}this[_0x1cd82f(0x5bf)](),this[_0x1cd82f(0x48a)][_0x1cd82f(0x92e)]=_0xa37f6a=>{const _0x33fecd=_0x1cd82f;if(_0xa37f6a===_0x53d5c4[_0x33fecd(0x4f8)])return this[_0x33fecd(0x676)]=Object[_0x33fecd(0xa30)](_0x53d5c4)['map'](_0x1c7316=>_0x53d5c4[_0x1c7316]),void Object[_0x33fecd(0xa30)](_0x53d5c4)['forEach'](_0x1d5f3b=>{const _0x234085=_0x33fecd,_0x3072ac=_0x1d5f3b;localStorage['setItem'](_0x234085(0x244)+_0x53d5c4[_0x3072ac],_0x234085(0x84b));});this[_0x33fecd(0x676)][_0x33fecd(0x21f)](_0xa37f6a)||(this[_0x33fecd(0x676)]['push'](_0xa37f6a),localStorage[_0x33fecd(0x710)]('crewdle-sdk-logging-'+_0xa37f6a,'true'));},this[_0x1cd82f(0x48a)][_0x1cd82f(0x87c)]=_0x3dfb63=>{const _0x2f8882=_0x1cd82f;if(!_0x3dfb63||_0x3dfb63===_0x53d5c4[_0x2f8882(0x4f8)])return this[_0x2f8882(0x676)]=[],void Object['keys'](_0x53d5c4)[_0x2f8882(0x3e9)](_0x4c95be=>{const _0x243f4c=_0x2f8882,_0x4cc246=_0x4c95be;localStorage['removeItem'](_0x243f4c(0x244)+_0x53d5c4[_0x4cc246]);});this[_0x2f8882(0x676)][_0x2f8882(0x21f)](_0x3dfb63)&&(this[_0x2f8882(0x676)]=this['enabledChannels']['filter'](_0x4ee2a6=>_0x4ee2a6!==_0x3dfb63),localStorage[_0x2f8882(0x8fb)](_0x2f8882(0x244)+_0x3dfb63));},this[_0x1cd82f(0x48a)][_0x1cd82f(0x9c5)]=_0x53d5c4;}static[_0x2d5032(0x181)](){const _0x5b7b75=_0x2d5032;try{return _0x15b307[_0x5b7b75(0x237)]||(_0x15b307[_0x5b7b75(0x237)]=new _0x15b307()),_0x15b307[_0x5b7b75(0x237)];}catch(_0x2246c8){return console[_0x5b7b75(0x275)](_0x5b7b75(0x765),_0x2246c8),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}['setVendorId'](_0x4e759c){const _0x31c9c7=_0x2d5032;this[_0x31c9c7(0x514)]=_0x4e759c,this[_0x31c9c7(0xaaf)]=[],this[_0x31c9c7(0xa78)]=this['createNewBatch'](),this['batchTimeout']&&(clearTimeout(this['batchTimeout']),this['batchTimeout']=void 0x0);}['setLoggingConnectors'](_0x10a60a){this['loggingConnectors']=_0x10a60a;}['debug'](_0x5b2259,..._0x33e078){const _0x17b60c=_0x2d5032;this[_0x17b60c(0xaec)]&&this[_0x17b60c(0x107)](_0x53d5c4[_0x17b60c(0x921)],'DEBUG\x20-\x20'+_0x5b2259,..._0x33e078);}[_0x2d5032(0x58d)](_0x565dd4,..._0x5a3ac4){const _0xf40818=_0x2d5032;console[_0xf40818(0x107)](_0x565dd4,..._0x5a3ac4),this['loggingConnectors']&&this[_0xf40818(0x1bf)][_0xf40818(0x3e9)](_0x569ca3=>{const _0x23ab79=_0xf40818;_0x569ca3['log'](_0x565dd4,{'vendorId':this[_0x23ab79(0x514)],'nodeId':'','nodeType':'','data':{..._0x5a3ac4}});});}[_0x2d5032(0x107)](_0x22a9af,_0x48b236,..._0x4b4e4c){const _0x405f7f=_0x2d5032;_0x1e75f5[_0x405f7f(0x2dc)]||(this[_0x405f7f(0x676)][_0x405f7f(0x21f)](_0x22a9af)&&console['log'](_0x405f7f(0x5ea)+_0x22a9af+'\x27\x0a',new Date()+'\x0a',_0x48b236,..._0x4b4e4c),this[_0x405f7f(0x1bf)]&&this[_0x405f7f(0x1bf)][_0x405f7f(0x3e9)](_0x52c758=>{const _0x4896a1=_0x405f7f;this['isInternalLoggingConnector'](_0x52c758)&&_0x52c758[_0x4896a1(0x389)]()[_0x4896a1(0x21f)](_0x22a9af)&&_0x52c758[_0x4896a1(0x107)](_0x48b236,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x22a9af,..._0x4b4e4c}});}));}[_0x2d5032(0x91a)](_0x7f3424,_0x3aea09,..._0x1b7890){const _0x24b579=_0x2d5032;_0x1e75f5[_0x24b579(0x2dc)]||(this['enabledChannels'][_0x24b579(0x21f)](_0x7f3424)&&console[_0x24b579(0x107)](_0x3aea09,..._0x1b7890),this[_0x24b579(0x1bf)]&&this[_0x24b579(0x1bf)][_0x24b579(0x3e9)](_0x2b9393=>{const _0x2a5b8d=_0x24b579;this[_0x2a5b8d(0x7a6)](_0x2b9393)&&_0x2b9393[_0x2a5b8d(0x389)]()[_0x2a5b8d(0x21f)](_0x7f3424)&&_0x2b9393[_0x2a5b8d(0x107)](_0x3aea09,{'vendorId':this[_0x2a5b8d(0x514)],'nodeId':'','nodeType':'','data':{'channel':_0x7f3424,..._0x1b7890}});}));}['logEvent'](_0x25014f,_0x2f87fc){const _0x4bd4f0=_0x2d5032;if(!this[_0x4bd4f0(0x1bf)])return;const _0x270df1={'vendorId':this[_0x4bd4f0(0x514)],..._0x2f87fc};this[_0x4bd4f0(0x1bf)][_0x4bd4f0(0x3e9)](_0x419ad2=>{const _0x4f500e=_0x4bd4f0;_0x419ad2[_0x4f500e(0x107)](_0x25014f,_0x270df1);});}[_0x2d5032(0x8d9)](_0xb369cc,_0x164559){const _0x24d292=_0x2d5032;this[_0x24d292(0xad2)](_0xb369cc,_0x164559),this[_0x24d292(0x45f)]();}['logStorage'](_0x1ac929,_0x519d70,_0xa7e060){const _0x39d521=_0x2d5032;(0x0,_0x4538fe[_0x39d521(0x328)])((0x0,_0x4538fe[_0x39d521(0x96f)])(_0x2f80ec[_0x39d521(0x2af)](),_0x39d521(0x7db)+this['vendorId']+'/'+_0x1ac929+'/'+_0x519d70),{'storage':_0xa7e060,'timestamp':(0x0,_0x4538fe[_0x39d521(0x30c)])()});}[_0x2d5032(0x45f)](){const _0x1fe060=_0x2d5032;this[_0x1fe060(0xa78)]&&(this[_0x1fe060(0xa78)]['counter']+=0x1,this[_0x1fe060(0xa78)][_0x1fe060(0x744)]===this[_0x1fe060(0x297)]?this[_0x1fe060(0x83b)]():this['batchTimeout']||(this[_0x1fe060(0xa16)]=this[_0x1fe060(0x48a)][_0x1fe060(0x362)](()=>this[_0x1fe060(0x83b)](),this['timeoutValue'])));}async[_0x2d5032(0x83b)](){const _0x1b193b=_0x2d5032;if(this['currentBatch']){for(this[_0x1b193b(0xaaf)]['push'](this['currentBatch']),this[_0x1b193b(0xa78)]=this[_0x1b193b(0x1e1)]();this['batchQueue'][_0x1b193b(0x80e)]>0x0;){const _0x3b0418=this[_0x1b193b(0xaaf)][_0x1b193b(0x35e)]();if(!await this[_0x1b193b(0x9b4)](_0x3b0418))break;}clearTimeout(this[_0x1b193b(0xa16)]),this[_0x1b193b(0xa16)]=void 0x0;}}[_0x2d5032(0x275)](_0x11e57d,_0xb51f8c,..._0x187c3e){const _0x4c81cc=_0x2d5032;if(console[_0x4c81cc(0x275)](new Date(),_0x11e57d,_0xb51f8c,..._0x187c3e),this[_0x4c81cc(0x1bf)]){const _0x5dc47b={'vendorId':this[_0x4c81cc(0x514)],..._0xb51f8c};this['loggingConnectors'][_0x4c81cc(0x3e9)](_0x12ef2b=>{const _0x2687f5=_0x4c81cc;_0x12ef2b[_0x2687f5(0x275)](_0x11e57d,_0x5dc47b);});}}['warning'](_0x125fca,_0x267c8e,..._0xfc416c){const _0x3a3e9c=_0x2d5032;if(console['warn'](new Date(),_0x125fca,_0x267c8e,_0xfc416c),this[_0x3a3e9c(0x1bf)]){const _0x220c54={'vendorId':this[_0x3a3e9c(0x514)],..._0x267c8e};this[_0x3a3e9c(0x1bf)][_0x3a3e9c(0x3e9)](_0x1edbcd=>{_0x1edbcd['warn'](_0x125fca,_0x220c54);});}}[_0x2d5032(0x6e8)](_0x507276){const _0xfa3da4=_0x2d5032;return this[_0xfa3da4(0x676)][_0xfa3da4(0x21f)](_0x507276);}async[_0x2d5032(0x9b4)](_0x52d86d,_0x2fb379=0x0){const _0x3434ed=_0x2d5032;if(_0x52d86d[_0x3434ed(0x744)]>0x0)try{return await _0x52d86d[_0x3434ed(0x574)]['commit'](),!0x0;}catch(_0x10c674){if(console[_0x3434ed(0x275)](_0x3434ed(0x555),_0x10c674,_0x3434ed(0x675),_0x52d86d['operations']),!(_0x2fb379<this[_0x3434ed(0xa0f)])){const {nodeId:_0x3d3b5e='',nodeType:_0x4071ea='',clusterId:_0x10e99f=''}=_0x52d86d[_0x3434ed(0x4e3)][0x0]['data'],_0x49a4fb={'nodeId':_0x3d3b5e,'nodeType':_0x4071ea,'clusterId':_0x10e99f,'data':{'operations':_0x52d86d[_0x3434ed(0x4e3)],'error':_0x10c674}};return this['error'](_0x3434ed(0x4ad),_0x49a4fb),!0x1;}{const _0x553ccc=this[_0x3434ed(0x11c)](_0x52d86d[_0x3434ed(0x4e3)]);setTimeout(()=>this[_0x3434ed(0x9b4)](_0x553ccc,_0x2fb379+0x1),this['retryDelay']*Math[_0x3434ed(0x21c)](0x2,_0x2fb379));}}}['loadEnabledChannels'](){const _0x3185c0=_0x2d5032;try{Object['keys'](_0x53d5c4)[_0x3185c0(0x3e9)](_0xb25a72=>{const _0xc71125=_0x3185c0,_0x5a9be4=_0xb25a72;localStorage[_0xc71125(0x5a9)](_0xc71125(0x244)+_0x53d5c4[_0x5a9be4])&&(console[_0xc71125(0x107)](_0xc71125(0xab7),_0x53d5c4[_0x5a9be4]),this[_0xc71125(0x676)][_0xc71125(0x806)](_0x53d5c4[_0x5a9be4]));});}catch(_0xac6e01){}}[_0x2d5032(0x7a6)](_0x136c6c){const _0xb83f7a=_0x2d5032;return void 0x0!==_0x136c6c[_0xb83f7a(0x389)];}[_0x2d5032(0x1e1)](){const _0x493d7f=_0x2d5032;return{'batch':(0x0,_0x4538fe['writeBatch'])(_0x2f80ec[_0x493d7f(0x2af)]()),'operations':[],'counter':0x0};}[_0x2d5032(0x11c)](_0x586970){const _0x47cd22=_0x2d5032,_0x738212=(0x0,_0x4538fe[_0x47cd22(0x853)])(_0x2f80ec[_0x47cd22(0x2af)]());return _0x586970[_0x47cd22(0x3e9)](_0x3bbb94=>this[_0x47cd22(0x9e0)](_0x738212,_0x3bbb94)),{'batch':_0x738212,'operations':_0x586970,'counter':_0x586970['length']};}[_0x2d5032(0x9e0)](_0x2b1cb0,_0x35e163){const _0x26a632=_0x2d5032;switch(_0x35e163[_0x26a632(0xa7e)]){case _0x26a632(0x687):_0x2b1cb0[_0x26a632(0x687)](_0x35e163['ref'],_0x35e163[_0x26a632(0x906)]);break;case _0x26a632(0x963):_0x2b1cb0[_0x26a632(0x963)](_0x35e163['ref'],_0x35e163[_0x26a632(0x906)]);break;case _0x26a632(0x113):_0x2b1cb0[_0x26a632(0x113)](_0x35e163[_0x26a632(0x2b6)]);}}[_0x2d5032(0xad2)](_0x34e285,_0x101e10){const _0x54484a=_0x2d5032;this[_0x54484a(0xa78)]||(this[_0x54484a(0xa78)]=this[_0x54484a(0x1e1)]());const _0x1f5530=(0x0,_0x4538fe['doc'])((0x0,_0x4538fe[_0x54484a(0x1b1)])(_0x2f80ec[_0x54484a(0x2af)](),'developers/'+this[_0x54484a(0x514)]+_0x54484a(0x890))),_0x4db19f={..._0x101e10,'service':_0x34e285,'timestamp':(0x0,_0x4538fe['serverTimestamp'])()},_0xc26981={'type':'set','path':_0x1f5530[_0x54484a(0x9fd)],'ref':_0x1f5530,'data':_0x4db19f};return this['currentBatch']['operations'][_0x54484a(0x806)](_0xc26981),this[_0x54484a(0x9e0)](this[_0x54484a(0xa78)][_0x54484a(0x574)],_0xc26981),_0x1f5530;}}const _0x27f628=_0x15b307[_0x2d5032(0x181)]();function _0x573cd5(_0x3e8f5f,_0x32ee12){return'/'===_0x3e8f5f?_0x3e8f5f+_0x32ee12:_0x3e8f5f+'/'+_0x32ee12;}function _0xc73ed9(_0x8a2645){const _0x5742b7=_0x2d5032,_0x4d6273=function(_0x3aeb57){const _0x3178ad=a0_0x11f8;return _0x3aeb57['split']('/')[_0x3178ad(0xa9f)](_0x375aa3=>_0x375aa3[_0x3178ad(0x80e)]>0x0);}(_0x8a2645),_0x584da6=_0x4d6273[_0x5742b7(0x379)]()||'',_0x2cc6e3=_0x4d6273[_0x5742b7(0xa9a)]('/');return[0x0===_0x2cc6e3[_0x5742b7(0x80e)]?'/':_0x2cc6e3,_0x584da6];}async function _0x3e5057(_0x35c960){const _0x27f426=_0x2d5032;let _0x40cf87;const _0x2df5f7=_0x35c960[_0x27f426(0x279)]/0x100000;_0x40cf87=_0x2df5f7<=0xa?0x1:_0x2df5f7<=0x64?0.5:_0x2df5f7<=0x1f4?0.1:0.05;const _0x2a1c1f=Math[_0x27f426(0x81d)](_0x35c960[_0x27f426(0x279)]/_0x488685),_0x1ac875=Math[_0x27f426(0x81d)](_0x2a1c1f*_0x40cf87);let _0x557a04=new Uint8Array();for(let _0x1bfaa8=0x0;_0x1bfaa8<_0x1ac875;_0x1bfaa8++){const _0x27edb4=Math[_0x27f426(0x176)](_0x1bfaa8/_0x1ac875*_0x35c960[_0x27f426(0x279)]);let _0x5a9ad9=_0x27edb4+_0x488685;_0x5a9ad9>_0x35c960[_0x27f426(0x279)]&&(_0x5a9ad9=_0x35c960['size']);const _0x1cfb0e=_0x35c960[_0x27f426(0xa3e)](_0x27edb4,_0x5a9ad9),_0x6c3d69=await _0x1cfb0e['arrayBuffer'](),_0x2ff2d2=new Uint8Array([..._0x557a04,...new Uint8Array(_0x6c3d69)]);_0x557a04=new Uint8Array(await crypto[_0x27f426(0x6c5)]['digest'](_0x27f426(0x238),_0x2ff2d2));}return Array[_0x27f426(0x8ee)](new Uint8Array(_0x557a04))[_0x27f426(0x247)](_0x4a0b06=>_0x4a0b06['toString'](0x10)['padStart'](0x2,'0'))[_0x27f426(0xa9a)]('');}async function*_0x3983b3(_0x4a557e,_0x3e45f4=0x0,_0x27748d){const _0x4d4ec3=_0x2d5032;let _0x4fdcb4=_0x3e45f4*_0x310ee6,_0xb0b48e=_0x4a557e;for(;_0x4fdcb4<_0xb0b48e['size'];){let _0x22a660=_0x4fdcb4+_0x310ee6;_0x22a660>_0xb0b48e[_0x4d4ec3(0x279)]&&(_0x22a660=_0xb0b48e[_0x4d4ec3(0x279)]);let _0x49ac29=0x0;for(;_0x49ac29<0x14;)try{await _0x27748d?.();const _0x5bc4f7=_0xb0b48e[_0x4d4ec3(0xa3e)](_0x4fdcb4,_0x22a660,_0x4d4ec3(0xaa6)),_0x24b5f4=await _0x5bc4f7[_0x4d4ec3(0xaa1)]();yield _0x24b5f4,_0x4fdcb4=_0x22a660,await new Promise(_0x20305b=>setTimeout(_0x20305b,0x0));break;}catch(_0x382792){if(console['error'](_0x4d4ec3(0x124)+(_0x49ac29+0x1)+_0x4d4ec3(0x9ff),_0x382792),_0x49ac29++,_0x49ac29>0x14)throw _0x382792;let _0x6e8242=0x3e8*Math[_0x4d4ec3(0x21c)](0x2,_0x49ac29);_0x6e8242>0x7530&&(_0x6e8242=0x7530),await new Promise(_0x2243e4=>setTimeout(_0x2243e4,_0x6e8242));}}}class _0x1d8a54 extends _0x5f0ad6{[_0x2d5032(0x9cc)];['incomingTopic'];['fileChunks']=new Map();[_0x2d5032(0x658)]=0x0;[_0x2d5032(0x5be)]=0x0;['bytesSent']=0x0;[_0x2d5032(0x8a4)]=0x0;constructor(_0x45529a,_0x3ac743){super(_0x45529a,_0x3ac743);}[_0x2d5032(0xa74)](){const _0x42ee79=_0x2d5032;return this[_0x42ee79(0x32e)];}[_0x2d5032(0x67b)](){const _0x4a3ebc=_0x2d5032;return this[_0x4a3ebc(0x32e)];}[_0x2d5032(0x98e)](){const _0x3a0458=_0x2d5032;return _0x1a575a[_0x3a0458(0x979)]['Data'];}[_0x2d5032(0x9e4)](){const _0x418908=_0x2d5032;return this[_0x418908(0x32e)];}['registerPublisher'](_0x3b862c){const _0x44bbb0=_0x2d5032;if(this[_0x44bbb0(0x9cc)])throw new _0x54e1a8(_0x54e1a8[_0x44bbb0(0x318)]['InvalidPublisher'],{'message':_0x44bbb0(0x628)+this['owner'][_0x44bbb0(0x5cd)]()+_0x44bbb0(0x620)+this[_0x44bbb0(0x32e)],'topic':this[_0x44bbb0(0x9cc)]});this[_0x44bbb0(0x9cc)]=_0x3b862c;}[_0x2d5032(0x2e5)](_0x48ba12){const _0x1fc429=_0x2d5032;if(this[_0x1fc429(0x40a)])throw new _0x54e1a8(_0x54e1a8[_0x1fc429(0x318)][_0x1fc429(0x6a9)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x1fc429(0x573)][_0x1fc429(0x5cd)]()+_0x1fc429(0x620)+this[_0x1fc429(0x32e)],'topic':this[_0x1fc429(0x40a)]});this[_0x1fc429(0x40a)]=_0x48ba12;}[_0x2d5032(0xa8c)](){const _0x2d4a0d=_0x2d5032;delete this[_0x2d4a0d(0x9cc)];}[_0x2d5032(0x8da)](){delete this['incomingTopic'];}async[_0x2d5032(0x309)](_0x31b95d,_0x501798){const _0x3ceb0c=_0x2d5032;if(_0x27f628[_0x3ceb0c(0x107)](_0x53d5c4['DataStream'],_0x3ceb0c(0x600),this[_0x3ceb0c(0x573)][_0x3ceb0c(0x5cd)](),_0x31b95d,_0x501798),this[_0x3ceb0c(0x658)]+=0x1,_0x31b95d instanceof File){const _0x4aa8a6=await async function(_0x30eb8b){const _0x202c80=_0x3ceb0c,_0x158a3d=[];for await(const _0x401484 of _0x3983b3(_0x30eb8b))_0x158a3d[_0x202c80(0x806)](_0x401484);return _0x158a3d;}(_0x31b95d);return this['bytesSent']+=_0x4aa8a6[_0x3ceb0c(0xa77)]((_0x3a65a2,_0x6504d8)=>_0x3a65a2+_0x6504d8[_0x3ceb0c(0x31c)],0x0),void _0x4aa8a6[_0x3ceb0c(0x3e9)]((_0x16f351,_0x5ebbf6)=>{const _0x45a08c=_0x3ceb0c;this[_0x45a08c(0x9cc)][_0x45a08c(0x849)]({'sourceId':this[_0x45a08c(0x573)][_0x45a08c(0x5cd)](),'destinationIds':_0x501798,'propagate':!0x0,'contentType':_0x1a575a['ContentType']['File'],'content':{'name':_0x31b95d[_0x45a08c(0x928)],'type':_0x31b95d[_0x45a08c(0xa7e)],'data':_0x16f351,'index':_0x5ebbf6,'total':_0x4aa8a6[_0x45a08c(0x80e)]}});});}this[_0x3ceb0c(0x9ab)]+=JSON['stringify'](_0x31b95d)['length'],this[_0x3ceb0c(0x9cc)]['publish']({'sourceId':this['owner'][_0x3ceb0c(0x5cd)](),'destinationIds':_0x501798,'propagate':!0x0,'contentType':_0x1a575a[_0x3ceb0c(0x979)][_0x3ceb0c(0x7e1)],'content':_0x31b95d});}[_0x2d5032(0x63f)](_0x372d2b){const _0x4a898f=_0x2d5032;return this[_0x4a898f(0x40a)][_0x4a898f(0x75b)](_0x2caae1=>{const _0x170b15=_0x4a898f;switch(_0x27f628[_0x170b15(0x107)](_0x53d5c4[_0x170b15(0x99a)],_0x170b15(0x9a8),this[_0x170b15(0x573)][_0x170b15(0x5cd)](),_0x2caae1),_0x2caae1[_0x170b15(0x255)]){case _0x1a575a[_0x170b15(0x979)][_0x170b15(0x7e1)]:this[_0x170b15(0x5be)]+=0x1,this[_0x170b15(0x8a4)]+=JSON[_0x170b15(0x8b2)](_0x2caae1['content'])[_0x170b15(0x80e)],_0x372d2b(_0x2caae1[_0x170b15(0x576)],_0x2caae1[_0x170b15(0x3ab)]);break;case _0x1a575a[_0x170b15(0x979)][_0x170b15(0x19b)]:this['fileChunks'][_0x170b15(0x290)](_0x2caae1[_0x170b15(0x3ab)][_0x170b15(0x928)])||this[_0x170b15(0x7e8)][_0x170b15(0x687)](_0x2caae1['content'][_0x170b15(0x928)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x60f4d2=this[_0x170b15(0x7e8)][_0x170b15(0x13f)](_0x2caae1[_0x170b15(0x3ab)]['name']);if(_0x60f4d2[_0x170b15(0x351)]+=0x1,_0x60f4d2['bytesReceived']+=_0x2caae1[_0x170b15(0x3ab)][_0x170b15(0x906)]['byteLength'],_0x60f4d2[_0x170b15(0x3ab)]&&(_0x60f4d2[_0x170b15(0x3ab)][_0x2caae1[_0x170b15(0x3ab)][_0x170b15(0x2a7)]]=_0x2caae1[_0x170b15(0x3ab)]['data']),this[_0x170b15(0x7e8)][_0x170b15(0x687)](_0x2caae1[_0x170b15(0x3ab)][_0x170b15(0x928)],_0x60f4d2),_0x60f4d2['chunksReceived']+0x1<_0x2caae1[_0x170b15(0x3ab)][_0x170b15(0x4eb)])return;this[_0x170b15(0x5be)]+=0x1,this[_0x170b15(0x8a4)]+=_0x60f4d2[_0x170b15(0x8a4)],_0x60f4d2[_0x170b15(0x3ab)]&&_0x372d2b(_0x2caae1[_0x170b15(0x576)],(_0x14794f=_0x60f4d2[_0x170b15(0x3ab)],_0x156dc0=_0x2caae1[_0x170b15(0x3ab)][_0x170b15(0x928)],_0x4c975=_0x2caae1[_0x170b15(0x3ab)]['type'],new File(_0x14794f,_0x156dc0,{'type':_0x4c975}))),this[_0x170b15(0x7e8)][_0x170b15(0x113)](_0x2caae1[_0x170b15(0x3ab)][_0x170b15(0x928)]);}var _0x14794f,_0x156dc0,_0x4c975;});}}function _0x2d1ffa(){const _0x4be32c=_0x2d5032;let _0x4b4e3d=[];return{'subscribe':_0x586833=>(_0x4b4e3d[_0x4be32c(0x806)](_0x586833),()=>{const _0x457c56=_0x4be32c;_0x4b4e3d=_0x4b4e3d[_0x457c56(0xa9f)](_0x26a3e4=>_0x26a3e4!==_0x586833);}),'publish':_0x18585d=>{const _0xf475e1=_0x4be32c;_0x4b4e3d[_0xf475e1(0x3e9)](_0x40f652=>_0x40f652(_0x18585d));}};}function _0x19bdf7(){let _0x5bb634;return{'subscribe':_0x456033=>(_0x5bb634=_0x456033,()=>{_0x5bb634=void 0x0;}),'publish':_0x158f41=>{_0x5bb634&&_0x5bb634(_0x158f41);}};}class _0x3b97b{[_0x2d5032(0x6f4)];[_0x2d5032(0x2ca)];['tableObserver'];[_0x2d5032(0x978)]=_0x19bdf7();[_0x2d5032(0x638)];constructor(_0x235806,_0x47dc34,_0x2cae49){const _0x4ce745=_0x2d5032;this[_0x4ce745(0x6f4)]=_0x235806,this['tableName']=_0x47dc34,this[_0x4ce745(0x504)]=_0x2cae49;}['destroy'](){this['listenerUnsubscriber']?.();}async[_0x2d5032(0x13f)](_0x4bd951){const _0x474f67=_0x2d5032,_0x4c2be1={'key':_0x4bd951,'tableName':this[_0x474f67(0x2ca)],'action':_0x223122[_0x474f67(0x819)]};return this[_0x474f67(0x504)]['publish'](_0x4c2be1),this[_0x474f67(0x6f4)][_0x474f67(0x13f)](_0x4bd951);}async[_0x2d5032(0x687)](_0x1b9dc4,_0x4c7616,_0x5be9ca=!0x0){const _0x458b78=_0x2d5032;this[_0x458b78(0x4db)](_0x4c7616);const _0x365ecc=await this[_0x458b78(0x6f4)][_0x458b78(0x13f)](_0x1b9dc4),_0xce5d92=await this[_0x458b78(0x6f4)][_0x458b78(0x687)](_0x1b9dc4,_0x4c7616),_0x3c6a93=_0x365ecc?_0x386e29[_0x458b78(0x47f)]:_0x386e29['Add'];if(this[_0x458b78(0x849)](_0x3c6a93,_0xce5d92),!_0x5be9ca)return _0xce5d92;const _0x5538cd={'key':_0x1b9dc4,'tableName':this[_0x458b78(0x2ca)],'action':_0x3c6a93,'value':_0xce5d92};return this[_0x458b78(0x504)][_0x458b78(0x849)](_0x5538cd),_0xce5d92;}async[_0x2d5032(0x5e6)](_0x2f01fc){const _0x281f08=_0x2d5032;this[_0x281f08(0x4db)](_0x2f01fc);const _0x408cb9=await this[_0x281f08(0x6f4)][_0x281f08(0x5e6)](_0x2f01fc),_0x2d4dfd={'key':_0x408cb9['id'],'tableName':this['tableName'],'action':_0x386e29[_0x281f08(0x104)],'value':_0x408cb9};return this[_0x281f08(0x504)]['publish'](_0x2d4dfd),this['publish'](_0x2d4dfd[_0x281f08(0x736)],_0x408cb9),_0x408cb9;}async[_0x2d5032(0x113)](_0x2737d5,_0x344752=!0x0){const _0x1c23fb=_0x2d5032,_0xa55b1f=await this['connector'][_0x1c23fb(0x13f)](_0x2737d5);if(!_0xa55b1f)return;await this[_0x1c23fb(0x6f4)]['delete'](_0x2737d5);const _0x52476a=_0x386e29[_0x1c23fb(0x82b)];if(this[_0x1c23fb(0x849)](_0x52476a,_0xa55b1f),!_0x344752)return;const _0x1f941a={'key':_0x2737d5,'tableName':this[_0x1c23fb(0x2ca)],'action':_0x52476a,'value':_0xa55b1f};this[_0x1c23fb(0x504)]['publish'](_0x1f941a);}async[_0x2d5032(0x24b)](){const _0xd53c00=_0x2d5032,_0x4b8abe=await this['list']();for(const _0x324b1e of _0x4b8abe){const _0x5b0620=_0x386e29['Delete'];this['publish'](_0x5b0620,_0x324b1e);const _0x2b4654={'key':_0x324b1e['id'],'tableName':this[_0xd53c00(0x2ca)],'action':_0x5b0620,'value':_0x324b1e};this[_0xd53c00(0x504)][_0xd53c00(0x849)](_0x2b4654);}return this['connector'][_0xd53c00(0x24b)]();}async[_0x2d5032(0x6bb)](_0x56de10){const _0x1e748d=_0x2d5032,_0x43d626={'key':'','tableName':this[_0x1e748d(0x2ca)],'action':_0x223122[_0x1e748d(0x161)]};this['tableObserver'][_0x1e748d(0x849)](_0x43d626);try{_0x56de10&&(_0x56de10=_0x56de10 instanceof _0x13a18c?_0x56de10[_0x1e748d(0x3ba)]():_0x13a18c[_0x1e748d(0x949)](_0x56de10)[_0x1e748d(0x3ba)]());}catch(_0x4bb76c){throw new _0x10fc18(_0x10a5c8[_0x1e748d(0x693)],_0x1e748d(0x474));}try{return await this[_0x1e748d(0x6f4)][_0x1e748d(0x6bb)](_0x56de10);}catch(_0x2efb40){let _0x4c5cf1=_0x1e748d(0x474);throw _0x2efb40 instanceof Error&&(_0x4c5cf1=_0x2efb40[_0x1e748d(0x249)]),new _0x10fc18(_0x10a5c8[_0x1e748d(0x693)],_0x4c5cf1);}}async[_0x2d5032(0xa27)](_0x3a0320){const _0x2e40e6=_0x2d5032,_0x78ce19={'key':'','tableName':this[_0x2e40e6(0x2ca)],'action':_0x223122['Count']};this['tableObserver']['publish'](_0x78ce19);try{_0x3a0320&&(_0x3a0320=_0x3a0320 instanceof _0x13a18c?_0x3a0320['getQuery']():_0x13a18c['buildQuery'](_0x3a0320)[_0x2e40e6(0x3ba)]());}catch(_0x1a6e83){throw new _0x10fc18(_0x10a5c8[_0x2e40e6(0x693)],_0x2e40e6(0x474));}try{return await this[_0x2e40e6(0x6f4)]['count'](_0x3a0320);}catch(_0x3cd71e){let _0x41a5b6=_0x2e40e6(0x474);throw _0x3cd71e instanceof Error&&(_0x41a5b6=_0x3cd71e[_0x2e40e6(0x249)]),new _0x10fc18(_0x10a5c8[_0x2e40e6(0x693)],_0x41a5b6);}}[_0x2d5032(0x25f)](){const _0x50cfce=_0x2d5032;return this[_0x50cfce(0x6f4)][_0x50cfce(0x25f)]();}[_0x2d5032(0x75b)](_0x1205e9){const _0x18989d=_0x2d5032;this['listenerUnsubscriber']=this[_0x18989d(0x978)][_0x18989d(0x75b)](_0x1205e9);}[_0x2d5032(0x3c5)](){const _0x5deb11=_0x2d5032;this[_0x5deb11(0x638)]?.();}[_0x2d5032(0x849)](_0x34e7c7,_0x7fcdd1){const _0x1e0100=_0x2d5032,_0x5576d1=this['buildTableEvent'](_0x34e7c7,_0x7fcdd1);this[_0x1e0100(0x978)]['publish'](_0x5576d1);}[_0x2d5032(0xa65)](_0x1731f3,_0x41583f){const _0xbcffea=_0x2d5032;let _0x2a502d;switch(_0x1731f3){case _0x386e29[_0xbcffea(0x104)]:_0x2a502d=_0xbcffea(0x5e6);break;case _0x386e29[_0xbcffea(0x47f)]:_0x2a502d=_0xbcffea(0x963);break;case _0x386e29[_0xbcffea(0x82b)]:_0x2a502d=_0xbcffea(0x113);}return{'action':_0x2a502d,'value':_0x41583f};}[_0x2d5032(0x4db)](_0x6b0954){const _0x169e92=_0x2d5032;if(_0x169e92(0x97a)!=typeof _0x6b0954||null===_0x6b0954)throw new _0x10fc18(_0x10a5c8[_0x169e92(0x230)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x5502cb in _0x6b0954){const _0x16c469=_0x6b0954[_0x5502cb];if(_0x169e92(0x97a)!=typeof _0x16c469||_0x16c469 instanceof Date){if(![_0x169e92(0x823),'number',_0x169e92(0x20b)][_0x169e92(0x21f)](typeof _0x16c469))throw new _0x10fc18(_0x10a5c8['KeyValueDatabaseInvalidValue'],_0x169e92(0xa29)+_0x5502cb+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x169e92(0x4db)](_0x16c469);}}}class _0x4cbf1e{[_0x2d5032(0xa1a)]=[];[_0x2d5032(0x99e)]=0x0;['transactionQueue']=[];[_0x2d5032(0x1e8)]=!0x1;[_0x2d5032(0x1ee)]=null;[_0x2d5032(0x196)]=null;[_0x2d5032(0x5c4)];['readyResolve']=null;[_0x2d5032(0xa2e)]=[];[_0x2d5032(0xa43)];[_0x2d5032(0x80d)]=Promise['resolve']();[_0x2d5032(0x950)]=0x0;constructor(){}get[_0x2d5032(0x218)](){const _0x234c2b=_0x2d5032;return this[_0x234c2b(0x80d)];}async['appendTransaction'](_0x1c30c6,_0x419972=0x0){const _0x30f146=_0x2d5032;this[_0x30f146(0xa37)]||(this[_0x30f146(0x80d)]=new Promise(_0x5aa1cc=>{const _0x5ba604=_0x30f146;this[_0x5ba604(0xa37)]=_0x5aa1cc;}),this[_0x30f146(0x950)]=_0x419972);const _0x4e33f0=Date['now']();if(this[_0x30f146(0x1e8)])return void this['transactionQueue'][_0x30f146(0x806)](_0x1c30c6);this[_0x30f146(0x1e8)]=!0x0;let _0x4c34c9={'hash':await this['hashTransaction'](_0x1c30c6),'height':0x0};const _0x2fe8d6=this['combinePeaks'](_0x4c34c9);this['readyPromises']['push'](_0x2fe8d6),await _0x2fe8d6,this[_0x30f146(0x99e)]+=0x1;const _0x344dd6=this['transactionQueue'][_0x30f146(0x80e)];for(;this[_0x30f146(0x322)][_0x30f146(0x80e)]>0x0;){const _0x561490=this[_0x30f146(0x322)][_0x30f146(0x35e)]();await this[_0x30f146(0xac9)](_0x561490);}this[_0x30f146(0x37d)](),await this['ready'],this[_0x30f146(0x49a)](_0x4e33f0,_0x344dd6);}async[_0x2d5032(0x946)](){const _0x52f884=_0x2d5032;return await this[_0x52f884(0x80d)],this['isComputingMMR']?(this['rootComputationPromise']||(this[_0x52f884(0x196)]=this[_0x52f884(0x7c3)]()),await this['rootComputationPromise']):this[_0x52f884(0x1ee)];}[_0x2d5032(0x2ae)](){const _0x523137=_0x2d5032;return this[_0x523137(0xa1a)]['map'](({hash:_0x3a39db,height:_0x32b710})=>({'hash':_0x3a39db,'height':_0x32b710}));}[_0x2d5032(0x6e9)](){return this['totalNodes'];}['getPeakNode'](_0x4240cf){const _0xab12c2=_0x2d5032;return this[_0xab12c2(0xa1a)]['find'](_0x43e50e=>_0x43e50e[_0xab12c2(0x7e9)]===_0x4240cf);}async[_0x2d5032(0x5a5)](_0x245892,_0x1f1a45){return await this['computeHash'](_0x245892+_0x1f1a45);}async[_0x2d5032(0x36e)](_0x41d5d0){const _0x2a331e=_0x2d5032;return await this['computeHash'](JSON[_0x2a331e(0x8b2)](_0x41d5d0));}[_0x2d5032(0x91c)](_0x32636a){const _0x549c71=_0x2d5032,_0x5c5671=this[_0x549c71(0x2ae)](),_0x44af47=[],_0xf0e8e9=[],_0x33483a=[];for(const _0x503544 of _0x5c5671){const _0x5af553=_0x32636a[_0x549c71(0x91b)](_0x29db57=>_0x29db57[_0x549c71(0x7e9)]===_0x503544['height']);_0x5af553?_0x503544['hash']!==_0x5af553[_0x549c71(0x88c)]&&_0x44af47[_0x549c71(0x806)]({'height':_0x503544[_0x549c71(0x7e9)],'localPeak':_0x503544,'remotePeak':_0x5af553}):_0xf0e8e9[_0x549c71(0x806)](_0x503544);}for(const _0x3e865a of _0x32636a)_0x5c5671[_0x549c71(0x91b)](_0x5f0a46=>_0x5f0a46['height']===_0x3e865a[_0x549c71(0x7e9)])||_0x33483a[_0x549c71(0x806)](_0x3e865a);return{'differingPeaks':_0x44af47,'peaksMissingInRemote':_0xf0e8e9,'peaksMissingInLocal':_0x33483a};}async[_0x2d5032(0x7c3)](){const _0x35f62b=_0x2d5032;this['isComputingMMR']=!0x0;const _0x59f414=this[_0x35f62b(0xa1a)][_0x35f62b(0x247)](_0x549f6c=>_0x549f6c[_0x35f62b(0x88c)]);return this[_0x35f62b(0x1ee)]=await this[_0x35f62b(0xab5)](_0x59f414),this[_0x35f62b(0x1e8)]=!0x1,this[_0x35f62b(0x196)]=null,this[_0x35f62b(0x37d)](),this[_0x35f62b(0x1ee)];}async[_0x2d5032(0xabc)](_0x345097){const _0x5dbbd3=_0x2d5032;try{const _0x3b004a=new TextEncoder()[_0x5dbbd3(0x3fd)](_0x345097),_0x36230d=await crypto[_0x5dbbd3(0x6c5)][_0x5dbbd3(0x6fe)](_0x5dbbd3(0x238),_0x3b004a);return Array[_0x5dbbd3(0x8ee)](new Uint8Array(_0x36230d))[_0x5dbbd3(0x247)](_0x187726=>_0x187726['toString'](0x10)[_0x5dbbd3(0x5dc)](0x2,'0'))[_0x5dbbd3(0xa9a)]('');}catch(_0x5f0985){return console[_0x5dbbd3(0x275)](_0x5dbbd3(0x961),_0x5f0985),this['computeHash'](_0x345097);}}async[_0x2d5032(0xab5)](_0x1ab0a7){const _0x253a54=_0x2d5032;return await this[_0x253a54(0xabc)](_0x1ab0a7[_0x253a54(0xa9a)](''));}async[_0x2d5032(0x8cf)](_0x43dca0){const _0x15b203=_0x2d5032;for(;this[_0x15b203(0xa1a)]['length']>0x0&&this['peaks'][this['peaks']['length']-0x1][_0x15b203(0x7e9)]===_0x43dca0[_0x15b203(0x7e9)];){const _0x16122d=this[_0x15b203(0xa1a)][_0x15b203(0x379)]();_0x43dca0={'hash':await this[_0x15b203(0x5a5)](_0x16122d[_0x15b203(0x88c)],_0x43dca0[_0x15b203(0x88c)]),'left':_0x16122d,'right':_0x43dca0,'height':_0x43dca0[_0x15b203(0x7e9)]+0x1};}this[_0x15b203(0xa1a)][_0x15b203(0x806)](_0x43dca0),await this[_0x15b203(0x7c3)]();}[_0x2d5032(0x49a)](_0x1cf253,_0x204c9d){const _0x5ae846=_0x2d5032;if(!_0x27f628[_0x5ae846(0x6e8)](_0x53d5c4[_0x5ae846(0x7a3)]))return;this[_0x5ae846(0x5c4)]&&clearTimeout(this[_0x5ae846(0x5c4)]);const _0x194d05=Date[_0x5ae846(0xa45)]();this[_0x5ae846(0x5c4)]=setTimeout(()=>_0x27f628[_0x5ae846(0x107)](_0x53d5c4[_0x5ae846(0x7a3)],_0x5ae846(0x7d2),this[_0x5ae846(0x1ee)],_0x5ae846(0x7dc),this[_0x5ae846(0x6e9)](),_0x5ae846(0x6ed),_0x204c9d,_0x5ae846(0x609),_0x194d05-_0x1cf253),0x7d0);}[_0x2d5032(0x37d)](){const _0x4445c1=_0x2d5032;this[_0x4445c1(0xa43)]&&clearTimeout(this['debounceReadyTimeout']),this[_0x4445c1(0xa43)]=setTimeout(async()=>{const _0x34b8e0=_0x4445c1;try{const _0x1ea7b9=this[_0x34b8e0(0xa2e)];if(this['readyPromises']=[],await Promise['all'](_0x1ea7b9),this[_0x34b8e0(0x950)]-=_0x1ea7b9[_0x34b8e0(0x80e)],this['readyPromises'][_0x34b8e0(0x80e)]>0x0||this[_0x34b8e0(0x950)]>0x0)return this[_0x34b8e0(0x37d)]();this['readyResolve']&&(this[_0x34b8e0(0xa37)](),this[_0x34b8e0(0xa37)]=null),this['_ready']=Promise[_0x34b8e0(0x3a8)](),this[_0x34b8e0(0x1e8)]=!0x1;}catch(_0x2d7f8b){console[_0x34b8e0(0x275)](_0x34b8e0(0x80c),_0x2d7f8b);}},0xa);}}const _0xf40aa3=[_0x2d5032(0x802),_0x2d5032(0x1e0),'Content',_0x2d5032(0x431),_0x2d5032(0x2d5),_0x2d5032(0x8f3),_0x2d5032(0x785)],_0x2351f5=[[_0x2d5032(0x817),'Answer','Handshake',_0x2d5032(0x74c),_0x2d5032(0x8a0),_0x2d5032(0x729),_0x2d5032(0x79a),'Stats','OptimizationConnectionSuccess'],[_0x2d5032(0xa40),_0x2d5032(0x9d4),_0x2d5032(0x8b6),_0x2d5032(0x640)],['CloseGraphDatabase',_0x2d5032(0x202),_0x2d5032(0xa49),_0x2d5032(0x2b1),'CloseKeyValueDatabase',_0x2d5032(0x1dd),_0x2d5032(0x89e),_0x2d5032(0x673),'CloseVectorDatabase',_0x2d5032(0x8cb),_0x2d5032(0x6f8),_0x2d5032(0x3ea),'GraphDatabaseStats',_0x2d5032(0x923),'KeyValueDatabaseContentSynchronized',_0x2d5032(0x327),_0x2d5032(0x6e7),_0x2d5032(0x213),_0x2d5032(0xa51),_0x2d5032(0x5b8),_0x2d5032(0x6c9),_0x2d5032(0x848),'PubSubTopicStats',_0x2d5032(0x934),'RemoteMediaStreamTrackFail',_0x2d5032(0x477),_0x2d5032(0x880),_0x2d5032(0x465),'UpdateMediaStream',_0x2d5032(0x66a)],[_0x2d5032(0x477),_0x2d5032(0xa39),_0x2d5032(0x9a9),'CanProvideMediaStream','CannotProvideMediaStream',_0x2d5032(0x749)],[_0x2d5032(0x12e),_0x2d5032(0x5da)],[_0x2d5032(0xa4c)],[_0x2d5032(0x785),_0x2d5032(0x812)]];function _0x57abd3(_0x5e1f7e){const _0x4875c5=_0x2d5032;return{..._0x5e1f7e,'systemMessageType':_0xf40aa3[_0x5e1f7e[_0x4875c5(0x1f1)]],'systemContentMessageType':_0x2351f5[_0x5e1f7e[_0x4875c5(0x1f1)]][_0x5e1f7e['content'][_0x4875c5(0xa7e)]]};}const _0x220cd7={'hour':'2-digit','minute':'2-digit','second':_0x2d5032(0x7f7)};function _0x4647c4(_0x5308c2,_0x5a3d6f){const _0x59db27=_0x2d5032,_0x42caec=(function(){const _0x41089e=a0_0x11f8,_0x13df88=new Date(),_0x21b0d8=_0x13df88['getMilliseconds'](),_0x2e91ca=_0x13df88[_0x41089e(0x983)](_0x41089e(0xa96),_0x220cd7)[_0x41089e(0x85e)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x2e91ca+'.'+(_0x21b0d8>0x64?''+_0x21b0d8:_0x21b0d8>0xa?'0'+_0x21b0d8:'00'+_0x21b0d8);}()),{sourceId:_0x590728,destinationIds:_0x2be5bb,systemMessageType:_0x453a17,systemContentMessageType:_0x39bfb1}=_0x57abd3(_0x5308c2);return _0x42caec+_0x59db27(0x620)+_0x5a3d6f+_0x59db27(0x620)+(_0x590728===_0x5a3d6f?'Sending\x20\x27'+_0x453a17+'\x27\x20to\x20'+(_0x2be5bb?''+_0x2be5bb:'everyone'):_0x5308c2['sourceId']===_0x20f836?'Internal\x20event\x20\x27'+_0x453a17+'\x27':(_0x2be5bb?'':_0x59db27(0x1d5))+_0x59db27(0x1fe)+_0x453a17+'\x27\x20from\x20'+_0x590728)+_0x59db27(0x222)+_0x39bfb1+_0x59db27(0xaa5);}function _0x2bc0c7(_0x37e356,_0x8d2480){const _0x5d09bb=_0x2d5032;if(!_0x27f628[_0x5d09bb(0x6e8)](_0x37e356))return;if(_0x1e75f5[_0x5d09bb(0x2dc)])return;if(_0x5d09bb(0x9c0)==typeof process)return;const _0x16ff55=process[_0x5d09bb(0x2ac)]();console[_0x5d09bb(0x107)](_0x5d09bb(0x7aa)+_0x8d2480+':');for(const _0x566e7f in _0x16ff55)console['log']('\x20\x20'+_0x566e7f+':\x20'+(_0x16ff55[_0x566e7f]/0x400/0x400)['toFixed'](0x2)+_0x5d09bb(0x810));}function _0x472cf8(_0x42ec8b,_0x3f193f){const _0x52702f=_0x2d5032;if(!_0x27f628['isChannelEnabled'](_0x3f193f))return _0x27f628[_0x52702f(0x935)]('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x3f193f),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x16c9a1,_0x120083)=>_0x120083}};let _0x283d10=0x0;return{'timingLogger':((()=>{const _0x315899=_0x52702f;let _0x457d31=Date[_0x315899(0xa45)]();return{'start':()=>{const _0x3900a7=_0x315899;_0x457d31=Date[_0x3900a7(0xa45)]();},'now':()=>Date[_0x315899(0xa45)](),'logWaitTime':_0x395117=>{_0x283d10+=Date['now']()-_0x457d31,_0x27f628['log'](_0x3f193f,_0x395117,_0x283d10+'ms',_0x42ec8b);}};})()),'logger':{'log':(_0x153783,_0x4e8a77=()=>{})=>{const _0xacb679=_0x4e8a77();_0xacb679?_0x27f628['log'](_0x3f193f,_0x153783,_0xacb679,_0x42ec8b):_0x27f628['log'](_0x3f193f,_0x153783,_0x42ec8b);},'performCalculation':(_0x9e0d34,_0x30d97d)=>_0x9e0d34()}};}function _0xbc196d(_0x44d6a4){const _0x38f08b=_0x2d5032;return _0x38f08b(0x9c0)==typeof Buffer?0x0:Buffer[_0x38f08b(0x31c)](JSON[_0x38f08b(0x8b2)](_0x44d6a4),_0x38f08b(0x119));}function _0x323b01(_0x3d41d6){const _0x56b339=_0x2d5032;if(0x0===_0x3d41d6)return _0x56b339(0x1a2);const _0x34b4f6=Math['floor'](Math[_0x56b339(0x107)](_0x3d41d6)/Math['log'](0x400));return parseFloat((_0x3d41d6/Math['pow'](0x400,_0x34b4f6))[_0x56b339(0x766)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x34b4f6];}class _0x300a59 extends _0x1d8a54{[_0x2d5032(0x6ff)];[_0x2d5032(0xa46)];[_0x2d5032(0x514)];['isNodeReady'];['db'];['dbKey'];[_0x2d5032(0x13b)]=new Map();[_0x2d5032(0x504)];[_0x2d5032(0x6c8)];['tableUnsubscriber'];[_0x2d5032(0xa6b)];['syncResolve'];[_0x2d5032(0x569)]=[];['timeoutCallback']=()=>{};[_0x2d5032(0x2d8)];[_0x2d5032(0x978)]=_0x19bdf7();[_0x2d5032(0x638)];[_0x2d5032(0x3ae)]=[];['layout'];[_0x2d5032(0x472)];[_0x2d5032(0x650)]=0x0;[_0x2d5032(0x952)]=0x0;[_0x2d5032(0x706)]=!0x1;[_0x2d5032(0x562)]=new _0x4cbf1e();[_0x2d5032(0x209)]=new Map();[_0x2d5032(0xaa4)]=[];[_0x2d5032(0x5b1)];[_0x2d5032(0x6d0)]=[];[_0x2d5032(0x220)];constructor(_0x1bfbce,_0x2ef37d,_0x5188a9,_0x532834,_0x1a8c6b,_0x1db23e,_0x132241){const _0x2faa99=_0x2d5032;if(_0x2faa99(0x823)!=typeof _0x2ef37d)throw new _0x10fc18(_0x10a5c8['KeyValueDatabaseNameNotString'],_0x2faa99(0x770));if(super(_0x1bfbce,_0x2ef37d),this[_0x2faa99(0x6ff)]=_0x1bfbce,this[_0x2faa99(0xa46)]=_0x5188a9,this[_0x2faa99(0x514)]=_0x532834,this[_0x2faa99(0x177)]=_0x132241,this['dbKey']='ccc'+this[_0x2faa99(0x514)]+'ccc'+this[_0x2faa99(0xa46)]+_0x2faa99(0x5ca)+this['label'],this['tableObserver']=_0x19bdf7(),this[_0x2faa99(0x220)]=function(_0x1a4e82,_0x36516d){const _0x171024=_0x2faa99;if(!_0x27f628['isChannelEnabled'](_0x36516d))return _0x27f628['debug'](_0x171024(0xab3)+_0x36516d),{..._0x472cf8(_0x1a4e82,_0x36516d),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x171024(0x1a2),'dataReceived':'0\x20B'})};const {timingLogger:_0xb4f18d,logger:_0x462581}=_0x472cf8(_0x1a4e82,_0x36516d);let _0x21f252=0x0,_0x564143=0x0;return{'timingLogger':_0xb4f18d,'logger':_0x462581,'logDataSent':(_0x350ade,_0x5e660f=!0x1)=>{const _0x25d1cb=_0x171024,_0x4d9cf4=_0xbc196d(_0x350ade);return _0x5e660f&&_0x27f628[_0x25d1cb(0x107)](_0x36516d,_0x25d1cb(0x1cd),_0x1a4e82,_0x4d9cf4),_0x21f252+=_0x4d9cf4,_0x4d9cf4;},'logDataReceived':(_0x145cb6,_0x4e8ba8=!0x1)=>{const _0x52ec7e=_0x171024,_0x3e01bc=_0xbc196d(_0x145cb6);return _0x4e8ba8&&_0x27f628[_0x52ec7e(0x107)](_0x36516d,_0x52ec7e(0x924),_0x1a4e82,_0x3e01bc),_0x564143+=_0x3e01bc,_0x3e01bc;},'getDataLogged':()=>({'dataSent':_0x323b01(_0x21f252),'dataReceived':_0x323b01(_0x564143)})};}(this[_0x2faa99(0x32e)],_0x53d5c4['KeyValueDatabase']),this[_0x2faa99(0xa6b)]=new Promise(_0x3cfc7a=>{const _0x2a1aa6=_0x2faa99;this[_0x2a1aa6(0x35c)]=_0x3cfc7a;}),_0x1a8c6b instanceof _0xb9eb49)this['layout']=_0x1a8c6b[_0x2faa99(0x1c9)]();else{const [_0x233718,_0x4c1151]=_0xb9eb49[_0x2faa99(0xaed)](_0x1a8c6b);if(!_0x233718)throw new _0x10fc18(_0x10a5c8['KeyValueDatabaseInvalidLayout'],_0x2faa99(0x54f)+_0x4c1151);this['layout']=structuredClone(_0x1a8c6b);}this[_0x2faa99(0x666)](this[_0x2faa99(0xe2)]),this['db']=new _0x1db23e(this['dbKey'],this[_0x2faa99(0xe2)]),this[_0x2faa99(0xee)]();}async[_0x2d5032(0xae4)](_0x3ad9be,_0x111033){const _0x4d4c80=_0x2d5032;if(_0x27f628[_0x4d4c80(0x107)](_0x53d5c4[_0x4d4c80(0x7a3)],_0x4d4c80(0x43b),this['label']),!this[_0x4d4c80(0x6c8)])throw new _0x54e1a8(_0x54e1a8[_0x4d4c80(0x318)][_0x4d4c80(0x994)]);if(await this['isSync'],await this[_0x4d4c80(0x177)](_0x3ad9be),await this[_0x4d4c80(0x562)]['getRoot']()===_0x111033){const _0x1fd025={'sourceId':this[_0x4d4c80(0x6ff)][_0x4d4c80(0x5cd)](),'destinationIds':[_0x3ad9be],'propagate':!0x0,'messageType':_0x4bbd49[_0x4d4c80(0x8b3)],'content':{'type':_0x1ff5c6['KeyValueDatabaseContentSynchronized'],'label':this[_0x4d4c80(0x32e)],'mmrRoot':_0x111033}};return this['loggingCycle'][_0x4d4c80(0xac4)](_0x1fd025),void this[_0x4d4c80(0x83a)][_0x4d4c80(0x849)](_0x1fd025);}const _0x3b803c=this[_0x4d4c80(0x562)]['getPeaks'](),_0xd1433c={'sourceId':this['localNode']['getId'](),'destinationIds':[_0x3ad9be],'propagate':!0x0,'messageType':_0x4bbd49[_0x4d4c80(0x8b3)],'content':{'type':_0x1ff5c6[_0x4d4c80(0x923)],'label':this[_0x4d4c80(0x32e)],'peaks':_0x3b803c}};this[_0x4d4c80(0x220)][_0x4d4c80(0xac4)](_0xd1433c),this['systemTopic'][_0x4d4c80(0x849)](_0xd1433c);}async['processContentSynchronized'](_0x30997d,_0x307018){const _0x48ff57=_0x2d5032,_0x1dd075=await this[_0x48ff57(0x562)][_0x48ff57(0x946)](),_0x93e9ea=_0x1dd075===_0x307018;if(_0x27f628[_0x48ff57(0x107)](_0x53d5c4[_0x48ff57(0x7a3)],_0x48ff57(0x929)+_0x30997d+_0x48ff57(0x361)+_0x93e9ea,this[_0x48ff57(0x32e)]),_0x93e9ea)return this[_0x48ff57(0x99f)](),void this[_0x48ff57(0x216)]();_0x27f628[_0x48ff57(0x107)](_0x53d5c4[_0x48ff57(0x7a3)],_0x48ff57(0x590),_0x1dd075,_0x307018),_0x27f628[_0x48ff57(0x2d2)](_0x48ff57(0x590),{'nodeId':this['localNode'][_0x48ff57(0x5cd)](),'nodeType':this[_0x48ff57(0x6ff)][_0x48ff57(0xa7e)],'remoteId':_0x30997d,'data':{'localMMRRoot':_0x1dd075,'remoteMMRRoot':_0x307018}});const _0x2458e3={'sourceId':this['localNode'][_0x48ff57(0x5cd)](),'messageType':_0x4bbd49[_0x48ff57(0x8b3)],'propagate':!0x0,'content':{'type':_0x1ff5c6[_0x48ff57(0x5b8)],'label':this[_0x48ff57(0x32e)],'mmrRoot':_0x1dd075}};this[_0x48ff57(0x83a)]['publish'](_0x2458e3);}async[_0x2d5032(0x152)](_0x26ac80,_0x3ee22e){const _0x634fe6=_0x2d5032;if(_0x27f628[_0x634fe6(0x107)](_0x53d5c4[_0x634fe6(0x7a3)],'Received\x20content\x20available\x20from\x20node',_0x26ac80,_0x634fe6(0x32e),this['label'],'peaks',_0x3ee22e),this[_0x634fe6(0x706)])return;this[_0x634fe6(0x706)]=!0x0,this['clearSyncTimeout']();const {differingPeaks:_0x998ebf,peaksMissingInLocal:_0x4c7967,peaksMissingInRemote:_0x47f78f}=this['mmr'][_0x634fe6(0x91c)](_0x3ee22e);_0x27f628[_0x634fe6(0x107)](_0x53d5c4[_0x634fe6(0x7a3)],'processContentAvailable\x20-\x20Peak\x20comparison:',{'differingPeaks':_0x998ebf,'peaksMissingInLocal':_0x4c7967,'peaksMissingInRemote':_0x47f78f});const _0x96a8a5={'sourceId':this[_0x634fe6(0x6ff)][_0x634fe6(0x5cd)](),'destinationIds':[_0x26ac80],'propagate':!0x0,'messageType':_0x4bbd49[_0x634fe6(0x8b3)],'content':{'type':_0x1ff5c6['KeyValueDatabaseRequestPeakTransactions'],'label':this[_0x634fe6(0x32e)],'peakHeights':_0x4c7967[_0x634fe6(0x247)](_0x30826f=>_0x30826f[_0x634fe6(0x7e9)])[_0x634fe6(0x37a)](_0x998ebf['map'](_0x481233=>_0x481233['height']))}};if(this[_0x634fe6(0x83a)]['publish'](_0x96a8a5),_0x998ebf[_0x634fe6(0x80e)]>0x0||_0x47f78f['length']>0x0){const _0x2ab15c=_0x47f78f[_0x634fe6(0x247)](_0x2c3103=>_0x2c3103['height'])[_0x634fe6(0x37a)](_0x998ebf[_0x634fe6(0x247)](_0x400dfd=>_0x400dfd['height']));await this[_0x634fe6(0x775)](_0x26ac80,_0x2ab15c,!0x0);}}async['sendPeakTransactions'](_0x1cb024,_0x5afed6,_0x996cc9=!0x1){const _0x255569=_0x2d5032;_0x27f628['log'](_0x53d5c4[_0x255569(0x7a3)],_0x255569(0x4f1),this['label']);const _0x254218=_0x5afed6[_0x255569(0x247)](_0x1c9815=>this[_0x255569(0x562)][_0x255569(0x57e)](_0x1c9815))[_0x255569(0xa9f)](Boolean);if(!_0x254218[_0x255569(0x80e)]||_0x5afed6[_0x255569(0x80e)]!==_0x254218[_0x255569(0x80e)])throw new _0x54e1a8(_0x54e1a8['codes'][_0x255569(0x778)],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x5afed6,'peaks':_0x254218[_0x255569(0x247)](_0x49f8ba=>_0x49f8ba[_0x255569(0x7e9)]),'nodeId':_0x1cb024});const _0x7356ec=[];for(const _0x3df4ca of _0x254218)this[_0x255569(0x41c)](_0x3df4ca,_0x7356ec);const _0x33fac6=_0x996cc9?void 0x0:[_0x1cb024],_0x5b4ea8={'sourceId':this['localNode'][_0x255569(0x5cd)](),'destinationIds':_0x33fac6,'messageType':_0x4bbd49[_0x255569(0x8b3)],'propagate':!0x0,'content':{'type':_0x1ff5c6['KeyValueDatabaseSendTransactions'],'label':this['label'],'transactions':_0x7356ec}};this[_0x255569(0x220)][_0x255569(0xac4)](_0x5b4ea8),this[_0x255569(0x83a)]['publish'](_0x5b4ea8);}async['processReceivedTransactions'](_0x5ed627,_0x156fea){const _0x153519=_0x2d5032;_0x27f628[_0x153519(0x107)](_0x53d5c4[_0x153519(0x7a3)],'Received\x20'+_0x156fea[_0x153519(0x80e)]+'\x20transactions\x20from\x20node\x20'+_0x5ed627+'\x20-\x20'+this['label']);for(const _0x2f8ba4 of _0x156fea){const _0x4b4c7d=await this['transactionTable'][_0x153519(0x13f)](_0x2f8ba4['id']);if(!(_0x4b4c7d&&this[_0x153519(0x45e)](_0x4b4c7d,_0x2f8ba4)>=0x0)){if(_0x2f8ba4[_0x153519(0x736)]===_0x386e29['Delete']){const [_0xa1440e,_0x5f11d3]=_0x2f8ba4['id']['split']('::'),_0x5bac5e=this[_0x153519(0x6b8)](_0xa1440e);await _0x5bac5e[_0x153519(0x113)](_0x5f11d3);}else this[_0x153519(0x569)][_0x153519(0x806)](_0x2f8ba4['id']);}}if(_0x27f628['log'](_0x53d5c4['KeyValueDatabase'],'Found\x20'+this['transactionsToSync']['length']+_0x153519(0xa3f),this[_0x153519(0x32e)]),this['transactionsToSync'][_0x153519(0x80e)]>0x0){const _0x197ca3={'sourceId':this['localNode'][_0x153519(0x5cd)](),'destinationIds':[_0x5ed627],'messageType':_0x4bbd49[_0x153519(0x8b3)],'propagate':!0x0,'content':{'type':_0x1ff5c6[_0x153519(0x6e7)],'label':this[_0x153519(0x32e)],'transactionIds':this[_0x153519(0x569)]}};this['loggingCycle']['logDataSent'](_0x197ca3),this[_0x153519(0x83a)][_0x153519(0x849)](_0x197ca3);}}[_0x2d5032(0xf2)](){const _0x5c025b=_0x2d5032;this[_0x5c025b(0xee)]();}[_0x2d5032(0x98e)](){const _0x4ef90f=_0x2d5032;return _0x1a575a[_0x4ef90f(0x979)][_0x4ef90f(0x7a3)];}[_0x2d5032(0x7f6)](){const _0xa05a46=_0x2d5032;this['db']['close'](),this[_0xa05a46(0x254)]?.(),clearTimeout(this[_0xa05a46(0x472)]),delete this['debounceStats'],super[_0xa05a46(0x7f6)]();}['close'](){const _0x4c2e58=_0x2d5032;this['clearSyncTimeout'](),this[_0x4c2e58(0x83a)][_0x4c2e58(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x4c2e58(0x8b3)],'content':{'type':_0x1ff5c6['CloseKeyValueDatabase'],'label':this['label']}});}[_0x2d5032(0x6b8)](_0x28428d){const _0x235a6a=_0x2d5032,_0x142b42=this['tables']['get'](_0x28428d);if(_0x142b42)return _0x142b42;try{if(!this['db'][_0x235a6a(0x881)](_0x28428d))throw new _0x10fc18(_0x10a5c8[_0x235a6a(0x622)],_0x235a6a(0xadd));const _0x15e2b2=new _0x3b97b(this['db'][_0x235a6a(0xae8)](_0x28428d),_0x28428d,this[_0x235a6a(0x504)]);return this[_0x235a6a(0x13b)][_0x235a6a(0x687)](_0x28428d,_0x15e2b2),{'get':_0x15e2b2[_0x235a6a(0x13f)][_0x235a6a(0x830)](_0x15e2b2),'set':_0x15e2b2[_0x235a6a(0x687)][_0x235a6a(0x830)](_0x15e2b2),'add':_0x15e2b2[_0x235a6a(0x5e6)][_0x235a6a(0x830)](_0x15e2b2),'delete':_0x15e2b2['delete'][_0x235a6a(0x830)](_0x15e2b2),'clear':_0x15e2b2[_0x235a6a(0x24b)]['bind'](_0x15e2b2),'list':_0x15e2b2[_0x235a6a(0x6bb)]['bind'](_0x15e2b2),'count':_0x15e2b2[_0x235a6a(0xa27)][_0x235a6a(0x830)](_0x15e2b2),'subscribe':_0x15e2b2[_0x235a6a(0x75b)][_0x235a6a(0x830)](_0x15e2b2),'unsubscribe':_0x15e2b2[_0x235a6a(0x3c5)][_0x235a6a(0x830)](_0x15e2b2)};}catch(_0x59b9ca){if(_0x59b9ca instanceof _0x10fc18)throw _0x59b9ca;throw new _0x10fc18(_0x10a5c8[_0x235a6a(0x8cd)],_0x235a6a(0x7c2));}}[_0x2d5032(0x75b)](_0x53d509){const _0x3f5733=_0x2d5032;this[_0x3f5733(0x638)]=this['eventListener'][_0x3f5733(0x75b)](_0x53d509),this[_0x3f5733(0x903)](this[_0x3f5733(0xa6b)])[_0x3f5733(0x1b2)](_0xe484e=>{const _0x4283d3=_0x3f5733;_0xe484e&&this[_0x4283d3(0x978)][_0x4283d3(0x849)]({'event':_0x1a575a[_0x4283d3(0x26c)][_0x4283d3(0x3aa)]});});}['unsubscribe'](){const _0x1ba32d=_0x2d5032;this[_0x1ba32d(0x638)]?.(),this[_0x1ba32d(0x638)]=void 0x0;}async[_0x2d5032(0x788)](){const _0x395c8c=_0x2d5032;_0x2bc0c7(_0x53d5c4[_0x395c8c(0x7a3)],_0x395c8c(0x798));const _0x23b65d=[_0x2c2bda,_0x517214],_0x1645e0=[];try{await this['db'][_0x395c8c(0x788)]();const _0x318852=this['db'][_0x395c8c(0xae8)](_0x517214),_0x1c87a8=await _0x318852[_0x395c8c(0x6bb)](),{id:_0x2321cb,layout:_0x9545b4}=_0x1c87a8[0x0]??{};if(_0x9545b4){for(const _0xb97be7 in _0x9545b4)_0x23b65d[_0x395c8c(0x21f)](_0xb97be7)||this['db'][_0x395c8c(0x881)](_0xb97be7)||_0x1645e0[_0x395c8c(0x806)](_0xb97be7);await _0x318852[_0x395c8c(0x687)](_0x2321cb,{'layout':this['layout']});}else await _0x318852[_0x395c8c(0x5e6)]({'layout':this[_0x395c8c(0xe2)]});}catch(_0x121543){throw new _0x10fc18(_0x10a5c8[_0x395c8c(0x8cd)],_0x121543['message']||_0x395c8c(0x3b6));}this[_0x395c8c(0x12f)](),await this[_0x395c8c(0xa2b)](),this[_0x395c8c(0x919)](),this['setOnTableWriteHandler'](),_0x1645e0['forEach'](_0x1a8267=>this[_0x395c8c(0xaac)](_0x1a8267));}async[_0x2d5032(0x8dc)](_0x19f0cb,_0xadc95c=()=>{},_0x234737=!0x1){const _0x292758=_0x2d5032;if(!_0x19f0cb)return setTimeout(()=>{const _0x151dfb=a0_0x11f8;this['clearSyncTimeout'](),this[_0x151dfb(0x216)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x292758(0x25b)]=_0xadc95c,this[_0x292758(0x2d8)]=setTimeout(_0xadc95c,0x7d0),!this['systemTopic'])throw new _0x54e1a8(_0x54e1a8[_0x292758(0x318)][_0x292758(0x3f4)]);const _0x560357=await this[_0x292758(0x562)][_0x292758(0x946)](),_0x120d45={'sourceId':this[_0x292758(0x6ff)]['getId'](),'messageType':_0x4bbd49[_0x292758(0x8b3)],'propagate':_0x234737,'content':{'type':_0x1ff5c6['KeyValueDatabaseSyncRequired'],'label':this[_0x292758(0x32e)],'mmrRoot':_0x560357}};return this['loggingCycle']['logDataSent'](_0x120d45),this[_0x292758(0x83a)]['publish'](_0x120d45),this[_0x292758(0xa6b)];}async[_0x2d5032(0x155)](_0x870ec3,_0x2ac3f9){const _0x4d3d07=_0x2d5032;if(_0x27f628[_0x4d3d07(0x107)](_0x53d5c4['KeyValueDatabase'],_0x4d3d07(0x610)+_0x2ac3f9['length'],this[_0x4d3d07(0x32e)]),!this['transactionTable'])throw new _0x54e1a8(_0x54e1a8[_0x4d3d07(0x318)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x960f45 of _0x2ac3f9){const _0x390903=await this[_0x4d3d07(0x6c8)]['get'](_0x960f45);if(!_0x390903)continue;const [_0x57462b,_0xb31ed2]=_0x960f45['split']('::'),_0x448f0c=this[_0x4d3d07(0x6b8)](_0x57462b),_0xbdc913=await _0x448f0c['get'](_0xb31ed2);_0xbdc913?(_0x390903[_0x4d3d07(0x50f)]=_0xbdc913,this['send'](_0x390903,[_0x870ec3])):_0x27f628[_0x4d3d07(0x2d2)](_0x4d3d07(0x301),{'nodeId':this[_0x4d3d07(0x6ff)]['getId'](),'nodeType':this[_0x4d3d07(0x6ff)]['type'],'remoteId':_0x870ec3,'data':{'tableKeys':Object['keys'](this[_0x4d3d07(0x13b)]),'transactionId':_0x960f45,'transactions':this[_0x4d3d07(0x569)],'tableName':_0x57462b,'key':_0xb31ed2}});}}async[_0x2d5032(0x72f)](_0x306016){const _0x12dff9=_0x2d5032;if(!this[_0x12dff9(0x6c8)])throw new _0x54e1a8(_0x54e1a8[_0x12dff9(0x318)][_0x12dff9(0x994)]);const _0x47cc2c=await this[_0x12dff9(0x562)][_0x12dff9(0x36e)](_0x306016),_0x4f3c79=this[_0x12dff9(0x209)][_0x12dff9(0x13f)](_0x47cc2c);if(_0x4f3c79&&this[_0x12dff9(0x45e)](_0x306016,_0x4f3c79)<=0x0)return void _0x27f628[_0x12dff9(0x107)](_0x53d5c4[_0x12dff9(0x7a3)],'writeTransaction\x20-\x20transaction\x20already\x20exists',_0x306016);const _0x11dbfe={..._0x306016};return delete _0x11dbfe[_0x12dff9(0x50f)],this[_0x12dff9(0x6fd)](_0x11dbfe),await this[_0x12dff9(0x6c8)][_0x12dff9(0x687)](_0x306016['id'],_0x11dbfe),_0x306016;}[_0x2d5032(0x45e)](_0x2d3cab,_0x387d47){const _0x5bf69e=_0x2d5032;return _0x2d3cab[_0x5bf69e(0x9f5)]!==_0x387d47[_0x5bf69e(0x9f5)]?_0x2d3cab['timestamp']-_0x387d47['timestamp']:_0x2d3cab['priority']-_0x387d47['priority'];}async[_0x2d5032(0x7d0)](_0x3d8c68){const _0x57ca49=_0x2d5032;if(!this['transactionTable'])throw new _0x54e1a8(_0x54e1a8[_0x57ca49(0x318)][_0x57ca49(0x994)]);const _0x486956=_0x3d8c68[_0x57ca49(0x2ca)]+'::'+_0x3d8c68[_0x57ca49(0x9f3)],_0x1e0194=await _0x2f80ec[_0x57ca49(0x117)](),_0x396893={'id':_0x486956,'priority':Math[_0x57ca49(0x9e5)](),'timestamp':_0x1e0194,'action':_0x3d8c68[_0x57ca49(0x736)]};if(await this[_0x57ca49(0x72f)](_0x396893))return _0x396893;}async[_0x2d5032(0xaac)](_0x18a2e9){const _0x508ec3=_0x2d5032;if(!this[_0x508ec3(0x6c8)])throw new _0x54e1a8(_0x54e1a8[_0x508ec3(0x318)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x42fc1f=_0x13a18c[_0x508ec3(0x2a7)]('id')[_0x508ec3(0x283)](_0x508ec3(0x21a),[_0x18a2e9+'::',_0x18a2e9+_0x508ec3(0x993)]),_0x20f815=await this['transactionTable'][_0x508ec3(0x6bb)](_0x42fc1f['getQuery']());for(const _0x419431 of _0x20f815)await this['transactionTable']['delete'](_0x419431['id']);}['setOnMessageHandler'](){const _0x3a0af2=_0x2d5032;this[_0x3a0af2(0x63f)](async(_0x537ec1,_0x11a670)=>{const _0xb260aa=_0x3a0af2;if(_0x11a670 instanceof File)return;if(this[_0xb260aa(0x220)][_0xb260aa(0xae5)](_0x11a670),!await this[_0xb260aa(0x72f)](_0x11a670))return void this['checkSyncComplete'](_0x537ec1,_0x11a670);if(!_0x11a670['value'])throw new _0x54e1a8(_0x54e1a8[_0xb260aa(0x318)][_0xb260aa(0x578)]);const [_0x155296,_0x4cdd8]=_0x11a670['id'][_0xb260aa(0x93c)]('::'),_0x261a97=this[_0xb260aa(0x6b8)](_0x155296);if(!_0x261a97)throw new _0x54e1a8(_0x54e1a8[_0xb260aa(0x318)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x261a97});let _0x20dc80=0x0;switch(_0x11a670[_0xb260aa(0x736)]){case _0x386e29[_0xb260aa(0x104)]:case _0x386e29[_0xb260aa(0x47f)]:{const _0x4220a1=_0x261a97[_0xb260aa(0x687)](_0x4cdd8,_0x11a670['value'],!0x1);_0x20dc80=JSON[_0xb260aa(0x8b2)](_0x11a670[_0xb260aa(0x50f)])[_0xb260aa(0x80e)],this[_0xb260aa(0x569)][_0xb260aa(0x21f)](_0x11a670['id'])&&this[_0xb260aa(0x3ae)][_0xb260aa(0x806)](_0x4220a1);break;}case _0x386e29[_0xb260aa(0x82b)]:{const _0x22bebc=_0x261a97[_0xb260aa(0x113)](_0x4cdd8,!0x1);this['transactionsToSync'][_0xb260aa(0x21f)](_0x11a670['id'])&&this[_0xb260aa(0x3ae)]['push'](_0x22bebc);break;}}_0x27f628[_0xb260aa(0x8d9)](_0x751840[_0xb260aa(0x7a3)],{'type':_0xb260aa(0x8dc),'label':this['label'],'nodeId':this['localNode'][_0xb260aa(0x5cd)](),'nodeType':this[_0xb260aa(0x6ff)]['type'],'clusterId':this['clusterId'],'tableName':_0x155296,'key':_0x4cdd8,'size':_0x20dc80}),this['checkSyncComplete'](_0x537ec1,_0x11a670);});}[_0x2d5032(0x210)](){const _0x4b1368=_0x2d5032;this[_0x4b1368(0x254)]=this[_0x4b1368(0x504)][_0x4b1368(0x75b)](async _0x4717f0=>{const _0x48bedc=_0x4b1368;let _0x1672f7=0x0;switch(_0x4717f0['action']){case _0x386e29['Add']:case _0x386e29[_0x48bedc(0x47f)]:case _0x386e29[_0x48bedc(0x82b)]:{const _0x1b0d50=await this['getTransactionFromTableWriteEvent'](_0x4717f0);if(!_0x1b0d50)return;_0x1b0d50[_0x48bedc(0x50f)]=_0x4717f0[_0x48bedc(0x50f)],this[_0x48bedc(0x309)](_0x1b0d50),_0x1672f7=JSON[_0x48bedc(0x8b2)](_0x4717f0[_0x48bedc(0x50f)])[_0x48bedc(0x80e)],this[_0x48bedc(0x650)]+=0x1;break;}case _0x223122['Get']:case _0x223122[_0x48bedc(0x161)]:case _0x223122[_0x48bedc(0x1b3)]:this[_0x48bedc(0x952)]+=0x1;}_0x27f628[_0x48bedc(0x8d9)](_0x751840[_0x48bedc(0x7a3)],{'type':_0x4717f0['action'],'label':this[_0x48bedc(0x32e)],'nodeId':this[_0x48bedc(0x6ff)][_0x48bedc(0x5cd)](),'nodeType':this[_0x48bedc(0x6ff)]['type'],'clusterId':this[_0x48bedc(0xa46)],'tableName':_0x4717f0[_0x48bedc(0x2ca)],'key':_0x4717f0[_0x48bedc(0x9f3)],'size':_0x1672f7}),this[_0x48bedc(0xee)]();});}[_0x2d5032(0x12f)](){const _0x2eba6b=_0x2d5032;this['db']&&(this[_0x2eba6b(0x6c8)]||(this[_0x2eba6b(0x6c8)]=this['db'][_0x2eba6b(0xae8)](_0x2c2bda)));}[_0x2d5032(0x99f)](){const _0x567e0b=_0x2d5032;this[_0x567e0b(0x2d8)]&&(clearTimeout(this['syncTimeout']),delete this[_0x567e0b(0x2d8)]);}async[_0x2d5032(0x216)](){const _0x1a4707=_0x2d5032;await this[_0x1a4707(0x562)][_0x1a4707(0x218)],this['logSyncMetrics'](),this['eventListener'][_0x1a4707(0x849)]({'event':_0x1a575a['DatabaseEvent'][_0x1a4707(0x3aa)]}),this[_0x1a4707(0x35c)]?.(!0x0),delete this[_0x1a4707(0x35c)],this['sendStats'](),_0x27f628[_0x1a4707(0x107)](_0x53d5c4['KeyValueDatabase'],_0x1a4707(0x43e),this[_0x1a4707(0x32e)]);}async[_0x2d5032(0x63c)](_0x33831e){const _0x3ac9c7=_0x2d5032;await Promise[_0x3ac9c7(0x526)](this[_0x3ac9c7(0x3ae)]),_0x27f628[_0x3ac9c7(0x107)](_0x53d5c4[_0x3ac9c7(0x7a3)],_0x3ac9c7(0x9b2)+this['syncTransactionsWritten']['length']+_0x3ac9c7(0x3c9)+_0x33831e+_0x3ac9c7(0x8f8),this[_0x3ac9c7(0x32e)]),await this[_0x3ac9c7(0x562)][_0x3ac9c7(0x218)],await this[_0x3ac9c7(0x84c)](_0x33831e),await this[_0x3ac9c7(0x216)]();}[_0x2d5032(0xa1c)](_0x9f5d06,_0x2968c2){const _0x4fbe97=_0x2d5032;this['transactionsToSync'][_0x4fbe97(0x21f)](_0x2968c2['id'])&&(this[_0x4fbe97(0x99f)](),this['transactionsToSync']=this[_0x4fbe97(0x569)][_0x4fbe97(0xa9f)](_0x28e258=>_0x28e258!==_0x2968c2['id']),0x0!==this[_0x4fbe97(0x569)][_0x4fbe97(0x80e)]?this[_0x4fbe97(0x2d8)]=setTimeout(this[_0x4fbe97(0x25b)],0x7d0):this[_0x4fbe97(0x63c)](_0x9f5d06));}[_0x2d5032(0xee)](){const _0x2df7f2=_0x2d5032;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0x2df7f2(0x472)]=setTimeout(async()=>{const _0x1b9fe6=_0x2df7f2;delete this[_0x1b9fe6(0x472)];let _0x286a95=0x0;for(const _0x3d4c10 of this[_0x1b9fe6(0x13b)][_0x1b9fe6(0xa94)]())_0x286a95+=await _0x3d4c10[_0x1b9fe6(0x25f)]();this[_0x1b9fe6(0x83a)]['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x1b9fe6(0x8b3)],'content':{'type':_0x1ff5c6['KeyValueDatabaseStats'],'label':this[_0x1b9fe6(0x32e)],'stats':{'timestamp':Date[_0x1b9fe6(0xa45)](),'storage':_0x286a95,'messagesSent':this[_0x1b9fe6(0x658)],'messagesReceived':this[_0x1b9fe6(0x5be)],'bytesSent':this[_0x1b9fe6(0x9ab)],'bytesReceived':this[_0x1b9fe6(0x8a4)],'writes':this[_0x1b9fe6(0x650)],'reads':this[_0x1b9fe6(0x952)],'prompts':0x0,'tokens':0x0}}}),_0x27f628[_0x1b9fe6(0x8f9)](_0x751840[_0x1b9fe6(0x7a3)],_0x1b9fe6(0x5ca)+this[_0x1b9fe6(0xa46)]+_0x1b9fe6(0x5ca)+this[_0x1b9fe6(0x32e)],_0x286a95);},_0x38055e);}[_0x2d5032(0x666)](_0x92adc){const _0x367603=_0x2d5032;if(_0x92adc['tables'][_0x2c2bda])throw new _0x10fc18(_0x10a5c8['KeyValueDatabaseTableNameReserved'],_0x367603(0x5ce)+_0x2c2bda+_0x367603(0x9fb));if(_0x92adc[_0x367603(0x13b)][_0x517214])throw new _0x10fc18(_0x10a5c8[_0x367603(0xaf7)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x517214+_0x367603(0x9fb));_0x92adc['tables'][_0x2c2bda]={'indexes':[]},_0x92adc[_0x367603(0x13b)][_0x517214]={'indexes':[]};}async[_0x2d5032(0x903)](_0xedd911){const _0x4fbb63=_0x2d5032;return Promise['race']([_0xedd911,Promise['resolve']('not-resolved')])[_0x4fbb63(0x1b2)](_0x10accf=>_0x4fbb63(0x306)!==_0x10accf);}async[_0x2d5032(0x84c)](_0x33988f){const _0x970069=_0x2d5032;await this[_0x970069(0x667)]();const _0x3ed865=await this[_0x970069(0x562)][_0x970069(0x946)](),_0x15572e={'sourceId':this[_0x970069(0x6ff)][_0x970069(0x5cd)](),'destinationIds':[_0x33988f],'propagate':!0x0,'messageType':_0x4bbd49[_0x970069(0x8b3)],'content':{'type':_0x1ff5c6[_0x970069(0x5e0)],'label':this[_0x970069(0x32e)],'mmrRoot':_0x3ed865}};this[_0x970069(0x83a)][_0x970069(0x849)](_0x15572e);}async[_0x2d5032(0xa2b)](){const _0x41c574=_0x2d5032;if(!this[_0x41c574(0x6c8)])throw new _0x54e1a8(_0x54e1a8[_0x41c574(0x318)]['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x41c574(0xaa4)]=await this[_0x41c574(0x6c8)]['list'](),this['transactions'][_0x41c574(0x508)](this['compareTransactions']),this['mmr']=new _0x4cbf1e(),this[_0x41c574(0x209)]=new Map();for(const _0x578de8 of this['transactions'])this['appendTransactionAndUpdateHashMap'](_0x578de8,this[_0x41c574(0xaa4)][_0x41c574(0x80e)]);this['logInitialMMR']();}async[_0x2d5032(0x843)](_0x2ccca4,_0x338f7a){const _0x2559da=_0x2d5032,_0x26a92b={..._0x2ccca4};delete _0x26a92b['value'],await this[_0x2559da(0x562)][_0x2559da(0xac9)](_0x26a92b,_0x338f7a);const _0xbb8f4a=await this[_0x2559da(0x562)]['hashTransaction'](_0x26a92b);this['transactionHashMap'][_0x2559da(0x687)](_0xbb8f4a,_0x2ccca4);}[_0x2d5032(0x7a7)](_0x4c9d4d){const _0x49af5a=_0x2d5032;return this[_0x49af5a(0x209)][_0x49af5a(0x13f)](_0x4c9d4d);}['collectTransactionsFromNode'](_0x28e456,_0x1a1785){const _0x13bab1=_0x2d5032;if(0x0!==_0x28e456[_0x13bab1(0x7e9)])_0x28e456['left']&&this[_0x13bab1(0x41c)](_0x28e456[_0x13bab1(0x466)],_0x1a1785),_0x28e456[_0x13bab1(0x575)]&&this['collectTransactionsFromNode'](_0x28e456[_0x13bab1(0x575)],_0x1a1785);else{const _0x53b508=this[_0x13bab1(0x7a7)](_0x28e456[_0x13bab1(0x88c)]);_0x53b508&&_0x1a1785[_0x13bab1(0x806)](_0x53b508);}}async[_0x2d5032(0x2cb)](){const _0x211e0f=_0x2d5032;this[_0x211e0f(0x5b1)]&&(clearTimeout(this[_0x211e0f(0x5b1)]),delete this['debounceRebuildMMR'],this[_0x211e0f(0x6d0)][_0x211e0f(0x80e)]>0x0&&(this[_0x211e0f(0xaa4)][_0x211e0f(0x806)](...this[_0x211e0f(0x6d0)][_0x211e0f(0x508)](this['compareTransactions'])),this[_0x211e0f(0x6d0)]=[]));const _0x279104=this[_0x211e0f(0x386)]();this[_0x211e0f(0x562)]=new _0x4cbf1e(),this['transactionHashMap']['clear'](),this[_0x211e0f(0xaa4)][_0x211e0f(0x508)](this[_0x211e0f(0x45e)]);for(const _0x16df11 of this[_0x211e0f(0xaa4)])this[_0x211e0f(0x843)](_0x16df11,this[_0x211e0f(0xaa4)]['length']);await this[_0x211e0f(0x562)]['ready'],this['logMMRRebuild'](_0x279104);}[_0x2d5032(0x386)](){const _0x494746=_0x2d5032;return this[_0x494746(0x220)][_0x494746(0x165)][_0x494746(0x841)](async()=>{const _0x4520f4=_0x494746,_0x6f03c4=await this[_0x4520f4(0x562)][_0x4520f4(0x946)]();return{'startTime':Date[_0x4520f4(0xa45)](),'initialRoot':_0x6f03c4};},Promise[_0x494746(0x3a8)]({'startTime':0x0,'initialRoot':''}));}async[_0x2d5032(0x2a3)](_0x4d089e){const _0x2eea8c=_0x2d5032;try{const {startTime:_0x354fc3,initialRoot:_0x4e6c8c}=await _0x4d089e,_0x45b86a=await this[_0x2eea8c(0x562)][_0x2eea8c(0x946)](),_0x30d018=[_0x2eea8c(0x10f)+(_0x4e6c8c!==_0x45b86a),_0x2eea8c(0x3eb)+_0x4e6c8c,_0x2eea8c(0x8f1)+_0x45b86a,_0x2eea8c(0x367)+this[_0x2eea8c(0x562)][_0x2eea8c(0x6e9)](),'\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20'+(Date['now']()-_0x354fc3)+'\x20ms\x0a'][_0x2eea8c(0xa9a)]('\x20');this[_0x2eea8c(0x220)][_0x2eea8c(0x165)]['log']('',()=>_0x30d018);}catch(_0x49d784){console[_0x2eea8c(0x275)](_0x2eea8c(0x94e),_0x49d784);}}[_0x2d5032(0x6fd)](_0x30ac8a){const _0x1d4a29=_0x2d5032;this[_0x1d4a29(0x6d0)][_0x1d4a29(0x806)](_0x30ac8a),this[_0x1d4a29(0x5b1)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x1d4a29(0x5b1)]),this[_0x1d4a29(0x5b1)]=setTimeout(()=>{const _0x52ec45=_0x1d4a29;this[_0x52ec45(0x667)]();},0x3e8);}async[_0x2d5032(0x667)](){const _0x52ec59=_0x2d5032;if(this[_0x52ec59(0x5b1)]&&(clearTimeout(this[_0x52ec59(0x5b1)]),delete this[_0x52ec59(0x5b1)]),0x0!==this['transactionsToAppend']['length']){if(0x0===this[_0x52ec59(0xaa4)][_0x52ec59(0x80e)])return this[_0x52ec59(0xaa4)]=this[_0x52ec59(0x6d0)],this[_0x52ec59(0x6d0)]=[],await this[_0x52ec59(0x2cb)]();if(this['transactionsToAppend'][_0x52ec59(0x508)](this['compareTransactions']),this[_0x52ec59(0x45e)](this[_0x52ec59(0x6d0)][0x0],this[_0x52ec59(0xaa4)][this[_0x52ec59(0xaa4)][_0x52ec59(0x80e)]-0x1])>0x0){this[_0x52ec59(0x220)][_0x52ec59(0x165)]['log']('processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20'+this['transactionsToAppend'][_0x52ec59(0x80e)]+',\x20Transactions:\x20'+this[_0x52ec59(0xaa4)][_0x52ec59(0x80e)]);for(const _0x1ce42d of this['transactionsToAppend'])this[_0x52ec59(0xaa4)]['push'](_0x1ce42d),this['appendTransactionAndUpdateHashMap'](_0x1ce42d,this[_0x52ec59(0x6d0)][_0x52ec59(0x80e)]);return this[_0x52ec59(0x6d0)]=[],void this[_0x52ec59(0x220)][_0x52ec59(0x165)][_0x52ec59(0x107)]('processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-',async()=>_0x52ec59(0x91d)+await this[_0x52ec59(0x562)][_0x52ec59(0x946)]()+_0x52ec59(0x4da)+this[_0x52ec59(0x562)][_0x52ec59(0x6e9)]());}this[_0x52ec59(0x220)][_0x52ec59(0x165)][_0x52ec59(0x107)](_0x52ec59(0xa10)+this['transactionsToAppend'][_0x52ec59(0x80e)]+_0x52ec59(0x78d)+this[_0x52ec59(0xaa4)][_0x52ec59(0x80e)]),this[_0x52ec59(0xaa4)]['push'](...this['transactionsToAppend']),this[_0x52ec59(0x6d0)]=[],this[_0x52ec59(0x2cb)]();}}async[_0x2d5032(0x4d6)](){const _0x39bdaa=_0x2d5032;if(!_0x27f628[_0x39bdaa(0x6e8)](_0x53d5c4[_0x39bdaa(0x7a3)]))return;await this[_0x39bdaa(0x562)]['ready'];const {dataSent:_0x22286f,dataReceived:_0x525917}=this[_0x39bdaa(0x220)][_0x39bdaa(0x1fd)]();_0x27f628[_0x39bdaa(0x107)](_0x53d5c4['KeyValueDatabase'],_0x39bdaa(0x2c7),this[_0x39bdaa(0x32e)],_0x39bdaa(0x3d2)+_0x22286f,_0x39bdaa(0x582)+_0x525917,_0x39bdaa(0x54a),await this[_0x39bdaa(0x562)][_0x39bdaa(0x946)](),_0x39bdaa(0x173),this['mmr'][_0x39bdaa(0x6e9)]());}async['logInitialMMR'](){const _0xb1cc28=_0x2d5032;if(!_0x27f628['isChannelEnabled'](_0x53d5c4[_0xb1cc28(0x7a3)]))return;const _0x250472=this[_0xb1cc28(0x562)][_0xb1cc28(0x2ae)](),_0x549bbb=_0x250472['map'](_0x2bc59a=>_0x2bc59a[_0xb1cc28(0x7e9)]),_0x4d2cb0=await this[_0xb1cc28(0x562)][_0xb1cc28(0x946)]();_0x27f628[_0xb1cc28(0x107)](_0x53d5c4[_0xb1cc28(0x7a3)],_0xb1cc28(0x668),this[_0xb1cc28(0xaa4)][_0xb1cc28(0x80e)],'transactions',this[_0xb1cc28(0x562)][_0xb1cc28(0x6e9)](),_0xb1cc28(0x99e),_0x250472['length'],_0xb1cc28(0xa1a),_0x549bbb,_0xb1cc28(0xa9b),_0x4d2cb0);}}const _0x29869d=require('@crewdle/mist-connector-opfs'),_0x3378fc=require('@crewdle/mist-connector-indexed-db'),_0x5f3259=require('@crewdle/mist-connector-webrtc-browser'),_0x12f1a8=0x10000000;var _0x3d9fe9,_0x5ccac5,_0x14b6a1,_0x521099,_0x503230,_0x176135,_0x375f4e,_0x176a2f,_0x311285;!function(_0x107983){const _0x3e0679=_0x2d5032;_0x107983[_0x3e0679(0x7cd)]='AudioContext',_0x107983[_0x3e0679(0x9bc)]=_0x3e0679(0x9bc),_0x107983[_0x3e0679(0xa2a)]=_0x3e0679(0xa2a),_0x107983[_0x3e0679(0x3f9)]=_0x3e0679(0x3f9),_0x107983[_0x3e0679(0x997)]='DeviceConfig',_0x107983[_0x3e0679(0x2a1)]=_0x3e0679(0x2a1),_0x107983[_0x3e0679(0x8ba)]=_0x3e0679(0x8ba),_0x107983['ScreenSharing']='ScreenSharing',_0x107983[_0x3e0679(0x6a2)]=_0x3e0679(0x6a2),_0x107983[_0x3e0679(0x6dd)]='WebRTC';}(_0x3d9fe9||(_0x3d9fe9={}));class _0x4a22e7{[_0x2d5032(0x443)];['bufferedEvents'];['eventTarget'];constructor(_0x51ac82=new Map(),_0x181e69=new Map(),_0x23feb8=new EventTarget()){const _0x5c4704=_0x2d5032;this['registeredListeners']=_0x51ac82,this[_0x5c4704(0x7e7)]=_0x181e69,this[_0x5c4704(0x28e)]=_0x23feb8;}['emit']=(_0x71c6c6,_0x2fceff)=>this['registeredListeners'][_0x2d5032(0x290)](_0x71c6c6)?(_0x27f628[_0x2d5032(0x107)](_0x53d5c4[_0x2d5032(0xafc)],_0x2d5032(0x521),{'event':_0x71c6c6,'data':_0x2fceff}),this[_0x2d5032(0x28e)]['dispatchEvent'](new CustomEvent(_0x71c6c6,{'detail':_0x2fceff})),!0x0):(this[_0x2d5032(0xa89)](_0x71c6c6,_0x2fceff),!0x1);['on']=(_0xbaa50,_0x18b338)=>{const _0x284a6f=_0x2d5032,_0x5164f3=_0x5e8e81=>{const _0x11fc08=a0_0x11f8;_0x27f628[_0x11fc08(0x107)](_0x53d5c4[_0x11fc08(0xafc)],'Received\x20event\x20on\x20cluster',_0x5e8e81[_0x11fc08(0xa7e)],_0x5e8e81[_0x11fc08(0x4e8)]),_0x18b338(_0x5e8e81['detail']);};return this['registeredListeners']['set'](_0xbaa50,_0x5164f3),this['eventTarget']['addEventListener'](_0xbaa50,_0x5164f3),_0x27f628[_0x284a6f(0x107)](_0x53d5c4[_0x284a6f(0x211)],_0x284a6f(0x96b),_0xbaa50,_0x18b338),this[_0x284a6f(0x6b1)](_0xbaa50),this;};['off'](_0x5b13d7){const _0x1cd4bc=_0x2d5032;if(!_0x5b13d7)return this[_0x1cd4bc(0x443)][_0x1cd4bc(0x3e9)]((_0x26af94,_0x2069a1)=>{const _0x10bf86=_0x1cd4bc;this[_0x10bf86(0x28e)][_0x10bf86(0x6c4)](_0x2069a1,_0x26af94);}),void this[_0x1cd4bc(0x443)][_0x1cd4bc(0x24b)]();'string'==typeof _0x5b13d7&&this['removeListener'](_0x5b13d7),Array[_0x1cd4bc(0x7e5)](_0x5b13d7)&&_0x5b13d7[_0x1cd4bc(0x3e9)](_0x6abd82=>{const _0x11da1e=_0x1cd4bc;this[_0x11da1e(0x1e2)](_0x6abd82);});}[_0x2d5032(0x1e2)](_0x31b270){const _0x1348ad=_0x2d5032,_0x4ede2f=this[_0x1348ad(0x443)][_0x1348ad(0x13f)](_0x31b270);_0x4ede2f&&(this[_0x1348ad(0x28e)][_0x1348ad(0x6c4)](_0x31b270,_0x4ede2f),this[_0x1348ad(0x443)][_0x1348ad(0x113)](_0x31b270));}[_0x2d5032(0xa89)](_0x3d1368,_0x1eacde){const _0x2920f2=_0x2d5032;_0x27f628['log'](_0x53d5c4[_0x2920f2(0xafc)],_0x2920f2(0x9d6),{'event':_0x3d1368,'data':_0x1eacde});const _0x5b198b=this[_0x2920f2(0x7e7)][_0x2920f2(0x13f)](_0x3d1368)||[];this['bufferedEvents'][_0x2920f2(0x687)](_0x3d1368,[..._0x5b198b,_0x1eacde]);}['consumeBufferedEvents'](_0x6944bf){const _0x4bca54=_0x2d5032,_0x1cdc1d=this[_0x4bca54(0x7e7)]['get'](_0x6944bf);_0x1cdc1d&&(_0x1cdc1d[_0x4bca54(0x3e9)](_0x28bf86=>{const _0x1354c8=_0x4bca54;_0x27f628['log'](_0x53d5c4[_0x1354c8(0xafc)],'Consuming\x20buffered\x20event',{'event':_0x6944bf,'data':_0x28bf86}),this[_0x1354c8(0x28e)]['dispatchEvent'](new CustomEvent(_0x6944bf,{'detail':_0x28bf86}));}),this[_0x4bca54(0x7e7)][_0x4bca54(0x113)](_0x6944bf));}}class _0x5ec887 extends Error{constructor(_0x62e913){const _0x5878ce=_0x2d5032;super(_0x5878ce(0x17e)+_0x62e913);}}!function(_0x4a8081){const _0x4b6d36=_0x2d5032;_0x4a8081[_0x4a8081['Core']=0x0]=_0x4b6d36(0x64c),_0x4a8081[_0x4a8081[_0x4b6d36(0x1c7)]=0x1]='Optimization';}(_0x5ccac5||(_0x5ccac5={})),function(_0x5b86a3){const _0x3e19b4=_0x2d5032;_0x5b86a3[_0x5b86a3[_0x3e19b4(0x817)]=0x0]='Offer',_0x5b86a3[_0x5b86a3[_0x3e19b4(0x990)]=0x1]='Answer',_0x5b86a3[_0x5b86a3[_0x3e19b4(0x3a3)]=0x2]=_0x3e19b4(0x3a3),_0x5b86a3[_0x5b86a3['Success']=0x3]=_0x3e19b4(0x74c),_0x5b86a3[_0x5b86a3[_0x3e19b4(0x8a0)]=0x4]=_0x3e19b4(0x8a0),_0x5b86a3[_0x5b86a3['Restart']=0x5]=_0x3e19b4(0x729),_0x5b86a3[_0x5b86a3[_0x3e19b4(0x79a)]=0x6]='Disconnect',_0x5b86a3[_0x5b86a3[_0x3e19b4(0x2d5)]=0x7]=_0x3e19b4(0x2d5),_0x5b86a3[_0x5b86a3['OptimizationConnectionSuccess']=0x8]=_0x3e19b4(0x38f);}(_0x14b6a1||(_0x14b6a1={})),function(_0x4b8016){const _0x55d958=_0x2d5032;_0x4b8016[_0x4b8016[_0x55d958(0xa4a)]=0x0]=_0x55d958(0xa4a),_0x4b8016[_0x4b8016[_0x55d958(0x728)]=0x1]=_0x55d958(0x728);}(_0x521099||(_0x521099={})),function(_0x5c0da6){const _0x3be036=_0x2d5032;_0x5c0da6[_0x3be036(0x2a1)]='media-stream';}(_0x503230||(_0x503230={})),function(_0x1ac9ad){const _0x453d11=_0x2d5032;_0x1ac9ad[_0x1ac9ad[_0x453d11(0xa40)]=0x0]=_0x453d11(0xa40),_0x1ac9ad[_0x1ac9ad[_0x453d11(0x9d4)]=0x1]=_0x453d11(0x9d4),_0x1ac9ad[_0x1ac9ad[_0x453d11(0x8b6)]=0x2]=_0x453d11(0x8b6),_0x1ac9ad[_0x1ac9ad[_0x453d11(0x640)]=0x3]='NodeLeave';}(_0x176135||(_0x176135={})),function(_0x3031b3){const _0x10684b=_0x2d5032;_0x3031b3[_0x3031b3[_0x10684b(0x785)]=0x0]=_0x10684b(0x785),_0x3031b3[_0x3031b3[_0x10684b(0x812)]=0x1]='RemoteRemediation';}(_0x375f4e||(_0x375f4e={})),function(_0x13d0ca){const _0x20295f=_0x2d5032;_0x13d0ca[_0x20295f(0x3a5)]=_0x20295f(0x3bc),_0x13d0ca[_0x20295f(0x9ce)]=_0x20295f(0x551);}(_0x176a2f||(_0x176a2f={})),function(_0x3cbf94){const _0x3b68e8=_0x2d5032;_0x3cbf94['Resolution']=_0x3b68e8(0x6d3),_0x3cbf94['Bitrate']=_0x3b68e8(0x947);}(_0x311285||(_0x311285={}));const _0x1ea472=require('aws-amplify'),_0x290e6c=require('aws-amplify/utils'),_0x23cb15=require('@aws-amplify/api'),_0x50939e=require('@aws-amplify/core');class _0x4409ac{['clusterId'];[_0x2d5032(0x6ff)];['remoteId'];constructor(_0x4f24ea,_0x5aae2e,_0xe115dc){const _0x9342ca=_0x2d5032;this['clusterId']=_0x4f24ea,this['localNode']=_0x5aae2e,this[_0x9342ca(0x4b4)]=_0xe115dc;}[_0x2d5032(0x4a4)](){const _0x3b007b=_0x2d5032;return this[_0x3b007b(0x6ff)][_0x3b007b(0x5cd)]();}[_0x2d5032(0x5f1)](){return this['remoteId'];}}var _0x2f9b42,_0x4388c7,_0x221093;function _0xd187e3(_0x33ecec,_0xe61115){const _0x821568=_0x2d5032;return _0x33ecec[_0x821568(0x576)]===_0xe61115;}function _0x150719(_0x11c964,_0x41a7a8){const _0x414acd=_0x2d5032;return _0x11c964[_0x414acd(0x97f)]?.[_0x414acd(0x21f)](_0x41a7a8)??function(_0x1faad8){const _0x10dfdb=_0x414acd;return void 0x0===_0x1faad8[_0x10dfdb(0x97f)];}(_0x11c964);}function _0x53fdcd(_0x11419c,{contentType:_0x343cbc,label:_0x149d98,remoteId:_0x538f1a}){return _0x11419c+'-'+_0x343cbc+'-'+_0x149d98+'-'+_0x538f1a;}function _0x16a530(_0x4e93e1,_0x441fe6,_0x47d28c){return''+_0x4e93e1+_0x441fe6+_0x47d28c;}function _0x51c9c8(_0x80ba8){const _0x2a3be7=_0x2d5032;return _0x80ba8===_0x4388c7['Incoming']?_0x2a3be7(0x544):_0x2a3be7(0x6b5);}function _0x492045(_0x2c048f,_0x2a621c){const _0xded8da=_0x2d5032;return{'label':_0x2c048f['getInternalStreamId'](),'contentType':_0x2c048f[_0xded8da(0x98e)](),'remoteId':_0x2a621c[_0xded8da(0x5f1)](),'supportsContentType':_0x2a621c['getSupportedContentTypes']()[_0xded8da(0x21f)](_0x2c048f[_0xded8da(0x98e)]())};}!function(_0x58fa2e){const _0xa2de3b=_0x2d5032;_0x58fa2e[_0x58fa2e[_0xa2de3b(0x1c0)]=0x0]=_0xa2de3b(0x1c0),_0x58fa2e[_0x58fa2e[_0xa2de3b(0x5af)]=0x1]=_0xa2de3b(0x5af),_0x58fa2e[_0x58fa2e['Rejected']=0x2]='Rejected';}(_0x2f9b42||(_0x2f9b42={})),function(_0x3d0c2d){const _0x27cc53=_0x2d5032;_0x3d0c2d[_0x27cc53(0x61e)]='in',_0x3d0c2d[_0x27cc53(0x330)]=_0x27cc53(0x6fc);}(_0x4388c7||(_0x4388c7={}));class _0x4872f1{[_0x2d5032(0x6a6)];['retryCallback'];constructor(_0xf02aa2,_0x21c4a4){const _0x255320=_0x2d5032;this[_0x255320(0x6a6)]=_0xf02aa2,this[_0x255320(0x44f)]=_0x21c4a4;}[_0x2d5032(0x7f5)](_0x9865e){this['callback'](_0x9865e);}async[_0x2d5032(0x16f)](){const _0x5d52d1=_0x2d5032;await this[_0x5d52d1(0x44f)]();}}class _0x25e829{[_0x2d5032(0x6a6)];[_0x2d5032(0x44f)];constructor(_0x40e135,_0x30f1ef){const _0x2ee1b2=_0x2d5032;this[_0x2ee1b2(0x6a6)]=_0x40e135,this['retryCallback']=_0x30f1ef;}async[_0x2d5032(0x7f5)](_0x28532e){const _0x50417c=_0x2d5032;await this[_0x50417c(0x6a6)](_0x28532e);}async['wait'](){const _0x434849=_0x2d5032;await this[_0x434849(0x44f)]();}}function _0x76d105(_0xc6c338=()=>{},_0x1bb0ea=()=>!0x1,_0x3c67fa=()=>{}){let _0x15b163,_0x4aaacf,_0x464821=0x0;return{get 'size'(){return _0x464821;},get 'head'(){return _0x15b163;},get 'tail'(){return _0x4aaacf;},set 'head'(_0x31d55e){_0x15b163=_0x31d55e;},set 'tail'(_0x5ed6bd){_0x4aaacf=_0x5ed6bd;},'push'(_0x1244aa,_0x14888e=!0x0){const _0x46075d=a0_0x11f8,_0x181df2={'value':_0x1244aa};_0x14888e&&_0x1bb0ea(_0x181df2)?_0xc6c338():(_0x4aaacf&&(_0x181df2[_0x46075d(0xa68)]=_0x4aaacf,_0x4aaacf[_0x46075d(0x356)]=_0x181df2),_0x4aaacf=_0x181df2,_0x15b163||(_0x15b163=_0x181df2),_0x464821+=0x1,_0x14888e&&_0xc6c338());},'pop'(){const _0x186d9c=a0_0x11f8;if(!_0x4aaacf)return;const _0x3bd00a=_0x4aaacf[_0x186d9c(0x50f)];return _0x4aaacf=_0x4aaacf['previous'],_0x4aaacf&&delete _0x4aaacf[_0x186d9c(0x356)],_0x4aaacf||(_0x15b163=void 0x0),_0x464821-=0x1,_0x3bd00a;},'unshift'(_0x42799e,_0x4614c6=!0x0){const _0x41fcd2=a0_0x11f8,_0x5eb72f={'value':_0x42799e};_0x4614c6&&_0x1bb0ea(_0x5eb72f)?_0xc6c338():(_0x15b163&&(_0x15b163[_0x41fcd2(0xa68)]=_0x5eb72f,_0x5eb72f['next']=_0x15b163),_0x15b163=_0x5eb72f,_0x4aaacf||(_0x4aaacf=_0x5eb72f),_0x464821+=0x1,_0x4614c6&&_0xc6c338());},'shift'(){const _0x2531c5=a0_0x11f8;if(!_0x15b163)return;const _0x1ad000=_0x15b163[_0x2531c5(0x50f)];return _0x15b163=_0x15b163['next'],_0x15b163&&delete _0x15b163[_0x2531c5(0xa68)],_0x15b163||(_0x4aaacf=void 0x0),_0x464821-=0x1,_0x1ad000;},'clear'(){_0x3c67fa(),_0x15b163=void 0x0,_0x4aaacf=void 0x0,_0x464821=0x0;}};}function _0x435c7a(_0x55b58b,_0x372096=!0x1,_0x17ad27=()=>{},_0x51cd60=()=>!0x1,_0x4c0307=()=>{}){let _0x150f86=!0x1;const _0xb9f1d8=_0x76d105(async function(){const _0x563fa3=a0_0x11f8;if(!_0x150f86){for(_0x150f86=!0x0;_0xb9f1d8['head'];){const _0x49b7b4=_0xb9f1d8['shift']();if(_0x49b7b4)try{_0x55b58b instanceof _0x4872f1&&_0x55b58b[_0x563fa3(0x7f5)](_0x49b7b4),_0x55b58b instanceof _0x25e829&&await _0x55b58b[_0x563fa3(0x7f5)](_0x49b7b4),_0x17ad27(_0x49b7b4);}catch(_0x230d62){_0x372096?_0xb9f1d8[_0x563fa3(0x806)](_0x49b7b4,!0x1):_0xb9f1d8[_0x563fa3(0x250)](_0x49b7b4,!0x1),await _0x55b58b[_0x563fa3(0x16f)]();}}_0x150f86=!0x1;}},_0x51cd60,_0x4c0307);return _0xb9f1d8;}class _0x15401b extends _0x4409ac{[_0x2d5032(0x514)];[_0x2d5032(0x4f3)];[_0x2d5032(0x497)]=_0x23cb15['ConnectionState'][_0x2d5032(0x5ac)];['connectionStateListener']=_0x19bdf7();[_0x2d5032(0x856)]=_0x2d1ffa();['subscription'];['listenUnsubscriber'];[_0x2d5032(0x67a)]=_0x435c7a(new _0x25e829(this[_0x2d5032(0x9b1)][_0x2d5032(0x830)](this),this[_0x2d5032(0x7f4)]['bind'](this)));['client'];constructor(_0x592eeb,_0x24fbfb,_0x239df8,_0x1955db,_0x1a19e7){const _0x28508f=_0x2d5032;super(_0x24fbfb,_0x239df8,_0x1955db),this[_0x28508f(0x514)]=_0x592eeb,this[_0x28508f(0x4f3)]=_0x1a19e7;}async[_0x2d5032(0xf4)](){const _0x4bda76=_0x2d5032;try{const _0x4a3aac={'getTokens':async()=>{const _0x9338e8=a0_0x11f8,_0x25336e=await this['authService'][_0x9338e8(0x922)]();return{'accessToken':(0x0,_0x50939e[_0x9338e8(0x85c)])(_0x25336e),'idToken':(0x0,_0x50939e[_0x9338e8(0x85c)])(_0x25336e)};}};_0x1ea472['Amplify'][_0x4bda76(0xaa9)]({'API':{'GraphQL':{'endpoint':_0x1e75f5[_0x4bda76(0x4e9)][_0x4bda76(0x5bc)],'region':_0x1e75f5[_0x4bda76(0x4e9)][_0x4bda76(0x115)],'defaultAuthMode':_0x4bda76(0x669)}}},{'Auth':{'tokenProvider':_0x4a3aac}});const _0x586d8f=(0x0,_0x23cb15[_0x4bda76(0xac1)])();this[_0x4bda76(0x139)]=_0x586d8f,await this[_0x4bda76(0x75b)](),this[_0x4bda76(0x5d4)]=_0x290e6c['Hub'][_0x4bda76(0x66e)](_0x4bda76(0x907),async({payload:_0x210b80})=>{const _0x592fa9=_0x4bda76;if(_0x210b80[_0x592fa9(0x6a5)]===_0x23cb15[_0x592fa9(0xa86)]){const _0x2a1412=_0x210b80[_0x592fa9(0x906)];this[_0x592fa9(0x497)]=_0x2a1412[_0x592fa9(0x497)],this['connectionStateListener'][_0x592fa9(0x849)](_0x2a1412[_0x592fa9(0x497)]),this[_0x592fa9(0x497)]===_0x23cb15[_0x592fa9(0xa26)][_0x592fa9(0x5ac)]?(_0x27f628['error'](_0x592fa9(0x41a),{'clusterId':this[_0x592fa9(0xa46)],'nodeId':this[_0x592fa9(0x4a4)](),'nodeType':this[_0x592fa9(0x6ff)][_0x592fa9(0xa7e)]}),this[_0x592fa9(0x8d0)](),this[_0x592fa9(0xf4)]()):this[_0x592fa9(0x497)]===_0x23cb15[_0x592fa9(0xa26)][_0x592fa9(0x58b)]?_0x27f628[_0x592fa9(0x2d2)](_0x592fa9(0x126),{'clusterId':this[_0x592fa9(0xa46)],'nodeId':this[_0x592fa9(0x4a4)](),'nodeType':this[_0x592fa9(0x6ff)]['type']}):_0x27f628['warning'](_0x592fa9(0x813),{'clusterId':this[_0x592fa9(0xa46)],'nodeId':this[_0x592fa9(0x4a4)](),'nodeType':this[_0x592fa9(0x6ff)][_0x592fa9(0xa7e)],'data':{'state':_0x2a1412[_0x592fa9(0x497)]}});}});}catch(_0x321435){_0x27f628[_0x4bda76(0x275)](_0x4bda76(0x313),{'clusterId':this[_0x4bda76(0xa46)],'nodeId':this['getLocalId'](),'nodeType':this[_0x4bda76(0x6ff)][_0x4bda76(0xa7e)]});}}['close'](){const _0x16ec1c=_0x2d5032;_0x27f628[_0x16ec1c(0x2d2)]('appsync-close',{'clusterId':this[_0x16ec1c(0xa46)],'nodeId':this[_0x16ec1c(0x4a4)](),'nodeType':this[_0x16ec1c(0x6ff)]['type']}),this[_0x16ec1c(0x67a)][_0x16ec1c(0x24b)](),this[_0x16ec1c(0x5d4)]?.(),this[_0x16ec1c(0x2a9)]?.[_0x16ec1c(0x3c5)](),delete this[_0x16ec1c(0x2a9)];}[_0x2d5032(0x235)](){const _0x3fdf82=_0x2d5032;return this[_0x3fdf82(0x497)]===_0x23cb15[_0x3fdf82(0xa26)]['Connected'];}[_0x2d5032(0x309)](_0x518a89){const _0x188afe=_0x2d5032;this[_0x188afe(0x67a)]['push'](_0x518a89);}['onMessage'](_0x324b90){const _0x49e994=_0x2d5032;return this[_0x49e994(0x856)][_0x49e994(0x75b)](_0x324b90);}[_0x2d5032(0x17a)](){const _0x189638=_0x2d5032;return[_0x1a575a['ContentType'][_0x189638(0x7e1)]];}async['waitConnected'](){const _0x5e7aff=_0x2d5032;if(!this[_0x5e7aff(0x235)]())return new Promise(_0x52f930=>{const _0x1f7983=this['connectionStateListener']['subscribe'](_0xb5b67c=>{const _0x1f4b08=a0_0x11f8;_0xb5b67c===_0x23cb15['ConnectionState'][_0x1f4b08(0x58b)]&&(_0x1f7983(),_0x52f930());});});}async[_0x2d5032(0x9b1)](_0x38c30e){const _0x102f53=_0x2d5032;if(this[_0x102f53(0x497)]!==_0x23cb15['ConnectionState']['Connected'])throw new Error(_0x102f53(0x260));_0x38c30e[_0x102f53(0x97f)]&&0x1===_0x38c30e[_0x102f53(0x97f)][_0x102f53(0x80e)]?await this[_0x102f53(0x849)](_0x38c30e[_0x102f53(0x97f)][0x0],JSON[_0x102f53(0x8b2)](_0x38c30e)):_0x27f628[_0x102f53(0x275)]('appsync-no-destination',{'clusterId':this[_0x102f53(0xa46)],'nodeId':this['getLocalId'](),'nodeType':this[_0x102f53(0x6ff)][_0x102f53(0xa7e)]});}async['publish'](_0xa5fc84,_0x4b4d11){const _0x28f6f4=_0x2d5032;if(!this[_0x28f6f4(0x139)])throw new Error(_0x28f6f4(0x977));_0x27f628[_0x28f6f4(0x107)](_0x53d5c4[_0x28f6f4(0x265)],'AppSync\x20publish',this[_0x28f6f4(0x4a4)](),_0x4b4d11),await this['client']['graphql']({'query':_0x28f6f4(0x3cf),'variables':{'name':await this[_0x28f6f4(0x53d)](_0xa5fc84),'data':_0x4b4d11}});}async[_0x2d5032(0x75b)](){const _0x54e151=_0x2d5032;if(this[_0x54e151(0x2a9)])return;if(!this[_0x54e151(0x139)])throw new Error(_0x54e151(0x977));_0x27f628[_0x54e151(0x107)](_0x53d5c4['Signaling'],'AppSync\x20subscribe',this[_0x54e151(0x4a4)]());const _0x1577cc=await this[_0x54e151(0x139)][_0x54e151(0x646)]({'query':_0x54e151(0x96a),'variables':{'name':await this['getHash']()},'authToken':await this[_0x54e151(0x4f3)][_0x54e151(0x922)]()},{'Authorization':await this['authService'][_0x54e151(0x922)]()});this[_0x54e151(0x2a9)]=_0x1577cc['subscribe']({'next':({data:_0x26830c})=>{const _0x6733b6=_0x54e151,_0x26e282=JSON['parse'](_0x26830c[_0x6733b6(0x75b)][_0x6733b6(0x906)]);!_0xd187e3(_0x26e282,this['getLocalId']())&&_0x150719(_0x26e282,this[_0x6733b6(0x4a4)]())&&this[_0x6733b6(0x856)][_0x6733b6(0x849)](_0x26e282);},'error':console['log']});}async[_0x2d5032(0x53d)](_0x273b80){const _0xd033aa=_0x2d5032,_0x4108b4=await crypto[_0xd033aa(0x6c5)][_0xd033aa(0x6fe)](_0xd033aa(0x7b8),new TextEncoder()[_0xd033aa(0x3fd)](this['vendorId']+'-'+this[_0xd033aa(0xa46)]+'-'+(_0x273b80??this[_0xd033aa(0x4a4)]())));return Array['from'](new Uint8Array(_0x4108b4))[_0xd033aa(0x247)](_0xc6ef74=>_0xc6ef74[_0xd033aa(0x656)](0x10)[_0xd033aa(0x5dc)](0x2,'0'))[_0xd033aa(0xa9a)]('');}}!function(_0x1e76c0){const _0x38015d=_0x2d5032;_0x1e76c0[_0x1e76c0[_0x38015d(0x104)]=0x0]=_0x38015d(0x104),_0x1e76c0[_0x1e76c0[_0x38015d(0x55e)]=0x1]='Remove',_0x1e76c0[_0x1e76c0[_0x38015d(0x47f)]=0x2]=_0x38015d(0x47f),_0x1e76c0[_0x1e76c0[_0x38015d(0x611)]=0x3]=_0x38015d(0x611),_0x1e76c0[_0x1e76c0['RemoteRemove']=0x4]='RemoteRemove';}(_0x221093||(_0x221093={}));const _0x117162='0',_0x9f7298=_0x2d5032(0x39e),_0x1908ad=_0x310ee6,_0x3ff847=0x60000;class _0x2738dc{[_0x2d5032(0xa46)];[_0x2d5032(0x6ff)];[_0x2d5032(0x4b4)];['iceServers'];[_0x2d5032(0x26f)];[_0x2d5032(0x2d7)];['connection'];[_0x2d5032(0x793)];[_0x2d5032(0x30d)]=0x1;[_0x2d5032(0x83a)];[_0x2d5032(0x68d)]=[];[_0x2d5032(0x4ca)]=[];[_0x2d5032(0x781)];constructor(_0x500c3c,_0x5b0466,_0x28e002,_0x4192ef,_0xfed861,_0x3c509f){const _0x48db11=_0x2d5032;this[_0x48db11(0xa46)]=_0x500c3c,this[_0x48db11(0x6ff)]=_0x5b0466,this[_0x48db11(0x4b4)]=_0x28e002,this[_0x48db11(0xad0)]=_0x4192ef,this[_0x48db11(0x26f)]=_0xfed861,this['connectionConstructor']=_0x3c509f,this[_0x48db11(0x9d3)]=new this[(_0x48db11(0x2d7))]({'handshakeServers':this['iceServers']}),this[_0x48db11(0xa28)]();}['close'](){this['stopConnection']();}[_0x2d5032(0x956)](_0x57e688){this['connectionType']=_0x57e688;}async[_0x2d5032(0x28b)](_0x311d6f,_0x363b2f){const _0x520d1f=_0x2d5032;if(_0x363b2f===this[_0x520d1f(0x30d)])for(const _0x48c590 of _0x311d6f){if(!this['connection'][_0x520d1f(0x657)])return this[_0x520d1f(0x92c)](_0x48c590);try{await this['connection'][_0x520d1f(0x289)](_0x48c590);}catch(_0x153e59){this['addPendingHandshakeCandidate'](_0x48c590);}}}[_0x2d5032(0x235)](){const _0x378fb8=_0x2d5032;return this['logConnectionState'](),'connected'===this['connection'][_0x378fb8(0x497)]&&[_0x378fb8(0x561),'completed'][_0x378fb8(0x21f)](this['connection'][_0x378fb8(0x9b6)])&&_0x378fb8(0x2da)!==this['connection'][_0x378fb8(0x406)]&&_0x378fb8(0x788)===this[_0x378fb8(0x793)]?.[_0x378fb8(0x7cf)];}[_0x2d5032(0x6d6)](_0x5845d6){this['systemTopic']=_0x5845d6;}['unregisterSystemPublisher'](){const _0x5ceee7=_0x2d5032;delete this[_0x5ceee7(0x83a)];}[_0x2d5032(0x1cc)](_0x4a4462){const _0x19ecf6=_0x2d5032;this[_0x19ecf6(0x8b7)](),this['connection']=new this[(_0x19ecf6(0x2d7))]({'handshakeServers':this[_0x19ecf6(0xad0)]}),_0x4a4462?this[_0x19ecf6(0x30d)]=_0x4a4462:this[_0x19ecf6(0x30d)]+=0x1,this[_0x19ecf6(0xa28)]();}[_0x2d5032(0x998)](){const _0x286bc4=_0x2d5032;this[_0x286bc4(0x4ca)][_0x286bc4(0x3e9)](_0x5c619c=>{const _0xb27582=_0x286bc4;try{this[_0xb27582(0x9d3)][_0xb27582(0x289)](_0x5c619c);}catch(_0x584470){}}),this[_0x286bc4(0x4ca)]=[];}[_0x2d5032(0x239)](_0x41c026,_0x13f532){const _0x3d1707=_0x2d5032;if(!this[_0x3d1707(0x83a)])throw new _0x54e1a8(_0x54e1a8['codes']['MissingSystemTopic'],{'content':_0x41c026});const _0x166061={'sourceId':this[_0x3d1707(0x6ff)][_0x3d1707(0x5cd)](),'destinationIds':[this['remoteId']],'propagate':this[_0x3d1707(0x26f)]!==_0x5ccac5[_0x3d1707(0x64c)],'retry':this[_0x3d1707(0x26f)]!==_0x5ccac5['Core'],'messageType':_0x4bbd49[_0x3d1707(0x802)],'content':_0x41c026};_0x13f532&&(_0x166061[_0x3d1707(0x642)]=_0x13f532),this[_0x3d1707(0x83a)][_0x3d1707(0x849)](_0x166061);}[_0x2d5032(0xa28)](){const _0x523d08=_0x2d5032;this[_0x523d08(0x9d3)][_0x523d08(0x734)]=()=>{const _0xc0f0c0=_0x523d08;_0xc0f0c0(0x197)===this['connection']['gatheringState']&&this[_0xc0f0c0(0x68d)][_0xc0f0c0(0x80e)]>0x0&&(this[_0xc0f0c0(0x781)]&&clearTimeout(this['handshakeDebounce']),this['handshakeDebounce']=setTimeout(()=>{const _0x28b361=_0xc0f0c0;delete this[_0x28b361(0x781)],this[_0x28b361(0x2bf)](),this[_0x28b361(0x68d)]=[];},0x1f4));},this['connection'][_0x523d08(0x121)]=_0x2ad53d=>{const _0x4a93de=_0x523d08;_0x2ad53d[_0x4a93de(0xabb)]&&this[_0x4a93de(0x68d)]['push'](_0x2ad53d[_0x4a93de(0xabb)]);};}['stopConnection'](){const _0x5e201f=_0x2d5032;clearTimeout(this[_0x5e201f(0x781)]),delete this['handshakeDebounce'],this['handshakeCandidates']=[],this['pendingHandshakeCandidates']=[],this[_0x5e201f(0x793)]&&(this[_0x5e201f(0x793)][_0x5e201f(0x63f)]=null,this['dataChannel']['onClose']=null,this[_0x5e201f(0x793)][_0x5e201f(0x8d0)](),delete this[_0x5e201f(0x793)]),this[_0x5e201f(0x9d3)][_0x5e201f(0x734)]=null,this[_0x5e201f(0x9d3)][_0x5e201f(0x121)]=null,this[_0x5e201f(0x9d3)][_0x5e201f(0x2c3)]=null,this[_0x5e201f(0x9d3)][_0x5e201f(0x9f6)]=null,this[_0x5e201f(0x9d3)][_0x5e201f(0x9e2)]=null,this['connection']['onDataChannel']=null,this[_0x5e201f(0x9d3)][_0x5e201f(0x8d0)]();}[_0x2d5032(0x92c)](_0x5444b9){this['pendingHandshakeCandidates']['push'](_0x5444b9);}['logConnectionState'](){const _0x1abca5=_0x2d5032;_0x27f628[_0x1abca5(0x107)](_0x53d5c4[_0x1abca5(0xa26)],_0x1abca5(0xa71),{'localId':this[_0x1abca5(0x6ff)][_0x1abca5(0x5cd)](),'remoteId':this[_0x1abca5(0x4b4)],'connectionState':this['connection'][_0x1abca5(0x497)],'handshakeState':this[_0x1abca5(0x9d3)][_0x1abca5(0x9b6)],'signalingState':this[_0x1abca5(0x9d3)][_0x1abca5(0x406)],'dataChannelState':this[_0x1abca5(0x793)]?.[_0x1abca5(0x7cf)]});}}function _0x68b327(_0x13050c,_0xea5908){const _0x42633f=_0x2d5032;_0xea5908['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x42633f(0x802)],'content':_0x13050c});}class _0x2043dd{static [_0x2d5032(0x237)];[_0x2d5032(0x42f)]=[];['source'];constructor(){setInterval(()=>{const _0x8a9f3e=a0_0x11f8;this[_0x8a9f3e(0x42f)][_0x8a9f3e(0x3e9)](_0x5183a5=>{const _0xdf05a0=_0x8a9f3e;if(Date['now']()-_0x5183a5[_0xdf05a0(0x491)]>_0x5183a5[_0xdf05a0(0x678)]){try{_0x5183a5[_0xdf05a0(0x6a6)]();}catch(_0x29d1c4){}_0x5183a5[_0xdf05a0(0x491)]=Date[_0xdf05a0(0xa45)]();}});},0x64);}static[_0x2d5032(0x181)](){const _0x26e86f=_0x2d5032;return _0x2043dd[_0x26e86f(0x237)]||(_0x2043dd['instance']=new _0x2043dd()),_0x2043dd[_0x26e86f(0x237)];}[_0x2d5032(0x35f)](_0x30e0e6){const _0x22c2a8=_0x2d5032,_0x576cef=this[_0x22c2a8(0x503)](_0x30e0e6),_0x30c7a9=_0x30e0e6[_0x22c2a8(0x7d5)]();_0x30c7a9&&_0x576cef&&(_0x30c7a9[_0x22c2a8(0xa17)]['value']=0.001,_0x576cef[_0x22c2a8(0xf4)](_0x30c7a9),_0x30c7a9['connect'](_0x30e0e6[_0x22c2a8(0x43c)]),_0x576cef[_0x22c2a8(0x7cc)]());}[_0x2d5032(0x7cb)](){const _0xf5f329=_0x2d5032;this['source']&&(this[_0xf5f329(0x3c6)]['stop'](),this[_0xf5f329(0x3c6)][_0xf5f329(0x872)](),this[_0xf5f329(0x3c6)]=void 0x0);}['wait'](_0xbd0bc4){return new Promise(_0x259a4a=>{setTimeout(_0x259a4a,_0xbd0bc4);});}['setInterval'](_0x52afae,_0x4bb88b){const _0x4b65f2=_0x2d5032;return this[_0x4b65f2(0x42f)][_0x4b65f2(0x806)]({'callback':_0x52afae,'interval':_0x4bb88b,'lastExecuted':Date[_0x4b65f2(0xa45)]()}),()=>{const _0x260374=_0x4b65f2;this[_0x260374(0x42f)]=this[_0x260374(0x42f)][_0x260374(0xa9f)](_0x847e7d=>_0x847e7d['callback']!==_0x52afae);};}[_0x2d5032(0x503)](_0x4e5a3c){const _0x567c88=_0x2d5032;if(_0x4e5a3c[_0x567c88(0x503)])return _0x4e5a3c[_0x567c88(0x503)]();const _0x1b2513=_0x4e5a3c[_0x567c88(0x86e)](),_0x2c3660=_0x4e5a3c[_0x567c88(0x374)](0x1,0x1,_0x4e5a3c['sampleRate']);return _0x2c3660[_0x567c88(0x64b)](0x0)[0x0]=0xa,_0x1b2513[_0x567c88(0x911)]=_0x2c3660,_0x1b2513['loop']=!0x0,_0x1b2513;}}const _0x461db3=_0x2043dd[_0x2d5032(0x181)]();class _0xf02f3b extends _0x2738dc{[_0x2d5032(0x5ba)]=_0x19bdf7();[_0x2d5032(0x804)]=_0x19bdf7();[_0x2d5032(0x844)]=_0x19bdf7();[_0x2d5032(0x6c0)]=new Map();['chunks']=new Map();[_0x2d5032(0x305)];['messagesReceived']=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0x2d5032(0x8a4)]=0x0;[_0x2d5032(0x948)]=0x0;['loggingCycle']=_0x472cf8(_0x2d5032(0x809),_0x53d5c4[_0x2d5032(0x875)]);[_0x2d5032(0x8d0)](){const _0x56b2ba=_0x2d5032;this['clearWaitSuccess'](),this['receivers']['clear'](),super[_0x56b2ba(0x8d0)]();}async['handleOffer'](_0x3298d9,_0x1ab50b){const _0x5a031c=_0x2d5032;this[_0x5a031c(0x30d)]=_0x1ab50b,this[_0x5a031c(0x90c)]();const _0xe16cc2=await this[_0x5a031c(0x9d3)]['createAnswer'](_0x3298d9);this['processPendingHandshakeCandidates']();const _0x558d58=(0x0,_0x1fd9e4['v4'])();this['publishSystemMessage']({'type':_0x14b6a1[_0x5a031c(0x990)],'answer':_0xe16cc2,'version':_0x1ab50b,'connectionType':this[_0x5a031c(0x26f)]},_0x558d58),this[_0x5a031c(0x26f)]===_0x5ccac5['Core']&&(this[_0x5a031c(0x305)]=_0x461db3['setInterval'](()=>{const _0x57386a=_0x5a031c;this[_0x57386a(0x239)]({'type':_0x14b6a1['Answer'],'answer':_0xe16cc2,'version':_0x1ab50b,'connectionType':this[_0x57386a(0x26f)]},_0x558d58);},0x1388));}[_0x2d5032(0x3de)](){this['clearWaitSuccess']();}['handleNeedRestart'](_0x3e69ef){const _0x6173c6=_0x2d5032;this[_0x6173c6(0x1cc)](_0x3e69ef),this[_0x6173c6(0x239)]({'type':_0x14b6a1[_0x6173c6(0x729)]});}async[_0x2d5032(0x596)](){const _0x22f5cd=_0x2d5032;this['systemTopic']&&(await this['connection'][_0x22f5cd(0x43a)](this[_0x22f5cd(0x6c0)],(_0x2f948c,_0x1a10c1)=>{const _0x1ac444=_0x22f5cd;_0x68b327({'type':_0x14b6a1[_0x1ac444(0x2d5)],'streamId':_0x1a10c1,'nodeId':this[_0x1ac444(0x4b4)],'stats':_0x2f948c},this['systemTopic']);}),this[_0x22f5cd(0x83a)][_0x22f5cd(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49['PeerConnection'],'content':{'type':_0x14b6a1[_0x22f5cd(0x2d5)],'nodeId':this['remoteId'],'stats':{'origin':_0x521099[_0x22f5cd(0x728)],'timestamp':Date[_0x22f5cd(0xa45)](),'messagesReceived':this[_0x22f5cd(0x5be)],'bytesReceived':this[_0x22f5cd(0x8a4)],'timeReceiving':this[_0x22f5cd(0x948)],'systemMessages':this[_0x22f5cd(0x5f3)]}}}));}[_0x2d5032(0x63f)](_0x45f1d0){const _0x2e7bd7=_0x2d5032;return _0x1e75f5[_0x2e7bd7(0x2dc)]?this[_0x2e7bd7(0x5ba)][_0x2e7bd7(0x75b)](_0x45f1d0):this[_0x2e7bd7(0x5ba)][_0x2e7bd7(0x75b)](_0x3108d3=>{const _0x2a4684=_0x2e7bd7;0x0===_0x3108d3[_0x2a4684(0x384)]&&_0x3108d3['messageType']===_0x4bbd49[_0x2a4684(0x8b3)]&&this['loggingCycle'][_0x2a4684(0x165)][_0x2a4684(0x107)](_0x2a4684(0xaf6)+this[_0x2a4684(0x4b4)],()=>_0x57abd3(_0x3108d3)),_0x45f1d0(_0x3108d3);});}[_0x2d5032(0x9e2)](_0x1cd0b6){const _0xc49ec1=_0x2d5032;return this[_0xc49ec1(0x804)][_0xc49ec1(0x75b)](({track:_0x14e4c0,stream:_0x497e69})=>_0x1cd0b6(_0x14e4c0,_0x497e69));}[_0x2d5032(0x2c5)](_0x4dc4c7){const _0x2210a5=_0x2d5032;return this[_0x2210a5(0x844)][_0x2210a5(0x75b)](({track:_0x344847,stream:_0x592ed4})=>_0x4dc4c7(_0x344847,_0x592ed4));}[_0x2d5032(0x1cc)](_0x296350){const _0x88f84f=_0x2d5032;this['clearWaitSuccess'](),this[_0x88f84f(0x6c0)]['forEach'](_0x1f88a7=>{const _0x2796a2=_0x88f84f;_0x1f88a7[_0x2796a2(0x24b)]();}),super[_0x88f84f(0x1cc)](_0x296350);}[_0x2d5032(0x2bf)](){const _0x1577a9=_0x2d5032;this[_0x1577a9(0x239)]({'type':_0x14b6a1['Handshake'],'candidates':this[_0x1577a9(0x68d)],'origin':_0x521099[_0x1577a9(0x728)],'version':this['currentVersion'],'connectionType':this['connectionType']});}[_0x2d5032(0xa28)](){const _0x40711f=_0x2d5032;super['setupConnectionEvents'](),this[_0x40711f(0x9d3)]['onTrack']=_0x5b7517=>{const _0xf4ef19=_0x40711f;_0x27f628['log'](_0x53d5c4[_0xf4ef19(0x449)],'CrewdleReceiverConnection\x20ontrack',this[_0xf4ef19(0x6ff)]['getId'](),_0x5b7517),_0x5b7517[_0xf4ef19(0x40c)][0x0][_0xf4ef19(0x593)]=_0xbcc99a=>{const _0x403132=_0xf4ef19;this[_0x403132(0x6c0)][_0x403132(0x13f)](_0x5b7517['streams'][0x0]['id'])?.[_0x403132(0x113)](_0xbcc99a[_0x403132(0xf1)]),0x0===this[_0x403132(0x6c0)][_0x403132(0x13f)](_0x5b7517[_0x403132(0x40c)][0x0]['id'])?.[_0x403132(0x279)]&&this[_0x403132(0x6c0)]['delete'](_0x5b7517[_0x403132(0x40c)][0x0]['id']),this[_0x403132(0x844)][_0x403132(0x849)]({'track':_0xbcc99a['track'],'stream':_0x5b7517[_0x403132(0x40c)][0x0]});},this[_0xf4ef19(0x6c0)][_0xf4ef19(0x290)](_0x5b7517[_0xf4ef19(0x40c)][0x0]['id'])||this[_0xf4ef19(0x6c0)][_0xf4ef19(0x687)](_0x5b7517[_0xf4ef19(0x40c)][0x0]['id'],new Set()),this['receivers'][_0xf4ef19(0x13f)](_0x5b7517[_0xf4ef19(0x40c)][0x0]['id'])['add'](_0x5b7517['track']),this['trackCallback'][_0xf4ef19(0x849)]({'track':_0x5b7517['track'],'stream':_0x5b7517[_0xf4ef19(0x40c)][0x0]});},this[_0x40711f(0x9d3)][_0x40711f(0x97b)]=_0x1d6cb2=>{const _0x815347=_0x40711f;this[_0x815347(0x793)]=_0x1d6cb2[_0x815347(0x20a)],this[_0x815347(0x793)][_0x815347(0x63f)]=_0x234306=>{const _0x52b341=_0x815347;if(_0x234306[_0x52b341(0x906)]!==_0x117162)this[_0x52b341(0x2e2)](_0x234306['data']);else{if(!this[_0x52b341(0x793)])return void _0x27f628['error'](_0x52b341(0x3d7),{'clusterId':this[_0x52b341(0xa46)],'nodeId':this[_0x52b341(0x6ff)]['getId'](),'nodeType':this[_0x52b341(0x6ff)][_0x52b341(0xa7e)],'remoteId':this[_0x52b341(0x4b4)],'data':{'connection':_0x52b341(0x16a)}});if('open'!==this[_0x52b341(0x793)][_0x52b341(0x7cf)])return;this[_0x52b341(0x793)][_0x52b341(0x309)]('1');}};};}[_0x2d5032(0x2e2)](_0x290a5c){const _0x230952=_0x2d5032;if(_0x230952(0x823)==typeof _0x290a5c&&_0x290a5c[_0x230952(0x517)](_0x9f7298))return this[_0x230952(0x5be)]+=0x1,this['bytesReceived']+=_0x290a5c['length'],this[_0x230952(0x46c)](_0x290a5c);setTimeout(()=>{const _0x5d0d25=_0x230952,_0x3d5c65=Date[_0x5d0d25(0xa45)]();let _0x44aa02;if((_0x290a5c instanceof ArrayBuffer||_0x290a5c[_0x5d0d25(0x80e)]<=_0x1908ad)&&(this[_0x5d0d25(0x5be)]+=0x1,this[_0x5d0d25(0x8a4)]+=_0x290a5c instanceof ArrayBuffer?_0x290a5c['byteLength']:_0x290a5c[_0x5d0d25(0x80e)]),_0x290a5c instanceof ArrayBuffer){const [_0x4c10f9,_0x5818ad]=this[_0x5d0d25(0x8aa)](_0x290a5c);_0x44aa02=_0x4c10f9,_0x44aa02[_0x5d0d25(0x3ab)][_0x5d0d25(0x906)]=_0x5818ad;}else _0x44aa02=JSON[_0x5d0d25(0x6c6)](_0x290a5c);if(0x0===_0x44aa02[_0x5d0d25(0x384)]){this[_0x5d0d25(0x5f3)]['messages'][_0x5d0d25(0x4eb)]+=0x1;const {systemMessageType:_0x371e2e,systemContentMessageType:_0x23b518}=_0x57abd3(_0x44aa02);this[_0x5d0d25(0x5f3)][_0x371e2e]||(this[_0x5d0d25(0x5f3)][_0x371e2e]={[_0x23b518]:0x0}),this['systemMessagesReceived'][_0x371e2e][_0x23b518]||(this[_0x5d0d25(0x5f3)][_0x371e2e][_0x23b518]=0x0),this[_0x5d0d25(0x5f3)][_0x371e2e][_0x5d0d25(0x4eb)]||(this[_0x5d0d25(0x5f3)][_0x371e2e]['total']=0x0),this[_0x5d0d25(0x5f3)][_0x371e2e][_0x23b518]+=0x1,this[_0x5d0d25(0x5f3)][_0x371e2e][_0x5d0d25(0x4eb)]+=0x1;}this[_0x5d0d25(0x5ba)][_0x5d0d25(0x849)](_0x44aa02),this[_0x5d0d25(0x948)]+=Date[_0x5d0d25(0xa45)]()-_0x3d5c65;},0x0);}[_0x2d5032(0x46c)](_0x4dd766){const _0x9f253f=_0x2d5032,_0x15501a=_0x4dd766[_0x9f253f(0x93c)](';'),_0x5b3cc7=_0x15501a[0x1],_0xf9a978=parseInt(_0x15501a[0x2],0xa),_0x90f7c4=parseInt(_0x15501a[0x3],0xa),_0x732b54=_0x4dd766[_0x9f253f(0x9b8)](_0x9f7298+';'+_0x5b3cc7+';'+_0xf9a978+';'+_0x90f7c4+';','');this[_0x9f253f(0x5c8)][_0x9f253f(0x290)](_0x5b3cc7)||this[_0x9f253f(0x5c8)][_0x9f253f(0x687)](_0x5b3cc7,[]);const _0x127c01=this[_0x9f253f(0x5c8)]['get'](_0x5b3cc7);_0x127c01[_0xf9a978]=_0x732b54,_0x127c01[_0x9f253f(0x80e)]===_0x90f7c4&&(this[_0x9f253f(0x2e2)](_0x127c01['join']('')),this[_0x9f253f(0x5c8)][_0x9f253f(0x113)](_0x5b3cc7));}[_0x2d5032(0x90c)](){const _0x441063=_0x2d5032;this[_0x441063(0x305)]?.(),delete this[_0x441063(0x305)];}[_0x2d5032(0x3be)](_0x162315){const _0x245cf3=_0x2d5032,_0x47a061=new TextDecoder()['decode'](_0x162315);return JSON[_0x245cf3(0x6c6)](_0x47a061);}[_0x2d5032(0x8aa)](_0x4f9453){const _0xd0e9f1=_0x2d5032,_0x122c86=new Uint8Array(_0x4f9453[_0xd0e9f1(0xa3e)](0x0,0x4)),_0x397ec1=new Uint32Array(_0x122c86[_0xd0e9f1(0x911)])[0x0],_0x4d5820=new Uint8Array(_0x4f9453[_0xd0e9f1(0xa3e)](0x4,0x4+_0x397ec1)),_0x48f847=new Uint8Array(_0x4f9453[_0xd0e9f1(0xa3e)](0x4+_0x397ec1));return[this[_0xd0e9f1(0x3be)](_0x4d5820[_0xd0e9f1(0x911)]),_0x48f847[_0xd0e9f1(0x911)]];}}const _0x1a88a0=0xc350;var _0x2666f4,_0x5c5086;!function(_0x3d4106){const _0x40849b=_0x2d5032;_0x3d4106[_0x3d4106[_0x40849b(0x4a9)]=0x0]=_0x40849b(0x4a9),_0x3d4106[_0x3d4106['Medium']=0x1]=_0x40849b(0x624),_0x3d4106[_0x3d4106[_0x40849b(0x4c8)]=0x2]='Low';}(_0x2666f4||(_0x2666f4={}));class _0x4599f0 extends _0x2738dc{[_0x2d5032(0x30b)];[_0x2d5032(0x18e)];[_0x2d5032(0x6c2)]=new Map();[_0x2d5032(0x223)];[_0x2d5032(0x8e0)];[_0x2d5032(0x689)];[_0x2d5032(0x9a5)]=!0x1;[_0x2d5032(0xa70)];[_0x2d5032(0x82c)];[_0x2d5032(0x48e)];[_0x2d5032(0x67a)]=function(e,t=_0x2666f4,n=!0x1){const _0x346d5c=_0x2d5032;let s=!0x1;const o=[];async function i(){const _0x510ad4=a0_0x11f8;if(!s){for(s=!0x0;o[_0x510ad4(0x4f0)](e=>e[_0x510ad4(0x137)]);){let t,s=0x0;for(const [e,n]of o[_0x510ad4(0x419)]())if(t=n[_0x510ad4(0x35e)](),s=e,t)break;if(t)try{if(e instanceof _0x4872f1&&e[_0x510ad4(0x7f5)](t),e instanceof _0x25e829&&await e[_0x510ad4(0x7f5)](t),o['slice'](-0x1)[_0x510ad4(0x4f0)](e=>e['head']))continue;const n=o[_0x510ad4(0x80e)]-0x1;s===n&&o[n][_0x510ad4(0x137)]&&await _0x461db3[_0x510ad4(0x16f)](0x0);}catch(i){n?o[s]['push'](t,!0x1):o[s][_0x510ad4(0x250)](t,!0x1),await e['wait']();}}s=!0x1;}}return Object['values'](t)[_0x346d5c(0x3e9)](e=>{const _0x280295=_0x346d5c;_0x280295(0x823)!=typeof e&&(o[e]=_0x76d105(i));}),{'queues':o};}(new _0x4872f1(this[_0x2d5032(0x9b1)][_0x2d5032(0x830)](this),this[_0x2d5032(0x127)][_0x2d5032(0x830)](this)));[_0x2d5032(0x658)]=0x0;[_0x2d5032(0x9ab)]=0x0;[_0x2d5032(0x910)]=0x0;[_0x2d5032(0x8e2)]=0x0;[_0x2d5032(0xa42)];[_0x2d5032(0x220)]=_0x472cf8(_0x2d5032(0x1af),_0x53d5c4['SenderSendMessage']);constructor(_0x5e8dcf,_0x51abda,_0x499f8f,_0x25e3b7,_0x18459e,_0x56e932,_0x6ee77c,_0x5cd974){const _0x47cf03=_0x2d5032;super(_0x5e8dcf,_0x51abda,_0x499f8f,_0x25e3b7,_0x18459e,_0x5cd974),this[_0x47cf03(0x30b)]=_0x56e932,this[_0x47cf03(0x18e)]=_0x6ee77c;}['close'](){const _0x51e5d5=_0x2d5032;this[_0x51e5d5(0x760)](),this['clearHeartbeat'](),delete this[_0x51e5d5(0x689)],this['clearRestartTimeout'](),this['clearConnectionTimeout'](),this[_0x51e5d5(0x58f)](),this[_0x51e5d5(0x6c2)][_0x51e5d5(0x24b)](),this[_0x51e5d5(0x9a5)]=!0x1,this[_0x51e5d5(0x67a)][_0x51e5d5(0x4a6)][_0x51e5d5(0x3e9)](_0x42ad95=>_0x42ad95[_0x51e5d5(0x24b)]()),this[_0x51e5d5(0x3ed)](),super[_0x51e5d5(0x8d0)]();}[_0x2d5032(0x235)](){const _0x7e1d2b=_0x2d5032;return!!this[_0x7e1d2b(0x689)]&&super[_0x7e1d2b(0x235)]()&&Date[_0x7e1d2b(0xa45)]()-this[_0x7e1d2b(0x689)]<0x3a98;}async[_0x2d5032(0x596)](){const _0x76f65c=_0x2d5032;this[_0x76f65c(0x83a)]&&(await this[_0x76f65c(0x9d3)]['collectSendersStats'](this['senders'],(_0x4f47ec,_0x4eebff)=>{const _0x36cbd4=_0x76f65c;_0x68b327({'type':_0x14b6a1[_0x36cbd4(0x2d5)],'streamId':_0x4eebff,'nodeId':this[_0x36cbd4(0x4b4)],'stats':_0x4f47ec},this['systemTopic']);}),this[_0x76f65c(0x83a)][_0x76f65c(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x76f65c(0x802)],'content':{'type':_0x14b6a1[_0x76f65c(0x2d5)],'nodeId':this[_0x76f65c(0x4b4)],'stats':{'origin':_0x521099[_0x76f65c(0xa4a)],'timestamp':Date[_0x76f65c(0xa45)](),'messagesSent':this[_0x76f65c(0x658)],'bytesSent':this[_0x76f65c(0x9ab)],'timeSending':this[_0x76f65c(0x910)],'roundTripTime':this['roundTripTime']}}}));}async[_0x2d5032(0x56f)](_0x56c54a){const _0x94cd04=_0x2d5032;_0x27f628['log'](_0x53d5c4[_0x94cd04(0x449)],_0x94cd04(0x110),this[_0x94cd04(0x6ff)][_0x94cd04(0x5cd)](),this[_0x94cd04(0x4b4)]),this['clearRestartTimeout'](),this[_0x94cd04(0xa0a)](),this[_0x94cd04(0x58f)](),this[_0x94cd04(0xa70)]=setTimeout(()=>{const _0x4b8c6e=_0x94cd04;this[_0x4b8c6e(0x79c)]();},0x7530),this[_0x94cd04(0x793)]||(this[_0x94cd04(0x793)]=this['connection']['createDataChannel'](_0x94cd04(0x906)),this[_0x94cd04(0x793)]['bufferedAmountLowThreshold']=_0x3ff847,this['dataChannel'][_0x94cd04(0xff)]=()=>{const _0x59ca1b=_0x94cd04;this[_0x59ca1b(0xa42)]=setTimeout(()=>{const _0x134312=_0x59ca1b;delete this['oncloseTimeout'],['connecting',_0x134312(0x788)][_0x134312(0x21f)](this[_0x134312(0x793)]?.['state']??'')||this['handleDisconnect']();},0xfa);});const _0x58311d=await this['connection'][_0x94cd04(0x56f)](_0x56c54a);this[_0x94cd04(0x689)]||(this[_0x94cd04(0x689)]=Date['now']());const _0x7b6837=(0x0,_0x1fd9e4['v4'])();this[_0x94cd04(0x239)]({'type':_0x14b6a1[_0x94cd04(0x817)],'offer':_0x58311d,'version':this['currentVersion'],'connectionType':this[_0x94cd04(0x26f)]},_0x7b6837),this['connectionType']===_0x5ccac5[_0x94cd04(0x64c)]&&(this['waitAnswer']=_0x461db3[_0x94cd04(0x509)](()=>{const _0x5e7d4d=_0x94cd04;this[_0x5e7d4d(0x239)]({'type':_0x14b6a1[_0x5e7d4d(0x817)],'offer':_0x58311d,'version':this[_0x5e7d4d(0x30d)],'connectionType':this[_0x5e7d4d(0x26f)]},_0x7b6837);},0x1388));}async['handleAnswer'](_0x37bddc,_0x2c227){const _0x15ea6f=_0x2d5032;if(_0x2c227===this['currentVersion']){this['clearWaitAnswer']();try{await this[_0x15ea6f(0x9d3)][_0x15ea6f(0x23d)](_0x37bddc,this['createOffer'][_0x15ea6f(0x830)](this)),this[_0x15ea6f(0x998)](),this[_0x15ea6f(0xa0a)](),this[_0x15ea6f(0x3ca)]();}catch(_0x1b2fea){this[_0x15ea6f(0x79c)]();}}}[_0x2d5032(0x309)](_0x1b23a3){const _0x332f2f=_0x2d5032;if(!this['dataChannel'])throw new _0x54e1a8(_0x54e1a8[_0x332f2f(0x318)][_0x332f2f(0x855)],{'message':_0x332f2f(0x719),'localId':this[_0x332f2f(0x6ff)]['getId'](),'remoteId':this[_0x332f2f(0x4b4)],'eventMessage':_0x1b23a3});if(_0x332f2f(0x788)!==this[_0x332f2f(0x793)][_0x332f2f(0x7cf)])throw new _0x54e1a8(_0x54e1a8[_0x332f2f(0x318)]['InvalidDataChannel'],{'message':_0x332f2f(0x5d9),'localId':this[_0x332f2f(0x6ff)]['getId'](),'remoteId':this[_0x332f2f(0x4b4)],'eventMessage':_0x1b23a3});let _0x50633b;if(_0x1b23a3[_0x332f2f(0x3ab)][_0x332f2f(0x906)]instanceof ArrayBuffer){const _0x233e40=_0x1b23a3[_0x332f2f(0x3ab)][_0x332f2f(0x906)];_0x1b23a3={..._0x1b23a3,'content':{..._0x1b23a3[_0x332f2f(0x3ab)],'data':void 0x0}},_0x50633b=this[_0x332f2f(0x387)](_0x1b23a3,_0x233e40);}else _0x50633b=JSON[_0x332f2f(0x8b2)](_0x1b23a3);if(_0x332f2f(0x823)==typeof _0x50633b&&_0x50633b[_0x332f2f(0x80e)]>_0x1908ad)return void this[_0x332f2f(0x1c1)](_0x1b23a3,_0x50633b);0x0===_0x1b23a3['topicLabel']&&_0x1b23a3[_0x332f2f(0x1f1)]===_0x4bbd49[_0x332f2f(0x8b3)]&&this['loggingCycle'][_0x332f2f(0x165)][_0x332f2f(0x841)](()=>_0x27f628[_0x332f2f(0x107)](_0x53d5c4[_0x332f2f(0x188)],_0x332f2f(0x2b2),this[_0x332f2f(0x4b4)],_0x57abd3(_0x1b23a3)),void 0x0);const _0x1e75ee=0x0===_0x1b23a3[_0x332f2f(0x384)]&&[_0x4bbd49['Subscription'],_0x4bbd49[_0x332f2f(0x802)]]['includes'](_0x1b23a3['messageType'])?_0x2666f4[_0x332f2f(0x4a9)]:_0x1b23a3 instanceof ArrayBuffer?_0x2666f4['Low']:_0x2666f4[_0x332f2f(0x624)];this[_0x332f2f(0xad1)](_0x50633b,_0x1e75ee);}['addTrack'](_0xaf33cd,_0x2bf6ac,_0x28d3f7,_0x2c7edb){const _0x463ad0=_0x2d5032,_0x966235=(_0x2696c3=this[_0x463ad0(0x30b)],_0x2346ea=this[_0x463ad0(0x18e)],Math['floor'](0xe1000*_0x2696c3*_0x2346ea));var _0x2696c3,_0x2346ea;const _0x27d886=this[_0x463ad0(0x6c2)][_0x463ad0(0x13f)](_0x2bf6ac['id'])||{'stream':_0x2bf6ac,'priority':_0x28d3f7,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x966235,'maxBitrate':_0x966235,'framerate':this[_0x463ad0(0x30b)],'maxFramerate':this[_0x463ad0(0x30b)],'tracks':{},'params':_0x2c7edb},_0x4548e2=_0x27d886[_0x463ad0(0x11a)][_0xaf33cd['kind']]||{'track':_0xaf33cd};if(_0x4548e2[_0x463ad0(0x4c3)]?(_0x4548e2[_0x463ad0(0xf1)]=_0xaf33cd,this['connection'][_0x463ad0(0x85d)](_0xaf33cd,_0x4548e2[_0x463ad0(0x4c3)])):_0x4548e2[_0x463ad0(0x4c3)]=this[_0x463ad0(0x9d3)]['addTrack'](_0xaf33cd,_0x2bf6ac),_0x27d886[_0x463ad0(0x11a)][_0xaf33cd[_0x463ad0(0x1da)]]=_0x4548e2,_0x2c7edb&&(_0x27d886[_0x463ad0(0x835)]=_0x2c7edb),_0x2c7edb&&_0x463ad0(0x5f6)===_0x2c7edb[_0x463ad0(0x1da)]&&_0x2c7edb[_0x463ad0(0x6d3)]&&_0x2c7edb['maxResolution']&&(_0x27d886[_0x463ad0(0x4d1)]=this[_0x463ad0(0xa99)](_0x2c7edb['resolution'],_0x2c7edb[_0x463ad0(0x579)]),_0x27d886[_0x463ad0(0x5b0)]=_0x27d886[_0x463ad0(0x4d1)],_0x27d886['tracks']['video']&&_0x27d886[_0x463ad0(0x11a)][_0x463ad0(0x5f6)]['sender'])){const _0x2e89c2=_0x27d886[_0x463ad0(0x11a)][_0x463ad0(0x5f6)]['sender'];this[_0x463ad0(0x9d3)][_0x463ad0(0x8f6)](_0x2e89c2,Math['floor'](0xa*_0x27d886[_0x463ad0(0x4d1)])/0xa,_0x27d886['framerate'],_0x27d886[_0x463ad0(0x947)],_0x27d886[_0x463ad0(0x452)]);}this[_0x463ad0(0x6c2)][_0x463ad0(0x687)](_0x2bf6ac['id'],_0x27d886);}[_0x2d5032(0x7ad)](_0x25d361,_0x1238af){const _0xf4857e=_0x2d5032,_0x57a9dc=this[_0xf4857e(0x6c2)]['get'](_0x25d361['id']);if(_0x57a9dc&&_0x57a9dc[_0xf4857e(0x452)]!==_0x1238af&&(_0x57a9dc[_0xf4857e(0x452)]=_0x1238af,_0x57a9dc[_0xf4857e(0x11a)][_0xf4857e(0x5f6)]&&_0x57a9dc['tracks'][_0xf4857e(0x5f6)][_0xf4857e(0x4c3)])){const _0x64d4f5=_0x57a9dc['tracks']['video'][_0xf4857e(0x4c3)];this[_0xf4857e(0x9d3)][_0xf4857e(0x8f6)](_0x64d4f5,Math['floor'](0xa*_0x57a9dc[_0xf4857e(0x4d1)])/0xa,_0x57a9dc[_0xf4857e(0x960)],_0x57a9dc['bitrate'],_0x57a9dc[_0xf4857e(0x452)]);}}[_0x2d5032(0x33b)](_0x73b088,_0x5d7b74){const _0x222d15=_0x2d5032,_0x3ac1f5=this['senders'][_0x222d15(0x13f)](_0x73b088['id']);if(_0x3ac1f5){if(_0x3ac1f5['params']=_0x5d7b74,_0x5d7b74&&_0x222d15(0x5f6)===_0x5d7b74[_0x222d15(0x1da)]&&_0x5d7b74[_0x222d15(0x6d3)]&&_0x5d7b74[_0x222d15(0x579)]){if(_0x3ac1f5[_0x222d15(0x5b0)]=this[_0x222d15(0xa99)](_0x5d7b74[_0x222d15(0x6d3)],_0x5d7b74[_0x222d15(0x579)]),_0x3ac1f5[_0x222d15(0x4d1)]<_0x3ac1f5[_0x222d15(0x5b0)]&&(_0x3ac1f5[_0x222d15(0x4d1)]=_0x3ac1f5['minResolutionScale']),_0x3ac1f5[_0x222d15(0x11a)][_0x222d15(0x5f6)]&&_0x3ac1f5['tracks']['video'][_0x222d15(0x4c3)]){const _0x356b80=_0x3ac1f5[_0x222d15(0x11a)]['video'][_0x222d15(0x4c3)];this['connection'][_0x222d15(0x8f6)](_0x356b80,Math[_0x222d15(0x176)](0xa*_0x3ac1f5[_0x222d15(0x4d1)])/0xa,_0x3ac1f5[_0x222d15(0x960)],_0x3ac1f5[_0x222d15(0x947)],_0x3ac1f5[_0x222d15(0x452)]);}this[_0x222d15(0x760)](),this[_0x222d15(0x97d)]();}this['senders'][_0x222d15(0x687)](_0x73b088['id'],_0x3ac1f5);}}['removeTrack'](_0x514ac5,_0xd8b9d1){const _0x1c9144=_0x2d5032,_0x4756bf=this['senders'][_0x1c9144(0x13f)](_0xd8b9d1['id']);if(_0x4756bf){const _0x5deed4=_0x4756bf[_0x1c9144(0x11a)][_0x514ac5['kind']];_0x5deed4&&(_0x5deed4['sender']&&this[_0x1c9144(0x9d3)][_0x1c9144(0x39b)](_0x5deed4[_0x1c9144(0x4c3)]),_0x5deed4[_0x1c9144(0xf1)]=void 0x0);}}[_0x2d5032(0xad3)](_0x5805c3){const _0x2e1b62=_0x2d5032;this[_0x2e1b62(0x760)]();const _0x2014cb=function(_0x37e2a2,_0x218dbb){const _0x1fd29c=_0x2e1b62;return _0x37e2a2['sort']((_0x5f0003,_0x7edc48)=>_0x218dbb[_0x1fd29c(0x736)]===_0x176a2f[_0x1fd29c(0x9ce)]?_0x7edc48[_0x1fd29c(0x452)]-_0x5f0003[_0x1fd29c(0x452)]:_0x5f0003[_0x1fd29c(0x452)]-_0x7edc48[_0x1fd29c(0x452)])[_0x1fd29c(0x91b)](_0x2ea66e=>function(_0x5b8c83,_0x5e8788){const _0x579f9a=_0x1fd29c;if(_0x5e8788[_0x579f9a(0x736)]===_0x176a2f[_0x579f9a(0x9ce)]){if(_0x5e8788[_0x579f9a(0x5a0)]===_0x311285[_0x579f9a(0x461)])return _0x5b8c83[_0x579f9a(0x4d1)]<0x4||_0x5b8c83[_0x579f9a(0x198)]>0xf;if(_0x5e8788[_0x579f9a(0x5a0)]===_0x311285[_0x579f9a(0x725)])return _0x5b8c83[_0x579f9a(0x478)]>_0x1a88a0;}return _0x5b8c83['resolutionScale']>_0x5b8c83['minResolutionScale']||_0x5b8c83[_0x579f9a(0x960)]<_0x5b8c83[_0x579f9a(0x198)]||_0x5b8c83[_0x579f9a(0x947)]<_0x5b8c83['maxBitrate'];}(_0x2ea66e,_0x218dbb));}(Array[_0x2e1b62(0x8ee)](this[_0x2e1b62(0x6c2)]['values']()),_0x5805c3);if(_0x2014cb&&(function(_0x441f1e,_0x56c299){const _0x2b8c9b=_0x2e1b62;_0x441f1e[_0x2b8c9b(0x11a)]['video']&&_0x441f1e[_0x2b8c9b(0x11a)]['video'][_0x2b8c9b(0x4c3)]&&(_0x441f1e[_0x2b8c9b(0x4d1)]=function(_0x19d849,_0x249e76,_0x1c4f91){const _0x4e94ec=_0x2b8c9b;switch(_0x1c4f91['action']){case _0x176a2f[_0x4e94ec(0x9ce)]:_0x1c4f91[_0x4e94ec(0x5a0)]===_0x311285[_0x4e94ec(0x461)]&&(_0x19d849+=0.5)>0x4&&(_0x19d849=0x4);break;case _0x176a2f[_0x4e94ec(0x3a5)]:(_0x19d849-=0.5)<_0x249e76&&(_0x19d849=_0x249e76);}return _0x19d849;}(_0x441f1e[_0x2b8c9b(0x4d1)],_0x441f1e[_0x2b8c9b(0x5b0)],_0x56c299),_0x441f1e[_0x2b8c9b(0x960)]=function(_0x43d962,_0x44e3d7,_0x599309){const _0x56629b=_0x2b8c9b;switch(_0x599309[_0x56629b(0x736)]){case _0x176a2f[_0x56629b(0x9ce)]:_0x599309[_0x56629b(0x5a0)]===_0x311285[_0x56629b(0x461)]&&(_0x43d962-=0x3)<0xf&&(_0x43d962=0xf);break;case _0x176a2f['Upgrade']:(_0x43d962+=0x3)>_0x44e3d7&&(_0x43d962=_0x44e3d7);}return _0x43d962;}(_0x441f1e[_0x2b8c9b(0x960)],_0x441f1e[_0x2b8c9b(0x198)],_0x56c299),_0x441f1e['bitrate']=function(_0x5eda98,_0x4d9ba0,_0x27bc11){const _0x56e71c=_0x2b8c9b;switch(_0x27bc11[_0x56e71c(0x736)]){case _0x176a2f[_0x56e71c(0x9ce)]:_0x27bc11['component']===_0x311285[_0x56e71c(0x725)]&&(_0x5eda98*=0.75)<_0x1a88a0&&(_0x5eda98=_0x1a88a0);break;case _0x176a2f['Upgrade']:(_0x5eda98*=1.25)>_0x4d9ba0&&(_0x5eda98=_0x4d9ba0);}return _0x5eda98;}(_0x441f1e[_0x2b8c9b(0x947)],_0x441f1e['maxBitrate'],_0x56c299));}(_0x2014cb,_0x5805c3),_0x2014cb['tracks'][_0x2e1b62(0x5f6)]&&_0x2014cb[_0x2e1b62(0x11a)][_0x2e1b62(0x5f6)][_0x2e1b62(0x4c3)])){const _0x13c64f=_0x2014cb[_0x2e1b62(0x11a)][_0x2e1b62(0x5f6)][_0x2e1b62(0x4c3)];this[_0x2e1b62(0x9d3)]['setEncodingParameters'](_0x13c64f,Math[_0x2e1b62(0x176)](0xa*_0x2014cb[_0x2e1b62(0x4d1)])/0xa,_0x2014cb['framerate'],_0x2014cb['bitrate'],_0x2014cb[_0x2e1b62(0x452)]);}(_0x2014cb||_0x5805c3[_0x2e1b62(0x736)]===_0x176a2f[_0x2e1b62(0x9ce)])&&this[_0x2e1b62(0x97d)]();}['calculateArrayBufferSize'](){const _0x409eb4=_0x2d5032;return this['retryQueue'][_0x409eb4(0x4a6)]['reduce']((_0xbea5cd,_0x26b6aa)=>_0xbea5cd+_0x26b6aa[_0x409eb4(0x279)],0x0)*_0x310ee6;}['getBufferedAmount'](){const _0x174406=_0x2d5032;return this['dataChannel']?.[_0x174406(0x20e)]??0x0;}[_0x2d5032(0x1cc)](){const _0x1e5921=_0x2d5032;super[_0x1e5921(0x1cc)](),this['clearOncloseTimeout'](),this[_0x1e5921(0x58f)](),this['senders'][_0x1e5921(0x3e9)](_0x50b729=>{const _0x497b25=_0x1e5921;_0x50b729[_0x497b25(0x11a)]['video']&&(_0x50b729['tracks'][_0x497b25(0x5f6)][_0x497b25(0x4c3)]=void 0x0),_0x50b729[_0x497b25(0x11a)]['audio']&&(_0x50b729[_0x497b25(0x11a)][_0x497b25(0x2fa)][_0x497b25(0x4c3)]=void 0x0);}),this[_0x1e5921(0x9a5)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x34c4d6=>{const _0xa3ee1a=a0_0x11f8;if(!this[_0xa3ee1a(0x793)]||_0xa3ee1a(0x788)!==this[_0xa3ee1a(0x793)][_0xa3ee1a(0x7cf)])return await _0x461db3[_0xa3ee1a(0x16f)](0x64),void _0x34c4d6();this[_0xa3ee1a(0x793)][_0xa3ee1a(0x20e)]<_0x3ff847?_0x34c4d6():this[_0xa3ee1a(0x793)][_0xa3ee1a(0x920)]=()=>{const _0x250f78=_0xa3ee1a;this[_0x250f78(0x793)]&&(this[_0x250f78(0x793)]['onBufferedAmountLow']=null),_0x34c4d6();};});}async[_0x2d5032(0x1c1)](_0x39e658,_0xb0de7d){const _0x2e3b2c=_0x2d5032,_0x5b2d01=[];for(let _0x33a8c4=0x0;_0x33a8c4<_0xb0de7d[_0x2e3b2c(0x80e)];_0x33a8c4+=_0x1908ad)_0x5b2d01['push'](_0xb0de7d[_0x2e3b2c(0xa3e)](_0x33a8c4,_0x33a8c4+_0x1908ad));for(const _0x7ef77b of _0x5b2d01){for(;this[_0x2e3b2c(0x67a)][_0x2e3b2c(0x4a6)][_0x2666f4[_0x2e3b2c(0x4c8)]][_0x2e3b2c(0x279)]>0x1;)await _0x461db3[_0x2e3b2c(0x16f)](0x64);this[_0x2e3b2c(0xad1)](_0x9f7298+';'+_0x39e658['uuid']+';'+_0x5b2d01[_0x2e3b2c(0x776)](_0x7ef77b)+';'+_0x5b2d01[_0x2e3b2c(0x80e)]+';'+_0x7ef77b,_0x2666f4[_0x2e3b2c(0x4c8)]);}}async[_0x2d5032(0xad1)](_0x3aced2,_0x3762a3){const _0x2ac366=_0x2d5032;_0x3aced2===_0x117162?this[_0x2ac366(0x67a)]['queues'][_0x3762a3][_0x2ac366(0x137)]?.['value']!==_0x117162&&this[_0x2ac366(0x67a)][_0x2ac366(0x4a6)][_0x3762a3][_0x2ac366(0x250)](_0x3aced2):this[_0x2ac366(0x67a)][_0x2ac366(0x4a6)][_0x3762a3][_0x2ac366(0x806)](_0x3aced2);}[_0x2d5032(0x9b1)](_0x4d9c44){const _0x3b2aae=_0x2d5032;if(!this[_0x3b2aae(0x793)]||_0x3b2aae(0x788)!==this[_0x3b2aae(0x793)]['state'])throw new Error(_0x3b2aae(0x4fd));if(this['dataChannel'][_0x3b2aae(0x20e)]>=0x600000)throw new Error('DataChannel\x20buffer\x20is\x20full.');const _0x5f0cad=Date[_0x3b2aae(0xa45)]();_0x4d9c44!==_0x117162&&(this[_0x3b2aae(0x658)]+=0x1,this[_0x3b2aae(0x9ab)]+=_0x4d9c44 instanceof ArrayBuffer?_0x4d9c44[_0x3b2aae(0x31c)]:_0x4d9c44['length']);try{ArrayBuffer,this[_0x3b2aae(0x793)][_0x3b2aae(0x309)](_0x4d9c44);}catch(_0x28652a){throw console[_0x3b2aae(0x275)](_0x3b2aae(0xa9e),_0x28652a),_0x28652a;}this['timeSending']+=Date[_0x3b2aae(0xa45)]()-_0x5f0cad;}[_0x2d5032(0x3ca)](){const _0x280c88=_0x2d5032;this[_0x280c88(0x223)]&&this[_0x280c88(0x245)]();let _0x573398=!0x0,_0x220cd5=Date['now']();this['lastHeartbeat']=Date['now'](),this[_0x280c88(0x793)][_0x280c88(0x63f)]=_0x50f95d=>{const _0x28d539=_0x280c88;'1'===_0x50f95d[_0x28d539(0x906)]&&(this['roundTripTime']=Date[_0x28d539(0xa45)]()-_0x220cd5,_0x573398&&this['publishSystemMessage']({'type':_0x14b6a1[_0x28d539(0x74c)]}),_0x573398=!0x1,this['lastHeartbeat']=Date['now'](),this[_0x28d539(0x9a5)]&&(this[_0x28d539(0x9a5)]=!0x1,this[_0x28d539(0x9e6)]()));},this[_0x280c88(0x223)]=_0x461db3[_0x280c88(0x509)](()=>{const _0x29e047=_0x280c88;_0x220cd5=Date[_0x29e047(0xa45)](),this['sendWithRetry'](_0x117162,_0x2666f4[_0x29e047(0x4a9)]),Date['now']()-this[_0x29e047(0x689)]>(_0x573398?0x15f90:0x3a98)&&this[_0x29e047(0x79c)]();},0xbb8);}['handleMissingSenders'](){const _0x155e71=_0x2d5032;this[_0x155e71(0x6c2)][_0x155e71(0x3e9)](_0x34311f=>{const _0x83368c=_0x155e71;_0x34311f['tracks'][_0x83368c(0x5f6)]&&_0x34311f[_0x83368c(0x11a)][_0x83368c(0x5f6)]['track']&&!_0x34311f[_0x83368c(0x11a)][_0x83368c(0x5f6)]['sender']&&(_0x34311f[_0x83368c(0x11a)]['video'][_0x83368c(0x4c3)]=this[_0x83368c(0x9d3)]['addTrack'](_0x34311f['tracks'][_0x83368c(0x5f6)][_0x83368c(0xf1)],_0x34311f[_0x83368c(0xa57)])),_0x34311f[_0x83368c(0x11a)][_0x83368c(0x2fa)]&&_0x34311f[_0x83368c(0x11a)][_0x83368c(0x2fa)][_0x83368c(0xf1)]&&!_0x34311f[_0x83368c(0x11a)]['audio'][_0x83368c(0x4c3)]&&(_0x34311f[_0x83368c(0x11a)][_0x83368c(0x2fa)][_0x83368c(0x4c3)]=this[_0x83368c(0x9d3)][_0x83368c(0x487)](_0x34311f[_0x83368c(0x11a)]['audio'][_0x83368c(0xf1)],_0x34311f[_0x83368c(0xa57)]));});}[_0x2d5032(0x2bf)](){const _0x3e4700=_0x2d5032;this[_0x3e4700(0x239)]({'type':_0x14b6a1[_0x3e4700(0x3a3)],'candidates':this['handshakeCandidates'],'origin':_0x521099[_0x3e4700(0xa4a)],'version':this['currentVersion'],'connectionType':this[_0x3e4700(0x26f)]});}[_0x2d5032(0xa28)](){const _0x18e8e7=_0x2d5032;super[_0x18e8e7(0xa28)](),this['connection'][_0x18e8e7(0x2c3)]=()=>{const _0xc38964=_0x18e8e7;if(_0xc38964(0x513)===this['connection'][_0xc38964(0x9b6)]){_0x27f628['log'](_0x53d5c4[_0xc38964(0xa26)],_0xc38964(0x7c1),this['localNode'][_0xc38964(0x5cd)](),this[_0xc38964(0x4b4)]);try{if(this['connection']['canRestartHandshake'])return void this[_0xc38964(0x9d3)][_0xc38964(0x8c8)]();}catch(_0x400b68){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x18e8e7(0x9d3)]['onConnectionStateChange']=()=>{const _0x5f55f8=_0x18e8e7;'disconnected'!==this[_0x5f55f8(0x9d3)][_0x5f55f8(0x497)]&&_0x5f55f8(0x513)!==this['connection'][_0x5f55f8(0x497)]||this['handleDisconnect']();};}[_0x2d5032(0x79c)](){const _0x2b2801=_0x2d5032;this[_0x2b2801(0x245)](),this[_0x2b2801(0x312)](),this[_0x2b2801(0xa0a)](),_0x27f628[_0x2b2801(0x2d2)](_0x2b2801(0x872),{'clusterId':this[_0x2b2801(0xa46)],'nodeId':this[_0x2b2801(0x6ff)]['getId'](),'nodeType':this[_0x2b2801(0x6ff)][_0x2b2801(0xa7e)],'remoteId':this[_0x2b2801(0x4b4)],'data':{'connectionType':this[_0x2b2801(0x26f)],'connectionState':this[_0x2b2801(0x9d3)]['connectionState'],'iceConnectionState':this[_0x2b2801(0x9d3)][_0x2b2801(0x9b6)],'signalingState':this['connection']['signalingState'],'readyState':this[_0x2b2801(0x793)]?.[_0x2b2801(0x7cf)]||'','lastHeartbeat':this[_0x2b2801(0x689)]?Date['now']()-this[_0x2b2801(0x689)]:'','retryQueue':this[_0x2b2801(0x67a)]}}),(this[_0x2b2801(0x689)]&&Date[_0x2b2801(0xa45)]()-this[_0x2b2801(0x689)]>0xea60)??0x1?this[_0x2b2801(0x83a)][_0x2b2801(0x849)]({'sourceId':this[_0x2b2801(0x4b4)],'destinationIds':[this[_0x2b2801(0x6ff)][_0x2b2801(0x5cd)]()],'messageType':_0x4bbd49[_0x2b2801(0x802)],'content':{'type':_0x14b6a1['Disconnect']}}):(this['resetConnection'](),this[_0x2b2801(0x239)]({'type':_0x14b6a1[_0x2b2801(0x8a0)],'version':this['currentVersion'],'connectionType':this[_0x2b2801(0x26f)]}),this[_0x2b2801(0x82c)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0x2d5032(0x245)](){const _0x514fd3=_0x2d5032;this[_0x514fd3(0x223)]?.(),delete this['heartbeatUnsubscriber'];}[_0x2d5032(0xa0a)](){const _0x1906b6=_0x2d5032;this[_0x1906b6(0xa70)]&&(clearTimeout(this[_0x1906b6(0xa70)]),delete this['connectionTimeout']);}['clearRestartTimeout'](){const _0x1fb66b=_0x2d5032;this[_0x1fb66b(0x82c)]&&(clearTimeout(this[_0x1fb66b(0x82c)]),delete this[_0x1fb66b(0x82c)]);}[_0x2d5032(0x760)](){const _0x141a5b=_0x2d5032;this[_0x141a5b(0x48e)]&&(clearTimeout(this[_0x141a5b(0x48e)]),delete this['upgradeTimeout']);}[_0x2d5032(0x97d)](){const _0x30b8ad=_0x2d5032;this[_0x30b8ad(0x48e)]=setTimeout(()=>{const _0x53258e=_0x30b8ad;this['applyRemediation']({'type':_0x375f4e[_0x53258e(0x785)],'action':_0x176a2f[_0x53258e(0x3a5)]});},0x3a98);}[_0x2d5032(0xa99)](_0x49538c,_0x483393){const _0x169aca=_0x2d5032,_0xc19fcb=Math['max'](_0x49538c[_0x169aca(0xa5e)]/_0x483393['width'],_0x49538c['height']/_0x483393[_0x169aca(0x7e9)]);return Math[_0x169aca(0x251)](Math[_0x169aca(0x53c)](_0xc19fcb,0x1),0x4);}[_0x2d5032(0x58f)](){const _0x48b118=_0x2d5032;this[_0x48b118(0x8e0)]?.(),delete this[_0x48b118(0x8e0)];}[_0x2d5032(0x3ed)](){const _0x4c8469=_0x2d5032;this['oncloseTimeout']&&(clearTimeout(this[_0x4c8469(0xa42)]),delete this[_0x4c8469(0xa42)]);}[_0x2d5032(0x95a)](_0x543b48){const _0x386cbd=_0x2d5032,_0x2ef13c=JSON[_0x386cbd(0x8b2)](_0x543b48);return new TextEncoder()['encode'](_0x2ef13c)[_0x386cbd(0x911)];}[_0x2d5032(0x387)](_0x4b1762,_0x1b0c27){const _0x4419fd=_0x2d5032,_0x37d82c=this[_0x4419fd(0x95a)](_0x4b1762),_0x55a640=new Uint8Array(0x4),_0x1bf971=new Uint8Array(_0x37d82c),_0x183038=new Uint8Array(_0x1b0c27);_0x55a640[_0x4419fd(0x687)](new Uint8Array(new Uint32Array([_0x1bf971[_0x4419fd(0x80e)]])['buffer']));const _0x499600=new Uint8Array(0x4+_0x1bf971['length']+_0x183038[_0x4419fd(0x80e)]);return _0x499600['set'](_0x55a640),_0x499600['set'](_0x1bf971,0x4),_0x499600[_0x4419fd(0x687)](_0x183038,0x4+_0x1bf971[_0x4419fd(0x80e)]),_0x499600['buffer'];}}class _0x37432c extends _0x4409ac{[_0x2d5032(0xad0)];[_0x2d5032(0x26f)];[_0x2d5032(0x30b)];['maxBpp'];[_0x2d5032(0x2d7)];[_0x2d5032(0x27c)];[_0x2d5032(0x78b)];[_0x2d5032(0x66f)]=[];[_0x2d5032(0x856)]=_0x2d1ffa();['trackListeners']=_0x2d1ffa();['removeTrackListeners']=_0x2d1ffa();[_0x2d5032(0x219)]=[];[_0x2d5032(0x83a)];[_0x2d5032(0x5d0)]=new Map();['dataUnsubscribers']=new Map();[_0x2d5032(0x2d9)]=new Map();[_0x2d5032(0x558)]=new Map();['successNotified']=!0x1;constructor(_0x58ecb2,_0x177a4f,_0x5c76a6,_0x586f84,_0x39ffb6,_0x19edec,_0x24460a,_0x50c0c8){const _0x26d95a=_0x2d5032;super(_0x58ecb2,_0x177a4f,_0x5c76a6),this[_0x26d95a(0xad0)]=_0x586f84,this[_0x26d95a(0x26f)]=_0x39ffb6,this[_0x26d95a(0x30b)]=_0x19edec,this[_0x26d95a(0x18e)]=_0x24460a,this[_0x26d95a(0x2d7)]=_0x50c0c8;}[_0x2d5032(0x9f2)](_0x2b73c6){const _0x58e55d=_0x2d5032;switch(_0x2b73c6[_0x58e55d(0x98e)]()){case _0x1a575a[_0x58e55d(0x979)][_0x58e55d(0x7e1)]:case _0x1a575a[_0x58e55d(0x979)]['PubSub']:case _0x1a575a[_0x58e55d(0x979)]['ObjectStore']:case _0x1a575a['ContentType'][_0x58e55d(0x7a3)]:case _0x1a575a[_0x58e55d(0x979)][_0x58e55d(0xa7f)]:case _0x1a575a[_0x58e55d(0x979)][_0x58e55d(0x571)]:case _0x1a575a[_0x58e55d(0x979)]['GraphDatabase']:case _0x1a575a[_0x58e55d(0x979)][_0x58e55d(0x821)]:this[_0x58e55d(0x5d0)]['set'](_0x2b73c6['getLabel'](),_0x2b73c6);break;case _0x1a575a['ContentType'][_0x58e55d(0xa50)]:this[_0x58e55d(0x2d9)][_0x58e55d(0x687)](_0x2b73c6[_0x58e55d(0xa74)](),_0x2b73c6);}}[_0x2d5032(0xa8c)](_0x112f84){const _0x2ba9d9=_0x2d5032;switch(_0x112f84[_0x2ba9d9(0x98e)]()){case _0x1a575a['ContentType'][_0x2ba9d9(0x7e1)]:case _0x1a575a[_0x2ba9d9(0x979)][_0x2ba9d9(0x973)]:case _0x1a575a[_0x2ba9d9(0x979)][_0x2ba9d9(0x450)]:case _0x1a575a['ContentType'][_0x2ba9d9(0x7a3)]:case _0x1a575a['ContentType']['Job']:case _0x1a575a[_0x2ba9d9(0x979)]['VectorDatabase']:case _0x1a575a['ContentType'][_0x2ba9d9(0x1a3)]:case _0x1a575a['ContentType']['ExternalStorage']:this[_0x2ba9d9(0x5d0)][_0x2ba9d9(0x113)](_0x112f84[_0x2ba9d9(0xa74)]());break;case _0x1a575a[_0x2ba9d9(0x979)][_0x2ba9d9(0xa50)]:this[_0x2ba9d9(0x2d9)][_0x2ba9d9(0x113)](_0x112f84[_0x2ba9d9(0xa74)]());}}[_0x2d5032(0x2e5)](_0x3b1822){const _0x513d33=_0x2d5032;switch(_0x3b1822[_0x513d33(0x98e)]()){case _0x1a575a[_0x513d33(0x979)][_0x513d33(0x7e1)]:case _0x1a575a[_0x513d33(0x979)][_0x513d33(0x973)]:case _0x1a575a['ContentType'][_0x513d33(0x450)]:case _0x1a575a[_0x513d33(0x979)]['KeyValueDatabase']:case _0x1a575a[_0x513d33(0x979)][_0x513d33(0xa7f)]:case _0x1a575a[_0x513d33(0x979)][_0x513d33(0x571)]:case _0x1a575a[_0x513d33(0x979)][_0x513d33(0x1a3)]:case _0x1a575a[_0x513d33(0x979)][_0x513d33(0x821)]:{const _0x23eca0=_0x3b1822[_0x513d33(0x75b)](_0x449b68=>{const _0x9b1509=_0x513d33;_0xd187e3(_0x449b68,this[_0x9b1509(0x4a4)]())&&_0x150719(_0x449b68,this['remoteId'])&&this[_0x9b1509(0x309)](_0x449b68);});this[_0x513d33(0x41e)]['set'](_0x3b1822[_0x513d33(0xa74)](),_0x23eca0);break;}case _0x1a575a['ContentType'][_0x513d33(0xa50)]:{const _0xa11b81=_0x3b1822[_0x513d33(0x75b)](({content:_0x3e33ff})=>{const _0x5edf5c=_0x513d33;switch(_0x3e33ff[_0x5edf5c(0x736)]){case _0x221093['Add']:this[_0x5edf5c(0x487)](_0x3e33ff[_0x5edf5c(0xf1)],_0x3e33ff[_0x5edf5c(0xa57)],_0x3e33ff[_0x5edf5c(0x452)],_0x3e33ff[_0x5edf5c(0x835)]);break;case _0x221093[_0x5edf5c(0x55e)]:this['removeTrack'](_0x3e33ff[_0x5edf5c(0xf1)],_0x3e33ff['stream']);break;case _0x221093[_0x5edf5c(0x47f)]:_0x3e33ff[_0x5edf5c(0x452)]&&this[_0x5edf5c(0x7ad)](_0x3e33ff[_0x5edf5c(0xa57)],_0x3e33ff['priority']),_0x3e33ff[_0x5edf5c(0x835)]&&this[_0x5edf5c(0x33b)](_0x3e33ff[_0x5edf5c(0xa57)],_0x3e33ff[_0x5edf5c(0x835)]);}});this['mediaUnsubscribers'][_0x513d33(0x687)](_0x3b1822[_0x513d33(0xa74)](),_0xa11b81);break;}}}[_0x2d5032(0x8da)](_0x18bf98){const _0x1d2c7f=_0x2d5032;switch(_0x18bf98[_0x1d2c7f(0x98e)]()){case _0x1a575a[_0x1d2c7f(0x979)][_0x1d2c7f(0x7e1)]:case _0x1a575a[_0x1d2c7f(0x979)][_0x1d2c7f(0x973)]:case _0x1a575a['ContentType'][_0x1d2c7f(0x450)]:case _0x1a575a[_0x1d2c7f(0x979)][_0x1d2c7f(0x7a3)]:case _0x1a575a[_0x1d2c7f(0x979)]['Job']:case _0x1a575a[_0x1d2c7f(0x979)][_0x1d2c7f(0x571)]:case _0x1a575a['ContentType'][_0x1d2c7f(0x1a3)]:case _0x1a575a[_0x1d2c7f(0x979)][_0x1d2c7f(0x821)]:this[_0x1d2c7f(0x41e)][_0x1d2c7f(0x13f)](_0x18bf98[_0x1d2c7f(0xa74)]())?.(),this['dataUnsubscribers'][_0x1d2c7f(0x113)](_0x18bf98[_0x1d2c7f(0xa74)]());break;case _0x1a575a['ContentType'][_0x1d2c7f(0xa50)]:this[_0x1d2c7f(0x558)][_0x1d2c7f(0x13f)](_0x18bf98[_0x1d2c7f(0xa74)]())?.(),this[_0x1d2c7f(0x558)][_0x1d2c7f(0x113)](_0x18bf98[_0x1d2c7f(0xa74)]());}}[_0x2d5032(0x17a)](){const _0x3a3cc2=_0x2d5032;return[_0x1a575a[_0x3a3cc2(0x979)][_0x3a3cc2(0x7e1)],_0x1a575a[_0x3a3cc2(0x979)]['Media'],_0x1a575a['ContentType'][_0x3a3cc2(0x973)],_0x1a575a[_0x3a3cc2(0x979)]['ObjectStore'],_0x1a575a[_0x3a3cc2(0x979)]['KeyValueDatabase'],_0x1a575a[_0x3a3cc2(0x979)][_0x3a3cc2(0xa7f)],_0x1a575a[_0x3a3cc2(0x979)][_0x3a3cc2(0x571)],_0x1a575a[_0x3a3cc2(0x979)]['GraphDatabase'],_0x1a575a[_0x3a3cc2(0x979)]['ExternalStorage']];}[_0x2d5032(0x6d6)](_0x43df3c){const _0x409c24=_0x2d5032;this[_0x409c24(0x83a)]=_0x43df3c;}[_0x2d5032(0x4ba)](){const _0x308144=_0x2d5032;delete this[_0x308144(0x83a)];}async[_0x2d5032(0xf4)](){const _0x29ad21=_0x2d5032;this[_0x29ad21(0x7a5)](),await this[_0x29ad21(0x56f)]();}[_0x2d5032(0x8d0)](){const _0x1b02ac=_0x2d5032;this[_0x1b02ac(0x219)]['forEach'](_0x2f23bc=>_0x2f23bc()),this[_0x1b02ac(0x219)]=[],this[_0x1b02ac(0x27c)]?.[_0x1b02ac(0x4ba)](),this[_0x1b02ac(0x27c)]?.[_0x1b02ac(0x8d0)](),delete this['senderConnection'],this['receiverUnsubscribers']['forEach'](_0x3f3a5d=>_0x3f3a5d()),this['receiverUnsubscribers']=[],this[_0x1b02ac(0x78b)]?.[_0x1b02ac(0x4ba)](),this[_0x1b02ac(0x78b)]?.[_0x1b02ac(0x8d0)](),delete this[_0x1b02ac(0x78b)];}[_0x2d5032(0x235)](){const _0x3b434c=_0x2d5032;return this[_0x3b434c(0x27c)]?.[_0x3b434c(0x235)]()&&this['receiverConnection']?.['isConnected']()||!0x1;}[_0x2d5032(0x309)](_0x11f7f7){const _0x14cb7a=_0x2d5032;if(!this[_0x14cb7a(0x27c)]||!this[_0x14cb7a(0x235)]())throw new _0x54e1a8(_0x54e1a8[_0x14cb7a(0x318)]['ConnectionNotinitialized'],{'message':_0x14cb7a(0x97e),'senderConnected':this[_0x14cb7a(0x27c)]?.['isConnected'](),'receiverConnected':this[_0x14cb7a(0x78b)]?.[_0x14cb7a(0x235)](),'localId':this[_0x14cb7a(0x4a4)](),'remoteId':this[_0x14cb7a(0x4b4)],'data':_0x11f7f7});this['senderConnection'][_0x14cb7a(0x309)](_0x11f7f7);}[_0x2d5032(0x63f)](_0x44c88c){const _0x3960f3=_0x2d5032;return this[_0x3960f3(0x856)]['subscribe'](_0x44c88c);}[_0x2d5032(0x9e2)](_0x148377){const _0x4ec0f4=_0x2d5032;return this[_0x4ec0f4(0x91f)][_0x4ec0f4(0x75b)](({track:_0x2003c8,stream:_0x20edb8})=>_0x148377(_0x2003c8,_0x20edb8));}[_0x2d5032(0x2c5)](_0x27edff){const _0x1eb35a=_0x2d5032;return this[_0x1eb35a(0x35a)][_0x1eb35a(0x75b)](({track:_0x5d1cc2,stream:_0x4d781a})=>_0x27edff(_0x5d1cc2,_0x4d781a));}[_0x2d5032(0x487)](_0x5bbecd,_0x3cd4d1,_0x4793e3,_0x4ee1a3){const _0x53d654=_0x2d5032;this['senderConnection']?.[_0x53d654(0x487)](_0x5bbecd,_0x3cd4d1,_0x4793e3,_0x4ee1a3);}[_0x2d5032(0x7ad)](_0x5ec933,_0x26940e){const _0x2e7de5=_0x2d5032;this['senderConnection']?.[_0x2e7de5(0x7ad)](_0x5ec933,_0x26940e);}[_0x2d5032(0x33b)](_0x16805c,_0xcc1cf1){const _0x2da525=_0x2d5032;this[_0x2da525(0x27c)]?.[_0x2da525(0x33b)](_0x16805c,_0xcc1cf1);}[_0x2d5032(0x39b)](_0x10b025,_0x3d2daf){const _0x423761=_0x2d5032;this[_0x423761(0x27c)]?.[_0x423761(0x39b)](_0x10b025,_0x3d2daf);}async[_0x2d5032(0x764)](_0x5770db){const _0x2b55d1=_0x2d5032;_0x27f628[_0x2b55d1(0x107)](_0x53d5c4[_0x2b55d1(0x449)],_0x2b55d1(0xa35),this[_0x2b55d1(0x4a4)](),_0x5770db);const {content:_0x168b9c}=_0x5770db;switch(_0x168b9c[_0x2b55d1(0xa7e)]){case _0x14b6a1['Offer']:await this[_0x2b55d1(0x373)](_0x168b9c);break;case _0x14b6a1[_0x2b55d1(0x990)]:await this['handleAnswer'](_0x168b9c);break;case _0x14b6a1[_0x2b55d1(0x74c)]:this[_0x2b55d1(0x3de)]();break;case _0x14b6a1[_0x2b55d1(0x3a3)]:await this['handleIceCandidates'](_0x168b9c);break;case _0x14b6a1[_0x2b55d1(0x8a0)]:this['handleNeedRestart'](_0x168b9c);break;case _0x14b6a1['Restart']:await this[_0x2b55d1(0x56f)]();}}[_0x2d5032(0x10c)](_0x2226ac){const _0x328b95=_0x2d5032;this[_0x328b95(0x27c)]?.[_0x328b95(0xad3)](_0x2226ac[_0x328b95(0x3ab)][_0x328b95(0x906)]);}['getConnectionType'](){const _0x4005f2=_0x2d5032;return this[_0x4005f2(0x26f)];}[_0x2d5032(0x956)](_0x402633){const _0x464cbe=_0x2d5032;this[_0x464cbe(0x26f)]=_0x402633,this['senderConnection']?.['setConnectionType'](_0x402633),this['receiverConnection']?.['setConnectionType'](_0x402633);}async['collectStats'](){const _0x71f310=_0x2d5032;await this[_0x71f310(0x27c)]?.[_0x71f310(0x596)](),await this[_0x71f310(0x78b)]?.[_0x71f310(0x596)]();}[_0x2d5032(0x5fc)](){const _0x2669d6=_0x2d5032;return this['senderConnection']?.[_0x2669d6(0x5fc)]()??0x0;}['getBufferedAmount'](){const _0x1fc809=_0x2d5032;return this[_0x1fc809(0x27c)]?.[_0x1fc809(0xaca)]()??0x0;}['setupListeners'](){const _0x5235fe=_0x2d5032;this[_0x5235fe(0x219)]['push'](this[_0x5235fe(0x63f)](_0x31ccbf=>{const _0x532a3d=_0x5235fe;_0x150719(_0x31ccbf,this[_0x532a3d(0x4a4)]())&&0x0!==_0x31ccbf[_0x532a3d(0x384)]&&this[_0x532a3d(0x5d0)][_0x532a3d(0x13f)](_0x31ccbf['topicLabel'])?.[_0x532a3d(0x849)](_0x31ccbf);})),this[_0x5235fe(0x219)]['push'](this['onTrack']((_0x157870,_0x1a3f35)=>{const _0x346887=_0x5235fe,_0x192477=_0x16a530(_0x1a575a[_0x346887(0x979)][_0x346887(0xa50)],_0x1a3f35['id'],this[_0x346887(0x4b4)]);this[_0x346887(0x2d9)]['get'](_0x192477)?.[_0x346887(0x849)]({'topicLabel':_0x192477,'sourceId':this[_0x346887(0x4b4)],'contentType':_0x1a575a[_0x346887(0x979)][_0x346887(0xa50)],'content':{'action':_0x221093[_0x346887(0x611)],'track':_0x157870,'stream':_0x1a3f35,'providerId':this['remoteId']}});})),this[_0x5235fe(0x219)][_0x5235fe(0x806)](this[_0x5235fe(0x2c5)]((_0x1bd99a,_0x2ecca9)=>{const _0x29cc04=_0x5235fe,_0x59a667=_0x16a530(_0x1a575a['ContentType'][_0x29cc04(0xa50)],_0x2ecca9['id'],this[_0x29cc04(0x4b4)]);this[_0x29cc04(0x2d9)][_0x29cc04(0x13f)](_0x59a667)?.[_0x29cc04(0x849)]({'topicLabel':_0x59a667,'sourceId':this[_0x29cc04(0x4b4)],'contentType':_0x1a575a[_0x29cc04(0x979)][_0x29cc04(0xa50)],'content':{'action':_0x221093['RemoteRemove'],'track':_0x1bd99a,'stream':_0x2ecca9,'providerId':this[_0x29cc04(0x4b4)]}});}));}[_0x2d5032(0x711)]({candidates:_0x4ba916,origin:_0x4ca36c,version:_0xba2b0a}){const _0x46b2ad=_0x2d5032;return _0x4ca36c===_0x521099[_0x46b2ad(0xa4a)]?(this[_0x46b2ad(0x78b)]||this[_0x46b2ad(0x63d)](),this[_0x46b2ad(0x78b)]['handleHandshake'](_0x4ba916,_0xba2b0a)):this[_0x46b2ad(0x27c)][_0x46b2ad(0x28b)](_0x4ba916,_0xba2b0a);}async[_0x2d5032(0x56f)](){const _0x4df7e6=_0x2d5032;this[_0x4df7e6(0x27c)]||this[_0x4df7e6(0x7b9)](),await this[_0x4df7e6(0x27c)][_0x4df7e6(0x56f)]();}async['handleOffer']({offer:_0x402998,version:_0x16e974}){const _0x4381c4=_0x2d5032;this[_0x4381c4(0x78b)]||this[_0x4381c4(0x63d)](),await this[_0x4381c4(0x78b)]['handleOffer'](_0x402998,_0x16e974);}async[_0x2d5032(0x23d)]({answer:_0x199830,version:_0x57bc01}){const _0x1781da=_0x2d5032;if(!this[_0x1781da(0x27c)])throw new _0x54e1a8(_0x54e1a8['codes']['ConnectionNotinitialized'],{'message':_0x1781da(0x294),'localId':this[_0x1781da(0x4a4)](),'remoteId':this['remoteId'],'answer':_0x199830});await this[_0x1781da(0x27c)][_0x1781da(0x23d)](_0x199830,_0x57bc01);}[_0x2d5032(0x3de)](){const _0x4cc403=_0x2d5032;if(!this[_0x4cc403(0x78b)])throw new _0x54e1a8(_0x54e1a8[_0x4cc403(0x318)][_0x4cc403(0x6dc)],{'message':_0x4cc403(0x4fe),'localId':this[_0x4cc403(0x4a4)](),'remoteId':this[_0x4cc403(0x4b4)]});this[_0x4cc403(0x78b)][_0x4cc403(0x3de)](),this[_0x4cc403(0x20f)]||this[_0x4cc403(0x26f)]!==_0x5ccac5['Optimization']||(this['successNotified']=!0x0,this[_0x4cc403(0x83a)]?.[_0x4cc403(0x849)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x4cc403(0x4a4)]()],'messageType':_0x4bbd49[_0x4cc403(0x802)],'content':{'type':_0x14b6a1[_0x4cc403(0x38f)]}}));}[_0x2d5032(0x750)](_0x4ee9de){const _0x59c876=_0x2d5032;this[_0x59c876(0x78b)]||this['createReceiverConnection'](),this[_0x59c876(0x78b)]['handleNeedRestart'](_0x4ee9de['version']);}[_0x2d5032(0x7b9)](){const _0x4827f4=_0x2d5032;this['senderConnection']=new _0x4599f0(this[_0x4827f4(0xa46)],this[_0x4827f4(0x6ff)],this['remoteId'],this[_0x4827f4(0xad0)],this[_0x4827f4(0x26f)],this['maxFps'],this[_0x4827f4(0x18e)],this[_0x4827f4(0x2d7)]),this[_0x4827f4(0x27c)][_0x4827f4(0x6d6)](this[_0x4827f4(0x83a)]);}[_0x2d5032(0x63d)](){const _0x302a69=_0x2d5032;this[_0x302a69(0x78b)]=new _0xf02f3b(this['clusterId'],this['localNode'],this[_0x302a69(0x4b4)],this[_0x302a69(0xad0)],this[_0x302a69(0x26f)],this['connectionConstructor']),this[_0x302a69(0x78b)][_0x302a69(0x6d6)](this[_0x302a69(0x83a)]),this['receiverUnsubscribers'][_0x302a69(0x806)](this[_0x302a69(0x78b)][_0x302a69(0x63f)](_0x10386c=>this['messageListeners'][_0x302a69(0x849)](_0x10386c))),this[_0x302a69(0x66f)][_0x302a69(0x806)](this[_0x302a69(0x78b)][_0x302a69(0x9e2)]((_0x437400,_0x3a65d4)=>this[_0x302a69(0x91f)]['publish']({'track':_0x437400,'stream':_0x3a65d4}))),this['receiverUnsubscribers'][_0x302a69(0x806)](this[_0x302a69(0x78b)][_0x302a69(0x2c5)]((_0x2ed583,_0x4c1fc1)=>this[_0x302a69(0x35a)][_0x302a69(0x849)]({'track':_0x2ed583,'stream':_0x4c1fc1})));}}class _0x4cda23{['localId'];['messageBuffer'];[_0x2d5032(0x3e4)];[_0x2d5032(0x28a)]=new Map();[_0x2d5032(0x856)]=_0x2d1ffa();[_0x2d5032(0x4c1)];[_0x2d5032(0x5d0)]=new Map();[_0x2d5032(0x41e)]=new Map();[_0x2d5032(0x721)]=new Map();constructor(_0x599afe,_0x3100a3,_0x3de1c6){const _0x1e1639=_0x2d5032;this[_0x1e1639(0xa03)]=_0x599afe,this[_0x1e1639(0x57b)]=_0x3100a3,this[_0x1e1639(0x3e4)]=_0x3de1c6,this['messageUnsubscriber']=this[_0x1e1639(0x63f)](_0x38952d=>{const _0x59df6f=_0x1e1639;this[_0x59df6f(0x57b)][_0x59df6f(0x8e1)](_0x38952d[_0x59df6f(0x642)])||(_0x150719(_0x38952d,this[_0x59df6f(0xa03)])&&0x0!==_0x38952d['topicLabel']&&(this['messageBuffer'][_0x59df6f(0x56e)](_0x38952d[_0x59df6f(0x642)]),this[_0x59df6f(0x5d0)][_0x59df6f(0x13f)](_0x38952d[_0x59df6f(0x384)])?.[_0x59df6f(0x849)](_0x38952d)),_0x38952d[_0x59df6f(0xef)]&&this[_0x59df6f(0x309)](_0x38952d));});}[_0x2d5032(0x8d0)](){const _0x400ce3=_0x2d5032;this[_0x400ce3(0x4c1)]?.();}[_0x2d5032(0x3b7)](_0x16d57c){const _0x25b3ee=_0x2d5032,_0x5578aa=_0x16d57c[_0x25b3ee(0x63f)](_0xb076ad=>{const _0xb138a0=_0x25b3ee;this[_0xb138a0(0x856)][_0xb138a0(0x849)](_0xb076ad);});this[_0x25b3ee(0x28a)][_0x25b3ee(0x687)](_0x16d57c,_0x5578aa),this[_0x25b3ee(0x721)][_0x25b3ee(0x687)](_0x16d57c[_0x25b3ee(0x5f1)](),function(_0x5be736,_0x5c9fef=!0x1){let _0xa1a193=new Map();const _0x2fa3e3=_0x435c7a(_0x5be736,_0x5c9fef,function(_0x25e534){const _0xb75310=a0_0x11f8;_0x215137(_0x25e534)&&_0xa1a193[_0xb75310(0x113)](_0x25e534[_0xb75310(0x576)]+'-'+(_0x25e534[_0xb75310(0x97f)]??[])+'-'+_0x25e534[_0xb75310(0x1f1)]+'-'+_0x25e534[_0xb75310(0x3ab)][_0xb75310(0xa7e)]);},function(_0x21e0d9){return!!function(_0x4bf921){const _0xcb65ac=a0_0x11f8,_0x31dd2d=_0x4bf921[_0xcb65ac(0x50f)];if(!_0x215137(_0x31dd2d))return!0x1;const _0x4482f4=_0x31dd2d[_0xcb65ac(0x576)]+'-'+(_0x31dd2d[_0xcb65ac(0x97f)]??[])+'-'+_0x31dd2d[_0xcb65ac(0x1f1)]+'-'+_0x31dd2d[_0xcb65ac(0x3ab)][_0xcb65ac(0xa7e)],_0x3e67d6={'version':_0x31dd2d[_0xcb65ac(0x3ab)][_0xcb65ac(0x3ec)],'element':_0x4bf921},_0x5afbe2=_0xa1a193[_0xcb65ac(0x13f)](_0x4482f4);return _0x5afbe2?(_0x5afbe2[_0xcb65ac(0x3ec)]>=_0x31dd2d['content'][_0xcb65ac(0x3ec)]||(_0x5afbe2[_0xcb65ac(0x6ad)]['previous']&&(_0x5afbe2[_0xcb65ac(0x6ad)][_0xcb65ac(0xa68)][_0xcb65ac(0x356)]=_0x4bf921,_0x4bf921['previous']=_0x5afbe2['element'][_0xcb65ac(0xa68)]),_0x5afbe2['element']['next']&&(_0x5afbe2['element'][_0xcb65ac(0x356)][_0xcb65ac(0xa68)]=_0x4bf921,_0x4bf921[_0xcb65ac(0x356)]=_0x5afbe2[_0xcb65ac(0x6ad)][_0xcb65ac(0x356)]),_0x5afbe2['element']===_0x2fa3e3['head']&&(_0x2fa3e3['head']=_0x4bf921),_0x5afbe2[_0xcb65ac(0x6ad)]===_0x2fa3e3[_0xcb65ac(0x557)]&&(_0x2fa3e3[_0xcb65ac(0x557)]=_0x4bf921),_0xa1a193[_0xcb65ac(0x687)](_0x4482f4,_0x3e67d6)),!0x0):(_0xa1a193[_0xcb65ac(0x687)](_0x4482f4,_0x3e67d6),!0x1);}(_0x21e0d9);},function(){_0xa1a193['clear']();});function _0x215137(_0x183691){const _0x57886b=a0_0x11f8;if(_0x183691&&_0x57886b(0x97a)==typeof _0x183691&&_0x183691[_0x57886b(0x962)](_0x57886b(0x3ab))&&_0x183691[_0x57886b(0x962)](_0x57886b(0x1f1))&&_0x183691[_0x57886b(0x962)]('sourceId')){const _0x151a1e=_0x183691;if(_0x151a1e[_0x57886b(0x3ab)]&&_0x57886b(0x97a)==typeof _0x151a1e[_0x57886b(0x3ab)]&&_0x151a1e[_0x57886b(0x3ab)][_0x57886b(0x962)](_0x57886b(0x3ec))&&_0x151a1e[_0x57886b(0x3ab)]['hasOwnProperty'](_0x57886b(0xa7e)))return!0x0;}return!0x1;}return _0x2fa3e3;}(new _0x4872f1(_0x1b0a64=>_0x16d57c[_0x25b3ee(0x309)](_0x1b0a64),()=>_0x461db3[_0x25b3ee(0x16f)](0x64))));}[_0x2d5032(0xae9)](_0x171741){const _0x10a5aa=_0x2d5032;this[_0x10a5aa(0x28a)][_0x10a5aa(0x13f)](_0x171741)?.(),this[_0x10a5aa(0x28a)]['delete'](_0x171741),this[_0x10a5aa(0x721)][_0x10a5aa(0x13f)](_0x171741[_0x10a5aa(0x5f1)]())?.[_0x10a5aa(0x24b)](),this['retryQueues'][_0x10a5aa(0x113)](_0x171741[_0x10a5aa(0x5f1)]());}[_0x2d5032(0x235)](_0x44e724){const _0x2f3e25=_0x2d5032;return _0x27f628[_0x2f3e25(0x107)](_0x53d5c4['ConnectionState'],_0x2f3e25(0x1ef),this['localId'],this['connections'][_0x2f3e25(0xa30)]()),0x0!==this[_0x2f3e25(0x28a)][_0x2f3e25(0x279)]&&(Array[_0x2f3e25(0x8ee)](this['connections'][_0x2f3e25(0xa30)]())[_0x2f3e25(0x91b)](_0x3997b6=>_0x3997b6['getRemoteId']()===_0x44e724)?.[_0x2f3e25(0x235)]()??!0x1);}[_0x2d5032(0x9f2)](_0x12356a){const _0x2944db=_0x2d5032;this[_0x2944db(0x5d0)][_0x2944db(0x687)](_0x12356a[_0x2944db(0xa74)](),_0x12356a);}[_0x2d5032(0xa8c)](_0x46d8a6){const _0x54ba0a=_0x2d5032;this[_0x54ba0a(0x5d0)][_0x54ba0a(0x113)](_0x46d8a6[_0x54ba0a(0xa74)]());}[_0x2d5032(0x2e5)](_0x1a80ab){const _0x58aeb9=_0x2d5032,_0x315ab2=_0x1a80ab[_0x58aeb9(0x75b)](this[_0x58aeb9(0x309)]['bind'](this));this[_0x58aeb9(0x41e)][_0x58aeb9(0x687)](_0x1a80ab[_0x58aeb9(0xa74)](),_0x315ab2);}['unregisterSubscriber'](_0x5ba517){const _0x3a52a3=_0x2d5032;this[_0x3a52a3(0x41e)][_0x3a52a3(0x13f)](_0x5ba517['getLabel']())?.(),this['dataUnsubscribers'][_0x3a52a3(0x113)](_0x5ba517[_0x3a52a3(0xa74)]());}[_0x2d5032(0x17a)](){const _0x5c9a69=_0x2d5032;return[_0x1a575a[_0x5c9a69(0x979)][_0x5c9a69(0x7e1)],_0x1a575a[_0x5c9a69(0x979)][_0x5c9a69(0x973)],_0x1a575a[_0x5c9a69(0x979)][_0x5c9a69(0x450)],_0x1a575a[_0x5c9a69(0x979)]['KeyValueDatabase'],_0x1a575a[_0x5c9a69(0x979)][_0x5c9a69(0xa7f)],_0x1a575a[_0x5c9a69(0x979)][_0x5c9a69(0x571)],_0x1a575a['ContentType'][_0x5c9a69(0x1a3)],_0x1a575a[_0x5c9a69(0x979)][_0x5c9a69(0x821)]];}['send'](_0x1461de){const _0x2a2c60=_0x2d5032;if(!0x1===_0x1461de[_0x2a2c60(0x2bd)]){if(_0x1461de[_0x2a2c60(0xef)]||!_0x1461de[_0x2a2c60(0x97f)]||0x1!==_0x1461de[_0x2a2c60(0x97f)][_0x2a2c60(0x80e)])throw new _0x54e1a8(_0x54e1a8[_0x2a2c60(0x318)]['ConnectionInvalidDataEvent'],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this['localId']});if(!this[_0x2a2c60(0x235)](_0x1461de['destinationIds'][0x0]))throw new _0x5ec887(_0x2a2c60(0x7af));}const _0x50c0bb=_0x1461de[_0x2a2c60(0x6f3)]??[];try{const {filteredDestinationIds:_0x24eb6e,extendedRecipients:_0xbab693}=this[_0x2a2c60(0x724)](_0x1461de,_0x50c0bb);_0x1461de[_0x2a2c60(0x97f)]=_0x24eb6e,_0x1461de[_0x2a2c60(0x6f3)]=_0xbab693;}catch(_0x390ab5){if(_0x390ab5 instanceof _0x5ec887)return void _0x27f628[_0x2a2c60(0x107)](_0x53d5c4[_0x2a2c60(0x449)],_0x2a2c60(0x337),_0x2a2c60(0x73c),_0x1461de,_0x390ab5['message']);}const _0x469fa9=this[_0x2a2c60(0x5c9)](_0x1461de);this[_0x2a2c60(0x4ef)](_0x1461de,_0x469fa9),_0x1461de[_0x2a2c60(0xef)]=_0x469fa9;const _0x40a198=this[_0x2a2c60(0x7ea)](_0x1461de,_0x50c0bb);for(const _0xdd4507 of _0x40a198){const _0x8026dd=this[_0x2a2c60(0x721)]['get'](_0xdd4507['getRemoteId']());if(!_0x8026dd)throw new _0x54e1a8(_0x54e1a8[_0x2a2c60(0x318)][_0x2a2c60(0x35b)],{'message':_0x2a2c60(0x2c6),'localId':this[_0x2a2c60(0xa03)],'remoteId':_0xdd4507['getRemoteId'](),'data':_0x1461de});_0x8026dd['push'](_0x1461de);}}[_0x2d5032(0x5f1)](){return'';}[_0x2d5032(0x4a4)](){const _0xce5b97=_0x2d5032;return this[_0xce5b97(0xa03)];}[_0x2d5032(0x63f)](_0x490fe1){const _0xf7242=_0x2d5032;return this['messageListeners'][_0xf7242(0x75b)](_0x490fe1);}[_0x2d5032(0x724)](_0x522d6e,_0x5f5270){const _0x345867=_0x2d5032,_0x2bfea9={'filteredDestinationIds':_0x522d6e[_0x345867(0x97f)],'extendedRecipients':_0x522d6e[_0x345867(0x6f3)]};if(!_0x522d6e[_0x345867(0xef)])return _0x2bfea9;const _0x7df69e=Array[_0x345867(0x8ee)](this[_0x345867(0x28a)][_0x345867(0xa30)]())[_0x345867(0xa9f)](_0x466240=>_0x466240[_0x345867(0x92d)]()===_0x5ccac5['Core']||_0x466240[_0x345867(0x235)]())['map'](_0x31f6c1=>_0x31f6c1[_0x345867(0x5f1)]());if(_0x7df69e['reduce']((_0x3990ce,_0x500d7d)=>_0x3990ce&&_0x522d6e[_0x345867(0x6f3)]['includes'](_0x500d7d),!0x0))throw new _0x5ec887('All\x20recipients\x20already\x20received');if(_0x522d6e[_0x345867(0x97f)]){const _0x335be7=_0x522d6e['destinationIds'][_0x345867(0xa9f)](_0x1b18a9=>_0x1b18a9!==this[_0x345867(0xa03)]&&!_0x522d6e['recipients'][_0x345867(0x21f)](_0x1b18a9));if(0x0===_0x335be7[_0x345867(0x80e)])throw new _0x5ec887('No\x20destinationIds\x20left');_0x2bfea9['filteredDestinationIds']=_0x335be7;}return _0x2bfea9[_0x345867(0x89d)]=[...new Set([..._0x5f5270,..._0x7df69e,this[_0x345867(0xa03)]])],_0x2bfea9;}[_0x2d5032(0x4ef)](_0x5b8420,_0x2a11ac=!0x1){const _0x40ffaa=_0x2d5032;if(0x0===_0x5b8420[_0x40ffaa(0x384)]&&!_0xd187e3(_0x5b8420,this[_0x40ffaa(0xa03)])&&_0x5b8420['propagate']){const _0x22c0da=_0x4647c4(_0x5b8420,this['localId']);_0x27f628[_0x40ffaa(0x91a)](_0x53d5c4[_0x40ffaa(0x598)],_0x5b8420[_0x40ffaa(0x642)]+_0x40ffaa(0x6ab)+_0x2a11ac+')\x20'+_0x22c0da,_0x5b8420,_0x2a11ac);}}[_0x2d5032(0x5c9)](_0x1326a5){const _0x1019b3=_0x2d5032;if(_0x1326a5[_0x1019b3(0x97f)]&&_0x1326a5[_0x1019b3(0xef)]){const _0x458af2=Array[_0x1019b3(0x8ee)](this[_0x1019b3(0x28a)][_0x1019b3(0xa30)]())[_0x1019b3(0xa9f)](_0x4f29cd=>_0x4f29cd['getConnectionType']()===_0x5ccac5['Core']||_0x4f29cd[_0x1019b3(0x235)]())[_0x1019b3(0x247)](_0x182a03=>_0x182a03[_0x1019b3(0x5f1)]());return!_0x1326a5[_0x1019b3(0x97f)][_0x1019b3(0xa77)]((_0x24306c,_0xb7c4b2)=>_0x24306c&&_0x458af2[_0x1019b3(0x21f)](_0xb7c4b2),!0x0);}return _0x1326a5['propagate']??!0x1;}[_0x2d5032(0x7ea)](_0x50f7eb,_0x56467b){const _0xd16441=_0x2d5032;if(_0x50f7eb[_0xd16441(0xef)]&&_0x50f7eb[_0xd16441(0x97f)]){const _0x369942=Array[_0xd16441(0x8ee)](this['connections']['keys']())[_0xd16441(0xa9f)](_0x14cea0=>_0x14cea0[_0xd16441(0x92d)]()===_0x5ccac5[_0xd16441(0x64c)]||_0x14cea0['isConnected']())[_0xd16441(0x247)](_0x28b424=>_0x28b424[_0xd16441(0x5f1)]()),_0xbecd69=new Set(),_0x18f443=_0x50f7eb[_0xd16441(0x576)]===this['localId']?0x3:0x1;return _0x50f7eb[_0xd16441(0x97f)]['forEach'](_0x2e32fe=>{const _0xa4e1ae=_0xd16441,_0x5a3e9c=this[_0xa4e1ae(0x3e4)]['getClosestNodes'](_0x369942,_0x2e32fe);let _0x5c11cc=0x0,_0x5219e0=0x0;_0x5a3e9c[_0xa4e1ae(0x3e9)](_0x15f674=>{const _0x2693cc=_0xa4e1ae;if(_0x5c11cc>=_0x18f443)return;const _0x4a0411=Array['from'](this[_0x2693cc(0x28a)][_0x2693cc(0xa30)]())[_0x2693cc(0x91b)](_0x212fc2=>_0x212fc2[_0x2693cc(0x5f1)]()===_0x15f674);if(_0x4a0411){if(_0x4a0411[_0x2693cc(0x92d)]()===_0x5ccac5[_0x2693cc(0x64c)]&&_0x5219e0>0x0)return void(_0x5219e0-=0x1);_0xbecd69[_0x2693cc(0x5e6)](_0x4a0411),_0x4a0411[_0x2693cc(0x92d)]()===_0x5ccac5[_0x2693cc(0x1c7)]&&(_0x5219e0+=0x1),_0x5c11cc+=0x1;}});}),Array['from'](_0xbecd69);}return Array[_0xd16441(0x8ee)](this[_0xd16441(0x28a)][_0xd16441(0xa30)]())['filter'](_0x2dd584=>{const _0x5aa513=_0xd16441;return _0x50292d=_0x2dd584[_0x5aa513(0x5f1)](),!_0x56467b[_0x5aa513(0x21f)](_0x50292d)&&(_0x150719(_0x50f7eb,_0x50292d)||_0x50f7eb['propagate'])&&(!_0x50f7eb[_0x5aa513(0xef)]||_0x2dd584[_0x5aa513(0x235)]()||_0x2dd584[_0x5aa513(0x92d)]()===_0x5ccac5[_0x5aa513(0x64c)]);var _0x50292d;});}}class _0x22da93{[_0x2d5032(0xa03)];[_0x2d5032(0x57b)];['connections']=new Map();[_0x2d5032(0x83a)];constructor(_0x4dfd9c,_0x411daf){const _0x4f9028=_0x2d5032;this[_0x4f9028(0xa03)]=_0x4dfd9c,this['messageBuffer']=_0x411daf;}[_0x2d5032(0x8d0)](){}['send'](_0x48fe16){const _0xcbcbd9=_0x2d5032;for(const _0x11b422 of this['connections']['keys']())try{return void _0x11b422[_0xcbcbd9(0x309)]({'retry':!0x1,..._0x48fe16});}catch(_0x507b28){_0x507b28 instanceof _0x5ec887||_0x27f628[_0xcbcbd9(0x107)](_0x53d5c4[_0xcbcbd9(0x34a)],'send\x20error\x20on\x20'+_0x11b422,_0x507b28,_0x48fe16);}_0x27f628[_0xcbcbd9(0x107)](_0x53d5c4[_0xcbcbd9(0x34a)],_0xcbcbd9(0x7bc));}['addConnection'](_0x107280){const _0x5288f3=_0x2d5032,_0x1927cb=_0x107280[_0x5288f3(0x63f)](_0x37bf2a=>{const _0x1d829b=_0x5288f3;this[_0x1d829b(0x57b)][_0x1d829b(0x8e1)](_0x37bf2a[_0x1d829b(0x642)])||0x0===_0x37bf2a[_0x1d829b(0x384)]&&(this[_0x1d829b(0x57b)]['addMessage'](_0x37bf2a['uuid']),_0x150719(_0x37bf2a,this[_0x1d829b(0xa03)])&&this[_0x1d829b(0x83a)]?.['publish'](_0x37bf2a));});this[_0x5288f3(0x28a)][_0x5288f3(0x687)](_0x107280,_0x1927cb);}['removeConnection'](_0x104efa){const _0x41221b=_0x2d5032;this[_0x41221b(0x28a)]['get'](_0x104efa)?.(),this[_0x41221b(0x28a)][_0x41221b(0x113)](_0x104efa);}[_0x2d5032(0x4a4)](){return this['localId'];}[_0x2d5032(0x5f1)](){return'';}[_0x2d5032(0x17a)](){const _0x14a500=_0x2d5032;return[_0x1a575a[_0x14a500(0x979)][_0x14a500(0x7e1)]];}['isConnected'](){const _0x42ddd4=_0x2d5032;throw new Error(_0x42ddd4(0x23a));}['registerSystemPublisher'](_0x562b50){const _0x439771=_0x2d5032;this[_0x439771(0x83a)]=_0x562b50;}['unregisterSystemPublisher'](){const _0x272463=_0x2d5032;delete this[_0x272463(0x83a)];}}class _0x43d8ea{[_0x2d5032(0x911)]=new Map();[_0x2d5032(0x769)];constructor(){const _0x1e000d=_0x2d5032;this[_0x1e000d(0x769)]=_0x461db3[_0x1e000d(0x509)](()=>{const _0x1ebe0b=_0x1e000d;for(const [_0x4a1dd8,_0x2be55a]of this['buffer']['entries']())Date[_0x1ebe0b(0xa45)]()-_0x2be55a>0x124f80&&this[_0x1ebe0b(0x911)][_0x1ebe0b(0x113)](_0x4a1dd8);},0x1d4c0);}['close'](){this['unsubscribeHandler']();}['addMessage'](_0x10f42f){const _0x246ffd=_0x2d5032;this[_0x246ffd(0x911)][_0x246ffd(0x687)](_0x10f42f,Date[_0x246ffd(0xa45)]());}[_0x2d5032(0x8e1)](_0x2d529d){const _0x2faa48=_0x2d5032;return this[_0x2faa48(0x911)]['has'](_0x2d529d);}}class _0x39ae9e{[_0x2d5032(0x47c)];['authService'];[_0x2d5032(0xad0)];[_0x2d5032(0x938)];[_0x2d5032(0x28a)]=new Map();[_0x2d5032(0x18a)];[_0x2d5032(0x3e2)];['signalingServer'];['messageBuffer'];constructor(_0x5d41cd,_0x5644d5,_0x510da1,_0x4541fc,_0x1d2e43){const _0x3bb658=_0x2d5032;this[_0x3bb658(0x47c)]=_0x5d41cd,this['authService']=_0x5644d5,this[_0x3bb658(0xad0)]=_0x4541fc,this['options']=_0x1d2e43,this[_0x3bb658(0x57b)]=new _0x43d8ea(),this[_0x3bb658(0x3e2)]=new _0x4cda23(this[_0x3bb658(0x47c)][_0x3bb658(0x6ff)][_0x3bb658(0x5cd)](),this[_0x3bb658(0x57b)],_0x510da1),this[_0x3bb658(0xa3d)]=new _0x15401b(this['configs']['vendorId'],this[_0x3bb658(0x47c)][_0x3bb658(0xa46)],this[_0x3bb658(0x47c)][_0x3bb658(0x6ff)],_0x3bb658(0x14c),this[_0x3bb658(0x4f3)]),this[_0x3bb658(0x18a)]=new _0x22da93(this[_0x3bb658(0x47c)][_0x3bb658(0x6ff)]['getId'](),this[_0x3bb658(0x57b)]),this['connectionPool'][_0x3bb658(0x3b7)](this[_0x3bb658(0x3e2)]),this[_0x3bb658(0x18a)][_0x3bb658(0x3b7)](this[_0x3bb658(0xa3d)]),this[_0x3bb658(0x47c)][_0x3bb658(0x6e0)]['registerSystemSource'](this[_0x3bb658(0x18a)]);}[_0x2d5032(0x8d0)](){const _0x483f4c=_0x2d5032;this[_0x483f4c(0x57b)][_0x483f4c(0x8d0)](),this[_0x483f4c(0x28a)][_0x483f4c(0x3e9)]((_0x1a6928,_0x1880c1)=>this[_0x483f4c(0x7f3)](_0x1880c1)),this[_0x483f4c(0x47c)][_0x483f4c(0x6e0)][_0x483f4c(0x5c3)](this['connectionPool']),this[_0x483f4c(0x18a)][_0x483f4c(0xae9)](this[_0x483f4c(0xa3d)]),this[_0x483f4c(0x18a)][_0x483f4c(0xae9)](this[_0x483f4c(0x3e2)]),this['connectionPool'][_0x483f4c(0x8d0)](),this[_0x483f4c(0xa3d)][_0x483f4c(0x8d0)](),this[_0x483f4c(0x3e2)][_0x483f4c(0x8d0)]();}async[_0x2d5032(0xa82)](){const _0xc3949b=_0x2d5032;await this[_0xc3949b(0xa3d)][_0xc3949b(0xf4)]();}async[_0x2d5032(0x5e5)](_0x2b6bb4,_0x24ca25=_0x5ccac5[_0x2d5032(0x64c)]){const _0x405f82=_0x2d5032;if(this[_0x405f82(0x28a)][_0x405f82(0x290)](_0x2b6bb4)){if(this[_0x405f82(0x28a)][_0x405f82(0x13f)](_0x2b6bb4)?.[_0x405f82(0x92d)]()===_0x5ccac5['Optimization']&&_0x24ca25===_0x5ccac5[_0x405f82(0x64c)])return void this[_0x405f82(0x28a)][_0x405f82(0x13f)](_0x2b6bb4)?.['setConnectionType'](_0x5ccac5[_0x405f82(0x64c)]);throw new _0x54e1a8(_0x54e1a8[_0x405f82(0x318)][_0x405f82(0xa6a)],{'localId':this['configs'][_0x405f82(0x6ff)][_0x405f82(0x5cd)](),'remoteId':_0x2b6bb4});}const _0x4b4778=new _0x37432c(this['configs'][_0x405f82(0xa46)],this['configs'][_0x405f82(0x6ff)],_0x2b6bb4,this[_0x405f82(0xad0)],_0x24ca25,this[_0x405f82(0x938)][_0x405f82(0x30b)],this[_0x405f82(0x938)][_0x405f82(0x18e)],this[_0x405f82(0x938)][_0x405f82(0x1ea)]);this['connections']['set'](_0x2b6bb4,_0x4b4778),this[_0x405f82(0x3e2)]['addConnection'](_0x4b4778),this[_0x405f82(0x47c)]['mediator'][_0x405f82(0x23e)](_0x4b4778),this[_0x405f82(0x47c)][_0x405f82(0x6e0)]['registerRemoteNode'](_0x2b6bb4),await _0x4b4778[_0x405f82(0xf4)]();}['getConnectionGroup'](){const _0x245c97=_0x2d5032;return this[_0x245c97(0x3e2)];}[_0x2d5032(0x8ae)](_0x5cc385){const _0x10c6bf=_0x2d5032;if(!this[_0x10c6bf(0x28a)]['has'](_0x5cc385))throw new _0x54e1a8(_0x54e1a8[_0x10c6bf(0x318)]['MissingRemoteConnection'],{'localId':this['configs'][_0x10c6bf(0x6ff)]['getId'](),'remoteId':_0x5cc385});return this[_0x10c6bf(0x28a)][_0x10c6bf(0x13f)](_0x5cc385);}[_0x2d5032(0x355)](_0x5a35e2){const _0x2e4054=_0x2d5032,_0xd2ed2f=Array['from'](this[_0x2e4054(0x28a)][_0x2e4054(0xa94)]());return _0x5a35e2?_0xd2ed2f[_0x2e4054(0xa9f)](_0x5a35e2):_0xd2ed2f;}async[_0x2d5032(0x596)](_0xa3e33a){const _0x26d6a2=_0x2d5032,_0x55bcbf=this[_0x26d6a2(0x28a)]['get'](_0xa3e33a);_0x55bcbf&&_0x55bcbf[_0x26d6a2(0x235)]()&&await _0x55bcbf['collectStats']();}['handleOutgoingSystemEvents'](_0x4a8930){const _0x5222b0=_0x2d5032;if(_0x4a8930[_0x5222b0(0x1f1)]!==_0x4bbd49[_0x5222b0(0x802)]||_0x4a8930[_0x5222b0(0xef)])try{this[_0x5222b0(0x3e2)]['send'](_0x4a8930);}catch(_0x263312){if(_0x263312 instanceof _0x5ec887)return;throw _0x263312;}else this[_0x5222b0(0x18a)][_0x5222b0(0x309)](_0x4a8930);}async[_0x2d5032(0x764)](_0xedec6d){const _0x2da75b=_0x2d5032;switch(_0xedec6d['content'][_0x2da75b(0xa7e)]){case _0x14b6a1['Disconnect']:case _0x14b6a1[_0x2da75b(0x2d5)]:case _0x14b6a1[_0x2da75b(0x38f)]:return;}if(!_0xedec6d[_0x2da75b(0x97f)]||0x1!==_0xedec6d[_0x2da75b(0x97f)][_0x2da75b(0x80e)])throw new _0x54e1a8(_0x54e1a8['codes'][_0x2da75b(0x168)],{'message':_0x2da75b(0x78a),'event':_0xedec6d});if(_0xedec6d[_0x2da75b(0x97f)][0x0]!==this[_0x2da75b(0x47c)]['localNode']['getId']())throw new _0x54e1a8(_0x54e1a8[_0x2da75b(0x318)]['PeerConnectionInvalidDestination'],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0xedec6d});if(!this[_0x2da75b(0x28a)][_0x2da75b(0x290)](_0xedec6d['sourceId'])){let _0x354931=_0x5ccac5[_0x2da75b(0x64c)];if(!(this['isOffer'](_0xedec6d[_0x2da75b(0x3ab)])||this[_0x2da75b(0x24e)](_0xedec6d[_0x2da75b(0x3ab)])||this[_0x2da75b(0x887)](_0xedec6d['content'])))return;_0x354931=_0xedec6d[_0x2da75b(0x3ab)][_0x2da75b(0x26f)],await this[_0x2da75b(0x5e5)](_0xedec6d[_0x2da75b(0x576)],_0x354931);}const _0x304116=this[_0x2da75b(0x28a)][_0x2da75b(0x13f)](_0xedec6d[_0x2da75b(0x576)]);await _0x304116['handlePeerConnectionSystemEvents'](_0xedec6d);}[_0x2d5032(0x10c)](_0x230951){const _0x2d01cb=_0x2d5032;if(_0x230951[_0x2d01cb(0x3ab)][_0x2d01cb(0xa7e)]===_0x375f4e['Remediation']){if(_0x230951['content'][_0x2d01cb(0x248)]===this['configs'][_0x2d01cb(0x6ff)]['getId']())return void this[_0x2d01cb(0x28a)][_0x2d01cb(0x3e9)](_0xeeaf67=>_0xeeaf67[_0x2d01cb(0x10c)](_0x230951));this['connections']['get'](_0x230951['content'][_0x2d01cb(0x248)])?.['handleRemediationSystemEvents'](_0x230951);}}[_0x2d5032(0x8e4)]({content:_0x54b480}){const _0x12bd97=_0x2d5032;_0x54b480[_0x12bd97(0xa7e)]===_0x176135[_0x12bd97(0x640)]&&this['closeConnection'](_0x54b480['id']);}[_0x2d5032(0x22e)](){const _0x1f19b5=_0x2d5032,_0x2b0eda=Array[_0x1f19b5(0x8ee)](this['connections'][_0x1f19b5(0xa94)]())[_0x1f19b5(0xa77)]((_0xad1988,_0x779aca)=>_0xad1988+_0x779aca['calculateArrayBufferSize'](),0x0);return _0x2b0eda<_0x12f1a8?Promise['resolve'](_0x2b0eda):new Promise(_0x4dc548=>{const _0x2c0988=setInterval(()=>{const _0x56b462=a0_0x11f8,_0x416c9b=Array[_0x56b462(0x8ee)](this['connections'][_0x56b462(0xa94)]())['reduce']((_0x177e3a,_0x293a98)=>_0x177e3a+_0x293a98[_0x56b462(0x5fc)](),0x0);_0x416c9b<_0x12f1a8&&(clearInterval(_0x2c0988),_0x4dc548(_0x416c9b));},0x3e8);});}[_0x2d5032(0x4b5)](){const _0x190b73=_0x2d5032;for(const _0x329df4 of this[_0x190b73(0x28a)][_0x190b73(0xa94)]())if(_0x329df4[_0x190b73(0xaca)]()>0x0||_0x329df4[_0x190b73(0x5fc)]()>0x0)return!0x0;return!0x1;}['closeConnection'](_0x21210e){const _0x215519=_0x2d5032,_0x1bcefd=this[_0x215519(0x28a)]['get'](_0x21210e);_0x1bcefd&&(this[_0x215519(0x47c)]['mediator']['unregisterRemoteNode'](_0x21210e),this['configs'][_0x215519(0x6e0)][_0x215519(0x5c3)](_0x1bcefd),_0x1bcefd instanceof _0x37432c&&this[_0x215519(0x3e2)][_0x215519(0xae9)](_0x1bcefd),_0x1bcefd['close'](),this[_0x215519(0x28a)][_0x215519(0x113)](_0x21210e));}[_0x2d5032(0x86b)](_0x58ee79){const _0x240e26=_0x2d5032;return _0x58ee79[_0x240e26(0xa7e)]===_0x14b6a1[_0x240e26(0x817)];}[_0x2d5032(0x887)](_0x58ecc0){const _0x5005a4=_0x2d5032;return _0x58ecc0[_0x5005a4(0xa7e)]===_0x14b6a1['NeedRestart'];}['isIceCandidate'](_0xd2e23d){const _0xc32dd9=_0x2d5032;return _0xd2e23d[_0xc32dd9(0xa7e)]===_0x14b6a1[_0xc32dd9(0x3a3)];}}!function(_0x5e607f){const _0xd75df6=_0x2d5032;_0x5e607f[_0x5e607f[_0xd75df6(0x477)]=0x0]='SubscribeMediaStream',_0x5e607f[_0x5e607f['UpdateMediaStream']=0x1]=_0xd75df6(0xa39),_0x5e607f[_0x5e607f[_0xd75df6(0x465)]=0x2]=_0xd75df6(0x465),_0x5e607f[_0x5e607f[_0xd75df6(0x751)]=0x3]=_0xd75df6(0x751),_0x5e607f[_0x5e607f[_0xd75df6(0x4ed)]=0x4]=_0xd75df6(0x4ed),_0x5e607f[_0x5e607f[_0xd75df6(0x37e)]=0x5]=_0xd75df6(0x37e),_0x5e607f[_0x5e607f[_0xd75df6(0x1ed)]=0x6]=_0xd75df6(0x1ed),_0x5e607f[_0x5e607f[_0xd75df6(0x749)]=0x7]=_0xd75df6(0x749);}(_0x5c5086||(_0x5c5086={}));class _0x16aa87 extends _0x1d8a54{['localNode'];[_0x2d5032(0xa46)];[_0x2d5032(0x514)];[_0x2d5032(0x8f0)];[_0x2d5032(0x472)];['reads']=0x0;['connector'];['eventListener']=_0x2d1ffa();[_0x2d5032(0x219)]=new Map();[_0x2d5032(0x697)];constructor(_0x4845d9,_0xffdcf5,_0x477fc4,_0x470fe7,_0x300018){const _0x2720df=_0x2d5032;if(_0x2720df(0x823)!=typeof _0xffdcf5)throw new _0x10fc18(_0x10a5c8[_0x2720df(0x5b7)],_0x2720df(0xaeb));super(_0x4845d9,_0xffdcf5),this[_0x2720df(0x6ff)]=_0x4845d9,this[_0x2720df(0xa46)]=_0x477fc4,this[_0x2720df(0x514)]=_0x470fe7,this[_0x2720df(0x8f0)]=_0x300018,this[_0x2720df(0xee)]();}[_0x2d5032(0x7f6)](){const _0x9f6a5b=_0x2d5032;this['changesUnsubscriber']?.(),this['listenerUnsubscribers'][_0x9f6a5b(0x3e9)](_0xee47c5=>_0xee47c5()),clearTimeout(this['debounceStats']),delete this[_0x9f6a5b(0x472)],super[_0x9f6a5b(0x7f6)]();}[_0x2d5032(0xf2)](){const _0x46f091=_0x2d5032;this[_0x46f091(0xee)]();}[_0x2d5032(0x8d0)](){const _0x2b9bea=_0x2d5032;this['systemTopic'][_0x2b9bea(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x2b9bea(0x8b3)],'content':{'type':_0x1ff5c6[_0x2b9bea(0x2b1)],'label':this[_0x2b9bea(0x32e)]}});}[_0x2d5032(0x98e)](){const _0x5bd2b7=_0x2d5032;return _0x1a575a[_0x5bd2b7(0x979)][_0x5bd2b7(0x821)];}async[_0x2d5032(0x13f)](_0x3ab9fd){const _0x24fa2b=_0x2d5032;if(!this[_0x24fa2b(0x6f4)])throw new _0x10fc18(_0x10a5c8[_0x24fa2b(0xa61)],_0x24fa2b(0x32f));_0x27f628['logServiceEvent'](_0x751840[_0x24fa2b(0x821)],{'type':_0x24fa2b(0x13f),'label':this['label'],'nodeId':this['localNode'][_0x24fa2b(0x5cd)](),'nodeType':this[_0x24fa2b(0x6ff)][_0x24fa2b(0xa7e)],'clusterId':this[_0x24fa2b(0xa46)],'path':_0x3ab9fd}),this[_0x24fa2b(0x952)]+=0x1,this[_0x24fa2b(0xee)]();try{return await this['connector']['get'](_0x3ab9fd);}catch(_0x27f94a){throw new _0x10fc18(_0x10a5c8[_0x24fa2b(0x9ea)],_0x24fa2b(0x98f)+_0x3ab9fd);}}async[_0x2d5032(0x6bb)](_0x583d5e,_0x13ba9d){const _0x52ed0c=_0x2d5032;if(!this[_0x52ed0c(0x6f4)])throw new _0x10fc18(_0x10a5c8[_0x52ed0c(0xa61)],_0x52ed0c(0x136));const {recursive:_0x55849b=!0x1}=_0x13ba9d??{};_0x27f628['logServiceEvent'](_0x751840[_0x52ed0c(0x821)],{'type':_0x52ed0c(0x6bb),'label':this[_0x52ed0c(0x32e)],'nodeId':this[_0x52ed0c(0x6ff)]['getId'](),'nodeType':this[_0x52ed0c(0x6ff)][_0x52ed0c(0xa7e)],'clusterId':this[_0x52ed0c(0xa46)],'path':_0x583d5e}),this[_0x52ed0c(0x952)]+=0x1,this[_0x52ed0c(0xee)]();try{return await this[_0x52ed0c(0x6f4)][_0x52ed0c(0x6bb)](_0x583d5e,_0x55849b);}catch(_0x14b55b){throw new _0x10fc18(_0x10a5c8[_0x52ed0c(0x9ea)],_0x52ed0c(0x953)+_0x583d5e);}}[_0x2d5032(0x75b)](_0x381eae,_0x25fe79){const _0x2320cf=_0x2d5032;if(this[_0x2320cf(0x219)][_0x2320cf(0x290)](_0x381eae))throw new _0x10fc18(_0x10a5c8[_0x2320cf(0x281)],_0x2320cf(0x2be));this[_0x2320cf(0x219)]['set'](_0x381eae,this[_0x2320cf(0x978)][_0x2320cf(0x75b)](_0x25fe79));}[_0x2d5032(0x3c5)](_0x31717d){const _0x3609ba=_0x2d5032;this['listenerUnsubscribers'][_0x3609ba(0x13f)](_0x31717d)?.(),this[_0x3609ba(0x219)][_0x3609ba(0x113)](_0x31717d);}async[_0x2d5032(0x788)](){const _0x4d528d=_0x2d5032,_0xae75f7=(await(0x0,_0x4538fe['getDoc'])((0x0,_0x4538fe[_0x4d528d(0x96f)])(_0x2f80ec[_0x4d528d(0x2af)](),_0x4d528d(0x286)+this[_0x4d528d(0x514)]+_0x4d528d(0x36f)+this[_0x4d528d(0x32e)])))[_0x4d528d(0x906)]();if(!_0xae75f7)throw new _0x10fc18(_0x10a5c8['ExternalStorageConnectionDoesNotExist'],_0x4d528d(0x967)+this[_0x4d528d(0x32e)]);const {site:_0x3b8ba8,drive:_0xbea985}=_0xae75f7,_0xd0bd97=(await(0x0,_0x4257bc[_0x4d528d(0x603)])(_0x2f80ec[_0x4d528d(0x3ce)](),_0x4d528d(0x767))({'storageId':this['label']}))[_0x4d528d(0x906)]['accessToken'];this['connector']=new this[(_0x4d528d(0x8f0))](_0x3b8ba8['id'],_0xbea985['id'],_0xd0bd97,async()=>(await(0x0,_0x4257bc[_0x4d528d(0x603)])(_0x2f80ec[_0x4d528d(0x3ce)](),_0x4d528d(0x129))({'storageId':this[_0x4d528d(0x32e)]}))[_0x4d528d(0x906)][_0x4d528d(0x21e)]),this[_0x4d528d(0x4b8)]();}[_0x2d5032(0xee)](){const _0x5dfd60=_0x2d5032;this['debounceStats']&&clearTimeout(this[_0x5dfd60(0x472)]),this[_0x5dfd60(0x472)]=setTimeout(async()=>{const _0x2076f5=_0x5dfd60;delete this[_0x2076f5(0x472)],this['systemTopic'][_0x2076f5(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x2076f5(0x8b3)],'content':{'type':_0x1ff5c6[_0x2076f5(0x8cb)],'label':this['label'],'stats':{'timestamp':Date[_0x2076f5(0xa45)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x2076f5(0x952)],'prompts':0x0,'tokens':0x0}}});},_0x38055e);}async[_0x2d5032(0x4b8)](){const _0x59c2ef=_0x2d5032;await this[_0x59c2ef(0x6f4)]?.['listChanges'](),this[_0x59c2ef(0x697)]=_0x461db3['setInterval'](async()=>{const _0x1cc6a3=_0x59c2ef;try{if(!this[_0x1cc6a3(0x6f4)])return;const _0x3f048c=await this['connector'][_0x1cc6a3(0x93e)]();for(const _0xffb5aa of _0x3f048c)this[_0x1cc6a3(0x978)][_0x1cc6a3(0x849)](_0xffb5aa);}catch(_0x2e56a8){}},0x493e0);}}const _0x1832a4=require('rxjs');class _0x48186d extends _0x1d8a54{[_0x2d5032(0x3e4)];['jobs']=new Map();[_0x2d5032(0x70a)]=new Map();[_0x2d5032(0x30a)]=new Map();[_0x2d5032(0x769)];constructor(_0x3951d7,_0x4d576f,_0x566c42){const _0x1fb6df=_0x2d5032;super(_0x3951d7,_0x4d576f),this[_0x1fb6df(0x3e4)]=_0x566c42;}[_0x2d5032(0x98e)](){const _0x4385c3=_0x2d5032;return _0x1a575a[_0x4385c3(0x979)]['Job'];}['open'](){this['unsubscribeHandler']=this['onMessage']((_0x404ade,_0xd8f936)=>{const _0x2f74a6=a0_0x11f8;if(_0x27f628[_0x2f74a6(0x107)](_0x53d5c4['Jobs'],_0x2f74a6(0x9dd),_0x404ade,_0xd8f936,this[_0x2f74a6(0x3e4)]['getRemoteNodes']()),!(_0xd8f936 instanceof File)){if(!_0xd8f936)throw new _0x54e1a8(_0x54e1a8[_0x2f74a6(0x318)]['JobDispatcherInvalidPayload']);return this['isBidResponse'](_0xd8f936)?this[_0x2f74a6(0x46a)](_0x404ade,_0xd8f936['id'],_0xd8f936):this[_0x2f74a6(0x85a)](_0xd8f936)?(_0x27f628[_0x2f74a6(0x107)](_0x53d5c4['Jobs'],_0x2f74a6(0x34e)+_0xd8f936['id']+_0x2f74a6(0x943),_0xd8f936['result']),void this[_0x2f74a6(0x723)](_0xd8f936['id'],_0xd8f936)):this[_0x2f74a6(0x8fa)](_0xd8f936)?(_0x27f628[_0x2f74a6(0x107)](_0x53d5c4[_0x2f74a6(0x6ee)],'Job\x20'+_0xd8f936['id']+_0x2f74a6(0x9d5),_0xd8f936['result']),void this[_0x2f74a6(0xad5)](_0xd8f936['id'],_0xd8f936)):void(this[_0x2f74a6(0x148)](_0xd8f936)&&this[_0x2f74a6(0x72b)](_0xd8f936['id'],_0xd8f936[_0x2f74a6(0x249)]));}});}[_0x2d5032(0xf2)](){const _0x5550ee=_0x2d5032;this[_0x5550ee(0x24b)](),this[_0x5550ee(0x788)]();}['destroy'](){const _0x57648d=_0x2d5032;this[_0x57648d(0x24b)](),super[_0x57648d(0x7f6)]();}[_0x2d5032(0x24b)](){const _0x5ed150=_0x2d5032;this[_0x5ed150(0x3df)]['clear'](),this[_0x5ed150(0x769)]&&this['unsubscribeHandler']();}['close'](){const _0x55c466=_0x2d5032;this[_0x55c466(0x83a)]?.[_0x55c466(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49['Content'],'content':{'type':_0x1ff5c6[_0x55c466(0x202)],'label':this['label']}});}async[_0x2d5032(0x94f)](_0x39d4a4){const _0x207bba=_0x2d5032,{id:_0x2b779b,parameters:_0x2c9e07,jobType:_0xa53e65}=_0x39d4a4,_0x114fff={'id':_0x2b779b,'jobType':_0xa53e65,'parameters':_0x2c9e07,'status':_0x1a575a[_0x207bba(0x7bf)]['Pending'],'created':new Date(),'updated':new Date()};if(this[_0x207bba(0x3df)]['has'](_0x114fff['id']))throw new _0x10fc18(_0x10a5c8['JobDispatcherJobExists'],'Job\x20with\x20id\x20'+_0x114fff['id']+_0x207bba(0x475));_0x114fff[_0x207bba(0x3a2)]=new Date(),_0x114fff[_0x207bba(0xafd)]=new Date();const _0x2dfba8=new _0x1832a4[(_0x207bba(0x10b))]();this[_0x207bba(0x3df)]['set'](_0x114fff['id'],_0x114fff),this[_0x207bba(0x70a)][_0x207bba(0x687)](_0x114fff['id'],_0x2dfba8);try{const _0x2a53b8={'id':_0x114fff['id'],'jobPhase':_0xe033b9[_0x207bba(0x836)],'jobType':_0x114fff['jobType']},_0x17f802=0x3;let _0x34ebc8=0x0;const _0x13e448=async()=>{const _0x508903=_0x207bba;_0x34ebc8+=0x1;try{_0x27f628[_0x508903(0x107)](_0x53d5c4[_0x508903(0x6ee)],'Job\x20'+_0x114fff['id']+'\x20sending\x20attempt\x20'+_0x34ebc8+'.',this[_0x508903(0x3e4)]['getRemoteNodes']()),await this['send'](_0x2a53b8),_0x114fff[_0x508903(0xafd)]=new Date(),this[_0x508903(0x3df)][_0x508903(0x687)](_0x114fff['id'],_0x114fff),this['startBidResponseHandling'](_0x114fff['id']);}catch(_0x55aef5){_0x34ebc8<_0x17f802?(_0x27f628[_0x508903(0x2d2)](_0x508903(0x6b0)+_0x34ebc8+_0x508903(0x3f6)+_0x114fff['id']+_0x508903(0xaf4),{'nodeId':this['owner']['getId'](),'nodeType':this['owner']['type'],'data':{'job':_0x114fff,'attempts':_0x34ebc8,'maxRetries':_0x17f802}}),setTimeout(_0x13e448,0x3e8)):(_0x114fff['status']=_0x1a575a[_0x508903(0x7bf)]['Failed'],_0x114fff['updated']=new Date(),this[_0x508903(0x3df)][_0x508903(0x687)](_0x114fff['id'],_0x114fff),_0x27f628[_0x508903(0x275)]('Failed\x20to\x20send\x20job\x20'+_0x114fff['id']+'\x20after\x20'+_0x17f802+_0x508903(0x9ff),{'nodeId':this[_0x508903(0x573)]['getId'](),'nodeType':this['owner'][_0x508903(0xa7e)],'data':{'job':_0x114fff,'attempts':_0x34ebc8,'maxRetries':_0x17f802,'error':_0x55aef5}}));}};_0x13e448();const {id:_0xf314b4}=_0x114fff;this[_0x207bba(0xf0)](_0x207bba(0x34e)+_0x114fff['id']+_0x207bba(0x16e),{'jobId':_0xf314b4}),_0x114fff['updated']=new Date();}catch(_0x1316aa){_0x114fff[_0x207bba(0xa11)]=_0x1a575a[_0x207bba(0x7bf)][_0x207bba(0x262)],_0x27f628[_0x207bba(0x275)](_0x207bba(0x512)+_0x114fff['id']+':',{'nodeId':this[_0x207bba(0x573)][_0x207bba(0x5cd)](),'nodeType':this[_0x207bba(0x573)][_0x207bba(0xa7e)],'data':{'job':_0x114fff,'error':_0x1316aa}});}return _0x2dfba8[_0x207bba(0x321)]();}['getJob'](_0x353c32){const _0x470866=_0x2d5032,_0x32a50e=this['jobs'][_0x470866(0x13f)](_0x353c32);if(!_0x32a50e)throw new _0x10fc18(_0x10a5c8[_0x470866(0x995)],'Job\x20with\x20id\x20'+_0x353c32+'\x20not\x20found.');return{'id':_0x32a50e['id'],'jobType':_0x32a50e[_0x470866(0x828)],'status':_0x32a50e[_0x470866(0xa11)],'parameters':_0x32a50e[_0x470866(0x42f)]};}[_0x2d5032(0x585)](){const _0x5027e4=_0x2d5032;return Array[_0x5027e4(0x8ee)](this[_0x5027e4(0x3df)][_0x5027e4(0xa94)]())[_0x5027e4(0x247)](_0x24a6a5=>this[_0x5027e4(0x1c2)](_0x24a6a5['id']));}async[_0x2d5032(0x253)](_0x70a379,_0x2918d7){const _0x1394dc=_0x2d5032,_0x46d18d=this['jobs'][_0x1394dc(0x13f)](_0x70a379);if(!_0x46d18d)throw new _0x10fc18(_0x10a5c8[_0x1394dc(0x995)],_0x1394dc(0x2d6)+_0x70a379+_0x1394dc(0x1a4));_0x46d18d['parameters']=_0x2918d7,_0x46d18d[_0x1394dc(0xafd)]=new Date(),this[_0x1394dc(0x3df)][_0x1394dc(0x687)](_0x70a379,_0x46d18d);}async[_0x2d5032(0x2c9)](_0x55e23d){const _0x4f98b3=_0x2d5032;if(!this[_0x4f98b3(0x3df)]['delete'](_0x55e23d))throw new _0x10fc18(_0x10a5c8[_0x4f98b3(0x995)],_0x4f98b3(0x2d6)+_0x55e23d+_0x4f98b3(0x1a4));const _0x47a177=this[_0x4f98b3(0x70a)][_0x4f98b3(0x13f)](_0x55e23d);if(!_0x47a177)throw new _0x54e1a8(_0x54e1a8['codes'][_0x4f98b3(0x1a6)]);_0x47a177[_0x4f98b3(0x197)](),this[_0x4f98b3(0x70a)]['delete'](_0x55e23d),_0x27f628[_0x4f98b3(0x107)](_0x53d5c4[_0x4f98b3(0x6ee)],_0x4f98b3(0x34e)+_0x55e23d+_0x4f98b3(0x494));}[_0x2d5032(0x46a)](_0xb02255,_0x2df547,_0x12735a){const _0x589b81=_0x2d5032,_0x3724e2=this[_0x589b81(0x30a)]['get'](_0x2df547)??new Map();_0x3724e2[_0x589b81(0x687)](_0xb02255,[_0x12735a,Date[_0x589b81(0xa45)]()]),this[_0x589b81(0x30a)][_0x589b81(0x687)](_0x2df547,_0x3724e2),this[_0x589b81(0x932)](_0x2df547);}[_0x2d5032(0x4bb)](_0x1d4301){const _0x25bec6=_0x2d5032,_0x10622d=this[_0x25bec6(0x3df)]['get'](_0x1d4301);if(!_0x10622d)throw new _0x54e1a8(_0x54e1a8['codes'][_0x25bec6(0x995)]);const _0x436633=setTimeout(()=>this['evaluateBidsAndAttributeJob'](_0x1d4301,!0x0),0xbb8);_0x10622d[_0x25bec6(0x826)]=_0x436633,this[_0x25bec6(0x3df)][_0x25bec6(0x687)](_0x10622d['id'],_0x10622d);}[_0x2d5032(0x932)](_0xcefeb4,_0x549964=!0x1){const _0x1d9f76=_0x2d5032,_0x5deb80=this[_0x1d9f76(0x3e4)][_0x1d9f76(0x95b)](),_0x174c9a=Array['from'](_0x5deb80[_0x1d9f76(0xa94)]())['filter'](_0x355585=>_0x355585[_0x1d9f76(0xa7e)]===_0x1a575a[_0x1d9f76(0x985)]['Agent']),_0x3358bb=this[_0x1d9f76(0x30a)]['get'](_0xcefeb4)??new Map();if(!_0x549964&&(!_0x3358bb||_0x3358bb[_0x1d9f76(0x279)]<_0x174c9a[_0x1d9f76(0x80e)]))return;const _0x5dfeeb=this[_0x1d9f76(0x3df)][_0x1d9f76(0x13f)](_0xcefeb4);if(!_0x5dfeeb)throw new _0x54e1a8(_0x54e1a8[_0x1d9f76(0x318)][_0x1d9f76(0x995)]);if(clearTimeout(_0x5dfeeb['responseTimeout']),_0x27f628['log'](_0x53d5c4[_0x1d9f76(0x6ee)],_0x1d9f76(0x34e)+_0x5dfeeb['id']+'\x20received\x20responses:',_0x3358bb,this[_0x1d9f76(0x30a)]),!_0x3358bb||0x0===_0x3358bb[_0x1d9f76(0x279)]){_0x5dfeeb[_0x1d9f76(0xa11)]=_0x1a575a['JobStatus'][_0x1d9f76(0x262)],_0x5dfeeb[_0x1d9f76(0xafd)]=new Date(),_0x27f628[_0x1d9f76(0x275)](_0x1d9f76(0x34e)+_0x5dfeeb['id']+_0x1d9f76(0x637),{'nodeId':this[_0x1d9f76(0x573)][_0x1d9f76(0x5cd)](),'nodeType':this[_0x1d9f76(0x573)][_0x1d9f76(0xa7e)],'data':{'job':_0x5dfeeb,'responses':_0x3358bb}});const _0x4dc45e=this[_0x1d9f76(0x70a)]['get'](_0xcefeb4);if(!_0x4dc45e)throw new _0x54e1a8(_0x54e1a8[_0x1d9f76(0x318)]['JobDispatcherObserverNotFound']);const _0x393860=_0x1d9f76(0x2db),_0x484b83={'id':_0x5dfeeb['id'],'status':_0x5dfeeb[_0x1d9f76(0xa11)],'message':_0x393860};return _0x4dc45e[_0x1d9f76(0x356)](_0x484b83),_0x4dc45e[_0x1d9f76(0x197)](),this['jobs']['set'](_0x5dfeeb['id'],_0x5dfeeb),void this[_0x1d9f76(0x30a)][_0x1d9f76(0x113)](_0xcefeb4);}const {nodeId:_0xf63613,response:_0x40f95d}=this[_0x1d9f76(0x662)](_0x5dfeeb['id'],_0x3358bb);_0x5dfeeb['status']=_0x1a575a[_0x1d9f76(0x7bf)][_0x1d9f76(0x987)],_0x5dfeeb['updated']=new Date(),_0x27f628[_0x1d9f76(0x107)](_0x53d5c4[_0x1d9f76(0x6ee)],_0x1d9f76(0x34e)+_0x5dfeeb['id']+_0x1d9f76(0x715)+_0xf63613+'\x20with\x20response:',_0x40f95d);const _0x47ee75={'id':_0x5dfeeb['id'],'jobType':_0x5dfeeb['jobType'],'jobPhase':_0xe033b9[_0x1d9f76(0x8b8)],'parameters':_0x5dfeeb['parameters']};this[_0x1d9f76(0x309)](_0x47ee75,[_0xf63613]),this[_0x1d9f76(0x3df)]['set'](_0x5dfeeb['id'],_0x5dfeeb),this[_0x1d9f76(0x30a)][_0x1d9f76(0x113)](_0xcefeb4);}[_0x2d5032(0x662)](_0x320c0d,_0x366f83){const _0x2b52a8=_0x2d5032;let _0x21dec9;const _0x269b14=Array['from'](_0x366f83[_0x2b52a8(0x419)]())['filter'](([,[_0x429ffc]])=>_0x429ffc['available']);if(_0x21dec9=_0x269b14['length']>0x0?Array[_0x2b52a8(0x8ee)](_0x366f83[_0x2b52a8(0x419)]())['sort']((_0x34c768,_0x3e2d31)=>_0x3e2d31[0x1][0x0]['bid']-_0x34c768[0x1][0x0]['bid']):Array[_0x2b52a8(0x8ee)](_0x366f83['entries']())[_0x2b52a8(0x508)]((_0x408c57,_0xe968d4)=>_0x408c57[0x1][0x0]['queueLength']-_0xe968d4[0x1][0x0][_0x2b52a8(0x6ed)]),0x1===_0x21dec9[_0x2b52a8(0x80e)])return{'nodeId':_0x21dec9[0x0][0x0],'response':_0x21dec9[0x0][0x1][0x0]};let _0x37b4f9;if(_0x37b4f9=_0x269b14[_0x2b52a8(0x80e)]>0x0?(_0x42d069=>{const _0x4c37df=_0x2b52a8,_0x3402fe=_0x42d069[0x0][0x1][0x0][_0x4c37df(0x310)];return _0x42d069[_0x4c37df(0xa9f)](([,[_0x4e4f9b]])=>_0x4e4f9b[_0x4c37df(0x310)]===_0x3402fe);})(_0x21dec9):(_0x5694dd=>{const _0x5b4431=_0x2b52a8,_0x14eeda=_0x5694dd[0x0][0x1][0x0][_0x5b4431(0x6ed)];return _0x5694dd[_0x5b4431(0xa9f)](([,[_0x507f9a]])=>_0x507f9a[_0x5b4431(0x6ed)]===_0x14eeda);})(_0x21dec9),0x1===_0x37b4f9['length'])return{'nodeId':_0x37b4f9[0x0][0x0],'response':_0x37b4f9[0x0][0x1][0x0]};const _0x28765d=this[_0x2b52a8(0x3df)][_0x2b52a8(0x13f)](_0x320c0d);if(!_0x28765d)throw new _0x54e1a8(_0x54e1a8[_0x2b52a8(0x318)][_0x2b52a8(0x995)]);const _0x2b3919=_0x28765d[_0x2b52a8(0x3a2)][_0x2b52a8(0x6c7)](),_0x36b88a=_0x37b4f9[_0x2b52a8(0x247)](([_0x417c4c,[,_0x46076b]])=>({'nodeId':_0x417c4c,'rtt':_0x46076b-_0x2b3919})),_0x527f0f=Math[_0x2b52a8(0x251)](..._0x36b88a[_0x2b52a8(0x247)](({rtt:_0xbd5106})=>_0xbd5106)),_0xe7fa59=_0x36b88a[_0x2b52a8(0x91b)](({rtt:_0x26c251})=>_0x26c251===_0x527f0f),[,[_0x438e29]]=_0x37b4f9[_0x2b52a8(0x91b)](([_0x3a4e5c])=>_0x3a4e5c===_0xe7fa59[_0x2b52a8(0xa3c)]);return{'nodeId':_0xe7fa59[_0x2b52a8(0xa3c)],'response':_0x438e29};}[_0x2d5032(0x723)](_0x29398f,_0x529b86){const _0x590a36=_0x2d5032,_0x12885f=this[_0x590a36(0x3df)]['get'](_0x29398f);if(!_0x12885f)throw new _0x54e1a8(_0x54e1a8[_0x590a36(0x318)]['JobDispatcherJobNotFound']);const _0x4cb5ee=this[_0x590a36(0x70a)][_0x590a36(0x13f)](_0x29398f);if(!_0x4cb5ee)throw new _0x54e1a8(_0x54e1a8[_0x590a36(0x318)]['JobDispatcherObserverNotFound']);const _0x555ae1={'id':_0x12885f['id'],'status':_0x1a575a[_0x590a36(0x7bf)]['Partial'],'result':_0x529b86[_0x590a36(0x68c)]};_0x4cb5ee[_0x590a36(0x356)](_0x555ae1);}[_0x2d5032(0xad5)](_0x56e901,_0x3ce566){const _0x258ba1=_0x2d5032,_0x4d48f4=this[_0x258ba1(0x3df)][_0x258ba1(0x13f)](_0x56e901);if(!_0x4d48f4)throw new _0x54e1a8(_0x54e1a8[_0x258ba1(0x318)][_0x258ba1(0x995)]);const _0x213fa5=this[_0x258ba1(0x70a)][_0x258ba1(0x13f)](_0x56e901);if(!_0x213fa5)throw new _0x54e1a8(_0x54e1a8[_0x258ba1(0x318)][_0x258ba1(0x1a6)]);_0x4d48f4['status']=_0x1a575a['JobStatus'][_0x258ba1(0x588)];const _0x279d6d={'id':_0x4d48f4['id'],'status':_0x4d48f4[_0x258ba1(0xa11)],'result':_0x3ce566[_0x258ba1(0x68c)]};_0x213fa5[_0x258ba1(0x356)](_0x279d6d),_0x213fa5[_0x258ba1(0x197)](),this[_0x258ba1(0x70a)][_0x258ba1(0x113)](_0x56e901),this[_0x258ba1(0xf0)](_0x258ba1(0x34e)+_0x56e901+_0x258ba1(0x111),{'jobId':_0x56e901});}[_0x2d5032(0x72b)](_0xd5eaa,_0xa103b){const _0x2112ca=_0x2d5032,_0x3222fb=this['jobs'][_0x2112ca(0x13f)](_0xd5eaa);if(!_0x3222fb)throw new _0x54e1a8(_0x54e1a8[_0x2112ca(0x318)][_0x2112ca(0x995)]);const _0xe4db90=this[_0x2112ca(0x70a)]['get'](_0xd5eaa);if(!_0xe4db90)throw new _0x54e1a8(_0x54e1a8[_0x2112ca(0x318)][_0x2112ca(0x1a6)]);_0x3222fb[_0x2112ca(0xa11)]=_0x1a575a[_0x2112ca(0x7bf)][_0x2112ca(0x262)];const _0x35e05c={'id':_0x3222fb['id'],'status':_0x3222fb[_0x2112ca(0xa11)],'message':_0xa103b};_0xe4db90[_0x2112ca(0x356)](_0x35e05c),_0xe4db90[_0x2112ca(0x197)](),this[_0x2112ca(0x70a)][_0x2112ca(0x113)](_0xd5eaa),this['logEvent'](_0x2112ca(0x34e)+_0xd5eaa+_0x2112ca(0x78f),{'jobId':_0xd5eaa});}[_0x2d5032(0xf0)](_0x49a293,{jobId:_0x2d08fd}){const _0x3574aa=_0x2d5032,_0x4a1d79={'jobId':_0x2d08fd,'mistletIds':Array[_0x3574aa(0x8ee)](this[_0x3574aa(0x3e4)]['getRemoteNodes']()[_0x3574aa(0xa94)]())[_0x3574aa(0xa9f)](_0x43ad9d=>_0x43ad9d[_0x3574aa(0xa7e)]===_0x1a575a[_0x3574aa(0x985)][_0x3574aa(0x6a1)])[_0x3574aa(0x247)](_0x3277fb=>_0x3277fb['getId']())};_0x27f628[_0x3574aa(0xf0)](_0x49a293,{'nodeId':this[_0x3574aa(0xa95)](),'nodeType':this[_0x3574aa(0x573)]['type'],'data':_0x4a1d79}),_0x27f628[_0x3574aa(0x107)](_0x53d5c4[_0x3574aa(0x6ee)],_0x49a293,_0x4a1d79);}[_0x2d5032(0x583)](_0x530335){const _0x285136=_0x2d5032,{jobPhase:_0x3547ec,available:_0x1b418b,bid:_0x3d46db}=_0x530335;return _0x3547ec===_0xe033b9[_0x285136(0x7e4)]&&void 0x0!==_0x1b418b&&void 0x0!==_0x3d46db;}['isPartialResultResponse'](_0x161407){const _0x235a03=_0x2d5032,{jobPhase:_0x17b707,result:_0xd7ea0e}=_0x161407;return _0x17b707===_0xe033b9[_0x235a03(0x940)]&&void 0x0!==_0xd7ea0e;}[_0x2d5032(0x8fa)](_0x25d422){const {jobPhase:_0x29c207,result:_0xe21a5f}=_0x25d422;return _0x29c207===_0xe033b9['Result']&&void 0x0!==_0xe21a5f;}[_0x2d5032(0x148)](_0x3dc311){const _0xf91ea9=_0x2d5032,{jobPhase:_0x1e1f88,message:_0x1df1fd}=_0x3dc311;return _0x1e1f88===_0xe033b9[_0xf91ea9(0x262)]&&void 0x0!==_0x1df1fd&&_0xf91ea9(0x823)==typeof _0x1df1fd;}}var _0xed9733,_0x57cac9,_0x3776b8,_0x4f0d49,_0x54a928;!function(_0x58c046){const _0xb3b9c9=_0x2d5032;_0x58c046['ObjectStorage']=_0xb3b9c9(0xa31),_0x58c046[_0xb3b9c9(0x821)]=_0xb3b9c9(0x5d1);}(_0xed9733||(_0xed9733={})),function(_0xe44f47){const _0x593881=_0x2d5032;_0xe44f47['Agent']='agent',_0xe44f47[_0x593881(0x982)]=_0x593881(0x818),_0xe44f47[_0x593881(0x409)]=_0x593881(0xac0),_0xe44f47[_0x593881(0x463)]=_0x593881(0x970),_0xe44f47[_0x593881(0x8bc)]=_0x593881(0x28d),_0xe44f47['Knowledge']=_0x593881(0x9f4),_0xe44f47[_0x593881(0x407)]=_0x593881(0x123),_0xe44f47['Answer']=_0x593881(0x499),_0xe44f47['Code']=_0x593881(0x23c),_0xe44f47[_0x593881(0x142)]=_0x593881(0xaa7),_0xe44f47[_0x593881(0xa1f)]=_0x593881(0xa63),_0xe44f47[_0x593881(0x957)]=_0x593881(0x35d),_0xe44f47[_0x593881(0x437)]='web-scraper',_0xe44f47[_0x593881(0x9b7)]=_0x593881(0x988),_0xe44f47[_0x593881(0x789)]=_0x593881(0x653),_0xe44f47[_0x593881(0x1fc)]='write-file',_0xe44f47[_0x593881(0x24d)]=_0x593881(0x4b6),_0xe44f47[_0x593881(0x52a)]=_0x593881(0x4a8),_0xe44f47[_0x593881(0x2ba)]='word-splitter',_0xe44f47[_0x593881(0x991)]=_0x593881(0x47b),_0xe44f47[_0x593881(0x60f)]=_0x593881(0x44c),_0xe44f47[_0x593881(0x15b)]='input-audio-stream',_0xe44f47[_0x593881(0x8ff)]=_0x593881(0x383),_0xe44f47[_0x593881(0x332)]=_0x593881(0x4d0);}(_0x57cac9||(_0x57cac9={})),function(_0x1f6d56){const _0x3a6fbf=_0x2d5032;_0x1f6d56[_0x3a6fbf(0x33d)]=_0x3a6fbf(0x79d),_0x1f6d56[_0x3a6fbf(0x831)]=_0x3a6fbf(0x2ed),_0x1f6d56[_0x3a6fbf(0x991)]='document-parser',_0x1f6d56['ChunkSplitter']=_0x3a6fbf(0x4b6),_0x1f6d56[_0x3a6fbf(0x2ba)]=_0x3a6fbf(0x5de),_0x1f6d56[_0x3a6fbf(0x52a)]=_0x3a6fbf(0x4a8),_0x1f6d56[_0x3a6fbf(0x67f)]=_0x3a6fbf(0x8ab),_0x1f6d56[_0x3a6fbf(0x1c4)]=_0x3a6fbf(0x8f5),_0x1f6d56[_0x3a6fbf(0x21b)]=_0x3a6fbf(0x76c),_0x1f6d56[_0x3a6fbf(0x958)]=_0x3a6fbf(0x84a),_0x1f6d56[_0x3a6fbf(0x6a1)]=_0x3a6fbf(0x4b9),_0x1f6d56[_0x3a6fbf(0x371)]='object-storage',_0x1f6d56[_0x3a6fbf(0x7a3)]=_0x3a6fbf(0x488),_0x1f6d56[_0x3a6fbf(0x571)]=_0x3a6fbf(0x756),_0x1f6d56[_0x3a6fbf(0x1a3)]='graph-database',_0x1f6d56[_0x3a6fbf(0x407)]=_0x3a6fbf(0x123),_0x1f6d56[_0x3a6fbf(0x347)]=_0x3a6fbf(0x5d7),_0x1f6d56[_0x3a6fbf(0x228)]=_0x3a6fbf(0x547),_0x1f6d56['Embed']=_0x3a6fbf(0x6bd);}(_0x3776b8||(_0x3776b8={})),function(_0x20a415){const _0x5091ca=_0x2d5032;_0x20a415[_0x5091ca(0x19b)]=_0x5091ca(0x511),_0x20a415[_0x5091ca(0x2dd)]=_0x5091ca(0x908),_0x20a415[_0x5091ca(0x8cc)]=_0x5091ca(0x479),_0x20a415[_0x5091ca(0x975)]='audio',_0x20a415[_0x5091ca(0x7e1)]=_0x5091ca(0x906),_0x20a415['Vector']=_0x5091ca(0x204),_0x20a415[_0x5091ca(0x27a)]=_0x5091ca(0x587),_0x20a415[_0x5091ca(0x90b)]=_0x5091ca(0x3a7),_0x20a415[_0x5091ca(0xa1f)]='search',_0x20a415['Index']='index',_0x20a415[_0x5091ca(0x868)]=_0x5091ca(0xad4),_0x20a415[_0x5091ca(0x347)]=_0x5091ca(0x5d7),_0x20a415[_0x5091ca(0x536)]='wait',_0x20a415[_0x5091ca(0x52c)]=_0x5091ca(0x69e),_0x20a415[_0x5091ca(0x363)]=_0x5091ca(0x951);}(_0x4f0d49||(_0x4f0d49={})),function(_0x579ccc){const _0xd193b6=_0x2d5032;_0x579ccc['Shared']='shared',_0x579ccc[_0xd193b6(0x8a7)]=_0xd193b6(0xfd),_0x579ccc['Dedicated']='dedicated';}(_0x54a928||(_0x54a928={}));const _0x436104=[{'type':_0x57cac9[_0x2d5032(0x409)],'id':'if-else-router','name':'Conditional\x20Router','description':_0x2d5032(0x428),'modelId':_0x2d5032(0x2d1),'instructions':'Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','grammar':_0x2d5032(0x357),'temperature':0x0,'maxTokens':0x64}],_0x28b9f8=[{'type':_0x57cac9[_0x2d5032(0x6a1)],'id':_0x2d5032(0x2df),'name':'Blank\x20Agent','description':'','modelId':'gpt-4.1-nano','instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9['Agent'],'id':_0x2d5032(0x14b),'name':_0x2d5032(0xe5),'description':_0x2d5032(0x2bb),'modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0x5fd),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9[_0x2d5032(0x6a1)],'id':'search-agent','name':_0x2d5032(0x1b6),'description':_0x2d5032(0x4d2),'modelId':_0x2d5032(0x2d1),'instructions':'Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9[_0x2d5032(0x6a1)],'id':_0x2d5032(0x4a5),'name':_0x2d5032(0x100),'description':_0x2d5032(0x51e),'modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0x912),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9[_0x2d5032(0x6a1)],'id':'learn-agent','name':_0x2d5032(0x18f),'description':_0x2d5032(0xa92),'modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0x864),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9[_0x2d5032(0x6a1)],'id':_0x2d5032(0x586),'name':'Query\x20Generator','description':_0x2d5032(0x714),'modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0x904),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9['Agent'],'id':_0x2d5032(0xaf2),'name':_0x2d5032(0x780),'description':_0x2d5032(0x1d0),'modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0x174),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9[_0x2d5032(0x6a1)],'id':'strategizing-agent','name':_0x2d5032(0x3db),'description':_0x2d5032(0xaea),'modelId':_0x2d5032(0x2d1),'instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9['Agent'],'id':_0x2d5032(0x3fa),'name':_0x2d5032(0x15d),'description':'Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0xad9),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9['Agent'],'id':_0x2d5032(0x888),'name':_0x2d5032(0x7ef),'description':'Retrieves\x20historical\x20data\x20from\x20online\x20archives.','modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0x5d8),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9[_0x2d5032(0x6a1)],'id':_0x2d5032(0x5f4),'name':'Trend\x20Spotter','description':_0x2d5032(0xfc),'modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0x498),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x57cac9['Agent'],'id':'copywriter-agent','name':_0x2d5032(0x88f),'description':_0x2d5032(0x9ed),'modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0x6d2),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':'coordinator-agent','name':_0x2d5032(0x8c0),'description':_0x2d5032(0x69d),'modelId':'gpt-4.1-nano','instructions':_0x2d5032(0x959),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x2d5032(0x8eb),'name':_0x2d5032(0xa05),'description':_0x2d5032(0x528),'modelId':_0x2d5032(0x2d1),'instructions':_0x2d5032(0x9c6),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0x2d5032(0x483),'name':'Document\x20Agent','description':'Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','modelId':'gpt-4.1-nano','instructions':'Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x5d9fb3{static [_0x2d5032(0x237)];constructor(){}static[_0x2d5032(0x181)](){const _0x59e41f=_0x2d5032;return _0x5d9fb3[_0x59e41f(0x237)]||(_0x5d9fb3[_0x59e41f(0x237)]=new _0x5d9fb3()),_0x5d9fb3['instance'];}async[_0x2d5032(0x390)](_0x3e4be8,_0x2bc2a9){const _0x54590f=_0x2d5032,_0x532ada=await(0x0,_0x4538fe[_0x54590f(0x22c)])((0x0,_0x4538fe[_0x54590f(0x96f)])(_0x2f80ec[_0x54590f(0x2af)](),_0x54590f(0x286)+_0x3e4be8+_0x54590f(0x171)+_0x2bc2a9)),_0x1728b0=await this[_0x54590f(0x33f)](_0x3e4be8),_0x13f052=await this[_0x54590f(0x31e)](_0x3e4be8),_0x39399a=await this[_0x54590f(0x1a1)](_0x3e4be8);if(!_0x532ada['exists']())throw new _0x54e1a8(_0x54e1a8[_0x54590f(0x318)]['WorkflowDoesNotExist']);return this['parseWorkflowDocument'](_0x532ada,_0x1728b0,_0x13f052,_0x39399a);}async[_0x2d5032(0x1a1)](_0x4571be){const _0x7a9952=_0x2d5032;return(await(0x0,_0x4538fe['getDocs'])((0x0,_0x4538fe[_0x7a9952(0x1b1)])(_0x2f80ec[_0x7a9952(0x2af)](),_0x7a9952(0x286)+_0x4571be+_0x7a9952(0x7c7))))[_0x7a9952(0x8d8)][_0x7a9952(0x247)](_0x1cdb54=>{const _0x211029=_0x7a9952,_0x3860bf=_0x1cdb54[_0x211029(0x906)]();return{'type':_0x57cac9['DataCollection'],'id':_0x1cdb54['id'],'name':_0x3860bf['name'],'description':_0x3860bf[_0x211029(0x52e)],'storageType':_0x3860bf['storageType']??_0x1a575a['GenerativeAIRagType'][_0x211029(0x762)],'hosting':_0x3860bf['hosting']??_0x54a928['Dedicated'],'modelId':_0x3860bf['modelId']??_0x211029(0x9c4),'ingestBlocks':_0x3860bf[_0x211029(0x29c)],'retrieveBlocks':_0x3860bf['retrieveBlocks']};});}async[_0x2d5032(0xa67)](_0x155d86,_0x225d73){const _0x456278=_0x2d5032,_0x29d255=await(0x0,_0x4538fe[_0x456278(0x22c)])((0x0,_0x4538fe[_0x456278(0x96f)])(_0x2f80ec['getFirestore'](),_0x456278(0x286)+_0x155d86+_0x456278(0x89a)+_0x225d73)),_0x38f072=await this[_0x456278(0x33f)](_0x155d86),_0x4dff4b=_0x29d255[_0x456278(0x906)]();if(!_0x4dff4b)throw new _0x54e1a8(_0x54e1a8[_0x456278(0x318)][_0x456278(0x13a)]);return{'type':_0x57cac9[_0x456278(0x8bc)],'id':_0x225d73,'uid':_0x225d73,'name':_0x4dff4b[_0x456278(0x928)],'description':_0x4dff4b[_0x456278(0x52e)],'storageType':_0x4dff4b[_0x456278(0x9af)]??_0x1a575a[_0x456278(0x4e6)]['Pinecone'],'hosting':_0x4dff4b['hosting']??_0x54a928[_0x456278(0x94d)],'modelId':_0x4dff4b[_0x456278(0x24a)]??_0x456278(0x9c4),'ingestBlocks':this[_0x456278(0x7bd)](_0x4dff4b[_0x456278(0x29c)],_0x38f072),'retrieveBlocks':this[_0x456278(0x7bd)](_0x4dff4b[_0x456278(0xa25)],_0x38f072),'links':[]};}[_0x2d5032(0x27f)](_0x225134,_0x5675a9,_0x2fd851,_0x52fdbd){const _0x574ba1=_0x2d5032,_0x27a618=_0x225134['data']();if(!_0x27a618)throw new _0x54e1a8(_0x54e1a8[_0x574ba1(0x318)][_0x574ba1(0x807)]);const _0x5120f0=this[_0x574ba1(0x1f7)](_0x27a618[_0x574ba1(0xa76)],_0x5675a9,_0x2fd851,_0x52fdbd);return{'id':_0x225134['id'],'name':_0x27a618[_0x574ba1(0x928)],'description':_0x27a618[_0x574ba1(0x52e)],'blocks':_0x5120f0,'dataBucketIds':this['getWorkflowObjectStorageBuckets'](_0x5120f0),'externalStorageConnectionIds':this[_0x574ba1(0x5b5)](_0x5120f0),'initialPrompt':_0x27a618['initialPrompt']};}[_0x2d5032(0x9bd)](_0x21dfd1){const _0x2e48ad=_0x2d5032,_0x378c2a=new Set();for(const _0x197add of _0x21dfd1)switch(_0x197add[_0x2e48ad(0xa7e)]){case _0x57cac9[_0x2e48ad(0x541)]:case _0x57cac9['DataCollection']:for(const _0x3d1e2c of[..._0x197add[_0x2e48ad(0x29c)],..._0x197add['retrieveBlocks']])_0x3d1e2c['type']===_0x3776b8[_0x2e48ad(0x33d)]&&_0x378c2a[_0x2e48ad(0x5e6)](_0x3d1e2c['id']);}return Array[_0x2e48ad(0x8ee)](_0x378c2a);}[_0x2d5032(0x5b5)](_0x179035){const _0x4a549b=_0x2d5032,_0x60f0bf=new Set();for(const _0x4872e6 of _0x179035)switch(_0x4872e6['type']){case _0x57cac9[_0x4a549b(0x541)]:case _0x57cac9[_0x4a549b(0x8bc)]:for(const _0x196133 of[..._0x4872e6[_0x4a549b(0x29c)],..._0x4872e6[_0x4a549b(0xa25)]])_0x196133[_0x4a549b(0xa7e)]===_0x3776b8[_0x4a549b(0x831)]&&_0x60f0bf[_0x4a549b(0x5e6)](_0x196133['id']);}return Array[_0x4a549b(0x8ee)](_0x60f0bf);}[_0x2d5032(0x1f7)](_0x23e7c8,_0x303c21,_0x3614c4,_0x30fff3){const _0x291b3e=_0x2d5032;return _0x23e7c8[_0x291b3e(0x247)](_0x54ff5f=>{const _0x222bbd=_0x291b3e;switch(_0x54ff5f[_0x222bbd(0xa7e)]){case _0x57cac9['Agent']:case _0x57cac9['AgentSkill']:case _0x57cac9[_0x222bbd(0x409)]:const _0x1b7895=_0x303c21[_0x222bbd(0x91b)](_0x272860=>_0x272860['id']===_0x54ff5f['id']);if(!_0x1b7895)throw new _0x54e1a8(_0x54e1a8['codes'][_0x222bbd(0x296)],{'block':_0x54ff5f});return{'type':_0x57cac9[_0x222bbd(0x6a1)],'id':_0x1b7895['id'],'uid':_0x54ff5f[_0x222bbd(0x5c0)],'name':_0x1b7895[_0x222bbd(0x928)],'description':_0x1b7895[_0x222bbd(0x52e)],'instructions':(_0x1b7895[_0x222bbd(0x79b)]+'\x0a\x0a'+(_0x54ff5f['agent']?.['additionnalInstructions']??''))[_0x222bbd(0x4c0)](),'contextOutputVariable':_0x54ff5f[_0x222bbd(0x4b9)]?.[_0x222bbd(0x71c)],'contextInputVariable':_0x54ff5f[_0x222bbd(0x4b9)]?.[_0x222bbd(0x7b0)],'reasoning':_0x54ff5f[_0x222bbd(0x4b9)]?.[_0x222bbd(0x520)]??!0x1,'grammar':_0x54ff5f['agent']?.['grammar']??_0x222bbd(0x8ca),'temperature':_0x54ff5f[_0x222bbd(0x4b9)]?.[_0x222bbd(0x3a9)]??0.5,'maxTokens':_0x54ff5f['agent']?.[_0x222bbd(0x19f)]??0x1f4,'modelId':_0x54ff5f[_0x222bbd(0x4b9)]?.[_0x222bbd(0x24a)]??_0x222bbd(0x8ac),'links':_0x54ff5f[_0x222bbd(0x3c3)]};case _0x57cac9[_0x222bbd(0x541)]:case _0x57cac9[_0x222bbd(0x8bc)]:const _0x57da66=_0x30fff3['find'](_0x502547=>_0x502547['id']===_0x54ff5f['id']);if(!_0x57da66)throw new _0x54e1a8(_0x54e1a8[_0x222bbd(0x318)][_0x222bbd(0x296)],{'block':_0x54ff5f});return{'type':_0x54ff5f[_0x222bbd(0xa7e)],'id':_0x57da66['id'],'uid':_0x54ff5f[_0x222bbd(0x5c0)],'name':_0x57da66[_0x222bbd(0x928)],'description':_0x57da66[_0x222bbd(0x52e)],'ingestBlocks':this[_0x222bbd(0x7bd)](_0x57da66[_0x222bbd(0x29c)],_0x303c21),'retrieveBlocks':this[_0x222bbd(0x7bd)](_0x57da66[_0x222bbd(0xa25)],_0x303c21),'links':_0x54ff5f['links']};case _0x57cac9[_0x222bbd(0x463)]:return{'type':_0x54ff5f[_0x222bbd(0xa7e)],'id':_0x54ff5f['id'],'uid':_0x54ff5f[_0x222bbd(0x5c0)],'name':_0x54ff5f[_0x222bbd(0xad4)][_0x222bbd(0x928)],'description':_0x54ff5f[_0x222bbd(0xad4)][_0x222bbd(0x52e)],'parameters':_0x54ff5f[_0x222bbd(0xad4)][_0x222bbd(0x42f)],'endpointUrl':_0x54ff5f[_0x222bbd(0xad4)]['endpointUrl'],'endpointMethod':_0x54ff5f[_0x222bbd(0xad4)][_0x222bbd(0xe8)],'headers':_0x54ff5f[_0x222bbd(0xad4)][_0x222bbd(0x838)],'queryParameters':_0x54ff5f['tool'][_0x222bbd(0x936)],'bodyParameters':_0x54ff5f[_0x222bbd(0xad4)][_0x222bbd(0xa7a)],'contextOutputVariable':_0x54ff5f[_0x222bbd(0xad4)][_0x222bbd(0x71c)],'links':_0x54ff5f[_0x222bbd(0x3c3)]};case _0x57cac9[_0x222bbd(0x142)]:return{'type':_0x54ff5f['type'],'id':_0x54ff5f['id'],'uid':_0x54ff5f['uid'],'name':_0x54ff5f[_0x222bbd(0xad4)]['name'],'description':_0x54ff5f[_0x222bbd(0xad4)]['description'],'questions':_0x54ff5f['tool'][_0x222bbd(0x3cb)][_0x222bbd(0x247)](_0x356ed2=>({'id':_0x356ed2['id'],'question':_0x356ed2[_0x222bbd(0x928)],'validation':_0x356ed2[_0x222bbd(0x50f)],'required':_0x222bbd(0x84b)===_0x356ed2[_0x222bbd(0xe3)],'format':_0x356ed2[_0x222bbd(0x31f)]})),'contextOutputVariable':_0x54ff5f['tool'][_0x222bbd(0x71c)],'links':_0x54ff5f['links']};case _0x57cac9[_0x222bbd(0x957)]:return{'type':_0x54ff5f[_0x222bbd(0xa7e)],'id':_0x54ff5f['id'],'uid':_0x54ff5f[_0x222bbd(0x5c0)],'modelId':_0x54ff5f['tool'][_0x222bbd(0x24a)]??_0x222bbd(0x77c),'links':_0x54ff5f['links']};case _0x57cac9['WorkflowTool']:const _0x315026=_0x3614c4[_0x222bbd(0x91b)](_0x414302=>_0x414302['id']===_0x54ff5f['id']);if(!_0x315026)throw new _0x54e1a8(_0x54e1a8[_0x222bbd(0x318)][_0x222bbd(0x296)],{'block':_0x54ff5f});return{'type':_0x54ff5f[_0x222bbd(0xa7e)],'id':_0x54ff5f['id'],'uid':_0x54ff5f[_0x222bbd(0x5c0)],'name':_0x315026[_0x222bbd(0x928)],'description':_0x315026[_0x222bbd(0x52e)],'workflowId':_0x315026['id'],'async':_0x54ff5f[_0x222bbd(0xad4)]['async'],'contextOutputVariable':_0x54ff5f[_0x222bbd(0xad4)]['contextOutputVariable'],'contextInputVariable':_0x54ff5f[_0x222bbd(0xad4)][_0x222bbd(0x7b0)],'links':_0x54ff5f['links']};case _0x57cac9[_0x222bbd(0x407)]:case _0x57cac9[_0x222bbd(0x15b)]:case _0x57cac9[_0x222bbd(0x990)]:case _0x57cac9[_0x222bbd(0x8ff)]:case _0x57cac9[_0x222bbd(0x189)]:case _0x57cac9[_0x222bbd(0xa1f)]:case _0x57cac9[_0x222bbd(0x437)]:case _0x57cac9[_0x222bbd(0x9b7)]:case _0x57cac9[_0x222bbd(0x789)]:case _0x57cac9[_0x222bbd(0x1fc)]:case _0x57cac9[_0x222bbd(0x52a)]:case _0x57cac9[_0x222bbd(0x991)]:case _0x57cac9[_0x222bbd(0x60f)]:return{'type':_0x54ff5f[_0x222bbd(0xa7e)],'id':_0x54ff5f['id'],'uid':_0x54ff5f['uid'],'links':_0x54ff5f[_0x222bbd(0x3c3)]};case _0x57cac9[_0x222bbd(0x24d)]:case _0x57cac9[_0x222bbd(0x2ba)]:return{'type':_0x54ff5f[_0x222bbd(0xa7e)],'id':_0x54ff5f['id'],'uid':_0x54ff5f[_0x222bbd(0x5c0)],'links':_0x54ff5f[_0x222bbd(0x3c3)],'attributes':_0x54ff5f[_0x222bbd(0x2fe)]};default:throw new _0x54e1a8(_0x54e1a8[_0x222bbd(0x318)][_0x222bbd(0x296)],{'block':_0x54ff5f});}});}[_0x2d5032(0x7bd)](_0x128a66,_0x32c05b){const _0x2dbb71=_0x2d5032;return _0x128a66?_0x128a66[_0x2dbb71(0x247)](_0x11c2ee=>{const _0x397cc8=_0x2dbb71;switch(_0x11c2ee[_0x397cc8(0xa7e)]){case _0x3776b8[_0x397cc8(0x6a1)]:const _0x1becf2=_0x32c05b[_0x397cc8(0x91b)](_0x2f5fc8=>_0x2f5fc8['id']===_0x11c2ee['id']);if(!_0x1becf2)throw new _0x54e1a8(_0x54e1a8[_0x397cc8(0x318)][_0x397cc8(0x296)],{'block':_0x11c2ee});return{'type':_0x11c2ee['type'],'id':_0x11c2ee['id'],'uid':_0x11c2ee['uid'],'description':_0x1becf2[_0x397cc8(0x52e)],'instructions':(_0x1becf2[_0x397cc8(0x79b)]+'\x0a\x0a'+(_0x11c2ee['agent']?.[_0x397cc8(0x120)]??''))['trim'](),'contextOutputVariable':_0x11c2ee[_0x397cc8(0x4b9)]?.[_0x397cc8(0x71c)],'contextInputVariable':_0x11c2ee[_0x397cc8(0x4b9)]?.[_0x397cc8(0x7b0)],'reasoning':_0x11c2ee[_0x397cc8(0x4b9)]?.[_0x397cc8(0x520)]??!0x1,'grammar':_0x11c2ee[_0x397cc8(0x4b9)]?.['grammar']??_0x397cc8(0x8ca),'temperature':_0x11c2ee[_0x397cc8(0x4b9)]?.[_0x397cc8(0x3a9)]??0.5,'maxTokens':_0x11c2ee[_0x397cc8(0x4b9)]?.['maxTokens']??0x1f4,'modelId':_0x11c2ee[_0x397cc8(0x4b9)]?.[_0x397cc8(0x24a)]??_0x397cc8(0x8ac),'links':_0x11c2ee['links']};case _0x3776b8['GraphDatabase']:case _0x3776b8['VectorDatabase']:case _0x3776b8['WordSplitter']:case _0x3776b8[_0x397cc8(0x24d)]:case _0x3776b8[_0x397cc8(0x1c4)]:case _0x3776b8['Reranker']:return{'type':_0x11c2ee[_0x397cc8(0xa7e)],'id':_0x11c2ee['id'],'uid':_0x11c2ee['uid'],'links':_0x11c2ee[_0x397cc8(0x3c3)],'attributes':_0x11c2ee[_0x397cc8(0x2fe)]};case _0x3776b8[_0x397cc8(0x958)]:case _0x3776b8[_0x397cc8(0x371)]:case _0x3776b8['KeyValueDatabase']:case _0x3776b8[_0x397cc8(0x67f)]:case _0x3776b8['DocumentParser']:case _0x3776b8['SentenceSplitter']:case _0x3776b8[_0x397cc8(0x33d)]:case _0x3776b8[_0x397cc8(0x831)]:case _0x3776b8[_0x397cc8(0x347)]:case _0x3776b8[_0x397cc8(0x407)]:case _0x3776b8[_0x397cc8(0x228)]:case _0x3776b8[_0x397cc8(0x433)]:return{'type':_0x11c2ee[_0x397cc8(0xa7e)],'id':_0x11c2ee['id'],'uid':_0x11c2ee[_0x397cc8(0x5c0)],'links':_0x11c2ee[_0x397cc8(0x3c3)]};default:throw new _0x54e1a8(_0x54e1a8[_0x397cc8(0x318)][_0x397cc8(0x296)],{'block':_0x11c2ee});}}):[];}async[_0x2d5032(0x33f)](_0xf49d47){const _0x266c00=_0x2d5032,_0x225d52=(await(0x0,_0x4538fe[_0x266c00(0x9be)])((0x0,_0x4538fe[_0x266c00(0x1b1)])(_0x2f80ec[_0x266c00(0x2af)](),_0x266c00(0x286)+_0xf49d47+'/resources/generative-ai-agent/items')))['docs'][_0x266c00(0x247)](_0x43592b=>{const _0x8c61d0=_0x266c00,_0x5630f9=_0x43592b[_0x8c61d0(0x906)]();return{'type':_0x57cac9[_0x8c61d0(0x6a1)],'id':_0x43592b['id'],'name':_0x5630f9['name'],'description':_0x5630f9['description'],'instructions':_0x5630f9[_0x8c61d0(0x79b)]};});return _0x225d52[_0x266c00(0x806)](..._0x436104),_0x225d52[_0x266c00(0x806)](..._0x28b9f8),_0x225d52;}async[_0x2d5032(0x31e)](_0xfb0725){const _0x53c72b=_0x2d5032;return(await(0x0,_0x4538fe[_0x53c72b(0x9be)])((0x0,_0x4538fe[_0x53c72b(0x1b1)])(_0x2f80ec[_0x53c72b(0x2af)](),'/developers/'+_0xfb0725+'/resources/generative-ai-workflow/items')))[_0x53c72b(0x8d8)][_0x53c72b(0x247)](_0x406af0=>{const _0x24feb5=_0x53c72b,_0x2ce499=_0x406af0[_0x24feb5(0x906)]();return{'id':_0x406af0['id'],'name':_0x2ce499[_0x24feb5(0x928)],'description':_0x2ce499['description']};});}}const _0x73d90b=_0x5d9fb3[_0x2d5032(0x181)]();class _0x49f014 extends _0x48186d{['localNode'];[_0x2d5032(0x514)];[_0x2d5032(0x82f)]=0x0;['tokens']=0x0;[_0x2d5032(0x472)];constructor(_0x40cf8d,_0x142a90,_0x337813,_0x2c786a){const _0x160145=_0x2d5032;super(_0x40cf8d,_0x142a90,_0x2c786a),this[_0x160145(0x6ff)]=_0x40cf8d,this[_0x160145(0x514)]=_0x337813,this[_0x160145(0xee)]();}['destroy'](){const _0x4e7c63=_0x2d5032;this['debounceStats']&&(clearTimeout(this[_0x4e7c63(0x472)]),delete this[_0x4e7c63(0x472)]),super[_0x4e7c63(0x7f6)]();}['reset'](){const _0x4bb361=_0x2d5032;this['prompts']=0x0,this['tokens']=0x0,this[_0x4bb361(0xee)](),super['reset']();}[_0x2d5032(0x60a)](_0x50a578){const _0x119fce=_0x2d5032,_0x5b5884=_0x119fce(0x9e9)+(0x0,_0x1fd9e4['v4'])();let _0x2c3744=!0x1;const _0x2d66c1=()=>{const _0x835f1c=_0x119fce;if(_0x2c3744)throw new _0x54e1a8(_0x54e1a8[_0x835f1c(0x318)][_0x835f1c(0x68a)]);_0x2c3744=!0x0;};switch(_0x50a578['type']){case _0x119fce(0x3d1):case _0x119fce(0x5b2):case _0x119fce(0x273):case _0x119fce(0x3f1):case _0x119fce(0x46d):case _0x119fce(0x7ff):case _0x119fce(0x7ff):case'file-list':case'rate':case _0x119fce(0x857):case _0x119fce(0x90a):case _0x119fce(0x6bd):return{'id':_0x5b5884,..._0x50a578,'run':()=>(_0x2d66c1(),this[_0x119fce(0x4d4)](_0x5b5884,_0x50a578))};case _0x119fce(0x4e4):case _0x119fce(0x123):const _0x4d0c7c=()=>(_0x2d66c1(),this[_0x119fce(0x7de)](_0x5b5884,_0x50a578)),_0x2d3392=()=>(_0x2d66c1(),this[_0x119fce(0xa57)](_0x5b5884,_0x50a578));return{'id':_0x5b5884,'options':{'threadId':_0x119fce(0x7c4)+(0x0,_0x1fd9e4['v4'])()},..._0x50a578,'run':_0x4d0c7c,'stream':_0x2d3392};default:throw new Error(_0x119fce(0x1dc));}}async['internalJob'](_0x4cc87b,_0x38121f){const _0x856cdc=_0x2d5032;if(_0x856cdc(0x4e4)===_0x38121f[_0x856cdc(0xa7e)]||_0x856cdc(0x123)===_0x38121f[_0x856cdc(0xa7e)])throw new _0x10fc18(_0x10a5c8[_0x856cdc(0x7ce)],'Invalid\x20job\x20type');const _0x3a9245={'threadId':_0x856cdc(0x7c4)+(0x0,_0x1fd9e4['v4'])(),..._0x38121f},_0x4815ab=await this[_0x856cdc(0x473)](_0x4cc87b,_0x1a575a[_0x856cdc(0x435)]['Job'],_0x3a9245);return new Promise((_0x155a44,_0x5f246d)=>{const _0x260560=_0x856cdc;let _0x10bdb6;const _0x495a75=_0x4815ab[_0x260560(0x75b)]({'next':_0x1ba0ed=>{const _0x9dae14=_0x260560;switch(_0x1ba0ed[_0x9dae14(0xa11)]){case _0x1a575a[_0x9dae14(0x7bf)][_0x9dae14(0x588)]:clearTimeout(_0x10bdb6),_0x155a44(_0x1ba0ed[_0x9dae14(0x68c)]),_0x495a75['unsubscribe']();break;case _0x1a575a[_0x9dae14(0x7bf)][_0x9dae14(0x262)]:clearTimeout(_0x10bdb6),_0x5f246d(new _0x54e1a8(_0x54e1a8[_0x9dae14(0x318)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x1ba0ed})),_0x495a75[_0x9dae14(0x3c5)]();}},'error':_0x420624=>{const _0x5bab61=_0x260560;clearTimeout(_0x10bdb6),_0x5f246d(new _0x54e1a8(_0x54e1a8[_0x5bab61(0x318)]['GenerativeAIContextJobFailed'],{'err':_0x420624})),_0x495a75['unsubscribe']();}});_0x10bdb6=setTimeout(()=>{const _0x4dc067=_0x260560;_0x5f246d(new _0x54e1a8(_0x54e1a8[_0x4dc067(0x318)]['GenerativeAIContextJobTimeout'])),_0x495a75[_0x4dc067(0x3c5)]();},_0x49212c);});}async[_0x2d5032(0x7de)](_0x4c9773,_0x9d716a){const _0x17f5a3=_0x2d5032,_0x1a7a74=await this[_0x17f5a3(0x473)](_0x4c9773,_0x1a575a[_0x17f5a3(0x435)]['Job'],_0x9d716a);return new Promise((_0x58c2bf,_0x1b89ea)=>{const _0x54367c=_0x17f5a3;let _0x4eb732;const _0x9fae68=_0x1a7a74[_0x54367c(0x75b)]({'next':_0x5c4487=>{const _0x51e39c=_0x54367c;switch(_0x5c4487['status']){case _0x1a575a['JobStatus'][_0x51e39c(0x588)]:if('prompt'!==_0x5c4487[_0x51e39c(0x68c)][_0x51e39c(0xa7e)])return;const _0x8526ca=_0x5c4487[_0x51e39c(0x68c)][_0x51e39c(0xa52)]??0x0;this['logServiceEvent'](_0x9d716a[_0x51e39c(0x123)],_0x8526ca),clearTimeout(_0x4eb732),_0x58c2bf(_0x5c4487[_0x51e39c(0x68c)]),_0x9fae68['unsubscribe'](),this[_0x51e39c(0x82f)]+=0x1,this['tokens']+=_0x8526ca,this[_0x51e39c(0xee)]();break;case _0x1a575a[_0x51e39c(0x7bf)]['Failed']:clearTimeout(_0x4eb732),_0x1b89ea(new _0x54e1a8(_0x54e1a8['codes'][_0x51e39c(0x4f7)],{'updatedJob':_0x5c4487})),_0x9fae68[_0x51e39c(0x3c5)](),this['sendStats']();}},'error':_0x3040bc=>{const _0x2e4618=_0x54367c;clearTimeout(_0x4eb732),_0x1b89ea(new _0x54e1a8(_0x54e1a8[_0x2e4618(0x318)][_0x2e4618(0x4f7)],{'err':_0x3040bc})),_0x9fae68['unsubscribe']();}});_0x4eb732=setTimeout(()=>{const _0x3975c1=_0x54367c;_0x1b89ea(new _0x54e1a8(_0x54e1a8[_0x3975c1(0x318)][_0x3975c1(0x3f3)])),_0x9fae68[_0x3975c1(0x3c5)]();},_0x49212c);});}async*[_0x2d5032(0xa57)](_0x33ef50,_0x1d7cf2){const _0x560e96=_0x2d5032,_0xbb1238=await this['getJobObservable'](_0x33ef50,_0x1a575a[_0x560e96(0x435)][_0x560e96(0x3fe)],_0x1d7cf2);let _0x26eeb5,_0x290c25,_0x4ece11=!0x1,_0xf95860=0x0;const _0x53f3d8=[],_0x22c8ff=new Map();let _0x2aa79d=null;const _0xc77af3=()=>{_0x2aa79d&&(_0x2aa79d(),_0x2aa79d=null);},_0x1e7183=_0x307985=>{const _0x6e6fab=_0x560e96;_0x4ece11=!0x0,_0xc77af3(),_0x184473[_0x6e6fab(0x3c5)](),_0x290c25=_0x307985;},_0x184473=_0xbb1238[_0x560e96(0x75b)]({'next':async _0x14ee8d=>{const _0x21b9e5=_0x560e96;switch(_0x14ee8d[_0x21b9e5(0xa11)]){case _0x1a575a[_0x21b9e5(0x7bf)][_0x21b9e5(0x307)]:if('prompt'!==_0x14ee8d[_0x21b9e5(0x68c)][_0x21b9e5(0xa7e)])return;if(void 0x0!==_0x14ee8d[_0x21b9e5(0x68c)][_0x21b9e5(0x8ea)]){if(void 0x0===_0x14ee8d[_0x21b9e5(0x68c)][_0x21b9e5(0x2a7)])return void _0x1e7183(_0x54e1a8[_0x21b9e5(0x318)][_0x21b9e5(0x2ff)]);_0xf95860===_0x14ee8d[_0x21b9e5(0x68c)][_0x21b9e5(0x2a7)]?(_0x53f3d8[_0x21b9e5(0x806)](_0x14ee8d[_0x21b9e5(0x68c)]),_0xf95860++,((()=>{const _0x17f32c=_0x21b9e5;for(;_0x22c8ff[_0x17f32c(0x290)](_0xf95860);)_0x53f3d8[_0x17f32c(0x806)](_0x22c8ff[_0x17f32c(0x13f)](_0x53f3d8['length'])),_0x22c8ff['delete'](_0x53f3d8[_0x17f32c(0x80e)]),_0xf95860++;})()),_0xc77af3(),_0x2a6a5c()):_0x22c8ff['set'](_0x14ee8d[_0x21b9e5(0x68c)]['index'],_0x14ee8d['result']);}break;case _0x1a575a[_0x21b9e5(0x7bf)][_0x21b9e5(0x588)]:if(_0x21b9e5(0x123)!==_0x14ee8d[_0x21b9e5(0x68c)][_0x21b9e5(0xa7e)])return;for(;_0xf95860!==_0x14ee8d[_0x21b9e5(0x68c)][_0x21b9e5(0x2a7)];)await _0x461db3[_0x21b9e5(0x16f)](0x3e8);const _0xb15b64=_0x14ee8d['result'][_0x21b9e5(0xa52)]??0x0;this[_0x21b9e5(0x8d9)](_0x1d7cf2[_0x21b9e5(0x123)],_0xb15b64),clearTimeout(_0x26eeb5),_0x1e7183(),this['prompts']+=0x1,this[_0x21b9e5(0x5ab)]+=_0xb15b64,this['sendStats']();break;case _0x1a575a[_0x21b9e5(0x7bf)][_0x21b9e5(0x262)]:clearTimeout(_0x26eeb5),_0x1e7183(_0x54e1a8[_0x21b9e5(0x318)]['GenerativeAIContextJobFailed']),this[_0x21b9e5(0xee)]();}},'error':_0xc78e35=>{const _0x3cac17=_0x560e96;clearTimeout(_0x26eeb5),_0x1e7183(_0x54e1a8[_0x3cac17(0x318)][_0x3cac17(0x4f7)]);}}),_0x46fd85=()=>{const _0x528590=_0x560e96;_0x1e7183(_0x54e1a8[_0x528590(0x318)][_0x528590(0x3f3)]);},_0x2a6a5c=()=>{clearTimeout(_0x26eeb5),_0x26eeb5=setTimeout(_0x46fd85,_0x49212c);};for(_0x26eeb5=setTimeout(_0x46fd85,_0x49212c);!_0x4ece11||_0x53f3d8[_0x560e96(0x80e)]>0x0;)_0x53f3d8[_0x560e96(0x80e)]>0x0?yield _0x53f3d8['shift']():await new Promise(_0xc7309c=>_0x2aa79d=_0xc7309c);if(_0x290c25)throw _0x27f628[_0x560e96(0x275)](_0x560e96(0x3d9),{'nodeId':this[_0x560e96(0x6ff)][_0x560e96(0x5cd)](),'nodeType':this['localNode'][_0x560e96(0xa7e)]}),new _0x54e1a8(_0x290c25);}async[_0x2d5032(0xadb)](){const _0x41a1ce=_0x2d5032;return(await _0x73d90b[_0x41a1ce(0x390)](this[_0x41a1ce(0x514)],this[_0x41a1ce(0x32e)]))[_0x41a1ce(0xa4f)];}[_0x2d5032(0x8d9)](_0x56414d,_0x2bc2bb){const _0x1ba4b5=_0x2d5032,_0xead5cd=this[_0x1ba4b5(0x32e)],_0x1db853=this[_0x1ba4b5(0xa95)]();_0x27f628['logServiceEvent'](_0x751840[_0x1ba4b5(0x7a9)],{'topic':_0xead5cd,'prompt':_0x56414d,'type':'prompt','nodeId':_0x1db853,'tokenCount':_0x2bc2bb});}async['getJobObservable'](_0x1ae501,_0x44468b,_0x3b12fb,_0x38969c={}){const _0x321ac4=_0x2d5032;let _0x5618d5;switch(_0x3b12fb['type']){case _0x321ac4(0x3d1):case'collection-delete':case _0x321ac4(0x273):case _0x321ac4(0x6bd):case _0x321ac4(0x3f1):case _0x321ac4(0x46d):case'file-ingest':case _0x321ac4(0xa53):case'inference':case _0x321ac4(0x123):case'rate':case _0x321ac4(0x857):case _0x321ac4(0x90a):_0x5618d5={'id':_0x1ae501,'jobType':_0x44468b,'parameters':{..._0x38969c,..._0x3b12fb},'status':_0x1a575a[_0x321ac4(0x7bf)][_0x321ac4(0x423)]};break;default:throw new Error(_0x321ac4(0x1dc));}return await this[_0x321ac4(0x94f)](_0x5618d5);}[_0x2d5032(0xee)](){const _0x3204ff=_0x2d5032;this[_0x3204ff(0x472)]&&clearTimeout(this[_0x3204ff(0x472)]),this[_0x3204ff(0x472)]=setTimeout(async()=>{const _0x10f4e3=_0x3204ff;delete this[_0x10f4e3(0x472)],this[_0x10f4e3(0x83a)][_0x10f4e3(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x10f4e3(0x8b3)],'content':{'type':_0x1ff5c6[_0x10f4e3(0x6f8)],'label':this['label'],'stats':{'timestamp':Date[_0x10f4e3(0xa45)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x10f4e3(0x5be)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x10f4e3(0x8a4)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x10f4e3(0x5ab)]}}});},_0x38055e);}}var _0x44fa7a,_0x27f24a,_0xc916ae,_0xf54e14,_0x3a3f86,_0x4ee363,_0x1bdc05,_0x420160,_0x1aee37,_0x46867f,_0x49e8f2;!function(_0x12f9ec){const _0x257e7c=_0x2d5032;_0x12f9ec[_0x257e7c(0xf3)]=_0x257e7c(0xf3),_0x12f9ec['IngestTrace']=_0x257e7c(0x757),_0x12f9ec['RetrieveTrace']=_0x257e7c(0x773),_0x12f9ec[_0x257e7c(0x393)]='WorkflowTrace';}(_0x44fa7a||(_0x44fa7a={})),function(_0xa60a3a){const _0x143e3d=_0x2d5032;_0xa60a3a[_0x143e3d(0x69b)]=_0x143e3d(0x69b),_0xa60a3a[_0x143e3d(0x3c4)]=_0x143e3d(0x3c4),_0xa60a3a[_0x143e3d(0x93f)]='VectorSearch',_0xa60a3a['EntityExtractor']=_0x143e3d(0x1c4),_0xa60a3a[_0x143e3d(0x701)]=_0x143e3d(0x701),_0xa60a3a[_0x143e3d(0x21b)]=_0x143e3d(0x21b);}(_0x27f24a||(_0x27f24a={})),function(_0x522eae){const _0x1df41f=_0x2d5032;_0x522eae[_0x522eae[_0x1df41f(0xa83)]=0x0]=_0x1df41f(0xa83),_0x522eae[_0x522eae[_0x1df41f(0x753)]=0x5]=_0x1df41f(0x753),_0x522eae[_0x522eae[_0x1df41f(0x6e2)]=0xa]='Warning',_0x522eae[_0x522eae[_0x1df41f(0x2b9)]=0xf]=_0x1df41f(0x2b9);}(_0xc916ae||(_0xc916ae={})),function(_0x4fed12){const _0x5689f3=_0x2d5032;_0x4fed12[_0x5689f3(0x369)]=_0x5689f3(0x369),_0x4fed12[_0x5689f3(0x745)]=_0x5689f3(0x745),_0x4fed12[_0x5689f3(0x541)]=_0x5689f3(0x541),_0x4fed12[_0x5689f3(0x5fb)]=_0x5689f3(0x5fb),_0x4fed12[_0x5689f3(0x54d)]='Workflow',_0x4fed12[_0x5689f3(0xa7f)]=_0x5689f3(0xa7f),_0x4fed12[_0x5689f3(0x6af)]=_0x5689f3(0x6af),_0x4fed12[_0x5689f3(0x2d4)]=_0x5689f3(0x2d4);}(_0xf54e14||(_0xf54e14={})),function(_0x375550){const _0x48f71d=_0x2d5032;_0x375550['Queued']=_0x48f71d(0x8c1),_0x375550['Completed']='Completed';}(_0x3a3f86||(_0x3a3f86={})),function(_0x34531){const _0x10236d=_0x2d5032;_0x34531[_0x10236d(0x3d0)]=_0x10236d(0x3d0),_0x34531['IntermediateOutput']='IntermediateOutput',_0x34531[_0x10236d(0x8bc)]=_0x10236d(0x8bc),_0x34531['FinalOutput']='FinalOutput';}(_0x4ee363||(_0x4ee363={})),function(_0x3c69e1){const _0x4ee016=_0x2d5032;_0x3c69e1[_0x4ee016(0x24d)]=_0x4ee016(0x24d),_0x3c69e1[_0x4ee016(0x991)]=_0x4ee016(0x991),_0x3c69e1['EntityExtractor']=_0x4ee016(0x1c4),_0x3c69e1[_0x4ee016(0x1a3)]=_0x4ee016(0x1a3),_0x3c69e1[_0x4ee016(0x6a1)]=_0x4ee016(0x6a1),_0x3c69e1[_0x4ee016(0x69b)]='ModelText',_0x3c69e1[_0x4ee016(0x3c4)]=_0x4ee016(0x3c4),_0x3c69e1[_0x4ee016(0x67f)]='RelationExtractor',_0x3c69e1[_0x4ee016(0x52a)]=_0x4ee016(0x52a),_0x3c69e1['VectorDatabase']=_0x4ee016(0x571),_0x3c69e1[_0x4ee016(0x2ba)]=_0x4ee016(0x2ba);}(_0x1bdc05||(_0x1bdc05={})),function(_0x4ac2dc){const _0x3ebfb7=_0x2d5032;_0x4ac2dc[_0x3ebfb7(0x814)]=_0x3ebfb7(0x814),_0x4ac2dc[_0x3ebfb7(0x7ab)]=_0x3ebfb7(0x7ab);}(_0x420160||(_0x420160={})),function(_0x58ea73){const _0x1edc6a=_0x2d5032;_0x58ea73['ExecuteCode']=_0x1edc6a(0x8e9),_0x58ea73[_0x1edc6a(0x1e3)]=_0x1edc6a(0x1e3),_0x58ea73[_0x1edc6a(0x672)]=_0x1edc6a(0x672),_0x58ea73['SearchPerplexity']=_0x1edc6a(0x13c),_0x58ea73[_0x1edc6a(0x824)]=_0x1edc6a(0x824),_0x58ea73[_0x1edc6a(0x9a3)]='ExecuteCustomSkill',_0x58ea73[_0x1edc6a(0x789)]=_0x1edc6a(0x789),_0x58ea73[_0x1edc6a(0x1fc)]=_0x1edc6a(0x1fc),_0x58ea73[_0x1edc6a(0x1a0)]=_0x1edc6a(0x1a0),_0x58ea73[_0x1edc6a(0x271)]=_0x1edc6a(0x271),_0x58ea73['FormSetAnswer']=_0x1edc6a(0x21d),_0x58ea73[_0x1edc6a(0xaad)]='FormSubmitForm';}(_0x1aee37||(_0x1aee37={})),function(_0x23d520){const _0x548687=_0x2d5032;_0x23d520['LoadKnowledgeFunction']=_0x548687(0x83d),_0x23d520[_0x548687(0x401)]=_0x548687(0x401);}(_0x46867f||(_0x46867f={})),function(_0x1b77c8){const _0x3ef23d=_0x2d5032;_0x1b77c8[_0x3ef23d(0xa02)]='PromptRating';}(_0x49e8f2||(_0x49e8f2={}));class _0x12ae53{static [_0x2d5032(0x237)]=new _0x12ae53();[_0x2d5032(0x3ac)]=[];[_0x2d5032(0x568)]=!0x1;constructor(){}static[_0x2d5032(0x181)](){const _0x1eec5d=_0x2d5032;return _0x12ae53[_0x1eec5d(0x237)];}get[_0x2d5032(0x80e)](){const _0x3c80f0=_0x2d5032;return this[_0x3c80f0(0x3ac)]['length'];}[_0x2d5032(0x23f)](){const _0x4d0632=_0x2d5032;return!this[_0x4d0632(0x568)];}[_0x2d5032(0x24b)](_0x3ae1bf){const _0x4dd2db=_0x2d5032;_0x3ae1bf?this[_0x4dd2db(0x3ac)]=this[_0x4dd2db(0x3ac)][_0x4dd2db(0xa9f)](_0x30f85d=>_0x30f85d[_0x4dd2db(0x9ad)]!==_0x3ae1bf):(this[_0x4dd2db(0x3ac)]=[],this[_0x4dd2db(0x568)]=!0x1);}[_0x2d5032(0x5e6)](_0x54a244,_0x2be2e1){const _0x16c9fe=_0x2d5032;this[_0x16c9fe(0x3ac)][_0x16c9fe(0x806)]({'callback':_0x2be2e1,'ownerId':_0x54a244}),this[_0x16c9fe(0x5f7)]();}async[_0x2d5032(0x5f7)](){const _0x119781=_0x2d5032;if(!this[_0x119781(0x568)]){for(this['isRunning']=!0x0;this[_0x119781(0x3ac)][_0x119781(0x80e)]>0x0;){const _0x36df8b=this[_0x119781(0x3ac)][_0x119781(0x35e)]();if(_0x36df8b)try{console['warn'](_0x119781(0x13d)),await _0x36df8b[_0x119781(0x6a6)](),console['warn'](_0x119781(0xab1));}catch(_0x5ad6ef){console[_0x119781(0x275)](_0x119781(0x3b8),_0x5ad6ef);}}this[_0x119781(0x568)]=!0x1;}}}const _0x54afe3=_0x12ae53['getInstance']();class _0x3653fa extends _0x1d8a54{[_0x2d5032(0xa07)];[_0x2d5032(0x9b9)];constructor(_0x467e18,_0x54f193,_0x361d27){super(_0x467e18,_0x54f193),this['capacityReporter']=_0x361d27;}[_0x2d5032(0x98e)](){const _0x3ff0e9=_0x2d5032;return _0x1a575a[_0x3ff0e9(0x979)][_0x3ff0e9(0xa7f)];}['open'](){const _0x5dac2c=_0x2d5032;this[_0x5dac2c(0xa72)]();}[_0x2d5032(0x8d0)](){const _0xb9cfba=_0x2d5032;this[_0xb9cfba(0x83a)]?.[_0xb9cfba(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0xb9cfba(0x8b3)],'content':{'type':_0x1ff5c6[_0xb9cfba(0xa49)],'label':this[_0xb9cfba(0x32e)]}});}['reset'](){const _0x314734=_0x2d5032;this['unsubscribeListener']?.(),delete this[_0x314734(0x9b9)],this[_0x314734(0x788)]();}[_0x2d5032(0x7f6)](){const _0x2f070b=_0x2d5032;_0x54afe3[_0x2f070b(0x24b)](this[_0x2f070b(0x32e)]),this[_0x2f070b(0x9b9)]?.(),delete this['unsubscribeListener'],super[_0x2f070b(0x7f6)]();}['isAvailable'](){const _0x18a38c=_0x2d5032;return _0x54afe3[_0x18a38c(0x23f)]();}['getBid'](){return 0x1;}[_0x2d5032(0x6be)](_0x24078e,_0x151e96,_0x4f9116){}[_0x2d5032(0x863)](_0x304975,_0x3ba8f6){return _0x304975;}async[_0x2d5032(0x1cf)](_0x1d3106,_0x5342d9){const _0x462793=_0x2d5032;console[_0x462793(0x11d)](_0x462793(0x46b));}async[_0x2d5032(0x274)](_0x53b3f1,_0x5af410){const _0x2c06b7=_0x2d5032;console[_0x2c06b7(0x11d)](_0x2c06b7(0x46b));}[_0x2d5032(0xa72)](){const _0x1b6fca=_0x2d5032;this[_0x1b6fca(0x9b9)]||(this['unsubscribeListener']=this[_0x1b6fca(0x63f)](async(_0x408fa7,_0x39a2a7)=>{const _0x388a75=_0x1b6fca;if(_0x27f628[_0x388a75(0x107)](_0x53d5c4['Jobs'],_0x388a75(0x9a6),_0x39a2a7),!(_0x39a2a7 instanceof File)){if(this['isJobRequest'](_0x39a2a7))_0x27f628['log'](_0x53d5c4['Jobs'],_0x388a75(0x8ed),_0x39a2a7),this[_0x388a75(0x23f)]()?this['sendBid'](_0x39a2a7['id'],_0x39a2a7[_0x388a75(0x828)],_0x408fa7):this[_0x388a75(0xaf0)](_0x39a2a7['id'],_0x39a2a7['jobType'],_0x408fa7);else{if(this[_0x388a75(0x794)](_0x39a2a7)){_0x27f628[_0x388a75(0x107)](_0x53d5c4[_0x388a75(0x6ee)],_0x388a75(0x4e2),_0x39a2a7);const {id:_0x2f9dfc,parameters:_0x214289}=_0x39a2a7;await this[_0x388a75(0x1cf)](_0x2f9dfc,_0x214289),this[_0x388a75(0x708)](_0x39a2a7['id'],_0x39a2a7,_0x408fa7);}}}}));}[_0x2d5032(0x570)](_0x3892c0,_0x2ea8d1,_0xbed0e2){const _0x56ec44=_0x2d5032,_0x5829e9={'id':_0x3892c0,'jobType':_0x2ea8d1,'jobPhase':_0xe033b9[_0x56ec44(0x7e4)],'available':!0x0,'queueLength':_0x54afe3['length'],'bid':this[_0x56ec44(0x84d)]()};_0x27f628[_0x56ec44(0x107)](_0x53d5c4['Jobs'],_0x56ec44(0x37c),_0x5829e9),this[_0x56ec44(0x309)](_0x5829e9,[_0xbed0e2]);}[_0x2d5032(0xaf0)](_0x31241f,_0x1dc4fc,_0x2d8287){const _0x49a619=_0x2d5032,_0x253ac4={'id':_0x31241f,'jobType':_0x1dc4fc,'jobPhase':_0xe033b9['Bid'],'available':!0x1,'queueLength':_0x54afe3[_0x49a619(0x80e)],'bid':0x0};_0x27f628[_0x49a619(0x107)](_0x53d5c4[_0x49a619(0x6ee)],_0x49a619(0x9ac),_0x253ac4),this[_0x49a619(0x309)](_0x253ac4,[_0x2d8287]);}async['handleJobAttribution'](_0xca8de9,_0x3db7df,_0x3f33c){const _0x4050a0=_0x2d5032;_0x27f628[_0x4050a0(0x107)](_0x53d5c4['Jobs'],_0x4050a0(0x270),_0x3db7df);const _0x5dea8e={'id':_0xca8de9,'jobType':_0x3db7df[_0x4050a0(0x828)],'parameters':_0x3db7df[_0x4050a0(0x42f)]};try{switch(_0x3db7df[_0x4050a0(0x828)]){case _0x1a575a[_0x4050a0(0x435)]['Job']:await this[_0x4050a0(0x91e)](_0xca8de9,_0x3db7df,_0x5dea8e,_0x3f33c);break;case _0x1a575a[_0x4050a0(0x435)][_0x4050a0(0x3fe)]:await this[_0x4050a0(0x1ab)](_0xca8de9,_0x3db7df,_0x5dea8e,_0x3f33c);break;default:throw new Error(_0x4050a0(0x7df));}}catch(_0xa4fd12){_0x27f628['error'](_0x4050a0(0x342),{'nodeId':this['owner']['getId'](),'nodeType':this[_0x4050a0(0x573)][_0x4050a0(0xa7e)],'data':{'job':_0x5dea8e}},_0xa4fd12);const _0x5d79c6=_0xa4fd12 instanceof Error?_0xa4fd12[_0x4050a0(0x249)]:_0x4050a0(0x3c2),_0x341364={'id':_0xca8de9,'jobType':_0x3db7df['jobType'],'jobPhase':_0xe033b9[_0x4050a0(0x262)],'message':_0x5d79c6};await this[_0x4050a0(0x309)](_0x341364,[_0x3f33c]);}}async[_0x2d5032(0x91e)](_0x3b4207,_0xb0d275,_0x1fbc9e,_0x57e83f){const _0x23eca4=_0x2d5032,_0x1c6590=Date[_0x23eca4(0xa45)](),_0x39d851=await this[_0x23eca4(0x71d)](_0x3b4207,_0x1fbc9e[_0x23eca4(0x42f)]);this[_0x23eca4(0x6be)](_0x39d851,_0x1c6590,Date[_0x23eca4(0xa45)]());const _0x410869={'id':_0x3b4207,'jobType':_0xb0d275[_0x23eca4(0x828)],'jobPhase':_0xe033b9[_0x23eca4(0x680)],'result':_0x39d851};_0x27f628['log'](_0x53d5c4[_0x23eca4(0x6ee)],_0x23eca4(0x105),_0x410869),await this[_0x23eca4(0x309)](_0x410869,[_0x57e83f]),await this[_0x23eca4(0x274)](_0x3b4207,_0x1fbc9e['parameters']);}async[_0x2d5032(0x1ab)](_0x39bded,_0x9703f5,_0x3a7df1,_0x52c4e6){const _0x4a54b7=_0x2d5032,_0x49d580=Date[_0x4a54b7(0xa45)]();let _0x472b6e=0x0,_0x520294={};for await(const _0x2e01b3 of this[_0x4a54b7(0x167)](_0x3a7df1['id'],_0x3a7df1[_0x4a54b7(0x42f)])){const _0x2e1d32={'id':_0x39bded,'jobType':_0x9703f5['jobType'],'jobPhase':_0xe033b9[_0x4a54b7(0x940)],'result':{..._0x2e01b3,'index':_0x472b6e}};_0x27f628['log'](_0x53d5c4[_0x4a54b7(0x6ee)],_0x4a54b7(0x3da),_0x2e1d32),this[_0x4a54b7(0x309)](_0x2e1d32,[_0x52c4e6]),_0x520294=this[_0x4a54b7(0x863)](_0x520294,_0x2e01b3),_0x472b6e++;}this[_0x4a54b7(0x6be)](_0x520294,_0x49d580,Date['now']());const _0x1dbc9d={'id':_0x39bded,'jobType':_0x9703f5['jobType'],'jobPhase':_0xe033b9['Result'],'result':{..._0x520294,'index':_0x472b6e}};_0x27f628[_0x4a54b7(0x107)](_0x53d5c4[_0x4a54b7(0x6ee)],_0x4a54b7(0x105),_0x1dbc9d),await this[_0x4a54b7(0x309)](_0x1dbc9d,[_0x52c4e6]),await this['stopTracing'](_0x39bded,_0x3a7df1[_0x4a54b7(0x42f)]);}[_0x2d5032(0x3b5)](_0x4122a5){const _0x225663=_0x2d5032;return _0x4122a5['jobPhase']===_0xe033b9[_0x225663(0x836)];}[_0x2d5032(0x794)](_0x3d2cca){const _0x19a064=_0x2d5032;return _0x3d2cca[_0x19a064(0x30f)]===_0xe033b9[_0x19a064(0x8b8)];}}const _0x29960b=new Map([['gpt-4o',{'id':'gpt-4o','inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':'gpt-4o-mini'}],['gpt-4o-mini',{'id':'gpt-4o-mini','inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':'gpt-4o-mini'}],[_0x2d5032(0x867),{'id':_0x2d5032(0x867),'inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':'gpt-4.1-nano'}],[_0x2d5032(0x447),{'id':'gpt-4.1-mini','inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0x2d5032(0x447)}],[_0x2d5032(0x2d1),{'id':'gpt-4.1-nano','inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':_0x2d5032(0x2d1)}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':'gpt-4.1-nano'}],['o3-mini',{'id':_0x2d5032(0x3dd),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0x2d5032(0x2d1)}],[_0x2d5032(0x8a8),{'id':'claude-3-7-sonnet-latest','inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':'claude-3-haiku-20240307'}],[_0x2d5032(0x5c2),{'id':_0x2d5032(0x5c2),'inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':_0x2d5032(0x5c2)}],[_0x2d5032(0x968),{'id':_0x2d5032(0x968),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0x2d5032(0x523)}],[_0x2d5032(0x523),{'id':_0x2d5032(0x523),'inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':_0x2d5032(0x523)}],[_0x2d5032(0x470),{'id':_0x2d5032(0x470),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0x2d5032(0x523)}],['sonar',{'id':_0x2d5032(0x77c),'inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':_0x2d5032(0x77c)}],[_0x2d5032(0x17d),{'id':_0x2d5032(0x17d),'inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':_0x2d5032(0x77c)}],[_0x2d5032(0x252),{'id':_0x2d5032(0x252),'inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':_0x2d5032(0x77c)}],[_0x2d5032(0x7a1),{'id':'sonar-reasoning-pro','inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':'sonar'}],[_0x2d5032(0x607),{'id':'sonar-deep-research','inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0x2d5032(0x77c)}]]),_0x38963c=new Map([['all-minilm-l12-v2',{'id':_0x2d5032(0x263),'engineType':_0x1a575a[_0x2d5032(0x375)]['Llamacpp'],'taskType':_0x1a575a[_0x2d5032(0x8df)]['Embeddings'],'inputType':_0x1a575a['GenerativeAIModelInputType']['Text'],'outputType':_0x1a575a[_0x2d5032(0x674)]['Vector'],'sourceUrl':_0x2d5032(0xa06)}],[_0x2d5032(0x9c4),{'id':_0x2d5032(0x9c4),'engineType':_0x1a575a[_0x2d5032(0x375)][_0x2d5032(0x24c)],'taskType':_0x1a575a['GenerativeAITaskType'][_0x2d5032(0x530)],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x58a)],'sourceUrl':''}],[_0x2d5032(0x457),{'id':_0x2d5032(0x457),'engineType':_0x1a575a['GenerativeAIEngineType']['OpenAI'],'taskType':_0x1a575a[_0x2d5032(0x8df)][_0x2d5032(0x530)],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)]['Vector'],'sourceUrl':''}],[_0x2d5032(0x88b),{'id':_0x2d5032(0x88b),'engineType':_0x1a575a['GenerativeAIEngineType'][_0x2d5032(0x884)],'taskType':_0x1a575a[_0x2d5032(0x8df)]['TextGeneration'],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'sourceUrl':_0x2d5032(0x2cf)}],['llama-3.2-3b',{'id':_0x2d5032(0x93a),'engineType':_0x1a575a['GenerativeAIEngineType'][_0x2d5032(0x884)],'taskType':_0x1a575a['GenerativeAITaskType']['TextGeneration'],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)]['Text'],'sourceUrl':'https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf'}],[_0x2d5032(0x395),{'id':'phi-4-14b','engineType':_0x1a575a['GenerativeAIEngineType'][_0x2d5032(0x884)],'taskType':_0x1a575a[_0x2d5032(0x8df)]['TextGeneration'],'inputType':_0x1a575a[_0x2d5032(0x862)]['Text'],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'sourceUrl':_0x2d5032(0x1c5)}],[_0x2d5032(0x791),{'id':_0x2d5032(0x791),'engineType':_0x1a575a['GenerativeAIEngineType'][_0x2d5032(0x24c)],'taskType':_0x1a575a['GenerativeAITaskType']['TextGeneration'],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)]['Text'],'knowledgeCutoffDate':_0x2d5032(0x41f),'sourceUrl':''}],['gpt-4o-mini',{'id':_0x2d5032(0x8ac),'engineType':_0x1a575a['GenerativeAIEngineType'][_0x2d5032(0x24c)],'taskType':_0x1a575a[_0x2d5032(0x8df)][_0x2d5032(0x7be)],'inputType':_0x1a575a['GenerativeAIModelInputType']['Text'],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'knowledgeCutoffDate':_0x2d5032(0x41f),'sourceUrl':''}],['gpt-4.1',{'id':_0x2d5032(0x867),'engineType':_0x1a575a[_0x2d5032(0x375)]['OpenAI'],'taskType':_0x1a575a[_0x2d5032(0x8df)][_0x2d5032(0x7be)],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'knowledgeCutoffDate':_0x2d5032(0x2a2),'sourceUrl':''}],[_0x2d5032(0x447),{'id':_0x2d5032(0x447),'engineType':_0x1a575a['GenerativeAIEngineType'][_0x2d5032(0x24c)],'taskType':_0x1a575a[_0x2d5032(0x8df)][_0x2d5032(0x7be)],'inputType':_0x1a575a['GenerativeAIModelInputType'][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],[_0x2d5032(0x2d1),{'id':'gpt-4.1-nano','engineType':_0x1a575a[_0x2d5032(0x375)][_0x2d5032(0x24c)],'taskType':_0x1a575a[_0x2d5032(0x8df)][_0x2d5032(0x7be)],'inputType':_0x1a575a['GenerativeAIModelInputType'][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'knowledgeCutoffDate':_0x2d5032(0x2a2),'sourceUrl':''}],['o1',{'id':'o1','engineType':_0x1a575a[_0x2d5032(0x375)][_0x2d5032(0x24c)],'taskType':_0x1a575a[_0x2d5032(0x8df)][_0x2d5032(0x7be)],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':_0x2d5032(0x41f),'sourceUrl':''}],[_0x2d5032(0x3dd),{'id':_0x2d5032(0x3dd),'engineType':_0x1a575a['GenerativeAIEngineType'][_0x2d5032(0x24c)],'taskType':_0x1a575a[_0x2d5032(0x8df)][_0x2d5032(0x7be)],'inputType':_0x1a575a['GenerativeAIModelInputType'][_0x2d5032(0x2dd)],'outputType':_0x1a575a['GenerativeAIModelOutputType'][_0x2d5032(0x2dd)],'knowledgeCutoffDate':_0x2d5032(0x41f),'sourceUrl':''}],[_0x2d5032(0x8a8),{'id':_0x2d5032(0x8a8),'engineType':_0x1a575a[_0x2d5032(0x375)]['Anthropic'],'taskType':_0x1a575a[_0x2d5032(0x8df)][_0x2d5032(0x7be)],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'knowledgeCutoffDate':_0x2d5032(0x392),'sourceUrl':''}],[_0x2d5032(0x5c2),{'id':_0x2d5032(0x5c2),'engineType':_0x1a575a[_0x2d5032(0x375)][_0x2d5032(0x2c2)],'taskType':_0x1a575a[_0x2d5032(0x8df)]['TextGeneration'],'inputType':_0x1a575a[_0x2d5032(0x862)]['Text'],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'knowledgeCutoffDate':_0x2d5032(0x27d),'sourceUrl':''}],['claude-3-5-sonnet-latest',{'id':'claude-3-5-sonnet-latest','engineType':_0x1a575a['GenerativeAIEngineType'][_0x2d5032(0x2c2)],'taskType':_0x1a575a[_0x2d5032(0x8df)]['TextGeneration'],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'knowledgeCutoffDate':_0x2d5032(0x38d),'sourceUrl':''}],['claude-3-haiku-20240307',{'id':_0x2d5032(0x523),'engineType':_0x1a575a[_0x2d5032(0x375)][_0x2d5032(0x2c2)],'taskType':_0x1a575a[_0x2d5032(0x8df)][_0x2d5032(0x7be)],'inputType':_0x1a575a[_0x2d5032(0x862)][_0x2d5032(0x2dd)],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'knowledgeCutoffDate':'August\x202023','sourceUrl':''}],['claude-3-opus-latest',{'id':_0x2d5032(0x470),'engineType':_0x1a575a['GenerativeAIEngineType'][_0x2d5032(0x2c2)],'taskType':_0x1a575a[_0x2d5032(0x8df)]['TextGeneration'],'inputType':_0x1a575a[_0x2d5032(0x862)]['Text'],'outputType':_0x1a575a[_0x2d5032(0x674)][_0x2d5032(0x2dd)],'knowledgeCutoffDate':_0x2d5032(0x190),'sourceUrl':''}]]),_0x4b4f18=require('rxjs/operators');class _0x49e244{['subject'];constructor(){const _0x1d30f2=_0x2d5032;this['subject']=new _0x1832a4[(_0x1d30f2(0x10b))]();}[_0x2d5032(0x71b)](_0x1d563a){const _0x18ad46=_0x2d5032;this[_0x18ad46(0x7fb)]['next'](_0x1d563a);}async[_0x2d5032(0x540)](){const _0x577c20=_0x2d5032;return(0x0,_0x1832a4[_0x577c20(0x9a7)])(this[_0x577c20(0x7fb)][_0x577c20(0x256)]((0x0,_0x4b4f18[_0x577c20(0x49d)])(0x1)));}}function _0x1c0ef7(_0x1ee4f4){const _0xf8efe0=_0x2d5032;try{return JSON[_0xf8efe0(0x8b2)](_0x1ee4f4);}catch(_0x246dca){return _0x1ee4f4 instanceof Error?_0x1ee4f4[_0xf8efe0(0x656)]():JSON[_0xf8efe0(0x8b2)](_0xf8efe0(0x404));}}class _0x1700d3{static [_0x2d5032(0x237)];['logLevel']=_0xc916ae[_0x2d5032(0x2b9)];[_0x2d5032(0xafb)]=_0xc916ae[_0x2d5032(0x753)];[_0x2d5032(0x73b)]=_0xf54e14[_0x2d5032(0x369)];[_0x2d5032(0xf9)]={};static ['getInstance']=()=>(_0x1700d3[_0x2d5032(0x237)]||(_0x1700d3[_0x2d5032(0x237)]=new _0x1700d3()),_0x1700d3['instance']);async[_0x2d5032(0x1e5)](_0x40008a,_0x325928,_0x542b46,_0x5e1459){const _0x70ed4e=_0x2d5032;try{if(this[_0x70ed4e(0xf9)][_0x325928])return!0x0;const _0x20513c={'vendorId':_0x40008a,'workflowId':_0x542b46,'sequence':0x0};if(this[_0x70ed4e(0xf9)][_0x325928]=_0x20513c,!_0x5e1459||!_0x542b46)return!0x0;const _0x4a5cc8=(0x0,_0x4538fe[_0x70ed4e(0x96f)])(_0x2f80ec['getFirestore'](),_0x70ed4e(0x7db)+_0x40008a+_0x70ed4e(0xa24)+_0x542b46+_0x70ed4e(0x96e),_0x325928);return(await(0x0,_0x4538fe[_0x70ed4e(0x22c)])(_0x4a5cc8))[_0x70ed4e(0x59b)]()||await(0x0,_0x4538fe[_0x70ed4e(0x328)])(_0x4a5cc8,{'threadId':_0x5e1459,'startTime':(0x0,_0x4538fe['serverTimestamp'])()}),!0x0;}catch(_0x630a54){return console[_0x70ed4e(0x275)](_0x70ed4e(0x285),_0x630a54),!0x1;}}async['logUsage'](_0x192b02,_0x14eedf,_0x2b44b2,_0x482a50){const _0x1506e2=_0x2d5032;try{if(!this[_0x1506e2(0xf9)][_0x192b02])throw new Error(_0x1506e2(0x467));const _0x15dd2e=new Date(),_0x10886c=_0x15dd2e[_0x1506e2(0x96d)]()+'-'+_0x15dd2e[_0x1506e2(0x549)]()+'-'+_0x15dd2e[_0x1506e2(0x484)](),_0x5b1e33=new Date(_0x15dd2e['getFullYear'](),_0x15dd2e[_0x1506e2(0x549)](),_0x15dd2e[_0x1506e2(0x484)]()),_0xea73a4=this[_0x1506e2(0xf9)][_0x192b02][_0x1506e2(0x514)],_0x5b5870=_0x14eedf+'-'+_0x10886c,_0x3109f3=_0x29960b[_0x1506e2(0x13f)](_0x14eedf);if(!_0x3109f3)return void console[_0x1506e2(0x275)]('GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found',_0x14eedf);const _0xeeee27=_0x3109f3[_0x1506e2(0x7eb)]*_0x2b44b2/0xf4240*0x64,_0x4f7368=_0x3109f3[_0x1506e2(0x54e)]*_0x482a50/0xf4240*0x64,_0x18ef0d=(0x0,_0x4538fe['doc'])(_0x2f80ec[_0x1506e2(0x2af)](),_0x1506e2(0x7db)+_0xea73a4+_0x1506e2(0x870),_0x5b5870);await(0x0,_0x4538fe[_0x1506e2(0x328)])(_0x18ef0d,{'modelId':_0x14eedf,'date':_0x5b1e33,'inputTokens':(0x0,_0x4538fe[_0x1506e2(0x595)])(_0x2b44b2),'outputTokens':(0x0,_0x4538fe[_0x1506e2(0x595)])(_0x482a50),'inputCredits':(0x0,_0x4538fe[_0x1506e2(0x595)])(_0xeeee27),'outputCredits':(0x0,_0x4538fe[_0x1506e2(0x595)])(_0x4f7368),'totalCredits':(0x0,_0x4538fe[_0x1506e2(0x595)])(_0xeeee27+_0x4f7368)},{'merge':!0x0});}catch(_0x16bd28){console[_0x1506e2(0x275)](_0x1506e2(0xe1),_0x16bd28);}}async[_0x2d5032(0x131)](_0x3fc12d){const _0x57aec5=_0x2d5032;try{const _0x57b551=this[_0x57aec5(0xf9)][_0x3fc12d[_0x57aec5(0x737)]];if(!_0x57b551)throw new Error(_0x57aec5(0x287));_0x3fc12d[_0x57aec5(0x36c)]=_0x57b551['sequence']++,_0x3fc12d[_0x57aec5(0xae0)]>=this['logLevel']&&console[_0x57aec5(0x107)](JSON[_0x57aec5(0x8b2)](_0x3fc12d,null,0x2)),await this[_0x57aec5(0x1d4)](_0x3fc12d);}catch(_0x305098){console[_0x57aec5(0x275)](_0x57aec5(0x7ba),_0x305098);}}async[_0x2d5032(0x39d)](_0x436087,_0x168f75){const _0x412b00=_0x2d5032;if(!_0x1700d3[_0x412b00(0x237)])throw new Error('GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open');if(!this[_0x412b00(0xf9)][_0x436087])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');if(_0x168f75&&this[_0x412b00(0xf9)][_0x436087][_0x412b00(0x207)])try{await(0x0,_0x4538fe[_0x412b00(0x328)])((0x0,_0x4538fe[_0x412b00(0x96f)])(_0x2f80ec[_0x412b00(0x2af)](),_0x412b00(0x7db)+this[_0x412b00(0xf9)][_0x436087][_0x412b00(0x514)]+'/workflows/'+this[_0x412b00(0xf9)][_0x436087][_0x412b00(0x207)]+_0x412b00(0x96e),_0x436087),{'endTime':(0x0,_0x4538fe[_0x412b00(0x30c)])()},{'merge':!0x0}),this[_0x412b00(0x88a)](_0x436087);}catch(_0x4c25f8){console[_0x412b00(0x275)](_0x412b00(0x606),_0x4c25f8);}else this[_0x412b00(0x88a)](_0x436087);}[_0x2d5032(0x88a)](_0x39c404){setTimeout(()=>{const _0x1cccb8=a0_0x11f8;delete this[_0x1cccb8(0xf9)][_0x39c404];},0x1b7740);}async['commitTrace'](_0x378ca5){const _0x1af281=_0x2d5032;if(_0x378ca5[_0x1af281(0xae0)]<this[_0x1af281(0xafb)]&&_0x378ca5[_0x1af281(0x828)]!==this[_0x1af281(0x73b)])return;if(!this['openedTraces'][_0x378ca5[_0x1af281(0x737)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x51522c=this[_0x1af281(0xf9)][_0x378ca5['jobId']];try{const _0x1f8167=function(_0x4d2308){const _0x205825=_0x1af281,_0xbc7dd4=['startTime',_0x205825(0x9f5),'jobType',_0x205825(0xa7e),_0x205825(0x737),'traceLevel','blockId',_0x205825(0xa11),_0x205825(0x36c),_0x205825(0x631)],_0x2a221d={..._0x4d2308};for(const _0x3090e4 of _0xbc7dd4)delete _0x2a221d[_0x3090e4];return{'timestamp':_0x4d2308['timestamp'],'jobType':_0x4d2308[_0x205825(0x828)],'type':_0x4d2308[_0x205825(0xa7e)],'jobId':_0x4d2308[_0x205825(0x737)],'agentId':_0x4d2308[_0x205825(0x396)]??'','traceLevel':_0x4d2308[_0x205825(0xae0)],'blockId':_0x4d2308[_0x205825(0x999)]??'','startTime':_0x4d2308['startTime'],'status':_0x4d2308[_0x205825(0xa11)],'sequence':_0x4d2308['sequence']??0x0,'errorDetails':_0x4d2308['errorDetails']??'','metadata':_0x1c0ef7(_0x2a221d)};}(_0x378ca5),_0x5e62c1=(0x0,_0x1fd9e4['v4'])();console[_0x1af281(0x107)](_0x1af281(0x61d),_0x1f8167[_0x1af281(0xa7e)]),await(0x0,_0x4538fe[_0x1af281(0x328)])((0x0,_0x4538fe[_0x1af281(0x96f)])(_0x2f80ec[_0x1af281(0x2af)](),_0x1af281(0x7db)+_0x51522c[_0x1af281(0x514)]+_0x1af281(0xa24)+_0x51522c[_0x1af281(0x207)]+_0x1af281(0x57f)+_0x378ca5[_0x1af281(0x737)]+'/traces',_0x5e62c1),_0x1f8167),_0x378ca5[_0x1af281(0xa7e)]===_0x49e8f2['PromptRating']&&await(0x0,_0x4538fe['setDoc'])((0x0,_0x4538fe[_0x1af281(0x96f)])(_0x2f80ec[_0x1af281(0x2af)](),_0x1af281(0x7db)+_0x51522c['vendorId']+_0x1af281(0xa24)+_0x51522c[_0x1af281(0x207)]+'/jobs',_0x378ca5[_0x1af281(0x737)]),{'rating':_0x378ca5['rating']},{'merge':!0x0});}catch(_0x384914){console['error']('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x384914);}}}const _0x1d5b2d=_0x1700d3[_0x2d5032(0x181)]();async function _0x154e89(_0x2f263a,_0x53185a,_0x5403af,_0xe05669,_0x26bcb3,_0x1fc403,_0x15985e,_0x42a77f){const _0xfb3ae4=function(_0x3d38da,_0x3aa5ae){const _0x1bd166=a0_0x11f8,_0x1f65de=[];for(let _0x4c620a=0x0;_0x4c620a<_0x3d38da[_0x1bd166(0x80e)];_0x4c620a+=_0x3aa5ae[_0x1bd166(0x2fe)]['size']){let _0x1c8612=_0x4c620a-_0x3aa5ae[_0x1bd166(0x2fe)][_0x1bd166(0x913)];_0x1c8612<0x0&&(_0x1c8612=0x0);let _0x46beeb=_0x4c620a+_0x3aa5ae[_0x1bd166(0x2fe)]['size']+_0x3aa5ae[_0x1bd166(0x2fe)][_0x1bd166(0x913)];_0x46beeb>_0x3d38da[_0x1bd166(0x80e)]&&(_0x46beeb=_0x3d38da[_0x1bd166(0x80e)]),length||(length=_0x4c620a+_0x3aa5ae[_0x1bd166(0x2fe)][_0x1bd166(0x279)],length>_0x3d38da[_0x1bd166(0x80e)]&&(length=_0x3d38da[_0x1bd166(0x80e)])),_0x1f65de[_0x1bd166(0x806)](_0x3d38da['substring'](_0x1c8612,_0x46beeb));}return _0x1f65de;}(_0x53185a,_0x26bcb3);await _0x361ef1(_0x2f263a,_0xfb3ae4,_0x5403af,_0xe05669,_0x26bcb3,_0x1fc403,_0x15985e,_0x42a77f);}async function _0x133c3d(_0x1c936b,_0x2f3f3e,_0x5f1bdf,_0xeb201c,_0x22d295,_0x1665e6,_0x1454f8,_0x55edf9){const _0x1a8eaf=_0x2d5032;if(_0x22d295['accumulated']||(_0x22d295[_0x1a8eaf(0x915)]={}),_0x22d295[_0x1a8eaf(0x915)]['queries']||(_0x22d295[_0x1a8eaf(0x915)][_0x1a8eaf(0x897)]=[]),_0x2f3f3e instanceof Array?_0x22d295['accumulated'][_0x1a8eaf(0x897)][_0x1a8eaf(0x806)](..._0x2f3f3e):_0x22d295[_0x1a8eaf(0x915)][_0x1a8eaf(0x897)][_0x1a8eaf(0x806)](_0x2f3f3e),_0x22d295['timesCalled']=_0x22d295['timesCalled']?_0x22d295[_0x1a8eaf(0x64a)]+0x1:0x1,_0x253fbc(_0x22d295,_0x1665e6)>_0x22d295[_0x1a8eaf(0x64a)])return;if(0x0===_0x22d295[_0x1a8eaf(0x915)]['queries'][_0x1a8eaf(0x80e)])throw new Error(_0x1a8eaf(0x8a6));let _0x262235=[];const _0x1b9810=Date[_0x1a8eaf(0xa45)]();try{let _0x3fe578=0x0,_0x55f9f1=0x0;for(const _0x58054e of _0x22d295[_0x1a8eaf(0x915)]['queries']){const _0x37e22a=await fetch(_0x1e75f5['apiUrl']+_0x1a8eaf(0x905)+_0x22d295['id']+'/search',{'method':_0x1a8eaf(0x8d2),'headers':{'Content-Type':_0x1a8eaf(0x702),'x-vendor-id':_0x5f1bdf[_0x1a8eaf(0x514)]},'body':JSON['stringify']({'query':_0x58054e})}),_0x164f6b=((await _0x37e22a['json']())[_0x1a8eaf(0x906)]??[])['map'](_0x5f3eae=>({'pathName':_0x5f3eae['filename'],'relevance':_0x5f3eae[_0x1a8eaf(0x1e4)],'content':_0x5f3eae[_0x1a8eaf(0x3ab)][_0x1a8eaf(0x908)]}));_0x262235=Array[_0x1a8eaf(0x8ee)](new Set([..._0x262235,..._0x164f6b])),_0x3fe578+=_0x164f6b[_0x1a8eaf(0xa52)]??0x0,_0x55f9f1+=_0x164f6b[_0x1a8eaf(0x68b)]??0x0;}_0xeb201c[_0x1a8eaf(0xa52)]+=_0x3fe578,_0xeb201c['outputTokens']+=_0x55f9f1,_0xeb201c[_0x1a8eaf(0x5d7)]=Array[_0x1a8eaf(0x8ee)](new Set([..._0xeb201c['context'],..._0x262235])),await _0x1d5b2d[_0x1a8eaf(0x131)]({'jobType':_0xf54e14[_0x1a8eaf(0x54d)],'type':_0x4ee363[_0x1a8eaf(0x8bc)],'jobId':_0x1c936b,'threadId':_0x5f1bdf[_0x1a8eaf(0x4c9)],'traceLevel':_0xc916ae[_0x1a8eaf(0x753)],'startTime':_0x1b9810,'timestamp':Date[_0x1a8eaf(0xa45)](),'blockId':_0x22d295['id'],'status':'success','queries':_0x22d295[_0x1a8eaf(0x915)][_0x1a8eaf(0x897)],'context':_0x262235,'inputTokens':_0x3fe578,'outputTokens':_0x55f9f1});}catch(_0x89c9e8){console[_0x1a8eaf(0x275)](_0x89c9e8),await _0x1d5b2d[_0x1a8eaf(0x131)]({'jobType':_0xf54e14[_0x1a8eaf(0x54d)],'type':_0x4ee363[_0x1a8eaf(0x8bc)],'jobId':_0x1c936b,'threadId':_0x5f1bdf[_0x1a8eaf(0x4c9)],'traceLevel':_0xc916ae['Info'],'startTime':_0x1b9810,'timestamp':Date[_0x1a8eaf(0xa45)](),'blockId':_0x22d295['id'],'status':_0x1a8eaf(0x275),'queries':_0x22d295[_0x1a8eaf(0x915)]['queries'],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x361ef1(_0x1c936b,'',_0x5f1bdf,_0xeb201c,_0x22d295,_0x1665e6,_0x1454f8,_0x55edf9);}async function _0x2dce49(_0x5b288f,_0x38e61e,_0x56244d,_0x30b3ca,_0x51cb07,_0x46cfbc,_0x299321,_0x4a0327){const _0x1e1f8d=_0x2d5032,_0x34f596=await _0x299321[_0x1e1f8d(0x34c)]['getSentences'](_0x38e61e);await _0x361ef1(_0x5b288f,_0x34f596,_0x56244d,_0x30b3ca,_0x51cb07,_0x46cfbc,_0x299321,_0x4a0327);}async function _0x3af539(_0x18aa86,_0x22508e,_0x2aeed3,_0x4bbd7f,_0x7efcfb,_0x14e50d,_0xb8f3ac,_0x5cd69a){const _0x3d51b7=function(_0x47bd95,_0x47e672){const _0x50aafe=a0_0x11f8,_0x30a4b9=[],_0x3295ff=_0x47bd95[_0x50aafe(0x93c)]('\x20');let _0xc7c8f7='',_0x456b83=0x0,_0x214a9e=0x0,_0x25dc8e=0x0;for(const _0x54e11a of _0x3295ff){if(_0xc7c8f7['length']+_0x54e11a[_0x50aafe(0x80e)]>_0x47e672[_0x50aafe(0x2fe)]['size']){let _0x50480b=_0x456b83,_0x375180='';for(;_0x50480b>=0x0&&_0x375180[_0x50aafe(0x80e)]+_0x3295ff[_0x50480b][_0x50aafe(0x80e)]<_0x47e672['attributes']['overlap'];)_0x375180=_0x3295ff[_0x50480b]+'\x20'+_0x375180,_0x50480b--;let _0x3d74c9=_0x214a9e,_0x5c51bb='';for(;_0x3d74c9<_0x3295ff['length']&&_0x5c51bb[_0x50aafe(0x80e)]+_0x3295ff[_0x3d74c9][_0x50aafe(0x80e)]<_0x47e672['attributes'][_0x50aafe(0x913)];)_0x5c51bb+=_0x3295ff[_0x3d74c9]+'\x20',_0x3d74c9++;_0xc7c8f7=_0x375180+_0xc7c8f7+_0x5c51bb,_0x30a4b9[_0x50aafe(0x806)](_0xc7c8f7['trim']()),_0xc7c8f7='',_0x456b83=_0x214a9e;}_0xc7c8f7+=_0x54e11a+'\x20',_0x214a9e++,_0x25dc8e+=_0x54e11a[_0x50aafe(0x80e)]+0x1;}if(_0xc7c8f7[_0x50aafe(0x80e)]>0x0){let _0x243c9d=_0x456b83,_0x237588='';for(;_0x243c9d>=0x0&&_0x237588[_0x50aafe(0x80e)]+_0x3295ff[_0x243c9d][_0x50aafe(0x80e)]<_0x47e672[_0x50aafe(0x2fe)][_0x50aafe(0x913)];)_0x237588=_0x3295ff[_0x243c9d]+'\x20'+_0x237588,_0x243c9d--;_0xc7c8f7=_0x237588+_0xc7c8f7,_0x30a4b9['push'](_0xc7c8f7[_0x50aafe(0x4c0)]());}return _0x30a4b9;}(_0x22508e,_0x7efcfb);await _0x361ef1(_0x18aa86,_0x3d51b7,_0x2aeed3,_0x4bbd7f,_0x7efcfb,_0x14e50d,_0xb8f3ac,_0x5cd69a);}async function _0x361ef1(_0x200a90,_0x1cc185,_0x4480ea,_0x20949f,_0x4c4089,_0x2ca87d,_0xef4553,_0x4871fd){const _0x4b0da5=_0x2d5032;if(await _0x461db3['wait'](0x1),_0x4c4089[_0x4b0da5(0x3c3)]){for(const _0x616b5 of _0x4c4089[_0x4b0da5(0x3c3)]){if(_0x616b5[_0x4b0da5(0xa7e)]===_0x4f0d49[_0x4b0da5(0x347)])continue;const _0x259905=_0x2ca87d[_0x4b0da5(0x91b)](_0x2112f8=>_0x2112f8[_0x4b0da5(0x5c0)]===_0x616b5[_0x4b0da5(0x5c0)]);if(_0x259905)switch(_0x259905[_0x4b0da5(0xa7e)]){case _0x57cac9[_0x4b0da5(0x6a1)]:_0x616b5[_0x4b0da5(0xa7e)]!==_0x4f0d49[_0x4b0da5(0x2dd)]&&_0x616b5[_0x4b0da5(0xa7e)]!==_0x4f0d49[_0x4b0da5(0x536)]||'string'!=typeof _0x1cc185||await _0x57a44f(_0x200a90,_0x616b5[_0x4b0da5(0xa7e)],_0x1cc185,_0x4480ea,_0x20949f,_0x259905,_0x2ca87d,_0xef4553,_0x4871fd),_0x616b5[_0x4b0da5(0xa7e)]===_0x4f0d49[_0x4b0da5(0x52c)]&&'true'===_0x1cc185&&await _0x57a44f(_0x200a90,_0x616b5[_0x4b0da5(0xa7e)],_0x1cc185,_0x4480ea,_0x20949f,_0x259905,_0x2ca87d,_0xef4553,_0x4871fd),_0x616b5[_0x4b0da5(0xa7e)]===_0x4f0d49[_0x4b0da5(0x363)]&&_0x4b0da5(0x3b4)===_0x1cc185&&await _0x57a44f(_0x200a90,_0x616b5[_0x4b0da5(0xa7e)],_0x1cc185,_0x4480ea,_0x20949f,_0x259905,_0x2ca87d,_0xef4553,_0x4871fd);break;case _0x57cac9[_0x4b0da5(0x24d)]:_0x616b5[_0x4b0da5(0xa7e)]===_0x4f0d49[_0x4b0da5(0x2dd)]&&'string'==typeof _0x1cc185&&await _0x154e89(_0x200a90,_0x1cc185,_0x4480ea,_0x20949f,_0x259905,_0x2ca87d,_0xef4553,_0x4871fd);break;case _0x57cac9['DataCollection']:_0x616b5[_0x4b0da5(0xa7e)]===_0x4f0d49[_0x4b0da5(0x2dd)]&&_0x4b0da5(0x823)==typeof _0x1cc185&&await _0x133c3d(_0x200a90,_0x1cc185,_0x4480ea,_0x20949f,_0x259905,_0x2ca87d,_0xef4553,_0x4871fd),_0x616b5['type']===_0x4f0d49['Text']&&_0x1cc185 instanceof Array&&await _0x133c3d(_0x200a90,_0x1cc185,_0x4480ea,_0x20949f,_0x259905,_0x2ca87d,_0xef4553,_0x4871fd);break;case _0x57cac9[_0x4b0da5(0x52a)]:_0x616b5[_0x4b0da5(0xa7e)]===_0x4f0d49[_0x4b0da5(0x2dd)]&&_0x4b0da5(0x823)==typeof _0x1cc185&&await _0x2dce49(_0x200a90,_0x1cc185,_0x4480ea,_0x20949f,_0x259905,_0x2ca87d,_0xef4553,_0x4871fd);break;case _0x57cac9[_0x4b0da5(0x2ba)]:_0x616b5[_0x4b0da5(0xa7e)]===_0x4f0d49[_0x4b0da5(0x2dd)]&&_0x4b0da5(0x823)==typeof _0x1cc185&&await _0x3af539(_0x200a90,_0x1cc185,_0x4480ea,_0x20949f,_0x259905,_0x2ca87d,_0xef4553,_0x4871fd);}}_0x4c4089['type']===_0x57cac9['Prompt']&&_0x4871fd&&_0x4871fd[_0x4b0da5(0x71b)](void 0x0);}else _0x4c4089[_0x4b0da5(0xa7e)]===_0x57cac9[_0x4b0da5(0x407)]&&_0x4871fd&&_0x4871fd[_0x4b0da5(0x71b)](void 0x0);}function _0x253fbc(_0x568290,_0x408294){const _0x4815d2=_0x2d5032;let _0x1e6b42=0x0;for(const _0x5d1afb of _0x408294)for(const _0x25249e of _0x5d1afb['links']??[])_0x25249e[_0x4815d2(0xa7e)]!==_0x4f0d49[_0x4815d2(0x347)]&&_0x25249e['type']!==_0x4f0d49['Tool']&&_0x25249e['uid']===_0x568290[_0x4815d2(0x5c0)]&&_0x1e6b42++;return _0x1e6b42;}function _0x49b62a(_0x3f7c6f,_0x4d5f9b){const _0x47e8ee=_0x2d5032,_0x4e4326={'type':_0x3f7c6f[_0x47e8ee(0xa7e)],'name':_0x3f7c6f[_0x47e8ee(0x928)]??'','description':_0x3f7c6f[_0x47e8ee(0x52e)]??'','parameters':_0x3f7c6f[_0x47e8ee(0x42f)]??[],'headers':_0x3f7c6f[_0x47e8ee(0x838)]??[],'queryParameters':_0x3f7c6f['queryParameters']??[],'bodyParameters':_0x3f7c6f[_0x47e8ee(0xa7a)]??[],'endpointUrl':_0x3f7c6f[_0x47e8ee(0x5db)]??'','endpointMethod':_0x3f7c6f['endpointMethod']??'','contextInputVariable':_0x3f7c6f[_0x47e8ee(0x7b0)]??'','contextOutputVariable':_0x3f7c6f[_0x47e8ee(0x71c)]??'','modelId':_0x3f7c6f[_0x47e8ee(0x24a)]??'','workflowId':_0x3f7c6f['workflowId']??'','async':_0x3f7c6f[_0x47e8ee(0x192)]??!0x1,'instructions':_0x3f7c6f[_0x47e8ee(0x79b)]??'','maxTokens':_0x3f7c6f[_0x47e8ee(0x19f)]??0x0,'temperature':_0x3f7c6f[_0x47e8ee(0x3a9)]??0x0,'grammar':_0x3f7c6f['grammar']??_0x47e8ee(0x8ca),'collectionId':_0x3f7c6f[_0x47e8ee(0xa7e)]===_0x57cac9[_0x47e8ee(0x8bc)]||_0x3f7c6f[_0x47e8ee(0xa7e)]===_0x57cac9[_0x47e8ee(0x541)]?_0x3f7c6f['id']:'','shouldEmit':_0x3f7c6f['links']?.['some'](_0x1a1de5=>_0x1a1de5[_0x47e8ee(0xa7e)]===_0x4f0d49[_0x47e8ee(0x2dd)]&&_0x4d5f9b['find'](_0x1c97b3=>_0x1c97b3[_0x47e8ee(0x5c0)]===_0x1a1de5[_0x47e8ee(0x5c0)])?.[_0x47e8ee(0xa7e)]===_0x57cac9[_0x47e8ee(0x990)])??!0x1};if(_0x3f7c6f[_0x47e8ee(0xa7e)]===_0x57cac9[_0x47e8ee(0x142)])return[{..._0x4e4326,'type':_0x1a575a[_0x47e8ee(0x302)][_0x47e8ee(0xa56)],'questions':_0x3f7c6f['questions']??[]},{..._0x4e4326,'type':_0x1a575a[_0x47e8ee(0x302)][_0x47e8ee(0x7d3)],'questions':_0x3f7c6f['questions']??[]},{..._0x4e4326,'type':_0x1a575a[_0x47e8ee(0x302)][_0x47e8ee(0x4a1)],'questions':_0x3f7c6f[_0x47e8ee(0x3cb)]??[]}];if(_0x3f7c6f[_0x47e8ee(0xa7e)]===_0x57cac9[_0x47e8ee(0x6a1)]||_0x3f7c6f[_0x47e8ee(0xa7e)]===_0x57cac9[_0x47e8ee(0x982)]||_0x3f7c6f[_0x47e8ee(0xa7e)]===_0x57cac9['Router']){const _0x3831e2=_0x4d5f9b['filter'](_0x3b715a=>_0x3b715a[_0x47e8ee(0x3c3)]?.[_0x47e8ee(0x4f0)](_0x227875=>_0x227875[_0x47e8ee(0x5c0)]===_0x3f7c6f[_0x47e8ee(0x5c0)]&&_0x227875[_0x47e8ee(0xa7e)]===_0x4f0d49[_0x47e8ee(0x868)]));if(_0x3831e2[_0x47e8ee(0x80e)]>0x0)return{..._0x4e4326,'tools':_0x3831e2['flatMap'](_0x3fd5aa=>_0x49b62a(_0x3fd5aa,_0x4d5f9b))};}return _0x4e4326;}async function _0x57a44f(_0x4204f3,_0x29dd47,_0x3f7dcf,_0x89993,_0x3a4d21,_0x1e1490,_0x9e2b13,_0x186bb3,_0x335428){const _0x5a2703=_0x2d5032;if(_0x1e1490[_0x5a2703(0x915)]||(_0x1e1490[_0x5a2703(0x915)]={}),_0x29dd47===_0x4f0d49['Text']&&_0x5a2703(0x823)==typeof _0x3f7dcf&&(_0x1e1490[_0x5a2703(0x915)][_0x5a2703(0x123)]||(_0x1e1490[_0x5a2703(0x915)][_0x5a2703(0x123)]=[]),_0x1e1490['accumulated'][_0x5a2703(0x123)][_0x5a2703(0x806)](_0x3f7dcf)),_0x1e1490[_0x5a2703(0x64a)]=_0x1e1490[_0x5a2703(0x64a)]?_0x1e1490['timesCalled']+0x1:0x1,_0x253fbc(_0x1e1490,_0x9e2b13)>_0x1e1490[_0x5a2703(0x64a)])return;if(_0x27f628[_0x5a2703(0x58d)](_0x5a2703(0x636)+_0x1e1490['name'],_0x1e1490['timesCalled']),!_0x1e1490[_0x5a2703(0x915)][_0x5a2703(0x123)])throw new Error(_0x5a2703(0x7d4)+_0x1e1490[_0x5a2703(0x928)]);const _0x1a924d=_0x186bb3[_0x5a2703(0xaf8)]['find'](_0x798f71=>_0x798f71['id']===_0x1e1490[_0x5a2703(0x24a)]);if(!_0x1a924d)throw new Error(_0x5a2703(0x505)+_0x1e1490[_0x5a2703(0x24a)]);const _0x47478e=Date['now'](),_0x14632c=(0x0,_0x1fd9e4['v4'])();let _0x586e66='',_0x2a35e6=0x0,_0x13c734=0x0;const _0x52bfde=[],_0xaadd3=function(_0x3444f0,_0x58d6c9,_0x40d2e4){const _0xa3950=_0x5a2703;if(_0x40d2e4[_0xa3950(0x7b0)]){const _0x266349=_0x40d2e4[_0xa3950(0x7b0)][_0xa3950(0x93c)](',');for(const _0x2e3a46 of _0x266349)'files'!==_0x2e3a46&&'images'!==_0x2e3a46&&_0x58d6c9[_0xa3950(0x7ae)]?.[_0x2e3a46]&&(_0x3444f0='<'+_0x2e3a46+'>'+_0x58d6c9[_0xa3950(0x7ae)][_0x2e3a46]+'</'+_0x2e3a46+_0xa3950(0x2ef)+_0x3444f0);}return _0x3444f0;}(_0x1e1490[_0x5a2703(0x915)]['prompt'][_0x5a2703(0xa9a)]('\x0a\x0a'),_0x3a4d21,_0x1e1490);let _0x140842=_0xaadd3;const _0x46cf6e=_0x1e1490[_0x5a2703(0x7b0)]?.[_0x5a2703(0x93c)](',');if(_0x3a4d21['internalContext']?.[_0x5a2703(0xa09)]&&_0x46cf6e?.['includes']('files')){const _0x42ea78=_0x3a4d21[_0x5a2703(0x7ae)][_0x5a2703(0xa09)]['split'](',');_0x140842=[];for(const _0x55dd4a of _0x42ea78)_0x140842[_0x5a2703(0x806)]({'type':_0x5a2703(0x511),'file':{'file_id':_0x55dd4a}});_0x140842['push']({'type':_0x5a2703(0x908),'text':_0xaadd3});}if(_0x3a4d21[_0x5a2703(0x7ae)]?.[_0x5a2703(0x6e4)]&&_0x46cf6e?.['includes']('images')){const _0xd47c5d=_0x3a4d21[_0x5a2703(0x7ae)][_0x5a2703(0x6e4)][_0x5a2703(0x93c)]('|');_0x140842=[];for(const _0x470032 of _0xd47c5d)_0x140842[_0x5a2703(0x806)]({'type':_0x5a2703(0xa0d),'image_url':{'url':_0x5a2703(0x8d7)+_0x470032}});delete _0x3a4d21[_0x5a2703(0x7ae)][_0x5a2703(0x6e4)];}_0x52bfde[_0x5a2703(0x806)]({'role':'system','content':_0x3dcac5(_0x89993[_0x5a2703(0x79b)]??'',_0x1e1490,_0x1a924d)}),_0x52bfde[_0x5a2703(0x806)](..._0x89993[_0x5a2703(0x3a6)]?.[_0x5a2703(0x247)](_0x5a236a=>({'role':_0x5a236a[_0x5a2703(0x3c6)]===_0x1a575a['PromptSource']['Human']?'user':'assistant','content':_0x5a236a['message']}))??[]),_0x52bfde['push']({'role':_0x5a2703(0x712),'content':_0x140842});const _0x1d6c40=_0x9e2b13[_0x5a2703(0xa9f)](_0x33740a=>_0x33740a[_0x5a2703(0x3c3)]?.['some'](_0x41fa5b=>_0x41fa5b[_0x5a2703(0x5c0)]===_0x1e1490[_0x5a2703(0x5c0)]&&_0x41fa5b[_0x5a2703(0xa7e)]===_0x4f0d49[_0x5a2703(0x868)]))[_0x5a2703(0x7fc)](_0x1710f5=>_0x49b62a(_0x1710f5,_0x9e2b13));if(_0x335428){const _0x393efb=_0x1e1490[_0x5a2703(0x3c3)]?.[_0x5a2703(0x4f0)](_0x208468=>_0x208468[_0x5a2703(0xa7e)]===_0x4f0d49[_0x5a2703(0x2dd)]&&_0x9e2b13[_0x5a2703(0x91b)](_0x6a1198=>_0x6a1198['uid']===_0x208468[_0x5a2703(0x5c0)])?.[_0x5a2703(0xa7e)]===_0x57cac9[_0x5a2703(0x990)])??!0x1,_0xa0fcb4=await fetch(_0x1e75f5['apiUrl']+_0x5a2703(0x9df),{'method':_0x5a2703(0x8d2),'headers':{'Accept':_0x5a2703(0x1a9),'Content-Type':_0x5a2703(0x702),'x-vendor-id':_0x89993[_0x5a2703(0x514)]},'body':JSON[_0x5a2703(0x8b2)]({'model':_0x1e1490['modelId'],'messages':_0x52bfde,'max_completion_tokens':_0x1e1490[_0x5a2703(0x19f)],'temperature':_0x1e1490[_0x5a2703(0x3a9)],'metadata':{'threadId':_0x89993[_0x5a2703(0x4c9)],'agentId':_0x14632c,'jobId':_0x4204f3,'workflowId':_0x89993['workflowId'],'context':_0x3a4d21[_0x5a2703(0x7ae)]??{}},'structured_output':_0x1e1490[_0x5a2703(0xe6)],'tools':_0x1d6c40,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0xa0fcb4['ok']||!_0xa0fcb4[_0x5a2703(0x40b)])return console[_0x5a2703(0x275)](_0x5a2703(0x6e6)),void _0x335428[_0x5a2703(0x71b)](void 0x0);const _0x17c442=_0xa0fcb4[_0x5a2703(0x40b)][_0x5a2703(0xa64)](),_0x2b9bb4=new TextDecoder();for(;;){const {value:_0x392a7a,done:_0x1e3fbe}=await _0x17c442['read']();if(_0x1e3fbe)break;const _0x1f5f83=_0x2b9bb4['decode'](_0x392a7a,{'stream':!0x0});if(_0x5a2703(0x4fa)===_0x1f5f83)break;const _0x4c64f6=_0x1c74b4(_0x1f5f83);for(const _0xc89f42 of _0x4c64f6)_0xc89f42[_0x5a2703(0x799)]&&_0xc89f42[_0x5a2703(0x799)][0x0]&&(_0x393efb&&(_0x335428['emit']({'output':_0xc89f42[_0x5a2703(0x799)][0x0]['delta']['content'],'type':_0x5a2703(0x123)}),await _0x461db3[_0x5a2703(0x16f)](0x1)),_0x586e66+=_0xc89f42[_0x5a2703(0x799)][0x0][_0x5a2703(0x50e)][_0x5a2703(0x3ab)]??'',_0x2a35e6=_0xc89f42[_0x5a2703(0x50d)]?.[_0x5a2703(0x1f4)]??0x0,_0x13c734=_0xc89f42[_0x5a2703(0x50d)]?.[_0x5a2703(0x1ce)]??0x0,_0x3a4d21[_0x5a2703(0x7ae)]={..._0x3a4d21[_0x5a2703(0x7ae)],..._0xc89f42[_0x5a2703(0x5d7)]});}_0x3a4d21[_0x5a2703(0x68b)]=(_0x3a4d21[_0x5a2703(0x68b)]??0x0)+_0x13c734,_0x3a4d21[_0x5a2703(0xa52)]=(_0x3a4d21[_0x5a2703(0xa52)]??0x0)+_0x2a35e6,_0x335428[_0x5a2703(0x71b)]({'output':_0x393efb?'\x0a\x0a':'','type':_0x5a2703(0x123)}),await _0x461db3[_0x5a2703(0x16f)](0x1);}else{const _0x392469=await fetch(_0x1e75f5[_0x5a2703(0x742)]+'/chat/completions',{'method':_0x5a2703(0x8d2),'headers':{'Content-Type':'application/json','x-vendor-id':_0x89993[_0x5a2703(0x514)]},'body':JSON['stringify']({'model':_0x1e1490[_0x5a2703(0x24a)],'messages':_0x52bfde,'max_completion_tokens':_0x1e1490['maxTokens'],'temperature':_0x1e1490[_0x5a2703(0x3a9)],'metadata':{'threadId':_0x89993['threadId'],'agentId':_0x14632c,'jobId':_0x4204f3,'workflowId':_0x89993['workflowId'],'context':_0x3a4d21[_0x5a2703(0x7ae)]??{}},'structured_output':_0x1e1490[_0x5a2703(0xe6)],'tools':_0x1d6c40})}),_0x8f8557=await _0x392469[_0x5a2703(0x7c9)]();_0x586e66=_0x8f8557[_0x5a2703(0x799)][0x0][_0x5a2703(0x249)][_0x5a2703(0x3ab)],_0x2a35e6=_0x8f8557[_0x5a2703(0x50d)][_0x5a2703(0x1f4)],_0x13c734=_0x8f8557[_0x5a2703(0x50d)]['completion_tokens'],_0x3a4d21[_0x5a2703(0x8ea)]=_0x586e66,_0x3a4d21[_0x5a2703(0x7ae)]={..._0x3a4d21[_0x5a2703(0x7ae)],..._0x8f8557[_0x5a2703(0x5d7)]},_0x3a4d21[_0x5a2703(0x68b)]=(_0x3a4d21['outputTokens']??0x0)+_0x13c734,_0x3a4d21[_0x5a2703(0xa52)]=(_0x3a4d21[_0x5a2703(0xa52)]??0x0)+_0x2a35e6;}if(_0x1e1490[_0x5a2703(0x71c)]&&(_0x3a4d21[_0x5a2703(0x7ae)]||(_0x3a4d21['internalContext']={}),_0x3a4d21[_0x5a2703(0x7ae)][_0x1e1490[_0x5a2703(0x71c)]]=_0x586e66),await _0x1d5b2d[_0x5a2703(0x131)]({'jobType':_0xf54e14['Workflow'],'type':_0x4ee363[_0x5a2703(0x50c)],'jobId':_0x4204f3,'agentId':_0x14632c,'threadId':_0x89993[_0x5a2703(0x4c9)],'traceLevel':_0xc916ae['Info'],'startTime':_0x47478e,'timestamp':Date[_0x5a2703(0xa45)](),'blockId':_0x1e1490['id'],'status':_0x5a2703(0x733),'output':_0x586e66,'prompt':_0xaadd3,'agentName':_0x1e1490['name'],'history':[],'instructions':''+_0x1e1490[_0x5a2703(0x79b)]+(_0x89993[_0x5a2703(0x79b)]??''),'ragContext':[],'inputTokens':_0x2a35e6??0x0,'outputTokens':_0x13c734??0x0}),_0x5a2703(0x357)===_0x1e1490[_0x5a2703(0xe6)])try{_0x586e66=JSON[_0x5a2703(0x6c6)](_0x586e66)['condition_result']?_0x5a2703(0x84b):_0x5a2703(0x3b4);}catch(_0x311494){console[_0x5a2703(0x275)]('Error\x20parsing\x20JSON:',_0x586e66),_0x586e66=_0x5a2703(0x3b4);}await _0x361ef1(_0x4204f3,_0x586e66,_0x89993,_0x3a4d21,_0x1e1490,_0x9e2b13,_0x186bb3,_0x335428);}function _0x3dcac5(_0x58385b,_0x4f4350,_0x78b388){const _0x5835e4=_0x2d5032;let _0x1f4845='';return _0x78b388[_0x5835e4(0xa2f)]&&''!==_0x78b388['knowledgeCutoffDate']&&(_0x1f4845=_0x5835e4(0x6d8)+_0x78b388[_0x5835e4(0xa2f)]+'\x0a\x0a'),_0x1f4845=_0x1f4845+'Today\x20Date:\x20'+new Date()[_0x5835e4(0x983)](void 0x0,{'weekday':_0x5835e4(0x3a1),'year':_0x5835e4(0x891),'month':_0x5835e4(0x3a1),'day':_0x5835e4(0x891)})+'\x0a\x0a',''+_0x1f4845+_0x4f4350['instructions']+_0x58385b;}function _0x1c74b4(_0x522db7){const _0x5445be=_0x2d5032;return _0x522db7['split'](_0x5445be(0xa8b))[_0x5445be(0x247)](_0x5f02d6=>_0x5f02d6[_0x5445be(0x9b8)](_0x5445be(0x8bf),'')[_0x5445be(0x4c0)]())[_0x5445be(0xa9f)](_0x26d015=>''!==_0x26d015)[_0x5445be(0x247)](_0x22924b=>{const _0x3e6165=_0x5445be;if('[DONE]'===_0x22924b)return null;try{return JSON[_0x3e6165(0x6c6)](_0x22924b);}catch(_0x20357c){return console['error'](_0x3e6165(0x771),_0x22924b),null;}})['filter'](_0x1ca08e=>null!==_0x1ca08e);}async function _0x4132e1(_0x586256,_0x3eeb3d,_0x32a184,_0x5c1765,_0x325d2b,_0x1562ea,_0x1b9182){const _0x19b7b8=_0x2d5032,_0x125677=_0x19b7b8(0x234)+_0x325d2b[_0x19b7b8(0x52e)]+_0x19b7b8(0x325),_0x1e7e56={'prompt':{'type':_0x1a575a[_0x19b7b8(0x329)][_0x19b7b8(0x671)]}};return await _0x1d5b2d[_0x19b7b8(0x131)]({'jobType':_0xf54e14[_0x19b7b8(0x6af)],'type':_0x46867f[_0x19b7b8(0x401)],'jobId':_0x586256,'agentId':_0x3eeb3d,'threadId':_0x32a184[_0x19b7b8(0x4c9)],'traceLevel':_0xc916ae[_0x19b7b8(0x753)],'startTime':Date[_0x19b7b8(0xa45)](),'timestamp':Date['now'](),'status':'success','function':_0x1aee37[_0x19b7b8(0x824)],'params':_0x1e7e56,'functionDescription':_0x125677}),{'description':_0x125677,'params':_0x1e7e56,'callback':async _0x5edfd2=>_0x5fb0ed(_0x32a184[_0x19b7b8(0x514)],_0x325d2b,_0x1562ea,_0x5edfd2,_0x5c1765,_0x586256,_0x3eeb3d,_0x32a184[_0x19b7b8(0x207)],_0x32a184[_0x19b7b8(0x4c9)],_0x1b9182)};}async function _0x5fb0ed(_0x121c22,_0x4d3d98,_0x231ad2,_0x3b31db,_0x11dd0c,_0x34fb5b,_0x46810a,_0x555ac4,_0x49fd89,_0x5814ea){const _0x5d48c5=_0x2d5032,_0x15f3eb=Date['now']();try{if('string'!=typeof _0x3b31db?.[_0x5d48c5(0x123)])throw new Error(_0x5d48c5(0x763));if(!_0x231ad2[_0x5d48c5(0xaf8)][_0x5d48c5(0x91b)](_0x22c5bc=>_0x22c5bc['id']===_0x4d3d98[_0x5d48c5(0x24a)]))throw new Error(_0x5d48c5(0x4af));let _0x24711b='',_0x22030e=[];if(_0x4d3d98[_0x5d48c5(0x79b)]&&_0x22030e['push']({'role':_0x5d48c5(0x18c),'content':_0x4d3d98['instructions']}),_0x22030e[_0x5d48c5(0x806)]({'role':'user','content':_0x3b31db[_0x5d48c5(0x123)]}),_0x5814ea&&_0x4d3d98[_0x5d48c5(0x303)]){const _0x127379=await fetch(_0x1e75f5[_0x5d48c5(0x742)]+_0x5d48c5(0x9df),{'method':_0x5d48c5(0x8d2),'headers':{'Accept':_0x5d48c5(0x1a9),'Content-Type':_0x5d48c5(0x702),'x-vendor-id':_0x121c22},'body':JSON[_0x5d48c5(0x8b2)]({'model':_0x4d3d98['modelId'],'messages':_0x22030e,'max_completion_tokens':_0x4d3d98[_0x5d48c5(0x19f)],'temperature':_0x4d3d98[_0x5d48c5(0x3a9)],'tools':_0x4d3d98[_0x5d48c5(0x7d9)],'structured_output':_0x4d3d98[_0x5d48c5(0xe6)],'metadata':{'threadId':_0x49fd89,'jobId':_0x34fb5b,'agentId':_0x46810a,'workflowId':_0x555ac4,'context':_0x11dd0c?.[_0x5d48c5(0x7ae)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x127379['ok']||!_0x127379[_0x5d48c5(0x40b)])return console[_0x5d48c5(0x275)](_0x5d48c5(0x6e6)),_0x5814ea[_0x5d48c5(0x71b)](void 0x0),_0x5d48c5(0xa3a);const _0x978b04=_0x127379[_0x5d48c5(0x40b)]['getReader'](),_0x186e55=new TextDecoder();let _0x290821=0x0,_0x150ded=0x0,_0x4d49bf='';for(;;){const {value:_0x57e365,done:_0x53d7d1}=await _0x978b04[_0x5d48c5(0x4cb)]();if(_0x53d7d1)break;const _0x58b186=_0x186e55['decode'](_0x57e365,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x58b186)break;const _0x54a71b=_0x1c74b4(_0x58b186);for(const _0x2f11e1 of _0x54a71b)_0x2f11e1[_0x5d48c5(0x799)]&&_0x2f11e1[_0x5d48c5(0x799)][0x0]&&(_0x4d49bf+=_0x2f11e1[_0x5d48c5(0x799)][0x0][_0x5d48c5(0x50e)][_0x5d48c5(0x3ab)],_0x290821+=_0x2f11e1[_0x5d48c5(0x50d)]?.[_0x5d48c5(0xa23)]??0x0,_0x150ded+=_0x2f11e1[_0x5d48c5(0x50d)]?.[_0x5d48c5(0xae1)]??0x0,_0x11dd0c&&(_0x11dd0c[_0x5d48c5(0x7ae)]={..._0x11dd0c['internalContext'],..._0x2f11e1['context']}),_0x5814ea['emit']({'output':_0x2f11e1[_0x5d48c5(0x799)][0x0][_0x5d48c5(0x50e)][_0x5d48c5(0x3ab)],'type':'prompt'}),await _0x461db3[_0x5d48c5(0x16f)](0x1));}_0x11dd0c&&(_0x11dd0c['outputTokens']=(_0x11dd0c['outputTokens']??0x0)+_0x150ded,_0x11dd0c[_0x5d48c5(0xa52)]=(_0x11dd0c[_0x5d48c5(0xa52)]??0x0)+_0x290821,_0x4d3d98['contextOutputVariable']&&(_0x11dd0c[_0x5d48c5(0x7ae)]||(_0x11dd0c['internalContext']={}),_0x11dd0c['internalContext'][_0x4d3d98[_0x5d48c5(0x71c)]]=_0x4d49bf)),_0x5814ea[_0x5d48c5(0x71b)]({'output':'\x0a\x0a','type':_0x5d48c5(0x123)}),await _0x461db3[_0x5d48c5(0x16f)](0x1),_0x24711b=_0x5d48c5(0x159);}else{const _0x4e2c41=await fetch(_0x1e75f5[_0x5d48c5(0x742)]+'/chat/completions',{'method':'POST','headers':{'Content-Type':_0x5d48c5(0x702),'x-vendor-id':_0x121c22},'body':JSON[_0x5d48c5(0x8b2)]({'model':_0x4d3d98['modelId'],'messages':_0x22030e,'max_completion_tokens':_0x4d3d98['maxTokens'],'temperature':_0x4d3d98[_0x5d48c5(0x3a9)],'tools':_0x4d3d98[_0x5d48c5(0x7d9)],'structured_output':_0x4d3d98[_0x5d48c5(0xe6)],'metadata':{'threadId':_0x49fd89,'jobId':_0x34fb5b,'agentId':_0x46810a,'workflowId':_0x555ac4,'context':_0x11dd0c?.[_0x5d48c5(0x7ae)]??{}}})}),_0x4f3c3e=await _0x4e2c41[_0x5d48c5(0x7c9)]();_0x24711b=_0x4f3c3e['choices'][0x0][_0x5d48c5(0x249)]['content'],_0x11dd0c&&(_0x11dd0c['internalContext']={..._0x11dd0c['internalContext'],..._0x4f3c3e[_0x5d48c5(0x5d7)]},_0x11dd0c[_0x5d48c5(0x68b)]=(_0x11dd0c[_0x5d48c5(0x68b)]??0x0)+_0x4f3c3e['usage'][_0x5d48c5(0x1ce)],_0x11dd0c['inputTokens']=(_0x11dd0c[_0x5d48c5(0xa52)]??0x0)+_0x4f3c3e[_0x5d48c5(0x50d)][_0x5d48c5(0x1f4)],_0x4d3d98[_0x5d48c5(0x71c)]&&(_0x11dd0c[_0x5d48c5(0x7ae)]||(_0x11dd0c[_0x5d48c5(0x7ae)]={}),_0x11dd0c[_0x5d48c5(0x7ae)][_0x4d3d98[_0x5d48c5(0x71c)]]=_0x24711b));}if(_0x5d48c5(0x823)!=typeof _0x24711b)throw new Error(_0x5d48c5(0x109));return _0x34fb5b&&_0x46810a&&_0x49fd89&&await _0x1d5b2d[_0x5d48c5(0x131)]({'jobType':_0xf54e14['Skill'],'type':_0x1aee37[_0x5d48c5(0x824)],'jobId':_0x34fb5b,'blockId':_0x5d48c5(0x4b9),'agentId':_0x46810a,'threadId':_0x49fd89,'traceLevel':_0xc916ae[_0x5d48c5(0x753)],'startTime':_0x15f3eb,'timestamp':Date[_0x5d48c5(0xa45)](),'status':'success','agentName':_0x4d3d98[_0x5d48c5(0x928)],'prompt':_0x3b31db[_0x5d48c5(0x123)],'instructions':_0x4d3d98['instructions']??'','result':_0x24711b,'inputTokens':0x0,'outputTokens':0x0}),_0x24711b;}catch(_0x590777){return console['error'](_0x590777),_0x34fb5b&&_0x46810a&&_0x49fd89&&await _0x1d5b2d[_0x5d48c5(0x131)]({'jobType':_0xf54e14[_0x5d48c5(0x5fb)],'type':_0x1aee37['ExecuteAgent'],'jobId':_0x34fb5b,'blockId':_0x5d48c5(0x4b9),'agentId':_0x46810a,'threadId':_0x49fd89,'traceLevel':_0xc916ae['Info'],'startTime':_0x15f3eb,'timestamp':Date[_0x5d48c5(0xa45)](),'status':_0x5d48c5(0x275),'errorDetails':_0x298791(_0x590777),'agentName':_0x4d3d98[_0x5d48c5(0x928)],'prompt':_0x3b31db?.['prompt']??'','instructions':_0x4d3d98[_0x5d48c5(0x79b)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x590777 instanceof Error?_0x590777[_0x5d48c5(0x249)]:_0x5d48c5(0xa3a);}}async function _0x3bf3ec(_0x133f24,_0x3aa7a7,_0x32a49a,_0x571718,_0x5c9441,_0x4021ad){const _0x517902=_0x2d5032,_0x145b17=Date[_0x517902(0xa45)]();try{if(!_0x3aa7a7[_0x517902(0x883)])throw new Error(_0x517902(0x648));if(!_0x133f24[_0x517902(0x24a)])throw new Error(_0x517902(0x16c));if('string'!=typeof _0x32a49a?.[_0x517902(0x9ec)])throw new Error(_0x517902(0x94a));const _0x4a0ff2=await _0x3aa7a7[_0x517902(0x883)][_0x517902(0xa63)](_0x32a49a[_0x517902(0x9ec)],_0x133f24[_0x517902(0x24a)]);return _0x571718&&_0x5c9441&&_0x4021ad&&(await _0x1d5b2d['logUsage'](_0x571718,_0x133f24[_0x517902(0x24a)],_0x4a0ff2[_0x517902(0xa52)],_0x4a0ff2[_0x517902(0x68b)]),console['log'](new Date()+_0x517902(0x72e),_0x133f24[_0x517902(0x24a)],_0x4a0ff2[_0x517902(0xa52)],_0x4a0ff2[_0x517902(0x68b)]),await _0x1d5b2d[_0x517902(0x131)]({'jobType':_0xf54e14[_0x517902(0x5fb)],'type':_0x1aee37[_0x517902(0x13c)],'jobId':_0x571718,'agentId':_0x5c9441,'threadId':_0x4021ad,'blockId':'ai-search','traceLevel':_0xc916ae[_0x517902(0x753)],'startTime':_0x145b17,'timestamp':Date[_0x517902(0xa45)](),'status':_0x517902(0x733),'query':_0x32a49a['query'],'results':_0x4a0ff2['output']})),_0x4a0ff2[_0x517902(0x8ea)];}catch(_0x1e1f23){return console['error'](_0x1e1f23),_0x571718&&_0x5c9441&&_0x4021ad&&await _0x1d5b2d[_0x517902(0x131)]({'jobType':_0xf54e14[_0x517902(0x5fb)],'type':_0x1aee37[_0x517902(0x13c)],'jobId':_0x571718,'blockId':'ai-search','traceLevel':_0xc916ae[_0x517902(0x753)],'startTime':_0x145b17,'timestamp':Date[_0x517902(0xa45)](),'status':_0x517902(0x275),'errorDetails':_0x298791(_0x1e1f23),'agentId':_0x5c9441,'threadId':_0x4021ad,'query':_0x32a49a?.[_0x517902(0x9ec)]??'','results':_0x517902(0x1f2)}),_0x1e1f23 instanceof Error?_0x1e1f23['message']:_0x517902(0x1f2);}}async function _0x199162(_0x391f73,_0x4e3a27,_0x27b59f,_0x4ce966){const _0xaaa56b=_0x2d5032,_0x2e506d=Date[_0xaaa56b(0xa45)]();try{if('string'!=typeof _0x391f73?.[_0xaaa56b(0x23c)])throw new Error(_0xaaa56b(0x882));const _0x3b8ec8=Function(''+_0x391f73?.[_0xaaa56b(0x23c)])();let _0x120dd8='';try{_0x120dd8=JSON[_0xaaa56b(0x8b2)](_0x3b8ec8);}catch{_0x120dd8=_0x3b8ec8[_0xaaa56b(0x656)]();}return _0x4e3a27&&_0x27b59f&&_0x4ce966&&await _0x1d5b2d[_0xaaa56b(0x131)]({'jobType':_0xf54e14['Skill'],'type':_0x1aee37['ExecuteCode'],'agentId':_0x27b59f,'threadId':_0x4ce966,'jobId':_0x4e3a27,'blockId':_0xaaa56b(0x23c),'traceLevel':_0xc916ae['Info'],'startTime':_0x2e506d,'timestamp':Date['now'](),'status':'success','code':_0x391f73[_0xaaa56b(0x23c)],'result':_0x120dd8}),_0x3b8ec8;}catch(_0x457534){return console[_0xaaa56b(0x275)](_0x457534),_0x4e3a27&&_0x27b59f&&_0x4ce966&&await _0x1d5b2d[_0xaaa56b(0x131)]({'jobType':_0xf54e14[_0xaaa56b(0x5fb)],'type':_0x1aee37['ExecuteCode'],'jobId':_0x4e3a27,'blockId':_0xaaa56b(0x23c),'traceLevel':_0xc916ae[_0xaaa56b(0x753)],'startTime':_0x2e506d,'timestamp':Date[_0xaaa56b(0xa45)](),'status':_0xaaa56b(0x275),'errorDetails':_0x298791(_0x457534),'agentId':_0x27b59f,'threadId':_0x4ce966,'code':_0x391f73?.[_0xaaa56b(0x23c)]??'','result':_0xaaa56b(0x1e7)}),_0x457534 instanceof Error?_0x457534[_0xaaa56b(0x249)]:'Error\x20executing\x20code';}}async function _0x5c24ae(_0x41cf78,_0x4e95d4,_0xece836,_0x2cee4b,_0x13dd95){const _0x2e2b98=_0x2d5032,_0x4c6265='Search\x20in\x20data\x20collection\x20'+_0x13dd95[_0x2e2b98(0x52e)]+'\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.',_0x48d879={'queryOrPrompt':{'type':_0x1a575a[_0x2e2b98(0x329)][_0x2e2b98(0x671)]}};return await _0x1d5b2d['trace']({'jobType':_0xf54e14['JobContext'],'type':_0x46867f[_0x2e2b98(0x83d)],'jobId':_0x41cf78,'agentId':_0x4e95d4,'threadId':_0xece836[_0x2e2b98(0x4c9)],'blockId':_0x2e2b98(0x28d),'traceLevel':_0xc916ae[_0x2e2b98(0x753)],'startTime':Date[_0x2e2b98(0xa45)](),'timestamp':Date[_0x2e2b98(0xa45)](),'status':'success','function':_0x420160[_0x2e2b98(0x814)],'params':_0x48d879,'functionDescription':_0x4c6265}),{'description':_0x4c6265,'params':_0x48d879,'callback':async _0x280d46=>_0x4585d0(_0xece836[_0x2e2b98(0x514)],_0x13dd95,_0x280d46,_0x2cee4b,_0x41cf78,_0x4e95d4,_0xece836['threadId'])};}async function _0x4585d0(_0x385f28,_0x39fedc,_0x322158,_0x23b62f,_0x42ca89,_0x20bb4d,_0x7578e1){const _0x2e3dc4=_0x2d5032,_0x4735e0=Date[_0x2e3dc4(0xa45)]();try{if('string'!=typeof _0x322158?.[_0x2e3dc4(0x1f6)])throw new Error(_0x2e3dc4(0x94a));const _0x4d87e8=await fetch(_0x1e75f5[_0x2e3dc4(0x742)]+_0x2e3dc4(0x905)+_0x39fedc[_0x2e3dc4(0x352)]+_0x2e3dc4(0x8c7),{'method':'POST','headers':{'Content-Type':_0x2e3dc4(0x702),'x-vendor-id':_0x385f28},'body':JSON[_0x2e3dc4(0x8b2)]({'query':_0x322158[_0x2e3dc4(0x1f6)]})}),_0x494815=((await _0x4d87e8[_0x2e3dc4(0x7c9)]())[_0x2e3dc4(0x906)]??[])[_0x2e3dc4(0x247)](_0xd9b2c6=>({'pathName':_0xd9b2c6[_0x2e3dc4(0x9bf)],'relevance':_0xd9b2c6['score'],'content':_0xd9b2c6['content'][_0x2e3dc4(0x908)]}));return _0x23b62f&&(_0x23b62f[_0x2e3dc4(0x5d7)]=Array[_0x2e3dc4(0x8ee)](new Set([..._0x23b62f[_0x2e3dc4(0x5d7)]??[],..._0x494815]))),_0x42ca89&&_0x20bb4d&&_0x7578e1&&await _0x1d5b2d[_0x2e3dc4(0x131)]({'jobType':_0xf54e14[_0x2e3dc4(0x541)],'type':_0x420160[_0x2e3dc4(0x7ab)],'jobId':_0x42ca89,'blockId':_0x2e3dc4(0x28d),'agentId':_0x20bb4d,'threadId':_0x7578e1,'traceLevel':_0xc916ae['Info'],'startTime':_0x4735e0,'timestamp':Date['now'](),'status':_0x2e3dc4(0x733),'query':_0x322158[_0x2e3dc4(0x1f6)],'context':_0x494815??[],'inputTokens':0x0,'outputTokens':0x0}),_0x494815[_0x2e3dc4(0xa77)]((_0x1ac5ce,_0x5ca3c4)=>_0x1ac5ce+'\x0a'+_0x5ca3c4[_0x2e3dc4(0x3ab)],'');}catch(_0x159deb){return console[_0x2e3dc4(0x275)](_0x159deb),_0x42ca89&&_0x20bb4d&&_0x7578e1&&await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x2e3dc4(0x541)],'type':_0x420160[_0x2e3dc4(0x7ab)],'jobId':_0x42ca89,'blockId':'data-collection','agentId':_0x20bb4d,'threadId':_0x7578e1,'traceLevel':_0xc916ae[_0x2e3dc4(0x753)],'startTime':_0x4735e0,'timestamp':Date[_0x2e3dc4(0xa45)](),'status':_0x2e3dc4(0x275),'errorDetails':_0x298791(_0x159deb),'query':_0x322158?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x159deb instanceof Error?_0x159deb[_0x2e3dc4(0x249)]:_0x2e3dc4(0x70b);}}async function _0xd28f8(_0x46c122,_0x45bf42,_0x5f3f6,_0x235055,_0x4fc5e0){const _0x287985=_0x2d5032,_0x469651={};for(const _0x1cc60d of _0x4fc5e0[_0x287985(0x42f)]??[])switch(_0x1cc60d[_0x287985(0xa7e)]){case _0x287985(0x823):case'json':_0x469651[_0x1cc60d[_0x287985(0x928)]]={'type':_0x1a575a[_0x287985(0x329)]['String']};break;case _0x287985(0x566):_0x469651[_0x1cc60d[_0x287985(0x928)]]={'type':_0x1a575a[_0x287985(0x329)][_0x287985(0x108)]};break;case _0x287985(0x20b):_0x469651[_0x1cc60d['name']]={'type':_0x1a575a[_0x287985(0x329)][_0x287985(0x2f9)]};}return await _0x1d5b2d[_0x287985(0x131)]({'jobType':_0xf54e14[_0x287985(0x6af)],'type':_0x46867f['LoadSkillFunction'],'jobId':_0x46c122,'agentId':_0x45bf42,'threadId':_0x5f3f6,'traceLevel':_0xc916ae[_0x287985(0x753)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x287985(0x733),'function':_0x1aee37[_0x287985(0x9a3)],'params':_0x469651,'functionDescription':_0x4fc5e0[_0x287985(0x52e)]??''}),{'description':_0x287985(0x6ef)+_0x4fc5e0['description'],'params':_0x469651,'callback':async _0x337cc2=>_0x256793(_0x4fc5e0,_0x337cc2,_0x235055,_0x46c122,_0x45bf42,_0x5f3f6)};}async function _0x256793(_0x8c26c8,_0x257843,_0x41c31a,_0x51ebc0,_0x13da7e,_0x3dfadd){const _0x1b218d=_0x2d5032,_0x5b89cc=Date[_0x1b218d(0xa45)]();try{if(!_0x257843)throw new Error(_0x1b218d(0xacb));for(const _0x4af423 of _0x8c26c8['parameters']??[]){if(void 0x0===_0x257843[_0x4af423[_0x1b218d(0x928)]])throw new Error(_0x1b218d(0x399)+_0x4af423[_0x1b218d(0x928)]+'\x20is\x20required');if('string'===_0x4af423[_0x1b218d(0xa7e)]&&_0x1b218d(0x823)!=typeof _0x257843[_0x4af423['name']])throw new Error(_0x1b218d(0x399)+_0x4af423[_0x1b218d(0x928)]+_0x1b218d(0x2f4));if(_0x1b218d(0x566)===_0x4af423[_0x1b218d(0xa7e)]&&_0x1b218d(0x566)!=typeof _0x257843[_0x4af423[_0x1b218d(0x928)]])throw new Error(_0x1b218d(0x399)+_0x4af423[_0x1b218d(0x928)]+'\x20must\x20be\x20a\x20number');if(_0x1b218d(0x20b)===_0x4af423['type']&&_0x1b218d(0x20b)!=typeof _0x257843[_0x4af423[_0x1b218d(0x928)]])throw new Error(_0x1b218d(0x399)+_0x4af423[_0x1b218d(0x928)]+'\x20must\x20be\x20a\x20boolean');if(_0x1b218d(0x7c9)===_0x4af423[_0x1b218d(0xa7e)]&&_0x1b218d(0x823)!=typeof _0x257843[_0x4af423[_0x1b218d(0x928)]])throw new Error(_0x1b218d(0x399)+_0x4af423[_0x1b218d(0x928)]+'\x20must\x20be\x20a\x20string');if(_0x1b218d(0x7c9)===_0x4af423['type'])try{_0x257843[_0x4af423['name']]=JSON[_0x1b218d(0x6c6)](_0x257843[_0x4af423['name']]);}catch{throw new Error(_0x1b218d(0x399)+_0x4af423[_0x1b218d(0x928)]+_0x1b218d(0x88e));}}const _0x1da925={};for(const _0x35aeea of _0x8c26c8[_0x1b218d(0x838)]??[]){let _0x16876f=_0x35aeea['value'];_0x16876f[_0x1b218d(0x85e)](/\$[a-zA-Z0-9]+/)&&(_0x16876f=_0x16876f[_0x1b218d(0x9b8)](/\$[a-zA-Z0-9]+/g,_0x199cd2=>{const _0x203475=_0x1b218d,_0x38e724=_0x199cd2[_0x203475(0xa3e)](0x1);return _0x257843[_0x38e724];})),_0x1da925[_0x35aeea[_0x1b218d(0x928)]]=_0x16876f;}const _0x1c8104=new URLSearchParams();for(const _0x397d38 of _0x8c26c8['queryParameters']??[]){let _0x104a4a=_0x397d38['value'];if(_0x1b218d(0x823)==typeof _0x104a4a&&_0x104a4a[_0x1b218d(0x517)]('$')){const _0x3735b6=_0x104a4a[_0x1b218d(0xa3e)](0x1);_0x104a4a=_0x257843[_0x3735b6];}if(_0x1b218d(0x823)==typeof _0x104a4a&&_0x104a4a[_0x1b218d(0x517)]('@context.')){const _0x50ef8d=_0x104a4a['replace'](_0x1b218d(0x40d),'');_0x104a4a=_0x41c31a?.[_0x1b218d(0x7ae)]?.[_0x50ef8d];}if(_0x1b218d(0x823)==typeof _0x104a4a&&(_0x104a4a[_0x1b218d(0x517)]('[')&&_0x104a4a[_0x1b218d(0xade)](']')||_0x104a4a['startsWith']('{')&&_0x104a4a['endsWith']('}')))try{_0x104a4a=JSON[_0x1b218d(0x6c6)](_0x104a4a);}catch(_0x3bca94){console[_0x1b218d(0x275)](_0x3bca94);}_0x1c8104[_0x1b218d(0x2b4)](_0x397d38[_0x1b218d(0x928)],_0x104a4a);}let _0x3109a9,_0x678897=_0x8c26c8[_0x1b218d(0x5db)]??'';_0x1c8104[_0x1b218d(0x279)]>0x0&&(_0x678897+='?'+_0x1c8104['toString']());for(const _0x235719 of _0x8c26c8[_0x1b218d(0xa7a)]??[]){void 0x0===_0x3109a9&&(_0x3109a9={});let _0x4c6388=_0x235719[_0x1b218d(0x50f)];if(_0x1b218d(0x823)==typeof _0x4c6388&&_0x4c6388['startsWith']('$')){const _0x3f854c=_0x4c6388[_0x1b218d(0xa3e)](0x1);_0x4c6388=_0x257843[_0x3f854c];}if(_0x1b218d(0x823)==typeof _0x4c6388&&_0x4c6388['startsWith']('@context.')){const _0x232a2a=_0x4c6388[_0x1b218d(0x9b8)]('@context.','');_0x4c6388=_0x41c31a?.[_0x1b218d(0x7ae)]?.[_0x232a2a];}if(_0x1b218d(0x823)==typeof _0x4c6388&&(_0x4c6388[_0x1b218d(0x517)]('[')&&_0x4c6388[_0x1b218d(0xade)](']')||_0x4c6388[_0x1b218d(0x517)]('{')&&_0x4c6388[_0x1b218d(0xade)]('}')))try{_0x4c6388=JSON[_0x1b218d(0x6c6)](_0x4c6388);}catch(_0x241bd6){console[_0x1b218d(0x275)](_0x241bd6);}if(_0x1b218d(0xa3b)===_0x235719[_0x1b218d(0x928)]){const _0x1757d0=_0x4c6388[_0x1b218d(0x85e)](/```html(.*)```/s);_0x1757d0&&(_0x4c6388=_0x1757d0[0x1]),_0x4c6388=_0x4c6388[_0x1b218d(0x9b8)](/\n/g,''),_0x4c6388=_0x4c6388[_0x1b218d(0x9b8)](/'/g,'\x22'),_0x3109a9=_0x4c6388;break;}if(-0x1===_0x235719['name']['indexOf']('.'))_0x3109a9[_0x235719[_0x1b218d(0x928)]]=_0x4c6388;else{const [_0x3a181b,_0x4f8be8]=_0x235719[_0x1b218d(0x928)][_0x1b218d(0x93c)]('.');_0x3109a9[_0x3a181b]||(_0x3109a9[_0x3a181b]={}),_0x3109a9[_0x3a181b][_0x4f8be8]=_0x4c6388;}}console[_0x1b218d(0x107)](_0x1b218d(0x98a)+_0x8c26c8[_0x1b218d(0x928)]+_0x1b218d(0x6ea)+JSON[_0x1b218d(0x8b2)](_0x3109a9));const _0x52d691=await fetch(_0x678897,{'method':_0x8c26c8[_0x1b218d(0xe8)],'headers':_0x1da925,'body':void 0x0===_0x3109a9?void 0x0:_0x1b218d(0x823)==typeof _0x3109a9?_0x3109a9:JSON['stringify'](_0x3109a9)});if(_0x52d691['ok']){let _0x13cda3=await _0x52d691[_0x1b218d(0x7c9)]();return'string'!=typeof _0x13cda3&&(_0x13cda3=JSON[_0x1b218d(0x8b2)](_0x13cda3)),_0x51ebc0&&_0x13da7e&&_0x3dfadd&&await _0x1d5b2d[_0x1b218d(0x131)]({'jobType':_0xf54e14[_0x1b218d(0x5fb)],'type':_0x1aee37[_0x1b218d(0x9a3)],'jobId':_0x51ebc0,'agentId':_0x13da7e,'threadId':_0x3dfadd,'blockId':'custom-skill','traceLevel':_0xc916ae['Info'],'startTime':_0x5b89cc,'timestamp':Date[_0x1b218d(0xa45)](),'status':_0x1b218d(0x733),'skillName':_0x8c26c8[_0x1b218d(0x928)],'params':_0x257843,'result':_0x13cda3}),_0x41c31a&&_0x8c26c8[_0x1b218d(0x71c)]&&''!==_0x8c26c8[_0x1b218d(0x71c)]&&(_0x41c31a[_0x1b218d(0x7ae)]||(_0x41c31a[_0x1b218d(0x7ae)]={}),_0x41c31a[_0x1b218d(0x7ae)][_0x8c26c8[_0x1b218d(0x71c)]]=_0x13cda3),_0x13cda3;}throw new Error(_0x52d691[_0x1b218d(0x632)]);}catch(_0xc39e50){console[_0x1b218d(0x275)](_0xc39e50);const _0x5a2dde=_0xc39e50 instanceof Error?_0xc39e50['message']:_0x1b218d(0x550);return _0x51ebc0&&_0x13da7e&&_0x3dfadd&&await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x1b218d(0x5fb)],'type':_0x1aee37[_0x1b218d(0x9a3)],'jobId':_0x51ebc0,'blockId':_0x1b218d(0x970),'threadId':_0x3dfadd,'traceLevel':_0xc916ae[_0x1b218d(0x753)],'startTime':_0x5b89cc,'timestamp':Date[_0x1b218d(0xa45)](),'agentId':_0x13da7e,'status':_0x1b218d(0x275),'skillName':_0x8c26c8[_0x1b218d(0x928)],'params':_0x257843??{},'result':_0x5a2dde}),_0x5a2dde;}}async function _0x52d827(_0x4e12fa,_0xc69283,_0x45270c,_0x2cf9a8=!0x0){const _0x3a4fec=_0x2d5032,_0x41d941=_0x3a4fec(0x3e5),_0x42db97={'url':{'type':_0x1a575a[_0x3a4fec(0x329)][_0x3a4fec(0x671)]},'page':{'type':_0x1a575a[_0x3a4fec(0x329)][_0x3a4fec(0x108)]}};return await _0x1d5b2d[_0x3a4fec(0x131)]({'jobType':_0xf54e14[_0x3a4fec(0x6af)],'type':_0x46867f[_0x3a4fec(0x401)],'jobId':_0x4e12fa,'agentId':_0xc69283,'threadId':_0x45270c,'traceLevel':_0xc916ae[_0x3a4fec(0x753)],'startTime':Date[_0x3a4fec(0xa45)](),'timestamp':Date[_0x3a4fec(0xa45)](),'status':_0x3a4fec(0x733),'function':_0x1aee37['FetchUrl'],'params':_0x42db97,'functionDescription':_0x41d941}),{'description':_0x41d941,'params':_0x42db97,'callback':async _0x518abc=>_0x398353(_0x518abc,_0x2cf9a8,_0x4e12fa,_0xc69283,_0x45270c)};}async function _0x398353(_0x1a9d47,_0x15971f=!0x0,_0x1dc9f5,_0x344dac,_0x1c4cc6){const _0x119a8c=_0x2d5032,_0xcb543d=Date[_0x119a8c(0xa45)]();try{if(_0x119a8c(0x823)!=typeof _0x1a9d47?.['url'])throw new Error('URL\x20is\x20required');const _0x3a6415=_0x1a9d47[_0x119a8c(0x48c)];if([_0x119a8c(0x217),_0x119a8c(0x2f8),'.docx',_0x119a8c(0x9fe),'.pptx',_0x119a8c(0x74d),_0x119a8c(0x6f9)]['some'](_0x18d8d5=>_0x3a6415['endsWith'](_0x18d8d5)))throw new Error(_0x119a8c(0x2b3));const _0x349bb0=await fetch(_0x3a6415),_0x2ac796=await _0x349bb0['text']();let _0xc43eaf=_0x2ac796;if(_0x15971f){const _0x567c59=_0x2ac796['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0xbc4c6d=_0x567c59?_0x567c59[0x1]:_0x2ac796,_0x405f2b=_0xbc4c6d[_0x119a8c(0x9b8)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x119a8c(0x9b8)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x119a8c(0x9b8)](/<br\s*\/?>/gi,'\x20')[_0x119a8c(0x9b8)](/&nbsp;/g,'\x20');_0xc43eaf=_0x405f2b['replace'](/<\/?[^>]+(>|$)/g,'')[_0x119a8c(0x9b8)](/\s\s+/g,'\x20')[_0x119a8c(0x4c0)]();}const _0x4a3310=_0x119a8c(0x566)==typeof _0x1a9d47['page']?_0x1a9d47['page']:0x1,_0x2a1aab=Math['ceil'](_0xc43eaf[_0x119a8c(0x80e)]/_0x5e7874);return _0xc43eaf[_0x119a8c(0x80e)]>_0x5e7874&&(_0xc43eaf=_0xc43eaf['substring']((_0x4a3310-0x1)*_0x5e7874,(_0x4a3310-0x1)*_0x5e7874+_0x5e7874)+_0x119a8c(0x79f)+(_0x4a3310+0x1)+_0x119a8c(0x7d1)+_0x2a1aab+'.'),_0x1dc9f5&&_0x344dac&&_0x1c4cc6&&await _0x1d5b2d[_0x119a8c(0x131)]({'jobType':_0xf54e14[_0x119a8c(0x5fb)],'type':_0x1aee37['FetchUrl'],'jobId':_0x1dc9f5,'agentId':_0x344dac,'threadId':_0x1c4cc6,'blockId':'fetch-url','traceLevel':_0xc916ae['Info'],'startTime':_0xcb543d,'timestamp':Date[_0x119a8c(0xa45)](),'status':_0x349bb0['ok']?'success':'error','url':_0x1a9d47[_0x119a8c(0x48c)],'page':_0x4a3310,'totalPages':_0x2a1aab,'response':_0xc43eaf}),_0xc43eaf;}catch(_0x444059){console[_0x119a8c(0x275)](_0x444059);const _0x7763ba=_0x444059 instanceof Error?_0x444059[_0x119a8c(0x249)]:_0x119a8c(0x550);return _0x1dc9f5&&_0x344dac&&_0x1c4cc6&&await _0x1d5b2d[_0x119a8c(0x131)]({'jobType':_0xf54e14[_0x119a8c(0x5fb)],'type':_0x1aee37[_0x119a8c(0x1e3)],'jobId':_0x1dc9f5,'blockId':_0x119a8c(0x4ce),'threadId':_0x1c4cc6,'traceLevel':_0xc916ae[_0x119a8c(0x753)],'startTime':_0xcb543d,'timestamp':Date[_0x119a8c(0xa45)](),'agentId':_0x344dac,'status':_0x119a8c(0x275),'errorDetails':_0x298791(_0x444059),'url':_0x1a9d47?.[_0x119a8c(0x48c)]??'','page':0x0,'totalPages':0x0,'response':_0x7763ba}),_0x7763ba;}}async function _0x3d92bd(_0x1f1839,_0x462e69,_0x594cb0,_0x8d4ae9,_0x5b45a8){const _0x5ded53=_0x2d5032,_0x43f727=Date[_0x5ded53(0xa45)]();try{if(!_0x1f1839[_0x5ded53(0x212)])throw new Error('Search\x20connector\x20not\x20set');if('string'!=typeof _0x462e69?.[_0x5ded53(0x9ec)])throw new Error(_0x5ded53(0x94a));const _0x4c34c4=await _0x1f1839['searchConnector']['search'](_0x462e69[_0x5ded53(0x9ec)],_0x1e75f5[_0x5ded53(0xad6)][_0x5ded53(0x18d)]);let _0x358a99='';for(const _0x2fbbe5 of _0x4c34c4)_0x358a99+=_0x2fbbe5[_0x5ded53(0x60b)]+'\x20-\x20'+_0x2fbbe5[_0x5ded53(0x48c)]+'\x0a'+_0x2fbbe5[_0x5ded53(0x641)]+'\x0a\x0a';return _0x594cb0&&_0x8d4ae9&&_0x5b45a8&&await _0x1d5b2d[_0x5ded53(0x131)]({'jobType':_0xf54e14[_0x5ded53(0x5fb)],'type':_0x1aee37[_0x5ded53(0x672)],'jobId':_0x594cb0,'agentId':_0x8d4ae9,'threadId':_0x5b45a8,'blockId':_0x5ded53(0xa63),'traceLevel':_0xc916ae[_0x5ded53(0x753)],'startTime':_0x43f727,'timestamp':Date[_0x5ded53(0xa45)](),'status':_0x5ded53(0x733),'query':_0x462e69[_0x5ded53(0x9ec)],'results':_0x358a99}),_0x358a99;}catch(_0x11a483){return console['error'](_0x11a483),_0x594cb0&&_0x8d4ae9&&_0x5b45a8&&await _0x1d5b2d[_0x5ded53(0x131)]({'jobType':_0xf54e14[_0x5ded53(0x5fb)],'type':_0x1aee37[_0x5ded53(0x672)],'jobId':_0x594cb0,'blockId':_0x5ded53(0xa63),'traceLevel':_0xc916ae[_0x5ded53(0x753)],'startTime':_0x43f727,'timestamp':Date[_0x5ded53(0xa45)](),'status':_0x5ded53(0x275),'errorDetails':_0x298791(_0x11a483),'agentId':_0x8d4ae9,'threadId':_0x5b45a8,'query':_0x462e69?.['query']??'','results':_0x5ded53(0x1f2)}),_0x11a483 instanceof Error?_0x11a483[_0x5ded53(0x249)]:'Error\x20searching';}}async function _0x5756ba(_0x290c45,_0x39c496,_0x44b241,_0xc94b5f,_0x2dc9af,_0x501a6a){const _0x1e553b=_0x2d5032,_0x57ea6a=_0x1e553b(0x739)+_0x2dc9af['description']+_0x1e553b(0x325),_0x293ef3={'prompt':{'type':_0x1a575a[_0x1e553b(0x329)][_0x1e553b(0x671)]}};return await _0x1d5b2d[_0x1e553b(0x131)]({'jobType':_0xf54e14['JobContext'],'type':_0x46867f[_0x1e553b(0x401)],'jobId':_0x290c45,'agentId':_0x39c496,'threadId':_0x44b241['threadId'],'traceLevel':_0xc916ae['Info'],'startTime':Date[_0x1e553b(0xa45)](),'timestamp':Date['now'](),'status':'success','function':_0x1aee37[_0x1e553b(0x1a0)],'params':_0x293ef3,'functionDescription':_0x57ea6a}),{'description':_0x57ea6a,'params':_0x293ef3,'callback':async _0x5d9e0e=>_0x2ad626(_0x44b241['vendorId'],_0x2dc9af,_0x5d9e0e,_0xc94b5f,_0x290c45,_0x39c496,_0x44b241['threadId'],_0x501a6a)};}async function _0x2ad626(_0x28078b,_0x34e954,_0x45376a,_0x53fa3d,_0x5c59d8,_0x45427b,_0x1d84bd,_0x1b763c){const _0x32385e=_0x2d5032,_0x16955b=Date[_0x32385e(0xa45)]();try{if(_0x32385e(0x823)!=typeof _0x45376a?.[_0x32385e(0x123)])throw new Error(_0x32385e(0x763));let _0x2b564a='';const _0x48982c=_0x34e954[_0x32385e(0x7b0)]?.[_0x32385e(0x93c)](',')??[];let _0x1b45c8=_0x45376a[_0x32385e(0x123)];for(const _0x20b10d of _0x48982c){const _0x12cfd0=_0x53fa3d?.[_0x32385e(0x7ae)]?.[_0x20b10d];_0x12cfd0&&(_0x1b45c8='<'+_0x20b10d+'>\x0a'+_0x12cfd0+'\x0a</'+_0x20b10d+_0x32385e(0x2ef)+_0x1b45c8);}let _0x32f65a=[{'role':'user','content':_0x1b45c8}];if(_0x1b763c&&_0x34e954['shouldEmit']){const _0xdf5136=await fetch(_0x1e75f5[_0x32385e(0x742)]+_0x32385e(0xa24)+_0x34e954[_0x32385e(0x207)]+_0x32385e(0x9df),{'method':_0x32385e(0x8d2),'headers':{'Accept':'text/event-stream','Content-Type':_0x32385e(0x702),'x-vendor-id':_0x28078b},'body':JSON[_0x32385e(0x8b2)]({'model':_0x34e954[_0x32385e(0x24a)],'messages':_0x32f65a,'max_completion_tokens':_0x34e954['maxTokens'],'temperature':_0x34e954['temperature'],'tools':_0x34e954[_0x32385e(0x7d9)],'structured_output':_0x34e954['grammar'],'metadata':{'threadId':_0x1d84bd,'jobId':_0x5c59d8,'agentId':_0x45427b,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0xdf5136['ok']||!_0xdf5136[_0x32385e(0x40b)])return console[_0x32385e(0x275)](_0x32385e(0x3f7)),_0x1b763c[_0x32385e(0x71b)](void 0x0),_0x32385e(0x6b2);const _0x5c23c9=_0xdf5136['body'][_0x32385e(0xa64)](),_0x2814c5=new TextDecoder();let _0x1c404c=0x0,_0x3ad058=0x0,_0x1f5748='';for(;;){const {value:_0x5b8b07,done:_0x169608}=await _0x5c23c9[_0x32385e(0x4cb)]();if(_0x169608)break;const _0x197e89=_0x2814c5[_0x32385e(0x8af)](_0x5b8b07,{'stream':!0x0});if(_0x32385e(0x4fa)===_0x197e89)break;const _0x58c5fe=_0x1c74b4(_0x197e89);for(const _0x228670 of _0x58c5fe)_0x228670[_0x32385e(0x799)]&&_0x228670['choices'][0x0]&&(_0x1f5748+=_0x228670[_0x32385e(0x799)][0x0][_0x32385e(0x50e)]['content'],_0x1c404c+=_0x228670['usage']?.[_0x32385e(0xa23)]??0x0,_0x3ad058+=_0x228670['usage']?.[_0x32385e(0xae1)]??0x0,_0x53fa3d&&(_0x53fa3d['internalContext']={..._0x53fa3d[_0x32385e(0x7ae)],..._0x228670[_0x32385e(0x5d7)]}),_0x1b763c[_0x32385e(0x71b)]({'output':_0x228670[_0x32385e(0x799)][0x0][_0x32385e(0x50e)][_0x32385e(0x3ab)],'type':'prompt'}),await _0x461db3[_0x32385e(0x16f)](0x1));}_0x53fa3d&&(_0x53fa3d['outputTokens']=(_0x53fa3d['outputTokens']??0x0)+_0x3ad058,_0x53fa3d[_0x32385e(0xa52)]=(_0x53fa3d[_0x32385e(0xa52)]??0x0)+_0x1c404c,_0x34e954[_0x32385e(0x71c)]&&(_0x53fa3d[_0x32385e(0x7ae)]||(_0x53fa3d[_0x32385e(0x7ae)]={}),_0x53fa3d[_0x32385e(0x7ae)][_0x34e954[_0x32385e(0x71c)]]=_0x1f5748)),_0x1b763c[_0x32385e(0x71b)]({'output':'\x0a\x0a','type':_0x32385e(0x123)}),await _0x461db3['wait'](0x1),_0x2b564a=_0x32385e(0x159);}else{const _0x48f148=fetch(_0x1e75f5['apiUrl']+'/workflows/'+_0x34e954[_0x32385e(0x207)]+'/chat/completions',{'method':_0x32385e(0x8d2),'headers':{'Content-Type':'application/json','x-vendor-id':_0x28078b},'body':JSON[_0x32385e(0x8b2)]({'model':_0x34e954['modelId'],'messages':_0x32f65a,'max_completion_tokens':_0x34e954['maxTokens'],'temperature':_0x34e954['temperature'],'tools':_0x34e954['tools'],'structured_output':_0x34e954[_0x32385e(0xe6)],'metadata':{'threadId':_0x1d84bd,'jobId':_0x5c59d8,'agentId':_0x45427b,'context':{}}})});if(_0x34e954['async'])return'I\x20have\x20finished\x20executing\x20my\x20task.';const _0x27f920=await _0x48f148,_0x788633=await _0x27f920[_0x32385e(0x7c9)]();_0x2b564a=_0x788633[_0x32385e(0x799)][0x0][_0x32385e(0x249)][_0x32385e(0x3ab)],_0x53fa3d&&(_0x53fa3d[_0x32385e(0x7ae)]={..._0x53fa3d[_0x32385e(0x7ae)],..._0x788633[_0x32385e(0x5d7)]},_0x53fa3d[_0x32385e(0x68b)]=(_0x53fa3d[_0x32385e(0x68b)]??0x0)+_0x788633[_0x32385e(0x50d)][_0x32385e(0x1ce)],_0x53fa3d[_0x32385e(0xa52)]=(_0x53fa3d['inputTokens']??0x0)+_0x788633[_0x32385e(0x50d)]['prompt_tokens'],_0x34e954[_0x32385e(0x71c)]&&(_0x53fa3d['internalContext']||(_0x53fa3d[_0x32385e(0x7ae)]={}),_0x53fa3d['internalContext'][_0x34e954[_0x32385e(0x71c)]]=_0x2b564a));}if(_0x32385e(0x823)!=typeof _0x2b564a)throw new Error(_0x32385e(0x39c));return _0x5c59d8&&_0x45427b&&_0x1d84bd&&await _0x1d5b2d[_0x32385e(0x131)]({'jobType':_0xf54e14[_0x32385e(0x5fb)],'type':_0x1aee37[_0x32385e(0x1a0)],'jobId':_0x5c59d8,'blockId':'workflow','agentId':_0x45427b,'threadId':_0x1d84bd,'traceLevel':_0xc916ae[_0x32385e(0x753)],'startTime':_0x16955b,'timestamp':Date['now'](),'status':_0x32385e(0x733),'workflowName':_0x34e954['name'],'prompt':_0x45376a['prompt'],'result':_0x2b564a,'inputTokens':0x0,'outputTokens':0x0}),_0x2b564a;}catch(_0x16e507){if(console[_0x32385e(0x275)](_0x16e507),_0x5c59d8&&_0x45427b&&_0x1d84bd&&await _0x1d5b2d[_0x32385e(0x131)]({'jobType':_0xf54e14['Skill'],'type':_0x1aee37[_0x32385e(0x1a0)],'jobId':_0x5c59d8,'blockId':'workflow','agentId':_0x45427b,'threadId':_0x1d84bd,'traceLevel':_0xc916ae[_0x32385e(0x753)],'startTime':_0x16955b,'timestamp':Date['now'](),'status':_0x32385e(0x275),'errorDetails':_0x298791(_0x16e507),'workflowName':_0x34e954[_0x32385e(0x928)],'prompt':_0x45376a?.[_0x32385e(0x123)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x16e507 instanceof Error)throw _0x16e507;throw new Error(_0x32385e(0x20d));}}async function _0xcc02b4(_0x45d8f8,_0x3856a3,_0x3bc424,_0x59fb98,_0x5216ab){const _0x10d883=_0x2d5032;return await _0x1d5b2d[_0x10d883(0x131)]({'jobType':_0xf54e14['JobContext'],'type':_0x46867f[_0x10d883(0x401)],'jobId':_0x45d8f8,'agentId':_0x3856a3,'threadId':_0x3bc424,'traceLevel':_0xc916ae[_0x10d883(0x753)],'startTime':Date[_0x10d883(0xa45)](),'timestamp':Date['now'](),'status':_0x10d883(0x733),'function':_0x1aee37[_0x10d883(0x271)],'params':{},'functionDescription':_0x10d883(0x700)}),{'description':_0x10d883(0x700),'params':{},'callback':async()=>_0x5dd716(_0x5216ab,_0x59fb98,_0x45d8f8,_0x3856a3,_0x3bc424)};}async function _0x5dd716(_0x56138f,_0x273c9b,_0x25d650,_0x50faed,_0x15b417){const _0x23c82c=_0x2d5032,_0xfc59f4=Date[_0x23c82c(0xa45)]();let _0x3dd048=_0x56138f[_0x23c82c(0x928)]['replace'](/[^a-zA-Z]/g,'');_0x3dd048[_0x23c82c(0x517)](_0x23c82c(0x3d4))&&(_0x3dd048=_0x3dd048[_0x23c82c(0x9b8)](_0x23c82c(0x3d4),''));const _0x75e837=_0x23c82c(0x546)+_0x3dd048;let _0x251d38=0x0;_0x273c9b&&(_0x251d38=parseInt(_0x273c9b['internalContext']?.[_0x75e837]??'0'));const _0x5a1346=_0x56138f[_0x23c82c(0x3cb)]||[];if(_0x251d38>=_0x5a1346['length'])return JSON[_0x23c82c(0x8b2)]({'error':_0x23c82c(0x846)});const _0x2d6ad0=_0x5a1346[_0x251d38];return _0x25d650&&_0x50faed&&_0x15b417&&await _0x1d5b2d[_0x23c82c(0x131)]({'jobType':_0xf54e14[_0x23c82c(0x5fb)],'type':_0x1aee37[_0x23c82c(0x271)],'jobId':_0x25d650,'agentId':_0x50faed,'threadId':_0x15b417,'blockId':_0x23c82c(0x5bd),'traceLevel':_0xc916ae[_0x23c82c(0x753)],'startTime':_0xfc59f4,'timestamp':Date[_0x23c82c(0xa45)](),'status':_0x23c82c(0x733),'question':_0x2d6ad0[_0x23c82c(0x201)],'currentQuestionIndex':_0x251d38,'questions':_0x5a1346[_0x23c82c(0x247)](_0x1b0cdf=>_0x1b0cdf['question'])}),JSON[_0x23c82c(0x8b2)]({'id':_0x2d6ad0['id'],'question':_0x2d6ad0['question'],'validation':_0x2d6ad0[_0x23c82c(0x69a)],'required':_0x2d6ad0[_0x23c82c(0xe3)],'format':_0x2d6ad0[_0x23c82c(0x31f)],'action':_0x23c82c(0xa4b)});}async function _0x5d99b8(_0x1fc410,_0x18d1e8,_0x3343e2,_0x41b8cf,_0x5264e4){const _0x405ef1=_0x2d5032;return await _0x1d5b2d[_0x405ef1(0x131)]({'jobType':_0xf54e14[_0x405ef1(0x6af)],'type':_0x46867f[_0x405ef1(0x401)],'jobId':_0x1fc410,'agentId':_0x18d1e8,'threadId':_0x3343e2,'traceLevel':_0xc916ae[_0x405ef1(0x753)],'startTime':Date[_0x405ef1(0xa45)](),'timestamp':Date[_0x405ef1(0xa45)](),'status':_0x405ef1(0x733),'function':_0x1aee37[_0x405ef1(0x21d)],'params':{},'functionDescription':'Set\x20the\x20answer\x20to\x20the\x20current\x20question.'}),{'description':'Set\x20the\x20answer\x20to\x20the\x20current\x20question.','params':{'id':{'type':_0x1a575a[_0x405ef1(0x329)][_0x405ef1(0x671)]},'answer':{'type':_0x1a575a[_0x405ef1(0x329)][_0x405ef1(0x671)]}},'callback':async _0x1d77c6=>_0x1f569f(_0x5264e4,_0x1d77c6,_0x41b8cf,_0x1fc410,_0x18d1e8,_0x3343e2)};}async function _0x1f569f(_0x399ed9,_0x3370fe,_0xb8bdc0,_0x3f5252,_0x51b37c,_0x4b1e4c){const _0x142412=_0x2d5032,_0x3eb936=Date[_0x142412(0xa45)]();let _0x32a695=_0x399ed9[_0x142412(0x928)][_0x142412(0x9b8)](/[^a-zA-Z]/g,'');_0x32a695[_0x142412(0x517)](_0x142412(0x9d2))&&(_0x32a695=_0x32a695[_0x142412(0x9b8)](_0x142412(0x9d2),''));const _0x843576='question-'+_0x32a695,_0x3c2fc6=_0x399ed9[_0x142412(0x3cb)]||[];let _0x1d2e4c=0x0;if(_0xb8bdc0&&(_0x1d2e4c=parseInt(_0xb8bdc0[_0x142412(0x7ae)]?.[_0x843576]??'0')),!_0x3370fe?.['id']||'string'!=typeof _0x3370fe['id'])return JSON[_0x142412(0x8b2)]({'error':'Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id'});const _0x2c1695=_0x3c2fc6[_0x142412(0x91b)](_0xefc477=>_0xefc477['id']===_0x3370fe['id']);if(!_0x2c1695)return JSON[_0x142412(0x8b2)]({'error':_0x142412(0x2f7)});if(!_0x3370fe?.['answer']||'string'!=typeof _0x3370fe[_0x142412(0x499)])return JSON[_0x142412(0x8b2)]({'error':'Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string'});if(_0xb8bdc0){_0xb8bdc0[_0x142412(0x7ae)]||(_0xb8bdc0[_0x142412(0x7ae)]={});const _0x59a759=_0x142412(0x538)+_0x32a695,_0x457190=_0x59a759+'-'+_0x3370fe['id'];_0xb8bdc0['internalContext'][_0x457190]=_0x3370fe[_0x142412(0x499)];let _0x4886ab=!0x1;for(let _0x29abe3=0x0;_0x29abe3<_0x3c2fc6[_0x142412(0x80e)];_0x29abe3++){const _0x5689b6=_0xb8bdc0[_0x142412(0x7ae)]?.[_0x59a759+'-'+_0x3c2fc6[_0x29abe3]['id']];if(_0x29abe3!==_0x1d2e4c&&!_0x5689b6){_0x1d2e4c=_0x29abe3,_0x4886ab=!0x0;break;}}_0x4886ab||_0x1d2e4c++,_0xb8bdc0['internalContext'][_0x843576]=_0x1d2e4c[_0x142412(0x656)]();}return _0x3f5252&&_0x51b37c&&_0x4b1e4c&&await _0x1d5b2d[_0x142412(0x131)]({'jobType':_0xf54e14['Skill'],'type':_0x1aee37[_0x142412(0x21d)],'jobId':_0x3f5252,'agentId':_0x51b37c,'threadId':_0x4b1e4c,'blockId':'form-skill-set-answer','traceLevel':_0xc916ae[_0x142412(0x753)],'startTime':_0x3eb936,'timestamp':Date['now'](),'status':_0x142412(0x733),'question':_0x2c1695[_0x142412(0x201)],'answer':_0x3370fe[_0x142412(0x499)],'currentQuestionIndex':_0x1d2e4c,'questions':_0x3c2fc6['map'](_0x5e7336=>_0x5e7336['question'])}),JSON[_0x142412(0x8b2)]({'success':_0x142412(0x86d)});}async function _0x2c2613(_0x4d137,_0x2f0901,_0x483ae4,_0x5ce5f2,_0x3dabb4){const _0x55aca7=_0x2d5032,_0x203af7=_0x55aca7(0x92a);return await _0x1d5b2d[_0x55aca7(0x131)]({'jobType':_0xf54e14[_0x55aca7(0x6af)],'type':_0x46867f[_0x55aca7(0x401)],'jobId':_0x4d137,'agentId':_0x2f0901,'threadId':_0x483ae4,'traceLevel':_0xc916ae[_0x55aca7(0x753)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x1aee37[_0x55aca7(0xaad)],'params':{},'functionDescription':_0x203af7}),{'description':_0x203af7,'params':{},'callback':async()=>_0x114eb4(_0x3dabb4,_0x5ce5f2,_0x4d137,_0x2f0901,_0x483ae4)};}async function _0x114eb4(_0x3a2d2a,_0x1e9c36,_0x555645,_0x5e7383,_0x5ce619){const _0x1aef12=_0x2d5032;let _0x24f047=_0x3a2d2a['name']['replace'](/[^a-zA-Z]/g,'');_0x24f047[_0x1aef12(0x517)]('submitForm')&&(_0x24f047=_0x24f047['replace']('submitForm',''));const _0x1ba3b3=_0x3a2d2a[_0x1aef12(0x3cb)]||[],_0x407bfa={};if(!_0x1e9c36)return JSON['stringify']({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});for(let _0x456e47=0x0;_0x456e47<_0x1ba3b3['length'];_0x456e47++){const _0x373b4a=_0x1e9c36[_0x1aef12(0x7ae)]?.[_0x1aef12(0x538)+_0x24f047+'-'+_0x1ba3b3[_0x456e47]['id']];if(_0x1ba3b3[_0x456e47][_0x1aef12(0xe3)]&&!_0x373b4a)return JSON[_0x1aef12(0x8b2)]({'error':_0x1aef12(0xa5b)});_0x407bfa[_0x1ba3b3[_0x456e47]['id']]=_0x373b4a;}return _0x1e9c36&&_0x3a2d2a['contextOutputVariable']&&(_0x1e9c36['internalContext']||(_0x1e9c36[_0x1aef12(0x7ae)]={}),_0x1e9c36['internalContext'][_0x3a2d2a[_0x1aef12(0x71c)]]=JSON[_0x1aef12(0x8b2)](_0x407bfa)),_0x555645&&_0x5e7383&&_0x5ce619&&await _0x1d5b2d[_0x1aef12(0x131)]({'jobType':_0xf54e14[_0x1aef12(0x5fb)],'type':_0x1aee37['FormSubmitForm'],'jobId':_0x555645,'agentId':_0x5e7383,'threadId':_0x5ce619,'blockId':_0x1aef12(0xa81),'traceLevel':_0xc916ae['Info'],'startTime':Date[_0x1aef12(0xa45)](),'timestamp':Date['now'](),'status':_0x1aef12(0x733),'answers':_0x407bfa}),JSON[_0x1aef12(0x8b2)]({'success':!0x0});}async function _0x56812a(_0x22e40a,_0x4129f8,_0x569b2a,_0x5c60dc,_0x4cd489,_0x4661dd,_0x5ae512){const _0x4d583f=_0x2d5032,_0x127a8c=new Map();for(const _0x513126 of _0x4cd489)_0x513126['type']===_0x1a575a['GenerativeAIInferenceToolType'][_0x4d583f(0x541)]||_0x513126[_0x4d583f(0xa7e)]===_0x1a575a['GenerativeAIInferenceToolType']['DataCollection']?_0x127a8c[_0x4d583f(0x687)](_0x4d583f(0x984)+_0x513126[_0x4d583f(0x928)]['replace'](/[^a-zA-Z]/g,''),await _0x5c24ae(_0x22e40a,_0x4129f8,_0x569b2a,_0x5c60dc,_0x513126)):_0x513126[_0x4d583f(0xa7e)]===_0x1a575a[_0x4d583f(0x302)][_0x4d583f(0x982)]||_0x513126[_0x4d583f(0xa7e)]===_0x1a575a[_0x4d583f(0x302)][_0x4d583f(0x6a1)]?_0x127a8c[_0x4d583f(0x687)](_0x4d583f(0x65b)+_0x513126[_0x4d583f(0x928)][_0x4d583f(0x9b8)](/[^a-zA-Z]/g,''),await _0x4132e1(_0x22e40a,_0x4129f8,_0x569b2a,_0x5c60dc,_0x513126,_0x4661dd,_0x5ae512)):_0x513126[_0x4d583f(0xa7e)]===_0x1a575a[_0x4d583f(0x302)][_0x4d583f(0x332)]?_0x127a8c[_0x4d583f(0x687)](_0x4d583f(0xa7b)+_0x513126[_0x4d583f(0x928)][_0x4d583f(0x9b8)](/[^a-zA-Z]/g,''),await _0x5756ba(_0x22e40a,_0x4129f8,_0x569b2a,_0x5c60dc,_0x513126,_0x5ae512)):_0x513126[_0x4d583f(0xa7e)]===_0x1a575a['GenerativeAIInferenceToolType'][_0x4d583f(0x463)]?_0x127a8c[_0x4d583f(0x687)](_0x513126[_0x4d583f(0x928)][_0x4d583f(0x9b8)](/[^a-zA-Z]/g,''),await _0xd28f8(_0x22e40a,_0x4129f8,_0x569b2a[_0x4d583f(0x4c9)],_0x5c60dc,_0x513126)):_0x513126[_0x4d583f(0xa7e)]===_0x1a575a['GenerativeAIInferenceToolType']['FormSkillGetQuestion']?_0x127a8c[_0x4d583f(0x687)](_0x4d583f(0x3d4)+_0x513126['name']['replace'](/[^a-zA-Z]/g,''),await _0xcc02b4(_0x22e40a,_0x4129f8,_0x569b2a[_0x4d583f(0x4c9)],_0x5c60dc,_0x513126)):_0x513126['type']===_0x1a575a[_0x4d583f(0x302)][_0x4d583f(0x7d3)]?_0x127a8c[_0x4d583f(0x687)](_0x4d583f(0x9d2)+_0x513126['name'][_0x4d583f(0x9b8)](/[^a-zA-Z]/g,''),await _0x5d99b8(_0x22e40a,_0x4129f8,_0x569b2a[_0x4d583f(0x4c9)],_0x5c60dc,_0x513126)):_0x513126['type']===_0x1a575a[_0x4d583f(0x302)][_0x4d583f(0x4a1)]?_0x127a8c['set'](_0x4d583f(0x158)+_0x513126[_0x4d583f(0x928)]['replace'](/[^a-zA-Z]/g,''),await _0x2c2613(_0x22e40a,_0x4129f8,_0x569b2a[_0x4d583f(0x4c9)],_0x5c60dc,_0x513126)):_0x127a8c[_0x4d583f(0x687)](_0x481c9e(_0x513126),await _0x59a2ba(_0x22e40a,_0x4129f8,_0x569b2a,_0x5c60dc,_0x513126,_0x4661dd));return _0x127a8c;}function _0x481c9e(_0x3e9705){const _0x4d7967=_0x2d5032;switch(_0x3e9705[_0x4d7967(0xa7e)]){case _0x1a575a[_0x4d7967(0x302)][_0x4d7967(0x654)]:return _0x4d7967(0x7b5);case _0x1a575a[_0x4d7967(0x302)][_0x4d7967(0x189)]:return'executeJavascriptCodeSnippet';case _0x1a575a[_0x4d7967(0x302)][_0x4d7967(0x789)]:return'queryFile';case _0x1a575a['GenerativeAIInferenceToolType'][_0x4d7967(0xa1f)]:return'searchOnGoogle';case _0x1a575a[_0x4d7967(0x302)][_0x4d7967(0x437)]:case _0x1a575a[_0x4d7967(0x302)][_0x4d7967(0x9b7)]:return _0x4d7967(0x169);case _0x1a575a['GenerativeAIInferenceToolType']['WriteFile']:return _0x4d7967(0x56c);}throw new Error('Unknown\x20skill\x20type');}async function _0x59a2ba(_0x1f69c4,_0xae4da1,_0x2255af,_0x2c0abc,_0x10bfde,_0x23fb98){const _0x4c5fd9=_0x2d5032;switch(_0x10bfde['type']){case _0x1a575a[_0x4c5fd9(0x302)][_0x4c5fd9(0x654)]:return async function(_0x13965a,_0xeabbf8,_0x26942d,_0x5ae04f,_0xd1b2c4){const _0x2c25af=_0x4c5fd9,_0x39f771=_0x2c25af(0x62d),_0x322ee3={'query':{'type':_0x1a575a[_0x2c25af(0x329)]['String']}};await _0x1d5b2d[_0x2c25af(0x131)]({'jobType':_0xf54e14['JobContext'],'type':_0x46867f[_0x2c25af(0x401)],'jobId':_0x13965a,'agentId':_0xeabbf8,'threadId':_0x26942d[_0x2c25af(0x4c9)],'traceLevel':_0xc916ae[_0x2c25af(0x753)],'startTime':Date[_0x2c25af(0xa45)](),'timestamp':Date[_0x2c25af(0xa45)](),'status':_0x2c25af(0x733),'function':_0x1aee37['SearchPerplexity'],'params':_0x322ee3,'functionDescription':_0x39f771});const _0x5a1a56=_0x26942d[_0x2c25af(0x514)];try{await(0x0,_0x4257bc[_0x2c25af(0x603)])(_0x2f80ec[_0x2c25af(0x3ce)](),_0x2c25af(0x432))({'vendorId':_0x5a1a56});}catch(_0x19338f){throw console['error'](_0x19338f),new Error(_0x2c25af(0x7da));}const _0x31898d=(await(0x0,_0x4538fe['getDoc'])((0x0,_0x4538fe['doc'])(_0x2f80ec['getFirestore'](),_0x2c25af(0xae7),_0x5a1a56)))[_0x2c25af(0x906)]();return _0x31898d&&_0x31898d[_0x2c25af(0x3d5)]||(console[_0x2c25af(0x107)](new Date()+'\x20Fallback\x20model',_0x5ae04f[_0x2c25af(0x24a)],_0x29960b['get'](_0x5ae04f[_0x2c25af(0x24a)])['fallbackModel']),_0x5ae04f[_0x2c25af(0x24a)]=_0x29960b[_0x2c25af(0x13f)](_0x5ae04f[_0x2c25af(0x24a)])['fallbackModel']),{'description':_0x39f771,'params':_0x322ee3,'callback':async _0x54b87f=>_0x3bf3ec(_0x5ae04f,_0xd1b2c4,_0x54b87f,_0x13965a,_0xeabbf8,_0x26942d[_0x2c25af(0x4c9)])};}(_0x1f69c4,_0xae4da1,_0x2255af,_0x10bfde,_0x23fb98);case _0x1a575a[_0x4c5fd9(0x302)]['Code']:return async function(_0x14f1c2,_0xecfb88,_0x4de22a){const _0x3421dc=_0x4c5fd9,_0xf3fee1=_0x3421dc(0x4d9),_0x3e78c8={'code':{'type':_0x1a575a[_0x3421dc(0x329)][_0x3421dc(0x671)]}};return await _0x1d5b2d[_0x3421dc(0x131)]({'jobType':_0xf54e14[_0x3421dc(0x6af)],'type':_0x46867f[_0x3421dc(0x401)],'jobId':_0x14f1c2,'agentId':_0xecfb88,'threadId':_0x4de22a,'traceLevel':_0xc916ae[_0x3421dc(0x753)],'startTime':Date['now'](),'timestamp':Date[_0x3421dc(0xa45)](),'status':_0x3421dc(0x733),'function':_0x1aee37[_0x3421dc(0x8e9)],'params':_0x3e78c8,'functionDescription':_0xf3fee1}),{'description':_0xf3fee1,'params':_0x3e78c8,'callback':async _0xe4c867=>_0x199162(_0xe4c867,_0x14f1c2,_0xecfb88,_0x4de22a)};}(_0x1f69c4,_0xae4da1,_0x2255af[_0x4c5fd9(0x4c9)]);case _0x1a575a['GenerativeAIInferenceToolType'][_0x4c5fd9(0x789)]:return async function(_0x532baa,_0x5638a6,_0x2db97e,_0x558d49,_0x121e98){const _0x416c2e=_0x4c5fd9,_0x5b35cd=[',',';','\x09','|',':'],_0x82018b=['\x22','\x27'];let _0x28038b='';if('text/csv'===_0x558d49['internalContext']?.[_0x416c2e(0x625)]&&_0x558d49[_0x416c2e(0x7ae)]?.[_0x416c2e(0x61a)]&&(_0x28038b=_0x558d49['internalContext'][_0x416c2e(0x61a)]),''===_0x28038b)throw new Error(_0x416c2e(0x6cd));const _0x30a037=_0x28038b[_0x416c2e(0x93c)]('\x0a')[0x0];let _0x107016=null,_0x1dfc2e=null,_0x2a4cfe=0x0;for(const _0xeac7b7 of _0x5b35cd){const _0x560166=(_0x30a037[_0x416c2e(0x85e)](new RegExp('\x5c'+_0xeac7b7,'g'))||[])['length'];_0x560166>_0x2a4cfe&&(_0x2a4cfe=_0x560166,_0x107016=_0xeac7b7);}_0x107016||(_0x107016=','),_0x2a4cfe=0x0;for(const _0x290065 of _0x82018b){const _0x2d6532=(_0x30a037[_0x416c2e(0x85e)](new RegExp('\x5c'+_0x290065,'g'))||[])[_0x416c2e(0x80e)];_0x2d6532>_0x2a4cfe&&(_0x2a4cfe=_0x2d6532,_0x1dfc2e=_0x290065);}_0x1dfc2e||(_0x1dfc2e='\x22');const _0x541635=_0x416c2e(0x9d7)+_0x30a037[_0x416c2e(0x93c)](_0x107016)[_0x416c2e(0xa9a)](',\x20'),_0x41c3cd={'query':{'type':_0x1a575a[_0x416c2e(0x329)][_0x416c2e(0x671)]}};return await _0x1d5b2d[_0x416c2e(0x131)]({'jobType':_0xf54e14[_0x416c2e(0x6af)],'type':_0x46867f[_0x416c2e(0x401)],'jobId':_0x532baa,'agentId':_0x5638a6,'threadId':_0x2db97e,'traceLevel':_0xc916ae[_0x416c2e(0x753)],'startTime':Date[_0x416c2e(0xa45)](),'timestamp':Date[_0x416c2e(0xa45)](),'status':_0x416c2e(0x733),'function':_0x1aee37[_0x416c2e(0x789)],'params':_0x41c3cd,'functionDescription':_0x541635}),{'description':_0x541635,'params':_0x41c3cd,'callback':async _0x53daf9=>{const _0x48ebd3=_0x416c2e,_0x1beb24=Date[_0x48ebd3(0xa45)]();try{if(!_0x121e98[_0x48ebd3(0x89c)])throw new Error(_0x48ebd3(0x73d));if(_0x48ebd3(0x823)!=typeof _0x53daf9?.['query'])throw new Error(_0x48ebd3(0x94a));if(!_0x53daf9[_0x48ebd3(0x9ec)][_0x48ebd3(0x21f)](_0x48ebd3(0x2c8)))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0xd899a2=await _0x121e98['queryFileConnector'][_0x48ebd3(0x385)](_0x28038b,_0x53daf9[_0x48ebd3(0x9ec)],{'headers':!0x0,'quote':_0x1dfc2e,'separator':_0x107016});await _0x1d5b2d[_0x48ebd3(0x131)]({'jobType':_0xf54e14[_0x48ebd3(0x5fb)],'type':_0x1aee37[_0x48ebd3(0x789)],'jobId':_0x532baa,'agentId':_0x5638a6,'threadId':_0x2db97e,'blockId':_0x48ebd3(0x653),'traceLevel':_0xc916ae[_0x48ebd3(0x753)],'startTime':_0x1beb24,'timestamp':Date[_0x48ebd3(0xa45)](),'status':'success','query':_0x53daf9[_0x48ebd3(0x9ec)],'results':_0xd899a2[_0x48ebd3(0x5b6)](0x0,0x3e8)});const _0x160dff=JSON[_0x48ebd3(0x6c6)](_0xd899a2);let _0xc9cd82='';if(_0x160dff['length']>0x0){const _0x110fcb=Object['keys'](_0x160dff[0x0]);_0xc9cd82=_0x110fcb['map'](_0x178c8c=>'\x22'+_0x178c8c+'\x22')['join'](',')+'\x0a';for(const _0x28c308 of _0x160dff)_0xc9cd82+=_0x110fcb[_0x48ebd3(0x247)](_0x215b5c=>'\x22'+_0x28c308[_0x215b5c]+'\x22')['join'](',')+'\x0a';}return _0x558d49[_0x48ebd3(0x7ae)]||(_0x558d49[_0x48ebd3(0x7ae)]={}),_0x558d49[_0x48ebd3(0x7ae)][_0x48ebd3(0x61a)]=_0xc9cd82,_0x558d49[_0x48ebd3(0x7ae)]['file.type']=_0x48ebd3(0x55b),_0xd899a2['substring'](0x0,0x3e8);}catch(_0x48c173){return console[_0x48ebd3(0x275)](_0x48c173),await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x48ebd3(0x5fb)],'type':_0x1aee37['QueryFile'],'jobId':_0x532baa,'blockId':'query-file','traceLevel':_0xc916ae[_0x48ebd3(0x753)],'startTime':_0x1beb24,'timestamp':Date[_0x48ebd3(0xa45)](),'status':'error','errorDetails':_0x298791(_0x48c173),'agentId':_0x5638a6,'threadId':_0x2db97e,'query':_0x53daf9?.[_0x48ebd3(0x9ec)]??'','results':'Error\x20searching'}),_0x48c173 instanceof Error?_0x48c173['message']:_0x48ebd3(0x5fa);}}};}(_0x1f69c4,_0xae4da1,_0x2255af['threadId'],_0x2c0abc,_0x23fb98);case _0x1a575a['GenerativeAIInferenceToolType'][_0x4c5fd9(0xa1f)]:return async function(_0x5ab1a6,_0x51fe9e,_0x448e9a,_0x97e85a){const _0x364ac2=_0x4c5fd9,_0x3161ee=_0x364ac2(0x759),_0x2d8816={'query':{'type':_0x1a575a[_0x364ac2(0x329)][_0x364ac2(0x671)]}};return await _0x1d5b2d['trace']({'jobType':_0xf54e14['JobContext'],'type':_0x46867f[_0x364ac2(0x401)],'jobId':_0x5ab1a6,'agentId':_0x51fe9e,'threadId':_0x448e9a,'traceLevel':_0xc916ae[_0x364ac2(0x753)],'startTime':Date[_0x364ac2(0xa45)](),'timestamp':Date[_0x364ac2(0xa45)](),'status':_0x364ac2(0x733),'function':_0x1aee37[_0x364ac2(0x672)],'params':_0x2d8816,'functionDescription':_0x3161ee}),{'description':_0x3161ee,'params':_0x2d8816,'callback':async _0x41bbdc=>_0x3d92bd(_0x97e85a,_0x41bbdc,_0x5ab1a6,_0x51fe9e,_0x448e9a)};}(_0x1f69c4,_0xae4da1,_0x2255af['threadId'],_0x23fb98);case _0x1a575a[_0x4c5fd9(0x302)][_0x4c5fd9(0x437)]:return _0x52d827(_0x1f69c4,_0xae4da1,_0x2255af[_0x4c5fd9(0x4c9)]);case _0x1a575a[_0x4c5fd9(0x302)][_0x4c5fd9(0x9b7)]:return _0x52d827(_0x1f69c4,_0xae4da1,_0x2255af[_0x4c5fd9(0x4c9)],!0x1);case _0x1a575a[_0x4c5fd9(0x302)]['WriteFile']:return async function(_0x1d4fb9,_0x377af5,_0xb8cf42,_0x5c2aa2){const _0x18fbb4=_0x4c5fd9,_0xf6336f=_0x18fbb4(0x9e3),_0x3c1d9d={'text':{'type':_0x1a575a[_0x18fbb4(0x329)][_0x18fbb4(0x671)]}};return await _0x1d5b2d[_0x18fbb4(0x131)]({'jobType':_0xf54e14['JobContext'],'type':_0x46867f[_0x18fbb4(0x401)],'jobId':_0x1d4fb9,'agentId':_0x377af5,'threadId':_0xb8cf42,'traceLevel':_0xc916ae[_0x18fbb4(0x753)],'startTime':Date[_0x18fbb4(0xa45)](),'timestamp':Date[_0x18fbb4(0xa45)](),'status':_0x18fbb4(0x733),'function':_0x1aee37[_0x18fbb4(0x1fc)],'params':_0x3c1d9d,'functionDescription':_0xf6336f}),{'description':_0xf6336f,'params':_0x3c1d9d,'callback':async _0x475ee9=>{const _0x2f9de3=_0x18fbb4,_0x36d1ae=Date[_0x2f9de3(0xa45)]();try{if(_0x2f9de3(0x823)!=typeof _0x475ee9?.[_0x2f9de3(0x908)])throw new Error('Text\x20is\x20required');return await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x2f9de3(0x5fb)],'type':_0x1aee37['WriteFile'],'jobId':_0x1d4fb9,'agentId':_0x377af5,'threadId':_0xb8cf42,'blockId':_0x2f9de3(0x224),'traceLevel':_0xc916ae[_0x2f9de3(0x753)],'startTime':_0x36d1ae,'timestamp':Date[_0x2f9de3(0xa45)](),'status':_0x2f9de3(0x733),'content':_0x475ee9[_0x2f9de3(0x908)]}),_0x5c2aa2['internalContext']||(_0x5c2aa2[_0x2f9de3(0x7ae)]={}),_0x5c2aa2['internalContext'][_0x2f9de3(0x61a)]=_0x475ee9[_0x2f9de3(0x908)],_0x5c2aa2[_0x2f9de3(0x7ae)][_0x2f9de3(0x625)]=_0x2f9de3(0x580),_0x2f9de3(0x3ad);}catch(_0x565236){return console[_0x2f9de3(0x275)](_0x565236),await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x2f9de3(0x5fb)],'type':_0x1aee37['WriteFile'],'jobId':_0x1d4fb9,'blockId':_0x2f9de3(0x224),'traceLevel':_0xc916ae[_0x2f9de3(0x753)],'startTime':_0x36d1ae,'timestamp':Date['now'](),'status':_0x2f9de3(0x275),'errorDetails':_0x298791(_0x565236),'agentId':_0x377af5,'threadId':_0xb8cf42,'content':_0x2f9de3(0x823)==typeof _0x475ee9?.[_0x2f9de3(0x908)]?_0x475ee9[_0x2f9de3(0x908)]:''}),_0x565236 instanceof Error?_0x565236['message']:_0x2f9de3(0x644);}}};}(_0x1f69c4,_0xae4da1,_0x2255af['threadId'],_0x2c0abc);}throw new Error(_0x4c5fd9(0x797));}function _0x298791(_0x549015){const _0xb3d5f3=_0x2d5032;try{return JSON['stringify'](_0x549015);}catch(_0x4d380c){return _0x549015 instanceof Error?_0x549015[_0xb3d5f3(0x656)]():'Error\x20fetching\x20context';}}async function _0x4bbae3(_0x2f9f04,_0xab8157,_0x1c3214){const _0x443924=_0x2d5032,_0x597e1e=_0xab8157['agentId']??(0x0,_0x1fd9e4['v4'])(),_0x360355={'type':_0x443924(0x123),'context':[],'internalContext':_0xab8157[_0x443924(0x7ae)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x2de0ef=_0xab8157[_0x443924(0x514)];try{await(0x0,_0x4257bc[_0x443924(0x603)])(_0x2f80ec[_0x443924(0x3ce)](),'validateVendorCredits')({'vendorId':_0x2de0ef});}catch(_0x17db6d){throw console[_0x443924(0x275)](_0x17db6d),new Error('Insufficient\x20credits');}const _0x256bdd=(await(0x0,_0x4538fe[_0x443924(0x22c)])((0x0,_0x4538fe[_0x443924(0x96f)])(_0x2f80ec[_0x443924(0x2af)](),_0x443924(0xae7),_0x2de0ef)))[_0x443924(0x906)]();_0x256bdd&&_0x256bdd[_0x443924(0x3d5)]||(console[_0x443924(0x107)](new Date()+_0x443924(0x44d),_0xab8157[_0x443924(0x84a)],_0x29960b[_0x443924(0x13f)](_0xab8157[_0x443924(0x84a)])[_0x443924(0x343)]),_0xab8157[_0x443924(0x84a)]=_0x29960b[_0x443924(0x13f)](_0xab8157[_0x443924(0x84a)])[_0x443924(0x343)]);const _0x21d9b9=await async function(_0x168a13,_0x53ae4e,_0x47d3b1,_0x1b3fc1,_0x40c312){const _0x40b830=_0x443924,_0x4b71af=_0x40c312[_0x40b830(0xaf8)][_0x40b830(0x91b)](_0x3ad82d=>_0x3ad82d['id']===_0x47d3b1[_0x40b830(0x84a)]);if(!_0x4b71af)throw new Error(_0x40b830(0x4af));const _0x3410a7=_0x40c312['generativeAIWorkerConnectors'][_0x40b830(0x91b)](_0x145e30=>_0x145e30[_0x40b830(0x114)]()===_0x4b71af[_0x40b830(0x2cd)]);if(!_0x3410a7)throw new Error(_0x40b830(0x68e));const _0x1421ee=await _0x56812a(_0x168a13,_0x53ae4e,_0x47d3b1,_0x1b3fc1,_0x47d3b1[_0x40b830(0x7d9)]??[],_0x40c312);return _0x3410a7[_0x40b830(0x91e)]({'type':_0x40b830(0x123),'prompt':_0x47d3b1[_0x40b830(0x123)],'instructions':_0x47d3b1[_0x40b830(0x79b)],'reasoning':_0x47d3b1[_0x40b830(0x520)],'grammar':_0x47d3b1['grammar'],'temperature':_0x47d3b1[_0x40b830(0x3a9)],'maxTokens':_0x47d3b1[_0x40b830(0x19f)],'history':_0x47d3b1[_0x40b830(0x3a6)],'functions':_0x1421ee,'threadId':_0x47d3b1['threadId']},{'model':_0x4b71af,'sequences':Array[_0x40b830(0x8ee)](_0x1421ee[_0x40b830(0xa30)]())['some'](_0xc7ff19=>_0xc7ff19['startsWith'](_0x40b830(0x65b)))?0x2:0x1});}(_0x2f9f04,_0x597e1e,_0xab8157,_0x360355,_0x1c3214);return _0x1d5b2d[_0x443924(0xa4d)](_0x2f9f04,_0xab8157[_0x443924(0x84a)],_0x21d9b9[_0x443924(0xa52)]??0x0,_0x21d9b9[_0x443924(0x68b)]??0x0),console[_0x443924(0x107)](new Date()+_0x443924(0x9b3),_0xab8157[_0x443924(0x84a)],_0x21d9b9[_0x443924(0xa52)]??0x0,_0x21d9b9['outputTokens']??0x0),{'type':_0x443924(0x123),'output':_0x21d9b9['output'],'context':_0x360355[_0x443924(0x5d7)],'internalContext':_0x360355[_0x443924(0x7ae)]??{},'inputTokens':_0x21d9b9[_0x443924(0xa52)]??0x0,'outputTokens':_0x21d9b9['outputTokens']??0x0};}async function _0x24b0ed(_0x278645,_0x16afd0){const _0x13132f=_0x2d5032,_0x1b2ad8=await async function(_0x334ff8,_0x4930ce){const _0x4ef8c9=a0_0x11f8,_0x810b77=_0x4930ce[_0x4ef8c9(0xaf8)][_0x4ef8c9(0x91b)](_0x268931=>_0x268931['id']===_0x334ff8[_0x4ef8c9(0x84a)]);if(!_0x810b77)throw new Error('Model\x20not\x20found');const _0x10ec3e=_0x4930ce[_0x4ef8c9(0x92b)][_0x4ef8c9(0x91b)](_0x27fa14=>_0x27fa14[_0x4ef8c9(0x114)]()===_0x810b77[_0x4ef8c9(0x2cd)]);if(!_0x10ec3e)throw new Error(_0x4ef8c9(0x68e));return _0x10ec3e[_0x4ef8c9(0x91e)]({'type':_0x4ef8c9(0x123),'prompt':_0x334ff8[_0x4ef8c9(0x908)],'threadId':_0x334ff8[_0x4ef8c9(0x4c9)]},{'model':_0x810b77,'sequences':0x1});}(_0x278645,_0x16afd0);return{'type':_0x13132f(0x123),'output':_0x1b2ad8['output'],'inputTokens':_0x1b2ad8['inputTokens']??0x0,'outputTokens':_0x1b2ad8[_0x13132f(0x68b)]??0x0};}async function _0x162d5f(_0x383320,_0x128f8c){const _0x2874f9=_0x2d5032;let _0x31bfee='',_0x57c017={'type':_0x2874f9(0x123),'internalContext':_0x383320[_0x2874f9(0x7ae)]??{}};switch(_0x383320[_0x2874f9(0xad4)][_0x2874f9(0xa7e)]){case _0x1a575a[_0x2874f9(0x302)]['Agent']:case _0x1a575a[_0x2874f9(0x302)][_0x2874f9(0x982)]:_0x31bfee=await _0x5fb0ed(_0x383320[_0x2874f9(0x514)],_0x383320['tool'],_0x128f8c,_0x383320['arguments'],_0x57c017);break;case _0x1a575a['GenerativeAIInferenceToolType'][_0x2874f9(0x654)]:_0x31bfee=await _0x3bf3ec(_0x383320['tool'],_0x128f8c,_0x383320['arguments']);break;case _0x1a575a[_0x2874f9(0x302)]['Code']:_0x31bfee=await _0x199162(_0x383320[_0x2874f9(0x95c)]);break;case _0x1a575a[_0x2874f9(0x302)][_0x2874f9(0x8bc)]:case _0x1a575a['GenerativeAIInferenceToolType'][_0x2874f9(0x541)]:_0x31bfee=await _0x4585d0(_0x383320[_0x2874f9(0x514)],_0x383320[_0x2874f9(0xad4)],_0x383320[_0x2874f9(0x95c)],_0x57c017);break;case _0x1a575a[_0x2874f9(0x302)][_0x2874f9(0x463)]:_0x31bfee=await _0x256793(_0x383320[_0x2874f9(0xad4)],_0x383320[_0x2874f9(0x95c)],_0x57c017);break;case _0x1a575a[_0x2874f9(0x302)]['WebScraper']:_0x31bfee=await _0x398353(_0x383320[_0x2874f9(0x95c)]);break;case _0x1a575a['GenerativeAIInferenceToolType'][_0x2874f9(0x9b7)]:_0x31bfee=await _0x398353(_0x383320[_0x2874f9(0x95c)],!0x1);break;case _0x1a575a['GenerativeAIInferenceToolType'][_0x2874f9(0xa1f)]:_0x31bfee=await _0x3d92bd(_0x128f8c,_0x383320['arguments']);break;case _0x1a575a[_0x2874f9(0x302)][_0x2874f9(0xa56)]:_0x31bfee=await _0x5dd716(_0x383320[_0x2874f9(0xad4)],_0x57c017);break;case _0x1a575a[_0x2874f9(0x302)][_0x2874f9(0x7d3)]:_0x31bfee=await _0x1f569f(_0x383320[_0x2874f9(0xad4)],_0x383320['arguments'],_0x57c017);break;case _0x1a575a[_0x2874f9(0x302)][_0x2874f9(0x4a1)]:_0x31bfee=await _0x114eb4(_0x383320[_0x2874f9(0xad4)],_0x57c017);break;case _0x1a575a[_0x2874f9(0x302)][_0x2874f9(0x332)]:_0x383320['tool'][_0x2874f9(0x192)]?_0x31bfee=await _0x2ad626(_0x383320[_0x2874f9(0x514)],_0x383320[_0x2874f9(0xad4)],_0x383320['arguments'],_0x57c017):(_0x2ad626(_0x383320[_0x2874f9(0x514)],_0x383320['tool'],_0x383320['arguments'],_0x57c017),_0x31bfee=_0x2874f9(0x159));}return{'type':_0x2874f9(0x90a),'output':_0x31bfee,'internalContext':_0x57c017[_0x2874f9(0x7ae)]??{}};}async function*_0x153a5e(_0xefbdb8,_0x43b39d,_0x42881d){const _0x2f1a6a=_0x2d5032,_0x4d5194=_0x43b39d['agentId']??(0x0,_0x1fd9e4['v4'])(),_0x376bcd={'type':_0x2f1a6a(0x123),'context':[],'internalContext':_0x43b39d['internalContext']??{},'inputTokens':0x0,'outputTokens':0x0},_0x70e680=new _0x49e244(),_0x4d2a15=_0x43b39d[_0x2f1a6a(0x514)];try{await(0x0,_0x4257bc[_0x2f1a6a(0x603)])(_0x2f80ec[_0x2f1a6a(0x3ce)](),'validateVendorCredits')({'vendorId':_0x4d2a15});}catch(_0x223bf4){throw console[_0x2f1a6a(0x275)](_0x2f1a6a(0x397),_0x223bf4),new Error(_0x2f1a6a(0x7da));}const _0x19247d=(await(0x0,_0x4538fe['getDoc'])((0x0,_0x4538fe[_0x2f1a6a(0x96f)])(_0x2f80ec['getFirestore'](),_0x2f1a6a(0xae7),_0x4d2a15)))[_0x2f1a6a(0x906)]();_0x19247d&&_0x19247d[_0x2f1a6a(0x3d5)]||(console[_0x2f1a6a(0x107)](new Date()+_0x2f1a6a(0x44d),_0x43b39d[_0x2f1a6a(0x84a)],_0x29960b[_0x2f1a6a(0x13f)](_0x43b39d[_0x2f1a6a(0x84a)])[_0x2f1a6a(0x343)]),_0x43b39d[_0x2f1a6a(0x84a)]=_0x29960b['get'](_0x43b39d[_0x2f1a6a(0x84a)])['fallbackModel']),async function(_0x5a21c3,_0x4edf0e,_0x3c72e1,_0x4be157,_0x38141e,_0x4944e1){const _0xde8400=_0x2f1a6a,_0x1445ff=_0x4944e1[_0xde8400(0xaf8)][_0xde8400(0x91b)](_0x59d318=>_0x59d318['id']===_0x3c72e1[_0xde8400(0x84a)]);if(!_0x1445ff)throw new Error('Model\x20not\x20found');const _0x4bd0e9=_0x4944e1[_0xde8400(0x92b)][_0xde8400(0x91b)](_0x2bd92a=>_0x2bd92a['getEngineType']()===_0x1445ff[_0xde8400(0x2cd)]);if(!_0x4bd0e9)throw new Error(_0xde8400(0x68e));const _0x434ed0={'type':_0xde8400(0x123),'output':''},_0x3c6e60=await _0x56812a(_0x5a21c3,_0x4edf0e,_0x3c72e1,_0x4be157,_0x3c72e1[_0xde8400(0x7d9)]??[],_0x4944e1,_0x38141e);for await(const _0x231865 of _0x4bd0e9[_0xde8400(0x1ab)]({'type':_0xde8400(0x123),'prompt':_0x3c72e1[_0xde8400(0x123)],'instructions':_0x3c72e1['instructions'],'reasoning':_0x3c72e1[_0xde8400(0x520)],'grammar':_0x3c72e1[_0xde8400(0xe6)],'temperature':_0x3c72e1[_0xde8400(0x3a9)],'maxTokens':_0x3c72e1[_0xde8400(0x19f)],'history':_0x3c72e1[_0xde8400(0x3a6)],'functions':_0x3c6e60,'threadId':_0x3c72e1[_0xde8400(0x4c9)]},{'model':_0x1445ff,'sequences':Array[_0xde8400(0x8ee)](_0x3c6e60[_0xde8400(0xa30)]())[_0xde8400(0x4f0)](_0x48b93d=>_0x48b93d['startsWith'](_0xde8400(0x65b)))?0x2:0x1}))_0x38141e[_0xde8400(0x71b)](_0x231865),_0xde8400(0x823)==typeof _0x434ed0[_0xde8400(0x8ea)]&&_0xde8400(0x823)==typeof _0x231865['output']&&(_0x434ed0['output']+=_0x231865[_0xde8400(0x8ea)]),_0x434ed0['inputTokens']=_0x231865[_0xde8400(0xa52)],_0x434ed0[_0xde8400(0x68b)]=_0x231865[_0xde8400(0x68b)];await _0x461db3[_0xde8400(0x16f)](0x1),_0x38141e[_0xde8400(0x71b)](void 0x0);}(_0xefbdb8,_0x4d5194,_0x43b39d,_0x376bcd,_0x70e680,_0x42881d);let _0x47a5dd='',_0x463c5c=0x0,_0xe492dc=0x0,_0x88b97f={'type':'prompt'};for(;;){const _0x24e412=await _0x70e680[_0x2f1a6a(0x540)]();if(!_0x24e412)break;_0x47a5dd+=_0x24e412['output'],_0x88b97f={'type':_0x2f1a6a(0x123),'output':_0x24e412['output'],'context':_0x376bcd[_0x2f1a6a(0x5d7)],'internalContext':{},'inputTokens':_0x24e412['inputTokens']??0x0,'outputTokens':_0x24e412['outputTokens']??0x0},_0x463c5c+=_0x24e412[_0x2f1a6a(0xa52)]??0x0,_0xe492dc+=_0x24e412[_0x2f1a6a(0x68b)]??0x0,((_0x24e412['inputTokens']??0x0)>0x0||(_0x24e412[_0x2f1a6a(0x68b)]??0x0)>0x0)&&console[_0x2f1a6a(0x107)](new Date()+'\x20Stream\x20usage',_0x43b39d['model'],_0x24e412[_0x2f1a6a(0xa52)]??0x0,_0x24e412[_0x2f1a6a(0x68b)]??0x0),yield _0x88b97f;}_0x1d5b2d[_0x2f1a6a(0xa4d)](_0xefbdb8,_0x43b39d['model'],_0x463c5c,_0xe492dc),console[_0x2f1a6a(0x107)](new Date()+_0x2f1a6a(0x42d),_0x43b39d[_0x2f1a6a(0x84a)],_0x463c5c,_0xe492dc),yield{..._0x88b97f,'output':'','internalContext':_0x376bcd['internalContext']??{}};}async function _0x5a2090(_0x46c3f7,_0x11368e,_0x304c94,_0x130cab,_0x48b6d8,_0x52e3cb){const _0x3e18ab=_0x2d5032,_0xe7387e=Date['now']();if(!_0x52e3cb[_0x3e18ab(0xaf8)][_0x3e18ab(0x91b)](_0x4ee360=>_0x4ee360['id']===_0x130cab[_0x3e18ab(0x24a)]))throw new Error(_0x3e18ab(0x4af));const _0x5111da=(0x0,_0x1fd9e4['v4'])(),_0x4ab1ef=[];_0x4ab1ef[_0x3e18ab(0x806)]({'role':_0x3e18ab(0x18c),'content':_0x130cab[_0x3e18ab(0x79b)]}),_0x4ab1ef['push']({'role':'user','content':_0x304c94});const _0x1d07c9=await fetch(_0x1e75f5[_0x3e18ab(0x742)]+_0x3e18ab(0x9df),{'method':_0x3e18ab(0x8d2),'headers':{'Content-Type':_0x3e18ab(0x702),'x-vendor-id':_0x46c3f7},'body':JSON['stringify']({'model':_0x130cab[_0x3e18ab(0x24a)],'messages':_0x4ab1ef,'max_completion_tokens':_0x130cab['maxTokens'],'temperature':_0x130cab[_0x3e18ab(0x3a9)],'threadId':_0x5111da})}),_0x1e34e7=(await _0x1d07c9[_0x3e18ab(0x7c9)]())[_0x3e18ab(0x799)][0x0][_0x3e18ab(0x249)]['content'];await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x3e18ab(0x745)],'type':_0x1bdc05[_0x3e18ab(0x6a1)],'jobId':_0x11368e,'blockId':_0x130cab['id'],'traceLevel':_0xc916ae[_0x3e18ab(0xa83)],'timestamp':Date[_0x3e18ab(0xa45)](),'startTime':_0xe7387e,'status':'success','agentId':_0x5111da,'content':_0x304c94,'instructions':_0x130cab['instructions'],'result':_0x1e34e7});const _0x4e32a1=[];if(_0x130cab[_0x3e18ab(0x3c3)]?.[_0x3e18ab(0x4f0)](_0x417045=>_0x417045[_0x3e18ab(0xa7e)]===_0x4f0d49['Text']))return _0x4e32a1['push']({'content':_0x1e34e7,'start':0x0,'length':_0x1e34e7[_0x3e18ab(0x80e)]}),await _0x186277(_0x46c3f7,_0x11368e,_0x4e32a1,_0x130cab,_0x48b6d8,_0x52e3cb),void await _0x186277(_0x46c3f7,_0x11368e,_0x1e34e7,_0x130cab,_0x48b6d8,_0x52e3cb);_0x4e32a1[_0x3e18ab(0x806)]({'content':_0x1e34e7,'start':0x0,'length':_0x304c94[_0x3e18ab(0x80e)]}),await _0x186277(_0x46c3f7,_0x11368e,_0x4e32a1,_0x130cab,_0x48b6d8,_0x52e3cb);}async function _0x1aeebb(_0x5280f7,_0x3a6936,_0x6ee2d6,_0x1f7fdb,_0x2af7a8,_0x588190){const _0x379598=_0x2d5032,_0x30f005=Date['now']();let _0x27f27f=[];if(_0x6ee2d6 instanceof Array)for(const _0x231a45 of _0x6ee2d6){if(_0x379598(0x823)!=typeof _0x231a45['content'])throw new Error(_0x379598(0xfb));_0x27f27f=_0x27f27f[_0x379598(0x37a)](_0x33863c(_0x231a45['content'],_0x1f7fdb,_0x231a45[_0x379598(0x7cc)],_0x231a45[_0x379598(0x80e)]));}else _0x27f27f=_0x33863c(_0x6ee2d6,_0x1f7fdb);await _0x1d5b2d[_0x379598(0x131)]({'jobType':_0xf54e14[_0x379598(0x745)],'type':_0x1bdc05[_0x379598(0x24d)],'traceLevel':_0xc916ae[_0x379598(0xa83)],'jobId':_0x3a6936,'blockId':_0x1f7fdb['id'],'startTime':_0x30f005,'timestamp':Date[_0x379598(0xa45)](),'status':'success','totalChunks':_0x27f27f[_0x379598(0x80e)],'chunkSize':_0x1f7fdb[_0x379598(0x2fe)][_0x379598(0x279)]}),await _0x186277(_0x5280f7,_0x3a6936,_0x27f27f,_0x1f7fdb,_0x2af7a8,_0x588190);}function _0x33863c(_0xfa2455,_0x5d9ed3,_0x4ce7f7,_0x3226db){const _0x4079c3=_0x2d5032,_0x4981f9=[];for(let _0x4312cd=0x0;_0x4312cd<_0xfa2455[_0x4079c3(0x80e)];_0x4312cd+=_0x5d9ed3['attributes'][_0x4079c3(0x279)]){let _0x342e81=_0x4312cd-_0x5d9ed3[_0x4079c3(0x2fe)][_0x4079c3(0x913)];_0x342e81<0x0&&(_0x342e81=0x0);let _0x216aad=_0x4312cd+_0x5d9ed3['attributes'][_0x4079c3(0x279)]+_0x5d9ed3[_0x4079c3(0x2fe)][_0x4079c3(0x913)];_0x216aad>_0xfa2455[_0x4079c3(0x80e)]&&(_0x216aad=_0xfa2455[_0x4079c3(0x80e)]);const _0x365cfc=_0xfa2455[_0x4079c3(0x5b6)](_0x342e81,_0x216aad);_0x4981f9[_0x4079c3(0x806)]({'content':_0x365cfc,'start':_0x4ce7f7??_0x4312cd,'length':_0x3226db??(_0x4312cd+_0x5d9ed3[_0x4079c3(0x2fe)][_0x4079c3(0x279)]>_0xfa2455[_0x4079c3(0x80e)]?_0xfa2455['length']-_0x4312cd:_0x5d9ed3[_0x4079c3(0x2fe)][_0x4079c3(0x279)])});}return _0x4981f9;}async function _0x39f600(_0x345a80,_0x3a6d36,_0x9b4156,_0x3c93db,_0x13f200,_0x1569ea){const _0x5ded1a=_0x2d5032,_0xf95d68=Date[_0x5ded1a(0xa45)]();let _0x3904e9;if(_0x9b4156['file'][_0x5ded1a(0xa7e)]['startsWith'](_0x5ded1a(0x506))||_0x1e9990(_0x9b4156[_0x5ded1a(0x511)][_0x5ded1a(0x928)],_0x8184da))_0x3904e9=await _0x9b4156[_0x5ded1a(0x511)]['text']();else{if(!_0x1569ea[_0x5ded1a(0xa12)][_0x5ded1a(0x9ba)](_0x9b4156['file']))throw new Error(_0x5ded1a(0x382)+_0x9b4156[_0x5ded1a(0x511)][_0x5ded1a(0xa7e)]+_0x5ded1a(0x620)+_0x9b4156['file'][_0x5ded1a(0x928)]);_0x3904e9=await _0x1569ea[_0x5ded1a(0xa12)][_0x5ded1a(0x6c6)](_0x9b4156[_0x5ded1a(0x511)]);}await _0x1d5b2d[_0x5ded1a(0x131)]({'jobType':_0xf54e14[_0x5ded1a(0x745)],'type':_0x1bdc05[_0x5ded1a(0x991)],'traceLevel':_0xc916ae[_0x5ded1a(0xa83)],'blockId':_0x3c93db['id'],'jobId':_0x3a6d36,'startTime':_0xf95d68,'timestamp':Date[_0x5ded1a(0xa45)](),'status':_0x5ded1a(0x733),'documentType':_0x9b4156[_0x5ded1a(0x511)][_0x5ded1a(0xa7e)],'documentName':_0x9b4156[_0x5ded1a(0x511)][_0x5ded1a(0x928)],'extractionMethod':_0x5ded1a(0x425)}),await _0x186277(_0x345a80,_0x3a6d36,_0x3904e9,_0x3c93db,_0x13f200,_0x1569ea);const _0xe77f15=[{'content':_0x3904e9,'start':0x0,'length':_0x3904e9['length']}];await _0x186277(_0x345a80,_0x3a6d36,_0xe77f15,_0x3c93db,_0x13f200,_0x1569ea);}const _0x8184da=[_0x2d5032(0x86a),_0x2d5032(0x446),_0x2d5032(0x74f),_0x2d5032(0x46e),_0x2d5032(0x877),'.html','.css',_0x2d5032(0x316),_0x2d5032(0x552),_0x2d5032(0x5ec),_0x2d5032(0x118),_0x2d5032(0x77a),_0x2d5032(0x6da),_0x2d5032(0x233),_0x2d5032(0x49f),_0x2d5032(0x565),_0x2d5032(0x366),_0x2d5032(0xa6c),'.php','.java','.c','.cpp',_0x2d5032(0x88d),'.r','.go',_0x2d5032(0xa34),_0x2d5032(0x8a3),'.kt',_0x2d5032(0x87f),'.dart','.pl',_0x2d5032(0x8b5),_0x2d5032(0x87d),_0x2d5032(0x34b),_0x2d5032(0x9ee),_0x2d5032(0x3e7),_0x2d5032(0x49c),_0x2d5032(0x179),_0x2d5032(0x2de),_0x2d5032(0x6d5),_0x2d5032(0x44e),'.m',_0x2d5032(0x572),_0x2d5032(0x502),_0x2d5032(0x2f2),'.jl',_0x2d5032(0x2e6),_0x2d5032(0x4e7),_0x2d5032(0x896),_0x2d5032(0x50a),_0x2d5032(0x388),_0x2d5032(0x5a7),_0x2d5032(0x7e3),_0x2d5032(0x38a),_0x2d5032(0x9fa),_0x2d5032(0x795),'.pug','.liquid','.mustache',_0x2d5032(0x29b),'.twig',_0x2d5032(0xa2c),_0x2d5032(0x6b7)];function _0x1e9990(_0x18b6b4,_0x1ba3cc){const _0x30c90a=_0x2d5032;return _0x1ba3cc[_0x30c90a(0x21f)]('.'+(_0x18b6b4[_0x30c90a(0x93c)]('.')[_0x30c90a(0x379)]()?.[_0x30c90a(0x9cf)]()||''));}async function _0x4f39a5(_0x1fb043,_0x2761ce,_0x2f493e,_0x174a98,_0x4e4b2b,_0x1acbfb){const _0x1d8126=_0x2d5032,_0x49e220=Date[_0x1d8126(0xa45)](),_0x13a154=new Set();let _0x5123bb=0x0;for(const _0x2c6564 of _0x2f493e){if(_0x1d8126(0x823)!=typeof _0x2c6564[_0x1d8126(0x3ab)])throw new Error('Invalid\x20content\x20type');_0x5123bb+=_0x2c6564[_0x1d8126(0x3ab)][_0x1d8126(0x80e)],await _0x34c331(_0x2c6564['content'],_0x13a154,_0x174a98,_0x1acbfb['nlpLibraryConnector']);}await _0x1d5b2d[_0x1d8126(0x131)]({'jobType':_0xf54e14['Ingest'],'type':_0x1bdc05[_0x1d8126(0x1c4)],'jobId':_0x2761ce,'blockId':_0x174a98['id'],'traceLevel':_0xc916ae['Debug'],'startTime':_0x49e220,'timestamp':Date['now'](),'status':'success','contentLength':_0x5123bb,'totalChunks':_0x2f493e instanceof Array?_0x2f493e[_0x1d8126(0x80e)]:0x1,'entitiesExtracted':_0x13a154,'totalEntities':_0x13a154[_0x1d8126(0x279)]}),await _0x186277(_0x1fb043,_0x2761ce,_0x13a154,_0x174a98,_0x4e4b2b,_0x1acbfb);}async function _0x34c331(_0x1e6168,_0x2baf4d,_0x5deb69,_0x186dc0){const _0xaa17df=_0x2d5032,_0x4c02c9=await _0x186dc0['getEntities'](_0x1e6168,{'ner':_0x5deb69[_0xaa17df(0x2fe)][_0xaa17df(0x9dc)],'noun':_0x5deb69['attributes'][_0xaa17df(0x5e2)],'propn':_0x5deb69[_0xaa17df(0x2fe)]['propn'],'verb':_0x5deb69[_0xaa17df(0x2fe)][_0xaa17df(0xf6)]});for(const _0x2a02b5 of _0x4c02c9)_0x2baf4d['add'](_0x2a02b5);}async function _0x52e38e(_0xf4ba3e,_0x2a4cd6,_0x59921a,_0x35af81,_0x5d3737){const _0x42f1a4=_0x2d5032,_0x1cb3d1=Date['now']();if(_0x59921a[_0x42f1a4(0x915)]||(_0x59921a[_0x42f1a4(0x915)]={}),_0x42f1a4(0x823)==typeof _0x2a4cd6?_0x59921a[_0x42f1a4(0x915)]['content']=_0x2a4cd6:_0x2a4cd6 instanceof Set?_0x59921a[_0x42f1a4(0x915)][_0x42f1a4(0x792)]=_0x2a4cd6:_0x2a4cd6 instanceof Map?_0x59921a[_0x42f1a4(0x915)][_0x42f1a4(0x206)]=_0x2a4cd6:_0x2a4cd6 instanceof Array?_0x59921a[_0x42f1a4(0x915)]['index']=_0x2a4cd6:_0x59921a[_0x42f1a4(0x915)][_0x42f1a4(0x511)]=_0x2a4cd6,_0x59921a['timesCalled']=_0x59921a['timesCalled']?_0x59921a[_0x42f1a4(0x64a)]+0x1:0x1,_0x3176a7(_0x59921a,_0x35af81[_0x42f1a4(0x29c)])>_0x59921a[_0x42f1a4(0x64a)])return;if(!(_0x59921a[_0x42f1a4(0x915)][_0x42f1a4(0x792)]&&_0x59921a[_0x42f1a4(0x915)][_0x42f1a4(0x511)]&&_0x59921a[_0x42f1a4(0x915)]['content']&&_0x59921a[_0x42f1a4(0x915)][_0x42f1a4(0x2a7)]))throw new Error(_0x42f1a4(0x5e8));let _0x26844d=0x0;const _0x2459ed=_0x5d3737[_0x42f1a4(0x705)][_0x42f1a4(0x4a7)](_0x59921a['id']);for(const _0x75e2f of _0x59921a['accumulated'][_0x42f1a4(0x792)]){let _0x21cbff=[];_0x21cbff=_0x59921a[_0x42f1a4(0x915)]['index'][_0x42f1a4(0xa9f)](_0x2fd6eb=>_0x42f1a4(0x823)==typeof _0x2fd6eb[_0x42f1a4(0x3ab)]&&_0x2fd6eb[_0x42f1a4(0x3ab)][_0x42f1a4(0x21f)](_0x75e2f));try{_0x2459ed[_0x42f1a4(0x440)](_0x59921a[_0x42f1a4(0x915)][_0x42f1a4(0x511)][_0x42f1a4(0x612)],_0x59921a[_0x42f1a4(0x915)][_0x42f1a4(0x3ab)],_0x21cbff,_0x75e2f),_0x26844d+=0x1;}catch(_0x242d17){}}if(_0x59921a['accumulated']['relations']){for(const [_0x519f1b,_0x33a679]of _0x59921a['accumulated'][_0x42f1a4(0x206)])for(const _0x470e97 of _0x33a679)try{_0x2459ed[_0x42f1a4(0x8f2)](_0x519f1b,_0x470e97);}catch(_0x52f9c8){}await _0x1d5b2d[_0x42f1a4(0x131)]({'jobType':_0xf54e14[_0x42f1a4(0x745)],'type':_0x1bdc05[_0x42f1a4(0x1a3)],'jobId':_0xf4ba3e,'blockId':_0x59921a['id'],'status':_0x42f1a4(0x733),'startTime':_0x1cb3d1,'timestamp':Date['now'](),'traceLevel':_0xc916ae['Debug'],'nodesAdded':_0x26844d,'entities':_0x59921a[_0x42f1a4(0x915)][_0x42f1a4(0x792)],'relations':_0x59921a['accumulated']['relations']});}}async function _0xf27f15(_0x25171a,_0x43672a,_0x370f92,_0xf7cde8,_0x22495b,_0x1cf067){const _0x1e68aa=_0x2d5032,_0x24199b=_0x1cf067[_0x1e68aa(0xaf8)][_0x1e68aa(0x91b)](_0xe81404=>_0xe81404['id']===_0xf7cde8['id']);if(!_0x24199b)throw new Error(_0x1e68aa(0x4af));switch(_0x24199b[_0x1e68aa(0x86f)]){case _0x1a575a['GenerativeAIModelOutputType'][_0x1e68aa(0x2dd)]:if(_0x1e68aa(0x823)!=typeof _0x370f92)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x15ee06,_0x340669,_0x2e74bf,_0x1a2648,_0x5aaa83,_0x50f604,_0x2310fe){const _0x1c8b4d=_0x1e68aa,_0x104930=Date[_0x1c8b4d(0xa45)]();let _0x4fe7d6;const _0x5c9a6c=await fetch(_0x1e75f5['apiUrl']+_0x1c8b4d(0x9df),{'method':_0x1c8b4d(0x8d2),'headers':{'Content-Type':_0x1c8b4d(0x702),'x-vendor-id':_0x15ee06},'body':JSON[_0x1c8b4d(0x8b2)]({'messages':[{'role':_0x1c8b4d(0x712),'content':_0x2e74bf}],'model':_0x1a2648['id']})});_0x4fe7d6=(await _0x5c9a6c['json']())[_0x1c8b4d(0x799)][0x0][_0x1c8b4d(0x249)][_0x1c8b4d(0x3ab)],await _0x1d5b2d[_0x1c8b4d(0x131)]({'jobType':_0xf54e14[_0x1c8b4d(0x745)],'type':_0x1bdc05[_0x1c8b4d(0x69b)],'jobId':_0x340669,'blockId':_0x5aaa83['id'],'traceLevel':_0xc916ae[_0x1c8b4d(0xa83)],'timestamp':Date[_0x1c8b4d(0xa45)](),'startTime':_0x104930,'status':_0x1c8b4d(0x733),'modelName':_0x1a2648['id'],'inputType':_0x1a2648[_0x1c8b4d(0xaab)],'outputType':_0x1a2648[_0x1c8b4d(0x86f)],'content':_0x2e74bf,'results':_0x4fe7d6}),await _0x186277(_0x15ee06,_0x340669,_0x4fe7d6,_0x5aaa83,_0x50f604,_0x2310fe);}(_0x25171a,_0x43672a,_0x370f92,_0x24199b,_0xf7cde8,_0x22495b,_0x1cf067);break;case _0x1a575a[_0x1e68aa(0x674)][_0x1e68aa(0x58a)]:if(!(_0x370f92 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0xc50398,_0x3a059f,_0x5407b2,_0x281dc8,_0x28b40d,_0x416e46,_0x1a1b99){const _0x4f4799=_0x1e68aa,_0x1de380=Date[_0x4f4799(0xa45)](),_0x5123=await fetch(_0x1e75f5['apiUrl']+_0x4f4799(0x1c6),{'method':_0x4f4799(0x8d2),'headers':{'Content-Type':_0x4f4799(0x702),'x-vendor-id':_0xc50398},'body':JSON[_0x4f4799(0x8b2)]({'input':_0x5407b2[_0x4f4799(0x247)](_0x145758=>_0x145758[_0x4f4799(0x3ab)]),'model':_0x281dc8['id']})}),_0x433292=(await _0x5123[_0x4f4799(0x7c9)]())['data'][_0x4f4799(0x247)](_0x3a67f9=>_0x3a67f9[_0x4f4799(0x8d6)]);await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x4f4799(0x745)],'type':_0x1bdc05['ModelVector'],'jobId':_0x3a059f,'blockId':_0x28b40d['id'],'traceLevel':_0xc916ae['Debug'],'timestamp':Date[_0x4f4799(0xa45)](),'startTime':_0x1de380,'status':_0x4f4799(0x733),'modelName':_0x281dc8['id'],'inputType':_0x281dc8['inputType'],'outputType':_0x281dc8[_0x4f4799(0x86f)],'totalVectors':_0x433292['length']}),await _0x186277(_0xc50398,_0x3a059f,_0x433292,_0x28b40d,_0x416e46,_0x1a1b99);}(_0x25171a,_0x43672a,_0x370f92,_0x24199b,_0xf7cde8,_0x22495b,_0x1cf067);}}async function _0x518d18(_0x1c1ec4,_0x41212e,_0x3cebad,_0x7c3e87,_0x577041,_0x551775){const _0x238bc9=_0x2d5032,_0x4a48ea=Date[_0x238bc9(0xa45)]();if(_0x7c3e87[_0x238bc9(0x915)]||(_0x7c3e87['accumulated']={}),_0x3cebad instanceof Array?_0x7c3e87[_0x238bc9(0x915)][_0x238bc9(0x2a7)]=_0x3cebad:_0x7c3e87[_0x238bc9(0x915)][_0x238bc9(0x792)]=_0x3cebad,_0x7c3e87[_0x238bc9(0x64a)]=_0x7c3e87['timesCalled']?_0x7c3e87[_0x238bc9(0x64a)]+0x1:0x1,_0x3176a7(_0x7c3e87,_0x577041[_0x238bc9(0x29c)])>_0x7c3e87[_0x238bc9(0x64a)])return;if(!_0x7c3e87[_0x238bc9(0x915)][_0x238bc9(0x2a7)]||!_0x7c3e87[_0x238bc9(0x915)]['entities'])throw new Error('Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data');const _0xc91a83=new Map();for(const _0x4af54f of _0x7c3e87[_0x238bc9(0x915)][_0x238bc9(0x2a7)]){if(_0x238bc9(0x823)!=typeof _0x4af54f['content'])throw new Error(_0x238bc9(0xfb));_0x2c2d18(_0x4af54f[_0x238bc9(0x3ab)],_0x7c3e87[_0x238bc9(0x915)][_0x238bc9(0x792)],_0xc91a83);}await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x238bc9(0x745)],'type':_0x1bdc05[_0x238bc9(0x67f)],'jobId':_0x41212e,'blockId':_0x7c3e87['id'],'traceLevel':_0xc916ae[_0x238bc9(0xa83)],'timestamp':Date['now'](),'startTime':_0x4a48ea,'status':_0x238bc9(0x733),'entities':_0x7c3e87[_0x238bc9(0x915)][_0x238bc9(0x792)],'relations':_0xc91a83,'totalRelationsExtracted':_0xc91a83[_0x238bc9(0x279)]}),await _0x186277(_0x1c1ec4,_0x41212e,_0xc91a83,_0x7c3e87,_0x577041,_0x551775);}function _0x2c2d18(_0x5bb866,_0x56f06a,_0x1afb7d){const _0x33fc45=_0x2d5032;for(const _0x16dcbf of _0x56f06a)for(const _0x255d25 of _0x56f06a){if(_0x16dcbf===_0x255d25)continue;const _0x258349=_0x5bb866['indexOf'](_0x16dcbf),_0x2d6a77=_0x5bb866['indexOf'](_0x255d25);-0x1!==_0x258349&&-0x1!==_0x2d6a77&&(_0x1afb7d['has'](_0x16dcbf)||_0x1afb7d[_0x33fc45(0x687)](_0x16dcbf,new Set()),_0x1afb7d['get'](_0x16dcbf)['add'](_0x255d25));}return _0x1afb7d;}async function _0x596f8b(_0xc59432,_0x2fc9e7,_0x411a62,_0x542922,_0x5b1dc4,_0x774328){const _0xe19781=_0x2d5032,_0x10233b=Date[_0xe19781(0xa45)]();let _0x48d317=[];if(_0x411a62 instanceof Array)for(const _0x1c2dfc of _0x411a62){if(_0xe19781(0x823)!=typeof _0x1c2dfc['content'])throw new Error(_0xe19781(0xfb));const _0x55165e=await _0x774328[_0xe19781(0x34c)][_0xe19781(0x12a)](_0x1c2dfc[_0xe19781(0x3ab)]);_0x48d317=_0x48d317[_0xe19781(0x37a)](_0x55165e['map'](_0x133b5f=>({'content':_0x133b5f,'start':_0x1c2dfc[_0xe19781(0x7cc)],'length':_0x1c2dfc[_0xe19781(0x80e)]})));}else _0x48d317=(await _0x774328['nlpLibraryConnector'][_0xe19781(0x12a)](_0x411a62))[_0xe19781(0x247)](_0x58faf6=>({'content':_0x58faf6,'start':_0x411a62[_0xe19781(0x776)](_0x58faf6),'length':_0x58faf6[_0xe19781(0x80e)]}));await _0x1d5b2d['trace']({'jobType':_0xf54e14['Ingest'],'type':_0x1bdc05['SentenceSplitter'],'jobId':_0x2fc9e7,'blockId':_0x542922['id'],'traceLevel':_0xc916ae[_0xe19781(0xa83)],'startTime':_0x10233b,'timestamp':Date['now'](),'status':_0xe19781(0x733),'totalSentences':_0x48d317['length'],'averageSentenceLength':_0x48d317[_0xe19781(0xa77)]((_0x4e14fd,_0x51cf5f)=>_0x4e14fd+_0x51cf5f[_0xe19781(0x80e)],0x0)/_0x48d317[_0xe19781(0x80e)]}),await _0x186277(_0xc59432,_0x2fc9e7,_0x48d317,_0x542922,_0x5b1dc4,_0x774328);}async function _0x53647b(_0x38c5b1,_0x274be1,_0x2cf20b){const _0xf4aa66=_0x2d5032;if(0x0===_0x38c5b1['length'])return;const _0x3a1e92=_0x274be1['internalContext']?.[_0xf4aa66(0xa09)]?_0x274be1['internalContext'][_0xf4aa66(0xa09)]['split'](','):[];for(const _0x3fedb0 of _0x38c5b1){if(_0x3fedb0['type'][_0xf4aa66(0x517)](_0xf4aa66(0x59a)))continue;const _0x15f451=await _0x2cf20b[_0xf4aa66(0x4dc)][_0xf4aa66(0x56c)](_0x3fedb0);_0x3a1e92[_0xf4aa66(0x806)](_0x15f451);}_0x274be1[_0xf4aa66(0x7ae)]||(_0x274be1[_0xf4aa66(0x7ae)]={}),_0x274be1[_0xf4aa66(0x7ae)][_0xf4aa66(0xa09)]=_0x3a1e92[_0xf4aa66(0xa9a)](',');}async function _0x48a848(_0x3ef978,_0x3161b4,_0x3d3717){const _0x1f2ef2=_0x2d5032;if(0x0===_0x3ef978[_0x1f2ef2(0x80e)])return;const _0x4bc016=_0x3161b4[_0x1f2ef2(0x7ae)]?.[_0x1f2ef2(0x6e4)]?_0x3161b4[_0x1f2ef2(0x7ae)][_0x1f2ef2(0x6e4)][_0x1f2ef2(0x93c)](','):[];for(const _0x10945d of _0x3ef978){const _0xcc7d08=await _0x10945d['arrayBuffer'](),_0x2f083a=Buffer[_0x1f2ef2(0x8ee)](_0xcc7d08)[_0x1f2ef2(0x656)](_0x1f2ef2(0x866)),_0x305bed=_0x10945d[_0x1f2ef2(0xa7e)];_0x305bed[_0x1f2ef2(0x517)](_0x1f2ef2(0x59a))&&_0x4bc016[_0x1f2ef2(0x806)](_0x305bed+';base64,'+_0x2f083a);}_0x3161b4[_0x1f2ef2(0x7ae)]||(_0x3161b4[_0x1f2ef2(0x7ae)]={}),_0x3161b4[_0x1f2ef2(0x7ae)][_0x1f2ef2(0x6e4)]=_0x4bc016[_0x1f2ef2(0xa9a)]('|');}async function _0x432684(_0x1d40cc,_0x5838b1,_0x5204b4,_0x53ca86,_0x49c355){const _0x2106a6=_0x2d5032,_0x9d18=_0x5838b1['agentId']??(0x0,_0x1fd9e4['v4'])(),_0x29a853=Date[_0x2106a6(0xa45)]();await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x2106a6(0x54d)],'type':_0x4ee363[_0x2106a6(0x3d0)],'jobId':_0x1d40cc,'blockId':_0x5204b4['id'],'agentId':_0x9d18,'threadId':_0x5838b1[_0x2106a6(0x4c9)],'traceLevel':_0xc916ae['Info'],'startTime':Date[_0x2106a6(0xa45)](),'timestamp':Date[_0x2106a6(0xa45)](),'status':_0x2106a6(0x733),'initialPrompt':_0x5838b1[_0x2106a6(0x123)]});const _0x42cec3={'type':_0x2106a6(0x123),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x5838b1[_0x2106a6(0x7ae)]&&(_0x42cec3['internalContext']=_0x5838b1['internalContext']),await _0x50d1df(_0x5838b1,_0x42cec3,_0x5204b4,_0x53ca86,_0x49c355),await _0x361ef1(_0x1d40cc,''+_0x5838b1[_0x2106a6(0x123)],_0x5838b1,_0x42cec3,_0x5204b4,_0x53ca86,_0x49c355);const {inputTokens:_0xff6eb0=0x0,outputTokens:_0x218e74=0x0,context:_0x1d3da9=[]}=_0x42cec3;await _0x1d5b2d[_0x2106a6(0x131)]({'jobType':_0xf54e14['Workflow'],'type':_0x4ee363[_0x2106a6(0x23b)],'jobId':_0x1d40cc,'agentId':_0x9d18,'threadId':_0x5838b1[_0x2106a6(0x4c9)],'traceLevel':_0xc916ae[_0x2106a6(0x753)],'startTime':_0x29a853,'timestamp':Date['now'](),'blockId':_0x5204b4['id'],'status':_0x2106a6(0x733),'output':_0x42cec3[_0x2106a6(0x8ea)]?.[_0x2106a6(0x656)]()??'','prompt':_0x5838b1[_0x2106a6(0x123)],'agentName':'','history':_0x5838b1['history']??[],'instructions':''+(_0x5838b1['instructions']??''),'ragContext':_0x1d3da9,'inputTokens':_0xff6eb0,'outputTokens':_0x218e74});const _0x35038c=_0x53ca86[_0x2106a6(0x91b)](_0x4cc2a4=>_0x4cc2a4[_0x2106a6(0xa7e)]===_0x57cac9[_0x2106a6(0x990)]);return{'type':_0x2106a6(0x123),'output':_0x42cec3[_0x2106a6(0x8ea)],'context':_0x42cec3[_0x2106a6(0x5d7)],'internalContext':_0x42cec3[_0x2106a6(0x7ae)],'resultFile':await _0x35038c?.[_0x2106a6(0x915)]?.[_0x2106a6(0x511)]?.['text']()??void 0x0,'inputTokens':_0x42cec3[_0x2106a6(0xa52)]??0x0,'outputTokens':_0x42cec3['outputTokens']??0x0};}async function*_0x576589(_0x44a690,_0xe98248,_0x328666,_0x218cf9,_0x2067b2){const _0x1cd09b=_0x2d5032,_0x2be12d=_0xe98248[_0x1cd09b(0x396)]??(0x0,_0x1fd9e4['v4'])(),_0x791b6=Date['now']();await _0x1d5b2d[_0x1cd09b(0x131)]({'jobType':_0xf54e14[_0x1cd09b(0x54d)],'type':_0x4ee363[_0x1cd09b(0x3d0)],'jobId':_0x44a690,'agentId':_0x2be12d,'threadId':_0xe98248['threadId'],'traceLevel':_0xc916ae['Info'],'startTime':Date[_0x1cd09b(0xa45)](),'timestamp':Date[_0x1cd09b(0xa45)](),'blockId':_0x328666['id'],'status':_0x1cd09b(0x733),'initialPrompt':_0xe98248[_0x1cd09b(0x123)]});const _0x4d71b5={'type':_0x1cd09b(0x123),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0xe98248[_0x1cd09b(0x7ae)]&&(_0x4d71b5[_0x1cd09b(0x7ae)]=_0xe98248[_0x1cd09b(0x7ae)]);const _0x2687cb=new _0x49e244();await _0x50d1df(_0xe98248,_0x4d71b5,_0x328666,_0x218cf9,_0x2067b2),_0x361ef1(_0x44a690,''+_0xe98248[_0x1cd09b(0x123)],_0xe98248,_0x4d71b5,_0x328666,_0x218cf9,_0x2067b2,_0x2687cb);let _0x56238c='',_0x8ffecb={'type':_0x1cd09b(0x123)};for(;;){const _0x13e8e1=await _0x2687cb['once']();if(!_0x13e8e1)break;_0x56238c+=_0x13e8e1['output'],_0x8ffecb={'type':'prompt','output':_0x13e8e1[_0x1cd09b(0x8ea)],'context':_0x4d71b5[_0x1cd09b(0x5d7)],'resultFile':void 0x0,'inputTokens':(_0x4d71b5[_0x1cd09b(0xa52)]??0x0)+(_0x13e8e1['inputTokens']??0x0),'outputTokens':(_0x4d71b5[_0x1cd09b(0x68b)]??0x0)+(_0x13e8e1[_0x1cd09b(0x68b)]??0x0)},yield _0x8ffecb;}const _0x590d2c=_0x218cf9[_0x1cd09b(0x91b)](_0x1154a4=>_0x1154a4[_0x1cd09b(0xa7e)]===_0x57cac9[_0x1cd09b(0x990)]);yield{..._0x8ffecb,'output':'','internalContext':_0x4d71b5[_0x1cd09b(0x7ae)],'resultFile':await _0x590d2c?.[_0x1cd09b(0x915)]?.[_0x1cd09b(0x511)]?.[_0x1cd09b(0x908)]()??void 0x0};const {inputTokens:_0x5cae89=0x0,outputTokens:_0x47b53c=0x0,context:_0x58c480=[]}=_0x8ffecb;await _0x1d5b2d[_0x1cd09b(0x131)]({'jobType':_0xf54e14[_0x1cd09b(0x54d)],'type':_0x4ee363['FinalOutput'],'jobId':_0x44a690,'agentId':_0x2be12d,'threadId':_0xe98248[_0x1cd09b(0x4c9)],'traceLevel':_0xc916ae[_0x1cd09b(0x753)],'startTime':_0x791b6,'timestamp':Date[_0x1cd09b(0xa45)](),'blockId':_0x328666['id'],'status':'success','output':_0x56238c,'prompt':_0xe98248[_0x1cd09b(0x123)],'agentName':'','history':_0xe98248[_0x1cd09b(0x3a6)]??[],'instructions':''+(_0xe98248[_0x1cd09b(0x79b)]??''),'ragContext':_0x58c480,'inputTokens':_0x5cae89,'outputTokens':_0x47b53c});}async function _0x50d1df(_0x2eed82,_0x5316bd,_0x183cea,_0x5b1c19,_0x29b36a){const _0xa3a29c=_0x2d5032;if(_0x2eed82['files']&&_0x183cea[_0xa3a29c(0x3c3)]){const _0x52145a=[];for(const _0x5a78b4 of _0x2eed82[_0xa3a29c(0xa09)])_0x52145a[_0xa3a29c(0x806)](_0x269dc2(_0x5a78b4));for(const _0x582080 of _0x183cea['links'])if(_0xa3a29c(0x511)===_0x582080[_0xa3a29c(0xa7e)]){const _0x4cb3b3=_0x5b1c19[_0xa3a29c(0x91b)](_0x2c6fa3=>_0x2c6fa3[_0xa3a29c(0x5c0)]===_0x582080[_0xa3a29c(0x5c0)]);if(!_0x4cb3b3)continue;_0x4cb3b3[_0xa3a29c(0xa7e)]===_0x57cac9[_0xa3a29c(0x991)]&&await _0x53647b(_0x52145a,_0x5316bd,_0x29b36a),_0x4cb3b3[_0xa3a29c(0xa7e)]===_0x57cac9['ImageParser']&&await _0x48a848(_0x52145a,_0x5316bd);}}}function _0x269dc2(_0x41eedd){const _0x15d900=_0x2d5032,_0x25ae73=Uint8Array['from'](Buffer[_0x15d900(0x8ee)](_0x41eedd[_0x15d900(0x3ab)],_0x15d900(0x866))),_0xba1a8e=new Blob([_0x25ae73],{'type':_0x41eedd[_0x15d900(0xa7e)]});return new File([_0xba1a8e],_0x41eedd[_0x15d900(0x928)],{'type':_0x41eedd[_0x15d900(0xa7e)]});}function _0x5145c7(_0x2c3cea,_0x411b3e){const _0x2dee0d=_0x2d5032;switch(_0x411b3e[_0x2dee0d(0x394)]){case _0x54a928[_0x2dee0d(0x900)]:return _0x2dee0d(0x191);case _0x54a928[_0x2dee0d(0x8a7)]:return _0x2c3cea;case _0x54a928[_0x2dee0d(0x94d)]:default:return _0x411b3e['id'];}}async function _0x2c4d26(_0x199347,_0x4d3331,_0x1b8929,_0x43e600,_0x5dff65,_0x1a3d47){const _0x50659b=_0x2d5032,_0x2352f3=Date[_0x50659b(0xa45)]();var _0xf40c62;if(_0x43e600[_0x50659b(0x915)]||(_0x43e600[_0x50659b(0x915)]={}),_0x1b8929 instanceof Array?(_0xf40c62=_0x1b8929)[0x0]instanceof Array&&_0x50659b(0x566)==typeof _0xf40c62[0x0]?.[0x0]?_0x43e600[_0x50659b(0x915)]['vectors']=_0x1b8929:_0x43e600['accumulated']['index']=_0x1b8929:_0x50659b(0x823)==typeof _0x1b8929?_0x43e600[_0x50659b(0x915)][_0x50659b(0x3ab)]=_0x1b8929:_0x43e600[_0x50659b(0x915)][_0x50659b(0x511)]=_0x1b8929,_0x43e600[_0x50659b(0x64a)]=_0x43e600[_0x50659b(0x64a)]?_0x43e600[_0x50659b(0x64a)]+0x1:0x1,!(_0x3176a7(_0x43e600,_0x5dff65[_0x50659b(0x29c)])>_0x43e600['timesCalled'])){if(_0x50659b(0x756)===_0x43e600['id']){if(!_0x43e600[_0x50659b(0x915)][_0x50659b(0x2a7)]||!_0x43e600['accumulated'][_0x50659b(0x480)]||!_0x43e600[_0x50659b(0x915)][_0x50659b(0x511)])throw new Error(_0x50659b(0x2d3));if(!_0x1a3d47['ragConnector'])throw new Error(_0x50659b(0x458));const _0x5b152e=[];for(let _0x143d7d=0x0;_0x143d7d<_0x43e600[_0x50659b(0x915)]['index'][_0x50659b(0x80e)];_0x143d7d++){const _0x732430=_0x43e600[_0x50659b(0x915)][_0x50659b(0x480)][_0x143d7d],_0xce4eb6=_0x43e600['accumulated'][_0x50659b(0x2a7)][_0x143d7d];_0x5b152e[_0x50659b(0x806)]({'content':_0x732430,'start':_0xce4eb6['start'],'length':_0xce4eb6[_0x50659b(0x80e)]});}const _0xd1f262=_0x5145c7(_0x199347,_0x5dff65);await _0x1a3d47[_0x50659b(0x5cc)][_0x50659b(0x9c9)](_0xd1f262,_0x5dff65['id'],_0x43e600[_0x50659b(0x915)][_0x50659b(0x511)][_0x50659b(0x612)],_0x5b152e);}else{if(!(_0x43e600[_0x50659b(0x915)][_0x50659b(0x3ab)]&&_0x43e600[_0x50659b(0x915)][_0x50659b(0x2a7)]&&_0x43e600['accumulated'][_0x50659b(0x480)]&&_0x43e600[_0x50659b(0x915)]['file']))throw new Error(_0x50659b(0x2d3));const _0x1aeb04=_0x1a3d47[_0x50659b(0x705)][_0x50659b(0x42a)](_0x43e600['id']);_0x1aeb04[_0x50659b(0x859)](_0x43e600[_0x50659b(0x915)][_0x50659b(0x511)]['pathName'],_0x43e600[_0x50659b(0x915)]['content'],_0x43e600['accumulated'][_0x50659b(0x2a7)],_0x43e600[_0x50659b(0x915)][_0x50659b(0x480)]),await _0x1d5b2d[_0x50659b(0x131)]({'jobType':_0xf54e14[_0x50659b(0x745)],'type':_0x1bdc05[_0x50659b(0x571)],'jobId':_0x4d3331,'blockId':_0x43e600['id'],'traceLevel':_0xc916ae[_0x50659b(0xa83)],'startTime':_0x2352f3,'timestamp':Date[_0x50659b(0xa45)](),'status':_0x50659b(0x733),'databaseName':_0x1aeb04['getName'](),'vectorsAdded':_0x43e600['accumulated']['vectors'][_0x50659b(0x80e)],'filePathName':_0x43e600[_0x50659b(0x915)]['file'][_0x50659b(0x612)]});}}}async function _0x4a2d64(_0x5df95e,_0x5c2ffb,_0x3790e9,_0x565259,_0x2b0a43,_0x2b9d6c){const _0x52f5e9=_0x2d5032,_0x3ffbe3=Date[_0x52f5e9(0xa45)]();let _0xf894c=[];if(_0x3790e9 instanceof Array)for(const _0x132436 of _0x3790e9){if(_0x52f5e9(0x823)!=typeof _0x132436[_0x52f5e9(0x3ab)])throw new Error('Invalid\x20content\x20type');_0xf894c=_0xf894c[_0x52f5e9(0x37a)](_0x19dbe2(_0x132436[_0x52f5e9(0x3ab)],_0x565259,_0x132436[_0x52f5e9(0x7cc)],_0x132436[_0x52f5e9(0x80e)]));}else _0xf894c=_0x19dbe2(_0x3790e9,_0x565259);await _0x1d5b2d[_0x52f5e9(0x131)]({'jobType':_0xf54e14['Ingest'],'type':_0x1bdc05[_0x52f5e9(0x2ba)],'jobId':_0x5c2ffb,'traceLevel':_0xc916ae['Debug'],'blockId':_0x565259['id'],'startTime':_0x3ffbe3,'timestamp':Date[_0x52f5e9(0xa45)](),'status':_0x52f5e9(0x733),'totalChunks':_0xf894c['length'],'averageChunkLength':_0xf894c[_0x52f5e9(0xa77)]((_0xe00625,_0x2cc4ae)=>_0xe00625+_0x2cc4ae[_0x52f5e9(0x80e)],0x0)/_0xf894c[_0x52f5e9(0x80e)]}),await _0x186277(_0x5df95e,_0x5c2ffb,_0xf894c,_0x565259,_0x2b0a43,_0x2b9d6c);}function _0x19dbe2(_0x59da98,_0x98afbd,_0x7e4c22,_0x1f7ea9){const _0x5be3a3=_0x2d5032,_0x31ba92=[],_0x1ac048=_0x59da98['split']('\x20');let _0x2118cf='',_0x5d95cc=-0x1,_0xd661ae=0x0,_0x405832=0x0;for(const _0x501d0b of _0x1ac048){if(_0x2118cf[_0x5be3a3(0x80e)]+_0x501d0b['length']>_0x98afbd[_0x5be3a3(0x2fe)][_0x5be3a3(0x279)]){const _0x2d849d=_0x2118cf[_0x5be3a3(0x80e)];let _0x43e07c=_0x5d95cc,_0x4f058d='';for(;_0x43e07c>=0x0&&_0x4f058d[_0x5be3a3(0x80e)]+_0x1ac048[_0x43e07c][_0x5be3a3(0x80e)]<_0x98afbd[_0x5be3a3(0x2fe)]['overlap'];)_0x4f058d=_0x1ac048[_0x43e07c]+'\x20'+_0x4f058d,_0x43e07c--;let _0x5626e1=_0xd661ae,_0x351adc='';for(;_0x5626e1<_0x1ac048[_0x5be3a3(0x80e)]&&_0x351adc['length']+_0x1ac048[_0x5626e1][_0x5be3a3(0x80e)]<_0x98afbd['attributes']['overlap'];)_0x351adc+=_0x1ac048[_0x5626e1]+'\x20',_0x5626e1++;_0x2118cf=_0x4f058d+_0x2118cf+_0x351adc,_0x31ba92['push']({'content':_0x2118cf[_0x5be3a3(0x4c0)](),'start':_0x7e4c22??_0x405832,'length':_0x1f7ea9??_0x2d849d}),_0x2118cf='',_0x5d95cc=_0xd661ae-0x1,_0x405832+=_0x2d849d;}_0x2118cf+=_0x501d0b+'\x20',_0xd661ae++;}if(_0x2118cf['length']>0x0){const _0x517a23=_0x2118cf['length'];let _0x5f0443=_0x5d95cc,_0x2a6bca='';for(;_0x5f0443>=0x0&&_0x2a6bca[_0x5be3a3(0x80e)]+_0x1ac048[_0x5f0443][_0x5be3a3(0x80e)]<_0x98afbd[_0x5be3a3(0x2fe)][_0x5be3a3(0x913)];)_0x2a6bca=_0x1ac048[_0x5f0443]+'\x20'+_0x2a6bca,_0x5f0443--;_0x2118cf=_0x2a6bca+_0x2118cf,_0x31ba92[_0x5be3a3(0x806)]({'content':_0x2118cf['trim'](),'start':_0x7e4c22??_0x405832,'length':_0x1f7ea9??_0x517a23});}return _0x31ba92;}async function _0x186277(_0x596bae,_0x1187db,_0x32fd74,_0x1615e5,_0x791a34,_0x2d0f45){const _0x4ec926=_0x2d5032;for(const _0x4584af of _0x1615e5[_0x4ec926(0x3c3)]||[]){const _0x11994c=_0x791a34[_0x4ec926(0x29c)][_0x4ec926(0x91b)](_0xd86553=>_0xd86553[_0x4ec926(0x5c0)]===_0x4584af['uid']);if(_0x11994c)switch(_0x11994c[_0x4ec926(0xa7e)]){case _0x3776b8['Agent']:_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49['Text']&&_0x4ec926(0x823)==typeof _0x32fd74&&await _0x5a2090(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);break;case _0x3776b8[_0x4ec926(0x24d)]:_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0x2dd)]&&'string'==typeof _0x32fd74&&await _0x1aeebb(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af['type']===_0x4f0d49[_0x4ec926(0xabe)]&&_0x32fd74 instanceof Array&&await _0x1aeebb(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);break;case _0x3776b8[_0x4ec926(0x991)]:_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49['File']&&await _0x39f600(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);break;case _0x3776b8[_0x4ec926(0x433)]:if(_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0xabe)]&&_0x32fd74 instanceof Array){if(!_0x791a34['modelId'])throw new Error(_0x4ec926(0x276));const _0x2a66da={'type':_0x3776b8['Model'],'id':_0x791a34[_0x4ec926(0x24a)],'uid':(0x0,_0x1fd9e4['v4'])(),'links':_0x11994c[_0x4ec926(0x3c3)]};await _0xf27f15(_0x596bae,_0x1187db,_0x32fd74,_0x2a66da,_0x791a34,_0x2d0f45);}break;case _0x3776b8[_0x4ec926(0x1c4)]:_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49['Index']&&_0x32fd74 instanceof Array&&await _0x4f39a5(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);break;case _0x3776b8['GraphDatabase']:_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0x2dd)]&&_0x4ec926(0x823)==typeof _0x32fd74&&await _0x52e38e(_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af['type']===_0x4f0d49['Index']&&_0x32fd74 instanceof Array&&await _0x52e38e(_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0x27a)]&&_0x32fd74 instanceof Set&&await _0x52e38e(_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0x90b)]&&_0x32fd74 instanceof Map&&await _0x52e38e(_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0x19b)]&&await _0x52e38e(_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);break;case _0x3776b8[_0x4ec926(0x958)]:_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0x2dd)]&&_0x4ec926(0x823)==typeof _0x32fd74&&await _0xf27f15(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0xabe)]&&_0x32fd74 instanceof Array&&await _0xf27f15(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);break;case _0x3776b8['RelationExtractor']:_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49['Index']&&_0x32fd74 instanceof Array&&await _0x518d18(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49['Entity']&&_0x32fd74 instanceof Set&&await _0x518d18(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);break;case _0x3776b8['SentenceSplitter']:_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0x2dd)]&&_0x4ec926(0x823)==typeof _0x32fd74&&await _0x596f8b(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0xabe)]&&_0x32fd74 instanceof Array&&await _0x596f8b(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);break;case _0x3776b8[_0x4ec926(0x571)]:_0x4584af['type']===_0x4f0d49[_0x4ec926(0x2dd)]&&_0x4ec926(0x823)==typeof _0x32fd74&&await _0x2c4d26(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af['type']===_0x4f0d49['Index']&&_0x32fd74 instanceof Array&&await _0x2c4d26(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af['type']===_0x4f0d49[_0x4ec926(0x58a)]&&_0x32fd74 instanceof Array&&await _0x2c4d26(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af['type']===_0x4f0d49[_0x4ec926(0x19b)]&&await _0x2c4d26(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);break;case _0x3776b8['WordSplitter']:_0x4584af['type']===_0x4f0d49[_0x4ec926(0x2dd)]&&_0x4ec926(0x823)==typeof _0x32fd74&&await _0x4a2d64(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45),_0x4584af[_0x4ec926(0xa7e)]===_0x4f0d49[_0x4ec926(0xabe)]&&_0x32fd74 instanceof Array&&await _0x4a2d64(_0x596bae,_0x1187db,_0x32fd74,_0x11994c,_0x791a34,_0x2d0f45);}}}function _0x3176a7(_0x71dbb2,_0x5632f0){const _0x332067=_0x2d5032;return _0x5632f0[_0x332067(0xa9f)](_0x48c1e2=>_0x48c1e2[_0x332067(0x3c3)]?.[_0x332067(0x4f0)](_0x1e6d1f=>_0x1e6d1f[_0x332067(0x5c0)]===_0x71dbb2['uid']))[_0x332067(0x80e)];}async function _0x8acda5(_0x2c7d3d,_0x2702ae,_0x27af5d,_0x22fa80,_0x1c03d4,_0x479147,_0x27ac82){const _0x3ecf19=_0x2d5032;try{let _0x356a76;switch(_0x1c03d4[_0x3ecf19(0xa7e)]){case _0x3776b8[_0x3ecf19(0x33d)]:const _0x55d9ec=_0x27ac82[_0x3ecf19(0x705)][_0x3ecf19(0x524)](_0x1c03d4['id']);_0x356a76=await _0x55d9ec[_0x3ecf19(0x13f)](_0x27af5d);break;case _0x3776b8[_0x3ecf19(0x831)]:const _0x459920=_0x27ac82[_0x3ecf19(0x705)]['getExternalStorageConnection'](_0x1c03d4['id']);_0x356a76=await _0x459920[_0x3ecf19(0x13f)](_0x27af5d);case _0x3776b8[_0x3ecf19(0x228)]:const _0x31c9f0=_0x27af5d[_0x3ecf19(0x93c)]('/')[_0x3ecf19(0x379)]();if(!_0x31c9f0)throw new Error(_0x3ecf19(0x53b));const _0x345ae8=_0x27af5d[_0x3ecf19(0x9b8)](_0x31c9f0,''),_0x43f3de=Buffer[_0x3ecf19(0x8ee)](_0x22fa80,_0x3ecf19(0x866));if(_0x356a76=new File([_0x43f3de],_0x31c9f0),!_0x27ac82['objectStoreConnector'])throw new Error(_0x3ecf19(0x7bb));await _0x27ac82['objectStoreConnector'][_0x3ecf19(0x56c)](_0x356a76,_0x345ae8);}if(!_0x356a76)throw new Error(_0x3ecf19(0x45b));await _0x186277(_0x2c7d3d,_0x2702ae,{'file':_0x356a76,'pathName':_0x27af5d},_0x1c03d4,structuredClone(_0x479147),_0x27ac82);}catch(_0x27dc77){console[_0x3ecf19(0x275)](_0x3ecf19(0x916),_0x27dc77);}}async function _0x3d00ec(_0x35fb97,_0x286fa7,_0x252328,_0x5a154e,_0x2671a5,_0x24021f,_0x430210,_0x273da3){const _0x33a966=_0x2d5032,_0x233fb8=Date[_0x33a966(0xa45)](),_0x216e28=new Set();if(_0x5a154e instanceof Array){for(const _0x28de3d of _0x5a154e)await _0x4a6182(_0x28de3d[_0x33a966(0x3ab)],_0x24021f,_0x216e28,_0x273da3[_0x33a966(0x34c)]);}else await _0x4a6182(_0x5a154e,_0x24021f,_0x216e28,_0x273da3[_0x33a966(0x34c)]);await _0x1d5b2d[_0x33a966(0x131)]({'jobType':_0xf54e14[_0x33a966(0x369)],'type':_0x27f24a['EntityExtractor'],'jobId':_0x286fa7,'threadId':_0x252328,'blockId':_0x24021f['id'],'traceLevel':_0xc916ae[_0x33a966(0xa83)],'startTime':_0x233fb8,'timestamp':Date[_0x33a966(0xa45)](),'status':_0x33a966(0x733),'content':_0x5a154e,'entitiesExtracted':Array[_0x33a966(0x8ee)](_0x216e28),'totalEntities':_0x216e28[_0x33a966(0x279)]}),await _0x1b11da(_0x35fb97,_0x286fa7,_0x252328,_0x216e28,_0x2671a5,_0x24021f,_0x430210,_0x273da3);}async function _0x4a6182(_0x1b10e9,_0x2c89e8,_0x282614,_0x4b949f){const _0x28b067=_0x2d5032,_0x36fea4=await _0x4b949f['getEntities'](_0x1b10e9,{'ner':_0x2c89e8[_0x28b067(0x2fe)][_0x28b067(0x9dc)],'noun':_0x2c89e8[_0x28b067(0x2fe)]['noun'],'propn':_0x2c89e8['attributes'][_0x28b067(0x3af)],'verb':_0x2c89e8[_0x28b067(0x2fe)][_0x28b067(0xf6)]});for(const _0x45f006 of _0x36fea4)_0x282614[_0x28b067(0x5e6)](_0x45f006);}async function _0x144061(_0x30b80e,_0x14d6c4,_0x42831b,_0x3e3700,_0x2f3ecb,_0x5b5ec7,_0x36c773,_0x3259e9){const _0x4b9db0=_0x2d5032,_0x499765=Date[_0x4b9db0(0xa45)]();if(_0x5b5ec7['accumulated']||(_0x5b5ec7[_0x4b9db0(0x915)]={}),_0x3e3700 instanceof Array?(_0x5b5ec7['accumulated'][_0x4b9db0(0x72c)]||(_0x5b5ec7[_0x4b9db0(0x915)][_0x4b9db0(0x72c)]=[]),_0x5b5ec7['accumulated'][_0x4b9db0(0x72c)][_0x4b9db0(0x806)](..._0x3e3700)):_0x3e3700 instanceof Set?_0x5b5ec7[_0x4b9db0(0x915)][_0x4b9db0(0x792)]=_0x3e3700:_0x5b5ec7['accumulated'][_0x4b9db0(0x123)]=_0x3e3700,_0x5b5ec7['timesCalled']=_0x5b5ec7[_0x4b9db0(0x64a)]?_0x5b5ec7[_0x4b9db0(0x64a)]+0x1:0x1,_0x1969d4(_0x5b5ec7,_0x36c773[_0x4b9db0(0xa25)])>_0x5b5ec7['timesCalled'])return;if(!_0x5b5ec7['accumulated'][_0x4b9db0(0x123)]&&!_0x5b5ec7[_0x4b9db0(0x915)][_0x4b9db0(0x72c)]||!_0x5b5ec7['accumulated'][_0x4b9db0(0x792)])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x5c3351=_0x3259e9['contentMediator'][_0x4b9db0(0x4a7)](_0x5b5ec7['id'])[_0x4b9db0(0x645)](Array[_0x4b9db0(0x8ee)](_0x5b5ec7[_0x4b9db0(0x915)][_0x4b9db0(0x792)]),_0x5b5ec7[_0x4b9db0(0x2fe)][_0x4b9db0(0xa04)],_0x5b5ec7[_0x4b9db0(0x2fe)][_0x4b9db0(0x9e7)]);let _0xc9b9fc=[];for(const _0x2451d4 in _0x5c3351){const _0x130c4f=_0x5c3351[_0x2451d4];for(const _0x19b7e9 of _0x130c4f){let _0x22a240=0x0;if(_0x5b5ec7['accumulated']['prompt']&&(_0x22a240=await _0x3259e9['nlpLibraryConnector'][_0x4b9db0(0x655)](_0x5b5ec7[_0x4b9db0(0x915)][_0x4b9db0(0x123)],_0x19b7e9)),_0x5b5ec7[_0x4b9db0(0x915)][_0x4b9db0(0x72c)]){for(const _0x57bdbb of _0x5b5ec7[_0x4b9db0(0x915)][_0x4b9db0(0x72c)])_0x22a240=Math['max'](_0x22a240,await _0x3259e9['nlpLibraryConnector'][_0x4b9db0(0x655)](_0x57bdbb[_0x4b9db0(0x3ab)],_0x19b7e9));}_0x22a240<_0x5b5ec7[_0x4b9db0(0x2fe)]['minRelevance']||_0xc9b9fc[_0x4b9db0(0x806)]({'content':_0x19b7e9,'relevance':_0x22a240,'pathName':_0x2451d4});}}_0xc9b9fc=_0xc9b9fc[_0x4b9db0(0x508)]((_0x480eb0,_0x3cb416)=>_0x3cb416[_0x4b9db0(0x892)]-_0x480eb0[_0x4b9db0(0x892)])[_0x4b9db0(0xa3e)](0x0,_0x5b5ec7['attributes']['topK']),await _0x1d5b2d[_0x4b9db0(0x131)]({'jobType':_0xf54e14['Retrieve'],'type':_0x27f24a[_0x4b9db0(0x701)],'jobId':_0x14d6c4,'threadId':_0x42831b,'blockId':_0x5b5ec7['id'],'traceLevel':_0xc916ae[_0x4b9db0(0xa83)],'timestamp':Date['now'](),'startTime':_0x499765,'status':_0x4b9db0(0x733),'content':_0x3e3700,'topResults':_0xc9b9fc,'numResults':_0xc9b9fc['length']}),await _0x1b11da(_0x30b80e,_0x14d6c4,_0x42831b,_0xc9b9fc,_0x2f3ecb,_0x5b5ec7,_0x36c773,_0x3259e9);}async function _0x2d40c2(_0x4817c0,_0x370e27,_0x331761,_0x8d60b1,_0x33dfc8,_0x11ff35,_0x39f396,_0x3877e1){const _0xdd16c6=_0x2d5032,_0x17d7d8=_0x3877e1[_0xdd16c6(0xaf8)][_0xdd16c6(0x91b)](_0x87f2c4=>_0x87f2c4['id']===_0x11ff35['id']);if(!_0x17d7d8)throw new Error(_0xdd16c6(0x4af));let _0x32795e='';switch(_0x32795e=_0x8d60b1 instanceof Array?_0x8d60b1[_0xdd16c6(0x247)](_0x10a0c4=>_0x10a0c4[_0xdd16c6(0x3ab)])[_0xdd16c6(0xa9a)](',\x20'):_0x8d60b1,_0x17d7d8[_0xdd16c6(0x86f)]){case _0x1a575a[_0xdd16c6(0x674)]['Text']:await async function(_0x4c3216,_0x5e9051,_0x41df4c,_0x46a9b1,_0x466ff1,_0x43bfcf,_0x2347f9,_0xfa717b,_0x207f99){const _0x2583df=_0xdd16c6,_0x55fc9f=Date[_0x2583df(0xa45)](),_0x156d9f=await fetch(_0x1e75f5['apiUrl']+'/chat/completions',{'method':_0x2583df(0x8d2),'headers':{'Content-Type':_0x2583df(0x702),'x-vendor-id':_0x4c3216},'body':JSON[_0x2583df(0x8b2)]({'messages':[{'role':_0x2583df(0x712),'content':_0x46a9b1}],'model':_0x43bfcf['id']})}),_0x1062ed=(await _0x156d9f[_0x2583df(0x7c9)]())[_0x2583df(0x799)][0x0]['message'][_0x2583df(0x3ab)];await _0x1d5b2d[_0x2583df(0x131)]({'jobType':_0xf54e14['Retrieve'],'type':_0x27f24a[_0x2583df(0x69b)],'jobId':_0x5e9051,'threadId':_0x41df4c,'blockId':_0x2347f9['id'],'traceLevel':_0xc916ae[_0x2583df(0xa83)],'startTime':_0x55fc9f,'timestamp':Date['now'](),'status':_0x2583df(0x733),'modelName':_0x43bfcf['id'],'content':_0x46a9b1,'newPrompt':_0x1062ed,'inputType':_0x43bfcf[_0x2583df(0xaab)],'outputType':_0x43bfcf[_0x2583df(0x86f)]}),await _0x1b11da(_0x4c3216,_0x5e9051,_0x41df4c,_0x1062ed,_0x466ff1,_0x2347f9,_0xfa717b,_0x207f99);}(_0x4817c0,_0x370e27,_0x331761,_0x32795e,_0x33dfc8,_0x17d7d8,_0x11ff35,_0x39f396,_0x3877e1);break;case _0x1a575a['GenerativeAIModelOutputType'][_0xdd16c6(0x58a)]:await async function(_0x157606,_0x4e55ba,_0x4bf0d6,_0x265645,_0x1c58e4,_0x23be2d,_0x8725d0,_0xbbdd8f,_0x456a73){const _0x3475b9=_0xdd16c6,_0x18b41e=Date[_0x3475b9(0xa45)](),_0x5f0fb4=await fetch(_0x1e75f5[_0x3475b9(0x742)]+_0x3475b9(0x1c6),{'method':_0x3475b9(0x8d2),'headers':{'Content-Type':_0x3475b9(0x702),'x-vendor-id':_0x157606},'body':JSON[_0x3475b9(0x8b2)]({'input':_0x265645,'model':_0x23be2d['id']})}),_0x2679a5=(await _0x5f0fb4[_0x3475b9(0x7c9)]())[_0x3475b9(0x906)][0x0][_0x3475b9(0x8d6)];await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0x3475b9(0x369)],'type':_0x27f24a[_0x3475b9(0x3c4)],'jobId':_0x4e55ba,'threadId':_0x4bf0d6,'blockId':_0x8725d0['id'],'traceLevel':_0xc916ae[_0x3475b9(0xa83)],'startTime':_0x18b41e,'timestamp':Date[_0x3475b9(0xa45)](),'status':_0x3475b9(0x733),'modelName':_0x23be2d['id'],'content':_0x265645,'totalVectors':_0x2679a5[_0x3475b9(0x80e)]}),await _0x1b11da(_0x157606,_0x4e55ba,_0x4bf0d6,_0x2679a5,_0x1c58e4,_0x8725d0,_0xbbdd8f,_0x456a73);}(_0x4817c0,_0x370e27,_0x331761,_0x32795e,_0x33dfc8,_0x17d7d8,_0x11ff35,_0x39f396,_0x3877e1);}}async function _0x583326(_0x499f0d,_0x4db481,_0x361fa9,_0x51c8cc,_0x3a4f77,_0x345753,_0x1d5834,_0x198271){const _0x2535bb=_0x2d5032,_0x42a382=Date[_0x2535bb(0xa45)]();if(_0x345753[_0x2535bb(0x915)]||(_0x345753[_0x2535bb(0x915)]={}),_0x51c8cc instanceof Array?(_0x345753[_0x2535bb(0x915)][_0x2535bb(0x72c)]||(_0x345753[_0x2535bb(0x915)][_0x2535bb(0x72c)]=[]),_0x345753[_0x2535bb(0x915)][_0x2535bb(0x72c)][_0x2535bb(0x806)](..._0x51c8cc)):_0x345753['accumulated'][_0x2535bb(0x123)]=_0x51c8cc,_0x345753[_0x2535bb(0x64a)]=_0x345753[_0x2535bb(0x64a)]?_0x345753[_0x2535bb(0x64a)]+0x1:0x1,_0x1969d4(_0x345753,_0x1d5834[_0x2535bb(0xa25)])>_0x345753['timesCalled'])return;if(!_0x345753['accumulated']['prompt']||!_0x345753[_0x2535bb(0x915)][_0x2535bb(0x72c)])throw new Error(_0x2535bb(0xabd));for(const _0x3bce07 of _0x345753[_0x2535bb(0x915)][_0x2535bb(0x72c)])_0x3bce07[_0x2535bb(0x892)]=await _0x198271['nlpLibraryConnector'][_0x2535bb(0x655)](_0x345753['accumulated'][_0x2535bb(0x123)],_0x3bce07[_0x2535bb(0x3ab)]);const _0x3042ac=_0x345753[_0x2535bb(0x915)][_0x2535bb(0x72c)][_0x2535bb(0xa9f)](_0x539a71=>_0x539a71[_0x2535bb(0x892)]>_0x345753['attributes'][_0x2535bb(0x456)])[_0x2535bb(0x508)]((_0x135e84,_0x3de78a)=>_0x3de78a['relevance']-_0x135e84[_0x2535bb(0x892)])[_0x2535bb(0xa3e)](0x0,_0x345753['attributes'][_0x2535bb(0x696)]);await _0x1d5b2d[_0x2535bb(0x131)]({'jobType':_0xf54e14[_0x2535bb(0x369)],'type':_0x27f24a[_0x2535bb(0x21b)],'jobId':_0x4db481,'threadId':_0x361fa9,'blockId':_0x345753['id'],'traceLevel':_0xc916ae[_0x2535bb(0xa83)],'startTime':_0x42a382,'timestamp':Date[_0x2535bb(0xa45)](),'status':_0x2535bb(0x733),'inputResults':_0x345753[_0x2535bb(0x915)][_0x2535bb(0x72c)],'rerankedResults':_0x3042ac}),await _0x1b11da(_0x499f0d,_0x4db481,_0x361fa9,_0x3042ac,_0x3a4f77,_0x345753,_0x1d5834,_0x198271);}async function _0xe19d08(_0x5ab0ba,_0xc9ee40,_0x55db3f,_0x2e6ce8,_0x28d970,_0x2f8960,_0x549949,_0x5ec8b0){const _0x3ccb45=_0x2d5032,_0x2e8cc9=Date['now']();if(_0x2f8960[_0x3ccb45(0x915)]||(_0x2f8960['accumulated']={}),_0x2e6ce8 instanceof Array?_0x2f8960[_0x3ccb45(0x915)][_0x3ccb45(0x204)]=_0x2e6ce8:_0x2f8960[_0x3ccb45(0x915)][_0x3ccb45(0x3ab)]=_0x2e6ce8,_0x2f8960[_0x3ccb45(0x64a)]=_0x2f8960[_0x3ccb45(0x64a)]?_0x2f8960[_0x3ccb45(0x64a)]+0x1:0x1,!(_0x1969d4(_0x2f8960,_0x549949[_0x3ccb45(0xa25)])>_0x2f8960[_0x3ccb45(0x64a)])){if(_0x3ccb45(0x756)===_0x2f8960['id']){if(!_0x2f8960[_0x3ccb45(0x915)][_0x3ccb45(0x204)])throw new Error(_0x3ccb45(0x2d3));if(!_0x5ec8b0['ragConnector'])throw new Error('RAG\x20connector\x20is\x20not\x20available');const _0xbe5692=_0x5145c7(_0x5ab0ba,_0x549949);let _0x53c824=await _0x5ec8b0[_0x3ccb45(0x5cc)]?.[_0x3ccb45(0x980)](_0xbe5692,_0x549949['id'],_0x2f8960[_0x3ccb45(0x915)][_0x3ccb45(0x204)],_0x2f8960[_0x3ccb45(0x2fe)][_0x3ccb45(0x696)]);_0x53c824=_0x53c824[_0x3ccb45(0xa9f)](_0x362689=>_0x362689[_0x3ccb45(0x892)]>_0x2f8960[_0x3ccb45(0x2fe)][_0x3ccb45(0x456)])||[];const _0x1ab4ad=[];for(const _0x1eb075 of _0x53c824){if(!_0x5ec8b0[_0x3ccb45(0x454)])throw new Error(_0x3ccb45(0x5e3));if(void 0x0===_0x1eb075['start']||void 0x0===_0x1eb075['length'])throw new Error('Missing\x20index');const _0x3db607=await _0x5ec8b0['objectStoreConnector']['get'](_0x1eb075['pathName']);let _0x5d4685='';if(_0x3db607[_0x3ccb45(0xa7e)][_0x3ccb45(0x517)](_0x3ccb45(0x506))||_0x1e9990(_0x3db607[_0x3ccb45(0x928)],_0x8184da))_0x5d4685=await _0x3db607[_0x3ccb45(0x908)]();else{if(!_0x5ec8b0[_0x3ccb45(0xa12)][_0x3ccb45(0x9ba)](_0x3db607))throw new Error(_0x3ccb45(0x382)+_0x3db607['type']+_0x3ccb45(0x620)+_0x3db607[_0x3ccb45(0x928)]);_0x5d4685=await _0x5ec8b0[_0x3ccb45(0xa12)][_0x3ccb45(0x6c6)](_0x3db607);}_0x1ab4ad['push']({'pathName':_0x1eb075[_0x3ccb45(0x612)],'content':_0x5d4685[_0x3ccb45(0x5b6)](_0x1eb075[_0x3ccb45(0x7cc)],_0x1eb075[_0x3ccb45(0x7cc)]+_0x1eb075['length']),'relevance':_0x1eb075[_0x3ccb45(0x892)]});}await _0x1b11da(_0x5ab0ba,_0xc9ee40,_0x55db3f,_0x1ab4ad,_0x28d970,_0x2f8960,_0x549949,_0x5ec8b0);}else{if(!_0x2f8960[_0x3ccb45(0x915)][_0x3ccb45(0x204)]||!_0x2f8960['accumulated'][_0x3ccb45(0x3ab)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x288e2f=await _0x5ec8b0[_0x3ccb45(0x34c)][_0x3ccb45(0x2f1)](_0x2f8960['accumulated'][_0x3ccb45(0x3ab)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x20523a=_0x5ec8b0[_0x3ccb45(0x705)][_0x3ccb45(0x42a)](_0x2f8960['id'])[_0x3ccb45(0xa63)](_0x288e2f,_0x2f8960['accumulated'][_0x3ccb45(0x204)],_0x2f8960[_0x3ccb45(0x2fe)]['topK'],_0x2f8960[_0x3ccb45(0x2fe)][_0x3ccb45(0x456)],_0x2f8960[_0x3ccb45(0x2fe)][_0x3ccb45(0x9e7)]);await _0x1d5b2d[_0x3ccb45(0x131)]({'jobType':_0xf54e14[_0x3ccb45(0x369)],'type':_0x27f24a[_0x3ccb45(0x93f)],'jobId':_0xc9ee40,'threadId':_0x55db3f,'blockId':_0x2f8960['id'],'traceLevel':_0xc916ae[_0x3ccb45(0xa83)],'startTime':_0x2e8cc9,'timestamp':Date['now'](),'status':_0x3ccb45(0x733),'topResults':_0x20523a,'numResults':_0x20523a[_0x3ccb45(0x80e)]}),await _0x1b11da(_0x5ab0ba,_0xc9ee40,_0x55db3f,_0x20523a,_0x28d970,_0x2f8960,_0x549949,_0x5ec8b0);}}}async function _0x1b11da(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x423dd6,_0x35ef73,_0x4ad965){const _0x1c9b21=_0x2d5032;for(const _0xec932c of _0x423dd6['links']||[]){const _0x37f553=_0x35ef73[_0x1c9b21(0xa25)][_0x1c9b21(0x91b)](_0x517924=>_0x517924[_0x1c9b21(0x5c0)]===_0xec932c['uid']);if(_0x37f553)switch(_0x37f553[_0x1c9b21(0xa7e)]){case _0x3776b8[_0x1c9b21(0x347)]:_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49[_0x1c9b21(0xa1f)]&&_0x298adf instanceof Array&&_0x1b42a9[_0x1c9b21(0x5d7)][_0x1c9b21(0x806)](..._0x298adf);break;case _0x3776b8[_0x1c9b21(0x433)]:if(_0xec932c['type']===_0x4f0d49[_0x1c9b21(0x2dd)]&&_0x1c9b21(0x823)==typeof _0x298adf){if(!_0x35ef73[_0x1c9b21(0x24a)])throw new Error(_0x1c9b21(0x276));const _0x124d20={'type':_0x3776b8['Model'],'id':_0x35ef73['modelId'],'uid':(0x0,_0x1fd9e4['v4'])(),'links':_0x37f553[_0x1c9b21(0x3c3)]};await _0x2d40c2(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x124d20,_0x35ef73,_0x4ad965);}break;case _0x3776b8[_0x1c9b21(0x1c4)]:_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49[_0x1c9b21(0x2dd)]&&'string'==typeof _0x298adf&&await _0x3d00ec(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965),_0xec932c['type']===_0x4f0d49[_0x1c9b21(0xa1f)]&&_0x298adf instanceof Array&&await _0x3d00ec(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965);break;case _0x3776b8[_0x1c9b21(0x1a3)]:_0xec932c['type']===_0x4f0d49['Text']&&_0x1c9b21(0x823)==typeof _0x298adf&&await _0x144061(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965),_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49[_0x1c9b21(0xa1f)]&&_0x298adf instanceof Array&&await _0x144061(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965),_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49[_0x1c9b21(0x27a)]&&_0x298adf instanceof Set&&await _0x144061(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965);break;case _0x3776b8['Model']:_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49[_0x1c9b21(0x2dd)]&&'string'==typeof _0x298adf&&await _0x2d40c2(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965),_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49[_0x1c9b21(0xa1f)]&&_0x298adf instanceof Array&&await _0x2d40c2(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965);break;case _0x3776b8[_0x1c9b21(0x21b)]:_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49[_0x1c9b21(0x2dd)]&&_0x1c9b21(0x823)==typeof _0x298adf&&await _0x583326(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965),_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49[_0x1c9b21(0xa1f)]&&_0x298adf instanceof Array&&await _0x583326(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965);break;case _0x3776b8[_0x1c9b21(0x571)]:_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49[_0x1c9b21(0x2dd)]&&_0x1c9b21(0x823)==typeof _0x298adf&&await _0xe19d08(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965),_0xec932c[_0x1c9b21(0xa7e)]===_0x4f0d49['Vector']&&_0x298adf instanceof Array&&await _0xe19d08(_0xfa0f48,_0x3b76e7,_0x2efc92,_0x298adf,_0x1b42a9,_0x37f553,_0x35ef73,_0x4ad965);}}}function _0x1969d4(_0x27d082,_0x4ece72){const _0x3e8b1a=_0x2d5032;return _0x4ece72[_0x3e8b1a(0xa9f)](_0x1dafd7=>_0x1dafd7[_0x3e8b1a(0x3c3)]?.[_0x3e8b1a(0x4f0)](_0x371c0c=>_0x371c0c[_0x3e8b1a(0x5c0)]===_0x27d082[_0x3e8b1a(0x5c0)]))['length'];}async function _0x30434a(_0x282730,_0x282489,_0x556e5c,_0x186500,_0x11ca95,_0x5aaf6a,_0x2121e2){const _0x5e7634=_0x2d5032,_0x4270ec={'type':_0x5e7634(0x123),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x1ccc15;await _0x1b11da(_0x282730,_0x282489,_0x556e5c,_0x186500,_0x4270ec,_0x11ca95,structuredClone(_0x5aaf6a),_0x2121e2),_0x4270ec['context'][_0x5e7634(0xa77)]((_0x22c5fc,_0x15835d)=>_0x22c5fc+_0x15835d['content'][_0x5e7634(0x80e)],0x0)>_0x5e7874&&(_0x1ccc15=Math['floor'](_0x5e7874/_0x4270ec[_0x5e7634(0x5d7)]['length'])),_0x4270ec['output']=_0x5e7634(0x758)+_0x4270ec[_0x5e7634(0x5d7)]['map'](_0x3047d2=>_0x5e7634(0x7fa)+_0x3047d2[_0x5e7634(0x612)]+':\x20'+_0x3047d2[_0x5e7634(0x3ab)][_0x5e7634(0x5b6)](0x0,_0x1ccc15))['join']('\x0a');}catch(_0x23db68){console['error']('Error\x20processing\x20retrieve',_0x23db68);}return _0x4270ec;}class _0x100c72 extends _0x3653fa{['contentMediator'];['generativeAIWorkerConnectors'];[_0x2d5032(0x454)];[_0x2d5032(0xa12)];[_0x2d5032(0x4dc)];[_0x2d5032(0x34c)];['searchConnector'];[_0x2d5032(0x883)];[_0x2d5032(0x89c)];[_0x2d5032(0x149)];[_0x2d5032(0x699)];['dataStores']=new Map();[_0x2d5032(0xaf8)]=_0x38963c;[_0x2d5032(0x472)];['prompts']=0x0;[_0x2d5032(0x5ab)]=0x0;[_0x2d5032(0x914)]=!0x1;constructor(_0x31de84,_0x2ee5bf,_0x3cf7fa,_0x3ac8cf,_0x463ba5,_0x2ae469,_0x53289d,_0x2eeb4a,_0x19565d,_0x4ab80e,_0x281589,_0xa4a870,_0x320ec6,_0x3cb21f){const _0x33598c=_0x2d5032;super(_0x31de84,_0x2ee5bf,_0x3cf7fa),this['contentMediator']=_0x3ac8cf,this['generativeAIWorkerConnectors']=_0x463ba5,this[_0x33598c(0x454)]=_0x2ae469,this[_0x33598c(0xa12)]=_0x53289d,this[_0x33598c(0x4dc)]=_0x2eeb4a,this['nlpLibraryConnector']=_0x19565d,this['searchConnector']=_0x4ab80e,this[_0x33598c(0x883)]=_0x281589,this['queryFileConnector']=_0xa4a870,this[_0x33598c(0x149)]=_0x320ec6,this['openAIKey']=_0x3cb21f;}async[_0x2d5032(0x7f6)](){const _0x700317=_0x2d5032;for(const _0x2a8e2e of this[_0x700317(0x92b)])await _0x2a8e2e[_0x700317(0x8d0)]();this[_0x700317(0x6f1)][_0x700317(0x3e9)](_0x2ed2da=>_0x2ed2da[_0x700317(0x3c5)](this[_0x700317(0x32e)])),this[_0x700317(0x472)]&&(clearTimeout(this[_0x700317(0x472)]),delete this[_0x700317(0x472)]),super[_0x700317(0x7f6)]();}async['open'](_0x2131c2=!0x1){const _0x3a9c9f=_0x2d5032;if(this[_0x3a9c9f(0x914)])super[_0x3a9c9f(0x788)]();else{_0x27f628['forceLog'](_0x3a9c9f(0x567),this[_0x3a9c9f(0x32e)]);try{for(const _0x4ff5e4 of this[_0x3a9c9f(0x92b)])await _0x4ff5e4[_0x3a9c9f(0xa82)](this['label'],this[_0x3a9c9f(0xaf8)]);}catch(_0x30406a){return this[_0x3a9c9f(0x788)](_0x2131c2);}this[_0x3a9c9f(0x914)]=!0x0,this[_0x3a9c9f(0xee)](),super[_0x3a9c9f(0x788)](),_0x27f628['forceLog'](_0x3a9c9f(0x9f1),this[_0x3a9c9f(0x32e)]);}}['reset'](){const _0x2054b2=_0x2d5032;this['prompts']=0x0,this[_0x2054b2(0x5ab)]=0x0,this[_0x2054b2(0xee)](),super[_0x2054b2(0xf2)]();}[_0x2d5032(0x84d)](){const _0x178aff=_0x2d5032;return this[_0x178aff(0xee)](),this[_0x178aff(0x926)]();}[_0x2d5032(0x6be)](_0x2f4203,_0x332658,_0x19d0fc){const _0x26498e=_0x2d5032,{outputTokens:_0x267b6b=0x0,output:_0x33f91c=''}=_0x2f4203,_0x463f4b=_0x267b6b/((_0x19d0fc-_0x332658)/0x3e8);this[_0x26498e(0x82f)]+=0x1,this[_0x26498e(0x5ab)]+=_0x267b6b,this[_0x26498e(0x8d9)](_0x463f4b,_0x267b6b),this[_0x26498e(0xee)]();}['accumulateResult'](_0x5af23f,_0x2b5578){const _0x497f09=_0x2d5032;return _0x5af23f[_0x497f09(0x8ea)]=_0x5af23f['output']??'',{'type':_0x497f09(0x123),'output':'string'==typeof _0x5af23f[_0x497f09(0x8ea)]&&_0x497f09(0x823)==typeof _0x2b5578[_0x497f09(0x8ea)]?_0x5af23f[_0x497f09(0x8ea)]+_0x2b5578[_0x497f09(0x8ea)]:_0x2b5578[_0x497f09(0x8ea)],'outputTokens':_0x2b5578['outputTokens']??_0x5af23f[_0x497f09(0x68b)],'inputTokens':_0x2b5578[_0x497f09(0xa52)]??_0x5af23f[_0x497f09(0xa52)]};}async[_0x2d5032(0x71d)](_0xd5972f,_0x28e02a){const _0x9a24b8=_0x2d5032;if('prompt'===_0x28e02a[_0x9a24b8(0xa7e)]){const _0x17034e=await _0x73d90b['getWorkflow'](_0x28e02a[_0x9a24b8(0x514)],_0x28e02a[_0x9a24b8(0x207)]),_0xe0bb27=_0x17034e[_0x9a24b8(0xa76)][_0x9a24b8(0x91b)](_0x221a58=>_0x221a58[_0x9a24b8(0xa7e)]===_0x57cac9[_0x9a24b8(0x407)]);return await _0x432684(_0x28e02a[_0x9a24b8(0x737)]??_0xd5972f,_0x28e02a,_0xe0bb27,_0x17034e[_0x9a24b8(0xa76)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x9a24b8(0x4dc)],'nlpLibraryConnector':this[_0x9a24b8(0x34c)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this['models'][_0x9a24b8(0xa94)]()),'contentMediator':this[_0x9a24b8(0x705)],'searchConnector':this[_0x9a24b8(0x212)],'aiSearchConnector':this[_0x9a24b8(0x883)],'queryFileConnector':this['queryFileConnector']});}if('embed'===_0x28e02a[_0x9a24b8(0xa7e)])return await _0x24b0ed(_0x28e02a,{'documentParserConnector':this[_0x9a24b8(0xa12)],'fileConnector':this[_0x9a24b8(0x4dc)],'nlpLibraryConnector':this[_0x9a24b8(0x34c)],'generativeAIWorkerConnectors':this[_0x9a24b8(0x92b)],'models':Array[_0x9a24b8(0x8ee)](this['models']['values']()),'contentMediator':this[_0x9a24b8(0x705)],'searchConnector':this[_0x9a24b8(0x212)],'aiSearchConnector':this[_0x9a24b8(0x883)],'queryFileConnector':this[_0x9a24b8(0x89c)]});if(_0x9a24b8(0x4e4)===_0x28e02a[_0x9a24b8(0xa7e)])return await _0x4bbae3(_0x28e02a['jobId']??_0xd5972f,_0x28e02a,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x9a24b8(0x34c)],'generativeAIWorkerConnectors':this[_0x9a24b8(0x92b)],'models':Array[_0x9a24b8(0x8ee)](this[_0x9a24b8(0xaf8)][_0x9a24b8(0xa94)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x9a24b8(0x212)],'aiSearchConnector':this[_0x9a24b8(0x883)],'queryFileConnector':this[_0x9a24b8(0x89c)]});if(_0x9a24b8(0x7f1)===_0x28e02a[_0x9a24b8(0xa7e)])return await _0x1d5b2d[_0x9a24b8(0x131)]({'jobType':_0xf54e14[_0x9a24b8(0x2d4)],'type':_0x49e8f2['PromptRating'],'jobId':_0x28e02a[_0x9a24b8(0x737)],'threadId':_0x28e02a[_0x9a24b8(0x4c9)],'traceLevel':_0xc916ae[_0x9a24b8(0x753)],'startTime':Date[_0x9a24b8(0xa45)](),'timestamp':Date[_0x9a24b8(0xa45)](),'status':_0x9a24b8(0x733),'rating':_0x28e02a[_0x9a24b8(0x49b)],'feedback':_0x28e02a[_0x9a24b8(0x45c)]}),{'type':'rate','status':_0x1a575a[_0x9a24b8(0x8e6)][_0x9a24b8(0x74c)]};if('tool-call'===_0x28e02a['type'])return await _0x162d5f(_0x28e02a,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x9a24b8(0x4dc)],'nlpLibraryConnector':this[_0x9a24b8(0x34c)],'generativeAIWorkerConnectors':this[_0x9a24b8(0x92b)],'models':Array['from'](this['models']['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x9a24b8(0x212)],'aiSearchConnector':this[_0x9a24b8(0x883)],'queryFileConnector':this[_0x9a24b8(0x89c)]});if(_0x9a24b8(0x857)===_0x28e02a[_0x9a24b8(0xa7e)]){const _0x5072c8=await _0x73d90b[_0x9a24b8(0x390)](_0x28e02a[_0x9a24b8(0x514)],_0x28e02a[_0x9a24b8(0x207)]),_0x51ec27=_0x5072c8[_0x9a24b8(0xa76)]['find'](_0x40eb06=>_0x40eb06['type']===_0x57cac9[_0x9a24b8(0x6a1)]),_0x33a77f=_0x5072c8[_0x9a24b8(0xa76)][_0x9a24b8(0xa9f)](_0x43ea8f=>_0x43ea8f['links']?.[_0x9a24b8(0x4f0)](_0x5e0abd=>_0x5e0abd[_0x9a24b8(0xa7e)]===_0x4f0d49[_0x9a24b8(0x868)]&&_0x5e0abd[_0x9a24b8(0x5c0)]===_0x51ec27[_0x9a24b8(0x5c0)]))['flatMap'](_0x13b511=>_0x49b62a(_0x13b511,_0x5072c8['blocks']));return{'type':_0x9a24b8(0x857),'apiKey':this[_0x9a24b8(0x699)],'modelId':_0x51ec27[_0x9a24b8(0x24a)],'instructions':_0x51ec27[_0x9a24b8(0x79b)],'temperature':_0x51ec27[_0x9a24b8(0x3a9)],'maxTokens':_0x51ec27[_0x9a24b8(0x19f)],'initialPrompt':_0x5072c8[_0x9a24b8(0x4d5)],'tools':_0x33a77f['map'](_0x56ef4c=>({..._0x56ef4c,'name':this[_0x9a24b8(0x1b8)](_0x56ef4c),'description':this[_0x9a24b8(0x927)](_0x56ef4c),'parameters':this[_0x9a24b8(0x77b)](_0x56ef4c)}))};}if(_0x9a24b8(0x3f1)===_0x28e02a['type']){const {vendorId:_0x4d9ed,collectionId:_0x5de38d,fileId:_0x4070c7}=_0x28e02a,_0x3a6a67=await _0x73d90b['getDataCollection'](_0x4d9ed,_0x5de38d),_0x29e472=this[_0x9a24b8(0x149)]?.[_0x9a24b8(0x13f)](_0x3a6a67[_0x9a24b8(0x9af)]);if(!_0x29e472)throw new Error('No\x20RAG\x20connector\x20available');const _0x57d9df=_0x5145c7(_0x4d9ed,_0x3a6a67);if(_0x3a6a67[_0x9a24b8(0x9af)]===_0x1a575a[_0x9a24b8(0x4e6)][_0x9a24b8(0x85f)])try{await _0x29e472[_0x9a24b8(0x2b5)](_0x57d9df,_0x5de38d,'/'+_0x4d9ed+'/'+_0x5de38d+'/'+_0x4070c7),await this[_0x9a24b8(0x454)]['deleteObject']('/'+_0x4d9ed+'/'+_0x5de38d+'/'+_0x4070c7);}catch(_0x50de82){_0x27f628[_0x9a24b8(0x275)](_0x9a24b8(0x784),_0x50de82);}else try{await _0x29e472['deleteFile'](_0x57d9df,_0x5de38d,_0x4070c7);}catch(_0x39a822){_0x27f628[_0x9a24b8(0x275)](_0x9a24b8(0x784),_0x39a822);}return{'type':'file-delete'};}if('file-download'===_0x28e02a[_0x9a24b8(0xa7e)]){let _0x1dc8bd;const _0x560aa0=this[_0x9a24b8(0x6f1)][_0x9a24b8(0xa30)]();for(;!_0x1dc8bd;){const _0x27c3cc=_0x560aa0[_0x9a24b8(0x356)]()[_0x9a24b8(0x50f)];if(!_0x27c3cc)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x1dc8bd=this['dataStores'][_0x9a24b8(0x13f)](_0x27c3cc);try{const _0x2a7fb0=await _0x1dc8bd[_0x9a24b8(0x13f)](_0x28e02a[_0x9a24b8(0x4ac)]);return{'type':_0x9a24b8(0x46d),'fileName':_0x2a7fb0[_0x9a24b8(0x928)],'mimeType':_0x2a7fb0[_0x9a24b8(0xa7e)],'document':await _0x2a7fb0[_0x9a24b8(0xaa1)]()};}catch(_0x12bccd){continue;}}throw new Error(_0x9a24b8(0x930));}if(_0x9a24b8(0x7ff)===_0x28e02a[_0x9a24b8(0xa7e)]){const {vendorId:_0x2a3748,collectionId:_0x5c1fb9,fileName:_0x2b3af0,content:_0x3c71dd}=_0x28e02a,_0x509eed=await _0x73d90b['getDataCollection'](_0x2a3748,_0x5c1fb9);if(_0x509eed[_0x9a24b8(0x9af)]!==_0x1a575a[_0x9a24b8(0x4e6)]['Crewdle']){const _0x378a24=this[_0x9a24b8(0x149)]?.[_0x9a24b8(0x13f)](_0x509eed[_0x9a24b8(0x9af)]);if(!_0x378a24)throw new Error(_0x9a24b8(0x3e8));const _0x56b5e1=_0x5145c7(_0x2a3748,_0x509eed);return await _0x378a24[_0x9a24b8(0x9c9)](_0x56b5e1,_0x5c1fb9,_0x2b3af0,_0x3c71dd),{'type':_0x9a24b8(0x7ff)};}const _0x20eddd=_0x509eed[_0x9a24b8(0x29c)]?.[_0x9a24b8(0x91b)](_0x49442e=>_0x49442e['type']===_0x3776b8['Upload']);if(!_0x20eddd)throw new Error(_0x9a24b8(0x685));const _0x34fd04=(0x0,_0x1fd9e4['v4'])();return _0x1d5b2d[_0x9a24b8(0x1e5)](_0x2a3748,_0x34fd04),await _0x8acda5(_0x28e02a[_0x9a24b8(0x514)],_0x34fd04,'/'+_0x2a3748+'/'+_0x5c1fb9+'/'+_0x2b3af0,_0x3c71dd,_0x20eddd,_0x509eed,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x9a24b8(0x149)]?.[_0x9a24b8(0x13f)](_0x1a575a[_0x9a24b8(0x4e6)][_0x9a24b8(0x85f)]),'documentParserConnector':this[_0x9a24b8(0xa12)],'fileConnector':this[_0x9a24b8(0x4dc)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x9a24b8(0x92b)],'models':Array[_0x9a24b8(0x8ee)](this[_0x9a24b8(0xaf8)]['values']()),'contentMediator':this[_0x9a24b8(0x705)]}),_0x1d5b2d[_0x9a24b8(0x39d)](_0x34fd04),{'type':_0x9a24b8(0x7ff)};}if(_0x9a24b8(0xa53)===_0x28e02a[_0x9a24b8(0xa7e)]){const {vendorId:_0x3d7f0f,collectionId:_0x3a6735}=_0x28e02a,_0x4d0829=await _0x73d90b[_0x9a24b8(0xa67)](_0x3d7f0f,_0x3a6735);if(_0x4d0829[_0x9a24b8(0x9af)]!==_0x1a575a[_0x9a24b8(0x4e6)]['Crewdle']){const _0x4a591c=this[_0x9a24b8(0x149)]?.[_0x9a24b8(0x13f)](_0x4d0829[_0x9a24b8(0x9af)]);if(!_0x4a591c)throw new Error(_0x9a24b8(0x3e8));const _0x22ddfd=_0x5145c7(_0x3d7f0f,_0x4d0829);return{'type':_0x9a24b8(0xa53),'files':await _0x4a591c['listFiles'](_0x22ddfd,_0x3a6735)};}try{return{'type':_0x9a24b8(0xa53),'files':(await this[_0x9a24b8(0x454)]['list']('/'+_0x3d7f0f+'/'+_0x3a6735,!0x1))[_0x9a24b8(0x247)](_0xeff605=>({'name':_0xeff605[_0x9a24b8(0x928)],'id':_0xeff605['name'],'status':'ready'}))};}catch(_0x5caea0){return{'type':'file-list','files':[]};}}if('collection-create'===_0x28e02a['type']){const {vendorId:_0x357b5a,collectionId:_0x1163b1}=_0x28e02a,_0x21b34c=await _0x73d90b['getDataCollection'](_0x357b5a,_0x1163b1),_0x4df95f=this[_0x9a24b8(0x149)]?.[_0x9a24b8(0x13f)](_0x21b34c[_0x9a24b8(0x9af)]);if(!_0x4df95f)return{'type':_0x9a24b8(0x3d1)};const _0x3a817f=_0x5145c7(_0x357b5a,_0x21b34c);return await _0x4df95f[_0x9a24b8(0x9bb)](_0x3a817f,_0x1163b1),{'type':'collection-create'};}if(_0x9a24b8(0x5b2)===_0x28e02a[_0x9a24b8(0xa7e)]){const {vendorId:_0xa6efb3,collectionId:_0x408c96}=_0x28e02a,_0x4f1ae2=await _0x73d90b[_0x9a24b8(0xa67)](_0xa6efb3,_0x408c96),_0x5cdc7a=this[_0x9a24b8(0x149)]?.['get'](_0x4f1ae2[_0x9a24b8(0x9af)]);if(!_0x5cdc7a)return{'type':_0x9a24b8(0x5b2)};const _0x3fa96a=_0x5145c7(_0xa6efb3,_0x4f1ae2);let _0x593fcf=!0x1;if(_0x4f1ae2[_0x9a24b8(0x394)]===_0x54a928[_0x9a24b8(0x94d)]&&(_0x593fcf=!0x0),_0x4f1ae2['hosting']===_0x54a928[_0x9a24b8(0x8a7)]){_0x593fcf=!0x0;const _0x9d5d90=await _0x73d90b['getDataCollections'](_0xa6efb3);for(const _0x2bf019 of _0x9d5d90)if(_0x2bf019[_0x9a24b8(0x9af)]===_0x4f1ae2[_0x9a24b8(0x9af)]&&_0x2bf019[_0x9a24b8(0x394)]===_0x54a928['Account']&&_0x2bf019['id']!==_0x4f1ae2['id']){_0x593fcf=!0x1;break;}}try{await _0x5cdc7a[_0x9a24b8(0x1f5)](_0x3fa96a,_0x408c96,_0x593fcf);}catch(_0x48e0d8){_0x27f628[_0x9a24b8(0x275)](_0x9a24b8(0x8f7),_0x48e0d8);}return{'type':_0x9a24b8(0x5b2)};}if(_0x9a24b8(0x273)===_0x28e02a['type']){const {query:_0x211e7a,vendorId:_0x509032,collectionId:_0x5b89c7}=_0x28e02a,_0x1dfda5=await _0x73d90b[_0x9a24b8(0xa67)](_0x509032,_0x5b89c7);if(_0x1dfda5[_0x9a24b8(0x9af)]!==_0x1a575a[_0x9a24b8(0x4e6)][_0x9a24b8(0x85f)]){const _0x593f13=this[_0x9a24b8(0x149)]?.[_0x9a24b8(0x13f)](_0x1dfda5[_0x9a24b8(0x9af)]);if(!_0x593f13)throw new Error(_0x9a24b8(0x3e8));const _0x50a92c=_0x5145c7(_0x509032,_0x1dfda5);return{'type':_0x9a24b8(0x273),'results':await _0x593f13[_0x9a24b8(0x980)](_0x50a92c,_0x5b89c7,_0x211e7a,0x1)};}const _0x54ce0d=_0x1dfda5['retrieveBlocks']?.[_0x9a24b8(0x91b)](_0x1b84c9=>_0x1b84c9[_0x9a24b8(0xa7e)]===_0x3776b8[_0x9a24b8(0x407)]);return{'type':_0x9a24b8(0x273),'results':(await _0x30434a(_0x28e02a['vendorId'],_0xd5972f,'',_0x211e7a,_0x54ce0d,_0x1dfda5,{'objectStoreConnector':this[_0x9a24b8(0x454)],'ragConnector':this[_0x9a24b8(0x149)]?.[_0x9a24b8(0x13f)](_0x1a575a[_0x9a24b8(0x4e6)]['Crewdle']),'documentParserConnector':this[_0x9a24b8(0xa12)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x9a24b8(0x34c)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x9a24b8(0x8ee)](this[_0x9a24b8(0xaf8)][_0x9a24b8(0xa94)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x9a24b8(0x212)],'aiSearchConnector':this[_0x9a24b8(0x883)],'queryFileConnector':this['queryFileConnector']}))[_0x9a24b8(0x5d7)]??[]};}throw new Error(_0x9a24b8(0x7df));}async*[_0x2d5032(0x167)](_0x472884,_0x2a31a3){const _0x297618=_0x2d5032;if(_0x297618(0x123)===_0x2a31a3[_0x297618(0xa7e)]){const _0x20aa6b=await _0x73d90b[_0x297618(0x390)](_0x2a31a3['vendorId'],_0x2a31a3[_0x297618(0x207)]),_0x2bf9e9=_0x20aa6b[_0x297618(0xa76)][_0x297618(0x91b)](_0x4efb6a=>_0x4efb6a['type']===_0x57cac9[_0x297618(0x407)]);for await(const _0x4df1b7 of _0x576589(_0x2a31a3[_0x297618(0x737)]??_0x472884,_0x2a31a3,_0x2bf9e9,_0x20aa6b['blocks'],{'documentParserConnector':this[_0x297618(0xa12)],'fileConnector':this[_0x297618(0x4dc)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this[_0x297618(0xaf8)][_0x297618(0xa94)]()),'contentMediator':this[_0x297618(0x705)],'searchConnector':this[_0x297618(0x212)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x297618(0x89c)]}))yield _0x4df1b7;}if(_0x297618(0x4e4)===_0x2a31a3[_0x297618(0xa7e)]){for await(const _0x40ffe5 of _0x153a5e(_0x2a31a3[_0x297618(0x737)]??_0x472884,_0x2a31a3,{'documentParserConnector':this[_0x297618(0xa12)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x297618(0x92b)],'models':Array[_0x297618(0x8ee)](this['models'][_0x297618(0xa94)]()),'contentMediator':this[_0x297618(0x705)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x297618(0x883)],'queryFileConnector':this[_0x297618(0x89c)]}))yield _0x40ffe5;}}async[_0x2d5032(0x1cf)](_0x3c5f92,_0x1e2495){const _0x26b4e5=_0x2d5032;if(_0x26b4e5(0x7f1)===_0x1e2495[_0x26b4e5(0xa7e)])return _0x3c5f92=_0x1e2495['jobId'],void await this[_0x26b4e5(0x1e5)](_0x3c5f92,_0x1e2495[_0x26b4e5(0x514)],_0x1e2495[_0x26b4e5(0x207)]);_0x26b4e5(0x123)!==_0x1e2495['type']&&_0x26b4e5(0x4e4)!==_0x1e2495[_0x26b4e5(0xa7e)]||!_0x1e2495[_0x26b4e5(0x737)]||(_0x3c5f92=_0x1e2495[_0x26b4e5(0x737)]),await this[_0x26b4e5(0x1e5)](_0x3c5f92,_0x1e2495[_0x26b4e5(0x514)],_0x1e2495[_0x26b4e5(0x207)],_0x1e2495[_0x26b4e5(0x4c9)]),await _0x1d5b2d[_0x26b4e5(0x131)]({'jobType':_0xf54e14['Job'],'type':_0x3a3f86[_0x26b4e5(0x8c1)],'traceLevel':_0xc916ae['Info'],'jobId':_0x3c5f92,'threadId':_0x1e2495[_0x26b4e5(0x4c9)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':_0x26b4e5(0x733)});}async[_0x2d5032(0x274)](_0x5b6dbb,_0x5235cc){const _0x550184=_0x2d5032;if(_0x550184(0x7f1)===_0x5235cc[_0x550184(0xa7e)])return _0x5b6dbb=_0x5235cc[_0x550184(0x737)],void await this['closeTrace'](_0x5b6dbb);'prompt'!==_0x5235cc[_0x550184(0xa7e)]&&_0x550184(0x4e4)!==_0x5235cc[_0x550184(0xa7e)]||!_0x5235cc['jobId']||(_0x5b6dbb=_0x5235cc[_0x550184(0x737)]),await _0x1d5b2d[_0x550184(0x131)]({'jobType':_0xf54e14[_0x550184(0xa7f)],'type':_0x3a3f86[_0x550184(0x588)],'traceLevel':_0xc916ae[_0x550184(0x753)],'jobId':_0x5b6dbb,'threadId':_0x5235cc[_0x550184(0x4c9)],'startTime':Date[_0x550184(0xa45)](),'timestamp':Date[_0x550184(0xa45)](),'status':'success'}),await this['closeTrace'](_0x5b6dbb,_0x5235cc['threadId']);}[_0x2d5032(0x1b8)](_0x4d8fd9){const _0x5c654f=_0x2d5032;switch(_0x4d8fd9[_0x5c654f(0xa7e)]){case _0x57cac9[_0x5c654f(0x6a1)]:case _0x57cac9[_0x5c654f(0x982)]:return _0x5c654f(0x65b)+_0x4d8fd9['name'][_0x5c654f(0x9b8)](/[^a-zA-Z]/g,'');case _0x57cac9[_0x5c654f(0x332)]:return _0x5c654f(0xa7b)+_0x4d8fd9[_0x5c654f(0x928)][_0x5c654f(0x9b8)](/[^a-zA-Z]/g,'');case _0x57cac9[_0x5c654f(0x8bc)]:case _0x57cac9['Knowledge']:return _0x5c654f(0x984)+_0x4d8fd9[_0x5c654f(0x928)][_0x5c654f(0x9b8)](/[^a-zA-Z]/g,'');case _0x57cac9[_0x5c654f(0x463)]:return _0x4d8fd9[_0x5c654f(0x928)][_0x5c654f(0x9b8)](/[^a-zA-Z]/g,'');case _0x57cac9[_0x5c654f(0x957)]:return _0x5c654f(0x7b5);case _0x57cac9[_0x5c654f(0x189)]:return'executeJavascriptCodeSnippet';case _0x57cac9[_0x5c654f(0xa1f)]:return _0x5c654f(0x47e);case _0x57cac9['WebScraper']:case _0x57cac9[_0x5c654f(0x9b7)]:return'fetchContentFromUrl';case _0x1a575a[_0x5c654f(0x302)][_0x5c654f(0xa56)]:return _0x5c654f(0x3d4)+_0x4d8fd9['name'][_0x5c654f(0x9b8)](/[^a-zA-Z]/g,'');case _0x1a575a[_0x5c654f(0x302)]['FormSkillSetAnswer']:return _0x5c654f(0x9d2)+_0x4d8fd9['name'][_0x5c654f(0x9b8)](/[^a-zA-Z]/g,'');case _0x1a575a[_0x5c654f(0x302)][_0x5c654f(0x4a1)]:return _0x5c654f(0x158)+_0x4d8fd9['name'][_0x5c654f(0x9b8)](/[^a-zA-Z]/g,'');default:return'';}}['getToolDescription'](_0x2f25ba){const _0x20aba1=_0x2d5032;switch(_0x2f25ba['type']){case _0x57cac9[_0x20aba1(0x6a1)]:case _0x57cac9['AgentSkill']:return _0x20aba1(0x234)+_0x2f25ba['description']+'\x20to\x20generate\x20a\x20response.';case _0x57cac9['WorkflowTool']:return _0x20aba1(0x739)+_0x2f25ba[_0x20aba1(0x52e)]+_0x20aba1(0x325);case _0x57cac9['DataCollection']:case _0x57cac9['Knowledge']:return _0x20aba1(0x589)+_0x2f25ba[_0x20aba1(0x52e)]+_0x20aba1(0x7e6);case _0x57cac9[_0x20aba1(0x463)]:return _0x20aba1(0x6ef)+_0x2f25ba[_0x20aba1(0x52e)];case _0x57cac9[_0x20aba1(0x957)]:return _0x20aba1(0x62d);case _0x57cac9[_0x20aba1(0x189)]:return _0x20aba1(0x4d9);case _0x57cac9[_0x20aba1(0xa1f)]:return _0x20aba1(0x759);case _0x57cac9[_0x20aba1(0x437)]:case _0x57cac9[_0x20aba1(0x9b7)]:return _0x20aba1(0x3e5);case _0x1a575a[_0x20aba1(0x302)]['FormSkillGetQuestion']:return _0x20aba1(0x700);case _0x1a575a[_0x20aba1(0x302)][_0x20aba1(0x7d3)]:return _0x20aba1(0x7f0);case _0x1a575a[_0x20aba1(0x302)][_0x20aba1(0x4a1)]:return _0x20aba1(0x92a);default:return'';}}[_0x2d5032(0x77b)](_0x29cc52){const _0x489141=_0x2d5032;switch(_0x29cc52['type']){case _0x57cac9[_0x489141(0x6a1)]:case _0x57cac9[_0x489141(0x982)]:case _0x57cac9[_0x489141(0x332)]:return[{'name':_0x489141(0x123),'type':'string'}];case _0x57cac9[_0x489141(0x8bc)]:case _0x57cac9[_0x489141(0x541)]:return[{'name':_0x489141(0x1f6),'type':'string'}];case _0x57cac9['CustomSkill']:return _0x29cc52[_0x489141(0x42f)][_0x489141(0x247)](_0x4b872f=>({'name':_0x4b872f[_0x489141(0x928)],'type':_0x4b872f[_0x489141(0xa7e)]??_0x489141(0x823)}))??[];case _0x57cac9['AiSearch']:return[{'name':'query','type':_0x489141(0x823)}];case _0x57cac9[_0x489141(0x189)]:return[{'name':_0x489141(0x23c),'type':_0x489141(0x823)}];case _0x57cac9['Search']:return[{'name':_0x489141(0x9ec),'type':_0x489141(0x823)}];case _0x57cac9[_0x489141(0x437)]:case _0x57cac9[_0x489141(0x9b7)]:return[{'name':'url','type':_0x489141(0x823)},{'name':_0x489141(0x1c3),'type':'number'}];case _0x1a575a[_0x489141(0x302)]['FormSkillGetQuestion']:return[];case _0x1a575a['GenerativeAIInferenceToolType']['FormSkillSetAnswer']:return[{'name':'id','type':_0x489141(0x823)},{'name':_0x489141(0x499),'type':_0x489141(0x823)}];case _0x1a575a[_0x489141(0x302)][_0x489141(0x4a1)]:default:return[];}}[_0x2d5032(0x926)](){const _0x5606cb=_0x2d5032;try{return this['capacityReporter'][_0x5606cb(0x2fb)]()[_0x5606cb(0x9a1)][_0x5606cb(0x1f3)]*(0x1-this[_0x5606cb(0xa07)]['getCapacityReport']()[_0x5606cb(0x9a1)][_0x5606cb(0x851)]);}catch(_0x399620){return _0x27f628['log'](_0x53d5c4[_0x5606cb(0x6ee)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x399620),0x0;}}['sendStats'](){const _0x36cf21=_0x2d5032;this[_0x36cf21(0x914)]&&(this['debounceStats']&&clearTimeout(this[_0x36cf21(0x472)]),this[_0x36cf21(0x472)]=setTimeout(async()=>{const _0x1f2bd7=_0x36cf21;delete this[_0x1f2bd7(0x472)];let _0x1fa24e=0x0;for(const _0x43b7de of this[_0x1f2bd7(0x6f1)][_0x1f2bd7(0xa94)]())_0x1fa24e+=await _0x43b7de[_0x1f2bd7(0x9d1)]();this['systemTopic'][_0x1f2bd7(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x1f2bd7(0x8b3)],'content':{'type':_0x1ff5c6[_0x1f2bd7(0x3ea)],'label':this[_0x1f2bd7(0x32e)],'stats':{'timestamp':Date[_0x1f2bd7(0xa45)](),'storage':_0x1fa24e,'messagesSent':this[_0x1f2bd7(0x658)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x1f2bd7(0x9ab)],'bytesReceived':this[_0x1f2bd7(0x8a4)],'writes':0x0,'reads':0x0,'prompts':this[_0x1f2bd7(0x82f)],'tokens':this[_0x1f2bd7(0x5ab)]}}});},_0x38055e));}[_0x2d5032(0x8d9)](_0x3a9323,_0x1181a9){const _0x382e22=_0x2d5032,_0x5393f5=this[_0x382e22(0x32e)],_0x92fafc=this['getOwnerId']();_0x27f628[_0x382e22(0x8d9)](_0x751840[_0x382e22(0x7a9)],{'topic':_0x5393f5,'type':_0x382e22(0x499),'nodeId':_0x92fafc,'tokenCount':_0x1181a9,'tokensPerSecond':_0x3a9323});}async['openTrace'](_0x24c4fa,_0x2c7bc1,_0x5b5cb9,_0x358f70){const _0x54d774=_0x2d5032;try{if(!await _0x1d5b2d['openTrace'](_0x2c7bc1,_0x24c4fa,_0x5b5cb9,_0x358f70))throw new Error(_0x54d774(0x266));return _0x24c4fa;}catch(_0x59cb36){return console[_0x54d774(0x275)](_0x54d774(0x266),_0x59cb36),_0x54d774(0x75d);}}async[_0x2d5032(0x39d)](_0xb5a90a,_0x1ebfab){const _0x3b9a1b=_0x2d5032;try{await _0x1d5b2d['closeTrace'](_0xb5a90a,_0x1ebfab);}catch(_0xbc7ef5){console[_0x3b9a1b(0x275)](_0x3b9a1b(0x2f3),{'jobId':_0xb5a90a,'error':_0xbc7ef5});}}}class _0x5e4dd7 extends _0x1d8a54{[_0x2d5032(0x6ff)];['clusterId'];[_0x2d5032(0x514)];['db'];[_0x2d5032(0x472)];[_0x2d5032(0x650)]=0x0;['reads']=0x0;['isLoaded']=!0x1;constructor(_0x2a51af,_0x29c2c9,_0x481cf2,_0x5e8410,_0x1c693b){const _0xcca54b=_0x2d5032;if('string'!=typeof _0x29c2c9)throw new _0x10fc18(_0x10a5c8['GraphDatabaseNameNotString'],_0xcca54b(0xace));super(_0x2a51af,_0x29c2c9),this[_0xcca54b(0x6ff)]=_0x2a51af,this[_0xcca54b(0xa46)]=_0x481cf2,this[_0xcca54b(0x514)]=_0x5e8410;const _0x12dd50=_0xcca54b(0x5ca)+this[_0xcca54b(0x514)]+'ccc'+this[_0xcca54b(0xa46)]+'ccc'+this[_0xcca54b(0x32e)];this['db']=new _0x1c693b(_0x12dd50),this['sendStats']();}[_0x2d5032(0x17b)](){const _0x15a27f=_0x2d5032;return this[_0x15a27f(0x537)];}['setIsLoaded'](_0x5af995){const _0x2fa166=_0x2d5032;this[_0x2fa166(0x537)]=_0x5af995;}[_0x2d5032(0x7f6)](){const _0x1e8cd8=_0x2d5032;clearTimeout(this['debounceStats']),delete this[_0x1e8cd8(0x472)],super[_0x1e8cd8(0x7f6)]();}[_0x2d5032(0x8d0)](){const _0x1ff4b1=_0x2d5032;this[_0x1ff4b1(0x83a)]['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x1ff4b1(0x8b3)],'content':{'type':_0x1ff5c6[_0x1ff4b1(0x1d3)],'label':this[_0x1ff4b1(0x32e)]}});}[_0x2d5032(0x98e)](){const _0x49cc10=_0x2d5032;return _0x1a575a['ContentType'][_0x49cc10(0x1a3)];}[_0x2d5032(0xf2)](){const _0x51addb=_0x2d5032;this[_0x51addb(0xee)]();}[_0x2d5032(0x440)](_0x5c355c,_0x3e77df,_0x17c284,_0x55aca9){const _0x4c19c2=_0x2d5032;this['db'][_0x4c19c2(0x440)](_0x5c355c,_0x3e77df,_0x17c284,_0x55aca9),this['writes']+=0x1,this[_0x4c19c2(0xee)]();}['addEdge'](_0x1af2c5,_0x2b9ba9){const _0x5e1fcf=_0x2d5032;this['db'][_0x5e1fcf(0x8f2)](_0x1af2c5,_0x2b9ba9),this[_0x5e1fcf(0x650)]+=0x1,this['sendStats']();}['getContent'](_0x596028,_0x17db36,_0x3eb45a){const _0x1bcf27=_0x2d5032,_0x1be60a=this['db'][_0x1bcf27(0x645)](_0x596028,_0x17db36,_0x3eb45a);return this[_0x1bcf27(0x952)]+=0x1,_0x27f628[_0x1bcf27(0x8d9)](_0x751840[_0x1bcf27(0x1a3)],{'type':'get-content','label':this['label'],'nodeId':this['localNode'][_0x1bcf27(0x5cd)](),'nodeType':this[_0x1bcf27(0x6ff)]['type'],'clusterId':this[_0x1bcf27(0xa46)],'size':0x0}),this[_0x1bcf27(0xee)](),_0x1be60a;}['remove'](_0xb18a09){const _0x7fb433=_0x2d5032;this['db'][_0x7fb433(0x2f0)](_0xb18a09),this[_0x7fb433(0x650)]+=0x1,this[_0x7fb433(0xee)]();}[_0x2d5032(0x664)](_0x337c81){this['db']['saveToDisk'](_0x337c81);}[_0x2d5032(0x80f)](_0x581c65){const _0x269313=_0x2d5032;this['db'][_0x269313(0x80f)](_0x581c65);}['sendStats'](){this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x5dc333=a0_0x11f8;delete this[_0x5dc333(0x472)];const _0x27d252=this['db'][_0x5dc333(0x9d1)]();this['systemTopic']['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x5dc333(0x8b3)],'content':{'type':_0x1ff5c6[_0x5dc333(0x847)],'label':this[_0x5dc333(0x32e)],'stats':{'timestamp':Date[_0x5dc333(0xa45)](),'storage':_0x27d252,'messagesSent':this[_0x5dc333(0x658)],'messagesReceived':this[_0x5dc333(0x5be)],'bytesSent':this[_0x5dc333(0x9ab)],'bytesReceived':this[_0x5dc333(0x8a4)],'writes':this[_0x5dc333(0x650)],'reads':this[_0x5dc333(0x952)],'prompts':0x0,'tokens':0x0}}}),_0x27f628['logStorage'](_0x751840['GraphDatabase'],_0x5dc333(0x5ca)+this[_0x5dc333(0xa46)]+_0x5dc333(0x5ca)+this[_0x5dc333(0x32e)],_0x27d252);},_0x38055e);}}class _0x1d7561 extends _0x5f0ad6{[_0x2d5032(0x7d8)];constructor(_0x5e50f4,_0x1e89c2,_0x25d1f6){const _0x35fba0=_0x2d5032;super(_0x5e50f4,_0x1e89c2),this[_0x35fba0(0x7d8)]=_0x25d1f6;}[_0x2d5032(0x98e)](){const _0x34b09a=_0x2d5032;return _0x1a575a[_0x34b09a(0x979)][_0x34b09a(0xa50)];}[_0x2d5032(0x9aa)](){const _0x395d70=_0x2d5032;return this[_0x395d70(0x7d8)];}['getInternalStreamId'](){const _0x505fc3=_0x2d5032;return this[_0x505fc3(0x7d8)]['id'];}}class _0x54a72d extends _0x1d7561{[_0x2d5032(0x4b4)];['params'];['topic'];[_0x2d5032(0x341)]=_0x19bdf7();constructor(_0x20100a,_0x2ddaac,_0x17fd68,_0x5a3194,_0x33fb05){const _0x2325cf=_0x2d5032;super(_0x20100a,_0x2ddaac,_0x17fd68),this[_0x2325cf(0x4b4)]=_0x5a3194,this[_0x2325cf(0x835)]=_0x33fb05;}[_0x2d5032(0x7f6)](){const _0x43ee2d=_0x2d5032;this['removeTrack'](_0x43ee2d(0x2fa)),this[_0x43ee2d(0x39b)](_0x43ee2d(0x5f6)),super[_0x43ee2d(0x7f6)]();}[_0x2d5032(0x487)](_0x1ab7ff){const _0x28fb5f=_0x2d5032;if(!this[_0x28fb5f(0x81b)])throw new _0x54e1a8(_0x54e1a8[_0x28fb5f(0x318)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x28fb5f(0x32e)],'ownerId':this[_0x28fb5f(0x573)][_0x28fb5f(0x5cd)](),'remoteId':this[_0x28fb5f(0x4b4)]});this['topic'][_0x28fb5f(0x849)]({'sourceId':this['owner'][_0x28fb5f(0x5cd)](),'content':{'action':_0x221093[_0x28fb5f(0x104)],'track':_0x1ab7ff,'stream':this[_0x28fb5f(0x7d8)],'priority':_0x1a575a[_0x28fb5f(0x5aa)][_0x28fb5f(0x921)],'params':this[_0x28fb5f(0x820)](_0x1ab7ff[_0x28fb5f(0x1da)],this[_0x28fb5f(0x835)])}});}[_0x2d5032(0x39b)](_0x2cd69b){const _0x540e23=_0x2d5032,_0x2b337c=this[_0x540e23(0xaa0)](_0x2cd69b);if(_0x2b337c){if(!this['topic'])return null;this[_0x540e23(0x81b)][_0x540e23(0x849)]({'sourceId':this['owner'][_0x540e23(0x5cd)](),'content':{'action':_0x221093['Remove'],'track':_0x2b337c,'stream':this[_0x540e23(0x7d8)]}});}return _0x2b337c;}['setPriority'](_0x4d42dc){const _0x43635d=_0x2d5032;if(!this['topic'])throw new _0x54e1a8(_0x54e1a8[_0x43635d(0x318)][_0x43635d(0x381)],{'label':this['label'],'ownerId':this[_0x43635d(0x573)][_0x43635d(0x5cd)](),'remoteId':this['remoteId']});this[_0x43635d(0x81b)][_0x43635d(0x849)]({'sourceId':this[_0x43635d(0x573)][_0x43635d(0x5cd)](),'content':{'action':_0x221093['Update'],'priority':_0x4d42dc,'stream':this[_0x43635d(0x7d8)]}});}['subscribe']({trackKinds:_0x25899a,params:_0x50b54b},_0x27fe53){const _0x3662c7=_0x2d5032;if(!this[_0x3662c7(0x81b)])throw new _0x54e1a8(_0x54e1a8[_0x3662c7(0x318)][_0x3662c7(0x381)],{'label':this[_0x3662c7(0x32e)],'ownerId':this[_0x3662c7(0x573)][_0x3662c7(0x5cd)](),'remoteId':this[_0x3662c7(0x4b4)]});for(const _0x439546 of this[_0x3662c7(0x7d8)][_0x3662c7(0xa87)]())_0x25899a[_0x3662c7(0x21f)](_0x439546[_0x3662c7(0x1da)])&&this[_0x3662c7(0x81b)][_0x3662c7(0x849)]({'sourceId':this['owner'][_0x3662c7(0x5cd)](),'content':{'action':_0x221093[_0x3662c7(0x104)],'track':_0x439546,'stream':this['mediaStream'],'priority':_0x27fe53,'params':this[_0x3662c7(0x820)](_0x439546[_0x3662c7(0x1da)],_0x50b54b)}});}[_0x2d5032(0x963)]({params:_0x49a2d6}){const _0x3142df=_0x2d5032;if(!this['topic'])throw new _0x54e1a8(_0x54e1a8['codes'][_0x3142df(0x381)],{'label':this['label'],'ownerId':this[_0x3142df(0x573)][_0x3142df(0x5cd)](),'remoteId':this['remoteId']});for(const _0x3a34e0 of this['mediaStream'][_0x3142df(0xa87)]())this[_0x3142df(0x81b)][_0x3142df(0x849)]({'sourceId':this[_0x3142df(0x573)][_0x3142df(0x5cd)](),'content':{'action':_0x221093[_0x3142df(0x47f)],'stream':this[_0x3142df(0x7d8)],'params':this[_0x3142df(0x820)](_0x3a34e0[_0x3142df(0x1da)],_0x49a2d6)}});}[_0x2d5032(0x3c5)]({trackKinds:_0xcd13fc}){const _0x246612=_0x2d5032;if(this[_0x246612(0x81b)]){for(const _0x3eb6d8 of this[_0x246612(0x7d8)]['getTracks']())_0xcd13fc[_0x246612(0x21f)](_0x3eb6d8[_0x246612(0x1da)])&&this['topic'][_0x246612(0x849)]({'sourceId':this[_0x246612(0x573)][_0x246612(0x5cd)](),'content':{'action':_0x221093[_0x246612(0x55e)],'stream':this['mediaStream'],'track':_0x3eb6d8}});}}[_0x2d5032(0x9f2)](_0x47cc83){const _0x57f2cf=_0x2d5032;this[_0x57f2cf(0x81b)]=_0x47cc83;}[_0x2d5032(0xa8c)](_0x1284ff){const _0x51d494=_0x2d5032;_0x1284ff===this[_0x51d494(0x81b)]&&(delete this['topic'],this[_0x51d494(0x341)][_0x51d494(0x849)]());}['onUnregisterPublisher'](_0x67273a){const _0x105c95=_0x2d5032;return this['unregisterPublisherListener'][_0x105c95(0x75b)](_0x67273a);}[_0x2d5032(0xaa0)](_0xfeead7){const _0x7db6f1=_0x2d5032;return this[_0x7db6f1(0x7d8)][_0x7db6f1(0xa87)]()[_0x7db6f1(0x91b)](_0x4de6b9=>_0x4de6b9['kind']===_0xfeead7)||null;}['getInternalTrackParams'](_0x7bad0c,_0x5e78c2){const _0x4efc8d=_0x2d5032;let _0x50a099;return _0x4efc8d(0x5f6)===_0x7bad0c&&_0x5e78c2?.[_0x4efc8d(0x5f6)]&&_0x4efc8d(0x20b)!=typeof _0x5e78c2[_0x4efc8d(0x5f6)]&&(_0x50a099={'kind':_0x4efc8d(0x5f6),..._0x5e78c2[_0x4efc8d(0x5f6)]},_0x50a099[_0x4efc8d(0x6d3)]=this[_0x4efc8d(0x133)]()),_0x4efc8d(0x2fa)===_0x7bad0c&&_0x5e78c2?.[_0x4efc8d(0x2fa)]&&'boolean'!=typeof _0x5e78c2[_0x4efc8d(0x2fa)]&&(_0x50a099={'kind':_0x4efc8d(0x2fa),..._0x5e78c2[_0x4efc8d(0x2fa)]}),_0x50a099;}[_0x2d5032(0x133)](){const _0x5757f7=_0x2d5032;let _0x4f2542={'width':0x0,'height':0x0};const _0x5d2e16=this[_0x5757f7(0x7d8)][_0x5757f7(0x7ee)]();if(_0x5d2e16[_0x5757f7(0x80e)]>0x0){const _0x31c005=_0x5d2e16[0x0]['getSettings']();_0x31c005[_0x5757f7(0xa5e)]&&_0x31c005[_0x5757f7(0x7e9)]&&(_0x4f2542={'width':_0x31c005[_0x5757f7(0xa5e)],'height':_0x31c005[_0x5757f7(0x7e9)]});}return _0x4f2542;}}class _0x403a95 extends _0x1d7561{[_0x2d5032(0xa46)];[_0x2d5032(0x452)]=_0x1a575a[_0x2d5032(0x5aa)]['Default'];[_0x2d5032(0x26b)]=new Map();[_0x2d5032(0x5c1)]=new Map();constructor(_0xe8f020,_0x43d993,_0x4a8ff8,_0x53191e){const _0x34e1e8=_0x2d5032;super(_0xe8f020,_0x43d993,_0x4a8ff8 instanceof MediaStream?_0x4a8ff8:_0x4a8ff8[_0x34e1e8(0x7b7)]?_0x4a8ff8['srcObject']:_0x4a8ff8[_0x34e1e8(0x7f2)]()),this[_0x34e1e8(0xa46)]=_0x53191e,this[_0x34e1e8(0x7d8)][_0x34e1e8(0xa87)]()[_0x34e1e8(0x3e9)](_0x1f332d=>this[_0x34e1e8(0x236)](_0x1f332d)),_0x27f628[_0x34e1e8(0x8d9)](_0x751840['MediaStream'],{'type':'publish','label':this[_0x34e1e8(0x32e)],'nodeId':this['owner'][_0x34e1e8(0x5cd)](),'nodeType':this[_0x34e1e8(0x573)][_0x34e1e8(0xa7e)],'clusterId':this[_0x34e1e8(0xa46)],'streamId':this[_0x34e1e8(0x9e4)](),'trackKinds':this[_0x34e1e8(0x7d8)]['getTracks']()['map'](_0x2d0299=>_0x2d0299[_0x34e1e8(0x1da)])});}[_0x2d5032(0x7f6)](){const _0x440ab9=_0x2d5032;this[_0x440ab9(0x5c1)][_0x440ab9(0x279)]>0x0&&(this[_0x440ab9(0x5c1)][_0x440ab9(0x3e9)](_0x22c2b2=>{const _0x160eb7=_0x440ab9;_0x22c2b2['unregisterSystemPublisher'](),_0x22c2b2[_0x160eb7(0x7f6)]();}),this[_0x440ab9(0x5c1)]['clear']()),this[_0x440ab9(0x26b)][_0x440ab9(0x3e9)](_0x1c2c52=>_0x1c2c52()),super[_0x440ab9(0x7f6)]();}['publish'](_0x37b9d6){const _0x4f7aeb=_0x2d5032;this[_0x4f7aeb(0x83a)][_0x4f7aeb(0x849)]({'sourceId':this[_0x4f7aeb(0x573)][_0x4f7aeb(0x5cd)](),'destinationIds':_0x37b9d6?[_0x37b9d6]:void 0x0,'propagate':!0x0,'messageType':_0x4bbd49[_0x4f7aeb(0x8b3)],'content':{'type':_0x1ff5c6[_0x4f7aeb(0x934)],'ownerId':this[_0x4f7aeb(0x573)][_0x4f7aeb(0x5cd)](),'label':this[_0x4f7aeb(0x32e)],'stream':{'streamId':this[_0x4f7aeb(0x9e4)](),'availableTrackKinds':this[_0x4f7aeb(0x7d8)][_0x4f7aeb(0xa87)]()[_0x4f7aeb(0x247)](_0x4f0b2a=>_0x4f0b2a[_0x4f7aeb(0x1da)])}}});}[_0x2d5032(0x618)](){const _0x548656=_0x2d5032;this[_0x548656(0x83a)][_0x548656(0x849)]({'sourceId':this['owner'][_0x548656(0x5cd)](),'propagate':!0x0,'messageType':_0x4bbd49['Content'],'content':{'type':_0x1ff5c6[_0x548656(0x880)],'ownerId':this[_0x548656(0x573)][_0x548656(0x5cd)](),'label':this[_0x548656(0x32e)]}}),this[_0x548656(0x83a)][_0x548656(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x548656(0x8b3)],'content':{'type':_0x1ff5c6['CloseMediaStream'],'label':this[_0x548656(0x32e)]}}),_0x27f628[_0x548656(0x8d9)](_0x751840['MediaStream'],{'type':_0x548656(0x618),'label':this['label'],'nodeId':this['owner'][_0x548656(0x5cd)](),'nodeType':this['owner'][_0x548656(0xa7e)],'clusterId':this[_0x548656(0xa46)],'streamId':this[_0x548656(0x9e4)]()});}[_0x2d5032(0x85b)](){return this['priority'];}['setPriority'](_0x1be2a9){const _0x538370=_0x2d5032;this[_0x538370(0x452)]=_0x1be2a9,this[_0x538370(0x5c1)][_0x538370(0x3e9)](_0x2499e7=>_0x2499e7[_0x538370(0x7ad)](_0x1be2a9));}[_0x2d5032(0x403)](_0x5f4074,_0x107c5e){const _0x1bd360=_0x2d5032;if(!this[_0x1bd360(0x5c1)][_0x1bd360(0x290)](_0x5f4074)){const _0x303db5=new _0x54a72d(this[_0x1bd360(0x573)],this[_0x1bd360(0x32e)],this['mediaStream'],_0x5f4074,_0x107c5e),_0x2c00e4=_0x303db5[_0x1bd360(0xa00)](()=>{const _0x17dfd6=_0x1bd360;_0x2c00e4(),this['outgoingStreams'][_0x17dfd6(0x13f)](_0x5f4074)?.[_0x17dfd6(0x7f6)](),this[_0x17dfd6(0x5c1)][_0x17dfd6(0x113)](_0x5f4074);});this[_0x1bd360(0x5c1)]['set'](_0x5f4074,_0x303db5),_0x303db5[_0x1bd360(0x6d6)](this[_0x1bd360(0x83a)]);}return this[_0x1bd360(0x5c1)][_0x1bd360(0x13f)](_0x5f4074);}[_0x2d5032(0x7c8)](){return this['mediaStream']['id'];}[_0x2d5032(0x22f)](_0x3354bb){const _0x189fac=_0x2d5032;this['systemTopic'][_0x189fac(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x189fac(0x8b3)],'content':{'type':_0x1ff5c6[_0x189fac(0x6c9)],'label':this[_0x189fac(0x32e)],'trackKinds':[_0x3354bb[_0x189fac(0x1da)]]}});}[_0x2d5032(0x236)](_0x35627d){const _0x572107=_0x2d5032,_0x525df8=()=>this[_0x572107(0x22f)](_0x35627d);_0x35627d[_0x572107(0x9e1)](_0x572107(0x796),_0x525df8),_0x35627d[_0x572107(0x9e1)](_0x572107(0x614),_0x525df8),this[_0x572107(0x26b)][_0x572107(0x687)](_0x35627d[_0x572107(0x1da)],()=>{const _0x33e6dc=_0x572107;_0x35627d['removeEventListener'](_0x33e6dc(0x796),_0x525df8),_0x35627d[_0x33e6dc(0x6c4)](_0x33e6dc(0x614),_0x525df8),this['trackEndedListeners']['delete'](_0x35627d[_0x33e6dc(0x1da)]);});}}class _0xec606 extends _0x403a95{[_0x2d5032(0x8a1)];[_0x2d5032(0x64f)]=[];['clientStream'];['audioSource'];['audioDestination'];[_0x2d5032(0x9cd)];[_0x2d5032(0xad8)];[_0x2d5032(0x5d7)];[_0x2d5032(0x678)];constructor(_0x3eb512,_0x5c86dd,_0x24a254,_0x4b0f73,_0x4c9b6a,_0x183934){const _0xfb8cfe=_0x2d5032;if(super(_0x3eb512,_0x5c86dd,_0x24a254,_0x183934),this['audioContext']=_0x4c9b6a,this['clientStream']=this[_0xfb8cfe(0x7d8)],this[_0xfb8cfe(0x9cd)]=document[_0xfb8cfe(0x106)](_0xfb8cfe(0x5f6)),this[_0xfb8cfe(0x9cd)][_0xfb8cfe(0xa19)]=!0x0,this[_0xfb8cfe(0x9cd)][_0xfb8cfe(0x69c)]=!0x0,this['sourceVideo'][_0xfb8cfe(0x7b7)]=this[_0xfb8cfe(0x331)],this[_0xfb8cfe(0x9cd)][_0xfb8cfe(0x851)](),this[_0xfb8cfe(0x9cd)][_0xfb8cfe(0xaa2)]=()=>{const _0x1741b8=_0xfb8cfe;this[_0x1741b8(0x9cd)]['play']();},this[_0xfb8cfe(0xad8)]=document['createElement']('canvas'),this[_0xfb8cfe(0x5d7)]=this['canvas'][_0xfb8cfe(0xa60)]('2d'),this[_0xfb8cfe(0x7d8)]=this['canvas'][_0xfb8cfe(0x7f2)](_0x4b0f73),this[_0xfb8cfe(0x135)]=this[_0xfb8cfe(0x8a1)][_0xfb8cfe(0xa7d)](),this[_0xfb8cfe(0x331)]['getAudioTracks']()[_0xfb8cfe(0x80e)]>0x0){const _0xe0b5d8=this['clientStream'][_0xfb8cfe(0x31d)]()[0x0];this['audioSource']=this[_0xfb8cfe(0x8a1)][_0xfb8cfe(0xacf)](new MediaStream([_0xe0b5d8])),this[_0xfb8cfe(0x84f)]['connect'](this[_0xfb8cfe(0x135)]);}const _0x159b4f=this[_0xfb8cfe(0x135)][_0xfb8cfe(0xa57)][_0xfb8cfe(0xa87)]()[0x0];this[_0xfb8cfe(0x7d8)][_0xfb8cfe(0x487)](_0x159b4f),this[_0xfb8cfe(0x678)]=setInterval(()=>{const _0xe4bfb2=_0xfb8cfe;this['canvas']['width']=this[_0xe4bfb2(0x9cd)][_0xe4bfb2(0x376)],this[_0xe4bfb2(0xad8)][_0xe4bfb2(0x7e9)]=this[_0xe4bfb2(0x9cd)]['videoHeight'],this['sourceVideo'][_0xe4bfb2(0x376)]?(0x0!==this[_0xe4bfb2(0x331)]['getVideoTracks']()[_0xe4bfb2(0x80e)]&&this[_0xe4bfb2(0x331)]['getVideoTracks']()[0x0][_0xe4bfb2(0x542)]?this[_0xe4bfb2(0x7d8)][_0xe4bfb2(0x7ee)]()[0x0][_0xe4bfb2(0x542)]=!0x0:this[_0xe4bfb2(0x7d8)][_0xe4bfb2(0x7ee)]()[0x0][_0xe4bfb2(0x542)]=!0x1,0x0!==this[_0xe4bfb2(0x331)][_0xe4bfb2(0x31d)]()[_0xe4bfb2(0x80e)]&&this[_0xe4bfb2(0x331)]['getAudioTracks']()[0x0][_0xe4bfb2(0x542)]?this['mediaStream']['getAudioTracks']()[0x0]['enabled']=!0x0:this[_0xe4bfb2(0x7d8)][_0xe4bfb2(0x31d)]()[0x0][_0xe4bfb2(0x542)]=!0x1,this[_0xe4bfb2(0x5d7)][_0xe4bfb2(0x15a)](this[_0xe4bfb2(0x9cd)],0x0,0x0)):this[_0xe4bfb2(0x5d7)]['clearRect'](0x0,0x0,this[_0xe4bfb2(0xad8)][_0xe4bfb2(0xa5e)],this[_0xe4bfb2(0xad8)][_0xe4bfb2(0x7e9)]);},0x3e8/_0x4b0f73);}[_0x2d5032(0x7f6)](){const _0x5608e8=_0x2d5032;clearInterval(this[_0x5608e8(0x678)]),this[_0x5608e8(0x9cd)][_0x5608e8(0x2f0)](),this[_0x5608e8(0xad8)][_0x5608e8(0x2f0)](),this['audioSource']?.[_0x5608e8(0x872)](),this[_0x5608e8(0x135)]['disconnect'](),this[_0x5608e8(0x7d8)][_0x5608e8(0xa87)]()[_0x5608e8(0x3e9)](_0x29adac=>{const _0x3562ca=_0x5608e8;_0x29adac[_0x3562ca(0x1a7)](),this['mediaStream'][_0x3562ca(0x39b)](_0x29adac);}),super[_0x5608e8(0x7f6)]();}[_0x2d5032(0x487)](_0x4cc977){const _0x2a7903=_0x2d5032,_0x1eaf77=this[_0x2a7903(0xaa0)](_0x4cc977[_0x2a7903(0x1da)]);_0x1eaf77&&this[_0x2a7903(0x39b)](_0x1eaf77),_0x2a7903(0x2fa)!==_0x4cc977[_0x2a7903(0x1da)]?(_0x2a7903(0x5f6)===_0x4cc977['kind']&&this['addVideoTrack'](_0x4cc977),this['setupTrackEndedListeners'](_0x4cc977)):this[_0x2a7903(0x7c6)](_0x4cc977);}['removeTrack'](_0x5b62a7){const _0x473fec=_0x2d5032,_0x16a847=this[_0x473fec(0x7ca)](_0x5b62a7);return _0x16a847&&('audio'===_0x16a847[_0x473fec(0x1da)]&&(this[_0x473fec(0x84f)]?.[_0x473fec(0x872)](),this[_0x473fec(0x84f)]=void 0x0),this['trackEndedListeners'][_0x473fec(0x13f)](_0x16a847[_0x473fec(0x1da)])?.(),this[_0x473fec(0x331)][_0x473fec(0x39b)](_0x16a847)),_0x16a847;}[_0x2d5032(0x85d)](_0x28e223){const _0x419e66=_0x2d5032;this[_0x419e66(0x39b)](_0x28e223[_0x419e66(0x1da)]),this['addTrack'](_0x28e223);}['setTransformations'](_0x879000){const _0x11754b=_0x2d5032;this[_0x11754b(0x64f)]=_0x879000;}[_0x2d5032(0xaa0)](_0x386c3b){const _0x16a44a=_0x2d5032;return this[_0x16a44a(0x331)][_0x16a44a(0xa87)]()[_0x16a44a(0x91b)](_0x3db1d5=>_0x3db1d5['kind']===_0x386c3b)||null;}[_0x2d5032(0x7ca)](_0x4044f8){const _0x1c9ddc=_0x2d5032;return'string'==typeof _0x4044f8?this[_0x1c9ddc(0xaa0)](_0x4044f8):_0x4044f8;}[_0x2d5032(0x7c6)](_0x209ab0){const _0x107c72=_0x2d5032;'suspended'===this[_0x107c72(0x8a1)][_0x107c72(0x7cf)]&&this['audioContext'][_0x107c72(0x8b1)](),this[_0x107c72(0x331)][_0x107c72(0x487)](_0x209ab0),this[_0x107c72(0x84f)]=this[_0x107c72(0x8a1)]['createMediaStreamSource'](this[_0x107c72(0x331)]),this[_0x107c72(0x84f)][_0x107c72(0xf4)](this[_0x107c72(0x135)]);}['addVideoTrack'](_0x3b5094){const _0x365bc=_0x2d5032;this[_0x365bc(0x331)]['addTrack'](_0x3b5094),this['sourceVideo'][_0x365bc(0x851)]();}}class _0x773cf extends _0x403a95{}class _0x754a4a extends _0x1d8a54{[_0x2d5032(0x6ff)];[_0x2d5032(0xa46)];['vendorId'];[_0x2d5032(0x16d)];['waitForArrayBufferSize'];[_0x2d5032(0x938)];['unsubscribeHandler'];[_0x2d5032(0x1d6)];[_0x2d5032(0x716)]=new Map();[_0x2d5032(0x4e0)]=new Map();[_0x2d5032(0x976)]=new Map();['pendingFilesTransactions']=new Map();[_0x2d5032(0x3c7)]=new Map();[_0x2d5032(0x3d8)]=new Map();['objectStoreConnector'];[_0x2d5032(0x978)]=_0x2d1ffa();[_0x2d5032(0x219)]=new Map();['debounceStats'];[_0x2d5032(0x650)]=0x0;[_0x2d5032(0x952)]=0x0;[_0x2d5032(0x55d)]=!0x0;[_0x2d5032(0x602)]=!0x0;[_0x2d5032(0x516)]=0x0;[_0x2d5032(0x591)]=0x0;constructor(_0x3de96d,_0x5d3076,_0x48788d,_0x25c89b,_0x191e2b,_0xfb7e47,_0x226f0e,_0x9d062a){const _0x1eed2f=_0x2d5032;if(_0x1eed2f(0x823)!=typeof _0x5d3076)throw new _0x10fc18(_0x10a5c8[_0x1eed2f(0x5bb)],_0x1eed2f(0x73e));super(_0x3de96d,_0x5d3076),this['localNode']=_0x3de96d,this[_0x1eed2f(0xa46)]=_0x48788d,this['vendorId']=_0x25c89b,this[_0x1eed2f(0x16d)]=_0x191e2b,this['waitForArrayBufferSize']=_0x226f0e,this[_0x1eed2f(0x938)]=_0x9d062a;const _0x4c12df=_0x1eed2f(0x5ca)+this[_0x1eed2f(0x514)]+_0x1eed2f(0x5ca)+this['clusterId']+'ccc'+_0x5d3076;this[_0x1eed2f(0x454)]=new _0xfb7e47(_0x4c12df),this[_0x1eed2f(0x55d)]=this[_0x1eed2f(0x938)]?.[_0x1eed2f(0x55d)]??!0x0,this[_0x1eed2f(0x938)]?.[_0x1eed2f(0x2ee)]&&(this[_0x1eed2f(0x55d)]=!0x1),this[_0x1eed2f(0xee)]();}[_0x2d5032(0xf2)](){const _0x2c7618=_0x2d5032;this[_0x2c7618(0xee)]();}[_0x2d5032(0x98e)](){const _0x263803=_0x2d5032;return _0x1a575a[_0x263803(0x979)]['ObjectStore'];}async[_0x2d5032(0x8dc)](){const _0x4890c0=_0x2d5032;this[_0x4890c0(0x602)]=!0x0;try{const _0x32ff3d=await this['objectStoreConnector'][_0x4890c0(0x13f)](_0x57eb15),_0x5bc052=await _0x32ff3d[_0x4890c0(0x908)]();this[_0x4890c0(0x1d6)]=_0x5bc052;}catch(_0xf08b6e){}this[_0x4890c0(0x769)]=this[_0x4890c0(0x63f)](async(_0x22d790,_0x443eaf)=>{const _0x495141=_0x4890c0;if(!(_0x443eaf instanceof File))try{if(_0x443eaf[_0x495141(0x6de)]===_0x5dd587[_0x495141(0x836)])return void this[_0x495141(0x5ff)](_0x443eaf);this[_0x495141(0x64e)](_0x443eaf);}catch(_0x920c5c){if(_0x920c5c instanceof _0x54e1a8)throw _0x920c5c;throw new _0x54e1a8(_0x54e1a8[_0x495141(0x318)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x443eaf});}}),await this[_0x4890c0(0x29f)](),this['syncContent']?await this['syncPendingFiles']():this[_0x4890c0(0x8d3)](),this['sendStats']();}[_0x2d5032(0x7f6)](){const _0x1c31b3=_0x2d5032;this[_0x1c31b3(0x769)]?.(),this[_0x1c31b3(0x219)][_0x1c31b3(0x3e9)](_0x132dfd=>_0x132dfd()),this['listenerUnsubscribers'][_0x1c31b3(0x24b)](),clearTimeout(this[_0x1c31b3(0x472)]),delete this['debounceStats'],super[_0x1c31b3(0x7f6)]();}[_0x2d5032(0x8d0)](){const _0x1f6ac3=_0x2d5032;this[_0x1f6ac3(0x83a)]?.[_0x1f6ac3(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x1f6ac3(0x8b3)],'content':{'type':_0x1ff5c6[_0x1f6ac3(0x89e)],'label':this[_0x1f6ac3(0x32e)]}});}[_0x2d5032(0x75b)](_0x5013b3,_0x5ade82){const _0x41b02d=_0x2d5032;if(this[_0x41b02d(0x219)][_0x41b02d(0x290)](_0x5013b3))throw new _0x10fc18(_0x10a5c8['ObjectStoreAlreadySubscribed'],_0x41b02d(0xea));this[_0x41b02d(0x219)][_0x41b02d(0x687)](_0x5013b3,this['eventListener'][_0x41b02d(0x75b)](_0x5ade82)),this[_0x41b02d(0x602)]||this[_0x41b02d(0x978)][_0x41b02d(0x849)]({'event':_0x1a575a[_0x41b02d(0x803)][_0x41b02d(0x3aa)],'payload':{'filesSynced':this[_0x41b02d(0x516)]}});}[_0x2d5032(0x3c5)](_0x18cec2){const _0x293e4e=_0x2d5032;this[_0x293e4e(0x219)]['get'](_0x18cec2)?.(),this['listenerUnsubscribers']['delete'](_0x18cec2);}['publish'](_0x452eb6){const _0x220230=_0x2d5032;switch(_0x452eb6['action']){case _0x1a575a[_0x220230(0x6a7)][_0x220230(0x19b)]:return this[_0x220230(0x153)](_0x452eb6['file'],_0x452eb6[_0x220230(0x9fd)],_0x452eb6[_0x220230(0x938)]);case _0x1a575a[_0x220230(0x6a7)]['Folder']:return this['publishFolder'](_0x452eb6[_0x220230(0x9fd)]);case _0x1a575a[_0x220230(0x6a7)]['Move']:return this['publishMove'](_0x452eb6['path'],_0x452eb6[_0x220230(0x82a)]);default:throw new _0x10fc18(_0x10a5c8['ObjectStoreInvalidPayload'],'Cannot\x20publish\x20payload:\x20'+_0x452eb6);}}async[_0x2d5032(0x618)](_0x2073ab){const _0x3af043=_0x2d5032;try{const _0x18551e=(0x0,_0x1fd9e4['v4'])(),_0x4f7fc1=this[_0x3af043(0x1d6)],_0x23f445={'payloadType':_0x5dd587[_0x3af043(0x481)],'action':_0x1ac54a[_0x3af043(0x82b)],'id':_0x18551e,'parentId':_0x4f7fc1,'path':_0x2073ab};await this[_0x3af043(0x556)](_0x23f445);const _0x4bad85=await this[_0x3af043(0x2e8)](_0x2073ab);!0x0!==this[_0x3af043(0x938)]?.[_0x3af043(0x2ee)]&&await this[_0x3af043(0x309)](_0x23f445),_0x27f628[_0x3af043(0x8d9)](_0x751840[_0x3af043(0x89b)],{'type':_0x3af043(0x618),'label':this[_0x3af043(0x32e)],'nodeId':this[_0x3af043(0x6ff)]['getId'](),'nodeType':this[_0x3af043(0x6ff)][_0x3af043(0xa7e)],'clusterId':this[_0x3af043(0xa46)],'kind':_0x4bad85,'path':_0x2073ab}),this['writes']+=0x1,this[_0x3af043(0xee)]();}catch(_0x312074){if(_0x312074 instanceof _0x54e1a8)throw new _0x10fc18(_0x10a5c8[_0x3af043(0x311)],'Cannot\x20unpublish\x20object\x20at\x20'+_0x2073ab+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x10fc18(_0x10a5c8[_0x3af043(0x6e3)],_0x3af043(0x829)+_0x2073ab);}}async[_0x2d5032(0x13f)](_0x492949,_0x384724){const _0x688f03=_0x2d5032;_0x27f628[_0x688f03(0x8d9)](_0x751840['ObjectStorage'],{'type':_0x688f03(0x13f),'label':this['label'],'nodeId':this['localNode'][_0x688f03(0x5cd)](),'nodeType':this[_0x688f03(0x6ff)][_0x688f03(0xa7e)],'clusterId':this[_0x688f03(0xa46)],'path':_0x492949}),this[_0x688f03(0x952)]+=0x1,this[_0x688f03(0xee)]();try{return await this['objectStoreConnector']['get'](_0x492949,_0x384724);}catch(_0x2d0d8e){try{await this[_0x688f03(0x454)][_0x688f03(0x13f)](_0x492949+_0x7ca409);}catch(_0x2b77b5){throw new _0x10fc18(_0x10a5c8['ObjectStoreInvalidPath'],_0x688f03(0x98f)+_0x492949);}throw new _0x10fc18(_0x10a5c8['ObjectStoreNotInSync'],_0x688f03(0x6cb));}}async[_0x2d5032(0x6bb)](_0x4c7d56,_0x51a294){const _0x5cc5a8=_0x2d5032,{recursive:_0x47dbbc=!0x1,includeSyncingFiles:_0x2f269c=!0x1}=_0x51a294??{};_0x27f628[_0x5cc5a8(0x8d9)](_0x751840['ObjectStorage'],{'type':_0x5cc5a8(0x6bb),'label':this[_0x5cc5a8(0x32e)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x5cc5a8(0x6ff)][_0x5cc5a8(0xa7e)],'clusterId':this[_0x5cc5a8(0xa46)],'path':_0x4c7d56}),this[_0x5cc5a8(0x952)]+=0x1,this[_0x5cc5a8(0xee)]();try{const _0x257892=await this[_0x5cc5a8(0x454)]['list'](_0x4c7d56,_0x47dbbc);return this[_0x5cc5a8(0x4d8)](_0x257892,{'recursive':_0x47dbbc,'includeSyncingFiles':_0x2f269c});}catch(_0x10b33a){throw new _0x10fc18(_0x10a5c8[_0x5cc5a8(0x6e3)],_0x5cc5a8(0x953)+_0x4c7d56);}}[_0x2d5032(0x649)](_0x24edc1){const _0x4c2bdd=_0x2d5032;this['nodesConnected']+=0x1;for(const _0x424473 of this['objectRequests']['values']())this[_0x4c2bdd(0x309)](_0x424473,[_0x24edc1]);}[_0x2d5032(0x3dc)](_0x1b1670){const _0x229285=_0x2d5032;this[_0x229285(0x591)]-=0x1;const _0x3b0e15=this['pendingFilesSyncing'][_0x229285(0x13f)](_0x1b1670);if(_0x3b0e15){for(const [_0x10a955,_0x13d471]of _0x3b0e15[_0x229285(0xa94)]())this[_0x229285(0x39a)](_0x10a955,_0x13d471);this['pendingFilesSyncing']['delete'](_0x1b1670);}}async[_0x2d5032(0x9d1)](_0x204c6b='/'){const _0x41c409=_0x2d5032;try{return await this[_0x41c409(0x454)][_0x41c409(0x25f)](_0x204c6b);}catch(_0x4acefc){if(_0x4acefc instanceof Error&&_0x4acefc['message'][_0x41c409(0x21f)]('ENOENT'))return 0x0;throw new _0x10fc18(_0x10a5c8[_0x41c409(0x6e3)],_0x41c409(0xa54)+_0x204c6b);}}[_0x2d5032(0x8d3)](){const _0x3cabf4=_0x2d5032;this[_0x3cabf4(0x602)]&&(this[_0x3cabf4(0x602)]=!0x1,this[_0x3cabf4(0x978)][_0x3cabf4(0x849)]({'event':_0x1a575a['StorageEventType']['SyncComplete'],'payload':{'filesSynced':this[_0x3cabf4(0x516)]}}));}async[_0x2d5032(0x4d8)](_0x2db78a,{includeSyncingFiles:_0x5ba126=!0x1}){const _0xd80d31=_0x2d5032,_0x96d792=[];for(const _0x32faf5 of _0x2db78a)if(_0x32faf5[_0xd80d31(0x1da)]!==_0x1a575a[_0xd80d31(0x81f)][_0xd80d31(0x402)]){if(_0x32faf5[_0xd80d31(0x928)]!==_0x57eb15){if(_0x32faf5['name'][_0xd80d31(0xade)](_0x7ca409)){if(!_0x5ba126)continue;const _0x34a747=_0x32faf5;if(_0x34a747[_0xd80d31(0x928)]=_0x34a747[_0xd80d31(0x928)][_0xd80d31(0x9b8)](_0x7ca409,''),_0x34a747['pathName']=_0x34a747[_0xd80d31(0x612)][_0xd80d31(0x9b8)](_0x7ca409,''),await this[_0xd80d31(0x5d6)](_0x34a747['pathName'])){_0x2db78a[_0xd80d31(0x91b)](_0x342d19=>_0x342d19['pathName']===_0x34a747['pathName'])['status']=_0x1a575a['FileStatus'][_0xd80d31(0x752)];continue;}_0x34a747[_0xd80d31(0xa11)]=_0x1a575a[_0xd80d31(0x3e3)][_0xd80d31(0x423)];}_0x96d792[_0xd80d31(0x806)](_0x32faf5);}}else _0x32faf5[_0xd80d31(0x419)]=await this[_0xd80d31(0x4d8)](_0x32faf5[_0xd80d31(0x419)]??[],{'includeSyncingFiles':_0x5ba126}),_0x96d792['push'](_0x32faf5);return _0x96d792;}async['publishFile'](_0x446629,_0x18f540,_0x3a0ab2){const _0xc9e8d6=_0x2d5032;try{const _0x25ea15=(0x0,_0x1fd9e4['v4'])(),_0x16d017=await _0x3e5057(_0x446629),_0x508ff7=_0x573cd5(_0x18f540??'/',_0x446629[_0xc9e8d6(0x928)]);let _0x46a3ed=!0x0;const _0x82866e={'payloadType':_0x5dd587['Transaction'],'action':_0x1ac54a[_0xc9e8d6(0x893)],'id':_0x25ea15,'parentId':this['lastTransactionId'],'answererId':this[_0xc9e8d6(0x6ff)][_0xc9e8d6(0x5cd)](),'name':_0x446629['name'],'type':_0x446629[_0xc9e8d6(0xa7e)],'path':_0x18f540??'/','skipEncryption':_0x3a0ab2?.[_0xc9e8d6(0x584)]??!0x1,'checksum':_0x16d017};try{if(!_0x3a0ab2?.[_0xc9e8d6(0x3cc)])throw new Error(_0xc9e8d6(0x7ed));const _0x24f74c=_0x508ff7+_0x7ca409;await this[_0xc9e8d6(0x454)][_0xc9e8d6(0x13f)](_0x24f74c),_0x46a3ed=!0x1,await this[_0xc9e8d6(0x454)][_0xc9e8d6(0x2e8)](_0x24f74c),this['objectRequests']['delete'](_0x508ff7);}catch(_0x47f815){await this[_0xc9e8d6(0x556)](_0x82866e);}if(this[_0xc9e8d6(0x55d)]||this[_0xc9e8d6(0x938)]?.['standalone']?await this[_0xc9e8d6(0x56c)](_0x446629,_0x18f540,_0x3a0ab2):await this[_0xc9e8d6(0xa22)](_0x446629[_0xc9e8d6(0x928)],_0x18f540??'/',{'checksum':_0x16d017,'skipEncryption':_0x3a0ab2?.[_0xc9e8d6(0x584)]??!0x1}),this['fileSendingMap'][_0xc9e8d6(0x290)](_0x508ff7)){const [_0x278721,_0xe547f2]=this[_0xc9e8d6(0x3d8)][_0xc9e8d6(0x13f)](_0x508ff7);this[_0xc9e8d6(0x3d8)][_0xc9e8d6(0x687)](_0x508ff7,[!0x0,_0xe547f2]);try{await _0xe547f2;}catch(_0x4be6af){}this['fileSendingMap'][_0xc9e8d6(0x113)](_0x508ff7);}_0x46a3ed&&this[_0xc9e8d6(0x591)]>0x0&&!0x0!==this[_0xc9e8d6(0x938)]?.[_0xc9e8d6(0x2ee)]&&await this['sendFile'](_0x446629,_0x82866e),_0x27f628[_0xc9e8d6(0x8d9)](_0x751840[_0xc9e8d6(0x89b)],{'type':'publish','label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this['localNode'][_0xc9e8d6(0xa7e)],'clusterId':this[_0xc9e8d6(0xa46)],'kind':_0x1a575a[_0xc9e8d6(0x81f)][_0xc9e8d6(0x19b)],'path':_0x18f540,'fileName':_0x446629[_0xc9e8d6(0x928)],'fileType':_0x446629[_0xc9e8d6(0xa7e)],'size':_0x446629[_0xc9e8d6(0x279)]}),this['writes']+=0x1,this[_0xc9e8d6(0xee)]();}catch(_0x239981){if(_0x239981 instanceof _0x54e1a8)throw new _0x10fc18(_0x10a5c8[_0xc9e8d6(0x311)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x10fc18(_0x10a5c8[_0xc9e8d6(0x6e3)],'Cannot\x20publish\x20file:\x20'+_0x18f540+(_0x18f540?.['endsWith']('/')?'':'/')+_0x446629[_0xc9e8d6(0x928)]);}}async[_0x2d5032(0xa41)](_0x1e3bc7){const _0x91d2fc=_0x2d5032;try{const _0x40d286=(0x0,_0x1fd9e4['v4'])(),_0x13542d=this[_0x91d2fc(0x1d6)],_0x37b57a={'payloadType':_0x5dd587['Transaction'],'action':_0x1ac54a['FolderCreate'],'id':_0x40d286,'parentId':_0x13542d,'path':_0x1e3bc7};await this[_0x91d2fc(0x556)](_0x37b57a),await this['objectStoreConnector'][_0x91d2fc(0x842)](_0x1e3bc7),!0x0!==this[_0x91d2fc(0x938)]?.[_0x91d2fc(0x2ee)]&&await this['send'](_0x37b57a),_0x27f628[_0x91d2fc(0x8d9)](_0x751840[_0x91d2fc(0x89b)],{'type':_0x91d2fc(0x849),'label':this[_0x91d2fc(0x32e)],'nodeId':this['localNode'][_0x91d2fc(0x5cd)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'kind':_0x1a575a[_0x91d2fc(0x81f)][_0x91d2fc(0x402)],'path':_0x1e3bc7}),this['writes']+=0x1,this[_0x91d2fc(0xee)]();}catch(_0x1dabc9){if(_0x1dabc9 instanceof _0x54e1a8)throw new _0x10fc18(_0x10a5c8[_0x91d2fc(0x311)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x10fc18(_0x10a5c8[_0x91d2fc(0x6e3)],_0x91d2fc(0x344)+_0x1e3bc7);}}async[_0x2d5032(0x8de)](_0x294bc1,_0xdb1b23){const _0x106b7c=_0x2d5032;try{const _0x38daeb=(0x0,_0x1fd9e4['v4'])(),_0x319703=this[_0x106b7c(0x1d6)],_0x35f346={'payloadType':_0x5dd587[_0x106b7c(0x481)],'action':_0x1ac54a[_0x106b7c(0x5ed)],'id':_0x38daeb,'parentId':_0x319703,'path':_0x294bc1,'newPath':_0xdb1b23};await this[_0x106b7c(0x556)](_0x35f346);const _0x1fe8c3=await this[_0x106b7c(0x6cc)](_0x294bc1,_0xdb1b23);!0x0!==this[_0x106b7c(0x938)]?.[_0x106b7c(0x2ee)]&&await this[_0x106b7c(0x309)](_0x35f346),_0x27f628[_0x106b7c(0x8d9)](_0x751840[_0x106b7c(0x89b)],{'type':_0x106b7c(0x87a),'label':this[_0x106b7c(0x32e)],'nodeId':this[_0x106b7c(0x6ff)][_0x106b7c(0x5cd)](),'nodeType':this[_0x106b7c(0x6ff)][_0x106b7c(0xa7e)],'clusterId':this[_0x106b7c(0xa46)],'kind':_0x1fe8c3,'path':_0x294bc1,'newPath':_0xdb1b23}),this[_0x106b7c(0x650)]+=0x1,this['sendStats']();}catch(_0x1d2e52){if(_0x1d2e52 instanceof _0x54e1a8)throw new _0x10fc18(_0x10a5c8['ObjectStoreNotInSync'],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x10fc18(_0x10a5c8[_0x106b7c(0x6e3)],_0x106b7c(0x5b4)+_0x294bc1);}}async[_0x2d5032(0x64e)](_0x559a13,_0x43e6ec=!0x1){const _0x2c7c5f=_0x2d5032;if(this[_0x2c7c5f(0x1d6)]&&_0x559a13[_0x2c7c5f(0x3f8)]!==this[_0x2c7c5f(0x1d6)]&&_0x559a13['id']!==this[_0x2c7c5f(0x1d6)]){if(!_0x559a13[_0x2c7c5f(0x3f8)])throw new _0x54e1a8(_0x54e1a8[_0x2c7c5f(0x318)]['ObjectStoreInvalidSyncMessage']);this[_0x2c7c5f(0x716)][_0x2c7c5f(0x687)](_0x559a13[_0x2c7c5f(0x3f8)],_0x559a13);}else{try{await this[_0x2c7c5f(0x30e)](_0x559a13,_0x43e6ec);}catch(_0x32c2d2){}await this['updateLastTransactionId'](_0x559a13['id']),await this[_0x2c7c5f(0x299)](_0x559a13['id'],_0x43e6ec);}}async[_0x2d5032(0x30e)](_0x4a058f,_0x42b1a9=!0x1){const _0x4baffc=_0x2d5032;switch(_0x4a058f['action']){case _0x1ac54a[_0x4baffc(0x893)]:await this[_0x4baffc(0x214)](_0x4a058f);break;case _0x1ac54a[_0x4baffc(0x451)]:await this[_0x4baffc(0x4be)](_0x4a058f);break;case _0x1ac54a[_0x4baffc(0x5ed)]:await this['handleObjectMove'](_0x4a058f,_0x42b1a9);break;case _0x1ac54a['Delete']:await this[_0x4baffc(0x45d)](_0x4a058f,_0x42b1a9);break;default:throw new _0x54e1a8(_0x54e1a8[_0x4baffc(0x318)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x4a058f});}}async[_0x2d5032(0x299)](_0x3561c1,_0x548971=!0x1){const _0x17c5b7=_0x2d5032;if(this[_0x17c5b7(0x716)][_0x17c5b7(0x290)](_0x3561c1)){const _0x5c5341=this['pendingSyncTransactions'][_0x17c5b7(0x13f)](_0x3561c1);this[_0x17c5b7(0x716)]['delete'](_0x3561c1),await this['handleTransactionPayload'](_0x5c5341,_0x548971);}}async[_0x2d5032(0x5ff)](_0x33abf0){const _0x196da4=_0x2d5032;switch(_0x33abf0[_0x196da4(0x736)]){case _0x1ac54a[_0x196da4(0x74b)]:return this['handleFileRequest'](_0x33abf0);case _0x1ac54a[_0x196da4(0x832)]:return this[_0x196da4(0x8d5)](_0x33abf0);case _0x1ac54a[_0x196da4(0x246)]:return this[_0x196da4(0x52b)](_0x33abf0);case _0x1ac54a[_0x196da4(0x2ec)]:return this['handleFileWrite'](_0x33abf0);default:throw new _0x54e1a8(_0x54e1a8['codes'][_0x196da4(0xaa8)],{'payload':_0x33abf0});}}async['handleFileWrite'](_0x2be7f7,_0xe41e72=0x0){const _0x117c93=_0x2d5032,_0x2b7810=_0x573cd5(_0x2be7f7[_0x117c93(0x9fd)],_0x2be7f7[_0x117c93(0x928)]);if(!_0x2be7f7['data']||void 0x0===_0x2be7f7['index']||!_0x2be7f7[_0x117c93(0x4eb)])return this['fileChunks'][_0x117c93(0x113)](_0x2b7810),void await this[_0x117c93(0xa22)](_0x2be7f7[_0x117c93(0x928)],_0x2be7f7[_0x117c93(0x9fd)],{'checksum':_0x2be7f7[_0x117c93(0x304)],'skipEncryption':_0x2be7f7[_0x117c93(0x584)]});if(this[_0x117c93(0x7e8)]['has'](_0x2b7810)){const _0x46b05a=this['fileChunks'][_0x117c93(0x13f)](_0x2b7810);_0x46b05a[_0x117c93(0x304)]!==_0x2be7f7[_0x117c93(0x304)]&&(_0x46b05a[_0x117c93(0xa57)]?.[_0x117c93(0x8d0)](),this['fileChunks'][_0x117c93(0x113)](_0x2b7810));}if(!this[_0x117c93(0x7e8)][_0x117c93(0x290)](_0x2b7810)){try{await this[_0x117c93(0x454)][_0x117c93(0x2e8)](_0x2b7810);}catch(_0x514ad3){}try{const _0x51dcae=this[_0x117c93(0x55d)]?await this[_0x117c93(0x454)][_0x117c93(0x8ad)](_0x2b7810,{'skipEncryption':_0x2be7f7[_0x117c93(0x584)]}):void 0x0,_0x48797e={'chunksReceived':_0x2be7f7[_0x117c93(0x3b9)]??0x0,'bytesReceived':0x0,'stream':_0x51dcae,'checksum':_0x2be7f7['checksum']};this[_0x117c93(0x7e8)][_0x117c93(0x687)](_0x2b7810,_0x48797e),await this[_0x117c93(0xa22)](_0x2be7f7[_0x117c93(0x928)],_0x2be7f7[_0x117c93(0x9fd)],{'checksum':_0x2be7f7[_0x117c93(0x304)],'skipEncryption':_0x2be7f7['skipEncryption']});}catch(_0x2229df){}}const _0x203da3=this[_0x117c93(0x7e8)]['get'](_0x2b7810);if(_0x2be7f7[_0x117c93(0x304)]!==_0x203da3[_0x117c93(0x304)])return;if(this[_0x117c93(0x65e)](_0x2be7f7,_0x2b7810),this['syncContent']){if(!_0x203da3[_0x117c93(0xa57)])throw new _0x54e1a8(_0x54e1a8[_0x117c93(0x318)][_0x117c93(0xaa8)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x75472b=_0x203da3[_0x117c93(0x351)];if(_0x2be7f7[_0x117c93(0x2a7)]!==_0x75472b){if(_0x75472b>_0x2be7f7[_0x117c93(0x2a7)])return;const _0x57049f=0x1000;if(_0x2be7f7[_0x117c93(0x2a7)]>_0x75472b+_0x57049f)return;if(_0x203da3[_0x117c93(0x858)]||(_0x203da3['bufferedChunks']=[]),_0x203da3['bufferedChunks']['length']>0x4000)throw this[_0x117c93(0x7e8)][_0x117c93(0x113)](_0x2b7810),new _0x54e1a8(_0x54e1a8[_0x117c93(0x318)][_0x117c93(0xaa8)],{'message':_0x117c93(0xa44)});return void _0x203da3['bufferedChunks'][_0x117c93(0x806)](_0x2be7f7);}try{_0x203da3[_0x117c93(0x351)]+=0x1,_0x203da3[_0x117c93(0x8a4)]+=_0x2be7f7['data']['byteLength'],await _0x203da3['stream']['write'](_0x2be7f7[_0x117c93(0x906)]);}catch(_0x387ea2){if(console[_0x117c93(0x275)](_0x117c93(0x581),_0x387ea2),_0xe41e72>0x3)throw this[_0x117c93(0x7e8)][_0x117c93(0x113)](_0x2b7810),console[_0x117c93(0x275)](_0x117c93(0x1c8),_0x387ea2),new _0x54e1a8(_0x54e1a8[_0x117c93(0x318)][_0x117c93(0xaa8)],{'message':_0x117c93(0x1c8)});return this[_0x117c93(0x214)](_0x2be7f7,_0xe41e72+0x1);}}try{await this[_0x117c93(0x681)](_0x203da3,_0x2be7f7[_0x117c93(0x2a7)]+0x1);}catch(_0x31f67){throw this[_0x117c93(0x7e8)][_0x117c93(0x113)](_0x2b7810),_0x31f67;}if(this['fileChunks'][_0x117c93(0x687)](_0x2b7810,_0x203da3),_0x203da3[_0x117c93(0x351)]<_0x2be7f7[_0x117c93(0x4eb)])return;await this[_0x117c93(0x1f9)](_0x2b7810),this[_0x117c93(0x55d)]&&(await this[_0x117c93(0x372)](_0x2be7f7),_0x27f628['logServiceEvent'](_0x751840[_0x117c93(0x89b)],{'type':_0x117c93(0x8dc),'label':this['label'],'nodeId':this['localNode'][_0x117c93(0x5cd)](),'nodeType':this['localNode'][_0x117c93(0xa7e)],'clusterId':this[_0x117c93(0xa46)],'kind':_0x1a575a[_0x117c93(0x81f)][_0x117c93(0x19b)],'path':_0x2be7f7[_0x117c93(0x9fd)],'fileName':_0x2be7f7[_0x117c93(0x928)],'fileType':_0x2be7f7['type'],'size':_0x203da3[_0x117c93(0x8a4)]}));const _0x4b862e=this[_0x117c93(0x43d)][_0x117c93(0x13f)](_0x2be7f7[_0x117c93(0x9fd)])??[];for(const _0x19ec57 of _0x4b862e)await this[_0x117c93(0x30e)](_0x19ec57);this[_0x117c93(0x43d)][_0x117c93(0x113)](_0x2be7f7[_0x117c93(0x9fd)]),this[_0x117c93(0x978)][_0x117c93(0x849)]({'event':_0x1a575a[_0x117c93(0x803)][_0x117c93(0x893)],'payload':{'file':{'kind':_0x1a575a[_0x117c93(0x81f)][_0x117c93(0x19b)],'path':_0x2be7f7[_0x117c93(0x9fd)],'type':_0x2be7f7[_0x117c93(0xa7e)],'size':_0x203da3[_0x117c93(0x8a4)],'name':_0x2be7f7[_0x117c93(0x928)],'pathName':_0x2b7810,'status':this[_0x117c93(0x55d)]?_0x1a575a[_0x117c93(0x3e3)]['Synced']:_0x1a575a[_0x117c93(0x3e3)][_0x117c93(0x423)]}}}),this[_0x117c93(0xee)]();}async['manageBufferedChunks'](_0xc155aa,_0x202b8a){const _0x325361=_0x2d5032,_0x462329=_0xc155aa[_0x325361(0xa57)];let _0xc43050=0x0;for(;_0xc155aa[_0x325361(0x858)]&&_0xc155aa['bufferedChunks'][_0x325361(0x80e)]>0x0;){const _0x22ce5d=_0xc155aa['bufferedChunks']['find'](_0x4008ae=>_0x4008ae['index']===_0x202b8a+0x1);if(!_0x22ce5d)break;_0xc155aa[_0x325361(0x858)]=_0xc155aa[_0x325361(0x858)][_0x325361(0xa9f)](_0x1e3fb0=>_0x1e3fb0[_0x325361(0x2a7)]!==_0x202b8a+0x1);try{await _0x462329['write'](_0x22ce5d[_0x325361(0x906)]),_0x202b8a++;}catch(_0x40d226){if(console[_0x325361(0x275)](_0x325361(0x438),_0x40d226),_0xc43050>0x3)throw console[_0x325361(0x275)](_0x325361(0x14e),_0x40d226),new _0x54e1a8(_0x54e1a8[_0x325361(0x318)][_0x325361(0xaa8)],{'message':_0x325361(0x14e)});_0xc43050++;continue;}_0xc155aa['chunksReceived']+=0x1,_0xc155aa[_0x325361(0x8a4)]+=_0x22ce5d[_0x325361(0x906)]['byteLength'];}}async[_0x2d5032(0x4be)](_0x586ac0){const _0x5304e1=_0x2d5032;await this['objectStoreConnector'][_0x5304e1(0x842)](_0x586ac0[_0x5304e1(0x9fd)]);const [_0x3215cf,_0x48a494]=_0xc73ed9(_0x586ac0[_0x5304e1(0x9fd)]);this[_0x5304e1(0x978)]['publish']({'event':_0x1a575a['StorageEventType']['FolderCreate'],'payload':{'folder':{'kind':_0x1a575a[_0x5304e1(0x81f)][_0x5304e1(0x402)],'name':_0x48a494,'path':_0x3215cf,'pathName':_0x586ac0['path']}}});}async[_0x2d5032(0x45d)](_0x595629,_0x5a5f78=!0x1){const _0x1fafaf=_0x2d5032;if(!_0x5a5f78&&!this[_0x1fafaf(0x8ce)](_0x595629))return;const _0x2bb98b=await this[_0x1fafaf(0x2e8)](_0x595629['path']),[_0xbdba23,_0x29709a]=_0xc73ed9(_0x595629[_0x1fafaf(0x9fd)]);this[_0x1fafaf(0x978)][_0x1fafaf(0x849)]({'event':_0x2bb98b===_0x1a575a[_0x1fafaf(0x81f)]['Folder']?_0x1a575a[_0x1fafaf(0x803)]['FolderDelete']:_0x1a575a[_0x1fafaf(0x803)][_0x1fafaf(0x13e)],'payload':{'name':_0x29709a,'path':_0xbdba23,'pathName':_0x595629[_0x1fafaf(0x9fd)]}}),this['sendStats']();}async[_0x2d5032(0x597)](_0x33df3e,_0x2b1ee8=!0x1){const _0x4f6ac0=_0x2d5032;if(!_0x2b1ee8&&!this[_0x4f6ac0(0x8ce)](_0x33df3e))return this[_0x4f6ac0(0x3c7)][_0x4f6ac0(0x687)](_0x33df3e['newPath'],this[_0x4f6ac0(0x3c7)][_0x4f6ac0(0x13f)](_0x33df3e[_0x4f6ac0(0x9fd)])??_0x33df3e[_0x4f6ac0(0x9fd)]),void this[_0x4f6ac0(0x3c7)]['delete'](_0x33df3e[_0x4f6ac0(0x9fd)]);this[_0x4f6ac0(0x3c7)][_0x4f6ac0(0x113)](_0x33df3e[_0x4f6ac0(0x9fd)]);const _0x2204a2=await this[_0x4f6ac0(0x454)][_0x4f6ac0(0x6cc)](_0x33df3e[_0x4f6ac0(0x9fd)],_0x33df3e['newPath']),[_0x55201c,_0x9b0dd8]=_0xc73ed9(_0x33df3e[_0x4f6ac0(0x9fd)]),[_0x30df50,_0x6e863a]=_0xc73ed9(_0x33df3e[_0x4f6ac0(0x82a)]);this[_0x4f6ac0(0x978)][_0x4f6ac0(0x849)]({'event':_0x2204a2===_0x1a575a[_0x4f6ac0(0x81f)]['Folder']?_0x1a575a[_0x4f6ac0(0x803)]['FolderMove']:_0x1a575a[_0x4f6ac0(0x803)]['FileMove'],'payload':{'name':_0x6e863a,'path':_0x30df50,'pathName':_0x33df3e['newPath'],'oldName':_0x9b0dd8,'oldPath':_0x55201c,'oldPathName':_0x33df3e['path']}}),this[_0x4f6ac0(0xee)]();}['shouldProcessTransaction'](_0x258f95){const _0x362f5f=_0x2d5032,_0x163389=this[_0x362f5f(0x3c7)][_0x362f5f(0x13f)](_0x258f95[_0x362f5f(0x9fd)])??_0x258f95[_0x362f5f(0x9fd)];let _0x2a61d5=!0x1;for(const _0xf53cd7 of this[_0x362f5f(0x7e8)][_0x362f5f(0xa30)]())if(_0xf53cd7[_0x362f5f(0x517)](_0x163389)){const _0x32f917=this['pendingFilesTransactions']['get'](_0xf53cd7)??[];_0x32f917[_0x362f5f(0x806)](_0x258f95),this[_0x362f5f(0x43d)][_0x362f5f(0x687)](_0xf53cd7,_0x32f917),_0x2a61d5=!0x0;}return!_0x2a61d5;}async[_0x2d5032(0x556)](_0x58263a){const _0x32a7e6=_0x2d5032;if(!this[_0x32a7e6(0x938)]?.[_0x32a7e6(0x2ee)]){if(!_0x58263a['id'])throw new _0x54e1a8(_0x54e1a8[_0x32a7e6(0x318)][_0x32a7e6(0xaa8)],{'message':_0x32a7e6(0x6db)});if(_0x58263a[_0x32a7e6(0x3f8)]!==this[_0x32a7e6(0x1d6)])throw new _0x54e1a8(_0x54e1a8[_0x32a7e6(0x318)][_0x32a7e6(0x4ee)]);await this[_0x32a7e6(0x16d)][_0x32a7e6(0x72f)](_0x58263a,this['label']),await this[_0x32a7e6(0x415)](_0x58263a['id']);}}async[_0x2d5032(0x415)](_0x4223b2){const _0x262e29=_0x2d5032;this['lastTransactionId']=_0x4223b2;const _0x4bb875=new File([new Blob([this[_0x262e29(0x1d6)]])],_0x57eb15,{'type':_0x262e29(0x580)});await this[_0x262e29(0x56c)](_0x4bb875,'/');}async[_0x2d5032(0x4c2)](_0x3b6c61){const _0x29c8d6=_0x2d5032;try{const _0x4d3ffa=await this[_0x29c8d6(0x13f)](_0x3b6c61[_0x29c8d6(0x9fd)]+'/'+_0x3b6c61[_0x29c8d6(0x928)],{'skipEncryption':_0x3b6c61[_0x29c8d6(0x584)]}),_0x43f6ca=await _0x3e5057(_0x4d3ffa);if(''!==_0x3b6c61[_0x29c8d6(0x304)]&&_0x43f6ca!==_0x3b6c61['checksum'])return;_0x3b6c61[_0x29c8d6(0x469)]=this['localNode']['getId'](),_0x3b6c61['action']=_0x1ac54a[_0x29c8d6(0x832)],await this[_0x29c8d6(0x309)](_0x3b6c61,[_0x3b6c61['sourceId']]);}catch(_0x74f132){}}async['handleFileRequestAnswer'](_0x5591e0){const _0x4b77c7=_0x2d5032,_0xf116c3=_0x573cd5(_0x5591e0['path'],_0x5591e0['name']);if(!this[_0x4b77c7(0x4e0)]['has'](_0xf116c3))return;const _0x144cc0=this['objectRequests'][_0x4b77c7(0x13f)](_0xf116c3);_0x144cc0[_0x4b77c7(0x736)]=_0x1ac54a['RequestFileSync'];const _0x2dbeef=_0x5591e0[_0x4b77c7(0x469)];if(!_0x2dbeef)throw new _0x54e1a8(_0x54e1a8[_0x4b77c7(0x318)][_0x4b77c7(0xaa8)],{'message':_0x4b77c7(0x160)});if(this[_0x4b77c7(0x4e0)][_0x4b77c7(0x113)](_0xf116c3),this[_0x4b77c7(0x976)][_0x4b77c7(0x290)](_0x2dbeef)||this[_0x4b77c7(0x976)][_0x4b77c7(0x687)](_0x2dbeef,new Map()),this[_0x4b77c7(0x976)][_0x4b77c7(0x13f)](_0x2dbeef)['set'](_0xf116c3,[_0x144cc0,this['getOrResetPendingFileTimeout'](_0x2dbeef,_0xf116c3)]),_0x144cc0[_0x4b77c7(0x469)]=_0x2dbeef,_0x144cc0[_0x4b77c7(0x3b9)]=this[_0x4b77c7(0x7e8)]['get'](_0xf116c3)?.[_0x4b77c7(0x351)]??0x0,0x0===_0x144cc0['startIndex'])try{const [_0x1ca0f1,_0x1afb8a]=await this[_0x4b77c7(0xaf1)](_0x5591e0['name'],_0x5591e0[_0x4b77c7(0x9fd)],_0x5591e0[_0x4b77c7(0x304)]);_0x1ca0f1&&(_0x144cc0['startIndex']=_0x1afb8a);}catch(_0x18bb3a){}this[_0x4b77c7(0x309)](_0x144cc0,[_0x2dbeef]);}async['handleFileSync'](_0x46e925){const _0x4aaf99=_0x2d5032,_0x1b0d92=_0x573cd5(_0x46e925['path'],_0x46e925['name']),_0x325843=await this[_0x4aaf99(0x13f)](_0x1b0d92,{'skipEncryption':_0x46e925[_0x4aaf99(0x584)]}),_0x20ee55={..._0x46e925,'answererId':this['localNode'][_0x4aaf99(0x5cd)](),'action':_0x1ac54a[_0x4aaf99(0x2ec)],'startIndex':_0x46e925['startIndex']??0x0};await this[_0x4aaf99(0xa32)](_0x325843,_0x20ee55,[_0x46e925[_0x4aaf99(0x576)]]);}async[_0x2d5032(0xa32)](_0x5f07f0,_0x5c7cc2,_0xb07f23){let _0x340bd1,_0x174403;const _0xa49cfa=new Promise(async(_0x244797,_0x35131b)=>{_0x340bd1=_0x244797,_0x174403=_0x35131b;});return((async()=>{const _0x36e717=a0_0x11f8,_0xe9cdb1=Math[_0x36e717(0x81d)](_0x5f07f0[_0x36e717(0x279)]/_0x310ee6);let _0x5f3f17=_0x5c7cc2[_0x36e717(0x3b9)]??0x0;const _0x292d84=_0x573cd5(_0x5c7cc2[_0x36e717(0x9fd)],_0x5c7cc2['name']);this[_0x36e717(0x3d8)]['set'](_0x292d84,[!0x1,_0xa49cfa]);for await(const _0x54f2c0 of async function*(_0x666d7c,_0x400c7d=0x0,_0x99a0ed){for await(const _0x97d900 of _0x3983b3(_0x666d7c,_0x400c7d,_0x99a0ed))yield _0x97d900;}(_0x5f07f0,_0x5f3f17,this[_0x36e717(0x22e)])){const [_0x471905]=this['fileSendingMap'][_0x36e717(0x13f)](_0x292d84)??[];if(_0x471905)return this[_0x36e717(0x3d8)][_0x36e717(0x113)](_0x292d84),void _0x174403(new Error(_0x36e717(0x62f)));if(this[_0x36e717(0x43d)][_0x36e717(0x290)](_0x292d84)){const _0x32475f=this[_0x36e717(0x43d)][_0x36e717(0x13f)](_0x292d84);for(const _0x4f308d of _0x32475f)if(_0x4f308d[_0x36e717(0x736)]===_0x1ac54a[_0x36e717(0x893)]||_0x4f308d[_0x36e717(0x736)]===_0x1ac54a[_0x36e717(0x82b)])return;}const _0x2d0814={..._0x5c7cc2,'type':_0x5f07f0['type'],'data':_0x54f2c0,'index':_0x5f3f17,'total':_0xe9cdb1};this[_0x36e717(0x309)](_0x2d0814,_0xb07f23),_0x5f3f17++;}const _0x1445bb=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x1445bb),_0x340bd1());});this['fileSendingMap'][_0x36e717(0x113)](_0x292d84);})()),_0xa49cfa;}async[_0x2d5032(0x372)](_0x11bd34){const _0x4f8253=_0x2d5032;try{const _0x1c554a=_0x573cd5(_0x11bd34['path'],_0x11bd34[_0x4f8253(0x928)]),_0xea6458=_0x1c554a+_0x7ca409;await this[_0x4f8253(0x2e8)](_0xea6458);const [,_0x38474d]=this[_0x4f8253(0x976)][_0x4f8253(0x13f)](_0x11bd34[_0x4f8253(0x469)])?.['get'](_0x1c554a)??[];_0x38474d&&(clearTimeout(_0x38474d),this[_0x4f8253(0x976)][_0x4f8253(0x13f)](_0x11bd34[_0x4f8253(0x469)])['delete'](_0x1c554a));}catch(_0x52b59c){}0x0===this[_0x4f8253(0x976)][_0x4f8253(0x13f)](_0x11bd34['answererId'])?.['size']&&this[_0x4f8253(0x976)][_0x4f8253(0x113)](_0x11bd34['answererId']),0x0===this[_0x4f8253(0x976)]['size']&&0x0===this['objectRequests']['size']&&this[_0x4f8253(0x8d3)]();}async[_0x2d5032(0x29f)](){const _0x3bee96=_0x2d5032;try{const _0x33f332=await this['transactionService']['getTransactions'](this[_0x3bee96(0x32e)],this[_0x3bee96(0x1d6)]);for(const _0x5b5197 of _0x33f332)await this['handleTransactionPayload'](_0x5b5197,!0x0);}catch(_0x12c2cd){if(_0x12c2cd instanceof _0x54e1a8&&_0x12c2cd['code']===_0x54e1a8[_0x3bee96(0x318)]['ObjectStoreInvalidState']){await this[_0x3bee96(0x454)][_0x3bee96(0x2e8)](_0x57eb15),delete this[_0x3bee96(0x1d6)];try{const _0x541e62=await this[_0x3bee96(0x454)][_0x3bee96(0x6bb)]('/',!0x1);for(const _0x20bac3 of _0x541e62)await this[_0x3bee96(0x454)][_0x3bee96(0x2e8)](_0x20bac3[_0x3bee96(0x612)]);}catch(_0x1bf5e7){}return await this['syncTransactions']();}throw _0x12c2cd;}}async[_0x2d5032(0xab4)](){const _0x27d181=_0x2d5032,_0x4277f8=await this[_0x27d181(0x6bb)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x206eb1=async _0x4a14ef=>{const _0x3c86c3=_0x27d181;for(const _0x18725a of _0x4a14ef){if(_0x18725a[_0x3c86c3(0x1da)]===_0x1a575a[_0x3c86c3(0x81f)][_0x3c86c3(0x402)]){_0x18725a[_0x3c86c3(0x419)]&&_0x18725a[_0x3c86c3(0x419)][_0x3c86c3(0x80e)]>0x0&&await _0x206eb1(_0x18725a[_0x3c86c3(0x419)]);continue;}if(_0x18725a[_0x3c86c3(0xa11)]!==_0x1a575a['FileStatus'][_0x3c86c3(0x423)])continue;const _0x3c5414=await this['get'](_0x18725a['pathName']+_0x7ca409),_0x217f03=JSON[_0x3c86c3(0x6c6)](await _0x3c5414['text']()),_0x45de55=_0x18725a[_0x3c86c3(0x928)][_0x3c86c3(0x9b8)](_0x7ca409,''),_0x252181={'payloadType':_0x5dd587[_0x3c86c3(0x836)],'action':_0x1ac54a[_0x3c86c3(0x74b)],'sourceId':this[_0x3c86c3(0x6ff)][_0x3c86c3(0x5cd)](),'type':'','path':_0x18725a[_0x3c86c3(0x9fd)],'name':_0x45de55,'checksum':_0x217f03[_0x3c86c3(0x304)],'skipEncryption':_0x217f03[_0x3c86c3(0x584)]},_0x6faf2a=_0x573cd5(_0x18725a[_0x3c86c3(0x9fd)],_0x45de55);this['objectRequests'][_0x3c86c3(0x687)](_0x6faf2a,_0x252181);}};await _0x206eb1(_0x4277f8),0x0===this[_0x27d181(0x4e0)][_0x27d181(0x279)]&&0x0===this[_0x27d181(0x976)][_0x27d181(0x279)]&&this[_0x27d181(0x8d3)]();}async[_0x2d5032(0xa22)](_0xd9efdc,_0x51b93a,_0x3cdd29){const _0x5687a8=_0x2d5032,_0x2bbcf0=new File([new Blob([JSON[_0x5687a8(0x8b2)](_0x3cdd29)])],''+_0xd9efdc+_0x7ca409,{'type':_0x5687a8(0x580)});await this[_0x5687a8(0x56c)](_0x2bbcf0,_0x51b93a);}async[_0x2d5032(0xaf1)](_0x27d023,_0x24b00f,_0x3622db){const _0x2c9d07=_0x2d5032;try{const _0x30513a=_0x573cd5(_0x24b00f,_0x27d023),_0x339f30=_0x30513a+_0x7ca409,_0x100af7=await this[_0x2c9d07(0x454)][_0x2c9d07(0x13f)](_0x339f30),{checksum:_0x257102,skipEncryption:_0x9b903e}=JSON[_0x2c9d07(0x6c6)](await _0x100af7[_0x2c9d07(0x908)]()),_0x5d40e4=(await this[_0x2c9d07(0x454)][_0x2c9d07(0x13f)](_0x30513a,{'skipEncryption':_0x9b903e}))['size'];return _0x257102===_0x3622db&&_0x5d40e4%_0x310ee6==0x0?[!0x0,Math['round'](_0x5d40e4/_0x310ee6)]:(await this[_0x2c9d07(0x454)][_0x2c9d07(0x2e8)](_0x30513a),[!0x1,0x0]);}catch(_0x3e8e09){return[!0x1,0x0];}}['getOrResetPendingFileTimeout'](_0x531a06,_0x13b77a){const _0x2a1430=_0x2d5032,[_0x141107,_0x696fc5]=this['pendingFilesSyncing'][_0x2a1430(0x13f)](_0x531a06)?.[_0x2a1430(0x13f)](_0x13b77a)??[];return _0x696fc5&&clearTimeout(_0x696fc5),setTimeout(()=>{const _0x3bd5ab=_0x2a1430,[_0x17d2a4,_0x31b726]=this['pendingFilesSyncing'][_0x3bd5ab(0x13f)](_0x531a06)[_0x3bd5ab(0x13f)](_0x13b77a);this['sendFileRequestPayload'](_0x17d2a4,_0x31b726);},0x927c0);}async[_0x2d5032(0x39a)](_0xbf9535,_0x475eb8){const _0x412563=_0x2d5032;clearTimeout(_0x475eb8),_0xbf9535[_0x412563(0x736)]=_0x1ac54a[_0x412563(0x74b)],this[_0x412563(0x4e0)]['set'](_0x573cd5(_0xbf9535[_0x412563(0x9fd)],_0xbf9535[_0x412563(0x928)]),_0xbf9535),this[_0x412563(0x309)](_0xbf9535);}[_0x2d5032(0x65e)](_0x1adeba,_0x38d47a){const _0x526cd7=_0x2d5032;if(!this[_0x526cd7(0x55d)])return;this[_0x526cd7(0x976)][_0x526cd7(0x290)](_0x1adeba[_0x526cd7(0x469)])||this[_0x526cd7(0x976)][_0x526cd7(0x687)](_0x1adeba['answererId'],new Map());const [_0xd77f94]=this[_0x526cd7(0x976)][_0x526cd7(0x13f)](_0x1adeba[_0x526cd7(0x469)])[_0x526cd7(0x13f)](_0x38d47a)??[{'payloadType':_0x5dd587['Request'],'action':_0x1ac54a['RequestFile'],'sourceId':this[_0x526cd7(0x6ff)][_0x526cd7(0x5cd)](),'type':_0x1adeba[_0x526cd7(0xa7e)],'name':_0x1adeba[_0x526cd7(0x928)],'path':_0x1adeba[_0x526cd7(0x9fd)],'skipEncryption':_0x1adeba[_0x526cd7(0x584)],'checksum':_0x1adeba['checksum'],'answererId':_0x1adeba[_0x526cd7(0x469)]}];this['pendingFilesSyncing'][_0x526cd7(0x13f)](_0x1adeba[_0x526cd7(0x469)])['set'](_0x38d47a,[_0xd77f94,this[_0x526cd7(0xa08)](_0x1adeba[_0x526cd7(0x469)],_0x38d47a)]);}async[_0x2d5032(0x56c)](_0x2155d7,_0x4a3ba0,_0x25d903){const _0x3cd10e=_0x2d5032;this[_0x3cd10e(0x602)]&&(this[_0x3cd10e(0x516)]+=0x1),await this[_0x3cd10e(0x454)][_0x3cd10e(0x56c)](_0x2155d7,_0x4a3ba0,_0x25d903);}async[_0x2d5032(0x2e8)](_0x10fba3){const _0x306222=_0x2d5032;try{const _0x2e261e=await this[_0x306222(0x454)][_0x306222(0x2e8)](_0x10fba3);if(!_0x10fba3[_0x306222(0xade)](_0x7ca409))try{await this[_0x306222(0x454)][_0x306222(0x2e8)](_0x10fba3+_0x7ca409);}catch(_0x2ae1cb){}return this[_0x306222(0x602)]&&_0x2e261e===_0x1a575a[_0x306222(0x81f)][_0x306222(0x19b)]&&(this['filesSynced']+=0x1),_0x2e261e;}catch(_0x5a2aeb){return await this[_0x306222(0x454)]['deleteObject'](_0x10fba3+_0x7ca409);}}async[_0x2d5032(0x6cc)](_0x25a8fd,_0x4ea694){const _0x16d9b8=_0x2d5032;try{const _0x52b42c=await this['objectStoreConnector'][_0x16d9b8(0x6cc)](_0x25a8fd,_0x4ea694);if(!_0x25a8fd[_0x16d9b8(0xade)](_0x7ca409))try{await this[_0x16d9b8(0x454)][_0x16d9b8(0x6cc)](_0x25a8fd+_0x7ca409,_0x4ea694+_0x7ca409);}catch(_0x2fcacd){}return _0x52b42c;}catch(_0x3eb379){return await this['objectStoreConnector']['moveObject'](_0x25a8fd+_0x7ca409,_0x4ea694+_0x7ca409);}}[_0x2d5032(0xee)](){const _0x52eb07=_0x2d5032;this[_0x52eb07(0x472)]&&clearTimeout(this[_0x52eb07(0x472)]),this[_0x52eb07(0x472)]=setTimeout(async()=>{const _0x2bda2c=_0x52eb07;delete this[_0x2bda2c(0x472)];const _0x3610c2=await this[_0x2bda2c(0x454)][_0x2bda2c(0x25f)]('/');this[_0x2bda2c(0x83a)]?.[_0x2bda2c(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49['Content'],'content':{'type':_0x1ff5c6[_0x2bda2c(0x848)],'label':this[_0x2bda2c(0x32e)],'stats':{'timestamp':Date[_0x2bda2c(0xa45)](),'storage':_0x3610c2,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x2bda2c(0x9ab)],'bytesReceived':this[_0x2bda2c(0x8a4)],'writes':this[_0x2bda2c(0x650)],'reads':this[_0x2bda2c(0x952)],'prompts':0x0,'tokens':0x0}}}),this[_0x2bda2c(0x55d)]&&_0x27f628[_0x2bda2c(0x8f9)](_0x751840[_0x2bda2c(0x89b)],_0x2bda2c(0x5ca)+this[_0x2bda2c(0xa46)]+'ccc'+this['label'],_0x3610c2);},_0x38055e);}async[_0x2d5032(0x5d6)](_0x365c19){const _0x464e48=_0x2d5032;try{return await this[_0x464e48(0x13f)](_0x365c19),!0x0;}catch(_0x1beb4e){return!0x1;}}async['deleteFileChunks'](_0x4a6eda){const _0x17d379=_0x2d5032;if(!this['fileChunks']['has'](_0x4a6eda))return;const _0x4d8547=this['fileChunks'][_0x17d379(0x13f)](_0x4a6eda);if(_0x4d8547[_0x17d379(0xa57)])try{await _0x4d8547[_0x17d379(0xa57)]['close']();}catch(_0x4a57cd){console[_0x17d379(0x275)]('Error\x20closing\x20writable\x20stream',_0x4a57cd);}this['fileChunks'][_0x17d379(0x113)](_0x4a6eda);}}class _0x421a4a extends _0x1d8a54{['localNode'];['clusterId'];[_0x2d5032(0x769)]=new Map();['debounceStats'];constructor(_0x5c2e03,_0x56f890,_0x197db9){const _0x46fbcc=_0x2d5032;if(_0x46fbcc(0x823)!=typeof _0x56f890)throw new _0x10fc18(_0x10a5c8[_0x46fbcc(0xa33)],_0x46fbcc(0x17f));super(_0x5c2e03,_0x56f890),this[_0x46fbcc(0x6ff)]=_0x5c2e03,this['clusterId']=_0x197db9,this[_0x46fbcc(0xee)]();}['reset'](){const _0x207626=_0x2d5032;this[_0x207626(0xee)]();}[_0x2d5032(0x98e)](){const _0x9fa307=_0x2d5032;return _0x1a575a[_0x9fa307(0x979)]['PubSub'];}[_0x2d5032(0x849)](_0x103dbb,_0x2a9c88){const _0x4c2d3e=_0x2d5032;_0x27f628[_0x4c2d3e(0x107)](_0x53d5c4[_0x4c2d3e(0x973)],_0x4c2d3e(0x60c),this[_0x4c2d3e(0x6ff)][_0x4c2d3e(0x5cd)](),_0x103dbb,_0x2a9c88),_0x27f628['logServiceEvent'](_0x751840[_0x4c2d3e(0x973)],{'type':_0x4c2d3e(0x849),'label':this[_0x4c2d3e(0x32e)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x4c2d3e(0x6ff)][_0x4c2d3e(0xa7e)],'clusterId':this[_0x4c2d3e(0xa46)],'remoteIds':_0x2a9c88??[],'contentType':_0x103dbb instanceof File?_0x1a575a[_0x4c2d3e(0x979)]['File']:_0x1a575a[_0x4c2d3e(0x979)][_0x4c2d3e(0x7e1)],'size':_0x103dbb instanceof File?_0x103dbb[_0x4c2d3e(0x279)]:JSON['stringify'](_0x103dbb)[_0x4c2d3e(0x80e)]}),this[_0x4c2d3e(0xee)](),this['send'](_0x103dbb,_0x2a9c88);}[_0x2d5032(0x75b)](_0x4a92c,_0x4fff6b){const _0x4b0e45=_0x2d5032;if(this[_0x4b0e45(0x769)][_0x4b0e45(0x290)](_0x4a92c))throw new _0x10fc18(_0x10a5c8[_0x4b0e45(0x629)],_0x4b0e45(0x455));this[_0x4b0e45(0x769)]['set'](_0x4a92c,this[_0x4b0e45(0x63f)]((_0x4e58f4,_0x4f41e2)=>{const _0x19fa5f=_0x4b0e45;_0x19fa5f(0x906)===_0x4a92c&&_0x4f41e2 instanceof File||!(_0x19fa5f(0x511)!==_0x4a92c||_0x4f41e2 instanceof File)||(_0x27f628['log'](_0x53d5c4['PubSub'],_0x19fa5f(0x291),this[_0x19fa5f(0x6ff)]['getId'](),_0x4e58f4,_0x4f41e2),_0x27f628[_0x19fa5f(0x8d9)](_0x751840[_0x19fa5f(0x973)],{'type':_0x19fa5f(0x75b),'label':this[_0x19fa5f(0x32e)],'nodeId':this[_0x19fa5f(0x6ff)][_0x19fa5f(0x5cd)](),'nodeType':this[_0x19fa5f(0x6ff)][_0x19fa5f(0xa7e)],'clusterId':this[_0x19fa5f(0xa46)],'remoteId':_0x4e58f4,'contentType':_0x4a92c,'size':_0x4f41e2 instanceof File?_0x4f41e2['size']:JSON[_0x19fa5f(0x8b2)](_0x4f41e2)[_0x19fa5f(0x80e)]}),this[_0x19fa5f(0xee)](),_0x4fff6b(_0x4e58f4,_0x4f41e2));}));}[_0x2d5032(0x3c5)](_0x55f1cf){const _0x1a2705=_0x2d5032;this[_0x1a2705(0x769)][_0x1a2705(0x13f)](_0x55f1cf)?.(),this['unsubscribeHandler']['delete'](_0x55f1cf);}[_0x2d5032(0x7f6)](){const _0x3b6bd2=_0x2d5032;this[_0x3b6bd2(0x769)][_0x3b6bd2(0x3e9)](_0x241aeb=>_0x241aeb()),clearTimeout(this[_0x3b6bd2(0x472)]),delete this[_0x3b6bd2(0x472)],super['destroy']();}[_0x2d5032(0x8d0)](){const _0xadd476=_0x2d5032;this[_0xadd476(0x83a)]?.[_0xadd476(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0xadd476(0x8b3)],'content':{'type':_0x1ff5c6['ClosePubSubTopic'],'label':this[_0xadd476(0x32e)]}});}['sendStats'](){const _0x31681d=_0x2d5032;this[_0x31681d(0x472)]&&clearTimeout(this['debounceStats']),this[_0x31681d(0x472)]=setTimeout(()=>{const _0x48c50e=_0x31681d;this[_0x48c50e(0x83a)]?.['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x48c50e(0x8b3)],'content':{'type':_0x1ff5c6[_0x48c50e(0xa98)],'label':this[_0x48c50e(0x32e)],'stats':{'timestamp':Date[_0x48c50e(0xa45)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x48c50e(0x5be)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x48c50e(0x8a4)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x38055e);}}class _0x279bdf extends _0x1d7561{[_0x2d5032(0x6ff)];['internalId'];[_0x2d5032(0x8a2)];[_0x2d5032(0xa46)];[_0x2d5032(0x769)];[_0x2d5032(0xa15)];[_0x2d5032(0x6ae)];[_0x2d5032(0x5c1)]=new Map();[_0x2d5032(0x99d)];['subscribedTracks']=new Set();['providerId'];[_0x2d5032(0xa8f)]=_0x2d1ffa();[_0x2d5032(0x26b)]=new Map();constructor(_0x4ca453,_0x45958f,_0x1e494a,_0x13edc8,_0xeade7d,_0xa90311){const _0x3f7f7c=_0x2d5032;super(_0x45958f,_0x1e494a,new MediaStream()),this[_0x3f7f7c(0x6ff)]=_0x4ca453,this['internalId']=_0x13edc8,this[_0x3f7f7c(0x8a2)]=_0xeade7d,this[_0x3f7f7c(0xa46)]=_0xa90311,this[_0x3f7f7c(0x7d8)][_0x3f7f7c(0xa87)]()[_0x3f7f7c(0x3e9)](_0xb0b398=>this[_0x3f7f7c(0x236)](_0xb0b398));}[_0x2d5032(0x7f6)](){const _0x269f52=_0x2d5032;this[_0x269f52(0x5c1)][_0x269f52(0x279)]>0x0&&(this[_0x269f52(0x5c1)][_0x269f52(0x3e9)](_0x4bb2d1=>{_0x4bb2d1['unregisterSystemPublisher'](),_0x4bb2d1['destroy']();}),this[_0x269f52(0x5c1)]['clear']()),this[_0x269f52(0x26b)][_0x269f52(0x3e9)](_0x3db0e8=>_0x3db0e8()),this[_0x269f52(0x7d8)][_0x269f52(0xa87)]()[_0x269f52(0x3e9)](_0x348a35=>this[_0x269f52(0x7d8)][_0x269f52(0x39b)](_0x348a35)),this[_0x269f52(0x6ae)]&&(clearTimeout(this[_0x269f52(0x6ae)]),delete this[_0x269f52(0x6ae)]),this['resizeHandler']?.(),super['destroy']();}[_0x2d5032(0x2e5)](_0x2e5ff5){const _0x126016=_0x2d5032;this[_0x126016(0x769)]=_0x2e5ff5[_0x126016(0x75b)](({content:_0x30e172})=>{const _0x38434c=_0x126016;switch(_0x30e172[_0x38434c(0x736)]){case _0x221093[_0x38434c(0x611)]:if(_0x27f628[_0x38434c(0x107)](_0x53d5c4[_0x38434c(0x431)],_0x38434c(0x3ef),this[_0x38434c(0x6ff)][_0x38434c(0x5cd)](),this[_0x38434c(0x74e)]),_0x30e172['stream']['id']!==this[_0x38434c(0x288)]||_0x30e172[_0x38434c(0x74e)]!==this[_0x38434c(0x74e)])return;this[_0x38434c(0x39b)](_0x30e172[_0x38434c(0xf1)][_0x38434c(0x1da)]),this[_0x38434c(0x7d8)][_0x38434c(0x487)](_0x30e172[_0x38434c(0xf1)]);for(const [_0x4b64ee,_0x348b3]of this[_0x38434c(0x5c1)][_0x38434c(0x419)]())try{_0x348b3['addTrack'](_0x30e172['track']);}catch(_0x527530){_0x348b3[_0x38434c(0x7f6)](),this[_0x38434c(0x5c1)]['delete'](_0x4b64ee);}this[_0x38434c(0x236)](_0x30e172['track']),this[_0x38434c(0x36d)](),_0x38434c(0x5f6)===_0x30e172[_0x38434c(0xf1)][_0x38434c(0x1da)]&&this[_0x38434c(0x99d)]&&(this['mediaStream'][_0x38434c(0x501)]?setTimeout(()=>this['renderElement']?.['play'](),0x0):setTimeout(()=>this[_0x38434c(0x99d)]?.[_0x38434c(0x851)](),0x0),this[_0x38434c(0x36a)]());break;case _0x221093[_0x38434c(0xfa)]:if(_0x30e172['stream']['id']!==this['internalId']||_0x30e172[_0x38434c(0x74e)]!==this[_0x38434c(0x74e)])return;this[_0x38434c(0x39b)](_0x30e172[_0x38434c(0xf1)][_0x38434c(0x1da)]),this['renderElement']&&'video'===_0x30e172[_0x38434c(0xf1)][_0x38434c(0x1da)]&&(this[_0x38434c(0xa15)]?.(),this['mediaStream']['getTracks']()[_0x38434c(0x80e)]>0x0?this[_0x38434c(0x99d)][_0x38434c(0x851)]():this[_0x38434c(0x99d)][_0x38434c(0x7b7)]=null);}});}[_0x2d5032(0x8da)](){const _0x2e9f6e=_0x2d5032;this[_0x2e9f6e(0x769)]?.(),this[_0x2e9f6e(0x26b)][_0x2e9f6e(0x3e9)](_0x1c5f1a=>_0x1c5f1a()),delete this[_0x2e9f6e(0x769)];}['getInternalStreamId'](){return this['internalId'];}[_0x2d5032(0x1f8)](_0x261e96){const _0x1d57af=_0x2d5032;this[_0x1d57af(0x288)]=_0x261e96;}[_0x2d5032(0x405)](){return this['availableTrackKinds'];}[_0x2d5032(0x6b9)](_0x55ecc8){const _0x3663a6=_0x2d5032;for(const _0x9fd6dc of _0x55ecc8||this[_0x3663a6(0x8a2)])if(!this[_0x3663a6(0x7d8)]['getTracks']()[_0x3663a6(0x91b)](_0x5d8b8e=>_0x5d8b8e[_0x3663a6(0x1da)]===_0x9fd6dc))return!0x1;return!0x0;}[_0x2d5032(0x133)](){const _0x3ab7fd=_0x2d5032;let _0x3cfa2b={'width':0x0,'height':0x0};const _0x23cbdf=this['mediaStream'][_0x3ab7fd(0x7ee)]();if(_0x23cbdf[_0x3ab7fd(0x80e)]>0x0){const _0xa240c7=_0x23cbdf[0x0][_0x3ab7fd(0x421)]();_0xa240c7[_0x3ab7fd(0xa5e)]&&_0xa240c7[_0x3ab7fd(0x7e9)]&&(_0x3cfa2b={'width':_0xa240c7['width'],'height':_0xa240c7[_0x3ab7fd(0x7e9)]});}return _0x3cfa2b;}['isSubscribed'](_0x41dc35){const _0x3f1f04=_0x2d5032;for(const _0x465894 of _0x41dc35)if(!this[_0x3f1f04(0x1bd)][_0x3f1f04(0x290)](_0x465894))return!0x1;return!0x0;}[_0x2d5032(0x403)](_0x17982a,_0x34c247){const _0xf7be3d=_0x2d5032;if(!this[_0xf7be3d(0x5c1)][_0xf7be3d(0x290)](_0x17982a)){const _0x599efc=new _0x54a72d(this['owner'],this[_0xf7be3d(0x32e)],this['mediaStream'],_0x17982a,_0x34c247),_0x429e75=_0x599efc['onUnregisterPublisher'](()=>{const _0x34fb94=_0xf7be3d;_0x429e75(),this['outgoingStreams']['get'](_0x17982a)?.[_0x34fb94(0x7f6)](),this[_0x34fb94(0x5c1)][_0x34fb94(0x113)](_0x17982a);});this[_0xf7be3d(0x5c1)][_0xf7be3d(0x687)](_0x17982a,_0x599efc),_0x599efc['registerSystemPublisher'](this[_0xf7be3d(0x83a)]);}return this['outgoingStreams'][_0xf7be3d(0x13f)](_0x17982a);}[_0x2d5032(0x7c8)](){const _0x19972b=_0x2d5032;return this[_0x19972b(0x7d8)]['id'];}['getPriority'](){const _0x14cffc=_0x2d5032;return _0x1a575a[_0x14cffc(0x5aa)]['Default'];}[_0x2d5032(0x4c6)](){const _0x4d5400=_0x2d5032;return Array[_0x4d5400(0x8ee)](this['subscribedTracks']);}[_0x2d5032(0x75b)](_0x56214a){const _0x2c88f9=_0x2d5032;let _0x1ff53a=[];if(_0x56214a){'object'!=typeof _0x56214a[_0x2c88f9(0x5f6)]||_0x56214a[_0x2c88f9(0x5f6)]['renderElement']instanceof HTMLVideoElement||!this[_0x2c88f9(0x99d)]||(_0x56214a[_0x2c88f9(0x5f6)]={'renderElement':this[_0x2c88f9(0x99d)]});try{(0x0,_0x1a575a[_0x2c88f9(0x441)])(_0x56214a);}catch(_0xab4c8e){throw new _0x10fc18(_0x10a5c8['RemoteMediaStreamInvalidSubscriptionParams'],_0x2c88f9(0x981));}_0x56214a[_0x2c88f9(0x5f6)]&&(_0x1ff53a[_0x2c88f9(0x806)](_0x2c88f9(0x5f6)),_0x2c88f9(0x20b)!=typeof _0x56214a['video']&&_0x56214a[_0x2c88f9(0x5f6)][_0x2c88f9(0x99d)]&&(this[_0x2c88f9(0x99d)]=_0x56214a[_0x2c88f9(0x5f6)][_0x2c88f9(0x99d)],_0x56214a[_0x2c88f9(0x5f6)][_0x2c88f9(0x579)]||(_0x56214a[_0x2c88f9(0x5f6)][_0x2c88f9(0x579)]={'width':this[_0x2c88f9(0x99d)][_0x2c88f9(0x2e0)],'height':this[_0x2c88f9(0x99d)][_0x2c88f9(0x29a)]}),delete _0x56214a[_0x2c88f9(0x5f6)][_0x2c88f9(0x99d)])),_0x56214a[_0x2c88f9(0x2fa)]&&_0x1ff53a['push'](_0x2c88f9(0x2fa));}else _0x1ff53a=this[_0x2c88f9(0x405)]();this['isSubscribed'](_0x1ff53a)||(_0x1ff53a[_0x2c88f9(0x3e9)](_0x1280a8=>this[_0x2c88f9(0x1bd)][_0x2c88f9(0x5e6)](_0x1280a8)),this['systemTopic']['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49['Content'],'content':{'type':_0x1ff5c6[_0x2c88f9(0x477)],'label':this['label'],'ownerId':this[_0x2c88f9(0x573)][_0x2c88f9(0x5cd)](),'trackKinds':_0x1ff53a,'params':_0x56214a}}),_0x27f628[_0x2c88f9(0x8d9)](_0x751840['MediaStream'],{'type':_0x2c88f9(0x75b),'label':this[_0x2c88f9(0x32e)],'nodeId':this[_0x2c88f9(0x6ff)][_0x2c88f9(0x5cd)](),'nodeType':this[_0x2c88f9(0x6ff)]['type'],'clusterId':this['clusterId'],'sourceId':this[_0x2c88f9(0x573)][_0x2c88f9(0x5cd)](),'streamId':this[_0x2c88f9(0x288)],'trackKinds':_0x1ff53a}));}[_0x2d5032(0x963)](_0x4572f4){const _0x2931fe=_0x2d5032;try{(0x0,_0x1a575a[_0x2931fe(0x441)])(_0x4572f4);}catch(_0x4297a0){throw new _0x10fc18(_0x10a5c8['RemoteMediaStreamInvalidSubscriptionParams'],_0x2931fe(0x981));}this[_0x2931fe(0x6ae)]&&clearTimeout(this[_0x2931fe(0x6ae)]),this[_0x2931fe(0x6ae)]=setTimeout(()=>{const _0x2616b9=_0x2931fe;delete this[_0x2616b9(0x6ae)],this[_0x2616b9(0x83a)][_0x2616b9(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49['Content'],'content':{'type':_0x1ff5c6[_0x2616b9(0xa39)],'label':this[_0x2616b9(0x32e)],'ownerId':this['owner']['getId'](),'params':_0x4572f4}});},0x1f4);}[_0x2d5032(0x3c5)](_0x3b7461){const _0x26d4eb=_0x2d5032;_0x3b7461||(_0x3b7461=this['getAvailableTrackKinds']()),(_0x3b7461=Array[_0x26d4eb(0x7e5)](_0x3b7461)?_0x3b7461:[_0x3b7461])[_0x26d4eb(0x3e9)](_0x498002=>this['subscribedTracks'][_0x26d4eb(0x113)](_0x498002)),this[_0x26d4eb(0x83a)][_0x26d4eb(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x26d4eb(0x8b3)],'content':{'type':_0x1ff5c6[_0x26d4eb(0x465)],'label':this['label'],'ownerId':this[_0x26d4eb(0x573)][_0x26d4eb(0x5cd)](),'trackKinds':_0x3b7461,'remainingTracks':this[_0x26d4eb(0x1bd)][_0x26d4eb(0x279)]}});}[_0x2d5032(0x686)](_0x5dcadb){const _0x18458d=_0x2d5032;return this[_0x18458d(0xa8f)][_0x18458d(0x75b)](_0x5dcadb);}[_0x2d5032(0xa6e)](){const _0x295040=_0x2d5032;return this[_0x295040(0x74e)];}[_0x2d5032(0x2a6)](_0x1d58c8){const _0x42597a=_0x2d5032;this[_0x42597a(0x74e)]!==_0x1d58c8&&(this[_0x42597a(0x74e)]=_0x1d58c8,this[_0x42597a(0xa8f)][_0x42597a(0x849)](_0x1d58c8));}[_0x2d5032(0x66c)](_0x40e4f2){const _0x192940=_0x2d5032;this[_0x192940(0x26b)][_0x192940(0x13f)](_0x40e4f2)?.(),this[_0x192940(0x26b)][_0x192940(0x113)](_0x40e4f2);}[_0x2d5032(0x39b)](_0x525179){const _0x4ebce9=_0x2d5032,_0x282ff7=this[_0x4ebce9(0x7d8)]['getTracks']()['find'](_0x4a4621=>_0x4a4621[_0x4ebce9(0x1da)]===_0x525179);_0x282ff7&&(this[_0x4ebce9(0x7d8)][_0x4ebce9(0x39b)](_0x282ff7),this[_0x4ebce9(0x5c1)][_0x4ebce9(0x3e9)](_0x20fd82=>_0x20fd82[_0x4ebce9(0x39b)](_0x525179)),this[_0x4ebce9(0x26b)][_0x4ebce9(0x13f)](_0x525179)?.());}[_0x2d5032(0x36d)](){const _0x2c8e7b=_0x2d5032;this[_0x2c8e7b(0x99d)]&&(this[_0x2c8e7b(0x99d)][_0x2c8e7b(0x7b7)]&&this[_0x2c8e7b(0x99d)][_0x2c8e7b(0x7b7)]===this[_0x2c8e7b(0x7d8)]||(this[_0x2c8e7b(0x99d)]['srcObject']=this[_0x2c8e7b(0x7d8)]));}[_0x2d5032(0x36a)](){const _0x44d16a=_0x2d5032;if(this[_0x44d16a(0x99d)]&&!this[_0x44d16a(0xa15)]&&_0x44d16a(0x9c0)!=typeof ResizeObserver){let _0x2c67fd=this[_0x44d16a(0x99d)]['clientWidth'],_0x2caf9b=this[_0x44d16a(0x99d)][_0x44d16a(0x29a)];const _0x43cbee=new ResizeObserver(_0x8dcf12=>{const _0x168840=_0x44d16a,{width:_0x1be30f,height:_0x47516f}=_0x8dcf12[0x0]['contentRect'];_0x2c67fd===_0x1be30f&&_0x2caf9b===_0x47516f||(_0x2c67fd=Math[_0x168840(0x176)](_0x1be30f),_0x2caf9b=Math[_0x168840(0x176)](_0x47516f),this[_0x168840(0x963)]({'video':{'maxResolution':{'width':_0x1be30f,'height':_0x47516f}}}));});_0x43cbee[_0x44d16a(0x7b4)](this[_0x44d16a(0x99d)]),this['resizeHandler']=()=>_0x43cbee[_0x44d16a(0x872)]();}}[_0x2d5032(0x898)](_0xf180cb){const _0xa2601e=_0x2d5032,_0x28138c=[];for(const _0x41317f of this['subscribedTracks'])this['removeTrack'](_0x41317f),_0x28138c[_0xa2601e(0x806)](_0x41317f);this[_0xa2601e(0x74e)]&&this['systemTopic']['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49['Content'],'content':{'type':_0x1ff5c6[_0xa2601e(0x58e)],'label':this[_0xa2601e(0x32e)],'streamId':this[_0xa2601e(0x288)],'ownerId':this['owner'][_0xa2601e(0x5cd)](),'providerId':this[_0xa2601e(0x74e)],'trackKinds':_0x28138c}});}[_0x2d5032(0x236)](_0x58dd56){const _0x28231e=_0x2d5032,_0x1448fa=()=>this[_0x28231e(0x898)](_0x58dd56);_0x58dd56[_0x28231e(0x9e1)](_0x28231e(0x796),_0x1448fa),_0x58dd56[_0x28231e(0x9e1)](_0x28231e(0x614),_0x1448fa),this['trackEndedListeners']['set'](_0x58dd56[_0x28231e(0x1da)],()=>{const _0xc3cb74=_0x28231e;_0x58dd56[_0xc3cb74(0x6c4)]('ended',_0x1448fa),_0x58dd56[_0xc3cb74(0x6c4)](_0xc3cb74(0x614),_0x1448fa),this[_0xc3cb74(0x26b)][_0xc3cb74(0x113)](_0x58dd56['kind']);});}}class _0x338739 extends _0x1d8a54{[_0x2d5032(0x6ff)];[_0x2d5032(0xa46)];[_0x2d5032(0x514)];['db'];[_0x2d5032(0x472)];['writes']=0x0;[_0x2d5032(0x952)]=0x0;['isLoaded']=!0x1;constructor(_0x2122b0,_0x169b0f,_0x1ff694,_0x452f1a,_0x4ae1f6){const _0x581a53=_0x2d5032;if('string'!=typeof _0x169b0f)throw new _0x10fc18(_0x10a5c8[_0x581a53(0x965)],_0x581a53(0x38b));super(_0x2122b0,_0x169b0f),this[_0x581a53(0x6ff)]=_0x2122b0,this[_0x581a53(0xa46)]=_0x1ff694,this[_0x581a53(0x514)]=_0x452f1a;const _0x68e170=_0x581a53(0x5ca)+this[_0x581a53(0x514)]+_0x581a53(0x5ca)+this[_0x581a53(0xa46)]+_0x581a53(0x5ca)+this[_0x581a53(0x32e)];this['db']=new _0x4ae1f6(_0x68e170),this[_0x581a53(0xee)]();}[_0x2d5032(0x17b)](){const _0x5884c5=_0x2d5032;return this[_0x5884c5(0x537)];}[_0x2d5032(0x8ec)](_0x5b6ca1){const _0x36ed86=_0x2d5032;this[_0x36ed86(0x537)]=_0x5b6ca1;}[_0x2d5032(0x7f6)](){clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}['close'](){const _0x33ee0b=_0x2d5032;this[_0x33ee0b(0x83a)]['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49['Content'],'content':{'type':_0x1ff5c6[_0x33ee0b(0x966)],'label':this[_0x33ee0b(0x32e)]}});}[_0x2d5032(0xf2)](){this['sendStats']();}[_0x2d5032(0x98e)](){const _0x12cdd1=_0x2d5032;return _0x1a575a[_0x12cdd1(0x979)][_0x12cdd1(0x571)];}['search'](_0x4f5670,_0x467f3a,_0x26f215,_0x49e671,_0x398bfa){const _0x15e1ca=_0x2d5032,_0x7d3c19=this['db'][_0x15e1ca(0xa63)](_0x4f5670,_0x467f3a,_0x26f215,_0x49e671,_0x398bfa);return this[_0x15e1ca(0x952)]+=0x1,_0x27f628[_0x15e1ca(0x8d9)](_0x751840['VectorDatabase'],{'type':_0x15e1ca(0xa63),'label':this['label'],'nodeId':this[_0x15e1ca(0x6ff)][_0x15e1ca(0x5cd)](),'nodeType':this[_0x15e1ca(0x6ff)]['type'],'clusterId':this[_0x15e1ca(0xa46)],'size':0x0}),this[_0x15e1ca(0xee)](),_0x7d3c19;}['insert'](_0x598275,_0x19ecb7,_0x3e3f19,_0x4130df){const _0xdbe9d4=_0x2d5032;this['db'][_0xdbe9d4(0x859)](_0x598275,_0x19ecb7,_0x3e3f19,_0x4130df),this[_0xdbe9d4(0x650)]+=0x1,_0x27f628[_0xdbe9d4(0x8d9)](_0x751840[_0xdbe9d4(0x571)],{'type':'insert','label':this[_0xdbe9d4(0x32e)],'nodeId':this[_0xdbe9d4(0x6ff)][_0xdbe9d4(0x5cd)](),'nodeType':this[_0xdbe9d4(0x6ff)][_0xdbe9d4(0xa7e)],'clusterId':this[_0xdbe9d4(0xa46)],'size':_0x4130df[_0xdbe9d4(0xa77)]((_0x1cdf04,_0x41d2ca)=>_0x1cdf04+_0x41d2ca[_0xdbe9d4(0x80e)],0x0)}),this[_0xdbe9d4(0xee)]();}[_0x2d5032(0x2f0)](_0x236d23){const _0x46f9af=_0x2d5032;this['db'][_0x46f9af(0x2f0)](_0x236d23),this[_0x46f9af(0x650)]+=0x1,_0x27f628['logServiceEvent'](_0x751840[_0x46f9af(0x571)],{'type':_0x46f9af(0x2f0),'label':this[_0x46f9af(0x32e)],'nodeId':this[_0x46f9af(0x6ff)]['getId'](),'nodeType':this['localNode'][_0x46f9af(0xa7e)],'clusterId':this['clusterId'],'size':0x0}),this[_0x46f9af(0xee)]();}[_0x2d5032(0x664)](_0x359d6c){this['db']['saveToDisk'](_0x359d6c);}['loadFromDisk'](_0x5bae3e){const _0x19173c=_0x2d5032;this['db'][_0x19173c(0x80f)](_0x5bae3e);}['sendStats'](){const _0x1168ed=_0x2d5032;this['debounceStats']&&clearTimeout(this[_0x1168ed(0x472)]),this[_0x1168ed(0x472)]=setTimeout(async()=>{const _0x1c0414=_0x1168ed;delete this[_0x1c0414(0x472)];const _0x522feb=this['db'][_0x1c0414(0x2b7)]()[_0x1c0414(0x31c)];this[_0x1c0414(0x83a)]['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x1c0414(0x8b3)],'content':{'type':_0x1ff5c6[_0x1c0414(0x66a)],'label':this[_0x1c0414(0x32e)],'stats':{'timestamp':Date[_0x1c0414(0xa45)](),'storage':_0x522feb,'messagesSent':this[_0x1c0414(0x658)],'messagesReceived':this[_0x1c0414(0x5be)],'bytesSent':this[_0x1c0414(0x9ab)],'bytesReceived':this['bytesReceived'],'writes':this[_0x1c0414(0x650)],'reads':this[_0x1c0414(0x952)],'prompts':0x0,'tokens':0x0}}}),_0x27f628[_0x1c0414(0x8f9)](_0x751840[_0x1c0414(0x571)],'ccc'+this[_0x1c0414(0xa46)]+_0x1c0414(0x5ca)+this[_0x1c0414(0x32e)],_0x522feb);},_0x38055e);}}class _0x3b7199{['id'];[_0x2d5032(0x293)];[_0x2d5032(0x7a2)];constructor(_0x12fc44,_0x408792=new Set(),_0x3aa2ba){const _0x4daa36=_0x2d5032;this['id']=_0x12fc44,this[_0x4daa36(0x293)]=_0x408792,this[_0x4daa36(0x7a2)]=_0x3aa2ba;}[_0x2d5032(0x8d0)](){const _0x4cfba9=_0x2d5032;this[_0x4cfba9(0x7a2)]=void 0x0,this[_0x4cfba9(0x293)][_0x4cfba9(0x24b)]();}[_0x2d5032(0x5cd)](){return this['id'];}[_0x2d5032(0xadc)](){const _0x2fed26=_0x2d5032;return this[_0x2fed26(0x7a2)];}['getRemoteConnections'](){const _0xdcda4f=_0x2d5032;return this[_0xdcda4f(0x293)];}}class _0x37219e extends _0x3b7199{['id'];[_0x2d5032(0x7c5)];[_0x2d5032(0xa5d)];[_0x2d5032(0x293)];[_0x2d5032(0x7a2)];[_0x2d5032(0xa7e)]=_0x1a575a[_0x2d5032(0x985)][_0x2d5032(0x850)];constructor(_0x119081,_0x19c93a,_0x2c45ea,_0x453346=new Set(),_0x37697c){const _0x441ac6=_0x2d5032;super(_0x119081,_0x453346,_0x37697c),this['id']=_0x119081,this[_0x441ac6(0x7c5)]=_0x19c93a,this[_0x441ac6(0xa5d)]=_0x2c45ea,this['remoteConnections']=_0x453346,this['rank']=_0x37697c;}['getDisplayName'](){const _0x4718a8=_0x2d5032;return this[_0x4718a8(0x7c5)];}[_0x2d5032(0x8e5)](){return this['email'];}}class _0x4622b7{[_0x2d5032(0x514)];[_0x2d5032(0xa46)];[_0x2d5032(0x147)];constructor(_0x39f943,_0x178808){const _0x589bef=_0x2d5032;this[_0x589bef(0x514)]=_0x39f943,this[_0x589bef(0xa46)]=_0x178808,this[_0x589bef(0x147)]=_0x589bef(0x5ca)+this[_0x589bef(0x514)]+_0x589bef(0x5ca)+this[_0x589bef(0xa46)];}async[_0x2d5032(0x72f)](_0x1cc2e2,_0x271211){const _0x41ee26=_0x2d5032,_0x1811d7=(0x0,_0x280b6d[_0x41ee26(0x2b6)])(_0x2f80ec['getDatabase'](),_0x41ee26(0xa21)+this[_0x41ee26(0x147)]+'/objectstores/'+_0x271211+'/transactions/'+_0x1cc2e2['id']),_0x20750b=(0x0,_0x280b6d[_0x41ee26(0x9a4)])(_0x1811d7);_0x20750b[_0x41ee26(0x2f0)](),_0x1cc2e2[_0x41ee26(0x3f8)]||delete _0x1cc2e2[_0x41ee26(0x3f8)];try{await(0x0,_0x280b6d[_0x41ee26(0x687)])(_0x1811d7,_0x1cc2e2);}catch(_0x187c6e){throw await _0x20750b[_0x41ee26(0x6f0)](),new _0x54e1a8(_0x54e1a8[_0x41ee26(0x318)][_0x41ee26(0x187)]);}if(!0x1===(await(0x0,_0x280b6d['runTransaction'])((0x0,_0x280b6d[_0x41ee26(0x2b6)])(_0x2f80ec['getDatabase'](),_0x41ee26(0xa21)+this['clusterKey']+_0x41ee26(0x4a3)+_0x271211+'/transactions/lastTransaction'),_0x31ef45=>_0x31ef45?_0x31ef45===_0x1cc2e2['parentId']?_0x1cc2e2['id']:void 0x0:_0x1cc2e2[_0x41ee26(0x3f8)]?_0x1cc2e2[_0x41ee26(0x3f8)]:_0x1cc2e2['id']))[_0x41ee26(0xa58)])throw await(0x0,_0x280b6d[_0x41ee26(0x2f0)])(_0x1811d7),await _0x20750b[_0x41ee26(0x6f0)](),new _0x54e1a8(_0x54e1a8[_0x41ee26(0x318)]['ObjectStoreNotSynced']);await _0x20750b[_0x41ee26(0x6f0)]();}async[_0x2d5032(0x326)](_0x557bf4,_0x319e04){const _0x58d6fa=_0x2d5032;let _0x393878=[];const _0x553434=(0x0,_0x280b6d[_0x58d6fa(0x2b6)])(_0x2f80ec[_0x58d6fa(0x295)](),_0x58d6fa(0xa21)+this['clusterKey']+_0x58d6fa(0x4a3)+_0x557bf4+_0x58d6fa(0x563));let _0x39a1b5=await(0x0,_0x280b6d['get'])((0x0,_0x280b6d[_0x58d6fa(0x9ec)])(_0x553434,(0x0,_0x280b6d[_0x58d6fa(0x377)])(0x65),(0x0,_0x280b6d[_0x58d6fa(0x75c)])()));if(!_0x39a1b5[_0x58d6fa(0x59b)]()){if(void 0x0!==_0x319e04)throw new _0x54e1a8(_0x54e1a8[_0x58d6fa(0x318)][_0x58d6fa(0x240)]);return _0x393878;}const _0x3b6639=_0x39a1b5['val']();for(;Object['keys'](_0x39a1b5[_0x58d6fa(0x90e)]())[_0x58d6fa(0x80e)]>0x64;){const _0x15ba81=Object['keys'](_0x39a1b5['val']()),_0x5f4179=_0x15ba81[_0x15ba81[_0x58d6fa(0x80e)]-0x1];_0x39a1b5=await(0x0,_0x280b6d[_0x58d6fa(0x13f)])((0x0,_0x280b6d[_0x58d6fa(0x9ec)])(_0x553434,(0x0,_0x280b6d[_0x58d6fa(0x377)])(0x65),(0x0,_0x280b6d[_0x58d6fa(0x9eb)])(_0x5f4179),(0x0,_0x280b6d[_0x58d6fa(0x75c)])())),Object[_0x58d6fa(0x410)](_0x3b6639,_0x39a1b5[_0x58d6fa(0x90e)]());}if(_0x393878=Object[_0x58d6fa(0xa94)](_0x3b6639)[_0x58d6fa(0xa9f)](_0x5193b9=>'string'!=typeof _0x5193b9),0x0===_0x393878['length']&&void 0x0!==_0x319e04)throw new _0x54e1a8(_0x54e1a8[_0x58d6fa(0x318)][_0x58d6fa(0x240)]);if(_0x393878[_0x58d6fa(0x80e)]>0x0&&void 0x0!==_0x319e04&&!_0x393878['find'](_0x26412a=>_0x26412a['id']===_0x319e04))throw new _0x54e1a8(_0x54e1a8[_0x58d6fa(0x318)]['ObjectStoreInvalidState']);const _0x44bb64=[];let _0x20c0ad=_0x393878[_0x58d6fa(0x91b)](_0x271a84=>_0x271a84['parentId']===_0x319e04);for(;_0x20c0ad;)_0x44bb64['push'](_0x20c0ad),_0x20c0ad=_0x393878[_0x58d6fa(0x91b)](_0x2b592b=>_0x2b592b['parentId']===_0x20c0ad['id']);return _0x44bb64;}}class _0x5a8274 extends _0x5f0ad6{[_0x2d5032(0x705)];[_0x2d5032(0x92b)];[_0x2d5032(0x454)];['documentParserConnector'];[_0x2d5032(0x4dc)];[_0x2d5032(0x34c)];[_0x2d5032(0x212)];[_0x2d5032(0x883)];[_0x2d5032(0x89c)];[_0x2d5032(0x149)];['openAIKey'];[_0x2d5032(0xaf8)]=_0x38963c;[_0x2d5032(0x6f1)]=new Map();[_0x2d5032(0x914)]=!0x1;constructor(_0x39a5f4,_0x4b04f4,_0x545ca3,_0x150dd2,_0x3423f8,_0x225b28,_0x5da0e5,_0x1e5b05,_0x497d4a,_0x341220,_0x3c27e9,_0x22909e,_0x3add3f){const _0x378613=_0x2d5032;super(_0x39a5f4,_0x4b04f4),this[_0x378613(0x705)]=_0x545ca3,this[_0x378613(0x92b)]=_0x150dd2,this['objectStoreConnector']=_0x3423f8,this['documentParserConnector']=_0x225b28,this[_0x378613(0x4dc)]=_0x5da0e5,this['nlpLibraryConnector']=_0x1e5b05,this[_0x378613(0x212)]=_0x497d4a,this['aiSearchConnector']=_0x341220,this[_0x378613(0x89c)]=_0x3c27e9,this[_0x378613(0x149)]=_0x22909e,this[_0x378613(0x699)]=_0x3add3f,this[_0x378613(0x788)]();}async['getDataBucketIds'](){return[];}async[_0x2d5032(0x788)](_0x59b396=!0x1){const _0x4f0954=_0x2d5032;if(!this[_0x4f0954(0x914)]){_0x27f628['forceLog'](_0x4f0954(0x567),this['label']);try{for(const _0x53a839 of this[_0x4f0954(0x92b)])await _0x53a839[_0x4f0954(0xa82)](this[_0x4f0954(0x32e)],this['models']);}catch(_0x18a5f9){return this[_0x4f0954(0x788)](_0x59b396);}this[_0x4f0954(0x914)]=!0x0,_0x27f628['forceLog'](_0x4f0954(0x9f1),this[_0x4f0954(0x32e)]);}}['close'](){const _0x3442d3=_0x2d5032;this[_0x3442d3(0x83a)]?.[_0x3442d3(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49['Content'],'content':{'type':_0x1ff5c6[_0x3442d3(0x57d)],'label':this[_0x3442d3(0x32e)]}});}['getInternalStreamId'](){return this['label'];}[_0x2d5032(0x98e)](){const _0x148bc4=_0x2d5032;return _0x1a575a[_0x148bc4(0x979)]['Data'];}[_0x2d5032(0x60a)](_0x3faacd){const _0x3f3986=_0x2d5032,_0x6fe4a0='job-'+(0x0,_0x1fd9e4['v4'])();let _0x24b7ae=!0x1;const _0x17a5a2=()=>{const _0x26169a=a0_0x11f8;if(_0x24b7ae)throw new _0x54e1a8(_0x54e1a8[_0x26169a(0x318)][_0x26169a(0x68a)]);_0x24b7ae=!0x0;},_0xe6003={'threadId':_0x3f3986(0x7c4)+(0x0,_0x1fd9e4['v4'])(),..._0x3faacd};switch(_0x3faacd[_0x3f3986(0xa7e)]){case _0x3f3986(0x3d1):case _0x3f3986(0x5b2):case _0x3f3986(0x273):case _0x3f3986(0x3f1):case _0x3f3986(0x46d):case _0x3f3986(0x7ff):case _0x3f3986(0x7ff):case'file-list':case _0x3f3986(0x7f1):case _0x3f3986(0x857):case _0x3f3986(0x90a):case _0x3f3986(0x6bd):return{'id':_0x6fe4a0,..._0x3faacd,'run':()=>(_0x17a5a2(),this[_0x3f3986(0x71d)](_0x6fe4a0,_0xe6003))};case _0x3f3986(0x4e4):case _0x3f3986(0x123):return{'id':_0x6fe4a0,'options':{'threadId':'thread-'+(0x0,_0x1fd9e4['v4'])()},..._0x3faacd,'run':()=>(_0x17a5a2(),this[_0x3f3986(0x71d)](_0x6fe4a0,_0xe6003)),'stream':()=>(_0x17a5a2(),this['internalProcessJobStream'](_0x6fe4a0,_0xe6003))};default:throw new Error(_0x3f3986(0x1dc));}}async['internalProcessJob'](_0x6f8a52,_0x1a68a6){const _0x2e06ce=_0x2d5032;if(_0x2e06ce(0x123)===_0x1a68a6[_0x2e06ce(0xa7e)]){await this[_0x2e06ce(0x1cf)](_0x6f8a52,_0x1a68a6);const _0x5660fd=await _0x73d90b['getWorkflow'](_0x1a68a6['vendorId'],_0x1a68a6['workflowId']),_0x558105=_0x5660fd[_0x2e06ce(0xa76)][_0x2e06ce(0x91b)](_0x927a1a=>_0x927a1a[_0x2e06ce(0xa7e)]===_0x57cac9[_0x2e06ce(0x407)]),_0x3f3dc3=await _0x432684(_0x1a68a6[_0x2e06ce(0x737)]??_0x6f8a52,_0x1a68a6,_0x558105,_0x5660fd[_0x2e06ce(0xa76)],{'documentParserConnector':this[_0x2e06ce(0xa12)],'fileConnector':this[_0x2e06ce(0x4dc)],'nlpLibraryConnector':this[_0x2e06ce(0x34c)],'generativeAIWorkerConnectors':this[_0x2e06ce(0x92b)],'models':Array[_0x2e06ce(0x8ee)](this['models']['values']()),'contentMediator':this[_0x2e06ce(0x705)],'searchConnector':this[_0x2e06ce(0x212)],'aiSearchConnector':this[_0x2e06ce(0x883)],'queryFileConnector':this[_0x2e06ce(0x89c)]});return await this[_0x2e06ce(0x274)](_0x6f8a52,_0x1a68a6),_0x3f3dc3;}if(_0x2e06ce(0x6bd)===_0x1a68a6[_0x2e06ce(0xa7e)])return await _0x24b0ed(_0x1a68a6,{'documentParserConnector':this[_0x2e06ce(0xa12)],'fileConnector':this[_0x2e06ce(0x4dc)],'nlpLibraryConnector':this[_0x2e06ce(0x34c)],'generativeAIWorkerConnectors':this[_0x2e06ce(0x92b)],'models':Array['from'](this['models'][_0x2e06ce(0xa94)]()),'contentMediator':this[_0x2e06ce(0x705)],'searchConnector':this[_0x2e06ce(0x212)],'aiSearchConnector':this[_0x2e06ce(0x883)],'queryFileConnector':this['queryFileConnector']});if('inference'===_0x1a68a6[_0x2e06ce(0xa7e)]){await this[_0x2e06ce(0x1cf)](_0x6f8a52,_0x1a68a6);const _0x248861=await _0x4bbae3(_0x1a68a6['jobId']??_0x6f8a52,_0x1a68a6,{'documentParserConnector':this[_0x2e06ce(0xa12)],'fileConnector':this[_0x2e06ce(0x4dc)],'nlpLibraryConnector':this[_0x2e06ce(0x34c)],'generativeAIWorkerConnectors':this[_0x2e06ce(0x92b)],'models':Array[_0x2e06ce(0x8ee)](this[_0x2e06ce(0xaf8)][_0x2e06ce(0xa94)]()),'contentMediator':this[_0x2e06ce(0x705)],'searchConnector':this[_0x2e06ce(0x212)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x2e06ce(0x89c)]});return await this[_0x2e06ce(0x274)](_0x6f8a52,_0x1a68a6),_0x248861;}if('rate'===_0x1a68a6[_0x2e06ce(0xa7e)])return await _0x1d5b2d[_0x2e06ce(0x131)]({'jobType':_0xf54e14['Rating'],'type':_0x49e8f2[_0x2e06ce(0xa02)],'jobId':_0x1a68a6[_0x2e06ce(0x737)],'threadId':_0x1a68a6['threadId'],'traceLevel':_0xc916ae[_0x2e06ce(0x753)],'startTime':Date[_0x2e06ce(0xa45)](),'timestamp':Date[_0x2e06ce(0xa45)](),'status':_0x2e06ce(0x733),'rating':_0x1a68a6[_0x2e06ce(0x49b)],'feedback':_0x1a68a6['feedback']}),{'type':_0x2e06ce(0x7f1),'status':_0x1a575a[_0x2e06ce(0x8e6)][_0x2e06ce(0x74c)]};if(_0x2e06ce(0x90a)===_0x1a68a6[_0x2e06ce(0xa7e)])return await _0x162d5f(_0x1a68a6,{'documentParserConnector':this[_0x2e06ce(0xa12)],'fileConnector':this[_0x2e06ce(0x4dc)],'nlpLibraryConnector':this[_0x2e06ce(0x34c)],'generativeAIWorkerConnectors':this[_0x2e06ce(0x92b)],'models':Array['from'](this[_0x2e06ce(0xaf8)][_0x2e06ce(0xa94)]()),'contentMediator':this[_0x2e06ce(0x705)],'searchConnector':this[_0x2e06ce(0x212)],'aiSearchConnector':this[_0x2e06ce(0x883)],'queryFileConnector':this[_0x2e06ce(0x89c)]});if('realtime-session-create'===_0x1a68a6[_0x2e06ce(0xa7e)]){const _0x231045=await _0x73d90b['getWorkflow'](_0x1a68a6[_0x2e06ce(0x514)],_0x1a68a6['workflowId']),_0x562cba=_0x231045[_0x2e06ce(0xa76)]['find'](_0x5351b8=>_0x5351b8[_0x2e06ce(0xa7e)]===_0x57cac9[_0x2e06ce(0x6a1)]),_0x21a212=_0x231045['blocks']['filter'](_0x2350c5=>_0x2350c5[_0x2e06ce(0x3c3)]?.[_0x2e06ce(0x4f0)](_0x47d4e7=>_0x47d4e7[_0x2e06ce(0xa7e)]===_0x4f0d49['Tool']&&_0x47d4e7['uid']===_0x562cba[_0x2e06ce(0x5c0)]))[_0x2e06ce(0x7fc)](_0x264676=>_0x49b62a(_0x264676,_0x231045['blocks']));return{'type':_0x2e06ce(0x857),'apiKey':this[_0x2e06ce(0x699)],'modelId':_0x562cba[_0x2e06ce(0x24a)],'instructions':_0x562cba['instructions'],'temperature':_0x562cba[_0x2e06ce(0x3a9)],'maxTokens':_0x562cba[_0x2e06ce(0x19f)],'initialPrompt':_0x231045[_0x2e06ce(0x4d5)],'tools':_0x21a212[_0x2e06ce(0x247)](_0x354e4f=>({..._0x354e4f,'name':this[_0x2e06ce(0x1b8)](_0x354e4f),'description':this[_0x2e06ce(0x927)](_0x354e4f),'parameters':this[_0x2e06ce(0x77b)](_0x354e4f)}))};}if(_0x2e06ce(0x3f1)===_0x1a68a6[_0x2e06ce(0xa7e)]){const {vendorId:_0x90eba3,collectionId:_0x2a4264,fileId:_0x4478c3}=_0x1a68a6,_0x1b7510=await _0x73d90b[_0x2e06ce(0xa67)](_0x90eba3,_0x2a4264),_0x2ec035=this[_0x2e06ce(0x149)]?.[_0x2e06ce(0x13f)](_0x1b7510[_0x2e06ce(0x9af)]);if(!_0x2ec035)throw new Error('No\x20RAG\x20connector\x20available');const _0x1c82bc=_0x5145c7(_0x90eba3,_0x1b7510);if(_0x1b7510['storageType']===_0x1a575a['GenerativeAIRagType'][_0x2e06ce(0x85f)])try{await _0x2ec035[_0x2e06ce(0x2b5)](_0x1c82bc,_0x2a4264,'/'+_0x90eba3+'/'+_0x2a4264+'/'+_0x4478c3),await this['objectStoreConnector'][_0x2e06ce(0x2e8)]('/'+_0x90eba3+'/'+_0x2a4264+'/'+_0x4478c3);}catch(_0x3f8cc4){_0x27f628['error'](_0x2e06ce(0x784),_0x3f8cc4);}else try{await _0x2ec035[_0x2e06ce(0x2b5)](_0x1c82bc,_0x2a4264,_0x4478c3);}catch(_0x5df76a){_0x27f628['error'](_0x2e06ce(0x784),_0x5df76a);}return{'type':_0x2e06ce(0x3f1)};}if(_0x2e06ce(0x46d)===_0x1a68a6[_0x2e06ce(0xa7e)]){let _0x231365;const _0x5ae267=this[_0x2e06ce(0x6f1)]['keys']();for(;!_0x231365;){const _0x129e18=_0x5ae267['next']()[_0x2e06ce(0x50f)];if(!_0x129e18)throw new Error(_0x2e06ce(0x930));_0x231365=this[_0x2e06ce(0x6f1)][_0x2e06ce(0x13f)](_0x129e18);try{const _0x2af58e=await _0x231365[_0x2e06ce(0x13f)](_0x1a68a6[_0x2e06ce(0x4ac)]);return{'type':_0x2e06ce(0x46d),'fileName':_0x2af58e[_0x2e06ce(0x928)],'mimeType':_0x2af58e[_0x2e06ce(0xa7e)],'document':await _0x2af58e[_0x2e06ce(0xaa1)]()};}catch(_0x46f942){continue;}}throw new Error(_0x2e06ce(0x930));}if('file-ingest'===_0x1a68a6[_0x2e06ce(0xa7e)]){const {vendorId:_0x263f1e,collectionId:_0x51c6d9,fileName:_0x2c8a68,content:_0x9c15}=_0x1a68a6,_0x5b8f6c=await _0x73d90b[_0x2e06ce(0xa67)](_0x263f1e,_0x51c6d9);if(_0x5b8f6c[_0x2e06ce(0x9af)]!==_0x1a575a[_0x2e06ce(0x4e6)][_0x2e06ce(0x85f)]){const _0x4b8814=this[_0x2e06ce(0x149)]?.['get'](_0x5b8f6c['storageType']);if(!_0x4b8814)throw new Error(_0x2e06ce(0x3e8));const _0x4e37f2=_0x5145c7(_0x263f1e,_0x5b8f6c);return await _0x4b8814[_0x2e06ce(0x9c9)](_0x4e37f2,_0x51c6d9,_0x2c8a68,_0x9c15),{'type':'file-ingest'};}const _0x435a80=_0x5b8f6c['ingestBlocks']?.['find'](_0x56f2a6=>_0x56f2a6[_0x2e06ce(0xa7e)]===_0x3776b8[_0x2e06ce(0x228)]);if(!_0x435a80)throw new Error(_0x2e06ce(0x685));return await _0x8acda5(_0x1a68a6['vendorId'],_0x6f8a52,'/'+_0x263f1e+'/'+_0x51c6d9+'/'+_0x2c8a68,_0x9c15,_0x435a80,_0x5b8f6c,{'objectStoreConnector':this[_0x2e06ce(0x454)],'ragConnector':this[_0x2e06ce(0x149)]?.[_0x2e06ce(0x13f)](_0x1a575a['GenerativeAIRagType'][_0x2e06ce(0x85f)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x2e06ce(0x4dc)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x2e06ce(0x92b)],'models':Array[_0x2e06ce(0x8ee)](this[_0x2e06ce(0xaf8)]['values']()),'contentMediator':this[_0x2e06ce(0x705)]}),{'type':_0x2e06ce(0x7ff)};}if('file-list'===_0x1a68a6[_0x2e06ce(0xa7e)]){const {vendorId:_0x4a37e8,collectionId:_0x1f751d}=_0x1a68a6,_0x32adb8=await _0x73d90b[_0x2e06ce(0xa67)](_0x4a37e8,_0x1f751d);if(_0x32adb8[_0x2e06ce(0x9af)]!==_0x1a575a[_0x2e06ce(0x4e6)]['Crewdle']){const _0x5e487b=this[_0x2e06ce(0x149)]?.['get'](_0x32adb8[_0x2e06ce(0x9af)]);if(!_0x5e487b)throw new Error(_0x2e06ce(0x3e8));const _0x5597d2=_0x5145c7(_0x4a37e8,_0x32adb8);return{'type':_0x2e06ce(0xa53),'files':await _0x5e487b[_0x2e06ce(0x408)](_0x5597d2,_0x1f751d)};}try{return{'type':_0x2e06ce(0xa53),'files':(await this[_0x2e06ce(0x454)][_0x2e06ce(0x6bb)]('/'+_0x4a37e8+'/'+_0x1f751d,!0x1))[_0x2e06ce(0x247)](_0x240991=>({'name':_0x240991['name'],'id':_0x240991[_0x2e06ce(0x928)],'status':_0x2e06ce(0x218)}))};}catch(_0x437205){return{'type':_0x2e06ce(0xa53),'files':[]};}}if(_0x2e06ce(0x3d1)===_0x1a68a6[_0x2e06ce(0xa7e)]){const {vendorId:_0x837271,collectionId:_0x105aad}=_0x1a68a6,_0xfccb7d=await _0x73d90b[_0x2e06ce(0xa67)](_0x837271,_0x105aad),_0x2e9519=this[_0x2e06ce(0x149)]?.[_0x2e06ce(0x13f)](_0xfccb7d['storageType']);if(!_0x2e9519)return{'type':_0x2e06ce(0x3d1)};const _0x2abd04=_0x5145c7(_0x837271,_0xfccb7d);return await _0x2e9519[_0x2e06ce(0x9bb)](_0x2abd04,_0x105aad),{'type':_0x2e06ce(0x3d1)};}if('collection-delete'===_0x1a68a6[_0x2e06ce(0xa7e)]){const {vendorId:_0x481fdf,collectionId:_0x425de8}=_0x1a68a6,_0x315042=await _0x73d90b[_0x2e06ce(0xa67)](_0x481fdf,_0x425de8),_0x5ea694=this[_0x2e06ce(0x149)]?.[_0x2e06ce(0x13f)](_0x315042[_0x2e06ce(0x9af)]);if(!_0x5ea694)return{'type':_0x2e06ce(0x5b2)};const _0x80c1f0=_0x5145c7(_0x481fdf,_0x315042);let _0x225c69=!0x1;if(_0x315042[_0x2e06ce(0x394)]===_0x54a928[_0x2e06ce(0x94d)]&&(_0x225c69=!0x0),_0x315042[_0x2e06ce(0x394)]===_0x54a928[_0x2e06ce(0x8a7)]){_0x225c69=!0x0;const _0x2172fb=await _0x73d90b[_0x2e06ce(0x1a1)](_0x481fdf);for(const _0x38097d of _0x2172fb)if(_0x38097d[_0x2e06ce(0x9af)]===_0x315042[_0x2e06ce(0x9af)]&&_0x38097d[_0x2e06ce(0x394)]===_0x54a928[_0x2e06ce(0x8a7)]&&_0x38097d['id']!==_0x315042['id']){_0x225c69=!0x1;break;}}try{await _0x5ea694['deleteCollection'](_0x80c1f0,_0x425de8,_0x225c69);}catch(_0x87a64d){_0x27f628[_0x2e06ce(0x275)](_0x2e06ce(0x8f7),_0x87a64d);}return{'type':_0x2e06ce(0x5b2)};}if('collection-query'===_0x1a68a6[_0x2e06ce(0xa7e)]){const {query:_0x5dd1d9,vendorId:_0x203a77,collectionId:_0x58ccc3}=_0x1a68a6,_0x28c385=await _0x73d90b[_0x2e06ce(0xa67)](_0x203a77,_0x58ccc3);if(_0x28c385['storageType']!==_0x1a575a['GenerativeAIRagType'][_0x2e06ce(0x85f)]){const _0x29da2a=this[_0x2e06ce(0x149)]?.[_0x2e06ce(0x13f)](_0x28c385[_0x2e06ce(0x9af)]);if(!_0x29da2a)throw new Error(_0x2e06ce(0x3e8));const _0x4b9a58=_0x5145c7(_0x203a77,_0x28c385);return{'type':_0x2e06ce(0x273),'results':await _0x29da2a[_0x2e06ce(0x980)](_0x4b9a58,_0x58ccc3,_0x5dd1d9,0x1)};}const _0x180f2b=_0x28c385[_0x2e06ce(0xa25)]?.[_0x2e06ce(0x91b)](_0xbf0ebb=>_0xbf0ebb[_0x2e06ce(0xa7e)]===_0x3776b8[_0x2e06ce(0x407)]);return{'type':'collection-query','results':(await _0x30434a(_0x1a68a6['vendorId'],_0x6f8a52,'',_0x5dd1d9,_0x180f2b,_0x28c385,{'objectStoreConnector':this[_0x2e06ce(0x454)],'ragConnector':this[_0x2e06ce(0x149)]?.[_0x2e06ce(0x13f)](_0x1a575a[_0x2e06ce(0x4e6)][_0x2e06ce(0x85f)]),'documentParserConnector':this['documentParserConnector'],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x2e06ce(0x8ee)](this[_0x2e06ce(0xaf8)][_0x2e06ce(0xa94)]()),'contentMediator':this[_0x2e06ce(0x705)],'searchConnector':this[_0x2e06ce(0x212)],'aiSearchConnector':this[_0x2e06ce(0x883)],'queryFileConnector':this[_0x2e06ce(0x89c)]}))[_0x2e06ce(0x5d7)]??[]};}throw new Error('Unsupported\x20job\x20type');}async*['internalProcessJobStream'](_0x2da919,_0x20cf0e){const _0x3c9a63=_0x2d5032;if('prompt'===_0x20cf0e[_0x3c9a63(0xa7e)]){await this['startTracing'](_0x2da919,_0x20cf0e);const _0x51ec9d=await _0x73d90b[_0x3c9a63(0x390)](_0x20cf0e[_0x3c9a63(0x514)],_0x20cf0e[_0x3c9a63(0x207)]),_0x3bd5a6=_0x51ec9d[_0x3c9a63(0xa76)]['find'](_0x29948d=>_0x29948d[_0x3c9a63(0xa7e)]===_0x57cac9[_0x3c9a63(0x407)]);for await(const _0x5f475f of _0x576589(_0x20cf0e[_0x3c9a63(0x737)]??_0x2da919,_0x20cf0e,_0x3bd5a6,_0x51ec9d[_0x3c9a63(0xa76)],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x3c9a63(0x4dc)],'nlpLibraryConnector':this[_0x3c9a63(0x34c)],'generativeAIWorkerConnectors':this[_0x3c9a63(0x92b)],'models':Array[_0x3c9a63(0x8ee)](this[_0x3c9a63(0xaf8)]['values']()),'contentMediator':this[_0x3c9a63(0x705)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x3c9a63(0x883)],'queryFileConnector':this[_0x3c9a63(0x89c)]}))yield _0x5f475f;await this[_0x3c9a63(0x274)](_0x2da919,_0x20cf0e);}if(_0x3c9a63(0x4e4)===_0x20cf0e[_0x3c9a63(0xa7e)]){await this[_0x3c9a63(0x1cf)](_0x2da919,_0x20cf0e);for await(const _0x52fd18 of _0x153a5e(_0x20cf0e[_0x3c9a63(0x737)]??_0x2da919,_0x20cf0e,{'documentParserConnector':this[_0x3c9a63(0xa12)],'fileConnector':this[_0x3c9a63(0x4dc)],'nlpLibraryConnector':this[_0x3c9a63(0x34c)],'generativeAIWorkerConnectors':this[_0x3c9a63(0x92b)],'models':Array[_0x3c9a63(0x8ee)](this[_0x3c9a63(0xaf8)]['values']()),'contentMediator':this[_0x3c9a63(0x705)],'searchConnector':this[_0x3c9a63(0x212)],'aiSearchConnector':this[_0x3c9a63(0x883)],'queryFileConnector':this[_0x3c9a63(0x89c)]}))yield _0x52fd18;await this[_0x3c9a63(0x274)](_0x2da919,_0x20cf0e);}}async[_0x2d5032(0x1cf)](_0x3b4eb0,_0x48cdd4){const _0xc86fa6=_0x2d5032;if(_0xc86fa6(0x7f1)===_0x48cdd4[_0xc86fa6(0xa7e)])return _0x3b4eb0=_0x48cdd4[_0xc86fa6(0x737)],void await this[_0xc86fa6(0x1e5)](_0x3b4eb0,_0x48cdd4[_0xc86fa6(0x514)],_0x48cdd4[_0xc86fa6(0x207)]);_0xc86fa6(0x123)!==_0x48cdd4[_0xc86fa6(0xa7e)]&&_0xc86fa6(0x4e4)!==_0x48cdd4[_0xc86fa6(0xa7e)]||!_0x48cdd4[_0xc86fa6(0x737)]||(_0x3b4eb0=_0x48cdd4['jobId']),await this[_0xc86fa6(0x1e5)](_0x3b4eb0,_0x48cdd4[_0xc86fa6(0x514)],_0x48cdd4['workflowId'],_0x48cdd4[_0xc86fa6(0x4c9)]),await _0x1d5b2d['trace']({'jobType':_0xf54e14[_0xc86fa6(0xa7f)],'type':_0x3a3f86[_0xc86fa6(0x8c1)],'traceLevel':_0xc916ae[_0xc86fa6(0x753)],'jobId':_0x3b4eb0,'threadId':_0x48cdd4['threadId'],'startTime':Date[_0xc86fa6(0xa45)](),'timestamp':Date[_0xc86fa6(0xa45)](),'status':_0xc86fa6(0x733)});}async[_0x2d5032(0x274)](_0x4eb385,_0x12722f){const _0x5359e5=_0x2d5032;if(_0x5359e5(0x7f1)===_0x12722f[_0x5359e5(0xa7e)])return _0x4eb385=_0x12722f[_0x5359e5(0x737)],void await this['closeTrace'](_0x4eb385);_0x5359e5(0x123)!==_0x12722f[_0x5359e5(0xa7e)]&&_0x5359e5(0x4e4)!==_0x12722f[_0x5359e5(0xa7e)]||!_0x12722f[_0x5359e5(0x737)]||(_0x4eb385=_0x12722f[_0x5359e5(0x737)]),await _0x1d5b2d[_0x5359e5(0x131)]({'jobType':_0xf54e14[_0x5359e5(0xa7f)],'type':_0x3a3f86[_0x5359e5(0x588)],'traceLevel':_0xc916ae['Info'],'jobId':_0x4eb385,'threadId':_0x12722f[_0x5359e5(0x4c9)],'startTime':Date['now'](),'timestamp':Date[_0x5359e5(0xa45)](),'status':_0x5359e5(0x733)}),await this[_0x5359e5(0x39d)](_0x4eb385,_0x12722f[_0x5359e5(0x4c9)]);}async[_0x2d5032(0x1e5)](_0x2f4ac0,_0x3c238a,_0x4f824c,_0x52a579){const _0x45406b=_0x2d5032;try{if(!await _0x1d5b2d[_0x45406b(0x1e5)](_0x3c238a,_0x2f4ac0,_0x4f824c,_0x52a579))throw new Error(_0x45406b(0x266));return _0x2f4ac0;}catch(_0x2ba9d7){return console['error']('Error\x20opening\x20trace',_0x2ba9d7),_0x45406b(0x75d);}}async[_0x2d5032(0x39d)](_0x426b8f,_0x3dffd1){const _0x2b268b=_0x2d5032;try{await _0x1d5b2d['closeTrace'](_0x426b8f,_0x3dffd1);}catch(_0x4ab292){console[_0x2b268b(0x275)](_0x2b268b(0x2f3),{'jobId':_0x426b8f,'error':_0x4ab292});}}[_0x2d5032(0x1b8)](_0x28d776){const _0x241279=_0x2d5032;switch(_0x28d776[_0x241279(0xa7e)]){case _0x57cac9['Agent']:case _0x57cac9[_0x241279(0x982)]:return _0x241279(0x65b)+_0x28d776['name'][_0x241279(0x9b8)](/[^a-zA-Z]/g,'');case _0x57cac9[_0x241279(0x332)]:return'executeWorkflow'+_0x28d776[_0x241279(0x928)][_0x241279(0x9b8)](/[^a-zA-Z]/g,'');case _0x57cac9[_0x241279(0x8bc)]:case _0x57cac9[_0x241279(0x541)]:return _0x241279(0x984)+_0x28d776['name'][_0x241279(0x9b8)](/[^a-zA-Z]/g,'');case _0x57cac9[_0x241279(0x463)]:return _0x28d776['name']['replace'](/[^a-zA-Z]/g,'');case _0x57cac9[_0x241279(0x957)]:return _0x241279(0x7b5);case _0x57cac9[_0x241279(0x189)]:return'executeJavascriptCodeSnippet';case _0x57cac9[_0x241279(0xa1f)]:return _0x241279(0x47e);case _0x57cac9['WebScraper']:case _0x57cac9['WebScraperRaw']:return _0x241279(0x169);case _0x1a575a[_0x241279(0x302)][_0x241279(0xa56)]:return'getQuestion'+_0x28d776[_0x241279(0x928)][_0x241279(0x9b8)](/[^a-zA-Z]/g,'');case _0x1a575a[_0x241279(0x302)][_0x241279(0x7d3)]:return _0x241279(0x9d2)+_0x28d776[_0x241279(0x928)][_0x241279(0x9b8)](/[^a-zA-Z]/g,'');case _0x1a575a[_0x241279(0x302)]['FormSkillSubmitForm']:return _0x241279(0x158)+_0x28d776['name']['replace'](/[^a-zA-Z]/g,'');default:return'';}}['getToolDescription'](_0x2badbf){const _0x2278fb=_0x2d5032;switch(_0x2badbf[_0x2278fb(0xa7e)]){case _0x57cac9['Agent']:case _0x57cac9[_0x2278fb(0x982)]:return _0x2278fb(0x234)+_0x2badbf[_0x2278fb(0x52e)]+_0x2278fb(0x325);case _0x57cac9[_0x2278fb(0x332)]:return _0x2278fb(0x739)+_0x2badbf[_0x2278fb(0x52e)]+_0x2278fb(0x325);case _0x57cac9[_0x2278fb(0x8bc)]:case _0x57cac9[_0x2278fb(0x541)]:return _0x2278fb(0x589)+_0x2badbf[_0x2278fb(0x52e)]+_0x2278fb(0x7e6);case _0x57cac9[_0x2278fb(0x463)]:return _0x2278fb(0x6ef)+_0x2badbf[_0x2278fb(0x52e)];case _0x57cac9[_0x2278fb(0x957)]:return _0x2278fb(0x62d);case _0x57cac9['Code']:return _0x2278fb(0x4d9);case _0x57cac9[_0x2278fb(0xa1f)]:return _0x2278fb(0x759);case _0x57cac9[_0x2278fb(0x437)]:case _0x57cac9[_0x2278fb(0x9b7)]:return _0x2278fb(0x3e5);case _0x1a575a['GenerativeAIInferenceToolType']['FormSkillGetQuestion']:return _0x2278fb(0x700);case _0x1a575a[_0x2278fb(0x302)][_0x2278fb(0x7d3)]:return _0x2278fb(0x7f0);case _0x1a575a[_0x2278fb(0x302)][_0x2278fb(0x4a1)]:return _0x2278fb(0x92a);default:return'';}}[_0x2d5032(0x77b)](_0x38abaa){const _0x160b14=_0x2d5032;switch(_0x38abaa['type']){case _0x57cac9[_0x160b14(0x6a1)]:case _0x57cac9[_0x160b14(0x982)]:case _0x57cac9[_0x160b14(0x332)]:return[{'name':_0x160b14(0x123),'type':_0x160b14(0x823)}];case _0x57cac9[_0x160b14(0x8bc)]:case _0x57cac9[_0x160b14(0x541)]:return[{'name':'queryOrPrompt','type':_0x160b14(0x823)}];case _0x57cac9['CustomSkill']:return _0x38abaa[_0x160b14(0x42f)][_0x160b14(0x247)](_0x5557b2=>({'name':_0x5557b2['name'],'type':_0x5557b2[_0x160b14(0xa7e)]??'string'}))??[];case _0x57cac9['AiSearch']:return[{'name':'query','type':_0x160b14(0x823)}];case _0x57cac9[_0x160b14(0x189)]:return[{'name':_0x160b14(0x23c),'type':_0x160b14(0x823)}];case _0x57cac9[_0x160b14(0xa1f)]:return[{'name':_0x160b14(0x9ec),'type':_0x160b14(0x823)}];case _0x57cac9[_0x160b14(0x437)]:case _0x57cac9[_0x160b14(0x9b7)]:return[{'name':'url','type':_0x160b14(0x823)},{'name':_0x160b14(0x1c3),'type':_0x160b14(0x566)}];case _0x1a575a['GenerativeAIInferenceToolType'][_0x160b14(0xa56)]:return[];case _0x1a575a['GenerativeAIInferenceToolType'][_0x160b14(0x7d3)]:return[{'name':'id','type':_0x160b14(0x823)},{'name':'answer','type':_0x160b14(0x823)}];case _0x1a575a[_0x160b14(0x302)][_0x160b14(0x4a1)]:default:return[];}}}class _0x4811c0{[_0x2d5032(0x47c)];['options'];[_0x2d5032(0x4dd)]=new Map();[_0x2d5032(0x727)]=new Map();[_0x2d5032(0x38e)]=new Map();[_0x2d5032(0x647)]=new Map();[_0x2d5032(0x194)]=new Map();[_0x2d5032(0x707)]=new Map();[_0x2d5032(0x515)]=new Map();['graphDatabases']=new Map();['jobDispatchers']=new Map();[_0x2d5032(0x50b)]=new Map();[_0x2d5032(0x630)]=new Map();[_0x2d5032(0x16d)];constructor(_0x14d1b9,_0x4de004){const _0x12d39c=_0x2d5032;this['configs']=_0x14d1b9,this[_0x12d39c(0x938)]=_0x4de004,this[_0x12d39c(0x16d)]=new _0x4622b7(this[_0x12d39c(0x47c)][_0x12d39c(0x514)],this[_0x12d39c(0x47c)][_0x12d39c(0xa46)]);}[_0x2d5032(0x8d0)](_0x9af011=!0x1){const _0x5d3480=_0x2d5032;this[_0x5d3480(0x727)][_0x5d3480(0x3e9)]((_0x5d384d,_0x504032)=>{_0x5d384d['forEach']((_0x400348,_0x49bbbc)=>{const _0x417400=a0_0x11f8;this[_0x417400(0x41d)](_0x504032,_0x49bbbc);});}),_0x9af011||(_0x54afe3[_0x5d3480(0x24b)](),this['localMediaStreams'][_0x5d3480(0x3e9)]((_0x2ee4da,_0x5a2095)=>{const _0x191885=_0x5d3480;this[_0x191885(0xab8)](_0x5a2095);}),this[_0x5d3480(0x38e)][_0x5d3480(0x3e9)]((_0x8c4c65,_0x1d8186)=>{const _0xa93177=_0x5d3480;this[_0xa93177(0x1f0)](_0x1d8186);}),this['objectStores'][_0x5d3480(0x3e9)]((_0x474310,_0x9b44cd)=>{const _0x5beb7d=_0x5d3480;this[_0x5beb7d(0xaaa)](_0x9b44cd);}),this[_0x5d3480(0x194)][_0x5d3480(0x3e9)]((_0x232be1,_0x1a2674)=>{const _0x529480=_0x5d3480;this[_0x529480(0x70d)](_0x1a2674);}),this[_0x5d3480(0x707)][_0x5d3480(0x3e9)]((_0x5a4454,_0x400100)=>{const _0x3fc797=_0x5d3480;this[_0x3fc797(0x6aa)](_0x400100);}),this[_0x5d3480(0x768)][_0x5d3480(0x3e9)]((_0xb07531,_0x41c2ef)=>{const _0x2ec4af=_0x5d3480;this[_0x2ec4af(0x476)](_0x41c2ef);}),this['jobWorkers'][_0x5d3480(0x3e9)]((_0x2a599f,_0x14e36a)=>{const _0x4bd70f=_0x5d3480;this[_0x4bd70f(0x840)](_0x14e36a);}),this[_0x5d3480(0x630)]['forEach']((_0x4ed85a,_0x400251)=>{const _0x186a45=_0x5d3480;this[_0x186a45(0x92f)](_0x400251);}),this[_0x5d3480(0x515)][_0x5d3480(0x3e9)]((_0x4a724c,_0x3da68a)=>{const _0x5c5c36=_0x5d3480;this[_0x5c5c36(0x186)](_0x3da68a);}),this[_0x5d3480(0x3c0)][_0x5d3480(0x3e9)]((_0x529457,_0x157766)=>{const _0x5bca26=_0x5d3480;this[_0x5bca26(0x132)](_0x157766);}));}['createObjectStoreBucket'](_0x4c4823,_0x148125,_0x44261c){const _0x3b1685=_0x2d5032;if(this[_0x3b1685(0x647)][_0x3b1685(0x290)](_0x4c4823))throw new _0x10fc18(_0x10a5c8[_0x3b1685(0xac2)],_0x3b1685(0xf8));const _0x1ecf32=new _0x754a4a(this[_0x3b1685(0x47c)][_0x3b1685(0x6ff)],_0x4c4823,this['configs'][_0x3b1685(0xa46)],this[_0x3b1685(0x47c)][_0x3b1685(0x514)],this[_0x3b1685(0x16d)],_0x148125,()=>this['configs'][_0x3b1685(0x6e0)][_0x3b1685(0x22e)](),_0x44261c);return this['objectStores'][_0x3b1685(0x687)](_0x4c4823,_0x1ecf32),this[_0x3b1685(0x47c)][_0x3b1685(0x6e0)][_0x3b1685(0x23e)](_0x1ecf32),_0x1ecf32;}[_0x2d5032(0x27e)](_0x31ec85,_0x23365d){const _0x30a5ba=_0x2d5032;if(this['objectStores'][_0x30a5ba(0x290)](_0x31ec85))throw new _0x10fc18(_0x10a5c8[_0x30a5ba(0x4b7)],_0x30a5ba(0x827));const _0x3aa7f6=new _0x16aa87(this[_0x30a5ba(0x47c)][_0x30a5ba(0x6ff)],_0x31ec85,this[_0x30a5ba(0x47c)]['clusterId'],this[_0x30a5ba(0x47c)][_0x30a5ba(0x514)],_0x23365d);return this['externalStorageConnections'][_0x30a5ba(0x687)](_0x31ec85,_0x3aa7f6),this[_0x30a5ba(0x47c)][_0x30a5ba(0x6e0)][_0x30a5ba(0x23e)](_0x3aa7f6),_0x3aa7f6;}async[_0x2d5032(0x3b1)](_0x3850a5,_0x22fe12,_0x2b9505){const _0x384846=_0x2d5032;if(this[_0x384846(0x707)][_0x384846(0x290)](_0x3850a5))throw new _0x10fc18(_0x10a5c8[_0x384846(0x8ef)],'Database\x20already\x20exists');try{const _0x5c8194=this[_0x384846(0x47c)]['mediator'][_0x384846(0x177)][_0x384846(0x830)](this[_0x384846(0x47c)]['mediator']),_0x2c8066=new _0x300a59(this['configs'][_0x384846(0x6ff)],_0x3850a5,this['configs'][_0x384846(0xa46)],this['configs']['vendorId'],_0x22fe12,_0x2b9505,_0x5c8194);return this['keyValueDatabases'][_0x384846(0x687)](_0x3850a5,_0x2c8066),this['configs']['mediator']['registerSystemSource'](_0x2c8066),_0x2c8066;}catch(_0x444f27){if(_0x444f27 instanceof _0x10fc18)throw _0x444f27;throw new _0x54e1a8(_0x54e1a8[_0x384846(0x318)][_0x384846(0x6fa)],{'label':_0x3850a5,'clusterId':this[_0x384846(0x47c)]['clusterId'],'vendorId':this[_0x384846(0x47c)][_0x384846(0x514)]});}}async['createJobDispatcher'](_0x4f2e72,_0x2f9e54){const _0x2c5a23=_0x2d5032;if(this[_0x2c5a23(0x768)][_0x2c5a23(0x290)](_0x4f2e72))throw new _0x10fc18(_0x10a5c8[_0x2c5a23(0x90f)],_0x2c5a23(0x779));try{const _0x50b3b2=new _0x48186d(this[_0x2c5a23(0x47c)][_0x2c5a23(0x6ff)],_0x4f2e72,_0x2f9e54);return this[_0x2c5a23(0x768)][_0x2c5a23(0x687)](_0x4f2e72,_0x50b3b2),this[_0x2c5a23(0x47c)][_0x2c5a23(0x6e0)]['registerSystemSource'](_0x50b3b2),_0x50b3b2;}catch(_0x113149){if(_0x113149 instanceof _0x10fc18)throw _0x113149;throw new _0x54e1a8(_0x54e1a8[_0x2c5a23(0x318)][_0x2c5a23(0x82e)],{'label':_0x4f2e72,'clusterId':this['configs'][_0x2c5a23(0xa46)],'vendorId':this[_0x2c5a23(0x47c)]['vendorId']});}}async[_0x2d5032(0x76e)](_0x5bbf41,_0x2e5091){const _0x5e8ef5=_0x2d5032;if(this[_0x5e8ef5(0x768)][_0x5e8ef5(0x290)](_0x5bbf41))throw new _0x10fc18(_0x10a5c8[_0x5e8ef5(0x221)],_0x5e8ef5(0x464));if(this[_0x5e8ef5(0x50b)][_0x5e8ef5(0x290)](_0x5bbf41))throw new _0x10fc18(_0x10a5c8[_0x5e8ef5(0x14a)],_0x5e8ef5(0x65f));try{const _0x7a0319=new _0x49f014(this[_0x5e8ef5(0x47c)][_0x5e8ef5(0x6ff)],_0x5bbf41,this[_0x5e8ef5(0x47c)]['vendorId'],_0x2e5091);return this[_0x5e8ef5(0x768)][_0x5e8ef5(0x687)](_0x5bbf41,_0x7a0319),this[_0x5e8ef5(0x47c)]['mediator'][_0x5e8ef5(0x23e)](_0x7a0319),_0x7a0319;}catch(_0xfda9b6){if(_0xfda9b6 instanceof _0x10fc18)throw _0xfda9b6;throw new _0x54e1a8(_0x54e1a8[_0x5e8ef5(0x318)][_0x5e8ef5(0x5cf)],{'label':_0x5bbf41,'clusterId':this[_0x5e8ef5(0x47c)][_0x5e8ef5(0xa46)],'vendorId':this[_0x5e8ef5(0x47c)]['vendorId']});}}async[_0x2d5032(0x25c)](_0x345180,_0x45d6f6,_0x23feab,_0x3c561b,_0x37bf33,_0x51dd9a,_0x2d98ba,_0x1cabf9,_0xd0e94,_0x494345,_0x3b936d){const _0x3a128f=_0x2d5032;if(this[_0x3a128f(0x630)][_0x3a128f(0x290)](_0x345180))throw new _0x10fc18(_0x10a5c8[_0x3a128f(0x221)],_0x3a128f(0x464));if(this['jobWorkers']['has'](_0x345180))throw new _0x10fc18(_0x10a5c8[_0x3a128f(0x14a)],_0x3a128f(0x65f));try{const _0x4bcdf3=new _0x5a8274(this[_0x3a128f(0x47c)]['localNode'],_0x345180,this,_0x45d6f6,_0x23feab,_0x3c561b,_0x37bf33,_0x51dd9a,_0x2d98ba,_0x1cabf9,_0xd0e94,_0x494345,_0x3b936d);return this[_0x3a128f(0x630)][_0x3a128f(0x687)](_0x345180,_0x4bcdf3),this[_0x3a128f(0x47c)][_0x3a128f(0x6e0)][_0x3a128f(0x23e)](_0x4bcdf3),_0x4bcdf3;}catch(_0x78b30c){if(_0x78b30c instanceof _0x10fc18)throw _0x78b30c;throw new _0x54e1a8(_0x54e1a8[_0x3a128f(0x318)][_0x3a128f(0x5cf)],{'label':_0x345180,'clusterId':this[_0x3a128f(0x47c)]['clusterId'],'vendorId':this[_0x3a128f(0x47c)]['vendorId']});}}async['createGenerativeAIWorker'](_0x3d7427,_0x2d3596,_0x4a9b05,_0x42c236,_0x36a5e0,_0x58167d,_0x54a84a,_0xffaa9c,_0x2f8d1d,_0x2c5d7d,_0x1cca69,_0x30bebd){const _0x4b150a=_0x2d5032;if(this[_0x4b150a(0x50b)][_0x4b150a(0x290)](_0x3d7427))throw new _0x10fc18(_0x10a5c8[_0x4b150a(0xf7)],_0x4b150a(0x2ce));if(this['jobDispatchers'][_0x4b150a(0x290)](_0x3d7427))throw new _0x10fc18(_0x10a5c8[_0x4b150a(0x14a)],_0x4b150a(0x65f));try{const _0x14f63b=new _0x100c72(this['configs'][_0x4b150a(0x6ff)],_0x3d7427,_0x2d3596,this,_0x4a9b05,_0x42c236,_0x36a5e0,_0x58167d,_0x54a84a,_0xffaa9c,_0x2f8d1d,_0x2c5d7d,_0x1cca69,_0x30bebd);return this[_0x4b150a(0x50b)][_0x4b150a(0x687)](_0x3d7427,_0x14f63b),this[_0x4b150a(0x47c)][_0x4b150a(0x6e0)][_0x4b150a(0x23e)](_0x14f63b),_0x14f63b;}catch(_0x4d1b2f){if(_0x4d1b2f instanceof _0x10fc18)throw _0x4d1b2f;throw new _0x54e1a8(_0x54e1a8[_0x4b150a(0x318)][_0x4b150a(0x184)],{'label':_0x3d7427,'clusterId':this[_0x4b150a(0x47c)][_0x4b150a(0xa46)],'vendorId':this['configs']['vendorId']});}}[_0x2d5032(0xab0)](_0x316b23,_0x252db8){const _0x1a716e=_0x2d5032;if(this[_0x1a716e(0x3c0)][_0x1a716e(0x290)](_0x316b23))throw new _0x10fc18(_0x10a5c8['GraphDatabaseAlreadyExists'],_0x1a716e(0x5c7));try{const _0x37b1ef=new _0x5e4dd7(this[_0x1a716e(0x47c)]['localNode'],_0x316b23,this[_0x1a716e(0x47c)][_0x1a716e(0xa46)],this[_0x1a716e(0x47c)][_0x1a716e(0x514)],_0x252db8);return this[_0x1a716e(0x3c0)]['set'](_0x316b23,_0x37b1ef),this[_0x1a716e(0x47c)][_0x1a716e(0x6e0)][_0x1a716e(0x23e)](_0x37b1ef),_0x37b1ef;}catch(_0x568084){if(_0x568084 instanceof _0x10fc18)throw _0x568084;throw new _0x54e1a8(_0x54e1a8['codes'][_0x1a716e(0x8e3)],{'label':_0x316b23,'clusterId':this[_0x1a716e(0x47c)][_0x1a716e(0xa46)],'vendorId':this[_0x1a716e(0x47c)][_0x1a716e(0x514)]});}}['createLocalDynamicMediaStream'](_0x46113c,_0x5ee8cb){const _0x27c635=_0x2d5032;if(this['localMediaStreams'][_0x27c635(0x290)](_0x46113c))throw new _0x10fc18(_0x10a5c8[_0x27c635(0xa9d)],'Local\x20MediaStream\x20already\x20exists');if(!this[_0x27c635(0x938)][_0x27c635(0x8a1)])throw new _0x10fc18(_0x10a5c8['LocalMediaStreamNoAudioContext'],_0x27c635(0x14f));const _0x27538b=new _0xec606(this[_0x27c635(0x47c)][_0x27c635(0x6ff)],_0x46113c,_0x5ee8cb,this[_0x27c635(0x938)][_0x27c635(0x30b)],this[_0x27c635(0x938)][_0x27c635(0x8a1)],this['configs']['clusterId']);return this[_0x27c635(0x4dd)][_0x27c635(0x687)](_0x46113c,_0x27538b),this[_0x27c635(0x47c)][_0x27c635(0x6e0)][_0x27c635(0x23e)](_0x27538b),_0x27538b[_0x27c635(0x849)](),_0x27538b;}[_0x2d5032(0x93b)](_0x18c5d2,_0x11eadd){const _0x1fbb29=_0x2d5032;if(this[_0x1fbb29(0x4dd)][_0x1fbb29(0x290)](_0x18c5d2))throw new _0x10fc18(_0x10a5c8['LocalMediaStreamAlreadyExists'],_0x1fbb29(0x3b3));const _0x1fa66f=new _0x773cf(this['configs']['localNode'],_0x18c5d2,_0x11eadd,this['configs']['clusterId']);return this['localMediaStreams'][_0x1fbb29(0x687)](_0x18c5d2,_0x1fa66f),this[_0x1fbb29(0x47c)]['mediator'][_0x1fbb29(0x23e)](_0x1fa66f),_0x1fa66f[_0x1fbb29(0x849)](),_0x1fa66f;}[_0x2d5032(0x26d)](_0x18e5e3){const _0x237aba=_0x2d5032;if(this[_0x237aba(0x38e)][_0x237aba(0x290)](_0x18e5e3))throw new _0x10fc18(_0x10a5c8[_0x237aba(0x4de)],_0x237aba(0x25d));const _0x793e2c=new _0x421a4a(this['configs'][_0x237aba(0x6ff)],_0x18e5e3,this[_0x237aba(0x47c)]['clusterId']);return this[_0x237aba(0x38e)][_0x237aba(0x687)](_0x18e5e3,_0x793e2c),this[_0x237aba(0x47c)][_0x237aba(0x6e0)][_0x237aba(0x23e)](_0x793e2c),_0x793e2c;}[_0x2d5032(0x694)](_0x205fb3,_0x4ee127,_0x3a758c,_0x22f396){const _0x3d08f4=_0x2d5032;this[_0x3d08f4(0x727)]['has'](_0x205fb3)||this['remoteMediaStreams'][_0x3d08f4(0x687)](_0x205fb3,new Map());const _0x36787f=this[_0x3d08f4(0x727)]['get'](_0x205fb3);if(_0x36787f[_0x3d08f4(0x290)](_0x4ee127))throw new _0x10fc18(_0x10a5c8[_0x3d08f4(0x869)],_0x3d08f4(0x5f9));const _0x1c2292=new _0x37219e(_0x205fb3,'',''),_0x4f43b7=new _0x279bdf(this[_0x3d08f4(0x47c)][_0x3d08f4(0x6ff)],_0x1c2292,_0x4ee127,_0x3a758c,_0x22f396,this['configs'][_0x3d08f4(0xa46)]);return _0x36787f[_0x3d08f4(0x687)](_0x4ee127,_0x4f43b7),this[_0x3d08f4(0x47c)][_0x3d08f4(0x6e0)]['registerSystemSource'](_0x4f43b7),_0x4f43b7;}['createVectorDatabase'](_0x1245a2,_0x54389e){const _0x3dcaa8=_0x2d5032;if(this[_0x3dcaa8(0x515)][_0x3dcaa8(0x290)](_0x1245a2))throw new _0x10fc18(_0x10a5c8[_0x3dcaa8(0x359)],'Database\x20already\x20exists');try{const _0x38459b=new _0x338739(this[_0x3dcaa8(0x47c)]['localNode'],_0x1245a2,this[_0x3dcaa8(0x47c)][_0x3dcaa8(0xa46)],this[_0x3dcaa8(0x47c)][_0x3dcaa8(0x514)],_0x54389e);return this[_0x3dcaa8(0x515)][_0x3dcaa8(0x687)](_0x1245a2,_0x38459b),this[_0x3dcaa8(0x47c)][_0x3dcaa8(0x6e0)][_0x3dcaa8(0x23e)](_0x38459b),_0x38459b;}catch(_0x2b8f0d){if(_0x2b8f0d instanceof _0x10fc18)throw _0x2b8f0d;throw new _0x54e1a8(_0x54e1a8[_0x3dcaa8(0x318)][_0x3dcaa8(0xa93)],{'label':_0x1245a2,'clusterId':this['configs'][_0x3dcaa8(0xa46)],'vendorId':this[_0x3dcaa8(0x47c)][_0x3dcaa8(0x514)]});}}['getObjectStoreBuckets'](_0x8b79e1){const _0x4eb9d8=_0x2d5032,_0x42f563=Array[_0x4eb9d8(0x8ee)](this['objectStores'][_0x4eb9d8(0xa94)]());return _0x8b79e1?_0x42f563['filter'](_0x8b79e1):_0x42f563;}[_0x2d5032(0x6ce)](_0x403ee6){const _0x78cb9d=_0x2d5032,_0x4216dd=Array['from'](this[_0x78cb9d(0x194)][_0x78cb9d(0xa94)]());return _0x403ee6?_0x4216dd[_0x78cb9d(0xa9f)](_0x403ee6):_0x4216dd;}[_0x2d5032(0x86c)](_0x20413a){const _0x112fac=_0x2d5032,_0x3b99b5=Array['from'](this['keyValueDatabases'][_0x112fac(0xa94)]());return _0x20413a?_0x3b99b5['filter'](_0x20413a):_0x3b99b5;}[_0x2d5032(0xa0e)](_0x114211){const _0x162aca=_0x2d5032,_0xa4db7c=Array[_0x162aca(0x8ee)](this['jobDispatchers']['values']());return _0x114211?_0xa4db7c[_0x162aca(0xa9f)](_0x114211):_0xa4db7c;}['getJobWorkers'](_0x5d090c){const _0x3787d9=_0x2d5032,_0x3370c8=Array['from'](this[_0x3787d9(0x50b)][_0x3787d9(0xa94)]());return _0x5d090c?_0x3370c8[_0x3787d9(0xa9f)](_0x5d090c):_0x3370c8;}[_0x2d5032(0x937)](_0x241bf8){const _0x4b2de3=_0x2d5032,_0x11d809=Array[_0x4b2de3(0x8ee)](this[_0x4b2de3(0x768)][_0x4b2de3(0xa94)]())[_0x4b2de3(0xa9f)](_0x1eb403=>_0x1eb403 instanceof _0x49f014);return _0x241bf8?_0x11d809[_0x4b2de3(0xa9f)](_0x241bf8):_0x11d809;}[_0x2d5032(0x436)](_0xdcb967){const _0x4c98ec=_0x2d5032,_0x59b275=Array[_0x4c98ec(0x8ee)](this[_0x4c98ec(0x630)]['values']());return _0xdcb967?_0x59b275[_0x4c98ec(0xa9f)](_0xdcb967):_0x59b275;}[_0x2d5032(0x495)](_0x4211fb){const _0x357f0c=_0x2d5032,_0x5285f9=Array[_0x357f0c(0x8ee)](this['jobWorkers'][_0x357f0c(0xa94)]())[_0x357f0c(0xa9f)](_0x3d8971=>_0x3d8971 instanceof _0x100c72);return _0x4211fb?_0x5285f9[_0x357f0c(0xa9f)](_0x4211fb):_0x5285f9;}[_0x2d5032(0x718)](_0x3e6a70){const _0x41fb11=_0x2d5032,_0x4f9d60=Array['from'](this[_0x41fb11(0x3c0)][_0x41fb11(0xa94)]());return _0x3e6a70?_0x4f9d60['filter'](_0x3e6a70):_0x4f9d60;}[_0x2d5032(0x20c)](_0x218811){const _0x568671=_0x2d5032,_0x1e9ed9=Array[_0x568671(0x8ee)](this[_0x568671(0x4dd)]['values']());return _0x218811?_0x1e9ed9[_0x568671(0xa9f)](_0x218811):_0x1e9ed9;}['getPubSubTopics'](_0x4bece8){const _0x24ae87=_0x2d5032,_0x3ec251=Array['from'](this[_0x24ae87(0x38e)]['values']());return _0x4bece8?_0x3ec251[_0x24ae87(0xa9f)](_0x4bece8):_0x3ec251;}[_0x2d5032(0x643)](_0x307e80){const _0x35c966=_0x2d5032,_0x4e984a=Array[_0x35c966(0x8ee)](this[_0x35c966(0x727)][_0x35c966(0xa94)]())[_0x35c966(0xa77)]((_0x1ac13b,_0x2e7f65)=>[..._0x1ac13b,...Array[_0x35c966(0x8ee)](_0x2e7f65[_0x35c966(0xa94)]())],[]);return _0x307e80?_0x4e984a[_0x35c966(0xa9f)](_0x307e80):_0x4e984a;}[_0x2d5032(0x8c4)](_0x514425){const _0x11aaf7=_0x2d5032,_0xc0f51d=Array[_0x11aaf7(0x8ee)](this[_0x11aaf7(0x515)]['values']());return _0x514425?_0xc0f51d[_0x11aaf7(0xa9f)](_0x514425):_0xc0f51d;}[_0x2d5032(0x524)](_0x1cd7ba){const _0x746b32=_0x2d5032,_0x1c5200=this[_0x746b32(0x647)][_0x746b32(0x13f)](_0x1cd7ba);if(!_0x1c5200)throw new _0x10fc18(_0x10a5c8['ObjectStoreDoesNotExist'],_0x746b32(0x805));return _0x1c5200;}[_0x2d5032(0x448)](_0x475478){const _0x599805=_0x2d5032,_0x38492a=_0x475478[_0x599805(0x93c)]('-'),_0x153a96=this[_0x599805(0x194)][_0x599805(0x13f)](_0x38492a[0x1]);if(!_0x153a96)throw new _0x10fc18(_0x10a5c8[_0x599805(0x226)],_0x599805(0x1db));return _0x153a96;}[_0x2d5032(0x4a7)](_0x3fa995){const _0x3d24f2=_0x2d5032,_0x24e78d=this['graphDatabases'][_0x3d24f2(0x13f)](_0x3fa995);if(!_0x24e78d)throw new _0x10fc18(_0x10a5c8[_0x3d24f2(0x9d8)],_0x3d24f2(0x25e));return _0x24e78d;}[_0x2d5032(0x215)](_0x38b468){const _0x2b5608=_0x2d5032,_0xf1f2aa=this['keyValueDatabases'][_0x2b5608(0x13f)](_0x38b468);if(!_0xf1f2aa)throw new _0x10fc18(_0x10a5c8[_0x2b5608(0x308)],'KeyValueDatabase\x20not\x20found');return _0xf1f2aa;}['getPubSubTopic'](_0xb44408){const _0x17aeb3=_0x2d5032,_0x5a6793=this['pubSubTopics'][_0x17aeb3(0x13f)](_0xb44408);if(!_0x5a6793)throw new _0x10fc18(_0x10a5c8[_0x17aeb3(0x8a5)],_0x17aeb3(0x154));return _0x5a6793;}[_0x2d5032(0x42a)](_0x417108){const _0x161000=_0x2d5032,_0x1549e4=this[_0x161000(0x515)]['get'](_0x417108);if(!_0x1549e4)throw new _0x10fc18(_0x10a5c8[_0x161000(0xaba)],_0x161000(0x442));return _0x1549e4;}[_0x2d5032(0x183)](_0x4598be){const _0x2581ec=_0x2d5032;switch(_0x4598be['content']['type']){case _0x1ff5c6[_0x2581ec(0x934)]:this['handlePublishMediaStream'](_0x4598be[_0x2581ec(0x3ab)]);break;case _0x1ff5c6[_0x2581ec(0x880)]:this[_0x2581ec(0x9a0)](_0x4598be[_0x2581ec(0x3ab)]);break;case _0x1ff5c6[_0x2581ec(0x202)]:this[_0x2581ec(0x476)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)]);break;case _0x1ff5c6['CloseJobWorker']:this[_0x2581ec(0x840)](_0x4598be['content']['label']);break;case _0x1ff5c6[_0x2581ec(0x57d)]:this[_0x2581ec(0x92f)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)]);break;case _0x1ff5c6[_0x2581ec(0x1dd)]:this[_0x2581ec(0xab8)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)]);break;case _0x1ff5c6[_0x2581ec(0x673)]:this[_0x2581ec(0x1f0)](_0x4598be[_0x2581ec(0x3ab)]['label']);break;case _0x1ff5c6['CloseObjectStoreBucket']:this[_0x2581ec(0xaaa)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)]);break;case _0x1ff5c6[_0x2581ec(0x2b1)]:this[_0x2581ec(0x70d)](_0x4598be['content']['label']);break;case _0x1ff5c6[_0x2581ec(0x72d)]:this[_0x2581ec(0x6aa)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)]);break;case _0x1ff5c6[_0x2581ec(0x966)]:this[_0x2581ec(0x186)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)]);break;case _0x1ff5c6[_0x2581ec(0x1d3)]:this['removeGraphDatabase'](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)]);break;case _0x1ff5c6[_0x2581ec(0x465)]:this[_0x2581ec(0x459)](_0x4598be[_0x2581ec(0x3ab)]);break;case _0x1ff5c6[_0x2581ec(0x5b8)]:this[_0x2581ec(0x707)][_0x2581ec(0x13f)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)])?.[_0x2581ec(0xae4)](_0x4598be['sourceId'],_0x4598be[_0x2581ec(0x3ab)]['mmrRoot']);break;case _0x1ff5c6['KeyValueDatabaseContentSynchronized']:this['keyValueDatabases'][_0x2581ec(0x13f)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)])?.['processContentSynchronized'](_0x4598be[_0x2581ec(0x576)],_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x1d1)]);break;case _0x1ff5c6[_0x2581ec(0x923)]:this[_0x2581ec(0x707)][_0x2581ec(0x13f)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)])?.[_0x2581ec(0x152)](_0x4598be['sourceId'],_0x4598be['content']['peaks']);break;case _0x1ff5c6[_0x2581ec(0x327)]:this[_0x2581ec(0x707)][_0x2581ec(0x13f)](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)])?.['sendPeakTransactions'](_0x4598be[_0x2581ec(0x576)],_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0xaef)]);break;case _0x1ff5c6[_0x2581ec(0x6e7)]:this[_0x2581ec(0x707)][_0x2581ec(0x13f)](_0x4598be[_0x2581ec(0x3ab)]['label'])?.[_0x2581ec(0x155)](_0x4598be[_0x2581ec(0x576)],_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x899)]);break;case _0x1ff5c6[_0x2581ec(0x213)]:this['keyValueDatabases']['get'](_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x32e)])?.[_0x2581ec(0xa55)](_0x4598be[_0x2581ec(0x576)],_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0xaa4)]);break;case _0x1ff5c6[_0x2581ec(0x6c9)]:this[_0x2581ec(0x47c)]['mediator'][_0x2581ec(0x485)]('local-media-stream-track-fail',{'label':_0x4598be['content'][_0x2581ec(0x32e)],'trackKinds':_0x4598be[_0x2581ec(0x3ab)][_0x2581ec(0x47d)]});}}[_0x2d5032(0x8e4)]({content:_0x4ad57b}){const _0x57325f=_0x2d5032;switch(_0x4ad57b[_0x57325f(0xa7e)]){case _0x176135[_0x57325f(0xa40)]:this[_0x57325f(0x9c2)](_0x4ad57b),this['notifyObjectStoreOfNodeJoin'](_0x4ad57b);break;case _0x176135['NodeLeave']:this[_0x57325f(0x3dc)](_0x4ad57b),this[_0x57325f(0x65a)](_0x4ad57b);}}[_0x2d5032(0x4e5)](_0x404c84){const _0x258a4c=_0x2d5032;switch(_0x404c84[_0x258a4c(0x3ab)][_0x258a4c(0xa7e)]){case _0x5c5086[_0x258a4c(0x477)]:this[_0x258a4c(0x319)](_0x404c84[_0x258a4c(0x576)],_0x404c84[_0x258a4c(0x3ab)]);break;case _0x5c5086[_0x258a4c(0xa39)]:this[_0x258a4c(0x9f8)](_0x404c84[_0x258a4c(0x576)],_0x404c84[_0x258a4c(0x3ab)]);break;case _0x5c5086[_0x258a4c(0x465)]:this[_0x258a4c(0x822)](_0x404c84[_0x258a4c(0x576)],_0x404c84['content']);}}['handleContentUnsubscribeMediaStream'](_0x4ca583){const _0x2ecaa8=_0x2d5032;if(0x0===_0x4ca583['remainingTracks'])this[_0x2ecaa8(0x727)][_0x2ecaa8(0x13f)](_0x4ca583['ownerId'])?.[_0x2ecaa8(0x13f)](_0x4ca583[_0x2ecaa8(0x32e)])?.[_0x2ecaa8(0x7f6)]();else{const _0x1e56f6=this[_0x2ecaa8(0x727)][_0x2ecaa8(0x13f)](_0x4ca583[_0x2ecaa8(0x9ad)])?.[_0x2ecaa8(0x13f)](_0x4ca583[_0x2ecaa8(0x32e)]);if(!_0x1e56f6)return;_0x4ca583[_0x2ecaa8(0x47d)][_0x2ecaa8(0x3e9)](_0x4c733b=>_0x1e56f6[_0x2ecaa8(0x66c)](_0x4c733b));}}[_0x2d5032(0x225)](_0x14d101){const _0xd0e46=_0x2d5032,{label:_0x41ce60,ownerId:_0x26ebb5,stream:{streamId:_0x560c87,availableTrackKinds:_0x1c8af7}}=_0x14d101;if(this['remoteMediaStreams'][_0xd0e46(0x13f)](_0x26ebb5)?.['has'](_0x41ce60))return void _0x27f628['log'](_0x53d5c4[_0xd0e46(0x8b3)],'Stream\x20already\x20exists',_0x560c87);const _0x419d6e=this['createRemoteMediaStream'](_0x26ebb5,_0x41ce60,_0x560c87,_0x1c8af7);this[_0xd0e46(0x47c)][_0xd0e46(0x6e0)][_0xd0e46(0x485)]('content-publish-media',{'ownerId':_0x26ebb5,'stream':_0x419d6e});}['handleUnpublishMediaStream']({ownerId:_0x1bcb9e,label:_0x3d5d8d}){const _0x1c045e=_0x2d5032;this[_0x1c045e(0x41d)](_0x1bcb9e,_0x3d5d8d),this['configs'][_0x1c045e(0x6e0)][_0x1c045e(0x485)](_0x1c045e(0xa7c),{'ownerId':_0x1bcb9e,'label':_0x3d5d8d});}[_0x2d5032(0x319)](_0x34591b,_0x1bbaa2){const _0x2482ae=_0x2d5032,{ownerId:_0x2c979e,label:_0x12c6e6}=_0x1bbaa2;let _0x1d440f;_0x1d440f=_0x2c979e!==this[_0x2482ae(0x47c)]['localNode'][_0x2482ae(0x5cd)]()?this[_0x2482ae(0x727)]['get'](_0x2c979e)[_0x2482ae(0x13f)](_0x12c6e6):this[_0x2482ae(0x4dd)][_0x2482ae(0x13f)](_0x12c6e6),_0x1d440f[_0x2482ae(0x403)](_0x34591b,_0x1bbaa2[_0x2482ae(0x835)])[_0x2482ae(0x75b)](_0x1bbaa2,_0x1d440f[_0x2482ae(0x85b)]());}['handleUpdateMediaStream'](_0xe990bb,_0x2ad30c){const _0x49fb2c=_0x2d5032,{ownerId:_0x1c984e,label:_0x294f19}=_0x2ad30c;let _0x4cd22b;_0x4cd22b=_0x1c984e!==this['configs'][_0x49fb2c(0x6ff)][_0x49fb2c(0x5cd)]()?this['remoteMediaStreams']['get'](_0x1c984e)[_0x49fb2c(0x13f)](_0x294f19):this[_0x49fb2c(0x4dd)][_0x49fb2c(0x13f)](_0x294f19),_0x4cd22b['getShareableStream'](_0xe990bb,_0x2ad30c['params'])['update'](_0x2ad30c);}['handleUnsubscribeMediaStream'](_0x2802d1,_0x3a2f47){const _0x1de184=_0x2d5032,{ownerId:_0x2cd83c,label:_0x4aa5a4}=_0x3a2f47;let _0x44d598;_0x44d598=_0x2cd83c!==this[_0x1de184(0x47c)][_0x1de184(0x6ff)]['getId']()?this['remoteMediaStreams'][_0x1de184(0x13f)](_0x2cd83c)[_0x1de184(0x13f)](_0x4aa5a4):this[_0x1de184(0x4dd)][_0x1de184(0x13f)](_0x4aa5a4),_0x44d598[_0x1de184(0x403)](_0x2802d1)['unsubscribe'](_0x3a2f47);}[_0x2d5032(0x9c2)]({id:_0x3f7dfb}){const _0x217db1=_0x2d5032;this[_0x217db1(0x20c)]()[_0x217db1(0x3e9)](_0x46dec9=>{const _0x16def7=_0x217db1;_0x46dec9[_0x16def7(0x849)](_0x3f7dfb);});}[_0x2d5032(0x3dc)]({id:_0x358d30}){const _0x3d3c57=_0x2d5032;this[_0x3d3c57(0x643)](_0x443e94=>_0x443e94['getOwnerId']()===_0x358d30)['forEach'](_0x54e7d3=>{const _0x5786b1=_0x3d3c57;this[_0x5786b1(0x41d)](_0x54e7d3['getOwnerId'](),_0x54e7d3[_0x5786b1(0xa74)]());});}['notifyObjectStoreOfNodeJoin']({id:_0x481ac9}){const _0x2eca18=_0x2d5032;this[_0x2eca18(0x647)]['forEach'](_0x5f310e=>_0x5f310e[_0x2eca18(0x649)](_0x481ac9));}[_0x2d5032(0x65a)]({id:_0x4081a9}){const _0x478ed6=_0x2d5032;this[_0x478ed6(0x647)][_0x478ed6(0x3e9)](_0x4f7f35=>_0x4f7f35[_0x478ed6(0x3dc)](_0x4081a9));}['removeJobDispatcher'](_0x442d25){const _0x1d85e7=_0x2d5032;if(!this[_0x1d85e7(0x768)][_0x1d85e7(0x290)](_0x442d25))throw new _0x10fc18(_0x10a5c8[_0x1d85e7(0x57c)],_0x1d85e7(0x63b));const _0x17342b=this[_0x1d85e7(0x768)][_0x1d85e7(0x13f)](_0x442d25);this['jobDispatchers']['delete'](_0x442d25),_0x17342b[_0x1d85e7(0x7f6)](),this[_0x1d85e7(0x47c)][_0x1d85e7(0x6e0)]['unregisterSystemSource'](_0x17342b);}[_0x2d5032(0x840)](_0x3a0b31){const _0x20f4c7=_0x2d5032;if(!this[_0x20f4c7(0x50b)][_0x20f4c7(0x290)](_0x3a0b31))throw new _0x10fc18(_0x10a5c8[_0x20f4c7(0x59f)],_0x20f4c7(0x525));const _0x5191fa=this[_0x20f4c7(0x50b)][_0x20f4c7(0x13f)](_0x3a0b31);this[_0x20f4c7(0x50b)][_0x20f4c7(0x113)](_0x3a0b31),_0x5191fa[_0x20f4c7(0x7f6)](),this['configs'][_0x20f4c7(0x6e0)]['unregisterSystemSource'](_0x5191fa);}[_0x2d5032(0x92f)](_0x17aeda){const _0x35ddc6=_0x2d5032;if(!this[_0x35ddc6(0x630)][_0x35ddc6(0x290)](_0x17aeda))throw new _0x10fc18(_0x10a5c8[_0x35ddc6(0x564)],'Generative\x20AI\x20Context\x20does\x20not\x20exist');const _0x5276e7=this[_0x35ddc6(0x630)][_0x35ddc6(0x13f)](_0x17aeda);this[_0x35ddc6(0x630)]['delete'](_0x17aeda),this[_0x35ddc6(0x47c)][_0x35ddc6(0x6e0)][_0x35ddc6(0x5c3)](_0x5276e7);}[_0x2d5032(0xaaa)](_0x56a7f5){const _0x185d55=_0x2d5032;if(!this[_0x185d55(0x647)][_0x185d55(0x290)](_0x56a7f5))throw new _0x10fc18(_0x10a5c8[_0x185d55(0x939)],'Stream\x20does\x20not\x20exist');const _0x56539f=this[_0x185d55(0x647)][_0x185d55(0x13f)](_0x56a7f5);this[_0x185d55(0x647)][_0x185d55(0x113)](_0x56a7f5),_0x56539f[_0x185d55(0x7f6)](),this[_0x185d55(0x47c)][_0x185d55(0x6e0)][_0x185d55(0x5c3)](_0x56539f);}[_0x2d5032(0x70d)](_0x1688f7){const _0x52489f=_0x2d5032;if(!this[_0x52489f(0x194)][_0x52489f(0x290)](_0x1688f7))throw new _0x10fc18(_0x10a5c8[_0x52489f(0x226)],_0x52489f(0x6df));const _0x9a01e2=this[_0x52489f(0x194)][_0x52489f(0x13f)](_0x1688f7);this[_0x52489f(0x194)][_0x52489f(0x113)](_0x1688f7),_0x9a01e2[_0x52489f(0x7f6)](),this[_0x52489f(0x47c)][_0x52489f(0x6e0)][_0x52489f(0x5c3)](_0x9a01e2);}['removePubSubTopic'](_0x308e05){const _0x278488=_0x2d5032;if(!this['pubSubTopics'][_0x278488(0x290)](_0x308e05))throw new _0x10fc18(_0x10a5c8[_0x278488(0x8a5)],_0x278488(0x14d));const _0x1f6d7b=this[_0x278488(0x38e)][_0x278488(0x13f)](_0x308e05);this['pubSubTopics'][_0x278488(0x113)](_0x308e05),_0x1f6d7b[_0x278488(0x7f6)](),this[_0x278488(0x47c)][_0x278488(0x6e0)]['unregisterSystemSource'](_0x1f6d7b);}[_0x2d5032(0x6aa)](_0x394c45){const _0x595093=_0x2d5032;if(!this['keyValueDatabases'][_0x595093(0x290)](_0x394c45))throw new _0x10fc18(_0x10a5c8[_0x595093(0x308)],_0x595093(0x62a));const _0x40ba84=this[_0x595093(0x707)][_0x595093(0x13f)](_0x394c45);this[_0x595093(0x707)][_0x595093(0x113)](_0x394c45),_0x40ba84[_0x595093(0x7f6)](),this[_0x595093(0x47c)][_0x595093(0x6e0)][_0x595093(0x5c3)](_0x40ba84);}[_0x2d5032(0x186)](_0x47bd97){const _0x8ed123=_0x2d5032;if(!this[_0x8ed123(0x515)][_0x8ed123(0x290)](_0x47bd97))throw new _0x10fc18(_0x10a5c8[_0x8ed123(0xaba)],_0x8ed123(0x62a));const _0x3985d7=this['vectorDatabases'][_0x8ed123(0x13f)](_0x47bd97);this[_0x8ed123(0x515)][_0x8ed123(0x113)](_0x47bd97),_0x3985d7[_0x8ed123(0x7f6)](),this[_0x8ed123(0x47c)]['mediator'][_0x8ed123(0x5c3)](_0x3985d7);}[_0x2d5032(0x132)](_0x3f73b6){const _0x48e1c0=_0x2d5032;if(!this[_0x48e1c0(0x3c0)][_0x48e1c0(0x290)](_0x3f73b6))throw new _0x10fc18(_0x10a5c8[_0x48e1c0(0x9d8)],_0x48e1c0(0x62a));const _0x92458e=this[_0x48e1c0(0x3c0)][_0x48e1c0(0x13f)](_0x3f73b6);this['graphDatabases'][_0x48e1c0(0x113)](_0x3f73b6),_0x92458e[_0x48e1c0(0x7f6)](),this[_0x48e1c0(0x47c)]['mediator'][_0x48e1c0(0x5c3)](_0x92458e);}['removeLocalMediaStream'](_0x2578df){const _0x5b75ed=_0x2d5032;if(!this['localMediaStreams']['has'](_0x2578df))throw new _0x54e1a8(_0x54e1a8['codes'][_0x5b75ed(0x391)],{'label':_0x2578df,'localId':this[_0x5b75ed(0x47c)][_0x5b75ed(0x6ff)]['getId']()});const _0x3eec4c=this[_0x5b75ed(0x4dd)]['get'](_0x2578df);this[_0x5b75ed(0x47c)][_0x5b75ed(0x6e0)][_0x5b75ed(0x5c3)](_0x3eec4c),_0x3eec4c['destroy'](),this[_0x5b75ed(0x4dd)][_0x5b75ed(0x113)](_0x2578df);}[_0x2d5032(0x41d)](_0x4d4a26,_0x24e2d4){const _0x3ab3df=_0x2d5032;if(!this['remoteMediaStreams']['has'](_0x4d4a26))throw new _0x54e1a8(_0x54e1a8[_0x3ab3df(0x318)][_0x3ab3df(0x3f0)],{'nodeId':_0x4d4a26,'localId':this[_0x3ab3df(0x47c)][_0x3ab3df(0x6ff)][_0x3ab3df(0x5cd)]()});const _0x28a045=this['remoteMediaStreams'][_0x3ab3df(0x13f)](_0x4d4a26);if(!_0x28a045[_0x3ab3df(0x290)](_0x24e2d4))throw new _0x54e1a8(_0x54e1a8['codes']['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x4d4a26,'label':_0x24e2d4,'localId':this[_0x3ab3df(0x47c)][_0x3ab3df(0x6ff)]['getId']()});const _0x44ab3f=_0x28a045[_0x3ab3df(0x13f)](_0x24e2d4);this[_0x3ab3df(0x47c)][_0x3ab3df(0x6e0)][_0x3ab3df(0x5c3)](_0x44ab3f),_0x44ab3f['destroy'](),_0x28a045[_0x3ab3df(0x113)](_0x24e2d4);}}var _0xb64662,_0x59249c,_0x5947b6;!function(_0x649a70){const _0x2548a2=_0x2d5032;_0x649a70['STVolatility']='st_volatility',_0x649a70[_0x2548a2(0x134)]=_0x2548a2(0x55a),_0x649a70[_0x2548a2(0x6b3)]='time_per_frame',_0x649a70[_0x2548a2(0x725)]='bitrate',_0x649a70['Jitter']='jitter',_0x649a70[_0x2548a2(0xa79)]=_0x2548a2(0x529),_0x649a70[_0x2548a2(0x420)]=_0x2548a2(0x348),_0x649a70['AudioVideoDelay']=_0x2548a2(0x264);}(_0xb64662||(_0xb64662={})),function(_0x4bf770){const _0x283f43=_0x2d5032;_0x4bf770['CPUCycle']=_0x283f43(0x368),_0x4bf770['TimePerFrame']=_0x283f43(0xa5a),_0x4bf770[_0x283f43(0x9da)]='cpu.av_delay',_0x4bf770[_0x283f43(0xa79)]=_0x283f43(0x1fb),_0x4bf770[_0x283f43(0x725)]=_0x283f43(0xa6d),_0x4bf770['Jitter']=_0x283f43(0x29d),_0x4bf770[_0x283f43(0x420)]=_0x283f43(0x19d);}(_0x59249c||(_0x59249c={})),function(_0x25f869){const _0x1ad973=_0x2d5032;_0x25f869[_0x25f869[_0x1ad973(0xa4c)]=0x0]=_0x1ad973(0xa4c);}(_0x5947b6||(_0x5947b6={}));const _0x5478cf=[{'type':_0xb64662[_0x2d5032(0x713)],'reportMetric':_0x1560fc=>_0x1560fc[_0x2d5032(0x713)],'maxThreshold':2.5},{'type':_0xb64662[_0x2d5032(0x134)],'reportMetric':_0x1bf7b4=>_0x1bf7b4[_0x2d5032(0x134)],'maxThreshold':0.5}],_0x56bb63=[{'type':_0xb64662[_0x2d5032(0x6b3)],'reportMetric':_0x31744e=>{const _0x23b126=_0x2d5032,_0x393ae9=0x3e8/_0x31744e[_0x23b126(0x735)];return _0x31744e['timePerFrame']/_0x393ae9;},'maxThreshold':0.75},{'type':_0xb64662['Bitrate'],'reportMetric':_0x55f3f6=>{const _0x256d7b=_0x2d5032,_0x8fb7d5=_0x55f3f6[_0x256d7b(0x735)]*_0x55f3f6['frameWidth']*_0x55f3f6['frameHeight']*0.12;return _0x55f3f6[_0x256d7b(0x947)]/_0x8fb7d5;},'minThreshold':0.25},{'type':_0xb64662['Jitter'],'reportMetric':_0x119077=>_0x119077[_0x2d5032(0x6d7)],'maxThreshold':0.6},{'type':_0xb64662['FramePerSecond'],'reportMetric':_0xd52eb4=>_0xd52eb4['FPS'],'minThreshold':0xa}],_0x4b6ce6=[{'type':_0xb64662['Jitter'],'reportMetric':_0x464a76=>_0x464a76['jitter'],'maxThreshold':0.6}],_0x4a9946=[{'type':_0xb64662[_0x2d5032(0x420)],'reportMetric':_0x2dac9c=>_0x2dac9c['roundTripTime'],'maxThreshold':0x1/0x0}],_0x51c2d8=[{'type':_0xb64662[_0x2d5032(0x9da)],'reportMetric':_0x2297cb=>_0x2297cb[_0x2d5032(0x9da)],'maxThreshold':0x12c}],_0x444461=[{'type':_0x59249c['CPUCycle'],'issues':[{'type':_0xb64662[_0x2d5032(0x713)],'threshold':0x5},{'type':_0xb64662[_0x2d5032(0x134)],'threshold':0x5}]},{'type':_0x59249c['TimePerFrame'],'issues':[{'type':_0xb64662[_0x2d5032(0x6b3)],'threshold':0x3}]},{'type':_0x59249c[_0x2d5032(0x9da)],'issues':[{'type':_0xb64662[_0x2d5032(0x9da)],'threshold':0x2}]},{'type':_0x59249c['FramePerSecond'],'issues':[{'type':_0xb64662[_0x2d5032(0xa79)],'threshold':0x3}]},{'type':_0x59249c[_0x2d5032(0x725)],'issues':[{'type':_0xb64662[_0x2d5032(0x725)],'threshold':0x3}]},{'type':_0x59249c[_0x2d5032(0x4cc)],'issues':[{'type':_0xb64662[_0x2d5032(0x4cc)],'threshold':0x3}]},{'type':_0x59249c[_0x2d5032(0x420)],'issues':[{'type':_0xb64662['RoundTripTime'],'threshold':0x3}]}];var _0x40aadf,_0x216b32;!function(_0x49f04d){const _0x39b396=_0x2d5032;_0x49f04d[_0x49f04d[_0x39b396(0x12e)]=0x0]=_0x39b396(0x12e),_0x49f04d[_0x49f04d['LocalReport']=0x1]='LocalReport';}(_0x40aadf||(_0x40aadf={}));class _0x2d76f8{[_0x2d5032(0x47c)];['issues']=[];[_0x2d5032(0x83a)];constructor(_0x173f4a){const _0x2116ff=_0x2d5032;this[_0x2116ff(0x47c)]=_0x173f4a,this['configs'][_0x2116ff(0x6e0)][_0x2116ff(0x23e)](this);}[_0x2d5032(0x6d6)](_0x233809){this['systemTopic']=_0x233809;}[_0x2d5032(0x4ba)](){const _0x4283f1=_0x2d5032;this[_0x4283f1(0x83a)]=void 0x0;}[_0x2d5032(0x8d0)](){const _0x4a9848=_0x2d5032;this[_0x4a9848(0x47c)][_0x4a9848(0x6e0)][_0x4a9848(0x5c3)](this),this[_0x4a9848(0x335)]=[];}['handleStatsSystemEvents'](_0x388b32){const _0x2d9a77=_0x2d5032;switch(_0x388b32[_0x2d9a77(0x3ab)][_0x2d9a77(0xa7e)]){case _0x40aadf[_0x2d9a77(0x5da)]:this[_0x2d9a77(0x141)](_0x388b32[_0x2d9a77(0x3ab)][_0x2d9a77(0x906)]);break;case _0x40aadf[_0x2d9a77(0x12e)]:this['detectStreamIssues'](_0x388b32[_0x2d9a77(0x3ab)]['data']);}}[_0x2d5032(0x94c)](_0x238d55,_0x235dd8,_0x59b2f5,_0xab0311){const _0xbb40a3=_0x2d5032,_0x10f9ae=_0x444461[_0xbb40a3(0x91b)](_0xd03308=>_0xd03308[_0xbb40a3(0x335)]['some'](_0x8a87ea=>_0x8a87ea[_0xbb40a3(0xa7e)]===_0x238d55));_0xab0311>=_0x10f9ae[_0xbb40a3(0x335)]['find'](_0x5bae23=>_0x5bae23[_0xbb40a3(0xa7e)]===_0x238d55)[_0xbb40a3(0x2e1)]&&(this['addProblem'](_0x10f9ae['type'],_0x235dd8,_0x59b2f5),this[_0xbb40a3(0x335)]=this['issues'][_0xbb40a3(0xa9f)](_0xf864ca=>!(_0xf864ca[_0xbb40a3(0xa7e)]===_0x238d55&&_0xf864ca[_0xbb40a3(0xa3c)]===_0x235dd8&&_0xf864ca['origin']===_0x59b2f5)));}['detectLocalIssues'](_0x16ffe2){const _0x493c72=_0x2d5032;_0x5478cf[_0x493c72(0x3e9)](_0x439244=>{const _0x46144b=_0x493c72,_0x25fa80=_0x439244['reportMetric'](_0x16ffe2);_0x439244['maxThreshold']&&_0x25fa80>_0x439244[_0x46144b(0x925)]&&this[_0x46144b(0x871)](_0x439244[_0x46144b(0xa7e)],this[_0x46144b(0x47c)][_0x46144b(0x6ff)][_0x46144b(0x5cd)](),_0x521099[_0x46144b(0xa4a)],_0x25fa80),_0x439244[_0x46144b(0x510)]&&_0x25fa80<_0x439244['minThreshold']&&this[_0x46144b(0x871)](_0x439244['type'],this[_0x46144b(0x47c)][_0x46144b(0x6ff)][_0x46144b(0x5cd)](),_0x521099[_0x46144b(0xa4a)],_0x25fa80);});}[_0x2d5032(0x339)](_0x43d340){const _0x3e64d1=_0x2d5032;let _0x2e95cd=[];switch(_0x43d340[_0x3e64d1(0x1b7)]){case _0x521099[_0x3e64d1(0xa4a)]:_0x2e95cd=_0x4a9946;break;case _0x521099['Receiver']:_0x2e95cd=_0x51c2d8;}_0x43d340[_0x3e64d1(0x5f6)]&&this[_0x3e64d1(0x156)](_0x43d340[_0x3e64d1(0xa3c)],_0x521099[_0x3e64d1(0xa4a)],_0x43d340['video']),_0x43d340[_0x3e64d1(0x2fa)]&&this[_0x3e64d1(0x45a)](_0x43d340['nodeId'],_0x521099[_0x3e64d1(0xa4a)],_0x43d340[_0x3e64d1(0x2fa)]),_0x2e95cd['forEach'](_0x1e2c71=>{const _0x109174=_0x3e64d1,_0x3f3d70=_0x1e2c71[_0x109174(0x9c8)](_0x43d340);_0x1e2c71[_0x109174(0x925)]&&_0x3f3d70>_0x1e2c71['maxThreshold']&&this[_0x109174(0x871)](_0x1e2c71[_0x109174(0xa7e)],_0x43d340[_0x109174(0xa3c)],_0x521099['Sender'],_0x3f3d70),_0x1e2c71['minThreshold']&&_0x3f3d70<_0x1e2c71[_0x109174(0x510)]&&this[_0x109174(0x871)](_0x1e2c71[_0x109174(0xa7e)],_0x43d340[_0x109174(0xa3c)],_0x521099[_0x109174(0xa4a)],_0x3f3d70);});}['detectVideoIssues'](_0x3eb904,_0x49dcb7,_0x537791){const _0x36dea5=_0x2d5032;0x0!==_0x537791[_0x36dea5(0x947)]&&_0x56bb63[_0x36dea5(0x3e9)](_0x3e05b7=>{const _0x1d9a71=_0x36dea5,_0x793c54=_0x3e05b7[_0x1d9a71(0x9c8)](_0x537791);_0x3e05b7[_0x1d9a71(0x925)]&&_0x793c54>_0x3e05b7['maxThreshold']&&this['addIssue'](_0x3e05b7[_0x1d9a71(0xa7e)],_0x3eb904,_0x49dcb7,_0x793c54,_0x1d9a71(0x5f6)),_0x3e05b7['minThreshold']&&_0x793c54<_0x3e05b7[_0x1d9a71(0x510)]&&this[_0x1d9a71(0x871)](_0x3e05b7[_0x1d9a71(0xa7e)],_0x3eb904,_0x49dcb7,_0x793c54,_0x1d9a71(0x5f6));});}[_0x2d5032(0x45a)](_0x10a1a4,_0x2ad2d1,_0x57b1f5){const _0x44a6ec=_0x2d5032;0x0!==_0x57b1f5[_0x44a6ec(0x947)]&&_0x4b6ce6[_0x44a6ec(0x3e9)](_0x3172d5=>{const _0x4407ef=_0x44a6ec,_0x38d1d9=_0x3172d5[_0x4407ef(0x9c8)](_0x57b1f5);_0x3172d5[_0x4407ef(0x925)]&&_0x38d1d9>_0x3172d5[_0x4407ef(0x925)]&&this['addIssue'](_0x3172d5[_0x4407ef(0xa7e)],_0x10a1a4,_0x2ad2d1,_0x38d1d9,_0x4407ef(0x2fa)),_0x3172d5['minThreshold']&&_0x38d1d9<_0x3172d5[_0x4407ef(0x510)]&&this[_0x4407ef(0x871)](_0x3172d5['type'],_0x10a1a4,_0x2ad2d1,_0x38d1d9,_0x4407ef(0x2fa));});}[_0x2d5032(0x871)](_0x562ebd,_0x3f9976,_0x326772,_0x2b2492,_0x2a2027){const _0xd434a6=_0x2d5032;_0x27f628['log'](_0x53d5c4[_0xd434a6(0x8f3)],_0xd434a6(0x298)+_0x562ebd,_0x562ebd,_0x2b2492),_0x27f628[_0xd434a6(0xf0)](_0xd434a6(0x338),{'clusterId':this[_0xd434a6(0x47c)][_0xd434a6(0xa46)],'nodeId':this[_0xd434a6(0x47c)][_0xd434a6(0x6ff)][_0xd434a6(0x5cd)](),'nodeType':this[_0xd434a6(0x47c)][_0xd434a6(0x6ff)]['type'],'remoteId':_0x3f9976,'data':{'type':_0x562ebd,'value':_0x2b2492,'kind':_0x2a2027}}),this[_0xd434a6(0x335)]=this[_0xd434a6(0x335)][_0xd434a6(0xa9f)](_0x4342b4=>Date[_0xd434a6(0xa45)]()-_0x4342b4[_0xd434a6(0x9f5)]<0x7530),this[_0xd434a6(0x335)][_0xd434a6(0x806)]({'timestamp':Date[_0xd434a6(0xa45)](),'type':_0x562ebd,'nodeId':_0x3f9976,'origin':_0x326772,'value':_0x2b2492,'kind':_0x2a2027});const _0x58c5e2=this[_0xd434a6(0x335)][_0xd434a6(0xa9f)](_0x432aee=>_0x432aee[_0xd434a6(0xa7e)]===_0x562ebd&&_0x432aee[_0xd434a6(0xa3c)]===_0x3f9976&&_0x432aee[_0xd434a6(0x1b7)]===_0x326772)[_0xd434a6(0x80e)];this[_0xd434a6(0x94c)](_0x562ebd,_0x3f9976,_0x326772,_0x58c5e2);}[_0x2d5032(0x22b)](_0x31008c,_0x14394d,_0x4185a9){const _0x24caf8=_0x2d5032;_0x27f628[_0x24caf8(0x107)](_0x53d5c4[_0x24caf8(0x8f3)],_0x24caf8(0x280)+_0x31008c),_0x27f628[_0x24caf8(0xf0)](_0x24caf8(0x500),{'clusterId':this[_0x24caf8(0x47c)][_0x24caf8(0xa46)],'nodeId':this[_0x24caf8(0x47c)][_0x24caf8(0x6ff)]['getId'](),'nodeType':this[_0x24caf8(0x47c)]['localNode'][_0x24caf8(0xa7e)],'remoteId':_0x14394d,'data':{'type':_0x31008c}}),this['systemTopic']?.['publish']({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x24caf8(0x8f3)],'content':{'type':_0x5947b6[_0x24caf8(0xa4c)],'data':{'timestamp':Date[_0x24caf8(0xa45)](),'nodeId':_0x14394d,'origin':_0x521099[_0x24caf8(0xa4a)],'type':_0x31008c}}});}}class _0x145d2c extends _0x3b7199{['type']=_0x1a575a[_0x2d5032(0x985)][_0x2d5032(0x6a1)];}class _0x5b78a9 extends _0x145d2c{[_0x2d5032(0x83a)];[_0x2d5032(0x30d)]=Date[_0x2d5032(0xa45)]();[_0x2d5032(0x7d7)];[_0x2d5032(0x3c8)];[_0x2d5032(0x8d0)](){const _0x533635=_0x2d5032;this[_0x533635(0x7d7)]&&(clearTimeout(this[_0x533635(0x7d7)]),delete this[_0x533635(0x7d7)]),delete this['lastUpdated'],this['currentVersion']=Date[_0x533635(0xa45)](),super['close']();}['registerSystemPublisher'](_0xdad426){const _0x101a3d=_0x2d5032;this[_0x101a3d(0x83a)]=_0xdad426;}[_0x2d5032(0x4ba)](){const _0x41195e=_0x2d5032;delete this[_0x41195e(0x83a)];}[_0x2d5032(0x5c6)](_0x4add2e){const _0x34bf02=_0x2d5032;!this['updateDebounceTimeout']&&this[_0x34bf02(0x7a2)]&&this[_0x34bf02(0x83a)][_0x34bf02(0x849)]({'sourceId':this['id'],'destinationIds':[_0x4add2e],'propagate':!0x0,'messageType':_0x4bbd49[_0x34bf02(0x1e0)],'content':{'type':_0x176135[_0x34bf02(0x9d4)],'id':this['id'],'metaData':{'type':this[_0x34bf02(0xa7e)]},'rank':this['getRank'](),'remoteConnections':Array[_0x34bf02(0x8ee)](this[_0x34bf02(0x293)]),'version':this[_0x34bf02(0x30d)]}});}[_0x2d5032(0x5a4)](_0x22e6f9){const _0x33adb7=_0x2d5032;this[_0x33adb7(0x293)][_0x33adb7(0x290)](_0x22e6f9)||(this[_0x33adb7(0x293)][_0x33adb7(0x5e6)](_0x22e6f9),this[_0x33adb7(0x738)](),this[_0x33adb7(0x57a)](!0x0));}[_0x2d5032(0x453)](_0xdb2cb){const _0xe0b4ee=_0x2d5032;this['remoteConnections']['has'](_0xdb2cb)&&(this['remoteConnections'][_0xe0b4ee(0x113)](_0xdb2cb),this[_0xe0b4ee(0x738)](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){const _0x3958b7=_0x2d5032;return this[_0x3958b7(0x30d)];}['setRank'](_0x3bc1eb,_0x2f1647=!0x0){const _0xca2290=_0x2d5032;this[_0xca2290(0x7a2)]!==_0x3bc1eb&&(this[_0xca2290(0x7a2)]=_0x3bc1eb,_0x2f1647&&(this[_0xca2290(0x738)](),this[_0xca2290(0x57a)]()));}['incrementVersion'](){const _0x5900c4=_0x2d5032;this[_0x5900c4(0x30d)]=Date[_0x5900c4(0xa45)]();}[_0x2d5032(0x57a)](_0x19fda5=!0x1){const _0x54d3ef=_0x2d5032;if(this['rank']){if(this['lastUpdated']||(this['lastUpdated']=Date[_0x54d3ef(0xa45)]()),this[_0x54d3ef(0x7d7)]){if(Date[_0x54d3ef(0xa45)]()-this[_0x54d3ef(0x3c8)]>0x2328)return;clearTimeout(this[_0x54d3ef(0x7d7)]);}this[_0x54d3ef(0x7d7)]=setTimeout(()=>{const _0x35106c=_0x54d3ef;delete this[_0x35106c(0x3c8)],delete this[_0x35106c(0x7d7)],this[_0x35106c(0x83a)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x4bbd49[_0x35106c(0x1e0)],'content':{'type':_0x19fda5?_0x176135[_0x35106c(0x8b6)]:_0x176135[_0x35106c(0x9d4)],'id':this['id'],'metaData':{'type':this[_0x35106c(0xa7e)]},'rank':this[_0x35106c(0xadc)](),'remoteConnections':Array[_0x35106c(0x8ee)](this[_0x35106c(0x293)]),'version':this[_0x35106c(0x30d)]}});},0x3e8);}}}class _0x5a4c0c extends _0x37219e{['systemTopic'];['currentVersion']=Date[_0x2d5032(0xa45)]();[_0x2d5032(0x7d7)];['lastUpdated'];[_0x2d5032(0x8d0)](){const _0x3221db=_0x2d5032;this[_0x3221db(0x7d7)]&&(clearTimeout(this[_0x3221db(0x7d7)]),delete this[_0x3221db(0x7d7)]),delete this[_0x3221db(0x3c8)],this['currentVersion']=Date['now'](),super['close']();}[_0x2d5032(0x6d6)](_0x4df281){const _0x441277=_0x2d5032;this[_0x441277(0x83a)]=_0x4df281;}[_0x2d5032(0x4ba)](){const _0x274da4=_0x2d5032;delete this[_0x274da4(0x83a)];}[_0x2d5032(0x5c6)](_0x5a1b2e){const _0x455d8e=_0x2d5032;!this[_0x455d8e(0x7d7)]&&this[_0x455d8e(0x7a2)]&&this['systemTopic'][_0x455d8e(0x849)]({'sourceId':this['id'],'destinationIds':[_0x5a1b2e],'propagate':!0x0,'messageType':_0x4bbd49[_0x455d8e(0x1e0)],'content':{'type':_0x176135[_0x455d8e(0x9d4)],'id':this['id'],'metaData':{'type':this[_0x455d8e(0xa7e)],'displayName':this[_0x455d8e(0x917)](),'email':this[_0x455d8e(0x8e5)]()},'rank':this[_0x455d8e(0xadc)](),'remoteConnections':Array['from'](this[_0x455d8e(0x293)]),'version':this[_0x455d8e(0x30d)]}});}[_0x2d5032(0x5a4)](_0x4ccc68){const _0x462e48=_0x2d5032;this[_0x462e48(0x293)][_0x462e48(0x290)](_0x4ccc68)||(this[_0x462e48(0x293)][_0x462e48(0x5e6)](_0x4ccc68),this['incrementVersion'](),this[_0x462e48(0x57a)](!0x0));}[_0x2d5032(0x453)](_0x12f7df){const _0x50e34c=_0x2d5032;this['remoteConnections'][_0x50e34c(0x290)](_0x12f7df)&&(this[_0x50e34c(0x293)][_0x50e34c(0x113)](_0x12f7df),this[_0x50e34c(0x738)](),this[_0x50e34c(0x57a)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}['setDisplayName'](_0x3d2026){const _0x55b915=_0x2d5032;this[_0x55b915(0x7c5)]!==_0x3d2026&&(this[_0x55b915(0x7c5)]=_0x3d2026,this[_0x55b915(0x738)](),this[_0x55b915(0x57a)]());}[_0x2d5032(0x1b0)](_0x3d880c){const _0x4656bf=_0x2d5032;this[_0x4656bf(0xa5d)]!==_0x3d880c&&(this[_0x4656bf(0xa5d)]=_0x3d880c,this[_0x4656bf(0x738)](),this['publishUserUpdate']());}['setRank'](_0x13f705,_0x123754=!0x0){const _0x595263=_0x2d5032;this[_0x595263(0x7a2)]!==_0x13f705&&(this[_0x595263(0x7a2)]=_0x13f705,_0x123754&&(this[_0x595263(0x738)](),this[_0x595263(0x57a)]()));}['incrementVersion'](){const _0x570fac=_0x2d5032;this[_0x570fac(0x30d)]=Date[_0x570fac(0xa45)]();}[_0x2d5032(0x57a)](_0x47bc79=!0x1){const _0x82cc98=_0x2d5032;if(this[_0x82cc98(0x7a2)]){if(this[_0x82cc98(0x3c8)]||(this[_0x82cc98(0x3c8)]=Date['now']()),this[_0x82cc98(0x7d7)]){if(Date[_0x82cc98(0xa45)]()-this[_0x82cc98(0x3c8)]>0x2328)return;clearTimeout(this[_0x82cc98(0x7d7)]);}this[_0x82cc98(0x7d7)]=setTimeout(()=>{const _0x46fd64=_0x82cc98;delete this[_0x46fd64(0x3c8)],delete this[_0x46fd64(0x7d7)],this[_0x46fd64(0x83a)][_0x46fd64(0x849)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x4bbd49[_0x46fd64(0x1e0)],'content':{'type':_0x47bc79?_0x176135[_0x46fd64(0x8b6)]:_0x176135[_0x46fd64(0x9d4)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x46fd64(0x917)](),'email':this[_0x46fd64(0x8e5)]()},'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x46fd64(0x293)]),'version':this['currentVersion']}});},0x3e8);}}}class _0xf2ba19{['id'];[_0x2d5032(0x731)];[_0x2d5032(0x514)];[_0x2d5032(0x52f)];[_0x2d5032(0xa7e)]=_0x1a575a[_0x2d5032(0x985)][_0x2d5032(0x6a1)];[_0x2d5032(0x164)];constructor(_0x3bd791,_0x4e23d3,_0xd927a9,_0x64e607){const _0x53e458=_0x2d5032;this['id']=_0x3bd791,this[_0x53e458(0x731)]=_0x4e23d3,this['vendorId']=_0xd927a9,this[_0x53e458(0x52f)]=_0x64e607;}[_0x2d5032(0x5cd)](){return this['id'];}[_0x2d5032(0x52d)](_0x18cbee){const _0x253eb4=_0x2d5032,_0x75aa38=(0x0,_0x4538fe[_0x253eb4(0x65d)])((0x0,_0x4538fe['doc'])(_0x2f80ec[_0x253eb4(0x2af)](),_0x253eb4(0x7db)+this[_0x253eb4(0x514)]+_0x253eb4(0x350)+this[_0x253eb4(0x731)]),_0x86b20c=>{const _0x169c3f=_0x253eb4;if(_0x86b20c[_0x169c3f(0x59b)]()){const _0x2d3453=_0x86b20c[_0x169c3f(0x906)]();if(this[_0x169c3f(0x52f)][_0x169c3f(0x9f5)][_0x169c3f(0x9c7)](_0x2d3453[_0x169c3f(0x9f5)]))return;_0x27f628[_0x169c3f(0x107)](_0x53d5c4['Node'],_0x169c3f(0x608),{'agentId':this['id'],'groupId':this[_0x169c3f(0x731)],'oldConfig':this[_0x169c3f(0x52f)],'newConfig':_0x2d3453}),this['agentConfig']=_0x2d3453,_0x18cbee();}});return()=>_0x75aa38();}['setReportCapacity'](_0x46d6dc){const _0x537cc3=_0x2d5032;return this['reportCapacity'](this['groupId'],_0x46d6dc),_0x461db3['setInterval'](()=>this[_0x537cc3(0x70e)](this[_0x537cc3(0x731)],_0x46d6dc),0x7530);}[_0x2d5032(0x2fb)](){const _0x49ed6c=_0x2d5032;if(!this[_0x49ed6c(0x164)])throw new _0x54e1a8(_0x54e1a8[_0x49ed6c(0x318)]['MistletCapacityReportNotSet']);return this[_0x49ed6c(0x164)];}async['reportCapacity'](_0x4ef30f,_0x12b3f2){const _0x50ed34=_0x2d5032,_0x436ad5=await _0x12b3f2();this[_0x50ed34(0x164)]=_0x436ad5,await(0x0,_0x4538fe['addDoc'])((0x0,_0x4538fe['collection'])(_0x2f80ec[_0x50ed34(0x2af)](),'developers/'+this['vendorId']+_0x50ed34(0x138)),{'agentId':this['id'],'groupId':_0x4ef30f,'timestamp':(0x0,_0x4538fe[_0x50ed34(0x30c)])(),'capacity':_0x436ad5});}}!function(_0xbd93a7){const _0x4969bb=_0x2d5032;_0xbd93a7[_0xbd93a7['Online']=0x0]=_0x4969bb(0x84e),_0xbd93a7[_0xbd93a7[_0x4969bb(0x974)]=0x1]=_0x4969bb(0x974);}(_0x216b32||(_0x216b32={}));class _0x5c16b0 extends _0x145d2c{[_0x2d5032(0x30d)];['status']=_0x216b32[_0x2d5032(0x84e)];['lastUpdated']=Date[_0x2d5032(0xa45)]();constructor(_0xa547,_0x556149=new Set(),_0x2bb85d,_0x53f6c1){super(_0xa547,_0x556149,_0x53f6c1),this['currentVersion']=_0x2bb85d;}['getCurrentVersion'](){const _0x5372c8=_0x2d5032;return this[_0x5372c8(0x30d)];}[_0x2d5032(0x315)](){return this['status'];}[_0x2d5032(0x6a4)](){const _0x3f973c=_0x2d5032;return this[_0x3f973c(0x3c8)];}['setRank'](_0x75a9ff){const _0x4cd95b=_0x2d5032;this[_0x4cd95b(0x7a2)]!==_0x75a9ff&&(this[_0x4cd95b(0x7a2)]=_0x75a9ff,this[_0x4cd95b(0x81c)]());}[_0x2d5032(0x1ae)](_0x3eee9c){const _0x22badf=_0x2d5032;let _0x159dbe=!0x1;for(const _0x54ada3 of this[_0x22badf(0x293)])_0x3eee9c[_0x22badf(0x21f)](_0x54ada3)||(_0x159dbe=!0x0,this['remoteConnections'][_0x22badf(0x113)](_0x54ada3));for(const _0x17e68c of _0x3eee9c)this[_0x22badf(0x293)]['has'](_0x17e68c)||(_0x159dbe=!0x0,this[_0x22badf(0x293)][_0x22badf(0x5e6)](_0x17e68c));_0x159dbe&&this['updateLastUpdated']();}[_0x2d5032(0x652)](_0x3e3efa){const _0x5cd4b2=_0x2d5032;this[_0x5cd4b2(0x30d)]!==_0x3e3efa&&(this[_0x5cd4b2(0x30d)]=_0x3e3efa,this[_0x5cd4b2(0x81c)]());}['setStatus'](_0x370a83){const _0x2e1fbc=_0x2d5032;this[_0x2e1fbc(0xa11)]!==_0x370a83&&(this['status']=_0x370a83,this[_0x2e1fbc(0x81c)](),_0x370a83===_0x216b32[_0x2e1fbc(0x974)]&&this[_0x2e1fbc(0x8d0)]());}[_0x2d5032(0x81c)](){this['lastUpdated']=Date['now']();}}class _0x52ad2f extends _0x37219e{[_0x2d5032(0x30d)];['status']=_0x216b32[_0x2d5032(0x84e)];[_0x2d5032(0x3c8)]=Date[_0x2d5032(0xa45)]();constructor(_0x181e8c,_0x1cd465,_0x232437,_0x13403d=new Set(),_0x8ac008,_0x2844dc){const _0x429170=_0x2d5032;super(_0x181e8c,_0x1cd465,_0x232437,_0x13403d,_0x2844dc),this[_0x429170(0x30d)]=_0x8ac008;}[_0x2d5032(0x320)](){return this['currentVersion'];}[_0x2d5032(0x315)](){const _0x48445f=_0x2d5032;return this[_0x48445f(0xa11)];}['getLastUpdated'](){return this['lastUpdated'];}[_0x2d5032(0xaae)](_0x979441){const _0x50fc9f=_0x2d5032;this[_0x50fc9f(0x7c5)]!==_0x979441&&(this[_0x50fc9f(0x7c5)]=_0x979441,this[_0x50fc9f(0x81c)]());}[_0x2d5032(0x1b0)](_0xb394d6){const _0x40687a=_0x2d5032;this[_0x40687a(0xa5d)]!==_0xb394d6&&(this[_0x40687a(0xa5d)]=_0xb394d6,this['updateLastUpdated']());}[_0x2d5032(0x682)](_0x489feb){const _0x13880d=_0x2d5032;this[_0x13880d(0x7a2)]!==_0x489feb&&(this[_0x13880d(0x7a2)]=_0x489feb,this[_0x13880d(0x81c)]());}['setRemoteConnections'](_0x53953d){const _0x5885ff=_0x2d5032;let _0x1e4f2d=!0x1;for(const _0x35be5e of this[_0x5885ff(0x293)])_0x53953d[_0x5885ff(0x21f)](_0x35be5e)||(_0x1e4f2d=!0x0,this['remoteConnections'][_0x5885ff(0x113)](_0x35be5e));for(const _0x1f085d of _0x53953d)this[_0x5885ff(0x293)][_0x5885ff(0x290)](_0x1f085d)||(_0x1e4f2d=!0x0,this[_0x5885ff(0x293)][_0x5885ff(0x5e6)](_0x1f085d));_0x1e4f2d&&this[_0x5885ff(0x81c)]();}['setCurrentVersion'](_0x62b33e){const _0xd3befb=_0x2d5032;this[_0xd3befb(0x30d)]!==_0x62b33e&&(this[_0xd3befb(0x30d)]=_0x62b33e,this[_0xd3befb(0x81c)]());}[_0x2d5032(0x539)](_0xd7ffa4){const _0x93eba7=_0x2d5032;this['status']!==_0xd7ffa4&&(this[_0x93eba7(0xa11)]=_0xd7ffa4,this[_0x93eba7(0x81c)](),_0xd7ffa4===_0x216b32[_0x93eba7(0x974)]&&this[_0x93eba7(0x8d0)]());}['updateLastUpdated'](){const _0x5d0f54=_0x2d5032;this[_0x5d0f54(0x3c8)]=Date[_0x5d0f54(0xa45)]();}}class _0x5781e8{[_0x2d5032(0x514)];['clusterId'];[_0x2d5032(0x6ff)];[_0x2d5032(0x10d)];[_0x2d5032(0xe9)]=_0x19bdf7();['firebaseUnsubscriber'];[_0x2d5032(0xa88)];[_0x2d5032(0xa5c)];[_0x2d5032(0x561)]=!0x1;['clusterKey'];[_0x2d5032(0x6f5)];constructor(_0x1fce9d,_0x496bb8,_0x471ac3,_0x5c933f){const _0x5a6388=_0x2d5032;this[_0x5a6388(0x514)]=_0x1fce9d,this[_0x5a6388(0xa46)]=_0x496bb8,this['localNode']=_0x471ac3,this[_0x5a6388(0x10d)]=_0x5c933f,this[_0x5a6388(0x147)]=_0x5a6388(0x5ca)+this[_0x5a6388(0x514)]+_0x5a6388(0x5ca)+this['clusterId'],this[_0x5a6388(0x6f5)]='ccc'+this[_0x5a6388(0x514)]+_0x5a6388(0x5ca)+this['localNode']['getId'](),this[_0x5a6388(0x75a)]=(0x0,_0x280b6d['onValue'])((0x0,_0x280b6d[_0x5a6388(0x2b6)])(_0x2f80ec[_0x5a6388(0x295)](),_0x5a6388(0x4f9)),_0x42883b=>{const _0x4f004b=_0x5a6388;!0x0!==_0x42883b['val']()?this[_0x4f004b(0x561)]&&_0x27f628[_0x4f004b(0x275)](_0x4f004b(0x80b),{'clusterId':this[_0x4f004b(0xa46)],'nodeId':this[_0x4f004b(0x6ff)][_0x4f004b(0x5cd)](),'nodeType':this[_0x4f004b(0x6ff)]['type']}):(this[_0x4f004b(0x561)]=!0x0,this[_0x4f004b(0x66b)](),_0x27f628[_0x4f004b(0x2d2)](_0x4f004b(0x1ff),{'clusterId':this[_0x4f004b(0xa46)],'nodeId':this[_0x4f004b(0x6ff)][_0x4f004b(0x5cd)](),'nodeType':this[_0x4f004b(0x6ff)][_0x4f004b(0xa7e)]}));});}async[_0x2d5032(0xa9a)](){const _0x3bf43f=_0x2d5032;await this[_0x3bf43f(0x7f8)]();const _0x242215=await this[_0x3bf43f(0x755)]();return this[_0x3bf43f(0xa88)]=(0x0,_0x280b6d[_0x3bf43f(0x29e)])((0x0,_0x280b6d[_0x3bf43f(0x2b6)])(_0x2f80ec[_0x3bf43f(0x295)](),_0x3bf43f(0xa21)+this[_0x3bf43f(0x147)]+_0x3bf43f(0x44b)),_0x55b7a8=>{const _0x5b24d4=_0x3bf43f,_0x3f8f40=_0x55b7a8[_0x5b24d4(0x9f3)];if(!_0x3f8f40)return;const _0x1c9138=_0x3f8f40[_0x5b24d4(0x9b8)](_0x5b24d4(0x5ca)+this[_0x5b24d4(0x514)]+'ccc','');this[_0x5b24d4(0xe9)][_0x5b24d4(0x849)](_0x1c9138);}),_0x242215;}async['close'](){const _0x4cdcd9=_0x2d5032;this[_0x4cdcd9(0xa88)]?.(),delete this[_0x4cdcd9(0xa88)],this[_0x4cdcd9(0xa5c)]?.[_0x4cdcd9(0x6f0)](),delete this[_0x4cdcd9(0xa5c)],this[_0x4cdcd9(0x75a)]?.(),delete this[_0x4cdcd9(0x75a)],await(0x0,_0x280b6d[_0x4cdcd9(0x2f0)])((0x0,_0x280b6d[_0x4cdcd9(0x2b6)])(_0x2f80ec[_0x4cdcd9(0x295)](),'clusters/'+this[_0x4cdcd9(0x147)]+_0x4cdcd9(0x941)+this[_0x4cdcd9(0x6f5)]));}[_0x2d5032(0x412)](_0x16fe54){const _0x1f01ef=_0x2d5032;return this['disconnectCallback'][_0x1f01ef(0x75b)](_0x16fe54);}async[_0x2d5032(0x755)](){const _0x3db69e=_0x2d5032,_0xec8cf9=[],_0x2bd8a9=await(0x0,_0x280b6d[_0x3db69e(0x13f)])((0x0,_0x280b6d[_0x3db69e(0x2b6)])(_0x2f80ec['getDatabase'](),'clusters/'+this[_0x3db69e(0x147)]+_0x3db69e(0x44b))),_0x2443ce=[];return _0x2bd8a9['forEach'](_0x2cb692=>{const _0x508755=_0x3db69e,_0x28ded2=_0x2cb692[_0x508755(0x9f3)]?.['replace'](_0x508755(0x5ca)+this[_0x508755(0x514)]+_0x508755(0x5ca),'');_0x2443ce[_0x508755(0x806)]({'id':_0x28ded2,'joinedAt':_0x2cb692[_0x508755(0x90e)]()[_0x508755(0x77d)],'priority':_0x2cb692['val']()['priority']});}),_0x2443ce[_0x3db69e(0x508)]((_0x2ea653,_0xf32e58)=>_0x2ea653[_0x3db69e(0x77d)]===_0xf32e58[_0x3db69e(0x77d)]?_0x2ea653['priority']-_0xf32e58[_0x3db69e(0x452)]:_0x2ea653[_0x3db69e(0x77d)]-_0xf32e58['joinedAt'])['splice'](_0x2443ce['findIndex'](_0x508118=>_0x508118['id']===this[_0x3db69e(0x6ff)][_0x3db69e(0x5cd)]())),_0x2443ce[_0x3db69e(0x508)]((_0x32e779,_0x199312)=>_0x199312[_0x3db69e(0x77d)]===_0x32e779[_0x3db69e(0x77d)]?_0x199312[_0x3db69e(0x452)]-_0x32e779['priority']:_0x199312['joinedAt']-_0x32e779[_0x3db69e(0x77d)])['forEach'](_0x4b2744=>{const _0x24df3d=_0x3db69e;_0xec8cf9[_0x24df3d(0x80e)]>=this[_0x24df3d(0x10d)]||_0xec8cf9[_0x24df3d(0x806)](_0x4b2744['id']);}),_0x27f628[_0x3db69e(0xf0)](_0x3db69e(0x32d),{'clusterId':this[_0x3db69e(0xa46)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x3db69e(0x6ff)][_0x3db69e(0xa7e)],'data':{'ancestorIds':_0xec8cf9,'allNodes':_0x2443ce}}),_0xec8cf9;}async[_0x2d5032(0x7f8)](){const _0x4fcd3c=_0x2d5032;await(0x0,_0x280b6d[_0x4fcd3c(0x687)])((0x0,_0x280b6d[_0x4fcd3c(0x2b6)])(_0x2f80ec['getDatabase'](),_0x4fcd3c(0xa21)+this[_0x4fcd3c(0x147)]+_0x4fcd3c(0x941)+this['nodeKey']),{'joinedAt':(0x0,_0x280b6d['serverTimestamp'])(),'priority':Math[_0x4fcd3c(0x9e5)]()});}[_0x2d5032(0x66b)](){const _0x1e2a72=_0x2d5032;this[_0x1e2a72(0xa5c)]&&this[_0x1e2a72(0xa5c)]['cancel'](),this[_0x1e2a72(0xa5c)]=(0x0,_0x280b6d['onDisconnect'])((0x0,_0x280b6d['ref'])(_0x2f80ec[_0x1e2a72(0x295)](),_0x1e2a72(0xa21)+this[_0x1e2a72(0x147)]+'/nodes/'+this['nodeKey'])),this['onDisconnectHandler'][_0x1e2a72(0x2f0)]();}}class _0x1f455b{[_0x2d5032(0x47c)];[_0x2d5032(0x3e4)];[_0x2d5032(0x7e0)];['discoveryService'];[_0x2d5032(0x32a)];[_0x2d5032(0x439)]=[];[_0x2d5032(0x83a)];[_0x2d5032(0xec)]=new Map();[_0x2d5032(0x172)];[_0x2d5032(0x688)];[_0x2d5032(0x41b)];[_0x2d5032(0x430)];[_0x2d5032(0x8db)];[_0x2d5032(0x429)];constructor(_0x5c095e,_0x5e3f31){const _0x9315da=_0x2d5032;this[_0x9315da(0x47c)]=_0x5c095e,this[_0x9315da(0x3e4)]=_0x5e3f31,this[_0x9315da(0x41b)]=new Promise((_0x432a30,_0x219b7d)=>{this['resolveReady']=_0x432a30,this['rejectReady']=_0x219b7d;}),this[_0x9315da(0x4c5)]=new _0x5781e8(this[_0x9315da(0x47c)][_0x9315da(0x514)],this[_0x9315da(0x47c)][_0x9315da(0xa46)],this['configs'][_0x9315da(0x6ff)],this['graphService'][_0x9315da(0x231)]()),this[_0x9315da(0x32a)]=this[_0x9315da(0x4c5)][_0x9315da(0x412)](this[_0x9315da(0x989)][_0x9315da(0x830)](this)),this[_0x9315da(0x47c)][_0x9315da(0x6e0)][_0x9315da(0x23e)](this[_0x9315da(0x47c)][_0x9315da(0x6ff)]),this['configs']['mediator'][_0x9315da(0x23e)](this),this[_0x9315da(0x7e0)]=_0x461db3[_0x9315da(0x509)](()=>{const _0x522b7d=_0x9315da,_0x10c5f6=Date[_0x522b7d(0xa45)]();this[_0x522b7d(0x3e4)]['getRemoteNodes']()[_0x522b7d(0x3e9)](_0x30b883=>{const _0x56f927=_0x522b7d;_0x30b883['getStatus']()===_0x216b32['Offline']&&_0x30b883[_0x56f927(0x6a4)]()<_0x10c5f6-0x493e0&&this[_0x56f927(0x3e4)]['deleteRemoteNode'](_0x30b883[_0x56f927(0x5cd)]());});},0xea60);}async[_0x2d5032(0xa1b)](){return this['_isReady'];}async[_0x2d5032(0x177)](_0x365cdb){return new Promise((_0x411807,_0x5899eb)=>{const _0x59a0e8=a0_0x11f8;let _0x5f1e1b;const _0x5b4a5d=setTimeout(()=>{const _0xb64602=a0_0x11f8;_0x5f1e1b?.(),_0x5899eb(new Error(_0xb64602(0xa6f)+_0x365cdb+_0xb64602(0xe7)));},0x2710);if(this['graphService'][_0x59a0e8(0x4b2)](_0x365cdb))return clearTimeout(_0x5b4a5d),void _0x411807(!0x0);_0x5f1e1b=this[_0x59a0e8(0x3e4)][_0x59a0e8(0x1eb)](()=>{const _0x598e0a=_0x59a0e8;this[_0x598e0a(0x3e4)][_0x598e0a(0x4b2)](_0x365cdb)&&(clearTimeout(_0x5b4a5d),_0x411807(!0x0),_0x5f1e1b?.());});});}[_0x2d5032(0x6d6)](_0x3064ee){const _0x1ce3cb=_0x2d5032;this[_0x1ce3cb(0x83a)]=_0x3064ee;}[_0x2d5032(0x4ba)](){delete this['systemTopic'];}[_0x2d5032(0x8d0)](){const _0x486152=_0x2d5032;this[_0x486152(0x172)]&&(clearTimeout(this[_0x486152(0x172)]),delete this[_0x486152(0x172)]),delete this[_0x486152(0x688)],this[_0x486152(0x47c)]['localNode'][_0x486152(0x8d0)](),this[_0x486152(0x7e0)](),this[_0x486152(0x32a)](),this[_0x486152(0x47c)]['mediator'][_0x486152(0x5c3)](this[_0x486152(0x47c)][_0x486152(0x6ff)]),this[_0x486152(0x47c)]['mediator'][_0x486152(0x5c3)](this),this[_0x486152(0x4c5)][_0x486152(0x8d0)]();}[_0x2d5032(0x677)](){return this['ancestors'];}[_0x2d5032(0x4a4)](){const _0x512d4f=_0x2d5032;return this[_0x512d4f(0x47c)][_0x512d4f(0x6ff)]['getId']();}[_0x2d5032(0x22a)](){const _0x4f4931=_0x2d5032;return this[_0x4f4931(0x47c)][_0x4f4931(0x6ff)];}['getRemoteNodes'](_0x48a3e0){const _0x12187e=_0x2d5032,_0x56bca5=Array[_0x12187e(0x8ee)](this[_0x12187e(0x3e4)]['getRemoteNodes']()[_0x12187e(0xa94)]())[_0x12187e(0xa9f)](_0x198d56=>_0x198d56[_0x12187e(0x315)]()===_0x216b32[_0x12187e(0x84e)]);return _0x48a3e0?_0x56bca5[_0x12187e(0xa9f)](_0x48a3e0):_0x56bca5;}async[_0x2d5032(0x32d)](){const _0x44b66d=_0x2d5032;return this['ancestors']=await this[_0x44b66d(0x4c5)][_0x44b66d(0xa9a)](),this[_0x44b66d(0x439)][_0x44b66d(0x80e)]<this[_0x44b66d(0x3e4)]['getMinConnections']()&&(this['configs'][_0x44b66d(0x6ff)][_0x44b66d(0x682)](this[_0x44b66d(0x439)][_0x44b66d(0x80e)]+0x1),this['processRank']()),this['ancestors'];}[_0x2d5032(0x9c3)](_0x57b376,_0x5749f1){const _0x4bf074=_0x2d5032,_0x45c7d2=this[_0x4bf074(0x47c)][_0x4bf074(0x6ff)]['getRemoteConnections'](),_0x345934=new Set(_0x45c7d2),_0x3b3fa4=Array[_0x4bf074(0x8ee)](_0x45c7d2)[_0x4bf074(0xa9f)](_0x2eb16a=>_0x2eb16a!==_0x57b376)[_0x4bf074(0x247)](_0x58f47d=>({'id':_0x58f47d,'distance':0x1}));for(;_0x3b3fa4['length']>0x0;){const _0x3b91a5=_0x3b3fa4[_0x4bf074(0x35e)]();if(!_0x3b91a5)continue;if(_0x3b91a5['id']===_0x5749f1)return _0x3b91a5[_0x4bf074(0x83e)];const _0x292961=this[_0x4bf074(0x3e4)][_0x4bf074(0x51b)](_0x3b91a5['id']);_0x292961&&_0x292961[_0x4bf074(0x315)]()!==_0x216b32['Offline']&&_0x292961[_0x4bf074(0x71a)]()[_0x4bf074(0x3e9)](_0x4cabee=>{const _0x35828c=_0x4bf074;_0x345934[_0x35828c(0x290)](_0x4cabee)||(_0x345934[_0x35828c(0x5e6)](_0x4cabee),_0x3b3fa4[_0x35828c(0x806)]({'id':_0x4cabee,'distance':_0x3b91a5[_0x35828c(0x83e)]+0x1}));});}return-0x1;}[_0x2d5032(0x8e4)](_0x33d283){const _0x2e8d37=_0x2d5032;try{switch(_0x33d283['content'][_0x2e8d37(0xa7e)]){case _0x176135[_0x2e8d37(0x9d4)]:case _0x176135[_0x2e8d37(0x8b6)]:this[_0x2e8d37(0x70f)](_0x33d283[_0x2e8d37(0x3ab)]),_0x27f628[_0x2e8d37(0x107)](_0x53d5c4[_0x2e8d37(0x1e0)],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x2e8d37(0x47c)]['localNode']['getId']()+',\x20'+_0x33d283[_0x2e8d37(0x576)]+'\x27',_0x33d283,_0x33d283[_0x2e8d37(0x3ab)]);break;case _0x176135[_0x2e8d37(0x640)]:this[_0x2e8d37(0x4b1)](_0x33d283[_0x2e8d37(0x3ab)]['id']),_0x27f628['log'](_0x53d5c4['Node'],_0x2e8d37(0x8b9),'\x27'+this[_0x2e8d37(0x47c)]['localNode']['getId']()+',\x20'+_0x33d283['sourceId']+'\x27',_0x33d283,_0x33d283[_0x2e8d37(0x3ab)]);}}catch(_0x3ff7a2){if(_0x3ff7a2 instanceof _0x5ec887)return void _0x27f628['log'](_0x53d5c4[_0x2e8d37(0x1e0)],_0x3ff7a2[_0x2e8d37(0x249)]);throw _0x3ff7a2;}}['handlePeerConnectionSystemEvents'](_0x37cab6){const _0x1e8ff6=_0x2d5032;switch(_0x37cab6[_0x1e8ff6(0x3ab)][_0x1e8ff6(0xa7e)]){case _0x14b6a1[_0x1e8ff6(0x74c)]:this[_0x1e8ff6(0xa59)](_0x37cab6[_0x1e8ff6(0x576)]),_0x27f628['log'](_0x53d5c4['Node'],_0x1e8ff6(0x353),'\x27'+this[_0x1e8ff6(0x47c)][_0x1e8ff6(0x6ff)][_0x1e8ff6(0x5cd)]()+',\x20'+_0x37cab6[_0x1e8ff6(0x576)]+'\x27',_0x37cab6,_0x37cab6[_0x1e8ff6(0x3ab)]);break;case _0x14b6a1[_0x1e8ff6(0x79a)]:this[_0x1e8ff6(0x261)](_0x37cab6[_0x1e8ff6(0x576)]),_0x27f628[_0x1e8ff6(0x107)](_0x53d5c4['Node'],'NodeManager\x20-\x20PublishNodeLeave',this[_0x1e8ff6(0x47c)][_0x1e8ff6(0x6ff)][_0x1e8ff6(0x5cd)](),_0x37cab6,_0x37cab6['content']);}}['handleNodeJoin'](_0x1a0d0b){const _0x3f74c9=_0x2d5032;this[_0x3f74c9(0x12d)](_0x1a0d0b),this['notifyJoin'](_0x1a0d0b);}['notifyJoin'](_0x3be940){const _0x41980f=_0x2d5032;this[_0x41980f(0x47c)][_0x41980f(0x6ff)]['answerJoin'](_0x3be940['id']),this[_0x41980f(0x709)](_0x3be940['id']),this['notifyClusterNodeJoin'](_0x3be940);}[_0x2d5032(0x70f)](_0x40b080){const _0x2eeb33=_0x2d5032,{id:_0x5cd685,metaData:_0x333332,rank:_0x582437,remoteConnections:_0xfa8586,version:_0x798dc9}=_0x40b080,_0x2d233d=this['graphService']['getRemoteNode'](_0x5cd685);if(_0x2d233d){if(!(_0x798dc9<=_0x2d233d['getCurrentVersion']())){if(_0x2d233d['setRemoteConnections'](_0xfa8586),_0x2d233d['setCurrentVersion'](_0x798dc9),_0x2d233d[_0x2eeb33(0xa7e)]===_0x1a575a['NodeType'][_0x2eeb33(0x850)]&&_0x333332[_0x2eeb33(0xa7e)]===_0x1a575a['NodeType']['User']&&(_0x2d233d[_0x2eeb33(0xaae)](_0x333332['displayName']),_0x2d233d[_0x2eeb33(0x1b0)](_0x333332[_0x2eeb33(0xa5d)])),_0x582437&&_0x2d233d[_0x2eeb33(0x682)](_0x582437),this[_0x2eeb33(0x6ca)](_0x5cd685,_0x582437),_0x2d233d[_0x2eeb33(0x315)]()===_0x216b32[_0x2eeb33(0x974)])return _0x2d233d[_0x2eeb33(0x539)](_0x216b32[_0x2eeb33(0x84e)]),this[_0x2eeb33(0x901)](),void this[_0x2eeb33(0x208)](_0x40b080);this[_0x2eeb33(0x901)](),this[_0x2eeb33(0x665)]({'id':_0x5cd685,'metaData':_0x333332,'remoteConnections':_0xfa8586,'version':_0x798dc9});}}else this[_0x2eeb33(0x649)](_0x40b080);}[_0x2d5032(0x6ca)](_0x277ab6,_0x2fb9c8){const _0x52b099=_0x2d5032;_0x2fb9c8&&this['ancestors']['includes'](_0x277ab6)&&this['configs']['localNode'][_0x52b099(0x682)](_0x2fb9c8+this[_0x52b099(0x439)][_0x52b099(0x776)](_0x277ab6)+0x1);}[_0x2d5032(0xa59)](_0x4793dc){const _0x26d54a=_0x2d5032;this[_0x26d54a(0x47c)][_0x26d54a(0x6ff)]['addRemoteConnection'](_0x4793dc);}[_0x2d5032(0x12d)]({id:_0x4c32a8,metaData:_0x29ce7c,rank:_0x1f12a,remoteConnections:_0x5bd6db,version:_0x2af5ad}){const _0x26896a=_0x2d5032;if(this[_0x26896a(0x3e4)][_0x26896a(0x4b2)](_0x4c32a8))throw new _0x5ec887('Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20'+_0x4c32a8);switch(_0x29ce7c[_0x26896a(0xa7e)]){case _0x1a575a[_0x26896a(0x985)]['User']:const {displayName:_0x23d9f1,email:_0x2c7d07}=_0x29ce7c;this['graphService'][_0x26896a(0x95f)](_0x4c32a8,new _0x52ad2f(_0x4c32a8,_0x23d9f1,_0x2c7d07,new Set(_0x5bd6db),_0x2af5ad,_0x1f12a));break;case _0x1a575a[_0x26896a(0x985)][_0x26896a(0x6a1)]:this[_0x26896a(0x3e4)][_0x26896a(0x95f)](_0x4c32a8,new _0x5c16b0(_0x4c32a8,new Set(_0x5bd6db),_0x2af5ad,_0x1f12a));}const _0x37d264=this['getRemoteNodes'](),_0xf4d764=new Set(this[_0x26896a(0x439)]);_0x37d264[_0x26896a(0x3e9)](_0x555b68=>{const _0x1b3938=_0x26896a;_0xf4d764[_0x1b3938(0x290)](_0x555b68[_0x1b3938(0x5cd)]())&&_0xf4d764[_0x1b3938(0x113)](_0x555b68[_0x1b3938(0x5cd)]());}),0x0===_0xf4d764['size']&&this[_0x26896a(0x430)]&&(this[_0x26896a(0x429)]&&clearTimeout(this['readyDebounce']),this[_0x26896a(0x429)]=setTimeout(()=>{const _0x3fcfcc=_0x26896a;this[_0x3fcfcc(0x430)]?.(!0x0),delete this[_0x3fcfcc(0x430)],delete this[_0x3fcfcc(0x8db)];},0x7d0)),this[_0x26896a(0x6ca)](_0x4c32a8,_0x1f12a),this[_0x26896a(0x901)]();}[_0x2d5032(0x709)](_0x1b939c){const _0x30921d=_0x2d5032;this['systemTopic'][_0x30921d(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x30921d(0x1e0)],'content':{'type':_0x176135['NodeJoin'],'id':_0x1b939c}});}[_0x2d5032(0x261)](_0x4d062f){const _0x464557=_0x2d5032;this[_0x464557(0x83a)]?.[_0x464557(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x464557(0x1e0)],'content':{'type':_0x176135[_0x464557(0x640)],'id':_0x4d062f}});}[_0x2d5032(0x989)](_0x551b3d){const _0xdce103=_0x2d5032;if(_0x551b3d===this[_0xdce103(0x47c)][_0xdce103(0x6ff)][_0xdce103(0x5cd)]())return this[_0xdce103(0x47c)][_0xdce103(0x6e0)][_0xdce103(0x485)](_0xdce103(0x861),{'id':_0x551b3d}),this[_0xdce103(0x47c)][_0xdce103(0x6e0)][_0xdce103(0x8d0)]({'force':!0x0},!0x0),this[_0xdce103(0x47c)][_0xdce103(0x6e0)][_0xdce103(0x788)](),void this[_0xdce103(0x47c)][_0xdce103(0x6e0)][_0xdce103(0xa82)]();this[_0xdce103(0x261)](_0x551b3d);}['removeNode'](_0x13baee){const _0x53bac0=_0x2d5032;this[_0x53bac0(0x439)][_0x53bac0(0x21f)](_0x13baee)?this[_0x53bac0(0x633)](_0x13baee):this[_0x53bac0(0x47c)]['localNode'][_0x53bac0(0x71a)]()[_0x53bac0(0x290)](_0x13baee)&&this[_0x53bac0(0x4d7)](_0x13baee),this[_0x53bac0(0x47c)]['localNode'][_0x53bac0(0x453)](_0x13baee);const _0x348ea1=Array[_0x53bac0(0x8ee)](this[_0x53bac0(0xec)][_0x53bac0(0x419)]())[_0x53bac0(0x91b)](([,_0x1fa359])=>_0x1fa359==_0x1fa359);_0x348ea1&&this[_0x53bac0(0xec)]['delete'](_0x348ea1[0x0]);const _0x315348=this[_0x53bac0(0x3e4)][_0x53bac0(0x51b)](_0x13baee);if(!_0x315348)return;const _0x8da418=_0x315348[_0x53bac0(0xadc)](),_0x1c7685=this[_0x53bac0(0x47c)][_0x53bac0(0x6ff)][_0x53bac0(0xadc)]();_0x1c7685&&_0x8da418&&_0x8da418<_0x1c7685&&this[_0x53bac0(0x47c)]['localNode'][_0x53bac0(0x682)](_0x1c7685-0x1,!0x1),Array['from'](this[_0x53bac0(0x3e4)][_0x53bac0(0x95b)]()['values']())[_0x53bac0(0x3e9)](_0x1d0495=>{const _0x3a1808=_0x53bac0,_0x464456=_0x1d0495['getRank']();_0x464456&&_0x8da418&&_0x8da418<_0x464456&&_0x1d0495[_0x3a1808(0x682)](_0x464456-0x1);}),_0x315348[_0x53bac0(0x539)](_0x216b32['Offline']),this['configs'][_0x53bac0(0x6e0)][_0x53bac0(0x485)](_0x315348['type']+_0x53bac0(0x19c),{'id':_0x13baee});}[_0x2d5032(0x5a8)]({id:_0x3add42,metaData:_0x4ac33b,remoteConnections:_0x395e1b}){const _0x2a917f=_0x2d5032;switch(_0x4ac33b[_0x2a917f(0xa7e)]){case _0x1a575a[_0x2a917f(0x985)][_0x2a917f(0x850)]:this[_0x2a917f(0x47c)]['mediator'][_0x2a917f(0x485)](_0x2a917f(0x1d7),{'id':_0x3add42,'metaData':_0x4ac33b,'remoteConnections':_0x395e1b});break;case _0x1a575a['NodeType'][_0x2a917f(0x6a1)]:this['configs'][_0x2a917f(0x6e0)][_0x2a917f(0x485)]('agent-join',{'id':_0x3add42,'metaData':_0x4ac33b,'remoteConnections':_0x395e1b});}}[_0x2d5032(0x665)]({id:_0x1fc7fb,metaData:_0x9666a2,remoteConnections:_0x3217cc}){const _0x100a34=_0x2d5032;switch(_0x9666a2[_0x100a34(0xa7e)]){case _0x1a575a[_0x100a34(0x985)][_0x100a34(0x850)]:this[_0x100a34(0x47c)][_0x100a34(0x6e0)][_0x100a34(0x485)](_0x100a34(0x992),{'id':_0x1fc7fb,'metaData':_0x9666a2,'remoteConnections':_0x3217cc});break;case _0x1a575a[_0x100a34(0x985)]['Agent']:this[_0x100a34(0x47c)]['mediator']['notifyCluster']('agent-update',{'id':_0x1fc7fb,'metaData':_0x9666a2,'remoteConnections':_0x3217cc});}}[_0x2d5032(0x901)](){const _0x38eca4=_0x2d5032;if(this[_0x38eca4(0x688)]||(this[_0x38eca4(0x688)]=Date['now']()),this[_0x38eca4(0x172)]){if(Date[_0x38eca4(0xa45)]()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x38eca4(0x172)]);}this[_0x38eca4(0x172)]=setTimeout(async()=>{const _0x5ceb3a=_0x38eca4;delete this[_0x5ceb3a(0x688)],delete this[_0x5ceb3a(0x172)];const _0x1231bc=this[_0x5ceb3a(0x47c)]['localNode'][_0x5ceb3a(0xadc)]();if(!_0x1231bc)return;const _0x4fe92c=this[_0x5ceb3a(0x3e4)][_0x5ceb3a(0x7b6)](this['graphService'][_0x5ceb3a(0x95b)]()[_0x5ceb3a(0x279)]);if(this[_0x5ceb3a(0xec)][_0x5ceb3a(0x279)]>=_0x4fe92c)return;let _0x1f1b30=0x1;for(;this[_0x5ceb3a(0x47c)]['mediator'][_0x5ceb3a(0x355)]()['length']<this['graphService'][_0x5ceb3a(0xa62)]()&&_0x1f1b30<=_0x4fe92c;){if(this[_0x5ceb3a(0xec)][_0x5ceb3a(0x290)](_0x1f1b30)){_0x1f1b30+=0x1;continue;}const _0x2aa5ab=this[_0x5ceb3a(0x3e4)][_0x5ceb3a(0x67d)](_0x1231bc,_0x1f1b30),_0x4bb1e5=Array[_0x5ceb3a(0x8ee)](this[_0x5ceb3a(0x3e4)]['getRemoteNodes']()[_0x5ceb3a(0xa94)]())[_0x5ceb3a(0x91b)](_0x516899=>_0x516899[_0x5ceb3a(0xadc)]()===_0x2aa5ab&&_0x516899[_0x5ceb3a(0x315)]()===_0x216b32[_0x5ceb3a(0x84e)]);if(_0x4bb1e5){try{await this[_0x5ceb3a(0x47c)][_0x5ceb3a(0x6e0)][_0x5ceb3a(0x5e5)](_0x4bb1e5[_0x5ceb3a(0x5cd)](),_0x5ccac5[_0x5ceb3a(0x1c7)]),this[_0x5ceb3a(0xec)]['set'](_0x1f1b30,_0x4bb1e5[_0x5ceb3a(0x5cd)]());}catch(_0x2ee67f){if(!(_0x2ee67f instanceof _0x54e1a8&&_0x2ee67f[_0x5ceb3a(0x23c)]===_0x54e1a8[_0x5ceb3a(0x318)][_0x5ceb3a(0xa6a)]))throw _0x2ee67f;_0x27f628[_0x5ceb3a(0x107)](_0x53d5c4[_0x5ceb3a(0x1e0)],this[_0x5ceb3a(0x47c)][_0x5ceb3a(0x6ff)][_0x5ceb3a(0x5cd)](),_0x4bb1e5[_0x5ceb3a(0x5cd)](),_0x2ee67f[_0x5ceb3a(0x249)]);}_0x1f1b30+=0x1;}else _0x1f1b30+=0x1;}},0x3e8);}async[_0x2d5032(0x633)](_0x425b05){const _0x8ca29e=_0x2d5032;this[_0x8ca29e(0x439)]['splice'](this[_0x8ca29e(0x439)]['indexOf'](_0x425b05),0x1);const _0xb4f730=await this[_0x8ca29e(0x4c5)][_0x8ca29e(0x755)]();for(const _0x3300ba of _0xb4f730)if(!this['ancestors'][_0x8ca29e(0x21f)](_0x3300ba)){const _0x355002=Array[_0x8ca29e(0x8ee)](this[_0x8ca29e(0xec)][_0x8ca29e(0x419)]())[_0x8ca29e(0x91b)](([,_0x1b0c0b])=>_0x1b0c0b===_0x3300ba);_0x355002&&this[_0x8ca29e(0xec)]['delete'](_0x355002[0x0]),this[_0x8ca29e(0x47c)]['mediator'][_0x8ca29e(0x5e5)](_0x3300ba,_0x5ccac5[_0x8ca29e(0x64c)]);}0x0===_0xb4f730[_0x8ca29e(0x80e)]&&this[_0x8ca29e(0x47c)][_0x8ca29e(0x6ff)][_0x8ca29e(0x682)](0x1),this[_0x8ca29e(0x439)]=_0xb4f730;}async[_0x2d5032(0x4d7)](_0x31e667){const _0x354bbb=_0x2d5032,_0x4abd92=this[_0x354bbb(0x47c)][_0x354bbb(0x6ff)][_0x354bbb(0xadc)]();if(!_0x4abd92)return;const _0x45a964=this[_0x354bbb(0x3e4)]['getRemoteNode'](_0x31e667);if(!_0x45a964||_0x45a964[_0x354bbb(0x315)]()===_0x216b32[_0x354bbb(0x974)])return;const _0x17f34d=_0x45a964[_0x354bbb(0xadc)]();if(!_0x17f34d||_0x17f34d<_0x4abd92)return;const _0x2f505e=this[_0x354bbb(0x834)](this['configs'][_0x354bbb(0x6ff)][_0x354bbb(0x71a)](),_0x4abd92),_0x1884e1=this['getOutgoingOptimizationConnections'](_0x45a964[_0x354bbb(0x71a)](),_0x17f34d)[_0x2f505e['findIndex'](([_0x22178a])=>_0x22178a===_0x31e667)];if(!_0x1884e1||this[_0x354bbb(0x47c)]['localNode'][_0x354bbb(0x71a)]()[_0x354bbb(0x290)](_0x1884e1[0x0]))return;const _0x271521=this[_0x354bbb(0x3e4)]['getRemoteNode'](_0x1884e1[0x0]);if(_0x271521&&_0x271521[_0x354bbb(0x315)]()!==_0x216b32['Offline'])try{await this[_0x354bbb(0x47c)][_0x354bbb(0x6e0)][_0x354bbb(0x5e5)](_0x1884e1[0x0],_0x5ccac5[_0x354bbb(0x1c7)]);const _0x5cdee7=Array['from'](this['optimizationLayers'][_0x354bbb(0x419)]())[_0x354bbb(0x91b)](([,_0x51f025])=>_0x51f025===_0x31e667);_0x5cdee7&&this[_0x354bbb(0xec)][_0x354bbb(0x687)](_0x5cdee7[0x0],_0x1884e1[0x0]);}catch(_0x31e41f){if(!(_0x31e41f instanceof _0x54e1a8&&_0x31e41f[_0x354bbb(0x23c)]===_0x54e1a8[_0x354bbb(0x318)][_0x354bbb(0xa6a)]))throw _0x31e41f;_0x27f628['log'](_0x53d5c4[_0x354bbb(0x1e0)],this[_0x354bbb(0x47c)][_0x354bbb(0x6ff)]['getId'](),_0x1884e1[0x0],_0x31e41f['message']);}}['getOutgoingOptimizationConnections'](_0xff75a9,_0xf2efca){const _0x436197=_0x2d5032;return Array[_0x436197(0x8ee)](_0xff75a9)['reduce']((_0x2d316d,_0x35c087)=>{const _0x180e13=_0x436197,_0x650c62=this[_0x180e13(0x3e4)][_0x180e13(0x51b)](_0x35c087);if(!_0x650c62||_0x650c62[_0x180e13(0x315)]()===_0x216b32[_0x180e13(0x974)])return _0x2d316d;const _0x4873d5=_0x650c62[_0x180e13(0xadc)]();if(!_0x4873d5)return _0x2d316d;const _0x2ebc8e=_0x4873d5-_0xf2efca;return _0x2ebc8e<=this[_0x180e13(0x3e4)][_0x180e13(0x231)]()||_0x2d316d[_0x180e13(0x806)]([_0x35c087,_0x2ebc8e]),_0x2d316d;},[])['sort'](([,_0x257c31],[,_0x203515])=>_0x257c31-_0x203515);}}const _0x3b7006=[{'problemType':_0x59249c[_0x2d5032(0x5df)],'remediations':[{'type':_0x375f4e[_0x2d5032(0x785)],'component':_0x311285[_0x2d5032(0x461)],'action':_0x176a2f[_0x2d5032(0x9ce)]},{'type':_0x375f4e[_0x2d5032(0x812)],'component':_0x311285[_0x2d5032(0x461)],'action':_0x176a2f[_0x2d5032(0x9ce)]}]},{'problemType':_0x59249c[_0x2d5032(0x6b3)],'remediations':[{'type':_0x375f4e['Remediation'],'component':_0x311285[_0x2d5032(0x461)],'action':_0x176a2f['Downgrade']}]},{'problemType':_0x59249c[_0x2d5032(0x9da)],'remediations':[{'type':_0x375f4e[_0x2d5032(0x785)],'component':_0x311285[_0x2d5032(0x461)],'action':_0x176a2f[_0x2d5032(0x9ce)]}]},{'problemType':_0x59249c[_0x2d5032(0xa79)],'remediations':[{'type':_0x375f4e[_0x2d5032(0x785)],'component':_0x311285[_0x2d5032(0x461)],'action':_0x176a2f[_0x2d5032(0x9ce)]}]},{'problemType':_0x59249c['Bitrate'],'remediations':[{'type':_0x375f4e[_0x2d5032(0x785)],'component':_0x311285['Bitrate'],'action':_0x176a2f[_0x2d5032(0x9ce)]}]},{'problemType':_0x59249c[_0x2d5032(0x4cc)],'remediations':[{'type':_0x375f4e[_0x2d5032(0x785)],'component':_0x311285[_0x2d5032(0x725)],'action':_0x176a2f[_0x2d5032(0x9ce)]}]},{'problemType':_0x59249c[_0x2d5032(0x420)],'remediations':[{'type':_0x375f4e[_0x2d5032(0x785)],'component':_0x311285[_0x2d5032(0x725)],'action':_0x176a2f[_0x2d5032(0x9ce)]}]}];class _0x5a6524{[_0x2d5032(0x47c)];[_0x2d5032(0x83a)];[_0x2d5032(0x67e)]=new Map();constructor(_0x334342){const _0x3fcdad=_0x2d5032;this['configs']=_0x334342,this[_0x3fcdad(0x47c)][_0x3fcdad(0x6e0)]['registerSystemSource'](this);}[_0x2d5032(0x8d0)](){const _0x26fb32=_0x2d5032;this[_0x26fb32(0x47c)][_0x26fb32(0x6e0)][_0x26fb32(0x5c3)](this);}[_0x2d5032(0x6d6)](_0x27ec12){const _0x59b26d=_0x2d5032;this[_0x59b26d(0x83a)]=_0x27ec12;}[_0x2d5032(0x4ba)](){const _0x12c274=_0x2d5032;delete this[_0x12c274(0x83a)];}[_0x2d5032(0x59c)](_0x902647){const _0x2088d9=_0x2d5032;_0x902647[_0x2088d9(0x3ab)][_0x2088d9(0xa7e)]===_0x5947b6[_0x2088d9(0xa4c)]&&this[_0x2088d9(0x5a1)](_0x902647['content'][_0x2088d9(0x906)]);}['handleRemediationSystemEvents'](_0xefda20){const _0x430e7c=_0x2d5032;_0xefda20[_0x430e7c(0x3ab)][_0x430e7c(0xa7e)]===_0x375f4e[_0x430e7c(0x812)]&&this['applyRemediation'](_0xefda20[_0x430e7c(0x576)],{'type':_0x375f4e[_0x430e7c(0x785)],'component':_0xefda20['content'][_0x430e7c(0x906)][_0x430e7c(0x5a0)],'action':_0xefda20[_0x430e7c(0x3ab)][_0x430e7c(0x906)][_0x430e7c(0x736)]});}['handleProblem'](_0x6a65df){const _0x32f9a1=_0x2d5032,_0x41ac82=_0x3b7006[_0x32f9a1(0x91b)](_0x3a8e49=>_0x3a8e49[_0x32f9a1(0x717)]===_0x6a65df[_0x32f9a1(0xa7e)]);_0x41ac82[_0x32f9a1(0x604)]?.[_0x32f9a1(0x3e9)](_0x2ad876=>{const _0x3ab4f3=_0x32f9a1;this[_0x3ab4f3(0xad3)](_0x6a65df[_0x3ab4f3(0xa3c)],{'type':_0x6a65df[_0x3ab4f3(0x1b7)]===_0x521099['Sender']?_0x375f4e[_0x3ab4f3(0x785)]:_0x375f4e[_0x3ab4f3(0x812)],'component':_0x2ad876[_0x3ab4f3(0x5a0)],'action':_0x2ad876[_0x3ab4f3(0x736)]});});}['applyRemediation'](_0x189f3f,_0x367886){const _0x5490ff=_0x2d5032;if(_0x367886[_0x5490ff(0xa7e)]===_0x375f4e['Remediation']){const _0x1edc62=Date[_0x5490ff(0xa45)](),_0x37b38b=this[_0x5490ff(0x67e)][_0x5490ff(0x13f)](_0x189f3f);if(_0x37b38b&&_0x1edc62-_0x37b38b<0x1388)return;this[_0x5490ff(0x67e)][_0x5490ff(0x687)](_0x189f3f,_0x1edc62);}_0x27f628[_0x5490ff(0x107)](_0x53d5c4['Remediation'],'Apply\x20remediation',_0x367886),_0x27f628[_0x5490ff(0xf0)]('remediation',{'clusterId':this[_0x5490ff(0x47c)][_0x5490ff(0xa46)],'nodeId':this[_0x5490ff(0x47c)][_0x5490ff(0x6ff)][_0x5490ff(0x5cd)](),'nodeType':this[_0x5490ff(0x47c)][_0x5490ff(0x6ff)]['type'],'remoteId':_0x189f3f,'data':{'type':_0x367886[_0x5490ff(0xa7e)],'component':_0x367886['component'],'action':_0x367886[_0x5490ff(0x736)]}});let _0x1ce3e8,_0x5556b0=_0x20f836;_0x367886['type']===_0x375f4e[_0x5490ff(0x812)]&&(_0x5556b0=this['configs']['localNode']['getId'](),_0x1ce3e8=[_0x189f3f]),this[_0x5490ff(0x83a)][_0x5490ff(0x849)]({'sourceId':_0x5556b0,'destinationIds':_0x1ce3e8,'messageType':_0x4bbd49[_0x5490ff(0x785)],'content':{'type':_0x367886[_0x5490ff(0xa7e)],'targetId':_0x189f3f,'data':_0x367886}});}}const _0x2ab361=0x3e8,_0x653a17=0x7530,_0x56de92='outbound-rtp',_0x74d5b4=_0x2d5032(0x5ad),_0x45376b='inbound-rtp',_0x512715=[_0x56de92,_0x74d5b4],_0x5120c7=[_0x45376b];class _0x3a0cae{[_0x2d5032(0x8e2)]=0x0;[_0x2d5032(0x663)]=0x0;['jitter']=0x0;[_0x2d5032(0x324)]=0x0;[_0x2d5032(0x78e)]=0x0;[_0x2d5032(0x5d2)]=0x0;['previousTimestamp']=0x0;[_0x2d5032(0x783)]=0x0;['previousBytes']=0x0;get[_0x2d5032(0x947)](){const _0x6ede24=_0x2d5032;return this[_0x6ede24(0x5d2)]>0x0&&this[_0x6ede24(0x6fb)]>0x0&&Date[_0x6ede24(0xa45)]()-this[_0x6ede24(0x5d2)]<_0x653a17?(this[_0x6ede24(0x783)]-this['previousBytes'])/(this[_0x6ede24(0x5d2)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}[_0x2d5032(0x8d1)](_0x387854){const _0x5191ac=_0x2d5032;switch(_0x387854[_0x5191ac(0xa7e)]){case _0x45376b:this[_0x5191ac(0x634)](_0x387854);break;case _0x56de92:this['processOutboundReport'](_0x387854);break;case _0x74d5b4:this[_0x5191ac(0xa0b)](_0x387854);}}[_0x2d5032(0x42e)](){const _0x4b4842=_0x2d5032;return{'bitrate':this[_0x4b4842(0x947)],'packetsLostPerc':this[_0x4b4842(0x3ee)](),'roundTripTime':this[_0x4b4842(0x8e2)],'jitter':this[_0x4b4842(0x6d7)]};}[_0x2d5032(0x634)](_0x2fa046){const _0x3762a2=_0x2d5032;this[_0x3762a2(0x4ae)](_0x2fa046[_0x3762a2(0x8a4)]),this['setTimestamp'](_0x2fa046['timestamp']),this[_0x3762a2(0x78e)]=_0x2fa046[_0x3762a2(0x1b5)],this[_0x3762a2(0x324)]=_0x2fa046[_0x3762a2(0x324)],void 0x0!==_0x2fa046[_0x3762a2(0x6d7)]?this[_0x3762a2(0x6d7)]=_0x2fa046[_0x3762a2(0x6d7)]:this[_0x3762a2(0x6d7)]=0x0,void 0x0!==_0x2fa046[_0x3762a2(0x663)]?this['estimatedPlayoutTimestamp']=_0x2fa046[_0x3762a2(0x663)]:this['estimatedPlayoutTimestamp']=0x0;}[_0x2d5032(0x772)](_0x1fd9ff){const _0xa90944=_0x2d5032;this[_0xa90944(0x4ae)](_0x1fd9ff[_0xa90944(0x9ab)]),this[_0xa90944(0xab2)](_0x1fd9ff[_0xa90944(0x9f5)]),this[_0xa90944(0x78e)]=_0x1fd9ff[_0xa90944(0x5a3)];}[_0x2d5032(0xa0b)](_0x28bc25){const _0x146974=_0x2d5032;this[_0x146974(0x8e2)]=0x3e8*_0x28bc25[_0x146974(0x8e2)],void 0x0!==_0x28bc25[_0x146974(0x6d7)]?this[_0x146974(0x6d7)]=_0x28bc25[_0x146974(0x6d7)]:this[_0x146974(0x6d7)]=0x0;}[_0x2d5032(0x3ee)](){const _0xe2359e=_0x2d5032;return this[_0xe2359e(0x78e)]>0x0?this[_0xe2359e(0x324)]/this[_0xe2359e(0x78e)]:0x0;}[_0x2d5032(0xab2)](_0x10fdff){const _0x57755d=_0x2d5032;_0x10fdff>this[_0x57755d(0x5d2)]&&(this['previousTimestamp']=this[_0x57755d(0x5d2)],this['currentTimestamp']=_0x10fdff);}[_0x2d5032(0x4ae)](_0x40d923){const _0x6b1ca0=_0x2d5032;this['previousBytes']=this[_0x6b1ca0(0x783)],this[_0x6b1ca0(0x783)]=_0x40d923;}}class _0x4d8571 extends _0x3a0cae{}class _0x51c8f6 extends _0x3a0cae{[_0x2d5032(0x730)]=0x0;[_0x2d5032(0x468)]=0x0;[_0x2d5032(0x8dd)]=0x0;[_0x2d5032(0xa18)]=0x0;[_0x2d5032(0x229)]=0x0;get[_0x2d5032(0x529)](){const _0x3acd19=_0x2d5032;return this[_0x3acd19(0x5d2)]>0x0&&this[_0x3acd19(0x6fb)]>0x0&&Date[_0x3acd19(0xa45)]()-this['currentTimestamp']<_0x653a17?(this[_0x3acd19(0xa18)]-this['previousFrames'])/(this['currentTimestamp']-this['previousTimestamp'])*0x3e8:0x0;}get[_0x2d5032(0x10a)](){const _0x4c7a9b=_0x2d5032;return this[_0x4c7a9b(0x730)]&&this['currentFrames']&&this['currentFrames']>0x0?this[_0x4c7a9b(0x730)]/this['currentFrames']:0x0;}set[_0x2d5032(0x5eb)](_0x4b941d){const _0x5df8bc=_0x2d5032;this[_0x5df8bc(0x229)]=this[_0x5df8bc(0xa18)],this[_0x5df8bc(0xa18)]=_0x4b941d;}[_0x2d5032(0x42e)](){const _0x117712=_0x2d5032;return{...super[_0x117712(0x42e)](),'FPS':this['fps'],'timePerFrame':this[_0x117712(0x10a)],'frameWidth':this[_0x117712(0x468)],'frameHeight':this['frameHeight']};}[_0x2d5032(0x634)](_0x46356f){const _0x22001d=_0x2d5032;super[_0x22001d(0x634)](_0x46356f),this[_0x22001d(0x730)]=_0x46356f['totalDecodeTime'],this[_0x22001d(0x5eb)]=_0x46356f['framesDecoded'],this[_0x22001d(0x468)]=_0x46356f[_0x22001d(0x468)],this['frameHeight']=_0x46356f['frameHeight'];}[_0x2d5032(0x772)](_0x285c0c){const _0x2503ac=_0x2d5032;super[_0x2503ac(0x772)](_0x285c0c),this[_0x2503ac(0x730)]=_0x285c0c['totalEncodeTime'],this['frames']=_0x285c0c[_0x2503ac(0x32c)],this[_0x2503ac(0x468)]=_0x285c0c[_0x2503ac(0x468)],this[_0x2503ac(0x8dd)]=_0x285c0c[_0x2503ac(0x8dd)];}}class _0x5bdbad{[_0x2d5032(0x2fa)]=new _0x4d8571();['video']=new _0x51c8f6();get[_0x2d5032(0x947)](){const _0x3c4a6c=_0x2d5032;return this[_0x3c4a6c(0x2fa)][_0x3c4a6c(0x947)]+this[_0x3c4a6c(0x5f6)]['bitrate'];}[_0x2d5032(0x5f2)](_0x4e926a){const _0x5d46fc=_0x2d5032;return _0x4e926a[_0x5d46fc(0x3e9)](_0x8b55a2=>{const _0x3df5e3=_0x5d46fc;switch(_0x8b55a2[_0x3df5e3(0x1da)]){case _0x3df5e3(0x2fa):this[_0x3df5e3(0x2fa)][_0x3df5e3(0x8d1)](_0x8b55a2);break;case _0x3df5e3(0x5f6):this['video'][_0x3df5e3(0x8d1)](_0x8b55a2);}}),this['getReport']();}[_0x2d5032(0x42e)](){const _0x497871=_0x2d5032;return{'audio':this['audio'][_0x497871(0x42e)](),'video':this[_0x497871(0x5f6)][_0x497871(0x42e)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x497871(0x947)]};}[_0x2d5032(0x4f5)](){const _0x1ebecf=_0x2d5032;return Math[_0x1ebecf(0x176)]((this[_0x1ebecf(0x2fa)][_0x1ebecf(0x8e2)]+this['video'][_0x1ebecf(0x8e2)])/0x2);}['getAudioVideoDelay'](){const _0x47cb06=_0x2d5032;return this[_0x47cb06(0x2fa)][_0x47cb06(0x663)]-this[_0x47cb06(0x5f6)]['estimatedPlayoutTimestamp'];}}class _0x2ba24f{[_0x2d5032(0xa14)]=0x0;[_0x2d5032(0x7fd)]=0x0;[_0x2d5032(0x6ba)]=0x0;[_0x2d5032(0x4f6)]=0x0;[_0x2d5032(0x732)]=0x0;[_0x2d5032(0x5ee)]=0x0;[_0x2d5032(0xa85)]=0x0;[_0x2d5032(0x2cc)]=0x0;['senderTotalMessages']=0x0;['receiverTotalMessages']=0x0;[_0x2d5032(0x964)]=0x0;['receiverTimeProcessing']=0x0;[_0x2d5032(0x8e2)]=0x0;get[_0x2d5032(0x947)](){const _0x13d5ce=_0x2d5032;return this[_0x13d5ce(0x48d)]+this[_0x13d5ce(0x9a2)];}get[_0x2d5032(0x48d)](){const _0x572c90=_0x2d5032;return this[_0x572c90(0xa14)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date[_0x572c90(0xa45)]()-this[_0x572c90(0xa14)]<_0x653a17?(this[_0x572c90(0x732)]-this[_0x572c90(0x5ee)])/(this[_0x572c90(0xa14)]-this['senderPreviousTimestamp'])*0x8*0x3e8:0x0;}get['receiverBitrate'](){const _0x5524b6=_0x2d5032;return this['receiverCurrentTimestamp']>0x0&&this[_0x5524b6(0x4f6)]>0x0&&Date[_0x5524b6(0xa45)]()-this[_0x5524b6(0x6ba)]<_0x653a17?(this[_0x5524b6(0xa85)]-this[_0x5524b6(0x2cc)])/(this[_0x5524b6(0x6ba)]-this[_0x5524b6(0x4f6)])*0x8*0x3e8:0x0;}['processReport'](_0x5ca7f7){const _0x571858=_0x2d5032;switch(_0x5ca7f7['origin']){case _0x521099[_0x571858(0xa4a)]:this[_0x571858(0x4bf)](_0x5ca7f7);break;case _0x521099[_0x571858(0x728)]:this['processReceiverReport'](_0x5ca7f7);}}[_0x2d5032(0x42e)](){const _0xf58e9a=_0x2d5032;return{'bitrate':this[_0xf58e9a(0x947)],'senderBitrate':this['senderBitrate'],'receiverBitrate':this[_0xf58e9a(0x9a2)],'totalBytes':this[_0xf58e9a(0x75e)](),'senderTotalBytes':this[_0xf58e9a(0x9ca)](),'receiverTotalBytes':this[_0xf58e9a(0x34d)](),'totalMessages':this[_0xf58e9a(0xacc)]+this['receiverTotalMessages'],'senderTotalMessages':this[_0xf58e9a(0xacc)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0xf58e9a(0x964)]+this['receiverTimeProcessing'],'senderTimeProcessing':this[_0xf58e9a(0x964)],'receiverTimeProcessing':this['receiverTimeProcessing'],'roundTripTime':this[_0xf58e9a(0x8e2)]};}[_0x2d5032(0x75e)](){const _0x4eb84f=_0x2d5032;return this[_0x4eb84f(0x732)]+this[_0x4eb84f(0xa85)];}[_0x2d5032(0x9ca)](){const _0x591ec4=_0x2d5032;return this[_0x591ec4(0x732)];}['getReceiverTotalBytes'](){return this['receiverCurrentBytes'];}[_0x2d5032(0x4bf)](_0x4380cb){const _0x541220=_0x2d5032;this[_0x541220(0x76f)](_0x4380cb['timestamp']),this['setBytes'](_0x4380cb[_0x541220(0x9ab)]),this[_0x541220(0xacc)]=_0x4380cb[_0x541220(0x658)],this[_0x541220(0x964)]=_0x4380cb['timeSending'],this[_0x541220(0x8e2)]=_0x4380cb[_0x541220(0x8e2)];}[_0x2d5032(0x774)](_0x5d84ec){const _0xe9ab09=_0x2d5032;this['setReceiverTimestamp'](_0x5d84ec['timestamp']),this[_0xe9ab09(0x8fd)](_0x5d84ec[_0xe9ab09(0x8a4)]),this[_0xe9ab09(0x3a0)]=_0x5d84ec[_0xe9ab09(0x5be)],this[_0xe9ab09(0x3fc)]=_0x5d84ec['timeReceiving'];}[_0x2d5032(0x76f)](_0x148644){const _0x342d1f=_0x2d5032;_0x148644>this[_0x342d1f(0xa14)]&&(this[_0x342d1f(0x7fd)]=this[_0x342d1f(0xa14)],this[_0x342d1f(0xa14)]=_0x148644);}['setReceiverTimestamp'](_0x4cbf5b){const _0x1e2960=_0x2d5032;_0x4cbf5b>this['receiverCurrentTimestamp']&&(this[_0x1e2960(0x4f6)]=this['receiverCurrentTimestamp'],this['receiverCurrentTimestamp']=_0x4cbf5b);}[_0x2d5032(0x4ae)](_0x2f916e){this['senderPreviousBytes']=this['senderCurrentBytes'],this['senderCurrentBytes']=_0x2f916e;}[_0x2d5032(0x8fd)](_0x1429f5){const _0x315e76=_0x2d5032;this[_0x315e76(0x2cc)]=this['receiverCurrentBytes'],this[_0x315e76(0xa85)]=_0x1429f5;}}class _0x325af9{[_0x2d5032(0x424)]=new Map();['receiverStreams']=new Map();['dataChannel']=new _0x2ba24f();get['senderBitrate'](){const _0xd99e5=_0x2d5032;let _0x44cbdf=0x0;return this[_0xd99e5(0x424)][_0xd99e5(0x3e9)](_0x2c684c=>{const _0x5d21fa=_0xd99e5;_0x44cbdf+=_0x2c684c[_0x5d21fa(0x947)];}),_0x44cbdf+=this[_0xd99e5(0x793)][_0xd99e5(0x48d)],_0x44cbdf;}get['receiverBitrate'](){const _0x4fe04f=_0x2d5032;let _0x46e383=0x0;return this[_0x4fe04f(0xa4e)][_0x4fe04f(0x3e9)](_0x4b96de=>{const _0x30766f=_0x4fe04f;_0x46e383+=_0x4b96de[_0x30766f(0x947)];}),_0x46e383+=this[_0x4fe04f(0x793)]['receiverBitrate'],_0x46e383;}get[_0x2d5032(0x947)](){const _0x4ecad8=_0x2d5032;return this[_0x4ecad8(0x48d)]+this[_0x4ecad8(0x9a2)];}[_0x2d5032(0x5f2)](_0x309bea,_0x29f7ba){const _0x3f947a=_0x2d5032,_0x3f90dc=[],_0x1db707=[];return _0x309bea instanceof Array?_0x309bea[_0x3f947a(0x3e9)](_0x2e3b2a=>{const _0x37e42d=_0x3f947a;_0x2e3b2a[_0x37e42d(0x3e9)](_0x863883=>{const _0xcc69d7=_0x37e42d;_0x5120c7[_0xcc69d7(0x21f)](_0x863883['type'])&&_0x3f90dc[_0xcc69d7(0x806)](_0x863883),_0x512715['includes'](_0x863883[_0xcc69d7(0xa7e)])&&_0x1db707[_0xcc69d7(0x806)](_0x863883);});}):this[_0x3f947a(0x793)][_0x3f947a(0x8d1)](_0x309bea),_0x3f90dc[_0x3f947a(0x80e)]>0x0&&_0x29f7ba?{...this[_0x3f947a(0x232)](_0x29f7ba,_0x3f90dc),'origin':_0x521099[_0x3f947a(0x728)],'streamId':_0x29f7ba}:_0x1db707['length']>0x0&&_0x29f7ba?{...this[_0x3f947a(0x193)](_0x29f7ba,_0x1db707),'origin':_0x521099[_0x3f947a(0xa4a)],'streamId':_0x29f7ba}:void 0x0;}[_0x2d5032(0x42e)](){const _0x2e40f8=_0x2d5032,_0x3a1f40={};this[_0x2e40f8(0x424)]['forEach']((_0x298207,_0x4d427d)=>{const _0x5682e8=_0x2e40f8;_0x3a1f40[_0x4d427d]=_0x298207[_0x5682e8(0x42e)]();});const _0x10efe3={};return this[_0x2e40f8(0xa4e)][_0x2e40f8(0x3e9)]((_0x5b3869,_0x1b399c)=>{const _0x45b74a=_0x2e40f8;_0x10efe3[_0x1b399c]=_0x5b3869[_0x45b74a(0x42e)]();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0x2e40f8(0x48d)],'receiverBitrate':this[_0x2e40f8(0x9a2)],'senderStreams':_0x3a1f40,'receiverStreams':_0x10efe3,'dataChannel':this[_0x2e40f8(0x793)][_0x2e40f8(0x42e)]()};}[_0x2d5032(0x232)](_0x5c3472,_0x476a7f){const _0x28634a=_0x2d5032;return this[_0x28634a(0xa4e)][_0x28634a(0x290)](_0x5c3472)||this['receiverStreams']['set'](_0x5c3472,new _0x5bdbad()),this[_0x28634a(0xa4e)][_0x28634a(0x13f)](_0x5c3472)[_0x28634a(0x5f2)](_0x476a7f);}[_0x2d5032(0x193)](_0x568117,_0x44cc92){const _0x2ba97f=_0x2d5032;return this[_0x2ba97f(0x424)][_0x2ba97f(0x290)](_0x568117)||this[_0x2ba97f(0x424)][_0x2ba97f(0x687)](_0x568117,new _0x5bdbad()),this[_0x2ba97f(0x424)][_0x2ba97f(0x13f)](_0x568117)[_0x2ba97f(0x5f2)](_0x44cc92);}}class _0x31ac5e{[_0x2d5032(0x7dc)]=new Map();[_0x2d5032(0x2c4)]=0x0;[_0x2d5032(0x918)]=0x0;[_0x2d5032(0x560)]=new Map();[_0x2d5032(0x647)]=new Map();[_0x2d5032(0x707)]=new Map();['generativeAIContexts']=new Map();[_0x2d5032(0x33e)]=new Map();['vectorDatabases']=new Map();[_0x2d5032(0x3c0)]=new Map();[_0x2d5032(0x317)]=new Map();[_0x2d5032(0xacc)]=new Map();['receiverTotalMessages']=new Map();[_0x2d5032(0x964)]=new Map();[_0x2d5032(0x3fc)]=new Map();[_0x2d5032(0x51d)]=new Map();['systemTopic'];[_0x2d5032(0x42e)](){const _0x34b1e6=_0x2d5032,_0x51d7cf={};this['nodes']['forEach']((_0x28bc6d,_0x1d12fc)=>{const _0x2a01c0=a0_0x11f8;_0x51d7cf[_0x1d12fc]=_0x28bc6d[_0x2a01c0(0x42e)]();});let _0x304561=0x0;this[_0x34b1e6(0x964)]['forEach'](_0x5523db=>{_0x304561+=_0x5523db;});let _0x1289da=0x0;this[_0x34b1e6(0x3fc)]['forEach'](_0x373adb=>{_0x1289da+=_0x373adb;});const _0x3c2172=_0x304561+_0x1289da;let _0x1dc284={'messages':{'total':0x0}};this[_0x34b1e6(0x51d)][_0x34b1e6(0x3e9)](_0x57127a=>{const _0x4cba9a=_0x34b1e6;Object[_0x4cba9a(0xa30)](_0x57127a)[_0x4cba9a(0x3e9)](_0x3e5168=>{const _0x3cfe27=_0x4cba9a;_0x1dc284[_0x3e5168]||(_0x1dc284[_0x3e5168]={}),Object[_0x3cfe27(0xa30)](_0x57127a[_0x3e5168])[_0x3cfe27(0x3e9)](_0x3eed6c=>{_0x1dc284[_0x3e5168][_0x3eed6c]||(_0x1dc284[_0x3e5168][_0x3eed6c]=0x0),_0x1dc284[_0x3e5168][_0x3eed6c]+=_0x57127a[_0x3e5168][_0x3eed6c];});});});let _0x294e6e=0x0,_0x7d0bf3=0x0,_0xebd2aa=0x0,_0x3a11ce=0x0,_0x1c40c8=0x0;return this[_0x34b1e6(0x560)][_0x34b1e6(0x3e9)](_0x12a91b=>{const _0x78bfd5=_0x34b1e6;_0x7d0bf3+=_0x12a91b[_0x78bfd5(0x658)],_0xebd2aa+=_0x12a91b['messagesReceived'],_0x3a11ce+=_0x12a91b['bytesSent'],_0x1c40c8+=_0x12a91b[_0x78bfd5(0x8a4)];}),this[_0x34b1e6(0x647)][_0x34b1e6(0x3e9)](_0x1148e3=>{const _0x21b523=_0x34b1e6;_0x294e6e+=_0x1148e3['storage'],_0x7d0bf3+=_0x1148e3['messagesSent'],_0xebd2aa+=_0x1148e3['messagesReceived'],_0x3a11ce+=_0x1148e3['bytesSent'],_0x1c40c8+=_0x1148e3[_0x21b523(0x8a4)];}),this['keyValueDatabases'][_0x34b1e6(0x3e9)](_0x22b67b=>{const _0x3b06e5=_0x34b1e6;_0x294e6e+=_0x22b67b[_0x3b06e5(0x140)],_0x7d0bf3+=_0x22b67b[_0x3b06e5(0x658)],_0xebd2aa+=_0x22b67b[_0x3b06e5(0x5be)],_0x3a11ce+=_0x22b67b[_0x3b06e5(0x9ab)],_0x1c40c8+=_0x22b67b['bytesReceived'];}),this[_0x34b1e6(0x630)][_0x34b1e6(0x3e9)](_0x4c3452=>{const _0x18b4f2=_0x34b1e6;_0x294e6e+=_0x4c3452[_0x18b4f2(0x140)],_0x7d0bf3+=_0x4c3452[_0x18b4f2(0x658)],_0xebd2aa+=_0x4c3452[_0x18b4f2(0x5be)],_0x3a11ce+=_0x4c3452['bytesSent'],_0x1c40c8+=_0x4c3452['bytesReceived'];}),this[_0x34b1e6(0x33e)][_0x34b1e6(0x3e9)](_0x43940b=>{const _0x2aea6c=_0x34b1e6;_0x294e6e+=_0x43940b[_0x2aea6c(0x140)],_0x7d0bf3+=_0x43940b[_0x2aea6c(0x658)],_0xebd2aa+=_0x43940b[_0x2aea6c(0x5be)],_0x3a11ce+=_0x43940b['bytesSent'],_0x1c40c8+=_0x43940b['bytesReceived'];}),this['vectorDatabases']['forEach'](_0x21af25=>{const _0x6c086b=_0x34b1e6;_0x294e6e+=_0x21af25[_0x6c086b(0x140)],_0x7d0bf3+=_0x21af25[_0x6c086b(0x658)],_0xebd2aa+=_0x21af25['messagesReceived'],_0x3a11ce+=_0x21af25[_0x6c086b(0x9ab)],_0x1c40c8+=_0x21af25[_0x6c086b(0x8a4)];}),this[_0x34b1e6(0x3c0)][_0x34b1e6(0x3e9)](_0x6ab46a=>{const _0x56a813=_0x34b1e6;_0x294e6e+=_0x6ab46a[_0x56a813(0x140)],_0x7d0bf3+=_0x6ab46a[_0x56a813(0x658)],_0xebd2aa+=_0x6ab46a[_0x56a813(0x5be)],_0x3a11ce+=_0x6ab46a[_0x56a813(0x9ab)],_0x1c40c8+=_0x6ab46a[_0x56a813(0x8a4)];}),{'STVolatility':this[_0x34b1e6(0x786)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x34b1e6(0x4a0)](),'senderBitrate':this[_0x34b1e6(0x150)](),'receiverBitrate':this[_0x34b1e6(0x839)](),'totalStorageSize':_0x294e6e,'totalMessages':_0x7d0bf3+_0xebd2aa,'totalMessagesSent':_0x7d0bf3,'totalMessagesReceived':_0xebd2aa,'totalBytes':_0x3a11ce+_0x1c40c8,'totalBytesSent':_0x3a11ce,'totalBytesReceived':_0x1c40c8,'systemMessages':_0x1dc284,'timeProcessing':_0x3c2172,'nodes':_0x51d7cf,'pubsubTopics':Object[_0x34b1e6(0x874)](this[_0x34b1e6(0x560)]),'objectStores':Object[_0x34b1e6(0x874)](this[_0x34b1e6(0x647)]),'keyValueDatabases':Object[_0x34b1e6(0x874)](this['keyValueDatabases']),'generativeAIContexts':Object[_0x34b1e6(0x874)](this[_0x34b1e6(0x630)]),'generativeAIWorkers':Object[_0x34b1e6(0x874)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x34b1e6(0x874)](this['vectorDatabases']),'graphDatabases':Object[_0x34b1e6(0x874)](this[_0x34b1e6(0x3c0)]),'externalStorages':Object['fromEntries'](this['externalStorages'])};}['addRemoteNode'](_0x4db0bd){const _0x9b859b=_0x2d5032;this[_0x9b859b(0x7dc)][_0x9b859b(0x687)](_0x4db0bd,new _0x325af9());}[_0x2d5032(0x7fe)](_0x13dec2){const _0x5d8efd=_0x2d5032;this[_0x5d8efd(0x7dc)][_0x5d8efd(0x113)](_0x13dec2);}[_0x2d5032(0x5f2)](_0x56a809,_0x5d0108,_0x5d202b){const _0x485fad=_0x2d5032;_0x5d0108 instanceof Array||this[_0x485fad(0x6d9)](_0x56a809,_0x5d0108);const _0x13d429=this[_0x485fad(0x7dc)]['get'](_0x56a809)?.[_0x485fad(0x5f2)](_0x5d0108,_0x5d202b);_0x13d429&&this[_0x485fad(0x83a)][_0x485fad(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x485fad(0x2d5)],'content':{'type':_0x40aadf[_0x485fad(0x12e)],'data':{..._0x13d429,'nodeId':_0x56a809}}});}[_0x2d5032(0x3f2)](_0x1c25b0){const _0x11b2fa=_0x2d5032;this[_0x11b2fa(0x413)](_0x1c25b0[_0x11b2fa(0x203)]),this[_0x11b2fa(0x825)](_0x1c25b0[_0x11b2fa(0x918)]),this[_0x11b2fa(0x83a)][_0x11b2fa(0x849)]({'sourceId':_0x20f836,'messageType':_0x4bbd49[_0x11b2fa(0x2d5)],'content':{'type':_0x40aadf[_0x11b2fa(0x5da)],'data':{'STVolatility':this[_0x11b2fa(0x786)](),'DTVolatility':this[_0x11b2fa(0x180)]()}}});}[_0x2d5032(0x683)](_0x2d634f,_0x507345,_0x3ebebe){const _0x576b7c=_0x2d5032;switch(_0x507345){case _0x1ff5c6[_0x576b7c(0xa98)]:this[_0x576b7c(0x560)]['set'](_0x2d634f,_0x3ebebe);break;case _0x1ff5c6[_0x576b7c(0x848)]:this[_0x576b7c(0x647)][_0x576b7c(0x687)](_0x2d634f,_0x3ebebe);break;case _0x1ff5c6[_0x576b7c(0xa51)]:this[_0x576b7c(0x707)][_0x576b7c(0x687)](_0x2d634f,_0x3ebebe);break;case _0x1ff5c6[_0x576b7c(0x6f8)]:this[_0x576b7c(0x630)]['set'](_0x2d634f,_0x3ebebe);break;case _0x1ff5c6[_0x576b7c(0x3ea)]:this[_0x576b7c(0x33e)][_0x576b7c(0x687)](_0x2d634f,_0x3ebebe);break;case _0x1ff5c6[_0x576b7c(0x66a)]:this['vectorDatabases'][_0x576b7c(0x687)](_0x2d634f,_0x3ebebe);break;case _0x1ff5c6[_0x576b7c(0x847)]:this['graphDatabases'][_0x576b7c(0x687)](_0x2d634f,_0x3ebebe);break;case _0x1ff5c6[_0x576b7c(0x8cb)]:this[_0x576b7c(0x317)]['set'](_0x2d634f,_0x3ebebe);}}[_0x2d5032(0x6d6)](_0x4a104a){const _0x5efc82=_0x2d5032;this[_0x5efc82(0x83a)]=_0x4a104a;}[_0x2d5032(0x4ba)](){const _0x586e50=_0x2d5032;delete this[_0x586e50(0x83a)];}[_0x2d5032(0x786)](){const _0x3b75f1=_0x2d5032;return this[_0x3b75f1(0x2c4)]>0x0&&this[_0x3b75f1(0x2c4)]-_0x2ab361>0x0?(this[_0x3b75f1(0x2c4)]-_0x2ab361)/_0x2ab361:0x0;}[_0x2d5032(0x180)](){const _0x4019cd=_0x2d5032;return this[_0x4019cd(0x918)]>0x0&&this[_0x4019cd(0x918)]-0x64>0x0?(this[_0x4019cd(0x918)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x269394=_0x2d5032;let _0x2d85ce=0x0;return this['nodes'][_0x269394(0x3e9)](_0x1669d1=>{const _0x5e6a22=_0x269394;_0x2d85ce+=_0x1669d1[_0x5e6a22(0x48d)];}),_0x2d85ce;}[_0x2d5032(0x839)](){let _0x3cc117=0x0;return this['nodes']['forEach'](_0x2a918c=>{const _0xb72523=a0_0x11f8;_0x3cc117+=_0x2a918c[_0xb72523(0x9a2)];}),_0x3cc117;}[_0x2d5032(0x4a0)](){const _0xad91cb=_0x2d5032;let _0x1a8ce4=0x0;return this[_0xad91cb(0x7dc)][_0xad91cb(0x3e9)](_0x1af3f7=>{const _0x4f596c=_0xad91cb;_0x1a8ce4+=_0x1af3f7[_0x4f596c(0x947)];}),_0x1a8ce4;}[_0x2d5032(0x413)](_0x46654c){const _0x52ec1d=_0x2d5032;this[_0x52ec1d(0x2c4)]=_0x46654c;}[_0x2d5032(0x825)](_0x4917f2){const _0x219864=_0x2d5032;this[_0x219864(0x918)]=_0x4917f2;}[_0x2d5032(0x6d9)](_0x3de168,_0x57db61){const _0x2e9b89=_0x2d5032;switch(_0x57db61[_0x2e9b89(0x1b7)]){case _0x521099[_0x2e9b89(0xa4a)]:this[_0x2e9b89(0x4bf)](_0x3de168,_0x57db61);break;case _0x521099[_0x2e9b89(0x728)]:this[_0x2e9b89(0x774)](_0x3de168,_0x57db61);}}[_0x2d5032(0x4bf)](_0x104336,_0xa74997){const _0x1dc756=_0x2d5032;this['senderTotalMessages']['set'](_0x104336,_0xa74997[_0x1dc756(0x658)]),this[_0x1dc756(0x964)][_0x1dc756(0x687)](_0x104336,_0xa74997[_0x1dc756(0x910)]);}[_0x2d5032(0x774)](_0x2b9624,_0x5b655e){const _0x3b9a2d=_0x2d5032;this['receiverTotalMessages'][_0x3b9a2d(0x687)](_0x2b9624,_0x5b655e[_0x3b9a2d(0x5be)]),this['receiverTimeProcessing'][_0x3b9a2d(0x687)](_0x2b9624,_0x5b655e['timeReceiving']),this[_0x3b9a2d(0x51d)][_0x3b9a2d(0x687)](_0x2b9624,_0x5b655e[_0x3b9a2d(0x51d)]);}}class _0x156dfc{[_0x2d5032(0x47c)];[_0x2d5032(0x8c2)]=new Set();['nextNodeId'];[_0x2d5032(0x8c6)];[_0x2d5032(0x81a)];[_0x2d5032(0x9f7)]=new _0x31ac5e();constructor(_0x433309){const _0x4ef48f=_0x2d5032;this[_0x4ef48f(0x47c)]=_0x433309,this[_0x4ef48f(0x47c)][_0x4ef48f(0x6e0)][_0x4ef48f(0x23e)](this['statsReport']),this['statsCollection']=this[_0x4ef48f(0xada)](),this[_0x4ef48f(0x81a)]=this[_0x4ef48f(0x93d)]();}[_0x2d5032(0x8d0)](){const _0x417bdc=_0x2d5032;this[_0x417bdc(0x47c)]['mediator'][_0x417bdc(0x5c3)](this[_0x417bdc(0x9f7)]),this[_0x417bdc(0x81a)](),this[_0x417bdc(0x8c6)]();}[_0x2d5032(0x1fa)](_0x270d15){const _0x194c5f=_0x2d5032;this['remoteNodes'][_0x194c5f(0x5e6)](_0x270d15),this['statsReport'][_0x194c5f(0x1fa)](_0x270d15);}[_0x2d5032(0x7fe)](_0x33f11b){const _0x21a1f2=_0x2d5032;this[_0x21a1f2(0x8c2)][_0x21a1f2(0x113)](_0x33f11b),this[_0x21a1f2(0x9f7)][_0x21a1f2(0x7fe)](_0x33f11b);}['handlePeerConnectionSystemEvents'](_0x433dd0){const _0x535d14=_0x2d5032;if(_0x433dd0[_0x535d14(0x3ab)]['type']===_0x14b6a1[_0x535d14(0x2d5)]){const {nodeId:_0x4b7cf1,streamId:_0x142969,stats:_0x808629}=_0x433dd0['content'];this[_0x535d14(0x9f7)][_0x535d14(0x5f2)](_0x4b7cf1,_0x808629,_0x142969);}}['handleContentSystemEvents'](_0x245224){const _0x13bdaa=_0x2d5032;switch(_0x245224['content'][_0x13bdaa(0xa7e)]){case _0x1ff5c6[_0x13bdaa(0x848)]:case _0x1ff5c6[_0x13bdaa(0xa51)]:case _0x1ff5c6[_0x13bdaa(0xa98)]:case _0x1ff5c6[_0x13bdaa(0x6f8)]:case _0x1ff5c6[_0x13bdaa(0x3ea)]:case _0x1ff5c6['VectorDatabaseStats']:case _0x1ff5c6[_0x13bdaa(0x847)]:case _0x1ff5c6[_0x13bdaa(0x8cb)]:this[_0x13bdaa(0x9f7)][_0x13bdaa(0x683)](_0x245224['content'][_0x13bdaa(0x32e)],_0x245224[_0x13bdaa(0x3ab)]['type'],_0x245224[_0x13bdaa(0x3ab)][_0x13bdaa(0x336)]);}}[_0x2d5032(0x93d)](){const _0x18ce34=_0x2d5032;return _0x461db3[_0x18ce34(0x509)](()=>{const _0x1f1e99=_0x18ce34,_0x1b5d02=this[_0x1f1e99(0x9f7)]['getReport']();_0x27f628[_0x1f1e99(0x107)](_0x53d5c4[_0x1f1e99(0x2d5)],_0x1f1e99(0x87b),_0x1b5d02),(0x0,_0x4538fe[_0x1f1e99(0x414)])((0x0,_0x4538fe[_0x1f1e99(0x1b1)])(_0x2f80ec[_0x1f1e99(0x2af)](),'developers/'+this[_0x1f1e99(0x47c)][_0x1f1e99(0x514)]+_0x1f1e99(0x7a4)),{'clusterId':this[_0x1f1e99(0x47c)][_0x1f1e99(0xa46)],'nodeId':this['configs'][_0x1f1e99(0x6ff)][_0x1f1e99(0x5cd)](),'nodeType':this[_0x1f1e99(0x47c)]['localNode'][_0x1f1e99(0xa7e)],'timestamp':(0x0,_0x4538fe['serverTimestamp'])(),'report':_0x1b5d02}),_0x27f628[_0x1f1e99(0xf0)](_0x1f1e99(0x336),{'clusterId':this[_0x1f1e99(0x47c)][_0x1f1e99(0xa46)],'nodeId':this['configs'][_0x1f1e99(0x6ff)]['getId'](),'nodeType':this[_0x1f1e99(0x47c)]['localNode'][_0x1f1e99(0xa7e)],'data':{'report':_0x1b5d02}});},_0x653a17);}[_0x2d5032(0xada)](){const _0x3ea8a0=_0x2d5032;let _0xfe644a=!0x1,_0xdb5e32=Date[_0x3ea8a0(0xa45)]();return _0x461db3[_0x3ea8a0(0x509)](async()=>{const _0x2f3007=_0x3ea8a0;if(_0xfe644a)return;if(_0xfe644a=!0x0,0x0===this[_0x2f3007(0x8c2)]['size'])return delete this[_0x2f3007(0xac8)],void(_0xfe644a=!0x1);const _0x282916=Date[_0x2f3007(0xa45)]();this[_0x2f3007(0x886)]();try{await this[_0x2f3007(0x47c)][_0x2f3007(0x6e0)][_0x2f3007(0x596)](this[_0x2f3007(0xac8)]);}catch(_0x305a31){}this['statsReport']['processLocalReport']({'secheduleTime':_0x282916-_0xdb5e32,'durationTime':Date[_0x2f3007(0xa45)]()-_0x282916}),_0xdb5e32=_0x282916,_0xfe644a=!0x1;},_0x2ab361);}[_0x2d5032(0x886)](){const _0x6ef3b3=_0x2d5032;let _0x55265e,_0x434253=!0x1;this['nextNodeId']&&(this[_0x6ef3b3(0x8c2)][_0x6ef3b3(0x290)](this[_0x6ef3b3(0xac8)])||delete this[_0x6ef3b3(0xac8)]);for(const _0x696c2c of this[_0x6ef3b3(0x8c2)])if(_0x55265e||(_0x55265e=_0x696c2c),this[_0x6ef3b3(0xac8)]!==_0x696c2c){if(_0x434253)return void(this[_0x6ef3b3(0xac8)]=_0x696c2c);}else _0x434253=!0x0,delete this[_0x6ef3b3(0xac8)];this['nextNodeId']||(this[_0x6ef3b3(0xac8)]=_0x55265e);}}class _0x27b9db{['source'];[_0x2d5032(0x43c)];['systemTopic'];constructor(_0x5a7342,_0x96a88){const _0x5b9563=_0x2d5032;this[_0x5b9563(0x3c6)]=_0x5a7342,this['destination']=_0x96a88;}[_0x2d5032(0x6d6)](_0x1c20ba){const _0x4fb220=_0x2d5032;this[_0x4fb220(0x83a)]=_0x1c20ba;}[_0x2d5032(0x4ba)](){const _0x12ec17=_0x2d5032;delete this[_0x12ec17(0x83a)];}}class _0x2dd4cd extends _0x27b9db{[_0x2d5032(0x3c6)];[_0x2d5032(0x43c)];[_0x2d5032(0x835)];constructor(_0x3d6ac9,_0xb2eeca,_0x2616a6){const _0x13e10f=_0x2d5032;super(_0x3d6ac9,_0xb2eeca),this[_0x13e10f(0x3c6)]=_0x3d6ac9,this['destination']=_0xb2eeca,this[_0x13e10f(0x835)]=_0x2616a6;}[_0x2d5032(0x75b)](_0x3a32cc,_0x5ee1fb,_0x31babb){const _0x1750ae=_0x2d5032;if(this['destination'][_0x1750ae(0x98e)]()===_0x1a575a[_0x1750ae(0x979)][_0x1750ae(0xa50)]){const _0x38a4c4={'type':_0x5c5086['SubscribeMediaStream'],'label':this['destination']['getLabel'](),'ownerId':_0x3a32cc,'trackKinds':_0x5ee1fb??this[_0x1750ae(0x43c)][_0x1750ae(0x405)](),'params':_0x31babb};this[_0x1750ae(0x83a)][_0x1750ae(0x849)]({'sourceId':this[_0x1750ae(0x3c6)][_0x1750ae(0x4a4)](),'destinationIds':[this[_0x1750ae(0x3c6)]['getRemoteId']()],'messageType':_0x4bbd49[_0x1750ae(0x431)],'content':_0x38a4c4}),this['params']=_0x31babb;}}[_0x2d5032(0x963)](_0x395798,_0x4a8e93){const _0x47ef5e=_0x2d5032;if(this[_0x47ef5e(0x43c)][_0x47ef5e(0x98e)]()===_0x1a575a[_0x47ef5e(0x979)]['Media']){const _0x2b40d0={'type':_0x5c5086[_0x47ef5e(0xa39)],'label':this['destination'][_0x47ef5e(0xa74)](),'ownerId':_0x395798,'params':_0x4a8e93};this[_0x47ef5e(0x83a)][_0x47ef5e(0x849)]({'sourceId':this['source'][_0x47ef5e(0x4a4)](),'destinationIds':[this[_0x47ef5e(0x3c6)][_0x47ef5e(0x5f1)]()],'messageType':_0x4bbd49[_0x47ef5e(0x431)],'content':_0x2b40d0}),this['params']=_0x4a8e93;}}[_0x2d5032(0x3c5)](_0x163ae2,_0xc77fea,_0x1b4c93){const _0x2d8dc7=_0x2d5032;if(this[_0x2d8dc7(0x43c)][_0x2d8dc7(0x98e)]()===_0x1a575a[_0x2d8dc7(0x979)][_0x2d8dc7(0xa50)]){const _0x4c8b30={'type':_0x5c5086[_0x2d8dc7(0x465)],'label':this['destination']['getLabel'](),'ownerId':_0x163ae2,'trackKinds':_0x1b4c93??this[_0x2d8dc7(0x43c)][_0x2d8dc7(0x405)](),'remainingTracks':_0xc77fea};this['systemTopic'][_0x2d8dc7(0x849)]({'sourceId':this[_0x2d8dc7(0x3c6)]['getLocalId'](),'destinationIds':[this[_0x2d8dc7(0x3c6)][_0x2d8dc7(0x5f1)]()],'messageType':_0x4bbd49['Subscription'],'content':_0x4c8b30});}}}class _0x29f723{['currentDistance'];['maxDistance'];[_0x2d5032(0x11a)];['systemTopic'];[_0x2d5032(0x364)]=new Set();['startTime']=Date[_0x2d5032(0xa45)]();[_0x2d5032(0x835)];['retryCount']=0x0;constructor(_0x571f07,_0x283db6,_0x1643ec,_0x344610){const _0xff0f9d=_0x2d5032;this['currentDistance']=_0x283db6,this[_0xff0f9d(0x12b)]=_0x1643ec,this[_0xff0f9d(0x11a)]=_0x344610,_0x571f07[_0xff0f9d(0x3e9)](_0x5cf474=>{const _0x58a56e=_0xff0f9d;this[_0x58a56e(0x364)][_0x58a56e(0x5e6)]({'nodeId':_0x5cf474,'type':_0x2f9b42[_0x58a56e(0x1c0)]});});}[_0x2d5032(0xa87)](){const _0x20f2f2=_0x2d5032;return this[_0x20f2f2(0x11a)];}['registerSystemPublisher'](_0x1bd40f){this['systemTopic']=_0x1bd40f;}[_0x2d5032(0x4ba)](){const _0x177301=_0x2d5032;delete this[_0x177301(0x83a)];}['reset'](_0x1f4903,_0x4e2952){const _0x55f921=_0x2d5032;this[_0x55f921(0x7ec)]=Date[_0x55f921(0xa45)](),this['answers'][_0x55f921(0x24b)](),_0x1f4903[_0x55f921(0x3e9)](_0x3bd52b=>{const _0x40373a=_0x55f921;this[_0x40373a(0x364)][_0x40373a(0x5e6)]({'nodeId':_0x3bd52b,'type':_0x2f9b42[_0x40373a(0x1c0)]});}),this[_0x55f921(0x70c)]+=0x1,this[_0x55f921(0x1d9)]=_0x4e2952;}[_0x2d5032(0x854)](_0x335cba,_0x419991,_0x11ea21,_0x57d54c,_0x1479ad){const _0x5474f2=_0x2d5032;if(this[_0x5474f2(0x70c)]>0xa)throw new _0x54e1a8(_0x54e1a8[_0x5474f2(0x318)][_0x5474f2(0x422)],{'answers':Array[_0x5474f2(0x8ee)](this['answers'])[_0x5474f2(0x247)](_0x551d2f=>({'nodeId':_0x551d2f[_0x5474f2(0xa3c)],'type':_0x551d2f['type']}))});const _0xb5fd29=Array[_0x5474f2(0x8ee)](this[_0x5474f2(0x364)])['map'](_0x5c2ce4=>_0x5c2ce4[_0x5474f2(0xa3c)]);this[_0x5474f2(0x835)]=_0x1479ad,this[_0x5474f2(0x83a)]['publish']({'sourceId':_0x335cba,'destinationIds':_0xb5fd29,'messageType':_0x4bbd49[_0x5474f2(0x431)],'content':{'type':_0x5c5086[_0x5474f2(0x751)],'label':_0x11ea21,'ownerId':_0x419991,'trackKinds':_0x57d54c,'params':_0x1479ad}}),_0x27f628['log'](_0x53d5c4[_0x5474f2(0x431)],_0x5474f2(0x258),_0x335cba,_0xb5fd29);}[_0x2d5032(0x4e5)](_0x4de973,_0x51b217){const _0x4aa944=_0x2d5032;switch(_0x51b217[_0x4aa944(0xa7e)]){case _0x5c5086['CanProvideMediaStream']:{const _0x4a492a=this['currentDistance']>=_0x51b217[_0x4aa944(0x83e)]&&_0x51b217[_0x4aa944(0x83e)]<=this['maxDistance'],_0x446ba2=Array[_0x4aa944(0x8ee)](this[_0x4aa944(0x364)])[_0x4aa944(0x91b)](_0x3ccfb5=>_0x3ccfb5['nodeId']===_0x4de973);_0x446ba2['type']=_0x4a492a?_0x2f9b42['Accepted']:_0x2f9b42[_0x4aa944(0x145)],_0x446ba2[_0x4aa944(0x10e)]=_0x51b217[_0x4aa944(0x10e)],_0x446ba2[_0x4aa944(0x83e)]=_0x51b217[_0x4aa944(0x83e)],_0x446ba2[_0x4aa944(0x553)]=_0x51b217[_0x4aa944(0x553)],_0x446ba2[_0x4aa944(0x8e2)]=Date['now']()-this[_0x4aa944(0x7ec)],_0x446ba2[_0x4aa944(0x835)]=this[_0x4aa944(0x835)],_0x446ba2[_0x4aa944(0x9ad)]=_0x51b217[_0x4aa944(0x9ad)],_0x446ba2[_0x4aa944(0x47d)]=_0x51b217[_0x4aa944(0x47d)],_0x446ba2[_0x4aa944(0x873)]=_0x51b217['label'],_0x27f628[_0x4aa944(0x107)](_0x53d5c4[_0x4aa944(0x431)],(_0x4a492a?_0x4aa944(0x5af):_0x4aa944(0x145))+_0x4aa944(0x811),_0x446ba2);break;}case _0x5c5086[_0x4aa944(0x1ed)]:{const _0x19df69=Array[_0x4aa944(0x8ee)](this['answers'])[_0x4aa944(0x91b)](_0x38740c=>_0x38740c['nodeId']===_0x4de973);_0x19df69[_0x4aa944(0xa7e)]=_0x2f9b42[_0x4aa944(0x145)],_0x27f628[_0x4aa944(0x107)](_0x53d5c4[_0x4aa944(0x431)],_0x4aa944(0x157),_0x19df69);break;}}if(this['canChooseAnswer']())return this[_0x4aa944(0x31a)]();}['chooseAnswer'](){const _0x3df51d=_0x2d5032,_0x1d1014=Array[_0x3df51d(0x8ee)](this[_0x3df51d(0x364)])[_0x3df51d(0xa9f)](_0x2e70f2=>_0x2e70f2[_0x3df51d(0xa7e)]===_0x2f9b42['Accepted'])['sort']((_0x4a43ca,_0x19b51f)=>_0x4a43ca[_0x3df51d(0x10e)]===_0x19b51f['cost']?_0x4a43ca[_0x3df51d(0x8e2)]-_0x19b51f[_0x3df51d(0x8e2)]:_0x4a43ca[_0x3df51d(0x10e)]-_0x19b51f[_0x3df51d(0x10e)]);if(0x0===_0x1d1014['length'])throw new _0x54e1a8(_0x54e1a8[_0x3df51d(0x318)][_0x3df51d(0x422)],{'answers':Array[_0x3df51d(0x8ee)](this[_0x3df51d(0x364)])[_0x3df51d(0x247)](_0x4bf3ea=>({'nodeId':_0x4bf3ea[_0x3df51d(0xa3c)],'type':_0x4bf3ea[_0x3df51d(0xa7e)]}))});return _0x27f628[_0x3df51d(0x107)](_0x53d5c4[_0x3df51d(0x431)],'Chosen\x20answer',_0x1d1014[0x0],this[_0x3df51d(0x364)]),_0x1d1014[0x0];}[_0x2d5032(0xa8e)](){const _0x2dff3b=_0x2d5032;for(const _0x2b8812 of this[_0x2dff3b(0x364)])if(_0x2b8812[_0x2dff3b(0xa7e)]===_0x2f9b42['Waiting'])return!0x1;return!0x0;}}class _0x45c008{['label'];[_0x2d5032(0x255)];[_0x2d5032(0x42b)]=_0x2d1ffa();constructor(_0x2065d4,_0x317d8d){const _0xb0754f=_0x2d5032;this[_0xb0754f(0x32e)]=_0x2065d4,this[_0xb0754f(0x255)]=_0x317d8d;}[_0x2d5032(0xa74)](){const _0x285766=_0x2d5032;return this[_0x285766(0x32e)];}[_0x2d5032(0x98e)](){const _0x1a2196=_0x2d5032;return this[_0x1a2196(0x255)];}[_0x2d5032(0xa9c)](_0x509572){_0x509572['registerPublisher'](this);}[_0x2d5032(0x2f5)](_0x584277){const _0x216f13=_0x2d5032;_0x584277[_0x216f13(0x2e5)](this);}['publish'](_0x2220f6){const _0x2cff9=_0x2d5032;this[_0x2cff9(0x42b)][_0x2cff9(0x849)]({'topicLabel':this['label'],'contentType':this[_0x2cff9(0x255)],'uuid':(0x0,_0x1fd9e4['v4'])(),'recipients':[],..._0x2220f6});}['subscribe'](_0x41ef6b){const _0xfad123=_0x2d5032;return this[_0xfad123(0x42b)][_0xfad123(0x75b)](_0x41ef6b);}[_0x2d5032(0x4fc)](_0x3c29fb){const _0x58f76d=_0x2d5032;_0x3c29fb[_0x58f76d(0xa8c)](this);}['unregisterDestination'](_0x4d4fe1){_0x4d4fe1['unregisterSubscriber'](this);}}class _0x899c57{[_0x2d5032(0x282)]={'topics':new Map(),'subscriptions':new Map()};[_0x2d5032(0x8d4)];constructor(_0x48becb){this['getPartsFromSubscription']=_0x48becb;}get[_0x2d5032(0x3bf)](){const _0x366157=_0x2d5032;return this[_0x366157(0x282)][_0x366157(0x3bf)];}get[_0x2d5032(0x54b)](){const _0x27f15a=_0x2d5032;return this['maps'][_0x27f15a(0x54b)];}[_0x2d5032(0x879)](_0x1670dc,_0x486a70){const _0x1e7eba=_0x2d5032,_0x588dc0=this['getPartsFromSubscription'](_0x486a70),_0x4854ba=_0x51c9c8(_0x1670dc);if(!_0x588dc0['supportsContentType'])throw new _0x54e1a8(_0x54e1a8[_0x1e7eba(0x318)][_0x1e7eba(0x15e)],{'message':_0x4854ba+':\x20'+_0x588dc0[_0x1e7eba(0x4b4)]+_0x1e7eba(0x98c)+_0x588dc0[_0x1e7eba(0x255)],'subscriptionType':_0x1670dc,'subscription':_0x486a70,'subscriptonParts':_0x588dc0});const _0x19e65f=_0x53fdcd(_0x1670dc,_0x588dc0);if(this[_0x1e7eba(0x282)][_0x1e7eba(0x3bf)][_0x1e7eba(0x290)](_0x19e65f))throw new _0x54e1a8(_0x54e1a8[_0x1e7eba(0x318)][_0x1e7eba(0x15e)],{'message':_0x4854ba+':\x20'+_0x19e65f+'\x20already\x20exists','subscriptionType':_0x1670dc,'subscription':_0x486a70,'subscriptonParts':_0x588dc0});this[_0x1e7eba(0x282)][_0x1e7eba(0x3bf)][_0x1e7eba(0x687)](_0x19e65f,_0x486a70),this[_0x1e7eba(0x741)](_0x588dc0,_0x486a70);}['removeSubscription'](_0xa34d95,_0x443137){const _0x3e0b8b=_0x2d5032,_0x5590f7=_0x53fdcd(_0x443137,_0xa34d95),_0x573c70=this[_0x3e0b8b(0x282)][_0x3e0b8b(0x3bf)][_0x3e0b8b(0x13f)](_0x5590f7);if(!_0x573c70)throw new _0x54e1a8(_0x54e1a8[_0x3e0b8b(0x318)][_0x3e0b8b(0x15e)],{'message':_0x51c9c8(_0x443137)+':\x20'+_0x5590f7+_0x3e0b8b(0x51f),'subscriptionType':_0x443137,'subscription':_0x573c70,'subscriptonParts':_0xa34d95});this[_0x3e0b8b(0x79e)](_0x573c70,_0x5590f7,_0xa34d95);}[_0x2d5032(0x79e)](_0x1dd273,_0x1b45e1,_0x100a0c){const _0x486f13=_0x2d5032;_0x100a0c=_0x100a0c||this[_0x486f13(0x8d4)](_0x1dd273),this[_0x486f13(0x282)][_0x486f13(0x3bf)][_0x486f13(0x113)](_0x1b45e1),this['removeTopic'](_0x100a0c,_0x1dd273);}[_0x2d5032(0x741)](_0x3e6605,{source:_0x12068a,destination:_0x363cb9}){const _0xe7f1ae=_0x2d5032,{contentType:_0x294053,label:_0x465e4f,remoteId:_0xff6238}=_0x3e6605,_0x357fb9=_0x16a530(_0x294053,_0x465e4f,_0xff6238),_0x27cb3a=new _0x45c008(_0x357fb9,_0x294053);_0x27cb3a['registerSource'](_0x12068a),_0x27cb3a['registerDestination'](_0x363cb9),this[_0xe7f1ae(0x282)][_0xe7f1ae(0x54b)][_0xe7f1ae(0x687)](_0x27cb3a[_0xe7f1ae(0xa74)](),_0x27cb3a);}['removeTopic'](_0x5d7575,_0x7945e3){const _0x4d326f=_0x2d5032,{contentType:_0x4767eb,label:_0x772728,remoteId:_0x4b415d}=_0x5d7575,_0xb3ed8e=_0x16a530(_0x4767eb,_0x772728,_0x4b415d),_0x2816b6=this[_0x4d326f(0x282)]['topics']['get'](_0xb3ed8e);_0x2816b6&&(this[_0x4d326f(0x6e5)](_0x2816b6,_0x7945e3),this[_0x4d326f(0x282)]['topics'][_0x4d326f(0x113)](_0xb3ed8e));}[_0x2d5032(0x6e5)](_0xa1e83,{source:_0x462a75,destination:_0x3bf89a}){const _0x10af2b=_0x2d5032;_0xa1e83[_0x10af2b(0x4fc)](_0x462a75),_0xa1e83[_0x10af2b(0x5d3)](_0x3bf89a);}[_0x2d5032(0x2ea)](_0x13fac5){this['maps']['subscriptions']['forEach']((_0x50a929,_0x88c31)=>{const _0xa99f05=a0_0x11f8;_0x88c31[_0xa99f05(0xade)](_0x13fac5)&&this[_0xa99f05(0x79e)](_0x50a929,_0x88c31);});}}class _0x9eae82{[_0x2d5032(0x47c)];[_0x2d5032(0x12b)];[_0x2d5032(0x346)]=new Map();[_0x2d5032(0x53e)]=_0x435c7a(new _0x4872f1(this[_0x2d5032(0xa75)][_0x2d5032(0x830)](this),()=>_0x461db3[_0x2d5032(0x16f)](0x64)),!0x0);[_0x2d5032(0x61b)]=new Map();[_0x2d5032(0x282)];['chosenAnswers']=new Map();constructor(_0xbae007,_0x52f385){const _0x288154=_0x2d5032;this[_0x288154(0x47c)]=_0xbae007,this[_0x288154(0x12b)]=_0x52f385,this[_0x288154(0x282)]=new _0x899c57(({source:_0x373a32,destination:_0x39c3db})=>_0x492045(_0x39c3db,_0x373a32));}[_0x2d5032(0x879)](_0x4766bb,_0x398e0d){const _0x86e061=_0x2d5032,_0x56705b=this[_0x86e061(0x5e7)](_0x4766bb)&&this['isMediaDestination'](_0x398e0d)?new _0x2dd4cd(_0x4766bb,_0x398e0d):new _0x27b9db(_0x4766bb,_0x398e0d);this['maps']['createSubscription'](_0x4388c7['Incoming'],_0x56705b),this[_0x86e061(0x47c)][_0x86e061(0x6e0)][_0x86e061(0x23e)](_0x56705b);}[_0x2d5032(0x7b2)](_0x115fe8,_0x1ffc9a,_0x627590=''){const _0x5ee3af=_0x2d5032,_0x34d3ef={'contentType':_0x1ffc9a,'label':_0x115fe8,'remoteId':_0x627590},_0x2a5c8e=_0x53fdcd(_0x4388c7[_0x5ee3af(0x61e)],_0x34d3ef),_0x17d9e9=this[_0x5ee3af(0x282)][_0x5ee3af(0x3bf)][_0x5ee3af(0x13f)](_0x2a5c8e);_0x17d9e9&&this[_0x5ee3af(0x79e)](_0x17d9e9,_0x2a5c8e);}['handleContentUnpublishMediaStream'](_0xf8df37){const _0x545b2b=_0x2d5032;this[_0x545b2b(0x163)](_0xf8df37);}['handleContentSubscribeMediaStream']({label:_0x3a9b46,ownerId:_0x486795,trackKinds:_0x51c4b8,params:_0x2dbb37}){this['requestSubscription'](_0x3a9b46,_0x486795,_0x51c4b8,_0x2dbb37);}['handleContentUpdateMediaStream']({ownerId:_0x3f135a,label:_0x4301c2,params:_0x2d6acc}){const _0x5e0e97=_0x2d5032,{subscriptionLabel:_0x10b798}=this[_0x5e0e97(0xae2)](_0x4301c2,_0x3f135a),_0x142c38=this[_0x5e0e97(0x62b)](_0x10b798);_0x142c38&&_0x142c38[_0x5e0e97(0x963)](_0x3f135a,_0x2d6acc);}[_0x2d5032(0x459)]({ownerId:_0x31569a,label:_0x29ca91,trackKinds:_0x1d37be,remainingTracks:_0xfdc64d}){const _0x16917a=_0x2d5032,_0x281652=_0x53fdcd(_0x4388c7[_0x16917a(0x61e)],{'contentType':_0x1a575a[_0x16917a(0x979)][_0x16917a(0xa50)],'label':_0x29ca91,'remoteId':_0x31569a});this[_0x16917a(0xab6)](_0x281652);const _0x94bada=this['subscriptionRequests'][_0x16917a(0x13f)](_0x281652);_0x94bada&&(this[_0x16917a(0x47c)]['mediator'][_0x16917a(0x5c3)](_0x94bada),this[_0x16917a(0x346)][_0x16917a(0x113)](_0x281652));const {parts:_0x2b60f7,subscriptionLabel:_0x2844e2}=this['getSubscriptionLabel'](_0x29ca91,_0x31569a),_0x2bb26f=this[_0x16917a(0x62b)](_0x2844e2);_0x2bb26f&&(_0x2bb26f[_0x16917a(0x3c5)](_0x31569a,_0xfdc64d,_0x1d37be),0x0===_0xfdc64d&&this['removeSubscription'](_0x2b60f7[_0x16917a(0x32e)],_0x2b60f7['contentType'],_0x2b60f7[_0x16917a(0x4b4)]));}[_0x2d5032(0x7b1)](_0x3d32ee,{label:_0x56b22e,ownerId:_0x43c7fd,trackKinds:_0x567c8c,streamId:_0x2c8058,params:_0x10bf16}){const _0x56576d=_0x2d5032,_0x1cde43=_0x53fdcd(_0x4388c7[_0x56576d(0x61e)],{'contentType':_0x1a575a[_0x56576d(0x979)][_0x56576d(0xa50)],'label':_0x2c8058,'remoteId':_0x3d32ee}),_0x337fba=this[_0x56576d(0x282)]['subscriptions'][_0x56576d(0x13f)](_0x1cde43);if(!(_0x337fba&&_0x337fba instanceof _0x2dd4cd))throw new _0x54e1a8(_0x54e1a8['codes'][_0x56576d(0x2e9)],{'label':_0x1cde43,'ownerId':_0x43c7fd});this[_0x56576d(0x79e)](_0x337fba,_0x1cde43),this[_0x56576d(0xa38)](_0x56b22e,_0x43c7fd,_0x567c8c,_0x10bf16);}[_0x2d5032(0x6f7)](_0x5f25a4,_0x27b9e4){const _0x51f814=_0x2d5032,{label:_0x1b7d4e,ownerId:_0x36f8f9,trackKinds:_0x458a34,params:_0x402052}=_0x27b9e4,_0x204c1c=_0x53fdcd(_0x4388c7['Incoming'],{'contentType':_0x1a575a[_0x51f814(0x979)]['Media'],'label':_0x1b7d4e,'remoteId':_0x36f8f9});if(!this['subscriptionRequests'][_0x51f814(0x290)](_0x204c1c))throw new _0x54e1a8(_0x54e1a8['codes'][_0x51f814(0x2e9)],{'label':_0x204c1c,'ownerId':_0x36f8f9,'streamId':_0x27b9e4[_0x51f814(0x553)],'requests':this[_0x51f814(0x346)]});const _0x224f83=this[_0x51f814(0x346)][_0x51f814(0x13f)](_0x204c1c);if(_0x458a34[_0x51f814(0x80e)]===_0x224f83[_0x51f814(0xa87)]()[_0x51f814(0x80e)]&&_0x458a34['every'](_0x4ec6bc=>_0x224f83[_0x51f814(0xa87)]()[_0x51f814(0x21f)](_0x4ec6bc)))try{const _0x44772d=_0x224f83[_0x51f814(0x4e5)](_0x5f25a4,_0x27b9e4);if(!_0x44772d)return;this['subscribe'](_0x44772d,_0x36f8f9,_0x1b7d4e,_0x204c1c,_0x458a34);}catch(_0x4abca1){return void this['handleNoAnswer'](_0x1b7d4e,_0x36f8f9,_0x458a34,_0x402052);}}[_0x2d5032(0x76b)](_0x5626f8,{label:_0x15c5e7,ownerId:_0x4e14d1,trackKinds:_0x197115}){const _0x4b0c17=_0x2d5032,_0x4185d8=this[_0x4b0c17(0x47c)]['mediator']['getRemoteMediaStream'](_0x4e14d1,_0x15c5e7);if(!_0x4185d8)return;const _0x1ea6c0=_0x4185d8['getInternalStreamId'](),_0x405222=_0x4185d8[_0x4b0c17(0x4c6)]();_0x405222[_0x4b0c17(0x4f0)](_0x7ebc52=>_0x197115[_0x4b0c17(0x21f)](_0x7ebc52))&&this[_0x4b0c17(0x3d6)](_0x5626f8,_0x15c5e7,_0x1ea6c0,_0x4e14d1,_0x405222);}[_0x2d5032(0x969)]({label:_0x4dbb15,providerId:_0x3dba53,ownerId:_0x4116b6,streamId:_0x3d5fa2,trackKinds:_0x2b3b76}){const _0x55b8be=_0x2d5032;this[_0x55b8be(0x3d6)](_0x3dba53,_0x4dbb15,_0x3d5fa2,_0x4116b6,_0x2b3b76);}['handleOptimizationConnectionSuccess'](_0x23173c){const _0x2e8459=_0x2d5032;for(const _0xe412c9 of this[_0x2e8459(0xaf9)][_0x2e8459(0xa94)]()){const {streamLabel:_0x18b434,ownerId:_0x3367fa,trackKinds:_0x36ab32,params:_0x2a6ae1}=_0xe412c9;if(!_0x3367fa||!_0x36ab32||!_0x18b434)return;this[_0x2e8459(0x53e)][_0x2e8459(0x806)]({'label':_0x18b434,'ownerId':_0x3367fa,'trackKinds':_0x36ab32,'params':_0x2a6ae1,'remoteId':_0x23173c});}}[_0x2d5032(0x2ea)](_0x2ba409){const _0x1c6f1f=_0x2d5032;this[_0x1c6f1f(0x282)][_0x1c6f1f(0x3bf)]['forEach']((_0x59ba1d,_0x5d82bd)=>{const _0x3a2d21=_0x1c6f1f;if(_0x5d82bd['endsWith'](_0x2ba409)){if(_0x59ba1d[_0x3a2d21(0x43c)][_0x3a2d21(0x98e)]()===_0x1a575a[_0x3a2d21(0x979)][_0x3a2d21(0xa50)]){const _0x505c0b=_0x59ba1d[_0x3a2d21(0x43c)];if(_0x505c0b['getSubscribedTracks']()['length']>0x0){const _0x30501e={'type':_0x5c5086[_0x3a2d21(0x749)],'label':_0x505c0b[_0x3a2d21(0xa74)](),'ownerId':_0x505c0b['getOwnerId'](),'trackKinds':_0x505c0b['getSubscribedTracks']()};return void this['handleSubscriptionMediaStreamUnavailable'](_0x2ba409,_0x30501e);}}this[_0x3a2d21(0x79e)](_0x59ba1d,_0x5d82bd);}});}[_0x2d5032(0x8d0)](){const _0xdcb73e=_0x2d5032;this[_0xdcb73e(0x282)][_0xdcb73e(0x3bf)][_0xdcb73e(0x3e9)](this['closeSubscription'][_0xdcb73e(0x830)](this));}['subscribe'](_0x2e523a,_0x46cc85,_0x7d46f9,_0x594691,_0x13c1bf){const _0x35317c=_0x2d5032,_0x45c2ee=this['configs']['mediator'][_0x35317c(0x8ae)](_0x2e523a[_0x35317c(0xa3c)]),_0x4f3dd1=this['configs']['mediator'][_0x35317c(0x62c)](_0x46cc85,_0x7d46f9);this[_0x35317c(0xab6)](_0x594691),this[_0x35317c(0x346)][_0x35317c(0x290)](_0x594691)&&(this[_0x35317c(0x47c)][_0x35317c(0x6e0)]['unregisterSystemSource'](this[_0x35317c(0x346)]['get'](_0x594691)),this['subscriptionRequests'][_0x35317c(0x113)](_0x594691)),this[_0x35317c(0x47a)](_0x2e523a,_0x46cc85,_0x7d46f9,_0x4f3dd1),_0x4f3dd1[_0x35317c(0x1f8)](_0x2e523a[_0x35317c(0x553)]),_0x4f3dd1[_0x35317c(0x2a6)](_0x2e523a[_0x35317c(0xa3c)]);const _0x53c3ee=_0x492045(_0x4f3dd1,_0x45c2ee),_0x116183=_0x53fdcd(_0x4388c7[_0x35317c(0x61e)],_0x53c3ee);this[_0x35317c(0x282)][_0x35317c(0x3bf)][_0x35317c(0x290)](_0x116183)||this[_0x35317c(0x879)](_0x45c2ee,_0x4f3dd1);const _0x15650b=this[_0x35317c(0x282)][_0x35317c(0x3bf)][_0x35317c(0x13f)](_0x116183);if(!(_0x15650b&&_0x15650b instanceof _0x2dd4cd))throw new _0x54e1a8(_0x54e1a8[_0x35317c(0x318)][_0x35317c(0x2e9)],{'label':_0x594691,'ownerId':_0x46cc85});_0x27f628['logEvent'](_0x35317c(0x2a9),{'clusterId':this[_0x35317c(0x47c)][_0x35317c(0xa46)],'nodeId':this[_0x35317c(0x47c)][_0x35317c(0x6ff)][_0x35317c(0x5cd)](),'nodeType':this[_0x35317c(0x47c)]['localNode'][_0x35317c(0xa7e)],'data':{'subscriptionLabel':_0x116183,'chosenAnswer':_0x2e523a}}),this[_0x35317c(0xaf9)]['set'](_0x116183,_0x2e523a),_0x15650b['subscribe'](_0x46cc85,_0x13c1bf,_0x2e523a['params']);}[_0x2d5032(0x163)]({ownerId:_0x195b34,label:_0x17df9e}){const _0x10a269=_0x2d5032,_0x65f13b=this['configs'][_0x10a269(0x6e0)][_0x10a269(0x62c)](_0x195b34,_0x17df9e),[_0x2bfc8f,_0x52943d]=Array[_0x10a269(0x8ee)](this[_0x10a269(0x282)][_0x10a269(0x3bf)][_0x10a269(0x419)]())['find'](([_0x367f3a,_0xc033a2])=>-0x1!==_0x367f3a[_0x10a269(0x776)](_0x65f13b['getInternalStreamId']()));return this[_0x10a269(0x79e)](_0x52943d,_0x2bfc8f);}[_0x2d5032(0x79e)](_0xc9241e,_0x414449){const _0x293e64=_0x2d5032;this[_0x293e64(0x47c)][_0x293e64(0x6e0)][_0x293e64(0x5c3)](_0xc9241e),this[_0x293e64(0x282)][_0x293e64(0x79e)](_0xc9241e,_0x414449);}[_0x2d5032(0x5e7)](_0x2b1058){const _0x3d1034=_0x2d5032;return _0x2b1058[_0x3d1034(0x17a)]()['includes'](_0x1a575a[_0x3d1034(0x979)][_0x3d1034(0xa50)]);}[_0x2d5032(0x748)](_0x32ce98){const _0x5a7ca2=_0x2d5032;return _0x32ce98[_0x5a7ca2(0x98e)]()===_0x1a575a['ContentType'][_0x5a7ca2(0xa50)];}async[_0x2d5032(0x743)](_0xb84459,_0x300b99,_0x52cd0b,_0x4b9b57){const _0x2b786b=_0x2d5032;await _0x461db3['wait'](0x3e8);const _0x18105a=_0x53fdcd(_0x4388c7[_0x2b786b(0x61e)],{'contentType':_0x1a575a[_0x2b786b(0x979)][_0x2b786b(0xa50)],'label':_0xb84459,'remoteId':_0x300b99});this['clearSubscriptionRequestTimeout'](_0x18105a);const _0x4f0c73=this[_0x2b786b(0x346)][_0x2b786b(0x13f)](_0x18105a);if(!_0x4f0c73)throw new _0x54e1a8(_0x54e1a8[_0x2b786b(0x318)][_0x2b786b(0x2e9)],{'label':_0x18105a,'ownerId':_0x300b99});const _0x59adf6=this[_0x2b786b(0x47c)]['mediator'][_0x2b786b(0x355)](_0x3cc149=>_0x3cc149[_0x2b786b(0x235)]()),_0x385979=this['configs'][_0x2b786b(0x6e0)]['getDistance'](this['configs'][_0x2b786b(0x6ff)][_0x2b786b(0x5cd)](),_0x300b99);_0x4f0c73['reset'](_0x59adf6[_0x2b786b(0x247)](_0x169e4e=>_0x169e4e[_0x2b786b(0x5f1)]()),_0x385979);try{_0x4f0c73[_0x2b786b(0x854)](this[_0x2b786b(0x47c)][_0x2b786b(0x6ff)][_0x2b786b(0x5cd)](),_0x300b99,_0xb84459,_0x52cd0b,_0x4b9b57),this[_0x2b786b(0x90d)](_0xb84459,_0x300b99,_0x52cd0b,_0x4b9b57,_0x18105a,_0x4f0c73);}catch(_0x38cbcb){this[_0x2b786b(0x53e)][_0x2b786b(0x806)]({'label':_0xb84459,'ownerId':_0x300b99,'trackKinds':_0x52cd0b,'params':_0x4b9b57});}}[_0x2d5032(0xa38)](_0x39dc0e,_0x18a61a,_0x1623f5,_0x5877b7){const _0x2123ec=_0x2d5032;this[_0x2123ec(0x53e)][_0x2123ec(0x806)]({'label':_0x39dc0e,'ownerId':_0x18a61a,'trackKinds':_0x1623f5,'params':_0x5877b7});}['requestSubscriptionAction']({label:_0x323e27,ownerId:_0x37de1b,trackKinds:_0x3feb64,params:_0x503cd9,remoteId:_0x276e4c}){const _0x23de81=_0x2d5032;if(!this[_0x23de81(0x47c)][_0x23de81(0x6e0)][_0x23de81(0x62c)](_0x37de1b,_0x323e27))return;if(!this['configs'][_0x23de81(0x6e0)][_0x23de81(0x22a)]()[_0x23de81(0xadc)]())throw new Error('Local\x20node\x20rank\x20is\x20not\x20set');if(_0x276e4c){const _0x287159=this['configs']['mediator'][_0x23de81(0x95b)]()[_0x23de81(0x91b)](_0x334d3f=>_0x334d3f[_0x23de81(0x5cd)]()===_0x276e4c),_0x544d31=_0x287159?.['getRank']();if(!_0x287159||!_0x544d31)throw new Error(_0x23de81(0xeb));const _0x574898=this[_0x23de81(0x47c)]['mediator']['getRemoteNodes']()[_0x23de81(0x91b)](_0x2d9eac=>_0x2d9eac[_0x23de81(0x5cd)]()===_0x37de1b),_0x210b5a=_0x574898?.[_0x23de81(0xadc)]();if(!_0x574898||!_0x210b5a)throw new Error(_0x23de81(0x51c));const _0x1e4484=this['chosenAnswers']['get'](_0x323e27);if(_0x1e4484){const _0x2d87a9=this[_0x23de81(0x47c)]['mediator'][_0x23de81(0x95b)]()[_0x23de81(0x91b)](_0xfd3ebf=>_0xfd3ebf[_0x23de81(0x5cd)]()===_0x1e4484[_0x23de81(0xa3c)]),_0x3c81d9=_0x2d87a9?.['getRank']();if(!_0x2d87a9||!_0x3c81d9)throw new Error(_0x23de81(0x895));if(Math['abs'](_0x3c81d9-_0x210b5a)<Math['abs'](_0x544d31-_0x210b5a))return;}}const _0x226933=this[_0x23de81(0x47c)][_0x23de81(0x6e0)][_0x23de81(0x355)](_0x313d0e=>_0x313d0e['isConnected']()&&(!_0x276e4c||_0x313d0e['getRemoteId']()===_0x276e4c));if(!_0x226933['length']||0x0===_0x226933[_0x23de81(0x80e)])throw new Error(_0x23de81(0x4b3));const _0x176931=this[_0x23de81(0x47c)][_0x23de81(0x6e0)]['getDistance'](this[_0x23de81(0x47c)][_0x23de81(0x6ff)][_0x23de81(0x5cd)](),_0x37de1b),_0x23ed11=_0x53fdcd(_0x4388c7[_0x23de81(0x61e)],{'contentType':_0x1a575a[_0x23de81(0x979)][_0x23de81(0xa50)],'label':_0x323e27,'remoteId':_0x37de1b});if(this[_0x23de81(0x346)][_0x23de81(0x290)](_0x23ed11)){if(_0x276e4c)throw new Error(_0x23de81(0x3e0));const _0x12e947=this[_0x23de81(0x346)][_0x23de81(0x13f)](_0x23ed11)[_0x23de81(0xa87)]();if(_0x12e947[_0x23de81(0x80e)]===_0x3feb64[_0x23de81(0x80e)]&&_0x12e947[_0x23de81(0x4fb)](_0x209901=>_0x3feb64[_0x23de81(0x21f)](_0x209901)))return;this[_0x23de81(0x47c)][_0x23de81(0x6e0)][_0x23de81(0x5c3)](this[_0x23de81(0x346)][_0x23de81(0x13f)](_0x23ed11)),this['subscriptionRequests']['delete'](_0x23ed11),_0x3feb64=Array['from'](new Set(_0x3feb64['concat'](_0x12e947))),this[_0x23de81(0xab6)](_0x23ed11);}const _0x554598=new _0x29f723(_0x226933['map'](_0x5a66a7=>_0x5a66a7[_0x23de81(0x5f1)]()),_0x176931,this[_0x23de81(0x12b)],_0x3feb64);this[_0x23de81(0x47c)]['mediator'][_0x23de81(0x23e)](_0x554598),this['subscriptionRequests'][_0x23de81(0x687)](_0x23ed11,_0x554598),_0x554598[_0x23de81(0x854)](this['configs']['localNode'][_0x23de81(0x5cd)](),_0x37de1b,_0x323e27,_0x3feb64,_0x503cd9),this[_0x23de81(0x90d)](_0x323e27,_0x37de1b,_0x3feb64,_0x503cd9,_0x23ed11,_0x554598);}['clearSubscriptionRequestTimeout'](_0x11f1c2){const _0x3b130c=_0x2d5032;this[_0x3b130c(0x61b)]['has'](_0x11f1c2)&&(clearTimeout(this[_0x3b130c(0x61b)][_0x3b130c(0x13f)](_0x11f1c2)),this[_0x3b130c(0x61b)][_0x3b130c(0x113)](_0x11f1c2));}[_0x2d5032(0x90d)](_0xe329c0,_0x5dbce7,_0x3d4c22,_0x3c1126,_0x237e5b,_0x5bce26){const _0x127af6=_0x2d5032;this[_0x127af6(0xab6)](_0x237e5b),this['subscriptionRequestTimeouts'][_0x127af6(0x687)](_0x237e5b,setTimeout(()=>{const _0x3f9107=_0x127af6;this[_0x3f9107(0x61b)][_0x3f9107(0x113)](_0x237e5b);try{const _0x3bc589=_0x5bce26[_0x3f9107(0x31a)]();this[_0x3f9107(0x75b)](_0x3bc589,_0x5dbce7,_0xe329c0,_0x237e5b,_0x3d4c22);}catch(_0x5abf37){this[_0x3f9107(0x743)](_0xe329c0,_0x5dbce7,_0x3d4c22,_0x3c1126);}},0x7d0));}[_0x2d5032(0x3d6)](_0x22bd6,_0x5080c1,_0x3acbf4,_0x215cef,_0x13b1a5){const _0x7845c4=_0x2d5032,{subscriptionLabel:_0x5a0256}=this[_0x7845c4(0xae2)](_0x5080c1,_0x215cef),_0x2f4c3a=this[_0x7845c4(0x62b)](_0x5a0256),_0x168192=_0x2f4c3a?.['params'];_0x2f4c3a&&(_0x2f4c3a[_0x7845c4(0x3c5)](_0x215cef,0x0),this[_0x7845c4(0x7b2)](_0x3acbf4,_0x1a575a[_0x7845c4(0x979)][_0x7845c4(0xa50)],_0x22bd6)),this[_0x7845c4(0xa38)](_0x5080c1,_0x215cef,_0x13b1a5,_0x168192);}[_0x2d5032(0x62b)](_0x55a42d){const _0x52ba78=_0x2d5032,_0x1534eb=this[_0x52ba78(0x282)][_0x52ba78(0x3bf)][_0x52ba78(0x13f)](_0x55a42d);if(_0x1534eb){if(!(_0x1534eb instanceof _0x2dd4cd))throw new _0x54e1a8(_0x54e1a8[_0x52ba78(0x318)][_0x52ba78(0x15e)],{'label':_0x55a42d,'subscription':_0x1534eb});return _0x1534eb;}}[_0x2d5032(0xae2)](_0x1676cc,_0x1db3cd){const _0x3c2a39=_0x2d5032,_0x4c52cb=this[_0x3c2a39(0x945)](_0x1676cc,_0x1db3cd);return{'parts':_0x4c52cb,'subscriptionLabel':_0x53fdcd(_0x4388c7[_0x3c2a39(0x61e)],_0x4c52cb)};}[_0x2d5032(0x945)](_0x55314f,_0x5c0ca7){const _0x11f0cb=_0x2d5032,_0x2f1683=this[_0x11f0cb(0x47c)][_0x11f0cb(0x6e0)][_0x11f0cb(0x62c)](_0x5c0ca7,_0x55314f),_0x5f11eb=_0x2f1683[_0x11f0cb(0xa6e)]();if(!_0x5f11eb)throw new _0x54e1a8(_0x54e1a8['codes'][_0x11f0cb(0x323)],{'label':_0x55314f,'streamId':_0x2f1683[_0x11f0cb(0x9e4)](),'ownerId':_0x5c0ca7,'localId':this[_0x11f0cb(0x47c)]['localNode'][_0x11f0cb(0x5cd)]()});return{'contentType':_0x1a575a[_0x11f0cb(0x979)]['Media'],'label':_0x2f1683[_0x11f0cb(0x9e4)](),'remoteId':_0x5f11eb};}[_0x2d5032(0x47a)](_0x5112c1,_0x28e85c,_0xe3df8e,_0x5a9de5){const _0x444775=_0x2d5032,_0x24eef0=_0x5a9de5[_0x444775(0xa6e)]();if(_0x24eef0&&_0x24eef0!==_0x5112c1[_0x444775(0xa3c)]){const {parts:_0x3d387b,subscriptionLabel:_0x1fb80b}=this[_0x444775(0xae2)](_0xe3df8e,_0x28e85c),_0x8ed5ae=this[_0x444775(0x62b)](_0x1fb80b);_0x8ed5ae&&(_0x8ed5ae[_0x444775(0x3c5)](_0x28e85c,0x0),this[_0x444775(0x7b2)](_0x3d387b[_0x444775(0x32e)],_0x3d387b['contentType'],_0x3d387b[_0x444775(0x4b4)]));}}}class _0x57e22d{[_0x2d5032(0x47c)];[_0x2d5032(0x32b)];['maps'];constructor(_0x36cae1,_0x402682){const _0x212c31=_0x2d5032;this[_0x212c31(0x47c)]=_0x36cae1,this['maxOutgoingSubscriptions']=_0x402682,this[_0x212c31(0x282)]=new _0x899c57(({source:_0x37618b,destination:_0x51ec20})=>_0x492045(_0x37618b,_0x51ec20));}['createSubscription'](_0x1996dc,_0x74b9e){const _0x3fb1a3=_0x2d5032,_0xa4715d={'source':_0x1996dc,'destination':_0x74b9e};this[_0x3fb1a3(0x282)][_0x3fb1a3(0x879)](_0x4388c7[_0x3fb1a3(0x330)],_0xa4715d);}['removeSubscription'](_0x3ed81b,_0x522a57,_0x25455d=''){const _0x1dea84=_0x2d5032,_0xd36446={'contentType':_0x522a57,'label':_0x3ed81b,'remoteId':_0x25455d};this[_0x1dea84(0x282)]['removeSubscription'](_0xd36446,_0x4388c7[_0x1dea84(0x330)]);}['handleSubscriptionSubscribeMediaStream'](_0x2422fd,_0x17a78c){const _0x40d8a1=_0x2d5032;let _0x3e5e09;_0x3e5e09=_0x17a78c['ownerId']!==this[_0x40d8a1(0x47c)][_0x40d8a1(0x6ff)][_0x40d8a1(0x5cd)]()?this[_0x40d8a1(0x47c)][_0x40d8a1(0x6e0)][_0x40d8a1(0x62c)](_0x17a78c[_0x40d8a1(0x9ad)],_0x17a78c[_0x40d8a1(0x32e)]):this['configs'][_0x40d8a1(0x6e0)]['getLocalMediaStream'](_0x17a78c[_0x40d8a1(0x32e)]);const _0xceec43=_0x53fdcd(_0x4388c7[_0x40d8a1(0x330)],{'contentType':_0x1a575a['ContentType'][_0x40d8a1(0xa50)],'label':_0x3e5e09[_0x40d8a1(0x7c8)](),'remoteId':_0x2422fd}),_0x257fa1=this[_0x40d8a1(0x6bf)]();if(!this[_0x40d8a1(0x282)][_0x40d8a1(0x3bf)][_0x40d8a1(0x290)](_0xceec43)&&_0x257fa1>=this['maxOutgoingSubscriptions'])return{'type':_0x5c5086['RestartNeedMediaStream'],'ownerId':_0x17a78c[_0x40d8a1(0x9ad)],'label':_0x17a78c[_0x40d8a1(0x32e)],'streamId':_0x3e5e09[_0x40d8a1(0x7c8)](),'trackKinds':_0x17a78c['trackKinds'],'params':_0x17a78c[_0x40d8a1(0x835)]};_0x3e5e09 instanceof _0x279bdf&&!_0x3e5e09[_0x40d8a1(0x2e3)](_0x17a78c['trackKinds'])&&_0x3e5e09['subscribe'](_0x17a78c[_0x40d8a1(0x835)]),this[_0x40d8a1(0x282)][_0x40d8a1(0x3bf)][_0x40d8a1(0x290)](_0xceec43)||this[_0x40d8a1(0x879)](_0x3e5e09['getShareableStream'](_0x2422fd),this['configs']['mediator'][_0x40d8a1(0x8ae)](_0x2422fd));}[_0x2d5032(0x1cb)](_0x3952b4,{label:_0xcd9223,ownerId:_0xc20978,remainingTracks:_0x1a7566}){const _0x18caa9=_0x2d5032;if(_0x1a7566>0x0)return;let _0xa05322;_0xa05322=_0xc20978!==this[_0x18caa9(0x47c)]['localNode']['getId']()?this[_0x18caa9(0x47c)][_0x18caa9(0x6e0)][_0x18caa9(0x62c)](_0xc20978,_0xcd9223):this[_0x18caa9(0x47c)][_0x18caa9(0x6e0)][_0x18caa9(0x398)](_0xcd9223);const _0x51c8bb=_0xa05322[_0x18caa9(0x7c8)](),_0x3ca91d=_0x1a575a['ContentType'][_0x18caa9(0xa50)];this[_0x18caa9(0x7b2)](_0x51c8bb,_0x3ca91d,_0x3952b4);}[_0x2d5032(0x459)](_0x5e70f7,{label:_0x40d328,ownerId:_0x1b7a20,trackKinds:_0xda69d7}){const _0x32943d=_0x2d5032;if(_0x5e70f7!==_0x20f836)return[];let _0x280dca=[];for(const _0x566e61 of this[_0x32943d(0x282)]['subscriptions']){const {source:_0xf35df4,destination:_0x368d44}=_0x566e61[0x1];_0xf35df4[_0x32943d(0xa74)]()===_0x40d328&&_0xf35df4[_0x32943d(0xa95)]()===_0x1b7a20&&_0x280dca[_0x32943d(0x806)]({'sourceId':this[_0x32943d(0x47c)][_0x32943d(0x6ff)][_0x32943d(0x5cd)](),'destinationIds':[_0x368d44[_0x32943d(0x5f1)]()],'messageType':_0x4bbd49[_0x32943d(0x431)],'content':{'type':_0x5c5086[_0x32943d(0x749)],'label':_0x40d328,'ownerId':_0x1b7a20,'trackKinds':_0xda69d7}});}return _0x280dca;}['handleSubscriptionNeedMediaStream'](_0x427aab,_0x2c8e70){const _0x45bdbf=_0x2d5032,{label:_0x1bb472,ownerId:_0xbf3e07,trackKinds:_0x43251a,params:_0x2f07ec}=_0x2c8e70,{hasTracks:_0x160eea,streamId:_0x17ce30,hasResolution:_0x10307b,distance:_0x3c0723,subscriptionLabel:_0x9d390d}=this[_0x45bdbf(0x185)](_0x427aab,_0x2c8e70);let _0x20c4e2=this[_0x45bdbf(0x6bf)]()<this[_0x45bdbf(0x32b)]&&(_0x160eea||_0x3c0723>-0x1)?_0x5c5086[_0x45bdbf(0x37e)]:_0x5c5086[_0x45bdbf(0x1ed)];const _0x4a15e1=_0x3c0723<0x0?0xa:_0x3c0723;let _0x57a89b=_0x160eea?_0x10307b?_0x4a15e1:_0x4a15e1+0x0:_0x4a15e1+0xa;return _0x9d390d&&this[_0x45bdbf(0x282)][_0x45bdbf(0x3bf)]['has'](_0x9d390d)&&(_0x160eea&&(_0x57a89b=0x0),_0x20c4e2=_0x5c5086[_0x45bdbf(0x37e)]),{'type':_0x20c4e2,'cost':_0x57a89b,'distance':_0x3c0723,'label':_0x1bb472,'ownerId':_0xbf3e07,'streamId':_0x17ce30,'trackKinds':_0x43251a,'params':_0x2f07ec};}[_0x2d5032(0x72a)](_0x12581a){const _0x219eea=_0x2d5032,{label:_0x43eb2f,ownerId:_0x81b53c}=_0x12581a,_0x4b3d2f=this[_0x219eea(0x47c)]['mediator'][_0x219eea(0x62c)](_0x81b53c,_0x43eb2f);this[_0x219eea(0x282)]['subscriptions'][_0x219eea(0x3e9)](_0x54c75b=>{const _0x11d29e=_0x219eea;if(_0x54c75b['source']['getInternalStreamId']()===_0x4b3d2f[_0x11d29e(0x7c8)]()){const _0x34356e=_0x54c75b[_0x11d29e(0x43c)];this[_0x11d29e(0x7b2)](_0x4b3d2f[_0x11d29e(0x7c8)](),_0x1a575a['ContentType'][_0x11d29e(0xa50)],_0x34356e[_0x11d29e(0x5f1)]());}});}['handleContentCloseMediaStream']({label:_0x266ab4}){const _0x5c2c70=_0x2d5032,_0x13fba9=this[_0x5c2c70(0x47c)][_0x5c2c70(0x6e0)]['getLocalMediaStream'](_0x266ab4);this['maps'][_0x5c2c70(0x3bf)]['forEach'](_0x330aa9=>{const _0x49d3ee=_0x5c2c70;if(_0x330aa9[_0x49d3ee(0x3c6)]['getInternalStreamId']()===_0x13fba9[_0x49d3ee(0x7c8)]()){const _0x5a91d3=_0x330aa9[_0x49d3ee(0x43c)];this[_0x49d3ee(0x7b2)](_0x13fba9[_0x49d3ee(0x7c8)](),_0x1a575a[_0x49d3ee(0x979)][_0x49d3ee(0xa50)],_0x5a91d3['getRemoteId']());}});}[_0x2d5032(0x2ea)](_0x1bd7c0){const _0x9b2cb3=_0x2d5032;this[_0x9b2cb3(0x282)][_0x9b2cb3(0x2ea)](_0x1bd7c0);}['close'](){const _0x46ace4=_0x2d5032;this[_0x46ace4(0x282)][_0x46ace4(0x3bf)][_0x46ace4(0x3e9)](this[_0x46ace4(0x79e)]['bind'](this));}[_0x2d5032(0x79e)](_0x3a4762,_0x43f761){const _0x548ea7=_0x2d5032;this[_0x548ea7(0x282)][_0x548ea7(0x79e)](_0x3a4762,_0x43f761);}['getSubscriptionInfo'](_0x433632,{label:_0x45ea69,ownerId:_0x560f28,trackKinds:_0x1bb756,params:_0x612a1e}){const _0xb0b4a7=_0x2d5032;if(_0x560f28!==this[_0xb0b4a7(0x47c)][_0xb0b4a7(0x6ff)][_0xb0b4a7(0x5cd)]()){const _0xf110ec=this[_0xb0b4a7(0x47c)]['mediator'][_0xb0b4a7(0x62c)](_0x560f28,_0x45ea69);return _0xf110ec&&_0xf110ec[_0xb0b4a7(0xa6e)]()!==_0x433632?{'hasTracks':_0xf110ec[_0xb0b4a7(0x6b9)](_0x1bb756),'hasResolution':this[_0xb0b4a7(0x205)](_0xf110ec[_0xb0b4a7(0x133)](),_0x612a1e),'streamId':_0xf110ec[_0xb0b4a7(0x7c8)](),'distance':this[_0xb0b4a7(0x47c)][_0xb0b4a7(0x6e0)][_0xb0b4a7(0x9c3)](_0x433632,_0x560f28),'subscriptionLabel':_0x53fdcd(_0x4388c7[_0xb0b4a7(0x330)],{'contentType':_0x1a575a[_0xb0b4a7(0x979)][_0xb0b4a7(0xa50)],'label':_0xf110ec[_0xb0b4a7(0x7c8)](),'remoteId':_0x433632})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x137a58=this['configs']['mediator'][_0xb0b4a7(0x398)](_0x45ea69);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x137a58[_0xb0b4a7(0x7c8)](),'distance':0x0,'subscriptionLabel':_0x53fdcd(_0x4388c7['Outgoing'],{'contentType':_0x1a575a[_0xb0b4a7(0x979)][_0xb0b4a7(0xa50)],'label':_0x137a58[_0xb0b4a7(0x7c8)](),'remoteId':_0x433632})};}[_0x2d5032(0x6bf)](){const _0x169e47=_0x2d5032;return Array['from'](this[_0x169e47(0x282)][_0x169e47(0x3bf)]['entries']())[_0x169e47(0xa9f)](([_0x108c5f,{source:_0x7ad0e}])=>_0x108c5f[_0x169e47(0x517)](_0x4388c7[_0x169e47(0x330)])&&_0x7ad0e[_0x169e47(0x98e)]()===_0x1a575a[_0x169e47(0x979)][_0x169e47(0xa50)])[_0x169e47(0x80e)];}[_0x2d5032(0x205)](_0x26c98c,_0x1fe5f7){const _0x53edb6=_0x2d5032;if(!_0x1fe5f7||!_0x1fe5f7[_0x53edb6(0x5f6)]||_0x53edb6(0x20b)==typeof _0x1fe5f7['video']||!_0x1fe5f7[_0x53edb6(0x5f6)]['maxResolution'])return!0x0;const {width:_0x3955ed,height:_0x33641f}=_0x1fe5f7[_0x53edb6(0x5f6)]['maxResolution'];return _0x26c98c[_0x53edb6(0xa5e)]>=_0x3955ed&&_0x26c98c['height']>=_0x33641f;}}class _0x304952{[_0x2d5032(0x47c)];[_0x2d5032(0x32b)];[_0x2d5032(0x12b)];['systemTopic'];[_0x2d5032(0x878)];[_0x2d5032(0x490)];constructor(_0x2f801b,_0x503ead,_0x7a133d){const _0x49a638=_0x2d5032;this[_0x49a638(0x47c)]=_0x2f801b,this[_0x49a638(0x32b)]=_0x503ead,this[_0x49a638(0x12b)]=_0x7a133d,this[_0x49a638(0x47c)][_0x49a638(0x6e0)][_0x49a638(0x23e)](this),this[_0x49a638(0x878)]=new _0x9eae82(this['configs'],this[_0x49a638(0x12b)]),this[_0x49a638(0x490)]=new _0x57e22d(this[_0x49a638(0x47c)],this[_0x49a638(0x32b)]);}[_0x2d5032(0x6d6)](_0x327c1c){this['systemTopic']=_0x327c1c;}['unregisterSystemPublisher'](){const _0x4e8b1a=_0x2d5032;delete this[_0x4e8b1a(0x83a)];}[_0x2d5032(0x8d0)](){const _0x3a3ff0=_0x2d5032;this[_0x3a3ff0(0x878)][_0x3a3ff0(0x8d0)](),this[_0x3a3ff0(0x490)][_0x3a3ff0(0x8d0)](),this['configs'][_0x3a3ff0(0x6e0)]['unregisterSystemSource'](this);}['createIncomingSubscription'](_0x3352df,_0x21a3c1){const _0x297575=_0x2d5032;this[_0x297575(0x878)]['createSubscription'](_0x3352df,_0x21a3c1);}[_0x2d5032(0x535)](_0xbc910f,_0x9c9eae){const _0x506db0=_0x2d5032;this[_0x506db0(0x490)][_0x506db0(0x879)](_0xbc910f,_0x9c9eae);}[_0x2d5032(0x1a8)](_0x28a6ec,_0x3784f1,_0x4dad53=''){const _0x33e172=_0x2d5032;this[_0x33e172(0x878)]['removeSubscription'](_0x28a6ec,_0x3784f1,_0x4dad53);}['removeOutgoingSubscription'](_0xb4eddf,_0x44321e,_0x4bd6d2=''){const _0x30087e=_0x2d5032;try{this[_0x30087e(0x490)][_0x30087e(0x7b2)](_0xb4eddf,_0x44321e,_0x4bd6d2);}catch(_0x1f8a9b){if(_0x1f8a9b instanceof _0x54e1a8&&_0x1f8a9b[_0x30087e(0x23c)]===_0x54e1a8[_0x30087e(0x318)][_0x30087e(0x15e)])return;}}['handleSubscriptionSystemEvents'](_0x278db7){const _0x3a6d8f=_0x2d5032;switch(_0x278db7[_0x3a6d8f(0x3ab)][_0x3a6d8f(0xa7e)]){case _0x5c5086[_0x3a6d8f(0x477)]:this[_0x3a6d8f(0x5e4)](_0x278db7[_0x3a6d8f(0x576)],_0x278db7['content']);break;case _0x5c5086[_0x3a6d8f(0x465)]:this[_0x3a6d8f(0x490)][_0x3a6d8f(0x1cb)](_0x278db7[_0x3a6d8f(0x576)],_0x278db7['content']);break;case _0x5c5086[_0x3a6d8f(0x751)]:this[_0x3a6d8f(0x679)](_0x278db7['sourceId'],_0x278db7[_0x3a6d8f(0x3ab)]);break;case _0x5c5086[_0x3a6d8f(0x4ed)]:this[_0x3a6d8f(0x878)]['handleSubscriptionRestartNeedMediaStream'](_0x278db7[_0x3a6d8f(0x576)],_0x278db7['content']);break;case _0x5c5086['CanProvideMediaStream']:case _0x5c5086[_0x3a6d8f(0x1ed)]:this[_0x3a6d8f(0x878)][_0x3a6d8f(0x6f7)](_0x278db7['sourceId'],_0x278db7[_0x3a6d8f(0x3ab)]);break;case _0x5c5086['MediaStreamUnavailable']:this[_0x3a6d8f(0x878)]['handleSubscriptionMediaStreamUnavailable'](_0x278db7[_0x3a6d8f(0x576)],_0x278db7[_0x3a6d8f(0x3ab)]);}}[_0x2d5032(0x183)](_0x4f526b){const _0x47bdb8=_0x2d5032;switch(_0x4f526b['content'][_0x47bdb8(0xa7e)]){case _0x1ff5c6[_0x47bdb8(0x880)]:this['incomingManager'][_0x47bdb8(0x72a)](_0x4f526b['content']),this[_0x47bdb8(0x490)][_0x47bdb8(0x72a)](_0x4f526b[_0x47bdb8(0x3ab)]);break;case _0x1ff5c6[_0x47bdb8(0x477)]:this['incomingManager'][_0x47bdb8(0x5c5)](_0x4f526b['content']);break;case _0x1ff5c6[_0x47bdb8(0xa39)]:this[_0x47bdb8(0x878)]['handleContentUpdateMediaStream'](_0x4f526b[_0x47bdb8(0x3ab)]);break;case _0x1ff5c6['UnsubscribeMediaStream']:this['handleContentUnsubscribeMediaStream'](_0x4f526b[_0x47bdb8(0x576)],_0x4f526b['content']);break;case _0x1ff5c6['CloseMediaStream']:this['outgoingManager'][_0x47bdb8(0x816)](_0x4f526b[_0x47bdb8(0x3ab)]);break;case _0x1ff5c6[_0x47bdb8(0x673)]:this[_0x47bdb8(0x933)](_0x4f526b[_0x47bdb8(0x3ab)][_0x47bdb8(0x32e)],_0x1a575a[_0x47bdb8(0x979)][_0x47bdb8(0x973)]);break;case _0x1ff5c6[_0x47bdb8(0x89e)]:this[_0x47bdb8(0x933)](_0x4f526b[_0x47bdb8(0x3ab)]['label'],_0x1a575a[_0x47bdb8(0x979)][_0x47bdb8(0x450)]);break;case _0x1ff5c6[_0x47bdb8(0x2b1)]:this[_0x47bdb8(0x933)](_0x4f526b[_0x47bdb8(0x3ab)][_0x47bdb8(0x32e)],_0x1a575a[_0x47bdb8(0x979)]['ExternalStorage']);break;case _0x1ff5c6[_0x47bdb8(0x72d)]:this[_0x47bdb8(0x933)](_0x4f526b[_0x47bdb8(0x3ab)]['label'],_0x1a575a[_0x47bdb8(0x979)][_0x47bdb8(0x7a3)]);break;case _0x1ff5c6[_0x47bdb8(0x966)]:this[_0x47bdb8(0x933)](_0x4f526b[_0x47bdb8(0x3ab)][_0x47bdb8(0x32e)],_0x1a575a[_0x47bdb8(0x979)][_0x47bdb8(0x571)]);break;case _0x1ff5c6['CloseGraphDatabase']:this[_0x47bdb8(0x933)](_0x4f526b[_0x47bdb8(0x3ab)][_0x47bdb8(0x32e)],_0x1a575a[_0x47bdb8(0x979)]['GraphDatabase']);break;case _0x1ff5c6[_0x47bdb8(0x202)]:case _0x1ff5c6[_0x47bdb8(0xa49)]:this[_0x47bdb8(0x933)](_0x4f526b[_0x47bdb8(0x3ab)]['label'],_0x1a575a[_0x47bdb8(0x979)][_0x47bdb8(0xa7f)]);break;case _0x1ff5c6[_0x47bdb8(0x58e)]:this['incomingManager']['handleContentRemoteMediaStreamTrackFail'](_0x4f526b['content']);}}[_0x2d5032(0x8e4)]({content:_0xbc3415}){const _0x412862=_0x2d5032;_0xbc3415['type']===_0x176135[_0x412862(0x640)]&&this['removeSubscriptionsForNode'](_0xbc3415);}[_0x2d5032(0x764)](_0x571e68){const _0x2d19f0=_0x2d5032;_0x571e68[_0x2d19f0(0x3ab)][_0x2d19f0(0xa7e)]===_0x14b6a1['OptimizationConnectionSuccess']&&this[_0x2d19f0(0x878)][_0x2d19f0(0x482)](_0x571e68[_0x2d19f0(0x576)]);}[_0x2d5032(0x459)](_0x53e1d3,_0x42a4bb){const _0x16d2eb=_0x2d5032;this['incomingManager'][_0x16d2eb(0x459)](_0x42a4bb),this[_0x16d2eb(0x490)][_0x16d2eb(0x459)](_0x53e1d3,_0x42a4bb)[_0x16d2eb(0x3e9)](_0xb7276b=>this[_0x16d2eb(0x83a)][_0x16d2eb(0x849)](_0xb7276b));}[_0x2d5032(0x5e4)](_0x4890f7,_0x58f09f){const _0x415d64=_0x2d5032,_0x2e2dee=this[_0x415d64(0x490)][_0x415d64(0x5e4)](_0x4890f7,_0x58f09f);if(_0x2e2dee&&(this[_0x415d64(0x83a)][_0x415d64(0x849)]({'sourceId':this[_0x415d64(0x47c)][_0x415d64(0x6ff)]['getId'](),'destinationIds':[_0x4890f7],'messageType':_0x4bbd49[_0x415d64(0x431)],'content':_0x2e2dee}),_0x2e2dee[_0x415d64(0xa7e)]===_0x5c5086['RestartNeedMediaStream']))throw new _0x5ec887(_0x415d64(0x24f));}[_0x2d5032(0x679)](_0x30950f,_0x2a592e){const _0x4a3fa3=_0x2d5032,_0xf52b8d=this['outgoingManager'][_0x4a3fa3(0x679)](_0x30950f,_0x2a592e);this['systemTopic'][_0x4a3fa3(0x849)]({'sourceId':this[_0x4a3fa3(0x47c)][_0x4a3fa3(0x6ff)][_0x4a3fa3(0x5cd)](),'destinationIds':[_0x30950f],'messageType':_0x4bbd49[_0x4a3fa3(0x431)],'content':_0xf52b8d});}['handleCloseContent'](_0x18b18e,_0x541bfe){const _0x4819d8=_0x2d5032;this[_0x4819d8(0x1a8)](_0x18b18e,_0x541bfe),this[_0x4819d8(0x63e)](_0x18b18e,_0x541bfe);}[_0x2d5032(0x2ea)]({id:_0x23ab78}){const _0x7cfd22=_0x2d5032;this[_0x7cfd22(0x878)]['removeSubscriptionsForNode'](_0x23ab78),this[_0x7cfd22(0x490)][_0x7cfd22(0x2ea)](_0x23ab78);}}class _0x13fcc5{[_0x2d5032(0x32e)];[_0x2d5032(0x42b)]=_0x2d1ffa();constructor(){const _0x15bec2=_0x2d5032;this[_0x15bec2(0x32e)]=0x0;}[_0x2d5032(0xa74)](){const _0x7a58fa=_0x2d5032;return this[_0x7a58fa(0x32e)];}[_0x2d5032(0x98e)](){const _0x1110cb=_0x2d5032;return _0x1a575a[_0x1110cb(0x979)][_0x1110cb(0x7e1)];}[_0x2d5032(0xa9c)](_0x3bddd4){_0x3bddd4['registerSystemPublisher'](this);}[_0x2d5032(0x4fc)](_0xc63763){const _0x543f2c=_0x2d5032;_0xc63763[_0x543f2c(0x4ba)]();}['publish'](_0x1b6d8b){const _0x4614b9=_0x2d5032;_0x27f628[_0x4614b9(0x107)](_0x53d5c4[_0x4614b9(0xafc)],'SystemTopic\x20publish',_0x1b6d8b[_0x4614b9(0x576)],_0x1b6d8b),this['listener'][_0x4614b9(0x849)]({'topicLabel':this[_0x4614b9(0x32e)],'contentType':_0x1a575a[_0x4614b9(0x979)]['Data'],'uuid':_0x1b6d8b[_0x4614b9(0x642)]??(0x0,_0x1fd9e4['v4'])(),'recipients':_0x1b6d8b[_0x4614b9(0x6f3)]??[],..._0x1b6d8b});}['subscribe'](_0x5b95df){return this['listener']['subscribe'](_0x5b95df);}}class _0x211d68{[_0x2d5032(0x938)];[_0x2d5032(0x2bc)]=[];[_0x2d5032(0xa90)];[_0x2d5032(0x8c2)]=new Map();[_0x2d5032(0x74a)]=_0x2d1ffa();constructor(_0x3e5657){const _0x259340=_0x2d5032;this[_0x259340(0x938)]=_0x3e5657,this['maxLayer']=(this['options'][_0x259340(0xafa)]-0x2*this[_0x259340(0x938)]['minConnections'])/0x2,this['ranges'][_0x259340(0x806)]({'start':0x1,'end':this[_0x259340(0x67d)](0x1,0x1)-0x1});for(let _0x143d3e=0x0;_0x143d3e<this[_0x259340(0xa90)];++_0x143d3e)this['ranges'][_0x259340(0x806)]({'start':this['getNextTargetRank'](0x1,_0x143d3e+0x1),'end':this[_0x259340(0x67d)](0x1,_0x143d3e+0x2)-0x1});}[_0x2d5032(0x67d)](_0x1c70c9,_0x67a472=0x1){const _0x28ffa7=_0x2d5032;let _0x1f57fe=this[_0x28ffa7(0x938)]['maxDistance']-this[_0x28ffa7(0x938)][_0x28ffa7(0x10d)],_0x57a439=0x1;for(let _0x55a357=0x1;_0x55a357<_0x67a472;++_0x55a357)_0x1f57fe*=this[_0x28ffa7(0x938)][_0x28ffa7(0x12b)]-this['options'][_0x28ffa7(0x10d)]-_0x55a357,_0x57a439*=this[_0x28ffa7(0x938)][_0x28ffa7(0x12b)]-this[_0x28ffa7(0x938)][_0x28ffa7(0x10d)]-_0x55a357+0x1;return _0x1f57fe*this[_0x28ffa7(0x938)][_0x28ffa7(0x10d)]+_0x1c70c9-_0x57a439;}[_0x2d5032(0x7b6)](_0x5eddaf){const _0x13ea26=_0x2d5032;let _0x5244fb=0x0;for(;this['ranges'][_0x5244fb][_0x13ea26(0x9ae)]<_0x5eddaf;)_0x5244fb+=0x1;return _0x5244fb;}[_0x2d5032(0x231)](){const _0x310dab=_0x2d5032;return this['options'][_0x310dab(0x10d)];}['getMaxConnections'](){const _0x43fa9d=_0x2d5032;return this[_0x43fa9d(0x938)]['maxConnections'];}[_0x2d5032(0x3b2)](){const _0x203393=_0x2d5032;return this[_0x203393(0x938)][_0x203393(0x12b)];}[_0x2d5032(0x95b)](){return this['remoteNodes'];}[_0x2d5032(0x95f)](_0x11baa6,_0x5c0944){const _0x441c0e=_0x2d5032;this['remoteNodes'][_0x441c0e(0x687)](_0x11baa6,_0x5c0944),this[_0x441c0e(0x74a)][_0x441c0e(0x849)]();}['deleteRemoteNode'](_0x5466fe){const _0x5e0c62=_0x2d5032;this[_0x5e0c62(0x8c2)]['delete'](_0x5466fe),this[_0x5e0c62(0x74a)][_0x5e0c62(0x849)]();}[_0x2d5032(0x4b2)](_0x5bc01c){const _0x18f94a=_0x2d5032;return this[_0x18f94a(0x8c2)][_0x18f94a(0x290)](_0x5bc01c);}[_0x2d5032(0x51b)](_0x25ade3){const _0x4bae83=_0x2d5032;return this[_0x4bae83(0x8c2)]['get'](_0x25ade3);}[_0x2d5032(0x2c0)](_0x352e28,_0x82a56b){const _0x75120e=_0x2d5032,_0x2baf1c=this[_0x75120e(0x51b)](_0x82a56b)?.['getRank']()??0x0;return _0x352e28[_0x75120e(0x247)](_0x29d579=>this['getRemoteNode'](_0x29d579))[_0x75120e(0xa9f)](_0x4fa7a1=>void 0x0!==_0x4fa7a1)[_0x75120e(0x508)]((_0xaf22d2,_0x36aecb)=>Math['abs'](_0x2baf1c-(_0xaf22d2&&_0xaf22d2['getRank']()||0x1/0x0))-Math[_0x75120e(0x40e)](_0x2baf1c-(_0x36aecb&&_0x36aecb['getRank']()||0x1/0x0)))['map'](_0x569805=>_0x569805[_0x75120e(0x5cd)]());}[_0x2d5032(0x1eb)](_0x43d0d8){const _0x5caa89=_0x2d5032;return this[_0x5caa89(0x74a)]['subscribe'](_0x43d0d8);}}class _0x5b8cf5{[_0x2d5032(0x514)];[_0x2d5032(0xa46)];['authNode'];[_0x2d5032(0x4f3)];['options'];[_0x2d5032(0x47c)];[_0x2d5032(0xac3)];[_0x2d5032(0x5ef)];['connectionManager'];[_0x2d5032(0x340)];[_0x2d5032(0x489)];[_0x2d5032(0x5b3)];[_0x2d5032(0x815)];[_0x2d5032(0x559)];[_0x2d5032(0x3e4)];['systemTopic']=new _0x13fcc5();[_0x2d5032(0x99c)];['localNode'];constructor(_0x25485e,_0x27d0b9,_0x4e2918,_0x316cd2,_0x351471,_0xe2fe5e,_0x56f260){const _0x18a63b=_0x2d5032;switch(this['vendorId']=_0x25485e,this['clusterId']=_0x27d0b9,this['authNode']=_0x4e2918,this[_0x18a63b(0x4f3)]=_0x316cd2,this[_0x18a63b(0x938)]=_0x351471,this[_0x18a63b(0x47c)]=_0xe2fe5e,this['clusterEventEmitter']=_0x56f260,_0x4e2918[_0x18a63b(0xa7e)]){case _0x1a575a['NodeType']['User']:this[_0x18a63b(0x6ff)]=new _0x5a4c0c(_0x4e2918[_0x18a63b(0x5cd)](),_0x4e2918['getDisplayName'](),_0x4e2918['getEmail']());break;case _0x1a575a[_0x18a63b(0x985)][_0x18a63b(0x6a1)]:default:this[_0x18a63b(0x6ff)]=new _0x5b78a9(_0x4e2918[_0x18a63b(0x5cd)]());}const _0x2be805=this[_0x18a63b(0x31b)]();this[_0x18a63b(0x3e4)]=new _0x211d68(this['options']),this[_0x18a63b(0x5ef)]=new _0x4811c0(_0x2be805,this[_0x18a63b(0x938)]),this[_0x18a63b(0x1b9)]=new _0x39ae9e(_0x2be805,this[_0x18a63b(0x4f3)],this[_0x18a63b(0x3e4)],this[_0x18a63b(0x47c)][_0x18a63b(0xad0)],this[_0x18a63b(0x938)]),this[_0x18a63b(0x340)]=new _0x304952(_0x2be805,this['options']['maxOutgoingSubscriptions'],this['graphService'][_0x18a63b(0x3b2)]()),this[_0x18a63b(0x489)]=new _0x156dfc(_0x2be805),this[_0x18a63b(0x5b3)]=new _0x2d76f8(_0x2be805),this['remediationManager']=new _0x5a6524(_0x2be805),this[_0x18a63b(0x559)]=new _0x1f455b(_0x2be805,this[_0x18a63b(0x3e4)]),this[_0x18a63b(0x99c)]=this[_0x18a63b(0x56b)]();}['open'](){const _0xe18257=_0x2d5032,_0x455c4b=this['getConfigs']();this['connectionManager']=new _0x39ae9e(_0x455c4b,this[_0xe18257(0x4f3)],this['graphService'],this[_0xe18257(0x47c)][_0xe18257(0xad0)],this[_0xe18257(0x938)]),this[_0xe18257(0x340)]=new _0x304952(_0x455c4b,this[_0xe18257(0x938)][_0xe18257(0x32b)],this[_0xe18257(0x3e4)]['getMaxDistance']()),this[_0xe18257(0x489)]=new _0x156dfc(_0x455c4b),this[_0xe18257(0x5b3)]=new _0x2d76f8(_0x455c4b),this[_0xe18257(0x815)]=new _0x5a6524(_0x455c4b),this[_0xe18257(0x559)]=new _0x1f455b(_0x455c4b,this[_0xe18257(0x3e4)]);const _0x5caeee=this[_0xe18257(0x1b9)][_0xe18257(0xa73)]();this[_0xe18257(0x5ef)][_0xe18257(0x5a6)]()[_0xe18257(0x3e9)](_0x37f49e=>{const _0x5ba63a=_0xe18257;this[_0x5ba63a(0x340)][_0x5ba63a(0x535)](_0x37f49e,_0x5caeee),this[_0x5ba63a(0x340)][_0x5ba63a(0x417)](_0x5caeee,_0x37f49e),_0x37f49e['reset']();}),this[_0xe18257(0x5ef)]['getObjectStoreBuckets']()[_0xe18257(0x3e9)](_0x228a08=>{const _0x552476=_0xe18257;this[_0x552476(0x340)][_0x552476(0x535)](_0x228a08,_0x5caeee),this[_0x552476(0x340)][_0x552476(0x417)](_0x5caeee,_0x228a08),_0x228a08[_0x552476(0xf2)](),_0x228a08[_0x552476(0x8dc)]();}),this[_0xe18257(0x5ef)][_0xe18257(0x86c)]()[_0xe18257(0x3e9)](_0x596b1f=>{const _0x2206f7=_0xe18257;this[_0x2206f7(0x340)]['createOutgoingSubscription'](_0x596b1f,_0x5caeee),this[_0x2206f7(0x340)][_0x2206f7(0x417)](_0x5caeee,_0x596b1f),_0x596b1f['reset'](),this[_0x2206f7(0xa36)](_0x596b1f);}),this[_0xe18257(0x5ef)][_0xe18257(0xa0e)]()[_0xe18257(0x3e9)](_0x28f1af=>{const _0x526427=_0xe18257;this['subscriptionManager']['createOutgoingSubscription'](_0x28f1af,_0x5caeee),this[_0x526427(0x340)][_0x526427(0x417)](_0x5caeee,_0x28f1af),_0x28f1af[_0x526427(0xf2)]();}),this[_0xe18257(0x5ef)][_0xe18257(0x2a8)]()[_0xe18257(0x3e9)](_0x51f51e=>{const _0x7ce94a=_0xe18257;this[_0x7ce94a(0x340)]['createOutgoingSubscription'](_0x51f51e,_0x5caeee),this[_0x7ce94a(0x340)][_0x7ce94a(0x417)](_0x5caeee,_0x51f51e),_0x51f51e[_0x7ce94a(0xf2)]();}),this[_0xe18257(0x5ef)][_0xe18257(0x8c4)]()[_0xe18257(0x3e9)](_0x42ee30=>{const _0x5c82bc=_0xe18257;this[_0x5c82bc(0x340)][_0x5c82bc(0x535)](_0x42ee30,_0x5caeee),this[_0x5c82bc(0x340)]['createIncomingSubscription'](_0x5caeee,_0x42ee30),_0x42ee30[_0x5c82bc(0xf2)]();}),this[_0xe18257(0x5ef)][_0xe18257(0x718)]()['forEach'](_0x295306=>{const _0x434f3e=_0xe18257;this['subscriptionManager']['createOutgoingSubscription'](_0x295306,_0x5caeee),this[_0x434f3e(0x340)][_0x434f3e(0x417)](_0x5caeee,_0x295306),_0x295306[_0x434f3e(0xf2)]();}),this['systemTopicUnsubscribe']=this[_0xe18257(0x56b)]();}[_0x2d5032(0x23e)](_0x389681){const _0x55b500=_0x2d5032;try{this[_0x55b500(0x83a)][_0x55b500(0xa9c)](_0x389681);}catch(_0x79a828){this[_0x55b500(0x740)](_0x79a828,{});}}[_0x2d5032(0x5c3)](_0x347641){const _0x314894=_0x2d5032;try{this[_0x314894(0x83a)][_0x314894(0x4fc)](_0x347641);}catch(_0xdee049){this['handleError'](_0xdee049,{});}}[_0x2d5032(0x5e5)](_0x1dbc67,_0x290846){const _0x165e4c=_0x2d5032;return this[_0x165e4c(0x1b9)][_0x165e4c(0x5e5)](_0x1dbc67,_0x290846);}['getConnection'](_0x1bf0d2){const _0x15977a=_0x2d5032;try{return this[_0x15977a(0x1b9)][_0x15977a(0x8ae)](_0x1bf0d2);}catch(_0x552062){throw this[_0x15977a(0x740)](_0x552062,{});}}['getConnections'](_0xf6ac2f){const _0x4f8cff=_0x2d5032;try{return this[_0x4f8cff(0x1b9)][_0x4f8cff(0x355)](_0xf6ac2f);}catch(_0x12caf3){throw this[_0x4f8cff(0x740)](_0x12caf3,{});}}['getRemoteMediaStream'](_0x8a3aa1,_0x5c5afd){const _0x59c329=_0x2d5032;try{return this[_0x59c329(0x5ef)][_0x59c329(0x643)](_0x291b67=>_0x291b67[_0x59c329(0xa95)]()===_0x8a3aa1&&_0x291b67[_0x59c329(0xa74)]()===_0x5c5afd)[0x0];}catch(_0x96cd25){throw this['handleError'](_0x96cd25,{});}}[_0x2d5032(0x398)](_0x456cca){const _0xfb258=_0x2d5032;try{return this[_0xfb258(0x5ef)]['getLocalMediaStreams'](_0x41c347=>_0x41c347[_0xfb258(0xa74)]()===_0x456cca)[0x0];}catch(_0xbd8e11){throw this['handleError'](_0xbd8e11,{});}}['notifyCluster']=(..._0x352636)=>{const _0x592bf5=_0x2d5032;try{return this[_0x592bf5(0xac3)][_0x592bf5(0x71b)](..._0x352636);}catch(_0x36dfab){throw this[_0x592bf5(0x740)](_0x36dfab,{});}};['registerRemoteNode'](_0x309b29){const _0x49666e=_0x2d5032;try{this[_0x49666e(0x489)]['addRemoteNode'](_0x309b29);}catch(_0x3c339b){throw this[_0x49666e(0x740)](_0x3c339b,{});}}[_0x2d5032(0x345)](_0x2233da){const _0xf165a1=_0x2d5032;try{this[_0xf165a1(0x489)][_0xf165a1(0x7fe)](_0x2233da);}catch(_0x2547de){throw this[_0xf165a1(0x740)](_0x2547de,{});}}[_0x2d5032(0x596)](_0x5baea3){const _0x54d9c2=_0x2d5032;return this[_0x54d9c2(0x1b9)]['collectStats'](_0x5baea3);}async[_0x2d5032(0xa82)](){const _0x20523f=_0x2d5032;try{await this[_0x20523f(0x1b9)]['initialize']();const _0x306a77=await this[_0x20523f(0x559)][_0x20523f(0x32d)]();for(const _0x2c167c of _0x306a77)this['connectionManager'][_0x20523f(0x5e5)](_0x2c167c);}catch(_0xe3101d){throw this['handleError'](_0xe3101d,{});}}[_0x2d5032(0x1ba)](_0x19fea3){const _0x38c05e=_0x2d5032;this[_0x38c05e(0x6ff)][_0x38c05e(0xa7e)]===_0x1a575a[_0x38c05e(0x985)][_0x38c05e(0x850)]&&(this[_0x38c05e(0x6ff)][_0x38c05e(0x1b0)](_0x19fea3['getEmail']()),this[_0x38c05e(0x6ff)][_0x38c05e(0xaae)](_0x19fea3[_0x38c05e(0x917)]()));}['close']({force:_0x20c70e=!0x1},_0x314999=!0x1){const _0x442085=_0x2d5032;if(_0x27f628['warning'](_0x442085(0x46f),{'clusterId':this[_0x442085(0xa46)],'nodeId':this['localNode'][_0x442085(0x5cd)](),'nodeType':this[_0x442085(0x6ff)][_0x442085(0xa7e)]}),!_0x20c70e&&this['connectionManager'][_0x442085(0x4b5)]())throw new _0x10fc18(_0x10a5c8[_0x442085(0x8c9)],_0x442085(0x166));_0x27f628[_0x442085(0x83b)](),this[_0x442085(0x99c)](),this['remediationManager'][_0x442085(0x8d0)](),this['detectionManager'][_0x442085(0x8d0)](),this[_0x442085(0x489)]['close'](),this[_0x442085(0x340)][_0x442085(0x8d0)](),this[_0x442085(0x1b9)][_0x442085(0x8d0)](),this[_0x442085(0x5ef)][_0x442085(0x8d0)](_0x314999),this['nodeManager']['close']();}[_0x2d5032(0x68f)](_0x3cf1b9){const _0xebbca2=_0x2d5032;try{const _0x4a1ed9=this[_0xebbca2(0x5ef)][_0xebbca2(0x26d)](_0x3cf1b9),_0x11a524=this['connectionManager']['getConnectionGroup']();return this['subscriptionManager'][_0xebbca2(0x535)](_0x4a1ed9,_0x11a524),this[_0xebbca2(0x340)][_0xebbca2(0x417)](_0x11a524,_0x4a1ed9),_0x4a1ed9;}catch(_0x508c1a){throw this[_0xebbca2(0x740)](_0x508c1a,{});}}async[_0x2d5032(0x486)](_0x27e264,_0x54cab8){const _0x131813=_0x2d5032;try{const _0x2d1c50=this[_0x131813(0x5ef)][_0x131813(0x36b)](_0x27e264,this[_0x131813(0x938)][_0x131813(0x454)],_0x54cab8),_0x55fdb8=this['connectionManager'][_0x131813(0xa73)]();return this[_0x131813(0x340)][_0x131813(0x535)](_0x2d1c50,_0x55fdb8),this[_0x131813(0x340)][_0x131813(0x417)](_0x55fdb8,_0x2d1c50),await _0x2d1c50[_0x131813(0x8dc)](),_0x2d1c50;}catch(_0x1ce7b1){throw this['handleError'](_0x1ce7b1,{});}}async[_0x2d5032(0x64d)](_0xccf847,_0x4b3380){const _0x3e091d=_0x2d5032;try{if(!this[_0x3e091d(0x938)][_0x3e091d(0x26a)])throw new _0x10fc18(_0x10a5c8['ExternalStorageConnectorsMissing'],_0x3e091d(0x33c));if(!(this[_0x3e091d(0xa47)]instanceof _0xf2ba19))throw new _0x10fc18(_0x10a5c8[_0x3e091d(0x44a)],_0x3e091d(0xf5));const _0x3231db=this[_0x3e091d(0x938)][_0x3e091d(0x26a)][_0x3e091d(0x13f)](_0x4b3380);if(!_0x3231db)throw new _0x10fc18(_0x10a5c8['ExternalStorageConnectorsMissing'],'Missing\x20external\x20storage\x20connector');const _0x4339ee=this[_0x3e091d(0x5ef)][_0x3e091d(0x27e)](_0xccf847,_0x3231db),_0x4f52c8=this[_0x3e091d(0x1b9)]['getConnectionGroup']();return this['subscriptionManager'][_0x3e091d(0x535)](_0x4339ee,_0x4f52c8),this[_0x3e091d(0x340)]['createIncomingSubscription'](_0x4f52c8,_0x4339ee),await _0x4339ee[_0x3e091d(0x788)](),_0x4339ee;}catch(_0x4be6cd){throw this[_0x3e091d(0x740)](_0x4be6cd,{});}}async[_0x2d5032(0x623)](_0x331260,_0x3da5b4,_0x5f2f84){const _0x558800=_0x2d5032;try{_0x5f2f84=_0x5f2f84||this[_0x558800(0x938)][_0x558800(0x7a8)];const _0x50d5d4=await this['contentManager'][_0x558800(0x3b1)](_0x331260,_0x3da5b4,_0x5f2f84),_0x1c559c=this[_0x558800(0x1b9)][_0x558800(0xa73)]();return this[_0x558800(0x340)]['createOutgoingSubscription'](_0x50d5d4,_0x1c559c),this[_0x558800(0x340)][_0x558800(0x417)](_0x1c559c,_0x50d5d4),await _0x50d5d4[_0x558800(0x788)](),this[_0x558800(0xa36)](_0x50d5d4),_0x50d5d4;}catch(_0x135f84){throw this['handleError'](_0x135f84,{});}}async[_0x2d5032(0x54c)](_0x3aec4d){const _0x392fa6=_0x2d5032;try{const _0x393af9=await this[_0x392fa6(0x5ef)]['createJobDispatcher'](_0x3aec4d,this[_0x392fa6(0x3e4)]),_0x135089=this[_0x392fa6(0x1b9)][_0x392fa6(0xa73)]();return this[_0x392fa6(0x340)]['createOutgoingSubscription'](_0x393af9,_0x135089),this[_0x392fa6(0x340)]['createIncomingSubscription'](_0x135089,_0x393af9),_0x393af9[_0x392fa6(0x788)](),_0x393af9;}catch(_0x10f981){throw this[_0x392fa6(0x740)](_0x10f981,{});}}async[_0x2d5032(0x6c1)](_0x4e7802){const _0x53b299=_0x2d5032;throw new Error(_0x53b299(0x852));}async[_0x2d5032(0x27b)](_0x26b79b){const _0x4e13dc=_0x2d5032;try{const _0x42b4b6=await this['contentManager'][_0x4e13dc(0x76e)](_0x26b79b,this['graphService']),_0x6648e2=this[_0x4e13dc(0x1b9)][_0x4e13dc(0xa73)]();return this[_0x4e13dc(0x340)][_0x4e13dc(0x535)](_0x42b4b6,_0x6648e2),this['subscriptionManager']['createIncomingSubscription'](_0x6648e2,_0x42b4b6),_0x42b4b6[_0x4e13dc(0x788)](),_0x42b4b6;}catch(_0x2607b1){throw console[_0x4e13dc(0x275)](_0x2607b1),this[_0x4e13dc(0x740)](_0x2607b1,{});}}async[_0x2d5032(0x2ab)](_0x2cd9ce){const _0x1aa21c=_0x2d5032;try{if(!(this[_0x1aa21c(0x938)][_0x1aa21c(0x92b)]&&this['options'][_0x1aa21c(0xa12)]&&this[_0x1aa21c(0x938)]['fileConnector']&&this[_0x1aa21c(0x938)][_0x1aa21c(0x34c)]))throw new _0x10fc18(_0x10a5c8[_0x1aa21c(0xa13)],_0x1aa21c(0x9de));if(!this[_0x1aa21c(0x47c)]['openaiApiKey'])throw new _0x10fc18(_0x10a5c8['ApiKeyMissing'],'Missing\x20OpenAI\x20API\x20key');const _0x4fd8fb=[];for(const [_0x20f44e,_0x101f3c]of this['options']['generativeAIWorkerConnectors']){let _0xea4b46;_0x20f44e===_0x1a575a[_0x1aa21c(0x375)][_0x1aa21c(0x24c)]&&(_0xea4b46=this[_0x1aa21c(0x47c)][_0x1aa21c(0x3ff)]),_0x20f44e===_0x1a575a['GenerativeAIEngineType'][_0x1aa21c(0x2c2)]&&(_0xea4b46=this['configs'][_0x1aa21c(0x268)]),_0x4fd8fb[_0x1aa21c(0x806)](new _0x101f3c(_0xea4b46));}const _0x491991=new this['options'][(_0x1aa21c(0x454))]('crewdle'),_0x45842c=new this[(_0x1aa21c(0x938))][(_0x1aa21c(0xa12))](),_0x401115=new this[(_0x1aa21c(0x938))][(_0x1aa21c(0x4dc))](this[_0x1aa21c(0x47c)][_0x1aa21c(0x3ff)]),_0x3de182=new this[(_0x1aa21c(0x938))][(_0x1aa21c(0x34c))]();let _0x112184,_0x4d652a,_0x26b54f,_0x40478d;if(this[_0x1aa21c(0x938)][_0x1aa21c(0x212)]){if(!this[_0x1aa21c(0x47c)][_0x1aa21c(0x1aa)])throw new _0x10fc18(_0x10a5c8[_0x1aa21c(0x34f)],_0x1aa21c(0x971));_0x112184=new this['options'][(_0x1aa21c(0x212))](this['configs'][_0x1aa21c(0x1aa)]);}if(this[_0x1aa21c(0x938)]['aiSearchConnector']){if(!this[_0x1aa21c(0x47c)][_0x1aa21c(0x808)])throw new _0x10fc18(_0x10a5c8[_0x1aa21c(0x34f)],_0x1aa21c(0x182));_0x4d652a=new this[(_0x1aa21c(0x938))][(_0x1aa21c(0x883))](this[_0x1aa21c(0x47c)][_0x1aa21c(0x808)]);}if(this[_0x1aa21c(0x938)][_0x1aa21c(0x89c)]&&(_0x26b54f=new this[(_0x1aa21c(0x938))][(_0x1aa21c(0x89c))]()),this[_0x1aa21c(0x938)][_0x1aa21c(0x149)]){if(!this[_0x1aa21c(0x47c)][_0x1aa21c(0x49e)])throw new _0x10fc18(_0x10a5c8[_0x1aa21c(0x34f)],_0x1aa21c(0x1e6));_0x40478d=new Map();for(const [_0x299f47,_0x39e6e1]of this['options']['ragConnectors'])_0x40478d[_0x1aa21c(0x687)](_0x299f47,new _0x39e6e1(this[_0x1aa21c(0x47c)]['ragApiKey']));}return await this[_0x1aa21c(0x5ef)][_0x1aa21c(0x25c)](_0x2cd9ce,_0x4fd8fb,_0x491991,_0x45842c,_0x401115,_0x3de182,_0x112184,_0x4d652a,_0x26b54f,_0x40478d,this['configs'][_0x1aa21c(0x3ff)]);}catch(_0x34f834){throw this[_0x1aa21c(0x740)](_0x34f834,{});}}async[_0x2d5032(0x358)](_0x27996e){const _0x4babfb=_0x2d5032;try{if(!(this['options']['generativeAIWorkerConnectors']&&this[_0x4babfb(0x938)][_0x4babfb(0xa12)]&&this[_0x4babfb(0x938)][_0x4babfb(0x4dc)]&&this[_0x4babfb(0x938)][_0x4babfb(0x34c)]))throw new _0x10fc18(_0x10a5c8['GenerativeAIWorkerMissingConnector'],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x4babfb(0xa47)]instanceof _0xf2ba19))throw new _0x10fc18(_0x10a5c8[_0x4babfb(0x44a)],_0x4babfb(0xf5));if(!this[_0x4babfb(0x47c)][_0x4babfb(0x3ff)])throw new _0x10fc18(_0x10a5c8[_0x4babfb(0x34f)],_0x4babfb(0x63a));const _0x4db40f=[];for(const [_0x516704,_0x5446dc]of this['options']['generativeAIWorkerConnectors']){let _0x9f2cee;_0x516704===_0x1a575a[_0x4babfb(0x375)][_0x4babfb(0x24c)]&&(_0x9f2cee=this[_0x4babfb(0x47c)][_0x4babfb(0x3ff)]),_0x516704===_0x1a575a[_0x4babfb(0x375)]['Anthropic']&&(_0x9f2cee=this[_0x4babfb(0x47c)][_0x4babfb(0x268)]),_0x4db40f[_0x4babfb(0x806)](new _0x5446dc(_0x9f2cee));}const _0x2af10a=new this[(_0x4babfb(0x938))][(_0x4babfb(0x454))](_0x4babfb(0x191)),_0x4ec821=new this[(_0x4babfb(0x938))]['documentParserConnector'](),_0x29240a=new this[(_0x4babfb(0x938))][(_0x4babfb(0x4dc))](this['configs'][_0x4babfb(0x3ff)]),_0x4eedf0=new this[(_0x4babfb(0x938))]['nlpLibraryConnector']();let _0x43c365,_0x56b8dd,_0x4a8457,_0x136f4e;if(this[_0x4babfb(0x938)]['searchConnector']){if(!this['configs']['searchApiKey'])throw new _0x10fc18(_0x10a5c8[_0x4babfb(0x34f)],'Missing\x20search\x20API\x20key');_0x43c365=new this[(_0x4babfb(0x938))]['searchConnector'](this[_0x4babfb(0x47c)][_0x4babfb(0x1aa)]);}if(this[_0x4babfb(0x938)][_0x4babfb(0x883)]){if(!this[_0x4babfb(0x47c)][_0x4babfb(0x808)])throw new _0x10fc18(_0x10a5c8[_0x4babfb(0x34f)],'Missing\x20AI\x20search\x20API\x20key');_0x56b8dd=new this['options'][(_0x4babfb(0x883))](this[_0x4babfb(0x47c)][_0x4babfb(0x808)]);}if(this[_0x4babfb(0x938)][_0x4babfb(0x89c)]&&(_0x4a8457=new this['options'][(_0x4babfb(0x89c))]()),this[_0x4babfb(0x938)][_0x4babfb(0x149)]){if(!this[_0x4babfb(0x47c)][_0x4babfb(0x49e)])throw new _0x10fc18(_0x10a5c8[_0x4babfb(0x34f)],_0x4babfb(0x1e6));_0x136f4e=new Map();for(const [_0x460fbb,_0x5178b7]of this[_0x4babfb(0x938)]['ragConnectors'])_0x136f4e[_0x4babfb(0x687)](_0x460fbb,new _0x5178b7(this[_0x4babfb(0x47c)][_0x4babfb(0x49e)]));}const _0x25d99c=await this[_0x4babfb(0x5ef)][_0x4babfb(0x18b)](_0x27996e,this['authNode'],_0x4db40f,_0x2af10a,_0x4ec821,_0x29240a,_0x4eedf0,_0x43c365,_0x56b8dd,_0x4a8457,_0x136f4e,this[_0x4babfb(0x47c)][_0x4babfb(0x3ff)]),_0x328159=this[_0x4babfb(0x1b9)][_0x4babfb(0xa73)]();this['subscriptionManager'][_0x4babfb(0x535)](_0x25d99c,_0x328159),this[_0x4babfb(0x340)]['createIncomingSubscription'](_0x328159,_0x25d99c);const _0x1004b7=this[_0x4babfb(0x559)][_0x4babfb(0x677)]();return await _0x25d99c[_0x4babfb(0x788)](0x0===_0x1004b7[_0x4babfb(0x80e)]||void 0x0),_0x25d99c;}catch(_0x34c9f2){throw this['handleError'](_0x34c9f2,{});}}[_0x2d5032(0x11b)](_0x320445){const _0x18a834=_0x2d5032;try{if(!this[_0x18a834(0x938)][_0x18a834(0x692)])throw new _0x10fc18(_0x10a5c8['GraphDatabaseMissingConnector'],_0x18a834(0x7e2));if(!(this[_0x18a834(0xa47)]instanceof _0xf2ba19))throw new _0x10fc18(_0x10a5c8[_0x18a834(0x44a)],_0x18a834(0xf5));const _0x1c0c92=this[_0x18a834(0x5ef)][_0x18a834(0xab0)](_0x320445,this[_0x18a834(0x938)][_0x18a834(0x692)]),_0x22f5e0=this[_0x18a834(0x1b9)][_0x18a834(0xa73)]();return this[_0x18a834(0x340)]['createOutgoingSubscription'](_0x1c0c92,_0x22f5e0),this[_0x18a834(0x340)]['createIncomingSubscription'](_0x22f5e0,_0x1c0c92),_0x1c0c92;}catch(_0x58e415){throw this[_0x18a834(0x740)](_0x58e415,{});}}[_0x2d5032(0x426)](_0x236d7a){const _0x1ce6a9=_0x2d5032;try{if(!this[_0x1ce6a9(0x938)]['vectorDatabaseConnector'])throw new _0x10fc18(_0x10a5c8[_0x1ce6a9(0x5d5)],_0x1ce6a9(0x65c));if(!(this[_0x1ce6a9(0xa47)]instanceof _0xf2ba19))throw new _0x10fc18(_0x10a5c8[_0x1ce6a9(0x44a)],_0x1ce6a9(0xf5));const _0x4c176d=this[_0x1ce6a9(0x5ef)][_0x1ce6a9(0x5fe)](_0x236d7a,this['options'][_0x1ce6a9(0x3f5)]),_0x307411=this['connectionManager'][_0x1ce6a9(0xa73)]();return this[_0x1ce6a9(0x340)][_0x1ce6a9(0x535)](_0x4c176d,_0x307411),this[_0x1ce6a9(0x340)]['createIncomingSubscription'](_0x307411,_0x4c176d),_0x4c176d;}catch(_0x4dfc5f){throw this[_0x1ce6a9(0x740)](_0x4dfc5f,{});}}[_0x2d5032(0x5a6)](_0x4934da){const _0x59b8e6=_0x2d5032;try{return this[_0x59b8e6(0x5ef)][_0x59b8e6(0x5a6)](_0x4934da);}catch(_0x457b12){throw this[_0x59b8e6(0x740)](_0x457b12,{});}}[_0x2d5032(0xe0)](_0x45dbf8){const _0x2dab1c=_0x2d5032;try{return this[_0x2dab1c(0x5ef)]['getObjectStoreBuckets'](_0x45dbf8);}catch(_0x1772ff){throw this[_0x2dab1c(0x740)](_0x1772ff,{});}}[_0x2d5032(0x6ce)](_0x25e379){const _0x18a5e3=_0x2d5032;try{return this[_0x18a5e3(0x5ef)]['getExternalStorageConnections'](_0x25e379);}catch(_0x5eb95d){throw this[_0x18a5e3(0x740)](_0x5eb95d,{});}}['getKeyValueDatabases'](_0x34e5f2){const _0x4e3f7b=_0x2d5032;try{return this[_0x4e3f7b(0x5ef)][_0x4e3f7b(0x86c)](_0x34e5f2);}catch(_0x2cca10){throw this[_0x4e3f7b(0x740)](_0x2cca10,{});}}[_0x2d5032(0x937)](_0x300072){const _0x318fe4=_0x2d5032;try{return this[_0x318fe4(0x5ef)][_0x318fe4(0x937)](_0x300072);}catch(_0xe162b8){throw this[_0x318fe4(0x740)](_0xe162b8,{});}}['getGenerativeAIContextsStandalone'](_0x31cb75){const _0x27529f=_0x2d5032;try{return this[_0x27529f(0x5ef)][_0x27529f(0x436)](_0x31cb75);}catch(_0x2d9d7a){throw this['handleError'](_0x2d9d7a,{});}}[_0x2d5032(0x495)](_0x2c5861){const _0x51053d=_0x2d5032;try{return this['contentManager']['getGenerativeAIWorkers'](_0x2c5861);}catch(_0x1f3988){throw this[_0x51053d(0x740)](_0x1f3988,{});}}[_0x2d5032(0x718)](_0x13cdaf){const _0xd51fed=_0x2d5032;try{return this['contentManager']['getGraphDatabases'](_0x13cdaf);}catch(_0x2b0ca1){throw this[_0xd51fed(0x740)](_0x2b0ca1,{});}}['createLocalMediaStream'](_0x3de78b,_0x54dae5){const _0x47577a=_0x2d5032;if(!this[_0x47577a(0x47c)]['features'][_0x47577a(0x21f)](_0x503230[_0x47577a(0x2a1)]))throw new _0x10fc18(_0x10a5c8[_0x47577a(0xa84)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x47577a(0x5ef)]['createLocalMediaStream'](_0x3de78b,_0x54dae5);}catch(_0x4660ba){throw this[_0x47577a(0x740)](_0x4660ba,{});}}['createLocalDynamicMediaStream'](_0x4701a1,_0x3369a0){const _0x1e62dd=_0x2d5032;if(!this[_0x1e62dd(0x47c)][_0x1e62dd(0x4cd)][_0x1e62dd(0x21f)](_0x503230[_0x1e62dd(0x2a1)]))throw new _0x10fc18(_0x10a5c8[_0x1e62dd(0xa84)],_0x1e62dd(0x400));try{return this[_0x1e62dd(0x5ef)][_0x1e62dd(0x2e4)](_0x4701a1,_0x3369a0);}catch(_0x245366){throw this[_0x1e62dd(0x740)](_0x245366,{});}}[_0x2d5032(0x20c)](_0x3f9aea){const _0x26c92b=_0x2d5032;if(!this[_0x26c92b(0x47c)][_0x26c92b(0x4cd)][_0x26c92b(0x21f)](_0x503230['MediaStream']))throw new _0x10fc18(_0x10a5c8[_0x26c92b(0xa84)],_0x26c92b(0x400));try{return this[_0x26c92b(0x5ef)][_0x26c92b(0x20c)](_0x3f9aea);}catch(_0x3671ed){throw this[_0x26c92b(0x740)](_0x3671ed,{});}}[_0x2d5032(0x643)](_0x2f4483){const _0xa290d=_0x2d5032;if(!this[_0xa290d(0x47c)][_0xa290d(0x4cd)][_0xa290d(0x21f)](_0x503230[_0xa290d(0x2a1)]))throw new _0x10fc18(_0x10a5c8[_0xa290d(0xa84)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0xa290d(0x5ef)][_0xa290d(0x643)](_0x2f4483);}catch(_0xdb61a4){throw this['handleError'](_0xdb61a4,{});}}[_0x2d5032(0x8c4)](_0x8efb15){const _0x3f6e24=_0x2d5032;try{return this[_0x3f6e24(0x5ef)][_0x3f6e24(0x8c4)](_0x8efb15);}catch(_0x7cdc17){throw this['handleError'](_0x7cdc17,{});}}[_0x2d5032(0x9c3)](_0x3eafa0,_0x31ff04){const _0x11df17=_0x2d5032;return this[_0x11df17(0x559)][_0x11df17(0x9c3)](_0x3eafa0,_0x31ff04);}[_0x2d5032(0x22a)](){const _0x265515=_0x2d5032;return this[_0x265515(0x559)][_0x265515(0x22a)]();}['getRemoteNodes'](_0x13d08c){const _0x29a156=_0x2d5032;try{return this[_0x29a156(0x559)][_0x29a156(0x95b)](_0x13d08c);}catch(_0x26f745){throw this[_0x29a156(0x740)](_0x26f745,{});}}[_0x2d5032(0x22e)](){const _0x420585=_0x2d5032;return this['connectionManager'][_0x420585(0x22e)]();}[_0x2d5032(0x177)](_0x3ab14f){const _0x607455=_0x2d5032;return this[_0x607455(0x559)][_0x607455(0x177)](_0x3ab14f);}async[_0x2d5032(0x3bb)](_0x4cd973){const _0x2f2ba9=_0x2d5032;try{if(_0x27f628[_0x2f2ba9(0x107)](_0x53d5c4['Events'],_0x2f2ba9(0x532),this[_0x2f2ba9(0x559)][_0x2f2ba9(0x4a4)](),_0x4cd973),_0xd187e3(_0x4cd973,this[_0x2f2ba9(0x559)][_0x2f2ba9(0x4a4)]()))return void this[_0x2f2ba9(0x1b9)][_0x2f2ba9(0x6bc)](_0x4cd973);switch(_0x4cd973['messageType']){case _0x4bbd49[_0x2f2ba9(0x8b3)]:this[_0x2f2ba9(0x489)]['handleContentSystemEvents'](_0x4cd973),this['subscriptionManager'][_0x2f2ba9(0x183)](_0x4cd973),this['contentManager'][_0x2f2ba9(0x183)](_0x4cd973);break;case _0x4bbd49[_0x2f2ba9(0x1e0)]:this[_0x2f2ba9(0x340)][_0x2f2ba9(0x8e4)](_0x4cd973),this['connectionManager']['handleNodeSystemEvents'](_0x4cd973),this['contentManager']['handleNodeSystemEvents'](_0x4cd973),this[_0x2f2ba9(0x559)][_0x2f2ba9(0x8e4)](_0x4cd973);break;case _0x4bbd49['Detection']:this[_0x2f2ba9(0x815)][_0x2f2ba9(0x59c)](_0x4cd973);break;case _0x4bbd49[_0x2f2ba9(0x785)]:this[_0x2f2ba9(0x815)][_0x2f2ba9(0x10c)](_0x4cd973);break;case _0x4bbd49[_0x2f2ba9(0x2d5)]:this[_0x2f2ba9(0x5b3)]['handleStatsSystemEvents'](_0x4cd973);break;case _0x4bbd49[_0x2f2ba9(0x431)]:_0x4cd973[_0x2f2ba9(0x3ab)][_0x2f2ba9(0xa7e)]!==_0x5c5086['UnsubscribeMediaStream']?(this[_0x2f2ba9(0x340)]['handleSubscriptionSystemEvents'](_0x4cd973),this[_0x2f2ba9(0x5ef)][_0x2f2ba9(0x4e5)](_0x4cd973)):(this[_0x2f2ba9(0x5ef)]['handleSubscriptionSystemEvents'](_0x4cd973),this[_0x2f2ba9(0x340)][_0x2f2ba9(0x4e5)](_0x4cd973));break;case _0x4bbd49[_0x2f2ba9(0x802)]:await this[_0x2f2ba9(0x1b9)]['handlePeerConnectionSystemEvents'](_0x4cd973),this[_0x2f2ba9(0x489)][_0x2f2ba9(0x764)](_0x4cd973),this['nodeManager'][_0x2f2ba9(0x764)](_0x4cd973),this[_0x2f2ba9(0x340)][_0x2f2ba9(0x764)](_0x4cd973);}}catch(_0x4be537){throw _0x27f628[_0x2f2ba9(0x935)]('handleSystemEvents',_0x4be537),this[_0x2f2ba9(0x740)](_0x4be537,{});}}[_0x2d5032(0x740)](_0x1fffe1,_0x234c84){const _0x52eefb=_0x2d5032;if(!(_0x1fffe1 instanceof _0x5ec887)){if(_0x1fffe1 instanceof _0x10fc18)throw _0x1fffe1;if(!(_0x1fffe1 instanceof Error))throw new _0x10fc18(_0x10a5c8[_0x52eefb(0x613)],'Internal\x20unknown\x20error:\x20'+_0x1fffe1);if(!(_0x1fffe1 instanceof _0x54e1a8))throw new _0x10fc18(_0x10a5c8['InternalSDKError'],_0x52eefb(0x80a)+_0x1fffe1[_0x52eefb(0x249)]);switch(_0x1fffe1[_0x52eefb(0x23c)]){case _0x54e1a8[_0x52eefb(0x318)][_0x52eefb(0x3f4)]:case _0x54e1a8[_0x52eefb(0x318)][_0x52eefb(0xa91)]:case _0x54e1a8['codes'][_0x52eefb(0x168)]:case _0x54e1a8[_0x52eefb(0x318)][_0x52eefb(0x6dc)]:case _0x54e1a8[_0x52eefb(0x318)]['ConnectionNotConnected']:case _0x54e1a8[_0x52eefb(0x318)][_0x52eefb(0x855)]:case _0x54e1a8[_0x52eefb(0x318)][_0x52eefb(0x1b4)]:case _0x54e1a8[_0x52eefb(0x318)]['InvalidSubscriber']:case _0x54e1a8[_0x52eefb(0x318)][_0x52eefb(0x2e9)]:case _0x54e1a8[_0x52eefb(0x318)][_0x52eefb(0x71e)]:case _0x54e1a8[_0x52eefb(0x318)][_0x52eefb(0x422)]:case _0x54e1a8['codes'][_0x52eefb(0x15e)]:}throw _0x27f628[_0x52eefb(0x275)]('sdk-internal-error:\x20'+_0x1fffe1[_0x52eefb(0x249)],{'clusterId':this[_0x52eefb(0xa46)],'nodeId':this['localNode'][_0x52eefb(0x5cd)](),'nodeType':this[_0x52eefb(0x6ff)][_0x52eefb(0xa7e)]},_0x1fffe1),new _0x10fc18(_0x10a5c8[_0x52eefb(0x613)],'Internal\x20SDK\x20error:\x20'+_0x1fffe1[_0x52eefb(0x249)]);}}[_0x2d5032(0x31b)](){const _0x1dc478=_0x2d5032;return{'mediator':this,'vendorId':this['vendorId'],'clusterId':this[_0x1dc478(0xa46)],'localNode':this['localNode']};}[_0x2d5032(0x56b)](){const _0x1b4686=_0x2d5032;return this['systemTopic'][_0x1b4686(0x75b)](_0x59bf57=>{const _0x7ebeef=_0x1b4686,_0x47e048=_0x4647c4(_0x59bf57,this['localNode'][_0x7ebeef(0x5cd)]()),_0x42e104=_0x59bf57[_0x7ebeef(0x1f1)]===_0x4bbd49[_0x7ebeef(0x2d5)]||_0x59bf57[_0x7ebeef(0x1f1)]===_0x4bbd49[_0x7ebeef(0x802)]&&_0x59bf57[_0x7ebeef(0x3ab)][_0x7ebeef(0xa7e)]===_0x14b6a1['Stats']?_0x53d5c4['SystemStats']:_0x53d5c4[_0x7ebeef(0x598)];_0x27f628[_0x7ebeef(0x91a)](_0x42e104,_0x59bf57[_0x7ebeef(0x642)]+_0x7ebeef(0x620)+_0x47e048,_0x59bf57),this[_0x7ebeef(0x3bb)](_0x59bf57)[_0x7ebeef(0xa1e)](_0x13d33f=>{console['error'](_0x13d33f);});});}async[_0x2d5032(0xa36)](_0x14f17e){const _0x64a539=_0x2d5032,{timingLogger:_0x22ac88,logger:_0x287b7a,logBeforeSync:_0x5d9a0d,logAfterSync:_0x518244}=function(_0x10cee8,_0x4f44c7){const _0xd015c4=a0_0x11f8;if(!_0x27f628[_0xd015c4(0x6e8)](_0x4f44c7))return _0x27f628['debug'](_0xd015c4(0xab3)+_0x4f44c7),{..._0x472cf8(_0x10cee8,_0x4f44c7),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x1aa032,logger:_0x5a5273}=_0x472cf8(_0x10cee8,_0x4f44c7);let _0xecbeb3=0x0;return _0xecbeb3=Date[_0xd015c4(0xa45)](),{'syncStartTime':_0xecbeb3,'timingLogger':_0x1aa032,'logger':_0x5a5273,'logBeforeSync':()=>(_0x2bc0c7(_0x4f44c7,'Before\x20Synchronization'),_0x1aa032[_0xd015c4(0xa45)]()),'logAfterSync':(_0x4d72de,_0x43adc8)=>{const _0x26830f=_0xd015c4,_0x9acb0e=Date[_0x26830f(0xa45)]();_0x2bc0c7(_0x4f44c7,'After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20'+_0x43adc8);const _0xa1a7b3=(_0x9acb0e-_0xecbeb3)/0x3e8,_0x14d25f=(_0x9acb0e-_0x4d72de)/0x3e8;_0x27f628['log'](_0x4f44c7,_0x26830f(0x9c1),_0x10cee8,'\x0a\x20===\x20Total\x20Time:\x20'+_0xa1a7b3[_0x26830f(0x766)](0x2)+_0x26830f(0x59d),_0x26830f(0x9f9)+_0x14d25f[_0x26830f(0x766)](0x3)+_0x26830f(0x59d),_0x26830f(0x747)+((_0x9acb0e-_0xecbeb3)/0x3e8-_0x14d25f)[_0x26830f(0x766)](0x2)+'\x20seconds');}};}(_0x14f17e[_0x64a539(0xa74)](),_0x53d5c4[_0x64a539(0x7a3)]);_0x287b7a[_0x64a539(0x107)](_0x64a539(0x704));const _0x3649fd=this[_0x64a539(0x559)]['getAncestorIds']()[_0x64a539(0x80e)]>0x0;if(_0x3649fd){_0x287b7a['log'](_0x64a539(0xa8a),()=>this[_0x64a539(0x559)]['getAncestorIds']()),_0x22ac88[_0x64a539(0x7cc)](),await Promise[_0x64a539(0x526)](this[_0x64a539(0x559)]['getAncestorIds']()[_0x64a539(0x247)](async _0x473bba=>await this[_0x64a539(0x559)]['isNodeReady'](_0x473bba)))['catch'](_0x3fc897=>_0x27f628['warning']('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.',{'nodeId':this['localNode'][_0x64a539(0x5cd)](),'nodeType':this[_0x64a539(0x6ff)][_0x64a539(0xa7e)]}));const _0x442761=_0x287b7a[_0x64a539(0x841)](()=>this[_0x64a539(0x559)]['getAncestorIds'](),[]);_0x22ac88[_0x64a539(0x6cf)](_0x64a539(0x418)+_0x442761+_0x64a539(0x690));}_0x518244(_0x5d9a0d(),await _0x14f17e[_0x64a539(0x8dc)](_0x3649fd,async()=>{const _0x4d9f8a=_0x64a539;_0x22ac88[_0x4d9f8a(0x7cc)](),await this[_0x4d9f8a(0x559)][_0x4d9f8a(0xa1b)](),_0x22ac88['logWaitTime'](_0x4d9f8a(0xa66)),_0x14f17e['sync'](!0x0,()=>{const _0x219557=_0x4d9f8a;_0x287b7a[_0x219557(0x107)]('KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.'),_0x14f17e['sync'](!0x1);},!0x0);}));}}class _0x1a18d4{[_0x2d5032(0x514)];[_0x2d5032(0xa46)];[_0x2d5032(0xa47)];[_0x2d5032(0x7d6)];[_0x2d5032(0x4c4)];constructor(_0xc4ba9a,_0x3ddc48,_0x171feb,_0x5e2d9d,_0x313a65,_0x31edda,_0x4e2fdf=new _0x4a22e7()){const _0xc1a055=_0x2d5032;this[_0xc1a055(0x514)]=_0xc4ba9a,this[_0xc1a055(0xa46)]=_0x3ddc48,this[_0xc1a055(0xa47)]=_0x171feb,this[_0xc1a055(0x7d6)]=_0x4e2fdf,this[_0xc1a055(0x4c4)]=new _0x5b8cf5(this[_0xc1a055(0x514)],this['clusterId'],_0x171feb,_0x5e2d9d,_0x313a65,_0x31edda,this);}async[_0x2d5032(0xa9a)](){const _0x2d6fab=_0x2d5032;await this[_0x2d6fab(0x4c4)][_0x2d6fab(0xa82)](),this['authNode'][_0x2d6fab(0xa7e)]===_0x1a575a[_0x2d6fab(0x985)][_0x2d6fab(0x850)]&&this['authNode'][_0x2d6fab(0x6a3)](this[_0x2d6fab(0xa46)],_0x48527c=>{const _0x472e06=_0x2d6fab;this[_0x472e06(0x4c4)][_0x472e06(0x1ba)](_0x48527c);});}[_0x2d5032(0x278)](_0xaa4f8c={}){const _0x130653=_0x2d5032;this[_0x130653(0x4c4)][_0x130653(0x8d0)](_0xaa4f8c),this['authNode'][_0x130653(0xa7e)]===_0x1a575a[_0x130653(0x985)]['User']&&this[_0x130653(0xa47)][_0x130653(0x125)](this[_0x130653(0xa46)]),this['emit']('cluster-leave',void 0x0);}['openPubSubTopic'](_0x1473c5){const _0x363183=_0x2d5032,_0x5d08db=this[_0x363183(0x4c4)][_0x363183(0x68f)](_0x1473c5);return{'getName':_0x5d08db[_0x363183(0x67b)]['bind'](_0x5d08db),'getOwnerId':_0x5d08db[_0x363183(0xa95)][_0x363183(0x830)](_0x5d08db),'getContentType':_0x5d08db[_0x363183(0x98e)]['bind'](_0x5d08db),'publish':_0x5d08db[_0x363183(0x849)][_0x363183(0x830)](_0x5d08db),'subscribe':_0x5d08db[_0x363183(0x75b)][_0x363183(0x830)](_0x5d08db),'unsubscribe':_0x5d08db[_0x363183(0x3c5)][_0x363183(0x830)](_0x5d08db),'close':_0x5d08db[_0x363183(0x8d0)][_0x363183(0x830)](_0x5d08db)};}async['openObjectStoreBucket'](_0x467ce3,_0x2111f5){const _0x250bb2=_0x2d5032,_0x3da5e6=await this['orchestrator'][_0x250bb2(0x486)](_0x467ce3,_0x2111f5);return{'getName':_0x3da5e6[_0x250bb2(0x67b)][_0x250bb2(0x830)](_0x3da5e6),'getOwnerId':_0x3da5e6[_0x250bb2(0xa95)]['bind'](_0x3da5e6),'getContentType':_0x3da5e6[_0x250bb2(0x98e)]['bind'](_0x3da5e6),'publish':_0x3da5e6[_0x250bb2(0x849)]['bind'](_0x3da5e6),'unpublish':_0x3da5e6['unpublish'][_0x250bb2(0x830)](_0x3da5e6),'get':_0x3da5e6[_0x250bb2(0x13f)][_0x250bb2(0x830)](_0x3da5e6),'list':_0x3da5e6[_0x250bb2(0x6bb)][_0x250bb2(0x830)](_0x3da5e6),'getSize':_0x3da5e6['getSize'][_0x250bb2(0x830)](_0x3da5e6),'subscribe':_0x3da5e6[_0x250bb2(0x75b)]['bind'](_0x3da5e6),'unsubscribe':_0x3da5e6['unsubscribe'][_0x250bb2(0x830)](_0x3da5e6),'close':_0x3da5e6[_0x250bb2(0x8d0)]['bind'](_0x3da5e6)};}async[_0x2d5032(0x64d)](_0x4b09dc,_0x223b2b){const _0x117155=_0x2d5032,_0x3c4920=await this[_0x117155(0x4c4)]['openExternalStorageConnection'](_0x4b09dc,_0x223b2b);return{'getName':_0x3c4920[_0x117155(0x67b)]['bind'](_0x3c4920),'getOwnerId':_0x3c4920[_0x117155(0xa95)]['bind'](_0x3c4920),'getContentType':_0x3c4920[_0x117155(0x98e)][_0x117155(0x830)](_0x3c4920),'close':_0x3c4920[_0x117155(0x8d0)][_0x117155(0x830)](_0x3c4920),'get':_0x3c4920['get'][_0x117155(0x830)](_0x3c4920),'list':_0x3c4920[_0x117155(0x6bb)]['bind'](_0x3c4920),'subscribe':_0x3c4920['subscribe']['bind'](_0x3c4920),'unsubscribe':_0x3c4920[_0x117155(0x3c5)][_0x117155(0x830)](_0x3c4920)};}async['openKeyValueDatabase'](_0x55be78,_0x27ba76,_0x47069d){const _0x437b79=_0x2d5032,_0x342fb4=await this[_0x437b79(0x4c4)][_0x437b79(0x623)](_0x55be78,_0x27ba76,_0x47069d);return{'getName':_0x342fb4[_0x437b79(0x67b)][_0x437b79(0x830)](_0x342fb4),'getOwnerId':_0x342fb4[_0x437b79(0xa95)]['bind'](_0x342fb4),'getContentType':_0x342fb4[_0x437b79(0x98e)][_0x437b79(0x830)](_0x342fb4),'getTable':_0x342fb4[_0x437b79(0x6b8)][_0x437b79(0x830)](_0x342fb4),'subscribe':_0x342fb4[_0x437b79(0x75b)][_0x437b79(0x830)](_0x342fb4),'unsubscribe':_0x342fb4[_0x437b79(0x3c5)][_0x437b79(0x830)](_0x342fb4),'close':_0x342fb4['close'][_0x437b79(0x830)](_0x342fb4)};}async[_0x2d5032(0x54c)](_0x48eca1){const _0x5c009e=_0x2d5032,_0x31b8c8=await this[_0x5c009e(0x4c4)][_0x5c009e(0x54c)](_0x48eca1);return{'getName':_0x31b8c8['getName'][_0x5c009e(0x830)](_0x31b8c8),'getOwnerId':_0x31b8c8[_0x5c009e(0xa95)][_0x5c009e(0x830)](_0x31b8c8),'getContentType':_0x31b8c8[_0x5c009e(0x98e)][_0x5c009e(0x830)](_0x31b8c8),'createJob':_0x31b8c8[_0x5c009e(0x94f)][_0x5c009e(0x830)](_0x31b8c8),'getJob':_0x31b8c8['getJob']['bind'](_0x31b8c8),'getJobs':_0x31b8c8[_0x5c009e(0x585)][_0x5c009e(0x830)](_0x31b8c8),'close':_0x31b8c8['close']['bind'](_0x31b8c8)};}async[_0x2d5032(0x6c1)](_0x2927dd){const _0x3722d7=_0x2d5032,_0x21531f=await this[_0x3722d7(0x4c4)]['openJobWorker'](_0x2927dd);return{'close':_0x21531f[_0x3722d7(0x8d0)][_0x3722d7(0x830)](_0x21531f)};}async[_0x2d5032(0x27b)](_0x57ffe9){const _0x135dea=_0x2d5032,_0x4be720=await this[_0x135dea(0x4c4)][_0x135dea(0x27b)](_0x57ffe9);return{'createAIJob':_0x4be720['createAIJob'][_0x135dea(0x830)](_0x4be720),'getDataBucketIds':_0x4be720[_0x135dea(0xadb)][_0x135dea(0x830)](_0x4be720),'close':_0x4be720[_0x135dea(0x8d0)][_0x135dea(0x830)](_0x4be720)};}async['openGenerativeAIContextStandalone'](_0x3fb238){const _0x167e76=_0x2d5032,_0x213c03=await this[_0x167e76(0x4c4)][_0x167e76(0x2ab)](_0x3fb238);return{'createAIJob':_0x213c03[_0x167e76(0x60a)][_0x167e76(0x830)](_0x213c03),'getDataBucketIds':_0x213c03['getDataBucketIds']['bind'](_0x213c03),'close':_0x213c03['close'][_0x167e76(0x830)](_0x213c03)};}async[_0x2d5032(0x358)](_0x3e3585){const _0x294029=_0x2d5032,_0x4a65ae=await this[_0x294029(0x4c4)][_0x294029(0x358)](_0x3e3585);return{'close':_0x4a65ae[_0x294029(0x8d0)][_0x294029(0x830)](_0x4a65ae)};}[_0x2d5032(0x11b)](_0x836448){const _0x27b0ff=_0x2d5032,_0x460144=this[_0x27b0ff(0x4c4)]['openGraphDatabase'](_0x836448);return{'getName':_0x460144[_0x27b0ff(0x67b)][_0x27b0ff(0x830)](_0x460144),'getOwnerId':_0x460144['getOwnerId'][_0x27b0ff(0x830)](_0x460144),'getContentType':_0x460144[_0x27b0ff(0x98e)][_0x27b0ff(0x830)](_0x460144),'addNode':_0x460144[_0x27b0ff(0x440)][_0x27b0ff(0x830)](_0x460144),'addEdge':_0x460144['addEdge'][_0x27b0ff(0x830)](_0x460144),'getContent':_0x460144[_0x27b0ff(0x645)]['bind'](_0x460144),'remove':_0x460144['remove']['bind'](_0x460144),'saveToDisk':_0x460144['saveToDisk']['bind'](_0x460144),'loadFromDisk':_0x460144[_0x27b0ff(0x80f)]['bind'](_0x460144),'close':_0x460144[_0x27b0ff(0x8d0)][_0x27b0ff(0x830)](_0x460144)};}['openVectorDatabase'](_0x968c5d){const _0x497da2=_0x2d5032,_0x5712dc=this['orchestrator']['openVectorDatabase'](_0x968c5d);return{'getName':_0x5712dc['getName'][_0x497da2(0x830)](_0x5712dc),'getOwnerId':_0x5712dc['getOwnerId'][_0x497da2(0x830)](_0x5712dc),'getContentType':_0x5712dc[_0x497da2(0x98e)][_0x497da2(0x830)](_0x5712dc),'search':_0x5712dc['search'][_0x497da2(0x830)](_0x5712dc),'insert':_0x5712dc[_0x497da2(0x859)][_0x497da2(0x830)](_0x5712dc),'remove':_0x5712dc[_0x497da2(0x2f0)][_0x497da2(0x830)](_0x5712dc),'saveToDisk':_0x5712dc[_0x497da2(0x664)][_0x497da2(0x830)](_0x5712dc),'loadFromDisk':_0x5712dc[_0x497da2(0x80f)]['bind'](_0x5712dc),'close':_0x5712dc['close'][_0x497da2(0x830)](_0x5712dc)};}[_0x2d5032(0x5a6)](_0x567df8){const _0x5caa67=_0x2d5032;return this[_0x5caa67(0x4c4)][_0x5caa67(0x5a6)](_0x567df8)[_0x5caa67(0x247)](_0x4ebb03=>({'getName':_0x4ebb03[_0x5caa67(0x67b)]['bind'](_0x4ebb03),'getOwnerId':_0x4ebb03[_0x5caa67(0xa95)]['bind'](_0x4ebb03),'getContentType':_0x4ebb03[_0x5caa67(0x98e)][_0x5caa67(0x830)](_0x4ebb03),'publish':_0x4ebb03[_0x5caa67(0x849)][_0x5caa67(0x830)](_0x4ebb03),'subscribe':_0x4ebb03[_0x5caa67(0x75b)]['bind'](_0x4ebb03),'unsubscribe':_0x4ebb03[_0x5caa67(0x3c5)]['bind'](_0x4ebb03),'close':_0x4ebb03[_0x5caa67(0x8d0)][_0x5caa67(0x830)](_0x4ebb03)}));}[_0x2d5032(0xe0)](_0x193b8d){const _0x1f009a=_0x2d5032;return this['orchestrator']['getObjectStoreBuckets'](_0x193b8d)[_0x1f009a(0x247)](_0x2fa528=>({'getName':_0x2fa528['getName'][_0x1f009a(0x830)](_0x2fa528),'getOwnerId':_0x2fa528[_0x1f009a(0xa95)][_0x1f009a(0x830)](_0x2fa528),'getContentType':_0x2fa528[_0x1f009a(0x98e)][_0x1f009a(0x830)](_0x2fa528),'publish':_0x2fa528[_0x1f009a(0x849)][_0x1f009a(0x830)](_0x2fa528),'unpublish':_0x2fa528[_0x1f009a(0x618)][_0x1f009a(0x830)](_0x2fa528),'get':_0x2fa528[_0x1f009a(0x13f)][_0x1f009a(0x830)](_0x2fa528),'list':_0x2fa528['list'][_0x1f009a(0x830)](_0x2fa528),'getSize':_0x2fa528['getSize'][_0x1f009a(0x830)](_0x2fa528),'subscribe':_0x2fa528[_0x1f009a(0x75b)][_0x1f009a(0x830)](_0x2fa528),'unsubscribe':_0x2fa528[_0x1f009a(0x3c5)]['bind'](_0x2fa528),'close':_0x2fa528['close']['bind'](_0x2fa528)}));}[_0x2d5032(0x6ce)](_0x3f9996){const _0x1fbe06=_0x2d5032;return this[_0x1fbe06(0x4c4)]['getExternalStorageConnections'](_0x3f9996)[_0x1fbe06(0x247)](_0x1dca9e=>({'getName':_0x1dca9e[_0x1fbe06(0x67b)][_0x1fbe06(0x830)](_0x1dca9e),'getOwnerId':_0x1dca9e[_0x1fbe06(0xa95)]['bind'](_0x1dca9e),'getContentType':_0x1dca9e['getContentType'][_0x1fbe06(0x830)](_0x1dca9e),'close':_0x1dca9e[_0x1fbe06(0x8d0)][_0x1fbe06(0x830)](_0x1dca9e),'get':_0x1dca9e[_0x1fbe06(0x13f)][_0x1fbe06(0x830)](_0x1dca9e),'list':_0x1dca9e['list'][_0x1fbe06(0x830)](_0x1dca9e),'subscribe':_0x1dca9e[_0x1fbe06(0x75b)][_0x1fbe06(0x830)](_0x1dca9e),'unsubscribe':_0x1dca9e[_0x1fbe06(0x3c5)][_0x1fbe06(0x830)](_0x1dca9e)}));}[_0x2d5032(0x86c)](_0x50152a){const _0x31a2f5=_0x2d5032;return this[_0x31a2f5(0x4c4)][_0x31a2f5(0x86c)](_0x50152a)[_0x31a2f5(0x247)](_0x471c8=>({'getName':_0x471c8[_0x31a2f5(0x67b)]['bind'](_0x471c8),'getOwnerId':_0x471c8[_0x31a2f5(0xa95)]['bind'](_0x471c8),'getContentType':_0x471c8[_0x31a2f5(0x98e)]['bind'](_0x471c8),'getTable':_0x471c8[_0x31a2f5(0x6b8)][_0x31a2f5(0x830)](_0x471c8),'subscribe':_0x471c8[_0x31a2f5(0x75b)]['bind'](_0x471c8),'unsubscribe':_0x471c8['unsubscribe'][_0x31a2f5(0x830)](_0x471c8),'close':_0x471c8['close']['bind'](_0x471c8)}));}[_0x2d5032(0x937)](_0x351a01){const _0x42b3b0=_0x2d5032;return this['orchestrator'][_0x42b3b0(0x937)](_0x351a01)[_0x42b3b0(0x247)](_0x24e778=>({'createAIJob':_0x24e778['createAIJob']['bind'](_0x24e778),'getDataBucketIds':_0x24e778[_0x42b3b0(0xadb)][_0x42b3b0(0x830)](_0x24e778),'close':_0x24e778[_0x42b3b0(0x8d0)]['bind'](_0x24e778)}));}[_0x2d5032(0x436)](_0x1af387){const _0x51a619=_0x2d5032;return this['orchestrator'][_0x51a619(0x436)](_0x1af387)[_0x51a619(0x247)](_0x414b0b=>({'createAIJob':_0x414b0b['createAIJob']['bind'](_0x414b0b),'getDataBucketIds':_0x414b0b[_0x51a619(0xadb)][_0x51a619(0x830)](_0x414b0b),'close':_0x414b0b[_0x51a619(0x8d0)]['bind'](_0x414b0b)}));}[_0x2d5032(0x495)](_0x1f1749){const _0x9d3f94=_0x2d5032;return this[_0x9d3f94(0x4c4)][_0x9d3f94(0x495)](_0x1f1749)[_0x9d3f94(0x247)](_0x242c7e=>({'close':_0x242c7e['close'][_0x9d3f94(0x830)](_0x242c7e)}));}[_0x2d5032(0x9db)](_0x5debf7,_0x987998){const _0x443085=_0x2d5032,_0x5a1086=this[_0x443085(0x4c4)][_0x443085(0x93b)](_0x5debf7,_0x987998);return{'getLabel':_0x5a1086[_0x443085(0xa74)][_0x443085(0x830)](_0x5a1086),'getOwnerId':_0x5a1086[_0x443085(0xa95)]['bind'](_0x5a1086),'getContentType':_0x5a1086['getContentType'][_0x443085(0x830)](_0x5a1086),'getMediaStream':_0x5a1086[_0x443085(0x9aa)]['bind'](_0x5a1086),'setPriority':_0x5a1086['setPriority'][_0x443085(0x830)](_0x5a1086),'unpublish':_0x5a1086[_0x443085(0x618)][_0x443085(0x830)](_0x5a1086)};}[_0x2d5032(0x462)](_0x31485b,_0x105eba){const _0x2ce4d=_0x2d5032,_0xce14dc=this[_0x2ce4d(0x4c4)][_0x2ce4d(0x2e4)](_0x31485b,_0x105eba);return{'getLabel':_0xce14dc[_0x2ce4d(0xa74)][_0x2ce4d(0x830)](_0xce14dc),'getOwnerId':_0xce14dc[_0x2ce4d(0xa95)][_0x2ce4d(0x830)](_0xce14dc),'getContentType':_0xce14dc[_0x2ce4d(0x98e)][_0x2ce4d(0x830)](_0xce14dc),'setPriority':_0xce14dc[_0x2ce4d(0x7ad)][_0x2ce4d(0x830)](_0xce14dc),'unpublish':_0xce14dc[_0x2ce4d(0x618)][_0x2ce4d(0x830)](_0xce14dc),'getMediaStream':_0xce14dc[_0x2ce4d(0x9aa)][_0x2ce4d(0x830)](_0xce14dc),'addTrack':_0xce14dc['addTrack'][_0x2ce4d(0x830)](_0xce14dc),'removeTrack':_0xce14dc[_0x2ce4d(0x39b)][_0x2ce4d(0x830)](_0xce14dc),'replaceTrack':_0xce14dc[_0x2ce4d(0x85d)][_0x2ce4d(0x830)](_0xce14dc),'setTransformations':_0xce14dc['setTransformations'][_0x2ce4d(0x830)](_0xce14dc)};}[_0x2d5032(0x20c)](_0x52fc98){const _0x5c2a25=_0x2d5032;return this[_0x5c2a25(0x4c4)][_0x5c2a25(0x20c)](_0x52fc98)[_0x5c2a25(0x247)](_0x70a51=>({'getLabel':_0x70a51[_0x5c2a25(0xa74)][_0x5c2a25(0x830)](_0x70a51),'getOwnerId':_0x70a51[_0x5c2a25(0xa95)][_0x5c2a25(0x830)](_0x70a51),'getContentType':_0x70a51['getContentType'][_0x5c2a25(0x830)](_0x70a51),'getMediaStream':_0x70a51[_0x5c2a25(0x9aa)]['bind'](_0x70a51),'setPriority':_0x70a51[_0x5c2a25(0x7ad)][_0x5c2a25(0x830)](_0x70a51),'unpublish':_0x70a51[_0x5c2a25(0x618)][_0x5c2a25(0x830)](_0x70a51)}));}[_0x2d5032(0x643)](_0x40b744){const _0x7ef516=_0x2d5032;return this[_0x7ef516(0x4c4)][_0x7ef516(0x643)](_0x40b744)['map'](_0x3205eb=>({'getLabel':_0x3205eb[_0x7ef516(0xa74)][_0x7ef516(0x830)](_0x3205eb),'getOwnerId':_0x3205eb[_0x7ef516(0xa95)]['bind'](_0x3205eb),'getContentType':_0x3205eb[_0x7ef516(0x98e)][_0x7ef516(0x830)](_0x3205eb),'getMediaStream':_0x3205eb[_0x7ef516(0x9aa)][_0x7ef516(0x830)](_0x3205eb),'subscribe':_0x3205eb[_0x7ef516(0x75b)][_0x7ef516(0x830)](_0x3205eb),'unsubscribe':_0x3205eb[_0x7ef516(0x3c5)][_0x7ef516(0x830)](_0x3205eb),'getAvailableTrackKinds':_0x3205eb['getAvailableTrackKinds'][_0x7ef516(0x830)](_0x3205eb),'update':_0x3205eb['update'][_0x7ef516(0x830)](_0x3205eb),'onProviderChange':_0x3205eb['onProviderChange'][_0x7ef516(0x830)](_0x3205eb)}));}[_0x2d5032(0x718)](_0x3c7ab4){const _0x3e2da7=_0x2d5032;return this[_0x3e2da7(0x4c4)][_0x3e2da7(0x718)](_0x3c7ab4)[_0x3e2da7(0x247)](_0x61e315=>({'getName':_0x61e315['getName']['bind'](_0x61e315),'getOwnerId':_0x61e315[_0x3e2da7(0xa95)][_0x3e2da7(0x830)](_0x61e315),'getContentType':_0x61e315['getContentType']['bind'](_0x61e315),'addNode':_0x61e315[_0x3e2da7(0x440)][_0x3e2da7(0x830)](_0x61e315),'addEdge':_0x61e315[_0x3e2da7(0x8f2)][_0x3e2da7(0x830)](_0x61e315),'getContent':_0x61e315[_0x3e2da7(0x645)][_0x3e2da7(0x830)](_0x61e315),'remove':_0x61e315[_0x3e2da7(0x2f0)]['bind'](_0x61e315),'saveToDisk':_0x61e315['saveToDisk']['bind'](_0x61e315),'loadFromDisk':_0x61e315[_0x3e2da7(0x80f)]['bind'](_0x61e315),'close':_0x61e315[_0x3e2da7(0x8d0)][_0x3e2da7(0x830)](_0x61e315)}));}['getVectorDatabases'](_0x1b712d){const _0x1ef8fd=_0x2d5032;return this[_0x1ef8fd(0x4c4)][_0x1ef8fd(0x8c4)](_0x1b712d)[_0x1ef8fd(0x247)](_0x3c3d3f=>({'getName':_0x3c3d3f[_0x1ef8fd(0x67b)][_0x1ef8fd(0x830)](_0x3c3d3f),'getOwnerId':_0x3c3d3f[_0x1ef8fd(0xa95)][_0x1ef8fd(0x830)](_0x3c3d3f),'getContentType':_0x3c3d3f[_0x1ef8fd(0x98e)][_0x1ef8fd(0x830)](_0x3c3d3f),'search':_0x3c3d3f[_0x1ef8fd(0xa63)]['bind'](_0x3c3d3f),'insert':_0x3c3d3f[_0x1ef8fd(0x859)][_0x1ef8fd(0x830)](_0x3c3d3f),'remove':_0x3c3d3f[_0x1ef8fd(0x2f0)][_0x1ef8fd(0x830)](_0x3c3d3f),'saveToDisk':_0x3c3d3f[_0x1ef8fd(0x664)][_0x1ef8fd(0x830)](_0x3c3d3f),'loadFromDisk':_0x3c3d3f[_0x1ef8fd(0x80f)][_0x1ef8fd(0x830)](_0x3c3d3f),'close':_0x3c3d3f['close'][_0x1ef8fd(0x830)](_0x3c3d3f)}));}[_0x2d5032(0x22a)](){const _0x548e07=_0x2d5032,_0x196716=this[_0x548e07(0x4c4)][_0x548e07(0x22a)]();switch(_0x196716[_0x548e07(0xa7e)]){case _0x1a575a[_0x548e07(0x985)][_0x548e07(0x850)]:return{'type':_0x1a575a[_0x548e07(0x985)][_0x548e07(0x850)],'getId':_0x196716[_0x548e07(0x5cd)][_0x548e07(0x830)](_0x196716),'getDisplayName':_0x196716[_0x548e07(0x917)][_0x548e07(0x830)](_0x196716),'getEmail':_0x196716[_0x548e07(0x8e5)][_0x548e07(0x830)](_0x196716),'getRemoteConnections':_0x196716[_0x548e07(0x71a)]['bind'](_0x196716),'setDisplayName':_0x196716['setDisplayName'][_0x548e07(0x830)](_0x196716),'setEmail':_0x196716[_0x548e07(0x1b0)][_0x548e07(0x830)](_0x196716)};case _0x1a575a[_0x548e07(0x985)][_0x548e07(0x6a1)]:default:return{'type':_0x1a575a['NodeType'][_0x548e07(0x6a1)],'getId':_0x196716[_0x548e07(0x5cd)][_0x548e07(0x830)](_0x196716),'getRemoteConnections':_0x196716[_0x548e07(0x71a)]['bind'](_0x196716)};}}[_0x2d5032(0x95b)](_0x4427a3){const _0x5c6dbd=_0x2d5032;return this['orchestrator'][_0x5c6dbd(0x95b)](_0x4427a3)[_0x5c6dbd(0x247)](_0x47d5ad=>{const _0x5147ae=_0x5c6dbd;switch(_0x47d5ad[_0x5147ae(0xa7e)]){case _0x1a575a[_0x5147ae(0x985)][_0x5147ae(0x850)]:return{'type':_0x1a575a[_0x5147ae(0x985)][_0x5147ae(0x850)],'getId':_0x47d5ad['getId'][_0x5147ae(0x830)](_0x47d5ad),'getDisplayName':_0x47d5ad['getDisplayName'][_0x5147ae(0x830)](_0x47d5ad),'getEmail':_0x47d5ad['getEmail']['bind'](_0x47d5ad),'getRemoteConnections':_0x47d5ad[_0x5147ae(0x71a)][_0x5147ae(0x830)](_0x47d5ad)};case _0x1a575a[_0x5147ae(0x985)][_0x5147ae(0x6a1)]:return{'type':_0x1a575a[_0x5147ae(0x985)]['Agent'],'getId':_0x47d5ad[_0x5147ae(0x5cd)][_0x5147ae(0x830)](_0x47d5ad),'getRemoteConnections':_0x47d5ad['getRemoteConnections'][_0x5147ae(0x830)](_0x47d5ad)};default:throw new _0x10fc18(_0x10a5c8[_0x5147ae(0x44a)],'Invalid\x20node\x20type');}});}['on']=(..._0x5c082f)=>{this['eventEmitter']['on'](..._0x5c082f);};[_0x2d5032(0x71b)]=(..._0x1f0dec)=>this[_0x2d5032(0x7d6)][_0x2d5032(0x71b)](..._0x1f0dec);[_0x2d5032(0x116)](..._0x43e5c5){const _0xe822cb=_0x2d5032;this[_0xe822cb(0x7d6)][_0xe822cb(0x116)](..._0x43e5c5);}}class _0x49d131{['id'];[_0x2d5032(0x7c5)];[_0x2d5032(0xa5d)];[_0x2d5032(0xa7e)]=_0x1a575a['NodeType']['User'];[_0x2d5032(0x944)]=new Map();[_0x2d5032(0x25a)]=_0x2d1ffa();constructor(_0x145f10,_0x1d9032,_0x44b248){const _0x28a06f=_0x2d5032;this['id']=_0x145f10,this[_0x28a06f(0x7c5)]=_0x1d9032,this[_0x28a06f(0xa5d)]=_0x44b248;}[_0x2d5032(0x5cd)](){return this['id'];}[_0x2d5032(0x917)](){const _0x311529=_0x2d5032;return this[_0x311529(0x7c5)];}[_0x2d5032(0x8e5)](){const _0x43c372=_0x2d5032;return this[_0x43c372(0xa5d)];}[_0x2d5032(0xaae)](_0x146ca3){const _0x243dbc=_0x2d5032;this['displayName']!==_0x146ca3&&(this[_0x243dbc(0x7c5)]=_0x146ca3,this['observer']['publish'](this));}[_0x2d5032(0x1b0)](_0x3013e7){const _0x466a60=_0x2d5032;this[_0x466a60(0xa5d)]!==_0x3013e7&&(this['email']=_0x3013e7,this['observer']['publish'](this));}['registerCluster'](_0x341a63,_0x2f8e14){const _0x13af25=_0x2d5032;if(this['joinedClusters'][_0x13af25(0x290)](_0x341a63))return;const _0x33b0f7=this[_0x13af25(0x25a)][_0x13af25(0x75b)](_0x2f8e14);this[_0x13af25(0x944)][_0x13af25(0x687)](_0x341a63,_0x33b0f7);}[_0x2d5032(0x125)](_0x40535d){const _0x417f79=_0x2d5032;if(!this[_0x417f79(0x944)][_0x417f79(0x290)](_0x40535d))return;const _0x2c3ade=this[_0x417f79(0x944)][_0x417f79(0x13f)](_0x40535d);_0x2c3ade&&_0x2c3ade(),this[_0x417f79(0x944)][_0x417f79(0x113)](_0x40535d);}}class _0xb03a40{[_0x2d5032(0x514)];[_0x2d5032(0x712)];constructor(_0x7d0254){this['vendorId']=_0x7d0254;}async[_0x2d5032(0x1de)](_0x16d93b){const _0x1a09c0=_0x2d5032,_0x38f317=await(0x0,_0x4257bc['httpsCallable'])(_0x2f80ec[_0x1a09c0(0x3ce)](),_0x1a09c0(0x61f))({'uid':_0x1a09c0(0x5ca)+this[_0x1a09c0(0x514)]+_0x1a09c0(0x5ca)+_0x16d93b['id']}),_0x4bb93d=await(0x0,_0x317ff6[_0x1a09c0(0x77f)])(_0x2f80ec[_0x1a09c0(0x292)](),_0x38f317[_0x1a09c0(0x906)][_0x1a09c0(0x8c5)]);this['user']=_0x4bb93d[_0x1a09c0(0x712)];}async[_0x2d5032(0x5ae)](){const _0xbffc61=_0x2d5032;await(0x0,_0x317ff6[_0xbffc61(0x5ae)])(_0x2f80ec[_0xbffc61(0x292)]());}[_0x2d5032(0x922)](){const _0x1715f1=_0x2d5032;return this[_0x1715f1(0x712)]?.['getIdToken']()??Promise[_0x1715f1(0x554)](_0x1715f1(0x6d1));}}class _0x3a3370{static [_0x2d5032(0x237)];[_0x2d5032(0xa01)]=[];constructor(){}static[_0x2d5032(0x181)](){const _0x568f9e=_0x2d5032;return _0x3a3370[_0x568f9e(0x237)]||(_0x3a3370[_0x568f9e(0x237)]=new _0x3a3370()),_0x3a3370[_0x568f9e(0x237)];}[_0x2d5032(0xa82)](){const _0xdde0a5=_0x2d5032;this[_0xdde0a5(0x531)](),this[_0xdde0a5(0x58c)](),this[_0xdde0a5(0x103)](),this[_0xdde0a5(0x56d)](),this[_0xdde0a5(0x894)](),this[_0xdde0a5(0x4bd)](),this['checkMediaRecording'](),this['checkBackgrounds'](),this[_0xdde0a5(0x703)](),this[_0xdde0a5(0x1bb)](),_0x27f628[_0xdde0a5(0x107)](_0x53d5c4[_0xdde0a5(0x2eb)],_0xdde0a5(0x314),{'featureSupport':this[_0xdde0a5(0xa01)]});}[_0x2d5032(0x12c)](_0x5a5fee){const _0x56c0db=_0x2d5032,_0x4079ee=this['featureSupport']['find'](_0x1d1685=>_0x1d1685[_0x56c0db(0x928)]===_0x5a5fee);return!!_0x4079ee&&_0x4079ee['supported'];}['logSupport'](_0x314aea){const _0x145996=_0x2d5032;_0x27f628[_0x145996(0xf0)](_0x145996(0x360),{'nodeId':_0x314aea[_0x145996(0x5cd)](),'nodeType':_0x314aea[_0x145996(0xa7e)],'data':{'featureSupport':this[_0x145996(0xa01)]}});}[_0x2d5032(0x531)](){const _0x3d07d0=_0x2d5032,_0x4a6834=_0x3d9fe9[_0x3d07d0(0x6dd)];let _0x41900d=!0x1;_0x3d07d0(0x1ad)==typeof RTCPeerConnection&&_0x3d07d0(0x1ad)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x41900d=!0x0:_0x27f628['log'](_0x53d5c4[_0x3d07d0(0x2eb)],'Support:\x20'+_0x4a6834+_0x3d07d0(0x639)),this['featureSupport'][_0x3d07d0(0x806)]({'name':_0x4a6834,'supported':_0x41900d});}[_0x2d5032(0x58c)](){const _0xf47a94=_0x2d5032,_0x12afa5=_0x3d9fe9[_0xf47a94(0x2a1)];let _0x5b0323=!0x1;_0xf47a94(0x1ad)==typeof MediaStream&&_0xf47a94(0x1ad)==typeof MediaStreamTrack&&_0xf47a94(0x97a)==typeof navigator&&_0xf47a94(0x97a)==typeof navigator[_0xf47a94(0x790)]&&_0xf47a94(0x1ad)==typeof navigator[_0xf47a94(0x790)][_0xf47a94(0x7b3)]?_0x5b0323=!0x0:_0x27f628[_0xf47a94(0x107)](_0x53d5c4[_0xf47a94(0x2eb)],_0xf47a94(0x527)+_0x12afa5+_0xf47a94(0x639)),this[_0xf47a94(0xa01)]['push']({'name':_0x12afa5,'supported':_0x5b0323});}[_0x2d5032(0x103)](){const _0x27b8ce=_0x2d5032,_0x289faf=_0x3d9fe9[_0x27b8ce(0x38c)];let _0x44aadc=!0x1;_0x27b8ce(0x97a)==typeof navigator&&'object'==typeof navigator[_0x27b8ce(0x790)]&&_0x27b8ce(0x1ad)==typeof navigator[_0x27b8ce(0x790)][_0x27b8ce(0x616)]?_0x44aadc=!0x0:_0x27f628['log'](_0x53d5c4[_0x27b8ce(0x2eb)],'Support:\x20'+_0x289faf+_0x27b8ce(0x639)),this[_0x27b8ce(0xa01)][_0x27b8ce(0x806)]({'name':_0x289faf,'supported':_0x44aadc});}[_0x2d5032(0x56d)](){const _0x1d34df=_0x2d5032,_0x347052=_0x3d9fe9[_0x1d34df(0xa2a)];let _0x54e810=!0x1;_0x1d34df(0x1ad)!=typeof AudioContext||_0x1d34df(0x1ad)!=typeof ScriptProcessorNode&&_0x1d34df(0x1ad)!=typeof AudioWorkletNode||_0x1d34df(0x1ad)!=typeof MediaStreamAudioSourceNode?_0x27f628[_0x1d34df(0x107)](_0x53d5c4[_0x1d34df(0x2eb)],_0x1d34df(0x527)+_0x347052+_0x1d34df(0x639)):_0x54e810=!0x0,this[_0x1d34df(0xa01)][_0x1d34df(0x806)]({'name':_0x347052,'supported':_0x54e810});}['checkDeviceConfig'](){const _0x27424e=_0x2d5032,_0x54f1e4=_0x3d9fe9[_0x27424e(0x997)];let _0x1d90f2=!0x1;_0x27424e(0x97a)==typeof navigator&&_0x27424e(0x97a)==typeof navigator['mediaDevices']&&_0x27424e(0x1ad)==typeof navigator['mediaDevices'][_0x27424e(0x1ca)]&&'function'==typeof MediaDeviceInfo?_0x1d90f2=!0x0:_0x27f628[_0x27424e(0x107)](_0x53d5c4[_0x27424e(0x2eb)],_0x27424e(0x527)+_0x54f1e4+_0x27424e(0x639)),this[_0x27424e(0xa01)][_0x27424e(0x806)]({'name':_0x54f1e4,'supported':_0x1d90f2});}[_0x2d5032(0x4bd)](){const _0xd55760=_0x2d5032,_0x5f1930=_0x3d9fe9[_0xd55760(0x9bc)];let _0x2ef9ff=!0x1;_0xd55760(0x97a)==typeof document&&_0xd55760(0x1ad)==typeof document[_0xd55760(0x106)](_0xd55760(0x5f6))['setSinkId']?_0x2ef9ff=!0x0:_0x27f628[_0xd55760(0x107)](_0x53d5c4[_0xd55760(0x2eb)],'Support:\x20'+_0x5f1930+'\x20not\x20supported'),this[_0xd55760(0xa01)]['push']({'name':_0x5f1930,'supported':_0x2ef9ff});}async[_0x2d5032(0x71f)](){const _0x172e5d=_0x2d5032,_0x1d02a1=_0x3d9fe9['Recording'];let _0x3b84fd=!0x1;try{const _0x457ac4=document[_0x172e5d(0x106)](_0x172e5d(0xad8));if(MediaRecorder&&MediaSource&&_0x457ac4[_0x172e5d(0x7f2)]){const _0x1624d6=_0x457ac4[_0x172e5d(0x7f2)](),_0x483867=new MediaRecorder(_0x1624d6);_0x483867['start'](),await new Promise(_0x3e51ff=>setTimeout(_0x3e51ff,0x7d0)),_0x483867['stop'](),_0x3b84fd='inactive'===_0x483867[_0x172e5d(0x7cf)];}}catch(_0x382a62){_0x27f628['log'](_0x53d5c4[_0x172e5d(0x2eb)],_0x172e5d(0x527)+_0x1d02a1+_0x172e5d(0x53a),_0x382a62);}this[_0x172e5d(0xa01)][_0x172e5d(0x806)]({'name':_0x1d02a1,'supported':_0x3b84fd}),_0x3b84fd||_0x27f628[_0x172e5d(0x107)](_0x53d5c4['Support'],_0x172e5d(0x527)+_0x1d02a1+_0x172e5d(0x639));}[_0x2d5032(0xae6)](){const _0x1b3295=_0x2d5032,_0x324715=_0x3d9fe9[_0x1b3295(0x3f9)];let _0x43c14c=!0x1;try{document[_0x1b3295(0x106)](_0x1b3295(0xad8))[_0x1b3295(0x7f2)]&&(_0x43c14c=!0x0);}catch(_0x1b5af6){_0x27f628[_0x1b3295(0x107)](_0x53d5c4['Support'],_0x1b3295(0x527)+_0x324715+_0x1b3295(0x53a),_0x1b5af6);}this['featureSupport']['push']({'name':_0x324715,'supported':_0x43c14c}),_0x43c14c||_0x27f628[_0x1b3295(0x107)](_0x53d5c4[_0x1b3295(0x2eb)],_0x1b3295(0x527)+_0x324715+_0x1b3295(0x639));}[_0x2d5032(0x703)](){const _0x3168df=_0x2d5032,_0x19f9e3=_0x3d9fe9[_0x3168df(0x6a2)];let _0x19489a=!0x1;try{const _0xccd882=document[_0x3168df(0x106)](_0x3168df(0xad8));WebGLRenderingContext&&_0xccd882[_0x3168df(0xa60)](_0x3168df(0x601))&&(_0x19489a=!0x0);}catch(_0x5a9fb5){_0x27f628['log'](_0x53d5c4[_0x3168df(0x2eb)],_0x3168df(0x527)+_0x19f9e3+_0x3168df(0x53a),_0x5a9fb5);}this['featureSupport']['push']({'name':_0x19f9e3,'supported':_0x19489a}),_0x19489a||_0x27f628[_0x3168df(0x107)](_0x53d5c4['Support'],_0x3168df(0x527)+_0x19f9e3+_0x3168df(0x639));}[_0x2d5032(0x1bb)](){const _0x20b2a1=_0x2d5032,_0xde221c=_0x3d9fe9[_0x20b2a1(0x7cd)];let _0x7023d2=!0x1;_0x20b2a1(0x1ad)==typeof AudioContext?_0x7023d2=!0x0:_0x27f628['log'](_0x53d5c4[_0x20b2a1(0x2eb)],_0x20b2a1(0x527)+_0xde221c+_0x20b2a1(0x639)),this['featureSupport']['push']({'name':_0xde221c,'supported':_0x7023d2});}}const _0x412b18=_0x3a3370[_0x2d5032(0x181)]();class _0x3e2a82{static [_0x2d5032(0x237)];static [_0x2d5032(0x3c5)];static ['mode'];[_0x2d5032(0x4f3)];[_0x2d5032(0x514)];[_0x2d5032(0x938)];[_0x2d5032(0x47c)];[_0x2d5032(0x4b0)]=new Map();[_0x2d5032(0x651)];constructor(_0x33631d,_0x262ec3,_0x8e6482){const _0x26bcff=_0x2d5032;this[_0x26bcff(0x514)]=_0x33631d,this[_0x26bcff(0x47c)]=_0x262ec3,this[_0x26bcff(0x4f3)]=new _0xb03a40(this[_0x26bcff(0x514)]),_0x412b18[_0x26bcff(0xa82)](),this[_0x26bcff(0x938)]={'audioContext':_0x8e6482?.[_0x26bcff(0x8a1)]??(_0x412b18['isFeatureSupported'](_0x3d9fe9[_0x26bcff(0x7cd)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x8e6482?.[_0x26bcff(0x32b)]??0x1,'minConnections':_0x8e6482?.[_0x26bcff(0x10d)]??0x3,'maxConnections':_0x8e6482?.[_0x26bcff(0xafa)]??(_0x8e6482?.[_0x26bcff(0x10d)]&&0x4*_0x8e6482[_0x26bcff(0x10d)])??0xc,'maxDistance':_0x8e6482?.[_0x26bcff(0x12b)]??0xa,'maxFps':_0x8e6482?.[_0x26bcff(0x30b)]??0x18,'maxBpp':_0x8e6482?.[_0x26bcff(0x18e)]??0.12,'objectStoreConnector':_0x8e6482?.[_0x26bcff(0x454)]??_0x29869d[_0x26bcff(0x9d9)],'externalStorageConnectors':_0x8e6482?.[_0x26bcff(0x26a)],'keyValueDatabaseConnector':_0x8e6482?.[_0x26bcff(0x7a8)]??_0x3378fc['IDBDatabaseConnector'],'peerConnectionConnector':_0x8e6482?.['peerConnectionConnector']??_0x5f3259[_0x26bcff(0x955)],'generativeAIWorkerConnectors':_0x8e6482?.[_0x26bcff(0x92b)],'vectorDatabaseConnector':_0x8e6482?.[_0x26bcff(0x3f5)],'graphDatabaseConnector':_0x8e6482?.[_0x26bcff(0x692)],'documentParserConnector':_0x8e6482?.['documentParserConnector'],'fileConnector':_0x8e6482?.[_0x26bcff(0x4dc)],'nlpLibraryConnector':_0x8e6482?.[_0x26bcff(0x34c)],'searchConnector':_0x8e6482?.[_0x26bcff(0x212)],'aiSearchConnector':_0x8e6482?.[_0x26bcff(0x883)],'queryFileConnector':_0x8e6482?.['queryFileConnector'],'ragConnectors':_0x8e6482?.[_0x26bcff(0x149)]},_0x8e6482?.[_0x26bcff(0x96c)]&&this[_0x26bcff(0x938)]['audioContext']&&_0x461db3[_0x26bcff(0x35f)](this['options']['audioContext']),_0x27f628[_0x26bcff(0xadf)](this[_0x26bcff(0x514)]),_0x8e6482?.[_0x26bcff(0x1bf)]&&_0x27f628[_0x26bcff(0x7c0)](_0x8e6482['loggingConnectors']);}static async['getInstance'](_0x5a9f6b,_0x160a2c,_0x3b2a04,_0x271c2d,_0x52fea2){const _0xd5d872=_0x2d5032;this['mode']=_0x3b2a04;const _0x1cdb7a=await this['validateAccess'](_0x5a9f6b,_0x160a2c,_0x52fea2);return _0x3e2a82['instance']||(_0x3e2a82[_0xd5d872(0x237)]=new _0x3e2a82(_0x5a9f6b,_0x1cdb7a,_0x271c2d)),{'close':_0x3e2a82[_0xd5d872(0x237)][_0xd5d872(0x8d0)][_0xd5d872(0x830)](_0x3e2a82[_0xd5d872(0x237)]),'authenticateUser':_0x3e2a82[_0xd5d872(0x237)][_0xd5d872(0x860)][_0xd5d872(0x830)](_0x3e2a82[_0xd5d872(0x237)]),'authenticateAgent':_0x3e2a82[_0xd5d872(0x237)][_0xd5d872(0x782)]['bind'](_0x3e2a82[_0xd5d872(0x237)]),'validateKey':_0x3e2a82[_0xd5d872(0x237)][_0xd5d872(0x17c)][_0xd5d872(0x830)](_0x3e2a82[_0xd5d872(0x237)]),'joinCluster':_0x3e2a82[_0xd5d872(0x237)][_0xd5d872(0x7f8)][_0xd5d872(0x830)](_0x3e2a82[_0xd5d872(0x237)])};}static async[_0x2d5032(0x9f5)](){const _0x4d0714=_0x2d5032;return _0x2f80ec[_0x4d0714(0x117)]();}static[_0x2d5032(0x2dc)](){const _0x20378f=_0x2d5032;return _0x1e75f5[_0x20378f(0x2dc)];}async['close'](_0x178176){const _0x132163=_0x2d5032;this[_0x132163(0x4b0)]['forEach'](_0x55f491=>{const _0x11a432=_0x132163;_0x55f491[_0x11a432(0x116)](),_0x55f491[_0x11a432(0x278)](_0x178176);}),this[_0x132163(0x4b0)][_0x132163(0x24b)](),this[_0x132163(0x938)][_0x132163(0x8a1)]&&_0x461db3['stopNoThrottlingHack'](),_0x3e2a82[_0x132163(0x3c5)]?.(),_0x3e2a82[_0x132163(0x3c5)]=void 0x0,this[_0x132163(0x651)]=void 0x0,await this[_0x132163(0x4f3)][_0x132163(0x5ae)](),_0x3e2a82[_0x132163(0x237)]=void 0x0;}static async['validateAccess'](_0x416653,_0x4ba875,_0x20569f){const _0x3b659e=_0x2d5032;if(!this['mode'])throw new _0x10fc18(_0x10a5c8[_0x3b659e(0x833)],_0x3b659e(0x56a));let _0xca48b6;try{_0xca48b6=await(0x0,_0x4257bc['httpsCallable'])(_0x2f80ec[_0x3b659e(0x3ce)](),_0x3b659e(0x243))({'vendorId':_0x416653,'accessToken':_0x4ba875,'secretKey':_0x20569f});}catch(_0x5640d4){throw new _0x10fc18(_0x10a5c8['InvalidAccess'],'Invalid\x20credentials');}if(!this[_0x3b659e(0xa0c)](_0xca48b6['data']))throw new _0x10fc18(_0x10a5c8[_0x3b659e(0x334)],_0x3b659e(0x5dd));const _0x51cf75=_0xca48b6[_0x3b659e(0x906)];return _0x51cf75[_0x3b659e(0x4cd)]||(_0x51cf75['features']=[]),this['unsubscribe']||(this[_0x3b659e(0x3c5)]=_0x461db3['setInterval'](async()=>{const _0x35624c=_0x3b659e;try{const _0x1be1c2=await this['validateAccess'](_0x416653,_0x4ba875,_0x20569f);this[_0x35624c(0x60d)]===_0x1a575a['NodeType'][_0x35624c(0x6a1)]&&(_0x1be1c2[_0x35624c(0xad0)]=_0x1be1c2[_0x35624c(0xad0)][_0x35624c(0xa9f)](_0x2ad3cb=>_0x2ad3cb[_0x35624c(0x4aa)][_0x35624c(0x517)](_0x35624c(0x2aa)))),_0x51cf75[_0x35624c(0xad0)]=_0x1be1c2[_0x35624c(0xad0)];}catch(_0xd06fed){}},0x1b7740)),_0x51cf75;}async[_0x2d5032(0x860)](_0x4f7fd6){const _0x114a99=_0x2d5032;if(_0x3e2a82[_0x114a99(0x60d)]!==_0x1a575a[_0x114a99(0x985)][_0x114a99(0x850)])throw new _0x10fc18(_0x10a5c8['NodeInvalidType'],_0x114a99(0xfe));await this['authService'][_0x114a99(0x1de)](_0x4f7fd6);const _0x52d687=new _0x49d131(_0x4f7fd6['id'],_0x4f7fd6[_0x114a99(0x7c5)],_0x4f7fd6['email']);return this[_0x114a99(0x651)]={'node':_0x52d687},_0x412b18[_0x114a99(0xaa3)](_0x52d687),{'type':_0x1a575a['NodeType'][_0x114a99(0x850)],'getId':_0x52d687['getId'][_0x114a99(0x830)](_0x52d687),'getDisplayName':_0x52d687[_0x114a99(0x917)][_0x114a99(0x830)](_0x52d687),'getEmail':_0x52d687['getEmail'][_0x114a99(0x830)](_0x52d687),'setDisplayName':_0x52d687[_0x114a99(0xaae)][_0x114a99(0x830)](_0x52d687),'setEmail':_0x52d687[_0x114a99(0x1b0)][_0x114a99(0x830)](_0x52d687)};}async[_0x2d5032(0x782)](_0x1799ff){const _0x3a87bd=_0x2d5032;if(_0x3e2a82['mode']!==_0x1a575a[_0x3a87bd(0x985)]['Agent'])throw new _0x10fc18(_0x10a5c8[_0x3a87bd(0x44a)],_0x3a87bd(0xfe));const {id:_0x5e9efc,groupId:_0xa724ef}=_0x1799ff,_0x2e2b91=await(0x0,_0x4538fe[_0x3a87bd(0x22c)])((0x0,_0x4538fe[_0x3a87bd(0x96f)])(_0x2f80ec['getFirestore'](),_0x3a87bd(0x7db)+this[_0x3a87bd(0x514)]+_0x3a87bd(0x350)+_0xa724ef));if(!_0x2e2b91[_0x3a87bd(0x59b)]())throw new _0x10fc18(_0x10a5c8[_0x3a87bd(0x128)],_0x3a87bd(0xad7));const _0xa7e3d5=_0x2e2b91[_0x3a87bd(0x906)]();await this[_0x3a87bd(0x4f3)][_0x3a87bd(0x1de)]({'id':_0x5e9efc});const _0x28e5b9=new _0xf2ba19(_0x5e9efc,_0xa724ef,this[_0x3a87bd(0x514)],_0xa7e3d5);return this[_0x3a87bd(0x651)]={'node':_0x28e5b9},_0x412b18[_0x3a87bd(0xaa3)](_0x28e5b9),this['connectAgent'](_0x28e5b9),{'type':_0x1a575a['NodeType'][_0x3a87bd(0x6a1)],'getId':_0x28e5b9[_0x3a87bd(0x5cd)][_0x3a87bd(0x830)](_0x28e5b9),'onConfigurationChange':_0x28e5b9['onConfigurationChange']['bind'](_0x28e5b9),'setReportCapacity':_0x28e5b9[_0x3a87bd(0x42c)]['bind'](_0x28e5b9)};}async[_0x2d5032(0x17c)](_0xf224d3,_0x374ebc){const _0x24e252=_0x2d5032,_0x1d4764=await(0x0,_0x4538fe[_0x24e252(0x22c)])((0x0,_0x4538fe[_0x24e252(0x96f)])(_0x2f80ec[_0x24e252(0x2af)](),_0x24e252(0x8fc)+_0xf224d3));if(!_0x1d4764['exists']()){const _0x8daf14=atob(_0xf224d3)[_0x24e252(0x93c)](':'),_0x4d898e=_0x8daf14[_0x24e252(0x35e)](),_0x3cd71c=_0x8daf14[_0x24e252(0xa9a)](':');if(!_0x4d898e||!_0x3cd71c)throw new _0x10fc18(_0x10a5c8['InvalidAccess'],_0x24e252(0x365));try{return await(0x0,_0x4257bc[_0x24e252(0x603)])(_0x2f80ec[_0x24e252(0x3ce)](),_0x24e252(0x243))({'vendorId':_0x4d898e,'accessToken':_0x3cd71c,'origin':_0x374ebc}),_0x4d898e;}catch(_0x2ee1df){throw new _0x10fc18(_0x10a5c8[_0x24e252(0x334)],_0x24e252(0x277)+(_0x2ee1df instanceof Error?_0x2ee1df[_0x24e252(0x249)]:_0x24e252(0x3c1)));}}return _0x1d4764['data']()[_0x24e252(0x514)];}async[_0x2d5032(0x7f8)](_0x48f8bb,_0x563297){const _0x15c7ab=_0x2d5032;if(!this['authContext'])throw new _0x10fc18(_0x10a5c8[_0x15c7ab(0x128)],'Node\x20not\x20authenticated');if(this[_0x15c7ab(0x651)][_0x15c7ab(0x761)]['type']!==_0x1a575a['NodeType'][_0x15c7ab(0x850)])throw new _0x10fc18(_0x10a5c8[_0x15c7ab(0x548)],_0x15c7ab(0x9d0));if(this[_0x15c7ab(0x4b0)][_0x15c7ab(0x290)](_0x48f8bb))throw new _0x10fc18(_0x10a5c8[_0x15c7ab(0x241)],_0x15c7ab(0xa8d));const _0x228d13=new _0x1a18d4(this[_0x15c7ab(0x514)],_0x48f8bb,this[_0x15c7ab(0x651)]['node'],this[_0x15c7ab(0x4f3)],this[_0x15c7ab(0x938)],this[_0x15c7ab(0x47c)]);return!0x0!==_0x563297&&await _0x228d13[_0x15c7ab(0xa9a)](),this[_0x15c7ab(0x4ea)](_0x48f8bb,_0x228d13),_0x27f628[_0x15c7ab(0xf0)](_0x15c7ab(0x5e9),{'clusterId':_0x48f8bb,'nodeId':this['authContext']['node'][_0x15c7ab(0x5cd)](),'nodeType':this[_0x15c7ab(0x651)]['node'][_0x15c7ab(0xa7e)]}),{'leave':_0x228d13[_0x15c7ab(0x278)][_0x15c7ab(0x830)](_0x228d13),'getLocalNode':_0x228d13[_0x15c7ab(0x22a)]['bind'](_0x228d13),'openPubSubTopic':_0x228d13['openPubSubTopic'][_0x15c7ab(0x830)](_0x228d13),'openObjectStoreBucket':_0x228d13[_0x15c7ab(0x486)]['bind'](_0x228d13),'openExternalStorageConnection':_0x228d13[_0x15c7ab(0x64d)][_0x15c7ab(0x830)](_0x228d13),'openKeyValueDatabase':_0x228d13[_0x15c7ab(0x623)]['bind'](_0x228d13),'openGenerativeAIContext':_0x228d13[_0x15c7ab(0x27b)][_0x15c7ab(0x830)](_0x228d13),'openGenerativeAIContextStandalone':_0x228d13[_0x15c7ab(0x2ab)][_0x15c7ab(0x830)](_0x228d13),'openGenerativeAIWorker':_0x228d13['openGenerativeAIWorker'][_0x15c7ab(0x830)](_0x228d13),'openGraphDatabase':_0x228d13[_0x15c7ab(0x11b)][_0x15c7ab(0x830)](_0x228d13),'openVectorDatabase':_0x228d13['openVectorDatabase'][_0x15c7ab(0x830)](_0x228d13),'publishLocalMediaStream':_0x228d13[_0x15c7ab(0x9db)][_0x15c7ab(0x830)](_0x228d13),'publishLocalDynamicMediaStream':_0x228d13[_0x15c7ab(0x462)]['bind'](_0x228d13),'getPubSubTopics':_0x228d13[_0x15c7ab(0x5a6)][_0x15c7ab(0x830)](_0x228d13),'getObjectStoreBuckets':_0x228d13[_0x15c7ab(0xe0)]['bind'](_0x228d13),'getExternalStorageConnections':_0x228d13[_0x15c7ab(0x6ce)][_0x15c7ab(0x830)](_0x228d13),'getKeyValueDatabases':_0x228d13[_0x15c7ab(0x86c)]['bind'](_0x228d13),'getGenerativeAIContexts':_0x228d13[_0x15c7ab(0x937)][_0x15c7ab(0x830)](_0x228d13),'getGenerativeAIContextsStandalone':_0x228d13[_0x15c7ab(0x436)][_0x15c7ab(0x830)](_0x228d13),'getGenerativeAIWorkers':_0x228d13[_0x15c7ab(0x495)][_0x15c7ab(0x830)](_0x228d13),'getGraphDatabases':_0x228d13[_0x15c7ab(0x718)][_0x15c7ab(0x830)](_0x228d13),'getVectorDatabases':_0x228d13['getVectorDatabases'][_0x15c7ab(0x830)](_0x228d13),'getLocalMediaStreams':_0x228d13[_0x15c7ab(0x20c)]['bind'](_0x228d13),'getRemoteMediaStreams':_0x228d13['getRemoteMediaStreams'][_0x15c7ab(0x830)](_0x228d13),'getRemoteNodes':_0x228d13[_0x15c7ab(0x95b)]['bind'](_0x228d13),'on':_0x228d13['on']['bind'](_0x228d13),'off':_0x228d13[_0x15c7ab(0x116)]['bind'](_0x228d13)};}async[_0x2d5032(0x7a0)](_0x3fc5c7){const _0x3623c9=_0x2d5032,_0x420811=new _0x1a18d4(this[_0x3623c9(0x514)],_0x3623c9(0x191),_0x3fc5c7,this[_0x3623c9(0x4f3)],this[_0x3623c9(0x938)],this['configs']);await _0x420811['join'](),this[_0x3623c9(0x4ea)](_0x3623c9(0x191),_0x420811),_0x27f628[_0x3623c9(0x58d)](_0x3623c9(0x257),_0x3623c9(0x191)),await _0x420811[_0x3623c9(0x358)](_0x3623c9(0x191)),_0x27f628['forceLog']('Opened\x20generative\x20AI\x20worker',_0x3623c9(0x191));}['addCluster'](_0x759c56,_0x28470e){const _0x58d6fc=_0x2d5032;this[_0x58d6fc(0x4b0)][_0x58d6fc(0x687)](_0x759c56,_0x28470e),_0x28470e['on']('cluster-leave',()=>{const _0x51ea75=_0x58d6fc;_0x28470e[_0x51ea75(0x116)](),this['clusters'][_0x51ea75(0x113)](_0x759c56);});}static[_0x2d5032(0xa0c)](_0x4c4633){const _0x487ceb=_0x2d5032;return void 0x0!==_0x4c4633[_0x487ceb(0xad0)];}}return _0x3e33e0;})())));function a0_0x5706(){const _0x29f015=['ExternalStorageInvalidPath','startAt','query','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','.groovy','JobWorkerInvalidType','1:519415702791:web:5dd39042f881cfde3251a2','GenerativeAIWorker:\x20Opened','registerPublisher','key','knowledge','timestamp','onConnectionStateChange','statsReport','handleUpdateMediaStream','\x0a\x20===\x20Wait\x20Time:\x20','.handlebars','\x27\x20reserved','file-write','path','.ppt','\x20attempts:','onUnregisterPublisher','featureSupport','PromptRating','localId','maxDepth','Interviewer\x20Agent','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','capacityReporter','getOrResetPendingFileTimeout','files','clearConnectionTimeout','processRemoteInboundReport','isInternalSDKConfigs','image_url','getJobDispatchers','retryLimit','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','status','documentParserConnector','GenerativeAIWorkerMissingConnector','senderCurrentTimestamp','resizeHandler','batchTimeout','gain','currentFrames','autoplay','peaks','isReady','checkSyncComplete','Connection\x20does\x20not\x20exist.','catch','Search','pool','clusters/','createPendingFileWrite','input_tokens','/workflows/','retrieveBlocks','ConnectionState','count','setupConnectionEvents','Invalid\x20value.\x20Property\x20\x27','AudioVolume','buildInitialMMR','.j2','external-storage-connection-already-subscribed','readyPromises','knowledgeCutoffDate','keys','object-storage','sendFile','PubSubTopicNameNotString','.swift','CrewdleConnection\x20handlePeerConnectionSystemEvents','syncKeyValueDatabase','readyResolve','requestSubscription','UpdateMediaStream','Error\x20executing\x20agent','@root','nodeId','signalingServer','slice','\x20new\x20transactions','NodeJoin','publishFolder','oncloseTimeout','debounceReadyTimeout','Buffered\x20chunks\x20are\x20too\x20large','now','clusterId','authNode','remote-stream-missing-provider-id','CloseJobWorker','Sender','If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer','Problem','logUsage','receiverStreams','dataBucketIds','Media','KeyValueDatabaseStats','inputTokens','file-list','Cannot\x20get\x20size\x20of\x20path:\x20','processReceivedTransactions','FormSkillGetQuestion','stream','committed','handleConnectionSuccess','cpu.time_per_frame','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','onDisconnectHandler','email','width','key-value-database-table-not-found','getContext','ExternalStorageConnectorsMissing','getMaxConnections','search','getReader','buildTableEvent','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','getDataCollection','previous','3624160zPNYgq','RemoteConnectionExists','isSync','.rb','bandwidth.bitrate','getProviderId','Node\x20\x27','connectionTimeout','Base\x20Peer\x20Connection','subscribeToJobs','getConnectionGroup','getLabel','requestSubscriptionAction','blocks','reduce','currentBatch','FramePerSecond','bodyParameters','executeWorkflow','content-unpublish-media','createMediaStreamDestination','type','Job','No\x20global\x20object\x20found','form-skill-submit-form','initialize','Debug','FeatureNotEnabled','receiverCurrentBytes','CONNECTION_STATE_CHANGE','getTracks','childRemovedUnsubscriber','bufferEvent','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','\x0a\x0adata:\x20','unregisterPublisher','Cluster\x20already\x20joined','canChooseAnswer','providerListener','maxLayer','MissingRemoteConnection','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','VectorDatabaseCreationFailed','values','getOwnerId','en-US','defineProperty','PubSubTopicStats','getResolutionScale','join','root\x20hash:\x20','registerSource','LocalMediaStreamAlreadyExists','DataChannel\x20send\x20error','filter','getTrack','arrayBuffer','onloadeddata','logSupport','transactions','\x27\x20payload:','application/octet-stream','form-skill','ObjectStoreInvalidSyncMessage','configure','removeObjectStore','inputType','deleteTransactionsForTable','FormSubmitForm','setDisplayName','batchQueue','createGraphDatabase','JobQueueService:\x20Job\x20completed','setTimestamp','Logging\x20not\x20enabled\x20for\x20channel\x20','syncPendingFiles','hashPeakHashes','clearSubscriptionRequestTimeout','LoggingService:\x20logging\x20enabled\x20for','removeLocalMediaStream','crewdle-sdk-stg','VectorDatabaseDoesNotExist','candidate','computeHash','Reranker\x20block\x20is\x20missing\x20required\x20data','Index','initializeApp','router','generateClient','ObjectStoreAlreadyExists','clusterEventEmitter','logDataSent','6166sQVmOx','asc','284696iPFMzD','nextNodeId','appendTransaction','getBufferedAmount','No\x20parameters\x20provided','senderTotalMessages','remote-media-stream-invalid-subscription-params','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','createMediaStreamSource','iceServers','sendWithRetry','createBatchOperation','applyRemediation','tool','evaluateProccessedJob','google','Agent\x20group\x20not\x20found','canvas','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','setupStatsCollection','getDataBucketIds','getRank','Table\x20not\x20found','endsWith','setVendorId','traceLevel','output_tokens','getSubscriptionLabel','Invalid\x20publisher.','answerContentAvailable','logDataReceived','checkBackgrounds','developers','getTableConnector','removeConnection','Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','debugEnabled','validateLayout','.crewdle-pending','peakHeights','sendReject','checkExistingPendingFileContent','competitive-agent','onValue','\x20failed.\x20Retrying...','operator','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','KeyValueDatabaseTableNameReserved','models','chosenAnswers','maxConnections','commitLevel','Events','updated','getObjectStoreBuckets','GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage','layout','required','Generative\x20AI\x20context\x20job\x20failed.','Generic\x20AI\x20Agent','grammar','\x27\x20is\x20not\x20ready','endpointMethod','disconnectCallback','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','Missing\x20remote\x20node\x20or\x20rank','optimizationLayers','connection-invalid-data-event','sendStats','propagate','logEvent','track','reset','AITrace','connect','Node\x20is\x20not\x20an\x20agent','verb','GenerativeAIWorkerAlreadyExists','Store\x20already\x20exists','openedTraces','RemoteRemove','Invalid\x20content\x20type','Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','account','Node\x20type\x20is\x20invalid','onClose','Feedback\x20Agent','prototype','GraphDatabaseNameNotString','checkScreenSharing','Add','JobWorker:\x20Sending\x20job\x20result','createElement','log','Number','Agent\x20output\x20is\x20not\x20a\x20string','timePerFrame','Subject','handleRemediationSystemEvents','minConnections','cost','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','CrewdleSenderConnection\x20createOffer','\x20finalized.','GraphDatabaseAlreadyExists','delete','getEngineType','region','off','getEstimatedTimestamp','.yaml','utf8','tracks','openGraphDatabase','createBatch','warn','node-already-exist','key-value-database-name-not-string','additionnalInstructions','onCandidate','subscription-request-does-not-exist','prompt','Error\x20reading\x20file\x20chunk\x20after\x20','unregisterCluster','appsync-connect','waitSendBuffer','NodeNotAuthenticated','msalRefreshToken','getSentences','maxDistance','isFeatureSupported','createRemoteNode','StreamReport','instantiateTransactionTable','JobWorkerAlreadyExists','trace','removeGraphDatabase','getResolution','DTVolatility','audioDestination','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','head','/capacities','client','DataCollectionDoesNotExist','tables','SearchPerplexity','JobQueueService:\x20Running\x20job','FileDelete','get','storage','detectLocalIssues','FormSkill','Invalid\x20key\x20\x27','Key-value\x20database\x20transaction\x20value\x20not\x20set.','Rejected','connection-not-initialized','clusterKey','isFailedResponse','ragConnectors','GenerativeAILabelConflict','generic-agent','server','Stream\x20does\x20not\x20exist','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','AudioContext\x20is\x20not\x20available','getSenderBitrate','key-value-database-invalid-value','processContentAvailable','publishFile','PubSubTopic\x20not\x20found','sendTransactionsValue','detectVideoIssues','Rejected\x20answer','submitForm','I\x20have\x20finished\x20executing\x20my\x20task.','drawImage','InputAudioStream','isWhereValues','Summary\x20Generator','InvalidSubscription','offset','Missing\x20answerer\x20id\x20on\x20request\x20answer','List','generative-ai-context-job-timeout','removeRemoteStreamSubscription','lastCapacityReport','logger','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','internalProcessJobStream','PeerConnectionInvalidDestination','fetchContentFromUrl','receiver','Node\x20already\x20exists.','Model\x20ID\x20is\x20required','transactionService','\x20created\x20and\x20dispatched.','wait','QueryBuilderInvalidArgument','/resources/generative-ai-workflow/items/','debounceProcessRank','\x0a\x20===\x20Total\x20Nodes:','Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','generative-ai-context-invalid-partial-result','floor','isNodeReady','desc','.exs','getSupportedContentTypes','getIsLoaded','validateKey','sonar-pro','Early\x20return:\x20','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','getDTVolatility','getInstance','Missing\x20AI\x20search\x20API\x20key','handleContentSystemEvents','GenerativeAIWorkerCreationFailed','getSubscriptionInfo','removeVectorDatabase','ObjectStoreCannotWriteTransaction','SenderSendMessage','Code','connectionPool','createGenerativeAIWorker','system','searchEngineId','maxBpp','Learning\x20Agent','August\x202023','crewdle','async','processOutboundReports','externalStorageConnections','Generative\x20AI\x20context\x20creation\x20failed.','rootComputationPromise','complete','maxFramerate','crewdle-sdk.appspot.com','https://api.crewdle.ai','File','-leave','bandwidth.rtt','1431QaWmFw','maxTokens','ExecuteWorkflow','getDataCollections','0\x20B','GraphDatabase','\x20not\x20found.','external-storage-connection-does-not-exist','JobDispatcherObserverNotFound','stop','removeIncomingSubscription','text/event-stream','searchApiKey','processJobStream','vector-database-creation-failed','function','setRemoteConnections','SenderPeerConnection.send','setEmail','collection','then','Count','InvalidPublisher','packetsReceived','Search\x20Agent','origin','getToolName','connectionManager','updateUser','checkAudioContext','Invalid\x20version\x20\x27','subscribedTracks','Module','loggingConnectors','Waiting','sendChunked','getJob','page','EntityExtractor','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','/embeddings','Optimization','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','getLayout','enumerateDevices','handleSubscriptionUnsubscribeMediaStream','resetConnection','Data\x20Sent','completion_tokens','startTracing','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','mmrRoot','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','CloseGraphDatabase','commitTrace','Everyone\x20','lastTransactionId','user-join','system-stats','currentDistance','kind','ExternalStorageConnection\x20not\x20found','Invalid\x20job\x20type','CloseMediaStream','signInWithCredential','Invalid\x20job\x20service\x20payload.','Node','createNewBatch','removeListener','FetchUrl','score','openTrace','Missing\x20RAG\x20API\x20key','Error\x20executing\x20code','isComputingMMR','detection','peerConnectionConnector','onNodeUpdate','graph-database-creation-failed','CannotProvideMediaStream','cachedRoot','ConnectionGroup','removePubSubTopic','messageType','Error\x20searching','cores','prompt_tokens','deleteCollection','queryOrPrompt','parseWorkflowBlocks','setInternalId','deleteFileChunks','addRemoteNode','cpu.fps','WriteFile','getDataLogged','Receiving\x20\x27','firebase-connect','SubscriptionRequestInProgress','question','CloseJobDispatcher','secheduleTime','vector','canProvideResolution','relations','workflowId','notifyJoin','transactionHashMap','channel','boolean','getLocalMediaStreams','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','bufferedAmount','successNotified','setOnTableWriteHandler','Cluster','searchConnector','KeyValueDatabaseSendTransactions','handleFileWrite','getKeyValueDatabase','publishSyncCompleted','.pdf','ready','listenerUnsubscribers','between','Reranker','pow','FormSetAnswer','accessToken','includes','loggingCycle','GenerativeAIContextAlreadyExists','\x20with\x20\x27','heartbeatUnsubscriber','write-file','handlePublishMediaStream','ExternalStorageConnectionDoesNotExist','object-store-invalid-payload','Upload','previousFrames','getLocalNode','addProblem','getDoc','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','waitForArrayBufferSize','handleLocalTrackFailure','KeyValueDatabaseInvalidValue','getMinConnections','processInboundReports','.ini','Execute\x20the\x20agent\x20','isConnected','setupTrackEndedListeners','instance','SHA-256','publishSystemMessage','Method\x20not\x20implemented.','FinalOutput','code','handleAnswer','registerSystemSource','isAvailable','ObjectStoreInvalidState','ClusterAlreadyJoined','LocalMediaStreamNoAudioContext','sdkValidateAccess','crewdle-sdk-logging-','clearHeartbeat','RequestFileSync','map','targetId','message','modelId','clear','OpenAI','ChunkSplitter','isIceCandidate','Restart\x20NeedMediaStream','unshift','min','sonar-reasoning','updateJob','tableUnsubscriber','contentType','pipe','Joined\x20cluster','Send\x20request','functions','observer','timeoutCallback','createGenerativeAIContextStandalone','PubSub\x20already\x20exists','GraphDatabase\x20not\x20found','calculateSize','AppSync\x20connection\x20not\x20ready','publishNodeLeave','Failed','all-minilm-l12-v2','av_delay','Signaling','Error\x20opening\x20trace','job-dispatcher-already-exists','anthropicApiKey','object-store-not-in-sync','externalStorageConnectors','trackEndedListeners','DatabaseEvent','createPubSubTopic','retryDelay','connectionType','JobWorker:\x20Handling\x20job\x20attribution','FormGetQuestion','auth','collection-query','stopTracing','error','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','Invalid\x20key:\x20','leave','size','Entity','openGenerativeAIContext','senderConnection','April\x202024','createExternalStorageConnection','parseWorkflowDocument','Problem\x20detected:\x20','ExternalStorageConnectionAlreadySubscribed','maps','where','object-store-cannot-write-transaction','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','/developers/','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','internalId','addCandidate','connections','handleHandshake','pub-sub-topic-does-not-exist','data-collection','eventTarget','local-stream-does-not-exist','has','PubSubTopic\x20onMessage','getAuth','remoteConnections','Sender\x20connection\x20is\x20not\x20initialized.','getDatabase','WorkflowInvalidBlockType','batchSize','Issue\x20detected:\x20','processPendingSyncTransactions','clientHeight','.tpl','ingestBlocks','bandwidth.jitter','onChildRemoved','syncTransactions','peer-connection-invalid-destination','MediaStream','May\x202024','logMMRRebuild','1.0.43','generative-ai-context-job-failed','setProviderId','index','getJobWorkers','subscription','stun:','openGenerativeAIContextStandalone','memoryUsage','JobWorkerCreationFailed','getPeaks','getFirestore','generative-ai-context-creation-failed','CloseExternalStorageConnection','SenderPeerConnection\x20send','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','append','deleteFile','ref','getBuffer','job-worker-does-not-exist','Error','WordSplitter','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','ranges','retry','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','sendIceCandidates','getClosestNodes','isWhereBetween','Anthropic','onHandshakeStateChange','scheduleTime','onRemoveTrack','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','Key-Value\x20Database\x20-\x20Sync\x20Completed','FROM\x20file','deleteJob','tableName','rebuildMMR','receiverPreviousBytes','engineType','AI\x20Worker\x20already\x20exists','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','toStringTag','gpt-4.1-nano','warning','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','Rating','Stats','Job\x20with\x20id\x20','connectionConstructor','syncTimeout','mediaTopics','closed','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','isProduction','Text','.vb','blank-agent','clientWidth','threshold','handleOnMessage','isSubscribed','createLocalDynamicMediaStream','registerSubscriber','.ipynb','invalid-subscription','deleteObject','SubscriptionRequestDoesNotExist','removeSubscriptionsForNode','Support','RequestFileWrite','external-storage-upload','standalone','>\x0a\x0a','remove','getEntities','.rkt','Error\x20closing\x20trace','\x20must\x20be\x20a\x20string','registerDestination','external-storage-invalid-path','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','.doc','Boolean','audio','getCapacityReport','connection-state','Invalid\x20subscriber.','attributes','GenerativeAIContextInvalidPartialResult','isWhereValue','sendTransactionsValue\x20-\x20value\x20not\x20found','GenerativeAIInferenceToolType','shouldEmit','checksum','waitSuccess','not-resolved','Partial','KeyValueDatabaseDoesNotExist','send','jobBids','maxFps','serverTimestamp','currentVersion','processTransactionPayload','jobPhase','bid','ObjectStoreNotInSync','clearRestartTimeout','appsync-connect-fail','Support:\x20current\x20config','getStatus','.xml','externalStorages','codes','handleSubscribeMediaStream','chooseAnswer','getConfigs','byteLength','getAudioTracks','getWorkflows','format','getCurrentVersion','asObservable','transactionQueue','RemoteMediaStreamMissingProviderId','packetsLost','\x20to\x20generate\x20a\x20response.','getTransactions','KeyValueDatabaseRequestPeakTransactions','setDoc','PromptFunctionParamsType','discoveryUnsubscriber','maxOutgoingSubscriptions','framesEncoded','discover','label','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','Outgoing','clientStream','WorkflowTool','return\x20this','InvalidAccess','issues','stats','CrewdleConnectionGroup','issue','detectStreamIssues','table','setParams','Missing\x20external\x20storage\x20connector','ObjectStorageUpload','generativeAIWorkers','getAgents','subscriptionManager','unregisterPublisherListener','JobWorker:\x20Error\x20processing\x20job','fallbackModel','Cannot\x20publish\x20folder:\x20','unregisterRemoteNode','subscriptionRequests','Context','rtt','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','Pool','.clj','nlpLibraryConnector','getReceiverTotalBytes','Job\x20','ApiKeyMissing','/resources/agent/items/','chunksReceived','collectionId','NodeManager\x20-\x20ConnectionSuccess','tableLayout','getConnections','next','if_else','openGenerativeAIWorker','VectorDatabaseAlreadyExists','removeTrackListeners','ConnectionNoRetryQueue','syncResolve','ai-search','shift','startNoThrottlingHack','support','.\x20Confirmation?\x20','setTimeout','WaitFalse','answers','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','.sql','\x0a\x20\x20===\x20Total\x20Nodes:\x20','cpu.cycle','Retrieve','setupResizeHandler','createObjectStoreBucket','sequence','setupRenderElement','hashTransaction','/resources/external-storage/items/','NodeAlreadyExist','ObjectStorageBucket','deletePendingFile','handleOffer','createBuffer','GenerativeAIEngineType','videoWidth','limitToFirst','graph-database-does-not-exist','pop','concat','.info/serverTimeOffset','JobWorker:\x20Sending\x20job\x20bid','debounceReady','CanProvideMediaStream','workflow-does-not-exist','not-in','OutgoingMediaStreamNoTopic','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','output-audio-stream','topicLabel','executeQuery','startLoggingCycle','mergeParts','.erb','getEnabledChannels','.hbs','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','ScreenSharing','July\x202024','pubSubTopics','OptimizationConnectionSuccess','getWorkflow','LocalMediaStreamDoesNotExist','November\x202024','WorkflowTrace','hosting','phi-4-14b','agentId','Error\x20validating\x20vendor\x20credits','getLocalMediaStream','Parameter\x20','sendFileRequestPayload','removeTrack','Workflow\x20output\x20is\x20not\x20a\x20string','closeTrace','chunk','key-value-database-does-not-exist','receiverTotalMessages','long','created','Handshake','key-value-database-not-open','Upgrade','history','relation','resolve','temperature','SyncComplete','content','jobQueue','Done','syncTransactionsWritten','propn','Connection\x20not\x20connected.','createKeyValueDatabase','getMaxDistance','Stream\x20already\x20exists','false','isJobRequest','Error\x20encountered\x20while\x20opening\x20database','addConnection','JobQueueService:\x20Error\x20running\x20job','startIndex','getQuery','handleSystemEvents','upgrade','Invalid\x20subscription.','arrayBufferToObject','subscriptions','graphDatabases','Unknown\x20error','An\x20error\x20occurred','links','ModelVector','unsubscribe','source','pendingFilesRename','lastUpdated','\x20writes\x20from\x20','startHeartbeat','questions','fetchUrl','graph-database-missing-connector','getFunctions','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','InitialPrompt','collection-create','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','getQuestion','organizationId','findNewMediaSubscription','missing-datachannel','fileSendingMap','GenerativeAIContext\x20stream\x20error','JobWorker:\x20Sending\x20job\x20partial\x20result','Strategizing\x20Agent','handleNodeLeave','o3-mini','handleSuccess','jobs','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','indexes','connectionGroup','FileStatus','graphService','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','.crewdle-layout','.erl','No\x20RAG\x20connector\x20available','forEach','GenerativeAIWorkerStats','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','version','clearOncloseTimeout','getPacketsLostPerc','Received\x20track','NodeDoesNotExist','file-delete','processLocalReport','GenerativeAIContextJobTimeout','MissingSystemTopic','vectorDatabaseConnector','\x20to\x20send\x20dispatcherJob\x20','Error\x20processing\x20workflow\x20block','parentId','Backgrounds','summary-generator','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','receiverTimeProcessing','encode','JobStream','openaiApiKey','MediaStream\x20feature\x20not\x20enabled','LoadSkillFunction','Folder','getShareableStream','Error\x20stringifying\x20object','getAvailableTrackKinds','signalingState','Prompt','listFiles','Router','incomingTopic','body','streams','@context.','abs','direction','assign','mistlet-capacity-report-not-set','onNodeDisconnect','setScheduleTime','addDoc','updateLastTransactionId','peer-connection','createIncomingSubscription','SyncKeyValueDatabase\x20-\x20Ancestors\x20','entries','appsync-disconnect','_isReady','collectTransactionsFromNode','removeRemoteMediaStream','dataUnsubscribers','October\x202023','RoundTripTime','getSettings','SubscriptionRequestNoAnswer','Pending','senderStreams','OfficeParser','openVectorDatabase','21nlTBrk','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','readyDebounce','getVectorDatabase','listener','setReportCapacity','\x20Stream\x20final\x20response','getReport','parameters','resolveReady','Subscription','validateVendorCredits','Embed','Invalid\x20where\x20clause','JobType','getGenerativeAIContextsStandalone','WebScraper','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','ancestors','collectReceiversStats','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','destination','pendingFilesTransactions','Sync\x20completed','JobDispatcherInvalidJobType','addNode','isValidMediaSubscriptionParams','VectorDatabase\x20not\x20found','registeredListeners','job-dispatcher-job-exists','subscription-request-in-progress','.ts','gpt-4.1-mini','getExternalStorageConnection','Connection','NodeInvalidType','/nodes','image-parser','\x20Fallback\x20model','.tcl','retryCallback','ObjectStore','FolderCreate','priority','removeRemoteConnection','objectStoreConnector','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','minRelevance','text-embedding-3-large','RAG\x20connector\x20is\x20not\x20available','handleContentUnsubscribeMediaStream','detectAudioIssues','Failed\x20to\x20get\x20file','feedback','handleObjectDelete','compareTransactions','logBatch','Cannot\x20write\x20transaction.','Resolution','publishLocalDynamicMediaStream','CustomSkill','AI\x20Service\x20already\x20exists','UnsubscribeMediaStream','left','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','frameWidth','answererId','addBidResponse','JobWorker:\x20Tracing\x20not\x20implemented','handleChunkMessage','file-download','.json','orchestrator-close','claude-3-opus-latest','database','debounceStats','getJobObservable','Invalid\x20query','\x20already\x20exists.','removeJobDispatcher','SubscribeMediaStream','maxBitrate','image','cleanOldSubscription','document-parser','configs','trackKinds','searchOnGoogle','Update','vectors','Transaction','handleOptimizationConnectionSuccess','document-agent','getDate','notifyCluster','openObjectStoreBucket','addTrack','key-value-database','statsManager','globalObject','key-value-database-invalid-layout','url','senderBitrate','upgradeTimeout','SystemStats','outgoingManager','lastExecuted','getApp','generative-ai-worker-creation-failed','\x20deleted.','getGenerativeAIWorkers','Remote\x20connection\x20already\x20exists.','connectionState','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','answer','debounceAppendLog','rating','.ex','take','ragApiKey','.cfg','getBitrate','FormSkillSubmitForm','object-store-already-exists','/objectstores/','getLocalId','feedback-agent','queues','getGraphDatabase','sentence-splitter','High','urls','invalid-access','documentPath','Failed\x20to\x20commit\x20batch\x20after\x20retries:','setBytes','Model\x20not\x20found','clusters','removeNode','hasRemoteNode','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','remoteId','hasBufferedData','chunk-splitter','ExternalStorageConnectionAlreadyExists','trackChanges','agent','unregisterSystemPublisher','startBidResponseHandling','graph-database-already-exists','checkAudioOutput','handleFolderCreate','processSenderReport','trim','messageUnsubscriber','handleFileRequest','sender','orchestrator','discoveryService','getSubscribedTracks','remote-media-stream-already-exists','Low','threadId','pendingHandshakeCandidates','read','Jitter','features','fetch-url','420235181083','workflow-tool','resolutionScale','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','Valid\x20layout','internalJob','initialPrompt','logSyncMetrics','manageOptimization','processList','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',',\x20Total\x20Nodes:','validateValue','fileConnector','localMediaStreams','PubSubTopicAlreadyExists','1:420235181083:web:4eff6062bd845cb0748cbe','objectRequests','AI\x20worker\x20creation\x20failed.','JobWorker:\x20Received\x20job\x20attribution','operations','inference','handleSubscriptionSystemEvents','GenerativeAIRagType','.jsx','detail','aws','addCluster','total','Key-value\x20database\x20peak\x20not\x20found.','RestartNeedMediaStream','ObjectStoreNotSynced','logPropagateSystemEvent','some','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','KeyValueDatabaseTableDoesNotExist','authService','generative-ai-context-job-missing-thread-id','getRoundTripTime','receiverPreviousTimestamp','GenerativeAIContextJobFailed','All','.info/connected','data:\x20[DONE]\x0a\x0a','every','unregisterSource','DataChannel\x20is\x20not\x20open.','Receiver\x20connection\x20is\x20not\x20initialized.','KeyValueDatabaseInvalidLayout','problem','active','.awk','createConstantSource','tableObserver','Model\x20not\x20found\x20','text/','transaction','sort','setInterval','.vue','jobWorkers','IntermediateOutput','usage','delta','value','minThreshold','file','Failed\x20to\x20send\x20job\x20','failed','vendorId','vectorDatabases','filesSynced','startsWith','amd','sender-send-message','KeyValueDatabaseIndexNotFound','getRemoteNode','Missing\x20owner\x20node\x20or\x20rank','systemMessages','Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','\x20does\x20not\x20exists','reasoning','Emitting\x20event\x20on\x20local\x20cluster','GraphDatabaseMissingConnector','claude-3-haiku-20240307','getObjectStoreBucket','Job\x20Worker\x20does\x20not\x20exist','all','Support:\x20','Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','fps','SentenceSplitter','handleFileSync','WaitTrue','onConfigurationChange','description','agentConfig','Embeddings','checkWebRTC','Orchestrator\x20handleSystemEvents','Node\x20does\x20not\x20exist.','app','createOutgoingSubscription','Wait','isLoaded','answer-','setStatus','\x20check\x20failed','Failed\x20to\x20get\x20filename','max','getHash','subscriptionRequestsQueue','Generative\x20AI\x20context\x20job\x20timeout.','once','Knowledge','enabled','Generative\x20AI\x20context\x20job\x20already\x20consumed.','IncomingSubscription','3525428Azcpkc','question-','upload','NodeTypeNotSupported','getMonth','\x0a\x20===\x20Current\x20MMR\x20Root','topics','openJobDispatcher','Workflow','outputTokenPrice','Invalid\x20layout:\x20','Error\x20fetching\x20URL','downgrade','.md','streamId','reject','Error\x20committing\x20batch:','publishTransaction','tail','mediaUnsubscribers','nodeManager','dt_volatility','text/csv','generative-ai-context-already-exists','syncContent','Remove','request-file-sync','pubsubTopics','connected','mmr','/transactions','GenerativeAIContextDoesNotExist','.conf','number','GenerativeAIWorker:\x20Opening','isRunning','transactionsToSync','Node\x20type\x20is\x20required','initializeSystemTopic','writeFile','checkAudioVolume','addMessage','createOffer','sendBid','VectorDatabase','.vbs','owner','batch','right','sourceId','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','KeyValueDatabaseTransactionValueNotSet','maxResolution','publishUserUpdate','messageBuffer','JobDispatcherDoesNotExist','CloseGenerativeAIContext','getPeakNode','/jobs/','text/plain','Error\x20writing\x20chunk\x20to\x20stream','\x0a\x20===\x20Total\x20Data\x20Received:\x20','isBidResponse','skipEncryption','getJobs','query-generator','entity','Completed','Search\x20in\x20data\x20collection\x20','Vector','Connected','checkMediaStream','forceLog','RemoteMediaStreamTrackFail','clearWaitAnswer','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','nodesConnected','generative-ai-worker-already-exists','onremovetrack','generative-ai-context-does-not-exist','increment','collectStats','handleObjectMove','System','northamerica-northeast1','image/','exists','handleDetectionSystemEvents','\x20seconds','key-value-database-transaction-value-not-set','JobWorkerDoesNotExist','component','handleProblem','key-value-database-table-name-reserved','packetsSent','addRemoteConnection','hashNodes','getPubSubTopics','.jinja','notifyClusterNodeJoin','getItem','MediaStreamPriority','tokens','Disconnected','remote-inbound-rtp','signOut','Accepted','minResolutionScale','debounceRebuildMMR','collection-delete','detectionManager','Cannot\x20publish\x20move\x20operation:\x20','getWorkflowExternalStorageConnections','substring','ExternalStorageNameNotString','KeyValueDatabaseSyncRequired','crewdle-sdk.firebaseapp.com','messageCallback','ObjectStoreNameNotString','endpoint','form-skill-get-question','messagesReceived','loadEnabledChannels','uid','outgoingStreams','claude-3-5-haiku-latest','unregisterSystemSource','debounceLogTimeout','handleContentSubscribeMediaStream','answerJoin','Database\x20already\x20exists','chunks','shouldContinuePropagation','ccc','.crewdle-transactions','ragConnector','getId','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','GenerativeAIContextCreationFailed','dataTopics','external-storage','currentTimestamp','unregisterDestination','listenUnsubscriber','VectorDatabaseMissingConnector','syncedFileExists','context','Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','Data\x20cluster\x20is\x20not\x20open.','LocalReport','endpointUrl','padStart','Invalid\x20credentials','word-splitter','CPUCycle','KeyValueDatabaseContentSynchronized','6Qbetrw','noun','Object\x20store\x20connector\x20is\x20not\x20available','handleSubscriptionSubscribeMediaStream','createConnection','add','isMediaSource','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','join-cluster','Channel\x20\x27','frames','.yml','Move','senderPreviousBytes','contentManager','GenerativeAIContextJobMissingThreadId','getRemoteId','processReports','systemMessagesReceived','trend-spotter','Subscription\x20request\x20failed.','video','runJobQueue','key-value-database-invalid-query','Remote\x20MediaStream\x20already\x20exists','Error\x20querying\x20file','Skill','calculateArrayBufferSize','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','createVectorDatabase','handleRequestPayload','DataStream\x20send','webgl','isSyncing','httpsCallable','remediations','pub-sub-topic-already-exists','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','sonar-deep-research','agent-config-changed','time','createAIJob','title','PubSubTopic\x20publish','mode','key-value-database-creation-failed','ImageParser','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','RemoteAdd','pathName','InternalSDKError','mute','key-value-database-table-does-not-exist','getDisplayMedia','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','unpublish','outgoing-stream-no-topic','file.content','subscriptionRequestTimeouts','695893iphfyE','Logging\x20trace','Incoming','sdkCreateToken','\x20-\x20','generative-ai','KeyValueDatabaseTableNotFound','openKeyValueDatabase','Medium','file.type','ConnectionNotConnected','missing-system-topic','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','PubSubTopicAlreadySubscribed','Database\x20does\x20not\x20exist','getMediaSubscription','getRemoteMediaStream','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','TestPage','File\x20sending\x20interrupted','generativeAIContexts','errorDetails','statusText','manageAncestor','processInboundReport','api-key-missing','Processing\x20agent\x20block:\x20','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','listenerUnsubscriber','\x20not\x20supported','Missing\x20OpenAI\x20API\x20key','Job\x20Dispatcher\x20does\x20not\x20exist','publishSyncCompletedAfterWrites','createReceiverConnection','removeOutgoingSubscription','onMessage','NodeLeave','snippet','uuid','getRemoteMediaStreams','Error\x20writing\x20file','getContent','graphql','objectStores','AI\x20Search\x20connector\x20not\x20set','handleNodeJoin','timesCalled','getChannelData','Core','openExternalStorageConnection','handleTransactionPayload','transformations','writes','authContext','setCurrentVersion','query-file','AISearch','getSimilarity','toString','canAddCandidates','messagesSent','Invalid\x20job\x20worker\x20type.','notifyObjectStoreOfNodeLeave','executeAgent','Missing\x20vector\x20database\x20connector','onSnapshot','setPendingFileSyncingPayload','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','MistletCapacityReportNotSet','generative-ai-worker-missing-connector','evaluateBids','estimatedPlayoutTimestamp','saveToDisk','notifyClusterNodeUpdate','addReservedTables','processTransactionsToComputeMMR','Initial\x20MMR\x20built\x20with','oidc','VectorDatabaseStats','setOnDisconnectHandler','unsubscribeTrackEndedListener','generative-ai-context-job-invalid-type','listen','receiverUnsubscribers','subscription-request-no-answer','String','SearchGoogle','ClosePubSubTopic','GenerativeAIModelOutputType','Operations:','enabledChannels','getAncestorIds','interval','handleSubscriptionNeedMediaStream','retryQueue','getName','JobDispatcherInvalidPayload','getNextTargetRank','lastRemediations','RelationExtractor','Result','manageBufferedChunks','setRank','processServiceReport','local-media-stream-already-exists','No\x20start\x20block\x20found','onProviderChange','set','lastProcessRank','lastHeartbeat','GenerativeAIContextJobAlreadyConsumed','outputTokens','result','handshakeCandidates','No\x20connector\x20found\x20for\x20model','openPubSubTopic','\x20were\x20ready\x20in','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','graphDatabaseConnector','KeyValueDatabaseInvalidQuery','createRemoteMediaStream','Remote\x20stream\x20does\x20not\x20exist.','topK','changesUnsubscriber','invalid-data-chanel','openAIKey','validation','ModelText','muted','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','wait-true','crewdle-sdk','exports','Agent','WebGL','registerCluster','getLastUpdated','event','callback','PayloadAction','keyPath','InvalidSubscriber','removeKeyValueDatabase','\x20-\x20Sending\x20propagation\x20(','node-type-not-supported','element','updateDebounce','JobContext','Attempt\x20','consumeBufferedEvents','Error\x20executing\x20workflow','TimePerFrame','Invalid\x20table\x20name\x20\x27','OutgoingSubscription','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','.djt','getTable','hasTracks','receiverCurrentTimestamp','list','handleOutgoingSystemEvents','embed','compileStats','getNumberOutgoingSubscriptions','receivers','openJobWorker','senders','object-store-already-subscribed','removeEventListener','subtle','parse','getTime','transactionTable','LocalMediaStreamTrackFail','setLocalRank','Object\x20store\x20is\x20not\x20in\x20sync','moveObject','No\x20file\x20content\x20found','getExternalStorageConnections','logWaitTime','transactionsToAppend','User\x20not\x20signed\x20in','Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','resolution','invalid-subscriber','.ps1','registerSystemPublisher','jitter','Knowledge\x20Cutoff\x20Date:\x20','processDataChannelReport','.bat','Missing\x20transaction\x20id','ConnectionNotinitialized','WebRTC','payloadType','Connection\x20does\x20not\x20exist','mediator','pubsub','Warning','ObjectStoreInvalidPath','images','closeTopic','Error\x20processing\x20agent\x20block','KeyValueDatabaseRequestTransactionsValue','isChannelEnabled','getTotalNodes','\x20with\x20','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','3764945YXYJcJ','queueLength','Jobs','Execute\x20skill\x20','cancel','dataStores','Workflow\x20does\x20not\x20exist.','recipients','connector','nodeKey','limit','handleSubscriptionProvideMediaStream','GenerativeAIContextStats','.xlsx','KeyValueDatabaseCreationFailed','previousTimestamp','out','debounceRebuildMMRWithTransaction','digest','localNode','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','GraphSearch','application/json','checkWebGL','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','contentMediator','contentRequestSent','keyValueDatabases','handleJobAttribution','publishNodeJoin','jobObservers','Error\x20retrieving\x20context','retryCount','removeExternalStorageConnection','reportCapacity','handleNodeUpdate','setItem','handleIceCandidates','user','STVolatility','Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','\x20attributed\x20to\x20','pendingSyncTransactions','problemType','getGraphDatabases','DataChannel\x20is\x20not\x20initialized.','getRemoteConnections','emit','contextOutputVariable','internalProcessJob','SubscriptionRequestFailed','checkMediaRecording','subscription-request-failed','retryQueues','feature-not-enabled','evaluatePartialJob','updatePropagationProperties','Bitrate','object-store-name-not-string','remoteMediaStreams','Receiver','Restart','handleContentUnpublishMediaStream','failJob','results','CloseKeyValueDatabase','\x20Ai\x20search\x20final\x20response','writeTransaction','frameTime','groupId','senderCurrentBytes','success','onGatheringStateChange','FPS','action','jobId','incrementVersion','Execute\x20the\x20workflow\x20','RemoteMediaStreamInvalidSubscriptionParams','commitType','Early\x20return','Query\x20file\x20connector\x20not\x20set','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','key-value-database-index-not-found','handleError','createTopic','apiUrl','handleNoAnswer','counter','Ingest','connection-not-connected','\x0a\x20===\x20Synchronization\x20Time:\x20','isMediaDestination','MediaStreamUnavailable','nodeUpdate','RequestFile','Success','.xls','providerId','.py','handleNeedRestart','NeedMediaStream','Syncing','Info','12351684TbOSsN','getAncestors','vector-database','IngestTrace','Additional\x20context:\x0a','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','firebaseUnsubscriber','subscribe','orderByKey','Could\x20not\x20open\x20trace','getTotalBytes','Key-value\x20database\x20table\x20does\x20not\x20exist.','clearUpgradeTimeout','node','Pinecone','Prompt\x20is\x20required','handlePeerConnectionSystemEvents','Logger.getInstance','toFixed','msalGetAccessToken','jobDispatchers','unsubscribeHandler','job-worker-creation-failed','handleSubscriptionMediaStreamUnavailable','reranker','job-dispatcher-job-not-found','createGenerativeAIContext','setSenderTimestamp','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','Invalid\x20JSON:','processOutboundReport','RetrieveTrace','processReceiverReport','sendPeakTransactions','indexOf','.crewdle-last-transaction','KeyValueDatabasePeakNotFound','Job\x20Dispatcher\x20already\x20exists','.sh','getToolParams','sonar','joinedAt','Job\x20service\x20creation\x20failed.','signInWithCustomToken','Competitive\x20Analysis\x20Agent','handshakeDebounce','authenticateAgent','currentBytes','GenerativeAIWorker:\x20FileDelete\x20failed','Remediation','getSTVolatility','firebaseConfig','open','QueryFile','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','receiverConnection','external-storage-connection-already-exists',',\x20Transactions:\x20','packets','\x20failed.','mediaDevices','gpt-4o','entities','dataChannel','isJobAttribution','.ejs','ended','Unknown\x20skill\x20type','Database\x20Opened','choices','Disconnect','instructions','handleDisconnect','object-storage-upload','closeSubscription','More\x20content\x20available\x20on\x20page\x20','connectAgent','sonar-reasoning-pro','rank','KeyValueDatabase','/stats','setupListeners','isInternalLoggingConnector','getTransactionByHash','keyValueDatabaseConnector','GenerativeAIContext','Memory\x20Usage\x20at\x20','GetContextResult','Invalid\x20index\x20in\x20table\x20\x27','setPriority','internalContext','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','contextInputVariable','handleSubscriptionRestartNeedMediaStream','removeSubscription','getUserMedia','observe','searchOnPerplexity','getCurrentMaxLayer','srcObject','SHA-1','createSenderConnection','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','FS\x20connector\x20is\x20not\x20available','No\x20connections\x20available\x20to\x20send\x20message','parseDataCollectionBlocks','TextGeneration','JobStatus','setLoggingConnectors','iceConnectionState\x20failed','Database\x20not\x20open','recomputeRoot','thread-','displayName','addAudioTrack','/resources/generative-ai-collection/items','getShareableStreamId','json','getTrackFromParam','stopNoThrottlingHack','start','AudioContext','GenerativeAIContextJobInvalidType','state','getTransactionFromTableWriteEvent','.Total\x20pages\x20available:\x20','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','FormSkillSetAnswer','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','createGain','eventEmitter','updateDebounceTimeout','mediaStream','tools','Insufficient\x20credits','developers/','nodes','clockSkew','run','Unsupported\x20job\x20type','remoteUnsubscriber','Data','Missing\x20graph\x20database\x20connector','.jinja2','Bid','isArray','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','bufferedEvents','fileChunks','height','getConnectionDestinations','inputTokenPrice','startTime','Publish\x20the\x20transaction','getVideoTracks','Archival\x20Search\x20Agent','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','rate','captureStream','closeConnection','waitConnected','call','destroy','2-digit','joinCluster','Job\x20service\x20observer\x20not\x20found.','From\x20','subject','flatMap','senderPreviousTimestamp','removeRemoteNode','file-ingest','job-worker-already-exists','Object\x20store\x20not\x20synced.','PeerConnection','StorageEventType','trackCallback','ObjectStore\x20not\x20found','push','WorkflowDoesNotExist','aiSearchApiKey','ReceiverPeerConnection.onMessage','Internal\x20error:\x20','firebase-disconnect','Error\x20resolving\x20readyPromises:','_ready','length','loadFromDisk','\x20MB','\x20answer','RemoteRemediation','appsync-statechange','GetContextQuery','remediationManager','handleContentCloseMediaStream','Offer','agent-skill','Get','statsReporting','topic','updateLastUpdated','ceil','object-store-not-synced','ObjectKind','getInternalTrackParams','ExternalStorage','handleUnsubscribeMediaStream','string','ExecuteAgent','setDurationTime','responseTimeout','Connection\x20already\x20exists','jobType','Cannot\x20unpublish\x20object:\x20','newPath','Delete','restartTimeout','receiver-on-message','JobDispatcherCreationFailed','prompts','bind','ExternalStorageUpload','RequestAccepted','NodeTypeRequired','getOutgoingOptimizationConnections','params','Request','test-page','headers','getReceiverBitrate','systemTopic','processBatch','internal','LoadKnowledgeFunction','distance','firestore','removeJobWorker','performCalculation','createFolder','appendTransactionAndUpdateHashMap','removeTrackCallback','9RglVcW','No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','GraphDatabaseStats','ObjectStoreStats','publish','model','true','confirmSynchronization','getBid','Online','audioSource','User','load','Method\x20not\x20supported','writeBatch','sendRequest','InvalidDataChannel','messageListeners','realtime-session-create','bufferedChunks','insert','isPartialResultResponse','getPriority','decodeJWT','replaceTrack','match','Crewdle','authenticateUser','cluster-disconnect','GenerativeAIModelInputType','accumulateResult','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','Internal\x20SDK\x20Error:\x20','base64','gpt-4.1','Tool','RemoteMediaStreamAlreadyExists','.js','isOffer','getKeyValueDatabases','Call\x20getQuestion\x20to\x20get\x20the\x20next\x20question','createBufferSource','outputType','/usages','addIssue','disconnect','streamLabel','fromEntries','ReceiverOnMessage','pub-sub-topic-name-not-string','.txt','incomingManager','createSubscription','move','Stats:\x20report','crewdleSDKDisableLogging','.hs','key-value-database-peak-not-found','.rs','UnpublishMediaStream','hasTable','Code\x20is\x20required','aiSearchConnector','Llamacpp','missing-incoming-connection','findNextNodeId','isNeedRestart','archival-search','object-store-invalid-path','setForDeletion','llama-3.1-8b','hash','.cs','\x20must\x20be\x20a\x20valid\x20JSON\x20string','Copywriter\x20Agent','/logs','numeric','relevance','FileWrite','checkDeviceConfig','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','.tsx','queries','handleRemoteTrackFailure','transactionIds','/resources/generative-ai-collection/items/','ObjectStorage','queryFileConnector','extendedRecipients','CloseObjectStoreBucket','data-stream','NeedRestart','audioContext','availableTrackKinds','.scala','bytesReceived','PubSubTopicDoesNotExist','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','Account','claude-3-7-sonnet-latest','job-dispatcher-does-not-exist','splitParts','relation-extractor','gpt-4o-mini','createWritableStream','getConnection','decode','vector-database-name-not-string','resume','stringify','Content','generative-ai-context-job-already-consumed','.lua','NodeConnectionsUpdate','stopConnection','Attribution','NodeManager\x20-\x20NodeLeave','Recording','lastClockUpdate','DataCollection','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','Subscription\x20request\x20has\x20not\x20been\x20answered.','data:\x20','Coordinator\x20Agent','Queued','remoteNodes','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','getVectorDatabases','token','statsCollection','/search','restartHandshake','ConnectionBufferNotEmpty','default','ExternalStorageStats','Image','KeyValueDatabaseNotOpen','shouldProcessTransaction','combinePeaks','close','processReport','POST','completeSync','getPartsFromSubscription','handleFileRequestAnswer','embedding','data:','docs','logServiceEvent','unregisterSubscriber','rejectReady','sync','frameHeight','publishMove','GenerativeAITaskType','waitAnswer','hasMessage','roundTripTime','GraphDatabaseCreationFailed','handleNodeSystemEvents','getEmail','GenerativeAIRatingStatus','media-stream','generative-ai-worker-model-sync-error','ExecuteCode','output','interview-agent','setIsLoaded','JobWorker:\x20Received\x20job\x20request','from','KeyValueDatabaseAlreadyExists','connectorConstructor','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','addEdge','Detection','external-storage-connectors-missing','entity-extractor','setEncodingParameters','GenerativeAIWorker:\x20CollectionDelete\x20failed','\x20completed.','logStorage','isResultResponse','removeItem','apikeys/','setReceiverBytes','object-store-invalid-state','OutputAudioStream','Shared','processRank','GenerativeAIWorkerModelSyncError','isPromiseResolved','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','/vector_stores/','data','api','text','ConnectionInvalidDataEvent','tool-call','Relation','clearWaitSuccess','setSubscriptionRequestTimeout','val','JobDispatcherAlreadyExists','timeSending','buffer','Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','overlap','isOpened','accumulated','Error\x20processing\x20ingest','getDisplayName','durationTime','setOnMessageHandler','logRaw','find','comparePeaks','New\x20MMR\x20Root:\x20','processJob','trackListeners','onBufferedAmountLow','Default','getIdToken','KeyValueDatabaseContentAvailable','Data\x20Received','maxThreshold','getCoresFromCapacityReport','getToolDescription','name','Received\x20ContentSynchronized\x20from\x20','Submit\x20the\x20form.','generativeAIWorkerConnectors','addPendingHandshakeCandidate','getConnectionType','crewdleSDKEnableLogging','removeGenerativeAIContext','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','Job\x20worker\x20creation\x20failed.','evaluateBidsAndAttributeJob','handleCloseContent','PublishMediaStream','debug','queryParameters','getGenerativeAIContexts','options','ObjectStoreDoesNotExist','llama-3.2-3b','createLocalMediaStream','split','setupStatsReporting','listChanges','VectorSearch','PartialResult','/nodes/','invalid-publisher','\x20received\x20partial\x20result:','joinedClusters','getPartsForSubscriptionLabel','getRoot','bitrate','timeReceiving','buildQuery','Query\x20is\x20required','key-value-database-already-exists','detectProblems','Dedicated','Error\x20during\x20MMR\x20rebuild\x20logging:','createJob','expectedTransactions','wait-false','reads','Cannot\x20list\x20directory:\x20','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','WebRTCBrowserPeerConnectionConnector','setConnectionType','AiSearch','Model','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20users\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','objectToArrayBuffer','getRemoteNodes','arguments','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','connection-buffer-not-empty','setRemoteNode','framerate','Hash\x20computation\x20failed,\x20retrying...','hasOwnProperty','update','senderTimeProcessing','VectorDatabaseNameNotString','CloseVectorDatabase','Cannot\x20find\x20External\x20Storage\x20connection:\x20','claude-3-5-sonnet-latest','handleContentRemoteMediaStreamTrackFail','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Subscribing\x20to\x20an\x20event:\x20on','disableIntervalHack','getFullYear','/jobs','doc','custom-skill','Missing\x20search\x20API\x20key','Invalid\x20data\x20channel.','PubSub','Offline','Audio','pendingFilesSyncing','AppSync\x20client\x20not\x20ready','eventListener','ContentType','object','onDataChannel','generative-ai-label-conflict','setUpgradeTimeout','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','destinationIds','queryCollection','Invalid\x20params','AgentSkill','toLocaleDateString','searchInDataCollection','NodeType','us-east-1','Processing','web-scraper-raw','handleNodeDisconnect','Executing\x20custom\x20skill:\x20','crewdle-sdk-stg.firebaseapp.com','\x20does\x20not\x20support\x20content\x20type\x20','https://crewdle-sdk-default-rtdb.firebaseio.com','getContentType','Cannot\x20get\x20file:\x20','Answer','DocumentParser','user-update','::','KeyValueDatabaseTransactionTableNotInitialized','JobDispatcherJobNotFound','orderBy','DeviceConfig','processPendingHandshakeCandidates','blockId','DataStream','\x27\x20in\x20table\x20\x27','systemTopicUnsubscribe','renderElement','totalNodes','clearSyncTimeout','handleUnpublishMediaStream','gpu','receiverBitrate','ExecuteCustomSkill','onDisconnect','isReconnecting','JobWorker:\x20Received\x20job','firstValueFrom','DataStream\x20onMessage','UnsubscribeMediaStreamdiaStream','getMediaStream','bytesSent','JobWorker:\x20Sending\x20job\x20reject','ownerId','end','storageType','data-collection-does-not-exist','sendAction','publishSyncCompletedAfterWrites\x20-\x20','\x20Process\x20inference\x20final\x20response','commitBatch','signaling','handshakeState','WebScraperRaw','replace','unsubscribeListener','supports','createCollection','AudioOutput','getWorkflowObjectStorageBuckets','getDocs','filename','undefined','KeyValueDatabase\x20-\x20Sync\x20completed','handleNodeJoinNeedPublishedStream','getDistance','text-embedding-3-small','crewdleSDKLoggingChannels','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','isEqual','reportMetric','ingestFile','getSenderTotalBytes','RemoteMediaStreamDoesNotExist','outgoingTopic','sourceVideo','Downgrade','toLowerCase','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','getSize','setAnswer','connection','NodeUpdate','\x20received\x20result:','Buffering\x20event','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','GraphDatabaseDoesNotExist','OPFSObjectStoreConnector','AudioVideoDelay','publishLocalMediaStream','ner','JobDispatcher:\x20Received\x20job','Missing\x20AI\x20worker\x20connector','/chat/completions','addBatchOperation','addEventListener','onTrack','Write\x20text\x20data\x20to\x20a\x20file.','getInternalStreamId','random','handleMissingSenders','contentSize','33dWDkbF','job-'];a0_0x5706=function(){return _0x29f015;};return a0_0x5706();}