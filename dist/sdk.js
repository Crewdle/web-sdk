function a0_0x40c1(){const _0x1e9e2d=['.swift','GenerativeAIContext\x20stream\x20error','setCurrentVersion','GenerativeAIContextJobFailed','pendingFilesRename','hashTransaction','handleChunkMessage','buildQuery','registerSystemPublisher','DataChannel\x20is\x20not\x20open.','JobWorker:\x20Tracing\x20not\x20implemented','outgoing-stream-no-topic','UpdateMediaStream','/resources/generative-ai-collection/items','openedTraces','Restart','removeLocalMediaStream','endpointUrl','AgentSkill','iceServers','removePubSubTopic','toStringTag','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','logging-db-','CrewdleConnection\x20handlePeerConnectionSystemEvents','createWritableStream','serverTimestamp','disableIntervalHack','canChooseAnswer','JobContext','Cannot\x20publish\x20file:\x20','authContext','logLevel','/capacities','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','handleContentSystemEvents','entity','setTimestamp','nodeId','timeoutValue','GenerativeAIContextJobTimeout','handleContentSubscribeMediaStream','knowledgeCutoffDate','start','JobWorker:\x20Received\x20job\x20request','logBatch','audioDestination','SubscriptionRequestNoAnswer','setRank','Retrieve','history','description','No\x20parameters\x20provided','handleOutgoingSystemEvents','ObjectStore\x20not\x20found','hasRemoteNode','hash','onDisconnect','firstValueFrom','trackCallback','minThreshold','gpu','blocks','skipEncryption','createBatchOperation','Disconnect','lastExecuted','Accepted','detection','getSenderBitrate','arrayBuffer','Stream\x20already\x20exists','attributes','asyncEndpointMethod','invalid-data-chanel','Subscription\x20request\x20has\x20not\x20been\x20answered.','modelStore','getWorkflow','Hash\x20computation\x20failed,\x20retrying...','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','forEach','completed','Node\x20is\x20not\x20an\x20agent','generativeAIWorkers','getIsLoaded','cluster-already-joined','publishSystemMessage','stop','\x20attempts:','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','RemoteRemediation','knowledge','detectProblems','stopConnection','sendStats','pubsub','SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors','CanProvideMediaStream','getBufferedAmount','Received\x20content\x20available\x20from\x20node','createBufferSource','processReports','Missing\x20graph\x20database\x20connector','generative-ai','Connection','\x20received\x20result:','.jsx','.ppt','combinePeaks','request-file','publishSyncCompletedAfterWrites\x20-\x20','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','maps','connectorConstructor','ExecuteAgent','parseWorkflowDocument','bufferEvent','handleDetectionSystemEvents','pow','forceLog','initializeApp','updated','ObjectStoreInvalidSyncMessage','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','unregisterRemoteNode','JobWorkerInvalidType','node-already-exist','\x20new\x20transactions','registerPublisher','subscribeToExternalContent','handleNoAnswer','origin','listChanges','handleMissingSenders','InvalidSubscription','25234068VJNMkD','Multiple\x20files\x20found','handleContentCloseMediaStream','waitForArrayBufferSize','loggingDatabaseConnector','processContentAvailable\x20-\x20Peak\x20comparison:','nlpLibraryConnector','1.0.17','.erb','vector-database','ObjectKind','StorageEventType','ObjectStoreCannotWriteTransaction','publish','Internal\x20SDK\x20Error:\x20','\x20must\x20be\x20a\x20boolean','mmr','closeSubscription','onNodeDisconnect','NodeTypeRequired','InvalidPublisher','receiverBitrate','openGenerativeAIContext','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27','Data','resizeHandler','file-write','options','receiver','propn','inputType','functionsRegion','maxTokens','searchInDataCollection','internalContext','deleteFileChunks','System','handleSubscriptionSubscribeMediaStream','ObjectStorageUpload','isSync','MissingRemoteConnection','.jinja','nodesConnected','once','counter','GraphDatabaseCreationFailed','job-dispatcher-observer-not-found','.ipynb','\x0a</uploaded-files>','KeyValueDatabaseTableNameReserved','getSentences','dbKey','.ts','.vbs','amd','groupId','I\x20am\x20done','isLoaded','appsync-close','outputType','endsWith','1fOFLsz','Cannot\x20get\x20file:\x20','getNextTargetRank','stringify','Invalid\x20value.\x20Must\x20be\x20an\x20object.','subscribeToLocalContent','push','crewdle-sdk-stg.appspot.com','RemoteAdd','setupStatsCollection','isJobAttribution','onConfigurationChange','onHandshakeStateChange','handleSubscriptionProvideMediaStream','digest','debounceAppendLog','tableObserver','generative-ai-label-conflict','bucketId','getContext','\x20-\x20','handleSubscriptionSystemEvents','unsubscribe','createFolder','KeyValueDatabasePeakNotFound','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','senderBitrate','Default','Count','logs','Cannot\x20unpublish\x20object:\x20','ModelText','/objectstores/','removeTopic','configs','.rb','CONNECTION_STATE_CHANGE','Knowledge\x20Cutoff\x20Date:\x20','https://crewdle-sdk-default-rtdb.firebaseio.com','problemType','local-media-stream-track-fail','close','key-value-database-does-not-exist','\x20after\x20','Model\x20not\x20found:\x20','get','LoadSkillFunction','receiver-on-message','files','getProviderId','receiverCurrentBytes','getRemoteConnections','JobWorkerAlreadyExists','chunk-splitter','Job\x20','getModels','RequestFileSync','collection','web-scraper','Warning','timestamp','component','syncedFileExists','getRemoteNodes','DocumentParser','JobWorkerDoesNotExist','GenerativeAILabelConflict','Invalid\x20value.\x20Property\x20\x27','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','answer','STVolatility','outgoingManager','RequestAccepted','createNewBatch','Remediation','handleSuccess','Delete','onValue','Error','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','agent-join','handleNodeDisconnect','Invalid\x20layout:\x20','user-update','keyValueDatabaseConnector','ConnectionBufferNotEmpty','VectorDatabaseCreationFailed','openJobDispatcher','contentRect','destination','.json','Error\x20writing\x20chunk\x20to\x20stream','key-value-database-invalid-value','VectorSearch','getGenerativeAIContexts','gain','orchestrator-close','NodeTypeNotSupported','Signaling','result','min','getDisplayName','recipients','resetConnection','syncTransactions','NodeType','streams','externalStorageConnections','removeRemoteConnection','topics','stun:','clusters','sender','\x20answer','graph-database-does-not-exist','next','commitType','handleJobAttribution','listener','Method\x20not\x20implemented.','/developers/','isPromiseResolved','minRelevance','getLayout','NodeManager\x20-\x20PublishNodeLeave','Data\x20Received','subscribeToJobs','pub-sub-topic-already-subscribed','EntityExtractor','removeJobWorker','.ini','1308444xwNgtT','total','addNode','enabled','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','video','rootComputationPromise','ner','RelationExtractor','logConnectionState','createIncomingSubscription','Unknown\x20skill\x20type','vectors','buildTableEvent','remediationManager','calculateSize','isAvailable','Skill','isOffer','ratePrompt','cluster-leave','publishSyncCompleted','Missing\x20vector\x20database\x20connector','Code\x20is\x20required','frames','CloseGraphDatabase','PubSubTopicStats','AiSearch','\x0aAdditional\x20data:\x20','SearchGoogle','maxConnections','startNoThrottlingHack','retryDelay','Early\x20return:\x20','applyRemediation','videoHeight','Processing\x20agent\x20block:\x20','Error\x20committing\x20batch:','Wait','notifyCluster','Channel\x20\x27','internal-sdk-error','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','removeKeyValueDatabase','kind','getTableConnector','PubSubTopic\x20onMessage','mmrRoot','rate','answererId','move','leave','comparePeaks','ancestors','createReceiverConnection','Offline','issue','createGenerativeAIWorker','MediaStreamPriority','accessToken','\x20not\x20found.','processContentSynchronized','modelId','SubscriptionRequestDoesNotExist','resolve','parse','KeyValueDatabaseInvalidLayout','handleLocalTrackFailure','setOnTableWriteHandler','onUnregisterPublisher','publishUserUpdate','initializeLoggingDatabase','ObjectStoreInvalidPayload','closeTrace','query-helper-invalid-argument','Key-value\x20database\x20transaction\x20value\x20not\x20set.','pub-sub-topic-name-not-string','getTime','durationTime','handleNodeLeave','GenerativeAIWorkerCreationFailed','Image','evaluateBids','maxResolution','.handlebars','timeoutCallback','debounceStats','startBidResponseHandling','Medium','setProviderId','getRoundTripTime','writeBatch','ExternalStorageConnectionAlreadySubscribed','minConnections','node','Internal\x20event\x20\x27','incrementVersion','Cannot\x20list\x20directory:\x20','Error\x20closing\x20writable\x20stream','sort','size','trim','content-publish-media','ObjectStore','JobQueueService:\x20Error\x20running\x20job','currentVersion','Invalid\x20node\x20type','pendingHandshakeCandidates','LocalMediaStreamDoesNotExist','publishNodeLeave','setReceiverBytes','Receiver','getSize','InitialPrompt','clearConnectionTimeout','connectionPool','Object\x20store\x20is\x20not\x20in\x20sync','senders','Backgrounds','processRank','clear','us-east-1','job-dispatcher-already-exists','delete','JobWorker:\x20Sending\x20job\x20result','isConnected','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','KeyValueDatabaseRequestPeakTransactions','isNodeReady','getConnectionGroup','commitTrace','context','getConfigs','.xlsx','Cannot\x20write\x20transaction.','Publish\x20the\x20transaction','modelName','subtle','reset','hasTracks','KeyValueDatabaseTransactionValueNotSet','bufferedAmountLowThreshold','readyPromises','channel','createRemoteNode','packetsSent','JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report','getTrack','index','senderConnection','messageListeners','logDataSent','sampleRate','getResolutionScale','encode','key','PubSubTopicDoesNotExist','AudioContext','Synced','maxThreshold','contentType','every','PubSubTopic\x20publish','.awk','instance','.djt','OutgoingMediaStreamNoTopic','createKeyValueDatabase','clusterEventEmitter','SearchPerplexity','path','getPeaks','type','grammar','Subscription\x20request\x20failed.','api','/nodes/','messageCallback','state','Model','onMessage','CannotProvideMediaStream','key-value-database-peak-not-found','FileMove','topicLabel','estimatedPlayoutTimestamp','Logger.getInstance','No\x20valid\x20bid\x20responses\x20received\x20in\x20time.','getMediaStream','authenticateAgent','unregisterCluster','generative-ai-worker-creation-failed','PromptRating','getMinConnections','removeVectorDatabase','generateClient','evaluateProccessedJob','RequestFileWrite','.exs','bufferedEvents','IncomingSubscription','unpublish','.hbs','url','updateDebounceTimeout','searchApiKey','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','graph-database-creation-failed','expectedTransactions','true','pop','local-media-stream-no-audio-context','setVendorId','updateLastTransactionId','subject','processReceivedTransactions','JobDispatcherAlreadyExists','connectionManager','commitLevel','receivers','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','connectionGroup','handleContentUnpublishMediaStream','Base\x20Peer\x20Connection','handlePublishMediaStream','hasMessage','FileDelete','getTracks','getVectorDatabases','connectionState','send','FetchUrl','NeedMediaStream','getLocalId','videoWidth','tracks','isFailedResponse','publishFolder','name','writeTransaction','hasOwnProperty','hashNodes','KeyValueDatabase','handleNodeSystemEvents','lastUpdated','remove','.conf','jobWorkers','statsReport','tables','.xml','cpu.fps','Recording','getTransactions','sdkValidateAccess','KeyValueDatabaseNameNotString','Waiting','\x20to\x20send\x20dispatcherJob\x20','validateAccess','pathName','Bitrate','Invalid\x20data\x20event.','clearOncloseTimeout','nodeKey','0\x20B','contentRequestSent','getAuth','optimizationLayers','generative-ai-worker-missing-connector','checkBackgrounds','setScheduleTime','getOutgoingOptimizationConnections','owner','processContentQueue','.tcl','toLocaleDateString','loggingDb','asyncHeaders','add','createVectorDatabase','CloseJobDispatcher','toString','transactionQueue','Rating','addEdge','relations','crewdle-sdk-stg.firebaseapp.com','debounceRebuildMMRWithTransaction','addCluster','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','senderStreams','Error\x20executing\x20code','KeyValueDatabaseContentSynchronized','debounceReadyTimeout','vector','providerId','Remove','IDBDatabaseConnector','loadExternalContent','job-dispatcher-creation-failed','.ejs','queueLength','getDocs','handleContentUpdateMediaStream','addVideoTrack','word-splitter','WordSplitter','getAncestors','then','clusters/','crewdle-sdk','.mustache','FileStatus','ObjectStoreInvalidPath','deleteObject','subscribe','VectorDatabaseNameNotString','ref','getCurrentVersion','Search\x20in\x20data\x20collection\x20','Get','orderBy','debounceRebuildMMR','isInternalLoggingConnector','FileWrite','graph-database-missing-connector','.txt','absolutePathName','collectStats','getTotalNodes','InternalSDKError','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','chunksReceived','.html','queryOrPrompt','Setting\x20context\x20for\x20agent\x20block','request-file-sync','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','No\x20async\x20endpoint\x20URL','dataBucketIds','asc','graphDatabaseConnector','rating','Job\x20service\x20observer\x20not\x20found.','vectorDatabases','removeOutgoingSubscription','some','processAddContent','2576614KlNXzh','logSyncMetrics','entity-extractor','handleUnpublishMediaStream','206202sDvOwt','signInWithCredential','drawImage','versions','committed','accumulated','detectionManager','object-store-name-not-string','disconnected','roundTripTime','getLocalMediaStream','uid','senderTimeProcessing','snippet','Optimization','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','addIssue','previousTimestamp','remote-inbound-rtp','senderPreviousBytes','Cannot\x20find\x20External\x20Storage\x20connection:\x20','getReceiverBitrate','internalProcessJob','chunk','RemoteMediaStreamAlreadyExists','ExecuteCode','Could\x20not\x20open\x20trace','setLoggingConnectors','crewdleSDKDisableLogging','getSubscriptionLabel','30qFmXVu','stopTracing','startHeartbeat','checkScreenSharing','shift','Opened\x20key\x20value\x20database','temperature','Boolean','observer','sourceVideo','ExternalStorageConnectorsMissing','Logging\x20not\x20enabled\x20for\x20channel\x20','KeyValueDatabaseContentAvailable','\x0a\x20===\x20Synchronization\x20Time:\x20','ReceiverPeerConnection.onMessage','GenerativeAIWorker:\x20Opened','searchOnGoogle','load','Model\x20not\x20found','getLocalNode','external-storage-upload','GraphDatabaseAlreadyExists','external-storage','contentMediator','addPendingHandshakeCandidate','openTrace','compareTransactions','syncFolder','removeEventListener','ai-search','batchTimeout','isRunning','getAudioTracks','Before\x20Synchronization','createObjectStoreBucket','loadLocalContent','Remote\x20stream\x20does\x20not\x20exist.','Initial\x20MMR\x20built\x20with','remoteConnections','getMediaSubscription','Cannot\x20publish\x20folder:\x20','ConnectionNotinitialized','getDataLogged','unsubscribeListener','.crewdle-last-transaction','getDoc','ExecuteCustomSkill','NodeUpdate','map','detectAudioIssues','callback','Prompt','objectStorageBuckets','File','jobId','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','disconnect','val','setupTrackEndedListeners','createBatch','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','document-parser','batchSize','trackKinds','No\x20connector\x20found\x20for\x20model','processInboundReport','hasTable','Subscription','Agent\x20output\x20is\x20not\x20a\x20string','indexOf','chooseAnswer','waitAnswer','clearWaitSuccess','\x0a\x0a`Executing\x20custom\x20skill\x20','connector','processSenderReport','addProblem','removeSubscription','subscription-request-failed','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','getPartsFromSubscription','application/octet-stream','Internal\x20SDK\x20error:\x20','Today\x20Date:\x20','disconnectCallback','propagate','asyncEndpointUrl','stopNoThrottlingHack','addReservedTables','\x20attributed\x20to\x20','mediaStream','startIndex','String','region','JobWorker:\x20Received\x20job\x20attribution','missing-incoming-connection','publishTransaction','No\x20files\x20found','desc','clearRect','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','orderByKey','Error\x20during\x20MMR\x20rebuild\x20logging:','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','graphService','generative-ai-context-job-already-consumed','LocalMediaStreamTrackFail','engineType','loadEnabledChannels','Problem\x20detected:\x20','processList','.\x20Confirmation?\x20','createElement','notifyObjectStoreOfNodeLeave','getPeakNode','Error\x20encountered\x20while\x20opening\x20database','left','handleOptimizationConnectionSuccess','Internal\x20error:\x20','/resources/generative-ai-workflow/items/','internalDownloadDocument','Search\x20connector\x20not\x20set','fetchContentFromUrl','log','thread-','responseTimeout','off','-leave','unsubscribeHandler','externalStorageConnectionIds','InvalidAccess','Pool','isWhereValues','DeviceConfig','failed','createSubscription','/resources/generative-ai-grammar/items','getDTVolatility','validateLayout','relevance','getJob','client','@root','events','detectStreamIssues','2-digit','writeFile','getExternalStorageConnection','firebaseConfig','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','feedback','processTransactionsToComputeMMR','createGraphDatabase','Received\x20ContentSynchronized\x20from\x20','maxDistance','outputTokens','PayloadAction','Hub','transactionIds','JobDispatcherInvalidPayload','rank','crewdleSDKEnableLogging','searchConnector','FramePerSecond','splitParts','job-worker-does-not-exist','supportsContentType','registerRemoteNode','checksum','From\x20','.info/connected','defineProperty','object-store-already-subscribed','object-store-invalid-path','FolderMove','maxBpp','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','search','calculateArrayBufferSize','object-store-invalid-state','setReportCapacity','/logs','retryQueue','Jitter','element','maxBitrate','setInterval','subscription-request-does-not-exist','KeyValueDatabaseTableNotFound','1.0.17.0','getMaxConnections','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','Local\x20stream\x20does\x20not\x20exist.','.md','threshold','eventTarget','PeerConnectionInvalidDestination','onTrack','tableLayout','bandwidth.jitter','endpoint','Node\x20not\x20authenticated','indexes','registerSystemSource','bandwidth.bitrate','remote-connection-exists','slice','Parameter\x20','getApp','trackListeners','hashPeakHashes','.info/serverTimeOffset','removeObjectStore','getInstance','Invalid\x20subscription.','cluster','Core','requestSubscriptionAction','publishLocalMediaStream','reportCapacity','isMediaDestination','createJobDispatcher','MediaStream\x20feature\x20not\x20enabled','openKeyValueDatabase','retryCallback','Error\x20stringifying\x20object','sdk-internal-error:\x20','Stats','NodeConnectionsUpdate','connection','signalingServer','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','filter','Missing\x20remote\x20node\x20or\x20rank','split','retryLimit','minResolutionScale','label','\x20failed.\x20Retrying...','ExternalStorageInvalidPath','handleAnswer','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','User\x20not\x20signed\x20in','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','Error\x20initializing\x20logging\x20database\x20with\x20\x27','substring','status','onDataChannel','checkSyncComplete','Text','debounceProcessRank','offset','onRemoveTrack','User','createOffer','trace','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','discoveryService','object','parameters','RequestFile','.clj','key-value-database-already-exists','incomingManager','ExternalStorageUpload','KeyValueDatabaseStats','Reranker','clusterKey','answerContentAvailable','More\x20content\x20available\x20on\x20page\x20','Method\x20not\x20supported','InvalidSubscriber','GraphDatabaseNameNotString','node-does-not-exist','Reranker\x20block\x20is\x20missing\x20required\x20data','problem','object-store-already-exists','workflow','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','isInternalSDKConfigs','SenderSendMessage','Invalid\x20where\x20clause','Database\x20not\x20open','bodyParameters','onProviderChange','getName','All','setLocalRank','ObjectStoreDoesNotExist','GraphSearch','Given\x20','\x20not\x20supported','.scala','openGraphDatabase','interval','exports','<uploaded-files>','generative-ai-context-already-exists','messageUnsubscriber','createLocalDynamicMediaStream','clientStream','CrewdleReceiverConnection\x20ontrack','scheduleTime','errorDetails','aiSearchApiKey','jitter','closeTopic','Info','High','ObjectStoreNameNotString','getEstimatedTimestamp','ConnectionNotConnected','getInternalStreamId','standalone','childRemovedUnsubscriber','retryCount','manageOptimization','Failed\x20to\x20send\x20job\x20','.hs','boolean','handleFileRequestAnswer','crewdle-sdk-logging-','topic','Sender','agentConfig','Invalid\x20workflow\x20block\x20type.','pub-sub-topic-already-exists','handleFileRequest','frameWidth','action','Connection\x20does\x20not\x20exist.','getReceiverTotalBytes','\x20writes\x20from\x20','key-value-database-invalid-layout','loggingCycle','table','rejectReady','handleRequestPayload','downloadDocument','currentDistance','where','modelsBucketId','jobBids','NodeDoesNotExist','Invalid\x20version\x20\x27','getVectorDatabase','GenerativeAIEngineType','Invalid\x20job\x20service\x20payload.','job-dispatcher-invalid-job-type','key-value-database-not-open','Additional\x20context:\x0a','features','maxOutgoingSubscriptions','onNodeUpdate','GenerativeAIWorker:\x20Models','getWorkflowExternalStorageConnections','Transaction','user','Search','Completed','bid','answers','CREWDLE_WEB_SDK','graphql','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','maxFramerate','AppSync\x20connection\x20not\x20ready','sync','JobDispatcherJobNotFound','getCapacityReport','loadFromDisk','getQuery','json','northamerica-northeast1','getTransactionFromTableWriteEvent','addBatchOperation','ObjectStoreAlreadySubscribed','pendingSyncTransactions','_isReady','publishNodeJoin','getExternalStorageConnections','sendWithRetry','model','GraphDatabase','streamLabel','appendTransaction','`\x0a\x0a','processReport','Opened\x20graph\x20database','\x20must\x20be\x20a\x20number','sendFile','code','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','JobStream','getLabel','addRemoteNode','sendFileRequestPayload','transactionTable','dataStores','getSubscriptionInfo','NodeAlreadyExist','getRemoteMediaStreams','Everyone\x20',',\x20Total\x20Nodes:','getLastUpdated','subscriptionRequests','isValidMediaSubscriptionParams','validateQuery','InvalidDataChannel','number','getCoresFromCapacityReport','removeItem','subscription','node-invalid-type','Chosen\x20answer','initialize','publishSyncCompletedAfterWrites','clearWaitAnswer','GraphDatabaseStats','KeyValueDatabaseDoesNotExist','\x27\x20reserved','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','76EHXzpa','Invalid\x20key\x20\x27','findNextNodeId','isFeatureSupported','orchestrator','isSubscribed','getFunctions','vector-database-creation-failed','discover','threadId','\x20finalized.','Partial','play','11PAqwwS','newPath','getDatabase','Key-value\x20database\x20creation\x20failed.','Invalid\x20index\x20in\x20table\x20\x27','resolutionScale','find','Events','checkDeviceConfig','logSupport','CloseKeyValueDatabase','processLocalReport','.go','ObjectStoreInvalidState','jobQueue','collectReceiversStats','handleNeedRestart','entities','onConnectionStateChange','waitSendBuffer','setItem','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','Stream\x20does\x20not\x20exist','ClusterAlreadyJoined','objectStoreConnector','undefined','handleHandshake','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','prototype','setBytes','Opened\x20vector\x20database','capacityReporter','taskType','\x20to\x20generate\x20a\x20response.','sendIceCandidates','eventListener','subscriptions','internalId','SentenceSplitter','internalRatePrompt','NodeInvalidType','Apply\x20remediation','bitrate','connection-invalid-data-event','assign','logWaitTime','detail','join','audioSource','externalStorages','st_volatility','25YSQXeK','remoteNodes','KeyValueDatabaseSyncRequired','consumeBufferedEvents','update','sendTransactionsValue','data-collection','All\x20recipients\x20already\x20received','debug','getDataBucketIds','getReport','removeIncomingSubscription','vectorDatabaseConnector','skill','resolveReady','GenerativeAIContextInvalidPartialResult','handleStatsSystemEvents','unregisterPublisherListener','ingestBlocks','remediations','getBitrate','object-storage-upload','processContentAvailable','FinalOutput','exists','key-value-database-creation-failed','distance','senderTotalMessages','setSubscriptionRequestTimeout','createTopic','jobPhase','msalRefreshToken','CloseExternalStorageConnection','NeedRestart','Key-value\x20database\x20peak\x20not\x20found.','node-type-required','completeSync','timePerFrame','RemoteConnectionExists','return\x20this','subscribedTracks','onClose','chosenAnswers','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','GetContextResult','getShareableStreamId','\x20MB','JobDispatcherObserverNotFound','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','contentManager','listenerUnsubscribers','openGenerativeAIWorker','processDataChannelReport','Buffered\x20chunks\x20are\x20too\x20large','setupListeners','dataChannel','LoggingService:\x20logging\x20enabled\x20for','job-worker-already-exists','.vue','operations','Receiver\x20connection\x20is\x20not\x20initialized.','Cluster\x20already\x20joined','authNode','setupResizeHandler','suspended','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','authService','getPartsForSubscriptionLabel','clientHeight','senderCurrentTimestamp','documentParserConnector','page','clusterId','clearSubscriptionRequestTimeout','Invalid\x20publisher.','handleError','getVideoTracks','.j2','Resolution','dt_volatility','queries','clearSyncTimeout','evaluatePartialJob','.yaml','ExternalStorageStats','Missing\x20external\x20storage\x20connector','processOutboundReports','fileChunks','WebScraperRaw','handleOffer','setDoc','AITrace','removeRemoteNode','UnsubscribeMediaStream','signOut','outgoingTopic','getJobDispatchers','.php','ChunkSplitter','Model\x20store\x20not\x20initialized','mediator','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','setParams','engine','checkExistingPendingFileContent','localMediaStreams','\x20seconds','Vector','models','Processing','bytesSent','cancel','getOwnerId','FeatureNotEnabled','Error\x20opening\x20trace','collectSendersStats','getAgents','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','.js','manageBufferedChunks','setDurationTime','handleIceCandidates','Subject','syncContent','handleFileWrite','Job\x20worker\x20creation\x20failed.','fileSendingMap','outgoingStreams','getCurrentMaxLayer','GenerativeAIWorkerStats','replaceTrack','GenerativeAIWorkerMissingConnector','updateLastUpdated','AI\x20Search\x20connector\x20not\x20set','isArray','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','previousFrames','availableTrackKinds','remediation','stats','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','ReceiverOnMessage','isWhereValue','unregisterPublisher','Llamacpp','/transactions/lastTransaction','query-file','PromptFunctionParamsType','ModelVector','queryFile','isResultResponse','generativeAIContexts','SyncKeyValueDatabase\x20-\x20Ancestors\x20','receiverTotalMessages','PubSubTopicAlreadySubscribed','data-stream','MediaStreamUnavailable','isReady','charCodeAt','source','AI\x20Worker\x20already\x20exists','payload','addMessage','openVectorDatabase','Loaded\x20from\x20disk','JobStatus','currentBytes','LocalMediaStreamNoAudioContext','\x27\x20to\x20','headers','joinCluster','Local\x20MediaStream\x20already\x20exists','setSenderTimestamp','handleSystemEvents','GenerativeAIWorkerAlreadyExists','arrayBufferToObject','content','featureSupport','remainingTracks','Cannot\x20get\x20size\x20of\x20path:\x20','processRemoteInboundReport','Problem','KeyValueDatabaseTransactionTableNotInitialized','root\x20hash:\x20','messagesReceived','Issue\x20detected:\x20','getTrackFromParam','Invalid\x20credentials','Agent','openPubSubTopic','Job\x20Dispatcher\x20already\x20exists','job-dispatcher-job-not-found','fromEntries','readyDebounce','Local\x20node\x20rank\x20is\x20not\x20set','Upgrade','RemoteMediaStreamMissingProviderId','\x27\x20is\x20not\x20ready','List','mediaUnsubscribers','Node\x20type\x20is\x20invalid','dataTopics','batch','eventEmitter','handleNodeJoin','CustomSkill','ceil','logEvent','Error\x20retrieving\x20context','getPacketsLostPerc','Content','.lua','handleSubscriptionRestartNeedMediaStream','dataUnsubscribers','addCandidate','Code','clockSkew','openObjectStoreBucket','sendChunked','GenerativeAIWorkerModelSyncError','en-US','remoteId','Cluster','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','OutgoingSubscription','processTransactionPayload','registerCluster','all','SenderPeerConnection\x20send','Sender\x20connection\x20is\x20not\x20initialized.','CPUCycle','validateValue','statsCollection','remote-media-stream-already-exists','decodeJWT','getPubSubTopic','Handshake','appsync-disconnect','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Execute\x20skill\x20','nodes','.gguf','syncResolve','reduce','IngestTrace','handleSubscriptionMediaStreamUnavailable','mistlet-capacity-report-not-set','handleDisconnect','isNeedRestart','RetrieveTrace','successNotified','evaluateBidsAndAttributeJob','.yml','getId','connectionTimeout','statsManager','append','object-store-not-in-sync','upgradeTimeout','.ex','Error\x20fetching\x20context','docs','listenUnsubscriber','Ingest','getSkills','set','Opened\x20pubsub\x20topic','Agent\x20block\x20is\x20missing\x20required\x20data','limitToFirst','object-storage','urls','waitConnected','oidc','\x20ms\x0a','createBuffer','RemoteMediaStreamDoesNotExist','onCandidate','registeredListeners','NodeNotAuthenticated','shouldProcessTransaction','Data\x20Sent','LocalReport','/resources/agent/items/','setupRenderElement','peaks','startTime','startsWith','firebase-disconnect','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','removeTrack','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','logger','ConnectionInvalidDataEvent','jobType','WebGL','timesCalled','handleObjectMove','Detection','configure','Sending\x20\x27','sourceUrl','.bat','dispatchEvent','sourceId','setupConnectionEvents','findNewMediaSubscription','open','getPubSubTopics','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','join-cluster','ExternalStorageConnection\x20not\x20found','jobObservers','localId','overlap','sentence-splitter','handleConnectionSuccess','signInWithCustomToken','cost','JobDispatcherCreationFailed','setReceiverTimestamp','mute','recomputeRoot','ownerId','logRaw','system','missing-datachannel','/resources/generative-ai-agent/items','notifyObjectStoreOfNodeJoin','Disconnected','ContentType','setOnDisconnectHandler','removeContent','pubsubTopics','SubscribeMediaStream','byteLength','uuid','width','getWorkflowObjectStorageBuckets','VectorDatabaseStats','auth','getKeyValueDatabases','node-type-not-supported','requestSubscription','setInternalId','ObjectStorageBucket','insert','setOnMessageHandler','addRemoteConnection','SubscriptionRequestInProgress','LoadKnowledgeFunction','addBidResponse','removeNode','Result','JobWorkerCreationFailed','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','RemoteMediaStreamInvalidSubscriptionParams','setRemoteNode','Media','Received\x20event\x20on\x20cluster','syncTimeout','parseWorkflowBlocks','processJobStream','CloseVectorDatabase','setEmail','splice','KeyValueDatabaseInvalidQuery','.cs','debugEnabled','queryFileConnector','output','contextOutputVariable','getDistance','readyResolve','Offer','IntermediateOutput','JobWorker:\x20Received\x20job','complete','doc','GenerativeAIContextStats','\x20received\x20partial\x20result:','unsubscribeTrackEndedListener','ScreenSharing','Error\x20fetching\x20URL','incomingTopic','getShareableStream','agentId','VectorDatabaseMissingConnector','statsReporting','1:519415702791:web:5dd39042f881cfde3251a2','destroy','getObjectStoreBucket','key-value-database-transaction-value-not-set','Error\x20processing\x20retrieve','not-in','srcObject','firestore','QueryBuilderInvalidArgument','Incoming','KeyValueDatabaseNotOpen','receiverConnection','sendReject','isPartialResultResponse','enabledChannels','captureStream','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','joinedAt','startTracing','messageBuffer','debounceLogTimeout','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','av_delay','length','getJobObservable','KeyValueDatabase\x20-\x20Sync\x20completed','.docx','version','now','handleObjectDelete','WorkflowDoesNotExist','server','loggingConnectors','generative-ai-context-creation-failed','subscriptionRequestTimeouts','file-upload','relation-extractor','PubSub\x20already\x20exists','aws','onDisconnectHandler','Opened\x20object\x20store\x20bucket','WebRTCBrowserPeerConnectionConnector','mediaDevices','canvas','setIsLoaded','contentQueueRunning','generative-ai-worker-already-exists','filesSynced','bandwidth.rtt','ObjectStorage','Knowledge','checkWebGL','checkAudioOutput','Low','setConnectionType','deletePendingFile','pool','key-value-database-index-not-found','accumulateResult','createConstantSource','\x20for\x20','padStart','Syncing','prompts','agent','RoundTripTime','storage','vector-database-name-not-string','filteredDestinationIds','everyone','.css','KeyValueDatabaseSendTransactions','Online','\x27:\x20missing\x20or\x20invalid\x20keyPath','closeConnection','streamId','Node\x20does\x20not\x20exist.','sendBid','getObjectStoreBuckets','GenerativeAIModelOutputType','Error\x20resolving\x20readyPromises:','syncPendingFiles','sendAction','lastCapacityReport','displayName','ConnectionNoRetryQueue','noun','timeSending','removeTrackListeners','JobQueueService:\x20Running\x20job','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','Jobs','AI\x20worker\x20creation\x20failed.','currentBatch','\x0a</','queues','.dart','AudioOutput','KeyValueDatabaseRequestTransactionsValue','bufferedChunks','getUserMedia','inputTokens','executeAgent','topK','get-content','updateDebounce','appendTransactionAndUpdateHashMap','systemTopic','createPubSubTopic','Setting\x20context\x20for\x20agent\x20skill\x20block','commitBatch','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','request-file-write','statusText','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','DataStream','SHA-1','getConnections','round','getAvailableTrackKinds','restartHandshake','isWhereBetween','getResolution','job-worker-creation-failed','race','GenerativeAIContextJobAlreadyConsumed','Connected','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','No\x20destinationIds\x20left','logPropagateSystemEvent','Error\x20searching','entries','height','canRestartHandshake','CrewdleSenderConnection\x20createOffer','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','WebRTC','abs','parentId','systemMessagesReceived','destinationIds','getContentType','logStorage','PubSubTopicAlreadyExists','Debug','Invalid\x20subscriber.','firebase-connect','floor','connecting','Context','content-unpublish-media','KeyValueDatabaseTableDoesNotExist','handleFolderCreate','FPS','generative-ai-context-job-missing-thread-id','Workflow','take','providerListener','ExternalStorageConnectionDoesNotExist','call','No\x20global\x20object\x20found','time_per_frame','registerSource','getConnection','checkMediaRecording','An\x20error\x20occurred','queryParameters','Store\x20already\x20exists','setTransformations','getGraphDatabase','Subscribing\x20to\x20an\x20event:\x20on','transaction','getSupportedContentTypes','moveObject','KeyValueDatabaseInvalidValue','contentQueue','Request','connected','targetId','startLoggingCycle','AudioVideoDelay','random','G-F7W8KXRKQB','AppSync\x20subscribe','crewdle-sdk.firebaseapp.com','getAncestorIds','default','connection-state','keyPath','audioContext','getModel','max','Entity','DataCollection','pubSubTopics','test-page','addTrack','changesUnsubscriber','retryQueues','processBatch','Invalid\x20table\x20name\x20\x27','SubscriptionRequestFailed','deleteJob','compileStats','aiSearchConnector','tokens','Database\x20does\x20not\x20exist','restartTimeout','blockId','removeSubscriptionsForNode','Folder','Sync\x20completed','OfficeParser','messagesSent','enumerateDevices','AudioContext\x20is\x20not\x20available','Send\x20request','computeHash','\x0a\x20===\x20Total\x20Data\x20Received:\x20','storageType','Agent\x20block\x20is\x20missing\x20required\x20data:\x20','custom-skill','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','createExternalStorageConnection','clientWidth','handleContentUnsubscribeMediaStream','detectLocalIssues','Support:\x20','removeGraphDatabase','connectionStateListener','contentSize','RestartNeedMediaStream','concat','setEncodingParameters','globalObject','isOpened','writeTransaction\x20-\x20transaction\x20already\x20exists','Receiving\x20\x27','stream','DataChannel\x20is\x20not\x20initialized.','job-dispatcher-job-exists','generative-ai-context-job-failed','buffer','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','checkAudioVolume','getEngineType','Update','setPriority','ccc','getGenerativeAIWorkers','lastProcessRank','.sql','JobDispatcherDoesNotExist','getEntities','ConnectionState','.py','emit','params','JobWorker:\x20Error\x20processing\x20job','getRemoteId','sendRequest','task','TimePerFrame','frameTime','publishLocalDynamicMediaStream','4164624gCrcuK','toFixed','available','ObjectStoreStats','4816899jGsxTs','PeerConnection','getGrammars','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','ended','getConnectionDestinations','Job\x20with\x20id\x20','object-store-stream-does-not-exist','Cannot\x20publish\x20move\x20operation:\x20','handleUnsubscribeMediaStream','removeJobDispatcher','getGraphDatabases','function','workflow-does-not-exist','sendPeakTransactions','isReconnecting','removeConnection','Connection\x20not\x20connected.','isProduction','lastRemediations','pendingFilesSyncing','reject','isIceCandidate','openJobWorker','processPendingHandshakeCandidates','Cannot\x20publish\x20payload:\x20','layout','toLowerCase','MediaStream','clearRestartTimeout','transactions','active','RemoteMediaStreamTrackFail','DatabaseEvent','shouldContinuePropagation','signaling','ExternalStorage','Move','connection-buffer-not-empty','MistletCapacityReportNotSet','DataStream\x20onMessage','NodeManager\x20-\x20ConnectionSuccess','getSTVolatility','candidate','Restart\x20NeedMediaStream','\x27\x20in\x20layout','logDataReceived','setRemoteConnections','PubSubTopicNameNotString','isComputingMMR','findIndex','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','openExternalStorageConnection','processReceiverReport','vector-database-already-exists','File\x20sending\x20interrupted','getConnectionType','head','Cannot\x20unpublish\x20object\x20at\x20','fps','external-storage-invalid-path','currentFrames','\x20with\x20response:','Failed','getItem','operator','GenerativeAITracing\x20-\x20job\x20id\x20not\x20found','tableName','setStatus','value','retrieveBlocks','object-store-invalid-sync-message','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','instructions','isJobRequest','handleSubscriptionUnsubscribeMediaStream','transactionsToSync','UnpublishMediaStream','CloseMediaStream','ready','.crewdle-pending','remoteMediaStreams','getEmail','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','nodeUpdate','getSettings','OptimizationConnectionSuccess','listen','updateUser','ObjectStoreNotInSync','traceLevel','cpu.av_delay','receiverUnsubscribers','Setting\x20context\x20for\x20custom\x20skill\x20block','reportMetric','Internal\x20unknown\x20error:\x20','key-value-database-transaction-table-not-initialized','error','URL\x20is\x20required','getContent','notifyClusterNodeJoin','waitSuccess','warn','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','renderElement','Add','processRemoveContent','canProvideResolution','observe','previousBytes','authenticateUser','handleSubscriptionNeedMediaStream','addAudioTrack','Joined\x20cluster','Pending','tableUnsubscriber','endpointMethod','messageType','removeRemoteMediaStream','.cfg','remote-stream-does-not-exist','trackChanges','Success','processOutboundReport','@context.','hasBufferedData','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','documentPath','getSenderTotalBytes','supports','trackEndedListeners','objectStores','generative-ai-context-job-timeout','searchEngineId','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','Agent\x20group\x20not\x20found','confirmSynchronization','Node\x20\x27','database','request-accepted','\x27\x20in\x20table\x20\x27','waitAsync','setUpgradeTimeout','.rkt','key-value-database','messages','appsync-connect-fail','isSyncing','remoteUnsubscriber','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','Invalid\x20object\x20store\x20sync\x20message.','httpsCallable','collectTransactionsFromNode','buildInitialMMR','Node\x20type\x20is\x20required','KeyValueDatabaseAlreadyExists','connection-no-retry-queue','logInitialMMR','ConnectionGroup','runTransaction','NodeManager\x20-\x20NodeUpdate','vector-database-does-not-exist','/resources/generative-ai-skill/items','supported','limit','msalGetAccessToken','syncTransactionsWritten','maxFps','\x0a\x20===\x20Total\x20Nodes:','processInboundReports','transactionHashMap','createDataChannel','generative-ai-context-invalid-partial-result','createRemoteMediaStream','\x20created\x20and\x20dispatched.','QueryFile','previous','registerSubscriber','receiverCurrentTimestamp','match','objectToArrayBuffer','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','syncKeyValueDatabase','storeId','clearHeartbeat','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','removeListener','getJobWorkers','/nodes','getFirestore','getLocalMediaStreams','key-value-database-table-does-not-exist','Attribution','vector-database-missing-connector','keys','unregisterSubscriber','handleTransactionPayload','Invalid\x20job\x20worker\x20type.','values','includes','GenerativeAIContextAlreadyExists','createAIJob','getSimilarity','ranges','getBid','contextInputVariable','sequence','getMaxDistance','wait','mode','objectStoreId','handleContentRemoteMediaStreamTrackFail','SystemTopic\x20publish','senderCurrentBytes','mediaTopics','Support','SyncComplete','removeExternalStorageConnection','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','getChannelData','externalStores','maxDepth','getDisplayMedia','isEqual','GenerativeAIContextDoesNotExist','_ready','saveToDisk','addDoc','issues','developers/','getHash','text','receiverTimeProcessing','getPriority','prompt','JobDispatcherJobExists','right','token','ObjectStoreNotSynced','replace','connectionConstructor','getTotalBytes','handleRemoteTrackFailure','email','SHA-256','onGatheringStateChange','handleFileSync','WorkflowInvalidBlockType','invalid-access','deleteTransactionsForTable','Failed\x20to\x20get\x20file','created','KeyValueDatabase\x20not\x20found','getRemoteMediaStream','currentTimestamp','connectAgent','peer-connection-invalid-destination','clearUpgradeTimeout','Early\x20return','oncloseTimeout','audio','key-value-database-table-name-reserved','bind','unregisterSystemPublisher','graph-database','systemMessages','Error\x20loading\x20existing\x20content','JobDispatcherInvalidJobType','tail','Invalid\x20object\x20store\x20state.','Rejected','SystemStats','maxLayer','handleProblem','JobQueueService:\x20Job\x20completed','framesEncoded','receiverStreams','senderPreviousTimestamp','processJob','getNumberOutgoingSubscriptions','remote-stream-missing-provider-id','results','joinedClusters','parseDataCollectionBlocks','Error\x20processing\x20ingest','manageAncestor','setupStatsReporting','isChannelEnabled','query','local-stream-does-not-exist','.tsx','systemTopicUnsubscribe','nextNodeId','Received\x20track','FolderCreate','unshift','keyValueDatabases','DTVolatility','addConnection','\x20-\x20Sending\x20propagation\x20(','system-stats','Support:\x20current\x20config','memoryUsage','Audio','packets','.tpl','functions','Answer','Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected','Failed\x20to\x20commit\x20batch\x20after\x20retries:','runJobQueue','peerConnectionConnector','\x20check\x20failed','createSenderConnection','count','totalNodes','jobs','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','connections','externalStorageConnectors','cachedRoot','Found\x20','sender-send-message','write','utf8','ObjectStoreAlreadyExists','getIdToken','listenerUnsubscriber','VectorDatabaseAlreadyExists','KeyValueDatabaseCreationFailed','VectorDatabase','getWorkflowModels','connect','CloseJobWorker','mergeParts','21a9d78dee97f487b','text/','addEventListener','ExternalStorageNameNotString','.cpp','AudioVolume','processServiceReport','getSubscribedTracks','codes','onBufferedAmountLow','Setting\x20context\x20for\x20answer\x20block','\x27\x20from\x20','Bid','handleCloseContent','\x20deleted.','cpu.time_per_frame','handleSubscribeMediaStream','Invalid\x20params','from','\x20sending\x20attempt\x20','success','updatePropagationProperties','Query\x20file\x20connector\x20not\x20set','logServiceEvent','pendingFilesTransactions','createAnswer','Execute\x20the\x20agent\x20','getInternalTrackParams','deleteRemoteNode','links','batchQueue','notifyJoin','debounceReady','Memory\x20Usage\x20at\x20','handleOnMessage','list','GenerativeAIContextCreationFailed','timeReceiving','frameHeight','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','CloseObjectStoreBucket','checkMediaStream','job-','unregisterSource','file','unregisterDestination','time','WorkflowTrace','handleNodeJoinNeedPublishedStream','.java','\x20does\x20not\x20support\x20content\x20type\x20','numeric','getStatus','subscription-request-no-answer','GenerativeAIContextJobMissingThreadId','bufferedAmount','Workflow\x20not\x20initialized','JobDispatcher:\x20Received\x20job','download','NodeJoin','addContent','Prompt\x20is\x20required','key-value-database-invalid-query','writes','getRank','webgl','invalid-subscription','key-value-database-name-not-string','deployedVersion','detectVideoIssues','notifyClusterNodeUpdate','jobDispatchers','localNode','getJobs','graphDatabases','downgrade','handleNodeUpdate','message','transactionsToAppend','ClosePubSubTopic','Amplify','receiverPreviousTimestamp','data','track','getKeyValueDatabase','relation','Downgrade','getRemoteNode','lastClockUpdate','reranker','vendorId','connection-not-connected','lastHeartbeat','answerJoin','Invalid\x20query','has','getTable','setDisplayName','event','getOrResetPendingFileTimeout','.doc','bytesReceived','MissingSystemTopic','1:420235181083:web:4eff6062bd845cb0748cbe','Connection\x20already\x20exists','heartbeatUnsubscriber','string','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','firebaseUnsubscriber','\x0a\x20===\x20Current\x20MMR\x20Root','PartialResult','sdkCreateToken','receiverPreviousBytes','checkWebRTC','NodeLeave','handlePeerConnectionSystemEvents','Outgoing','\x27\x20payload:','GetContextQuery','checkAudioContext','Job','Number','Queued','\x0a\x0a`Executing\x20query`\x0a\x0a','packetsLost','handshakeCandidates','publishMove','sendTransactionsValue\x20-\x20value\x20not\x20found','between','createLocalMediaStream','LocalMediaStreamAlreadyExists','GraphDatabaseDoesNotExist','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','StreamReport','Connection\x20does\x20not\x20exist','AppSync\x20client\x20not\x20ready','Given\x20search\x20results\x20for\x20','performCalculation','verb','title','RemoteRemove','unregisterSystemSource','rebuildMMR','modelStorageBuckets','JobType','retry','Query\x20is\x20required','createJob','objectRequests','instantiateTransactionTable','transactionService','DEBUG\x20-\x20','createPendingFileWrite','processPendingSyncTransactions','external-storage-name-not-string','GraphDatabase\x20not\x20found','PublishMediaStream','WebScraper','external-storage-connectors-missing','setPendingFileSyncingPayload','priority','totalEncodeTime','Index','PubSub','chunks','reads','Database\x20already\x20exists','app','.erl','createGenerativeAIContext','createConnection','/transactions/','createOutgoingSubscription','connectionType','initializeSystemTopic','getRoot','Error\x20executing\x20agent','framesDecoded','getDataCollections','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','Node','removeTrackCallback','handshakeState','\x20must\x20be\x20a\x20string','framerate','subscriptionManager','rtt','resolution','nodeManager','handleRemediationSystemEvents','Table\x20not\x20found','1236942cefgWR','signalingState','\x0a\x0a`Executing\x20agent\x20','isMediaSource','handshakeDebounce','GenerativeAIContext','warning','getEnabledChannels','generativeAIWorkerConnectors','lastTransactionId','outbound-rtp'];a0_0x40c1=function(){return _0x1e9e2d;};return a0_0x40c1();}function a0_0x50bd(_0xc0be81,_0x4cc6f2){const _0x40c13a=a0_0x40c1();return a0_0x50bd=function(_0x50bd8d,_0x5f2197){_0x50bd8d=_0x50bd8d-0xfd;let _0x13ca59=_0x40c13a[_0x50bd8d];return _0x13ca59;},a0_0x50bd(_0xc0be81,_0x4cc6f2);}(function(_0xd934bc,_0x4266a1){const _0x3c2313=a0_0x50bd,_0x10b140=_0xd934bc();while(!![]){try{const _0x8dba3a=parseInt(_0x3c2313(0x98d))/0x1*(-parseInt(_0x3c2313(0x213))/0x2)+-parseInt(_0x3c2313(0x217))/0x3*(-parseInt(_0x3c2313(0x3db))/0x4)+-parseInt(_0x3c2313(0x41b))/0x5*(-parseInt(_0x3c2313(0xa10))/0x6)+-parseInt(_0x3c2313(0x8bd))/0x7+-parseInt(_0x3c2313(0x6a9))/0x8+-parseInt(_0x3c2313(0x6ad))/0x9*(parseInt(_0x3c2313(0x235))/0xa)+parseInt(_0x3c2313(0x3e8))/0xb*(parseInt(_0x3c2313(0x950))/0xc);if(_0x8dba3a===_0x4266a1)break;else _0x10b140['push'](_0x10b140['shift']());}catch(_0x490e3a){_0x10b140['push'](_0x10b140['shift']());}}}(a0_0x40c1,0xdda9b),!function(_0x256294,_0x58b72b){const _0x4705f4=a0_0x50bd;if(_0x4705f4(0x337)==typeof exports&&'object'==typeof module)module[_0x4705f4(0x35c)]=_0x58b72b();else{if('function'==typeof define&&define[_0x4705f4(0x986)])define([],_0x58b72b);else{var _0x10de0f=_0x58b72b();for(var _0x5a8078 in _0x10de0f)(_0x4705f4(0x337)==typeof exports?exports:_0x256294)[_0x5a8078]=_0x10de0f[_0x5a8078];}}}(this,()=>((()=>{'use strict';const _0x14177f=a0_0x50bd;var _0x27856f={0x14d:(_0x3d382d,_0xec56e2,_0x2dd3a4)=>{const _0x5a404e=a0_0x50bd;_0x2dd3a4['d'](_0xec56e2,{'O':()=>_0x57c120});const _0x57c120={'version':_0x5a404e(0x2f2),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x5a404e(0x627),'authDomain':_0x5a404e(0x1d5),'databaseURL':_0x5a404e(0x763),'projectId':'crewdle-sdk-stg','storageBucket':_0x5a404e(0x994),'appId':_0x5a404e(0x5a0),'functionsRegion':_0x5a404e(0x3aa)},'google':{'searchEngineId':_0x5a404e(0x7fd)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x5a404e(0x12f)}};},0x33b:(_0x112c2d,_0x2a13e0,_0x3799f6)=>{_0x3799f6['d'](_0x2a13e0,{'O':()=>_0x12a5b0});const _0x12a5b0={};},0x3e6:(_0x520f64,_0x46ecc1,_0x112802)=>{const _0x17451c=a0_0x50bd;_0x112802['d'](_0x46ecc1,{'O':()=>_0x465af7});const _0x465af7={'version':_0x17451c(0x957),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x17451c(0x868),'authDomain':_0x17451c(0x658),'databaseURL':_0x17451c(0x9b3),'projectId':_0x17451c(0x1ed),'storageBucket':'crewdle-sdk.appspot.com','messagingSenderId':'420235181083','appId':_0x17451c(0x864),'measurementId':_0x17451c(0x656)},'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x17451c(0x12f)}};},0x20:(_0x1e1d7f,_0x518b01,_0x3b26d9)=>{_0x3b26d9['d'](_0x518b01,{'O':()=>_0xfd5f06});const _0xfd5f06={};}},_0x5bdffa={};function _0x4fca2e(_0xe01536){const _0x25ce42=a0_0x50bd;var _0x2eff7c=_0x5bdffa[_0xe01536];if(void 0x0!==_0x2eff7c)return _0x2eff7c[_0x25ce42(0x35c)];var _0x937a8d=_0x5bdffa[_0xe01536]={'exports':{}};return _0x27856f[_0xe01536](_0x937a8d,_0x937a8d[_0x25ce42(0x35c)],_0x4fca2e),_0x937a8d[_0x25ce42(0x35c)];}_0x4fca2e['d']=(_0x36555b,_0xc9bc6a)=>{const _0x4398d9=a0_0x50bd;for(var _0x5ad247 in _0xc9bc6a)_0x4fca2e['o'](_0xc9bc6a,_0x5ad247)&&!_0x4fca2e['o'](_0x36555b,_0x5ad247)&&Object[_0x4398d9(0x2e0)](_0x36555b,_0x5ad247,{'enumerable':!0x0,'get':_0xc9bc6a[_0x5ad247]});},_0x4fca2e['g']=(function(){const _0x283369=a0_0x50bd;if(_0x283369(0x337)==typeof globalThis)return globalThis;try{return this||new Function(_0x283369(0x442))();}catch(_0x67fbaf){if('object'==typeof window)return window;}}()),_0x4fca2e['o']=(_0x290489,_0x1e1c4b)=>Object[_0x14177f(0x404)][_0x14177f(0x1a7)][_0x14177f(0x63f)](_0x290489,_0x1e1c4b),_0x4fca2e['r']=_0x9d2010=>{const _0x425271=_0x14177f;'undefined'!=typeof Symbol&&Symbol[_0x425271(0x8dd)]&&Object[_0x425271(0x2e0)](_0x9d2010,Symbol[_0x425271(0x8dd)],{'value':'Module'}),Object[_0x425271(0x2e0)](_0x9d2010,'__esModule',{'value':!0x0});};var _0x1a76df,_0x711184,_0x39fe10,_0x290fbf={};_0x4fca2e['r'](_0x290fbf),_0x4fca2e['d'](_0x290fbf,{'KeyValueDatabase':()=>_0x3e5ffa,'LayoutBuilder':()=>_0x5b5f42,'LoggingChannels':()=>_0x39fe10,'QueryBuilder':()=>_0x358d37,'SDK':()=>_0x2e2756,'SDKClientErrorCodes':()=>_0x1a76df,'TableBuilder':()=>_0x21dd49,'logger':()=>_0x1734f6}),function(_0x141643){const _0x3807f6=_0x14177f;_0x141643['ConnectionBufferNotEmpty']=_0x3807f6(0x6d3),_0x141643[_0x3807f6(0x3ff)]=_0x3807f6(0x91d),_0x141643['ExternalStorageConnectionAlreadyExists']='external-storage-connection-already-exists',_0x141643[_0x3807f6(0x112)]='external-storage-connection-already-subscribed',_0x141643[_0x3807f6(0x63e)]='external-storage-connection-does-not-exist',_0x141643[_0x3807f6(0x23f)]=_0x3807f6(0x89c),_0x141643[_0x3807f6(0x324)]=_0x3807f6(0x6e9),_0x141643[_0x3807f6(0x800)]=_0x3807f6(0x898),_0x141643[_0x3807f6(0x48c)]='feature-not-enabled',_0x141643[_0x3807f6(0x776)]=_0x3807f6(0x35e),_0x141643[_0x3807f6(0x78e)]='generative-ai-context-does-not-exist',_0x141643['GenerativeAIContextJobMissingThreadId']=_0x3807f6(0x63a),_0x141643[_0x3807f6(0x9cf)]=_0x3807f6(0x99e),_0x141643[_0x3807f6(0x4ca)]=_0x3807f6(0x5ce),_0x141643[_0x3807f6(0x49f)]=_0x3807f6(0x1c3),_0x141643[_0x3807f6(0x4f7)]='generative-ai-worker-model-sync-error',_0x141643[_0x3807f6(0x24a)]='graph-database-already-exists',_0x141643[_0x3807f6(0x880)]=_0x3807f6(0x9ff),_0x141643['GraphDatabaseMissingConnector']=_0x3807f6(0x1fc),_0x141643[_0x3807f6(0x345)]='graph-database-name-not-string',_0x141643[_0x3807f6(0x18f)]=_0x3807f6(0x130),_0x141643[_0x3807f6(0x69c)]='job-dispatcher-does-not-exist',_0x141643[_0x3807f6(0x799)]=_0x3807f6(0x690),_0x141643['JobDispatcherJobNotFound']=_0x3807f6(0x4db),_0x141643[_0x3807f6(0x7b9)]=_0x3807f6(0x391),_0x141643[_0x3807f6(0x9c1)]=_0x3807f6(0x454),_0x141643[_0x3807f6(0x9ce)]=_0x3807f6(0x2da),_0x141643['ObjectStoreAlreadyExists']=_0x3807f6(0x349),_0x141643['ObjectStoreAlreadySubscribed']=_0x3807f6(0x2e1),_0x141643['ObjectStoreDoesNotExist']=_0x3807f6(0x6b4),_0x141643[_0x3807f6(0x36a)]=_0x3807f6(0x21e),_0x141643[_0x3807f6(0xfe)]='object-store-invalid-payload',_0x141643['ObjectStoreInvalidPath']=_0x3807f6(0x2e2),_0x141643[_0x3807f6(0x706)]=_0x3807f6(0x51d),_0x141643[_0x3807f6(0x201)]=_0x3807f6(0xa39),_0x141643[_0x3807f6(0x2b7)]=_0x3807f6(0x7a6),_0x141643[_0x3807f6(0x749)]=_0x3807f6(0x33b),_0x141643[_0x3807f6(0x3d8)]=_0x3807f6(0x9b7),_0x141643['KeyValueDatabaseIndexNotFound']=_0x3807f6(0x5d9),_0x141643[_0x3807f6(0x589)]=_0x3807f6(0x83b),_0x141643[_0x3807f6(0x64e)]=_0x3807f6(0x9e9),_0x141643['KeyValueDatabaseNameNotString']=_0x3807f6(0x840),_0x141643['KeyValueDatabaseNotOpen']=_0x3807f6(0x392),_0x141643[_0x3807f6(0x981)]=_0x3807f6(0x7b3),_0x141643[_0x3807f6(0x2f1)]='key-value-database-table-not-found',_0x141643[_0x3807f6(0xa52)]=_0x3807f6(0x382),_0x141643['LocalMediaStreamAlreadyExists']='local-media-stream-already-exists',_0x141643[_0x3807f6(0x4c3)]=_0x3807f6(0x18a),_0x141643[_0x3807f6(0x62f)]=_0x3807f6(0x37b),_0x141643[_0x3807f6(0x152)]='pub-sub-topic-does-not-exist',_0x141643[_0x3807f6(0x6dd)]=_0x3807f6(0x102),_0x141643['PubSubTopicAlreadySubscribed']=_0x3807f6(0xa0c),_0x141643[_0x3807f6(0x5a8)]=_0x3807f6(0x100),_0x141643[_0x3807f6(0x22f)]=_0x3807f6(0x505),_0x141643[_0x3807f6(0x57f)]='remote-media-stream-invalid-subscription-params',_0x141643[_0x3807f6(0x578)]='subscription-request-in-progress',_0x141643['NodeNotAuthenticated']='node-not-authenticated',_0x141643[_0x3807f6(0x410)]=_0x3807f6(0x3d2),_0x141643[_0x3807f6(0x9ee)]=_0x3807f6(0x571),_0x141643[_0x3807f6(0x963)]=_0x3807f6(0x43e),_0x141643[_0x3807f6(0x7f6)]=_0x3807f6(0x6e3),_0x141643['VectorDatabaseDoesNotExist']=_0x3807f6(0x74f),_0x141643[_0x3807f6(0x59e)]=_0x3807f6(0x76f),_0x141643[_0x3807f6(0x1f3)]=_0x3807f6(0x5e3);}(_0x1a76df||(_0x1a76df={}));class _0x3b8aa0 extends Error{[_0x14177f(0x3bc)];constructor(_0x5d48b4,_0x41d198){const _0x2f5cff=_0x14177f;super(_0x41d198),this[_0x2f5cff(0x3bc)]=_0x5d48b4;}}!function(_0x5906a8){const _0x3855f8=_0x14177f;_0x5906a8[_0x3855f8(0x8a1)]=_0x3855f8(0x927),_0x5906a8[_0x3855f8(0x5d1)]=_0x3855f8(0x529),_0x5906a8[_0x3855f8(0x1a9)]=_0x3855f8(0x73e),_0x5906a8['VectorDatabase']=_0x3855f8(0x959),_0x5906a8[_0x3855f8(0x3b4)]=_0x3855f8(0x7b6),_0x5906a8[_0x3855f8(0x6d1)]=_0x3855f8(0x24b),_0x5906a8[_0x3855f8(0x6c9)]='media-stream',_0x5906a8['GenerativeAIContext']=_0x3855f8(0x92f);}(_0x711184||(_0x711184={})),function(_0x404edf){const _0x174794=_0x14177f;_0x404edf[_0x174794(0x353)]=_0x174794(0x4ff),_0x404edf[_0x174794(0x9a8)]=_0x174794(0x65a),_0x404edf[_0x174794(0x930)]='connection',_0x404edf[_0x174794(0x69e)]=_0x174794(0x65b),_0x404edf[_0x174794(0x4fa)]=_0x174794(0x30c),_0x404edf[_0x174794(0x4ee)]=_0x174794(0x4cc),_0x404edf[_0x174794(0x613)]=_0x174794(0x4b7),_0x404edf[_0x174794(0x545)]=_0x174794(0x90c),_0x404edf['Events']=_0x174794(0x2c4),_0x404edf[_0x174794(0x9db)]=_0x174794(0x70e),_0x404edf[_0x174794(0x5fb)]=_0x174794(0x7ea),_0x404edf[_0x174794(0x1a9)]=_0x174794(0x73e),_0x404edf['Node']=_0x174794(0x114),_0x404edf[_0x174794(0x2b8)]=_0x174794(0x5d8),_0x404edf[_0x174794(0x8a1)]=_0x174794(0x927),_0x404edf[_0x174794(0x4a9)]=_0x174794(0x9bc),_0x404edf[_0x174794(0x9d7)]=_0x174794(0x4a6),_0x404edf[_0x174794(0x34d)]=_0x174794(0x7f0),_0x404edf['Signaling']=_0x174794(0x6d0),_0x404edf[_0x174794(0x318)]=_0x174794(0x4a7),_0x404edf[_0x174794(0x278)]=_0x174794(0x3d1),_0x404edf[_0x174794(0x785)]='support',_0x404edf[_0x174794(0x974)]=_0x174794(0x560),_0x404edf['SystemStats']=_0x174794(0x7da),_0x404edf['TestPage']=_0x174794(0x663),_0x404edf[_0x174794(0x6ae)]='peer-connection';}(_0x39fe10||(_0x39fe10={}));const _0x23d754=require('@crewdle/web-sdk-types');class _0x358d37{['query'];constructor(_0x408b48){const _0x5ce6c3=_0x14177f;this['query']={'orderBy':{'key':_0x408b48,'direction':_0x5ce6c3(0x20b)}};}static[_0x14177f(0x14a)](_0x15b29d){const _0xfb2a80=_0x14177f;if('string'!=typeof _0x15b29d||0x0===_0x15b29d[_0xfb2a80(0x5b7)])throw new _0x3b8aa0(_0x1a76df[_0xfb2a80(0x5a8)],_0xfb2a80(0x8de));return new _0x358d37(_0x15b29d);}static[_0x14177f(0x3cc)](_0x266dc8){const _0x5d744d=_0x14177f;try{return _0x358d37[_0x5d744d(0x8cf)](_0x266dc8),!0x0;}catch(_0x4fe188){return!0x1;}}static[_0x14177f(0x8cf)](_0x4a1c24){const _0x537b1b=_0x14177f,_0x1444e9=_0x358d37[_0x537b1b(0x14a)](_0x4a1c24['orderBy']?.[_0x537b1b(0x151)]??_0x4a1c24[_0x537b1b(0x389)]?.[_0x537b1b(0x151)]??'');if(_0x4a1c24[_0x537b1b(0x389)]){const _0x26d83a=_0x4a1c24['where'];if((_0x358d37[_0x537b1b(0x4aa)](_0x26d83a)||_0x358d37[_0x537b1b(0x2b9)](_0x26d83a)||_0x358d37[_0x537b1b(0x619)](_0x26d83a))&&_0x1444e9[_0x537b1b(0x389)](_0x26d83a[_0x537b1b(0x6ee)],_0x26d83a[_0x537b1b(0x6f2)]),_0x4a1c24[_0x537b1b(0x1f8)]?.[_0x537b1b(0x151)]&&_0x4a1c24[_0x537b1b(0x1f8)]?.[_0x537b1b(0x151)]!==_0x4a1c24[_0x537b1b(0x389)][_0x537b1b(0x151)])throw new _0x3b8aa0(_0x1a76df[_0x537b1b(0x5a8)],_0x537b1b(0x480));}return _0x4a1c24[_0x537b1b(0x1f8)]&&_0x1444e9[_0x537b1b(0x1f8)](_0x4a1c24[_0x537b1b(0x1f8)]['direction']),_0x4a1c24[_0x537b1b(0x752)]&&_0x1444e9[_0x537b1b(0x752)](_0x4a1c24[_0x537b1b(0x752)]),_0x4a1c24[_0x537b1b(0x330)]&&_0x1444e9['offset'](_0x4a1c24[_0x537b1b(0x330)]),_0x1444e9;}[_0x14177f(0x3a8)](){return{...this['query']};}[_0x14177f(0x389)](_0x4def7c,_0x3c8f08){const _0x1058d6=_0x14177f,_0x4e4e43={'key':this['query'][_0x1058d6(0x1f8)][_0x1058d6(0x151)],'operator':_0x4def7c,'value':_0x3c8f08};if(!_0x358d37[_0x1058d6(0x4aa)](_0x4e4e43)&&!_0x358d37[_0x1058d6(0x2b9)](_0x4e4e43)&&!_0x358d37[_0x1058d6(0x619)](_0x4e4e43))throw new _0x3b8aa0(_0x1a76df[_0x1058d6(0x5a8)],_0x1058d6(0x34e));return this[_0x1058d6(0x7ce)][_0x1058d6(0x389)]=_0x4e4e43,this;}['orderBy'](_0x237345){const _0x2b0873=_0x14177f;if(_0x2b0873(0x20b)!==_0x237345&&_0x2b0873(0x297)!==_0x237345)throw new _0x3b8aa0(_0x1a76df['QueryBuilderInvalidArgument'],_0x2b0873(0x61f));return this[_0x2b0873(0x7ce)][_0x2b0873(0x1f8)]['direction']=_0x237345,this;}[_0x14177f(0x752)](_0x50f02d){const _0x33d721=_0x14177f;if(_0x33d721(0x3ce)!=typeof _0x50f02d||_0x50f02d<0x0)throw new _0x3b8aa0(_0x1a76df[_0x33d721(0x5a8)],_0x33d721(0x824));return this[_0x33d721(0x7ce)][_0x33d721(0x752)]=_0x50f02d,this;}[_0x14177f(0x330)](_0x1f1294){const _0x5b465a=_0x14177f;if(_0x5b465a(0x3ce)!=typeof _0x1f1294||_0x1f1294<0x0)throw new _0x3b8aa0(_0x1a76df[_0x5b465a(0x5a8)],_0x5b465a(0x53e));return this[_0x5b465a(0x7ce)][_0x5b465a(0x330)]=_0x1f1294,this;}static[_0x14177f(0x4aa)](_0xff6353){const _0x3761dd=_0x14177f;if(!(_0xff6353&&'object'==typeof _0xff6353&&_0x3761dd(0x6ee)in _0xff6353&&_0x3761dd(0x6f2)in _0xff6353))return!0x1;const {operator:_0x3a2e06,value:_0x4cc737}=_0xff6353;return!(!['==','!=','>','<','<=','>='][_0x3761dd(0x775)](_0x3a2e06)||Array[_0x3761dd(0x4a2)](_0x4cc737));}static['isWhereValues'](_0x58909a){const _0x1ae4ba=_0x14177f;if(!(_0x58909a&&'object'==typeof _0x58909a&&_0x1ae4ba(0x6ee)in _0x58909a&&_0x1ae4ba(0x6f2)in _0x58909a))return!0x1;const {operator:_0x19ceec,value:_0x114902}=_0x58909a;return!(!['in',_0x1ae4ba(0x5a5)][_0x1ae4ba(0x775)](_0x19ceec)||!Array[_0x1ae4ba(0x4a2)](_0x114902));}static[_0x14177f(0x619)](_0x5e9c54){const _0x4b6413=_0x14177f;if(!(_0x5e9c54&&_0x4b6413(0x337)==typeof _0x5e9c54&&_0x4b6413(0x6ee)in _0x5e9c54&&_0x4b6413(0x6f2)in _0x5e9c54))return!0x1;const {operator:_0x446e12,value:_0x1755f1}=_0x5e9c54;return!(_0x4b6413(0x87d)!==_0x446e12||!Array[_0x4b6413(0x4a2)](_0x1755f1)||0x2!==_0x1755f1[_0x4b6413(0x5b7)]);}}class _0x5b5f42{[_0x14177f(0x6c7)];constructor(_0x5e6249){const _0x2f7c27=_0x14177f;this[_0x2f7c27(0x6c7)]={'tables':{},'version':_0x5e6249};}static['validateLayout'](_0x3b1937){const _0x2bd6e7=_0x14177f;for(const _0x50f092 in _0x3b1937){if(_0x2bd6e7(0x5bb)!==_0x50f092&&_0x2bd6e7(0x1b0)!==_0x50f092)return[!0x1,_0x2bd6e7(0x3dc)+_0x50f092+_0x2bd6e7(0x6da)];if('tables'===_0x50f092)for(const _0x43e1fa in _0x3b1937[_0x2bd6e7(0x1b0)]){if(_0x2bd6e7(0x867)!=typeof _0x43e1fa)return[!0x1,_0x2bd6e7(0x668)+_0x43e1fa+'\x27'];for(const _0x3b34ef in _0x3b1937[_0x2bd6e7(0x1b0)][_0x43e1fa]){if('indexes'!==_0x3b34ef)return[!0x1,'Invalid\x20key\x20\x27'+_0x3b34ef+_0x2bd6e7(0x73a)+_0x43e1fa+'\x27'];const _0x16d48b=_0x3b1937[_0x2bd6e7(0x1b0)][_0x43e1fa][_0x3b34ef]??[];for(const _0x4d1d26 of _0x16d48b)if(void 0x0===_0x4d1d26['keyPath']||_0x2bd6e7(0x867)!=typeof _0x4d1d26[_0x2bd6e7(0x65c)])return[!0x1,_0x2bd6e7(0x3ec)+_0x43e1fa+_0x2bd6e7(0x5e9)];}}else{if(_0x2bd6e7(0x5bb)===_0x50f092&&'number'!=typeof _0x3b1937[_0x50f092])return[!0x1,_0x2bd6e7(0x38d)+_0x3b1937[_0x50f092]+_0x2bd6e7(0x700)];}}return[!0x0,'Valid\x20layout'];}static[_0x14177f(0x6c7)](_0x5068d8){const _0x42404a=new _0x5b5f42(_0x5068d8);return _0x42404a['layout']['version']=_0x5068d8,_0x42404a;}[_0x14177f(0x384)](_0x352f44){const _0x5d37c6=_0x14177f;return this[_0x5d37c6(0x6c7)][_0x5d37c6(0x1b0)][_0x352f44]={},new _0x21dd49(this[_0x5d37c6(0x6c7)][_0x5d37c6(0x1b0)][_0x352f44]);}[_0x14177f(0xa08)](){const _0x4ca38a=_0x14177f;return this[_0x4ca38a(0x6c7)];}}class _0x21dd49{[_0x14177f(0x2fb)];constructor(_0x353a56){const _0x45515c=_0x14177f;this[_0x45515c(0x2fb)]=_0x353a56;}[_0x14177f(0x14a)](_0x1861a0){const _0x19eaed=_0x14177f;return this[_0x19eaed(0x2fb)][_0x19eaed(0x2ff)]=this[_0x19eaed(0x2fb)][_0x19eaed(0x2ff)]??[],this[_0x19eaed(0x2fb)]['indexes'][_0x19eaed(0x993)]({'keyPath':_0x1861a0}),this;}}const _0x140a09=0x40000,_0x5352a0=0x3f800,_0x1fe904=0x1388,_0x12a814=_0x14177f(0x261),_0x844134=_0x14177f(0x6fd),_0x34512a='.crewdle-transactions',_0x1e5a52='.crewdle-layout',_0x3104ad=0xdbba0,_0x55f6e5=_0x14177f(0x50d),_0x57048a=0x61a8,_0xe8aa48=0x7530,_0x186264='internal';var _0x3c70a1;!function(_0x375bcf){const _0x43f6ba=_0x14177f;_0x375bcf[_0x43f6ba(0x25e)]='connection-not-initialized',_0x375bcf[_0x43f6ba(0x36c)]=_0x43f6ba(0x858),_0x375bcf['ConnectionNoRetryQueue']=_0x43f6ba(0x74a),_0x375bcf[_0x43f6ba(0x540)]=_0x43f6ba(0x413),_0x375bcf[_0x43f6ba(0x821)]=_0x43f6ba(0x5c1),_0x375bcf['GenerativeAIContextInvalidPartialResult']=_0x43f6ba(0x75a),_0x375bcf[_0x43f6ba(0x61d)]=_0x43f6ba(0x29e),_0x375bcf[_0x43f6ba(0x8cb)]=_0x43f6ba(0x691),_0x375bcf[_0x43f6ba(0x8f0)]=_0x43f6ba(0x732),_0x375bcf[_0x43f6ba(0x106)]=_0x43f6ba(0x175),_0x375bcf[_0x43f6ba(0x97d)]=_0x43f6ba(0x186),_0x375bcf[_0x43f6ba(0x3cd)]=_0x43f6ba(0x912),_0x375bcf['InvalidPublisher']='invalid-publisher',_0x375bcf[_0x43f6ba(0x344)]='invalid-subscriber',_0x375bcf[_0x43f6ba(0x94f)]=_0x43f6ba(0x83f),_0x375bcf['JobDispatcherCreationFailed']=_0x43f6ba(0x1e2),_0x375bcf[_0x43f6ba(0x2d4)]='job-dispatcher-invalid-payload',_0x375bcf[_0x43f6ba(0x3a5)]='job-dispatcher-job-not-found',_0x375bcf[_0x43f6ba(0x44a)]=_0x43f6ba(0x97e),_0x375bcf[_0x43f6ba(0x57d)]=_0x43f6ba(0x61b),_0x375bcf[_0x43f6ba(0x946)]='job-worker-invalid-type',_0x375bcf[_0x43f6ba(0x7f7)]=_0x43f6ba(0x434),_0x375bcf[_0x43f6ba(0x9a5)]=_0x43f6ba(0x16c),_0x375bcf[_0x43f6ba(0x637)]=_0x43f6ba(0x76d),_0x375bcf[_0x43f6ba(0x4d2)]=_0x43f6ba(0x70d),_0x375bcf[_0x43f6ba(0x142)]=_0x43f6ba(0x5a3),_0x375bcf['LocalMediaStreamDoesNotExist']=_0x43f6ba(0x7cf),_0x375bcf[_0x43f6ba(0x978)]=_0x43f6ba(0x294),_0x375bcf[_0x43f6ba(0x863)]='missing-system-topic',_0x375bcf[_0x43f6ba(0x6d4)]=_0x43f6ba(0x512),_0x375bcf[_0x43f6ba(0x95c)]='object-store-cannot-write-transaction',_0x375bcf[_0x43f6ba(0x3f5)]=_0x43f6ba(0x2e8),_0x375bcf['ObjectStoreInvalidSyncMessage']=_0x43f6ba(0x6f4),_0x375bcf[_0x43f6ba(0x79c)]='object-store-not-synced',_0x375bcf[_0x43f6ba(0x15c)]=_0x43f6ba(0x8d3),_0x375bcf[_0x43f6ba(0x52f)]=_0x43f6ba(0x725),_0x375bcf[_0x43f6ba(0x4e0)]=_0x43f6ba(0x7c6),_0x375bcf[_0x43f6ba(0x441)]=_0x43f6ba(0x302),_0x375bcf[_0x43f6ba(0xa4f)]=_0x43f6ba(0x2f0),_0x375bcf[_0x43f6ba(0x669)]=_0x43f6ba(0x283),_0x375bcf[_0x43f6ba(0x8f7)]=_0x43f6ba(0x832),_0x375bcf[_0x43f6ba(0x38c)]=_0x43f6ba(0x346),_0x375bcf['NodeAlreadyExist']=_0x43f6ba(0x947),_0x375bcf[_0x43f6ba(0x2f9)]=_0x43f6ba(0x7ae),_0x375bcf[_0x43f6ba(0x9e3)]=_0x43f6ba(0x3e2),_0x375bcf[_0x43f6ba(0x5be)]=_0x43f6ba(0x6ba),_0x375bcf[_0x43f6ba(0x7a5)]='workflow-invalid-block-type';}(_0x3c70a1||(_0x3c70a1={}));const _0x12eb78=new Map([[_0x3c70a1[_0x14177f(0x25e)],'Connection\x20not\x20initialized.'],[_0x3c70a1[_0x14177f(0x36c)],_0x14177f(0x6be)],[_0x3c70a1['ConnectionNoRetryQueue'],_0x14177f(0x9d1)],[_0x3c70a1[_0x14177f(0x540)],_0x14177f(0x1bc)],[_0x3c70a1[_0x14177f(0x821)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x3c70a1['GenerativeAIContextInvalidPartialResult'],_0x14177f(0x72b)],[_0x3c70a1[_0x14177f(0x61d)],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x3c70a1[_0x14177f(0x8cb)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x3c70a1[_0x14177f(0x8f0)],'Generative\x20AI\x20context\x20job\x20timeout.'],[_0x3c70a1[_0x14177f(0x106)],_0x14177f(0x5fc)],[_0x3c70a1[_0x14177f(0x97d)],'Graph\x20database\x20creation\x20failed.'],[_0x3c70a1[_0x14177f(0x3cd)],'Invalid\x20data\x20channel.'],[_0x3c70a1[_0x14177f(0x964)],_0x14177f(0x465)],[_0x3c70a1[_0x14177f(0x344)],_0x14177f(0x631)],[_0x3c70a1[_0x14177f(0x94f)],_0x14177f(0x30b)],[_0x3c70a1[_0x14177f(0x55a)],'Job\x20service\x20creation\x20failed.'],[_0x3c70a1[_0x14177f(0x2d4)],_0x14177f(0x390)],[_0x3c70a1[_0x14177f(0x3a5)],'Job\x20service\x20job\x20not\x20found.'],[_0x3c70a1[_0x14177f(0x44a)],_0x14177f(0x20e)],[_0x3c70a1['JobWorkerCreationFailed'],_0x14177f(0x499)],[_0x3c70a1[_0x14177f(0x946)],_0x14177f(0x773)],[_0x3c70a1[_0x14177f(0x7f7)],_0x14177f(0x3eb)],[_0x3c70a1['KeyValueDatabasePeakNotFound'],_0x14177f(0x43d)],[_0x3c70a1[_0x14177f(0x637)],'Key-value\x20database\x20table\x20does\x20not\x20exist.'],[_0x3c70a1[_0x14177f(0x4d2)],_0x14177f(0x9a6)],[_0x3c70a1[_0x14177f(0x142)],_0x14177f(0x101)],[_0x3c70a1[_0x14177f(0x122)],_0x14177f(0x2f5)],[_0x3c70a1['MissingRemoteConnection'],_0x14177f(0x37f)],[_0x3c70a1['MissingSystemTopic'],'The\x20system\x20topic\x20has\x20not\x20been\x20registered.'],[_0x3c70a1['MistletCapacityReportNotSet'],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x3c70a1[_0x14177f(0x95c)],_0x14177f(0x13c)],[_0x3c70a1[_0x14177f(0x943)],_0x14177f(0x744)],[_0x3c70a1[_0x14177f(0x3f5)],_0x14177f(0x7bb)],[_0x3c70a1[_0x14177f(0x79c)],'Object\x20store\x20not\x20synced.'],[_0x3c70a1['OutgoingMediaStreamNoTopic'],'Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.'],[_0x3c70a1[_0x14177f(0x52f)],_0x14177f(0x259)],[_0x3c70a1[_0x14177f(0x4e0)],_0x14177f(0x60f)],[_0x3c70a1[_0x14177f(0x441)],'Remote\x20connection\x20already\x20exists.'],[_0x3c70a1['SubscriptionRequestDoesNotExist'],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x3c70a1[_0x14177f(0x669)],_0x14177f(0x164)],[_0x3c70a1[_0x14177f(0x8f7)],_0x14177f(0x913)],[_0x3c70a1[_0x14177f(0x38c)],_0x14177f(0x5ec)],[_0x3c70a1[_0x14177f(0x3c5)],'Node\x20already\x20exists.'],[_0x3c70a1[_0x14177f(0x2f9)],'Invalid\x20peer\x20connection\x20event\x20destination.'],[_0x3c70a1[_0x14177f(0x9e3)],'Vector\x20database\x20creation\x20failed.'],[_0x3c70a1[_0x14177f(0x5be)],'Workflow\x20does\x20not\x20exist.'],[_0x3c70a1['WorkflowInvalidBlockType'],_0x14177f(0x37a)]]);class _0x209e12 extends Error{[_0x14177f(0x3bc)];static [_0x14177f(0x805)]=_0x3c70a1;[_0x14177f(0x84f)];constructor(_0x39f3ee,_0x10dc7a){const _0x257bf4=_0x14177f;super(_0x257bf4(0x95e)+_0x39f3ee+':\x20'+_0x12eb78[_0x257bf4(0x9ba)](_0x39f3ee)+_0x257bf4(0xa2c)+JSON[_0x257bf4(0x990)](_0x10dc7a)),this[_0x257bf4(0x3bc)]=_0x39f3ee,this['data']=_0x10dc7a||{};}}var _0x2c4847,_0x912370,_0x56f23a,_0x3f0b75,_0x593000,_0x39b79e,_0x1252cb;!function(_0x367bf9){const _0x1a8a1f=_0x14177f;_0x367bf9[_0x367bf9[_0x1a8a1f(0xa29)]=0x0]=_0x1a8a1f(0xa29),_0x367bf9[_0x367bf9[_0x1a8a1f(0x1cf)]=0x1]=_0x1a8a1f(0x1cf),_0x367bf9[_0x367bf9[_0x1a8a1f(0x7fb)]=0x2]=_0x1a8a1f(0x7fb),_0x367bf9[_0x367bf9['CloseExternalStorageConnection']=0x3]=_0x1a8a1f(0x43b),_0x367bf9[_0x367bf9[_0x1a8a1f(0x3f2)]=0x4]='CloseKeyValueDatabase',_0x367bf9[_0x367bf9['CloseMediaStream']=0x5]='CloseMediaStream',_0x367bf9[_0x367bf9['CloseObjectStoreBucket']=0x6]=_0x1a8a1f(0x825),_0x367bf9[_0x367bf9[_0x1a8a1f(0x84c)]=0x7]=_0x1a8a1f(0x84c),_0x367bf9[_0x367bf9[_0x1a8a1f(0x586)]=0x8]='CloseVectorDatabase',_0x367bf9[_0x367bf9[_0x1a8a1f(0x46f)]=0x9]=_0x1a8a1f(0x46f),_0x367bf9[_0x367bf9[_0x1a8a1f(0x596)]=0xa]=_0x1a8a1f(0x596),_0x367bf9[_0x367bf9[_0x1a8a1f(0x49d)]=0xb]=_0x1a8a1f(0x49d),_0x367bf9[_0x367bf9[_0x1a8a1f(0x3d7)]=0xc]='GraphDatabaseStats',_0x367bf9[_0x367bf9[_0x1a8a1f(0x241)]=0xd]=_0x1a8a1f(0x241),_0x367bf9[_0x367bf9[_0x1a8a1f(0x1db)]=0xe]=_0x1a8a1f(0x1db),_0x367bf9[_0x367bf9[_0x1a8a1f(0x135)]=0xf]=_0x1a8a1f(0x135),_0x367bf9[_0x367bf9[_0x1a8a1f(0x602)]=0x10]=_0x1a8a1f(0x602),_0x367bf9[_0x367bf9[_0x1a8a1f(0x5e7)]=0x11]='KeyValueDatabaseSendTransactions',_0x367bf9[_0x367bf9[_0x1a8a1f(0x33e)]=0x12]=_0x1a8a1f(0x33e),_0x367bf9[_0x367bf9[_0x1a8a1f(0x41d)]=0x13]='KeyValueDatabaseSyncRequired',_0x367bf9[_0x367bf9['LocalMediaStreamTrackFail']=0x14]=_0x1a8a1f(0x29f),_0x367bf9[_0x367bf9[_0x1a8a1f(0x6ac)]=0x15]=_0x1a8a1f(0x6ac),_0x367bf9[_0x367bf9[_0x1a8a1f(0xa2a)]=0x16]='PubSubTopicStats',_0x367bf9[_0x367bf9['PublishMediaStream']=0x17]=_0x1a8a1f(0x89a),_0x367bf9[_0x367bf9[_0x1a8a1f(0x6cd)]=0x18]=_0x1a8a1f(0x6cd),_0x367bf9[_0x367bf9[_0x1a8a1f(0x569)]=0x19]=_0x1a8a1f(0x569),_0x367bf9[_0x367bf9[_0x1a8a1f(0x6fa)]=0x1a]='UnpublishMediaStream',_0x367bf9[_0x367bf9['UnsubscribeMediaStream']=0x1b]='UnsubscribeMediaStream',_0x367bf9[_0x367bf9[_0x1a8a1f(0x8d4)]=0x1c]=_0x1a8a1f(0x8d4),_0x367bf9[_0x367bf9[_0x1a8a1f(0x56e)]=0x1d]='VectorDatabaseStats';}(_0x2c4847||(_0x2c4847={})),function(_0x5a182f){const _0x4a52f1=_0x14177f;_0x5a182f[_0x4a52f1(0x1fb)]=_0x4a52f1(0x96a),_0x5a182f['FolderCreate']='folder-create',_0x5a182f[_0x4a52f1(0x9d9)]=_0x4a52f1(0x131),_0x5a182f[_0x4a52f1(0x6d2)]=_0x4a52f1(0xa42),_0x5a182f[_0x4a52f1(0x339)]=_0x4a52f1(0x935),_0x5a182f[_0x4a52f1(0x9d5)]=_0x4a52f1(0x739),_0x5a182f[_0x4a52f1(0x9c5)]=_0x4a52f1(0x207),_0x5a182f['RequestFileWrite']=_0x4a52f1(0x610);}(_0x912370||(_0x912370={})),function(_0x4aa653){const _0x5f2df3=_0x14177f;_0x4aa653[_0x5f2df3(0x650)]='request',_0x4aa653[_0x5f2df3(0x399)]=_0x5f2df3(0x64b);}(_0x56f23a||(_0x56f23a={})),function(_0x35a9d5){const _0x47fd93=_0x14177f;_0x35a9d5[_0x47fd93(0x716)]=_0x47fd93(0x1cd),_0x35a9d5['Update']='update',_0x35a9d5[_0x47fd93(0x9d9)]=_0x47fd93(0x131);}(_0x3f0b75||(_0x3f0b75={})),function(_0x28c0b3){const _0x24dd1b=_0x14177f;_0x28c0b3[_0x24dd1b(0x1f7)]=_0x24dd1b(0x9ba),_0x28c0b3[_0x24dd1b(0x4e2)]=_0x24dd1b(0x820),_0x28c0b3[_0x24dd1b(0x9a9)]=_0x24dd1b(0x7e8);}(_0x593000||(_0x593000={})),function(_0x26725a){const _0x51ea71=_0x14177f;_0x26725a[_0x26725a[_0x51ea71(0x650)]=0x0]='Request',_0x26725a[_0x26725a[_0x51ea71(0x809)]=0x1]='Bid',_0x26725a[_0x26725a[_0x51ea71(0x76e)]=0x2]=_0x51ea71(0x76e),_0x26725a[_0x26725a[_0x51ea71(0x86b)]=0x3]=_0x51ea71(0x86b),_0x26725a[_0x26725a[_0x51ea71(0x57c)]=0x4]=_0x51ea71(0x57c),_0x26725a[_0x26725a['Failed']=0x5]='Failed';}(_0x39b79e||(_0x39b79e={})),function(_0x4b0677){const _0x46a5e8=_0x14177f;_0x4b0677[_0x4b0677[_0x46a5e8(0x6ae)]=0x0]=_0x46a5e8(0x6ae),_0x4b0677[_0x4b0677[_0x46a5e8(0x8b2)]=0x1]='Node',_0x4b0677[_0x4b0677[_0x46a5e8(0x4ee)]=0x2]=_0x46a5e8(0x4ee),_0x4b0677[_0x4b0677['Subscription']=0x3]=_0x46a5e8(0x278),_0x4b0677[_0x4b0677[_0x46a5e8(0x318)]=0x4]=_0x46a5e8(0x318),_0x4b0677[_0x4b0677[_0x46a5e8(0x545)]=0x5]=_0x46a5e8(0x545),_0x4b0677[_0x4b0677[_0x46a5e8(0x9d7)]=0x6]=_0x46a5e8(0x9d7);}(_0x1252cb||(_0x1252cb={}));class _0x385f22{[_0x14177f(0x1c7)];[_0x14177f(0x322)];[_0x14177f(0x60b)];constructor(_0x16fb97,_0x5fcc35){const _0xfc8cd5=_0x14177f;this[_0xfc8cd5(0x1c7)]=_0x16fb97,this['label']=_0x5fcc35;}[_0x14177f(0x3bf)](){const _0x488a81=_0x14177f;return this[_0x488a81(0x322)];}[_0x14177f(0x48b)](){const _0x10dd84=_0x14177f;return this[_0x10dd84(0x1c7)][_0x10dd84(0x519)]();}[_0x14177f(0x5a1)](){}[_0x14177f(0x8d0)](_0xbaecde){this['systemTopic']=_0xbaecde;}[_0x14177f(0x7b5)](){const _0x168e59=_0x14177f;delete this[_0x168e59(0x60b)];}}const _0x47d1e0=require('firebase/firestore');let _0x3663fa=_0x4fca2e(0x14d)['O'];function _0x1b9743(_0x1034ea){const _0x4e7a04=_0x14177f;return!(!_0x1034ea||'object'!=typeof _0x1034ea||Array[_0x4e7a04(0x4a2)](_0x1034ea));}_0x3663fa=function _0x400060(_0x5dbdc7,..._0x4eb4b4){const _0x154cd2=_0x14177f;if(!Array[_0x154cd2(0x4a2)](_0x4eb4b4)||0x0===_0x4eb4b4[_0x154cd2(0x5b7)])return _0x5dbdc7;const _0x511e9e=_0x4eb4b4[_0x154cd2(0x239)]();if(_0x1b9743(_0x5dbdc7)&&_0x1b9743(_0x511e9e)){for(const _0x29b67c in _0x511e9e)_0x1b9743(_0x511e9e[_0x29b67c])?(_0x5dbdc7[_0x29b67c]||Object[_0x154cd2(0x414)](_0x5dbdc7,{[_0x29b67c]:{}}),_0x400060(_0x5dbdc7[_0x29b67c],_0x511e9e[_0x29b67c])):Object[_0x154cd2(0x414)](_0x5dbdc7,{[_0x29b67c]:_0x511e9e[_0x29b67c]});}return _0x400060(_0x5dbdc7,..._0x4eb4b4);}(_0x3663fa,_0x4fca2e(0x3e6)['O']);const _0x28f07d=_0x3663fa,_0x3edcaf=require('firebase/app'),_0x157d40=require('firebase/auth'),_0x2f13db=require('firebase/database'),_0x10463b=require('firebase/functions'),_0x3fe08f=require('uuid'),_0x5699ea=_0x14177f(0x39f);class _0x10273b{static [_0x14177f(0x15a)];['app'];[_0x14177f(0x56f)];['functions'];['database'];[_0x14177f(0x5a7)];[_0x14177f(0x4f4)];['lastClockUpdate'];constructor(){this['getApp']();}static['getInstance'](){const _0x1f0562=_0x14177f;return _0x10273b[_0x1f0562(0x15a)]||(_0x10273b[_0x1f0562(0x15a)]=new _0x10273b()),_0x10273b[_0x1f0562(0x15a)];}[_0x14177f(0x305)](){const _0xfdfdbf=_0x14177f;if(!this['app']){let _0x4e46cf=_0x5699ea;_0xfdfdbf(0x401)!=typeof window&&(_0x4e46cf=_0x5699ea+'-'+(0x0,_0x3fe08f['v4'])()),this[_0xfdfdbf(0x8a5)]=(0x0,_0x3edcaf[_0xfdfdbf(0x941)])(_0x28f07d[_0xfdfdbf(0x2c9)],''+_0x4e46cf);}return this[_0xfdfdbf(0x8a5)];}[_0x14177f(0x1c1)](){const _0x2f9ea7=_0x14177f;return this[_0x2f9ea7(0x56f)]||(this[_0x2f9ea7(0x56f)]=(0x0,_0x157d40[_0x2f9ea7(0x1c1)])(this[_0x2f9ea7(0x305)]())),this[_0x2f9ea7(0x56f)];}[_0x14177f(0x3e1)](){const _0x32b16d=_0x14177f;return this[_0x32b16d(0x7e0)]||(this['functions']=(0x0,_0x10463b[_0x32b16d(0x3e1)])(this[_0x32b16d(0x305)](),_0x28f07d[_0x32b16d(0x2c9)][_0x32b16d(0x96f)])),this[_0x32b16d(0x7e0)];}[_0x14177f(0x3ea)](){const _0xca3ec0=_0x14177f;return this['database']||(this[_0xca3ec0(0x738)]=(0x0,_0x2f13db[_0xca3ec0(0x3ea)])(this[_0xca3ec0(0x305)]())),this['database'];}['getFirestore'](){const _0x14bfb6=_0x14177f;return this[_0x14bfb6(0x5a7)]||(this[_0x14bfb6(0x5a7)]=(0x0,_0x47d1e0[_0x14bfb6(0x76b)])(this['getApp']())),this[_0x14bfb6(0x5a7)];}async[_0x14177f(0x36b)](){const _0x48429b=_0x14177f;if(this[_0x48429b(0x4f4)]&&this[_0x48429b(0x855)]&&Date[_0x48429b(0x5bc)]()-this[_0x48429b(0x855)]<0x493e0)return Date[_0x48429b(0x5bc)]()+this['clockSkew'];const _0x3ae76d=this[_0x48429b(0x3ea)](),_0x4072ff=(0x0,_0x2f13db[_0x48429b(0x1f4)])(_0x3ae76d,_0x48429b(0x308));return new Promise(_0x506dfe=>{(0x0,_0x2f13db['onValue'])(_0x4072ff,_0x3a555f=>{const _0x2746e7=a0_0x50bd;(0x0,_0x2f13db['off'])(_0x4072ff),this[_0x2746e7(0x4f4)]=_0x3a555f[_0x2746e7(0x26e)](),this[_0x2746e7(0x855)]=Date[_0x2746e7(0x5bc)](),_0x506dfe(Date[_0x2746e7(0x5bc)]()+(this['clockSkew']??0x0));});});}}const _0x4ce864=_0x10273b[_0x14177f(0x30a)]();class _0x39d0d4{static [_0x14177f(0x15a)];[_0x14177f(0x5ae)]=[_0x39fe10[_0x14177f(0x9a8)]];[_0x14177f(0x58b)]=!0x1;[_0x14177f(0x5c0)];[_0x14177f(0x857)]='';['globalObject'];[_0x14177f(0x81b)]=[];[_0x14177f(0x5fd)];[_0x14177f(0x253)];[_0x14177f(0x320)]=0xa;['retryDelay']=0x1f4;[_0x14177f(0x273)]=0x1c2;[_0x14177f(0x8ef)]=0x3e8;constructor(){const _0xa619b0=_0x14177f;if(_0xa619b0(0x401)!=typeof window)this[_0xa619b0(0x68a)]=window;else{if(void 0x0===_0x4fca2e['g'])throw new Error(_0xa619b0(0x640));this['globalObject']=_0x4fca2e['g'];}this['loadEnabledChannels'](),this['globalObject'][_0xa619b0(0x2d6)]=_0x1c1973=>{const _0x4ae841=_0xa619b0;if(_0x1c1973===_0x39fe10[_0x4ae841(0x353)])return this[_0x4ae841(0x5ae)]=Object[_0x4ae841(0x770)](_0x39fe10)[_0x4ae841(0x265)](_0x4c107b=>_0x39fe10[_0x4c107b]),void Object[_0x4ae841(0x770)](_0x39fe10)['forEach'](_0x4b0b1b=>{const _0x4f9272=_0x4ae841,_0x4fdf71=_0x4b0b1b;localStorage[_0x4f9272(0x3fc)](_0x4f9272(0x376)+_0x39fe10[_0x4fdf71],_0x4f9272(0x188));});this['enabledChannels'][_0x4ae841(0x775)](_0x1c1973)||(this[_0x4ae841(0x5ae)][_0x4ae841(0x993)](_0x1c1973),localStorage[_0x4ae841(0x3fc)](_0x4ae841(0x376)+_0x1c1973,_0x4ae841(0x188)));},this[_0xa619b0(0x68a)][_0xa619b0(0x233)]=_0xc996b9=>{const _0x493f9f=_0xa619b0;if(!_0xc996b9||_0xc996b9===_0x39fe10[_0x493f9f(0x353)])return this['enabledChannels']=[],void Object[_0x493f9f(0x770)](_0x39fe10)[_0x493f9f(0x918)](_0x4f0e92=>{const _0x56155c=_0x493f9f,_0x537f62=_0x4f0e92;localStorage[_0x56155c(0x3d0)](_0x56155c(0x376)+_0x39fe10[_0x537f62]);});this[_0x493f9f(0x5ae)][_0x493f9f(0x775)](_0xc996b9)&&(this[_0x493f9f(0x5ae)]=this['enabledChannels'][_0x493f9f(0x31d)](_0x3632ee=>_0x3632ee!==_0xc996b9),localStorage[_0x493f9f(0x3d0)](_0x493f9f(0x376)+_0xc996b9));},this[_0xa619b0(0x68a)]['crewdleSDKLoggingChannels']=_0x39fe10;}static['getInstance'](){const _0x10fc9c=_0x14177f;try{return _0x39d0d4[_0x10fc9c(0x15a)]||(_0x39d0d4[_0x10fc9c(0x15a)]=new _0x39d0d4()),_0x39d0d4['instance'];}catch(_0x256901){return console[_0x10fc9c(0x70e)](_0x10fc9c(0x170),_0x256901),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x14177f(0x18b)](_0x15f30f){const _0xdd62f=_0x14177f;this['vendorId']=_0x15f30f,this[_0xdd62f(0x81b)]=[],this[_0xdd62f(0x5fd)]=this[_0xdd62f(0x9d6)](),this[_0xdd62f(0x253)]&&(clearTimeout(this[_0xdd62f(0x253)]),this[_0xdd62f(0x253)]=void 0x0);}[_0x14177f(0x232)](_0x354275){const _0x2ad83d=_0x14177f;this[_0x2ad83d(0x5c0)]=_0x354275;}[_0x14177f(0x423)](_0x541a52,..._0x2e7616){const _0x451bf5=_0x14177f;this[_0x451bf5(0x58b)]&&this[_0x451bf5(0x2b0)](_0x39fe10[_0x451bf5(0x9a8)],_0x451bf5(0x895)+_0x541a52,..._0x2e7616);}['forceLog'](_0x270840,..._0x490f39){const _0x3257f8=_0x14177f;console['log'](_0x270840,..._0x490f39),this[_0x3257f8(0x5c0)]&&this['loggingConnectors'][_0x3257f8(0x918)](_0x2b779c=>{const _0x4bddcc=_0x3257f8;_0x2b779c[_0x4bddcc(0x2b0)](_0x270840,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{..._0x490f39}});});}['log'](_0x4a860d,_0x5a9e6c,..._0x4ea6e3){const _0x5d5b6d=_0x14177f;_0x28f07d[_0x5d5b6d(0x6bf)]||(this[_0x5d5b6d(0x5ae)][_0x5d5b6d(0x775)](_0x4a860d)&&console['log'](_0x5d5b6d(0xa38)+_0x4a860d+'\x27\x0a',new Date()+'\x0a',_0x5a9e6c,..._0x4ea6e3),this[_0x5d5b6d(0x5c0)]&&this[_0x5d5b6d(0x5c0)][_0x5d5b6d(0x918)](_0x339b9a=>{const _0x5d2fe6=_0x5d5b6d;this[_0x5d2fe6(0x1fa)](_0x339b9a)&&_0x339b9a['getEnabledChannels']()[_0x5d2fe6(0x775)](_0x4a860d)&&_0x339b9a[_0x5d2fe6(0x2b0)](_0x5a9e6c,{'vendorId':this[_0x5d2fe6(0x857)],'nodeId':'','nodeType':'','data':{'channel':_0x4a860d,..._0x4ea6e3}});}));}[_0x14177f(0x55f)](_0x22474c,_0x38bd2a,..._0x4e53eb){const _0x1d7dfa=_0x14177f;_0x28f07d['isProduction']||(this[_0x1d7dfa(0x5ae)][_0x1d7dfa(0x775)](_0x22474c)&&console[_0x1d7dfa(0x2b0)](_0x38bd2a,..._0x4e53eb),this[_0x1d7dfa(0x5c0)]&&this[_0x1d7dfa(0x5c0)]['forEach'](_0xbe3f3a=>{const _0x33adac=_0x1d7dfa;this[_0x33adac(0x1fa)](_0xbe3f3a)&&_0xbe3f3a[_0x33adac(0x8c4)]()[_0x33adac(0x775)](_0x22474c)&&_0xbe3f3a[_0x33adac(0x2b0)](_0x38bd2a,{'vendorId':this[_0x33adac(0x857)],'nodeId':'','nodeType':'','data':{'channel':_0x22474c,..._0x4e53eb}});}));}['logEvent'](_0x3987cd,_0x13e1c5){const _0x32aa66=_0x14177f;if(!this['loggingConnectors'])return;const _0x2c6549={'vendorId':this['vendorId'],..._0x13e1c5};this[_0x32aa66(0x5c0)][_0x32aa66(0x918)](_0x8cdddf=>{const _0x54f589=_0x32aa66;_0x8cdddf[_0x54f589(0x2b0)](_0x3987cd,_0x2c6549);});}[_0x14177f(0x814)](_0xfc8c89,_0x562169){const _0x2e2086=_0x14177f;this[_0x2e2086(0x908)](_0xfc8c89,_0x562169),this['logBatch']();}[_0x14177f(0x62e)](_0x256015,_0x5dfd07,_0x439d33){const _0x2965a3=_0x14177f;(0x0,_0x47d1e0[_0x2965a3(0x475)])((0x0,_0x47d1e0[_0x2965a3(0x595)])(_0x4ce864[_0x2965a3(0x76b)](),_0x2965a3(0x793)+this[_0x2965a3(0x857)]+'/'+_0x256015+'/'+_0x5dfd07),{'storage':_0x439d33,'timestamp':(0x0,_0x47d1e0[_0x2965a3(0x8e2)])()});}[_0x14177f(0x8f5)](){const _0x456643=_0x14177f;this['currentBatch']&&(this[_0x456643(0x5fd)][_0x456643(0x97c)]+=0x1,this['currentBatch'][_0x456643(0x97c)]===this[_0x456643(0x273)]?this[_0x456643(0x667)]():this[_0x456643(0x253)]||(this['batchTimeout']=this['globalObject']['setTimeout'](()=>this['processBatch'](),this[_0x456643(0x8ef)])));}async[_0x14177f(0x667)](){const _0x2994b7=_0x14177f;if(this['currentBatch']){for(this[_0x2994b7(0x81b)][_0x2994b7(0x993)](this['currentBatch']),this[_0x2994b7(0x5fd)]=this[_0x2994b7(0x9d6)]();this['batchQueue']['length']>0x0;){const _0x29c472=this[_0x2994b7(0x81b)][_0x2994b7(0x239)]();if(!await this['commitBatch'](_0x29c472))break;}clearTimeout(this[_0x2994b7(0x253)]),this[_0x2994b7(0x253)]=void 0x0;}}[_0x14177f(0x70e)](_0x35dee2,_0x1f71fb,..._0x1941fa){const _0x214978=_0x14177f;if(console[_0x214978(0x70e)](new Date(),_0x35dee2,_0x1f71fb,..._0x1941fa),this[_0x214978(0x5c0)]){const _0x17f6d1={'vendorId':this[_0x214978(0x857)],..._0x1f71fb};this['loggingConnectors']['forEach'](_0x1c83b2=>{_0x1c83b2['error'](_0x35dee2,_0x17f6d1);});}}[_0x14177f(0x8c3)](_0x3c22e8,_0x415906,..._0x1c2581){const _0x2f4539=_0x14177f;if(console[_0x2f4539(0x713)](new Date(),_0x3c22e8,_0x415906,_0x1c2581),this['loggingConnectors']){const _0x1367ee={'vendorId':this['vendorId'],..._0x415906};this[_0x2f4539(0x5c0)][_0x2f4539(0x918)](_0x30cd26=>{const _0x4f6673=_0x2f4539;_0x30cd26[_0x4f6673(0x713)](_0x3c22e8,_0x1367ee);});}}[_0x14177f(0x7cd)](_0x474848){const _0x59a858=_0x14177f;return this['enabledChannels'][_0x59a858(0x775)](_0x474848);}async[_0x14177f(0x60e)](_0x2e1478,_0x1d89a4=0x0){const _0x48cf1d=_0x14177f;if(_0x2e1478[_0x48cf1d(0x97c)]>0x0)try{return await _0x2e1478[_0x48cf1d(0x4e6)]['commit'](),!0x0;}catch(_0x4bd8e4){if(console[_0x48cf1d(0x70e)](_0x48cf1d(0xa35),_0x4bd8e4,'Operations:',_0x2e1478[_0x48cf1d(0x456)]),!(_0x1d89a4<this[_0x48cf1d(0x320)])){const {nodeId:_0x76ba53='',nodeType:_0x1706d0='',clusterId:_0x5ae9ba=''}=_0x2e1478[_0x48cf1d(0x456)][0x0]['data'],_0x2fcd07={'nodeId':_0x76ba53,'nodeType':_0x1706d0,'clusterId':_0x5ae9ba,'data':{'operations':_0x2e1478[_0x48cf1d(0x456)],'error':_0x4bd8e4}};return this[_0x48cf1d(0x70e)](_0x48cf1d(0x7e3),_0x2fcd07),!0x1;}{const _0x146b16=this[_0x48cf1d(0x270)](_0x2e1478[_0x48cf1d(0x456)]);setTimeout(()=>this[_0x48cf1d(0x60e)](_0x146b16,_0x1d89a4+0x1),this[_0x48cf1d(0xa30)]*Math['pow'](0x2,_0x1d89a4));}}}[_0x14177f(0x2a1)](){const _0x1f867c=_0x14177f;try{Object[_0x1f867c(0x770)](_0x39fe10)[_0x1f867c(0x918)](_0xe88c3e=>{const _0x44eb34=_0x1f867c,_0x4fbe51=_0xe88c3e;localStorage[_0x44eb34(0x6ed)]('crewdle-sdk-logging-'+_0x39fe10[_0x4fbe51])&&(console[_0x44eb34(0x2b0)](_0x44eb34(0x453),_0x39fe10[_0x4fbe51]),this[_0x44eb34(0x5ae)][_0x44eb34(0x993)](_0x39fe10[_0x4fbe51]));});}catch(_0x4a81ee){}}[_0x14177f(0x1fa)](_0x31f355){const _0x1ec01d=_0x14177f;return void 0x0!==_0x31f355[_0x1ec01d(0x8c4)];}[_0x14177f(0x9d6)](){return{'batch':(0x0,_0x47d1e0['writeBatch'])(_0x4ce864['getFirestore']()),'operations':[],'counter':0x0};}[_0x14177f(0x270)](_0x33ee26){const _0x5dccf5=_0x14177f,_0x1e2188=(0x0,_0x47d1e0[_0x5dccf5(0x111)])(_0x4ce864[_0x5dccf5(0x76b)]());return _0x33ee26['forEach'](_0x26c8e2=>this[_0x5dccf5(0x3ac)](_0x1e2188,_0x26c8e2)),{'batch':_0x1e2188,'operations':_0x33ee26,'counter':_0x33ee26[_0x5dccf5(0x5b7)]};}[_0x14177f(0x3ac)](_0x44cc06,_0x3ae6fb){const _0x55f911=_0x14177f;switch(_0x3ae6fb['type']){case'set':_0x44cc06['set'](_0x3ae6fb[_0x55f911(0x1f4)],_0x3ae6fb[_0x55f911(0x84f)]);break;case _0x55f911(0x41f):_0x44cc06[_0x55f911(0x41f)](_0x3ae6fb['ref'],_0x3ae6fb[_0x55f911(0x84f)]);break;case _0x55f911(0x131):_0x44cc06[_0x55f911(0x131)](_0x3ae6fb['ref']);}}[_0x14177f(0x908)](_0x40aec3,_0x9031a0){const _0x4b44c8=_0x14177f;this['currentBatch']||(this['currentBatch']=this[_0x4b44c8(0x9d6)]());const _0x418493=(0x0,_0x47d1e0[_0x4b44c8(0x595)])((0x0,_0x47d1e0[_0x4b44c8(0x9c6)])(_0x4ce864[_0x4b44c8(0x76b)](),_0x4b44c8(0x793)+this[_0x4b44c8(0x857)]+_0x4b44c8(0x2ea))),_0x1fbec9={..._0x9031a0,'service':_0x40aec3,'timestamp':(0x0,_0x47d1e0[_0x4b44c8(0x8e2)])()},_0x1a54da={'type':'set','path':_0x418493[_0x4b44c8(0x160)],'ref':_0x418493,'data':_0x1fbec9};return this[_0x4b44c8(0x5fd)][_0x4b44c8(0x456)]['push'](_0x1a54da),this[_0x4b44c8(0x3ac)](this['currentBatch'][_0x4b44c8(0x4e6)],_0x1a54da),_0x418493;}}const _0x1734f6=_0x39d0d4[_0x14177f(0x30a)]();function _0x29035c(_0x50ea83,_0x3454ac){return'/'===_0x50ea83?_0x50ea83+_0x3454ac:_0x50ea83+'/'+_0x3454ac;}function _0x229976(_0xe5090b){const _0x4f0369=_0x14177f,_0x12afea=function(_0x6aa41d){const _0x329300=a0_0x50bd;return _0x6aa41d[_0x329300(0x31f)]('/')[_0x329300(0x31d)](_0xe9655f=>_0xe9655f[_0x329300(0x5b7)]>0x0);}(_0xe5090b),_0x1f41c2=_0x12afea[_0x4f0369(0x189)]()||'',_0x5754cd=_0x12afea[_0x4f0369(0x417)]('/');return[0x0===_0x5754cd[_0x4f0369(0x5b7)]?'/':_0x5754cd,_0x1f41c2];}async function _0x26c4c4(_0x3bd361){const _0x339970=_0x14177f;let _0xd5c851;const _0x23776e=_0x3bd361[_0x339970(0x11a)]/0x100000;_0xd5c851=_0x23776e<=0xa?0x1:_0x23776e<=0x64?0.5:_0x23776e<=0x1f4?0.1:0.05;const _0x5228cc=Math[_0x339970(0x4ea)](_0x3bd361[_0x339970(0x11a)]/_0x140a09),_0x32dbd8=Math[_0x339970(0x4ea)](_0x5228cc*_0xd5c851);let _0x2c0b67=new Uint8Array();for(let _0x1be390=0x0;_0x1be390<_0x32dbd8;_0x1be390++){const _0x4d864b=Math['floor'](_0x1be390/_0x32dbd8*_0x3bd361[_0x339970(0x11a)]);let _0x530a82=_0x4d864b+_0x140a09;_0x530a82>_0x3bd361['size']&&(_0x530a82=_0x3bd361[_0x339970(0x11a)]);const _0x5512dd=_0x3bd361[_0x339970(0x303)](_0x4d864b,_0x530a82),_0x1ecaf8=await _0x5512dd['arrayBuffer'](),_0x224331=new Uint8Array([..._0x2c0b67,...new Uint8Array(_0x1ecaf8)]);_0x2c0b67=new Uint8Array(await crypto[_0x339970(0x13f)][_0x339970(0x99b)]('SHA-256',_0x224331));}return Array[_0x339970(0x80f)](new Uint8Array(_0x2c0b67))['map'](_0x2ad027=>_0x2ad027['toString'](0x10)[_0x339970(0x5dd)](0x2,'0'))['join']('');}async function*_0xde7f7a(_0x35d1ca,_0x389f6b=0x0,_0x293348){const _0x4970b8=_0x14177f;let _0x383a70=_0x389f6b*_0x5352a0,_0x596f75=_0x35d1ca;for(;_0x383a70<_0x596f75['size'];){let _0x550327=_0x383a70+_0x5352a0;_0x550327>_0x596f75[_0x4970b8(0x11a)]&&(_0x550327=_0x596f75['size']);let _0x56111c=0x0;for(;_0x56111c<0x14;)try{await _0x293348?.();const _0x4588fd=_0x596f75[_0x4970b8(0x303)](_0x383a70,_0x550327,_0x4970b8(0x286)),_0x35681c=await _0x4588fd['arrayBuffer']();yield _0x35681c,_0x383a70=_0x550327,await new Promise(_0x39d0ed=>setTimeout(_0x39d0ed,0x0));break;}catch(_0x2c78a9){if(console[_0x4970b8(0x70e)]('Error\x20reading\x20file\x20chunk\x20after\x20'+(_0x56111c+0x1)+_0x4970b8(0x920),_0x2c78a9),_0x56111c++,_0x56111c>0x14)throw _0x2c78a9;let _0x102446=0x3e8*Math[_0x4970b8(0x93f)](0x2,_0x56111c);_0x102446>0x7530&&(_0x102446=0x7530),await new Promise(_0x504b3d=>setTimeout(_0x504b3d,_0x102446));}}}class _0x27b15e extends _0x385f22{[_0x14177f(0x47a)];['incomingTopic'];[_0x14177f(0x472)]=new Map();[_0x14177f(0x675)]=0x0;[_0x14177f(0x4d4)]=0x0;[_0x14177f(0x489)]=0x0;['bytesReceived']=0x0;constructor(_0x21247b,_0xa3a304){super(_0x21247b,_0xa3a304);}[_0x14177f(0x3bf)](){const _0xe214d9=_0x14177f;return this[_0xe214d9(0x322)];}[_0x14177f(0x352)](){const _0x349d6=_0x14177f;return this[_0x349d6(0x322)];}[_0x14177f(0x62d)](){const _0x11dd28=_0x14177f;return _0x23d754['ContentType'][_0x11dd28(0x968)];}[_0x14177f(0x36d)](){const _0x311cb5=_0x14177f;return this[_0x311cb5(0x322)];}[_0x14177f(0x949)](_0x1ea534){const _0x871532=_0x14177f;if(this['outgoingTopic'])throw new _0x209e12(_0x209e12[_0x871532(0x805)][_0x871532(0x964)],{'message':_0x871532(0x881)+this[_0x871532(0x1c7)][_0x871532(0x519)]()+'\x20-\x20'+this[_0x871532(0x322)],'topic':this['outgoingTopic']});this[_0x871532(0x47a)]=_0x1ea534;}['registerSubscriber'](_0x252189){const _0x4637d8=_0x14177f;if(this[_0x4637d8(0x59b)])throw new _0x209e12(_0x209e12[_0x4637d8(0x805)][_0x4637d8(0x344)],{'message':_0x4637d8(0x271)+this[_0x4637d8(0x1c7)][_0x4637d8(0x519)]()+_0x4637d8(0x9a1)+this['label'],'topic':this[_0x4637d8(0x59b)]});this[_0x4637d8(0x59b)]=_0x252189;}['unregisterPublisher'](){const _0x21d700=_0x14177f;delete this[_0x21d700(0x47a)];}[_0x14177f(0x771)](){const _0x4a2c9d=_0x14177f;delete this[_0x4a2c9d(0x59b)];}async['send'](_0x47e6e6,_0x14b340){const _0x3944fb=_0x14177f;if(_0x1734f6['log'](_0x39fe10['DataStream'],'DataStream\x20send',this[_0x3944fb(0x1c7)][_0x3944fb(0x519)](),_0x47e6e6,_0x14b340),this[_0x3944fb(0x675)]+=0x1,_0x47e6e6 instanceof File){const _0x46418e=await async function(_0x27c342){const _0x3dc3b5=_0x3944fb,_0x3d2ac9=[];for await(const _0x5efc53 of _0xde7f7a(_0x27c342))_0x3d2ac9[_0x3dc3b5(0x993)](_0x5efc53);return _0x3d2ac9;}(_0x47e6e6);return this[_0x3944fb(0x489)]+=_0x46418e['reduce']((_0xe92585,_0x4f9c05)=>_0xe92585+_0x4f9c05['byteLength'],0x0),void _0x46418e[_0x3944fb(0x918)]((_0x48960a,_0x2f62f7)=>{const _0x1e8ded=_0x3944fb;this[_0x1e8ded(0x47a)]['publish']({'sourceId':this['owner'][_0x1e8ded(0x519)](),'destinationIds':_0x14b340,'propagate':!0x0,'contentType':_0x23d754['ContentType'][_0x1e8ded(0x26a)],'content':{'name':_0x47e6e6[_0x1e8ded(0x1a5)],'type':_0x47e6e6[_0x1e8ded(0x162)],'data':_0x48960a,'index':_0x2f62f7,'total':_0x46418e[_0x1e8ded(0x5b7)]}});});}this[_0x3944fb(0x489)]+=JSON[_0x3944fb(0x990)](_0x47e6e6)[_0x3944fb(0x5b7)],this[_0x3944fb(0x47a)]['publish']({'sourceId':this[_0x3944fb(0x1c7)][_0x3944fb(0x519)](),'destinationIds':_0x14b340,'propagate':!0x0,'contentType':_0x23d754['ContentType']['Data'],'content':_0x47e6e6});}[_0x14177f(0x16a)](_0x4dc9c4){const _0xf4695=_0x14177f;return this[_0xf4695(0x59b)][_0xf4695(0x1f2)](_0x4ce03e=>{const _0x4fc7a1=_0xf4695;switch(_0x1734f6[_0x4fc7a1(0x2b0)](_0x39fe10[_0x4fc7a1(0x613)],_0x4fc7a1(0x6d5),this[_0x4fc7a1(0x1c7)]['getId'](),_0x4ce03e),_0x4ce03e[_0x4fc7a1(0x156)]){case _0x23d754[_0x4fc7a1(0x565)][_0x4fc7a1(0x968)]:this[_0x4fc7a1(0x4d4)]+=0x1,this['bytesReceived']+=JSON[_0x4fc7a1(0x990)](_0x4ce03e['content'])[_0x4fc7a1(0x5b7)],_0x4dc9c4(_0x4ce03e[_0x4fc7a1(0x54b)],_0x4ce03e[_0x4fc7a1(0x4cc)]);break;case _0x23d754[_0x4fc7a1(0x565)]['File']:this['fileChunks'][_0x4fc7a1(0x85c)](_0x4ce03e[_0x4fc7a1(0x4cc)][_0x4fc7a1(0x1a5)])||this['fileChunks']['set'](_0x4ce03e[_0x4fc7a1(0x4cc)][_0x4fc7a1(0x1a5)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x5ad4be=this[_0x4fc7a1(0x472)][_0x4fc7a1(0x9ba)](_0x4ce03e[_0x4fc7a1(0x4cc)][_0x4fc7a1(0x1a5)]);if(_0x5ad4be[_0x4fc7a1(0x203)]+=0x1,_0x5ad4be[_0x4fc7a1(0x862)]+=_0x4ce03e[_0x4fc7a1(0x4cc)][_0x4fc7a1(0x84f)][_0x4fc7a1(0x56a)],_0x5ad4be[_0x4fc7a1(0x4cc)]&&(_0x5ad4be[_0x4fc7a1(0x4cc)][_0x4ce03e[_0x4fc7a1(0x4cc)]['index']]=_0x4ce03e[_0x4fc7a1(0x4cc)][_0x4fc7a1(0x84f)]),this['fileChunks'][_0x4fc7a1(0x525)](_0x4ce03e[_0x4fc7a1(0x4cc)]['name'],_0x5ad4be),_0x5ad4be[_0x4fc7a1(0x203)]+0x1<_0x4ce03e[_0x4fc7a1(0x4cc)][_0x4fc7a1(0xa11)])return;this['messagesReceived']+=0x1,this[_0x4fc7a1(0x862)]+=_0x5ad4be['bytesReceived'],_0x5ad4be[_0x4fc7a1(0x4cc)]&&_0x4dc9c4(_0x4ce03e[_0x4fc7a1(0x54b)],(_0x4d99c2=_0x5ad4be[_0x4fc7a1(0x4cc)],_0x57cfbc=_0x4ce03e[_0x4fc7a1(0x4cc)]['name'],_0x320bbc=_0x4ce03e[_0x4fc7a1(0x4cc)][_0x4fc7a1(0x162)],new File(_0x4d99c2,_0x57cfbc,{'type':_0x320bbc}))),this[_0x4fc7a1(0x472)][_0x4fc7a1(0x131)](_0x4ce03e['content']['name']);}var _0x4d99c2,_0x57cfbc,_0x320bbc;});}}function _0x26518c(){const _0x300227=_0x14177f;let _0x492ea0=[];return{'subscribe':_0x439776=>(_0x492ea0[_0x300227(0x993)](_0x439776),()=>{_0x492ea0=_0x492ea0['filter'](_0x56583d=>_0x56583d!==_0x439776);}),'publish':_0x11394f=>{const _0x281b42=_0x300227;_0x492ea0[_0x281b42(0x918)](_0x57c1e7=>_0x57c1e7(_0x11394f));}};}function _0xc80b91(){let _0x28bd45;return{'subscribe':_0x5af460=>(_0x28bd45=_0x5af460,()=>{_0x28bd45=void 0x0;}),'publish':_0x5a6a06=>{_0x28bd45&&_0x28bd45(_0x5a6a06);}};}class _0x1c5e3d{[_0x14177f(0x27f)];[_0x14177f(0x6f0)];[_0x14177f(0x99d)];[_0x14177f(0x40b)]=_0xc80b91();[_0x14177f(0x7f5)];constructor(_0x2b1d35,_0x4c40aa,_0x53a59c){const _0x194581=_0x14177f;this[_0x194581(0x27f)]=_0x2b1d35,this[_0x194581(0x6f0)]=_0x4c40aa,this[_0x194581(0x99d)]=_0x53a59c;}[_0x14177f(0x5a1)](){const _0x5b3d0e=_0x14177f;this[_0x5b3d0e(0x7f5)]?.();}async[_0x14177f(0x9ba)](_0x3c23cc){const _0x2fd6bc=_0x14177f,_0x49b67f={'key':_0x3c23cc,'tableName':this[_0x2fd6bc(0x6f0)],'action':_0x593000['Get']};return this[_0x2fd6bc(0x99d)]['publish'](_0x49b67f),this['connector'][_0x2fd6bc(0x9ba)](_0x3c23cc);}async[_0x14177f(0x525)](_0x161d25,_0x59fab8,_0x2ef4a5=!0x0){const _0x153cb1=_0x14177f;this['validateValue'](_0x59fab8);const _0x44f9d1=await this[_0x153cb1(0x27f)][_0x153cb1(0x9ba)](_0x161d25),_0x34ee94=await this[_0x153cb1(0x27f)][_0x153cb1(0x525)](_0x161d25,_0x59fab8),_0x5300d2=_0x44f9d1?_0x3f0b75['Update']:_0x3f0b75['Add'];if(this[_0x153cb1(0x95d)](_0x5300d2,_0x34ee94),!_0x2ef4a5)return _0x34ee94;const _0x507565={'key':_0x161d25,'tableName':this[_0x153cb1(0x6f0)],'action':_0x5300d2,'value':_0x34ee94};return this[_0x153cb1(0x99d)]['publish'](_0x507565),_0x34ee94;}async[_0x14177f(0x1cd)](_0x49209c){const _0x1a7e70=_0x14177f;this[_0x1a7e70(0x503)](_0x49209c);const _0x38d20e=await this[_0x1a7e70(0x27f)]['add'](_0x49209c),_0x322376={'key':_0x38d20e['id'],'tableName':this[_0x1a7e70(0x6f0)],'action':_0x3f0b75[_0x1a7e70(0x716)],'value':_0x38d20e};return this[_0x1a7e70(0x99d)]['publish'](_0x322376),this[_0x1a7e70(0x95d)](_0x322376[_0x1a7e70(0x37e)],_0x38d20e),_0x38d20e;}async[_0x14177f(0x131)](_0x108612,_0x55baed=!0x0){const _0x397255=_0x14177f,_0x312414=await this[_0x397255(0x27f)][_0x397255(0x9ba)](_0x108612);if(!_0x312414)return;await this[_0x397255(0x27f)][_0x397255(0x131)](_0x108612);const _0x193072=_0x3f0b75[_0x397255(0x9d9)];if(this[_0x397255(0x95d)](_0x193072,_0x312414),!_0x55baed)return;const _0x4daed3={'key':_0x108612,'tableName':this[_0x397255(0x6f0)],'action':_0x193072,'value':_0x312414};this['tableObserver'][_0x397255(0x95d)](_0x4daed3);}async['clear'](){const _0x2cc730=_0x14177f,_0x1be627=await this[_0x2cc730(0x820)]();for(const _0x530ab4 of _0x1be627){const _0x4de93f=_0x3f0b75[_0x2cc730(0x9d9)];this[_0x2cc730(0x95d)](_0x4de93f,_0x530ab4);const _0x4b5515={'key':_0x530ab4['id'],'tableName':this[_0x2cc730(0x6f0)],'action':_0x4de93f,'value':_0x530ab4};this[_0x2cc730(0x99d)][_0x2cc730(0x95d)](_0x4b5515);}return this['connector'][_0x2cc730(0x12e)]();}async[_0x14177f(0x820)](_0x21e2dd){const _0x4bd49a=_0x14177f,_0x2247b8={'key':'','tableName':this[_0x4bd49a(0x6f0)],'action':_0x593000['List']};this[_0x4bd49a(0x99d)]['publish'](_0x2247b8);try{_0x21e2dd&&(_0x21e2dd=_0x21e2dd instanceof _0x358d37?_0x21e2dd[_0x4bd49a(0x3a8)]():_0x358d37['buildQuery'](_0x21e2dd)[_0x4bd49a(0x3a8)]());}catch(_0x244000){throw new _0x3b8aa0(_0x1a76df[_0x4bd49a(0x589)],_0x4bd49a(0x85b));}try{return await this[_0x4bd49a(0x27f)][_0x4bd49a(0x820)](_0x21e2dd);}catch(_0x1320eb){let _0x54c376=_0x4bd49a(0x85b);throw _0x1320eb instanceof Error&&(_0x54c376=_0x1320eb[_0x4bd49a(0x84a)]),new _0x3b8aa0(_0x1a76df[_0x4bd49a(0x589)],_0x54c376);}}async['count'](_0x35f0f1){const _0x4b4327=_0x14177f,_0x588e6f={'key':'','tableName':this[_0x4b4327(0x6f0)],'action':_0x593000[_0x4b4327(0x9a9)]};this[_0x4b4327(0x99d)][_0x4b4327(0x95d)](_0x588e6f);try{_0x35f0f1&&(_0x35f0f1=_0x35f0f1 instanceof _0x358d37?_0x35f0f1[_0x4b4327(0x3a8)]():_0x358d37['buildQuery'](_0x35f0f1)[_0x4b4327(0x3a8)]());}catch(_0x8f406b){throw new _0x3b8aa0(_0x1a76df[_0x4b4327(0x589)],_0x4b4327(0x85b));}try{return await this[_0x4b4327(0x27f)][_0x4b4327(0x7e8)](_0x35f0f1);}catch(_0xfe86dd){let _0xbea351='Invalid\x20query';throw _0xfe86dd instanceof Error&&(_0xbea351=_0xfe86dd[_0x4b4327(0x84a)]),new _0x3b8aa0(_0x1a76df[_0x4b4327(0x589)],_0xbea351);}}[_0x14177f(0xa1f)](){const _0x1d56cb=_0x14177f;return this[_0x1d56cb(0x27f)]['calculateSize']();}[_0x14177f(0x1f2)](_0xab442a){const _0x136d08=_0x14177f;this[_0x136d08(0x7f5)]=this[_0x136d08(0x40b)][_0x136d08(0x1f2)](_0xab442a);}[_0x14177f(0x9a3)](){const _0x964b03=_0x14177f;this[_0x964b03(0x7f5)]?.();}['publish'](_0x1f88e6,_0xf51148){const _0x589402=_0x14177f,_0x1fcfe6=this[_0x589402(0xa1d)](_0x1f88e6,_0xf51148);this[_0x589402(0x40b)][_0x589402(0x95d)](_0x1fcfe6);}[_0x14177f(0xa1d)](_0x3dc13f,_0x6bef5d){const _0x43178c=_0x14177f;let _0x598553;switch(_0x3dc13f){case _0x3f0b75[_0x43178c(0x716)]:_0x598553='add';break;case _0x3f0b75[_0x43178c(0x696)]:_0x598553=_0x43178c(0x41f);break;case _0x3f0b75[_0x43178c(0x9d9)]:_0x598553=_0x43178c(0x131);}return{'action':_0x598553,'value':_0x6bef5d};}[_0x14177f(0x503)](_0x335fed){const _0x4551c2=_0x14177f;if('object'!=typeof _0x335fed||null===_0x335fed)throw new _0x3b8aa0(_0x1a76df['KeyValueDatabaseInvalidValue'],_0x4551c2(0x991));for(const _0xa2e4d4 in _0x335fed){const _0x34640e=_0x335fed[_0xa2e4d4];if(_0x4551c2(0x337)!=typeof _0x34640e||_0x34640e instanceof Date){if(![_0x4551c2(0x867),_0x4551c2(0x3ce),_0x4551c2(0x374)][_0x4551c2(0x775)](typeof _0x34640e))throw new _0x3b8aa0(_0x1a76df[_0x4551c2(0x64e)],_0x4551c2(0x9d0)+_0xa2e4d4+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x4551c2(0x503)](_0x34640e);}}}class _0x44f417{[_0x14177f(0x538)]=[];[_0x14177f(0x7e9)]=0x0;[_0x14177f(0x1d1)]=[];[_0x14177f(0x6de)]=!0x1;[_0x14177f(0x7ee)]=null;[_0x14177f(0xa16)]=null;['debounceLogTimeout'];['readyResolve']=null;[_0x14177f(0x144)]=[];[_0x14177f(0x1dc)];['_ready']=Promise['resolve']();[_0x14177f(0x187)]=0x0;constructor(){}get[_0x14177f(0x6fc)](){const _0x11a5c5=_0x14177f;return this[_0x11a5c5(0x78f)];}async['appendTransaction'](_0x2f0ff3,_0x330be1=0x0){const _0x4fff21=_0x14177f;this['readyResolve']||(this[_0x4fff21(0x78f)]=new Promise(_0x1f8fc6=>{const _0x45fb69=_0x4fff21;this[_0x45fb69(0x590)]=_0x1f8fc6;}),this[_0x4fff21(0x187)]=_0x330be1);const _0x28d325=Date['now']();if(this[_0x4fff21(0x6de)])return void this['transactionQueue'][_0x4fff21(0x993)](_0x2f0ff3);this[_0x4fff21(0x6de)]=!0x0;let _0x5f3535={'hash':await this['hashTransaction'](_0x2f0ff3),'height':0x0};const _0x47558f=this[_0x4fff21(0x934)](_0x5f3535);this[_0x4fff21(0x144)]['push'](_0x47558f),await _0x47558f,this[_0x4fff21(0x7e9)]+=0x1;const _0x5c26ea=this[_0x4fff21(0x1d1)]['length'];for(;this[_0x4fff21(0x1d1)][_0x4fff21(0x5b7)]>0x0;){const _0x91d5d5=this[_0x4fff21(0x1d1)][_0x4fff21(0x239)]();await this[_0x4fff21(0x3b6)](_0x91d5d5);}this['debounceReady'](),await this[_0x4fff21(0x6fc)],this[_0x4fff21(0x99c)](_0x28d325,_0x5c26ea);}async[_0x14177f(0x8ad)](){const _0x4c5856=_0x14177f;return await this[_0x4c5856(0x78f)],this[_0x4c5856(0x6de)]?(this[_0x4c5856(0xa16)]||(this[_0x4c5856(0xa16)]=this[_0x4c5856(0x55d)]()),await this[_0x4c5856(0xa16)]):this[_0x4c5856(0x7ee)];}[_0x14177f(0x161)](){const _0x3da6f9=_0x14177f;return this[_0x3da6f9(0x538)][_0x3da6f9(0x265)](({hash:_0x47324f,height:_0x24db12})=>({'hash':_0x47324f,'height':_0x24db12}));}[_0x14177f(0x200)](){return this['totalNodes'];}[_0x14177f(0x2a7)](_0x3d353f){const _0x271557=_0x14177f;return this[_0x271557(0x538)][_0x271557(0x3ee)](_0x59b4c5=>_0x59b4c5[_0x271557(0x624)]===_0x3d353f);}async[_0x14177f(0x1a8)](_0x57df52,_0x3e9b3b){return await this['computeHash'](_0x57df52+_0x3e9b3b);}async[_0x14177f(0x8cd)](_0x2b1e26){const _0x2a3c8a=_0x14177f;return await this[_0x2a3c8a(0x679)](JSON[_0x2a3c8a(0x990)](_0x2b1e26));}['comparePeaks'](_0x3f7a33){const _0x52a2a2=_0x14177f,_0x3924ac=this[_0x52a2a2(0x161)](),_0x321892=[],_0x26991b=[],_0x26d881=[];for(const _0x397354 of _0x3924ac){const _0x5b6e33=_0x3f7a33[_0x52a2a2(0x3ee)](_0x5b954=>_0x5b954[_0x52a2a2(0x624)]===_0x397354[_0x52a2a2(0x624)]);_0x5b6e33?_0x397354[_0x52a2a2(0x900)]!==_0x5b6e33[_0x52a2a2(0x900)]&&_0x321892[_0x52a2a2(0x993)]({'height':_0x397354[_0x52a2a2(0x624)],'localPeak':_0x397354,'remotePeak':_0x5b6e33}):_0x26991b[_0x52a2a2(0x993)](_0x397354);}for(const _0x3e6e00 of _0x3f7a33)_0x3924ac[_0x52a2a2(0x3ee)](_0x3434ba=>_0x3434ba['height']===_0x3e6e00[_0x52a2a2(0x624)])||_0x26d881[_0x52a2a2(0x993)](_0x3e6e00);return{'differingPeaks':_0x321892,'peaksMissingInRemote':_0x26991b,'peaksMissingInLocal':_0x26d881};}async[_0x14177f(0x55d)](){const _0x1d99f1=_0x14177f;this[_0x1d99f1(0x6de)]=!0x0;const _0x283a19=this['peaks'][_0x1d99f1(0x265)](_0x1883e0=>_0x1883e0[_0x1d99f1(0x900)]);return this[_0x1d99f1(0x7ee)]=await this['hashPeakHashes'](_0x283a19),this[_0x1d99f1(0x6de)]=!0x1,this[_0x1d99f1(0xa16)]=null,this[_0x1d99f1(0x81d)](),this['cachedRoot'];}async[_0x14177f(0x679)](_0x8b3c1d){const _0x958800=_0x14177f;try{const _0x42905f=new TextEncoder()[_0x958800(0x150)](_0x8b3c1d),_0x2bec78=await crypto[_0x958800(0x13f)][_0x958800(0x99b)](_0x958800(0x7a2),_0x42905f);return Array[_0x958800(0x80f)](new Uint8Array(_0x2bec78))[_0x958800(0x265)](_0x12fe58=>_0x12fe58[_0x958800(0x1d0)](0x10)[_0x958800(0x5dd)](0x2,'0'))['join']('');}catch(_0x5b5184){return console[_0x958800(0x70e)](_0x958800(0x916),_0x5b5184),this[_0x958800(0x679)](_0x8b3c1d);}}async[_0x14177f(0x307)](_0x1f5a42){const _0x1ab3f8=_0x14177f;return await this[_0x1ab3f8(0x679)](_0x1f5a42[_0x1ab3f8(0x417)](''));}async[_0x14177f(0x934)](_0xc64008){const _0x65e455=_0x14177f;for(;this['peaks']['length']>0x0&&this[_0x65e455(0x538)][this[_0x65e455(0x538)][_0x65e455(0x5b7)]-0x1][_0x65e455(0x624)]===_0xc64008[_0x65e455(0x624)];){const _0x27c85f=this[_0x65e455(0x538)][_0x65e455(0x189)]();_0xc64008={'hash':await this['hashNodes'](_0x27c85f[_0x65e455(0x900)],_0xc64008[_0x65e455(0x900)]),'left':_0x27c85f,'right':_0xc64008,'height':_0xc64008[_0x65e455(0x624)]+0x1};}this[_0x65e455(0x538)]['push'](_0xc64008),await this['recomputeRoot']();}[_0x14177f(0x99c)](_0x1c396d,_0xa7cce0){const _0x1d7e1a=_0x14177f;if(!_0x1734f6[_0x1d7e1a(0x7cd)](_0x39fe10[_0x1d7e1a(0x1a9)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x1d7e1a(0x5b4)]);const _0x6c749=Date['now']();this[_0x1d7e1a(0x5b4)]=setTimeout(()=>_0x1734f6[_0x1d7e1a(0x2b0)](_0x39fe10['KeyValueDatabase'],_0x1d7e1a(0x202),this[_0x1d7e1a(0x7ee)],_0x1d7e1a(0x50c),this[_0x1d7e1a(0x200)](),_0x1d7e1a(0x1e4),_0xa7cce0,_0x1d7e1a(0x82b),_0x6c749-_0x1c396d),0x7d0);}['debounceReady'](){const _0x237b2d=_0x14177f;this['debounceReadyTimeout']&&clearTimeout(this['debounceReadyTimeout']),this[_0x237b2d(0x1dc)]=setTimeout(async()=>{const _0x9487c6=_0x237b2d;try{const _0x2166cb=this[_0x9487c6(0x144)];if(this[_0x9487c6(0x144)]=[],await Promise[_0x9487c6(0x4ff)](_0x2166cb),this['expectedTransactions']-=_0x2166cb[_0x9487c6(0x5b7)],this['readyPromises']['length']>0x0||this[_0x9487c6(0x187)]>0x0)return this[_0x9487c6(0x81d)]();this[_0x9487c6(0x590)]&&(this[_0x9487c6(0x590)](),this[_0x9487c6(0x590)]=null),this[_0x9487c6(0x78f)]=Promise['resolve'](),this['isComputingMMR']=!0x1;}catch(_0x355783){console[_0x9487c6(0x70e)](_0x9487c6(0x5f0),_0x355783);}},0xa);}}const _0x5d8728=['PeerConnection',_0x14177f(0x8b2),_0x14177f(0x4ee),'Subscription',_0x14177f(0x318),_0x14177f(0x545),_0x14177f(0x9d7)],_0x54c0b8=[[_0x14177f(0x591),_0x14177f(0x7e1),_0x14177f(0x508),_0x14177f(0x727),_0x14177f(0x43c),_0x14177f(0x8d7),_0x14177f(0x909),_0x14177f(0x318),_0x14177f(0x703)],[_0x14177f(0x838),_0x14177f(0x264),_0x14177f(0x319),_0x14177f(0x86f)],[_0x14177f(0xa29),'CloseJobDispatcher','CloseJobWorker',_0x14177f(0x43b),_0x14177f(0x3f2),_0x14177f(0x6fb),'CloseObjectStoreBucket','ClosePubSubTopic',_0x14177f(0x586),'ExternalStorageStats',_0x14177f(0x596),_0x14177f(0x49d),_0x14177f(0x3d7),_0x14177f(0x241),_0x14177f(0x1db),_0x14177f(0x135),'KeyValueDatabaseRequestTransactionsValue',_0x14177f(0x5e7),_0x14177f(0x33e),_0x14177f(0x41d),_0x14177f(0x29f),_0x14177f(0x6ac),_0x14177f(0xa2a),_0x14177f(0x89a),_0x14177f(0x6cd),_0x14177f(0x569),_0x14177f(0x6fa),'UnsubscribeMediaStream','UpdateMediaStream',_0x14177f(0x56e)],['SubscribeMediaStream',_0x14177f(0x8d4),'UnsubscribeMediaStreamdiaStream',_0x14177f(0x929),_0x14177f(0x16b),_0x14177f(0x4b8)],[_0x14177f(0x883),_0x14177f(0x535)],[_0x14177f(0x4d1)],[_0x14177f(0x9d7),'RemoteRemediation']];function _0x1934ae(_0x57d334){const _0x67f978=_0x14177f;return{..._0x57d334,'systemMessageType':_0x5d8728[_0x57d334[_0x67f978(0x722)]],'systemContentMessageType':_0x54c0b8[_0x57d334[_0x67f978(0x722)]][_0x57d334[_0x67f978(0x4cc)]['type']]};}const _0x282014={'hour':'2-digit','minute':'2-digit','second':_0x14177f(0x2c6)};function _0x1f2cdb(_0x160455,_0x22e38a){const _0x51053f=_0x14177f,_0xc2f3ac=(function(){const _0x51b920=a0_0x50bd,_0x5b20db=new Date(),_0x475a2c=_0x5b20db['getMilliseconds'](),_0x5b52d2=_0x5b20db['toLocaleDateString'](_0x51b920(0x4f8),_0x282014)[_0x51b920(0x761)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x5b52d2+'.'+(_0x475a2c>0x64?''+_0x475a2c:_0x475a2c>0xa?'0'+_0x475a2c:'00'+_0x475a2c);}()),{sourceId:_0x485c84,destinationIds:_0x50db79,systemMessageType:_0x1cd4f8,systemContentMessageType:_0x5da4a0}=_0x1934ae(_0x160455);return _0xc2f3ac+_0x51053f(0x9a1)+_0x22e38a+_0x51053f(0x9a1)+(_0x485c84===_0x22e38a?_0x51053f(0x547)+_0x1cd4f8+_0x51053f(0x4c4)+(_0x50db79?''+_0x50db79:_0x51053f(0x5e5)):_0x160455['sourceId']===_0x186264?_0x51053f(0x115)+_0x1cd4f8+'\x27':(_0x50db79?'':_0x51053f(0x3c7))+_0x51053f(0x68d)+_0x1cd4f8+_0x51053f(0x808)+_0x485c84)+'\x20with\x20\x27'+_0x5da4a0+_0x51053f(0x872);}function _0xb02eca(_0x27f182,_0x47dfb9){const _0x587a01=_0x14177f;if(!_0x1734f6['isChannelEnabled'](_0x27f182))return;if(_0x28f07d[_0x587a01(0x6bf)])return;if(_0x587a01(0x401)==typeof process)return;const _0x5e5bbd=process[_0x587a01(0x7dc)]();console['log'](_0x587a01(0x81e)+_0x47dfb9+':');for(const _0x2e64b0 in _0x5e5bbd)console['log']('\x20\x20'+_0x2e64b0+':\x20'+(_0x5e5bbd[_0x2e64b0]/0x400/0x400)[_0x587a01(0x6aa)](0x2)+_0x587a01(0x449));}function _0x14e1ee(_0x3227b6,_0x443046){if(!_0x1734f6['isChannelEnabled'](_0x443046))return _0x1734f6['debug']('Logging\x20not\x20enabled\x20for\x20channel\x20'+_0x443046),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x3ff016,_0x1fd7db)=>_0x1fd7db}};let _0xc12e68=0x0;return{'timingLogger':((()=>{const _0x201ef1=a0_0x50bd;let _0x352011=Date[_0x201ef1(0x5bc)]();return{'start':()=>{const _0x120fb8=_0x201ef1;_0x352011=Date[_0x120fb8(0x5bc)]();},'now':()=>Date[_0x201ef1(0x5bc)](),'logWaitTime':_0x3dcb9e=>{const _0x38b642=_0x201ef1;_0xc12e68+=Date[_0x38b642(0x5bc)]()-_0x352011,_0x1734f6[_0x38b642(0x2b0)](_0x443046,_0x3dcb9e,_0xc12e68+'ms',_0x3227b6);}};})()),'logger':{'log':(_0x495e96,_0x46b504=()=>{})=>{const _0x62c0e3=a0_0x50bd,_0xd0f1a9=_0x46b504();_0xd0f1a9?_0x1734f6[_0x62c0e3(0x2b0)](_0x443046,_0x495e96,_0xd0f1a9,_0x3227b6):_0x1734f6[_0x62c0e3(0x2b0)](_0x443046,_0x495e96,_0x3227b6);},'performCalculation':(_0x3b2411,_0x4fa50b)=>_0x3b2411()}};}function _0xb7a98a(_0x276462){const _0x326b64=_0x14177f;return _0x326b64(0x401)==typeof Buffer?0x0:Buffer[_0x326b64(0x56a)](JSON[_0x326b64(0x990)](_0x276462),_0x326b64(0x7f2));}function _0x4c8120(_0x543b24){const _0x1edad3=_0x14177f;if(0x0===_0x543b24)return _0x1edad3(0x1bf);const _0x33fc68=Math['floor'](Math[_0x1edad3(0x2b0)](_0x543b24)/Math[_0x1edad3(0x2b0)](0x400));return parseFloat((_0x543b24/Math[_0x1edad3(0x93f)](0x400,_0x33fc68))[_0x1edad3(0x6aa)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x33fc68];}class _0x3e5ffa extends _0x27b15e{[_0x14177f(0x845)];[_0x14177f(0x463)];[_0x14177f(0x857)];[_0x14177f(0x136)];['db'];[_0x14177f(0x983)];[_0x14177f(0x1b0)]=new Map();['tableObserver'];[_0x14177f(0x3c2)];[_0x14177f(0x720)];[_0x14177f(0x977)];['syncResolve'];['transactionsToSync']=[];[_0x14177f(0x10b)]=()=>{};[_0x14177f(0x583)];[_0x14177f(0x40b)]=_0xc80b91();['listenerUnsubscriber'];['syncTransactionsWritten']=[];[_0x14177f(0x6c7)];['debounceStats'];[_0x14177f(0x83c)]=0x0;[_0x14177f(0x8a3)]=0x0;[_0x14177f(0x1c0)]=!0x1;['mmr']=new _0x44f417();[_0x14177f(0x758)]=new Map();[_0x14177f(0x6cb)]=[];[_0x14177f(0x1f9)];['transactionsToAppend']=[];[_0x14177f(0x383)];constructor(_0x2c4baa,_0x50e406,_0xd2aaab,_0x22fcbb,_0x204ddc,_0x32fdac,_0x571b5a){const _0x4bb289=_0x14177f;if(_0x4bb289(0x867)!=typeof _0x50e406)throw new _0x3b8aa0(_0x1a76df[_0x4bb289(0x1b6)],_0x4bb289(0x53c));if(super(_0x2c4baa,_0x50e406),this[_0x4bb289(0x845)]=_0x2c4baa,this[_0x4bb289(0x463)]=_0xd2aaab,this['vendorId']=_0x22fcbb,this[_0x4bb289(0x136)]=_0x571b5a,this['dbKey']=_0x4bb289(0x698)+this[_0x4bb289(0x857)]+_0x4bb289(0x698)+this[_0x4bb289(0x463)]+_0x4bb289(0x698)+this[_0x4bb289(0x322)],this[_0x4bb289(0x99d)]=_0xc80b91(),this['loggingCycle']=function(_0x11de0e,_0xe804b7){const _0x5d3599=_0x4bb289;if(!_0x1734f6['isChannelEnabled'](_0xe804b7))return _0x1734f6[_0x5d3599(0x423)](_0x5d3599(0x240)+_0xe804b7),{..._0x14e1ee(_0x11de0e,_0xe804b7),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':_0x5d3599(0x1bf)})};const {timingLogger:_0x125ee3,logger:_0x118f09}=_0x14e1ee(_0x11de0e,_0xe804b7);let _0x3f6f6e=0x0,_0x1a4f83=0x0;return{'timingLogger':_0x125ee3,'logger':_0x118f09,'logDataSent':(_0x54a12f,_0x2e68d4=!0x1)=>{const _0x277802=_0x5d3599,_0x21a2ce=_0xb7a98a(_0x54a12f);return _0x2e68d4&&_0x1734f6['log'](_0xe804b7,_0x277802(0x534),_0x11de0e,_0x21a2ce),_0x3f6f6e+=_0x21a2ce,_0x21a2ce;},'logDataReceived':(_0x1f6c99,_0x558835=!0x1)=>{const _0x218b5f=_0x5d3599,_0x492f2b=_0xb7a98a(_0x1f6c99);return _0x558835&&_0x1734f6['log'](_0xe804b7,_0x218b5f(0xa0a),_0x11de0e,_0x492f2b),_0x1a4f83+=_0x492f2b,_0x492f2b;},'getDataLogged':()=>({'dataSent':_0x4c8120(_0x3f6f6e),'dataReceived':_0x4c8120(_0x1a4f83)})};}(this[_0x4bb289(0x322)],_0x39fe10[_0x4bb289(0x1a9)]),this['isSync']=new Promise(_0x15566d=>{this['syncResolve']=_0x15566d;}),_0x204ddc instanceof _0x5b5f42)this[_0x4bb289(0x6c7)]=_0x204ddc[_0x4bb289(0xa08)]();else{const [_0x18006a,_0x52f5e8]=_0x5b5f42[_0x4bb289(0x2bf)](_0x204ddc);if(!_0x18006a)throw new _0x3b8aa0(_0x1a76df[_0x4bb289(0xa52)],_0x4bb289(0x9df)+_0x52f5e8);this[_0x4bb289(0x6c7)]=structuredClone(_0x204ddc);}this[_0x4bb289(0x28d)](this['layout']),this['db']=new _0x32fdac(this[_0x4bb289(0x983)],this[_0x4bb289(0x6c7)]),this[_0x4bb289(0x926)]();}async['answerContentAvailable'](_0x3341a7,_0x51538e){const _0x117c63=_0x14177f;if(_0x1734f6[_0x117c63(0x2b0)](_0x39fe10[_0x117c63(0x1a9)],_0x117c63(0x57e),this[_0x117c63(0x322)]),!this[_0x117c63(0x3c2)])throw new _0x209e12(_0x209e12['codes'][_0x117c63(0x4d2)]);if(await this[_0x117c63(0x977)],await this[_0x117c63(0x136)](_0x3341a7),await this[_0x117c63(0x960)][_0x117c63(0x8ad)]()===_0x51538e){const _0x2ab98b={'sourceId':this[_0x117c63(0x845)][_0x117c63(0x519)](),'destinationIds':[_0x3341a7],'propagate':!0x0,'messageType':_0x1252cb[_0x117c63(0x4ee)],'content':{'type':_0x2c4847[_0x117c63(0x1db)],'label':this[_0x117c63(0x322)],'mmrRoot':_0x51538e}};return this[_0x117c63(0x383)][_0x117c63(0x14d)](_0x2ab98b),void this['systemTopic'][_0x117c63(0x95d)](_0x2ab98b);}const _0x256f1e=this[_0x117c63(0x960)][_0x117c63(0x161)](),_0x40b754={'sourceId':this[_0x117c63(0x845)][_0x117c63(0x519)](),'destinationIds':[_0x3341a7],'propagate':!0x0,'messageType':_0x1252cb[_0x117c63(0x4ee)],'content':{'type':_0x2c4847['KeyValueDatabaseContentAvailable'],'label':this[_0x117c63(0x322)],'peaks':_0x256f1e}};this[_0x117c63(0x383)][_0x117c63(0x14d)](_0x40b754),this[_0x117c63(0x60b)][_0x117c63(0x95d)](_0x40b754);}async['processContentSynchronized'](_0x41f143,_0x2006da){const _0x43b4b0=_0x14177f,_0xc794b=await this[_0x43b4b0(0x960)][_0x43b4b0(0x8ad)](),_0x4fcfbb=_0xc794b===_0x2006da;if(_0x1734f6[_0x43b4b0(0x2b0)](_0x39fe10[_0x43b4b0(0x1a9)],_0x43b4b0(0x2ce)+_0x41f143+_0x43b4b0(0x2a4)+_0x4fcfbb,this[_0x43b4b0(0x322)]),_0x4fcfbb)return this[_0x43b4b0(0x46c)](),void this['publishSyncCompleted']();_0x1734f6[_0x43b4b0(0x2b0)](_0x39fe10[_0x43b4b0(0x1a9)],_0x43b4b0(0x2ca),_0xc794b,_0x2006da),_0x1734f6[_0x43b4b0(0x8c3)]('ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',{'nodeId':this[_0x43b4b0(0x845)][_0x43b4b0(0x519)](),'nodeType':this[_0x43b4b0(0x845)][_0x43b4b0(0x162)],'remoteId':_0x41f143,'data':{'localMMRRoot':_0xc794b,'remoteMMRRoot':_0x2006da}});const _0x44583e={'sourceId':this[_0x43b4b0(0x845)][_0x43b4b0(0x519)](),'messageType':_0x1252cb[_0x43b4b0(0x4ee)],'propagate':!0x0,'content':{'type':_0x2c4847[_0x43b4b0(0x41d)],'label':this[_0x43b4b0(0x322)],'mmrRoot':_0xc794b}};this[_0x43b4b0(0x60b)][_0x43b4b0(0x95d)](_0x44583e);}async['processContentAvailable'](_0x58eb9f,_0x46dc29){const _0x458377=_0x14177f;if(_0x1734f6[_0x458377(0x2b0)](_0x39fe10[_0x458377(0x1a9)],_0x458377(0x92b),_0x58eb9f,'label',this['label'],_0x458377(0x538),_0x46dc29),this[_0x458377(0x1c0)])return;this[_0x458377(0x1c0)]=!0x0,this[_0x458377(0x46c)]();const {differingPeaks:_0x51422e,peaksMissingInLocal:_0x50bc39,peaksMissingInRemote:_0xb24615}=this[_0x458377(0x960)][_0x458377(0xa44)](_0x46dc29);_0x1734f6[_0x458377(0x2b0)](_0x39fe10[_0x458377(0x1a9)],_0x458377(0x955),{'differingPeaks':_0x51422e,'peaksMissingInLocal':_0x50bc39,'peaksMissingInRemote':_0xb24615});const _0x36144c={'sourceId':this[_0x458377(0x845)][_0x458377(0x519)](),'destinationIds':[_0x58eb9f],'propagate':!0x0,'messageType':_0x1252cb[_0x458377(0x4ee)],'content':{'type':_0x2c4847[_0x458377(0x135)],'label':this['label'],'peakHeights':_0x50bc39[_0x458377(0x265)](_0x51769e=>_0x51769e[_0x458377(0x624)])[_0x458377(0x688)](_0x51422e[_0x458377(0x265)](_0x486334=>_0x486334['height']))}};if(this[_0x458377(0x60b)]['publish'](_0x36144c),_0x51422e['length']>0x0||_0xb24615[_0x458377(0x5b7)]>0x0){const _0x3032b4=_0xb24615[_0x458377(0x265)](_0x3ff36e=>_0x3ff36e['height'])[_0x458377(0x688)](_0x51422e[_0x458377(0x265)](_0x515e9a=>_0x515e9a[_0x458377(0x624)]));await this[_0x458377(0x6bb)](_0x58eb9f,_0x3032b4,!0x0);}}async[_0x14177f(0x6bb)](_0x119ef6,_0x27c9c2,_0x302038=!0x1){const _0x296080=_0x14177f;_0x1734f6['log'](_0x39fe10[_0x296080(0x1a9)],_0x296080(0x72c),this[_0x296080(0x322)]);const _0x7a50cd=_0x27c9c2[_0x296080(0x265)](_0x5e0ec5=>this[_0x296080(0x960)][_0x296080(0x2a7)](_0x5e0ec5))[_0x296080(0x31d)](Boolean);if(!_0x7a50cd['length']||_0x27c9c2[_0x296080(0x5b7)]!==_0x7a50cd[_0x296080(0x5b7)])throw new _0x209e12(_0x209e12[_0x296080(0x805)][_0x296080(0x9a5)],{'message':_0x296080(0x45c),'peakHeights':_0x27c9c2,'peaks':_0x7a50cd['map'](_0x49b25a=>_0x49b25a[_0x296080(0x624)]),'nodeId':_0x119ef6});const _0x489c3e=[];for(const _0x3c981e of _0x7a50cd)this[_0x296080(0x746)](_0x3c981e,_0x489c3e);const _0x5bd4b7=_0x302038?void 0x0:[_0x119ef6],_0x3fef34={'sourceId':this['localNode'][_0x296080(0x519)](),'destinationIds':_0x5bd4b7,'messageType':_0x1252cb[_0x296080(0x4ee)],'propagate':!0x0,'content':{'type':_0x2c4847[_0x296080(0x5e7)],'label':this[_0x296080(0x322)],'transactions':_0x489c3e}};this[_0x296080(0x383)][_0x296080(0x14d)](_0x3fef34),this['systemTopic'][_0x296080(0x95d)](_0x3fef34);}async[_0x14177f(0x18e)](_0x222976,_0x5af473){const _0x13e6d5=_0x14177f;_0x1734f6['log'](_0x39fe10[_0x13e6d5(0x1a9)],'Received\x20'+_0x5af473[_0x13e6d5(0x5b7)]+'\x20transactions\x20from\x20node\x20'+_0x222976+_0x13e6d5(0x9a1)+this[_0x13e6d5(0x322)]);for(const _0x553b96 of _0x5af473){const _0x5f78d=await this['transactionTable'][_0x13e6d5(0x9ba)](_0x553b96['id']);if(!(_0x5f78d&&this[_0x13e6d5(0x24f)](_0x5f78d,_0x553b96)>=0x0)){if(_0x553b96['action']===_0x3f0b75[_0x13e6d5(0x9d9)]){const [_0x38a58b,_0x264126]=_0x553b96['id'][_0x13e6d5(0x31f)]('::'),_0x847e5a=this[_0x13e6d5(0x85d)](_0x38a58b);await _0x847e5a[_0x13e6d5(0x131)](_0x264126);}else this[_0x13e6d5(0x6f9)][_0x13e6d5(0x993)](_0x553b96['id']);}}if(_0x1734f6[_0x13e6d5(0x2b0)](_0x39fe10['KeyValueDatabase'],_0x13e6d5(0x7ef)+this[_0x13e6d5(0x6f9)][_0x13e6d5(0x5b7)]+_0x13e6d5(0x948),this[_0x13e6d5(0x322)]),this['transactionsToSync'][_0x13e6d5(0x5b7)]>0x0){const _0x2191ee={'sourceId':this[_0x13e6d5(0x845)][_0x13e6d5(0x519)](),'destinationIds':[_0x222976],'messageType':_0x1252cb['Content'],'propagate':!0x0,'content':{'type':_0x2c4847[_0x13e6d5(0x602)],'label':this[_0x13e6d5(0x322)],'transactionIds':this['transactionsToSync']}};this[_0x13e6d5(0x383)]['logDataSent'](_0x2191ee),this['systemTopic']['publish'](_0x2191ee);}}[_0x14177f(0x140)](){const _0x5ac196=_0x14177f;this[_0x5ac196(0x926)]();}[_0x14177f(0x62d)](){const _0x128399=_0x14177f;return _0x23d754[_0x128399(0x565)][_0x128399(0x1a9)];}[_0x14177f(0x5a1)](){const _0x4df081=_0x14177f;this['db'][_0x4df081(0x9b6)](),this[_0x4df081(0x720)]?.(),clearTimeout(this[_0x4df081(0x10c)]),delete this['debounceStats'],super[_0x4df081(0x5a1)]();}['close'](){const _0x14c4d1=_0x14177f;this[_0x14c4d1(0x46c)](),this['systemTopic']['publish']({'sourceId':_0x186264,'messageType':_0x1252cb[_0x14c4d1(0x4ee)],'content':{'type':_0x2c4847[_0x14c4d1(0x3f2)],'label':this[_0x14c4d1(0x322)]}});}['getTable'](_0x396833){const _0x2bccf2=_0x14177f,_0x3d7ca2=this['tables']['get'](_0x396833);if(_0x3d7ca2)return _0x3d7ca2;try{if(!this['db'][_0x2bccf2(0x277)](_0x396833))throw new _0x3b8aa0(_0x1a76df['KeyValueDatabaseTableNotFound'],_0x2bccf2(0x8bc));const _0x3df235=new _0x1c5e3d(this['db'][_0x2bccf2(0xa3d)](_0x396833),_0x396833,this['tableObserver']);return this['tables'][_0x2bccf2(0x525)](_0x396833,_0x3df235),{'get':_0x3df235[_0x2bccf2(0x9ba)][_0x2bccf2(0x7b4)](_0x3df235),'set':_0x3df235[_0x2bccf2(0x525)][_0x2bccf2(0x7b4)](_0x3df235),'add':_0x3df235[_0x2bccf2(0x1cd)][_0x2bccf2(0x7b4)](_0x3df235),'delete':_0x3df235['delete']['bind'](_0x3df235),'clear':_0x3df235['clear'][_0x2bccf2(0x7b4)](_0x3df235),'list':_0x3df235[_0x2bccf2(0x820)][_0x2bccf2(0x7b4)](_0x3df235),'count':_0x3df235[_0x2bccf2(0x7e8)][_0x2bccf2(0x7b4)](_0x3df235),'subscribe':_0x3df235['subscribe']['bind'](_0x3df235),'unsubscribe':_0x3df235[_0x2bccf2(0x9a3)][_0x2bccf2(0x7b4)](_0x3df235)};}catch(_0x1aa89d){if(_0x1aa89d instanceof _0x3b8aa0)throw _0x1aa89d;throw new _0x3b8aa0(_0x1a76df[_0x2bccf2(0x5aa)],_0x2bccf2(0x34f));}}['subscribe'](_0x42657d){const _0x2185cf=_0x14177f;this[_0x2185cf(0x7f5)]=this['eventListener'][_0x2185cf(0x1f2)](_0x42657d),this[_0x2185cf(0xa06)](this[_0x2185cf(0x977)])['then'](_0x77393e=>{const _0x589da5=_0x2185cf;_0x77393e&&this[_0x589da5(0x40b)]['publish']({'event':_0x23d754[_0x589da5(0x6ce)][_0x589da5(0x786)]});});}['unsubscribe'](){const _0x372f64=_0x14177f;this[_0x372f64(0x7f5)]?.(),this[_0x372f64(0x7f5)]=void 0x0;}async[_0x14177f(0x54e)](){const _0x25bdec=_0x14177f;_0xb02eca(_0x39fe10[_0x25bdec(0x1a9)],'Database\x20Opened');const _0x56cfe2=[_0x34512a,_0x1e5a52],_0x5eca6b=[];try{await this['db'][_0x25bdec(0x54e)]();const _0x136c16=this['db'][_0x25bdec(0xa3d)](_0x1e5a52),_0x45242a=await _0x136c16['list'](),{id:_0x115055,layout:_0x12e99c}=_0x45242a[0x0]??{};if(_0x12e99c){for(const _0x5878a7 in _0x12e99c)_0x56cfe2['includes'](_0x5878a7)||this['db'][_0x25bdec(0x277)](_0x5878a7)||_0x5eca6b[_0x25bdec(0x993)](_0x5878a7);await _0x136c16[_0x25bdec(0x525)](_0x115055,{'layout':this[_0x25bdec(0x6c7)]});}else await _0x136c16[_0x25bdec(0x1cd)]({'layout':this[_0x25bdec(0x6c7)]});}catch(_0x303dfa){throw new _0x3b8aa0(_0x1a76df[_0x25bdec(0x5aa)],_0x303dfa[_0x25bdec(0x84a)]||_0x25bdec(0x2a8));}this[_0x25bdec(0x893)](),await this[_0x25bdec(0x747)](),this[_0x25bdec(0x576)](),this[_0x25bdec(0xa54)](),_0x5eca6b[_0x25bdec(0x918)](_0x43df8f=>this[_0x25bdec(0x7a7)](_0x43df8f));}async[_0x14177f(0x3a4)](_0x553f67,_0xcc3f8e=()=>{},_0x533ffd=!0x1){const _0x35d6e1=_0x14177f;if(!_0x553f67)return setTimeout(()=>{const _0x574335=a0_0x50bd;this['clearSyncTimeout'](),this[_0x574335(0xa25)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x35d6e1(0x10b)]=_0xcc3f8e,this[_0x35d6e1(0x583)]=setTimeout(_0xcc3f8e,0x7d0),!this[_0x35d6e1(0x60b)])throw new _0x209e12(_0x209e12['codes'][_0x35d6e1(0x863)]);const _0x56fe34=await this[_0x35d6e1(0x960)][_0x35d6e1(0x8ad)](),_0x263878={'sourceId':this[_0x35d6e1(0x845)][_0x35d6e1(0x519)](),'messageType':_0x1252cb['Content'],'propagate':_0x533ffd,'content':{'type':_0x2c4847['KeyValueDatabaseSyncRequired'],'label':this[_0x35d6e1(0x322)],'mmrRoot':_0x56fe34}};return this['loggingCycle'][_0x35d6e1(0x14d)](_0x263878),this[_0x35d6e1(0x60b)][_0x35d6e1(0x95d)](_0x263878),this[_0x35d6e1(0x977)];}async['sendTransactionsValue'](_0x117fce,_0x4a6b89){const _0xcced62=_0x14177f;if(_0x1734f6['log'](_0x39fe10['KeyValueDatabase'],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0x4a6b89[_0xcced62(0x5b7)],this[_0xcced62(0x322)]),!this['transactionTable'])throw new _0x209e12(_0x209e12[_0xcced62(0x805)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x1b0550 of _0x4a6b89){const _0x4974c5=await this[_0xcced62(0x3c2)][_0xcced62(0x9ba)](_0x1b0550);if(!_0x4974c5)continue;const [_0x9f4346,_0x45b640]=_0x1b0550[_0xcced62(0x31f)]('::'),_0x336419=this[_0xcced62(0x85d)](_0x9f4346),_0x351621=await _0x336419['get'](_0x45b640);_0x351621?(_0x4974c5[_0xcced62(0x6f2)]=_0x351621,this[_0xcced62(0x19d)](_0x4974c5,[_0x117fce])):_0x1734f6[_0xcced62(0x8c3)](_0xcced62(0x87c),{'nodeId':this[_0xcced62(0x845)]['getId'](),'nodeType':this[_0xcced62(0x845)]['type'],'remoteId':_0x117fce,'data':{'tableKeys':Object[_0xcced62(0x770)](this[_0xcced62(0x1b0)]),'transactionId':_0x1b0550,'transactions':this[_0xcced62(0x6f9)],'tableName':_0x9f4346,'key':_0x45b640}});}}async[_0x14177f(0x1a6)](_0x218d70){const _0x1cbe5b=_0x14177f;if(!this[_0x1cbe5b(0x3c2)])throw new _0x209e12(_0x209e12['codes'][_0x1cbe5b(0x4d2)]);const _0x2e616c=await this[_0x1cbe5b(0x960)]['hashTransaction'](_0x218d70),_0x2d802f=this['transactionHashMap'][_0x1cbe5b(0x9ba)](_0x2e616c);if(_0x2d802f&&this[_0x1cbe5b(0x24f)](_0x218d70,_0x2d802f)<=0x0)return void _0x1734f6[_0x1cbe5b(0x2b0)](_0x39fe10[_0x1cbe5b(0x1a9)],_0x1cbe5b(0x68c),_0x218d70);const _0x1d1c65={..._0x218d70};return delete _0x1d1c65[_0x1cbe5b(0x6f2)],this[_0x1cbe5b(0x1d6)](_0x1d1c65),await this[_0x1cbe5b(0x3c2)][_0x1cbe5b(0x525)](_0x218d70['id'],_0x1d1c65),_0x218d70;}[_0x14177f(0x24f)](_0xb47372,_0x13682){const _0x5e4528=_0x14177f;return _0xb47372[_0x5e4528(0x9c9)]!==_0x13682[_0x5e4528(0x9c9)]?_0xb47372[_0x5e4528(0x9c9)]-_0x13682['timestamp']:_0xb47372['priority']-_0x13682[_0x5e4528(0x89e)];}async[_0x14177f(0x3ab)](_0x162ba7){const _0x3265c8=_0x14177f;if(!this[_0x3265c8(0x3c2)])throw new _0x209e12(_0x209e12[_0x3265c8(0x805)][_0x3265c8(0x4d2)]);const _0x55b21b=_0x162ba7[_0x3265c8(0x6f0)]+'::'+_0x162ba7[_0x3265c8(0x151)],_0x59b26c=await _0x4ce864[_0x3265c8(0x36b)](),_0x40fbd2={'id':_0x55b21b,'priority':Math[_0x3265c8(0x655)](),'timestamp':_0x59b26c,'action':_0x162ba7[_0x3265c8(0x37e)]};if(await this['writeTransaction'](_0x40fbd2))return _0x40fbd2;}async[_0x14177f(0x7a7)](_0x3b4172){const _0x1cb6c0=_0x14177f;if(!this[_0x1cb6c0(0x3c2)])throw new _0x209e12(_0x209e12[_0x1cb6c0(0x805)][_0x1cb6c0(0x4d2)]);const _0x4b89e4=_0x358d37['index']('id')[_0x1cb6c0(0x389)](_0x1cb6c0(0x87d),[_0x3b4172+'::',_0x3b4172+'::￿']),_0x49519f=await this[_0x1cb6c0(0x3c2)]['list'](_0x4b89e4['getQuery']());for(const _0x557d0b of _0x49519f)await this[_0x1cb6c0(0x3c2)][_0x1cb6c0(0x131)](_0x557d0b['id']);}[_0x14177f(0x576)](){const _0x231e64=_0x14177f;this[_0x231e64(0x16a)](async(_0x2ee476,_0x2bb2a4)=>{const _0x1e23fc=_0x231e64;if(_0x2bb2a4 instanceof File)return;if(this[_0x1e23fc(0x383)][_0x1e23fc(0x6db)](_0x2bb2a4),!await this[_0x1e23fc(0x1a6)](_0x2bb2a4))return void this[_0x1e23fc(0x32d)](_0x2ee476,_0x2bb2a4);if(!_0x2bb2a4[_0x1e23fc(0x6f2)])throw new _0x209e12(_0x209e12[_0x1e23fc(0x805)][_0x1e23fc(0x142)]);const [_0x420f61,_0x460b2d]=_0x2bb2a4['id'][_0x1e23fc(0x31f)]('::'),_0x1a0dea=this['getTable'](_0x420f61);if(!_0x1a0dea)throw new _0x209e12(_0x209e12[_0x1e23fc(0x805)]['KeyValueDatabaseTableDoesNotExist'],{'table':_0x1a0dea});let _0x5ed469=0x0;switch(_0x2bb2a4[_0x1e23fc(0x37e)]){case _0x3f0b75[_0x1e23fc(0x716)]:case _0x3f0b75[_0x1e23fc(0x696)]:{const _0x23af02=_0x1a0dea[_0x1e23fc(0x525)](_0x460b2d,_0x2bb2a4[_0x1e23fc(0x6f2)],!0x1);_0x5ed469=JSON['stringify'](_0x2bb2a4[_0x1e23fc(0x6f2)])[_0x1e23fc(0x5b7)],this[_0x1e23fc(0x6f9)][_0x1e23fc(0x775)](_0x2bb2a4['id'])&&this[_0x1e23fc(0x754)][_0x1e23fc(0x993)](_0x23af02);break;}case _0x3f0b75['Delete']:{const _0x2e2a14=_0x1a0dea[_0x1e23fc(0x131)](_0x460b2d,!0x1);this[_0x1e23fc(0x6f9)][_0x1e23fc(0x775)](_0x2bb2a4['id'])&&this['syncTransactionsWritten']['push'](_0x2e2a14);break;}}_0x1734f6[_0x1e23fc(0x814)](_0x711184[_0x1e23fc(0x1a9)],{'type':'sync','label':this[_0x1e23fc(0x322)],'nodeId':this[_0x1e23fc(0x845)][_0x1e23fc(0x519)](),'nodeType':this[_0x1e23fc(0x845)][_0x1e23fc(0x162)],'clusterId':this[_0x1e23fc(0x463)],'tableName':_0x420f61,'key':_0x460b2d,'size':_0x5ed469}),this[_0x1e23fc(0x32d)](_0x2ee476,_0x2bb2a4);});}[_0x14177f(0xa54)](){const _0x284560=_0x14177f;this['tableUnsubscriber']=this[_0x284560(0x99d)]['subscribe'](async _0x3a663a=>{const _0x151d65=_0x284560;let _0x5e091b=0x0;switch(_0x3a663a[_0x151d65(0x37e)]){case _0x3f0b75[_0x151d65(0x716)]:case _0x3f0b75[_0x151d65(0x696)]:case _0x3f0b75['Delete']:{const _0x29f662=await this[_0x151d65(0x3ab)](_0x3a663a);if(!_0x29f662)return;_0x29f662[_0x151d65(0x6f2)]=_0x3a663a[_0x151d65(0x6f2)],this['send'](_0x29f662),_0x5e091b=JSON[_0x151d65(0x990)](_0x3a663a[_0x151d65(0x6f2)])['length'],this['writes']+=0x1;break;}case _0x593000[_0x151d65(0x1f7)]:case _0x593000[_0x151d65(0x4e2)]:case _0x593000[_0x151d65(0x9a9)]:this['reads']+=0x1;}_0x1734f6['logServiceEvent'](_0x711184[_0x151d65(0x1a9)],{'type':_0x3a663a['action'],'label':this['label'],'nodeId':this[_0x151d65(0x845)]['getId'](),'nodeType':this[_0x151d65(0x845)][_0x151d65(0x162)],'clusterId':this[_0x151d65(0x463)],'tableName':_0x3a663a[_0x151d65(0x6f0)],'key':_0x3a663a['key'],'size':_0x5e091b}),this[_0x151d65(0x926)]();});}[_0x14177f(0x893)](){const _0x4ac26d=_0x14177f;this['db']&&(this[_0x4ac26d(0x3c2)]||(this[_0x4ac26d(0x3c2)]=this['db']['getTableConnector'](_0x34512a)));}[_0x14177f(0x46c)](){const _0x2fe3de=_0x14177f;this[_0x2fe3de(0x583)]&&(clearTimeout(this['syncTimeout']),delete this[_0x2fe3de(0x583)]);}async[_0x14177f(0xa25)](){const _0x52fefb=_0x14177f;await this[_0x52fefb(0x960)][_0x52fefb(0x6fc)],this['logSyncMetrics'](),this[_0x52fefb(0x40b)]['publish']({'event':_0x23d754[_0x52fefb(0x6ce)][_0x52fefb(0x786)]}),this[_0x52fefb(0x50e)]?.(!0x0),delete this[_0x52fefb(0x50e)],this[_0x52fefb(0x926)](),_0x1734f6[_0x52fefb(0x2b0)](_0x39fe10[_0x52fefb(0x1a9)],_0x52fefb(0x673),this['label']);}async[_0x14177f(0x3d5)](_0x237b73){const _0x28852b=_0x14177f;await Promise[_0x28852b(0x4ff)](this['syncTransactionsWritten']),_0x1734f6[_0x28852b(0x2b0)](_0x39fe10[_0x28852b(0x1a9)],_0x28852b(0x936)+this[_0x28852b(0x754)][_0x28852b(0x5b7)]+_0x28852b(0x381)+_0x237b73+'\x20completed.',this[_0x28852b(0x322)]),await this[_0x28852b(0x960)][_0x28852b(0x6fc)],await this[_0x28852b(0x736)](_0x237b73),await this[_0x28852b(0xa25)]();}['checkSyncComplete'](_0x10be74,_0x242a32){const _0x33e69b=_0x14177f;this[_0x33e69b(0x6f9)][_0x33e69b(0x775)](_0x242a32['id'])&&(this[_0x33e69b(0x46c)](),this['transactionsToSync']=this[_0x33e69b(0x6f9)]['filter'](_0x176225=>_0x176225!==_0x242a32['id']),0x0!==this[_0x33e69b(0x6f9)][_0x33e69b(0x5b7)]?this['syncTimeout']=setTimeout(this['timeoutCallback'],0x7d0):this[_0x33e69b(0x3d5)](_0x10be74));}[_0x14177f(0x926)](){const _0x2cf917=_0x14177f;this[_0x2cf917(0x10c)]&&clearTimeout(this[_0x2cf917(0x10c)]),this[_0x2cf917(0x10c)]=setTimeout(async()=>{const _0x50aaf4=_0x2cf917;delete this[_0x50aaf4(0x10c)];let _0x68f048=0x0;for(const _0x3ab9b6 of this['tables'][_0x50aaf4(0x774)]())_0x68f048+=await _0x3ab9b6[_0x50aaf4(0xa1f)]();this['systemTopic'][_0x50aaf4(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb['Content'],'content':{'type':_0x2c4847[_0x50aaf4(0x33e)],'label':this[_0x50aaf4(0x322)],'stats':{'timestamp':Date[_0x50aaf4(0x5bc)](),'storage':_0x68f048,'messagesSent':this[_0x50aaf4(0x675)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x50aaf4(0x489)],'bytesReceived':this[_0x50aaf4(0x862)],'writes':this['writes'],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x1734f6[_0x50aaf4(0x62e)](_0x711184[_0x50aaf4(0x1a9)],'ccc'+this[_0x50aaf4(0x463)]+_0x50aaf4(0x698)+this[_0x50aaf4(0x322)],_0x68f048);},_0x1fe904);}[_0x14177f(0x28d)](_0x1d4e62){const _0xe79afe=_0x14177f;if(_0x1d4e62[_0xe79afe(0x1b0)][_0x34512a])throw new _0x3b8aa0(_0x1a76df[_0xe79afe(0x981)],_0xe79afe(0x208)+_0x34512a+_0xe79afe(0x3d9));if(_0x1d4e62['tables'][_0x1e5a52])throw new _0x3b8aa0(_0x1a76df[_0xe79afe(0x981)],_0xe79afe(0x208)+_0x1e5a52+_0xe79afe(0x3d9));_0x1d4e62[_0xe79afe(0x1b0)][_0x34512a]={'indexes':[]},_0x1d4e62[_0xe79afe(0x1b0)][_0x1e5a52]={'indexes':[]};}async[_0x14177f(0xa06)](_0x5742e4){const _0x4aa9c6=_0x14177f;return Promise[_0x4aa9c6(0x61c)]([_0x5742e4,Promise['resolve']('not-resolved')])[_0x4aa9c6(0x1eb)](_0x5b591e=>'not-resolved'!==_0x5b591e);}async[_0x14177f(0x736)](_0x2f0df8){const _0x483b2b=_0x14177f;await this[_0x483b2b(0x2cc)]();const _0x16e6ab=await this[_0x483b2b(0x960)]['getRoot'](),_0xd37142={'sourceId':this[_0x483b2b(0x845)][_0x483b2b(0x519)](),'destinationIds':[_0x2f0df8],'propagate':!0x0,'messageType':_0x1252cb[_0x483b2b(0x4ee)],'content':{'type':_0x2c4847[_0x483b2b(0x1db)],'label':this[_0x483b2b(0x322)],'mmrRoot':_0x16e6ab}};this[_0x483b2b(0x60b)][_0x483b2b(0x95d)](_0xd37142);}async[_0x14177f(0x747)](){const _0xf446d=_0x14177f;if(!this[_0xf446d(0x3c2)])throw new _0x209e12(_0x209e12[_0xf446d(0x805)][_0xf446d(0x4d2)]);this['transactions']=await this['transactionTable'][_0xf446d(0x820)](),this[_0xf446d(0x6cb)][_0xf446d(0x119)](this[_0xf446d(0x24f)]),this['mmr']=new _0x44f417(),this['transactionHashMap']=new Map();for(const _0x18f56b of this['transactions'])this[_0xf446d(0x60a)](_0x18f56b,this['transactions'][_0xf446d(0x5b7)]);this[_0xf446d(0x74b)]();}async[_0x14177f(0x60a)](_0x162947,_0x29bbcc){const _0x58604a=_0x14177f,_0x9cfd19={..._0x162947};delete _0x9cfd19[_0x58604a(0x6f2)],await this[_0x58604a(0x960)][_0x58604a(0x3b6)](_0x9cfd19,_0x29bbcc);const _0x13c122=await this[_0x58604a(0x960)][_0x58604a(0x8cd)](_0x9cfd19);this['transactionHashMap']['set'](_0x13c122,_0x162947);}['getTransactionByHash'](_0x216403){const _0x489e3a=_0x14177f;return this['transactionHashMap'][_0x489e3a(0x9ba)](_0x216403);}[_0x14177f(0x746)](_0x439c8a,_0x280231){const _0x5c515f=_0x14177f;if(0x0!==_0x439c8a[_0x5c515f(0x624)])_0x439c8a['left']&&this[_0x5c515f(0x746)](_0x439c8a[_0x5c515f(0x2a9)],_0x280231),_0x439c8a[_0x5c515f(0x79a)]&&this[_0x5c515f(0x746)](_0x439c8a[_0x5c515f(0x79a)],_0x280231);else{const _0x50ac04=this['getTransactionByHash'](_0x439c8a[_0x5c515f(0x900)]);_0x50ac04&&_0x280231[_0x5c515f(0x993)](_0x50ac04);}}async[_0x14177f(0x88c)](){const _0x181533=_0x14177f;this[_0x181533(0x1f9)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x181533(0x1f9)],this[_0x181533(0x84b)]['length']>0x0&&(this[_0x181533(0x6cb)][_0x181533(0x993)](...this[_0x181533(0x84b)][_0x181533(0x119)](this[_0x181533(0x24f)])),this[_0x181533(0x84b)]=[]));const _0x4b8bc7=this[_0x181533(0x653)]();this[_0x181533(0x960)]=new _0x44f417(),this['transactionHashMap'][_0x181533(0x12e)](),this[_0x181533(0x6cb)]['sort'](this[_0x181533(0x24f)]);for(const _0x392178 of this[_0x181533(0x6cb)])this[_0x181533(0x60a)](_0x392178,this['transactions'][_0x181533(0x5b7)]);await this['mmr'][_0x181533(0x6fc)],this['logMMRRebuild'](_0x4b8bc7);}[_0x14177f(0x653)](){const _0x525b1a=_0x14177f;return this[_0x525b1a(0x383)]['logger'][_0x525b1a(0x887)](async()=>{const _0x5de985=_0x525b1a,_0x5c1364=await this[_0x5de985(0x960)][_0x5de985(0x8ad)]();return{'startTime':Date['now'](),'initialRoot':_0x5c1364};},Promise['resolve']({'startTime':0x0,'initialRoot':''}));}async['logMMRRebuild'](_0x29b57a){const _0x2e9488=_0x14177f;try{const {startTime:_0x577245,initialRoot:_0x2ae67a}=await _0x29b57a,_0x4b93a2=await this[_0x2e9488(0x960)][_0x2e9488(0x8ad)](),_0x566300=[_0x2e9488(0x3a1)+(_0x2ae67a!==_0x4b93a2),'\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20'+_0x2ae67a,_0x2e9488(0x6e0)+_0x4b93a2,'\x0a\x20\x20===\x20Total\x20Nodes:\x20'+this[_0x2e9488(0x960)][_0x2e9488(0x200)](),_0x2e9488(0x882)+(Date[_0x2e9488(0x5bc)]()-_0x577245)+_0x2e9488(0x52d)]['join']('\x20');this[_0x2e9488(0x383)][_0x2e9488(0x53f)][_0x2e9488(0x2b0)]('',()=>_0x566300);}catch(_0x1c61d1){console['error'](_0x2e9488(0x29b),_0x1c61d1);}}[_0x14177f(0x1d6)](_0x47cfaf){const _0x4cf084=_0x14177f;this[_0x4cf084(0x84b)][_0x4cf084(0x993)](_0x47cfaf),this[_0x4cf084(0x1f9)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x4cf084(0x1f9)]),this[_0x4cf084(0x1f9)]=setTimeout(()=>{const _0x48c02d=_0x4cf084;this[_0x48c02d(0x2cc)]();},0x3e8);}async[_0x14177f(0x2cc)](){const _0x44b344=_0x14177f;if(this[_0x44b344(0x1f9)]&&(clearTimeout(this[_0x44b344(0x1f9)]),delete this[_0x44b344(0x1f9)]),0x0!==this[_0x44b344(0x84b)][_0x44b344(0x5b7)]){if(0x0===this['transactions']['length'])return this[_0x44b344(0x6cb)]=this['transactionsToAppend'],this[_0x44b344(0x84b)]=[],await this[_0x44b344(0x88c)]();if(this[_0x44b344(0x84b)]['sort'](this[_0x44b344(0x24f)]),this[_0x44b344(0x24f)](this[_0x44b344(0x84b)][0x0],this[_0x44b344(0x6cb)][this[_0x44b344(0x6cb)][_0x44b344(0x5b7)]-0x1])>0x0){this[_0x44b344(0x383)][_0x44b344(0x53f)][_0x44b344(0x2b0)](_0x44b344(0x921)+this[_0x44b344(0x84b)]['length']+',\x20Transactions:\x20'+this[_0x44b344(0x6cb)][_0x44b344(0x5b7)]);for(const _0x1cb1f9 of this[_0x44b344(0x84b)])this['transactions'][_0x44b344(0x993)](_0x1cb1f9),this['appendTransactionAndUpdateHashMap'](_0x1cb1f9,this[_0x44b344(0x84b)][_0x44b344(0x5b7)]);return this['transactionsToAppend']=[],void this['loggingCycle']['logger']['log'](_0x44b344(0x743),async()=>'New\x20MMR\x20Root:\x20'+await this[_0x44b344(0x960)][_0x44b344(0x8ad)]()+_0x44b344(0x3c8)+this[_0x44b344(0x960)][_0x44b344(0x200)]());}this[_0x44b344(0x383)][_0x44b344(0x53f)][_0x44b344(0x2b0)](_0x44b344(0x299)+this[_0x44b344(0x84b)][_0x44b344(0x5b7)]+',\x20Transactions:\x20'+this['transactions'][_0x44b344(0x5b7)]),this['transactions'][_0x44b344(0x993)](...this[_0x44b344(0x84b)]),this[_0x44b344(0x84b)]=[],this[_0x44b344(0x88c)]();}}async[_0x14177f(0x214)](){const _0x217375=_0x14177f;if(!_0x1734f6[_0x217375(0x7cd)](_0x39fe10['KeyValueDatabase']))return;await this[_0x217375(0x960)][_0x217375(0x6fc)];const {dataSent:_0x16cbee,dataReceived:_0x3c40de}=this[_0x217375(0x383)][_0x217375(0x25f)]();_0x1734f6[_0x217375(0x2b0)](_0x39fe10[_0x217375(0x1a9)],'Key-Value\x20Database\x20-\x20Sync\x20Completed',this[_0x217375(0x322)],_0x217375(0x490)+_0x16cbee,_0x217375(0x67a)+_0x3c40de,_0x217375(0x86a),await this[_0x217375(0x960)]['getRoot'](),_0x217375(0x756),this[_0x217375(0x960)][_0x217375(0x200)]());}async[_0x14177f(0x74b)](){const _0x55262d=_0x14177f;if(!_0x1734f6['isChannelEnabled'](_0x39fe10[_0x55262d(0x1a9)]))return;const _0x590d7a=this[_0x55262d(0x960)]['getPeaks'](),_0x4fc82d=_0x590d7a[_0x55262d(0x265)](_0x5e2966=>_0x5e2966[_0x55262d(0x624)]),_0x4b8b3c=await this[_0x55262d(0x960)][_0x55262d(0x8ad)]();_0x1734f6[_0x55262d(0x2b0)](_0x39fe10[_0x55262d(0x1a9)],_0x55262d(0x25a),this[_0x55262d(0x6cb)][_0x55262d(0x5b7)],_0x55262d(0x6cb),this['mmr'][_0x55262d(0x200)](),_0x55262d(0x7e9),_0x590d7a[_0x55262d(0x5b7)],'peaks',_0x4fc82d,_0x55262d(0x4d3),_0x4b8b3c);}}const _0x27647c=require('@crewdle/mist-connector-opfs'),_0x570c96=require('@crewdle/mist-connector-indexed-db'),_0xc7e41f=require('@crewdle/mist-connector-webrtc-browser'),_0x258233=0x1fc00000;var _0x4b4d33,_0x910ac9,_0x22b6b7,_0x210534,_0x5297d5,_0x52a3af,_0x4246b1,_0x26cd67,_0x436d2d;!function(_0x516a82){const _0x13f1cd=_0x14177f;_0x516a82['AudioContext']='AudioContext',_0x516a82[_0x13f1cd(0x601)]='AudioOutput',_0x516a82[_0x13f1cd(0x802)]=_0x13f1cd(0x802),_0x516a82[_0x13f1cd(0x12c)]=_0x13f1cd(0x12c),_0x516a82[_0x13f1cd(0x2ba)]='DeviceConfig',_0x516a82[_0x13f1cd(0x6c9)]=_0x13f1cd(0x6c9),_0x516a82[_0x13f1cd(0x1b3)]=_0x13f1cd(0x1b3),_0x516a82[_0x13f1cd(0x599)]=_0x13f1cd(0x599),_0x516a82['WebGL']=_0x13f1cd(0x542),_0x516a82['WebRTC']='WebRTC';}(_0x4b4d33||(_0x4b4d33={}));class _0xc49b95{[_0x14177f(0x531)];[_0x14177f(0x17d)];[_0x14177f(0x2f8)];constructor(_0x2d4587=new Map(),_0x44482d=new Map(),_0x5e322b=new EventTarget()){const _0x609b3b=_0x14177f;this[_0x609b3b(0x531)]=_0x2d4587,this[_0x609b3b(0x17d)]=_0x44482d,this[_0x609b3b(0x2f8)]=_0x5e322b;}[_0x14177f(0x6a0)]=(_0x4e8e11,_0x481487)=>this[_0x14177f(0x531)][_0x14177f(0x85c)](_0x4e8e11)?(_0x1734f6[_0x14177f(0x2b0)](_0x39fe10[_0x14177f(0x3ef)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x4e8e11,'data':_0x481487}),this[_0x14177f(0x2f8)][_0x14177f(0x54a)](new CustomEvent(_0x4e8e11,{'detail':_0x481487})),!0x0):(this['bufferEvent'](_0x4e8e11,_0x481487),!0x1);['on']=(_0x4ce6e7,_0x350d72)=>{const _0x255433=_0x14177f,_0x46f0ae=_0x2c8b99=>{const _0x4b2729=a0_0x50bd;_0x1734f6[_0x4b2729(0x2b0)](_0x39fe10[_0x4b2729(0x3ef)],_0x4b2729(0x582),_0x2c8b99['type'],_0x2c8b99[_0x4b2729(0x416)]),_0x350d72(_0x2c8b99[_0x4b2729(0x416)]);};return this[_0x255433(0x531)]['set'](_0x4ce6e7,_0x46f0ae),this[_0x255433(0x2f8)][_0x255433(0x7ff)](_0x4ce6e7,_0x46f0ae),_0x1734f6[_0x255433(0x2b0)](_0x39fe10[_0x255433(0x4fa)],_0x255433(0x64a),_0x4ce6e7,_0x350d72),this[_0x255433(0x41e)](_0x4ce6e7),this;};[_0x14177f(0x2b3)](_0xdc15e0){const _0x1c152d=_0x14177f;if(!_0xdc15e0)return this['registeredListeners'][_0x1c152d(0x918)]((_0x1676a3,_0x32ea73)=>{const _0x8b06d3=_0x1c152d;this['eventTarget'][_0x8b06d3(0x251)](_0x32ea73,_0x1676a3);}),void this[_0x1c152d(0x531)][_0x1c152d(0x12e)]();_0x1c152d(0x867)==typeof _0xdc15e0&&this[_0x1c152d(0x768)](_0xdc15e0),Array[_0x1c152d(0x4a2)](_0xdc15e0)&&_0xdc15e0[_0x1c152d(0x918)](_0x1d8171=>{this['removeListener'](_0x1d8171);});}[_0x14177f(0x768)](_0x690042){const _0x29b3da=_0x14177f,_0x59c05f=this['registeredListeners'][_0x29b3da(0x9ba)](_0x690042);_0x59c05f&&(this['eventTarget'][_0x29b3da(0x251)](_0x690042,_0x59c05f),this[_0x29b3da(0x531)][_0x29b3da(0x131)](_0x690042));}[_0x14177f(0x93d)](_0x610f3a,_0x5bdc16){const _0x384a20=_0x14177f;_0x1734f6[_0x384a20(0x2b0)](_0x39fe10[_0x384a20(0x3ef)],'Buffering\x20event',{'event':_0x610f3a,'data':_0x5bdc16});const _0x2792d7=this[_0x384a20(0x17d)][_0x384a20(0x9ba)](_0x610f3a)||[];this[_0x384a20(0x17d)][_0x384a20(0x525)](_0x610f3a,[..._0x2792d7,_0x5bdc16]);}[_0x14177f(0x41e)](_0x4e72b6){const _0x1fc27b=_0x14177f,_0x37348c=this[_0x1fc27b(0x17d)][_0x1fc27b(0x9ba)](_0x4e72b6);_0x37348c&&(_0x37348c[_0x1fc27b(0x918)](_0x4d5957=>{const _0x1004ef=_0x1fc27b;_0x1734f6['log'](_0x39fe10[_0x1004ef(0x3ef)],'Consuming\x20buffered\x20event',{'event':_0x4e72b6,'data':_0x4d5957}),this[_0x1004ef(0x2f8)][_0x1004ef(0x54a)](new CustomEvent(_0x4e72b6,{'detail':_0x4d5957}));}),this[_0x1fc27b(0x17d)][_0x1fc27b(0x131)](_0x4e72b6));}}class _0x2f2ea2 extends Error{constructor(_0x528f1a){const _0xfca17e=_0x14177f;super(_0xfca17e(0xa31)+_0x528f1a);}}!function(_0x31550a){const _0x59a054=_0x14177f;_0x31550a[_0x31550a[_0x59a054(0x30d)]=0x0]=_0x59a054(0x30d),_0x31550a[_0x31550a[_0x59a054(0x225)]=0x1]=_0x59a054(0x225);}(_0x910ac9||(_0x910ac9={})),function(_0x492cf2){const _0x45ffd3=_0x14177f;_0x492cf2[_0x492cf2[_0x45ffd3(0x591)]=0x0]=_0x45ffd3(0x591),_0x492cf2[_0x492cf2[_0x45ffd3(0x7e1)]=0x1]='Answer',_0x492cf2[_0x492cf2['Handshake']=0x2]=_0x45ffd3(0x508),_0x492cf2[_0x492cf2[_0x45ffd3(0x727)]=0x3]=_0x45ffd3(0x727),_0x492cf2[_0x492cf2[_0x45ffd3(0x43c)]=0x4]=_0x45ffd3(0x43c),_0x492cf2[_0x492cf2['Restart']=0x5]=_0x45ffd3(0x8d7),_0x492cf2[_0x492cf2[_0x45ffd3(0x909)]=0x6]=_0x45ffd3(0x909),_0x492cf2[_0x492cf2[_0x45ffd3(0x318)]=0x7]=_0x45ffd3(0x318),_0x492cf2[_0x492cf2[_0x45ffd3(0x703)]=0x8]=_0x45ffd3(0x703);}(_0x22b6b7||(_0x22b6b7={})),function(_0x29c744){const _0x38e3a5=_0x14177f;_0x29c744[_0x29c744[_0x38e3a5(0x378)]=0x0]=_0x38e3a5(0x378),_0x29c744[_0x29c744['Receiver']=0x1]=_0x38e3a5(0x125);}(_0x210534||(_0x210534={})),function(_0x1deda0){_0x1deda0['MediaStream']='media-stream';}(_0x5297d5||(_0x5297d5={})),function(_0x418a28){const _0x352776=_0x14177f;_0x418a28[_0x418a28[_0x352776(0x838)]=0x0]=_0x352776(0x838),_0x418a28[_0x418a28[_0x352776(0x264)]=0x1]=_0x352776(0x264),_0x418a28[_0x418a28[_0x352776(0x319)]=0x2]=_0x352776(0x319),_0x418a28[_0x418a28[_0x352776(0x86f)]=0x3]=_0x352776(0x86f);}(_0x52a3af||(_0x52a3af={})),function(_0x2e2380){const _0x5add10=_0x14177f;_0x2e2380[_0x2e2380[_0x5add10(0x9d7)]=0x0]='Remediation',_0x2e2380[_0x2e2380[_0x5add10(0x922)]=0x1]='RemoteRemediation';}(_0x4246b1||(_0x4246b1={})),function(_0x2b7b55){const _0x2fc896=_0x14177f;_0x2b7b55[_0x2fc896(0x4df)]='upgrade',_0x2b7b55[_0x2fc896(0x853)]=_0x2fc896(0x848);}(_0x26cd67||(_0x26cd67={})),function(_0x432c68){const _0x3e64c4=_0x14177f;_0x432c68[_0x3e64c4(0x469)]=_0x3e64c4(0x8b9),_0x432c68[_0x3e64c4(0x1bb)]=_0x3e64c4(0x412);}(_0x436d2d||(_0x436d2d={}));const _0xa0ee93=require('aws-amplify'),_0x28c2f7=require('aws-amplify/utils'),_0x8f42cc=require('@aws-amplify/api'),_0x31a26c=require('@aws-amplify/core');class _0x143e6e{[_0x14177f(0x463)];['localNode'];[_0x14177f(0x4f9)];constructor(_0x2f6339,_0x3cca3,_0x4c5082){const _0xcb76b3=_0x14177f;this[_0xcb76b3(0x463)]=_0x2f6339,this[_0xcb76b3(0x845)]=_0x3cca3,this[_0xcb76b3(0x4f9)]=_0x4c5082;}[_0x14177f(0x1a0)](){const _0x278f05=_0x14177f;return this[_0x278f05(0x845)][_0x278f05(0x519)]();}['getRemoteId'](){return this['remoteId'];}}var _0x5c3f4b,_0x494165,_0x30df0b;function _0x10e9d7(_0x4bfa15,_0x4dbac9){const _0x22dcad=_0x14177f;return _0x4bfa15[_0x22dcad(0x54b)]===_0x4dbac9;}function _0xeceb21(_0x190f62,_0x55420e){const _0x3e1c94=_0x14177f;return _0x190f62[_0x3e1c94(0x62c)]?.[_0x3e1c94(0x775)](_0x55420e)??function(_0x263da6){return void 0x0===_0x263da6['destinationIds'];}(_0x190f62);}function _0xb0ad7f(_0x24a6a,{contentType:_0x5c954d,label:_0x2d01db,remoteId:_0x5dd965}){return _0x24a6a+'-'+_0x5c954d+'-'+_0x2d01db+'-'+_0x5dd965;}function _0x1334af(_0x47b856,_0x55981e,_0x390052){return''+_0x47b856+_0x55981e+_0x390052;}function _0x39680f(_0x3af6a8){const _0x4d2848=_0x14177f;return _0x3af6a8===_0x494165[_0x4d2848(0x5a9)]?_0x4d2848(0x17e):_0x4d2848(0x4fc);}function _0x25a446(_0x4e5a4e,_0x3c595f){const _0x3d65d6=_0x14177f;return{'label':_0x4e5a4e[_0x3d65d6(0x36d)](),'contentType':_0x4e5a4e[_0x3d65d6(0x62d)](),'remoteId':_0x3c595f['getRemoteId'](),'supportsContentType':_0x3c595f[_0x3d65d6(0x64c)]()[_0x3d65d6(0x775)](_0x4e5a4e['getContentType']())};}!function(_0xc18c5b){const _0xccdf16=_0x14177f;_0xc18c5b[_0xc18c5b[_0xccdf16(0x1b7)]=0x0]='Waiting',_0xc18c5b[_0xc18c5b['Accepted']=0x1]=_0xccdf16(0x90b),_0xc18c5b[_0xc18c5b['Rejected']=0x2]=_0xccdf16(0x7bc);}(_0x5c3f4b||(_0x5c3f4b={})),function(_0x1b6de1){_0x1b6de1['Incoming']='in',_0x1b6de1['Outgoing']='out';}(_0x494165||(_0x494165={}));class _0x27954c{[_0x14177f(0x267)];[_0x14177f(0x315)];constructor(_0x43eab8,_0x128834){const _0x4ba5fc=_0x14177f;this[_0x4ba5fc(0x267)]=_0x43eab8,this[_0x4ba5fc(0x315)]=_0x128834;}['call'](_0x3f7793){const _0x2b6254=_0x14177f;this[_0x2b6254(0x267)](_0x3f7793);}async[_0x14177f(0x77e)](){const _0x5deeaa=_0x14177f;await this[_0x5deeaa(0x315)]();}}class _0x35ce5b{[_0x14177f(0x267)];[_0x14177f(0x315)];constructor(_0x1bc0c4,_0x289ef7){const _0x4aefcf=_0x14177f;this[_0x4aefcf(0x267)]=_0x1bc0c4,this[_0x4aefcf(0x315)]=_0x289ef7;}async[_0x14177f(0x63f)](_0x3724e7){await this['callback'](_0x3724e7);}async[_0x14177f(0x77e)](){const _0x488943=_0x14177f;await this[_0x488943(0x315)]();}}function _0x41fa57(_0x1beb7a=()=>{},_0x269e41=()=>!0x1,_0x72327=()=>{}){let _0x16a6d3,_0x16bc5c,_0x3a5721=0x0;return{get 'size'(){return _0x3a5721;},get 'head'(){return _0x16a6d3;},get 'tail'(){return _0x16bc5c;},set 'head'(_0x4ffb55){_0x16a6d3=_0x4ffb55;},set 'tail'(_0x5a9a00){_0x16bc5c=_0x5a9a00;},'push'(_0x2f02e1,_0x1e1802=!0x0){const _0x593fa0=a0_0x50bd,_0x2abf54={'value':_0x2f02e1};_0x1e1802&&_0x269e41(_0x2abf54)?_0x1beb7a():(_0x16bc5c&&(_0x2abf54[_0x593fa0(0x75e)]=_0x16bc5c,_0x16bc5c[_0x593fa0(0xa00)]=_0x2abf54),_0x16bc5c=_0x2abf54,_0x16a6d3||(_0x16a6d3=_0x2abf54),_0x3a5721+=0x1,_0x1e1802&&_0x1beb7a());},'pop'(){const _0x305367=a0_0x50bd;if(!_0x16bc5c)return;const _0x19ce66=_0x16bc5c[_0x305367(0x6f2)];return _0x16bc5c=_0x16bc5c['previous'],_0x16bc5c&&delete _0x16bc5c[_0x305367(0xa00)],_0x16bc5c||(_0x16a6d3=void 0x0),_0x3a5721-=0x1,_0x19ce66;},'unshift'(_0x4a43d1,_0x3cd760=!0x0){const _0x1386a5=a0_0x50bd,_0x3c6eff={'value':_0x4a43d1};_0x3cd760&&_0x269e41(_0x3c6eff)?_0x1beb7a():(_0x16a6d3&&(_0x16a6d3[_0x1386a5(0x75e)]=_0x3c6eff,_0x3c6eff[_0x1386a5(0xa00)]=_0x16a6d3),_0x16a6d3=_0x3c6eff,_0x16bc5c||(_0x16bc5c=_0x3c6eff),_0x3a5721+=0x1,_0x3cd760&&_0x1beb7a());},'shift'(){const _0x1b5417=a0_0x50bd;if(!_0x16a6d3)return;const _0x5803dc=_0x16a6d3['value'];return _0x16a6d3=_0x16a6d3[_0x1b5417(0xa00)],_0x16a6d3&&delete _0x16a6d3[_0x1b5417(0x75e)],_0x16a6d3||(_0x16bc5c=void 0x0),_0x3a5721-=0x1,_0x5803dc;},'clear'(){_0x72327(),_0x16a6d3=void 0x0,_0x16bc5c=void 0x0,_0x3a5721=0x0;}};}function _0x488459(_0x2b45c5,_0x54c77b=!0x1,_0x4043d9=()=>{},_0x4595e6=()=>!0x1,_0x4c16c4=()=>{}){let _0x1d165e=!0x1;const _0xbf3143=_0x41fa57(async function(){const _0x44af87=a0_0x50bd;if(!_0x1d165e){for(_0x1d165e=!0x0;_0xbf3143[_0x44af87(0x6e6)];){const _0x4c44f7=_0xbf3143[_0x44af87(0x239)]();if(_0x4c44f7)try{_0x2b45c5 instanceof _0x27954c&&_0x2b45c5[_0x44af87(0x63f)](_0x4c44f7),_0x2b45c5 instanceof _0x35ce5b&&await _0x2b45c5['call'](_0x4c44f7),_0x4043d9(_0x4c44f7);}catch(_0x58222e){_0x54c77b?_0xbf3143[_0x44af87(0x993)](_0x4c44f7,!0x1):_0xbf3143[_0x44af87(0x7d5)](_0x4c44f7,!0x1),await _0x2b45c5[_0x44af87(0x77e)]();}}_0x1d165e=!0x1;}},_0x4595e6,_0x4c16c4);return _0xbf3143;}class _0x6852ea extends _0x143e6e{['vendorId'];[_0x14177f(0x45d)];['connectionState']=_0x8f42cc[_0x14177f(0x69e)][_0x14177f(0x564)];[_0x14177f(0x685)]=_0xc80b91();[_0x14177f(0x14c)]=_0x26518c();[_0x14177f(0x3d1)];[_0x14177f(0x522)];[_0x14177f(0x2eb)]=_0x488459(new _0x35ce5b(this['sendAction'][_0x14177f(0x7b4)](this),this[_0x14177f(0x52b)][_0x14177f(0x7b4)](this)));['client'];constructor(_0x398ea0,_0x36beae,_0x237504,_0x1a34a2,_0x2f29f6){const _0x3492ce=_0x14177f;super(_0x36beae,_0x237504,_0x1a34a2),this[_0x3492ce(0x857)]=_0x398ea0,this[_0x3492ce(0x45d)]=_0x2f29f6;}async['connect'](){const _0x5ba414=_0x14177f;try{const _0x4a4ce5={'getTokens':async()=>{const _0x22f0b1=a0_0x50bd,_0xe1e4bf=await this[_0x22f0b1(0x45d)]['getIdToken']();return{'accessToken':(0x0,_0x31a26c[_0x22f0b1(0x506)])(_0xe1e4bf),'idToken':(0x0,_0x31a26c['decodeJWT'])(_0xe1e4bf)};}};_0xa0ee93[_0x5ba414(0x84d)][_0x5ba414(0x546)]({'API':{'GraphQL':{'endpoint':_0x28f07d['aws'][_0x5ba414(0x2fd)],'region':_0x28f07d[_0x5ba414(0x5c6)][_0x5ba414(0x292)],'defaultAuthMode':_0x5ba414(0x52c)}}},{'Auth':{'tokenProvider':_0x4a4ce5}});const _0x4a0479=(0x0,_0x8f42cc[_0x5ba414(0x179)])();this[_0x5ba414(0x2c2)]=_0x4a0479,await this[_0x5ba414(0x1f2)](),this[_0x5ba414(0x522)]=_0x28c2f7[_0x5ba414(0x2d2)][_0x5ba414(0x704)](_0x5ba414(0x165),async({payload:_0x207a9c})=>{const _0x257b48=_0x5ba414;if(_0x207a9c[_0x257b48(0x85f)]===_0x8f42cc[_0x257b48(0x9b1)]){const _0x45879c=_0x207a9c['data'];this[_0x257b48(0x19c)]=_0x45879c[_0x257b48(0x19c)],this[_0x257b48(0x685)]['publish'](_0x45879c[_0x257b48(0x19c)]),this[_0x257b48(0x19c)]===_0x8f42cc[_0x257b48(0x69e)][_0x257b48(0x564)]?(_0x1734f6[_0x257b48(0x70e)](_0x257b48(0x509),{'clusterId':this[_0x257b48(0x463)],'nodeId':this[_0x257b48(0x1a0)](),'nodeType':this[_0x257b48(0x845)][_0x257b48(0x162)]}),this[_0x257b48(0x9b6)](),this['connect']()):this[_0x257b48(0x19c)]===_0x8f42cc[_0x257b48(0x69e)]['Connected']?_0x1734f6['warning']('appsync-connect',{'clusterId':this[_0x257b48(0x463)],'nodeId':this['getLocalId'](),'nodeType':this[_0x257b48(0x845)]['type']}):_0x1734f6[_0x257b48(0x8c3)]('appsync-statechange',{'clusterId':this[_0x257b48(0x463)],'nodeId':this[_0x257b48(0x1a0)](),'nodeType':this['localNode'][_0x257b48(0x162)],'data':{'state':_0x45879c[_0x257b48(0x19c)]}});}});}catch(_0x217087){_0x1734f6['error'](_0x5ba414(0x740),{'clusterId':this[_0x5ba414(0x463)],'nodeId':this[_0x5ba414(0x1a0)](),'nodeType':this[_0x5ba414(0x845)][_0x5ba414(0x162)]});}}[_0x14177f(0x9b6)](){const _0x5677d6=_0x14177f;_0x1734f6[_0x5677d6(0x8c3)](_0x5677d6(0x98a),{'clusterId':this[_0x5677d6(0x463)],'nodeId':this[_0x5677d6(0x1a0)](),'nodeType':this[_0x5677d6(0x845)][_0x5677d6(0x162)]}),this[_0x5677d6(0x2eb)][_0x5677d6(0x12e)](),this['listenUnsubscriber']?.(),this[_0x5677d6(0x3d1)]?.[_0x5677d6(0x9a3)](),delete this[_0x5677d6(0x3d1)];}[_0x14177f(0x133)](){const _0x357186=_0x14177f;return this[_0x357186(0x19c)]===_0x8f42cc[_0x357186(0x69e)][_0x357186(0x61e)];}[_0x14177f(0x19d)](_0x2d1d8d){const _0xc1ae5f=_0x14177f;this[_0xc1ae5f(0x2eb)][_0xc1ae5f(0x993)](_0x2d1d8d);}[_0x14177f(0x16a)](_0xb60b6){const _0x3dd00c=_0x14177f;return this[_0x3dd00c(0x14c)][_0x3dd00c(0x1f2)](_0xb60b6);}[_0x14177f(0x64c)](){const _0xbddc97=_0x14177f;return[_0x23d754[_0xbddc97(0x565)][_0xbddc97(0x968)]];}async[_0x14177f(0x52b)](){const _0x2f0073=_0x14177f;if(!this[_0x2f0073(0x133)]())return new Promise(_0x2cc423=>{const _0x43ec6b=_0x2f0073,_0x38023f=this[_0x43ec6b(0x685)]['subscribe'](_0x36285a=>{const _0x1480e7=_0x43ec6b;_0x36285a===_0x8f42cc[_0x1480e7(0x69e)][_0x1480e7(0x61e)]&&(_0x38023f(),_0x2cc423());});});}async[_0x14177f(0x5f2)](_0x41b70f){const _0x8f4e9c=_0x14177f;if(this[_0x8f4e9c(0x19c)]!==_0x8f42cc[_0x8f4e9c(0x69e)][_0x8f4e9c(0x61e)])throw new Error(_0x8f4e9c(0x3a3));_0x41b70f[_0x8f4e9c(0x62c)]&&0x1===_0x41b70f[_0x8f4e9c(0x62c)][_0x8f4e9c(0x5b7)]?await this['publish'](_0x41b70f['destinationIds'][0x0],JSON[_0x8f4e9c(0x990)](_0x41b70f)):_0x1734f6[_0x8f4e9c(0x70e)]('appsync-no-destination',{'clusterId':this['clusterId'],'nodeId':this[_0x8f4e9c(0x1a0)](),'nodeType':this[_0x8f4e9c(0x845)][_0x8f4e9c(0x162)]});}async['publish'](_0x4abe0b,_0x1ef722){const _0x3584d5=_0x14177f;if(!this[_0x3584d5(0x2c2)])throw new Error(_0x3584d5(0x885));_0x1734f6[_0x3584d5(0x2b0)](_0x39fe10[_0x3584d5(0x9ef)],'AppSync\x20publish',this[_0x3584d5(0x1a0)](),_0x1ef722),await this[_0x3584d5(0x2c2)][_0x3584d5(0x3a0)]({'query':_0x3584d5(0x4fb),'variables':{'name':await this[_0x3584d5(0x794)](_0x4abe0b),'data':_0x1ef722}});}async[_0x14177f(0x1f2)](){const _0x2b4f0c=_0x14177f;if(this[_0x2b4f0c(0x3d1)])return;if(!this[_0x2b4f0c(0x2c2)])throw new Error(_0x2b4f0c(0x885));_0x1734f6[_0x2b4f0c(0x2b0)](_0x39fe10['Signaling'],_0x2b4f0c(0x657),this[_0x2b4f0c(0x1a0)]());const _0x281d27=await this[_0x2b4f0c(0x2c2)][_0x2b4f0c(0x3a0)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x2b4f0c(0x794)]()},'authToken':await this[_0x2b4f0c(0x45d)]['getIdToken']()},{'Authorization':await this[_0x2b4f0c(0x45d)]['getIdToken']()});this[_0x2b4f0c(0x3d1)]=_0x281d27['subscribe']({'next':({data:_0x27dd82})=>{const _0x595e5a=_0x2b4f0c,_0x35bb26=JSON[_0x595e5a(0xa51)](_0x27dd82['subscribe'][_0x595e5a(0x84f)]);!_0x10e9d7(_0x35bb26,this[_0x595e5a(0x1a0)]())&&_0xeceb21(_0x35bb26,this[_0x595e5a(0x1a0)]())&&this[_0x595e5a(0x14c)][_0x595e5a(0x95d)](_0x35bb26);},'error':console['log']});}async[_0x14177f(0x794)](_0x300cf1){const _0x155a1f=_0x14177f,_0x296a57=await crypto['subtle'][_0x155a1f(0x99b)](_0x155a1f(0x614),new TextEncoder()[_0x155a1f(0x150)](this[_0x155a1f(0x857)]+'-'+this['clusterId']+'-'+(_0x300cf1??this[_0x155a1f(0x1a0)]())));return Array[_0x155a1f(0x80f)](new Uint8Array(_0x296a57))['map'](_0x232bf1=>_0x232bf1[_0x155a1f(0x1d0)](0x10)[_0x155a1f(0x5dd)](0x2,'0'))[_0x155a1f(0x417)]('');}}!function(_0x6117e2){const _0x2b84cd=_0x14177f;_0x6117e2[_0x6117e2[_0x2b84cd(0x716)]=0x0]=_0x2b84cd(0x716),_0x6117e2[_0x6117e2[_0x2b84cd(0x1df)]=0x1]=_0x2b84cd(0x1df),_0x6117e2[_0x6117e2[_0x2b84cd(0x696)]=0x2]=_0x2b84cd(0x696),_0x6117e2[_0x6117e2[_0x2b84cd(0x995)]=0x3]=_0x2b84cd(0x995),_0x6117e2[_0x6117e2[_0x2b84cd(0x88a)]=0x4]='RemoteRemove';}(_0x30df0b||(_0x30df0b={}));const _0x23114f='0',_0x173829=_0x14177f(0x22e),_0x1c7aa2=_0x5352a0,_0x1f092=0xbe800;class _0x5e8e81{[_0x14177f(0x463)];[_0x14177f(0x845)];[_0x14177f(0x4f9)];[_0x14177f(0x8db)];[_0x14177f(0x8ab)];[_0x14177f(0x79e)];['connection'];[_0x14177f(0x452)];[_0x14177f(0x11f)]=0x1;[_0x14177f(0x60b)];[_0x14177f(0x87a)]=[];['pendingHandshakeCandidates']=[];['handshakeDebounce'];constructor(_0x2c93fa,_0x39fdee,_0x4c9923,_0x1e75ad,_0x14e343,_0x2f6ef9){const _0x24a29c=_0x14177f;this[_0x24a29c(0x463)]=_0x2c93fa,this[_0x24a29c(0x845)]=_0x39fdee,this[_0x24a29c(0x4f9)]=_0x4c9923,this[_0x24a29c(0x8db)]=_0x1e75ad,this[_0x24a29c(0x8ab)]=_0x14e343,this[_0x24a29c(0x79e)]=_0x2f6ef9,this['connection']=new this[(_0x24a29c(0x79e))]({'handshakeServers':this[_0x24a29c(0x8db)]}),this['setupConnectionEvents']();}[_0x14177f(0x9b6)](){this['stopConnection']();}[_0x14177f(0x5d6)](_0x1fb220){const _0x5e260c=_0x14177f;this[_0x5e260c(0x8ab)]=_0x1fb220;}async[_0x14177f(0x402)](_0x305a6c,_0x38da2e){const _0x4aecef=_0x14177f;if(_0x38da2e===this[_0x4aecef(0x11f)])for(const _0x477e55 of _0x305a6c){if(!this[_0x4aecef(0x31a)]['canAddCandidates'])return this[_0x4aecef(0x24d)](_0x477e55);try{await this['connection'][_0x4aecef(0x4f2)](_0x477e55);}catch(_0x40f794){this['addPendingHandshakeCandidate'](_0x477e55);}}}['isConnected'](){const _0x136aef=_0x14177f;return this[_0x136aef(0xa19)](),_0x136aef(0x651)===this[_0x136aef(0x31a)]['connectionState']&&['connected',_0x136aef(0x919)][_0x136aef(0x775)](this[_0x136aef(0x31a)]['handshakeState'])&&'closed'!==this['connection'][_0x136aef(0x8be)]&&_0x136aef(0x54e)===this[_0x136aef(0x452)]?.['state'];}[_0x14177f(0x8d0)](_0x22bfdd){const _0x40fe9d=_0x14177f;this[_0x40fe9d(0x60b)]=_0x22bfdd;}[_0x14177f(0x7b5)](){delete this['systemTopic'];}[_0x14177f(0x9f4)](_0x2a4dc1){const _0x5c6e05=_0x14177f;this[_0x5c6e05(0x925)](),this['connection']=new this[(_0x5c6e05(0x79e))]({'handshakeServers':this[_0x5c6e05(0x8db)]}),_0x2a4dc1?this[_0x5c6e05(0x11f)]=_0x2a4dc1:this[_0x5c6e05(0x11f)]+=0x1,this[_0x5c6e05(0x54c)]();}[_0x14177f(0x6c5)](){const _0x20b805=_0x14177f;this[_0x20b805(0x121)][_0x20b805(0x918)](_0x409375=>{const _0x211b29=_0x20b805;try{this['connection'][_0x211b29(0x4f2)](_0x409375);}catch(_0x41c084){}}),this[_0x20b805(0x121)]=[];}[_0x14177f(0x91e)](_0xe88daa,_0x17039a){const _0x5225b2=_0x14177f;if(!this[_0x5225b2(0x60b)])throw new _0x209e12(_0x209e12[_0x5225b2(0x805)]['MissingSystemTopic'],{'content':_0xe88daa});const _0x3ba572={'sourceId':this['localNode']['getId'](),'destinationIds':[this[_0x5225b2(0x4f9)]],'propagate':this[_0x5225b2(0x8ab)]!==_0x910ac9[_0x5225b2(0x30d)],'retry':this[_0x5225b2(0x8ab)]!==_0x910ac9[_0x5225b2(0x30d)],'messageType':_0x1252cb['PeerConnection'],'content':_0xe88daa};_0x17039a&&(_0x3ba572[_0x5225b2(0x56b)]=_0x17039a),this[_0x5225b2(0x60b)][_0x5225b2(0x95d)](_0x3ba572);}[_0x14177f(0x54c)](){const _0x1a5203=_0x14177f;this[_0x1a5203(0x31a)][_0x1a5203(0x7a3)]=()=>{const _0x2cbf20=_0x1a5203;_0x2cbf20(0x594)===this[_0x2cbf20(0x31a)]['gatheringState']&&this['handshakeCandidates'][_0x2cbf20(0x5b7)]>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x2cbf20(0x8c1)]),this[_0x2cbf20(0x8c1)]=setTimeout(()=>{const _0x4d338d=_0x2cbf20;delete this['handshakeDebounce'],this[_0x4d338d(0x40a)](),this[_0x4d338d(0x87a)]=[];},0x1f4));},this['connection']['onCandidate']=_0x4dad70=>{const _0x3744c1=_0x1a5203;_0x4dad70[_0x3744c1(0x6d8)]&&this[_0x3744c1(0x87a)][_0x3744c1(0x993)](_0x4dad70[_0x3744c1(0x6d8)]);};}[_0x14177f(0x925)](){const _0x57a7b9=_0x14177f;clearTimeout(this['handshakeDebounce']),delete this[_0x57a7b9(0x8c1)],this['handshakeCandidates']=[],this[_0x57a7b9(0x121)]=[],this[_0x57a7b9(0x452)]&&(this[_0x57a7b9(0x452)][_0x57a7b9(0x16a)]=null,this[_0x57a7b9(0x452)][_0x57a7b9(0x444)]=null,this[_0x57a7b9(0x452)][_0x57a7b9(0x9b6)](),delete this[_0x57a7b9(0x452)]),this['connection'][_0x57a7b9(0x7a3)]=null,this[_0x57a7b9(0x31a)][_0x57a7b9(0x530)]=null,this[_0x57a7b9(0x31a)][_0x57a7b9(0x999)]=null,this[_0x57a7b9(0x31a)]['onConnectionStateChange']=null,this['connection']['onTrack']=null,this['connection'][_0x57a7b9(0x32c)]=null,this[_0x57a7b9(0x31a)]['close']();}[_0x14177f(0x24d)](_0x4af323){const _0x1c593d=_0x14177f;this[_0x1c593d(0x121)][_0x1c593d(0x993)](_0x4af323);}[_0x14177f(0xa19)](){const _0x21d48c=_0x14177f;_0x1734f6['log'](_0x39fe10[_0x21d48c(0x69e)],_0x21d48c(0x196),{'localId':this[_0x21d48c(0x845)][_0x21d48c(0x519)](),'remoteId':this[_0x21d48c(0x4f9)],'connectionState':this[_0x21d48c(0x31a)][_0x21d48c(0x19c)],'handshakeState':this['connection'][_0x21d48c(0x8b4)],'signalingState':this[_0x21d48c(0x31a)][_0x21d48c(0x8be)],'dataChannelState':this[_0x21d48c(0x452)]?.[_0x21d48c(0x168)]});}}function _0x4f33b5(_0x3c7e87,_0x3a7b2f){const _0x328c7d=_0x14177f;_0x3a7b2f[_0x328c7d(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x328c7d(0x6ae)],'content':_0x3c7e87});}class _0x1e32b1{static [_0x14177f(0x15a)];[_0x14177f(0x338)]=[];[_0x14177f(0x4bb)];constructor(){setInterval(()=>{const _0x134733=a0_0x50bd;this[_0x134733(0x338)]['forEach'](_0x337ed4=>{const _0x38a4ed=_0x134733;if(Date[_0x38a4ed(0x5bc)]()-_0x337ed4[_0x38a4ed(0x90a)]>_0x337ed4[_0x38a4ed(0x35b)]){try{_0x337ed4['callback']();}catch(_0xc6f1f7){}_0x337ed4[_0x38a4ed(0x90a)]=Date[_0x38a4ed(0x5bc)]();}});},0x64);}static[_0x14177f(0x30a)](){const _0x47bc3f=_0x14177f;return _0x1e32b1[_0x47bc3f(0x15a)]||(_0x1e32b1[_0x47bc3f(0x15a)]=new _0x1e32b1()),_0x1e32b1[_0x47bc3f(0x15a)];}[_0x14177f(0xa2f)](_0x1f3de3){const _0x431666=_0x14177f,_0x1de164=this[_0x431666(0x5db)](_0x1f3de3),_0xaee456=_0x1f3de3['createGain']();_0xaee456&&_0x1de164&&(_0xaee456[_0x431666(0x9ec)][_0x431666(0x6f2)]=0.001,_0x1de164[_0x431666(0x7fa)](_0xaee456),_0xaee456[_0x431666(0x7fa)](_0x1f3de3[_0x431666(0x9e6)]),_0x1de164[_0x431666(0x8f3)]());}[_0x14177f(0x28c)](){const _0x4a5adc=_0x14177f;this[_0x4a5adc(0x4bb)]&&(this['source']['stop'](),this[_0x4a5adc(0x4bb)][_0x4a5adc(0x26d)](),this['source']=void 0x0);}[_0x14177f(0x77e)](_0x49d441){return new Promise(_0x36778e=>{setTimeout(_0x36778e,_0x49d441);});}[_0x14177f(0x2ef)](_0x3927cb,_0x3a688c){const _0x27259a=_0x14177f;return this[_0x27259a(0x338)]['push']({'callback':_0x3927cb,'interval':_0x3a688c,'lastExecuted':Date[_0x27259a(0x5bc)]()}),()=>{const _0x2426a7=_0x27259a;this[_0x2426a7(0x338)]=this[_0x2426a7(0x338)][_0x2426a7(0x31d)](_0x4db80d=>_0x4db80d['callback']!==_0x3927cb);};}[_0x14177f(0x5db)](_0x5a5a05){const _0x459709=_0x14177f;if(_0x5a5a05[_0x459709(0x5db)])return _0x5a5a05[_0x459709(0x5db)]();const _0x44d5c4=_0x5a5a05[_0x459709(0x92c)](),_0x15e041=_0x5a5a05[_0x459709(0x52e)](0x1,0x1,_0x5a5a05[_0x459709(0x14e)]);return _0x15e041[_0x459709(0x789)](0x0)[0x0]=0xa,_0x44d5c4[_0x459709(0x692)]=_0x15e041,_0x44d5c4['loop']=!0x0,_0x44d5c4;}}const _0x3f17ec=_0x1e32b1['getInstance']();class _0x7f0a00 extends _0x5e8e81{[_0x14177f(0x167)]=_0xc80b91();[_0x14177f(0x903)]=_0xc80b91();[_0x14177f(0x8b3)]=_0xc80b91();['receivers']=new Map();[_0x14177f(0x8a2)]=new Map();[_0x14177f(0x712)];[_0x14177f(0x4d4)]=0x0;[_0x14177f(0x62b)]={'messages':{'total':0x0}};[_0x14177f(0x862)]=0x0;['timeReceiving']=0x0;[_0x14177f(0x383)]=_0x14e1ee(_0x14177f(0x243),_0x39fe10[_0x14177f(0x4a9)]);['close'](){const _0x5afecf=_0x14177f;this[_0x5afecf(0x27d)](),this['receivers'][_0x5afecf(0x12e)](),super[_0x5afecf(0x9b6)]();}async['handleOffer'](_0x37fb52,_0x356f2e){const _0x224d65=_0x14177f;this[_0x224d65(0x11f)]=_0x356f2e,this[_0x224d65(0x27d)]();const _0x30c01f=await this[_0x224d65(0x31a)][_0x224d65(0x816)](_0x37fb52);this[_0x224d65(0x6c5)]();const _0x3d4bee=(0x0,_0x3fe08f['v4'])();this[_0x224d65(0x91e)]({'type':_0x22b6b7[_0x224d65(0x7e1)],'answer':_0x30c01f,'version':_0x356f2e,'connectionType':this[_0x224d65(0x8ab)]},_0x3d4bee),this[_0x224d65(0x8ab)]===_0x910ac9[_0x224d65(0x30d)]&&(this['waitSuccess']=_0x3f17ec[_0x224d65(0x2ef)](()=>{const _0x5881c9=_0x224d65;this['publishSystemMessage']({'type':_0x22b6b7['Answer'],'answer':_0x30c01f,'version':_0x356f2e,'connectionType':this[_0x5881c9(0x8ab)]},_0x3d4bee);},0x1388));}[_0x14177f(0x9d8)](){const _0x1e5a5c=_0x14177f;this[_0x1e5a5c(0x27d)]();}[_0x14177f(0x3f8)](_0x4007ec){const _0x13939f=_0x14177f;this[_0x13939f(0x9f4)](_0x4007ec),this['publishSystemMessage']({'type':_0x22b6b7[_0x13939f(0x8d7)]});}async[_0x14177f(0x1ff)](){const _0x4bdfdd=_0x14177f;this[_0x4bdfdd(0x60b)]&&(await this[_0x4bdfdd(0x31a)][_0x4bdfdd(0x3f7)](this[_0x4bdfdd(0x192)],(_0x14d5b0,_0x22ec00)=>{const _0x5ebf1d=_0x4bdfdd;_0x4f33b5({'type':_0x22b6b7[_0x5ebf1d(0x318)],'streamId':_0x22ec00,'nodeId':this[_0x5ebf1d(0x4f9)],'stats':_0x14d5b0},this[_0x5ebf1d(0x60b)]);}),this['systemTopic'][_0x4bdfdd(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb['PeerConnection'],'content':{'type':_0x22b6b7['Stats'],'nodeId':this['remoteId'],'stats':{'origin':_0x210534['Receiver'],'timestamp':Date[_0x4bdfdd(0x5bc)](),'messagesReceived':this[_0x4bdfdd(0x4d4)],'bytesReceived':this[_0x4bdfdd(0x862)],'timeReceiving':this[_0x4bdfdd(0x822)],'systemMessages':this['systemMessagesReceived']}}}));}[_0x14177f(0x16a)](_0x5d3240){const _0x53e7d8=_0x14177f;return _0x28f07d[_0x53e7d8(0x6bf)]?this[_0x53e7d8(0x167)]['subscribe'](_0x5d3240):this['messageCallback'][_0x53e7d8(0x1f2)](_0x576692=>{const _0x1a8d52=_0x53e7d8;0x0===_0x576692[_0x1a8d52(0x16e)]&&_0x576692['messageType']===_0x1252cb[_0x1a8d52(0x4ee)]&&this['loggingCycle']['logger'][_0x1a8d52(0x2b0)](_0x1a8d52(0x184)+this['remoteId'],()=>_0x1934ae(_0x576692)),_0x5d3240(_0x576692);});}['onTrack'](_0x53cf16){const _0x3fb75e=_0x14177f;return this[_0x3fb75e(0x903)][_0x3fb75e(0x1f2)](({track:_0x2d2519,stream:_0x55e107})=>_0x53cf16(_0x2d2519,_0x55e107));}[_0x14177f(0x331)](_0xae9bfb){const _0x24abfe=_0x14177f;return this[_0x24abfe(0x8b3)]['subscribe'](({track:_0x1ebf2e,stream:_0x47af19})=>_0xae9bfb(_0x1ebf2e,_0x47af19));}[_0x14177f(0x9f4)](_0x53e0b9){const _0xbbed6d=_0x14177f;this[_0xbbed6d(0x27d)](),this['receivers'][_0xbbed6d(0x918)](_0x4280ca=>{const _0x3fb709=_0xbbed6d;_0x4280ca[_0x3fb709(0x12e)]();}),super['resetConnection'](_0x53e0b9);}[_0x14177f(0x40a)](){const _0x3743a0=_0x14177f;this[_0x3743a0(0x91e)]({'type':_0x22b6b7[_0x3743a0(0x508)],'candidates':this[_0x3743a0(0x87a)],'origin':_0x210534[_0x3743a0(0x125)],'version':this['currentVersion'],'connectionType':this[_0x3743a0(0x8ab)]});}[_0x14177f(0x54c)](){const _0x5d3b11=_0x14177f;super[_0x5d3b11(0x54c)](),this[_0x5d3b11(0x31a)][_0x5d3b11(0x2fa)]=_0x5a6527=>{const _0x8596f3=_0x5d3b11;_0x1734f6[_0x8596f3(0x2b0)](_0x39fe10[_0x8596f3(0x930)],_0x8596f3(0x362),this[_0x8596f3(0x845)][_0x8596f3(0x519)](),_0x5a6527),_0x5a6527[_0x8596f3(0x9f7)][0x0]['onremovetrack']=_0x219043=>{const _0x48e154=_0x8596f3;this['receivers'][_0x48e154(0x9ba)](_0x5a6527[_0x48e154(0x9f7)][0x0]['id'])?.[_0x48e154(0x131)](_0x219043[_0x48e154(0x850)]),0x0===this[_0x48e154(0x192)][_0x48e154(0x9ba)](_0x5a6527[_0x48e154(0x9f7)][0x0]['id'])?.[_0x48e154(0x11a)]&&this[_0x48e154(0x192)][_0x48e154(0x131)](_0x5a6527[_0x48e154(0x9f7)][0x0]['id']),this[_0x48e154(0x8b3)][_0x48e154(0x95d)]({'track':_0x219043['track'],'stream':_0x5a6527[_0x48e154(0x9f7)][0x0]});},this['receivers']['has'](_0x5a6527[_0x8596f3(0x9f7)][0x0]['id'])||this[_0x8596f3(0x192)][_0x8596f3(0x525)](_0x5a6527[_0x8596f3(0x9f7)][0x0]['id'],new Set()),this[_0x8596f3(0x192)]['get'](_0x5a6527[_0x8596f3(0x9f7)][0x0]['id'])[_0x8596f3(0x1cd)](_0x5a6527[_0x8596f3(0x850)]),this['trackCallback'][_0x8596f3(0x95d)]({'track':_0x5a6527[_0x8596f3(0x850)],'stream':_0x5a6527['streams'][0x0]});},this[_0x5d3b11(0x31a)][_0x5d3b11(0x32c)]=_0x1afc2b=>{const _0x2f1cb3=_0x5d3b11;this[_0x2f1cb3(0x452)]=_0x1afc2b[_0x2f1cb3(0x145)],this[_0x2f1cb3(0x452)][_0x2f1cb3(0x16a)]=_0x1fae59=>{const _0x10fd26=_0x2f1cb3;if(_0x1fae59[_0x10fd26(0x84f)]!==_0x23114f)this[_0x10fd26(0x81f)](_0x1fae59['data']);else{if(!this[_0x10fd26(0x452)])return void _0x1734f6[_0x10fd26(0x70e)](_0x10fd26(0x561),{'clusterId':this[_0x10fd26(0x463)],'nodeId':this[_0x10fd26(0x845)]['getId'](),'nodeType':this[_0x10fd26(0x845)][_0x10fd26(0x162)],'remoteId':this['remoteId'],'data':{'connection':_0x10fd26(0x96c)}});if(_0x10fd26(0x54e)!==this[_0x10fd26(0x452)]['state'])return;this[_0x10fd26(0x452)][_0x10fd26(0x19d)]('1');}};};}[_0x14177f(0x81f)](_0x313f31){const _0x50653c=_0x14177f;if(_0x50653c(0x867)==typeof _0x313f31&&_0x313f31[_0x50653c(0x53a)](_0x173829))return this[_0x50653c(0x4d4)]+=0x1,this[_0x50653c(0x862)]+=_0x313f31[_0x50653c(0x5b7)],this[_0x50653c(0x8ce)](_0x313f31);setTimeout(()=>{const _0x47b170=_0x50653c,_0x11f0ac=Date[_0x47b170(0x5bc)]();let _0x1a06e4;if((_0x313f31 instanceof ArrayBuffer||_0x313f31['length']<=_0x1c7aa2)&&(this[_0x47b170(0x4d4)]+=0x1,this[_0x47b170(0x862)]+=_0x313f31 instanceof ArrayBuffer?_0x313f31[_0x47b170(0x56a)]:_0x313f31[_0x47b170(0x5b7)]),_0x313f31 instanceof ArrayBuffer){const [_0x213135,_0x27136a]=this['splitParts'](_0x313f31);_0x1a06e4=_0x213135,_0x1a06e4[_0x47b170(0x4cc)][_0x47b170(0x84f)]=_0x27136a;}else _0x1a06e4=JSON[_0x47b170(0xa51)](_0x313f31);if(0x0===_0x1a06e4[_0x47b170(0x16e)]){this[_0x47b170(0x62b)][_0x47b170(0x73f)][_0x47b170(0xa11)]+=0x1;const {systemMessageType:_0x5d1bec,systemContentMessageType:_0x259802}=_0x1934ae(_0x1a06e4);this['systemMessagesReceived'][_0x5d1bec]||(this[_0x47b170(0x62b)][_0x5d1bec]={[_0x259802]:0x0}),this[_0x47b170(0x62b)][_0x5d1bec][_0x259802]||(this['systemMessagesReceived'][_0x5d1bec][_0x259802]=0x0),this[_0x47b170(0x62b)][_0x5d1bec]['total']||(this[_0x47b170(0x62b)][_0x5d1bec][_0x47b170(0xa11)]=0x0),this['systemMessagesReceived'][_0x5d1bec][_0x259802]+=0x1,this[_0x47b170(0x62b)][_0x5d1bec][_0x47b170(0xa11)]+=0x1;}this[_0x47b170(0x167)]['publish'](_0x1a06e4),this[_0x47b170(0x822)]+=Date[_0x47b170(0x5bc)]()-_0x11f0ac;},0x0);}[_0x14177f(0x8ce)](_0x151509){const _0x2fff33=_0x14177f,_0x4843c0=_0x151509['split'](';'),_0x4d5d09=_0x4843c0[0x1],_0x59c8e3=parseInt(_0x4843c0[0x2],0xa),_0x23c702=parseInt(_0x4843c0[0x3],0xa),_0x4fe428=_0x151509['replace'](_0x173829+';'+_0x4d5d09+';'+_0x59c8e3+';'+_0x23c702+';','');this['chunks']['has'](_0x4d5d09)||this[_0x2fff33(0x8a2)][_0x2fff33(0x525)](_0x4d5d09,[]);const _0xd72c6a=this[_0x2fff33(0x8a2)]['get'](_0x4d5d09);_0xd72c6a[_0x59c8e3]=_0x4fe428,_0xd72c6a[_0x2fff33(0x5b7)]===_0x23c702&&(this['handleOnMessage'](_0xd72c6a[_0x2fff33(0x417)]('')),this[_0x2fff33(0x8a2)][_0x2fff33(0x131)](_0x4d5d09));}[_0x14177f(0x27d)](){const _0x19325c=_0x14177f;this[_0x19325c(0x712)]?.(),delete this[_0x19325c(0x712)];}[_0x14177f(0x4cb)](_0x2e45a3){const _0x31efc0=new TextDecoder()['decode'](_0x2e45a3);return JSON['parse'](_0x31efc0);}[_0x14177f(0x2d9)](_0x227f6f){const _0x54dbce=_0x14177f,_0x4865a9=new Uint8Array(_0x227f6f['slice'](0x0,0x4)),_0x7828e8=new Uint32Array(_0x4865a9[_0x54dbce(0x692)])[0x0],_0x1d97c9=new Uint8Array(_0x227f6f[_0x54dbce(0x303)](0x4,0x4+_0x7828e8)),_0x1b9b5a=new Uint8Array(_0x227f6f[_0x54dbce(0x303)](0x4+_0x7828e8));return[this['arrayBufferToObject'](_0x1d97c9[_0x54dbce(0x692)]),_0x1b9b5a[_0x54dbce(0x692)]];}}const _0x4471be=0xc350;var _0x1fe3d1,_0x3d0691;!function(_0x533707){const _0xbe2e4b=_0x14177f;_0x533707[_0x533707[_0xbe2e4b(0x369)]=0x0]='High',_0x533707[_0x533707[_0xbe2e4b(0x10e)]=0x1]=_0xbe2e4b(0x10e),_0x533707[_0x533707['Low']=0x2]=_0xbe2e4b(0x5d5);}(_0x1fe3d1||(_0x1fe3d1={}));class _0x40d98b extends _0x5e8e81{[_0x14177f(0x755)];[_0x14177f(0x2e4)];[_0x14177f(0x12b)]=new Map();['heartbeatUnsubscriber'];[_0x14177f(0x27c)];[_0x14177f(0x859)];[_0x14177f(0x6bc)]=!0x1;[_0x14177f(0x51a)];[_0x14177f(0x66f)];[_0x14177f(0x51e)];['retryQueue']=function(e,t=_0x1fe3d1,s=!0x1){const _0x283777=_0x14177f;let n=!0x1;const i=[];async function o(){const _0x46476b=a0_0x50bd;if(!n){for(n=!0x0;i[_0x46476b(0x211)](e=>e[_0x46476b(0x6e6)]);){let t,n=0x0;for(const [e,s]of i[_0x46476b(0x623)]())if(t=s[_0x46476b(0x239)](),n=e,t)break;if(t)try{if(e instanceof _0x27954c&&e[_0x46476b(0x63f)](t),e instanceof _0x35ce5b&&await e['call'](t),i[_0x46476b(0x303)](-0x1)[_0x46476b(0x211)](e=>e[_0x46476b(0x6e6)]))continue;const s=i[_0x46476b(0x5b7)]-0x1;n===s&&i[s][_0x46476b(0x6e6)]&&await _0x3f17ec[_0x46476b(0x77e)](0x0);}catch(o){s?i[n][_0x46476b(0x993)](t,!0x1):i[n]['unshift'](t,!0x1),await e[_0x46476b(0x77e)]();}}n=!0x1;}}return Object['values'](t)[_0x283777(0x918)](e=>{const _0x24c625=_0x283777;_0x24c625(0x867)!=typeof e&&(i[e]=_0x41fa57(o));}),{'queues':i};}(new _0x27954c(this[_0x14177f(0x5f2)][_0x14177f(0x7b4)](this),this[_0x14177f(0x3fb)][_0x14177f(0x7b4)](this)));[_0x14177f(0x675)]=0x0;[_0x14177f(0x489)]=0x0;[_0x14177f(0x5f7)]=0x0;['roundTripTime']=0x0;[_0x14177f(0x7b1)];['loggingCycle']=_0x14e1ee('SenderPeerConnection.send',_0x39fe10['SenderSendMessage']);constructor(_0x367b1d,_0xd1d4db,_0x4f6fb8,_0x347915,_0x5aea42,_0x273dd9,_0x366243,_0x3b354e){const _0x22c79e=_0x14177f;super(_0x367b1d,_0xd1d4db,_0x4f6fb8,_0x347915,_0x5aea42,_0x3b354e),this['maxFps']=_0x273dd9,this[_0x22c79e(0x2e4)]=_0x366243;}['close'](){const _0x4a6a0b=_0x14177f;this[_0x4a6a0b(0x7af)](),this['clearHeartbeat'](),delete this[_0x4a6a0b(0x859)],this[_0x4a6a0b(0x6ca)](),this[_0x4a6a0b(0x128)](),this[_0x4a6a0b(0x3d6)](),this['senders'][_0x4a6a0b(0x12e)](),this[_0x4a6a0b(0x6bc)]=!0x1,this['retryQueue']['queues'][_0x4a6a0b(0x918)](_0x5d7e34=>_0x5d7e34[_0x4a6a0b(0x12e)]()),this['clearOncloseTimeout'](),super[_0x4a6a0b(0x9b6)]();}[_0x14177f(0x133)](){const _0x1c7471=_0x14177f;return!!this[_0x1c7471(0x859)]&&super[_0x1c7471(0x133)]()&&Date[_0x1c7471(0x5bc)]()-this[_0x1c7471(0x859)]<0x3a98;}async[_0x14177f(0x1ff)](){const _0x36e466=_0x14177f;this[_0x36e466(0x60b)]&&(await this[_0x36e466(0x31a)][_0x36e466(0x48e)](this[_0x36e466(0x12b)],(_0x560b28,_0x3280a7)=>{const _0x5c63ea=_0x36e466;_0x4f33b5({'type':_0x22b6b7['Stats'],'streamId':_0x3280a7,'nodeId':this[_0x5c63ea(0x4f9)],'stats':_0x560b28},this[_0x5c63ea(0x60b)]);}),this[_0x36e466(0x60b)][_0x36e466(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x36e466(0x6ae)],'content':{'type':_0x22b6b7[_0x36e466(0x318)],'nodeId':this[_0x36e466(0x4f9)],'stats':{'origin':_0x210534[_0x36e466(0x378)],'timestamp':Date['now'](),'messagesSent':this[_0x36e466(0x675)],'bytesSent':this[_0x36e466(0x489)],'timeSending':this[_0x36e466(0x5f7)],'roundTripTime':this[_0x36e466(0x220)]}}}));}async[_0x14177f(0x333)](_0x514176){const _0x5b0daf=_0x14177f;_0x1734f6[_0x5b0daf(0x2b0)](_0x39fe10[_0x5b0daf(0x930)],_0x5b0daf(0x626),this[_0x5b0daf(0x845)][_0x5b0daf(0x519)](),this[_0x5b0daf(0x4f9)]),this[_0x5b0daf(0x6ca)](),this[_0x5b0daf(0x128)](),this[_0x5b0daf(0x3d6)](),this['connectionTimeout']=setTimeout(()=>{const _0x5766e3=_0x5b0daf;this[_0x5766e3(0x513)]();},0x7530),this['dataChannel']||(this[_0x5b0daf(0x452)]=this[_0x5b0daf(0x31a)][_0x5b0daf(0x759)](_0x5b0daf(0x84f)),this['dataChannel'][_0x5b0daf(0x143)]=_0x1f092,this['dataChannel'][_0x5b0daf(0x444)]=()=>{const _0x584b6b=_0x5b0daf;this[_0x584b6b(0x7b1)]=setTimeout(()=>{const _0x14b6fc=_0x584b6b;delete this[_0x14b6fc(0x7b1)],[_0x14b6fc(0x634),_0x14b6fc(0x54e)]['includes'](this[_0x14b6fc(0x452)]?.[_0x14b6fc(0x168)]??'')||this['handleDisconnect']();},0xfa);});const _0x28952b=await this[_0x5b0daf(0x31a)][_0x5b0daf(0x333)](_0x514176);this[_0x5b0daf(0x859)]||(this['lastHeartbeat']=Date['now']());const _0x38ace4=(0x0,_0x3fe08f['v4'])();this[_0x5b0daf(0x91e)]({'type':_0x22b6b7['Offer'],'offer':_0x28952b,'version':this[_0x5b0daf(0x11f)],'connectionType':this['connectionType']},_0x38ace4),this[_0x5b0daf(0x8ab)]===_0x910ac9[_0x5b0daf(0x30d)]&&(this[_0x5b0daf(0x27c)]=_0x3f17ec[_0x5b0daf(0x2ef)](()=>{const _0x3df066=_0x5b0daf;this[_0x3df066(0x91e)]({'type':_0x22b6b7[_0x3df066(0x591)],'offer':_0x28952b,'version':this[_0x3df066(0x11f)],'connectionType':this['connectionType']},_0x38ace4);},0x1388));}async[_0x14177f(0x325)](_0x5a760c,_0x2d6b4b){const _0x341263=_0x14177f;if(_0x2d6b4b===this[_0x341263(0x11f)]){this[_0x341263(0x3d6)]();try{await this[_0x341263(0x31a)]['handleAnswer'](_0x5a760c,this['createOffer'][_0x341263(0x7b4)](this)),this['processPendingHandshakeCandidates'](),this[_0x341263(0x128)](),this[_0x341263(0x237)]();}catch(_0x35c153){this['handleDisconnect']();}}}[_0x14177f(0x19d)](_0x13acfc){const _0x4bd58f=_0x14177f;if(!this[_0x4bd58f(0x452)])throw new _0x209e12(_0x209e12[_0x4bd58f(0x805)][_0x4bd58f(0x3cd)],{'message':_0x4bd58f(0x68f),'localId':this[_0x4bd58f(0x845)]['getId'](),'remoteId':this[_0x4bd58f(0x4f9)],'eventMessage':_0x13acfc});if('open'!==this[_0x4bd58f(0x452)][_0x4bd58f(0x168)])throw new _0x209e12(_0x209e12[_0x4bd58f(0x805)]['InvalidDataChannel'],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x4bd58f(0x845)][_0x4bd58f(0x519)](),'remoteId':this['remoteId'],'eventMessage':_0x13acfc});let _0x44719c;if(_0x13acfc['content'][_0x4bd58f(0x84f)]instanceof ArrayBuffer){const _0x1a3fb9=_0x13acfc[_0x4bd58f(0x4cc)]['data'];_0x13acfc={..._0x13acfc,'content':{..._0x13acfc['content'],'data':void 0x0}},_0x44719c=this[_0x4bd58f(0x7fc)](_0x13acfc,_0x1a3fb9);}else _0x44719c=JSON[_0x4bd58f(0x990)](_0x13acfc);if(_0x4bd58f(0x867)==typeof _0x44719c&&_0x44719c['length']>_0x1c7aa2)return this[_0x4bd58f(0x4f6)](_0x13acfc,_0x44719c);0x0===_0x13acfc[_0x4bd58f(0x16e)]&&_0x13acfc[_0x4bd58f(0x722)]===_0x1252cb[_0x4bd58f(0x4ee)]&&this['loggingCycle'][_0x4bd58f(0x53f)][_0x4bd58f(0x887)](()=>_0x1734f6[_0x4bd58f(0x2b0)](_0x39fe10['SenderSendMessage'],_0x4bd58f(0x500),this[_0x4bd58f(0x4f9)],_0x1934ae(_0x13acfc)),void 0x0);const _0x47f1f4=0x0===_0x13acfc['topicLabel']&&[_0x1252cb[_0x4bd58f(0x278)],_0x1252cb[_0x4bd58f(0x6ae)]]['includes'](_0x13acfc[_0x4bd58f(0x722)])?_0x1fe3d1[_0x4bd58f(0x369)]:_0x13acfc instanceof ArrayBuffer?_0x1fe3d1['Low']:_0x1fe3d1[_0x4bd58f(0x10e)];this[_0x4bd58f(0x3b2)](_0x44719c,_0x47f1f4);}['addTrack'](_0xb581ac,_0x569150,_0x25900b,_0x4efe37){const _0x2d0fdb=_0x14177f,_0x51c9fc=(_0x1bfbca=this[_0x2d0fdb(0x755)],_0x27efc8=this[_0x2d0fdb(0x2e4)],Math[_0x2d0fdb(0x633)](0xe1000*_0x1bfbca*_0x27efc8));var _0x1bfbca,_0x27efc8;const _0x2ed29a=this[_0x2d0fdb(0x12b)]['get'](_0x569150['id'])||{'stream':_0x569150,'priority':_0x25900b,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x51c9fc,'maxBitrate':_0x51c9fc,'framerate':this[_0x2d0fdb(0x755)],'maxFramerate':this[_0x2d0fdb(0x755)],'tracks':{},'params':_0x4efe37},_0x759de8=_0x2ed29a[_0x2d0fdb(0x1a2)][_0xb581ac[_0x2d0fdb(0xa3c)]]||{'track':_0xb581ac};if(_0x759de8['sender']?(_0x759de8[_0x2d0fdb(0x850)]=_0xb581ac,this[_0x2d0fdb(0x31a)]['replaceTrack'](_0xb581ac,_0x759de8[_0x2d0fdb(0x9fd)])):_0x759de8['sender']=this[_0x2d0fdb(0x31a)][_0x2d0fdb(0x664)](_0xb581ac,_0x569150),_0x2ed29a[_0x2d0fdb(0x1a2)][_0xb581ac[_0x2d0fdb(0xa3c)]]=_0x759de8,_0x4efe37&&(_0x2ed29a[_0x2d0fdb(0x6a1)]=_0x4efe37),_0x4efe37&&_0x2d0fdb(0xa15)===_0x4efe37['kind']&&_0x4efe37[_0x2d0fdb(0x8b9)]&&_0x4efe37[_0x2d0fdb(0x109)]&&(_0x2ed29a[_0x2d0fdb(0x3ed)]=this[_0x2d0fdb(0x14f)](_0x4efe37[_0x2d0fdb(0x8b9)],_0x4efe37[_0x2d0fdb(0x109)]),_0x2ed29a['minResolutionScale']=_0x2ed29a['resolutionScale'],_0x2ed29a[_0x2d0fdb(0x1a2)]['video']&&_0x2ed29a['tracks'][_0x2d0fdb(0xa15)][_0x2d0fdb(0x9fd)])){const _0x33e35e=_0x2ed29a['tracks'][_0x2d0fdb(0xa15)][_0x2d0fdb(0x9fd)];this[_0x2d0fdb(0x31a)]['setEncodingParameters'](_0x33e35e,Math[_0x2d0fdb(0x633)](0xa*_0x2ed29a['resolutionScale'])/0xa,_0x2ed29a[_0x2d0fdb(0x8b6)],_0x2ed29a[_0x2d0fdb(0x412)],_0x2ed29a[_0x2d0fdb(0x89e)]);}this['senders'][_0x2d0fdb(0x525)](_0x569150['id'],_0x2ed29a);}[_0x14177f(0x697)](_0x16ea72,_0xd99b77){const _0x2adf62=_0x14177f,_0xa093ff=this[_0x2adf62(0x12b)]['get'](_0x16ea72['id']);if(_0xa093ff&&_0xa093ff[_0x2adf62(0x89e)]!==_0xd99b77&&(_0xa093ff[_0x2adf62(0x89e)]=_0xd99b77,_0xa093ff[_0x2adf62(0x1a2)][_0x2adf62(0xa15)]&&_0xa093ff[_0x2adf62(0x1a2)][_0x2adf62(0xa15)]['sender'])){const _0x14d3b2=_0xa093ff[_0x2adf62(0x1a2)]['video'][_0x2adf62(0x9fd)];this['connection'][_0x2adf62(0x689)](_0x14d3b2,Math[_0x2adf62(0x633)](0xa*_0xa093ff[_0x2adf62(0x3ed)])/0xa,_0xa093ff[_0x2adf62(0x8b6)],_0xa093ff[_0x2adf62(0x412)],_0xa093ff['priority']);}}['setParams'](_0x24c781,_0x22cfc4){const _0x320164=_0x14177f,_0x1cf386=this['senders'][_0x320164(0x9ba)](_0x24c781['id']);if(_0x1cf386){if(_0x1cf386[_0x320164(0x6a1)]=_0x22cfc4,_0x22cfc4&&_0x320164(0xa15)===_0x22cfc4[_0x320164(0xa3c)]&&_0x22cfc4[_0x320164(0x8b9)]&&_0x22cfc4['maxResolution']){if(_0x1cf386['minResolutionScale']=this[_0x320164(0x14f)](_0x22cfc4['resolution'],_0x22cfc4[_0x320164(0x109)]),_0x1cf386[_0x320164(0x3ed)]<_0x1cf386[_0x320164(0x321)]&&(_0x1cf386[_0x320164(0x3ed)]=_0x1cf386[_0x320164(0x321)]),_0x1cf386['tracks'][_0x320164(0xa15)]&&_0x1cf386[_0x320164(0x1a2)]['video'][_0x320164(0x9fd)]){const _0x3cdfdb=_0x1cf386[_0x320164(0x1a2)][_0x320164(0xa15)]['sender'];this[_0x320164(0x31a)][_0x320164(0x689)](_0x3cdfdb,Math[_0x320164(0x633)](0xa*_0x1cf386[_0x320164(0x3ed)])/0xa,_0x1cf386[_0x320164(0x8b6)],_0x1cf386[_0x320164(0x412)],_0x1cf386[_0x320164(0x89e)]);}this[_0x320164(0x7af)](),this[_0x320164(0x73c)]();}this[_0x320164(0x12b)]['set'](_0x24c781['id'],_0x1cf386);}}[_0x14177f(0x53d)](_0x5d013d,_0x1d9dfd){const _0x4582dd=_0x14177f,_0x3dc3ed=this[_0x4582dd(0x12b)][_0x4582dd(0x9ba)](_0x1d9dfd['id']);if(_0x3dc3ed){const _0x23a5e0=_0x3dc3ed['tracks'][_0x5d013d[_0x4582dd(0xa3c)]];_0x23a5e0&&(_0x23a5e0[_0x4582dd(0x9fd)]&&this[_0x4582dd(0x31a)][_0x4582dd(0x53d)](_0x23a5e0[_0x4582dd(0x9fd)]),_0x23a5e0[_0x4582dd(0x850)]=void 0x0);}}[_0x14177f(0xa32)](_0x5a009f){const _0x231cb6=_0x14177f;this[_0x231cb6(0x7af)]();const _0x36623e=function(_0x2b16f8,_0x58a458){const _0x155815=_0x231cb6;return _0x2b16f8[_0x155815(0x119)]((_0x2f3156,_0x27eb54)=>_0x58a458[_0x155815(0x37e)]===_0x26cd67['Downgrade']?_0x27eb54[_0x155815(0x89e)]-_0x2f3156[_0x155815(0x89e)]:_0x2f3156[_0x155815(0x89e)]-_0x27eb54['priority'])[_0x155815(0x3ee)](_0x3c0b23=>function(_0x5dfa0a,_0x10f046){const _0x450883=_0x155815;if(_0x10f046['action']===_0x26cd67['Downgrade']){if(_0x10f046[_0x450883(0x9ca)]===_0x436d2d['Resolution'])return _0x5dfa0a['resolutionScale']<0x4||_0x5dfa0a[_0x450883(0x3a2)]>0xf;if(_0x10f046['component']===_0x436d2d[_0x450883(0x1bb)])return _0x5dfa0a[_0x450883(0x2ee)]>_0x4471be;}return _0x5dfa0a[_0x450883(0x3ed)]>_0x5dfa0a['minResolutionScale']||_0x5dfa0a[_0x450883(0x8b6)]<_0x5dfa0a[_0x450883(0x3a2)]||_0x5dfa0a[_0x450883(0x412)]<_0x5dfa0a['maxBitrate'];}(_0x3c0b23,_0x58a458));}(Array['from'](this['senders'][_0x231cb6(0x774)]()),_0x5a009f);if(_0x36623e&&(function(_0x19ef88,_0x553eaf){const _0x576202=_0x231cb6;_0x19ef88[_0x576202(0x1a2)][_0x576202(0xa15)]&&_0x19ef88['tracks'][_0x576202(0xa15)][_0x576202(0x9fd)]&&(_0x19ef88['resolutionScale']=function(_0x49eb01,_0x2de7ea,_0x336450){const _0xdcd9e1=_0x576202;switch(_0x336450[_0xdcd9e1(0x37e)]){case _0x26cd67[_0xdcd9e1(0x853)]:_0x336450[_0xdcd9e1(0x9ca)]===_0x436d2d[_0xdcd9e1(0x469)]&&(_0x49eb01+=0.5)>0x4&&(_0x49eb01=0x4);break;case _0x26cd67['Upgrade']:(_0x49eb01-=0.5)<_0x2de7ea&&(_0x49eb01=_0x2de7ea);}return _0x49eb01;}(_0x19ef88[_0x576202(0x3ed)],_0x19ef88[_0x576202(0x321)],_0x553eaf),_0x19ef88[_0x576202(0x8b6)]=function(_0x46de2d,_0x17b6ae,_0x17df85){const _0x49ae5f=_0x576202;switch(_0x17df85[_0x49ae5f(0x37e)]){case _0x26cd67[_0x49ae5f(0x853)]:_0x17df85[_0x49ae5f(0x9ca)]===_0x436d2d[_0x49ae5f(0x469)]&&(_0x46de2d-=0x3)<0xf&&(_0x46de2d=0xf);break;case _0x26cd67[_0x49ae5f(0x4df)]:(_0x46de2d+=0x3)>_0x17b6ae&&(_0x46de2d=_0x17b6ae);}return _0x46de2d;}(_0x19ef88[_0x576202(0x8b6)],_0x19ef88[_0x576202(0x3a2)],_0x553eaf),_0x19ef88['bitrate']=function(_0xf442e,_0x519c47,_0x484528){const _0x1f2989=_0x576202;switch(_0x484528[_0x1f2989(0x37e)]){case _0x26cd67[_0x1f2989(0x853)]:_0x484528[_0x1f2989(0x9ca)]===_0x436d2d[_0x1f2989(0x1bb)]&&(_0xf442e*=0.75)<_0x4471be&&(_0xf442e=_0x4471be);break;case _0x26cd67['Upgrade']:(_0xf442e*=1.25)>_0x519c47&&(_0xf442e=_0x519c47);}return _0xf442e;}(_0x19ef88[_0x576202(0x412)],_0x19ef88['maxBitrate'],_0x553eaf));}(_0x36623e,_0x5a009f),_0x36623e[_0x231cb6(0x1a2)][_0x231cb6(0xa15)]&&_0x36623e[_0x231cb6(0x1a2)]['video'][_0x231cb6(0x9fd)])){const _0x3a704e=_0x36623e[_0x231cb6(0x1a2)][_0x231cb6(0xa15)][_0x231cb6(0x9fd)];this[_0x231cb6(0x31a)]['setEncodingParameters'](_0x3a704e,Math[_0x231cb6(0x633)](0xa*_0x36623e['resolutionScale'])/0xa,_0x36623e['framerate'],_0x36623e[_0x231cb6(0x412)],_0x36623e[_0x231cb6(0x89e)]);}(_0x36623e||_0x5a009f[_0x231cb6(0x37e)]===_0x26cd67[_0x231cb6(0x853)])&&this[_0x231cb6(0x73c)]();}[_0x14177f(0x2e7)](){const _0x537129=_0x14177f;return this[_0x537129(0x2eb)][_0x537129(0x5ff)]['reduce']((_0x475f8a,_0x292064)=>_0x475f8a+_0x292064[_0x537129(0x11a)],0x0)*_0x5352a0;}['getBufferedAmount'](){const _0x1a3222=_0x14177f;return this[_0x1a3222(0x452)]?.['bufferedAmount']??0x0;}[_0x14177f(0x9f4)](){const _0x33dd51=_0x14177f;super[_0x33dd51(0x9f4)](),this[_0x33dd51(0x1bd)](),this[_0x33dd51(0x3d6)](),this[_0x33dd51(0x12b)][_0x33dd51(0x918)](_0xf0517b=>{const _0x20deac=_0x33dd51;_0xf0517b[_0x20deac(0x1a2)][_0x20deac(0xa15)]&&(_0xf0517b[_0x20deac(0x1a2)]['video'][_0x20deac(0x9fd)]=void 0x0),_0xf0517b['tracks']['audio']&&(_0xf0517b[_0x20deac(0x1a2)][_0x20deac(0x7b2)][_0x20deac(0x9fd)]=void 0x0);}),this[_0x33dd51(0x6bc)]=!0x0;}async[_0x14177f(0x3fb)](){return new Promise(async _0x3ca0b0=>{const _0x2e2fc5=a0_0x50bd;if(!this[_0x2e2fc5(0x452)]||_0x2e2fc5(0x54e)!==this[_0x2e2fc5(0x452)][_0x2e2fc5(0x168)])return await _0x3f17ec[_0x2e2fc5(0x77e)](0x64),void _0x3ca0b0();this[_0x2e2fc5(0x452)][_0x2e2fc5(0x834)]<_0x1f092?_0x3ca0b0():this[_0x2e2fc5(0x452)]['onBufferedAmountLow']=()=>{const _0x4bd857=_0x2e2fc5;this[_0x4bd857(0x452)]&&(this['dataChannel'][_0x4bd857(0x806)]=null),_0x3ca0b0();};});}[_0x14177f(0x4f6)](_0x3c7afe,_0xf33699){const _0x72678f=_0x14177f,_0x523722=[];for(let _0x2a1e2b=0x0;_0x2a1e2b<_0xf33699[_0x72678f(0x5b7)];_0x2a1e2b+=_0x1c7aa2)_0x523722[_0x72678f(0x993)](_0xf33699[_0x72678f(0x303)](_0x2a1e2b,_0x2a1e2b+_0x1c7aa2));for(const _0x50678f of _0x523722)this[_0x72678f(0x3b2)](_0x173829+';'+_0x3c7afe['uuid']+';'+_0x523722[_0x72678f(0x27a)](_0x50678f)+';'+_0x523722[_0x72678f(0x5b7)]+';'+_0x50678f,_0x1fe3d1[_0x72678f(0x5d5)]);}async[_0x14177f(0x3b2)](_0x45574e,_0x5c3850){const _0x4d38fe=_0x14177f;_0x45574e===_0x23114f?this['retryQueue'][_0x4d38fe(0x5ff)][_0x5c3850][_0x4d38fe(0x6e6)]?.['value']!==_0x23114f&&this['retryQueue'][_0x4d38fe(0x5ff)][_0x5c3850][_0x4d38fe(0x7d5)](_0x45574e):this[_0x4d38fe(0x2eb)]['queues'][_0x5c3850][_0x4d38fe(0x993)](_0x45574e);}[_0x14177f(0x5f2)](_0x5e7bae){const _0x28a45b=_0x14177f;if(!this[_0x28a45b(0x452)]||_0x28a45b(0x54e)!==this['dataChannel'][_0x28a45b(0x168)])throw new Error(_0x28a45b(0x8d1));if(this[_0x28a45b(0x452)]['bufferedAmount']>=0xbe8000)throw new Error('DataChannel\x20buffer\x20is\x20full.');const _0x42349f=Date['now']();_0x5e7bae!==_0x23114f&&(this[_0x28a45b(0x675)]+=0x1,this[_0x28a45b(0x489)]+=_0x5e7bae instanceof ArrayBuffer?_0x5e7bae[_0x28a45b(0x56a)]:_0x5e7bae[_0x28a45b(0x5b7)]),ArrayBuffer,this['dataChannel'][_0x28a45b(0x19d)](_0x5e7bae),this[_0x28a45b(0x5f7)]+=Date['now']()-_0x42349f;}[_0x14177f(0x237)](){const _0x483263=_0x14177f;this[_0x483263(0x866)]&&this['clearHeartbeat']();let _0x5a6e66=!0x0,_0x30ae8d=Date[_0x483263(0x5bc)]();this['lastHeartbeat']=Date[_0x483263(0x5bc)](),this['dataChannel']['onMessage']=_0x4586e2=>{const _0x1bcf72=_0x483263;'1'===_0x4586e2['data']&&(this[_0x1bcf72(0x220)]=Date[_0x1bcf72(0x5bc)]()-_0x30ae8d,_0x5a6e66&&this[_0x1bcf72(0x91e)]({'type':_0x22b6b7[_0x1bcf72(0x727)]}),_0x5a6e66=!0x1,this[_0x1bcf72(0x859)]=Date[_0x1bcf72(0x5bc)](),this[_0x1bcf72(0x6bc)]&&(this[_0x1bcf72(0x6bc)]=!0x1,this[_0x1bcf72(0x94e)]()));},this[_0x483263(0x866)]=_0x3f17ec[_0x483263(0x2ef)](()=>{const _0x1ec454=_0x483263;_0x30ae8d=Date[_0x1ec454(0x5bc)](),this['sendWithRetry'](_0x23114f,_0x1fe3d1[_0x1ec454(0x369)]),Date['now']()-this['lastHeartbeat']>(_0x5a6e66?0x15f90:0x3a98)&&this[_0x1ec454(0x513)]();},0xbb8);}[_0x14177f(0x94e)](){const _0x5451eb=_0x14177f;this['senders'][_0x5451eb(0x918)](_0x963e76=>{const _0x42af21=_0x5451eb;_0x963e76[_0x42af21(0x1a2)][_0x42af21(0xa15)]&&_0x963e76[_0x42af21(0x1a2)][_0x42af21(0xa15)][_0x42af21(0x850)]&&!_0x963e76[_0x42af21(0x1a2)][_0x42af21(0xa15)][_0x42af21(0x9fd)]&&(_0x963e76['tracks'][_0x42af21(0xa15)][_0x42af21(0x9fd)]=this['connection'][_0x42af21(0x664)](_0x963e76[_0x42af21(0x1a2)][_0x42af21(0xa15)]['track'],_0x963e76[_0x42af21(0x68e)])),_0x963e76['tracks'][_0x42af21(0x7b2)]&&_0x963e76[_0x42af21(0x1a2)][_0x42af21(0x7b2)][_0x42af21(0x850)]&&!_0x963e76[_0x42af21(0x1a2)]['audio']['sender']&&(_0x963e76[_0x42af21(0x1a2)][_0x42af21(0x7b2)]['sender']=this[_0x42af21(0x31a)][_0x42af21(0x664)](_0x963e76[_0x42af21(0x1a2)]['audio']['track'],_0x963e76[_0x42af21(0x68e)]));});}[_0x14177f(0x40a)](){const _0x4daf75=_0x14177f;this['publishSystemMessage']({'type':_0x22b6b7[_0x4daf75(0x508)],'candidates':this[_0x4daf75(0x87a)],'origin':_0x210534[_0x4daf75(0x378)],'version':this[_0x4daf75(0x11f)],'connectionType':this[_0x4daf75(0x8ab)]});}[_0x14177f(0x54c)](){const _0x21371d=_0x14177f;super['setupConnectionEvents'](),this['connection'][_0x21371d(0x999)]=()=>{const _0x5562f4=_0x21371d;if('failed'===this[_0x5562f4(0x31a)][_0x5562f4(0x8b4)]){_0x1734f6[_0x5562f4(0x2b0)](_0x39fe10[_0x5562f4(0x69e)],'iceConnectionState\x20failed',this[_0x5562f4(0x845)][_0x5562f4(0x519)](),this[_0x5562f4(0x4f9)]);try{if(this[_0x5562f4(0x31a)][_0x5562f4(0x625)])return void this[_0x5562f4(0x31a)][_0x5562f4(0x618)]();}catch(_0x5ba111){}this['createOffer']({'handshakeRestart':!0x0});}},this['connection'][_0x21371d(0x3fa)]=()=>{const _0x441564=_0x21371d;_0x441564(0x21f)!==this['connection']['connectionState']&&_0x441564(0x2bb)!==this[_0x441564(0x31a)][_0x441564(0x19c)]||this[_0x441564(0x513)]();};}[_0x14177f(0x513)](){const _0x27d856=_0x14177f;this[_0x27d856(0x766)](),this['clearRestartTimeout'](),this[_0x27d856(0x128)](),_0x1734f6[_0x27d856(0x8c3)](_0x27d856(0x26d),{'clusterId':this['clusterId'],'nodeId':this[_0x27d856(0x845)][_0x27d856(0x519)](),'nodeType':this[_0x27d856(0x845)][_0x27d856(0x162)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x27d856(0x8ab)],'connectionState':this[_0x27d856(0x31a)][_0x27d856(0x19c)],'iceConnectionState':this[_0x27d856(0x31a)][_0x27d856(0x8b4)],'signalingState':this['connection'][_0x27d856(0x8be)],'readyState':this[_0x27d856(0x452)]?.[_0x27d856(0x168)]||'','lastHeartbeat':this[_0x27d856(0x859)]?Date['now']()-this[_0x27d856(0x859)]:'','retryQueue':this['retryQueue']}}),(this[_0x27d856(0x859)]&&Date['now']()-this['lastHeartbeat']>0xea60)??0x1?this[_0x27d856(0x60b)][_0x27d856(0x95d)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x27d856(0x845)][_0x27d856(0x519)]()],'messageType':_0x1252cb[_0x27d856(0x6ae)],'content':{'type':_0x22b6b7[_0x27d856(0x909)]}}):(this['resetConnection'](),this[_0x27d856(0x91e)]({'type':_0x22b6b7[_0x27d856(0x43c)],'version':this['currentVersion'],'connectionType':this[_0x27d856(0x8ab)]}),this[_0x27d856(0x66f)]=setTimeout(()=>{const _0x5c01ec=_0x27d856;this[_0x5c01ec(0x513)]();},0x7530));}[_0x14177f(0x766)](){const _0x43f7b2=_0x14177f;this[_0x43f7b2(0x866)]?.(),delete this[_0x43f7b2(0x866)];}[_0x14177f(0x128)](){const _0x4349fc=_0x14177f;this['connectionTimeout']&&(clearTimeout(this[_0x4349fc(0x51a)]),delete this[_0x4349fc(0x51a)]);}[_0x14177f(0x6ca)](){const _0x1fff54=_0x14177f;this[_0x1fff54(0x66f)]&&(clearTimeout(this[_0x1fff54(0x66f)]),delete this[_0x1fff54(0x66f)]);}['clearUpgradeTimeout'](){const _0x594880=_0x14177f;this[_0x594880(0x51e)]&&(clearTimeout(this['upgradeTimeout']),delete this[_0x594880(0x51e)]);}[_0x14177f(0x73c)](){const _0x2dbb44=_0x14177f;this[_0x2dbb44(0x51e)]=setTimeout(()=>{const _0x456c03=_0x2dbb44;this[_0x456c03(0xa32)]({'type':_0x4246b1[_0x456c03(0x9d7)],'action':_0x26cd67[_0x456c03(0x4df)]});},0x3a98);}[_0x14177f(0x14f)](_0x540159,_0x34a529){const _0x511ec1=_0x14177f,_0x43d3e5=Math[_0x511ec1(0x65f)](_0x540159[_0x511ec1(0x56c)]/_0x34a529[_0x511ec1(0x56c)],_0x540159[_0x511ec1(0x624)]/_0x34a529['height']);return Math[_0x511ec1(0x9f1)](Math[_0x511ec1(0x65f)](_0x43d3e5,0x1),0x4);}['clearWaitAnswer'](){const _0x150fa5=_0x14177f;this[_0x150fa5(0x27c)]?.(),delete this['waitAnswer'];}[_0x14177f(0x1bd)](){const _0xc00cbd=_0x14177f;this[_0xc00cbd(0x7b1)]&&(clearTimeout(this[_0xc00cbd(0x7b1)]),delete this['oncloseTimeout']);}[_0x14177f(0x762)](_0x2feacb){const _0x3e1f10=_0x14177f,_0x312787=JSON[_0x3e1f10(0x990)](_0x2feacb);return new TextEncoder()[_0x3e1f10(0x150)](_0x312787)[_0x3e1f10(0x692)];}[_0x14177f(0x7fc)](_0x3e4530,_0x7d00fe){const _0x19cbd7=_0x14177f,_0x4e7170=this[_0x19cbd7(0x762)](_0x3e4530),_0x270763=new Uint8Array(0x4),_0x49a7b2=new Uint8Array(_0x4e7170),_0x12d177=new Uint8Array(_0x7d00fe);_0x270763[_0x19cbd7(0x525)](new Uint8Array(new Uint32Array([_0x49a7b2[_0x19cbd7(0x5b7)]])[_0x19cbd7(0x692)]));const _0x5d97f0=new Uint8Array(0x4+_0x49a7b2[_0x19cbd7(0x5b7)]+_0x12d177[_0x19cbd7(0x5b7)]);return _0x5d97f0[_0x19cbd7(0x525)](_0x270763),_0x5d97f0[_0x19cbd7(0x525)](_0x49a7b2,0x4),_0x5d97f0['set'](_0x12d177,0x4+_0x49a7b2['length']),_0x5d97f0[_0x19cbd7(0x692)];}}class _0x1dcfce extends _0x143e6e{[_0x14177f(0x8db)];[_0x14177f(0x8ab)];['maxFps'];['maxBpp'];['connectionConstructor'];[_0x14177f(0x14b)];['receiverConnection'];['receiverUnsubscribers']=[];[_0x14177f(0x14c)]=_0x26518c();[_0x14177f(0x306)]=_0x26518c();[_0x14177f(0x5f8)]=_0x26518c();['listenerUnsubscribers']=[];[_0x14177f(0x60b)];[_0x14177f(0x4e5)]=new Map();['dataUnsubscribers']=new Map();[_0x14177f(0x784)]=new Map();[_0x14177f(0x4e3)]=new Map();['successNotified']=!0x1;constructor(_0x5d346c,_0x38c70b,_0x2f8e53,_0x593896,_0x308de1,_0x98b9c8,_0x5f4642,_0x3f85c9){const _0xb7ef35=_0x14177f;super(_0x5d346c,_0x38c70b,_0x2f8e53),this[_0xb7ef35(0x8db)]=_0x593896,this['connectionType']=_0x308de1,this['maxFps']=_0x98b9c8,this['maxBpp']=_0x5f4642,this[_0xb7ef35(0x79e)]=_0x3f85c9;}['registerPublisher'](_0x294f08){const _0x262474=_0x14177f;switch(_0x294f08[_0x262474(0x62d)]()){case _0x23d754[_0x262474(0x565)][_0x262474(0x968)]:case _0x23d754['ContentType'][_0x262474(0x8a1)]:case _0x23d754[_0x262474(0x565)]['ObjectStore']:case _0x23d754[_0x262474(0x565)][_0x262474(0x1a9)]:case _0x23d754[_0x262474(0x565)][_0x262474(0x875)]:case _0x23d754[_0x262474(0x565)][_0x262474(0x7f8)]:case _0x23d754[_0x262474(0x565)][_0x262474(0x3b4)]:case _0x23d754[_0x262474(0x565)]['ExternalStorage']:this[_0x262474(0x4e5)][_0x262474(0x525)](_0x294f08['getLabel'](),_0x294f08);break;case _0x23d754[_0x262474(0x565)][_0x262474(0x581)]:this['mediaTopics'][_0x262474(0x525)](_0x294f08[_0x262474(0x3bf)](),_0x294f08);}}[_0x14177f(0x4ab)](_0x50b914){const _0x1150e4=_0x14177f;switch(_0x50b914[_0x1150e4(0x62d)]()){case _0x23d754[_0x1150e4(0x565)][_0x1150e4(0x968)]:case _0x23d754['ContentType'][_0x1150e4(0x8a1)]:case _0x23d754[_0x1150e4(0x565)]['ObjectStore']:case _0x23d754[_0x1150e4(0x565)]['KeyValueDatabase']:case _0x23d754[_0x1150e4(0x565)]['Job']:case _0x23d754[_0x1150e4(0x565)]['VectorDatabase']:case _0x23d754['ContentType'][_0x1150e4(0x3b4)]:case _0x23d754[_0x1150e4(0x565)][_0x1150e4(0x6d1)]:this[_0x1150e4(0x4e5)][_0x1150e4(0x131)](_0x50b914[_0x1150e4(0x3bf)]());break;case _0x23d754['ContentType']['Media']:this[_0x1150e4(0x784)]['delete'](_0x50b914[_0x1150e4(0x3bf)]());}}['registerSubscriber'](_0x2dd4c0){const _0x16d7f9=_0x14177f;switch(_0x2dd4c0[_0x16d7f9(0x62d)]()){case _0x23d754[_0x16d7f9(0x565)][_0x16d7f9(0x968)]:case _0x23d754[_0x16d7f9(0x565)][_0x16d7f9(0x8a1)]:case _0x23d754[_0x16d7f9(0x565)][_0x16d7f9(0x11d)]:case _0x23d754[_0x16d7f9(0x565)][_0x16d7f9(0x1a9)]:case _0x23d754['ContentType']['Job']:case _0x23d754[_0x16d7f9(0x565)][_0x16d7f9(0x7f8)]:case _0x23d754['ContentType']['GraphDatabase']:case _0x23d754[_0x16d7f9(0x565)][_0x16d7f9(0x6d1)]:{const _0x3728fe=_0x2dd4c0['subscribe'](_0x10d277=>{const _0x2ff655=_0x16d7f9;_0x10e9d7(_0x10d277,this[_0x2ff655(0x1a0)]())&&_0xeceb21(_0x10d277,this[_0x2ff655(0x4f9)])&&this['send'](_0x10d277);});this[_0x16d7f9(0x4f1)][_0x16d7f9(0x525)](_0x2dd4c0[_0x16d7f9(0x3bf)](),_0x3728fe);break;}case _0x23d754[_0x16d7f9(0x565)][_0x16d7f9(0x581)]:{const _0x4f6ded=_0x2dd4c0['subscribe'](({content:_0x1234ce})=>{const _0x20f1a5=_0x16d7f9;switch(_0x1234ce[_0x20f1a5(0x37e)]){case _0x30df0b[_0x20f1a5(0x716)]:this[_0x20f1a5(0x664)](_0x1234ce[_0x20f1a5(0x850)],_0x1234ce['stream'],_0x1234ce[_0x20f1a5(0x89e)],_0x1234ce[_0x20f1a5(0x6a1)]);break;case _0x30df0b['Remove']:this[_0x20f1a5(0x53d)](_0x1234ce['track'],_0x1234ce['stream']);break;case _0x30df0b['Update']:_0x1234ce[_0x20f1a5(0x89e)]&&this[_0x20f1a5(0x697)](_0x1234ce['stream'],_0x1234ce[_0x20f1a5(0x89e)]),_0x1234ce['params']&&this[_0x20f1a5(0x481)](_0x1234ce[_0x20f1a5(0x68e)],_0x1234ce[_0x20f1a5(0x6a1)]);}});this[_0x16d7f9(0x4e3)][_0x16d7f9(0x525)](_0x2dd4c0[_0x16d7f9(0x3bf)](),_0x4f6ded);break;}}}[_0x14177f(0x771)](_0x514f15){const _0x2f429b=_0x14177f;switch(_0x514f15['getContentType']()){case _0x23d754[_0x2f429b(0x565)][_0x2f429b(0x968)]:case _0x23d754[_0x2f429b(0x565)]['PubSub']:case _0x23d754[_0x2f429b(0x565)][_0x2f429b(0x11d)]:case _0x23d754['ContentType']['KeyValueDatabase']:case _0x23d754['ContentType'][_0x2f429b(0x875)]:case _0x23d754[_0x2f429b(0x565)][_0x2f429b(0x7f8)]:case _0x23d754[_0x2f429b(0x565)][_0x2f429b(0x3b4)]:case _0x23d754[_0x2f429b(0x565)][_0x2f429b(0x6d1)]:this[_0x2f429b(0x4f1)][_0x2f429b(0x9ba)](_0x514f15[_0x2f429b(0x3bf)]())?.(),this[_0x2f429b(0x4f1)][_0x2f429b(0x131)](_0x514f15[_0x2f429b(0x3bf)]());break;case _0x23d754[_0x2f429b(0x565)][_0x2f429b(0x581)]:this[_0x2f429b(0x4e3)][_0x2f429b(0x9ba)](_0x514f15[_0x2f429b(0x3bf)]())?.(),this[_0x2f429b(0x4e3)][_0x2f429b(0x131)](_0x514f15['getLabel']());}}[_0x14177f(0x64c)](){const _0x4ffb7e=_0x14177f;return[_0x23d754[_0x4ffb7e(0x565)]['Data'],_0x23d754[_0x4ffb7e(0x565)]['Media'],_0x23d754[_0x4ffb7e(0x565)][_0x4ffb7e(0x8a1)],_0x23d754['ContentType'][_0x4ffb7e(0x11d)],_0x23d754['ContentType'][_0x4ffb7e(0x1a9)],_0x23d754[_0x4ffb7e(0x565)][_0x4ffb7e(0x875)],_0x23d754[_0x4ffb7e(0x565)][_0x4ffb7e(0x7f8)],_0x23d754['ContentType'][_0x4ffb7e(0x3b4)],_0x23d754['ContentType'][_0x4ffb7e(0x6d1)]];}[_0x14177f(0x8d0)](_0x1764e8){const _0x2dac2f=_0x14177f;this[_0x2dac2f(0x60b)]=_0x1764e8;}[_0x14177f(0x7b5)](){const _0x3310dd=_0x14177f;delete this[_0x3310dd(0x60b)];}async[_0x14177f(0x7fa)](){const _0x3de901=_0x14177f;this[_0x3de901(0x451)](),await this[_0x3de901(0x333)]();}[_0x14177f(0x9b6)](){const _0x9e15c2=_0x14177f;this['listenerUnsubscribers'][_0x9e15c2(0x918)](_0x33b7ed=>_0x33b7ed()),this[_0x9e15c2(0x44d)]=[],this[_0x9e15c2(0x14b)]?.[_0x9e15c2(0x7b5)](),this[_0x9e15c2(0x14b)]?.['close'](),delete this[_0x9e15c2(0x14b)],this[_0x9e15c2(0x709)][_0x9e15c2(0x918)](_0x468173=>_0x468173()),this[_0x9e15c2(0x709)]=[],this[_0x9e15c2(0x5ab)]?.[_0x9e15c2(0x7b5)](),this[_0x9e15c2(0x5ab)]?.[_0x9e15c2(0x9b6)](),delete this[_0x9e15c2(0x5ab)];}[_0x14177f(0x133)](){const _0x213fc5=_0x14177f;return this[_0x213fc5(0x14b)]?.[_0x213fc5(0x133)]()&&this[_0x213fc5(0x5ab)]?.['isConnected']()||!0x1;}['send'](_0x515b3a){const _0x529ca0=_0x14177f;if(!this['senderConnection']||!this['isConnected']())throw new _0x209e12(_0x209e12[_0x529ca0(0x805)][_0x529ca0(0x25e)],{'message':_0x529ca0(0x3fd),'senderConnected':this['senderConnection']?.[_0x529ca0(0x133)](),'receiverConnected':this['receiverConnection']?.['isConnected'](),'localId':this[_0x529ca0(0x1a0)](),'remoteId':this['remoteId'],'data':_0x515b3a});this['senderConnection'][_0x529ca0(0x19d)](_0x515b3a);}[_0x14177f(0x16a)](_0x46825d){const _0x2aae46=_0x14177f;return this['messageListeners'][_0x2aae46(0x1f2)](_0x46825d);}[_0x14177f(0x2fa)](_0x46c7b7){const _0x42bc77=_0x14177f;return this[_0x42bc77(0x306)][_0x42bc77(0x1f2)](({track:_0x1f3051,stream:_0x1b1501})=>_0x46c7b7(_0x1f3051,_0x1b1501));}[_0x14177f(0x331)](_0x37cde9){const _0xbb3c3=_0x14177f;return this[_0xbb3c3(0x5f8)]['subscribe'](({track:_0x2112bd,stream:_0x237029})=>_0x37cde9(_0x2112bd,_0x237029));}[_0x14177f(0x664)](_0x98db5a,_0x2a8e71,_0x4503a8,_0x42e29a){const _0x8fa049=_0x14177f;this['senderConnection']?.[_0x8fa049(0x664)](_0x98db5a,_0x2a8e71,_0x4503a8,_0x42e29a);}[_0x14177f(0x697)](_0x170045,_0xa5fadf){const _0x359770=_0x14177f;this[_0x359770(0x14b)]?.[_0x359770(0x697)](_0x170045,_0xa5fadf);}[_0x14177f(0x481)](_0x787ceb,_0x22d476){const _0x1bb3e3=_0x14177f;this[_0x1bb3e3(0x14b)]?.[_0x1bb3e3(0x481)](_0x787ceb,_0x22d476);}[_0x14177f(0x53d)](_0x5e124a,_0xe3e2ba){const _0x193f86=_0x14177f;this[_0x193f86(0x14b)]?.['removeTrack'](_0x5e124a,_0xe3e2ba);}async['handlePeerConnectionSystemEvents'](_0x32b988){const _0x3d2025=_0x14177f;_0x1734f6[_0x3d2025(0x2b0)](_0x39fe10[_0x3d2025(0x930)],_0x3d2025(0x8e0),this[_0x3d2025(0x1a0)](),_0x32b988);const {content:_0x3b2fa2}=_0x32b988;switch(_0x3b2fa2[_0x3d2025(0x162)]){case _0x22b6b7[_0x3d2025(0x591)]:await this[_0x3d2025(0x474)](_0x3b2fa2);break;case _0x22b6b7[_0x3d2025(0x7e1)]:await this[_0x3d2025(0x325)](_0x3b2fa2);break;case _0x22b6b7[_0x3d2025(0x727)]:this[_0x3d2025(0x9d8)]();break;case _0x22b6b7['Handshake']:await this[_0x3d2025(0x495)](_0x3b2fa2);break;case _0x22b6b7[_0x3d2025(0x43c)]:this[_0x3d2025(0x3f8)](_0x3b2fa2);break;case _0x22b6b7[_0x3d2025(0x8d7)]:await this[_0x3d2025(0x333)]();}}[_0x14177f(0x8bb)](_0x410224){const _0x347b2e=_0x14177f;this[_0x347b2e(0x14b)]?.['applyRemediation'](_0x410224[_0x347b2e(0x4cc)][_0x347b2e(0x84f)]);}[_0x14177f(0x6e5)](){const _0x447db3=_0x14177f;return this[_0x447db3(0x8ab)];}[_0x14177f(0x5d6)](_0x458d68){const _0x329b06=_0x14177f;this['connectionType']=_0x458d68,this[_0x329b06(0x14b)]?.[_0x329b06(0x5d6)](_0x458d68),this['receiverConnection']?.['setConnectionType'](_0x458d68);}async[_0x14177f(0x1ff)](){const _0x3a1f56=_0x14177f;await this[_0x3a1f56(0x14b)]?.['collectStats'](),await this[_0x3a1f56(0x5ab)]?.[_0x3a1f56(0x1ff)]();}['calculateArrayBufferSize'](){const _0x1bf29f=_0x14177f;return this[_0x1bf29f(0x14b)]?.[_0x1bf29f(0x2e7)]()??0x0;}[_0x14177f(0x92a)](){const _0x420636=_0x14177f;return this[_0x420636(0x14b)]?.['getBufferedAmount']()??0x0;}['setupListeners'](){const _0x1d2ef6=_0x14177f;this[_0x1d2ef6(0x44d)]['push'](this['onMessage'](_0x28ab2c=>{const _0x5488fd=_0x1d2ef6;_0xeceb21(_0x28ab2c,this[_0x5488fd(0x1a0)]())&&0x0!==_0x28ab2c[_0x5488fd(0x16e)]&&this[_0x5488fd(0x4e5)]['get'](_0x28ab2c['topicLabel'])?.[_0x5488fd(0x95d)](_0x28ab2c);})),this[_0x1d2ef6(0x44d)][_0x1d2ef6(0x993)](this[_0x1d2ef6(0x2fa)]((_0x148cb8,_0x18d76b)=>{const _0x130b68=_0x1d2ef6,_0x2a34f6=_0x1334af(_0x23d754['ContentType'][_0x130b68(0x581)],_0x18d76b['id'],this['remoteId']);this['mediaTopics'][_0x130b68(0x9ba)](_0x2a34f6)?.['publish']({'topicLabel':_0x2a34f6,'sourceId':this[_0x130b68(0x4f9)],'contentType':_0x23d754[_0x130b68(0x565)][_0x130b68(0x581)],'content':{'action':_0x30df0b[_0x130b68(0x995)],'track':_0x148cb8,'stream':_0x18d76b,'providerId':this['remoteId']}});})),this['listenerUnsubscribers'][_0x1d2ef6(0x993)](this[_0x1d2ef6(0x331)]((_0x3bba26,_0x15c645)=>{const _0x52c8b2=_0x1d2ef6,_0x31efd9=_0x1334af(_0x23d754[_0x52c8b2(0x565)][_0x52c8b2(0x581)],_0x15c645['id'],this[_0x52c8b2(0x4f9)]);this[_0x52c8b2(0x784)]['get'](_0x31efd9)?.[_0x52c8b2(0x95d)]({'topicLabel':_0x31efd9,'sourceId':this[_0x52c8b2(0x4f9)],'contentType':_0x23d754[_0x52c8b2(0x565)]['Media'],'content':{'action':_0x30df0b[_0x52c8b2(0x88a)],'track':_0x3bba26,'stream':_0x15c645,'providerId':this[_0x52c8b2(0x4f9)]}});}));}[_0x14177f(0x495)]({candidates:_0x5ad4e4,origin:_0x5a45d7,version:_0x40f420}){const _0xbe5840=_0x14177f;return _0x5a45d7===_0x210534[_0xbe5840(0x378)]?(this[_0xbe5840(0x5ab)]||this[_0xbe5840(0xa46)](),this['receiverConnection']['handleHandshake'](_0x5ad4e4,_0x40f420)):this[_0xbe5840(0x14b)][_0xbe5840(0x402)](_0x5ad4e4,_0x40f420);}async[_0x14177f(0x333)](){const _0x41e406=_0x14177f;this[_0x41e406(0x14b)]||this['createSenderConnection'](),await this['senderConnection'][_0x41e406(0x333)]();}async[_0x14177f(0x474)]({offer:_0x3eca6e,version:_0x2b950b}){const _0x495a59=_0x14177f;this[_0x495a59(0x5ab)]||this[_0x495a59(0xa46)](),await this['receiverConnection'][_0x495a59(0x474)](_0x3eca6e,_0x2b950b);}async[_0x14177f(0x325)]({answer:_0x46eaf0,version:_0x271c63}){const _0x2b0310=_0x14177f;if(!this[_0x2b0310(0x14b)])throw new _0x209e12(_0x209e12[_0x2b0310(0x805)][_0x2b0310(0x25e)],{'message':_0x2b0310(0x501),'localId':this[_0x2b0310(0x1a0)](),'remoteId':this[_0x2b0310(0x4f9)],'answer':_0x46eaf0});await this[_0x2b0310(0x14b)][_0x2b0310(0x325)](_0x46eaf0,_0x271c63);}[_0x14177f(0x9d8)](){const _0x34d5d7=_0x14177f;if(!this['receiverConnection'])throw new _0x209e12(_0x209e12[_0x34d5d7(0x805)]['ConnectionNotinitialized'],{'message':_0x34d5d7(0x457),'localId':this[_0x34d5d7(0x1a0)](),'remoteId':this[_0x34d5d7(0x4f9)]});this['receiverConnection']['handleSuccess'](),this[_0x34d5d7(0x516)]||this[_0x34d5d7(0x8ab)]!==_0x910ac9[_0x34d5d7(0x225)]||(this[_0x34d5d7(0x516)]=!0x0,this[_0x34d5d7(0x60b)]?.['publish']({'sourceId':this[_0x34d5d7(0x4f9)],'destinationIds':[this['getLocalId']()],'messageType':_0x1252cb['PeerConnection'],'content':{'type':_0x22b6b7[_0x34d5d7(0x703)]}}));}[_0x14177f(0x3f8)](_0xa94c69){const _0x4393ba=_0x14177f;this['receiverConnection']||this[_0x4393ba(0xa46)](),this[_0x4393ba(0x5ab)][_0x4393ba(0x3f8)](_0xa94c69[_0x4393ba(0x5bb)]);}[_0x14177f(0x7e7)](){const _0x23560d=_0x14177f;this['senderConnection']=new _0x40d98b(this[_0x23560d(0x463)],this[_0x23560d(0x845)],this['remoteId'],this[_0x23560d(0x8db)],this['connectionType'],this[_0x23560d(0x755)],this[_0x23560d(0x2e4)],this['connectionConstructor']),this['senderConnection']['registerSystemPublisher'](this['systemTopic']);}['createReceiverConnection'](){const _0x2e9ce6=_0x14177f;this[_0x2e9ce6(0x5ab)]=new _0x7f0a00(this[_0x2e9ce6(0x463)],this['localNode'],this['remoteId'],this['iceServers'],this[_0x2e9ce6(0x8ab)],this['connectionConstructor']),this[_0x2e9ce6(0x5ab)][_0x2e9ce6(0x8d0)](this[_0x2e9ce6(0x60b)]),this[_0x2e9ce6(0x709)][_0x2e9ce6(0x993)](this[_0x2e9ce6(0x5ab)]['onMessage'](_0x76132d=>this['messageListeners'][_0x2e9ce6(0x95d)](_0x76132d))),this[_0x2e9ce6(0x709)][_0x2e9ce6(0x993)](this[_0x2e9ce6(0x5ab)][_0x2e9ce6(0x2fa)]((_0xb9ae02,_0x24221e)=>this[_0x2e9ce6(0x306)][_0x2e9ce6(0x95d)]({'track':_0xb9ae02,'stream':_0x24221e}))),this[_0x2e9ce6(0x709)][_0x2e9ce6(0x993)](this[_0x2e9ce6(0x5ab)][_0x2e9ce6(0x331)]((_0x57ba40,_0xf74522)=>this[_0x2e9ce6(0x5f8)]['publish']({'track':_0x57ba40,'stream':_0xf74522})));}}class _0x64ceeb{[_0x14177f(0x554)];[_0x14177f(0x5b3)];['graphService'];['connections']=new Map();['messageListeners']=_0x26518c();[_0x14177f(0x35f)];['dataTopics']=new Map();[_0x14177f(0x4f1)]=new Map();[_0x14177f(0x666)]=new Map();constructor(_0x26a6d7,_0x5ec5f7,_0xdad0fe){const _0x34b279=_0x14177f;this[_0x34b279(0x554)]=_0x26a6d7,this[_0x34b279(0x5b3)]=_0x5ec5f7,this[_0x34b279(0x29d)]=_0xdad0fe,this[_0x34b279(0x35f)]=this[_0x34b279(0x16a)](_0xbeb135=>{const _0x454870=_0x34b279;this['messageBuffer'][_0x454870(0x198)](_0xbeb135[_0x454870(0x56b)])||(_0xeceb21(_0xbeb135,this[_0x454870(0x554)])&&0x0!==_0xbeb135[_0x454870(0x16e)]&&(this['messageBuffer'][_0x454870(0x4be)](_0xbeb135[_0x454870(0x56b)]),this['dataTopics'][_0x454870(0x9ba)](_0xbeb135['topicLabel'])?.['publish'](_0xbeb135)),_0xbeb135[_0x454870(0x28a)]&&this['send'](_0xbeb135));});}['close'](){const _0x57c3d3=_0x14177f;this[_0x57c3d3(0x35f)]?.();}[_0x14177f(0x7d8)](_0x4fb4ba){const _0x10c9c2=_0x14177f,_0x4df14f=_0x4fb4ba['onMessage'](_0x37fe0e=>{const _0x3623c9=a0_0x50bd;this[_0x3623c9(0x14c)][_0x3623c9(0x95d)](_0x37fe0e);});this['connections'][_0x10c9c2(0x525)](_0x4fb4ba,_0x4df14f),this[_0x10c9c2(0x666)][_0x10c9c2(0x525)](_0x4fb4ba[_0x10c9c2(0x6a3)](),function(_0x3d75cb,_0x488a4c=!0x1){let _0x2ca30d=new Map();const _0x17cee2=_0x488459(_0x3d75cb,_0x488a4c,function(_0x1b3dec){const _0x382e4f=a0_0x50bd;_0x8cdd6d(_0x1b3dec)&&_0x2ca30d[_0x382e4f(0x131)](_0x1b3dec['sourceId']+'-'+(_0x1b3dec['destinationIds']??[])+'-'+_0x1b3dec[_0x382e4f(0x722)]+'-'+_0x1b3dec[_0x382e4f(0x4cc)][_0x382e4f(0x162)]);},function(_0x153bdd){return!!function(_0x57c557){const _0x34331e=a0_0x50bd,_0x1ab036=_0x57c557[_0x34331e(0x6f2)];if(!_0x8cdd6d(_0x1ab036))return!0x1;const _0x35ada9=_0x1ab036[_0x34331e(0x54b)]+'-'+(_0x1ab036['destinationIds']??[])+'-'+_0x1ab036[_0x34331e(0x722)]+'-'+_0x1ab036[_0x34331e(0x4cc)]['type'],_0x47d3a4={'version':_0x1ab036[_0x34331e(0x4cc)][_0x34331e(0x5bb)],'element':_0x57c557},_0x22b854=_0x2ca30d[_0x34331e(0x9ba)](_0x35ada9);return _0x22b854?(_0x22b854[_0x34331e(0x5bb)]>=_0x1ab036[_0x34331e(0x4cc)]['version']||(_0x22b854[_0x34331e(0x2ed)][_0x34331e(0x75e)]&&(_0x22b854['element'][_0x34331e(0x75e)][_0x34331e(0xa00)]=_0x57c557,_0x57c557['previous']=_0x22b854[_0x34331e(0x2ed)][_0x34331e(0x75e)]),_0x22b854['element'][_0x34331e(0xa00)]&&(_0x22b854[_0x34331e(0x2ed)][_0x34331e(0xa00)][_0x34331e(0x75e)]=_0x57c557,_0x57c557[_0x34331e(0xa00)]=_0x22b854[_0x34331e(0x2ed)][_0x34331e(0xa00)]),_0x22b854[_0x34331e(0x2ed)]===_0x17cee2[_0x34331e(0x6e6)]&&(_0x17cee2[_0x34331e(0x6e6)]=_0x57c557),_0x22b854[_0x34331e(0x2ed)]===_0x17cee2['tail']&&(_0x17cee2[_0x34331e(0x7ba)]=_0x57c557),_0x2ca30d[_0x34331e(0x525)](_0x35ada9,_0x47d3a4)),!0x0):(_0x2ca30d['set'](_0x35ada9,_0x47d3a4),!0x1);}(_0x153bdd);},function(){const _0x138980=a0_0x50bd;_0x2ca30d[_0x138980(0x12e)]();});function _0x8cdd6d(_0x485652){const _0x4b1961=a0_0x50bd;if(_0x485652&&'object'==typeof _0x485652&&_0x485652[_0x4b1961(0x1a7)](_0x4b1961(0x4cc))&&_0x485652[_0x4b1961(0x1a7)](_0x4b1961(0x722))&&_0x485652[_0x4b1961(0x1a7)]('sourceId')){const _0x4a708d=_0x485652;if(_0x4a708d[_0x4b1961(0x4cc)]&&'object'==typeof _0x4a708d[_0x4b1961(0x4cc)]&&_0x4a708d[_0x4b1961(0x4cc)][_0x4b1961(0x1a7)](_0x4b1961(0x5bb))&&_0x4a708d['content'][_0x4b1961(0x1a7)](_0x4b1961(0x162)))return!0x0;}return!0x1;}return _0x17cee2;}(new _0x27954c(_0x26f2fe=>_0x4fb4ba[_0x10c9c2(0x19d)](_0x26f2fe),()=>_0x3f17ec[_0x10c9c2(0x77e)](0x64))));}[_0x14177f(0x6bd)](_0x5e4f0f){const _0x1d012c=_0x14177f;this['connections'][_0x1d012c(0x9ba)](_0x5e4f0f)?.(),this[_0x1d012c(0x7ec)][_0x1d012c(0x131)](_0x5e4f0f),this[_0x1d012c(0x666)][_0x1d012c(0x9ba)](_0x5e4f0f[_0x1d012c(0x6a3)]())?.['clear'](),this[_0x1d012c(0x666)][_0x1d012c(0x131)](_0x5e4f0f[_0x1d012c(0x6a3)]());}['isConnected'](_0x1fc35e){const _0x1b0a85=_0x14177f;return _0x1734f6[_0x1b0a85(0x2b0)](_0x39fe10[_0x1b0a85(0x69e)],_0x1b0a85(0x74c),this[_0x1b0a85(0x554)],this[_0x1b0a85(0x7ec)][_0x1b0a85(0x770)]()),0x0!==this[_0x1b0a85(0x7ec)][_0x1b0a85(0x11a)]&&(Array[_0x1b0a85(0x80f)](this[_0x1b0a85(0x7ec)][_0x1b0a85(0x770)]())[_0x1b0a85(0x3ee)](_0xba82f4=>_0xba82f4['getRemoteId']()===_0x1fc35e)?.[_0x1b0a85(0x133)]()??!0x1);}[_0x14177f(0x949)](_0x4947e7){const _0x34ebdd=_0x14177f;this['dataTopics'][_0x34ebdd(0x525)](_0x4947e7[_0x34ebdd(0x3bf)](),_0x4947e7);}[_0x14177f(0x4ab)](_0x57c8fd){const _0x326c57=_0x14177f;this['dataTopics'][_0x326c57(0x131)](_0x57c8fd[_0x326c57(0x3bf)]());}[_0x14177f(0x75f)](_0x575e72){const _0x51fbd2=_0x14177f,_0x210422=_0x575e72[_0x51fbd2(0x1f2)](this[_0x51fbd2(0x19d)][_0x51fbd2(0x7b4)](this));this['dataUnsubscribers'][_0x51fbd2(0x525)](_0x575e72[_0x51fbd2(0x3bf)](),_0x210422);}[_0x14177f(0x771)](_0x547b2e){const _0x29b8c7=_0x14177f;this['dataUnsubscribers']['get'](_0x547b2e[_0x29b8c7(0x3bf)]())?.(),this[_0x29b8c7(0x4f1)][_0x29b8c7(0x131)](_0x547b2e['getLabel']());}[_0x14177f(0x64c)](){const _0x340162=_0x14177f;return[_0x23d754['ContentType'][_0x340162(0x968)],_0x23d754[_0x340162(0x565)][_0x340162(0x8a1)],_0x23d754[_0x340162(0x565)]['ObjectStore'],_0x23d754[_0x340162(0x565)][_0x340162(0x1a9)],_0x23d754['ContentType'][_0x340162(0x875)],_0x23d754[_0x340162(0x565)][_0x340162(0x7f8)],_0x23d754[_0x340162(0x565)][_0x340162(0x3b4)],_0x23d754[_0x340162(0x565)]['ExternalStorage']];}[_0x14177f(0x19d)](_0x426c11){const _0x218f17=_0x14177f;if(!0x1===_0x426c11[_0x218f17(0x88f)]){if(_0x426c11[_0x218f17(0x28a)]||!_0x426c11[_0x218f17(0x62c)]||0x1!==_0x426c11[_0x218f17(0x62c)][_0x218f17(0x5b7)])throw new _0x209e12(_0x209e12[_0x218f17(0x805)][_0x218f17(0x540)],{'message':_0x218f17(0x612),'localId':this[_0x218f17(0x554)]});if(!this[_0x218f17(0x133)](_0x426c11[_0x218f17(0x62c)][0x0]))throw new _0x2f2ea2(_0x218f17(0x31c));}const _0x4f97ef=_0x426c11[_0x218f17(0x9f3)]??[];try{const {filteredDestinationIds:_0x2421a2,extendedRecipients:_0x16932e}=this[_0x218f17(0x812)](_0x426c11,_0x4f97ef);_0x426c11[_0x218f17(0x62c)]=_0x2421a2,_0x426c11[_0x218f17(0x9f3)]=_0x16932e;}catch(_0xfe7f8a){if(_0xfe7f8a instanceof _0x2f2ea2)return void _0x1734f6[_0x218f17(0x2b0)](_0x39fe10['Connection'],'CrewdleConnectionGroup',_0x218f17(0x7b0),_0x426c11,_0xfe7f8a[_0x218f17(0x84a)]);}const _0x3f5bfd=this[_0x218f17(0x6cf)](_0x426c11);this[_0x218f17(0x621)](_0x426c11,_0x3f5bfd),_0x426c11[_0x218f17(0x28a)]=_0x3f5bfd;const _0x1ea61e=this[_0x218f17(0x6b2)](_0x426c11,_0x4f97ef);for(const _0x5c20d4 of _0x1ea61e){const _0x5f2e18=this[_0x218f17(0x666)][_0x218f17(0x9ba)](_0x5c20d4[_0x218f17(0x6a3)]());if(!_0x5f2e18)throw new _0x209e12(_0x209e12[_0x218f17(0x805)][_0x218f17(0x5f5)],{'message':_0x218f17(0x29c),'localId':this[_0x218f17(0x554)],'remoteId':_0x5c20d4[_0x218f17(0x6a3)](),'data':_0x426c11});_0x5f2e18[_0x218f17(0x993)](_0x426c11);}}[_0x14177f(0x6a3)](){return'';}[_0x14177f(0x1a0)](){const _0x5d6558=_0x14177f;return this[_0x5d6558(0x554)];}[_0x14177f(0x16a)](_0x413143){const _0x49a336=_0x14177f;return this[_0x49a336(0x14c)]['subscribe'](_0x413143);}[_0x14177f(0x812)](_0x4da623,_0x5b4bbf){const _0x21c3b6=_0x14177f,_0x125a8f={'filteredDestinationIds':_0x4da623[_0x21c3b6(0x62c)],'extendedRecipients':_0x4da623[_0x21c3b6(0x9f3)]};if(!_0x4da623[_0x21c3b6(0x28a)])return _0x125a8f;const _0x210549=Array[_0x21c3b6(0x80f)](this[_0x21c3b6(0x7ec)][_0x21c3b6(0x770)]())[_0x21c3b6(0x31d)](_0x1eb72c=>_0x1eb72c['getConnectionType']()===_0x910ac9[_0x21c3b6(0x30d)]||_0x1eb72c[_0x21c3b6(0x133)]())[_0x21c3b6(0x265)](_0x24fc0b=>_0x24fc0b[_0x21c3b6(0x6a3)]());if(_0x210549[_0x21c3b6(0x50f)]((_0x408ee7,_0xc5c80e)=>_0x408ee7&&_0x4da623[_0x21c3b6(0x9f3)][_0x21c3b6(0x775)](_0xc5c80e),!0x0))throw new _0x2f2ea2(_0x21c3b6(0x422));if(_0x4da623[_0x21c3b6(0x62c)]){const _0x293f9e=_0x4da623[_0x21c3b6(0x62c)][_0x21c3b6(0x31d)](_0x572196=>_0x572196!==this['localId']&&!_0x4da623[_0x21c3b6(0x9f3)]['includes'](_0x572196));if(0x0===_0x293f9e['length'])throw new _0x2f2ea2(_0x21c3b6(0x620));_0x125a8f[_0x21c3b6(0x5e4)]=_0x293f9e;}return _0x125a8f['extendedRecipients']=[...new Set([..._0x5b4bbf,..._0x210549,this[_0x21c3b6(0x554)]])],_0x125a8f;}[_0x14177f(0x621)](_0x43becf,_0x3a85a6=!0x1){const _0xa94089=_0x14177f;if(0x0===_0x43becf['topicLabel']&&!_0x10e9d7(_0x43becf,this[_0xa94089(0x554)])&&_0x43becf[_0xa94089(0x28a)]){const _0x5c0825=_0x1f2cdb(_0x43becf,this[_0xa94089(0x554)]);_0x1734f6[_0xa94089(0x55f)](_0x39fe10[_0xa94089(0x974)],_0x43becf[_0xa94089(0x56b)]+_0xa94089(0x7d9)+_0x3a85a6+')\x20'+_0x5c0825,_0x43becf,_0x3a85a6);}}[_0x14177f(0x6cf)](_0x54b622){const _0x433401=_0x14177f;if(_0x54b622[_0x433401(0x62c)]&&_0x54b622[_0x433401(0x28a)]){const _0x406134=Array[_0x433401(0x80f)](this['connections'][_0x433401(0x770)]())[_0x433401(0x31d)](_0x4403ff=>_0x4403ff[_0x433401(0x6e5)]()===_0x910ac9[_0x433401(0x30d)]||_0x4403ff[_0x433401(0x133)]())[_0x433401(0x265)](_0x4837f3=>_0x4837f3['getRemoteId']());return!_0x54b622[_0x433401(0x62c)][_0x433401(0x50f)]((_0x199aa5,_0x54a68f)=>_0x199aa5&&_0x406134[_0x433401(0x775)](_0x54a68f),!0x0);}return _0x54b622[_0x433401(0x28a)]??!0x1;}[_0x14177f(0x6b2)](_0x5812cc,_0x49d28c){const _0x865911=_0x14177f;if(_0x5812cc[_0x865911(0x28a)]&&_0x5812cc[_0x865911(0x62c)]){const _0x518859=Array['from'](this[_0x865911(0x7ec)]['keys']())[_0x865911(0x31d)](_0x4b4f87=>_0x4b4f87[_0x865911(0x6e5)]()===_0x910ac9[_0x865911(0x30d)]||_0x4b4f87[_0x865911(0x133)]())[_0x865911(0x265)](_0x1ac703=>_0x1ac703[_0x865911(0x6a3)]()),_0x5a8c93=new Set(),_0x225d03=_0x5812cc[_0x865911(0x54b)]===this['localId']?0x3:0x1;return _0x5812cc[_0x865911(0x62c)][_0x865911(0x918)](_0x425647=>{const _0x203467=_0x865911,_0x52bbfe=this[_0x203467(0x29d)]['getClosestNodes'](_0x518859,_0x425647);let _0x407777=0x0,_0x44eee0=0x0;_0x52bbfe[_0x203467(0x918)](_0x18cb27=>{const _0x407cdc=_0x203467;if(_0x407777>=_0x225d03)return;const _0x420939=Array['from'](this['connections'][_0x407cdc(0x770)]())['find'](_0x510115=>_0x510115[_0x407cdc(0x6a3)]()===_0x18cb27);if(_0x420939){if(_0x420939[_0x407cdc(0x6e5)]()===_0x910ac9[_0x407cdc(0x30d)]&&_0x44eee0>0x0)return void(_0x44eee0-=0x1);_0x5a8c93[_0x407cdc(0x1cd)](_0x420939),_0x420939[_0x407cdc(0x6e5)]()===_0x910ac9['Optimization']&&(_0x44eee0+=0x1),_0x407777+=0x1;}});}),Array[_0x865911(0x80f)](_0x5a8c93);}return Array[_0x865911(0x80f)](this[_0x865911(0x7ec)][_0x865911(0x770)]())['filter'](_0x29dcc9=>{const _0xd68021=_0x865911;return _0x688f75=_0x29dcc9[_0xd68021(0x6a3)](),!_0x49d28c[_0xd68021(0x775)](_0x688f75)&&(_0xeceb21(_0x5812cc,_0x688f75)||_0x5812cc[_0xd68021(0x28a)])&&(!_0x5812cc[_0xd68021(0x28a)]||_0x29dcc9['isConnected']()||_0x29dcc9[_0xd68021(0x6e5)]()===_0x910ac9[_0xd68021(0x30d)]);var _0x688f75;});}}class _0x17d874{[_0x14177f(0x554)];[_0x14177f(0x5b3)];[_0x14177f(0x7ec)]=new Map();[_0x14177f(0x60b)];constructor(_0x181022,_0x233b2d){const _0x2002f7=_0x14177f;this[_0x2002f7(0x554)]=_0x181022,this[_0x2002f7(0x5b3)]=_0x233b2d;}[_0x14177f(0x9b6)](){}[_0x14177f(0x19d)](_0x435fe7){const _0x5f437d=_0x14177f;for(const _0x408ea7 of this['connections'][_0x5f437d(0x770)]())try{return void _0x408ea7['send']({'retry':!0x1,..._0x435fe7});}catch(_0x3be566){_0x3be566 instanceof _0x2f2ea2||_0x1734f6[_0x5f437d(0x2b0)](_0x39fe10[_0x5f437d(0x2b8)],'send\x20error\x20on\x20'+_0x408ea7,_0x3be566,_0x435fe7);}_0x1734f6[_0x5f437d(0x2b0)](_0x39fe10[_0x5f437d(0x2b8)],'No\x20connections\x20available\x20to\x20send\x20message');}['addConnection'](_0x10f740){const _0x2b1a50=_0x14177f,_0x35f6b2=_0x10f740[_0x2b1a50(0x16a)](_0x2f0ee4=>{const _0x44cbf9=_0x2b1a50;this[_0x44cbf9(0x5b3)][_0x44cbf9(0x198)](_0x2f0ee4[_0x44cbf9(0x56b)])||0x0===_0x2f0ee4[_0x44cbf9(0x16e)]&&(this[_0x44cbf9(0x5b3)][_0x44cbf9(0x4be)](_0x2f0ee4[_0x44cbf9(0x56b)]),_0xeceb21(_0x2f0ee4,this[_0x44cbf9(0x554)])&&this[_0x44cbf9(0x60b)]?.[_0x44cbf9(0x95d)](_0x2f0ee4));});this[_0x2b1a50(0x7ec)][_0x2b1a50(0x525)](_0x10f740,_0x35f6b2);}[_0x14177f(0x6bd)](_0x2fd1a6){const _0x4003ba=_0x14177f;this[_0x4003ba(0x7ec)][_0x4003ba(0x9ba)](_0x2fd1a6)?.(),this[_0x4003ba(0x7ec)][_0x4003ba(0x131)](_0x2fd1a6);}[_0x14177f(0x1a0)](){const _0x5ab624=_0x14177f;return this[_0x5ab624(0x554)];}[_0x14177f(0x6a3)](){return'';}['getSupportedContentTypes'](){const _0x58099b=_0x14177f;return[_0x23d754['ContentType'][_0x58099b(0x968)]];}[_0x14177f(0x133)](){const _0x4535ad=_0x14177f;throw new Error(_0x4535ad(0xa04));}[_0x14177f(0x8d0)](_0x1c29f6){const _0x537cbc=_0x14177f;this[_0x537cbc(0x60b)]=_0x1c29f6;}[_0x14177f(0x7b5)](){const _0x1c1cc7=_0x14177f;delete this[_0x1c1cc7(0x60b)];}}class _0x33ea61{[_0x14177f(0x692)]=new Map();[_0x14177f(0x2b5)];constructor(){const _0x90bb59=_0x14177f;this[_0x90bb59(0x2b5)]=_0x3f17ec[_0x90bb59(0x2ef)](()=>{const _0x5270b9=_0x90bb59;for(const [_0x2ab785,_0x4bc9c7]of this[_0x5270b9(0x692)]['entries']())Date[_0x5270b9(0x5bc)]()-_0x4bc9c7>0x124f80&&this['buffer'][_0x5270b9(0x131)](_0x2ab785);},0x1d4c0);}[_0x14177f(0x9b6)](){const _0x1cd9ce=_0x14177f;this[_0x1cd9ce(0x2b5)]();}[_0x14177f(0x4be)](_0x3d8f8e){const _0x34434f=_0x14177f;this[_0x34434f(0x692)][_0x34434f(0x525)](_0x3d8f8e,Date['now']());}[_0x14177f(0x198)](_0x309812){const _0x57d3a8=_0x14177f;return this[_0x57d3a8(0x692)]['has'](_0x309812);}}class _0xc06c7e{[_0x14177f(0x9af)];[_0x14177f(0x45d)];[_0x14177f(0x8db)];['options'];[_0x14177f(0x7ec)]=new Map();[_0x14177f(0x129)];[_0x14177f(0x194)];['signalingServer'];[_0x14177f(0x5b3)];constructor(_0x2cf64f,_0x1bba47,_0x23bc5d,_0x2a1d3f,_0x56a914){const _0x793aa3=_0x14177f;this[_0x793aa3(0x9af)]=_0x2cf64f,this[_0x793aa3(0x45d)]=_0x1bba47,this[_0x793aa3(0x8db)]=_0x2a1d3f,this[_0x793aa3(0x96b)]=_0x56a914,this[_0x793aa3(0x5b3)]=new _0x33ea61(),this['connectionGroup']=new _0x64ceeb(this[_0x793aa3(0x9af)]['localNode'][_0x793aa3(0x519)](),this[_0x793aa3(0x5b3)],_0x23bc5d),this[_0x793aa3(0x31b)]=new _0x6852ea(this[_0x793aa3(0x9af)]['vendorId'],this['configs']['clusterId'],this[_0x793aa3(0x9af)]['localNode'],_0x793aa3(0x5bf),this['authService']),this['connectionPool']=new _0x17d874(this[_0x793aa3(0x9af)][_0x793aa3(0x845)][_0x793aa3(0x519)](),this[_0x793aa3(0x5b3)]),this['connectionPool'][_0x793aa3(0x7d8)](this[_0x793aa3(0x194)]),this['connectionPool'][_0x793aa3(0x7d8)](this[_0x793aa3(0x31b)]),this[_0x793aa3(0x9af)]['mediator'][_0x793aa3(0x300)](this[_0x793aa3(0x129)]);}[_0x14177f(0x9b6)](){const _0x13c92c=_0x14177f;this[_0x13c92c(0x5b3)][_0x13c92c(0x9b6)](),this[_0x13c92c(0x7ec)]['forEach']((_0x2c418b,_0x3c83ef)=>this[_0x13c92c(0x5ea)](_0x3c83ef)),this[_0x13c92c(0x9af)]['mediator']['unregisterSystemSource'](this[_0x13c92c(0x129)]),this[_0x13c92c(0x129)][_0x13c92c(0x6bd)](this[_0x13c92c(0x31b)]),this[_0x13c92c(0x129)][_0x13c92c(0x6bd)](this['connectionGroup']),this[_0x13c92c(0x129)][_0x13c92c(0x9b6)](),this[_0x13c92c(0x31b)][_0x13c92c(0x9b6)](),this['connectionGroup'][_0x13c92c(0x9b6)]();}async[_0x14177f(0x3d4)](){const _0x17f565=_0x14177f;await this[_0x17f565(0x31b)][_0x17f565(0x7fa)]();}async[_0x14177f(0x8a8)](_0x24f5b1,_0x2a4025=_0x910ac9[_0x14177f(0x30d)]){const _0x7747a8=_0x14177f;if(this[_0x7747a8(0x7ec)]['has'](_0x24f5b1)){if(this['connections'][_0x7747a8(0x9ba)](_0x24f5b1)?.['getConnectionType']()===_0x910ac9[_0x7747a8(0x225)]&&_0x2a4025===_0x910ac9['Core'])return void this[_0x7747a8(0x7ec)][_0x7747a8(0x9ba)](_0x24f5b1)?.[_0x7747a8(0x5d6)](_0x910ac9[_0x7747a8(0x30d)]);throw new _0x209e12(_0x209e12['codes'][_0x7747a8(0x441)],{'localId':this[_0x7747a8(0x9af)][_0x7747a8(0x845)][_0x7747a8(0x519)](),'remoteId':_0x24f5b1});}const _0xc84d74=new _0x1dcfce(this[_0x7747a8(0x9af)][_0x7747a8(0x463)],this[_0x7747a8(0x9af)][_0x7747a8(0x845)],_0x24f5b1,this[_0x7747a8(0x8db)],_0x2a4025,this[_0x7747a8(0x96b)][_0x7747a8(0x755)],this[_0x7747a8(0x96b)][_0x7747a8(0x2e4)],this[_0x7747a8(0x96b)][_0x7747a8(0x7e5)]);this[_0x7747a8(0x7ec)]['set'](_0x24f5b1,_0xc84d74),this[_0x7747a8(0x194)][_0x7747a8(0x7d8)](_0xc84d74),this[_0x7747a8(0x9af)]['mediator'][_0x7747a8(0x300)](_0xc84d74),this['configs'][_0x7747a8(0x47f)][_0x7747a8(0x2dc)](_0x24f5b1),await _0xc84d74[_0x7747a8(0x7fa)]();}[_0x14177f(0x137)](){const _0x1b1f0c=_0x14177f;return this[_0x1b1f0c(0x194)];}['getConnection'](_0x280e27){const _0x6760bf=_0x14177f;if(!this[_0x6760bf(0x7ec)][_0x6760bf(0x85c)](_0x280e27))throw new _0x209e12(_0x209e12[_0x6760bf(0x805)][_0x6760bf(0x978)],{'localId':this[_0x6760bf(0x9af)][_0x6760bf(0x845)][_0x6760bf(0x519)](),'remoteId':_0x280e27});return this[_0x6760bf(0x7ec)]['get'](_0x280e27);}['getConnections'](_0x49decc){const _0x387831=_0x14177f,_0x454a47=Array['from'](this[_0x387831(0x7ec)]['values']());return _0x49decc?_0x454a47['filter'](_0x49decc):_0x454a47;}async[_0x14177f(0x1ff)](_0x498d2e){const _0x41cbe5=_0x14177f,_0x51ae06=this[_0x41cbe5(0x7ec)][_0x41cbe5(0x9ba)](_0x498d2e);_0x51ae06&&_0x51ae06[_0x41cbe5(0x133)]()&&await _0x51ae06[_0x41cbe5(0x1ff)]();}[_0x14177f(0x8fd)](_0x2af404){const _0x593094=_0x14177f;if(_0x2af404[_0x593094(0x722)]!==_0x1252cb[_0x593094(0x6ae)]||_0x2af404[_0x593094(0x28a)])try{this[_0x593094(0x194)][_0x593094(0x19d)](_0x2af404);}catch(_0x74c5c3){if(_0x74c5c3 instanceof _0x2f2ea2)return;throw _0x74c5c3;}else this[_0x593094(0x129)][_0x593094(0x19d)](_0x2af404);}async['handlePeerConnectionSystemEvents'](_0x3436d7){const _0x3dd3ad=_0x14177f;switch(_0x3436d7['content'][_0x3dd3ad(0x162)]){case _0x22b6b7[_0x3dd3ad(0x909)]:case _0x22b6b7[_0x3dd3ad(0x318)]:case _0x22b6b7[_0x3dd3ad(0x703)]:return;}if(!_0x3436d7['destinationIds']||0x1!==_0x3436d7[_0x3dd3ad(0x62c)]['length'])throw new _0x209e12(_0x209e12[_0x3dd3ad(0x805)][_0x3dd3ad(0x2f9)],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x3436d7});if(_0x3436d7['destinationIds'][0x0]!==this[_0x3dd3ad(0x9af)]['localNode'][_0x3dd3ad(0x519)]())throw new _0x209e12(_0x209e12['codes'][_0x3dd3ad(0x2f9)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x3436d7});if(!this[_0x3dd3ad(0x7ec)][_0x3dd3ad(0x85c)](_0x3436d7['sourceId'])){let _0x21111c=_0x910ac9['Core'];if(!(this[_0x3dd3ad(0xa22)](_0x3436d7[_0x3dd3ad(0x4cc)])||this[_0x3dd3ad(0x6c3)](_0x3436d7[_0x3dd3ad(0x4cc)])||this[_0x3dd3ad(0x514)](_0x3436d7['content'])))return;_0x21111c=_0x3436d7[_0x3dd3ad(0x4cc)][_0x3dd3ad(0x8ab)],await this[_0x3dd3ad(0x8a8)](_0x3436d7['sourceId'],_0x21111c);}const _0xa922a9=this[_0x3dd3ad(0x7ec)][_0x3dd3ad(0x9ba)](_0x3436d7['sourceId']);await _0xa922a9['handlePeerConnectionSystemEvents'](_0x3436d7);}[_0x14177f(0x8bb)](_0x178e0a){const _0x22dfcb=_0x14177f;if(_0x178e0a[_0x22dfcb(0x4cc)][_0x22dfcb(0x162)]===_0x4246b1[_0x22dfcb(0x9d7)]){if(_0x178e0a[_0x22dfcb(0x4cc)]['targetId']===this[_0x22dfcb(0x9af)][_0x22dfcb(0x845)][_0x22dfcb(0x519)]())return void this[_0x22dfcb(0x7ec)]['forEach'](_0x50e1d1=>_0x50e1d1[_0x22dfcb(0x8bb)](_0x178e0a));this[_0x22dfcb(0x7ec)][_0x22dfcb(0x9ba)](_0x178e0a[_0x22dfcb(0x4cc)][_0x22dfcb(0x652)])?.[_0x22dfcb(0x8bb)](_0x178e0a);}}['handleNodeSystemEvents']({content:_0x2ed1f1}){const _0x51e897=_0x14177f;_0x2ed1f1[_0x51e897(0x162)]===_0x52a3af[_0x51e897(0x86f)]&&this['closeConnection'](_0x2ed1f1['id']);}[_0x14177f(0x953)](){const _0x2bf80f=_0x14177f,_0x539be2=Array[_0x2bf80f(0x80f)](this['connections']['values']())['reduce']((_0x4d98f7,_0x257fc4)=>_0x4d98f7+_0x257fc4[_0x2bf80f(0x2e7)](),0x0);return _0x539be2<_0x258233?Promise[_0x2bf80f(0xa50)](_0x539be2):new Promise(_0x321ee0=>{const _0x213362=setInterval(()=>{const _0x4d5bc7=a0_0x50bd,_0x4cdfe1=Array[_0x4d5bc7(0x80f)](this['connections'][_0x4d5bc7(0x774)]())[_0x4d5bc7(0x50f)]((_0x2f624a,_0x817648)=>_0x2f624a+_0x817648[_0x4d5bc7(0x2e7)](),0x0);_0x4cdfe1<_0x258233&&(clearInterval(_0x213362),_0x321ee0(_0x4cdfe1));},0x3e8);});}['hasBufferedData'](){const _0x21afdb=_0x14177f;for(const _0x233779 of this[_0x21afdb(0x7ec)][_0x21afdb(0x774)]())if(_0x233779[_0x21afdb(0x92a)]()>0x0||_0x233779['calculateArrayBufferSize']()>0x0)return!0x0;return!0x1;}['closeConnection'](_0x2a867d){const _0x335bba=_0x14177f,_0x3fd846=this['connections'][_0x335bba(0x9ba)](_0x2a867d);_0x3fd846&&(this[_0x335bba(0x9af)][_0x335bba(0x47f)][_0x335bba(0x945)](_0x2a867d),this['configs'][_0x335bba(0x47f)]['unregisterSystemSource'](_0x3fd846),_0x3fd846 instanceof _0x1dcfce&&this[_0x335bba(0x194)][_0x335bba(0x6bd)](_0x3fd846),_0x3fd846[_0x335bba(0x9b6)](),this[_0x335bba(0x7ec)][_0x335bba(0x131)](_0x2a867d));}[_0x14177f(0xa22)](_0x19545f){const _0xeb5ed9=_0x14177f;return _0x19545f[_0xeb5ed9(0x162)]===_0x22b6b7[_0xeb5ed9(0x591)];}[_0x14177f(0x514)](_0x44b3e9){const _0x52df88=_0x14177f;return _0x44b3e9[_0x52df88(0x162)]===_0x22b6b7[_0x52df88(0x43c)];}[_0x14177f(0x6c3)](_0x153000){const _0xf74dce=_0x14177f;return _0x153000['type']===_0x22b6b7[_0xf74dce(0x508)];}}!function(_0xbf242f){const _0x1ddd3c=_0x14177f;_0xbf242f[_0xbf242f['SubscribeMediaStream']=0x0]='SubscribeMediaStream',_0xbf242f[_0xbf242f[_0x1ddd3c(0x8d4)]=0x1]='UpdateMediaStream',_0xbf242f[_0xbf242f[_0x1ddd3c(0x478)]=0x2]=_0x1ddd3c(0x478),_0xbf242f[_0xbf242f[_0x1ddd3c(0x19f)]=0x3]=_0x1ddd3c(0x19f),_0xbf242f[_0xbf242f['RestartNeedMediaStream']=0x4]='RestartNeedMediaStream',_0xbf242f[_0xbf242f['CanProvideMediaStream']=0x5]=_0x1ddd3c(0x929),_0xbf242f[_0xbf242f['CannotProvideMediaStream']=0x6]='CannotProvideMediaStream',_0xbf242f[_0xbf242f[_0x1ddd3c(0x4b8)]=0x7]='MediaStreamUnavailable';}(_0x3d0691||(_0x3d0691={}));class _0x385216 extends _0x27b15e{['localNode'];[_0x14177f(0x463)];[_0x14177f(0x857)];['connectorConstructor'];[_0x14177f(0x10c)];['reads']=0x0;[_0x14177f(0x27f)];[_0x14177f(0x40b)]=_0x26518c();[_0x14177f(0x44d)]=new Map();[_0x14177f(0x665)];constructor(_0x9592b7,_0xc12186,_0x4590dc,_0x20fd42,_0x49fe21){const _0x4be649=_0x14177f;if('string'!=typeof _0xc12186)throw new _0x3b8aa0(_0x1a76df[_0x4be649(0x800)],_0x4be649(0x917));super(_0x9592b7,_0xc12186),this[_0x4be649(0x845)]=_0x9592b7,this['clusterId']=_0x4590dc,this[_0x4be649(0x857)]=_0x20fd42,this[_0x4be649(0x93a)]=_0x49fe21,this['sendStats']();}[_0x14177f(0x5a1)](){const _0x24e20d=_0x14177f;this['changesUnsubscriber']?.(),this['listenerUnsubscribers'][_0x24e20d(0x918)](_0x1cfb95=>_0x1cfb95()),clearTimeout(this['debounceStats']),delete this[_0x24e20d(0x10c)],super[_0x24e20d(0x5a1)]();}[_0x14177f(0x140)](){const _0x4e422c=_0x14177f;this[_0x4e422c(0x926)]();}[_0x14177f(0x9b6)](){const _0xb54540=_0x14177f;this[_0xb54540(0x60b)][_0xb54540(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0xb54540(0x4ee)],'content':{'type':_0x2c4847['CloseExternalStorageConnection'],'label':this[_0xb54540(0x322)]}});}['getContentType'](){const _0x584476=_0x14177f;return _0x23d754['ContentType'][_0x584476(0x6d1)];}async['get'](_0x445955){const _0x4190b0=_0x14177f;if(!this['connector'])throw new _0x3b8aa0(_0x1a76df[_0x4190b0(0x23f)],_0x4190b0(0x44b));_0x1734f6[_0x4190b0(0x814)](_0x711184['ExternalStorage'],{'type':'get','label':this[_0x4190b0(0x322)],'nodeId':this[_0x4190b0(0x845)][_0x4190b0(0x519)](),'nodeType':this[_0x4190b0(0x845)]['type'],'clusterId':this['clusterId'],'path':_0x445955}),this[_0x4190b0(0x8a3)]+=0x1,this[_0x4190b0(0x926)]();try{return await this[_0x4190b0(0x27f)][_0x4190b0(0x9ba)](_0x445955);}catch(_0x3ce649){throw new _0x3b8aa0(_0x1a76df['ExternalStorageInvalidPath'],_0x4190b0(0x98e)+_0x445955);}}async[_0x14177f(0x820)](_0x159ebb,_0xbd2426){const _0x58c405=_0x14177f;if(!this[_0x58c405(0x27f)])throw new _0x3b8aa0(_0x1a76df[_0x58c405(0x23f)],_0x58c405(0x7e2));const {recursive:_0x59d16f=!0x1}=_0xbd2426??{};_0x1734f6['logServiceEvent'](_0x711184[_0x58c405(0x6d1)],{'type':_0x58c405(0x820),'label':this[_0x58c405(0x322)],'nodeId':this[_0x58c405(0x845)][_0x58c405(0x519)](),'nodeType':this['localNode'][_0x58c405(0x162)],'clusterId':this[_0x58c405(0x463)],'path':_0x159ebb}),this[_0x58c405(0x8a3)]+=0x1,this[_0x58c405(0x926)]();try{return await this['connector'][_0x58c405(0x820)](_0x159ebb,_0x59d16f);}catch(_0x11fb8e){throw new _0x3b8aa0(_0x1a76df[_0x58c405(0x324)],_0x58c405(0x117)+_0x159ebb);}}[_0x14177f(0x1f2)](_0x172358,_0xa3a5d0){const _0x317495=_0x14177f;if(this['listenerUnsubscribers'][_0x317495(0x85c)](_0x172358))throw new _0x3b8aa0(_0x1a76df[_0x317495(0x112)],'Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed');this[_0x317495(0x44d)][_0x317495(0x525)](_0x172358,this[_0x317495(0x40b)][_0x317495(0x1f2)](_0xa3a5d0));}[_0x14177f(0x9a3)](_0x35bf59){const _0x2ab981=_0x14177f;this['listenerUnsubscribers'][_0x2ab981(0x9ba)](_0x35bf59)?.(),this['listenerUnsubscribers'][_0x2ab981(0x131)](_0x35bf59);}async[_0x14177f(0x54e)](){const _0x48980e=_0x14177f,_0x341d5f=(await(0x0,_0x47d1e0[_0x48980e(0x262)])((0x0,_0x47d1e0['doc'])(_0x4ce864[_0x48980e(0x76b)](),_0x48980e(0xa05)+this['vendorId']+'/resources/external-storage/items/'+this[_0x48980e(0x322)])))[_0x48980e(0x84f)]();if(!_0x341d5f)throw new _0x3b8aa0(_0x1a76df['ExternalStorageConnectionDoesNotExist'],_0x48980e(0x22b)+this[_0x48980e(0x322)]);const {site:_0x57f984,drive:_0x516658}=_0x341d5f,_0x3f45ce=(await(0x0,_0x10463b['httpsCallable'])(_0x4ce864[_0x48980e(0x3e1)](),_0x48980e(0x753))({'storageId':this['label']}))[_0x48980e(0x84f)][_0x48980e(0xa4b)];this[_0x48980e(0x27f)]=new this[(_0x48980e(0x93a))](_0x57f984['id'],_0x516658['id'],_0x3f45ce,async()=>(await(0x0,_0x10463b['httpsCallable'])(_0x4ce864['getFunctions'](),_0x48980e(0x43a))({'storageId':this[_0x48980e(0x322)]}))[_0x48980e(0x84f)]['accessToken']),this[_0x48980e(0x726)]();}[_0x14177f(0x926)](){const _0x2b4e93=_0x14177f;this[_0x2b4e93(0x10c)]&&clearTimeout(this[_0x2b4e93(0x10c)]),this[_0x2b4e93(0x10c)]=setTimeout(async()=>{const _0x8f0945=_0x2b4e93;delete this[_0x8f0945(0x10c)],this[_0x8f0945(0x60b)][_0x8f0945(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x8f0945(0x4ee)],'content':{'type':_0x2c4847[_0x8f0945(0x46f)],'label':this[_0x8f0945(0x322)],'stats':{'timestamp':Date[_0x8f0945(0x5bc)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x8f0945(0x8a3)],'prompts':0x0,'tokens':0x0}}});},_0x1fe904);}async[_0x14177f(0x726)](){const _0x417d69=_0x14177f;await this[_0x417d69(0x27f)]?.[_0x417d69(0x94d)](),this[_0x417d69(0x665)]=_0x3f17ec[_0x417d69(0x2ef)](async()=>{const _0x441bc5=_0x417d69;try{if(!this[_0x441bc5(0x27f)])return;const _0x339138=await this['connector'][_0x441bc5(0x94d)]();for(const _0x302fb4 of _0x339138)this[_0x441bc5(0x40b)]['publish'](_0x302fb4);}catch(_0xc24a45){}},0x493e0);}}const _0x305b16=require('rxjs');class _0x58cf15 extends _0x27b15e{[_0x14177f(0x29d)];[_0x14177f(0x7ea)]=new Map();['jobObservers']=new Map();['jobBids']=new Map();[_0x14177f(0x2b5)];constructor(_0x27a1c8,_0x1f2597,_0x3101c5){const _0x5d4756=_0x14177f;super(_0x27a1c8,_0x1f2597),this[_0x5d4756(0x29d)]=_0x3101c5;}[_0x14177f(0x62d)](){const _0x224224=_0x14177f;return _0x23d754[_0x224224(0x565)][_0x224224(0x875)];}[_0x14177f(0x54e)](){const _0x40b742=_0x14177f;this[_0x40b742(0x2b5)]=this[_0x40b742(0x16a)]((_0x15fda5,_0x576e32)=>{const _0xcc1c39=_0x40b742;if(_0x1734f6[_0xcc1c39(0x2b0)](_0x39fe10['Jobs'],_0xcc1c39(0x836),_0x15fda5,_0x576e32,this[_0xcc1c39(0x29d)][_0xcc1c39(0x9cc)]()),!(_0x576e32 instanceof File)){if(!_0x576e32)throw new _0x209e12(_0x209e12[_0xcc1c39(0x805)][_0xcc1c39(0x2d4)]);return this['isBidResponse'](_0x576e32)?this[_0xcc1c39(0x57a)](_0x15fda5,_0x576e32['id'],_0x576e32):this[_0xcc1c39(0x5ad)](_0x576e32)?(_0x1734f6[_0xcc1c39(0x2b0)](_0x39fe10[_0xcc1c39(0x5fb)],'Job\x20'+_0x576e32['id']+_0xcc1c39(0x597),_0x576e32['result']),void this[_0xcc1c39(0x46d)](_0x576e32['id'],_0x576e32)):this[_0xcc1c39(0x4b2)](_0x576e32)?(_0x1734f6[_0xcc1c39(0x2b0)](_0x39fe10[_0xcc1c39(0x5fb)],_0xcc1c39(0x9c3)+_0x576e32['id']+_0xcc1c39(0x931),_0x576e32[_0xcc1c39(0x9f0)]),void this[_0xcc1c39(0x17a)](_0x576e32['id'],_0x576e32)):void(this[_0xcc1c39(0x1a3)](_0x576e32)&&this['failJob'](_0x576e32['id'],_0x576e32[_0xcc1c39(0x84a)]));}});}[_0x14177f(0x140)](){const _0x1e6207=_0x14177f;this['clear'](),this[_0x1e6207(0x54e)]();}[_0x14177f(0x5a1)](){const _0x25b74f=_0x14177f;this[_0x25b74f(0x12e)](),super[_0x25b74f(0x5a1)]();}[_0x14177f(0x12e)](){const _0x491521=_0x14177f;this[_0x491521(0x7ea)][_0x491521(0x12e)](),this[_0x491521(0x2b5)]&&this[_0x491521(0x2b5)]();}[_0x14177f(0x9b6)](){const _0x3734d0=_0x14177f;this[_0x3734d0(0x60b)]?.[_0x3734d0(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x3734d0(0x4ee)],'content':{'type':_0x2c4847[_0x3734d0(0x1cf)],'label':this[_0x3734d0(0x322)]}});}async[_0x14177f(0x891)](_0x585b17){const _0x4db54d=_0x14177f,{id:_0x11e5e2,parameters:_0x503ade,jobType:_0x3c1bd4}=_0x585b17,_0x58db92={'id':_0x11e5e2,'jobType':_0x3c1bd4,'parameters':_0x503ade,'status':_0x23d754[_0x4db54d(0x4c1)]['Pending'],'created':new Date(),'updated':new Date()};if(this[_0x4db54d(0x7ea)]['has'](_0x58db92['id']))throw new _0x3b8aa0(_0x1a76df[_0x4db54d(0x799)],_0x4db54d(0x6b3)+_0x58db92['id']+'\x20already\x20exists.');_0x58db92[_0x4db54d(0x7a9)]=new Date(),_0x58db92[_0x4db54d(0x942)]=new Date();const _0x22a592=new _0x305b16[(_0x4db54d(0x496))]();this[_0x4db54d(0x7ea)][_0x4db54d(0x525)](_0x58db92['id'],_0x58db92),this['jobObservers']['set'](_0x58db92['id'],_0x22a592);try{const _0x5a4906={'id':_0x58db92['id'],'jobPhase':_0x39b79e[_0x4db54d(0x650)],'jobType':_0x58db92['jobType']},_0x2c5c4f=0x3;let _0x202f91=0x0;const _0x36cbe=async()=>{const _0x3cb780=_0x4db54d;_0x202f91+=0x1;try{_0x1734f6[_0x3cb780(0x2b0)](_0x39fe10[_0x3cb780(0x5fb)],_0x3cb780(0x9c3)+_0x58db92['id']+_0x3cb780(0x810)+_0x202f91+'.',this[_0x3cb780(0x29d)][_0x3cb780(0x9cc)]()),await this['send'](_0x5a4906),_0x58db92[_0x3cb780(0x942)]=new Date(),this['jobs'][_0x3cb780(0x525)](_0x58db92['id'],_0x58db92),this['startBidResponseHandling'](_0x58db92['id']);}catch(_0x2c9c55){_0x202f91<_0x2c5c4f?(_0x1734f6[_0x3cb780(0x8c3)]('Attempt\x20'+_0x202f91+_0x3cb780(0x1b8)+_0x58db92['id']+_0x3cb780(0x323),{'nodeId':this[_0x3cb780(0x1c7)]['getId'](),'nodeType':this['owner'][_0x3cb780(0x162)],'data':{'job':_0x58db92,'attempts':_0x202f91,'maxRetries':_0x2c5c4f}}),setTimeout(_0x36cbe,0x3e8)):(_0x58db92[_0x3cb780(0x32b)]=_0x23d754[_0x3cb780(0x4c1)]['Failed'],_0x58db92[_0x3cb780(0x942)]=new Date(),this[_0x3cb780(0x7ea)]['set'](_0x58db92['id'],_0x58db92),_0x1734f6[_0x3cb780(0x70e)]('Failed\x20to\x20send\x20job\x20'+_0x58db92['id']+_0x3cb780(0x9b8)+_0x2c5c4f+_0x3cb780(0x920),{'nodeId':this['owner'][_0x3cb780(0x519)](),'nodeType':this[_0x3cb780(0x1c7)]['type'],'data':{'job':_0x58db92,'attempts':_0x202f91,'maxRetries':_0x2c5c4f,'error':_0x2c9c55}}));}};_0x36cbe();const {id:_0x53d30b}=_0x58db92;this['logEvent'](_0x4db54d(0x9c3)+_0x58db92['id']+_0x4db54d(0x75c),{'jobId':_0x53d30b}),_0x58db92[_0x4db54d(0x942)]=new Date();}catch(_0x271ed9){_0x58db92[_0x4db54d(0x32b)]=_0x23d754[_0x4db54d(0x4c1)][_0x4db54d(0x6ec)],_0x1734f6[_0x4db54d(0x70e)](_0x4db54d(0x372)+_0x58db92['id']+':',{'nodeId':this['owner'][_0x4db54d(0x519)](),'nodeType':this[_0x4db54d(0x1c7)]['type'],'data':{'job':_0x58db92,'error':_0x271ed9}});}return _0x22a592['asObservable']();}[_0x14177f(0x2c1)](_0x40f758){const _0x1c7483=_0x14177f,_0x206a23=this[_0x1c7483(0x7ea)][_0x1c7483(0x9ba)](_0x40f758);if(!_0x206a23)throw new _0x3b8aa0(_0x1a76df[_0x1c7483(0x3a5)],'Job\x20with\x20id\x20'+_0x40f758+_0x1c7483(0xa4c));return{'id':_0x206a23['id'],'jobType':_0x206a23[_0x1c7483(0x541)],'status':_0x206a23[_0x1c7483(0x32b)],'parameters':_0x206a23['parameters']};}[_0x14177f(0x846)](){const _0x2945cb=_0x14177f;return Array[_0x2945cb(0x80f)](this[_0x2945cb(0x7ea)][_0x2945cb(0x774)]())[_0x2945cb(0x265)](_0x45b88d=>this[_0x2945cb(0x2c1)](_0x45b88d['id']));}async['updateJob'](_0x367c25,_0x3d4723){const _0x1ca468=_0x14177f,_0x316733=this[_0x1ca468(0x7ea)][_0x1ca468(0x9ba)](_0x367c25);if(!_0x316733)throw new _0x3b8aa0(_0x1a76df['JobDispatcherJobNotFound'],_0x1ca468(0x6b3)+_0x367c25+_0x1ca468(0xa4c));_0x316733[_0x1ca468(0x338)]=_0x3d4723,_0x316733['updated']=new Date(),this[_0x1ca468(0x7ea)][_0x1ca468(0x525)](_0x367c25,_0x316733);}async[_0x14177f(0x66a)](_0x503883){const _0x44d21b=_0x14177f;if(!this[_0x44d21b(0x7ea)][_0x44d21b(0x131)](_0x503883))throw new _0x3b8aa0(_0x1a76df[_0x44d21b(0x3a5)],_0x44d21b(0x6b3)+_0x503883+_0x44d21b(0xa4c));const _0x5dabbd=this[_0x44d21b(0x553)]['get'](_0x503883);if(!_0x5dabbd)throw new _0x209e12(_0x209e12[_0x44d21b(0x805)][_0x44d21b(0x44a)]);_0x5dabbd['complete'](),this[_0x44d21b(0x553)][_0x44d21b(0x131)](_0x503883),_0x1734f6[_0x44d21b(0x2b0)](_0x39fe10['Jobs'],_0x44d21b(0x9c3)+_0x503883+_0x44d21b(0x80b));}[_0x14177f(0x57a)](_0x5d06a5,_0x2f4b46,_0x453e07){const _0x4304a2=_0x14177f,_0x1369bd=this[_0x4304a2(0x38b)]['get'](_0x2f4b46)??new Map();_0x1369bd[_0x4304a2(0x525)](_0x5d06a5,[_0x453e07,Date[_0x4304a2(0x5bc)]()]),this['jobBids']['set'](_0x2f4b46,_0x1369bd),this[_0x4304a2(0x517)](_0x2f4b46);}[_0x14177f(0x10d)](_0x599c02){const _0x1f79b8=_0x14177f,_0x3bfe27=this[_0x1f79b8(0x7ea)][_0x1f79b8(0x9ba)](_0x599c02);if(!_0x3bfe27)throw new _0x209e12(_0x209e12['codes'][_0x1f79b8(0x3a5)]);const _0x178d5c=setTimeout(()=>this[_0x1f79b8(0x517)](_0x599c02,!0x0),0xbb8);_0x3bfe27[_0x1f79b8(0x2b2)]=_0x178d5c,this['jobs']['set'](_0x3bfe27['id'],_0x3bfe27);}['evaluateBidsAndAttributeJob'](_0x1d4e7e,_0x2b6d59=!0x1){const _0xd87778=_0x14177f,_0x3f4e80=this[_0xd87778(0x29d)]['getRemoteNodes'](),_0x16883f=Array[_0xd87778(0x80f)](_0x3f4e80['values']())['filter'](_0xa2dc5e=>_0xa2dc5e[_0xd87778(0x162)]===_0x23d754[_0xd87778(0x9f6)][_0xd87778(0x4d8)]),_0x36ab6e=this[_0xd87778(0x38b)][_0xd87778(0x9ba)](_0x1d4e7e)??new Map();if(!_0x2b6d59&&(!_0x36ab6e||_0x36ab6e[_0xd87778(0x11a)]<_0x16883f[_0xd87778(0x5b7)]))return;const _0x5a4b20=this[_0xd87778(0x7ea)][_0xd87778(0x9ba)](_0x1d4e7e);if(!_0x5a4b20)throw new _0x209e12(_0x209e12[_0xd87778(0x805)][_0xd87778(0x3a5)]);if(clearTimeout(_0x5a4b20[_0xd87778(0x2b2)]),_0x1734f6['log'](_0x39fe10[_0xd87778(0x5fb)],_0xd87778(0x9c3)+_0x5a4b20['id']+'\x20received\x20responses:',_0x36ab6e,this[_0xd87778(0x38b)]),!_0x36ab6e||0x0===_0x36ab6e[_0xd87778(0x11a)]){_0x5a4b20['status']=_0x23d754[_0xd87778(0x4c1)][_0xd87778(0x6ec)],_0x5a4b20['updated']=new Date(),_0x1734f6[_0xd87778(0x70e)](_0xd87778(0x9c3)+_0x5a4b20['id']+_0xd87778(0x4a3),{'nodeId':this[_0xd87778(0x1c7)]['getId'](),'nodeType':this[_0xd87778(0x1c7)][_0xd87778(0x162)],'data':{'job':_0x5a4b20,'responses':_0x36ab6e}});const _0x60c018=this[_0xd87778(0x553)][_0xd87778(0x9ba)](_0x1d4e7e);if(!_0x60c018)throw new _0x209e12(_0x209e12['codes'][_0xd87778(0x44a)]);const _0x583f15=_0xd87778(0x171),_0x1e3a8b={'id':_0x5a4b20['id'],'status':_0x5a4b20[_0xd87778(0x32b)],'message':_0x583f15};return _0x60c018[_0xd87778(0xa00)](_0x1e3a8b),_0x60c018[_0xd87778(0x594)](),this[_0xd87778(0x7ea)][_0xd87778(0x525)](_0x5a4b20['id'],_0x5a4b20),void this[_0xd87778(0x38b)]['delete'](_0x1d4e7e);}const {nodeId:_0x119aeb,response:_0x3ae807}=this[_0xd87778(0x108)](_0x5a4b20['id'],_0x36ab6e);_0x5a4b20[_0xd87778(0x32b)]=_0x23d754[_0xd87778(0x4c1)][_0xd87778(0x488)],_0x5a4b20['updated']=new Date(),_0x1734f6[_0xd87778(0x2b0)](_0x39fe10[_0xd87778(0x5fb)],_0xd87778(0x9c3)+_0x5a4b20['id']+_0xd87778(0x28e)+_0x119aeb+_0xd87778(0x6eb),_0x3ae807);const _0xf41bb5={'id':_0x5a4b20['id'],'jobType':_0x5a4b20[_0xd87778(0x541)],'jobPhase':_0x39b79e[_0xd87778(0x76e)],'parameters':_0x5a4b20[_0xd87778(0x338)]};this['send'](_0xf41bb5,[_0x119aeb]),this[_0xd87778(0x7ea)][_0xd87778(0x525)](_0x5a4b20['id'],_0x5a4b20),this['jobBids'][_0xd87778(0x131)](_0x1d4e7e);}[_0x14177f(0x108)](_0x11b7c5,_0x25142e){const _0x145c5a=_0x14177f;let _0x5e40e3;const _0x2deb62=Array[_0x145c5a(0x80f)](_0x25142e['entries']())[_0x145c5a(0x31d)](([,[_0x18bad2]])=>_0x18bad2[_0x145c5a(0x6ab)]);if(_0x5e40e3=_0x2deb62[_0x145c5a(0x5b7)]>0x0?Array['from'](_0x25142e[_0x145c5a(0x623)]())[_0x145c5a(0x119)]((_0x398d69,_0x4f9c7a)=>_0x4f9c7a[0x1][0x0][_0x145c5a(0x39d)]-_0x398d69[0x1][0x0][_0x145c5a(0x39d)]):Array['from'](_0x25142e[_0x145c5a(0x623)]())[_0x145c5a(0x119)]((_0x42bcde,_0x12e8e2)=>_0x42bcde[0x1][0x0][_0x145c5a(0x1e4)]-_0x12e8e2[0x1][0x0]['queueLength']),0x1===_0x5e40e3[_0x145c5a(0x5b7)])return{'nodeId':_0x5e40e3[0x0][0x0],'response':_0x5e40e3[0x0][0x1][0x0]};let _0x166b47;if(_0x166b47=_0x2deb62[_0x145c5a(0x5b7)]>0x0?(_0x47b366=>{const _0x23c615=_0x145c5a,_0x6b5cd3=_0x47b366[0x0][0x1][0x0][_0x23c615(0x39d)];return _0x47b366[_0x23c615(0x31d)](([,[_0x3e11a5]])=>_0x3e11a5['bid']===_0x6b5cd3);})(_0x5e40e3):(_0x1547b1=>{const _0x50dfa6=_0x145c5a,_0x4b0779=_0x1547b1[0x0][0x1][0x0][_0x50dfa6(0x1e4)];return _0x1547b1['filter'](([,[_0x34cac5]])=>_0x34cac5[_0x50dfa6(0x1e4)]===_0x4b0779);})(_0x5e40e3),0x1===_0x166b47[_0x145c5a(0x5b7)])return{'nodeId':_0x166b47[0x0][0x0],'response':_0x166b47[0x0][0x1][0x0]};const _0x5e1a4d=this[_0x145c5a(0x7ea)][_0x145c5a(0x9ba)](_0x11b7c5);if(!_0x5e1a4d)throw new _0x209e12(_0x209e12['codes'][_0x145c5a(0x3a5)]);const _0x504688=_0x5e1a4d['created'][_0x145c5a(0x103)](),_0x1078be=_0x166b47[_0x145c5a(0x265)](([_0x1d84f6,[,_0x2afce]])=>({'nodeId':_0x1d84f6,'rtt':_0x2afce-_0x504688})),_0x3b6a4d=Math[_0x145c5a(0x9f1)](..._0x1078be['map'](({rtt:_0x54a73b})=>_0x54a73b)),_0x5cb34e=_0x1078be[_0x145c5a(0x3ee)](({rtt:_0x50d272})=>_0x50d272===_0x3b6a4d),[,[_0x298c46]]=_0x166b47[_0x145c5a(0x3ee)](([_0x3758e3])=>_0x3758e3===_0x5cb34e[_0x145c5a(0x8ee)]);return{'nodeId':_0x5cb34e['nodeId'],'response':_0x298c46};}[_0x14177f(0x46d)](_0x5d5f74,_0x331ce5){const _0x457416=_0x14177f,_0x557cce=this[_0x457416(0x7ea)][_0x457416(0x9ba)](_0x5d5f74);if(!_0x557cce)throw new _0x209e12(_0x209e12[_0x457416(0x805)][_0x457416(0x3a5)]);const _0x424608=this[_0x457416(0x553)][_0x457416(0x9ba)](_0x5d5f74);if(!_0x424608)throw new _0x209e12(_0x209e12[_0x457416(0x805)][_0x457416(0x44a)]);const _0x3b8753={'id':_0x557cce['id'],'status':_0x23d754[_0x457416(0x4c1)]['Partial'],'result':_0x331ce5[_0x457416(0x9f0)]};_0x424608['next'](_0x3b8753);}[_0x14177f(0x17a)](_0xca221d,_0x42a9cb){const _0x4f5766=_0x14177f,_0x7684cd=this[_0x4f5766(0x7ea)][_0x4f5766(0x9ba)](_0xca221d);if(!_0x7684cd)throw new _0x209e12(_0x209e12['codes'][_0x4f5766(0x3a5)]);const _0x2a5368=this['jobObservers'][_0x4f5766(0x9ba)](_0xca221d);if(!_0x2a5368)throw new _0x209e12(_0x209e12[_0x4f5766(0x805)]['JobDispatcherObserverNotFound']);_0x7684cd[_0x4f5766(0x32b)]=_0x23d754[_0x4f5766(0x4c1)]['Completed'];const _0x4e3319={'id':_0x7684cd['id'],'status':_0x7684cd['status'],'result':_0x42a9cb[_0x4f5766(0x9f0)]};_0x2a5368['next'](_0x4e3319),_0x2a5368[_0x4f5766(0x594)](),this[_0x4f5766(0x553)][_0x4f5766(0x131)](_0xca221d),this['logEvent']('Job\x20'+_0xca221d+_0x4f5766(0x3e5),{'jobId':_0xca221d});}['failJob'](_0x3be299,_0xb1de69){const _0x18d726=_0x14177f,_0x18d097=this['jobs']['get'](_0x3be299);if(!_0x18d097)throw new _0x209e12(_0x209e12[_0x18d726(0x805)][_0x18d726(0x3a5)]);const _0x5b273e=this[_0x18d726(0x553)][_0x18d726(0x9ba)](_0x3be299);if(!_0x5b273e)throw new _0x209e12(_0x209e12[_0x18d726(0x805)]['JobDispatcherObserverNotFound']);_0x18d097[_0x18d726(0x32b)]=_0x23d754[_0x18d726(0x4c1)][_0x18d726(0x6ec)];const _0x1d1077={'id':_0x18d097['id'],'status':_0x18d097['status'],'message':_0xb1de69};_0x5b273e[_0x18d726(0xa00)](_0x1d1077),_0x5b273e[_0x18d726(0x594)](),this[_0x18d726(0x553)][_0x18d726(0x131)](_0x3be299),this['logEvent'](_0x18d726(0x9c3)+_0x3be299+'\x20failed.',{'jobId':_0x3be299});}[_0x14177f(0x4eb)](_0x14926d,{jobId:_0x171a77}){const _0x4b069b=_0x14177f,_0x2e1e67={'jobId':_0x171a77,'mistletIds':Array[_0x4b069b(0x80f)](this[_0x4b069b(0x29d)]['getRemoteNodes']()['values']())[_0x4b069b(0x31d)](_0x185a85=>_0x185a85[_0x4b069b(0x162)]===_0x23d754[_0x4b069b(0x9f6)]['Agent'])[_0x4b069b(0x265)](_0x1837c=>_0x1837c[_0x4b069b(0x519)]())};_0x1734f6[_0x4b069b(0x4eb)](_0x14926d,{'nodeId':this[_0x4b069b(0x48b)](),'nodeType':this['owner'][_0x4b069b(0x162)],'data':_0x2e1e67}),_0x1734f6[_0x4b069b(0x2b0)](_0x39fe10['Jobs'],_0x14926d,_0x2e1e67);}['isBidResponse'](_0x3a056a){const {jobPhase:_0x39a605,available:_0x45cc08,bid:_0x585769}=_0x3a056a;return _0x39a605===_0x39b79e['Bid']&&void 0x0!==_0x45cc08&&void 0x0!==_0x585769;}[_0x14177f(0x5ad)](_0xb356cf){const {jobPhase:_0x50f77e,result:_0x30d20a}=_0xb356cf;return _0x50f77e===_0x39b79e['PartialResult']&&void 0x0!==_0x30d20a;}[_0x14177f(0x4b2)](_0x53d079){const {jobPhase:_0x4333a7,result:_0x59954c}=_0x53d079;return _0x4333a7===_0x39b79e['Result']&&void 0x0!==_0x59954c;}['isFailedResponse'](_0x278b2a){const _0x3b33d9=_0x14177f,{jobPhase:_0x40cb57,message:_0x53e7be}=_0x278b2a;return _0x40cb57===_0x39b79e[_0x3b33d9(0x6ec)]&&void 0x0!==_0x53e7be&&'string'==typeof _0x53e7be;}}var _0x4d0b33,_0x354414,_0x11dac6,_0x323a5b;!function(_0x22f482){const _0x8c421b=_0x14177f;_0x22f482[_0x8c421b(0x5d1)]=_0x8c421b(0x529),_0x22f482[_0x8c421b(0x6d1)]=_0x8c421b(0x24b);}(_0x4d0b33||(_0x4d0b33={})),function(_0x2849e2){const _0x266f05=_0x14177f;_0x2849e2['Agent']=_0x266f05(0x5e0),_0x2849e2[_0x266f05(0x8da)]='agent-skill',_0x2849e2[_0x266f05(0x4e9)]=_0x266f05(0x67d),_0x2849e2[_0x266f05(0x661)]=_0x266f05(0x421),_0x2849e2[_0x266f05(0x5d2)]='knowledge',_0x2849e2[_0x266f05(0x268)]=_0x266f05(0x798),_0x2849e2[_0x266f05(0x7e1)]=_0x266f05(0x9d2),_0x2849e2[_0x266f05(0x4f3)]=_0x266f05(0x3bc),_0x2849e2[_0x266f05(0x39b)]='search',_0x2849e2['AiSearch']=_0x266f05(0x252),_0x2849e2['WebScraper']=_0x266f05(0x9c7),_0x2849e2['WebScraperRaw']='web-scraper-raw',_0x2849e2[_0x266f05(0x75d)]=_0x266f05(0x4ae),_0x2849e2['ChunkSplitter']=_0x266f05(0x9c2),_0x2849e2[_0x266f05(0x40e)]=_0x266f05(0x556),_0x2849e2[_0x266f05(0x1e9)]=_0x266f05(0x1e8),_0x2849e2[_0x266f05(0x9cd)]=_0x266f05(0x272);}(_0x354414||(_0x354414={})),function(_0x3ac8c5){const _0x51414a=_0x14177f;_0x3ac8c5['ObjectStorageUpload']=_0x51414a(0x430),_0x3ac8c5[_0x51414a(0x33d)]=_0x51414a(0x249),_0x3ac8c5[_0x51414a(0x9cd)]=_0x51414a(0x272),_0x3ac8c5[_0x51414a(0x47d)]=_0x51414a(0x9c2),_0x3ac8c5['WordSplitter']=_0x51414a(0x1e8),_0x3ac8c5[_0x51414a(0x40e)]=_0x51414a(0x556),_0x3ac8c5[_0x51414a(0xa18)]=_0x51414a(0x5c4),_0x3ac8c5[_0x51414a(0xa0d)]=_0x51414a(0x215),_0x3ac8c5[_0x51414a(0x33f)]=_0x51414a(0x856),_0x3ac8c5[_0x51414a(0x169)]=_0x51414a(0x3b3),_0x3ac8c5[_0x51414a(0x4d8)]=_0x51414a(0x5e0),_0x3ac8c5['ObjectStorageBucket']=_0x51414a(0x529),_0x3ac8c5[_0x51414a(0x1a9)]=_0x51414a(0x73e),_0x3ac8c5[_0x51414a(0x7f8)]=_0x51414a(0x959),_0x3ac8c5[_0x51414a(0x3b4)]='graph-database',_0x3ac8c5['Prompt']=_0x51414a(0x798),_0x3ac8c5[_0x51414a(0x635)]='context';}(_0x11dac6||(_0x11dac6={})),function(_0x5dd788){const _0x1e026e=_0x14177f;_0x5dd788['File']='file',_0x5dd788['Text']=_0x1e026e(0x795),_0x5dd788[_0x1e026e(0x107)]='image',_0x5dd788[_0x1e026e(0x7dd)]='audio',_0x5dd788['Data']=_0x1e026e(0x84f),_0x5dd788[_0x1e026e(0x486)]=_0x1e026e(0x1dd),_0x5dd788[_0x1e026e(0x660)]=_0x1e026e(0x8ec),_0x5dd788['Relation']=_0x1e026e(0x852),_0x5dd788[_0x1e026e(0x39b)]='search',_0x5dd788['Index']=_0x1e026e(0x14a),_0x5dd788[_0x1e026e(0x5d2)]=_0x1e026e(0x923),_0x5dd788['Skill']=_0x1e026e(0x428),_0x5dd788[_0x1e026e(0x635)]=_0x1e026e(0x139),_0x5dd788[_0x1e026e(0xa36)]=_0x1e026e(0x77e);}(_0x323a5b||(_0x323a5b={}));class _0x502606{static [_0x14177f(0x15a)];constructor(){}static[_0x14177f(0x30a)](){const _0x4c4752=_0x14177f;return _0x502606[_0x4c4752(0x15a)]||(_0x502606[_0x4c4752(0x15a)]=new _0x502606()),_0x502606[_0x4c4752(0x15a)];}async[_0x14177f(0x915)](_0x497a54,_0x51b287){const _0x47674d=_0x14177f,_0x684383=await(0x0,_0x47d1e0[_0x47674d(0x262)])((0x0,_0x47d1e0[_0x47674d(0x595)])(_0x4ce864[_0x47674d(0x76b)](),'/developers/'+_0x497a54+_0x47674d(0x2ac)+_0x51b287)),_0x5c04bb=await this['getAgents'](_0x497a54),_0x100ac3=await this[_0x47674d(0x8b0)](_0x497a54),_0x14b655=await this[_0x47674d(0x524)](_0x497a54),_0x3e4c0e=await this[_0x47674d(0x9c4)](_0x497a54),_0x4d1b8e=await this[_0x47674d(0x6af)](_0x497a54);if(!_0x684383[_0x47674d(0x433)]())throw new _0x209e12(_0x209e12[_0x47674d(0x805)][_0x47674d(0x5be)]);return this[_0x47674d(0x93c)](_0x684383,_0x5c04bb,_0x100ac3,_0x14b655,_0x3e4c0e,_0x4d1b8e);}[_0x14177f(0x93c)](_0x45f98a,_0x487d19,_0x55c2e5,_0x135722,_0xd6d891,_0x5d3e3b){const _0x2cc199=_0x14177f,_0x52eee5=_0x45f98a[_0x2cc199(0x84f)]();if(!_0x52eee5)throw new _0x209e12(_0x209e12[_0x2cc199(0x805)][_0x2cc199(0x5be)]);const _0x513240=_0x52eee5[_0x2cc199(0x841)]&&_0x52eee5['versions']?_0x52eee5['versions'][_0x52eee5[_0x2cc199(0x841)]-0x1]:_0x52eee5,_0xb3514d=this[_0x2cc199(0x584)](_0x513240['blocks'],_0x487d19,_0x55c2e5,_0x135722,_0x5d3e3b);return{'id':_0x45f98a['id'],'modelsBucketId':_0x52eee5[_0x2cc199(0x99f)],'blocks':_0xb3514d,'models':this['getWorkflowModels'](_0xb3514d,_0xd6d891),'dataBucketIds':this[_0x2cc199(0x56d)](_0xb3514d),'externalStorageConnectionIds':this[_0x2cc199(0x398)](_0xb3514d)};}[_0x14177f(0x7f9)](_0x484b3b,_0x2951d9){const _0x2d344c=_0x14177f,_0x3470c5=new Set();for(const _0x2b23eb of _0x484b3b)if(_0x2b23eb[_0x2d344c(0x162)]!==_0x354414['Agent']&&_0x2b23eb[_0x2d344c(0x162)]!==_0x354414[_0x2d344c(0x8da)]||_0x3470c5[_0x2d344c(0x1cd)](_0x2b23eb[_0x2d344c(0xa4e)]),_0x2b23eb[_0x2d344c(0x162)]===_0x354414[_0x2d344c(0x5d2)]||_0x2b23eb['type']===_0x354414[_0x2d344c(0x661)]){for(const _0x2f387c of[..._0x2b23eb[_0x2d344c(0x42d)],..._0x2b23eb[_0x2d344c(0x6f3)]])_0x2f387c['type']===_0x11dac6[_0x2d344c(0x169)]&&_0x3470c5[_0x2d344c(0x1cd)](_0x2f387c['id']),_0x2f387c[_0x2d344c(0x162)]===_0x11dac6[_0x2d344c(0x4d8)]&&_0x3470c5[_0x2d344c(0x1cd)](_0x2f387c[_0x2d344c(0xa4e)]);}return Array[_0x2d344c(0x80f)](_0x3470c5)['map'](_0x564cc9=>{const _0x29390a=_0x2d344c,{id:_0x418abf,engineType:_0x5e55c3,taskType:_0x1a741b,knowledgeCutoffDate:_0x4ac9f4,inputType:_0x3c3909,outputType:_0x5b72a1,sourceUrl:_0xd7f0dd}=_0x2951d9[_0x29390a(0x3ee)](_0x3791fe=>_0x3791fe['id']===_0x564cc9);return{'id':_0x418abf,'engineType':_0x5e55c3,'taskType':_0x1a741b,'knowledgeCutoffDate':_0x4ac9f4,'inputType':_0x3c3909,'outputType':_0x5b72a1,'sourceUrl':_0xd7f0dd};});}[_0x14177f(0x56d)](_0x3176e6){const _0x43027b=_0x14177f,_0x461d3b=new Set();for(const _0x828bb1 of _0x3176e6)switch(_0x828bb1[_0x43027b(0x162)]){case _0x354414[_0x43027b(0x5d2)]:case _0x354414['DataCollection']:for(const _0x208ed5 of[..._0x828bb1[_0x43027b(0x42d)],..._0x828bb1[_0x43027b(0x6f3)]])_0x208ed5[_0x43027b(0x162)]===_0x11dac6[_0x43027b(0x976)]&&_0x461d3b[_0x43027b(0x1cd)](_0x208ed5['id']);}return Array[_0x43027b(0x80f)](_0x461d3b);}['getWorkflowExternalStorageConnections'](_0x54eff3){const _0xfecb3b=_0x14177f,_0x274901=new Set();for(const _0x33e655 of _0x54eff3)switch(_0x33e655[_0xfecb3b(0x162)]){case _0x354414['Knowledge']:case _0x354414[_0xfecb3b(0x661)]:for(const _0xcff5d0 of[..._0x33e655[_0xfecb3b(0x42d)],..._0x33e655['retrieveBlocks']])_0xcff5d0[_0xfecb3b(0x162)]===_0x11dac6[_0xfecb3b(0x33d)]&&_0x274901[_0xfecb3b(0x1cd)](_0xcff5d0['id']);}return Array[_0xfecb3b(0x80f)](_0x274901);}['parseWorkflowBlocks'](_0x2b3cea,_0x2aa5fc,_0x409c21,_0x938f2f,_0x3adbdd){const _0x37ef71=_0x14177f;return _0x2b3cea[_0x37ef71(0x265)](_0x391670=>{const _0x2bcade=_0x37ef71;switch(_0x391670[_0x2bcade(0x162)]){case _0x354414['Agent']:case _0x354414['AgentSkill']:const _0x1cd52b=_0x2aa5fc[_0x2bcade(0x3ee)](_0x16aa13=>_0x16aa13['id']===_0x391670['id']);if(!_0x1cd52b)throw new _0x209e12(_0x209e12[_0x2bcade(0x805)][_0x2bcade(0x7a5)],{'block':_0x391670});const _0x371f7e=_0x391670[_0x2bcade(0x5bb)]&&_0x1cd52b[_0x2bcade(0x21a)]?_0x1cd52b[_0x2bcade(0x21a)][_0x391670['version']-0x1]:_0x1cd52b;return{'type':_0x1cd52b[_0x2bcade(0x162)],'id':_0x1cd52b['id'],'uid':_0x391670['uid'],'name':_0x371f7e['name'],'description':_0x371f7e[_0x2bcade(0x8fb)],'instructions':_0x371f7e[_0x2bcade(0x6f6)],'contextOutputVariable':_0x371f7e['contextOutputVariable'],'contextInputVariable':_0x371f7e[_0x2bcade(0x77b)],'grammar':[_0x2bcade(0x65a),_0x2bcade(0x3a9),'json_arr'][_0x2bcade(0x775)](_0x371f7e[_0x2bcade(0x163)])?_0x371f7e[_0x2bcade(0x163)]:_0x3adbdd[_0x2bcade(0x3ee)](_0x21dfd6=>_0x21dfd6['id']===_0x371f7e[_0x2bcade(0x163)])[_0x2bcade(0x4cc)],'temperature':_0x371f7e[_0x2bcade(0x23b)],'maxTokens':_0x371f7e[_0x2bcade(0x970)],'modelId':_0x371f7e['modelId'],'links':_0x391670[_0x2bcade(0x81a)],'version':_0x391670['version']};case _0x354414[_0x2bcade(0x5d2)]:case _0x354414[_0x2bcade(0x661)]:const _0x2fe9f1=_0x409c21[_0x2bcade(0x3ee)](_0x3e9af0=>_0x3e9af0['id']===_0x391670['id']);if(!_0x2fe9f1)throw new _0x209e12(_0x209e12[_0x2bcade(0x805)][_0x2bcade(0x7a5)],{'block':_0x391670});const _0x25dd9f=_0x391670[_0x2bcade(0x5bb)]&&_0x2fe9f1[_0x2bcade(0x21a)]?_0x2fe9f1[_0x2bcade(0x21a)][_0x391670['version']-0x1]:_0x2fe9f1;return{'type':_0x391670[_0x2bcade(0x162)],'id':_0x2fe9f1['id'],'uid':_0x391670[_0x2bcade(0x222)],'name':_0x25dd9f['name'],'description':_0x25dd9f[_0x2bcade(0x8fb)],'ingestBlocks':this[_0x2bcade(0x7c9)](_0x25dd9f['ingestBlocks'],_0x2aa5fc),'retrieveBlocks':this[_0x2bcade(0x7c9)](_0x25dd9f[_0x2bcade(0x6f3)],_0x2aa5fc),'links':_0x391670[_0x2bcade(0x81a)],'version':_0x391670[_0x2bcade(0x5bb)]};case _0x354414[_0x2bcade(0x4e9)]:const _0x4f1277=_0x938f2f['find'](_0x1cbc7f=>_0x1cbc7f['id']===_0x391670['id']);if(!_0x4f1277)throw new _0x209e12(_0x209e12['codes'][_0x2bcade(0x7a5)],{'block':_0x391670});return{'type':_0x391670[_0x2bcade(0x162)],'id':_0x4f1277['id'],'uid':_0x391670[_0x2bcade(0x222)],'name':_0x4f1277[_0x2bcade(0x1a5)],'description':_0x4f1277[_0x2bcade(0x8fb)],'parameters':_0x4f1277['parameters'],'endpointUrl':_0x4f1277['endpointUrl'],'endpointMethod':_0x4f1277[_0x2bcade(0x721)],'headers':_0x4f1277[_0x2bcade(0x4c5)],'queryParameters':_0x4f1277[_0x2bcade(0x646)],'bodyParameters':_0x4f1277[_0x2bcade(0x350)],'contextOutputVariable':_0x4f1277[_0x2bcade(0x58e)],'waitAsync':_0x4f1277[_0x2bcade(0x73b)],'asyncEndpointUrl':_0x4f1277['asyncEndpointUrl'],'asyncEndpointMethod':_0x4f1277[_0x2bcade(0x911)],'asyncHeaders':_0x4f1277[_0x2bcade(0x1cc)],'links':_0x391670[_0x2bcade(0x81a)]};case _0x354414['Prompt']:case _0x354414[_0x2bcade(0x7e1)]:case _0x354414[_0x2bcade(0x4f3)]:case _0x354414[_0x2bcade(0x39b)]:case _0x354414[_0x2bcade(0xa2b)]:case _0x354414[_0x2bcade(0x89b)]:case _0x354414[_0x2bcade(0x473)]:case _0x354414[_0x2bcade(0x75d)]:case _0x354414[_0x2bcade(0x40e)]:case _0x354414[_0x2bcade(0x9cd)]:return{'type':_0x391670[_0x2bcade(0x162)],'id':_0x391670['id'],'uid':_0x391670[_0x2bcade(0x222)],'links':_0x391670[_0x2bcade(0x81a)]};case _0x354414[_0x2bcade(0x47d)]:case _0x354414[_0x2bcade(0x1e9)]:return{'type':_0x391670['type'],'id':_0x391670['id'],'uid':_0x391670['uid'],'links':_0x391670['links'],'attributes':_0x391670[_0x2bcade(0x910)]};default:throw new _0x209e12(_0x209e12[_0x2bcade(0x805)]['WorkflowInvalidBlockType'],{'block':_0x391670});}});}[_0x14177f(0x7c9)](_0x1ee1aa,_0x1ab6f3){return _0x1ee1aa['map'](_0x1b87df=>{const _0x331455=a0_0x50bd;switch(_0x1b87df[_0x331455(0x162)]){case _0x11dac6[_0x331455(0x4d8)]:const _0x38bd02=_0x1ab6f3[_0x331455(0x3ee)](_0x5f0060=>_0x5f0060['id']===_0x1b87df['id']);if(!_0x38bd02)throw new _0x209e12(_0x209e12[_0x331455(0x805)][_0x331455(0x7a5)],{'block':_0x1b87df});const _0x3a947f=_0x1b87df['version']&&_0x38bd02['versions']?_0x38bd02[_0x331455(0x21a)][_0x1b87df[_0x331455(0x5bb)]-0x1]:_0x38bd02;return{'type':_0x1b87df[_0x331455(0x162)],'id':_0x1b87df['id'],'uid':_0x1b87df[_0x331455(0x222)],'description':_0x3a947f[_0x331455(0x8fb)],'instructions':_0x3a947f[_0x331455(0x6f6)],'grammar':_0x3a947f[_0x331455(0x163)],'temperature':_0x3a947f[_0x331455(0x23b)],'maxTokens':_0x3a947f[_0x331455(0x970)],'modelId':_0x3a947f[_0x331455(0xa4e)],'links':_0x1b87df[_0x331455(0x81a)],'version':_0x1b87df['version']};case _0x11dac6['GraphDatabase']:case _0x11dac6[_0x331455(0x7f8)]:case _0x11dac6[_0x331455(0x1e9)]:case _0x11dac6[_0x331455(0x47d)]:case _0x11dac6['EntityExtractor']:case _0x11dac6['Reranker']:return{'type':_0x1b87df['type'],'id':_0x1b87df['id'],'uid':_0x1b87df[_0x331455(0x222)],'links':_0x1b87df[_0x331455(0x81a)],'attributes':_0x1b87df[_0x331455(0x910)]};case _0x11dac6[_0x331455(0x169)]:case _0x11dac6[_0x331455(0x574)]:case _0x11dac6['KeyValueDatabase']:case _0x11dac6[_0x331455(0xa18)]:case _0x11dac6['DocumentParser']:case _0x11dac6[_0x331455(0x40e)]:case _0x11dac6[_0x331455(0x976)]:case _0x11dac6['ExternalStorageUpload']:case _0x11dac6['Context']:case _0x11dac6[_0x331455(0x268)]:return{'type':_0x1b87df[_0x331455(0x162)],'id':_0x1b87df['id'],'uid':_0x1b87df[_0x331455(0x222)],'links':_0x1b87df['links']};default:throw new _0x209e12(_0x209e12['codes'][_0x331455(0x7a5)],{'block':_0x1b87df});}});}async[_0x14177f(0x48f)](_0x1f86d1){const _0x53ac63=_0x14177f;return(await(0x0,_0x47d1e0[_0x53ac63(0x1e5)])((0x0,_0x47d1e0[_0x53ac63(0x9c6)])(_0x4ce864['getFirestore'](),_0x53ac63(0xa05)+_0x1f86d1+_0x53ac63(0x562))))[_0x53ac63(0x521)][_0x53ac63(0x265)](_0x261d4a=>{const _0x1ccb93=_0x53ac63,_0x26f043=_0x261d4a[_0x1ccb93(0x84f)]();return{'type':_0x354414['Agent'],'id':_0x261d4a['id'],'name':_0x26f043[_0x1ccb93(0x1a5)],'description':_0x26f043[_0x1ccb93(0x8fb)],'instructions':_0x26f043[_0x1ccb93(0x6f6)],'contextOutputVariable':_0x26f043[_0x1ccb93(0x58e)],'contextInputVariable':_0x26f043[_0x1ccb93(0x77b)],'grammar':_0x26f043[_0x1ccb93(0x163)]??_0x1ccb93(0x65a),'temperature':_0x26f043[_0x1ccb93(0x23b)],'maxTokens':_0x26f043['maxTokens'],'modelId':_0x26f043[_0x1ccb93(0xa4e)],'versions':_0x26f043[_0x1ccb93(0x21a)]};});}async[_0x14177f(0x8b0)](_0x5df752){const _0x3b225d=_0x14177f;return(await(0x0,_0x47d1e0[_0x3b225d(0x1e5)])((0x0,_0x47d1e0[_0x3b225d(0x9c6)])(_0x4ce864[_0x3b225d(0x76b)](),_0x3b225d(0xa05)+_0x5df752+_0x3b225d(0x8d5))))[_0x3b225d(0x521)][_0x3b225d(0x265)](_0x5987c9=>{const _0x45cd00=_0x3b225d,_0x509619=_0x5987c9['data']();return{'type':_0x354414[_0x45cd00(0x661)],'id':_0x5987c9['id'],'name':_0x509619[_0x45cd00(0x1a5)],'description':_0x509619['description'],'ingestBlocks':_0x509619['ingestBlocks'],'retrieveBlocks':_0x509619[_0x45cd00(0x6f3)],'versions':_0x509619['versions']};});}async[_0x14177f(0x524)](_0x413759){const _0x1d0971=_0x14177f;return(await(0x0,_0x47d1e0['getDocs'])((0x0,_0x47d1e0[_0x1d0971(0x9c6)])(_0x4ce864[_0x1d0971(0x76b)](),_0x1d0971(0xa05)+_0x413759+_0x1d0971(0x750))))['docs'][_0x1d0971(0x265)](_0x3df81d=>{const _0x590b97=_0x1d0971,_0x105fee=_0x3df81d[_0x590b97(0x84f)]();return{'type':_0x354414[_0x590b97(0x4e9)],'id':_0x3df81d['id'],'name':_0x105fee[_0x590b97(0x1a5)],'description':_0x105fee['description'],'parameters':_0x105fee['parameters'],'endpointUrl':_0x105fee['endpointUrl'],'endpointMethod':_0x105fee[_0x590b97(0x721)],'headers':_0x105fee[_0x590b97(0x4c5)],'queryParameters':_0x105fee[_0x590b97(0x646)],'bodyParameters':_0x105fee['bodyParameters'],'contextOutputVariable':_0x105fee[_0x590b97(0x58e)],'waitAsync':_0x105fee[_0x590b97(0x73b)]??!0x1,'asyncEndpointUrl':_0x105fee['asyncEndpointUrl'],'asyncEndpointMethod':_0x105fee[_0x590b97(0x911)],'asyncHeaders':_0x105fee[_0x590b97(0x1cc)]};});}async[_0x14177f(0x6af)](_0x2026af){const _0x591bea=_0x14177f;return(await(0x0,_0x47d1e0[_0x591bea(0x1e5)])((0x0,_0x47d1e0['collection'])(_0x4ce864[_0x591bea(0x76b)](),_0x591bea(0xa05)+_0x2026af+_0x591bea(0x2bd))))['docs'][_0x591bea(0x265)](_0x3b4391=>{const _0x49b062=_0x591bea,_0x5b077d=_0x3b4391[_0x49b062(0x84f)]();return{'id':_0x3b4391['id'],'name':_0x5b077d[_0x49b062(0x1a5)],'description':_0x5b077d[_0x49b062(0x8fb)],'content':_0x5b077d[_0x49b062(0x4cc)]};});}async[_0x14177f(0x9c4)](_0x2264b5){const _0x2a2176=_0x14177f;return(await(0x0,_0x47d1e0['getDocs'])((0x0,_0x47d1e0[_0x2a2176(0x9c6)])(_0x4ce864[_0x2a2176(0x76b)](),_0x2a2176(0xa05)+_0x2264b5+'/resources/generative-ai-model/items')))[_0x2a2176(0x521)][_0x2a2176(0x265)](_0x29e2d5=>{const _0xbfcdd6=_0x2a2176,_0x1429b8=_0x29e2d5[_0xbfcdd6(0x84f)]();return{'id':_0x29e2d5['id'],'modelName':_0x1429b8[_0xbfcdd6(0x13e)],'engineType':_0x1429b8[_0xbfcdd6(0x482)],'taskType':_0x1429b8[_0xbfcdd6(0x6a5)],'knowledgeCutoffDate':_0x1429b8['knowledgeCutoffDate'],'inputType':_0x1429b8['inputType']??_0x23d754['GenerativeAIModelInputType'][_0xbfcdd6(0x32e)],'outputType':_0x1429b8[_0xbfcdd6(0x98b)]??_0x23d754[_0xbfcdd6(0x5ef)]['Text'],'sourceUrl':_0x1429b8['url']};});}}const _0x13c1fc=_0x502606['getInstance']();class _0x338c0d extends _0x58cf15{[_0x14177f(0x845)];[_0x14177f(0x857)];[_0x14177f(0x5df)]=0x0;[_0x14177f(0x66d)]=0x0;['debounceStats'];constructor(_0x2124ae,_0x500c29,_0x3b5b9e,_0x513105){const _0x3e5930=_0x14177f;super(_0x2124ae,_0x500c29,_0x513105),this['localNode']=_0x2124ae,this[_0x3e5930(0x857)]=_0x3b5b9e,this[_0x3e5930(0x926)]();}[_0x14177f(0x5a1)](){const _0x3ec28e=_0x14177f;this['debounceStats']&&(clearTimeout(this[_0x3ec28e(0x10c)]),delete this[_0x3ec28e(0x10c)]),super['destroy']();}['reset'](){const _0x5dce09=_0x14177f;this['prompts']=0x0,this['tokens']=0x0,this[_0x5dce09(0x926)](),super[_0x5dce09(0x140)]();}[_0x14177f(0x777)](_0x2923e4){const _0x9b678b=_0x14177f,_0x331131=_0x9b678b(0x827)+(0x0,_0x3fe08f['v4'])();switch(_0x2923e4[_0x9b678b(0x162)]){case _0x9b678b(0x798):let _0x4f7b41=!0x1;const _0x525eb0=()=>{const _0x308ca0=_0x9b678b;if(_0x4f7b41)throw new _0x209e12(_0x209e12['codes'][_0x308ca0(0x61d)]);_0x4f7b41=!0x0;},_0xcf0e59=()=>(_0x525eb0(),this[_0x9b678b(0x798)](_0x331131,_0x2923e4[_0x9b678b(0x798)],_0x2923e4[_0x9b678b(0x96b)])),_0xf65421=()=>(_0x525eb0(),this[_0x9b678b(0x68e)](_0x331131,_0x2923e4[_0x9b678b(0x798)],_0x2923e4[_0x9b678b(0x96b)]));return{'id':_0x331131,'prompt':_0x2923e4['prompt'],'options':_0x2923e4[_0x9b678b(0x96b)]??{'threadId':_0x9b678b(0x2b1)+(0x0,_0x3fe08f['v4'])()},'run':_0xcf0e59,'stream':_0xf65421};case'rate':let _0x8d738c=!0x1;const _0x3512eb=()=>{const _0x154f09=_0x9b678b;if(_0x8d738c)throw new _0x209e12(_0x209e12[_0x154f09(0x805)][_0x154f09(0x61d)]);_0x8d738c=!0x0;},_0x26da7e=()=>(_0x3512eb(),this[_0x9b678b(0x40f)](_0x331131,_0x2923e4[_0x9b678b(0x20d)],_0x2923e4[_0x9b678b(0x26b)],_0x2923e4[_0x9b678b(0x96b)]));if(!_0x2923e4[_0x9b678b(0x96b)]?.['threadId'])throw new _0x3b8aa0(_0x1a76df[_0x9b678b(0x833)],_0x9b678b(0x328));return{'id':_0x331131,'rating':_0x2923e4['rating'],'options':_0x2923e4[_0x9b678b(0x96b)]??{'threadId':'thread-'+(0x0,_0x3fe08f['v4'])()},'rate':_0x26da7e};case _0x9b678b(0x387):let _0x5563de=!0x1;const _0x4d3200=()=>{const _0x4eb20e=_0x9b678b;if(_0x5563de)throw new _0x209e12(_0x209e12['codes'][_0x4eb20e(0x61d)]);_0x5563de=!0x0;};return{'id':_0x331131,'objectStoreId':'','documentPath':_0x2923e4[_0x9b678b(0x72d)],'download':()=>(_0x4d3200(),this[_0x9b678b(0x2ad)](_0x331131,_0x2923e4['objectStoreId'],_0x2923e4[_0x9b678b(0x72d)]))};}}async['ratePrompt'](_0x2628c8){const _0x11f834=_0x14177f;return this[_0x11f834(0x777)](_0x2628c8)[_0x11f834(0xa40)]();}async['downloadDocument'](_0x47c33d){const _0x513390=_0x14177f,_0x2ddaf7={'type':_0x513390(0x387),'objectStoreId':'','documentPath':_0x47c33d};return this[_0x513390(0x777)](_0x2ddaf7)[_0x513390(0x837)]();}async[_0x14177f(0x40f)](_0x56c698,_0x1ab9eb,_0x37c67a,{threadId:_0x38e91f,feedback:_0x40f2b9=''}){const _0xc2a8ef=_0x14177f,_0x42e387={'type':_0xc2a8ef(0xa40),'jobId':_0x37c67a,'threadId':_0x38e91f,'rating':_0x1ab9eb,'feedback':_0x40f2b9},_0x1c2fe6=await this[_0xc2a8ef(0x5b8)](_0x56c698,_0x23d754['JobType'][_0xc2a8ef(0x875)],_0x42e387,{'threadId':_0x38e91f,'feedback':_0x40f2b9});return new Promise((_0x408912,_0x2bad68)=>{let _0x170688;const _0x10c016=_0x1c2fe6['subscribe']({'next':_0x357fdb=>{const _0x7e830b=a0_0x50bd;switch(_0x357fdb['status']){case _0x23d754[_0x7e830b(0x4c1)][_0x7e830b(0x39c)]:clearTimeout(_0x170688),_0x408912(_0x357fdb['result']),_0x10c016[_0x7e830b(0x9a3)]();break;case _0x23d754[_0x7e830b(0x4c1)][_0x7e830b(0x6ec)]:clearTimeout(_0x170688),_0x2bad68(new _0x209e12(_0x209e12[_0x7e830b(0x805)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x357fdb})),_0x10c016['unsubscribe']();}},'error':_0x2b1afe=>{const _0x467f51=a0_0x50bd;clearTimeout(_0x170688),_0x2bad68(new _0x209e12(_0x209e12[_0x467f51(0x805)][_0x467f51(0x8cb)],{'err':_0x2b1afe})),_0x10c016[_0x467f51(0x9a3)]();}});_0x170688=setTimeout(()=>{const _0x5c30ab=a0_0x50bd;_0x2bad68(new _0x209e12(_0x209e12['codes']['GenerativeAIContextJobTimeout'])),_0x10c016[_0x5c30ab(0x9a3)]();},_0x3104ad);});}async['internalDownloadDocument'](_0x41bb5f,_0x36b79f,_0x6813a9){const _0x3b4a38=_0x14177f,_0x219c8d={'type':_0x3b4a38(0x387),'objectStoreId':_0x36b79f,'documentPath':_0x6813a9,'threadId':_0x3b4a38(0x2b1)+(0x0,_0x3fe08f['v4'])()},_0x12a907=await this[_0x3b4a38(0x5b8)](_0x41bb5f,_0x23d754[_0x3b4a38(0x88e)][_0x3b4a38(0x875)],_0x219c8d);return new Promise((_0x33a5e8,_0x4dc0c1)=>{const _0x1bdc8a=_0x3b4a38;let _0x360c37;const _0x4ba4ab=_0x12a907[_0x1bdc8a(0x1f2)]({'next':_0x5bd3a0=>{const _0x4ccb00=_0x1bdc8a;switch(_0x5bd3a0[_0x4ccb00(0x32b)]){case _0x23d754[_0x4ccb00(0x4c1)][_0x4ccb00(0x39c)]:clearTimeout(_0x360c37),_0x33a5e8(_0x5bd3a0[_0x4ccb00(0x9f0)]),_0x4ba4ab['unsubscribe']();break;case _0x23d754[_0x4ccb00(0x4c1)][_0x4ccb00(0x6ec)]:clearTimeout(_0x360c37),_0x4dc0c1(new _0x209e12(_0x209e12[_0x4ccb00(0x805)][_0x4ccb00(0x8cb)],{'updatedJob':_0x5bd3a0})),_0x4ba4ab['unsubscribe']();}},'error':_0x49e923=>{const _0x11e203=_0x1bdc8a;clearTimeout(_0x360c37),_0x4dc0c1(new _0x209e12(_0x209e12[_0x11e203(0x805)]['GenerativeAIContextJobFailed'],{'err':_0x49e923})),_0x4ba4ab[_0x11e203(0x9a3)]();}});_0x360c37=setTimeout(()=>{const _0x420a05=_0x1bdc8a;_0x4dc0c1(new _0x209e12(_0x209e12[_0x420a05(0x805)][_0x420a05(0x8f0)])),_0x4ba4ab[_0x420a05(0x9a3)]();},_0x3104ad);});}async[_0x14177f(0x798)](_0x4e0ff4,_0x11ab21,_0x40c8a7){const _0x10c9fb=_0x14177f,_0x5987fd={'type':_0x10c9fb(0x798),'prompt':_0x11ab21,'threadId':_0x40c8a7?.[_0x10c9fb(0x3e4)]??_0x10c9fb(0x2b1)+(0x0,_0x3fe08f['v4'])()},_0x4e1891=await this[_0x10c9fb(0x5b8)](_0x4e0ff4,_0x23d754['JobType']['Job'],_0x5987fd,_0x40c8a7);return new Promise((_0x26542f,_0x134c7b)=>{const _0x37d35b=_0x10c9fb;let _0x21bdef;const _0x4b5476=_0x4e1891[_0x37d35b(0x1f2)]({'next':_0x40a6f0=>{const _0x16165e=_0x37d35b;switch(_0x40a6f0[_0x16165e(0x32b)]){case _0x23d754[_0x16165e(0x4c1)][_0x16165e(0x39c)]:if(_0x16165e(0x798)!==_0x40a6f0[_0x16165e(0x9f0)][_0x16165e(0x162)])return;const _0x34354b=_0x40a6f0['result'][_0x16165e(0x605)]??0x0;this[_0x16165e(0x814)](_0x11ab21,_0x34354b),clearTimeout(_0x21bdef),_0x26542f(_0x40a6f0[_0x16165e(0x9f0)]),_0x4b5476[_0x16165e(0x9a3)](),this[_0x16165e(0x5df)]+=0x1,this[_0x16165e(0x66d)]+=_0x34354b,this[_0x16165e(0x926)]();break;case _0x23d754['JobStatus'][_0x16165e(0x6ec)]:clearTimeout(_0x21bdef),_0x134c7b(new _0x209e12(_0x209e12[_0x16165e(0x805)][_0x16165e(0x8cb)],{'updatedJob':_0x40a6f0})),_0x4b5476['unsubscribe'](),this[_0x16165e(0x926)]();}},'error':_0x746c2f=>{const _0x273ddc=_0x37d35b;clearTimeout(_0x21bdef),_0x134c7b(new _0x209e12(_0x209e12['codes'][_0x273ddc(0x8cb)],{'err':_0x746c2f})),_0x4b5476[_0x273ddc(0x9a3)]();}});_0x21bdef=setTimeout(()=>{const _0x1fa73f=_0x37d35b;_0x134c7b(new _0x209e12(_0x209e12[_0x1fa73f(0x805)][_0x1fa73f(0x8f0)])),_0x4b5476[_0x1fa73f(0x9a3)]();},_0x3104ad);});}async*[_0x14177f(0x68e)](_0x4701c4,_0x5ae20c,_0x1a3b39){const _0x57e717=_0x14177f,_0x125bd9={'type':_0x57e717(0x798),'prompt':_0x5ae20c,'threadId':_0x1a3b39?.[_0x57e717(0x3e4)]??_0x57e717(0x2b1)+(0x0,_0x3fe08f['v4'])()},_0x1fffe7=await this[_0x57e717(0x5b8)](_0x4701c4,_0x23d754[_0x57e717(0x88e)][_0x57e717(0x3be)],_0x125bd9,_0x1a3b39);let _0x2efcd0,_0x5cac79,_0x5519d4=!0x1,_0x153d1b=0x0;const _0x30b6b7=[],_0x211086=new Map();let _0x2a04cd=null;const _0x167f83=()=>{_0x2a04cd&&(_0x2a04cd(),_0x2a04cd=null);},_0x5ba4d3=_0x20984e=>{const _0x1177b6=_0x57e717;_0x5519d4=!0x0,_0x167f83(),_0x42f475[_0x1177b6(0x9a3)](),_0x5cac79=_0x20984e;},_0x42f475=_0x1fffe7['subscribe']({'next':_0x912cbf=>{const _0x501346=_0x57e717;switch(_0x912cbf['status']){case _0x23d754[_0x501346(0x4c1)][_0x501346(0x3e6)]:if(_0x501346(0x798)!==_0x912cbf['result']['type'])return;if(_0x912cbf[_0x501346(0x9f0)]&&void 0x0!==_0x912cbf['result'][_0x501346(0x58d)]){if(void 0x0===_0x912cbf['result'][_0x501346(0x14a)])return void _0x5ba4d3(_0x209e12[_0x501346(0x805)][_0x501346(0x42a)]);_0x153d1b===_0x912cbf[_0x501346(0x9f0)][_0x501346(0x14a)]?(_0x30b6b7[_0x501346(0x993)](_0x912cbf['result']),_0x153d1b++,((()=>{const _0x59cf81=_0x501346;for(;_0x211086[_0x59cf81(0x85c)](_0x153d1b);)_0x30b6b7[_0x59cf81(0x993)](_0x211086['get'](_0x30b6b7[_0x59cf81(0x5b7)])),_0x211086['delete'](_0x30b6b7[_0x59cf81(0x5b7)]),_0x153d1b++;})()),_0x167f83(),_0x436f08()):_0x211086[_0x501346(0x525)](_0x912cbf['result'][_0x501346(0x14a)],_0x912cbf['result']);}break;case _0x23d754['JobStatus'][_0x501346(0x39c)]:if('prompt'!==_0x912cbf[_0x501346(0x9f0)][_0x501346(0x162)])return;const _0x1f6322=_0x912cbf[_0x501346(0x9f0)][_0x501346(0x605)]??0x0;this[_0x501346(0x814)](_0x5ae20c,_0x1f6322),clearTimeout(_0x2efcd0),_0x5ba4d3(),this[_0x501346(0x5df)]+=0x1,this['tokens']+=_0x1f6322,this[_0x501346(0x926)]();break;case _0x23d754['JobStatus']['Failed']:clearTimeout(_0x2efcd0),_0x5ba4d3(_0x209e12['codes']['GenerativeAIContextJobFailed']),this[_0x501346(0x926)]();}},'error':_0x4fa976=>{const _0x236db3=_0x57e717;clearTimeout(_0x2efcd0),_0x5ba4d3(_0x209e12[_0x236db3(0x805)]['GenerativeAIContextJobFailed']);}}),_0x52d7ab=()=>{const _0x298e64=_0x57e717;_0x5ba4d3(_0x209e12[_0x298e64(0x805)][_0x298e64(0x8f0)]);},_0x436f08=()=>{clearTimeout(_0x2efcd0),_0x2efcd0=setTimeout(_0x52d7ab,_0x3104ad);};for(_0x2efcd0=setTimeout(_0x52d7ab,_0x3104ad);!_0x5519d4||_0x30b6b7[_0x57e717(0x5b7)]>0x0;)_0x30b6b7[_0x57e717(0x5b7)]>0x0?yield _0x30b6b7[_0x57e717(0x239)]():await new Promise(_0xf6964=>_0x2a04cd=_0xf6964);if(_0x5cac79)throw _0x1734f6[_0x57e717(0x70e)](_0x57e717(0x8c9),{'nodeId':this[_0x57e717(0x845)][_0x57e717(0x519)](),'nodeType':this[_0x57e717(0x845)][_0x57e717(0x162)]}),new _0x209e12(_0x5cac79);}async[_0x14177f(0x424)](){const _0x518f50=_0x14177f;return(await _0x13c1fc[_0x518f50(0x915)](this['vendorId'],this[_0x518f50(0x322)]))['dataBucketIds'];}[_0x14177f(0x814)](_0x121f49,_0x564093){const _0x43b3b2=_0x14177f,_0x40895a=this[_0x43b3b2(0x322)],_0x5afb81=this[_0x43b3b2(0x48b)]();_0x1734f6[_0x43b3b2(0x814)](_0x711184['GenerativeAIContext'],{'topic':_0x40895a,'prompt':_0x121f49,'type':_0x43b3b2(0x798),'nodeId':_0x5afb81,'tokenCount':_0x564093});}async['getJobObservable'](_0x535267,_0x192ed8,_0x4b6c14,_0x25b7f0={}){const _0x1c47db=_0x14177f;let _0x2c0074;switch(_0x4b6c14['type']){case _0x1c47db(0x798):{const {threadId:_0x59e81d}=_0x25b7f0;_0x2c0074={'id':_0x535267,'jobType':_0x192ed8,'parameters':{..._0x25b7f0,'type':_0x1c47db(0x798),'prompt':_0x4b6c14['prompt'],'threadId':_0x59e81d},'status':_0x23d754[_0x1c47db(0x4c1)][_0x1c47db(0x71f)]};break;}case _0x1c47db(0xa40):{const {threadId:_0x4074a5}=_0x25b7f0;_0x2c0074={'id':_0x535267,'jobType':_0x192ed8,'parameters':{..._0x25b7f0,'type':_0x1c47db(0xa40),'jobId':_0x4b6c14[_0x1c47db(0x26b)],'rating':_0x4b6c14[_0x1c47db(0x20d)],'feedback':_0x4b6c14['feedback']??'','threadId':_0x4074a5},'status':_0x23d754[_0x1c47db(0x4c1)][_0x1c47db(0x71f)]};break;}case'downloadDocument':_0x2c0074={'id':_0x535267,'jobType':_0x192ed8,'parameters':{..._0x25b7f0,'type':_0x1c47db(0x387),'objectStoreId':_0x4b6c14[_0x1c47db(0x780)],'documentPath':_0x4b6c14['documentPath']},'status':_0x23d754[_0x1c47db(0x4c1)][_0x1c47db(0x71f)]};}return await this[_0x1c47db(0x891)](_0x2c0074);}[_0x14177f(0x926)](){const _0xb8228a=_0x14177f;this[_0xb8228a(0x10c)]&&clearTimeout(this[_0xb8228a(0x10c)]),this[_0xb8228a(0x10c)]=setTimeout(async()=>{const _0x4bc8b8=_0xb8228a;delete this['debounceStats'],this['systemTopic'][_0x4bc8b8(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb['Content'],'content':{'type':_0x2c4847[_0x4bc8b8(0x596)],'label':this[_0x4bc8b8(0x322)],'stats':{'timestamp':Date[_0x4bc8b8(0x5bc)](),'storage':0x0,'messagesSent':this[_0x4bc8b8(0x675)],'messagesReceived':this[_0x4bc8b8(0x4d4)],'bytesSent':this[_0x4bc8b8(0x489)],'bytesReceived':this[_0x4bc8b8(0x862)],'writes':0x0,'reads':0x0,'prompts':this[_0x4bc8b8(0x5df)],'tokens':this[_0x4bc8b8(0x66d)]}}});},_0x1fe904);}}var _0x15aedb,_0x2969bd,_0x461f39,_0x4b4fdb,_0x405f53,_0x522d5b,_0x38408a,_0x3eb6e8,_0x4f9f10,_0x2e248b,_0x5f157b;!function(_0x6bc85c){const _0x4a8ca9=_0x14177f;_0x6bc85c[_0x4a8ca9(0x476)]='AITrace',_0x6bc85c[_0x4a8ca9(0x510)]=_0x4a8ca9(0x510),_0x6bc85c[_0x4a8ca9(0x515)]=_0x4a8ca9(0x515),_0x6bc85c['WorkflowTrace']=_0x4a8ca9(0x82c);}(_0x15aedb||(_0x15aedb={})),function(_0x5000a0){const _0x335b3e=_0x14177f;_0x5000a0[_0x335b3e(0x9ac)]=_0x335b3e(0x9ac),_0x5000a0[_0x335b3e(0x4b0)]='ModelVector',_0x5000a0[_0x335b3e(0x9ea)]='VectorSearch',_0x5000a0[_0x335b3e(0xa0d)]=_0x335b3e(0xa0d),_0x5000a0[_0x335b3e(0x356)]=_0x335b3e(0x356),_0x5000a0['Reranker']=_0x335b3e(0x33f);}(_0x2969bd||(_0x2969bd={})),function(_0x1e0a24){const _0x4ebca7=_0x14177f;_0x1e0a24[_0x1e0a24[_0x4ebca7(0x630)]=0x0]=_0x4ebca7(0x630),_0x1e0a24[_0x1e0a24[_0x4ebca7(0x368)]=0x5]='Info',_0x1e0a24[_0x1e0a24[_0x4ebca7(0x9c8)]=0xa]=_0x4ebca7(0x9c8),_0x1e0a24[_0x1e0a24[_0x4ebca7(0x9db)]=0xf]=_0x4ebca7(0x9db);}(_0x461f39||(_0x461f39={})),function(_0x4533e4){const _0x50d775=_0x14177f;_0x4533e4[_0x50d775(0x8f9)]=_0x50d775(0x8f9),_0x4533e4['Ingest']=_0x50d775(0x523),_0x4533e4[_0x50d775(0x5d2)]=_0x50d775(0x5d2),_0x4533e4['Skill']=_0x50d775(0xa21),_0x4533e4['Workflow']='Workflow',_0x4533e4[_0x50d775(0x875)]=_0x50d775(0x875),_0x4533e4['JobContext']=_0x50d775(0x8e5),_0x4533e4[_0x50d775(0x1d2)]='Rating';}(_0x4b4fdb||(_0x4b4fdb={})),function(_0x4a1587){const _0x2dfe7=_0x14177f;_0x4a1587[_0x2dfe7(0x877)]=_0x2dfe7(0x877),_0x4a1587[_0x2dfe7(0x39c)]='Completed';}(_0x405f53||(_0x405f53={})),function(_0x1716e8){const _0x586abe=_0x14177f;_0x1716e8[_0x586abe(0x127)]=_0x586abe(0x127),_0x1716e8['IntermediateOutput']=_0x586abe(0x592),_0x1716e8[_0x586abe(0x661)]=_0x586abe(0x661),_0x1716e8[_0x586abe(0x432)]=_0x586abe(0x432);}(_0x522d5b||(_0x522d5b={})),function(_0x5b19fb){const _0x310800=_0x14177f;_0x5b19fb[_0x310800(0x47d)]=_0x310800(0x47d),_0x5b19fb['DocumentParser']=_0x310800(0x9cd),_0x5b19fb[_0x310800(0xa0d)]=_0x310800(0xa0d),_0x5b19fb[_0x310800(0x3b4)]=_0x310800(0x3b4),_0x5b19fb['Agent']=_0x310800(0x4d8),_0x5b19fb['ModelText']='ModelText',_0x5b19fb[_0x310800(0x4b0)]=_0x310800(0x4b0),_0x5b19fb[_0x310800(0xa18)]=_0x310800(0xa18),_0x5b19fb[_0x310800(0x40e)]=_0x310800(0x40e),_0x5b19fb[_0x310800(0x7f8)]=_0x310800(0x7f8),_0x5b19fb[_0x310800(0x1e9)]=_0x310800(0x1e9);}(_0x38408a||(_0x38408a={})),function(_0x567376){const _0x4f9f49=_0x14177f;_0x567376[_0x4f9f49(0x873)]=_0x4f9f49(0x873),_0x567376['GetContextResult']=_0x4f9f49(0x447);}(_0x3eb6e8||(_0x3eb6e8={})),function(_0x4a29fc){const _0xe904f=_0x14177f;_0x4a29fc[_0xe904f(0x230)]=_0xe904f(0x230),_0x4a29fc[_0xe904f(0x19e)]=_0xe904f(0x19e),_0x4a29fc[_0xe904f(0xa2d)]='SearchGoogle',_0x4a29fc[_0xe904f(0x15f)]=_0xe904f(0x15f),_0x4a29fc[_0xe904f(0x93b)]=_0xe904f(0x93b),_0x4a29fc[_0xe904f(0x263)]=_0xe904f(0x263),_0x4a29fc['QueryFile']=_0xe904f(0x75d);}(_0x4f9f10||(_0x4f9f10={})),function(_0x3a1876){const _0x82868=_0x14177f;_0x3a1876[_0x82868(0x579)]=_0x82868(0x579),_0x3a1876[_0x82868(0x9bb)]=_0x82868(0x9bb);}(_0x2e248b||(_0x2e248b={})),function(_0x45af0b){const _0x3fe6e9=_0x14177f;_0x45af0b['PromptRating']=_0x3fe6e9(0x176);}(_0x5f157b||(_0x5f157b={}));class _0x412e7f{static [_0x14177f(0x15a)]=new _0x412e7f();[_0x14177f(0x3f6)]=[];[_0x14177f(0x254)]=!0x1;constructor(){}static['getInstance'](){const _0x514df1=_0x14177f;return _0x412e7f[_0x514df1(0x15a)];}get[_0x14177f(0x5b7)](){const _0x45c0a8=_0x14177f;return this[_0x45c0a8(0x3f6)]['length'];}[_0x14177f(0xa20)](){return!this['isRunning'];}[_0x14177f(0x12e)](_0x2e3592){const _0x110655=_0x14177f;_0x2e3592?this[_0x110655(0x3f6)]=this[_0x110655(0x3f6)][_0x110655(0x31d)](_0x5ecce0=>_0x5ecce0[_0x110655(0x55e)]!==_0x2e3592):(this[_0x110655(0x3f6)]=[],this[_0x110655(0x254)]=!0x1);}[_0x14177f(0x1cd)](_0x617b37,_0x5ab30){const _0x3c0e90=_0x14177f;this['jobQueue'][_0x3c0e90(0x993)]({'callback':_0x5ab30,'ownerId':_0x617b37}),this[_0x3c0e90(0x7e4)]();}async[_0x14177f(0x7e4)](){const _0x42934c=_0x14177f;if(!this['isRunning']){for(this['isRunning']=!0x0;this[_0x42934c(0x3f6)][_0x42934c(0x5b7)]>0x0;){const _0x585c0e=this[_0x42934c(0x3f6)][_0x42934c(0x239)]();if(_0x585c0e)try{console['warn'](_0x42934c(0x5f9)),await _0x585c0e[_0x42934c(0x267)](),console[_0x42934c(0x713)](_0x42934c(0x7c0));}catch(_0x53c33){console[_0x42934c(0x70e)](_0x42934c(0x11e),_0x53c33);}}this[_0x42934c(0x254)]=!0x1;}}}const _0x2974a4=_0x412e7f[_0x14177f(0x30a)]();class _0x3da40b extends _0x27b15e{[_0x14177f(0x407)];[_0x14177f(0x260)];constructor(_0x503ec0,_0x28b71e,_0xc7d827){const _0x8d88bf=_0x14177f;super(_0x503ec0,_0x28b71e),this[_0x8d88bf(0x407)]=_0xc7d827;}[_0x14177f(0x62d)](){const _0x495e75=_0x14177f;return _0x23d754[_0x495e75(0x565)][_0x495e75(0x875)];}[_0x14177f(0x54e)](){this['subscribeToJobs']();}['close'](){const _0x4306dd=_0x14177f;this[_0x4306dd(0x60b)]?.[_0x4306dd(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x4306dd(0x4ee)],'content':{'type':_0x2c4847[_0x4306dd(0x7fb)],'label':this['label']}});}['reset'](){const _0x12c984=_0x14177f;this[_0x12c984(0x260)]?.(),delete this[_0x12c984(0x260)],this['open']();}['destroy'](){const _0x96d9ec=_0x14177f;_0x2974a4['clear'](this[_0x96d9ec(0x322)]),this[_0x96d9ec(0x260)]?.(),delete this[_0x96d9ec(0x260)],super[_0x96d9ec(0x5a1)]();}['isAvailable'](){const _0x580a5f=_0x14177f;return _0x2974a4[_0x580a5f(0xa20)]();}[_0x14177f(0x77a)](){return 0x1;}[_0x14177f(0x66b)](_0xdd719,_0x5e1ac7,_0x16daf7){}[_0x14177f(0x5da)](_0x559c05,_0x1a7e25){return _0x559c05;}[_0x14177f(0x5b2)](_0x17da03,_0x1bc79a){const _0x124f9a=_0x14177f;console[_0x124f9a(0x713)](_0x124f9a(0x8d2));}[_0x14177f(0x236)](_0xa6fc43,_0x32618e){const _0x7c4f22=_0x14177f;console[_0x7c4f22(0x713)](_0x7c4f22(0x8d2));}[_0x14177f(0xa0b)](){const _0x34ded3=_0x14177f;this['unsubscribeListener']||(this[_0x34ded3(0x260)]=this[_0x34ded3(0x16a)]((_0x42c055,_0x4fdd9c)=>{const _0x2f91eb=_0x34ded3;if(_0x1734f6[_0x2f91eb(0x2b0)](_0x39fe10[_0x2f91eb(0x5fb)],_0x2f91eb(0x593),_0x4fdd9c),!(_0x4fdd9c instanceof File)){if(this[_0x2f91eb(0x6f7)](_0x4fdd9c))_0x1734f6[_0x2f91eb(0x2b0)](_0x39fe10[_0x2f91eb(0x5fb)],_0x2f91eb(0x8f4),_0x4fdd9c),this['isAvailable']()?this[_0x2f91eb(0x5ed)](_0x4fdd9c['id'],_0x4fdd9c['jobType'],_0x42c055):this['sendReject'](_0x4fdd9c['id'],_0x4fdd9c[_0x2f91eb(0x541)],_0x42c055);else{if(this[_0x2f91eb(0x997)](_0x4fdd9c)){_0x1734f6[_0x2f91eb(0x2b0)](_0x39fe10[_0x2f91eb(0x5fb)],_0x2f91eb(0x293),_0x4fdd9c);const {id:_0x47cd58,parameters:_0x17e7ae}=_0x4fdd9c;this[_0x2f91eb(0x5b2)](_0x47cd58,_0x17e7ae),_0x2974a4[_0x2f91eb(0x1cd)](this[_0x2f91eb(0x322)],()=>this[_0x2f91eb(0xa02)](_0x4fdd9c['id'],_0x4fdd9c,_0x42c055));}}}}));}[_0x14177f(0x5ed)](_0x191d82,_0xe84e24,_0x4164a6){const _0x3569ca=_0x14177f,_0x9f2612={'id':_0x191d82,'jobType':_0xe84e24,'jobPhase':_0x39b79e[_0x3569ca(0x809)],'available':!0x0,'queueLength':_0x2974a4[_0x3569ca(0x5b7)],'bid':this[_0x3569ca(0x77a)]()};_0x1734f6[_0x3569ca(0x2b0)](_0x39fe10[_0x3569ca(0x5fb)],'JobWorker:\x20Sending\x20job\x20bid',_0x9f2612),this[_0x3569ca(0x19d)](_0x9f2612,[_0x4164a6]);}[_0x14177f(0x5ac)](_0x463cef,_0x524c6d,_0x173b03){const _0x32b907=_0x14177f,_0x261594={'id':_0x463cef,'jobType':_0x524c6d,'jobPhase':_0x39b79e[_0x32b907(0x809)],'available':!0x1,'queueLength':_0x2974a4['length'],'bid':0x0};_0x1734f6[_0x32b907(0x2b0)](_0x39fe10[_0x32b907(0x5fb)],'JobWorker:\x20Sending\x20job\x20reject',_0x261594),this[_0x32b907(0x19d)](_0x261594,[_0x173b03]);}async['handleJobAttribution'](_0x1d58a0,_0x9f8ecc,_0x5330c9){const _0x23a684=_0x14177f;_0x1734f6[_0x23a684(0x2b0)](_0x39fe10[_0x23a684(0x5fb)],'JobWorker:\x20Handling\x20job\x20attribution',_0x9f8ecc);const _0xf46508={'id':_0x1d58a0,'jobType':_0x9f8ecc[_0x23a684(0x541)],'parameters':_0x9f8ecc['parameters']};try{switch(_0x9f8ecc['jobType']){case _0x23d754[_0x23a684(0x88e)]['Job']:await this[_0x23a684(0x7c4)](_0x1d58a0,_0x9f8ecc,_0xf46508,_0x5330c9);break;case _0x23d754[_0x23a684(0x88e)][_0x23a684(0x3be)]:await this['processJobStream'](_0x1d58a0,_0x9f8ecc,_0xf46508,_0x5330c9);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x3fd400){_0x1734f6['error'](_0x23a684(0x6a2),{'nodeId':this[_0x23a684(0x1c7)][_0x23a684(0x519)](),'nodeType':this['owner'][_0x23a684(0x162)],'data':{'job':_0xf46508}},_0x3fd400);const _0x486dc6=_0x3fd400 instanceof Error?_0x3fd400[_0x23a684(0x84a)]:_0x23a684(0x645),_0x166075={'id':_0x1d58a0,'jobType':_0x9f8ecc['jobType'],'jobPhase':_0x39b79e['Failed'],'message':_0x486dc6};await this['send'](_0x166075,[_0x5330c9]);}}async['processJob'](_0x530b19,_0x1a9e5e,_0x512e2c,_0x302c6a){const _0x50a987=_0x14177f,_0x29e23f=Date[_0x50a987(0x5bc)](),_0x4cf5c7=await this[_0x50a987(0x22d)](_0x530b19,_0x512e2c[_0x50a987(0x338)]);this[_0x50a987(0x66b)](_0x4cf5c7,_0x29e23f,Date['now']());const _0x827fa5={'id':_0x530b19,'jobType':_0x1a9e5e[_0x50a987(0x541)],'jobPhase':_0x39b79e[_0x50a987(0x57c)],'result':_0x4cf5c7};_0x1734f6['log'](_0x39fe10['Jobs'],_0x50a987(0x132),_0x827fa5),await this[_0x50a987(0x19d)](_0x827fa5,[_0x302c6a]),this['stopTracing'](_0x530b19,_0x512e2c[_0x50a987(0x338)]);}async[_0x14177f(0x585)](_0x3bfa4d,_0xd3f0e5,_0x480748,_0x182fec){const _0x2f3f21=_0x14177f,_0x373052=Date[_0x2f3f21(0x5bc)]();let _0x58fff9=0x0,_0x4de773={};for await(const _0xf7519f of this['internalProcessJobStream'](_0x480748['id'],_0x480748['parameters'])){const _0x3305a1={'id':_0x3bfa4d,'jobType':_0xd3f0e5[_0x2f3f21(0x541)],'jobPhase':_0x39b79e['PartialResult'],'result':{..._0xf7519f,'index':_0x58fff9}};_0x1734f6[_0x2f3f21(0x2b0)](_0x39fe10[_0x2f3f21(0x5fb)],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x3305a1),this['send'](_0x3305a1,[_0x182fec]),_0x4de773=this[_0x2f3f21(0x5da)](_0x4de773,_0xf7519f),_0x58fff9++;}this[_0x2f3f21(0x66b)](_0x4de773,_0x373052,Date[_0x2f3f21(0x5bc)]());const _0xa3b8df={'id':_0x3bfa4d,'jobType':_0xd3f0e5[_0x2f3f21(0x541)],'jobPhase':_0x39b79e[_0x2f3f21(0x57c)],'result':_0x4de773};_0x1734f6[_0x2f3f21(0x2b0)](_0x39fe10[_0x2f3f21(0x5fb)],_0x2f3f21(0x132),_0xa3b8df),await this[_0x2f3f21(0x19d)](_0xa3b8df,[_0x182fec]),this['stopTracing'](_0x3bfa4d,_0x480748['parameters']);}[_0x14177f(0x6f7)](_0x21fc65){const _0x179954=_0x14177f;return _0x21fc65[_0x179954(0x439)]===_0x39b79e[_0x179954(0x650)];}[_0x14177f(0x997)](_0x41dacc){const _0x5ed7e4=_0x14177f;return _0x41dacc[_0x5ed7e4(0x439)]===_0x39b79e[_0x5ed7e4(0x76e)];}}function _0x1ff39e(_0x50dea0,_0x563632){const _0x27e9eb=_0x14177f;return _0x27e9eb(0x8df)+_0x50dea0+'-'+_0x563632;}function _0x34c600(){const _0x1a08b5=_0x14177f,_0x3d85d7=_0x5b5f42[_0x1a08b5(0x6c7)](0x1);return _0x3d85d7['table'](_0x1a08b5(0x9aa))[_0x1a08b5(0x14a)]('id')[_0x1a08b5(0x14a)](_0x1a08b5(0x26b))[_0x1a08b5(0x14a)](_0x1a08b5(0x59d))[_0x1a08b5(0x14a)]('threadId')['index'](_0x1a08b5(0x9c9))[_0x1a08b5(0x14a)](_0x1a08b5(0x77c)),_0x3d85d7;}function _0x198272(_0xc16c26){const _0x540b39=_0x14177f;try{return JSON[_0x540b39(0x990)](_0xc16c26);}catch(_0xb75e6a){return _0xc16c26 instanceof Error?_0xc16c26[_0x540b39(0x1d0)]():JSON[_0x540b39(0x990)](_0x540b39(0x316));}}class _0x5e715f{static [_0x14177f(0x15a)];[_0x14177f(0x8e8)]=_0x461f39[_0x14177f(0x9db)];[_0x14177f(0x191)]=_0x461f39[_0x14177f(0x368)];[_0x14177f(0xa01)]=_0x4b4fdb[_0x14177f(0x8f9)];[_0x14177f(0x8d6)]={};static [_0x14177f(0x30a)]=()=>(_0x5e715f[_0x14177f(0x15a)]||(_0x5e715f[_0x14177f(0x15a)]=new _0x5e715f()),_0x5e715f['instance']);[_0x14177f(0x24e)](_0x371dc5,_0x3df72e,_0x17c1cb=!0x0){const _0x56a0dd=_0x14177f;try{if(this[_0x56a0dd(0x8d6)][_0x3df72e])throw new Error(_0x56a0dd(0x335));const _0x26ad78={'sequence':0x0};if(this[_0x56a0dd(0x8d6)][_0x3df72e]=_0x26ad78,!_0x371dc5)return!0x0;const _0x561c21=function(_0x184602){const _0x5c3a09=_0x56a0dd;return _0x184602[_0x5c3a09(0x85d)]('logs');}(_0x371dc5);return _0x26ad78[_0x56a0dd(0x738)]=_0x371dc5,_0x26ad78['table']=_0x561c21,!0x0;}catch(_0x192193){return console[_0x56a0dd(0x70e)](_0x56a0dd(0x967)+_0x17c1cb,_0x192193),!!_0x17c1cb&&(this['closeTrace'](_0x3df72e),this[_0x56a0dd(0x24e)](_0x371dc5,_0x3df72e,!0x1));}}[_0x14177f(0x334)](_0x2155cf){const _0x2a41bf=_0x14177f;try{const _0x14abaf=this[_0x2a41bf(0x8d6)][_0x2155cf[_0x2a41bf(0x26b)]];if(!_0x14abaf)throw new Error(_0x2a41bf(0x6ef));_0x2155cf['sequence']=_0x14abaf[_0x2a41bf(0x77c)]++,_0x2155cf[_0x2a41bf(0x707)]>=this['logLevel']&&console[_0x2a41bf(0x2b0)](JSON[_0x2a41bf(0x990)](_0x2155cf,null,0x2)),this[_0x2a41bf(0x138)](_0x2155cf);}catch(_0x38128c){console[_0x2a41bf(0x70e)]('GenerativeAITracing\x20-\x20Error\x20while\x20tracing',_0x38128c);}}['closeTrace'](_0x4303b8){const _0x876889=_0x14177f;if(!_0x5e715f['instance'])throw new Error(_0x876889(0x446));if(!this[_0x876889(0x8d6)][_0x4303b8])throw new Error(_0x876889(0x3da));delete this['openedTraces'][_0x4303b8];}[_0x14177f(0x138)](_0xe6f936){const _0xe6cd2b=_0x14177f;if(_0xe6f936['traceLevel']<this[_0xe6cd2b(0x191)]&&_0xe6f936['jobType']!==this[_0xe6cd2b(0xa01)])return;if(!this[_0xe6cd2b(0x8d6)][_0xe6f936['jobId']])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0xffa969=this['openedTraces'][_0xe6f936[_0xe6cd2b(0x26b)]];if(!_0xffa969[_0xe6cd2b(0x738)])throw new Error(_0xe6cd2b(0x4a8));if(!_0xffa969['table'])throw new Error(_0xe6cd2b(0x226));try{const _0x6ae6ae=function(_0x141de0){const _0x27b586=_0xe6cd2b,_0x51ba92=[_0x27b586(0x539),_0x27b586(0x9c9),_0x27b586(0x541),_0x27b586(0x162),_0x27b586(0x26b),_0x27b586(0x707),_0x27b586(0x670),'status',_0x27b586(0x77c),_0x27b586(0x364)],_0x101614={..._0x141de0};for(const _0xccc013 of _0x51ba92)delete _0x101614[_0xccc013];return{'timestamp':_0x141de0[_0x27b586(0x9c9)],'jobType':_0x141de0[_0x27b586(0x541)],'type':_0x141de0[_0x27b586(0x162)],'jobId':_0x141de0[_0x27b586(0x26b)],'agentId':_0x141de0[_0x27b586(0x59d)]??'','traceLevel':_0x141de0[_0x27b586(0x707)],'blockId':_0x141de0[_0x27b586(0x670)]??'','startTime':_0x141de0[_0x27b586(0x539)],'status':_0x141de0[_0x27b586(0x32b)],'sequence':_0x141de0[_0x27b586(0x77c)]??0x0,'errorDetails':_0x141de0[_0x27b586(0x364)]??'','metadata':_0x198272(_0x101614)};}(_0xe6f936),_0x5c5604=(0x0,_0x3fe08f['v4'])();console[_0xe6cd2b(0x2b0)]('Logging\x20trace',_0x6ae6ae['type']),_0xffa969['table'][_0xe6cd2b(0x525)](_0x5c5604,_0x6ae6ae);}catch(_0x579cbe){console[_0xe6cd2b(0x70e)]('GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace',_0x579cbe);}}}const _0x9c156c=_0x5e715f['getInstance']();async function _0x1e98a6(_0x3c1be1,_0x4e08b6,_0x36ad0f,_0x419488,_0x258030){const _0x1d3aee=_0x14177f,_0x426c27=Date['now'](),_0x391f91=_0x258030[_0x1d3aee(0x487)][_0x1d3aee(0x3ee)](_0x4fbeeb=>_0x4fbeeb['id']===_0x36ad0f[_0x1d3aee(0xa4e)]);if(!_0x391f91)throw new Error('Model\x20not\x20found');const _0x5eeb3e=_0x258030[_0x1d3aee(0x8c5)][_0x1d3aee(0x3ee)](_0x1dd9a3=>_0x1dd9a3[_0x1d3aee(0x695)]()===_0x391f91[_0x1d3aee(0x2a0)]);if(!_0x5eeb3e)throw new Error('No\x20connector\x20found\x20for\x20model');const _0xdb250e=[],_0x1b8159=(0x0,_0x3fe08f['v4'])(),_0x46c61e=await _0x5eeb3e[_0x1d3aee(0x7c4)]({'type':'prompt','prompt':_0x4e08b6,'instructions':_0x36ad0f[_0x1d3aee(0x6f6)],'grammar':_0x36ad0f['grammar'],'temperature':_0x36ad0f[_0x1d3aee(0x23b)],'maxTokens':_0x36ad0f[_0x1d3aee(0x970)],'threadId':_0x1b8159},{'model':_0x391f91});if(_0x1d3aee(0x867)!=typeof _0x46c61e[_0x1d3aee(0x58d)])throw new Error(_0x1d3aee(0x279));if(_0x9c156c['trace']({'jobType':_0x4b4fdb[_0x1d3aee(0x523)],'type':_0x38408a['Agent'],'jobId':_0x3c1be1,'blockId':_0x36ad0f['id'],'traceLevel':_0x461f39[_0x1d3aee(0x630)],'timestamp':Date[_0x1d3aee(0x5bc)](),'startTime':_0x426c27,'status':'success','agentId':_0x1b8159,'content':_0x4e08b6,'instructions':_0x36ad0f[_0x1d3aee(0x6f6)],'result':_0x46c61e[_0x1d3aee(0x58d)]}),_0x36ad0f[_0x1d3aee(0x81a)]?.[_0x1d3aee(0x211)](_0x472f5b=>_0x472f5b['type']===_0x323a5b['Text']))return _0xdb250e[_0x1d3aee(0x993)]({'content':_0x46c61e[_0x1d3aee(0x58d)],'start':0x0,'length':_0x46c61e[_0x1d3aee(0x58d)][_0x1d3aee(0x5b7)]}),await _0x115ec1(_0x3c1be1,_0xdb250e,_0x36ad0f,_0x419488,_0x258030),void await _0x115ec1(_0x3c1be1,_0x46c61e[_0x1d3aee(0x58d)],_0x36ad0f,_0x419488,_0x258030);_0xdb250e['push']({'content':_0x46c61e[_0x1d3aee(0x58d)],'start':0x0,'length':_0x4e08b6[_0x1d3aee(0x5b7)]}),await _0x115ec1(_0x3c1be1,_0xdb250e,_0x36ad0f,_0x419488,_0x258030);}async function _0x59c130(_0x334189,_0x5f5c4b,_0x5589d5,_0x861ba2,_0x333ff7){const _0x3a671c=_0x14177f,_0x2d9d0c=Date[_0x3a671c(0x5bc)]();let _0x50cd6d=[];if(_0x5f5c4b instanceof Array){for(const _0x52a819 of _0x5f5c4b)_0x50cd6d=_0x50cd6d['concat'](_0x40e7e6(_0x52a819[_0x3a671c(0x4cc)],_0x5589d5,_0x52a819[_0x3a671c(0x8f3)],_0x52a819[_0x3a671c(0x5b7)]));}else _0x50cd6d=_0x40e7e6(_0x5f5c4b,_0x5589d5);_0x9c156c[_0x3a671c(0x334)]({'jobType':_0x4b4fdb[_0x3a671c(0x523)],'type':_0x38408a[_0x3a671c(0x47d)],'traceLevel':_0x461f39[_0x3a671c(0x630)],'jobId':_0x334189,'blockId':_0x5589d5['id'],'startTime':_0x2d9d0c,'timestamp':Date['now'](),'status':_0x3a671c(0x811),'totalChunks':_0x50cd6d['length'],'chunkSize':_0x5589d5[_0x3a671c(0x910)][_0x3a671c(0x11a)]}),await _0x115ec1(_0x334189,_0x50cd6d,_0x5589d5,_0x861ba2,_0x333ff7);}function _0x40e7e6(_0x21013c,_0x263e5f,_0x5e7fda,_0x4eeb9c){const _0x3516f9=_0x14177f,_0x7815ce=[];for(let _0x200514=0x0;_0x200514<_0x21013c['length'];_0x200514+=_0x263e5f[_0x3516f9(0x910)]['size']){let _0xace411=_0x200514-_0x263e5f['attributes'][_0x3516f9(0x555)];_0xace411<0x0&&(_0xace411=0x0);let _0x56306b=_0x200514+_0x263e5f[_0x3516f9(0x910)][_0x3516f9(0x11a)]+_0x263e5f[_0x3516f9(0x910)][_0x3516f9(0x555)];_0x56306b>_0x21013c[_0x3516f9(0x5b7)]&&(_0x56306b=_0x21013c[_0x3516f9(0x5b7)]);const _0x479f26=_0x21013c[_0x3516f9(0x32a)](_0xace411,_0x56306b);_0x7815ce[_0x3516f9(0x993)]({'content':_0x479f26,'start':_0x5e7fda??_0x200514,'length':_0x4eeb9c??(_0x200514+_0x263e5f[_0x3516f9(0x910)][_0x3516f9(0x11a)]>_0x21013c[_0x3516f9(0x5b7)]?_0x21013c['length']-_0x200514:_0x263e5f['attributes']['size'])});}return _0x7815ce;}async function _0x380e2d(_0x4bc69c,_0x4f6b95,_0x208ea3,_0x54d7bf,_0x462a4d){const _0x253abf=_0x14177f,_0xc6452d=Date['now']();let _0x3d12d3;if(_0x4f6b95['file'][_0x253abf(0x162)][_0x253abf(0x53a)](_0x253abf(0x7fe))||_0x2759bf(_0x4f6b95[_0x253abf(0x829)][_0x253abf(0x1a5)],_0x28e350))_0x3d12d3=await _0x4f6b95[_0x253abf(0x829)][_0x253abf(0x795)]();else{if(!_0x462a4d[_0x253abf(0x461)][_0x253abf(0x72f)](_0x4f6b95['file']))throw new Error(_0x253abf(0x8b1)+_0x4f6b95[_0x253abf(0x829)][_0x253abf(0x162)]+_0x253abf(0x9a1)+_0x4f6b95[_0x253abf(0x829)][_0x253abf(0x1a5)]);_0x3d12d3=await _0x462a4d[_0x253abf(0x461)][_0x253abf(0xa51)](_0x4f6b95[_0x253abf(0x829)]);}_0x9c156c[_0x253abf(0x334)]({'jobType':_0x4b4fdb[_0x253abf(0x523)],'type':_0x38408a[_0x253abf(0x9cd)],'traceLevel':_0x461f39[_0x253abf(0x630)],'blockId':_0x208ea3['id'],'jobId':_0x4bc69c,'startTime':_0xc6452d,'timestamp':Date[_0x253abf(0x5bc)](),'status':_0x253abf(0x811),'documentType':_0x4f6b95['file'][_0x253abf(0x162)],'documentName':_0x4f6b95[_0x253abf(0x829)]['name'],'extractionMethod':_0x253abf(0x674)}),await _0x115ec1(_0x4bc69c,_0x3d12d3,_0x208ea3,_0x54d7bf,_0x462a4d);const _0x10a897=[{'content':_0x3d12d3,'start':0x0,'length':_0x3d12d3[_0x253abf(0x5b7)]}];await _0x115ec1(_0x4bc69c,_0x10a897,_0x208ea3,_0x54d7bf,_0x462a4d);}const _0x28e350=[_0x14177f(0x492),_0x14177f(0x984),_0x14177f(0x69f),_0x14177f(0x9e7),_0x14177f(0x1fd),_0x14177f(0x204),_0x14177f(0x5e6),_0x14177f(0x1b1),_0x14177f(0x2f6),_0x14177f(0x518),_0x14177f(0x46e),'.sh',_0x14177f(0x549),_0x14177f(0xa0f),_0x14177f(0x724),_0x14177f(0x1ad),_0x14177f(0x69b),_0x14177f(0x9b0),_0x14177f(0x47c),_0x14177f(0x82e),'.c',_0x14177f(0x801),_0x14177f(0x58a),'.r',_0x14177f(0x3f4),_0x14177f(0x8c8),_0x14177f(0x359),'.kt','.rs',_0x14177f(0x600),'.pl',_0x14177f(0x4ef),_0x14177f(0x373),_0x14177f(0x33a),'.groovy',_0x14177f(0x8a6),_0x14177f(0x51f),_0x14177f(0x17c),'.vb','.ps1',_0x14177f(0x1c9),'.m',_0x14177f(0x985),_0x14177f(0x159),_0x14177f(0x73d),'.jl',_0x14177f(0x97f),_0x14177f(0x932),_0x14177f(0x7d0),_0x14177f(0x455),_0x14177f(0x958),_0x14177f(0x979),'.jinja2',_0x14177f(0x180),_0x14177f(0x10a),_0x14177f(0x1e3),'.pug','.liquid',_0x14177f(0x1ee),_0x14177f(0x7df),'.twig',_0x14177f(0x468),_0x14177f(0x15b)];function _0x2759bf(_0x41d2e8,_0x4d1e72){const _0x1e6d12=_0x14177f;return _0x4d1e72[_0x1e6d12(0x775)]('.'+(_0x41d2e8[_0x1e6d12(0x31f)]('.')[_0x1e6d12(0x189)]()?.[_0x1e6d12(0x6c8)]()||''));}async function _0x1a9cc6(_0x1300a5,_0x2293d3,_0x32efad,_0x5e63ff,_0x4bf0b3){const _0x5cb766=_0x14177f,_0x12e144=Date[_0x5cb766(0x5bc)](),_0x44de=new Set();let _0x48d441=0x0;for(const _0x13f0f9 of _0x2293d3)_0x48d441+=_0x13f0f9[_0x5cb766(0x4cc)][_0x5cb766(0x5b7)],await _0x663e2(_0x13f0f9[_0x5cb766(0x4cc)],_0x44de,_0x32efad,_0x4bf0b3[_0x5cb766(0x956)]);_0x9c156c[_0x5cb766(0x334)]({'jobType':_0x4b4fdb[_0x5cb766(0x523)],'type':_0x38408a['EntityExtractor'],'jobId':_0x1300a5,'blockId':_0x32efad['id'],'traceLevel':_0x461f39['Debug'],'startTime':_0x12e144,'timestamp':Date['now'](),'status':_0x5cb766(0x811),'contentLength':_0x48d441,'totalChunks':_0x2293d3 instanceof Array?_0x2293d3['length']:0x1,'entitiesExtracted':_0x44de,'totalEntities':_0x44de[_0x5cb766(0x11a)]}),await _0x115ec1(_0x1300a5,_0x44de,_0x32efad,_0x5e63ff,_0x4bf0b3);}async function _0x663e2(_0x294465,_0x591ba3,_0x4f6d34,_0x874e4d){const _0x15609c=_0x14177f,_0x2bb1ce=await _0x874e4d[_0x15609c(0x69d)](_0x294465,{'ner':_0x4f6d34['attributes'][_0x15609c(0xa17)],'noun':_0x4f6d34[_0x15609c(0x910)]['noun'],'propn':_0x4f6d34[_0x15609c(0x910)]['propn'],'verb':_0x4f6d34['attributes'][_0x15609c(0x888)]});for(const _0x3ba84e of _0x2bb1ce)_0x591ba3['add'](_0x3ba84e);}function _0xf5bf7f(_0x58a349,_0x5e5a95,_0x3580ce,_0x57c2b8,_0x2dafd2){const _0x197515=_0x14177f,_0x589d05=Date[_0x197515(0x5bc)]();if(_0x3580ce[_0x197515(0x21c)]||(_0x3580ce[_0x197515(0x21c)]={}),_0x197515(0x867)==typeof _0x5e5a95?_0x3580ce[_0x197515(0x21c)][_0x197515(0x4cc)]=_0x5e5a95:_0x5e5a95 instanceof Set?_0x3580ce[_0x197515(0x21c)][_0x197515(0x3f9)]=_0x5e5a95:_0x5e5a95 instanceof Map?_0x3580ce['accumulated'][_0x197515(0x1d4)]=_0x5e5a95:_0x5e5a95 instanceof Array?_0x3580ce[_0x197515(0x21c)][_0x197515(0x14a)]=_0x5e5a95:_0x3580ce['accumulated'][_0x197515(0x829)]=_0x5e5a95,_0x3580ce['timesCalled']=_0x3580ce[_0x197515(0x543)]?_0x3580ce[_0x197515(0x543)]+0x1:0x1,_0x1ad3cf(_0x3580ce,_0x57c2b8)>_0x3580ce[_0x197515(0x543)])return;if(!(_0x3580ce[_0x197515(0x21c)]['entities']&&_0x3580ce[_0x197515(0x21c)][_0x197515(0x829)]&&_0x3580ce['accumulated'][_0x197515(0x4cc)]&&_0x3580ce['accumulated']['index']))throw new Error(_0x197515(0x3bd));let _0x1e00b1=0x0;const _0x2cefb5=_0x2dafd2[_0x197515(0x24c)][_0x197515(0x649)](_0x3580ce['id']);for(const _0x32f643 of _0x3580ce[_0x197515(0x21c)][_0x197515(0x3f9)]){let _0x709ee9=[];_0x709ee9=_0x3580ce[_0x197515(0x21c)]['index'][_0x197515(0x31d)](_0x2d8d12=>_0x2d8d12[_0x197515(0x4cc)][_0x197515(0x775)](_0x32f643));try{_0x2cefb5['addNode'](_0x3580ce['accumulated'][_0x197515(0x829)][_0x197515(0x1ba)],_0x3580ce[_0x197515(0x21c)][_0x197515(0x4cc)],_0x709ee9,_0x32f643),_0x1e00b1+=0x1;}catch(_0xc00e3d){}}if(_0x3580ce['accumulated'][_0x197515(0x1d4)]){for(const [_0x4bd818,_0x50d0b1]of _0x3580ce[_0x197515(0x21c)][_0x197515(0x1d4)])for(const _0x9bd331 of _0x50d0b1)try{_0x2cefb5[_0x197515(0x1d3)](_0x4bd818,_0x9bd331);}catch(_0x2b5c6b){}if(_0x2cefb5[_0x197515(0x91c)]()){let _0x19f625=''+(_0x2dafd2[_0x197515(0x5bb)]??0x1);for(const _0x3b9a89 of _0x57c2b8)if(_0x3b9a89[_0x197515(0x162)]===_0x11dac6[_0x197515(0x4d8)]){_0x19f625=_0x19f625+'-'+(_0x3b9a89[_0x197515(0x5bb)]??0x1);break;}_0x2cefb5[_0x197515(0x790)](_0x19f625);}_0x9c156c[_0x197515(0x334)]({'jobType':_0x4b4fdb['Ingest'],'type':_0x38408a[_0x197515(0x3b4)],'jobId':_0x58a349,'blockId':_0x3580ce['id'],'status':_0x197515(0x811),'startTime':_0x589d05,'timestamp':Date[_0x197515(0x5bc)](),'traceLevel':_0x461f39[_0x197515(0x630)],'nodesAdded':_0x1e00b1,'entities':_0x3580ce[_0x197515(0x21c)][_0x197515(0x3f9)],'relations':_0x3580ce['accumulated'][_0x197515(0x1d4)]});}}async function _0x174c96(_0x2acaa9,_0x268d1e,_0x517365,_0x187a87,_0x526518){const _0x2cedab=_0x14177f,_0x4f8005=_0x526518[_0x2cedab(0x487)][_0x2cedab(0x3ee)](_0x431f0b=>_0x431f0b['id']===_0x517365['id']);if(!_0x4f8005)throw new Error('Model\x20not\x20found');switch(_0x4f8005[_0x2cedab(0x98b)]){case _0x23d754[_0x2cedab(0x5ef)][_0x2cedab(0x32e)]:if(_0x2cedab(0x867)!=typeof _0x268d1e)throw new Error(_0x2cedab(0xa3a));await async function(_0x31c8b5,_0x1109ab,_0x42daf2,_0x1326ad,_0x3555fb,_0x1fa170){const _0x14ffd9=_0x2cedab,_0x1c59c8=Date[_0x14ffd9(0x5bc)]();let _0x6b526d;const _0x217c42=_0x1fa170[_0x14ffd9(0x8c5)]['find'](_0x1bd0dd=>_0x1bd0dd[_0x14ffd9(0x695)]()===_0x42daf2[_0x14ffd9(0x2a0)]);if(!_0x217c42)throw new Error(_0x14ffd9(0x275));_0x6b526d=await async function(_0x1e3c6a,_0x2a0040,_0x28f1d9){const _0x19a96e=_0x14ffd9,_0x1b5fba=await _0x2a0040[_0x19a96e(0x7c4)]({'type':'prompt','prompt':_0x1e3c6a,'threadId':''},{'model':_0x28f1d9});if(_0x1b5fba[_0x19a96e(0x58d)]instanceof Array)throw new Error(_0x19a96e(0x6b0));return _0x1b5fba[_0x19a96e(0x58d)];}(_0x1109ab,_0x217c42,_0x42daf2),_0x9c156c[_0x14ffd9(0x334)]({'jobType':_0x4b4fdb[_0x14ffd9(0x523)],'type':_0x38408a[_0x14ffd9(0x9ac)],'jobId':_0x31c8b5,'blockId':_0x1326ad['id'],'traceLevel':_0x461f39[_0x14ffd9(0x630)],'timestamp':Date[_0x14ffd9(0x5bc)](),'startTime':_0x1c59c8,'status':_0x14ffd9(0x811),'modelName':_0x42daf2['id'],'inputType':_0x42daf2[_0x14ffd9(0x96e)],'outputType':_0x42daf2[_0x14ffd9(0x98b)],'content':_0x1109ab,'results':_0x6b526d}),await _0x115ec1(_0x31c8b5,_0x6b526d,_0x1326ad,_0x3555fb,_0x1fa170);}(_0x2acaa9,_0x268d1e,_0x4f8005,_0x517365,_0x187a87,_0x526518);break;case _0x23d754[_0x2cedab(0x5ef)][_0x2cedab(0x486)]:if(!(_0x268d1e instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x576f8c,_0x5d8faa,_0x32eb3d,_0x901b10,_0x1d4433,_0x4230cf){const _0x5b36fe=_0x2cedab,_0x7f0a45=Date[_0x5b36fe(0x5bc)](),_0x1608e2=[],_0x518234=_0x4230cf[_0x5b36fe(0x8c5)][_0x5b36fe(0x3ee)](_0x2f1828=>_0x2f1828[_0x5b36fe(0x695)]()===_0x32eb3d[_0x5b36fe(0x2a0)]);if(!_0x518234)throw new Error('No\x20connector\x20found\x20for\x20model');for(const _0x3e9979 of _0x5d8faa)_0x1608e2['push'](await _0x224633(_0x3e9979,_0x518234,_0x32eb3d));_0x9c156c['trace']({'jobType':_0x4b4fdb['Ingest'],'type':_0x38408a[_0x5b36fe(0x4b0)],'jobId':_0x576f8c,'blockId':_0x901b10['id'],'traceLevel':_0x461f39[_0x5b36fe(0x630)],'timestamp':Date[_0x5b36fe(0x5bc)](),'startTime':_0x7f0a45,'status':_0x5b36fe(0x811),'modelName':_0x32eb3d['id'],'inputType':_0x32eb3d[_0x5b36fe(0x96e)],'outputType':_0x32eb3d['outputType'],'totalVectors':_0x1608e2[_0x5b36fe(0x5b7)]}),await _0x115ec1(_0x576f8c,_0x1608e2,_0x901b10,_0x1d4433,_0x4230cf);}(_0x2acaa9,_0x268d1e,_0x4f8005,_0x517365,_0x187a87,_0x526518);}}async function _0x224633(_0x38da66,_0x237434,_0x1a3dc5){const _0x242ab9=_0x14177f;return(await _0x237434['processJob']({'type':_0x242ab9(0x798),'prompt':_0x38da66[_0x242ab9(0x4cc)],'threadId':''},{'model':_0x1a3dc5}))[_0x242ab9(0x58d)];}async function _0x1e82a3(_0x5dc80b,_0x5992b7,_0x2fede6,_0x50dada,_0xb3c856){const _0x2df53c=_0x14177f,_0x34697b=Date[_0x2df53c(0x5bc)]();if(_0x2fede6[_0x2df53c(0x21c)]||(_0x2fede6[_0x2df53c(0x21c)]={}),_0x5992b7 instanceof Array?_0x2fede6[_0x2df53c(0x21c)][_0x2df53c(0x14a)]=_0x5992b7:_0x2fede6[_0x2df53c(0x21c)][_0x2df53c(0x3f9)]=_0x5992b7,_0x2fede6[_0x2df53c(0x543)]=_0x2fede6[_0x2df53c(0x543)]?_0x2fede6[_0x2df53c(0x543)]+0x1:0x1,_0x1ad3cf(_0x2fede6,_0x50dada)>_0x2fede6[_0x2df53c(0x543)])return;if(!_0x2fede6[_0x2df53c(0x21c)][_0x2df53c(0x14a)]||!_0x2fede6[_0x2df53c(0x21c)][_0x2df53c(0x3f9)])throw new Error(_0x2df53c(0x326));const _0x11d03e=new Map();for(const _0x164baa of _0x2fede6[_0x2df53c(0x21c)][_0x2df53c(0x14a)])_0x4582fb(_0x164baa['content'],_0x2fede6['accumulated'][_0x2df53c(0x3f9)],_0x11d03e);_0x9c156c[_0x2df53c(0x334)]({'jobType':_0x4b4fdb['Ingest'],'type':_0x38408a[_0x2df53c(0xa18)],'jobId':_0x5dc80b,'blockId':_0x2fede6['id'],'traceLevel':_0x461f39[_0x2df53c(0x630)],'timestamp':Date[_0x2df53c(0x5bc)](),'startTime':_0x34697b,'status':_0x2df53c(0x811),'entities':_0x2fede6['accumulated']['entities'],'relations':_0x11d03e,'totalRelationsExtracted':_0x11d03e[_0x2df53c(0x11a)]}),await _0x115ec1(_0x5dc80b,_0x11d03e,_0x2fede6,_0x50dada,_0xb3c856);}function _0x4582fb(_0x157e8f,_0x5200d4,_0x12bb87){const _0x1bafd8=_0x14177f;for(const _0x51a4f6 of _0x5200d4)for(const _0x3c0e9e of _0x5200d4){if(_0x51a4f6===_0x3c0e9e)continue;const _0x3016b5=_0x157e8f['indexOf'](_0x51a4f6),_0x27619f=_0x157e8f[_0x1bafd8(0x27a)](_0x3c0e9e);-0x1!==_0x3016b5&&-0x1!==_0x27619f&&(_0x12bb87['has'](_0x51a4f6)||_0x12bb87[_0x1bafd8(0x525)](_0x51a4f6,new Set()),_0x12bb87[_0x1bafd8(0x9ba)](_0x51a4f6)[_0x1bafd8(0x1cd)](_0x3c0e9e));}return _0x12bb87;}async function _0x30027b(_0x297439,_0x12eacd,_0x3171b9,_0x12a199,_0x34de19){const _0x4fc77a=_0x14177f,_0x2ae144=Date[_0x4fc77a(0x5bc)]();let _0x16cebe=[];if(_0x12eacd instanceof Array)for(const _0x5029f7 of _0x12eacd){const _0x3169d1=await _0x34de19[_0x4fc77a(0x956)][_0x4fc77a(0x982)](_0x5029f7[_0x4fc77a(0x4cc)]);_0x16cebe=_0x16cebe['concat'](_0x3169d1[_0x4fc77a(0x265)](_0x39e22f=>({'content':_0x39e22f,'start':_0x5029f7[_0x4fc77a(0x8f3)],'length':_0x5029f7[_0x4fc77a(0x5b7)]})));}else _0x16cebe=(await _0x34de19[_0x4fc77a(0x956)]['getSentences'](_0x12eacd))[_0x4fc77a(0x265)](_0x1b0136=>({'content':_0x1b0136,'start':_0x12eacd[_0x4fc77a(0x27a)](_0x1b0136),'length':_0x1b0136[_0x4fc77a(0x5b7)]}));_0x9c156c[_0x4fc77a(0x334)]({'jobType':_0x4b4fdb['Ingest'],'type':_0x38408a[_0x4fc77a(0x40e)],'jobId':_0x297439,'blockId':_0x3171b9['id'],'traceLevel':_0x461f39[_0x4fc77a(0x630)],'startTime':_0x2ae144,'timestamp':Date[_0x4fc77a(0x5bc)](),'status':_0x4fc77a(0x811),'totalSentences':_0x16cebe[_0x4fc77a(0x5b7)],'averageSentenceLength':_0x16cebe[_0x4fc77a(0x50f)]((_0x573717,_0x26fb6b)=>_0x573717+_0x26fb6b[_0x4fc77a(0x5b7)],0x0)/_0x16cebe[_0x4fc77a(0x5b7)]}),await _0x115ec1(_0x297439,_0x16cebe,_0x3171b9,_0x12a199,_0x34de19);}function _0x426eae(_0x47876a,_0x361cf4,_0x1ad961,_0x29980c,_0xc3257c){const _0x3598c5=_0x14177f,_0x2c1ab0=Date['now']();var _0x371e1f;if(_0x1ad961[_0x3598c5(0x21c)]||(_0x1ad961[_0x3598c5(0x21c)]={}),_0x361cf4 instanceof Array?(_0x371e1f=_0x361cf4)[0x0]instanceof Array&&_0x3598c5(0x3ce)==typeof _0x371e1f[0x0]?.[0x0]?_0x1ad961[_0x3598c5(0x21c)][_0x3598c5(0xa1c)]=_0x361cf4:_0x1ad961[_0x3598c5(0x21c)][_0x3598c5(0x14a)]=_0x361cf4:_0x3598c5(0x867)==typeof _0x361cf4?_0x1ad961[_0x3598c5(0x21c)]['content']=_0x361cf4:_0x1ad961[_0x3598c5(0x21c)][_0x3598c5(0x829)]=_0x361cf4,_0x1ad961[_0x3598c5(0x543)]=_0x1ad961[_0x3598c5(0x543)]?_0x1ad961[_0x3598c5(0x543)]+0x1:0x1,_0x1ad3cf(_0x1ad961,_0x29980c)>_0x1ad961[_0x3598c5(0x543)])return;if(!(_0x1ad961[_0x3598c5(0x21c)]['content']&&_0x1ad961[_0x3598c5(0x21c)][_0x3598c5(0x14a)]&&_0x1ad961[_0x3598c5(0x21c)]['vectors']&&_0x1ad961[_0x3598c5(0x21c)][_0x3598c5(0x829)]))throw new Error(_0x3598c5(0x491));const _0x38f001=_0xc3257c[_0x3598c5(0x24c)][_0x3598c5(0x38e)](_0x1ad961['id']);if(_0x38f001['insert'](_0x1ad961['accumulated']['file']['pathName'],_0x1ad961['accumulated'][_0x3598c5(0x4cc)],_0x1ad961[_0x3598c5(0x21c)][_0x3598c5(0x14a)],_0x1ad961['accumulated'][_0x3598c5(0xa1c)]),_0x38f001[_0x3598c5(0x91c)]()){let _0x3a0392=''+(_0xc3257c[_0x3598c5(0x5bb)]??0x1);for(const _0x3b4dbd of _0x29980c)_0x3b4dbd['type']===_0x11dac6[_0x3598c5(0x4d8)]&&(_0x3a0392=_0x3a0392+'-'+(_0x3b4dbd['version']??0x1));_0x38f001[_0x3598c5(0x790)](_0x3a0392);}_0x9c156c[_0x3598c5(0x334)]({'jobType':_0x4b4fdb[_0x3598c5(0x523)],'type':_0x38408a[_0x3598c5(0x7f8)],'jobId':_0x47876a,'blockId':_0x1ad961['id'],'traceLevel':_0x461f39[_0x3598c5(0x630)],'startTime':_0x2c1ab0,'timestamp':Date[_0x3598c5(0x5bc)](),'status':_0x3598c5(0x811),'databaseName':_0x38f001[_0x3598c5(0x352)](),'vectorsAdded':_0x1ad961[_0x3598c5(0x21c)]['vectors'][_0x3598c5(0x5b7)],'filePathName':_0x1ad961[_0x3598c5(0x21c)][_0x3598c5(0x829)]['pathName']});}async function _0x5121ca(_0x2efdd4,_0x2de919,_0x581f97,_0x1291be,_0x261608){const _0x3c5871=_0x14177f,_0x2537a0=Date[_0x3c5871(0x5bc)]();let _0x2dabc4=[];if(_0x2de919 instanceof Array){for(const _0x5f2896 of _0x2de919)_0x2dabc4=_0x2dabc4[_0x3c5871(0x688)](_0x5827df(_0x5f2896['content'],_0x581f97,_0x5f2896['start'],_0x5f2896[_0x3c5871(0x5b7)]));}else _0x2dabc4=_0x5827df(_0x2de919,_0x581f97);_0x9c156c['trace']({'jobType':_0x4b4fdb[_0x3c5871(0x523)],'type':_0x38408a[_0x3c5871(0x1e9)],'jobId':_0x2efdd4,'traceLevel':_0x461f39[_0x3c5871(0x630)],'blockId':_0x581f97['id'],'startTime':_0x2537a0,'timestamp':Date['now'](),'status':'success','totalChunks':_0x2dabc4[_0x3c5871(0x5b7)],'averageChunkLength':_0x2dabc4[_0x3c5871(0x50f)]((_0x55c6fd,_0x447673)=>_0x55c6fd+_0x447673[_0x3c5871(0x5b7)],0x0)/_0x2dabc4[_0x3c5871(0x5b7)]}),await _0x115ec1(_0x2efdd4,_0x2dabc4,_0x581f97,_0x1291be,_0x261608);}function _0x5827df(_0x316124,_0x557eb2,_0x5d59da,_0x57b4e8){const _0x34f967=_0x14177f,_0x1825ba=[],_0x5c4676=_0x316124[_0x34f967(0x31f)]('\x20');let _0x4f6faf='',_0x1bc1f7=-0x1,_0x40144b=0x0,_0x26ae88=0x0;for(const _0x3714e4 of _0x5c4676){if(_0x4f6faf['length']+_0x3714e4[_0x34f967(0x5b7)]>_0x557eb2['attributes'][_0x34f967(0x11a)]){const _0x5de76d=_0x4f6faf['length'];let _0x2bd090=_0x1bc1f7,_0x2dba7e='';for(;_0x2bd090>=0x0&&_0x2dba7e[_0x34f967(0x5b7)]+_0x5c4676[_0x2bd090][_0x34f967(0x5b7)]<_0x557eb2[_0x34f967(0x910)]['overlap'];)_0x2dba7e=_0x5c4676[_0x2bd090]+'\x20'+_0x2dba7e,_0x2bd090--;let _0x4cdae6=_0x40144b,_0x5834f7='';for(;_0x4cdae6<_0x5c4676[_0x34f967(0x5b7)]&&_0x5834f7[_0x34f967(0x5b7)]+_0x5c4676[_0x4cdae6][_0x34f967(0x5b7)]<_0x557eb2[_0x34f967(0x910)][_0x34f967(0x555)];)_0x5834f7+=_0x5c4676[_0x4cdae6]+'\x20',_0x4cdae6++;_0x4f6faf=_0x2dba7e+_0x4f6faf+_0x5834f7,_0x1825ba[_0x34f967(0x993)]({'content':_0x4f6faf[_0x34f967(0x11b)](),'start':_0x5d59da??_0x26ae88,'length':_0x57b4e8??_0x5de76d}),_0x4f6faf='',_0x1bc1f7=_0x40144b-0x1,_0x26ae88+=_0x5de76d;}_0x4f6faf+=_0x3714e4+'\x20',_0x40144b++;}if(_0x4f6faf[_0x34f967(0x5b7)]>0x0){const _0xc0925a=_0x4f6faf[_0x34f967(0x5b7)];let _0x2e896a=_0x1bc1f7,_0x51d999='';for(;_0x2e896a>=0x0&&_0x51d999[_0x34f967(0x5b7)]+_0x5c4676[_0x2e896a][_0x34f967(0x5b7)]<_0x557eb2[_0x34f967(0x910)][_0x34f967(0x555)];)_0x51d999=_0x5c4676[_0x2e896a]+'\x20'+_0x51d999,_0x2e896a--;_0x4f6faf=_0x51d999+_0x4f6faf,_0x1825ba[_0x34f967(0x993)]({'content':_0x4f6faf[_0x34f967(0x11b)](),'start':_0x5d59da??_0x26ae88,'length':_0x57b4e8??_0xc0925a});}return _0x1825ba;}async function _0x115ec1(_0xd9d013,_0x58296f,_0x2b09cf,_0x30e1c5,_0x4fc645){const _0x5549a4=_0x14177f;for(const _0x21c2b4 of _0x2b09cf['links']||[]){const _0x135589=_0x30e1c5['find'](_0x5f52a8=>_0x5f52a8[_0x5549a4(0x222)]===_0x21c2b4['uid']);if(_0x135589)switch(_0x135589[_0x5549a4(0x162)]){case _0x11dac6[_0x5549a4(0x4d8)]:_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x32e)]&&_0x5549a4(0x867)==typeof _0x58296f&&await _0x1e98a6(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);break;case _0x11dac6['ChunkSplitter']:_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x32e)]&&_0x5549a4(0x867)==typeof _0x58296f&&await _0x59c130(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b['Index']&&_0x58296f instanceof Array&&await _0x59c130(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);break;case _0x11dac6[_0x5549a4(0x9cd)]:_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x26a)]&&await _0x380e2d(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);break;case _0x11dac6['EntityExtractor']:_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x8a0)]&&_0x58296f instanceof Array&&await _0x1a9cc6(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);break;case _0x11dac6[_0x5549a4(0x3b4)]:_0x21c2b4['type']===_0x323a5b['Text']&&_0x5549a4(0x867)==typeof _0x58296f&&_0xf5bf7f(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x8a0)]&&_0x58296f instanceof Array&&_0xf5bf7f(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b['Entity']&&_0x58296f instanceof Set&&_0xf5bf7f(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b['Relation']&&_0x58296f instanceof Map&&_0xf5bf7f(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x26a)]&&_0xf5bf7f(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);break;case _0x11dac6[_0x5549a4(0x169)]:_0x21c2b4['type']===_0x323a5b[_0x5549a4(0x32e)]&&'string'==typeof _0x58296f&&await _0x174c96(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4['type']===_0x323a5b[_0x5549a4(0x8a0)]&&_0x58296f instanceof Array&&await _0x174c96(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);break;case _0x11dac6[_0x5549a4(0xa18)]:_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x8a0)]&&_0x58296f instanceof Array&&await _0x1e82a3(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4['type']===_0x323a5b['Entity']&&_0x58296f instanceof Set&&await _0x1e82a3(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);break;case _0x11dac6['SentenceSplitter']:_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x32e)]&&'string'==typeof _0x58296f&&await _0x30027b(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b['Index']&&_0x58296f instanceof Array&&await _0x30027b(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);break;case _0x11dac6[_0x5549a4(0x7f8)]:_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b['Text']&&_0x5549a4(0x867)==typeof _0x58296f&&_0x426eae(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4['type']===_0x323a5b[_0x5549a4(0x8a0)]&&_0x58296f instanceof Array&&_0x426eae(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4['type']===_0x323a5b[_0x5549a4(0x486)]&&_0x58296f instanceof Array&&_0x426eae(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4['type']===_0x323a5b[_0x5549a4(0x26a)]&&_0x426eae(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);break;case _0x11dac6[_0x5549a4(0x1e9)]:_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x32e)]&&_0x5549a4(0x867)==typeof _0x58296f&&await _0x5121ca(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645),_0x21c2b4[_0x5549a4(0x162)]===_0x323a5b[_0x5549a4(0x8a0)]&&_0x58296f instanceof Array&&await _0x5121ca(_0xd9d013,_0x58296f,_0x135589,_0x30e1c5,_0x4fc645);}}}function _0x1ad3cf(_0x5386a2,_0x237655){const _0x4bc7cc=_0x14177f;return _0x237655['filter'](_0x3e9289=>_0x3e9289[_0x4bc7cc(0x81a)]?.['some'](_0x3b8d67=>_0x3b8d67[_0x4bc7cc(0x222)]===_0x5386a2[_0x4bc7cc(0x222)]))['length'];}async function _0x43c161(_0xa5b4a,_0x2eea86,_0x1b1c53,_0x2f8707,_0x8261c2){const _0x95a1f2=_0x14177f;try{let _0x498824;switch(_0x1b1c53[_0x95a1f2(0x162)]){case _0x11dac6[_0x95a1f2(0x976)]:const _0x3f5a58=_0x8261c2[_0x95a1f2(0x24c)][_0x95a1f2(0x5a2)](_0x1b1c53['id']);_0x498824=await _0x3f5a58[_0x95a1f2(0x9ba)](_0x2eea86);break;case _0x11dac6[_0x95a1f2(0x33d)]:const _0xda72a5=_0x8261c2[_0x95a1f2(0x24c)][_0x95a1f2(0x2c8)](_0x1b1c53['id']);_0x498824=await _0xda72a5[_0x95a1f2(0x9ba)](_0x2eea86);}if(!_0x498824)throw new Error(_0x95a1f2(0x7a8));await _0x115ec1(_0xa5b4a,{'file':_0x498824,'pathName':_0x2eea86},_0x1b1c53,structuredClone(_0x2f8707),_0x8261c2);}catch(_0x4ad2db){console['error'](_0x95a1f2(0x7ca),_0x4ad2db);}}const _0x45de17=require('rxjs/operators');class _0xd0e328{[_0x14177f(0x18d)];constructor(){const _0x21543d=_0x14177f;this[_0x21543d(0x18d)]=new _0x305b16[(_0x21543d(0x496))]();}['emit'](_0x181d8c){const _0x555956=_0x14177f;this['subject'][_0x555956(0xa00)](_0x181d8c);}async[_0x14177f(0x97b)](){const _0x558fd5=_0x14177f;return(0x0,_0x305b16[_0x558fd5(0x902)])(this['subject']['pipe']((0x0,_0x45de17[_0x558fd5(0x63c)])(0x1)));}}function _0x51c5fb(_0x40891b,_0x2b1b88,_0x1dc1ee,_0x497caa,_0x2922ef,_0x348b28,_0x4980c2,_0x469da7){const _0x23bda9=_0x14177f,_0x252717=_0x23bda9(0x817)+_0x2922ef['description']+_0x23bda9(0x409),_0x4555d9={'prompt':{'type':_0x23d754['PromptFunctionParamsType'][_0x23bda9(0x291)]}};return _0x9c156c[_0x23bda9(0x334)]({'jobType':_0x4b4fdb[_0x23bda9(0x8e5)],'type':_0x2e248b[_0x23bda9(0x9bb)],'jobId':_0x40891b,'agentId':_0x2b1b88,'threadId':_0x1dc1ee,'traceLevel':_0x461f39[_0x23bda9(0x368)],'startTime':Date[_0x23bda9(0x5bc)](),'timestamp':Date[_0x23bda9(0x5bc)](),'status':'success','function':_0x4f9f10[_0x23bda9(0x93b)],'params':_0x4555d9,'functionDescription':_0x252717}),{'description':_0x252717,'params':_0x4555d9,'callback':async _0x169587=>{const _0xa01b3f=_0x23bda9,_0x4e507a=Date[_0xa01b3f(0x5bc)]();try{if(_0x469da7&&(await _0x3f17ec['wait'](0x1),_0x469da7['emit']({'output':_0xa01b3f(0x8bf)+_0x2922ef[_0xa01b3f(0x1a5)]+'`\x0a\x0a','type':_0xa01b3f(0x798)})),_0xa01b3f(0x867)!=typeof _0x169587?.[_0xa01b3f(0x798)])throw new Error(_0xa01b3f(0x83a));const _0x2f580e=_0x4980c2[_0xa01b3f(0x487)][_0xa01b3f(0x3ee)](_0x710007=>_0x710007['id']===_0x2922ef['modelId']);if(!_0x2f580e)throw new Error('Model\x20not\x20found');const _0x3ac554=_0x4980c2[_0xa01b3f(0x8c5)][_0xa01b3f(0x3ee)](_0x5935e9=>_0x5935e9[_0xa01b3f(0x695)]()===_0x2f580e[_0xa01b3f(0x2a0)]);if(!_0x3ac554)throw new Error(_0xa01b3f(0x275));const _0xca1987=_0x2922ef[_0xa01b3f(0x81a)]?.[_0xa01b3f(0x211)](_0x5b1c27=>{const _0x2d6cc0=_0xa01b3f,_0x30021f=_0x348b28[_0x2d6cc0(0x3ee)](_0x12e1fb=>_0x12e1fb[_0x2d6cc0(0x222)]===_0x5b1c27[_0x2d6cc0(0x222)]);return!!_0x30021f&&_0x5b1c27[_0x2d6cc0(0x162)]===_0x323a5b[_0x2d6cc0(0x32e)]&&_0x30021f[_0x2d6cc0(0x162)]===_0x354414[_0x2d6cc0(0x7e1)];})??!0x1;let _0x41b6f6;if(_0x469da7&&_0xca1987?(await _0x3f17ec[_0xa01b3f(0x77e)](0x1),_0x469da7[_0xa01b3f(0x6a0)]({'output':'\x0a\x0a','type':_0xa01b3f(0x798)}),_0x41b6f6=await async function(_0x4b73d4,_0x1e097b,_0xaaf7b8,_0x4797c6,_0x1782f0,_0x27d330,_0x37bcd8,_0x4f179f,_0x59177b){const _0x1c7820=_0xa01b3f;let _0x2394e3='';const _0x446ee4=_0x59177b[_0x1c7820(0x487)][_0x1c7820(0x3ee)](_0x5d2592=>_0x5d2592['id']===_0x27d330['modelId']);if(!_0x446ee4)throw new Error(_0x1c7820(0x247));const _0x520036=_0x59177b[_0x1c7820(0x8c5)]['find'](_0x34daaa=>_0x34daaa[_0x1c7820(0x695)]()===_0x446ee4['engineType']);if(!_0x520036)throw new Error(_0x1c7820(0x275));for await(const _0x3a6a13 of _0x520036[_0x1c7820(0x585)]({'type':_0x1c7820(0x798),'prompt':_0x556268(_0x4797c6,_0x27d330),'instructions':_0x4c0f98('',_0x27d330,_0x446ee4),'grammar':_0x27d330[_0x1c7820(0x163)],'temperature':_0x27d330[_0x1c7820(0x23b)],'maxTokens':_0x27d330[_0x1c7820(0x970)],'functions':await _0x2f9fc1(_0x4b73d4,_0x1e097b,_0xaaf7b8,_0x1782f0,_0x27d330,_0x37bcd8,_0x59177b,_0x4f179f),'threadId':_0xaaf7b8},{'model':_0x446ee4,'sequences':0x2}))_0x4f179f[_0x1c7820(0x6a0)](_0x3a6a13),_0x2394e3+=_0x3a6a13['output'];return{'type':'prompt','output':_0x2394e3};}(_0x40891b,_0x2b1b88,_0x1dc1ee,_0x169587[_0xa01b3f(0x798)],_0x497caa,_0x2922ef,_0x348b28,_0x469da7,_0x4980c2),await _0x3f17ec['wait'](0x1),_0x469da7[_0xa01b3f(0x6a0)]({'output':'\x0a\x0a','type':_0xa01b3f(0x798)})):_0x41b6f6=await _0x3ac554[_0xa01b3f(0x7c4)]({'type':_0xa01b3f(0x798),'prompt':_0x556268(_0x169587['prompt'],_0x2922ef),'instructions':_0x4c0f98('',_0x2922ef,_0x2f580e),'grammar':_0x2922ef[_0xa01b3f(0x163)],'temperature':_0x2922ef[_0xa01b3f(0x23b)],'maxTokens':_0x2922ef[_0xa01b3f(0x970)],'functions':await _0x2f9fc1(_0x40891b,_0x2b1b88,_0x1dc1ee,_0x497caa,_0x2922ef,_0x348b28,_0x4980c2,_0x469da7),'threadId':_0x1dc1ee},{'model':_0x2f580e,'sequences':0x2}),_0xa01b3f(0x867)!=typeof _0x41b6f6[_0xa01b3f(0x58d)])throw new Error(_0xa01b3f(0x279));return _0x9c156c['trace']({'jobType':_0x4b4fdb['Skill'],'type':_0x4f9f10['ExecuteAgent'],'jobId':_0x40891b,'blockId':_0x2922ef['id'],'agentId':_0x2b1b88,'threadId':_0x1dc1ee,'traceLevel':_0x461f39['Info'],'startTime':_0x4e507a,'timestamp':Date['now'](),'status':_0xa01b3f(0x811),'agentName':_0x2922ef[_0xa01b3f(0x1a5)],'prompt':_0x169587[_0xa01b3f(0x798)],'instructions':_0x2922ef[_0xa01b3f(0x6f6)],'result':_0x41b6f6['output'],'inputTokens':0x0,'outputTokens':0x0}),_0x2922ef[_0xa01b3f(0x81a)]?.[_0xa01b3f(0x211)](_0x32257a=>_0x32257a[_0xa01b3f(0x162)]===_0x323a5b['Context'])?(_0x71f2d7(_0x41b6f6[_0xa01b3f(0x58d)],_0x2922ef,_0x348b28),_0xa01b3f(0x988)):_0x41b6f6[_0xa01b3f(0x58d)];}catch(_0x5557f2){return console[_0xa01b3f(0x70e)](_0x5557f2),_0x9c156c[_0xa01b3f(0x334)]({'jobType':_0x4b4fdb[_0xa01b3f(0xa21)],'type':_0x4f9f10[_0xa01b3f(0x93b)],'jobId':_0x40891b,'blockId':_0x2922ef['id'],'agentId':_0x2b1b88,'threadId':_0x1dc1ee,'traceLevel':_0x461f39['Info'],'startTime':_0x4e507a,'timestamp':Date['now'](),'status':'error','errorDetails':_0x14e9ad(_0x5557f2),'agentName':_0x2922ef[_0xa01b3f(0x1a5)],'prompt':_0x169587?.['prompt']??'','instructions':_0x2922ef[_0xa01b3f(0x6f6)],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x5557f2 instanceof Error?_0x5557f2['message']:_0xa01b3f(0x8ae);}}};}async function _0x31d7f7(_0x3a122c,_0x31bc65,_0x468c20,_0x10c581,_0x5c072c,_0x3d67bd,_0x4fcfe4){const _0x547d32=_0x14177f,_0x20b287=Date[_0x547d32(0x5bc)](),_0x320813=new Set();if(_0x468c20 instanceof Array){for(const _0x9fb5c8 of _0x468c20)await _0x5e8df5(_0x9fb5c8[_0x547d32(0x4cc)],_0x5c072c,_0x320813,_0x4fcfe4[_0x547d32(0x956)]);}else await _0x5e8df5(_0x468c20,_0x5c072c,_0x320813,_0x4fcfe4[_0x547d32(0x956)]);_0x9c156c[_0x547d32(0x334)]({'jobType':_0x4b4fdb[_0x547d32(0x8f9)],'type':_0x2969bd['EntityExtractor'],'jobId':_0x3a122c,'threadId':_0x31bc65,'blockId':_0x5c072c['id'],'traceLevel':_0x461f39['Debug'],'startTime':_0x20b287,'timestamp':Date['now'](),'status':_0x547d32(0x811),'content':_0x468c20,'entitiesExtracted':Array[_0x547d32(0x80f)](_0x320813),'totalEntities':_0x320813[_0x547d32(0x11a)]}),await _0x13c088(_0x3a122c,_0x31bc65,_0x320813,_0x10c581,_0x5c072c,_0x3d67bd,_0x4fcfe4);}async function _0x5e8df5(_0x57c492,_0x536266,_0x423502,_0x51238a){const _0x2a3e4d=_0x14177f,_0xd98d7f=await _0x51238a[_0x2a3e4d(0x69d)](_0x57c492,{'ner':_0x536266[_0x2a3e4d(0x910)][_0x2a3e4d(0xa17)],'noun':_0x536266[_0x2a3e4d(0x910)][_0x2a3e4d(0x5f6)],'propn':_0x536266['attributes'][_0x2a3e4d(0x96d)],'verb':_0x536266[_0x2a3e4d(0x910)]['verb']});for(const _0x3dc2c6 of _0xd98d7f)_0x423502[_0x2a3e4d(0x1cd)](_0x3dc2c6);}async function _0x52fdff(_0x2aa851,_0x1ce5a7,_0x41a72c,_0x1b2030,_0x1ced5c,_0x5cd83f,_0x2e99ed){const _0x4f0cc7=_0x14177f,_0x1f38b4=Date[_0x4f0cc7(0x5bc)]();if(_0x1ced5c[_0x4f0cc7(0x21c)]||(_0x1ced5c[_0x4f0cc7(0x21c)]={}),_0x41a72c instanceof Array?(_0x1ced5c['accumulated'][_0x4f0cc7(0x7c7)]||(_0x1ced5c[_0x4f0cc7(0x21c)][_0x4f0cc7(0x7c7)]=[]),_0x1ced5c[_0x4f0cc7(0x21c)][_0x4f0cc7(0x7c7)]['push'](..._0x41a72c)):_0x41a72c instanceof Set?_0x1ced5c['accumulated']['entities']=_0x41a72c:_0x1ced5c[_0x4f0cc7(0x21c)][_0x4f0cc7(0x798)]=_0x41a72c,_0x1ced5c[_0x4f0cc7(0x543)]=_0x1ced5c[_0x4f0cc7(0x543)]?_0x1ced5c['timesCalled']+0x1:0x1,_0x3dca39(_0x1ced5c,_0x5cd83f)>_0x1ced5c[_0x4f0cc7(0x543)])return;if(!_0x1ced5c['accumulated']['prompt']&&!_0x1ced5c[_0x4f0cc7(0x21c)][_0x4f0cc7(0x7c7)]||!_0x1ced5c['accumulated'][_0x4f0cc7(0x3f9)])throw new Error('Graph\x20database\x20block\x20is\x20missing\x20required\x20data');const _0x4931c8=_0x2e99ed['contentMediator'][_0x4f0cc7(0x649)](_0x1ced5c['id'])[_0x4f0cc7(0x710)](Array[_0x4f0cc7(0x80f)](_0x1ced5c[_0x4f0cc7(0x21c)]['entities']),_0x1ced5c[_0x4f0cc7(0x910)][_0x4f0cc7(0x78b)],_0x1ced5c['attributes'][_0x4f0cc7(0x686)]);let _0x14089e=[];for(const _0x1d70a5 in _0x4931c8){const _0x1bb374=_0x4931c8[_0x1d70a5];for(const _0x2cdfcf of _0x1bb374){let _0x3b6fa4=0x0;if(_0x1ced5c[_0x4f0cc7(0x21c)][_0x4f0cc7(0x798)]&&(_0x3b6fa4=await _0x2e99ed[_0x4f0cc7(0x956)]['getSimilarity'](_0x1ced5c['accumulated'][_0x4f0cc7(0x798)],_0x2cdfcf)),_0x1ced5c[_0x4f0cc7(0x21c)][_0x4f0cc7(0x7c7)]){for(const _0x2e18e9 of _0x1ced5c[_0x4f0cc7(0x21c)][_0x4f0cc7(0x7c7)])_0x3b6fa4=Math[_0x4f0cc7(0x65f)](_0x3b6fa4,await _0x2e99ed['nlpLibraryConnector'][_0x4f0cc7(0x778)](_0x2e18e9['content'],_0x2cdfcf));}_0x3b6fa4<_0x1ced5c['attributes'][_0x4f0cc7(0xa07)]||_0x14089e[_0x4f0cc7(0x993)]({'content':_0x2cdfcf,'relevance':_0x3b6fa4,'pathName':_0x1d70a5});}}_0x14089e=_0x14089e['sort']((_0x46cfcc,_0x382746)=>_0x382746[_0x4f0cc7(0x2c0)]-_0x46cfcc['relevance'])[_0x4f0cc7(0x303)](0x0,_0x1ced5c['attributes'][_0x4f0cc7(0x607)]),_0x9c156c[_0x4f0cc7(0x334)]({'jobType':_0x4b4fdb['Retrieve'],'type':_0x2969bd[_0x4f0cc7(0x356)],'jobId':_0x2aa851,'threadId':_0x1ce5a7,'blockId':_0x1ced5c['id'],'traceLevel':_0x461f39['Debug'],'timestamp':Date['now'](),'startTime':_0x1f38b4,'status':_0x4f0cc7(0x811),'content':_0x41a72c,'topResults':_0x14089e,'numResults':_0x14089e[_0x4f0cc7(0x5b7)]}),await _0x13c088(_0x2aa851,_0x1ce5a7,_0x14089e,_0x1b2030,_0x1ced5c,_0x5cd83f,_0x2e99ed);}async function _0x5f5d88(_0x3c2b38,_0x4093f4,_0x104d19,_0x4e264c,_0x1495f2,_0xfdc5a4,_0x3cea3d){const _0x5e9e8e=_0x14177f,_0x136c56=_0x3cea3d['models']['find'](_0x45163a=>_0x45163a['id']===_0x1495f2['id']);if(!_0x136c56)throw new Error(_0x5e9e8e(0x247));let _0x3c3970='';switch(_0x3c3970=_0x104d19 instanceof Array?_0x104d19[_0x5e9e8e(0x265)](_0x2539af=>_0x2539af['content'])[_0x5e9e8e(0x417)](',\x20'):_0x104d19,_0x136c56[_0x5e9e8e(0x98b)]){case _0x23d754[_0x5e9e8e(0x5ef)][_0x5e9e8e(0x32e)]:await async function(_0x267d88,_0x57347d,_0x1a22e7,_0x1df77c,_0x17b21b,_0x139a98,_0x3b9caf,_0x4ceefc){const _0x45c82c=_0x5e9e8e,_0x592829=Date[_0x45c82c(0x5bc)](),_0x1db830=_0x4ceefc[_0x45c82c(0x8c5)]['find'](_0x4328de=>_0x4328de['getEngineType']()===_0x17b21b[_0x45c82c(0x2a0)]);if(!_0x1db830)throw new Error(_0x45c82c(0x275));const _0x3ea5ad=await async function(_0x14f649,_0x4b9235,_0x18c961,_0x3fff95,_0x235b0a){const _0x58d3de=_0x45c82c,_0x47a4c6={'type':_0x58d3de(0x798),'prompt':_0x4b9235,'threadId':_0x14f649};_0x18c961[_0x58d3de(0x139)]['length']>0x0&&(_0x47a4c6[_0x58d3de(0x6f6)]=_0x58d3de(0x393)+_0x18c961[_0x58d3de(0x139)]['map'](_0x1a8872=>_0x58d3de(0x2de)+_0x1a8872[_0x58d3de(0x1ba)]+':\x20'+_0x1a8872[_0x58d3de(0x4cc)])['join']('\x0a'));const _0x4207f6=await _0x3fff95[_0x58d3de(0x7c4)](_0x47a4c6,{'model':_0x235b0a});if(_0x4207f6[_0x58d3de(0x58d)]instanceof Array)throw new Error('Unexpected\x20output\x20type');return _0x18c961[_0x58d3de(0x605)]+=_0x4207f6[_0x58d3de(0x605)]??0x0,_0x18c961['outputTokens']+=_0x4207f6[_0x58d3de(0x2d0)]??0x0,_0x4207f6['output'];}(_0x57347d,_0x1a22e7,_0x1df77c,_0x1db830,_0x17b21b);_0x9c156c[_0x45c82c(0x334)]({'jobType':_0x4b4fdb[_0x45c82c(0x8f9)],'type':_0x2969bd['ModelText'],'jobId':_0x267d88,'threadId':_0x57347d,'blockId':_0x139a98['id'],'traceLevel':_0x461f39[_0x45c82c(0x630)],'startTime':_0x592829,'timestamp':Date[_0x45c82c(0x5bc)](),'status':'success','modelName':_0x17b21b['id'],'content':_0x1a22e7,'newPrompt':_0x3ea5ad,'inputType':_0x17b21b[_0x45c82c(0x96e)],'outputType':_0x17b21b[_0x45c82c(0x98b)]}),await _0x13c088(_0x267d88,_0x57347d,_0x3ea5ad,_0x1df77c,_0x139a98,_0x3b9caf,_0x4ceefc);}(_0x3c2b38,_0x4093f4,_0x3c3970,_0x4e264c,_0x136c56,_0x1495f2,_0xfdc5a4,_0x3cea3d);break;case _0x23d754[_0x5e9e8e(0x5ef)]['Vector']:await async function(_0x371c64,_0x120516,_0x510549,_0x41e142,_0x503e34,_0x26c8b0,_0x2f8d87,_0x5f75aa){const _0x8253e1=_0x5e9e8e,_0x4b59db=Date['now'](),_0x15052c=_0x5f75aa[_0x8253e1(0x8c5)]['find'](_0xef0205=>_0xef0205[_0x8253e1(0x695)]()===_0x503e34[_0x8253e1(0x2a0)]);if(!_0x15052c)throw new Error(_0x8253e1(0x275));const _0x5f7b59=await async function(_0x19e61f,_0x5e888c,_0x5b2b9d,_0x52e2f2){const _0x42c8dd=_0x8253e1;return(await _0x5b2b9d['processJob']({'type':_0x42c8dd(0x798),'prompt':_0x5e888c,'threadId':_0x19e61f},{'model':_0x52e2f2}))[_0x42c8dd(0x58d)];}(_0x120516,_0x510549,_0x15052c,_0x503e34);_0x9c156c['trace']({'jobType':_0x4b4fdb[_0x8253e1(0x8f9)],'type':_0x2969bd['ModelVector'],'jobId':_0x371c64,'threadId':_0x120516,'blockId':_0x26c8b0['id'],'traceLevel':_0x461f39[_0x8253e1(0x630)],'startTime':_0x4b59db,'timestamp':Date[_0x8253e1(0x5bc)](),'status':_0x8253e1(0x811),'modelName':_0x503e34['id'],'content':_0x510549,'totalVectors':_0x5f7b59['length']}),await _0x13c088(_0x371c64,_0x120516,_0x5f7b59,_0x41e142,_0x26c8b0,_0x2f8d87,_0x5f75aa);}(_0x3c2b38,_0x4093f4,_0x3c3970,_0x4e264c,_0x136c56,_0x1495f2,_0xfdc5a4,_0x3cea3d);}}async function _0x16fe54(_0x3f663f,_0x30e3ea,_0x19845b,_0x33ad91,_0x2ec99f,_0x470e54,_0x5e443d){const _0x563997=_0x14177f,_0x55f4d2=Date['now']();if(_0x2ec99f[_0x563997(0x21c)]||(_0x2ec99f[_0x563997(0x21c)]={}),_0x19845b instanceof Array?(_0x2ec99f[_0x563997(0x21c)][_0x563997(0x7c7)]||(_0x2ec99f[_0x563997(0x21c)][_0x563997(0x7c7)]=[]),_0x2ec99f['accumulated'][_0x563997(0x7c7)][_0x563997(0x993)](..._0x19845b)):_0x2ec99f[_0x563997(0x21c)]['prompt']=_0x19845b,_0x2ec99f[_0x563997(0x543)]=_0x2ec99f[_0x563997(0x543)]?_0x2ec99f[_0x563997(0x543)]+0x1:0x1,_0x3dca39(_0x2ec99f,_0x470e54)>_0x2ec99f[_0x563997(0x543)])return;if(!_0x2ec99f['accumulated'][_0x563997(0x798)]||!_0x2ec99f[_0x563997(0x21c)]['results'])throw new Error(_0x563997(0x347));for(const _0x4eefa9 of _0x2ec99f[_0x563997(0x21c)][_0x563997(0x7c7)])_0x4eefa9[_0x563997(0x2c0)]=await _0x5e443d[_0x563997(0x956)][_0x563997(0x778)](_0x2ec99f[_0x563997(0x21c)]['prompt'],_0x4eefa9['content']);const _0x5d6c2e=_0x2ec99f[_0x563997(0x21c)][_0x563997(0x7c7)][_0x563997(0x31d)](_0x10619f=>_0x10619f['relevance']>_0x2ec99f['attributes'][_0x563997(0xa07)])[_0x563997(0x119)]((_0x91a4f1,_0x35c1f1)=>_0x35c1f1[_0x563997(0x2c0)]-_0x91a4f1[_0x563997(0x2c0)])['slice'](0x0,_0x2ec99f[_0x563997(0x910)][_0x563997(0x607)]);_0x9c156c[_0x563997(0x334)]({'jobType':_0x4b4fdb[_0x563997(0x8f9)],'type':_0x2969bd[_0x563997(0x33f)],'jobId':_0x3f663f,'threadId':_0x30e3ea,'blockId':_0x2ec99f['id'],'traceLevel':_0x461f39[_0x563997(0x630)],'startTime':_0x55f4d2,'timestamp':Date['now'](),'status':'success','inputResults':_0x2ec99f[_0x563997(0x21c)][_0x563997(0x7c7)],'rerankedResults':_0x5d6c2e}),await _0x13c088(_0x3f663f,_0x30e3ea,_0x5d6c2e,_0x33ad91,_0x2ec99f,_0x470e54,_0x5e443d);}async function _0x1ce230(_0x585cb3,_0x4e100e,_0x10242c,_0x125bef,_0x1bec98,_0x14a573,_0x161af0){const _0x24a4c0=_0x14177f,_0x325d47=Date[_0x24a4c0(0x5bc)](),_0x1b595c=_0x161af0[_0x24a4c0(0x24c)][_0x24a4c0(0x38e)](_0x1bec98['id'])[_0x24a4c0(0x2e6)](_0x10242c,_0x1bec98['attributes'][_0x24a4c0(0x607)],_0x1bec98[_0x24a4c0(0x910)][_0x24a4c0(0xa07)],_0x1bec98[_0x24a4c0(0x910)][_0x24a4c0(0x686)]);_0x9c156c[_0x24a4c0(0x334)]({'jobType':_0x4b4fdb[_0x24a4c0(0x8f9)],'type':_0x2969bd[_0x24a4c0(0x9ea)],'jobId':_0x585cb3,'threadId':_0x4e100e,'blockId':_0x1bec98['id'],'traceLevel':_0x461f39[_0x24a4c0(0x630)],'startTime':_0x325d47,'timestamp':Date[_0x24a4c0(0x5bc)](),'status':'success','topResults':_0x1b595c,'numResults':_0x1b595c[_0x24a4c0(0x5b7)]}),await _0x13c088(_0x585cb3,_0x4e100e,_0x1b595c,_0x125bef,_0x1bec98,_0x14a573,_0x161af0);}async function _0x13c088(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x4809be,_0x1b175d,_0x3a0d12){const _0x3093de=_0x14177f;for(const _0x2805fe of _0x4809be['links']||[]){const _0x59f09c=_0x1b175d[_0x3093de(0x3ee)](_0x21cdec=>_0x21cdec[_0x3093de(0x222)]===_0x2805fe[_0x3093de(0x222)]);if(_0x59f09c)switch(_0x59f09c[_0x3093de(0x162)]){case _0x11dac6[_0x3093de(0x635)]:_0x2805fe[_0x3093de(0x162)]===_0x323a5b['Search']&&_0x27658f instanceof Array&&_0x915ea1[_0x3093de(0x139)][_0x3093de(0x993)](..._0x27658f);break;case _0x11dac6[_0x3093de(0xa0d)]:_0x2805fe[_0x3093de(0x162)]===_0x323a5b[_0x3093de(0x32e)]&&_0x3093de(0x867)==typeof _0x27658f&&await _0x31d7f7(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12),_0x2805fe['type']===_0x323a5b[_0x3093de(0x39b)]&&_0x27658f instanceof Array&&await _0x31d7f7(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12);break;case _0x11dac6[_0x3093de(0x3b4)]:_0x2805fe['type']===_0x323a5b[_0x3093de(0x32e)]&&_0x3093de(0x867)==typeof _0x27658f&&await _0x52fdff(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12),_0x2805fe[_0x3093de(0x162)]===_0x323a5b[_0x3093de(0x39b)]&&_0x27658f instanceof Array&&await _0x52fdff(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12),_0x2805fe[_0x3093de(0x162)]===_0x323a5b[_0x3093de(0x660)]&&_0x27658f instanceof Set&&await _0x52fdff(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12);break;case _0x11dac6[_0x3093de(0x169)]:_0x2805fe[_0x3093de(0x162)]===_0x323a5b[_0x3093de(0x32e)]&&'string'==typeof _0x27658f&&await _0x5f5d88(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12),_0x2805fe['type']===_0x323a5b[_0x3093de(0x39b)]&&_0x27658f instanceof Array&&await _0x5f5d88(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12);break;case _0x11dac6[_0x3093de(0x33f)]:_0x2805fe['type']===_0x323a5b[_0x3093de(0x32e)]&&'string'==typeof _0x27658f&&await _0x16fe54(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12),_0x2805fe[_0x3093de(0x162)]===_0x323a5b[_0x3093de(0x39b)]&&_0x27658f instanceof Array&&await _0x16fe54(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12);break;case _0x11dac6[_0x3093de(0x7f8)]:_0x2805fe[_0x3093de(0x162)]===_0x323a5b[_0x3093de(0x486)]&&_0x27658f instanceof Array&&await _0x1ce230(_0xf4ac91,_0x4c4f98,_0x27658f,_0x915ea1,_0x59f09c,_0x1b175d,_0x3a0d12);}}}function _0x3dca39(_0x14fdab,_0x1e0984){const _0x4986a4=_0x14177f;return _0x1e0984[_0x4986a4(0x31d)](_0x468e22=>_0x468e22[_0x4986a4(0x81a)]?.[_0x4986a4(0x211)](_0x423b02=>_0x423b02['uid']===_0x14fdab[_0x4986a4(0x222)]))[_0x4986a4(0x5b7)];}async function _0xb53ad3(_0xaddbe5,_0x2bc154,_0x10398b,_0x5a3797,_0x4f4ffc,_0x66a27d){const _0x1fcf83=_0x14177f,_0x536a04={'type':_0x1fcf83(0x798),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x13c088(_0xaddbe5,_0x2bc154,_0x10398b,_0x536a04,_0x5a3797,structuredClone(_0x4f4ffc),_0x66a27d),_0x536a04[_0x1fcf83(0x58d)]=_0x1fcf83(0x393)+_0x536a04['context']['map'](_0x1e756e=>_0x1fcf83(0x2de)+_0x1e756e['pathName']+':\x20'+_0x1e756e[_0x1fcf83(0x4cc)])[_0x1fcf83(0x417)]('\x0a');}catch(_0x19cc3a){console[_0x1fcf83(0x70e)](_0x1fcf83(0x5a4),_0x19cc3a);}return _0x536a04;}function _0xd1165a(_0x481831,_0x4b64d4,_0x3830f5,_0x4766ff,_0x55084e,_0x53c185,_0x5f19a2){const _0x8e6b75=_0x14177f,_0x5ad70c=_0x8e6b75(0x1f6)+_0x55084e[_0x8e6b75(0x8fb)]+_0x8e6b75(0x34b),_0x5ac731={'queryOrPrompt':{'type':_0x23d754[_0x8e6b75(0x4af)][_0x8e6b75(0x291)]}};return _0x9c156c[_0x8e6b75(0x334)]({'jobType':_0x4b4fdb[_0x8e6b75(0x8e5)],'type':_0x2e248b[_0x8e6b75(0x579)],'jobId':_0x481831,'agentId':_0x4b64d4,'threadId':_0x3830f5,'blockId':_0x55084e['id'],'traceLevel':_0x461f39[_0x8e6b75(0x368)],'startTime':Date[_0x8e6b75(0x5bc)](),'timestamp':Date['now'](),'status':'success','function':_0x3eb6e8[_0x8e6b75(0x873)],'params':_0x5ac731,'functionDescription':_0x5ad70c}),{'description':_0x5ad70c,'params':_0x5ac731,'callback':async _0x566236=>{const _0x36824c=_0x8e6b75,_0x45017a=Date['now']();try{if(_0x5f19a2&&(await _0x3f17ec[_0x36824c(0x77e)](0x1),_0x5f19a2[_0x36824c(0x6a0)]({'output':_0x36824c(0x185)+_0x55084e[_0x36824c(0x1a5)]+_0x36824c(0x5dc)+_0x566236?.[_0x36824c(0x205)]+_0x36824c(0x3b7),'type':_0x36824c(0x798)})),_0x36824c(0x867)!=typeof _0x566236?.[_0x36824c(0x205)])throw new Error(_0x36824c(0x890));const _0x1d5ea9=_0x55084e[_0x36824c(0x6f3)][_0x36824c(0x3ee)](_0x3a956d=>_0x3a956d[_0x36824c(0x162)]===_0x11dac6['Prompt']),_0xd11c0d=await _0xb53ad3(_0x481831,_0x3830f5,_0x566236[_0x36824c(0x205)],_0x1d5ea9,_0x55084e[_0x36824c(0x6f3)],_0x53c185);return _0x4766ff[_0x36824c(0x139)]=Array[_0x36824c(0x80f)](new Set([..._0x4766ff[_0x36824c(0x139)],..._0xd11c0d[_0x36824c(0x139)]])),_0x9c156c[_0x36824c(0x334)]({'jobType':_0x4b4fdb[_0x36824c(0x5d2)],'type':_0x3eb6e8[_0x36824c(0x447)],'jobId':_0x481831,'blockId':_0x55084e['id'],'agentId':_0x4b64d4,'threadId':_0x3830f5,'traceLevel':_0x461f39[_0x36824c(0x368)],'startTime':_0x45017a,'timestamp':Date[_0x36824c(0x5bc)](),'status':_0x36824c(0x811),'query':_0x566236[_0x36824c(0x205)],'context':_0xd11c0d[_0x36824c(0x139)]??[],'inputTokens':_0xd11c0d[_0x36824c(0x605)]??0x0,'outputTokens':_0xd11c0d[_0x36824c(0x2d0)]??0x0}),_0xd11c0d[_0x36824c(0x58d)];}catch(_0x1aa228){return console[_0x36824c(0x70e)](_0x1aa228),_0x9c156c['trace']({'jobType':_0x4b4fdb[_0x36824c(0x5d2)],'type':_0x3eb6e8['GetContextResult'],'jobId':_0x481831,'blockId':_0x55084e['id'],'agentId':_0x4b64d4,'threadId':_0x3830f5,'traceLevel':_0x461f39[_0x36824c(0x368)],'startTime':_0x45017a,'timestamp':Date[_0x36824c(0x5bc)](),'status':'error','errorDetails':_0x14e9ad(_0x1aa228),'query':_0x566236?.[_0x36824c(0x205)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x1aa228 instanceof Error?_0x1aa228[_0x36824c(0x84a)]:_0x36824c(0x4ec);}}};}function _0x598833(_0x47afc4,_0x276995,_0x3cae04,_0x27ba1a,_0x56e20d,_0x4798f2){const _0x25e60d=_0x14177f,_0x5cbc33={};for(const _0x106259 of _0x27ba1a[_0x25e60d(0x338)])switch(_0x106259[_0x25e60d(0x162)]){case _0x25e60d(0x867):case _0x25e60d(0x3a9):_0x5cbc33[_0x106259[_0x25e60d(0x1a5)]]={'type':_0x23d754[_0x25e60d(0x4af)]['String']};break;case _0x25e60d(0x3ce):_0x5cbc33[_0x106259[_0x25e60d(0x1a5)]]={'type':_0x23d754[_0x25e60d(0x4af)][_0x25e60d(0x876)]};break;case _0x25e60d(0x374):_0x5cbc33[_0x106259['name']]={'type':_0x23d754[_0x25e60d(0x4af)][_0x25e60d(0x23c)]};}return _0x9c156c[_0x25e60d(0x334)]({'jobType':_0x4b4fdb[_0x25e60d(0x8e5)],'type':_0x2e248b[_0x25e60d(0x9bb)],'jobId':_0x47afc4,'agentId':_0x276995,'threadId':_0x3cae04,'traceLevel':_0x461f39[_0x25e60d(0x368)],'startTime':Date[_0x25e60d(0x5bc)](),'timestamp':Date[_0x25e60d(0x5bc)](),'status':_0x25e60d(0x811),'function':_0x4f9f10[_0x25e60d(0x263)],'params':_0x5cbc33,'functionDescription':_0x27ba1a[_0x25e60d(0x8fb)]}),{'description':_0x25e60d(0x50b)+_0x27ba1a[_0x25e60d(0x8fb)],'params':_0x5cbc33,'callback':async _0x315358=>{const _0x1f5140=_0x25e60d,_0x26e117=Date[_0x1f5140(0x5bc)]();try{if(_0x4798f2&&(await _0x3f17ec[_0x1f5140(0x77e)](0x1),_0x4798f2['emit']({'output':_0x1f5140(0x27e)+_0x27ba1a['name']+_0x1f5140(0x3b7),'type':_0x1f5140(0x798)})),!_0x315358)throw new Error(_0x1f5140(0x8fc));for(const _0x28279a of _0x27ba1a[_0x1f5140(0x338)]){if(void 0x0===_0x315358[_0x28279a[_0x1f5140(0x1a5)]])throw new Error(_0x1f5140(0x304)+_0x28279a[_0x1f5140(0x1a5)]+'\x20is\x20required');if(_0x1f5140(0x867)===_0x28279a['type']&&_0x1f5140(0x867)!=typeof _0x315358[_0x28279a[_0x1f5140(0x1a5)]])throw new Error('Parameter\x20'+_0x28279a[_0x1f5140(0x1a5)]+_0x1f5140(0x8b5));if(_0x1f5140(0x3ce)===_0x28279a[_0x1f5140(0x162)]&&'number'!=typeof _0x315358[_0x28279a['name']])throw new Error(_0x1f5140(0x304)+_0x28279a['name']+_0x1f5140(0x3ba));if(_0x1f5140(0x374)===_0x28279a[_0x1f5140(0x162)]&&'boolean'!=typeof _0x315358[_0x28279a[_0x1f5140(0x1a5)]])throw new Error(_0x1f5140(0x304)+_0x28279a['name']+_0x1f5140(0x95f));if(_0x1f5140(0x3a9)===_0x28279a[_0x1f5140(0x162)]&&_0x1f5140(0x867)!=typeof _0x315358[_0x28279a[_0x1f5140(0x1a5)]])throw new Error(_0x1f5140(0x304)+_0x28279a[_0x1f5140(0x1a5)]+_0x1f5140(0x8b5));if(_0x1f5140(0x3a9)===_0x28279a[_0x1f5140(0x162)])try{_0x315358[_0x28279a['name']]=JSON['parse'](_0x315358[_0x28279a[_0x1f5140(0x1a5)]]);}catch{throw new Error(_0x1f5140(0x304)+_0x28279a['name']+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x6451a6={};for(const _0x21ab30 of _0x27ba1a[_0x1f5140(0x4c5)]){let _0x1de7ef=_0x21ab30[_0x1f5140(0x6f2)];_0x1de7ef[_0x1f5140(0x761)](/\$[a-zA-Z0-9]+/)&&(_0x1de7ef=_0x1de7ef[_0x1f5140(0x79d)](/\$[a-zA-Z0-9]+/g,_0x1a682a=>{const _0x5d7fea=_0x1f5140,_0xda59d4=_0x1a682a[_0x5d7fea(0x303)](0x1);return _0x315358[_0xda59d4];})),_0x6451a6[_0x21ab30[_0x1f5140(0x1a5)]]=_0x1de7ef;}const _0x5a4a54=new URLSearchParams();for(const _0x174af5 of _0x27ba1a['queryParameters']){let _0x495fd3=_0x174af5[_0x1f5140(0x6f2)];if('string'==typeof _0x495fd3&&_0x495fd3[_0x1f5140(0x53a)]('$')){const _0x2bb703=_0x495fd3[_0x1f5140(0x303)](0x1);_0x495fd3=_0x315358[_0x2bb703];}if(_0x1f5140(0x867)==typeof _0x495fd3&&_0x495fd3[_0x1f5140(0x53a)](_0x1f5140(0x729))){const _0x1ec7a4=_0x495fd3['replace'](_0x1f5140(0x729),'');if(_0x27ba1a[_0x1f5140(0x21c)],_0x495fd3=_0x27ba1a[_0x1f5140(0x21c)]?.[_0x1f5140(0x139)]?.[_0x1ec7a4],_0x1f5140(0x867)==typeof _0x495fd3&&_0x495fd3['startsWith']('{')&&_0x495fd3[_0x1f5140(0x98c)]('}'))try{_0x495fd3=JSON[_0x1f5140(0xa51)](_0x495fd3);}catch{}}_0x1f5140(0x867)==typeof _0x495fd3&&_0x495fd3[_0x1f5140(0x53a)]('[')&&_0x495fd3['endsWith'](']')&&(_0x495fd3=_0x495fd3[_0x1f5140(0x303)](0x1,-0x1)['split'](',')),_0x5a4a54[_0x1f5140(0x51c)](_0x174af5[_0x1f5140(0x1a5)],_0x495fd3);}let _0x5578c3=_0x27ba1a[_0x1f5140(0x8d9)];_0x5a4a54[_0x1f5140(0x11a)]>0x0&&(_0x5578c3+='?'+_0x5a4a54['toString']());let _0x3311b5={};for(const _0x365a23 of _0x27ba1a[_0x1f5140(0x350)]){let _0x411e83=_0x365a23[_0x1f5140(0x6f2)];if('string'==typeof _0x411e83&&_0x411e83[_0x1f5140(0x53a)]('$')){const _0xcc7ba7=_0x411e83[_0x1f5140(0x303)](0x1);_0x411e83=_0x315358[_0xcc7ba7];}if(_0x1f5140(0x867)==typeof _0x411e83&&_0x411e83['startsWith']('@context.')){const _0x57c3cf=_0x411e83['replace'](_0x1f5140(0x729),'');if(_0x411e83=_0x27ba1a[_0x1f5140(0x21c)]?.[_0x1f5140(0x139)]?.[_0x57c3cf],_0x1f5140(0x867)==typeof _0x411e83&&_0x411e83[_0x1f5140(0x53a)]('{')&&_0x411e83[_0x1f5140(0x98c)]('}'))try{_0x411e83=JSON[_0x1f5140(0xa51)](_0x411e83);}catch{}}if(_0x1f5140(0x867)==typeof _0x411e83&&_0x411e83[_0x1f5140(0x53a)]('[')&&_0x411e83['endsWith'](']')&&(_0x411e83=_0x411e83[_0x1f5140(0x303)](0x1,-0x1)['split'](',')),_0x1f5140(0x2c3)===_0x365a23['name']){const _0x4e1ba1=_0x411e83[_0x1f5140(0x761)](/```html(.*)```/s);_0x4e1ba1&&(_0x411e83=_0x4e1ba1[0x1]),_0x411e83=_0x411e83['replace'](/\n/g,''),_0x411e83=_0x411e83['replace'](/'/g,'\x22'),_0x3311b5=_0x411e83;break;}if(-0x1===_0x365a23[_0x1f5140(0x1a5)][_0x1f5140(0x27a)]('.'))_0x3311b5[_0x365a23[_0x1f5140(0x1a5)]]=_0x411e83;else{const [_0x1f0c33,_0x130526]=_0x365a23[_0x1f5140(0x1a5)][_0x1f5140(0x31f)]('.');_0x3311b5[_0x1f0c33]||(_0x3311b5[_0x1f0c33]={}),_0x3311b5[_0x1f0c33][_0x130526]=_0x411e83;}}const _0x55033d=await fetch(_0x5578c3,{'method':_0x27ba1a['endpointMethod'],'headers':_0x6451a6,'body':_0x1f5140(0x867)==typeof _0x3311b5?_0x3311b5:JSON[_0x1f5140(0x990)](_0x3311b5)});if(_0x55033d['ok']){let _0x54d58e=await _0x55033d[_0x1f5140(0x3a9)]();return _0x27ba1a[_0x1f5140(0x73b)]&&(_0x54d58e=await function(_0x4d7b13,_0x2b09f3){return new Promise((_0x2b22d9,_0x1f4f0e)=>{const _0x2d5983=a0_0x50bd,_0x2181a2=_0x3f17ec[_0x2d5983(0x2ef)](async()=>{const _0x310584=_0x2d5983;try{if(!_0x4d7b13[_0x310584(0x28b)]||!_0x4d7b13[_0x310584(0x911)])throw new Error(_0x310584(0x209));const _0x3d0502={};if(_0x4d7b13[_0x310584(0x1cc)]){for(const _0x25a195 of _0x4d7b13['asyncHeaders'])_0x3d0502[_0x25a195[_0x310584(0x1a5)]]=_0x25a195[_0x310584(0x6f2)];}const _0xd2728=_0x4d7b13[_0x310584(0x28b)][_0x310584(0x79d)]('@id',_0x2b09f3),_0x239fac=await fetch(_0xd2728,{'method':_0x4d7b13[_0x310584(0x911)],'headers':_0x3d0502});if(0xc8===_0x239fac[_0x310584(0x32b)]){const _0x1f4afc=await _0x239fac[_0x310584(0x3a9)]();_0x2181a2(),_0x2b22d9(_0x1f4afc);}_0x239fac[_0x310584(0x32b)]>=0x190&&(console[_0x310584(0x70e)](_0x239fac[_0x310584(0x611)]),_0x2181a2(),_0x1f4f0e(new Error(_0x239fac[_0x310584(0x611)])));}catch(_0x473c38){console[_0x310584(0x70e)](_0x473c38),_0x2181a2(),_0x1f4f0e(_0x473c38);}},_0xe8aa48);});}(_0x27ba1a,_0x54d58e['id'])),'string'!=typeof _0x54d58e&&(_0x54d58e=JSON[_0x1f5140(0x990)](_0x54d58e)),_0x9c156c[_0x1f5140(0x334)]({'jobType':_0x4b4fdb[_0x1f5140(0xa21)],'type':_0x4f9f10[_0x1f5140(0x263)],'jobId':_0x47afc4,'agentId':_0x276995,'threadId':_0x3cae04,'blockId':_0x27ba1a['id'],'traceLevel':_0x461f39[_0x1f5140(0x368)],'startTime':_0x26e117,'timestamp':Date[_0x1f5140(0x5bc)](),'status':'success','skillName':_0x27ba1a[_0x1f5140(0x1a5)],'params':_0x315358,'result':_0x54d58e}),_0x27ba1a[_0x1f5140(0x81a)]?.[_0x1f5140(0x211)](_0x197f9a=>_0x197f9a['type']===_0x323a5b[_0x1f5140(0x635)])?(_0x71f2d7(_0x54d58e,_0x27ba1a,_0x56e20d),'{\x20\x22status\x22:\x20\x22success\x22\x20}'):_0x54d58e;}throw new Error(_0x55033d[_0x1f5140(0x611)]);}catch(_0x91ad5f){console[_0x1f5140(0x70e)](_0x91ad5f);const _0x3458a4=_0x91ad5f instanceof Error?_0x91ad5f[_0x1f5140(0x84a)]:_0x1f5140(0x59a);return _0x9c156c[_0x1f5140(0x334)]({'jobType':_0x4b4fdb[_0x1f5140(0xa21)],'type':_0x4f9f10[_0x1f5140(0x263)],'jobId':_0x47afc4,'blockId':_0x27ba1a['id'],'threadId':_0x3cae04,'traceLevel':_0x461f39[_0x1f5140(0x368)],'startTime':_0x26e117,'timestamp':Date[_0x1f5140(0x5bc)](),'agentId':_0x276995,'status':_0x1f5140(0x70e),'skillName':_0x27ba1a[_0x1f5140(0x1a5)],'params':_0x315358??{},'result':_0x3458a4}),_0x3458a4;}}};}function _0x59a817(_0x1bf295,_0xed3cb9,_0x4bfa04,_0x2a0247,_0x395c16,_0x234c58=!0x0){const _0x42ebed=_0x14177f,_0x40c5d2='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x30c97a={'url':{'type':_0x23d754['PromptFunctionParamsType'][_0x42ebed(0x291)]},'page':{'type':_0x23d754[_0x42ebed(0x4af)][_0x42ebed(0x876)]}};return _0x9c156c[_0x42ebed(0x334)]({'jobType':_0x4b4fdb[_0x42ebed(0x8e5)],'type':_0x2e248b[_0x42ebed(0x9bb)],'jobId':_0x1bf295,'agentId':_0xed3cb9,'threadId':_0x4bfa04,'traceLevel':_0x461f39[_0x42ebed(0x368)],'startTime':Date[_0x42ebed(0x5bc)](),'timestamp':Date['now'](),'status':_0x42ebed(0x811),'function':_0x4f9f10[_0x42ebed(0x19e)],'params':_0x30c97a,'functionDescription':_0x40c5d2}),{'description':_0x40c5d2,'params':_0x30c97a,'callback':async _0x5a2601=>{const _0x16eb99=_0x42ebed,_0x1d5f53=Date[_0x16eb99(0x5bc)]();try{if(_0x395c16&&(await _0x3f17ec['wait'](0x1),_0x395c16[_0x16eb99(0x6a0)]({'output':_0x16eb99(0x938)+_0x5a2601?.['url']+_0x16eb99(0x3b7),'type':'prompt'})),_0x16eb99(0x867)!=typeof _0x5a2601?.['url'])throw new Error(_0x16eb99(0x70f));const _0x26cc26=_0x5a2601['url'];if(['.pdf',_0x16eb99(0x861),_0x16eb99(0x5ba),_0x16eb99(0x933),'.pptx','.xls',_0x16eb99(0x13b)][_0x16eb99(0x211)](_0x361d4c=>_0x26cc26[_0x16eb99(0x98c)](_0x361d4c)))throw new Error(_0x16eb99(0x693));const _0x1c824b=await fetch(_0x26cc26),_0x2b9bdb=await _0x1c824b[_0x16eb99(0x795)]();let _0x3c3565=_0x2b9bdb;if(_0x234c58){const _0x5157a4=_0x2b9bdb['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x3a26d9=_0x5157a4?_0x5157a4[0x1]:_0x2b9bdb,_0x3ed4c2=_0x3a26d9[_0x16eb99(0x79d)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x16eb99(0x79d)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x16eb99(0x79d)](/<br\s*\/?>/gi,'\x20')['replace'](/&nbsp;/g,'\x20');_0x3c3565=_0x3ed4c2[_0x16eb99(0x79d)](/<\/?[^>]+(>|$)/g,'')[_0x16eb99(0x79d)](/\s\s+/g,'\x20')[_0x16eb99(0x11b)]();}const _0x506cb7=_0x16eb99(0x3ce)==typeof _0x5a2601[_0x16eb99(0x462)]?_0x5a2601[_0x16eb99(0x462)]:0x1,_0x444663=Math[_0x16eb99(0x4ea)](_0x3c3565['length']/_0x57048a);return _0x3c3565[_0x16eb99(0x5b7)]>_0x57048a&&(_0x3c3565=_0x3c3565[_0x16eb99(0x32a)]((_0x506cb7-0x1)*_0x57048a,(_0x506cb7-0x1)*_0x57048a+_0x57048a)+_0x16eb99(0x342)+(_0x506cb7+0x1)+'.Total\x20pages\x20available:\x20'+_0x444663+'.'),_0x9c156c[_0x16eb99(0x334)]({'jobType':_0x4b4fdb[_0x16eb99(0xa21)],'type':_0x4f9f10[_0x16eb99(0x19e)],'jobId':_0x1bf295,'agentId':_0xed3cb9,'threadId':_0x4bfa04,'blockId':_0x2a0247,'traceLevel':_0x461f39[_0x16eb99(0x368)],'startTime':_0x1d5f53,'timestamp':Date['now'](),'status':_0x1c824b['ok']?_0x16eb99(0x811):_0x16eb99(0x70e),'url':_0x5a2601[_0x16eb99(0x181)],'page':_0x506cb7,'totalPages':_0x444663,'response':_0x3c3565}),_0x3c3565;}catch(_0x2eae65){console[_0x16eb99(0x70e)](_0x2eae65);const _0x134568=_0x2eae65 instanceof Error?_0x2eae65[_0x16eb99(0x84a)]:_0x16eb99(0x59a);return _0x9c156c[_0x16eb99(0x334)]({'jobType':_0x4b4fdb[_0x16eb99(0xa21)],'type':_0x4f9f10[_0x16eb99(0x19e)],'jobId':_0x1bf295,'blockId':_0x2a0247,'threadId':_0x4bfa04,'traceLevel':_0x461f39[_0x16eb99(0x368)],'startTime':_0x1d5f53,'timestamp':Date[_0x16eb99(0x5bc)](),'agentId':_0xed3cb9,'status':_0x16eb99(0x70e),'errorDetails':_0x14e9ad(_0x2eae65),'url':_0x5a2601?.[_0x16eb99(0x181)]??'','page':0x0,'totalPages':0x0,'response':_0x134568}),_0x134568;}}};}async function _0x2f9fc1(_0x94781a,_0x15fcdf,_0xcd191c,_0xa5b1f5,_0x523dd7,_0x563bea,_0x11915c,_0x42cdfd){const _0x416f98=_0x14177f,_0x3d3f32=new Map(),_0x367592=_0x563bea[_0x416f98(0x31d)](_0xfe6745=>_0xfe6745[_0x416f98(0x81a)]?.['find'](_0x260722=>_0x260722[_0x416f98(0x222)]===_0x523dd7[_0x416f98(0x222)]&&(_0x260722[_0x416f98(0x162)]===_0x323a5b['Knowledge']||_0x260722['type']===_0x323a5b[_0x416f98(0xa21)])));for(const _0xc7b89 of _0x367592)_0xc7b89[_0x416f98(0x162)]===_0x354414[_0x416f98(0x5d2)]||_0xc7b89[_0x416f98(0x162)]===_0x354414[_0x416f98(0x661)]?_0x3d3f32[_0x416f98(0x525)](_0x416f98(0x971)+_0xc7b89['name'][_0x416f98(0x79d)](/[^a-zA-Z]/g,''),_0xd1165a(_0x94781a,_0x15fcdf,_0xcd191c,_0xa5b1f5,_0xc7b89,_0x11915c,_0x42cdfd)):_0xc7b89['type']===_0x354414[_0x416f98(0x8da)]||_0xc7b89[_0x416f98(0x162)]===_0x354414[_0x416f98(0x4d8)]?_0x3d3f32[_0x416f98(0x525)](_0x416f98(0x606)+_0xc7b89['name'][_0x416f98(0x79d)](/[^a-zA-Z]/g,''),_0x51c5fb(_0x94781a,_0x15fcdf,_0xcd191c,_0xa5b1f5,_0xc7b89,_0x563bea,_0x11915c,_0x42cdfd)):_0xc7b89[_0x416f98(0x162)]===_0x354414[_0x416f98(0x4e9)]?_0x3d3f32[_0x416f98(0x525)](_0xc7b89[_0x416f98(0x1a5)][_0x416f98(0x79d)](/[^a-zA-Z]/g,''),_0x598833(_0x94781a,_0x15fcdf,_0xcd191c,_0xc7b89,_0x563bea,_0x42cdfd)):_0x3d3f32[_0x416f98(0x525)](_0x447d24(_0xc7b89),await _0x104fa7(_0x94781a,_0x15fcdf,_0xcd191c,_0xc7b89,_0x11915c,_0x42cdfd));return _0x3d3f32;}function _0x447d24(_0x3ade8f){const _0x190175=_0x14177f;switch(_0x3ade8f[_0x190175(0x162)]){case _0x354414[_0x190175(0x4f3)]:return'executeJavascriptCodeSnippet';case _0x354414[_0x190175(0x39b)]:return _0x190175(0x245);case _0x354414[_0x190175(0xa2b)]:return'searchOnPerplexity';case _0x354414[_0x190175(0x75d)]:return _0x190175(0x4b1);case _0x354414['WebScraper']:case _0x354414[_0x190175(0x473)]:return _0x190175(0x2af);}throw new Error(_0x190175(0xa1b));}async function _0x104fa7(_0x5c57c1,_0x27bd00,_0x2dffa7,_0x177d69,_0x5ea58a,_0x5dccc9){const _0x46b284=_0x14177f;switch(_0x177d69[_0x46b284(0x162)]){case _0x354414['Code']:return function(_0xe0f7f0,_0x43e077,_0x28c781,_0x4107d1,_0x15a028){const _0x4c7765=_0x46b284,_0x2dff0f=_0x4c7765(0x6f5),_0x4738f6={'code':{'type':_0x23d754[_0x4c7765(0x4af)][_0x4c7765(0x291)]}};return _0x9c156c[_0x4c7765(0x334)]({'jobType':_0x4b4fdb['JobContext'],'type':_0x2e248b[_0x4c7765(0x9bb)],'jobId':_0xe0f7f0,'agentId':_0x43e077,'threadId':_0x28c781,'traceLevel':_0x461f39[_0x4c7765(0x368)],'startTime':Date[_0x4c7765(0x5bc)](),'timestamp':Date[_0x4c7765(0x5bc)](),'status':_0x4c7765(0x811),'function':_0x4f9f10['ExecuteCode'],'params':_0x4738f6,'functionDescription':_0x2dff0f}),{'description':_0x2dff0f,'params':_0x4738f6,'callback':async _0x2193f4=>{const _0x5ddedd=_0x4c7765,_0xbd6cd7=Date['now']();try{if(_0x15a028&&(await _0x3f17ec['wait'](0x1),_0x15a028['emit']({'output':'\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','type':_0x5ddedd(0x798)})),_0x5ddedd(0x867)!=typeof _0x2193f4?.[_0x5ddedd(0x3bc)])throw new Error(_0x5ddedd(0xa27));const _0x59bbe3=Function(''+_0x2193f4?.[_0x5ddedd(0x3bc)])();let _0x5c20d7='';try{_0x5c20d7=JSON[_0x5ddedd(0x990)](_0x59bbe3);}catch{_0x5c20d7=_0x59bbe3['toString']();}return _0x9c156c['trace']({'jobType':_0x4b4fdb[_0x5ddedd(0xa21)],'type':_0x4f9f10[_0x5ddedd(0x230)],'agentId':_0x43e077,'threadId':_0x28c781,'jobId':_0xe0f7f0,'blockId':_0x4107d1,'traceLevel':_0x461f39[_0x5ddedd(0x368)],'startTime':_0xbd6cd7,'timestamp':Date[_0x5ddedd(0x5bc)](),'status':_0x5ddedd(0x811),'code':_0x2193f4[_0x5ddedd(0x3bc)],'result':_0x5c20d7}),_0x59bbe3;}catch(_0x394cd5){return console['error'](_0x394cd5),_0x9c156c['trace']({'jobType':_0x4b4fdb[_0x5ddedd(0xa21)],'type':_0x4f9f10[_0x5ddedd(0x230)],'jobId':_0xe0f7f0,'blockId':_0x4107d1,'traceLevel':_0x461f39[_0x5ddedd(0x368)],'startTime':_0xbd6cd7,'timestamp':Date[_0x5ddedd(0x5bc)](),'status':'error','errorDetails':_0x14e9ad(_0x394cd5),'agentId':_0x43e077,'threadId':_0x28c781,'code':_0x2193f4?.['code']??'','result':_0x5ddedd(0x1da)}),_0x394cd5 instanceof Error?_0x394cd5[_0x5ddedd(0x84a)]:_0x5ddedd(0x1da);}}};}(_0x5c57c1,_0x27bd00,_0x2dffa7,_0x177d69['id'],_0x5dccc9);case _0x354414['QueryFile']:return async function(_0x1c371b,_0x42ec60,_0x2118da,_0x543a48,_0x5a9a2a,_0x11b456){const _0x5a2d06=_0x46b284;if(!_0x543a48['accumulated']?.[_0x5a2d06(0x9bd)]||0x0===_0x543a48[_0x5a2d06(0x21c)][_0x5a2d06(0x9bd)]['length'])throw new Error(_0x5a2d06(0x296));if(_0x543a48[_0x5a2d06(0x21c)][_0x5a2d06(0x9bd)][_0x5a2d06(0x5b7)]>0x1)throw new Error(_0x5a2d06(0x951));const _0xd0fb69=[',',';','\x09','|',':'],_0x25e2fc=['\x22','\x27'],_0x523737=await _0x543a48[_0x5a2d06(0x21c)]['files'][0x0][_0x5a2d06(0x795)](),_0x285da4=_0x523737['split']('\x0a')[0x0];let _0x2584c7=null,_0x5224f9=null,_0x36feab=0x0;for(const _0x5c1ca3 of _0xd0fb69){const _0x42489c=(_0x285da4['match'](new RegExp('\x5c'+_0x5c1ca3,'g'))||[])[_0x5a2d06(0x5b7)];_0x42489c>_0x36feab&&(_0x36feab=_0x42489c,_0x2584c7=_0x5c1ca3);}_0x2584c7||(_0x2584c7=','),_0x36feab=0x0;for(const _0x5c4ce4 of _0x25e2fc){const _0x5ebddf=(_0x285da4[_0x5a2d06(0x761)](new RegExp('\x5c'+_0x5c4ce4,'g'))||[])[_0x5a2d06(0x5b7)];_0x5ebddf>_0x36feab&&(_0x36feab=_0x5ebddf,_0x5224f9=_0x5c4ce4);}_0x5224f9||(_0x5224f9='\x22');const _0xd9f4fb=_0x5a2d06(0x9dc)+_0x285da4[_0x5a2d06(0x31f)](_0x2584c7)['join'](',\x20'),_0x452e2f={'query':{'type':_0x23d754[_0x5a2d06(0x4af)][_0x5a2d06(0x291)]}};return _0x9c156c[_0x5a2d06(0x334)]({'jobType':_0x4b4fdb[_0x5a2d06(0x8e5)],'type':_0x2e248b[_0x5a2d06(0x9bb)],'jobId':_0x1c371b,'agentId':_0x42ec60,'threadId':_0x2118da,'traceLevel':_0x461f39[_0x5a2d06(0x368)],'startTime':Date[_0x5a2d06(0x5bc)](),'timestamp':Date['now'](),'status':_0x5a2d06(0x811),'function':_0x4f9f10[_0x5a2d06(0x75d)],'params':_0x452e2f,'functionDescription':_0xd9f4fb}),{'description':_0xd9f4fb,'params':_0x452e2f,'callback':async _0x28662b=>{const _0x534eeb=_0x5a2d06,_0x486faf=Date[_0x534eeb(0x5bc)]();try{if(_0x11b456&&(await _0x3f17ec['wait'](0x1),_0x11b456[_0x534eeb(0x6a0)]({'output':_0x534eeb(0x878),'type':_0x534eeb(0x798)})),!_0x5a9a2a[_0x534eeb(0x58c)])throw new Error(_0x534eeb(0x813));if(_0x534eeb(0x867)!=typeof _0x28662b?.[_0x534eeb(0x7ce)])throw new Error(_0x534eeb(0x890));if(!_0x28662b[_0x534eeb(0x7ce)][_0x534eeb(0x775)]('FROM\x20file'))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0xfb754a=await _0x5a9a2a[_0x534eeb(0x58c)]['executeQuery'](_0x523737,_0x28662b[_0x534eeb(0x7ce)],{'headers':!0x0,'quote':_0x5224f9,'separator':_0x2584c7});return _0x9c156c['trace']({'jobType':_0x4b4fdb[_0x534eeb(0xa21)],'type':_0x4f9f10[_0x534eeb(0x75d)],'jobId':_0x1c371b,'agentId':_0x42ec60,'threadId':_0x2118da,'blockId':_0x543a48['id'],'traceLevel':_0x461f39[_0x534eeb(0x368)],'startTime':_0x486faf,'timestamp':Date[_0x534eeb(0x5bc)](),'status':_0x534eeb(0x811),'query':_0x28662b[_0x534eeb(0x7ce)],'results':_0xfb754a}),_0xfb754a;}catch(_0x146711){return console[_0x534eeb(0x70e)](_0x146711),_0x9c156c['trace']({'jobType':_0x4b4fdb['Skill'],'type':_0x4f9f10['QueryFile'],'jobId':_0x1c371b,'blockId':_0x543a48['id'],'traceLevel':_0x461f39[_0x534eeb(0x368)],'startTime':_0x486faf,'timestamp':Date[_0x534eeb(0x5bc)](),'status':_0x534eeb(0x70e),'errorDetails':_0x14e9ad(_0x146711),'agentId':_0x42ec60,'threadId':_0x2118da,'query':_0x28662b?.[_0x534eeb(0x7ce)]??'','results':_0x534eeb(0x622)}),_0x146711 instanceof Error?_0x146711['message']:'Error\x20fetching\x20file';}}};}(_0x5c57c1,_0x27bd00,_0x2dffa7,_0x177d69,_0x5ea58a,_0x5dccc9);case _0x354414[_0x46b284(0x39b)]:return function(_0x1a45d1,_0x55c556,_0x46b78a,_0x19df06,_0x412808,_0x538c9d,_0xc03862){const _0x5bb040=_0x46b284,_0x411d96=_0x5bb040(0x7eb),_0x367ffa={'query':{'type':_0x23d754[_0x5bb040(0x4af)][_0x5bb040(0x291)]}};return _0x9c156c['trace']({'jobType':_0x4b4fdb['JobContext'],'type':_0x2e248b[_0x5bb040(0x9bb)],'jobId':_0x1a45d1,'agentId':_0x55c556,'threadId':_0x46b78a,'traceLevel':_0x461f39[_0x5bb040(0x368)],'startTime':Date[_0x5bb040(0x5bc)](),'timestamp':Date[_0x5bb040(0x5bc)](),'status':'success','function':_0x4f9f10[_0x5bb040(0xa2d)],'params':_0x367ffa,'functionDescription':_0x411d96}),{'description':_0x411d96,'params':_0x367ffa,'callback':async _0x418d2c=>{const _0x3a27f7=_0x5bb040,_0x302fab=Date[_0x3a27f7(0x5bc)]();try{if(_0xc03862&&(await _0x3f17ec[_0x3a27f7(0x77e)](0x1),_0xc03862[_0x3a27f7(0x6a0)]({'output':'\x0a\x0a`Searching\x20on\x20Google\x20for\x20'+_0x418d2c?.[_0x3a27f7(0x7ce)]+'`\x0a\x0a','type':_0x3a27f7(0x798)})),!_0x538c9d[_0x3a27f7(0x2d7)])throw new Error(_0x3a27f7(0x2ae));if(_0x3a27f7(0x867)!=typeof _0x418d2c?.[_0x3a27f7(0x7ce)])throw new Error(_0x3a27f7(0x890));const _0x53a294=await _0x538c9d[_0x3a27f7(0x2d7)][_0x3a27f7(0x2e6)](_0x418d2c[_0x3a27f7(0x7ce)],_0x412808,_0x28f07d['google'][_0x3a27f7(0x733)]);let _0x287290='';for(const _0x519146 of _0x53a294)_0x287290+=_0x519146[_0x3a27f7(0x889)]+_0x3a27f7(0x9a1)+_0x519146[_0x3a27f7(0x181)]+'\x0a'+_0x519146[_0x3a27f7(0x224)]+'\x0a\x0a';return _0x9c156c[_0x3a27f7(0x334)]({'jobType':_0x4b4fdb[_0x3a27f7(0xa21)],'type':_0x4f9f10[_0x3a27f7(0xa2d)],'jobId':_0x1a45d1,'agentId':_0x55c556,'threadId':_0x46b78a,'blockId':_0x19df06,'traceLevel':_0x461f39[_0x3a27f7(0x368)],'startTime':_0x302fab,'timestamp':Date[_0x3a27f7(0x5bc)](),'status':_0x3a27f7(0x811),'query':_0x418d2c[_0x3a27f7(0x7ce)],'results':_0x287290}),_0x287290;}catch(_0x24de2d){return console[_0x3a27f7(0x70e)](_0x24de2d),_0x9c156c[_0x3a27f7(0x334)]({'jobType':_0x4b4fdb[_0x3a27f7(0xa21)],'type':_0x4f9f10[_0x3a27f7(0xa2d)],'jobId':_0x1a45d1,'blockId':_0x19df06,'traceLevel':_0x461f39[_0x3a27f7(0x368)],'startTime':_0x302fab,'timestamp':Date[_0x3a27f7(0x5bc)](),'status':_0x3a27f7(0x70e),'errorDetails':_0x14e9ad(_0x24de2d),'agentId':_0x55c556,'threadId':_0x46b78a,'query':_0x418d2c?.['query']??'','results':_0x3a27f7(0x622)}),_0x24de2d instanceof Error?_0x24de2d[_0x3a27f7(0x84a)]:_0x3a27f7(0x622);}}};}(_0x5c57c1,_0x27bd00,_0x2dffa7,_0x177d69['id'],_0x5ea58a[_0x46b284(0x183)],_0x5ea58a,_0x5dccc9);case _0x354414[_0x46b284(0xa2b)]:return function(_0x29de90,_0x2ce51e,_0x1d1450,_0x3ae943,_0x551ca5,_0x474044,_0x22b01b){const _0x493f89=_0x46b284,_0x2498e7=_0x493f89(0x734),_0x5796b8={'query':{'type':_0x23d754[_0x493f89(0x4af)][_0x493f89(0x291)]}};return _0x9c156c['trace']({'jobType':_0x4b4fdb['JobContext'],'type':_0x2e248b[_0x493f89(0x9bb)],'jobId':_0x29de90,'agentId':_0x2ce51e,'threadId':_0x1d1450,'traceLevel':_0x461f39[_0x493f89(0x368)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x4f9f10[_0x493f89(0x15f)],'params':_0x5796b8,'functionDescription':_0x2498e7}),{'description':_0x2498e7,'params':_0x5796b8,'callback':async _0x2a05fd=>{const _0x5310af=_0x493f89,_0x4a26fc=Date['now']();try{if(_0x22b01b&&(await _0x3f17ec[_0x5310af(0x77e)](0x1),_0x22b01b[_0x5310af(0x6a0)]({'output':_0x5310af(0x550)+_0x2a05fd?.['query']+'`\x0a\x0a','type':_0x5310af(0x798)})),!_0x474044[_0x5310af(0x66c)])throw new Error(_0x5310af(0x4a1));if(_0x5310af(0x867)!=typeof _0x2a05fd?.['query'])throw new Error(_0x5310af(0x890));const _0x9cfe49=await _0x474044[_0x5310af(0x66c)][_0x5310af(0x2e6)](_0x2a05fd[_0x5310af(0x7ce)],_0x551ca5);return _0x9c156c[_0x5310af(0x334)]({'jobType':_0x4b4fdb[_0x5310af(0xa21)],'type':_0x4f9f10[_0x5310af(0x15f)],'jobId':_0x29de90,'agentId':_0x2ce51e,'threadId':_0x1d1450,'blockId':_0x3ae943,'traceLevel':_0x461f39[_0x5310af(0x368)],'startTime':_0x4a26fc,'timestamp':Date[_0x5310af(0x5bc)](),'status':_0x5310af(0x811),'query':_0x2a05fd['query'],'results':_0x9cfe49}),_0x9cfe49;}catch(_0x4138a1){return console[_0x5310af(0x70e)](_0x4138a1),_0x9c156c[_0x5310af(0x334)]({'jobType':_0x4b4fdb['Skill'],'type':_0x4f9f10[_0x5310af(0x15f)],'jobId':_0x29de90,'blockId':_0x3ae943,'traceLevel':_0x461f39[_0x5310af(0x368)],'startTime':_0x4a26fc,'timestamp':Date[_0x5310af(0x5bc)](),'status':_0x5310af(0x70e),'errorDetails':_0x14e9ad(_0x4138a1),'agentId':_0x2ce51e,'threadId':_0x1d1450,'query':_0x2a05fd?.[_0x5310af(0x7ce)]??'','results':'Error\x20searching'}),_0x4138a1 instanceof Error?_0x4138a1[_0x5310af(0x84a)]:_0x5310af(0x622);}}};}(_0x5c57c1,_0x27bd00,_0x2dffa7,_0x177d69['id'],_0x5ea58a['aiSearchApiKey'],_0x5ea58a,_0x5dccc9);case _0x354414['WebScraper']:return _0x59a817(_0x5c57c1,_0x27bd00,_0x2dffa7,_0x177d69['id'],_0x5dccc9);case _0x354414[_0x46b284(0x473)]:return _0x59a817(_0x5c57c1,_0x27bd00,_0x2dffa7,_0x177d69['id'],_0x5dccc9,!0x1);}throw new Error(_0x46b284(0xa1b));}function _0x14e9ad(_0x1e9add){const _0x3fd324=_0x14177f;try{return JSON[_0x3fd324(0x990)](_0x1e9add);}catch(_0x5c3094){return _0x1e9add instanceof Error?_0x1e9add['toString']():_0x3fd324(0x520);}}async function _0x51f6fd(_0x50d720,_0x19f96c,_0x4c832d,_0x203dc6,_0x51ae4b,_0x3df752,_0x370353,_0x3eae5e,_0x250d85){const _0x3ed577=_0x14177f;if(_0x3df752[_0x3ed577(0x21c)]||(_0x3df752[_0x3ed577(0x21c)]={}),_0x19f96c===_0x323a5b[_0x3ed577(0x32e)]&&_0x3ed577(0x867)==typeof _0x4c832d&&(_0x3df752[_0x3ed577(0x21c)]['prompt']=_0x4c832d),_0x3df752[_0x3ed577(0x543)]=_0x3df752[_0x3ed577(0x543)]?_0x3df752['timesCalled']+0x1:0x1,_0x1bd8f1(_0x3df752,_0x370353)>_0x3df752[_0x3ed577(0x543)])return;if(_0x1734f6[_0x3ed577(0x940)](_0x3ed577(0xa34)+_0x3df752[_0x3ed577(0x1a5)],_0x3df752[_0x3ed577(0x543)]),!_0x3df752[_0x3ed577(0x21c)]['prompt'])throw new Error(_0x3ed577(0x67c)+_0x3df752[_0x3ed577(0x1a5)]);const _0x3cec26=_0x3eae5e[_0x3ed577(0x487)]['find'](_0x230299=>_0x230299['id']===_0x3df752['modelId']);if(!_0x3cec26)throw new Error('Model\x20not\x20found');if(!_0x3eae5e[_0x3ed577(0x8c5)][_0x3ed577(0x3ee)](_0x2f9140=>_0x2f9140[_0x3ed577(0x695)]()===_0x3cec26[_0x3ed577(0x2a0)]))throw new Error(_0x3ed577(0x275));_0x250d85&&_0x250d85[_0x3ed577(0x6a0)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x3df752[_0x3ed577(0x1a5)]+_0x3ed577(0x3b7),'type':'prompt'});const _0x2761c0=Date[_0x3ed577(0x5bc)](),_0x881d47=(0x0,_0x3fe08f['v4'])(),_0x18ef03=_0x250d85?await async function(_0x23ae78,_0x5e8178,_0x125f1e,_0x3c58af,_0xb87ed,_0x4e9e28,_0x4d4c46,_0x3838a3){const _0xc75c80=_0x3ed577,_0x3b146b=_0x3838a3['models'][_0xc75c80(0x3ee)](_0x51ac64=>_0x51ac64['id']===_0xb87ed['modelId']);if(!_0x3b146b)throw new Error(_0xc75c80(0x247));const _0x1a7f10=_0x3838a3[_0xc75c80(0x8c5)][_0xc75c80(0x3ee)](_0x5c0181=>_0x5c0181[_0xc75c80(0x695)]()===_0x3b146b[_0xc75c80(0x2a0)]);if(!_0x1a7f10)throw new Error('No\x20connector\x20found\x20for\x20model');if(!_0xb87ed[_0xc75c80(0x21c)]||!_0xb87ed['accumulated'][_0xc75c80(0x798)])throw new Error(_0xc75c80(0x527));const _0x41f48f={'type':'prompt','output':''};for await(const _0x5b9cdf of _0x1a7f10[_0xc75c80(0x585)]({'type':_0x125f1e[_0xc75c80(0x162)],'prompt':_0x556268(_0xb87ed[_0xc75c80(0x21c)][_0xc75c80(0x798)],_0xb87ed),'instructions':_0x4c0f98(_0x125f1e['instructions']??'',_0xb87ed,_0x3b146b),'grammar':_0xb87ed['grammar'],'temperature':_0xb87ed[_0xc75c80(0x23b)],'maxTokens':_0xb87ed[_0xc75c80(0x970)],'history':_0x125f1e[_0xc75c80(0x8fa)],'functions':await _0x2f9fc1(_0x23ae78,_0x5e8178,_0x125f1e[_0xc75c80(0x3e4)],_0x3c58af,_0xb87ed,_0x4e9e28,_0x3838a3,_0x4d4c46),'threadId':_0x125f1e[_0xc75c80(0x3e4)]},{'model':_0x3b146b,'sequences':0x2}))_0xb87ed[_0xc75c80(0x81a)]&&_0xb87ed[_0xc75c80(0x81a)][_0xc75c80(0x211)](_0x56c528=>{const _0x5dbc3a=_0xc75c80,_0x26a713=_0x4e9e28[_0x5dbc3a(0x3ee)](_0x3ff217=>_0x3ff217[_0x5dbc3a(0x222)]===_0x56c528[_0x5dbc3a(0x222)]);return!!_0x26a713&&_0x56c528[_0x5dbc3a(0x162)]===_0x323a5b[_0x5dbc3a(0x32e)]&&_0x26a713[_0x5dbc3a(0x162)]===_0x354414[_0x5dbc3a(0x7e1)];})&&_0x4d4c46[_0xc75c80(0x6a0)](_0x5b9cdf),'string'==typeof _0x41f48f[_0xc75c80(0x58d)]&&_0xc75c80(0x867)==typeof _0x5b9cdf[_0xc75c80(0x58d)]&&(_0x41f48f[_0xc75c80(0x58d)]+=_0x5b9cdf[_0xc75c80(0x58d)]),_0x41f48f[_0xc75c80(0x605)]=_0x5b9cdf[_0xc75c80(0x605)],_0x41f48f[_0xc75c80(0x2d0)]=_0x5b9cdf[_0xc75c80(0x2d0)];return _0x41f48f;}(_0x50d720,_0x881d47,_0x203dc6,_0x51ae4b,_0x3df752,_0x370353,_0x250d85,_0x3eae5e):await async function(_0x2c380f,_0x23adc4,_0x616a36,_0x261b0c,_0x1f3657,_0x5d9686,_0x5a9fc5){const _0x502db7=_0x3ed577,_0x3b3e48=_0x5a9fc5[_0x502db7(0x487)][_0x502db7(0x3ee)](_0x301962=>_0x301962['id']===_0x1f3657[_0x502db7(0xa4e)]);if(!_0x3b3e48)throw new Error(_0x502db7(0x247));const _0x1e8293=_0x5a9fc5[_0x502db7(0x8c5)]['find'](_0x39228c=>_0x39228c['getEngineType']()===_0x3b3e48[_0x502db7(0x2a0)]);if(!_0x1e8293)throw new Error(_0x502db7(0x275));if(!_0x1f3657[_0x502db7(0x21c)]||!_0x1f3657[_0x502db7(0x21c)][_0x502db7(0x798)])throw new Error(_0x502db7(0x527));return _0x1e8293['processJob']({'type':'prompt','prompt':_0x556268(_0x1f3657[_0x502db7(0x21c)][_0x502db7(0x798)],_0x1f3657),'instructions':_0x4c0f98(_0x616a36[_0x502db7(0x6f6)]??'',_0x1f3657,_0x3b3e48),'grammar':_0x1f3657[_0x502db7(0x163)],'temperature':_0x1f3657['temperature'],'maxTokens':_0x1f3657[_0x502db7(0x970)],'history':_0x616a36[_0x502db7(0x8fa)],'functions':await _0x2f9fc1(_0x2c380f,_0x23adc4,_0x616a36['threadId'],_0x261b0c,_0x1f3657,_0x5d9686,_0x5a9fc5),'threadId':_0x616a36['threadId']},{'model':_0x3b3e48,'sequences':0x2});}(_0x50d720,_0x881d47,_0x203dc6,_0x51ae4b,_0x3df752,_0x370353,_0x3eae5e);if('string'!=typeof _0x18ef03['output'])throw new Error(_0x3ed577(0x279));_0x51ae4b['inputTokens']+=_0x18ef03[_0x3ed577(0x605)]??0x0,_0x51ae4b['outputTokens']+=_0x18ef03[_0x3ed577(0x2d0)]??0x0,_0x9c156c[_0x3ed577(0x334)]({'jobType':_0x4b4fdb['Workflow'],'type':_0x522d5b[_0x3ed577(0x592)],'jobId':_0x50d720,'agentId':_0x881d47,'threadId':_0x203dc6[_0x3ed577(0x3e4)],'traceLevel':_0x461f39['Info'],'startTime':_0x2761c0,'timestamp':Date[_0x3ed577(0x5bc)](),'blockId':_0x3df752['id'],'status':'success','output':_0x18ef03[_0x3ed577(0x58d)],'prompt':_0x3df752[_0x3ed577(0x21c)][_0x3ed577(0x798)],'agentName':_0x3df752[_0x3ed577(0x1a5)],'history':[],'instructions':''+_0x3df752[_0x3ed577(0x6f6)]+(_0x203dc6['instructions']??''),'ragContext':_0x18ef03[_0x3ed577(0x139)]??[],'inputTokens':_0x18ef03[_0x3ed577(0x605)]??0x0,'outputTokens':_0x18ef03[_0x3ed577(0x2d0)]??0x0}),_0x71f2d7(_0x18ef03['output'],_0x3df752,_0x370353),await _0x1b7b3c(_0x50d720,_0x18ef03[_0x3ed577(0x58d)],_0x203dc6,_0x51ae4b,_0x3df752,_0x370353,_0x3eae5e,_0x250d85);}function _0x556268(_0x2e5d9c,_0xf81ff9){const _0x2d271d=_0x14177f;if(!_0xf81ff9[_0x2d271d(0x21c)]||!_0xf81ff9[_0x2d271d(0x21c)]['context'])return _0x2e5d9c;if(_0xf81ff9[_0x2d271d(0x21c)][_0x2d271d(0x139)])for(const _0x4213a9 of Object['keys'](_0xf81ff9[_0x2d271d(0x21c)][_0x2d271d(0x139)])){const _0x2cdd3=_0xf81ff9[_0x2d271d(0x21c)][_0x2d271d(0x139)][_0x4213a9];_0x2e5d9c=_0x2cdd3 instanceof Array?_0x2d271d(0x886)+_0x4213a9+':\x0a\x0a'+_0x2cdd3[_0x2d271d(0x265)](_0x2cda1a=>_0x2d271d(0x2de)+_0x2cda1a[_0x2d271d(0x1ba)]+':\x20'+_0x2cda1a['content'])['join']('\x0a\x0a')+'\x0a\x0a'+_0x2e5d9c:_0x2d271d(0x357)+_0x4213a9+':\x20'+_0x2cdd3+'\x0a\x0a'+_0x2e5d9c;}return _0x2e5d9c;}function _0x4c0f98(_0x2875ec,_0x43c889,_0x24d664){const _0x521975=_0x14177f;let _0x581457='';return _0x24d664[_0x521975(0x8f2)]&&''!==_0x24d664['knowledgeCutoffDate']&&(_0x581457=_0x521975(0x9b2)+_0x24d664[_0x521975(0x8f2)]+'\x0a\x0a'),_0x581457=_0x581457+_0x521975(0x288)+new Date()[_0x521975(0x1ca)](void 0x0,{'weekday':'long','year':_0x521975(0x830),'month':'long','day':_0x521975(0x830)})+'\x0a\x0a',''+_0x581457+_0x43c889[_0x521975(0x6f6)]+_0x2875ec;}function _0x9c382b(_0x295fbb,_0x2e2163,_0x1baab0){const _0x437c10=_0x14177f;_0x1baab0[_0x437c10(0x21c)]||(_0x1baab0[_0x437c10(0x21c)]={}),_0x1baab0[_0x437c10(0x21c)][_0x437c10(0x139)]||(_0x1baab0[_0x437c10(0x21c)][_0x437c10(0x139)]={});const _0x3779b8=_0x1baab0[_0x437c10(0x77b)]?.[_0x437c10(0x31f)](',');_0x3779b8&&_0x3779b8[_0x437c10(0x775)](_0x295fbb)&&(_0x1baab0[_0x437c10(0x21c)][_0x437c10(0x139)][_0x295fbb]=_0x2e2163);}function _0x47ed4c(_0x4de29e,_0x958147,_0x3b967b,_0x1a6d71){const _0x44e494=_0x14177f;_0x4de29e===_0x323a5b[_0x44e494(0x635)]&&(_0x1a6d71[_0x44e494(0x21c)]||(_0x1a6d71['accumulated']={}),_0x1a6d71[_0x44e494(0x21c)]['context']||(_0x1a6d71[_0x44e494(0x21c)][_0x44e494(0x139)]={}),_0x1a6d71['accumulated'][_0x44e494(0x139)][_0x958147]=_0x3b967b);}async function _0x3ba4ee(_0x1cb7af,_0x332a7c,_0xbfa182,_0x2ae8ab,_0x150742,_0x4ceb0e,_0x922f86,_0x1eebf6){const _0x1b6af5=function(_0x28ecda,_0x22c604){const _0x3f5778=a0_0x50bd,_0xb5e10=[];for(let _0x2bd55b=0x0;_0x2bd55b<_0x28ecda[_0x3f5778(0x5b7)];_0x2bd55b+=_0x22c604['attributes'][_0x3f5778(0x11a)]){let _0xa37191=_0x2bd55b-_0x22c604[_0x3f5778(0x910)][_0x3f5778(0x555)];_0xa37191<0x0&&(_0xa37191=0x0);let _0x2561ca=_0x2bd55b+_0x22c604[_0x3f5778(0x910)][_0x3f5778(0x11a)]+_0x22c604[_0x3f5778(0x910)]['overlap'];_0x2561ca>_0x28ecda['length']&&(_0x2561ca=_0x28ecda['length']),length||(length=_0x2bd55b+_0x22c604[_0x3f5778(0x910)][_0x3f5778(0x11a)],length>_0x28ecda[_0x3f5778(0x5b7)]&&(length=_0x28ecda[_0x3f5778(0x5b7)])),_0xb5e10[_0x3f5778(0x993)](_0x28ecda[_0x3f5778(0x32a)](_0xa37191,_0x2561ca));}return _0xb5e10;}(_0x332a7c,_0x150742);await _0x1b7b3c(_0x1cb7af,_0x1b6af5,_0xbfa182,_0x2ae8ab,_0x150742,_0x4ceb0e,_0x922f86,_0x1eebf6);}function _0x40cbc3(_0x4bfbb6,_0x135df4,_0x338bf7){const _0x2807a=_0x14177f;_0x338bf7[_0x2807a(0x21c)]||(_0x338bf7['accumulated']={}),_0x338bf7[_0x2807a(0x21c)][_0x2807a(0x139)]||(_0x338bf7[_0x2807a(0x21c)][_0x2807a(0x139)]={}),_0x338bf7[_0x2807a(0x21c)][_0x2807a(0x139)][_0x4bfbb6]=_0x135df4;}async function _0x374a6b(_0x23c64f,_0x2a46fc,_0x15b7fb,_0x39e1e0,_0x1b7553,_0x319fb2,_0x26c1ac,_0x18c0c6){const _0x46df09=_0x14177f;if(_0x1b7553[_0x46df09(0x21c)]||(_0x1b7553['accumulated']={}),_0x1b7553[_0x46df09(0x21c)][_0x46df09(0x46b)]||(_0x1b7553[_0x46df09(0x21c)]['queries']=[]),_0x2a46fc instanceof Array?_0x1b7553['accumulated'][_0x46df09(0x46b)][_0x46df09(0x993)](..._0x2a46fc):_0x1b7553[_0x46df09(0x21c)]['queries'][_0x46df09(0x993)](_0x2a46fc),_0x1b7553[_0x46df09(0x543)]=_0x1b7553[_0x46df09(0x543)]?_0x1b7553[_0x46df09(0x543)]+0x1:0x1,_0x1bd8f1(_0x1b7553,_0x319fb2)>_0x1b7553[_0x46df09(0x543)])return;if(0x0===_0x1b7553[_0x46df09(0x21c)][_0x46df09(0x46b)][_0x46df09(0x5b7)])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x324f34=[];const _0x2c1d1e=Date[_0x46df09(0x5bc)]();try{let _0x4585ea=0x0,_0x134c4c=0x0;for(const _0x1aacb9 of _0x1b7553[_0x46df09(0x21c)][_0x46df09(0x46b)]){const _0x57feb2=_0x1b7553['retrieveBlocks'][_0x46df09(0x3ee)](_0x33c598=>_0x33c598[_0x46df09(0x162)]===_0x11dac6['Prompt']),_0x42bf0d=await _0xb53ad3(_0x23c64f,_0x15b7fb[_0x46df09(0x3e4)],_0x1aacb9,_0x57feb2,_0x1b7553[_0x46df09(0x6f3)],_0x26c1ac);_0x324f34=Array[_0x46df09(0x80f)](new Set([..._0x324f34,..._0x42bf0d[_0x46df09(0x139)]])),_0x4585ea+=_0x42bf0d[_0x46df09(0x605)]??0x0,_0x134c4c+=_0x42bf0d[_0x46df09(0x2d0)]??0x0;}_0x39e1e0['inputTokens']+=_0x4585ea,_0x39e1e0['outputTokens']+=_0x134c4c,_0x39e1e0[_0x46df09(0x139)]=Array[_0x46df09(0x80f)](new Set([..._0x39e1e0[_0x46df09(0x139)],..._0x324f34])),_0x9c156c[_0x46df09(0x334)]({'jobType':_0x4b4fdb[_0x46df09(0x63b)],'type':_0x522d5b[_0x46df09(0x661)],'jobId':_0x23c64f,'threadId':_0x15b7fb[_0x46df09(0x3e4)],'traceLevel':_0x461f39['Info'],'startTime':_0x2c1d1e,'timestamp':Date[_0x46df09(0x5bc)](),'blockId':_0x1b7553['id'],'status':_0x46df09(0x811),'queries':_0x1b7553[_0x46df09(0x21c)][_0x46df09(0x46b)],'context':_0x324f34,'inputTokens':_0x4585ea,'outputTokens':_0x134c4c});}catch(_0x51763b){console[_0x46df09(0x70e)](_0x51763b),_0x9c156c[_0x46df09(0x334)]({'jobType':_0x4b4fdb[_0x46df09(0x63b)],'type':_0x522d5b[_0x46df09(0x661)],'jobId':_0x23c64f,'threadId':_0x15b7fb['threadId'],'traceLevel':_0x461f39[_0x46df09(0x368)],'startTime':_0x2c1d1e,'timestamp':Date[_0x46df09(0x5bc)](),'blockId':_0x1b7553['id'],'status':_0x46df09(0x70e),'queries':_0x1b7553[_0x46df09(0x21c)][_0x46df09(0x46b)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x71f2d7(_0x324f34,_0x1b7553,_0x319fb2),await _0x1b7b3c(_0x23c64f,'',_0x15b7fb,_0x39e1e0,_0x1b7553,_0x319fb2,_0x26c1ac,_0x18c0c6);}async function _0x47d188(_0x111783,_0x278a2f,_0x1fe507,_0x4939db,_0x20c7ef,_0x1a6edd,_0x48c146,_0x5851e8){const _0x5e70ee=_0x14177f,_0x4e1941=await _0x48c146['nlpLibraryConnector'][_0x5e70ee(0x982)](_0x278a2f);await _0x1b7b3c(_0x111783,_0x4e1941,_0x1fe507,_0x4939db,_0x20c7ef,_0x1a6edd,_0x48c146,_0x5851e8);}async function _0x252692(_0x4c7ddb,_0x28b312,_0x1566af,_0xed0682,_0x2f540e,_0x8ed4e2,_0x58ba9e,_0x1cafee){const _0x4d9953=function(_0x1c410b,_0x20ab0e){const _0x2b4c20=a0_0x50bd,_0x1ebd2b=[],_0x51fbc4=_0x1c410b[_0x2b4c20(0x31f)]('\x20');let _0x4f0c9f='',_0x3dc705=0x0,_0x1a5624=0x0,_0x367383=0x0;for(const _0x27b8fd of _0x51fbc4){if(_0x4f0c9f['length']+_0x27b8fd[_0x2b4c20(0x5b7)]>_0x20ab0e[_0x2b4c20(0x910)][_0x2b4c20(0x11a)]){let _0x1baf7e=_0x3dc705,_0x189031='';for(;_0x1baf7e>=0x0&&_0x189031[_0x2b4c20(0x5b7)]+_0x51fbc4[_0x1baf7e][_0x2b4c20(0x5b7)]<_0x20ab0e['attributes'][_0x2b4c20(0x555)];)_0x189031=_0x51fbc4[_0x1baf7e]+'\x20'+_0x189031,_0x1baf7e--;let _0x4f6c9a=_0x1a5624,_0x1d8c22='';for(;_0x4f6c9a<_0x51fbc4[_0x2b4c20(0x5b7)]&&_0x1d8c22['length']+_0x51fbc4[_0x4f6c9a][_0x2b4c20(0x5b7)]<_0x20ab0e[_0x2b4c20(0x910)][_0x2b4c20(0x555)];)_0x1d8c22+=_0x51fbc4[_0x4f6c9a]+'\x20',_0x4f6c9a++;_0x4f0c9f=_0x189031+_0x4f0c9f+_0x1d8c22,_0x1ebd2b[_0x2b4c20(0x993)](_0x4f0c9f[_0x2b4c20(0x11b)]()),_0x4f0c9f='',_0x3dc705=_0x1a5624;}_0x4f0c9f+=_0x27b8fd+'\x20',_0x1a5624++,_0x367383+=_0x27b8fd['length']+0x1;}if(_0x4f0c9f['length']>0x0){let _0x2b5a81=_0x3dc705,_0x4ca136='';for(;_0x2b5a81>=0x0&&_0x4ca136[_0x2b4c20(0x5b7)]+_0x51fbc4[_0x2b5a81][_0x2b4c20(0x5b7)]<_0x20ab0e[_0x2b4c20(0x910)][_0x2b4c20(0x555)];)_0x4ca136=_0x51fbc4[_0x2b5a81]+'\x20'+_0x4ca136,_0x2b5a81--;_0x4f0c9f=_0x4ca136+_0x4f0c9f,_0x1ebd2b[_0x2b4c20(0x993)](_0x4f0c9f[_0x2b4c20(0x11b)]());}return _0x1ebd2b;}(_0x28b312,_0x2f540e);await _0x1b7b3c(_0x4c7ddb,_0x4d9953,_0x1566af,_0xed0682,_0x2f540e,_0x8ed4e2,_0x58ba9e,_0x1cafee);}function _0x71f2d7(_0x20918f,_0x396973,_0x5b56f8,_0x529a1b){const _0x5f9039=_0x14177f;if(_0x396973[_0x5f9039(0x81a)])for(const _0x5aa9f5 of _0x396973[_0x5f9039(0x81a)]){if(_0x5aa9f5[_0x5f9039(0x162)]!==_0x323a5b['Context'])continue;const _0x277f7b=_0x5b56f8[_0x5f9039(0x3ee)](_0x207a7b=>_0x207a7b[_0x5f9039(0x222)]===_0x5aa9f5[_0x5f9039(0x222)]);if(!_0x277f7b)continue;let _0x54128b=_0x396973['id'];switch(_0x529a1b?_0x54128b=_0x529a1b:(_0x396973[_0x5f9039(0x162)]===_0x354414[_0x5f9039(0x661)]&&(_0x54128b=_0x396973[_0x5f9039(0x1a5)]),_0x396973['type']!==_0x354414['Agent']&&_0x396973[_0x5f9039(0x162)]!==_0x354414[_0x5f9039(0x8da)]&&_0x396973[_0x5f9039(0x162)]!==_0x354414['CustomSkill']||(_0x54128b=_0x396973[_0x5f9039(0x58e)]??_0x396973[_0x5f9039(0x1a5)])),_0x277f7b[_0x5f9039(0x162)]){case _0x354414['Agent']:_0x1734f6[_0x5f9039(0x940)](_0x5f9039(0x206),_0x277f7b[_0x5f9039(0x1a5)],_0x54128b),_0x277f7b['accumulated']||(_0x277f7b[_0x5f9039(0x21c)]={}),_0x277f7b['accumulated']['context']||(_0x277f7b[_0x5f9039(0x21c)][_0x5f9039(0x139)]={});const _0x49f750=_0x277f7b[_0x5f9039(0x77b)]?.[_0x5f9039(0x31f)](',');if(!(_0x49f750&&_0x49f750[_0x5f9039(0x775)](_0x54128b)||_0x5f9039(0x5c3)===_0x54128b))return;_0x277f7b[_0x5f9039(0x21c)][_0x5f9039(0x139)][_0x54128b]=_0x20918f;break;case _0x354414[_0x5f9039(0x8da)]:_0x1734f6[_0x5f9039(0x940)](_0x5f9039(0x60d),_0x277f7b[_0x5f9039(0x1a5)],_0x54128b),_0x9c382b(_0x54128b,_0x20918f,_0x277f7b);break;case _0x354414[_0x5f9039(0x7e1)]:_0x1734f6['forceLog'](_0x5f9039(0x807),_0x54128b),_0x5f9039(0x867)==typeof _0x20918f&&_0x47ed4c(_0x5aa9f5[_0x5f9039(0x162)],_0x54128b,_0x20918f,_0x277f7b);break;case _0x354414['CustomSkill']:_0x1734f6[_0x5f9039(0x940)](_0x5f9039(0x70a),_0x277f7b[_0x5f9039(0x1a5)],_0x54128b),_0x5f9039(0x867)==typeof _0x20918f&&_0x40cbc3(_0x54128b,_0x20918f,_0x277f7b);}}}async function _0x1b7b3c(_0x4c5a05,_0x5f27ee,_0x17be15,_0x153922,_0x4f698f,_0x50435c,_0xa0aea1,_0x5e83fc){const _0x172e18=_0x14177f;if(await _0x3f17ec[_0x172e18(0x77e)](0x1),_0x4f698f[_0x172e18(0x81a)]){for(const _0x510eef of _0x4f698f['links']){if(_0x510eef[_0x172e18(0x162)]===_0x323a5b['Context'])continue;const _0x73f41a=_0x50435c['find'](_0x29ae23=>_0x29ae23[_0x172e18(0x222)]===_0x510eef[_0x172e18(0x222)]);if(_0x73f41a)switch(_0x73f41a[_0x172e18(0x162)]){case _0x354414[_0x172e18(0x4d8)]:_0x510eef['type']!==_0x323a5b[_0x172e18(0x32e)]&&_0x510eef[_0x172e18(0x162)]!==_0x323a5b['Wait']||_0x172e18(0x867)!=typeof _0x5f27ee||await _0x51f6fd(_0x4c5a05,_0x510eef[_0x172e18(0x162)],_0x5f27ee,_0x17be15,_0x153922,_0x73f41a,_0x50435c,_0xa0aea1,_0x5e83fc);break;case _0x354414['ChunkSplitter']:_0x510eef[_0x172e18(0x162)]===_0x323a5b[_0x172e18(0x32e)]&&_0x172e18(0x867)==typeof _0x5f27ee&&await _0x3ba4ee(_0x4c5a05,_0x5f27ee,_0x17be15,_0x153922,_0x73f41a,_0x50435c,_0xa0aea1,_0x5e83fc);break;case _0x354414['DataCollection']:_0x510eef[_0x172e18(0x162)]===_0x323a5b['Text']&&'string'==typeof _0x5f27ee&&await _0x374a6b(_0x4c5a05,_0x5f27ee,_0x17be15,_0x153922,_0x73f41a,_0x50435c,_0xa0aea1,_0x5e83fc),_0x510eef[_0x172e18(0x162)]===_0x323a5b[_0x172e18(0x32e)]&&_0x5f27ee instanceof Array&&await _0x374a6b(_0x4c5a05,_0x5f27ee,_0x17be15,_0x153922,_0x73f41a,_0x50435c,_0xa0aea1,_0x5e83fc);break;case _0x354414[_0x172e18(0x40e)]:_0x510eef[_0x172e18(0x162)]===_0x323a5b['Text']&&_0x172e18(0x867)==typeof _0x5f27ee&&await _0x47d188(_0x4c5a05,_0x5f27ee,_0x17be15,_0x153922,_0x73f41a,_0x50435c,_0xa0aea1,_0x5e83fc);break;case _0x354414[_0x172e18(0x1e9)]:_0x510eef['type']===_0x323a5b[_0x172e18(0x32e)]&&_0x172e18(0x867)==typeof _0x5f27ee&&await _0x252692(_0x4c5a05,_0x5f27ee,_0x17be15,_0x153922,_0x73f41a,_0x50435c,_0xa0aea1,_0x5e83fc);}}_0x4f698f[_0x172e18(0x162)]===_0x354414['Prompt']&&_0x5e83fc&&_0x5e83fc[_0x172e18(0x6a0)](void 0x0);}else _0x4f698f[_0x172e18(0x162)]===_0x354414[_0x172e18(0x268)]&&_0x5e83fc&&_0x5e83fc[_0x172e18(0x6a0)](void 0x0);}function _0x1bd8f1(_0x18fd26,_0x1627cf){const _0x5093a5=_0x14177f;let _0x225365=0x0;for(const _0x5199b1 of _0x1627cf)for(const _0x3269ee of _0x5199b1[_0x5093a5(0x81a)]??[])_0x3269ee['type']!==_0x323a5b['Context']&&_0x3269ee[_0x5093a5(0x162)]!==_0x323a5b['Knowledge']&&_0x3269ee[_0x5093a5(0x162)]!==_0x323a5b[_0x5093a5(0xa21)]&&_0x3269ee[_0x5093a5(0x222)]===_0x18fd26[_0x5093a5(0x222)]&&_0x225365++;return _0x225365;}async function _0x3b0733(_0x44fd0b,_0x11c53c,_0x163da3,_0x253e35){const _0x139b09=_0x14177f;if(0x0===_0x44fd0b[_0x139b09(0x5b7)])return;let _0x5075c7=_0x139b09(0x35d);for(const _0x8a14bb of _0x44fd0b)if(_0x8a14bb['type']['startsWith'](_0x139b09(0x7fe))||_0x2759bf(_0x8a14bb['name'],_0x28e350))_0x5075c7+='\x0a<'+_0x8a14bb[_0x139b09(0x1a5)]+'>\x0a'+await _0x8a14bb[_0x139b09(0x795)]()+_0x139b09(0x5fe)+_0x8a14bb[_0x139b09(0x1a5)]+'>';else{if(!_0x253e35[_0x139b09(0x461)][_0x139b09(0x72f)](_0x8a14bb))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x8a14bb['type']+_0x139b09(0x9a1)+_0x8a14bb[_0x139b09(0x1a5)]);_0x5075c7+='\x0a<'+_0x8a14bb['name']+'>\x0a'+await _0x253e35[_0x139b09(0x461)][_0x139b09(0xa51)](_0x8a14bb)+_0x139b09(0x5fe)+_0x8a14bb[_0x139b09(0x1a5)]+'>';}_0x5075c7+=_0x139b09(0x980),_0x71f2d7(_0x5075c7,_0x11c53c,_0x163da3,_0x139b09(0x5c3));}function _0x2bb7c7(_0x1f52b5,_0x3befaf){const _0x3e057d=_0x14177f;_0x3befaf['accumulated']||(_0x3befaf['accumulated']={}),_0x3befaf[_0x3e057d(0x21c)][_0x3e057d(0x9bd)]=_0x1f52b5;}async function _0x18fd82(_0x192dad,_0x190ae9,_0xa062fb,_0x44765f){const _0x5664c0=_0x14177f;if(_0x192dad[_0x5664c0(0x9bd)]&&_0x190ae9['links']){const _0x4f57b3=[];for(const _0x13e23e of _0x192dad[_0x5664c0(0x9bd)])_0x4f57b3[_0x5664c0(0x993)](_0x2de65a(_0x13e23e));for(const _0x5ac266 of _0x190ae9[_0x5664c0(0x81a)])if(_0x5664c0(0x829)===_0x5ac266[_0x5664c0(0x162)]){const _0x544d20=_0xa062fb['find'](_0x482996=>_0x482996[_0x5664c0(0x222)]===_0x5ac266[_0x5664c0(0x222)]);if(!_0x544d20)continue;_0x544d20[_0x5664c0(0x162)]===_0x354414[_0x5664c0(0x9cd)]&&await _0x3b0733(_0x4f57b3,_0x544d20,_0xa062fb,_0x44765f),_0x544d20[_0x5664c0(0x162)]===_0x354414[_0x5664c0(0x75d)]&&_0x2bb7c7(_0x4f57b3,_0x544d20);}}}function _0x2de65a(_0x65405c){const _0x50d566=_0x14177f,_0x3b194e=atob(_0x65405c[_0x50d566(0x4cc)]),_0x4bfa81=_0x3b194e['length'],_0x3096a1=new ArrayBuffer(_0x4bfa81),_0x52a184=new Uint8Array(_0x3096a1);for(let _0x491084=0x0;_0x491084<_0x4bfa81;_0x491084++)_0x52a184[_0x491084]=_0x3b194e[_0x50d566(0x4ba)](_0x491084);return new File([_0x52a184],_0x65405c['name'],{'type':_0x65405c['type']});}class _0x386f28 extends _0x3da40b{[_0x14177f(0x845)];['vendorId'];['contentMediator'];[_0x14177f(0x8c5)];[_0x14177f(0x461)];[_0x14177f(0x956)];[_0x14177f(0x183)];[_0x14177f(0x365)];[_0x14177f(0x2d7)];[_0x14177f(0x66c)];[_0x14177f(0x58c)];['workflow'];[_0x14177f(0x914)];[_0x14177f(0x3c3)]=new Map();[_0x14177f(0x78a)]=new Map();['loggingDb'];[_0x14177f(0x487)]=new Map();[_0x14177f(0x10c)];[_0x14177f(0x5df)]=0x0;[_0x14177f(0x66d)]=0x0;['isOpened']=!0x1;[_0x14177f(0x64f)]=[];[_0x14177f(0x5cd)]=!0x1;constructor(_0x1cc139,_0x4fecfe,_0x241d15,_0x22307e,_0x3a425b,_0x53cff9,_0x5ae37c,_0x2721fb,_0x1ed632,_0x1d787b,_0x330e3c,_0x1cf227,_0x3795ad){const _0x322afb=_0x14177f;super(_0x1cc139,_0x4fecfe,_0x22307e),this[_0x322afb(0x845)]=_0x1cc139,this[_0x322afb(0x857)]=_0x241d15,this['contentMediator']=_0x3a425b,this[_0x322afb(0x8c5)]=_0x53cff9,this[_0x322afb(0x461)]=_0x5ae37c,this[_0x322afb(0x956)]=_0x2721fb,this[_0x322afb(0x183)]=_0x1ed632,this[_0x322afb(0x365)]=_0x1d787b,this['searchConnector']=_0x330e3c,this[_0x322afb(0x66c)]=_0x1cf227,this['queryFileConnector']=_0x3795ad;}async['destroy'](){const _0x55ffc4=_0x14177f;for(const _0x4d4fb5 of this[_0x55ffc4(0x8c5)])await _0x4d4fb5[_0x55ffc4(0x9b6)]();this[_0x55ffc4(0x914)]?.['unsubscribe'](this[_0x55ffc4(0x322)]),this[_0x55ffc4(0x3c3)][_0x55ffc4(0x918)](_0x43852d=>_0x43852d[_0x55ffc4(0x9a3)](this[_0x55ffc4(0x322)])),this[_0x55ffc4(0x10c)]&&(clearTimeout(this[_0x55ffc4(0x10c)]),delete this[_0x55ffc4(0x10c)]),super[_0x55ffc4(0x5a1)]();}async[_0x14177f(0x54e)](_0x211dc1=!0x1){const _0x345995=_0x14177f;if(this['isOpened'])super[_0x345995(0x54e)]();else{if(_0x1734f6[_0x345995(0x940)]('GenerativeAIWorker:\x20Opening',this[_0x345995(0x322)]),this[_0x345995(0x34a)]=await _0x13c1fc[_0x345995(0x915)](this['vendorId'],this[_0x345995(0x322)]),this[_0x345995(0x914)]=this[_0x345995(0x24c)][_0x345995(0x5a2)](this[_0x345995(0x34a)][_0x345995(0x38a)]),!this['modelStore'])throw new Error(_0x345995(0x47e));this[_0x345995(0xfd)](),_0x1734f6[_0x345995(0x940)](_0x345995(0x397),this[_0x345995(0x34a)][_0x345995(0x487)]);for(const _0xea7f53 of this[_0x345995(0x34a)][_0x345995(0x487)])try{let _0x51bf5d;_0xea7f53[_0x345995(0x2a0)]===_0x23d754[_0x345995(0x38f)][_0x345995(0x4ac)]&&(_0x51bf5d=await this['getModel']('/'+_0xea7f53['id']+_0x55f6e5)),this[_0x345995(0x487)]['set'](_0xea7f53['id'],{'id':_0xea7f53['id'],'engineType':_0xea7f53['engineType'],'taskType':_0xea7f53['taskType'],'inputType':_0xea7f53[_0x345995(0x96e)],'outputType':_0xea7f53[_0x345995(0x98b)],'sourceUrl':_0xea7f53[_0x345995(0x548)],'pathName':_0x51bf5d});}catch(_0x3b65aa){await this[_0x345995(0x914)][_0x345995(0x95d)]({'action':_0x23d754[_0x345995(0x2d1)]['File'],'file':new File([''],''+_0xea7f53['id']+_0x55f6e5),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0xea7f53[_0x345995(0x548)]}}),this[_0x345995(0x487)][_0x345995(0x525)](_0xea7f53['id'],{'id':_0xea7f53['id'],'engineType':_0xea7f53['engineType'],'taskType':_0xea7f53[_0x345995(0x408)],'inputType':_0xea7f53[_0x345995(0x96e)],'outputType':_0xea7f53[_0x345995(0x98b)],'sourceUrl':_0xea7f53[_0x345995(0x548)],'pathName':await this[_0x345995(0x65e)]('/'+_0xea7f53['id']+_0x55f6e5)});}try{for(const _0x393d59 of this[_0x345995(0x8c5)])await _0x393d59[_0x345995(0x3d4)](this[_0x345995(0x322)],this[_0x345995(0x487)]);}catch(_0x1c17b2){return this[_0x345995(0x54e)](_0x211dc1);}for(const _0x317205 of this[_0x345995(0x34a)][_0x345995(0x20a)])this[_0x345995(0x3c3)][_0x345995(0x525)](_0x317205,this[_0x345995(0x24c)]['getObjectStoreBucket'](_0x317205));await this[_0x345995(0x258)](),this[_0x345995(0x992)]();for(const _0x278302 of this[_0x345995(0x34a)][_0x345995(0x2b6)])this['externalStores'][_0x345995(0x525)](_0x278302,this[_0x345995(0x24c)]['getExternalStorageConnection'](_0x278302));await this[_0x345995(0x1e1)](),this[_0x345995(0x94a)](),this[_0x345995(0x68b)]=!0x0,this[_0x345995(0x926)](),super[_0x345995(0x54e)](),_0x1734f6[_0x345995(0x940)](_0x345995(0x244),this['label']);}}[_0x14177f(0x140)](){const _0x41dd48=_0x14177f;this[_0x41dd48(0x5df)]=0x0,this['tokens']=0x0,this[_0x41dd48(0x926)](),super['reset']();}[_0x14177f(0x77a)](){const _0x1fc58f=_0x14177f;return this[_0x1fc58f(0x926)](),this[_0x1fc58f(0x3cf)]();}[_0x14177f(0x66b)](_0x436f0f,_0xa70157,_0x3d6ca9){const _0x2cc30d=_0x14177f,{outputTokens:_0xcda719=0x0,output:_0x1a7804=''}=_0x436f0f,_0x504e78=_0xcda719/((_0x3d6ca9-_0xa70157)/0x3e8);this[_0x2cc30d(0x5df)]+=0x1,this[_0x2cc30d(0x66d)]+=_0xcda719,this[_0x2cc30d(0x814)](_0x504e78,_0xcda719),this[_0x2cc30d(0x926)]();}[_0x14177f(0x5da)](_0x47e29c,_0x28162e){const _0xa344eb=_0x14177f;return _0x47e29c[_0xa344eb(0x58d)]=_0x47e29c[_0xa344eb(0x58d)]??'',{'type':_0xa344eb(0x798),'output':'string'==typeof _0x47e29c['output']&&_0xa344eb(0x867)==typeof _0x28162e[_0xa344eb(0x58d)]?_0x47e29c[_0xa344eb(0x58d)]+_0x28162e[_0xa344eb(0x58d)]:_0x28162e[_0xa344eb(0x58d)],'outputTokens':_0x28162e[_0xa344eb(0x2d0)]??_0x47e29c['outputTokens'],'inputTokens':_0x28162e['inputTokens']??_0x47e29c[_0xa344eb(0x605)]};}async[_0x14177f(0x22d)](_0x889b0c,_0x4945db){const _0x55debb=_0x14177f;if(this[_0x55debb(0x34a)]=await _0x13c1fc[_0x55debb(0x915)](this['vendorId'],this[_0x55debb(0x322)]),_0x55debb(0x798)===_0x4945db[_0x55debb(0x162)]){const _0x5529bf=this[_0x55debb(0x34a)][_0x55debb(0x906)][_0x55debb(0x3ee)](_0x17c369=>_0x17c369['type']===_0x354414[_0x55debb(0x268)]),_0x96f6f9=await async function(_0xf6fef3,_0x1fae10,_0x45a2c4,_0x264cca,_0x59d6ca){const _0x427b71=_0x55debb,_0x2c5a57=(0x0,_0x3fe08f['v4'])(),_0x5b567b=Date['now']();if(_0x9c156c[_0x427b71(0x334)]({'jobType':_0x4b4fdb[_0x427b71(0x63b)],'type':_0x522d5b[_0x427b71(0x127)],'jobId':_0xf6fef3,'blockId':_0x45a2c4['id'],'agentId':_0x2c5a57,'threadId':_0x1fae10[_0x427b71(0x3e4)],'traceLevel':_0x461f39[_0x427b71(0x368)],'startTime':Date[_0x427b71(0x5bc)](),'timestamp':Date[_0x427b71(0x5bc)](),'status':_0x427b71(0x811),'initialPrompt':_0x1fae10[_0x427b71(0x798)]}),await _0x18fd82(_0x1fae10,_0x45a2c4,_0x264cca,_0x59d6ca),_0x1fae10[_0x427b71(0x972)]){for(const _0x27a5e5 in _0x1fae10['internalContext'])_0x71f2d7(_0x1fae10['internalContext'][_0x27a5e5],_0x45a2c4,_0x264cca,_0x27a5e5);}const _0x1f6200={'type':_0x1fae10['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0x1b7b3c(_0xf6fef3,''+_0x1fae10[_0x427b71(0x798)],_0x1fae10,_0x1f6200,_0x45a2c4,_0x264cca,_0x59d6ca);const {inputTokens:_0x53c5ee=0x0,outputTokens:_0x525ef9=0x0,context:_0x4dd748=[]}=_0x1f6200;return _0x9c156c[_0x427b71(0x334)]({'jobType':_0x4b4fdb[_0x427b71(0x63b)],'type':_0x522d5b['FinalOutput'],'jobId':_0xf6fef3,'agentId':_0x2c5a57,'threadId':_0x1fae10[_0x427b71(0x3e4)],'traceLevel':_0x461f39[_0x427b71(0x368)],'startTime':_0x5b567b,'timestamp':Date[_0x427b71(0x5bc)](),'blockId':_0x45a2c4['id'],'status':_0x427b71(0x811),'output':_0x1f6200['output']?.[_0x427b71(0x1d0)]()??'','prompt':_0x1fae10[_0x427b71(0x798)],'agentName':'','history':_0x1fae10[_0x427b71(0x8fa)]??[],'instructions':''+(_0x1fae10[_0x427b71(0x6f6)]??''),'ragContext':_0x4dd748,'inputTokens':_0x53c5ee,'outputTokens':_0x525ef9}),{'type':_0x1fae10[_0x427b71(0x162)],'output':_0x1f6200[_0x427b71(0x58d)],'context':_0x1f6200['context'],'internalContext':_0x264cca['find'](_0x1a10cd=>_0x1a10cd[_0x427b71(0x162)]===_0x354414['Answer'])?.['accumulated']?.[_0x427b71(0x139)]??{},'inputTokens':_0x1f6200[_0x427b71(0x605)]??0x0,'outputTokens':_0x1f6200[_0x427b71(0x2d0)]??0x0};}(_0x889b0c,_0x4945db,_0x5529bf,this[_0x55debb(0x34a)][_0x55debb(0x906)],{'documentParserConnector':this[_0x55debb(0x461)],'nlpLibraryConnector':this[_0x55debb(0x956)],'generativeAIWorkerConnectors':this[_0x55debb(0x8c5)],'models':this[_0x55debb(0x34a)][_0x55debb(0x487)],'contentMediator':this[_0x55debb(0x24c)],'searchApiKey':this[_0x55debb(0x183)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x55debb(0x66c)],'queryFileConnector':this[_0x55debb(0x58c)]});return _0x96f6f9;}if('rate'===_0x4945db[_0x55debb(0x162)])return _0x9c156c['trace']({'jobType':_0x4b4fdb[_0x55debb(0x1d2)],'type':_0x5f157b[_0x55debb(0x176)],'jobId':_0x4945db[_0x55debb(0x26b)],'threadId':_0x4945db['threadId'],'traceLevel':_0x461f39[_0x55debb(0x368)],'startTime':Date[_0x55debb(0x5bc)](),'timestamp':Date['now'](),'status':_0x55debb(0x811),'rating':_0x4945db[_0x55debb(0x20d)],'feedback':_0x4945db[_0x55debb(0x2cb)]}),{'type':_0x55debb(0xa40),'status':_0x23d754['GenerativeAIRatingStatus'][_0x55debb(0x727)]};if(_0x55debb(0x387)===_0x4945db[_0x55debb(0x162)]){let _0x4a0cda;const _0x5b952a=this[_0x55debb(0x3c3)][_0x55debb(0x770)]();for(;!_0x4a0cda;){const _0x978624=_0x5b952a[_0x55debb(0xa00)]()[_0x55debb(0x6f2)];if(!_0x978624)throw new Error(_0x55debb(0x1d8));_0x4a0cda=this['dataStores'][_0x55debb(0x9ba)](_0x978624);try{const _0x2c1009=await _0x4a0cda['get'](_0x4945db[_0x55debb(0x72d)]);return{'type':_0x55debb(0x387),'fileName':_0x2c1009[_0x55debb(0x1a5)],'mimeType':_0x2c1009[_0x55debb(0x162)],'document':await _0x2c1009[_0x55debb(0x90e)]()};}catch(_0x554fcc){continue;}}throw new Error(_0x55debb(0x1d8));}throw new Error('Unsupported\x20job\x20type');}async*['internalProcessJobStream'](_0x584f78,_0x149bbb){const _0xa761d5=_0x14177f;this['workflow']=await _0x13c1fc[_0xa761d5(0x915)](this['vendorId'],this[_0xa761d5(0x322)]);const _0x3463ed=this['workflow'][_0xa761d5(0x906)][_0xa761d5(0x3ee)](_0x176f6f=>_0x176f6f['type']===_0x354414['Prompt']);for await(const _0x1ea5c0 of async function*(_0x165e02,_0xad8f6f,_0x1e8448,_0x49ad81,_0x22db3c){const _0x3598fb=_0xa761d5,_0x784cfb=(0x0,_0x3fe08f['v4'])(),_0x2a94a2=Date[_0x3598fb(0x5bc)]();if(_0x9c156c[_0x3598fb(0x334)]({'jobType':_0x4b4fdb[_0x3598fb(0x63b)],'type':_0x522d5b['InitialPrompt'],'jobId':_0x165e02,'agentId':_0x784cfb,'threadId':_0xad8f6f[_0x3598fb(0x3e4)],'traceLevel':_0x461f39['Info'],'startTime':Date[_0x3598fb(0x5bc)](),'timestamp':Date[_0x3598fb(0x5bc)](),'blockId':_0x1e8448['id'],'status':_0x3598fb(0x811),'initialPrompt':_0xad8f6f['prompt']}),await _0x18fd82(_0xad8f6f,_0x1e8448,_0x49ad81,_0x22db3c),_0xad8f6f[_0x3598fb(0x972)]){for(const _0x6633bb in _0xad8f6f[_0x3598fb(0x972)])_0x71f2d7(_0xad8f6f['internalContext'][_0x6633bb],_0x1e8448,_0x49ad81,_0x6633bb);}const _0x1a4793={'type':_0xad8f6f['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0x55603c=new _0xd0e328();_0x1b7b3c(_0x165e02,''+_0xad8f6f[_0x3598fb(0x798)],_0xad8f6f,_0x1a4793,_0x1e8448,_0x49ad81,_0x22db3c,_0x55603c);let _0x4c5880='',_0x55a5f7={'type':_0xad8f6f[_0x3598fb(0x162)]};for(;;){const _0x5b6388=await _0x55603c['once']();if(!_0x5b6388)break;_0x4c5880+=_0x5b6388[_0x3598fb(0x58d)],_0x55a5f7={'type':_0xad8f6f[_0x3598fb(0x162)],'output':_0x5b6388[_0x3598fb(0x58d)],'context':_0x1a4793[_0x3598fb(0x139)],'internalContext':{},'inputTokens':(_0x1a4793[_0x3598fb(0x605)]??0x0)+(_0x5b6388[_0x3598fb(0x605)]??0x0),'outputTokens':(_0x1a4793[_0x3598fb(0x2d0)]??0x0)+(_0x5b6388[_0x3598fb(0x2d0)]??0x0)},yield _0x55a5f7;}yield{..._0x55a5f7,'output':'','internalContext':_0x49ad81['find'](_0x4b23f6=>_0x4b23f6['type']===_0x354414[_0x3598fb(0x7e1)])?.[_0x3598fb(0x21c)]?.[_0x3598fb(0x139)]??{}};const {inputTokens:_0xc1866c=0x0,outputTokens:_0x2bc295=0x0,context:_0x51491a=[]}=_0x55a5f7;_0x9c156c[_0x3598fb(0x334)]({'jobType':_0x4b4fdb['Workflow'],'type':_0x522d5b[_0x3598fb(0x432)],'jobId':_0x165e02,'agentId':_0x784cfb,'threadId':_0xad8f6f[_0x3598fb(0x3e4)],'traceLevel':_0x461f39[_0x3598fb(0x368)],'startTime':_0x2a94a2,'timestamp':Date[_0x3598fb(0x5bc)](),'blockId':_0x1e8448['id'],'status':_0x3598fb(0x811),'output':_0x4c5880,'prompt':_0xad8f6f[_0x3598fb(0x798)],'agentName':'','history':_0xad8f6f[_0x3598fb(0x8fa)]??[],'instructions':''+(_0xad8f6f[_0x3598fb(0x6f6)]??''),'ragContext':_0x51491a,'inputTokens':_0xc1866c,'outputTokens':_0x2bc295});}(_0x584f78,_0x149bbb,_0x3463ed,this['workflow']['blocks'],{'documentParserConnector':this[_0xa761d5(0x461)],'nlpLibraryConnector':this[_0xa761d5(0x956)],'generativeAIWorkerConnectors':this[_0xa761d5(0x8c5)],'models':this[_0xa761d5(0x34a)][_0xa761d5(0x487)],'contentMediator':this[_0xa761d5(0x24c)],'searchApiKey':this[_0xa761d5(0x183)],'aiSearchApiKey':this[_0xa761d5(0x365)],'searchConnector':this[_0xa761d5(0x2d7)],'aiSearchConnector':this[_0xa761d5(0x66c)],'queryFileConnector':this[_0xa761d5(0x58c)]}))yield _0x1ea5c0;}[_0x14177f(0x5b2)](_0x5f51f5,_0x554d49){const _0x588e43=_0x14177f;if(_0x588e43(0xa40)===_0x554d49[_0x588e43(0x162)])return _0x5f51f5=_0x554d49[_0x588e43(0x26b)],void this[_0x588e43(0x24e)](_0x5f51f5);this[_0x588e43(0x24e)](_0x5f51f5),_0x9c156c['trace']({'jobType':_0x4b4fdb[_0x588e43(0x875)],'type':_0x405f53[_0x588e43(0x877)],'traceLevel':_0x461f39[_0x588e43(0x368)],'jobId':_0x5f51f5,'threadId':_0x554d49[_0x588e43(0x3e4)],'startTime':Date['now'](),'timestamp':Date[_0x588e43(0x5bc)](),'status':'success'});}[_0x14177f(0x236)](_0x24a971,_0x122024){const _0x328636=_0x14177f;if(_0x328636(0xa40)===_0x122024['type'])return _0x24a971=_0x122024[_0x328636(0x26b)],void this[_0x328636(0xff)](_0x24a971);_0x9c156c[_0x328636(0x334)]({'jobType':_0x4b4fdb[_0x328636(0x875)],'type':_0x405f53[_0x328636(0x39c)],'traceLevel':_0x461f39[_0x328636(0x368)],'jobId':_0x24a971,'threadId':_0x122024[_0x328636(0x3e4)],'startTime':Date[_0x328636(0x5bc)](),'timestamp':Date['now'](),'status':'success'}),this[_0x328636(0xff)](_0x24a971);}async[_0x14177f(0x65e)](_0x4f870a){const _0x35c04a=_0x14177f;if(!this[_0x35c04a(0x914)])throw new Error('Model\x20store\x20not\x20initialized');const _0x34eaef=await this['modelStore'][_0x35c04a(0x820)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x53d004 of _0x34eaef)if(_0x53d004[_0x35c04a(0xa3c)]===_0x23d754[_0x35c04a(0x95a)][_0x35c04a(0x26a)]&&_0x53d004[_0x35c04a(0x1ba)]===_0x4f870a)return _0x53d004[_0x35c04a(0x1fe)]??_0x53d004['pathName'];throw new Error(_0x35c04a(0x9b9)+_0x4f870a);}async[_0x14177f(0x258)](){const _0x2d5992=_0x14177f;if(!this[_0x2d5992(0x34a)])throw new Error(_0x2d5992(0x835));for(const _0x8d2c52 of this[_0x2d5992(0x3c3)]['values']())try{const _0x3e8b10=this['workflow'][_0x2d5992(0x906)][_0x2d5992(0x31d)](_0x26f9ea=>(_0x26f9ea[_0x2d5992(0x162)]===_0x354414[_0x2d5992(0x661)]||_0x26f9ea[_0x2d5992(0x162)]===_0x354414[_0x2d5992(0x5d2)])&&_0x26f9ea[_0x2d5992(0x42d)]?.[_0x2d5992(0x211)](_0x20e5b2=>_0x20e5b2['id']===_0x8d2c52['getLabel']()));for(let _0xe95379=_0x3e8b10['length']-0x1;_0xe95379>=0x0;_0xe95379--)for(const _0x21fa4e of _0x3e8b10[_0xe95379][_0x2d5992(0x42d)]??[])_0x21fa4e['type']===_0x11dac6['VectorDatabase']&&this[_0x2d5992(0x24c)][_0x2d5992(0x38e)](_0x21fa4e['id'])[_0x2d5992(0x91c)]()&&_0x3e8b10[_0x2d5992(0x588)](_0xe95379,0x1),_0x21fa4e[_0x2d5992(0x162)]===_0x11dac6[_0x2d5992(0x3b4)]&&this[_0x2d5992(0x24c)][_0x2d5992(0x649)](_0x21fa4e['id'])[_0x2d5992(0x91c)]()&&_0x3e8b10[_0x2d5992(0x588)](_0xe95379,0x1);const _0x16d05d=new Map();let _0x17843a=!0x1;for(const _0x13ae16 of _0x3e8b10){let _0x139524=''+(_0x13ae16[_0x2d5992(0x5bb)]??0x1);for(const _0x22685c of _0x13ae16[_0x2d5992(0x42d)]??[])_0x22685c[_0x2d5992(0x162)]===_0x11dac6[_0x2d5992(0x4d8)]&&(_0x139524=_0x139524+'-'+(_0x22685c[_0x2d5992(0x5bb)]??0x1));for(const _0x4b817c of _0x13ae16[_0x2d5992(0x42d)]??[])_0x4b817c[_0x2d5992(0x162)]===_0x11dac6[_0x2d5992(0x7f8)]&&_0x16d05d[_0x2d5992(0x525)](_0x4b817c['id'],{'version':_0x139524,'getDatabase':this[_0x2d5992(0x24c)][_0x2d5992(0x38e)]['bind'](this[_0x2d5992(0x24c)]),'block':_0x4b817c}),_0x4b817c[_0x2d5992(0x162)]===_0x11dac6[_0x2d5992(0x3b4)]&&_0x16d05d[_0x2d5992(0x525)](_0x4b817c['id'],{'version':_0x139524,'getDatabase':this[_0x2d5992(0x24c)][_0x2d5992(0x649)][_0x2d5992(0x7b4)](this['contentMediator']),'block':_0x4b817c});}for(const {getDatabase:_0x194d3d,block:_0x4655bd,version:_0x2e095c}of _0x16d05d[_0x2d5992(0x774)]())try{const _0x256948=_0x194d3d(_0x4655bd['id']);_0x256948[_0x2d5992(0x3a7)](_0x2e095c),_0x256948['setIsLoaded'](!0x0),_0x17843a=!0x0;}catch(_0x4cdcb2){_0x17843a=!0x1;break;}if(_0x1734f6[_0x2d5992(0x940)](_0x2d5992(0x4c0)),_0x17843a)continue;_0x1734f6[_0x2d5992(0x940)]('Start\x20Ingestion');const _0x50b9fe=await _0x8d2c52['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x2d5992(0x250)](_0x4d0b33[_0x2d5992(0x5d1)],_0x8d2c52[_0x2d5992(0x352)](),_0x50b9fe);for(const {getDatabase:_0x56530b,block:_0x2e6f53,version:_0x54f4fd}of _0x16d05d[_0x2d5992(0x774)]()){const _0x17e053=_0x56530b(_0x2e6f53['id']);_0x17e053[_0x2d5992(0x790)](_0x54f4fd),_0x17e053[_0x2d5992(0x5cc)](!0x0);}}catch(_0xd0fe57){_0x1734f6[_0x2d5992(0x70e)](_0x2d5992(0x7b8),{'nodeId':this[_0x2d5992(0x845)][_0x2d5992(0x519)](),'nodeType':this[_0x2d5992(0x845)][_0x2d5992(0x162)]});}}async[_0x14177f(0x1e1)](){const _0x12ce3b=_0x14177f;for(const _0x3fe5b1 of this[_0x12ce3b(0x78a)]['values']())try{const _0x3368c8=await _0x3fe5b1[_0x12ce3b(0x820)]('/',{'recursive':!0x0});await this['syncFolder'](_0x4d0b33[_0x12ce3b(0x6d1)],_0x3fe5b1['getName'](),_0x3368c8);}catch(_0x40d3f4){_0x1734f6['error']('Error\x20loading\x20external\x20content',{'nodeId':this[_0x12ce3b(0x845)][_0x12ce3b(0x519)](),'nodeType':this['localNode'][_0x12ce3b(0x162)]});}}async[_0x14177f(0x250)](_0x3ed2df,_0x3c3232,_0x5b57fa){const _0x503e62=_0x14177f;for(const _0x31f4ca of _0x5b57fa){if(_0x31f4ca[_0x503e62(0xa3c)]===_0x23d754[_0x503e62(0x95a)][_0x503e62(0x672)]){if(!_0x31f4ca[_0x503e62(0x623)]||0x0===_0x31f4ca[_0x503e62(0x623)][_0x503e62(0x5b7)])continue;await this[_0x503e62(0x250)](_0x3ed2df,_0x3c3232,_0x31f4ca[_0x503e62(0x623)]);}_0x31f4ca['kind']===_0x23d754[_0x503e62(0x95a)][_0x503e62(0x26a)]&&this['addContent'](_0x3ed2df,_0x3c3232,_0x31f4ca[_0x503e62(0x1ba)]);}return new Promise(_0x52f9e1=>{const _0x387f94=_0x3f17ec['setInterval'](()=>{const _0x95dfb1=a0_0x50bd;0x0===this[_0x95dfb1(0x64f)][_0x95dfb1(0x5b7)]&&(_0x387f94(),_0x52f9e1());},0x1388);});}[_0x14177f(0x992)](){const _0x270649=_0x14177f;for(const _0x496020 of this['dataStores'][_0x270649(0x774)]())_0x496020['subscribe'](this[_0x270649(0x322)],async _0x32d8a0=>{const _0xecd83c=_0x270649;switch(_0x32d8a0[_0xecd83c(0x85f)]){case _0x23d754[_0xecd83c(0x95b)]['FileWrite']:this[_0xecd83c(0x567)](_0x4d0b33[_0xecd83c(0x5d1)],_0x496020[_0xecd83c(0x352)](),_0x32d8a0[_0xecd83c(0x4bd)][_0xecd83c(0x829)]['pathName']),this[_0xecd83c(0x839)](_0x4d0b33[_0xecd83c(0x5d1)],_0x496020[_0xecd83c(0x352)](),_0x32d8a0[_0xecd83c(0x4bd)][_0xecd83c(0x829)][_0xecd83c(0x1ba)]);break;case _0x23d754[_0xecd83c(0x95b)][_0xecd83c(0x199)]:this[_0xecd83c(0x567)](_0x4d0b33[_0xecd83c(0x5d1)],_0x496020[_0xecd83c(0x352)](),_0x32d8a0['payload']['pathName']);}});}['subscribeToExternalContent'](){const _0x4ccc43=_0x14177f;for(const _0x11f4ba of this['externalStores'][_0x4ccc43(0x774)]())_0x11f4ba['subscribe'](this[_0x4ccc43(0x322)],async _0x1bcd7c=>{const _0x465783=_0x4ccc43;switch(_0x1bcd7c[_0x465783(0x85f)]){case _0x23d754[_0x465783(0x95b)][_0x465783(0x1fb)]:this['removeContent'](_0x4d0b33[_0x465783(0x6d1)],_0x11f4ba[_0x465783(0x352)](),_0x1bcd7c[_0x465783(0x4bd)][_0x465783(0x829)]['pathName']),this[_0x465783(0x839)](_0x4d0b33['ExternalStorage'],_0x11f4ba[_0x465783(0x352)](),_0x1bcd7c[_0x465783(0x4bd)][_0x465783(0x829)]['pathName']);break;case _0x23d754['StorageEventType'][_0x465783(0x199)]:this[_0x465783(0x567)](_0x4d0b33[_0x465783(0x6d1)],_0x11f4ba[_0x465783(0x352)](),_0x1bcd7c[_0x465783(0x4bd)][_0x465783(0x1ba)]);}});}[_0x14177f(0x839)](_0x12c6a5,_0x1c5deb,_0x5c675c){const _0x44c0d5=_0x14177f;this[_0x44c0d5(0x64f)][_0x44c0d5(0x993)]({'type':_0x44c0d5(0x1cd),'storageType':_0x12c6a5,'storeId':_0x1c5deb,'pathName':_0x5c675c}),this['processContentQueue']();}['removeContent'](_0x248b1a,_0x163476,_0x22ff4f){const _0x4219af=_0x14177f;this[_0x4219af(0x64f)][_0x4219af(0x993)]({'type':_0x4219af(0x1ac),'storageType':_0x248b1a,'storeId':_0x163476,'pathName':_0x22ff4f}),this[_0x4219af(0x1c8)]();}async[_0x14177f(0x1c8)](){const _0xe9acee=_0x14177f;if(!this[_0xe9acee(0x5cd)]){try{this[_0xe9acee(0x5cd)]=!0x0;const _0x4c372e=this['contentQueue']['shift']();if(!_0x4c372e)return;_0xe9acee(0x1cd)===_0x4c372e[_0xe9acee(0x162)]?await this[_0xe9acee(0x212)](_0x4c372e[_0xe9acee(0x67b)],_0x4c372e[_0xe9acee(0x765)],_0x4c372e['pathName']):this[_0xe9acee(0x717)](_0x4c372e['storageType'],_0x4c372e['storeId'],_0x4c372e['pathName']);}catch(_0x24c68a){_0x1734f6[_0xe9acee(0x70e)]('Error\x20processing\x20content\x20queue',{'nodeId':this['localNode'][_0xe9acee(0x519)](),'nodeType':this[_0xe9acee(0x845)][_0xe9acee(0x162)]});}this[_0xe9acee(0x5cd)]=!0x1,this[_0xe9acee(0x64f)][_0xe9acee(0x5b7)]>0x0&&this[_0xe9acee(0x1c8)]();}}async[_0x14177f(0x212)](_0x4a6501,_0x52649b,_0x5df591){const _0x574632=_0x14177f;if(_0x1734f6[_0x574632(0x940)](_0x574632(0x839),_0x4a6501,_0x52649b,_0x5df591),!this[_0x574632(0x34a)])throw new Error(_0x574632(0x835));let _0x54bc5c;switch(_0x4a6501){case _0x4d0b33[_0x574632(0x5d1)]:_0x54bc5c=_0x11dac6['ObjectStorageUpload'];break;case _0x4d0b33[_0x574632(0x6d1)]:_0x54bc5c=_0x11dac6[_0x574632(0x33d)];}if(!_0x54bc5c)return;const _0x2d85ce=this[_0x574632(0x34a)][_0x574632(0x906)]['filter'](_0x24bfae=>_0x24bfae[_0x574632(0x162)]===_0x354414[_0x574632(0x5d2)]||_0x24bfae[_0x574632(0x162)]===_0x354414['DataCollection']),_0x30cece=new Set(_0x2d85ce[_0x574632(0x265)](_0x1d078a=>_0x1d078a['id'])),_0x2a272b=_0x2d85ce[_0x574632(0x31d)](_0x43b34d=>_0x43b34d['ingestBlocks']?.[_0x574632(0x211)](_0x2ae90a=>_0x2ae90a[_0x574632(0x162)]===_0x54bc5c&&_0x2ae90a['id']===_0x52649b));for(const _0x48e1b0 of _0x2a272b){if(!_0x30cece['has'](_0x48e1b0['id']))continue;_0x30cece[_0x574632(0x131)](_0x48e1b0['id']);const _0x4d70b9=_0x48e1b0[_0x574632(0x42d)]?.[_0x574632(0x3ee)](_0x186cc1=>_0x186cc1[_0x574632(0x162)]===_0x54bc5c&&_0x186cc1['id']===_0x52649b);_0x4d70b9&&_0x2974a4[_0x574632(0x1cd)](this['label'],async()=>{const _0x452e9a=_0x574632,_0x252a48=(0x0,_0x3fe08f['v4'])();_0x9c156c[_0x452e9a(0x24e)](null,_0x252a48),await _0x43c161(_0x252a48,_0x5df591,_0x4d70b9,_0x48e1b0['ingestBlocks'],{'documentParserConnector':this[_0x452e9a(0x461)],'nlpLibraryConnector':this[_0x452e9a(0x956)],'generativeAIWorkerConnectors':this[_0x452e9a(0x8c5)],'models':this[_0x452e9a(0x34a)]['models'],'contentMediator':this[_0x452e9a(0x24c)],'searchApiKey':this['searchApiKey'],'aiSearchApiKey':this[_0x452e9a(0x365)],'version':_0x48e1b0[_0x452e9a(0x5bb)]??0x1}),_0x9c156c['closeTrace'](_0x252a48);});}this[_0x574632(0x926)]();}[_0x14177f(0x717)](_0x3baeb0,_0x39282f,_0x19ee23){const _0x3bde82=_0x14177f;if(_0x1734f6[_0x3bde82(0x940)](_0x3bde82(0x567),_0x3baeb0,_0x39282f,_0x19ee23),!this[_0x3bde82(0x34a)])throw new Error(_0x3bde82(0x835));let _0xef402e;switch(_0x3baeb0){case _0x4d0b33[_0x3bde82(0x5d1)]:_0xef402e=_0x11dac6[_0x3bde82(0x976)];break;case _0x4d0b33['ExternalStorage']:_0xef402e=_0x11dac6[_0x3bde82(0x33d)];}if(!_0xef402e)return;const _0x5540f5=this[_0x3bde82(0x34a)][_0x3bde82(0x906)][_0x3bde82(0x31d)](_0x4fa20=>_0x4fa20[_0x3bde82(0x162)]===_0x354414['Knowledge']||_0x4fa20['type']===_0x354414[_0x3bde82(0x661)]),_0x57b385=new Set(_0x5540f5['map'](_0x7260ce=>_0x7260ce['id'])),_0x2c3996=_0x5540f5[_0x3bde82(0x31d)](_0x479cdb=>_0x479cdb[_0x3bde82(0x42d)]?.['some'](_0x448d69=>_0x448d69['type']===_0xef402e&&_0x448d69['id']===_0x39282f));for(const _0x14bb13 of _0x2c3996){if(!_0x57b385[_0x3bde82(0x85c)](_0x14bb13['id']))continue;_0x57b385[_0x3bde82(0x131)](_0x14bb13['id']);let _0x2c4a1c=''+(_0x14bb13[_0x3bde82(0x5bb)]??0x1);for(const _0x9f813e of _0x14bb13[_0x3bde82(0x42d)]??[])_0x9f813e[_0x3bde82(0x162)]===_0x11dac6['Agent']&&(_0x2c4a1c=_0x2c4a1c+'-'+(_0x9f813e[_0x3bde82(0x5bb)]??0x1));for(const _0x83b4b0 of _0x14bb13[_0x3bde82(0x42d)]??[]){if(_0x83b4b0[_0x3bde82(0x162)]===_0x11dac6['VectorDatabase']){const _0x22e849=this[_0x3bde82(0x24c)]['getVectorDatabase'](_0x83b4b0['id']);_0x22e849[_0x3bde82(0x1ac)](_0x19ee23),_0x22e849[_0x3bde82(0x91c)]()&&_0x22e849[_0x3bde82(0x790)](_0x2c4a1c);}if(_0x83b4b0[_0x3bde82(0x162)]===_0x11dac6[_0x3bde82(0x3b4)]){const _0x273ebc=this[_0x3bde82(0x24c)]['getGraphDatabase'](_0x83b4b0['id']);_0x273ebc[_0x3bde82(0x1ac)](_0x19ee23),_0x273ebc[_0x3bde82(0x91c)]()&&_0x273ebc[_0x3bde82(0x790)](_0x2c4a1c);}}}this['sendStats']();}[_0x14177f(0x3cf)](){const _0x2cd5fc=_0x14177f;try{return this['capacityReporter'][_0x2cd5fc(0x3a6)]()[_0x2cd5fc(0x905)]['cores']*(0x1-this[_0x2cd5fc(0x407)]['getCapacityReport']()[_0x2cd5fc(0x905)][_0x2cd5fc(0x246)]);}catch(_0x40cd96){return _0x1734f6[_0x2cd5fc(0x2b0)](_0x39fe10[_0x2cd5fc(0x5fb)],_0x2cd5fc(0x148),_0x40cd96),0x0;}}[_0x14177f(0x926)](){const _0x140825=_0x14177f;this['isOpened']&&(this[_0x140825(0x10c)]&&clearTimeout(this[_0x140825(0x10c)]),this[_0x140825(0x10c)]=setTimeout(async()=>{const _0x7390a8=_0x140825;if(delete this['debounceStats'],!this[_0x7390a8(0x914)])return;let _0x51038f=await this[_0x7390a8(0x914)][_0x7390a8(0x126)]();for(const _0x244f64 of this[_0x7390a8(0x3c3)]['values']())_0x51038f+=await _0x244f64[_0x7390a8(0x126)]();this[_0x7390a8(0x60b)]['publish']({'sourceId':_0x186264,'messageType':_0x1252cb[_0x7390a8(0x4ee)],'content':{'type':_0x2c4847[_0x7390a8(0x49d)],'label':this[_0x7390a8(0x322)],'stats':{'timestamp':Date[_0x7390a8(0x5bc)](),'storage':_0x51038f,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x7390a8(0x4d4)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this[_0x7390a8(0x5df)],'tokens':this[_0x7390a8(0x66d)]}}});},_0x1fe904));}[_0x14177f(0x814)](_0x4022e7,_0x3dc0af){const _0x3c455f=_0x14177f,_0x251761=this[_0x3c455f(0x322)],_0x599b46=this[_0x3c455f(0x48b)]();_0x1734f6[_0x3c455f(0x814)](_0x711184[_0x3c455f(0x8c2)],{'topic':_0x251761,'type':_0x3c455f(0x9d2),'nodeId':_0x599b46,'tokenCount':_0x3dc0af,'tokensPerSecond':_0x4022e7});}['openTrace'](_0x212c15){const _0x562348=_0x14177f;try{if(!this['workflow'])throw new Error(_0x562348(0x835));if(!this[_0x562348(0x1cb)])throw new Error('Logging\x20database\x20not\x20initialized');if(!_0x9c156c[_0x562348(0x24e)](this[_0x562348(0x1cb)],_0x212c15))throw new Error(_0x562348(0x48d));return _0x212c15;}catch(_0x4d81c2){return console[_0x562348(0x70e)](_0x562348(0x48d),_0x4d81c2),_0x562348(0x231);}}[_0x14177f(0xff)](_0x12723b){const _0x1dd76b=_0x14177f;try{_0x9c156c[_0x1dd76b(0xff)](_0x12723b);}catch(_0x37161c){console[_0x1dd76b(0x70e)]('Error\x20closing\x20trace',{'jobId':_0x12723b,'error':_0x37161c});}}async[_0x14177f(0xfd)](){return new Promise(_0x4be137=>{const _0x9843f3=a0_0x50bd;try{const _0x57ff1c=_0x1ff39e(this[_0x9843f3(0x857)],this[_0x9843f3(0x322)]);this[_0x9843f3(0x1cb)]=this['contentMediator']['getKeyValueDatabase'](_0x57ff1c),this[_0x9843f3(0x1cb)][_0x9843f3(0x1f2)](({event:_0xbc3108})=>{const _0x59706f=_0x9843f3;_0xbc3108===_0x23d754[_0x59706f(0x6ce)]['SyncComplete']&&(this[_0x59706f(0x1cb)][_0x59706f(0x9a3)](),_0x4be137());});}catch(_0x49e0b4){console['error'](_0x9843f3(0x329)+_0x1ff39e(this[_0x9843f3(0x857)],this['label'])+'\x27\x20dabatase\x20id.',_0x49e0b4),_0x4be137();}});}}class _0x15b0fc extends _0x27b15e{['localNode'];[_0x14177f(0x463)];[_0x14177f(0x857)];['db'];[_0x14177f(0x10c)];['writes']=0x0;[_0x14177f(0x8a3)]=0x0;['isLoaded']=!0x1;constructor(_0x3affb5,_0x33bd99,_0x441d2f,_0x4c18cd,_0x5ad764){const _0x528347=_0x14177f;if('string'!=typeof _0x33bd99)throw new _0x3b8aa0(_0x1a76df[_0x528347(0x345)],'Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string');super(_0x3affb5,_0x33bd99),this[_0x528347(0x845)]=_0x3affb5,this[_0x528347(0x463)]=_0x441d2f,this['vendorId']=_0x4c18cd;const _0x10ebc7='ccc'+this[_0x528347(0x857)]+_0x528347(0x698)+this[_0x528347(0x463)]+_0x528347(0x698)+this['label'];this['db']=new _0x5ad764(_0x10ebc7),this['sendStats']();}[_0x14177f(0x91c)](){const _0x596171=_0x14177f;return this[_0x596171(0x989)];}[_0x14177f(0x5cc)](_0x1aea7d){const _0x4342ae=_0x14177f;this[_0x4342ae(0x989)]=_0x1aea7d;}['destroy'](){const _0x2b77af=_0x14177f;clearTimeout(this[_0x2b77af(0x10c)]),delete this[_0x2b77af(0x10c)],super[_0x2b77af(0x5a1)]();}[_0x14177f(0x9b6)](){const _0x269fdf=_0x14177f;this[_0x269fdf(0x60b)][_0x269fdf(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x269fdf(0x4ee)],'content':{'type':_0x2c4847[_0x269fdf(0xa29)],'label':this[_0x269fdf(0x322)]}});}[_0x14177f(0x62d)](){const _0x3d2737=_0x14177f;return _0x23d754[_0x3d2737(0x565)][_0x3d2737(0x3b4)];}[_0x14177f(0x140)](){const _0x4908a6=_0x14177f;this[_0x4908a6(0x926)]();}[_0x14177f(0xa12)](_0x26adb7,_0x190de3,_0x40df11,_0x11dac3){const _0x11eb6d=_0x14177f;this['db'][_0x11eb6d(0xa12)](_0x26adb7,_0x190de3,_0x40df11,_0x11dac3),this[_0x11eb6d(0x83c)]+=0x1,this['sendStats']();}[_0x14177f(0x1d3)](_0x5c5dcd,_0x6ff6ea){const _0x1872f3=_0x14177f;this['db'][_0x1872f3(0x1d3)](_0x5c5dcd,_0x6ff6ea),this[_0x1872f3(0x83c)]+=0x1,this[_0x1872f3(0x926)]();}[_0x14177f(0x710)](_0x1ae0db,_0x4f5470,_0x2db31f){const _0x3b9285=_0x14177f,_0x46f868=this['db'][_0x3b9285(0x710)](_0x1ae0db,_0x4f5470,_0x2db31f);return this[_0x3b9285(0x8a3)]+=0x1,_0x1734f6[_0x3b9285(0x814)](_0x711184[_0x3b9285(0x3b4)],{'type':_0x3b9285(0x608),'label':this[_0x3b9285(0x322)],'nodeId':this[_0x3b9285(0x845)][_0x3b9285(0x519)](),'nodeType':this[_0x3b9285(0x845)][_0x3b9285(0x162)],'clusterId':this[_0x3b9285(0x463)],'size':0x0}),this[_0x3b9285(0x926)](),_0x46f868;}[_0x14177f(0x1ac)](_0x22d276){const _0x5e6254=_0x14177f;this['db'][_0x5e6254(0x1ac)](_0x22d276),this[_0x5e6254(0x83c)]+=0x1,this[_0x5e6254(0x926)]();}[_0x14177f(0x790)](_0x5abcfb){const _0xd6ac=_0x14177f;this['db'][_0xd6ac(0x790)](_0x5abcfb);}[_0x14177f(0x3a7)](_0x9928fd){const _0x464614=_0x14177f;this['db'][_0x464614(0x3a7)](_0x9928fd);}[_0x14177f(0x926)](){const _0x42800d=_0x14177f;this[_0x42800d(0x10c)]&&clearTimeout(this[_0x42800d(0x10c)]),this[_0x42800d(0x10c)]=setTimeout(async()=>{const _0x4fcf86=_0x42800d;delete this[_0x4fcf86(0x10c)];const _0x63ad27=this['db'][_0x4fcf86(0x126)]();this[_0x4fcf86(0x60b)]['publish']({'sourceId':_0x186264,'messageType':_0x1252cb[_0x4fcf86(0x4ee)],'content':{'type':_0x2c4847['GraphDatabaseStats'],'label':this[_0x4fcf86(0x322)],'stats':{'timestamp':Date[_0x4fcf86(0x5bc)](),'storage':_0x63ad27,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x4fcf86(0x489)],'bytesReceived':this[_0x4fcf86(0x862)],'writes':this[_0x4fcf86(0x83c)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x1734f6['logStorage'](_0x711184['GraphDatabase'],_0x4fcf86(0x698)+this[_0x4fcf86(0x463)]+_0x4fcf86(0x698)+this[_0x4fcf86(0x322)],_0x63ad27);},_0x1fe904);}}class _0x458a6f extends _0x385f22{[_0x14177f(0x28f)];constructor(_0x33168d,_0x13021f,_0xad0a){const _0x430721=_0x14177f;super(_0x33168d,_0x13021f),this[_0x430721(0x28f)]=_0xad0a;}[_0x14177f(0x62d)](){const _0x375ddf=_0x14177f;return _0x23d754[_0x375ddf(0x565)][_0x375ddf(0x581)];}[_0x14177f(0x172)](){const _0x5ba750=_0x14177f;return this[_0x5ba750(0x28f)];}[_0x14177f(0x36d)](){return this['mediaStream']['id'];}}class _0x40c050 extends _0x458a6f{[_0x14177f(0x4f9)];[_0x14177f(0x6a1)];[_0x14177f(0x377)];[_0x14177f(0x42c)]=_0xc80b91();constructor(_0x15ce25,_0x18a5fd,_0x9995e9,_0x4bdf46,_0x536612){const _0x42400e=_0x14177f;super(_0x15ce25,_0x18a5fd,_0x9995e9),this[_0x42400e(0x4f9)]=_0x4bdf46,this['params']=_0x536612;}['destroy'](){const _0x508e8d=_0x14177f;this['removeTrack'](_0x508e8d(0x7b2)),this[_0x508e8d(0x53d)](_0x508e8d(0xa15)),super['destroy']();}['addTrack'](_0x5ba80e){const _0x2e9343=_0x14177f;if(!this[_0x2e9343(0x377)])throw new _0x209e12(_0x209e12['codes'][_0x2e9343(0x15c)],{'label':this['label'],'ownerId':this[_0x2e9343(0x1c7)][_0x2e9343(0x519)](),'remoteId':this[_0x2e9343(0x4f9)]});this[_0x2e9343(0x377)]['publish']({'sourceId':this[_0x2e9343(0x1c7)][_0x2e9343(0x519)](),'content':{'action':_0x30df0b[_0x2e9343(0x716)],'track':_0x5ba80e,'stream':this[_0x2e9343(0x28f)],'priority':_0x23d754[_0x2e9343(0xa4a)]['Default'],'params':this[_0x2e9343(0x818)](_0x5ba80e[_0x2e9343(0xa3c)],this['params'])}});}['removeTrack'](_0x1cc8a7){const _0x23c64e=_0x14177f,_0x4b9fe1=this[_0x23c64e(0x149)](_0x1cc8a7);if(_0x4b9fe1){if(!this[_0x23c64e(0x377)])return null;this['topic'][_0x23c64e(0x95d)]({'sourceId':this[_0x23c64e(0x1c7)]['getId'](),'content':{'action':_0x30df0b['Remove'],'track':_0x4b9fe1,'stream':this[_0x23c64e(0x28f)]}});}return _0x4b9fe1;}[_0x14177f(0x697)](_0xd4ed68){const _0x2b4c97=_0x14177f;if(!this['topic'])throw new _0x209e12(_0x209e12[_0x2b4c97(0x805)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x2b4c97(0x322)],'ownerId':this[_0x2b4c97(0x1c7)]['getId'](),'remoteId':this[_0x2b4c97(0x4f9)]});this[_0x2b4c97(0x377)]['publish']({'sourceId':this[_0x2b4c97(0x1c7)][_0x2b4c97(0x519)](),'content':{'action':_0x30df0b[_0x2b4c97(0x696)],'priority':_0xd4ed68,'stream':this['mediaStream']}});}[_0x14177f(0x1f2)]({trackKinds:_0x5b0b00,params:_0x1572cb},_0x226221){const _0x1c563d=_0x14177f;if(!this[_0x1c563d(0x377)])throw new _0x209e12(_0x209e12[_0x1c563d(0x805)][_0x1c563d(0x15c)],{'label':this[_0x1c563d(0x322)],'ownerId':this[_0x1c563d(0x1c7)]['getId'](),'remoteId':this[_0x1c563d(0x4f9)]});for(const _0x5197ac of this['mediaStream'][_0x1c563d(0x19a)]())_0x5b0b00[_0x1c563d(0x775)](_0x5197ac['kind'])&&this[_0x1c563d(0x377)][_0x1c563d(0x95d)]({'sourceId':this[_0x1c563d(0x1c7)][_0x1c563d(0x519)](),'content':{'action':_0x30df0b[_0x1c563d(0x716)],'track':_0x5197ac,'stream':this[_0x1c563d(0x28f)],'priority':_0x226221,'params':this[_0x1c563d(0x818)](_0x5197ac[_0x1c563d(0xa3c)],_0x1572cb)}});}['update']({params:_0x45ee8a}){const _0x1f6df9=_0x14177f;if(!this[_0x1f6df9(0x377)])throw new _0x209e12(_0x209e12[_0x1f6df9(0x805)][_0x1f6df9(0x15c)],{'label':this[_0x1f6df9(0x322)],'ownerId':this[_0x1f6df9(0x1c7)][_0x1f6df9(0x519)](),'remoteId':this[_0x1f6df9(0x4f9)]});for(const _0x4b0dbf of this['mediaStream']['getTracks']())this['topic']['publish']({'sourceId':this['owner'][_0x1f6df9(0x519)](),'content':{'action':_0x30df0b[_0x1f6df9(0x696)],'stream':this['mediaStream'],'params':this[_0x1f6df9(0x818)](_0x4b0dbf['kind'],_0x45ee8a)}});}[_0x14177f(0x9a3)]({trackKinds:_0x3cce04}){const _0x3048af=_0x14177f;if(this[_0x3048af(0x377)]){for(const _0x48df2e of this[_0x3048af(0x28f)][_0x3048af(0x19a)]())_0x3cce04[_0x3048af(0x775)](_0x48df2e[_0x3048af(0xa3c)])&&this[_0x3048af(0x377)][_0x3048af(0x95d)]({'sourceId':this['owner'][_0x3048af(0x519)](),'content':{'action':_0x30df0b[_0x3048af(0x1df)],'stream':this['mediaStream'],'track':_0x48df2e}});}}['registerPublisher'](_0x1243ef){const _0x24ad38=_0x14177f;this[_0x24ad38(0x377)]=_0x1243ef;}['unregisterPublisher'](_0xfb478){const _0x150bc6=_0x14177f;_0xfb478===this[_0x150bc6(0x377)]&&(delete this['topic'],this[_0x150bc6(0x42c)]['publish']());}[_0x14177f(0xa55)](_0x1c51e3){const _0x24a2c7=_0x14177f;return this[_0x24a2c7(0x42c)][_0x24a2c7(0x1f2)](_0x1c51e3);}[_0x14177f(0x149)](_0x52c09a){const _0x30f794=_0x14177f;return this[_0x30f794(0x28f)]['getTracks']()[_0x30f794(0x3ee)](_0x3c9700=>_0x3c9700['kind']===_0x52c09a)||null;}['getInternalTrackParams'](_0x25d6d4,_0x34dadd){const _0xfd3e65=_0x14177f;let _0x5a372a;return _0xfd3e65(0xa15)===_0x25d6d4&&_0x34dadd?.[_0xfd3e65(0xa15)]&&_0xfd3e65(0x374)!=typeof _0x34dadd['video']&&(_0x5a372a={'kind':'video',..._0x34dadd[_0xfd3e65(0xa15)]},_0x5a372a['resolution']=this[_0xfd3e65(0x61a)]()),'audio'===_0x25d6d4&&_0x34dadd?.['audio']&&_0xfd3e65(0x374)!=typeof _0x34dadd['audio']&&(_0x5a372a={'kind':_0xfd3e65(0x7b2),..._0x34dadd[_0xfd3e65(0x7b2)]}),_0x5a372a;}[_0x14177f(0x61a)](){const _0x3bfd1c=_0x14177f;let _0x279534={'width':0x0,'height':0x0};const _0x25fe41=this[_0x3bfd1c(0x28f)][_0x3bfd1c(0x467)]();if(_0x25fe41[_0x3bfd1c(0x5b7)]>0x0){const _0x1bf61e=_0x25fe41[0x0]['getSettings']();_0x1bf61e[_0x3bfd1c(0x56c)]&&_0x1bf61e['height']&&(_0x279534={'width':_0x1bf61e['width'],'height':_0x1bf61e[_0x3bfd1c(0x624)]});}return _0x279534;}}class _0x1e0f85 extends _0x458a6f{['clusterId'];[_0x14177f(0x89e)]=_0x23d754[_0x14177f(0xa4a)]['Default'];[_0x14177f(0x730)]=new Map();[_0x14177f(0x49b)]=new Map();constructor(_0x255684,_0x26d398,_0x55ac54,_0x3e0498){const _0x383b18=_0x14177f;super(_0x255684,_0x26d398,_0x55ac54 instanceof MediaStream?_0x55ac54:_0x55ac54['srcObject']?_0x55ac54[_0x383b18(0x5a6)]:_0x55ac54[_0x383b18(0x5af)]()),this[_0x383b18(0x463)]=_0x3e0498,this[_0x383b18(0x28f)][_0x383b18(0x19a)]()[_0x383b18(0x918)](_0xc39cbd=>this[_0x383b18(0x26f)](_0xc39cbd)),_0x1734f6[_0x383b18(0x814)](_0x711184['MediaStream'],{'type':'publish','label':this[_0x383b18(0x322)],'nodeId':this[_0x383b18(0x1c7)][_0x383b18(0x519)](),'nodeType':this[_0x383b18(0x1c7)][_0x383b18(0x162)],'clusterId':this[_0x383b18(0x463)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x383b18(0x28f)][_0x383b18(0x19a)]()[_0x383b18(0x265)](_0x74f9fa=>_0x74f9fa[_0x383b18(0xa3c)])});}[_0x14177f(0x5a1)](){const _0x5280e8=_0x14177f;this[_0x5280e8(0x49b)][_0x5280e8(0x11a)]>0x0&&(this[_0x5280e8(0x49b)][_0x5280e8(0x918)](_0x4b4572=>{const _0x54ea70=_0x5280e8;_0x4b4572['unregisterSystemPublisher'](),_0x4b4572[_0x54ea70(0x5a1)]();}),this['outgoingStreams']['clear']()),this[_0x5280e8(0x730)][_0x5280e8(0x918)](_0x190825=>_0x190825()),super[_0x5280e8(0x5a1)]();}[_0x14177f(0x95d)](_0x173315){const _0x10df79=_0x14177f;this[_0x10df79(0x60b)][_0x10df79(0x95d)]({'sourceId':this[_0x10df79(0x1c7)][_0x10df79(0x519)](),'destinationIds':_0x173315?[_0x173315]:void 0x0,'propagate':!0x0,'messageType':_0x1252cb[_0x10df79(0x4ee)],'content':{'type':_0x2c4847[_0x10df79(0x89a)],'ownerId':this[_0x10df79(0x1c7)][_0x10df79(0x519)](),'label':this[_0x10df79(0x322)],'stream':{'streamId':this[_0x10df79(0x36d)](),'availableTrackKinds':this[_0x10df79(0x28f)][_0x10df79(0x19a)]()['map'](_0x57adfe=>_0x57adfe[_0x10df79(0xa3c)])}}});}[_0x14177f(0x17f)](){const _0x4e55c5=_0x14177f;this[_0x4e55c5(0x60b)][_0x4e55c5(0x95d)]({'sourceId':this[_0x4e55c5(0x1c7)]['getId'](),'propagate':!0x0,'messageType':_0x1252cb[_0x4e55c5(0x4ee)],'content':{'type':_0x2c4847[_0x4e55c5(0x6fa)],'ownerId':this['owner'][_0x4e55c5(0x519)](),'label':this['label']}}),this[_0x4e55c5(0x60b)]['publish']({'sourceId':_0x186264,'messageType':_0x1252cb[_0x4e55c5(0x4ee)],'content':{'type':_0x2c4847[_0x4e55c5(0x6fb)],'label':this[_0x4e55c5(0x322)]}}),_0x1734f6[_0x4e55c5(0x814)](_0x711184['MediaStream'],{'type':'unpublish','label':this['label'],'nodeId':this[_0x4e55c5(0x1c7)]['getId'](),'nodeType':this['owner']['type'],'clusterId':this[_0x4e55c5(0x463)],'streamId':this[_0x4e55c5(0x36d)]()});}[_0x14177f(0x797)](){const _0x450321=_0x14177f;return this[_0x450321(0x89e)];}[_0x14177f(0x697)](_0x29aed9){const _0x5d4648=_0x14177f;this[_0x5d4648(0x89e)]=_0x29aed9,this['outgoingStreams'][_0x5d4648(0x918)](_0x1ccde7=>_0x1ccde7['setPriority'](_0x29aed9));}[_0x14177f(0x59c)](_0x267b3f,_0x446bfe){const _0x4a525b=_0x14177f;if(!this[_0x4a525b(0x49b)]['has'](_0x267b3f)){const _0x683a80=new _0x40c050(this[_0x4a525b(0x1c7)],this[_0x4a525b(0x322)],this['mediaStream'],_0x267b3f,_0x446bfe),_0x5cb89f=_0x683a80['onUnregisterPublisher'](()=>{const _0x2ed234=_0x4a525b;_0x5cb89f(),this[_0x2ed234(0x49b)][_0x2ed234(0x9ba)](_0x267b3f)?.[_0x2ed234(0x5a1)](),this[_0x2ed234(0x49b)]['delete'](_0x267b3f);});this['outgoingStreams'][_0x4a525b(0x525)](_0x267b3f,_0x683a80),_0x683a80[_0x4a525b(0x8d0)](this[_0x4a525b(0x60b)]);}return this[_0x4a525b(0x49b)][_0x4a525b(0x9ba)](_0x267b3f);}[_0x14177f(0x448)](){const _0x1904b9=_0x14177f;return this[_0x1904b9(0x28f)]['id'];}[_0x14177f(0xa53)](_0x392e76){const _0x2423bd=_0x14177f;this[_0x2423bd(0x60b)]['publish']({'sourceId':_0x186264,'messageType':_0x1252cb[_0x2423bd(0x4ee)],'content':{'type':_0x2c4847[_0x2423bd(0x29f)],'label':this['label'],'trackKinds':[_0x392e76[_0x2423bd(0xa3c)]]}});}['setupTrackEndedListeners'](_0x2a4e39){const _0x1a4427=_0x14177f,_0x4e4549=()=>this[_0x1a4427(0xa53)](_0x2a4e39);_0x2a4e39[_0x1a4427(0x7ff)]('ended',_0x4e4549),_0x2a4e39[_0x1a4427(0x7ff)]('mute',_0x4e4549),this[_0x1a4427(0x730)]['set'](_0x2a4e39[_0x1a4427(0xa3c)],()=>{const _0x58ed17=_0x1a4427;_0x2a4e39['removeEventListener'](_0x58ed17(0x6b1),_0x4e4549),_0x2a4e39[_0x58ed17(0x251)]('mute',_0x4e4549),this[_0x58ed17(0x730)][_0x58ed17(0x131)](_0x2a4e39[_0x58ed17(0xa3c)]);});}}class _0x47221d extends _0x1e0f85{[_0x14177f(0x65d)];['transformations']=[];[_0x14177f(0x361)];[_0x14177f(0x418)];[_0x14177f(0x8f6)];[_0x14177f(0x23e)];[_0x14177f(0x5cb)];[_0x14177f(0x139)];[_0x14177f(0x35b)];constructor(_0x5ae270,_0x128c7e,_0x50b94f,_0x344e69,_0x15326b,_0x22dd50){const _0x1c12ff=_0x14177f;if(super(_0x5ae270,_0x128c7e,_0x50b94f,_0x22dd50),this[_0x1c12ff(0x65d)]=_0x15326b,this[_0x1c12ff(0x361)]=this['mediaStream'],this[_0x1c12ff(0x23e)]=document[_0x1c12ff(0x2a5)]('video'),this[_0x1c12ff(0x23e)]['autoplay']=!0x0,this[_0x1c12ff(0x23e)]['muted']=!0x0,this[_0x1c12ff(0x23e)][_0x1c12ff(0x5a6)]=this[_0x1c12ff(0x361)],this[_0x1c12ff(0x23e)][_0x1c12ff(0x246)](),this['sourceVideo']['onloadeddata']=()=>{const _0xe36a08=_0x1c12ff;this[_0xe36a08(0x23e)][_0xe36a08(0x3e7)]();},this[_0x1c12ff(0x5cb)]=document[_0x1c12ff(0x2a5)](_0x1c12ff(0x5cb)),this[_0x1c12ff(0x139)]=this[_0x1c12ff(0x5cb)]['getContext']('2d'),this[_0x1c12ff(0x28f)]=this[_0x1c12ff(0x5cb)][_0x1c12ff(0x5af)](_0x344e69),this['audioDestination']=this[_0x1c12ff(0x65d)]['createMediaStreamDestination'](),this[_0x1c12ff(0x361)][_0x1c12ff(0x255)]()[_0x1c12ff(0x5b7)]>0x0){const _0x28e477=this[_0x1c12ff(0x361)][_0x1c12ff(0x255)]()[0x0];this[_0x1c12ff(0x418)]=this[_0x1c12ff(0x65d)]['createMediaStreamSource'](new MediaStream([_0x28e477])),this['audioSource'][_0x1c12ff(0x7fa)](this[_0x1c12ff(0x8f6)]);}const _0x942f30=this[_0x1c12ff(0x8f6)]['stream'][_0x1c12ff(0x19a)]()[0x0];this[_0x1c12ff(0x28f)][_0x1c12ff(0x664)](_0x942f30),this[_0x1c12ff(0x35b)]=setInterval(()=>{const _0xd19fc8=_0x1c12ff;this[_0xd19fc8(0x5cb)][_0xd19fc8(0x56c)]=this[_0xd19fc8(0x23e)][_0xd19fc8(0x1a1)],this['canvas'][_0xd19fc8(0x624)]=this['sourceVideo'][_0xd19fc8(0xa33)],this[_0xd19fc8(0x23e)][_0xd19fc8(0x1a1)]?(0x0!==this[_0xd19fc8(0x361)]['getVideoTracks']()[_0xd19fc8(0x5b7)]&&this[_0xd19fc8(0x361)][_0xd19fc8(0x467)]()[0x0][_0xd19fc8(0xa13)]?this[_0xd19fc8(0x28f)][_0xd19fc8(0x467)]()[0x0][_0xd19fc8(0xa13)]=!0x0:this[_0xd19fc8(0x28f)][_0xd19fc8(0x467)]()[0x0][_0xd19fc8(0xa13)]=!0x1,0x0!==this[_0xd19fc8(0x361)]['getAudioTracks']()[_0xd19fc8(0x5b7)]&&this['clientStream'][_0xd19fc8(0x255)]()[0x0][_0xd19fc8(0xa13)]?this['mediaStream'][_0xd19fc8(0x255)]()[0x0][_0xd19fc8(0xa13)]=!0x0:this[_0xd19fc8(0x28f)][_0xd19fc8(0x255)]()[0x0][_0xd19fc8(0xa13)]=!0x1,this[_0xd19fc8(0x139)][_0xd19fc8(0x219)](this[_0xd19fc8(0x23e)],0x0,0x0)):this[_0xd19fc8(0x139)][_0xd19fc8(0x298)](0x0,0x0,this[_0xd19fc8(0x5cb)]['width'],this[_0xd19fc8(0x5cb)][_0xd19fc8(0x624)]);},0x3e8/_0x344e69);}[_0x14177f(0x5a1)](){const _0x360a9f=_0x14177f;clearInterval(this['interval']),this['sourceVideo'][_0x360a9f(0x1ac)](),this[_0x360a9f(0x5cb)][_0x360a9f(0x1ac)](),this[_0x360a9f(0x418)]?.[_0x360a9f(0x26d)](),this[_0x360a9f(0x8f6)][_0x360a9f(0x26d)](),this[_0x360a9f(0x28f)][_0x360a9f(0x19a)]()[_0x360a9f(0x918)](_0x4a12cf=>{const _0x289ae0=_0x360a9f;_0x4a12cf[_0x289ae0(0x91f)](),this[_0x289ae0(0x28f)]['removeTrack'](_0x4a12cf);}),super[_0x360a9f(0x5a1)]();}[_0x14177f(0x664)](_0x4739d8){const _0x32d13f=_0x14177f,_0x5481c3=this['getTrack'](_0x4739d8[_0x32d13f(0xa3c)]);_0x5481c3&&this['removeTrack'](_0x5481c3),_0x32d13f(0x7b2)!==_0x4739d8[_0x32d13f(0xa3c)]?(_0x32d13f(0xa15)===_0x4739d8[_0x32d13f(0xa3c)]&&this[_0x32d13f(0x1e7)](_0x4739d8),this['setupTrackEndedListeners'](_0x4739d8)):this[_0x32d13f(0x71d)](_0x4739d8);}[_0x14177f(0x53d)](_0xaf23f4){const _0x43532d=_0x14177f,_0x16101b=this[_0x43532d(0x4d6)](_0xaf23f4);return _0x16101b&&(_0x43532d(0x7b2)===_0x16101b[_0x43532d(0xa3c)]&&(this[_0x43532d(0x418)]?.[_0x43532d(0x26d)](),this['audioSource']=void 0x0),this['trackEndedListeners'][_0x43532d(0x9ba)](_0x16101b[_0x43532d(0xa3c)])?.(),this[_0x43532d(0x361)][_0x43532d(0x53d)](_0x16101b)),_0x16101b;}['replaceTrack'](_0x5cd5ef){const _0x21f1dc=_0x14177f;this[_0x21f1dc(0x53d)](_0x5cd5ef['kind']),this[_0x21f1dc(0x664)](_0x5cd5ef);}[_0x14177f(0x648)](_0x521576){this['transformations']=_0x521576;}['getTrack'](_0x31a239){const _0x1f4059=_0x14177f;return this[_0x1f4059(0x361)][_0x1f4059(0x19a)]()[_0x1f4059(0x3ee)](_0x5daa9b=>_0x5daa9b[_0x1f4059(0xa3c)]===_0x31a239)||null;}[_0x14177f(0x4d6)](_0xcef9e4){const _0x4e4a29=_0x14177f;return _0x4e4a29(0x867)==typeof _0xcef9e4?this[_0x4e4a29(0x149)](_0xcef9e4):_0xcef9e4;}[_0x14177f(0x71d)](_0x38282b){const _0x96a563=_0x14177f;_0x96a563(0x45b)===this['audioContext'][_0x96a563(0x168)]&&this[_0x96a563(0x65d)]['resume'](),this[_0x96a563(0x361)][_0x96a563(0x664)](_0x38282b),this[_0x96a563(0x418)]=this[_0x96a563(0x65d)]['createMediaStreamSource'](this[_0x96a563(0x361)]),this[_0x96a563(0x418)][_0x96a563(0x7fa)](this[_0x96a563(0x8f6)]);}[_0x14177f(0x1e7)](_0x5026d1){const _0x40731f=_0x14177f;this[_0x40731f(0x361)][_0x40731f(0x664)](_0x5026d1),this[_0x40731f(0x23e)][_0x40731f(0x246)]();}}class _0x4dbb2f extends _0x1e0f85{}class _0x93b0ae extends _0x27b15e{[_0x14177f(0x845)];[_0x14177f(0x463)];['vendorId'];['transactionService'];[_0x14177f(0x953)];[_0x14177f(0x96b)];[_0x14177f(0x2b5)];[_0x14177f(0x8c6)];[_0x14177f(0x3ae)]=new Map();[_0x14177f(0x892)]=new Map();[_0x14177f(0x6c1)]=new Map();[_0x14177f(0x815)]=new Map();[_0x14177f(0x8cc)]=new Map();[_0x14177f(0x49a)]=new Map();[_0x14177f(0x400)];[_0x14177f(0x40b)]=_0x26518c();['listenerUnsubscribers']=new Map();[_0x14177f(0x10c)];['writes']=0x0;[_0x14177f(0x8a3)]=0x0;[_0x14177f(0x497)]=!0x0;[_0x14177f(0x741)]=!0x0;[_0x14177f(0x5cf)]=0x0;['nodesConnected']=0x0;constructor(_0x4b24a4,_0xb4fb21,_0x1f77e3,_0x47335c,_0x3f5696,_0x9f26c,_0x1d4268,_0x4ffc5f){const _0x247ca4=_0x14177f;if(_0x247ca4(0x867)!=typeof _0xb4fb21)throw new _0x3b8aa0(_0x1a76df[_0x247ca4(0x36a)],_0x247ca4(0x8ea));super(_0x4b24a4,_0xb4fb21),this[_0x247ca4(0x845)]=_0x4b24a4,this['clusterId']=_0x1f77e3,this[_0x247ca4(0x857)]=_0x47335c,this[_0x247ca4(0x894)]=_0x3f5696,this[_0x247ca4(0x953)]=_0x1d4268,this[_0x247ca4(0x96b)]=_0x4ffc5f;const _0x280b20=_0x247ca4(0x698)+this['vendorId']+_0x247ca4(0x698)+this[_0x247ca4(0x463)]+'ccc'+_0xb4fb21;this[_0x247ca4(0x400)]=new _0x9f26c(_0x280b20),this[_0x247ca4(0x497)]=this[_0x247ca4(0x96b)]?.[_0x247ca4(0x497)]??!0x0,this[_0x247ca4(0x96b)]?.['standalone']&&(this[_0x247ca4(0x497)]=!0x1),this[_0x247ca4(0x926)]();}[_0x14177f(0x140)](){this['sendStats']();}[_0x14177f(0x62d)](){const _0x3de010=_0x14177f;return _0x23d754[_0x3de010(0x565)][_0x3de010(0x11d)];}async[_0x14177f(0x3a4)](){const _0x1c3b75=_0x14177f;this[_0x1c3b75(0x741)]=!0x0;try{const _0x38c287=await this[_0x1c3b75(0x400)][_0x1c3b75(0x9ba)](_0x12a814),_0x3f2c4b=await _0x38c287[_0x1c3b75(0x795)]();this[_0x1c3b75(0x8c6)]=_0x3f2c4b;}catch(_0x22f611){}this[_0x1c3b75(0x2b5)]=this[_0x1c3b75(0x16a)](async(_0x420dd3,_0x6a07a7)=>{const _0x367928=_0x1c3b75;if(!(_0x6a07a7 instanceof File))try{if(_0x6a07a7['payloadType']===_0x56f23a[_0x367928(0x650)])return void this[_0x367928(0x386)](_0x6a07a7);this[_0x367928(0x772)](_0x6a07a7);}catch(_0x4b5323){if(_0x4b5323 instanceof _0x209e12)throw _0x4b5323;throw new _0x209e12(_0x209e12[_0x367928(0x805)][_0x367928(0x943)],{'payload':_0x6a07a7});}}),await this[_0x1c3b75(0x9f5)](),this[_0x1c3b75(0x497)]?await this[_0x1c3b75(0x5f1)]():this['completeSync'](),this[_0x1c3b75(0x926)]();}[_0x14177f(0x5a1)](){const _0x7c84bb=_0x14177f;this[_0x7c84bb(0x2b5)]?.(),this['listenerUnsubscribers']['forEach'](_0x17e019=>_0x17e019()),this[_0x7c84bb(0x44d)][_0x7c84bb(0x12e)](),clearTimeout(this[_0x7c84bb(0x10c)]),delete this[_0x7c84bb(0x10c)],super[_0x7c84bb(0x5a1)]();}[_0x14177f(0x9b6)](){const _0x3ddc3d=_0x14177f;this['systemTopic']?.[_0x3ddc3d(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x3ddc3d(0x4ee)],'content':{'type':_0x2c4847['CloseObjectStoreBucket'],'label':this[_0x3ddc3d(0x322)]}});}[_0x14177f(0x1f2)](_0x34cad4,_0x3049a5){const _0x36b74f=_0x14177f;if(this['listenerUnsubscribers'][_0x36b74f(0x85c)](_0x34cad4))throw new _0x3b8aa0(_0x1a76df[_0x36b74f(0x3ad)],_0x36b74f(0x284));this[_0x36b74f(0x44d)][_0x36b74f(0x525)](_0x34cad4,this[_0x36b74f(0x40b)][_0x36b74f(0x1f2)](_0x3049a5)),this[_0x36b74f(0x741)]||this[_0x36b74f(0x40b)]['publish']({'event':_0x23d754[_0x36b74f(0x95b)][_0x36b74f(0x786)],'payload':{'filesSynced':this[_0x36b74f(0x5cf)]}});}[_0x14177f(0x9a3)](_0x13464d){const _0x5e9e03=_0x14177f;this['listenerUnsubscribers'][_0x5e9e03(0x9ba)](_0x13464d)?.(),this[_0x5e9e03(0x44d)]['delete'](_0x13464d);}[_0x14177f(0x95d)](_0x4a273a){const _0x2f3cf4=_0x14177f;switch(_0x4a273a['action']){case _0x23d754[_0x2f3cf4(0x2d1)][_0x2f3cf4(0x26a)]:return this['publishFile'](_0x4a273a[_0x2f3cf4(0x829)],_0x4a273a[_0x2f3cf4(0x160)],_0x4a273a[_0x2f3cf4(0x96b)]);case _0x23d754[_0x2f3cf4(0x2d1)]['Folder']:return this[_0x2f3cf4(0x1a4)](_0x4a273a[_0x2f3cf4(0x160)]);case _0x23d754['PayloadAction'][_0x2f3cf4(0x6d2)]:return this[_0x2f3cf4(0x87b)](_0x4a273a[_0x2f3cf4(0x160)],_0x4a273a[_0x2f3cf4(0x3e9)]);default:throw new _0x3b8aa0(_0x1a76df[_0x2f3cf4(0xfe)],_0x2f3cf4(0x6c6)+_0x4a273a);}}async[_0x14177f(0x17f)](_0x1d2b12){const _0x4b4f39=_0x14177f;try{const _0x2fbc89=(0x0,_0x3fe08f['v4'])(),_0x4b8f60=this[_0x4b4f39(0x8c6)],_0x3b3daa={'payloadType':_0x56f23a[_0x4b4f39(0x399)],'action':_0x912370[_0x4b4f39(0x9d9)],'id':_0x2fbc89,'parentId':_0x4b8f60,'path':_0x1d2b12};await this['publishTransaction'](_0x3b3daa);const _0x1644d0=await this[_0x4b4f39(0x1f1)](_0x1d2b12);!0x0!==this[_0x4b4f39(0x96b)]?.[_0x4b4f39(0x36e)]&&await this[_0x4b4f39(0x19d)](_0x3b3daa),_0x1734f6[_0x4b4f39(0x814)](_0x711184[_0x4b4f39(0x5d1)],{'type':_0x4b4f39(0x17f),'label':this[_0x4b4f39(0x322)],'nodeId':this[_0x4b4f39(0x845)]['getId'](),'nodeType':this[_0x4b4f39(0x845)]['type'],'clusterId':this['clusterId'],'kind':_0x1644d0,'path':_0x1d2b12}),this['writes']+=0x1,this[_0x4b4f39(0x926)]();}catch(_0x5685ae){if(_0x5685ae instanceof _0x209e12)throw new _0x3b8aa0(_0x1a76df['ObjectStoreNotInSync'],_0x4b4f39(0x6e7)+_0x1d2b12+':\x20Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x3b8aa0(_0x1a76df[_0x4b4f39(0x1f0)],_0x4b4f39(0x9ab)+_0x1d2b12);}}async['get'](_0x25f8b0,_0xe71a19){const _0x3432f6=_0x14177f;_0x1734f6[_0x3432f6(0x814)](_0x711184[_0x3432f6(0x5d1)],{'type':_0x3432f6(0x9ba),'label':this[_0x3432f6(0x322)],'nodeId':this[_0x3432f6(0x845)][_0x3432f6(0x519)](),'nodeType':this[_0x3432f6(0x845)][_0x3432f6(0x162)],'clusterId':this[_0x3432f6(0x463)],'path':_0x25f8b0}),this[_0x3432f6(0x8a3)]+=0x1,this['sendStats']();try{return await this[_0x3432f6(0x400)][_0x3432f6(0x9ba)](_0x25f8b0,_0xe71a19);}catch(_0x4c8eba){try{await this[_0x3432f6(0x400)][_0x3432f6(0x9ba)](_0x25f8b0+_0x844134);}catch(_0x47d926){throw new _0x3b8aa0(_0x1a76df[_0x3432f6(0x1f0)],_0x3432f6(0x98e)+_0x25f8b0);}throw new _0x3b8aa0(_0x1a76df['ObjectStoreNotInSync'],_0x3432f6(0x12a));}}async[_0x14177f(0x820)](_0x3e94d7,_0x54f92b){const _0x41e076=_0x14177f,{recursive:_0x263bdd=!0x1,includeSyncingFiles:_0x5b8b03=!0x1}=_0x54f92b??{};_0x1734f6['logServiceEvent'](_0x711184['ObjectStorage'],{'type':'list','label':this[_0x41e076(0x322)],'nodeId':this[_0x41e076(0x845)][_0x41e076(0x519)](),'nodeType':this[_0x41e076(0x845)]['type'],'clusterId':this[_0x41e076(0x463)],'path':_0x3e94d7}),this[_0x41e076(0x8a3)]+=0x1,this['sendStats']();try{const _0x9e651f=await this['objectStoreConnector'][_0x41e076(0x820)](_0x3e94d7,_0x263bdd);return this[_0x41e076(0x2a3)](_0x9e651f,{'recursive':_0x263bdd,'includeSyncingFiles':_0x5b8b03});}catch(_0x2c2bee){throw new _0x3b8aa0(_0x1a76df['ObjectStoreInvalidPath'],_0x41e076(0x117)+_0x3e94d7);}}[_0x14177f(0x4e8)](_0x14e2f5){const _0x480018=_0x14177f;this['nodesConnected']+=0x1;for(const _0x4fe1f1 of this['objectRequests']['values']())this[_0x480018(0x19d)](_0x4fe1f1,[_0x14e2f5]);}[_0x14177f(0x105)](_0x46db5d){const _0x4310f8=_0x14177f;this[_0x4310f8(0x97a)]-=0x1;const _0x28b3ba=this[_0x4310f8(0x6c1)]['get'](_0x46db5d);if(_0x28b3ba){for(const [_0x36ae67,_0x3cd287]of _0x28b3ba[_0x4310f8(0x774)]())this[_0x4310f8(0x3c1)](_0x36ae67,_0x3cd287);this[_0x4310f8(0x6c1)]['delete'](_0x46db5d);}}async[_0x14177f(0x126)](_0x499712='/'){const _0xc86b64=_0x14177f;try{return await this[_0xc86b64(0x400)][_0xc86b64(0xa1f)](_0x499712);}catch(_0x4238d4){if(_0x4238d4 instanceof Error&&_0x4238d4[_0xc86b64(0x84a)][_0xc86b64(0x775)]('ENOENT'))return 0x0;throw new _0x3b8aa0(_0x1a76df[_0xc86b64(0x1f0)],_0xc86b64(0x4cf)+_0x499712);}}[_0x14177f(0x43f)](){const _0x177705=_0x14177f;this['isSyncing']&&(this[_0x177705(0x741)]=!0x1,this[_0x177705(0x40b)][_0x177705(0x95d)]({'event':_0x23d754['StorageEventType'][_0x177705(0x786)],'payload':{'filesSynced':this[_0x177705(0x5cf)]}}));}async['processList'](_0xeb5150,{includeSyncingFiles:_0x4e9ec6=!0x1}){const _0x1b9f58=_0x14177f,_0xf60581=[];for(const _0x523d39 of _0xeb5150)if(_0x523d39[_0x1b9f58(0xa3c)]!==_0x23d754['ObjectKind'][_0x1b9f58(0x672)]){if(_0x523d39['name']!==_0x12a814){if(_0x523d39['name'][_0x1b9f58(0x98c)](_0x844134)){if(!_0x4e9ec6)continue;const _0x2a5b77=_0x523d39;if(_0x2a5b77[_0x1b9f58(0x1a5)]=_0x2a5b77[_0x1b9f58(0x1a5)][_0x1b9f58(0x79d)](_0x844134,''),_0x2a5b77[_0x1b9f58(0x1ba)]=_0x2a5b77['pathName'][_0x1b9f58(0x79d)](_0x844134,''),await this[_0x1b9f58(0x9cb)](_0x2a5b77['pathName'])){_0xeb5150['find'](_0x16527b=>_0x16527b[_0x1b9f58(0x1ba)]===_0x2a5b77[_0x1b9f58(0x1ba)])[_0x1b9f58(0x32b)]=_0x23d754[_0x1b9f58(0x1ef)][_0x1b9f58(0x5de)];continue;}_0x2a5b77[_0x1b9f58(0x32b)]=_0x23d754[_0x1b9f58(0x1ef)][_0x1b9f58(0x71f)];}_0xf60581[_0x1b9f58(0x993)](_0x523d39);}}else _0x523d39['entries']=await this[_0x1b9f58(0x2a3)](_0x523d39[_0x1b9f58(0x623)]??[],{'includeSyncingFiles':_0x4e9ec6}),_0xf60581[_0x1b9f58(0x993)](_0x523d39);return _0xf60581;}async['publishFile'](_0x3f7d04,_0x44cd7e,_0x41e950){const _0x3c8af2=_0x14177f;try{const _0xdb842c=(0x0,_0x3fe08f['v4'])(),_0x2d14d4=await _0x26c4c4(_0x3f7d04),_0x446d13=_0x29035c(_0x44cd7e??'/',_0x3f7d04[_0x3c8af2(0x1a5)]);let _0x19eee1=!0x0;const _0x2932aa={'payloadType':_0x56f23a[_0x3c8af2(0x399)],'action':_0x912370[_0x3c8af2(0x1fb)],'id':_0xdb842c,'parentId':this[_0x3c8af2(0x8c6)],'answererId':this['localNode'][_0x3c8af2(0x519)](),'name':_0x3f7d04['name'],'type':_0x3f7d04[_0x3c8af2(0x162)],'path':_0x44cd7e??'/','skipEncryption':_0x41e950?.[_0x3c8af2(0x907)]??!0x1,'checksum':_0x2d14d4};try{if(!_0x41e950?.['fetchUrl'])throw new Error(_0x3c8af2(0x13d));const _0x490aa4=_0x446d13+_0x844134;await this['objectStoreConnector'][_0x3c8af2(0x9ba)](_0x490aa4),_0x19eee1=!0x1,await this['objectStoreConnector'][_0x3c8af2(0x1f1)](_0x490aa4),this[_0x3c8af2(0x892)]['delete'](_0x446d13);}catch(_0x1b75c8){await this[_0x3c8af2(0x295)](_0x2932aa);}if(this['syncContent']||this[_0x3c8af2(0x96b)]?.[_0x3c8af2(0x36e)]?await this[_0x3c8af2(0x2c7)](_0x3f7d04,_0x44cd7e,_0x41e950):await this['createPendingFileWrite'](_0x3f7d04['name'],_0x44cd7e??'/',{'checksum':_0x2d14d4,'skipEncryption':_0x41e950?.[_0x3c8af2(0x907)]??!0x1}),this[_0x3c8af2(0x49a)][_0x3c8af2(0x85c)](_0x446d13)){const [_0x86cf69,_0x407c59]=this[_0x3c8af2(0x49a)]['get'](_0x446d13);this[_0x3c8af2(0x49a)][_0x3c8af2(0x525)](_0x446d13,[!0x0,_0x407c59]);try{await _0x407c59;}catch(_0x2a2658){}this[_0x3c8af2(0x49a)][_0x3c8af2(0x131)](_0x446d13);}_0x19eee1&&this['nodesConnected']>0x0&&!0x0!==this[_0x3c8af2(0x96b)]?.[_0x3c8af2(0x36e)]&&await this[_0x3c8af2(0x3bb)](_0x3f7d04,_0x2932aa),_0x1734f6[_0x3c8af2(0x814)](_0x711184['ObjectStorage'],{'type':_0x3c8af2(0x95d),'label':this[_0x3c8af2(0x322)],'nodeId':this[_0x3c8af2(0x845)][_0x3c8af2(0x519)](),'nodeType':this['localNode'][_0x3c8af2(0x162)],'clusterId':this[_0x3c8af2(0x463)],'kind':_0x23d754[_0x3c8af2(0x95a)][_0x3c8af2(0x26a)],'path':_0x44cd7e,'fileName':_0x3f7d04['name'],'fileType':_0x3f7d04[_0x3c8af2(0x162)],'size':_0x3f7d04['size']}),this['writes']+=0x1,this[_0x3c8af2(0x926)]();}catch(_0x1489fd){if(_0x1489fd instanceof _0x209e12)throw new _0x3b8aa0(_0x1a76df[_0x3c8af2(0x706)],_0x3c8af2(0x12a));throw new _0x3b8aa0(_0x1a76df[_0x3c8af2(0x1f0)],_0x3c8af2(0x8e6)+_0x44cd7e+(_0x44cd7e?.[_0x3c8af2(0x98c)]('/')?'':'/')+_0x3f7d04[_0x3c8af2(0x1a5)]);}}async['publishFolder'](_0x19d6e4){const _0x248ce2=_0x14177f;try{const _0x4c05eb=(0x0,_0x3fe08f['v4'])(),_0x3650c7=this['lastTransactionId'],_0x45771e={'payloadType':_0x56f23a[_0x248ce2(0x399)],'action':_0x912370[_0x248ce2(0x7d4)],'id':_0x4c05eb,'parentId':_0x3650c7,'path':_0x19d6e4};await this['publishTransaction'](_0x45771e),await this[_0x248ce2(0x400)][_0x248ce2(0x9a4)](_0x19d6e4),!0x0!==this[_0x248ce2(0x96b)]?.[_0x248ce2(0x36e)]&&await this[_0x248ce2(0x19d)](_0x45771e),_0x1734f6[_0x248ce2(0x814)](_0x711184[_0x248ce2(0x5d1)],{'type':_0x248ce2(0x95d),'label':this[_0x248ce2(0x322)],'nodeId':this[_0x248ce2(0x845)][_0x248ce2(0x519)](),'nodeType':this['localNode'][_0x248ce2(0x162)],'clusterId':this[_0x248ce2(0x463)],'kind':_0x23d754[_0x248ce2(0x95a)][_0x248ce2(0x672)],'path':_0x19d6e4}),this[_0x248ce2(0x83c)]+=0x1,this[_0x248ce2(0x926)]();}catch(_0x28310a){if(_0x28310a instanceof _0x209e12)throw new _0x3b8aa0(_0x1a76df[_0x248ce2(0x706)],_0x248ce2(0x12a));throw new _0x3b8aa0(_0x1a76df['ObjectStoreInvalidPath'],_0x248ce2(0x25d)+_0x19d6e4);}}async[_0x14177f(0x87b)](_0x4d1a06,_0x54bb8a){const _0x220146=_0x14177f;try{const _0x563db7=(0x0,_0x3fe08f['v4'])(),_0x45c19e=this[_0x220146(0x8c6)],_0x1fe5fa={'payloadType':_0x56f23a['Transaction'],'action':_0x912370['Move'],'id':_0x563db7,'parentId':_0x45c19e,'path':_0x4d1a06,'newPath':_0x54bb8a};await this[_0x220146(0x295)](_0x1fe5fa);const _0x17c7bd=await this[_0x220146(0x64d)](_0x4d1a06,_0x54bb8a);!0x0!==this[_0x220146(0x96b)]?.[_0x220146(0x36e)]&&await this[_0x220146(0x19d)](_0x1fe5fa),_0x1734f6[_0x220146(0x814)](_0x711184[_0x220146(0x5d1)],{'type':_0x220146(0xa42),'label':this['label'],'nodeId':this[_0x220146(0x845)]['getId'](),'nodeType':this[_0x220146(0x845)][_0x220146(0x162)],'clusterId':this[_0x220146(0x463)],'kind':_0x17c7bd,'path':_0x4d1a06,'newPath':_0x54bb8a}),this[_0x220146(0x83c)]+=0x1,this[_0x220146(0x926)]();}catch(_0x3c0b0d){if(_0x3c0b0d instanceof _0x209e12)throw new _0x3b8aa0(_0x1a76df[_0x220146(0x706)],_0x220146(0x12a));throw new _0x3b8aa0(_0x1a76df[_0x220146(0x1f0)],_0x220146(0x6b5)+_0x4d1a06);}}async[_0x14177f(0x772)](_0x1054eb,_0x202083=!0x1){const _0x1f5516=_0x14177f;if(this[_0x1f5516(0x8c6)]&&_0x1054eb[_0x1f5516(0x62a)]!==this['lastTransactionId']&&_0x1054eb['id']!==this['lastTransactionId']){if(!_0x1054eb['parentId'])throw new _0x209e12(_0x209e12[_0x1f5516(0x805)][_0x1f5516(0x943)]);this['pendingSyncTransactions'][_0x1f5516(0x525)](_0x1054eb[_0x1f5516(0x62a)],_0x1054eb);}else{try{await this[_0x1f5516(0x4fd)](_0x1054eb,_0x202083);}catch(_0x29c917){}await this[_0x1f5516(0x18c)](_0x1054eb['id']),await this[_0x1f5516(0x897)](_0x1054eb['id'],_0x202083);}}async[_0x14177f(0x4fd)](_0x539eda,_0x26ea9c=!0x1){const _0x35db9b=_0x14177f;switch(_0x539eda[_0x35db9b(0x37e)]){case _0x912370[_0x35db9b(0x1fb)]:await this[_0x35db9b(0x498)](_0x539eda);break;case _0x912370[_0x35db9b(0x7d4)]:await this[_0x35db9b(0x638)](_0x539eda);break;case _0x912370[_0x35db9b(0x6d2)]:await this[_0x35db9b(0x544)](_0x539eda,_0x26ea9c);break;case _0x912370[_0x35db9b(0x9d9)]:await this[_0x35db9b(0x5bd)](_0x539eda,_0x26ea9c);break;default:throw new _0x209e12(_0x209e12[_0x35db9b(0x805)][_0x35db9b(0x943)],{'payload':_0x539eda});}}async[_0x14177f(0x897)](_0x2d6ff0,_0x37ec0f=!0x1){const _0x5649ef=_0x14177f;if(this[_0x5649ef(0x3ae)]['has'](_0x2d6ff0)){const _0x269bd7=this[_0x5649ef(0x3ae)]['get'](_0x2d6ff0);this['pendingSyncTransactions'][_0x5649ef(0x131)](_0x2d6ff0),await this['handleTransactionPayload'](_0x269bd7,_0x37ec0f);}}async['handleRequestPayload'](_0x4e8d9f){const _0x35e725=_0x14177f;switch(_0x4e8d9f['action']){case _0x912370[_0x35e725(0x339)]:return this[_0x35e725(0x37c)](_0x4e8d9f);case _0x912370[_0x35e725(0x9d5)]:return this[_0x35e725(0x375)](_0x4e8d9f);case _0x912370[_0x35e725(0x9c5)]:return this['handleFileSync'](_0x4e8d9f);case _0x912370[_0x35e725(0x17b)]:return this[_0x35e725(0x498)](_0x4e8d9f);default:throw new _0x209e12(_0x209e12['codes'][_0x35e725(0x943)],{'payload':_0x4e8d9f});}}async[_0x14177f(0x498)](_0x38ec71,_0x336cd3=0x0){const _0x455e41=_0x14177f,_0x1d7843=_0x29035c(_0x38ec71[_0x455e41(0x160)],_0x38ec71[_0x455e41(0x1a5)]);if(!_0x38ec71[_0x455e41(0x84f)]||void 0x0===_0x38ec71[_0x455e41(0x14a)]||!_0x38ec71['total'])return this[_0x455e41(0x472)][_0x455e41(0x131)](_0x1d7843),void await this[_0x455e41(0x896)](_0x38ec71[_0x455e41(0x1a5)],_0x38ec71[_0x455e41(0x160)],{'checksum':_0x38ec71[_0x455e41(0x2dd)],'skipEncryption':_0x38ec71['skipEncryption']});if(this[_0x455e41(0x472)][_0x455e41(0x85c)](_0x1d7843)){const _0x3c776d=this['fileChunks'][_0x455e41(0x9ba)](_0x1d7843);_0x3c776d[_0x455e41(0x2dd)]!==_0x38ec71[_0x455e41(0x2dd)]&&(_0x3c776d['stream']?.[_0x455e41(0x9b6)](),this[_0x455e41(0x472)][_0x455e41(0x131)](_0x1d7843));}if(!this[_0x455e41(0x472)]['has'](_0x1d7843)){try{await this['objectStoreConnector'][_0x455e41(0x1f1)](_0x1d7843);}catch(_0x4461fa){}try{const _0x299dce=this[_0x455e41(0x497)]?await this['objectStoreConnector'][_0x455e41(0x8e1)](_0x1d7843,{'skipEncryption':_0x38ec71[_0x455e41(0x907)]}):void 0x0,_0x267e48={'chunksReceived':_0x38ec71[_0x455e41(0x290)]??0x0,'bytesReceived':0x0,'stream':_0x299dce,'checksum':_0x38ec71['checksum']};this[_0x455e41(0x472)]['set'](_0x1d7843,_0x267e48),await this['createPendingFileWrite'](_0x38ec71[_0x455e41(0x1a5)],_0x38ec71[_0x455e41(0x160)],{'checksum':_0x38ec71[_0x455e41(0x2dd)],'skipEncryption':_0x38ec71['skipEncryption']});}catch(_0x3bec30){}}const _0x5e3567=this[_0x455e41(0x472)]['get'](_0x1d7843);if(_0x38ec71['checksum']!==_0x5e3567['checksum'])return;if(this[_0x455e41(0x89d)](_0x38ec71,_0x1d7843),this[_0x455e41(0x497)]){if(!_0x5e3567[_0x455e41(0x68e)])throw new _0x209e12(_0x209e12[_0x455e41(0x805)][_0x455e41(0x943)],{'message':'Writable\x20stream\x20is\x20missing'});let _0x38ca0b=_0x5e3567[_0x455e41(0x203)];if(_0x38ec71[_0x455e41(0x14a)]!==_0x38ca0b){if(_0x38ca0b>_0x38ec71['index'])return;const _0x1c39d1=2064.1259842519685;if(_0x38ec71[_0x455e41(0x14a)]>_0x38ca0b+_0x1c39d1)return;if(_0x5e3567[_0x455e41(0x603)]||(_0x5e3567[_0x455e41(0x603)]=[]),_0x5e3567[_0x455e41(0x603)][_0x455e41(0x5b7)]>8256.503937007874)throw this['fileChunks'][_0x455e41(0x131)](_0x1d7843),new _0x209e12(_0x209e12[_0x455e41(0x805)][_0x455e41(0x943)],{'message':_0x455e41(0x450)});return void _0x5e3567[_0x455e41(0x603)][_0x455e41(0x993)](_0x38ec71);}try{_0x5e3567[_0x455e41(0x203)]+=0x1,_0x5e3567[_0x455e41(0x862)]+=_0x38ec71[_0x455e41(0x84f)][_0x455e41(0x56a)],await _0x5e3567[_0x455e41(0x68e)][_0x455e41(0x7f1)](_0x38ec71[_0x455e41(0x84f)]);}catch(_0xdbc57a){if(console[_0x455e41(0x70e)](_0x455e41(0x9e8),_0xdbc57a),_0x336cd3>0x3)throw this[_0x455e41(0x472)][_0x455e41(0x131)](_0x1d7843),console[_0x455e41(0x70e)](_0x455e41(0x714),_0xdbc57a),new _0x209e12(_0x209e12[_0x455e41(0x805)]['ObjectStoreInvalidSyncMessage'],{'message':_0x455e41(0x714)});return this[_0x455e41(0x498)](_0x38ec71,_0x336cd3+0x1);}}try{await this[_0x455e41(0x493)](_0x5e3567,_0x38ec71[_0x455e41(0x14a)]+0x1);}catch(_0x4c7266){throw this[_0x455e41(0x472)][_0x455e41(0x131)](_0x1d7843),_0x4c7266;}if(this[_0x455e41(0x472)][_0x455e41(0x525)](_0x1d7843,_0x5e3567),_0x5e3567[_0x455e41(0x203)]<_0x38ec71[_0x455e41(0xa11)])return;await this[_0x455e41(0x973)](_0x1d7843),this['syncContent']&&(await this[_0x455e41(0x5d7)](_0x38ec71),_0x1734f6[_0x455e41(0x814)](_0x711184['ObjectStorage'],{'type':_0x455e41(0x3a4),'label':this[_0x455e41(0x322)],'nodeId':this['localNode'][_0x455e41(0x519)](),'nodeType':this[_0x455e41(0x845)]['type'],'clusterId':this['clusterId'],'kind':_0x23d754['ObjectKind'][_0x455e41(0x26a)],'path':_0x38ec71['path'],'fileName':_0x38ec71[_0x455e41(0x1a5)],'fileType':_0x38ec71['type'],'size':_0x5e3567[_0x455e41(0x862)]}));const _0x212d0e=this[_0x455e41(0x815)]['get'](_0x38ec71[_0x455e41(0x160)])??[];for(const _0x454857 of _0x212d0e)await this[_0x455e41(0x4fd)](_0x454857);this[_0x455e41(0x815)][_0x455e41(0x131)](_0x38ec71[_0x455e41(0x160)]),this[_0x455e41(0x40b)][_0x455e41(0x95d)]({'event':_0x23d754[_0x455e41(0x95b)][_0x455e41(0x1fb)],'payload':{'file':{'kind':_0x23d754[_0x455e41(0x95a)]['File'],'path':_0x38ec71['path'],'type':_0x38ec71['type'],'size':_0x5e3567[_0x455e41(0x862)],'name':_0x38ec71[_0x455e41(0x1a5)],'pathName':_0x1d7843,'status':this[_0x455e41(0x497)]?_0x23d754[_0x455e41(0x1ef)][_0x455e41(0x154)]:_0x23d754[_0x455e41(0x1ef)]['Pending']}}}),this[_0x455e41(0x926)]();}async[_0x14177f(0x493)](_0x1a402c,_0x4bfb84){const _0x490d04=_0x14177f,_0x33969b=_0x1a402c[_0x490d04(0x68e)];let _0x5f4924=0x0;for(;_0x1a402c[_0x490d04(0x603)]&&_0x1a402c['bufferedChunks'][_0x490d04(0x5b7)]>0x0;){const _0x13e091=_0x1a402c[_0x490d04(0x603)]['find'](_0x24e121=>_0x24e121[_0x490d04(0x14a)]===_0x4bfb84+0x1);if(!_0x13e091)break;_0x1a402c[_0x490d04(0x603)]=_0x1a402c[_0x490d04(0x603)][_0x490d04(0x31d)](_0x229827=>_0x229827['index']!==_0x4bfb84+0x1);try{await _0x33969b[_0x490d04(0x7f1)](_0x13e091[_0x490d04(0x84f)]),_0x4bfb84++;}catch(_0x265deb){if(console[_0x490d04(0x70e)](_0x490d04(0x67e),_0x265deb),_0x5f4924>0x3)throw console['error'](_0x490d04(0x5fa),_0x265deb),new _0x209e12(_0x209e12[_0x490d04(0x805)][_0x490d04(0x943)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream'});_0x5f4924++;continue;}_0x1a402c[_0x490d04(0x203)]+=0x1,_0x1a402c['bytesReceived']+=_0x13e091[_0x490d04(0x84f)][_0x490d04(0x56a)];}}async[_0x14177f(0x638)](_0x113fd7){const _0xbfbf18=_0x14177f;await this['objectStoreConnector']['createFolder'](_0x113fd7['path']);const [_0x491c20,_0x1d68d7]=_0x229976(_0x113fd7[_0xbfbf18(0x160)]);this[_0xbfbf18(0x40b)]['publish']({'event':_0x23d754[_0xbfbf18(0x95b)][_0xbfbf18(0x7d4)],'payload':{'folder':{'kind':_0x23d754['ObjectKind'][_0xbfbf18(0x672)],'name':_0x1d68d7,'path':_0x491c20,'pathName':_0x113fd7[_0xbfbf18(0x160)]}}});}async[_0x14177f(0x5bd)](_0x5eb5f7,_0x13ec6d=!0x1){const _0x242049=_0x14177f;if(!_0x13ec6d&&!this[_0x242049(0x533)](_0x5eb5f7))return;const _0x5ca088=await this['deleteObject'](_0x5eb5f7['path']),[_0x770ba7,_0x230cdb]=_0x229976(_0x5eb5f7[_0x242049(0x160)]);this['eventListener'][_0x242049(0x95d)]({'event':_0x5ca088===_0x23d754[_0x242049(0x95a)][_0x242049(0x672)]?_0x23d754[_0x242049(0x95b)]['FolderDelete']:_0x23d754[_0x242049(0x95b)][_0x242049(0x199)],'payload':{'name':_0x230cdb,'path':_0x770ba7,'pathName':_0x5eb5f7[_0x242049(0x160)]}}),this[_0x242049(0x926)]();}async[_0x14177f(0x544)](_0x1d7612,_0x44b709=!0x1){const _0x31d31b=_0x14177f;if(!_0x44b709&&!this['shouldProcessTransaction'](_0x1d7612))return this['pendingFilesRename'][_0x31d31b(0x525)](_0x1d7612['newPath'],this['pendingFilesRename'][_0x31d31b(0x9ba)](_0x1d7612[_0x31d31b(0x160)])??_0x1d7612[_0x31d31b(0x160)]),void this[_0x31d31b(0x8cc)][_0x31d31b(0x131)](_0x1d7612['path']);this[_0x31d31b(0x8cc)][_0x31d31b(0x131)](_0x1d7612[_0x31d31b(0x160)]);const _0x38da95=await this[_0x31d31b(0x400)]['moveObject'](_0x1d7612['path'],_0x1d7612[_0x31d31b(0x3e9)]),[_0x4fbc01,_0x2b8920]=_0x229976(_0x1d7612['path']),[_0x3aa90a,_0x11771e]=_0x229976(_0x1d7612[_0x31d31b(0x3e9)]);this[_0x31d31b(0x40b)][_0x31d31b(0x95d)]({'event':_0x38da95===_0x23d754[_0x31d31b(0x95a)][_0x31d31b(0x672)]?_0x23d754[_0x31d31b(0x95b)][_0x31d31b(0x2e3)]:_0x23d754[_0x31d31b(0x95b)][_0x31d31b(0x16d)],'payload':{'name':_0x11771e,'path':_0x3aa90a,'pathName':_0x1d7612[_0x31d31b(0x3e9)],'oldName':_0x2b8920,'oldPath':_0x4fbc01,'oldPathName':_0x1d7612['path']}}),this[_0x31d31b(0x926)]();}[_0x14177f(0x533)](_0x1c3fce){const _0x512818=_0x14177f,_0x43515d=this[_0x512818(0x8cc)][_0x512818(0x9ba)](_0x1c3fce['path'])??_0x1c3fce[_0x512818(0x160)];let _0x2f1497=!0x1;for(const _0x4ed0e6 of this['fileChunks']['keys']())if(_0x4ed0e6[_0x512818(0x53a)](_0x43515d)){const _0xde2f33=this[_0x512818(0x815)]['get'](_0x4ed0e6)??[];_0xde2f33['push'](_0x1c3fce),this[_0x512818(0x815)][_0x512818(0x525)](_0x4ed0e6,_0xde2f33),_0x2f1497=!0x0;}return!_0x2f1497;}async[_0x14177f(0x295)](_0xb5fb68){const _0x53da7b=_0x14177f;if(!this[_0x53da7b(0x96b)]?.[_0x53da7b(0x36e)]){if(!_0xb5fb68['id'])throw new _0x209e12(_0x209e12['codes'][_0x53da7b(0x943)],{'message':'Missing\x20transaction\x20id'});if(_0xb5fb68[_0x53da7b(0x62a)]!==this[_0x53da7b(0x8c6)])throw new _0x209e12(_0x209e12['codes'][_0x53da7b(0x79c)]);await this[_0x53da7b(0x894)][_0x53da7b(0x1a6)](_0xb5fb68,this[_0x53da7b(0x322)]),await this[_0x53da7b(0x18c)](_0xb5fb68['id']);}}async[_0x14177f(0x18c)](_0x4e1a76){const _0x18dda6=_0x14177f;this[_0x18dda6(0x8c6)]=_0x4e1a76;const _0x2f536a=new File([new Blob([this[_0x18dda6(0x8c6)]])],_0x12a814,{'type':'text/plain'});await this[_0x18dda6(0x2c7)](_0x2f536a,'/');}async['handleFileRequest'](_0x42b6ec){const _0x29b7cf=_0x14177f;try{const _0x2cedeb=await this[_0x29b7cf(0x9ba)](_0x42b6ec[_0x29b7cf(0x160)]+'/'+_0x42b6ec[_0x29b7cf(0x1a5)],{'skipEncryption':_0x42b6ec['skipEncryption']}),_0x32d66f=await _0x26c4c4(_0x2cedeb);if(''!==_0x42b6ec[_0x29b7cf(0x2dd)]&&_0x32d66f!==_0x42b6ec[_0x29b7cf(0x2dd)])return;_0x42b6ec[_0x29b7cf(0xa41)]=this['localNode'][_0x29b7cf(0x519)](),_0x42b6ec[_0x29b7cf(0x37e)]=_0x912370[_0x29b7cf(0x9d5)],await this[_0x29b7cf(0x19d)](_0x42b6ec,[_0x42b6ec[_0x29b7cf(0x54b)]]);}catch(_0x4e7a3e){}}async[_0x14177f(0x375)](_0x45dd44){const _0x3e0da3=_0x14177f,_0x962b43=_0x29035c(_0x45dd44['path'],_0x45dd44['name']);if(!this[_0x3e0da3(0x892)]['has'](_0x962b43))return;const _0x2c5475=this[_0x3e0da3(0x892)][_0x3e0da3(0x9ba)](_0x962b43);_0x2c5475[_0x3e0da3(0x37e)]=_0x912370[_0x3e0da3(0x9c5)];const _0x5ee092=_0x45dd44['answererId'];if(!_0x5ee092)throw new _0x209e12(_0x209e12[_0x3e0da3(0x805)][_0x3e0da3(0x943)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this[_0x3e0da3(0x892)][_0x3e0da3(0x131)](_0x962b43),this['pendingFilesSyncing'][_0x3e0da3(0x85c)](_0x5ee092)||this[_0x3e0da3(0x6c1)][_0x3e0da3(0x525)](_0x5ee092,new Map()),this[_0x3e0da3(0x6c1)][_0x3e0da3(0x9ba)](_0x5ee092)[_0x3e0da3(0x525)](_0x962b43,[_0x2c5475,this[_0x3e0da3(0x860)](_0x5ee092,_0x962b43)]),_0x2c5475[_0x3e0da3(0xa41)]=_0x5ee092,_0x2c5475[_0x3e0da3(0x290)]=this[_0x3e0da3(0x472)][_0x3e0da3(0x9ba)](_0x962b43)?.[_0x3e0da3(0x203)]??0x0,0x0===_0x2c5475[_0x3e0da3(0x290)])try{const [_0x1438ce,_0x363247]=await this[_0x3e0da3(0x483)](_0x45dd44[_0x3e0da3(0x1a5)],_0x45dd44['path'],_0x45dd44[_0x3e0da3(0x2dd)]);_0x1438ce&&(_0x2c5475[_0x3e0da3(0x290)]=_0x363247);}catch(_0xa1f15b){}this['send'](_0x2c5475,[_0x5ee092]);}async[_0x14177f(0x7a4)](_0x5b4aaf){const _0x2bc21d=_0x14177f,_0x28e7a4=_0x29035c(_0x5b4aaf[_0x2bc21d(0x160)],_0x5b4aaf[_0x2bc21d(0x1a5)]),_0x3f397d=await this['get'](_0x28e7a4,{'skipEncryption':_0x5b4aaf[_0x2bc21d(0x907)]}),_0x30fcc1={..._0x5b4aaf,'answererId':this[_0x2bc21d(0x845)]['getId'](),'action':_0x912370[_0x2bc21d(0x17b)],'startIndex':_0x5b4aaf[_0x2bc21d(0x290)]??0x0};await this['sendFile'](_0x3f397d,_0x30fcc1,[_0x5b4aaf[_0x2bc21d(0x54b)]]);}async[_0x14177f(0x3bb)](_0x441082,_0x258808,_0x1b0158){let _0x9e5ce,_0x2c095c;const _0x27da37=new Promise(async(_0x45765e,_0x42da79)=>{_0x9e5ce=_0x45765e,_0x2c095c=_0x42da79;});return((async()=>{const _0x312df0=a0_0x50bd,_0x4446a9=Math[_0x312df0(0x4ea)](_0x441082['size']/_0x5352a0);let _0x2c89ac=_0x258808[_0x312df0(0x290)]??0x0;const _0x3d723d=_0x29035c(_0x258808[_0x312df0(0x160)],_0x258808[_0x312df0(0x1a5)]);this[_0x312df0(0x49a)][_0x312df0(0x525)](_0x3d723d,[!0x1,_0x27da37]);for await(const _0x3a6acd of async function*(_0x1d27c9,_0x5766ed=0x0,_0x13ad68){for await(const _0x380e1b of _0xde7f7a(_0x1d27c9,_0x5766ed,_0x13ad68))yield _0x380e1b;}(_0x441082,_0x2c89ac,this['waitForArrayBufferSize'])){const [_0x2c709e]=this[_0x312df0(0x49a)][_0x312df0(0x9ba)](_0x3d723d)??[];if(_0x2c709e)return this[_0x312df0(0x49a)][_0x312df0(0x131)](_0x3d723d),void _0x2c095c(new Error(_0x312df0(0x6e4)));if(this[_0x312df0(0x815)][_0x312df0(0x85c)](_0x3d723d)){const _0x38aed5=this[_0x312df0(0x815)][_0x312df0(0x9ba)](_0x3d723d);for(const _0x38d923 of _0x38aed5)if(_0x38d923['action']===_0x912370[_0x312df0(0x1fb)]||_0x38d923[_0x312df0(0x37e)]===_0x912370['Delete'])return;}const _0x2c324b={..._0x258808,'type':_0x441082[_0x312df0(0x162)],'data':_0x3a6acd,'index':_0x2c89ac,'total':_0x4446a9};this[_0x312df0(0x19d)](_0x2c324b,_0x1b0158),_0x2c89ac++;}const _0x581cda=setInterval(async()=>{const _0x3aa07e=_0x312df0;await this[_0x3aa07e(0x953)]()>0x0||(clearInterval(_0x581cda),_0x9e5ce());});this[_0x312df0(0x49a)][_0x312df0(0x131)](_0x3d723d);})()),_0x27da37;}async[_0x14177f(0x5d7)](_0x3ede8e){const _0x2750ae=_0x14177f;try{const _0x37ba5c=_0x29035c(_0x3ede8e[_0x2750ae(0x160)],_0x3ede8e[_0x2750ae(0x1a5)]),_0x34dbdb=_0x37ba5c+_0x844134;await this[_0x2750ae(0x1f1)](_0x34dbdb);const [,_0x4a92c3]=this[_0x2750ae(0x6c1)][_0x2750ae(0x9ba)](_0x3ede8e[_0x2750ae(0xa41)])?.[_0x2750ae(0x9ba)](_0x37ba5c)??[];_0x4a92c3&&(clearTimeout(_0x4a92c3),this['pendingFilesSyncing'][_0x2750ae(0x9ba)](_0x3ede8e[_0x2750ae(0xa41)])[_0x2750ae(0x131)](_0x37ba5c));}catch(_0x100d1b){}0x0===this[_0x2750ae(0x6c1)][_0x2750ae(0x9ba)](_0x3ede8e[_0x2750ae(0xa41)])?.['size']&&this['pendingFilesSyncing'][_0x2750ae(0x131)](_0x3ede8e[_0x2750ae(0xa41)]),0x0===this[_0x2750ae(0x6c1)]['size']&&0x0===this[_0x2750ae(0x892)]['size']&&this[_0x2750ae(0x43f)]();}async[_0x14177f(0x9f5)](){const _0x164306=_0x14177f;try{const _0x299f7e=await this[_0x164306(0x894)][_0x164306(0x1b4)](this['label'],this['lastTransactionId']);for(const _0x13c05b of _0x299f7e)await this['handleTransactionPayload'](_0x13c05b,!0x0);}catch(_0x1bdb3c){if(_0x1bdb3c instanceof _0x209e12&&_0x1bdb3c[_0x164306(0x3bc)]===_0x209e12[_0x164306(0x805)][_0x164306(0x3f5)]){await this[_0x164306(0x400)][_0x164306(0x1f1)](_0x12a814),delete this[_0x164306(0x8c6)];try{const _0x514954=await this['objectStoreConnector'][_0x164306(0x820)]('/',!0x1);for(const _0xa424d1 of _0x514954)await this[_0x164306(0x400)][_0x164306(0x1f1)](_0xa424d1[_0x164306(0x1ba)]);}catch(_0x113a7f){}return await this['syncTransactions']();}throw _0x1bdb3c;}}async['syncPendingFiles'](){const _0x1fb21d=_0x14177f,_0x36d940=await this[_0x1fb21d(0x820)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x6b8bd8=async _0xbda4fe=>{const _0x276566=_0x1fb21d;for(const _0x553e6d of _0xbda4fe){if(_0x553e6d['kind']===_0x23d754[_0x276566(0x95a)][_0x276566(0x672)]){_0x553e6d[_0x276566(0x623)]&&_0x553e6d[_0x276566(0x623)]['length']>0x0&&await _0x6b8bd8(_0x553e6d[_0x276566(0x623)]);continue;}if(_0x553e6d[_0x276566(0x32b)]!==_0x23d754[_0x276566(0x1ef)][_0x276566(0x71f)])continue;const _0x4a4b03=await this[_0x276566(0x9ba)](_0x553e6d[_0x276566(0x1ba)]+_0x844134),_0x2fff79=JSON['parse'](await _0x4a4b03[_0x276566(0x795)]()),_0x2a0d88=_0x553e6d[_0x276566(0x1a5)][_0x276566(0x79d)](_0x844134,''),_0x3e0cb0={'payloadType':_0x56f23a[_0x276566(0x650)],'action':_0x912370[_0x276566(0x339)],'sourceId':this[_0x276566(0x845)][_0x276566(0x519)](),'type':'','path':_0x553e6d[_0x276566(0x160)],'name':_0x2a0d88,'checksum':_0x2fff79[_0x276566(0x2dd)],'skipEncryption':_0x2fff79[_0x276566(0x907)]},_0x308fca=_0x29035c(_0x553e6d[_0x276566(0x160)],_0x2a0d88);this['objectRequests'][_0x276566(0x525)](_0x308fca,_0x3e0cb0);}};await _0x6b8bd8(_0x36d940),0x0===this['objectRequests'][_0x1fb21d(0x11a)]&&0x0===this[_0x1fb21d(0x6c1)][_0x1fb21d(0x11a)]&&this[_0x1fb21d(0x43f)]();}async[_0x14177f(0x896)](_0x3626e4,_0xae87a8,_0x4d8020){const _0x4eb4fc=_0x14177f,_0x4e204e=new File([new Blob([JSON['stringify'](_0x4d8020)])],''+_0x3626e4+_0x844134,{'type':'text/plain'});await this[_0x4eb4fc(0x2c7)](_0x4e204e,_0xae87a8);}async['checkExistingPendingFileContent'](_0x394e12,_0x299002,_0x286a15){const _0x1761e9=_0x14177f;try{const _0x5a1cc6=_0x29035c(_0x299002,_0x394e12),_0xb973b9=_0x5a1cc6+_0x844134,_0x3d6216=await this[_0x1761e9(0x400)][_0x1761e9(0x9ba)](_0xb973b9),{checksum:_0x315f48,skipEncryption:_0x138c3d}=JSON['parse'](await _0x3d6216[_0x1761e9(0x795)]()),_0xee5c65=(await this[_0x1761e9(0x400)][_0x1761e9(0x9ba)](_0x5a1cc6,{'skipEncryption':_0x138c3d}))['size'];return _0x315f48===_0x286a15&&_0xee5c65%_0x5352a0==0x0?[!0x0,Math[_0x1761e9(0x616)](_0xee5c65/_0x5352a0)]:(await this['objectStoreConnector']['deleteObject'](_0x5a1cc6),[!0x1,0x0]);}catch(_0x1fe739){return[!0x1,0x0];}}[_0x14177f(0x860)](_0x26ea40,_0x2deb02){const _0x2c22b7=_0x14177f,[_0x48434d,_0x3aaad9]=this[_0x2c22b7(0x6c1)]['get'](_0x26ea40)?.[_0x2c22b7(0x9ba)](_0x2deb02)??[];return _0x3aaad9&&clearTimeout(_0x3aaad9),setTimeout(()=>{const _0x23177e=_0x2c22b7,[_0xf22b75,_0x36eb37]=this[_0x23177e(0x6c1)]['get'](_0x26ea40)['get'](_0x2deb02);this[_0x23177e(0x3c1)](_0xf22b75,_0x36eb37);},0x927c0);}async[_0x14177f(0x3c1)](_0x18e760,_0x45c152){const _0x53750c=_0x14177f;clearTimeout(_0x45c152),_0x18e760['action']=_0x912370['RequestFile'],this['objectRequests'][_0x53750c(0x525)](_0x29035c(_0x18e760[_0x53750c(0x160)],_0x18e760[_0x53750c(0x1a5)]),_0x18e760),this[_0x53750c(0x19d)](_0x18e760);}['setPendingFileSyncingPayload'](_0x235f02,_0x4c0447){const _0x543fa1=_0x14177f;if(!this[_0x543fa1(0x497)])return;this[_0x543fa1(0x6c1)][_0x543fa1(0x85c)](_0x235f02['answererId'])||this[_0x543fa1(0x6c1)][_0x543fa1(0x525)](_0x235f02[_0x543fa1(0xa41)],new Map());const [_0x3f4213]=this['pendingFilesSyncing'][_0x543fa1(0x9ba)](_0x235f02['answererId'])['get'](_0x4c0447)??[{'payloadType':_0x56f23a[_0x543fa1(0x650)],'action':_0x912370[_0x543fa1(0x339)],'sourceId':this[_0x543fa1(0x845)][_0x543fa1(0x519)](),'type':_0x235f02[_0x543fa1(0x162)],'name':_0x235f02[_0x543fa1(0x1a5)],'path':_0x235f02['path'],'skipEncryption':_0x235f02['skipEncryption'],'checksum':_0x235f02[_0x543fa1(0x2dd)],'answererId':_0x235f02[_0x543fa1(0xa41)]}];this['pendingFilesSyncing'][_0x543fa1(0x9ba)](_0x235f02['answererId'])[_0x543fa1(0x525)](_0x4c0447,[_0x3f4213,this[_0x543fa1(0x860)](_0x235f02[_0x543fa1(0xa41)],_0x4c0447)]);}async[_0x14177f(0x2c7)](_0x30ec68,_0x493896,_0x511694){const _0x329681=_0x14177f;this[_0x329681(0x741)]&&(this['filesSynced']+=0x1),await this[_0x329681(0x400)][_0x329681(0x2c7)](_0x30ec68,_0x493896,_0x511694);}async[_0x14177f(0x1f1)](_0x51b293){const _0x11ef40=_0x14177f;try{const _0x57a2ec=await this[_0x11ef40(0x400)][_0x11ef40(0x1f1)](_0x51b293);if(!_0x51b293[_0x11ef40(0x98c)](_0x844134))try{await this[_0x11ef40(0x400)][_0x11ef40(0x1f1)](_0x51b293+_0x844134);}catch(_0xc14fdf){}return this[_0x11ef40(0x741)]&&_0x57a2ec===_0x23d754['ObjectKind']['File']&&(this[_0x11ef40(0x5cf)]+=0x1),_0x57a2ec;}catch(_0x5f94b8){return await this['objectStoreConnector']['deleteObject'](_0x51b293+_0x844134);}}async['moveObject'](_0x211976,_0x130019){const _0x5052b1=_0x14177f;try{const _0x49b9af=await this[_0x5052b1(0x400)][_0x5052b1(0x64d)](_0x211976,_0x130019);if(!_0x211976[_0x5052b1(0x98c)](_0x844134))try{await this['objectStoreConnector'][_0x5052b1(0x64d)](_0x211976+_0x844134,_0x130019+_0x844134);}catch(_0x2e6d31){}return _0x49b9af;}catch(_0x2d34da){return await this[_0x5052b1(0x400)][_0x5052b1(0x64d)](_0x211976+_0x844134,_0x130019+_0x844134);}}[_0x14177f(0x926)](){const _0x11be0b=_0x14177f;this[_0x11be0b(0x10c)]&&clearTimeout(this['debounceStats']),this[_0x11be0b(0x10c)]=setTimeout(async()=>{const _0x554134=_0x11be0b;delete this[_0x554134(0x10c)];const _0x5d0d38=await this['objectStoreConnector'][_0x554134(0xa1f)]('/');this[_0x554134(0x60b)]?.[_0x554134(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x554134(0x4ee)],'content':{'type':_0x2c4847[_0x554134(0x6ac)],'label':this[_0x554134(0x322)],'stats':{'timestamp':Date['now'](),'storage':_0x5d0d38,'messagesSent':this[_0x554134(0x675)],'messagesReceived':this[_0x554134(0x4d4)],'bytesSent':this[_0x554134(0x489)],'bytesReceived':this[_0x554134(0x862)],'writes':this[_0x554134(0x83c)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x1734f6[_0x554134(0x62e)](_0x711184[_0x554134(0x5d1)],_0x554134(0x698)+this[_0x554134(0x463)]+'ccc'+this[_0x554134(0x322)],_0x5d0d38);},_0x1fe904);}async[_0x14177f(0x9cb)](_0x5a257f){const _0x490252=_0x14177f;try{return await this[_0x490252(0x9ba)](_0x5a257f),!0x0;}catch(_0x53a639){return!0x1;}}async[_0x14177f(0x973)](_0x140cdb){const _0x792b05=_0x14177f;if(!this[_0x792b05(0x472)]['has'](_0x140cdb))return;const _0x4c9c69=this[_0x792b05(0x472)][_0x792b05(0x9ba)](_0x140cdb);if(_0x4c9c69[_0x792b05(0x68e)])try{await _0x4c9c69['stream'][_0x792b05(0x9b6)]();}catch(_0x4634f9){console[_0x792b05(0x70e)](_0x792b05(0x118),_0x4634f9);}this['fileChunks'][_0x792b05(0x131)](_0x140cdb);}}class _0x237aa extends _0x27b15e{[_0x14177f(0x845)];[_0x14177f(0x463)];[_0x14177f(0x2b5)]=new Map();['debounceStats'];constructor(_0x374632,_0x483018,_0x5944cb){const _0x5ee576=_0x14177f;if(_0x5ee576(0x867)!=typeof _0x483018)throw new _0x3b8aa0(_0x1a76df[_0x5ee576(0x6dd)],_0x5ee576(0x788));super(_0x374632,_0x483018),this[_0x5ee576(0x845)]=_0x374632,this[_0x5ee576(0x463)]=_0x5944cb,this[_0x5ee576(0x926)]();}[_0x14177f(0x140)](){const _0x11cdb2=_0x14177f;this[_0x11cdb2(0x926)]();}[_0x14177f(0x62d)](){const _0x255745=_0x14177f;return _0x23d754[_0x255745(0x565)][_0x255745(0x8a1)];}[_0x14177f(0x95d)](_0x14df07,_0x1f065b){const _0x5bd5b0=_0x14177f;_0x1734f6[_0x5bd5b0(0x2b0)](_0x39fe10[_0x5bd5b0(0x8a1)],_0x5bd5b0(0x158),this[_0x5bd5b0(0x845)][_0x5bd5b0(0x519)](),_0x14df07,_0x1f065b),_0x1734f6[_0x5bd5b0(0x814)](_0x711184['PubSub'],{'type':_0x5bd5b0(0x95d),'label':this[_0x5bd5b0(0x322)],'nodeId':this['localNode'][_0x5bd5b0(0x519)](),'nodeType':this[_0x5bd5b0(0x845)]['type'],'clusterId':this[_0x5bd5b0(0x463)],'remoteIds':_0x1f065b??[],'contentType':_0x14df07 instanceof File?_0x23d754[_0x5bd5b0(0x565)][_0x5bd5b0(0x26a)]:_0x23d754[_0x5bd5b0(0x565)][_0x5bd5b0(0x968)],'size':_0x14df07 instanceof File?_0x14df07['size']:JSON[_0x5bd5b0(0x990)](_0x14df07)[_0x5bd5b0(0x5b7)]}),this['sendStats'](),this[_0x5bd5b0(0x19d)](_0x14df07,_0x1f065b);}[_0x14177f(0x1f2)](_0x4ab07d,_0x5d5415){const _0x13b0bc=_0x14177f;if(this[_0x13b0bc(0x2b5)][_0x13b0bc(0x85c)](_0x4ab07d))throw new _0x3b8aa0(_0x1a76df[_0x13b0bc(0x4b6)],_0x13b0bc(0x944));this['unsubscribeHandler'][_0x13b0bc(0x525)](_0x4ab07d,this[_0x13b0bc(0x16a)]((_0x4d9c98,_0x4566c6)=>{const _0x588b8a=_0x13b0bc;_0x588b8a(0x84f)===_0x4ab07d&&_0x4566c6 instanceof File||!(_0x588b8a(0x829)!==_0x4ab07d||_0x4566c6 instanceof File)||(_0x1734f6[_0x588b8a(0x2b0)](_0x39fe10[_0x588b8a(0x8a1)],_0x588b8a(0xa3e),this['localNode'][_0x588b8a(0x519)](),_0x4d9c98,_0x4566c6),_0x1734f6[_0x588b8a(0x814)](_0x711184[_0x588b8a(0x8a1)],{'type':_0x588b8a(0x1f2),'label':this[_0x588b8a(0x322)],'nodeId':this[_0x588b8a(0x845)][_0x588b8a(0x519)](),'nodeType':this[_0x588b8a(0x845)]['type'],'clusterId':this['clusterId'],'remoteId':_0x4d9c98,'contentType':_0x4ab07d,'size':_0x4566c6 instanceof File?_0x4566c6['size']:JSON[_0x588b8a(0x990)](_0x4566c6)[_0x588b8a(0x5b7)]}),this[_0x588b8a(0x926)](),_0x5d5415(_0x4d9c98,_0x4566c6));}));}[_0x14177f(0x9a3)](_0x2bcebf){const _0xf21e72=_0x14177f;this['unsubscribeHandler'][_0xf21e72(0x9ba)](_0x2bcebf)?.(),this['unsubscribeHandler'][_0xf21e72(0x131)](_0x2bcebf);}[_0x14177f(0x5a1)](){const _0x379158=_0x14177f;this[_0x379158(0x2b5)][_0x379158(0x918)](_0x4cce90=>_0x4cce90()),clearTimeout(this[_0x379158(0x10c)]),delete this[_0x379158(0x10c)],super[_0x379158(0x5a1)]();}[_0x14177f(0x9b6)](){const _0x32f676=_0x14177f;this[_0x32f676(0x60b)]?.[_0x32f676(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x32f676(0x4ee)],'content':{'type':_0x2c4847['ClosePubSubTopic'],'label':this[_0x32f676(0x322)]}});}[_0x14177f(0x926)](){const _0x30e1d2=_0x14177f;this[_0x30e1d2(0x10c)]&&clearTimeout(this[_0x30e1d2(0x10c)]),this[_0x30e1d2(0x10c)]=setTimeout(()=>{const _0x37d229=_0x30e1d2;this[_0x37d229(0x60b)]?.[_0x37d229(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x37d229(0x4ee)],'content':{'type':_0x2c4847[_0x37d229(0xa2a)],'label':this[_0x37d229(0x322)],'stats':{'timestamp':Date[_0x37d229(0x5bc)](),'storage':0x0,'messagesSent':this[_0x37d229(0x675)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x37d229(0x862)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x1fe904);}}class _0xa39a59 extends _0x458a6f{[_0x14177f(0x845)];[_0x14177f(0x40d)];['availableTrackKinds'];[_0x14177f(0x463)];[_0x14177f(0x2b5)];[_0x14177f(0x969)];[_0x14177f(0x609)];[_0x14177f(0x49b)]=new Map();['renderElement'];[_0x14177f(0x443)]=new Set();[_0x14177f(0x1de)];[_0x14177f(0x63d)]=_0x26518c();[_0x14177f(0x730)]=new Map();constructor(_0x2a9492,_0x487869,_0x5e3b5d,_0x25bd46,_0xa9aa0e,_0x2fa2db){const _0x302743=_0x14177f;super(_0x487869,_0x5e3b5d,new MediaStream()),this['localNode']=_0x2a9492,this[_0x302743(0x40d)]=_0x25bd46,this['availableTrackKinds']=_0xa9aa0e,this[_0x302743(0x463)]=_0x2fa2db,this[_0x302743(0x28f)][_0x302743(0x19a)]()[_0x302743(0x918)](_0xc172e1=>this[_0x302743(0x26f)](_0xc172e1));}[_0x14177f(0x5a1)](){const _0x1b74f7=_0x14177f;this['outgoingStreams']['size']>0x0&&(this[_0x1b74f7(0x49b)][_0x1b74f7(0x918)](_0x528855=>{const _0x49badf=_0x1b74f7;_0x528855[_0x49badf(0x7b5)](),_0x528855[_0x49badf(0x5a1)]();}),this[_0x1b74f7(0x49b)][_0x1b74f7(0x12e)]()),this['trackEndedListeners'][_0x1b74f7(0x918)](_0x4ace66=>_0x4ace66()),this[_0x1b74f7(0x28f)]['getTracks']()[_0x1b74f7(0x918)](_0x12dea9=>this[_0x1b74f7(0x28f)][_0x1b74f7(0x53d)](_0x12dea9)),this[_0x1b74f7(0x609)]&&(clearTimeout(this[_0x1b74f7(0x609)]),delete this[_0x1b74f7(0x609)]),this['resizeHandler']?.(),super[_0x1b74f7(0x5a1)]();}[_0x14177f(0x75f)](_0x5ef81a){const _0x4d21e1=_0x14177f;this[_0x4d21e1(0x2b5)]=_0x5ef81a[_0x4d21e1(0x1f2)](({content:_0x14e5fa})=>{const _0x666dcd=_0x4d21e1;switch(_0x14e5fa[_0x666dcd(0x37e)]){case _0x30df0b[_0x666dcd(0x995)]:if(_0x1734f6['log'](_0x39fe10['Subscription'],_0x666dcd(0x7d3),this[_0x666dcd(0x845)][_0x666dcd(0x519)](),this[_0x666dcd(0x1de)]),_0x14e5fa[_0x666dcd(0x68e)]['id']!==this[_0x666dcd(0x40d)]||_0x14e5fa[_0x666dcd(0x1de)]!==this[_0x666dcd(0x1de)])return;this[_0x666dcd(0x53d)](_0x14e5fa[_0x666dcd(0x850)][_0x666dcd(0xa3c)]),this[_0x666dcd(0x28f)]['addTrack'](_0x14e5fa[_0x666dcd(0x850)]);for(const [_0x62ffeb,_0x319cfc]of this['outgoingStreams']['entries']())try{_0x319cfc[_0x666dcd(0x664)](_0x14e5fa['track']);}catch(_0x1a6b74){_0x319cfc['destroy'](),this['outgoingStreams'][_0x666dcd(0x131)](_0x62ffeb);}this[_0x666dcd(0x26f)](_0x14e5fa[_0x666dcd(0x850)]),this[_0x666dcd(0x537)](),_0x666dcd(0xa15)===_0x14e5fa[_0x666dcd(0x850)][_0x666dcd(0xa3c)]&&this['renderElement']&&(this[_0x666dcd(0x28f)][_0x666dcd(0x6cc)]?setTimeout(()=>this[_0x666dcd(0x715)]?.[_0x666dcd(0x3e7)](),0x0):setTimeout(()=>this[_0x666dcd(0x715)]?.[_0x666dcd(0x246)](),0x0),this[_0x666dcd(0x45a)]());break;case _0x30df0b[_0x666dcd(0x88a)]:if(_0x14e5fa['stream']['id']!==this[_0x666dcd(0x40d)]||_0x14e5fa[_0x666dcd(0x1de)]!==this[_0x666dcd(0x1de)])return;this[_0x666dcd(0x53d)](_0x14e5fa[_0x666dcd(0x850)][_0x666dcd(0xa3c)]),this[_0x666dcd(0x715)]&&_0x666dcd(0xa15)===_0x14e5fa[_0x666dcd(0x850)][_0x666dcd(0xa3c)]&&(this[_0x666dcd(0x969)]?.(),this[_0x666dcd(0x28f)]['getTracks']()['length']>0x0?this[_0x666dcd(0x715)][_0x666dcd(0x246)]():this[_0x666dcd(0x715)][_0x666dcd(0x5a6)]=null);}});}[_0x14177f(0x771)](){const _0x4fefb5=_0x14177f;this[_0x4fefb5(0x2b5)]?.(),this[_0x4fefb5(0x730)][_0x4fefb5(0x918)](_0x4765cc=>_0x4765cc()),delete this[_0x4fefb5(0x2b5)];}[_0x14177f(0x36d)](){return this['internalId'];}[_0x14177f(0x573)](_0x35fa9e){this['internalId']=_0x35fa9e;}['getAvailableTrackKinds'](){const _0x2235f6=_0x14177f;return this[_0x2235f6(0x4a5)];}[_0x14177f(0x141)](_0x523f2b){const _0x278d81=_0x14177f;for(const _0x2e889c of _0x523f2b||this[_0x278d81(0x4a5)])if(!this['mediaStream']['getTracks']()['find'](_0x5b92ef=>_0x5b92ef[_0x278d81(0xa3c)]===_0x2e889c))return!0x1;return!0x0;}['getResolution'](){const _0x139403=_0x14177f;let _0x467eeb={'width':0x0,'height':0x0};const _0x3fc0ba=this[_0x139403(0x28f)][_0x139403(0x467)]();if(_0x3fc0ba['length']>0x0){const _0x4d04c3=_0x3fc0ba[0x0][_0x139403(0x702)]();_0x4d04c3[_0x139403(0x56c)]&&_0x4d04c3['height']&&(_0x467eeb={'width':_0x4d04c3[_0x139403(0x56c)],'height':_0x4d04c3['height']});}return _0x467eeb;}['isSubscribed'](_0x2ac1b9){const _0x1c8c5d=_0x14177f;for(const _0x9c1a4c of _0x2ac1b9)if(!this['subscribedTracks'][_0x1c8c5d(0x85c)](_0x9c1a4c))return!0x1;return!0x0;}[_0x14177f(0x59c)](_0x336695,_0xa2ce58){const _0x587fd5=_0x14177f;if(!this[_0x587fd5(0x49b)]['has'](_0x336695)){const _0x5f4b15=new _0x40c050(this[_0x587fd5(0x1c7)],this[_0x587fd5(0x322)],this[_0x587fd5(0x28f)],_0x336695,_0xa2ce58),_0x5e2314=_0x5f4b15[_0x587fd5(0xa55)](()=>{const _0x392490=_0x587fd5;_0x5e2314(),this[_0x392490(0x49b)][_0x392490(0x9ba)](_0x336695)?.['destroy'](),this[_0x392490(0x49b)][_0x392490(0x131)](_0x336695);});this[_0x587fd5(0x49b)][_0x587fd5(0x525)](_0x336695,_0x5f4b15),_0x5f4b15[_0x587fd5(0x8d0)](this[_0x587fd5(0x60b)]);}return this[_0x587fd5(0x49b)][_0x587fd5(0x9ba)](_0x336695);}[_0x14177f(0x448)](){const _0x3416cf=_0x14177f;return this[_0x3416cf(0x28f)]['id'];}[_0x14177f(0x797)](){return _0x23d754['MediaStreamPriority']['Default'];}[_0x14177f(0x804)](){const _0x127c6c=_0x14177f;return Array[_0x127c6c(0x80f)](this[_0x127c6c(0x443)]);}[_0x14177f(0x1f2)](_0x56caf7){const _0x328e5f=_0x14177f;let _0x3c3e4a=[];if(_0x56caf7){_0x328e5f(0x337)!=typeof _0x56caf7[_0x328e5f(0xa15)]||_0x56caf7[_0x328e5f(0xa15)][_0x328e5f(0x715)]instanceof HTMLVideoElement||!this[_0x328e5f(0x715)]||(_0x56caf7['video']={'renderElement':this[_0x328e5f(0x715)]});try{(0x0,_0x23d754[_0x328e5f(0x3cb)])(_0x56caf7);}catch(_0x5d9040){throw new _0x3b8aa0(_0x1a76df[_0x328e5f(0x57f)],'Invalid\x20params');}_0x56caf7[_0x328e5f(0xa15)]&&(_0x3c3e4a[_0x328e5f(0x993)](_0x328e5f(0xa15)),_0x328e5f(0x374)!=typeof _0x56caf7['video']&&_0x56caf7[_0x328e5f(0xa15)][_0x328e5f(0x715)]&&(this['renderElement']=_0x56caf7[_0x328e5f(0xa15)][_0x328e5f(0x715)],_0x56caf7[_0x328e5f(0xa15)][_0x328e5f(0x109)]||(_0x56caf7['video'][_0x328e5f(0x109)]={'width':this[_0x328e5f(0x715)][_0x328e5f(0x680)],'height':this[_0x328e5f(0x715)][_0x328e5f(0x45f)]}),delete _0x56caf7['video'][_0x328e5f(0x715)])),_0x56caf7[_0x328e5f(0x7b2)]&&_0x3c3e4a[_0x328e5f(0x993)](_0x328e5f(0x7b2));}else _0x3c3e4a=this[_0x328e5f(0x617)]();this[_0x328e5f(0x3e0)](_0x3c3e4a)||(_0x3c3e4a['forEach'](_0x51af61=>this['subscribedTracks'][_0x328e5f(0x1cd)](_0x51af61)),this[_0x328e5f(0x60b)][_0x328e5f(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb['Content'],'content':{'type':_0x2c4847[_0x328e5f(0x569)],'label':this[_0x328e5f(0x322)],'ownerId':this['owner'][_0x328e5f(0x519)](),'trackKinds':_0x3c3e4a,'params':_0x56caf7}}),_0x1734f6[_0x328e5f(0x814)](_0x711184[_0x328e5f(0x6c9)],{'type':'subscribe','label':this['label'],'nodeId':this[_0x328e5f(0x845)][_0x328e5f(0x519)](),'nodeType':this['localNode'][_0x328e5f(0x162)],'clusterId':this[_0x328e5f(0x463)],'sourceId':this[_0x328e5f(0x1c7)]['getId'](),'streamId':this[_0x328e5f(0x40d)],'trackKinds':_0x3c3e4a}));}['update'](_0x5b4e65){const _0x556bcc=_0x14177f;try{(0x0,_0x23d754[_0x556bcc(0x3cb)])(_0x5b4e65);}catch(_0x190b4e){throw new _0x3b8aa0(_0x1a76df[_0x556bcc(0x57f)],_0x556bcc(0x80e));}this[_0x556bcc(0x609)]&&clearTimeout(this[_0x556bcc(0x609)]),this['updateDebounce']=setTimeout(()=>{const _0x16d82d=_0x556bcc;delete this[_0x16d82d(0x609)],this[_0x16d82d(0x60b)][_0x16d82d(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb['Content'],'content':{'type':_0x2c4847['UpdateMediaStream'],'label':this['label'],'ownerId':this[_0x16d82d(0x1c7)]['getId'](),'params':_0x5b4e65}});},0x1f4);}[_0x14177f(0x9a3)](_0x5d945f){const _0x5258b3=_0x14177f;_0x5d945f||(_0x5d945f=this[_0x5258b3(0x617)]()),(_0x5d945f=Array[_0x5258b3(0x4a2)](_0x5d945f)?_0x5d945f:[_0x5d945f])[_0x5258b3(0x918)](_0x44e93e=>this['subscribedTracks'][_0x5258b3(0x131)](_0x44e93e)),this[_0x5258b3(0x60b)][_0x5258b3(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb['Content'],'content':{'type':_0x2c4847[_0x5258b3(0x478)],'label':this[_0x5258b3(0x322)],'ownerId':this[_0x5258b3(0x1c7)][_0x5258b3(0x519)](),'trackKinds':_0x5d945f,'remainingTracks':this[_0x5258b3(0x443)][_0x5258b3(0x11a)]}});}[_0x14177f(0x351)](_0x4fdc50){const _0x2cb5ee=_0x14177f;return this[_0x2cb5ee(0x63d)][_0x2cb5ee(0x1f2)](_0x4fdc50);}[_0x14177f(0x9be)](){const _0x4f83dc=_0x14177f;return this[_0x4f83dc(0x1de)];}[_0x14177f(0x10f)](_0x3a286f){const _0x197fd1=_0x14177f;this[_0x197fd1(0x1de)]!==_0x3a286f&&(this[_0x197fd1(0x1de)]=_0x3a286f,this['providerListener'][_0x197fd1(0x95d)](_0x3a286f));}[_0x14177f(0x598)](_0x1ced93){const _0x243481=_0x14177f;this['trackEndedListeners'][_0x243481(0x9ba)](_0x1ced93)?.(),this[_0x243481(0x730)][_0x243481(0x131)](_0x1ced93);}['removeTrack'](_0x12afbe){const _0x3422e6=_0x14177f,_0x29a875=this['mediaStream'][_0x3422e6(0x19a)]()[_0x3422e6(0x3ee)](_0x26fcba=>_0x26fcba[_0x3422e6(0xa3c)]===_0x12afbe);_0x29a875&&(this[_0x3422e6(0x28f)]['removeTrack'](_0x29a875),this[_0x3422e6(0x49b)][_0x3422e6(0x918)](_0x5e735a=>_0x5e735a[_0x3422e6(0x53d)](_0x12afbe)),this['trackEndedListeners'][_0x3422e6(0x9ba)](_0x12afbe)?.());}['setupRenderElement'](){const _0x536cdf=_0x14177f;this[_0x536cdf(0x715)]&&(this['renderElement'][_0x536cdf(0x5a6)]&&this[_0x536cdf(0x715)]['srcObject']===this[_0x536cdf(0x28f)]||(this['renderElement'][_0x536cdf(0x5a6)]=this['mediaStream']));}['setupResizeHandler'](){const _0x36acbd=_0x14177f;if(this['renderElement']&&!this[_0x36acbd(0x969)]&&'undefined'!=typeof ResizeObserver){let _0x25adec=this['renderElement'][_0x36acbd(0x680)],_0x2865fd=this['renderElement'][_0x36acbd(0x45f)];const _0xed5c00=new ResizeObserver(_0x2042bd=>{const _0x1d3df7=_0x36acbd,{width:_0x123096,height:_0x61cf1d}=_0x2042bd[0x0][_0x1d3df7(0x9e5)];_0x25adec===_0x123096&&_0x2865fd===_0x61cf1d||(_0x25adec=Math[_0x1d3df7(0x633)](_0x123096),_0x2865fd=Math['floor'](_0x61cf1d),this[_0x1d3df7(0x41f)]({'video':{'maxResolution':{'width':_0x123096,'height':_0x61cf1d}}}));});_0xed5c00[_0x36acbd(0x719)](this['renderElement']),this[_0x36acbd(0x969)]=()=>_0xed5c00[_0x36acbd(0x26d)]();}}[_0x14177f(0x7a0)](_0x45e427){const _0x4f45e8=_0x14177f,_0x22bc42=[];for(const _0x221b27 of this[_0x4f45e8(0x443)])this[_0x4f45e8(0x53d)](_0x221b27),_0x22bc42[_0x4f45e8(0x993)](_0x221b27);this[_0x4f45e8(0x1de)]&&this[_0x4f45e8(0x60b)][_0x4f45e8(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x4f45e8(0x4ee)],'content':{'type':_0x2c4847[_0x4f45e8(0x6cd)],'label':this['label'],'streamId':this['internalId'],'ownerId':this['owner'][_0x4f45e8(0x519)](),'providerId':this[_0x4f45e8(0x1de)],'trackKinds':_0x22bc42}});}[_0x14177f(0x26f)](_0x15a27f){const _0x568356=_0x14177f,_0x5af85f=()=>this[_0x568356(0x7a0)](_0x15a27f);_0x15a27f[_0x568356(0x7ff)](_0x568356(0x6b1),_0x5af85f),_0x15a27f[_0x568356(0x7ff)](_0x568356(0x55c),_0x5af85f),this[_0x568356(0x730)][_0x568356(0x525)](_0x15a27f[_0x568356(0xa3c)],()=>{const _0x91cd08=_0x568356;_0x15a27f[_0x91cd08(0x251)](_0x91cd08(0x6b1),_0x5af85f),_0x15a27f['removeEventListener'](_0x91cd08(0x55c),_0x5af85f),this[_0x91cd08(0x730)][_0x91cd08(0x131)](_0x15a27f['kind']);});}}class _0xfcc27 extends _0x27b15e{[_0x14177f(0x845)];['clusterId'];[_0x14177f(0x857)];['db'];['debounceStats'];['writes']=0x0;['reads']=0x0;[_0x14177f(0x989)]=!0x1;constructor(_0x592022,_0x4df3bb,_0x5145ca,_0xa0e70,_0x45a40d){const _0x3b16eb=_0x14177f;if('string'!=typeof _0x4df3bb)throw new _0x3b8aa0(_0x1a76df[_0x3b16eb(0x1f3)],_0x3b16eb(0x134));super(_0x592022,_0x4df3bb),this[_0x3b16eb(0x845)]=_0x592022,this[_0x3b16eb(0x463)]=_0x5145ca,this[_0x3b16eb(0x857)]=_0xa0e70;const _0x13463c=_0x3b16eb(0x698)+this[_0x3b16eb(0x857)]+'ccc'+this[_0x3b16eb(0x463)]+_0x3b16eb(0x698)+this[_0x3b16eb(0x322)];this['db']=new _0x45a40d(_0x13463c),this['sendStats']();}[_0x14177f(0x91c)](){return this['isLoaded'];}[_0x14177f(0x5cc)](_0xb5c983){this['isLoaded']=_0xb5c983;}[_0x14177f(0x5a1)](){const _0x2507bf=_0x14177f;clearTimeout(this[_0x2507bf(0x10c)]),delete this[_0x2507bf(0x10c)],super[_0x2507bf(0x5a1)]();}[_0x14177f(0x9b6)](){const _0x56cf9d=_0x14177f;this[_0x56cf9d(0x60b)][_0x56cf9d(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x56cf9d(0x4ee)],'content':{'type':_0x2c4847[_0x56cf9d(0x586)],'label':this['label']}});}[_0x14177f(0x140)](){const _0x543285=_0x14177f;this[_0x543285(0x926)]();}[_0x14177f(0x62d)](){const _0x3e90d9=_0x14177f;return _0x23d754[_0x3e90d9(0x565)]['VectorDatabase'];}[_0x14177f(0x2e6)](_0x2bf702,_0x47f695,_0x27c208,_0x395cfe){const _0x21aebd=_0x14177f,_0x3700dd=this['db']['search'](_0x2bf702,_0x47f695,_0x27c208,_0x395cfe);return this[_0x21aebd(0x8a3)]+=0x1,_0x1734f6[_0x21aebd(0x814)](_0x711184['VectorDatabase'],{'type':_0x21aebd(0x2e6),'label':this[_0x21aebd(0x322)],'nodeId':this['localNode'][_0x21aebd(0x519)](),'nodeType':this['localNode'][_0x21aebd(0x162)],'clusterId':this[_0x21aebd(0x463)],'size':0x0}),this[_0x21aebd(0x926)](),_0x3700dd;}['insert'](_0x5cdc6b,_0x399a39,_0x2e777c,_0x16f542){const _0x444487=_0x14177f;this['db'][_0x444487(0x575)](_0x5cdc6b,_0x399a39,_0x2e777c,_0x16f542),this['writes']+=0x1,_0x1734f6[_0x444487(0x814)](_0x711184['VectorDatabase'],{'type':_0x444487(0x575),'label':this[_0x444487(0x322)],'nodeId':this[_0x444487(0x845)][_0x444487(0x519)](),'nodeType':this[_0x444487(0x845)][_0x444487(0x162)],'clusterId':this[_0x444487(0x463)],'size':_0x16f542['reduce']((_0x33d80e,_0xbc82f6)=>_0x33d80e+_0xbc82f6[_0x444487(0x5b7)],0x0)}),this['sendStats']();}[_0x14177f(0x1ac)](_0x408f79){const _0x59719b=_0x14177f;this['db'][_0x59719b(0x1ac)](_0x408f79),this[_0x59719b(0x83c)]+=0x1,_0x1734f6['logServiceEvent'](_0x711184['VectorDatabase'],{'type':_0x59719b(0x1ac),'label':this[_0x59719b(0x322)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x59719b(0x845)][_0x59719b(0x162)],'clusterId':this[_0x59719b(0x463)],'size':0x0}),this[_0x59719b(0x926)]();}[_0x14177f(0x790)](_0x1b592b){const _0x1100b1=_0x14177f;this['db'][_0x1100b1(0x790)](_0x1b592b);}['loadFromDisk'](_0x53c63c){const _0xbceb70=_0x14177f;this['db'][_0xbceb70(0x3a7)](_0x53c63c);}[_0x14177f(0x926)](){const _0x3767bc=_0x14177f;this[_0x3767bc(0x10c)]&&clearTimeout(this['debounceStats']),this[_0x3767bc(0x10c)]=setTimeout(async()=>{const _0x1a6a31=_0x3767bc;delete this[_0x1a6a31(0x10c)];const _0x3e6e1f=this['db']['getBuffer']()[_0x1a6a31(0x56a)];this[_0x1a6a31(0x60b)]['publish']({'sourceId':_0x186264,'messageType':_0x1252cb[_0x1a6a31(0x4ee)],'content':{'type':_0x2c4847[_0x1a6a31(0x56e)],'label':this[_0x1a6a31(0x322)],'stats':{'timestamp':Date[_0x1a6a31(0x5bc)](),'storage':_0x3e6e1f,'messagesSent':this[_0x1a6a31(0x675)],'messagesReceived':this[_0x1a6a31(0x4d4)],'bytesSent':this[_0x1a6a31(0x489)],'bytesReceived':this[_0x1a6a31(0x862)],'writes':this[_0x1a6a31(0x83c)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x1734f6[_0x1a6a31(0x62e)](_0x711184[_0x1a6a31(0x7f8)],'ccc'+this[_0x1a6a31(0x463)]+_0x1a6a31(0x698)+this[_0x1a6a31(0x322)],_0x3e6e1f);},_0x1fe904);}}class _0x41a444{['id'];[_0x14177f(0x25b)];[_0x14177f(0x2d5)];constructor(_0xe8a6d2,_0x1544f1=new Set(),_0x37b1cb){const _0x4eab6e=_0x14177f;this['id']=_0xe8a6d2,this[_0x4eab6e(0x25b)]=_0x1544f1,this[_0x4eab6e(0x2d5)]=_0x37b1cb;}[_0x14177f(0x9b6)](){const _0x56a1d9=_0x14177f;this[_0x56a1d9(0x2d5)]=void 0x0,this[_0x56a1d9(0x25b)][_0x56a1d9(0x12e)]();}['getId'](){return this['id'];}['getRank'](){return this['rank'];}[_0x14177f(0x9c0)](){return this['remoteConnections'];}}class _0x31f5c4 extends _0x41a444{['id'];[_0x14177f(0x5f4)];['email'];[_0x14177f(0x25b)];[_0x14177f(0x2d5)];[_0x14177f(0x162)]=_0x23d754[_0x14177f(0x9f6)][_0x14177f(0x332)];constructor(_0x62b3fa,_0x571bf6,_0x4d294c,_0x559255=new Set(),_0x54c2b7){const _0x564f7c=_0x14177f;super(_0x62b3fa,_0x559255,_0x54c2b7),this['id']=_0x62b3fa,this['displayName']=_0x571bf6,this[_0x564f7c(0x7a1)]=_0x4d294c,this['remoteConnections']=_0x559255,this[_0x564f7c(0x2d5)]=_0x54c2b7;}[_0x14177f(0x9f2)](){const _0x43ac5d=_0x14177f;return this[_0x43ac5d(0x5f4)];}[_0x14177f(0x6ff)](){return this['email'];}}class _0x388e69{[_0x14177f(0x857)];['clusterId'];[_0x14177f(0x340)];constructor(_0x44e0c6,_0x5b913a){const _0x2022ef=_0x14177f;this[_0x2022ef(0x857)]=_0x44e0c6,this[_0x2022ef(0x463)]=_0x5b913a,this['clusterKey']=_0x2022ef(0x698)+this[_0x2022ef(0x857)]+_0x2022ef(0x698)+this['clusterId'];}async['writeTransaction'](_0x29e423,_0xfcf7f0){const _0x4d1111=_0x14177f,_0x44cf67=(0x0,_0x2f13db['ref'])(_0x4ce864[_0x4d1111(0x3ea)](),'clusters/'+this[_0x4d1111(0x340)]+_0x4d1111(0x9ad)+_0xfcf7f0+_0x4d1111(0x8a9)+_0x29e423['id']),_0x5e3e9a=(0x0,_0x2f13db[_0x4d1111(0x901)])(_0x44cf67);_0x5e3e9a[_0x4d1111(0x1ac)](),_0x29e423['parentId']||delete _0x29e423[_0x4d1111(0x62a)];try{await(0x0,_0x2f13db['set'])(_0x44cf67,_0x29e423);}catch(_0x53e3ac){throw await _0x5e3e9a[_0x4d1111(0x48a)](),new _0x209e12(_0x209e12['codes'][_0x4d1111(0x95c)]);}if(!0x1===(await(0x0,_0x2f13db[_0x4d1111(0x74d)])((0x0,_0x2f13db[_0x4d1111(0x1f4)])(_0x4ce864['getDatabase'](),_0x4d1111(0x1ec)+this[_0x4d1111(0x340)]+_0x4d1111(0x9ad)+_0xfcf7f0+_0x4d1111(0x4ad)),_0x40a4dc=>_0x40a4dc?_0x40a4dc===_0x29e423[_0x4d1111(0x62a)]?_0x29e423['id']:void 0x0:_0x29e423[_0x4d1111(0x62a)]?_0x29e423[_0x4d1111(0x62a)]:_0x29e423['id']))[_0x4d1111(0x21b)])throw await(0x0,_0x2f13db[_0x4d1111(0x1ac)])(_0x44cf67),await _0x5e3e9a[_0x4d1111(0x48a)](),new _0x209e12(_0x209e12['codes'][_0x4d1111(0x79c)]);await _0x5e3e9a['cancel']();}async[_0x14177f(0x1b4)](_0x3cb19a,_0x1ab652){const _0x12e21f=_0x14177f;let _0x81679a=[];const _0xb1c22c=(0x0,_0x2f13db[_0x12e21f(0x1f4)])(_0x4ce864['getDatabase'](),_0x12e21f(0x1ec)+this[_0x12e21f(0x340)]+'/objectstores/'+_0x3cb19a+'/transactions');let _0x457e2f=await(0x0,_0x2f13db[_0x12e21f(0x9ba)])((0x0,_0x2f13db[_0x12e21f(0x7ce)])(_0xb1c22c,(0x0,_0x2f13db[_0x12e21f(0x528)])(0x65),(0x0,_0x2f13db['orderByKey'])()));if(!_0x457e2f[_0x12e21f(0x433)]()){if(void 0x0!==_0x1ab652)throw new _0x209e12(_0x209e12[_0x12e21f(0x805)][_0x12e21f(0x3f5)]);return _0x81679a;}const _0x95e0c3=_0x457e2f[_0x12e21f(0x26e)]();for(;Object[_0x12e21f(0x770)](_0x457e2f['val']())[_0x12e21f(0x5b7)]>0x64;){const _0x1921be=Object[_0x12e21f(0x770)](_0x457e2f[_0x12e21f(0x26e)]()),_0x1ec75=_0x1921be[_0x1921be['length']-0x1];_0x457e2f=await(0x0,_0x2f13db[_0x12e21f(0x9ba)])((0x0,_0x2f13db['query'])(_0xb1c22c,(0x0,_0x2f13db[_0x12e21f(0x528)])(0x65),(0x0,_0x2f13db['startAt'])(_0x1ec75),(0x0,_0x2f13db[_0x12e21f(0x29a)])())),Object[_0x12e21f(0x414)](_0x95e0c3,_0x457e2f['val']());}if(_0x81679a=Object['values'](_0x95e0c3)[_0x12e21f(0x31d)](_0x1d179b=>'string'!=typeof _0x1d179b),0x0===_0x81679a[_0x12e21f(0x5b7)]&&void 0x0!==_0x1ab652)throw new _0x209e12(_0x209e12[_0x12e21f(0x805)][_0x12e21f(0x3f5)]);if(_0x81679a['length']>0x0&&void 0x0!==_0x1ab652&&!_0x81679a[_0x12e21f(0x3ee)](_0x4600df=>_0x4600df['id']===_0x1ab652))throw new _0x209e12(_0x209e12[_0x12e21f(0x805)]['ObjectStoreInvalidState']);const _0x49ef7f=[];let _0x10ad37=_0x81679a[_0x12e21f(0x3ee)](_0x5a53c0=>_0x5a53c0[_0x12e21f(0x62a)]===_0x1ab652);for(;_0x10ad37;)_0x49ef7f['push'](_0x10ad37),_0x10ad37=_0x81679a[_0x12e21f(0x3ee)](_0x32cda6=>_0x32cda6['parentId']===_0x10ad37['id']);return _0x49ef7f;}}class _0x51f952{[_0x14177f(0x9af)];[_0x14177f(0x96b)];[_0x14177f(0x183)];[_0x14177f(0x365)];[_0x14177f(0x484)]=new Map();['remoteMediaStreams']=new Map();[_0x14177f(0x662)]=new Map();[_0x14177f(0x731)]=new Map();[_0x14177f(0x9f8)]=new Map();[_0x14177f(0x7d6)]=new Map();['vectorDatabases']=new Map();['graphDatabases']=new Map();['jobDispatchers']=new Map();['jobWorkers']=new Map();[_0x14177f(0x894)];constructor(_0x2648ec,_0x5dc270,_0x2c8573,_0x3b6cdb){const _0x1eb210=_0x14177f;this[_0x1eb210(0x9af)]=_0x2648ec,this[_0x1eb210(0x96b)]=_0x5dc270,this[_0x1eb210(0x183)]=_0x2c8573,this[_0x1eb210(0x365)]=_0x3b6cdb,this['transactionService']=new _0x388e69(this['configs'][_0x1eb210(0x857)],this[_0x1eb210(0x9af)]['clusterId']);}[_0x14177f(0x9b6)](_0x122072=!0x1){const _0x4041ab=_0x14177f;this['remoteMediaStreams']['forEach']((_0x47c6da,_0x3d251d)=>{_0x47c6da['forEach']((_0x4f6a2b,_0x203c17)=>{const _0x1966cc=a0_0x50bd;this[_0x1966cc(0x723)](_0x3d251d,_0x203c17);});}),_0x122072||(_0x2974a4['clear'](),this[_0x4041ab(0x484)][_0x4041ab(0x918)]((_0xf39ad9,_0xfa5ef3)=>{this['removeLocalMediaStream'](_0xfa5ef3);}),this[_0x4041ab(0x662)][_0x4041ab(0x918)]((_0x3fb477,_0x75eebf)=>{this['removePubSubTopic'](_0x75eebf);}),this['objectStores'][_0x4041ab(0x918)]((_0x58e917,_0xda9ded)=>{this['removeObjectStore'](_0xda9ded);}),this[_0x4041ab(0x9f8)][_0x4041ab(0x918)]((_0x3adc33,_0x196919)=>{const _0xea06dc=_0x4041ab;this[_0xea06dc(0x787)](_0x196919);}),this[_0x4041ab(0x7d6)][_0x4041ab(0x918)]((_0x330c7e,_0x3ae039)=>{const _0x420702=_0x4041ab;this[_0x420702(0xa3b)](_0x3ae039);}),this[_0x4041ab(0x844)][_0x4041ab(0x918)]((_0x1ee52e,_0x44ba06)=>{const _0xd83173=_0x4041ab;this[_0xd83173(0x6b7)](_0x44ba06);}),this[_0x4041ab(0x1ae)]['forEach']((_0x47814b,_0x51e98c)=>{const _0x3a2b5d=_0x4041ab;this[_0x3a2b5d(0xa0e)](_0x51e98c);}),this[_0x4041ab(0x20f)][_0x4041ab(0x918)]((_0x5a62c3,_0x25c34d)=>{this['removeVectorDatabase'](_0x25c34d);}),this[_0x4041ab(0x847)][_0x4041ab(0x918)]((_0x20090e,_0x20e38b)=>{const _0x5b42aa=_0x4041ab;this[_0x5b42aa(0x684)](_0x20e38b);}));}[_0x14177f(0x257)](_0x58048e,_0x529e93,_0x39be5a){const _0x149055=_0x14177f;if(this['objectStores'][_0x149055(0x85c)](_0x58048e))throw new _0x3b8aa0(_0x1a76df[_0x149055(0x7f3)],_0x149055(0x647));const _0x459364=new _0x93b0ae(this[_0x149055(0x9af)]['localNode'],_0x58048e,this['configs'][_0x149055(0x463)],this[_0x149055(0x9af)]['vendorId'],this[_0x149055(0x894)],_0x529e93,()=>this[_0x149055(0x9af)][_0x149055(0x47f)][_0x149055(0x953)](),_0x39be5a);return this[_0x149055(0x731)][_0x149055(0x525)](_0x58048e,_0x459364),this['configs'][_0x149055(0x47f)][_0x149055(0x300)](_0x459364),_0x459364;}[_0x14177f(0x67f)](_0x5281ad,_0x13b0a0){const _0x26b68f=_0x14177f;if(this[_0x26b68f(0x731)][_0x26b68f(0x85c)](_0x5281ad))throw new _0x3b8aa0(_0x1a76df['ExternalStorageConnectionAlreadyExists'],_0x26b68f(0x865));const _0x589381=new _0x385216(this[_0x26b68f(0x9af)][_0x26b68f(0x845)],_0x5281ad,this[_0x26b68f(0x9af)][_0x26b68f(0x463)],this['configs'][_0x26b68f(0x857)],_0x13b0a0);return this[_0x26b68f(0x9f8)]['set'](_0x5281ad,_0x589381),this[_0x26b68f(0x9af)][_0x26b68f(0x47f)][_0x26b68f(0x300)](_0x589381),_0x589381;}async['createKeyValueDatabase'](_0x567269,_0x3d30e8,_0xf45a4){const _0x37cfc9=_0x14177f;if(this[_0x37cfc9(0x7d6)][_0x37cfc9(0x85c)](_0x567269))throw new _0x3b8aa0(_0x1a76df[_0x37cfc9(0x749)],_0x37cfc9(0x8a4));try{const _0x2df811=this['configs'][_0x37cfc9(0x47f)][_0x37cfc9(0x136)]['bind'](this[_0x37cfc9(0x9af)][_0x37cfc9(0x47f)]),_0x31f47f=new _0x3e5ffa(this[_0x37cfc9(0x9af)]['localNode'],_0x567269,this[_0x37cfc9(0x9af)][_0x37cfc9(0x463)],this[_0x37cfc9(0x9af)][_0x37cfc9(0x857)],_0x3d30e8,_0xf45a4,_0x2df811);return this['keyValueDatabases']['set'](_0x567269,_0x31f47f),this['configs'][_0x37cfc9(0x47f)]['registerSystemSource'](_0x31f47f),_0x31f47f;}catch(_0x1f2707){if(_0x1f2707 instanceof _0x3b8aa0)throw _0x1f2707;throw new _0x209e12(_0x209e12[_0x37cfc9(0x805)][_0x37cfc9(0x7f7)],{'label':_0x567269,'clusterId':this['configs'][_0x37cfc9(0x463)],'vendorId':this[_0x37cfc9(0x9af)][_0x37cfc9(0x857)]});}}async['createJobDispatcher'](_0x27f645,_0x38cad6){const _0x346b85=_0x14177f;if(this[_0x346b85(0x844)][_0x346b85(0x85c)](_0x27f645))throw new _0x3b8aa0(_0x1a76df[_0x346b85(0x18f)],_0x346b85(0x4da));try{const _0x423953=new _0x58cf15(this[_0x346b85(0x9af)]['localNode'],_0x27f645,_0x38cad6);return this[_0x346b85(0x844)][_0x346b85(0x525)](_0x27f645,_0x423953),this['configs'][_0x346b85(0x47f)][_0x346b85(0x300)](_0x423953),_0x423953;}catch(_0x1e4f5a){if(_0x1e4f5a instanceof _0x3b8aa0)throw _0x1e4f5a;throw new _0x209e12(_0x209e12[_0x346b85(0x805)][_0x346b85(0x55a)],{'label':_0x27f645,'clusterId':this['configs'][_0x346b85(0x463)],'vendorId':this['configs'][_0x346b85(0x857)]});}}async['createGenerativeAIContext'](_0x2c54ea,_0x318667){const _0x21f360=_0x14177f;if(this[_0x21f360(0x844)][_0x21f360(0x85c)](_0x2c54ea))throw new _0x3b8aa0(_0x1a76df[_0x21f360(0x776)],'AI\x20Service\x20already\x20exists');if(this[_0x21f360(0x1ae)]['has'](_0x2c54ea))throw new _0x3b8aa0(_0x1a76df[_0x21f360(0x9cf)],_0x21f360(0x767));try{const _0x344523=new _0x338c0d(this[_0x21f360(0x9af)][_0x21f360(0x845)],_0x2c54ea,this[_0x21f360(0x9af)]['vendorId'],_0x318667);return this[_0x21f360(0x844)]['set'](_0x2c54ea,_0x344523),this[_0x21f360(0x9af)][_0x21f360(0x47f)][_0x21f360(0x300)](_0x344523),_0x344523;}catch(_0x4e8ec8){if(_0x4e8ec8 instanceof _0x3b8aa0)throw _0x4e8ec8;throw new _0x209e12(_0x209e12[_0x21f360(0x805)][_0x21f360(0x821)],{'label':_0x2c54ea,'clusterId':this[_0x21f360(0x9af)][_0x21f360(0x463)],'vendorId':this[_0x21f360(0x9af)][_0x21f360(0x857)]});}}async[_0x14177f(0xa49)](_0x5774f9,_0xe86dc9,_0x1174f3,_0x182d5b,_0x1d598e,_0x296e5f,_0x563fc6,_0x1d9fc0){const _0x13d8eb=_0x14177f;if(this[_0x13d8eb(0x1ae)]['has'](_0x5774f9))throw new _0x3b8aa0(_0x1a76df['GenerativeAIWorkerAlreadyExists'],_0x13d8eb(0x4bc));if(this[_0x13d8eb(0x844)]['has'](_0x5774f9))throw new _0x3b8aa0(_0x1a76df[_0x13d8eb(0x9cf)],_0x13d8eb(0x767));try{const _0x2eba29=new _0x386f28(this['configs'][_0x13d8eb(0x845)],_0x5774f9,this[_0x13d8eb(0x9af)][_0x13d8eb(0x857)],_0xe86dc9,this,_0x1174f3,_0x182d5b,_0x1d598e,this['searchApiKey'],this[_0x13d8eb(0x365)],_0x296e5f,_0x563fc6,_0x1d9fc0);return this[_0x13d8eb(0x1ae)]['set'](_0x5774f9,_0x2eba29),this[_0x13d8eb(0x9af)][_0x13d8eb(0x47f)][_0x13d8eb(0x300)](_0x2eba29),_0x2eba29;}catch(_0x42e4be){if(_0x42e4be instanceof _0x3b8aa0)throw _0x42e4be;throw new _0x209e12(_0x209e12['codes']['GenerativeAIWorkerCreationFailed'],{'label':_0x5774f9,'clusterId':this[_0x13d8eb(0x9af)][_0x13d8eb(0x463)],'vendorId':this[_0x13d8eb(0x9af)][_0x13d8eb(0x857)]});}}[_0x14177f(0x2cd)](_0x4651ea,_0x1674f8){const _0x9e2741=_0x14177f;if(this[_0x9e2741(0x847)][_0x9e2741(0x85c)](_0x4651ea))throw new _0x3b8aa0(_0x1a76df['GraphDatabaseAlreadyExists'],_0x9e2741(0x8a4));try{const _0x199659=new _0x15b0fc(this['configs'][_0x9e2741(0x845)],_0x4651ea,this[_0x9e2741(0x9af)][_0x9e2741(0x463)],this['configs'][_0x9e2741(0x857)],_0x1674f8);return this[_0x9e2741(0x847)]['set'](_0x4651ea,_0x199659),this['configs'][_0x9e2741(0x47f)]['registerSystemSource'](_0x199659),_0x199659;}catch(_0x1c6656){if(_0x1c6656 instanceof _0x3b8aa0)throw _0x1c6656;throw new _0x209e12(_0x209e12[_0x9e2741(0x805)][_0x9e2741(0x97d)],{'label':_0x4651ea,'clusterId':this[_0x9e2741(0x9af)][_0x9e2741(0x463)],'vendorId':this[_0x9e2741(0x9af)][_0x9e2741(0x857)]});}}[_0x14177f(0x360)](_0x46750e,_0x4c60c8){const _0x3873ed=_0x14177f;if(this[_0x3873ed(0x484)][_0x3873ed(0x85c)](_0x46750e))throw new _0x3b8aa0(_0x1a76df[_0x3873ed(0x87f)],_0x3873ed(0x4c7));if(!this['options'][_0x3873ed(0x65d)])throw new _0x3b8aa0(_0x1a76df[_0x3873ed(0x4c3)],_0x3873ed(0x677));const _0x511a5e=new _0x47221d(this[_0x3873ed(0x9af)]['localNode'],_0x46750e,_0x4c60c8,this[_0x3873ed(0x96b)][_0x3873ed(0x755)],this['options'][_0x3873ed(0x65d)],this['configs'][_0x3873ed(0x463)]);return this['localMediaStreams'][_0x3873ed(0x525)](_0x46750e,_0x511a5e),this['configs']['mediator'][_0x3873ed(0x300)](_0x511a5e),_0x511a5e[_0x3873ed(0x95d)](),_0x511a5e;}[_0x14177f(0x87e)](_0x484e11,_0x3107e6){const _0x20c238=_0x14177f;if(this['localMediaStreams']['has'](_0x484e11))throw new _0x3b8aa0(_0x1a76df[_0x20c238(0x87f)],_0x20c238(0x90f));const _0x2c3f23=new _0x4dbb2f(this[_0x20c238(0x9af)][_0x20c238(0x845)],_0x484e11,_0x3107e6,this[_0x20c238(0x9af)][_0x20c238(0x463)]);return this['localMediaStreams'][_0x20c238(0x525)](_0x484e11,_0x2c3f23),this[_0x20c238(0x9af)][_0x20c238(0x47f)][_0x20c238(0x300)](_0x2c3f23),_0x2c3f23[_0x20c238(0x95d)](),_0x2c3f23;}['createPubSubTopic'](_0x20fa88){const _0x140a50=_0x14177f;if(this[_0x140a50(0x662)][_0x140a50(0x85c)](_0x20fa88))throw new _0x3b8aa0(_0x1a76df['PubSubTopicAlreadyExists'],_0x140a50(0x5c5));const _0x2f13b5=new _0x237aa(this[_0x140a50(0x9af)][_0x140a50(0x845)],_0x20fa88,this['configs']['clusterId']);return this['pubSubTopics'][_0x140a50(0x525)](_0x20fa88,_0x2f13b5),this[_0x140a50(0x9af)]['mediator'][_0x140a50(0x300)](_0x2f13b5),_0x2f13b5;}[_0x14177f(0x75b)](_0x291760,_0x306651,_0x27ec19,_0x523e02){const _0x5f086e=_0x14177f;this[_0x5f086e(0x6fe)]['has'](_0x291760)||this[_0x5f086e(0x6fe)][_0x5f086e(0x525)](_0x291760,new Map());const _0x42b654=this['remoteMediaStreams'][_0x5f086e(0x9ba)](_0x291760);if(_0x42b654[_0x5f086e(0x85c)](_0x306651))throw new _0x3b8aa0(_0x1a76df[_0x5f086e(0x22f)],'Remote\x20MediaStream\x20already\x20exists');const _0x4aa2a5=new _0x31f5c4(_0x291760,'',''),_0x327ef7=new _0xa39a59(this['configs'][_0x5f086e(0x845)],_0x4aa2a5,_0x306651,_0x27ec19,_0x523e02,this['configs'][_0x5f086e(0x463)]);return _0x42b654['set'](_0x306651,_0x327ef7),this['configs'][_0x5f086e(0x47f)][_0x5f086e(0x300)](_0x327ef7),_0x327ef7;}[_0x14177f(0x1ce)](_0x195d71,_0x294c27){const _0x23f09d=_0x14177f;if(this[_0x23f09d(0x20f)][_0x23f09d(0x85c)](_0x195d71))throw new _0x3b8aa0(_0x1a76df[_0x23f09d(0x7f6)],_0x23f09d(0x8a4));try{const _0x5c0bca=new _0xfcc27(this[_0x23f09d(0x9af)][_0x23f09d(0x845)],_0x195d71,this['configs'][_0x23f09d(0x463)],this[_0x23f09d(0x9af)][_0x23f09d(0x857)],_0x294c27);return this[_0x23f09d(0x20f)][_0x23f09d(0x525)](_0x195d71,_0x5c0bca),this[_0x23f09d(0x9af)][_0x23f09d(0x47f)]['registerSystemSource'](_0x5c0bca),_0x5c0bca;}catch(_0x8dae80){if(_0x8dae80 instanceof _0x3b8aa0)throw _0x8dae80;throw new _0x209e12(_0x209e12[_0x23f09d(0x805)][_0x23f09d(0x9e3)],{'label':_0x195d71,'clusterId':this[_0x23f09d(0x9af)]['clusterId'],'vendorId':this[_0x23f09d(0x9af)][_0x23f09d(0x857)]});}}[_0x14177f(0x5ee)](_0x22750c){const _0x398be4=_0x14177f,_0x2faf06=Array['from'](this['objectStores']['values']());return _0x22750c?_0x2faf06[_0x398be4(0x31d)](_0x22750c):_0x2faf06;}[_0x14177f(0x3b1)](_0x1ab624){const _0x419422=_0x14177f,_0x446566=Array['from'](this[_0x419422(0x9f8)][_0x419422(0x774)]());return _0x1ab624?_0x446566['filter'](_0x1ab624):_0x446566;}[_0x14177f(0x570)](_0x1edac1){const _0x3ce10e=_0x14177f,_0x40addf=Array[_0x3ce10e(0x80f)](this[_0x3ce10e(0x7d6)][_0x3ce10e(0x774)]());return _0x1edac1?_0x40addf[_0x3ce10e(0x31d)](_0x1edac1):_0x40addf;}[_0x14177f(0x47b)](_0x5ebca2){const _0x53d510=_0x14177f,_0x240ba9=Array[_0x53d510(0x80f)](this['jobDispatchers']['values']());return _0x5ebca2?_0x240ba9[_0x53d510(0x31d)](_0x5ebca2):_0x240ba9;}[_0x14177f(0x769)](_0x5b9927){const _0x2faa3e=_0x14177f,_0x39f321=Array['from'](this[_0x2faa3e(0x1ae)]['values']());return _0x5b9927?_0x39f321[_0x2faa3e(0x31d)](_0x5b9927):_0x39f321;}[_0x14177f(0x9eb)](_0xbdc9de){const _0xeb1953=_0x14177f,_0x1d40d4=Array[_0xeb1953(0x80f)](this[_0xeb1953(0x844)][_0xeb1953(0x774)]())[_0xeb1953(0x31d)](_0x47cf34=>_0x47cf34 instanceof _0x338c0d);return _0xbdc9de?_0x1d40d4[_0xeb1953(0x31d)](_0xbdc9de):_0x1d40d4;}[_0x14177f(0x699)](_0x4c6bee){const _0x709a41=_0x14177f,_0x39cc77=Array['from'](this['jobWorkers'][_0x709a41(0x774)]())['filter'](_0x341c19=>_0x341c19 instanceof _0x386f28);return _0x4c6bee?_0x39cc77['filter'](_0x4c6bee):_0x39cc77;}[_0x14177f(0x6b8)](_0x18c1fc){const _0x5afc20=_0x14177f,_0x5890c8=Array[_0x5afc20(0x80f)](this[_0x5afc20(0x847)][_0x5afc20(0x774)]());return _0x18c1fc?_0x5890c8[_0x5afc20(0x31d)](_0x18c1fc):_0x5890c8;}[_0x14177f(0x76c)](_0x24e08c){const _0x352d9f=_0x14177f,_0x3a697c=Array[_0x352d9f(0x80f)](this[_0x352d9f(0x484)][_0x352d9f(0x774)]());return _0x24e08c?_0x3a697c[_0x352d9f(0x31d)](_0x24e08c):_0x3a697c;}[_0x14177f(0x54f)](_0x672fd3){const _0x5c6c5c=_0x14177f,_0x409a66=Array['from'](this[_0x5c6c5c(0x662)]['values']());return _0x672fd3?_0x409a66[_0x5c6c5c(0x31d)](_0x672fd3):_0x409a66;}[_0x14177f(0x3c6)](_0x32a3c2){const _0x497858=_0x14177f,_0xe228b6=Array[_0x497858(0x80f)](this[_0x497858(0x6fe)][_0x497858(0x774)]())[_0x497858(0x50f)]((_0xb23c37,_0x1f68c6)=>[..._0xb23c37,...Array['from'](_0x1f68c6[_0x497858(0x774)]())],[]);return _0x32a3c2?_0xe228b6[_0x497858(0x31d)](_0x32a3c2):_0xe228b6;}[_0x14177f(0x19b)](_0x29d6b5){const _0x112489=_0x14177f,_0x276931=Array[_0x112489(0x80f)](this[_0x112489(0x20f)][_0x112489(0x774)]());return _0x29d6b5?_0x276931['filter'](_0x29d6b5):_0x276931;}[_0x14177f(0x5a2)](_0x2683c7){const _0x1922b9=_0x14177f,_0x198981=this[_0x1922b9(0x731)][_0x1922b9(0x9ba)](_0x2683c7);if(!_0x198981)throw new _0x3b8aa0(_0x1a76df[_0x1922b9(0x355)],_0x1922b9(0x8fe));return _0x198981;}[_0x14177f(0x2c8)](_0x3e1d7f){const _0x286c9e=_0x14177f,_0x1f18a5=_0x3e1d7f[_0x286c9e(0x31f)]('-'),_0x351f6d=this[_0x286c9e(0x9f8)]['get'](_0x1f18a5[0x1]);if(!_0x351f6d)throw new _0x3b8aa0(_0x1a76df[_0x286c9e(0x63e)],_0x286c9e(0x552));return _0x351f6d;}[_0x14177f(0x649)](_0x42cc30){const _0x2781c5=_0x14177f,_0x2b230a=this[_0x2781c5(0x847)][_0x2781c5(0x9ba)](_0x42cc30);if(!_0x2b230a)throw new _0x3b8aa0(_0x1a76df[_0x2781c5(0x880)],_0x2781c5(0x899));return _0x2b230a;}[_0x14177f(0x851)](_0x391c0e){const _0x55df81=_0x14177f,_0x1f74b5=this[_0x55df81(0x7d6)]['get'](_0x391c0e);if(!_0x1f74b5)throw new _0x3b8aa0(_0x1a76df[_0x55df81(0x3d8)],_0x55df81(0x7aa));return _0x1f74b5;}[_0x14177f(0x507)](_0x14864f){const _0x3a7f71=_0x14177f,_0x51ad93=this[_0x3a7f71(0x662)][_0x3a7f71(0x9ba)](_0x14864f);if(!_0x51ad93)throw new _0x3b8aa0(_0x1a76df[_0x3a7f71(0x152)],'PubSubTopic\x20not\x20found');return _0x51ad93;}[_0x14177f(0x38e)](_0x214986){const _0x206fbc=_0x14177f,_0x1c98a3=this[_0x206fbc(0x20f)][_0x206fbc(0x9ba)](_0x214986);if(!_0x1c98a3)throw new _0x3b8aa0(_0x1a76df['VectorDatabaseDoesNotExist'],'VectorDatabase\x20not\x20found');return _0x1c98a3;}[_0x14177f(0x8eb)](_0x3804fb){const _0xc00c6b=_0x14177f;switch(_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x162)]){case _0x2c4847['PublishMediaStream']:this['handlePublishMediaStream'](_0x3804fb[_0xc00c6b(0x4cc)]);break;case _0x2c4847[_0xc00c6b(0x6fa)]:this[_0xc00c6b(0x216)](_0x3804fb[_0xc00c6b(0x4cc)]);break;case _0x2c4847[_0xc00c6b(0x1cf)]:this[_0xc00c6b(0x6b7)](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)]);break;case _0x2c4847['CloseJobWorker']:this['removeJobWorker'](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)]);break;case _0x2c4847['CloseMediaStream']:this[_0xc00c6b(0x8d8)](_0x3804fb['content'][_0xc00c6b(0x322)]);break;case _0x2c4847[_0xc00c6b(0x84c)]:this['removePubSubTopic'](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)]);break;case _0x2c4847['CloseObjectStoreBucket']:this[_0xc00c6b(0x309)](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)]);break;case _0x2c4847[_0xc00c6b(0x43b)]:this[_0xc00c6b(0x787)](_0x3804fb['content'][_0xc00c6b(0x322)]);break;case _0x2c4847[_0xc00c6b(0x3f2)]:this[_0xc00c6b(0xa3b)](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)]);break;case _0x2c4847[_0xc00c6b(0x586)]:this[_0xc00c6b(0x178)](_0x3804fb[_0xc00c6b(0x4cc)]['label']);break;case _0x2c4847[_0xc00c6b(0xa29)]:this[_0xc00c6b(0x684)](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)]);break;case _0x2c4847[_0xc00c6b(0x478)]:this[_0xc00c6b(0x681)](_0x3804fb[_0xc00c6b(0x4cc)]);break;case _0x2c4847['KeyValueDatabaseSyncRequired']:this[_0xc00c6b(0x7d6)][_0xc00c6b(0x9ba)](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)])?.[_0xc00c6b(0x341)](_0x3804fb['sourceId'],_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0xa3f)]);break;case _0x2c4847[_0xc00c6b(0x1db)]:this[_0xc00c6b(0x7d6)]['get'](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)])?.[_0xc00c6b(0xa4d)](_0x3804fb['sourceId'],_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0xa3f)]);break;case _0x2c4847[_0xc00c6b(0x241)]:this[_0xc00c6b(0x7d6)]['get'](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)])?.[_0xc00c6b(0x431)](_0x3804fb[_0xc00c6b(0x54b)],_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x538)]);break;case _0x2c4847[_0xc00c6b(0x135)]:this[_0xc00c6b(0x7d6)][_0xc00c6b(0x9ba)](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)])?.[_0xc00c6b(0x6bb)](_0x3804fb[_0xc00c6b(0x54b)],_0x3804fb[_0xc00c6b(0x4cc)]['peakHeights']);break;case _0x2c4847[_0xc00c6b(0x602)]:this[_0xc00c6b(0x7d6)][_0xc00c6b(0x9ba)](_0x3804fb['content'][_0xc00c6b(0x322)])?.[_0xc00c6b(0x420)](_0x3804fb[_0xc00c6b(0x54b)],_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x2d3)]);break;case _0x2c4847['KeyValueDatabaseSendTransactions']:this[_0xc00c6b(0x7d6)][_0xc00c6b(0x9ba)](_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)])?.[_0xc00c6b(0x18e)](_0x3804fb[_0xc00c6b(0x54b)],_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x6cb)]);break;case _0x2c4847[_0xc00c6b(0x29f)]:this[_0xc00c6b(0x9af)][_0xc00c6b(0x47f)]['notifyCluster'](_0xc00c6b(0x9b5),{'label':_0x3804fb[_0xc00c6b(0x4cc)][_0xc00c6b(0x322)],'trackKinds':_0x3804fb['content'][_0xc00c6b(0x274)]});}}[_0x14177f(0x1aa)]({content:_0x3fa130}){const _0x12b232=_0x14177f;switch(_0x3fa130[_0x12b232(0x162)]){case _0x52a3af[_0x12b232(0x838)]:this[_0x12b232(0x82d)](_0x3fa130),this[_0x12b232(0x563)](_0x3fa130);break;case _0x52a3af[_0x12b232(0x86f)]:this[_0x12b232(0x105)](_0x3fa130),this[_0x12b232(0x2a6)](_0x3fa130);}}[_0x14177f(0x9a2)](_0x575590){const _0x1ce5a4=_0x14177f;switch(_0x575590[_0x1ce5a4(0x4cc)]['type']){case _0x3d0691[_0x1ce5a4(0x569)]:this[_0x1ce5a4(0x80d)](_0x575590[_0x1ce5a4(0x54b)],_0x575590['content']);break;case _0x3d0691[_0x1ce5a4(0x8d4)]:this['handleUpdateMediaStream'](_0x575590['sourceId'],_0x575590['content']);break;case _0x3d0691[_0x1ce5a4(0x478)]:this['handleUnsubscribeMediaStream'](_0x575590['sourceId'],_0x575590[_0x1ce5a4(0x4cc)]);}}[_0x14177f(0x681)](_0x298195){const _0x2693f6=_0x14177f;if(0x0===_0x298195[_0x2693f6(0x4ce)])this[_0x2693f6(0x6fe)][_0x2693f6(0x9ba)](_0x298195[_0x2693f6(0x55e)])?.[_0x2693f6(0x9ba)](_0x298195['label'])?.[_0x2693f6(0x5a1)]();else{const _0x32ece8=this[_0x2693f6(0x6fe)][_0x2693f6(0x9ba)](_0x298195[_0x2693f6(0x55e)])?.[_0x2693f6(0x9ba)](_0x298195[_0x2693f6(0x322)]);if(!_0x32ece8)return;_0x298195[_0x2693f6(0x274)][_0x2693f6(0x918)](_0x4f5c61=>_0x32ece8['unsubscribeTrackEndedListener'](_0x4f5c61));}}[_0x14177f(0x197)](_0x4dd1ef){const _0xbb6890=_0x14177f,{label:_0xa33b37,ownerId:_0x16b4b2,stream:{streamId:_0x4ef4f7,availableTrackKinds:_0x93be54}}=_0x4dd1ef;if(this[_0xbb6890(0x6fe)][_0xbb6890(0x9ba)](_0x16b4b2)?.[_0xbb6890(0x85c)](_0xa33b37))return void _0x1734f6['log'](_0x39fe10['Content'],_0xbb6890(0x90f),_0x4ef4f7);const _0x34e4c3=this[_0xbb6890(0x75b)](_0x16b4b2,_0xa33b37,_0x4ef4f7,_0x93be54);this[_0xbb6890(0x9af)][_0xbb6890(0x47f)][_0xbb6890(0xa37)](_0xbb6890(0x11c),{'ownerId':_0x16b4b2,'stream':_0x34e4c3});}[_0x14177f(0x216)]({ownerId:_0xfb9c56,label:_0x3371b9}){const _0xecf845=_0x14177f;this[_0xecf845(0x723)](_0xfb9c56,_0x3371b9),this[_0xecf845(0x9af)]['mediator']['notifyCluster'](_0xecf845(0x636),{'ownerId':_0xfb9c56,'label':_0x3371b9});}[_0x14177f(0x80d)](_0x82f906,_0x18d87d){const _0x3ebcb9=_0x14177f,{ownerId:_0x38a004,label:_0x5158e1}=_0x18d87d;let _0x3feb91;_0x3feb91=_0x38a004!==this[_0x3ebcb9(0x9af)][_0x3ebcb9(0x845)][_0x3ebcb9(0x519)]()?this['remoteMediaStreams'][_0x3ebcb9(0x9ba)](_0x38a004)[_0x3ebcb9(0x9ba)](_0x5158e1):this[_0x3ebcb9(0x484)][_0x3ebcb9(0x9ba)](_0x5158e1),_0x3feb91[_0x3ebcb9(0x59c)](_0x82f906,_0x18d87d[_0x3ebcb9(0x6a1)])[_0x3ebcb9(0x1f2)](_0x18d87d,_0x3feb91[_0x3ebcb9(0x797)]());}['handleUpdateMediaStream'](_0x483c06,_0x5a5e8d){const _0x5de3f8=_0x14177f,{ownerId:_0x5499cf,label:_0x53ebcf}=_0x5a5e8d;let _0x4d4339;_0x4d4339=_0x5499cf!==this['configs'][_0x5de3f8(0x845)][_0x5de3f8(0x519)]()?this['remoteMediaStreams'][_0x5de3f8(0x9ba)](_0x5499cf)[_0x5de3f8(0x9ba)](_0x53ebcf):this['localMediaStreams'][_0x5de3f8(0x9ba)](_0x53ebcf),_0x4d4339['getShareableStream'](_0x483c06,_0x5a5e8d[_0x5de3f8(0x6a1)])['update'](_0x5a5e8d);}[_0x14177f(0x6b6)](_0x530350,_0x594f61){const _0x17ae8e=_0x14177f,{ownerId:_0x1444e5,label:_0x49f5b2}=_0x594f61;let _0x38bc18;_0x38bc18=_0x1444e5!==this[_0x17ae8e(0x9af)]['localNode'][_0x17ae8e(0x519)]()?this[_0x17ae8e(0x6fe)][_0x17ae8e(0x9ba)](_0x1444e5)[_0x17ae8e(0x9ba)](_0x49f5b2):this['localMediaStreams'][_0x17ae8e(0x9ba)](_0x49f5b2),_0x38bc18[_0x17ae8e(0x59c)](_0x530350)[_0x17ae8e(0x9a3)](_0x594f61);}[_0x14177f(0x82d)]({id:_0x5e7081}){const _0x176817=_0x14177f;this[_0x176817(0x76c)]()['forEach'](_0x3cac39=>{_0x3cac39['publish'](_0x5e7081);});}[_0x14177f(0x105)]({id:_0x1763a1}){const _0x1efa16=_0x14177f;this[_0x1efa16(0x3c6)](_0x1e66dd=>_0x1e66dd[_0x1efa16(0x48b)]()===_0x1763a1)['forEach'](_0x4962f8=>{const _0x141ea0=_0x1efa16;this['removeRemoteMediaStream'](_0x4962f8[_0x141ea0(0x48b)](),_0x4962f8[_0x141ea0(0x3bf)]());});}[_0x14177f(0x563)]({id:_0xdc3bd7}){const _0x1b9328=_0x14177f;this[_0x1b9328(0x731)][_0x1b9328(0x918)](_0x32ab04=>_0x32ab04[_0x1b9328(0x4e8)](_0xdc3bd7));}[_0x14177f(0x2a6)]({id:_0x557272}){const _0x4a1ff8=_0x14177f;this[_0x4a1ff8(0x731)]['forEach'](_0x139fee=>_0x139fee['handleNodeLeave'](_0x557272));}[_0x14177f(0x6b7)](_0xb244b8){const _0x5ecaf5=_0x14177f;if(!this[_0x5ecaf5(0x844)][_0x5ecaf5(0x85c)](_0xb244b8))throw new _0x3b8aa0(_0x1a76df['JobDispatcherDoesNotExist'],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x2432af=this[_0x5ecaf5(0x844)][_0x5ecaf5(0x9ba)](_0xb244b8);this[_0x5ecaf5(0x844)][_0x5ecaf5(0x131)](_0xb244b8),_0x2432af['destroy'](),this['configs'][_0x5ecaf5(0x47f)][_0x5ecaf5(0x88b)](_0x2432af);}[_0x14177f(0xa0e)](_0x944794){const _0x6cda48=_0x14177f;if(!this['jobWorkers'][_0x6cda48(0x85c)](_0x944794))throw new _0x3b8aa0(_0x1a76df[_0x6cda48(0x9ce)],'Job\x20Worker\x20does\x20not\x20exist');const _0x5301e0=this[_0x6cda48(0x1ae)][_0x6cda48(0x9ba)](_0x944794);this['jobWorkers'][_0x6cda48(0x131)](_0x944794),_0x5301e0[_0x6cda48(0x5a1)](),this[_0x6cda48(0x9af)][_0x6cda48(0x47f)][_0x6cda48(0x88b)](_0x5301e0);}[_0x14177f(0x309)](_0x1e945d){const _0x42d329=_0x14177f;if(!this[_0x42d329(0x731)][_0x42d329(0x85c)](_0x1e945d))throw new _0x3b8aa0(_0x1a76df['ObjectStoreDoesNotExist'],_0x42d329(0x3fe));const _0x930962=this['objectStores']['get'](_0x1e945d);this['objectStores'][_0x42d329(0x131)](_0x1e945d),_0x930962['destroy'](),this[_0x42d329(0x9af)][_0x42d329(0x47f)]['unregisterSystemSource'](_0x930962);}[_0x14177f(0x787)](_0x23aa20){const _0x5af5bf=_0x14177f;if(!this[_0x5af5bf(0x9f8)]['has'](_0x23aa20))throw new _0x3b8aa0(_0x1a76df['ExternalStorageConnectionDoesNotExist'],_0x5af5bf(0x884));const _0x3a1545=this[_0x5af5bf(0x9f8)]['get'](_0x23aa20);this[_0x5af5bf(0x9f8)][_0x5af5bf(0x131)](_0x23aa20),_0x3a1545['destroy'](),this[_0x5af5bf(0x9af)][_0x5af5bf(0x47f)][_0x5af5bf(0x88b)](_0x3a1545);}[_0x14177f(0x8dc)](_0x463156){const _0x1c78ed=_0x14177f;if(!this[_0x1c78ed(0x662)][_0x1c78ed(0x85c)](_0x463156))throw new _0x3b8aa0(_0x1a76df[_0x1c78ed(0x152)],_0x1c78ed(0x3fe));const _0x40a385=this[_0x1c78ed(0x662)]['get'](_0x463156);this['pubSubTopics'][_0x1c78ed(0x131)](_0x463156),_0x40a385[_0x1c78ed(0x5a1)](),this[_0x1c78ed(0x9af)]['mediator'][_0x1c78ed(0x88b)](_0x40a385);}[_0x14177f(0xa3b)](_0x1e8d38){const _0x32121b=_0x14177f;if(!this[_0x32121b(0x7d6)]['has'](_0x1e8d38))throw new _0x3b8aa0(_0x1a76df[_0x32121b(0x3d8)],_0x32121b(0x66e));const _0x261a0c=this[_0x32121b(0x7d6)][_0x32121b(0x9ba)](_0x1e8d38);this[_0x32121b(0x7d6)][_0x32121b(0x131)](_0x1e8d38),_0x261a0c['destroy'](),this[_0x32121b(0x9af)][_0x32121b(0x47f)]['unregisterSystemSource'](_0x261a0c);}['removeVectorDatabase'](_0x4793d0){const _0x229d1d=_0x14177f;if(!this[_0x229d1d(0x20f)][_0x229d1d(0x85c)](_0x4793d0))throw new _0x3b8aa0(_0x1a76df['VectorDatabaseDoesNotExist'],_0x229d1d(0x66e));const _0x28644d=this[_0x229d1d(0x20f)][_0x229d1d(0x9ba)](_0x4793d0);this[_0x229d1d(0x20f)][_0x229d1d(0x131)](_0x4793d0),_0x28644d[_0x229d1d(0x5a1)](),this['configs'][_0x229d1d(0x47f)]['unregisterSystemSource'](_0x28644d);}['removeGraphDatabase'](_0x483f62){const _0x18251a=_0x14177f;if(!this['graphDatabases'][_0x18251a(0x85c)](_0x483f62))throw new _0x3b8aa0(_0x1a76df['GraphDatabaseDoesNotExist'],_0x18251a(0x66e));const _0x13502d=this['graphDatabases'][_0x18251a(0x9ba)](_0x483f62);this[_0x18251a(0x847)][_0x18251a(0x131)](_0x483f62),_0x13502d[_0x18251a(0x5a1)](),this[_0x18251a(0x9af)]['mediator'][_0x18251a(0x88b)](_0x13502d);}[_0x14177f(0x8d8)](_0x12aacb){const _0x587c7f=_0x14177f;if(!this[_0x587c7f(0x484)]['has'](_0x12aacb))throw new _0x209e12(_0x209e12[_0x587c7f(0x805)][_0x587c7f(0x122)],{'label':_0x12aacb,'localId':this[_0x587c7f(0x9af)]['localNode']['getId']()});const _0x46381c=this[_0x587c7f(0x484)]['get'](_0x12aacb);this[_0x587c7f(0x9af)][_0x587c7f(0x47f)][_0x587c7f(0x88b)](_0x46381c),_0x46381c['destroy'](),this[_0x587c7f(0x484)][_0x587c7f(0x131)](_0x12aacb);}['removeRemoteMediaStream'](_0x4433a2,_0x236dbb){const _0x2c2336=_0x14177f;if(!this[_0x2c2336(0x6fe)][_0x2c2336(0x85c)](_0x4433a2))throw new _0x209e12(_0x209e12[_0x2c2336(0x805)][_0x2c2336(0x38c)],{'nodeId':_0x4433a2,'localId':this[_0x2c2336(0x9af)][_0x2c2336(0x845)][_0x2c2336(0x519)]()});const _0x9b12e7=this['remoteMediaStreams'][_0x2c2336(0x9ba)](_0x4433a2);if(!_0x9b12e7[_0x2c2336(0x85c)](_0x236dbb))throw new _0x209e12(_0x209e12[_0x2c2336(0x805)][_0x2c2336(0x52f)],{'nodeId':_0x4433a2,'label':_0x236dbb,'localId':this[_0x2c2336(0x9af)][_0x2c2336(0x845)][_0x2c2336(0x519)]()});const _0x338694=_0x9b12e7[_0x2c2336(0x9ba)](_0x236dbb);this[_0x2c2336(0x9af)][_0x2c2336(0x47f)][_0x2c2336(0x88b)](_0x338694),_0x338694[_0x2c2336(0x5a1)](),_0x9b12e7[_0x2c2336(0x131)](_0x236dbb);}}var _0x2a385f,_0x5e022c,_0x3ef495;!function(_0x23e04d){const _0x8eaa14=_0x14177f;_0x23e04d[_0x8eaa14(0x9d3)]=_0x8eaa14(0x41a),_0x23e04d['DTVolatility']=_0x8eaa14(0x46a),_0x23e04d[_0x8eaa14(0x6a6)]=_0x8eaa14(0x641),_0x23e04d['Bitrate']=_0x8eaa14(0x412),_0x23e04d['Jitter']=_0x8eaa14(0x366),_0x23e04d[_0x8eaa14(0x2d8)]=_0x8eaa14(0x6e8),_0x23e04d['RoundTripTime']=_0x8eaa14(0x8b8),_0x23e04d[_0x8eaa14(0x654)]=_0x8eaa14(0x5b6);}(_0x2a385f||(_0x2a385f={})),function(_0x306d23){const _0x9e6cc3=_0x14177f;_0x306d23[_0x9e6cc3(0x502)]='cpu.cycle',_0x306d23[_0x9e6cc3(0x6a6)]=_0x9e6cc3(0x80c),_0x306d23[_0x9e6cc3(0x654)]=_0x9e6cc3(0x708),_0x306d23['FramePerSecond']=_0x9e6cc3(0x1b2),_0x306d23['Bitrate']=_0x9e6cc3(0x301),_0x306d23['Jitter']=_0x9e6cc3(0x2fc),_0x306d23[_0x9e6cc3(0x5e1)]=_0x9e6cc3(0x5d0);}(_0x5e022c||(_0x5e022c={})),function(_0x21bc31){const _0x77550=_0x14177f;_0x21bc31[_0x21bc31[_0x77550(0x4d1)]=0x0]=_0x77550(0x4d1);}(_0x3ef495||(_0x3ef495={}));const _0x11ee5c=[{'type':_0x2a385f[_0x14177f(0x9d3)],'reportMetric':_0x41f521=>_0x41f521[_0x14177f(0x9d3)],'maxThreshold':2.5},{'type':_0x2a385f[_0x14177f(0x7d7)],'reportMetric':_0x31d706=>_0x31d706[_0x14177f(0x7d7)],'maxThreshold':0.5}],_0x244db7=[{'type':_0x2a385f[_0x14177f(0x6a6)],'reportMetric':_0x1fc432=>{const _0x1c9a98=_0x14177f,_0x51db82=0x3e8/_0x1fc432['FPS'];return _0x1fc432[_0x1c9a98(0x440)]/_0x51db82;},'maxThreshold':0.75},{'type':_0x2a385f['Bitrate'],'reportMetric':_0x4be826=>{const _0x3aaf2b=_0x14177f,_0x3efb88=_0x4be826[_0x3aaf2b(0x639)]*_0x4be826[_0x3aaf2b(0x37d)]*_0x4be826[_0x3aaf2b(0x823)]*0.12;return _0x4be826['bitrate']/_0x3efb88;},'minThreshold':0.25},{'type':_0x2a385f['Jitter'],'reportMetric':_0x3f784f=>_0x3f784f['jitter'],'maxThreshold':0.6},{'type':_0x2a385f[_0x14177f(0x2d8)],'reportMetric':_0x4ff0f8=>_0x4ff0f8['FPS'],'minThreshold':0xa}],_0x48302f=[{'type':_0x2a385f[_0x14177f(0x2ec)],'reportMetric':_0xb2b28=>_0xb2b28[_0x14177f(0x366)],'maxThreshold':0.6}],_0x12cc45=[{'type':_0x2a385f[_0x14177f(0x5e1)],'reportMetric':_0x19fe4f=>_0x19fe4f[_0x14177f(0x220)],'maxThreshold':0x1/0x0}],_0x19914f=[{'type':_0x2a385f[_0x14177f(0x654)],'reportMetric':_0x2bfdd2=>_0x2bfdd2['AudioVideoDelay'],'maxThreshold':0x12c}],_0x136bf4=[{'type':_0x5e022c[_0x14177f(0x502)],'issues':[{'type':_0x2a385f['STVolatility'],'threshold':0x5},{'type':_0x2a385f[_0x14177f(0x7d7)],'threshold':0x5}]},{'type':_0x5e022c[_0x14177f(0x6a6)],'issues':[{'type':_0x2a385f['TimePerFrame'],'threshold':0x3}]},{'type':_0x5e022c[_0x14177f(0x654)],'issues':[{'type':_0x2a385f[_0x14177f(0x654)],'threshold':0x2}]},{'type':_0x5e022c['FramePerSecond'],'issues':[{'type':_0x2a385f['FramePerSecond'],'threshold':0x3}]},{'type':_0x5e022c['Bitrate'],'issues':[{'type':_0x2a385f['Bitrate'],'threshold':0x3}]},{'type':_0x5e022c['Jitter'],'issues':[{'type':_0x2a385f['Jitter'],'threshold':0x3}]},{'type':_0x5e022c[_0x14177f(0x5e1)],'issues':[{'type':_0x2a385f['RoundTripTime'],'threshold':0x3}]}];var _0x597329,_0xda9ef0;!function(_0x2ce4bd){const _0x148751=_0x14177f;_0x2ce4bd[_0x2ce4bd[_0x148751(0x883)]=0x0]=_0x148751(0x883),_0x2ce4bd[_0x2ce4bd[_0x148751(0x535)]=0x1]=_0x148751(0x535);}(_0x597329||(_0x597329={}));class _0x350a6c{[_0x14177f(0x9af)];['issues']=[];[_0x14177f(0x60b)];constructor(_0x2f168f){const _0x302dff=_0x14177f;this[_0x302dff(0x9af)]=_0x2f168f,this[_0x302dff(0x9af)][_0x302dff(0x47f)]['registerSystemSource'](this);}[_0x14177f(0x8d0)](_0xb480e9){this['systemTopic']=_0xb480e9;}[_0x14177f(0x7b5)](){const _0x503d3b=_0x14177f;this[_0x503d3b(0x60b)]=void 0x0;}['close'](){const _0x23271d=_0x14177f;this[_0x23271d(0x9af)][_0x23271d(0x47f)][_0x23271d(0x88b)](this),this[_0x23271d(0x792)]=[];}[_0x14177f(0x42b)](_0x40bfbf){const _0x5572a4=_0x14177f;switch(_0x40bfbf[_0x5572a4(0x4cc)]['type']){case _0x597329[_0x5572a4(0x535)]:this[_0x5572a4(0x682)](_0x40bfbf[_0x5572a4(0x4cc)][_0x5572a4(0x84f)]);break;case _0x597329[_0x5572a4(0x883)]:this[_0x5572a4(0x2c5)](_0x40bfbf[_0x5572a4(0x4cc)][_0x5572a4(0x84f)]);}}[_0x14177f(0x924)](_0x5ac620,_0x5d428e,_0x164679,_0x354d3c){const _0x364642=_0x14177f,_0x576b5e=_0x136bf4[_0x364642(0x3ee)](_0x35ae07=>_0x35ae07[_0x364642(0x792)][_0x364642(0x211)](_0x1ff760=>_0x1ff760[_0x364642(0x162)]===_0x5ac620));_0x354d3c>=_0x576b5e[_0x364642(0x792)]['find'](_0x41edc1=>_0x41edc1['type']===_0x5ac620)[_0x364642(0x2f7)]&&(this['addProblem'](_0x576b5e[_0x364642(0x162)],_0x5d428e,_0x164679),this['issues']=this[_0x364642(0x792)][_0x364642(0x31d)](_0x360657=>!(_0x360657[_0x364642(0x162)]===_0x5ac620&&_0x360657[_0x364642(0x8ee)]===_0x5d428e&&_0x360657[_0x364642(0x94c)]===_0x164679)));}[_0x14177f(0x682)](_0x31415e){const _0x391f0a=_0x14177f;_0x11ee5c[_0x391f0a(0x918)](_0x13b366=>{const _0x5f250d=_0x391f0a,_0x2084ff=_0x13b366[_0x5f250d(0x70b)](_0x31415e);_0x13b366[_0x5f250d(0x155)]&&_0x2084ff>_0x13b366['maxThreshold']&&this[_0x5f250d(0x227)](_0x13b366[_0x5f250d(0x162)],this[_0x5f250d(0x9af)][_0x5f250d(0x845)][_0x5f250d(0x519)](),_0x210534[_0x5f250d(0x378)],_0x2084ff),_0x13b366[_0x5f250d(0x904)]&&_0x2084ff<_0x13b366[_0x5f250d(0x904)]&&this['addIssue'](_0x13b366[_0x5f250d(0x162)],this[_0x5f250d(0x9af)]['localNode']['getId'](),_0x210534['Sender'],_0x2084ff);});}[_0x14177f(0x2c5)](_0x5278c6){const _0x1eeba7=_0x14177f;let _0x4fd603=[];switch(_0x5278c6[_0x1eeba7(0x94c)]){case _0x210534[_0x1eeba7(0x378)]:_0x4fd603=_0x12cc45;break;case _0x210534[_0x1eeba7(0x125)]:_0x4fd603=_0x19914f;}_0x5278c6[_0x1eeba7(0xa15)]&&this['detectVideoIssues'](_0x5278c6['nodeId'],_0x210534['Sender'],_0x5278c6[_0x1eeba7(0xa15)]),_0x5278c6['audio']&&this['detectAudioIssues'](_0x5278c6['nodeId'],_0x210534[_0x1eeba7(0x378)],_0x5278c6[_0x1eeba7(0x7b2)]),_0x4fd603[_0x1eeba7(0x918)](_0x251a60=>{const _0xa5d6f2=_0x1eeba7,_0x5a051b=_0x251a60[_0xa5d6f2(0x70b)](_0x5278c6);_0x251a60[_0xa5d6f2(0x155)]&&_0x5a051b>_0x251a60[_0xa5d6f2(0x155)]&&this[_0xa5d6f2(0x227)](_0x251a60['type'],_0x5278c6[_0xa5d6f2(0x8ee)],_0x210534[_0xa5d6f2(0x378)],_0x5a051b),_0x251a60['minThreshold']&&_0x5a051b<_0x251a60[_0xa5d6f2(0x904)]&&this[_0xa5d6f2(0x227)](_0x251a60[_0xa5d6f2(0x162)],_0x5278c6[_0xa5d6f2(0x8ee)],_0x210534[_0xa5d6f2(0x378)],_0x5a051b);});}[_0x14177f(0x842)](_0x515f4b,_0x2cc3e3,_0x2f509c){const _0x185d74=_0x14177f;0x0!==_0x2f509c['bitrate']&&_0x244db7[_0x185d74(0x918)](_0x45dfc1=>{const _0x4efcde=_0x185d74,_0x371df7=_0x45dfc1['reportMetric'](_0x2f509c);_0x45dfc1[_0x4efcde(0x155)]&&_0x371df7>_0x45dfc1['maxThreshold']&&this[_0x4efcde(0x227)](_0x45dfc1['type'],_0x515f4b,_0x2cc3e3,_0x371df7,_0x4efcde(0xa15)),_0x45dfc1[_0x4efcde(0x904)]&&_0x371df7<_0x45dfc1['minThreshold']&&this['addIssue'](_0x45dfc1[_0x4efcde(0x162)],_0x515f4b,_0x2cc3e3,_0x371df7,'video');});}[_0x14177f(0x266)](_0x118eda,_0xd2a5d0,_0x480230){const _0x38ee43=_0x14177f;0x0!==_0x480230[_0x38ee43(0x412)]&&_0x48302f[_0x38ee43(0x918)](_0x4c1885=>{const _0x4c1bc7=_0x38ee43,_0x273ab0=_0x4c1885[_0x4c1bc7(0x70b)](_0x480230);_0x4c1885[_0x4c1bc7(0x155)]&&_0x273ab0>_0x4c1885[_0x4c1bc7(0x155)]&&this[_0x4c1bc7(0x227)](_0x4c1885[_0x4c1bc7(0x162)],_0x118eda,_0xd2a5d0,_0x273ab0,'audio'),_0x4c1885[_0x4c1bc7(0x904)]&&_0x273ab0<_0x4c1885[_0x4c1bc7(0x904)]&&this[_0x4c1bc7(0x227)](_0x4c1885[_0x4c1bc7(0x162)],_0x118eda,_0xd2a5d0,_0x273ab0,'audio');});}[_0x14177f(0x227)](_0x1c90fb,_0x2843ad,_0x24ebab,_0x3f8cce,_0x16a21e){const _0x2dbf78=_0x14177f;_0x1734f6[_0x2dbf78(0x2b0)](_0x39fe10[_0x2dbf78(0x545)],_0x2dbf78(0x4d5)+_0x1c90fb,_0x1c90fb,_0x3f8cce),_0x1734f6[_0x2dbf78(0x4eb)](_0x2dbf78(0xa48),{'clusterId':this[_0x2dbf78(0x9af)][_0x2dbf78(0x463)],'nodeId':this[_0x2dbf78(0x9af)][_0x2dbf78(0x845)][_0x2dbf78(0x519)](),'nodeType':this[_0x2dbf78(0x9af)][_0x2dbf78(0x845)][_0x2dbf78(0x162)],'remoteId':_0x2843ad,'data':{'type':_0x1c90fb,'value':_0x3f8cce,'kind':_0x16a21e}}),this['issues']=this['issues'][_0x2dbf78(0x31d)](_0x455608=>Date[_0x2dbf78(0x5bc)]()-_0x455608[_0x2dbf78(0x9c9)]<0x7530),this[_0x2dbf78(0x792)][_0x2dbf78(0x993)]({'timestamp':Date['now'](),'type':_0x1c90fb,'nodeId':_0x2843ad,'origin':_0x24ebab,'value':_0x3f8cce,'kind':_0x16a21e});const _0x45e365=this[_0x2dbf78(0x792)][_0x2dbf78(0x31d)](_0x5d1802=>_0x5d1802[_0x2dbf78(0x162)]===_0x1c90fb&&_0x5d1802[_0x2dbf78(0x8ee)]===_0x2843ad&&_0x5d1802[_0x2dbf78(0x94c)]===_0x24ebab)[_0x2dbf78(0x5b7)];this[_0x2dbf78(0x924)](_0x1c90fb,_0x2843ad,_0x24ebab,_0x45e365);}[_0x14177f(0x281)](_0x462e0d,_0x1ecb0d,_0x44bae5){const _0x4a7805=_0x14177f;_0x1734f6['log'](_0x39fe10[_0x4a7805(0x545)],_0x4a7805(0x2a2)+_0x462e0d),_0x1734f6['logEvent'](_0x4a7805(0x348),{'clusterId':this[_0x4a7805(0x9af)]['clusterId'],'nodeId':this[_0x4a7805(0x9af)][_0x4a7805(0x845)][_0x4a7805(0x519)](),'nodeType':this['configs'][_0x4a7805(0x845)]['type'],'remoteId':_0x1ecb0d,'data':{'type':_0x462e0d}}),this['systemTopic']?.['publish']({'sourceId':_0x186264,'messageType':_0x1252cb[_0x4a7805(0x545)],'content':{'type':_0x3ef495[_0x4a7805(0x4d1)],'data':{'timestamp':Date[_0x4a7805(0x5bc)](),'nodeId':_0x1ecb0d,'origin':_0x210534[_0x4a7805(0x378)],'type':_0x462e0d}}});}}class _0x9a8ebf extends _0x41a444{[_0x14177f(0x162)]=_0x23d754[_0x14177f(0x9f6)][_0x14177f(0x4d8)];}class _0x168eed extends _0x9a8ebf{[_0x14177f(0x60b)];[_0x14177f(0x11f)]=Date[_0x14177f(0x5bc)]();['updateDebounceTimeout'];[_0x14177f(0x1ab)];[_0x14177f(0x9b6)](){const _0x56d33d=_0x14177f;this[_0x56d33d(0x182)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x56d33d(0x182)]),delete this[_0x56d33d(0x1ab)],this[_0x56d33d(0x11f)]=Date['now'](),super[_0x56d33d(0x9b6)]();}[_0x14177f(0x8d0)](_0x646727){const _0x5962ca=_0x14177f;this[_0x5962ca(0x60b)]=_0x646727;}[_0x14177f(0x7b5)](){const _0x34a6e2=_0x14177f;delete this[_0x34a6e2(0x60b)];}[_0x14177f(0x85a)](_0xb31783){const _0x3fd443=_0x14177f;!this[_0x3fd443(0x182)]&&this['rank']&&this[_0x3fd443(0x60b)][_0x3fd443(0x95d)]({'sourceId':this['id'],'destinationIds':[_0xb31783],'propagate':!0x0,'messageType':_0x1252cb[_0x3fd443(0x8b2)],'content':{'type':_0x52a3af[_0x3fd443(0x264)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x3fd443(0x83d)](),'remoteConnections':Array[_0x3fd443(0x80f)](this[_0x3fd443(0x25b)]),'version':this[_0x3fd443(0x11f)]}});}[_0x14177f(0x577)](_0x3d403b){const _0x50888f=_0x14177f;this[_0x50888f(0x25b)][_0x50888f(0x85c)](_0x3d403b)||(this[_0x50888f(0x25b)][_0x50888f(0x1cd)](_0x3d403b),this[_0x50888f(0x116)](),this[_0x50888f(0xa56)](!0x0));}[_0x14177f(0x9f9)](_0x3c0494){const _0x317175=_0x14177f;this[_0x317175(0x25b)][_0x317175(0x85c)](_0x3c0494)&&(this[_0x317175(0x25b)][_0x317175(0x131)](_0x3c0494),this['incrementVersion'](),this['publishUserUpdate'](!0x0));}['getCurrentVersion'](){const _0x4ef681=_0x14177f;return this[_0x4ef681(0x11f)];}[_0x14177f(0x8f8)](_0x4fe85b,_0x468ad=!0x0){const _0x1714bd=_0x14177f;this[_0x1714bd(0x2d5)]!==_0x4fe85b&&(this[_0x1714bd(0x2d5)]=_0x4fe85b,_0x468ad&&(this['incrementVersion'](),this['publishUserUpdate']()));}[_0x14177f(0x116)](){const _0xec75f3=_0x14177f;this[_0xec75f3(0x11f)]=Date[_0xec75f3(0x5bc)]();}['publishUserUpdate'](_0x52c5f8=!0x1){const _0x255973=_0x14177f;if(this[_0x255973(0x2d5)]){if(this[_0x255973(0x1ab)]||(this[_0x255973(0x1ab)]=Date['now']()),this['updateDebounceTimeout']){if(Date[_0x255973(0x5bc)]()-this[_0x255973(0x1ab)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x255973(0x182)]=setTimeout(()=>{const _0x1b8b5b=_0x255973;delete this['lastUpdated'],delete this['updateDebounceTimeout'],this['systemTopic'][_0x1b8b5b(0x95d)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x1252cb[_0x1b8b5b(0x8b2)],'content':{'type':_0x52c5f8?_0x52a3af[_0x1b8b5b(0x319)]:_0x52a3af['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x1b8b5b(0x162)]},'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x1b8b5b(0x25b)]),'version':this[_0x1b8b5b(0x11f)]}});},0x3e8);}}}class _0xad6cd2 extends _0x31f5c4{[_0x14177f(0x60b)];['currentVersion']=Date[_0x14177f(0x5bc)]();['updateDebounceTimeout'];[_0x14177f(0x1ab)];[_0x14177f(0x9b6)](){const _0x47825c=_0x14177f;this[_0x47825c(0x182)]&&(clearTimeout(this[_0x47825c(0x182)]),delete this['updateDebounceTimeout']),delete this[_0x47825c(0x1ab)],this['currentVersion']=Date[_0x47825c(0x5bc)](),super[_0x47825c(0x9b6)]();}[_0x14177f(0x8d0)](_0x291984){const _0x33189a=_0x14177f;this[_0x33189a(0x60b)]=_0x291984;}[_0x14177f(0x7b5)](){delete this['systemTopic'];}[_0x14177f(0x85a)](_0x37066b){const _0x105239=_0x14177f;!this['updateDebounceTimeout']&&this['rank']&&this[_0x105239(0x60b)][_0x105239(0x95d)]({'sourceId':this['id'],'destinationIds':[_0x37066b],'propagate':!0x0,'messageType':_0x1252cb[_0x105239(0x8b2)],'content':{'type':_0x52a3af[_0x105239(0x264)],'id':this['id'],'metaData':{'type':this[_0x105239(0x162)],'displayName':this[_0x105239(0x9f2)](),'email':this[_0x105239(0x6ff)]()},'rank':this[_0x105239(0x83d)](),'remoteConnections':Array[_0x105239(0x80f)](this[_0x105239(0x25b)]),'version':this[_0x105239(0x11f)]}});}[_0x14177f(0x577)](_0x1d1632){const _0x2a0f89=_0x14177f;this[_0x2a0f89(0x25b)][_0x2a0f89(0x85c)](_0x1d1632)||(this['remoteConnections']['add'](_0x1d1632),this[_0x2a0f89(0x116)](),this[_0x2a0f89(0xa56)](!0x0));}['removeRemoteConnection'](_0x340ff8){const _0x520bfd=_0x14177f;this[_0x520bfd(0x25b)][_0x520bfd(0x85c)](_0x340ff8)&&(this[_0x520bfd(0x25b)][_0x520bfd(0x131)](_0x340ff8),this[_0x520bfd(0x116)](),this[_0x520bfd(0xa56)](!0x0));}[_0x14177f(0x1f5)](){const _0x27b82c=_0x14177f;return this[_0x27b82c(0x11f)];}[_0x14177f(0x85e)](_0x1184ee){const _0x1797d9=_0x14177f;this[_0x1797d9(0x5f4)]!==_0x1184ee&&(this[_0x1797d9(0x5f4)]=_0x1184ee,this[_0x1797d9(0x116)](),this[_0x1797d9(0xa56)]());}[_0x14177f(0x587)](_0x5d0f81){const _0x21026c=_0x14177f;this[_0x21026c(0x7a1)]!==_0x5d0f81&&(this[_0x21026c(0x7a1)]=_0x5d0f81,this['incrementVersion'](),this[_0x21026c(0xa56)]());}[_0x14177f(0x8f8)](_0x4bdd9d,_0x2d6404=!0x0){const _0x2e1288=_0x14177f;this[_0x2e1288(0x2d5)]!==_0x4bdd9d&&(this[_0x2e1288(0x2d5)]=_0x4bdd9d,_0x2d6404&&(this[_0x2e1288(0x116)](),this[_0x2e1288(0xa56)]()));}[_0x14177f(0x116)](){const _0x3e3b54=_0x14177f;this[_0x3e3b54(0x11f)]=Date[_0x3e3b54(0x5bc)]();}[_0x14177f(0xa56)](_0x207f75=!0x1){const _0x3a3d43=_0x14177f;if(this[_0x3a3d43(0x2d5)]){if(this['lastUpdated']||(this['lastUpdated']=Date[_0x3a3d43(0x5bc)]()),this['updateDebounceTimeout']){if(Date[_0x3a3d43(0x5bc)]()-this[_0x3a3d43(0x1ab)]>0x2328)return;clearTimeout(this[_0x3a3d43(0x182)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x1d9555=_0x3a3d43;delete this[_0x1d9555(0x1ab)],delete this['updateDebounceTimeout'],this[_0x1d9555(0x60b)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x1252cb[_0x1d9555(0x8b2)],'content':{'type':_0x207f75?_0x52a3af[_0x1d9555(0x319)]:_0x52a3af[_0x1d9555(0x264)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x1d9555(0x9f2)](),'email':this[_0x1d9555(0x6ff)]()},'rank':this[_0x1d9555(0x83d)](),'remoteConnections':Array[_0x1d9555(0x80f)](this[_0x1d9555(0x25b)]),'version':this[_0x1d9555(0x11f)]}});},0x3e8);}}}class _0x469835{['id'];[_0x14177f(0x987)];[_0x14177f(0x857)];['agentConfig'];[_0x14177f(0x162)]=_0x23d754['NodeType']['Agent'];[_0x14177f(0x5f3)];constructor(_0x59b227,_0x3c8a4e,_0x1150c6,_0x101058){const _0x40ce72=_0x14177f;this['id']=_0x59b227,this[_0x40ce72(0x987)]=_0x3c8a4e,this[_0x40ce72(0x857)]=_0x1150c6,this[_0x40ce72(0x379)]=_0x101058;}[_0x14177f(0x519)](){return this['id'];}[_0x14177f(0x998)](_0x112f88){const _0x7b4fd8=_0x14177f,_0x136d94=(0x0,_0x47d1e0['onSnapshot'])((0x0,_0x47d1e0[_0x7b4fd8(0x595)])(_0x4ce864[_0x7b4fd8(0x76b)](),_0x7b4fd8(0x793)+this[_0x7b4fd8(0x857)]+_0x7b4fd8(0x536)+this['groupId']),_0x2e8473=>{const _0x2cc538=_0x7b4fd8;if(_0x2e8473[_0x2cc538(0x433)]()){const _0x2f7c7f=_0x2e8473['data']();if(this[_0x2cc538(0x379)][_0x2cc538(0x9c9)][_0x2cc538(0x78d)](_0x2f7c7f[_0x2cc538(0x9c9)]))return;_0x1734f6[_0x2cc538(0x2b0)](_0x39fe10[_0x2cc538(0x8b2)],'agent-config-changed',{'agentId':this['id'],'groupId':this[_0x2cc538(0x987)],'oldConfig':this['agentConfig'],'newConfig':_0x2f7c7f}),this[_0x2cc538(0x379)]=_0x2f7c7f,_0x112f88();}});return()=>_0x136d94();}[_0x14177f(0x2e9)](_0xfc4bc9){const _0x58320f=_0x14177f;return this[_0x58320f(0x310)](this['groupId'],_0xfc4bc9),_0x3f17ec[_0x58320f(0x2ef)](()=>this[_0x58320f(0x310)](this['groupId'],_0xfc4bc9),0x7530);}[_0x14177f(0x3a6)](){const _0x22e385=_0x14177f;if(!this[_0x22e385(0x5f3)])throw new _0x209e12(_0x209e12[_0x22e385(0x805)][_0x22e385(0x6d4)]);return this[_0x22e385(0x5f3)];}async['reportCapacity'](_0x5324b4,_0x477533){const _0x5712c1=_0x14177f,_0x2c3b51=await _0x477533();this[_0x5712c1(0x5f3)]=_0x2c3b51,await(0x0,_0x47d1e0[_0x5712c1(0x791)])((0x0,_0x47d1e0[_0x5712c1(0x9c6)])(_0x4ce864[_0x5712c1(0x76b)](),_0x5712c1(0x793)+this[_0x5712c1(0x857)]+_0x5712c1(0x8e9)),{'agentId':this['id'],'groupId':_0x5324b4,'timestamp':(0x0,_0x47d1e0['serverTimestamp'])(),'capacity':_0x2c3b51});}}!function(_0x4bf50f){const _0xeb43d1=_0x14177f;_0x4bf50f[_0x4bf50f['Online']=0x0]='Online',_0x4bf50f[_0x4bf50f[_0xeb43d1(0xa47)]=0x1]=_0xeb43d1(0xa47);}(_0xda9ef0||(_0xda9ef0={}));class _0x32cf69 extends _0x9a8ebf{[_0x14177f(0x11f)];[_0x14177f(0x32b)]=_0xda9ef0[_0x14177f(0x5e8)];[_0x14177f(0x1ab)]=Date[_0x14177f(0x5bc)]();constructor(_0x42d70a,_0xa65eab=new Set(),_0x125781,_0x2b5fa7){super(_0x42d70a,_0xa65eab,_0x2b5fa7),this['currentVersion']=_0x125781;}[_0x14177f(0x1f5)](){const _0x5e2951=_0x14177f;return this[_0x5e2951(0x11f)];}[_0x14177f(0x831)](){return this['status'];}['getLastUpdated'](){const _0x4accbe=_0x14177f;return this[_0x4accbe(0x1ab)];}[_0x14177f(0x8f8)](_0x48bdca){const _0x3c1baa=_0x14177f;this['rank']!==_0x48bdca&&(this[_0x3c1baa(0x2d5)]=_0x48bdca,this[_0x3c1baa(0x4a0)]());}['setRemoteConnections'](_0xaa5da7){const _0x3dd9a1=_0x14177f;let _0x6240c9=!0x1;for(const _0x12b053 of this['remoteConnections'])_0xaa5da7[_0x3dd9a1(0x775)](_0x12b053)||(_0x6240c9=!0x0,this[_0x3dd9a1(0x25b)]['delete'](_0x12b053));for(const _0x43b393 of _0xaa5da7)this[_0x3dd9a1(0x25b)][_0x3dd9a1(0x85c)](_0x43b393)||(_0x6240c9=!0x0,this[_0x3dd9a1(0x25b)][_0x3dd9a1(0x1cd)](_0x43b393));_0x6240c9&&this[_0x3dd9a1(0x4a0)]();}['setCurrentVersion'](_0x52380b){const _0x44aebc=_0x14177f;this[_0x44aebc(0x11f)]!==_0x52380b&&(this[_0x44aebc(0x11f)]=_0x52380b,this[_0x44aebc(0x4a0)]());}[_0x14177f(0x6f1)](_0x50a9c2){const _0x2b2c6a=_0x14177f;this[_0x2b2c6a(0x32b)]!==_0x50a9c2&&(this[_0x2b2c6a(0x32b)]=_0x50a9c2,this['updateLastUpdated'](),_0x50a9c2===_0xda9ef0[_0x2b2c6a(0xa47)]&&this[_0x2b2c6a(0x9b6)]());}[_0x14177f(0x4a0)](){const _0x15a3dc=_0x14177f;this[_0x15a3dc(0x1ab)]=Date[_0x15a3dc(0x5bc)]();}}class _0xd056b0 extends _0x31f5c4{[_0x14177f(0x11f)];[_0x14177f(0x32b)]=_0xda9ef0[_0x14177f(0x5e8)];[_0x14177f(0x1ab)]=Date[_0x14177f(0x5bc)]();constructor(_0x2a68b4,_0x32d096,_0x41df29,_0x4ab253=new Set(),_0x51d45b,_0x4b53e3){super(_0x2a68b4,_0x32d096,_0x41df29,_0x4ab253,_0x4b53e3),this['currentVersion']=_0x51d45b;}['getCurrentVersion'](){const _0x15b8b0=_0x14177f;return this[_0x15b8b0(0x11f)];}[_0x14177f(0x831)](){return this['status'];}[_0x14177f(0x3c9)](){const _0x1b08ca=_0x14177f;return this[_0x1b08ca(0x1ab)];}['setDisplayName'](_0xeb21ec){const _0x30cfdb=_0x14177f;this[_0x30cfdb(0x5f4)]!==_0xeb21ec&&(this[_0x30cfdb(0x5f4)]=_0xeb21ec,this[_0x30cfdb(0x4a0)]());}[_0x14177f(0x587)](_0x273c62){const _0x554a6d=_0x14177f;this[_0x554a6d(0x7a1)]!==_0x273c62&&(this[_0x554a6d(0x7a1)]=_0x273c62,this[_0x554a6d(0x4a0)]());}[_0x14177f(0x8f8)](_0x1989e8){const _0x4d8bcf=_0x14177f;this['rank']!==_0x1989e8&&(this[_0x4d8bcf(0x2d5)]=_0x1989e8,this[_0x4d8bcf(0x4a0)]());}['setRemoteConnections'](_0x4d900c){const _0x4b1c12=_0x14177f;let _0x12b4fb=!0x1;for(const _0x2a3344 of this[_0x4b1c12(0x25b)])_0x4d900c[_0x4b1c12(0x775)](_0x2a3344)||(_0x12b4fb=!0x0,this[_0x4b1c12(0x25b)]['delete'](_0x2a3344));for(const _0x54cb43 of _0x4d900c)this[_0x4b1c12(0x25b)][_0x4b1c12(0x85c)](_0x54cb43)||(_0x12b4fb=!0x0,this['remoteConnections'][_0x4b1c12(0x1cd)](_0x54cb43));_0x12b4fb&&this[_0x4b1c12(0x4a0)]();}[_0x14177f(0x8ca)](_0x3b7b56){const _0x2b9fa2=_0x14177f;this['currentVersion']!==_0x3b7b56&&(this[_0x2b9fa2(0x11f)]=_0x3b7b56,this[_0x2b9fa2(0x4a0)]());}[_0x14177f(0x6f1)](_0x5929fa){const _0x3d8d05=_0x14177f;this[_0x3d8d05(0x32b)]!==_0x5929fa&&(this[_0x3d8d05(0x32b)]=_0x5929fa,this[_0x3d8d05(0x4a0)](),_0x5929fa===_0xda9ef0[_0x3d8d05(0xa47)]&&this[_0x3d8d05(0x9b6)]());}[_0x14177f(0x4a0)](){const _0x525c42=_0x14177f;this[_0x525c42(0x1ab)]=Date['now']();}}class _0x54f551{['vendorId'];[_0x14177f(0x463)];[_0x14177f(0x845)];[_0x14177f(0x113)];[_0x14177f(0x289)]=_0xc80b91();['firebaseUnsubscriber'];[_0x14177f(0x36f)];[_0x14177f(0x5c7)];[_0x14177f(0x651)]=!0x1;['clusterKey'];['nodeKey'];constructor(_0xc546c8,_0x3965c7,_0xccb228,_0x5d5329){const _0x2d4d5b=_0x14177f;this[_0x2d4d5b(0x857)]=_0xc546c8,this[_0x2d4d5b(0x463)]=_0x3965c7,this[_0x2d4d5b(0x845)]=_0xccb228,this['minConnections']=_0x5d5329,this[_0x2d4d5b(0x340)]=_0x2d4d5b(0x698)+this['vendorId']+_0x2d4d5b(0x698)+this[_0x2d4d5b(0x463)],this[_0x2d4d5b(0x1be)]=_0x2d4d5b(0x698)+this[_0x2d4d5b(0x857)]+_0x2d4d5b(0x698)+this[_0x2d4d5b(0x845)][_0x2d4d5b(0x519)](),this['firebaseUnsubscriber']=(0x0,_0x2f13db[_0x2d4d5b(0x9da)])((0x0,_0x2f13db[_0x2d4d5b(0x1f4)])(_0x4ce864['getDatabase'](),_0x2d4d5b(0x2df)),_0xe96101=>{const _0x71293f=_0x2d4d5b;!0x0!==_0xe96101[_0x71293f(0x26e)]()?this[_0x71293f(0x651)]&&_0x1734f6[_0x71293f(0x70e)](_0x71293f(0x53b),{'clusterId':this[_0x71293f(0x463)],'nodeId':this[_0x71293f(0x845)][_0x71293f(0x519)](),'nodeType':this['localNode'][_0x71293f(0x162)]}):(this[_0x71293f(0x651)]=!0x0,this[_0x71293f(0x566)](),_0x1734f6[_0x71293f(0x8c3)](_0x71293f(0x632),{'clusterId':this[_0x71293f(0x463)],'nodeId':this['localNode'][_0x71293f(0x519)](),'nodeType':this[_0x71293f(0x845)]['type']}));});}async[_0x14177f(0x417)](){const _0x37134c=_0x14177f;await this[_0x37134c(0x4c6)]();const _0x38f4e8=await this[_0x37134c(0x1ea)]();return this['childRemovedUnsubscriber']=(0x0,_0x2f13db['onChildRemoved'])((0x0,_0x2f13db[_0x37134c(0x1f4)])(_0x4ce864[_0x37134c(0x3ea)](),_0x37134c(0x1ec)+this[_0x37134c(0x340)]+_0x37134c(0x76a)),_0x2d1cee=>{const _0x4bdebc=_0x37134c,_0x24cc3f=_0x2d1cee[_0x4bdebc(0x151)];if(!_0x24cc3f)return;const _0x5dc0e1=_0x24cc3f[_0x4bdebc(0x79d)](_0x4bdebc(0x698)+this[_0x4bdebc(0x857)]+_0x4bdebc(0x698),'');this[_0x4bdebc(0x289)][_0x4bdebc(0x95d)](_0x5dc0e1);}),_0x38f4e8;}async[_0x14177f(0x9b6)](){const _0x53339e=_0x14177f;this['childRemovedUnsubscriber']?.(),delete this['childRemovedUnsubscriber'],this[_0x53339e(0x5c7)]?.[_0x53339e(0x48a)](),delete this[_0x53339e(0x5c7)],this[_0x53339e(0x869)]?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x2f13db[_0x53339e(0x1ac)])((0x0,_0x2f13db[_0x53339e(0x1f4)])(_0x4ce864[_0x53339e(0x3ea)](),_0x53339e(0x1ec)+this[_0x53339e(0x340)]+_0x53339e(0x166)+this['nodeKey']));}[_0x14177f(0x962)](_0x2d1d20){const _0x2a71a4=_0x14177f;return this[_0x2a71a4(0x289)][_0x2a71a4(0x1f2)](_0x2d1d20);}async[_0x14177f(0x1ea)](){const _0x125473=_0x14177f,_0x616990=[],_0x2efc86=await(0x0,_0x2f13db[_0x125473(0x9ba)])((0x0,_0x2f13db[_0x125473(0x1f4)])(_0x4ce864[_0x125473(0x3ea)](),'clusters/'+this[_0x125473(0x340)]+'/nodes')),_0x34a645=[];return _0x2efc86['forEach'](_0x59bf84=>{const _0xd44d6b=_0x125473,_0x206cd8=_0x59bf84[_0xd44d6b(0x151)]?.['replace']('ccc'+this[_0xd44d6b(0x857)]+_0xd44d6b(0x698),'');_0x34a645[_0xd44d6b(0x993)]({'id':_0x206cd8,'joinedAt':_0x59bf84['val']()[_0xd44d6b(0x5b1)],'priority':_0x59bf84[_0xd44d6b(0x26e)]()[_0xd44d6b(0x89e)]});}),_0x34a645[_0x125473(0x119)]((_0x431656,_0x510265)=>_0x431656[_0x125473(0x5b1)]===_0x510265['joinedAt']?_0x431656[_0x125473(0x89e)]-_0x510265[_0x125473(0x89e)]:_0x431656[_0x125473(0x5b1)]-_0x510265[_0x125473(0x5b1)])['splice'](_0x34a645[_0x125473(0x6df)](_0x414615=>_0x414615['id']===this[_0x125473(0x845)][_0x125473(0x519)]())),_0x34a645[_0x125473(0x119)]((_0x5715b0,_0x12f894)=>_0x12f894[_0x125473(0x5b1)]===_0x5715b0[_0x125473(0x5b1)]?_0x12f894['priority']-_0x5715b0['priority']:_0x12f894[_0x125473(0x5b1)]-_0x5715b0[_0x125473(0x5b1)])['forEach'](_0x2c6dd6=>{const _0x167210=_0x125473;_0x616990[_0x167210(0x5b7)]>=this[_0x167210(0x113)]||_0x616990[_0x167210(0x993)](_0x2c6dd6['id']);}),_0x1734f6['logEvent'](_0x125473(0x3e3),{'clusterId':this[_0x125473(0x463)],'nodeId':this[_0x125473(0x845)]['getId'](),'nodeType':this[_0x125473(0x845)][_0x125473(0x162)],'data':{'ancestorIds':_0x616990,'allNodes':_0x34a645}}),_0x616990;}async[_0x14177f(0x4c6)](){const _0x22d07a=_0x14177f;await(0x0,_0x2f13db[_0x22d07a(0x525)])((0x0,_0x2f13db[_0x22d07a(0x1f4)])(_0x4ce864[_0x22d07a(0x3ea)](),_0x22d07a(0x1ec)+this[_0x22d07a(0x340)]+_0x22d07a(0x166)+this[_0x22d07a(0x1be)]),{'joinedAt':(0x0,_0x2f13db[_0x22d07a(0x8e2)])(),'priority':Math['random']()});}['setOnDisconnectHandler'](){const _0x8d899c=_0x14177f;this['onDisconnectHandler']&&this[_0x8d899c(0x5c7)][_0x8d899c(0x48a)](),this['onDisconnectHandler']=(0x0,_0x2f13db[_0x8d899c(0x901)])((0x0,_0x2f13db['ref'])(_0x4ce864[_0x8d899c(0x3ea)](),_0x8d899c(0x1ec)+this[_0x8d899c(0x340)]+_0x8d899c(0x166)+this[_0x8d899c(0x1be)])),this['onDisconnectHandler'][_0x8d899c(0x1ac)]();}}class _0xc631e0{['configs'];[_0x14177f(0x29d)];[_0x14177f(0x742)];[_0x14177f(0x336)];['discoveryUnsubscriber'];[_0x14177f(0xa45)]=[];[_0x14177f(0x60b)];['optimizationLayers']=new Map();[_0x14177f(0x32f)];[_0x14177f(0x69a)];[_0x14177f(0x3af)];[_0x14177f(0x429)];[_0x14177f(0x385)];[_0x14177f(0x4dd)];constructor(_0x18aecd,_0x192c57){const _0x3d83e7=_0x14177f;this[_0x3d83e7(0x9af)]=_0x18aecd,this[_0x3d83e7(0x29d)]=_0x192c57,this[_0x3d83e7(0x3af)]=new Promise((_0x3d19e2,_0x360076)=>{const _0x8043fe=_0x3d83e7;this[_0x8043fe(0x429)]=_0x3d19e2,this[_0x8043fe(0x385)]=_0x360076;}),this[_0x3d83e7(0x336)]=new _0x54f551(this['configs'][_0x3d83e7(0x857)],this['configs'][_0x3d83e7(0x463)],this[_0x3d83e7(0x9af)][_0x3d83e7(0x845)],this[_0x3d83e7(0x29d)][_0x3d83e7(0x177)]()),this['discoveryUnsubscriber']=this[_0x3d83e7(0x336)][_0x3d83e7(0x962)](this['handleNodeDisconnect']['bind'](this)),this[_0x3d83e7(0x9af)][_0x3d83e7(0x47f)][_0x3d83e7(0x300)](this['configs'][_0x3d83e7(0x845)]),this[_0x3d83e7(0x9af)][_0x3d83e7(0x47f)][_0x3d83e7(0x300)](this),this[_0x3d83e7(0x742)]=_0x3f17ec[_0x3d83e7(0x2ef)](()=>{const _0x4816e4=_0x3d83e7,_0x49c36f=Date['now']();this[_0x4816e4(0x29d)][_0x4816e4(0x9cc)]()[_0x4816e4(0x918)](_0x453019=>{const _0x45a4d7=_0x4816e4;_0x453019['getStatus']()===_0xda9ef0['Offline']&&_0x453019[_0x45a4d7(0x3c9)]()<_0x49c36f-0x493e0&&this[_0x45a4d7(0x29d)][_0x45a4d7(0x819)](_0x453019[_0x45a4d7(0x519)]());});},0xea60);}async[_0x14177f(0x4b9)](){return this['_isReady'];}async[_0x14177f(0x136)](_0x380740){return new Promise((_0x42fef1,_0x135f30)=>{const _0x1afb63=a0_0x50bd;let _0x3e63d1;const _0x476373=setTimeout(()=>{const _0x2a9f44=a0_0x50bd;_0x3e63d1?.(),_0x135f30(new Error(_0x2a9f44(0x737)+_0x380740+_0x2a9f44(0x4e1)));},0x2710);if(this[_0x1afb63(0x29d)][_0x1afb63(0x8ff)](_0x380740))return clearTimeout(_0x476373),void _0x42fef1(!0x0);_0x3e63d1=this[_0x1afb63(0x29d)][_0x1afb63(0x396)](()=>{const _0x4d3c67=_0x1afb63;this[_0x4d3c67(0x29d)]['hasRemoteNode'](_0x380740)&&(clearTimeout(_0x476373),_0x42fef1(!0x0),_0x3e63d1?.());});});}[_0x14177f(0x8d0)](_0x351386){const _0x264732=_0x14177f;this[_0x264732(0x60b)]=_0x351386;}[_0x14177f(0x7b5)](){const _0x90d9ef=_0x14177f;delete this[_0x90d9ef(0x60b)];}['close'](){const _0x1b90e7=_0x14177f;this[_0x1b90e7(0x32f)]&&(clearTimeout(this[_0x1b90e7(0x32f)]),delete this[_0x1b90e7(0x32f)]),delete this['lastProcessRank'],this[_0x1b90e7(0x9af)][_0x1b90e7(0x845)][_0x1b90e7(0x9b6)](),this['remoteUnsubscriber'](),this['discoveryUnsubscriber'](),this[_0x1b90e7(0x9af)][_0x1b90e7(0x47f)][_0x1b90e7(0x88b)](this[_0x1b90e7(0x9af)][_0x1b90e7(0x845)]),this['configs'][_0x1b90e7(0x47f)][_0x1b90e7(0x88b)](this),this[_0x1b90e7(0x336)]['close']();}[_0x14177f(0x659)](){return this['ancestors'];}['getLocalId'](){const _0x5626bb=_0x14177f;return this[_0x5626bb(0x9af)][_0x5626bb(0x845)][_0x5626bb(0x519)]();}[_0x14177f(0x248)](){const _0x1cfc46=_0x14177f;return this[_0x1cfc46(0x9af)][_0x1cfc46(0x845)];}[_0x14177f(0x9cc)](_0x3bd3cc){const _0x4fd1c4=_0x14177f,_0x45bb45=Array['from'](this[_0x4fd1c4(0x29d)]['getRemoteNodes']()[_0x4fd1c4(0x774)]())['filter'](_0x352d21=>_0x352d21[_0x4fd1c4(0x831)]()===_0xda9ef0[_0x4fd1c4(0x5e8)]);return _0x3bd3cc?_0x45bb45[_0x4fd1c4(0x31d)](_0x3bd3cc):_0x45bb45;}async['discover'](){const _0x1fe70c=_0x14177f;return this[_0x1fe70c(0xa45)]=await this[_0x1fe70c(0x336)][_0x1fe70c(0x417)](),this[_0x1fe70c(0xa45)][_0x1fe70c(0x5b7)]<this[_0x1fe70c(0x29d)][_0x1fe70c(0x177)]()&&(this[_0x1fe70c(0x9af)][_0x1fe70c(0x845)][_0x1fe70c(0x8f8)](this[_0x1fe70c(0xa45)][_0x1fe70c(0x5b7)]+0x1),this[_0x1fe70c(0x12d)]()),this[_0x1fe70c(0xa45)];}['getDistance'](_0x4f0c4c,_0x3a9b33){const _0x5812e2=_0x14177f,_0x1443f0=this[_0x5812e2(0x9af)][_0x5812e2(0x845)][_0x5812e2(0x9c0)](),_0x4f0f15=new Set(_0x1443f0),_0x49b8eb=Array[_0x5812e2(0x80f)](_0x1443f0)['filter'](_0xc32f85=>_0xc32f85!==_0x4f0c4c)[_0x5812e2(0x265)](_0x48a587=>({'id':_0x48a587,'distance':0x1}));for(;_0x49b8eb[_0x5812e2(0x5b7)]>0x0;){const _0x3de5d5=_0x49b8eb[_0x5812e2(0x239)]();if(!_0x3de5d5)continue;if(_0x3de5d5['id']===_0x3a9b33)return _0x3de5d5[_0x5812e2(0x435)];const _0x7a9d99=this[_0x5812e2(0x29d)]['getRemoteNode'](_0x3de5d5['id']);_0x7a9d99&&_0x7a9d99['getStatus']()!==_0xda9ef0[_0x5812e2(0xa47)]&&_0x7a9d99['getRemoteConnections']()[_0x5812e2(0x918)](_0x3019f6=>{const _0x5a491f=_0x5812e2;_0x4f0f15[_0x5a491f(0x85c)](_0x3019f6)||(_0x4f0f15[_0x5a491f(0x1cd)](_0x3019f6),_0x49b8eb[_0x5a491f(0x993)]({'id':_0x3019f6,'distance':_0x3de5d5[_0x5a491f(0x435)]+0x1}));});}return-0x1;}[_0x14177f(0x1aa)](_0xdd29a9){const _0x397fe8=_0x14177f;try{switch(_0xdd29a9[_0x397fe8(0x4cc)]['type']){case _0x52a3af[_0x397fe8(0x264)]:case _0x52a3af['NodeConnectionsUpdate']:this[_0x397fe8(0x849)](_0xdd29a9[_0x397fe8(0x4cc)]),_0x1734f6['log'](_0x39fe10[_0x397fe8(0x8b2)],_0x397fe8(0x74e),'\x27'+this[_0x397fe8(0x9af)][_0x397fe8(0x845)][_0x397fe8(0x519)]()+',\x20'+_0xdd29a9['sourceId']+'\x27',_0xdd29a9,_0xdd29a9[_0x397fe8(0x4cc)]);break;case _0x52a3af['NodeLeave']:this[_0x397fe8(0x57b)](_0xdd29a9[_0x397fe8(0x4cc)]['id']),_0x1734f6['log'](_0x39fe10[_0x397fe8(0x8b2)],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x397fe8(0x9af)]['localNode'][_0x397fe8(0x519)]()+',\x20'+_0xdd29a9['sourceId']+'\x27',_0xdd29a9,_0xdd29a9[_0x397fe8(0x4cc)]);}}catch(_0x2ab21b){if(_0x2ab21b instanceof _0x2f2ea2)return void _0x1734f6['log'](_0x39fe10[_0x397fe8(0x8b2)],_0x2ab21b[_0x397fe8(0x84a)]);throw _0x2ab21b;}}[_0x14177f(0x870)](_0x5a9b3c){const _0x1f27dc=_0x14177f;switch(_0x5a9b3c[_0x1f27dc(0x4cc)]['type']){case _0x22b6b7[_0x1f27dc(0x727)]:this[_0x1f27dc(0x557)](_0x5a9b3c[_0x1f27dc(0x54b)]),_0x1734f6['log'](_0x39fe10[_0x1f27dc(0x8b2)],_0x1f27dc(0x6d6),'\x27'+this['configs'][_0x1f27dc(0x845)][_0x1f27dc(0x519)]()+',\x20'+_0x5a9b3c[_0x1f27dc(0x54b)]+'\x27',_0x5a9b3c,_0x5a9b3c['content']);break;case _0x22b6b7[_0x1f27dc(0x909)]:this[_0x1f27dc(0x123)](_0x5a9b3c[_0x1f27dc(0x54b)]),_0x1734f6['log'](_0x39fe10[_0x1f27dc(0x8b2)],_0x1f27dc(0xa09),this[_0x1f27dc(0x9af)][_0x1f27dc(0x845)][_0x1f27dc(0x519)](),_0x5a9b3c,_0x5a9b3c[_0x1f27dc(0x4cc)]);}}[_0x14177f(0x4e8)](_0x2093fd){const _0x3e732b=_0x14177f;this[_0x3e732b(0x146)](_0x2093fd),this[_0x3e732b(0x81c)](_0x2093fd);}['notifyJoin'](_0x2088f4){const _0x29957b=_0x14177f;this[_0x29957b(0x9af)]['localNode']['answerJoin'](_0x2088f4['id']),this[_0x29957b(0x3b0)](_0x2088f4['id']),this[_0x29957b(0x711)](_0x2088f4);}[_0x14177f(0x849)](_0x14530b){const _0x529c24=_0x14177f,{id:_0x80348d,metaData:_0x4c22bf,rank:_0x98f6da,remoteConnections:_0x23867b,version:_0x5da12b}=_0x14530b,_0x37cb01=this[_0x529c24(0x29d)][_0x529c24(0x854)](_0x80348d);if(_0x37cb01){if(!(_0x5da12b<=_0x37cb01['getCurrentVersion']())){if(_0x37cb01[_0x529c24(0x6dc)](_0x23867b),_0x37cb01[_0x529c24(0x8ca)](_0x5da12b),_0x37cb01[_0x529c24(0x162)]===_0x23d754['NodeType'][_0x529c24(0x332)]&&_0x4c22bf[_0x529c24(0x162)]===_0x23d754[_0x529c24(0x9f6)][_0x529c24(0x332)]&&(_0x37cb01['setDisplayName'](_0x4c22bf[_0x529c24(0x5f4)]),_0x37cb01[_0x529c24(0x587)](_0x4c22bf['email'])),_0x98f6da&&_0x37cb01[_0x529c24(0x8f8)](_0x98f6da),this[_0x529c24(0x354)](_0x80348d,_0x98f6da),_0x37cb01[_0x529c24(0x831)]()===_0xda9ef0[_0x529c24(0xa47)])return _0x37cb01[_0x529c24(0x6f1)](_0xda9ef0[_0x529c24(0x5e8)]),this['processRank'](),void this[_0x529c24(0x81c)](_0x14530b);this[_0x529c24(0x12d)](),this['notifyClusterNodeUpdate']({'id':_0x80348d,'metaData':_0x4c22bf,'remoteConnections':_0x23867b,'version':_0x5da12b});}}else this[_0x529c24(0x4e8)](_0x14530b);}[_0x14177f(0x354)](_0x456ec6,_0x3c4f2e){const _0x21b941=_0x14177f;_0x3c4f2e&&this[_0x21b941(0xa45)][_0x21b941(0x775)](_0x456ec6)&&this[_0x21b941(0x9af)][_0x21b941(0x845)][_0x21b941(0x8f8)](_0x3c4f2e+this['ancestors'][_0x21b941(0x27a)](_0x456ec6)+0x1);}[_0x14177f(0x557)](_0xff1c11){const _0x371ee6=_0x14177f;this[_0x371ee6(0x9af)]['localNode'][_0x371ee6(0x577)](_0xff1c11);}['createRemoteNode']({id:_0x56651e,metaData:_0x1c3b09,rank:_0xb45cd5,remoteConnections:_0xb8c3f8,version:_0x5cca67}){const _0x2978f6=_0x14177f;if(this[_0x2978f6(0x29d)][_0x2978f6(0x8ff)](_0x56651e))throw new _0x2f2ea2(_0x2978f6(0x2e5)+_0x56651e);switch(_0x1c3b09[_0x2978f6(0x162)]){case _0x23d754[_0x2978f6(0x9f6)][_0x2978f6(0x332)]:const {displayName:_0x1c28dc,email:_0x48ceb5}=_0x1c3b09;this[_0x2978f6(0x29d)][_0x2978f6(0x580)](_0x56651e,new _0xd056b0(_0x56651e,_0x1c28dc,_0x48ceb5,new Set(_0xb8c3f8),_0x5cca67,_0xb45cd5));break;case _0x23d754[_0x2978f6(0x9f6)][_0x2978f6(0x4d8)]:this['graphService'][_0x2978f6(0x580)](_0x56651e,new _0x32cf69(_0x56651e,new Set(_0xb8c3f8),_0x5cca67,_0xb45cd5));}const _0x522fbe=this[_0x2978f6(0x9cc)](),_0x38b3fd=new Set(this['ancestors']);_0x522fbe[_0x2978f6(0x918)](_0x4849a1=>{const _0x4379bc=_0x2978f6;_0x38b3fd[_0x4379bc(0x85c)](_0x4849a1[_0x4379bc(0x519)]())&&_0x38b3fd[_0x4379bc(0x131)](_0x4849a1[_0x4379bc(0x519)]());}),0x0===_0x38b3fd[_0x2978f6(0x11a)]&&this[_0x2978f6(0x429)]&&(this[_0x2978f6(0x4dd)]&&clearTimeout(this[_0x2978f6(0x4dd)]),this[_0x2978f6(0x4dd)]=setTimeout(()=>{const _0x312d6b=_0x2978f6;this[_0x312d6b(0x429)]?.(!0x0),delete this['resolveReady'],delete this[_0x312d6b(0x385)];},0x7d0)),this['setLocalRank'](_0x56651e,_0xb45cd5),this['processRank']();}[_0x14177f(0x3b0)](_0x3db973){const _0x17bb00=_0x14177f;this[_0x17bb00(0x60b)][_0x17bb00(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x17bb00(0x8b2)],'content':{'type':_0x52a3af[_0x17bb00(0x838)],'id':_0x3db973}});}[_0x14177f(0x123)](_0x22df32){const _0x20f86e=_0x14177f;this[_0x20f86e(0x60b)]?.[_0x20f86e(0x95d)]({'sourceId':_0x186264,'messageType':_0x1252cb[_0x20f86e(0x8b2)],'content':{'type':_0x52a3af[_0x20f86e(0x86f)],'id':_0x22df32}});}[_0x14177f(0x9de)](_0x116bd8){const _0x51b99e=_0x14177f;if(_0x116bd8===this[_0x51b99e(0x9af)][_0x51b99e(0x845)][_0x51b99e(0x519)]())return this[_0x51b99e(0x9af)][_0x51b99e(0x47f)][_0x51b99e(0xa37)]('cluster-disconnect',{'id':_0x116bd8}),this[_0x51b99e(0x9af)]['mediator'][_0x51b99e(0x9b6)]({'force':!0x0},!0x0),this['configs'][_0x51b99e(0x47f)]['open'](),void this['configs'][_0x51b99e(0x47f)][_0x51b99e(0x3d4)]();this[_0x51b99e(0x123)](_0x116bd8);}[_0x14177f(0x57b)](_0x2c784f){const _0x17d0dc=_0x14177f;this[_0x17d0dc(0xa45)][_0x17d0dc(0x775)](_0x2c784f)?this[_0x17d0dc(0x7cb)](_0x2c784f):this[_0x17d0dc(0x9af)][_0x17d0dc(0x845)]['getRemoteConnections']()[_0x17d0dc(0x85c)](_0x2c784f)&&this[_0x17d0dc(0x371)](_0x2c784f),this['configs'][_0x17d0dc(0x845)][_0x17d0dc(0x9f9)](_0x2c784f);const _0x4a3d57=Array[_0x17d0dc(0x80f)](this[_0x17d0dc(0x1c2)][_0x17d0dc(0x623)]())['find'](([,_0x44e386])=>_0x44e386==_0x44e386);_0x4a3d57&&this['optimizationLayers'][_0x17d0dc(0x131)](_0x4a3d57[0x0]);const _0x4d997a=this[_0x17d0dc(0x29d)][_0x17d0dc(0x854)](_0x2c784f);if(!_0x4d997a)return;const _0x30a59b=_0x4d997a[_0x17d0dc(0x83d)](),_0x418753=this[_0x17d0dc(0x9af)][_0x17d0dc(0x845)][_0x17d0dc(0x83d)]();_0x418753&&_0x30a59b&&_0x30a59b<_0x418753&&this[_0x17d0dc(0x9af)]['localNode'][_0x17d0dc(0x8f8)](_0x418753-0x1,!0x1),Array[_0x17d0dc(0x80f)](this['graphService']['getRemoteNodes']()[_0x17d0dc(0x774)]())[_0x17d0dc(0x918)](_0x2c975d=>{const _0x28d0ae=_0x17d0dc,_0xcb2556=_0x2c975d[_0x28d0ae(0x83d)]();_0xcb2556&&_0x30a59b&&_0x30a59b<_0xcb2556&&_0x2c975d['setRank'](_0xcb2556-0x1);}),_0x4d997a[_0x17d0dc(0x6f1)](_0xda9ef0['Offline']),this[_0x17d0dc(0x9af)][_0x17d0dc(0x47f)]['notifyCluster'](_0x4d997a[_0x17d0dc(0x162)]+_0x17d0dc(0x2b4),{'id':_0x2c784f});}['notifyClusterNodeJoin']({id:_0x4b4963,metaData:_0x5b78cd,remoteConnections:_0x1e945a}){const _0x5de40d=_0x14177f;switch(_0x5b78cd[_0x5de40d(0x162)]){case _0x23d754['NodeType'][_0x5de40d(0x332)]:this[_0x5de40d(0x9af)][_0x5de40d(0x47f)][_0x5de40d(0xa37)]('user-join',{'id':_0x4b4963,'metaData':_0x5b78cd,'remoteConnections':_0x1e945a});break;case _0x23d754[_0x5de40d(0x9f6)][_0x5de40d(0x4d8)]:this[_0x5de40d(0x9af)][_0x5de40d(0x47f)]['notifyCluster'](_0x5de40d(0x9dd),{'id':_0x4b4963,'metaData':_0x5b78cd,'remoteConnections':_0x1e945a});}}[_0x14177f(0x843)]({id:_0x56b970,metaData:_0x57dbd2,remoteConnections:_0x59dff1}){const _0x3d59b2=_0x14177f;switch(_0x57dbd2['type']){case _0x23d754[_0x3d59b2(0x9f6)][_0x3d59b2(0x332)]:this[_0x3d59b2(0x9af)][_0x3d59b2(0x47f)][_0x3d59b2(0xa37)](_0x3d59b2(0x9e0),{'id':_0x56b970,'metaData':_0x57dbd2,'remoteConnections':_0x59dff1});break;case _0x23d754[_0x3d59b2(0x9f6)][_0x3d59b2(0x4d8)]:this['configs'][_0x3d59b2(0x47f)][_0x3d59b2(0xa37)]('agent-update',{'id':_0x56b970,'metaData':_0x57dbd2,'remoteConnections':_0x59dff1});}}[_0x14177f(0x12d)](){const _0xd474ed=_0x14177f;if(this[_0xd474ed(0x69a)]||(this[_0xd474ed(0x69a)]=Date[_0xd474ed(0x5bc)]()),this[_0xd474ed(0x32f)]){if(Date[_0xd474ed(0x5bc)]()-this[_0xd474ed(0x69a)]>0x2328)return;clearTimeout(this[_0xd474ed(0x32f)]);}this[_0xd474ed(0x32f)]=setTimeout(async()=>{const _0x128c2f=_0xd474ed;delete this[_0x128c2f(0x69a)],delete this['debounceProcessRank'];const _0x3a74a1=this['configs']['localNode'][_0x128c2f(0x83d)]();if(!_0x3a74a1)return;const _0x5cd7e6=this['graphService'][_0x128c2f(0x49c)](this[_0x128c2f(0x29d)]['getRemoteNodes']()[_0x128c2f(0x11a)]);if(this['optimizationLayers'][_0x128c2f(0x11a)]>=_0x5cd7e6)return;let _0x29731e=0x1;for(;this[_0x128c2f(0x9af)][_0x128c2f(0x47f)]['getConnections']()[_0x128c2f(0x5b7)]<this['graphService']['getMaxConnections']()&&_0x29731e<=_0x5cd7e6;){if(this['optimizationLayers'][_0x128c2f(0x85c)](_0x29731e)){_0x29731e+=0x1;continue;}const _0x26c76c=this[_0x128c2f(0x29d)][_0x128c2f(0x98f)](_0x3a74a1,_0x29731e),_0x85aeb=Array[_0x128c2f(0x80f)](this[_0x128c2f(0x29d)][_0x128c2f(0x9cc)]()[_0x128c2f(0x774)]())[_0x128c2f(0x3ee)](_0x5d3c2e=>_0x5d3c2e[_0x128c2f(0x83d)]()===_0x26c76c&&_0x5d3c2e[_0x128c2f(0x831)]()===_0xda9ef0[_0x128c2f(0x5e8)]);if(_0x85aeb){try{await this[_0x128c2f(0x9af)][_0x128c2f(0x47f)][_0x128c2f(0x8a8)](_0x85aeb[_0x128c2f(0x519)](),_0x910ac9[_0x128c2f(0x225)]),this[_0x128c2f(0x1c2)][_0x128c2f(0x525)](_0x29731e,_0x85aeb['getId']());}catch(_0x21a808){if(!(_0x21a808 instanceof _0x209e12&&_0x21a808[_0x128c2f(0x3bc)]===_0x209e12['codes'][_0x128c2f(0x441)]))throw _0x21a808;_0x1734f6['log'](_0x39fe10[_0x128c2f(0x8b2)],this[_0x128c2f(0x9af)][_0x128c2f(0x845)][_0x128c2f(0x519)](),_0x85aeb[_0x128c2f(0x519)](),_0x21a808[_0x128c2f(0x84a)]);}_0x29731e+=0x1;}else _0x29731e+=0x1;}},0x3e8);}async[_0x14177f(0x7cb)](_0x3f4998){const _0x19ede7=_0x14177f;this[_0x19ede7(0xa45)]['splice'](this['ancestors'][_0x19ede7(0x27a)](_0x3f4998),0x1);const _0x3f8f3c=await this['discoveryService'][_0x19ede7(0x1ea)]();for(const _0x1c4c5a of _0x3f8f3c)if(!this[_0x19ede7(0xa45)][_0x19ede7(0x775)](_0x1c4c5a)){const _0x3835c2=Array['from'](this[_0x19ede7(0x1c2)][_0x19ede7(0x623)]())['find'](([,_0x486998])=>_0x486998===_0x1c4c5a);_0x3835c2&&this[_0x19ede7(0x1c2)][_0x19ede7(0x131)](_0x3835c2[0x0]),this[_0x19ede7(0x9af)][_0x19ede7(0x47f)][_0x19ede7(0x8a8)](_0x1c4c5a,_0x910ac9[_0x19ede7(0x30d)]);}0x0===_0x3f8f3c[_0x19ede7(0x5b7)]&&this[_0x19ede7(0x9af)][_0x19ede7(0x845)][_0x19ede7(0x8f8)](0x1),this[_0x19ede7(0xa45)]=_0x3f8f3c;}async[_0x14177f(0x371)](_0x373ddd){const _0x575d31=_0x14177f,_0x44d547=this[_0x575d31(0x9af)]['localNode'][_0x575d31(0x83d)]();if(!_0x44d547)return;const _0xa87b9d=this[_0x575d31(0x29d)]['getRemoteNode'](_0x373ddd);if(!_0xa87b9d||_0xa87b9d[_0x575d31(0x831)]()===_0xda9ef0[_0x575d31(0xa47)])return;const _0x5e9872=_0xa87b9d[_0x575d31(0x83d)]();if(!_0x5e9872||_0x5e9872<_0x44d547)return;const _0x5a90dd=this[_0x575d31(0x1c6)](this[_0x575d31(0x9af)]['localNode'][_0x575d31(0x9c0)](),_0x44d547),_0x384c88=this[_0x575d31(0x1c6)](_0xa87b9d[_0x575d31(0x9c0)](),_0x5e9872)[_0x5a90dd[_0x575d31(0x6df)](([_0x30cd19])=>_0x30cd19===_0x373ddd)];if(!_0x384c88||this[_0x575d31(0x9af)][_0x575d31(0x845)][_0x575d31(0x9c0)]()[_0x575d31(0x85c)](_0x384c88[0x0]))return;const _0x319a0f=this[_0x575d31(0x29d)]['getRemoteNode'](_0x384c88[0x0]);if(_0x319a0f&&_0x319a0f['getStatus']()!==_0xda9ef0[_0x575d31(0xa47)])try{await this['configs'][_0x575d31(0x47f)]['createConnection'](_0x384c88[0x0],_0x910ac9[_0x575d31(0x225)]);const _0x571e73=Array['from'](this[_0x575d31(0x1c2)][_0x575d31(0x623)]())['find'](([,_0x188819])=>_0x188819===_0x373ddd);_0x571e73&&this[_0x575d31(0x1c2)]['set'](_0x571e73[0x0],_0x384c88[0x0]);}catch(_0x5eb440){if(!(_0x5eb440 instanceof _0x209e12&&_0x5eb440['code']===_0x209e12['codes'][_0x575d31(0x441)]))throw _0x5eb440;_0x1734f6[_0x575d31(0x2b0)](_0x39fe10[_0x575d31(0x8b2)],this[_0x575d31(0x9af)][_0x575d31(0x845)][_0x575d31(0x519)](),_0x384c88[0x0],_0x5eb440['message']);}}['getOutgoingOptimizationConnections'](_0x562251,_0x233150){const _0x577749=_0x14177f;return Array[_0x577749(0x80f)](_0x562251)[_0x577749(0x50f)]((_0x5a0d96,_0x419eca)=>{const _0x1f01c5=_0x577749,_0x57c43e=this['graphService'][_0x1f01c5(0x854)](_0x419eca);if(!_0x57c43e||_0x57c43e[_0x1f01c5(0x831)]()===_0xda9ef0[_0x1f01c5(0xa47)])return _0x5a0d96;const _0x3b3c59=_0x57c43e[_0x1f01c5(0x83d)]();if(!_0x3b3c59)return _0x5a0d96;const _0x342cf1=_0x3b3c59-_0x233150;return _0x342cf1<=this[_0x1f01c5(0x29d)][_0x1f01c5(0x177)]()||_0x5a0d96[_0x1f01c5(0x993)]([_0x419eca,_0x342cf1]),_0x5a0d96;},[])[_0x577749(0x119)](([,_0x471e53],[,_0x5674a7])=>_0x471e53-_0x5674a7);}}const _0x14d78b=[{'problemType':_0x5e022c['CPUCycle'],'remediations':[{'type':_0x4246b1[_0x14177f(0x9d7)],'component':_0x436d2d[_0x14177f(0x469)],'action':_0x26cd67[_0x14177f(0x853)]},{'type':_0x4246b1[_0x14177f(0x922)],'component':_0x436d2d[_0x14177f(0x469)],'action':_0x26cd67[_0x14177f(0x853)]}]},{'problemType':_0x5e022c[_0x14177f(0x6a6)],'remediations':[{'type':_0x4246b1[_0x14177f(0x9d7)],'component':_0x436d2d[_0x14177f(0x469)],'action':_0x26cd67[_0x14177f(0x853)]}]},{'problemType':_0x5e022c[_0x14177f(0x654)],'remediations':[{'type':_0x4246b1['Remediation'],'component':_0x436d2d[_0x14177f(0x469)],'action':_0x26cd67[_0x14177f(0x853)]}]},{'problemType':_0x5e022c[_0x14177f(0x2d8)],'remediations':[{'type':_0x4246b1['Remediation'],'component':_0x436d2d[_0x14177f(0x469)],'action':_0x26cd67[_0x14177f(0x853)]}]},{'problemType':_0x5e022c['Bitrate'],'remediations':[{'type':_0x4246b1[_0x14177f(0x9d7)],'component':_0x436d2d['Bitrate'],'action':_0x26cd67[_0x14177f(0x853)]}]},{'problemType':_0x5e022c[_0x14177f(0x2ec)],'remediations':[{'type':_0x4246b1[_0x14177f(0x9d7)],'component':_0x436d2d['Bitrate'],'action':_0x26cd67[_0x14177f(0x853)]}]},{'problemType':_0x5e022c['RoundTripTime'],'remediations':[{'type':_0x4246b1[_0x14177f(0x9d7)],'component':_0x436d2d['Bitrate'],'action':_0x26cd67[_0x14177f(0x853)]}]}];class _0x555a24{['configs'];['systemTopic'];[_0x14177f(0x6c0)]=new Map();constructor(_0xfda8d8){const _0xa2b7a1=_0x14177f;this[_0xa2b7a1(0x9af)]=_0xfda8d8,this['configs']['mediator'][_0xa2b7a1(0x300)](this);}[_0x14177f(0x9b6)](){const _0x4fc146=_0x14177f;this[_0x4fc146(0x9af)]['mediator']['unregisterSystemSource'](this);}[_0x14177f(0x8d0)](_0x441080){const _0x2eb8d5=_0x14177f;this[_0x2eb8d5(0x60b)]=_0x441080;}['unregisterSystemPublisher'](){const _0x250ef2=_0x14177f;delete this[_0x250ef2(0x60b)];}[_0x14177f(0x93e)](_0x302564){const _0x41229b=_0x14177f;_0x302564['content'][_0x41229b(0x162)]===_0x3ef495['Problem']&&this['handleProblem'](_0x302564[_0x41229b(0x4cc)][_0x41229b(0x84f)]);}['handleRemediationSystemEvents'](_0x4e1d67){const _0x4fe53c=_0x14177f;_0x4e1d67[_0x4fe53c(0x4cc)][_0x4fe53c(0x162)]===_0x4246b1['RemoteRemediation']&&this[_0x4fe53c(0xa32)](_0x4e1d67[_0x4fe53c(0x54b)],{'type':_0x4246b1[_0x4fe53c(0x9d7)],'component':_0x4e1d67[_0x4fe53c(0x4cc)][_0x4fe53c(0x84f)]['component'],'action':_0x4e1d67[_0x4fe53c(0x4cc)][_0x4fe53c(0x84f)]['action']});}[_0x14177f(0x7bf)](_0x3a39b0){const _0x21b4d4=_0x14177f,_0xc3cb=_0x14d78b[_0x21b4d4(0x3ee)](_0x3a0d6c=>_0x3a0d6c[_0x21b4d4(0x9b4)]===_0x3a39b0['type']);_0xc3cb[_0x21b4d4(0x42e)]?.[_0x21b4d4(0x918)](_0x2f2db0=>{const _0x259821=_0x21b4d4;this['applyRemediation'](_0x3a39b0['nodeId'],{'type':_0x3a39b0[_0x259821(0x94c)]===_0x210534[_0x259821(0x378)]?_0x4246b1[_0x259821(0x9d7)]:_0x4246b1[_0x259821(0x922)],'component':_0x2f2db0[_0x259821(0x9ca)],'action':_0x2f2db0[_0x259821(0x37e)]});});}[_0x14177f(0xa32)](_0x1d9aa6,_0x27dbbf){const _0x53b770=_0x14177f;if(_0x27dbbf[_0x53b770(0x162)]===_0x4246b1[_0x53b770(0x9d7)]){const _0x6185ad=Date['now'](),_0x4ef856=this[_0x53b770(0x6c0)][_0x53b770(0x9ba)](_0x1d9aa6);if(_0x4ef856&&_0x6185ad-_0x4ef856<0x1388)return;this[_0x53b770(0x6c0)][_0x53b770(0x525)](_0x1d9aa6,_0x6185ad);}_0x1734f6[_0x53b770(0x2b0)](_0x39fe10[_0x53b770(0x9d7)],_0x53b770(0x411),_0x27dbbf),_0x1734f6['logEvent'](_0x53b770(0x4a6),{'clusterId':this[_0x53b770(0x9af)]['clusterId'],'nodeId':this[_0x53b770(0x9af)][_0x53b770(0x845)][_0x53b770(0x519)](),'nodeType':this[_0x53b770(0x9af)][_0x53b770(0x845)]['type'],'remoteId':_0x1d9aa6,'data':{'type':_0x27dbbf['type'],'component':_0x27dbbf[_0x53b770(0x9ca)],'action':_0x27dbbf['action']}});let _0x2dbef2,_0x16e132=_0x186264;_0x27dbbf[_0x53b770(0x162)]===_0x4246b1['RemoteRemediation']&&(_0x16e132=this[_0x53b770(0x9af)]['localNode'][_0x53b770(0x519)](),_0x2dbef2=[_0x1d9aa6]),this[_0x53b770(0x60b)]['publish']({'sourceId':_0x16e132,'destinationIds':_0x2dbef2,'messageType':_0x1252cb[_0x53b770(0x9d7)],'content':{'type':_0x27dbbf[_0x53b770(0x162)],'targetId':_0x1d9aa6,'data':_0x27dbbf}});}}const _0x494073=0x3e8,_0x43aa49=0x7530,_0x24ae02=_0x14177f(0x8c7),_0x1c1435=_0x14177f(0x229),_0x513995='inbound-rtp',_0x1cac27=[_0x24ae02,_0x1c1435],_0x190526=[_0x513995];class _0x4fed63{[_0x14177f(0x220)]=0x0;['estimatedPlayoutTimestamp']=0x0;['jitter']=0x0;[_0x14177f(0x879)]=0x0;['packets']=0x0;[_0x14177f(0x7ac)]=0x0;[_0x14177f(0x228)]=0x0;['currentBytes']=0x0;['previousBytes']=0x0;get['bitrate'](){const _0x8ebebf=_0x14177f;return this['currentTimestamp']>0x0&&this['previousTimestamp']>0x0&&Date[_0x8ebebf(0x5bc)]()-this['currentTimestamp']<_0x43aa49?(this[_0x8ebebf(0x4c2)]-this[_0x8ebebf(0x71a)])/(this['currentTimestamp']-this[_0x8ebebf(0x228)])*0x8*0x3e8:0x0;}[_0x14177f(0x3b8)](_0x215ca8){const _0x2c2eea=_0x14177f;switch(_0x215ca8[_0x2c2eea(0x162)]){case _0x513995:this[_0x2c2eea(0x276)](_0x215ca8);break;case _0x24ae02:this[_0x2c2eea(0x728)](_0x215ca8);break;case _0x1c1435:this[_0x2c2eea(0x4d0)](_0x215ca8);}}[_0x14177f(0x425)](){const _0x252014=_0x14177f;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x252014(0x4ed)](),'roundTripTime':this[_0x252014(0x220)],'jitter':this[_0x252014(0x366)]};}['processInboundReport'](_0x17b6bd){const _0x20550e=_0x14177f;this[_0x20550e(0x405)](_0x17b6bd[_0x20550e(0x862)]),this[_0x20550e(0x8ed)](_0x17b6bd[_0x20550e(0x9c9)]),this[_0x20550e(0x7de)]=_0x17b6bd['packetsReceived'],this['packetsLost']=_0x17b6bd[_0x20550e(0x879)],void 0x0!==_0x17b6bd[_0x20550e(0x366)]?this[_0x20550e(0x366)]=_0x17b6bd['jitter']:this[_0x20550e(0x366)]=0x0,void 0x0!==_0x17b6bd[_0x20550e(0x16f)]?this[_0x20550e(0x16f)]=_0x17b6bd['estimatedPlayoutTimestamp']:this['estimatedPlayoutTimestamp']=0x0;}[_0x14177f(0x728)](_0x52d000){const _0x5b54b1=_0x14177f;this[_0x5b54b1(0x405)](_0x52d000[_0x5b54b1(0x489)]),this[_0x5b54b1(0x8ed)](_0x52d000['timestamp']),this[_0x5b54b1(0x7de)]=_0x52d000[_0x5b54b1(0x147)];}['processRemoteInboundReport'](_0x43fdcb){const _0x32d575=_0x14177f;this[_0x32d575(0x220)]=0x3e8*_0x43fdcb[_0x32d575(0x220)],void 0x0!==_0x43fdcb[_0x32d575(0x366)]?this[_0x32d575(0x366)]=_0x43fdcb['jitter']:this['jitter']=0x0;}[_0x14177f(0x4ed)](){const _0x11b611=_0x14177f;return this['packets']>0x0?this[_0x11b611(0x879)]/this[_0x11b611(0x7de)]:0x0;}[_0x14177f(0x8ed)](_0x24e84f){const _0x5c40a6=_0x14177f;_0x24e84f>this[_0x5c40a6(0x7ac)]&&(this[_0x5c40a6(0x228)]=this[_0x5c40a6(0x7ac)],this[_0x5c40a6(0x7ac)]=_0x24e84f);}[_0x14177f(0x405)](_0x324862){const _0x310981=_0x14177f;this['previousBytes']=this['currentBytes'],this[_0x310981(0x4c2)]=_0x324862;}}class _0x109d22 extends _0x4fed63{}class _0x1c464b extends _0x4fed63{[_0x14177f(0x6a7)]=0x0;[_0x14177f(0x37d)]=0x0;[_0x14177f(0x823)]=0x0;[_0x14177f(0x6ea)]=0x0;['previousFrames']=0x0;get[_0x14177f(0x6e8)](){const _0x3692e5=_0x14177f;return this[_0x3692e5(0x7ac)]>0x0&&this[_0x3692e5(0x228)]>0x0&&Date[_0x3692e5(0x5bc)]()-this[_0x3692e5(0x7ac)]<_0x43aa49?(this[_0x3692e5(0x6ea)]-this[_0x3692e5(0x4a4)])/(this[_0x3692e5(0x7ac)]-this[_0x3692e5(0x228)])*0x3e8:0x0;}get['timePerFrame'](){const _0x45c199=_0x14177f;return this[_0x45c199(0x6a7)]&&this[_0x45c199(0x6ea)]&&this[_0x45c199(0x6ea)]>0x0?this[_0x45c199(0x6a7)]/this[_0x45c199(0x6ea)]:0x0;}set[_0x14177f(0xa28)](_0x3fa711){const _0xe3e454=_0x14177f;this[_0xe3e454(0x4a4)]=this['currentFrames'],this[_0xe3e454(0x6ea)]=_0x3fa711;}['getReport'](){const _0x83f9d8=_0x14177f;return{...super['getReport'](),'FPS':this[_0x83f9d8(0x6e8)],'timePerFrame':this[_0x83f9d8(0x440)],'frameWidth':this['frameWidth'],'frameHeight':this[_0x83f9d8(0x823)]};}[_0x14177f(0x276)](_0x436c4c){const _0x329844=_0x14177f;super[_0x329844(0x276)](_0x436c4c),this[_0x329844(0x6a7)]=_0x436c4c['totalDecodeTime'],this[_0x329844(0xa28)]=_0x436c4c[_0x329844(0x8af)],this[_0x329844(0x37d)]=_0x436c4c['frameWidth'],this['frameHeight']=_0x436c4c['frameHeight'];}[_0x14177f(0x728)](_0x252b99){const _0x372b82=_0x14177f;super['processOutboundReport'](_0x252b99),this[_0x372b82(0x6a7)]=_0x252b99[_0x372b82(0x89f)],this[_0x372b82(0xa28)]=_0x252b99[_0x372b82(0x7c1)],this[_0x372b82(0x37d)]=_0x252b99[_0x372b82(0x37d)],this[_0x372b82(0x823)]=_0x252b99[_0x372b82(0x823)];}}class _0x12fd8e{[_0x14177f(0x7b2)]=new _0x109d22();['video']=new _0x1c464b();get[_0x14177f(0x412)](){const _0x144c56=_0x14177f;return this['audio']['bitrate']+this[_0x144c56(0xa15)]['bitrate'];}['processReports'](_0xb65345){const _0x290c8d=_0x14177f;return _0xb65345[_0x290c8d(0x918)](_0x21d97d=>{const _0x31da32=_0x290c8d;switch(_0x21d97d[_0x31da32(0xa3c)]){case'audio':this[_0x31da32(0x7b2)][_0x31da32(0x3b8)](_0x21d97d);break;case _0x31da32(0xa15):this[_0x31da32(0xa15)][_0x31da32(0x3b8)](_0x21d97d);}}),this[_0x290c8d(0x425)]();}[_0x14177f(0x425)](){const _0x540dc7=_0x14177f;return{'audio':this[_0x540dc7(0x7b2)][_0x540dc7(0x425)](),'video':this[_0x540dc7(0xa15)]['getReport'](),'roundTripTime':this[_0x540dc7(0x110)](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this[_0x540dc7(0x412)]};}['getRoundTripTime'](){const _0x3d814a=_0x14177f;return Math[_0x3d814a(0x633)]((this[_0x3d814a(0x7b2)][_0x3d814a(0x220)]+this[_0x3d814a(0xa15)]['roundTripTime'])/0x2);}['getAudioVideoDelay'](){const _0x127af6=_0x14177f;return this['audio'][_0x127af6(0x16f)]-this['video'][_0x127af6(0x16f)];}}class _0x5a4a91{[_0x14177f(0x460)]=0x0;['senderPreviousTimestamp']=0x0;[_0x14177f(0x760)]=0x0;['receiverPreviousTimestamp']=0x0;[_0x14177f(0x783)]=0x0;[_0x14177f(0x22a)]=0x0;[_0x14177f(0x9bf)]=0x0;['receiverPreviousBytes']=0x0;[_0x14177f(0x436)]=0x0;[_0x14177f(0x4b5)]=0x0;[_0x14177f(0x223)]=0x0;['receiverTimeProcessing']=0x0;['roundTripTime']=0x0;get['bitrate'](){const _0x5ef6b8=_0x14177f;return this[_0x5ef6b8(0x9a7)]+this['receiverBitrate'];}get[_0x14177f(0x9a7)](){const _0x24b564=_0x14177f;return this[_0x24b564(0x460)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date['now']()-this[_0x24b564(0x460)]<_0x43aa49?(this[_0x24b564(0x783)]-this[_0x24b564(0x22a)])/(this[_0x24b564(0x460)]-this[_0x24b564(0x7c3)])*0x8*0x3e8:0x0;}get[_0x14177f(0x965)](){const _0x3bed4a=_0x14177f;return this[_0x3bed4a(0x760)]>0x0&&this[_0x3bed4a(0x84e)]>0x0&&Date[_0x3bed4a(0x5bc)]()-this['receiverCurrentTimestamp']<_0x43aa49?(this[_0x3bed4a(0x9bf)]-this[_0x3bed4a(0x86d)])/(this['receiverCurrentTimestamp']-this[_0x3bed4a(0x84e)])*0x8*0x3e8:0x0;}[_0x14177f(0x3b8)](_0x2ad4b8){const _0x1d8e51=_0x14177f;switch(_0x2ad4b8[_0x1d8e51(0x94c)]){case _0x210534[_0x1d8e51(0x378)]:this[_0x1d8e51(0x280)](_0x2ad4b8);break;case _0x210534['Receiver']:this[_0x1d8e51(0x6e2)](_0x2ad4b8);}}[_0x14177f(0x425)](){const _0x2ce615=_0x14177f;return{'bitrate':this[_0x2ce615(0x412)],'senderBitrate':this[_0x2ce615(0x9a7)],'receiverBitrate':this[_0x2ce615(0x965)],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this[_0x2ce615(0x72e)](),'receiverTotalBytes':this[_0x2ce615(0x380)](),'totalMessages':this[_0x2ce615(0x436)]+this['receiverTotalMessages'],'senderTotalMessages':this[_0x2ce615(0x436)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0x2ce615(0x223)]+this[_0x2ce615(0x796)],'senderTimeProcessing':this[_0x2ce615(0x223)],'receiverTimeProcessing':this[_0x2ce615(0x796)],'roundTripTime':this['roundTripTime']};}[_0x14177f(0x79f)](){const _0x244d80=_0x14177f;return this[_0x244d80(0x783)]+this[_0x244d80(0x9bf)];}[_0x14177f(0x72e)](){return this['senderCurrentBytes'];}['getReceiverTotalBytes'](){const _0x2bf4d8=_0x14177f;return this[_0x2bf4d8(0x9bf)];}['processSenderReport'](_0x17ebfe){const _0x3737e3=_0x14177f;this[_0x3737e3(0x4c8)](_0x17ebfe[_0x3737e3(0x9c9)]),this[_0x3737e3(0x405)](_0x17ebfe[_0x3737e3(0x489)]),this[_0x3737e3(0x436)]=_0x17ebfe[_0x3737e3(0x675)],this['senderTimeProcessing']=_0x17ebfe['timeSending'],this[_0x3737e3(0x220)]=_0x17ebfe[_0x3737e3(0x220)];}['processReceiverReport'](_0x442c90){const _0x1a4fd2=_0x14177f;this[_0x1a4fd2(0x55b)](_0x442c90['timestamp']),this[_0x1a4fd2(0x124)](_0x442c90[_0x1a4fd2(0x862)]),this['receiverTotalMessages']=_0x442c90[_0x1a4fd2(0x4d4)],this['receiverTimeProcessing']=_0x442c90[_0x1a4fd2(0x822)];}[_0x14177f(0x4c8)](_0x50ecb9){const _0x4ed90d=_0x14177f;_0x50ecb9>this[_0x4ed90d(0x460)]&&(this['senderPreviousTimestamp']=this[_0x4ed90d(0x460)],this[_0x4ed90d(0x460)]=_0x50ecb9);}[_0x14177f(0x55b)](_0x1e673a){const _0x446b62=_0x14177f;_0x1e673a>this[_0x446b62(0x760)]&&(this['receiverPreviousTimestamp']=this[_0x446b62(0x760)],this[_0x446b62(0x760)]=_0x1e673a);}[_0x14177f(0x405)](_0x4e43a4){this['senderPreviousBytes']=this['senderCurrentBytes'],this['senderCurrentBytes']=_0x4e43a4;}[_0x14177f(0x124)](_0x2b89aa){const _0xda4265=_0x14177f;this['receiverPreviousBytes']=this[_0xda4265(0x9bf)],this[_0xda4265(0x9bf)]=_0x2b89aa;}}class _0xc1e4c{[_0x14177f(0x1d9)]=new Map();['receiverStreams']=new Map();['dataChannel']=new _0x5a4a91();get[_0x14177f(0x9a7)](){const _0x3c589d=_0x14177f;let _0x187e0f=0x0;return this[_0x3c589d(0x1d9)][_0x3c589d(0x918)](_0x33edb8=>{const _0x5cd63b=_0x3c589d;_0x187e0f+=_0x33edb8[_0x5cd63b(0x412)];}),_0x187e0f+=this[_0x3c589d(0x452)][_0x3c589d(0x9a7)],_0x187e0f;}get[_0x14177f(0x965)](){const _0x4639b6=_0x14177f;let _0x5904b2=0x0;return this[_0x4639b6(0x7c2)][_0x4639b6(0x918)](_0x58e0aa=>{const _0x3283ae=_0x4639b6;_0x5904b2+=_0x58e0aa[_0x3283ae(0x412)];}),_0x5904b2+=this[_0x4639b6(0x452)]['receiverBitrate'],_0x5904b2;}get[_0x14177f(0x412)](){const _0x12a20f=_0x14177f;return this[_0x12a20f(0x9a7)]+this['receiverBitrate'];}[_0x14177f(0x92d)](_0x368b92,_0x467881){const _0x50c4ea=_0x14177f,_0x1de441=[],_0x2e8655=[];return _0x368b92 instanceof Array?_0x368b92[_0x50c4ea(0x918)](_0x2e7347=>{const _0x231d2a=_0x50c4ea;_0x2e7347[_0x231d2a(0x918)](_0x7bb412=>{const _0x193fcb=_0x231d2a;_0x190526[_0x193fcb(0x775)](_0x7bb412[_0x193fcb(0x162)])&&_0x1de441['push'](_0x7bb412),_0x1cac27[_0x193fcb(0x775)](_0x7bb412[_0x193fcb(0x162)])&&_0x2e8655['push'](_0x7bb412);});}):this[_0x50c4ea(0x452)][_0x50c4ea(0x3b8)](_0x368b92),_0x1de441[_0x50c4ea(0x5b7)]>0x0&&_0x467881?{...this[_0x50c4ea(0x757)](_0x467881,_0x1de441),'origin':_0x210534[_0x50c4ea(0x125)],'streamId':_0x467881}:_0x2e8655['length']>0x0&&_0x467881?{...this[_0x50c4ea(0x471)](_0x467881,_0x2e8655),'origin':_0x210534[_0x50c4ea(0x378)],'streamId':_0x467881}:void 0x0;}[_0x14177f(0x425)](){const _0x1f3d19=_0x14177f,_0x10e826={};this['senderStreams']['forEach']((_0x133bc0,_0x132de5)=>{const _0x53fbd1=a0_0x50bd;_0x10e826[_0x132de5]=_0x133bc0[_0x53fbd1(0x425)]();});const _0x3cedd3={};return this[_0x1f3d19(0x7c2)][_0x1f3d19(0x918)]((_0xa6f6e4,_0x15bb60)=>{const _0x41d706=_0x1f3d19;_0x3cedd3[_0x15bb60]=_0xa6f6e4[_0x41d706(0x425)]();}),{'bitrate':this[_0x1f3d19(0x412)],'senderBitrate':this[_0x1f3d19(0x9a7)],'receiverBitrate':this[_0x1f3d19(0x965)],'senderStreams':_0x10e826,'receiverStreams':_0x3cedd3,'dataChannel':this[_0x1f3d19(0x452)][_0x1f3d19(0x425)]()};}[_0x14177f(0x757)](_0x4c5b60,_0xeee399){const _0x8c07e8=_0x14177f;return this[_0x8c07e8(0x7c2)][_0x8c07e8(0x85c)](_0x4c5b60)||this[_0x8c07e8(0x7c2)][_0x8c07e8(0x525)](_0x4c5b60,new _0x12fd8e()),this[_0x8c07e8(0x7c2)][_0x8c07e8(0x9ba)](_0x4c5b60)[_0x8c07e8(0x92d)](_0xeee399);}['processOutboundReports'](_0x40028f,_0x51458b){const _0xe9b71b=_0x14177f;return this[_0xe9b71b(0x1d9)][_0xe9b71b(0x85c)](_0x40028f)||this['senderStreams'][_0xe9b71b(0x525)](_0x40028f,new _0x12fd8e()),this[_0xe9b71b(0x1d9)][_0xe9b71b(0x9ba)](_0x40028f)['processReports'](_0x51458b);}}class _0x48f962{[_0x14177f(0x50c)]=new Map();['scheduleTime']=0x0;['durationTime']=0x0;[_0x14177f(0x568)]=new Map();[_0x14177f(0x731)]=new Map();['keyValueDatabases']=new Map();[_0x14177f(0x4b3)]=new Map();[_0x14177f(0x91b)]=new Map();[_0x14177f(0x20f)]=new Map();[_0x14177f(0x847)]=new Map();[_0x14177f(0x419)]=new Map();['senderTotalMessages']=new Map();[_0x14177f(0x4b5)]=new Map();[_0x14177f(0x223)]=new Map();[_0x14177f(0x796)]=new Map();[_0x14177f(0x7b7)]=new Map();[_0x14177f(0x60b)];[_0x14177f(0x425)](){const _0x548c61=_0x14177f,_0x551eee={};this[_0x548c61(0x50c)][_0x548c61(0x918)]((_0x281286,_0x3e5d8b)=>{_0x551eee[_0x3e5d8b]=_0x281286['getReport']();});let _0xb1c735=0x0;this[_0x548c61(0x223)]['forEach'](_0x5dfaaf=>{_0xb1c735+=_0x5dfaaf;});let _0x394b88=0x0;this[_0x548c61(0x796)]['forEach'](_0x29c022=>{_0x394b88+=_0x29c022;});const _0xaa105c=_0xb1c735+_0x394b88;let _0x337478={'messages':{'total':0x0}};this[_0x548c61(0x7b7)][_0x548c61(0x918)](_0x5ebb58=>{Object['keys'](_0x5ebb58)['forEach'](_0x469c77=>{const _0x264af1=a0_0x50bd;_0x337478[_0x469c77]||(_0x337478[_0x469c77]={}),Object[_0x264af1(0x770)](_0x5ebb58[_0x469c77])[_0x264af1(0x918)](_0x177013=>{_0x337478[_0x469c77][_0x177013]||(_0x337478[_0x469c77][_0x177013]=0x0),_0x337478[_0x469c77][_0x177013]+=_0x5ebb58[_0x469c77][_0x177013];});});});let _0x321fcf=0x0,_0x234a79=0x0,_0x45ea6e=0x0,_0x568f11=0x0,_0x56e8fe=0x0;return this[_0x548c61(0x568)][_0x548c61(0x918)](_0x42fafa=>{const _0x42e1c6=_0x548c61;_0x234a79+=_0x42fafa['messagesSent'],_0x45ea6e+=_0x42fafa['messagesReceived'],_0x568f11+=_0x42fafa['bytesSent'],_0x56e8fe+=_0x42fafa[_0x42e1c6(0x862)];}),this[_0x548c61(0x731)][_0x548c61(0x918)](_0x4c7d84=>{const _0x5df780=_0x548c61;_0x321fcf+=_0x4c7d84[_0x5df780(0x5e2)],_0x234a79+=_0x4c7d84['messagesSent'],_0x45ea6e+=_0x4c7d84[_0x5df780(0x4d4)],_0x568f11+=_0x4c7d84[_0x5df780(0x489)],_0x56e8fe+=_0x4c7d84[_0x5df780(0x862)];}),this[_0x548c61(0x7d6)]['forEach'](_0x3b056b=>{const _0x2aa712=_0x548c61;_0x321fcf+=_0x3b056b[_0x2aa712(0x5e2)],_0x234a79+=_0x3b056b[_0x2aa712(0x675)],_0x45ea6e+=_0x3b056b[_0x2aa712(0x4d4)],_0x568f11+=_0x3b056b['bytesSent'],_0x56e8fe+=_0x3b056b[_0x2aa712(0x862)];}),this['generativeAIContexts'][_0x548c61(0x918)](_0x25e241=>{const _0x2cdfa5=_0x548c61;_0x321fcf+=_0x25e241[_0x2cdfa5(0x5e2)],_0x234a79+=_0x25e241[_0x2cdfa5(0x675)],_0x45ea6e+=_0x25e241[_0x2cdfa5(0x4d4)],_0x568f11+=_0x25e241['bytesSent'],_0x56e8fe+=_0x25e241[_0x2cdfa5(0x862)];}),this[_0x548c61(0x91b)][_0x548c61(0x918)](_0x171ad2=>{const _0x129aa7=_0x548c61;_0x321fcf+=_0x171ad2['storage'],_0x234a79+=_0x171ad2[_0x129aa7(0x675)],_0x45ea6e+=_0x171ad2[_0x129aa7(0x4d4)],_0x568f11+=_0x171ad2[_0x129aa7(0x489)],_0x56e8fe+=_0x171ad2['bytesReceived'];}),this[_0x548c61(0x20f)]['forEach'](_0x1e8416=>{const _0x22a2c6=_0x548c61;_0x321fcf+=_0x1e8416[_0x22a2c6(0x5e2)],_0x234a79+=_0x1e8416[_0x22a2c6(0x675)],_0x45ea6e+=_0x1e8416[_0x22a2c6(0x4d4)],_0x568f11+=_0x1e8416[_0x22a2c6(0x489)],_0x56e8fe+=_0x1e8416['bytesReceived'];}),this[_0x548c61(0x847)]['forEach'](_0x3fc969=>{const _0x3dcf1f=_0x548c61;_0x321fcf+=_0x3fc969[_0x3dcf1f(0x5e2)],_0x234a79+=_0x3fc969['messagesSent'],_0x45ea6e+=_0x3fc969[_0x3dcf1f(0x4d4)],_0x568f11+=_0x3fc969[_0x3dcf1f(0x489)],_0x56e8fe+=_0x3fc969[_0x3dcf1f(0x862)];}),{'STVolatility':this[_0x548c61(0x6d7)](),'DTVolatility':this['getDTVolatility'](),'bitrate':this[_0x548c61(0x42f)](),'senderBitrate':this[_0x548c61(0x90d)](),'receiverBitrate':this[_0x548c61(0x22c)](),'totalStorageSize':_0x321fcf,'totalMessages':_0x234a79+_0x45ea6e,'totalMessagesSent':_0x234a79,'totalMessagesReceived':_0x45ea6e,'totalBytes':_0x568f11+_0x56e8fe,'totalBytesSent':_0x568f11,'totalBytesReceived':_0x56e8fe,'systemMessages':_0x337478,'timeProcessing':_0xaa105c,'nodes':_0x551eee,'pubsubTopics':Object['fromEntries'](this[_0x548c61(0x568)]),'objectStores':Object[_0x548c61(0x4dc)](this[_0x548c61(0x731)]),'keyValueDatabases':Object[_0x548c61(0x4dc)](this[_0x548c61(0x7d6)]),'generativeAIContexts':Object['fromEntries'](this[_0x548c61(0x4b3)]),'generativeAIWorkers':Object[_0x548c61(0x4dc)](this['generativeAIWorkers']),'vectorDatabases':Object[_0x548c61(0x4dc)](this[_0x548c61(0x20f)]),'graphDatabases':Object[_0x548c61(0x4dc)](this[_0x548c61(0x847)]),'externalStorages':Object[_0x548c61(0x4dc)](this[_0x548c61(0x419)])};}[_0x14177f(0x3c0)](_0x4695a8){const _0x13a04d=_0x14177f;this[_0x13a04d(0x50c)][_0x13a04d(0x525)](_0x4695a8,new _0xc1e4c());}[_0x14177f(0x477)](_0x3fe475){const _0x30f19d=_0x14177f;this[_0x30f19d(0x50c)][_0x30f19d(0x131)](_0x3fe475);}['processReports'](_0x343f72,_0x3eed22,_0x5cc61f){const _0x5a9f26=_0x14177f;_0x3eed22 instanceof Array||this[_0x5a9f26(0x44f)](_0x343f72,_0x3eed22);const _0x1fac61=this[_0x5a9f26(0x50c)]['get'](_0x343f72)?.[_0x5a9f26(0x92d)](_0x3eed22,_0x5cc61f);_0x1fac61&&this[_0x5a9f26(0x60b)]['publish']({'sourceId':_0x186264,'messageType':_0x1252cb[_0x5a9f26(0x318)],'content':{'type':_0x597329[_0x5a9f26(0x883)],'data':{..._0x1fac61,'nodeId':_0x343f72}}});}[_0x14177f(0x3f3)](_0x23b8a3){const _0x545861=_0x14177f;this[_0x545861(0x1c5)](_0x23b8a3['secheduleTime']),this[_0x545861(0x494)](_0x23b8a3[_0x545861(0x104)]),this[_0x545861(0x60b)]['publish']({'sourceId':_0x186264,'messageType':_0x1252cb['Stats'],'content':{'type':_0x597329[_0x545861(0x535)],'data':{'STVolatility':this[_0x545861(0x6d7)](),'DTVolatility':this[_0x545861(0x2be)]()}}});}[_0x14177f(0x803)](_0x5ebec7,_0x4d6214,_0x36938e){const _0x3bf874=_0x14177f;switch(_0x4d6214){case _0x2c4847['PubSubTopicStats']:this[_0x3bf874(0x568)]['set'](_0x5ebec7,_0x36938e);break;case _0x2c4847['ObjectStoreStats']:this[_0x3bf874(0x731)][_0x3bf874(0x525)](_0x5ebec7,_0x36938e);break;case _0x2c4847[_0x3bf874(0x33e)]:this[_0x3bf874(0x7d6)][_0x3bf874(0x525)](_0x5ebec7,_0x36938e);break;case _0x2c4847['GenerativeAIContextStats']:this[_0x3bf874(0x4b3)][_0x3bf874(0x525)](_0x5ebec7,_0x36938e);break;case _0x2c4847[_0x3bf874(0x49d)]:this[_0x3bf874(0x91b)][_0x3bf874(0x525)](_0x5ebec7,_0x36938e);break;case _0x2c4847[_0x3bf874(0x56e)]:this[_0x3bf874(0x20f)]['set'](_0x5ebec7,_0x36938e);break;case _0x2c4847[_0x3bf874(0x3d7)]:this['graphDatabases'][_0x3bf874(0x525)](_0x5ebec7,_0x36938e);break;case _0x2c4847[_0x3bf874(0x46f)]:this['externalStorages'][_0x3bf874(0x525)](_0x5ebec7,_0x36938e);}}[_0x14177f(0x8d0)](_0x2968f0){const _0x4731b1=_0x14177f;this[_0x4731b1(0x60b)]=_0x2968f0;}['unregisterSystemPublisher'](){const _0x3d5f27=_0x14177f;delete this[_0x3d5f27(0x60b)];}[_0x14177f(0x6d7)](){const _0x27ed4b=_0x14177f;return this[_0x27ed4b(0x363)]>0x0&&this['scheduleTime']-_0x494073>0x0?(this[_0x27ed4b(0x363)]-_0x494073)/_0x494073:0x0;}['getDTVolatility'](){const _0x5bf086=_0x14177f;return this[_0x5bf086(0x104)]>0x0&&this[_0x5bf086(0x104)]-0x64>0x0?(this[_0x5bf086(0x104)]-0x64)/0x64:0x0;}[_0x14177f(0x90d)](){const _0x113e32=_0x14177f;let _0x274fd0=0x0;return this['nodes'][_0x113e32(0x918)](_0x1a66b1=>{const _0x39a312=_0x113e32;_0x274fd0+=_0x1a66b1[_0x39a312(0x9a7)];}),_0x274fd0;}[_0x14177f(0x22c)](){const _0x58f74d=_0x14177f;let _0x15d12d=0x0;return this[_0x58f74d(0x50c)][_0x58f74d(0x918)](_0x4ab487=>{const _0x1a9569=_0x58f74d;_0x15d12d+=_0x4ab487[_0x1a9569(0x965)];}),_0x15d12d;}[_0x14177f(0x42f)](){let _0x261978=0x0;return this['nodes']['forEach'](_0x23efa4=>{const _0x7079b0=a0_0x50bd;_0x261978+=_0x23efa4[_0x7079b0(0x412)];}),_0x261978;}[_0x14177f(0x1c5)](_0x4d5ddf){const _0xffc2c=_0x14177f;this[_0xffc2c(0x363)]=_0x4d5ddf;}['setDurationTime'](_0xb5966d){const _0xf145d=_0x14177f;this[_0xf145d(0x104)]=_0xb5966d;}['processDataChannelReport'](_0x3992ae,_0x25509e){const _0x1f2363=_0x14177f;switch(_0x25509e[_0x1f2363(0x94c)]){case _0x210534[_0x1f2363(0x378)]:this[_0x1f2363(0x280)](_0x3992ae,_0x25509e);break;case _0x210534[_0x1f2363(0x125)]:this['processReceiverReport'](_0x3992ae,_0x25509e);}}['processSenderReport'](_0x1dfc6d,_0x2f1097){const _0x4ee299=_0x14177f;this['senderTotalMessages'][_0x4ee299(0x525)](_0x1dfc6d,_0x2f1097[_0x4ee299(0x675)]),this[_0x4ee299(0x223)][_0x4ee299(0x525)](_0x1dfc6d,_0x2f1097[_0x4ee299(0x5f7)]);}['processReceiverReport'](_0x3c0ad0,_0x5971d4){const _0x32c45f=_0x14177f;this[_0x32c45f(0x4b5)][_0x32c45f(0x525)](_0x3c0ad0,_0x5971d4[_0x32c45f(0x4d4)]),this[_0x32c45f(0x796)]['set'](_0x3c0ad0,_0x5971d4[_0x32c45f(0x822)]),this['systemMessages'][_0x32c45f(0x525)](_0x3c0ad0,_0x5971d4[_0x32c45f(0x7b7)]);}}class _0x38d4bb{[_0x14177f(0x9af)];[_0x14177f(0x41c)]=new Set();[_0x14177f(0x7d2)];[_0x14177f(0x504)];[_0x14177f(0x59f)];['statsReport']=new _0x48f962();constructor(_0x1d952c){const _0x2ef717=_0x14177f;this[_0x2ef717(0x9af)]=_0x1d952c,this[_0x2ef717(0x9af)]['mediator'][_0x2ef717(0x300)](this[_0x2ef717(0x1af)]),this[_0x2ef717(0x504)]=this[_0x2ef717(0x996)](),this[_0x2ef717(0x59f)]=this[_0x2ef717(0x7cc)]();}[_0x14177f(0x9b6)](){const _0x3f598f=_0x14177f;this[_0x3f598f(0x9af)][_0x3f598f(0x47f)][_0x3f598f(0x88b)](this['statsReport']),this[_0x3f598f(0x59f)](),this['statsCollection']();}[_0x14177f(0x3c0)](_0x4c6810){const _0x28649a=_0x14177f;this[_0x28649a(0x41c)]['add'](_0x4c6810),this[_0x28649a(0x1af)][_0x28649a(0x3c0)](_0x4c6810);}['removeRemoteNode'](_0x4c127d){const _0x8ed77b=_0x14177f;this[_0x8ed77b(0x41c)][_0x8ed77b(0x131)](_0x4c127d),this[_0x8ed77b(0x1af)][_0x8ed77b(0x477)](_0x4c127d);}[_0x14177f(0x870)](_0x7df212){const _0x17d534=_0x14177f;if(_0x7df212[_0x17d534(0x4cc)][_0x17d534(0x162)]===_0x22b6b7['Stats']){const {nodeId:_0x41f778,streamId:_0x53f5fc,stats:_0x4fde66}=_0x7df212[_0x17d534(0x4cc)];this['statsReport'][_0x17d534(0x92d)](_0x41f778,_0x4fde66,_0x53f5fc);}}[_0x14177f(0x8eb)](_0x34fdfe){const _0x164e0e=_0x14177f;switch(_0x34fdfe[_0x164e0e(0x4cc)][_0x164e0e(0x162)]){case _0x2c4847[_0x164e0e(0x6ac)]:case _0x2c4847[_0x164e0e(0x33e)]:case _0x2c4847['PubSubTopicStats']:case _0x2c4847['GenerativeAIContextStats']:case _0x2c4847[_0x164e0e(0x49d)]:case _0x2c4847['VectorDatabaseStats']:case _0x2c4847[_0x164e0e(0x3d7)]:case _0x2c4847['ExternalStorageStats']:this[_0x164e0e(0x1af)][_0x164e0e(0x803)](_0x34fdfe[_0x164e0e(0x4cc)][_0x164e0e(0x322)],_0x34fdfe['content'][_0x164e0e(0x162)],_0x34fdfe[_0x164e0e(0x4cc)][_0x164e0e(0x4a7)]);}}['setupStatsReporting'](){const _0x4035ac=_0x14177f;return _0x3f17ec[_0x4035ac(0x2ef)](()=>{const _0x3fb599=_0x4035ac,_0x99cd3c=this['statsReport'][_0x3fb599(0x425)]();_0x1734f6['log'](_0x39fe10[_0x3fb599(0x318)],'Stats:\x20report',_0x99cd3c),(0x0,_0x47d1e0['addDoc'])((0x0,_0x47d1e0[_0x3fb599(0x9c6)])(_0x4ce864[_0x3fb599(0x76b)](),_0x3fb599(0x793)+this[_0x3fb599(0x9af)]['vendorId']+'/stats'),{'clusterId':this[_0x3fb599(0x9af)]['clusterId'],'nodeId':this[_0x3fb599(0x9af)]['localNode'][_0x3fb599(0x519)](),'nodeType':this[_0x3fb599(0x9af)][_0x3fb599(0x845)][_0x3fb599(0x162)],'timestamp':(0x0,_0x47d1e0['serverTimestamp'])(),'report':_0x99cd3c}),_0x1734f6[_0x3fb599(0x4eb)](_0x3fb599(0x4a7),{'clusterId':this['configs'][_0x3fb599(0x463)],'nodeId':this['configs'][_0x3fb599(0x845)]['getId'](),'nodeType':this['configs'][_0x3fb599(0x845)]['type'],'data':{'report':_0x99cd3c}});},_0x43aa49);}[_0x14177f(0x996)](){const _0xa4ecbf=_0x14177f;let _0x50c0a6=!0x1,_0x107c35=Date[_0xa4ecbf(0x5bc)]();return _0x3f17ec['setInterval'](async()=>{const _0x35f451=_0xa4ecbf;if(_0x50c0a6)return;if(_0x50c0a6=!0x0,0x0===this['remoteNodes'][_0x35f451(0x11a)])return delete this['nextNodeId'],void(_0x50c0a6=!0x1);const _0x515252=Date[_0x35f451(0x5bc)]();this['findNextNodeId']();try{await this['configs'][_0x35f451(0x47f)][_0x35f451(0x1ff)](this[_0x35f451(0x7d2)]);}catch(_0x13f3a1){}this[_0x35f451(0x1af)][_0x35f451(0x3f3)]({'secheduleTime':_0x515252-_0x107c35,'durationTime':Date[_0x35f451(0x5bc)]()-_0x515252}),_0x107c35=_0x515252,_0x50c0a6=!0x1;},_0x494073);}[_0x14177f(0x3dd)](){const _0xcde7b2=_0x14177f;let _0x528cb2,_0x4abf56=!0x1;this['nextNodeId']&&(this[_0xcde7b2(0x41c)][_0xcde7b2(0x85c)](this[_0xcde7b2(0x7d2)])||delete this[_0xcde7b2(0x7d2)]);for(const _0x108a89 of this[_0xcde7b2(0x41c)])if(_0x528cb2||(_0x528cb2=_0x108a89),this[_0xcde7b2(0x7d2)]!==_0x108a89){if(_0x4abf56)return void(this[_0xcde7b2(0x7d2)]=_0x108a89);}else _0x4abf56=!0x0,delete this[_0xcde7b2(0x7d2)];this[_0xcde7b2(0x7d2)]||(this[_0xcde7b2(0x7d2)]=_0x528cb2);}}class _0x531a0c{[_0x14177f(0x4bb)];[_0x14177f(0x9e6)];[_0x14177f(0x60b)];constructor(_0x23a2aa,_0x422176){const _0x58b56b=_0x14177f;this[_0x58b56b(0x4bb)]=_0x23a2aa,this[_0x58b56b(0x9e6)]=_0x422176;}[_0x14177f(0x8d0)](_0x4e101a){this['systemTopic']=_0x4e101a;}[_0x14177f(0x7b5)](){delete this['systemTopic'];}}class _0x3430fc extends _0x531a0c{['source'];[_0x14177f(0x9e6)];[_0x14177f(0x6a1)];constructor(_0x38dabd,_0x292811,_0x7e900a){const _0x5b5f02=_0x14177f;super(_0x38dabd,_0x292811),this[_0x5b5f02(0x4bb)]=_0x38dabd,this[_0x5b5f02(0x9e6)]=_0x292811,this['params']=_0x7e900a;}['subscribe'](_0x2ce5f8,_0x3f4026,_0x59a045){const _0x397c45=_0x14177f;if(this[_0x397c45(0x9e6)][_0x397c45(0x62d)]()===_0x23d754[_0x397c45(0x565)][_0x397c45(0x581)]){const _0x428a50={'type':_0x3d0691['SubscribeMediaStream'],'label':this['destination'][_0x397c45(0x3bf)](),'ownerId':_0x2ce5f8,'trackKinds':_0x3f4026??this[_0x397c45(0x9e6)][_0x397c45(0x617)](),'params':_0x59a045};this['systemTopic'][_0x397c45(0x95d)]({'sourceId':this['source'][_0x397c45(0x1a0)](),'destinationIds':[this[_0x397c45(0x4bb)][_0x397c45(0x6a3)]()],'messageType':_0x1252cb[_0x397c45(0x278)],'content':_0x428a50}),this[_0x397c45(0x6a1)]=_0x59a045;}}[_0x14177f(0x41f)](_0x52b000,_0x45a592){const _0x9ab694=_0x14177f;if(this['destination'][_0x9ab694(0x62d)]()===_0x23d754[_0x9ab694(0x565)]['Media']){const _0x269f91={'type':_0x3d0691['UpdateMediaStream'],'label':this[_0x9ab694(0x9e6)][_0x9ab694(0x3bf)](),'ownerId':_0x52b000,'params':_0x45a592};this[_0x9ab694(0x60b)][_0x9ab694(0x95d)]({'sourceId':this[_0x9ab694(0x4bb)][_0x9ab694(0x1a0)](),'destinationIds':[this[_0x9ab694(0x4bb)][_0x9ab694(0x6a3)]()],'messageType':_0x1252cb['Subscription'],'content':_0x269f91}),this['params']=_0x45a592;}}['unsubscribe'](_0x12ba5b,_0x5a37f1,_0x1a3a67){const _0x5b6cdb=_0x14177f;if(this[_0x5b6cdb(0x9e6)][_0x5b6cdb(0x62d)]()===_0x23d754[_0x5b6cdb(0x565)][_0x5b6cdb(0x581)]){const _0x3b1d1c={'type':_0x3d0691[_0x5b6cdb(0x478)],'label':this['destination'][_0x5b6cdb(0x3bf)](),'ownerId':_0x12ba5b,'trackKinds':_0x1a3a67??this[_0x5b6cdb(0x9e6)]['getAvailableTrackKinds'](),'remainingTracks':_0x5a37f1};this['systemTopic'][_0x5b6cdb(0x95d)]({'sourceId':this[_0x5b6cdb(0x4bb)][_0x5b6cdb(0x1a0)](),'destinationIds':[this[_0x5b6cdb(0x4bb)]['getRemoteId']()],'messageType':_0x1252cb[_0x5b6cdb(0x278)],'content':_0x3b1d1c});}}}class _0x2c55d9{[_0x14177f(0x388)];[_0x14177f(0x2cf)];[_0x14177f(0x1a2)];[_0x14177f(0x60b)];[_0x14177f(0x39e)]=new Set();[_0x14177f(0x539)]=Date['now']();[_0x14177f(0x6a1)];[_0x14177f(0x370)]=0x0;constructor(_0x5c449b,_0x393622,_0x418134,_0x2f37ef){const _0x5249c2=_0x14177f;this[_0x5249c2(0x388)]=_0x393622,this[_0x5249c2(0x2cf)]=_0x418134,this[_0x5249c2(0x1a2)]=_0x2f37ef,_0x5c449b['forEach'](_0x11e635=>{const _0x550e3c=_0x5249c2;this[_0x550e3c(0x39e)][_0x550e3c(0x1cd)]({'nodeId':_0x11e635,'type':_0x5c3f4b[_0x550e3c(0x1b7)]});});}[_0x14177f(0x19a)](){const _0x5ef18e=_0x14177f;return this[_0x5ef18e(0x1a2)];}[_0x14177f(0x8d0)](_0x27b216){const _0x57292e=_0x14177f;this[_0x57292e(0x60b)]=_0x27b216;}[_0x14177f(0x7b5)](){const _0x1e7475=_0x14177f;delete this[_0x1e7475(0x60b)];}['reset'](_0x43794f,_0x423d88){const _0x5b1df0=_0x14177f;this[_0x5b1df0(0x539)]=Date['now'](),this[_0x5b1df0(0x39e)]['clear'](),_0x43794f[_0x5b1df0(0x918)](_0x145b4f=>{const _0xda3a45=_0x5b1df0;this['answers']['add']({'nodeId':_0x145b4f,'type':_0x5c3f4b[_0xda3a45(0x1b7)]});}),this[_0x5b1df0(0x370)]+=0x1,this[_0x5b1df0(0x388)]=_0x423d88;}[_0x14177f(0x6a4)](_0x5a435d,_0x27bd29,_0x5026c6,_0x211ba5,_0x49c5bf){const _0xf0e298=_0x14177f;if(this['retryCount']>0xa)throw new _0x209e12(_0x209e12[_0xf0e298(0x805)][_0xf0e298(0x8f7)],{'answers':Array[_0xf0e298(0x80f)](this[_0xf0e298(0x39e)])[_0xf0e298(0x265)](_0x337f88=>({'nodeId':_0x337f88[_0xf0e298(0x8ee)],'type':_0x337f88['type']}))});const _0x32143f=Array[_0xf0e298(0x80f)](this[_0xf0e298(0x39e)])[_0xf0e298(0x265)](_0x55df7f=>_0x55df7f[_0xf0e298(0x8ee)]);this[_0xf0e298(0x6a1)]=_0x49c5bf,this[_0xf0e298(0x60b)]['publish']({'sourceId':_0x5a435d,'destinationIds':_0x32143f,'messageType':_0x1252cb[_0xf0e298(0x278)],'content':{'type':_0x3d0691['NeedMediaStream'],'label':_0x5026c6,'ownerId':_0x27bd29,'trackKinds':_0x211ba5,'params':_0x49c5bf}}),_0x1734f6['log'](_0x39fe10[_0xf0e298(0x278)],_0xf0e298(0x678),_0x5a435d,_0x32143f);}['handleSubscriptionSystemEvents'](_0x308d97,_0x4975e2){const _0x2203f6=_0x14177f;switch(_0x4975e2[_0x2203f6(0x162)]){case _0x3d0691[_0x2203f6(0x929)]:{const _0x304c7d=this[_0x2203f6(0x388)]>=_0x4975e2[_0x2203f6(0x435)]&&_0x4975e2['distance']<=this[_0x2203f6(0x2cf)],_0x4374dc=Array[_0x2203f6(0x80f)](this[_0x2203f6(0x39e)])[_0x2203f6(0x3ee)](_0x372c99=>_0x372c99[_0x2203f6(0x8ee)]===_0x308d97);_0x4374dc['type']=_0x304c7d?_0x5c3f4b[_0x2203f6(0x90b)]:_0x5c3f4b[_0x2203f6(0x7bc)],_0x4374dc[_0x2203f6(0x559)]=_0x4975e2[_0x2203f6(0x559)],_0x4374dc[_0x2203f6(0x435)]=_0x4975e2['distance'],_0x4374dc[_0x2203f6(0x5eb)]=_0x4975e2[_0x2203f6(0x5eb)],_0x4374dc[_0x2203f6(0x220)]=Date[_0x2203f6(0x5bc)]()-this[_0x2203f6(0x539)],_0x4374dc[_0x2203f6(0x6a1)]=this[_0x2203f6(0x6a1)],_0x4374dc['ownerId']=_0x4975e2['ownerId'],_0x4374dc['trackKinds']=_0x4975e2['trackKinds'],_0x4374dc[_0x2203f6(0x3b5)]=_0x4975e2[_0x2203f6(0x322)],_0x1734f6[_0x2203f6(0x2b0)](_0x39fe10['Subscription'],(_0x304c7d?_0x2203f6(0x90b):_0x2203f6(0x7bc))+_0x2203f6(0x9fe),_0x4374dc);break;}case _0x3d0691[_0x2203f6(0x16b)]:{const _0x564a50=Array[_0x2203f6(0x80f)](this['answers'])[_0x2203f6(0x3ee)](_0x21e35e=>_0x21e35e['nodeId']===_0x308d97);_0x564a50[_0x2203f6(0x162)]=_0x5c3f4b[_0x2203f6(0x7bc)],_0x1734f6[_0x2203f6(0x2b0)](_0x39fe10[_0x2203f6(0x278)],'Rejected\x20answer',_0x564a50);break;}}if(this['canChooseAnswer']())return this[_0x2203f6(0x27b)]();}[_0x14177f(0x27b)](){const _0x54058c=_0x14177f,_0x137803=Array[_0x54058c(0x80f)](this[_0x54058c(0x39e)])[_0x54058c(0x31d)](_0x7b4d45=>_0x7b4d45[_0x54058c(0x162)]===_0x5c3f4b['Accepted'])[_0x54058c(0x119)]((_0x1c31d2,_0x5882b0)=>_0x1c31d2[_0x54058c(0x559)]===_0x5882b0[_0x54058c(0x559)]?_0x1c31d2[_0x54058c(0x220)]-_0x5882b0[_0x54058c(0x220)]:_0x1c31d2[_0x54058c(0x559)]-_0x5882b0[_0x54058c(0x559)]);if(0x0===_0x137803[_0x54058c(0x5b7)])throw new _0x209e12(_0x209e12[_0x54058c(0x805)]['SubscriptionRequestNoAnswer'],{'answers':Array[_0x54058c(0x80f)](this[_0x54058c(0x39e)])[_0x54058c(0x265)](_0x243357=>({'nodeId':_0x243357[_0x54058c(0x8ee)],'type':_0x243357[_0x54058c(0x162)]}))});return _0x1734f6[_0x54058c(0x2b0)](_0x39fe10['Subscription'],_0x54058c(0x3d3),_0x137803[0x0],this[_0x54058c(0x39e)]),_0x137803[0x0];}[_0x14177f(0x8e4)](){const _0x15fa15=_0x14177f;for(const _0x5c4687 of this['answers'])if(_0x5c4687[_0x15fa15(0x162)]===_0x5c3f4b[_0x15fa15(0x1b7)])return!0x1;return!0x0;}}class _0x229e29{[_0x14177f(0x322)];[_0x14177f(0x156)];[_0x14177f(0xa03)]=_0x26518c();constructor(_0x4ad77d,_0x401577){this['label']=_0x4ad77d,this['contentType']=_0x401577;}[_0x14177f(0x3bf)](){const _0x165031=_0x14177f;return this[_0x165031(0x322)];}[_0x14177f(0x62d)](){const _0xf2bbe=_0x14177f;return this[_0xf2bbe(0x156)];}[_0x14177f(0x642)](_0x4a54ca){_0x4a54ca['registerPublisher'](this);}['registerDestination'](_0x796e03){const _0x57b329=_0x14177f;_0x796e03[_0x57b329(0x75f)](this);}[_0x14177f(0x95d)](_0x13e884){const _0x543b5b=_0x14177f;this[_0x543b5b(0xa03)][_0x543b5b(0x95d)]({'topicLabel':this[_0x543b5b(0x322)],'contentType':this[_0x543b5b(0x156)],'uuid':(0x0,_0x3fe08f['v4'])(),'recipients':[],..._0x13e884});}['subscribe'](_0x1bf8e5){const _0x5f346b=_0x14177f;return this[_0x5f346b(0xa03)][_0x5f346b(0x1f2)](_0x1bf8e5);}['unregisterSource'](_0x50bf1c){const _0x1c37ad=_0x14177f;_0x50bf1c[_0x1c37ad(0x4ab)](this);}[_0x14177f(0x82a)](_0x1e4468){_0x1e4468['unregisterSubscriber'](this);}}class _0x4b7517{[_0x14177f(0x939)]={'topics':new Map(),'subscriptions':new Map()};[_0x14177f(0x285)];constructor(_0x549007){const _0xe0f666=_0x14177f;this[_0xe0f666(0x285)]=_0x549007;}get[_0x14177f(0x40c)](){const _0x2270e2=_0x14177f;return this[_0x2270e2(0x939)][_0x2270e2(0x40c)];}get[_0x14177f(0x9fa)](){const _0x8f695f=_0x14177f;return this[_0x8f695f(0x939)][_0x8f695f(0x9fa)];}[_0x14177f(0x2bc)](_0x5006a0,_0x1c5f86){const _0x295242=_0x14177f,_0x5d7924=this['getPartsFromSubscription'](_0x1c5f86),_0x9af61d=_0x39680f(_0x5006a0);if(!_0x5d7924[_0x295242(0x2db)])throw new _0x209e12(_0x209e12[_0x295242(0x805)]['InvalidSubscription'],{'message':_0x9af61d+':\x20'+_0x5d7924['remoteId']+_0x295242(0x82f)+_0x5d7924[_0x295242(0x156)],'subscriptionType':_0x5006a0,'subscription':_0x1c5f86,'subscriptonParts':_0x5d7924});const _0x33a75f=_0xb0ad7f(_0x5006a0,_0x5d7924);if(this[_0x295242(0x939)]['subscriptions'][_0x295242(0x85c)](_0x33a75f))throw new _0x209e12(_0x209e12[_0x295242(0x805)][_0x295242(0x94f)],{'message':_0x9af61d+':\x20'+_0x33a75f+'\x20already\x20exists','subscriptionType':_0x5006a0,'subscription':_0x1c5f86,'subscriptonParts':_0x5d7924});this[_0x295242(0x939)]['subscriptions'][_0x295242(0x525)](_0x33a75f,_0x1c5f86),this[_0x295242(0x438)](_0x5d7924,_0x1c5f86);}['removeSubscription'](_0x40260f,_0x4511bf){const _0x25fb47=_0x14177f,_0xb5fd34=_0xb0ad7f(_0x4511bf,_0x40260f),_0x4b3afc=this[_0x25fb47(0x939)][_0x25fb47(0x40c)][_0x25fb47(0x9ba)](_0xb5fd34);if(!_0x4b3afc)throw new _0x209e12(_0x209e12[_0x25fb47(0x805)]['InvalidSubscription'],{'message':_0x39680f(_0x4511bf)+':\x20'+_0xb5fd34+'\x20does\x20not\x20exists','subscriptionType':_0x4511bf,'subscription':_0x4b3afc,'subscriptonParts':_0x40260f});this[_0x25fb47(0x961)](_0x4b3afc,_0xb5fd34,_0x40260f);}['closeSubscription'](_0x4040d9,_0x122ac5,_0x2d1e0e){const _0x57826b=_0x14177f;_0x2d1e0e=_0x2d1e0e||this[_0x57826b(0x285)](_0x4040d9),this[_0x57826b(0x939)][_0x57826b(0x40c)][_0x57826b(0x131)](_0x122ac5),this[_0x57826b(0x9ae)](_0x2d1e0e,_0x4040d9);}[_0x14177f(0x438)](_0x8adcef,{source:_0x10c50e,destination:_0x5edb4e}){const _0x5d9bae=_0x14177f,{contentType:_0x1fd370,label:_0x295003,remoteId:_0x3cc610}=_0x8adcef,_0x54e73c=_0x1334af(_0x1fd370,_0x295003,_0x3cc610),_0x2c1af6=new _0x229e29(_0x54e73c,_0x1fd370);_0x2c1af6[_0x5d9bae(0x642)](_0x10c50e),_0x2c1af6['registerDestination'](_0x5edb4e),this['maps']['topics']['set'](_0x2c1af6[_0x5d9bae(0x3bf)](),_0x2c1af6);}[_0x14177f(0x9ae)](_0x28fe71,_0x321d6a){const _0x5ac61c=_0x14177f,{contentType:_0x206943,label:_0x142b1e,remoteId:_0xe1bd9d}=_0x28fe71,_0xd8a0b3=_0x1334af(_0x206943,_0x142b1e,_0xe1bd9d),_0x2d3224=this[_0x5ac61c(0x939)]['topics'][_0x5ac61c(0x9ba)](_0xd8a0b3);_0x2d3224&&(this[_0x5ac61c(0x367)](_0x2d3224,_0x321d6a),this['maps'][_0x5ac61c(0x9fa)][_0x5ac61c(0x131)](_0xd8a0b3));}[_0x14177f(0x367)](_0x4336e5,{source:_0x48dcd1,destination:_0x2828af}){const _0x52967d=_0x14177f;_0x4336e5['unregisterSource'](_0x48dcd1),_0x4336e5[_0x52967d(0x82a)](_0x2828af);}['removeSubscriptionsForNode'](_0x1ca301){const _0x5281d2=_0x14177f;this[_0x5281d2(0x939)][_0x5281d2(0x40c)][_0x5281d2(0x918)]((_0x426de6,_0x1dd936)=>{const _0x48b087=_0x5281d2;_0x1dd936[_0x48b087(0x98c)](_0x1ca301)&&this[_0x48b087(0x961)](_0x426de6,_0x1dd936);});}}class _0x55a6f3{[_0x14177f(0x9af)];['maxDistance'];[_0x14177f(0x3ca)]=new Map();['subscriptionRequestsQueue']=_0x488459(new _0x27954c(this['requestSubscriptionAction'][_0x14177f(0x7b4)](this),()=>_0x3f17ec[_0x14177f(0x77e)](0x64)),!0x0);[_0x14177f(0x5c2)]=new Map();[_0x14177f(0x939)];[_0x14177f(0x445)]=new Map();constructor(_0x51689e,_0x382524){const _0x3eef5f=_0x14177f;this[_0x3eef5f(0x9af)]=_0x51689e,this[_0x3eef5f(0x2cf)]=_0x382524,this[_0x3eef5f(0x939)]=new _0x4b7517(({source:_0x2f4c3c,destination:_0x431255})=>_0x25a446(_0x431255,_0x2f4c3c));}[_0x14177f(0x2bc)](_0x32550e,_0x4e482a){const _0xe1521d=_0x14177f,_0x43a21e=this[_0xe1521d(0x8c0)](_0x32550e)&&this[_0xe1521d(0x311)](_0x4e482a)?new _0x3430fc(_0x32550e,_0x4e482a):new _0x531a0c(_0x32550e,_0x4e482a);this[_0xe1521d(0x939)][_0xe1521d(0x2bc)](_0x494165[_0xe1521d(0x5a9)],_0x43a21e),this[_0xe1521d(0x9af)]['mediator'][_0xe1521d(0x300)](_0x43a21e);}['removeSubscription'](_0x431852,_0x3bb6ac,_0x127d23=''){const _0x11a5ae=_0x14177f,_0x3228ea={'contentType':_0x3bb6ac,'label':_0x431852,'remoteId':_0x127d23},_0x2afa20=_0xb0ad7f(_0x494165[_0x11a5ae(0x5a9)],_0x3228ea),_0x9b6764=this[_0x11a5ae(0x939)]['subscriptions'][_0x11a5ae(0x9ba)](_0x2afa20);_0x9b6764&&this[_0x11a5ae(0x961)](_0x9b6764,_0x2afa20);}['handleContentUnpublishMediaStream'](_0xa57cbc){this['removeRemoteStreamSubscription'](_0xa57cbc);}[_0x14177f(0x8f1)]({label:_0x1712c1,ownerId:_0x155e4d,trackKinds:_0x5a1010,params:_0x29faba}){const _0x2105c5=_0x14177f;this[_0x2105c5(0x572)](_0x1712c1,_0x155e4d,_0x5a1010,_0x29faba);}['handleContentUpdateMediaStream']({ownerId:_0x15df16,label:_0x4e669a,params:_0x2707e5}){const _0x4ff716=_0x14177f,{subscriptionLabel:_0x3e2722}=this[_0x4ff716(0x234)](_0x4e669a,_0x15df16),_0x25b49c=this['getMediaSubscription'](_0x3e2722);_0x25b49c&&_0x25b49c[_0x4ff716(0x41f)](_0x15df16,_0x2707e5);}[_0x14177f(0x681)]({ownerId:_0x3b5385,label:_0x4aac79,trackKinds:_0x2d6c1f,remainingTracks:_0x253066}){const _0x4f0dbd=_0x14177f,_0x4ef36b=_0xb0ad7f(_0x494165['Incoming'],{'contentType':_0x23d754[_0x4f0dbd(0x565)][_0x4f0dbd(0x581)],'label':_0x4aac79,'remoteId':_0x3b5385});this[_0x4f0dbd(0x464)](_0x4ef36b);const _0x165cec=this[_0x4f0dbd(0x3ca)]['get'](_0x4ef36b);_0x165cec&&(this[_0x4f0dbd(0x9af)]['mediator'][_0x4f0dbd(0x88b)](_0x165cec),this[_0x4f0dbd(0x3ca)][_0x4f0dbd(0x131)](_0x4ef36b));const {parts:_0x46cff9,subscriptionLabel:_0x26628f}=this[_0x4f0dbd(0x234)](_0x4aac79,_0x3b5385),_0x434ca4=this[_0x4f0dbd(0x25c)](_0x26628f);_0x434ca4&&(_0x434ca4[_0x4f0dbd(0x9a3)](_0x3b5385,_0x253066,_0x2d6c1f),0x0===_0x253066&&this['removeSubscription'](_0x46cff9[_0x4f0dbd(0x322)],_0x46cff9[_0x4f0dbd(0x156)],_0x46cff9[_0x4f0dbd(0x4f9)]));}[_0x14177f(0x4f0)](_0x3be82f,{label:_0x447456,ownerId:_0x4a5d33,trackKinds:_0x12e456,streamId:_0x556d1d,params:_0x5c0226}){const _0x5def0d=_0x14177f,_0x3e2544=_0xb0ad7f(_0x494165[_0x5def0d(0x5a9)],{'contentType':_0x23d754[_0x5def0d(0x565)][_0x5def0d(0x581)],'label':_0x556d1d,'remoteId':_0x3be82f}),_0x724671=this['maps'][_0x5def0d(0x40c)][_0x5def0d(0x9ba)](_0x3e2544);if(!(_0x724671&&_0x724671 instanceof _0x3430fc))throw new _0x209e12(_0x209e12[_0x5def0d(0x805)][_0x5def0d(0xa4f)],{'label':_0x3e2544,'ownerId':_0x4a5d33});this[_0x5def0d(0x961)](_0x724671,_0x3e2544),this[_0x5def0d(0x572)](_0x447456,_0x4a5d33,_0x12e456,_0x5c0226);}[_0x14177f(0x99a)](_0x277fa1,_0x314a4d){const _0x17fb35=_0x14177f,{label:_0x489710,ownerId:_0x199ca6,trackKinds:_0x345d04,params:_0x3fbaf7}=_0x314a4d,_0x17668b=_0xb0ad7f(_0x494165['Incoming'],{'contentType':_0x23d754['ContentType'][_0x17fb35(0x581)],'label':_0x489710,'remoteId':_0x199ca6});if(!this[_0x17fb35(0x3ca)][_0x17fb35(0x85c)](_0x17668b))throw new _0x209e12(_0x209e12['codes'][_0x17fb35(0xa4f)],{'label':_0x17668b,'ownerId':_0x199ca6,'streamId':_0x314a4d[_0x17fb35(0x5eb)],'requests':this['subscriptionRequests']});const _0x24e688=this[_0x17fb35(0x3ca)][_0x17fb35(0x9ba)](_0x17668b);if(_0x345d04[_0x17fb35(0x5b7)]===_0x24e688['getTracks']()[_0x17fb35(0x5b7)]&&_0x345d04[_0x17fb35(0x157)](_0x450c51=>_0x24e688[_0x17fb35(0x19a)]()[_0x17fb35(0x775)](_0x450c51)))try{const _0x3102a4=_0x24e688[_0x17fb35(0x9a2)](_0x277fa1,_0x314a4d);if(!_0x3102a4)return;this[_0x17fb35(0x1f2)](_0x3102a4,_0x199ca6,_0x489710,_0x17668b,_0x345d04);}catch(_0xd9c53c){return void this[_0x17fb35(0x94b)](_0x489710,_0x199ca6,_0x345d04,_0x3fbaf7);}}['handleSubscriptionMediaStreamUnavailable'](_0x54c844,{label:_0x2584f7,ownerId:_0x4ea028,trackKinds:_0x12e56f}){const _0x23405b=_0x14177f,_0x2bbbc4=this[_0x23405b(0x9af)][_0x23405b(0x47f)][_0x23405b(0x7ab)](_0x4ea028,_0x2584f7);if(!_0x2bbbc4)return;const _0x3813ab=_0x2bbbc4[_0x23405b(0x36d)](),_0x1aaad0=_0x2bbbc4[_0x23405b(0x804)]();_0x1aaad0[_0x23405b(0x211)](_0x1a72ab=>_0x12e56f['includes'](_0x1a72ab))&&this[_0x23405b(0x54d)](_0x54c844,_0x2584f7,_0x3813ab,_0x4ea028,_0x1aaad0);}[_0x14177f(0x781)]({label:_0x3046cd,providerId:_0x3cfcac,ownerId:_0x1f4255,streamId:_0x2fec1a,trackKinds:_0x15a63a}){const _0x4e41a9=_0x14177f;this[_0x4e41a9(0x54d)](_0x3cfcac,_0x3046cd,_0x2fec1a,_0x1f4255,_0x15a63a);}[_0x14177f(0x2aa)](_0x145952){const _0x1d7618=_0x14177f;for(const _0x37e0c6 of this[_0x1d7618(0x445)][_0x1d7618(0x774)]()){const {streamLabel:_0x5d935a,ownerId:_0x18736e,trackKinds:_0x30e6dc,params:_0x194e1f}=_0x37e0c6;if(!_0x18736e||!_0x30e6dc||!_0x5d935a)return;this['subscriptionRequestsQueue']['push']({'label':_0x5d935a,'ownerId':_0x18736e,'trackKinds':_0x30e6dc,'params':_0x194e1f,'remoteId':_0x145952});}}['removeSubscriptionsForNode'](_0x20e030){const _0x4517bb=_0x14177f;this['maps'][_0x4517bb(0x40c)][_0x4517bb(0x918)]((_0x4f7895,_0x518a90)=>{const _0x43ddd0=_0x4517bb;if(_0x518a90[_0x43ddd0(0x98c)](_0x20e030)){if(_0x4f7895[_0x43ddd0(0x9e6)][_0x43ddd0(0x62d)]()===_0x23d754[_0x43ddd0(0x565)][_0x43ddd0(0x581)]){const _0x515931=_0x4f7895['destination'];if(_0x515931[_0x43ddd0(0x804)]()['length']>0x0){const _0x2ac1c4={'type':_0x3d0691['MediaStreamUnavailable'],'label':_0x515931[_0x43ddd0(0x3bf)](),'ownerId':_0x515931[_0x43ddd0(0x48b)](),'trackKinds':_0x515931[_0x43ddd0(0x804)]()};return void this[_0x43ddd0(0x511)](_0x20e030,_0x2ac1c4);}}this[_0x43ddd0(0x961)](_0x4f7895,_0x518a90);}});}[_0x14177f(0x9b6)](){const _0x397415=_0x14177f;this[_0x397415(0x939)][_0x397415(0x40c)]['forEach'](this[_0x397415(0x961)][_0x397415(0x7b4)](this));}[_0x14177f(0x1f2)](_0x4410e9,_0x32ddf8,_0x3285e3,_0xf96468,_0x45b4eb){const _0x17bd28=_0x14177f,_0x200212=this[_0x17bd28(0x9af)]['mediator'][_0x17bd28(0x643)](_0x4410e9[_0x17bd28(0x8ee)]),_0x4d17e0=this['configs'][_0x17bd28(0x47f)]['getRemoteMediaStream'](_0x32ddf8,_0x3285e3);this[_0x17bd28(0x464)](_0xf96468),this[_0x17bd28(0x3ca)][_0x17bd28(0x85c)](_0xf96468)&&(this[_0x17bd28(0x9af)][_0x17bd28(0x47f)][_0x17bd28(0x88b)](this[_0x17bd28(0x3ca)][_0x17bd28(0x9ba)](_0xf96468)),this[_0x17bd28(0x3ca)][_0x17bd28(0x131)](_0xf96468)),this['cleanOldSubscription'](_0x4410e9,_0x32ddf8,_0x3285e3,_0x4d17e0),_0x4d17e0[_0x17bd28(0x573)](_0x4410e9[_0x17bd28(0x5eb)]),_0x4d17e0[_0x17bd28(0x10f)](_0x4410e9['nodeId']);const _0x242733=_0x25a446(_0x4d17e0,_0x200212),_0x58ad31=_0xb0ad7f(_0x494165[_0x17bd28(0x5a9)],_0x242733);this[_0x17bd28(0x939)]['subscriptions'][_0x17bd28(0x85c)](_0x58ad31)||this[_0x17bd28(0x2bc)](_0x200212,_0x4d17e0);const _0xcf012=this[_0x17bd28(0x939)][_0x17bd28(0x40c)][_0x17bd28(0x9ba)](_0x58ad31);if(!(_0xcf012&&_0xcf012 instanceof _0x3430fc))throw new _0x209e12(_0x209e12[_0x17bd28(0x805)]['SubscriptionRequestDoesNotExist'],{'label':_0xf96468,'ownerId':_0x32ddf8});_0x1734f6[_0x17bd28(0x4eb)](_0x17bd28(0x3d1),{'clusterId':this[_0x17bd28(0x9af)]['clusterId'],'nodeId':this[_0x17bd28(0x9af)]['localNode']['getId'](),'nodeType':this['configs'][_0x17bd28(0x845)][_0x17bd28(0x162)],'data':{'subscriptionLabel':_0x58ad31,'chosenAnswer':_0x4410e9}}),this[_0x17bd28(0x445)]['set'](_0x58ad31,_0x4410e9),_0xcf012['subscribe'](_0x32ddf8,_0x45b4eb,_0x4410e9[_0x17bd28(0x6a1)]);}['removeRemoteStreamSubscription']({ownerId:_0x3c0c10,label:_0x5e171a}){const _0xa37299=_0x14177f,_0x354906=this[_0xa37299(0x9af)][_0xa37299(0x47f)]['getRemoteMediaStream'](_0x3c0c10,_0x5e171a),[_0x2bfd73,_0x746060]=Array[_0xa37299(0x80f)](this[_0xa37299(0x939)][_0xa37299(0x40c)][_0xa37299(0x623)]())[_0xa37299(0x3ee)](([_0x198476,_0x587067])=>-0x1!==_0x198476[_0xa37299(0x27a)](_0x354906[_0xa37299(0x36d)]()));return this['closeSubscription'](_0x746060,_0x2bfd73);}[_0x14177f(0x961)](_0x4a10d1,_0x50a51c){const _0xdab4b2=_0x14177f;this[_0xdab4b2(0x9af)][_0xdab4b2(0x47f)]['unregisterSystemSource'](_0x4a10d1),this['maps'][_0xdab4b2(0x961)](_0x4a10d1,_0x50a51c);}[_0x14177f(0x8c0)](_0x38b370){const _0x1064e1=_0x14177f;return _0x38b370[_0x1064e1(0x64c)]()['includes'](_0x23d754[_0x1064e1(0x565)][_0x1064e1(0x581)]);}[_0x14177f(0x311)](_0x3401f1){const _0x1ba9de=_0x14177f;return _0x3401f1[_0x1ba9de(0x62d)]()===_0x23d754['ContentType'][_0x1ba9de(0x581)];}async['handleNoAnswer'](_0x95bc1c,_0x5a9d28,_0x5f090f,_0x25c145){const _0x1cabc7=_0x14177f;await _0x3f17ec[_0x1cabc7(0x77e)](0x3e8);const _0x352dae=_0xb0ad7f(_0x494165[_0x1cabc7(0x5a9)],{'contentType':_0x23d754['ContentType']['Media'],'label':_0x95bc1c,'remoteId':_0x5a9d28});this[_0x1cabc7(0x464)](_0x352dae);const _0x272929=this[_0x1cabc7(0x3ca)][_0x1cabc7(0x9ba)](_0x352dae);if(!_0x272929)throw new _0x209e12(_0x209e12['codes'][_0x1cabc7(0xa4f)],{'label':_0x352dae,'ownerId':_0x5a9d28});const _0x1822cb=this[_0x1cabc7(0x9af)][_0x1cabc7(0x47f)]['getConnections'](_0x436567=>_0x436567[_0x1cabc7(0x133)]()),_0x2bc69d=this[_0x1cabc7(0x9af)][_0x1cabc7(0x47f)][_0x1cabc7(0x58f)](this['configs'][_0x1cabc7(0x845)]['getId'](),_0x5a9d28);_0x272929[_0x1cabc7(0x140)](_0x1822cb[_0x1cabc7(0x265)](_0x3b2e32=>_0x3b2e32[_0x1cabc7(0x6a3)]()),_0x2bc69d);try{_0x272929[_0x1cabc7(0x6a4)](this[_0x1cabc7(0x9af)]['localNode'][_0x1cabc7(0x519)](),_0x5a9d28,_0x95bc1c,_0x5f090f,_0x25c145),this[_0x1cabc7(0x437)](_0x95bc1c,_0x5a9d28,_0x5f090f,_0x25c145,_0x352dae,_0x272929);}catch(_0x725f0){this['subscriptionRequestsQueue']['push']({'label':_0x95bc1c,'ownerId':_0x5a9d28,'trackKinds':_0x5f090f,'params':_0x25c145});}}[_0x14177f(0x572)](_0x5ce525,_0x4b4b01,_0x462de6,_0x67131){const _0x20b1ab=_0x14177f;this['subscriptionRequestsQueue'][_0x20b1ab(0x993)]({'label':_0x5ce525,'ownerId':_0x4b4b01,'trackKinds':_0x462de6,'params':_0x67131});}[_0x14177f(0x30e)]({label:_0x11be88,ownerId:_0xd28a17,trackKinds:_0x32da04,params:_0x1ad67e,remoteId:_0x5607ab}){const _0x4fa8bd=_0x14177f;if(!this['configs'][_0x4fa8bd(0x47f)][_0x4fa8bd(0x7ab)](_0xd28a17,_0x11be88))return;if(!this['configs'][_0x4fa8bd(0x47f)][_0x4fa8bd(0x248)]()[_0x4fa8bd(0x83d)]())throw new Error(_0x4fa8bd(0x4de));if(_0x5607ab){const _0x5cc652=this[_0x4fa8bd(0x9af)]['mediator'][_0x4fa8bd(0x9cc)]()[_0x4fa8bd(0x3ee)](_0x30474e=>_0x30474e[_0x4fa8bd(0x519)]()===_0x5607ab),_0xf4b67d=_0x5cc652?.[_0x4fa8bd(0x83d)]();if(!_0x5cc652||!_0xf4b67d)throw new Error(_0x4fa8bd(0x31e));const _0x55cb24=this[_0x4fa8bd(0x9af)][_0x4fa8bd(0x47f)][_0x4fa8bd(0x9cc)]()['find'](_0x5340eb=>_0x5340eb[_0x4fa8bd(0x519)]()===_0xd28a17),_0x721400=_0x55cb24?.['getRank']();if(!_0x55cb24||!_0x721400)throw new Error('Missing\x20owner\x20node\x20or\x20rank');const _0x5435ce=this['chosenAnswers'][_0x4fa8bd(0x9ba)](_0x11be88);if(_0x5435ce){const _0x42dc4e=this[_0x4fa8bd(0x9af)][_0x4fa8bd(0x47f)]['getRemoteNodes']()[_0x4fa8bd(0x3ee)](_0x1e73bf=>_0x1e73bf[_0x4fa8bd(0x519)]()===_0x5435ce[_0x4fa8bd(0x8ee)]),_0x28b4e6=_0x42dc4e?.[_0x4fa8bd(0x83d)]();if(!_0x42dc4e||!_0x28b4e6)throw new Error(_0x4fa8bd(0x5b0));if(Math['abs'](_0x28b4e6-_0x721400)<Math[_0x4fa8bd(0x629)](_0xf4b67d-_0x721400))return;}}const _0x1cd004=this[_0x4fa8bd(0x9af)][_0x4fa8bd(0x47f)][_0x4fa8bd(0x615)](_0x4dbfe6=>_0x4dbfe6[_0x4fa8bd(0x133)]()&&(!_0x5607ab||_0x4dbfe6['getRemoteId']()===_0x5607ab));if(!_0x1cd004[_0x4fa8bd(0x5b7)]||0x0===_0x1cd004[_0x4fa8bd(0x5b7)])throw new Error(_0x4fa8bd(0x193));const _0x4ef972=this[_0x4fa8bd(0x9af)]['mediator'][_0x4fa8bd(0x58f)](this['configs']['localNode']['getId'](),_0xd28a17),_0x579f03=_0xb0ad7f(_0x494165[_0x4fa8bd(0x5a9)],{'contentType':_0x23d754[_0x4fa8bd(0x565)]['Media'],'label':_0x11be88,'remoteId':_0xd28a17});if(this[_0x4fa8bd(0x3ca)]['has'](_0x579f03)){if(_0x5607ab)throw new Error(_0x4fa8bd(0x50a));const _0x215e97=this[_0x4fa8bd(0x3ca)]['get'](_0x579f03)[_0x4fa8bd(0x19a)]();if(_0x215e97[_0x4fa8bd(0x5b7)]===_0x32da04[_0x4fa8bd(0x5b7)]&&_0x215e97[_0x4fa8bd(0x157)](_0x207e8f=>_0x32da04[_0x4fa8bd(0x775)](_0x207e8f)))return;this[_0x4fa8bd(0x9af)][_0x4fa8bd(0x47f)][_0x4fa8bd(0x88b)](this[_0x4fa8bd(0x3ca)][_0x4fa8bd(0x9ba)](_0x579f03)),this[_0x4fa8bd(0x3ca)][_0x4fa8bd(0x131)](_0x579f03),_0x32da04=Array['from'](new Set(_0x32da04[_0x4fa8bd(0x688)](_0x215e97))),this[_0x4fa8bd(0x464)](_0x579f03);}const _0xd9a41=new _0x2c55d9(_0x1cd004[_0x4fa8bd(0x265)](_0x13c650=>_0x13c650['getRemoteId']()),_0x4ef972,this[_0x4fa8bd(0x2cf)],_0x32da04);this[_0x4fa8bd(0x9af)]['mediator'][_0x4fa8bd(0x300)](_0xd9a41),this['subscriptionRequests'][_0x4fa8bd(0x525)](_0x579f03,_0xd9a41),_0xd9a41[_0x4fa8bd(0x6a4)](this[_0x4fa8bd(0x9af)]['localNode']['getId'](),_0xd28a17,_0x11be88,_0x32da04,_0x1ad67e),this[_0x4fa8bd(0x437)](_0x11be88,_0xd28a17,_0x32da04,_0x1ad67e,_0x579f03,_0xd9a41);}[_0x14177f(0x464)](_0x2685cd){const _0x4b7fba=_0x14177f;this[_0x4b7fba(0x5c2)][_0x4b7fba(0x85c)](_0x2685cd)&&(clearTimeout(this[_0x4b7fba(0x5c2)]['get'](_0x2685cd)),this[_0x4b7fba(0x5c2)]['delete'](_0x2685cd));}['setSubscriptionRequestTimeout'](_0x1f38aa,_0x4021b4,_0xe6088,_0x45b386,_0x38120b,_0x2e7f07){const _0x1500b5=_0x14177f;this[_0x1500b5(0x464)](_0x38120b),this[_0x1500b5(0x5c2)][_0x1500b5(0x525)](_0x38120b,setTimeout(()=>{const _0x33e0f5=_0x1500b5;this[_0x33e0f5(0x5c2)][_0x33e0f5(0x131)](_0x38120b);try{const _0x347734=_0x2e7f07['chooseAnswer']();this[_0x33e0f5(0x1f2)](_0x347734,_0x4021b4,_0x1f38aa,_0x38120b,_0xe6088);}catch(_0xe0550c){this[_0x33e0f5(0x94b)](_0x1f38aa,_0x4021b4,_0xe6088,_0x45b386);}},0x7d0));}[_0x14177f(0x54d)](_0x3e42c9,_0x4e6c27,_0x59d7f3,_0x28031,_0x132b57){const _0x45031c=_0x14177f,{subscriptionLabel:_0xb8483}=this[_0x45031c(0x234)](_0x4e6c27,_0x28031),_0x3e1f9f=this[_0x45031c(0x25c)](_0xb8483),_0x5d84d0=_0x3e1f9f?.[_0x45031c(0x6a1)];_0x3e1f9f&&(_0x3e1f9f['unsubscribe'](_0x28031,0x0),this[_0x45031c(0x282)](_0x59d7f3,_0x23d754[_0x45031c(0x565)]['Media'],_0x3e42c9)),this[_0x45031c(0x572)](_0x4e6c27,_0x28031,_0x132b57,_0x5d84d0);}['getMediaSubscription'](_0x2f686c){const _0x2c8e70=_0x14177f,_0x5a733e=this[_0x2c8e70(0x939)][_0x2c8e70(0x40c)][_0x2c8e70(0x9ba)](_0x2f686c);if(_0x5a733e){if(!(_0x5a733e instanceof _0x3430fc))throw new _0x209e12(_0x209e12[_0x2c8e70(0x805)][_0x2c8e70(0x94f)],{'label':_0x2f686c,'subscription':_0x5a733e});return _0x5a733e;}}[_0x14177f(0x234)](_0x122484,_0x1ee267){const _0x89be85=_0x14177f,_0x1ae8b7=this[_0x89be85(0x45e)](_0x122484,_0x1ee267);return{'parts':_0x1ae8b7,'subscriptionLabel':_0xb0ad7f(_0x494165[_0x89be85(0x5a9)],_0x1ae8b7)};}['getPartsForSubscriptionLabel'](_0x434431,_0x4f1b99){const _0x609f33=_0x14177f,_0x412bbd=this[_0x609f33(0x9af)]['mediator'][_0x609f33(0x7ab)](_0x4f1b99,_0x434431),_0x4243e5=_0x412bbd[_0x609f33(0x9be)]();if(!_0x4243e5)throw new _0x209e12(_0x209e12[_0x609f33(0x805)][_0x609f33(0x4e0)],{'label':_0x434431,'streamId':_0x412bbd[_0x609f33(0x36d)](),'ownerId':_0x4f1b99,'localId':this['configs'][_0x609f33(0x845)][_0x609f33(0x519)]()});return{'contentType':_0x23d754[_0x609f33(0x565)][_0x609f33(0x581)],'label':_0x412bbd[_0x609f33(0x36d)](),'remoteId':_0x4243e5};}['cleanOldSubscription'](_0x71e10,_0x3a78a1,_0x5016db,_0x221d84){const _0x547779=_0x14177f,_0x5cd1a4=_0x221d84[_0x547779(0x9be)]();if(_0x5cd1a4&&_0x5cd1a4!==_0x71e10['nodeId']){const {parts:_0x3d018f,subscriptionLabel:_0x3806a2}=this[_0x547779(0x234)](_0x5016db,_0x3a78a1),_0xc01a38=this[_0x547779(0x25c)](_0x3806a2);_0xc01a38&&(_0xc01a38[_0x547779(0x9a3)](_0x3a78a1,0x0),this[_0x547779(0x282)](_0x3d018f[_0x547779(0x322)],_0x3d018f[_0x547779(0x156)],_0x3d018f[_0x547779(0x4f9)]));}}}class _0x1b2d1f{[_0x14177f(0x9af)];['maxOutgoingSubscriptions'];[_0x14177f(0x939)];constructor(_0x3e7659,_0x1d1993){const _0x15528a=_0x14177f;this[_0x15528a(0x9af)]=_0x3e7659,this[_0x15528a(0x395)]=_0x1d1993,this[_0x15528a(0x939)]=new _0x4b7517(({source:_0x4d814e,destination:_0x3cd534})=>_0x25a446(_0x4d814e,_0x3cd534));}[_0x14177f(0x2bc)](_0x538be4,_0x33a296){const _0x2ae442=_0x14177f,_0x5c3eb8={'source':_0x538be4,'destination':_0x33a296};this[_0x2ae442(0x939)][_0x2ae442(0x2bc)](_0x494165[_0x2ae442(0x871)],_0x5c3eb8);}[_0x14177f(0x282)](_0x4e0535,_0x3dd5ff,_0x595aed=''){const _0x97b696=_0x14177f,_0x132367={'contentType':_0x3dd5ff,'label':_0x4e0535,'remoteId':_0x595aed};this[_0x97b696(0x939)]['removeSubscription'](_0x132367,_0x494165[_0x97b696(0x871)]);}[_0x14177f(0x975)](_0x4ef3ee,_0x403eae){const _0x4b9669=_0x14177f;let _0x444d38;_0x444d38=_0x403eae[_0x4b9669(0x55e)]!==this[_0x4b9669(0x9af)][_0x4b9669(0x845)][_0x4b9669(0x519)]()?this[_0x4b9669(0x9af)][_0x4b9669(0x47f)][_0x4b9669(0x7ab)](_0x403eae[_0x4b9669(0x55e)],_0x403eae[_0x4b9669(0x322)]):this[_0x4b9669(0x9af)][_0x4b9669(0x47f)][_0x4b9669(0x221)](_0x403eae['label']);const _0x479c03=_0xb0ad7f(_0x494165['Outgoing'],{'contentType':_0x23d754['ContentType'][_0x4b9669(0x581)],'label':_0x444d38[_0x4b9669(0x448)](),'remoteId':_0x4ef3ee}),_0x4f4542=this[_0x4b9669(0x7c5)]();if(!this[_0x4b9669(0x939)]['subscriptions'][_0x4b9669(0x85c)](_0x479c03)&&_0x4f4542>=this[_0x4b9669(0x395)])return{'type':_0x3d0691[_0x4b9669(0x687)],'ownerId':_0x403eae[_0x4b9669(0x55e)],'label':_0x403eae['label'],'streamId':_0x444d38[_0x4b9669(0x448)](),'trackKinds':_0x403eae[_0x4b9669(0x274)],'params':_0x403eae[_0x4b9669(0x6a1)]};_0x444d38 instanceof _0xa39a59&&!_0x444d38[_0x4b9669(0x3e0)](_0x403eae[_0x4b9669(0x274)])&&_0x444d38[_0x4b9669(0x1f2)](_0x403eae['params']),this[_0x4b9669(0x939)][_0x4b9669(0x40c)][_0x4b9669(0x85c)](_0x479c03)||this[_0x4b9669(0x2bc)](_0x444d38[_0x4b9669(0x59c)](_0x4ef3ee),this[_0x4b9669(0x9af)]['mediator'][_0x4b9669(0x643)](_0x4ef3ee));}[_0x14177f(0x6f8)](_0x2bd7d6,{label:_0x2b844e,ownerId:_0x22d467,remainingTracks:_0x32571f}){const _0x134018=_0x14177f;if(_0x32571f>0x0)return;let _0x5530c4;_0x5530c4=_0x22d467!==this['configs'][_0x134018(0x845)][_0x134018(0x519)]()?this[_0x134018(0x9af)][_0x134018(0x47f)][_0x134018(0x7ab)](_0x22d467,_0x2b844e):this[_0x134018(0x9af)][_0x134018(0x47f)]['getLocalMediaStream'](_0x2b844e);const _0x273b1f=_0x5530c4[_0x134018(0x448)](),_0x7a1506=_0x23d754[_0x134018(0x565)]['Media'];this['removeSubscription'](_0x273b1f,_0x7a1506,_0x2bd7d6);}[_0x14177f(0x681)](_0x35c98e,{label:_0x238ac4,ownerId:_0x207fb1,trackKinds:_0x474ad9}){const _0x1fb42e=_0x14177f;if(_0x35c98e!==_0x186264)return[];let _0x2c5f0e=[];for(const _0x2a4be2 of this['maps'][_0x1fb42e(0x40c)]){const {source:_0x40a7a1,destination:_0x14590d}=_0x2a4be2[0x1];_0x40a7a1[_0x1fb42e(0x3bf)]()===_0x238ac4&&_0x40a7a1[_0x1fb42e(0x48b)]()===_0x207fb1&&_0x2c5f0e[_0x1fb42e(0x993)]({'sourceId':this['configs'][_0x1fb42e(0x845)][_0x1fb42e(0x519)](),'destinationIds':[_0x14590d['getRemoteId']()],'messageType':_0x1252cb[_0x1fb42e(0x278)],'content':{'type':_0x3d0691[_0x1fb42e(0x4b8)],'label':_0x238ac4,'ownerId':_0x207fb1,'trackKinds':_0x474ad9}});}return _0x2c5f0e;}[_0x14177f(0x71c)](_0x37f7d5,_0x4f8f48){const _0x71c1b1=_0x14177f,{label:_0x304765,ownerId:_0x260483,trackKinds:_0xd41aa4,params:_0xd10ded}=_0x4f8f48,{hasTracks:_0xb64531,streamId:_0x314a76,hasResolution:_0xa9db16,distance:_0x5f3d84,subscriptionLabel:_0x101a4c}=this['getSubscriptionInfo'](_0x37f7d5,_0x4f8f48);let _0x13522d=this[_0x71c1b1(0x7c5)]()<this[_0x71c1b1(0x395)]&&(_0xb64531||_0x5f3d84>-0x1)?_0x3d0691[_0x71c1b1(0x929)]:_0x3d0691[_0x71c1b1(0x16b)];const _0x5e4ed0=_0x5f3d84<0x0?0xa:_0x5f3d84;let _0x2fed3d=_0xb64531?_0xa9db16?_0x5e4ed0:_0x5e4ed0+0x0:_0x5e4ed0+0xa;return _0x101a4c&&this[_0x71c1b1(0x939)][_0x71c1b1(0x40c)]['has'](_0x101a4c)&&(_0xb64531&&(_0x2fed3d=0x0),_0x13522d=_0x3d0691[_0x71c1b1(0x929)]),{'type':_0x13522d,'cost':_0x2fed3d,'distance':_0x5f3d84,'label':_0x304765,'ownerId':_0x260483,'streamId':_0x314a76,'trackKinds':_0xd41aa4,'params':_0xd10ded};}['handleContentUnpublishMediaStream'](_0x3f5414){const _0x2afbd7=_0x14177f,{label:_0x4da146,ownerId:_0x22406a}=_0x3f5414,_0x15d47d=this[_0x2afbd7(0x9af)][_0x2afbd7(0x47f)][_0x2afbd7(0x7ab)](_0x22406a,_0x4da146);this[_0x2afbd7(0x939)][_0x2afbd7(0x40c)]['forEach'](_0x5a2b6e=>{const _0x6b4390=_0x2afbd7;if(_0x5a2b6e[_0x6b4390(0x4bb)][_0x6b4390(0x36d)]()===_0x15d47d['getShareableStreamId']()){const _0x85d184=_0x5a2b6e[_0x6b4390(0x9e6)];this[_0x6b4390(0x282)](_0x15d47d[_0x6b4390(0x448)](),_0x23d754[_0x6b4390(0x565)][_0x6b4390(0x581)],_0x85d184['getRemoteId']());}});}['handleContentCloseMediaStream']({label:_0x1e0ddb}){const _0x19417f=_0x14177f,_0x456b69=this[_0x19417f(0x9af)][_0x19417f(0x47f)]['getLocalMediaStream'](_0x1e0ddb);this['maps'][_0x19417f(0x40c)][_0x19417f(0x918)](_0x5468c8=>{const _0x5a66be=_0x19417f;if(_0x5468c8[_0x5a66be(0x4bb)]['getInternalStreamId']()===_0x456b69[_0x5a66be(0x448)]()){const _0x5b7668=_0x5468c8['destination'];this[_0x5a66be(0x282)](_0x456b69['getShareableStreamId'](),_0x23d754[_0x5a66be(0x565)][_0x5a66be(0x581)],_0x5b7668[_0x5a66be(0x6a3)]());}});}['removeSubscriptionsForNode'](_0x3f1fb3){const _0x16215d=_0x14177f;this[_0x16215d(0x939)]['removeSubscriptionsForNode'](_0x3f1fb3);}['close'](){const _0xac8975=_0x14177f;this[_0xac8975(0x939)][_0xac8975(0x40c)][_0xac8975(0x918)](this['closeSubscription'][_0xac8975(0x7b4)](this));}['closeSubscription'](_0x4b6b09,_0x58649f){const _0x12bfc9=_0x14177f;this[_0x12bfc9(0x939)][_0x12bfc9(0x961)](_0x4b6b09,_0x58649f);}[_0x14177f(0x3c4)](_0x389af7,{label:_0x518188,ownerId:_0x303055,trackKinds:_0x15f197,params:_0x208bbf}){const _0x329d89=_0x14177f;if(_0x303055!==this[_0x329d89(0x9af)][_0x329d89(0x845)]['getId']()){const _0x16837f=this['configs'][_0x329d89(0x47f)]['getRemoteMediaStream'](_0x303055,_0x518188);return _0x16837f&&_0x16837f['getProviderId']()!==_0x389af7?{'hasTracks':_0x16837f[_0x329d89(0x141)](_0x15f197),'hasResolution':this[_0x329d89(0x718)](_0x16837f[_0x329d89(0x61a)](),_0x208bbf),'streamId':_0x16837f[_0x329d89(0x448)](),'distance':this['configs'][_0x329d89(0x47f)]['getDistance'](_0x389af7,_0x303055),'subscriptionLabel':_0xb0ad7f(_0x494165[_0x329d89(0x871)],{'contentType':_0x23d754[_0x329d89(0x565)][_0x329d89(0x581)],'label':_0x16837f['getShareableStreamId'](),'remoteId':_0x389af7})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x8ff5d5=this[_0x329d89(0x9af)][_0x329d89(0x47f)][_0x329d89(0x221)](_0x518188);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x8ff5d5[_0x329d89(0x448)](),'distance':0x0,'subscriptionLabel':_0xb0ad7f(_0x494165[_0x329d89(0x871)],{'contentType':_0x23d754[_0x329d89(0x565)][_0x329d89(0x581)],'label':_0x8ff5d5[_0x329d89(0x448)](),'remoteId':_0x389af7})};}[_0x14177f(0x7c5)](){const _0x153549=_0x14177f;return Array[_0x153549(0x80f)](this[_0x153549(0x939)]['subscriptions']['entries']())[_0x153549(0x31d)](([_0x4ed3fb,{source:_0x242984}])=>_0x4ed3fb[_0x153549(0x53a)](_0x494165[_0x153549(0x871)])&&_0x242984[_0x153549(0x62d)]()===_0x23d754[_0x153549(0x565)]['Media'])[_0x153549(0x5b7)];}['canProvideResolution'](_0x1b78f8,_0x59ef4d){const _0x257cd3=_0x14177f;if(!_0x59ef4d||!_0x59ef4d['video']||_0x257cd3(0x374)==typeof _0x59ef4d[_0x257cd3(0xa15)]||!_0x59ef4d['video'][_0x257cd3(0x109)])return!0x0;const {width:_0x5c894b,height:_0x46cf8a}=_0x59ef4d[_0x257cd3(0xa15)]['maxResolution'];return _0x1b78f8['width']>=_0x5c894b&&_0x1b78f8[_0x257cd3(0x624)]>=_0x46cf8a;}}class _0x3d166c{[_0x14177f(0x9af)];['maxOutgoingSubscriptions'];[_0x14177f(0x2cf)];['systemTopic'];['incomingManager'];[_0x14177f(0x9d4)];constructor(_0x1e1ba9,_0x1372de,_0x465212){const _0x434349=_0x14177f;this[_0x434349(0x9af)]=_0x1e1ba9,this[_0x434349(0x395)]=_0x1372de,this[_0x434349(0x2cf)]=_0x465212,this['configs'][_0x434349(0x47f)]['registerSystemSource'](this),this['incomingManager']=new _0x55a6f3(this[_0x434349(0x9af)],this['maxDistance']),this[_0x434349(0x9d4)]=new _0x1b2d1f(this['configs'],this['maxOutgoingSubscriptions']);}[_0x14177f(0x8d0)](_0xf78da0){this['systemTopic']=_0xf78da0;}['unregisterSystemPublisher'](){const _0xea4a78=_0x14177f;delete this[_0xea4a78(0x60b)];}['close'](){const _0x2ef22e=_0x14177f;this['incomingManager']['close'](),this[_0x2ef22e(0x9d4)]['close'](),this[_0x2ef22e(0x9af)]['mediator']['unregisterSystemSource'](this);}['createIncomingSubscription'](_0x3e8fe1,_0x23b45b){const _0x27801f=_0x14177f;this[_0x27801f(0x33c)][_0x27801f(0x2bc)](_0x3e8fe1,_0x23b45b);}[_0x14177f(0x8aa)](_0x502b7c,_0x2c7e2e){const _0x34635d=_0x14177f;this['outgoingManager'][_0x34635d(0x2bc)](_0x502b7c,_0x2c7e2e);}[_0x14177f(0x426)](_0x26a34a,_0x5a0917,_0x1ae1f6=''){const _0x1459e7=_0x14177f;this[_0x1459e7(0x33c)][_0x1459e7(0x282)](_0x26a34a,_0x5a0917,_0x1ae1f6);}[_0x14177f(0x210)](_0x51d4e8,_0x14c55d,_0x14251e=''){const _0x45949f=_0x14177f;try{this['outgoingManager'][_0x45949f(0x282)](_0x51d4e8,_0x14c55d,_0x14251e);}catch(_0x1d1d5f){if(_0x1d1d5f instanceof _0x209e12&&_0x1d1d5f['code']===_0x209e12['codes'][_0x45949f(0x94f)])return;}}[_0x14177f(0x9a2)](_0x56cd1d){const _0x15fabd=_0x14177f;switch(_0x56cd1d['content'][_0x15fabd(0x162)]){case _0x3d0691[_0x15fabd(0x569)]:this[_0x15fabd(0x975)](_0x56cd1d['sourceId'],_0x56cd1d[_0x15fabd(0x4cc)]);break;case _0x3d0691['UnsubscribeMediaStream']:this['outgoingManager'][_0x15fabd(0x6f8)](_0x56cd1d[_0x15fabd(0x54b)],_0x56cd1d[_0x15fabd(0x4cc)]);break;case _0x3d0691[_0x15fabd(0x19f)]:this['handleSubscriptionNeedMediaStream'](_0x56cd1d['sourceId'],_0x56cd1d['content']);break;case _0x3d0691['RestartNeedMediaStream']:this['incomingManager'][_0x15fabd(0x4f0)](_0x56cd1d[_0x15fabd(0x54b)],_0x56cd1d[_0x15fabd(0x4cc)]);break;case _0x3d0691['CanProvideMediaStream']:case _0x3d0691[_0x15fabd(0x16b)]:this[_0x15fabd(0x33c)][_0x15fabd(0x99a)](_0x56cd1d['sourceId'],_0x56cd1d[_0x15fabd(0x4cc)]);break;case _0x3d0691[_0x15fabd(0x4b8)]:this[_0x15fabd(0x33c)][_0x15fabd(0x511)](_0x56cd1d[_0x15fabd(0x54b)],_0x56cd1d[_0x15fabd(0x4cc)]);}}[_0x14177f(0x8eb)](_0x55414d){const _0xddeec=_0x14177f;switch(_0x55414d[_0xddeec(0x4cc)][_0xddeec(0x162)]){case _0x2c4847['UnpublishMediaStream']:this[_0xddeec(0x33c)][_0xddeec(0x195)](_0x55414d[_0xddeec(0x4cc)]),this[_0xddeec(0x9d4)][_0xddeec(0x195)](_0x55414d['content']);break;case _0x2c4847['SubscribeMediaStream']:this[_0xddeec(0x33c)]['handleContentSubscribeMediaStream'](_0x55414d['content']);break;case _0x2c4847[_0xddeec(0x8d4)]:this[_0xddeec(0x33c)][_0xddeec(0x1e6)](_0x55414d[_0xddeec(0x4cc)]);break;case _0x2c4847[_0xddeec(0x478)]:this[_0xddeec(0x681)](_0x55414d[_0xddeec(0x54b)],_0x55414d[_0xddeec(0x4cc)]);break;case _0x2c4847[_0xddeec(0x6fb)]:this[_0xddeec(0x9d4)][_0xddeec(0x952)](_0x55414d[_0xddeec(0x4cc)]);break;case _0x2c4847[_0xddeec(0x84c)]:this['handleCloseContent'](_0x55414d[_0xddeec(0x4cc)][_0xddeec(0x322)],_0x23d754['ContentType']['PubSub']);break;case _0x2c4847['CloseObjectStoreBucket']:this[_0xddeec(0x80a)](_0x55414d[_0xddeec(0x4cc)][_0xddeec(0x322)],_0x23d754[_0xddeec(0x565)][_0xddeec(0x11d)]);break;case _0x2c4847[_0xddeec(0x43b)]:this[_0xddeec(0x80a)](_0x55414d['content'][_0xddeec(0x322)],_0x23d754[_0xddeec(0x565)][_0xddeec(0x6d1)]);break;case _0x2c4847['CloseKeyValueDatabase']:this['handleCloseContent'](_0x55414d['content'][_0xddeec(0x322)],_0x23d754[_0xddeec(0x565)][_0xddeec(0x1a9)]);break;case _0x2c4847['CloseVectorDatabase']:this[_0xddeec(0x80a)](_0x55414d['content'][_0xddeec(0x322)],_0x23d754[_0xddeec(0x565)][_0xddeec(0x7f8)]);break;case _0x2c4847[_0xddeec(0xa29)]:this[_0xddeec(0x80a)](_0x55414d[_0xddeec(0x4cc)][_0xddeec(0x322)],_0x23d754[_0xddeec(0x565)]['GraphDatabase']);break;case _0x2c4847[_0xddeec(0x1cf)]:case _0x2c4847[_0xddeec(0x7fb)]:this['handleCloseContent'](_0x55414d[_0xddeec(0x4cc)][_0xddeec(0x322)],_0x23d754['ContentType'][_0xddeec(0x875)]);break;case _0x2c4847[_0xddeec(0x6cd)]:this[_0xddeec(0x33c)][_0xddeec(0x781)](_0x55414d['content']);}}[_0x14177f(0x1aa)]({content:_0x26887a}){const _0x38ee6b=_0x14177f;_0x26887a[_0x38ee6b(0x162)]===_0x52a3af['NodeLeave']&&this['removeSubscriptionsForNode'](_0x26887a);}['handlePeerConnectionSystemEvents'](_0x25b8e9){const _0x2bac89=_0x14177f;_0x25b8e9[_0x2bac89(0x4cc)][_0x2bac89(0x162)]===_0x22b6b7[_0x2bac89(0x703)]&&this['incomingManager'][_0x2bac89(0x2aa)](_0x25b8e9[_0x2bac89(0x54b)]);}[_0x14177f(0x681)](_0x2def3d,_0xac3389){const _0x5a1cb9=_0x14177f;this[_0x5a1cb9(0x33c)]['handleContentUnsubscribeMediaStream'](_0xac3389),this['outgoingManager'][_0x5a1cb9(0x681)](_0x2def3d,_0xac3389)['forEach'](_0x49a4fa=>this[_0x5a1cb9(0x60b)]['publish'](_0x49a4fa));}[_0x14177f(0x975)](_0x3e0ebd,_0x174c0d){const _0x35b823=_0x14177f,_0xbac9fc=this[_0x35b823(0x9d4)][_0x35b823(0x975)](_0x3e0ebd,_0x174c0d);if(_0xbac9fc&&(this[_0x35b823(0x60b)][_0x35b823(0x95d)]({'sourceId':this[_0x35b823(0x9af)][_0x35b823(0x845)][_0x35b823(0x519)](),'destinationIds':[_0x3e0ebd],'messageType':_0x1252cb[_0x35b823(0x278)],'content':_0xbac9fc}),_0xbac9fc[_0x35b823(0x162)]===_0x3d0691[_0x35b823(0x687)]))throw new _0x2f2ea2(_0x35b823(0x6d9));}[_0x14177f(0x71c)](_0x467032,_0x5ddb0c){const _0x53f6c4=_0x14177f,_0x451ac2=this[_0x53f6c4(0x9d4)][_0x53f6c4(0x71c)](_0x467032,_0x5ddb0c);this[_0x53f6c4(0x60b)][_0x53f6c4(0x95d)]({'sourceId':this['configs']['localNode'][_0x53f6c4(0x519)](),'destinationIds':[_0x467032],'messageType':_0x1252cb[_0x53f6c4(0x278)],'content':_0x451ac2});}['handleCloseContent'](_0x367ec7,_0x15813c){const _0x491fe7=_0x14177f;this[_0x491fe7(0x426)](_0x367ec7,_0x15813c),this[_0x491fe7(0x210)](_0x367ec7,_0x15813c);}[_0x14177f(0x671)]({id:_0x3317de}){const _0x1ac053=_0x14177f;this[_0x1ac053(0x33c)][_0x1ac053(0x671)](_0x3317de),this['outgoingManager'][_0x1ac053(0x671)](_0x3317de);}}class _0x3db886{[_0x14177f(0x322)];['listener']=_0x26518c();constructor(){const _0x21a62c=_0x14177f;this[_0x21a62c(0x322)]=0x0;}[_0x14177f(0x3bf)](){const _0x30ae4a=_0x14177f;return this[_0x30ae4a(0x322)];}[_0x14177f(0x62d)](){const _0x2c959e=_0x14177f;return _0x23d754[_0x2c959e(0x565)][_0x2c959e(0x968)];}[_0x14177f(0x642)](_0x38b2de){const _0x118dd4=_0x14177f;_0x38b2de[_0x118dd4(0x8d0)](this);}[_0x14177f(0x828)](_0x7b8991){const _0x4fef44=_0x14177f;_0x7b8991[_0x4fef44(0x7b5)]();}[_0x14177f(0x95d)](_0x165aea){const _0x586057=_0x14177f;_0x1734f6[_0x586057(0x2b0)](_0x39fe10[_0x586057(0x3ef)],_0x586057(0x782),_0x165aea['sourceId'],_0x165aea),this[_0x586057(0xa03)][_0x586057(0x95d)]({'topicLabel':this['label'],'contentType':_0x23d754[_0x586057(0x565)][_0x586057(0x968)],'uuid':_0x165aea[_0x586057(0x56b)]??(0x0,_0x3fe08f['v4'])(),'recipients':_0x165aea[_0x586057(0x9f3)]??[],..._0x165aea});}['subscribe'](_0x692266){const _0x47fc38=_0x14177f;return this[_0x47fc38(0xa03)][_0x47fc38(0x1f2)](_0x692266);}}class _0x1b1b1c{[_0x14177f(0x96b)];[_0x14177f(0x779)]=[];[_0x14177f(0x7be)];['remoteNodes']=new Map();[_0x14177f(0x701)]=_0x26518c();constructor(_0x354b15){const _0x4247dc=_0x14177f;this[_0x4247dc(0x96b)]=_0x354b15,this[_0x4247dc(0x7be)]=(this[_0x4247dc(0x96b)][_0x4247dc(0xa2e)]-0x2*this[_0x4247dc(0x96b)][_0x4247dc(0x113)])/0x2,this[_0x4247dc(0x779)][_0x4247dc(0x993)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x2c51f5=0x0;_0x2c51f5<this[_0x4247dc(0x7be)];++_0x2c51f5)this[_0x4247dc(0x779)][_0x4247dc(0x993)]({'start':this[_0x4247dc(0x98f)](0x1,_0x2c51f5+0x1),'end':this[_0x4247dc(0x98f)](0x1,_0x2c51f5+0x2)-0x1});}[_0x14177f(0x98f)](_0x8ad962,_0x38bba9=0x1){const _0x3f2431=_0x14177f;let _0x35c6ab=this[_0x3f2431(0x96b)][_0x3f2431(0x2cf)]-this[_0x3f2431(0x96b)][_0x3f2431(0x113)],_0x1a0592=0x1;for(let _0x2359c8=0x1;_0x2359c8<_0x38bba9;++_0x2359c8)_0x35c6ab*=this['options'][_0x3f2431(0x2cf)]-this[_0x3f2431(0x96b)][_0x3f2431(0x113)]-_0x2359c8,_0x1a0592*=this[_0x3f2431(0x96b)][_0x3f2431(0x2cf)]-this[_0x3f2431(0x96b)][_0x3f2431(0x113)]-_0x2359c8+0x1;return _0x35c6ab*this[_0x3f2431(0x96b)][_0x3f2431(0x113)]+_0x8ad962-_0x1a0592;}['getCurrentMaxLayer'](_0x5673ef){const _0x4b9420=_0x14177f;let _0x388385=0x0;for(;this[_0x4b9420(0x779)][_0x388385]['end']<_0x5673ef;)_0x388385+=0x1;return _0x388385;}[_0x14177f(0x177)](){const _0x2cb02c=_0x14177f;return this[_0x2cb02c(0x96b)]['minConnections'];}[_0x14177f(0x2f3)](){const _0x5034bb=_0x14177f;return this[_0x5034bb(0x96b)][_0x5034bb(0xa2e)];}[_0x14177f(0x77d)](){const _0x485b5f=_0x14177f;return this[_0x485b5f(0x96b)][_0x485b5f(0x2cf)];}[_0x14177f(0x9cc)](){const _0x201c46=_0x14177f;return this[_0x201c46(0x41c)];}[_0x14177f(0x580)](_0x3b91d7,_0x5871dd){const _0x1656eb=_0x14177f;this['remoteNodes'][_0x1656eb(0x525)](_0x3b91d7,_0x5871dd),this[_0x1656eb(0x701)][_0x1656eb(0x95d)]();}[_0x14177f(0x819)](_0x7de4af){const _0x351182=_0x14177f;this[_0x351182(0x41c)][_0x351182(0x131)](_0x7de4af),this[_0x351182(0x701)][_0x351182(0x95d)]();}[_0x14177f(0x8ff)](_0x1c2f39){const _0x3b8c1e=_0x14177f;return this[_0x3b8c1e(0x41c)][_0x3b8c1e(0x85c)](_0x1c2f39);}[_0x14177f(0x854)](_0x112f25){const _0x19617e=_0x14177f;return this[_0x19617e(0x41c)][_0x19617e(0x9ba)](_0x112f25);}['getClosestNodes'](_0x1287d8,_0x3c17b2){const _0xf29f76=_0x14177f,_0x2dc1e3=this['getRemoteNode'](_0x3c17b2)?.[_0xf29f76(0x83d)]()??0x0;return _0x1287d8[_0xf29f76(0x265)](_0x4e8531=>this[_0xf29f76(0x854)](_0x4e8531))[_0xf29f76(0x31d)](_0x267f54=>void 0x0!==_0x267f54)[_0xf29f76(0x119)]((_0xa827c2,_0x35a4c0)=>Math[_0xf29f76(0x629)](_0x2dc1e3-(_0xa827c2&&_0xa827c2[_0xf29f76(0x83d)]()||0x1/0x0))-Math[_0xf29f76(0x629)](_0x2dc1e3-(_0x35a4c0&&_0x35a4c0[_0xf29f76(0x83d)]()||0x1/0x0)))[_0xf29f76(0x265)](_0x6b9fbc=>_0x6b9fbc[_0xf29f76(0x519)]());}[_0x14177f(0x396)](_0x10ba60){const _0x170b3a=_0x14177f;return this[_0x170b3a(0x701)][_0x170b3a(0x1f2)](_0x10ba60);}}class _0x58f4ee{[_0x14177f(0x857)];[_0x14177f(0x463)];[_0x14177f(0x459)];[_0x14177f(0x45d)];['options'];[_0x14177f(0x9af)];[_0x14177f(0x15e)];[_0x14177f(0x44c)];[_0x14177f(0x190)];['subscriptionManager'];[_0x14177f(0x51b)];['detectionManager'];[_0x14177f(0xa1e)];[_0x14177f(0x8ba)];[_0x14177f(0x29d)];['systemTopic']=new _0x3db886();['systemTopicUnsubscribe'];['localNode'];constructor(_0x41d665,_0x46fc95,_0x3150bd,_0x444ee7,_0x33fe22,_0x292d54,_0x325302){const _0x2531f1=_0x14177f;switch(this[_0x2531f1(0x857)]=_0x41d665,this[_0x2531f1(0x463)]=_0x46fc95,this[_0x2531f1(0x459)]=_0x3150bd,this[_0x2531f1(0x45d)]=_0x444ee7,this['options']=_0x33fe22,this[_0x2531f1(0x9af)]=_0x292d54,this[_0x2531f1(0x15e)]=_0x325302,_0x3150bd[_0x2531f1(0x162)]){case _0x23d754[_0x2531f1(0x9f6)]['User']:this[_0x2531f1(0x845)]=new _0xad6cd2(_0x3150bd[_0x2531f1(0x519)](),_0x3150bd[_0x2531f1(0x9f2)](),_0x3150bd[_0x2531f1(0x6ff)]());break;case _0x23d754['NodeType']['Agent']:default:this[_0x2531f1(0x845)]=new _0x168eed(_0x3150bd['getId']());}const _0x4c1ae3=this['getConfigs']();this[_0x2531f1(0x29d)]=new _0x1b1b1c(this[_0x2531f1(0x96b)]),this[_0x2531f1(0x44c)]=new _0x51f952(_0x4c1ae3,this[_0x2531f1(0x96b)],this[_0x2531f1(0x9af)][_0x2531f1(0x183)],this[_0x2531f1(0x9af)][_0x2531f1(0x365)]),this[_0x2531f1(0x190)]=new _0xc06c7e(_0x4c1ae3,this[_0x2531f1(0x45d)],this[_0x2531f1(0x29d)],this[_0x2531f1(0x9af)]['iceServers'],this[_0x2531f1(0x96b)]),this[_0x2531f1(0x8b7)]=new _0x3d166c(_0x4c1ae3,this[_0x2531f1(0x96b)][_0x2531f1(0x395)],this[_0x2531f1(0x29d)]['getMaxDistance']()),this['statsManager']=new _0x38d4bb(_0x4c1ae3),this[_0x2531f1(0x21d)]=new _0x350a6c(_0x4c1ae3),this[_0x2531f1(0xa1e)]=new _0x555a24(_0x4c1ae3),this[_0x2531f1(0x8ba)]=new _0xc631e0(_0x4c1ae3,this[_0x2531f1(0x29d)]),this[_0x2531f1(0x7d1)]=this[_0x2531f1(0x8ac)]();}[_0x14177f(0x54e)](){const _0xb51fdb=_0x14177f,_0x595473=this[_0xb51fdb(0x13a)]();this[_0xb51fdb(0x190)]=new _0xc06c7e(_0x595473,this[_0xb51fdb(0x45d)],this[_0xb51fdb(0x29d)],this[_0xb51fdb(0x9af)]['iceServers'],this['options']),this['subscriptionManager']=new _0x3d166c(_0x595473,this[_0xb51fdb(0x96b)][_0xb51fdb(0x395)],this[_0xb51fdb(0x29d)][_0xb51fdb(0x77d)]()),this['statsManager']=new _0x38d4bb(_0x595473),this[_0xb51fdb(0x21d)]=new _0x350a6c(_0x595473),this[_0xb51fdb(0xa1e)]=new _0x555a24(_0x595473),this[_0xb51fdb(0x8ba)]=new _0xc631e0(_0x595473,this['graphService']);const _0x18f936=this[_0xb51fdb(0x190)][_0xb51fdb(0x137)]();this[_0xb51fdb(0x44c)][_0xb51fdb(0x54f)]()[_0xb51fdb(0x918)](_0x583c60=>{const _0xefde2=_0xb51fdb;this[_0xefde2(0x8b7)][_0xefde2(0x8aa)](_0x583c60,_0x18f936),this['subscriptionManager'][_0xefde2(0xa1a)](_0x18f936,_0x583c60),_0x583c60[_0xefde2(0x140)]();}),this[_0xb51fdb(0x44c)]['getObjectStoreBuckets']()[_0xb51fdb(0x918)](_0x9fa416=>{const _0x10f7a1=_0xb51fdb;this[_0x10f7a1(0x8b7)]['createOutgoingSubscription'](_0x9fa416,_0x18f936),this[_0x10f7a1(0x8b7)][_0x10f7a1(0xa1a)](_0x18f936,_0x9fa416),_0x9fa416[_0x10f7a1(0x140)](),_0x9fa416[_0x10f7a1(0x3a4)]();}),this[_0xb51fdb(0x44c)]['getKeyValueDatabases']()[_0xb51fdb(0x918)](_0x4848b2=>{const _0xda0afb=_0xb51fdb;this[_0xda0afb(0x8b7)][_0xda0afb(0x8aa)](_0x4848b2,_0x18f936),this[_0xda0afb(0x8b7)]['createIncomingSubscription'](_0x18f936,_0x4848b2),_0x4848b2[_0xda0afb(0x140)](),this[_0xda0afb(0x764)](_0x4848b2);}),this['contentManager']['getJobDispatchers']()[_0xb51fdb(0x918)](_0x178761=>{const _0x46ab2b=_0xb51fdb;this[_0x46ab2b(0x8b7)][_0x46ab2b(0x8aa)](_0x178761,_0x18f936),this[_0x46ab2b(0x8b7)][_0x46ab2b(0xa1a)](_0x18f936,_0x178761),_0x178761[_0x46ab2b(0x140)]();}),this[_0xb51fdb(0x44c)][_0xb51fdb(0x769)]()['forEach'](_0x455ee9=>{const _0x3179df=_0xb51fdb;this[_0x3179df(0x8b7)][_0x3179df(0x8aa)](_0x455ee9,_0x18f936),this[_0x3179df(0x8b7)][_0x3179df(0xa1a)](_0x18f936,_0x455ee9),_0x455ee9['reset']();}),this[_0xb51fdb(0x44c)][_0xb51fdb(0x19b)]()[_0xb51fdb(0x918)](_0x3f4ac7=>{const _0x939b62=_0xb51fdb;this[_0x939b62(0x8b7)][_0x939b62(0x8aa)](_0x3f4ac7,_0x18f936),this[_0x939b62(0x8b7)]['createIncomingSubscription'](_0x18f936,_0x3f4ac7),_0x3f4ac7[_0x939b62(0x140)]();}),this[_0xb51fdb(0x44c)][_0xb51fdb(0x6b8)]()[_0xb51fdb(0x918)](_0x48dde6=>{const _0x9360d0=_0xb51fdb;this['subscriptionManager'][_0x9360d0(0x8aa)](_0x48dde6,_0x18f936),this[_0x9360d0(0x8b7)][_0x9360d0(0xa1a)](_0x18f936,_0x48dde6),_0x48dde6[_0x9360d0(0x140)]();}),this[_0xb51fdb(0x7d1)]=this[_0xb51fdb(0x8ac)]();}[_0x14177f(0x300)](_0x3bf047){const _0x123845=_0x14177f;try{this[_0x123845(0x60b)][_0x123845(0x642)](_0x3bf047);}catch(_0x1ac9a7){this[_0x123845(0x466)](_0x1ac9a7,{});}}[_0x14177f(0x88b)](_0x549e86){const _0x22f425=_0x14177f;try{this[_0x22f425(0x60b)][_0x22f425(0x828)](_0x549e86);}catch(_0x17d699){this[_0x22f425(0x466)](_0x17d699,{});}}[_0x14177f(0x8a8)](_0x6f391c,_0xcf4d8b){const _0xf63734=_0x14177f;return this[_0xf63734(0x190)][_0xf63734(0x8a8)](_0x6f391c,_0xcf4d8b);}[_0x14177f(0x643)](_0x152173){const _0x599e51=_0x14177f;try{return this['connectionManager'][_0x599e51(0x643)](_0x152173);}catch(_0x518548){throw this[_0x599e51(0x466)](_0x518548,{});}}[_0x14177f(0x615)](_0x1763fb){const _0x1452b3=_0x14177f;try{return this[_0x1452b3(0x190)]['getConnections'](_0x1763fb);}catch(_0x4562ee){throw this[_0x1452b3(0x466)](_0x4562ee,{});}}[_0x14177f(0x7ab)](_0x1616b0,_0x3ed533){const _0x38d5bf=_0x14177f;try{return this[_0x38d5bf(0x44c)][_0x38d5bf(0x3c6)](_0x1d7fa6=>_0x1d7fa6['getOwnerId']()===_0x1616b0&&_0x1d7fa6[_0x38d5bf(0x3bf)]()===_0x3ed533)[0x0];}catch(_0x4d193e){throw this[_0x38d5bf(0x466)](_0x4d193e,{});}}[_0x14177f(0x221)](_0x4c2499){const _0x6b7c3=_0x14177f;try{return this[_0x6b7c3(0x44c)][_0x6b7c3(0x76c)](_0x1397b4=>_0x1397b4[_0x6b7c3(0x3bf)]()===_0x4c2499)[0x0];}catch(_0x172930){throw this[_0x6b7c3(0x466)](_0x172930,{});}}[_0x14177f(0xa37)]=(..._0x84bd11)=>{const _0x493824=_0x14177f;try{return this[_0x493824(0x15e)]['emit'](..._0x84bd11);}catch(_0x571d18){throw this[_0x493824(0x466)](_0x571d18,{});}};[_0x14177f(0x2dc)](_0x37f390){const _0x17f177=_0x14177f;try{this[_0x17f177(0x51b)]['addRemoteNode'](_0x37f390);}catch(_0x17533d){throw this[_0x17f177(0x466)](_0x17533d,{});}}['unregisterRemoteNode'](_0x21321b){const _0x5200fa=_0x14177f;try{this[_0x5200fa(0x51b)]['removeRemoteNode'](_0x21321b);}catch(_0x345644){throw this['handleError'](_0x345644,{});}}[_0x14177f(0x1ff)](_0xd16bcc){const _0x3b9a46=_0x14177f;return this[_0x3b9a46(0x190)][_0x3b9a46(0x1ff)](_0xd16bcc);}async[_0x14177f(0x3d4)](){const _0x5d6ff3=_0x14177f;try{await this[_0x5d6ff3(0x190)][_0x5d6ff3(0x3d4)]();const _0x4b612a=await this[_0x5d6ff3(0x8ba)][_0x5d6ff3(0x3e3)]();for(const _0x2b88fd of _0x4b612a)this[_0x5d6ff3(0x190)][_0x5d6ff3(0x8a8)](_0x2b88fd);}catch(_0x5ab805){throw this[_0x5d6ff3(0x466)](_0x5ab805,{});}}[_0x14177f(0x705)](_0x3eefac){const _0x4edca3=_0x14177f;this[_0x4edca3(0x845)][_0x4edca3(0x162)]===_0x23d754['NodeType']['User']&&(this[_0x4edca3(0x845)][_0x4edca3(0x587)](_0x3eefac[_0x4edca3(0x6ff)]()),this[_0x4edca3(0x845)][_0x4edca3(0x85e)](_0x3eefac[_0x4edca3(0x9f2)]()));}[_0x14177f(0x9b6)]({force:_0x3e4868=!0x1},_0x10869a=!0x1){const _0x1eb067=_0x14177f;if(_0x1734f6[_0x1eb067(0x8c3)](_0x1eb067(0x9ed),{'clusterId':this['clusterId'],'nodeId':this[_0x1eb067(0x845)][_0x1eb067(0x519)](),'nodeType':this['localNode'][_0x1eb067(0x162)]}),!_0x3e4868&&this['connectionManager'][_0x1eb067(0x72a)]())throw new _0x3b8aa0(_0x1a76df[_0x1eb067(0x9e2)],_0x1eb067(0x2f4));_0x1734f6[_0x1eb067(0x667)](),this[_0x1eb067(0x7d1)](),this[_0x1eb067(0xa1e)][_0x1eb067(0x9b6)](),this[_0x1eb067(0x21d)][_0x1eb067(0x9b6)](),this[_0x1eb067(0x51b)]['close'](),this[_0x1eb067(0x8b7)]['close'](),this[_0x1eb067(0x190)]['close'](),this['contentManager'][_0x1eb067(0x9b6)](_0x10869a),this[_0x1eb067(0x8ba)][_0x1eb067(0x9b6)]();}['openPubSubTopic'](_0x2a417f){const _0xd1062e=_0x14177f;try{const _0x4f5e6f=this['contentManager'][_0xd1062e(0x60c)](_0x2a417f),_0x3a5097=this[_0xd1062e(0x190)][_0xd1062e(0x137)]();return this['subscriptionManager'][_0xd1062e(0x8aa)](_0x4f5e6f,_0x3a5097),this[_0xd1062e(0x8b7)][_0xd1062e(0xa1a)](_0x3a5097,_0x4f5e6f),_0x4f5e6f;}catch(_0x52839b){throw this[_0xd1062e(0x466)](_0x52839b,{});}}async[_0x14177f(0x4f5)](_0x28db66,_0xef9c83){const _0x534d6c=_0x14177f;try{const _0x1c1bc4=this['contentManager'][_0x534d6c(0x257)](_0x28db66,this[_0x534d6c(0x96b)][_0x534d6c(0x400)],_0xef9c83),_0x2ee421=this[_0x534d6c(0x190)]['getConnectionGroup']();return this['subscriptionManager'][_0x534d6c(0x8aa)](_0x1c1bc4,_0x2ee421),this[_0x534d6c(0x8b7)]['createIncomingSubscription'](_0x2ee421,_0x1c1bc4),await _0x1c1bc4[_0x534d6c(0x3a4)](),_0x1c1bc4;}catch(_0x3c3f97){throw this['handleError'](_0x3c3f97,{});}}async[_0x14177f(0x6e1)](_0xb8fd28,_0x3b9361){const _0x255d7e=_0x14177f;try{if(!this[_0x255d7e(0x96b)]['externalStorageConnectors'])throw new _0x3b8aa0(_0x1a76df['ExternalStorageConnectorsMissing'],_0x255d7e(0x470));if(!(this[_0x255d7e(0x459)]instanceof _0x469835))throw new _0x3b8aa0(_0x1a76df[_0x255d7e(0x410)],_0x255d7e(0x91a));const _0x1d94a3=this['options'][_0x255d7e(0x7ed)]['get'](_0x3b9361);if(!_0x1d94a3)throw new _0x3b8aa0(_0x1a76df[_0x255d7e(0x23f)],_0x255d7e(0x470));const _0x30f0d5=this[_0x255d7e(0x44c)][_0x255d7e(0x67f)](_0xb8fd28,_0x1d94a3),_0x1ddb76=this['connectionManager'][_0x255d7e(0x137)]();return this[_0x255d7e(0x8b7)][_0x255d7e(0x8aa)](_0x30f0d5,_0x1ddb76),this['subscriptionManager'][_0x255d7e(0xa1a)](_0x1ddb76,_0x30f0d5),await _0x30f0d5[_0x255d7e(0x54e)](),_0x30f0d5;}catch(_0x5f0394){throw this['handleError'](_0x5f0394,{});}}async[_0x14177f(0x314)](_0x347747,_0x5c64b1,_0x34183a){const _0x26951c=_0x14177f;try{_0x34183a=_0x34183a||this[_0x26951c(0x96b)][_0x26951c(0x9e1)];const _0x1709e1=await this['contentManager'][_0x26951c(0x15d)](_0x347747,_0x5c64b1,_0x34183a),_0x3ce436=this[_0x26951c(0x190)]['getConnectionGroup']();return this[_0x26951c(0x8b7)][_0x26951c(0x8aa)](_0x1709e1,_0x3ce436),this[_0x26951c(0x8b7)][_0x26951c(0xa1a)](_0x3ce436,_0x1709e1),await _0x1709e1[_0x26951c(0x54e)](),this[_0x26951c(0x764)](_0x1709e1),_0x1709e1;}catch(_0x580712){throw this[_0x26951c(0x466)](_0x580712,{});}}async[_0x14177f(0x9e4)](_0x467ff7){const _0x25ce2e=_0x14177f;try{const _0x1f2d02=await this['contentManager'][_0x25ce2e(0x312)](_0x467ff7,this['graphService']),_0x3d3817=this['connectionManager'][_0x25ce2e(0x137)]();return this[_0x25ce2e(0x8b7)][_0x25ce2e(0x8aa)](_0x1f2d02,_0x3d3817),this['subscriptionManager'][_0x25ce2e(0xa1a)](_0x3d3817,_0x1f2d02),_0x1f2d02[_0x25ce2e(0x54e)](),_0x1f2d02;}catch(_0x19d2db){throw this[_0x25ce2e(0x466)](_0x19d2db,{});}}async[_0x14177f(0x6c4)](_0x4da10f){const _0x4d577f=_0x14177f;throw new Error(_0x4d577f(0x343));}async[_0x14177f(0x966)](_0x1f65ea){const _0x4f27f4=_0x14177f;try{const _0x1efe7c=await this[_0x4f27f4(0x44c)][_0x4f27f4(0x8a7)](_0x1f65ea,this['graphService']),_0x5a970e=this[_0x4f27f4(0x190)]['getConnectionGroup']();return this[_0x4f27f4(0x8b7)][_0x4f27f4(0x8aa)](_0x1efe7c,_0x5a970e),this[_0x4f27f4(0x8b7)][_0x4f27f4(0xa1a)](_0x5a970e,_0x1efe7c),_0x1efe7c[_0x4f27f4(0x54e)](),_0x1efe7c;}catch(_0xa7ae95){throw console[_0x4f27f4(0x70e)](_0xa7ae95),this[_0x4f27f4(0x466)](_0xa7ae95,{});}}async[_0x14177f(0x44e)](_0x1dccc1){const _0x55c093=_0x14177f;try{if(!this[_0x55c093(0x96b)]['generativeAIWorkerConnectors']||!this['options'][_0x55c093(0x461)]||!this[_0x55c093(0x96b)]['nlpLibraryConnector'])throw new _0x3b8aa0(_0x1a76df['GenerativeAIWorkerMissingConnector'],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x55c093(0x459)]instanceof _0x469835))throw new _0x3b8aa0(_0x1a76df[_0x55c093(0x410)],'Node\x20is\x20not\x20an\x20agent');const _0x54284f=[];for(const _0xf29e64 of this[_0x55c093(0x96b)]['generativeAIWorkerConnectors'])_0x54284f[_0x55c093(0x993)](new _0xf29e64());const _0x3e705f=new this[(_0x55c093(0x96b))][(_0x55c093(0x461))](),_0x221e82=new this[(_0x55c093(0x96b))][(_0x55c093(0x956))]();let _0x43c910,_0x5c3833,_0x414a5e;this[_0x55c093(0x96b)][_0x55c093(0x2d7)]&&(_0x43c910=new this['options'][(_0x55c093(0x2d7))]()),this[_0x55c093(0x96b)][_0x55c093(0x66c)]&&(_0x5c3833=new this[(_0x55c093(0x96b))][(_0x55c093(0x66c))]()),this[_0x55c093(0x96b)][_0x55c093(0x58c)]&&(_0x414a5e=new this['options'][(_0x55c093(0x58c))]());const _0x32e301=await this[_0x55c093(0x44c)][_0x55c093(0xa49)](_0x1dccc1,this[_0x55c093(0x459)],_0x54284f,_0x3e705f,_0x221e82,_0x43c910,_0x5c3833,_0x414a5e),_0x243a16=this[_0x55c093(0x190)][_0x55c093(0x137)]();this['subscriptionManager'][_0x55c093(0x8aa)](_0x32e301,_0x243a16),this['subscriptionManager'][_0x55c093(0xa1a)](_0x243a16,_0x32e301);const _0x41c8bc=this[_0x55c093(0x8ba)]['getAncestorIds']();return await _0x32e301[_0x55c093(0x54e)](0x0===_0x41c8bc[_0x55c093(0x5b7)]||void 0x0),_0x32e301;}catch(_0x4f9a76){throw this[_0x55c093(0x466)](_0x4f9a76,{});}}[_0x14177f(0x35a)](_0x2e5601){const _0x3d09a5=_0x14177f;try{if(!this[_0x3d09a5(0x96b)][_0x3d09a5(0x20c)])throw new _0x3b8aa0(_0x1a76df['GraphDatabaseMissingConnector'],_0x3d09a5(0x92e));if(!(this[_0x3d09a5(0x459)]instanceof _0x469835))throw new _0x3b8aa0(_0x1a76df[_0x3d09a5(0x410)],_0x3d09a5(0x91a));const _0x4a3ea1=this[_0x3d09a5(0x44c)][_0x3d09a5(0x2cd)](_0x2e5601,this['options'][_0x3d09a5(0x20c)]),_0x142552=this[_0x3d09a5(0x190)][_0x3d09a5(0x137)]();return this['subscriptionManager'][_0x3d09a5(0x8aa)](_0x4a3ea1,_0x142552),this[_0x3d09a5(0x8b7)][_0x3d09a5(0xa1a)](_0x142552,_0x4a3ea1),_0x4a3ea1;}catch(_0x24c52a){throw this[_0x3d09a5(0x466)](_0x24c52a,{});}}[_0x14177f(0x4bf)](_0x1d892b){const _0x47fd4c=_0x14177f;try{if(!this[_0x47fd4c(0x96b)][_0x47fd4c(0x427)])throw new _0x3b8aa0(_0x1a76df[_0x47fd4c(0x59e)],_0x47fd4c(0xa26));if(!(this[_0x47fd4c(0x459)]instanceof _0x469835))throw new _0x3b8aa0(_0x1a76df['NodeInvalidType'],_0x47fd4c(0x91a));const _0x13ddad=this[_0x47fd4c(0x44c)][_0x47fd4c(0x1ce)](_0x1d892b,this[_0x47fd4c(0x96b)][_0x47fd4c(0x427)]),_0x1435e9=this[_0x47fd4c(0x190)][_0x47fd4c(0x137)]();return this[_0x47fd4c(0x8b7)][_0x47fd4c(0x8aa)](_0x13ddad,_0x1435e9),this[_0x47fd4c(0x8b7)][_0x47fd4c(0xa1a)](_0x1435e9,_0x13ddad),_0x13ddad;}catch(_0x2fd93b){throw this[_0x47fd4c(0x466)](_0x2fd93b,{});}}[_0x14177f(0x54f)](_0x17a558){const _0x344f21=_0x14177f;try{return this[_0x344f21(0x44c)][_0x344f21(0x54f)](_0x17a558);}catch(_0x2ab68e){throw this[_0x344f21(0x466)](_0x2ab68e,{});}}[_0x14177f(0x5ee)](_0x3ea792){const _0x5f4f93=_0x14177f;try{return this[_0x5f4f93(0x44c)]['getObjectStoreBuckets'](_0x3ea792);}catch(_0x5740a6){throw this[_0x5f4f93(0x466)](_0x5740a6,{});}}[_0x14177f(0x3b1)](_0x402dc3){const _0x1aecc2=_0x14177f;try{return this[_0x1aecc2(0x44c)][_0x1aecc2(0x3b1)](_0x402dc3);}catch(_0x10b711){throw this['handleError'](_0x10b711,{});}}[_0x14177f(0x570)](_0x48b2ae){const _0x546c56=_0x14177f;try{return this[_0x546c56(0x44c)]['getKeyValueDatabases'](_0x48b2ae);}catch(_0x386643){throw this['handleError'](_0x386643,{});}}[_0x14177f(0x9eb)](_0x33b8af){const _0x29a644=_0x14177f;try{return this[_0x29a644(0x44c)][_0x29a644(0x9eb)](_0x33b8af);}catch(_0x483473){throw this[_0x29a644(0x466)](_0x483473,{});}}['getGenerativeAIWorkers'](_0x52fd86){const _0x171734=_0x14177f;try{return this[_0x171734(0x44c)][_0x171734(0x699)](_0x52fd86);}catch(_0x449dc9){throw this[_0x171734(0x466)](_0x449dc9,{});}}[_0x14177f(0x6b8)](_0x2be5e1){const _0x2d5536=_0x14177f;try{return this['contentManager'][_0x2d5536(0x6b8)](_0x2be5e1);}catch(_0x39930b){throw this['handleError'](_0x39930b,{});}}[_0x14177f(0x87e)](_0x2c7065,_0x563dbc){const _0x59f1f4=_0x14177f;if(!this[_0x59f1f4(0x9af)][_0x59f1f4(0x394)][_0x59f1f4(0x775)](_0x5297d5['MediaStream']))throw new _0x3b8aa0(_0x1a76df[_0x59f1f4(0x48c)],_0x59f1f4(0x313));try{return this[_0x59f1f4(0x44c)][_0x59f1f4(0x87e)](_0x2c7065,_0x563dbc);}catch(_0x1a536d){throw this[_0x59f1f4(0x466)](_0x1a536d,{});}}[_0x14177f(0x360)](_0x16582b,_0x110dea){const _0x80dc29=_0x14177f;if(!this['configs']['features'][_0x80dc29(0x775)](_0x5297d5[_0x80dc29(0x6c9)]))throw new _0x3b8aa0(_0x1a76df[_0x80dc29(0x48c)],_0x80dc29(0x313));try{return this[_0x80dc29(0x44c)]['createLocalDynamicMediaStream'](_0x16582b,_0x110dea);}catch(_0x3a646c){throw this['handleError'](_0x3a646c,{});}}[_0x14177f(0x76c)](_0x49bfa2){const _0x4a6942=_0x14177f;if(!this[_0x4a6942(0x9af)][_0x4a6942(0x394)][_0x4a6942(0x775)](_0x5297d5[_0x4a6942(0x6c9)]))throw new _0x3b8aa0(_0x1a76df[_0x4a6942(0x48c)],_0x4a6942(0x313));try{return this['contentManager'][_0x4a6942(0x76c)](_0x49bfa2);}catch(_0x566430){throw this['handleError'](_0x566430,{});}}[_0x14177f(0x3c6)](_0x2c987e){const _0x5825b5=_0x14177f;if(!this[_0x5825b5(0x9af)]['features'][_0x5825b5(0x775)](_0x5297d5[_0x5825b5(0x6c9)]))throw new _0x3b8aa0(_0x1a76df['FeatureNotEnabled'],_0x5825b5(0x313));try{return this[_0x5825b5(0x44c)][_0x5825b5(0x3c6)](_0x2c987e);}catch(_0x3fd947){throw this[_0x5825b5(0x466)](_0x3fd947,{});}}[_0x14177f(0x19b)](_0x258bd5){const _0xf233ce=_0x14177f;try{return this[_0xf233ce(0x44c)][_0xf233ce(0x19b)](_0x258bd5);}catch(_0x1b2cbe){throw this[_0xf233ce(0x466)](_0x1b2cbe,{});}}['getDistance'](_0x2abcde,_0x232961){const _0x412626=_0x14177f;return this['nodeManager'][_0x412626(0x58f)](_0x2abcde,_0x232961);}[_0x14177f(0x248)](){const _0x4b54cf=_0x14177f;return this[_0x4b54cf(0x8ba)]['getLocalNode']();}[_0x14177f(0x9cc)](_0x10d970){const _0x159937=_0x14177f;try{return this[_0x159937(0x8ba)][_0x159937(0x9cc)](_0x10d970);}catch(_0x5686ec){throw this[_0x159937(0x466)](_0x5686ec,{});}}[_0x14177f(0x953)](){const _0x3be8b7=_0x14177f;return this[_0x3be8b7(0x190)][_0x3be8b7(0x953)]();}[_0x14177f(0x136)](_0x3d13c0){const _0x11a40b=_0x14177f;return this['nodeManager'][_0x11a40b(0x136)](_0x3d13c0);}async[_0x14177f(0x4c9)](_0x4c703e){const _0x78b17e=_0x14177f;try{if(_0x1734f6[_0x78b17e(0x2b0)](_0x39fe10['Events'],'Orchestrator\x20handleSystemEvents',this[_0x78b17e(0x8ba)][_0x78b17e(0x1a0)](),_0x4c703e),_0x10e9d7(_0x4c703e,this['nodeManager'][_0x78b17e(0x1a0)]()))return void this['connectionManager'][_0x78b17e(0x8fd)](_0x4c703e);switch(_0x4c703e[_0x78b17e(0x722)]){case _0x1252cb['Content']:this[_0x78b17e(0x51b)][_0x78b17e(0x8eb)](_0x4c703e),this[_0x78b17e(0x8b7)][_0x78b17e(0x8eb)](_0x4c703e),this[_0x78b17e(0x44c)]['handleContentSystemEvents'](_0x4c703e);break;case _0x1252cb['Node']:this[_0x78b17e(0x8b7)][_0x78b17e(0x1aa)](_0x4c703e),this[_0x78b17e(0x190)]['handleNodeSystemEvents'](_0x4c703e),this[_0x78b17e(0x44c)][_0x78b17e(0x1aa)](_0x4c703e),this['nodeManager'][_0x78b17e(0x1aa)](_0x4c703e);break;case _0x1252cb[_0x78b17e(0x545)]:this[_0x78b17e(0xa1e)][_0x78b17e(0x93e)](_0x4c703e);break;case _0x1252cb[_0x78b17e(0x9d7)]:this['remediationManager']['handleRemediationSystemEvents'](_0x4c703e);break;case _0x1252cb[_0x78b17e(0x318)]:this['detectionManager']['handleStatsSystemEvents'](_0x4c703e);break;case _0x1252cb[_0x78b17e(0x278)]:_0x4c703e['content'][_0x78b17e(0x162)]!==_0x3d0691['UnsubscribeMediaStream']?(this['subscriptionManager'][_0x78b17e(0x9a2)](_0x4c703e),this[_0x78b17e(0x44c)][_0x78b17e(0x9a2)](_0x4c703e)):(this[_0x78b17e(0x44c)][_0x78b17e(0x9a2)](_0x4c703e),this['subscriptionManager'][_0x78b17e(0x9a2)](_0x4c703e));break;case _0x1252cb[_0x78b17e(0x6ae)]:await this[_0x78b17e(0x190)][_0x78b17e(0x870)](_0x4c703e),this[_0x78b17e(0x51b)]['handlePeerConnectionSystemEvents'](_0x4c703e),this[_0x78b17e(0x8ba)][_0x78b17e(0x870)](_0x4c703e),this[_0x78b17e(0x8b7)][_0x78b17e(0x870)](_0x4c703e);}}catch(_0x22af77){throw _0x1734f6[_0x78b17e(0x423)](_0x78b17e(0x4c9),_0x22af77),this[_0x78b17e(0x466)](_0x22af77,{});}}[_0x14177f(0x466)](_0x19c099,_0x262841){const _0x8ffe57=_0x14177f;if(!(_0x19c099 instanceof _0x2f2ea2)){if(_0x19c099 instanceof _0x3b8aa0)throw _0x19c099;if(!(_0x19c099 instanceof Error))throw new _0x3b8aa0(_0x1a76df[_0x8ffe57(0x201)],_0x8ffe57(0x70c)+_0x19c099);if(!(_0x19c099 instanceof _0x209e12))throw new _0x3b8aa0(_0x1a76df[_0x8ffe57(0x201)],_0x8ffe57(0x2ab)+_0x19c099[_0x8ffe57(0x84a)]);switch(_0x19c099[_0x8ffe57(0x3bc)]){case _0x209e12[_0x8ffe57(0x805)][_0x8ffe57(0x863)]:case _0x209e12['codes'][_0x8ffe57(0x978)]:case _0x209e12['codes'][_0x8ffe57(0x2f9)]:case _0x209e12[_0x8ffe57(0x805)][_0x8ffe57(0x25e)]:case _0x209e12[_0x8ffe57(0x805)][_0x8ffe57(0x36c)]:case _0x209e12[_0x8ffe57(0x805)][_0x8ffe57(0x3cd)]:case _0x209e12[_0x8ffe57(0x805)]['InvalidPublisher']:case _0x209e12[_0x8ffe57(0x805)]['InvalidSubscriber']:case _0x209e12[_0x8ffe57(0x805)]['SubscriptionRequestDoesNotExist']:case _0x209e12[_0x8ffe57(0x805)]['SubscriptionRequestFailed']:case _0x209e12[_0x8ffe57(0x805)][_0x8ffe57(0x8f7)]:case _0x209e12[_0x8ffe57(0x805)][_0x8ffe57(0x94f)]:}throw _0x1734f6[_0x8ffe57(0x70e)](_0x8ffe57(0x317)+_0x19c099['message'],{'clusterId':this['clusterId'],'nodeId':this[_0x8ffe57(0x845)][_0x8ffe57(0x519)](),'nodeType':this[_0x8ffe57(0x845)][_0x8ffe57(0x162)]},_0x19c099),new _0x3b8aa0(_0x1a76df[_0x8ffe57(0x201)],_0x8ffe57(0x287)+_0x19c099['message']);}}[_0x14177f(0x13a)](){const _0x394d5d=_0x14177f;return{'mediator':this,'vendorId':this[_0x394d5d(0x857)],'clusterId':this[_0x394d5d(0x463)],'localNode':this[_0x394d5d(0x845)]};}['initializeSystemTopic'](){const _0x104f12=_0x14177f;return this[_0x104f12(0x60b)][_0x104f12(0x1f2)](_0x417be3=>{const _0x24ccd6=_0x104f12,_0x42231d=_0x1f2cdb(_0x417be3,this[_0x24ccd6(0x845)]['getId']()),_0x662b03=_0x417be3[_0x24ccd6(0x722)]===_0x1252cb[_0x24ccd6(0x318)]||_0x417be3[_0x24ccd6(0x722)]===_0x1252cb[_0x24ccd6(0x6ae)]&&_0x417be3[_0x24ccd6(0x4cc)][_0x24ccd6(0x162)]===_0x22b6b7['Stats']?_0x39fe10[_0x24ccd6(0x7bd)]:_0x39fe10[_0x24ccd6(0x974)];_0x1734f6[_0x24ccd6(0x55f)](_0x662b03,_0x417be3[_0x24ccd6(0x56b)]+_0x24ccd6(0x9a1)+_0x42231d,_0x417be3),this[_0x24ccd6(0x4c9)](_0x417be3)['catch'](_0x47effc=>{const _0x338072=_0x24ccd6;console[_0x338072(0x70e)](_0x47effc);});});}async['syncKeyValueDatabase'](_0xfc4c83){const _0x198db1=_0x14177f,{timingLogger:_0x5795a5,logger:_0x109685,logBeforeSync:_0xd86eb4,logAfterSync:_0x1899f7}=function(_0x2a4da7,_0x2b0058){const _0x67aa1f=a0_0x50bd;if(!_0x1734f6[_0x67aa1f(0x7cd)](_0x2b0058))return _0x1734f6[_0x67aa1f(0x423)](_0x67aa1f(0x240)+_0x2b0058),{..._0x14e1ee(_0x2a4da7,_0x2b0058),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x2d4bdf,logger:_0x1c9495}=_0x14e1ee(_0x2a4da7,_0x2b0058);let _0x9e104=0x0;return _0x9e104=Date[_0x67aa1f(0x5bc)](),{'syncStartTime':_0x9e104,'timingLogger':_0x2d4bdf,'logger':_0x1c9495,'logBeforeSync':()=>(_0xb02eca(_0x2b0058,_0x67aa1f(0x256)),_0x2d4bdf[_0x67aa1f(0x5bc)]()),'logAfterSync':(_0x1c6134,_0x5d53a4)=>{const _0x515a04=_0x67aa1f,_0x281f74=Date['now']();_0xb02eca(_0x2b0058,_0x515a04(0x937)+_0x5d53a4);const _0x5d5a3c=(_0x281f74-_0x9e104)/0x3e8,_0xbe71c7=(_0x281f74-_0x1c6134)/0x3e8;_0x1734f6['log'](_0x2b0058,_0x515a04(0x5b9),_0x2a4da7,'\x0a\x20===\x20Total\x20Time:\x20'+_0x5d5a3c[_0x515a04(0x6aa)](0x2)+'\x20seconds','\x0a\x20===\x20Wait\x20Time:\x20'+_0xbe71c7[_0x515a04(0x6aa)](0x3)+_0x515a04(0x485),_0x515a04(0x242)+((_0x281f74-_0x9e104)/0x3e8-_0xbe71c7)[_0x515a04(0x6aa)](0x2)+_0x515a04(0x485));}};}(_0xfc4c83[_0x198db1(0x3bf)](),_0x39fe10[_0x198db1(0x1a9)]);_0x109685[_0x198db1(0x2b0)]('SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process');const _0x3fe404=this[_0x198db1(0x8ba)][_0x198db1(0x659)]()[_0x198db1(0x5b7)]>0x0;if(_0x3fe404){_0x109685['log'](_0x198db1(0x928),()=>this['nodeManager'][_0x198db1(0x659)]()),_0x5795a5['start'](),await Promise[_0x198db1(0x4ff)](this[_0x198db1(0x8ba)]['getAncestorIds']()[_0x198db1(0x265)](async _0x21a515=>await this[_0x198db1(0x8ba)][_0x198db1(0x136)](_0x21a515)))['catch'](_0x5a918e=>_0x1734f6[_0x198db1(0x8c3)](_0x198db1(0xa14),{'nodeId':this[_0x198db1(0x845)][_0x198db1(0x519)](),'nodeType':this['localNode'][_0x198db1(0x162)]}));const _0x1e88ad=_0x109685[_0x198db1(0x887)](()=>this[_0x198db1(0x8ba)][_0x198db1(0x659)](),[]);_0x5795a5['logWaitTime'](_0x198db1(0x4b4)+_0x1e88ad+'\x20were\x20ready\x20in');}_0x1899f7(_0xd86eb4(),await _0xfc4c83[_0x198db1(0x3a4)](_0x3fe404,async()=>{const _0x4388b8=_0x198db1;_0x5795a5[_0x4388b8(0x8f3)](),await this['nodeManager'][_0x4388b8(0x4b9)](),_0x5795a5[_0x4388b8(0x415)](_0x4388b8(0x5b5)),_0xfc4c83[_0x4388b8(0x3a4)](!0x0,()=>{const _0x486eb6=_0x4388b8;_0x109685[_0x486eb6(0x2b0)](_0x486eb6(0x403)),_0xfc4c83['sync'](!0x1);},!0x0);}));}}class _0xbd2b6a{[_0x14177f(0x857)];[_0x14177f(0x463)];[_0x14177f(0x459)];['eventEmitter'];[_0x14177f(0x3df)];constructor(_0x23a8e5,_0x42642b,_0x12dd8f,_0x1f41bc,_0x32a597,_0x5805ea,_0x4d7bde=new _0xc49b95()){const _0xa27980=_0x14177f;this[_0xa27980(0x857)]=_0x23a8e5,this[_0xa27980(0x463)]=_0x42642b,this['authNode']=_0x12dd8f,this[_0xa27980(0x4e7)]=_0x4d7bde,this[_0xa27980(0x3df)]=new _0x58f4ee(this['vendorId'],this[_0xa27980(0x463)],_0x12dd8f,_0x1f41bc,_0x32a597,_0x5805ea,this);}async[_0x14177f(0x417)](){const _0x3ca00a=_0x14177f;await this['orchestrator'][_0x3ca00a(0x3d4)](),this[_0x3ca00a(0x459)][_0x3ca00a(0x162)]===_0x23d754[_0x3ca00a(0x9f6)][_0x3ca00a(0x332)]&&this['authNode']['registerCluster'](this['clusterId'],_0x146c35=>{const _0x1dd155=_0x3ca00a;this['orchestrator'][_0x1dd155(0x705)](_0x146c35);});}[_0x14177f(0xa43)](_0x315f35={}){const _0x2889fe=_0x14177f;this['orchestrator']['close'](_0x315f35),this['authNode'][_0x2889fe(0x162)]===_0x23d754[_0x2889fe(0x9f6)][_0x2889fe(0x332)]&&this['authNode'][_0x2889fe(0x174)](this[_0x2889fe(0x463)]),this[_0x2889fe(0x6a0)](_0x2889fe(0xa24),void 0x0);}[_0x14177f(0x4d9)](_0x4478bf){const _0xe1738e=_0x14177f,_0x38a3d0=this[_0xe1738e(0x3df)][_0xe1738e(0x4d9)](_0x4478bf);return{'getName':_0x38a3d0[_0xe1738e(0x352)]['bind'](_0x38a3d0),'getOwnerId':_0x38a3d0[_0xe1738e(0x48b)][_0xe1738e(0x7b4)](_0x38a3d0),'getContentType':_0x38a3d0[_0xe1738e(0x62d)][_0xe1738e(0x7b4)](_0x38a3d0),'publish':_0x38a3d0[_0xe1738e(0x95d)][_0xe1738e(0x7b4)](_0x38a3d0),'subscribe':_0x38a3d0[_0xe1738e(0x1f2)][_0xe1738e(0x7b4)](_0x38a3d0),'unsubscribe':_0x38a3d0[_0xe1738e(0x9a3)][_0xe1738e(0x7b4)](_0x38a3d0),'close':_0x38a3d0[_0xe1738e(0x9b6)][_0xe1738e(0x7b4)](_0x38a3d0)};}async[_0x14177f(0x4f5)](_0x4ccbcc,_0x549ceb){const _0x28c0a1=_0x14177f,_0x1f9d69=await this[_0x28c0a1(0x3df)][_0x28c0a1(0x4f5)](_0x4ccbcc,_0x549ceb);return{'getName':_0x1f9d69['getName'][_0x28c0a1(0x7b4)](_0x1f9d69),'getOwnerId':_0x1f9d69['getOwnerId']['bind'](_0x1f9d69),'getContentType':_0x1f9d69['getContentType'][_0x28c0a1(0x7b4)](_0x1f9d69),'publish':_0x1f9d69[_0x28c0a1(0x95d)]['bind'](_0x1f9d69),'unpublish':_0x1f9d69[_0x28c0a1(0x17f)][_0x28c0a1(0x7b4)](_0x1f9d69),'get':_0x1f9d69[_0x28c0a1(0x9ba)][_0x28c0a1(0x7b4)](_0x1f9d69),'list':_0x1f9d69[_0x28c0a1(0x820)][_0x28c0a1(0x7b4)](_0x1f9d69),'getSize':_0x1f9d69[_0x28c0a1(0x126)]['bind'](_0x1f9d69),'subscribe':_0x1f9d69[_0x28c0a1(0x1f2)][_0x28c0a1(0x7b4)](_0x1f9d69),'unsubscribe':_0x1f9d69[_0x28c0a1(0x9a3)][_0x28c0a1(0x7b4)](_0x1f9d69),'close':_0x1f9d69['close'][_0x28c0a1(0x7b4)](_0x1f9d69)};}async[_0x14177f(0x6e1)](_0xbc880c,_0x4213ab){const _0x4ee8d5=_0x14177f,_0x716b61=await this[_0x4ee8d5(0x3df)][_0x4ee8d5(0x6e1)](_0xbc880c,_0x4213ab);return{'getName':_0x716b61[_0x4ee8d5(0x352)][_0x4ee8d5(0x7b4)](_0x716b61),'getOwnerId':_0x716b61[_0x4ee8d5(0x48b)][_0x4ee8d5(0x7b4)](_0x716b61),'getContentType':_0x716b61[_0x4ee8d5(0x62d)][_0x4ee8d5(0x7b4)](_0x716b61),'close':_0x716b61['close'][_0x4ee8d5(0x7b4)](_0x716b61),'get':_0x716b61[_0x4ee8d5(0x9ba)][_0x4ee8d5(0x7b4)](_0x716b61),'list':_0x716b61[_0x4ee8d5(0x820)][_0x4ee8d5(0x7b4)](_0x716b61),'subscribe':_0x716b61['subscribe'][_0x4ee8d5(0x7b4)](_0x716b61),'unsubscribe':_0x716b61['unsubscribe'][_0x4ee8d5(0x7b4)](_0x716b61)};}async[_0x14177f(0x314)](_0x13dae4,_0x485ecb,_0x8485bd){const _0x55eb9f=_0x14177f,_0x21c426=await this[_0x55eb9f(0x3df)]['openKeyValueDatabase'](_0x13dae4,_0x485ecb,_0x8485bd);return{'getName':_0x21c426[_0x55eb9f(0x352)][_0x55eb9f(0x7b4)](_0x21c426),'getOwnerId':_0x21c426[_0x55eb9f(0x48b)][_0x55eb9f(0x7b4)](_0x21c426),'getContentType':_0x21c426['getContentType'][_0x55eb9f(0x7b4)](_0x21c426),'getTable':_0x21c426[_0x55eb9f(0x85d)]['bind'](_0x21c426),'subscribe':_0x21c426['subscribe'][_0x55eb9f(0x7b4)](_0x21c426),'unsubscribe':_0x21c426['unsubscribe'][_0x55eb9f(0x7b4)](_0x21c426),'close':_0x21c426['close']['bind'](_0x21c426)};}async[_0x14177f(0x9e4)](_0x96aa79){const _0x3bd129=_0x14177f,_0x380f9a=await this[_0x3bd129(0x3df)][_0x3bd129(0x9e4)](_0x96aa79);return{'getName':_0x380f9a[_0x3bd129(0x352)][_0x3bd129(0x7b4)](_0x380f9a),'getOwnerId':_0x380f9a['getOwnerId'][_0x3bd129(0x7b4)](_0x380f9a),'getContentType':_0x380f9a[_0x3bd129(0x62d)][_0x3bd129(0x7b4)](_0x380f9a),'createJob':_0x380f9a[_0x3bd129(0x891)][_0x3bd129(0x7b4)](_0x380f9a),'getJob':_0x380f9a[_0x3bd129(0x2c1)][_0x3bd129(0x7b4)](_0x380f9a),'getJobs':_0x380f9a[_0x3bd129(0x846)]['bind'](_0x380f9a),'close':_0x380f9a[_0x3bd129(0x9b6)][_0x3bd129(0x7b4)](_0x380f9a)};}async[_0x14177f(0x6c4)](_0x3fbbd3){const _0x3c3955=_0x14177f,_0x123b8a=await this[_0x3c3955(0x3df)][_0x3c3955(0x6c4)](_0x3fbbd3);return{'close':_0x123b8a[_0x3c3955(0x9b6)][_0x3c3955(0x7b4)](_0x123b8a)};}async[_0x14177f(0x966)](_0x315cbf){const _0x4eb1de=_0x14177f,_0x544c87=await this['orchestrator'][_0x4eb1de(0x966)](_0x315cbf);return{'createAIJob':_0x544c87[_0x4eb1de(0x777)][_0x4eb1de(0x7b4)](_0x544c87),'ratePrompt':_0x544c87[_0x4eb1de(0xa23)][_0x4eb1de(0x7b4)](_0x544c87),'downloadDocument':_0x544c87['downloadDocument'][_0x4eb1de(0x7b4)](_0x544c87),'getDataBucketIds':_0x544c87[_0x4eb1de(0x424)][_0x4eb1de(0x7b4)](_0x544c87),'close':_0x544c87[_0x4eb1de(0x9b6)][_0x4eb1de(0x7b4)](_0x544c87)};}async[_0x14177f(0x44e)](_0x435ecd){const _0x2def77=_0x14177f,_0x6d743=await this[_0x2def77(0x3df)][_0x2def77(0x44e)](_0x435ecd);return{'close':_0x6d743['close'][_0x2def77(0x7b4)](_0x6d743)};}[_0x14177f(0x35a)](_0x54e958){const _0x26c003=_0x14177f,_0x5a6450=this[_0x26c003(0x3df)][_0x26c003(0x35a)](_0x54e958);return{'getName':_0x5a6450[_0x26c003(0x352)][_0x26c003(0x7b4)](_0x5a6450),'getOwnerId':_0x5a6450[_0x26c003(0x48b)][_0x26c003(0x7b4)](_0x5a6450),'getContentType':_0x5a6450[_0x26c003(0x62d)][_0x26c003(0x7b4)](_0x5a6450),'addNode':_0x5a6450[_0x26c003(0xa12)][_0x26c003(0x7b4)](_0x5a6450),'addEdge':_0x5a6450[_0x26c003(0x1d3)][_0x26c003(0x7b4)](_0x5a6450),'getContent':_0x5a6450['getContent'][_0x26c003(0x7b4)](_0x5a6450),'remove':_0x5a6450[_0x26c003(0x1ac)][_0x26c003(0x7b4)](_0x5a6450),'saveToDisk':_0x5a6450[_0x26c003(0x790)][_0x26c003(0x7b4)](_0x5a6450),'loadFromDisk':_0x5a6450[_0x26c003(0x3a7)][_0x26c003(0x7b4)](_0x5a6450),'close':_0x5a6450['close'][_0x26c003(0x7b4)](_0x5a6450)};}['openVectorDatabase'](_0x55827d){const _0x5b3468=_0x14177f,_0x371e30=this[_0x5b3468(0x3df)][_0x5b3468(0x4bf)](_0x55827d);return{'getName':_0x371e30[_0x5b3468(0x352)][_0x5b3468(0x7b4)](_0x371e30),'getOwnerId':_0x371e30[_0x5b3468(0x48b)][_0x5b3468(0x7b4)](_0x371e30),'getContentType':_0x371e30[_0x5b3468(0x62d)]['bind'](_0x371e30),'search':_0x371e30['search'][_0x5b3468(0x7b4)](_0x371e30),'insert':_0x371e30[_0x5b3468(0x575)]['bind'](_0x371e30),'remove':_0x371e30['remove'][_0x5b3468(0x7b4)](_0x371e30),'saveToDisk':_0x371e30[_0x5b3468(0x790)][_0x5b3468(0x7b4)](_0x371e30),'loadFromDisk':_0x371e30[_0x5b3468(0x3a7)]['bind'](_0x371e30),'close':_0x371e30['close']['bind'](_0x371e30)};}['getPubSubTopics'](_0x119c19){const _0x46746f=_0x14177f;return this[_0x46746f(0x3df)][_0x46746f(0x54f)](_0x119c19)[_0x46746f(0x265)](_0x1038e4=>({'getName':_0x1038e4[_0x46746f(0x352)][_0x46746f(0x7b4)](_0x1038e4),'getOwnerId':_0x1038e4[_0x46746f(0x48b)]['bind'](_0x1038e4),'getContentType':_0x1038e4[_0x46746f(0x62d)]['bind'](_0x1038e4),'publish':_0x1038e4[_0x46746f(0x95d)][_0x46746f(0x7b4)](_0x1038e4),'subscribe':_0x1038e4['subscribe'][_0x46746f(0x7b4)](_0x1038e4),'unsubscribe':_0x1038e4[_0x46746f(0x9a3)]['bind'](_0x1038e4),'close':_0x1038e4[_0x46746f(0x9b6)][_0x46746f(0x7b4)](_0x1038e4)}));}['getObjectStoreBuckets'](_0x45ea30){const _0x394857=_0x14177f;return this[_0x394857(0x3df)][_0x394857(0x5ee)](_0x45ea30)[_0x394857(0x265)](_0x1be8a0=>({'getName':_0x1be8a0[_0x394857(0x352)][_0x394857(0x7b4)](_0x1be8a0),'getOwnerId':_0x1be8a0[_0x394857(0x48b)][_0x394857(0x7b4)](_0x1be8a0),'getContentType':_0x1be8a0[_0x394857(0x62d)][_0x394857(0x7b4)](_0x1be8a0),'publish':_0x1be8a0[_0x394857(0x95d)][_0x394857(0x7b4)](_0x1be8a0),'unpublish':_0x1be8a0[_0x394857(0x17f)][_0x394857(0x7b4)](_0x1be8a0),'get':_0x1be8a0[_0x394857(0x9ba)][_0x394857(0x7b4)](_0x1be8a0),'list':_0x1be8a0[_0x394857(0x820)]['bind'](_0x1be8a0),'getSize':_0x1be8a0[_0x394857(0x126)][_0x394857(0x7b4)](_0x1be8a0),'subscribe':_0x1be8a0['subscribe'][_0x394857(0x7b4)](_0x1be8a0),'unsubscribe':_0x1be8a0[_0x394857(0x9a3)][_0x394857(0x7b4)](_0x1be8a0),'close':_0x1be8a0[_0x394857(0x9b6)]['bind'](_0x1be8a0)}));}[_0x14177f(0x3b1)](_0x21633c){const _0x1f0c08=_0x14177f;return this['orchestrator'][_0x1f0c08(0x3b1)](_0x21633c)[_0x1f0c08(0x265)](_0x199817=>({'getName':_0x199817[_0x1f0c08(0x352)]['bind'](_0x199817),'getOwnerId':_0x199817['getOwnerId'][_0x1f0c08(0x7b4)](_0x199817),'getContentType':_0x199817[_0x1f0c08(0x62d)][_0x1f0c08(0x7b4)](_0x199817),'close':_0x199817[_0x1f0c08(0x9b6)][_0x1f0c08(0x7b4)](_0x199817),'get':_0x199817[_0x1f0c08(0x9ba)]['bind'](_0x199817),'list':_0x199817[_0x1f0c08(0x820)][_0x1f0c08(0x7b4)](_0x199817),'subscribe':_0x199817[_0x1f0c08(0x1f2)][_0x1f0c08(0x7b4)](_0x199817),'unsubscribe':_0x199817[_0x1f0c08(0x9a3)][_0x1f0c08(0x7b4)](_0x199817)}));}[_0x14177f(0x570)](_0x6e694c){const _0x364d1a=_0x14177f;return this[_0x364d1a(0x3df)][_0x364d1a(0x570)](_0x6e694c)[_0x364d1a(0x265)](_0x2eb4ff=>({'getName':_0x2eb4ff[_0x364d1a(0x352)][_0x364d1a(0x7b4)](_0x2eb4ff),'getOwnerId':_0x2eb4ff[_0x364d1a(0x48b)][_0x364d1a(0x7b4)](_0x2eb4ff),'getContentType':_0x2eb4ff['getContentType'][_0x364d1a(0x7b4)](_0x2eb4ff),'getTable':_0x2eb4ff['getTable'][_0x364d1a(0x7b4)](_0x2eb4ff),'subscribe':_0x2eb4ff['subscribe'][_0x364d1a(0x7b4)](_0x2eb4ff),'unsubscribe':_0x2eb4ff[_0x364d1a(0x9a3)][_0x364d1a(0x7b4)](_0x2eb4ff),'close':_0x2eb4ff[_0x364d1a(0x9b6)][_0x364d1a(0x7b4)](_0x2eb4ff)}));}[_0x14177f(0x9eb)](_0x1d34b1){const _0x54fd6e=_0x14177f;return this[_0x54fd6e(0x3df)][_0x54fd6e(0x9eb)](_0x1d34b1)[_0x54fd6e(0x265)](_0x532610=>({'createAIJob':_0x532610[_0x54fd6e(0x777)][_0x54fd6e(0x7b4)](_0x532610),'ratePrompt':_0x532610[_0x54fd6e(0xa23)][_0x54fd6e(0x7b4)](_0x532610),'downloadDocument':_0x532610['downloadDocument'][_0x54fd6e(0x7b4)](_0x532610),'getDataBucketIds':_0x532610[_0x54fd6e(0x424)][_0x54fd6e(0x7b4)](_0x532610),'close':_0x532610['close']['bind'](_0x532610)}));}['getGenerativeAIWorkers'](_0x370749){const _0x55ddc1=_0x14177f;return this['orchestrator'][_0x55ddc1(0x699)](_0x370749)[_0x55ddc1(0x265)](_0x38ee6a=>({'close':_0x38ee6a[_0x55ddc1(0x9b6)][_0x55ddc1(0x7b4)](_0x38ee6a)}));}[_0x14177f(0x30f)](_0x2dbbf7,_0x4fc835){const _0x47a0c8=_0x14177f,_0x4993b9=this[_0x47a0c8(0x3df)][_0x47a0c8(0x87e)](_0x2dbbf7,_0x4fc835);return{'getLabel':_0x4993b9[_0x47a0c8(0x3bf)][_0x47a0c8(0x7b4)](_0x4993b9),'getOwnerId':_0x4993b9[_0x47a0c8(0x48b)][_0x47a0c8(0x7b4)](_0x4993b9),'getContentType':_0x4993b9[_0x47a0c8(0x62d)][_0x47a0c8(0x7b4)](_0x4993b9),'getMediaStream':_0x4993b9[_0x47a0c8(0x172)][_0x47a0c8(0x7b4)](_0x4993b9),'setPriority':_0x4993b9[_0x47a0c8(0x697)]['bind'](_0x4993b9),'unpublish':_0x4993b9[_0x47a0c8(0x17f)]['bind'](_0x4993b9)};}[_0x14177f(0x6a8)](_0x34d8f2,_0xfc50d4){const _0x25ca5c=_0x14177f,_0xad34b1=this['orchestrator'][_0x25ca5c(0x360)](_0x34d8f2,_0xfc50d4);return{'getLabel':_0xad34b1[_0x25ca5c(0x3bf)]['bind'](_0xad34b1),'getOwnerId':_0xad34b1[_0x25ca5c(0x48b)][_0x25ca5c(0x7b4)](_0xad34b1),'getContentType':_0xad34b1[_0x25ca5c(0x62d)][_0x25ca5c(0x7b4)](_0xad34b1),'setPriority':_0xad34b1[_0x25ca5c(0x697)][_0x25ca5c(0x7b4)](_0xad34b1),'unpublish':_0xad34b1[_0x25ca5c(0x17f)][_0x25ca5c(0x7b4)](_0xad34b1),'getMediaStream':_0xad34b1[_0x25ca5c(0x172)][_0x25ca5c(0x7b4)](_0xad34b1),'addTrack':_0xad34b1[_0x25ca5c(0x664)][_0x25ca5c(0x7b4)](_0xad34b1),'removeTrack':_0xad34b1[_0x25ca5c(0x53d)][_0x25ca5c(0x7b4)](_0xad34b1),'replaceTrack':_0xad34b1[_0x25ca5c(0x49e)]['bind'](_0xad34b1),'setTransformations':_0xad34b1[_0x25ca5c(0x648)][_0x25ca5c(0x7b4)](_0xad34b1)};}['getLocalMediaStreams'](_0xe70f42){const _0x5017e7=_0x14177f;return this[_0x5017e7(0x3df)]['getLocalMediaStreams'](_0xe70f42)[_0x5017e7(0x265)](_0x1deb13=>({'getLabel':_0x1deb13[_0x5017e7(0x3bf)][_0x5017e7(0x7b4)](_0x1deb13),'getOwnerId':_0x1deb13[_0x5017e7(0x48b)][_0x5017e7(0x7b4)](_0x1deb13),'getContentType':_0x1deb13['getContentType'][_0x5017e7(0x7b4)](_0x1deb13),'getMediaStream':_0x1deb13[_0x5017e7(0x172)][_0x5017e7(0x7b4)](_0x1deb13),'setPriority':_0x1deb13['setPriority'][_0x5017e7(0x7b4)](_0x1deb13),'unpublish':_0x1deb13[_0x5017e7(0x17f)][_0x5017e7(0x7b4)](_0x1deb13)}));}[_0x14177f(0x3c6)](_0x392c06){const _0x425c69=_0x14177f;return this[_0x425c69(0x3df)]['getRemoteMediaStreams'](_0x392c06)[_0x425c69(0x265)](_0x8532a7=>({'getLabel':_0x8532a7[_0x425c69(0x3bf)][_0x425c69(0x7b4)](_0x8532a7),'getOwnerId':_0x8532a7[_0x425c69(0x48b)][_0x425c69(0x7b4)](_0x8532a7),'getContentType':_0x8532a7[_0x425c69(0x62d)]['bind'](_0x8532a7),'getMediaStream':_0x8532a7[_0x425c69(0x172)][_0x425c69(0x7b4)](_0x8532a7),'subscribe':_0x8532a7[_0x425c69(0x1f2)][_0x425c69(0x7b4)](_0x8532a7),'unsubscribe':_0x8532a7[_0x425c69(0x9a3)][_0x425c69(0x7b4)](_0x8532a7),'getAvailableTrackKinds':_0x8532a7['getAvailableTrackKinds']['bind'](_0x8532a7),'update':_0x8532a7[_0x425c69(0x41f)][_0x425c69(0x7b4)](_0x8532a7),'onProviderChange':_0x8532a7['onProviderChange']['bind'](_0x8532a7)}));}['getGraphDatabases'](_0x1374c7){const _0x317553=_0x14177f;return this[_0x317553(0x3df)]['getGraphDatabases'](_0x1374c7)[_0x317553(0x265)](_0x45734e=>({'getName':_0x45734e[_0x317553(0x352)]['bind'](_0x45734e),'getOwnerId':_0x45734e[_0x317553(0x48b)][_0x317553(0x7b4)](_0x45734e),'getContentType':_0x45734e['getContentType'][_0x317553(0x7b4)](_0x45734e),'addNode':_0x45734e[_0x317553(0xa12)][_0x317553(0x7b4)](_0x45734e),'addEdge':_0x45734e[_0x317553(0x1d3)][_0x317553(0x7b4)](_0x45734e),'getContent':_0x45734e[_0x317553(0x710)][_0x317553(0x7b4)](_0x45734e),'remove':_0x45734e[_0x317553(0x1ac)]['bind'](_0x45734e),'saveToDisk':_0x45734e[_0x317553(0x790)]['bind'](_0x45734e),'loadFromDisk':_0x45734e['loadFromDisk'][_0x317553(0x7b4)](_0x45734e),'close':_0x45734e['close']['bind'](_0x45734e)}));}[_0x14177f(0x19b)](_0x9f8e39){const _0xd03d26=_0x14177f;return this[_0xd03d26(0x3df)][_0xd03d26(0x19b)](_0x9f8e39)[_0xd03d26(0x265)](_0x330f88=>({'getName':_0x330f88[_0xd03d26(0x352)]['bind'](_0x330f88),'getOwnerId':_0x330f88['getOwnerId'][_0xd03d26(0x7b4)](_0x330f88),'getContentType':_0x330f88['getContentType'][_0xd03d26(0x7b4)](_0x330f88),'search':_0x330f88[_0xd03d26(0x2e6)][_0xd03d26(0x7b4)](_0x330f88),'insert':_0x330f88[_0xd03d26(0x575)][_0xd03d26(0x7b4)](_0x330f88),'remove':_0x330f88[_0xd03d26(0x1ac)]['bind'](_0x330f88),'saveToDisk':_0x330f88[_0xd03d26(0x790)][_0xd03d26(0x7b4)](_0x330f88),'loadFromDisk':_0x330f88[_0xd03d26(0x3a7)][_0xd03d26(0x7b4)](_0x330f88),'close':_0x330f88[_0xd03d26(0x9b6)][_0xd03d26(0x7b4)](_0x330f88)}));}[_0x14177f(0x248)](){const _0x31d2c2=_0x14177f,_0x4144af=this[_0x31d2c2(0x3df)]['getLocalNode']();switch(_0x4144af[_0x31d2c2(0x162)]){case _0x23d754[_0x31d2c2(0x9f6)][_0x31d2c2(0x332)]:return{'type':_0x23d754[_0x31d2c2(0x9f6)][_0x31d2c2(0x332)],'getId':_0x4144af['getId'][_0x31d2c2(0x7b4)](_0x4144af),'getDisplayName':_0x4144af[_0x31d2c2(0x9f2)][_0x31d2c2(0x7b4)](_0x4144af),'getEmail':_0x4144af['getEmail'][_0x31d2c2(0x7b4)](_0x4144af),'getRemoteConnections':_0x4144af[_0x31d2c2(0x9c0)][_0x31d2c2(0x7b4)](_0x4144af),'setDisplayName':_0x4144af['setDisplayName'][_0x31d2c2(0x7b4)](_0x4144af),'setEmail':_0x4144af['setEmail'][_0x31d2c2(0x7b4)](_0x4144af)};case _0x23d754[_0x31d2c2(0x9f6)][_0x31d2c2(0x4d8)]:default:return{'type':_0x23d754['NodeType'][_0x31d2c2(0x4d8)],'getId':_0x4144af[_0x31d2c2(0x519)][_0x31d2c2(0x7b4)](_0x4144af),'getRemoteConnections':_0x4144af[_0x31d2c2(0x9c0)][_0x31d2c2(0x7b4)](_0x4144af)};}}[_0x14177f(0x9cc)](_0x41556c){const _0x16010a=_0x14177f;return this[_0x16010a(0x3df)][_0x16010a(0x9cc)](_0x41556c)[_0x16010a(0x265)](_0x306d28=>{const _0x4f9646=_0x16010a;switch(_0x306d28[_0x4f9646(0x162)]){case _0x23d754['NodeType']['User']:return{'type':_0x23d754['NodeType'][_0x4f9646(0x332)],'getId':_0x306d28[_0x4f9646(0x519)][_0x4f9646(0x7b4)](_0x306d28),'getDisplayName':_0x306d28['getDisplayName'][_0x4f9646(0x7b4)](_0x306d28),'getEmail':_0x306d28[_0x4f9646(0x6ff)][_0x4f9646(0x7b4)](_0x306d28),'getRemoteConnections':_0x306d28[_0x4f9646(0x9c0)][_0x4f9646(0x7b4)](_0x306d28)};case _0x23d754[_0x4f9646(0x9f6)][_0x4f9646(0x4d8)]:return{'type':_0x23d754['NodeType']['Agent'],'getId':_0x306d28[_0x4f9646(0x519)][_0x4f9646(0x7b4)](_0x306d28),'getRemoteConnections':_0x306d28[_0x4f9646(0x9c0)][_0x4f9646(0x7b4)](_0x306d28)};default:throw new _0x3b8aa0(_0x1a76df[_0x4f9646(0x410)],_0x4f9646(0x120));}});}['on']=(..._0x360d58)=>{const _0x50f54d=_0x14177f;this[_0x50f54d(0x4e7)]['on'](..._0x360d58);};[_0x14177f(0x6a0)]=(..._0x53e697)=>this[_0x14177f(0x4e7)][_0x14177f(0x6a0)](..._0x53e697);['off'](..._0x5c76f7){const _0xfd7e75=_0x14177f;this[_0xfd7e75(0x4e7)][_0xfd7e75(0x2b3)](..._0x5c76f7);}}class _0x4712c0{['id'];[_0x14177f(0x5f4)];[_0x14177f(0x7a1)];[_0x14177f(0x162)]=_0x23d754[_0x14177f(0x9f6)][_0x14177f(0x332)];['joinedClusters']=new Map();[_0x14177f(0x23d)]=_0x26518c();constructor(_0x58c9f5,_0x24978f,_0xb894a5){const _0x3fd740=_0x14177f;this['id']=_0x58c9f5,this[_0x3fd740(0x5f4)]=_0x24978f,this[_0x3fd740(0x7a1)]=_0xb894a5;}[_0x14177f(0x519)](){return this['id'];}['getDisplayName'](){const _0x5e0053=_0x14177f;return this[_0x5e0053(0x5f4)];}['getEmail'](){return this['email'];}[_0x14177f(0x85e)](_0x4c768f){const _0x16c1ec=_0x14177f;this[_0x16c1ec(0x5f4)]!==_0x4c768f&&(this[_0x16c1ec(0x5f4)]=_0x4c768f,this[_0x16c1ec(0x23d)][_0x16c1ec(0x95d)](this));}['setEmail'](_0x3f36fa){const _0x521012=_0x14177f;this[_0x521012(0x7a1)]!==_0x3f36fa&&(this['email']=_0x3f36fa,this[_0x521012(0x23d)][_0x521012(0x95d)](this));}[_0x14177f(0x4fe)](_0x49623d,_0x50145d){const _0x4cf23e=_0x14177f;if(this['joinedClusters'][_0x4cf23e(0x85c)](_0x49623d))return;const _0x41a9a8=this[_0x4cf23e(0x23d)][_0x4cf23e(0x1f2)](_0x50145d);this[_0x4cf23e(0x7c8)][_0x4cf23e(0x525)](_0x49623d,_0x41a9a8);}[_0x14177f(0x174)](_0x3e1562){const _0x43b606=_0x14177f;if(!this[_0x43b606(0x7c8)][_0x43b606(0x85c)](_0x3e1562))return;const _0xfb2c7d=this[_0x43b606(0x7c8)][_0x43b606(0x9ba)](_0x3e1562);_0xfb2c7d&&_0xfb2c7d(),this[_0x43b606(0x7c8)][_0x43b606(0x131)](_0x3e1562);}}class _0x45a31a{[_0x14177f(0x857)];[_0x14177f(0x39a)];constructor(_0x1ecacb){const _0x142ecb=_0x14177f;this[_0x142ecb(0x857)]=_0x1ecacb;}async[_0x14177f(0x218)](_0xae3a62){const _0xd48f6a=_0x14177f,_0xae471e=await(0x0,_0x10463b[_0xd48f6a(0x745)])(_0x4ce864[_0xd48f6a(0x3e1)](),_0xd48f6a(0x86c))({'uid':_0xd48f6a(0x698)+this[_0xd48f6a(0x857)]+_0xd48f6a(0x698)+_0xae3a62['id']}),_0x445411=await(0x0,_0x157d40[_0xd48f6a(0x558)])(_0x4ce864[_0xd48f6a(0x1c1)](),_0xae471e[_0xd48f6a(0x84f)][_0xd48f6a(0x79b)]);this[_0xd48f6a(0x39a)]=_0x445411[_0xd48f6a(0x39a)];}async[_0x14177f(0x479)](){const _0x1305a6=_0x14177f;await(0x0,_0x157d40['signOut'])(_0x4ce864[_0x1305a6(0x1c1)]());}[_0x14177f(0x7f4)](){const _0xbbac83=_0x14177f;return this[_0xbbac83(0x39a)]?.['getIdToken']()??Promise[_0xbbac83(0x6c2)](_0xbbac83(0x327));}}class _0x1d546f{static [_0x14177f(0x15a)];[_0x14177f(0x4cd)]=[];constructor(){}static[_0x14177f(0x30a)](){const _0x3bd0d4=_0x14177f;return _0x1d546f['instance']||(_0x1d546f[_0x3bd0d4(0x15a)]=new _0x1d546f()),_0x1d546f['instance'];}['initialize'](){const _0x6477da=_0x14177f;this[_0x6477da(0x86e)](),this[_0x6477da(0x826)](),this['checkScreenSharing'](),this['checkAudioVolume'](),this[_0x6477da(0x3f0)](),this[_0x6477da(0x5d4)](),this['checkMediaRecording'](),this[_0x6477da(0x1c4)](),this[_0x6477da(0x5d3)](),this['checkAudioContext'](),_0x1734f6[_0x6477da(0x2b0)](_0x39fe10[_0x6477da(0x785)],_0x6477da(0x7db),{'featureSupport':this[_0x6477da(0x4cd)]});}[_0x14177f(0x3de)](_0x3ba7eb){const _0x1b79cc=_0x14177f,_0x27b5b1=this['featureSupport']['find'](_0x5ed550=>_0x5ed550[_0x1b79cc(0x1a5)]===_0x3ba7eb);return!!_0x27b5b1&&_0x27b5b1[_0x1b79cc(0x751)];}[_0x14177f(0x3f1)](_0x216c29){const _0x288c48=_0x14177f;_0x1734f6[_0x288c48(0x4eb)]('support',{'nodeId':_0x216c29[_0x288c48(0x519)](),'nodeType':_0x216c29[_0x288c48(0x162)],'data':{'featureSupport':this[_0x288c48(0x4cd)]}});}[_0x14177f(0x86e)](){const _0x15834c=_0x14177f,_0x18443e=_0x4b4d33[_0x15834c(0x628)];let _0x2d43a9=!0x1;_0x15834c(0x6b9)==typeof RTCPeerConnection&&_0x15834c(0x6b9)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x2d43a9=!0x0:_0x1734f6[_0x15834c(0x2b0)](_0x39fe10[_0x15834c(0x785)],_0x15834c(0x683)+_0x18443e+_0x15834c(0x358)),this[_0x15834c(0x4cd)][_0x15834c(0x993)]({'name':_0x18443e,'supported':_0x2d43a9});}['checkMediaStream'](){const _0x31bfaa=_0x14177f,_0x40b06d=_0x4b4d33[_0x31bfaa(0x6c9)];let _0x39a6a7=!0x1;_0x31bfaa(0x6b9)==typeof MediaStream&&_0x31bfaa(0x6b9)==typeof MediaStreamTrack&&'object'==typeof navigator&&_0x31bfaa(0x337)==typeof navigator[_0x31bfaa(0x5ca)]&&'function'==typeof navigator[_0x31bfaa(0x5ca)][_0x31bfaa(0x604)]?_0x39a6a7=!0x0:_0x1734f6[_0x31bfaa(0x2b0)](_0x39fe10[_0x31bfaa(0x785)],_0x31bfaa(0x683)+_0x40b06d+_0x31bfaa(0x358)),this[_0x31bfaa(0x4cd)][_0x31bfaa(0x993)]({'name':_0x40b06d,'supported':_0x39a6a7});}[_0x14177f(0x238)](){const _0x5cf248=_0x14177f,_0x3dc7d7=_0x4b4d33[_0x5cf248(0x599)];let _0x3fa014=!0x1;_0x5cf248(0x337)==typeof navigator&&_0x5cf248(0x337)==typeof navigator[_0x5cf248(0x5ca)]&&_0x5cf248(0x6b9)==typeof navigator[_0x5cf248(0x5ca)][_0x5cf248(0x78c)]?_0x3fa014=!0x0:_0x1734f6[_0x5cf248(0x2b0)](_0x39fe10[_0x5cf248(0x785)],_0x5cf248(0x683)+_0x3dc7d7+_0x5cf248(0x358)),this[_0x5cf248(0x4cd)]['push']({'name':_0x3dc7d7,'supported':_0x3fa014});}[_0x14177f(0x694)](){const _0xa3d507=_0x14177f,_0x62aaf9=_0x4b4d33[_0xa3d507(0x802)];let _0x32cfb2=!0x1;_0xa3d507(0x6b9)!=typeof AudioContext||'function'!=typeof ScriptProcessorNode&&_0xa3d507(0x6b9)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x1734f6[_0xa3d507(0x2b0)](_0x39fe10['Support'],_0xa3d507(0x683)+_0x62aaf9+_0xa3d507(0x358)):_0x32cfb2=!0x0,this['featureSupport'][_0xa3d507(0x993)]({'name':_0x62aaf9,'supported':_0x32cfb2});}[_0x14177f(0x3f0)](){const _0x52cbe3=_0x14177f,_0x325ed9=_0x4b4d33[_0x52cbe3(0x2ba)];let _0x35c56d=!0x1;_0x52cbe3(0x337)==typeof navigator&&_0x52cbe3(0x337)==typeof navigator[_0x52cbe3(0x5ca)]&&_0x52cbe3(0x6b9)==typeof navigator[_0x52cbe3(0x5ca)][_0x52cbe3(0x676)]&&_0x52cbe3(0x6b9)==typeof MediaDeviceInfo?_0x35c56d=!0x0:_0x1734f6[_0x52cbe3(0x2b0)](_0x39fe10[_0x52cbe3(0x785)],_0x52cbe3(0x683)+_0x325ed9+'\x20not\x20supported'),this[_0x52cbe3(0x4cd)][_0x52cbe3(0x993)]({'name':_0x325ed9,'supported':_0x35c56d});}[_0x14177f(0x5d4)](){const _0x400276=_0x14177f,_0x215e9d=_0x4b4d33[_0x400276(0x601)];let _0x50d84f=!0x1;'object'==typeof document&&'function'==typeof document[_0x400276(0x2a5)](_0x400276(0xa15))['setSinkId']?_0x50d84f=!0x0:_0x1734f6['log'](_0x39fe10[_0x400276(0x785)],_0x400276(0x683)+_0x215e9d+_0x400276(0x358)),this[_0x400276(0x4cd)][_0x400276(0x993)]({'name':_0x215e9d,'supported':_0x50d84f});}async[_0x14177f(0x644)](){const _0x45fc69=_0x14177f,_0x4b6d07=_0x4b4d33[_0x45fc69(0x1b3)];let _0x39263e=!0x1;try{const _0x29e938=document[_0x45fc69(0x2a5)](_0x45fc69(0x5cb));if(MediaRecorder&&MediaSource&&_0x29e938[_0x45fc69(0x5af)]){const _0x3ee262=_0x29e938[_0x45fc69(0x5af)](),_0x193316=new MediaRecorder(_0x3ee262);_0x193316[_0x45fc69(0x8f3)](),await new Promise(_0x44e70f=>setTimeout(_0x44e70f,0x7d0)),_0x193316['stop'](),_0x39263e='inactive'===_0x193316['state'];}}catch(_0x27d473){_0x1734f6[_0x45fc69(0x2b0)](_0x39fe10[_0x45fc69(0x785)],_0x45fc69(0x683)+_0x4b6d07+_0x45fc69(0x7e6),_0x27d473);}this[_0x45fc69(0x4cd)][_0x45fc69(0x993)]({'name':_0x4b6d07,'supported':_0x39263e}),_0x39263e||_0x1734f6[_0x45fc69(0x2b0)](_0x39fe10['Support'],_0x45fc69(0x683)+_0x4b6d07+_0x45fc69(0x358));}[_0x14177f(0x1c4)](){const _0x1e338c=_0x14177f,_0x239100=_0x4b4d33[_0x1e338c(0x12c)];let _0x26e636=!0x1;try{document[_0x1e338c(0x2a5)](_0x1e338c(0x5cb))[_0x1e338c(0x5af)]&&(_0x26e636=!0x0);}catch(_0x4f8ff3){_0x1734f6[_0x1e338c(0x2b0)](_0x39fe10[_0x1e338c(0x785)],_0x1e338c(0x683)+_0x239100+_0x1e338c(0x7e6),_0x4f8ff3);}this[_0x1e338c(0x4cd)][_0x1e338c(0x993)]({'name':_0x239100,'supported':_0x26e636}),_0x26e636||_0x1734f6[_0x1e338c(0x2b0)](_0x39fe10[_0x1e338c(0x785)],_0x1e338c(0x683)+_0x239100+_0x1e338c(0x358));}['checkWebGL'](){const _0x2c2233=_0x14177f,_0x69b9f3=_0x4b4d33[_0x2c2233(0x542)];let _0x5e2cd2=!0x1;try{const _0x4c464e=document['createElement'](_0x2c2233(0x5cb));WebGLRenderingContext&&_0x4c464e[_0x2c2233(0x9a0)](_0x2c2233(0x83e))&&(_0x5e2cd2=!0x0);}catch(_0x19778a){_0x1734f6[_0x2c2233(0x2b0)](_0x39fe10[_0x2c2233(0x785)],_0x2c2233(0x683)+_0x69b9f3+_0x2c2233(0x7e6),_0x19778a);}this[_0x2c2233(0x4cd)][_0x2c2233(0x993)]({'name':_0x69b9f3,'supported':_0x5e2cd2}),_0x5e2cd2||_0x1734f6[_0x2c2233(0x2b0)](_0x39fe10[_0x2c2233(0x785)],_0x2c2233(0x683)+_0x69b9f3+'\x20not\x20supported');}[_0x14177f(0x874)](){const _0x2aeb89=_0x14177f,_0x10ae69=_0x4b4d33[_0x2aeb89(0x153)];let _0x39faac=!0x1;'function'==typeof AudioContext?_0x39faac=!0x0:_0x1734f6[_0x2aeb89(0x2b0)](_0x39fe10['Support'],_0x2aeb89(0x683)+_0x10ae69+_0x2aeb89(0x358)),this[_0x2aeb89(0x4cd)][_0x2aeb89(0x993)]({'name':_0x10ae69,'supported':_0x39faac});}}const _0x262367=_0x1d546f[_0x14177f(0x30a)]();class _0x2e2756{static ['instance'];static [_0x14177f(0x9a3)];static [_0x14177f(0x77f)];['authService'];[_0x14177f(0x857)];['options'];[_0x14177f(0x9af)];[_0x14177f(0x9fc)]=new Map();['authContext'];constructor(_0x4251cb,_0x1d0459,_0x80bbef){const _0x5139d9=_0x14177f;this[_0x5139d9(0x857)]=_0x4251cb,this[_0x5139d9(0x9af)]=_0x1d0459,this[_0x5139d9(0x45d)]=new _0x45a31a(this[_0x5139d9(0x857)]),_0x262367[_0x5139d9(0x3d4)](),this[_0x5139d9(0x96b)]={'audioContext':_0x80bbef?.[_0x5139d9(0x65d)]??(_0x262367[_0x5139d9(0x3de)](_0x4b4d33[_0x5139d9(0x153)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x80bbef?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x80bbef?.[_0x5139d9(0x113)]??0x3,'maxConnections':_0x80bbef?.[_0x5139d9(0xa2e)]??(_0x80bbef?.[_0x5139d9(0x113)]&&0x4*_0x80bbef[_0x5139d9(0x113)])??0xc,'maxDistance':_0x80bbef?.['maxDistance']??0xa,'maxFps':_0x80bbef?.[_0x5139d9(0x755)]??0x18,'maxBpp':_0x80bbef?.[_0x5139d9(0x2e4)]??0.12,'objectStoreConnector':_0x80bbef?.['objectStoreConnector']??_0x27647c['OPFSObjectStoreConnector'],'externalStorageConnectors':_0x80bbef?.[_0x5139d9(0x7ed)],'keyValueDatabaseConnector':_0x80bbef?.[_0x5139d9(0x9e1)]??_0x570c96['IDBDatabaseConnector'],'loggingDatabaseConnector':_0x80bbef?.[_0x5139d9(0x954)]??_0x570c96[_0x5139d9(0x1e0)],'peerConnectionConnector':_0x80bbef?.[_0x5139d9(0x7e5)]??_0xc7e41f[_0x5139d9(0x5c9)],'generativeAIWorkerConnectors':_0x80bbef?.[_0x5139d9(0x8c5)],'vectorDatabaseConnector':_0x80bbef?.[_0x5139d9(0x427)],'graphDatabaseConnector':_0x80bbef?.[_0x5139d9(0x20c)],'documentParserConnector':_0x80bbef?.[_0x5139d9(0x461)],'nlpLibraryConnector':_0x80bbef?.[_0x5139d9(0x956)],'searchConnector':_0x80bbef?.['searchConnector'],'aiSearchConnector':_0x80bbef?.[_0x5139d9(0x66c)],'queryFileConnector':_0x80bbef?.[_0x5139d9(0x58c)]},_0x80bbef?.[_0x5139d9(0x8e3)]&&this[_0x5139d9(0x96b)][_0x5139d9(0x65d)]&&_0x3f17ec[_0x5139d9(0xa2f)](this[_0x5139d9(0x96b)][_0x5139d9(0x65d)]),_0x1734f6[_0x5139d9(0x18b)](this[_0x5139d9(0x857)]),_0x80bbef?.[_0x5139d9(0x5c0)]&&_0x1734f6['setLoggingConnectors'](_0x80bbef[_0x5139d9(0x5c0)]);}static async['getInstance'](_0x59013e,_0x59857b,_0x5b9d08,_0x3cd709,_0x280143){const _0x70991f=_0x14177f;this[_0x70991f(0x77f)]=_0x5b9d08;const _0x3a3a20=await this[_0x70991f(0x1b9)](_0x59013e,_0x59857b,_0x280143);return _0x2e2756[_0x70991f(0x15a)]||(_0x2e2756[_0x70991f(0x15a)]=new _0x2e2756(_0x59013e,_0x3a3a20,_0x3cd709)),{'close':_0x2e2756[_0x70991f(0x15a)][_0x70991f(0x9b6)][_0x70991f(0x7b4)](_0x2e2756[_0x70991f(0x15a)]),'authenticateUser':_0x2e2756[_0x70991f(0x15a)][_0x70991f(0x71b)][_0x70991f(0x7b4)](_0x2e2756['instance']),'authenticateAgent':_0x2e2756[_0x70991f(0x15a)][_0x70991f(0x173)]['bind'](_0x2e2756[_0x70991f(0x15a)]),'joinCluster':_0x2e2756[_0x70991f(0x15a)]['joinCluster'][_0x70991f(0x7b4)](_0x2e2756[_0x70991f(0x15a)])};}static async[_0x14177f(0x9c9)](){const _0x45245e=_0x14177f;return _0x4ce864[_0x45245e(0x36b)]();}static['isProduction'](){const _0x42b47f=_0x14177f;return _0x28f07d[_0x42b47f(0x6bf)];}async[_0x14177f(0x9b6)](_0x3f52ae){const _0x4bf6db=_0x14177f;this[_0x4bf6db(0x9fc)][_0x4bf6db(0x918)](_0x302f7c=>{const _0x2a6173=_0x4bf6db;_0x302f7c[_0x2a6173(0x2b3)](),_0x302f7c[_0x2a6173(0xa43)](_0x3f52ae);}),this[_0x4bf6db(0x9fc)]['clear'](),this[_0x4bf6db(0x96b)]['audioContext']&&_0x3f17ec['stopNoThrottlingHack'](),_0x2e2756[_0x4bf6db(0x9a3)]?.(),_0x2e2756['unsubscribe']=void 0x0,this[_0x4bf6db(0x8e7)]=void 0x0,await this[_0x4bf6db(0x45d)][_0x4bf6db(0x479)](),_0x2e2756[_0x4bf6db(0x15a)]=void 0x0;}static async['validateAccess'](_0x3b6771,_0x59a6a2,_0x92e04f){const _0x31e246=_0x14177f;if(!this[_0x31e246(0x77f)])throw new _0x3b8aa0(_0x1a76df[_0x31e246(0x963)],_0x31e246(0x748));let _0x8d95ee;try{_0x8d95ee=await(0x0,_0x10463b['httpsCallable'])(_0x4ce864[_0x31e246(0x3e1)](),_0x31e246(0x1b5))({'vendorId':_0x3b6771,'accessToken':_0x59a6a2,'secretKey':_0x92e04f});}catch(_0x2c564a){throw new _0x3b8aa0(_0x1a76df[_0x31e246(0x2b7)],_0x31e246(0x4d7));}if(!this[_0x31e246(0x34c)](_0x8d95ee[_0x31e246(0x84f)]))throw new _0x3b8aa0(_0x1a76df[_0x31e246(0x2b7)],_0x31e246(0x4d7));const _0xb711b=_0x8d95ee[_0x31e246(0x84f)];return _0xb711b[_0x31e246(0x394)]||(_0xb711b['features']=[]),this['unsubscribe']||(this[_0x31e246(0x9a3)]=_0x3f17ec[_0x31e246(0x2ef)](async()=>{const _0x143e23=_0x31e246;try{const _0x5b7f08=await this[_0x143e23(0x1b9)](_0x3b6771,_0x59a6a2,_0x92e04f);this['mode']===_0x23d754['NodeType']['Agent']&&(_0x5b7f08[_0x143e23(0x8db)]=_0x5b7f08[_0x143e23(0x8db)][_0x143e23(0x31d)](_0x212ea0=>_0x212ea0[_0x143e23(0x52a)][_0x143e23(0x53a)](_0x143e23(0x9fb)))),_0xb711b[_0x143e23(0x8db)]=_0x5b7f08[_0x143e23(0x8db)];}catch(_0x290066){}},0x1b7740)),_0xb711b;}async[_0x14177f(0x71b)](_0x1e4c9d){const _0x571a84=_0x14177f;if(_0x2e2756['mode']!==_0x23d754[_0x571a84(0x9f6)][_0x571a84(0x332)])throw new _0x3b8aa0(_0x1a76df[_0x571a84(0x410)],'Node\x20type\x20is\x20invalid');await this['authService'][_0x571a84(0x218)](_0x1e4c9d);const _0x2fb0d2=new _0x4712c0(_0x1e4c9d['id'],_0x1e4c9d[_0x571a84(0x5f4)],_0x1e4c9d[_0x571a84(0x7a1)]);return this['authContext']={'node':_0x2fb0d2},_0x262367[_0x571a84(0x3f1)](_0x2fb0d2),{'type':_0x23d754[_0x571a84(0x9f6)][_0x571a84(0x332)],'getId':_0x2fb0d2[_0x571a84(0x519)][_0x571a84(0x7b4)](_0x2fb0d2),'getDisplayName':_0x2fb0d2[_0x571a84(0x9f2)][_0x571a84(0x7b4)](_0x2fb0d2),'getEmail':_0x2fb0d2[_0x571a84(0x6ff)]['bind'](_0x2fb0d2),'setDisplayName':_0x2fb0d2['setDisplayName'][_0x571a84(0x7b4)](_0x2fb0d2),'setEmail':_0x2fb0d2[_0x571a84(0x587)][_0x571a84(0x7b4)](_0x2fb0d2)};}async[_0x14177f(0x173)](_0x5a793e){const _0x5ab06d=_0x14177f;if(_0x2e2756[_0x5ab06d(0x77f)]!==_0x23d754[_0x5ab06d(0x9f6)][_0x5ab06d(0x4d8)])throw new _0x3b8aa0(_0x1a76df['NodeInvalidType'],_0x5ab06d(0x4e4));const {id:_0x272fb0,groupId:_0x305e48}=_0x5a793e,_0x3cf329=await(0x0,_0x47d1e0[_0x5ab06d(0x262)])((0x0,_0x47d1e0['doc'])(_0x4ce864[_0x5ab06d(0x76b)](),_0x5ab06d(0x793)+this[_0x5ab06d(0x857)]+'/resources/agent/items/'+_0x305e48));if(!_0x3cf329[_0x5ab06d(0x433)]())throw new _0x3b8aa0(_0x1a76df[_0x5ab06d(0x532)],_0x5ab06d(0x735));const _0x136c2f=_0x3cf329['data']();await this[_0x5ab06d(0x45d)][_0x5ab06d(0x218)]({'id':_0x272fb0});const _0x22e967=new _0x469835(_0x272fb0,_0x305e48,this[_0x5ab06d(0x857)],_0x136c2f);return this[_0x5ab06d(0x8e7)]={'node':_0x22e967},_0x262367['logSupport'](_0x22e967),this[_0x5ab06d(0x7ad)](_0x22e967),{'type':_0x23d754[_0x5ab06d(0x9f6)][_0x5ab06d(0x4d8)],'getId':_0x22e967[_0x5ab06d(0x519)][_0x5ab06d(0x7b4)](_0x22e967),'onConfigurationChange':_0x22e967[_0x5ab06d(0x998)]['bind'](_0x22e967),'setReportCapacity':_0x22e967[_0x5ab06d(0x2e9)][_0x5ab06d(0x7b4)](_0x22e967)};}async[_0x14177f(0x4c6)](_0x4942b2){const _0x9328a3=_0x14177f;if(!this[_0x9328a3(0x8e7)])throw new _0x3b8aa0(_0x1a76df[_0x9328a3(0x532)],_0x9328a3(0x2fe));if(this['authContext'][_0x9328a3(0x114)][_0x9328a3(0x162)]!==_0x23d754[_0x9328a3(0x9f6)][_0x9328a3(0x332)])throw new _0x3b8aa0(_0x1a76df[_0x9328a3(0x9ee)],_0x9328a3(0x26c));if(this['clusters']['has'](_0x4942b2))throw new _0x3b8aa0(_0x1a76df[_0x9328a3(0x3ff)],_0x9328a3(0x458));const _0x5c9119=new _0xbd2b6a(this[_0x9328a3(0x857)],_0x4942b2,this[_0x9328a3(0x8e7)]['node'],this[_0x9328a3(0x45d)],this['options'],this[_0x9328a3(0x9af)]);return await _0x5c9119['join'](),this['addCluster'](_0x4942b2,_0x5c9119),_0x1734f6[_0x9328a3(0x4eb)](_0x9328a3(0x551),{'clusterId':_0x4942b2,'nodeId':this['authContext'][_0x9328a3(0x114)][_0x9328a3(0x519)](),'nodeType':this[_0x9328a3(0x8e7)][_0x9328a3(0x114)]['type']}),{'leave':_0x5c9119['leave'][_0x9328a3(0x7b4)](_0x5c9119),'getLocalNode':_0x5c9119[_0x9328a3(0x248)]['bind'](_0x5c9119),'openPubSubTopic':_0x5c9119[_0x9328a3(0x4d9)][_0x9328a3(0x7b4)](_0x5c9119),'openObjectStoreBucket':_0x5c9119[_0x9328a3(0x4f5)][_0x9328a3(0x7b4)](_0x5c9119),'openExternalStorageConnection':_0x5c9119[_0x9328a3(0x6e1)][_0x9328a3(0x7b4)](_0x5c9119),'openKeyValueDatabase':_0x5c9119['openKeyValueDatabase'][_0x9328a3(0x7b4)](_0x5c9119),'openGenerativeAIContext':_0x5c9119['openGenerativeAIContext'][_0x9328a3(0x7b4)](_0x5c9119),'openGenerativeAIWorker':_0x5c9119[_0x9328a3(0x44e)]['bind'](_0x5c9119),'openGraphDatabase':_0x5c9119['openGraphDatabase']['bind'](_0x5c9119),'openVectorDatabase':_0x5c9119[_0x9328a3(0x4bf)][_0x9328a3(0x7b4)](_0x5c9119),'publishLocalMediaStream':_0x5c9119[_0x9328a3(0x30f)][_0x9328a3(0x7b4)](_0x5c9119),'publishLocalDynamicMediaStream':_0x5c9119[_0x9328a3(0x6a8)]['bind'](_0x5c9119),'getPubSubTopics':_0x5c9119[_0x9328a3(0x54f)][_0x9328a3(0x7b4)](_0x5c9119),'getObjectStoreBuckets':_0x5c9119[_0x9328a3(0x5ee)][_0x9328a3(0x7b4)](_0x5c9119),'getExternalStorageConnections':_0x5c9119[_0x9328a3(0x3b1)][_0x9328a3(0x7b4)](_0x5c9119),'getKeyValueDatabases':_0x5c9119[_0x9328a3(0x570)][_0x9328a3(0x7b4)](_0x5c9119),'getGenerativeAIContexts':_0x5c9119[_0x9328a3(0x9eb)]['bind'](_0x5c9119),'getGenerativeAIWorkers':_0x5c9119[_0x9328a3(0x699)][_0x9328a3(0x7b4)](_0x5c9119),'getGraphDatabases':_0x5c9119['getGraphDatabases'][_0x9328a3(0x7b4)](_0x5c9119),'getVectorDatabases':_0x5c9119['getVectorDatabases'][_0x9328a3(0x7b4)](_0x5c9119),'getLocalMediaStreams':_0x5c9119['getLocalMediaStreams'][_0x9328a3(0x7b4)](_0x5c9119),'getRemoteMediaStreams':_0x5c9119[_0x9328a3(0x3c6)]['bind'](_0x5c9119),'getRemoteNodes':_0x5c9119['getRemoteNodes']['bind'](_0x5c9119),'on':_0x5c9119['on'][_0x9328a3(0x7b4)](_0x5c9119),'off':_0x5c9119['off']['bind'](_0x5c9119)};}async['connectAgent'](_0x77e37){const _0x368589=_0x14177f;for(const _0x2e4b6f of _0x77e37[_0x368589(0x379)][_0x368589(0x9fc)]){const _0x172a0c=new _0xbd2b6a(this[_0x368589(0x857)],_0x2e4b6f['id'],_0x77e37,this[_0x368589(0x45d)],this[_0x368589(0x96b)],this[_0x368589(0x9af)]);await _0x172a0c[_0x368589(0x417)](),this['addCluster'](_0x2e4b6f['id'],_0x172a0c),_0x1734f6[_0x368589(0x940)](_0x368589(0x71e),_0x2e4b6f['id']);for(const _0x4694dc of _0x2e4b6f[_0x368589(0x662)]??[])_0x172a0c[_0x368589(0x4d9)](_0x4694dc),_0x1734f6[_0x368589(0x940)](_0x368589(0x526),_0x4694dc);for(const _0x425489 of _0x2e4b6f[_0x368589(0x269)]??[])await _0x172a0c['openObjectStoreBucket'](_0x425489),_0x1734f6[_0x368589(0x940)](_0x368589(0x5c8),_0x425489);for(const _0x54724b of _0x2e4b6f[_0x368589(0x88d)]??[])await _0x172a0c['openObjectStoreBucket'](_0x54724b,{'standalone':!0x0}),_0x1734f6[_0x368589(0x940)]('Opened\x20model\x20store\x20bucket',_0x54724b);for(const _0x47e975 of _0x2e4b6f[_0x368589(0x9f8)]??[]){const _0x1fc924=_0x47e975[_0x368589(0x31f)]('-');await _0x172a0c['openExternalStorageConnection'](_0x1fc924[0x1],_0x1fc924[0x0]),_0x1734f6[_0x368589(0x940)]('Opened\x20external\x20storage\x20connection',_0x47e975);}for(const _0x51844f of _0x2e4b6f['keyValueDatabases']??[])await _0x172a0c[_0x368589(0x314)](_0x51844f,{'version':0x1,'tables':{}}),_0x1734f6[_0x368589(0x940)](_0x368589(0x23a),_0x51844f);for(const _0x485697 of _0x2e4b6f[_0x368589(0x847)]??[])_0x172a0c[_0x368589(0x35a)](_0x485697),_0x1734f6[_0x368589(0x940)](_0x368589(0x3b9),_0x485697);for(const _0x457213 of _0x2e4b6f['vectorDatabases']??[])_0x172a0c['openVectorDatabase'](_0x457213),_0x1734f6[_0x368589(0x940)](_0x368589(0x406),_0x457213);for(const _0x4797bd of _0x2e4b6f[_0x368589(0x4b3)]??[]){const _0xd59a2=_0x1ff39e(this[_0x368589(0x857)],_0x4797bd),_0xaa4539=_0x34c600(),_0xed8768=this[_0x368589(0x96b)][_0x368589(0x954)]??this[_0x368589(0x96b)]['keyValueDatabaseConnector'];await _0x172a0c[_0x368589(0x314)](_0xd59a2,_0xaa4539,_0xed8768),_0x1734f6[_0x368589(0x940)]('Opened\x20logging\x20database',_0xd59a2),await _0x172a0c[_0x368589(0x44e)](_0x4797bd),_0x1734f6[_0x368589(0x940)]('Opened\x20generative\x20AI\x20worker',_0x4797bd);}}}[_0x14177f(0x1d7)](_0x34151d,_0x454e44){const _0x57dc6c=_0x14177f;this[_0x57dc6c(0x9fc)][_0x57dc6c(0x525)](_0x34151d,_0x454e44),_0x454e44['on'](_0x57dc6c(0xa24),()=>{const _0x42c1b4=_0x57dc6c;_0x454e44[_0x42c1b4(0x2b3)](),this[_0x42c1b4(0x9fc)]['delete'](_0x34151d);});}static[_0x14177f(0x34c)](_0x43e433){return void 0x0!==_0x43e433['iceServers'];}}return _0x290fbf;})())));