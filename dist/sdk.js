function a0_0x3fca(){const _0x581b43=['media-stream','getStatus','handleUserJoinNeedPublishedStream','processPendingIceCandidates','getLastDirectoryHandle','Emitting\x20event\x20on\x20local\x20cluster','getAvailableTrackKinds','createGain','requestSubscription','request-file','MediaStream\x20feature\x20not\x20enabled','clearUpgradeTimeout','object-store-already-subscribed','sendFile','desc','removeItem','min','getRemoteUsers','statsReporting','remoteDescription','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','currentBytes','users','getParameters','receivers','continue','setupTrackEndedListeners','receiverUnsubscribers','PubSubTopicLabelNotString','User\x20already\x20exists.','addPendingIceCandidate','InternalSDKError','pendingSyncTransactions','messageListeners','object-store-label-not-string','createLocalDynamicMediaStream','chooseAnswer','discoveryService','onNodeDisconnect','detectVideoIssues','waitSuccess','addConnection','handleUserUpdate','getAuth','video','CannotProvideMediaStream','ConnectionGroup','resolution','key-value-database-table-not-found','registerCluster','st_volatility','number','durationTime','Received\x20track','appsync-disconnect','setItem','av_delay','subscribe','createBufferSource','deleteRemoteUser','remoteMediaStreams','availableTrackKinds','handleSystemEvents','SendTransactionsDump','setRemoteDescription','CrewdleSenderConnection\x20createOffer','Invalid\x20publisher.','setUpgradeTimeout','setPriority','videoWidth','getMinConnections','setBytes','RemoteMediaStreamAlreadyExists','loggingConnectors','distance','processInboundReport','getLocalMediaStreams','Cannot\x20move\x20file:\x20','isNeedRestart','replace','key-value-database-table-does-not-exist','KeyValueDatabaseStats','heartbeatUnsubscriber','handleCloseKeyValueDatabase','sync-complete','applyRemediation','params','Hub','configure','openCursor','Internal\x20SDK\x20Error:\x20','Medium','file-write','FeatureNotEnabled','providerListener','has','key-value-database-does-not-exist','Missing\x20transaction\x20id','getLayout','oniceconnectionstatechange','handleRequestPayload','syncPendingFiles','send','LocalMediaStreamDoesNotExist','setStatus','get','handleSubscriptionSystemEvents','key-value-database-invalid-query','contentType','timePerFrame','deleteTransactionsForTable','senderPreviousBytes','handleUnpublishMediaStream','resetConnection','token','QueryBuilderInvalidArgument','createAnswer','code','setCurrentVersion','onTrack','timeoutCallback','bind','exports','answererId','removeRemoteStreamSubscription','getFileHandle','find','remoteConnections','nodeKey','indexes','Database\x20not\x20open','clearHeartbeat','byteLength','getOutgoingOptimizationConnections','Local\x20MediaStream\x20already\x20exists','track','object-storage','subscription','getConnections','trackKinds','pubsubTopics','getRemoteMediaStream','getDirectoryHandle','sendTransactionsValue','removeSubscription','clearWaitSuccess','registerSystemSource','deleteObjectStore','SHA-1','ConnectionNotinitialized','previousTimestamp','maxFramerate','target','DataChannel\x20is\x20not\x20initialized.','encode','SystemTopic\x20publish','setPendingFileSyncingPayload','error','getOrCreateDirectoryHandle','name','InvalidSubscription','localUser','disconnect','detectStreamIssues','mute','tableLayout','remoteId','getSupportedContentTypes','Rejected\x20answer','play','getInstance','setDurationTime','getDatabase','onRemoveTrack','reset','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','Incoming','Invalid\x20table\x20name\x20\x27','getAncestors','eventListener','Cluster','sdk-internal-error:\x20','codes','removeKeyValueDatabase','where','observe','previousFrames','processServiceReport','LoggingService:\x20logging\x20enabled\x20for','head','parentId','object-store-invalid-sync-message','handlePublishMediaStream','MediaStream','\x20not\x20supported\x20-\x20old\x20Edge','orchestrator','media','getIdToken','getRank','handleError','enumerateDevices','Valid\x20layout','reads','destroy','interval','CPUCycle','add','clientWidth','handleOffer','removeRemoteConnection','Method\x20not\x20implemented.','Detection','checkMediaStream','pathName','writes','getPubSubTopics','setOnMessageHandler','registerSubscriber','AppSync\x20client\x20not\x20ready','Received\x20event\x20on\x20cluster','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','getMaxDistance','logEvent','dataChannel','Key-value\x20database\x20table\x20does\x20not\x20exist.','mergeParts','getOwnerId','onUnregisterPublisher','NodeManager\x20-\x20UserUpdate','onclose','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','handleContentSubscribeMediaStream','publishLocalDynamicMediaStream','receiverCurrentTimestamp','getLocalMediaStream','getContext','sourceVideo','crewdle-sdk-stg.appspot.com','scheduleTime','RequestFileWrite','getMediaStream','Low','remote-stream-does-not-exist','CrewdleConnection\x20handleWebRTCSystemEvents','SubscriptionRequestNoAnswer','validateValue','OptimizationConnectionSuccess','publishWebRTCMessage','createIndex','functions','initializeSystemTopic','appsync-connect-fail','getRemoteMediaStreams','\x20not\x20supported','ObjectStoreLabelNotString','ranges','unregisterSource','removeObjectStore','receiverCurrentBytes','getStats','stopConnection','some','objectStores','node','destination','objectStoreNames','KeyValueDatabaseTableNameReserved','getVideoTracks','targetId','handleSubscribeMediaStream','Local\x20user\x20rank\x20is\x20not\x20set','Problem','Backgrounds','handleContentUnsubscribeMediaStream','timeReceiving','ownerId','transactions','\x27\x20in\x20table\x20\x27','Signaling','messageType','Update','addIssue','getNumberOutgoingSubscriptions','setReceiverTimestamp','clockSkew','keyPath','createSenderConnection','directory','Invalid\x20version\x20\x27','user-publish-media','publishFile','transactionTable','Cannot\x20delete\x20file:\x20','internal','sort','onbufferedamountlow','move','PubSubTopic\x20onMessage','16669nIFLiw','kind','subscription-request-in-progress','getRoundTripTime','publishFolder','lastRemediations','options','toLocaleDateString','senderTotalMessages','ontrack','\x20not\x20supported\x20-\x20old\x20Chrome','log','notifyCluster','unsubscribe','chosenAnswers','LocalMediaStreamTrackFail','offset','notifyObjectStoreOfUserJoin','user-not-authenticated','createRemoteMediaStream','PubSubTopicStats','RemoteMediaStreamDoesNotExist','Restart','runTransaction','createConnection','Delete','handleStatsSystemEvents','TestPage','waitAnswer','iceDebounce','moveFile','sendIceCandidates','bandwidth.bitrate','uuid','removeIncomingSubscription','only','key-value-database-not-open','publishUserJoin','setEmail','CloseObjectStoreBucket','unregisterPublisher','getDistance','CloseMediaStream','transactionService','all','direction','Apply\x20remediation','getAudioTracks','vendorId','includes','FileWrite','logPropagateSystemEvent','cost','crewdle-sdk-stg','pendingFilesTransactions','retryQueue','FolderMove','gain','removeSubscriptionsForUser','objectRequests','readwrite','stats','featureSupport','supported','crewdle-sdk','iceCandidates','outgoing-stream-no-topic','us-east-1','packets','childRemovedUnsubscriber','chunk','info','setTimeout','trackEndedListeners','dispatchEvent','browser','ref','File','remoteUsers','resolutionScale','getLocalUser','KeyValueDatabaseIndexNotFound','eventEmitter','streamLabel','packetsReceived','Count','priority','createReceiverConnection','complete','getTransactions','shouldProcessTransaction','ObjectStoreNotInSync','validateLayout','publish','createMediaStreamSource','waitConnected','providerId','optimizationLayers','streams','endsWith','checkMediaRecording','iceConnectionState\x20failed','handleContentCloseObjectStore','deleteObject','Internal\x20event\x20\x27','end','checkDeviceConfig','enabledChannels','debug','clearSubscriptionRequestTimeout','handleIceCandidates','checksum','discover','contentManager','checkSyncComplete','now','Back\x20off:\x20Table\x20name\x20reserved','object-store-cannot-write-transaction','UnsubscribeMediaStream','86MLZxky','Remediation','update','DataChannel\x20is\x20not\x20open.','suspended','NeedMediaStream','RequestTransactionsValue','startHeartbeat','senders','RemoteRemediation','invalid-subscription','isWhereValue','getFunctions','undefined','remove','calculateSize','processPendingSyncTransactions','path','key-value-database-table-name-reserved','connect','Failed\x20to\x20create\x20key\x20value\x20database','forEach','Cannot\x20write\x20file:\x20','\x27\x20payload:','captureStream','streamRoot','handleContentCloseKeyValueDatabase','Orchestrator\x20handleSystemEvents','MissingRemoteConnection','getShareableStream','registerRemoteUser','chrome','storage','handleWebRTCSystemEvents','crewdle-sdk.firebaseapp.com','moveDirectory','firefox','Key-value\x20database\x20creation\x20failed.','handleSubscriptionNeedMediaStream','getDisplayMedia','decodeJWT','hasMessage','folder-create','/objectstores/','detectionManager','graphService','addIceCandidate','detectLocalIssues','propagate','Logger.getInstance','SubscriptionRequestInProgress','signalingState','timestamp','default','extendedRecipients','System','Invalid\x20render\x20element','Key-value\x20database\x20transaction\x20value\x20not\x20set.','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','G-F7W8KXRKQB','.info/serverTimeOffset','handleObjectDelete','ended','getNextTargetRank','getCurrentMaxLayer','deleteIndex','ObjectStoreCannotWriteTransaction','rank','Move','createRemoteUser','getTrack','load','Optimization','senderTimeProcessing','createTopic','Disconnected','checkAudioVolume','PublishMediaStream','handleSuccess','catch','MediaStreamUnavailable','addVideoTrack','frameWidth','connected','cpu.fps','lastUpdated','Connected','cluster','findNextAncestor','Get','close','openObjectStoreBucket','entries','validateAccess','onChildRemoved','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','\x20answer','streamId','clusterEventEmitter','crewdle-sdk-logging-','RemoteConnectionExists','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','handleContentUnpublishMediaStream','key-value-database','iceConnectionState','Subscribing\x20to\x20an\x20event:\x20on','framerate','edge','getMilliseconds','handleFileRequest','parse','setupResizeHandler','clearWaitAnswer','maxBitrate','browserDetails','getKeyValueDatabases','startTime','setInternalId','setLoggingConnectors','objectStoreConnector','send\x20error\x20on\x20','syncResolve','pop','mediaUnsubscribers','getItem','firebaseUnsubscriber','addRemoteConnection','lowerBound','Cannot\x20move\x20object:\x20','https://crewdle-sdk-default-rtdb.firebaseio.com','receiverTimeProcessing','httpsCallable','RequestSyncKeyValueDatabase','incomingManager','action','messageUnsubscriber','getHash','key-value-database-transaction-value-not-set','Remote\x20MediaStream\x20already\x20exists','addRemoteUser','data','frames','retryQueues','notifyClusterUserUpdate','readonly','Receiving\x20\x27','528LuCvBy','setSenderTimestamp','bufferEvent','Early\x20return:\x20','pub-sub-topic-label-not-string','query','arrayBuffer','createMediaStreamDestination','api','setLocalDescription','totalDecodeTime','stream','getSenderTotalBytes','startsWith','systemTopic','onnegotiationneeded','NodeManager\x20-\x20WebRTCSuccess','incomingTopic','Remove','pool','consumeBufferedEvents','payloadType','addAudioTrack','disconnectTimeout','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','handleSubscriptionRestartNeedMediaStream','clearOncloseTimeout','processLocalReport','createElement','from','processReports','sendChunked','handleFileRequestAnswer','processRank','request-accepted','senderPreviousTimestamp','Invalid\x20query:\x20where\x20clause\x20must\x20have\x20an\x20operator\x20and\x20a\x20value','crewdleSDKLoggingChannels','region','SystemStats','setParams','0.1.0','39ECvAPN','Data\x20cluster\x20is\x20not\x20open.','processReceiverReport','mediaTopics','getReport','Offline','pubsub','count','doc','cancel','KeyValueDatabaseInvalidQuery','ConnectionState','answers','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','emit','ObjectStoreInvalidSyncMessage','unregisterCluster','UserAlreadyExist','createOffer','LocalMediaStreamAlreadyExists','Internal\x20unknown\x20error:\x20','ObjectStoreAlreadySubscribed','MediaSource','function','UserConnectionsUpdate','getComplementaryCount','DTVolatility','getShareableStreamId','Data','wait','unshift','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','localDescription','closeSubscription','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','onupgradeneeded','Recording','getSenderBitrate','height','sdkCreateToken','failed','Upgrade','connection-state','TimePerFrame','RemoteAdd','drawImage','totalEncodeTime','list','displayName','pub-sub-topic-does-not-exist','Invalid\x20value.\x20Must\x20be\x20an\x20object.','getReceiverBitrate','client','orderBy','element','getResolution','handleContentRemoteMediaStreamTrackFail','subscriptions','Media','connectionState','FolderCreate','defineProperty','Events','Stats','value','handleChunkMessage','updateLastUpdated','fromEntries','loadEnabledClusters','publishUserUpdate','removeOutgoingSubscription','answerJoin','callback','Error\x20building\x20query','dbKey','CrewdleConnectionGroup','onicegatheringstatechange','Cannot\x20get\x20directory:\x20','sdkValidateAccess','All','operator','KeyValueDatabaseInvalidLayout','reduce','fps','type','navigator','join','requestSubscriptionAction','UserUpdate','getApp','state','listenerUnsubscriber','sender','retry','handleContentUpdateMediaStream','23723WIyvCm','RoundTripTime','UserDoesNotExist','checkWebGL','getProviderId','User\x20not\x20signed\x20in','videoHeight','reportMetric','__esModule','restartIce','publishSyncCompleted','not-in','PubSub','sendTransactionsDump','messageCallback','topicLabel','messages','encodings','filteredDestinationIds','getInternalStreamId','PubSubTopicDoesNotExist','filter','ConnectionInvalidDataEvent','Cannot\x20get\x20or\x20create\x20directory:\x20','bandwidth.jitter','getTotalBytes','canvas','call','createDataChannel','compareTransactions','Cannot\x20publish\x20move\x20operation:\x20','setConnectionType','KeyValueDatabase','message','getSTVolatility','Early\x20return','setLocalRank','\x20already\x20exists','ObjectStoreStats','active','receiverPreviousTimestamp','user-update','IncomingSubscription','connectionGroup','connectionManager','ObjectStorage','low','autoplay','Support:\x20','removeTrackCallback','remoteUnsubscriber','getBitrate','messagesSent','estimatedPlayoutTimestamp','maxOutgoingSubscriptions','SubscriptionRequestDoesNotExist','.crewdle-last-transaction','outgoingManager','folder','getRemoteId','removeTrackListeners','Request','collection','datadogLogs','trackCallback','getAncestorIds','KeyValueDatabaseTransactionValueNotSet','subscription-request-failed','checkWebRTC','val','subtle','scaleResolutionDownBy','map','pendingIceCandidates','handleOnMessage','getSubscriptionInfo','audioSource','previousBytes','everyone','isWhereValues','createSubscription','AudioVolume','size','handleDisconnect','processOutboundReport','getPartsForSubscriptionLabel','InvalidDataChannel','Stream\x20does\x20not\x20exist','audioContext','Retry\x20request\x20with\x20chosen\x20answer\x20user\x20or\x20rank','toString','addEventListener','leave','lastProcessRank','functionsRegion','Resolution','cleanOldSubscription','getMediaSubscription','canChooseAnswer','messagesReceived','transactionIds','unregisterPublisherListener','isConnected','maxDistance','replaceTrack','getTracks','removeTopic','handleNodeDisconnect','buffer','lastExecuted','isFeatureSupported','handleContentCloseMediaStream','Buffering\x20event','retryCallback','bytesSent','createLocalMediaStream','Invalid\x20where\x20clause','maxFps','onconnectionstatechange','UserNotAuthenticated','setInterval','createConstantSource','label','\x0aAdditional\x20data:\x20','connection-not-initialized','Remote\x20connection\x20already\x20exists.','publishUserLeave','No\x20destinationIds\x20left','syncKeyValueDatabase','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','isSubscribed','RequestFileSync','handleUserJoin','remote-stream-missing-provider-id','handleUserLeave','developers/','FramePerSecond','key-value-database-invalid-value','Accepted','key-value-database-creation-failed','layout','syncTimeout','getIndexFromStore','issues','RemoteRemove','endpoint','processOutboundReports','bufferedAmountLowThreshold','clearRect','copyDirectory','unregisterSystemSource','maxConnections','MissingSystemTopic','getPartsFromSubscription','Downgrade','Receiver\x20connection\x20is\x20not\x20initialized.','lastTransactionId','FileMove','CloseKeyValueDatabase','processDataChannelReport','AudioOutput','remediations','committed','unsubscribeTrackEndedListener','getInternalTrackParams','onerror','Receiver','between','setScheduleTime','getConnection','Base\x20WebRTC\x20Connection','resume','Bitrate','clear','setRemoteConnections','removeRemoteUser','content','object-store-not-in-sync','SubscriptionRequestFailed','RemoteMediaStreamMissingProviderId','isProduction','removeEventListener','northamerica-northeast1','stop','isClusterEnabled','slice','onload','Invalid\x20layout:\x20','getContentType','app','instantiateTransactionTable','Chosen\x20answer','debugEnabled','packetsSent','Outgoing','setOnTableWriteHandler','Object\x20store\x20not\x20synced.','Incoming\x20WebRTC\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','origin','clusterId','Invalid\x20query:\x20where\x20clause\x20must\x20have\x20a\x20key','handleAnswer','oidc','1:519415702791:web:5dd39042f881cfde3251a2','user','createPendingFileWrite','createOutgoingSubscription','audio','closeConnection','resizeHandler','ObjectStoreInvalidPayload','successNotified','handleUnsubscribeMediaStream','8689505Wrqhjz','handleSubscriptionProvideMediaStream','arrayBufferToObject','hasRemoteUser','authUser','messageBuffer','start','pubSubTopics','candidate','collectStats','registerPublisher','readyState','transactionsToSync','Default','processTransactionPayload','UpdateMediaStream','object-store-invalid-payload','max','getPriority','findNextUserId','webrtc-invalid-destination','updateDebounce','newPath','oncloseTimeout','ScreenSharing','handleFolderCreate','KeyValueDatabaseInvalidValue','updateDebounceTimeout','waitSendBuffer','split','text','handleMissingSenders','sourceId','userId','buildTableEvent','getFile','KeyValueDatabaseTransactionTableNotInitialized','random','clearConnectionTimeout','iceGatheringState','StreamReport','handleTransactionPayload','unregisterRemoteUser','firebaseConfig','source','values','opera','removeRemoteMediaStream','getClosestUsers','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','processSenderReport','handleSubscriptionSubscribeMediaStream','statsCollection','channel','Support','getIndexFromWhereQuery','hasTracks','setSubscriptionRequestTimeout','registerDestination','auth','getEstimatedTimestamp','off','OutgoingSubscription','query-helper-invalid-argument','getStreamRoot','tables','getKeyRange','object-store-stream-does-not-exist','bound','getResolutionScale','publishSyncCompletedAfterWrites','result','currentVersion','listener','openKeyValueDatabase','getRemoteConnections','Table\x20not\x20found','removeTrack','updateUser','Internal\x20SDK\x20error:\x20','dataTopics','ObjectStoreNotSynced','isMediaSource','hasOwnProperty','time_per_frame','setTimestamp','getReceiverTotalBytes','subscriptionRequestTimeouts','remediation','incrementVersion','status','nodeManager','debounceProcessRank','assign','appsync-no-destination','restartTimeout','key-value-database-index-not-found','outgoingStreams','maxBpp','getAudioVideoDelay','roundTripTime','asc','user-already-exist','folder-delete','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','registerSource','6044280sEdUim','delete','removeListener','sendRequest','onloadeddata','chunks','getSettings','sendStats','firestore','object-store-invalid-path','getMaxConnections','ConnectedPendingKeepAlive','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','ConnectionNoRetryQueue','handleRemediationSystemEvents','ClosePubSubTopic','WebRTC\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','notifyObjectStoreOfUserLeave','Add','localId','object','::ï¿¿','getConfigs','receiverTotalMessages','ancestors','warn','Content','Module','checkAudioOutput','user-join','sendFileRequestPayload','Sender','remote-inbound-rtp','setRank','connectionStateListener','LocalReport','writeFile','AppSync\x20publish','notifyJoin','Send\x20request','cpu.time_per_frame','ObjectStore','put','CanProvideMediaStream','getLocalId','localMediaStreams','connection-no-retry-queue','2-digit','setupListeners','setVendorId','openPubSubTopic','\x20check\x20failed','tail','validateQuery','Index\x20not\x20found','setupConnectionEvents','join-cluster','maxThreshold','packetsLost','InvalidPublisher','ondatachannel','WebRTCInvalidDestination','listenerUnsubscribers','setupRenderElement','detection','removeConnection','dataUnsubscribers','CrewdleReceiverConnection\x20ontrack','Restart\x20NeedMediaStream','unregisterSystemPublisher','registeredListeners','isWhereBetween','Support:\x20unrecognized\x20Safari\x20user\x20agent','KeyValueDatabaseTableDoesNotExist','Offer','removeEntry','UserJoin','STVolatility','isReconnecting','floor','browserVersion','createObjectStoreBucket','configs','objectStore','/logs','getPacketsLostPerc','Everyone\x20','KeyValueDatabaseTableNotFound','Jitter','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','every','database','user-unpublish-media','FileDelete','subscriptionRequestsQueue','setSinkId','authenticateUser','queues','removeUser','DeviceConfig','objectstore','audioDestination','bandwidth.rtt','RestartNeedMediaStream','abs','Cannot\x20get\x20file:\x20','minThreshold','createPubSubTopic','systemMessagesReceived','listenUnsubscriber','getAudioContext','connectionPool','features','aws','findNewMediaSubscription','MediaRecorder','missing-system-topic','deletePendingFile','text/plain','disconnectCallback','framesEncoded','authService','framesDecoded','createIncomingSubscription','next','onLine','clearSyncTimeout','ObjectStoreDoesNotExist','goOffline','onmessage','findIndex','High','senderBitrate','Remote\x20stream\x20does\x20not\x20exist.','ObjectStoreInvalidPath','bytesReceived','handleContentClosePubSubTopic','detail','Stream\x20already\x20exists','index','RemoteMediaStreamTrackFail','push','getEmail','NodeManager\x20-\x20UserLeave','crewdle-sdk.appspot.com','version','observer','/nodes/','Node','length','width','medium','senderCurrentTimestamp','mediator','getCurrentVersion','remediationManager','\x20-\x20Sending\x20propagation\x20(','upgradeTimeout','detectProblems','senderCurrentBytes','\x20does\x20not\x20exists','limit','mediaStream','connecting','handleProblem','SubscribeMediaStream','fileChunks','buildQuery','setProviderId','2435076AZbYwe','rtt','cpu.av_delay','RequestAccepted','local-stream-does-not-exist','handleNeedRestart','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','pub-sub-topic-already-subscribed','moveObject','tableName','canProvideResolution','pendingFilesSyncing','getConnectionGroup','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','logConnectionState','senderStreams','\x20not\x20supported\x20-\x20old\x20Opera','WebRTC','outgoingTopic','concat','minConnections','keys','warning','iceServers','handleLocalTrackFailure','shift','signalingServer','closeTopic','Invalid\x20subscription.','transaction','getQuery','sendAction','receiverBitrate','bufferedEvents','support','serverTimestamp','publishLocalMediaStream','feature-not-enabled','Ice','isArray','object-store-already-exists','parameters','open','onMessage','handleUpdateMediaStream','PubSubTopicAlreadyExists','statsManager','email','events','processReport','2007MFqJKv','nextUserId','setParameters','instance','setOnDisconnectHandler','recipients','frameHeight','maps','statsReport','KeyValueDatabaseDoesNotExist','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','connection-not-connected','getSubscribedTracks','handleSubscriptionUnsubscribeMediaStream','updatePropagationProperties','topic','Disconnect','setupStatsCollection','addMessage','Waiting','invalid-data-chanel','onValue','previous','context','22PgijdD','minResolutionScale','bitrate','Subscription','isSync','NodeManager\x20-\x20PublishUserLeave','setDisplayName','Folder','publishTransaction','onremovetrack','getDisplayName','invalid-subscriber','getUserMedia','disconnected','.crewdle-pending','file','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','checkScreenSharing','discoveryUnsubscriber','handleCloseMediaStream','subscribedTracks','key','graphql','clientStream','splitParts','lastHeartbeat','tableObserver','crewdleSDKEnableLogging','handleRemoteTrackFailure','enabled','internalId','joinCluster','checkBackgrounds','removePubSubTopic','receiverConnection','KeyValueDatabaseNameNotString','objectToArrayBuffer','component','1:420235181083:web:4eff6062bd845cb0748cbe','ccc','getUser','isOffer','splice','\x20with\x20\x27','setupStatsReporting','getFirestore','decode','connection-invalid-data-event','getObjectStoreBuckets','isIceCandidate','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','Issue\x20detected:\x20','currentFrames','currentTimestamp','ObjectStoreAlreadyExists','srcObject','224IHaVFe','detectAudioIssues','joinedClusters','Cannot\x20move\x20directory:\x20','reject','total','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','Answer','shouldContinuePropagation','isMediaDestination','createWritable','senderConnection','clusterKey','sendrecv','logRaw','FPS','local-media-stream-already-exists','getDTVolatility','Invalid\x20query','connections','Stats:\x20report','24760gqmYlZ','initialize','WebGL','removeLocalMediaStream','Support:\x20current\x20config','renderElement','unsubscribeHandler','Cannot\x20list\x20directory:\x20','Pool','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','notifyClusterUserJoin','indexOf','Online','handleObjectMove','handleContentSystemEvents','stringify','UserLeave','receiverPreviousBytes','/stats','unregisterDestination','No\x20connections\x20available\x20to\x20send\x20message','syncTransactionsWritten','destinationIds','joinedAt','systemTopicUnsubscribe','amd','Invalid\x20object\x20store\x20sync\x20message.','RequestFile','clientHeight','readAsArrayBuffer','getChannelData','UnpublishMediaStream','processInboundReports','subscriptionRequests','logSupport','prev','system','getId','boolean','Cluster\x20\x27','receiverStreams','Rejected','setTransformations','logServiceEvent','closed','Problem\x20detected:\x20','tracks','dt_volatility','connectionTimeout','authContext','setRemoteUser','handleWebRTCOptimizationConnectionSuccess','retryCount','\x27\x20to\x20','systemMessages','timeSending','userAgent','getConnectionDestinations','logger','secheduleTime','FolderDelete','registerSystemPublisher','keyValueDatabases','match','maxLayer','\x20-\x20','server','clusters/','subscriptionManager','Transaction','Invalid\x20query:\x20invalid\x20operator:\x20','handleFileSync','RemoteMediaStreamInvalidSubscriptionParams','manageAncestor','connectionType','getRemoteUser','eventTarget','debounceStats','Core','addTrack','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','updateLastTransactionId','getSubscriptionLabel','getConnectionType','handleSubscriptionMediaStreamUnavailable','420235181083','bufferedAmount','NeedRestart','contains','\x20not\x20supported\x20-\x20old\x20Safari','key-value-database-transaction-table-not-initialized','\x20not\x20supported\x20-\x20old\x20Firefox','onDisconnectHandler','indexNames','manageOptimization','unpublish','getTransactionFromTableWriteEvent','mediaDevices','List','handleOutgoingSystemEvents','frameTime','writeTransaction','handleNodeSystemEvents','getTrackFromParam','issue','Invalid\x20key\x20\x27','PubSubTopicAlreadySubscribed','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','safari','OutgoingMediaStreamNoTopic','getEnabledChannels','clearRestartTimeout','Cannot\x20write\x20transaction.','Missing\x20remote\x20user\x20or\x20rank','topics','set','Connection','getLabel','handleNoAnswer','true','event','Success','pendingFilesRename','onsuccess','crewdleSDKDisableLogging','string','connection','getOrResetPendingFileTimeout','transformations','handleCloseObjectStore','remainingTracks','AudioVideoDelay','Consuming\x20buffered\x20event','handleWebRTCSuccess','onProviderChanged','getTable','InvalidSubscriber','connector','ConnectionNotConnected','key-value-database-invalid-layout','maxResolution','jitter','sync','generateClient','sendWithRetry','handleClosePubSubTopic','handleFileWrite','subscription-request-no-answer','logStorage','SyncComplete','tableUnsubscriber','addDoc','66687pyowOZ','unregisterSubscriber','setReceiverBytes','Internal\x20error:\x20','currentDistance'];a0_0x3fca=function(){return _0x581b43;};return a0_0x3fca();}function a0_0x2e59(_0x5d8939,_0x59f3ee){const _0x3fcafe=a0_0x3fca();return a0_0x2e59=function(_0x2e59d5,_0x267d6a){_0x2e59d5=_0x2e59d5-0x195;let _0x552db0=_0x3fcafe[_0x2e59d5];return _0x552db0;},a0_0x2e59(_0x5d8939,_0x59f3ee);}(function(_0x29e9a5,_0x680bc9){const _0x2694f0=a0_0x2e59,_0x34237a=_0x29e9a5();while(!![]){try{const _0x3f6f77=-parseInt(_0x2694f0(0x710))/0x1*(-parseInt(_0x2694f0(0x1ae))/0x2)+-parseInt(_0x2694f0(0x5e1))/0x3*(-parseInt(_0x2694f0(0x533))/0x4)+parseInt(_0x2694f0(0x39e))/0x5+parseInt(_0x2694f0(0x240))/0x6*(-parseInt(_0x2694f0(0x2c9))/0x7)+-parseInt(_0x2694f0(0x548))/0x8*(parseInt(_0x2694f0(0x4e3))/0x9)+parseInt(_0x2694f0(0x408))/0xa*(-parseInt(_0x2694f0(0x4fb))/0xb)+-parseInt(_0x2694f0(0x4b1))/0xc*(parseInt(_0x2694f0(0x26a))/0xd);if(_0x3f6f77===_0x680bc9)break;else _0x34237a['push'](_0x34237a['shift']());}catch(_0xa2d525){_0x34237a['push'](_0x34237a['shift']());}}}(a0_0x3fca,0xda20a),!function(_0x2f8250,_0x27563e){const _0x483f28=a0_0x2e59;if(_0x483f28(0x41c)==typeof exports&&'object'==typeof module)module['exports']=_0x27563e();else{if(_0x483f28(0x281)==typeof define&&define[_0x483f28(0x562)])define([],_0x27563e);else{var _0x1a3578=_0x27563e();for(var _0x5d9b7e in _0x1a3578)(_0x483f28(0x41c)==typeof exports?exports:_0x2f8250)[_0x5d9b7e]=_0x1a3578[_0x5d9b7e];}}}(this,()=>((()=>{'use strict';const _0x435dea=a0_0x2e59;var _0x17bb07={0xa9:(_0x31295d,_0x4c46e4,_0x57d56e)=>{const _0x95bdc5=a0_0x2e59;_0x57d56e['d'](_0x4c46e4,{'q':()=>_0x15a475});const _0x15a475={'version':_0x95bdc5(0x269),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x95bdc5(0x34a),'authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x95bdc5(0x4b7),'projectId':_0x95bdc5(0x745),'storageBucket':_0x95bdc5(0x6d3),'appId':_0x95bdc5(0x394),'functionsRegion':_0x95bdc5(0x37f)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':'us-east-1'}};},0x1c4:(_0x8d95ee,_0x8b26d7,_0x1cce33)=>{_0x1cce33['d'](_0x8b26d7,{'q':()=>_0x28b12a});const _0x28b12a={};},0x1fc:(_0x510261,_0xd7dc6c,_0x1eb664)=>{const _0x562f9f=a0_0x2e59;_0x1eb664['d'](_0xd7dc6c,{'q':()=>_0x30718e});const _0x30718e={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x562f9f(0x5b4),'authDomain':_0x562f9f(0x1d0),'databaseURL':_0x562f9f(0x22f),'projectId':_0x562f9f(0x750),'storageBucket':_0x562f9f(0x498),'messagingSenderId':_0x562f9f(0x59e),'appId':_0x562f9f(0x521),'measurementId':_0x562f9f(0x1e9)},'aws':{'endpoint':_0x562f9f(0x277),'region':_0x562f9f(0x753)}};},0x2ac:(_0x47e260,_0x417985,_0x5692ec)=>{_0x5692ec['d'](_0x417985,{'q':()=>_0xc38327});const _0xc38327={};}},_0x2b7f63={};function _0x392c7b(_0x3a2679){const _0x599f63=a0_0x2e59;var _0x47880c=_0x2b7f63[_0x3a2679];if(void 0x0!==_0x47880c)return _0x47880c[_0x599f63(0x660)];var _0x5bab32=_0x2b7f63[_0x3a2679]={'exports':{}};return _0x17bb07[_0x3a2679](_0x5bab32,_0x5bab32['exports'],_0x392c7b),_0x5bab32[_0x599f63(0x660)];}_0x392c7b['n']=_0x1faa1e=>{const _0x3bc268=a0_0x2e59;var _0x48887e=_0x1faa1e&&_0x1faa1e[_0x3bc268(0x2d1)]?()=>_0x1faa1e[_0x3bc268(0x1e3)]:()=>_0x1faa1e;return _0x392c7b['d'](_0x48887e,{'a':_0x48887e}),_0x48887e;},_0x392c7b['d']=(_0x49c414,_0x16c427)=>{for(var _0x14c6fb in _0x16c427)_0x392c7b['o'](_0x16c427,_0x14c6fb)&&!_0x392c7b['o'](_0x49c414,_0x14c6fb)&&Object['defineProperty'](_0x49c414,_0x14c6fb,{'enumerable':!0x0,'get':_0x16c427[_0x14c6fb]});},_0x392c7b['o']=(_0x58bd57,_0x105259)=>Object['prototype'][_0x435dea(0x3f1)][_0x435dea(0x2e4)](_0x58bd57,_0x105259),_0x392c7b['r']=_0x5b698f=>{const _0xa50dca=_0x435dea;_0xa50dca(0x1bb)!=typeof Symbol&&Symbol['toStringTag']&&Object['defineProperty'](_0x5b698f,Symbol['toStringTag'],{'value':_0xa50dca(0x423)}),Object[_0xa50dca(0x2a7)](_0x5b698f,'__esModule',{'value':!0x0});};var _0x9dbad0={};return((()=>{const _0x3565d6=_0x435dea;var _0x43872a,_0x2b218c,_0x47f90b,_0x8cb858,_0x338970,_0x19aef4,_0xf2d596;_0x392c7b['r'](_0x9dbad0),_0x392c7b['d'](_0x9dbad0,{'ContentType':()=>_0x19aef4,'DatabaseEvent':()=>_0x8cb858,'DatadogLoggingConnector':()=>_0x20e439,'KeyValueDatabase':()=>_0x20425a,'LayoutBuilder':()=>_0x51a84f,'LoggingChannels':()=>_0x3e1340,'MediaStreamPriority':()=>_0xf2d596,'ObjectKind':()=>_0x43872a,'PayloadAction':()=>_0x2b218c,'QueryBuilder':()=>_0x471255,'SDK':()=>_0x2703c0,'SDKClientErrorCodes':()=>_0x338970,'StorageEventType':()=>_0x47f90b,'logger':()=>_0x11c0d7}),function(_0x4d2ad2){const _0x52621b=a0_0x2e59;_0x4d2ad2[_0x52621b(0x75d)]='file',_0x4d2ad2['Folder']=_0x52621b(0x705);}(_0x43872a||(_0x43872a={})),function(_0x3be8e4){const _0x27d07b=a0_0x2e59;_0x3be8e4[_0x27d07b(0x75d)]=_0x27d07b(0x50a),_0x3be8e4[_0x27d07b(0x502)]=_0x27d07b(0x303),_0x3be8e4[_0x27d07b(0x1f2)]=_0x27d07b(0x70e);}(_0x2b218c||(_0x2b218c={})),function(_0x34c4a5){const _0xedaa3f=a0_0x2e59;_0x34c4a5[_0xedaa3f(0x742)]=_0xedaa3f(0x642),_0x34c4a5[_0xedaa3f(0x465)]='file-delete',_0x34c4a5[_0xedaa3f(0x366)]='file-move',_0x34c4a5[_0xedaa3f(0x2a6)]=_0xedaa3f(0x1d8),_0x34c4a5[_0xedaa3f(0x585)]=_0xedaa3f(0x405),_0x34c4a5[_0xedaa3f(0x748)]='folder-move';}(_0x47f90b||(_0x47f90b={})),function(_0x31332b){const _0x1f025f=a0_0x2e59;_0x31332b[_0x1f025f(0x5de)]=_0x1f025f(0x63a);}(_0x8cb858||(_0x8cb858={})),function(_0x410c3a){const _0x2e5a18=a0_0x2e59;_0x410c3a[_0x2e5a18(0x643)]=_0x2e5a18(0x4d6),_0x410c3a['ObjectStoreAlreadyExists']=_0x2e5a18(0x4d9),_0x410c3a[_0x2e5a18(0x27f)]=_0x2e5a18(0x5f2),_0x410c3a[_0x2e5a18(0x487)]=_0x2e5a18(0x3e1),_0x410c3a[_0x2e5a18(0x6e4)]=_0x2e5a18(0x608),_0x410c3a[_0x2e5a18(0x39b)]=_0x2e5a18(0x3ae),_0x410c3a['ObjectStoreInvalidPath']=_0x2e5a18(0x411),_0x410c3a[_0x2e5a18(0x76b)]=_0x2e5a18(0x37a),_0x410c3a[_0x2e5a18(0x605)]='internal-sdk-error',_0x410c3a[_0x2e5a18(0x4ec)]=_0x2e5a18(0x646),_0x410c3a['KeyValueDatabaseIndexNotFound']=_0x2e5a18(0x3fe),_0x410c3a[_0x2e5a18(0x274)]=_0x2e5a18(0x651),_0x410c3a[_0x2e5a18(0x3b8)]=_0x2e5a18(0x352),_0x410c3a['KeyValueDatabaseNameNotString']='key-value-database-name-not-string',_0x410c3a['KeyValueDatabaseNotOpen']=_0x2e5a18(0x734),_0x410c3a['KeyValueDatabaseTableNameReserved']=_0x2e5a18(0x1c0),_0x410c3a[_0x2e5a18(0x45f)]=_0x2e5a18(0x616),_0x410c3a[_0x2e5a18(0x2bb)]=_0x2e5a18(0x5d4),_0x410c3a['LocalMediaStreamAlreadyExists']=_0x2e5a18(0x543),_0x410c3a[_0x2e5a18(0x4de)]='pub-sub-topic-already-exists',_0x410c3a[_0x2e5a18(0x2dd)]=_0x2e5a18(0x29b),_0x410c3a['PubSubTopicLabelNotString']=_0x2e5a18(0x244),_0x410c3a['PubSubTopicAlreadySubscribed']=_0x2e5a18(0x4b8),_0x410c3a[_0x2e5a18(0x659)]=_0x2e5a18(0x3dd),_0x410c3a[_0x2e5a18(0x62e)]='remote-media-stream-already-exists',_0x410c3a[_0x2e5a18(0x591)]='remote-media-stream-invalid-subscription-params',_0x410c3a[_0x2e5a18(0x1e0)]=_0x2e5a18(0x712),_0x410c3a[_0x2e5a18(0x340)]=_0x2e5a18(0x722);}(_0x338970||(_0x338970={}));class _0x27552e extends Error{['code'];constructor(_0x36245d,_0x3c4b9d){const _0x1f33ea=a0_0x2e59;super(_0x3c4b9d),this[_0x1f33ea(0x65b)]=_0x36245d;}}function _0x184088(_0x336aba){const _0x4e5448=a0_0x2e59;if(!_0x336aba)throw new _0x27552e(_0x338970['RemoteMediaStreamInvalidSubscriptionParams'],'Invalid\x20params');if(_0x4e5448(0x41c)!=typeof _0x336aba)throw new _0x27552e(_0x338970['RemoteMediaStreamInvalidSubscriptionParams'],'Invalid\x20params');const _0x3b4fbe=_0x336aba;if(_0x3b4fbe[_0x4e5448(0x612)]&&'boolean'!=typeof _0x3b4fbe[_0x4e5448(0x612)]){if(_0x3b4fbe[_0x4e5448(0x612)]['maxResolution']&&('number'!=typeof _0x3b4fbe[_0x4e5448(0x612)][_0x4e5448(0x5d5)][_0x4e5448(0x49e)]||_0x4e5448(0x619)!=typeof _0x3b4fbe[_0x4e5448(0x612)][_0x4e5448(0x5d5)][_0x4e5448(0x290)]))throw new _0x27552e(_0x338970['RemoteMediaStreamInvalidSubscriptionParams'],'Invalid\x20resolution');if(_0x3b4fbe[_0x4e5448(0x612)]['renderElement']&&!(_0x3b4fbe[_0x4e5448(0x612)][_0x4e5448(0x54d)]instanceof HTMLVideoElement))throw new _0x27552e(_0x338970[_0x4e5448(0x591)],_0x4e5448(0x1e6));}return!0x0;}!function(_0x377082){const _0x172edb=a0_0x2e59;_0x377082[_0x172edb(0x286)]=_0x172edb(0x23a),_0x377082[_0x172edb(0x2a4)]=_0x172edb(0x6aa),_0x377082['File']=_0x172edb(0x50a),_0x377082[_0x172edb(0x2d5)]='pubsub',_0x377082['ObjectStore']=_0x172edb(0x46c),_0x377082[_0x172edb(0x2e9)]='keyvaluedatabase';}(_0x19aef4||(_0x19aef4={})),function(_0x1333b){const _0x27f12c=a0_0x2e59;_0x1333b[_0x1333b[_0x27f12c(0x48b)]=0x1]='High',_0x1333b[_0x1333b[_0x27f12c(0x3ab)]=0x2]=_0x27f12c(0x3ab),_0x1333b[_0x1333b[_0x27f12c(0x6d7)]=0x3]=_0x27f12c(0x6d7);}(_0xf2d596||(_0xf2d596={}));class _0x471255{[_0x3565d6(0x245)]={};constructor(_0x2a2f91){const _0x45e3f5=_0x3565d6;this[_0x45e3f5(0x245)]['orderBy']={'key':_0x2a2f91,'direction':'asc'};}static[_0x3565d6(0x493)](_0x33b000){const _0x4cebe9=_0x3565d6;if(_0x4cebe9(0x5c6)!=typeof _0x33b000||0x0===_0x33b000[_0x4cebe9(0x49d)])throw new _0x27552e(_0x338970['QueryBuilderInvalidArgument'],_0x4cebe9(0x4ed));return new _0x471255(_0x33b000);}static[_0x3565d6(0x43d)](_0x2e808c){const _0x1b7b94=_0x3565d6;try{return _0x471255[_0x1b7b94(0x4af)](_0x2e808c),!0x0;}catch(_0x4f3496){return!0x1;}}static[_0x3565d6(0x4af)](_0x342b9a){const _0x44124e=_0x3565d6,_0x2e906f=_0x471255[_0x44124e(0x493)](_0x342b9a[_0x44124e(0x29f)]?.[_0x44124e(0x510)]??_0x342b9a[_0x44124e(0x69e)]?.[_0x44124e(0x510)]??'');if(_0x342b9a[_0x44124e(0x69e)]){const _0x410bae=_0x342b9a['where'];if((_0x471255[_0x44124e(0x1b9)](_0x410bae)||_0x471255[_0x44124e(0x318)](_0x410bae)||_0x471255[_0x44124e(0x44f)](_0x410bae))&&_0x2e906f[_0x44124e(0x69e)](_0x410bae[_0x44124e(0x2ba)],_0x410bae[_0x44124e(0x2aa)]),_0x342b9a[_0x44124e(0x29f)]?.[_0x44124e(0x510)]&&_0x342b9a[_0x44124e(0x29f)]?.[_0x44124e(0x510)]!==_0x342b9a[_0x44124e(0x69e)][_0x44124e(0x510)])throw new _0x27552e(_0x338970['QueryBuilderInvalidArgument'],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x342b9a[_0x44124e(0x29f)]&&_0x2e906f[_0x44124e(0x29f)](_0x342b9a[_0x44124e(0x29f)][_0x44124e(0x73d)]),_0x342b9a['limit']&&_0x2e906f['limit'](_0x342b9a[_0x44124e(0x4a9)]),_0x342b9a[_0x44124e(0x720)]&&_0x2e906f[_0x44124e(0x720)](_0x342b9a['offset']),_0x2e906f;}[_0x3565d6(0x4cf)](){return{...this['query']};}[_0x3565d6(0x69e)](_0x497104,_0x18539e){const _0x2c95ff=_0x3565d6,_0x3b95f6={'key':this[_0x2c95ff(0x245)][_0x2c95ff(0x29f)][_0x2c95ff(0x510)],'operator':_0x497104,'value':_0x18539e};if(!_0x471255['isWhereValue'](_0x3b95f6)&&!_0x471255[_0x2c95ff(0x318)](_0x3b95f6)&&!_0x471255[_0x2c95ff(0x44f)](_0x3b95f6))throw new _0x27552e(_0x338970[_0x2c95ff(0x659)],_0x2c95ff(0x33d));return this[_0x2c95ff(0x245)][_0x2c95ff(0x69e)]=_0x3b95f6,this;}[_0x3565d6(0x29f)](_0x23a847){const _0x378032=_0x3565d6;if(_0x378032(0x403)!==_0x23a847&&_0x378032(0x5f4)!==_0x23a847)throw new _0x27552e(_0x338970[_0x378032(0x659)],'Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc');return this[_0x378032(0x245)]['orderBy'][_0x378032(0x73d)]=_0x23a847,this;}[_0x3565d6(0x4a9)](_0x255c27){const _0x23cb0d=_0x3565d6;if(_0x23cb0d(0x619)!=typeof _0x255c27||_0x255c27<0x0)throw new _0x27552e(_0x338970[_0x23cb0d(0x659)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x23cb0d(0x245)][_0x23cb0d(0x4a9)]=_0x255c27,this;}[_0x3565d6(0x720)](_0x119424){const _0x5e8662=_0x3565d6;if(_0x5e8662(0x619)!=typeof _0x119424||_0x119424<0x0)throw new _0x27552e(_0x338970[_0x5e8662(0x659)],_0x5e8662(0x3cf));return this[_0x5e8662(0x245)][_0x5e8662(0x720)]=_0x119424,this;}static[_0x3565d6(0x1b9)](_0x558db7){const _0x1fcafe=_0x3565d6;if(!(_0x558db7&&_0x1fcafe(0x41c)==typeof _0x558db7&&_0x1fcafe(0x2ba)in _0x558db7&&_0x1fcafe(0x2aa)in _0x558db7))return!0x1;const {operator:_0x2c4e42,value:_0x4f1828}=_0x558db7;return!(!['==','!=','>','<','<=','>='][_0x1fcafe(0x741)](_0x2c4e42)||Array[_0x1fcafe(0x4d8)](_0x4f1828));}static['isWhereValues'](_0x3a92ad){const _0x210a5e=_0x3565d6;if(!(_0x3a92ad&&_0x210a5e(0x41c)==typeof _0x3a92ad&&'operator'in _0x3a92ad&&'value'in _0x3a92ad))return!0x1;const {operator:_0x1987c3,value:_0x11c4b5}=_0x3a92ad;return!(!['in',_0x210a5e(0x2d4)]['includes'](_0x1987c3)||!Array['isArray'](_0x11c4b5));}static[_0x3565d6(0x44f)](_0x371176){const _0x4480c4=_0x3565d6;if(!(_0x371176&&_0x4480c4(0x41c)==typeof _0x371176&&_0x4480c4(0x2ba)in _0x371176&&_0x4480c4(0x2aa)in _0x371176))return!0x1;const {operator:_0x18396e,value:_0x47d845}=_0x371176;return!(_0x4480c4(0x370)!==_0x18396e||!Array[_0x4480c4(0x4d8)](_0x47d845)||0x2!==_0x47d845[_0x4480c4(0x49d)]);}}class _0x51a84f{[_0x3565d6(0x355)];constructor(_0x4e23d1){const _0x32fb2f=_0x3565d6;this[_0x32fb2f(0x355)]={'tables':{},'version':_0x4e23d1};}static[_0x3565d6(0x76c)](_0x48d512){const _0x8fb8c2=_0x3565d6;for(const _0x4f0484 in _0x48d512){if('version'!==_0x4f0484&&'tables'!==_0x4f0484)return[!0x1,_0x8fb8c2(0x5b2)+_0x4f0484+'\x27\x20in\x20layout'];if('tables'===_0x4f0484)for(const _0x5227bf in _0x48d512['tables']){if('string'!=typeof _0x5227bf)return[!0x1,_0x8fb8c2(0x697)+_0x5227bf+'\x27'];for(const _0x16c806 in _0x48d512[_0x8fb8c2(0x3df)][_0x5227bf]){if('indexes'!==_0x16c806)return[!0x1,_0x8fb8c2(0x5b2)+_0x16c806+_0x8fb8c2(0x6fb)+_0x5227bf+'\x27'];const _0x53ff09=_0x48d512['tables'][_0x5227bf][_0x16c806]??[];for(const _0x3102a9 of _0x53ff09)if(void 0x0===_0x3102a9[_0x8fb8c2(0x703)]||_0x8fb8c2(0x5c6)!=typeof _0x3102a9['keyPath'])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x5227bf+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x8fb8c2(0x499)===_0x4f0484&&_0x8fb8c2(0x619)!=typeof _0x48d512[_0x4f0484])return[!0x1,_0x8fb8c2(0x706)+_0x48d512[_0x4f0484]+_0x8fb8c2(0x213)];}}return[!0x0,_0x8fb8c2(0x6af)];}static['layout'](_0x14886f){const _0x4f6cde=_0x3565d6,_0x14a1a4=new _0x51a84f(_0x14886f);return _0x14a1a4[_0x4f6cde(0x355)][_0x4f6cde(0x499)]=_0x14886f,_0x14a1a4;}['table'](_0x5a2365){const _0x79f8a1=_0x3565d6;return this[_0x79f8a1(0x355)]['tables'][_0x5a2365]={},new _0x368747(this['layout'][_0x79f8a1(0x3df)][_0x5a2365]);}[_0x3565d6(0x648)](){const _0x1f90a7=_0x3565d6;return this[_0x1f90a7(0x355)];}}class _0x368747{['tableLayout'];constructor(_0x292e6f){const _0x53b4b1=_0x3565d6;this[_0x53b4b1(0x68b)]=_0x292e6f;}[_0x3565d6(0x493)](_0x5c6780){const _0x59deb1=_0x3565d6;return this['tableLayout'][_0x59deb1(0x667)]=this[_0x59deb1(0x68b)]['indexes']??[],this[_0x59deb1(0x68b)]['indexes']['push']({'keyPath':_0x5c6780}),this;}}const _0x3fb019=require('firebase/functions'),_0x16c70d=_0x3565d6(0x301),_0x4443fb=_0x3565d6(0x509),_0xb97791='.crewdle-transactions',_0x3ec3d2=0x7530;var _0x59f8e7,_0x3e1340;!function(_0x3dd83c){const _0x2e2a0a=_0x3565d6;_0x3dd83c[_0x2e2a0a(0x2d5)]=_0x2e2a0a(0x270),_0x3dd83c['ObjectStorage']=_0x2e2a0a(0x66e),_0x3dd83c[_0x2e2a0a(0x2e9)]=_0x2e2a0a(0x215),_0x3dd83c[_0x2e2a0a(0x6a7)]=_0x2e2a0a(0x5e6);}(_0x59f8e7||(_0x59f8e7={})),function(_0x51f5f6){const _0xd70d49=_0x3565d6;_0x51f5f6[_0xd70d49(0x2b9)]='all',_0x51f5f6[_0xd70d49(0x3ab)]='default',_0x51f5f6['Connection']=_0xd70d49(0x5c7),_0x51f5f6['ConnectionState']=_0xd70d49(0x294),_0x51f5f6[_0xd70d49(0x69a)]=_0xd70d49(0x205),_0x51f5f6[_0xd70d49(0x422)]=_0xd70d49(0x379),_0x51f5f6[_0xd70d49(0x6b9)]=_0xd70d49(0x448),_0x51f5f6[_0xd70d49(0x2a8)]=_0xd70d49(0x4e1),_0x51f5f6['Error']=_0xd70d49(0x683),_0x51f5f6[_0xd70d49(0x49c)]=_0xd70d49(0x6ed),_0x51f5f6[_0xd70d49(0x550)]=_0xd70d49(0x253),_0x51f5f6[_0xd70d49(0x2d5)]=_0xd70d49(0x270),_0x51f5f6[_0xd70d49(0x1af)]=_0xd70d49(0x3f6),_0x51f5f6[_0xd70d49(0x6fc)]='signaling',_0x51f5f6['Stats']='stats',_0x51f5f6['Subscription']=_0xd70d49(0x66f),_0x51f5f6[_0xd70d49(0x3d4)]=_0xd70d49(0x4d3),_0x51f5f6[_0xd70d49(0x1e5)]=_0xd70d49(0x56d),_0x51f5f6[_0xd70d49(0x267)]='system-stats',_0x51f5f6[_0xd70d49(0x72b)]='test-page',_0x51f5f6['WebRTC']='webrtc';}(_0x3e1340||(_0x3e1340={}));let _0x32e2e0=_0x392c7b(0xa9)['q'];function _0x227ca3(_0xde1281){const _0x3bb27c=_0x3565d6;return!(!_0xde1281||_0x3bb27c(0x41c)!=typeof _0xde1281||Array['isArray'](_0xde1281));}_0x32e2e0=function _0xdefa31(_0x1a7efb,..._0xd63dd9){const _0x29ab4b=_0x3565d6;if(!Array['isArray'](_0xd63dd9)||0x0===_0xd63dd9[_0x29ab4b(0x49d)])return _0x1a7efb;const _0x2e5de2=_0xd63dd9[_0x29ab4b(0x4ca)]();if(_0x227ca3(_0x1a7efb)&&_0x227ca3(_0x2e5de2)){for(const _0x368983 in _0x2e5de2)_0x227ca3(_0x2e5de2[_0x368983])?(_0x1a7efb[_0x368983]||Object[_0x29ab4b(0x3fb)](_0x1a7efb,{[_0x368983]:{}}),_0xdefa31(_0x1a7efb[_0x368983],_0x2e5de2[_0x368983])):Object[_0x29ab4b(0x3fb)](_0x1a7efb,{[_0x368983]:_0x2e5de2[_0x368983]});}return _0xdefa31(_0x1a7efb,..._0xd63dd9);}(_0x32e2e0,_0x392c7b(0x1fc)['q']);const _0x1234ec=_0x32e2e0,_0x4d3eb0=require('firebase/firestore'),_0x3c0d3b=require('firebase/app'),_0x17ea0c=require('firebase/auth'),_0x11586b=require('firebase/database');class _0x384b3c{static [_0x3565d6(0x4e6)];[_0x3565d6(0x386)];[_0x3565d6(0x3d9)];[_0x3565d6(0x6df)];[_0x3565d6(0x463)];[_0x3565d6(0x410)];['clockSkew'];constructor(){}static['getInstance'](){const _0x3f5654=_0x3565d6;return _0x384b3c[_0x3f5654(0x4e6)]||(_0x384b3c[_0x3f5654(0x4e6)]=new _0x384b3c()),_0x384b3c['instance'];}[_0x3565d6(0x2c3)](){const _0x11ba8d=_0x3565d6;return this[_0x11ba8d(0x386)]||(this[_0x11ba8d(0x386)]=(0x0,_0x3c0d3b['initializeApp'])(_0x1234ec[_0x11ba8d(0x3c9)])),this[_0x11ba8d(0x386)];}['getAuth'](){const _0x3b4749=_0x3565d6;return this[_0x3b4749(0x3d9)]||(this[_0x3b4749(0x3d9)]=(0x0,_0x17ea0c[_0x3b4749(0x611)])(this[_0x3b4749(0x2c3)]())),this[_0x3b4749(0x3d9)];}['getFunctions'](){const _0x51cadb=_0x3565d6;return this[_0x51cadb(0x6df)]||(this[_0x51cadb(0x6df)]=(0x0,_0x3fb019['getFunctions'])(this[_0x51cadb(0x2c3)](),_0x1234ec['firebaseConfig'][_0x51cadb(0x327)])),this['functions'];}[_0x3565d6(0x692)](){const _0x1848a0=_0x3565d6;return this[_0x1848a0(0x463)]||(this[_0x1848a0(0x463)]=(0x0,_0x11586b[_0x1848a0(0x692)])(this[_0x1848a0(0x2c3)]())),this[_0x1848a0(0x463)];}[_0x3565d6(0x528)](){const _0x6f1f83=_0x3565d6;return this[_0x6f1f83(0x410)]||(this[_0x6f1f83(0x410)]=(0x0,_0x4d3eb0['getFirestore'])(this[_0x6f1f83(0x2c3)]())),this[_0x6f1f83(0x410)];}async[_0x3565d6(0x3da)](){const _0x127f3a=_0x3565d6;if(this[_0x127f3a(0x702)])return Date[_0x127f3a(0x1aa)]()+this[_0x127f3a(0x702)];const _0x1da0fe=this[_0x127f3a(0x692)](),_0x1fed30=(0x0,_0x11586b[_0x127f3a(0x75c)])(_0x1da0fe,'.info/connected'),_0x4438d8=(0x0,_0x11586b['onValue'])(_0x1fed30,_0x2d765a=>{const _0x403220=_0x127f3a;!0x1===_0x2d765a['val']()&&(_0x4438d8(),delete this[_0x403220(0x702)]);}),_0x33657e=(0x0,_0x11586b['ref'])(_0x1da0fe,_0x127f3a(0x1ea));return new Promise(_0x1cae60=>{const _0x1b294b=_0x127f3a;(0x0,_0x11586b[_0x1b294b(0x4f8)])(_0x33657e,_0x4f82c5=>{const _0x22f70a=_0x1b294b;(0x0,_0x11586b[_0x22f70a(0x3db)])(_0x33657e),this[_0x22f70a(0x702)]=_0x4f82c5['val'](),_0x1cae60(Date[_0x22f70a(0x1aa)]()+(this[_0x22f70a(0x702)]??0x0));});});}}const _0x44908d=_0x384b3c['getInstance']();class _0x14bac1{static ['instance'];[_0x3565d6(0x1a2)]=[_0x3e1340[_0x3565d6(0x3ab)]];['debugEnabled']=!0x0;[_0x3565d6(0x62f)];[_0x3565d6(0x740)]='';constructor(){const _0x5b147b=_0x3565d6;this[_0x5b147b(0x2ae)](),window[_0x5b147b(0x516)]=_0x48d553=>{const _0x1d219f=_0x5b147b;if(_0x48d553===_0x3e1340[_0x1d219f(0x2b9)])return this['enabledChannels']=Object[_0x1d219f(0x4c6)](_0x3e1340)[_0x1d219f(0x311)](_0x26705f=>_0x3e1340[_0x26705f]),void Object['keys'](_0x3e1340)['forEach'](_0x3f4f59=>{const _0x48acbe=_0x1d219f,_0x94dbaf=_0x3f4f59;localStorage[_0x48acbe(0x61d)]('crewdle-sdk-logging-'+_0x3e1340[_0x94dbaf],_0x48acbe(0x5c0));});this[_0x1d219f(0x1a2)][_0x1d219f(0x741)](_0x48d553)||(this[_0x1d219f(0x1a2)]['push'](_0x48d553),localStorage[_0x1d219f(0x61d)](_0x1d219f(0x211)+_0x48d553,_0x1d219f(0x5c0)));},window[_0x5b147b(0x5c5)]=_0x3c651a=>{const _0x599963=_0x5b147b;if(!_0x3c651a||_0x3c651a===_0x3e1340[_0x599963(0x2b9)])return this[_0x599963(0x1a2)]=[],void Object[_0x599963(0x4c6)](_0x3e1340)[_0x599963(0x1c3)](_0x412c68=>{const _0x4a71b3=_0x599963,_0x27dc58=_0x412c68;localStorage['removeItem'](_0x4a71b3(0x211)+_0x3e1340[_0x27dc58]);});this[_0x599963(0x1a2)][_0x599963(0x741)](_0x3c651a)&&(this[_0x599963(0x1a2)]=this[_0x599963(0x1a2)][_0x599963(0x2de)](_0x195489=>_0x195489!==_0x3c651a),localStorage[_0x599963(0x5f5)]('crewdle-sdk-logging-'+_0x3c651a));},window[_0x5b147b(0x265)]=_0x3e1340;}static[_0x3565d6(0x690)](){const _0x1449db=_0x3565d6;try{return _0x14bac1[_0x1449db(0x4e6)]||(_0x14bac1[_0x1449db(0x4e6)]=new _0x14bac1()),_0x14bac1[_0x1449db(0x4e6)];}catch(_0x4b061f){return console[_0x1449db(0x683)](_0x1449db(0x1df),_0x4b061f),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isClusterEnabled':()=>!0x1};}}[_0x3565d6(0x439)](_0xda4acf){const _0x1ad5ae=_0x3565d6;this[_0x1ad5ae(0x740)]=_0xda4acf;}[_0x3565d6(0x224)](_0x43fc99){const _0x3aa744=_0x3565d6;this[_0x3aa744(0x62f)]=_0x43fc99;}[_0x3565d6(0x1a3)](_0x3c8d07,..._0x45adcc){const _0x148afb=_0x3565d6;this[_0x148afb(0x389)]&&this[_0x148afb(0x71b)](_0x3e1340['Default'],'DEBUG\x20-\x20'+_0x3c8d07,..._0x45adcc);}[_0x3565d6(0x71b)](_0x39a15a,_0x1a5f6a,..._0x233b02){const _0x6feda3=_0x3565d6;_0x1234ec['isProduction']||(this[_0x6feda3(0x1a2)][_0x6feda3(0x741)](_0x39a15a)&&console[_0x6feda3(0x71b)](_0x6feda3(0x570)+_0x39a15a+'\x27\x0a',new Date()+'\x0a',_0x1a5f6a,..._0x233b02),this[_0x6feda3(0x62f)]&&this[_0x6feda3(0x62f)]['forEach'](_0x14be7d=>{const _0x214eeb=_0x6feda3;_0x14be7d[_0x214eeb(0x5b7)]()[_0x214eeb(0x741)](_0x39a15a)&&_0x14be7d[_0x214eeb(0x71b)](_0x1a5f6a,{'vendorId':this[_0x214eeb(0x740)],'userId':'','data':{'cluster':_0x39a15a,..._0x233b02}});}));}['logRaw'](_0x26ef9a,_0x4934d8,..._0x18690f){const _0x49b31b=_0x3565d6;_0x1234ec[_0x49b31b(0x37d)]||(this[_0x49b31b(0x1a2)][_0x49b31b(0x741)](_0x26ef9a)&&console['log'](_0x4934d8,..._0x18690f),this[_0x49b31b(0x62f)]&&this['loggingConnectors'][_0x49b31b(0x1c3)](_0xad8cfa=>{const _0x23902c=_0x49b31b;_0xad8cfa[_0x23902c(0x5b7)]()[_0x23902c(0x741)](_0x26ef9a)&&_0xad8cfa[_0x23902c(0x71b)](_0x4934d8,{'vendorId':this['vendorId'],'userId':'','data':{'cluster':_0x26ef9a,..._0x18690f}});}));}[_0x3565d6(0x6c4)](_0x20e994,_0x1cae7a){const _0x577124=_0x3565d6;if(this['loggingConnectors']){const _0x4acda5={'vendorId':this['vendorId'],..._0x1cae7a};this[_0x577124(0x62f)][_0x577124(0x1c3)](_0xdade=>{const _0xad4c82=_0x577124;_0xdade[_0xad4c82(0x71b)](_0x20e994,_0x4acda5);});}}['logServiceEvent'](_0x295978,_0x42468f){const _0x26d35a=_0x3565d6;(0x0,_0x4d3eb0[_0x26d35a(0x5e0)])((0x0,_0x4d3eb0[_0x26d35a(0x307)])(_0x44908d[_0x26d35a(0x528)](),'developers/'+this['vendorId']+_0x26d35a(0x45c)),{..._0x42468f,'service':_0x295978,'timestamp':(0x0,_0x4d3eb0[_0x26d35a(0x4d4)])()});}[_0x3565d6(0x5dd)](_0x3f8cff,_0xaf806a,_0x17ed26){const _0x35e3d1=_0x3565d6;(0x0,_0x4d3eb0['setDoc'])((0x0,_0x4d3eb0[_0x35e3d1(0x272)])(_0x44908d[_0x35e3d1(0x528)](),_0x35e3d1(0x350)+this[_0x35e3d1(0x740)]+'/'+_0x3f8cff+'/'+_0xaf806a),{'storage':_0x17ed26,'timestamp':(0x0,_0x4d3eb0[_0x35e3d1(0x4d4)])()});}[_0x3565d6(0x683)](_0x4b570a,_0x2753e4,..._0x2d10c6){const _0x3e6628=_0x3565d6;if(console[_0x3e6628(0x683)](new Date(),_0x4b570a,_0x2753e4,..._0x2d10c6),this['loggingConnectors']){const _0x406467={'vendorId':this[_0x3e6628(0x740)],..._0x2753e4};this[_0x3e6628(0x62f)][_0x3e6628(0x1c3)](_0x374a44=>{const _0x404068=_0x3e6628;_0x374a44[_0x404068(0x683)](_0x4b570a,_0x406467);});}}[_0x3565d6(0x4c7)](_0x1aaf98,_0x2284b8,..._0x4c75ed){const _0x55f72e=_0x3565d6;if(console[_0x55f72e(0x421)](new Date(),_0x1aaf98,_0x2284b8,_0x4c75ed),this[_0x55f72e(0x62f)]){const _0x55f71e={'vendorId':this['vendorId'],..._0x2284b8};this['loggingConnectors']['forEach'](_0x1f1c5b=>{const _0x28ae9b=_0x55f72e;_0x1f1c5b[_0x28ae9b(0x421)](_0x1aaf98,_0x55f71e);});}}[_0x3565d6(0x381)](_0x335bcc){const _0x48add8=_0x3565d6;return this[_0x48add8(0x1a2)][_0x48add8(0x741)](_0x335bcc);}[_0x3565d6(0x2ae)](){const _0xd63704=_0x3565d6;try{Object[_0xd63704(0x4c6)](_0x3e1340)[_0xd63704(0x1c3)](_0x4f84bd=>{const _0x4c2e27=_0xd63704,_0x3dd04f=_0x4f84bd;localStorage[_0x4c2e27(0x22a)](_0x4c2e27(0x211)+_0x3e1340[_0x3dd04f])&&(console[_0x4c2e27(0x71b)](_0x4c2e27(0x6a2),_0x3e1340[_0x3dd04f]),this[_0x4c2e27(0x1a2)][_0x4c2e27(0x495)](_0x3e1340[_0x3dd04f]));});}catch(_0xaea4da){}}}const _0x11c0d7=_0x14bac1['getInstance']();class _0x43b3dc{[_0x3565d6(0x44e)];[_0x3565d6(0x4d2)];['eventTarget'];constructor(_0x58dc05=new Map(),_0x3f1db1=new Map(),_0x405105=new EventTarget()){const _0x5b264f=_0x3565d6;this[_0x5b264f(0x44e)]=_0x58dc05,this['bufferedEvents']=_0x3f1db1,this[_0x5b264f(0x595)]=_0x405105;}[_0x3565d6(0x278)]=(_0x3bca4c,_0x45dae0)=>this[_0x3565d6(0x44e)]['has'](_0x3bca4c)?(_0x11c0d7[_0x3565d6(0x71b)](_0x3e1340[_0x3565d6(0x2a8)],_0x3565d6(0x5eb),{'event':_0x3bca4c,'data':_0x45dae0}),this[_0x3565d6(0x595)]['dispatchEvent'](new CustomEvent(_0x3bca4c,{'detail':_0x45dae0})),!0x0):(this[_0x3565d6(0x242)](_0x3bca4c,_0x45dae0),!0x1);['on']=(_0x4676e3,_0x3199ce)=>{const _0x4969d8=_0x3565d6,_0x76230e=_0x27b4fd=>{const _0x51e048=a0_0x2e59;_0x11c0d7[_0x51e048(0x71b)](_0x3e1340[_0x51e048(0x2a8)],_0x51e048(0x6c1),_0x27b4fd[_0x51e048(0x2be)],_0x27b4fd[_0x51e048(0x491)]),_0x3199ce(_0x27b4fd[_0x51e048(0x491)]);};return this['registeredListeners'][_0x4969d8(0x5bc)](_0x4676e3,_0x76230e),this[_0x4969d8(0x595)][_0x4969d8(0x324)](_0x4676e3,_0x76230e),_0x11c0d7[_0x4969d8(0x71b)](_0x3e1340[_0x4969d8(0x69a)],_0x4969d8(0x217),_0x4676e3,_0x3199ce),this[_0x4969d8(0x254)](_0x4676e3),this;};['off'](_0x61221c){const _0x188214=_0x3565d6;if(!_0x61221c)return this['registeredListeners'][_0x188214(0x1c3)]((_0x53b0f1,_0x572c6e)=>{const _0x3d3c10=_0x188214;this[_0x3d3c10(0x595)]['removeEventListener'](_0x572c6e,_0x53b0f1);}),void this['registeredListeners'][_0x188214(0x376)]();_0x188214(0x5c6)==typeof _0x61221c&&this['removeListener'](_0x61221c),Array[_0x188214(0x4d8)](_0x61221c)&&_0x61221c[_0x188214(0x1c3)](_0x276abb=>{const _0x5a4588=_0x188214;this[_0x5a4588(0x40a)](_0x276abb);});}[_0x3565d6(0x40a)](_0x353a23){const _0x2cc9d0=_0x3565d6,_0x40f6c8=this[_0x2cc9d0(0x44e)][_0x2cc9d0(0x64f)](_0x353a23);_0x40f6c8&&(this['eventTarget'][_0x2cc9d0(0x37e)](_0x353a23,_0x40f6c8),this['registeredListeners'][_0x2cc9d0(0x409)](_0x353a23));}['bufferEvent'](_0x14eac5,_0x175e93){const _0xdf8fbf=_0x3565d6;_0x11c0d7['log'](_0x3e1340[_0xdf8fbf(0x2a8)],_0xdf8fbf(0x339),{'event':_0x14eac5,'data':_0x175e93});const _0x3e50bb=this['bufferedEvents']['get'](_0x14eac5)||[];this[_0xdf8fbf(0x4d2)][_0xdf8fbf(0x5bc)](_0x14eac5,[..._0x3e50bb,_0x175e93]);}[_0x3565d6(0x254)](_0x381a08){const _0x38f0a8=_0x3565d6,_0x48e662=this['bufferedEvents']['get'](_0x381a08);_0x48e662&&(_0x48e662[_0x38f0a8(0x1c3)](_0xd28fab=>{const _0x3214ff=_0x38f0a8;_0x11c0d7[_0x3214ff(0x71b)](_0x3e1340[_0x3214ff(0x2a8)],_0x3214ff(0x5cd),{'event':_0x381a08,'data':_0xd28fab}),this[_0x3214ff(0x595)][_0x3214ff(0x75a)](new CustomEvent(_0x381a08,{'detail':_0xd28fab}));}),this[_0x38f0a8(0x4d2)]['delete'](_0x381a08));}}class _0x59eabb extends Error{constructor(_0xab69a5){const _0xc8c71d=_0x3565d6;super(_0xc8c71d(0x243)+_0xab69a5);}}var _0x45235f;!function(_0x39dd74){const _0x51ccfd=_0x3565d6;_0x39dd74[_0x51ccfd(0x67b)]=_0x51ccfd(0x345),_0x39dd74[_0x51ccfd(0x5d3)]=_0x51ccfd(0x4ee),_0x39dd74[_0x51ccfd(0x415)]=_0x51ccfd(0x436),_0x39dd74[_0x51ccfd(0x2df)]=_0x51ccfd(0x52a),_0x39dd74[_0x51ccfd(0x1f0)]=_0x51ccfd(0x1ac),_0x39dd74[_0x51ccfd(0x279)]=_0x51ccfd(0x6a5),_0x39dd74[_0x51ccfd(0x3ef)]='object-store-not-synced',_0x39dd74[_0x51ccfd(0x31f)]=_0x51ccfd(0x4f7),_0x39dd74[_0x51ccfd(0x443)]='invalid-publisher',_0x39dd74['InvalidSubscriber']=_0x51ccfd(0x506),_0x39dd74['InvalidSubscription']=_0x51ccfd(0x1b8),_0x39dd74['KeyValueDatabaseCreationFailed']=_0x51ccfd(0x354),_0x39dd74[_0x51ccfd(0x451)]=_0x51ccfd(0x636),_0x39dd74[_0x51ccfd(0x3c2)]=_0x51ccfd(0x5a3),_0x39dd74[_0x51ccfd(0x30b)]=_0x51ccfd(0x237),_0x39dd74[_0x51ccfd(0x64d)]=_0x51ccfd(0x4b5),_0x39dd74[_0x51ccfd(0x1ca)]='missing-incoming-connection',_0x39dd74['MissingSystemTopic']=_0x51ccfd(0x47c),_0x39dd74[_0x51ccfd(0x5b6)]=_0x51ccfd(0x752),_0x39dd74[_0x51ccfd(0x725)]=_0x51ccfd(0x6d8),_0x39dd74[_0x51ccfd(0x37c)]=_0x51ccfd(0x34e),_0x39dd74[_0x51ccfd(0x212)]='remote-connection-exists',_0x39dd74[_0x51ccfd(0x300)]='subscription-request-does-not-exist',_0x39dd74[_0x51ccfd(0x37b)]=_0x51ccfd(0x30c),_0x39dd74['SubscriptionRequestNoAnswer']=_0x51ccfd(0x5dc),_0x39dd74[_0x51ccfd(0x2cb)]='user-does-not-exist',_0x39dd74['UserAlreadyExist']=_0x51ccfd(0x404),_0x39dd74[_0x51ccfd(0x445)]=_0x51ccfd(0x3b2);}(_0x45235f||(_0x45235f={}));const _0x145b8e=new Map([[_0x45235f[_0x3565d6(0x67b)],'Connection\x20not\x20initialized.'],[_0x45235f[_0x3565d6(0x5d3)],'Connection\x20not\x20connected.'],[_0x45235f[_0x3565d6(0x415)],_0x3565d6(0x414)],[_0x45235f[_0x3565d6(0x2df)],'Invalid\x20data\x20event.'],[_0x45235f[_0x3565d6(0x1f0)],_0x3565d6(0x5b9)],[_0x45235f[_0x3565d6(0x279)],_0x3565d6(0x563)],[_0x45235f[_0x3565d6(0x3ef)],_0x3565d6(0x38d)],[_0x45235f['InvalidDataChannel'],'Invalid\x20data\x20chan_NO_RENAMEENAl.'],[_0x45235f[_0x3565d6(0x443)],_0x3565d6(0x628)],[_0x45235f['InvalidSubscriber'],'Invalid\x20subscriber.'],[_0x45235f[_0x3565d6(0x686)],_0x3565d6(0x4cd)],[_0x45235f['KeyValueDatabaseCreationFailed'],_0x3565d6(0x1d3)],[_0x45235f[_0x3565d6(0x451)],_0x3565d6(0x6c6)],[_0x45235f[_0x3565d6(0x3c2)],_0x3565d6(0x6cc)],[_0x45235f[_0x3565d6(0x30b)],_0x3565d6(0x1e7)],[_0x45235f[_0x3565d6(0x64d)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x45235f[_0x3565d6(0x1ca)],'Connection\x20does\x20not\x20exist.'],[_0x45235f['MissingSystemTopic'],_0x3565d6(0x52d)],[_0x45235f[_0x3565d6(0x5b6)],_0x3565d6(0x28c)],[_0x45235f[_0x3565d6(0x725)],_0x3565d6(0x48d)],[_0x45235f[_0x3565d6(0x37c)],_0x3565d6(0x552)],[_0x45235f[_0x3565d6(0x212)],_0x3565d6(0x346)],[_0x45235f['SubscriptionRequestDoesNotExist'],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x45235f['SubscriptionRequestFailed'],'Subscription\x20request\x20failed.'],[_0x45235f[_0x3565d6(0x6da)],'Subscription\x20request\x20has\x20not\x20been\x20answered.'],[_0x45235f[_0x3565d6(0x2cb)],'User\x20does\x20not\x20exist.'],[_0x45235f[_0x3565d6(0x27b)],_0x3565d6(0x603)],[_0x45235f['WebRTCInvalidDestination'],'Invalid\x20WebRTC\x20event\x20destination.']]);class _0x1ca0c3 extends Error{[_0x3565d6(0x65b)];static [_0x3565d6(0x69c)]=_0x45235f;[_0x3565d6(0x23a)];constructor(_0x26ddc3,_0x1a8efd){const _0x335b6e=_0x3565d6;super(_0x335b6e(0x640)+_0x26ddc3+':\x20'+_0x145b8e[_0x335b6e(0x64f)](_0x26ddc3)+_0x335b6e(0x344)+JSON['stringify'](_0x1a8efd)),this[_0x335b6e(0x65b)]=_0x26ddc3,this['data']=_0x1a8efd||{};}}var _0x58b611,_0x25f14a,_0x4db2c7,_0x3edd62,_0x1f8db5,_0x99b96d,_0x561b46,_0x52e863,_0x4c3ef6;!function(_0x1d3654){const _0x5e285f=_0x3565d6;_0x1d3654[_0x1d3654[_0x5e285f(0x427)]=0x0]=_0x5e285f(0x427),_0x1d3654[_0x1d3654['Receiver']=0x1]=_0x5e285f(0x36f);}(_0x58b611||(_0x58b611={})),function(_0x1ff23d){const _0x2edd50=_0x3565d6;_0x1ff23d[_0x1ff23d[_0x2edd50(0x452)]=0x0]=_0x2edd50(0x452),_0x1ff23d[_0x1ff23d[_0x2edd50(0x53a)]=0x1]=_0x2edd50(0x53a),_0x1ff23d[_0x1ff23d[_0x2edd50(0x4d7)]=0x2]=_0x2edd50(0x4d7),_0x1ff23d[_0x1ff23d[_0x2edd50(0x5c2)]=0x3]=_0x2edd50(0x5c2),_0x1ff23d[_0x1ff23d[_0x2edd50(0x5a0)]=0x4]=_0x2edd50(0x5a0),_0x1ff23d[_0x1ff23d['Restart']=0x5]='Restart',_0x1ff23d[_0x1ff23d[_0x2edd50(0x4f3)]=0x6]=_0x2edd50(0x4f3),_0x1ff23d[_0x1ff23d[_0x2edd50(0x2a9)]=0x7]='Stats',_0x1ff23d[_0x1ff23d[_0x2edd50(0x6dc)]=0x8]=_0x2edd50(0x6dc);}(_0x25f14a||(_0x25f14a={})),function(_0x156ee3){const _0x482507=_0x3565d6;_0x156ee3[_0x482507(0x6a7)]='media-stream';}(_0x4db2c7||(_0x4db2c7={})),function(_0x264185){const _0x25dc0a=_0x3565d6;_0x264185[_0x264185[_0x25dc0a(0x4c2)]=0x0]=_0x25dc0a(0x4c2),_0x264185[_0x264185[_0x25dc0a(0x49c)]=0x1]=_0x25dc0a(0x49c),_0x264185[_0x264185[_0x25dc0a(0x422)]=0x2]=_0x25dc0a(0x422),_0x264185[_0x264185[_0x25dc0a(0x4fe)]=0x3]=_0x25dc0a(0x4fe),_0x264185[_0x264185[_0x25dc0a(0x2a9)]=0x4]=_0x25dc0a(0x2a9),_0x264185[_0x264185['Detection']=0x5]='Detection',_0x264185[_0x264185[_0x25dc0a(0x1af)]=0x6]=_0x25dc0a(0x1af);}(_0x3edd62||(_0x3edd62={})),function(_0x3e0d18){const _0x4a350f=_0x3565d6;_0x3e0d18[_0x3e0d18[_0x4a350f(0x597)]=0x0]=_0x4a350f(0x597),_0x3e0d18[_0x3e0d18['Optimization']=0x1]=_0x4a350f(0x1f6);}(_0x1f8db5||(_0x1f8db5={})),function(_0x48971e){const _0x3f82b3=_0x3565d6;_0x48971e[_0x48971e[_0x3f82b3(0x454)]=0x0]='UserJoin',_0x48971e[_0x48971e[_0x3f82b3(0x2c2)]=0x1]=_0x3f82b3(0x2c2),_0x48971e[_0x48971e[_0x3f82b3(0x282)]=0x2]='UserConnectionsUpdate',_0x48971e[_0x48971e['UserLeave']=0x3]=_0x3f82b3(0x559);}(_0x99b96d||(_0x99b96d={})),function(_0x4631f1){const _0x953a63=_0x3565d6;_0x4631f1[_0x4631f1['Remediation']=0x0]=_0x953a63(0x1af),_0x4631f1[_0x4631f1['RemoteRemediation']=0x1]=_0x953a63(0x1b7);}(_0x561b46||(_0x561b46={})),function(_0x5419a4){const _0x3c0d7f=_0x3565d6;_0x5419a4[_0x3c0d7f(0x293)]='upgrade',_0x5419a4[_0x3c0d7f(0x363)]='downgrade';}(_0x52e863||(_0x52e863={})),function(_0x17c014){const _0x8c52d3=_0x3565d6;_0x17c014[_0x8c52d3(0x328)]='resolution',_0x17c014[_0x8c52d3(0x375)]=_0x8c52d3(0x4fd);}(_0x4c3ef6||(_0x4c3ef6={}));const _0x4dd292=require('aws-amplify'),_0x28a86b=require('aws-amplify/utils'),_0xbb3dfc=require('@aws-amplify/api'),_0x3148f4=require('@aws-amplify/core');class _0x43fbd1{[_0x3565d6(0x390)];[_0x3565d6(0x41b)];[_0x3565d6(0x68c)];constructor(_0x280751,_0x4142e9,_0x5ae7d4){const _0x482924=_0x3565d6;this['clusterId']=_0x280751,this[_0x482924(0x41b)]=_0x4142e9,this[_0x482924(0x68c)]=_0x5ae7d4;}[_0x3565d6(0x434)](){const _0x4c8b2a=_0x3565d6;return this[_0x4c8b2a(0x41b)];}[_0x3565d6(0x304)](){const _0x58531f=_0x3565d6;return this[_0x58531f(0x68c)];}}var _0x4e7c22,_0x4eca01;function _0x253ebf(_0x1bc743,_0x25d8b3){return _0x1bc743['sourceId']===_0x25d8b3;}function _0x2fe98f(_0x13ab90,_0x28b55e){const _0x2282a4=_0x3565d6;return _0x13ab90[_0x2282a4(0x55f)]?.[_0x2282a4(0x741)](_0x28b55e)??function(_0x7ce4f3){const _0x365918=_0x2282a4;return void 0x0===_0x7ce4f3[_0x365918(0x55f)];}(_0x13ab90);}function _0x4776ff(_0xd06336,{contentType:_0x51ce0e,label:_0x8712e3,remoteId:_0x4fcf2e}){return _0xd06336+'-'+_0x51ce0e+'-'+_0x8712e3+'-'+_0x4fcf2e;}function _0x7cf9d1(_0x5134de,_0x2fc15b,_0x33309a){return''+_0x5134de+_0x2fc15b+_0x33309a;}function _0x20e749(_0x3eb15a){const _0x543fb1=_0x3565d6;return _0x3eb15a===_0x4eca01[_0x543fb1(0x696)]?_0x543fb1(0x2f3):_0x543fb1(0x3dc);}function _0xebec20(_0x2f29a3,_0x235b88){const _0x31c7db=_0x3565d6;return{'label':_0x2f29a3['getInternalStreamId'](),'contentType':_0x2f29a3['getContentType'](),'remoteId':_0x235b88[_0x31c7db(0x304)](),'supportsContentType':_0x235b88[_0x31c7db(0x68d)]()[_0x31c7db(0x741)](_0x2f29a3['getContentType']())};}function _0x25e35b(){const _0x16e11a=_0x3565d6;let _0x154e2c=[];return{'subscribe':_0x4a268e=>(_0x154e2c[_0x16e11a(0x495)](_0x4a268e),()=>{_0x154e2c=_0x154e2c['filter'](_0x394342=>_0x394342!==_0x4a268e);}),'publish':_0x242d13=>{_0x154e2c['forEach'](_0x3f9968=>_0x3f9968(_0x242d13));}};}function _0x3c88b1(){let _0x5d7c37;return{'subscribe':_0x2b0ce1=>(_0x5d7c37=_0x2b0ce1,()=>{_0x5d7c37=void 0x0;}),'publish':_0x29bcbc=>{_0x5d7c37&&_0x5d7c37(_0x29bcbc);}};}!function(_0x296539){const _0x445bf2=_0x3565d6;_0x296539[_0x296539[_0x445bf2(0x4f6)]=0x0]=_0x445bf2(0x4f6),_0x296539[_0x296539[_0x445bf2(0x353)]=0x1]=_0x445bf2(0x353),_0x296539[_0x296539[_0x445bf2(0x572)]=0x2]=_0x445bf2(0x572);}(_0x4e7c22||(_0x4e7c22={})),function(_0x1cdfbb){const _0x1c18fd=_0x3565d6;_0x1cdfbb[_0x1c18fd(0x696)]='in',_0x1cdfbb[_0x1c18fd(0x38b)]='out';}(_0x4eca01||(_0x4eca01={}));class _0x10c240{[_0x3565d6(0x2b2)];[_0x3565d6(0x33a)];constructor(_0x12f843,_0x4c43a4){const _0x1ec8b1=_0x3565d6;this['callback']=_0x12f843,this[_0x1ec8b1(0x33a)]=_0x4c43a4;}['call'](_0x437501){const _0x1aa53e=_0x3565d6;this[_0x1aa53e(0x2b2)](_0x437501);}async['wait'](){const _0x71f3d4=_0x3565d6;await this[_0x71f3d4(0x33a)]();}}class _0xdfd8b7{[_0x3565d6(0x2b2)];[_0x3565d6(0x33a)];constructor(_0x5a8362,_0x268d78){const _0x1cbc76=_0x3565d6;this[_0x1cbc76(0x2b2)]=_0x5a8362,this['retryCallback']=_0x268d78;}async[_0x3565d6(0x2e4)](_0x1e3749){const _0x5430bf=_0x3565d6;await this[_0x5430bf(0x2b2)](_0x1e3749);}async['wait'](){await this['retryCallback']();}}function _0x23b6bf(_0x1863d4=()=>{},_0xd7f6ea=()=>!0x1,_0x1c1f16=()=>{}){let _0x2d82ed,_0x39fbe7,_0x21e495=0x0;return{get 'size'(){return _0x21e495;},get 'head'(){return _0x2d82ed;},get 'tail'(){return _0x39fbe7;},set 'head'(_0x37d7ef){_0x2d82ed=_0x37d7ef;},set 'tail'(_0x3f9bd9){_0x39fbe7=_0x3f9bd9;},'push'(_0x4696b2,_0x34f604=!0x0){const _0x5e172e=a0_0x2e59,_0x185ee1={'value':_0x4696b2};_0x34f604&&_0xd7f6ea(_0x185ee1)?_0x1863d4():(_0x39fbe7&&(_0x185ee1[_0x5e172e(0x4f9)]=_0x39fbe7,_0x39fbe7[_0x5e172e(0x484)]=_0x185ee1),_0x39fbe7=_0x185ee1,_0x2d82ed||(_0x2d82ed=_0x185ee1),_0x21e495+=0x1,_0x34f604&&_0x1863d4());},'pop'(){const _0x214a9b=a0_0x2e59;if(!_0x39fbe7)return;const _0x86a2cc=_0x39fbe7[_0x214a9b(0x2aa)];return _0x39fbe7=_0x39fbe7[_0x214a9b(0x4f9)],_0x39fbe7&&delete _0x39fbe7[_0x214a9b(0x484)],_0x39fbe7||(_0x2d82ed=void 0x0),_0x21e495-=0x1,_0x86a2cc;},'unshift'(_0x36bf05,_0x3f398b=!0x0){const _0x55f9dd=a0_0x2e59,_0x4a44ed={'value':_0x36bf05};_0x3f398b&&_0xd7f6ea(_0x4a44ed)?_0x1863d4():(_0x2d82ed&&(_0x2d82ed['previous']=_0x4a44ed,_0x4a44ed[_0x55f9dd(0x484)]=_0x2d82ed),_0x2d82ed=_0x4a44ed,_0x39fbe7||(_0x39fbe7=_0x4a44ed),_0x21e495+=0x1,_0x3f398b&&_0x1863d4());},'shift'(){const _0x303cb5=a0_0x2e59;if(!_0x2d82ed)return;const _0x4931f7=_0x2d82ed[_0x303cb5(0x2aa)];return _0x2d82ed=_0x2d82ed[_0x303cb5(0x484)],_0x2d82ed&&delete _0x2d82ed[_0x303cb5(0x4f9)],_0x2d82ed||(_0x39fbe7=void 0x0),_0x21e495-=0x1,_0x4931f7;},'clear'(){_0x1c1f16(),_0x2d82ed=void 0x0,_0x39fbe7=void 0x0,_0x21e495=0x0;}};}function _0x5b052d(_0x3f32df,_0x31e2a3=!0x1,_0x58ad65=()=>{},_0x235ee8=()=>!0x1,_0x1d4eb9=()=>{}){let _0x91e22e=!0x1;const _0x10d074=_0x23b6bf(async function(){const _0x4af654=a0_0x2e59;if(!_0x91e22e){for(_0x91e22e=!0x0;_0x10d074[_0x4af654(0x6a3)];){const _0x2fe6a1=_0x10d074['shift']();if(_0x2fe6a1)try{_0x3f32df instanceof _0x10c240&&_0x3f32df[_0x4af654(0x2e4)](_0x2fe6a1),_0x3f32df instanceof _0xdfd8b7&&await _0x3f32df[_0x4af654(0x2e4)](_0x2fe6a1),_0x58ad65(_0x2fe6a1);}catch(_0x4ff899){_0x31e2a3?_0x10d074[_0x4af654(0x495)](_0x2fe6a1,!0x1):_0x10d074[_0x4af654(0x288)](_0x2fe6a1,!0x1),await _0x3f32df['wait']();}}_0x91e22e=!0x1;}},_0x235ee8,_0x1d4eb9);return _0x10d074;}class _0x1c12a4 extends _0x43fbd1{['vendorId'];[_0x3565d6(0x481)];[_0x3565d6(0x2a5)]=_0xbb3dfc[_0x3565d6(0x275)][_0x3565d6(0x1f9)];['connectionStateListener']=_0x3c88b1();['messageListeners']=_0x25e35b();[_0x3565d6(0x66f)];[_0x3565d6(0x475)];[_0x3565d6(0x747)]=_0x5b052d(new _0xdfd8b7(this[_0x3565d6(0x4d0)][_0x3565d6(0x65f)](this),this[_0x3565d6(0x196)][_0x3565d6(0x65f)](this)));['client'];constructor(_0x5ae8be,_0x5bee24,_0x4427ab,_0x508686,_0x23c24e){const _0x191171=_0x3565d6;super(_0x5bee24,_0x4427ab,_0x508686),this[_0x191171(0x740)]=_0x5ae8be,this[_0x191171(0x481)]=_0x23c24e;}async[_0x3565d6(0x1c1)](){const _0x14895b=_0x3565d6;try{const _0x3b5c7b=await this['authService'][_0x14895b(0x6ab)](),_0x789ae6={'getTokens':async()=>({'accessToken':(0x0,_0x3148f4[_0x14895b(0x1d6)])(_0x3b5c7b),'idToken':(0x0,_0x3148f4['decodeJWT'])(_0x3b5c7b)})};_0x4dd292['Amplify'][_0x14895b(0x63e)]({'API':{'GraphQL':{'endpoint':_0x1234ec[_0x14895b(0x479)][_0x14895b(0x35a)],'region':_0x1234ec['aws'][_0x14895b(0x266)],'defaultAuthMode':_0x14895b(0x393)}}},{'Auth':{'tokenProvider':_0x789ae6}}),this['client']=(0x0,_0xbb3dfc[_0x14895b(0x5d8)])(),await this[_0x14895b(0x61f)](),this[_0x14895b(0x475)]=_0x28a86b[_0x14895b(0x63d)]['listen'](_0x14895b(0x248),({payload:_0x544fb2})=>{const _0x91b8e3=_0x14895b;if(_0x544fb2[_0x91b8e3(0x5c1)]===_0xbb3dfc['CONNECTION_STATE_CHANGE']){const _0x26797a=_0x544fb2[_0x91b8e3(0x23a)];this[_0x91b8e3(0x2a5)]=_0x26797a[_0x91b8e3(0x2a5)],this[_0x91b8e3(0x42a)][_0x91b8e3(0x76d)](_0x26797a[_0x91b8e3(0x2a5)]),this[_0x91b8e3(0x2a5)]===_0xbb3dfc['ConnectionState'][_0x91b8e3(0x413)]&&(this[_0x91b8e3(0x66f)]?.[_0x91b8e3(0x71d)](),delete this[_0x91b8e3(0x66f)]),this['connectionState']===_0xbb3dfc['ConnectionState']['Disconnected']&&(_0x11c0d7['error'](_0x91b8e3(0x61c),{'clusterId':this['clusterId'],'userId':this[_0x91b8e3(0x41b)]}),this['subscribe']());}});}catch(_0x51b938){_0x11c0d7['error'](_0x14895b(0x6e1),{'clusterId':this[_0x14895b(0x390)],'userId':this[_0x14895b(0x41b)]});}}[_0x3565d6(0x208)](){const _0x37cbac=_0x3565d6;this[_0x37cbac(0x747)][_0x37cbac(0x376)](),this[_0x37cbac(0x475)]?.(),this[_0x37cbac(0x66f)]?.[_0x37cbac(0x71d)](),delete this[_0x37cbac(0x66f)];}[_0x3565d6(0x32f)](){const _0x329686=_0x3565d6;return this[_0x329686(0x2a5)]===_0xbb3dfc[_0x329686(0x275)][_0x329686(0x204)];}[_0x3565d6(0x64c)](_0x5dea83){const _0xa036f4=_0x3565d6;this[_0xa036f4(0x747)][_0xa036f4(0x495)](_0x5dea83);}[_0x3565d6(0x4dc)](_0x1a5de4){const _0x8b8977=_0x3565d6;return this[_0x8b8977(0x607)][_0x8b8977(0x61f)](_0x1a5de4);}['getSupportedContentTypes'](){return[_0x19aef4['Data']];}async['waitConnected'](){if(!this['isConnected']())return new Promise(_0x426a30=>{const _0xd664f1=a0_0x2e59,_0xbb7550=this['connectionStateListener'][_0xd664f1(0x61f)](_0x3e6acb=>{const _0x320b31=_0xd664f1;_0x3e6acb===_0xbb3dfc[_0x320b31(0x275)][_0x320b31(0x204)]&&(_0xbb7550(),_0x426a30());});});}async[_0x3565d6(0x4d0)](_0xec3852){const _0x41b67d=_0x3565d6;if(this[_0x41b67d(0x2a5)]!==_0xbb3dfc[_0x41b67d(0x275)][_0x41b67d(0x204)])throw new Error('AppSync\x20connection\x20not\x20ready');_0xec3852['destinationIds']&&0x1===_0xec3852[_0x41b67d(0x55f)][_0x41b67d(0x49d)]?await this[_0x41b67d(0x76d)](_0xec3852[_0x41b67d(0x55f)][0x0],JSON[_0x41b67d(0x558)](_0xec3852)):_0x11c0d7[_0x41b67d(0x683)](_0x41b67d(0x3fc),{'clusterId':this['clusterId'],'userId':this[_0x41b67d(0x41b)]});}async[_0x3565d6(0x76d)](_0x1ccd8d,_0x2bfb4d){const _0x14963a=_0x3565d6;if(!this['client'])throw new Error(_0x14963a(0x6c0));_0x11c0d7[_0x14963a(0x71b)](_0x3e1340['Signaling'],_0x14963a(0x42d),this[_0x14963a(0x41b)],_0x2bfb4d),await this[_0x14963a(0x29e)][_0x14963a(0x511)]({'query':_0x14963a(0x258),'variables':{'name':await this[_0x14963a(0x236)](_0x1ccd8d),'data':_0x2bfb4d}});}async[_0x3565d6(0x61f)](){const _0x5368fc=_0x3565d6;if(this['subscription'])return;if(!this[_0x5368fc(0x29e)])throw new Error('AppSync\x20client\x20not\x20ready');_0x11c0d7[_0x5368fc(0x71b)](_0x3e1340[_0x5368fc(0x6fc)],'AppSync\x20subscribe',this[_0x5368fc(0x41b)]);const _0xa3608d=await this[_0x5368fc(0x29e)][_0x5368fc(0x511)]({'query':_0x5368fc(0x20d),'variables':{'name':await this[_0x5368fc(0x236)]()},'authToken':await this[_0x5368fc(0x481)]['getIdToken']()},{'Authorization':await this[_0x5368fc(0x481)][_0x5368fc(0x6ab)]()});this['subscription']=_0xa3608d['subscribe']({'next':({data:_0x29b6ae})=>{const _0x364152=_0x5368fc,_0x2b3292=JSON[_0x364152(0x21c)](_0x29b6ae[_0x364152(0x61f)][_0x364152(0x23a)]);!_0x253ebf(_0x2b3292,this[_0x364152(0x41b)])&&_0x2fe98f(_0x2b3292,this[_0x364152(0x41b)])&&this[_0x364152(0x607)][_0x364152(0x76d)](_0x2b3292);},'error':console[_0x5368fc(0x71b)]});}async[_0x3565d6(0x236)](_0x46a356){const _0x3377df=_0x3565d6,_0x52dbef=await crypto[_0x3377df(0x30f)]['digest'](_0x3377df(0x67a),new TextEncoder()[_0x3377df(0x680)](this[_0x3377df(0x740)]+'-'+this[_0x3377df(0x390)]+'-'+(_0x46a356??this[_0x3377df(0x41b)])));return Array['from'](new Uint8Array(_0x52dbef))[_0x3377df(0x311)](_0x3beef1=>_0x3beef1[_0x3377df(0x323)](0x10)['padStart'](0x2,'0'))[_0x3377df(0x2c0)]('');}}const _0x13edb4=_0x3565d6(0x70b);var _0x181e18;!function(_0x3aecbc){const _0x26941b=_0x3565d6;_0x3aecbc[_0x3aecbc[_0x26941b(0x41a)]=0x0]='Add',_0x3aecbc[_0x3aecbc[_0x26941b(0x252)]=0x1]=_0x26941b(0x252),_0x3aecbc[_0x3aecbc[_0x26941b(0x6fe)]=0x2]=_0x26941b(0x6fe),_0x3aecbc[_0x3aecbc[_0x26941b(0x296)]=0x3]=_0x26941b(0x296),_0x3aecbc[_0x3aecbc['RemoteRemove']=0x4]='RemoteRemove';}(_0x181e18||(_0x181e18={}));const _0x43163e=require('uuid'),_0x17a2f3='0',_0x336dc8=_0x3565d6(0x756),_0x50e04d=0x3fc00;class _0x346156{['clusterId'];[_0x3565d6(0x41b)];[_0x3565d6(0x68c)];['iceServers'];[_0x3565d6(0x593)];[_0x3565d6(0x5c7)];[_0x3565d6(0x6c5)];[_0x3565d6(0x3e6)]=0x1;['systemTopic'];[_0x3565d6(0x751)]=[];[_0x3565d6(0x312)]=[];['iceDebounce'];constructor(_0x6e6e14,_0x2da8bf,_0x46d17f,_0x1bf65f,_0x16df88){const _0x2b5fd9=_0x3565d6;this[_0x2b5fd9(0x390)]=_0x6e6e14,this[_0x2b5fd9(0x41b)]=_0x2da8bf,this['remoteId']=_0x46d17f,this[_0x2b5fd9(0x4c8)]=_0x1bf65f,this[_0x2b5fd9(0x593)]=_0x16df88,this['connection']=new RTCPeerConnection({'iceServers':_0x1bf65f}),this[_0x2b5fd9(0x43f)]();}['close'](){const _0x13218e=_0x3565d6;this[_0x13218e(0x6ea)]();}[_0x3565d6(0x2e8)](_0x15c41b){const _0x28d4ae=_0x3565d6;this[_0x28d4ae(0x593)]=_0x15c41b;}async[_0x3565d6(0x1a5)](_0x73ce,_0x5d574a){const _0x408a96=_0x3565d6;if(_0x5d574a===this[_0x408a96(0x3e6)])for(const _0x3b1694 of _0x73ce){if(!this['connection'][_0x408a96(0x5f9)])return this[_0x408a96(0x604)](_0x3b1694);await this[_0x408a96(0x5c7)][_0x408a96(0x1dc)](_0x3b1694);}}['isConnected'](){const _0x2347a9=_0x3565d6;return this[_0x2347a9(0x4bf)](),_0x2347a9(0x201)===this[_0x2347a9(0x5c7)][_0x2347a9(0x2a5)]&&[_0x2347a9(0x201),'completed'][_0x2347a9(0x741)](this[_0x2347a9(0x5c7)][_0x2347a9(0x216)])&&_0x2347a9(0x575)!==this[_0x2347a9(0x5c7)][_0x2347a9(0x1e1)]&&_0x2347a9(0x4db)===this['dataChannel']?.[_0x2347a9(0x3a9)];}[_0x3565d6(0x586)](_0x1bd41f){const _0x5afdda=_0x3565d6;this[_0x5afdda(0x24e)]=_0x1bd41f;}['unregisterSystemPublisher'](){const _0x17ad81=_0x3565d6;delete this[_0x17ad81(0x24e)];}['resetConnection'](_0x412498){const _0x2c888e=_0x3565d6;this['stopConnection'](),this[_0x2c888e(0x5c7)]=new RTCPeerConnection({'iceServers':this['iceServers']}),_0x412498?this[_0x2c888e(0x3e6)]=_0x412498:this[_0x2c888e(0x3e6)]+=0x1,this[_0x2c888e(0x43f)]();}[_0x3565d6(0x5e9)](){const _0x1ab002=_0x3565d6;this['pendingIceCandidates'][_0x1ab002(0x1c3)](_0x19c3f4=>this['connection'][_0x1ab002(0x1dc)](_0x19c3f4)),this['pendingIceCandidates']=[];}[_0x3565d6(0x6dd)](_0x588544,_0x17a02c){const _0x3f8e86=_0x3565d6;if(!this[_0x3f8e86(0x24e)])throw new _0x1ca0c3(_0x1ca0c3[_0x3f8e86(0x69c)][_0x3f8e86(0x361)],{'content':_0x588544});const _0x25375e={'sourceId':this[_0x3f8e86(0x41b)],'destinationIds':[this[_0x3f8e86(0x68c)]],'propagate':this[_0x3f8e86(0x593)]!==_0x1f8db5[_0x3f8e86(0x597)],'retry':this['connectionType']!==_0x1f8db5['Core'],'messageType':_0x3edd62[_0x3f8e86(0x4c2)],'content':_0x588544};_0x17a02c&&(_0x25375e['uuid']=_0x17a02c),this[_0x3f8e86(0x24e)][_0x3f8e86(0x76d)](_0x25375e);}['setupConnectionEvents'](){const _0x3f8ca5=_0x3565d6;this['connection']['onicegatheringstatechange']=()=>{const _0x19bf33=a0_0x2e59;_0x19bf33(0x768)===this[_0x19bf33(0x5c7)][_0x19bf33(0x3c5)]&&this['iceCandidates'][_0x19bf33(0x49d)]>0x0&&(this[_0x19bf33(0x72d)]&&clearTimeout(this[_0x19bf33(0x72d)]),this[_0x19bf33(0x72d)]=setTimeout(()=>{const _0x1945ae=_0x19bf33;delete this[_0x1945ae(0x72d)],this[_0x1945ae(0x72f)](),this[_0x1945ae(0x751)]=[];},0x1f4));},this[_0x3f8ca5(0x5c7)]['onicecandidate']=_0x3dd2b6=>{const _0x5b8eb6=_0x3f8ca5;_0x3dd2b6[_0x5b8eb6(0x3a6)]&&this[_0x5b8eb6(0x751)][_0x5b8eb6(0x495)](_0x3dd2b6[_0x5b8eb6(0x3a6)]);};}[_0x3565d6(0x6ea)](){const _0x1bb633=_0x3565d6;clearTimeout(this['iceDebounce']),delete this[_0x1bb633(0x72d)],this[_0x1bb633(0x751)]=[],this['dataChannel']&&(this['dataChannel']['onmessage']=null,this[_0x1bb633(0x6c5)][_0x1bb633(0x6cb)]=null,this[_0x1bb633(0x6c5)][_0x1bb633(0x208)](),delete this[_0x1bb633(0x6c5)]),this['connection'][_0x1bb633(0x2b6)]=null,this[_0x1bb633(0x5c7)]['onicecandidate']=null,this[_0x1bb633(0x5c7)][_0x1bb633(0x649)]=null,this[_0x1bb633(0x5c7)][_0x1bb633(0x33f)]=null,this['connection']['ontrack']=null,this[_0x1bb633(0x5c7)]['ondatachannel']=null,this['connection']['close']();}[_0x3565d6(0x604)](_0x313d4b){const _0x56e4e3=_0x3565d6;this[_0x56e4e3(0x312)][_0x56e4e3(0x495)](_0x313d4b);}['logConnectionState'](){const _0x1ea8ee=_0x3565d6;_0x11c0d7[_0x1ea8ee(0x71b)](_0x3e1340[_0x1ea8ee(0x275)],_0x1ea8ee(0x373),{'localId':this[_0x1ea8ee(0x41b)],'remoteId':this['remoteId'],'connectionState':this[_0x1ea8ee(0x5c7)][_0x1ea8ee(0x2a5)],'iceConnectionState':this[_0x1ea8ee(0x5c7)]['iceConnectionState'],'signalingState':this[_0x1ea8ee(0x5c7)][_0x1ea8ee(0x1e1)],'dataChannelState':this[_0x1ea8ee(0x6c5)]?.['readyState']});}}function _0x221347(_0x44a4f0,_0x997c4a){_0x997c4a['publish']({'sourceId':_0x13edb4,'messageType':_0x3edd62['WebRTC'],'content':_0x44a4f0});}class _0x3e8a0a{static [_0x3565d6(0x4e6)];[_0x3565d6(0x4da)]=[];constructor(){setInterval(()=>{this['parameters']['forEach'](_0x335067=>{const _0x37262c=a0_0x2e59;if(Date[_0x37262c(0x1aa)]()-_0x335067[_0x37262c(0x336)]>_0x335067[_0x37262c(0x6b2)]){try{_0x335067[_0x37262c(0x2b2)]();}catch(_0x395ea0){}_0x335067[_0x37262c(0x336)]=Date[_0x37262c(0x1aa)]();}});},0x64);}static[_0x3565d6(0x690)](){const _0x56510e=_0x3565d6;return _0x3e8a0a[_0x56510e(0x4e6)]||(_0x3e8a0a['instance']=new _0x3e8a0a()),_0x3e8a0a[_0x56510e(0x4e6)];}['startNoThrottlingHack'](_0x57a0ae){const _0x5ecf37=_0x3565d6,_0x2dcb35=this['createConstantSource'](_0x57a0ae),_0x20d3ec=_0x57a0ae[_0x5ecf37(0x5ed)]();_0x20d3ec&&_0x2dcb35&&(_0x20d3ec[_0x5ecf37(0x749)]['value']=0.001,_0x2dcb35[_0x5ecf37(0x1c1)](_0x20d3ec),_0x20d3ec[_0x5ecf37(0x1c1)](_0x57a0ae[_0x5ecf37(0x6ee)]),_0x2dcb35[_0x5ecf37(0x3a4)]());}[_0x3565d6(0x287)](_0x308ff4){return new Promise(_0x326a04=>{setTimeout(_0x326a04,_0x308ff4);});}[_0x3565d6(0x341)](_0x2f944d,_0x4c979a){const _0x246d1d=_0x3565d6;return this[_0x246d1d(0x4da)][_0x246d1d(0x495)]({'callback':_0x2f944d,'interval':_0x4c979a,'lastExecuted':Date[_0x246d1d(0x1aa)]()}),()=>{const _0xe0b2de=_0x246d1d;this[_0xe0b2de(0x4da)]=this[_0xe0b2de(0x4da)]['filter'](_0x13ac9e=>_0x13ac9e[_0xe0b2de(0x2b2)]!==_0x2f944d);};}['createConstantSource'](_0x425ef5){const _0x4bced9=_0x3565d6;if(_0x425ef5[_0x4bced9(0x342)])return _0x425ef5[_0x4bced9(0x342)]();const _0x4a4673=_0x425ef5[_0x4bced9(0x620)](),_0x56fa1e=_0x425ef5['createBuffer'](0x1,0x1,_0x425ef5['sampleRate']);return _0x56fa1e[_0x4bced9(0x567)](0x0)[0x0]=0xa,_0x4a4673[_0x4bced9(0x335)]=_0x56fa1e,_0x4a4673['loop']=!0x0,_0x4a4673;}}const _0x42f599=_0x3e8a0a[_0x3565d6(0x690)](),_0x5928cd=[_0x3565d6(0x4c2),_0x3565d6(0x49c),_0x3565d6(0x422),_0x3565d6(0x4fe),_0x3565d6(0x2a9),_0x3565d6(0x6b9),_0x3565d6(0x1af)],_0xec8f95=[[_0x3565d6(0x452),_0x3565d6(0x53a),'Ice','Success','NeedRestart',_0x3565d6(0x726),_0x3565d6(0x4f3),_0x3565d6(0x2a9),_0x3565d6(0x6dc)],[_0x3565d6(0x454),'UserUpdate',_0x3565d6(0x282),_0x3565d6(0x559)],['PublishMediaStream',_0x3565d6(0x568),_0x3565d6(0x4ad),_0x3565d6(0x3ad),_0x3565d6(0x1ad),'CloseObjectStoreBucket',_0x3565d6(0x367),'ClosePubSubTopic',_0x3565d6(0x73a),_0x3565d6(0x71f),_0x3565d6(0x494),'RequestSyncKeyValueDatabase',_0x3565d6(0x625),_0x3565d6(0x1b4),_0x3565d6(0x2ef),_0x3565d6(0x637)],[_0x3565d6(0x4ad),_0x3565d6(0x3ad),'UnsubscribeMediaStream',_0x3565d6(0x1b3),_0x3565d6(0x46f),'CanProvideMediaStream',_0x3565d6(0x613),_0x3565d6(0x1fe)],[_0x3565d6(0x3c6),_0x3565d6(0x42b)],[_0x3565d6(0x6f5)],[_0x3565d6(0x1af),_0x3565d6(0x1b7)]];function _0x2b5a80(_0x5a8e63){const _0x3c82c9=_0x3565d6;return{..._0x5a8e63,'systemMessageType':_0x5928cd[_0x5a8e63[_0x3c82c9(0x6fd)]],'systemContentMessageType':_0xec8f95[_0x5a8e63[_0x3c82c9(0x6fd)]][_0x5a8e63[_0x3c82c9(0x379)][_0x3c82c9(0x2be)]]};}const _0xdf0b67={'hour':_0x3565d6(0x437),'minute':'2-digit','second':_0x3565d6(0x437)};function _0x34f224(_0x3313a5,_0x3d8801){const _0x4d7822=_0x3565d6,_0x3cf163=(function(){const _0x5e3087=a0_0x2e59,_0x27082e=new Date(),_0x18622e=_0x27082e[_0x5e3087(0x21a)](),_0x128620=_0x27082e[_0x5e3087(0x717)]('en-US',_0xdf0b67)[_0x5e3087(0x588)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x128620+'.'+(_0x18622e>0x64?''+_0x18622e:_0x18622e>0xa?'0'+_0x18622e:'00'+_0x18622e);}()),{sourceId:_0x167f0c,destinationIds:_0x90ef9f,systemMessageType:_0x2d78ec,systemContentMessageType:_0x34047f}=_0x2b5a80(_0x3313a5);return _0x3cf163+'\x20-\x20'+_0x3d8801+'\x20-\x20'+(_0x167f0c===_0x3d8801?'Sending\x20\x27'+_0x2d78ec+_0x4d7822(0x57e)+(_0x90ef9f?''+_0x90ef9f:_0x4d7822(0x317)):_0x3313a5[_0x4d7822(0x3be)]===_0x13edb4?_0x4d7822(0x19f)+_0x2d78ec+'\x27':(_0x90ef9f?'':_0x4d7822(0x45e))+_0x4d7822(0x23f)+_0x2d78ec+'\x27\x20from\x20'+_0x167f0c)+_0x4d7822(0x526)+_0x34047f+_0x4d7822(0x1c5);}class _0x444459 extends _0x346156{['messageCallback']=_0x3c88b1();[_0x3565d6(0x309)]=_0x3c88b1();[_0x3565d6(0x2fa)]=_0x3c88b1();[_0x3565d6(0x5fe)]=new Map();['chunks']=new Map();[_0x3565d6(0x60e)];['messagesReceived']=0x0;[_0x3565d6(0x474)]={'messages':{'total':0x0}};['bytesReceived']=0x0;[_0x3565d6(0x6f8)]=0x0;[_0x3565d6(0x208)](){const _0x215b4d=_0x3565d6;this['clearWaitSuccess'](),this[_0x215b4d(0x5fe)]['clear'](),super[_0x215b4d(0x208)]();}async['handleOffer'](_0x4aa2aa,_0x5f0bfc){const _0x28a3d5=_0x3565d6;this['currentVersion']=_0x5f0bfc,this[_0x28a3d5(0x677)](),await this[_0x28a3d5(0x5c7)][_0x28a3d5(0x626)](_0x4aa2aa);const _0x283cbb=await this[_0x28a3d5(0x5c7)][_0x28a3d5(0x65a)]();await this['connection']['setLocalDescription'](_0x283cbb),this[_0x28a3d5(0x5e9)]();const _0x488247=(0x0,_0x43163e['v4'])();this[_0x28a3d5(0x6dd)]({'type':_0x25f14a[_0x28a3d5(0x53a)],'answer':this[_0x28a3d5(0x5c7)]['localDescription'],'version':_0x5f0bfc,'connectionType':this[_0x28a3d5(0x593)]},_0x488247),this[_0x28a3d5(0x593)]===_0x1f8db5[_0x28a3d5(0x597)]&&(this[_0x28a3d5(0x60e)]=_0x42f599[_0x28a3d5(0x341)](()=>{const _0x429fb3=_0x28a3d5;this[_0x429fb3(0x6dd)]({'type':_0x25f14a['Answer'],'answer':this['connection']['localDescription'],'version':_0x5f0bfc,'connectionType':this['connectionType']},_0x488247);},0x1388));}[_0x3565d6(0x1fc)](){this['clearWaitSuccess']();}['handleNeedRestart'](_0x1205ec){const _0x41b755=_0x3565d6;this['resetConnection'](_0x1205ec),this[_0x41b755(0x6dd)]({'type':_0x25f14a[_0x41b755(0x726)]});}async[_0x3565d6(0x3a7)](){const _0x50697e=_0x3565d6;await async function(_0x150a7f,_0x560ef1,_0x4a330c,_0x47fc7d){const _0x75f055=a0_0x2e59;for(const [_0x4865f5,_0x119e01]of _0x560ef1){const _0x20f93c=[];for(const _0x207300 of _0x119e01)_0x20f93c[_0x75f055(0x495)](await _0x4a330c['getStats'](_0x207300));0x0!==_0x20f93c[_0x75f055(0x49d)]&&_0x221347({'type':_0x25f14a['Stats'],'streamId':_0x4865f5,'userId':_0x150a7f,'stats':_0x20f93c},_0x47fc7d);}}(this[_0x50697e(0x68c)],this['receivers'],this[_0x50697e(0x5c7)],this['systemTopic']),this[_0x50697e(0x24e)][_0x50697e(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x50697e(0x4c2)],'content':{'type':_0x25f14a['Stats'],'userId':this[_0x50697e(0x68c)],'stats':{'origin':_0x58b611[_0x50697e(0x36f)],'timestamp':Date[_0x50697e(0x1aa)](),'messagesReceived':this[_0x50697e(0x32c)],'bytesReceived':this['bytesReceived'],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0x50697e(0x474)]}}});}['onMessage'](_0x36fea6){const _0x4dc04d=_0x3565d6;return this[_0x4dc04d(0x2d7)][_0x4dc04d(0x61f)](_0x36fea6);}[_0x3565d6(0x65d)](_0x166858){const _0x5193b5=_0x3565d6;return this['trackCallback'][_0x5193b5(0x61f)](({track:_0x5c72bb,stream:_0x464da3})=>_0x166858(_0x5c72bb,_0x464da3));}[_0x3565d6(0x693)](_0x2b76c6){const _0x2dac75=_0x3565d6;return this[_0x2dac75(0x2fa)][_0x2dac75(0x61f)](({track:_0x3c73fd,stream:_0x2bc2b7})=>_0x2b76c6(_0x3c73fd,_0x2bc2b7));}[_0x3565d6(0x657)](_0x5811fc){const _0x134f42=_0x3565d6;this[_0x134f42(0x677)](),this[_0x134f42(0x5fe)]['forEach'](_0x52c6f5=>{const _0x350e9e=_0x134f42;_0x52c6f5[_0x350e9e(0x376)]();}),super[_0x134f42(0x657)](_0x5811fc);}[_0x3565d6(0x72f)](){const _0x53dfdd=_0x3565d6;this['publishWebRTCMessage']({'type':_0x25f14a[_0x53dfdd(0x4d7)],'candidates':this[_0x53dfdd(0x751)],'origin':_0x58b611[_0x53dfdd(0x36f)],'version':this[_0x53dfdd(0x3e6)],'connectionType':this[_0x53dfdd(0x593)]});}['setupConnectionEvents'](){const _0xb2dd58=_0x3565d6;super[_0xb2dd58(0x43f)](),this[_0xb2dd58(0x5c7)][_0xb2dd58(0x719)]=_0x3bdd0f=>{const _0x4330ef=_0xb2dd58;_0x11c0d7['log'](_0x3e1340[_0x4330ef(0x5bd)],_0x4330ef(0x44b),this[_0x4330ef(0x41b)],_0x3bdd0f),_0x3bdd0f[_0x4330ef(0x199)][0x0][_0x4330ef(0x504)]=_0x27fe7b=>{const _0x358f5e=_0x4330ef;this[_0x358f5e(0x5fe)]['get'](_0x3bdd0f[_0x358f5e(0x199)][0x0]['id'])?.[_0x358f5e(0x409)](_0x27fe7b[_0x358f5e(0x66d)]),0x0===this[_0x358f5e(0x5fe)][_0x358f5e(0x64f)](_0x3bdd0f[_0x358f5e(0x199)][0x0]['id'])?.['size']&&this['receivers']['delete'](_0x3bdd0f[_0x358f5e(0x199)][0x0]['id']),this['removeTrackCallback'][_0x358f5e(0x76d)]({'track':_0x27fe7b[_0x358f5e(0x66d)],'stream':_0x3bdd0f[_0x358f5e(0x199)][0x0]});},this['receivers'][_0x4330ef(0x645)](_0x3bdd0f[_0x4330ef(0x199)][0x0]['id'])||this[_0x4330ef(0x5fe)][_0x4330ef(0x5bc)](_0x3bdd0f['streams'][0x0]['id'],new Set()),this['receivers']['get'](_0x3bdd0f['streams'][0x0]['id'])['add'](_0x3bdd0f[_0x4330ef(0x66d)]),this[_0x4330ef(0x309)]['publish']({'track':_0x3bdd0f['track'],'stream':_0x3bdd0f[_0x4330ef(0x199)][0x0]});},this[_0xb2dd58(0x5c7)][_0xb2dd58(0x444)]=_0x52e6fa=>{const _0x485da1=_0xb2dd58;this[_0x485da1(0x6c5)]=_0x52e6fa[_0x485da1(0x3d3)],this['dataChannel'][_0x485da1(0x489)]=_0x133ce3=>{const _0x4c86d1=_0x485da1;if(_0x133ce3[_0x4c86d1(0x23a)]!==_0x17a2f3)this[_0x4c86d1(0x313)](_0x133ce3[_0x4c86d1(0x23a)]);else{if(!this[_0x4c86d1(0x6c5)])return void _0x11c0d7[_0x4c86d1(0x683)]('missing-datachannel',{'clusterId':this[_0x4c86d1(0x390)],'userId':this['localId'],'remoteId':this[_0x4c86d1(0x68c)],'data':{'connection':'receiver'}});if(_0x4c86d1(0x4db)!==this[_0x4c86d1(0x6c5)]['readyState'])return;this[_0x4c86d1(0x6c5)][_0x4c86d1(0x64c)]('1');}};};}[_0x3565d6(0x313)](_0x20514a){const _0x4a864d=_0x3565d6;if(_0x4a864d(0x5c6)==typeof _0x20514a&&_0x20514a['startsWith'](_0x336dc8))return this[_0x4a864d(0x32c)]+=0x1,this[_0x4a864d(0x48f)]+=_0x20514a['length'],this[_0x4a864d(0x2ab)](_0x20514a);setTimeout(()=>{const _0x5bb8ce=_0x4a864d,_0x35d743=Date['now']();let _0x36e4b2;if((_0x20514a instanceof ArrayBuffer||_0x20514a['length']<=_0x50e04d)&&(this[_0x5bb8ce(0x32c)]+=0x1,this['bytesReceived']+=_0x20514a instanceof ArrayBuffer?_0x20514a[_0x5bb8ce(0x66a)]:_0x20514a[_0x5bb8ce(0x49d)]),_0x20514a instanceof ArrayBuffer){const [_0x847991,_0x2f02a5]=this[_0x5bb8ce(0x513)](_0x20514a);_0x36e4b2=_0x847991,_0x36e4b2[_0x5bb8ce(0x379)][_0x5bb8ce(0x23a)]=_0x2f02a5;}else _0x36e4b2=JSON[_0x5bb8ce(0x21c)](_0x20514a);if(0x0===_0x36e4b2['topicLabel']){this[_0x5bb8ce(0x474)][_0x5bb8ce(0x2d9)][_0x5bb8ce(0x538)]+=0x1;const {systemMessageType:_0x86c201,systemContentMessageType:_0x3af51a}=_0x2b5a80(_0x36e4b2);this[_0x5bb8ce(0x474)][_0x86c201]||(this[_0x5bb8ce(0x474)][_0x86c201]={[_0x3af51a]:0x0}),this[_0x5bb8ce(0x474)][_0x86c201][_0x3af51a]||(this['systemMessagesReceived'][_0x86c201][_0x3af51a]=0x0),this[_0x5bb8ce(0x474)][_0x86c201][_0x5bb8ce(0x538)]||(this[_0x5bb8ce(0x474)][_0x86c201][_0x5bb8ce(0x538)]=0x0),this[_0x5bb8ce(0x474)][_0x86c201][_0x3af51a]+=0x1,this[_0x5bb8ce(0x474)][_0x86c201]['total']+=0x1;}this[_0x5bb8ce(0x2d7)]['publish'](_0x36e4b2),this[_0x5bb8ce(0x6f8)]+=Date[_0x5bb8ce(0x1aa)]()-_0x35d743;},0x0);}[_0x3565d6(0x2ab)](_0x2782bb){const _0x48df98=_0x3565d6,_0x425ccb=_0x2782bb['split'](';'),_0x54093e=_0x425ccb[0x1],_0x101609=parseInt(_0x425ccb[0x2],0xa),_0x596154=parseInt(_0x425ccb[0x3],0xa),_0x17f6e8=_0x2782bb[_0x48df98(0x635)](_0x336dc8+';'+_0x54093e+';'+_0x101609+';'+_0x596154+';','');this['chunks'][_0x48df98(0x645)](_0x54093e)||this[_0x48df98(0x40d)][_0x48df98(0x5bc)](_0x54093e,[]);const _0x38a224=this[_0x48df98(0x40d)][_0x48df98(0x64f)](_0x54093e);_0x38a224[_0x101609]=_0x17f6e8,_0x38a224[_0x48df98(0x49d)]===_0x596154&&(this[_0x48df98(0x313)](_0x38a224['join']('')),this[_0x48df98(0x40d)]['delete'](_0x54093e));}[_0x3565d6(0x677)](){const _0x3ea2ca=_0x3565d6;this[_0x3ea2ca(0x60e)]?.(),delete this[_0x3ea2ca(0x60e)];}[_0x3565d6(0x3a0)](_0x23c7a2){const _0x12b2a0=_0x3565d6,_0x153318=new TextDecoder()[_0x12b2a0(0x529)](_0x23c7a2);return JSON['parse'](_0x153318);}['splitParts'](_0x5bb594){const _0x4fd239=_0x3565d6,_0x144091=new Uint8Array(_0x5bb594[_0x4fd239(0x382)](0x0,0x4)),_0x315011=new Uint32Array(_0x144091[_0x4fd239(0x335)])[0x0],_0x231c1c=new Uint8Array(_0x5bb594['slice'](0x4,0x4+_0x315011)),_0x5181e0=new Uint8Array(_0x5bb594['slice'](0x4+_0x315011));return[this['arrayBufferToObject'](_0x231c1c[_0x4fd239(0x335)]),_0x5181e0[_0x4fd239(0x335)]];}}const _0x133fff=0xc350;var _0x3994e4,_0x101bc1,_0x3fecff,_0x27356d,_0x42c06d,_0x4343b8,_0x2f450a,_0x1310d7,_0x34d5e2,_0x3273ad;function _0x46c4dc(_0x2dfcfc){const _0x404a9c=_0x3565d6;if(_0x2dfcfc[_0x404a9c(0x577)][_0x404a9c(0x612)]&&_0x2dfcfc['tracks'][_0x404a9c(0x612)][_0x404a9c(0x2c6)]){const _0xbd9ee7=_0x2dfcfc[_0x404a9c(0x577)]['video'][_0x404a9c(0x2c6)]['getParameters']();if(!_0xbd9ee7)return;_0xbd9ee7[_0x404a9c(0x2da)][_0x404a9c(0x1c3)](_0x57a61d=>{const _0x254928=_0x404a9c;_0x57a61d['scaleResolutionDownBy']=Math[_0x254928(0x457)](0xa*_0x2dfcfc[_0x254928(0x75f)])/0xa,_0x57a61d[_0x254928(0x67d)]=_0x2dfcfc['framerate'],_0x57a61d[_0x254928(0x21f)]=_0x2dfcfc[_0x254928(0x4fd)],_0x57a61d['priority']=_0x931ca3(_0x2dfcfc[_0x254928(0x766)]);}),_0x2dfcfc['tracks']['video'][_0x404a9c(0x2c6)][_0x404a9c(0x4e5)](_0xbd9ee7)[_0x404a9c(0x1fd)](()=>{});}}function _0x931ca3(_0x39ba0f){const _0x124cec=_0x3565d6;switch(_0x39ba0f){case _0xf2d596['Low']:return _0x124cec(0x2f7);case _0xf2d596[_0x124cec(0x48b)]:return'high';default:return _0x124cec(0x49f);}}!function(_0x41e960){const _0x38853d=_0x3565d6;_0x41e960[_0x41e960[_0x38853d(0x48b)]=0x0]=_0x38853d(0x48b),_0x41e960[_0x41e960[_0x38853d(0x641)]=0x1]=_0x38853d(0x641),_0x41e960[_0x41e960[_0x38853d(0x6d7)]=0x2]='Low';}(_0x3994e4||(_0x3994e4={}));class _0x4d0b10 extends _0x346156{[_0x3565d6(0x33e)];['maxBpp'];[_0x3565d6(0x1b6)]=new Map();[_0x3565d6(0x638)];[_0x3565d6(0x72c)];[_0x3565d6(0x514)];[_0x3565d6(0x456)]=!0x1;[_0x3565d6(0x579)];['restartTimeout'];['upgradeTimeout'];[_0x3565d6(0x747)]=function(e,t=_0x3994e4,s=!0x1){const _0x4bdb19=_0x3565d6;let i=!0x1;const n=[];async function a(){const _0x44a0d4=a0_0x2e59;if(!i){for(i=!0x0;n[_0x44a0d4(0x6eb)](e=>e[_0x44a0d4(0x6a3)]);){let t,i=0x0;for(const [e,s]of n[_0x44a0d4(0x20a)]())if(t=s['shift'](),i=e,t)break;if(t)try{if(e instanceof _0x10c240&&e[_0x44a0d4(0x2e4)](t),e instanceof _0xdfd8b7&&await e[_0x44a0d4(0x2e4)](t),n['slice'](-0x1)[_0x44a0d4(0x6eb)](e=>e['head']))continue;const s=n[_0x44a0d4(0x49d)]-0x1;i===s&&n[s][_0x44a0d4(0x6a3)]&&await _0x42f599[_0x44a0d4(0x287)](0x0);}catch(a){s?n[i]['push'](t,!0x1):n[i]['unshift'](t,!0x1),await e[_0x44a0d4(0x287)]();}}i=!0x1;}}return Object[_0x4bdb19(0x3cb)](t)['forEach'](e=>{const _0x4b50ec=_0x4bdb19;_0x4b50ec(0x5c6)!=typeof e&&(n[e]=_0x23b6bf(a));}),{'queues':n};}(new _0x10c240(this[_0x3565d6(0x4d0)]['bind'](this),this[_0x3565d6(0x3ba)][_0x3565d6(0x65f)](this)));[_0x3565d6(0x2fd)]=0x0;[_0x3565d6(0x33b)]=0x0;[_0x3565d6(0x580)]=0x0;[_0x3565d6(0x402)]=0x0;[_0x3565d6(0x3b5)];constructor(_0x57d80a,_0x4fabf8,_0x4efc48,_0x59e373,_0x49d36e,_0x455bd9,_0x6d1e71){const _0x4a7509=_0x3565d6;super(_0x57d80a,_0x4fabf8,_0x4efc48,_0x59e373,_0x49d36e),this[_0x4a7509(0x33e)]=_0x455bd9,this[_0x4a7509(0x400)]=_0x6d1e71;}[_0x3565d6(0x208)](){const _0x499bdf=_0x3565d6;this[_0x499bdf(0x5f1)](),this[_0x499bdf(0x669)](),delete this['lastHeartbeat'],this[_0x499bdf(0x5b8)](),this[_0x499bdf(0x3c4)](),this[_0x499bdf(0x21e)](),this[_0x499bdf(0x1b6)][_0x499bdf(0x376)](),this[_0x499bdf(0x456)]=!0x1,this[_0x499bdf(0x747)]['queues'][_0x499bdf(0x1c3)](_0x274d35=>_0x274d35['clear']()),this[_0x499bdf(0x25a)](),super[_0x499bdf(0x208)]();}[_0x3565d6(0x32f)](){const _0x69b730=_0x3565d6;return!!this[_0x69b730(0x514)]&&super[_0x69b730(0x32f)]()&&Date[_0x69b730(0x1aa)]()-this['lastHeartbeat']<0x3a98;}async[_0x3565d6(0x3a7)](){const _0x40d86f=_0x3565d6;await async function(_0x5223a4,_0x5dc0fb,_0x460486,_0x2525fc){const _0x5eb0cc=a0_0x2e59;for(const [_0x3b5a03,_0x242437]of _0x5dc0fb){const _0x3a5525=[];_0x242437[_0x5eb0cc(0x577)][_0x5eb0cc(0x612)]?.['track']&&_0x242437[_0x5eb0cc(0x577)][_0x5eb0cc(0x612)]?.[_0x5eb0cc(0x2c6)]&&_0x3a5525['push'](await _0x460486[_0x5eb0cc(0x6e9)](_0x242437[_0x5eb0cc(0x577)][_0x5eb0cc(0x612)][_0x5eb0cc(0x66d)])),_0x242437[_0x5eb0cc(0x577)]['audio']?.['track']&&_0x242437[_0x5eb0cc(0x577)][_0x5eb0cc(0x398)]?.[_0x5eb0cc(0x2c6)]&&_0x3a5525['push'](await _0x460486[_0x5eb0cc(0x6e9)](_0x242437[_0x5eb0cc(0x577)][_0x5eb0cc(0x398)][_0x5eb0cc(0x66d)])),0x0!==_0x3a5525['length']&&_0x221347({'type':_0x25f14a['Stats'],'streamId':_0x3b5a03,'userId':_0x5223a4,'stats':_0x3a5525},_0x2525fc);}}(this[_0x40d86f(0x68c)],this['senders'],this[_0x40d86f(0x5c7)],this['systemTopic']),this[_0x40d86f(0x24e)]['publish']({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x40d86f(0x4c2)],'content':{'type':_0x25f14a[_0x40d86f(0x2a9)],'userId':this[_0x40d86f(0x68c)],'stats':{'origin':_0x58b611['Sender'],'timestamp':Date['now'](),'messagesSent':this[_0x40d86f(0x2fd)],'bytesSent':this['bytesSent'],'timeSending':this[_0x40d86f(0x580)],'roundTripTime':this['roundTripTime']}}});}async[_0x3565d6(0x27c)](_0xea24b0){const _0x39d7c7=_0x3565d6;_0x11c0d7[_0x39d7c7(0x71b)](_0x3e1340[_0x39d7c7(0x5bd)],_0x39d7c7(0x627),this['localId'],this[_0x39d7c7(0x68c)]),this[_0x39d7c7(0x5b8)](),this[_0x39d7c7(0x3c4)](),this[_0x39d7c7(0x21e)](),this[_0x39d7c7(0x579)]=setTimeout(()=>{const _0x765d83=_0x39d7c7;this[_0x765d83(0x31c)]();},0x7530),this[_0x39d7c7(0x6c5)]||(this[_0x39d7c7(0x6c5)]=this['connection'][_0x39d7c7(0x2e5)](_0x39d7c7(0x23a)),this[_0x39d7c7(0x6c5)][_0x39d7c7(0x35c)]=0x10000,this['dataChannel']['onclose']=()=>{const _0x5571c3=_0x39d7c7;this[_0x5571c3(0x3b5)]=setTimeout(()=>{const _0x2e7ae9=_0x5571c3;delete this[_0x2e7ae9(0x3b5)],[_0x2e7ae9(0x4ab),_0x2e7ae9(0x4db)][_0x2e7ae9(0x741)](this[_0x2e7ae9(0x6c5)]?.['readyState']??'')||this[_0x2e7ae9(0x31c)]();},0xfa);});const _0x18085e=await this[_0x39d7c7(0x5c7)]['createOffer'](_0xea24b0);this[_0x39d7c7(0x514)]||(this[_0x39d7c7(0x514)]=Date[_0x39d7c7(0x1aa)]()),await this[_0x39d7c7(0x5c7)][_0x39d7c7(0x249)](_0x18085e);const _0xbe7280=(0x0,_0x43163e['v4'])();this[_0x39d7c7(0x6dd)]({'type':_0x25f14a[_0x39d7c7(0x452)],'offer':this[_0x39d7c7(0x5c7)][_0x39d7c7(0x28a)],'version':this['currentVersion'],'connectionType':this['connectionType']},_0xbe7280),this[_0x39d7c7(0x593)]===_0x1f8db5[_0x39d7c7(0x597)]&&(this[_0x39d7c7(0x72c)]=_0x42f599[_0x39d7c7(0x341)](()=>{const _0x245a8f=_0x39d7c7;this[_0x245a8f(0x6dd)]({'type':_0x25f14a[_0x245a8f(0x452)],'offer':this[_0x245a8f(0x5c7)]['localDescription'],'version':this[_0x245a8f(0x3e6)],'connectionType':this['connectionType']},_0xbe7280);},0x1388));}async[_0x3565d6(0x392)](_0x214d34,_0x4bb18b){const _0x4e8b7b=_0x3565d6;if(_0x4bb18b===this[_0x4e8b7b(0x3e6)]){this[_0x4e8b7b(0x21e)]();try{await this[_0x4e8b7b(0x5c7)]['setRemoteDescription'](_0x214d34),this[_0x4e8b7b(0x5e9)](),this[_0x4e8b7b(0x5c7)][_0x4e8b7b(0x24f)]||(this[_0x4e8b7b(0x5c7)][_0x4e8b7b(0x24f)]=()=>this['createOffer']()),this['clearConnectionTimeout'](),this[_0x4e8b7b(0x1b5)]();}catch(_0x5459db){this[_0x4e8b7b(0x31c)]();}}}['send'](_0x507f3d){const _0x3c1cfc=_0x3565d6;if(!this['dataChannel'])throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x3c1cfc(0x31f)],{'message':_0x3c1cfc(0x67f),'localId':this[_0x3c1cfc(0x41b)],'remoteId':this[_0x3c1cfc(0x68c)],'eventMessage':_0x507f3d});if(_0x3c1cfc(0x4db)!==this[_0x3c1cfc(0x6c5)][_0x3c1cfc(0x3a9)])throw new _0x1ca0c3(_0x1ca0c3[_0x3c1cfc(0x69c)]['InvalidDataChannel'],{'message':_0x3c1cfc(0x26b),'localId':this['localId'],'remoteId':this['remoteId'],'eventMessage':_0x507f3d});let _0xbb2f2f;if(_0x507f3d[_0x3c1cfc(0x379)][_0x3c1cfc(0x23a)]instanceof ArrayBuffer){const _0x3f0ad2=_0x507f3d['content'][_0x3c1cfc(0x23a)];delete _0x507f3d[_0x3c1cfc(0x379)]['data'],_0xbb2f2f=this[_0x3c1cfc(0x6c7)](_0x507f3d,_0x3f0ad2);}else _0xbb2f2f=JSON[_0x3c1cfc(0x558)](_0x507f3d);if(_0x3c1cfc(0x5c6)==typeof _0xbb2f2f&&_0xbb2f2f[_0x3c1cfc(0x49d)]>_0x50e04d)return this[_0x3c1cfc(0x25f)](_0x507f3d,_0xbb2f2f);const _0x50688e=0x0===_0x507f3d[_0x3c1cfc(0x2d8)]&&[_0x3edd62['Subscription'],_0x3edd62[_0x3c1cfc(0x4c2)]]['includes'](_0x507f3d[_0x3c1cfc(0x6fd)])?_0x3994e4[_0x3c1cfc(0x48b)]:_0x507f3d instanceof ArrayBuffer?_0x3994e4[_0x3c1cfc(0x6d7)]:_0x3994e4[_0x3c1cfc(0x641)];this[_0x3c1cfc(0x5d9)](_0xbb2f2f,_0x50688e);}[_0x3565d6(0x598)](_0xa78161,_0x5dc9d1,_0x1e109c,_0x444fc0){const _0x15c4d0=_0x3565d6,_0x5cf8d2=(_0x49427b=this['maxFps'],_0x4aff7d=this[_0x15c4d0(0x400)],Math['floor'](0xe1000*_0x49427b*_0x4aff7d));var _0x49427b,_0x4aff7d;const _0x40aefa=this[_0x15c4d0(0x1b6)][_0x15c4d0(0x64f)](_0x5dc9d1['id'])||{'stream':_0x5dc9d1,'priority':_0x1e109c,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x5cf8d2,'maxBitrate':_0x5cf8d2,'framerate':this[_0x15c4d0(0x33e)],'maxFramerate':this[_0x15c4d0(0x33e)],'tracks':{},'params':_0x444fc0},_0x498a10=_0x40aefa[_0x15c4d0(0x577)][_0xa78161[_0x15c4d0(0x711)]]||{'track':_0xa78161};_0x498a10[_0x15c4d0(0x2c6)]?(_0x498a10[_0x15c4d0(0x66d)]=_0xa78161,_0x498a10['sender'][_0x15c4d0(0x331)](_0xa78161),this[_0x15c4d0(0x5c7)]['getTransceivers']()[_0x15c4d0(0x1c3)](_0x36b68d=>{const _0xd546bc=_0x15c4d0;_0x36b68d[_0xd546bc(0x2c6)]===_0x498a10[_0xd546bc(0x2c6)]&&(_0x36b68d[_0xd546bc(0x73d)]=_0xd546bc(0x540));})):_0x498a10[_0x15c4d0(0x2c6)]=this['connection'][_0x15c4d0(0x598)](_0xa78161,_0x5dc9d1),_0x40aefa['tracks'][_0xa78161[_0x15c4d0(0x711)]]=_0x498a10,_0x444fc0&&(_0x40aefa[_0x15c4d0(0x63c)]=_0x444fc0),_0x444fc0&&_0x15c4d0(0x612)===_0x444fc0[_0x15c4d0(0x711)]&&_0x444fc0[_0x15c4d0(0x615)]&&_0x444fc0[_0x15c4d0(0x5d5)]&&(_0x40aefa[_0x15c4d0(0x75f)]=this[_0x15c4d0(0x3e3)](_0x444fc0[_0x15c4d0(0x615)],_0x444fc0[_0x15c4d0(0x5d5)]),_0x40aefa[_0x15c4d0(0x4fc)]=_0x40aefa[_0x15c4d0(0x75f)],_0x46c4dc(_0x40aefa)),this[_0x15c4d0(0x1b6)][_0x15c4d0(0x5bc)](_0x5dc9d1['id'],_0x40aefa);}[_0x3565d6(0x62a)](_0x41c416,_0x22807b){const _0x3a25e6=_0x3565d6,_0x4f0991=this[_0x3a25e6(0x1b6)]['get'](_0x41c416['id']);_0x4f0991&&_0x4f0991[_0x3a25e6(0x766)]!==_0x22807b&&(_0x4f0991['priority']=_0x22807b,_0x46c4dc(_0x4f0991));}[_0x3565d6(0x268)](_0x4ef12a,_0x4b4386){const _0x31f370=_0x3565d6,_0x42091d=this[_0x31f370(0x1b6)][_0x31f370(0x64f)](_0x4ef12a['id']);_0x42091d&&(_0x42091d['params']=_0x4b4386,_0x4b4386&&_0x31f370(0x612)===_0x4b4386[_0x31f370(0x711)]&&_0x4b4386[_0x31f370(0x615)]&&_0x4b4386[_0x31f370(0x5d5)]&&(_0x42091d[_0x31f370(0x4fc)]=this[_0x31f370(0x3e3)](_0x4b4386[_0x31f370(0x615)],_0x4b4386[_0x31f370(0x5d5)]),_0x42091d[_0x31f370(0x75f)]<_0x42091d[_0x31f370(0x4fc)]&&(_0x42091d['resolutionScale']=_0x42091d[_0x31f370(0x4fc)]),_0x46c4dc(_0x42091d),this[_0x31f370(0x5f1)](),this[_0x31f370(0x629)]()),this['senders'][_0x31f370(0x5bc)](_0x4ef12a['id'],_0x42091d));}[_0x3565d6(0x3eb)](_0x1dcfee,_0x49c428){const _0x5b235=_0x3565d6,_0x2020e9=this[_0x5b235(0x1b6)]['get'](_0x49c428['id']);if(_0x2020e9){const _0x165d6c=_0x2020e9[_0x5b235(0x577)][_0x1dcfee[_0x5b235(0x711)]];_0x165d6c&&(_0x165d6c['sender']&&this[_0x5b235(0x5c7)][_0x5b235(0x3eb)](_0x165d6c[_0x5b235(0x2c6)]),_0x165d6c[_0x5b235(0x66d)]=void 0x0);}}[_0x3565d6(0x63b)](_0x769f19){const _0x4a02d6=_0x3565d6;this[_0x4a02d6(0x5f1)]();const _0x1b3b12=function(_0x587de4,_0x550cd7){const _0x5d167f=_0x4a02d6;return _0x587de4[_0x5d167f(0x70c)]((_0x278f87,_0x1ee1d8)=>_0x550cd7[_0x5d167f(0x234)]===_0x52e863[_0x5d167f(0x363)]?_0x1ee1d8[_0x5d167f(0x766)]-_0x278f87[_0x5d167f(0x766)]:_0x278f87[_0x5d167f(0x766)]-_0x1ee1d8[_0x5d167f(0x766)])[_0x5d167f(0x664)](_0x50483b=>function(_0x1aa1ab,_0xd6bba3){const _0x1a77e2=_0x5d167f;if(_0xd6bba3[_0x1a77e2(0x234)]===_0x52e863[_0x1a77e2(0x363)]){if(_0xd6bba3[_0x1a77e2(0x520)]===_0x4c3ef6['Resolution'])return _0x1aa1ab[_0x1a77e2(0x75f)]<0x4||_0x1aa1ab['maxFramerate']>0xf;if(_0xd6bba3[_0x1a77e2(0x520)]===_0x4c3ef6[_0x1a77e2(0x375)])return _0x1aa1ab[_0x1a77e2(0x21f)]>_0x133fff;}return _0x1aa1ab[_0x1a77e2(0x75f)]>_0x1aa1ab['minResolutionScale']||_0x1aa1ab[_0x1a77e2(0x218)]<_0x1aa1ab[_0x1a77e2(0x67d)]||_0x1aa1ab[_0x1a77e2(0x4fd)]<_0x1aa1ab[_0x1a77e2(0x21f)];}(_0x50483b,_0x550cd7));}(Array[_0x4a02d6(0x25d)](this['senders'][_0x4a02d6(0x3cb)]()),_0x769f19);_0x1b3b12&&function(_0x23b560,_0x576897){const _0x57af5f=_0x4a02d6;if(_0x23b560[_0x57af5f(0x577)][_0x57af5f(0x612)]&&_0x23b560[_0x57af5f(0x577)][_0x57af5f(0x612)]['sender']){_0x23b560[_0x57af5f(0x75f)]=function(_0x2be184,_0x13f6c7,_0x4d3e56){const _0x71df2e=_0x57af5f;switch(_0x4d3e56[_0x71df2e(0x234)]){case _0x52e863[_0x71df2e(0x363)]:_0x4d3e56['component']===_0x4c3ef6['Resolution']&&(_0x2be184+=0.5)>0x4&&(_0x2be184=0x4);break;case _0x52e863[_0x71df2e(0x293)]:(_0x2be184-=0.5)<_0x13f6c7&&(_0x2be184=_0x13f6c7);}return _0x2be184;}(_0x23b560['resolutionScale'],_0x23b560[_0x57af5f(0x4fc)],_0x576897),_0x23b560[_0x57af5f(0x218)]=function(_0x142f67,_0x123360,_0x3cc688){const _0xf9b863=_0x57af5f;switch(_0x3cc688[_0xf9b863(0x234)]){case _0x52e863[_0xf9b863(0x363)]:_0x3cc688[_0xf9b863(0x520)]===_0x4c3ef6[_0xf9b863(0x328)]&&(_0x142f67-=0x3)<0xf&&(_0x142f67=0xf);break;case _0x52e863[_0xf9b863(0x293)]:(_0x142f67+=0x3)>_0x123360&&(_0x142f67=_0x123360);}return _0x142f67;}(_0x23b560[_0x57af5f(0x218)],_0x23b560[_0x57af5f(0x67d)],_0x576897),_0x23b560['bitrate']=function(_0xee6c70,_0x516b87,_0x62f90d){const _0x291b1f=_0x57af5f;switch(_0x62f90d[_0x291b1f(0x234)]){case _0x52e863[_0x291b1f(0x363)]:_0x62f90d['component']===_0x4c3ef6['Bitrate']&&(_0xee6c70*=0.75)<_0x133fff&&(_0xee6c70=_0x133fff);break;case _0x52e863[_0x291b1f(0x293)]:(_0xee6c70*=1.25)>_0x516b87&&(_0xee6c70=_0x516b87);}return _0xee6c70;}(_0x23b560[_0x57af5f(0x4fd)],_0x23b560[_0x57af5f(0x21f)],_0x576897);const _0x42c180=_0x23b560[_0x57af5f(0x577)][_0x57af5f(0x612)]['sender'][_0x57af5f(0x5fd)]();_0x42c180[_0x57af5f(0x2da)][_0x57af5f(0x1c3)](_0x1cfb21=>{const _0x586299=_0x57af5f;_0x1cfb21[_0x586299(0x310)]=Math['floor'](0xa*_0x23b560[_0x586299(0x75f)])/0xa,_0x1cfb21['maxFramerate']=_0x23b560[_0x586299(0x218)],_0x1cfb21[_0x586299(0x21f)]=_0x23b560[_0x586299(0x4fd)],_0x1cfb21[_0x586299(0x766)]=_0x931ca3(_0x23b560[_0x586299(0x766)]);}),_0x23b560[_0x57af5f(0x577)][_0x57af5f(0x612)][_0x57af5f(0x2c6)]['setParameters'](_0x42c180)[_0x57af5f(0x1fd)](()=>{});}}(_0x1b3b12,_0x769f19),(_0x1b3b12||_0x769f19[_0x4a02d6(0x234)]===_0x52e863['Downgrade'])&&this[_0x4a02d6(0x629)]();}[_0x3565d6(0x657)](){const _0x112d18=_0x3565d6;super[_0x112d18(0x657)](),this[_0x112d18(0x25a)](),this[_0x112d18(0x21e)](),this[_0x112d18(0x1b6)][_0x112d18(0x1c3)](_0x4d6264=>{const _0x39efec=_0x112d18;_0x4d6264[_0x39efec(0x577)][_0x39efec(0x612)]&&(_0x4d6264[_0x39efec(0x577)][_0x39efec(0x612)][_0x39efec(0x2c6)]=void 0x0),_0x4d6264[_0x39efec(0x577)][_0x39efec(0x398)]&&(_0x4d6264['tracks']['audio'][_0x39efec(0x2c6)]=void 0x0);}),this[_0x112d18(0x456)]=!0x0;}async[_0x3565d6(0x3ba)](){return new Promise(async _0x266af9=>{const _0x4056fc=a0_0x2e59;if(!this[_0x4056fc(0x6c5)]||_0x4056fc(0x4db)!==this[_0x4056fc(0x6c5)][_0x4056fc(0x3a9)])return await _0x42f599[_0x4056fc(0x287)](0x64),void _0x266af9();this[_0x4056fc(0x6c5)][_0x4056fc(0x59f)]<0x10000?_0x266af9():this[_0x4056fc(0x6c5)][_0x4056fc(0x70d)]=()=>{const _0x1b09f8=_0x4056fc;this[_0x1b09f8(0x6c5)]&&(this[_0x1b09f8(0x6c5)][_0x1b09f8(0x70d)]=null),_0x266af9();};});}[_0x3565d6(0x25f)](_0x5b42e3,_0x15e4ad){const _0xd2404d=_0x3565d6,_0x5997c0=[];for(let _0x83e694=0x0;_0x83e694<_0x15e4ad[_0xd2404d(0x49d)];_0x83e694+=_0x50e04d)_0x5997c0[_0xd2404d(0x495)](_0x15e4ad[_0xd2404d(0x382)](_0x83e694,_0x83e694+_0x50e04d));for(const _0x3e5484 of _0x5997c0)this[_0xd2404d(0x5d9)](_0x336dc8+';'+_0x5b42e3[_0xd2404d(0x731)]+';'+_0x5997c0[_0xd2404d(0x554)](_0x3e5484)+';'+_0x5997c0[_0xd2404d(0x49d)]+';'+_0x3e5484,_0x3994e4[_0xd2404d(0x6d7)]);}async[_0x3565d6(0x5d9)](_0xb13a24,_0x490be6){const _0x5414e2=_0x3565d6;_0xb13a24===_0x17a2f3?this[_0x5414e2(0x747)][_0x5414e2(0x469)][_0x490be6][_0x5414e2(0x6a3)]?.[_0x5414e2(0x2aa)]!==_0x17a2f3&&this[_0x5414e2(0x747)][_0x5414e2(0x469)][_0x490be6][_0x5414e2(0x288)](_0xb13a24):this[_0x5414e2(0x747)]['queues'][_0x490be6][_0x5414e2(0x495)](_0xb13a24);}[_0x3565d6(0x4d0)](_0x3be63f){const _0x374af6=_0x3565d6;if(!this[_0x374af6(0x6c5)]||'open'!==this[_0x374af6(0x6c5)][_0x374af6(0x3a9)])throw new Error(_0x374af6(0x1b1));const _0x189a7b=Date[_0x374af6(0x1aa)]();_0x3be63f!==_0x17a2f3&&(this['messagesSent']+=0x1,this['bytesSent']+=_0x3be63f instanceof ArrayBuffer?_0x3be63f[_0x374af6(0x66a)]:_0x3be63f['length']),ArrayBuffer,this['dataChannel'][_0x374af6(0x64c)](_0x3be63f),this[_0x374af6(0x580)]+=Date[_0x374af6(0x1aa)]()-_0x189a7b;}[_0x3565d6(0x1b5)](){const _0x1910b5=_0x3565d6;this[_0x1910b5(0x638)]&&this[_0x1910b5(0x669)]();let _0x123049=!0x0,_0x16a6f0=Date[_0x1910b5(0x1aa)]();this[_0x1910b5(0x514)]=Date[_0x1910b5(0x1aa)](),this['dataChannel']['onmessage']=_0xa428e1=>{const _0x12ab0b=_0x1910b5;'1'===_0xa428e1[_0x12ab0b(0x23a)]&&(this['roundTripTime']=Date[_0x12ab0b(0x1aa)]()-_0x16a6f0,_0x123049&&this['publishWebRTCMessage']({'type':_0x25f14a['Success']}),_0x123049=!0x1,this[_0x12ab0b(0x514)]=Date[_0x12ab0b(0x1aa)](),this[_0x12ab0b(0x456)]&&(this['isReconnecting']=!0x1,this[_0x12ab0b(0x3bd)]()));},this[_0x1910b5(0x638)]=_0x42f599['setInterval'](()=>{const _0x1844b8=_0x1910b5;_0x16a6f0=Date[_0x1844b8(0x1aa)](),this[_0x1844b8(0x5d9)](_0x17a2f3,_0x3994e4['High']),Date['now']()-this[_0x1844b8(0x514)]>(_0x123049?0x15f90:0x3a98)&&this[_0x1844b8(0x31c)]();},0xbb8);}[_0x3565d6(0x3bd)](){const _0x22d924=_0x3565d6;this[_0x22d924(0x1b6)][_0x22d924(0x1c3)](_0x1867ba=>{const _0x25f0bc=_0x22d924;_0x1867ba[_0x25f0bc(0x577)]['video']&&_0x1867ba[_0x25f0bc(0x577)][_0x25f0bc(0x612)]['track']&&!_0x1867ba[_0x25f0bc(0x577)][_0x25f0bc(0x612)]['sender']&&(_0x1867ba[_0x25f0bc(0x577)][_0x25f0bc(0x612)][_0x25f0bc(0x2c6)]=this[_0x25f0bc(0x5c7)][_0x25f0bc(0x598)](_0x1867ba[_0x25f0bc(0x577)][_0x25f0bc(0x612)][_0x25f0bc(0x66d)],_0x1867ba[_0x25f0bc(0x24b)])),_0x1867ba['tracks']['audio']&&_0x1867ba['tracks'][_0x25f0bc(0x398)][_0x25f0bc(0x66d)]&&!_0x1867ba[_0x25f0bc(0x577)]['audio'][_0x25f0bc(0x2c6)]&&(_0x1867ba[_0x25f0bc(0x577)][_0x25f0bc(0x398)][_0x25f0bc(0x2c6)]=this[_0x25f0bc(0x5c7)][_0x25f0bc(0x598)](_0x1867ba[_0x25f0bc(0x577)]['audio'][_0x25f0bc(0x66d)],_0x1867ba[_0x25f0bc(0x24b)]));});}[_0x3565d6(0x72f)](){const _0x1539ed=_0x3565d6;this['publishWebRTCMessage']({'type':_0x25f14a[_0x1539ed(0x4d7)],'candidates':this['iceCandidates'],'origin':_0x58b611[_0x1539ed(0x427)],'version':this[_0x1539ed(0x3e6)],'connectionType':this[_0x1539ed(0x593)]});}[_0x3565d6(0x43f)](){const _0x427d5e=_0x3565d6;super[_0x427d5e(0x43f)](),this[_0x427d5e(0x5c7)]['oniceconnectionstatechange']=()=>{const _0x298414=_0x427d5e;if(_0x298414(0x292)===this[_0x298414(0x5c7)]['iceConnectionState']){if(_0x11c0d7[_0x298414(0x71b)](_0x3e1340[_0x298414(0x275)],_0x298414(0x19c),this[_0x298414(0x41b)],this['remoteId']),this['connection'][_0x298414(0x2d2)])return void this[_0x298414(0x5c7)][_0x298414(0x2d2)]();this['createOffer']({'iceRestart':!0x0});}},this['connection'][_0x427d5e(0x33f)]=()=>{const _0xa88297=_0x427d5e;_0xa88297(0x508)!==this[_0xa88297(0x5c7)]['connectionState']&&_0xa88297(0x292)!==this[_0xa88297(0x5c7)][_0xa88297(0x2a5)]||this[_0xa88297(0x31c)]();};}[_0x3565d6(0x31c)](){const _0x193c53=_0x3565d6;this['clearHeartbeat'](),this[_0x193c53(0x5b8)](),this[_0x193c53(0x3c4)](),_0x11c0d7[_0x193c53(0x4c7)](_0x193c53(0x688),{'clusterId':this[_0x193c53(0x390)],'userId':this['localId'],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x193c53(0x593)],'connectionState':this[_0x193c53(0x5c7)][_0x193c53(0x2a5)],'iceConnectionState':this[_0x193c53(0x5c7)][_0x193c53(0x216)],'signalingState':this[_0x193c53(0x5c7)][_0x193c53(0x1e1)],'readyState':this[_0x193c53(0x6c5)]?.[_0x193c53(0x3a9)]||'','lastHeartbeat':this[_0x193c53(0x514)]?Date[_0x193c53(0x1aa)]()-this[_0x193c53(0x514)]:'','retryQueue':this[_0x193c53(0x747)]}}),(this['lastHeartbeat']&&Date['now']()-this[_0x193c53(0x514)]>0xea60)??0x1?this[_0x193c53(0x24e)][_0x193c53(0x76d)]({'sourceId':this[_0x193c53(0x68c)],'destinationIds':[this[_0x193c53(0x41b)]],'messageType':_0x3edd62[_0x193c53(0x4c2)],'content':{'type':_0x25f14a[_0x193c53(0x4f3)]}}):(this['resetConnection'](),this[_0x193c53(0x6dd)]({'type':_0x25f14a[_0x193c53(0x5a0)],'version':this['currentVersion'],'connectionType':this[_0x193c53(0x593)]}),this[_0x193c53(0x3fd)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0x3565d6(0x669)](){const _0xeabbaf=_0x3565d6;this[_0xeabbaf(0x638)]?.(),delete this[_0xeabbaf(0x638)];}[_0x3565d6(0x3c4)](){const _0x436af7=_0x3565d6;this[_0x436af7(0x579)]&&(clearTimeout(this[_0x436af7(0x579)]),delete this[_0x436af7(0x579)]);}[_0x3565d6(0x5b8)](){const _0x5ed946=_0x3565d6;this[_0x5ed946(0x3fd)]&&(clearTimeout(this[_0x5ed946(0x3fd)]),delete this['restartTimeout']);}[_0x3565d6(0x5f1)](){const _0x4c0f25=_0x3565d6;this[_0x4c0f25(0x4a5)]&&(clearTimeout(this[_0x4c0f25(0x4a5)]),delete this[_0x4c0f25(0x4a5)]);}[_0x3565d6(0x629)](){this['upgradeTimeout']=setTimeout(()=>{const _0x16f9f7=a0_0x2e59;this['applyRemediation']({'type':_0x561b46[_0x16f9f7(0x1af)],'action':_0x52e863[_0x16f9f7(0x293)]});},0x3a98);}['getResolutionScale'](_0x245257,_0x37f688){const _0x50b72c=_0x3565d6,_0x1ee6a7=Math[_0x50b72c(0x3af)](_0x245257['width']/_0x37f688[_0x50b72c(0x49e)],_0x245257['height']/_0x37f688['height']);return Math[_0x50b72c(0x5f6)](Math[_0x50b72c(0x3af)](_0x1ee6a7,0x1),0x4);}[_0x3565d6(0x21e)](){const _0x30d8d3=_0x3565d6;this[_0x30d8d3(0x72c)]?.(),delete this[_0x30d8d3(0x72c)];}[_0x3565d6(0x25a)](){const _0x308682=_0x3565d6;this[_0x308682(0x3b5)]&&(clearTimeout(this[_0x308682(0x3b5)]),delete this['oncloseTimeout']);}[_0x3565d6(0x51f)](_0x124a49){const _0xf91c56=_0x3565d6,_0x330c07=JSON[_0xf91c56(0x558)](_0x124a49);return new TextEncoder()[_0xf91c56(0x680)](_0x330c07)[_0xf91c56(0x335)];}[_0x3565d6(0x6c7)](_0x2bdc40,_0x533061){const _0x1a5b7e=_0x3565d6,_0x2206e4=this[_0x1a5b7e(0x51f)](_0x2bdc40),_0x5d34d2=new Uint8Array(0x4),_0x2c7bd5=new Uint8Array(_0x2206e4),_0x6a5897=new Uint8Array(_0x533061);_0x5d34d2[_0x1a5b7e(0x5bc)](new Uint8Array(new Uint32Array([_0x2c7bd5[_0x1a5b7e(0x49d)]])[_0x1a5b7e(0x335)]));const _0x2b530b=new Uint8Array(0x4+_0x2c7bd5['length']+_0x6a5897[_0x1a5b7e(0x49d)]);return _0x2b530b[_0x1a5b7e(0x5bc)](_0x5d34d2),_0x2b530b[_0x1a5b7e(0x5bc)](_0x2c7bd5,0x4),_0x2b530b['set'](_0x6a5897,0x4+_0x2c7bd5[_0x1a5b7e(0x49d)]),_0x2b530b[_0x1a5b7e(0x335)];}}class _0xa4366 extends _0x43fbd1{['isInitiator'];[_0x3565d6(0x4c8)];[_0x3565d6(0x593)];['maxFps'];[_0x3565d6(0x400)];[_0x3565d6(0x53e)];[_0x3565d6(0x51d)];[_0x3565d6(0x601)]=[];[_0x3565d6(0x607)]=_0x25e35b();['trackListeners']=_0x25e35b();['removeTrackListeners']=_0x25e35b();[_0x3565d6(0x446)]=[];[_0x3565d6(0x24e)];[_0x3565d6(0x3ee)]=new Map();[_0x3565d6(0x44a)]=new Map();[_0x3565d6(0x26d)]=new Map();[_0x3565d6(0x229)]=new Map();[_0x3565d6(0x39c)]=!0x1;constructor(_0x199663,_0x503a99,_0x587e6a,_0x53a1f5,_0x297b03,_0x3c40a7,_0x361a54,_0x48df41){const _0x4baa8f=_0x3565d6;super(_0x199663,_0x503a99,_0x587e6a),this['isInitiator']=_0x53a1f5,this[_0x4baa8f(0x4c8)]=_0x297b03,this['connectionType']=_0x3c40a7,this[_0x4baa8f(0x33e)]=_0x361a54,this[_0x4baa8f(0x400)]=_0x48df41;}['registerPublisher'](_0x4e92d1){const _0x5b8a1c=_0x3565d6;switch(_0x4e92d1[_0x5b8a1c(0x385)]()){case _0x19aef4['Data']:case _0x19aef4['PubSub']:case _0x19aef4[_0x5b8a1c(0x431)]:case _0x19aef4[_0x5b8a1c(0x2e9)]:this[_0x5b8a1c(0x3ee)][_0x5b8a1c(0x5bc)](_0x4e92d1[_0x5b8a1c(0x5be)](),_0x4e92d1);break;case _0x19aef4[_0x5b8a1c(0x2a4)]:this[_0x5b8a1c(0x26d)][_0x5b8a1c(0x5bc)](_0x4e92d1['getLabel'](),_0x4e92d1);}}['unregisterPublisher'](_0x168c51){const _0x5e5320=_0x3565d6;switch(_0x168c51[_0x5e5320(0x385)]()){case _0x19aef4[_0x5e5320(0x286)]:case _0x19aef4[_0x5e5320(0x2d5)]:case _0x19aef4[_0x5e5320(0x431)]:case _0x19aef4[_0x5e5320(0x2e9)]:this[_0x5e5320(0x3ee)][_0x5e5320(0x409)](_0x168c51[_0x5e5320(0x5be)]());break;case _0x19aef4[_0x5e5320(0x2a4)]:this['mediaTopics'][_0x5e5320(0x409)](_0x168c51[_0x5e5320(0x5be)]());}}[_0x3565d6(0x6bf)](_0x5f18ea){const _0x3cdd8e=_0x3565d6;switch(_0x5f18ea[_0x3cdd8e(0x385)]()){case _0x19aef4[_0x3cdd8e(0x286)]:case _0x19aef4['PubSub']:case _0x19aef4[_0x3cdd8e(0x431)]:case _0x19aef4[_0x3cdd8e(0x2e9)]:{const _0x218f0f=_0x5f18ea[_0x3cdd8e(0x61f)](_0x1cb7c3=>{const _0x567b05=_0x3cdd8e;_0x253ebf(_0x1cb7c3,this['localId'])&&_0x2fe98f(_0x1cb7c3,this[_0x567b05(0x68c)])&&this[_0x567b05(0x64c)](_0x1cb7c3);});this[_0x3cdd8e(0x44a)][_0x3cdd8e(0x5bc)](_0x5f18ea[_0x3cdd8e(0x5be)](),_0x218f0f);break;}case _0x19aef4[_0x3cdd8e(0x2a4)]:{const _0x2793e2=_0x5f18ea['subscribe'](({content:_0x5e473c})=>{const _0x14bae9=_0x3cdd8e;switch(_0x5e473c['action']){case _0x181e18[_0x14bae9(0x41a)]:this['addTrack'](_0x5e473c[_0x14bae9(0x66d)],_0x5e473c[_0x14bae9(0x24b)],_0x5e473c[_0x14bae9(0x766)],_0x5e473c[_0x14bae9(0x63c)]);break;case _0x181e18[_0x14bae9(0x252)]:this[_0x14bae9(0x3eb)](_0x5e473c[_0x14bae9(0x66d)],_0x5e473c[_0x14bae9(0x24b)]);break;case _0x181e18[_0x14bae9(0x6fe)]:_0x5e473c[_0x14bae9(0x766)]&&this[_0x14bae9(0x62a)](_0x5e473c['stream'],_0x5e473c[_0x14bae9(0x766)]),_0x5e473c[_0x14bae9(0x63c)]&&this[_0x14bae9(0x268)](_0x5e473c[_0x14bae9(0x24b)],_0x5e473c[_0x14bae9(0x63c)]);}});this[_0x3cdd8e(0x229)]['set'](_0x5f18ea['getLabel'](),_0x2793e2);break;}}}[_0x3565d6(0x5e2)](_0x16ac3d){const _0xbe07e4=_0x3565d6;switch(_0x16ac3d[_0xbe07e4(0x385)]()){case _0x19aef4[_0xbe07e4(0x286)]:case _0x19aef4['PubSub']:case _0x19aef4[_0xbe07e4(0x431)]:case _0x19aef4[_0xbe07e4(0x2e9)]:this[_0xbe07e4(0x44a)][_0xbe07e4(0x64f)](_0x16ac3d[_0xbe07e4(0x5be)]())?.(),this['dataUnsubscribers'][_0xbe07e4(0x409)](_0x16ac3d[_0xbe07e4(0x5be)]());break;case _0x19aef4[_0xbe07e4(0x2a4)]:this['mediaUnsubscribers']['get'](_0x16ac3d[_0xbe07e4(0x5be)]())?.(),this[_0xbe07e4(0x229)][_0xbe07e4(0x409)](_0x16ac3d[_0xbe07e4(0x5be)]());}}[_0x3565d6(0x68d)](){const _0x21090f=_0x3565d6;return[_0x19aef4['Data'],_0x19aef4[_0x21090f(0x2a4)],_0x19aef4[_0x21090f(0x2d5)],_0x19aef4[_0x21090f(0x431)],_0x19aef4['KeyValueDatabase']];}[_0x3565d6(0x586)](_0x4fe333){this['systemTopic']=_0x4fe333;}[_0x3565d6(0x44d)](){const _0x38d6a7=_0x3565d6;delete this[_0x38d6a7(0x24e)];}async[_0x3565d6(0x1c1)](){const _0x16646e=_0x3565d6;this[_0x16646e(0x438)](),await this[_0x16646e(0x27c)]();}[_0x3565d6(0x208)](){const _0x2a9865=_0x3565d6;this[_0x2a9865(0x446)]['forEach'](_0x4b424c=>_0x4b424c()),this[_0x2a9865(0x446)]=[],this['senderConnection']?.['unregisterSystemPublisher'](),this['senderConnection']?.[_0x2a9865(0x208)](),delete this[_0x2a9865(0x53e)],this[_0x2a9865(0x601)][_0x2a9865(0x1c3)](_0x5f1917=>_0x5f1917()),this[_0x2a9865(0x601)]=[],this[_0x2a9865(0x51d)]?.['unregisterSystemPublisher'](),this[_0x2a9865(0x51d)]?.[_0x2a9865(0x208)](),delete this['receiverConnection'];}['isConnected'](){const _0x290e50=_0x3565d6;return this['senderConnection']?.[_0x290e50(0x32f)]()&&this[_0x290e50(0x51d)]?.['isConnected']()||!0x1;}['send'](_0x4d17cb){const _0x375e86=_0x3565d6;if(!this[_0x375e86(0x53e)]||!this[_0x375e86(0x32f)]())throw new _0x1ca0c3(_0x1ca0c3[_0x375e86(0x69c)][_0x375e86(0x67b)],{'message':_0x375e86(0x50b),'senderConnected':this[_0x375e86(0x53e)]?.[_0x375e86(0x32f)](),'receiverConnected':this[_0x375e86(0x51d)]?.[_0x375e86(0x32f)](),'localId':this[_0x375e86(0x41b)],'remoteId':this[_0x375e86(0x68c)],'data':_0x4d17cb});this[_0x375e86(0x53e)][_0x375e86(0x64c)](_0x4d17cb);}[_0x3565d6(0x4dc)](_0x993c2f){const _0x5382ce=_0x3565d6;return this[_0x5382ce(0x607)][_0x5382ce(0x61f)](_0x993c2f);}[_0x3565d6(0x65d)](_0x508a53){const _0x327949=_0x3565d6;return this['trackListeners'][_0x327949(0x61f)](({track:_0x2a454e,stream:_0x4f6474})=>_0x508a53(_0x2a454e,_0x4f6474));}[_0x3565d6(0x693)](_0x24e611){const _0x4519f0=_0x3565d6;return this[_0x4519f0(0x305)]['subscribe'](({track:_0x23f7c7,stream:_0x4fe405})=>_0x24e611(_0x23f7c7,_0x4fe405));}[_0x3565d6(0x598)](_0x1e9864,_0x14fb75,_0x414896,_0x4db231){const _0x44e05f=_0x3565d6;this[_0x44e05f(0x53e)]?.[_0x44e05f(0x598)](_0x1e9864,_0x14fb75,_0x414896,_0x4db231);}[_0x3565d6(0x62a)](_0x15f28b,_0x253efb){const _0x301549=_0x3565d6;this[_0x301549(0x53e)]?.[_0x301549(0x62a)](_0x15f28b,_0x253efb);}['setParams'](_0x3027c4,_0x4cb55a){const _0x3489fc=_0x3565d6;this['senderConnection']?.[_0x3489fc(0x268)](_0x3027c4,_0x4cb55a);}[_0x3565d6(0x3eb)](_0x4bab27,_0x2c2670){const _0x271c41=_0x3565d6;this[_0x271c41(0x53e)]?.[_0x271c41(0x3eb)](_0x4bab27,_0x2c2670);}async[_0x3565d6(0x1cf)](_0x4fda88){const _0x19b3d3=_0x3565d6;_0x11c0d7[_0x19b3d3(0x71b)](_0x3e1340[_0x19b3d3(0x5bd)],_0x19b3d3(0x6d9),this[_0x19b3d3(0x41b)],_0x4fda88);const {content:_0xb2448e}=_0x4fda88;switch(_0xb2448e['type']){case _0x25f14a[_0x19b3d3(0x452)]:await this['handleOffer'](_0xb2448e);break;case _0x25f14a[_0x19b3d3(0x53a)]:await this[_0x19b3d3(0x392)](_0xb2448e);break;case _0x25f14a[_0x19b3d3(0x5c2)]:this[_0x19b3d3(0x1fc)]();break;case _0x25f14a[_0x19b3d3(0x4d7)]:await this[_0x19b3d3(0x1a5)](_0xb2448e);break;case _0x25f14a[_0x19b3d3(0x5a0)]:this[_0x19b3d3(0x4b6)](_0xb2448e);break;case _0x25f14a[_0x19b3d3(0x726)]:await this[_0x19b3d3(0x27c)]();}}[_0x3565d6(0x416)](_0x2bd3c0){const _0xa3bd92=_0x3565d6;this['senderConnection']?.[_0xa3bd92(0x63b)](_0x2bd3c0[_0xa3bd92(0x379)][_0xa3bd92(0x23a)]);}[_0x3565d6(0x59c)](){const _0x4f5be8=_0x3565d6;return this[_0x4f5be8(0x593)];}[_0x3565d6(0x2e8)](_0x27a6a0){const _0x2b9607=_0x3565d6;this['connectionType']=_0x27a6a0,this[_0x2b9607(0x53e)]?.[_0x2b9607(0x2e8)](_0x27a6a0),this[_0x2b9607(0x51d)]?.[_0x2b9607(0x2e8)](_0x27a6a0);}async[_0x3565d6(0x3a7)](){const _0x8f3a2c=_0x3565d6;await this[_0x8f3a2c(0x53e)]?.[_0x8f3a2c(0x3a7)](),await this[_0x8f3a2c(0x51d)]?.['collectStats']();}['setupListeners'](){const _0x43bcfe=_0x3565d6;this[_0x43bcfe(0x446)]['push'](this[_0x43bcfe(0x4dc)](_0x67ae4f=>{const _0x32d7be=_0x43bcfe;_0x2fe98f(_0x67ae4f,this[_0x32d7be(0x41b)])&&0x0!==_0x67ae4f[_0x32d7be(0x2d8)]&&this[_0x32d7be(0x3ee)][_0x32d7be(0x64f)](_0x67ae4f[_0x32d7be(0x2d8)])?.[_0x32d7be(0x76d)](_0x67ae4f);})),this[_0x43bcfe(0x446)][_0x43bcfe(0x495)](this[_0x43bcfe(0x65d)]((_0x1792bd,_0x44ed38)=>{const _0x316578=_0x43bcfe,_0x2085fb=_0x7cf9d1(_0x19aef4[_0x316578(0x2a4)],_0x44ed38['id'],this[_0x316578(0x68c)]);this[_0x316578(0x26d)][_0x316578(0x64f)](_0x2085fb)?.['publish']({'topicLabel':_0x2085fb,'sourceId':this['remoteId'],'contentType':_0x19aef4[_0x316578(0x2a4)],'content':{'action':_0x181e18[_0x316578(0x296)],'track':_0x1792bd,'stream':_0x44ed38,'providerId':this[_0x316578(0x68c)]}});})),this[_0x43bcfe(0x446)]['push'](this['onRemoveTrack']((_0x46c094,_0x20fb56)=>{const _0x4daabb=_0x43bcfe,_0x3b8f22=_0x7cf9d1(_0x19aef4[_0x4daabb(0x2a4)],_0x20fb56['id'],this['remoteId']);this[_0x4daabb(0x26d)][_0x4daabb(0x64f)](_0x3b8f22)?.['publish']({'topicLabel':_0x3b8f22,'sourceId':this[_0x4daabb(0x68c)],'contentType':_0x19aef4['Media'],'content':{'action':_0x181e18[_0x4daabb(0x359)],'track':_0x46c094,'stream':_0x20fb56,'providerId':this[_0x4daabb(0x68c)]}});}));}['handleIceCandidates']({candidates:_0x2708dd,origin:_0xfd2ea3,version:_0x4a1685}){const _0x5b3086=_0x3565d6;return _0xfd2ea3===_0x58b611[_0x5b3086(0x427)]?(this[_0x5b3086(0x51d)]||this[_0x5b3086(0x767)](),this[_0x5b3086(0x51d)][_0x5b3086(0x1a5)](_0x2708dd,_0x4a1685)):this[_0x5b3086(0x53e)]['handleIceCandidates'](_0x2708dd,_0x4a1685);}async[_0x3565d6(0x27c)](){const _0x46099c=_0x3565d6;this[_0x46099c(0x53e)]||this['createSenderConnection'](),await this['senderConnection'][_0x46099c(0x27c)]();}async['handleOffer']({offer:_0x295c63,version:_0x4a2bd2,connectionType:_0x5ed782}){const _0x2b446a=_0x3565d6;this[_0x2b446a(0x51d)]||this[_0x2b446a(0x767)](),await this[_0x2b446a(0x51d)][_0x2b446a(0x6b6)](_0x295c63,_0x4a2bd2);}async[_0x3565d6(0x392)]({answer:_0x53ef9d,version:_0x1586a1}){const _0x1e47ba=_0x3565d6;if(!this[_0x1e47ba(0x53e)])throw new _0x1ca0c3(_0x1ca0c3[_0x1e47ba(0x69c)][_0x1e47ba(0x67b)],{'message':'Sender\x20connection\x20is\x20not\x20initialized.','localId':this[_0x1e47ba(0x41b)],'remoteId':this[_0x1e47ba(0x68c)],'answer':_0x53ef9d});await this['senderConnection'][_0x1e47ba(0x392)](_0x53ef9d,_0x1586a1);}[_0x3565d6(0x1fc)](){const _0x48b1e7=_0x3565d6;if(!this[_0x48b1e7(0x51d)])throw new _0x1ca0c3(_0x1ca0c3[_0x48b1e7(0x69c)]['ConnectionNotinitialized'],{'message':_0x48b1e7(0x364),'localId':this[_0x48b1e7(0x41b)],'remoteId':this[_0x48b1e7(0x68c)]});this[_0x48b1e7(0x51d)][_0x48b1e7(0x1fc)](),this[_0x48b1e7(0x39c)]||this['connectionType']!==_0x1f8db5['Optimization']||(this['successNotified']=!0x0,this[_0x48b1e7(0x24e)]?.['publish']({'sourceId':this['remoteId'],'destinationIds':[this[_0x48b1e7(0x41b)]],'messageType':_0x3edd62[_0x48b1e7(0x4c2)],'content':{'type':_0x25f14a[_0x48b1e7(0x6dc)]}}));}[_0x3565d6(0x4b6)](_0x4154b3){const _0x3f4582=_0x3565d6;this['receiverConnection']||this[_0x3f4582(0x767)](),this[_0x3f4582(0x51d)][_0x3f4582(0x4b6)](_0x4154b3[_0x3f4582(0x499)]);}[_0x3565d6(0x704)](){const _0x36d2f7=_0x3565d6;this[_0x36d2f7(0x53e)]=new _0x4d0b10(this[_0x36d2f7(0x390)],this[_0x36d2f7(0x41b)],this[_0x36d2f7(0x68c)],this[_0x36d2f7(0x4c8)],this[_0x36d2f7(0x593)],this[_0x36d2f7(0x33e)],this[_0x36d2f7(0x400)]),this[_0x36d2f7(0x53e)][_0x36d2f7(0x586)](this['systemTopic']);}[_0x3565d6(0x767)](){const _0x525361=_0x3565d6;this[_0x525361(0x51d)]=new _0x444459(this['clusterId'],this[_0x525361(0x41b)],this[_0x525361(0x68c)],this[_0x525361(0x4c8)],this[_0x525361(0x593)]),this[_0x525361(0x51d)][_0x525361(0x586)](this[_0x525361(0x24e)]),this[_0x525361(0x601)][_0x525361(0x495)](this[_0x525361(0x51d)][_0x525361(0x4dc)](_0x191cea=>this[_0x525361(0x607)][_0x525361(0x76d)](_0x191cea))),this['receiverUnsubscribers'][_0x525361(0x495)](this[_0x525361(0x51d)][_0x525361(0x65d)]((_0x5e8f36,_0x3a95dd)=>this['trackListeners'][_0x525361(0x76d)]({'track':_0x5e8f36,'stream':_0x3a95dd}))),this[_0x525361(0x601)][_0x525361(0x495)](this[_0x525361(0x51d)][_0x525361(0x693)]((_0x8d0499,_0x19f335)=>this[_0x525361(0x305)][_0x525361(0x76d)]({'track':_0x8d0499,'stream':_0x19f335})));}}class _0x314e9b{['localId'];[_0x3565d6(0x3a3)];[_0x3565d6(0x1db)];['connections']=new Map();['messageListeners']=_0x25e35b();['messageUnsubscriber'];[_0x3565d6(0x3ee)]=new Map();[_0x3565d6(0x44a)]=new Map();[_0x3565d6(0x23c)]=new Map();constructor(_0x57487e,_0x4c4788,_0x15e0cc){const _0x54aab4=_0x3565d6;this[_0x54aab4(0x41b)]=_0x57487e,this[_0x54aab4(0x3a3)]=_0x4c4788,this[_0x54aab4(0x1db)]=_0x15e0cc,this[_0x54aab4(0x235)]=this[_0x54aab4(0x4dc)](_0x4232e2=>{const _0x578dfd=_0x54aab4;this['messageBuffer'][_0x578dfd(0x1d7)](_0x4232e2[_0x578dfd(0x731)])||(_0x2fe98f(_0x4232e2,this[_0x578dfd(0x41b)])&&0x0!==_0x4232e2[_0x578dfd(0x2d8)]&&(this[_0x578dfd(0x3a3)]['addMessage'](_0x4232e2[_0x578dfd(0x731)]),this[_0x578dfd(0x3ee)]['get'](_0x4232e2[_0x578dfd(0x2d8)])?.[_0x578dfd(0x76d)](_0x4232e2)),_0x4232e2[_0x578dfd(0x1de)]&&this[_0x578dfd(0x64c)](_0x4232e2));});}[_0x3565d6(0x208)](){const _0x472b93=_0x3565d6;this[_0x472b93(0x235)]?.();}[_0x3565d6(0x60f)](_0x524f4b){const _0x56fe6d=_0x3565d6,_0x4ccb23=_0x524f4b[_0x56fe6d(0x4dc)](_0x3b520b=>{this['messageListeners']['publish'](_0x3b520b);});this[_0x56fe6d(0x546)][_0x56fe6d(0x5bc)](_0x524f4b,_0x4ccb23),this[_0x56fe6d(0x23c)][_0x56fe6d(0x5bc)](_0x524f4b[_0x56fe6d(0x304)](),function(_0xe792b2,_0xf61836=!0x1){let _0x271d68=new Map();const _0x2eeef1=_0x5b052d(_0xe792b2,_0xf61836,function(_0x114a24){const _0x4ba1f7=a0_0x2e59;_0x2b7296(_0x114a24)&&_0x271d68[_0x4ba1f7(0x409)](_0x114a24['sourceId']+'-'+(_0x114a24[_0x4ba1f7(0x55f)]??[])+'-'+_0x114a24['messageType']+'-'+_0x114a24[_0x4ba1f7(0x379)][_0x4ba1f7(0x2be)]);},function(_0x3ef5ff){return!!function(_0x38293d){const _0x2b9a8b=a0_0x2e59,_0x3ce9b1=_0x38293d[_0x2b9a8b(0x2aa)];if(!_0x2b7296(_0x3ce9b1))return!0x1;const _0x4a4b0b=_0x3ce9b1[_0x2b9a8b(0x3be)]+'-'+(_0x3ce9b1[_0x2b9a8b(0x55f)]??[])+'-'+_0x3ce9b1['messageType']+'-'+_0x3ce9b1['content'][_0x2b9a8b(0x2be)],_0x54829d={'version':_0x3ce9b1['content']['version'],'element':_0x38293d},_0x3e18e5=_0x271d68[_0x2b9a8b(0x64f)](_0x4a4b0b);return _0x3e18e5?(_0x3e18e5[_0x2b9a8b(0x499)]>=_0x3ce9b1['content'][_0x2b9a8b(0x499)]||(_0x3e18e5[_0x2b9a8b(0x2a0)][_0x2b9a8b(0x4f9)]&&(_0x3e18e5[_0x2b9a8b(0x2a0)]['previous']['next']=_0x38293d,_0x38293d['previous']=_0x3e18e5[_0x2b9a8b(0x2a0)][_0x2b9a8b(0x4f9)]),_0x3e18e5['element'][_0x2b9a8b(0x484)]&&(_0x3e18e5['element'][_0x2b9a8b(0x484)]['previous']=_0x38293d,_0x38293d['next']=_0x3e18e5['element'][_0x2b9a8b(0x484)]),_0x3e18e5['element']===_0x2eeef1['head']&&(_0x2eeef1['head']=_0x38293d),_0x3e18e5[_0x2b9a8b(0x2a0)]===_0x2eeef1[_0x2b9a8b(0x43c)]&&(_0x2eeef1[_0x2b9a8b(0x43c)]=_0x38293d),_0x271d68[_0x2b9a8b(0x5bc)](_0x4a4b0b,_0x54829d)),!0x0):(_0x271d68[_0x2b9a8b(0x5bc)](_0x4a4b0b,_0x54829d),!0x1);}(_0x3ef5ff);},function(){const _0x5da671=a0_0x2e59;_0x271d68[_0x5da671(0x376)]();});function _0x2b7296(_0x4e51c1){const _0x38f309=a0_0x2e59;if(_0x4e51c1&&'object'==typeof _0x4e51c1&&_0x4e51c1[_0x38f309(0x3f1)](_0x38f309(0x379))&&_0x4e51c1[_0x38f309(0x3f1)](_0x38f309(0x6fd))&&_0x4e51c1[_0x38f309(0x3f1)](_0x38f309(0x3be))){const _0x1c8062=_0x4e51c1;if(_0x1c8062[_0x38f309(0x379)]&&'object'==typeof _0x1c8062[_0x38f309(0x379)]&&_0x1c8062['content'][_0x38f309(0x3f1)](_0x38f309(0x499))&&_0x1c8062[_0x38f309(0x379)][_0x38f309(0x3f1)](_0x38f309(0x2be)))return!0x0;}return!0x1;}return _0x2eeef1;}(new _0x10c240(_0x243283=>_0x524f4b[_0x56fe6d(0x64c)](_0x243283),()=>_0x42f599[_0x56fe6d(0x287)](0x64))));}['removeConnection'](_0x36492d){const _0x241df7=_0x3565d6;this[_0x241df7(0x546)][_0x241df7(0x64f)](_0x36492d)?.(),this[_0x241df7(0x546)][_0x241df7(0x409)](_0x36492d),this['retryQueues'][_0x241df7(0x64f)](_0x36492d[_0x241df7(0x304)]())?.['clear'](),this['retryQueues'][_0x241df7(0x409)](_0x36492d[_0x241df7(0x304)]());}['isConnected'](_0x2a250b){const _0x3ceb83=_0x3565d6;return _0x11c0d7[_0x3ceb83(0x71b)](_0x3e1340[_0x3ceb83(0x275)],_0x3ceb83(0x614),this['localId'],this[_0x3ceb83(0x546)][_0x3ceb83(0x4c6)]()),0x0!==this[_0x3ceb83(0x546)][_0x3ceb83(0x31b)]&&(Array[_0x3ceb83(0x25d)](this[_0x3ceb83(0x546)][_0x3ceb83(0x4c6)]())['find'](_0x194588=>_0x194588[_0x3ceb83(0x304)]()===_0x2a250b)?.[_0x3ceb83(0x32f)]()??!0x1);}[_0x3565d6(0x3a8)](_0x38f31a){const _0x14ff54=_0x3565d6;this[_0x14ff54(0x3ee)][_0x14ff54(0x5bc)](_0x38f31a[_0x14ff54(0x5be)](),_0x38f31a);}[_0x3565d6(0x738)](_0x341681){const _0x5da08d=_0x3565d6;this[_0x5da08d(0x3ee)]['delete'](_0x341681['getLabel']());}['registerSubscriber'](_0x3e8fcf){const _0x396d9a=_0x3565d6,_0xcfd763=_0x3e8fcf[_0x396d9a(0x61f)](this['send']['bind'](this));this['dataUnsubscribers'][_0x396d9a(0x5bc)](_0x3e8fcf[_0x396d9a(0x5be)](),_0xcfd763);}[_0x3565d6(0x5e2)](_0x226817){const _0x327411=_0x3565d6;this[_0x327411(0x44a)][_0x327411(0x64f)](_0x226817[_0x327411(0x5be)]())?.(),this['dataUnsubscribers'][_0x327411(0x409)](_0x226817[_0x327411(0x5be)]());}[_0x3565d6(0x68d)](){const _0x4ffbdf=_0x3565d6;return[_0x19aef4['Data'],_0x19aef4[_0x4ffbdf(0x2d5)],_0x19aef4[_0x4ffbdf(0x431)],_0x19aef4[_0x4ffbdf(0x2e9)]];}[_0x3565d6(0x64c)](_0x35adeb){const _0xebc9bf=_0x3565d6;if(!0x1===_0x35adeb[_0xebc9bf(0x2c7)]){if(_0x35adeb[_0xebc9bf(0x1de)]||!_0x35adeb['destinationIds']||0x1!==_0x35adeb[_0xebc9bf(0x55f)][_0xebc9bf(0x49d)])throw new _0x1ca0c3(_0x1ca0c3[_0xebc9bf(0x69c)][_0xebc9bf(0x2df)],{'message':_0xebc9bf(0x539),'localId':this['localId']});if(!this[_0xebc9bf(0x32f)](_0x35adeb[_0xebc9bf(0x55f)][0x0]))throw new _0x59eabb('Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false');}const _0x961bb4=_0x35adeb[_0xebc9bf(0x4e8)]??[];try{const {filteredDestinationIds:_0x5406d2,extendedRecipients:_0x4059a9}=this[_0xebc9bf(0x4f1)](_0x35adeb,_0x961bb4);_0x35adeb['destinationIds']=_0x5406d2,_0x35adeb[_0xebc9bf(0x4e8)]=_0x4059a9;}catch(_0x425874){if(_0x425874 instanceof _0x59eabb)return void _0x11c0d7[_0xebc9bf(0x71b)](_0x3e1340[_0xebc9bf(0x5bd)],_0xebc9bf(0x2b5),_0xebc9bf(0x2ec),_0x35adeb,_0x425874[_0xebc9bf(0x2ea)]);}const _0x5da0cb=this['shouldContinuePropagation'](_0x35adeb);this[_0xebc9bf(0x743)](_0x35adeb,_0x5da0cb),_0x35adeb['propagate']=_0x5da0cb;const _0x23e772=this[_0xebc9bf(0x582)](_0x35adeb,_0x961bb4);for(const _0x37126b of _0x23e772){const _0x5ebe3c=this[_0xebc9bf(0x23c)][_0xebc9bf(0x64f)](_0x37126b[_0xebc9bf(0x304)]());if(!_0x5ebe3c)throw new _0x1ca0c3(_0x1ca0c3[_0xebc9bf(0x69c)]['ConnectionNoRetryQueue'],{'message':_0xebc9bf(0x1e8),'localId':this[_0xebc9bf(0x41b)],'remoteId':_0x37126b[_0xebc9bf(0x304)](),'data':_0x35adeb});_0x5ebe3c['push'](_0x35adeb);}}['getRemoteId'](){return'';}['getLocalId'](){const _0x14ef9a=_0x3565d6;return this[_0x14ef9a(0x41b)];}[_0x3565d6(0x4dc)](_0x3567ad){const _0x36a9e5=_0x3565d6;return this['messageListeners'][_0x36a9e5(0x61f)](_0x3567ad);}[_0x3565d6(0x4f1)](_0xfa2141,_0x2f4d51){const _0x5331c6=_0x3565d6,_0x418399={'filteredDestinationIds':_0xfa2141[_0x5331c6(0x55f)],'extendedRecipients':_0xfa2141[_0x5331c6(0x4e8)]};if(!_0xfa2141[_0x5331c6(0x1de)])return _0x418399;const _0x392700=Array[_0x5331c6(0x25d)](this['connections']['keys']())[_0x5331c6(0x2de)](_0x1cc056=>_0x1cc056[_0x5331c6(0x59c)]()===_0x1f8db5['Core']||_0x1cc056['isConnected']())[_0x5331c6(0x311)](_0x30d1d8=>_0x30d1d8['getRemoteId']());if(_0x392700[_0x5331c6(0x2bc)]((_0x293b94,_0x353203)=>_0x293b94&&_0xfa2141[_0x5331c6(0x4e8)][_0x5331c6(0x741)](_0x353203),!0x0))throw new _0x59eabb('All\x20recipients\x20already\x20received');if(_0xfa2141[_0x5331c6(0x55f)]){const _0x50581f=_0xfa2141['destinationIds'][_0x5331c6(0x2de)](_0x1cd59e=>_0x1cd59e!==this[_0x5331c6(0x41b)]&&!_0xfa2141['recipients'][_0x5331c6(0x741)](_0x1cd59e));if(0x0===_0x50581f[_0x5331c6(0x49d)])throw new _0x59eabb(_0x5331c6(0x348));_0x418399[_0x5331c6(0x2db)]=_0x50581f;}return _0x418399[_0x5331c6(0x1e4)]=[...new Set([..._0x2f4d51,..._0x392700,this['localId']])],_0x418399;}[_0x3565d6(0x743)](_0x3930f2,_0x1ca9ee=!0x1){const _0xebe7bc=_0x3565d6;if(0x0===_0x3930f2[_0xebe7bc(0x2d8)]&&!_0x253ebf(_0x3930f2,this[_0xebe7bc(0x41b)])&&_0x3930f2['propagate']){const _0x4cc2c5=_0x34f224(_0x3930f2,this[_0xebe7bc(0x41b)]);_0x11c0d7['logRaw'](_0x3e1340[_0xebe7bc(0x1e5)],_0x3930f2[_0xebe7bc(0x731)]+_0xebe7bc(0x4a4)+_0x1ca9ee+')\x20'+_0x4cc2c5,_0x3930f2,_0x1ca9ee);}}[_0x3565d6(0x53b)](_0x72f280){const _0x12f667=_0x3565d6;if(_0x72f280['destinationIds']&&_0x72f280[_0x12f667(0x1de)]){const _0x4793da=Array[_0x12f667(0x25d)](this[_0x12f667(0x546)]['keys']())[_0x12f667(0x2de)](_0x46db66=>_0x46db66[_0x12f667(0x59c)]()===_0x1f8db5[_0x12f667(0x597)]||_0x46db66[_0x12f667(0x32f)]())['map'](_0x363114=>_0x363114['getRemoteId']());return!_0x72f280['destinationIds'][_0x12f667(0x2bc)]((_0x4440e0,_0x125e75)=>_0x4440e0&&_0x4793da[_0x12f667(0x741)](_0x125e75),!0x0);}return _0x72f280[_0x12f667(0x1de)]??!0x1;}['getConnectionDestinations'](_0x3a76a7,_0x2ba6b8){const _0x3ecfff=_0x3565d6;if(_0x3a76a7[_0x3ecfff(0x1de)]&&_0x3a76a7[_0x3ecfff(0x55f)]){const _0x357a35=Array[_0x3ecfff(0x25d)](this['connections'][_0x3ecfff(0x4c6)]())[_0x3ecfff(0x2de)](_0x278210=>_0x278210[_0x3ecfff(0x59c)]()===_0x1f8db5[_0x3ecfff(0x597)]||_0x278210['isConnected']())[_0x3ecfff(0x311)](_0x33a6ae=>_0x33a6ae[_0x3ecfff(0x304)]()),_0x3d892e=new Set(),_0x3323eb=_0x3a76a7[_0x3ecfff(0x3be)]===this[_0x3ecfff(0x41b)]?0x3:0x1;return _0x3a76a7['destinationIds'][_0x3ecfff(0x1c3)](_0xefb305=>{const _0xf30a62=_0x3ecfff,_0x98363c=this[_0xf30a62(0x1db)][_0xf30a62(0x3ce)](_0x357a35,_0xefb305);let _0x218eaf=0x0,_0x21dc02=0x0;_0x98363c[_0xf30a62(0x1c3)](_0x410474=>{const _0x57a5d0=_0xf30a62;if(_0x218eaf>=_0x3323eb)return;const _0x1b40fa=Array[_0x57a5d0(0x25d)](this['connections'][_0x57a5d0(0x4c6)]())[_0x57a5d0(0x664)](_0x3f6df9=>_0x3f6df9['getRemoteId']()===_0x410474);if(_0x1b40fa){if(_0x1b40fa[_0x57a5d0(0x59c)]()===_0x1f8db5['Core']&&_0x21dc02>0x0)return void(_0x21dc02-=0x1);_0x3d892e['add'](_0x1b40fa),_0x1b40fa[_0x57a5d0(0x59c)]()===_0x1f8db5[_0x57a5d0(0x1f6)]&&(_0x21dc02+=0x1),_0x218eaf+=0x1;}});}),Array[_0x3ecfff(0x25d)](_0x3d892e);}return Array[_0x3ecfff(0x25d)](this[_0x3ecfff(0x546)]['keys']())[_0x3ecfff(0x2de)](_0x45965f=>{const _0x160d66=_0x3ecfff;return _0x3a0185=_0x45965f['getRemoteId'](),!_0x2ba6b8['includes'](_0x3a0185)&&(_0x2fe98f(_0x3a76a7,_0x3a0185)||_0x3a76a7[_0x160d66(0x1de)])&&(!_0x3a76a7[_0x160d66(0x1de)]||_0x45965f[_0x160d66(0x32f)]()||_0x45965f[_0x160d66(0x59c)]()===_0x1f8db5['Core']);var _0x3a0185;});}}class _0x3dd667{[_0x3565d6(0x41b)];[_0x3565d6(0x3a3)];[_0x3565d6(0x546)]=new Map();['systemTopic'];constructor(_0x332a79,_0x170cd0){const _0x5d22ae=_0x3565d6;this[_0x5d22ae(0x41b)]=_0x332a79,this[_0x5d22ae(0x3a3)]=_0x170cd0;}[_0x3565d6(0x208)](){}[_0x3565d6(0x64c)](_0x42f1f2){const _0x53f8ab=_0x3565d6;for(const _0x2549a3 of this['connections'][_0x53f8ab(0x4c6)]())try{return void _0x2549a3[_0x53f8ab(0x64c)]({'retry':!0x1,..._0x42f1f2});}catch(_0x3fcfde){_0x3fcfde instanceof _0x59eabb||_0x11c0d7['log'](_0x3e1340['Pool'],_0x53f8ab(0x226)+_0x2549a3,_0x3fcfde,_0x42f1f2);}_0x11c0d7[_0x53f8ab(0x71b)](_0x3e1340[_0x53f8ab(0x550)],_0x53f8ab(0x55d));}[_0x3565d6(0x60f)](_0xaa6c0){const _0x5c82e9=_0x3565d6,_0x24773e=_0xaa6c0[_0x5c82e9(0x4dc)](_0x70b24e=>{const _0x51cdc9=_0x5c82e9;this['messageBuffer'][_0x51cdc9(0x1d7)](_0x70b24e[_0x51cdc9(0x731)])||0x0===_0x70b24e[_0x51cdc9(0x2d8)]&&(this[_0x51cdc9(0x3a3)][_0x51cdc9(0x4f5)](_0x70b24e[_0x51cdc9(0x731)]),_0x2fe98f(_0x70b24e,this[_0x51cdc9(0x41b)])&&this[_0x51cdc9(0x24e)]?.['publish'](_0x70b24e));});this[_0x5c82e9(0x546)]['set'](_0xaa6c0,_0x24773e);}[_0x3565d6(0x449)](_0x860994){const _0xdfd461=_0x3565d6;this[_0xdfd461(0x546)][_0xdfd461(0x64f)](_0x860994)?.(),this[_0xdfd461(0x546)][_0xdfd461(0x409)](_0x860994);}[_0x3565d6(0x434)](){const _0x54744d=_0x3565d6;return this[_0x54744d(0x41b)];}[_0x3565d6(0x304)](){return'';}[_0x3565d6(0x68d)](){const _0x5df1d0=_0x3565d6;return[_0x19aef4[_0x5df1d0(0x286)]];}[_0x3565d6(0x32f)](){const _0x577844=_0x3565d6;throw new Error(_0x577844(0x6b8));}[_0x3565d6(0x586)](_0x1fb9a4){const _0x4c8957=_0x3565d6;this[_0x4c8957(0x24e)]=_0x1fb9a4;}[_0x3565d6(0x44d)](){const _0x122460=_0x3565d6;delete this[_0x122460(0x24e)];}}class _0x2f2358{[_0x3565d6(0x335)]=new Map();[_0x3565d6(0x54e)];constructor(){const _0x5735a9=_0x3565d6;this[_0x5735a9(0x54e)]=_0x42f599[_0x5735a9(0x341)](()=>{const _0x187217=_0x5735a9;for(const [_0x161ade,_0x5da401]of this['buffer'][_0x187217(0x20a)]())Date[_0x187217(0x1aa)]()-_0x5da401>0x124f80&&this['buffer'][_0x187217(0x409)](_0x161ade);},0x1d4c0);}['close'](){const _0x511f64=_0x3565d6;this[_0x511f64(0x54e)]();}[_0x3565d6(0x4f5)](_0x5667d8){const _0x4170e3=_0x3565d6;this[_0x4170e3(0x335)]['set'](_0x5667d8,Date['now']());}[_0x3565d6(0x1d7)](_0x24c4a4){const _0x36561b=_0x3565d6;return this['buffer'][_0x36561b(0x645)](_0x24c4a4);}}class _0x514274{[_0x3565d6(0x45a)];['authService'];['iceServers'];[_0x3565d6(0x33e)];[_0x3565d6(0x400)];[_0x3565d6(0x546)]=new Map();['connectionPool'];[_0x3565d6(0x2f4)];[_0x3565d6(0x4cb)];[_0x3565d6(0x3a3)];constructor(_0x330ece,_0x51c9d3,_0x482d80,_0x3f1548,_0x55282f,_0x1d3cd7){const _0x23445a=_0x3565d6;this[_0x23445a(0x45a)]=_0x330ece,this[_0x23445a(0x481)]=_0x51c9d3,this[_0x23445a(0x4c8)]=_0x482d80,this[_0x23445a(0x33e)]=_0x3f1548,this[_0x23445a(0x400)]=_0x55282f,this[_0x23445a(0x3a3)]=new _0x2f2358(),this[_0x23445a(0x2f4)]=new _0x314e9b(this[_0x23445a(0x45a)]['localId'],this[_0x23445a(0x3a3)],_0x1d3cd7),this[_0x23445a(0x4cb)]=new _0x1c12a4(this[_0x23445a(0x45a)][_0x23445a(0x740)],this[_0x23445a(0x45a)]['clusterId'],this[_0x23445a(0x45a)][_0x23445a(0x41b)],_0x23445a(0x58b),this[_0x23445a(0x481)]),this[_0x23445a(0x477)]=new _0x3dd667(this['configs'][_0x23445a(0x41b)],this[_0x23445a(0x3a3)]),this[_0x23445a(0x477)][_0x23445a(0x60f)](this[_0x23445a(0x2f4)]),this['connectionPool'][_0x23445a(0x60f)](this[_0x23445a(0x4cb)]),this['configs'][_0x23445a(0x4a1)]['registerSystemSource'](this[_0x23445a(0x477)]);}['close'](){const _0x2b6978=_0x3565d6;this['messageBuffer']['close'](),this[_0x2b6978(0x546)][_0x2b6978(0x1c3)]((_0x41e8c4,_0x1173bb)=>this[_0x2b6978(0x399)](_0x1173bb)),this[_0x2b6978(0x45a)][_0x2b6978(0x4a1)][_0x2b6978(0x35f)](this[_0x2b6978(0x477)]),this[_0x2b6978(0x477)][_0x2b6978(0x449)](this[_0x2b6978(0x4cb)]),this[_0x2b6978(0x477)][_0x2b6978(0x449)](this[_0x2b6978(0x2f4)]),this[_0x2b6978(0x477)][_0x2b6978(0x208)](),this['signalingServer'][_0x2b6978(0x208)](),this['connectionGroup'][_0x2b6978(0x208)]();}async[_0x3565d6(0x549)](){const _0x3414eb=_0x3565d6;await this[_0x3414eb(0x4cb)]['connect']();}async[_0x3565d6(0x728)](_0x3ae3db,_0x221a81,_0x48d16e=_0x1f8db5[_0x3565d6(0x597)]){const _0x483f6f=_0x3565d6;if(this[_0x483f6f(0x546)]['has'](_0x3ae3db)){if(this[_0x483f6f(0x546)][_0x483f6f(0x64f)](_0x3ae3db)?.[_0x483f6f(0x59c)]()===_0x1f8db5[_0x483f6f(0x1f6)]&&_0x48d16e===_0x1f8db5[_0x483f6f(0x597)])return void this[_0x483f6f(0x546)][_0x483f6f(0x64f)](_0x3ae3db)?.[_0x483f6f(0x2e8)](_0x1f8db5['Core']);throw new _0x1ca0c3(_0x1ca0c3[_0x483f6f(0x69c)][_0x483f6f(0x212)],{'localId':this['configs'][_0x483f6f(0x41b)],'remoteId':_0x3ae3db});}const _0x4f6aeb=new _0xa4366(this[_0x483f6f(0x45a)][_0x483f6f(0x390)],this[_0x483f6f(0x45a)]['localId'],_0x3ae3db,_0x221a81,this[_0x483f6f(0x4c8)],_0x48d16e,this[_0x483f6f(0x33e)],this[_0x483f6f(0x400)]);this[_0x483f6f(0x546)][_0x483f6f(0x5bc)](_0x3ae3db,_0x4f6aeb),this[_0x483f6f(0x2f4)][_0x483f6f(0x60f)](_0x4f6aeb),this[_0x483f6f(0x45a)]['mediator'][_0x483f6f(0x678)](_0x4f6aeb),this[_0x483f6f(0x45a)][_0x483f6f(0x4a1)][_0x483f6f(0x1cc)](_0x3ae3db),await _0x4f6aeb[_0x483f6f(0x1c1)]();}[_0x3565d6(0x4bd)](){const _0x2943c9=_0x3565d6;return this[_0x2943c9(0x2f4)];}['getConnection'](_0x193799){const _0x5d44ce=_0x3565d6;if(!this[_0x5d44ce(0x546)][_0x5d44ce(0x645)](_0x193799))throw new _0x1ca0c3(_0x1ca0c3[_0x5d44ce(0x69c)]['MissingRemoteConnection'],{'localId':this[_0x5d44ce(0x45a)]['localId'],'remoteId':_0x193799});return this['connections'][_0x5d44ce(0x64f)](_0x193799);}['getConnections'](_0x1edcea){const _0x12d80e=_0x3565d6,_0x40bf57=Array[_0x12d80e(0x25d)](this[_0x12d80e(0x546)][_0x12d80e(0x3cb)]());return _0x1edcea?_0x40bf57[_0x12d80e(0x2de)](_0x1edcea):_0x40bf57;}async[_0x3565d6(0x3a7)](_0x592991){const _0x26ebaf=_0x3565d6,_0x4f7be5=this[_0x26ebaf(0x546)][_0x26ebaf(0x64f)](_0x592991);_0x4f7be5&&_0x4f7be5['isConnected']()&&await _0x4f7be5[_0x26ebaf(0x3a7)]();}['handleOutgoingSystemEvents'](_0x51487f){const _0x297744=_0x3565d6;if(_0x51487f[_0x297744(0x6fd)]!==_0x3edd62[_0x297744(0x4c2)]||_0x51487f[_0x297744(0x1de)])try{this[_0x297744(0x2f4)]['send'](_0x51487f);}catch(_0x3341b5){if(_0x3341b5 instanceof _0x59eabb)return;throw _0x3341b5;}else this[_0x297744(0x477)][_0x297744(0x64c)](_0x51487f);}async[_0x3565d6(0x1cf)](_0x5a4f24){const _0x239583=_0x3565d6;switch(_0x5a4f24[_0x239583(0x379)][_0x239583(0x2be)]){case _0x25f14a['Disconnect']:case _0x25f14a[_0x239583(0x2a9)]:case _0x25f14a['OptimizationConnectionSuccess']:return;}if(!_0x5a4f24['destinationIds']||0x1!==_0x5a4f24[_0x239583(0x55f)][_0x239583(0x49d)])throw new _0x1ca0c3(_0x1ca0c3[_0x239583(0x69c)][_0x239583(0x445)],{'message':_0x239583(0x418),'event':_0x5a4f24});if(_0x5a4f24['destinationIds'][0x0]!==this[_0x239583(0x45a)][_0x239583(0x41b)])throw new _0x1ca0c3(_0x1ca0c3[_0x239583(0x69c)][_0x239583(0x445)],{'message':_0x239583(0x38e),'event':_0x5a4f24});if(!this[_0x239583(0x546)][_0x239583(0x645)](_0x5a4f24[_0x239583(0x3be)])){let _0x26637c=_0x1f8db5[_0x239583(0x597)];if(!(this['isOffer'](_0x5a4f24[_0x239583(0x379)])||this[_0x239583(0x52c)](_0x5a4f24[_0x239583(0x379)])||this['isNeedRestart'](_0x5a4f24[_0x239583(0x379)])))return;_0x26637c=_0x5a4f24['content'][_0x239583(0x593)],await this['createConnection'](_0x5a4f24[_0x239583(0x3be)],!0x1,_0x26637c);}const _0xab904a=this[_0x239583(0x546)][_0x239583(0x64f)](_0x5a4f24[_0x239583(0x3be)]);await _0xab904a[_0x239583(0x1cf)](_0x5a4f24);}[_0x3565d6(0x416)](_0x122f38){const _0x399a44=_0x3565d6;if(_0x122f38['content']['type']===_0x561b46[_0x399a44(0x1af)]){if(_0x122f38[_0x399a44(0x379)]['targetId']===this[_0x399a44(0x45a)]['localId'])return void this[_0x399a44(0x546)][_0x399a44(0x1c3)](_0x151f2e=>_0x151f2e[_0x399a44(0x416)](_0x122f38));this['connections'][_0x399a44(0x64f)](_0x122f38[_0x399a44(0x379)][_0x399a44(0x6f2)])?.['handleRemediationSystemEvents'](_0x122f38);}}[_0x3565d6(0x5af)]({content:_0x58c3c1}){const _0x464beb=_0x3565d6;_0x58c3c1[_0x464beb(0x2be)]===_0x99b96d[_0x464beb(0x559)]&&this['closeConnection'](_0x58c3c1['id']);}[_0x3565d6(0x399)](_0x17552f){const _0x46bcee=_0x3565d6,_0x388e15=this[_0x46bcee(0x546)][_0x46bcee(0x64f)](_0x17552f);_0x388e15&&(this[_0x46bcee(0x45a)][_0x46bcee(0x4a1)][_0x46bcee(0x3c8)](_0x17552f),this['configs']['mediator'][_0x46bcee(0x35f)](_0x388e15),_0x388e15 instanceof _0xa4366&&this['connectionGroup'][_0x46bcee(0x449)](_0x388e15),_0x388e15[_0x46bcee(0x208)](),this['connections'][_0x46bcee(0x409)](_0x17552f));}[_0x3565d6(0x524)](_0x143e59){const _0x41f054=_0x3565d6;return _0x143e59[_0x41f054(0x2be)]===_0x25f14a[_0x41f054(0x452)];}[_0x3565d6(0x634)](_0x3040e7){const _0x4763c9=_0x3565d6;return _0x3040e7[_0x4763c9(0x2be)]===_0x25f14a[_0x4763c9(0x5a0)];}['isIceCandidate'](_0x3ac265){const _0x3ee176=_0x3565d6;return _0x3ac265[_0x3ee176(0x2be)]===_0x25f14a[_0x3ee176(0x4d7)];}}!function(_0x1b9057){const _0x3b6a6b=_0x3565d6;_0x1b9057[_0x1b9057['PublishMediaStream']=0x0]='PublishMediaStream',_0x1b9057[_0x1b9057['UnpublishMediaStream']=0x1]=_0x3b6a6b(0x568),_0x1b9057[_0x1b9057[_0x3b6a6b(0x4ad)]=0x2]=_0x3b6a6b(0x4ad),_0x1b9057[_0x1b9057[_0x3b6a6b(0x3ad)]=0x3]=_0x3b6a6b(0x3ad),_0x1b9057[_0x1b9057[_0x3b6a6b(0x1ad)]=0x4]=_0x3b6a6b(0x1ad),_0x1b9057[_0x1b9057[_0x3b6a6b(0x737)]=0x5]=_0x3b6a6b(0x737),_0x1b9057[_0x1b9057['CloseKeyValueDatabase']=0x6]=_0x3b6a6b(0x367),_0x1b9057[_0x1b9057[_0x3b6a6b(0x417)]=0x7]=_0x3b6a6b(0x417),_0x1b9057[_0x1b9057[_0x3b6a6b(0x73a)]=0x8]='CloseMediaStream',_0x1b9057[_0x1b9057[_0x3b6a6b(0x71f)]=0x9]='LocalMediaStreamTrackFail',_0x1b9057[_0x1b9057[_0x3b6a6b(0x494)]=0xa]=_0x3b6a6b(0x494),_0x1b9057[_0x1b9057['RequestSyncKeyValueDatabase']=0xb]=_0x3b6a6b(0x232),_0x1b9057[_0x1b9057['SendTransactionsDump']=0xc]=_0x3b6a6b(0x625),_0x1b9057[_0x1b9057[_0x3b6a6b(0x1b4)]=0xd]=_0x3b6a6b(0x1b4),_0x1b9057[_0x1b9057[_0x3b6a6b(0x724)]=0xe]=_0x3b6a6b(0x724),_0x1b9057[_0x1b9057[_0x3b6a6b(0x2ef)]=0xf]='ObjectStoreStats',_0x1b9057[_0x1b9057['KeyValueDatabaseStats']=0x10]=_0x3b6a6b(0x637);}(_0x101bc1||(_0x101bc1={})),function(_0x399e72){const _0x3c05fa=_0x3565d6;_0x399e72[_0x399e72['SubscribeMediaStream']=0x0]='SubscribeMediaStream',_0x399e72[_0x399e72[_0x3c05fa(0x3ad)]=0x1]='UpdateMediaStream',_0x399e72[_0x399e72['UnsubscribeMediaStream']=0x2]=_0x3c05fa(0x1ad),_0x399e72[_0x399e72['NeedMediaStream']=0x3]='NeedMediaStream',_0x399e72[_0x399e72[_0x3c05fa(0x46f)]=0x4]=_0x3c05fa(0x46f),_0x399e72[_0x399e72['CanProvideMediaStream']=0x5]=_0x3c05fa(0x433),_0x399e72[_0x399e72[_0x3c05fa(0x613)]=0x6]=_0x3c05fa(0x613),_0x399e72[_0x399e72[_0x3c05fa(0x1fe)]=0x7]=_0x3c05fa(0x1fe);}(_0x3fecff||(_0x3fecff={})),function(_0x498d63){const _0x39d9da=_0x3565d6;_0x498d63[_0x39d9da(0x742)]=_0x39d9da(0x642),_0x498d63[_0x39d9da(0x2a6)]=_0x39d9da(0x1d8),_0x498d63[_0x39d9da(0x729)]=_0x39d9da(0x409),_0x498d63['Move']=_0x39d9da(0x70e),_0x498d63['RequestFile']=_0x39d9da(0x5ef),_0x498d63[_0x39d9da(0x4b4)]=_0x39d9da(0x262),_0x498d63[_0x39d9da(0x34c)]='request-file-sync',_0x498d63[_0x39d9da(0x6d5)]='request-file-write';}(_0x27356d||(_0x27356d={})),function(_0x27be97){const _0x1be4d9=_0x3565d6;_0x27be97['Request']='request',_0x27be97[_0x1be4d9(0x58e)]=_0x1be4d9(0x4ce);}(_0x42c06d||(_0x42c06d={})),function(_0x22e3fe){const _0x2a2f9f=_0x3565d6;_0x22e3fe[_0x2a2f9f(0x41a)]=_0x2a2f9f(0x6b4),_0x22e3fe['Update']='update',_0x22e3fe[_0x2a2f9f(0x729)]=_0x2a2f9f(0x409);}(_0x4343b8||(_0x4343b8={})),function(_0x13a8e1){const _0x306ca3=_0x3565d6;_0x13a8e1[_0x306ca3(0x207)]='get',_0x13a8e1[_0x306ca3(0x5ab)]='list',_0x13a8e1[_0x306ca3(0x765)]=_0x306ca3(0x271);}(_0x2f450a||(_0x2f450a={}));class _0x5e64ec{[_0x3565d6(0x6f9)];[_0x3565d6(0x343)];[_0x3565d6(0x24e)];constructor(_0xf6b854,_0xa9b2c0){const _0x41e191=_0x3565d6;this['ownerId']=_0xf6b854,this[_0x41e191(0x343)]=_0xa9b2c0;}[_0x3565d6(0x5be)](){return this['label'];}[_0x3565d6(0x6c8)](){return this['ownerId'];}[_0x3565d6(0x6b1)](){}[_0x3565d6(0x586)](_0x287916){const _0x31f690=_0x3565d6;this[_0x31f690(0x24e)]=_0x287916;}[_0x3565d6(0x44d)](){delete this['systemTopic'];}}function _0x26b608(_0x6933f0){const _0xa09222=_0x3565d6;return _0x6933f0[_0xa09222(0x3bb)]('/')['filter'](_0x34437b=>_0x34437b['length']>0x0);}function _0x487f18(_0x25bfa0,_0x3eb2a3){return'/'===_0x25bfa0?_0x25bfa0+_0x3eb2a3:_0x25bfa0+'/'+_0x3eb2a3;}function _0xb1f6db(_0x59e496){const _0x19142b=_0x3565d6,_0x3c2c61=_0x26b608(_0x59e496),_0x1f79e0=_0x3c2c61[_0x19142b(0x228)]()||'',_0x330736=_0x3c2c61[_0x19142b(0x2c0)]('/');return[0x0===_0x330736[_0x19142b(0x49d)]?'/':_0x330736,_0x1f79e0];}async function _0x16f934(_0x52c40d){const _0x3e4910=_0x3565d6,_0x13c566=await _0x52c40d[_0x3e4910(0x246)](),_0xbe15a7=new Uint8Array(_0x13c566);let _0x47f9a0=0x0;for(const _0x41c7e5 of _0xbe15a7)_0x47f9a0+=_0x41c7e5;return _0x47f9a0[_0x3e4910(0x323)]();}function _0x3e6aa2(_0x7aaeed){return new Promise((_0x55d807,_0x477bce)=>{!function(_0x221ca1,_0x27146,_0x3ded3e){let _0x175970=0x0;const _0xb91c22=[],_0x3edd23=()=>{const _0x4da89e=a0_0x2e59;let _0x4aae6b=_0x175970+0x3f800;_0x4aae6b>_0x221ca1['size']&&(_0x4aae6b=_0x221ca1[_0x4da89e(0x31b)]);let _0xd6890a=_0x221ca1[_0x4da89e(0x382)](_0x175970,_0x4aae6b),_0x3623e1=new FileReader();_0x3623e1[_0x4da89e(0x383)]=_0x49e730=>{const _0x5d6d74=_0x4da89e;_0xb91c22[_0x5d6d74(0x495)](_0x3623e1[_0x5d6d74(0x3e5)]),_0x175970=_0x4aae6b,_0x175970<_0x221ca1[_0x5d6d74(0x31b)]?_0x3edd23():_0x27146(_0xb91c22);},_0x3623e1['onerror']=_0x544883=>{_0x3ded3e(_0x544883);},_0x3623e1[_0x4da89e(0x566)](_0xd6890a);};_0x3edd23();}(_0x7aaeed,_0x55d807,_0x477bce);});}function _0x5eb67b(_0x40b9da,_0x5e4cbe,_0x316d76){return new File(_0x40b9da,_0x5e4cbe,{'type':_0x316d76});}class _0x3a759f extends _0x5e64ec{[_0x3565d6(0x4c3)];[_0x3565d6(0x251)];[_0x3565d6(0x4ae)]=new Map();['messagesSent']=0x0;[_0x3565d6(0x32c)]=0x0;[_0x3565d6(0x33b)]=0x0;[_0x3565d6(0x48f)]=0x0;constructor(_0x1a6e1a,_0x36fd84){super(_0x1a6e1a,_0x36fd84);}[_0x3565d6(0x385)](){return _0x19aef4['Data'];}[_0x3565d6(0x2dc)](){const _0x356465=_0x3565d6;return this[_0x356465(0x343)];}[_0x3565d6(0x3a8)](_0x229e29){const _0x142b71=_0x3565d6;if(this[_0x142b71(0x4c3)])throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x142b71(0x443)],{'message':_0x142b71(0x4be)+this[_0x142b71(0x6f9)]+_0x142b71(0x58a)+this[_0x142b71(0x343)],'topic':this[_0x142b71(0x4c3)]});this[_0x142b71(0x4c3)]=_0x229e29;}[_0x3565d6(0x6bf)](_0x345712){const _0x236d1f=_0x3565d6;if(this['incomingTopic'])throw new _0x1ca0c3(_0x1ca0c3[_0x236d1f(0x69c)][_0x236d1f(0x5d1)],{'message':_0x236d1f(0x289)+this[_0x236d1f(0x6f9)]+'\x20-\x20'+this[_0x236d1f(0x343)],'topic':this['incomingTopic']});this[_0x236d1f(0x251)]=_0x345712;}[_0x3565d6(0x738)](){delete this['outgoingTopic'];}[_0x3565d6(0x5e2)](){const _0x25d1b8=_0x3565d6;delete this[_0x25d1b8(0x251)];}async[_0x3565d6(0x64c)](_0x1d1e85,_0x1e8194){const _0x55ceaa=_0x3565d6;if(this[_0x55ceaa(0x2fd)]+=0x1,_0x1d1e85 instanceof File){const _0x4eecec=await _0x3e6aa2(_0x1d1e85);return this[_0x55ceaa(0x33b)]+=_0x4eecec['reduce']((_0xcb00c7,_0x3f4f78)=>_0xcb00c7+_0x3f4f78[_0x55ceaa(0x66a)],0x0),void _0x4eecec[_0x55ceaa(0x1c3)]((_0x39344a,_0x409b27)=>{const _0x466cf2=_0x55ceaa;this['outgoingTopic'][_0x466cf2(0x76d)]({'sourceId':this[_0x466cf2(0x6f9)],'destinationIds':_0x1e8194,'propagate':!0x0,'contentType':_0x19aef4['File'],'content':{'name':_0x1d1e85[_0x466cf2(0x685)],'type':_0x1d1e85[_0x466cf2(0x2be)],'data':_0x39344a,'index':_0x409b27,'total':_0x4eecec[_0x466cf2(0x49d)]}});});}this[_0x55ceaa(0x33b)]+=JSON[_0x55ceaa(0x558)](_0x1d1e85)[_0x55ceaa(0x49d)],this[_0x55ceaa(0x4c3)][_0x55ceaa(0x76d)]({'sourceId':this['ownerId'],'destinationIds':_0x1e8194,'propagate':!0x0,'contentType':_0x19aef4[_0x55ceaa(0x286)],'content':_0x1d1e85});}[_0x3565d6(0x4dc)](_0x16f2d4){const _0x3f9775=_0x3565d6;return this[_0x3f9775(0x251)][_0x3f9775(0x61f)](_0x285ed1=>{const _0x57188f=_0x3f9775;switch(_0x285ed1[_0x57188f(0x652)]){case _0x19aef4[_0x57188f(0x286)]:this[_0x57188f(0x32c)]+=0x1,this[_0x57188f(0x48f)]+=JSON[_0x57188f(0x558)](_0x285ed1[_0x57188f(0x379)])[_0x57188f(0x49d)],_0x16f2d4(_0x285ed1[_0x57188f(0x3be)],_0x285ed1[_0x57188f(0x379)]);break;case _0x19aef4['File']:this[_0x57188f(0x4ae)][_0x57188f(0x645)](_0x285ed1[_0x57188f(0x379)]['name'])||this[_0x57188f(0x4ae)][_0x57188f(0x5bc)](_0x285ed1[_0x57188f(0x379)]['name'],[]);const _0x51d1da=this[_0x57188f(0x4ae)]['get'](_0x285ed1[_0x57188f(0x379)][_0x57188f(0x685)]);_0x51d1da[_0x285ed1[_0x57188f(0x379)]['index']]=_0x285ed1['content'][_0x57188f(0x23a)],_0x51d1da[_0x57188f(0x49d)]===_0x285ed1[_0x57188f(0x379)]['total']&&(this[_0x57188f(0x32c)]+=0x1,this[_0x57188f(0x48f)]+=_0x51d1da['reduce']((_0x2322d5,_0x41651b)=>_0x2322d5+_0x41651b[_0x57188f(0x66a)],0x0),_0x16f2d4(_0x285ed1['sourceId'],_0x5eb67b(_0x51d1da,_0x285ed1[_0x57188f(0x379)][_0x57188f(0x685)],_0x285ed1[_0x57188f(0x379)][_0x57188f(0x2be)])),this['fileChunks'][_0x57188f(0x409)](_0x285ed1[_0x57188f(0x379)][_0x57188f(0x685)]));}});}}class _0x4bd4d5{[_0x3565d6(0x390)];[_0x3565d6(0x740)];[_0x3565d6(0x343)];[_0x3565d6(0x1c7)];[_0x3565d6(0x53f)];constructor(_0x1a56cb,_0x8308cb,_0x28186d){const _0x412f8c=_0x3565d6;this[_0x412f8c(0x390)]=_0x1a56cb,this['vendorId']=_0x8308cb,this['label']=_0x28186d,this[_0x412f8c(0x53f)]=_0x412f8c(0x522)+this['vendorId']+_0x412f8c(0x522)+this[_0x412f8c(0x390)]+_0x412f8c(0x522)+this[_0x412f8c(0x343)];}async[_0x3565d6(0x64f)](_0x41a34a){const _0x598ae5=_0x3565d6,[_0x111670,_0xe19a5e]=await this['getLastDirectoryHandle'](_0x41a34a);for await(const _0x248d88 of _0x111670['values']())if(_0x248d88['name']===_0xe19a5e||_0x248d88[_0x598ae5(0x685)]===_0xe19a5e+_0x4443fb){if(_0x248d88[_0x598ae5(0x711)]===_0x43872a[_0x598ae5(0x502)])throw new _0x27552e(_0x338970[_0x598ae5(0x48e)],_0x598ae5(0x471)+_0x41a34a);{if(_0x248d88[_0x598ae5(0x685)]['endsWith'](_0x4443fb)){for(;;)try{const _0x523ef8=await _0x111670['getFileHandle'](_0xe19a5e);return await _0x523ef8[_0x598ae5(0x3c1)]();}catch(_0x104339){await _0x42f599[_0x598ae5(0x287)](0x64);}}const _0x17138c=await _0x111670[_0x598ae5(0x663)](_0xe19a5e);return await _0x17138c[_0x598ae5(0x3c1)]();}}throw new _0x27552e(_0x338970[_0x598ae5(0x48e)],_0x598ae5(0x471)+_0x41a34a);}async['list'](_0x39d1d7,_0x4b1c33=!0x1,_0x1e8e71=!0x1){const _0xbd696d=_0x3565d6;try{const _0x2ab89f=[],[_0x596afc,_0x6e7e18,_0x36ca51]=await this[_0xbd696d(0x5ea)](_0x39d1d7),_0xb8f7fc='/'===_0x39d1d7?_0x596afc:await _0x596afc[_0xbd696d(0x674)](_0x6e7e18);for await(const _0x39ab86 of _0xb8f7fc[_0xbd696d(0x3cb)]()){const _0x188b77='/'+(_0x36ca51[_0xbd696d(0x49d)]>0x0?_0x36ca51[_0xbd696d(0x2c0)]('/'):''),_0xb22551=_0x188b77[_0xbd696d(0x49d)]>0x1?_0x188b77+'/'+_0x39ab86[_0xbd696d(0x685)]:'/'+_0x39ab86['name'];if(_0x39ab86[_0xbd696d(0x711)]===_0x43872a['Folder'])_0x2ab89f[_0xbd696d(0x495)]({'kind':_0x43872a[_0xbd696d(0x502)],'name':_0x39ab86[_0xbd696d(0x685)],'path':_0x188b77,'pathName':_0xb22551,'entries':_0x4b1c33?await this[_0xbd696d(0x299)](_0xb22551,_0x4b1c33,_0x1e8e71):[]});else{if(_0x39ab86[_0xbd696d(0x685)]===_0x16c70d||!_0x1e8e71&&_0x39ab86[_0xbd696d(0x685)]['endsWith'](_0x4443fb))continue;const _0x2f7044=await _0xb8f7fc[_0xbd696d(0x663)](_0x39ab86['name']),_0x543cf9=await _0x2f7044[_0xbd696d(0x3c1)]();_0x2ab89f['push']({'kind':_0x43872a['File'],'name':_0x39ab86[_0xbd696d(0x685)],'type':_0x543cf9[_0xbd696d(0x2be)],'size':_0x543cf9[_0xbd696d(0x31b)],'path':_0x188b77,'pathName':_0xb22551});}}return _0x2ab89f;}catch(_0x27c93a){if(_0x27c93a instanceof _0x27552e)throw _0x27c93a;throw new _0x27552e(_0x338970[_0xbd696d(0x48e)],_0xbd696d(0x54f)+_0x39d1d7);}}async[_0x3565d6(0x684)](_0x43d7ad){const _0x627189=_0x3565d6;try{let _0x3d6d41=await this[_0x627189(0x3de)]();if(_0x43d7ad){const _0x4d965e=_0x26b608(_0x43d7ad);for(const _0x57550f of _0x4d965e)_0x3d6d41=await _0x3d6d41[_0x627189(0x674)](_0x57550f,{'create':!0x0});}return _0x3d6d41;}catch(_0x12352e){throw new _0x27552e(_0x338970[_0x627189(0x48e)],_0x627189(0x2e0)+_0x43d7ad);}}async[_0x3565d6(0x3de)](){const _0x4e2bb2=_0x3565d6;if(this[_0x4e2bb2(0x1c7)])return this[_0x4e2bb2(0x1c7)];const _0x4a6bb1=await navigator['storage']['getDirectory'](),_0x16a599=await _0x4a6bb1[_0x4e2bb2(0x674)](this[_0x4e2bb2(0x53f)],{'create':!0x0});return this[_0x4e2bb2(0x1c7)]=await _0x16a599['getDirectoryHandle'](this[_0x4e2bb2(0x343)],{'create':!0x0}),this[_0x4e2bb2(0x1c7)];}async['getLastDirectoryHandle'](_0xf2b52){const _0x3c21fa=_0x3565d6;try{let _0x2a7fa2=await this[_0x3c21fa(0x3de)]();if('/'===_0xf2b52)return[_0x2a7fa2,'',[]];const _0x1a4555=_0x26b608(_0xf2b52);for(const [_0x999835,_0x496f78]of _0x1a4555['entries']()){if(_0x999835===_0x1a4555[_0x3c21fa(0x49d)]-0x1)return[_0x2a7fa2,_0x496f78,_0x1a4555];_0x2a7fa2=await _0x2a7fa2[_0x3c21fa(0x674)](_0x496f78);}}catch(_0x46f3a8){throw new _0x27552e(_0x338970['ObjectStoreInvalidPath'],_0x3c21fa(0x2b7)+_0xf2b52);}throw new _0x27552e(_0x338970[_0x3c21fa(0x48e)],_0x3c21fa(0x2b7)+_0xf2b52);}async[_0x3565d6(0x42c)](_0x251534,_0x73c098){const _0xa7b82c=_0x3565d6;try{const _0x26865c=await this[_0xa7b82c(0x684)](_0x73c098),_0x40e094=await _0x26865c[_0xa7b82c(0x663)](_0x251534[_0xa7b82c(0x685)],{'create':!0x0}),_0x4e1133=await _0x40e094[_0xa7b82c(0x53d)]();await _0x4e1133['write'](_0x251534),await _0x4e1133[_0xa7b82c(0x208)]();}catch(_0x17331c){throw new _0x27552e(_0x338970[_0xa7b82c(0x48e)],_0xa7b82c(0x1c4)+_0x487f18(_0x73c098??'/',_0x251534['name']));}}async['deleteObject'](_0x184f50){const _0x7fb49d=_0x3565d6,[_0x13c805,_0x39003e]=await this[_0x7fb49d(0x5ea)](_0x184f50);for await(const _0x1f10f0 of _0x13c805[_0x7fb49d(0x3cb)]())if(_0x1f10f0[_0x7fb49d(0x685)]===_0x39003e)try{return _0x1f10f0[_0x7fb49d(0x711)]===_0x43872a[_0x7fb49d(0x502)]?(await _0x13c805[_0x7fb49d(0x453)](_0x39003e,{'recursive':!0x0}),_0x43872a['Folder']):(await _0x13c805[_0x7fb49d(0x453)](_0x39003e),_0x43872a[_0x7fb49d(0x75d)]);}catch(_0x4f2c59){throw new _0x27552e(_0x338970[_0x7fb49d(0x48e)],_0x7fb49d(0x70a)+_0x184f50);}if(!_0x184f50[_0x7fb49d(0x19a)](_0x4443fb))return this[_0x7fb49d(0x19e)](_0x184f50+_0x4443fb);throw new _0x27552e(_0x338970[_0x7fb49d(0x48e)],_0x7fb49d(0x70a)+_0x184f50);}async['moveObject'](_0x430b49,_0x3e0fb7){const _0x1f1ffa=_0x3565d6;try{const [_0x5c41b0,_0x1dc758]=await this[_0x1f1ffa(0x5ea)](_0x430b49);for await(const _0x30482a of _0x5c41b0[_0x1f1ffa(0x3cb)]())if(_0x30482a[_0x1f1ffa(0x685)]===_0x1dc758){if(_0x30482a[_0x1f1ffa(0x711)]===_0x43872a[_0x1f1ffa(0x502)])return await this['moveDirectory'](_0x5c41b0,_0x430b49,_0x3e0fb7),_0x43872a['Folder'];{const _0x1b7943=await _0x5c41b0[_0x1f1ffa(0x663)](_0x1dc758);return await this[_0x1f1ffa(0x72e)](_0x1b7943,_0x430b49,_0x3e0fb7),_0x43872a['File'];}}if(!_0x430b49[_0x1f1ffa(0x19a)](_0x4443fb))return await this['moveObject'](_0x430b49+_0x4443fb,_0x3e0fb7+_0x4443fb),_0x43872a['File'];throw _0x430b49=_0x430b49['endsWith'](_0x4443fb)?_0x430b49['replace'](_0x4443fb,''):_0x430b49,new _0x27552e(_0x338970[_0x1f1ffa(0x48e)],_0x1f1ffa(0x22e)+_0x430b49);}catch(_0x3ad194){if(_0x3ad194 instanceof _0x27552e)throw _0x3ad194;throw _0x430b49=_0x430b49['endsWith'](_0x4443fb)?_0x430b49[_0x1f1ffa(0x635)](_0x4443fb,''):_0x430b49,new _0x27552e(_0x338970['ObjectStoreInvalidPath'],_0x1f1ffa(0x2e7)+_0x430b49);}}async['calculateSize'](_0x32047c){const _0x5ca62c=_0x3565d6,_0x5c79b0=await this['list'](_0x32047c);let _0x33f301=0x0;for(const _0x224735 of _0x5c79b0)_0x224735[_0x5ca62c(0x711)]===_0x43872a[_0x5ca62c(0x75d)]?_0x33f301+=_0x224735[_0x5ca62c(0x31b)]:_0x33f301+=await this[_0x5ca62c(0x1bd)](_0x224735[_0x5ca62c(0x6bb)]);return _0x33f301;}async[_0x3565d6(0x72e)](_0x87559b,_0x2fb22e,_0x125b5f){const _0x43e4a5=_0x3565d6;try{const _0xcb7207=await _0x87559b[_0x43e4a5(0x3c1)](),_0x2dedb2=_0x125b5f[_0x43e4a5(0x3bb)]('/'),_0x21b760=_0x2dedb2[_0x43e4a5(0x382)](-0x1),_0x7daa65=_0x2dedb2[_0x43e4a5(0x382)](0x0,_0x2dedb2[_0x43e4a5(0x49d)]-0x1)[_0x43e4a5(0x2c0)]('/'),_0xa2cc9b=new File([_0xcb7207],_0x21b760[0x0],{'type':_0xcb7207[_0x43e4a5(0x2be)]});await this[_0x43e4a5(0x42c)](_0xa2cc9b,_0x7daa65),await this[_0x43e4a5(0x19e)](_0x2fb22e);}catch(_0x1fcc63){if(_0x1fcc63 instanceof _0x27552e)throw _0x1fcc63;throw new _0x27552e(_0x338970[_0x43e4a5(0x48e)],_0x43e4a5(0x633)+_0x2fb22e);}}async[_0x3565d6(0x1d1)](_0x5b3dc7,_0x3c8fac,_0x42bd84){const _0x29b90d=_0x3565d6;try{await this['getOrCreateDirectoryHandle'](_0x42bd84);const [_0x4f6a89,_0x30a193]=_0xb1f6db(_0x3c8fac),_0x4a91b5=await _0x5b3dc7[_0x29b90d(0x674)](_0x30a193);await this[_0x29b90d(0x35e)](_0x4a91b5,_0x3c8fac,_0x42bd84),await this['deleteObject'](_0x3c8fac);}catch(_0x3885a9){if(_0x3885a9 instanceof _0x27552e)throw _0x3885a9;throw new _0x27552e(_0x338970[_0x29b90d(0x48e)],_0x29b90d(0x536)+_0x3c8fac);}}async[_0x3565d6(0x35e)](_0x151081,_0x514a0a,_0x4a76dd){const _0x38cd4b=_0x3565d6,_0x51b3d2=await this[_0x38cd4b(0x299)](_0x514a0a,!0x1,!0x0);for(const _0xf7d8b0 of _0x51b3d2)if(_0xf7d8b0[_0x38cd4b(0x711)]===_0x43872a['Folder'])await this[_0x38cd4b(0x1d1)](_0x151081,_0xf7d8b0[_0x38cd4b(0x6bb)],_0x487f18(_0x4a76dd,_0xf7d8b0[_0x38cd4b(0x685)]));else{const _0x474b3e=await _0x151081[_0x38cd4b(0x663)](_0xf7d8b0['name']);await this[_0x38cd4b(0x72e)](_0x474b3e,_0xf7d8b0[_0x38cd4b(0x6bb)],_0x487f18(_0x4a76dd,_0xf7d8b0['name']));}}}class _0x28e048 extends _0x3a759f{[_0x3565d6(0x390)];[_0x3565d6(0x740)];[_0x3565d6(0x73b)];[_0x3565d6(0x54e)];[_0x3565d6(0x365)];[_0x3565d6(0x606)]=new Map();['objectRequests']=new Map();[_0x3565d6(0x4bc)]=new Map();['pendingFilesTransactions']=new Map();['pendingFilesRename']=new Map();[_0x3565d6(0x225)];['eventListener']=_0x3c88b1();[_0x3565d6(0x2c5)];[_0x3565d6(0x596)];[_0x3565d6(0x6bc)]=0x0;[_0x3565d6(0x6b0)]=0x0;constructor(_0x5ecc62,_0x3a868a,_0x120804,_0x3b953e,_0x408109){const _0x38e5b7=_0x3565d6;if(_0x38e5b7(0x5c6)!=typeof _0x3a868a)throw new _0x27552e(_0x338970['ObjectStoreLabelNotString'],_0x38e5b7(0x406));super(_0x5ecc62,_0x3a868a),this['clusterId']=_0x120804,this[_0x38e5b7(0x740)]=_0x3b953e,this[_0x38e5b7(0x73b)]=_0x408109,this[_0x38e5b7(0x225)]=new _0x4bd4d5(this[_0x38e5b7(0x390)],this[_0x38e5b7(0x740)],_0x3a868a);}['getContentType'](){return _0x19aef4['ObjectStore'];}async[_0x3565d6(0x5d7)](){const _0x483bd0=_0x3565d6,_0x41230a=await this[_0x483bd0(0x225)][_0x483bd0(0x684)]();try{const _0x2730c3=await _0x41230a[_0x483bd0(0x663)](_0x16c70d),_0x5933dc=await _0x2730c3[_0x483bd0(0x3c1)](),_0x215d3c=await _0x5933dc[_0x483bd0(0x3bc)]();this[_0x483bd0(0x365)]=_0x215d3c;}catch(_0x2e8668){}this[_0x483bd0(0x54e)]=this[_0x483bd0(0x4dc)](async(_0x48cc2f,_0x606da5)=>{const _0x1c860d=_0x483bd0;if(!(_0x606da5 instanceof File))try{if(_0x606da5[_0x1c860d(0x255)]===_0x42c06d['Request'])return void this[_0x1c860d(0x64a)](_0x606da5);this['handleTransactionPayload'](_0x606da5);}catch(_0x36d1c5){if(_0x36d1c5 instanceof _0x1ca0c3)throw _0x36d1c5;throw new _0x1ca0c3(_0x1ca0c3[_0x1c860d(0x69c)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x606da5});}}),await this['syncTransactions'](),await this[_0x483bd0(0x64b)](),this[_0x483bd0(0x40f)]();}[_0x3565d6(0x6b1)](){const _0x2a3a44=_0x3565d6;this[_0x2a3a44(0x54e)]?.(),clearTimeout(this[_0x2a3a44(0x596)]),delete this[_0x2a3a44(0x596)],super[_0x2a3a44(0x6b1)]();}[_0x3565d6(0x208)](){const _0x6a4d49=_0x3565d6;this['systemTopic']?.[_0x6a4d49(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x6a4d49(0x422)],'content':{'type':_0x101bc1[_0x6a4d49(0x737)],'label':this[_0x6a4d49(0x343)]}});}[_0x3565d6(0x61f)](_0x14200c){const _0x55032f=_0x3565d6;if(this[_0x55032f(0x2c5)])throw new _0x27552e(_0x338970['ObjectStoreAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this[_0x55032f(0x2c5)]=this[_0x55032f(0x699)]['subscribe'](_0x14200c);}['unsubscribe'](){const _0x1d79b9=_0x3565d6;this[_0x1d79b9(0x2c5)]&&this[_0x1d79b9(0x2c5)]();}[_0x3565d6(0x76d)](_0x42ee18){const _0x7fb4f5=_0x3565d6;switch(_0x42ee18[_0x7fb4f5(0x234)]){case _0x2b218c[_0x7fb4f5(0x75d)]:return this[_0x7fb4f5(0x708)](_0x42ee18[_0x7fb4f5(0x50a)],_0x42ee18['path']);case _0x2b218c[_0x7fb4f5(0x502)]:return this[_0x7fb4f5(0x714)](_0x42ee18['path']);case _0x2b218c[_0x7fb4f5(0x1f2)]:return this['publishMove'](_0x42ee18[_0x7fb4f5(0x1bf)],_0x42ee18[_0x7fb4f5(0x3b4)]);default:throw new _0x27552e(_0x338970[_0x7fb4f5(0x39b)],'Cannot\x20publish\x20payload:\x20'+_0x42ee18);}}async[_0x3565d6(0x5a8)](_0x417bf4){const _0x39116a=_0x3565d6;try{const _0x30c45e=(0x0,_0x43163e['v4'])(),_0x71667=this['lastTransactionId'],_0x47a8a4={'payloadType':_0x42c06d[_0x39116a(0x58e)],'action':_0x27356d[_0x39116a(0x729)],'id':_0x30c45e,'parentId':_0x71667,'path':_0x417bf4};await this[_0x39116a(0x503)](_0x47a8a4);const _0x26b1b4=await this[_0x39116a(0x19e)](_0x417bf4);await this[_0x39116a(0x64c)](_0x47a8a4),_0x11c0d7['logServiceEvent'](_0x59f8e7[_0x39116a(0x2f6)],{'type':_0x39116a(0x5a8),'label':this['label'],'userId':this[_0x39116a(0x6f9)],'kind':_0x26b1b4,'path':_0x417bf4}),this[_0x39116a(0x6bc)]+=0x1,this[_0x39116a(0x40f)]();}catch(_0x348e7d){throw new _0x27552e(_0x338970[_0x39116a(0x76b)],_0x39116a(0x6c2));}}async[_0x3565d6(0x64f)](_0xca6fef){const _0x499868=_0x3565d6;return _0x11c0d7[_0x499868(0x574)](_0x59f8e7[_0x499868(0x2f6)],{'type':_0x499868(0x64f),'label':this[_0x499868(0x343)],'userId':this['ownerId'],'path':_0xca6fef}),this[_0x499868(0x6b0)]+=0x1,this['sendStats'](),this[_0x499868(0x225)]['get'](_0xca6fef);}async[_0x3565d6(0x299)](_0x2ed5ce,_0x8a229d=!0x1,_0x427fae=!0x1){const _0x5953ec=_0x3565d6;return _0x11c0d7['logServiceEvent'](_0x59f8e7['ObjectStorage'],{'type':_0x5953ec(0x299),'label':this[_0x5953ec(0x343)],'userId':this[_0x5953ec(0x6f9)],'path':_0x2ed5ce}),this[_0x5953ec(0x6b0)]+=0x1,this['sendStats'](),this[_0x5953ec(0x225)]['list'](_0x2ed5ce,_0x8a229d,_0x427fae);}[_0x3565d6(0x34d)](_0x3bb74e){const _0x1ed8ec=_0x3565d6;for(const _0x4f5262 of this[_0x1ed8ec(0x74b)][_0x1ed8ec(0x3cb)]())this[_0x1ed8ec(0x64c)](_0x4f5262,[_0x3bb74e]);}[_0x3565d6(0x34f)](_0x336556){const _0x3d314c=_0x3565d6,_0x1e41ab=this[_0x3d314c(0x4bc)]['get'](_0x336556);if(_0x1e41ab){for(const [_0x351fba,_0x2e8a72]of _0x1e41ab['values']())this[_0x3d314c(0x426)](_0x351fba,_0x2e8a72);this[_0x3d314c(0x4bc)][_0x3d314c(0x409)](_0x336556);}}async[_0x3565d6(0x708)](_0x51229d,_0x3b693b){const _0x1b9e68=_0x3565d6;try{const _0x4f56b0=(0x0,_0x43163e['v4'])(),_0x5edff1=this[_0x1b9e68(0x365)],_0x53209b=await _0x16f934(_0x51229d);await this[_0x1b9e68(0x503)]({'payloadType':_0x42c06d[_0x1b9e68(0x58e)],'action':_0x27356d[_0x1b9e68(0x742)],'id':_0x4f56b0,'parentId':_0x5edff1,'answererId':this[_0x1b9e68(0x6f9)],'name':_0x51229d['name'],'type':_0x51229d[_0x1b9e68(0x2be)],'path':_0x3b693b??'/','checksum':_0x53209b}),await this[_0x1b9e68(0x42c)](_0x51229d,_0x3b693b),await this[_0x1b9e68(0x5f3)](_0x51229d,{'payloadType':_0x42c06d[_0x1b9e68(0x58e)],'action':_0x27356d[_0x1b9e68(0x742)],'id':_0x4f56b0,'parentId':_0x5edff1,'answererId':this['ownerId'],'name':_0x51229d[_0x1b9e68(0x685)],'type':_0x51229d[_0x1b9e68(0x2be)],'path':_0x3b693b??'/','checksum':_0x53209b}),_0x11c0d7[_0x1b9e68(0x574)](_0x59f8e7[_0x1b9e68(0x2f6)],{'type':_0x1b9e68(0x76d),'label':this[_0x1b9e68(0x343)],'userId':this[_0x1b9e68(0x6f9)],'kind':_0x43872a[_0x1b9e68(0x75d)],'path':_0x3b693b,'fileName':_0x51229d[_0x1b9e68(0x685)],'fileType':_0x51229d[_0x1b9e68(0x2be)],'size':_0x51229d[_0x1b9e68(0x31b)]}),this[_0x1b9e68(0x6bc)]+=0x1,this['sendStats']();}catch(_0x30dd0c){throw new _0x27552e(_0x338970['ObjectStoreNotInSync'],_0x1b9e68(0x6c2));}}async[_0x3565d6(0x714)](_0x367d6c){const _0x509a33=_0x3565d6;try{const _0x3b4bab=(0x0,_0x43163e['v4'])(),_0x583a8d=this[_0x509a33(0x365)],_0x1d0b24={'payloadType':_0x42c06d[_0x509a33(0x58e)],'action':_0x27356d['FolderCreate'],'id':_0x3b4bab,'parentId':_0x583a8d,'path':_0x367d6c};await this[_0x509a33(0x503)](_0x1d0b24),await this[_0x509a33(0x225)][_0x509a33(0x684)](_0x367d6c),await this[_0x509a33(0x64c)](_0x1d0b24),_0x11c0d7[_0x509a33(0x574)](_0x59f8e7[_0x509a33(0x2f6)],{'type':'publish','label':this[_0x509a33(0x343)],'userId':this[_0x509a33(0x6f9)],'kind':_0x43872a[_0x509a33(0x502)],'path':_0x367d6c}),this['writes']+=0x1,this[_0x509a33(0x40f)]();}catch(_0x550d39){throw new _0x27552e(_0x338970[_0x509a33(0x76b)],_0x509a33(0x6c2));}}async['publishMove'](_0x575418,_0x18bff0){const _0x39f553=_0x3565d6;try{const _0x483e69=(0x0,_0x43163e['v4'])(),_0x415e8d=this[_0x39f553(0x365)],_0xade817={'payloadType':_0x42c06d[_0x39f553(0x58e)],'action':_0x27356d[_0x39f553(0x1f2)],'id':_0x483e69,'parentId':_0x415e8d,'path':_0x575418,'newPath':_0x18bff0};await this[_0x39f553(0x503)](_0xade817);const _0x1380f8=await this['objectStoreConnector'][_0x39f553(0x4b9)](_0x575418,_0x18bff0);await this[_0x39f553(0x64c)](_0xade817),_0x11c0d7['logServiceEvent'](_0x59f8e7[_0x39f553(0x2f6)],{'type':_0x39f553(0x70e),'label':this[_0x39f553(0x343)],'userId':this['ownerId'],'kind':_0x1380f8,'path':_0x575418,'newPath':_0x18bff0}),this[_0x39f553(0x6bc)]+=0x1,this[_0x39f553(0x40f)]();}catch(_0x54ee6b){throw new _0x27552e(_0x338970[_0x39f553(0x76b)],'Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync');}}async['handleTransactionPayload'](_0x942f72){const _0x11370b=_0x3565d6;if(this[_0x11370b(0x365)]&&_0x942f72[_0x11370b(0x6a4)]!==this[_0x11370b(0x365)]&&_0x942f72['id']!==this['lastTransactionId']){if(!_0x942f72[_0x11370b(0x6a4)])throw new _0x1ca0c3(_0x1ca0c3[_0x11370b(0x69c)][_0x11370b(0x279)]);this[_0x11370b(0x606)]['set'](_0x942f72['parentId'],_0x942f72);}else{try{await this[_0x11370b(0x3ac)](_0x942f72);}catch(_0x263612){}await this[_0x11370b(0x59a)](_0x942f72['id']),await this[_0x11370b(0x1be)](_0x942f72['id']);}}async[_0x3565d6(0x3ac)](_0x51990f){const _0x14efe6=_0x3565d6;switch(_0x51990f[_0x14efe6(0x234)]){case _0x27356d[_0x14efe6(0x742)]:await this[_0x14efe6(0x5db)](_0x51990f);break;case _0x27356d['FolderCreate']:await this[_0x14efe6(0x3b7)](_0x51990f);break;case _0x27356d[_0x14efe6(0x1f2)]:await this[_0x14efe6(0x556)](_0x51990f);break;case _0x27356d[_0x14efe6(0x729)]:await this['handleObjectDelete'](_0x51990f);break;default:throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x14efe6(0x279)],{'payload':_0x51990f});}}async['processPendingSyncTransactions'](_0x45fd63){const _0xee0c6f=_0x3565d6;if(this[_0xee0c6f(0x606)][_0xee0c6f(0x645)](_0x45fd63)){const _0x1e2154=this['pendingSyncTransactions'][_0xee0c6f(0x64f)](_0x45fd63);this[_0xee0c6f(0x606)][_0xee0c6f(0x409)](_0x45fd63),await this[_0xee0c6f(0x3c7)](_0x1e2154);}}async[_0x3565d6(0x64a)](_0x48a727){const _0x3f3067=_0x3565d6;switch(_0x48a727['action']){case _0x27356d['RequestFile']:return this[_0x3f3067(0x21b)](_0x48a727);case _0x27356d[_0x3f3067(0x4b4)]:return this['handleFileRequestAnswer'](_0x48a727);case _0x27356d['RequestFileSync']:return this[_0x3f3067(0x590)](_0x48a727);case _0x27356d[_0x3f3067(0x6d5)]:return this[_0x3f3067(0x5db)](_0x48a727);default:throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x3f3067(0x279)],{'payload':_0x48a727});}}async[_0x3565d6(0x5db)](_0x3cbb6c){const _0x357521=_0x3565d6;if(!_0x3cbb6c['data']||void 0x0===_0x3cbb6c[_0x357521(0x493)]||!_0x3cbb6c[_0x357521(0x538)])return void await this['createPendingFileWrite'](_0x3cbb6c);const _0x2b570e=_0x487f18(_0x3cbb6c[_0x357521(0x1bf)],_0x3cbb6c[_0x357521(0x685)]);this[_0x357521(0x4ae)][_0x357521(0x645)](_0x2b570e)||(this['fileChunks'][_0x357521(0x5bc)](_0x2b570e,[]),await this[_0x357521(0x396)](_0x3cbb6c)),this[_0x357521(0x682)](_0x3cbb6c,_0x2b570e);const _0x1f14a0=this['fileChunks'][_0x357521(0x64f)](_0x2b570e);if(_0x1f14a0[_0x3cbb6c['index']]=_0x3cbb6c[_0x357521(0x23a)],_0x1f14a0[_0x357521(0x2de)](_0x2f64a8=>_0x2f64a8)[_0x357521(0x49d)]<_0x3cbb6c['total'])return;const _0x1aeea0=_0x5eb67b(_0x1f14a0,_0x3cbb6c[_0x357521(0x685)],_0x3cbb6c['type']);await this[_0x357521(0x42c)](_0x1aeea0,_0x3cbb6c['path']),await this[_0x357521(0x47d)](_0x3cbb6c),this['fileChunks'][_0x357521(0x409)](_0x2b570e),_0x11c0d7[_0x357521(0x574)](_0x59f8e7[_0x357521(0x2f6)],{'type':_0x357521(0x5d7),'label':this[_0x357521(0x343)],'userId':this[_0x357521(0x6f9)],'kind':_0x43872a[_0x357521(0x75d)],'path':_0x3cbb6c['path'],'fileName':_0x3cbb6c[_0x357521(0x685)],'fileType':_0x3cbb6c[_0x357521(0x2be)],'size':_0x1aeea0['size']});const _0x30f74c=this[_0x357521(0x746)][_0x357521(0x64f)](_0x3cbb6c[_0x357521(0x1bf)])??[];for(const _0x47f653 of _0x30f74c)await this[_0x357521(0x3ac)](_0x47f653);this['pendingFilesTransactions'][_0x357521(0x409)](_0x3cbb6c[_0x357521(0x1bf)]),this[_0x357521(0x699)][_0x357521(0x76d)]({'event':_0x47f90b[_0x357521(0x742)],'payload':{'file':{'kind':_0x43872a['File'],'path':_0x3cbb6c[_0x357521(0x1bf)],'type':_0x1aeea0[_0x357521(0x2be)],'size':_0x1aeea0[_0x357521(0x31b)],'name':_0x3cbb6c[_0x357521(0x685)],'pathName':_0x2b570e}}});}async[_0x3565d6(0x3b7)](_0x47840b){const _0x4e2fdf=_0x3565d6;await this[_0x4e2fdf(0x225)]['getOrCreateDirectoryHandle'](_0x47840b['path']);const [_0x5658f1,_0x14b13a]=_0xb1f6db(_0x47840b[_0x4e2fdf(0x1bf)]);this[_0x4e2fdf(0x699)][_0x4e2fdf(0x76d)]({'event':_0x47f90b[_0x4e2fdf(0x2a6)],'payload':{'folder':{'kind':_0x43872a[_0x4e2fdf(0x502)],'name':_0x14b13a,'path':_0x5658f1,'pathName':_0x47840b['path']}}});}async[_0x3565d6(0x1eb)](_0x465a2b){const _0x157f3e=_0x3565d6;if(!this['shouldProcessTransaction'](_0x465a2b))return;const _0x22e69a=await this['deleteObject'](_0x465a2b[_0x157f3e(0x1bf)]),[_0x3e7b51,_0x205915]=_0xb1f6db(_0x465a2b['path']);this[_0x157f3e(0x699)][_0x157f3e(0x76d)]({'event':_0x22e69a===_0x43872a[_0x157f3e(0x502)]?_0x47f90b[_0x157f3e(0x585)]:_0x47f90b['FileDelete'],'payload':{'name':_0x205915,'path':_0x3e7b51,'pathName':_0x465a2b['path']}});}async[_0x3565d6(0x556)](_0x714d1d){const _0x444588=_0x3565d6;if(!this[_0x444588(0x76a)](_0x714d1d))return this[_0x444588(0x5c3)][_0x444588(0x5bc)](_0x714d1d[_0x444588(0x3b4)],this['pendingFilesRename'][_0x444588(0x64f)](_0x714d1d[_0x444588(0x1bf)])??_0x714d1d[_0x444588(0x1bf)]),void this[_0x444588(0x5c3)][_0x444588(0x409)](_0x714d1d[_0x444588(0x1bf)]);this[_0x444588(0x5c3)]['delete'](_0x714d1d['path']);const _0x1253ec=await this['objectStoreConnector'][_0x444588(0x4b9)](_0x714d1d['path'],_0x714d1d[_0x444588(0x3b4)]),[_0x66c423,_0x45894d]=_0xb1f6db(_0x714d1d[_0x444588(0x1bf)]),[_0x408f6d,_0x203e94]=_0xb1f6db(_0x714d1d['newPath']);this['eventListener'][_0x444588(0x76d)]({'event':_0x1253ec===_0x43872a[_0x444588(0x502)]?_0x47f90b[_0x444588(0x748)]:_0x47f90b[_0x444588(0x366)],'payload':{'name':_0x203e94,'path':_0x408f6d,'pathName':_0x714d1d['newPath'],'oldName':_0x45894d,'oldPath':_0x66c423,'oldPathName':_0x714d1d[_0x444588(0x1bf)]}});}[_0x3565d6(0x76a)](_0x50cbc7){const _0x42d313=_0x3565d6,_0x25e481=this[_0x42d313(0x5c3)]['get'](_0x50cbc7[_0x42d313(0x1bf)])??_0x50cbc7[_0x42d313(0x1bf)];let _0x533f6b=!0x1;for(const _0x219025 of this['fileChunks']['keys']())if(_0x219025[_0x42d313(0x24d)](_0x25e481)){const _0x39a4ca=this[_0x42d313(0x746)][_0x42d313(0x64f)](_0x219025)??[];_0x39a4ca['push'](_0x50cbc7),this['pendingFilesTransactions'][_0x42d313(0x5bc)](_0x219025,_0x39a4ca),_0x533f6b=!0x0;}return!_0x533f6b;}async[_0x3565d6(0x503)](_0x46d44a){const _0x105346=_0x3565d6;if(!_0x46d44a['id'])throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x105346(0x279)],{'message':_0x105346(0x647)});await this[_0x105346(0x73b)]['writeTransaction'](_0x46d44a,this[_0x105346(0x343)],this[_0x105346(0x365)]),await this[_0x105346(0x59a)](_0x46d44a['id']);}async[_0x3565d6(0x59a)](_0x20dcdd){const _0x14288d=_0x3565d6;this[_0x14288d(0x365)]=_0x20dcdd;const _0x473e95=new File([new Blob([this[_0x14288d(0x365)]])],_0x16c70d,{'type':'text/plain'});await this['writeFile'](_0x473e95,'/');}async[_0x3565d6(0x21b)](_0x271a40){const _0x2af807=_0x3565d6;try{const _0x32a1a2=await this[_0x2af807(0x64f)](_0x271a40[_0x2af807(0x1bf)]+'/'+_0x271a40['name']);if(await _0x16f934(_0x32a1a2)!==_0x271a40[_0x2af807(0x1a6)])return;_0x271a40[_0x2af807(0x661)]=this[_0x2af807(0x6f9)],_0x271a40[_0x2af807(0x234)]=_0x27356d[_0x2af807(0x4b4)],await this['send'](_0x271a40,[_0x271a40[_0x2af807(0x3be)]]);}catch(_0x186c92){}}async[_0x3565d6(0x260)](_0x5602e7){const _0x3f1975=_0x3565d6,_0x2c2070=_0x487f18(_0x5602e7[_0x3f1975(0x1bf)],_0x5602e7[_0x3f1975(0x685)]);if(!this['objectRequests'][_0x3f1975(0x645)](_0x2c2070))return;const _0x5dbeb0=this[_0x3f1975(0x74b)][_0x3f1975(0x64f)](_0x2c2070);_0x5dbeb0[_0x3f1975(0x234)]=_0x27356d['RequestFileSync'];const _0x4f6e22=_0x5602e7[_0x3f1975(0x661)];if(!_0x4f6e22)throw new _0x1ca0c3(_0x1ca0c3[_0x3f1975(0x69c)][_0x3f1975(0x279)],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});this['objectRequests'][_0x3f1975(0x409)](_0x2c2070),this['pendingFilesSyncing']['has'](_0x4f6e22)||this[_0x3f1975(0x4bc)]['set'](_0x4f6e22,new Map()),this['pendingFilesSyncing'][_0x3f1975(0x64f)](_0x4f6e22)[_0x3f1975(0x5bc)](_0x2c2070,[_0x5dbeb0,this['getOrResetPendingFileTimeout'](_0x4f6e22,_0x2c2070)]),_0x5dbeb0[_0x3f1975(0x661)]=_0x4f6e22,this['send'](_0x5dbeb0,[_0x4f6e22]);}async['handleFileSync'](_0x8da9aa){const _0x1fd5e9=_0x3565d6,_0x289c95=_0x487f18(_0x8da9aa['path'],_0x8da9aa['name']),_0x2898f7=await this[_0x1fd5e9(0x64f)](_0x289c95),_0x4f7954={..._0x8da9aa,'answererId':this[_0x1fd5e9(0x6f9)],'action':_0x27356d[_0x1fd5e9(0x6d5)]};await this[_0x1fd5e9(0x5f3)](_0x2898f7,_0x4f7954,[_0x8da9aa[_0x1fd5e9(0x3be)]]);}async['sendFile'](_0x42358d,_0x31f8aa,_0x48630d){const _0x43ed00=_0x3565d6,_0x1888ca=await _0x3e6aa2(_0x42358d);for(const [_0x54d107,_0x306e29]of _0x1888ca[_0x43ed00(0x20a)]()){const _0x3f8654={..._0x31f8aa,'type':_0x42358d[_0x43ed00(0x2be)],'data':_0x306e29,'index':_0x54d107,'total':_0x1888ca[_0x43ed00(0x49d)]};this['send'](_0x3f8654,_0x48630d);}}async[_0x3565d6(0x47d)](_0x154ef8){const _0x214d7b=_0x3565d6;try{const _0x70cd83=_0x487f18(_0x154ef8[_0x214d7b(0x1bf)],_0x154ef8[_0x214d7b(0x685)]),_0x18f4f0=_0x70cd83+_0x4443fb;await this['deleteObject'](_0x18f4f0);const [,_0x4ae701]=this[_0x214d7b(0x4bc)][_0x214d7b(0x64f)](_0x154ef8[_0x214d7b(0x661)])?.[_0x214d7b(0x64f)](_0x70cd83)??[];_0x4ae701&&(clearTimeout(_0x4ae701),this[_0x214d7b(0x4bc)][_0x214d7b(0x64f)](_0x154ef8[_0x214d7b(0x661)])[_0x214d7b(0x409)](_0x70cd83));}catch(_0x39958e){}}async['syncTransactions'](){const _0x408e30=_0x3565d6,_0x6c4a70=await this['transactionService'][_0x408e30(0x769)](this['label'],this['lastTransactionId']);for(const _0x1e0a90 of _0x6c4a70)await this[_0x408e30(0x3c7)](_0x1e0a90);}async[_0x3565d6(0x64b)](){const _0x5a8f0a=_0x3565d6,_0x7e9bc7=await this[_0x5a8f0a(0x299)]('/',!0x0,!0x0),_0x60376b=async _0x32a639=>{const _0x784fa2=_0x5a8f0a;for(const _0x46956b of _0x32a639){if(_0x46956b['kind']===_0x43872a[_0x784fa2(0x502)]){_0x46956b[_0x784fa2(0x20a)]&&_0x46956b['entries'][_0x784fa2(0x49d)]>0x0&&await _0x60376b(_0x46956b[_0x784fa2(0x20a)]);continue;}if(!_0x46956b[_0x784fa2(0x685)][_0x784fa2(0x19a)](_0x4443fb))continue;const _0x3b39fb=await this['get'](_0x46956b[_0x784fa2(0x6bb)]),_0x37fb1b=await _0x3b39fb[_0x784fa2(0x3bc)](),_0x1dd2b1=_0x46956b[_0x784fa2(0x685)][_0x784fa2(0x635)](_0x4443fb,''),_0x2cede4={'payloadType':_0x42c06d['Request'],'action':_0x27356d[_0x784fa2(0x564)],'sourceId':this[_0x784fa2(0x6f9)],'type':'','path':_0x46956b['path'],'name':_0x1dd2b1,'checksum':_0x37fb1b},_0x538f50=_0x487f18(_0x46956b[_0x784fa2(0x1bf)],_0x1dd2b1);this['objectRequests'][_0x784fa2(0x5bc)](_0x538f50,_0x2cede4);}};await _0x60376b(_0x7e9bc7);}async[_0x3565d6(0x396)](_0x1c160b){const _0x4fd19f=_0x3565d6,_0x2ed969=new File([new Blob([_0x1c160b[_0x4fd19f(0x1a6)]])],''+_0x1c160b[_0x4fd19f(0x685)]+_0x4443fb,{'type':_0x4fd19f(0x47e)});await this['writeFile'](_0x2ed969,_0x1c160b[_0x4fd19f(0x1bf)]);}['getOrResetPendingFileTimeout'](_0x613288,_0x1cd626){const _0x3768b3=_0x3565d6,[_0x327148,_0x3fa3e0]=this[_0x3768b3(0x4bc)][_0x3768b3(0x64f)](_0x613288)?.['get'](_0x1cd626)??[];return _0x3fa3e0&&clearTimeout(_0x3fa3e0),window[_0x3768b3(0x758)](()=>{const _0xf57c33=_0x3768b3,[_0x3443c9,_0x4cfd1b]=this['pendingFilesSyncing'][_0xf57c33(0x64f)](_0x613288)[_0xf57c33(0x64f)](_0x1cd626);this[_0xf57c33(0x426)](_0x3443c9,_0x4cfd1b);},0xea60);}async['sendFileRequestPayload'](_0x4837c5,_0x14316f){const _0x2c3c1e=_0x3565d6;clearTimeout(_0x14316f),_0x4837c5[_0x2c3c1e(0x234)]=_0x27356d['RequestFile'],this[_0x2c3c1e(0x74b)][_0x2c3c1e(0x5bc)](_0x487f18(_0x4837c5[_0x2c3c1e(0x1bf)],_0x4837c5[_0x2c3c1e(0x685)]),_0x4837c5),this['send'](_0x4837c5);}['setPendingFileSyncingPayload'](_0x2c891f,_0x240dc5){const _0x2c3288=_0x3565d6;this[_0x2c3288(0x4bc)]['has'](_0x2c891f[_0x2c3288(0x661)])||this['pendingFilesSyncing'][_0x2c3288(0x5bc)](_0x2c891f[_0x2c3288(0x661)],new Map());const [_0x1fdfbe]=this[_0x2c3288(0x4bc)]['get'](_0x2c891f[_0x2c3288(0x661)])['get'](_0x240dc5)??[{'payloadType':_0x42c06d[_0x2c3288(0x306)],'action':_0x27356d[_0x2c3288(0x564)],'sourceId':this[_0x2c3288(0x6f9)],'type':_0x2c891f['type'],'name':_0x2c891f[_0x2c3288(0x685)],'path':_0x2c891f[_0x2c3288(0x1bf)],'checksum':_0x2c891f[_0x2c3288(0x1a6)],'answererId':_0x2c891f[_0x2c3288(0x661)]}];this[_0x2c3288(0x4bc)][_0x2c3288(0x64f)](_0x2c891f['answererId'])[_0x2c3288(0x5bc)](_0x240dc5,[_0x1fdfbe,this[_0x2c3288(0x5c8)](_0x2c891f['answererId'],_0x240dc5)]);}async[_0x3565d6(0x42c)](_0x72db88,_0x1cd984){const _0x4302c7=_0x3565d6;await this[_0x4302c7(0x225)][_0x4302c7(0x42c)](_0x72db88,_0x1cd984),this[_0x4302c7(0x40f)]();}async[_0x3565d6(0x19e)](_0x33157d){const _0x1b1dd9=await this['objectStoreConnector']['deleteObject'](_0x33157d);return this['sendStats'](),_0x1b1dd9;}[_0x3565d6(0x40f)](){const _0x67f9ca=_0x3565d6;this[_0x67f9ca(0x596)]&&clearTimeout(this[_0x67f9ca(0x596)]),this[_0x67f9ca(0x596)]=window['setTimeout'](async()=>{const _0x1888d1=_0x67f9ca;delete this['debounceStats'];const _0x5b29a8=await this[_0x1888d1(0x225)][_0x1888d1(0x1bd)]('/');this[_0x1888d1(0x24e)]?.['publish']({'sourceId':_0x13edb4,'messageType':_0x3edd62['Content'],'content':{'type':_0x101bc1[_0x1888d1(0x2ef)],'label':this[_0x1888d1(0x343)],'stats':{'timestamp':Date[_0x1888d1(0x1aa)](),'storage':_0x5b29a8,'messagesSent':this[_0x1888d1(0x2fd)],'messagesReceived':this[_0x1888d1(0x32c)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this[_0x1888d1(0x6bc)],'reads':this[_0x1888d1(0x6b0)]}}}),_0x11c0d7['logStorage'](_0x59f8e7['ObjectStorage'],this[_0x1888d1(0x343)],_0x5b29a8);},0x1388);}}function _0x369622(_0x31a3fc){return new Promise((_0xe9cd86,_0x56726c)=>{_0x31a3fc['onsuccess']=()=>_0xe9cd86(_0x31a3fc['result']),_0x31a3fc['onerror']=()=>_0x56726c(_0x31a3fc['error']);});}async function*_0x3737b2(_0x33f9cd,{limit:_0x4d0a55=0x0,offset:_0x232b00=0x0,where:_0x94d988}){const _0x293e58=_0x3565d6;let _0xbd3323=0x0;const {operator:_0x4a11b6,key:_0x2d0e01,value:_0x17d2f3}=_0x94d988??{};if(_0x232b00>0x0){if(await _0x369622(_0x33f9cd),!_0x33f9cd[_0x293e58(0x3e5)])return;_0x33f9cd[_0x293e58(0x3e5)]['advance'](_0x232b00);}for(;;){await _0x369622(_0x33f9cd);const {result:_0x2785c2}=_0x33f9cd;if(!_0x2785c2)break;if(_0x4d0a55>0x0&&_0xbd3323>=_0x4d0a55)break;_0x2d0e01&&_0x17d2f3&&('!='===_0x4a11b6&&_0x17d2f3===_0x2785c2[_0x293e58(0x2aa)][_0x2d0e01]||_0x293e58(0x2d4)===_0x4a11b6&&_0x17d2f3[_0x293e58(0x741)](_0x2785c2['value'][_0x2d0e01])||'in'===_0x4a11b6&&!_0x17d2f3['includes'](_0x2785c2[_0x293e58(0x2aa)][_0x2d0e01]))||(_0xbd3323+=0x1,yield _0x2785c2[_0x293e58(0x2aa)]),_0x2785c2[_0x293e58(0x5ff)]();}}class _0x2208da{['db'];['tableName'];constructor(_0x9444ee,_0x4e014a){this['db']=_0x9444ee,this['tableName']=_0x4e014a;}async[_0x3565d6(0x64f)](_0x1603da){const _0x5a3774=_0x3565d6,_0x2d53b1=this['db']['transaction'](this[_0x5a3774(0x4ba)],_0x5a3774(0x23e))[_0x5a3774(0x45b)](this[_0x5a3774(0x4ba)]);return await _0x369622(_0x2d53b1[_0x5a3774(0x64f)](_0x1603da));}async['set'](_0xd6ad7a,_0x573c89){const _0x6754a2=_0x3565d6,_0x51a7f9=this['db'][_0x6754a2(0x4ce)](this[_0x6754a2(0x4ba)],_0x6754a2(0x74c))[_0x6754a2(0x45b)](this[_0x6754a2(0x4ba)]),_0x2eb163={..._0x573c89,'id':_0xd6ad7a};return await _0x369622(_0x51a7f9[_0x6754a2(0x432)](_0x2eb163)),_0x2eb163;}async[_0x3565d6(0x6b4)](_0x21c99a){const _0x4bcd2c=_0x3565d6,_0x4a6068=this['db'][_0x4bcd2c(0x4ce)](this[_0x4bcd2c(0x4ba)],_0x4bcd2c(0x74c))[_0x4bcd2c(0x45b)](this[_0x4bcd2c(0x4ba)]),_0x191000={..._0x21c99a,'id':(0x0,_0x43163e['v4'])()};return await _0x369622(_0x4a6068[_0x4bcd2c(0x6b4)](_0x191000)),_0x191000;}async[_0x3565d6(0x409)](_0x4a63b9){const _0x1ad782=_0x3565d6,_0x12111e=this['db'][_0x1ad782(0x4ce)](this[_0x1ad782(0x4ba)],_0x1ad782(0x74c))['objectStore'](this['tableName']);await _0x369622(_0x12111e[_0x1ad782(0x409)](_0x4a63b9));}async[_0x3565d6(0x376)](){const _0xa01272=_0x3565d6,_0x509841=this['db'][_0xa01272(0x4ce)](this[_0xa01272(0x4ba)],_0xa01272(0x74c))[_0xa01272(0x45b)](this[_0xa01272(0x4ba)]);await _0x369622(_0x509841[_0xa01272(0x376)]());}async[_0x3565d6(0x299)](_0x106d7d){const _0x45fdc7=_0x3565d6;try{_0x106d7d&&(_0x106d7d=_0x106d7d instanceof _0x471255?_0x106d7d[_0x45fdc7(0x4cf)]():_0x471255[_0x45fdc7(0x4af)](_0x106d7d)[_0x45fdc7(0x4cf)]());}catch(_0x381450){throw console['warn'](_0x45fdc7(0x2b3),_0x381450),new _0x27552e(_0x338970[_0x45fdc7(0x274)],_0x45fdc7(0x545));}try{const _0x160c9c=this['db'][_0x45fdc7(0x4ce)](this[_0x45fdc7(0x4ba)],'readonly')[_0x45fdc7(0x45b)](this[_0x45fdc7(0x4ba)]);let _0x2d36ac=null;const _0x36e65e=_0x45fdc7(0x403)===_0x106d7d?.['orderBy']?.[_0x45fdc7(0x73d)]?'next':_0x45fdc7(0x5f4)===_0x106d7d?.['orderBy']?.[_0x45fdc7(0x73d)]?_0x45fdc7(0x56c):void 0x0;if(_0x106d7d){if(_0x106d7d[_0x45fdc7(0x69e)]){const _0x2fe376=this['getIndexFromWhereQuery'](_0x160c9c,_0x106d7d),_0x7a6a0b=this[_0x45fdc7(0x3e0)](_0x106d7d['where']);_0x2d36ac=_0x2fe376[_0x45fdc7(0x63f)](_0x7a6a0b,_0x36e65e);}else _0x106d7d['orderBy']?.[_0x45fdc7(0x510)]&&(_0x2d36ac=this[_0x45fdc7(0x357)](_0x160c9c,_0x106d7d[_0x45fdc7(0x29f)][_0x45fdc7(0x510)])[_0x45fdc7(0x63f)](null,_0x36e65e));}_0x2d36ac||(_0x2d36ac=_0x160c9c[_0x45fdc7(0x63f)]());const _0x4f9eea=[];for await(const _0x47606d of _0x3737b2(_0x2d36ac,_0x106d7d??{}))_0x4f9eea[_0x45fdc7(0x495)](_0x47606d);return _0x4f9eea;}catch(_0x532dd1){if(_0x532dd1 instanceof _0x27552e)throw _0x532dd1;throw console[_0x45fdc7(0x421)]('Error\x20listing\x20values',_0x532dd1),new _0x27552e(_0x338970['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}}async['count'](_0x31b467){const _0x4e81a9=_0x3565d6;try{_0x31b467&&(_0x31b467=_0x31b467 instanceof _0x471255?_0x31b467[_0x4e81a9(0x4cf)]():_0x471255['buildQuery'](_0x31b467)[_0x4e81a9(0x4cf)]());}catch(_0x5d67ab){throw console['warn'](_0x4e81a9(0x2b3),_0x5d67ab),new _0x27552e(_0x338970[_0x4e81a9(0x274)],_0x4e81a9(0x545));}const _0x1beeda=this['db'][_0x4e81a9(0x4ce)](this['tableName'],_0x4e81a9(0x23e))[_0x4e81a9(0x45b)](this[_0x4e81a9(0x4ba)]);if(!_0x31b467?.[_0x4e81a9(0x69e)])return await _0x369622(_0x1beeda[_0x4e81a9(0x271)]());const _0x32f9d5=this[_0x4e81a9(0x3d5)](_0x1beeda,_0x31b467),_0x4ec972=this[_0x4e81a9(0x3e0)](_0x31b467['where']);if('!='!==_0x31b467[_0x4e81a9(0x69e)][_0x4e81a9(0x2ba)]&&'in'!==_0x31b467[_0x4e81a9(0x69e)]['operator']&&'not-in'!==_0x31b467['where'][_0x4e81a9(0x2ba)])return await _0x369622(_0x32f9d5[_0x4e81a9(0x271)](_0x4ec972));const _0x2ee9a1=await this[_0x4e81a9(0x283)](_0x32f9d5,_0x31b467[_0x4e81a9(0x69e)]);return'in'===_0x31b467[_0x4e81a9(0x69e)][_0x4e81a9(0x2ba)]?_0x2ee9a1:await _0x369622(_0x1beeda[_0x4e81a9(0x271)]())-_0x2ee9a1;}async[_0x3565d6(0x1bd)](){const _0x235fdd=_0x3565d6,_0x20007c=this['db']['transaction'](this[_0x235fdd(0x4ba)],_0x235fdd(0x23e))[_0x235fdd(0x45b)](this['tableName'])[_0x235fdd(0x63f)]();let _0x28cb31=0x0;for await(const _0x2c2d49 of _0x3737b2(_0x20007c,{}))_0x28cb31+=new Blob([JSON[_0x235fdd(0x558)](_0x2c2d49)])[_0x235fdd(0x31b)];return _0x28cb31;}[_0x3565d6(0x61f)](_0x54aa78){}[_0x3565d6(0x3e0)](_0x21e695){const _0xdc9490=_0x3565d6;if(!_0x21e695?.['operator']||!_0x21e695?.['value'])throw new _0x27552e(_0x338970['KeyValueDatabaseInvalidQuery'],_0xdc9490(0x264));const {operator:_0x5d6117,value:_0x59cef8}=_0x21e695;switch(_0x5d6117){case'==':return IDBKeyRange[_0xdc9490(0x733)](_0x59cef8);case'>':case'>=':return IDBKeyRange[_0xdc9490(0x22d)](_0x59cef8,'>'===_0x5d6117);case'<':case'<=':return IDBKeyRange['upperBound'](_0x59cef8,'<'===_0x5d6117);case _0xdc9490(0x370):return IDBKeyRange[_0xdc9490(0x3e2)](_0x59cef8[0x0],_0x59cef8[0x1]);case'!=':case _0xdc9490(0x2d4):case'in':return;default:throw new _0x27552e(_0x338970[_0xdc9490(0x274)],_0xdc9490(0x58f)+_0x5d6117);}}[_0x3565d6(0x3d5)](_0x3cd248,_0x512a5f){const _0x572202=_0x3565d6;if(!_0x512a5f['where']?.[_0x572202(0x510)])throw new _0x27552e(_0x338970[_0x572202(0x274)],_0x572202(0x391));return _0x3cd248['keyPath']===_0x512a5f[_0x572202(0x69e)][_0x572202(0x510)]?_0x3cd248:this[_0x572202(0x357)](_0x3cd248,_0x512a5f['where'][_0x572202(0x510)]);}[_0x3565d6(0x357)](_0x1863e4,_0x23ab86){const _0xd4937b=_0x3565d6;try{return _0x1863e4['index'](_0x23ab86);}catch(_0x55f09d){throw new _0x27552e(_0x338970[_0xd4937b(0x761)],_0xd4937b(0x43e));}}async[_0x3565d6(0x283)](_0xc47b5a,_0x3fa5c5){const _0xff7400=_0x3565d6,_0x4a15ba={..._0x3fa5c5},_0x30f5fe=Array[_0xff7400(0x4d8)](_0x3fa5c5[_0xff7400(0x2aa)])?_0x3fa5c5[_0xff7400(0x2aa)]:[_0x3fa5c5[_0xff7400(0x2aa)]];_0x4a15ba[_0xff7400(0x2ba)]='==';let _0xc7ba65=0x0;for(const _0xb9fd2b of _0x30f5fe){_0x4a15ba[_0xff7400(0x2aa)]=_0xb9fd2b;const _0x34a374=this[_0xff7400(0x3e0)](_0x4a15ba);_0xc7ba65+=await _0x369622(_0xc47b5a[_0xff7400(0x271)](_0x34a374));}return _0xc7ba65;}}class _0x53f9e0{['db'];[_0x3565d6(0x4ba)];[_0x3565d6(0x515)];[_0x3565d6(0x5d2)];[_0x3565d6(0x699)]=_0x3c88b1();[_0x3565d6(0x2c5)];constructor(_0x1c43b6,_0x39ee7a,_0x446d50){const _0x5c2484=_0x3565d6;this['db']=_0x1c43b6,this[_0x5c2484(0x4ba)]=_0x39ee7a,this[_0x5c2484(0x515)]=_0x446d50,this[_0x5c2484(0x5d2)]=new _0x2208da(_0x1c43b6,_0x39ee7a);}[_0x3565d6(0x6b1)](){const _0x2e0a18=_0x3565d6;this[_0x2e0a18(0x2c5)]?.();}async[_0x3565d6(0x64f)](_0xa48a9){const _0x305dae=_0x3565d6,_0x47a18b={'key':_0xa48a9,'tableName':this['tableName'],'action':_0x2f450a[_0x305dae(0x207)]};return this[_0x305dae(0x515)][_0x305dae(0x76d)](_0x47a18b),this[_0x305dae(0x5d2)][_0x305dae(0x64f)](_0xa48a9);}async[_0x3565d6(0x5bc)](_0x204674,_0x561e2c,_0x29155c=!0x0){const _0x5ef9b6=_0x3565d6;this['validateValue'](_0x561e2c);const _0x57908f=await this[_0x5ef9b6(0x5d2)]['get'](_0x204674),_0xe4b93b=await this[_0x5ef9b6(0x5d2)][_0x5ef9b6(0x5bc)](_0x204674,_0x561e2c),_0x5f32f1=_0x57908f?_0x4343b8[_0x5ef9b6(0x6fe)]:_0x4343b8[_0x5ef9b6(0x41a)];if(this[_0x5ef9b6(0x76d)](_0x5f32f1,_0xe4b93b),!_0x29155c)return _0xe4b93b;const _0x18c640={'key':_0x204674,'tableName':this[_0x5ef9b6(0x4ba)],'action':_0x5f32f1,'value':_0xe4b93b};return this['tableObserver']['publish'](_0x18c640),_0xe4b93b;}async['add'](_0x56fe94){const _0x3d3155=_0x3565d6;this[_0x3d3155(0x6db)](_0x56fe94);const _0x282b44=await this['connector'][_0x3d3155(0x6b4)](_0x56fe94),_0x286789={'key':_0x282b44['id'],'tableName':this[_0x3d3155(0x4ba)],'action':_0x4343b8[_0x3d3155(0x41a)],'value':_0x282b44};return this[_0x3d3155(0x515)][_0x3d3155(0x76d)](_0x286789),this[_0x3d3155(0x76d)](_0x286789[_0x3d3155(0x234)],_0x282b44),_0x282b44;}async['delete'](_0x128b77,_0x5a97aa=!0x0){const _0x23661a=_0x3565d6,_0x516fa1=await this[_0x23661a(0x5d2)][_0x23661a(0x64f)](_0x128b77);if(!_0x516fa1)return;await this[_0x23661a(0x5d2)]['delete'](_0x128b77);const _0x2c23d4=_0x4343b8[_0x23661a(0x729)];if(this[_0x23661a(0x76d)](_0x2c23d4,_0x516fa1),!_0x5a97aa)return;const _0x2d6a56={'key':_0x128b77,'tableName':this['tableName'],'action':_0x2c23d4,'value':_0x516fa1};this[_0x23661a(0x515)][_0x23661a(0x76d)](_0x2d6a56);}async[_0x3565d6(0x376)](){const _0x204f4c=_0x3565d6,_0x1bf9f4=await this[_0x204f4c(0x299)]();for(const _0x2a72ff of _0x1bf9f4){const _0x51bf3a=_0x4343b8[_0x204f4c(0x729)];this['publish'](_0x51bf3a,_0x2a72ff);const _0x1e5925={'key':_0x2a72ff['id'],'tableName':this[_0x204f4c(0x4ba)],'action':_0x51bf3a,'value':_0x2a72ff};this['tableObserver'][_0x204f4c(0x76d)](_0x1e5925);}return this[_0x204f4c(0x5d2)]['clear']();}async[_0x3565d6(0x299)](_0x429be2){const _0x222650=_0x3565d6,_0x3e4c76={'key':'','tableName':this[_0x222650(0x4ba)],'action':_0x2f450a[_0x222650(0x5ab)]};return this['tableObserver'][_0x222650(0x76d)](_0x3e4c76),this[_0x222650(0x5d2)]['list'](_0x429be2);}async[_0x3565d6(0x271)](_0x50ded1){const _0x5a0474=_0x3565d6,_0x145b39={'key':'','tableName':this['tableName'],'action':_0x2f450a[_0x5a0474(0x765)]};return this[_0x5a0474(0x515)][_0x5a0474(0x76d)](_0x145b39),this[_0x5a0474(0x5d2)][_0x5a0474(0x271)](_0x50ded1);}['calculateSize'](){const _0x713032=_0x3565d6;return this[_0x713032(0x5d2)][_0x713032(0x1bd)]();}['subscribe'](_0x2e9ee0){const _0x2f1d72=_0x3565d6;this[_0x2f1d72(0x2c5)]=this[_0x2f1d72(0x699)][_0x2f1d72(0x61f)](_0x2e9ee0);}[_0x3565d6(0x71d)](){const _0xf82641=_0x3565d6;this[_0xf82641(0x2c5)]?.();}[_0x3565d6(0x76d)](_0x35ea74,_0x27432b){const _0x11b829=_0x3565d6,_0x44cc6f=this[_0x11b829(0x3c0)](_0x35ea74,_0x27432b);this[_0x11b829(0x699)]['publish'](_0x44cc6f);}[_0x3565d6(0x3c0)](_0x370f8f,_0x3b3d53){const _0x4b08f3=_0x3565d6;let _0x1fc889;switch(_0x370f8f){case _0x4343b8[_0x4b08f3(0x41a)]:_0x1fc889='add';break;case _0x4343b8[_0x4b08f3(0x6fe)]:_0x1fc889=_0x4b08f3(0x1b0);break;case _0x4343b8[_0x4b08f3(0x729)]:_0x1fc889='delete';}return{'action':_0x1fc889,'value':_0x3b3d53};}['validateValue'](_0x1f2e15){const _0x8148=_0x3565d6;if('object'!=typeof _0x1f2e15||null===_0x1f2e15)throw new _0x27552e(_0x338970[_0x8148(0x3b8)],_0x8148(0x29c));for(const _0x55ab3d in _0x1f2e15){const _0x5b28b4=_0x1f2e15[_0x55ab3d];if(_0x8148(0x41c)!=typeof _0x5b28b4||_0x5b28b4 instanceof Date){if(!['string',_0x8148(0x619),_0x8148(0x56f)][_0x8148(0x741)](typeof _0x5b28b4))throw new _0x27552e(_0x338970[_0x8148(0x3b8)],'Invalid\x20value.\x20Property\x20\x27'+_0x55ab3d+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this['validateValue'](_0x5b28b4);}}}class _0x20425a extends _0x3a759f{[_0x3565d6(0x41b)];[_0x3565d6(0x390)];[_0x3565d6(0x740)];['db'];[_0x3565d6(0x2b4)];[_0x3565d6(0x3df)]=new Map();[_0x3565d6(0x515)];[_0x3565d6(0x709)];[_0x3565d6(0x5df)];[_0x3565d6(0x4ff)];[_0x3565d6(0x227)];[_0x3565d6(0x3aa)]=[];[_0x3565d6(0x65e)]=()=>{};[_0x3565d6(0x356)];['eventListener']=_0x3c88b1();[_0x3565d6(0x2c5)];[_0x3565d6(0x55e)]=[];['layout'];[_0x3565d6(0x596)];['writes']=0x0;[_0x3565d6(0x6b0)]=0x0;constructor(_0x1273be,_0x1925b0,_0x5d727e,_0x389eee,_0x345981){const _0x116aed=_0x3565d6;if(_0x116aed(0x5c6)!=typeof _0x1925b0)throw new _0x27552e(_0x338970[_0x116aed(0x51e)],_0x116aed(0x551));if(super(_0x1273be,_0x1925b0),this[_0x116aed(0x41b)]=_0x1273be,this['clusterId']=_0x5d727e,this[_0x116aed(0x740)]=_0x389eee,this[_0x116aed(0x2b4)]=_0x116aed(0x522)+this['vendorId']+_0x116aed(0x522)+this[_0x116aed(0x390)]+_0x116aed(0x522)+this['label'],this['tableObserver']=_0x3c88b1(),this[_0x116aed(0x4ff)]=new Promise(_0x488be9=>{this['syncResolve']=_0x488be9;}),_0x345981 instanceof _0x51a84f)this['layout']=_0x345981['getLayout']();else{const [_0xef3feb,_0x4c3cd3]=_0x51a84f[_0x116aed(0x76c)](_0x345981);if(!_0xef3feb)throw new _0x27552e(_0x338970[_0x116aed(0x2bb)],_0x116aed(0x384)+_0x4c3cd3);this['layout']=_0x345981;}}['getContentType'](){const _0x265b2a=_0x3565d6;return _0x19aef4[_0x265b2a(0x2e9)];}[_0x3565d6(0x6b1)](){const _0x41406a=_0x3565d6;this['db']?.[_0x41406a(0x208)](),this[_0x41406a(0x5df)]?.(),clearTimeout(this[_0x41406a(0x596)]),delete this[_0x41406a(0x596)],super[_0x41406a(0x6b1)]();}['close'](){const _0x1bde8f=_0x3565d6;this[_0x1bde8f(0x24e)][_0x1bde8f(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x1bde8f(0x422)],'content':{'type':_0x101bc1[_0x1bde8f(0x367)],'label':this[_0x1bde8f(0x343)]}});}[_0x3565d6(0x5d0)](_0x5c9fcb){const _0x14c8f1=_0x3565d6,_0x21a74c=this[_0x14c8f1(0x3df)]['get'](_0x5c9fcb);if(_0x21a74c)return _0x21a74c;if(!this['db'])throw new _0x27552e(_0x338970['KeyValueDatabaseNotOpen'],_0x14c8f1(0x668));if(!0x1===this['db'][_0x14c8f1(0x6ef)]['contains'](_0x5c9fcb))throw new _0x27552e(_0x338970[_0x14c8f1(0x45f)],_0x14c8f1(0x3ea));const _0x4600e5=new _0x53f9e0(this['db'],_0x5c9fcb,this[_0x14c8f1(0x515)]);return this['tables'][_0x14c8f1(0x5bc)](_0x5c9fcb,_0x4600e5),{'get':_0x4600e5[_0x14c8f1(0x64f)][_0x14c8f1(0x65f)](_0x4600e5),'set':_0x4600e5[_0x14c8f1(0x5bc)][_0x14c8f1(0x65f)](_0x4600e5),'add':_0x4600e5[_0x14c8f1(0x6b4)][_0x14c8f1(0x65f)](_0x4600e5),'delete':_0x4600e5[_0x14c8f1(0x409)][_0x14c8f1(0x65f)](_0x4600e5),'clear':_0x4600e5[_0x14c8f1(0x376)]['bind'](_0x4600e5),'list':_0x4600e5[_0x14c8f1(0x299)]['bind'](_0x4600e5),'count':_0x4600e5[_0x14c8f1(0x271)][_0x14c8f1(0x65f)](_0x4600e5),'subscribe':_0x4600e5[_0x14c8f1(0x61f)]['bind'](_0x4600e5),'unsubscribe':_0x4600e5[_0x14c8f1(0x71d)]['bind'](_0x4600e5)};}[_0x3565d6(0x61f)](_0xc47a14){const _0x29a65f=_0x3565d6;this['listenerUnsubscriber']=this[_0x29a65f(0x699)]['subscribe'](_0xc47a14);}[_0x3565d6(0x71d)](){this['listenerUnsubscriber']?.();}async[_0x3565d6(0x4db)](){const _0x666b77=[];return new Promise((_0x2ae299,_0x169db9)=>{const _0x3bd669=a0_0x2e59,_0x2db9b1=[_0xb97791],_0x25fedd=indexedDB['open'](this['dbKey'],this['layout'][_0x3bd669(0x499)]);_0x25fedd[_0x3bd669(0x28d)]=_0x293154=>{const _0x634112=_0x3bd669,_0x5760a2=_0x293154[_0x634112(0x67e)],_0xf8f697=_0x5760a2['result'];_0xf8f697[_0x634112(0x6ef)][_0x634112(0x5a1)](_0xb97791)||_0xf8f697['createObjectStore'](_0xb97791,{'keyPath':'id'}),this[_0x634112(0x387)](_0xf8f697);for(const _0x53fc75 in this[_0x634112(0x355)][_0x634112(0x3df)]){if(_0x2db9b1[_0x634112(0x741)](_0x53fc75))throw new _0x27552e(_0x338970[_0x634112(0x6f0)],_0x634112(0x1ab));const _0xa3316d=this[_0x634112(0x355)][_0x634112(0x3df)][_0x53fc75];if(_0xf8f697[_0x634112(0x6ef)]['contains'](_0x53fc75)){const _0x407fe4=_0x5760a2[_0x634112(0x4ce)],_0x33e90b=_0x407fe4?.[_0x634112(0x45b)](_0x53fc75);if(!_0x33e90b)continue;_0xa3316d[_0x634112(0x667)]?.[_0x634112(0x1c3)](_0x109848=>{const _0x2bdbf4=_0x634112;_0x33e90b[_0x2bdbf4(0x5a6)][_0x2bdbf4(0x5a1)](_0x109848[_0x2bdbf4(0x703)])||_0x33e90b[_0x2bdbf4(0x6de)](_0x109848['keyPath'],_0x109848[_0x2bdbf4(0x703)],{'unique':!0x1});});for(const _0x5cbe48 of _0x33e90b[_0x634112(0x5a6)])_0xa3316d[_0x634112(0x667)]?.[_0x634112(0x664)](_0x22a1cb=>_0x22a1cb[_0x634112(0x703)]===_0x5cbe48)||_0x33e90b[_0x634112(0x1ef)](_0x5cbe48);continue;}const _0x2db00a=_0xf8f697['createObjectStore'](_0x53fc75,{'keyPath':'id'});if(_0xa3316d[_0x634112(0x667)]){for(const _0x160590 of _0xa3316d['indexes'])_0x2db00a[_0x634112(0x6de)](_0x160590[_0x634112(0x703)],_0x160590['keyPath'],{'unique':!0x1});}}for(const _0x404af0 of _0xf8f697['objectStoreNames'])_0x2db9b1['includes'](_0x404af0)||this[_0x634112(0x355)][_0x634112(0x3df)][_0x404af0]||(_0xf8f697[_0x634112(0x679)](_0x404af0),_0x666b77['push'](_0x404af0));},_0x25fedd[_0x3bd669(0x5c4)]=_0x4f9e43=>{const _0x33a3ce=_0x3bd669;this['db']=_0x25fedd[_0x33a3ce(0x3e5)],this[_0x33a3ce(0x387)](this['db']),this['setOnMessageHandler'](),this['setOnTableWriteHandler'](),_0x666b77[_0x33a3ce(0x1c3)](_0x209b6c=>this[_0x33a3ce(0x654)](_0x209b6c)),_0x2ae299(_0x4f9e43);},_0x25fedd[_0x3bd669(0x36e)]=_0x304ffa=>{_0x169db9(_0x304ffa);};});}async[_0x3565d6(0x5d7)](_0x3dc799,_0x1e004b){const _0x3f5a57=_0x3565d6;_0x3dc799?(this['timeoutCallback']=_0x1e004b,this[_0x3f5a57(0x356)]=window[_0x3f5a57(0x758)](_0x1e004b,_0x3ec3d2),this['systemTopic'][_0x3f5a57(0x76d)]({'sourceId':this[_0x3f5a57(0x41b)],'destinationIds':[_0x3dc799],'messageType':_0x3edd62[_0x3f5a57(0x422)],'content':{'type':_0x101bc1[_0x3f5a57(0x232)],'label':this[_0x3f5a57(0x343)]}}),await this[_0x3f5a57(0x4ff)]):setTimeout(()=>{const _0x5baf6a=_0x3f5a57;this['clearSyncTimeout'](),this[_0x5baf6a(0x2d3)]();},0x0);}async[_0x3565d6(0x2d6)](_0x12839f){const _0x16f49d=_0x3565d6;if(!this[_0x16f49d(0x709)])throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x16f49d(0x3c2)]);await this[_0x16f49d(0x4ff)];const _0x2df6ce=await this[_0x16f49d(0x709)]['list']();this['systemTopic'][_0x16f49d(0x76d)]({'sourceId':this['localId'],'destinationIds':[_0x12839f],'messageType':_0x3edd62['Content'],'content':{'type':_0x101bc1[_0x16f49d(0x625)],'label':this[_0x16f49d(0x343)],'transactions':_0x2df6ce}});}async['processTransactionsDump'](_0x32a8a6,_0x19bd92){const _0x4774a1=_0x3565d6;if(!this[_0x4774a1(0x709)])throw new _0x1ca0c3(_0x1ca0c3[_0x4774a1(0x69c)][_0x4774a1(0x3c2)]);this[_0x4774a1(0x486)]();const _0x2078b0=await this[_0x4774a1(0x709)][_0x4774a1(0x299)]();for(const _0x16f677 of _0x2078b0){const _0x423c1e=_0x19bd92[_0x4774a1(0x664)](_0x198d3b=>_0x198d3b['id']===_0x16f677['id']);if(_0x423c1e&&this[_0x4774a1(0x2e6)](_0x16f677,_0x423c1e)<=0x0)continue;const [_0x494b8f,_0xfd25d9]=_0x16f677['id'][_0x4774a1(0x3bb)]('::'),_0x44ce60=this['tables'][_0x4774a1(0x64f)](_0x494b8f),_0x18e077=await _0x44ce60?.[_0x4774a1(0x64f)](_0xfd25d9);_0x16f677[_0x4774a1(0x2aa)]=_0x18e077,this[_0x4774a1(0x64c)](_0x16f677);}for(const _0x2b4c7f of _0x19bd92){const _0x42fc1c=await this['transactionTable'][_0x4774a1(0x64f)](_0x2b4c7f['id']);if(!(_0x42fc1c&&this[_0x4774a1(0x2e6)](_0x2b4c7f,_0x42fc1c)<=0x0)){if(_0x2b4c7f['action']===_0x4343b8[_0x4774a1(0x729)]){const [_0x54c07d,_0x3d99f9]=_0x2b4c7f['id'][_0x4774a1(0x3bb)]('::'),_0x7198fd=this[_0x4774a1(0x3df)]['get'](_0x54c07d);await _0x7198fd?.['delete'](_0x3d99f9,!0x1);}else this[_0x4774a1(0x3aa)][_0x4774a1(0x495)](_0x2b4c7f['id']);}}if(0x0===this[_0x4774a1(0x3aa)]['length'])return this[_0x4774a1(0x486)](),void this[_0x4774a1(0x2d3)]();this['syncTimeout']=window[_0x4774a1(0x758)](this[_0x4774a1(0x65e)],_0x3ec3d2),this[_0x4774a1(0x24e)][_0x4774a1(0x76d)]({'sourceId':this[_0x4774a1(0x41b)],'destinationIds':[_0x32a8a6],'messageType':_0x3edd62[_0x4774a1(0x422)],'content':{'type':_0x101bc1[_0x4774a1(0x1b4)],'label':this[_0x4774a1(0x343)],'transactionIds':this['transactionsToSync']}});}async[_0x3565d6(0x675)](_0x132579,_0x5b17e5){const _0x4f5a48=_0x3565d6;if(!this['transactionTable'])throw new _0x1ca0c3(_0x1ca0c3[_0x4f5a48(0x69c)][_0x4f5a48(0x3c2)]);for(const _0x52b2ce of _0x5b17e5){const _0x38db74=await this['transactionTable']['get'](_0x52b2ce);if(!_0x38db74)continue;const [_0x49b9c6,_0x13a06a]=_0x52b2ce[_0x4f5a48(0x3bb)]('::'),_0x4d58cc=this[_0x4f5a48(0x3df)]['get'](_0x49b9c6),_0x4dd2ef=await _0x4d58cc?.['get'](_0x13a06a);_0x38db74[_0x4f5a48(0x2aa)]=_0x4dd2ef,this[_0x4f5a48(0x64c)](_0x38db74,[_0x132579]);}}async[_0x3565d6(0x5ae)](_0x465db9){const _0x552bae=_0x3565d6;if(!this[_0x552bae(0x709)])throw new _0x1ca0c3(_0x1ca0c3[_0x552bae(0x69c)][_0x552bae(0x3c2)]);const _0x798a31=await this[_0x552bae(0x709)]['get'](_0x465db9['id']);if(_0x798a31&&this[_0x552bae(0x2e6)](_0x465db9,_0x798a31)<=0x0)return;const _0x13a9b1={..._0x465db9};return delete _0x13a9b1[_0x552bae(0x2aa)],await this[_0x552bae(0x709)]['set'](_0x465db9['id'],_0x13a9b1),_0x465db9;}[_0x3565d6(0x2e6)](_0x5254e9,_0x2e95e3){const _0x7364c0=_0x3565d6;return _0x5254e9[_0x7364c0(0x1e2)]<_0x2e95e3[_0x7364c0(0x1e2)]?-0x1:_0x5254e9[_0x7364c0(0x1e2)]>_0x2e95e3[_0x7364c0(0x1e2)]?0x1:_0x5254e9[_0x7364c0(0x766)]-_0x2e95e3[_0x7364c0(0x766)];}async[_0x3565d6(0x5a9)](_0x2b13b1){const _0xcc5fcf=_0x3565d6;if(!this[_0xcc5fcf(0x709)])throw new _0x1ca0c3(_0x1ca0c3[_0xcc5fcf(0x69c)][_0xcc5fcf(0x3c2)]);const _0x409429=_0x2b13b1[_0xcc5fcf(0x4ba)]+'::'+_0x2b13b1[_0xcc5fcf(0x510)],_0x1c7f55=await _0x44908d[_0xcc5fcf(0x3da)](),_0x57506c={'id':_0x409429,'priority':Math[_0xcc5fcf(0x3c3)](),'timestamp':_0x1c7f55,'action':_0x2b13b1[_0xcc5fcf(0x234)]};if(await this[_0xcc5fcf(0x5ae)](_0x57506c))return _0x57506c;}async[_0x3565d6(0x654)](_0x55afd0){const _0x47d873=_0x3565d6;if(!this[_0x47d873(0x709)])throw new _0x1ca0c3(_0x1ca0c3[_0x47d873(0x69c)][_0x47d873(0x3c2)]);const _0x218a8f=_0x471255[_0x47d873(0x493)]('id')['where']('between',[_0x55afd0+'::',_0x55afd0+_0x47d873(0x41d)]),_0x4e50cf=await this[_0x47d873(0x709)][_0x47d873(0x299)](_0x218a8f);for(const _0x1b0956 of _0x4e50cf)await this[_0x47d873(0x709)][_0x47d873(0x409)](_0x1b0956['id']);}[_0x3565d6(0x6be)](){this['onMessage'](async(_0x39aec6,_0x1cf6ea)=>{const _0x311106=a0_0x2e59;if(_0x1cf6ea instanceof File)return;if(!await this[_0x311106(0x5ae)](_0x1cf6ea))return void this['checkSyncComplete'](_0x1cf6ea);if(!_0x1cf6ea[_0x311106(0x2aa)])throw new _0x1ca0c3(_0x1ca0c3[_0x311106(0x69c)][_0x311106(0x30b)]);const [_0x326253,_0x33e075]=_0x1cf6ea['id'][_0x311106(0x3bb)]('::'),_0x23e083=this['tables'][_0x311106(0x64f)](_0x326253);if(!_0x23e083)throw new _0x1ca0c3(_0x1ca0c3[_0x311106(0x69c)][_0x311106(0x451)],{'table':_0x23e083});let _0x2729dc=0x0;switch(_0x1cf6ea[_0x311106(0x234)]){case _0x4343b8['Add']:case _0x4343b8[_0x311106(0x6fe)]:{const _0x351fe3=_0x23e083['set'](_0x33e075,_0x1cf6ea['value'],!0x1);_0x2729dc=JSON[_0x311106(0x558)](_0x1cf6ea[_0x311106(0x2aa)])['length'],this[_0x311106(0x3aa)][_0x311106(0x741)](_0x1cf6ea['id'])&&this['syncTransactionsWritten']['push'](_0x351fe3);break;}case _0x4343b8['Delete']:{const _0x3a5231=_0x23e083[_0x311106(0x409)](_0x33e075,!0x1);this[_0x311106(0x3aa)][_0x311106(0x741)](_0x1cf6ea['id'])&&this['syncTransactionsWritten'][_0x311106(0x495)](_0x3a5231);break;}}_0x11c0d7['logServiceEvent'](_0x59f8e7[_0x311106(0x2e9)],{'type':_0x311106(0x5d7),'label':this[_0x311106(0x343)],'userId':this[_0x311106(0x41b)],'tableName':_0x326253,'key':_0x33e075,'size':_0x2729dc}),this[_0x311106(0x1a9)](_0x1cf6ea);});}[_0x3565d6(0x38c)](){const _0x59f3ac=_0x3565d6;this[_0x59f3ac(0x5df)]=this[_0x59f3ac(0x515)][_0x59f3ac(0x61f)](async _0x5e6ee5=>{const _0x5638be=_0x59f3ac;let _0x20c677=0x0;switch(_0x5e6ee5['action']){case _0x4343b8[_0x5638be(0x41a)]:case _0x4343b8[_0x5638be(0x6fe)]:case _0x4343b8[_0x5638be(0x729)]:{const _0x2b2646=await this[_0x5638be(0x5a9)](_0x5e6ee5);if(!_0x2b2646)return;_0x2b2646['value']=_0x5e6ee5['value'],this[_0x5638be(0x64c)](_0x2b2646),_0x20c677=JSON[_0x5638be(0x558)](_0x5e6ee5[_0x5638be(0x2aa)])[_0x5638be(0x49d)],this[_0x5638be(0x6bc)]+=0x1;break;}case _0x2f450a[_0x5638be(0x207)]:case _0x2f450a['List']:case _0x2f450a[_0x5638be(0x765)]:this[_0x5638be(0x6b0)]+=0x1;}_0x11c0d7[_0x5638be(0x574)](_0x59f8e7['KeyValueDatabase'],{'type':_0x5e6ee5[_0x5638be(0x234)],'label':this[_0x5638be(0x343)],'userId':this[_0x5638be(0x41b)],'tableName':_0x5e6ee5[_0x5638be(0x4ba)],'key':_0x5e6ee5['key'],'size':_0x20c677}),this[_0x5638be(0x40f)]();});}[_0x3565d6(0x387)](_0x5e1111){const _0x4efb6e=_0x3565d6;this['transactionTable']||(this[_0x4efb6e(0x709)]=new _0x2208da(_0x5e1111,_0xb97791));}[_0x3565d6(0x486)](){const _0x2ac624=_0x3565d6;this['syncTimeout']&&(clearTimeout(this[_0x2ac624(0x356)]),delete this[_0x2ac624(0x356)]);}[_0x3565d6(0x2d3)](){const _0x7e4c3f=_0x3565d6;this['eventListener']['publish']({'event':_0x8cb858[_0x7e4c3f(0x5de)]}),this[_0x7e4c3f(0x227)]?.(!0x0),delete this[_0x7e4c3f(0x227)],this['sendStats']();}async['publishSyncCompletedAfterWrites'](){const _0x51ab64=_0x3565d6;await Promise[_0x51ab64(0x73c)](this['syncTransactionsWritten']),this[_0x51ab64(0x2d3)]();}[_0x3565d6(0x1a9)](_0x27f4f4){const _0x277f9c=_0x3565d6;this[_0x277f9c(0x3aa)][_0x277f9c(0x741)](_0x27f4f4['id'])&&(this['clearSyncTimeout'](),this[_0x277f9c(0x3aa)]=this['transactionsToSync'][_0x277f9c(0x2de)](_0x302ee8=>_0x302ee8!==_0x27f4f4['id']),0x0!==this[_0x277f9c(0x3aa)][_0x277f9c(0x49d)]?this[_0x277f9c(0x356)]=window[_0x277f9c(0x758)](this[_0x277f9c(0x65e)],_0x3ec3d2):this[_0x277f9c(0x3e4)]());}[_0x3565d6(0x40f)](){const _0x367295=_0x3565d6;this[_0x367295(0x596)]&&clearTimeout(this[_0x367295(0x596)]),this['debounceStats']=window[_0x367295(0x758)](async()=>{const _0x521294=_0x367295;delete this[_0x521294(0x596)];let _0x371d5a=0x0;for(const _0x2f54f1 of this[_0x521294(0x3df)][_0x521294(0x3cb)]())_0x371d5a+=await _0x2f54f1[_0x521294(0x1bd)]();this[_0x521294(0x24e)][_0x521294(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62['Content'],'content':{'type':_0x101bc1['KeyValueDatabaseStats'],'label':this[_0x521294(0x343)],'stats':{'timestamp':Date[_0x521294(0x1aa)](),'storage':_0x371d5a,'messagesSent':this[_0x521294(0x2fd)],'messagesReceived':this[_0x521294(0x32c)],'bytesSent':this[_0x521294(0x33b)],'bytesReceived':this[_0x521294(0x48f)],'writes':this[_0x521294(0x6bc)],'reads':this['reads']}}}),_0x11c0d7[_0x521294(0x5dd)](_0x59f8e7[_0x521294(0x2e9)],this[_0x521294(0x343)],_0x371d5a);},0x1388);}}class _0x1632c6 extends _0x5e64ec{[_0x3565d6(0x4aa)];constructor(_0x3d460d,_0x4a9876,_0x390879){const _0x4e83f7=_0x3565d6;super(_0x3d460d,_0x4a9876),this[_0x4e83f7(0x4aa)]=_0x390879;}[_0x3565d6(0x385)](){const _0x47da00=_0x3565d6;return _0x19aef4[_0x47da00(0x2a4)];}[_0x3565d6(0x6d6)](){const _0x489787=_0x3565d6;return this[_0x489787(0x4aa)];}[_0x3565d6(0x2dc)](){const _0x4f9c2f=_0x3565d6;return this[_0x4f9c2f(0x4aa)]['id'];}}class _0x4f8306 extends _0x1632c6{[_0x3565d6(0x68c)];['params'];['topic'];[_0x3565d6(0x32e)]=_0x3c88b1();constructor(_0x1546f4,_0x40fd55,_0x3a711b,_0x1a783f,_0x57d9b5){const _0x31c047=_0x3565d6;super(_0x1546f4,_0x40fd55,_0x3a711b),this[_0x31c047(0x68c)]=_0x1a783f,this['params']=_0x57d9b5;}[_0x3565d6(0x6b1)](){const _0x10c679=_0x3565d6;this[_0x10c679(0x3eb)](_0x10c679(0x398)),this['removeTrack'](_0x10c679(0x612)),super[_0x10c679(0x6b1)]();}[_0x3565d6(0x598)](_0x5f15eb){const _0x4a02f4=_0x3565d6;if(!this[_0x4a02f4(0x4f2)])throw new _0x1ca0c3(_0x1ca0c3[_0x4a02f4(0x69c)][_0x4a02f4(0x5b6)],{'label':this[_0x4a02f4(0x343)],'ownerId':this['ownerId'],'remoteId':this['remoteId']});this['topic']['publish']({'sourceId':this[_0x4a02f4(0x6f9)],'content':{'action':_0x181e18[_0x4a02f4(0x41a)],'track':_0x5f15eb,'stream':this[_0x4a02f4(0x4aa)],'priority':_0xf2d596['Default'],'params':this['getInternalTrackParams'](_0x5f15eb[_0x4a02f4(0x711)],this[_0x4a02f4(0x63c)])}});}[_0x3565d6(0x3eb)](_0x3e8903){const _0x5dedb5=_0x3565d6,_0x231192=this[_0x5dedb5(0x1f4)](_0x3e8903);if(_0x231192){if(!this[_0x5dedb5(0x4f2)])return null;this[_0x5dedb5(0x4f2)]['publish']({'sourceId':this[_0x5dedb5(0x6f9)],'content':{'action':_0x181e18['Remove'],'track':_0x231192,'stream':this[_0x5dedb5(0x4aa)]}});}return _0x231192;}[_0x3565d6(0x62a)](_0x5079b4){const _0x3d929e=_0x3565d6;if(!this[_0x3d929e(0x4f2)])throw new _0x1ca0c3(_0x1ca0c3[_0x3d929e(0x69c)][_0x3d929e(0x5b6)],{'label':this[_0x3d929e(0x343)],'ownerId':this[_0x3d929e(0x6f9)],'remoteId':this[_0x3d929e(0x68c)]});this[_0x3d929e(0x4f2)][_0x3d929e(0x76d)]({'sourceId':this['ownerId'],'content':{'action':_0x181e18[_0x3d929e(0x6fe)],'priority':_0x5079b4,'stream':this['mediaStream']}});}[_0x3565d6(0x61f)]({trackKinds:_0x452636,params:_0x360e34},_0x27a035){const _0x33bd5a=_0x3565d6;if(!this['topic'])throw new _0x1ca0c3(_0x1ca0c3[_0x33bd5a(0x69c)][_0x33bd5a(0x5b6)],{'label':this[_0x33bd5a(0x343)],'ownerId':this['ownerId'],'remoteId':this[_0x33bd5a(0x68c)]});for(const _0x109266 of this[_0x33bd5a(0x4aa)]['getTracks']())_0x452636['includes'](_0x109266[_0x33bd5a(0x711)])&&this[_0x33bd5a(0x4f2)][_0x33bd5a(0x76d)]({'sourceId':this['ownerId'],'content':{'action':_0x181e18[_0x33bd5a(0x41a)],'track':_0x109266,'stream':this[_0x33bd5a(0x4aa)],'priority':_0x27a035,'params':this[_0x33bd5a(0x36d)](_0x109266[_0x33bd5a(0x711)],_0x360e34)}});}[_0x3565d6(0x1b0)]({params:_0x1f6df2}){const _0x4451df=_0x3565d6;if(!this[_0x4451df(0x4f2)])throw new _0x1ca0c3(_0x1ca0c3['codes']['OutgoingMediaStreamNoTopic'],{'label':this['label'],'ownerId':this[_0x4451df(0x6f9)],'remoteId':this['remoteId']});for(const _0x1d1c77 of this[_0x4451df(0x4aa)][_0x4451df(0x332)]())this[_0x4451df(0x4f2)]['publish']({'sourceId':this['ownerId'],'content':{'action':_0x181e18[_0x4451df(0x6fe)],'stream':this[_0x4451df(0x4aa)],'params':this[_0x4451df(0x36d)](_0x1d1c77[_0x4451df(0x711)],_0x1f6df2)}});}[_0x3565d6(0x71d)]({trackKinds:_0x11b2f3}){const _0x2db5a9=_0x3565d6;if(this['topic']){for(const _0x8a4655 of this[_0x2db5a9(0x4aa)][_0x2db5a9(0x332)]())_0x11b2f3[_0x2db5a9(0x741)](_0x8a4655[_0x2db5a9(0x711)])&&this[_0x2db5a9(0x4f2)]['publish']({'sourceId':this[_0x2db5a9(0x6f9)],'content':{'action':_0x181e18['Remove'],'stream':this[_0x2db5a9(0x4aa)],'track':_0x8a4655}});}}[_0x3565d6(0x3a8)](_0x2cfccb){const _0x2b1c97=_0x3565d6;this[_0x2b1c97(0x4f2)]=_0x2cfccb;}[_0x3565d6(0x738)](_0x1d4e9c){const _0x1923d5=_0x3565d6;_0x1d4e9c===this[_0x1923d5(0x4f2)]&&(delete this['topic'],this[_0x1923d5(0x32e)][_0x1923d5(0x76d)]());}[_0x3565d6(0x6c9)](_0x4d59b9){const _0x7b0a5d=_0x3565d6;return this[_0x7b0a5d(0x32e)][_0x7b0a5d(0x61f)](_0x4d59b9);}[_0x3565d6(0x1f4)](_0x4c3068){const _0x448fa5=_0x3565d6;return this[_0x448fa5(0x4aa)]['getTracks']()[_0x448fa5(0x664)](_0x311d58=>_0x311d58[_0x448fa5(0x711)]===_0x4c3068)||null;}[_0x3565d6(0x36d)](_0x1ce292,_0x138d1e){const _0x514747=_0x3565d6;let _0x14bf2b;return _0x514747(0x612)===_0x1ce292&&_0x138d1e?.['video']&&'boolean'!=typeof _0x138d1e['video']&&(_0x14bf2b={'kind':_0x514747(0x612),..._0x138d1e['video']},_0x14bf2b[_0x514747(0x615)]=this[_0x514747(0x2a1)]()),_0x514747(0x398)===_0x1ce292&&_0x138d1e?.['audio']&&_0x514747(0x56f)!=typeof _0x138d1e[_0x514747(0x398)]&&(_0x14bf2b={'kind':_0x514747(0x398),..._0x138d1e[_0x514747(0x398)]}),_0x14bf2b;}[_0x3565d6(0x2a1)](){const _0x3cf889=_0x3565d6;let _0x2a27f8={'width':0x0,'height':0x0};const _0x102c99=this[_0x3cf889(0x4aa)]['getVideoTracks']();if(_0x102c99[_0x3cf889(0x49d)]>0x0){const _0x509cfe=_0x102c99[0x0][_0x3cf889(0x40e)]();_0x509cfe['width']&&_0x509cfe['height']&&(_0x2a27f8={'width':_0x509cfe['width'],'height':_0x509cfe[_0x3cf889(0x290)]});}return _0x2a27f8;}}class _0x1c7bea extends _0x1632c6{[_0x3565d6(0x766)]=_0xf2d596[_0x3565d6(0x3ab)];['trackEndedListeners']=new Map();[_0x3565d6(0x3ff)]=new Map();constructor(_0x5d086d,_0x201f92,_0x10860f){const _0x17b1c9=_0x3565d6;super(_0x5d086d,_0x201f92,_0x10860f instanceof MediaStream?_0x10860f:_0x10860f[_0x17b1c9(0x532)]?_0x10860f[_0x17b1c9(0x532)]:_0x10860f[_0x17b1c9(0x1c6)]()),this[_0x17b1c9(0x4aa)][_0x17b1c9(0x332)]()[_0x17b1c9(0x1c3)](_0x425144=>this[_0x17b1c9(0x600)](_0x425144)),_0x11c0d7[_0x17b1c9(0x574)](_0x59f8e7[_0x17b1c9(0x6a7)],{'type':_0x17b1c9(0x76d),'label':this[_0x17b1c9(0x343)],'userId':this[_0x17b1c9(0x6f9)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x17b1c9(0x4aa)][_0x17b1c9(0x332)]()[_0x17b1c9(0x311)](_0x1550f1=>_0x1550f1['kind'])});}[_0x3565d6(0x6b1)](){const _0x459beb=_0x3565d6;this['outgoingStreams'][_0x459beb(0x31b)]>0x0&&(this[_0x459beb(0x3ff)]['forEach'](_0x5d9a98=>{const _0x232653=_0x459beb;_0x5d9a98[_0x232653(0x44d)](),_0x5d9a98[_0x232653(0x6b1)]();}),this[_0x459beb(0x3ff)][_0x459beb(0x376)]()),this[_0x459beb(0x759)]['forEach'](_0x1eeb30=>_0x1eeb30()),super[_0x459beb(0x6b1)]();}[_0x3565d6(0x76d)](_0x456577){const _0x55ed1d=_0x3565d6;this['systemTopic']['publish']({'sourceId':this[_0x55ed1d(0x6f9)],'destinationIds':_0x456577?[_0x456577]:void 0x0,'propagate':!0x0,'messageType':_0x3edd62[_0x55ed1d(0x422)],'content':{'type':_0x101bc1['PublishMediaStream'],'ownerId':this[_0x55ed1d(0x6f9)],'label':this[_0x55ed1d(0x343)],'stream':{'streamId':this[_0x55ed1d(0x2dc)](),'availableTrackKinds':this[_0x55ed1d(0x4aa)][_0x55ed1d(0x332)]()[_0x55ed1d(0x311)](_0x1f2dbf=>_0x1f2dbf[_0x55ed1d(0x711)])}}});}[_0x3565d6(0x5a8)](){const _0x1940ee=_0x3565d6;this[_0x1940ee(0x24e)][_0x1940ee(0x76d)]({'sourceId':this[_0x1940ee(0x6f9)],'propagate':!0x0,'messageType':_0x3edd62[_0x1940ee(0x422)],'content':{'type':_0x101bc1[_0x1940ee(0x568)],'ownerId':this[_0x1940ee(0x6f9)],'label':this[_0x1940ee(0x343)]}}),this[_0x1940ee(0x24e)][_0x1940ee(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x1940ee(0x422)],'content':{'type':_0x101bc1[_0x1940ee(0x73a)],'label':this[_0x1940ee(0x343)]}}),_0x11c0d7[_0x1940ee(0x574)](_0x59f8e7[_0x1940ee(0x6a7)],{'type':'unpublish','label':this[_0x1940ee(0x343)],'userId':this[_0x1940ee(0x6f9)],'streamId':this[_0x1940ee(0x2dc)]()});}[_0x3565d6(0x3b0)](){return this['priority'];}[_0x3565d6(0x62a)](_0x41d025){const _0x5baa9f=_0x3565d6;this['priority']=_0x41d025,this[_0x5baa9f(0x3ff)][_0x5baa9f(0x1c3)](_0x5863b0=>_0x5863b0['setPriority'](_0x41d025));}['getShareableStream'](_0x1bae52,_0x301569){const _0x436784=_0x3565d6;if(!this[_0x436784(0x3ff)][_0x436784(0x645)](_0x1bae52)){const _0x579e7a=new _0x4f8306(this['ownerId'],this[_0x436784(0x343)],this['mediaStream'],_0x1bae52,_0x301569),_0xaf76d1=_0x579e7a['onUnregisterPublisher'](()=>{const _0x181269=_0x436784;_0xaf76d1(),this[_0x181269(0x3ff)][_0x181269(0x64f)](_0x1bae52)?.[_0x181269(0x6b1)](),this[_0x181269(0x3ff)]['delete'](_0x1bae52);});this[_0x436784(0x3ff)][_0x436784(0x5bc)](_0x1bae52,_0x579e7a),_0x579e7a[_0x436784(0x586)](this[_0x436784(0x24e)]);}return this[_0x436784(0x3ff)][_0x436784(0x64f)](_0x1bae52);}[_0x3565d6(0x285)](){const _0x1f7477=_0x3565d6;return this[_0x1f7477(0x4aa)]['id'];}['handleLocalTrackFailure'](_0x1b0eb2){const _0x21b38a=_0x3565d6;this['systemTopic'][_0x21b38a(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x21b38a(0x422)],'content':{'type':_0x101bc1['LocalMediaStreamTrackFail'],'label':this[_0x21b38a(0x343)],'trackKinds':[_0x1b0eb2['kind']]}});}[_0x3565d6(0x600)](_0x222254){const _0x22da82=_0x3565d6,_0x4ddf19=()=>this[_0x22da82(0x4c9)](_0x222254);_0x222254['addEventListener'](_0x22da82(0x1ec),_0x4ddf19),_0x222254[_0x22da82(0x324)](_0x22da82(0x68a),_0x4ddf19),this['trackEndedListeners'][_0x22da82(0x5bc)](_0x222254[_0x22da82(0x711)],()=>{const _0xa9e142=_0x22da82;_0x222254[_0xa9e142(0x37e)]('ended',_0x4ddf19),_0x222254[_0xa9e142(0x37e)](_0xa9e142(0x68a),_0x4ddf19),this['trackEndedListeners'][_0xa9e142(0x409)](_0x222254[_0xa9e142(0x711)]);});}}class _0x105077 extends _0x1c7bea{[_0x3565d6(0x321)];['transformations']=[];['clientStream'];[_0x3565d6(0x315)];[_0x3565d6(0x46d)];['sourceVideo'];[_0x3565d6(0x2e3)];[_0x3565d6(0x4fa)];[_0x3565d6(0x6b2)];constructor(_0x18ae6f,_0x51d892,_0x40cb1b,_0x3c1fff,_0x4cfabe){const _0x1a4ad2=_0x3565d6;if(super(_0x18ae6f,_0x51d892,_0x40cb1b),this[_0x1a4ad2(0x321)]=_0x4cfabe,this[_0x1a4ad2(0x512)]=this[_0x1a4ad2(0x4aa)],this[_0x1a4ad2(0x6d2)]=document[_0x1a4ad2(0x25c)](_0x1a4ad2(0x612)),this[_0x1a4ad2(0x6d2)][_0x1a4ad2(0x2f8)]=!0x0,this[_0x1a4ad2(0x6d2)]['muted']=!0x0,this[_0x1a4ad2(0x6d2)][_0x1a4ad2(0x532)]=this[_0x1a4ad2(0x512)],this['sourceVideo'][_0x1a4ad2(0x1f5)](),this[_0x1a4ad2(0x6d2)][_0x1a4ad2(0x40c)]=()=>{const _0x271551=_0x1a4ad2;this[_0x271551(0x6d2)][_0x271551(0x68f)]();},this[_0x1a4ad2(0x2e3)]=document[_0x1a4ad2(0x25c)](_0x1a4ad2(0x2e3)),this[_0x1a4ad2(0x4fa)]=this[_0x1a4ad2(0x2e3)][_0x1a4ad2(0x6d1)]('2d'),this[_0x1a4ad2(0x4aa)]=this['canvas'][_0x1a4ad2(0x1c6)](_0x3c1fff),this[_0x1a4ad2(0x46d)]=this[_0x1a4ad2(0x321)][_0x1a4ad2(0x247)](),this['clientStream'][_0x1a4ad2(0x73f)]()['length']>0x0){const _0xf1ba72=this[_0x1a4ad2(0x512)][_0x1a4ad2(0x73f)]()[0x0];this[_0x1a4ad2(0x315)]=this[_0x1a4ad2(0x321)][_0x1a4ad2(0x195)](new MediaStream([_0xf1ba72])),this[_0x1a4ad2(0x315)]['connect'](this[_0x1a4ad2(0x46d)]);}const _0x3ba03f=this['audioDestination'][_0x1a4ad2(0x24b)][_0x1a4ad2(0x332)]()[0x0];this[_0x1a4ad2(0x4aa)][_0x1a4ad2(0x598)](_0x3ba03f),this[_0x1a4ad2(0x6b2)]=setInterval(()=>{const _0x5414d4=_0x1a4ad2;this[_0x5414d4(0x2e3)][_0x5414d4(0x49e)]=this[_0x5414d4(0x6d2)]['videoWidth'],this[_0x5414d4(0x2e3)]['height']=this[_0x5414d4(0x6d2)][_0x5414d4(0x2cf)],this[_0x5414d4(0x6d2)][_0x5414d4(0x62b)]?(0x0!==this[_0x5414d4(0x512)][_0x5414d4(0x6f1)]()['length']&&this[_0x5414d4(0x512)][_0x5414d4(0x6f1)]()[0x0]['enabled']?this[_0x5414d4(0x4aa)]['getVideoTracks']()[0x0]['enabled']=!0x0:this['mediaStream'][_0x5414d4(0x6f1)]()[0x0]['enabled']=!0x1,0x0!==this[_0x5414d4(0x512)][_0x5414d4(0x73f)]()['length']&&this[_0x5414d4(0x512)]['getAudioTracks']()[0x0][_0x5414d4(0x518)]?this[_0x5414d4(0x4aa)]['getAudioTracks']()[0x0][_0x5414d4(0x518)]=!0x0:this[_0x5414d4(0x4aa)]['getAudioTracks']()[0x0][_0x5414d4(0x518)]=!0x1,this[_0x5414d4(0x4fa)][_0x5414d4(0x297)](this[_0x5414d4(0x6d2)],0x0,0x0)):this[_0x5414d4(0x4fa)][_0x5414d4(0x35d)](0x0,0x0,this[_0x5414d4(0x2e3)][_0x5414d4(0x49e)],this[_0x5414d4(0x2e3)]['height']);},0x3e8/_0x3c1fff);}['destroy'](){const _0x3111a9=_0x3565d6;clearInterval(this['interval']),this[_0x3111a9(0x6d2)][_0x3111a9(0x1bc)](),this[_0x3111a9(0x2e3)][_0x3111a9(0x1bc)](),this['audioSource']?.[_0x3111a9(0x688)](),this[_0x3111a9(0x46d)][_0x3111a9(0x688)](),this[_0x3111a9(0x4aa)][_0x3111a9(0x332)]()[_0x3111a9(0x1c3)](_0x2161b6=>{const _0x2a73ad=_0x3111a9;_0x2161b6[_0x2a73ad(0x380)](),this[_0x2a73ad(0x4aa)][_0x2a73ad(0x3eb)](_0x2161b6);}),super['destroy']();}[_0x3565d6(0x598)](_0x4c2f52){const _0x27e4ff=_0x3565d6,_0x3e95ce=this['getTrack'](_0x4c2f52[_0x27e4ff(0x711)]);_0x3e95ce&&this['removeTrack'](_0x3e95ce),'audio'!==_0x4c2f52[_0x27e4ff(0x711)]?('video'===_0x4c2f52[_0x27e4ff(0x711)]&&this[_0x27e4ff(0x1ff)](_0x4c2f52),this[_0x27e4ff(0x600)](_0x4c2f52)):this[_0x27e4ff(0x256)](_0x4c2f52);}['removeTrack'](_0x269af0){const _0x481f82=_0x3565d6,_0x41a30d=this['getTrackFromParam'](_0x269af0);return _0x41a30d&&(_0x481f82(0x398)===_0x41a30d['kind']&&(this[_0x481f82(0x315)]?.[_0x481f82(0x688)](),this[_0x481f82(0x315)]=void 0x0),this[_0x481f82(0x759)][_0x481f82(0x64f)](_0x41a30d[_0x481f82(0x711)])?.(),this['clientStream'][_0x481f82(0x3eb)](_0x41a30d)),_0x41a30d;}[_0x3565d6(0x331)](_0x3b68f7){const _0x19faf0=_0x3565d6;this[_0x19faf0(0x3eb)](_0x3b68f7[_0x19faf0(0x711)]),this[_0x19faf0(0x598)](_0x3b68f7);}['setTransformations'](_0x2ab683){const _0x54e559=_0x3565d6;this[_0x54e559(0x5c9)]=_0x2ab683;}[_0x3565d6(0x1f4)](_0x2e887d){const _0x475364=_0x3565d6;return this['clientStream'][_0x475364(0x332)]()[_0x475364(0x664)](_0x339414=>_0x339414[_0x475364(0x711)]===_0x2e887d)||null;}[_0x3565d6(0x5b0)](_0x48390a){const _0x45c6c1=_0x3565d6;return _0x45c6c1(0x5c6)==typeof _0x48390a?this[_0x45c6c1(0x1f4)](_0x48390a):_0x48390a;}[_0x3565d6(0x256)](_0x3f5bae){const _0x437ca9=_0x3565d6;_0x437ca9(0x1b2)===this[_0x437ca9(0x321)]['state']&&this[_0x437ca9(0x321)][_0x437ca9(0x374)](),this[_0x437ca9(0x512)][_0x437ca9(0x598)](_0x3f5bae),this[_0x437ca9(0x315)]=this[_0x437ca9(0x321)][_0x437ca9(0x195)](this[_0x437ca9(0x512)]),this['audioSource'][_0x437ca9(0x1c1)](this['audioDestination']);}[_0x3565d6(0x1ff)](_0x591615){const _0x3a003b=_0x3565d6;this[_0x3a003b(0x512)][_0x3a003b(0x598)](_0x591615),this[_0x3a003b(0x6d2)][_0x3a003b(0x1f5)]();}}class _0x5dc061 extends _0x1c7bea{}class _0x36b129 extends _0x3a759f{[_0x3565d6(0x54e)]=new Map();[_0x3565d6(0x596)];constructor(_0x3ffcd6,_0x2fc57d){const _0x32bb63=_0x3565d6;if('string'!=typeof _0x2fc57d)throw new _0x27552e(_0x338970[_0x32bb63(0x602)],_0x32bb63(0x461));super(_0x3ffcd6,_0x2fc57d);}[_0x3565d6(0x385)](){const _0x2e61ec=_0x3565d6;return _0x19aef4[_0x2e61ec(0x2d5)];}['publish'](_0x4fcbc7,_0x32b198){const _0x349875=_0x3565d6;_0x11c0d7['log'](_0x3e1340[_0x349875(0x2d5)],'PubSubTopic\x20publish',this[_0x349875(0x6f9)],_0x4fcbc7,_0x32b198),_0x11c0d7[_0x349875(0x574)](_0x59f8e7['PubSub'],{'type':_0x349875(0x76d),'label':this[_0x349875(0x343)],'userId':this['ownerId'],'remoteIds':_0x32b198??[],'contentType':_0x4fcbc7 instanceof File?_0x19aef4[_0x349875(0x75d)]:_0x19aef4[_0x349875(0x286)],'size':_0x4fcbc7 instanceof File?_0x4fcbc7[_0x349875(0x31b)]:JSON[_0x349875(0x558)](_0x4fcbc7)[_0x349875(0x49d)]}),this[_0x349875(0x40f)](),this[_0x349875(0x64c)](_0x4fcbc7,_0x32b198);}[_0x3565d6(0x61f)](_0x5edb33,_0x42e79e){const _0x201533=_0x3565d6;if(this['unsubscribeHandler'][_0x201533(0x645)](_0x5edb33))throw new _0x27552e(_0x338970[_0x201533(0x5b3)],_0x201533(0x599));this[_0x201533(0x54e)][_0x201533(0x5bc)](_0x5edb33,this[_0x201533(0x4dc)]((_0x433dec,_0xff297f)=>{const _0x107850=_0x201533;_0x107850(0x23a)===_0x5edb33&&_0xff297f instanceof File||!(_0x107850(0x50a)!==_0x5edb33||_0xff297f instanceof File)||(_0x11c0d7[_0x107850(0x71b)](_0x3e1340['PubSub'],_0x107850(0x70f),this[_0x107850(0x6f9)],_0x433dec,_0xff297f),_0x11c0d7['logServiceEvent'](_0x59f8e7[_0x107850(0x2d5)],{'type':_0x107850(0x61f),'label':this['label'],'userId':this['ownerId'],'remoteId':_0x433dec,'contentType':_0x5edb33,'size':_0xff297f instanceof File?_0xff297f['size']:JSON[_0x107850(0x558)](_0xff297f)[_0x107850(0x49d)]}),this[_0x107850(0x40f)](),_0x42e79e(_0x433dec,_0xff297f));}));}[_0x3565d6(0x71d)](_0x19bb17){const _0x2a23bc=_0x3565d6;this[_0x2a23bc(0x54e)]['get'](_0x19bb17)?.(),this[_0x2a23bc(0x54e)][_0x2a23bc(0x409)](_0x19bb17);}[_0x3565d6(0x6b1)](){const _0x29b277=_0x3565d6;this['unsubscribeHandler'][_0x29b277(0x1c3)](_0x1151c3=>_0x1151c3()),clearTimeout(this['debounceStats']),delete this[_0x29b277(0x596)],super[_0x29b277(0x6b1)]();}[_0x3565d6(0x208)](){const _0x402a19=_0x3565d6;this[_0x402a19(0x24e)]?.[_0x402a19(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62['Content'],'content':{'type':_0x101bc1[_0x402a19(0x417)],'label':this[_0x402a19(0x343)]}});}[_0x3565d6(0x40f)](){const _0x2e0c5c=_0x3565d6;this[_0x2e0c5c(0x596)]&&clearTimeout(this[_0x2e0c5c(0x596)]),this[_0x2e0c5c(0x596)]=window[_0x2e0c5c(0x758)](()=>{const _0x269b61=_0x2e0c5c;this[_0x269b61(0x24e)]?.[_0x269b61(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x269b61(0x422)],'content':{'type':_0x101bc1['PubSubTopicStats'],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x269b61(0x2fd)],'messagesReceived':this[_0x269b61(0x32c)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x269b61(0x48f)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x3ed793 extends _0x1632c6{[_0x3565d6(0x41b)];[_0x3565d6(0x519)];[_0x3565d6(0x623)];['unsubscribeHandler'];[_0x3565d6(0x39a)];[_0x3565d6(0x3b3)];[_0x3565d6(0x3ff)]=new Map();[_0x3565d6(0x54d)];[_0x3565d6(0x50f)]=new Set();[_0x3565d6(0x197)];[_0x3565d6(0x644)]=_0x25e35b();[_0x3565d6(0x759)]=new Map();constructor(_0x290a6f,_0x8b209f,_0x60b8af,_0x2a6bc5,_0x2b0520){const _0x18fbc5=_0x3565d6;super(_0x8b209f,_0x60b8af,new MediaStream()),this[_0x18fbc5(0x41b)]=_0x290a6f,this[_0x18fbc5(0x519)]=_0x2a6bc5,this['availableTrackKinds']=_0x2b0520,this['mediaStream'][_0x18fbc5(0x332)]()[_0x18fbc5(0x1c3)](_0x62d11a=>this[_0x18fbc5(0x600)](_0x62d11a));}['destroy'](){const _0x57fc61=_0x3565d6;this[_0x57fc61(0x3ff)][_0x57fc61(0x31b)]>0x0&&(this[_0x57fc61(0x3ff)][_0x57fc61(0x1c3)](_0x1a19f1=>{const _0x479728=_0x57fc61;_0x1a19f1[_0x479728(0x44d)](),_0x1a19f1[_0x479728(0x6b1)]();}),this[_0x57fc61(0x3ff)]['clear']()),this['trackEndedListeners'][_0x57fc61(0x1c3)](_0x4ee095=>_0x4ee095()),this[_0x57fc61(0x4aa)][_0x57fc61(0x332)]()[_0x57fc61(0x1c3)](_0x4fbc43=>this[_0x57fc61(0x4aa)]['removeTrack'](_0x4fbc43)),this[_0x57fc61(0x3b3)]&&(clearTimeout(this[_0x57fc61(0x3b3)]),delete this['updateDebounce']),this[_0x57fc61(0x39a)]?.(),super[_0x57fc61(0x6b1)]();}[_0x3565d6(0x6bf)](_0x226a09){const _0x47fa1f=_0x3565d6;this[_0x47fa1f(0x54e)]=_0x226a09[_0x47fa1f(0x61f)](({content:_0x175f0d})=>{const _0x104422=_0x47fa1f;switch(_0x175f0d[_0x104422(0x234)]){case _0x181e18[_0x104422(0x296)]:if(_0x11c0d7[_0x104422(0x71b)](_0x3e1340['Subscription'],_0x104422(0x61b),this[_0x104422(0x41b)],this[_0x104422(0x197)]),_0x175f0d['stream']['id']!==this[_0x104422(0x519)]||_0x175f0d['providerId']!==this['providerId'])return;this['removeTrack'](_0x175f0d[_0x104422(0x66d)]['kind']),this[_0x104422(0x4aa)]['addTrack'](_0x175f0d[_0x104422(0x66d)]);for(const [_0xeb1df8,_0x37ec82]of this[_0x104422(0x3ff)][_0x104422(0x20a)]())try{_0x37ec82[_0x104422(0x598)](_0x175f0d[_0x104422(0x66d)]);}catch(_0x3b3be3){_0x37ec82['destroy'](),this[_0x104422(0x3ff)][_0x104422(0x409)](_0xeb1df8);}this[_0x104422(0x600)](_0x175f0d[_0x104422(0x66d)]),this[_0x104422(0x447)](),_0x104422(0x612)===_0x175f0d[_0x104422(0x66d)]['kind']&&this[_0x104422(0x54d)]&&(this[_0x104422(0x4aa)][_0x104422(0x2f0)]?setTimeout(()=>this['renderElement']?.['play'](),0x0):setTimeout(()=>this[_0x104422(0x54d)]?.[_0x104422(0x1f5)](),0x0),this[_0x104422(0x21d)]());break;case _0x181e18[_0x104422(0x359)]:if(_0x175f0d[_0x104422(0x24b)]['id']!==this[_0x104422(0x519)]||_0x175f0d[_0x104422(0x197)]!==this['providerId'])return;this[_0x104422(0x3eb)](_0x175f0d[_0x104422(0x66d)][_0x104422(0x711)]),this[_0x104422(0x54d)]&&_0x104422(0x612)===_0x175f0d[_0x104422(0x66d)][_0x104422(0x711)]&&(this[_0x104422(0x39a)]?.(),this['mediaStream'][_0x104422(0x332)]()[_0x104422(0x49d)]>0x0?this['renderElement'][_0x104422(0x1f5)]():this[_0x104422(0x54d)][_0x104422(0x532)]=null);}});}[_0x3565d6(0x5e2)](){const _0x6b29a=_0x3565d6;this[_0x6b29a(0x54e)]?.(),this[_0x6b29a(0x759)]['forEach'](_0x4ae0d2=>_0x4ae0d2()),delete this[_0x6b29a(0x54e)];}['getInternalStreamId'](){const _0x57d0f6=_0x3565d6;return this[_0x57d0f6(0x519)];}['setInternalId'](_0x20334a){const _0x2f2e75=_0x3565d6;this[_0x2f2e75(0x519)]=_0x20334a;}[_0x3565d6(0x5ec)](){const _0xa3f366=_0x3565d6;return this[_0xa3f366(0x623)];}[_0x3565d6(0x3d6)](_0x351615){const _0x5dc5dc=_0x3565d6;for(const _0x22fdee of _0x351615||this[_0x5dc5dc(0x623)])if(!this[_0x5dc5dc(0x4aa)][_0x5dc5dc(0x332)]()[_0x5dc5dc(0x664)](_0x477a9e=>_0x477a9e['kind']===_0x22fdee))return!0x1;return!0x0;}['getResolution'](){const _0xc629a6=_0x3565d6;let _0x3e5341={'width':0x0,'height':0x0};const _0x3b478d=this[_0xc629a6(0x4aa)][_0xc629a6(0x6f1)]();if(_0x3b478d[_0xc629a6(0x49d)]>0x0){const _0x7b572e=_0x3b478d[0x0]['getSettings']();_0x7b572e['width']&&_0x7b572e['height']&&(_0x3e5341={'width':_0x7b572e['width'],'height':_0x7b572e[_0xc629a6(0x290)]});}return _0x3e5341;}['isSubscribed'](_0x3814df){const _0x14e618=_0x3565d6;for(const _0x5dabbf of _0x3814df)if(!this[_0x14e618(0x50f)]['has'](_0x5dabbf))return!0x1;return!0x0;}[_0x3565d6(0x1cb)](_0x457080,_0x57fe4c){const _0x2c948c=_0x3565d6;if(!this[_0x2c948c(0x3ff)]['has'](_0x457080)){const _0x368386=new _0x4f8306(this[_0x2c948c(0x6f9)],this['label'],this[_0x2c948c(0x4aa)],_0x457080,_0x57fe4c),_0x4cda60=_0x368386[_0x2c948c(0x6c9)](()=>{const _0x297fb4=_0x2c948c;_0x4cda60(),this[_0x297fb4(0x3ff)][_0x297fb4(0x64f)](_0x457080)?.[_0x297fb4(0x6b1)](),this[_0x297fb4(0x3ff)][_0x297fb4(0x409)](_0x457080);});this[_0x2c948c(0x3ff)][_0x2c948c(0x5bc)](_0x457080,_0x368386),_0x368386['registerSystemPublisher'](this[_0x2c948c(0x24e)]);}return this[_0x2c948c(0x3ff)][_0x2c948c(0x64f)](_0x457080);}['getShareableStreamId'](){const _0x6c105d=_0x3565d6;return this[_0x6c105d(0x4aa)]['id'];}['getPriority'](){const _0x109f7c=_0x3565d6;return _0xf2d596[_0x109f7c(0x3ab)];}[_0x3565d6(0x4ef)](){const _0x203bc1=_0x3565d6;return Array[_0x203bc1(0x25d)](this[_0x203bc1(0x50f)]);}[_0x3565d6(0x61f)](_0x26d802){const _0x3a7bcf=_0x3565d6;let _0x19949e=[];_0x26d802?(_0x3a7bcf(0x41c)!=typeof _0x26d802[_0x3a7bcf(0x612)]||_0x26d802[_0x3a7bcf(0x612)][_0x3a7bcf(0x54d)]instanceof HTMLVideoElement||!this[_0x3a7bcf(0x54d)]||(_0x26d802[_0x3a7bcf(0x612)]={'renderElement':this[_0x3a7bcf(0x54d)]}),_0x184088(_0x26d802),_0x26d802[_0x3a7bcf(0x612)]&&(_0x19949e[_0x3a7bcf(0x495)](_0x3a7bcf(0x612)),'boolean'!=typeof _0x26d802[_0x3a7bcf(0x612)]&&_0x26d802[_0x3a7bcf(0x612)][_0x3a7bcf(0x54d)]&&(this[_0x3a7bcf(0x54d)]=_0x26d802[_0x3a7bcf(0x612)][_0x3a7bcf(0x54d)],_0x26d802[_0x3a7bcf(0x612)][_0x3a7bcf(0x5d5)]||(_0x26d802[_0x3a7bcf(0x612)][_0x3a7bcf(0x5d5)]={'width':this[_0x3a7bcf(0x54d)][_0x3a7bcf(0x6b5)],'height':this[_0x3a7bcf(0x54d)][_0x3a7bcf(0x565)]}),delete _0x26d802['video']['renderElement'])),_0x26d802[_0x3a7bcf(0x398)]&&_0x19949e[_0x3a7bcf(0x495)](_0x3a7bcf(0x398))):_0x19949e=this[_0x3a7bcf(0x5ec)](),this['isSubscribed'](_0x19949e)||(_0x19949e[_0x3a7bcf(0x1c3)](_0x575980=>this[_0x3a7bcf(0x50f)][_0x3a7bcf(0x6b4)](_0x575980)),this[_0x3a7bcf(0x24e)][_0x3a7bcf(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x3a7bcf(0x422)],'content':{'type':_0x101bc1['SubscribeMediaStream'],'label':this['label'],'ownerId':this[_0x3a7bcf(0x6f9)],'trackKinds':_0x19949e,'params':_0x26d802}}),_0x11c0d7[_0x3a7bcf(0x574)](_0x59f8e7[_0x3a7bcf(0x6a7)],{'type':_0x3a7bcf(0x61f),'label':this['label'],'userId':this[_0x3a7bcf(0x41b)],'sourceId':this[_0x3a7bcf(0x6f9)],'streamId':this[_0x3a7bcf(0x519)],'trackKinds':_0x19949e}));}[_0x3565d6(0x1b0)](_0x2baef9){const _0x3db7ec=_0x3565d6;_0x184088(_0x2baef9),this[_0x3db7ec(0x3b3)]&&clearTimeout(this[_0x3db7ec(0x3b3)]),this[_0x3db7ec(0x3b3)]=setTimeout(()=>{const _0x3270a4=_0x3db7ec;delete this['updateDebounce'],this[_0x3270a4(0x24e)]['publish']({'sourceId':_0x13edb4,'messageType':_0x3edd62['Content'],'content':{'type':_0x101bc1[_0x3270a4(0x3ad)],'label':this[_0x3270a4(0x343)],'ownerId':this[_0x3270a4(0x6f9)],'params':_0x2baef9}});},0x1f4);}[_0x3565d6(0x71d)](_0x23054f){const _0x163941=_0x3565d6;_0x23054f||(_0x23054f=this[_0x163941(0x5ec)]()),(_0x23054f=Array[_0x163941(0x4d8)](_0x23054f)?_0x23054f:[_0x23054f])[_0x163941(0x1c3)](_0x17fa61=>this[_0x163941(0x50f)][_0x163941(0x409)](_0x17fa61)),this[_0x163941(0x24e)][_0x163941(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x163941(0x422)],'content':{'type':_0x101bc1['UnsubscribeMediaStream'],'label':this[_0x163941(0x343)],'ownerId':this[_0x163941(0x6f9)],'trackKinds':_0x23054f,'remainingTracks':this['subscribedTracks']['size']}});}[_0x3565d6(0x5cf)](_0xcfbc32){const _0x18f5dd=_0x3565d6;return this[_0x18f5dd(0x644)][_0x18f5dd(0x61f)](_0xcfbc32);}[_0x3565d6(0x2cd)](){return this['providerId'];}[_0x3565d6(0x4b0)](_0x125354){const _0x59ec91=_0x3565d6;this[_0x59ec91(0x197)]!==_0x125354&&(this[_0x59ec91(0x197)]=_0x125354,this['providerListener'][_0x59ec91(0x76d)](_0x125354));}[_0x3565d6(0x36c)](_0x51615c){const _0x3a28c2=_0x3565d6;this[_0x3a28c2(0x759)][_0x3a28c2(0x64f)](_0x51615c)?.(),this[_0x3a28c2(0x759)][_0x3a28c2(0x409)](_0x51615c);}[_0x3565d6(0x3eb)](_0x27b473){const _0x185e49=_0x3565d6,_0x38001a=this[_0x185e49(0x4aa)][_0x185e49(0x332)]()[_0x185e49(0x664)](_0x2f0d00=>_0x2f0d00[_0x185e49(0x711)]===_0x27b473);_0x38001a&&(this[_0x185e49(0x4aa)]['removeTrack'](_0x38001a),this['outgoingStreams']['forEach'](_0x1c9187=>_0x1c9187[_0x185e49(0x3eb)](_0x27b473)),this[_0x185e49(0x759)]['get'](_0x27b473)?.());}[_0x3565d6(0x447)](){const _0x47e4aa=_0x3565d6;this[_0x47e4aa(0x54d)]&&(this[_0x47e4aa(0x54d)][_0x47e4aa(0x532)]&&this['renderElement'][_0x47e4aa(0x532)]===this['mediaStream']||(this[_0x47e4aa(0x54d)]['srcObject']=this[_0x47e4aa(0x4aa)]));}[_0x3565d6(0x21d)](){const _0xbe64fa=_0x3565d6;if(this[_0xbe64fa(0x54d)]&&!this[_0xbe64fa(0x39a)]&&_0xbe64fa(0x1bb)!=typeof ResizeObserver){let _0x59cc08=this[_0xbe64fa(0x54d)][_0xbe64fa(0x6b5)],_0x13d11b=this[_0xbe64fa(0x54d)][_0xbe64fa(0x565)];const _0x4bbbae=new ResizeObserver(_0x152c1e=>{const _0x424d6f=_0xbe64fa,{width:_0xf47240,height:_0x111716}=_0x152c1e[0x0]['contentRect'];_0x59cc08===_0xf47240&&_0x13d11b===_0x111716||(_0x59cc08=Math[_0x424d6f(0x457)](_0xf47240),_0x13d11b=Math[_0x424d6f(0x457)](_0x111716),this[_0x424d6f(0x1b0)]({'video':{'maxResolution':{'width':_0xf47240,'height':_0x111716}}}));});_0x4bbbae[_0xbe64fa(0x69f)](this['renderElement']),this[_0xbe64fa(0x39a)]=()=>_0x4bbbae['disconnect']();}}[_0x3565d6(0x517)](_0x44025b){const _0x4b2ac5=_0x3565d6,_0x1fb46c=[];for(const _0xbd0231 of this[_0x4b2ac5(0x50f)])this[_0x4b2ac5(0x3eb)](_0xbd0231),_0x1fb46c[_0x4b2ac5(0x495)](_0xbd0231);this['providerId']&&this[_0x4b2ac5(0x24e)]['publish']({'sourceId':_0x13edb4,'messageType':_0x3edd62['Content'],'content':{'type':_0x101bc1[_0x4b2ac5(0x494)],'label':this['label'],'streamId':this[_0x4b2ac5(0x519)],'ownerId':this['ownerId'],'providerId':this['providerId'],'trackKinds':_0x1fb46c}});}['setupTrackEndedListeners'](_0x5cd145){const _0x1deb08=_0x3565d6,_0x1b9adf=()=>this[_0x1deb08(0x517)](_0x5cd145);_0x5cd145[_0x1deb08(0x324)](_0x1deb08(0x1ec),_0x1b9adf),_0x5cd145[_0x1deb08(0x324)]('mute',_0x1b9adf),this[_0x1deb08(0x759)][_0x1deb08(0x5bc)](_0x5cd145['kind'],()=>{const _0x1ef835=_0x1deb08;_0x5cd145[_0x1ef835(0x37e)]('ended',_0x1b9adf),_0x5cd145['removeEventListener'](_0x1ef835(0x68a),_0x1b9adf),this[_0x1ef835(0x759)][_0x1ef835(0x409)](_0x5cd145[_0x1ef835(0x711)]);});}}class _0x1f7400{['vendorId'];[_0x3565d6(0x390)];[_0x3565d6(0x53f)];constructor(_0x147aca,_0x4f2e23){const _0xd59475=_0x3565d6;this[_0xd59475(0x740)]=_0x147aca,this[_0xd59475(0x390)]=_0x4f2e23,this[_0xd59475(0x53f)]=_0xd59475(0x522)+this['vendorId']+'ccc'+this[_0xd59475(0x390)];}async[_0x3565d6(0x5ae)](_0x41b25f,_0x4cb814,_0x359d60){const _0xbdca6f=_0x3565d6;if(!0x1===(await(0x0,_0x11586b[_0xbdca6f(0x727)])((0x0,_0x11586b[_0xbdca6f(0x75c)])(_0x44908d[_0xbdca6f(0x692)](),_0xbdca6f(0x58c)+this[_0xbdca6f(0x53f)]+_0xbdca6f(0x1d9)+_0x4cb814+'/transactions/lastTransaction'),_0x4268d1=>{const _0x2da9b8=_0xbdca6f;if(!_0x4268d1)return _0x41b25f['id'];if(_0x4268d1!==_0x359d60)throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x2da9b8(0x3ef)]);return _0x41b25f['id'];}))[_0xbdca6f(0x36b)])throw new _0x1ca0c3(_0x1ca0c3['codes'][_0xbdca6f(0x1f0)]);_0x41b25f['parentId']||delete _0x41b25f[_0xbdca6f(0x6a4)],await(0x0,_0x11586b[_0xbdca6f(0x5bc)])((0x0,_0x11586b[_0xbdca6f(0x75c)])(_0x44908d['getDatabase'](),'clusters/'+this[_0xbdca6f(0x53f)]+_0xbdca6f(0x1d9)+_0x4cb814+'/transactions/'+_0x41b25f['id']),_0x41b25f);}async['getTransactions'](_0x53df99,_0x2adbf1){const _0x575f85=_0x3565d6;let _0x425fd7=[];const _0x1e2d7a=await(0x0,_0x11586b['get'])((0x0,_0x11586b[_0x575f85(0x75c)])(_0x44908d['getDatabase'](),'clusters/'+this[_0x575f85(0x53f)]+_0x575f85(0x1d9)+_0x53df99+'/transactions'));if(!_0x1e2d7a['exists']())return _0x425fd7;const _0xd71cf=_0x1e2d7a[_0x575f85(0x30e)]();_0x425fd7=Object['values'](_0xd71cf)['filter'](_0x311f6f=>'string'!=typeof _0x311f6f);const _0x536b44=[];let _0x5974ad=_0x425fd7['find'](_0x4c3f86=>_0x4c3f86[_0x575f85(0x6a4)]===_0x2adbf1);for(;_0x5974ad;)_0x536b44['push'](_0x5974ad),_0x5974ad=_0x425fd7[_0x575f85(0x664)](_0x83324=>_0x83324[_0x575f85(0x6a4)]===_0x5974ad['id']);return _0x536b44;}}class _0x169aa6{['configs'];[_0x3565d6(0x33e)];[_0x3565d6(0x321)];['localMediaStreams']=new Map();[_0x3565d6(0x622)]=new Map();['pubSubTopics']=new Map();[_0x3565d6(0x6ec)]=new Map();[_0x3565d6(0x587)]=new Map();[_0x3565d6(0x73b)];constructor(_0xdeb998,_0x1adb7a,_0x1d7c24){const _0x27a101=_0x3565d6;this[_0x27a101(0x45a)]=_0xdeb998,this[_0x27a101(0x33e)]=_0x1adb7a,this[_0x27a101(0x321)]=_0x1d7c24,this['transactionService']=new _0x1f7400(this['configs'][_0x27a101(0x740)],this['configs']['clusterId']);}[_0x3565d6(0x208)](_0x5439d9=!0x1){const _0x38f2b3=_0x3565d6;this[_0x38f2b3(0x622)][_0x38f2b3(0x1c3)]((_0x21ca49,_0x5cbf8b)=>{const _0x2dd88d=_0x38f2b3;_0x21ca49[_0x2dd88d(0x1c3)]((_0xe2f529,_0x127547)=>{const _0x450e39=_0x2dd88d;this[_0x450e39(0x3cd)](_0x5cbf8b,_0x127547);});}),_0x5439d9||(this[_0x38f2b3(0x435)][_0x38f2b3(0x1c3)]((_0x48f76d,_0x4c35dd)=>{this['removeLocalMediaStream'](_0x4c35dd);}),this[_0x38f2b3(0x3a5)][_0x38f2b3(0x1c3)]((_0x37a082,_0x9bdc4d)=>{const _0x465f81=_0x38f2b3;this[_0x465f81(0x51c)](_0x9bdc4d);}),this['objectStores']['forEach']((_0x2f1821,_0xa64d31)=>{const _0x4c492c=_0x38f2b3;this[_0x4c492c(0x6e7)](_0xa64d31);}),this[_0x38f2b3(0x587)][_0x38f2b3(0x1c3)]((_0x2e9b6d,_0x3ac4b0)=>{const _0x32fc2e=_0x38f2b3;this[_0x32fc2e(0x69d)](_0x3ac4b0);}));}['createObjectStoreBucket'](_0x3e3597){const _0x2b4038=_0x3565d6;if(this[_0x2b4038(0x6ec)][_0x2b4038(0x645)](_0x3e3597))throw new _0x27552e(_0x338970[_0x2b4038(0x531)],_0x2b4038(0x492));const _0x40da60=new _0x28e048(this['configs'][_0x2b4038(0x41b)],_0x3e3597,this[_0x2b4038(0x45a)]['clusterId'],this['configs'][_0x2b4038(0x740)],this[_0x2b4038(0x73b)]);return this['objectStores'][_0x2b4038(0x5bc)](_0x3e3597,_0x40da60),this[_0x2b4038(0x45a)][_0x2b4038(0x4a1)][_0x2b4038(0x678)](_0x40da60),_0x40da60;}async['createKeyValueDatabase'](_0x8fb49e,_0x29b32b){const _0x36419b=_0x3565d6;try{const _0x5de53c=new _0x20425a(this[_0x36419b(0x45a)][_0x36419b(0x41b)],_0x8fb49e,this['configs'][_0x36419b(0x390)],this[_0x36419b(0x45a)][_0x36419b(0x740)],_0x29b32b);return this[_0x36419b(0x587)][_0x36419b(0x5bc)](_0x8fb49e,_0x5de53c),this[_0x36419b(0x45a)][_0x36419b(0x4a1)][_0x36419b(0x678)](_0x5de53c),_0x5de53c;}catch(_0x53a3fc){if(_0x53a3fc instanceof _0x27552e)throw _0x53a3fc;throw console[_0x36419b(0x421)](_0x36419b(0x1c2),_0x53a3fc),new _0x1ca0c3(_0x1ca0c3[_0x36419b(0x69c)]['KeyValueDatabaseCreationFailed'],{'label':_0x8fb49e,'clusterId':this['configs'][_0x36419b(0x390)],'vendorId':this[_0x36419b(0x45a)][_0x36419b(0x740)]});}}[_0x3565d6(0x609)](_0x1706f6,_0x499d2e){const _0x1e1d43=_0x3565d6;if(this[_0x1e1d43(0x435)][_0x1e1d43(0x645)](_0x1706f6))throw new _0x27552e(_0x338970[_0x1e1d43(0x27d)],_0x1e1d43(0x66c));const _0x24ece7=new _0x105077(this[_0x1e1d43(0x45a)][_0x1e1d43(0x41b)],_0x1706f6,_0x499d2e,this['maxFps'],this['audioContext']);return this[_0x1e1d43(0x435)]['set'](_0x1706f6,_0x24ece7),this[_0x1e1d43(0x45a)][_0x1e1d43(0x4a1)]['registerSystemSource'](_0x24ece7),_0x24ece7[_0x1e1d43(0x76d)](),_0x24ece7;}[_0x3565d6(0x33c)](_0x4f6ba6,_0x1a5574){const _0x1247a5=_0x3565d6;if(this['localMediaStreams'][_0x1247a5(0x645)](_0x4f6ba6))throw new _0x27552e(_0x338970[_0x1247a5(0x27d)],'Stream\x20already\x20exists');const _0x12f0cc=new _0x5dc061(this['configs'][_0x1247a5(0x41b)],_0x4f6ba6,_0x1a5574);return this[_0x1247a5(0x435)][_0x1247a5(0x5bc)](_0x4f6ba6,_0x12f0cc),this[_0x1247a5(0x45a)][_0x1247a5(0x4a1)][_0x1247a5(0x678)](_0x12f0cc),_0x12f0cc['publish'](),_0x12f0cc;}[_0x3565d6(0x473)](_0x4f4801){const _0x57ca98=_0x3565d6;if(this[_0x57ca98(0x3a5)][_0x57ca98(0x645)](_0x4f4801))throw new _0x27552e(_0x338970[_0x57ca98(0x4de)],_0x57ca98(0x492));const _0x3f24c2=new _0x36b129(this[_0x57ca98(0x45a)][_0x57ca98(0x41b)],_0x4f4801);return this[_0x57ca98(0x3a5)]['set'](_0x4f4801,_0x3f24c2),this['configs'][_0x57ca98(0x4a1)][_0x57ca98(0x678)](_0x3f24c2),_0x3f24c2;}[_0x3565d6(0x723)](_0x5bc5de,_0x2630dc,_0x2ceb24,_0x13befd){const _0xf970bb=_0x3565d6;this[_0xf970bb(0x622)][_0xf970bb(0x645)](_0x5bc5de)||this[_0xf970bb(0x622)][_0xf970bb(0x5bc)](_0x5bc5de,new Map());const _0x4bc1c2=this['remoteMediaStreams'][_0xf970bb(0x64f)](_0x5bc5de);if(_0x4bc1c2['has'](_0x2630dc))throw new _0x27552e(_0x338970[_0xf970bb(0x62e)],_0xf970bb(0x238));const _0x3d5ba2=new _0x3ed793(this['configs'][_0xf970bb(0x41b)],_0x5bc5de,_0x2630dc,_0x2ceb24,_0x13befd);return _0x4bc1c2[_0xf970bb(0x5bc)](_0x2630dc,_0x3d5ba2),this['configs']['mediator'][_0xf970bb(0x678)](_0x3d5ba2),_0x3d5ba2;}[_0x3565d6(0x52b)](_0x3fb116){const _0x487a2f=_0x3565d6,_0x80452d=Array[_0x487a2f(0x25d)](this[_0x487a2f(0x6ec)][_0x487a2f(0x3cb)]());return _0x3fb116?_0x80452d['filter'](_0x3fb116):_0x80452d;}[_0x3565d6(0x221)](_0xc9b6bd){const _0x1f3c74=_0x3565d6,_0x518df4=Array[_0x1f3c74(0x25d)](this[_0x1f3c74(0x587)][_0x1f3c74(0x3cb)]());return _0xc9b6bd?_0x518df4[_0x1f3c74(0x2de)](_0xc9b6bd):_0x518df4;}['getLocalMediaStreams'](_0x5f2e40){const _0xac2478=_0x3565d6,_0xd6d19a=Array['from'](this[_0xac2478(0x435)][_0xac2478(0x3cb)]());return _0x5f2e40?_0xd6d19a[_0xac2478(0x2de)](_0x5f2e40):_0xd6d19a;}[_0x3565d6(0x6bd)](_0x55c9d4){const _0x508c89=_0x3565d6,_0x4ed7ab=Array['from'](this['pubSubTopics'][_0x508c89(0x3cb)]());return _0x55c9d4?_0x4ed7ab[_0x508c89(0x2de)](_0x55c9d4):_0x4ed7ab;}['getRemoteMediaStreams'](_0x38d1cd){const _0x50b8f9=_0x3565d6,_0xecd8bb=Array[_0x50b8f9(0x25d)](this['remoteMediaStreams'][_0x50b8f9(0x3cb)]())['reduce']((_0x12aa38,_0x2335f8)=>[..._0x12aa38,...Array['from'](_0x2335f8[_0x50b8f9(0x3cb)]())],[]);return _0x38d1cd?_0xecd8bb[_0x50b8f9(0x2de)](_0x38d1cd):_0xecd8bb;}[_0x3565d6(0x557)](_0x53f607){const _0x3bd276=_0x3565d6;switch(_0x53f607[_0x3bd276(0x379)][_0x3bd276(0x2be)]){case _0x101bc1[_0x3bd276(0x1fb)]:this[_0x3bd276(0x6a6)](_0x53f607['content']);break;case _0x101bc1[_0x3bd276(0x568)]:this[_0x3bd276(0x656)](_0x53f607[_0x3bd276(0x379)]);break;case _0x101bc1[_0x3bd276(0x73a)]:this[_0x3bd276(0x50e)](_0x53f607[_0x3bd276(0x379)]);break;case _0x101bc1[_0x3bd276(0x417)]:this[_0x3bd276(0x5da)](_0x53f607[_0x3bd276(0x379)]);break;case _0x101bc1[_0x3bd276(0x737)]:this[_0x3bd276(0x5ca)](_0x53f607[_0x3bd276(0x379)]);break;case _0x101bc1[_0x3bd276(0x367)]:this[_0x3bd276(0x639)](_0x53f607[_0x3bd276(0x379)]);break;case _0x101bc1[_0x3bd276(0x1ad)]:this['handleContentUnsubscribeMediaStream'](_0x53f607[_0x3bd276(0x379)]);break;case _0x101bc1['RequestSyncKeyValueDatabase']:this[_0x3bd276(0x587)][_0x3bd276(0x64f)](_0x53f607[_0x3bd276(0x379)][_0x3bd276(0x343)])?.['sendTransactionsDump'](_0x53f607[_0x3bd276(0x3be)]);break;case _0x101bc1[_0x3bd276(0x625)]:this['keyValueDatabases']['get'](_0x53f607['content']['label'])?.['processTransactionsDump'](_0x53f607[_0x3bd276(0x3be)],_0x53f607['content'][_0x3bd276(0x6fa)]);break;case _0x101bc1[_0x3bd276(0x1b4)]:this['keyValueDatabases'][_0x3bd276(0x64f)](_0x53f607[_0x3bd276(0x379)][_0x3bd276(0x343)])?.[_0x3bd276(0x675)](_0x53f607[_0x3bd276(0x3be)],_0x53f607[_0x3bd276(0x379)][_0x3bd276(0x32d)]);break;case _0x101bc1[_0x3bd276(0x71f)]:this[_0x3bd276(0x45a)][_0x3bd276(0x4a1)][_0x3bd276(0x71c)]('local-media-stream-track-fail',{'label':_0x53f607['content'][_0x3bd276(0x343)],'trackKinds':_0x53f607[_0x3bd276(0x379)][_0x3bd276(0x671)]});}}[_0x3565d6(0x5af)]({content:_0x43fc52}){const _0x4014b8=_0x3565d6;switch(_0x43fc52[_0x4014b8(0x2be)]){case _0x99b96d[_0x4014b8(0x454)]:this[_0x4014b8(0x5e8)](_0x43fc52),this[_0x4014b8(0x721)](_0x43fc52);break;case _0x99b96d['UserLeave']:this[_0x4014b8(0x34f)](_0x43fc52),this[_0x4014b8(0x419)](_0x43fc52);}}[_0x3565d6(0x650)](_0x5ea11e){const _0x163425=_0x3565d6;switch(_0x5ea11e[_0x163425(0x379)][_0x163425(0x2be)]){case _0x3fecff['SubscribeMediaStream']:this[_0x163425(0x6f3)](_0x5ea11e['sourceId'],_0x5ea11e['content']);break;case _0x3fecff['UpdateMediaStream']:this[_0x163425(0x4dd)](_0x5ea11e[_0x163425(0x3be)],_0x5ea11e[_0x163425(0x379)]);break;case _0x3fecff[_0x163425(0x1ad)]:this['handleUnsubscribeMediaStream'](_0x5ea11e[_0x163425(0x3be)],_0x5ea11e[_0x163425(0x379)]);}}[_0x3565d6(0x6f7)](_0x3c1982){const _0x59e3a0=_0x3565d6;if(0x0===_0x3c1982[_0x59e3a0(0x5cb)])this['remoteMediaStreams'][_0x59e3a0(0x64f)](_0x3c1982[_0x59e3a0(0x6f9)])?.[_0x59e3a0(0x64f)](_0x3c1982[_0x59e3a0(0x343)])?.[_0x59e3a0(0x6b1)]();else{const _0x40da20=this[_0x59e3a0(0x622)][_0x59e3a0(0x64f)](_0x3c1982[_0x59e3a0(0x6f9)])?.[_0x59e3a0(0x64f)](_0x3c1982['label']);if(!_0x40da20)return;_0x3c1982[_0x59e3a0(0x671)][_0x59e3a0(0x1c3)](_0x21adf9=>_0x40da20[_0x59e3a0(0x36c)](_0x21adf9));}}['handlePublishMediaStream'](_0x5baf36){const _0x1a8df1=_0x3565d6,{label:_0x47e3c2,ownerId:_0x4955a9,stream:{streamId:_0x39b419,availableTrackKinds:_0x28ba93}}=_0x5baf36;if(this[_0x1a8df1(0x622)][_0x1a8df1(0x64f)](_0x4955a9)?.[_0x1a8df1(0x645)](_0x47e3c2))return void _0x11c0d7[_0x1a8df1(0x71b)](_0x3e1340[_0x1a8df1(0x422)],_0x1a8df1(0x492),_0x39b419);const _0x210ba4=this[_0x1a8df1(0x723)](_0x4955a9,_0x47e3c2,_0x39b419,_0x28ba93);this[_0x1a8df1(0x45a)][_0x1a8df1(0x4a1)][_0x1a8df1(0x71c)](_0x1a8df1(0x707),{'ownerId':_0x4955a9,'stream':_0x210ba4});}['handleUnpublishMediaStream']({ownerId:_0x3d76a4,label:_0x4ecb59}){const _0x250343=_0x3565d6;this[_0x250343(0x3cd)](_0x3d76a4,_0x4ecb59),this['configs'][_0x250343(0x4a1)][_0x250343(0x71c)](_0x250343(0x464),{'ownerId':_0x3d76a4,'label':_0x4ecb59});}[_0x3565d6(0x50e)](_0x131071){const _0x38b30a=_0x3565d6;this[_0x38b30a(0x54b)](_0x131071[_0x38b30a(0x343)]);}['handleCloseObjectStore'](_0x4b8f9c){const _0x322bfe=_0x3565d6;this[_0x322bfe(0x6e7)](_0x4b8f9c[_0x322bfe(0x343)]);}['handleClosePubSubTopic'](_0xb7ae00){const _0x1e89f6=_0x3565d6;this[_0x1e89f6(0x51c)](_0xb7ae00['label']);}[_0x3565d6(0x639)](_0x49e1c8){const _0x404b57=_0x3565d6;this[_0x404b57(0x69d)](_0x49e1c8[_0x404b57(0x343)]);}[_0x3565d6(0x6f3)](_0x1eba8a,_0x442f75){const _0x465731=_0x3565d6,{ownerId:_0x31f134,label:_0x39ffb8}=_0x442f75;let _0x25a102;_0x25a102=_0x31f134!==this[_0x465731(0x45a)][_0x465731(0x41b)]?this[_0x465731(0x622)][_0x465731(0x64f)](_0x31f134)[_0x465731(0x64f)](_0x39ffb8):this['localMediaStreams'][_0x465731(0x64f)](_0x39ffb8),_0x25a102[_0x465731(0x1cb)](_0x1eba8a,_0x442f75[_0x465731(0x63c)])[_0x465731(0x61f)](_0x442f75,_0x25a102[_0x465731(0x3b0)]());}['handleUpdateMediaStream'](_0x55f9bb,_0xca6697){const _0x31e54b=_0x3565d6,{ownerId:_0x37da78,label:_0x7e9e78}=_0xca6697;let _0x9bf926;_0x9bf926=_0x37da78!==this['configs'][_0x31e54b(0x41b)]?this[_0x31e54b(0x622)][_0x31e54b(0x64f)](_0x37da78)[_0x31e54b(0x64f)](_0x7e9e78):this[_0x31e54b(0x435)][_0x31e54b(0x64f)](_0x7e9e78),_0x9bf926[_0x31e54b(0x1cb)](_0x55f9bb,_0xca6697[_0x31e54b(0x63c)])[_0x31e54b(0x1b0)](_0xca6697);}[_0x3565d6(0x39d)](_0x37edfe,_0x296570){const _0x366c28=_0x3565d6,{ownerId:_0x99df18,label:_0x11bf94}=_0x296570;let _0x30f62b;_0x30f62b=_0x99df18!==this[_0x366c28(0x45a)][_0x366c28(0x41b)]?this[_0x366c28(0x622)][_0x366c28(0x64f)](_0x99df18)[_0x366c28(0x64f)](_0x11bf94):this['localMediaStreams'][_0x366c28(0x64f)](_0x11bf94),_0x30f62b[_0x366c28(0x1cb)](_0x37edfe)[_0x366c28(0x71d)](_0x296570);}['handleUserJoinNeedPublishedStream']({id:_0x579d21}){const _0x382db1=_0x3565d6;this[_0x382db1(0x632)]()['forEach'](_0x2b2f51=>{const _0x5542a3=_0x382db1;_0x2b2f51[_0x5542a3(0x76d)](_0x579d21);});}[_0x3565d6(0x34f)]({id:_0x475115}){const _0x4d06e0=_0x3565d6;this['getRemoteMediaStreams'](_0xd21484=>_0xd21484[_0x4d06e0(0x6c8)]()===_0x475115)[_0x4d06e0(0x1c3)](_0x2687b1=>{const _0x537c1c=_0x4d06e0;this[_0x537c1c(0x3cd)](_0x2687b1[_0x537c1c(0x6c8)](),_0x2687b1[_0x537c1c(0x5be)]());});}[_0x3565d6(0x721)]({id:_0x31e732}){const _0x155623=_0x3565d6;this[_0x155623(0x6ec)][_0x155623(0x1c3)](_0xdf5505=>_0xdf5505[_0x155623(0x34d)](_0x31e732));}[_0x3565d6(0x419)]({id:_0x13e759}){const _0x1ea03c=_0x3565d6;this[_0x1ea03c(0x6ec)][_0x1ea03c(0x1c3)](_0x5970ed=>_0x5970ed['handleUserLeave'](_0x13e759));}[_0x3565d6(0x6e7)](_0x4c698f){const _0x4cec0c=_0x3565d6;if(!this['objectStores'][_0x4cec0c(0x645)](_0x4c698f))throw new _0x27552e(_0x338970[_0x4cec0c(0x487)],_0x4cec0c(0x320));const _0x5ce470=this[_0x4cec0c(0x6ec)][_0x4cec0c(0x64f)](_0x4c698f);this['objectStores'][_0x4cec0c(0x409)](_0x4c698f),_0x5ce470[_0x4cec0c(0x6b1)](),this[_0x4cec0c(0x45a)][_0x4cec0c(0x4a1)]['unregisterSystemSource'](_0x5ce470);}[_0x3565d6(0x51c)](_0x2f1161){const _0x474b34=_0x3565d6;if(!this['pubSubTopics']['has'](_0x2f1161))throw new _0x27552e(_0x338970[_0x474b34(0x2dd)],_0x474b34(0x320));const _0x5a2bc9=this[_0x474b34(0x3a5)][_0x474b34(0x64f)](_0x2f1161);this['pubSubTopics'][_0x474b34(0x409)](_0x2f1161),_0x5a2bc9['destroy'](),this[_0x474b34(0x45a)][_0x474b34(0x4a1)][_0x474b34(0x35f)](_0x5a2bc9);}[_0x3565d6(0x69d)](_0x5a7745){const _0x2d547e=_0x3565d6;if(!this[_0x2d547e(0x587)][_0x2d547e(0x645)](_0x5a7745))throw new _0x27552e(_0x338970['KeyValueDatabaseDoesNotExist'],'Database\x20does\x20not\x20exist');const _0x1d3939=this[_0x2d547e(0x587)][_0x2d547e(0x64f)](_0x5a7745);this['keyValueDatabases'][_0x2d547e(0x409)](_0x5a7745),_0x1d3939['destroy'](),this[_0x2d547e(0x45a)][_0x2d547e(0x4a1)]['unregisterSystemSource'](_0x1d3939);}[_0x3565d6(0x54b)](_0x261665){const _0x5eb9e7=_0x3565d6;if(!this['localMediaStreams'][_0x5eb9e7(0x645)](_0x261665))throw new _0x1ca0c3(_0x1ca0c3[_0x5eb9e7(0x69c)]['LocalMediaStreamDoesNotExist'],{'label':_0x261665,'localId':this[_0x5eb9e7(0x45a)]['localId']});const _0x3b08f6=this[_0x5eb9e7(0x435)][_0x5eb9e7(0x64f)](_0x261665);this[_0x5eb9e7(0x45a)][_0x5eb9e7(0x4a1)][_0x5eb9e7(0x35f)](_0x3b08f6),_0x3b08f6[_0x5eb9e7(0x6b1)](),this[_0x5eb9e7(0x435)][_0x5eb9e7(0x409)](_0x261665);}[_0x3565d6(0x3cd)](_0x80d54c,_0x317e94){const _0x2eb70b=_0x3565d6;if(!this[_0x2eb70b(0x622)][_0x2eb70b(0x645)](_0x80d54c))throw new _0x1ca0c3(_0x1ca0c3[_0x2eb70b(0x69c)][_0x2eb70b(0x2cb)],{'userId':_0x80d54c,'localId':this[_0x2eb70b(0x45a)][_0x2eb70b(0x41b)]});const _0x3414c9=this[_0x2eb70b(0x622)][_0x2eb70b(0x64f)](_0x80d54c);if(!_0x3414c9[_0x2eb70b(0x645)](_0x317e94))throw new _0x1ca0c3(_0x1ca0c3[_0x2eb70b(0x69c)][_0x2eb70b(0x725)],{'userId':_0x80d54c,'label':_0x317e94,'localId':this[_0x2eb70b(0x45a)][_0x2eb70b(0x41b)]});const _0x5413ac=_0x3414c9[_0x2eb70b(0x64f)](_0x317e94);this[_0x2eb70b(0x45a)][_0x2eb70b(0x4a1)][_0x2eb70b(0x35f)](_0x5413ac),_0x5413ac['destroy'](),_0x3414c9[_0x2eb70b(0x409)](_0x317e94);}}!function(_0x47ba1d){const _0x392ca1=_0x3565d6;_0x47ba1d[_0x392ca1(0x455)]=_0x392ca1(0x618),_0x47ba1d[_0x392ca1(0x284)]=_0x392ca1(0x578),_0x47ba1d[_0x392ca1(0x295)]=_0x392ca1(0x3f2),_0x47ba1d[_0x392ca1(0x375)]=_0x392ca1(0x4fd),_0x47ba1d[_0x392ca1(0x460)]=_0x392ca1(0x5d6),_0x47ba1d[_0x392ca1(0x351)]=_0x392ca1(0x2bd),_0x47ba1d[_0x392ca1(0x2ca)]=_0x392ca1(0x4b2),_0x47ba1d[_0x392ca1(0x5cc)]=_0x392ca1(0x61e);}(_0x1310d7||(_0x1310d7={})),function(_0x24fb00){const _0x5886f0=_0x3565d6;_0x24fb00[_0x5886f0(0x6b3)]='cpu.cycle',_0x24fb00[_0x5886f0(0x295)]=_0x5886f0(0x430),_0x24fb00[_0x5886f0(0x5cc)]=_0x5886f0(0x4b3),_0x24fb00['FramePerSecond']=_0x5886f0(0x202),_0x24fb00['Bitrate']=_0x5886f0(0x730),_0x24fb00[_0x5886f0(0x460)]=_0x5886f0(0x2e1),_0x24fb00[_0x5886f0(0x2ca)]=_0x5886f0(0x46e);}(_0x34d5e2||(_0x34d5e2={})),function(_0x5e04e2){const _0x3e48d2=_0x3565d6;_0x5e04e2[_0x5e04e2[_0x3e48d2(0x6f5)]=0x0]=_0x3e48d2(0x6f5);}(_0x3273ad||(_0x3273ad={}));const _0x587a77=[{'type':_0x1310d7['STVolatility'],'reportMetric':_0x17f9d0=>_0x17f9d0['STVolatility'],'maxThreshold':2.5},{'type':_0x1310d7[_0x3565d6(0x284)],'reportMetric':_0x2a1345=>_0x2a1345[_0x3565d6(0x284)],'maxThreshold':0.5}],_0x18782c=[{'type':_0x1310d7[_0x3565d6(0x295)],'reportMetric':_0x5c3173=>{const _0x4b8289=_0x3565d6,_0x3d99d4=0x3e8/_0x5c3173[_0x4b8289(0x542)];return _0x5c3173[_0x4b8289(0x653)]/_0x3d99d4;},'maxThreshold':0.75},{'type':_0x1310d7[_0x3565d6(0x375)],'reportMetric':_0x17171f=>{const _0x548ca3=_0x3565d6,_0x487e59=_0x17171f[_0x548ca3(0x542)]*_0x17171f[_0x548ca3(0x200)]*_0x17171f[_0x548ca3(0x4e9)]*0.12;return _0x17171f[_0x548ca3(0x4fd)]/_0x487e59;},'minThreshold':0.25},{'type':_0x1310d7[_0x3565d6(0x460)],'reportMetric':_0x124532=>_0x124532[_0x3565d6(0x5d6)],'maxThreshold':0.6},{'type':_0x1310d7[_0x3565d6(0x351)],'reportMetric':_0x39dd3c=>_0x39dd3c[_0x3565d6(0x542)],'minThreshold':0xa}],_0x594de9=[{'type':_0x1310d7['Jitter'],'reportMetric':_0x1d656e=>_0x1d656e[_0x3565d6(0x5d6)],'maxThreshold':0.6}],_0x42639e=[{'type':_0x1310d7['RoundTripTime'],'reportMetric':_0xa1ef43=>_0xa1ef43[_0x3565d6(0x402)],'maxThreshold':0x1/0x0}],_0x4cf847=[{'type':_0x1310d7['AudioVideoDelay'],'reportMetric':_0x31c326=>_0x31c326[_0x3565d6(0x5cc)],'maxThreshold':0x12c}],_0x55c3d4=[{'type':_0x34d5e2['CPUCycle'],'issues':[{'type':_0x1310d7[_0x3565d6(0x455)],'threshold':0x5},{'type':_0x1310d7['DTVolatility'],'threshold':0x5}]},{'type':_0x34d5e2[_0x3565d6(0x295)],'issues':[{'type':_0x1310d7[_0x3565d6(0x295)],'threshold':0x3}]},{'type':_0x34d5e2[_0x3565d6(0x5cc)],'issues':[{'type':_0x1310d7['AudioVideoDelay'],'threshold':0x2}]},{'type':_0x34d5e2[_0x3565d6(0x351)],'issues':[{'type':_0x1310d7[_0x3565d6(0x351)],'threshold':0x3}]},{'type':_0x34d5e2[_0x3565d6(0x375)],'issues':[{'type':_0x1310d7['Bitrate'],'threshold':0x3}]},{'type':_0x34d5e2[_0x3565d6(0x460)],'issues':[{'type':_0x1310d7['Jitter'],'threshold':0x3}]},{'type':_0x34d5e2[_0x3565d6(0x2ca)],'issues':[{'type':_0x1310d7[_0x3565d6(0x2ca)],'threshold':0x3}]}];var _0x363fbc,_0x5224f9;!function(_0x2689f5){const _0x3639a9=_0x3565d6;_0x2689f5[_0x2689f5[_0x3639a9(0x3c6)]=0x0]='StreamReport',_0x2689f5[_0x2689f5[_0x3639a9(0x42b)]=0x1]=_0x3639a9(0x42b);}(_0x363fbc||(_0x363fbc={}));class _0xbb847c{[_0x3565d6(0x45a)];[_0x3565d6(0x358)]=[];['systemTopic'];constructor(_0x5d98e2){const _0x4e92f5=_0x3565d6;this[_0x4e92f5(0x45a)]=_0x5d98e2,this[_0x4e92f5(0x45a)][_0x4e92f5(0x4a1)][_0x4e92f5(0x678)](this);}[_0x3565d6(0x586)](_0x5e329b){const _0x210a7c=_0x3565d6;this[_0x210a7c(0x24e)]=_0x5e329b;}['unregisterSystemPublisher'](){const _0x470f79=_0x3565d6;this[_0x470f79(0x24e)]=void 0x0;}[_0x3565d6(0x208)](){const _0x28774a=_0x3565d6;this[_0x28774a(0x45a)][_0x28774a(0x4a1)][_0x28774a(0x35f)](this),this[_0x28774a(0x358)]=[];}[_0x3565d6(0x72a)](_0x59433d){const _0x24b986=_0x3565d6;switch(_0x59433d[_0x24b986(0x379)]['type']){case _0x363fbc[_0x24b986(0x42b)]:this[_0x24b986(0x1dd)](_0x59433d[_0x24b986(0x379)][_0x24b986(0x23a)]);break;case _0x363fbc[_0x24b986(0x3c6)]:this[_0x24b986(0x689)](_0x59433d[_0x24b986(0x379)][_0x24b986(0x23a)]);}}[_0x3565d6(0x4a6)](_0x1a3bdb,_0x4ee8de,_0x14ffff,_0x5bade0){const _0x3992ae=_0x3565d6,_0x354e3a=_0x55c3d4[_0x3992ae(0x664)](_0x143f77=>_0x143f77['issues'][_0x3992ae(0x6eb)](_0x6e869e=>_0x6e869e[_0x3992ae(0x2be)]===_0x1a3bdb));_0x5bade0>=_0x354e3a[_0x3992ae(0x358)][_0x3992ae(0x664)](_0x14cedb=>_0x14cedb[_0x3992ae(0x2be)]===_0x1a3bdb)['threshold']&&(this['addProblem'](_0x354e3a[_0x3992ae(0x2be)],_0x4ee8de,_0x14ffff),this[_0x3992ae(0x358)]=this[_0x3992ae(0x358)]['filter'](_0x45132e=>!(_0x45132e[_0x3992ae(0x2be)]===_0x1a3bdb&&_0x45132e[_0x3992ae(0x3bf)]===_0x4ee8de&&_0x45132e[_0x3992ae(0x38f)]===_0x14ffff)));}[_0x3565d6(0x1dd)](_0x5c0ce2){_0x587a77['forEach'](_0x4bfb6a=>{const _0x53b2f2=a0_0x2e59,_0x575707=_0x4bfb6a[_0x53b2f2(0x2d0)](_0x5c0ce2);_0x4bfb6a[_0x53b2f2(0x441)]&&_0x575707>_0x4bfb6a['maxThreshold']&&this[_0x53b2f2(0x6ff)](_0x4bfb6a[_0x53b2f2(0x2be)],this[_0x53b2f2(0x45a)]['localId'],_0x58b611[_0x53b2f2(0x427)],_0x575707),_0x4bfb6a[_0x53b2f2(0x472)]&&_0x575707<_0x4bfb6a[_0x53b2f2(0x472)]&&this['addIssue'](_0x4bfb6a[_0x53b2f2(0x2be)],this[_0x53b2f2(0x45a)]['localId'],_0x58b611[_0x53b2f2(0x427)],_0x575707);});}[_0x3565d6(0x689)](_0x50ae48){const _0x2965a0=_0x3565d6;let _0xf419af=[];switch(_0x50ae48[_0x2965a0(0x38f)]){case _0x58b611['Sender']:_0xf419af=_0x42639e;break;case _0x58b611[_0x2965a0(0x36f)]:_0xf419af=_0x4cf847;}_0x50ae48['video']&&this['detectVideoIssues'](_0x50ae48[_0x2965a0(0x3bf)],_0x58b611['Sender'],_0x50ae48['video']),_0x50ae48[_0x2965a0(0x398)]&&this[_0x2965a0(0x534)](_0x50ae48[_0x2965a0(0x3bf)],_0x58b611[_0x2965a0(0x427)],_0x50ae48['audio']),_0xf419af[_0x2965a0(0x1c3)](_0x30a355=>{const _0x331c7f=_0x2965a0,_0xcad751=_0x30a355['reportMetric'](_0x50ae48);_0x30a355[_0x331c7f(0x441)]&&_0xcad751>_0x30a355[_0x331c7f(0x441)]&&this[_0x331c7f(0x6ff)](_0x30a355[_0x331c7f(0x2be)],_0x50ae48[_0x331c7f(0x3bf)],_0x58b611[_0x331c7f(0x427)],_0xcad751),_0x30a355[_0x331c7f(0x472)]&&_0xcad751<_0x30a355[_0x331c7f(0x472)]&&this[_0x331c7f(0x6ff)](_0x30a355[_0x331c7f(0x2be)],_0x50ae48[_0x331c7f(0x3bf)],_0x58b611[_0x331c7f(0x427)],_0xcad751);});}[_0x3565d6(0x60d)](_0x3a45fd,_0x230da2,_0x259ad7){const _0xc59125=_0x3565d6;0x0!==_0x259ad7[_0xc59125(0x4fd)]&&_0x18782c[_0xc59125(0x1c3)](_0x357d2e=>{const _0x138578=_0xc59125,_0x4e4596=_0x357d2e[_0x138578(0x2d0)](_0x259ad7);_0x357d2e[_0x138578(0x441)]&&_0x4e4596>_0x357d2e[_0x138578(0x441)]&&this['addIssue'](_0x357d2e['type'],_0x3a45fd,_0x230da2,_0x4e4596,_0x138578(0x612)),_0x357d2e['minThreshold']&&_0x4e4596<_0x357d2e[_0x138578(0x472)]&&this[_0x138578(0x6ff)](_0x357d2e[_0x138578(0x2be)],_0x3a45fd,_0x230da2,_0x4e4596,_0x138578(0x612));});}['detectAudioIssues'](_0xc492d2,_0x17fe72,_0x3e0cde){const _0x354b97=_0x3565d6;0x0!==_0x3e0cde[_0x354b97(0x4fd)]&&_0x594de9[_0x354b97(0x1c3)](_0x13ae61=>{const _0x15049c=_0x354b97,_0xd15971=_0x13ae61['reportMetric'](_0x3e0cde);_0x13ae61[_0x15049c(0x441)]&&_0xd15971>_0x13ae61['maxThreshold']&&this[_0x15049c(0x6ff)](_0x13ae61[_0x15049c(0x2be)],_0xc492d2,_0x17fe72,_0xd15971,'audio'),_0x13ae61[_0x15049c(0x472)]&&_0xd15971<_0x13ae61[_0x15049c(0x472)]&&this[_0x15049c(0x6ff)](_0x13ae61['type'],_0xc492d2,_0x17fe72,_0xd15971,_0x15049c(0x398));});}['addIssue'](_0x1944ee,_0x15331c,_0x435b1e,_0x24134a,_0xb8adbe){const _0x395a5e=_0x3565d6;_0x11c0d7[_0x395a5e(0x71b)](_0x3e1340['Detection'],_0x395a5e(0x52e)+_0x1944ee,_0x1944ee,_0x24134a),_0x11c0d7[_0x395a5e(0x6c4)](_0x395a5e(0x5b1),{'clusterId':this[_0x395a5e(0x45a)][_0x395a5e(0x390)],'userId':this['configs'][_0x395a5e(0x41b)],'remoteId':_0x15331c,'data':{'type':_0x1944ee,'value':_0x24134a,'kind':_0xb8adbe}}),this[_0x395a5e(0x358)]=this[_0x395a5e(0x358)][_0x395a5e(0x2de)](_0x3ccbe9=>Date[_0x395a5e(0x1aa)]()-_0x3ccbe9['timestamp']<0x7530),this[_0x395a5e(0x358)][_0x395a5e(0x495)]({'timestamp':Date[_0x395a5e(0x1aa)](),'type':_0x1944ee,'userId':_0x15331c,'origin':_0x435b1e,'value':_0x24134a,'kind':_0xb8adbe});const _0x4ee465=this[_0x395a5e(0x358)][_0x395a5e(0x2de)](_0x29f0c1=>_0x29f0c1[_0x395a5e(0x2be)]===_0x1944ee&&_0x29f0c1['userId']===_0x15331c&&_0x29f0c1[_0x395a5e(0x38f)]===_0x435b1e)[_0x395a5e(0x49d)];this[_0x395a5e(0x4a6)](_0x1944ee,_0x15331c,_0x435b1e,_0x4ee465);}['addProblem'](_0x5c3252,_0x4cb4a0,_0x51e030){const _0x505810=_0x3565d6;_0x11c0d7['log'](_0x3e1340[_0x505810(0x6b9)],_0x505810(0x576)+_0x5c3252),_0x11c0d7[_0x505810(0x6c4)]('problem',{'clusterId':this[_0x505810(0x45a)]['clusterId'],'userId':this[_0x505810(0x45a)]['localId'],'remoteId':_0x4cb4a0,'data':{'type':_0x5c3252}}),this[_0x505810(0x24e)]?.[_0x505810(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x505810(0x6b9)],'content':{'type':_0x3273ad[_0x505810(0x6f5)],'data':{'timestamp':Date[_0x505810(0x1aa)](),'userId':_0x4cb4a0,'origin':_0x58b611[_0x505810(0x427)],'type':_0x5c3252}}});}}!function(_0x75ce0){const _0x4de82a=_0x3565d6;_0x75ce0[_0x75ce0[_0x4de82a(0x555)]=0x0]=_0x4de82a(0x555),_0x75ce0[_0x75ce0[_0x4de82a(0x26f)]=0x1]=_0x4de82a(0x26f);}(_0x5224f9||(_0x5224f9={}));class _0xaed30f{['id'];['displayName'];[_0x3565d6(0x4e0)];[_0x3565d6(0x665)];[_0x3565d6(0x1f1)];constructor(_0x3c9f8b,_0x32b800,_0x53b6ab,_0x5a64f0=new Set(),_0x54eec0){const _0xabb821=_0x3565d6;this['id']=_0x3c9f8b,this[_0xabb821(0x29a)]=_0x32b800,this[_0xabb821(0x4e0)]=_0x53b6ab,this[_0xabb821(0x665)]=_0x5a64f0,this[_0xabb821(0x1f1)]=_0x54eec0;}[_0x3565d6(0x208)](){const _0x264e3d=_0x3565d6;this['rank']=void 0x0,this['remoteConnections'][_0x264e3d(0x376)]();}['getId'](){return this['id'];}['getDisplayName'](){const _0x1a9f71=_0x3565d6;return this[_0x1a9f71(0x29a)];}[_0x3565d6(0x496)](){const _0x3df563=_0x3565d6;return this[_0x3df563(0x4e0)];}[_0x3565d6(0x6ac)](){return this['rank'];}[_0x3565d6(0x3e9)](){const _0x5a33ac=_0x3565d6;return this[_0x5a33ac(0x665)];}}class _0x57213f extends _0xaed30f{[_0x3565d6(0x3e6)];['status']=_0x5224f9[_0x3565d6(0x555)];['lastUpdated']=Date[_0x3565d6(0x1aa)]();constructor(_0x44c5dc,_0x683b0a,_0x19c5d6,_0x2e219b=new Set(),_0xf95e4a,_0x26ae1c){const _0x285efb=_0x3565d6;super(_0x44c5dc,_0x683b0a,_0x19c5d6,_0x2e219b,_0x26ae1c),this[_0x285efb(0x3e6)]=_0xf95e4a;}[_0x3565d6(0x4a2)](){const _0x2dbea7=_0x3565d6;return this[_0x2dbea7(0x3e6)];}['getStatus'](){const _0x1f4614=_0x3565d6;return this[_0x1f4614(0x3f8)];}['getLastUpdated'](){const _0x39bc73=_0x3565d6;return this[_0x39bc73(0x203)];}[_0x3565d6(0x501)](_0x1cb6e0){const _0x92088e=_0x3565d6;this[_0x92088e(0x29a)]!==_0x1cb6e0&&(this[_0x92088e(0x29a)]=_0x1cb6e0,this[_0x92088e(0x2ac)]());}[_0x3565d6(0x736)](_0x4b5b61){const _0x107a4d=_0x3565d6;this[_0x107a4d(0x4e0)]!==_0x4b5b61&&(this[_0x107a4d(0x4e0)]=_0x4b5b61,this[_0x107a4d(0x2ac)]());}[_0x3565d6(0x429)](_0x456e18){const _0x2b090a=_0x3565d6;this[_0x2b090a(0x1f1)]!==_0x456e18&&(this['rank']=_0x456e18,this['updateLastUpdated']());}[_0x3565d6(0x377)](_0x4b107a){const _0x494c77=_0x3565d6;let _0x26d8ff=!0x1;for(const _0x169282 of this[_0x494c77(0x665)])_0x4b107a['includes'](_0x169282)||(_0x26d8ff=!0x0,this[_0x494c77(0x665)][_0x494c77(0x409)](_0x169282));for(const _0x1e6354 of _0x4b107a)this[_0x494c77(0x665)][_0x494c77(0x645)](_0x1e6354)||(_0x26d8ff=!0x0,this['remoteConnections'][_0x494c77(0x6b4)](_0x1e6354));_0x26d8ff&&this[_0x494c77(0x2ac)]();}[_0x3565d6(0x65c)](_0x20277a){const _0x17478c=_0x3565d6;this[_0x17478c(0x3e6)]!==_0x20277a&&(this[_0x17478c(0x3e6)]=_0x20277a,this[_0x17478c(0x2ac)]());}['setStatus'](_0x30a8d7){const _0x384e41=_0x3565d6;this[_0x384e41(0x3f8)]!==_0x30a8d7&&(this[_0x384e41(0x3f8)]=_0x30a8d7,this[_0x384e41(0x2ac)](),_0x30a8d7===_0x5224f9[_0x384e41(0x26f)]&&this[_0x384e41(0x208)]());}[_0x3565d6(0x2ac)](){this['lastUpdated']=Date['now']();}}class _0x4df32a{[_0x3565d6(0x740)];[_0x3565d6(0x390)];[_0x3565d6(0x687)];[_0x3565d6(0x4c5)];[_0x3565d6(0x47f)]=_0x3c88b1();[_0x3565d6(0x22b)];['childRemovedUnsubscriber'];['onDisconnectHandler'];['connected']=!0x1;[_0x3565d6(0x53f)];[_0x3565d6(0x666)];[_0x3565d6(0x257)];constructor(_0x82331b,_0x516c68,_0xf7c958,_0x41b18f){const _0x1789fb=_0x3565d6;this[_0x1789fb(0x740)]=_0x82331b,this['clusterId']=_0x516c68,this[_0x1789fb(0x687)]=_0xf7c958,this['minConnections']=_0x41b18f,this['clusterKey']=_0x1789fb(0x522)+this[_0x1789fb(0x740)]+_0x1789fb(0x522)+this['clusterId'],this['nodeKey']='ccc'+this[_0x1789fb(0x740)]+_0x1789fb(0x522)+this[_0x1789fb(0x687)]['getId'](),this['firebaseUnsubscriber']=(0x0,_0x11586b['onValue'])((0x0,_0x11586b['ref'])(_0x44908d[_0x1789fb(0x692)](),'.info/connected'),_0x5e180d=>{const _0x51efbc=_0x1789fb;!0x0!==_0x5e180d[_0x51efbc(0x30e)]()?this[_0x51efbc(0x201)]&&(this['disconnectTimeout']=setTimeout(()=>{const _0x40ec25=_0x51efbc;delete this[_0x40ec25(0x257)],_0x11c0d7[_0x40ec25(0x683)]('firebase-disconnect',{'clusterId':this['clusterId'],'userId':this[_0x40ec25(0x687)][_0x40ec25(0x56e)]()}),(0x0,_0x11586b[_0x40ec25(0x488)])(_0x44908d[_0x40ec25(0x692)]());const _0x242a0d=_0x42f599[_0x40ec25(0x341)](()=>{const _0x3a63de=_0x40ec25;navigator[_0x3a63de(0x485)]&&(_0x242a0d(),(0x0,_0x11586b['goOnline'])(_0x44908d[_0x3a63de(0x692)]()));},0x3e8);},0xbb8)):(this[_0x51efbc(0x201)]=!0x0,this[_0x51efbc(0x4e7)](),this[_0x51efbc(0x257)]&&(clearTimeout(this[_0x51efbc(0x257)]),delete this[_0x51efbc(0x257)]));});}async[_0x3565d6(0x2c0)](){const _0x1addcd=_0x3565d6;await this[_0x1addcd(0x51a)]();const _0x81fc3=await this[_0x1addcd(0x698)]();return this[_0x1addcd(0x755)]=(0x0,_0x11586b[_0x1addcd(0x20c)])((0x0,_0x11586b[_0x1addcd(0x75c)])(_0x44908d[_0x1addcd(0x692)](),_0x1addcd(0x58c)+this[_0x1addcd(0x53f)]+'/nodes'),_0x27b9eb=>{const _0x4c4587=_0x1addcd,_0x7ce4e4=_0x27b9eb[_0x4c4587(0x510)];if(!_0x7ce4e4)return;const _0x3d6f9a=_0x7ce4e4['replace']('ccc'+this[_0x4c4587(0x740)]+_0x4c4587(0x522),'');this['disconnectCallback'][_0x4c4587(0x76d)](_0x3d6f9a);}),_0x81fc3;}async[_0x3565d6(0x208)](){const _0x36415c=_0x3565d6;this[_0x36415c(0x755)]?.(),delete this[_0x36415c(0x755)],this[_0x36415c(0x5a5)]?.[_0x36415c(0x273)](),delete this[_0x36415c(0x5a5)],this['firebaseUnsubscriber']?.(),delete this[_0x36415c(0x22b)],this[_0x36415c(0x257)]&&(clearTimeout(this[_0x36415c(0x257)]),delete this[_0x36415c(0x257)]),await(0x0,_0x11586b['remove'])((0x0,_0x11586b[_0x36415c(0x75c)])(_0x44908d[_0x36415c(0x692)](),'clusters/'+this[_0x36415c(0x53f)]+'/nodes/'+this['nodeKey']));}[_0x3565d6(0x60c)](_0x1cd294){return this['disconnectCallback']['subscribe'](_0x1cd294);}async[_0x3565d6(0x698)](){const _0x19860d=_0x3565d6,_0x578343=[],_0x231c93=await(0x0,_0x11586b[_0x19860d(0x64f)])((0x0,_0x11586b['ref'])(_0x44908d[_0x19860d(0x692)](),_0x19860d(0x58c)+this[_0x19860d(0x53f)]+'/nodes')),_0x1f70cb=[];return _0x231c93[_0x19860d(0x1c3)](_0x420aa8=>{const _0x39ae55=_0x19860d,_0x5095c8=_0x420aa8[_0x39ae55(0x510)]?.['replace'](_0x39ae55(0x522)+this[_0x39ae55(0x740)]+_0x39ae55(0x522),'');_0x1f70cb['push']({'id':_0x5095c8,'joinedAt':_0x420aa8[_0x39ae55(0x30e)]()[_0x39ae55(0x560)],'priority':_0x420aa8[_0x39ae55(0x30e)]()[_0x39ae55(0x766)]});}),_0x1f70cb[_0x19860d(0x70c)]((_0x54b14b,_0x4702ee)=>_0x54b14b[_0x19860d(0x560)]===_0x4702ee[_0x19860d(0x560)]?_0x54b14b['priority']-_0x4702ee[_0x19860d(0x766)]:_0x54b14b['joinedAt']-_0x4702ee[_0x19860d(0x560)])[_0x19860d(0x525)](_0x1f70cb[_0x19860d(0x48a)](_0x209431=>_0x209431['id']===this['localUser'][_0x19860d(0x56e)]())),_0x1f70cb[_0x19860d(0x70c)]((_0x47b01a,_0x30bd2f)=>_0x30bd2f['joinedAt']===_0x47b01a[_0x19860d(0x560)]?_0x30bd2f[_0x19860d(0x766)]-_0x47b01a[_0x19860d(0x766)]:_0x30bd2f[_0x19860d(0x560)]-_0x47b01a[_0x19860d(0x560)])['forEach'](_0x3742ea=>{const _0xb7a334=_0x19860d;_0x578343[_0xb7a334(0x49d)]>=this['minConnections']||_0x578343['push'](_0x3742ea['id']);}),_0x11c0d7['logEvent'](_0x19860d(0x1a7),{'clusterId':this[_0x19860d(0x390)],'userId':this[_0x19860d(0x687)][_0x19860d(0x56e)](),'data':{'ancestorIds':_0x578343,'allUsers':_0x1f70cb}}),_0x578343;}async['joinCluster'](){const _0x4810de=_0x3565d6;await(0x0,_0x11586b[_0x4810de(0x5bc)])((0x0,_0x11586b[_0x4810de(0x75c)])(_0x44908d['getDatabase'](),_0x4810de(0x58c)+this[_0x4810de(0x53f)]+'/nodes/'+this[_0x4810de(0x666)]),{'joinedAt':(0x0,_0x11586b[_0x4810de(0x4d4)])(),'priority':Math[_0x4810de(0x3c3)]()});}[_0x3565d6(0x4e7)](){const _0x20649e=_0x3565d6;this[_0x20649e(0x5a5)]&&this[_0x20649e(0x5a5)][_0x20649e(0x273)](),this['onDisconnectHandler']=(0x0,_0x11586b['onDisconnect'])((0x0,_0x11586b['ref'])(_0x44908d[_0x20649e(0x692)](),_0x20649e(0x58c)+this[_0x20649e(0x53f)]+_0x20649e(0x49b)+this[_0x20649e(0x666)])),this['onDisconnectHandler'][_0x20649e(0x1bc)]();}}class _0x53374d{[_0x3565d6(0x45a)];[_0x3565d6(0x1db)];[_0x3565d6(0x687)];[_0x3565d6(0x2fb)];[_0x3565d6(0x60b)];[_0x3565d6(0x50d)];[_0x3565d6(0x420)]=[];[_0x3565d6(0x24e)];['optimizationLayers']=new Map();[_0x3565d6(0x3fa)];[_0x3565d6(0x326)];constructor(_0x563449,_0x496f8f,_0x75ea54){const _0x23ee19=_0x3565d6;this['configs']=_0x563449,this[_0x23ee19(0x1db)]=_0x496f8f,this[_0x23ee19(0x687)]=_0x75ea54,this[_0x23ee19(0x60b)]=new _0x4df32a(this[_0x23ee19(0x45a)][_0x23ee19(0x740)],this[_0x23ee19(0x45a)][_0x23ee19(0x390)],this['localUser'],this[_0x23ee19(0x1db)][_0x23ee19(0x62c)]()),this[_0x23ee19(0x50d)]=this[_0x23ee19(0x60b)][_0x23ee19(0x60c)](this['handleNodeDisconnect']['bind'](this)),this[_0x23ee19(0x45a)]['mediator'][_0x23ee19(0x678)](this[_0x23ee19(0x687)]),this['configs'][_0x23ee19(0x4a1)][_0x23ee19(0x678)](this),this[_0x23ee19(0x2fb)]=_0x42f599[_0x23ee19(0x341)](()=>{const _0x4c2461=_0x23ee19,_0x2072d6=Date['now']();this[_0x4c2461(0x1db)][_0x4c2461(0x5f7)]()[_0x4c2461(0x1c3)](_0x129653=>{const _0x4bcfa5=_0x4c2461;_0x129653[_0x4bcfa5(0x5e7)]()===_0x5224f9['Offline']&&_0x129653['getLastUpdated']()<_0x2072d6-0x493e0&&this[_0x4bcfa5(0x1db)][_0x4bcfa5(0x621)](_0x129653[_0x4bcfa5(0x56e)]());});},0xea60);}[_0x3565d6(0x586)](_0x1b2d96){const _0x134f12=_0x3565d6;this[_0x134f12(0x24e)]=_0x1b2d96;}[_0x3565d6(0x44d)](){const _0x21e851=_0x3565d6;delete this[_0x21e851(0x24e)];}[_0x3565d6(0x208)](){const _0x28e844=_0x3565d6;this['debounceProcessRank']&&(clearTimeout(this['debounceProcessRank']),delete this[_0x28e844(0x3fa)]),delete this[_0x28e844(0x326)],this[_0x28e844(0x687)][_0x28e844(0x208)](),this[_0x28e844(0x2fb)](),this['discoveryUnsubscriber'](),this[_0x28e844(0x45a)][_0x28e844(0x4a1)][_0x28e844(0x35f)](this[_0x28e844(0x687)]),this[_0x28e844(0x45a)][_0x28e844(0x4a1)][_0x28e844(0x35f)](this),this[_0x28e844(0x60b)][_0x28e844(0x208)]();}[_0x3565d6(0x30a)](){const _0x46227a=_0x3565d6;return this[_0x46227a(0x420)];}['getLocalId'](){const _0x26d619=_0x3565d6;return this[_0x26d619(0x687)][_0x26d619(0x56e)]();}[_0x3565d6(0x760)](){const _0x2bb34c=_0x3565d6;return this[_0x2bb34c(0x687)];}[_0x3565d6(0x5f7)](_0x5c37e3){const _0x44d0b1=_0x3565d6,_0x48a6ef=Array['from'](this[_0x44d0b1(0x1db)][_0x44d0b1(0x5f7)]()['values']())[_0x44d0b1(0x2de)](_0x6649e7=>_0x6649e7[_0x44d0b1(0x5e7)]()===_0x5224f9['Online']);return _0x5c37e3?_0x48a6ef[_0x44d0b1(0x2de)](_0x5c37e3):_0x48a6ef;}async[_0x3565d6(0x1a7)](){const _0x1bc59b=_0x3565d6;return this['ancestors']=await this['discoveryService'][_0x1bc59b(0x2c0)](),this['ancestors'][_0x1bc59b(0x49d)]<this[_0x1bc59b(0x1db)][_0x1bc59b(0x62c)]()&&(this['localUser'][_0x1bc59b(0x429)](this['ancestors'][_0x1bc59b(0x49d)]+0x1),this[_0x1bc59b(0x261)]()),this['ancestors'];}[_0x3565d6(0x739)](_0x91d4cc,_0x44972b){const _0x28cfa0=_0x3565d6,_0x18b172=this[_0x28cfa0(0x687)][_0x28cfa0(0x3e9)](),_0x21df33=new Set(_0x18b172),_0x3b3cd1=Array['from'](_0x18b172)['filter'](_0x4e7a3c=>_0x4e7a3c!==_0x91d4cc)[_0x28cfa0(0x311)](_0x31116e=>({'id':_0x31116e,'distance':0x1}));for(;_0x3b3cd1[_0x28cfa0(0x49d)]>0x0;){const _0x4b1a7e=_0x3b3cd1[_0x28cfa0(0x4ca)]();if(!_0x4b1a7e)continue;if(_0x4b1a7e['id']===_0x44972b)return _0x4b1a7e[_0x28cfa0(0x630)];const _0x337171=this[_0x28cfa0(0x1db)][_0x28cfa0(0x594)](_0x4b1a7e['id']);_0x337171&&_0x337171[_0x28cfa0(0x5e7)]()!==_0x5224f9['Offline']&&_0x337171[_0x28cfa0(0x3e9)]()[_0x28cfa0(0x1c3)](_0x378ea2=>{const _0x4f8599=_0x28cfa0;_0x21df33['has'](_0x378ea2)||(_0x21df33[_0x4f8599(0x6b4)](_0x378ea2),_0x3b3cd1['push']({'id':_0x378ea2,'distance':_0x4b1a7e[_0x4f8599(0x630)]+0x1}));});}return-0x1;}[_0x3565d6(0x5af)](_0x4c160f){const _0x25c50b=_0x3565d6;try{switch(_0x4c160f[_0x25c50b(0x379)][_0x25c50b(0x2be)]){case _0x99b96d[_0x25c50b(0x2c2)]:case _0x99b96d[_0x25c50b(0x282)]:this[_0x25c50b(0x610)](_0x4c160f[_0x25c50b(0x379)]),_0x11c0d7[_0x25c50b(0x71b)](_0x3e1340[_0x25c50b(0x49c)],_0x25c50b(0x6ca),'\x27'+this[_0x25c50b(0x687)]['getId']()+',\x20'+_0x4c160f[_0x25c50b(0x3be)]+'\x27',_0x4c160f,_0x4c160f[_0x25c50b(0x379)]);break;case _0x99b96d[_0x25c50b(0x559)]:this[_0x25c50b(0x46a)](_0x4c160f[_0x25c50b(0x379)]['id']),_0x11c0d7[_0x25c50b(0x71b)](_0x3e1340[_0x25c50b(0x49c)],_0x25c50b(0x497),'\x27'+this[_0x25c50b(0x687)][_0x25c50b(0x56e)]()+',\x20'+_0x4c160f[_0x25c50b(0x3be)]+'\x27',_0x4c160f,_0x4c160f['content']);}}catch(_0x5731bd){if(_0x5731bd instanceof _0x59eabb)return void _0x11c0d7[_0x25c50b(0x71b)](_0x3e1340[_0x25c50b(0x49c)],_0x5731bd[_0x25c50b(0x2ea)]);throw _0x5731bd;}}[_0x3565d6(0x1cf)](_0x450766){const _0x38de6d=_0x3565d6;switch(_0x450766[_0x38de6d(0x379)]['type']){case _0x25f14a['Success']:this[_0x38de6d(0x5ce)](_0x450766[_0x38de6d(0x3be)]),_0x11c0d7[_0x38de6d(0x71b)](_0x3e1340[_0x38de6d(0x49c)],_0x38de6d(0x250),'\x27'+this[_0x38de6d(0x687)][_0x38de6d(0x56e)]()+',\x20'+_0x450766[_0x38de6d(0x3be)]+'\x27',_0x450766,_0x450766[_0x38de6d(0x379)]);break;case _0x25f14a[_0x38de6d(0x4f3)]:this[_0x38de6d(0x347)](_0x450766[_0x38de6d(0x3be)]),_0x11c0d7[_0x38de6d(0x71b)](_0x3e1340[_0x38de6d(0x49c)],_0x38de6d(0x500),this[_0x38de6d(0x687)]['getId'](),_0x450766,_0x450766[_0x38de6d(0x379)]);}}['handleUserJoin'](_0x186e7e){const _0x2c33da=_0x3565d6;this[_0x2c33da(0x1f3)](_0x186e7e),this[_0x2c33da(0x42e)](_0x186e7e);}['notifyJoin'](_0x2e78ba){const _0x12491e=_0x3565d6;this['localUser'][_0x12491e(0x2b1)](_0x2e78ba['id']),this[_0x12491e(0x735)](_0x2e78ba['id']),this[_0x12491e(0x553)](_0x2e78ba);}[_0x3565d6(0x610)](_0x741605){const _0x83ac8e=_0x3565d6,{id:_0x3f81c3,displayName:_0x264868,email:_0x300954,rank:_0x58ba91,remoteConnections:_0x34cff3,version:_0x737a38}=_0x741605,_0x1484f4=this['graphService']['getRemoteUser'](_0x3f81c3);if(_0x1484f4){if(!(_0x737a38<=_0x1484f4[_0x83ac8e(0x4a2)]())){if(_0x1484f4[_0x83ac8e(0x377)](_0x34cff3),_0x1484f4['setCurrentVersion'](_0x737a38),_0x1484f4[_0x83ac8e(0x501)](_0x264868),_0x1484f4[_0x83ac8e(0x736)](_0x300954),_0x58ba91&&_0x1484f4[_0x83ac8e(0x429)](_0x58ba91),this['setLocalRank'](_0x3f81c3,_0x58ba91),_0x1484f4[_0x83ac8e(0x5e7)]()===_0x5224f9[_0x83ac8e(0x26f)])return _0x1484f4[_0x83ac8e(0x64e)](_0x5224f9[_0x83ac8e(0x555)]),this['processRank'](),void this[_0x83ac8e(0x42e)](_0x741605);this['processRank'](),this[_0x83ac8e(0x23d)]({'id':_0x3f81c3,'displayName':_0x264868,'email':_0x300954,'remoteConnections':_0x34cff3,'version':_0x737a38});}}else this[_0x83ac8e(0x34d)](_0x741605);}[_0x3565d6(0x2ed)](_0x16afbc,_0x25fd24){const _0x326789=_0x3565d6;_0x25fd24&&this[_0x326789(0x420)][_0x326789(0x741)](_0x16afbc)&&this[_0x326789(0x687)][_0x326789(0x429)](_0x25fd24+this['ancestors'][_0x326789(0x554)](_0x16afbc)+0x1);}[_0x3565d6(0x5ce)](_0x486ad7){const _0x7e7512=_0x3565d6;this[_0x7e7512(0x687)][_0x7e7512(0x22c)](_0x486ad7);}['createRemoteUser']({id:_0x3ea83e,displayName:_0x34db1='',email:_0x3e78f3='',rank:_0x264544,remoteConnections:_0x350c9e,version:_0x12765a}){const _0x1e6094=_0x3565d6;if(this['graphService']['hasRemoteUser'](_0x3ea83e))throw new _0x59eabb('Cannot\x20create\x20remote\x20user:\x20User\x20already\x20exists:\x20'+_0x3ea83e);this['graphService'][_0x1e6094(0x57b)](_0x3ea83e,new _0x57213f(_0x3ea83e,_0x34db1,_0x3e78f3,new Set(_0x350c9e),_0x12765a,_0x264544)),this[_0x1e6094(0x2ed)](_0x3ea83e,_0x264544),this['processRank']();}[_0x3565d6(0x735)](_0x4bd35e){const _0x27bff4=_0x3565d6;this['systemTopic'][_0x27bff4(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x27bff4(0x49c)],'content':{'type':_0x99b96d[_0x27bff4(0x454)],'id':_0x4bd35e}});}[_0x3565d6(0x347)](_0x4eb2fb){const _0x33c8fe=_0x3565d6;this[_0x33c8fe(0x24e)]?.[_0x33c8fe(0x76d)]({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x33c8fe(0x49c)],'content':{'type':_0x99b96d[_0x33c8fe(0x559)],'id':_0x4eb2fb}});}[_0x3565d6(0x334)](_0x4b616){const _0x16ce9b=_0x3565d6;if(_0x4b616===this[_0x16ce9b(0x687)][_0x16ce9b(0x56e)]())return this[_0x16ce9b(0x45a)][_0x16ce9b(0x4a1)][_0x16ce9b(0x71c)]('cluster-disconnect',{'id':_0x4b616}),this[_0x16ce9b(0x45a)][_0x16ce9b(0x4a1)][_0x16ce9b(0x208)](!0x0),this[_0x16ce9b(0x45a)][_0x16ce9b(0x4a1)][_0x16ce9b(0x4db)](),void this[_0x16ce9b(0x45a)][_0x16ce9b(0x4a1)][_0x16ce9b(0x549)]();this['publishUserLeave'](_0x4b616);}[_0x3565d6(0x46a)](_0x2120ea){const _0x412b44=_0x3565d6;this[_0x412b44(0x420)][_0x412b44(0x741)](_0x2120ea)?this[_0x412b44(0x592)](_0x2120ea):this[_0x412b44(0x687)][_0x412b44(0x3e9)]()[_0x412b44(0x645)](_0x2120ea)&&this['manageOptimization'](_0x2120ea),this[_0x412b44(0x687)]['removeRemoteConnection'](_0x2120ea);const _0x38766c=Array['from'](this[_0x412b44(0x198)][_0x412b44(0x20a)]())['find'](([,_0x353bb4])=>_0x353bb4==_0x353bb4);_0x38766c&&this[_0x412b44(0x198)][_0x412b44(0x409)](_0x38766c[0x0]);const _0x360bb3=this[_0x412b44(0x1db)]['getRemoteUser'](_0x2120ea);if(!_0x360bb3)return;const _0x5616f1=_0x360bb3[_0x412b44(0x6ac)](),_0x1ceb00=this[_0x412b44(0x687)][_0x412b44(0x6ac)]();_0x1ceb00&&_0x5616f1&&_0x5616f1<_0x1ceb00&&this[_0x412b44(0x687)][_0x412b44(0x429)](_0x1ceb00-0x1,!0x1),Array['from'](this[_0x412b44(0x1db)][_0x412b44(0x5f7)]()[_0x412b44(0x3cb)]())[_0x412b44(0x1c3)](_0x8708bb=>{const _0xfcd808=_0x412b44,_0x301fb6=_0x8708bb[_0xfcd808(0x6ac)]();_0x301fb6&&_0x5616f1&&_0x5616f1<_0x301fb6&&_0x8708bb['setRank'](_0x301fb6-0x1);}),_0x360bb3[_0x412b44(0x64e)](_0x5224f9['Offline']),this[_0x412b44(0x45a)][_0x412b44(0x4a1)]['notifyCluster']('user-leave',{'id':_0x2120ea});}[_0x3565d6(0x553)]({id:_0x2627c7,displayName:_0x98fc9c,email:_0x4aec44,remoteConnections:_0x4c555f}){const _0x5c30a7=_0x3565d6;this[_0x5c30a7(0x45a)][_0x5c30a7(0x4a1)]['notifyCluster'](_0x5c30a7(0x425),{'id':_0x2627c7,'displayName':_0x98fc9c,'email':_0x4aec44,'remoteConnections':_0x4c555f});}[_0x3565d6(0x23d)]({id:_0x113fda,displayName:_0x5402bd,email:_0x385e38,remoteConnections:_0x2587f2}){const _0x454005=_0x3565d6;this[_0x454005(0x45a)]['mediator']['notifyCluster'](_0x454005(0x2f2),{'id':_0x113fda,'displayName':_0x5402bd,'email':_0x385e38,'remoteConnections':_0x2587f2});}[_0x3565d6(0x261)](){const _0x1a1bc7=_0x3565d6;if(this[_0x1a1bc7(0x326)]||(this[_0x1a1bc7(0x326)]=Date[_0x1a1bc7(0x1aa)]()),this['debounceProcessRank']){if(Date['now']()-this[_0x1a1bc7(0x326)]>0x2328)return;clearTimeout(this[_0x1a1bc7(0x3fa)]);}this[_0x1a1bc7(0x3fa)]=setTimeout(async()=>{const _0xfc345d=_0x1a1bc7;delete this[_0xfc345d(0x326)],delete this[_0xfc345d(0x3fa)];const _0x75ae30=this[_0xfc345d(0x687)]['getRank']();if(!_0x75ae30)return;const _0x119d22=this[_0xfc345d(0x1db)][_0xfc345d(0x1ee)](this[_0xfc345d(0x1db)]['getRemoteUsers']()[_0xfc345d(0x31b)]);if(this[_0xfc345d(0x198)][_0xfc345d(0x31b)]>=_0x119d22)return;let _0x270090=0x1;for(;this[_0xfc345d(0x45a)][_0xfc345d(0x4a1)][_0xfc345d(0x670)]()['length']<this['graphService'][_0xfc345d(0x412)]()&&_0x270090<=_0x119d22;){if(this[_0xfc345d(0x198)][_0xfc345d(0x645)](_0x270090)){_0x270090+=0x1;continue;}const _0x1cd4ae=this[_0xfc345d(0x1db)][_0xfc345d(0x1ed)](_0x75ae30,_0x270090),_0x8f760d=Array[_0xfc345d(0x25d)](this['graphService'][_0xfc345d(0x5f7)]()[_0xfc345d(0x3cb)]())[_0xfc345d(0x664)](_0x201e26=>_0x201e26[_0xfc345d(0x6ac)]()===_0x1cd4ae&&_0x201e26['getStatus']()===_0x5224f9['Online']);if(_0x8f760d){try{await this[_0xfc345d(0x45a)][_0xfc345d(0x4a1)]['createConnection'](_0x8f760d[_0xfc345d(0x56e)](),_0x1f8db5[_0xfc345d(0x1f6)]),this[_0xfc345d(0x198)][_0xfc345d(0x5bc)](_0x270090,_0x8f760d['getId']());}catch(_0x10e8fb){if(!(_0x10e8fb instanceof _0x1ca0c3&&_0x10e8fb[_0xfc345d(0x65b)]===_0x1ca0c3['codes'][_0xfc345d(0x212)]))throw _0x10e8fb;_0x11c0d7[_0xfc345d(0x71b)](_0x3e1340[_0xfc345d(0x49c)],this['localUser']['getId'](),_0x8f760d[_0xfc345d(0x56e)](),_0x10e8fb['message']);}_0x270090+=0x1;}else _0x270090+=0x1;}},0x3e8);}async['manageAncestor'](_0x17e745){const _0x2dcc3e=_0x3565d6;this[_0x2dcc3e(0x420)]['splice'](this[_0x2dcc3e(0x420)][_0x2dcc3e(0x554)](_0x17e745),0x1);const _0x3826b5=await this[_0x2dcc3e(0x60b)][_0x2dcc3e(0x698)]();for(const _0x4ef7f2 of _0x3826b5)if(!this[_0x2dcc3e(0x420)]['includes'](_0x4ef7f2)){const _0x541294=Array[_0x2dcc3e(0x25d)](this['optimizationLayers'][_0x2dcc3e(0x20a)]())[_0x2dcc3e(0x664)](([,_0x194698])=>_0x194698===_0x4ef7f2);_0x541294&&this['optimizationLayers'][_0x2dcc3e(0x409)](_0x541294[0x0]),this['configs']['mediator'][_0x2dcc3e(0x728)](_0x4ef7f2,_0x1f8db5[_0x2dcc3e(0x597)]);}0x0===_0x3826b5[_0x2dcc3e(0x49d)]&&this[_0x2dcc3e(0x687)]['setRank'](0x1),this[_0x2dcc3e(0x420)]=_0x3826b5;}async[_0x3565d6(0x5a7)](_0x63db4f){const _0x58c793=_0x3565d6,_0x122b84=this[_0x58c793(0x687)][_0x58c793(0x6ac)]();if(!_0x122b84)return;const _0x4a2a55=this[_0x58c793(0x1db)][_0x58c793(0x594)](_0x63db4f);if(!_0x4a2a55||_0x4a2a55[_0x58c793(0x5e7)]()===_0x5224f9[_0x58c793(0x26f)])return;const _0x212f05=_0x4a2a55['getRank']();if(!_0x212f05||_0x212f05<_0x122b84)return;const _0x1f8d2f=this['getOutgoingOptimizationConnections'](this[_0x58c793(0x687)]['getRemoteConnections'](),_0x122b84),_0x26156e=this['getOutgoingOptimizationConnections'](_0x4a2a55[_0x58c793(0x3e9)](),_0x212f05)[_0x1f8d2f[_0x58c793(0x48a)](([_0x84af14])=>_0x84af14===_0x63db4f)];if(!_0x26156e||this['localUser'][_0x58c793(0x3e9)]()['has'](_0x26156e[0x0]))return;const _0x2a04bf=this[_0x58c793(0x1db)][_0x58c793(0x594)](_0x26156e[0x0]);if(_0x2a04bf&&_0x2a04bf[_0x58c793(0x5e7)]()!==_0x5224f9[_0x58c793(0x26f)])try{await this['configs'][_0x58c793(0x4a1)]['createConnection'](_0x26156e[0x0],_0x1f8db5[_0x58c793(0x1f6)]);const _0x42f798=Array[_0x58c793(0x25d)](this['optimizationLayers'][_0x58c793(0x20a)]())['find'](([,_0x5656e4])=>_0x5656e4===_0x63db4f);_0x42f798&&this[_0x58c793(0x198)][_0x58c793(0x5bc)](_0x42f798[0x0],_0x26156e[0x0]);}catch(_0x1cff63){if(!(_0x1cff63 instanceof _0x1ca0c3&&_0x1cff63[_0x58c793(0x65b)]===_0x1ca0c3[_0x58c793(0x69c)][_0x58c793(0x212)]))throw _0x1cff63;_0x11c0d7[_0x58c793(0x71b)](_0x3e1340[_0x58c793(0x49c)],this[_0x58c793(0x687)][_0x58c793(0x56e)](),_0x26156e[0x0],_0x1cff63['message']);}}[_0x3565d6(0x66b)](_0x2d9470,_0x114766){const _0x1fc356=_0x3565d6;return Array[_0x1fc356(0x25d)](_0x2d9470)[_0x1fc356(0x2bc)]((_0x7ea8cc,_0x1454dc)=>{const _0x1aff26=_0x1fc356,_0x120136=this[_0x1aff26(0x1db)][_0x1aff26(0x594)](_0x1454dc);if(!_0x120136||_0x120136['getStatus']()===_0x5224f9[_0x1aff26(0x26f)])return _0x7ea8cc;const _0x13e8d1=_0x120136[_0x1aff26(0x6ac)]();if(!_0x13e8d1)return _0x7ea8cc;const _0x474d1a=_0x13e8d1-_0x114766;return _0x474d1a<=this[_0x1aff26(0x1db)]['getMinConnections']()||_0x7ea8cc[_0x1aff26(0x495)]([_0x1454dc,_0x474d1a]),_0x7ea8cc;},[])['sort'](([,_0x350f56],[,_0x13db6c])=>_0x350f56-_0x13db6c);}}class _0x484026 extends _0xaed30f{['systemTopic'];[_0x3565d6(0x3e6)]=Date[_0x3565d6(0x1aa)]();[_0x3565d6(0x3b9)];[_0x3565d6(0x203)];['close'](){const _0x55b9eb=_0x3565d6;this[_0x55b9eb(0x3b9)]&&(clearTimeout(this[_0x55b9eb(0x3b9)]),delete this[_0x55b9eb(0x3b9)]),delete this[_0x55b9eb(0x203)],this[_0x55b9eb(0x3e6)]=Date[_0x55b9eb(0x1aa)](),super[_0x55b9eb(0x208)]();}['registerSystemPublisher'](_0x38deb5){const _0x1d8f7a=_0x3565d6;this[_0x1d8f7a(0x24e)]=_0x38deb5;}[_0x3565d6(0x44d)](){const _0x38d58a=_0x3565d6;delete this[_0x38d58a(0x24e)];}[_0x3565d6(0x2b1)](_0x1d6dae){const _0x21ac31=_0x3565d6;!this['updateDebounceTimeout']&&this[_0x21ac31(0x1f1)]&&this[_0x21ac31(0x24e)][_0x21ac31(0x76d)]({'sourceId':this['id'],'destinationIds':[_0x1d6dae],'propagate':!0x0,'messageType':_0x3edd62['Node'],'content':{'type':_0x99b96d[_0x21ac31(0x2c2)],'id':this['id'],'displayName':this['getDisplayName'](),'email':this[_0x21ac31(0x496)](),'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x21ac31(0x665)]),'version':this['currentVersion']}});}[_0x3565d6(0x22c)](_0x39f144){const _0x1e1b35=_0x3565d6;this['remoteConnections'][_0x1e1b35(0x645)](_0x39f144)||(this['remoteConnections'][_0x1e1b35(0x6b4)](_0x39f144),this[_0x1e1b35(0x3f7)](),this['publishUserUpdate'](!0x0));}[_0x3565d6(0x6b7)](_0x41b8fc){const _0x5e2287=_0x3565d6;this['remoteConnections'][_0x5e2287(0x645)](_0x41b8fc)&&(this[_0x5e2287(0x665)][_0x5e2287(0x409)](_0x41b8fc),this[_0x5e2287(0x3f7)](),this[_0x5e2287(0x2af)](!0x0));}[_0x3565d6(0x4a2)](){const _0x492460=_0x3565d6;return this[_0x492460(0x3e6)];}[_0x3565d6(0x501)](_0x565c69){const _0x488814=_0x3565d6;this[_0x488814(0x29a)]!==_0x565c69&&(this[_0x488814(0x29a)]=_0x565c69,this['incrementVersion'](),this['publishUserUpdate']());}[_0x3565d6(0x736)](_0x2f3425){const _0x501203=_0x3565d6;this[_0x501203(0x4e0)]!==_0x2f3425&&(this[_0x501203(0x4e0)]=_0x2f3425,this['incrementVersion'](),this[_0x501203(0x2af)]());}[_0x3565d6(0x429)](_0x34de80,_0x1e61e5=!0x0){const _0x3ebc48=_0x3565d6;this[_0x3ebc48(0x1f1)]!==_0x34de80&&(this[_0x3ebc48(0x1f1)]=_0x34de80,_0x1e61e5&&(this[_0x3ebc48(0x3f7)](),this[_0x3ebc48(0x2af)]()));}[_0x3565d6(0x3f7)](){const _0xd4635d=_0x3565d6;this[_0xd4635d(0x3e6)]=Date[_0xd4635d(0x1aa)]();}['publishUserUpdate'](_0x23b511=!0x1){const _0x51dd42=_0x3565d6;if(this[_0x51dd42(0x1f1)]){if(this[_0x51dd42(0x203)]||(this[_0x51dd42(0x203)]=Date['now']()),this[_0x51dd42(0x3b9)]){if(Date['now']()-this['lastUpdated']>0x2328)return;clearTimeout(this[_0x51dd42(0x3b9)]);}this[_0x51dd42(0x3b9)]=setTimeout(()=>{const _0x4a1739=_0x51dd42;delete this[_0x4a1739(0x203)],delete this[_0x4a1739(0x3b9)],this['systemTopic'][_0x4a1739(0x76d)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3edd62[_0x4a1739(0x49c)],'content':{'type':_0x23b511?_0x99b96d[_0x4a1739(0x282)]:_0x99b96d[_0x4a1739(0x2c2)],'id':this['id'],'displayName':this[_0x4a1739(0x505)](),'email':this['getEmail'](),'rank':this[_0x4a1739(0x6ac)](),'remoteConnections':Array[_0x4a1739(0x25d)](this[_0x4a1739(0x665)]),'version':this[_0x4a1739(0x3e6)]}});},0x3e8);}}}const _0xabc1fe=[{'problemType':_0x34d5e2[_0x3565d6(0x6b3)],'remediations':[{'type':_0x561b46[_0x3565d6(0x1af)],'component':_0x4c3ef6[_0x3565d6(0x328)],'action':_0x52e863[_0x3565d6(0x363)]},{'type':_0x561b46[_0x3565d6(0x1b7)],'component':_0x4c3ef6[_0x3565d6(0x328)],'action':_0x52e863[_0x3565d6(0x363)]}]},{'problemType':_0x34d5e2[_0x3565d6(0x295)],'remediations':[{'type':_0x561b46['Remediation'],'component':_0x4c3ef6[_0x3565d6(0x328)],'action':_0x52e863[_0x3565d6(0x363)]}]},{'problemType':_0x34d5e2[_0x3565d6(0x5cc)],'remediations':[{'type':_0x561b46[_0x3565d6(0x1af)],'component':_0x4c3ef6[_0x3565d6(0x328)],'action':_0x52e863[_0x3565d6(0x363)]}]},{'problemType':_0x34d5e2['FramePerSecond'],'remediations':[{'type':_0x561b46[_0x3565d6(0x1af)],'component':_0x4c3ef6[_0x3565d6(0x328)],'action':_0x52e863[_0x3565d6(0x363)]}]},{'problemType':_0x34d5e2['Bitrate'],'remediations':[{'type':_0x561b46[_0x3565d6(0x1af)],'component':_0x4c3ef6[_0x3565d6(0x375)],'action':_0x52e863[_0x3565d6(0x363)]}]},{'problemType':_0x34d5e2[_0x3565d6(0x460)],'remediations':[{'type':_0x561b46[_0x3565d6(0x1af)],'component':_0x4c3ef6[_0x3565d6(0x375)],'action':_0x52e863[_0x3565d6(0x363)]}]},{'problemType':_0x34d5e2[_0x3565d6(0x2ca)],'remediations':[{'type':_0x561b46[_0x3565d6(0x1af)],'component':_0x4c3ef6[_0x3565d6(0x375)],'action':_0x52e863['Downgrade']}]}];class _0x1fe118{['configs'];[_0x3565d6(0x24e)];['lastRemediations']=new Map();constructor(_0x4818f8){const _0x5e9347=_0x3565d6;this[_0x5e9347(0x45a)]=_0x4818f8,this[_0x5e9347(0x45a)][_0x5e9347(0x4a1)][_0x5e9347(0x678)](this);}['close'](){const _0x99b3a7=_0x3565d6;this[_0x99b3a7(0x45a)][_0x99b3a7(0x4a1)][_0x99b3a7(0x35f)](this);}[_0x3565d6(0x586)](_0x9e8fb1){this['systemTopic']=_0x9e8fb1;}[_0x3565d6(0x44d)](){const _0x3f9c86=_0x3565d6;delete this[_0x3f9c86(0x24e)];}['handleDetectionSystemEvents'](_0x30d76f){const _0x5c1fed=_0x3565d6;_0x30d76f['content'][_0x5c1fed(0x2be)]===_0x3273ad[_0x5c1fed(0x6f5)]&&this[_0x5c1fed(0x4ac)](_0x30d76f['content'][_0x5c1fed(0x23a)]);}[_0x3565d6(0x416)](_0x15114d){const _0xe0e6e0=_0x3565d6;_0x15114d[_0xe0e6e0(0x379)][_0xe0e6e0(0x2be)]===_0x561b46[_0xe0e6e0(0x1b7)]&&this[_0xe0e6e0(0x63b)](_0x15114d[_0xe0e6e0(0x3be)],{'type':_0x561b46[_0xe0e6e0(0x1af)],'component':_0x15114d[_0xe0e6e0(0x379)]['data']['component'],'action':_0x15114d[_0xe0e6e0(0x379)]['data']['action']});}[_0x3565d6(0x4ac)](_0x110b79){const _0x464c64=_0x3565d6,_0x795065=_0xabc1fe[_0x464c64(0x664)](_0x59d947=>_0x59d947['problemType']===_0x110b79[_0x464c64(0x2be)]);_0x795065[_0x464c64(0x36a)]?.[_0x464c64(0x1c3)](_0x2c110e=>{const _0x3a05b0=_0x464c64;this[_0x3a05b0(0x63b)](_0x110b79[_0x3a05b0(0x3bf)],{'type':_0x110b79[_0x3a05b0(0x38f)]===_0x58b611['Sender']?_0x561b46[_0x3a05b0(0x1af)]:_0x561b46['RemoteRemediation'],'component':_0x2c110e[_0x3a05b0(0x520)],'action':_0x2c110e['action']});});}['applyRemediation'](_0x5bb49a,_0x27b47f){const _0x280a6b=_0x3565d6;if(_0x27b47f['type']===_0x561b46[_0x280a6b(0x1af)]){const _0x5164f7=Date[_0x280a6b(0x1aa)](),_0x53241a=this[_0x280a6b(0x715)][_0x280a6b(0x64f)](_0x5bb49a);if(_0x53241a&&_0x5164f7-_0x53241a<0x1388)return;this[_0x280a6b(0x715)][_0x280a6b(0x5bc)](_0x5bb49a,_0x5164f7);}_0x11c0d7[_0x280a6b(0x71b)](_0x3e1340[_0x280a6b(0x1af)],_0x280a6b(0x73e),_0x27b47f),_0x11c0d7[_0x280a6b(0x6c4)]('remediation',{'clusterId':this[_0x280a6b(0x45a)][_0x280a6b(0x390)],'userId':this['configs'][_0x280a6b(0x41b)],'remoteId':_0x5bb49a,'data':{'type':_0x27b47f[_0x280a6b(0x2be)],'component':_0x27b47f[_0x280a6b(0x520)],'action':_0x27b47f['action']}});let _0x5db83f,_0x5aed48=_0x13edb4;_0x27b47f['type']===_0x561b46[_0x280a6b(0x1b7)]&&(_0x5aed48=this[_0x280a6b(0x45a)]['localId'],_0x5db83f=[_0x5bb49a]),this[_0x280a6b(0x24e)]['publish']({'sourceId':_0x5aed48,'destinationIds':_0x5db83f,'messageType':_0x3edd62[_0x280a6b(0x1af)],'content':{'type':_0x27b47f['type'],'targetId':_0x5bb49a,'data':_0x27b47f}});}}const _0x1298cc=0x3e8,_0x322187=0x7530,_0x2a999a='outbound-rtp',_0x3f05d7=_0x3565d6(0x428),_0x452d6e='inbound-rtp',_0x43299f=[_0x2a999a,_0x3f05d7],_0x5622d2=[_0x452d6e];class _0x25916a{[_0x3565d6(0x402)]=0x0;[_0x3565d6(0x2fe)]=0x0;[_0x3565d6(0x5d6)]=0x0;[_0x3565d6(0x442)]=0x0;[_0x3565d6(0x754)]=0x0;[_0x3565d6(0x530)]=0x0;[_0x3565d6(0x67c)]=0x0;[_0x3565d6(0x5fb)]=0x0;[_0x3565d6(0x316)]=0x0;get['bitrate'](){const _0xe1f86d=_0x3565d6;return this[_0xe1f86d(0x530)]>0x0&&this['previousTimestamp']>0x0&&Date['now']()-this[_0xe1f86d(0x530)]<_0x322187?(this[_0xe1f86d(0x5fb)]-this[_0xe1f86d(0x316)])/(this[_0xe1f86d(0x530)]-this[_0xe1f86d(0x67c)])*0x8*0x3e8:0x0;}[_0x3565d6(0x4e2)](_0x48e9f4){const _0x382929=_0x3565d6;switch(_0x48e9f4[_0x382929(0x2be)]){case _0x452d6e:this[_0x382929(0x631)](_0x48e9f4);break;case _0x2a999a:this[_0x382929(0x31d)](_0x48e9f4);break;case _0x3f05d7:this['processRemoteInboundReport'](_0x48e9f4);}}[_0x3565d6(0x26e)](){const _0x2f5cbe=_0x3565d6;return{'bitrate':this['bitrate'],'packetsLostPerc':this[_0x2f5cbe(0x45d)](),'roundTripTime':this[_0x2f5cbe(0x402)],'jitter':this[_0x2f5cbe(0x5d6)]};}[_0x3565d6(0x631)](_0x1914ce){const _0x4c8337=_0x3565d6;this[_0x4c8337(0x62d)](_0x1914ce[_0x4c8337(0x48f)]),this[_0x4c8337(0x3f3)](_0x1914ce[_0x4c8337(0x1e2)]),this[_0x4c8337(0x754)]=_0x1914ce[_0x4c8337(0x764)],this[_0x4c8337(0x442)]=_0x1914ce['packetsLost'],void 0x0!==_0x1914ce['jitter']?this[_0x4c8337(0x5d6)]=_0x1914ce[_0x4c8337(0x5d6)]:this[_0x4c8337(0x5d6)]=0x0,void 0x0!==_0x1914ce[_0x4c8337(0x2fe)]?this[_0x4c8337(0x2fe)]=_0x1914ce['estimatedPlayoutTimestamp']:this[_0x4c8337(0x2fe)]=0x0;}[_0x3565d6(0x31d)](_0x2476c8){const _0x1e4f48=_0x3565d6;this[_0x1e4f48(0x62d)](_0x2476c8[_0x1e4f48(0x33b)]),this['setTimestamp'](_0x2476c8[_0x1e4f48(0x1e2)]),this['packets']=_0x2476c8[_0x1e4f48(0x38a)];}['processRemoteInboundReport'](_0x1c573b){const _0x2471d3=_0x3565d6;this[_0x2471d3(0x402)]=0x3e8*_0x1c573b[_0x2471d3(0x402)],void 0x0!==_0x1c573b[_0x2471d3(0x5d6)]?this[_0x2471d3(0x5d6)]=_0x1c573b[_0x2471d3(0x5d6)]:this[_0x2471d3(0x5d6)]=0x0;}['getPacketsLostPerc'](){const _0x54cdc4=_0x3565d6;return this[_0x54cdc4(0x754)]>0x0?this['packetsLost']/this[_0x54cdc4(0x754)]:0x0;}[_0x3565d6(0x3f3)](_0x5c8f42){const _0x4cbd2a=_0x3565d6;_0x5c8f42>this[_0x4cbd2a(0x530)]&&(this[_0x4cbd2a(0x67c)]=this['currentTimestamp'],this['currentTimestamp']=_0x5c8f42);}[_0x3565d6(0x62d)](_0x4e4b68){const _0x318ba5=_0x3565d6;this[_0x318ba5(0x316)]=this[_0x318ba5(0x5fb)],this[_0x318ba5(0x5fb)]=_0x4e4b68;}}class _0x5ca8ad extends _0x25916a{}class _0x27c00b extends _0x25916a{['frameTime']=0x0;[_0x3565d6(0x200)]=0x0;[_0x3565d6(0x4e9)]=0x0;['currentFrames']=0x0;['previousFrames']=0x0;get[_0x3565d6(0x2bd)](){const _0x3170dd=_0x3565d6;return this[_0x3170dd(0x530)]>0x0&&this[_0x3170dd(0x67c)]>0x0&&Date[_0x3170dd(0x1aa)]()-this[_0x3170dd(0x530)]<_0x322187?(this[_0x3170dd(0x52f)]-this[_0x3170dd(0x6a0)])/(this[_0x3170dd(0x530)]-this['previousTimestamp'])*0x3e8:0x0;}get['timePerFrame'](){const _0x3ccebd=_0x3565d6;return this[_0x3ccebd(0x5ad)]&&this[_0x3ccebd(0x52f)]&&this[_0x3ccebd(0x52f)]>0x0?this[_0x3ccebd(0x5ad)]/this['currentFrames']:0x0;}set['frames'](_0x29733b){const _0x9db4b4=_0x3565d6;this[_0x9db4b4(0x6a0)]=this[_0x9db4b4(0x52f)],this[_0x9db4b4(0x52f)]=_0x29733b;}['getReport'](){const _0x1e9649=_0x3565d6;return{...super[_0x1e9649(0x26e)](),'FPS':this[_0x1e9649(0x2bd)],'timePerFrame':this[_0x1e9649(0x653)],'frameWidth':this[_0x1e9649(0x200)],'frameHeight':this[_0x1e9649(0x4e9)]};}[_0x3565d6(0x631)](_0x3a7a89){const _0x4f6660=_0x3565d6;super[_0x4f6660(0x631)](_0x3a7a89),this[_0x4f6660(0x5ad)]=_0x3a7a89[_0x4f6660(0x24a)],this['frames']=_0x3a7a89[_0x4f6660(0x482)],this[_0x4f6660(0x200)]=_0x3a7a89['frameWidth'],this[_0x4f6660(0x4e9)]=_0x3a7a89[_0x4f6660(0x4e9)];}['processOutboundReport'](_0x24ca3e){const _0x96a4ab=_0x3565d6;super[_0x96a4ab(0x31d)](_0x24ca3e),this[_0x96a4ab(0x5ad)]=_0x24ca3e[_0x96a4ab(0x298)],this[_0x96a4ab(0x23b)]=_0x24ca3e[_0x96a4ab(0x480)],this[_0x96a4ab(0x200)]=_0x24ca3e['frameWidth'],this[_0x96a4ab(0x4e9)]=_0x24ca3e[_0x96a4ab(0x4e9)];}}class _0x20b24e{[_0x3565d6(0x398)]=new _0x5ca8ad();[_0x3565d6(0x612)]=new _0x27c00b();get['bitrate'](){const _0x2008ed=_0x3565d6;return this[_0x2008ed(0x398)]['bitrate']+this[_0x2008ed(0x612)][_0x2008ed(0x4fd)];}[_0x3565d6(0x25e)](_0x394c7c){const _0x37ffff=_0x3565d6;return _0x394c7c['forEach'](_0x386206=>{const _0x566a44=a0_0x2e59;switch(_0x386206[_0x566a44(0x711)]){case _0x566a44(0x398):this['audio'][_0x566a44(0x4e2)](_0x386206);break;case _0x566a44(0x612):this[_0x566a44(0x612)]['processReport'](_0x386206);}}),this[_0x37ffff(0x26e)]();}[_0x3565d6(0x26e)](){const _0x4e80c0=_0x3565d6;return{'audio':this[_0x4e80c0(0x398)][_0x4e80c0(0x26e)](),'video':this[_0x4e80c0(0x612)]['getReport'](),'roundTripTime':this[_0x4e80c0(0x713)](),'AudioVideoDelay':this[_0x4e80c0(0x401)](),'bitrate':this[_0x4e80c0(0x4fd)]};}[_0x3565d6(0x713)](){const _0x5e0b2b=_0x3565d6;return Math[_0x5e0b2b(0x457)]((this[_0x5e0b2b(0x398)][_0x5e0b2b(0x402)]+this[_0x5e0b2b(0x612)]['roundTripTime'])/0x2);}[_0x3565d6(0x401)](){const _0x2741ff=_0x3565d6;return this[_0x2741ff(0x398)][_0x2741ff(0x2fe)]-this[_0x2741ff(0x612)][_0x2741ff(0x2fe)];}}class _0xdbdf8{[_0x3565d6(0x4a0)]=0x0;[_0x3565d6(0x263)]=0x0;[_0x3565d6(0x6cf)]=0x0;[_0x3565d6(0x2f1)]=0x0;['senderCurrentBytes']=0x0;[_0x3565d6(0x655)]=0x0;[_0x3565d6(0x6e8)]=0x0;[_0x3565d6(0x55a)]=0x0;[_0x3565d6(0x718)]=0x0;['receiverTotalMessages']=0x0;[_0x3565d6(0x1f7)]=0x0;[_0x3565d6(0x230)]=0x0;[_0x3565d6(0x402)]=0x0;get['bitrate'](){const _0x540641=_0x3565d6;return this[_0x540641(0x48c)]+this[_0x540641(0x4d1)];}get[_0x3565d6(0x48c)](){const _0x24d18a=_0x3565d6;return this['senderCurrentTimestamp']>0x0&&this['senderPreviousTimestamp']>0x0&&Date[_0x24d18a(0x1aa)]()-this[_0x24d18a(0x4a0)]<_0x322187?(this[_0x24d18a(0x4a7)]-this[_0x24d18a(0x655)])/(this['senderCurrentTimestamp']-this[_0x24d18a(0x263)])*0x8*0x3e8:0x0;}get[_0x3565d6(0x4d1)](){const _0x2d2972=_0x3565d6;return this[_0x2d2972(0x6cf)]>0x0&&this[_0x2d2972(0x2f1)]>0x0&&Date[_0x2d2972(0x1aa)]()-this[_0x2d2972(0x6cf)]<_0x322187?(this[_0x2d2972(0x6e8)]-this[_0x2d2972(0x55a)])/(this[_0x2d2972(0x6cf)]-this['receiverPreviousTimestamp'])*0x8*0x3e8:0x0;}[_0x3565d6(0x4e2)](_0x472e7f){const _0x48c6d2=_0x3565d6;switch(_0x472e7f['origin']){case _0x58b611[_0x48c6d2(0x427)]:this['processSenderReport'](_0x472e7f);break;case _0x58b611[_0x48c6d2(0x36f)]:this[_0x48c6d2(0x26c)](_0x472e7f);}}[_0x3565d6(0x26e)](){const _0x53d574=_0x3565d6;return{'bitrate':this[_0x53d574(0x4fd)],'senderBitrate':this[_0x53d574(0x48c)],'receiverBitrate':this[_0x53d574(0x4d1)],'totalBytes':this[_0x53d574(0x2e2)](),'senderTotalBytes':this[_0x53d574(0x24c)](),'receiverTotalBytes':this[_0x53d574(0x3f4)](),'totalMessages':this[_0x53d574(0x718)]+this[_0x53d574(0x41f)],'senderTotalMessages':this[_0x53d574(0x718)],'receiverTotalMessages':this[_0x53d574(0x41f)],'timeProcessing':this['senderTimeProcessing']+this[_0x53d574(0x230)],'senderTimeProcessing':this[_0x53d574(0x1f7)],'receiverTimeProcessing':this[_0x53d574(0x230)],'roundTripTime':this['roundTripTime']};}[_0x3565d6(0x2e2)](){const _0x1664fb=_0x3565d6;return this[_0x1664fb(0x4a7)]+this[_0x1664fb(0x6e8)];}[_0x3565d6(0x24c)](){return this['senderCurrentBytes'];}[_0x3565d6(0x3f4)](){const _0xe22cb9=_0x3565d6;return this[_0xe22cb9(0x6e8)];}[_0x3565d6(0x3d0)](_0x59581a){const _0x29fa11=_0x3565d6;this[_0x29fa11(0x241)](_0x59581a[_0x29fa11(0x1e2)]),this['setBytes'](_0x59581a[_0x29fa11(0x33b)]),this[_0x29fa11(0x718)]=_0x59581a[_0x29fa11(0x2fd)],this[_0x29fa11(0x1f7)]=_0x59581a[_0x29fa11(0x580)],this[_0x29fa11(0x402)]=_0x59581a[_0x29fa11(0x402)];}[_0x3565d6(0x26c)](_0x12abee){const _0x241495=_0x3565d6;this[_0x241495(0x701)](_0x12abee['timestamp']),this['setReceiverBytes'](_0x12abee[_0x241495(0x48f)]),this[_0x241495(0x41f)]=_0x12abee[_0x241495(0x32c)],this['receiverTimeProcessing']=_0x12abee[_0x241495(0x6f8)];}[_0x3565d6(0x241)](_0x2905a7){const _0x50873d=_0x3565d6;_0x2905a7>this[_0x50873d(0x4a0)]&&(this[_0x50873d(0x263)]=this[_0x50873d(0x4a0)],this[_0x50873d(0x4a0)]=_0x2905a7);}[_0x3565d6(0x701)](_0x5209cf){const _0x494610=_0x3565d6;_0x5209cf>this[_0x494610(0x6cf)]&&(this[_0x494610(0x2f1)]=this['receiverCurrentTimestamp'],this[_0x494610(0x6cf)]=_0x5209cf);}[_0x3565d6(0x62d)](_0x3feb36){const _0x20031a=_0x3565d6;this[_0x20031a(0x655)]=this['senderCurrentBytes'],this['senderCurrentBytes']=_0x3feb36;}[_0x3565d6(0x5e3)](_0x27b741){const _0x4c183b=_0x3565d6;this['receiverPreviousBytes']=this[_0x4c183b(0x6e8)],this[_0x4c183b(0x6e8)]=_0x27b741;}}class _0x5ac651{[_0x3565d6(0x4c0)]=new Map();[_0x3565d6(0x571)]=new Map();[_0x3565d6(0x6c5)]=new _0xdbdf8();get['senderBitrate'](){const _0x20ea3f=_0x3565d6;let _0x111450=0x0;return this['senderStreams'][_0x20ea3f(0x1c3)](_0x22cb59=>{const _0x5ced65=_0x20ea3f;_0x111450+=_0x22cb59[_0x5ced65(0x4fd)];}),_0x111450+=this['dataChannel'][_0x20ea3f(0x48c)],_0x111450;}get[_0x3565d6(0x4d1)](){const _0x18494a=_0x3565d6;let _0x4d7395=0x0;return this[_0x18494a(0x571)]['forEach'](_0x176049=>{const _0x2d2eed=_0x18494a;_0x4d7395+=_0x176049[_0x2d2eed(0x4fd)];}),_0x4d7395+=this['dataChannel'][_0x18494a(0x4d1)],_0x4d7395;}get['bitrate'](){const _0x163415=_0x3565d6;return this[_0x163415(0x48c)]+this[_0x163415(0x4d1)];}['processReports'](_0x315841,_0x42d3bc){const _0xd9de1a=_0x3565d6,_0x2ad078=[],_0x2b4229=[];return _0x315841 instanceof Array?_0x315841[_0xd9de1a(0x1c3)](_0x3777ce=>{const _0x4904f4=_0xd9de1a;_0x3777ce instanceof RTCStatsReport&&_0x3777ce[_0x4904f4(0x1c3)](_0x942b0b=>{const _0x3e5ad0=_0x4904f4;_0x5622d2[_0x3e5ad0(0x741)](_0x942b0b[_0x3e5ad0(0x2be)])&&_0x2ad078[_0x3e5ad0(0x495)](_0x942b0b),_0x43299f[_0x3e5ad0(0x741)](_0x942b0b[_0x3e5ad0(0x2be)])&&_0x2b4229[_0x3e5ad0(0x495)](_0x942b0b);});}):this[_0xd9de1a(0x6c5)][_0xd9de1a(0x4e2)](_0x315841),_0x2ad078[_0xd9de1a(0x49d)]>0x0&&_0x42d3bc?{...this[_0xd9de1a(0x569)](_0x42d3bc,_0x2ad078),'origin':_0x58b611[_0xd9de1a(0x36f)],'streamId':_0x42d3bc}:_0x2b4229[_0xd9de1a(0x49d)]>0x0&&_0x42d3bc?{...this['processOutboundReports'](_0x42d3bc,_0x2b4229),'origin':_0x58b611[_0xd9de1a(0x427)],'streamId':_0x42d3bc}:void 0x0;}[_0x3565d6(0x26e)](){const _0x36f42f=_0x3565d6,_0x146a0a={};this[_0x36f42f(0x4c0)][_0x36f42f(0x1c3)]((_0x5c5e0a,_0x2838d5)=>{_0x146a0a[_0x2838d5]=_0x5c5e0a['getReport']();});const _0xe029ba={};return this[_0x36f42f(0x571)][_0x36f42f(0x1c3)]((_0x4a663b,_0x5c001e)=>{const _0x48cfa9=_0x36f42f;_0xe029ba[_0x5c001e]=_0x4a663b[_0x48cfa9(0x26e)]();}),{'bitrate':this['bitrate'],'senderBitrate':this[_0x36f42f(0x48c)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0x146a0a,'receiverStreams':_0xe029ba,'dataChannel':this['dataChannel'][_0x36f42f(0x26e)]()};}[_0x3565d6(0x569)](_0x4ca353,_0x57d21e){const _0x39322c=_0x3565d6;return this[_0x39322c(0x571)][_0x39322c(0x645)](_0x4ca353)||this[_0x39322c(0x571)][_0x39322c(0x5bc)](_0x4ca353,new _0x20b24e()),this[_0x39322c(0x571)][_0x39322c(0x64f)](_0x4ca353)[_0x39322c(0x25e)](_0x57d21e);}[_0x3565d6(0x35b)](_0x1447f5,_0x390a89){const _0x1265f3=_0x3565d6;return this[_0x1265f3(0x4c0)]['has'](_0x1447f5)||this['senderStreams']['set'](_0x1447f5,new _0x20b24e()),this[_0x1265f3(0x4c0)]['get'](_0x1447f5)['processReports'](_0x390a89);}}class _0x164c2f{[_0x3565d6(0x5fc)]=new Map();[_0x3565d6(0x6d4)]=0x0;[_0x3565d6(0x61a)]=0x0;[_0x3565d6(0x672)]=new Map();[_0x3565d6(0x6ec)]=new Map();[_0x3565d6(0x587)]=new Map();[_0x3565d6(0x718)]=new Map();[_0x3565d6(0x41f)]=new Map();[_0x3565d6(0x1f7)]=new Map();[_0x3565d6(0x230)]=new Map();['systemMessages']=new Map();[_0x3565d6(0x24e)];[_0x3565d6(0x26e)](){const _0x190ad0=_0x3565d6,_0xbfcb33={};this[_0x190ad0(0x5fc)][_0x190ad0(0x1c3)]((_0xb93699,_0xa2add5)=>{const _0x341489=_0x190ad0;_0xbfcb33[_0xa2add5]=_0xb93699[_0x341489(0x26e)]();});let _0x1321a9=0x0;this[_0x190ad0(0x1f7)]['forEach'](_0x471a9e=>{_0x1321a9+=_0x471a9e;});let _0x3023bb=0x0;this[_0x190ad0(0x230)][_0x190ad0(0x1c3)](_0x6c9f7f=>{_0x3023bb+=_0x6c9f7f;});const _0x282e21=_0x1321a9+_0x3023bb;let _0x6c19d6={'messages':{'total':0x0}};this[_0x190ad0(0x57f)][_0x190ad0(0x1c3)](_0x447f33=>{Object['keys'](_0x447f33)['forEach'](_0x2b10da=>{const _0x1d3050=a0_0x2e59;_0x6c19d6[_0x2b10da]||(_0x6c19d6[_0x2b10da]={}),Object[_0x1d3050(0x4c6)](_0x447f33[_0x2b10da])['forEach'](_0x513bc2=>{_0x6c19d6[_0x2b10da][_0x513bc2]||(_0x6c19d6[_0x2b10da][_0x513bc2]=0x0),_0x6c19d6[_0x2b10da][_0x513bc2]+=_0x447f33[_0x2b10da][_0x513bc2];});});});let _0x507f2b=0x0,_0x139c42=0x0,_0x1c86db=0x0,_0x342b2d=0x0,_0x5dc8d8=0x0;return this[_0x190ad0(0x672)]['forEach'](_0x95e645=>{const _0x473438=_0x190ad0;_0x139c42+=_0x95e645[_0x473438(0x2fd)],_0x1c86db+=_0x95e645['messagesReceived'],_0x342b2d+=_0x95e645[_0x473438(0x33b)],_0x5dc8d8+=_0x95e645[_0x473438(0x48f)];}),this['objectStores']['forEach'](_0x2541fc=>{const _0xd20bc8=_0x190ad0;_0x507f2b+=_0x2541fc[_0xd20bc8(0x1ce)],_0x139c42+=_0x2541fc[_0xd20bc8(0x2fd)],_0x1c86db+=_0x2541fc[_0xd20bc8(0x32c)],_0x342b2d+=_0x2541fc[_0xd20bc8(0x33b)],_0x5dc8d8+=_0x2541fc['bytesReceived'];}),this[_0x190ad0(0x587)][_0x190ad0(0x1c3)](_0x5dbe78=>{const _0x5d1a9e=_0x190ad0;_0x507f2b+=_0x5dbe78[_0x5d1a9e(0x1ce)],_0x139c42+=_0x5dbe78['messagesSent'],_0x1c86db+=_0x5dbe78[_0x5d1a9e(0x32c)],_0x342b2d+=_0x5dbe78[_0x5d1a9e(0x33b)],_0x5dc8d8+=_0x5dbe78[_0x5d1a9e(0x48f)];}),{'STVolatility':this[_0x190ad0(0x2eb)](),'DTVolatility':this[_0x190ad0(0x544)](),'bitrate':this[_0x190ad0(0x2fc)](),'senderBitrate':this[_0x190ad0(0x28f)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x507f2b,'totalMessages':_0x139c42+_0x1c86db,'totalMessagesSent':_0x139c42,'totalMessagesReceived':_0x1c86db,'totalBytes':_0x342b2d+_0x5dc8d8,'totalBytesSent':_0x342b2d,'totalBytesReceived':_0x5dc8d8,'systemMessages':_0x6c19d6,'timeProcessing':_0x282e21,'users':_0xbfcb33,'pubsubTopics':Object[_0x190ad0(0x2ad)](this[_0x190ad0(0x672)]),'objectStores':Object[_0x190ad0(0x2ad)](this[_0x190ad0(0x6ec)]),'keyValueDatabases':Object[_0x190ad0(0x2ad)](this['keyValueDatabases'])};}[_0x3565d6(0x239)](_0x9fb258){const _0x356fc7=_0x3565d6;this['users'][_0x356fc7(0x5bc)](_0x9fb258,new _0x5ac651());}[_0x3565d6(0x378)](_0x14662e){const _0x364660=_0x3565d6;this[_0x364660(0x5fc)][_0x364660(0x409)](_0x14662e);}[_0x3565d6(0x25e)](_0x55683d,_0x5e0ef0,_0x24dcf5){const _0x135b6a=_0x3565d6;_0x5e0ef0 instanceof Array||this['processDataChannelReport'](_0x55683d,_0x5e0ef0);const _0x3f2a89=this[_0x135b6a(0x5fc)][_0x135b6a(0x64f)](_0x55683d)?.[_0x135b6a(0x25e)](_0x5e0ef0,_0x24dcf5);_0x3f2a89&&this[_0x135b6a(0x24e)]['publish']({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x135b6a(0x2a9)],'content':{'type':_0x363fbc[_0x135b6a(0x3c6)],'data':{..._0x3f2a89,'userId':_0x55683d}}});}['processLocalReport'](_0x3969e0){const _0x59d4ef=_0x3565d6;this[_0x59d4ef(0x371)](_0x3969e0[_0x59d4ef(0x584)]),this[_0x59d4ef(0x691)](_0x3969e0[_0x59d4ef(0x61a)]),this[_0x59d4ef(0x24e)]['publish']({'sourceId':_0x13edb4,'messageType':_0x3edd62[_0x59d4ef(0x2a9)],'content':{'type':_0x363fbc[_0x59d4ef(0x42b)],'data':{'STVolatility':this[_0x59d4ef(0x2eb)](),'DTVolatility':this[_0x59d4ef(0x544)]()}}});}[_0x3565d6(0x6a1)](_0x15f9d4,_0x4601ee,_0x4273e5){const _0x4bf460=_0x3565d6;switch(_0x4601ee){case _0x101bc1[_0x4bf460(0x724)]:this[_0x4bf460(0x672)]['set'](_0x15f9d4,_0x4273e5);break;case _0x101bc1['ObjectStoreStats']:this[_0x4bf460(0x6ec)][_0x4bf460(0x5bc)](_0x15f9d4,_0x4273e5);break;case _0x101bc1[_0x4bf460(0x637)]:this[_0x4bf460(0x587)][_0x4bf460(0x5bc)](_0x15f9d4,_0x4273e5);}}[_0x3565d6(0x586)](_0x25588b){const _0x5211ef=_0x3565d6;this[_0x5211ef(0x24e)]=_0x25588b;}[_0x3565d6(0x44d)](){delete this['systemTopic'];}['getSTVolatility'](){const _0xfb93b5=_0x3565d6;return this[_0xfb93b5(0x6d4)]>0x0&&this['scheduleTime']-_0x1298cc>0x0?(this[_0xfb93b5(0x6d4)]-_0x1298cc)/_0x1298cc:0x0;}[_0x3565d6(0x544)](){const _0x50dc04=_0x3565d6;return this[_0x50dc04(0x61a)]>0x0&&this['durationTime']-0x64>0x0?(this[_0x50dc04(0x61a)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x2aff5f=_0x3565d6;let _0x4b6026=0x0;return this[_0x2aff5f(0x5fc)][_0x2aff5f(0x1c3)](_0x5abe84=>{const _0x3bbcb2=_0x2aff5f;_0x4b6026+=_0x5abe84[_0x3bbcb2(0x48c)];}),_0x4b6026;}[_0x3565d6(0x29d)](){const _0xd85f67=_0x3565d6;let _0x5f4b40=0x0;return this['users'][_0xd85f67(0x1c3)](_0x518cb9=>{const _0x250430=_0xd85f67;_0x5f4b40+=_0x518cb9[_0x250430(0x4d1)];}),_0x5f4b40;}['getBitrate'](){const _0xd69298=_0x3565d6;let _0x35dc71=0x0;return this[_0xd69298(0x5fc)][_0xd69298(0x1c3)](_0x42ede4=>{const _0x17b13b=_0xd69298;_0x35dc71+=_0x42ede4[_0x17b13b(0x4fd)];}),_0x35dc71;}[_0x3565d6(0x371)](_0x2dbdc8){const _0x122a42=_0x3565d6;this[_0x122a42(0x6d4)]=_0x2dbdc8;}[_0x3565d6(0x691)](_0xe91790){const _0x3692c5=_0x3565d6;this[_0x3692c5(0x61a)]=_0xe91790;}[_0x3565d6(0x368)](_0x46690a,_0x15cc29){const _0x38803b=_0x3565d6;switch(_0x15cc29[_0x38803b(0x38f)]){case _0x58b611[_0x38803b(0x427)]:this[_0x38803b(0x3d0)](_0x46690a,_0x15cc29);break;case _0x58b611['Receiver']:this[_0x38803b(0x26c)](_0x46690a,_0x15cc29);}}[_0x3565d6(0x3d0)](_0x3d6a19,_0x5f5dab){const _0x2d4fe0=_0x3565d6;this[_0x2d4fe0(0x718)]['set'](_0x3d6a19,_0x5f5dab['messagesSent']),this[_0x2d4fe0(0x1f7)][_0x2d4fe0(0x5bc)](_0x3d6a19,_0x5f5dab[_0x2d4fe0(0x580)]);}[_0x3565d6(0x26c)](_0x216f46,_0x21d61c){const _0xb8439=_0x3565d6;this[_0xb8439(0x41f)][_0xb8439(0x5bc)](_0x216f46,_0x21d61c['messagesReceived']),this[_0xb8439(0x230)]['set'](_0x216f46,_0x21d61c[_0xb8439(0x6f8)]),this[_0xb8439(0x57f)]['set'](_0x216f46,_0x21d61c['systemMessages']);}}class _0x26430c{['configs'];[_0x3565d6(0x75e)]=new Set();[_0x3565d6(0x4e4)];[_0x3565d6(0x3d2)];['statsReporting'];[_0x3565d6(0x4eb)]=new _0x164c2f();constructor(_0xbc2691){const _0x28a0a5=_0x3565d6;this[_0x28a0a5(0x45a)]=_0xbc2691,this[_0x28a0a5(0x45a)][_0x28a0a5(0x4a1)][_0x28a0a5(0x678)](this[_0x28a0a5(0x4eb)]),this['statsCollection']=this[_0x28a0a5(0x4f4)](),this[_0x28a0a5(0x5f8)]=this[_0x28a0a5(0x527)]();}[_0x3565d6(0x208)](){const _0x223eb9=_0x3565d6;this[_0x223eb9(0x45a)]['mediator'][_0x223eb9(0x35f)](this[_0x223eb9(0x4eb)]),this[_0x223eb9(0x5f8)](),this[_0x223eb9(0x3d2)]();}[_0x3565d6(0x239)](_0x38660f){this['remoteUsers']['add'](_0x38660f),this['statsReport']['addRemoteUser'](_0x38660f);}[_0x3565d6(0x378)](_0x29fec9){const _0x1d98f6=_0x3565d6;this[_0x1d98f6(0x75e)][_0x1d98f6(0x409)](_0x29fec9),this[_0x1d98f6(0x4eb)][_0x1d98f6(0x378)](_0x29fec9);}[_0x3565d6(0x1cf)](_0x53dfd1){const _0x497888=_0x3565d6;if(_0x53dfd1[_0x497888(0x379)][_0x497888(0x2be)]===_0x25f14a['Stats']){const {userId:_0x4aeafa,streamId:_0x4410e6,stats:_0x49f41a}=_0x53dfd1['content'];this['statsReport'][_0x497888(0x25e)](_0x4aeafa,_0x49f41a,_0x4410e6);}}[_0x3565d6(0x557)](_0x124260){const _0x58d380=_0x3565d6;switch(_0x124260[_0x58d380(0x379)][_0x58d380(0x2be)]){case _0x101bc1[_0x58d380(0x2ef)]:case _0x101bc1[_0x58d380(0x637)]:case _0x101bc1[_0x58d380(0x724)]:this[_0x58d380(0x4eb)][_0x58d380(0x6a1)](_0x124260['content']['label'],_0x124260['content']['type'],_0x124260[_0x58d380(0x379)]['stats']);}}[_0x3565d6(0x527)](){const _0x38abb1=_0x3565d6;return _0x42f599[_0x38abb1(0x341)](()=>{const _0x270161=_0x38abb1,_0x13069b=this[_0x270161(0x4eb)][_0x270161(0x26e)]();_0x11c0d7[_0x270161(0x71b)](_0x3e1340['Stats'],_0x270161(0x547),_0x13069b),(0x0,_0x4d3eb0[_0x270161(0x5e0)])((0x0,_0x4d3eb0[_0x270161(0x307)])(_0x44908d[_0x270161(0x528)](),_0x270161(0x350)+this[_0x270161(0x45a)][_0x270161(0x740)]+_0x270161(0x55b)),{'clusterId':this[_0x270161(0x45a)]['clusterId'],'userId':this[_0x270161(0x45a)]['localId'],'timestamp':(0x0,_0x4d3eb0['serverTimestamp'])(),'report':_0x13069b}),_0x11c0d7[_0x270161(0x6c4)](_0x270161(0x74d),{'clusterId':this[_0x270161(0x45a)][_0x270161(0x390)],'userId':this[_0x270161(0x45a)][_0x270161(0x41b)],'data':{'report':_0x13069b}});},_0x322187);}[_0x3565d6(0x4f4)](){const _0x2cb363=_0x3565d6;let _0x3f69b6=!0x1,_0x41de67=Date[_0x2cb363(0x1aa)]();return _0x42f599[_0x2cb363(0x341)](async()=>{const _0x97fdc=_0x2cb363;if(_0x3f69b6)return;if(_0x3f69b6=!0x0,0x0===this[_0x97fdc(0x75e)]['size'])return delete this[_0x97fdc(0x4e4)],void(_0x3f69b6=!0x1);const _0x46a16f=Date[_0x97fdc(0x1aa)]();this[_0x97fdc(0x3b1)]();try{await this[_0x97fdc(0x45a)][_0x97fdc(0x4a1)][_0x97fdc(0x3a7)](this[_0x97fdc(0x4e4)]);}catch(_0x28ce64){}this[_0x97fdc(0x4eb)][_0x97fdc(0x25b)]({'secheduleTime':_0x46a16f-_0x41de67,'durationTime':Date[_0x97fdc(0x1aa)]()-_0x46a16f}),_0x41de67=_0x46a16f,_0x3f69b6=!0x1;},_0x1298cc);}['findNextUserId'](){const _0x3b49fb=_0x3565d6;let _0x3d211d,_0x16978a=!0x1;this[_0x3b49fb(0x4e4)]&&(this['remoteUsers']['has'](this[_0x3b49fb(0x4e4)])||delete this[_0x3b49fb(0x4e4)]);for(const _0x39765c of this[_0x3b49fb(0x75e)])if(_0x3d211d||(_0x3d211d=_0x39765c),this[_0x3b49fb(0x4e4)]!==_0x39765c){if(_0x16978a)return void(this[_0x3b49fb(0x4e4)]=_0x39765c);}else _0x16978a=!0x0,delete this[_0x3b49fb(0x4e4)];this[_0x3b49fb(0x4e4)]||(this[_0x3b49fb(0x4e4)]=_0x3d211d);}}class _0x5c902d{[_0x3565d6(0x3ca)];[_0x3565d6(0x6ee)];[_0x3565d6(0x24e)];constructor(_0x4ca388,_0x286edf){const _0x2070b2=_0x3565d6;this[_0x2070b2(0x3ca)]=_0x4ca388,this[_0x2070b2(0x6ee)]=_0x286edf;}[_0x3565d6(0x586)](_0x1ed7eb){this['systemTopic']=_0x1ed7eb;}['unregisterSystemPublisher'](){delete this['systemTopic'];}}class _0xf8bd80 extends _0x5c902d{[_0x3565d6(0x3ca)];['destination'];[_0x3565d6(0x63c)];constructor(_0xb0f189,_0x31664f,_0x21096b){const _0x1ebcb5=_0x3565d6;super(_0xb0f189,_0x31664f),this[_0x1ebcb5(0x3ca)]=_0xb0f189,this[_0x1ebcb5(0x6ee)]=_0x31664f,this[_0x1ebcb5(0x63c)]=_0x21096b;}['subscribe'](_0x2ca377,_0x533b63,_0x22b8ce){const _0x480518=_0x3565d6;if(this[_0x480518(0x6ee)][_0x480518(0x385)]()===_0x19aef4[_0x480518(0x2a4)]){const _0x5460de={'type':_0x3fecff[_0x480518(0x4ad)],'label':this[_0x480518(0x6ee)]['getLabel'](),'ownerId':_0x2ca377,'trackKinds':_0x533b63??this[_0x480518(0x6ee)]['getAvailableTrackKinds'](),'params':_0x22b8ce};this['systemTopic'][_0x480518(0x76d)]({'sourceId':this[_0x480518(0x3ca)][_0x480518(0x434)](),'destinationIds':[this[_0x480518(0x3ca)]['getRemoteId']()],'messageType':_0x3edd62[_0x480518(0x4fe)],'content':_0x5460de}),this[_0x480518(0x63c)]=_0x22b8ce;}}[_0x3565d6(0x1b0)](_0x140ea7,_0x361ed4){const _0x1fa682=_0x3565d6;if(this['destination'][_0x1fa682(0x385)]()===_0x19aef4['Media']){const _0x59c9b4={'type':_0x3fecff['UpdateMediaStream'],'label':this[_0x1fa682(0x6ee)][_0x1fa682(0x5be)](),'ownerId':_0x140ea7,'params':_0x361ed4};this[_0x1fa682(0x24e)][_0x1fa682(0x76d)]({'sourceId':this['source'][_0x1fa682(0x434)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x3edd62[_0x1fa682(0x4fe)],'content':_0x59c9b4}),this['params']=_0x361ed4;}}[_0x3565d6(0x71d)](_0x5daa6a,_0x2d7489,_0x30fcd6){const _0x50a938=_0x3565d6;if(this[_0x50a938(0x6ee)][_0x50a938(0x385)]()===_0x19aef4[_0x50a938(0x2a4)]){const _0x294d21={'type':_0x3fecff[_0x50a938(0x1ad)],'label':this[_0x50a938(0x6ee)][_0x50a938(0x5be)](),'ownerId':_0x5daa6a,'trackKinds':_0x30fcd6??this['destination'][_0x50a938(0x5ec)](),'remainingTracks':_0x2d7489};this[_0x50a938(0x24e)][_0x50a938(0x76d)]({'sourceId':this[_0x50a938(0x3ca)][_0x50a938(0x434)](),'destinationIds':[this[_0x50a938(0x3ca)]['getRemoteId']()],'messageType':_0x3edd62[_0x50a938(0x4fe)],'content':_0x294d21});}}}class _0x3bc37a{[_0x3565d6(0x5e5)];['maxDistance'];[_0x3565d6(0x577)];['systemTopic'];[_0x3565d6(0x276)]=new Set();['startTime']=Date['now']();[_0x3565d6(0x63c)];[_0x3565d6(0x57d)]=0x0;constructor(_0x48fc9f,_0x409043,_0x5b6f87,_0x49e7f8){const _0x3f690a=_0x3565d6;this['currentDistance']=_0x409043,this[_0x3f690a(0x330)]=_0x5b6f87,this[_0x3f690a(0x577)]=_0x49e7f8,_0x48fc9f['forEach'](_0x521911=>{const _0x117b18=_0x3f690a;this[_0x117b18(0x276)]['add']({'userId':_0x521911,'type':_0x4e7c22[_0x117b18(0x4f6)]});});}[_0x3565d6(0x332)](){const _0x36d3e9=_0x3565d6;return this[_0x36d3e9(0x577)];}[_0x3565d6(0x586)](_0x4d7e5f){const _0x1d0cf7=_0x3565d6;this[_0x1d0cf7(0x24e)]=_0x4d7e5f;}[_0x3565d6(0x44d)](){const _0x56f415=_0x3565d6;delete this[_0x56f415(0x24e)];}['reset'](_0x5e2315,_0x4c8193){const _0x55143e=_0x3565d6;this[_0x55143e(0x222)]=Date[_0x55143e(0x1aa)](),this['answers'][_0x55143e(0x376)](),_0x5e2315[_0x55143e(0x1c3)](_0x201967=>{const _0x581392=_0x55143e;this[_0x581392(0x276)][_0x581392(0x6b4)]({'userId':_0x201967,'type':_0x4e7c22['Waiting']});}),this[_0x55143e(0x57d)]+=0x1,this[_0x55143e(0x5e5)]=_0x4c8193;}[_0x3565d6(0x40b)](_0x2ef5e2,_0x97f019,_0x6b2e9c,_0xcf341e,_0x48acf9){const _0x37d928=_0x3565d6;if(this[_0x37d928(0x57d)]>0xa)throw new _0x1ca0c3(_0x1ca0c3[_0x37d928(0x69c)][_0x37d928(0x6da)],{'answers':Array[_0x37d928(0x25d)](this[_0x37d928(0x276)])['map'](_0x28bff7=>({'userId':_0x28bff7['userId'],'type':_0x28bff7[_0x37d928(0x2be)]}))});const _0x3d2816=Array[_0x37d928(0x25d)](this[_0x37d928(0x276)])['map'](_0x385a6e=>_0x385a6e[_0x37d928(0x3bf)]);this[_0x37d928(0x63c)]=_0x48acf9,this['systemTopic']['publish']({'sourceId':_0x2ef5e2,'destinationIds':_0x3d2816,'messageType':_0x3edd62['Subscription'],'content':{'type':_0x3fecff[_0x37d928(0x1b3)],'label':_0x6b2e9c,'ownerId':_0x97f019,'trackKinds':_0xcf341e,'params':_0x48acf9}}),_0x11c0d7[_0x37d928(0x71b)](_0x3e1340[_0x37d928(0x4fe)],_0x37d928(0x42f),_0x2ef5e2,_0x3d2816);}[_0x3565d6(0x650)](_0x32b7c2,_0x174283){const _0x4c6bf1=_0x3565d6;switch(_0x174283['type']){case _0x3fecff['CanProvideMediaStream']:{const _0x304b30=this[_0x4c6bf1(0x5e5)]>=_0x174283['distance']&&_0x174283[_0x4c6bf1(0x630)]<=this[_0x4c6bf1(0x330)],_0x3c915a=Array['from'](this[_0x4c6bf1(0x276)])[_0x4c6bf1(0x664)](_0x5f4275=>_0x5f4275[_0x4c6bf1(0x3bf)]===_0x32b7c2);_0x3c915a[_0x4c6bf1(0x2be)]=_0x304b30?_0x4e7c22['Accepted']:_0x4e7c22[_0x4c6bf1(0x572)],_0x3c915a[_0x4c6bf1(0x744)]=_0x174283[_0x4c6bf1(0x744)],_0x3c915a[_0x4c6bf1(0x630)]=_0x174283[_0x4c6bf1(0x630)],_0x3c915a['streamId']=_0x174283[_0x4c6bf1(0x20f)],_0x3c915a[_0x4c6bf1(0x402)]=Date[_0x4c6bf1(0x1aa)]()-this[_0x4c6bf1(0x222)],_0x3c915a[_0x4c6bf1(0x63c)]=this[_0x4c6bf1(0x63c)],_0x3c915a[_0x4c6bf1(0x6f9)]=_0x174283[_0x4c6bf1(0x6f9)],_0x3c915a[_0x4c6bf1(0x671)]=_0x174283[_0x4c6bf1(0x671)],_0x3c915a[_0x4c6bf1(0x763)]=_0x174283[_0x4c6bf1(0x343)],_0x11c0d7[_0x4c6bf1(0x71b)](_0x3e1340[_0x4c6bf1(0x4fe)],(_0x304b30?_0x4c6bf1(0x353):_0x4c6bf1(0x572))+_0x4c6bf1(0x20e),_0x3c915a);break;}case _0x3fecff[_0x4c6bf1(0x613)]:{const _0x354b5a=Array['from'](this[_0x4c6bf1(0x276)])[_0x4c6bf1(0x664)](_0x45349c=>_0x45349c['userId']===_0x32b7c2);_0x354b5a['type']=_0x4e7c22[_0x4c6bf1(0x572)],_0x11c0d7['log'](_0x3e1340[_0x4c6bf1(0x4fe)],_0x4c6bf1(0x68e),_0x354b5a);break;}}if(this[_0x4c6bf1(0x32b)]())return this[_0x4c6bf1(0x60a)]();}[_0x3565d6(0x60a)](){const _0x3bdbad=_0x3565d6,_0x309ac6=Array[_0x3bdbad(0x25d)](this[_0x3bdbad(0x276)])['filter'](_0x49ea79=>_0x49ea79[_0x3bdbad(0x2be)]===_0x4e7c22['Accepted'])[_0x3bdbad(0x70c)]((_0xeb5158,_0x58f6b4)=>_0xeb5158[_0x3bdbad(0x744)]===_0x58f6b4[_0x3bdbad(0x744)]?_0xeb5158[_0x3bdbad(0x402)]-_0x58f6b4[_0x3bdbad(0x402)]:_0xeb5158[_0x3bdbad(0x744)]-_0x58f6b4[_0x3bdbad(0x744)]);if(0x0===_0x309ac6[_0x3bdbad(0x49d)])throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x3bdbad(0x6da)],{'answers':Array[_0x3bdbad(0x25d)](this[_0x3bdbad(0x276)])[_0x3bdbad(0x311)](_0x638c1f=>({'userId':_0x638c1f[_0x3bdbad(0x3bf)],'type':_0x638c1f['type']}))});return _0x11c0d7['log'](_0x3e1340[_0x3bdbad(0x4fe)],_0x3bdbad(0x388),_0x309ac6[0x0],this[_0x3bdbad(0x276)]),_0x309ac6[0x0];}['canChooseAnswer'](){const _0x542051=_0x3565d6;for(const _0x520c88 of this[_0x542051(0x276)])if(_0x520c88['type']===_0x4e7c22[_0x542051(0x4f6)])return!0x1;return!0x0;}}class _0xb69b0a{[_0x3565d6(0x343)];[_0x3565d6(0x652)];[_0x3565d6(0x3e7)]=_0x25e35b();constructor(_0x2ba8a2,_0x22d2df){const _0x4400b5=_0x3565d6;this[_0x4400b5(0x343)]=_0x2ba8a2,this[_0x4400b5(0x652)]=_0x22d2df;}[_0x3565d6(0x5be)](){const _0x1b8865=_0x3565d6;return this[_0x1b8865(0x343)];}[_0x3565d6(0x385)](){const _0x52526f=_0x3565d6;return this[_0x52526f(0x652)];}['registerSource'](_0x35e883){_0x35e883['registerPublisher'](this);}[_0x3565d6(0x3d8)](_0x5e1cc4){_0x5e1cc4['registerSubscriber'](this);}[_0x3565d6(0x76d)](_0x5e5849){const _0x58e4c8=_0x3565d6;this[_0x58e4c8(0x3e7)][_0x58e4c8(0x76d)]({'topicLabel':this['label'],'contentType':this[_0x58e4c8(0x652)],'uuid':(0x0,_0x43163e['v4'])(),'recipients':[],..._0x5e5849});}[_0x3565d6(0x61f)](_0x33b248){const _0x518343=_0x3565d6;return this[_0x518343(0x3e7)]['subscribe'](_0x33b248);}[_0x3565d6(0x6e6)](_0x4a9f21){const _0x5d5a8d=_0x3565d6;_0x4a9f21[_0x5d5a8d(0x738)](this);}[_0x3565d6(0x55c)](_0xeb824f){const _0x5cd6d7=_0x3565d6;_0xeb824f[_0x5cd6d7(0x5e2)](this);}}class _0x521aa2{[_0x3565d6(0x4ea)]={'topics':new Map(),'subscriptions':new Map()};[_0x3565d6(0x362)];constructor(_0x2617b7){const _0x1bb8e0=_0x3565d6;this[_0x1bb8e0(0x362)]=_0x2617b7;}get[_0x3565d6(0x2a3)](){const _0x188e06=_0x3565d6;return this[_0x188e06(0x4ea)][_0x188e06(0x2a3)];}get[_0x3565d6(0x5bb)](){const _0x2ed7ef=_0x3565d6;return this[_0x2ed7ef(0x4ea)]['topics'];}[_0x3565d6(0x319)](_0x29d7e7,_0x1626fa){const _0x1cc914=_0x3565d6,_0x174c07=this['getPartsFromSubscription'](_0x1626fa),_0x3d4eaa=_0x20e749(_0x29d7e7);if(!_0x174c07['supportsContentType'])throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x1cc914(0x686)],{'message':_0x3d4eaa+':\x20'+_0x174c07[_0x1cc914(0x68c)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x174c07[_0x1cc914(0x652)],'subscriptionType':_0x29d7e7,'subscription':_0x1626fa,'subscriptonParts':_0x174c07});const _0x54ffc3=_0x4776ff(_0x29d7e7,_0x174c07);if(this[_0x1cc914(0x4ea)][_0x1cc914(0x2a3)][_0x1cc914(0x645)](_0x54ffc3))throw new _0x1ca0c3(_0x1ca0c3[_0x1cc914(0x69c)][_0x1cc914(0x686)],{'message':_0x3d4eaa+':\x20'+_0x54ffc3+_0x1cc914(0x2ee),'subscriptionType':_0x29d7e7,'subscription':_0x1626fa,'subscriptonParts':_0x174c07});this[_0x1cc914(0x4ea)][_0x1cc914(0x2a3)][_0x1cc914(0x5bc)](_0x54ffc3,_0x1626fa),this[_0x1cc914(0x1f8)](_0x174c07,_0x1626fa);}['removeSubscription'](_0x382dd8,_0x18c430){const _0xdc946e=_0x3565d6,_0x48e255=_0x4776ff(_0x18c430,_0x382dd8),_0x33a9dc=this[_0xdc946e(0x4ea)][_0xdc946e(0x2a3)]['get'](_0x48e255);if(!_0x33a9dc)throw new _0x1ca0c3(_0x1ca0c3['codes'][_0xdc946e(0x686)],{'message':_0x20e749(_0x18c430)+':\x20'+_0x48e255+_0xdc946e(0x4a8),'subscriptionType':_0x18c430,'subscription':_0x33a9dc,'subscriptonParts':_0x382dd8});this[_0xdc946e(0x28b)](_0x33a9dc,_0x48e255,_0x382dd8);}[_0x3565d6(0x28b)](_0x389c72,_0x573324,_0x4fb1a2){const _0xa29ccb=_0x3565d6;_0x4fb1a2=_0x4fb1a2||this[_0xa29ccb(0x362)](_0x389c72),this[_0xa29ccb(0x4ea)][_0xa29ccb(0x2a3)][_0xa29ccb(0x409)](_0x573324),this['removeTopic'](_0x4fb1a2,_0x389c72);}['createTopic'](_0x567d2a,{source:_0x3a6691,destination:_0xf15fc3}){const _0x55cf6c=_0x3565d6,{contentType:_0x169e73,label:_0x1626ef,remoteId:_0x4e49df}=_0x567d2a,_0x4821bb=_0x7cf9d1(_0x169e73,_0x1626ef,_0x4e49df),_0x5b2c83=new _0xb69b0a(_0x4821bb,_0x169e73);_0x5b2c83['registerSource'](_0x3a6691),_0x5b2c83['registerDestination'](_0xf15fc3),this[_0x55cf6c(0x4ea)][_0x55cf6c(0x5bb)][_0x55cf6c(0x5bc)](_0x5b2c83[_0x55cf6c(0x5be)](),_0x5b2c83);}[_0x3565d6(0x333)](_0x207f11,_0x2e5483){const _0x5bd57a=_0x3565d6,{contentType:_0x980d4,label:_0x55f361,remoteId:_0x5d4d8b}=_0x207f11,_0x242dc1=_0x7cf9d1(_0x980d4,_0x55f361,_0x5d4d8b),_0x9c6980=this[_0x5bd57a(0x4ea)][_0x5bd57a(0x5bb)][_0x5bd57a(0x64f)](_0x242dc1);_0x9c6980&&(this[_0x5bd57a(0x4cc)](_0x9c6980,_0x2e5483),this[_0x5bd57a(0x4ea)][_0x5bd57a(0x5bb)][_0x5bd57a(0x409)](_0x242dc1));}[_0x3565d6(0x4cc)](_0x19086c,{source:_0x4f7fd1,destination:_0xffa87f}){const _0x5e779d=_0x3565d6;_0x19086c[_0x5e779d(0x6e6)](_0x4f7fd1),_0x19086c[_0x5e779d(0x55c)](_0xffa87f);}[_0x3565d6(0x74a)](_0x438a6b){const _0x153497=_0x3565d6;this[_0x153497(0x4ea)]['subscriptions'][_0x153497(0x1c3)]((_0x48b335,_0x279b98)=>{const _0x49b7d5=_0x153497;_0x279b98[_0x49b7d5(0x19a)](_0x438a6b)&&this['closeSubscription'](_0x48b335,_0x279b98);});}}class _0x2819d9{[_0x3565d6(0x45a)];[_0x3565d6(0x330)];['subscriptionRequests']=new Map();[_0x3565d6(0x466)]=_0x5b052d(new _0x10c240(this[_0x3565d6(0x2c1)][_0x3565d6(0x65f)](this),()=>_0x42f599[_0x3565d6(0x287)](0x64)),!0x0);[_0x3565d6(0x3f5)]=new Map();['maps'];[_0x3565d6(0x71e)]=new Map();constructor(_0x3e8616,_0x1c58da){const _0x3004af=_0x3565d6;this[_0x3004af(0x45a)]=_0x3e8616,this[_0x3004af(0x330)]=_0x1c58da,this[_0x3004af(0x4ea)]=new _0x521aa2(({source:_0x1a5725,destination:_0x52f5e7})=>_0xebec20(_0x52f5e7,_0x1a5725));}[_0x3565d6(0x319)](_0x29d31e,_0x596e16){const _0x20d767=_0x3565d6,_0x39c383=this[_0x20d767(0x3f0)](_0x29d31e)&&this['isMediaDestination'](_0x596e16)?new _0xf8bd80(_0x29d31e,_0x596e16):new _0x5c902d(_0x29d31e,_0x596e16);this['maps'][_0x20d767(0x319)](_0x4eca01['Incoming'],_0x39c383),this[_0x20d767(0x45a)][_0x20d767(0x4a1)][_0x20d767(0x678)](_0x39c383);}[_0x3565d6(0x676)](_0x373e25,_0x589eda,_0xbf403=''){const _0x55d02a=_0x3565d6,_0x348a43={'contentType':_0x589eda,'label':_0x373e25,'remoteId':_0xbf403},_0x57c329=_0x4776ff(_0x4eca01[_0x55d02a(0x696)],_0x348a43),_0x4bf3b8=this[_0x55d02a(0x4ea)][_0x55d02a(0x2a3)][_0x55d02a(0x64f)](_0x57c329);_0x4bf3b8&&this[_0x55d02a(0x28b)](_0x4bf3b8,_0x57c329);}[_0x3565d6(0x214)](_0xa254e9){this['removeRemoteStreamSubscription'](_0xa254e9);}[_0x3565d6(0x6cd)]({label:_0x20e438,ownerId:_0x1ec6ad,trackKinds:_0x46f1f6,params:_0x161d3d}){const _0x57f5ef=_0x3565d6;this[_0x57f5ef(0x5ee)](_0x20e438,_0x1ec6ad,_0x46f1f6,_0x161d3d);}[_0x3565d6(0x2c8)]({ownerId:_0x5b3f50,label:_0x39456b,params:_0x50d4ba}){const _0x443694=_0x3565d6,{subscriptionLabel:_0x58399b}=this[_0x443694(0x59b)](_0x39456b,_0x5b3f50),_0x44f742=this['getMediaSubscription'](_0x58399b);_0x44f742&&_0x44f742[_0x443694(0x1b0)](_0x5b3f50,_0x50d4ba);}[_0x3565d6(0x6f7)]({ownerId:_0x42bf00,label:_0x26b6d1,trackKinds:_0xfbd3e7,remainingTracks:_0x1b01c8}){const _0x434d0a=_0x3565d6,_0x441ecf=_0x4776ff(_0x4eca01[_0x434d0a(0x696)],{'contentType':_0x19aef4[_0x434d0a(0x2a4)],'label':_0x26b6d1,'remoteId':_0x42bf00});this[_0x434d0a(0x1a4)](_0x441ecf);const _0x282cd7=this[_0x434d0a(0x56a)][_0x434d0a(0x64f)](_0x441ecf);_0x282cd7&&(this[_0x434d0a(0x45a)][_0x434d0a(0x4a1)][_0x434d0a(0x35f)](_0x282cd7),this[_0x434d0a(0x56a)][_0x434d0a(0x409)](_0x441ecf));const {parts:_0x3db769,subscriptionLabel:_0x4bf6f3}=this['getSubscriptionLabel'](_0x26b6d1,_0x42bf00),_0x50f4ae=this['getMediaSubscription'](_0x4bf6f3);_0x50f4ae&&(_0x50f4ae[_0x434d0a(0x71d)](_0x42bf00,_0x1b01c8,_0xfbd3e7),0x0===_0x1b01c8&&this[_0x434d0a(0x676)](_0x3db769[_0x434d0a(0x343)],_0x3db769[_0x434d0a(0x652)],_0x3db769[_0x434d0a(0x68c)]));}['handleSubscriptionRestartNeedMediaStream'](_0x5dd756,{label:_0x243735,ownerId:_0x1ea400,trackKinds:_0x16877d,streamId:_0x24d2c9,params:_0x15b936}){const _0x2a3dea=_0x3565d6,_0x29847f=_0x4776ff(_0x4eca01['Incoming'],{'contentType':_0x19aef4['Media'],'label':_0x24d2c9,'remoteId':_0x5dd756}),_0x594c04=this['maps'][_0x2a3dea(0x2a3)][_0x2a3dea(0x64f)](_0x29847f);if(!(_0x594c04&&_0x594c04 instanceof _0xf8bd80))throw new _0x1ca0c3(_0x1ca0c3[_0x2a3dea(0x69c)][_0x2a3dea(0x300)],{'label':_0x29847f,'ownerId':_0x1ea400});this[_0x2a3dea(0x28b)](_0x594c04,_0x29847f),this[_0x2a3dea(0x5ee)](_0x243735,_0x1ea400,_0x16877d,_0x15b936);}[_0x3565d6(0x39f)](_0x1d3806,_0x44d6dd){const _0x5c136a=_0x3565d6,{label:_0xabfc7f,ownerId:_0x4a768c,trackKinds:_0xf385c7,params:_0x28740f}=_0x44d6dd,_0x52b17f=_0x4776ff(_0x4eca01[_0x5c136a(0x696)],{'contentType':_0x19aef4['Media'],'label':_0xabfc7f,'remoteId':_0x4a768c});if(!this[_0x5c136a(0x56a)][_0x5c136a(0x645)](_0x52b17f))throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x5c136a(0x300)],{'label':_0x52b17f,'ownerId':_0x4a768c,'streamId':_0x44d6dd[_0x5c136a(0x20f)],'requests':this[_0x5c136a(0x56a)]});const _0x3fd219=this[_0x5c136a(0x56a)][_0x5c136a(0x64f)](_0x52b17f);if(_0xf385c7['length']===_0x3fd219['getTracks']()['length']&&_0xf385c7[_0x5c136a(0x462)](_0x585ef4=>_0x3fd219['getTracks']()['includes'](_0x585ef4)))try{const _0x5f02ca=_0x3fd219['handleSubscriptionSystemEvents'](_0x1d3806,_0x44d6dd);if(!_0x5f02ca)return;this['subscribe'](_0x5f02ca,_0x4a768c,_0xabfc7f,_0x52b17f,_0xf385c7);}catch(_0x355b0a){return void this['handleNoAnswer'](_0xabfc7f,_0x4a768c,_0xf385c7,_0x28740f);}}[_0x3565d6(0x59d)](_0x4c2f30,{label:_0x63412,ownerId:_0x396d10,trackKinds:_0x3e981f}){const _0x586173=_0x3565d6,_0x3488f3=this['configs']['mediator'][_0x586173(0x673)](_0x396d10,_0x63412);if(!_0x3488f3)return;const _0x45b0ea=_0x3488f3['getInternalStreamId'](),_0x44df53=_0x3488f3[_0x586173(0x4ef)]();_0x44df53[_0x586173(0x6eb)](_0x472442=>_0x3e981f['includes'](_0x472442))&&this[_0x586173(0x47a)](_0x4c2f30,_0x63412,_0x45b0ea,_0x396d10,_0x44df53);}[_0x3565d6(0x2a2)]({label:_0x4f85df,providerId:_0x3636fb,ownerId:_0x235bd6,streamId:_0xdef442,trackKinds:_0x4802e2}){this['findNewMediaSubscription'](_0x3636fb,_0x4f85df,_0xdef442,_0x235bd6,_0x4802e2);}[_0x3565d6(0x57c)](_0xd0c65d){const _0x34e6b4=_0x3565d6;for(const _0x44daa of this[_0x34e6b4(0x71e)][_0x34e6b4(0x3cb)]()){const {streamLabel:_0x54fb6d,ownerId:_0x1eb458,trackKinds:_0x409204,params:_0x492dc8}=_0x44daa;if(!_0x1eb458||!_0x409204||!_0x54fb6d)return;this['subscriptionRequestsQueue'][_0x34e6b4(0x495)]({'label':_0x54fb6d,'ownerId':_0x1eb458,'trackKinds':_0x409204,'params':_0x492dc8,'remoteId':_0xd0c65d});}}[_0x3565d6(0x74a)](_0x4be320){const _0x2def1d=_0x3565d6;this[_0x2def1d(0x4ea)]['subscriptions']['forEach']((_0x3acfe9,_0xe3fd6d)=>{const _0x5b015a=_0x2def1d;if(_0xe3fd6d['endsWith'](_0x4be320)){if(_0x3acfe9[_0x5b015a(0x6ee)][_0x5b015a(0x385)]()===_0x19aef4[_0x5b015a(0x2a4)]){const _0x1f5be5=_0x3acfe9['destination'];if(_0x1f5be5['getSubscribedTracks']()['length']>0x0){const _0x5263ad={'type':_0x3fecff[_0x5b015a(0x1fe)],'label':_0x1f5be5['getLabel'](),'ownerId':_0x1f5be5[_0x5b015a(0x6c8)](),'trackKinds':_0x1f5be5[_0x5b015a(0x4ef)]()};return void this[_0x5b015a(0x59d)](_0x4be320,_0x5263ad);}}this[_0x5b015a(0x28b)](_0x3acfe9,_0xe3fd6d);}});}[_0x3565d6(0x208)](){const _0x2aaa70=_0x3565d6;this[_0x2aaa70(0x4ea)][_0x2aaa70(0x2a3)][_0x2aaa70(0x1c3)](this[_0x2aaa70(0x28b)][_0x2aaa70(0x65f)](this));}[_0x3565d6(0x61f)](_0x1925ef,_0x4e55e2,_0x26418b,_0x2dc4c4,_0x489869){const _0x15359e=_0x3565d6,_0x287382=this[_0x15359e(0x45a)]['mediator'][_0x15359e(0x372)](_0x1925ef[_0x15359e(0x3bf)]),_0x4e27be=this[_0x15359e(0x45a)][_0x15359e(0x4a1)][_0x15359e(0x673)](_0x4e55e2,_0x26418b);this[_0x15359e(0x1a4)](_0x2dc4c4),this[_0x15359e(0x56a)]['has'](_0x2dc4c4)&&(this['configs'][_0x15359e(0x4a1)][_0x15359e(0x35f)](this[_0x15359e(0x56a)]['get'](_0x2dc4c4)),this[_0x15359e(0x56a)]['delete'](_0x2dc4c4)),this['cleanOldSubscription'](_0x1925ef,_0x4e55e2,_0x26418b,_0x4e27be),_0x4e27be[_0x15359e(0x223)](_0x1925ef['streamId']),_0x4e27be['setProviderId'](_0x1925ef[_0x15359e(0x3bf)]);const _0x5797e6=_0xebec20(_0x4e27be,_0x287382),_0x50ca7d=_0x4776ff(_0x4eca01['Incoming'],_0x5797e6);this[_0x15359e(0x4ea)][_0x15359e(0x2a3)][_0x15359e(0x645)](_0x50ca7d)||this['createSubscription'](_0x287382,_0x4e27be);const _0x14081f=this['maps'][_0x15359e(0x2a3)][_0x15359e(0x64f)](_0x50ca7d);if(!(_0x14081f&&_0x14081f instanceof _0xf8bd80))throw new _0x1ca0c3(_0x1ca0c3[_0x15359e(0x69c)]['SubscriptionRequestDoesNotExist'],{'label':_0x2dc4c4,'ownerId':_0x4e55e2});_0x11c0d7[_0x15359e(0x6c4)](_0x15359e(0x66f),{'clusterId':this[_0x15359e(0x45a)]['clusterId'],'userId':this[_0x15359e(0x45a)][_0x15359e(0x41b)],'data':{'subscriptionLabel':_0x50ca7d,'chosenAnswer':_0x1925ef}}),this[_0x15359e(0x71e)]['set'](_0x50ca7d,_0x1925ef),_0x14081f[_0x15359e(0x61f)](_0x4e55e2,_0x489869,_0x1925ef[_0x15359e(0x63c)]);}[_0x3565d6(0x662)]({ownerId:_0x20a780,label:_0x564f04}){const _0x3625f6=_0x3565d6,_0xc6f60c=this[_0x3625f6(0x45a)][_0x3625f6(0x4a1)][_0x3625f6(0x673)](_0x20a780,_0x564f04),[_0x1624ed,_0x11d1e9]=Array['from'](this[_0x3625f6(0x4ea)][_0x3625f6(0x2a3)][_0x3625f6(0x20a)]())[_0x3625f6(0x664)](([_0x473fd0,_0x59d926])=>-0x1!==_0x473fd0[_0x3625f6(0x554)](_0xc6f60c['getInternalStreamId']()));return this[_0x3625f6(0x28b)](_0x11d1e9,_0x1624ed);}[_0x3565d6(0x28b)](_0x3fb59e,_0x3ce1f4){const _0x5ed917=_0x3565d6;this[_0x5ed917(0x45a)][_0x5ed917(0x4a1)]['unregisterSystemSource'](_0x3fb59e),this[_0x5ed917(0x4ea)]['closeSubscription'](_0x3fb59e,_0x3ce1f4);}[_0x3565d6(0x3f0)](_0xb81a5d){const _0x38c7c=_0x3565d6;return _0xb81a5d['getSupportedContentTypes']()[_0x38c7c(0x741)](_0x19aef4[_0x38c7c(0x2a4)]);}[_0x3565d6(0x53c)](_0x5e6755){const _0x374cfd=_0x3565d6;return _0x5e6755['getContentType']()===_0x19aef4[_0x374cfd(0x2a4)];}async['handleNoAnswer'](_0x5a679a,_0x5b5371,_0x2b302f,_0x1ffb68){const _0x52206f=_0x3565d6;await _0x42f599[_0x52206f(0x287)](0x3e8);const _0x490c10=_0x4776ff(_0x4eca01[_0x52206f(0x696)],{'contentType':_0x19aef4[_0x52206f(0x2a4)],'label':_0x5a679a,'remoteId':_0x5b5371});this[_0x52206f(0x1a4)](_0x490c10);const _0x4bf0ea=this['subscriptionRequests']['get'](_0x490c10);if(!_0x4bf0ea)throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x52206f(0x300)],{'label':_0x490c10,'ownerId':_0x5b5371});const _0xda01ea=this['configs'][_0x52206f(0x4a1)]['getConnections'](_0x5034dd=>_0x5034dd[_0x52206f(0x32f)]()),_0x30c3dc=this[_0x52206f(0x45a)][_0x52206f(0x4a1)][_0x52206f(0x739)](this[_0x52206f(0x45a)][_0x52206f(0x41b)],_0x5b5371);_0x4bf0ea[_0x52206f(0x694)](_0xda01ea[_0x52206f(0x311)](_0x183027=>_0x183027[_0x52206f(0x304)]()),_0x30c3dc);try{_0x4bf0ea[_0x52206f(0x40b)](this['configs'][_0x52206f(0x41b)],_0x5b5371,_0x5a679a,_0x2b302f,_0x1ffb68),this[_0x52206f(0x3d7)](_0x5a679a,_0x5b5371,_0x2b302f,_0x1ffb68,_0x490c10,_0x4bf0ea);}catch(_0x32fa7e){this[_0x52206f(0x466)]['push']({'label':_0x5a679a,'ownerId':_0x5b5371,'trackKinds':_0x2b302f,'params':_0x1ffb68});}}[_0x3565d6(0x5ee)](_0x5e09ba,_0x2f6d25,_0x412ab3,_0x222cd2){const _0x353889=_0x3565d6;this[_0x353889(0x466)][_0x353889(0x495)]({'label':_0x5e09ba,'ownerId':_0x2f6d25,'trackKinds':_0x412ab3,'params':_0x222cd2});}[_0x3565d6(0x2c1)]({label:_0x3ac118,ownerId:_0x92cfca,trackKinds:_0x265f6b,params:_0x2e12ca,remoteId:_0x3dd23f}){const _0x244198=_0x3565d6;if(!this['configs'][_0x244198(0x4a1)][_0x244198(0x673)](_0x92cfca,_0x3ac118))return;if(!this[_0x244198(0x45a)][_0x244198(0x4a1)][_0x244198(0x760)]()[_0x244198(0x6ac)]())throw new Error(_0x244198(0x6f4));if(_0x3dd23f){const _0x266bae=this[_0x244198(0x45a)][_0x244198(0x4a1)][_0x244198(0x5f7)]()[_0x244198(0x664)](_0x5dc6cf=>_0x5dc6cf[_0x244198(0x56e)]()===_0x3dd23f),_0x7032df=_0x266bae?.[_0x244198(0x6ac)]();if(!_0x266bae||!_0x7032df)throw new Error(_0x244198(0x5ba));const _0x4ec961=this[_0x244198(0x45a)]['mediator'][_0x244198(0x5f7)]()[_0x244198(0x664)](_0x74cf5d=>_0x74cf5d[_0x244198(0x56e)]()===_0x92cfca),_0x2b4435=_0x4ec961?.[_0x244198(0x6ac)]();if(!_0x4ec961||!_0x2b4435)throw new Error('Missing\x20owner\x20user\x20or\x20rank');const _0x38f591=this[_0x244198(0x71e)]['get'](_0x3ac118);if(_0x38f591){const _0x2f0822=this[_0x244198(0x45a)][_0x244198(0x4a1)][_0x244198(0x5f7)]()[_0x244198(0x664)](_0x1d7b0c=>_0x1d7b0c[_0x244198(0x56e)]()===_0x38f591['userId']),_0x3058e2=_0x2f0822?.[_0x244198(0x6ac)]();if(!_0x2f0822||!_0x3058e2)throw new Error(_0x244198(0x322));if(Math['abs'](_0x3058e2-_0x2b4435)<Math[_0x244198(0x470)](_0x7032df-_0x2b4435))return;}}const _0x2177d6=this[_0x244198(0x45a)][_0x244198(0x4a1)][_0x244198(0x670)](_0x30fa25=>_0x30fa25[_0x244198(0x32f)]()&&(!_0x3dd23f||_0x30fa25[_0x244198(0x304)]()===_0x3dd23f));if(!_0x2177d6[_0x244198(0x49d)]||0x0===_0x2177d6[_0x244198(0x49d)])throw new Error(_0x244198(0x695));const _0x589101=this['configs'][_0x244198(0x4a1)]['getDistance'](this[_0x244198(0x45a)][_0x244198(0x41b)],_0x92cfca),_0x331659=_0x4776ff(_0x4eca01['Incoming'],{'contentType':_0x19aef4[_0x244198(0x2a4)],'label':_0x3ac118,'remoteId':_0x92cfca});if(this[_0x244198(0x56a)][_0x244198(0x645)](_0x331659)){if(_0x3dd23f)throw new Error(_0x244198(0x5fa));const _0x56ed9b=this[_0x244198(0x56a)][_0x244198(0x64f)](_0x331659)[_0x244198(0x332)]();if(_0x56ed9b['length']===_0x265f6b[_0x244198(0x49d)]&&_0x56ed9b['every'](_0x894362=>_0x265f6b['includes'](_0x894362)))return;this['configs']['mediator'][_0x244198(0x35f)](this[_0x244198(0x56a)]['get'](_0x331659)),this[_0x244198(0x56a)]['delete'](_0x331659),_0x265f6b=Array[_0x244198(0x25d)](new Set(_0x265f6b[_0x244198(0x4c4)](_0x56ed9b))),this['clearSubscriptionRequestTimeout'](_0x331659);}const _0x22e30e=new _0x3bc37a(_0x2177d6[_0x244198(0x311)](_0x2630d8=>_0x2630d8[_0x244198(0x304)]()),_0x589101,this['maxDistance'],_0x265f6b);this[_0x244198(0x45a)][_0x244198(0x4a1)]['registerSystemSource'](_0x22e30e),this[_0x244198(0x56a)][_0x244198(0x5bc)](_0x331659,_0x22e30e),_0x22e30e['sendRequest'](this[_0x244198(0x45a)][_0x244198(0x41b)],_0x92cfca,_0x3ac118,_0x265f6b,_0x2e12ca),this[_0x244198(0x3d7)](_0x3ac118,_0x92cfca,_0x265f6b,_0x2e12ca,_0x331659,_0x22e30e);}['clearSubscriptionRequestTimeout'](_0x49fecc){const _0x5ee32b=_0x3565d6;this[_0x5ee32b(0x3f5)][_0x5ee32b(0x645)](_0x49fecc)&&(clearTimeout(this[_0x5ee32b(0x3f5)][_0x5ee32b(0x64f)](_0x49fecc)),this[_0x5ee32b(0x3f5)]['delete'](_0x49fecc));}[_0x3565d6(0x3d7)](_0x49531a,_0x3d9191,_0x318ea1,_0xeaeb46,_0x4884bf,_0x1000f6){const _0xf95a19=_0x3565d6;this['clearSubscriptionRequestTimeout'](_0x4884bf),this[_0xf95a19(0x3f5)]['set'](_0x4884bf,setTimeout(()=>{const _0x486404=_0xf95a19;this[_0x486404(0x3f5)][_0x486404(0x409)](_0x4884bf);try{const _0x248f85=_0x1000f6['chooseAnswer']();this[_0x486404(0x61f)](_0x248f85,_0x3d9191,_0x49531a,_0x4884bf,_0x318ea1);}catch(_0x13182b){this[_0x486404(0x5bf)](_0x49531a,_0x3d9191,_0x318ea1,_0xeaeb46);}},0x7d0));}[_0x3565d6(0x47a)](_0x1a27b0,_0x40c1ea,_0x24c084,_0x149099,_0x5df4da){const _0x5bfc4c=_0x3565d6,{subscriptionLabel:_0x151fbb}=this[_0x5bfc4c(0x59b)](_0x40c1ea,_0x149099),_0x485dc4=this['getMediaSubscription'](_0x151fbb),_0x1ed92f=_0x485dc4?.[_0x5bfc4c(0x63c)];_0x485dc4&&(_0x485dc4[_0x5bfc4c(0x71d)](_0x149099,0x0),this[_0x5bfc4c(0x676)](_0x24c084,_0x19aef4[_0x5bfc4c(0x2a4)],_0x1a27b0)),this[_0x5bfc4c(0x5ee)](_0x40c1ea,_0x149099,_0x5df4da,_0x1ed92f);}['getMediaSubscription'](_0x233fad){const _0xa7c76=_0x3565d6,_0xda2711=this[_0xa7c76(0x4ea)][_0xa7c76(0x2a3)][_0xa7c76(0x64f)](_0x233fad);if(_0xda2711){if(!(_0xda2711 instanceof _0xf8bd80))throw new _0x1ca0c3(_0x1ca0c3[_0xa7c76(0x69c)][_0xa7c76(0x686)],{'label':_0x233fad,'subscription':_0xda2711});return _0xda2711;}}['getSubscriptionLabel'](_0x492197,_0x248a17){const _0x42b738=_0x3565d6,_0x2c4f7f=this[_0x42b738(0x31e)](_0x492197,_0x248a17);return{'parts':_0x2c4f7f,'subscriptionLabel':_0x4776ff(_0x4eca01['Incoming'],_0x2c4f7f)};}[_0x3565d6(0x31e)](_0x16d868,_0x4feb2d){const _0x234dfb=_0x3565d6,_0x5cdd7a=this[_0x234dfb(0x45a)][_0x234dfb(0x4a1)]['getRemoteMediaStream'](_0x4feb2d,_0x16d868),_0x4b92cc=_0x5cdd7a[_0x234dfb(0x2cd)]();if(!_0x4b92cc)throw new _0x1ca0c3(_0x1ca0c3['codes'][_0x234dfb(0x37c)],{'label':_0x16d868,'streamId':_0x5cdd7a['getInternalStreamId'](),'ownerId':_0x4feb2d,'localId':this['configs'][_0x234dfb(0x41b)]});return{'contentType':_0x19aef4['Media'],'label':_0x5cdd7a[_0x234dfb(0x2dc)](),'remoteId':_0x4b92cc};}[_0x3565d6(0x329)](_0xdbca2a,_0x1ea067,_0x542b2e,_0x380ee9){const _0x2f1dff=_0x3565d6,_0x22c7e0=_0x380ee9[_0x2f1dff(0x2cd)]();if(_0x22c7e0&&_0x22c7e0!==_0xdbca2a[_0x2f1dff(0x3bf)]){const {parts:_0x1aa497,subscriptionLabel:_0x3c18de}=this[_0x2f1dff(0x59b)](_0x542b2e,_0x1ea067),_0x5cc429=this[_0x2f1dff(0x32a)](_0x3c18de);_0x5cc429&&(_0x5cc429[_0x2f1dff(0x71d)](_0x1ea067,0x0),this['removeSubscription'](_0x1aa497[_0x2f1dff(0x343)],_0x1aa497['contentType'],_0x1aa497[_0x2f1dff(0x68c)]));}}}class _0x15e835{[_0x3565d6(0x45a)];[_0x3565d6(0x2ff)];[_0x3565d6(0x4ea)];constructor(_0x1ab0c8,_0x3f0aa7){const _0x5c2339=_0x3565d6;this[_0x5c2339(0x45a)]=_0x1ab0c8,this[_0x5c2339(0x2ff)]=_0x3f0aa7,this[_0x5c2339(0x4ea)]=new _0x521aa2(({source:_0x29f004,destination:_0x3c6595})=>_0xebec20(_0x29f004,_0x3c6595));}[_0x3565d6(0x319)](_0x26b7dd,_0xc671e3){const _0x2ea553=_0x3565d6,_0x927ea8={'source':_0x26b7dd,'destination':_0xc671e3};this[_0x2ea553(0x4ea)][_0x2ea553(0x319)](_0x4eca01[_0x2ea553(0x38b)],_0x927ea8);}['removeSubscription'](_0x11c173,_0x324450,_0x50129b=''){const _0xfb60ff=_0x3565d6,_0x1467c5={'contentType':_0x324450,'label':_0x11c173,'remoteId':_0x50129b};this[_0xfb60ff(0x4ea)][_0xfb60ff(0x676)](_0x1467c5,_0x4eca01[_0xfb60ff(0x38b)]);}[_0x3565d6(0x3d1)](_0x1a5978,_0x13bd5e){const _0x5dda49=_0x3565d6;let _0x17fa90;_0x17fa90=_0x13bd5e[_0x5dda49(0x6f9)]!==this[_0x5dda49(0x45a)][_0x5dda49(0x41b)]?this['configs']['mediator'][_0x5dda49(0x673)](_0x13bd5e['ownerId'],_0x13bd5e[_0x5dda49(0x343)]):this[_0x5dda49(0x45a)][_0x5dda49(0x4a1)][_0x5dda49(0x6d0)](_0x13bd5e[_0x5dda49(0x343)]);const _0x569821=_0x4776ff(_0x4eca01['Outgoing'],{'contentType':_0x19aef4[_0x5dda49(0x2a4)],'label':_0x17fa90[_0x5dda49(0x285)](),'remoteId':_0x1a5978}),_0x1f222d=this[_0x5dda49(0x700)]();if(!this['maps'][_0x5dda49(0x2a3)][_0x5dda49(0x645)](_0x569821)&&_0x1f222d>=this['maxOutgoingSubscriptions'])return{'type':_0x3fecff[_0x5dda49(0x46f)],'ownerId':_0x13bd5e[_0x5dda49(0x6f9)],'label':_0x13bd5e[_0x5dda49(0x343)],'streamId':_0x17fa90[_0x5dda49(0x285)](),'trackKinds':_0x13bd5e[_0x5dda49(0x671)],'params':_0x13bd5e[_0x5dda49(0x63c)]};_0x17fa90 instanceof _0x3ed793&&!_0x17fa90[_0x5dda49(0x34b)](_0x13bd5e[_0x5dda49(0x671)])&&_0x17fa90[_0x5dda49(0x61f)](_0x13bd5e['params']),this[_0x5dda49(0x4ea)][_0x5dda49(0x2a3)][_0x5dda49(0x645)](_0x569821)||this[_0x5dda49(0x319)](_0x17fa90[_0x5dda49(0x1cb)](_0x1a5978),this[_0x5dda49(0x45a)][_0x5dda49(0x4a1)][_0x5dda49(0x372)](_0x1a5978));}[_0x3565d6(0x4f0)](_0x43e61d,{label:_0xd04ffe,ownerId:_0x138ab9,remainingTracks:_0x1fda30}){const _0x29c1cd=_0x3565d6;if(_0x1fda30>0x0)return;let _0x28172b;_0x28172b=_0x138ab9!==this['configs'][_0x29c1cd(0x41b)]?this['configs']['mediator'][_0x29c1cd(0x673)](_0x138ab9,_0xd04ffe):this[_0x29c1cd(0x45a)][_0x29c1cd(0x4a1)][_0x29c1cd(0x6d0)](_0xd04ffe);const _0x72a698=_0x28172b[_0x29c1cd(0x285)](),_0x33a589=_0x19aef4[_0x29c1cd(0x2a4)];this[_0x29c1cd(0x676)](_0x72a698,_0x33a589,_0x43e61d);}[_0x3565d6(0x6f7)](_0x5b573c,{label:_0x4ab6a0,ownerId:_0x4ea90b,trackKinds:_0xc000c7}){const _0x1e1240=_0x3565d6;if(_0x5b573c!==_0x13edb4)return[];let _0x5770a7=[];for(const _0xe101fd of this[_0x1e1240(0x4ea)]['subscriptions']){const {source:_0x236e53,destination:_0x523102}=_0xe101fd[0x1];_0x236e53[_0x1e1240(0x5be)]()===_0x4ab6a0&&_0x236e53['getOwnerId']()===_0x4ea90b&&_0x5770a7[_0x1e1240(0x495)]({'sourceId':this[_0x1e1240(0x45a)]['localId'],'destinationIds':[_0x523102['getRemoteId']()],'messageType':_0x3edd62['Subscription'],'content':{'type':_0x3fecff['MediaStreamUnavailable'],'label':_0x4ab6a0,'ownerId':_0x4ea90b,'trackKinds':_0xc000c7}});}return _0x5770a7;}['handleSubscriptionNeedMediaStream'](_0x45062e,_0x2d6cf2){const _0x31c55e=_0x3565d6,{label:_0x5931f9,ownerId:_0x44d9cd,trackKinds:_0x406dcb,params:_0x4da760}=_0x2d6cf2,{hasTracks:_0x9fd61b,streamId:_0x50f50c,hasResolution:_0x38c592,distance:_0xf52100,subscriptionLabel:_0x241187}=this[_0x31c55e(0x314)](_0x45062e,_0x2d6cf2);let _0x372231=this[_0x31c55e(0x700)]()<this[_0x31c55e(0x2ff)]&&(_0x9fd61b||_0xf52100>-0x1)?_0x3fecff[_0x31c55e(0x433)]:_0x3fecff[_0x31c55e(0x613)];const _0x11cc02=_0xf52100<0x0?0xa:_0xf52100;let _0x3ccd19=_0x9fd61b?_0x38c592?_0x11cc02:_0x11cc02+0x0:_0x11cc02+0xa;return _0x241187&&this[_0x31c55e(0x4ea)][_0x31c55e(0x2a3)]['has'](_0x241187)&&(_0x9fd61b&&(_0x3ccd19=0x0),_0x372231=_0x3fecff[_0x31c55e(0x433)]),{'type':_0x372231,'cost':_0x3ccd19,'distance':_0xf52100,'label':_0x5931f9,'ownerId':_0x44d9cd,'streamId':_0x50f50c,'trackKinds':_0x406dcb,'params':_0x4da760};}[_0x3565d6(0x214)](_0x5b21ab){const _0x4d665c=_0x3565d6,{label:_0x4e9a31,ownerId:_0x38ce27}=_0x5b21ab,_0x40c33f=this[_0x4d665c(0x45a)][_0x4d665c(0x4a1)][_0x4d665c(0x673)](_0x38ce27,_0x4e9a31);this['maps'][_0x4d665c(0x2a3)][_0x4d665c(0x1c3)](_0x2dd7f9=>{const _0x2727c3=_0x4d665c;if(_0x2dd7f9[_0x2727c3(0x3ca)][_0x2727c3(0x2dc)]()===_0x40c33f[_0x2727c3(0x285)]()){const _0x19409a=_0x2dd7f9[_0x2727c3(0x6ee)];this['removeSubscription'](_0x40c33f[_0x2727c3(0x285)](),_0x19aef4[_0x2727c3(0x2a4)],_0x19409a[_0x2727c3(0x304)]());}});}['handleContentCloseMediaStream']({label:_0x5677b5}){const _0x39cf2a=_0x3565d6,_0x279cb1=this[_0x39cf2a(0x45a)][_0x39cf2a(0x4a1)][_0x39cf2a(0x6d0)](_0x5677b5);this[_0x39cf2a(0x4ea)]['subscriptions'][_0x39cf2a(0x1c3)](_0x51ab3b=>{const _0x3ed827=_0x39cf2a;if(_0x51ab3b['source']['getInternalStreamId']()===_0x279cb1['getShareableStreamId']()){const _0x387595=_0x51ab3b[_0x3ed827(0x6ee)];this[_0x3ed827(0x676)](_0x279cb1[_0x3ed827(0x285)](),_0x19aef4[_0x3ed827(0x2a4)],_0x387595['getRemoteId']());}});}[_0x3565d6(0x74a)](_0x1b1f80){const _0x54528a=_0x3565d6;this[_0x54528a(0x4ea)][_0x54528a(0x74a)](_0x1b1f80);}[_0x3565d6(0x208)](){const _0x26819e=_0x3565d6;this[_0x26819e(0x4ea)][_0x26819e(0x2a3)]['forEach'](this['closeSubscription'][_0x26819e(0x65f)](this));}[_0x3565d6(0x28b)](_0x33029f,_0x52ff83){const _0x572658=_0x3565d6;this[_0x572658(0x4ea)][_0x572658(0x28b)](_0x33029f,_0x52ff83);}['getSubscriptionInfo'](_0xeeb441,{label:_0x470a9f,ownerId:_0x3f0b2c,trackKinds:_0x509ff8,params:_0x1bb9ed}){const _0x37cecb=_0x3565d6;if(_0x3f0b2c!==this[_0x37cecb(0x45a)][_0x37cecb(0x41b)]){const _0x3d633e=this[_0x37cecb(0x45a)][_0x37cecb(0x4a1)][_0x37cecb(0x673)](_0x3f0b2c,_0x470a9f);return _0x3d633e&&_0x3d633e[_0x37cecb(0x2cd)]()!==_0xeeb441?{'hasTracks':_0x3d633e[_0x37cecb(0x3d6)](_0x509ff8),'hasResolution':this[_0x37cecb(0x4bb)](_0x3d633e[_0x37cecb(0x2a1)](),_0x1bb9ed),'streamId':_0x3d633e[_0x37cecb(0x285)](),'distance':this['configs']['mediator'][_0x37cecb(0x739)](_0xeeb441,_0x3f0b2c),'subscriptionLabel':_0x4776ff(_0x4eca01[_0x37cecb(0x38b)],{'contentType':_0x19aef4[_0x37cecb(0x2a4)],'label':_0x3d633e['getShareableStreamId'](),'remoteId':_0xeeb441})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x5cc5a2=this[_0x37cecb(0x45a)]['mediator'][_0x37cecb(0x6d0)](_0x470a9f);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x5cc5a2['getShareableStreamId'](),'distance':0x0,'subscriptionLabel':_0x4776ff(_0x4eca01[_0x37cecb(0x38b)],{'contentType':_0x19aef4[_0x37cecb(0x2a4)],'label':_0x5cc5a2[_0x37cecb(0x285)](),'remoteId':_0xeeb441})};}[_0x3565d6(0x700)](){const _0x5b4220=_0x3565d6;return Array['from'](this['maps'][_0x5b4220(0x2a3)][_0x5b4220(0x20a)]())['filter'](([_0x401fab,{source:_0x37d449}])=>_0x401fab['startsWith'](_0x4eca01[_0x5b4220(0x38b)])&&_0x37d449[_0x5b4220(0x385)]()===_0x19aef4[_0x5b4220(0x2a4)])[_0x5b4220(0x49d)];}['canProvideResolution'](_0x2f8818,_0x3573a0){const _0x5d6bf7=_0x3565d6;if(!_0x3573a0||!_0x3573a0[_0x5d6bf7(0x612)]||_0x5d6bf7(0x56f)==typeof _0x3573a0[_0x5d6bf7(0x612)]||!_0x3573a0['video'][_0x5d6bf7(0x5d5)])return!0x0;const {width:_0x571bc4,height:_0x2163f0}=_0x3573a0[_0x5d6bf7(0x612)][_0x5d6bf7(0x5d5)];return _0x2f8818['width']>=_0x571bc4&&_0x2f8818[_0x5d6bf7(0x290)]>=_0x2163f0;}}class _0x45c8d3{['configs'];[_0x3565d6(0x2ff)];[_0x3565d6(0x330)];['systemTopic'];['incomingManager'];[_0x3565d6(0x302)];constructor(_0x2347cb,_0x11d718,_0x5146c3){const _0x2fd559=_0x3565d6;this[_0x2fd559(0x45a)]=_0x2347cb,this[_0x2fd559(0x2ff)]=_0x11d718,this[_0x2fd559(0x330)]=_0x5146c3,this[_0x2fd559(0x45a)][_0x2fd559(0x4a1)][_0x2fd559(0x678)](this),this['incomingManager']=new _0x2819d9(this['configs'],this[_0x2fd559(0x330)]),this['outgoingManager']=new _0x15e835(this[_0x2fd559(0x45a)],this[_0x2fd559(0x2ff)]);}[_0x3565d6(0x586)](_0x654eb9){const _0x1a6afa=_0x3565d6;this[_0x1a6afa(0x24e)]=_0x654eb9;}[_0x3565d6(0x44d)](){const _0x432c58=_0x3565d6;delete this[_0x432c58(0x24e)];}[_0x3565d6(0x208)](){const _0x5971c7=_0x3565d6;this[_0x5971c7(0x233)]['close'](),this[_0x5971c7(0x302)][_0x5971c7(0x208)](),this[_0x5971c7(0x45a)][_0x5971c7(0x4a1)]['unregisterSystemSource'](this);}[_0x3565d6(0x483)](_0x39b7f3,_0x2f4f49){const _0x5993a8=_0x3565d6;this[_0x5993a8(0x233)]['createSubscription'](_0x39b7f3,_0x2f4f49);}[_0x3565d6(0x397)](_0xae09e5,_0x3f69ec){const _0x1f1845=_0x3565d6;this[_0x1f1845(0x302)][_0x1f1845(0x319)](_0xae09e5,_0x3f69ec);}[_0x3565d6(0x732)](_0x4110d4,_0x1c530f,_0x1edea9=''){const _0x715d48=_0x3565d6;this[_0x715d48(0x233)][_0x715d48(0x676)](_0x4110d4,_0x1c530f,_0x1edea9);}['removeOutgoingSubscription'](_0x1aebe4,_0x5124b4,_0x391f11=''){const _0xd665b1=_0x3565d6;try{this[_0xd665b1(0x302)]['removeSubscription'](_0x1aebe4,_0x5124b4,_0x391f11);}catch(_0x34c5cb){if(_0x34c5cb instanceof _0x1ca0c3&&_0x34c5cb[_0xd665b1(0x65b)]===_0x1ca0c3[_0xd665b1(0x69c)][_0xd665b1(0x686)])return;}}['handleSubscriptionSystemEvents'](_0x519fc6){const _0x2d9fdd=_0x3565d6;switch(_0x519fc6[_0x2d9fdd(0x379)][_0x2d9fdd(0x2be)]){case _0x3fecff[_0x2d9fdd(0x4ad)]:this[_0x2d9fdd(0x3d1)](_0x519fc6['sourceId'],_0x519fc6[_0x2d9fdd(0x379)]);break;case _0x3fecff['UnsubscribeMediaStream']:this['outgoingManager'][_0x2d9fdd(0x4f0)](_0x519fc6[_0x2d9fdd(0x3be)],_0x519fc6['content']);break;case _0x3fecff[_0x2d9fdd(0x1b3)]:this[_0x2d9fdd(0x1d4)](_0x519fc6[_0x2d9fdd(0x3be)],_0x519fc6[_0x2d9fdd(0x379)]);break;case _0x3fecff[_0x2d9fdd(0x46f)]:this[_0x2d9fdd(0x233)][_0x2d9fdd(0x259)](_0x519fc6['sourceId'],_0x519fc6['content']);break;case _0x3fecff['CanProvideMediaStream']:case _0x3fecff[_0x2d9fdd(0x613)]:this[_0x2d9fdd(0x233)][_0x2d9fdd(0x39f)](_0x519fc6['sourceId'],_0x519fc6['content']);break;case _0x3fecff[_0x2d9fdd(0x1fe)]:this[_0x2d9fdd(0x233)][_0x2d9fdd(0x59d)](_0x519fc6[_0x2d9fdd(0x3be)],_0x519fc6[_0x2d9fdd(0x379)]);}}[_0x3565d6(0x557)](_0x1d0f22){const _0x2f2a0b=_0x3565d6;switch(_0x1d0f22[_0x2f2a0b(0x379)][_0x2f2a0b(0x2be)]){case _0x101bc1[_0x2f2a0b(0x568)]:this['incomingManager'][_0x2f2a0b(0x214)](_0x1d0f22[_0x2f2a0b(0x379)]),this[_0x2f2a0b(0x302)][_0x2f2a0b(0x214)](_0x1d0f22[_0x2f2a0b(0x379)]);break;case _0x101bc1[_0x2f2a0b(0x4ad)]:this[_0x2f2a0b(0x233)][_0x2f2a0b(0x6cd)](_0x1d0f22[_0x2f2a0b(0x379)]);break;case _0x101bc1['UpdateMediaStream']:this[_0x2f2a0b(0x233)][_0x2f2a0b(0x2c8)](_0x1d0f22['content']);break;case _0x101bc1[_0x2f2a0b(0x1ad)]:this[_0x2f2a0b(0x6f7)](_0x1d0f22[_0x2f2a0b(0x3be)],_0x1d0f22[_0x2f2a0b(0x379)]);break;case _0x101bc1['CloseMediaStream']:this[_0x2f2a0b(0x302)][_0x2f2a0b(0x338)](_0x1d0f22['content']);break;case _0x101bc1[_0x2f2a0b(0x417)]:this[_0x2f2a0b(0x490)](_0x1d0f22[_0x2f2a0b(0x379)]);break;case _0x101bc1[_0x2f2a0b(0x737)]:this[_0x2f2a0b(0x19d)](_0x1d0f22[_0x2f2a0b(0x379)]);break;case _0x101bc1['CloseKeyValueDatabase']:this[_0x2f2a0b(0x1c8)](_0x1d0f22['content']);break;case _0x101bc1[_0x2f2a0b(0x494)]:this[_0x2f2a0b(0x233)][_0x2f2a0b(0x2a2)](_0x1d0f22['content']);}}[_0x3565d6(0x5af)]({content:_0x516c3a}){const _0x8c0b03=_0x3565d6;_0x516c3a[_0x8c0b03(0x2be)]===_0x99b96d[_0x8c0b03(0x559)]&&this[_0x8c0b03(0x74a)](_0x516c3a);}['handleWebRTCSystemEvents'](_0x315c39){const _0x531bee=_0x3565d6;_0x315c39['content'][_0x531bee(0x2be)]===_0x25f14a[_0x531bee(0x6dc)]&&this['incomingManager'][_0x531bee(0x57c)](_0x315c39[_0x531bee(0x3be)]);}[_0x3565d6(0x6f7)](_0x439fd0,_0x2031e7){const _0x12ad01=_0x3565d6;this[_0x12ad01(0x233)][_0x12ad01(0x6f7)](_0x2031e7),this[_0x12ad01(0x302)]['handleContentUnsubscribeMediaStream'](_0x439fd0,_0x2031e7)[_0x12ad01(0x1c3)](_0x119e3a=>this['systemTopic']['publish'](_0x119e3a));}['handleSubscriptionSubscribeMediaStream'](_0x5a0f23,_0x21b114){const _0x3ccd01=_0x3565d6,_0x2f76b6=this[_0x3ccd01(0x302)][_0x3ccd01(0x3d1)](_0x5a0f23,_0x21b114);if(_0x2f76b6&&(this[_0x3ccd01(0x24e)]['publish']({'sourceId':this[_0x3ccd01(0x45a)]['localId'],'destinationIds':[_0x5a0f23],'messageType':_0x3edd62[_0x3ccd01(0x4fe)],'content':_0x2f76b6}),_0x2f76b6[_0x3ccd01(0x2be)]===_0x3fecff[_0x3ccd01(0x46f)]))throw new _0x59eabb(_0x3ccd01(0x44c));}[_0x3565d6(0x1d4)](_0x1d6e73,_0x278fbb){const _0x4e7bf6=_0x3565d6,_0x101835=this[_0x4e7bf6(0x302)][_0x4e7bf6(0x1d4)](_0x1d6e73,_0x278fbb);this[_0x4e7bf6(0x24e)][_0x4e7bf6(0x76d)]({'sourceId':this[_0x4e7bf6(0x45a)][_0x4e7bf6(0x41b)],'destinationIds':[_0x1d6e73],'messageType':_0x3edd62[_0x4e7bf6(0x4fe)],'content':_0x101835});}[_0x3565d6(0x19d)]({label:_0x5ba1bc}){const _0xd8d350=_0x3565d6;this[_0xd8d350(0x732)](_0x5ba1bc,_0x19aef4[_0xd8d350(0x431)]),this[_0xd8d350(0x2b0)](_0x5ba1bc,_0x19aef4[_0xd8d350(0x431)]);}[_0x3565d6(0x1c8)]({label:_0xc31dbb}){const _0xc7fd0e=_0x3565d6;this['removeIncomingSubscription'](_0xc31dbb,_0x19aef4[_0xc7fd0e(0x2e9)]),this[_0xc7fd0e(0x2b0)](_0xc31dbb,_0x19aef4['KeyValueDatabase']);}[_0x3565d6(0x490)]({label:_0x3cf3ef}){const _0x34b32e=_0x3565d6;this[_0x34b32e(0x732)](_0x3cf3ef,_0x19aef4['PubSub']),this[_0x34b32e(0x2b0)](_0x3cf3ef,_0x19aef4['PubSub']);}['removeSubscriptionsForUser']({id:_0x305943}){const _0x4d4844=_0x3565d6;this['incomingManager'][_0x4d4844(0x74a)](_0x305943),this[_0x4d4844(0x302)][_0x4d4844(0x74a)](_0x305943);}}class _0x234aab{['label'];[_0x3565d6(0x3e7)]=_0x25e35b();constructor(){const _0x5a00cc=_0x3565d6;this[_0x5a00cc(0x343)]=0x0;}[_0x3565d6(0x5be)](){const _0x253faa=_0x3565d6;return this[_0x253faa(0x343)];}[_0x3565d6(0x385)](){return _0x19aef4['Data'];}[_0x3565d6(0x407)](_0x3d18c1){_0x3d18c1['registerSystemPublisher'](this);}[_0x3565d6(0x6e6)](_0x7f716){const _0x4b0cb0=_0x3565d6;_0x7f716[_0x4b0cb0(0x44d)]();}[_0x3565d6(0x76d)](_0x46cd99){const _0xcf409b=_0x3565d6;_0x11c0d7['log'](_0x3e1340['Events'],_0xcf409b(0x681),_0x46cd99[_0xcf409b(0x3be)],_0x46cd99),this['listener'][_0xcf409b(0x76d)]({'topicLabel':this[_0xcf409b(0x343)],'contentType':_0x19aef4[_0xcf409b(0x286)],'uuid':_0x46cd99[_0xcf409b(0x731)]??(0x0,_0x43163e['v4'])(),'recipients':_0x46cd99['recipients']??[],..._0x46cd99});}[_0x3565d6(0x61f)](_0x1a9825){const _0xe9a9ba=_0x3565d6;return this[_0xe9a9ba(0x3e7)][_0xe9a9ba(0x61f)](_0x1a9825);}}class _0x1d28e1{[_0x3565d6(0x4c5)];['maxConnections'];[_0x3565d6(0x330)];[_0x3565d6(0x6e5)]=[];[_0x3565d6(0x589)];[_0x3565d6(0x75e)]=new Map();constructor(_0x42fb44,_0x12da7f,_0x577729){const _0x4feab7=_0x3565d6;this[_0x4feab7(0x4c5)]=_0x42fb44,this[_0x4feab7(0x360)]=_0x12da7f,this[_0x4feab7(0x330)]=_0x577729,this[_0x4feab7(0x589)]=(this['maxConnections']-0x2*this[_0x4feab7(0x4c5)])/0x2,this[_0x4feab7(0x6e5)][_0x4feab7(0x495)]({'start':0x1,'end':this[_0x4feab7(0x1ed)](0x1,0x1)-0x1});for(let _0x4b74cb=0x0;_0x4b74cb<this[_0x4feab7(0x589)];++_0x4b74cb)this['ranges'][_0x4feab7(0x495)]({'start':this['getNextTargetRank'](0x1,_0x4b74cb+0x1),'end':this['getNextTargetRank'](0x1,_0x4b74cb+0x2)-0x1});}['getNextTargetRank'](_0x1f5b1c,_0x3378a6=0x1){const _0x6d49d1=_0x3565d6;let _0x4f8349=this['maxDistance']-this[_0x6d49d1(0x4c5)],_0xae8916=0x1;for(let _0x46dcb7=0x1;_0x46dcb7<_0x3378a6;++_0x46dcb7)_0x4f8349*=this[_0x6d49d1(0x330)]-this[_0x6d49d1(0x4c5)]-_0x46dcb7,_0xae8916*=this[_0x6d49d1(0x330)]-this[_0x6d49d1(0x4c5)]-_0x46dcb7+0x1;return _0x4f8349*this['minConnections']+_0x1f5b1c-_0xae8916;}['getCurrentMaxLayer'](_0x5dde3a){const _0x208ea1=_0x3565d6;let _0x48d42c=0x0;for(;this[_0x208ea1(0x6e5)][_0x48d42c][_0x208ea1(0x1a0)]<_0x5dde3a;)_0x48d42c+=0x1;return _0x48d42c;}[_0x3565d6(0x62c)](){const _0x40712d=_0x3565d6;return this[_0x40712d(0x4c5)];}['getMaxConnections'](){const _0x50e95b=_0x3565d6;return this[_0x50e95b(0x360)];}['getMaxDistance'](){const _0x1bc5e3=_0x3565d6;return this[_0x1bc5e3(0x330)];}[_0x3565d6(0x5f7)](){const _0x320fd0=_0x3565d6;return this[_0x320fd0(0x75e)];}[_0x3565d6(0x57b)](_0x92ccbf,_0x59b0f3){const _0x78beee=_0x3565d6;this[_0x78beee(0x75e)][_0x78beee(0x5bc)](_0x92ccbf,_0x59b0f3);}[_0x3565d6(0x3a1)](_0x2dd076){const _0x398f57=_0x3565d6;return this[_0x398f57(0x75e)][_0x398f57(0x645)](_0x2dd076);}[_0x3565d6(0x594)](_0x4bee72){const _0x29e30d=_0x3565d6;return this[_0x29e30d(0x75e)][_0x29e30d(0x64f)](_0x4bee72);}[_0x3565d6(0x621)](_0x16e873){const _0x23d4c8=_0x3565d6;this[_0x23d4c8(0x75e)][_0x23d4c8(0x409)](_0x16e873);}['getClosestUsers'](_0x2d9932,_0x21058c){const _0x59f015=_0x3565d6,_0x526048=this[_0x59f015(0x594)](_0x21058c)?.[_0x59f015(0x6ac)]()??0x0;return _0x2d9932[_0x59f015(0x311)](_0x855eef=>this[_0x59f015(0x594)](_0x855eef))[_0x59f015(0x2de)](_0x270589=>void 0x0!==_0x270589)[_0x59f015(0x70c)]((_0x38102c,_0x1632cf)=>Math[_0x59f015(0x470)](_0x526048-(_0x38102c&&_0x38102c[_0x59f015(0x6ac)]()||0x1/0x0))-Math['abs'](_0x526048-(_0x1632cf&&_0x1632cf[_0x59f015(0x6ac)]()||0x1/0x0)))[_0x59f015(0x311)](_0x5305d1=>_0x5305d1[_0x59f015(0x56e)]());}}class _0x2496a7{[_0x3565d6(0x740)];['clusterId'];[_0x3565d6(0x481)];[_0x3565d6(0x716)];[_0x3565d6(0x45a)];['clusterEventEmitter'];[_0x3565d6(0x1a8)];['connectionManager'];[_0x3565d6(0x58d)];['statsManager'];[_0x3565d6(0x1da)];[_0x3565d6(0x4a3)];[_0x3565d6(0x3f9)];['graphService'];[_0x3565d6(0x24e)]=new _0x234aab();[_0x3565d6(0x561)];[_0x3565d6(0x687)];constructor(_0x34b00c,_0x21005f,_0x4120db,_0x2c1bc6,_0x5da7bf,_0x11167b,_0x515e0a){const _0x200a5e=_0x3565d6;this[_0x200a5e(0x740)]=_0x34b00c,this['clusterId']=_0x21005f,this[_0x200a5e(0x481)]=_0x2c1bc6,this[_0x200a5e(0x716)]=_0x5da7bf,this[_0x200a5e(0x45a)]=_0x11167b,this['clusterEventEmitter']=_0x515e0a,this[_0x200a5e(0x687)]=new _0x484026(_0x4120db['getId'](),_0x4120db[_0x200a5e(0x505)](),_0x4120db[_0x200a5e(0x496)]());const _0x268221=this['getConfigs']();this[_0x200a5e(0x1db)]=new _0x1d28e1(this[_0x200a5e(0x716)][_0x200a5e(0x4c5)],this[_0x200a5e(0x716)][_0x200a5e(0x360)],this[_0x200a5e(0x716)]['maxDistance']),this[_0x200a5e(0x1a8)]=new _0x169aa6(_0x268221,this[_0x200a5e(0x716)]['maxFps'],this[_0x200a5e(0x716)][_0x200a5e(0x321)]),this['connectionManager']=new _0x514274(_0x268221,this[_0x200a5e(0x481)],this['configs'][_0x200a5e(0x4c8)],this[_0x200a5e(0x716)]['maxFps'],this[_0x200a5e(0x716)][_0x200a5e(0x400)],this[_0x200a5e(0x1db)]),this[_0x200a5e(0x58d)]=new _0x45c8d3(_0x268221,this[_0x200a5e(0x716)][_0x200a5e(0x2ff)],this[_0x200a5e(0x1db)][_0x200a5e(0x6c3)]()),this[_0x200a5e(0x4df)]=new _0x26430c(_0x268221),this[_0x200a5e(0x1da)]=new _0xbb847c(_0x268221),this['remediationManager']=new _0x1fe118(_0x268221),this[_0x200a5e(0x3f9)]=new _0x53374d(_0x268221,this[_0x200a5e(0x1db)],this[_0x200a5e(0x687)]),this[_0x200a5e(0x561)]=this[_0x200a5e(0x6e0)]();}[_0x3565d6(0x4db)](){const _0x470482=_0x3565d6,_0x40b25f=this[_0x470482(0x41e)]();this['connectionManager']=new _0x514274(_0x40b25f,this[_0x470482(0x481)],this['configs'][_0x470482(0x4c8)],this[_0x470482(0x716)][_0x470482(0x33e)],this[_0x470482(0x716)]['maxBpp'],this[_0x470482(0x1db)]),this['subscriptionManager']=new _0x45c8d3(_0x40b25f,this[_0x470482(0x716)][_0x470482(0x2ff)],this[_0x470482(0x1db)]['getMaxDistance']()),this[_0x470482(0x4df)]=new _0x26430c(_0x40b25f),this['detectionManager']=new _0xbb847c(_0x40b25f),this[_0x470482(0x4a3)]=new _0x1fe118(_0x40b25f),this['nodeManager']=new _0x53374d(_0x40b25f,this['graphService'],this[_0x470482(0x687)]);const _0x5b378f=this['connectionManager'][_0x470482(0x4bd)]();this['contentManager'][_0x470482(0x6bd)]()[_0x470482(0x1c3)](_0x35cb27=>{const _0x4657eb=_0x470482;this[_0x4657eb(0x58d)][_0x4657eb(0x397)](_0x35cb27,_0x5b378f),this['subscriptionManager'][_0x4657eb(0x483)](_0x5b378f,_0x35cb27);}),this[_0x470482(0x1a8)][_0x470482(0x52b)]()[_0x470482(0x1c3)](_0x13bae8=>{const _0x5852b3=_0x470482;this[_0x5852b3(0x58d)][_0x5852b3(0x397)](_0x13bae8,_0x5b378f),this['subscriptionManager']['createIncomingSubscription'](_0x5b378f,_0x13bae8);}),this[_0x470482(0x1a8)][_0x470482(0x221)]()['forEach'](_0x11ab49=>{const _0x4b055b=_0x470482;this[_0x4b055b(0x58d)][_0x4b055b(0x397)](_0x11ab49,_0x5b378f),this[_0x4b055b(0x58d)]['createIncomingSubscription'](_0x5b378f,_0x11ab49);}),this[_0x470482(0x561)]=this[_0x470482(0x6e0)]();}['registerSystemSource'](_0x21179b){const _0x49e474=_0x3565d6;try{this[_0x49e474(0x24e)][_0x49e474(0x407)](_0x21179b);}catch(_0x24c831){this[_0x49e474(0x6ad)](_0x24c831,{});}}['unregisterSystemSource'](_0x305ca2){const _0x385d2d=_0x3565d6;try{this[_0x385d2d(0x24e)]['unregisterSource'](_0x305ca2);}catch(_0x5e9bb7){this['handleError'](_0x5e9bb7,{});}}[_0x3565d6(0x728)](_0x24da47,_0x1099b8){const _0x43e534=_0x3565d6;return this[_0x43e534(0x2f5)][_0x43e534(0x728)](_0x24da47,!0x0,_0x1099b8);}['getConnection'](_0x3b152d){const _0x38ff31=_0x3565d6;try{return this['connectionManager'][_0x38ff31(0x372)](_0x3b152d);}catch(_0x75a6c7){throw this[_0x38ff31(0x6ad)](_0x75a6c7,{});}}[_0x3565d6(0x670)](_0x430b39){const _0xf80754=_0x3565d6;try{return this[_0xf80754(0x2f5)][_0xf80754(0x670)](_0x430b39);}catch(_0x48868f){throw this['handleError'](_0x48868f,{});}}['getRemoteMediaStream'](_0x4d6ac3,_0x1bc8ab){const _0x478d86=_0x3565d6;try{return this[_0x478d86(0x1a8)][_0x478d86(0x6e2)](_0x54a3e9=>_0x54a3e9[_0x478d86(0x6c8)]()===_0x4d6ac3&&_0x54a3e9[_0x478d86(0x5be)]()===_0x1bc8ab)[0x0];}catch(_0x3c1391){throw this[_0x478d86(0x6ad)](_0x3c1391,{});}}[_0x3565d6(0x6d0)](_0x1c12f0){const _0x3e879c=_0x3565d6;try{return this[_0x3e879c(0x1a8)][_0x3e879c(0x632)](_0x5831c9=>_0x5831c9[_0x3e879c(0x5be)]()===_0x1c12f0)[0x0];}catch(_0x35fc8c){throw this[_0x3e879c(0x6ad)](_0x35fc8c,{});}}[_0x3565d6(0x71c)]=(..._0x39a85d)=>{const _0xb5f239=_0x3565d6;try{return this[_0xb5f239(0x210)][_0xb5f239(0x278)](..._0x39a85d);}catch(_0x52b04b){throw this['handleError'](_0x52b04b,{});}};[_0x3565d6(0x1cc)](_0x5cbe6a){const _0x360ee4=_0x3565d6;try{this['statsManager'][_0x360ee4(0x239)](_0x5cbe6a);}catch(_0x2d8c86){throw this[_0x360ee4(0x6ad)](_0x2d8c86,{});}}['unregisterRemoteUser'](_0x25c8fd){const _0x28b3ff=_0x3565d6;try{this[_0x28b3ff(0x4df)][_0x28b3ff(0x378)](_0x25c8fd);}catch(_0x2a54e4){throw this[_0x28b3ff(0x6ad)](_0x2a54e4,{});}}[_0x3565d6(0x3a7)](_0x4f31ae){const _0x270e83=_0x3565d6;return this[_0x270e83(0x2f5)][_0x270e83(0x3a7)](_0x4f31ae);}async['initialize'](){const _0xb1cf3f=_0x3565d6;try{await this[_0xb1cf3f(0x2f5)][_0xb1cf3f(0x549)]();const _0x5e5286=await this[_0xb1cf3f(0x3f9)][_0xb1cf3f(0x1a7)]();for(const _0x586d08 of _0x5e5286)this['connectionManager']['createConnection'](_0x586d08,!0x0);}catch(_0x5d2d2b){throw this[_0xb1cf3f(0x6ad)](_0x5d2d2b,{});}}[_0x3565d6(0x3ec)](_0x3a4c89){const _0x269534=_0x3565d6;this[_0x269534(0x687)][_0x269534(0x736)](_0x3a4c89[_0x269534(0x496)]()),this[_0x269534(0x687)]['setDisplayName'](_0x3a4c89[_0x269534(0x505)]());}[_0x3565d6(0x208)](_0x520579=!0x1){const _0x445113=_0x3565d6;this[_0x445113(0x561)](),this['remediationManager'][_0x445113(0x208)](),this['detectionManager'][_0x445113(0x208)](),this[_0x445113(0x4df)][_0x445113(0x208)](),this['subscriptionManager'][_0x445113(0x208)](),this['connectionManager'][_0x445113(0x208)](),this[_0x445113(0x1a8)][_0x445113(0x208)](_0x520579),this[_0x445113(0x3f9)]['close']();}['openPubSubTopic'](_0x29a7ef){const _0x51cdbe=_0x3565d6;try{const _0x252953=this[_0x51cdbe(0x1a8)][_0x51cdbe(0x473)](_0x29a7ef),_0x4bad49=this[_0x51cdbe(0x2f5)][_0x51cdbe(0x4bd)]();return this[_0x51cdbe(0x58d)]['createOutgoingSubscription'](_0x252953,_0x4bad49),this[_0x51cdbe(0x58d)][_0x51cdbe(0x483)](_0x4bad49,_0x252953),_0x252953;}catch(_0x228149){throw this[_0x51cdbe(0x6ad)](_0x228149,{});}}async[_0x3565d6(0x209)](_0x3de7b9){const _0x5aedcc=_0x3565d6;try{const _0x3201d0=this[_0x5aedcc(0x1a8)][_0x5aedcc(0x459)](_0x3de7b9),_0x5e3b8c=this[_0x5aedcc(0x2f5)][_0x5aedcc(0x4bd)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x3201d0,_0x5e3b8c),this['subscriptionManager']['createIncomingSubscription'](_0x5e3b8c,_0x3201d0),await _0x3201d0[_0x5aedcc(0x5d7)](),_0x3201d0;}catch(_0x408ee2){throw this[_0x5aedcc(0x6ad)](_0x408ee2,{});}}async[_0x3565d6(0x3e8)](_0x3005f3,_0x55a3fb){const _0x374af7=_0x3565d6;try{const _0x192183=await this[_0x374af7(0x1a8)]['createKeyValueDatabase'](_0x3005f3,_0x55a3fb),_0x2ae5de=this['connectionManager'][_0x374af7(0x4bd)]();return this['subscriptionManager'][_0x374af7(0x397)](_0x192183,_0x2ae5de),this[_0x374af7(0x58d)][_0x374af7(0x483)](_0x2ae5de,_0x192183),await _0x192183[_0x374af7(0x4db)](),this[_0x374af7(0x349)](_0x192183),_0x192183;}catch(_0x1dc72b){throw this[_0x374af7(0x6ad)](_0x1dc72b,{});}}[_0x3565d6(0x6bd)](_0x4c9d64){const _0x19d3bf=_0x3565d6;try{return this[_0x19d3bf(0x1a8)][_0x19d3bf(0x6bd)](_0x4c9d64);}catch(_0x428a34){throw this['handleError'](_0x428a34,{});}}[_0x3565d6(0x52b)](_0x528b95){const _0x318be9=_0x3565d6;try{return this[_0x318be9(0x1a8)][_0x318be9(0x52b)](_0x528b95);}catch(_0x28a63b){throw this[_0x318be9(0x6ad)](_0x28a63b,{});}}[_0x3565d6(0x221)](_0x21aadf){const _0x11ffa7=_0x3565d6;try{return this[_0x11ffa7(0x1a8)]['getKeyValueDatabases'](_0x21aadf);}catch(_0x17aaa6){throw this[_0x11ffa7(0x6ad)](_0x17aaa6,{});}}[_0x3565d6(0x33c)](_0x79851f,_0x1153f6){const _0x2b5232=_0x3565d6;if(!this['configs'][_0x2b5232(0x478)]['includes'](_0x4db2c7['MediaStream']))throw new _0x27552e(_0x338970[_0x2b5232(0x643)],_0x2b5232(0x5f0));try{return this[_0x2b5232(0x1a8)][_0x2b5232(0x33c)](_0x79851f,_0x1153f6);}catch(_0x4e5416){throw this['handleError'](_0x4e5416,{});}}[_0x3565d6(0x609)](_0x36c497,_0x4a9322){const _0x2c152e=_0x3565d6;if(!this[_0x2c152e(0x45a)]['features'][_0x2c152e(0x741)](_0x4db2c7[_0x2c152e(0x6a7)]))throw new _0x27552e(_0x338970[_0x2c152e(0x643)],_0x2c152e(0x5f0));try{return this['contentManager'][_0x2c152e(0x609)](_0x36c497,_0x4a9322);}catch(_0x441198){throw this[_0x2c152e(0x6ad)](_0x441198,{});}}['getLocalMediaStreams'](_0x47cfc6){const _0x20a06e=_0x3565d6;if(!this['configs'][_0x20a06e(0x478)][_0x20a06e(0x741)](_0x4db2c7[_0x20a06e(0x6a7)]))throw new _0x27552e(_0x338970[_0x20a06e(0x643)],_0x20a06e(0x5f0));try{return this[_0x20a06e(0x1a8)][_0x20a06e(0x632)](_0x47cfc6);}catch(_0x533c52){throw this[_0x20a06e(0x6ad)](_0x533c52,{});}}['getRemoteMediaStreams'](_0x5923fe){const _0x680418=_0x3565d6;if(!this[_0x680418(0x45a)][_0x680418(0x478)][_0x680418(0x741)](_0x4db2c7[_0x680418(0x6a7)]))throw new _0x27552e(_0x338970['FeatureNotEnabled'],_0x680418(0x5f0));try{return this[_0x680418(0x1a8)]['getRemoteMediaStreams'](_0x5923fe);}catch(_0x447eee){throw this[_0x680418(0x6ad)](_0x447eee,{});}}[_0x3565d6(0x739)](_0x456f4c,_0x47b359){const _0x447ee0=_0x3565d6;return this[_0x447ee0(0x3f9)]['getDistance'](_0x456f4c,_0x47b359);}[_0x3565d6(0x476)](){const _0x2f0282=_0x3565d6;return this['options'][_0x2f0282(0x321)];}[_0x3565d6(0x760)](){const _0x8505b9=_0x3565d6;return this[_0x8505b9(0x3f9)][_0x8505b9(0x760)]();}[_0x3565d6(0x5f7)](_0x1b96c7){const _0x4bcb32=_0x3565d6;try{return this[_0x4bcb32(0x3f9)][_0x4bcb32(0x5f7)](_0x1b96c7);}catch(_0x575594){throw this[_0x4bcb32(0x6ad)](_0x575594,{});}}async[_0x3565d6(0x624)](_0x492cf2){const _0x14addb=_0x3565d6;try{if(_0x11c0d7[_0x14addb(0x71b)](_0x3e1340[_0x14addb(0x2a8)],_0x14addb(0x1c9),this['nodeManager'][_0x14addb(0x434)](),_0x492cf2),_0x253ebf(_0x492cf2,this[_0x14addb(0x3f9)][_0x14addb(0x434)]()))return void this[_0x14addb(0x2f5)][_0x14addb(0x5ac)](_0x492cf2);switch(_0x492cf2[_0x14addb(0x6fd)]){case _0x3edd62[_0x14addb(0x422)]:this[_0x14addb(0x4df)][_0x14addb(0x557)](_0x492cf2),this[_0x14addb(0x58d)][_0x14addb(0x557)](_0x492cf2),this[_0x14addb(0x1a8)][_0x14addb(0x557)](_0x492cf2);break;case _0x3edd62[_0x14addb(0x49c)]:this[_0x14addb(0x58d)]['handleNodeSystemEvents'](_0x492cf2),this[_0x14addb(0x2f5)][_0x14addb(0x5af)](_0x492cf2),this[_0x14addb(0x1a8)]['handleNodeSystemEvents'](_0x492cf2),this['nodeManager'][_0x14addb(0x5af)](_0x492cf2);break;case _0x3edd62[_0x14addb(0x6b9)]:this[_0x14addb(0x4a3)]['handleDetectionSystemEvents'](_0x492cf2);break;case _0x3edd62['Remediation']:this[_0x14addb(0x4a3)][_0x14addb(0x416)](_0x492cf2);break;case _0x3edd62['Stats']:this[_0x14addb(0x1da)][_0x14addb(0x72a)](_0x492cf2);break;case _0x3edd62[_0x14addb(0x4fe)]:_0x492cf2[_0x14addb(0x379)][_0x14addb(0x2be)]!==_0x3fecff['UnsubscribeMediaStream']?(this[_0x14addb(0x58d)]['handleSubscriptionSystemEvents'](_0x492cf2),this['contentManager'][_0x14addb(0x650)](_0x492cf2)):(this[_0x14addb(0x1a8)][_0x14addb(0x650)](_0x492cf2),this['subscriptionManager']['handleSubscriptionSystemEvents'](_0x492cf2));break;case _0x3edd62['WebRTC']:await this[_0x14addb(0x2f5)]['handleWebRTCSystemEvents'](_0x492cf2),this[_0x14addb(0x4df)]['handleWebRTCSystemEvents'](_0x492cf2),this[_0x14addb(0x3f9)][_0x14addb(0x1cf)](_0x492cf2),this['subscriptionManager'][_0x14addb(0x1cf)](_0x492cf2);}}catch(_0xfa0d09){throw this[_0x14addb(0x6ad)](_0xfa0d09,{});}}['handleError'](_0x4de896,_0x5c98fa){const _0x3b2622=_0x3565d6;if(!(_0x4de896 instanceof _0x59eabb)){if(_0x4de896 instanceof _0x27552e)throw _0x4de896;if(!(_0x4de896 instanceof Error))throw new _0x27552e(_0x338970[_0x3b2622(0x605)],_0x3b2622(0x27e)+_0x4de896);if(!(_0x4de896 instanceof _0x1ca0c3))throw new _0x27552e(_0x338970[_0x3b2622(0x605)],_0x3b2622(0x5e4)+_0x4de896['message']);switch(_0x4de896['code']){case _0x1ca0c3[_0x3b2622(0x69c)][_0x3b2622(0x361)]:case _0x1ca0c3[_0x3b2622(0x69c)][_0x3b2622(0x1ca)]:case _0x1ca0c3[_0x3b2622(0x69c)][_0x3b2622(0x445)]:case _0x1ca0c3[_0x3b2622(0x69c)][_0x3b2622(0x67b)]:case _0x1ca0c3['codes']['ConnectionNotConnected']:case _0x1ca0c3['codes'][_0x3b2622(0x31f)]:case _0x1ca0c3['codes'][_0x3b2622(0x443)]:case _0x1ca0c3['codes'][_0x3b2622(0x5d1)]:case _0x1ca0c3[_0x3b2622(0x69c)]['SubscriptionRequestDoesNotExist']:case _0x1ca0c3['codes']['SubscriptionRequestFailed']:case _0x1ca0c3[_0x3b2622(0x69c)][_0x3b2622(0x6da)]:case _0x1ca0c3['codes']['InvalidSubscription']:}throw _0x11c0d7[_0x3b2622(0x683)](_0x3b2622(0x69b)+_0x4de896[_0x3b2622(0x2ea)],{'clusterId':this[_0x3b2622(0x390)],'userId':this[_0x3b2622(0x687)]['getId']()},_0x4de896),new _0x27552e(_0x338970['InternalSDKError'],_0x3b2622(0x3ed)+_0x4de896[_0x3b2622(0x2ea)]);}}[_0x3565d6(0x41e)](){const _0x5c4b74=_0x3565d6;return{'mediator':this,'vendorId':this[_0x5c4b74(0x740)],'clusterId':this['clusterId'],'localId':this['localUser'][_0x5c4b74(0x56e)]()};}[_0x3565d6(0x6e0)](){const _0xa14f71=_0x3565d6;return this['systemTopic'][_0xa14f71(0x61f)](_0x40218a=>{const _0x298f7f=_0xa14f71,_0x58f165=_0x34f224(_0x40218a,this[_0x298f7f(0x687)][_0x298f7f(0x56e)]()),_0x50459e=_0x40218a[_0x298f7f(0x6fd)]===_0x3edd62[_0x298f7f(0x2a9)]||_0x40218a['messageType']===_0x3edd62['WebRTC']&&_0x40218a[_0x298f7f(0x379)][_0x298f7f(0x2be)]===_0x25f14a[_0x298f7f(0x2a9)]?_0x3e1340[_0x298f7f(0x267)]:_0x3e1340[_0x298f7f(0x1e5)];_0x11c0d7[_0x298f7f(0x541)](_0x50459e,_0x40218a[_0x298f7f(0x731)]+_0x298f7f(0x58a)+_0x58f165,_0x40218a),this['handleSystemEvents'](_0x40218a)[_0x298f7f(0x1fd)](_0x3dab45=>{const _0x190b14=_0x298f7f;console[_0x190b14(0x683)](_0x3dab45);});});}async[_0x3565d6(0x349)](_0x33f5ec,_0x4d9f23){const _0x3e869f=_0x3565d6;_0x4d9f23=this['findNextAncestor'](_0x4d9f23),await _0x33f5ec[_0x3e869f(0x5d7)](_0x4d9f23,()=>this[_0x3e869f(0x349)](_0x33f5ec,_0x4d9f23));}[_0x3565d6(0x206)](_0x5910d2){const _0x374a83=_0x3565d6,_0xc586f=this[_0x374a83(0x3f9)]['getAncestorIds']();if(!_0x5910d2)return _0xc586f[0x0];const _0x53b75f=_0xc586f['findIndex'](_0x25e4b2=>_0x5910d2===_0x25e4b2),_0x50ebbf=_0xc586f[_0x53b75f+0x1];return _0xc586f[_0x374a83(0x49d)]>0x0&&!_0x50ebbf?_0x5910d2[0x0]:_0x50ebbf;}}class _0x4bbf37{[_0x3565d6(0x740)];[_0x3565d6(0x390)];['authUser'];[_0x3565d6(0x762)];[_0x3565d6(0x6a9)];constructor(_0x33c9b2,_0x1e6bd0,_0x3ac2d5,_0x5c1cdf,_0x47fe45,_0x1465e6,_0x5b0095=new _0x43b3dc()){const _0x41f431=_0x3565d6;this[_0x41f431(0x740)]=_0x33c9b2,this['clusterId']=_0x1e6bd0,this['authUser']=_0x3ac2d5,this[_0x41f431(0x762)]=_0x5b0095,this[_0x41f431(0x6a9)]=new _0x2496a7(this[_0x41f431(0x740)],this[_0x41f431(0x390)],_0x3ac2d5,_0x5c1cdf,_0x47fe45,_0x1465e6,this);}async['join'](){const _0x1bab3d=_0x3565d6;await this[_0x1bab3d(0x6a9)][_0x1bab3d(0x549)](),this['authUser']['registerCluster'](this[_0x1bab3d(0x390)],_0x492927=>{const _0x278c90=_0x1bab3d;this[_0x278c90(0x6a9)][_0x278c90(0x3ec)](_0x492927);});}['getUser'](){const _0x3e60a1=_0x3565d6,_0x3d312c=this[_0x3e60a1(0x6a9)]['getLocalUser']();return{'getId':_0x3d312c[_0x3e60a1(0x56e)]['bind'](_0x3d312c),'getDisplayName':_0x3d312c[_0x3e60a1(0x505)]['bind'](_0x3d312c),'getEmail':_0x3d312c[_0x3e60a1(0x496)][_0x3e60a1(0x65f)](_0x3d312c),'getRemoteConnections':_0x3d312c[_0x3e60a1(0x3e9)][_0x3e60a1(0x65f)](_0x3d312c),'setDisplayName':_0x3d312c[_0x3e60a1(0x501)]['bind'](_0x3d312c),'setEmail':_0x3d312c['setEmail'][_0x3e60a1(0x65f)](_0x3d312c)};}[_0x3565d6(0x325)](){const _0x4a0bf0=_0x3565d6;this[_0x4a0bf0(0x6a9)]['close'](),this[_0x4a0bf0(0x3a2)][_0x4a0bf0(0x27a)](this[_0x4a0bf0(0x390)]);}['openPubSubTopic'](_0x3783d9){const _0x1262c0=_0x3565d6,_0x5aa070=this[_0x1262c0(0x6a9)][_0x1262c0(0x43a)](_0x3783d9);return{'getLabel':_0x5aa070[_0x1262c0(0x5be)][_0x1262c0(0x65f)](_0x5aa070),'getOwnerId':_0x5aa070['getOwnerId'][_0x1262c0(0x65f)](_0x5aa070),'getContentType':_0x5aa070['getContentType'][_0x1262c0(0x65f)](_0x5aa070),'publish':_0x5aa070['publish'][_0x1262c0(0x65f)](_0x5aa070),'subscribe':_0x5aa070[_0x1262c0(0x61f)][_0x1262c0(0x65f)](_0x5aa070),'unsubscribe':_0x5aa070['unsubscribe'][_0x1262c0(0x65f)](_0x5aa070),'close':_0x5aa070[_0x1262c0(0x208)][_0x1262c0(0x65f)](_0x5aa070)};}async['openObjectStoreBucket'](_0x2faf56){const _0x290959=_0x3565d6,_0x398e59=await this[_0x290959(0x6a9)][_0x290959(0x209)](_0x2faf56);return{'getLabel':_0x398e59[_0x290959(0x5be)][_0x290959(0x65f)](_0x398e59),'getOwnerId':_0x398e59[_0x290959(0x6c8)][_0x290959(0x65f)](_0x398e59),'getContentType':_0x398e59[_0x290959(0x385)]['bind'](_0x398e59),'publish':_0x398e59[_0x290959(0x76d)][_0x290959(0x65f)](_0x398e59),'unpublish':_0x398e59[_0x290959(0x5a8)]['bind'](_0x398e59),'get':_0x398e59['get'][_0x290959(0x65f)](_0x398e59),'list':_0x398e59[_0x290959(0x299)][_0x290959(0x65f)](_0x398e59),'subscribe':_0x398e59['subscribe'][_0x290959(0x65f)](_0x398e59),'unsubscribe':_0x398e59[_0x290959(0x71d)]['bind'](_0x398e59),'close':_0x398e59[_0x290959(0x208)]['bind'](_0x398e59)};}async[_0x3565d6(0x3e8)](_0xb84334,_0x1ab51d){const _0x5a898b=_0x3565d6,_0x1d7ece=await this[_0x5a898b(0x6a9)][_0x5a898b(0x3e8)](_0xb84334,_0x1ab51d);return{'getTable':_0x1d7ece['getTable'][_0x5a898b(0x65f)](_0x1d7ece),'subscribe':_0x1d7ece[_0x5a898b(0x61f)][_0x5a898b(0x65f)](_0x1d7ece),'unsubscribe':_0x1d7ece[_0x5a898b(0x71d)][_0x5a898b(0x65f)](_0x1d7ece),'close':_0x1d7ece[_0x5a898b(0x208)][_0x5a898b(0x65f)](_0x1d7ece)};}['getPubSubTopics'](_0x4c47e2){const _0x17fed1=_0x3565d6;return this[_0x17fed1(0x6a9)][_0x17fed1(0x6bd)](_0x4c47e2)['map'](_0x4e39f9=>({'getLabel':_0x4e39f9[_0x17fed1(0x5be)]['bind'](_0x4e39f9),'getOwnerId':_0x4e39f9[_0x17fed1(0x6c8)][_0x17fed1(0x65f)](_0x4e39f9),'getContentType':_0x4e39f9[_0x17fed1(0x385)]['bind'](_0x4e39f9),'publish':_0x4e39f9[_0x17fed1(0x76d)][_0x17fed1(0x65f)](_0x4e39f9),'subscribe':_0x4e39f9[_0x17fed1(0x61f)][_0x17fed1(0x65f)](_0x4e39f9),'unsubscribe':_0x4e39f9[_0x17fed1(0x71d)]['bind'](_0x4e39f9),'close':_0x4e39f9[_0x17fed1(0x208)][_0x17fed1(0x65f)](_0x4e39f9)}));}[_0x3565d6(0x52b)](_0xffb387){const _0x553464=_0x3565d6;return this[_0x553464(0x6a9)][_0x553464(0x52b)](_0xffb387)['map'](_0x47213a=>({'getLabel':_0x47213a['getLabel'][_0x553464(0x65f)](_0x47213a),'getOwnerId':_0x47213a[_0x553464(0x6c8)][_0x553464(0x65f)](_0x47213a),'getContentType':_0x47213a[_0x553464(0x385)][_0x553464(0x65f)](_0x47213a),'publish':_0x47213a[_0x553464(0x76d)][_0x553464(0x65f)](_0x47213a),'unpublish':_0x47213a['unpublish'][_0x553464(0x65f)](_0x47213a),'get':_0x47213a[_0x553464(0x64f)][_0x553464(0x65f)](_0x47213a),'list':_0x47213a[_0x553464(0x299)][_0x553464(0x65f)](_0x47213a),'subscribe':_0x47213a[_0x553464(0x61f)][_0x553464(0x65f)](_0x47213a),'unsubscribe':_0x47213a[_0x553464(0x71d)]['bind'](_0x47213a),'close':_0x47213a[_0x553464(0x208)][_0x553464(0x65f)](_0x47213a)}));}[_0x3565d6(0x221)](_0x670fd2){const _0x3735f3=_0x3565d6;return this[_0x3735f3(0x6a9)][_0x3735f3(0x221)](_0x670fd2)[_0x3735f3(0x311)](_0x3a8ae3=>({'getTable':_0x3a8ae3['getTable'][_0x3735f3(0x65f)](_0x3a8ae3),'subscribe':_0x3a8ae3[_0x3735f3(0x61f)][_0x3735f3(0x65f)](_0x3a8ae3),'unsubscribe':_0x3a8ae3['unsubscribe'][_0x3735f3(0x65f)](_0x3a8ae3),'close':_0x3a8ae3['close']['bind'](_0x3a8ae3)}));}[_0x3565d6(0x4d5)](_0x4fc56a,_0x3d3ee1){const _0x43a1c6=_0x3565d6,_0x2318b7=this[_0x43a1c6(0x6a9)]['createLocalMediaStream'](_0x4fc56a,_0x3d3ee1);return{'getLabel':_0x2318b7['getLabel']['bind'](_0x2318b7),'getOwnerId':_0x2318b7[_0x43a1c6(0x6c8)][_0x43a1c6(0x65f)](_0x2318b7),'getContentType':_0x2318b7[_0x43a1c6(0x385)]['bind'](_0x2318b7),'getMediaStream':_0x2318b7[_0x43a1c6(0x6d6)][_0x43a1c6(0x65f)](_0x2318b7),'setPriority':_0x2318b7[_0x43a1c6(0x62a)]['bind'](_0x2318b7),'unpublish':_0x2318b7['unpublish'][_0x43a1c6(0x65f)](_0x2318b7)};}['publishLocalDynamicMediaStream'](_0x55677c,_0x3b955a){const _0x272f65=_0x3565d6,_0x3c116f=this[_0x272f65(0x6a9)]['createLocalDynamicMediaStream'](_0x55677c,_0x3b955a);return{'getLabel':_0x3c116f[_0x272f65(0x5be)]['bind'](_0x3c116f),'getOwnerId':_0x3c116f[_0x272f65(0x6c8)][_0x272f65(0x65f)](_0x3c116f),'getContentType':_0x3c116f[_0x272f65(0x385)][_0x272f65(0x65f)](_0x3c116f),'setPriority':_0x3c116f[_0x272f65(0x62a)][_0x272f65(0x65f)](_0x3c116f),'unpublish':_0x3c116f[_0x272f65(0x5a8)][_0x272f65(0x65f)](_0x3c116f),'getMediaStream':_0x3c116f['getMediaStream'][_0x272f65(0x65f)](_0x3c116f),'addTrack':_0x3c116f[_0x272f65(0x598)][_0x272f65(0x65f)](_0x3c116f),'removeTrack':_0x3c116f[_0x272f65(0x3eb)][_0x272f65(0x65f)](_0x3c116f),'replaceTrack':_0x3c116f['replaceTrack'][_0x272f65(0x65f)](_0x3c116f),'setTransformations':_0x3c116f[_0x272f65(0x573)][_0x272f65(0x65f)](_0x3c116f)};}[_0x3565d6(0x632)](_0x4c5932){const _0x311ff0=_0x3565d6;return this[_0x311ff0(0x6a9)][_0x311ff0(0x632)](_0x4c5932)[_0x311ff0(0x311)](_0x568d27=>({'getLabel':_0x568d27[_0x311ff0(0x5be)]['bind'](_0x568d27),'getOwnerId':_0x568d27['getOwnerId'][_0x311ff0(0x65f)](_0x568d27),'getContentType':_0x568d27[_0x311ff0(0x385)]['bind'](_0x568d27),'getMediaStream':_0x568d27[_0x311ff0(0x6d6)]['bind'](_0x568d27),'setPriority':_0x568d27['setPriority'][_0x311ff0(0x65f)](_0x568d27),'unpublish':_0x568d27[_0x311ff0(0x5a8)]['bind'](_0x568d27)}));}[_0x3565d6(0x6e2)](_0x2efb08){const _0x13a199=_0x3565d6;return this[_0x13a199(0x6a9)]['getRemoteMediaStreams'](_0x2efb08)[_0x13a199(0x311)](_0xfd970b=>({'getLabel':_0xfd970b['getLabel'][_0x13a199(0x65f)](_0xfd970b),'getOwnerId':_0xfd970b[_0x13a199(0x6c8)]['bind'](_0xfd970b),'getContentType':_0xfd970b[_0x13a199(0x385)]['bind'](_0xfd970b),'getMediaStream':_0xfd970b['getMediaStream']['bind'](_0xfd970b),'subscribe':_0xfd970b['subscribe'][_0x13a199(0x65f)](_0xfd970b),'unsubscribe':_0xfd970b[_0x13a199(0x71d)]['bind'](_0xfd970b),'getAvailableTrackKinds':_0xfd970b['getAvailableTrackKinds']['bind'](_0xfd970b),'update':_0xfd970b['update'][_0x13a199(0x65f)](_0xfd970b),'onProviderChanged':_0xfd970b[_0x13a199(0x5cf)]['bind'](_0xfd970b)}));}[_0x3565d6(0x5f7)](_0xbb7e3c){const _0x253197=_0x3565d6;return this[_0x253197(0x6a9)]['getRemoteUsers'](_0xbb7e3c)[_0x253197(0x311)](_0x36e6c6=>({'getId':_0x36e6c6[_0x253197(0x56e)]['bind'](_0x36e6c6),'getDisplayName':_0x36e6c6[_0x253197(0x505)][_0x253197(0x65f)](_0x36e6c6),'getEmail':_0x36e6c6['getEmail'][_0x253197(0x65f)](_0x36e6c6),'getRemoteConnections':_0x36e6c6['getRemoteConnections'][_0x253197(0x65f)](_0x36e6c6)}));}['on']=(..._0x209c02)=>{const _0x46ec63=_0x3565d6;this[_0x46ec63(0x762)]['on'](..._0x209c02);};[_0x3565d6(0x278)]=(..._0x1b43ee)=>this['eventEmitter'][_0x3565d6(0x278)](..._0x1b43ee);[_0x3565d6(0x3db)](..._0x2303b2){const _0x22ffb3=_0x3565d6;this['eventEmitter'][_0x22ffb3(0x3db)](..._0x2303b2);}}class _0x29d8c5{['id'];[_0x3565d6(0x29a)];[_0x3565d6(0x4e0)];[_0x3565d6(0x535)]=new Map();[_0x3565d6(0x49a)]=_0x25e35b();constructor(_0x3b2e28,_0xe4456b,_0x3ec558){const _0x13b8fb=_0x3565d6;this['id']=_0x3b2e28,this[_0x13b8fb(0x29a)]=_0xe4456b,this[_0x13b8fb(0x4e0)]=_0x3ec558;}[_0x3565d6(0x56e)](){return this['id'];}['getDisplayName'](){const _0x35527b=_0x3565d6;return this[_0x35527b(0x29a)];}[_0x3565d6(0x496)](){const _0x865c58=_0x3565d6;return this[_0x865c58(0x4e0)];}[_0x3565d6(0x501)](_0x22ac36){const _0x329af4=_0x3565d6;this[_0x329af4(0x29a)]!==_0x22ac36&&(this[_0x329af4(0x29a)]=_0x22ac36,this[_0x329af4(0x49a)][_0x329af4(0x76d)](this));}['setEmail'](_0xa956d4){const _0x569cef=_0x3565d6;this[_0x569cef(0x4e0)]!==_0xa956d4&&(this[_0x569cef(0x4e0)]=_0xa956d4,this['observer'][_0x569cef(0x76d)](this));}[_0x3565d6(0x617)](_0x5d7412,_0x16fbbf){const _0x15a66b=_0x3565d6;if(this[_0x15a66b(0x535)][_0x15a66b(0x645)](_0x5d7412))return;const _0x5aca75=this[_0x15a66b(0x49a)][_0x15a66b(0x61f)](_0x16fbbf);this[_0x15a66b(0x535)][_0x15a66b(0x5bc)](_0x5d7412,_0x5aca75);}[_0x3565d6(0x27a)](_0x290af9){const _0x4c1ff6=_0x3565d6;if(!this[_0x4c1ff6(0x535)][_0x4c1ff6(0x645)](_0x290af9))return;const _0x59ed07=this['joinedClusters'][_0x4c1ff6(0x64f)](_0x290af9);_0x59ed07&&_0x59ed07(),this[_0x4c1ff6(0x535)]['delete'](_0x290af9);}}class _0x17d009{[_0x3565d6(0x740)];['user'];constructor(_0x46a916){const _0x582c7d=_0x3565d6;this[_0x582c7d(0x740)]=_0x46a916;}async['signInWithCredential'](_0xf332e6){const _0x507d57=_0x3565d6,_0x1e3c9f=await(0x0,_0x3fb019['httpsCallable'])(_0x44908d[_0x507d57(0x1ba)](),_0x507d57(0x291))({'uid':_0x507d57(0x522)+this[_0x507d57(0x740)]+_0x507d57(0x522)+_0xf332e6['id']}),_0x34c847=await(0x0,_0x17ea0c['signInWithCustomToken'])(_0x44908d[_0x507d57(0x611)](),_0x1e3c9f[_0x507d57(0x23a)][_0x507d57(0x658)]);this['user']=_0x34c847[_0x507d57(0x395)];}[_0x3565d6(0x6ab)](){const _0x4c7b23=_0x3565d6;return this['user']?.[_0x4c7b23(0x6ab)]()??Promise[_0x4c7b23(0x537)](_0x4c7b23(0x2ce));}}const _0xe45b3c=require('webrtc-adapter');var _0x335713,_0x243286=_0x392c7b['n'](_0xe45b3c);!function(_0x8f52cb){const _0x1466a0=_0x3565d6;_0x8f52cb[_0x1466a0(0x4c2)]=_0x1466a0(0x4c2),_0x8f52cb[_0x1466a0(0x6a7)]=_0x1466a0(0x6a7),_0x8f52cb['ScreenSharing']=_0x1466a0(0x3b6),_0x8f52cb[_0x1466a0(0x31a)]=_0x1466a0(0x31a),_0x8f52cb[_0x1466a0(0x46b)]=_0x1466a0(0x46b),_0x8f52cb['AudioOutput']='AudioOutput',_0x8f52cb['Recording']=_0x1466a0(0x28e),_0x8f52cb['Backgrounds']=_0x1466a0(0x6f6),_0x8f52cb[_0x1466a0(0x54a)]=_0x1466a0(0x54a);}(_0x335713||(_0x335713={}));class _0x1d902d{static [_0x3565d6(0x4e6)];['browser'];[_0x3565d6(0x458)];[_0x3565d6(0x74e)]=[];constructor(){const _0x422993=_0x3565d6;this[_0x422993(0x75b)]=_0x243286()[_0x422993(0x220)][_0x422993(0x75b)],this['browserVersion']=_0x243286()[_0x422993(0x220)][_0x422993(0x499)];}static[_0x3565d6(0x690)](){const _0x3e312c=_0x3565d6;return _0x1d902d['instance']||(_0x1d902d[_0x3e312c(0x4e6)]=new _0x1d902d()),_0x1d902d['instance'];}['initialize'](){const _0x55801d=_0x3565d6;this[_0x55801d(0x30d)](),this[_0x55801d(0x6ba)](),this[_0x55801d(0x50c)](),this['checkAudioVolume'](),this[_0x55801d(0x1a1)](),this[_0x55801d(0x424)](),this['checkMediaRecording'](),this[_0x55801d(0x51b)](),this[_0x55801d(0x2cc)](),_0x11c0d7['log'](_0x3e1340[_0x55801d(0x3d4)],_0x55801d(0x54c),{'browser':this[_0x55801d(0x75b)],'browserVersion':this[_0x55801d(0x458)],'featureSupport':this[_0x55801d(0x74e)]});}[_0x3565d6(0x337)](_0x45ce5b){const _0x1cdf05=_0x3565d6,_0x199e18=this['featureSupport']['find'](_0x28b5ef=>_0x28b5ef[_0x1cdf05(0x685)]===_0x45ce5b);return!!_0x199e18&&_0x199e18[_0x1cdf05(0x74f)];}['logSupport'](_0x36b706){const _0x211bca=_0x3565d6;_0x11c0d7['logEvent'](_0x211bca(0x4d3),{'userId':_0x36b706,'data':{'browser':this[_0x211bca(0x75b)],'browserVersion':this['browserVersion'],'featureSupport':this['featureSupport']}});}[_0x3565d6(0x30d)](){const _0x84c863=_0x3565d6,_0x34859f=_0x335713[_0x84c863(0x4c2)];let _0x45b9ba=!0x1;_0x84c863(0x281)==typeof RTCPeerConnection&&_0x84c863(0x281)==typeof RTCIceCandidate&&'function'==typeof RTCSessionDescription?_0x45b9ba=!0x0:_0x11c0d7[_0x84c863(0x71b)](_0x3e1340['Support'],_0x84c863(0x2f9)+_0x34859f+_0x84c863(0x6e3)),window['navigator'][_0x84c863(0x581)]&&/(Version\/\d+.*\/\d+.0.0.0 Mobile|; ?wv)/i['test'](window['navigator'][_0x84c863(0x581)])&&(_0x45b9ba=!0x1,_0x11c0d7['log'](_0x3e1340[_0x84c863(0x3d4)],_0x84c863(0x2f9)+_0x34859f+_0x84c863(0x6e3))),_0x84c863(0x1cd)===this['browser']&&this[_0x84c863(0x458)]&&this[_0x84c863(0x458)]<0x68&&(_0x45b9ba=!0x1,_0x11c0d7[_0x84c863(0x71b)](_0x3e1340[_0x84c863(0x3d4)],'Support:\x20'+_0x34859f+_0x84c863(0x71a))),_0x84c863(0x1d2)===this[_0x84c863(0x75b)]&&this[_0x84c863(0x458)]&&this['browserVersion']<0x68&&(_0x45b9ba=!0x1,_0x11c0d7[_0x84c863(0x71b)](_0x3e1340[_0x84c863(0x3d4)],_0x84c863(0x2f9)+_0x34859f+_0x84c863(0x5a4)));try{_0x84c863(0x5b5)===this[_0x84c863(0x75b)]&&(this[_0x84c863(0x458)]&&this[_0x84c863(0x458)]<0xf||!window[_0x84c863(0x2bf)][_0x84c863(0x581)]||window[_0x84c863(0x2bf)]&&window[_0x84c863(0x2bf)][_0x84c863(0x581)]&&_0x84c863(0x5c6)==typeof window[_0x84c863(0x2bf)][_0x84c863(0x581)]&&parseInt(window[_0x84c863(0x2bf)]['userAgent'][_0x84c863(0x588)](/Version\/([^\.]+)/i)?.[0x1]||'0',0xa)<0xf)&&(_0x45b9ba=!0x1,_0x11c0d7[_0x84c863(0x71b)](_0x3e1340[_0x84c863(0x3d4)],_0x84c863(0x2f9)+_0x34859f+_0x84c863(0x5a2)));}catch(_0x38b2a5){_0x11c0d7['log'](_0x3e1340[_0x84c863(0x3d4)],_0x84c863(0x450),window[_0x84c863(0x2bf)][_0x84c863(0x581)]);}_0x84c863(0x219)===this[_0x84c863(0x75b)]&&this['browserVersion']&&this[_0x84c863(0x458)]<0x68&&(_0x45b9ba=!0x1,_0x11c0d7['log'](_0x3e1340['Support'],_0x84c863(0x2f9)+_0x34859f+_0x84c863(0x6a8))),_0x84c863(0x3cc)===this[_0x84c863(0x75b)]&&this[_0x84c863(0x458)]&&this[_0x84c863(0x458)]<0x5a&&(_0x45b9ba=!0x1,_0x11c0d7[_0x84c863(0x71b)](_0x3e1340[_0x84c863(0x3d4)],'Support:\x20'+_0x34859f+_0x84c863(0x4c1))),this[_0x84c863(0x74e)][_0x84c863(0x495)]({'name':_0x34859f,'supported':_0x45b9ba});}[_0x3565d6(0x6ba)](){const _0x1012e9=_0x3565d6,_0x2b3c23=_0x335713[_0x1012e9(0x6a7)];let _0x262bb5=!0x1;_0x1012e9(0x281)==typeof MediaStream&&_0x1012e9(0x281)==typeof MediaStreamTrack&&_0x1012e9(0x41c)==typeof navigator&&_0x1012e9(0x41c)==typeof navigator[_0x1012e9(0x5aa)]&&'function'==typeof navigator[_0x1012e9(0x5aa)][_0x1012e9(0x507)]?_0x262bb5=!0x0:_0x11c0d7[_0x1012e9(0x71b)](_0x3e1340[_0x1012e9(0x3d4)],_0x1012e9(0x2f9)+_0x2b3c23+'\x20not\x20supported'),this[_0x1012e9(0x74e)][_0x1012e9(0x495)]({'name':_0x2b3c23,'supported':_0x262bb5});}[_0x3565d6(0x50c)](){const _0x16f6b7=_0x3565d6,_0x18e258=_0x335713[_0x16f6b7(0x3b6)];let _0x59298e=!0x1;'object'==typeof navigator&&_0x16f6b7(0x41c)==typeof navigator['mediaDevices']&&_0x16f6b7(0x281)==typeof navigator[_0x16f6b7(0x5aa)][_0x16f6b7(0x1d5)]?_0x59298e=!0x0:_0x11c0d7[_0x16f6b7(0x71b)](_0x3e1340[_0x16f6b7(0x3d4)],_0x16f6b7(0x2f9)+_0x18e258+'\x20not\x20supported'),this['featureSupport'][_0x16f6b7(0x495)]({'name':_0x18e258,'supported':_0x59298e});}[_0x3565d6(0x1fa)](){const _0x2a3d4d=_0x3565d6,_0x465a58=_0x335713[_0x2a3d4d(0x31a)];let _0x23b5dc=!0x1;_0x2a3d4d(0x281)!=typeof AudioContext||_0x2a3d4d(0x281)!=typeof ScriptProcessorNode&&_0x2a3d4d(0x281)!=typeof AudioWorkletNode||_0x2a3d4d(0x281)!=typeof MediaStreamAudioSourceNode?_0x11c0d7[_0x2a3d4d(0x71b)](_0x3e1340[_0x2a3d4d(0x3d4)],_0x2a3d4d(0x2f9)+_0x465a58+_0x2a3d4d(0x6e3)):_0x23b5dc=!0x0,this[_0x2a3d4d(0x74e)][_0x2a3d4d(0x495)]({'name':_0x465a58,'supported':_0x23b5dc});}[_0x3565d6(0x1a1)](){const _0x4935bc=_0x3565d6,_0x1680fa=_0x335713[_0x4935bc(0x46b)];let _0x55e957=!0x1;'object'==typeof navigator&&_0x4935bc(0x41c)==typeof navigator['mediaDevices']&&_0x4935bc(0x281)==typeof navigator[_0x4935bc(0x5aa)][_0x4935bc(0x6ae)]&&_0x4935bc(0x281)==typeof MediaDeviceInfo?_0x55e957=!0x0:_0x11c0d7[_0x4935bc(0x71b)](_0x3e1340[_0x4935bc(0x3d4)],_0x4935bc(0x2f9)+_0x1680fa+_0x4935bc(0x6e3)),this['featureSupport'][_0x4935bc(0x495)]({'name':_0x1680fa,'supported':_0x55e957});}[_0x3565d6(0x424)](){const _0x1445fe=_0x3565d6,_0x4dec9d=_0x335713[_0x1445fe(0x369)];let _0x52566f=!0x1;_0x1445fe(0x281)==typeof document[_0x1445fe(0x25c)](_0x1445fe(0x612))[_0x1445fe(0x467)]?_0x52566f=!0x0:_0x11c0d7[_0x1445fe(0x71b)](_0x3e1340[_0x1445fe(0x3d4)],'Support:\x20'+_0x4dec9d+'\x20not\x20supported'),this[_0x1445fe(0x74e)]['push']({'name':_0x4dec9d,'supported':_0x52566f});}async[_0x3565d6(0x19b)](){const _0x593934=_0x3565d6,_0x1ddc87=_0x335713['Recording'];let _0x31f9bb=!0x1;try{const _0x382759=document[_0x593934(0x25c)](_0x593934(0x2e3));if(window[_0x593934(0x47b)]&&window[_0x593934(0x280)]&&_0x382759[_0x593934(0x1c6)]){const _0xbb415=_0x382759[_0x593934(0x1c6)](),_0x368932=new MediaRecorder(_0xbb415);_0x368932[_0x593934(0x3a4)](),await new Promise(_0x3149ee=>setTimeout(_0x3149ee,0x7d0)),_0x368932['stop'](),_0x31f9bb='inactive'===_0x368932[_0x593934(0x2c4)];}}catch(_0x5dee93){_0x11c0d7[_0x593934(0x71b)](_0x3e1340[_0x593934(0x3d4)],'Support:\x20'+_0x1ddc87+_0x593934(0x43b),_0x5dee93);}this[_0x593934(0x74e)][_0x593934(0x495)]({'name':_0x1ddc87,'supported':_0x31f9bb}),_0x31f9bb||_0x11c0d7[_0x593934(0x71b)](_0x3e1340[_0x593934(0x3d4)],_0x593934(0x2f9)+_0x1ddc87+_0x593934(0x6e3));}[_0x3565d6(0x51b)](){const _0x4bc805=_0x3565d6,_0x3e8172=_0x335713[_0x4bc805(0x6f6)];let _0xb44e93=!0x1;try{document['createElement'](_0x4bc805(0x2e3))['captureStream']&&(_0xb44e93=!0x0);}catch(_0x4085d1){_0x11c0d7[_0x4bc805(0x71b)](_0x3e1340[_0x4bc805(0x3d4)],_0x4bc805(0x2f9)+_0x3e8172+_0x4bc805(0x43b),_0x4085d1);}this[_0x4bc805(0x74e)]['push']({'name':_0x3e8172,'supported':_0xb44e93}),_0xb44e93||_0x11c0d7[_0x4bc805(0x71b)](_0x3e1340['Support'],_0x4bc805(0x2f9)+_0x3e8172+_0x4bc805(0x6e3));}[_0x3565d6(0x2cc)](){const _0x295e2f=_0x3565d6,_0x424429=_0x335713[_0x295e2f(0x54a)];let _0x2a39ae=!0x1;try{const _0x2fb9cb=document[_0x295e2f(0x25c)](_0x295e2f(0x2e3));window['WebGLRenderingContext']&&_0x2fb9cb[_0x295e2f(0x6d1)]('webgl')&&(_0x2a39ae=!0x0);}catch(_0x143f30){_0x11c0d7[_0x295e2f(0x71b)](_0x3e1340[_0x295e2f(0x3d4)],_0x295e2f(0x2f9)+_0x424429+_0x295e2f(0x43b),_0x143f30);}this[_0x295e2f(0x74e)]['push']({'name':_0x424429,'supported':_0x2a39ae}),_0x2a39ae||_0x11c0d7[_0x295e2f(0x71b)](_0x3e1340[_0x295e2f(0x3d4)],'Support:\x20'+_0x424429+_0x295e2f(0x6e3));}}const _0xf27bca=_0x1d902d[_0x3565d6(0x690)]();class _0x2703c0{static [_0x3565d6(0x4e6)];[_0x3565d6(0x481)];['vendorId'];[_0x3565d6(0x716)];[_0x3565d6(0x45a)];[_0x3565d6(0x57a)];constructor(_0x3879e6,_0x31251d,_0x34f11d){const _0x4e2580=_0x3565d6;this[_0x4e2580(0x740)]=_0x3879e6,this[_0x4e2580(0x45a)]=_0x31251d,this[_0x4e2580(0x481)]=new _0x17d009(this[_0x4e2580(0x740)]),this[_0x4e2580(0x716)]={'audioContext':_0x34f11d?.[_0x4e2580(0x321)]??new AudioContext(),'maxOutgoingSubscriptions':_0x34f11d?.[_0x4e2580(0x2ff)]??0x1,'minConnections':_0x34f11d?.[_0x4e2580(0x4c5)]??0x3,'maxConnections':_0x34f11d?.[_0x4e2580(0x360)]??(_0x34f11d?.[_0x4e2580(0x4c5)]&&0x4*_0x34f11d['minConnections'])??0xc,'maxDistance':_0x34f11d?.[_0x4e2580(0x330)]??0xa,'maxFps':_0x34f11d?.['maxFps']??0x18,'maxBpp':_0x34f11d?.[_0x4e2580(0x400)]??0.12},_0x34f11d?.['disableIntervalHack']&&_0x42f599['startNoThrottlingHack'](this[_0x4e2580(0x716)][_0x4e2580(0x321)]),_0x11c0d7[_0x4e2580(0x439)](this[_0x4e2580(0x740)]),_0x34f11d?.[_0x4e2580(0x62f)]&&_0x11c0d7[_0x4e2580(0x224)](_0x34f11d[_0x4e2580(0x62f)]),_0xf27bca[_0x4e2580(0x549)]();}static async[_0x3565d6(0x690)](_0x4a7a9e,_0x51eccf,_0x3766ed){const _0x3903cb=_0x3565d6,_0x559ff0=await this[_0x3903cb(0x20b)](_0x4a7a9e,_0x51eccf);return _0x2703c0[_0x3903cb(0x4e6)]||(_0x2703c0[_0x3903cb(0x4e6)]=new _0x2703c0(_0x4a7a9e,_0x559ff0,_0x3766ed)),{'authenticateUser':_0x2703c0[_0x3903cb(0x4e6)][_0x3903cb(0x468)][_0x3903cb(0x65f)](_0x2703c0[_0x3903cb(0x4e6)]),'joinCluster':_0x2703c0[_0x3903cb(0x4e6)]['joinCluster'][_0x3903cb(0x65f)](_0x2703c0[_0x3903cb(0x4e6)])};}static async[_0x3565d6(0x1e2)](){return _0x44908d['getEstimatedTimestamp']();}static async[_0x3565d6(0x20b)](_0x1e4dcb,_0x49b083){const _0x573442=_0x3565d6,_0x13869d=(await(0x0,_0x3fb019[_0x573442(0x231)])(_0x44908d[_0x573442(0x1ba)](),_0x573442(0x2b8))({'vendorId':_0x1e4dcb,'accessToken':_0x49b083}))['data'];return _0x13869d['features']||(_0x13869d[_0x573442(0x478)]=[]),_0x13869d;}async[_0x3565d6(0x468)](_0x504e36){const _0x1274d5=_0x3565d6;await this[_0x1274d5(0x481)]['signInWithCredential'](_0x504e36);const _0x2c8c1a=new _0x29d8c5(_0x504e36['id'],_0x504e36['displayName'],_0x504e36[_0x1274d5(0x4e0)]);return this[_0x1274d5(0x57a)]={'user':_0x2c8c1a},_0xf27bca[_0x1274d5(0x56b)](_0x2c8c1a[_0x1274d5(0x56e)]()),{'getId':_0x2c8c1a[_0x1274d5(0x56e)][_0x1274d5(0x65f)](_0x2c8c1a),'getDisplayName':_0x2c8c1a[_0x1274d5(0x505)][_0x1274d5(0x65f)](_0x2c8c1a),'getEmail':_0x2c8c1a['getEmail'][_0x1274d5(0x65f)](_0x2c8c1a),'setDisplayName':_0x2c8c1a['setDisplayName']['bind'](_0x2c8c1a),'setEmail':_0x2c8c1a[_0x1274d5(0x736)][_0x1274d5(0x65f)](_0x2c8c1a)};}async[_0x3565d6(0x51a)](_0x5a1355){const _0x1c31b1=_0x3565d6;if(!this[_0x1c31b1(0x57a)])throw new _0x27552e(_0x338970[_0x1c31b1(0x340)],'User\x20not\x20authenticated');const _0x38cad0=new _0x4bbf37(this[_0x1c31b1(0x740)],_0x5a1355,this[_0x1c31b1(0x57a)][_0x1c31b1(0x395)],this[_0x1c31b1(0x481)],this[_0x1c31b1(0x716)],this[_0x1c31b1(0x45a)]);return await _0x38cad0[_0x1c31b1(0x2c0)](),_0x11c0d7[_0x1c31b1(0x6c4)](_0x1c31b1(0x440),{'clusterId':_0x5a1355,'userId':this[_0x1c31b1(0x57a)][_0x1c31b1(0x395)][_0x1c31b1(0x56e)]()}),{'leave':_0x38cad0[_0x1c31b1(0x325)][_0x1c31b1(0x65f)](_0x38cad0),'getUser':_0x38cad0[_0x1c31b1(0x523)]['bind'](_0x38cad0),'openPubSubTopic':_0x38cad0[_0x1c31b1(0x43a)][_0x1c31b1(0x65f)](_0x38cad0),'openObjectStoreBucket':_0x38cad0[_0x1c31b1(0x209)][_0x1c31b1(0x65f)](_0x38cad0),'openKeyValueDatabase':_0x38cad0[_0x1c31b1(0x3e8)][_0x1c31b1(0x65f)](_0x38cad0),'publishLocalMediaStream':_0x38cad0[_0x1c31b1(0x4d5)][_0x1c31b1(0x65f)](_0x38cad0),'publishLocalDynamicMediaStream':_0x38cad0[_0x1c31b1(0x6ce)]['bind'](_0x38cad0),'getPubSubTopics':_0x38cad0[_0x1c31b1(0x6bd)]['bind'](_0x38cad0),'getObjectStoreBuckets':_0x38cad0[_0x1c31b1(0x52b)]['bind'](_0x38cad0),'getKeyValueDatabases':_0x38cad0[_0x1c31b1(0x221)][_0x1c31b1(0x65f)](_0x38cad0),'getLocalMediaStreams':_0x38cad0[_0x1c31b1(0x632)][_0x1c31b1(0x65f)](_0x38cad0),'getRemoteMediaStreams':_0x38cad0[_0x1c31b1(0x6e2)]['bind'](_0x38cad0),'getRemoteUsers':_0x38cad0['getRemoteUsers'][_0x1c31b1(0x65f)](_0x38cad0),'on':_0x38cad0['on'][_0x1c31b1(0x65f)](_0x38cad0),'off':_0x38cad0['off'][_0x1c31b1(0x65f)](_0x38cad0)};}}const _0x45fe14=require('@datadog/browser-logs');class _0x20e439{constructor(_0x4ab234,_0x1e019c,_0x5005f0){const _0x2349d4=_0x3565d6;_0x45fe14[_0x2349d4(0x308)]['init']({'clientToken':_0x4ab234,'site':_0x1e019c,'service':_0x2349d4(0x750),'env':_0x5005f0,'version':_0x1234ec[_0x2349d4(0x499)]});}['log'](_0x32fbbd,_0xddb1e7){const _0x4e58ca=_0x3565d6;_0x45fe14[_0x4e58ca(0x308)][_0x4e58ca(0x583)][_0x4e58ca(0x757)](_0x32fbbd,_0xddb1e7);}[_0x3565d6(0x421)](_0x37b8e9,_0x344196){_0x45fe14['datadogLogs']['logger']['warn'](_0x37b8e9,_0x344196);}[_0x3565d6(0x683)](_0x1713c8,_0x43a1a6){const _0x24b4ab=_0x3565d6;_0x45fe14[_0x24b4ab(0x308)][_0x24b4ab(0x583)][_0x24b4ab(0x683)](_0x1713c8,_0x43a1a6);}[_0x3565d6(0x5b7)](){return[];}}})()),_0x9dbad0;})())));