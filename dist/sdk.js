function a0_0x4e89(_0x3f5ace,_0x1ea233){const _0xa715c=a0_0xa715();return a0_0x4e89=function(_0x4e899f,_0x5b2278){_0x4e899f=_0x4e899f-0x18a;let _0xdd516b=_0xa715c[_0x4e899f];return _0xdd516b;},a0_0x4e89(_0x3f5ace,_0x1ea233);}function a0_0xa715(){const _0x4346c7=['addVideoTrack','propagate','key-value-database-table-name-reserved','clearUpgradeTimeout','retryQueue','storage','waitConnected','ConnectionGroup','handleChunkMessage','maxBitrate','Table\x20not\x20found','setItem','configure','topic','AudioContext','Cannot\x20get\x20file:\x20','publishSyncCompleted','checkMediaStream','setLoggingConnectors','processDataChannelReport','MediaStream\x20feature\x20not\x20enabled','Sender','FileWrite','Answer','messageType','result','content','1056658ylvINo','key-value-database-transaction-value-not-set','/nodes/','setSinkId','map','removeTrackListeners','getMinConnections','framesEncoded','PublishMediaStream','number','listenerUnsubscribers','getStatus','handleObjectDelete','Everyone\x20','candidate','CanProvideMediaStream','Accepted','Emitting\x20event\x20on\x20local\x20cluster','handleContentCloseObjectStore','object','removeRemoteNode','handleDetectionSystemEvents','not-in','getPriority','load','cluster-already-joined','component','startHeartbeat','Connection\x20does\x20not\x20exist.','setStatus','PubSubTopic\x20publish','stopConnection','object-store-already-subscribed','writeFile','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','indexOf','bind','Resolution','disableIntervalHack','remoteId','publishLocalDynamicMediaStream','getPartsFromSubscription','Cannot\x20list\x20directory:\x20','newPath','digest','Remote\x20MediaStream\x20already\x20exists','Events','connections','previousBytes','handleSubscribeMediaStream','includes','Failed\x20to\x20create\x20key\x20value\x20database','notifyJoin','4350458JpLpac','setDisplayName','topics','currentBatch','handshakeState','problemType','publishUserUpdate','subscriptionRequestTimeouts','availableTrackKinds','find','handleSubscriptionProvideMediaStream','handleContentCloseKeyValueDatabase','value','publishMove','Problem\x20detected:\x20','subscription-request-failed','processReport','maxBpp','encode','featureSupport','joinedAt','senderCurrentTimestamp','getRemoteNodes','nextNodeId','moveObject','support','getShareableStream','Bitrate','Cannot\x20publish\x20payload:\x20','Consuming\x20buffered\x20event','High','senders','unsubscribeTrackEndedListener','transactionsToSync','Data\x20cluster\x20is\x20not\x20open.','invalid-subscriber','subscriptionRequestsQueue','developers/','ObjectStoreInvalidPath','MediaStreamPriority','timestamp','openObjectStoreBucket','RemoteAdd','replace','server','parameters','cpu.cycle','logEvent','getAncestorIds','split','\x20check\x20failed','stringify','supportsContentType','feature-not-enabled','remoteMediaStreams','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','ObjectStoreCannotWriteTransaction','Invalid\x20peer\x20connection\x20event\x20destination.','Early\x20return','audioSource','discover','push','Local\x20node\x20rank\x20is\x20not\x20set','Upgrade','user-join','downgrade','DatabaseEvent','getSupportedContentTypes','list','request-file-sync','tableName','onTrack','mediator','ConnectionNotinitialized','scheduleTime','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','connection-not-initialized','Rejected','byteLength','setupStatsCollection','onBufferedAmountLow','getCurrentVersion','getSubscribedTracks','KeyValueDatabaseInvalidLayout','CloseMediaStream','createElement','cancel','findNextNodeId','clear','logRaw','getLocalId','Count','distance','commitBatch','remediation','addConnection','frameHeight','Support:\x20','remediationManager','gatheringState','System','isConnected','some','subscription','appsync-connect-fail','detectProblems','setDurationTime','setParams','signInWithCredential','packetsLost','leave','answers','dbKey','transactionService','currentFrames','createGain','agent-join','getNextTargetRank','subscription-request-in-progress','sendRequest','sendTransactionsDump','handleIceCandidates','checkBackgrounds','getOrResetPendingFileTimeout','sourceVideo','onProviderChange','loggingConnectors','clearRestartTimeout','reads','remote-stream-missing-provider-id','createConstantSource','retry','unregisterSource','invalid-subscription','WebRTC','LocalReport','setRemoteNode','boolean','timeSending','context','limit','ScreenSharing','clusterId','-leave','ObjectStoreNotSynced','setRemoteConnections','RemoteMediaStreamMissingProviderId','publishFolder','outgoingManager','setCurrentVersion','Missing\x20remote\x20node\x20or\x20rank','Remote\x20connection\x20already\x20exists.','createSubscription','getOwnerId','replaceTrack','lastProcessRank','localId','getSTVolatility','message','PubSub','Database\x20does\x20not\x20exist','checkScreenSharing','suspended','retryCallback','closeTopic','us-east-1','getConnectionGroup','detectionManager','authenticateUser','Invalid\x20publisher.','systemMessages','targetId','removePubSubTopic','timeoutValue','videoWidth','enabledChannels','isOffer','Received\x20track','completed','InvalidDataChannel','clearOncloseTimeout','9gdEYaV','registerSystemPublisher','previousTimestamp','detectStreamIssues','NodeAlreadyExist','420235181083','setupResizeHandler','Offer','sendIceCandidates','batch','getSenderTotalBytes','handleSuccess','0.1.0','code','OutgoingSubscription','keyValueDatabaseConnector','default','Add','unregisterRemoteNode','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','/resources/agent/items/','setEncodingParameters','getRemoteConnections','bytesSent','buffer','sdkValidateAccess','ContentType','hasTracks','node-invalid-type','setLocalRank','topicLabel','reportMetric','object-store-invalid-sync-message','pow','handleSubscriptionSubscribeMediaStream','crewdle-sdk-stg.appspot.com','joinedClusters','pub-sub-topic-name-not-string','Request','layout','arrayBuffer','Move','getRemoteNode','Object\x20store\x20not\x20synced.','inbound-rtp','setEmail','logPropagateSystemEvent','move','batchTimeout','maxFramerate','key-value-database-table-does-not-exist','createDataChannel','Connection\x20not\x20initialized.','ownerId','applyRemediation','getAudioTracks','path','hasTable','Invalid\x20query','arrayBufferToObject','StreamReport','crewdle-sdk.appspot.com','disconnectCallback','handleContentCloseMediaStream','getEstimatedTimestamp','peer-connection-invalid-destination','wait','Internal\x20SDK\x20error:\x20','manageAncestor','request','PubSubTopicAlreadyExists','st_volatility','handleError','Node\x20already\x20exists.','track','Get','localNode','signaling','2606418yjwSiW','previous','buildQuery','UnsubscribeMediaStream','onConfigurationChange','getSenderBitrate','handleContentUnpublishMediaStream','publishNodeLeave','subscriptionRequests','isMediaSource','currentTimestamp','InvalidSubscriber','createFolder','retryQueues','getMilliseconds','notifyObjectStoreOfNodeJoin','registerSource','invalid-publisher','requestSubscriptionAction','removeIncomingSubscription','getReceiverTotalBytes','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','nodes','timeoutCallback','handleContentSubscribeMediaStream','oncloseTimeout','NodeUpdate','collectStats','canAddCandidates','\x27\x20to\x20','setOnDisconnectHandler','objectRequests','\x20already\x20exists','email','NodeType','canvas','height','getFunctions','getTransactions','set','handleUnpublishMediaStream','Rejected\x20answer','debug','maxDistance','listenerUnsubscriber','handleRemoteTrackFailure','events','onClose','user','iceServers','getDTVolatility','status','SubscriptionRequestDoesNotExist','resetConnection','doc','packets','count','clusters','mute','packetsSent','parse','Restart\x20NeedMediaStream','add','senderPreviousTimestamp','Database\x20not\x20open','resizeHandler','isWhereValue','getProviderId','updatePropagationProperties','folder-create','remediations','Cluster','unregisterSubscriber','https://crewdle-sdk-default-rtdb.firebaseio.com','WebGL','getTotalBytes','Missing\x20transaction\x20id','setupTrackEndedListeners','internalId','Logger.getInstance','element','processReports','Backgrounds','SubscriptionRequestNoAnswer','createMediaStreamSource','getEnabledChannels','initializeSystemTopic','lastTransactionId','isInternalLoggingConnector','handleNodeJoin','removeNode','childRemovedUnsubscriber','collection','objectStorage','messagesReceived','LoggingService:\x20logging\x20enabled\x20for','object-store-invalid-payload','getInstance','webgl','bytesReceived','error','getMaxConnections','restartHandshake','MediaStreamUnavailable','reduce','crewdleSDKLoggingChannels','detail','upgrade','dataTopics','connectAgent','request-file','setTimestamp','unsubscribe','connectionGroup','setupConnectionEvents','checkAudioContext','Waiting','receiverUnsubscribers','/transactions','writeTransaction','orchestrator','getTrack','listenUnsubscriber','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','subscription-request-does-not-exist','handleMissingSenders','Subscription\x20request\x20failed.','getLocalMediaStreams','STVolatility','deletePendingFile','getLabel','lastUpdated','operator','unregisterSystemSource','framerate','isWhereBetween','addEventListener','length','appsync-no-destination','get','Node\x20not\x20authenticated','getVideoTracks','subscribedTracks','systemTopic','remoteUnsubscriber','createIncomingSubscription','handleFileRequest','mergeParts','Internal\x20unknown\x20error:\x20','handleNodeUpdate','destroy','Invalid\x20index\x20in\x20table\x20\x27','cleanOldSubscription','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','enabled','autoplay','getRemoteMediaStream','findNextAncestor','getResolutionScale','size','endsWith','registerPublisher','setPriority','shouldProcessTransaction','Data','handleOptimizationConnectionSuccess','syncTransactionsWritten','ClosePubSubTopic','KeyValueDatabaseTableDoesNotExist','validateValue','endpoint','checksum','SHA-1','closeConnection','currentVersion','KeyValueDatabaseDoesNotExist','Send\x20request','getConnections','end','maxOutgoingSubscriptions','validateQuery','systemTopicUnsubscribe','AppSync\x20connection\x20not\x20ready','setupStatsReporting','lastRemediations','bitrate','Internal\x20event\x20\x27','NodeTypeNotSupported','upgradeTimeout','sendWithRetry','node','clearSyncTimeout','processOutboundReport','removeRemoteConnection','play','getLastUpdated','2-digit','clearHeartbeat','1099812iwKHsG','heartbeatUnsubscriber','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','debounceProcessRank','onloadeddata','indexes','missing-system-topic','processInboundReports','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','PubSubTopicStats','writeBatch','createSenderConnection','KeyValueDatabaseTableNotFound','clearWaitAnswer','startTime','emit','chunk','UnpublishMediaStream','updateDebounceTimeout','onValue','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','MissingRemoteConnection','checkAudioVolume','processInboundReport','KeyValueDatabaseStats','LocalMediaStreamTrackFail','previousFrames','getMediaSubscription','NodeDoesNotExist','Problem','toStringTag','providerId','Outgoing','AppSync\x20subscribe','Store\x20already\x20exists','ObjectStoreInvalidSyncMessage','setInterval','logServiceEvent','KeyValueDatabaseNameNotString','call','query','13913832MURMeX','statsManager','crewdle-sdk-stg.firebaseapp.com','maxLayer','RemoteMediaStreamInvalidSubscriptionParams','getSubscriptionLabel','FeatureNotEnabled','mediaTopics','signInWithCustomToken','decodeJWT','retryLimit','onGatheringStateChange','removeSubscriptionsForNode','connecting','getSubscriptionInfo','mediaDevices','removeKeyValueDatabase','unregisterDestination','Support','getQuery','reset','eventTarget','handleSubscriptionSystemEvents','updateUser','ConnectionState','syncResolve','DataChannel\x20is\x20not\x20open.','DTVolatility','getDistance','handleSubscriptionRestartNeedMediaStream','handleSystemEvents','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','getEmail','getReceiverBitrate','Connection\x20not\x20connected.','setInternalId','has','Database\x20already\x20exists','cluster-leave','handshakeDebounce','7745ZSpgqm','vendorId','Content','processPendingSyncTransactions','Receiver','getNumberOutgoingSubscriptions','remote-connection-exists','handleSubscriptionMediaStreamUnavailable','clearWaitSuccess','waitAnswer','firebaseUnsubscriber','authContext','KeyValueDatabaseTransactionTableNotInitialized','handleContentUnsubscribeMediaStream','tableLayout','start','handleSubscriptionUnsubscribeMediaStream','incrementVersion','audioContext','remote-inbound-rtp','Issue\x20detected:\x20','registeredListeners','getInternalStreamId','jitter','.crewdle-layout','/nodes','auth','open','registerDestination','handleLocalTrackFailure','messages','canRestartHandshake','Remote\x20stream\x20does\x20not\x20exist.','messageCallback','getInternalTrackParams','ObjectStore','KeyValueDatabaseTableNameReserved','calculateSize','audio','channel','nodeId','batchQueue','getDisplayMedia','hasMessage','resolution','dataChannel','processSenderReport','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','trackEndedListeners','receiverTotalMessages','subscribe','Optimization','setBytes','time_per_frame','notifyClusterNodeJoin','Method\x20not\x20implemented.','TimePerFrame','transformations','undefined','onChildRemoved','processRank','AppSync\x20publish','Invalid\x20key\x20\x27','abs','getRemoteMediaStreams','NodeManager\x20-\x20PublishNodeLeave','Recording','LocalMediaStreamDoesNotExist','detectVideoIssues','Remediation','api','Missing\x20owner\x20node\x20or\x20rank','Chosen\x20answer','connectionStateListener','List','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','processBatch','getAudioVideoDelay','chunks','frameTime','Delete','RemoteMediaStreamTrackFail','tail','MediaStream','incomingManager','waitSuccess','recipients','bandwidth.rtt','origin','type','connectionConstructor','/logs','system-stats','FolderDelete','__esModule','string','Media','removeObjectStore','onNodeDisconnect','setOnMessageHandler','handleFileSync','senderConnection','cleanList','clientHeight','NeedMediaStream','createRemoteMediaStream','peerConnectionConnector','2065168vbUjOs','unpublish','RequestFileWrite','payloadType','catch','senderPreviousBytes','dispatchEvent','connectionTimeout','NodeInvalidType','agentConfig','handleContentRemoteMediaStreamTrackFail','outgoing-stream-no-topic','ObjectStoreInvalidPayload','QueryBuilderInvalidArgument','Invalid\x20version\x20\x27','defineProperty','receiverBitrate','processLocalReport','PeerConnectionInvalidDestination','addProblem','key-value-database-already-exists','createBufferSource','createConnection','getContentType','PubSubTopicAlreadySubscribed','\x27\x20in\x20layout','remoteConnections','PayloadAction','restartTimeout','issues','direction','ObjectStoreDoesNotExist','addMessage','problem','sampleRate','Signaling','pool','width','RemoteMediaStreamDoesNotExist','processReceiverReport','removeTrack','PubSub\x20already\x20exists','Agent','tableUnsubscriber','getLayout','values','cluster','onload','Cannot\x20publish\x20folder:\x20','pendingHandshakeCandidates','frames','getRoundTripTime','from','priority','onHandshakeStateChange','\x20does\x20not\x20exists','Offline','4506epbOXx','Base\x20Peer\x20Connection','local-media-stream-already-exists','Invalid\x20layout:\x20','getItem','subscriptionManager','connectionState','canProvideResolution','checkAudioOutput','timePerFrame','receiverCurrentBytes','onCandidate','ObjectStorage','setPendingFileSyncingPayload','startNoThrottlingHack','getDisplayName','currentBytes','object-store-cannot-write-transaction','notifyClusterNodeUpdate','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','subtle','object-store-not-synced','functions','sendTransactionsValue','setRank','getBitrate','Medium','Connected','Restart','rank','getConnection','clientStream','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','closed','sdkCreateToken','Subscribing\x20to\x20an\x20event:\x20on','groupId','objectToArrayBuffer','keyValueDatabases','firebase-connect','createPendingFileWrite','threshold','clearSubscriptionRequestTimeout','addTrack','bufferedAmount','answererId','SendTransactionsDump','serverTimestamp','queues','eventListener','onRemoveTrack','ref','addRemoteConnection','app','1:519415702791:web:5dd39042f881cfde3251a2','getReport','exists','SubscribeMediaStream','tracks','close','isFeatureSupported','processTransactionsDump','disconnected','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','key-value-database-table-not-found','gain','InternalSDKError','Missing\x20answerer\x20id\x20on\x20request\x20answer','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','request-file-write','PeerConnection','Disconnect','setOnTableWriteHandler','source','active','mediaUnsubscribers','onerror','AudioVolume','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','connected','fps','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Invalid\x20node\x20type','Apply\x20remediation','asc','SyncComplete','Local\x20MediaStream\x20already\x20exists','processOutboundReports','Sender\x20connection\x20is\x20not\x20initialized.','getContext','sendChunked','notifyCluster','hasRemoteNode','consumeBufferedEvents','handleNoAnswer','createPubSubTopic','PubSubTopic\x20onMessage','publishTransaction','All','getAvailableTrackKinds','pendingSyncTransactions','instance','total','setReportCapacity','handlePeerConnectionSystemEvents','maxFps','roundTripTime','statsCollection','AudioVideoDelay','createKeyValueDatabase','delete','handleContentSystemEvents','orchestrator-close','MissingSystemTopic','key-value-database-transaction-table-not-initialized','NodeLeave','removeConnection','NodeConnectionsUpdate','getRank','clientWidth','KeyValueDatabaseTransactionValueNotSet','setVendorId','processPendingHandshakeCandidates','nodeManager','handleNodeDisconnect','Error\x20encountered\x20while\x20opening\x20database','LocalMediaStreamNoAudioContext','KeyValueDatabaseInvalidValue','receiverConnection','disconnect','NodeManager\x20-\x20ConnectionSuccess','httpsCallable','handleNodeSystemEvents','firebaseConfig','receiverTimeProcessing','sort','messageUnsubscriber','getFirestore','content-publish-media','isProduction','\x27\x20reserved','senderCurrentBytes','Connection','KeyValueDatabaseCreationFailed','AudioOutput','Update','exports','index','receiverCurrentTimestamp','validateAccess','createLocalDynamicMediaStream','publishFile','handleCloseMediaStream','messageListeners','sendStats','observe','unregisterCluster','Invalid\x20object\x20store\x20sync\x20message.','chosenAnswers','ObjectStoreAlreadySubscribed','totalEncodeTime','isSubscribed','handleOnMessage','onMessage','incomingTopic','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','FramePerSecond','detectLocalIssues','Node','out','KeyValueDatabaseInvalidQuery','secheduleTime','trackKinds','isWhereValues','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','setupRenderElement','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','Error\x20committing\x20batch:','Jitter','pubsub','Stream\x20does\x20not\x20exist','connect','ConnectionInvalidDataEvent','removeLocalMediaStream','deleteObject','getClosestNodes','local-stream-does-not-exist','handleUpdateMediaStream','text','publishLocalMediaStream','SubscriptionRequestFailed','resume','getSettings','publishNodeJoin','sdk-internal-error:\x20','remote-stream-does-not-exist','globalObject','params','CrewdleSenderConnection\x20createOffer','FolderCreate','isIceCandidate','unregisterPublisher','optimizationLayers','statsReporting','No\x20global\x20object\x20found','Invalid\x20subscriber.','totalDecodeTime','NodeNotAuthenticated','listener','removeRemoteStreamSubscription','handleDisconnect','PubSubTopicDoesNotExist','isNeedRestart','Folder','logBatch','splitParts','minThreshold','receivers','removeOutgoingSubscription','addIssue','senderTotalMessages','send','requestSubscription','isReconnecting','media-stream','PubSubTopicNameNotString','SystemTopic\x20publish','Early\x20return:\x20','syncPendingFiles','getMaxDistance','minResolutionScale','estimatedPlayoutTimestamp','handleConnectionSuccess','pendingFilesSyncing','off','outgoingStreams','pub-sub-topic-already-exists','registerSystemSource','video','streams','stopNoThrottlingHack','sender','text/plain','content-unpublish-media','debounceStats','collectReceiversStats','OutgoingMediaStreamNoTopic','handleNodeLeave','addDoc','No\x20destinationIds\x20left','firestore','collectSendersStats','getIdToken','version','ConnectionNotConnected','syncTransactions','features','\x20-\x20Sending\x20propagation\x20(','observer','Object\x20store\x20is\x20not\x20in\x20sync','createAnswer','RequestFile','manageOptimization','ranges','registerSubscriber','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','callback','connection','removeEventListener','internal-sdk-error','setReceiverBytes','clusters/','discoveryUnsubscriber','onUnregisterPublisher','getAncestors','.crewdle-transactions','Detection','removeSubscription','setSubscriptionRequestTimeout','RemoteRemove','checkDeviceConfig','shift','system','RequestSyncKeyValueDatabase','function','Default','tableObserver','CannotProvideMediaStream','destination','data','Key-value\x20database\x20creation\x20failed.','authNode','connectionPool','createRemoteNode','handleCloseKeyValueDatabase','Hub','\x0aAdditional\x20data:\x20','receiverPreviousTimestamp','functionsRegion','\x20not\x20supported','eventEmitter','onremovetrack','Orchestrator\x20handleSystemEvents','retryCount','missing-incoming-connection','processTransactionPayload','random','updateDebounce','setConnectionType','signalingServer','removeListener','remainingTracks','contentType','connectionType','setScheduleTime','stop','InvalidSubscription','NeedRestart','signOut','RequestFileSync','failed','clearConnectionTimeout','ObjectStoreAlreadyExists','srcObject','objectStoreConnector','RequestTransactionsValue','ConnectionNoRetryQueue','ccc','updateLastTransactionId','RestartNeedMediaStream','en-US','getTable','Sending\x20\x27','addCandidate','FileMove','fileChunks','senderTimeProcessing','Success','pubSubTopics','handshakeCandidates','handleRequestPayload','configs','region','crewdle-sdk.firebaseapp.com','Subscription\x20request\x20has\x20not\x20been\x20answered.','cpu.av_delay','appsync-close','where','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','client','Amplify','ancestors','connection-no-retry-queue','av_delay','Low','ObjectKind','deleteTransactionsForTable','getTracks','bufferedEvents','forEach','subscriptions','key-value-database-index-not-found','DeviceConfig','processRemoteInboundReport','syncTimeout','videoHeight','clearRect','LocalMediaStreamAlreadyExists','owner','removeTrackCallback','displayName','canChooseAnswer','FileDelete','RoundTripTime','CloseObjectStoreBucket','file','ObjectStoreStats','key-value-database-not-open','shouldContinuePropagation','.crewdle-last-transaction','File','keys','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','tables','getApp','appsync-connect','successNotified','openKeyValueDatabase','setUpgradeTimeout','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','remoteNodes','answerJoin','chooseAnswer','UpdateMediaStream','fromEntries','getTrackFromParam','getAuth','removeRemoteMediaStream','getPubSubTopics','Module','maxThreshold','handleContentClosePubSubTopic','handleHandshake','getObjectStoreBuckets','validateLayout','discoveryService','getConnectionDestinations','getShareableStreamId','key','connector','codes','getOutgoingOptimizationConnections','createOutgoingSubscription','node-type-not-supported','filteredDestinationIds','receiverStreams','RemoteRemediation','Online','crewdle-sdk','processServiceReport','handleOutgoingSystemEvents','uuid','event','Core','head','getDatabase','reportCapacity','interval','runTransaction','maps','publish','IDBDatabaseConnector','bufferEvent','addRemoteNode','Incoming','ClusterAlreadyJoined','senderStreams','Internal\x20SDK\x20Error:\x20','sendAction','Failed\x20to\x20commit\x20batch\x20after\x20retries:','setTransformations','connectionManager','toLocaleDateString','isArray','handleStatsSystemEvents','contentRect','splice','object-store-already-exists','timeReceiving','NodeJoin','objectStores','getCurrentMaxLayer','transactionTable','all','addAudioTrack','SubscriptionRequestInProgress','getMediaStream','\x20does\x20not\x20support\x20content\x20type\x20','handleOffer','getId','trackCallback','RemoteConnectionExists','getTableConnector','User','database','hasOwnProperty','openPubSubTopic','messageBuffer','KeyValueDatabaseIndexNotFound','destinationIds','handleUnsubscribeMediaStream','handleProblem','key-value-database-name-not-string','sendFileRequestPayload','All\x20recipients\x20already\x20received','StorageEventType','durationTime','nodeKey','name','getLocalMediaStream','lastExecuted','createOffer','kind','clusterEventEmitter','Subscription','pub-sub-topic-already-subscribed','onDataChannel','KeyValueDatabaseNotOpen','keyPath','lastHeartbeat','KeyValueDatabase','handleTransactionPayload','writes','ObjectStoreNameNotString','createLocalMediaStream','streamId','isSync','SystemStats','stats','Pool','Cannot\x20publish\x20file:\x20','publishSystemMessage','getPacketsLostPerc','unsubscribeHandler','registerCluster','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Support:\x20current\x20config','Handshake','onDisconnectHandler','join','transactionIds','OptimizationConnectionSuccess','Internal\x20error:\x20','logSupport','.info/serverTimeOffset','audioDestination','getResolution','iceConnectionState\x20failed','waitSendBuffer','ObjectStoreNotInSync','handleContentUpdateMediaStream','messagesSent','logConnectionState','minConnections','logStorage','FPS','publishSyncCompletedAfterWrites','contentManager','join-cluster','getKeyValueDatabases','.crewdle-pending','\x20-\x20','CPUCycle','log','loop','getRemoteId','graphService','Invalid\x20where\x20clause','key-value-database-invalid-value','rtt','addPendingHandshakeCandidate','isMediaDestination','setTimeout','stream','setReceiverTimestamp','concat','action','onDisconnect','captureStream','Disconnected','providerListener','startsWith','pendingFilesRename','cost','addCluster','pubsubTopics','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','Invalid\x20subscription.','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','senderBitrate','handleAnswer','label','now','graphql','syncKeyValueDatabase','isEqual','key-value-database-invalid-query','RemoteMediaStreamAlreadyExists','updateLastUpdated','Cannot\x20unpublish\x20object:\x20','initialize','Key-value\x20database\x20table\x20does\x20not\x20exist.','update','Downgrade','true','getConfigs','RequestAccepted','clockSkew','oidc','missing-datachannel','toString','Transaction','handleFileWrite','/stats','receiverPreviousBytes','User\x20not\x20signed\x20in','joinCluster','crewdleSDKEnableLogging','buildTableEvent','outbound-rtp','remove','KeyValueDatabaseAlreadyExists','sourceId','checkSyncComplete','/transactions/','warn','createNewBatch','systemMessagesReceived','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','statsReport','Invalid\x20value.\x20Must\x20be\x20an\x20object.','authenticateAgent','unshift','createTopic','outgoingTopic','Stats','getName','renderElement','handleNeedRestart','checkWebGL','createObjectStoreBucket','setSenderTimestamp','sync','InvalidPublisher','getConnectionType','floor','min','1:420235181083:web:4eff6062bd845cb0748cbe','getDoc','warning','frameWidth','counter','next','mediaStream','createReceiverConnection','/objectstores/','localMediaStreams','resolutionScale','orderBy','Cluster\x20already\x20joined','authService','unregisterPublisherListener','file-write','cluster-disconnect','filter','onConnectionStateChange','getTransactionFromTableWriteEvent','firebase-disconnect','currentDistance','closeSubscription','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','createMediaStreamDestination','operations','OPFSObjectStoreConnector','match','object-store-invalid-path','receiver','val','slice','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','handleCloseObjectStore','committed','TestPage','findIndex','compareTransactions','maxResolution','isValidMediaSubscriptionParams','subscription-request-no-answer','entries','crewdle-sdk-logging-','parentId','getHash','pendingFilesTransactions','handleRemediationSystemEvents','checkWebRTC','dataUnsubscribers','getLocalNode','options','extendedRecipients','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','Stream\x20already\x20exists','sendFile','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','transactions','removeItem','state','Remove','AppSync\x20client\x20not\x20ready','loadEnabledChannels','offset','removeTopic','Invalid\x20value.\x20Property\x20\x27','CloseKeyValueDatabase','findNewMediaSubscription','Buffering\x20event','deleteRemoteNode','unregisterSystemPublisher','complete','ended','Operations:','Invalid\x20params','local-media-stream-track-fail','maxConnections','handleFolderCreate','trackListeners','clusterKey'];a0_0xa715=function(){return _0x4346c7;};return a0_0xa715();}(function(_0x2bcbdc,_0xe74def){const _0x12137d=a0_0x4e89,_0x1f9f5f=_0x2bcbdc();while(!![]){try{const _0xa8dccb=parseInt(_0x12137d(0x5d5))/0x1+-parseInt(_0x12137d(0x20d))/0x2+parseInt(_0x12137d(0x70d))/0x3+-parseInt(_0x12137d(0x2c9))/0x4+-parseInt(_0x12137d(0x25e))/0x5*(parseInt(_0x12137d(0x302))/0x6)+-parseInt(_0x12137d(0x60a))/0x7+-parseInt(_0x12137d(0x236))/0x8*(-parseInt(_0x12137d(0x6bf))/0x9);if(_0xa8dccb===_0xe74def)break;else _0x1f9f5f['push'](_0x1f9f5f['shift']());}catch(_0x278ee){_0x1f9f5f['push'](_0x1f9f5f['shift']());}}}(a0_0xa715,0xc6a86),!function(_0x516c8d,_0x44ba6b){const _0x41e475=a0_0x4e89;if('object'==typeof exports&&_0x41e475(0x5e8)==typeof module)module['exports']=_0x44ba6b();else{if('function'==typeof define&&define['amd'])define([],_0x44ba6b);else{var _0x20f1b6=_0x44ba6b();for(var _0x211430 in _0x20f1b6)(_0x41e475(0x5e8)==typeof exports?exports:_0x516c8d)[_0x211430]=_0x20f1b6[_0x211430];}}}(this,()=>((()=>{'use strict';const _0x34e88f=a0_0x4e89;var _0x13fcb5={0x14d:(_0xa2b3bd,_0x3accfb,_0x3225a1)=>{const _0x3c6622=a0_0x4e89;_0x3225a1['d'](_0x3accfb,{'O':()=>_0x385010});const _0x385010={'version':_0x3c6622(0x6cb),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x3c6622(0x2a9),'authDomain':_0x3c6622(0x238),'databaseURL':_0x3c6622(0x40b),'projectId':'crewdle-sdk-stg','storageBucket':_0x3c6622(0x6e2),'appId':_0x3c6622(0x338),'functionsRegion':'northamerica-northeast1'},'aws':{'endpoint':_0x3c6622(0x58b),'region':'us-east-1'}};},0x33b:(_0x5beaaa,_0x5ed7bf,_0x20852c)=>{_0x20852c['d'](_0x5ed7bf,{'O':()=>_0x1bd6b8});const _0x1bd6b8={};},0x3e6:(_0x516392,_0x20de52,_0x1af63e)=>{const _0x21da6f=a0_0x4e89;_0x1af63e['d'](_0x20de52,{'O':()=>_0x6aaa4c});const _0x6aaa4c={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x21da6f(0x59f),'authDomain':_0x21da6f(0x459),'databaseURL':_0x21da6f(0x190),'projectId':_0x21da6f(0x4a4),'storageBucket':_0x21da6f(0x6fc),'messagingSenderId':_0x21da6f(0x6c4),'appId':_0x21da6f(0x56b),'measurementId':'G-F7W8KXRKQB'},'aws':{'endpoint':_0x21da6f(0x215),'region':_0x21da6f(0x6af)}};},0x20:(_0x1123ee,_0x17fe58,_0x474480)=>{_0x474480['d'](_0x17fe58,{'O':()=>_0x4db6d8});const _0x4db6d8={};}},_0x1cea1f={};function _0xd840af(_0x4583ff){const _0x1137ca=a0_0x4e89;var _0x381c7b=_0x1cea1f[_0x4583ff];if(void 0x0!==_0x381c7b)return _0x381c7b[_0x1137ca(0x394)];var _0xf075b5=_0x1cea1f[_0x4583ff]={'exports':{}};return _0x13fcb5[_0x4583ff](_0xf075b5,_0xf075b5[_0x1137ca(0x394)],_0xd840af),_0xf075b5[_0x1137ca(0x394)];}_0xd840af['d']=(_0x31a01f,_0x15506d)=>{const _0x182586=a0_0x4e89;for(var _0x507029 in _0x15506d)_0xd840af['o'](_0x15506d,_0x507029)&&!_0xd840af['o'](_0x31a01f,_0x507029)&&Object[_0x182586(0x2d8)](_0x31a01f,_0x507029,{'enumerable':!0x0,'get':_0x15506d[_0x507029]});},_0xd840af['g']=(function(){const _0x4dda78=a0_0x4e89;if('object'==typeof globalThis)return globalThis;try{return this||new Function('return\x20this')();}catch(_0x12268b){if(_0x4dda78(0x5e8)==typeof window)return window;}}()),_0xd840af['o']=(_0x44cc57,_0x5ef2cd)=>Object['prototype'][_0x34e88f(0x4d3)][_0x34e88f(0x234)](_0x44cc57,_0x5ef2cd),_0xd840af['r']=_0x40952e=>{const _0x1605ee=_0x34e88f;_0x1605ee(0x298)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x1605ee(0x2d8)](_0x40952e,Symbol[_0x1605ee(0x22b)],{'value':_0x1605ee(0x491)}),Object[_0x1605ee(0x2d8)](_0x40952e,_0x1605ee(0x2bc),{'value':!0x0});};var _0x2cadd6={};return((()=>{const _0x27a6cf=_0x34e88f;var _0x3792fa,_0x4a6d96,_0x5483cd;_0xd840af['r'](_0x2cadd6),_0xd840af['d'](_0x2cadd6,{'KeyValueDatabase':()=>_0x54bbbb,'LayoutBuilder':()=>_0x5d18cb,'LoggingChannels':()=>_0x5483cd,'QueryBuilder':()=>_0x1c5eb7,'SDK':()=>_0x1c970c,'SDKClientErrorCodes':()=>_0x3792fa,'TableBuilder':()=>_0x349433,'logger':()=>_0x20481a}),function(_0x144bb5){const _0x196901=a0_0x4e89;_0x144bb5[_0x196901(0x4b5)]=_0x196901(0x5ee),_0x144bb5['FeatureNotEnabled']=_0x196901(0x63f),_0x144bb5[_0x196901(0x444)]=_0x196901(0x4c1),_0x144bb5[_0x196901(0x3a1)]=_0x196901(0x5f5),_0x144bb5[_0x196901(0x2e8)]='object-store-stream-does-not-exist',_0x144bb5[_0x196901(0x4ef)]='object-store-name-not-string',_0x144bb5['ObjectStoreInvalidPayload']=_0x196901(0x1a7),_0x144bb5[_0x196901(0x630)]=_0x196901(0x587),_0x144bb5['ObjectStoreNotInSync']='object-store-not-in-sync',_0x144bb5['InternalSDKError']=_0x196901(0x40f),_0x144bb5[_0x196901(0x551)]=_0x196901(0x2dd),_0x144bb5[_0x196901(0x1f6)]='key-value-database-does-not-exist',_0x144bb5[_0x196901(0x4d6)]=_0x196901(0x46b),_0x144bb5['KeyValueDatabaseInvalidQuery']=_0x196901(0x538),_0x144bb5['KeyValueDatabaseInvalidValue']=_0x196901(0x51c),_0x144bb5[_0x196901(0x233)]=_0x196901(0x4da),_0x144bb5['KeyValueDatabaseNotOpen']=_0x196901(0x47b),_0x144bb5[_0x196901(0x282)]=_0x196901(0x5bc),_0x144bb5[_0x196901(0x219)]=_0x196901(0x342),_0x144bb5['KeyValueDatabaseInvalidLayout']='key-value-database-invalid-layout',_0x144bb5['LocalMediaStreamAlreadyExists']=_0x196901(0x304),_0x144bb5[_0x196901(0x380)]='local-media-stream-no-audio-context',_0x144bb5[_0x196901(0x705)]=_0x196901(0x3ee),_0x144bb5['PubSubTopicDoesNotExist']='pub-sub-topic-does-not-exist',_0x144bb5['PubSubTopicNameNotString']=_0x196901(0x6e4),_0x144bb5[_0x196901(0x2e1)]=_0x196901(0x4e7),_0x144bb5['QueryBuilderInvalidArgument']='query-helper-invalid-argument',_0x144bb5[_0x196901(0x539)]='remote-media-stream-already-exists',_0x144bb5[_0x196901(0x23a)]='remote-media-stream-invalid-subscription-params',_0x144bb5[_0x196901(0x4c9)]=_0x196901(0x680),_0x144bb5[_0x196901(0x3d1)]='node-not-authenticated',_0x144bb5[_0x196901(0x2d1)]=_0x196901(0x6db),_0x144bb5[_0x196901(0x202)]=_0x196901(0x49f);}(_0x3792fa||(_0x3792fa={}));class _0x478f0b extends Error{[_0x27a6cf(0x6cc)];constructor(_0x13663d,_0x3081cf){const _0x49368e=_0x27a6cf;super(_0x3081cf),this[_0x49368e(0x6cc)]=_0x13663d;}}!function(_0x3b53ee){const _0x399a9f=_0x27a6cf;_0x3b53ee['PubSub']=_0x399a9f(0x3b5),_0x3b53ee[_0x399a9f(0x30e)]='object-storage',_0x3b53ee['KeyValueDatabase']='key-value-database',_0x3b53ee[_0x399a9f(0x2b1)]=_0x399a9f(0x3e2);}(_0x4a6d96||(_0x4a6d96={})),function(_0x52e1db){const _0x26d2a6=_0x27a6cf;_0x52e1db[_0x26d2a6(0x364)]=_0x26d2a6(0x4c7),_0x52e1db['Default']=_0x26d2a6(0x6cf),_0x52e1db[_0x26d2a6(0x390)]='connection',_0x52e1db[_0x26d2a6(0x24e)]='connection-state',_0x52e1db[_0x26d2a6(0x18e)]=_0x26d2a6(0x2f7),_0x52e1db['Content']=_0x26d2a6(0x5d4),_0x52e1db[_0x26d2a6(0x416)]='detection',_0x52e1db[_0x26d2a6(0x603)]=_0x26d2a6(0x73b),_0x52e1db['Error']=_0x26d2a6(0x1ab),_0x52e1db[_0x26d2a6(0x3aa)]='node',_0x52e1db[_0x26d2a6(0x4f5)]=_0x26d2a6(0x2ed),_0x52e1db[_0x26d2a6(0x6a9)]=_0x26d2a6(0x3b5),_0x52e1db[_0x26d2a6(0x2a3)]=_0x26d2a6(0x668),_0x52e1db[_0x26d2a6(0x2ec)]=_0x26d2a6(0x70c),_0x52e1db[_0x26d2a6(0x55f)]=_0x26d2a6(0x4f4),_0x52e1db[_0x26d2a6(0x4e6)]='subscription',_0x52e1db['Support']=_0x26d2a6(0x623),_0x52e1db[_0x26d2a6(0x66e)]=_0x26d2a6(0x41c),_0x52e1db['SystemStats']=_0x26d2a6(0x2ba),_0x52e1db[_0x26d2a6(0x58e)]='test-page',_0x52e1db[_0x26d2a6(0x348)]='peer-connection';}(_0x5483cd||(_0x5483cd={}));const _0x1176cc=require('@crewdle/web-sdk-types');class _0x1c5eb7{[_0x27a6cf(0x235)];constructor(_0x41d2cc){const _0x179bc7=_0x27a6cf;this[_0x179bc7(0x235)]={'orderBy':{'key':_0x41d2cc,'direction':_0x179bc7(0x356)}};}static[_0x27a6cf(0x395)](_0x2a4e3d){const _0x35feba=_0x27a6cf;if(_0x35feba(0x2bd)!=typeof _0x2a4e3d||0x0===_0x2a4e3d['length'])throw new _0x478f0b(_0x3792fa['QueryBuilderInvalidArgument'],_0x35feba(0x255));return new _0x1c5eb7(_0x2a4e3d);}static[_0x27a6cf(0x1fb)](_0x57da90){const _0x294a3a=_0x27a6cf;try{return _0x1c5eb7[_0x294a3a(0x70f)](_0x57da90),!0x0;}catch(_0x143bfa){return!0x1;}}static[_0x27a6cf(0x70f)](_0x2adabc){const _0xf574c8=_0x27a6cf,_0x1ba84f=_0x1c5eb7[_0xf574c8(0x395)](_0x2adabc[_0xf574c8(0x576)]?.[_0xf574c8(0x49a)]??_0x2adabc[_0xf574c8(0x45d)]?.[_0xf574c8(0x49a)]??'');if(_0x2adabc[_0xf574c8(0x45d)]){const _0x38a282=_0x2adabc[_0xf574c8(0x45d)];if((_0x1c5eb7[_0xf574c8(0x74f)](_0x38a282)||_0x1c5eb7[_0xf574c8(0x3af)](_0x38a282)||_0x1c5eb7[_0xf574c8(0x1ce)](_0x38a282))&&_0x1ba84f[_0xf574c8(0x45d)](_0x38a282[_0xf574c8(0x1cb)],_0x38a282[_0xf574c8(0x616)]),_0x2adabc[_0xf574c8(0x576)]?.[_0xf574c8(0x49a)]&&_0x2adabc['orderBy']?.[_0xf574c8(0x49a)]!==_0x2adabc[_0xf574c8(0x45d)][_0xf574c8(0x49a)])throw new _0x478f0b(_0x3792fa[_0xf574c8(0x2d6)],_0xf574c8(0x487));}return _0x2adabc[_0xf574c8(0x576)]&&_0x1ba84f[_0xf574c8(0x576)](_0x2adabc[_0xf574c8(0x576)][_0xf574c8(0x2e7)]),_0x2adabc[_0xf574c8(0x696)]&&_0x1ba84f[_0xf574c8(0x696)](_0x2adabc[_0xf574c8(0x696)]),_0x2adabc['offset']&&_0x1ba84f[_0xf574c8(0x5a9)](_0x2adabc[_0xf574c8(0x5a9)]),_0x1ba84f;}[_0x27a6cf(0x249)](){return{...this['query']};}[_0x27a6cf(0x45d)](_0x1204f8,_0x759f22){const _0x2f31d3=_0x27a6cf,_0x19e4c2={'key':this[_0x2f31d3(0x235)][_0x2f31d3(0x576)][_0x2f31d3(0x49a)],'operator':_0x1204f8,'value':_0x759f22};if(!_0x1c5eb7[_0x2f31d3(0x74f)](_0x19e4c2)&&!_0x1c5eb7[_0x2f31d3(0x3af)](_0x19e4c2)&&!_0x1c5eb7[_0x2f31d3(0x1ce)](_0x19e4c2))throw new _0x478f0b(_0x3792fa['QueryBuilderInvalidArgument'],_0x2f31d3(0x51b));return this[_0x2f31d3(0x235)][_0x2f31d3(0x45d)]=_0x19e4c2,this;}[_0x27a6cf(0x576)](_0x1145f8){const _0x506220=_0x27a6cf;if(_0x506220(0x356)!==_0x1145f8&&'desc'!==_0x1145f8)throw new _0x478f0b(_0x3792fa[_0x506220(0x2d6)],_0x506220(0x322));return this[_0x506220(0x235)][_0x506220(0x576)]['direction']=_0x1145f8,this;}[_0x27a6cf(0x696)](_0x328276){const _0xf989dc=_0x27a6cf;if(_0xf989dc(0x5de)!=typeof _0x328276||_0x328276<0x0)throw new _0x478f0b(_0x3792fa[_0xf989dc(0x2d6)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0xf989dc(0x235)][_0xf989dc(0x696)]=_0x328276,this;}[_0x27a6cf(0x5a9)](_0xea43fa){const _0x49b741=_0x27a6cf;if('number'!=typeof _0xea43fa||_0xea43fa<0x0)throw new _0x478f0b(_0x3792fa[_0x49b741(0x2d6)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x49b741(0x235)]['offset']=_0xea43fa,this;}static[_0x27a6cf(0x74f)](_0x1c3d6c){const _0x5bcfb5=_0x27a6cf;if(!(_0x1c3d6c&&_0x5bcfb5(0x5e8)==typeof _0x1c3d6c&&_0x5bcfb5(0x1cb)in _0x1c3d6c&&_0x5bcfb5(0x616)in _0x1c3d6c))return!0x1;const {operator:_0x523391,value:_0x33fe62}=_0x1c3d6c;return!(!['==','!=','>','<','<=','>='][_0x5bcfb5(0x607)](_0x523391)||Array[_0x5bcfb5(0x4bd)](_0x33fe62));}static[_0x27a6cf(0x3af)](_0xe6c49b){const _0x34ecd8=_0x27a6cf;if(!(_0xe6c49b&&_0x34ecd8(0x5e8)==typeof _0xe6c49b&&'operator'in _0xe6c49b&&_0x34ecd8(0x616)in _0xe6c49b))return!0x1;const {operator:_0x12728e,value:_0x15b84c}=_0xe6c49b;return!(!['in',_0x34ecd8(0x5eb)]['includes'](_0x12728e)||!Array[_0x34ecd8(0x4bd)](_0x15b84c));}static['isWhereBetween'](_0x21f01d){const _0x2011a8=_0x27a6cf;if(!(_0x21f01d&&'object'==typeof _0x21f01d&&_0x2011a8(0x1cb)in _0x21f01d&&_0x2011a8(0x616)in _0x21f01d))return!0x1;const {operator:_0x43bd9f,value:_0x2cf542}=_0x21f01d;return!('between'!==_0x43bd9f||!Array['isArray'](_0x2cf542)||0x2!==_0x2cf542['length']);}}class _0x5d18cb{[_0x27a6cf(0x6e6)];constructor(_0x53c233){const _0x325d32=_0x27a6cf;this[_0x325d32(0x6e6)]={'tables':{},'version':_0x53c233};}static['validateLayout'](_0x3f4eb7){const _0xfac6b3=_0x27a6cf;for(const _0x357cd5 in _0x3f4eb7){if('version'!==_0x357cd5&&'tables'!==_0x357cd5)return[!0x1,'Invalid\x20key\x20\x27'+_0x357cd5+_0xfac6b3(0x2e2)];if('tables'===_0x357cd5)for(const _0x1b7fdc in _0x3f4eb7['tables']){if(_0xfac6b3(0x2bd)!=typeof _0x1b7fdc)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x1b7fdc+'\x27'];for(const _0x3c65cf in _0x3f4eb7[_0xfac6b3(0x481)][_0x1b7fdc]){if(_0xfac6b3(0x212)!==_0x3c65cf)return[!0x1,_0xfac6b3(0x29c)+_0x3c65cf+'\x27\x20in\x20table\x20\x27'+_0x1b7fdc+'\x27'];const _0x51048c=_0x3f4eb7['tables'][_0x1b7fdc][_0x3c65cf]??[];for(const _0x2d3ca5 of _0x51048c)if(void 0x0===_0x2d3ca5[_0xfac6b3(0x4ea)]||_0xfac6b3(0x2bd)!=typeof _0x2d3ca5['keyPath'])return[!0x1,_0xfac6b3(0x1de)+_0x1b7fdc+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0xfac6b3(0x3ff)===_0x357cd5&&_0xfac6b3(0x5de)!=typeof _0x3f4eb7[_0x357cd5])return[!0x1,_0xfac6b3(0x2d7)+_0x3f4eb7[_0x357cd5]+_0xfac6b3(0x346)];}}return[!0x0,'Valid\x20layout'];}static[_0x27a6cf(0x6e6)](_0x4462c7){const _0x1f2548=_0x27a6cf,_0x5238a8=new _0x5d18cb(_0x4462c7);return _0x5238a8[_0x1f2548(0x6e6)][_0x1f2548(0x3ff)]=_0x4462c7,_0x5238a8;}['table'](_0x9bb8e6){const _0x31ea4c=_0x27a6cf;return this[_0x31ea4c(0x6e6)]['tables'][_0x9bb8e6]={},new _0x349433(this[_0x31ea4c(0x6e6)][_0x31ea4c(0x481)][_0x9bb8e6]);}[_0x27a6cf(0x2f5)](){const _0x4e39b1=_0x27a6cf;return this[_0x4e39b1(0x6e6)];}}class _0x349433{[_0x27a6cf(0x26c)];constructor(_0x56d5e1){const _0x5666b5=_0x27a6cf;this[_0x5666b5(0x26c)]=_0x56d5e1;}[_0x27a6cf(0x395)](_0x423e99){const _0x25a9c6=_0x27a6cf;return this[_0x25a9c6(0x26c)][_0x25a9c6(0x212)]=this[_0x25a9c6(0x26c)]['indexes']??[],this['tableLayout'][_0x25a9c6(0x212)][_0x25a9c6(0x647)]({'keyPath':_0x423e99}),this;}}const _0x56474c=_0x27a6cf(0x47d),_0x4c6e51=_0x27a6cf(0x514),_0x3edfc5=_0x27a6cf(0x415),_0x3b7185=_0x27a6cf(0x276),_0x779273=0x7530,_0x554820='internal';var _0x57e5df;!function(_0x4f1fdc){const _0x51c4f2=_0x27a6cf;_0x4f1fdc[_0x51c4f2(0x653)]=_0x51c4f2(0x656),_0x4f1fdc[_0x51c4f2(0x400)]='connection-not-connected',_0x4f1fdc['ConnectionNoRetryQueue']=_0x51c4f2(0x462),_0x4f1fdc[_0x51c4f2(0x3b8)]='connection-invalid-data-event',_0x4f1fdc['ObjectStoreCannotWriteTransaction']=_0x51c4f2(0x313),_0x4f1fdc[_0x51c4f2(0x230)]=_0x51c4f2(0x6df),_0x4f1fdc['ObjectStoreNotSynced']=_0x51c4f2(0x317),_0x4f1fdc[_0x51c4f2(0x6bd)]='invalid-data-chanel',_0x4f1fdc['InvalidPublisher']=_0x51c4f2(0x71e),_0x4f1fdc[_0x51c4f2(0x718)]=_0x51c4f2(0x62d),_0x4f1fdc['InvalidSubscription']=_0x51c4f2(0x68f),_0x4f1fdc[_0x51c4f2(0x391)]='key-value-database-creation-failed',_0x4f1fdc[_0x51c4f2(0x1ef)]=_0x51c4f2(0x6f1),_0x4f1fdc[_0x51c4f2(0x26a)]=_0x51c4f2(0x374),_0x4f1fdc[_0x51c4f2(0x37a)]=_0x51c4f2(0x5d6),_0x4f1fdc[_0x51c4f2(0x2a1)]=_0x51c4f2(0x3bc),_0x4f1fdc[_0x51c4f2(0x222)]=_0x51c4f2(0x432),_0x4f1fdc[_0x51c4f2(0x373)]=_0x51c4f2(0x213),_0x4f1fdc['OutgoingMediaStreamNoTopic']=_0x51c4f2(0x2d4),_0x4f1fdc[_0x51c4f2(0x2ef)]=_0x51c4f2(0x3c5),_0x4f1fdc['RemoteMediaStreamMissingProviderId']=_0x51c4f2(0x68b),_0x4f1fdc[_0x51c4f2(0x4cf)]=_0x51c4f2(0x264),_0x4f1fdc[_0x51c4f2(0x741)]=_0x51c4f2(0x1c3),_0x4f1fdc[_0x51c4f2(0x3c0)]=_0x51c4f2(0x619),_0x4f1fdc[_0x51c4f2(0x19a)]=_0x51c4f2(0x593),_0x4f1fdc[_0x51c4f2(0x229)]='node-does-not-exist',_0x4f1fdc[_0x51c4f2(0x6c3)]='node-already-exist',_0x4f1fdc[_0x51c4f2(0x2db)]=_0x51c4f2(0x700);}(_0x57e5df||(_0x57e5df={}));const _0x273197=new Map([[_0x57e5df[_0x27a6cf(0x653)],_0x27a6cf(0x6f3)],[_0x57e5df['ConnectionNotConnected'],_0x27a6cf(0x258)],[_0x57e5df[_0x27a6cf(0x448)],_0x27a6cf(0x3b2)],[_0x57e5df[_0x27a6cf(0x3b8)],'Invalid\x20data\x20event.'],[_0x57e5df['ObjectStoreCannotWriteTransaction'],'Cannot\x20write\x20transaction.'],[_0x57e5df[_0x27a6cf(0x230)],_0x27a6cf(0x39f)],[_0x57e5df[_0x27a6cf(0x69a)],_0x27a6cf(0x6ea)],[_0x57e5df[_0x27a6cf(0x6bd)],'Invalid\x20data\x20chan_NO_RENAMEENAl.'],[_0x57e5df['InvalidPublisher'],_0x27a6cf(0x6b3)],[_0x57e5df[_0x27a6cf(0x718)],_0x27a6cf(0x3cf)],[_0x57e5df[_0x27a6cf(0x43e)],_0x27a6cf(0x52f)],[_0x57e5df[_0x27a6cf(0x391)],_0x27a6cf(0x424)],[_0x57e5df[_0x27a6cf(0x1ef)],_0x27a6cf(0x53d)],[_0x57e5df[_0x27a6cf(0x26a)],_0x27a6cf(0x4fb)],[_0x57e5df[_0x27a6cf(0x37a)],'Key-value\x20database\x20transaction\x20value\x20not\x20set.'],[_0x57e5df['LocalMediaStreamDoesNotExist'],'Local\x20stream\x20does\x20not\x20exist.'],[_0x57e5df['MissingRemoteConnection'],_0x27a6cf(0x5f1)],[_0x57e5df[_0x27a6cf(0x373)],_0x27a6cf(0x28d)],[_0x57e5df[_0x27a6cf(0x3f8)],_0x27a6cf(0x1c2)],[_0x57e5df[_0x27a6cf(0x2ef)],_0x27a6cf(0x27e)],[_0x57e5df[_0x27a6cf(0x69c)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x57e5df[_0x27a6cf(0x4cf)],_0x27a6cf(0x6a1)],[_0x57e5df['SubscriptionRequestDoesNotExist'],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x57e5df['SubscriptionRequestFailed'],_0x27a6cf(0x1c5)],[_0x57e5df[_0x27a6cf(0x19a)],_0x27a6cf(0x45a)],[_0x57e5df[_0x27a6cf(0x229)],'Node\x20does\x20not\x20exist.'],[_0x57e5df[_0x27a6cf(0x6c3)],_0x27a6cf(0x708)],[_0x57e5df[_0x27a6cf(0x2db)],_0x27a6cf(0x643)]]);class _0x2d2d59 extends Error{[_0x27a6cf(0x6cc)];static [_0x27a6cf(0x49c)]=_0x57e5df;['data'];constructor(_0x44b5d7,_0x2754f5){const _0x3d2d0d=_0x27a6cf;super(_0x3d2d0d(0x4b7)+_0x44b5d7+':\x20'+_0x273197[_0x3d2d0d(0x1d2)](_0x44b5d7)+_0x3d2d0d(0x42a)+JSON[_0x3d2d0d(0x63d)](_0x2754f5)),this[_0x3d2d0d(0x6cc)]=_0x44b5d7,this['data']=_0x2754f5||{};}}var _0x22acf3,_0x181276,_0x2e1348,_0x2d8853,_0x570754,_0x3421b2;!function(_0x3f4b2d){const _0x468858=_0x27a6cf;_0x3f4b2d[_0x3f4b2d['PublishMediaStream']=0x0]=_0x468858(0x5dd),_0x3f4b2d[_0x3f4b2d[_0x468858(0x21e)]=0x1]=_0x468858(0x21e),_0x3f4b2d[_0x3f4b2d[_0x468858(0x33b)]=0x2]=_0x468858(0x33b),_0x3f4b2d[_0x3f4b2d[_0x468858(0x48b)]=0x3]=_0x468858(0x48b),_0x3f4b2d[_0x3f4b2d[_0x468858(0x710)]=0x4]=_0x468858(0x710),_0x3f4b2d[_0x3f4b2d[_0x468858(0x478)]=0x5]='CloseObjectStoreBucket',_0x3f4b2d[_0x3f4b2d[_0x468858(0x5ac)]=0x6]=_0x468858(0x5ac),_0x3f4b2d[_0x3f4b2d[_0x468858(0x1ee)]=0x7]=_0x468858(0x1ee),_0x3f4b2d[_0x3f4b2d[_0x468858(0x65e)]=0x8]=_0x468858(0x65e),_0x3f4b2d[_0x3f4b2d[_0x468858(0x226)]=0x9]=_0x468858(0x226),_0x3f4b2d[_0x3f4b2d[_0x468858(0x2af)]=0xa]=_0x468858(0x2af),_0x3f4b2d[_0x3f4b2d[_0x468858(0x41d)]=0xb]=_0x468858(0x41d),_0x3f4b2d[_0x3f4b2d['SendTransactionsDump']=0xc]=_0x468858(0x330),_0x3f4b2d[_0x3f4b2d[_0x468858(0x447)]=0xd]='RequestTransactionsValue',_0x3f4b2d[_0x3f4b2d[_0x468858(0x216)]=0xe]=_0x468858(0x216),_0x3f4b2d[_0x3f4b2d[_0x468858(0x47a)]=0xf]=_0x468858(0x47a),_0x3f4b2d[_0x3f4b2d[_0x468858(0x225)]=0x10]='KeyValueDatabaseStats';}(_0x22acf3||(_0x22acf3={})),function(_0x309854){const _0x4a5c17=_0x27a6cf;_0x309854[_0x4a5c17(0x5d0)]=_0x4a5c17(0x57a),_0x309854[_0x4a5c17(0x3c9)]=_0x4a5c17(0x18c),_0x309854['Delete']=_0x4a5c17(0x370),_0x309854[_0x4a5c17(0x6e8)]='move',_0x309854['RequestFile']=_0x4a5c17(0x1b5),_0x309854['RequestAccepted']='request-accepted',_0x309854['RequestFileSync']=_0x4a5c17(0x64f),_0x309854['RequestFileWrite']=_0x4a5c17(0x347);}(_0x181276||(_0x181276={})),function(_0x1eb3c8){const _0x5c93d7=_0x27a6cf;_0x1eb3c8['Request']=_0x5c93d7(0x704),_0x1eb3c8[_0x5c93d7(0x547)]='transaction';}(_0x2e1348||(_0x2e1348={})),function(_0x285c6d){const _0x349318=_0x27a6cf;_0x285c6d['Add']=_0x349318(0x74b),_0x285c6d[_0x349318(0x393)]=_0x349318(0x53e),_0x285c6d['Delete']=_0x349318(0x370);}(_0x2d8853||(_0x2d8853={})),function(_0x5b8d81){const _0x270287=_0x27a6cf;_0x5b8d81[_0x270287(0x70a)]=_0x270287(0x1d2),_0x5b8d81['List']=_0x270287(0x64e),_0x5b8d81[_0x270287(0x665)]=_0x270287(0x745);}(_0x570754||(_0x570754={})),function(_0x2f617d){const _0x4e2f5c=_0x27a6cf;_0x2f617d[_0x2f617d[_0x4e2f5c(0x348)]=0x0]=_0x4e2f5c(0x348),_0x2f617d[_0x2f617d[_0x4e2f5c(0x3aa)]=0x1]=_0x4e2f5c(0x3aa),_0x2f617d[_0x2f617d['Content']=0x2]=_0x4e2f5c(0x260),_0x2f617d[_0x2f617d[_0x4e2f5c(0x4e6)]=0x3]='Subscription',_0x2f617d[_0x2f617d['Stats']=0x4]=_0x4e2f5c(0x55f),_0x2f617d[_0x2f617d['Detection']=0x5]=_0x4e2f5c(0x416),_0x2f617d[_0x2f617d[_0x4e2f5c(0x2a3)]=0x6]=_0x4e2f5c(0x2a3);}(_0x3421b2||(_0x3421b2={}));class _0x1017ba{[_0x27a6cf(0x472)];[_0x27a6cf(0x533)];[_0x27a6cf(0x1d6)];constructor(_0x536755,_0x151f62){const _0x932f06=_0x27a6cf;this['owner']=_0x536755,this[_0x932f06(0x533)]=_0x151f62;}[_0x27a6cf(0x1c9)](){const _0x245a4f=_0x27a6cf;return this[_0x245a4f(0x533)];}[_0x27a6cf(0x6a3)](){const _0x2a0f4c=_0x27a6cf;return this[_0x2a0f4c(0x472)][_0x2a0f4c(0x4cd)]();}['destroy'](){}[_0x27a6cf(0x6c0)](_0x4df226){const _0x36c974=_0x27a6cf;this[_0x36c974(0x1d6)]=_0x4df226;}[_0x27a6cf(0x5b0)](){const _0x282bd4=_0x27a6cf;delete this[_0x282bd4(0x1d6)];}}function _0x3e9c98(_0x1054fd,_0x2b2b16){return'/'===_0x1054fd?_0x1054fd+_0x2b2b16:_0x1054fd+'/'+_0x2b2b16;}function _0x4e4ec8(_0x687f9){const _0x559dc4=_0x27a6cf,_0x230834=function(_0x3a5b19){const _0x52226e=a0_0x4e89;return _0x3a5b19[_0x52226e(0x63b)]('/')[_0x52226e(0x57c)](_0xd1e52c=>_0xd1e52c[_0x52226e(0x1d0)]>0x0);}(_0x687f9),_0x5c810f=_0x230834['pop']()||'',_0x5553ab=_0x230834[_0x559dc4(0x4ff)]('/');return[0x0===_0x5553ab['length']?'/':_0x5553ab,_0x5c810f];}async function _0x51d28a(_0x31dc96){const _0x49e51d=_0x27a6cf,_0x626673=await _0x31dc96[_0x49e51d(0x6e7)](),_0x51feb6=new Uint8Array(_0x626673);let _0x5568da=0x0;for(const _0x2c5ce7 of _0x51feb6)_0x5568da+=_0x2c5ce7;return _0x5568da[_0x49e51d(0x546)]();}function _0x3583b3(_0x1ede19){return new Promise((_0x386587,_0x2ba27d)=>{!function(_0xe854be,_0x30b2b9,_0x1e834a){let _0x4414d9=0x0;const _0x5851ad=[],_0x490b43=()=>{const _0x574ec6=a0_0x4e89;let _0x335bc3=_0x4414d9+0x3f800;_0x335bc3>_0xe854be[_0x574ec6(0x1e6)]&&(_0x335bc3=_0xe854be[_0x574ec6(0x1e6)]);let _0x47ed0f=_0xe854be[_0x574ec6(0x58a)](_0x4414d9,_0x335bc3),_0x15a4b7=new FileReader();_0x15a4b7[_0x574ec6(0x2f8)]=_0x1c5b56=>{const _0x49e054=_0x574ec6;_0x5851ad[_0x49e054(0x647)](_0x15a4b7[_0x49e054(0x5d3)]),_0x4414d9=_0x335bc3,_0x4414d9<_0xe854be['size']?_0x490b43():_0x30b2b9(_0x5851ad);},_0x15a4b7[_0x574ec6(0x34e)]=_0x529962=>{_0x1e834a(_0x529962);},_0x15a4b7['readAsArrayBuffer'](_0x47ed0f);};_0x490b43();}(_0x1ede19,_0x386587,_0x2ba27d);});}function _0x34bcdc(_0x47c269,_0x3024f3,_0x1d62df){return new File(_0x47c269,_0x3024f3,{'type':_0x1d62df});}class _0x33503b extends _0x1017ba{['outgoingTopic'];[_0x27a6cf(0x3a6)];['fileChunks']=new Map();[_0x27a6cf(0x50b)]=0x0;[_0x27a6cf(0x1a5)]=0x0;[_0x27a6cf(0x6d6)]=0x0;[_0x27a6cf(0x1aa)]=0x0;constructor(_0x9e23c0,_0x23cc79){super(_0x9e23c0,_0x23cc79);}[_0x27a6cf(0x1c9)](){const _0x342ddc=_0x27a6cf;return this[_0x342ddc(0x533)];}[_0x27a6cf(0x560)](){const _0x112eda=_0x27a6cf;return this[_0x112eda(0x533)];}['getContentType'](){const _0x4ad08a=_0x27a6cf;return _0x1176cc[_0x4ad08a(0x6d9)][_0x4ad08a(0x1eb)];}[_0x27a6cf(0x274)](){const _0x2ef199=_0x27a6cf;return this[_0x2ef199(0x533)];}['registerPublisher'](_0x382da8){const _0x3fb6c8=_0x27a6cf;if(this['outgoingTopic'])throw new _0x2d2d59(_0x2d2d59[_0x3fb6c8(0x49c)][_0x3fb6c8(0x567)],{'message':_0x3fb6c8(0x5f7)+this[_0x3fb6c8(0x472)]['getId']()+_0x3fb6c8(0x515)+this[_0x3fb6c8(0x533)],'topic':this[_0x3fb6c8(0x55e)]});this[_0x3fb6c8(0x55e)]=_0x382da8;}[_0x27a6cf(0x40a)](_0x1f63bf){const _0xad75a9=_0x27a6cf;if(this[_0xad75a9(0x3a6)])throw new _0x2d2d59(_0x2d2d59[_0xad75a9(0x49c)][_0xad75a9(0x718)],{'message':_0xad75a9(0x350)+this[_0xad75a9(0x472)][_0xad75a9(0x4cd)]()+_0xad75a9(0x515)+this[_0xad75a9(0x533)],'topic':this[_0xad75a9(0x3a6)]});this[_0xad75a9(0x3a6)]=_0x1f63bf;}[_0x27a6cf(0x3cb)](){const _0x3d00de=_0x27a6cf;delete this[_0x3d00de(0x55e)];}[_0x27a6cf(0x18f)](){const _0x34df8e=_0x27a6cf;delete this[_0x34df8e(0x3a6)];}async[_0x27a6cf(0x3df)](_0x358af3,_0xd6fa35){const _0x5bacbd=_0x27a6cf;if(this[_0x5bacbd(0x50b)]+=0x1,_0x358af3 instanceof File){const _0x546901=await _0x3583b3(_0x358af3);return this[_0x5bacbd(0x6d6)]+=_0x546901['reduce']((_0x5a9101,_0x1d7c91)=>_0x5a9101+_0x1d7c91[_0x5bacbd(0x658)],0x0),void _0x546901[_0x5bacbd(0x469)]((_0x2ac97,_0x1c85fe)=>{const _0x3b7db2=_0x5bacbd;this['outgoingTopic'][_0x3b7db2(0x4b0)]({'sourceId':this[_0x3b7db2(0x472)][_0x3b7db2(0x4cd)](),'destinationIds':_0xd6fa35,'propagate':!0x0,'contentType':_0x1176cc['ContentType'][_0x3b7db2(0x47e)],'content':{'name':_0x358af3['name'],'type':_0x358af3['type'],'data':_0x2ac97,'index':_0x1c85fe,'total':_0x546901[_0x3b7db2(0x1d0)]}});});}this['bytesSent']+=JSON[_0x5bacbd(0x63d)](_0x358af3)[_0x5bacbd(0x1d0)],this[_0x5bacbd(0x55e)][_0x5bacbd(0x4b0)]({'sourceId':this[_0x5bacbd(0x472)][_0x5bacbd(0x4cd)](),'destinationIds':_0xd6fa35,'propagate':!0x0,'contentType':_0x1176cc['ContentType'][_0x5bacbd(0x1eb)],'content':_0x358af3});}['onMessage'](_0x1cf711){const _0x2bddfe=_0x27a6cf;return this[_0x2bddfe(0x3a6)][_0x2bddfe(0x290)](_0x55088a=>{const _0x353fe4=_0x2bddfe;switch(_0x55088a[_0x353fe4(0x43a)]){case _0x1176cc[_0x353fe4(0x6d9)][_0x353fe4(0x1eb)]:this[_0x353fe4(0x1a5)]+=0x1,this[_0x353fe4(0x1aa)]+=JSON[_0x353fe4(0x63d)](_0x55088a[_0x353fe4(0x5d4)])[_0x353fe4(0x1d0)],_0x1cf711(_0x55088a['sourceId'],_0x55088a['content']);break;case _0x1176cc[_0x353fe4(0x6d9)]['File']:this['fileChunks'][_0x353fe4(0x25a)](_0x55088a['content'][_0x353fe4(0x4e0)])||this[_0x353fe4(0x451)][_0x353fe4(0x734)](_0x55088a[_0x353fe4(0x5d4)][_0x353fe4(0x4e0)],[]);const _0x39fd5f=this[_0x353fe4(0x451)]['get'](_0x55088a['content']['name']);_0x39fd5f[_0x55088a[_0x353fe4(0x5d4)][_0x353fe4(0x395)]]=_0x55088a['content'][_0x353fe4(0x423)],_0x39fd5f[_0x353fe4(0x1d0)]===_0x55088a[_0x353fe4(0x5d4)]['total']&&(this[_0x353fe4(0x1a5)]+=0x1,this[_0x353fe4(0x1aa)]+=_0x39fd5f['reduce']((_0x26aade,_0x1a3b53)=>_0x26aade+_0x1a3b53['byteLength'],0x0),_0x1cf711(_0x55088a[_0x353fe4(0x552)],_0x34bcdc(_0x39fd5f,_0x55088a[_0x353fe4(0x5d4)][_0x353fe4(0x4e0)],_0x55088a['content'][_0x353fe4(0x2b7)])),this['fileChunks'][_0x353fe4(0x370)](_0x55088a[_0x353fe4(0x5d4)]['name']));}});}}function _0x22f6ab(){const _0x17186c=_0x27a6cf;let _0xf146ef=[];return{'subscribe':_0x46764e=>(_0xf146ef[_0x17186c(0x647)](_0x46764e),()=>{const _0x57118f=_0x17186c;_0xf146ef=_0xf146ef[_0x57118f(0x57c)](_0x5083fe=>_0x5083fe!==_0x46764e);}),'publish':_0x241cd3=>{const _0x5a6a8f=_0x17186c;_0xf146ef[_0x5a6a8f(0x469)](_0x160ccf=>_0x160ccf(_0x241cd3));}};}function _0xc40b89(){let _0x2ac168;return{'subscribe':_0xfc959=>(_0x2ac168=_0xfc959,()=>{_0x2ac168=void 0x0;}),'publish':_0x5edac5=>{_0x2ac168&&_0x2ac168(_0x5edac5);}};}class _0x31ed61{[_0x27a6cf(0x49b)];[_0x27a6cf(0x650)];['tableObserver'];[_0x27a6cf(0x333)]=_0xc40b89();[_0x27a6cf(0x739)];constructor(_0xab81d8,_0x1d40e9,_0xb52cba){const _0x4a1149=_0x27a6cf;this['connector']=_0xab81d8,this['tableName']=_0x1d40e9,this[_0x4a1149(0x420)]=_0xb52cba;}[_0x27a6cf(0x1dd)](){const _0x3e32ad=_0x27a6cf;this[_0x3e32ad(0x739)]?.();}async[_0x27a6cf(0x1d2)](_0x27a2eb){const _0x405dff=_0x27a6cf,_0x194958={'key':_0x27a2eb,'tableName':this['tableName'],'action':_0x570754[_0x405dff(0x70a)]};return this[_0x405dff(0x420)][_0x405dff(0x4b0)](_0x194958),this[_0x405dff(0x49b)]['get'](_0x27a2eb);}async[_0x27a6cf(0x734)](_0x50b0d3,_0x12e3d2,_0x34af32=!0x0){const _0x2b30e2=_0x27a6cf;this[_0x2b30e2(0x1f0)](_0x12e3d2);const _0x17d57a=await this[_0x2b30e2(0x49b)]['get'](_0x50b0d3),_0x660e63=await this[_0x2b30e2(0x49b)][_0x2b30e2(0x734)](_0x50b0d3,_0x12e3d2),_0xfdd9c2=_0x17d57a?_0x2d8853['Update']:_0x2d8853[_0x2b30e2(0x6d0)];if(this[_0x2b30e2(0x4b0)](_0xfdd9c2,_0x660e63),!_0x34af32)return _0x660e63;const _0x272f9b={'key':_0x50b0d3,'tableName':this[_0x2b30e2(0x650)],'action':_0xfdd9c2,'value':_0x660e63};return this[_0x2b30e2(0x420)][_0x2b30e2(0x4b0)](_0x272f9b),_0x660e63;}async[_0x27a6cf(0x74b)](_0x11d102){const _0x1dfffd=_0x27a6cf;this['validateValue'](_0x11d102);const _0x59977a=await this[_0x1dfffd(0x49b)][_0x1dfffd(0x74b)](_0x11d102),_0x45a3a7={'key':_0x59977a['id'],'tableName':this[_0x1dfffd(0x650)],'action':_0x2d8853[_0x1dfffd(0x6d0)],'value':_0x59977a};return this[_0x1dfffd(0x420)][_0x1dfffd(0x4b0)](_0x45a3a7),this[_0x1dfffd(0x4b0)](_0x45a3a7[_0x1dfffd(0x524)],_0x59977a),_0x59977a;}async[_0x27a6cf(0x370)](_0x18657f,_0x2ae6a2=!0x0){const _0x467cf6=_0x27a6cf,_0x3f642d=await this[_0x467cf6(0x49b)][_0x467cf6(0x1d2)](_0x18657f);if(!_0x3f642d)return;await this['connector'][_0x467cf6(0x370)](_0x18657f);const _0x44b27c=_0x2d8853[_0x467cf6(0x2ae)];if(this[_0x467cf6(0x4b0)](_0x44b27c,_0x3f642d),!_0x2ae6a2)return;const _0x20d16d={'key':_0x18657f,'tableName':this['tableName'],'action':_0x44b27c,'value':_0x3f642d};this[_0x467cf6(0x420)][_0x467cf6(0x4b0)](_0x20d16d);}async['clear'](){const _0x40b423=_0x27a6cf,_0x54af4b=await this['list']();for(const _0x18fbd9 of _0x54af4b){const _0x534266=_0x2d8853[_0x40b423(0x2ae)];this[_0x40b423(0x4b0)](_0x534266,_0x18fbd9);const _0x57111f={'key':_0x18fbd9['id'],'tableName':this[_0x40b423(0x650)],'action':_0x534266,'value':_0x18fbd9};this[_0x40b423(0x420)][_0x40b423(0x4b0)](_0x57111f);}return this['connector']['clear']();}async[_0x27a6cf(0x64e)](_0x515e30){const _0x36545f=_0x27a6cf,_0x2e223a={'key':'','tableName':this[_0x36545f(0x650)],'action':_0x570754[_0x36545f(0x2a8)]};this['tableObserver']['publish'](_0x2e223a);try{_0x515e30&&(_0x515e30=_0x515e30 instanceof _0x1c5eb7?_0x515e30['getQuery']():_0x1c5eb7[_0x36545f(0x70f)](_0x515e30)[_0x36545f(0x249)]());}catch(_0x3bb833){throw new _0x478f0b(_0x3792fa[_0x36545f(0x3ac)],_0x36545f(0x6f9));}try{return await this[_0x36545f(0x49b)]['list'](_0x515e30);}catch(_0x33d11e){let _0x3c1f27=_0x36545f(0x6f9);throw _0x33d11e instanceof Error&&(_0x3c1f27=_0x33d11e[_0x36545f(0x6a8)]),new _0x478f0b(_0x3792fa[_0x36545f(0x3ac)],_0x3c1f27);}}async[_0x27a6cf(0x745)](_0x4e3921){const _0x39e5fb=_0x27a6cf,_0x2cb479={'key':'','tableName':this[_0x39e5fb(0x650)],'action':_0x570754[_0x39e5fb(0x665)]};this[_0x39e5fb(0x420)][_0x39e5fb(0x4b0)](_0x2cb479);try{_0x4e3921&&(_0x4e3921=_0x4e3921 instanceof _0x1c5eb7?_0x4e3921[_0x39e5fb(0x249)]():_0x1c5eb7[_0x39e5fb(0x70f)](_0x4e3921)[_0x39e5fb(0x249)]());}catch(_0x70d386){throw new _0x478f0b(_0x3792fa[_0x39e5fb(0x3ac)],_0x39e5fb(0x6f9));}try{return await this[_0x39e5fb(0x49b)][_0x39e5fb(0x745)](_0x4e3921);}catch(_0x76118f){let _0xb2020='Invalid\x20query';throw _0x76118f instanceof Error&&(_0xb2020=_0x76118f['message']),new _0x478f0b(_0x3792fa['KeyValueDatabaseInvalidQuery'],_0xb2020);}}['calculateSize'](){const _0x578700=_0x27a6cf;return this[_0x578700(0x49b)][_0x578700(0x283)]();}[_0x27a6cf(0x290)](_0xb5d2bf){const _0xe8ed83=_0x27a6cf;this[_0xe8ed83(0x739)]=this['eventListener'][_0xe8ed83(0x290)](_0xb5d2bf);}['unsubscribe'](){this['listenerUnsubscriber']?.();}[_0x27a6cf(0x4b0)](_0x3c0d1f,_0x4dc45a){const _0x242b69=_0x27a6cf,_0x2bd000=this[_0x242b69(0x54e)](_0x3c0d1f,_0x4dc45a);this[_0x242b69(0x333)][_0x242b69(0x4b0)](_0x2bd000);}[_0x27a6cf(0x54e)](_0x3fe5dd,_0x158d42){const _0x2d2a55=_0x27a6cf;let _0x1a5471;switch(_0x3fe5dd){case _0x2d8853[_0x2d2a55(0x6d0)]:_0x1a5471=_0x2d2a55(0x74b);break;case _0x2d8853[_0x2d2a55(0x393)]:_0x1a5471=_0x2d2a55(0x53e);break;case _0x2d8853[_0x2d2a55(0x2ae)]:_0x1a5471=_0x2d2a55(0x370);}return{'action':_0x1a5471,'value':_0x158d42};}[_0x27a6cf(0x1f0)](_0x547d05){const _0x46a058=_0x27a6cf;if(_0x46a058(0x5e8)!=typeof _0x547d05||null===_0x547d05)throw new _0x478f0b(_0x3792fa['KeyValueDatabaseInvalidValue'],_0x46a058(0x55a));for(const _0x1f6d05 in _0x547d05){const _0x799c84=_0x547d05[_0x1f6d05];if(_0x46a058(0x5e8)!=typeof _0x799c84||_0x799c84 instanceof Date){if(![_0x46a058(0x2bd),_0x46a058(0x5de),'boolean'][_0x46a058(0x607)](typeof _0x799c84))throw new _0x478f0b(_0x3792fa[_0x46a058(0x381)],_0x46a058(0x5ab)+_0x1f6d05+_0x46a058(0x315));}else this[_0x46a058(0x1f0)](_0x799c84);}}}const _0x2e5112=require('firebase/app'),_0x7f491c=require('firebase/auth'),_0x554ba6=require('firebase/database'),_0x5158a0=require('firebase/firestore'),_0x399f40=require('firebase/functions');let _0x5b6560=_0xd840af(0x14d)['O'];function _0x40bc2d(_0x24067f){const _0x4aabc1=_0x27a6cf;return!(!_0x24067f||_0x4aabc1(0x5e8)!=typeof _0x24067f||Array['isArray'](_0x24067f));}_0x5b6560=function _0x312552(_0x2b843b,..._0x17f372){const _0x476917=_0x27a6cf;if(!Array[_0x476917(0x4bd)](_0x17f372)||0x0===_0x17f372[_0x476917(0x1d0)])return _0x2b843b;const _0x135151=_0x17f372[_0x476917(0x41b)]();if(_0x40bc2d(_0x2b843b)&&_0x40bc2d(_0x135151)){for(const _0x10759a in _0x135151)_0x40bc2d(_0x135151[_0x10759a])?(_0x2b843b[_0x10759a]||Object['assign'](_0x2b843b,{[_0x10759a]:{}}),_0x312552(_0x2b843b[_0x10759a],_0x135151[_0x10759a])):Object['assign'](_0x2b843b,{[_0x10759a]:_0x135151[_0x10759a]});}return _0x312552(_0x2b843b,..._0x17f372);}(_0x5b6560,_0xd840af(0x3e6)['O']);const _0x11eff4=_0x5b6560;class _0x5a7dc1{static [_0x27a6cf(0x367)];['app'];[_0x27a6cf(0x278)];[_0x27a6cf(0x318)];[_0x27a6cf(0x4d2)];['firestore'];[_0x27a6cf(0x543)];constructor(){}static['getInstance'](){const _0x2ad125=_0x27a6cf;return _0x5a7dc1[_0x2ad125(0x367)]||(_0x5a7dc1[_0x2ad125(0x367)]=new _0x5a7dc1()),_0x5a7dc1[_0x2ad125(0x367)];}['getApp'](){const _0x564f4a=_0x27a6cf;return this[_0x564f4a(0x337)]||(this[_0x564f4a(0x337)]=(0x0,_0x2e5112['initializeApp'])(_0x11eff4['firebaseConfig'])),this[_0x564f4a(0x337)];}[_0x27a6cf(0x48e)](){const _0xaf7138=_0x27a6cf;return this[_0xaf7138(0x278)]||(this[_0xaf7138(0x278)]=(0x0,_0x7f491c['getAuth'])(this[_0xaf7138(0x482)]())),this['auth'];}[_0x27a6cf(0x732)](){const _0x48fb03=_0x27a6cf;return this['functions']||(this[_0x48fb03(0x318)]=(0x0,_0x399f40[_0x48fb03(0x732)])(this[_0x48fb03(0x482)](),_0x11eff4[_0x48fb03(0x387)][_0x48fb03(0x42c)])),this[_0x48fb03(0x318)];}['getDatabase'](){const _0x84d637=_0x27a6cf;return this[_0x84d637(0x4d2)]||(this[_0x84d637(0x4d2)]=(0x0,_0x554ba6[_0x84d637(0x4ab)])(this['getApp']())),this[_0x84d637(0x4d2)];}[_0x27a6cf(0x38b)](){const _0x12fd74=_0x27a6cf;return this[_0x12fd74(0x3fc)]||(this[_0x12fd74(0x3fc)]=(0x0,_0x5158a0['getFirestore'])(this[_0x12fd74(0x482)]())),this[_0x12fd74(0x3fc)];}async['getEstimatedTimestamp'](){const _0x5ec98d=_0x27a6cf;if(this[_0x5ec98d(0x543)])return Date[_0x5ec98d(0x534)]()+this[_0x5ec98d(0x543)];const _0x275d14=this[_0x5ec98d(0x4ab)](),_0x532c40=(0x0,_0x554ba6[_0x5ec98d(0x335)])(_0x275d14,'.info/connected'),_0x323115=(0x0,_0x554ba6[_0x5ec98d(0x220)])(_0x532c40,_0x3d39ed=>{const _0x255cd5=_0x5ec98d;!0x1===_0x3d39ed[_0x255cd5(0x589)]()&&(_0x323115(),delete this[_0x255cd5(0x543)]);}),_0x105102=(0x0,_0x554ba6['ref'])(_0x275d14,_0x5ec98d(0x504));return new Promise(_0x28bca0=>{(0x0,_0x554ba6['onValue'])(_0x105102,_0x5b2b02=>{const _0x1d7642=a0_0x4e89;(0x0,_0x554ba6[_0x1d7642(0x3ec)])(_0x105102),this[_0x1d7642(0x543)]=_0x5b2b02['val'](),_0x28bca0(Date[_0x1d7642(0x534)]()+(this['clockSkew']??0x0));});});}}const _0x1f229f=_0x5a7dc1[_0x27a6cf(0x1a8)]();class _0x1670aa{static [_0x27a6cf(0x367)];[_0x27a6cf(0x6b9)]=[_0x5483cd[_0x27a6cf(0x41f)]];['debugEnabled']=!0x0;[_0x27a6cf(0x688)];[_0x27a6cf(0x25f)]='';['globalObject'];[_0x27a6cf(0x287)]=[];[_0x27a6cf(0x60d)]=this[_0x27a6cf(0x556)]();[_0x27a6cf(0x6ef)];[_0x27a6cf(0x240)]=0xa;['retryDelay']=0x1f4;['batchSize']=0x1c2;[_0x27a6cf(0x6b7)]=0x3e8;constructor(){const _0x3cd8eb=_0x27a6cf;if(_0x3cd8eb(0x298)!=typeof window)this[_0x3cd8eb(0x3c6)]=window;else{if(void 0x0===_0xd840af['g'])throw new Error(_0x3cd8eb(0x3ce));this['globalObject']=_0xd840af['g'];}this[_0x3cd8eb(0x5a8)](),this[_0x3cd8eb(0x3c6)][_0x3cd8eb(0x54d)]=_0x3eacbb=>{const _0x1ec5a1=_0x3cd8eb;if(_0x3eacbb===_0x5483cd[_0x1ec5a1(0x364)])return this['enabledChannels']=Object[_0x1ec5a1(0x47f)](_0x5483cd)['map'](_0x3c7d34=>_0x5483cd[_0x3c7d34]),void Object['keys'](_0x5483cd)[_0x1ec5a1(0x469)](_0xba40a4=>{const _0x361ddd=_0x1ec5a1,_0x4336b6=_0xba40a4;localStorage[_0x361ddd(0x5c5)](_0x361ddd(0x595)+_0x5483cd[_0x4336b6],_0x361ddd(0x540));});this['enabledChannels'][_0x1ec5a1(0x607)](_0x3eacbb)||(this['enabledChannels']['push'](_0x3eacbb),localStorage['setItem'](_0x1ec5a1(0x595)+_0x3eacbb,'true'));},this[_0x3cd8eb(0x3c6)]['crewdleSDKDisableLogging']=_0x4d94b2=>{const _0x18af86=_0x3cd8eb;if(!_0x4d94b2||_0x4d94b2===_0x5483cd[_0x18af86(0x364)])return this[_0x18af86(0x6b9)]=[],void Object[_0x18af86(0x47f)](_0x5483cd)[_0x18af86(0x469)](_0x428e1b=>{const _0x39ac6e=_0x18af86,_0xb4f260=_0x428e1b;localStorage[_0x39ac6e(0x5a4)](_0x39ac6e(0x595)+_0x5483cd[_0xb4f260]);});this[_0x18af86(0x6b9)][_0x18af86(0x607)](_0x4d94b2)&&(this[_0x18af86(0x6b9)]=this['enabledChannels'][_0x18af86(0x57c)](_0x89403f=>_0x89403f!==_0x4d94b2),localStorage[_0x18af86(0x5a4)](_0x18af86(0x595)+_0x4d94b2));},this[_0x3cd8eb(0x3c6)][_0x3cd8eb(0x1b0)]=_0x5483cd;}static[_0x27a6cf(0x1a8)](){const _0x2960a5=_0x27a6cf;try{return _0x1670aa[_0x2960a5(0x367)]||(_0x1670aa[_0x2960a5(0x367)]=new _0x1670aa()),_0x1670aa[_0x2960a5(0x367)];}catch(_0x741cec){return console[_0x2960a5(0x1ab)](_0x2960a5(0x196),_0x741cec),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}[_0x27a6cf(0x37b)](_0x562268){const _0x2fdad6=_0x27a6cf;this[_0x2fdad6(0x25f)]=_0x562268;}[_0x27a6cf(0x5cc)](_0x52e830){const _0xf9b094=_0x27a6cf;this[_0xf9b094(0x688)]=_0x52e830;}[_0x27a6cf(0x737)](_0x22a0f6,..._0x3b8d30){const _0x14603f=_0x27a6cf;this['debugEnabled']&&this[_0x14603f(0x517)](_0x5483cd[_0x14603f(0x41f)],'DEBUG\x20-\x20'+_0x22a0f6,..._0x3b8d30);}['log'](_0x281eea,_0x2d1ad2,..._0x5d4ba6){const _0x494a63=_0x27a6cf;_0x11eff4[_0x494a63(0x38d)]||(this[_0x494a63(0x6b9)]['includes'](_0x281eea)&&console[_0x494a63(0x517)]('Channel\x20\x27'+_0x281eea+'\x27\x0a',new Date()+'\x0a',_0x2d1ad2,..._0x5d4ba6),this[_0x494a63(0x688)]&&this[_0x494a63(0x688)][_0x494a63(0x469)](_0x4b909b=>{const _0x520b15=_0x494a63;this[_0x520b15(0x19f)](_0x4b909b)&&_0x4b909b[_0x520b15(0x19c)]()['includes'](_0x281eea)&&_0x4b909b[_0x520b15(0x517)](_0x2d1ad2,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x281eea,..._0x5d4ba6}});}));}['logRaw'](_0x4735cb,_0xa3d44c,..._0x2ca741){const _0x5f527c=_0x27a6cf;_0x11eff4[_0x5f527c(0x38d)]||(this[_0x5f527c(0x6b9)][_0x5f527c(0x607)](_0x4735cb)&&console['log'](_0xa3d44c,..._0x2ca741),this[_0x5f527c(0x688)]&&this[_0x5f527c(0x688)]['forEach'](_0x5f568f=>{const _0x3b058d=_0x5f527c;this['isInternalLoggingConnector'](_0x5f568f)&&_0x5f568f['getEnabledChannels']()[_0x3b058d(0x607)](_0x4735cb)&&_0x5f568f[_0x3b058d(0x517)](_0xa3d44c,{'vendorId':this[_0x3b058d(0x25f)],'nodeId':'','nodeType':'','data':{'channel':_0x4735cb,..._0x2ca741}});}));}[_0x27a6cf(0x639)](_0x3b2788,_0x20214f){const _0x28fa5d=_0x27a6cf;if(this['loggingConnectors']){const _0x1c1066={'vendorId':this[_0x28fa5d(0x25f)],..._0x20214f};this['loggingConnectors']['forEach'](_0x2fad24=>{const _0x2823ec=_0x28fa5d;_0x2fad24[_0x2823ec(0x517)](_0x3b2788,_0x1c1066);});}}[_0x27a6cf(0x232)](_0x21459a,_0x10c2f2){const _0x1c5494=_0x27a6cf,_0x154fb5=(0x0,_0x5158a0[_0x1c5494(0x743)])((0x0,_0x5158a0[_0x1c5494(0x1a3)])(_0x1f229f[_0x1c5494(0x38b)](),_0x1c5494(0x62f)+this[_0x1c5494(0x25f)]+_0x1c5494(0x2b9)));this[_0x1c5494(0x60d)]['batch'][_0x1c5494(0x734)](_0x154fb5,{..._0x10c2f2,'service':_0x21459a,'timestamp':(0x0,_0x5158a0['serverTimestamp'])()}),this[_0x1c5494(0x60d)][_0x1c5494(0x584)]['push']({'type':_0x1c5494(0x734),'ref':_0x154fb5[_0x1c5494(0x6f7)],'data':_0x10c2f2}),this[_0x1c5494(0x3d8)]();}[_0x27a6cf(0x50e)](_0x3fbb66,_0xfc3713,_0x2d7581){const _0x29f458=_0x27a6cf;(0x0,_0x5158a0['setDoc'])((0x0,_0x5158a0[_0x29f458(0x743)])(_0x1f229f[_0x29f458(0x38b)](),_0x29f458(0x62f)+this[_0x29f458(0x25f)]+'/'+_0x3fbb66+'/'+_0xfc3713),{'storage':_0x2d7581,'timestamp':(0x0,_0x5158a0[_0x29f458(0x331)])()});}[_0x27a6cf(0x3d8)](){const _0x2197f7=_0x27a6cf;this[_0x2197f7(0x60d)][_0x2197f7(0x56f)]++,this['currentBatch'][_0x2197f7(0x56f)]===this['batchSize']?this[_0x2197f7(0x2aa)]():this[_0x2197f7(0x6ef)]||(this[_0x2197f7(0x6ef)]=this[_0x2197f7(0x3c6)][_0x2197f7(0x520)](()=>this[_0x2197f7(0x2aa)](),this['timeoutValue']));}async[_0x27a6cf(0x2aa)](){const _0x1ea8ee=_0x27a6cf;for(this['batchQueue'][_0x1ea8ee(0x647)](this[_0x1ea8ee(0x60d)]),this[_0x1ea8ee(0x60d)]=this['createNewBatch']();this[_0x1ea8ee(0x287)][_0x1ea8ee(0x1d0)]>0x0;){const _0x49cdd2=this[_0x1ea8ee(0x287)][_0x1ea8ee(0x41b)]();if(!await this[_0x1ea8ee(0x667)](_0x49cdd2,0x0))break;}clearTimeout(this[_0x1ea8ee(0x6ef)]),this[_0x1ea8ee(0x6ef)]=void 0x0;}async[_0x27a6cf(0x667)](_0x4638ae,_0x2b03a4){const _0x2cf409=_0x27a6cf;if(_0x4638ae['counter']>0x0)try{return await _0x4638ae[_0x2cf409(0x6c8)]['commit'](),!0x0;}catch(_0x212332){if(console[_0x2cf409(0x1ab)](_0x2cf409(0x3b3),_0x212332,_0x2cf409(0x5b3),_0x4638ae[_0x2cf409(0x584)]),!(_0x2b03a4<this[_0x2cf409(0x240)])){const {nodeId:_0x4b1d9f='',nodeType:_0x54acbb='',clusterId:_0x486b73=''}=_0x4638ae[_0x2cf409(0x584)][0x0]['data'],_0x3b5406={'nodeId':_0x4b1d9f,'nodeType':_0x54acbb,'clusterId':_0x486b73,'data':{'operations':_0x4638ae['operations'],'error':_0x212332}};return this[_0x2cf409(0x1ab)](_0x2cf409(0x4b9),_0x3b5406),!0x1;}setTimeout(()=>this[_0x2cf409(0x667)](_0x4638ae,_0x2b03a4+0x1),this['retryDelay']*Math[_0x2cf409(0x6e0)](0x2,_0x2b03a4));}}[_0x27a6cf(0x1ab)](_0x1c9dbe,_0x5a9bec,..._0xb2d097){const _0x33bea1=_0x27a6cf;if(console[_0x33bea1(0x1ab)](new Date(),_0x1c9dbe,_0x5a9bec,..._0xb2d097),this[_0x33bea1(0x688)]){const _0x3f6a13={'vendorId':this[_0x33bea1(0x25f)],..._0x5a9bec};this[_0x33bea1(0x688)][_0x33bea1(0x469)](_0x29620f=>{_0x29620f['error'](_0x1c9dbe,_0x3f6a13);});}}['warning'](_0x394d52,_0x371712,..._0x48e93b){const _0x187fe7=_0x27a6cf;if(console[_0x187fe7(0x555)](new Date(),_0x394d52,_0x371712,_0x48e93b),this[_0x187fe7(0x688)]){const _0xedc8e={'vendorId':this['vendorId'],..._0x371712};this['loggingConnectors'][_0x187fe7(0x469)](_0x2ca7ca=>{_0x2ca7ca['warn'](_0x394d52,_0xedc8e);});}}['isChannelEnabled'](_0xd5a3b6){const _0x26a982=_0x27a6cf;return this['enabledChannels'][_0x26a982(0x607)](_0xd5a3b6);}[_0x27a6cf(0x5a8)](){const _0x266ec7=_0x27a6cf;try{Object[_0x266ec7(0x47f)](_0x5483cd)[_0x266ec7(0x469)](_0x4626cd=>{const _0x6eb846=_0x266ec7,_0x31ac4c=_0x4626cd;localStorage[_0x6eb846(0x306)](_0x6eb846(0x595)+_0x5483cd[_0x31ac4c])&&(console['log'](_0x6eb846(0x1a6),_0x5483cd[_0x31ac4c]),this[_0x6eb846(0x6b9)][_0x6eb846(0x647)](_0x5483cd[_0x31ac4c]));});}catch(_0x499010){}}[_0x27a6cf(0x19f)](_0x5d3273){const _0x56dd38=_0x27a6cf;return void 0x0!==_0x5d3273[_0x56dd38(0x19c)];}[_0x27a6cf(0x556)](){const _0x2b4fbc=_0x27a6cf;return{'batch':(0x0,_0x5158a0[_0x2b4fbc(0x217)])(_0x1f229f[_0x2b4fbc(0x38b)]()),'operations':[],'counter':0x0};}}const _0x20481a=_0x1670aa[_0x27a6cf(0x1a8)]();class _0x54bbbb extends _0x33503b{[_0x27a6cf(0x70b)];[_0x27a6cf(0x698)];[_0x27a6cf(0x25f)];['db'];[_0x27a6cf(0x67a)];[_0x27a6cf(0x481)]=new Map();[_0x27a6cf(0x420)];[_0x27a6cf(0x4c6)];['tableUnsubscriber'];[_0x27a6cf(0x4f2)];[_0x27a6cf(0x24f)];[_0x27a6cf(0x62b)]=[];[_0x27a6cf(0x724)]=()=>{};[_0x27a6cf(0x46e)];[_0x27a6cf(0x333)]=_0xc40b89();[_0x27a6cf(0x739)];[_0x27a6cf(0x1ed)]=[];[_0x27a6cf(0x6e6)];[_0x27a6cf(0x3f6)];['writes']=0x0;[_0x27a6cf(0x68a)]=0x0;constructor(_0x13a933,_0x23ac42,_0x2ecad3,_0x128a15,_0x16111b,_0x46d5b0){const _0x436da6=_0x27a6cf;if(_0x436da6(0x2bd)!=typeof _0x23ac42)throw new _0x478f0b(_0x3792fa[_0x436da6(0x233)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x13a933,_0x23ac42),this[_0x436da6(0x70b)]=_0x13a933,this[_0x436da6(0x698)]=_0x2ecad3,this[_0x436da6(0x25f)]=_0x128a15,this[_0x436da6(0x67a)]=_0x436da6(0x449)+this[_0x436da6(0x25f)]+'ccc'+this[_0x436da6(0x698)]+_0x436da6(0x449)+this['label'],this[_0x436da6(0x420)]=_0xc40b89(),this['isSync']=new Promise(_0x44d571=>{const _0xe2e10a=_0x436da6;this[_0xe2e10a(0x24f)]=_0x44d571;}),_0x16111b instanceof _0x5d18cb)this['layout']=_0x16111b[_0x436da6(0x2f5)]();else{const [_0x1d2e6f,_0x230cc5]=_0x5d18cb[_0x436da6(0x496)](_0x16111b);if(!_0x1d2e6f)throw new _0x478f0b(_0x3792fa[_0x436da6(0x65d)],_0x436da6(0x305)+_0x230cc5);this[_0x436da6(0x6e6)]=_0x16111b;}this['addReservedTables'](this[_0x436da6(0x6e6)]),this['db']=new _0x46d5b0(this[_0x436da6(0x67a)],this[_0x436da6(0x6e6)]),this[_0x436da6(0x39c)]();}['reset'](){this['sendStats']();}['getContentType'](){const _0x350725=_0x27a6cf;return _0x1176cc[_0x350725(0x6d9)][_0x350725(0x4ec)];}['destroy'](){const _0x35ef6d=_0x27a6cf;this['db'][_0x35ef6d(0x33d)](),this['tableUnsubscriber']?.(),clearTimeout(this[_0x35ef6d(0x3f6)]),delete this[_0x35ef6d(0x3f6)],super[_0x35ef6d(0x1dd)]();}[_0x27a6cf(0x33d)](){const _0x257a8d=_0x27a6cf;this[_0x257a8d(0x1d6)][_0x257a8d(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x257a8d(0x260)],'content':{'type':_0x22acf3['CloseKeyValueDatabase'],'label':this[_0x257a8d(0x533)]}});}[_0x27a6cf(0x44d)](_0x333fa7){const _0x292c45=_0x27a6cf,_0x50c361=this['tables']['get'](_0x333fa7);if(_0x50c361)return _0x50c361;try{if(!this['db']['hasTable'](_0x333fa7))throw new _0x478f0b(_0x3792fa[_0x292c45(0x219)],_0x292c45(0x5c4));const _0x4a8edc=new _0x31ed61(this['db'][_0x292c45(0x4d0)](_0x333fa7),_0x333fa7,this[_0x292c45(0x420)]);return this[_0x292c45(0x481)][_0x292c45(0x734)](_0x333fa7,_0x4a8edc),{'get':_0x4a8edc[_0x292c45(0x1d2)][_0x292c45(0x5f9)](_0x4a8edc),'set':_0x4a8edc[_0x292c45(0x734)][_0x292c45(0x5f9)](_0x4a8edc),'add':_0x4a8edc[_0x292c45(0x74b)][_0x292c45(0x5f9)](_0x4a8edc),'delete':_0x4a8edc[_0x292c45(0x370)][_0x292c45(0x5f9)](_0x4a8edc),'clear':_0x4a8edc[_0x292c45(0x662)][_0x292c45(0x5f9)](_0x4a8edc),'list':_0x4a8edc[_0x292c45(0x64e)][_0x292c45(0x5f9)](_0x4a8edc),'count':_0x4a8edc[_0x292c45(0x745)]['bind'](_0x4a8edc),'subscribe':_0x4a8edc['subscribe']['bind'](_0x4a8edc),'unsubscribe':_0x4a8edc[_0x292c45(0x1b7)][_0x292c45(0x5f9)](_0x4a8edc)};}catch(_0x205662){throw new _0x478f0b(_0x3792fa[_0x292c45(0x4e9)],_0x292c45(0x74d));}}[_0x27a6cf(0x290)](_0x1c7b65){const _0x473518=_0x27a6cf;this[_0x473518(0x739)]=this[_0x473518(0x333)][_0x473518(0x290)](_0x1c7b65);}[_0x27a6cf(0x1b7)](){const _0x16d9c6=_0x27a6cf;this[_0x16d9c6(0x739)]?.();}async[_0x27a6cf(0x279)](){const _0x2fcf64=_0x27a6cf,_0x48bc5f=[_0x3edfc5,_0x3b7185],_0x51d824=[];try{await this['db'][_0x2fcf64(0x279)]();const _0x39d7e9=this['db']['getTableConnector'](_0x3b7185),_0x4c4ad0=await _0x39d7e9[_0x2fcf64(0x64e)](),{id:_0x5570ed,layout:_0x593150}=_0x4c4ad0[0x0]??{};if(_0x593150){for(const _0x7b4b46 in _0x593150)_0x48bc5f[_0x2fcf64(0x607)](_0x7b4b46)||this['db'][_0x2fcf64(0x6f8)](_0x7b4b46)||_0x51d824[_0x2fcf64(0x647)](_0x7b4b46);_0x39d7e9[_0x2fcf64(0x734)](_0x5570ed,{'layout':this['layout']});}else _0x39d7e9[_0x2fcf64(0x74b)]({'layout':this[_0x2fcf64(0x6e6)]});}catch(_0x18b988){throw new _0x478f0b(_0x3792fa[_0x2fcf64(0x4e9)],_0x18b988[_0x2fcf64(0x6a8)]||_0x2fcf64(0x37f));}this['instantiateTransactionTable'](),this[_0x2fcf64(0x2c1)](),this[_0x2fcf64(0x34a)](),_0x51d824[_0x2fcf64(0x469)](_0x37032f=>this[_0x2fcf64(0x466)](_0x37032f));}async[_0x27a6cf(0x566)](_0x533159,_0x51a3c8){const _0x1b7e37=_0x27a6cf;_0x533159?(this[_0x1b7e37(0x724)]=_0x51a3c8,this[_0x1b7e37(0x46e)]=setTimeout(_0x51a3c8,_0x779273),this[_0x1b7e37(0x1d6)]['publish']({'sourceId':this[_0x1b7e37(0x70b)][_0x1b7e37(0x4cd)](),'destinationIds':[_0x533159],'messageType':_0x3421b2[_0x1b7e37(0x260)],'content':{'type':_0x22acf3[_0x1b7e37(0x41d)],'label':this[_0x1b7e37(0x533)]}}),await this[_0x1b7e37(0x4f2)]):setTimeout(()=>{const _0x4c84c0=_0x1b7e37;this[_0x4c84c0(0x206)](),this[_0x4c84c0(0x5ca)]();},0x0);}async['sendTransactionsDump'](_0x296d43){const _0x542fc4=_0x27a6cf;if(!this[_0x542fc4(0x4c6)])throw new _0x2d2d59(_0x2d2d59[_0x542fc4(0x49c)][_0x542fc4(0x26a)]);await this[_0x542fc4(0x4f2)];const _0x4ba38e=await this[_0x542fc4(0x4c6)]['list']();this[_0x542fc4(0x1d6)]['publish']({'sourceId':this[_0x542fc4(0x70b)][_0x542fc4(0x4cd)](),'destinationIds':[_0x296d43],'messageType':_0x3421b2[_0x542fc4(0x260)],'content':{'type':_0x22acf3[_0x542fc4(0x330)],'label':this[_0x542fc4(0x533)],'transactions':_0x4ba38e}});}async[_0x27a6cf(0x33f)](_0x578cb4,_0x5f12a6){const _0x5b67ba=_0x27a6cf;if(!this['transactionTable'])throw new _0x2d2d59(_0x2d2d59[_0x5b67ba(0x49c)][_0x5b67ba(0x26a)]);this[_0x5b67ba(0x206)]();const _0x492181=await this['transactionTable'][_0x5b67ba(0x64e)]();for(const _0xe3c239 of _0x492181){const _0x4a0d1a=_0x5f12a6[_0x5b67ba(0x613)](_0x5126ea=>_0x5126ea['id']===_0xe3c239['id']);if(_0x4a0d1a&&this[_0x5b67ba(0x590)](_0xe3c239,_0x4a0d1a)<=0x0)continue;const [_0x3a69de,_0xe51c54]=_0xe3c239['id'][_0x5b67ba(0x63b)]('::'),_0x555f8d=this[_0x5b67ba(0x481)][_0x5b67ba(0x1d2)](_0x3a69de),_0xb1a914=await _0x555f8d?.[_0x5b67ba(0x1d2)](_0xe51c54);_0xe3c239[_0x5b67ba(0x616)]=_0xb1a914,this[_0x5b67ba(0x3df)](_0xe3c239);}for(const _0x40227f of _0x5f12a6){const _0xe8d6fe=await this[_0x5b67ba(0x4c6)][_0x5b67ba(0x1d2)](_0x40227f['id']);if(!(_0xe8d6fe&&this['compareTransactions'](_0x40227f,_0xe8d6fe)<=0x0)){if(_0x40227f[_0x5b67ba(0x524)]===_0x2d8853['Delete']){const [_0x3dedc7,_0x2cf57d]=_0x40227f['id'][_0x5b67ba(0x63b)]('::'),_0xf5a330=this['tables'][_0x5b67ba(0x1d2)](_0x3dedc7);await _0xf5a330?.[_0x5b67ba(0x370)](_0x2cf57d,!0x1);}else this[_0x5b67ba(0x62b)][_0x5b67ba(0x647)](_0x40227f['id']);}}if(0x0===this[_0x5b67ba(0x62b)][_0x5b67ba(0x1d0)])return this[_0x5b67ba(0x206)](),void this['publishSyncCompleted']();this[_0x5b67ba(0x46e)]=setTimeout(this[_0x5b67ba(0x724)],_0x779273),this[_0x5b67ba(0x1d6)][_0x5b67ba(0x4b0)]({'sourceId':this[_0x5b67ba(0x70b)][_0x5b67ba(0x4cd)](),'destinationIds':[_0x578cb4],'messageType':_0x3421b2['Content'],'content':{'type':_0x22acf3['RequestTransactionsValue'],'label':this[_0x5b67ba(0x533)],'transactionIds':this[_0x5b67ba(0x62b)]}});}async[_0x27a6cf(0x319)](_0x35c1d6,_0x38b433){const _0x34164a=_0x27a6cf;if(!this['transactionTable'])throw new _0x2d2d59(_0x2d2d59[_0x34164a(0x49c)][_0x34164a(0x26a)]);for(const _0x49c035 of _0x38b433){const _0x5a7cca=await this[_0x34164a(0x4c6)][_0x34164a(0x1d2)](_0x49c035);if(!_0x5a7cca)continue;const [_0x1d7a30,_0x321737]=_0x49c035['split']('::'),_0x369683=this[_0x34164a(0x481)][_0x34164a(0x1d2)](_0x1d7a30),_0x201fba=await _0x369683?.[_0x34164a(0x1d2)](_0x321737);_0x5a7cca[_0x34164a(0x616)]=_0x201fba,this['send'](_0x5a7cca,[_0x35c1d6]);}}async[_0x27a6cf(0x1be)](_0x1dee2d){const _0x129bc3=_0x27a6cf;if(!this[_0x129bc3(0x4c6)])throw new _0x2d2d59(_0x2d2d59[_0x129bc3(0x49c)][_0x129bc3(0x26a)]);const _0x4581fe=await this[_0x129bc3(0x4c6)][_0x129bc3(0x1d2)](_0x1dee2d['id']);if(_0x4581fe&&this[_0x129bc3(0x590)](_0x1dee2d,_0x4581fe)<=0x0)return;const _0x2a0c81={..._0x1dee2d};return delete _0x2a0c81[_0x129bc3(0x616)],await this[_0x129bc3(0x4c6)][_0x129bc3(0x734)](_0x1dee2d['id'],_0x2a0c81),_0x1dee2d;}[_0x27a6cf(0x590)](_0x2f0301,_0xc545da){const _0x23d89b=_0x27a6cf;return _0x2f0301[_0x23d89b(0x632)]<_0xc545da['timestamp']?-0x1:_0x2f0301[_0x23d89b(0x632)]>_0xc545da['timestamp']?0x1:_0x2f0301[_0x23d89b(0x2fe)]-_0xc545da['priority'];}async[_0x27a6cf(0x57e)](_0x1bb1f5){const _0x2c8dcb=_0x27a6cf;if(!this[_0x2c8dcb(0x4c6)])throw new _0x2d2d59(_0x2d2d59[_0x2c8dcb(0x49c)][_0x2c8dcb(0x26a)]);const _0x17fb0c=_0x1bb1f5[_0x2c8dcb(0x650)]+'::'+_0x1bb1f5['key'],_0x4fe8d7=await _0x1f229f[_0x2c8dcb(0x6ff)](),_0x126f8b={'id':_0x17fb0c,'priority':Math[_0x2c8dcb(0x434)](),'timestamp':_0x4fe8d7,'action':_0x1bb1f5[_0x2c8dcb(0x524)]};if(await this[_0x2c8dcb(0x1be)](_0x126f8b))return _0x126f8b;}async[_0x27a6cf(0x466)](_0x4fab81){const _0x550075=_0x27a6cf;if(!this[_0x550075(0x4c6)])throw new _0x2d2d59(_0x2d2d59[_0x550075(0x49c)][_0x550075(0x26a)]);const _0x5db460=_0x1c5eb7[_0x550075(0x395)]('id')['where']('between',[_0x4fab81+'::',_0x4fab81+'::']),_0x1c9327=await this[_0x550075(0x4c6)][_0x550075(0x64e)](_0x5db460[_0x550075(0x249)]());for(const _0x26fd46 of _0x1c9327)await this[_0x550075(0x4c6)][_0x550075(0x370)](_0x26fd46['id']);}['setOnMessageHandler'](){const _0x2d1735=_0x27a6cf;this[_0x2d1735(0x3a5)](async(_0x571d96,_0x1c04e1)=>{const _0x214a21=_0x2d1735;if(_0x1c04e1 instanceof File)return;if(!await this[_0x214a21(0x1be)](_0x1c04e1))return void this[_0x214a21(0x553)](_0x1c04e1);if(!_0x1c04e1[_0x214a21(0x616)])throw new _0x2d2d59(_0x2d2d59[_0x214a21(0x49c)][_0x214a21(0x37a)]);const [_0x272b3b,_0x50417e]=_0x1c04e1['id']['split']('::'),_0x41dfba=this[_0x214a21(0x481)][_0x214a21(0x1d2)](_0x272b3b);if(!_0x41dfba)throw new _0x2d2d59(_0x2d2d59[_0x214a21(0x49c)][_0x214a21(0x1ef)],{'table':_0x41dfba});let _0x5d66cd=0x0;switch(_0x1c04e1['action']){case _0x2d8853[_0x214a21(0x6d0)]:case _0x2d8853[_0x214a21(0x393)]:{const _0x4ebf0=_0x41dfba[_0x214a21(0x734)](_0x50417e,_0x1c04e1[_0x214a21(0x616)],!0x1);_0x5d66cd=JSON['stringify'](_0x1c04e1[_0x214a21(0x616)])[_0x214a21(0x1d0)],this[_0x214a21(0x62b)][_0x214a21(0x607)](_0x1c04e1['id'])&&this[_0x214a21(0x1ed)]['push'](_0x4ebf0);break;}case _0x2d8853['Delete']:{const _0x292877=_0x41dfba['delete'](_0x50417e,!0x1);this[_0x214a21(0x62b)][_0x214a21(0x607)](_0x1c04e1['id'])&&this[_0x214a21(0x1ed)]['push'](_0x292877);break;}}_0x20481a[_0x214a21(0x232)](_0x4a6d96['KeyValueDatabase'],{'type':_0x214a21(0x566),'label':this[_0x214a21(0x533)],'nodeId':this[_0x214a21(0x70b)]['getId'](),'nodeType':this[_0x214a21(0x70b)][_0x214a21(0x2b7)],'clusterId':this[_0x214a21(0x698)],'tableName':_0x272b3b,'key':_0x50417e,'size':_0x5d66cd}),this['checkSyncComplete'](_0x1c04e1);});}[_0x27a6cf(0x34a)](){const _0x9339aa=_0x27a6cf;this[_0x9339aa(0x2f4)]=this['tableObserver']['subscribe'](async _0x136f7f=>{const _0xc6f246=_0x9339aa;let _0x483523=0x0;switch(_0x136f7f[_0xc6f246(0x524)]){case _0x2d8853['Add']:case _0x2d8853['Update']:case _0x2d8853[_0xc6f246(0x2ae)]:{const _0x40ecab=await this[_0xc6f246(0x57e)](_0x136f7f);if(!_0x40ecab)return;_0x40ecab['value']=_0x136f7f['value'],this[_0xc6f246(0x3df)](_0x40ecab),_0x483523=JSON[_0xc6f246(0x63d)](_0x136f7f[_0xc6f246(0x616)])[_0xc6f246(0x1d0)],this['writes']+=0x1;break;}case _0x570754['Get']:case _0x570754[_0xc6f246(0x2a8)]:case _0x570754[_0xc6f246(0x665)]:this[_0xc6f246(0x68a)]+=0x1;}_0x20481a[_0xc6f246(0x232)](_0x4a6d96[_0xc6f246(0x4ec)],{'type':_0x136f7f['action'],'label':this['label'],'nodeId':this[_0xc6f246(0x70b)][_0xc6f246(0x4cd)](),'nodeType':this['localNode'][_0xc6f246(0x2b7)],'clusterId':this[_0xc6f246(0x698)],'tableName':_0x136f7f[_0xc6f246(0x650)],'key':_0x136f7f['key'],'size':_0x483523}),this['sendStats']();});}['instantiateTransactionTable'](){const _0x2e847a=_0x27a6cf;this['db']&&(this[_0x2e847a(0x4c6)]||(this[_0x2e847a(0x4c6)]=this['db'][_0x2e847a(0x4d0)](_0x3edfc5)));}[_0x27a6cf(0x206)](){const _0x44bf7d=_0x27a6cf;this[_0x44bf7d(0x46e)]&&(clearTimeout(this['syncTimeout']),delete this[_0x44bf7d(0x46e)]);}[_0x27a6cf(0x5ca)](){const _0x6061e2=_0x27a6cf;this[_0x6061e2(0x333)][_0x6061e2(0x4b0)]({'event':_0x1176cc[_0x6061e2(0x64c)][_0x6061e2(0x357)]}),this[_0x6061e2(0x24f)]?.(!0x0),delete this[_0x6061e2(0x24f)],this['sendStats']();}async['publishSyncCompletedAfterWrites'](){const _0x58d57c=_0x27a6cf;await Promise[_0x58d57c(0x4c7)](this[_0x58d57c(0x1ed)]),this[_0x58d57c(0x5ca)]();}[_0x27a6cf(0x553)](_0x37fc1d){const _0x3bb8f3=_0x27a6cf;this[_0x3bb8f3(0x62b)][_0x3bb8f3(0x607)](_0x37fc1d['id'])&&(this[_0x3bb8f3(0x206)](),this[_0x3bb8f3(0x62b)]=this[_0x3bb8f3(0x62b)]['filter'](_0x2089e3=>_0x2089e3!==_0x37fc1d['id']),0x0!==this[_0x3bb8f3(0x62b)]['length']?this[_0x3bb8f3(0x46e)]=setTimeout(this[_0x3bb8f3(0x724)],_0x779273):this[_0x3bb8f3(0x510)]());}[_0x27a6cf(0x39c)](){const _0x24fb5c=_0x27a6cf;this[_0x24fb5c(0x3f6)]&&clearTimeout(this[_0x24fb5c(0x3f6)]),this[_0x24fb5c(0x3f6)]=setTimeout(async()=>{const _0x1c78dc=_0x24fb5c;delete this[_0x1c78dc(0x3f6)];let _0x58e3be=0x0;for(const _0x2da60d of this[_0x1c78dc(0x481)][_0x1c78dc(0x2f6)]())_0x58e3be+=await _0x2da60d[_0x1c78dc(0x283)]();this[_0x1c78dc(0x1d6)]['publish']({'sourceId':_0x554820,'messageType':_0x3421b2[_0x1c78dc(0x260)],'content':{'type':_0x22acf3[_0x1c78dc(0x225)],'label':this[_0x1c78dc(0x533)],'stats':{'timestamp':Date[_0x1c78dc(0x534)](),'storage':_0x58e3be,'messagesSent':this['messagesSent'],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x1c78dc(0x1aa)],'writes':this[_0x1c78dc(0x4ee)],'reads':this[_0x1c78dc(0x68a)]}}}),_0x20481a['logStorage'](_0x4a6d96[_0x1c78dc(0x4ec)],_0x1c78dc(0x449)+this[_0x1c78dc(0x698)]+_0x1c78dc(0x449)+this[_0x1c78dc(0x533)],_0x58e3be);},0x1388);}['addReservedTables'](_0x48ef50){const _0x191710=_0x27a6cf;if(_0x48ef50[_0x191710(0x481)][_0x3edfc5])throw new _0x478f0b(_0x3792fa[_0x191710(0x282)],_0x191710(0x3a7)+_0x3edfc5+_0x191710(0x38e));if(_0x48ef50[_0x191710(0x481)][_0x3b7185])throw new _0x478f0b(_0x3792fa['KeyValueDatabaseTableNameReserved'],_0x191710(0x3a7)+_0x3b7185+_0x191710(0x38e));_0x48ef50[_0x191710(0x481)][_0x3edfc5]={'indexes':[]},_0x48ef50[_0x191710(0x481)][_0x3b7185]={'indexes':[]};}}const _0x2e8a87=require('@crewdle/mist-connector-opfs'),_0x5da2fa=require('@crewdle/mist-connector-indexed-db'),_0x3c88c8=require('@crewdle/mist-connector-webrtc-browser');var _0x275fba,_0x3ecb35,_0x1ffd7c,_0xf30543,_0x3ae988,_0x1c6aa9,_0x6e3577,_0x86405e,_0xc3de87;!function(_0x24c6e6){const _0x2e864=_0x27a6cf;_0x24c6e6['AudioContext']=_0x2e864(0x5c8),_0x24c6e6[_0x2e864(0x392)]='AudioOutput',_0x24c6e6['AudioVolume']=_0x2e864(0x34f),_0x24c6e6[_0x2e864(0x199)]=_0x2e864(0x199),_0x24c6e6[_0x2e864(0x46c)]=_0x2e864(0x46c),_0x24c6e6[_0x2e864(0x2b1)]=_0x2e864(0x2b1),_0x24c6e6[_0x2e864(0x2a0)]='Recording',_0x24c6e6[_0x2e864(0x697)]=_0x2e864(0x697),_0x24c6e6[_0x2e864(0x191)]='WebGL',_0x24c6e6[_0x2e864(0x690)]=_0x2e864(0x690);}(_0x275fba||(_0x275fba={}));class _0x53cb11{[_0x27a6cf(0x273)];[_0x27a6cf(0x468)];[_0x27a6cf(0x24b)];constructor(_0xde330a=new Map(),_0x978bc6=new Map(),_0x2585c6=new EventTarget()){const _0x13465d=_0x27a6cf;this['registeredListeners']=_0xde330a,this['bufferedEvents']=_0x978bc6,this[_0x13465d(0x24b)]=_0x2585c6;}[_0x27a6cf(0x21c)]=(_0x26993b,_0x302a24)=>this[_0x27a6cf(0x273)][_0x27a6cf(0x25a)](_0x26993b)?(_0x20481a[_0x27a6cf(0x517)](_0x5483cd[_0x27a6cf(0x603)],_0x27a6cf(0x5e6),{'event':_0x26993b,'data':_0x302a24}),this[_0x27a6cf(0x24b)][_0x27a6cf(0x2cf)](new CustomEvent(_0x26993b,{'detail':_0x302a24})),!0x0):(this[_0x27a6cf(0x4b2)](_0x26993b,_0x302a24),!0x1);['on']=(_0x1d91c7,_0x1804f7)=>{const _0x57a579=_0x27a6cf,_0x331f94=_0x4df32d=>{const _0x133240=a0_0x4e89;_0x20481a[_0x133240(0x517)](_0x5483cd[_0x133240(0x603)],'Received\x20event\x20on\x20cluster',_0x4df32d['type'],_0x4df32d[_0x133240(0x1b1)]),_0x1804f7(_0x4df32d[_0x133240(0x1b1)]);};return this['registeredListeners'][_0x57a579(0x734)](_0x1d91c7,_0x331f94),this[_0x57a579(0x24b)][_0x57a579(0x1cf)](_0x1d91c7,_0x331f94),_0x20481a['log'](_0x5483cd[_0x57a579(0x18e)],_0x57a579(0x325),_0x1d91c7,_0x1804f7),this[_0x57a579(0x35f)](_0x1d91c7),this;};[_0x27a6cf(0x3ec)](_0x444993){const _0x4b34ac=_0x27a6cf;if(!_0x444993)return this['registeredListeners'][_0x4b34ac(0x469)]((_0x342033,_0x581678)=>{const _0x4fecd7=_0x4b34ac;this[_0x4fecd7(0x24b)][_0x4fecd7(0x40e)](_0x581678,_0x342033);}),void this[_0x4b34ac(0x273)][_0x4b34ac(0x662)]();_0x4b34ac(0x2bd)==typeof _0x444993&&this[_0x4b34ac(0x438)](_0x444993),Array[_0x4b34ac(0x4bd)](_0x444993)&&_0x444993[_0x4b34ac(0x469)](_0x206360=>{this['removeListener'](_0x206360);});}[_0x27a6cf(0x438)](_0x26f654){const _0x49c2bd=_0x27a6cf,_0x3ac5c7=this[_0x49c2bd(0x273)][_0x49c2bd(0x1d2)](_0x26f654);_0x3ac5c7&&(this[_0x49c2bd(0x24b)][_0x49c2bd(0x40e)](_0x26f654,_0x3ac5c7),this[_0x49c2bd(0x273)][_0x49c2bd(0x370)](_0x26f654));}[_0x27a6cf(0x4b2)](_0x86be93,_0x329c5b){const _0x10a166=_0x27a6cf;_0x20481a['log'](_0x5483cd['Events'],_0x10a166(0x5ae),{'event':_0x86be93,'data':_0x329c5b});const _0x1f34b1=this['bufferedEvents'][_0x10a166(0x1d2)](_0x86be93)||[];this[_0x10a166(0x468)][_0x10a166(0x734)](_0x86be93,[..._0x1f34b1,_0x329c5b]);}[_0x27a6cf(0x35f)](_0x4f078b){const _0x42c9ee=_0x27a6cf,_0x2b51fa=this[_0x42c9ee(0x468)][_0x42c9ee(0x1d2)](_0x4f078b);_0x2b51fa&&(_0x2b51fa[_0x42c9ee(0x469)](_0x563bec=>{const _0x154bc3=_0x42c9ee;_0x20481a[_0x154bc3(0x517)](_0x5483cd['Events'],_0x154bc3(0x627),{'event':_0x4f078b,'data':_0x563bec}),this[_0x154bc3(0x24b)]['dispatchEvent'](new CustomEvent(_0x4f078b,{'detail':_0x563bec}));}),this['bufferedEvents'][_0x42c9ee(0x370)](_0x4f078b));}}class _0x5afd36 extends Error{constructor(_0x5a9349){const _0x661794=_0x27a6cf;super(_0x661794(0x3e5)+_0x5a9349);}}!function(_0x1a1bfa){const _0x348cd6=_0x27a6cf;_0x1a1bfa[_0x1a1bfa[_0x348cd6(0x4a9)]=0x0]=_0x348cd6(0x4a9),_0x1a1bfa[_0x1a1bfa[_0x348cd6(0x291)]=0x1]=_0x348cd6(0x291);}(_0x3ecb35||(_0x3ecb35={})),function(_0x5cf1f7){const _0x12a868=_0x27a6cf;_0x5cf1f7[_0x5cf1f7[_0x12a868(0x6c6)]=0x0]=_0x12a868(0x6c6),_0x5cf1f7[_0x5cf1f7[_0x12a868(0x5d1)]=0x1]=_0x12a868(0x5d1),_0x5cf1f7[_0x5cf1f7[_0x12a868(0x4fd)]=0x2]=_0x12a868(0x4fd),_0x5cf1f7[_0x5cf1f7['Success']=0x3]=_0x12a868(0x453),_0x5cf1f7[_0x5cf1f7[_0x12a868(0x43f)]=0x4]=_0x12a868(0x43f),_0x5cf1f7[_0x5cf1f7[_0x12a868(0x31e)]=0x5]=_0x12a868(0x31e),_0x5cf1f7[_0x5cf1f7[_0x12a868(0x349)]=0x6]=_0x12a868(0x349),_0x5cf1f7[_0x5cf1f7['Stats']=0x7]=_0x12a868(0x55f),_0x5cf1f7[_0x5cf1f7[_0x12a868(0x501)]=0x8]=_0x12a868(0x501);}(_0x1ffd7c||(_0x1ffd7c={})),function(_0x1465ef){const _0x4037d4=_0x27a6cf;_0x1465ef[_0x1465ef[_0x4037d4(0x5cf)]=0x0]='Sender',_0x1465ef[_0x1465ef[_0x4037d4(0x262)]=0x1]=_0x4037d4(0x262);}(_0xf30543||(_0xf30543={})),function(_0x3143e3){const _0x35e6fc=_0x27a6cf;_0x3143e3[_0x35e6fc(0x2b1)]=_0x35e6fc(0x3e2);}(_0x3ae988||(_0x3ae988={})),function(_0x406695){const _0x3095e9=_0x27a6cf;_0x406695[_0x406695['NodeJoin']=0x0]=_0x3095e9(0x4c3),_0x406695[_0x406695[_0x3095e9(0x727)]=0x1]=_0x3095e9(0x727),_0x406695[_0x406695[_0x3095e9(0x377)]=0x2]=_0x3095e9(0x377),_0x406695[_0x406695[_0x3095e9(0x375)]=0x3]=_0x3095e9(0x375);}(_0x1c6aa9||(_0x1c6aa9={})),function(_0x2bc156){const _0x2002eb=_0x27a6cf;_0x2bc156[_0x2bc156['Remediation']=0x0]=_0x2002eb(0x2a3),_0x2bc156[_0x2bc156[_0x2002eb(0x4a2)]=0x1]=_0x2002eb(0x4a2);}(_0x6e3577||(_0x6e3577={})),function(_0x23c8b6){const _0x217254=_0x27a6cf;_0x23c8b6['Upgrade']=_0x217254(0x1b2),_0x23c8b6[_0x217254(0x53f)]=_0x217254(0x64b);}(_0x86405e||(_0x86405e={})),function(_0x9c94e9){const _0x16d4ed=_0x27a6cf;_0x9c94e9['Resolution']=_0x16d4ed(0x28a),_0x9c94e9['Bitrate']=_0x16d4ed(0x200);}(_0xc3de87||(_0xc3de87={}));const _0x105817=require('aws-amplify'),_0x18aa0e=require('aws-amplify/utils'),_0x31d448=require('@aws-amplify/api'),_0x253852=require('@aws-amplify/core');class _0x3c7120{['clusterId'];[_0x27a6cf(0x70b)];[_0x27a6cf(0x5fc)];constructor(_0x1dbc62,_0x33703c,_0x5160aa){const _0x5b2b04=_0x27a6cf;this['clusterId']=_0x1dbc62,this[_0x5b2b04(0x70b)]=_0x33703c,this['remoteId']=_0x5160aa;}[_0x27a6cf(0x664)](){const _0xedb898=_0x27a6cf;return this['localNode'][_0xedb898(0x4cd)]();}[_0x27a6cf(0x519)](){const _0x13eb2a=_0x27a6cf;return this[_0x13eb2a(0x5fc)];}}var _0x2f4a06,_0x469f1e,_0x4407d4;function _0xd717c5(_0x21cbfd,_0x358f62){const _0x35fcfd=_0x27a6cf;return _0x21cbfd[_0x35fcfd(0x552)]===_0x358f62;}function _0x478631(_0x55062e,_0x862682){const _0x29072b=_0x27a6cf;return _0x55062e[_0x29072b(0x4d7)]?.[_0x29072b(0x607)](_0x862682)??function(_0x3c88ab){const _0x535e34=_0x29072b;return void 0x0===_0x3c88ab[_0x535e34(0x4d7)];}(_0x55062e);}function _0x147f15(_0x56dad5,{contentType:_0x51e3e2,label:_0x28900a,remoteId:_0x4aff69}){return _0x56dad5+'-'+_0x51e3e2+'-'+_0x28900a+'-'+_0x4aff69;}function _0x1e7e5e(_0x347d58,_0x115e4a,_0x361a68){return''+_0x347d58+_0x115e4a+_0x361a68;}function _0x263cd1(_0x3041dc){const _0x50b070=_0x27a6cf;return _0x3041dc===_0x469f1e[_0x50b070(0x4b4)]?'IncomingSubscription':_0x50b070(0x6cd);}function _0x17b227(_0x15e3c2,_0x4c0b5c){const _0x17a365=_0x27a6cf;return{'label':_0x15e3c2['getInternalStreamId'](),'contentType':_0x15e3c2[_0x17a365(0x2e0)](),'remoteId':_0x4c0b5c[_0x17a365(0x519)](),'supportsContentType':_0x4c0b5c[_0x17a365(0x64d)]()[_0x17a365(0x607)](_0x15e3c2[_0x17a365(0x2e0)]())};}!function(_0x2d2cc9){const _0x4cf3f6=_0x27a6cf;_0x2d2cc9[_0x2d2cc9[_0x4cf3f6(0x1bb)]=0x0]='Waiting',_0x2d2cc9[_0x2d2cc9['Accepted']=0x1]=_0x4cf3f6(0x5e5),_0x2d2cc9[_0x2d2cc9['Rejected']=0x2]=_0x4cf3f6(0x657);}(_0x2f4a06||(_0x2f4a06={})),function(_0x3a65ac){const _0x4f442a=_0x27a6cf;_0x3a65ac['Incoming']='in',_0x3a65ac[_0x4f442a(0x22d)]=_0x4f442a(0x3ab);}(_0x469f1e||(_0x469f1e={}));class _0x7806b5{[_0x27a6cf(0x40c)];['retryCallback'];constructor(_0x5732ab,_0x2862d9){const _0x3352b6=_0x27a6cf;this['callback']=_0x5732ab,this[_0x3352b6(0x6ad)]=_0x2862d9;}[_0x27a6cf(0x234)](_0x47b483){const _0xef4817=_0x27a6cf;this[_0xef4817(0x40c)](_0x47b483);}async[_0x27a6cf(0x701)](){const _0x3e5b81=_0x27a6cf;await this[_0x3e5b81(0x6ad)]();}}class _0x1d821c{[_0x27a6cf(0x40c)];[_0x27a6cf(0x6ad)];constructor(_0x20ad33,_0x2bfce4){const _0x3a2cac=_0x27a6cf;this[_0x3a2cac(0x40c)]=_0x20ad33,this['retryCallback']=_0x2bfce4;}async[_0x27a6cf(0x234)](_0x3d5c4e){const _0x4a2134=_0x27a6cf;await this[_0x4a2134(0x40c)](_0x3d5c4e);}async[_0x27a6cf(0x701)](){const _0x215d0d=_0x27a6cf;await this[_0x215d0d(0x6ad)]();}}function _0x8a8510(_0x4c59b2=()=>{},_0x18d092=()=>!0x1,_0xed43e8=()=>{}){let _0xc24206,_0x464fdb,_0x1a781c=0x0;return{get 'size'(){return _0x1a781c;},get 'head'(){return _0xc24206;},get 'tail'(){return _0x464fdb;},set 'head'(_0x5d60b2){_0xc24206=_0x5d60b2;},set 'tail'(_0x1b992c){_0x464fdb=_0x1b992c;},'push'(_0x270af9,_0x21684d=!0x0){const _0x5a62d3=a0_0x4e89,_0x3f2e35={'value':_0x270af9};_0x21684d&&_0x18d092(_0x3f2e35)?_0x4c59b2():(_0x464fdb&&(_0x3f2e35[_0x5a62d3(0x70e)]=_0x464fdb,_0x464fdb[_0x5a62d3(0x570)]=_0x3f2e35),_0x464fdb=_0x3f2e35,_0xc24206||(_0xc24206=_0x3f2e35),_0x1a781c+=0x1,_0x21684d&&_0x4c59b2());},'pop'(){const _0x7f7452=a0_0x4e89;if(!_0x464fdb)return;const _0x17e36e=_0x464fdb[_0x7f7452(0x616)];return _0x464fdb=_0x464fdb[_0x7f7452(0x70e)],_0x464fdb&&delete _0x464fdb[_0x7f7452(0x570)],_0x464fdb||(_0xc24206=void 0x0),_0x1a781c-=0x1,_0x17e36e;},'unshift'(_0x4c2c05,_0x238db3=!0x0){const _0x1a8df0=a0_0x4e89,_0x4c8b3f={'value':_0x4c2c05};_0x238db3&&_0x18d092(_0x4c8b3f)?_0x4c59b2():(_0xc24206&&(_0xc24206['previous']=_0x4c8b3f,_0x4c8b3f[_0x1a8df0(0x570)]=_0xc24206),_0xc24206=_0x4c8b3f,_0x464fdb||(_0x464fdb=_0x4c8b3f),_0x1a781c+=0x1,_0x238db3&&_0x4c59b2());},'shift'(){const _0x3bfeb8=a0_0x4e89;if(!_0xc24206)return;const _0xcc8c7d=_0xc24206['value'];return _0xc24206=_0xc24206[_0x3bfeb8(0x570)],_0xc24206&&delete _0xc24206['previous'],_0xc24206||(_0x464fdb=void 0x0),_0x1a781c-=0x1,_0xcc8c7d;},'clear'(){_0xed43e8(),_0xc24206=void 0x0,_0x464fdb=void 0x0,_0x1a781c=0x0;}};}function _0x446e2c(_0x236baa,_0x212e76=!0x1,_0x20a32f=()=>{},_0x4dff1f=()=>!0x1,_0x33c52b=()=>{}){let _0x35b0a8=!0x1;const _0x4ac3a4=_0x8a8510(async function(){const _0x2b24ef=a0_0x4e89;if(!_0x35b0a8){for(_0x35b0a8=!0x0;_0x4ac3a4[_0x2b24ef(0x4aa)];){const _0x2ec5a3=_0x4ac3a4[_0x2b24ef(0x41b)]();if(_0x2ec5a3)try{_0x236baa instanceof _0x7806b5&&_0x236baa[_0x2b24ef(0x234)](_0x2ec5a3),_0x236baa instanceof _0x1d821c&&await _0x236baa['call'](_0x2ec5a3),_0x20a32f(_0x2ec5a3);}catch(_0x226335){_0x212e76?_0x4ac3a4[_0x2b24ef(0x647)](_0x2ec5a3,!0x1):_0x4ac3a4[_0x2b24ef(0x55c)](_0x2ec5a3,!0x1),await _0x236baa[_0x2b24ef(0x701)]();}}_0x35b0a8=!0x1;}},_0x4dff1f,_0x33c52b);return _0x4ac3a4;}class _0x449f65 extends _0x3c7120{[_0x27a6cf(0x25f)];[_0x27a6cf(0x578)];['connectionState']=_0x31d448[_0x27a6cf(0x24e)][_0x27a6cf(0x527)];[_0x27a6cf(0x2a7)]=_0xc40b89();[_0x27a6cf(0x39b)]=_0x22f6ab();[_0x27a6cf(0x671)];[_0x27a6cf(0x1c1)];['retryQueue']=_0x446e2c(new _0x1d821c(this[_0x27a6cf(0x4b8)][_0x27a6cf(0x5f9)](this),this['waitConnected'][_0x27a6cf(0x5f9)](this)));[_0x27a6cf(0x45f)];constructor(_0x9de3a8,_0x46fa6f,_0x41ee4e,_0xc8f78,_0x1580de){const _0x2cb939=_0x27a6cf;super(_0x46fa6f,_0x41ee4e,_0xc8f78),this[_0x2cb939(0x25f)]=_0x9de3a8,this[_0x2cb939(0x578)]=_0x1580de;}async[_0x27a6cf(0x3b7)](){const _0x58ccf8=_0x27a6cf;try{const _0x581b13={'getTokens':async()=>{const _0x532d94=a0_0x4e89,_0xb4446c=await this[_0x532d94(0x578)][_0x532d94(0x3fe)]();return{'accessToken':(0x0,_0x253852[_0x532d94(0x23f)])(_0xb4446c),'idToken':(0x0,_0x253852['decodeJWT'])(_0xb4446c)};}};_0x105817[_0x58ccf8(0x460)][_0x58ccf8(0x5c6)]({'API':{'GraphQL':{'endpoint':_0x11eff4['aws'][_0x58ccf8(0x1f1)],'region':_0x11eff4['aws'][_0x58ccf8(0x458)],'defaultAuthMode':_0x58ccf8(0x544)}}},{'Auth':{'tokenProvider':_0x581b13}}),this[_0x58ccf8(0x45f)]=(0x0,_0x31d448['generateClient'])(),await this[_0x58ccf8(0x290)](),this[_0x58ccf8(0x1c1)]=_0x18aa0e[_0x58ccf8(0x429)]['listen'](_0x58ccf8(0x2a4),async({payload:_0x448a4f})=>{const _0x36cae1=_0x58ccf8;if(_0x448a4f[_0x36cae1(0x4a8)]===_0x31d448['CONNECTION_STATE_CHANGE']){const _0x29f81c=_0x448a4f['data'];this[_0x36cae1(0x308)]=_0x29f81c[_0x36cae1(0x308)],this['connectionStateListener'][_0x36cae1(0x4b0)](_0x29f81c['connectionState']),this[_0x36cae1(0x308)]===_0x31d448[_0x36cae1(0x24e)][_0x36cae1(0x527)]&&_0x20481a[_0x36cae1(0x1ab)]('appsync-disconnect',{'clusterId':this[_0x36cae1(0x698)],'nodeId':this[_0x36cae1(0x664)](),'nodeType':this[_0x36cae1(0x70b)][_0x36cae1(0x2b7)]}),this[_0x36cae1(0x308)]===_0x31d448['ConnectionState'][_0x36cae1(0x31d)]&&_0x20481a[_0x36cae1(0x56d)](_0x36cae1(0x483),{'clusterId':this[_0x36cae1(0x698)],'nodeId':this[_0x36cae1(0x664)](),'nodeType':this[_0x36cae1(0x70b)][_0x36cae1(0x2b7)]});}});}catch(_0x3dd478){_0x20481a[_0x58ccf8(0x1ab)](_0x58ccf8(0x672),{'clusterId':this[_0x58ccf8(0x698)],'nodeId':this['getLocalId'](),'nodeType':this[_0x58ccf8(0x70b)][_0x58ccf8(0x2b7)]});}}[_0x27a6cf(0x33d)](){const _0x311c9f=_0x27a6cf;_0x20481a[_0x311c9f(0x56d)](_0x311c9f(0x45c),{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this[_0x311c9f(0x70b)][_0x311c9f(0x2b7)]}),this[_0x311c9f(0x5be)][_0x311c9f(0x662)](),this['listenUnsubscriber']?.(),this['subscription']?.['unsubscribe'](),delete this['subscription'];}['isConnected'](){const _0x57c75a=_0x27a6cf;return this[_0x57c75a(0x308)]===_0x31d448[_0x57c75a(0x24e)][_0x57c75a(0x31d)];}['send'](_0x223b77){const _0xcb2035=_0x27a6cf;this[_0xcb2035(0x5be)]['push'](_0x223b77);}[_0x27a6cf(0x3a5)](_0x474879){const _0x15e80b=_0x27a6cf;return this['messageListeners'][_0x15e80b(0x290)](_0x474879);}[_0x27a6cf(0x64d)](){const _0x520127=_0x27a6cf;return[_0x1176cc[_0x520127(0x6d9)][_0x520127(0x1eb)]];}async[_0x27a6cf(0x5c0)](){const _0x416201=_0x27a6cf;if(!this[_0x416201(0x66f)]())return new Promise(_0x3fe403=>{const _0xd04b81=_0x416201,_0x390017=this[_0xd04b81(0x2a7)]['subscribe'](_0x4dc832=>{const _0x1bd778=_0xd04b81;_0x4dc832===_0x31d448['ConnectionState'][_0x1bd778(0x31d)]&&(_0x390017(),_0x3fe403());});});}async[_0x27a6cf(0x4b8)](_0x397dc7){const _0x48bcc5=_0x27a6cf;if(this['connectionState']!==_0x31d448['ConnectionState'][_0x48bcc5(0x31d)])throw new Error(_0x48bcc5(0x1fd));_0x397dc7[_0x48bcc5(0x4d7)]&&0x1===_0x397dc7['destinationIds']['length']?await this[_0x48bcc5(0x4b0)](_0x397dc7['destinationIds'][0x0],JSON['stringify'](_0x397dc7)):_0x20481a[_0x48bcc5(0x1ab)](_0x48bcc5(0x1d1),{'clusterId':this[_0x48bcc5(0x698)],'nodeId':this[_0x48bcc5(0x664)](),'nodeType':this[_0x48bcc5(0x70b)]['type']});}async[_0x27a6cf(0x4b0)](_0x47beea,_0x158c98){const _0x5a3a71=_0x27a6cf;if(!this[_0x5a3a71(0x45f)])throw new Error('AppSync\x20client\x20not\x20ready');_0x20481a[_0x5a3a71(0x517)](_0x5483cd[_0x5a3a71(0x2ec)],_0x5a3a71(0x29b),this[_0x5a3a71(0x664)](),_0x158c98),await this[_0x5a3a71(0x45f)][_0x5a3a71(0x535)]({'query':_0x5a3a71(0x353),'variables':{'name':await this[_0x5a3a71(0x597)](_0x47beea),'data':_0x158c98}});}async['subscribe'](){const _0x47e70b=_0x27a6cf;if(this[_0x47e70b(0x671)])return;if(!this['client'])throw new Error(_0x47e70b(0x5a7));_0x20481a[_0x47e70b(0x517)](_0x5483cd[_0x47e70b(0x2ec)],_0x47e70b(0x22e),this[_0x47e70b(0x664)]());const _0x448c5f=await this['client']['graphql']({'query':_0x47e70b(0x722),'variables':{'name':await this['getHash']()},'authToken':await this[_0x47e70b(0x578)][_0x47e70b(0x3fe)]()},{'Authorization':await this['authService'][_0x47e70b(0x3fe)]()});this[_0x47e70b(0x671)]=_0x448c5f[_0x47e70b(0x290)]({'next':({data:_0x4373d0})=>{const _0x267cbd=_0x47e70b,_0x1cacaa=JSON[_0x267cbd(0x749)](_0x4373d0[_0x267cbd(0x290)][_0x267cbd(0x423)]);!_0xd717c5(_0x1cacaa,this['getLocalId']())&&_0x478631(_0x1cacaa,this[_0x267cbd(0x664)]())&&this[_0x267cbd(0x39b)][_0x267cbd(0x4b0)](_0x1cacaa);},'error':console['log']});}async[_0x27a6cf(0x597)](_0x2d09a0){const _0x536104=_0x27a6cf,_0x5b31d6=await crypto[_0x536104(0x316)][_0x536104(0x601)](_0x536104(0x1f3),new TextEncoder()[_0x536104(0x61c)](this[_0x536104(0x25f)]+'-'+this[_0x536104(0x698)]+'-'+(_0x2d09a0??this['getLocalId']())));return Array[_0x536104(0x2fd)](new Uint8Array(_0x5b31d6))['map'](_0x333c08=>_0x333c08[_0x536104(0x546)](0x10)['padStart'](0x2,'0'))[_0x536104(0x4ff)]('');}}!function(_0x3dd5a0){const _0x319892=_0x27a6cf;_0x3dd5a0[_0x3dd5a0[_0x319892(0x6d0)]=0x0]=_0x319892(0x6d0),_0x3dd5a0[_0x3dd5a0[_0x319892(0x5a6)]=0x1]=_0x319892(0x5a6),_0x3dd5a0[_0x3dd5a0[_0x319892(0x393)]=0x2]=_0x319892(0x393),_0x3dd5a0[_0x3dd5a0[_0x319892(0x634)]=0x3]=_0x319892(0x634),_0x3dd5a0[_0x3dd5a0[_0x319892(0x419)]=0x4]=_0x319892(0x419);}(_0x4407d4||(_0x4407d4={}));const _0x3a0c40=require('uuid'),_0xbb647b='0',_0x6014dc=_0x27a6cf(0x21d),_0x2df029=0x3fc00;class _0x7851d8{[_0x27a6cf(0x698)];[_0x27a6cf(0x70b)];[_0x27a6cf(0x5fc)];[_0x27a6cf(0x73e)];['connectionType'];['connectionConstructor'];['connection'];['dataChannel'];[_0x27a6cf(0x1f5)]=0x1;[_0x27a6cf(0x1d6)];[_0x27a6cf(0x455)]=[];['pendingHandshakeCandidates']=[];[_0x27a6cf(0x25d)];constructor(_0x51d527,_0x38240a,_0x59fc3c,_0x329df8,_0x41065d,_0x3e8415){const _0x17284f=_0x27a6cf;this['clusterId']=_0x51d527,this['localNode']=_0x38240a,this[_0x17284f(0x5fc)]=_0x59fc3c,this[_0x17284f(0x73e)]=_0x329df8,this[_0x17284f(0x43b)]=_0x41065d,this[_0x17284f(0x2b8)]=_0x3e8415,this['connection']=new this['connectionConstructor']({'handshakeServers':this[_0x17284f(0x73e)]}),this[_0x17284f(0x1b9)]();}[_0x27a6cf(0x33d)](){const _0x358eef=_0x27a6cf;this[_0x358eef(0x5f4)]();}[_0x27a6cf(0x436)](_0x20f1e1){const _0x5cd1c9=_0x27a6cf;this[_0x5cd1c9(0x43b)]=_0x20f1e1;}async[_0x27a6cf(0x494)](_0x56f6c7,_0x4d6065){const _0x3ed383=_0x27a6cf;if(_0x4d6065===this[_0x3ed383(0x1f5)])for(const _0xbc9642 of _0x56f6c7){if(!this[_0x3ed383(0x40d)][_0x3ed383(0x729)])return this[_0x3ed383(0x51e)](_0xbc9642);await this['connection'][_0x3ed383(0x44f)](_0xbc9642);}}[_0x27a6cf(0x66f)](){const _0x3aaf63=_0x27a6cf;return this[_0x3aaf63(0x50c)](),_0x3aaf63(0x351)===this['connection'][_0x3aaf63(0x308)]&&['connected',_0x3aaf63(0x6bc)][_0x3aaf63(0x607)](this[_0x3aaf63(0x40d)]['handshakeState'])&&_0x3aaf63(0x323)!==this['connection']['signalingState']&&'open'===this['dataChannel']?.['state'];}['registerSystemPublisher'](_0x14256c){const _0x37c1d0=_0x27a6cf;this[_0x37c1d0(0x1d6)]=_0x14256c;}['unregisterSystemPublisher'](){const _0x35ab96=_0x27a6cf;delete this[_0x35ab96(0x1d6)];}[_0x27a6cf(0x742)](_0x161944){const _0x141b3a=_0x27a6cf;this[_0x141b3a(0x5f4)](),this[_0x141b3a(0x40d)]=new this[(_0x141b3a(0x2b8))]({'handshakeServers':this[_0x141b3a(0x73e)]}),_0x161944?this[_0x141b3a(0x1f5)]=_0x161944:this['currentVersion']+=0x1,this['setupConnectionEvents']();}['processPendingHandshakeCandidates'](){const _0x1d359e=_0x27a6cf;this['pendingHandshakeCandidates'][_0x1d359e(0x469)](_0x58409e=>this['connection']['addCandidate'](_0x58409e)),this[_0x1d359e(0x2fa)]=[];}[_0x27a6cf(0x4f7)](_0x301201,_0x1a06f5){const _0x47a483=_0x27a6cf;if(!this[_0x47a483(0x1d6)])throw new _0x2d2d59(_0x2d2d59[_0x47a483(0x49c)]['MissingSystemTopic'],{'content':_0x301201});const _0x198df3={'sourceId':this[_0x47a483(0x70b)][_0x47a483(0x4cd)](),'destinationIds':[this[_0x47a483(0x5fc)]],'propagate':this['connectionType']!==_0x3ecb35[_0x47a483(0x4a9)],'retry':this[_0x47a483(0x43b)]!==_0x3ecb35[_0x47a483(0x4a9)],'messageType':_0x3421b2['PeerConnection'],'content':_0x301201};_0x1a06f5&&(_0x198df3[_0x47a483(0x4a7)]=_0x1a06f5),this['systemTopic'][_0x47a483(0x4b0)](_0x198df3);}['setupConnectionEvents'](){const _0x1d5397=_0x27a6cf;this[_0x1d5397(0x40d)][_0x1d5397(0x241)]=()=>{const _0xb0164b=_0x1d5397;_0xb0164b(0x5b1)===this['connection'][_0xb0164b(0x66d)]&&this[_0xb0164b(0x455)][_0xb0164b(0x1d0)]>0x0&&(this[_0xb0164b(0x25d)]&&clearTimeout(this[_0xb0164b(0x25d)]),this[_0xb0164b(0x25d)]=setTimeout(()=>{const _0x42c136=_0xb0164b;delete this[_0x42c136(0x25d)],this[_0x42c136(0x6c7)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x1d5397(0x40d)][_0x1d5397(0x30d)]=_0x2e90e5=>{const _0x27e67e=_0x1d5397;_0x2e90e5[_0x27e67e(0x5e3)]&&this['handshakeCandidates'][_0x27e67e(0x647)](_0x2e90e5[_0x27e67e(0x5e3)]);};}[_0x27a6cf(0x5f4)](){const _0x2dd11d=_0x27a6cf;clearTimeout(this['handshakeDebounce']),delete this[_0x2dd11d(0x25d)],this[_0x2dd11d(0x455)]=[],this[_0x2dd11d(0x2fa)]=[],this[_0x2dd11d(0x28b)]&&(this[_0x2dd11d(0x28b)][_0x2dd11d(0x3a5)]=null,this[_0x2dd11d(0x28b)][_0x2dd11d(0x73c)]=null,this[_0x2dd11d(0x28b)]['close'](),delete this[_0x2dd11d(0x28b)]),this[_0x2dd11d(0x40d)][_0x2dd11d(0x241)]=null,this['connection'][_0x2dd11d(0x30d)]=null,this[_0x2dd11d(0x40d)][_0x2dd11d(0x2ff)]=null,this[_0x2dd11d(0x40d)][_0x2dd11d(0x57d)]=null,this[_0x2dd11d(0x40d)][_0x2dd11d(0x651)]=null,this[_0x2dd11d(0x40d)][_0x2dd11d(0x4e8)]=null,this[_0x2dd11d(0x40d)]['close']();}['addPendingHandshakeCandidate'](_0x20e2da){const _0x2c8139=_0x27a6cf;this[_0x2c8139(0x2fa)][_0x2c8139(0x647)](_0x20e2da);}[_0x27a6cf(0x50c)](){const _0x38eae7=_0x27a6cf;_0x20481a[_0x38eae7(0x517)](_0x5483cd[_0x38eae7(0x24e)],_0x38eae7(0x303),{'localId':this[_0x38eae7(0x70b)][_0x38eae7(0x4cd)](),'remoteId':this[_0x38eae7(0x5fc)],'connectionState':this[_0x38eae7(0x40d)][_0x38eae7(0x308)],'handshakeState':this[_0x38eae7(0x40d)]['handshakeState'],'signalingState':this['connection']['signalingState'],'dataChannelState':this[_0x38eae7(0x28b)]?.[_0x38eae7(0x5a5)]});}}function _0x643428(_0xe9706d,_0x392cbe){const _0x46677c=_0x27a6cf;_0x392cbe[_0x46677c(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x46677c(0x348)],'content':_0xe9706d});}class _0x3c1272{static ['instance'];['parameters']=[];['source'];constructor(){setInterval(()=>{const _0x553a22=a0_0x4e89;this[_0x553a22(0x637)][_0x553a22(0x469)](_0x4093c3=>{const _0x335b54=_0x553a22;if(Date[_0x335b54(0x534)]()-_0x4093c3[_0x335b54(0x4e2)]>_0x4093c3[_0x335b54(0x4ad)]){try{_0x4093c3[_0x335b54(0x40c)]();}catch(_0x5a57f6){}_0x4093c3[_0x335b54(0x4e2)]=Date[_0x335b54(0x534)]();}});},0x64);}static[_0x27a6cf(0x1a8)](){const _0xb709aa=_0x27a6cf;return _0x3c1272['instance']||(_0x3c1272[_0xb709aa(0x367)]=new _0x3c1272()),_0x3c1272[_0xb709aa(0x367)];}[_0x27a6cf(0x310)](_0x119e5c){const _0x220f87=_0x27a6cf,_0x1f1c92=this[_0x220f87(0x68c)](_0x119e5c),_0x4ca729=_0x119e5c[_0x220f87(0x67d)]();_0x4ca729&&_0x1f1c92&&(_0x4ca729[_0x220f87(0x343)][_0x220f87(0x616)]=0.001,_0x1f1c92[_0x220f87(0x3b7)](_0x4ca729),_0x4ca729['connect'](_0x119e5c[_0x220f87(0x422)]),_0x1f1c92['start']());}[_0x27a6cf(0x3f2)](){const _0x120685=_0x27a6cf;this[_0x120685(0x34b)]&&(this[_0x120685(0x34b)][_0x120685(0x43d)](),this[_0x120685(0x34b)][_0x120685(0x383)](),this[_0x120685(0x34b)]=void 0x0);}['wait'](_0x5badf9){return new Promise(_0x17136e=>{setTimeout(_0x17136e,_0x5badf9);});}[_0x27a6cf(0x231)](_0x35001f,_0xb3fef8){const _0x899428=_0x27a6cf;return this[_0x899428(0x637)][_0x899428(0x647)]({'callback':_0x35001f,'interval':_0xb3fef8,'lastExecuted':Date[_0x899428(0x534)]()}),()=>{const _0x5141ad=_0x899428;this[_0x5141ad(0x637)]=this[_0x5141ad(0x637)][_0x5141ad(0x57c)](_0x3d392d=>_0x3d392d[_0x5141ad(0x40c)]!==_0x35001f);};}[_0x27a6cf(0x68c)](_0xde2ec9){const _0x235e91=_0x27a6cf;if(_0xde2ec9[_0x235e91(0x68c)])return _0xde2ec9[_0x235e91(0x68c)]();const _0x19d20f=_0xde2ec9[_0x235e91(0x2de)](),_0x4b8c3c=_0xde2ec9['createBuffer'](0x1,0x1,_0xde2ec9[_0x235e91(0x2eb)]);return _0x4b8c3c['getChannelData'](0x0)[0x0]=0xa,_0x19d20f[_0x235e91(0x6d7)]=_0x4b8c3c,_0x19d20f[_0x235e91(0x518)]=!0x0,_0x19d20f;}}const _0x199808=_0x3c1272[_0x27a6cf(0x1a8)](),_0x26f5b9=[_0x27a6cf(0x348),_0x27a6cf(0x3aa),_0x27a6cf(0x260),_0x27a6cf(0x4e6),_0x27a6cf(0x55f),_0x27a6cf(0x416),'Remediation'],_0x5c15a6=[[_0x27a6cf(0x6c6),'Answer',_0x27a6cf(0x4fd),'Success',_0x27a6cf(0x43f),_0x27a6cf(0x31e),_0x27a6cf(0x349),_0x27a6cf(0x55f),_0x27a6cf(0x501)],[_0x27a6cf(0x4c3),'NodeUpdate','NodeConnectionsUpdate',_0x27a6cf(0x375)],[_0x27a6cf(0x5dd),'UnpublishMediaStream',_0x27a6cf(0x33b),'UpdateMediaStream',_0x27a6cf(0x710),_0x27a6cf(0x478),_0x27a6cf(0x5ac),_0x27a6cf(0x1ee),_0x27a6cf(0x65e),_0x27a6cf(0x226),_0x27a6cf(0x2af),'RequestSyncKeyValueDatabase',_0x27a6cf(0x330),'RequestTransactionsValue','ObjectStoreStats',_0x27a6cf(0x225)],['SubscribeMediaStream',_0x27a6cf(0x48b),_0x27a6cf(0x710),_0x27a6cf(0x2c6),_0x27a6cf(0x44b),_0x27a6cf(0x5e4),_0x27a6cf(0x421),_0x27a6cf(0x1ae)],['StreamReport',_0x27a6cf(0x691)],['Problem'],['Remediation',_0x27a6cf(0x4a2)]];function _0x5d3d7a(_0x18041e){const _0x2a8de8=_0x27a6cf;return{..._0x18041e,'systemMessageType':_0x26f5b9[_0x18041e[_0x2a8de8(0x5d2)]],'systemContentMessageType':_0x5c15a6[_0x18041e[_0x2a8de8(0x5d2)]][_0x18041e['content']['type']]};}const _0x2773ce={'hour':_0x27a6cf(0x20b),'minute':'2-digit','second':_0x27a6cf(0x20b)};function _0x220730(_0x3d62ec,_0x32e702){const _0x4ebc21=_0x27a6cf,_0x1bbf68=(function(){const _0x495b87=a0_0x4e89,_0x3bbf24=new Date(),_0x559668=_0x3bbf24[_0x495b87(0x71b)](),_0x1e909e=_0x3bbf24[_0x495b87(0x4bc)](_0x495b87(0x44c),_0x2773ce)[_0x495b87(0x586)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x1e909e+'.'+(_0x559668>0x64?''+_0x559668:_0x559668>0xa?'0'+_0x559668:'00'+_0x559668);}()),{sourceId:_0x34634e,destinationIds:_0x9241ec,systemMessageType:_0x39af95,systemContentMessageType:_0x574c99}=_0x5d3d7a(_0x3d62ec);return _0x1bbf68+_0x4ebc21(0x515)+_0x32e702+_0x4ebc21(0x515)+(_0x34634e===_0x32e702?_0x4ebc21(0x44e)+_0x39af95+_0x4ebc21(0x72a)+(_0x9241ec?''+_0x9241ec:'everyone'):_0x3d62ec[_0x4ebc21(0x552)]===_0x554820?_0x4ebc21(0x201)+_0x39af95+'\x27':(_0x9241ec?'':_0x4ebc21(0x5e2))+'Receiving\x20\x27'+_0x39af95+'\x27\x20from\x20'+_0x34634e)+'\x20with\x20\x27'+_0x574c99+'\x27\x20payload:';}class _0x3f29bc extends _0x7851d8{[_0x27a6cf(0x27f)]=_0xc40b89();[_0x27a6cf(0x4ce)]=_0xc40b89();['removeTrackCallback']=_0xc40b89();['receivers']=new Map();['chunks']=new Map();['waitSuccess'];[_0x27a6cf(0x1a5)]=0x0;[_0x27a6cf(0x557)]={'messages':{'total':0x0}};[_0x27a6cf(0x1aa)]=0x0;['timeReceiving']=0x0;['close'](){const _0x98fc1e=_0x27a6cf;this[_0x98fc1e(0x266)](),this[_0x98fc1e(0x3db)][_0x98fc1e(0x662)](),super[_0x98fc1e(0x33d)]();}async['handleOffer'](_0x5b90fb,_0x127bae){const _0x1d0e15=_0x27a6cf;this['currentVersion']=_0x127bae,this[_0x1d0e15(0x266)]();const _0x59b131=await this[_0x1d0e15(0x40d)][_0x1d0e15(0x406)](_0x5b90fb);this[_0x1d0e15(0x37c)]();const _0x50ee8b=(0x0,_0x3a0c40['v4'])();this[_0x1d0e15(0x4f7)]({'type':_0x1ffd7c[_0x1d0e15(0x5d1)],'answer':_0x59b131,'version':_0x127bae,'connectionType':this['connectionType']},_0x50ee8b),this[_0x1d0e15(0x43b)]===_0x3ecb35[_0x1d0e15(0x4a9)]&&(this[_0x1d0e15(0x2b3)]=_0x199808[_0x1d0e15(0x231)](()=>{const _0x26ab46=_0x1d0e15;this[_0x26ab46(0x4f7)]({'type':_0x1ffd7c['Answer'],'answer':_0x59b131,'version':_0x127bae,'connectionType':this[_0x26ab46(0x43b)]},_0x50ee8b);},0x1388));}['handleSuccess'](){const _0x4b2520=_0x27a6cf;this[_0x4b2520(0x266)]();}[_0x27a6cf(0x562)](_0x184f16){const _0x45bd2e=_0x27a6cf;this[_0x45bd2e(0x742)](_0x184f16),this[_0x45bd2e(0x4f7)]({'type':_0x1ffd7c[_0x45bd2e(0x31e)]});}async[_0x27a6cf(0x728)](){const _0x1768bb=_0x27a6cf;this[_0x1768bb(0x1d6)]&&(await this[_0x1768bb(0x40d)][_0x1768bb(0x3f7)](this['receivers'],(_0x93f18d,_0x57da7b)=>{const _0x1a8e95=_0x1768bb;_0x643428({'type':_0x1ffd7c['Stats'],'streamId':_0x57da7b,'nodeId':this[_0x1a8e95(0x5fc)],'stats':_0x93f18d},this[_0x1a8e95(0x1d6)]);}),this[_0x1768bb(0x1d6)][_0x1768bb(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x1768bb(0x348)],'content':{'type':_0x1ffd7c[_0x1768bb(0x55f)],'nodeId':this[_0x1768bb(0x5fc)],'stats':{'origin':_0xf30543[_0x1768bb(0x262)],'timestamp':Date[_0x1768bb(0x534)](),'messagesReceived':this[_0x1768bb(0x1a5)],'bytesReceived':this[_0x1768bb(0x1aa)],'timeReceiving':this[_0x1768bb(0x4c2)],'systemMessages':this[_0x1768bb(0x557)]}}}));}['onMessage'](_0x373d0e){const _0x5de556=_0x27a6cf;return this[_0x5de556(0x27f)][_0x5de556(0x290)](_0x373d0e);}[_0x27a6cf(0x651)](_0x208f18){const _0x4f3d46=_0x27a6cf;return this['trackCallback'][_0x4f3d46(0x290)](({track:_0xc3ed24,stream:_0x367364})=>_0x208f18(_0xc3ed24,_0x367364));}[_0x27a6cf(0x334)](_0xcfde25){const _0x2c5716=_0x27a6cf;return this[_0x2c5716(0x473)][_0x2c5716(0x290)](({track:_0x962ab9,stream:_0x5adf47})=>_0xcfde25(_0x962ab9,_0x5adf47));}['resetConnection'](_0x4cbeab){const _0x8be975=_0x27a6cf;this[_0x8be975(0x266)](),this[_0x8be975(0x3db)]['forEach'](_0x7e13b7=>{const _0x1a1ebc=_0x8be975;_0x7e13b7[_0x1a1ebc(0x662)]();}),super['resetConnection'](_0x4cbeab);}[_0x27a6cf(0x6c7)](){const _0x320373=_0x27a6cf;this['publishSystemMessage']({'type':_0x1ffd7c[_0x320373(0x4fd)],'candidates':this[_0x320373(0x455)],'origin':_0xf30543['Receiver'],'version':this[_0x320373(0x1f5)],'connectionType':this['connectionType']});}[_0x27a6cf(0x1b9)](){const _0x30421b=_0x27a6cf;super[_0x30421b(0x1b9)](),this['connection'][_0x30421b(0x651)]=_0x141313=>{const _0x3918f0=_0x30421b;_0x20481a['log'](_0x5483cd[_0x3918f0(0x390)],'CrewdleReceiverConnection\x20ontrack',this[_0x3918f0(0x70b)][_0x3918f0(0x4cd)](),_0x141313),_0x141313[_0x3918f0(0x3f1)][0x0][_0x3918f0(0x42f)]=_0x415141=>{const _0x1e2edc=_0x3918f0;this['receivers']['get'](_0x141313[_0x1e2edc(0x3f1)][0x0]['id'])?.['delete'](_0x415141[_0x1e2edc(0x709)]),0x0===this['receivers'][_0x1e2edc(0x1d2)](_0x141313[_0x1e2edc(0x3f1)][0x0]['id'])?.[_0x1e2edc(0x1e6)]&&this[_0x1e2edc(0x3db)][_0x1e2edc(0x370)](_0x141313[_0x1e2edc(0x3f1)][0x0]['id']),this[_0x1e2edc(0x473)][_0x1e2edc(0x4b0)]({'track':_0x415141[_0x1e2edc(0x709)],'stream':_0x141313[_0x1e2edc(0x3f1)][0x0]});},this[_0x3918f0(0x3db)][_0x3918f0(0x25a)](_0x141313[_0x3918f0(0x3f1)][0x0]['id'])||this[_0x3918f0(0x3db)][_0x3918f0(0x734)](_0x141313[_0x3918f0(0x3f1)][0x0]['id'],new Set()),this[_0x3918f0(0x3db)][_0x3918f0(0x1d2)](_0x141313['streams'][0x0]['id'])[_0x3918f0(0x74b)](_0x141313[_0x3918f0(0x709)]),this['trackCallback'][_0x3918f0(0x4b0)]({'track':_0x141313['track'],'stream':_0x141313[_0x3918f0(0x3f1)][0x0]});},this['connection']['onDataChannel']=_0x526479=>{const _0x551cdc=_0x30421b;this['dataChannel']=_0x526479[_0x551cdc(0x285)],this[_0x551cdc(0x28b)][_0x551cdc(0x3a5)]=_0x17fff6=>{const _0x3319f6=_0x551cdc;if(_0x17fff6[_0x3319f6(0x423)]!==_0xbb647b)this[_0x3319f6(0x3a4)](_0x17fff6[_0x3319f6(0x423)]);else{if(!this['dataChannel'])return void _0x20481a[_0x3319f6(0x1ab)](_0x3319f6(0x545),{'clusterId':this[_0x3319f6(0x698)],'nodeId':this[_0x3319f6(0x70b)][_0x3319f6(0x4cd)](),'nodeType':this[_0x3319f6(0x70b)][_0x3319f6(0x2b7)],'remoteId':this[_0x3319f6(0x5fc)],'data':{'connection':_0x3319f6(0x588)}});if(_0x3319f6(0x279)!==this[_0x3319f6(0x28b)][_0x3319f6(0x5a5)])return;this[_0x3319f6(0x28b)]['send']('1');}};};}[_0x27a6cf(0x3a4)](_0x4186bc){const _0x4997a1=_0x27a6cf;if(_0x4997a1(0x2bd)==typeof _0x4186bc&&_0x4186bc[_0x4997a1(0x529)](_0x6014dc))return this[_0x4997a1(0x1a5)]+=0x1,this[_0x4997a1(0x1aa)]+=_0x4186bc[_0x4997a1(0x1d0)],this['handleChunkMessage'](_0x4186bc);setTimeout(()=>{const _0x3b8974=_0x4997a1,_0x78095c=Date['now']();let _0x52d018;if((_0x4186bc instanceof ArrayBuffer||_0x4186bc[_0x3b8974(0x1d0)]<=_0x2df029)&&(this[_0x3b8974(0x1a5)]+=0x1,this[_0x3b8974(0x1aa)]+=_0x4186bc instanceof ArrayBuffer?_0x4186bc[_0x3b8974(0x658)]:_0x4186bc[_0x3b8974(0x1d0)]),_0x4186bc instanceof ArrayBuffer){const [_0x3ab5ab,_0x277666]=this[_0x3b8974(0x3d9)](_0x4186bc);_0x52d018=_0x3ab5ab,_0x52d018[_0x3b8974(0x5d4)]['data']=_0x277666;}else _0x52d018=JSON[_0x3b8974(0x749)](_0x4186bc);if(0x0===_0x52d018['topicLabel']){this['systemMessagesReceived'][_0x3b8974(0x27c)][_0x3b8974(0x368)]+=0x1;const {systemMessageType:_0x426cd2,systemContentMessageType:_0x9c1798}=_0x5d3d7a(_0x52d018);this[_0x3b8974(0x557)][_0x426cd2]||(this['systemMessagesReceived'][_0x426cd2]={[_0x9c1798]:0x0}),this[_0x3b8974(0x557)][_0x426cd2][_0x9c1798]||(this[_0x3b8974(0x557)][_0x426cd2][_0x9c1798]=0x0),this[_0x3b8974(0x557)][_0x426cd2][_0x3b8974(0x368)]||(this[_0x3b8974(0x557)][_0x426cd2][_0x3b8974(0x368)]=0x0),this[_0x3b8974(0x557)][_0x426cd2][_0x9c1798]+=0x1,this['systemMessagesReceived'][_0x426cd2][_0x3b8974(0x368)]+=0x1;}this[_0x3b8974(0x27f)][_0x3b8974(0x4b0)](_0x52d018),this['timeReceiving']+=Date[_0x3b8974(0x534)]()-_0x78095c;},0x0);}[_0x27a6cf(0x5c2)](_0x1176c4){const _0x4c3853=_0x27a6cf,_0x5b2964=_0x1176c4['split'](';'),_0x35feb9=_0x5b2964[0x1],_0x3ba8b4=parseInt(_0x5b2964[0x2],0xa),_0x15b340=parseInt(_0x5b2964[0x3],0xa),_0x456598=_0x1176c4['replace'](_0x6014dc+';'+_0x35feb9+';'+_0x3ba8b4+';'+_0x15b340+';','');this[_0x4c3853(0x2ac)][_0x4c3853(0x25a)](_0x35feb9)||this[_0x4c3853(0x2ac)][_0x4c3853(0x734)](_0x35feb9,[]);const _0x54cbf1=this[_0x4c3853(0x2ac)]['get'](_0x35feb9);_0x54cbf1[_0x3ba8b4]=_0x456598,_0x54cbf1[_0x4c3853(0x1d0)]===_0x15b340&&(this[_0x4c3853(0x3a4)](_0x54cbf1[_0x4c3853(0x4ff)]('')),this[_0x4c3853(0x2ac)][_0x4c3853(0x370)](_0x35feb9));}[_0x27a6cf(0x266)](){const _0x1c3270=_0x27a6cf;this[_0x1c3270(0x2b3)]?.(),delete this[_0x1c3270(0x2b3)];}[_0x27a6cf(0x6fa)](_0x5b9f70){const _0x38333f=new TextDecoder()['decode'](_0x5b9f70);return JSON['parse'](_0x38333f);}[_0x27a6cf(0x3d9)](_0x3cb12b){const _0x3bc45b=_0x27a6cf,_0x3b2321=new Uint8Array(_0x3cb12b[_0x3bc45b(0x58a)](0x0,0x4)),_0x137238=new Uint32Array(_0x3b2321[_0x3bc45b(0x6d7)])[0x0],_0x178bbd=new Uint8Array(_0x3cb12b[_0x3bc45b(0x58a)](0x4,0x4+_0x137238)),_0xa28164=new Uint8Array(_0x3cb12b['slice'](0x4+_0x137238));return[this[_0x3bc45b(0x6fa)](_0x178bbd['buffer']),_0xa28164[_0x3bc45b(0x6d7)]];}}const _0xbc7c17=0xc350;var _0xaf2a2f,_0x5d7a24,_0xf984c0,_0x192400,_0x4489d2;!function(_0x55d08b){const _0xc29a85=_0x27a6cf;_0x55d08b[_0x55d08b[_0xc29a85(0x628)]=0x0]=_0xc29a85(0x628),_0x55d08b[_0x55d08b[_0xc29a85(0x31c)]=0x1]=_0xc29a85(0x31c),_0x55d08b[_0x55d08b[_0xc29a85(0x464)]=0x2]=_0xc29a85(0x464);}(_0xaf2a2f||(_0xaf2a2f={}));class _0x463bc3 extends _0x7851d8{[_0x27a6cf(0x36b)];['maxBpp'];[_0x27a6cf(0x629)]=new Map();['heartbeatUnsubscriber'];[_0x27a6cf(0x267)];['lastHeartbeat'];['isReconnecting']=!0x1;['connectionTimeout'];['restartTimeout'];[_0x27a6cf(0x203)];['retryQueue']=function(e,t=_0xaf2a2f,s=!0x1){const _0x2364c9=_0x27a6cf;let i=!0x1;const n=[];async function a(){const _0x5c7a9b=a0_0x4e89;if(!i){for(i=!0x0;n['some'](e=>e[_0x5c7a9b(0x4aa)]);){let t,i=0x0;for(const [e,s]of n[_0x5c7a9b(0x594)]())if(t=s[_0x5c7a9b(0x41b)](),i=e,t)break;if(t)try{if(e instanceof _0x7806b5&&e[_0x5c7a9b(0x234)](t),e instanceof _0x1d821c&&await e['call'](t),n['slice'](-0x1)[_0x5c7a9b(0x670)](e=>e['head']))continue;const s=n[_0x5c7a9b(0x1d0)]-0x1;i===s&&n[s][_0x5c7a9b(0x4aa)]&&await _0x199808[_0x5c7a9b(0x701)](0x0);}catch(a){s?n[i][_0x5c7a9b(0x647)](t,!0x1):n[i]['unshift'](t,!0x1),await e[_0x5c7a9b(0x701)]();}}i=!0x1;}}return Object['values'](t)[_0x2364c9(0x469)](e=>{const _0x35693a=_0x2364c9;_0x35693a(0x2bd)!=typeof e&&(n[e]=_0x8a8510(a));}),{'queues':n};}(new _0x7806b5(this['sendAction']['bind'](this),this['waitSendBuffer'][_0x27a6cf(0x5f9)](this)));['messagesSent']=0x0;[_0x27a6cf(0x6d6)]=0x0;[_0x27a6cf(0x694)]=0x0;[_0x27a6cf(0x36c)]=0x0;['oncloseTimeout'];constructor(_0x55eab8,_0x38212f,_0x17b32b,_0x55c7e5,_0x1845bd,_0x27cf5d,_0x2f8c2e,_0x5be957){const _0x59d902=_0x27a6cf;super(_0x55eab8,_0x38212f,_0x17b32b,_0x55c7e5,_0x1845bd,_0x5be957),this[_0x59d902(0x36b)]=_0x27cf5d,this['maxBpp']=_0x2f8c2e;}[_0x27a6cf(0x33d)](){const _0x45e186=_0x27a6cf;this[_0x45e186(0x5bd)](),this['clearHeartbeat'](),delete this[_0x45e186(0x4eb)],this[_0x45e186(0x689)](),this[_0x45e186(0x443)](),this[_0x45e186(0x21a)](),this[_0x45e186(0x629)][_0x45e186(0x662)](),this['isReconnecting']=!0x1,this[_0x45e186(0x5be)]['queues'][_0x45e186(0x469)](_0x1c7779=>_0x1c7779[_0x45e186(0x662)]()),this[_0x45e186(0x6be)](),super[_0x45e186(0x33d)]();}['isConnected'](){const _0x11542b=_0x27a6cf;return!!this[_0x11542b(0x4eb)]&&super['isConnected']()&&Date[_0x11542b(0x534)]()-this['lastHeartbeat']<0x3a98;}async[_0x27a6cf(0x728)](){const _0x4b99d4=_0x27a6cf;this[_0x4b99d4(0x1d6)]&&(await this[_0x4b99d4(0x40d)][_0x4b99d4(0x3fd)](this[_0x4b99d4(0x629)],(_0x3a314a,_0x83c2cb)=>{_0x643428({'type':_0x1ffd7c['Stats'],'streamId':_0x83c2cb,'nodeId':this['remoteId'],'stats':_0x3a314a},this['systemTopic']);}),this['systemTopic'][_0x4b99d4(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x4b99d4(0x348)],'content':{'type':_0x1ffd7c['Stats'],'nodeId':this[_0x4b99d4(0x5fc)],'stats':{'origin':_0xf30543[_0x4b99d4(0x5cf)],'timestamp':Date[_0x4b99d4(0x534)](),'messagesSent':this[_0x4b99d4(0x50b)],'bytesSent':this[_0x4b99d4(0x6d6)],'timeSending':this[_0x4b99d4(0x694)],'roundTripTime':this[_0x4b99d4(0x36c)]}}}));}async[_0x27a6cf(0x4e3)](_0x264683){const _0x59c2e9=_0x27a6cf;_0x20481a[_0x59c2e9(0x517)](_0x5483cd[_0x59c2e9(0x390)],_0x59c2e9(0x3c8),this[_0x59c2e9(0x70b)][_0x59c2e9(0x4cd)](),this[_0x59c2e9(0x5fc)]),this[_0x59c2e9(0x689)](),this[_0x59c2e9(0x443)](),this[_0x59c2e9(0x21a)](),this[_0x59c2e9(0x2d0)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0x59c2e9(0x28b)]||(this[_0x59c2e9(0x28b)]=this[_0x59c2e9(0x40d)][_0x59c2e9(0x6f2)]('data'),this[_0x59c2e9(0x28b)]['bufferedAmountLowThreshold']=0x10000,this[_0x59c2e9(0x28b)][_0x59c2e9(0x73c)]=()=>{const _0x1cbed0=_0x59c2e9;this[_0x1cbed0(0x726)]=setTimeout(()=>{const _0x598436=_0x1cbed0;delete this[_0x598436(0x726)],[_0x598436(0x243),_0x598436(0x279)][_0x598436(0x607)](this[_0x598436(0x28b)]?.['state']??'')||this[_0x598436(0x3d4)]();},0xfa);});const _0x5f7c81=await this[_0x59c2e9(0x40d)][_0x59c2e9(0x4e3)](_0x264683);this['lastHeartbeat']||(this[_0x59c2e9(0x4eb)]=Date[_0x59c2e9(0x534)]());const _0x2301aa=(0x0,_0x3a0c40['v4'])();this[_0x59c2e9(0x4f7)]({'type':_0x1ffd7c[_0x59c2e9(0x6c6)],'offer':_0x5f7c81,'version':this[_0x59c2e9(0x1f5)],'connectionType':this[_0x59c2e9(0x43b)]},_0x2301aa),this[_0x59c2e9(0x43b)]===_0x3ecb35['Core']&&(this[_0x59c2e9(0x267)]=_0x199808[_0x59c2e9(0x231)](()=>{const _0x217d03=_0x59c2e9;this[_0x217d03(0x4f7)]({'type':_0x1ffd7c[_0x217d03(0x6c6)],'offer':_0x5f7c81,'version':this[_0x217d03(0x1f5)],'connectionType':this[_0x217d03(0x43b)]},_0x2301aa);},0x1388));}async[_0x27a6cf(0x532)](_0x1f1128,_0x5610f8){const _0x28e66c=_0x27a6cf;if(_0x5610f8===this[_0x28e66c(0x1f5)]){this['clearWaitAnswer']();try{await this[_0x28e66c(0x40d)]['handleAnswer'](_0x1f1128,this[_0x28e66c(0x4e3)][_0x28e66c(0x5f9)](this)),this['processPendingHandshakeCandidates'](),this[_0x28e66c(0x443)](),this[_0x28e66c(0x5f0)]();}catch(_0x5578c1){this['handleDisconnect']();}}}[_0x27a6cf(0x3df)](_0x44efe7){const _0x1f2080=_0x27a6cf;if(!this[_0x1f2080(0x28b)])throw new _0x2d2d59(_0x2d2d59[_0x1f2080(0x49c)]['InvalidDataChannel'],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this['localNode'][_0x1f2080(0x4cd)](),'remoteId':this[_0x1f2080(0x5fc)],'eventMessage':_0x44efe7});if(_0x1f2080(0x279)!==this[_0x1f2080(0x28b)][_0x1f2080(0x5a5)])throw new _0x2d2d59(_0x2d2d59['codes'][_0x1f2080(0x6bd)],{'message':_0x1f2080(0x62c),'localId':this[_0x1f2080(0x70b)]['getId'](),'remoteId':this[_0x1f2080(0x5fc)],'eventMessage':_0x44efe7});let _0x59328b;if(_0x44efe7[_0x1f2080(0x5d4)][_0x1f2080(0x423)]instanceof ArrayBuffer){const _0x19d0ba=_0x44efe7[_0x1f2080(0x5d4)]['data'];delete _0x44efe7[_0x1f2080(0x5d4)][_0x1f2080(0x423)],_0x59328b=this[_0x1f2080(0x1da)](_0x44efe7,_0x19d0ba);}else _0x59328b=JSON[_0x1f2080(0x63d)](_0x44efe7);if(_0x1f2080(0x2bd)==typeof _0x59328b&&_0x59328b[_0x1f2080(0x1d0)]>_0x2df029)return this[_0x1f2080(0x35c)](_0x44efe7,_0x59328b);const _0x4e08e1=0x0===_0x44efe7[_0x1f2080(0x6dd)]&&[_0x3421b2['Subscription'],_0x3421b2[_0x1f2080(0x348)]][_0x1f2080(0x607)](_0x44efe7[_0x1f2080(0x5d2)])?_0xaf2a2f[_0x1f2080(0x628)]:_0x44efe7 instanceof ArrayBuffer?_0xaf2a2f[_0x1f2080(0x464)]:_0xaf2a2f[_0x1f2080(0x31c)];this[_0x1f2080(0x204)](_0x59328b,_0x4e08e1);}['addTrack'](_0x10ea30,_0x5127b9,_0x491737,_0x2cf5ff){const _0x1e0ed5=_0x27a6cf,_0x1b3f0e=(_0x56768a=this[_0x1e0ed5(0x36b)],_0x49c795=this[_0x1e0ed5(0x61b)],Math['floor'](0xe1000*_0x56768a*_0x49c795));var _0x56768a,_0x49c795;const _0x340233=this['senders'][_0x1e0ed5(0x1d2)](_0x5127b9['id'])||{'stream':_0x5127b9,'priority':_0x491737,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x1b3f0e,'maxBitrate':_0x1b3f0e,'framerate':this[_0x1e0ed5(0x36b)],'maxFramerate':this[_0x1e0ed5(0x36b)],'tracks':{},'params':_0x2cf5ff},_0x680985=_0x340233[_0x1e0ed5(0x33c)][_0x10ea30[_0x1e0ed5(0x4e4)]]||{'track':_0x10ea30};if(_0x680985[_0x1e0ed5(0x3f3)]?(_0x680985[_0x1e0ed5(0x709)]=_0x10ea30,this[_0x1e0ed5(0x40d)][_0x1e0ed5(0x6a4)](_0x10ea30,_0x680985[_0x1e0ed5(0x3f3)])):_0x680985['sender']=this['connection'][_0x1e0ed5(0x32d)](_0x10ea30,_0x5127b9),_0x340233[_0x1e0ed5(0x33c)][_0x10ea30['kind']]=_0x680985,_0x2cf5ff&&(_0x340233[_0x1e0ed5(0x3c7)]=_0x2cf5ff),_0x2cf5ff&&_0x1e0ed5(0x3f0)===_0x2cf5ff['kind']&&_0x2cf5ff[_0x1e0ed5(0x28a)]&&_0x2cf5ff[_0x1e0ed5(0x591)]&&(_0x340233['resolutionScale']=this[_0x1e0ed5(0x1e5)](_0x2cf5ff[_0x1e0ed5(0x28a)],_0x2cf5ff[_0x1e0ed5(0x591)]),_0x340233[_0x1e0ed5(0x3e8)]=_0x340233['resolutionScale'],_0x340233['tracks'][_0x1e0ed5(0x3f0)]&&_0x340233[_0x1e0ed5(0x33c)][_0x1e0ed5(0x3f0)][_0x1e0ed5(0x3f3)])){const _0x7b00f0=_0x340233[_0x1e0ed5(0x33c)]['video'][_0x1e0ed5(0x3f3)];this[_0x1e0ed5(0x40d)][_0x1e0ed5(0x6d4)](_0x7b00f0,Math[_0x1e0ed5(0x569)](0xa*_0x340233[_0x1e0ed5(0x575)])/0xa,_0x340233[_0x1e0ed5(0x1cd)],_0x340233[_0x1e0ed5(0x200)],_0x340233[_0x1e0ed5(0x2fe)]);}this[_0x1e0ed5(0x629)]['set'](_0x5127b9['id'],_0x340233);}[_0x27a6cf(0x1e9)](_0x47df19,_0x1e5365){const _0x19ef32=_0x27a6cf,_0x55da5e=this[_0x19ef32(0x629)][_0x19ef32(0x1d2)](_0x47df19['id']);if(_0x55da5e&&_0x55da5e[_0x19ef32(0x2fe)]!==_0x1e5365&&(_0x55da5e[_0x19ef32(0x2fe)]=_0x1e5365,_0x55da5e[_0x19ef32(0x33c)][_0x19ef32(0x3f0)]&&_0x55da5e[_0x19ef32(0x33c)][_0x19ef32(0x3f0)][_0x19ef32(0x3f3)])){const _0x4f8498=_0x55da5e[_0x19ef32(0x33c)][_0x19ef32(0x3f0)]['sender'];this[_0x19ef32(0x40d)][_0x19ef32(0x6d4)](_0x4f8498,Math['floor'](0xa*_0x55da5e['resolutionScale'])/0xa,_0x55da5e[_0x19ef32(0x1cd)],_0x55da5e[_0x19ef32(0x200)],_0x55da5e[_0x19ef32(0x2fe)]);}}['setParams'](_0xe456f6,_0xddd8a1){const _0x446249=_0x27a6cf,_0x4aa1ff=this[_0x446249(0x629)][_0x446249(0x1d2)](_0xe456f6['id']);if(_0x4aa1ff){if(_0x4aa1ff[_0x446249(0x3c7)]=_0xddd8a1,_0xddd8a1&&_0x446249(0x3f0)===_0xddd8a1[_0x446249(0x4e4)]&&_0xddd8a1['resolution']&&_0xddd8a1[_0x446249(0x591)]){if(_0x4aa1ff[_0x446249(0x3e8)]=this[_0x446249(0x1e5)](_0xddd8a1[_0x446249(0x28a)],_0xddd8a1[_0x446249(0x591)]),_0x4aa1ff[_0x446249(0x575)]<_0x4aa1ff[_0x446249(0x3e8)]&&(_0x4aa1ff[_0x446249(0x575)]=_0x4aa1ff[_0x446249(0x3e8)]),_0x4aa1ff['tracks'][_0x446249(0x3f0)]&&_0x4aa1ff[_0x446249(0x33c)][_0x446249(0x3f0)][_0x446249(0x3f3)]){const _0x1c751d=_0x4aa1ff[_0x446249(0x33c)][_0x446249(0x3f0)]['sender'];this[_0x446249(0x40d)][_0x446249(0x6d4)](_0x1c751d,Math[_0x446249(0x569)](0xa*_0x4aa1ff['resolutionScale'])/0xa,_0x4aa1ff[_0x446249(0x1cd)],_0x4aa1ff[_0x446249(0x200)],_0x4aa1ff['priority']);}this[_0x446249(0x5bd)](),this[_0x446249(0x486)]();}this[_0x446249(0x629)]['set'](_0xe456f6['id'],_0x4aa1ff);}}[_0x27a6cf(0x2f1)](_0x582667,_0x21f043){const _0x6452fc=_0x27a6cf,_0x500d43=this[_0x6452fc(0x629)][_0x6452fc(0x1d2)](_0x21f043['id']);if(_0x500d43){const _0x4833a4=_0x500d43[_0x6452fc(0x33c)][_0x582667[_0x6452fc(0x4e4)]];_0x4833a4&&(_0x4833a4['sender']&&this['connection'][_0x6452fc(0x2f1)](_0x4833a4[_0x6452fc(0x3f3)]),_0x4833a4[_0x6452fc(0x709)]=void 0x0);}}[_0x27a6cf(0x6f5)](_0x134152){const _0x3dbfcb=_0x27a6cf;this[_0x3dbfcb(0x5bd)]();const _0x2997d0=function(_0x54a137,_0x54eceb){const _0x5029b7=_0x3dbfcb;return _0x54a137[_0x5029b7(0x389)]((_0x2032e1,_0x1299fa)=>_0x54eceb[_0x5029b7(0x524)]===_0x86405e[_0x5029b7(0x53f)]?_0x1299fa['priority']-_0x2032e1[_0x5029b7(0x2fe)]:_0x2032e1[_0x5029b7(0x2fe)]-_0x1299fa[_0x5029b7(0x2fe)])[_0x5029b7(0x613)](_0x4eae10=>function(_0x45c60a,_0x40ce0b){const _0x1f6219=_0x5029b7;if(_0x40ce0b['action']===_0x86405e[_0x1f6219(0x53f)]){if(_0x40ce0b['component']===_0xc3de87[_0x1f6219(0x5fa)])return _0x45c60a['resolutionScale']<0x4||_0x45c60a[_0x1f6219(0x6f0)]>0xf;if(_0x40ce0b[_0x1f6219(0x5ef)]===_0xc3de87[_0x1f6219(0x625)])return _0x45c60a[_0x1f6219(0x5c3)]>_0xbc7c17;}return _0x45c60a['resolutionScale']>_0x45c60a[_0x1f6219(0x3e8)]||_0x45c60a[_0x1f6219(0x1cd)]<_0x45c60a['maxFramerate']||_0x45c60a['bitrate']<_0x45c60a['maxBitrate'];}(_0x4eae10,_0x54eceb));}(Array[_0x3dbfcb(0x2fd)](this['senders'][_0x3dbfcb(0x2f6)]()),_0x134152);if(_0x2997d0&&(function(_0x2cb151,_0x13b89e){const _0x2dbac5=_0x3dbfcb;_0x2cb151[_0x2dbac5(0x33c)]['video']&&_0x2cb151[_0x2dbac5(0x33c)][_0x2dbac5(0x3f0)][_0x2dbac5(0x3f3)]&&(_0x2cb151[_0x2dbac5(0x575)]=function(_0x14ae7a,_0x2dfcf0,_0x28e8a7){const _0x243684=_0x2dbac5;switch(_0x28e8a7['action']){case _0x86405e[_0x243684(0x53f)]:_0x28e8a7[_0x243684(0x5ef)]===_0xc3de87['Resolution']&&(_0x14ae7a+=0.5)>0x4&&(_0x14ae7a=0x4);break;case _0x86405e[_0x243684(0x649)]:(_0x14ae7a-=0.5)<_0x2dfcf0&&(_0x14ae7a=_0x2dfcf0);}return _0x14ae7a;}(_0x2cb151[_0x2dbac5(0x575)],_0x2cb151[_0x2dbac5(0x3e8)],_0x13b89e),_0x2cb151[_0x2dbac5(0x1cd)]=function(_0x4b476e,_0x5f01ae,_0x22785e){const _0x15942d=_0x2dbac5;switch(_0x22785e['action']){case _0x86405e['Downgrade']:_0x22785e[_0x15942d(0x5ef)]===_0xc3de87['Resolution']&&(_0x4b476e-=0x3)<0xf&&(_0x4b476e=0xf);break;case _0x86405e[_0x15942d(0x649)]:(_0x4b476e+=0x3)>_0x5f01ae&&(_0x4b476e=_0x5f01ae);}return _0x4b476e;}(_0x2cb151[_0x2dbac5(0x1cd)],_0x2cb151['maxFramerate'],_0x13b89e),_0x2cb151[_0x2dbac5(0x200)]=function(_0x39bfa2,_0x2ef848,_0x52937d){const _0x1528c8=_0x2dbac5;switch(_0x52937d[_0x1528c8(0x524)]){case _0x86405e['Downgrade']:_0x52937d[_0x1528c8(0x5ef)]===_0xc3de87[_0x1528c8(0x625)]&&(_0x39bfa2*=0.75)<_0xbc7c17&&(_0x39bfa2=_0xbc7c17);break;case _0x86405e['Upgrade']:(_0x39bfa2*=1.25)>_0x2ef848&&(_0x39bfa2=_0x2ef848);}return _0x39bfa2;}(_0x2cb151[_0x2dbac5(0x200)],_0x2cb151['maxBitrate'],_0x13b89e));}(_0x2997d0,_0x134152),_0x2997d0['tracks'][_0x3dbfcb(0x3f0)]&&_0x2997d0['tracks'][_0x3dbfcb(0x3f0)][_0x3dbfcb(0x3f3)])){const _0x2e4a01=_0x2997d0[_0x3dbfcb(0x33c)][_0x3dbfcb(0x3f0)]['sender'];this[_0x3dbfcb(0x40d)]['setEncodingParameters'](_0x2e4a01,Math['floor'](0xa*_0x2997d0[_0x3dbfcb(0x575)])/0xa,_0x2997d0[_0x3dbfcb(0x1cd)],_0x2997d0[_0x3dbfcb(0x200)],_0x2997d0[_0x3dbfcb(0x2fe)]);}(_0x2997d0||_0x134152[_0x3dbfcb(0x524)]===_0x86405e['Downgrade'])&&this[_0x3dbfcb(0x486)]();}['resetConnection'](){const _0x2b661e=_0x27a6cf;super[_0x2b661e(0x742)](),this[_0x2b661e(0x6be)](),this[_0x2b661e(0x21a)](),this[_0x2b661e(0x629)][_0x2b661e(0x469)](_0x338452=>{const _0x3e1ad3=_0x2b661e;_0x338452[_0x3e1ad3(0x33c)][_0x3e1ad3(0x3f0)]&&(_0x338452[_0x3e1ad3(0x33c)]['video']['sender']=void 0x0),_0x338452['tracks'][_0x3e1ad3(0x284)]&&(_0x338452[_0x3e1ad3(0x33c)]['audio'][_0x3e1ad3(0x3f3)]=void 0x0);}),this[_0x2b661e(0x3e1)]=!0x0;}async[_0x27a6cf(0x508)](){return new Promise(async _0x516d80=>{const _0x18f444=a0_0x4e89;if(!this[_0x18f444(0x28b)]||_0x18f444(0x279)!==this['dataChannel'][_0x18f444(0x5a5)])return await _0x199808[_0x18f444(0x701)](0x64),void _0x516d80();this[_0x18f444(0x28b)][_0x18f444(0x32e)]<0x10000?_0x516d80():this['dataChannel'][_0x18f444(0x65a)]=()=>{const _0x4f9410=_0x18f444;this[_0x4f9410(0x28b)]&&(this[_0x4f9410(0x28b)][_0x4f9410(0x65a)]=null),_0x516d80();};});}[_0x27a6cf(0x35c)](_0x210e7f,_0x347493){const _0x4453ea=_0x27a6cf,_0x489e15=[];for(let _0x3e184a=0x0;_0x3e184a<_0x347493[_0x4453ea(0x1d0)];_0x3e184a+=_0x2df029)_0x489e15[_0x4453ea(0x647)](_0x347493[_0x4453ea(0x58a)](_0x3e184a,_0x3e184a+_0x2df029));for(const _0x277db7 of _0x489e15)this[_0x4453ea(0x204)](_0x6014dc+';'+_0x210e7f['uuid']+';'+_0x489e15[_0x4453ea(0x5f8)](_0x277db7)+';'+_0x489e15[_0x4453ea(0x1d0)]+';'+_0x277db7,_0xaf2a2f['Low']);}async['sendWithRetry'](_0x32045e,_0x5a80aa){const _0x19f434=_0x27a6cf;_0x32045e===_0xbb647b?this['retryQueue'][_0x19f434(0x332)][_0x5a80aa][_0x19f434(0x4aa)]?.[_0x19f434(0x616)]!==_0xbb647b&&this['retryQueue'][_0x19f434(0x332)][_0x5a80aa]['unshift'](_0x32045e):this[_0x19f434(0x5be)][_0x19f434(0x332)][_0x5a80aa][_0x19f434(0x647)](_0x32045e);}['sendAction'](_0x8ae9d0){const _0x53b7d9=_0x27a6cf;if(!this['dataChannel']||_0x53b7d9(0x279)!==this[_0x53b7d9(0x28b)]['state'])throw new Error(_0x53b7d9(0x250));const _0x525869=Date[_0x53b7d9(0x534)]();_0x8ae9d0!==_0xbb647b&&(this[_0x53b7d9(0x50b)]+=0x1,this[_0x53b7d9(0x6d6)]+=_0x8ae9d0 instanceof ArrayBuffer?_0x8ae9d0[_0x53b7d9(0x658)]:_0x8ae9d0[_0x53b7d9(0x1d0)]),ArrayBuffer,this[_0x53b7d9(0x28b)][_0x53b7d9(0x3df)](_0x8ae9d0),this[_0x53b7d9(0x694)]+=Date[_0x53b7d9(0x534)]()-_0x525869;}[_0x27a6cf(0x5f0)](){const _0x424215=_0x27a6cf;this[_0x424215(0x20e)]&&this[_0x424215(0x20c)]();let _0x4319e7=!0x0,_0x42b105=Date[_0x424215(0x534)]();this['lastHeartbeat']=Date[_0x424215(0x534)](),this[_0x424215(0x28b)][_0x424215(0x3a5)]=_0x46be3b=>{const _0x20d84b=_0x424215;'1'===_0x46be3b[_0x20d84b(0x423)]&&(this[_0x20d84b(0x36c)]=Date[_0x20d84b(0x534)]()-_0x42b105,_0x4319e7&&this[_0x20d84b(0x4f7)]({'type':_0x1ffd7c[_0x20d84b(0x453)]}),_0x4319e7=!0x1,this[_0x20d84b(0x4eb)]=Date[_0x20d84b(0x534)](),this[_0x20d84b(0x3e1)]&&(this[_0x20d84b(0x3e1)]=!0x1,this[_0x20d84b(0x1c4)]()));},this[_0x424215(0x20e)]=_0x199808[_0x424215(0x231)](()=>{const _0x38a87c=_0x424215;_0x42b105=Date['now'](),this[_0x38a87c(0x204)](_0xbb647b,_0xaf2a2f[_0x38a87c(0x628)]),Date['now']()-this[_0x38a87c(0x4eb)]>(_0x4319e7?0x15f90:0x3a98)&&this[_0x38a87c(0x3d4)]();},0xbb8);}[_0x27a6cf(0x1c4)](){const _0x3ab564=_0x27a6cf;this['senders'][_0x3ab564(0x469)](_0x481db6=>{const _0x3306f6=_0x3ab564;_0x481db6['tracks'][_0x3306f6(0x3f0)]&&_0x481db6[_0x3306f6(0x33c)]['video']['track']&&!_0x481db6[_0x3306f6(0x33c)][_0x3306f6(0x3f0)][_0x3306f6(0x3f3)]&&(_0x481db6['tracks']['video'][_0x3306f6(0x3f3)]=this[_0x3306f6(0x40d)][_0x3306f6(0x32d)](_0x481db6[_0x3306f6(0x33c)][_0x3306f6(0x3f0)][_0x3306f6(0x709)],_0x481db6[_0x3306f6(0x521)])),_0x481db6[_0x3306f6(0x33c)][_0x3306f6(0x284)]&&_0x481db6[_0x3306f6(0x33c)][_0x3306f6(0x284)][_0x3306f6(0x709)]&&!_0x481db6[_0x3306f6(0x33c)][_0x3306f6(0x284)][_0x3306f6(0x3f3)]&&(_0x481db6[_0x3306f6(0x33c)]['audio'][_0x3306f6(0x3f3)]=this[_0x3306f6(0x40d)][_0x3306f6(0x32d)](_0x481db6[_0x3306f6(0x33c)][_0x3306f6(0x284)][_0x3306f6(0x709)],_0x481db6[_0x3306f6(0x521)]));});}['sendIceCandidates'](){const _0x3e3ecc=_0x27a6cf;this[_0x3e3ecc(0x4f7)]({'type':_0x1ffd7c[_0x3e3ecc(0x4fd)],'candidates':this[_0x3e3ecc(0x455)],'origin':_0xf30543['Sender'],'version':this[_0x3e3ecc(0x1f5)],'connectionType':this[_0x3e3ecc(0x43b)]});}[_0x27a6cf(0x1b9)](){const _0x4a3f73=_0x27a6cf;super[_0x4a3f73(0x1b9)](),this[_0x4a3f73(0x40d)][_0x4a3f73(0x2ff)]=()=>{const _0x3d287e=_0x4a3f73;if(_0x3d287e(0x442)===this[_0x3d287e(0x40d)][_0x3d287e(0x60e)]){_0x20481a[_0x3d287e(0x517)](_0x5483cd[_0x3d287e(0x24e)],_0x3d287e(0x507),this[_0x3d287e(0x70b)][_0x3d287e(0x4cd)](),this[_0x3d287e(0x5fc)]);try{if(this[_0x3d287e(0x40d)][_0x3d287e(0x27d)])return void this[_0x3d287e(0x40d)][_0x3d287e(0x1ad)]();}catch(_0x5ee8aa){}this['createOffer']({'handshakeRestart':!0x0});}},this[_0x4a3f73(0x40d)][_0x4a3f73(0x57d)]=()=>{const _0x1ef25d=_0x4a3f73;_0x1ef25d(0x340)!==this[_0x1ef25d(0x40d)][_0x1ef25d(0x308)]&&_0x1ef25d(0x442)!==this[_0x1ef25d(0x40d)][_0x1ef25d(0x308)]||this[_0x1ef25d(0x3d4)]();};}[_0x27a6cf(0x3d4)](){const _0x4a9623=_0x27a6cf;this['clearHeartbeat'](),this['clearRestartTimeout'](),this[_0x4a9623(0x443)](),_0x20481a[_0x4a9623(0x56d)](_0x4a9623(0x383),{'clusterId':this[_0x4a9623(0x698)],'nodeId':this[_0x4a9623(0x70b)]['getId'](),'nodeType':this['localNode'][_0x4a9623(0x2b7)],'remoteId':this[_0x4a9623(0x5fc)],'data':{'connectionType':this[_0x4a9623(0x43b)],'connectionState':this[_0x4a9623(0x40d)]['connectionState'],'iceConnectionState':this[_0x4a9623(0x40d)][_0x4a9623(0x60e)],'signalingState':this[_0x4a9623(0x40d)]['signalingState'],'readyState':this['dataChannel']?.['state']||'','lastHeartbeat':this[_0x4a9623(0x4eb)]?Date[_0x4a9623(0x534)]()-this[_0x4a9623(0x4eb)]:'','retryQueue':this[_0x4a9623(0x5be)]}}),(this[_0x4a9623(0x4eb)]&&Date[_0x4a9623(0x534)]()-this[_0x4a9623(0x4eb)]>0xea60)??0x1?this[_0x4a9623(0x1d6)][_0x4a9623(0x4b0)]({'sourceId':this[_0x4a9623(0x5fc)],'destinationIds':[this[_0x4a9623(0x70b)]['getId']()],'messageType':_0x3421b2[_0x4a9623(0x348)],'content':{'type':_0x1ffd7c[_0x4a9623(0x349)]}}):(this[_0x4a9623(0x742)](),this[_0x4a9623(0x4f7)]({'type':_0x1ffd7c[_0x4a9623(0x43f)],'version':this[_0x4a9623(0x1f5)],'connectionType':this[_0x4a9623(0x43b)]}),this['restartTimeout']=setTimeout(()=>{const _0x4a4701=_0x4a9623;this[_0x4a4701(0x3d4)]();},0x7530));}[_0x27a6cf(0x20c)](){const _0x5f1885=_0x27a6cf;this[_0x5f1885(0x20e)]?.(),delete this['heartbeatUnsubscriber'];}[_0x27a6cf(0x443)](){const _0x40cd10=_0x27a6cf;this['connectionTimeout']&&(clearTimeout(this['connectionTimeout']),delete this[_0x40cd10(0x2d0)]);}[_0x27a6cf(0x689)](){const _0x1e27f2=_0x27a6cf;this['restartTimeout']&&(clearTimeout(this[_0x1e27f2(0x2e5)]),delete this[_0x1e27f2(0x2e5)]);}[_0x27a6cf(0x5bd)](){const _0xc517f1=_0x27a6cf;this[_0xc517f1(0x203)]&&(clearTimeout(this['upgradeTimeout']),delete this['upgradeTimeout']);}[_0x27a6cf(0x486)](){const _0x525b87=_0x27a6cf;this[_0x525b87(0x203)]=setTimeout(()=>{const _0x2310c7=_0x525b87;this[_0x2310c7(0x6f5)]({'type':_0x6e3577[_0x2310c7(0x2a3)],'action':_0x86405e['Upgrade']});},0x3a98);}['getResolutionScale'](_0x32dc26,_0x1f3b11){const _0x1f4c6f=_0x27a6cf,_0x18833d=Math['max'](_0x32dc26[_0x1f4c6f(0x2ee)]/_0x1f3b11['width'],_0x32dc26['height']/_0x1f3b11['height']);return Math[_0x1f4c6f(0x56a)](Math['max'](_0x18833d,0x1),0x4);}[_0x27a6cf(0x21a)](){const _0x4a38c6=_0x27a6cf;this[_0x4a38c6(0x267)]?.(),delete this[_0x4a38c6(0x267)];}[_0x27a6cf(0x6be)](){const _0x40a138=_0x27a6cf;this[_0x40a138(0x726)]&&(clearTimeout(this[_0x40a138(0x726)]),delete this[_0x40a138(0x726)]);}[_0x27a6cf(0x327)](_0x5e63c0){const _0x6ca28f=_0x27a6cf,_0x5ebd6a=JSON[_0x6ca28f(0x63d)](_0x5e63c0);return new TextEncoder()[_0x6ca28f(0x61c)](_0x5ebd6a)[_0x6ca28f(0x6d7)];}[_0x27a6cf(0x1da)](_0x33b27a,_0x1339a2){const _0x1a387d=_0x27a6cf,_0x25c84b=this[_0x1a387d(0x327)](_0x33b27a),_0x3cc77d=new Uint8Array(0x4),_0x44a6d3=new Uint8Array(_0x25c84b),_0x31fbfa=new Uint8Array(_0x1339a2);_0x3cc77d[_0x1a387d(0x734)](new Uint8Array(new Uint32Array([_0x44a6d3['length']])[_0x1a387d(0x6d7)]));const _0x7cc827=new Uint8Array(0x4+_0x44a6d3[_0x1a387d(0x1d0)]+_0x31fbfa[_0x1a387d(0x1d0)]);return _0x7cc827[_0x1a387d(0x734)](_0x3cc77d),_0x7cc827['set'](_0x44a6d3,0x4),_0x7cc827[_0x1a387d(0x734)](_0x31fbfa,0x4+_0x44a6d3[_0x1a387d(0x1d0)]),_0x7cc827[_0x1a387d(0x6d7)];}}class _0x4f530a extends _0x3c7120{['iceServers'];[_0x27a6cf(0x43b)];[_0x27a6cf(0x36b)];[_0x27a6cf(0x61b)];[_0x27a6cf(0x2b8)];[_0x27a6cf(0x2c3)];[_0x27a6cf(0x382)];[_0x27a6cf(0x1bc)]=[];['messageListeners']=_0x22f6ab();[_0x27a6cf(0x5b8)]=_0x22f6ab();[_0x27a6cf(0x5da)]=_0x22f6ab();[_0x27a6cf(0x5df)]=[];[_0x27a6cf(0x1d6)];[_0x27a6cf(0x1b3)]=new Map();[_0x27a6cf(0x59b)]=new Map();['mediaTopics']=new Map();[_0x27a6cf(0x34d)]=new Map();[_0x27a6cf(0x484)]=!0x1;constructor(_0x30aeb1,_0x18a0d4,_0x2d8db5,_0x2ad437,_0x471629,_0x5eb465,_0x57a4c5,_0x4f1662){const _0x1e40ff=_0x27a6cf;super(_0x30aeb1,_0x18a0d4,_0x2d8db5),this[_0x1e40ff(0x73e)]=_0x2ad437,this[_0x1e40ff(0x43b)]=_0x471629,this[_0x1e40ff(0x36b)]=_0x5eb465,this[_0x1e40ff(0x61b)]=_0x57a4c5,this[_0x1e40ff(0x2b8)]=_0x4f1662;}[_0x27a6cf(0x1e8)](_0x1480b2){const _0x555f9b=_0x27a6cf;switch(_0x1480b2[_0x555f9b(0x2e0)]()){case _0x1176cc['ContentType'][_0x555f9b(0x1eb)]:case _0x1176cc[_0x555f9b(0x6d9)][_0x555f9b(0x6a9)]:case _0x1176cc[_0x555f9b(0x6d9)]['ObjectStore']:case _0x1176cc[_0x555f9b(0x6d9)]['KeyValueDatabase']:this[_0x555f9b(0x1b3)][_0x555f9b(0x734)](_0x1480b2[_0x555f9b(0x1c9)](),_0x1480b2);break;case _0x1176cc[_0x555f9b(0x6d9)]['Media']:this[_0x555f9b(0x23d)][_0x555f9b(0x734)](_0x1480b2[_0x555f9b(0x1c9)](),_0x1480b2);}}[_0x27a6cf(0x3cb)](_0x41c02c){const _0x433ede=_0x27a6cf;switch(_0x41c02c['getContentType']()){case _0x1176cc['ContentType']['Data']:case _0x1176cc['ContentType'][_0x433ede(0x6a9)]:case _0x1176cc[_0x433ede(0x6d9)][_0x433ede(0x281)]:case _0x1176cc[_0x433ede(0x6d9)]['KeyValueDatabase']:this['dataTopics'][_0x433ede(0x370)](_0x41c02c['getLabel']());break;case _0x1176cc[_0x433ede(0x6d9)][_0x433ede(0x2be)]:this['mediaTopics']['delete'](_0x41c02c[_0x433ede(0x1c9)]());}}['registerSubscriber'](_0x3b4efc){const _0x1a7e04=_0x27a6cf;switch(_0x3b4efc['getContentType']()){case _0x1176cc[_0x1a7e04(0x6d9)][_0x1a7e04(0x1eb)]:case _0x1176cc[_0x1a7e04(0x6d9)]['PubSub']:case _0x1176cc[_0x1a7e04(0x6d9)]['ObjectStore']:case _0x1176cc[_0x1a7e04(0x6d9)][_0x1a7e04(0x4ec)]:{const _0x1bba1c=_0x3b4efc[_0x1a7e04(0x290)](_0x35e160=>{const _0x1243d6=_0x1a7e04;_0xd717c5(_0x35e160,this[_0x1243d6(0x664)]())&&_0x478631(_0x35e160,this['remoteId'])&&this[_0x1243d6(0x3df)](_0x35e160);});this[_0x1a7e04(0x59b)][_0x1a7e04(0x734)](_0x3b4efc[_0x1a7e04(0x1c9)](),_0x1bba1c);break;}case _0x1176cc[_0x1a7e04(0x6d9)][_0x1a7e04(0x2be)]:{const _0x36d9e9=_0x3b4efc[_0x1a7e04(0x290)](({content:_0xbf5f99})=>{const _0x2fce5f=_0x1a7e04;switch(_0xbf5f99['action']){case _0x4407d4[_0x2fce5f(0x6d0)]:this['addTrack'](_0xbf5f99[_0x2fce5f(0x709)],_0xbf5f99[_0x2fce5f(0x521)],_0xbf5f99[_0x2fce5f(0x2fe)],_0xbf5f99['params']);break;case _0x4407d4['Remove']:this[_0x2fce5f(0x2f1)](_0xbf5f99['track'],_0xbf5f99[_0x2fce5f(0x521)]);break;case _0x4407d4['Update']:_0xbf5f99['priority']&&this[_0x2fce5f(0x1e9)](_0xbf5f99[_0x2fce5f(0x521)],_0xbf5f99[_0x2fce5f(0x2fe)]),_0xbf5f99['params']&&this['setParams'](_0xbf5f99['stream'],_0xbf5f99[_0x2fce5f(0x3c7)]);}});this[_0x1a7e04(0x34d)][_0x1a7e04(0x734)](_0x3b4efc[_0x1a7e04(0x1c9)](),_0x36d9e9);break;}}}[_0x27a6cf(0x18f)](_0x213885){const _0x5c922a=_0x27a6cf;switch(_0x213885[_0x5c922a(0x2e0)]()){case _0x1176cc[_0x5c922a(0x6d9)][_0x5c922a(0x1eb)]:case _0x1176cc[_0x5c922a(0x6d9)][_0x5c922a(0x6a9)]:case _0x1176cc[_0x5c922a(0x6d9)][_0x5c922a(0x281)]:case _0x1176cc[_0x5c922a(0x6d9)][_0x5c922a(0x4ec)]:this[_0x5c922a(0x59b)]['get'](_0x213885[_0x5c922a(0x1c9)]())?.(),this['dataUnsubscribers'][_0x5c922a(0x370)](_0x213885[_0x5c922a(0x1c9)]());break;case _0x1176cc[_0x5c922a(0x6d9)][_0x5c922a(0x2be)]:this[_0x5c922a(0x34d)]['get'](_0x213885[_0x5c922a(0x1c9)]())?.(),this['mediaUnsubscribers'][_0x5c922a(0x370)](_0x213885[_0x5c922a(0x1c9)]());}}[_0x27a6cf(0x64d)](){const _0x20afaf=_0x27a6cf;return[_0x1176cc['ContentType']['Data'],_0x1176cc[_0x20afaf(0x6d9)][_0x20afaf(0x2be)],_0x1176cc['ContentType']['PubSub'],_0x1176cc['ContentType'][_0x20afaf(0x281)],_0x1176cc['ContentType'][_0x20afaf(0x4ec)]];}[_0x27a6cf(0x6c0)](_0x27a2a2){const _0x38a5fd=_0x27a6cf;this[_0x38a5fd(0x1d6)]=_0x27a2a2;}[_0x27a6cf(0x5b0)](){const _0x1e8b7a=_0x27a6cf;delete this[_0x1e8b7a(0x1d6)];}async['connect'](){this['setupListeners'](),await this['createOffer']();}[_0x27a6cf(0x33d)](){const _0x62f23c=_0x27a6cf;this[_0x62f23c(0x5df)]['forEach'](_0x34f52b=>_0x34f52b()),this[_0x62f23c(0x5df)]=[],this[_0x62f23c(0x2c3)]?.[_0x62f23c(0x5b0)](),this[_0x62f23c(0x2c3)]?.[_0x62f23c(0x33d)](),delete this[_0x62f23c(0x2c3)],this[_0x62f23c(0x1bc)][_0x62f23c(0x469)](_0x5e9d01=>_0x5e9d01()),this[_0x62f23c(0x1bc)]=[],this[_0x62f23c(0x382)]?.[_0x62f23c(0x5b0)](),this[_0x62f23c(0x382)]?.['close'](),delete this['receiverConnection'];}['isConnected'](){const _0x1db652=_0x27a6cf;return this[_0x1db652(0x2c3)]?.[_0x1db652(0x66f)]()&&this['receiverConnection']?.[_0x1db652(0x66f)]()||!0x1;}[_0x27a6cf(0x3df)](_0x2ef1e2){const _0x3894ce=_0x27a6cf;if(!this[_0x3894ce(0x2c3)]||!this[_0x3894ce(0x66f)]())throw new _0x2d2d59(_0x2d2d59['codes'][_0x3894ce(0x653)],{'message':_0x3894ce(0x1e0),'senderConnected':this[_0x3894ce(0x2c3)]?.[_0x3894ce(0x66f)](),'receiverConnected':this['receiverConnection']?.[_0x3894ce(0x66f)](),'localId':this[_0x3894ce(0x664)](),'remoteId':this[_0x3894ce(0x5fc)],'data':_0x2ef1e2});this[_0x3894ce(0x2c3)][_0x3894ce(0x3df)](_0x2ef1e2);}['onMessage'](_0x41ae2c){const _0x4bd26e=_0x27a6cf;return this[_0x4bd26e(0x39b)][_0x4bd26e(0x290)](_0x41ae2c);}[_0x27a6cf(0x651)](_0x489a19){const _0xc0c167=_0x27a6cf;return this[_0xc0c167(0x5b8)][_0xc0c167(0x290)](({track:_0x253832,stream:_0x2c90ef})=>_0x489a19(_0x253832,_0x2c90ef));}[_0x27a6cf(0x334)](_0x4766bb){const _0x431c74=_0x27a6cf;return this[_0x431c74(0x5da)]['subscribe'](({track:_0x4836b6,stream:_0x4f10ca})=>_0x4766bb(_0x4836b6,_0x4f10ca));}['addTrack'](_0x1568c1,_0x294cd2,_0xc34fc1,_0x34bb3f){this['senderConnection']?.['addTrack'](_0x1568c1,_0x294cd2,_0xc34fc1,_0x34bb3f);}['setPriority'](_0x26b031,_0x45f5b2){const _0x168481=_0x27a6cf;this[_0x168481(0x2c3)]?.['setPriority'](_0x26b031,_0x45f5b2);}[_0x27a6cf(0x675)](_0x523ed5,_0x196001){const _0xbf622c=_0x27a6cf;this[_0xbf622c(0x2c3)]?.['setParams'](_0x523ed5,_0x196001);}[_0x27a6cf(0x2f1)](_0xe05c82,_0xb81ed0){const _0x2245ef=_0x27a6cf;this[_0x2245ef(0x2c3)]?.[_0x2245ef(0x2f1)](_0xe05c82,_0xb81ed0);}async['handlePeerConnectionSystemEvents'](_0x5b1736){const _0x2085e9=_0x27a6cf;_0x20481a[_0x2085e9(0x517)](_0x5483cd['Connection'],'CrewdleConnection\x20handlePeerConnectionSystemEvents',this['getLocalId'](),_0x5b1736);const {content:_0x475b7e}=_0x5b1736;switch(_0x475b7e[_0x2085e9(0x2b7)]){case _0x1ffd7c[_0x2085e9(0x6c6)]:await this[_0x2085e9(0x4cc)](_0x475b7e);break;case _0x1ffd7c['Answer']:await this['handleAnswer'](_0x475b7e);break;case _0x1ffd7c['Success']:this[_0x2085e9(0x6ca)]();break;case _0x1ffd7c[_0x2085e9(0x4fd)]:await this[_0x2085e9(0x683)](_0x475b7e);break;case _0x1ffd7c[_0x2085e9(0x43f)]:this['handleNeedRestart'](_0x475b7e);break;case _0x1ffd7c[_0x2085e9(0x31e)]:await this['createOffer']();}}['handleRemediationSystemEvents'](_0x1ddb52){const _0x26fc47=_0x27a6cf;this[_0x26fc47(0x2c3)]?.[_0x26fc47(0x6f5)](_0x1ddb52[_0x26fc47(0x5d4)]['data']);}[_0x27a6cf(0x568)](){const _0x34e111=_0x27a6cf;return this[_0x34e111(0x43b)];}[_0x27a6cf(0x436)](_0x14a552){const _0x5d444c=_0x27a6cf;this[_0x5d444c(0x43b)]=_0x14a552,this[_0x5d444c(0x2c3)]?.[_0x5d444c(0x436)](_0x14a552),this['receiverConnection']?.[_0x5d444c(0x436)](_0x14a552);}async[_0x27a6cf(0x728)](){const _0x25244e=_0x27a6cf;await this[_0x25244e(0x2c3)]?.[_0x25244e(0x728)](),await this[_0x25244e(0x382)]?.[_0x25244e(0x728)]();}['setupListeners'](){const _0x2f599d=_0x27a6cf;this['listenerUnsubscribers'][_0x2f599d(0x647)](this[_0x2f599d(0x3a5)](_0x13e520=>{const _0x1fe00b=_0x2f599d;_0x478631(_0x13e520,this['getLocalId']())&&0x0!==_0x13e520[_0x1fe00b(0x6dd)]&&this[_0x1fe00b(0x1b3)][_0x1fe00b(0x1d2)](_0x13e520[_0x1fe00b(0x6dd)])?.[_0x1fe00b(0x4b0)](_0x13e520);})),this[_0x2f599d(0x5df)][_0x2f599d(0x647)](this[_0x2f599d(0x651)]((_0x288939,_0x106797)=>{const _0xef59fb=_0x2f599d,_0x229379=_0x1e7e5e(_0x1176cc[_0xef59fb(0x6d9)][_0xef59fb(0x2be)],_0x106797['id'],this[_0xef59fb(0x5fc)]);this[_0xef59fb(0x23d)]['get'](_0x229379)?.[_0xef59fb(0x4b0)]({'topicLabel':_0x229379,'sourceId':this[_0xef59fb(0x5fc)],'contentType':_0x1176cc[_0xef59fb(0x6d9)][_0xef59fb(0x2be)],'content':{'action':_0x4407d4['RemoteAdd'],'track':_0x288939,'stream':_0x106797,'providerId':this[_0xef59fb(0x5fc)]}});})),this['listenerUnsubscribers'][_0x2f599d(0x647)](this['onRemoveTrack']((_0x5aca2e,_0x1aaa72)=>{const _0x4e990c=_0x2f599d,_0x59c708=_0x1e7e5e(_0x1176cc[_0x4e990c(0x6d9)]['Media'],_0x1aaa72['id'],this['remoteId']);this[_0x4e990c(0x23d)][_0x4e990c(0x1d2)](_0x59c708)?.[_0x4e990c(0x4b0)]({'topicLabel':_0x59c708,'sourceId':this[_0x4e990c(0x5fc)],'contentType':_0x1176cc[_0x4e990c(0x6d9)]['Media'],'content':{'action':_0x4407d4[_0x4e990c(0x419)],'track':_0x5aca2e,'stream':_0x1aaa72,'providerId':this['remoteId']}});}));}['handleIceCandidates']({candidates:_0x540d36,origin:_0x43db1c,version:_0x5d7f8a}){const _0x35842d=_0x27a6cf;return _0x43db1c===_0xf30543[_0x35842d(0x5cf)]?(this[_0x35842d(0x382)]||this[_0x35842d(0x572)](),this[_0x35842d(0x382)]['handleHandshake'](_0x540d36,_0x5d7f8a)):this[_0x35842d(0x2c3)][_0x35842d(0x494)](_0x540d36,_0x5d7f8a);}async[_0x27a6cf(0x4e3)](){const _0x63fe0a=_0x27a6cf;this[_0x63fe0a(0x2c3)]||this[_0x63fe0a(0x218)](),await this[_0x63fe0a(0x2c3)][_0x63fe0a(0x4e3)]();}async[_0x27a6cf(0x4cc)]({offer:_0x17833d,version:_0xe932e5}){const _0x2caad9=_0x27a6cf;this['receiverConnection']||this['createReceiverConnection'](),await this[_0x2caad9(0x382)][_0x2caad9(0x4cc)](_0x17833d,_0xe932e5);}async[_0x27a6cf(0x532)]({answer:_0xa3db7d,version:_0x91883d}){const _0x450e9b=_0x27a6cf;if(!this['senderConnection'])throw new _0x2d2d59(_0x2d2d59[_0x450e9b(0x49c)][_0x450e9b(0x653)],{'message':_0x450e9b(0x35a),'localId':this[_0x450e9b(0x664)](),'remoteId':this['remoteId'],'answer':_0xa3db7d});await this[_0x450e9b(0x2c3)][_0x450e9b(0x532)](_0xa3db7d,_0x91883d);}[_0x27a6cf(0x6ca)](){const _0x473a1d=_0x27a6cf;if(!this[_0x473a1d(0x382)])throw new _0x2d2d59(_0x2d2d59[_0x473a1d(0x49c)][_0x473a1d(0x653)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x473a1d(0x664)](),'remoteId':this[_0x473a1d(0x5fc)]});this['receiverConnection']['handleSuccess'](),this['successNotified']||this[_0x473a1d(0x43b)]!==_0x3ecb35[_0x473a1d(0x291)]||(this[_0x473a1d(0x484)]=!0x0,this[_0x473a1d(0x1d6)]?.[_0x473a1d(0x4b0)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x473a1d(0x664)]()],'messageType':_0x3421b2[_0x473a1d(0x348)],'content':{'type':_0x1ffd7c[_0x473a1d(0x501)]}}));}[_0x27a6cf(0x562)](_0x451b3c){const _0x4d8631=_0x27a6cf;this[_0x4d8631(0x382)]||this[_0x4d8631(0x572)](),this[_0x4d8631(0x382)][_0x4d8631(0x562)](_0x451b3c[_0x4d8631(0x3ff)]);}[_0x27a6cf(0x218)](){const _0x354b6d=_0x27a6cf;this['senderConnection']=new _0x463bc3(this['clusterId'],this[_0x354b6d(0x70b)],this['remoteId'],this['iceServers'],this[_0x354b6d(0x43b)],this[_0x354b6d(0x36b)],this[_0x354b6d(0x61b)],this[_0x354b6d(0x2b8)]),this[_0x354b6d(0x2c3)][_0x354b6d(0x6c0)](this[_0x354b6d(0x1d6)]);}['createReceiverConnection'](){const _0x52b3c0=_0x27a6cf;this[_0x52b3c0(0x382)]=new _0x3f29bc(this[_0x52b3c0(0x698)],this[_0x52b3c0(0x70b)],this[_0x52b3c0(0x5fc)],this[_0x52b3c0(0x73e)],this['connectionType'],this['connectionConstructor']),this['receiverConnection'][_0x52b3c0(0x6c0)](this[_0x52b3c0(0x1d6)]),this['receiverUnsubscribers'][_0x52b3c0(0x647)](this[_0x52b3c0(0x382)][_0x52b3c0(0x3a5)](_0x544830=>this['messageListeners']['publish'](_0x544830))),this['receiverUnsubscribers'][_0x52b3c0(0x647)](this[_0x52b3c0(0x382)][_0x52b3c0(0x651)]((_0x28c400,_0x28c2ad)=>this[_0x52b3c0(0x5b8)][_0x52b3c0(0x4b0)]({'track':_0x28c400,'stream':_0x28c2ad}))),this[_0x52b3c0(0x1bc)][_0x52b3c0(0x647)](this['receiverConnection']['onRemoveTrack']((_0x23f768,_0x40fb2c)=>this[_0x52b3c0(0x5da)][_0x52b3c0(0x4b0)]({'track':_0x23f768,'stream':_0x40fb2c})));}}class _0x2b3b41{[_0x27a6cf(0x6a6)];[_0x27a6cf(0x4d5)];['graphService'];[_0x27a6cf(0x604)]=new Map();['messageListeners']=_0x22f6ab();[_0x27a6cf(0x38a)];[_0x27a6cf(0x1b3)]=new Map();[_0x27a6cf(0x59b)]=new Map();[_0x27a6cf(0x71a)]=new Map();constructor(_0x2bbe4c,_0x100249,_0x18c28d){const _0x6a64d0=_0x27a6cf;this[_0x6a64d0(0x6a6)]=_0x2bbe4c,this[_0x6a64d0(0x4d5)]=_0x100249,this['graphService']=_0x18c28d,this[_0x6a64d0(0x38a)]=this[_0x6a64d0(0x3a5)](_0x78bb0c=>{const _0x4a70c0=_0x6a64d0;this[_0x4a70c0(0x4d5)][_0x4a70c0(0x289)](_0x78bb0c[_0x4a70c0(0x4a7)])||(_0x478631(_0x78bb0c,this[_0x4a70c0(0x6a6)])&&0x0!==_0x78bb0c[_0x4a70c0(0x6dd)]&&(this[_0x4a70c0(0x4d5)]['addMessage'](_0x78bb0c['uuid']),this[_0x4a70c0(0x1b3)][_0x4a70c0(0x1d2)](_0x78bb0c['topicLabel'])?.[_0x4a70c0(0x4b0)](_0x78bb0c)),_0x78bb0c[_0x4a70c0(0x5bb)]&&this['send'](_0x78bb0c));});}['close'](){this['messageUnsubscriber']?.();}[_0x27a6cf(0x669)](_0x14e814){const _0x287584=_0x27a6cf,_0x4fff0f=_0x14e814[_0x287584(0x3a5)](_0x1fd5e7=>{const _0x1a0f1c=_0x287584;this['messageListeners'][_0x1a0f1c(0x4b0)](_0x1fd5e7);});this['connections'][_0x287584(0x734)](_0x14e814,_0x4fff0f),this[_0x287584(0x71a)][_0x287584(0x734)](_0x14e814[_0x287584(0x519)](),function(_0x48e559,_0x3cd0c2=!0x1){let _0x375952=new Map();const _0x47185e=_0x446e2c(_0x48e559,_0x3cd0c2,function(_0x39902c){const _0x2fc178=a0_0x4e89;_0x550c27(_0x39902c)&&_0x375952[_0x2fc178(0x370)](_0x39902c[_0x2fc178(0x552)]+'-'+(_0x39902c['destinationIds']??[])+'-'+_0x39902c[_0x2fc178(0x5d2)]+'-'+_0x39902c[_0x2fc178(0x5d4)]['type']);},function(_0x247c28){return!!function(_0x31d4ce){const _0x3e8c6a=a0_0x4e89,_0x13dde9=_0x31d4ce[_0x3e8c6a(0x616)];if(!_0x550c27(_0x13dde9))return!0x1;const _0x2e4ee3=_0x13dde9[_0x3e8c6a(0x552)]+'-'+(_0x13dde9[_0x3e8c6a(0x4d7)]??[])+'-'+_0x13dde9[_0x3e8c6a(0x5d2)]+'-'+_0x13dde9[_0x3e8c6a(0x5d4)][_0x3e8c6a(0x2b7)],_0x7c7a08={'version':_0x13dde9[_0x3e8c6a(0x5d4)][_0x3e8c6a(0x3ff)],'element':_0x31d4ce},_0x279d20=_0x375952[_0x3e8c6a(0x1d2)](_0x2e4ee3);return _0x279d20?(_0x279d20[_0x3e8c6a(0x3ff)]>=_0x13dde9[_0x3e8c6a(0x5d4)]['version']||(_0x279d20['element'][_0x3e8c6a(0x70e)]&&(_0x279d20[_0x3e8c6a(0x197)]['previous'][_0x3e8c6a(0x570)]=_0x31d4ce,_0x31d4ce[_0x3e8c6a(0x70e)]=_0x279d20['element'][_0x3e8c6a(0x70e)]),_0x279d20[_0x3e8c6a(0x197)][_0x3e8c6a(0x570)]&&(_0x279d20[_0x3e8c6a(0x197)]['next']['previous']=_0x31d4ce,_0x31d4ce[_0x3e8c6a(0x570)]=_0x279d20[_0x3e8c6a(0x197)][_0x3e8c6a(0x570)]),_0x279d20[_0x3e8c6a(0x197)]===_0x47185e['head']&&(_0x47185e[_0x3e8c6a(0x4aa)]=_0x31d4ce),_0x279d20[_0x3e8c6a(0x197)]===_0x47185e[_0x3e8c6a(0x2b0)]&&(_0x47185e[_0x3e8c6a(0x2b0)]=_0x31d4ce),_0x375952['set'](_0x2e4ee3,_0x7c7a08)),!0x0):(_0x375952[_0x3e8c6a(0x734)](_0x2e4ee3,_0x7c7a08),!0x1);}(_0x247c28);},function(){const _0x239c03=a0_0x4e89;_0x375952[_0x239c03(0x662)]();});function _0x550c27(_0x190dda){const _0x49ae80=a0_0x4e89;if(_0x190dda&&_0x49ae80(0x5e8)==typeof _0x190dda&&_0x190dda[_0x49ae80(0x4d3)]('content')&&_0x190dda[_0x49ae80(0x4d3)](_0x49ae80(0x5d2))&&_0x190dda[_0x49ae80(0x4d3)](_0x49ae80(0x552))){const _0x4a531f=_0x190dda;if(_0x4a531f[_0x49ae80(0x5d4)]&&'object'==typeof _0x4a531f['content']&&_0x4a531f['content'][_0x49ae80(0x4d3)](_0x49ae80(0x3ff))&&_0x4a531f['content']['hasOwnProperty'](_0x49ae80(0x2b7)))return!0x0;}return!0x1;}return _0x47185e;}(new _0x7806b5(_0x3742a4=>_0x14e814[_0x287584(0x3df)](_0x3742a4),()=>_0x199808['wait'](0x64))));}[_0x27a6cf(0x376)](_0x3156c6){const _0x1e30fe=_0x27a6cf;this[_0x1e30fe(0x604)][_0x1e30fe(0x1d2)](_0x3156c6)?.(),this[_0x1e30fe(0x604)]['delete'](_0x3156c6),this[_0x1e30fe(0x71a)][_0x1e30fe(0x1d2)](_0x3156c6[_0x1e30fe(0x519)]())?.['clear'](),this[_0x1e30fe(0x71a)][_0x1e30fe(0x370)](_0x3156c6[_0x1e30fe(0x519)]());}[_0x27a6cf(0x66f)](_0x409640){const _0x47906f=_0x27a6cf;return _0x20481a[_0x47906f(0x517)](_0x5483cd[_0x47906f(0x24e)],_0x47906f(0x5c1),this[_0x47906f(0x6a6)],this[_0x47906f(0x604)][_0x47906f(0x47f)]()),0x0!==this[_0x47906f(0x604)][_0x47906f(0x1e6)]&&(Array['from'](this['connections'][_0x47906f(0x47f)]())['find'](_0x38ba13=>_0x38ba13[_0x47906f(0x519)]()===_0x409640)?.['isConnected']()??!0x1);}[_0x27a6cf(0x1e8)](_0x239978){const _0x10c3a2=_0x27a6cf;this[_0x10c3a2(0x1b3)]['set'](_0x239978[_0x10c3a2(0x1c9)](),_0x239978);}[_0x27a6cf(0x3cb)](_0x5122d4){this['dataTopics']['delete'](_0x5122d4['getLabel']());}[_0x27a6cf(0x40a)](_0x2adb02){const _0xafc7d4=_0x27a6cf,_0xf48985=_0x2adb02['subscribe'](this[_0xafc7d4(0x3df)][_0xafc7d4(0x5f9)](this));this[_0xafc7d4(0x59b)][_0xafc7d4(0x734)](_0x2adb02[_0xafc7d4(0x1c9)](),_0xf48985);}[_0x27a6cf(0x18f)](_0x255100){const _0x558da5=_0x27a6cf;this[_0x558da5(0x59b)]['get'](_0x255100[_0x558da5(0x1c9)]())?.(),this[_0x558da5(0x59b)][_0x558da5(0x370)](_0x255100[_0x558da5(0x1c9)]());}[_0x27a6cf(0x64d)](){const _0x275dce=_0x27a6cf;return[_0x1176cc[_0x275dce(0x6d9)][_0x275dce(0x1eb)],_0x1176cc['ContentType'][_0x275dce(0x6a9)],_0x1176cc[_0x275dce(0x6d9)][_0x275dce(0x281)],_0x1176cc[_0x275dce(0x6d9)][_0x275dce(0x4ec)]];}['send'](_0x4d8a74){const _0x1c0086=_0x27a6cf;if(!0x1===_0x4d8a74[_0x1c0086(0x68d)]){if(_0x4d8a74[_0x1c0086(0x5bb)]||!_0x4d8a74[_0x1c0086(0x4d7)]||0x1!==_0x4d8a74['destinationIds'][_0x1c0086(0x1d0)])throw new _0x2d2d59(_0x2d2d59[_0x1c0086(0x49c)][_0x1c0086(0x3b8)],{'message':_0x1c0086(0x5a2),'localId':this[_0x1c0086(0x6a6)]});if(!this[_0x1c0086(0x66f)](_0x4d8a74[_0x1c0086(0x4d7)][0x0]))throw new _0x5afd36(_0x1c0086(0x221));}const _0x589c93=_0x4d8a74[_0x1c0086(0x2b4)]??[];try{const {filteredDestinationIds:_0x3a0584,extendedRecipients:_0x42f136}=this['updatePropagationProperties'](_0x4d8a74,_0x589c93);_0x4d8a74[_0x1c0086(0x4d7)]=_0x3a0584,_0x4d8a74[_0x1c0086(0x2b4)]=_0x42f136;}catch(_0x11e24a){if(_0x11e24a instanceof _0x5afd36)return void _0x20481a[_0x1c0086(0x517)](_0x5483cd[_0x1c0086(0x390)],'CrewdleConnectionGroup',_0x1c0086(0x644),_0x4d8a74,_0x11e24a[_0x1c0086(0x6a8)]);}const _0x4fe9c3=this['shouldContinuePropagation'](_0x4d8a74);this['logPropagateSystemEvent'](_0x4d8a74,_0x4fe9c3),_0x4d8a74['propagate']=_0x4fe9c3;const _0x534471=this['getConnectionDestinations'](_0x4d8a74,_0x589c93);for(const _0x3c949a of _0x534471){const _0x14406c=this[_0x1c0086(0x71a)]['get'](_0x3c949a[_0x1c0086(0x519)]());if(!_0x14406c)throw new _0x2d2d59(_0x2d2d59[_0x1c0086(0x49c)][_0x1c0086(0x448)],{'message':_0x1c0086(0x45e),'localId':this['localId'],'remoteId':_0x3c949a['getRemoteId'](),'data':_0x4d8a74});_0x14406c[_0x1c0086(0x647)](_0x4d8a74);}}[_0x27a6cf(0x519)](){return'';}[_0x27a6cf(0x664)](){return this['localId'];}[_0x27a6cf(0x3a5)](_0x423672){const _0x4193a9=_0x27a6cf;return this[_0x4193a9(0x39b)][_0x4193a9(0x290)](_0x423672);}[_0x27a6cf(0x18b)](_0x589879,_0x1581b7){const _0x323f10=_0x27a6cf,_0x44bff8={'filteredDestinationIds':_0x589879['destinationIds'],'extendedRecipients':_0x589879[_0x323f10(0x2b4)]};if(!_0x589879[_0x323f10(0x5bb)])return _0x44bff8;const _0x4a1f47=Array[_0x323f10(0x2fd)](this[_0x323f10(0x604)]['keys']())[_0x323f10(0x57c)](_0x198d7b=>_0x198d7b[_0x323f10(0x568)]()===_0x3ecb35['Core']||_0x198d7b[_0x323f10(0x66f)]())[_0x323f10(0x5d9)](_0x875035=>_0x875035[_0x323f10(0x519)]());if(_0x4a1f47[_0x323f10(0x1af)]((_0x4bf434,_0x37e0d2)=>_0x4bf434&&_0x589879[_0x323f10(0x2b4)][_0x323f10(0x607)](_0x37e0d2),!0x0))throw new _0x5afd36(_0x323f10(0x4dc));if(_0x589879[_0x323f10(0x4d7)]){const _0x514632=_0x589879['destinationIds'][_0x323f10(0x57c)](_0x5a96c8=>_0x5a96c8!==this['localId']&&!_0x589879[_0x323f10(0x2b4)]['includes'](_0x5a96c8));if(0x0===_0x514632['length'])throw new _0x5afd36(_0x323f10(0x3fb));_0x44bff8[_0x323f10(0x4a0)]=_0x514632;}return _0x44bff8[_0x323f10(0x59e)]=[...new Set([..._0x1581b7,..._0x4a1f47,this[_0x323f10(0x6a6)]])],_0x44bff8;}[_0x27a6cf(0x6ed)](_0xf85309,_0x1d0866=!0x1){const _0x32118c=_0x27a6cf;if(0x0===_0xf85309[_0x32118c(0x6dd)]&&!_0xd717c5(_0xf85309,this[_0x32118c(0x6a6)])&&_0xf85309[_0x32118c(0x5bb)]){const _0x2e3c65=_0x220730(_0xf85309,this['localId']);_0x20481a[_0x32118c(0x663)](_0x5483cd[_0x32118c(0x66e)],_0xf85309[_0x32118c(0x4a7)]+_0x32118c(0x403)+_0x1d0866+')\x20'+_0x2e3c65,_0xf85309,_0x1d0866);}}[_0x27a6cf(0x47c)](_0x576b8d){const _0x3a5f22=_0x27a6cf;if(_0x576b8d['destinationIds']&&_0x576b8d[_0x3a5f22(0x5bb)]){const _0x5d0112=Array[_0x3a5f22(0x2fd)](this[_0x3a5f22(0x604)][_0x3a5f22(0x47f)]())[_0x3a5f22(0x57c)](_0x508b0b=>_0x508b0b[_0x3a5f22(0x568)]()===_0x3ecb35[_0x3a5f22(0x4a9)]||_0x508b0b['isConnected']())[_0x3a5f22(0x5d9)](_0x3e140d=>_0x3e140d[_0x3a5f22(0x519)]());return!_0x576b8d['destinationIds'][_0x3a5f22(0x1af)]((_0x5999ff,_0x5ae33e)=>_0x5999ff&&_0x5d0112[_0x3a5f22(0x607)](_0x5ae33e),!0x0);}return _0x576b8d['propagate']??!0x1;}[_0x27a6cf(0x498)](_0x517698,_0x346f2e){const _0x170d6f=_0x27a6cf;if(_0x517698[_0x170d6f(0x5bb)]&&_0x517698[_0x170d6f(0x4d7)]){const _0x2d7c3f=Array[_0x170d6f(0x2fd)](this[_0x170d6f(0x604)][_0x170d6f(0x47f)]())[_0x170d6f(0x57c)](_0x4c877c=>_0x4c877c[_0x170d6f(0x568)]()===_0x3ecb35['Core']||_0x4c877c[_0x170d6f(0x66f)]())[_0x170d6f(0x5d9)](_0x488aaa=>_0x488aaa['getRemoteId']()),_0xe485a9=new Set(),_0x2866b3=_0x517698['sourceId']===this['localId']?0x3:0x1;return _0x517698['destinationIds'][_0x170d6f(0x469)](_0x4f04db=>{const _0x218352=_0x170d6f,_0x28b071=this[_0x218352(0x51a)][_0x218352(0x3bb)](_0x2d7c3f,_0x4f04db);let _0x2f7dc6=0x0,_0x4d7ce5=0x0;_0x28b071[_0x218352(0x469)](_0x1f42d9=>{const _0x3a4460=_0x218352;if(_0x2f7dc6>=_0x2866b3)return;const _0x478616=Array[_0x3a4460(0x2fd)](this['connections'][_0x3a4460(0x47f)]())[_0x3a4460(0x613)](_0xe75035=>_0xe75035[_0x3a4460(0x519)]()===_0x1f42d9);if(_0x478616){if(_0x478616[_0x3a4460(0x568)]()===_0x3ecb35['Core']&&_0x4d7ce5>0x0)return void(_0x4d7ce5-=0x1);_0xe485a9[_0x3a4460(0x74b)](_0x478616),_0x478616[_0x3a4460(0x568)]()===_0x3ecb35[_0x3a4460(0x291)]&&(_0x4d7ce5+=0x1),_0x2f7dc6+=0x1;}});}),Array[_0x170d6f(0x2fd)](_0xe485a9);}return Array[_0x170d6f(0x2fd)](this[_0x170d6f(0x604)][_0x170d6f(0x47f)]())[_0x170d6f(0x57c)](_0x59bf33=>{const _0x48b5e1=_0x170d6f;return _0x49f447=_0x59bf33[_0x48b5e1(0x519)](),!_0x346f2e['includes'](_0x49f447)&&(_0x478631(_0x517698,_0x49f447)||_0x517698[_0x48b5e1(0x5bb)])&&(!_0x517698[_0x48b5e1(0x5bb)]||_0x59bf33[_0x48b5e1(0x66f)]()||_0x59bf33[_0x48b5e1(0x568)]()===_0x3ecb35[_0x48b5e1(0x4a9)]);var _0x49f447;});}}class _0x23016a{[_0x27a6cf(0x6a6)];[_0x27a6cf(0x4d5)];[_0x27a6cf(0x604)]=new Map();[_0x27a6cf(0x1d6)];constructor(_0x302eff,_0x582400){const _0x21878b=_0x27a6cf;this[_0x21878b(0x6a6)]=_0x302eff,this['messageBuffer']=_0x582400;}['close'](){}[_0x27a6cf(0x3df)](_0x38cb4a){const _0x1eb53d=_0x27a6cf;for(const _0x139394 of this[_0x1eb53d(0x604)][_0x1eb53d(0x47f)]())try{return void _0x139394['send']({'retry':!0x1,..._0x38cb4a});}catch(_0x536ce2){_0x536ce2 instanceof _0x5afd36||_0x20481a[_0x1eb53d(0x517)](_0x5483cd[_0x1eb53d(0x4f5)],'send\x20error\x20on\x20'+_0x139394,_0x536ce2,_0x38cb4a);}_0x20481a['log'](_0x5483cd[_0x1eb53d(0x4f5)],'No\x20connections\x20available\x20to\x20send\x20message');}['addConnection'](_0x16e6ea){const _0x1ec90c=_0x27a6cf,_0xf72b82=_0x16e6ea['onMessage'](_0xe9a6be=>{const _0x365017=a0_0x4e89;this['messageBuffer'][_0x365017(0x289)](_0xe9a6be[_0x365017(0x4a7)])||0x0===_0xe9a6be[_0x365017(0x6dd)]&&(this[_0x365017(0x4d5)][_0x365017(0x2e9)](_0xe9a6be['uuid']),_0x478631(_0xe9a6be,this[_0x365017(0x6a6)])&&this[_0x365017(0x1d6)]?.[_0x365017(0x4b0)](_0xe9a6be));});this[_0x1ec90c(0x604)][_0x1ec90c(0x734)](_0x16e6ea,_0xf72b82);}['removeConnection'](_0x5cee63){const _0x392dc6=_0x27a6cf;this[_0x392dc6(0x604)]['get'](_0x5cee63)?.(),this[_0x392dc6(0x604)][_0x392dc6(0x370)](_0x5cee63);}[_0x27a6cf(0x664)](){const _0x198d3f=_0x27a6cf;return this[_0x198d3f(0x6a6)];}[_0x27a6cf(0x519)](){return'';}[_0x27a6cf(0x64d)](){return[_0x1176cc['ContentType']['Data']];}[_0x27a6cf(0x66f)](){const _0x4cfd2e=_0x27a6cf;throw new Error(_0x4cfd2e(0x295));}[_0x27a6cf(0x6c0)](_0x4f4ef5){this['systemTopic']=_0x4f4ef5;}[_0x27a6cf(0x5b0)](){delete this['systemTopic'];}}class _0x1090e1{[_0x27a6cf(0x6d7)]=new Map();[_0x27a6cf(0x4f9)];constructor(){const _0x32023c=_0x27a6cf;this[_0x32023c(0x4f9)]=_0x199808[_0x32023c(0x231)](()=>{const _0x505ff5=_0x32023c;for(const [_0x4d14f2,_0x46caba]of this[_0x505ff5(0x6d7)][_0x505ff5(0x594)]())Date[_0x505ff5(0x534)]()-_0x46caba>0x124f80&&this[_0x505ff5(0x6d7)][_0x505ff5(0x370)](_0x4d14f2);},0x1d4c0);}[_0x27a6cf(0x33d)](){this['unsubscribeHandler']();}['addMessage'](_0x213a42){const _0xea9505=_0x27a6cf;this[_0xea9505(0x6d7)][_0xea9505(0x734)](_0x213a42,Date[_0xea9505(0x534)]());}['hasMessage'](_0x3dc522){const _0xda5d93=_0x27a6cf;return this[_0xda5d93(0x6d7)][_0xda5d93(0x25a)](_0x3dc522);}}class _0x24420a{['configs'];['authService'];[_0x27a6cf(0x73e)];[_0x27a6cf(0x36b)];[_0x27a6cf(0x61b)];['connectionConstructor'];[_0x27a6cf(0x604)]=new Map();[_0x27a6cf(0x426)];['connectionGroup'];['signalingServer'];[_0x27a6cf(0x4d5)];constructor(_0x5372ec,_0xc51db2,_0x40415e,_0x48718b,_0x238708,_0x55cc32,_0x4ae24e){const _0x2c53ee=_0x27a6cf;this[_0x2c53ee(0x457)]=_0x5372ec,this[_0x2c53ee(0x578)]=_0xc51db2,this[_0x2c53ee(0x73e)]=_0x40415e,this[_0x2c53ee(0x36b)]=_0x48718b,this[_0x2c53ee(0x61b)]=_0x238708,this[_0x2c53ee(0x2b8)]=_0x4ae24e,this[_0x2c53ee(0x4d5)]=new _0x1090e1(),this[_0x2c53ee(0x1b8)]=new _0x2b3b41(this['configs'][_0x2c53ee(0x70b)][_0x2c53ee(0x4cd)](),this[_0x2c53ee(0x4d5)],_0x55cc32),this[_0x2c53ee(0x437)]=new _0x449f65(this[_0x2c53ee(0x457)]['vendorId'],this['configs'][_0x2c53ee(0x698)],this[_0x2c53ee(0x457)][_0x2c53ee(0x70b)],_0x2c53ee(0x636),this[_0x2c53ee(0x578)]),this['connectionPool']=new _0x23016a(this[_0x2c53ee(0x457)]['localNode'][_0x2c53ee(0x4cd)](),this[_0x2c53ee(0x4d5)]),this[_0x2c53ee(0x426)][_0x2c53ee(0x669)](this[_0x2c53ee(0x1b8)]),this[_0x2c53ee(0x426)]['addConnection'](this[_0x2c53ee(0x437)]),this[_0x2c53ee(0x457)][_0x2c53ee(0x652)][_0x2c53ee(0x3ef)](this[_0x2c53ee(0x426)]);}[_0x27a6cf(0x33d)](){const _0x304c79=_0x27a6cf;this[_0x304c79(0x4d5)][_0x304c79(0x33d)](),this['connections']['forEach']((_0x258cbb,_0x56001b)=>this[_0x304c79(0x1f4)](_0x56001b)),this[_0x304c79(0x457)][_0x304c79(0x652)][_0x304c79(0x1cc)](this[_0x304c79(0x426)]),this['connectionPool']['removeConnection'](this[_0x304c79(0x437)]),this[_0x304c79(0x426)]['removeConnection'](this[_0x304c79(0x1b8)]),this[_0x304c79(0x426)][_0x304c79(0x33d)](),this[_0x304c79(0x437)]['close'](),this[_0x304c79(0x1b8)][_0x304c79(0x33d)]();}async['initialize'](){const _0x214ba8=_0x27a6cf;await this[_0x214ba8(0x437)]['connect']();}async['createConnection'](_0x1af7af,_0x3f5461=_0x3ecb35['Core']){const _0x21dfc5=_0x27a6cf;if(this[_0x21dfc5(0x604)][_0x21dfc5(0x25a)](_0x1af7af)){if(this[_0x21dfc5(0x604)]['get'](_0x1af7af)?.[_0x21dfc5(0x568)]()===_0x3ecb35[_0x21dfc5(0x291)]&&_0x3f5461===_0x3ecb35[_0x21dfc5(0x4a9)])return void this[_0x21dfc5(0x604)][_0x21dfc5(0x1d2)](_0x1af7af)?.[_0x21dfc5(0x436)](_0x3ecb35['Core']);throw new _0x2d2d59(_0x2d2d59['codes'][_0x21dfc5(0x4cf)],{'localId':this[_0x21dfc5(0x457)][_0x21dfc5(0x70b)][_0x21dfc5(0x4cd)](),'remoteId':_0x1af7af});}const _0x17975c=new _0x4f530a(this[_0x21dfc5(0x457)][_0x21dfc5(0x698)],this['configs'][_0x21dfc5(0x70b)],_0x1af7af,this['iceServers'],_0x3f5461,this[_0x21dfc5(0x36b)],this[_0x21dfc5(0x61b)],this['connectionConstructor']);this[_0x21dfc5(0x604)]['set'](_0x1af7af,_0x17975c),this['connectionGroup'][_0x21dfc5(0x669)](_0x17975c),this[_0x21dfc5(0x457)][_0x21dfc5(0x652)][_0x21dfc5(0x3ef)](_0x17975c),this[_0x21dfc5(0x457)][_0x21dfc5(0x652)]['registerRemoteNode'](_0x1af7af),await _0x17975c[_0x21dfc5(0x3b7)]();}[_0x27a6cf(0x6b0)](){const _0x341924=_0x27a6cf;return this[_0x341924(0x1b8)];}[_0x27a6cf(0x320)](_0x5ae92e){const _0x179e17=_0x27a6cf;if(!this[_0x179e17(0x604)][_0x179e17(0x25a)](_0x5ae92e))throw new _0x2d2d59(_0x2d2d59[_0x179e17(0x49c)]['MissingRemoteConnection'],{'localId':this[_0x179e17(0x457)]['localNode'][_0x179e17(0x4cd)](),'remoteId':_0x5ae92e});return this[_0x179e17(0x604)]['get'](_0x5ae92e);}[_0x27a6cf(0x1f8)](_0x5e3575){const _0x37edbb=_0x27a6cf,_0x245ed7=Array[_0x37edbb(0x2fd)](this['connections'][_0x37edbb(0x2f6)]());return _0x5e3575?_0x245ed7[_0x37edbb(0x57c)](_0x5e3575):_0x245ed7;}async[_0x27a6cf(0x728)](_0x38cd37){const _0x5b62f9=_0x27a6cf,_0xe63fd3=this[_0x5b62f9(0x604)]['get'](_0x38cd37);_0xe63fd3&&_0xe63fd3[_0x5b62f9(0x66f)]()&&await _0xe63fd3[_0x5b62f9(0x728)]();}[_0x27a6cf(0x4a6)](_0x548f61){const _0xbe2bc1=_0x27a6cf;if(_0x548f61[_0xbe2bc1(0x5d2)]!==_0x3421b2[_0xbe2bc1(0x348)]||_0x548f61['propagate'])try{this[_0xbe2bc1(0x1b8)][_0xbe2bc1(0x3df)](_0x548f61);}catch(_0x12ae5f){if(_0x12ae5f instanceof _0x5afd36)return;throw _0x12ae5f;}else this['connectionPool'][_0xbe2bc1(0x3df)](_0x548f61);}async[_0x27a6cf(0x36a)](_0x1f7f94){const _0xff54c5=_0x27a6cf;switch(_0x1f7f94['content'][_0xff54c5(0x2b7)]){case _0x1ffd7c[_0xff54c5(0x349)]:case _0x1ffd7c[_0xff54c5(0x55f)]:case _0x1ffd7c[_0xff54c5(0x501)]:return;}if(!_0x1f7f94[_0xff54c5(0x4d7)]||0x1!==_0x1f7f94[_0xff54c5(0x4d7)][_0xff54c5(0x1d0)])throw new _0x2d2d59(_0x2d2d59[_0xff54c5(0x49c)][_0xff54c5(0x2db)],{'message':_0xff54c5(0x52e),'event':_0x1f7f94});if(_0x1f7f94[_0xff54c5(0x4d7)][0x0]!==this['configs'][_0xff54c5(0x70b)][_0xff54c5(0x4cd)]())throw new _0x2d2d59(_0x2d2d59[_0xff54c5(0x49c)][_0xff54c5(0x2db)],{'message':_0xff54c5(0x3b0),'event':_0x1f7f94});if(!this[_0xff54c5(0x604)][_0xff54c5(0x25a)](_0x1f7f94[_0xff54c5(0x552)])){let _0x615a1c=_0x3ecb35['Core'];if(!(this[_0xff54c5(0x6ba)](_0x1f7f94[_0xff54c5(0x5d4)])||this[_0xff54c5(0x3ca)](_0x1f7f94['content'])||this[_0xff54c5(0x3d6)](_0x1f7f94[_0xff54c5(0x5d4)])))return;_0x615a1c=_0x1f7f94[_0xff54c5(0x5d4)][_0xff54c5(0x43b)],await this[_0xff54c5(0x2df)](_0x1f7f94[_0xff54c5(0x552)],_0x615a1c);}const _0x1fe96f=this[_0xff54c5(0x604)]['get'](_0x1f7f94[_0xff54c5(0x552)]);await _0x1fe96f[_0xff54c5(0x36a)](_0x1f7f94);}['handleRemediationSystemEvents'](_0x5549b3){const _0x5e5440=_0x27a6cf;if(_0x5549b3[_0x5e5440(0x5d4)][_0x5e5440(0x2b7)]===_0x6e3577[_0x5e5440(0x2a3)]){if(_0x5549b3[_0x5e5440(0x5d4)]['targetId']===this[_0x5e5440(0x457)]['localNode'][_0x5e5440(0x4cd)]())return void this['connections'][_0x5e5440(0x469)](_0x3ddcf1=>_0x3ddcf1[_0x5e5440(0x599)](_0x5549b3));this['connections'][_0x5e5440(0x1d2)](_0x5549b3[_0x5e5440(0x5d4)][_0x5e5440(0x6b5)])?.['handleRemediationSystemEvents'](_0x5549b3);}}['handleNodeSystemEvents']({content:_0x287549}){const _0x33d3b4=_0x27a6cf;_0x287549[_0x33d3b4(0x2b7)]===_0x1c6aa9['NodeLeave']&&this['closeConnection'](_0x287549['id']);}[_0x27a6cf(0x1f4)](_0x20de7d){const _0x33e563=_0x27a6cf,_0x33bdbe=this['connections'][_0x33e563(0x1d2)](_0x20de7d);_0x33bdbe&&(this['configs'][_0x33e563(0x652)]['unregisterRemoteNode'](_0x20de7d),this[_0x33e563(0x457)][_0x33e563(0x652)]['unregisterSystemSource'](_0x33bdbe),_0x33bdbe instanceof _0x4f530a&&this[_0x33e563(0x1b8)][_0x33e563(0x376)](_0x33bdbe),_0x33bdbe['close'](),this[_0x33e563(0x604)][_0x33e563(0x370)](_0x20de7d));}[_0x27a6cf(0x6ba)](_0x1c87c1){const _0x618f71=_0x27a6cf;return _0x1c87c1[_0x618f71(0x2b7)]===_0x1ffd7c[_0x618f71(0x6c6)];}[_0x27a6cf(0x3d6)](_0x4904a0){const _0x1e343e=_0x27a6cf;return _0x4904a0[_0x1e343e(0x2b7)]===_0x1ffd7c[_0x1e343e(0x43f)];}[_0x27a6cf(0x3ca)](_0x432951){const _0x1d4e0b=_0x27a6cf;return _0x432951['type']===_0x1ffd7c[_0x1d4e0b(0x4fd)];}}!function(_0x488203){const _0xbcb21=_0x27a6cf;_0x488203[_0x488203[_0xbcb21(0x33b)]=0x0]=_0xbcb21(0x33b),_0x488203[_0x488203['UpdateMediaStream']=0x1]=_0xbcb21(0x48b),_0x488203[_0x488203['UnsubscribeMediaStream']=0x2]='UnsubscribeMediaStream',_0x488203[_0x488203[_0xbcb21(0x2c6)]=0x3]=_0xbcb21(0x2c6),_0x488203[_0x488203[_0xbcb21(0x44b)]=0x4]='RestartNeedMediaStream',_0x488203[_0x488203[_0xbcb21(0x5e4)]=0x5]='CanProvideMediaStream',_0x488203[_0x488203[_0xbcb21(0x421)]=0x6]=_0xbcb21(0x421),_0x488203[_0x488203[_0xbcb21(0x1ae)]=0x7]=_0xbcb21(0x1ae);}(_0x5d7a24||(_0x5d7a24={}));class _0xcbb377 extends _0x33503b{['localNode'];[_0x27a6cf(0x698)];[_0x27a6cf(0x25f)];[_0x27a6cf(0x67b)];[_0x27a6cf(0x4f9)];[_0x27a6cf(0x19e)];['pendingSyncTransactions']=new Map();[_0x27a6cf(0x72c)]=new Map();[_0x27a6cf(0x3eb)]=new Map();[_0x27a6cf(0x598)]=new Map();['pendingFilesRename']=new Map();[_0x27a6cf(0x446)];['eventListener']=_0xc40b89();['listenerUnsubscriber'];[_0x27a6cf(0x3f6)];[_0x27a6cf(0x4ee)]=0x0;[_0x27a6cf(0x68a)]=0x0;constructor(_0x1a2a4a,_0x4fede5,_0x3fa904,_0x2db52b,_0x2e6bc6,_0x30074a){const _0x46cb22=_0x27a6cf;if(_0x46cb22(0x2bd)!=typeof _0x4fede5)throw new _0x478f0b(_0x3792fa[_0x46cb22(0x4ef)],_0x46cb22(0x20f));super(_0x1a2a4a,_0x4fede5),this[_0x46cb22(0x70b)]=_0x1a2a4a,this['clusterId']=_0x3fa904,this[_0x46cb22(0x25f)]=_0x2db52b,this[_0x46cb22(0x67b)]=_0x2e6bc6;const _0x1e29be=_0x46cb22(0x449)+this[_0x46cb22(0x25f)]+'ccc'+this[_0x46cb22(0x698)]+_0x46cb22(0x449)+_0x4fede5;this[_0x46cb22(0x446)]=new _0x30074a(_0x1e29be),this['sendStats']();}[_0x27a6cf(0x24a)](){const _0x21829d=_0x27a6cf;this[_0x21829d(0x39c)]();}['getContentType'](){const _0x16ca82=_0x27a6cf;return _0x1176cc[_0x16ca82(0x6d9)][_0x16ca82(0x281)];}async[_0x27a6cf(0x566)](){const _0x2171cb=_0x27a6cf;try{const _0x5936a2=await this[_0x2171cb(0x446)][_0x2171cb(0x1d2)](_0x56474c),_0x2cc2f5=await _0x5936a2['text']();this[_0x2171cb(0x19e)]=_0x2cc2f5;}catch(_0x57ae3c){}this[_0x2171cb(0x4f9)]=this[_0x2171cb(0x3a5)](async(_0x5aaa3e,_0x5d5f24)=>{const _0x2ad8ee=_0x2171cb;if(!(_0x5d5f24 instanceof File))try{if(_0x5d5f24[_0x2ad8ee(0x2cc)]===_0x2e1348[_0x2ad8ee(0x6e5)])return void this[_0x2ad8ee(0x456)](_0x5d5f24);this['handleTransactionPayload'](_0x5d5f24);}catch(_0x33b950){if(_0x33b950 instanceof _0x2d2d59)throw _0x33b950;throw new _0x2d2d59(_0x2d2d59['codes'][_0x2ad8ee(0x230)],{'payload':_0x5d5f24});}}),await this[_0x2171cb(0x401)](),await this[_0x2171cb(0x3e6)](),this[_0x2171cb(0x39c)]();}['destroy'](){const _0x21aabf=_0x27a6cf;this[_0x21aabf(0x4f9)]?.(),clearTimeout(this[_0x21aabf(0x3f6)]),delete this[_0x21aabf(0x3f6)],super[_0x21aabf(0x1dd)]();}[_0x27a6cf(0x33d)](){const _0x168aa6=_0x27a6cf;this['systemTopic']?.[_0x168aa6(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x168aa6(0x260)],'content':{'type':_0x22acf3[_0x168aa6(0x478)],'label':this[_0x168aa6(0x533)]}});}[_0x27a6cf(0x290)](_0x190acc){const _0xf279dd=_0x27a6cf;if(this['listenerUnsubscriber'])throw new _0x478f0b(_0x3792fa[_0xf279dd(0x3a1)],_0xf279dd(0x641));this['listenerUnsubscriber']=this['eventListener'][_0xf279dd(0x290)](_0x190acc);}[_0x27a6cf(0x1b7)](){const _0x571bfb=_0x27a6cf;this['listenerUnsubscriber']&&this[_0x571bfb(0x739)]();}[_0x27a6cf(0x4b0)](_0x904eae){const _0x109b3f=_0x27a6cf;switch(_0x904eae['action']){case _0x1176cc[_0x109b3f(0x2e4)]['File']:return this[_0x109b3f(0x399)](_0x904eae['file'],_0x904eae[_0x109b3f(0x6f7)]);case _0x1176cc[_0x109b3f(0x2e4)][_0x109b3f(0x3d7)]:return this[_0x109b3f(0x69d)](_0x904eae[_0x109b3f(0x6f7)]);case _0x1176cc[_0x109b3f(0x2e4)][_0x109b3f(0x6e8)]:return this[_0x109b3f(0x617)](_0x904eae[_0x109b3f(0x6f7)],_0x904eae['newPath']);default:throw new _0x478f0b(_0x3792fa[_0x109b3f(0x2d5)],_0x109b3f(0x626)+_0x904eae);}}async[_0x27a6cf(0x2ca)](_0x18d4af){const _0x410833=_0x27a6cf;try{const _0xcfb2d7=(0x0,_0x3a0c40['v4'])(),_0x1f5a6f=this[_0x410833(0x19e)],_0x569809={'payloadType':_0x2e1348[_0x410833(0x547)],'action':_0x181276[_0x410833(0x2ae)],'id':_0xcfb2d7,'parentId':_0x1f5a6f,'path':_0x18d4af};await this[_0x410833(0x363)](_0x569809);const _0x50dd8a=await this[_0x410833(0x3ba)](_0x18d4af);await this['send'](_0x569809),_0x20481a['logServiceEvent'](_0x4a6d96['ObjectStorage'],{'type':_0x410833(0x2ca),'label':this['label'],'nodeId':this[_0x410833(0x70b)]['getId'](),'nodeType':this[_0x410833(0x70b)][_0x410833(0x2b7)],'clusterId':this[_0x410833(0x698)],'kind':_0x50dd8a,'path':_0x18d4af}),this[_0x410833(0x4ee)]+=0x1,this[_0x410833(0x39c)]();}catch(_0x3f972b){if(_0x3f972b instanceof _0x2d2d59)throw new _0x478f0b(_0x3792fa[_0x410833(0x509)],_0x410833(0x341));throw new _0x478f0b(_0x3792fa[_0x410833(0x630)],_0x410833(0x53b)+_0x18d4af);}}async[_0x27a6cf(0x1d2)](_0x104be0){const _0x5f45e2=_0x27a6cf;_0x20481a['logServiceEvent'](_0x4a6d96[_0x5f45e2(0x30e)],{'type':_0x5f45e2(0x1d2),'label':this[_0x5f45e2(0x533)],'nodeId':this[_0x5f45e2(0x70b)][_0x5f45e2(0x4cd)](),'nodeType':this[_0x5f45e2(0x70b)][_0x5f45e2(0x2b7)],'clusterId':this['clusterId'],'path':_0x104be0}),this[_0x5f45e2(0x68a)]+=0x1,this['sendStats']();try{return await this['objectStoreConnector'][_0x5f45e2(0x1d2)](_0x104be0);}catch(_0x1bee65){try{await this[_0x5f45e2(0x446)]['get'](_0x104be0+_0x4c6e51);}catch(_0x19563c){throw new _0x478f0b(_0x3792fa[_0x5f45e2(0x630)],_0x5f45e2(0x5c9)+_0x104be0);}throw new _0x478f0b(_0x3792fa['ObjectStoreNotInSync'],_0x5f45e2(0x405));}}async[_0x27a6cf(0x64e)](_0x3aa083,_0x3fb14f=!0x1,_0x1dd62c=!0x1){const _0x1a8c0d=_0x27a6cf;_0x20481a[_0x1a8c0d(0x232)](_0x4a6d96[_0x1a8c0d(0x30e)],{'type':_0x1a8c0d(0x64e),'label':this[_0x1a8c0d(0x533)],'nodeId':this[_0x1a8c0d(0x70b)][_0x1a8c0d(0x4cd)](),'nodeType':this[_0x1a8c0d(0x70b)]['type'],'clusterId':this[_0x1a8c0d(0x698)],'path':_0x3aa083}),this[_0x1a8c0d(0x68a)]+=0x1,this[_0x1a8c0d(0x39c)]();try{const _0x2bf54d=await this[_0x1a8c0d(0x446)][_0x1a8c0d(0x64e)](_0x3aa083,_0x3fb14f);return _0x1dd62c?_0x2bf54d:this[_0x1a8c0d(0x2c4)](_0x2bf54d);}catch(_0x1e7d50){throw new _0x478f0b(_0x3792fa[_0x1a8c0d(0x630)],_0x1a8c0d(0x5ff)+_0x3aa083);}}[_0x27a6cf(0x1a0)](_0x173f90){const _0x4838ba=_0x27a6cf;for(const _0x4196ee of this['objectRequests'][_0x4838ba(0x2f6)]())this[_0x4838ba(0x3df)](_0x4196ee,[_0x173f90]);}[_0x27a6cf(0x3f9)](_0x30c6f7){const _0x44f733=_0x27a6cf,_0x4bdc5b=this[_0x44f733(0x3eb)]['get'](_0x30c6f7);if(_0x4bdc5b){for(const [_0x3770e2,_0x1a14ba]of _0x4bdc5b['values']())this['sendFileRequestPayload'](_0x3770e2,_0x1a14ba);this[_0x44f733(0x3eb)][_0x44f733(0x370)](_0x30c6f7);}}[_0x27a6cf(0x2c4)](_0x2e9130){const _0x18e5df=_0x27a6cf;for(const _0x43861b of _0x2e9130)_0x43861b[_0x18e5df(0x4e4)]===_0x1176cc[_0x18e5df(0x465)][_0x18e5df(0x3d7)]&&(_0x43861b[_0x18e5df(0x594)]=this[_0x18e5df(0x2c4)](_0x43861b[_0x18e5df(0x594)]??[])),(_0x43861b['name']['endsWith'](_0x4c6e51)||_0x43861b[_0x18e5df(0x4e0)]===_0x56474c)&&_0x2e9130[_0x18e5df(0x4c0)](_0x2e9130[_0x18e5df(0x5f8)](_0x43861b),0x1);return _0x2e9130;}async[_0x27a6cf(0x399)](_0x220111,_0x2e0704){const _0x3866a0=_0x27a6cf;try{const _0x598cae=(0x0,_0x3a0c40['v4'])(),_0x3e51d0=this[_0x3866a0(0x19e)],_0x4dc551=await _0x51d28a(_0x220111);await this[_0x3866a0(0x363)]({'payloadType':_0x2e1348[_0x3866a0(0x547)],'action':_0x181276[_0x3866a0(0x5d0)],'id':_0x598cae,'parentId':_0x3e51d0,'answererId':this['localNode'][_0x3866a0(0x4cd)](),'name':_0x220111[_0x3866a0(0x4e0)],'type':_0x220111[_0x3866a0(0x2b7)],'path':_0x2e0704??'/','checksum':_0x4dc551}),await this[_0x3866a0(0x5f6)](_0x220111,_0x2e0704),await this[_0x3866a0(0x5a1)](_0x220111,{'payloadType':_0x2e1348[_0x3866a0(0x547)],'action':_0x181276['FileWrite'],'id':_0x598cae,'parentId':_0x3e51d0,'answererId':this[_0x3866a0(0x70b)]['getId'](),'name':_0x220111['name'],'type':_0x220111[_0x3866a0(0x2b7)],'path':_0x2e0704??'/','checksum':_0x4dc551}),_0x20481a[_0x3866a0(0x232)](_0x4a6d96['ObjectStorage'],{'type':_0x3866a0(0x4b0),'label':this[_0x3866a0(0x533)],'nodeId':this[_0x3866a0(0x70b)][_0x3866a0(0x4cd)](),'nodeType':this[_0x3866a0(0x70b)]['type'],'clusterId':this[_0x3866a0(0x698)],'kind':_0x1176cc[_0x3866a0(0x465)]['File'],'path':_0x2e0704,'fileName':_0x220111['name'],'fileType':_0x220111['type'],'size':_0x220111[_0x3866a0(0x1e6)]}),this['writes']+=0x1,this[_0x3866a0(0x39c)]();}catch(_0x209f3d){if(_0x209f3d instanceof _0x2d2d59)throw new _0x478f0b(_0x3792fa['ObjectStoreNotInSync'],_0x3866a0(0x405));throw new _0x478f0b(_0x3792fa['ObjectStoreInvalidPath'],_0x3866a0(0x4f6)+_0x2e0704);}}async[_0x27a6cf(0x69d)](_0x2bcd9f){const _0x27226a=_0x27a6cf;try{const _0x4751eb=(0x0,_0x3a0c40['v4'])(),_0x1b8065=this['lastTransactionId'],_0x504569={'payloadType':_0x2e1348[_0x27226a(0x547)],'action':_0x181276['FolderCreate'],'id':_0x4751eb,'parentId':_0x1b8065,'path':_0x2bcd9f};await this[_0x27226a(0x363)](_0x504569),await this[_0x27226a(0x446)][_0x27226a(0x719)](_0x2bcd9f),await this[_0x27226a(0x3df)](_0x504569),_0x20481a[_0x27226a(0x232)](_0x4a6d96[_0x27226a(0x30e)],{'type':_0x27226a(0x4b0),'label':this[_0x27226a(0x533)],'nodeId':this[_0x27226a(0x70b)][_0x27226a(0x4cd)](),'nodeType':this[_0x27226a(0x70b)][_0x27226a(0x2b7)],'clusterId':this[_0x27226a(0x698)],'kind':_0x1176cc[_0x27226a(0x465)][_0x27226a(0x3d7)],'path':_0x2bcd9f}),this[_0x27226a(0x4ee)]+=0x1,this['sendStats']();}catch(_0xf10721){if(_0xf10721 instanceof _0x2d2d59)throw new _0x478f0b(_0x3792fa[_0x27226a(0x509)],_0x27226a(0x405));throw new _0x478f0b(_0x3792fa[_0x27226a(0x630)],_0x27226a(0x2f9)+_0x2bcd9f);}}async[_0x27a6cf(0x617)](_0x3b5bc3,_0x238ed2){const _0x1f076c=_0x27a6cf;try{const _0x1f4fd5=(0x0,_0x3a0c40['v4'])(),_0x177273=this[_0x1f076c(0x19e)],_0x1716ed={'payloadType':_0x2e1348['Transaction'],'action':_0x181276[_0x1f076c(0x6e8)],'id':_0x1f4fd5,'parentId':_0x177273,'path':_0x3b5bc3,'newPath':_0x238ed2};await this[_0x1f076c(0x363)](_0x1716ed);const _0x39a190=await this[_0x1f076c(0x622)](_0x3b5bc3,_0x238ed2);await this[_0x1f076c(0x3df)](_0x1716ed),_0x20481a[_0x1f076c(0x232)](_0x4a6d96[_0x1f076c(0x30e)],{'type':_0x1f076c(0x6ee),'label':this[_0x1f076c(0x533)],'nodeId':this[_0x1f076c(0x70b)][_0x1f076c(0x4cd)](),'nodeType':this[_0x1f076c(0x70b)]['type'],'clusterId':this[_0x1f076c(0x698)],'kind':_0x39a190,'path':_0x3b5bc3,'newPath':_0x238ed2}),this[_0x1f076c(0x4ee)]+=0x1,this[_0x1f076c(0x39c)]();}catch(_0x34f3b8){if(_0x34f3b8 instanceof _0x2d2d59)throw new _0x478f0b(_0x3792fa[_0x1f076c(0x509)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x478f0b(_0x3792fa[_0x1f076c(0x630)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x3b5bc3);}}async[_0x27a6cf(0x4ed)](_0x38c92f){const _0x3a953c=_0x27a6cf;if(this[_0x3a953c(0x19e)]&&_0x38c92f[_0x3a953c(0x596)]!==this[_0x3a953c(0x19e)]&&_0x38c92f['id']!==this[_0x3a953c(0x19e)]){if(!_0x38c92f[_0x3a953c(0x596)])throw new _0x2d2d59(_0x2d2d59[_0x3a953c(0x49c)][_0x3a953c(0x230)]);this[_0x3a953c(0x366)][_0x3a953c(0x734)](_0x38c92f[_0x3a953c(0x596)],_0x38c92f);}else{try{await this[_0x3a953c(0x433)](_0x38c92f);}catch(_0x172f78){}await this[_0x3a953c(0x44a)](_0x38c92f['id']),await this[_0x3a953c(0x261)](_0x38c92f['id']);}}async[_0x27a6cf(0x433)](_0xc80cbf){const _0x1d4914=_0x27a6cf;switch(_0xc80cbf[_0x1d4914(0x524)]){case _0x181276[_0x1d4914(0x5d0)]:await this['handleFileWrite'](_0xc80cbf);break;case _0x181276[_0x1d4914(0x3c9)]:await this[_0x1d4914(0x5b7)](_0xc80cbf);break;case _0x181276[_0x1d4914(0x6e8)]:await this['handleObjectMove'](_0xc80cbf);break;case _0x181276['Delete']:await this[_0x1d4914(0x5e1)](_0xc80cbf);break;default:throw new _0x2d2d59(_0x2d2d59[_0x1d4914(0x49c)]['ObjectStoreInvalidSyncMessage'],{'payload':_0xc80cbf});}}async[_0x27a6cf(0x261)](_0x574a30){const _0x3b2ed3=_0x27a6cf;if(this['pendingSyncTransactions'][_0x3b2ed3(0x25a)](_0x574a30)){const _0x2acb5f=this[_0x3b2ed3(0x366)][_0x3b2ed3(0x1d2)](_0x574a30);this[_0x3b2ed3(0x366)][_0x3b2ed3(0x370)](_0x574a30),await this[_0x3b2ed3(0x4ed)](_0x2acb5f);}}async[_0x27a6cf(0x456)](_0x15ef0f){const _0x5b250e=_0x27a6cf;switch(_0x15ef0f[_0x5b250e(0x524)]){case _0x181276[_0x5b250e(0x407)]:return this[_0x5b250e(0x1d9)](_0x15ef0f);case _0x181276[_0x5b250e(0x542)]:return this['handleFileRequestAnswer'](_0x15ef0f);case _0x181276['RequestFileSync']:return this[_0x5b250e(0x2c2)](_0x15ef0f);case _0x181276['RequestFileWrite']:return this[_0x5b250e(0x548)](_0x15ef0f);default:throw new _0x2d2d59(_0x2d2d59[_0x5b250e(0x49c)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x15ef0f});}}async[_0x27a6cf(0x548)](_0x56d831){const _0x520bec=_0x27a6cf;if(!_0x56d831['data']||void 0x0===_0x56d831[_0x520bec(0x395)]||!_0x56d831[_0x520bec(0x368)])return void await this[_0x520bec(0x32a)](_0x56d831);const _0x35b8f2=_0x3e9c98(_0x56d831[_0x520bec(0x6f7)],_0x56d831[_0x520bec(0x4e0)]);this[_0x520bec(0x451)][_0x520bec(0x25a)](_0x35b8f2)||(this[_0x520bec(0x451)][_0x520bec(0x734)](_0x35b8f2,[]),await this[_0x520bec(0x32a)](_0x56d831)),this[_0x520bec(0x30f)](_0x56d831,_0x35b8f2);const _0x5532a5=this[_0x520bec(0x451)][_0x520bec(0x1d2)](_0x35b8f2);if(_0x5532a5[_0x56d831[_0x520bec(0x395)]]=_0x56d831[_0x520bec(0x423)],_0x5532a5[_0x520bec(0x57c)](_0x241770=>_0x241770)['length']<_0x56d831[_0x520bec(0x368)])return;const _0x58347a=_0x34bcdc(_0x5532a5,_0x56d831[_0x520bec(0x4e0)],_0x56d831[_0x520bec(0x2b7)]);await this[_0x520bec(0x5f6)](_0x58347a,_0x56d831[_0x520bec(0x6f7)]),await this[_0x520bec(0x1c8)](_0x56d831),this[_0x520bec(0x451)][_0x520bec(0x370)](_0x35b8f2),_0x20481a[_0x520bec(0x232)](_0x4a6d96[_0x520bec(0x30e)],{'type':'sync','label':this[_0x520bec(0x533)],'nodeId':this[_0x520bec(0x70b)][_0x520bec(0x4cd)](),'nodeType':this['localNode'][_0x520bec(0x2b7)],'clusterId':this['clusterId'],'kind':_0x1176cc['ObjectKind'][_0x520bec(0x47e)],'path':_0x56d831['path'],'fileName':_0x56d831[_0x520bec(0x4e0)],'fileType':_0x56d831['type'],'size':_0x58347a[_0x520bec(0x1e6)]});const _0x270278=this[_0x520bec(0x598)][_0x520bec(0x1d2)](_0x56d831[_0x520bec(0x6f7)])??[];for(const _0x337419 of _0x270278)await this[_0x520bec(0x433)](_0x337419);this[_0x520bec(0x598)][_0x520bec(0x370)](_0x56d831['path']),this[_0x520bec(0x333)]['publish']({'event':_0x1176cc[_0x520bec(0x4dd)][_0x520bec(0x5d0)],'payload':{'file':{'kind':_0x1176cc[_0x520bec(0x465)][_0x520bec(0x47e)],'path':_0x56d831[_0x520bec(0x6f7)],'type':_0x58347a[_0x520bec(0x2b7)],'size':_0x58347a[_0x520bec(0x1e6)],'name':_0x56d831['name'],'pathName':_0x35b8f2}}});}async[_0x27a6cf(0x5b7)](_0x46b259){const _0x57bcbf=_0x27a6cf;await this[_0x57bcbf(0x446)][_0x57bcbf(0x719)](_0x46b259[_0x57bcbf(0x6f7)]);const [_0x40cd41,_0x3548ef]=_0x4e4ec8(_0x46b259['path']);this[_0x57bcbf(0x333)][_0x57bcbf(0x4b0)]({'event':_0x1176cc[_0x57bcbf(0x4dd)][_0x57bcbf(0x3c9)],'payload':{'folder':{'kind':_0x1176cc[_0x57bcbf(0x465)][_0x57bcbf(0x3d7)],'name':_0x3548ef,'path':_0x40cd41,'pathName':_0x46b259['path']}}});}async[_0x27a6cf(0x5e1)](_0x30433c){const _0x27ac9c=_0x27a6cf;if(!this['shouldProcessTransaction'](_0x30433c))return;const _0x2741a5=await this[_0x27ac9c(0x3ba)](_0x30433c[_0x27ac9c(0x6f7)]),[_0xa05ea1,_0x4c11b4]=_0x4e4ec8(_0x30433c[_0x27ac9c(0x6f7)]);this['eventListener']['publish']({'event':_0x2741a5===_0x1176cc[_0x27ac9c(0x465)][_0x27ac9c(0x3d7)]?_0x1176cc[_0x27ac9c(0x4dd)][_0x27ac9c(0x2bb)]:_0x1176cc[_0x27ac9c(0x4dd)][_0x27ac9c(0x476)],'payload':{'name':_0x4c11b4,'path':_0xa05ea1,'pathName':_0x30433c[_0x27ac9c(0x6f7)]}});}async['handleObjectMove'](_0x4019d4){const _0xc8c050=_0x27a6cf;if(!this[_0xc8c050(0x1ea)](_0x4019d4))return this['pendingFilesRename']['set'](_0x4019d4[_0xc8c050(0x600)],this[_0xc8c050(0x52a)][_0xc8c050(0x1d2)](_0x4019d4[_0xc8c050(0x6f7)])??_0x4019d4[_0xc8c050(0x6f7)]),void this['pendingFilesRename'][_0xc8c050(0x370)](_0x4019d4[_0xc8c050(0x6f7)]);this[_0xc8c050(0x52a)][_0xc8c050(0x370)](_0x4019d4[_0xc8c050(0x6f7)]);const _0x156aa9=await this[_0xc8c050(0x446)][_0xc8c050(0x622)](_0x4019d4[_0xc8c050(0x6f7)],_0x4019d4[_0xc8c050(0x600)]),[_0x431029,_0x5a1167]=_0x4e4ec8(_0x4019d4[_0xc8c050(0x6f7)]),[_0x2113a6,_0x527b55]=_0x4e4ec8(_0x4019d4[_0xc8c050(0x600)]);this[_0xc8c050(0x333)][_0xc8c050(0x4b0)]({'event':_0x156aa9===_0x1176cc[_0xc8c050(0x465)]['Folder']?_0x1176cc['StorageEventType']['FolderMove']:_0x1176cc['StorageEventType'][_0xc8c050(0x450)],'payload':{'name':_0x527b55,'path':_0x2113a6,'pathName':_0x4019d4[_0xc8c050(0x600)],'oldName':_0x5a1167,'oldPath':_0x431029,'oldPathName':_0x4019d4[_0xc8c050(0x6f7)]}});}[_0x27a6cf(0x1ea)](_0x25bce2){const _0x498d47=_0x27a6cf,_0x589274=this['pendingFilesRename'][_0x498d47(0x1d2)](_0x25bce2['path'])??_0x25bce2[_0x498d47(0x6f7)];let _0x11b793=!0x1;for(const _0x553611 of this[_0x498d47(0x451)][_0x498d47(0x47f)]())if(_0x553611[_0x498d47(0x529)](_0x589274)){const _0x4e3330=this[_0x498d47(0x598)][_0x498d47(0x1d2)](_0x553611)??[];_0x4e3330[_0x498d47(0x647)](_0x25bce2),this[_0x498d47(0x598)][_0x498d47(0x734)](_0x553611,_0x4e3330),_0x11b793=!0x0;}return!_0x11b793;}async[_0x27a6cf(0x363)](_0x4f2543){const _0x10159a=_0x27a6cf;if(!_0x4f2543['id'])throw new _0x2d2d59(_0x2d2d59[_0x10159a(0x49c)][_0x10159a(0x230)],{'message':_0x10159a(0x193)});await this['transactionService'][_0x10159a(0x1be)](_0x4f2543,this[_0x10159a(0x533)],this[_0x10159a(0x19e)]),await this[_0x10159a(0x44a)](_0x4f2543['id']);}async['updateLastTransactionId'](_0x1e7d0b){const _0x35be47=_0x27a6cf;this['lastTransactionId']=_0x1e7d0b;const _0x5a4f19=new File([new Blob([this[_0x35be47(0x19e)]])],_0x56474c,{'type':'text/plain'});await this[_0x35be47(0x5f6)](_0x5a4f19,'/');}async['handleFileRequest'](_0x4a8a56){const _0x503341=_0x27a6cf;try{const _0x1f8f93=await this['get'](_0x4a8a56[_0x503341(0x6f7)]+'/'+_0x4a8a56[_0x503341(0x4e0)]);if(await _0x51d28a(_0x1f8f93)!==_0x4a8a56[_0x503341(0x1f2)])return;_0x4a8a56[_0x503341(0x32f)]=this[_0x503341(0x70b)][_0x503341(0x4cd)](),_0x4a8a56['action']=_0x181276[_0x503341(0x542)],await this[_0x503341(0x3df)](_0x4a8a56,[_0x4a8a56[_0x503341(0x552)]]);}catch(_0x5056f3){}}async['handleFileRequestAnswer'](_0x26ed3c){const _0x3d3fba=_0x27a6cf,_0x32a3da=_0x3e9c98(_0x26ed3c['path'],_0x26ed3c[_0x3d3fba(0x4e0)]);if(!this['objectRequests'][_0x3d3fba(0x25a)](_0x32a3da))return;const _0x507e9b=this['objectRequests'][_0x3d3fba(0x1d2)](_0x32a3da);_0x507e9b[_0x3d3fba(0x524)]=_0x181276[_0x3d3fba(0x441)];const _0x5d3583=_0x26ed3c[_0x3d3fba(0x32f)];if(!_0x5d3583)throw new _0x2d2d59(_0x2d2d59[_0x3d3fba(0x49c)][_0x3d3fba(0x230)],{'message':_0x3d3fba(0x345)});this[_0x3d3fba(0x72c)][_0x3d3fba(0x370)](_0x32a3da),this[_0x3d3fba(0x3eb)][_0x3d3fba(0x25a)](_0x5d3583)||this[_0x3d3fba(0x3eb)][_0x3d3fba(0x734)](_0x5d3583,new Map()),this['pendingFilesSyncing'][_0x3d3fba(0x1d2)](_0x5d3583)[_0x3d3fba(0x734)](_0x32a3da,[_0x507e9b,this[_0x3d3fba(0x685)](_0x5d3583,_0x32a3da)]),_0x507e9b[_0x3d3fba(0x32f)]=_0x5d3583,this[_0x3d3fba(0x3df)](_0x507e9b,[_0x5d3583]);}async[_0x27a6cf(0x2c2)](_0x31510f){const _0x1bee73=_0x27a6cf,_0x207b86=_0x3e9c98(_0x31510f[_0x1bee73(0x6f7)],_0x31510f[_0x1bee73(0x4e0)]),_0x581cf4=await this[_0x1bee73(0x1d2)](_0x207b86),_0x47e086={..._0x31510f,'answererId':this[_0x1bee73(0x70b)][_0x1bee73(0x4cd)](),'action':_0x181276[_0x1bee73(0x2cb)]};await this['sendFile'](_0x581cf4,_0x47e086,[_0x31510f[_0x1bee73(0x552)]]);}async[_0x27a6cf(0x5a1)](_0x5e0f28,_0x5bbd1f,_0x5f57a3){const _0x5f53bb=_0x27a6cf,_0x2cfe69=await _0x3583b3(_0x5e0f28);for(const [_0x8ea1f8,_0x2de17a]of _0x2cfe69[_0x5f53bb(0x594)]()){const _0x4701d3={..._0x5bbd1f,'type':_0x5e0f28['type'],'data':_0x2de17a,'index':_0x8ea1f8,'total':_0x2cfe69[_0x5f53bb(0x1d0)]};this[_0x5f53bb(0x3df)](_0x4701d3,_0x5f57a3);}}async['deletePendingFile'](_0x5563f0){const _0x47d6b8=_0x27a6cf;try{const _0x12958e=_0x3e9c98(_0x5563f0[_0x47d6b8(0x6f7)],_0x5563f0[_0x47d6b8(0x4e0)]),_0x24ca54=_0x12958e+_0x4c6e51;await this[_0x47d6b8(0x3ba)](_0x24ca54);const [,_0xc2764b]=this[_0x47d6b8(0x3eb)][_0x47d6b8(0x1d2)](_0x5563f0[_0x47d6b8(0x32f)])?.[_0x47d6b8(0x1d2)](_0x12958e)??[];_0xc2764b&&(clearTimeout(_0xc2764b),this[_0x47d6b8(0x3eb)][_0x47d6b8(0x1d2)](_0x5563f0[_0x47d6b8(0x32f)])[_0x47d6b8(0x370)](_0x12958e));}catch(_0x358a52){}}async[_0x27a6cf(0x401)](){const _0x45a41e=_0x27a6cf,_0x1760da=await this[_0x45a41e(0x67b)][_0x45a41e(0x733)](this['label'],this[_0x45a41e(0x19e)]);for(const _0x2b074f of _0x1760da)await this[_0x45a41e(0x4ed)](_0x2b074f);}async['syncPendingFiles'](){const _0x5e9fe9=await this['list']('/',!0x0,!0x0),_0x243685=async _0x1d60c1=>{const _0x411ede=a0_0x4e89;for(const _0x92d9a1 of _0x1d60c1){if(_0x92d9a1[_0x411ede(0x4e4)]===_0x1176cc[_0x411ede(0x465)][_0x411ede(0x3d7)]){_0x92d9a1['entries']&&_0x92d9a1[_0x411ede(0x594)][_0x411ede(0x1d0)]>0x0&&await _0x243685(_0x92d9a1[_0x411ede(0x594)]);continue;}if(!_0x92d9a1[_0x411ede(0x4e0)][_0x411ede(0x1e7)](_0x4c6e51))continue;const _0x16fa09=await this[_0x411ede(0x1d2)](_0x92d9a1['pathName']),_0x7f8523=await _0x16fa09[_0x411ede(0x3be)](),_0x33ba7b=_0x92d9a1[_0x411ede(0x4e0)]['replace'](_0x4c6e51,''),_0x5b20ef={'payloadType':_0x2e1348[_0x411ede(0x6e5)],'action':_0x181276[_0x411ede(0x407)],'sourceId':this[_0x411ede(0x70b)][_0x411ede(0x4cd)](),'type':'','path':_0x92d9a1[_0x411ede(0x6f7)],'name':_0x33ba7b,'checksum':_0x7f8523},_0x24db1d=_0x3e9c98(_0x92d9a1[_0x411ede(0x6f7)],_0x33ba7b);this[_0x411ede(0x72c)][_0x411ede(0x734)](_0x24db1d,_0x5b20ef);}};await _0x243685(_0x5e9fe9);}async[_0x27a6cf(0x32a)](_0x1c8177){const _0x2af200=_0x27a6cf,_0x339f61=new File([new Blob([_0x1c8177[_0x2af200(0x1f2)]])],''+_0x1c8177['name']+_0x4c6e51,{'type':_0x2af200(0x3f4)});await this['writeFile'](_0x339f61,_0x1c8177[_0x2af200(0x6f7)]);}[_0x27a6cf(0x685)](_0x13dd3e,_0x3ef629){const _0x772fce=_0x27a6cf,[_0x12db14,_0x579aa7]=this[_0x772fce(0x3eb)][_0x772fce(0x1d2)](_0x13dd3e)?.[_0x772fce(0x1d2)](_0x3ef629)??[];return _0x579aa7&&clearTimeout(_0x579aa7),setTimeout(()=>{const _0x478839=_0x772fce,[_0x134ec2,_0x3af6b3]=this[_0x478839(0x3eb)][_0x478839(0x1d2)](_0x13dd3e)['get'](_0x3ef629);this[_0x478839(0x4db)](_0x134ec2,_0x3af6b3);},0xea60);}async[_0x27a6cf(0x4db)](_0x47b262,_0x9cba96){const _0x9db4a1=_0x27a6cf;clearTimeout(_0x9cba96),_0x47b262[_0x9db4a1(0x524)]=_0x181276['RequestFile'],this[_0x9db4a1(0x72c)][_0x9db4a1(0x734)](_0x3e9c98(_0x47b262['path'],_0x47b262['name']),_0x47b262),this[_0x9db4a1(0x3df)](_0x47b262);}[_0x27a6cf(0x30f)](_0x5992c7,_0x31c4af){const _0x1d1230=_0x27a6cf;this[_0x1d1230(0x3eb)]['has'](_0x5992c7[_0x1d1230(0x32f)])||this['pendingFilesSyncing'][_0x1d1230(0x734)](_0x5992c7[_0x1d1230(0x32f)],new Map());const [_0x40485f]=this[_0x1d1230(0x3eb)]['get'](_0x5992c7[_0x1d1230(0x32f)])['get'](_0x31c4af)??[{'payloadType':_0x2e1348[_0x1d1230(0x6e5)],'action':_0x181276[_0x1d1230(0x407)],'sourceId':this[_0x1d1230(0x70b)]['getId'](),'type':_0x5992c7[_0x1d1230(0x2b7)],'name':_0x5992c7[_0x1d1230(0x4e0)],'path':_0x5992c7[_0x1d1230(0x6f7)],'checksum':_0x5992c7[_0x1d1230(0x1f2)],'answererId':_0x5992c7['answererId']}];this[_0x1d1230(0x3eb)][_0x1d1230(0x1d2)](_0x5992c7[_0x1d1230(0x32f)])[_0x1d1230(0x734)](_0x31c4af,[_0x40485f,this[_0x1d1230(0x685)](_0x5992c7[_0x1d1230(0x32f)],_0x31c4af)]);}async[_0x27a6cf(0x5f6)](_0x4006f3,_0x5cbdcc){await this['objectStoreConnector']['writeFile'](_0x4006f3,_0x5cbdcc);}async[_0x27a6cf(0x3ba)](_0x1759cd){const _0x2e1031=_0x27a6cf;try{return await this['objectStoreConnector'][_0x2e1031(0x3ba)](_0x1759cd);}catch(_0x29c150){return await this['objectStoreConnector'][_0x2e1031(0x3ba)](_0x1759cd+_0x4c6e51);}}async[_0x27a6cf(0x622)](_0x5bb298,_0x51f18b){const _0x39638b=_0x27a6cf;try{return await this[_0x39638b(0x446)][_0x39638b(0x622)](_0x5bb298,_0x51f18b);}catch(_0x4fa432){return await this['objectStoreConnector'][_0x39638b(0x622)](_0x5bb298+_0x4c6e51,_0x51f18b+_0x4c6e51);}}[_0x27a6cf(0x39c)](){const _0x516762=_0x27a6cf;this[_0x516762(0x3f6)]&&clearTimeout(this['debounceStats']),this[_0x516762(0x3f6)]=setTimeout(async()=>{const _0x3324e5=_0x516762;delete this[_0x3324e5(0x3f6)];const _0xd8c3bc=await this[_0x3324e5(0x446)][_0x3324e5(0x283)]('/');this[_0x3324e5(0x1d6)]?.[_0x3324e5(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x3324e5(0x260)],'content':{'type':_0x22acf3['ObjectStoreStats'],'label':this[_0x3324e5(0x533)],'stats':{'timestamp':Date[_0x3324e5(0x534)](),'storage':_0xd8c3bc,'messagesSent':this[_0x3324e5(0x50b)],'messagesReceived':this[_0x3324e5(0x1a5)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0x3324e5(0x68a)]}}}),_0x20481a[_0x3324e5(0x50e)](_0x4a6d96[_0x3324e5(0x30e)],_0x3324e5(0x449)+this[_0x3324e5(0x698)]+_0x3324e5(0x449)+this['label'],_0xd8c3bc);},0x1388);}}class _0x1ff496 extends _0x1017ba{[_0x27a6cf(0x571)];constructor(_0x428a5e,_0x8c636,_0x1e5a57){super(_0x428a5e,_0x8c636),this['mediaStream']=_0x1e5a57;}[_0x27a6cf(0x2e0)](){const _0x3fe4fb=_0x27a6cf;return _0x1176cc[_0x3fe4fb(0x6d9)]['Media'];}[_0x27a6cf(0x4ca)](){const _0x24edb4=_0x27a6cf;return this[_0x24edb4(0x571)];}[_0x27a6cf(0x274)](){const _0x495f23=_0x27a6cf;return this[_0x495f23(0x571)]['id'];}}class _0x5b43a4 extends _0x1ff496{['remoteId'];[_0x27a6cf(0x3c7)];[_0x27a6cf(0x5c7)];[_0x27a6cf(0x579)]=_0xc40b89();constructor(_0x50b407,_0x10a0c2,_0x10bef4,_0x1623f6,_0x4d9619){const _0x13183e=_0x27a6cf;super(_0x50b407,_0x10a0c2,_0x10bef4),this[_0x13183e(0x5fc)]=_0x1623f6,this[_0x13183e(0x3c7)]=_0x4d9619;}['destroy'](){const _0x51bb99=_0x27a6cf;this['removeTrack'](_0x51bb99(0x284)),this[_0x51bb99(0x2f1)]('video'),super[_0x51bb99(0x1dd)]();}['addTrack'](_0x2c37ea){const _0xe87710=_0x27a6cf;if(!this[_0xe87710(0x5c7)])throw new _0x2d2d59(_0x2d2d59[_0xe87710(0x49c)][_0xe87710(0x3f8)],{'label':this[_0xe87710(0x533)],'ownerId':this[_0xe87710(0x472)][_0xe87710(0x4cd)](),'remoteId':this[_0xe87710(0x5fc)]});this[_0xe87710(0x5c7)][_0xe87710(0x4b0)]({'sourceId':this[_0xe87710(0x472)][_0xe87710(0x4cd)](),'content':{'action':_0x4407d4['Add'],'track':_0x2c37ea,'stream':this[_0xe87710(0x571)],'priority':_0x1176cc['MediaStreamPriority'][_0xe87710(0x41f)],'params':this[_0xe87710(0x280)](_0x2c37ea['kind'],this[_0xe87710(0x3c7)])}});}[_0x27a6cf(0x2f1)](_0x250a52){const _0x4e44bc=_0x27a6cf,_0x3f99ac=this[_0x4e44bc(0x1c0)](_0x250a52);if(_0x3f99ac){if(!this[_0x4e44bc(0x5c7)])return null;this['topic'][_0x4e44bc(0x4b0)]({'sourceId':this[_0x4e44bc(0x472)][_0x4e44bc(0x4cd)](),'content':{'action':_0x4407d4['Remove'],'track':_0x3f99ac,'stream':this[_0x4e44bc(0x571)]}});}return _0x3f99ac;}[_0x27a6cf(0x1e9)](_0x20faf5){const _0x19a65c=_0x27a6cf;if(!this[_0x19a65c(0x5c7)])throw new _0x2d2d59(_0x2d2d59['codes'][_0x19a65c(0x3f8)],{'label':this[_0x19a65c(0x533)],'ownerId':this['owner']['getId'](),'remoteId':this[_0x19a65c(0x5fc)]});this['topic'][_0x19a65c(0x4b0)]({'sourceId':this[_0x19a65c(0x472)][_0x19a65c(0x4cd)](),'content':{'action':_0x4407d4[_0x19a65c(0x393)],'priority':_0x20faf5,'stream':this[_0x19a65c(0x571)]}});}[_0x27a6cf(0x290)]({trackKinds:_0xb878d0,params:_0x3cc866},_0x438c71){const _0x21b480=_0x27a6cf;if(!this[_0x21b480(0x5c7)])throw new _0x2d2d59(_0x2d2d59[_0x21b480(0x49c)][_0x21b480(0x3f8)],{'label':this[_0x21b480(0x533)],'ownerId':this[_0x21b480(0x472)]['getId'](),'remoteId':this[_0x21b480(0x5fc)]});for(const _0x24908a of this['mediaStream'][_0x21b480(0x467)]())_0xb878d0[_0x21b480(0x607)](_0x24908a[_0x21b480(0x4e4)])&&this[_0x21b480(0x5c7)][_0x21b480(0x4b0)]({'sourceId':this['owner'][_0x21b480(0x4cd)](),'content':{'action':_0x4407d4[_0x21b480(0x6d0)],'track':_0x24908a,'stream':this[_0x21b480(0x571)],'priority':_0x438c71,'params':this[_0x21b480(0x280)](_0x24908a[_0x21b480(0x4e4)],_0x3cc866)}});}[_0x27a6cf(0x53e)]({params:_0x32a67e}){const _0x374f7d=_0x27a6cf;if(!this['topic'])throw new _0x2d2d59(_0x2d2d59[_0x374f7d(0x49c)][_0x374f7d(0x3f8)],{'label':this['label'],'ownerId':this[_0x374f7d(0x472)]['getId'](),'remoteId':this[_0x374f7d(0x5fc)]});for(const _0x3703d1 of this[_0x374f7d(0x571)][_0x374f7d(0x467)]())this[_0x374f7d(0x5c7)][_0x374f7d(0x4b0)]({'sourceId':this[_0x374f7d(0x472)][_0x374f7d(0x4cd)](),'content':{'action':_0x4407d4[_0x374f7d(0x393)],'stream':this[_0x374f7d(0x571)],'params':this[_0x374f7d(0x280)](_0x3703d1[_0x374f7d(0x4e4)],_0x32a67e)}});}[_0x27a6cf(0x1b7)]({trackKinds:_0x13d791}){const _0x45457a=_0x27a6cf;if(this[_0x45457a(0x5c7)]){for(const _0x4effc7 of this[_0x45457a(0x571)]['getTracks']())_0x13d791['includes'](_0x4effc7[_0x45457a(0x4e4)])&&this[_0x45457a(0x5c7)][_0x45457a(0x4b0)]({'sourceId':this[_0x45457a(0x472)][_0x45457a(0x4cd)](),'content':{'action':_0x4407d4[_0x45457a(0x5a6)],'stream':this[_0x45457a(0x571)],'track':_0x4effc7}});}}['registerPublisher'](_0x43a5ea){const _0x1a6b2e=_0x27a6cf;this[_0x1a6b2e(0x5c7)]=_0x43a5ea;}[_0x27a6cf(0x3cb)](_0x229354){const _0x3b1a05=_0x27a6cf;_0x229354===this[_0x3b1a05(0x5c7)]&&(delete this[_0x3b1a05(0x5c7)],this[_0x3b1a05(0x579)]['publish']());}[_0x27a6cf(0x413)](_0x1ce835){const _0x40267b=_0x27a6cf;return this[_0x40267b(0x579)][_0x40267b(0x290)](_0x1ce835);}[_0x27a6cf(0x1c0)](_0x1ddb57){const _0x438185=_0x27a6cf;return this['mediaStream'][_0x438185(0x467)]()[_0x438185(0x613)](_0x34cceb=>_0x34cceb[_0x438185(0x4e4)]===_0x1ddb57)||null;}[_0x27a6cf(0x280)](_0xe1abce,_0xcf303d){const _0x3d5975=_0x27a6cf;let _0x8e7e20;return _0x3d5975(0x3f0)===_0xe1abce&&_0xcf303d?.[_0x3d5975(0x3f0)]&&_0x3d5975(0x693)!=typeof _0xcf303d[_0x3d5975(0x3f0)]&&(_0x8e7e20={'kind':_0x3d5975(0x3f0),..._0xcf303d['video']},_0x8e7e20[_0x3d5975(0x28a)]=this[_0x3d5975(0x506)]()),'audio'===_0xe1abce&&_0xcf303d?.['audio']&&_0x3d5975(0x693)!=typeof _0xcf303d[_0x3d5975(0x284)]&&(_0x8e7e20={'kind':_0x3d5975(0x284),..._0xcf303d[_0x3d5975(0x284)]}),_0x8e7e20;}[_0x27a6cf(0x506)](){const _0x222146=_0x27a6cf;let _0x190f6d={'width':0x0,'height':0x0};const _0x3a8f1f=this[_0x222146(0x571)]['getVideoTracks']();if(_0x3a8f1f[_0x222146(0x1d0)]>0x0){const _0x1a6147=_0x3a8f1f[0x0][_0x222146(0x3c2)]();_0x1a6147['width']&&_0x1a6147[_0x222146(0x731)]&&(_0x190f6d={'width':_0x1a6147[_0x222146(0x2ee)],'height':_0x1a6147['height']});}return _0x190f6d;}}class _0x577742 extends _0x1ff496{[_0x27a6cf(0x698)];['priority']=_0x1176cc[_0x27a6cf(0x631)][_0x27a6cf(0x41f)];[_0x27a6cf(0x28e)]=new Map();[_0x27a6cf(0x3ed)]=new Map();constructor(_0x21685b,_0xbd2394,_0x3b9cf1,_0x4e108d){const _0x5875a7=_0x27a6cf;super(_0x21685b,_0xbd2394,_0x3b9cf1 instanceof MediaStream?_0x3b9cf1:_0x3b9cf1[_0x5875a7(0x445)]?_0x3b9cf1[_0x5875a7(0x445)]:_0x3b9cf1[_0x5875a7(0x526)]()),this[_0x5875a7(0x698)]=_0x4e108d,this[_0x5875a7(0x571)][_0x5875a7(0x467)]()['forEach'](_0x4ddf77=>this[_0x5875a7(0x194)](_0x4ddf77)),_0x20481a[_0x5875a7(0x232)](_0x4a6d96['MediaStream'],{'type':_0x5875a7(0x4b0),'label':this[_0x5875a7(0x533)],'nodeId':this[_0x5875a7(0x472)][_0x5875a7(0x4cd)](),'nodeType':this[_0x5875a7(0x472)]['type'],'clusterId':this[_0x5875a7(0x698)],'streamId':this['getInternalStreamId'](),'trackKinds':this[_0x5875a7(0x571)][_0x5875a7(0x467)]()['map'](_0xc659ed=>_0xc659ed[_0x5875a7(0x4e4)])});}['destroy'](){const _0xd7d154=_0x27a6cf;this[_0xd7d154(0x3ed)]['size']>0x0&&(this['outgoingStreams'][_0xd7d154(0x469)](_0x3a7601=>{const _0x2e666f=_0xd7d154;_0x3a7601[_0x2e666f(0x5b0)](),_0x3a7601[_0x2e666f(0x1dd)]();}),this['outgoingStreams']['clear']()),this['trackEndedListeners']['forEach'](_0x2d81f8=>_0x2d81f8()),super['destroy']();}[_0x27a6cf(0x4b0)](_0x551cd1){const _0x394527=_0x27a6cf;this[_0x394527(0x1d6)][_0x394527(0x4b0)]({'sourceId':this['owner']['getId'](),'destinationIds':_0x551cd1?[_0x551cd1]:void 0x0,'propagate':!0x0,'messageType':_0x3421b2[_0x394527(0x260)],'content':{'type':_0x22acf3[_0x394527(0x5dd)],'ownerId':this[_0x394527(0x472)]['getId'](),'label':this['label'],'stream':{'streamId':this[_0x394527(0x274)](),'availableTrackKinds':this[_0x394527(0x571)][_0x394527(0x467)]()[_0x394527(0x5d9)](_0x10269e=>_0x10269e[_0x394527(0x4e4)])}}});}[_0x27a6cf(0x2ca)](){const _0x48c2bc=_0x27a6cf;this[_0x48c2bc(0x1d6)]['publish']({'sourceId':this[_0x48c2bc(0x472)][_0x48c2bc(0x4cd)](),'propagate':!0x0,'messageType':_0x3421b2['Content'],'content':{'type':_0x22acf3['UnpublishMediaStream'],'ownerId':this[_0x48c2bc(0x472)][_0x48c2bc(0x4cd)](),'label':this[_0x48c2bc(0x533)]}}),this[_0x48c2bc(0x1d6)][_0x48c2bc(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2['Content'],'content':{'type':_0x22acf3[_0x48c2bc(0x65e)],'label':this['label']}}),_0x20481a[_0x48c2bc(0x232)](_0x4a6d96[_0x48c2bc(0x2b1)],{'type':_0x48c2bc(0x2ca),'label':this[_0x48c2bc(0x533)],'nodeId':this['owner'][_0x48c2bc(0x4cd)](),'nodeType':this[_0x48c2bc(0x472)][_0x48c2bc(0x2b7)],'clusterId':this['clusterId'],'streamId':this['getInternalStreamId']()});}[_0x27a6cf(0x5ec)](){const _0x1742c3=_0x27a6cf;return this[_0x1742c3(0x2fe)];}['setPriority'](_0x6e68f6){const _0x27845c=_0x27a6cf;this[_0x27845c(0x2fe)]=_0x6e68f6,this[_0x27845c(0x3ed)]['forEach'](_0x38d511=>_0x38d511[_0x27845c(0x1e9)](_0x6e68f6));}[_0x27a6cf(0x624)](_0x121a91,_0x53497d){const _0x20dd19=_0x27a6cf;if(!this[_0x20dd19(0x3ed)][_0x20dd19(0x25a)](_0x121a91)){const _0x1f4ca8=new _0x5b43a4(this[_0x20dd19(0x472)],this['label'],this['mediaStream'],_0x121a91,_0x53497d),_0x502c76=_0x1f4ca8[_0x20dd19(0x413)](()=>{const _0x188578=_0x20dd19;_0x502c76(),this[_0x188578(0x3ed)][_0x188578(0x1d2)](_0x121a91)?.[_0x188578(0x1dd)](),this['outgoingStreams']['delete'](_0x121a91);});this[_0x20dd19(0x3ed)]['set'](_0x121a91,_0x1f4ca8),_0x1f4ca8[_0x20dd19(0x6c0)](this[_0x20dd19(0x1d6)]);}return this[_0x20dd19(0x3ed)]['get'](_0x121a91);}[_0x27a6cf(0x499)](){return this['mediaStream']['id'];}[_0x27a6cf(0x27b)](_0x26359d){const _0x55c774=_0x27a6cf;this['systemTopic'][_0x55c774(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x55c774(0x260)],'content':{'type':_0x22acf3[_0x55c774(0x226)],'label':this[_0x55c774(0x533)],'trackKinds':[_0x26359d[_0x55c774(0x4e4)]]}});}[_0x27a6cf(0x194)](_0x5d9b8f){const _0x4eed69=_0x27a6cf,_0x182dc5=()=>this[_0x4eed69(0x27b)](_0x5d9b8f);_0x5d9b8f[_0x4eed69(0x1cf)]('ended',_0x182dc5),_0x5d9b8f[_0x4eed69(0x1cf)](_0x4eed69(0x747),_0x182dc5),this[_0x4eed69(0x28e)]['set'](_0x5d9b8f[_0x4eed69(0x4e4)],()=>{const _0x2b0ee8=_0x4eed69;_0x5d9b8f['removeEventListener']('ended',_0x182dc5),_0x5d9b8f['removeEventListener'](_0x2b0ee8(0x747),_0x182dc5),this[_0x2b0ee8(0x28e)][_0x2b0ee8(0x370)](_0x5d9b8f['kind']);});}}class _0x503f36 extends _0x577742{[_0x27a6cf(0x270)];[_0x27a6cf(0x297)]=[];[_0x27a6cf(0x321)];[_0x27a6cf(0x645)];[_0x27a6cf(0x505)];[_0x27a6cf(0x686)];['canvas'];['context'];[_0x27a6cf(0x4ad)];constructor(_0x21c0a8,_0x3f4ef0,_0x6c5a53,_0x4ac6c3,_0x97c674,_0x236adb){const _0x33c1b8=_0x27a6cf;if(super(_0x21c0a8,_0x3f4ef0,_0x6c5a53,_0x236adb),this[_0x33c1b8(0x270)]=_0x97c674,this['clientStream']=this[_0x33c1b8(0x571)],this[_0x33c1b8(0x686)]=document[_0x33c1b8(0x65f)](_0x33c1b8(0x3f0)),this[_0x33c1b8(0x686)][_0x33c1b8(0x1e2)]=!0x0,this[_0x33c1b8(0x686)]['muted']=!0x0,this['sourceVideo']['srcObject']=this[_0x33c1b8(0x321)],this[_0x33c1b8(0x686)]['load'](),this[_0x33c1b8(0x686)][_0x33c1b8(0x211)]=()=>{const _0x10fb88=_0x33c1b8;this[_0x10fb88(0x686)]['play']();},this[_0x33c1b8(0x730)]=document[_0x33c1b8(0x65f)](_0x33c1b8(0x730)),this[_0x33c1b8(0x695)]=this[_0x33c1b8(0x730)]['getContext']('2d'),this[_0x33c1b8(0x571)]=this[_0x33c1b8(0x730)][_0x33c1b8(0x526)](_0x4ac6c3),this[_0x33c1b8(0x505)]=this[_0x33c1b8(0x270)][_0x33c1b8(0x583)](),this[_0x33c1b8(0x321)][_0x33c1b8(0x6f6)]()[_0x33c1b8(0x1d0)]>0x0){const _0x11efc2=this['clientStream'][_0x33c1b8(0x6f6)]()[0x0];this['audioSource']=this[_0x33c1b8(0x270)][_0x33c1b8(0x19b)](new MediaStream([_0x11efc2])),this[_0x33c1b8(0x645)][_0x33c1b8(0x3b7)](this[_0x33c1b8(0x505)]);}const _0x593ab5=this[_0x33c1b8(0x505)]['stream'][_0x33c1b8(0x467)]()[0x0];this[_0x33c1b8(0x571)][_0x33c1b8(0x32d)](_0x593ab5),this['interval']=setInterval(()=>{const _0x4dd69c=_0x33c1b8;this['canvas'][_0x4dd69c(0x2ee)]=this[_0x4dd69c(0x686)][_0x4dd69c(0x6b8)],this[_0x4dd69c(0x730)]['height']=this[_0x4dd69c(0x686)][_0x4dd69c(0x46f)],this[_0x4dd69c(0x686)]['videoWidth']?(0x0!==this['clientStream']['getVideoTracks']()[_0x4dd69c(0x1d0)]&&this['clientStream'][_0x4dd69c(0x1d4)]()[0x0][_0x4dd69c(0x1e1)]?this[_0x4dd69c(0x571)]['getVideoTracks']()[0x0][_0x4dd69c(0x1e1)]=!0x0:this[_0x4dd69c(0x571)][_0x4dd69c(0x1d4)]()[0x0]['enabled']=!0x1,0x0!==this[_0x4dd69c(0x321)][_0x4dd69c(0x6f6)]()[_0x4dd69c(0x1d0)]&&this['clientStream']['getAudioTracks']()[0x0][_0x4dd69c(0x1e1)]?this[_0x4dd69c(0x571)][_0x4dd69c(0x6f6)]()[0x0][_0x4dd69c(0x1e1)]=!0x0:this['mediaStream'][_0x4dd69c(0x6f6)]()[0x0][_0x4dd69c(0x1e1)]=!0x1,this[_0x4dd69c(0x695)]['drawImage'](this[_0x4dd69c(0x686)],0x0,0x0)):this[_0x4dd69c(0x695)][_0x4dd69c(0x470)](0x0,0x0,this[_0x4dd69c(0x730)]['width'],this['canvas']['height']);},0x3e8/_0x4ac6c3);}[_0x27a6cf(0x1dd)](){const _0x145e0a=_0x27a6cf;clearInterval(this['interval']),this[_0x145e0a(0x686)][_0x145e0a(0x550)](),this[_0x145e0a(0x730)][_0x145e0a(0x550)](),this[_0x145e0a(0x645)]?.[_0x145e0a(0x383)](),this[_0x145e0a(0x505)][_0x145e0a(0x383)](),this['mediaStream']['getTracks']()[_0x145e0a(0x469)](_0x28e356=>{const _0x210f0a=_0x145e0a;_0x28e356[_0x210f0a(0x43d)](),this[_0x210f0a(0x571)][_0x210f0a(0x2f1)](_0x28e356);}),super[_0x145e0a(0x1dd)]();}['addTrack'](_0x214aad){const _0x1da30e=_0x27a6cf,_0x13b6cd=this[_0x1da30e(0x1c0)](_0x214aad[_0x1da30e(0x4e4)]);_0x13b6cd&&this[_0x1da30e(0x2f1)](_0x13b6cd),_0x1da30e(0x284)!==_0x214aad[_0x1da30e(0x4e4)]?(_0x1da30e(0x3f0)===_0x214aad['kind']&&this[_0x1da30e(0x5ba)](_0x214aad),this[_0x1da30e(0x194)](_0x214aad)):this[_0x1da30e(0x4c8)](_0x214aad);}[_0x27a6cf(0x2f1)](_0x779683){const _0x400bd6=_0x27a6cf,_0x4f9a99=this[_0x400bd6(0x48d)](_0x779683);return _0x4f9a99&&('audio'===_0x4f9a99[_0x400bd6(0x4e4)]&&(this['audioSource']?.[_0x400bd6(0x383)](),this[_0x400bd6(0x645)]=void 0x0),this[_0x400bd6(0x28e)][_0x400bd6(0x1d2)](_0x4f9a99[_0x400bd6(0x4e4)])?.(),this['clientStream'][_0x400bd6(0x2f1)](_0x4f9a99)),_0x4f9a99;}[_0x27a6cf(0x6a4)](_0x474043){const _0x41ba20=_0x27a6cf;this[_0x41ba20(0x2f1)](_0x474043[_0x41ba20(0x4e4)]),this[_0x41ba20(0x32d)](_0x474043);}[_0x27a6cf(0x4ba)](_0x4be982){const _0x44fc54=_0x27a6cf;this[_0x44fc54(0x297)]=_0x4be982;}['getTrack'](_0x404e44){const _0x4664b3=_0x27a6cf;return this[_0x4664b3(0x321)][_0x4664b3(0x467)]()[_0x4664b3(0x613)](_0x438a5f=>_0x438a5f[_0x4664b3(0x4e4)]===_0x404e44)||null;}['getTrackFromParam'](_0x11d92c){return'string'==typeof _0x11d92c?this['getTrack'](_0x11d92c):_0x11d92c;}['addAudioTrack'](_0x4073f4){const _0x28398e=_0x27a6cf;_0x28398e(0x6ac)===this['audioContext']['state']&&this[_0x28398e(0x270)][_0x28398e(0x3c1)](),this['clientStream'][_0x28398e(0x32d)](_0x4073f4),this[_0x28398e(0x645)]=this[_0x28398e(0x270)]['createMediaStreamSource'](this['clientStream']),this['audioSource'][_0x28398e(0x3b7)](this[_0x28398e(0x505)]);}[_0x27a6cf(0x5ba)](_0x1c8d97){const _0x582691=_0x27a6cf;this[_0x582691(0x321)][_0x582691(0x32d)](_0x1c8d97),this[_0x582691(0x686)][_0x582691(0x5ed)]();}}class _0x8177c5 extends _0x577742{}class _0x406a55 extends _0x33503b{['localNode'];[_0x27a6cf(0x698)];[_0x27a6cf(0x4f9)]=new Map();[_0x27a6cf(0x3f6)];constructor(_0x420699,_0x21bd3c,_0x59687c){const _0x18cac1=_0x27a6cf;if('string'!=typeof _0x21bd3c)throw new _0x478f0b(_0x3792fa[_0x18cac1(0x3e3)],_0x18cac1(0x582));super(_0x420699,_0x21bd3c),this[_0x18cac1(0x70b)]=_0x420699,this[_0x18cac1(0x698)]=_0x59687c,this[_0x18cac1(0x39c)]();}[_0x27a6cf(0x24a)](){this['sendStats']();}[_0x27a6cf(0x2e0)](){const _0x389ebd=_0x27a6cf;return _0x1176cc[_0x389ebd(0x6d9)]['PubSub'];}[_0x27a6cf(0x4b0)](_0x462b13,_0x4ba008){const _0xc676f5=_0x27a6cf;_0x20481a[_0xc676f5(0x517)](_0x5483cd['PubSub'],_0xc676f5(0x5f3),this[_0xc676f5(0x70b)]['getId'](),_0x462b13,_0x4ba008),_0x20481a[_0xc676f5(0x232)](_0x4a6d96['PubSub'],{'type':_0xc676f5(0x4b0),'label':this[_0xc676f5(0x533)],'nodeId':this[_0xc676f5(0x70b)][_0xc676f5(0x4cd)](),'nodeType':this[_0xc676f5(0x70b)][_0xc676f5(0x2b7)],'clusterId':this[_0xc676f5(0x698)],'remoteIds':_0x4ba008??[],'contentType':_0x462b13 instanceof File?_0x1176cc[_0xc676f5(0x6d9)]['File']:_0x1176cc[_0xc676f5(0x6d9)][_0xc676f5(0x1eb)],'size':_0x462b13 instanceof File?_0x462b13[_0xc676f5(0x1e6)]:JSON[_0xc676f5(0x63d)](_0x462b13)['length']}),this['sendStats'](),this[_0xc676f5(0x3df)](_0x462b13,_0x4ba008);}[_0x27a6cf(0x290)](_0x19fa47,_0x42a50d){const _0x3e88d2=_0x27a6cf;if(this['unsubscribeHandler'][_0x3e88d2(0x25a)](_0x19fa47))throw new _0x478f0b(_0x3792fa[_0x3e88d2(0x2e1)],_0x3e88d2(0x6d2));this[_0x3e88d2(0x4f9)][_0x3e88d2(0x734)](_0x19fa47,this[_0x3e88d2(0x3a5)]((_0x14ca53,_0x1bedb2)=>{const _0x42e8a3=_0x3e88d2;'data'===_0x19fa47&&_0x1bedb2 instanceof File||!(_0x42e8a3(0x479)!==_0x19fa47||_0x1bedb2 instanceof File)||(_0x20481a['log'](_0x5483cd[_0x42e8a3(0x6a9)],_0x42e8a3(0x362),this[_0x42e8a3(0x70b)][_0x42e8a3(0x4cd)](),_0x14ca53,_0x1bedb2),_0x20481a[_0x42e8a3(0x232)](_0x4a6d96[_0x42e8a3(0x6a9)],{'type':_0x42e8a3(0x290),'label':this[_0x42e8a3(0x533)],'nodeId':this[_0x42e8a3(0x70b)][_0x42e8a3(0x4cd)](),'nodeType':this[_0x42e8a3(0x70b)][_0x42e8a3(0x2b7)],'clusterId':this[_0x42e8a3(0x698)],'remoteId':_0x14ca53,'contentType':_0x19fa47,'size':_0x1bedb2 instanceof File?_0x1bedb2[_0x42e8a3(0x1e6)]:JSON[_0x42e8a3(0x63d)](_0x1bedb2)['length']}),this[_0x42e8a3(0x39c)](),_0x42a50d(_0x14ca53,_0x1bedb2));}));}[_0x27a6cf(0x1b7)](_0x8e42b9){const _0x36a62f=_0x27a6cf;this['unsubscribeHandler'][_0x36a62f(0x1d2)](_0x8e42b9)?.(),this[_0x36a62f(0x4f9)][_0x36a62f(0x370)](_0x8e42b9);}['destroy'](){const _0x21fc8f=_0x27a6cf;this[_0x21fc8f(0x4f9)][_0x21fc8f(0x469)](_0x428d60=>_0x428d60()),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x21fc8f(0x1dd)]();}[_0x27a6cf(0x33d)](){const _0x787686=_0x27a6cf;this[_0x787686(0x1d6)]?.['publish']({'sourceId':_0x554820,'messageType':_0x3421b2[_0x787686(0x260)],'content':{'type':_0x22acf3[_0x787686(0x1ee)],'label':this[_0x787686(0x533)]}});}[_0x27a6cf(0x39c)](){const _0x2cef00=_0x27a6cf;this[_0x2cef00(0x3f6)]&&clearTimeout(this[_0x2cef00(0x3f6)]),this[_0x2cef00(0x3f6)]=setTimeout(()=>{const _0x23413c=_0x2cef00;this[_0x23413c(0x1d6)]?.[_0x23413c(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2['Content'],'content':{'type':_0x22acf3[_0x23413c(0x216)],'label':this[_0x23413c(0x533)],'stats':{'timestamp':Date[_0x23413c(0x534)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x23413c(0x1a5)],'bytesSent':this[_0x23413c(0x6d6)],'bytesReceived':this[_0x23413c(0x1aa)],'writes':0x0,'reads':0x0}}});},0x1388);}}class _0x256229 extends _0x1ff496{[_0x27a6cf(0x70b)];[_0x27a6cf(0x195)];[_0x27a6cf(0x612)];[_0x27a6cf(0x698)];[_0x27a6cf(0x4f9)];['resizeHandler'];[_0x27a6cf(0x435)];[_0x27a6cf(0x3ed)]=new Map();[_0x27a6cf(0x561)];[_0x27a6cf(0x1d5)]=new Set();[_0x27a6cf(0x22c)];[_0x27a6cf(0x528)]=_0x22f6ab();[_0x27a6cf(0x28e)]=new Map();constructor(_0x359ce2,_0x555c15,_0x5cfa61,_0x1e9096,_0x3cc855,_0x3f9e59){const _0x2a1b83=_0x27a6cf;super(_0x555c15,_0x5cfa61,new MediaStream()),this[_0x2a1b83(0x70b)]=_0x359ce2,this[_0x2a1b83(0x195)]=_0x1e9096,this['availableTrackKinds']=_0x3cc855,this['clusterId']=_0x3f9e59,this[_0x2a1b83(0x571)]['getTracks']()[_0x2a1b83(0x469)](_0x4adca9=>this['setupTrackEndedListeners'](_0x4adca9));}[_0x27a6cf(0x1dd)](){const _0x371120=_0x27a6cf;this['outgoingStreams'][_0x371120(0x1e6)]>0x0&&(this[_0x371120(0x3ed)]['forEach'](_0x4bf6fa=>{const _0x2a4d03=_0x371120;_0x4bf6fa[_0x2a4d03(0x5b0)](),_0x4bf6fa['destroy']();}),this[_0x371120(0x3ed)]['clear']()),this[_0x371120(0x28e)]['forEach'](_0x4c2ffb=>_0x4c2ffb()),this[_0x371120(0x571)][_0x371120(0x467)]()[_0x371120(0x469)](_0x5972d1=>this['mediaStream'][_0x371120(0x2f1)](_0x5972d1)),this[_0x371120(0x435)]&&(clearTimeout(this['updateDebounce']),delete this['updateDebounce']),this['resizeHandler']?.(),super[_0x371120(0x1dd)]();}[_0x27a6cf(0x40a)](_0x244de2){const _0x1f99eb=_0x27a6cf;this['unsubscribeHandler']=_0x244de2[_0x1f99eb(0x290)](({content:_0x571211})=>{const _0x4b74ca=_0x1f99eb;switch(_0x571211[_0x4b74ca(0x524)]){case _0x4407d4[_0x4b74ca(0x634)]:if(_0x20481a[_0x4b74ca(0x517)](_0x5483cd['Subscription'],_0x4b74ca(0x6bb),this['localNode']['getId'](),this['providerId']),_0x571211['stream']['id']!==this[_0x4b74ca(0x195)]||_0x571211[_0x4b74ca(0x22c)]!==this[_0x4b74ca(0x22c)])return;this[_0x4b74ca(0x2f1)](_0x571211['track'][_0x4b74ca(0x4e4)]),this[_0x4b74ca(0x571)][_0x4b74ca(0x32d)](_0x571211[_0x4b74ca(0x709)]);for(const [_0x361bfc,_0x4451eb]of this[_0x4b74ca(0x3ed)][_0x4b74ca(0x594)]())try{_0x4451eb[_0x4b74ca(0x32d)](_0x571211[_0x4b74ca(0x709)]);}catch(_0x76fcf){_0x4451eb[_0x4b74ca(0x1dd)](),this[_0x4b74ca(0x3ed)]['delete'](_0x361bfc);}this[_0x4b74ca(0x194)](_0x571211['track']),this[_0x4b74ca(0x3b1)](),_0x4b74ca(0x3f0)===_0x571211['track']['kind']&&this[_0x4b74ca(0x561)]&&(this[_0x4b74ca(0x571)][_0x4b74ca(0x34c)]?setTimeout(()=>this[_0x4b74ca(0x561)]?.[_0x4b74ca(0x209)](),0x0):setTimeout(()=>this[_0x4b74ca(0x561)]?.[_0x4b74ca(0x5ed)](),0x0),this[_0x4b74ca(0x6c5)]());break;case _0x4407d4['RemoteRemove']:if(_0x571211[_0x4b74ca(0x521)]['id']!==this[_0x4b74ca(0x195)]||_0x571211['providerId']!==this[_0x4b74ca(0x22c)])return;this['removeTrack'](_0x571211['track'][_0x4b74ca(0x4e4)]),this['renderElement']&&_0x4b74ca(0x3f0)===_0x571211[_0x4b74ca(0x709)][_0x4b74ca(0x4e4)]&&(this[_0x4b74ca(0x74e)]?.(),this['mediaStream']['getTracks']()[_0x4b74ca(0x1d0)]>0x0?this[_0x4b74ca(0x561)]['load']():this['renderElement'][_0x4b74ca(0x445)]=null);}});}[_0x27a6cf(0x18f)](){const _0x49455f=_0x27a6cf;this[_0x49455f(0x4f9)]?.(),this['trackEndedListeners'][_0x49455f(0x469)](_0x4fad25=>_0x4fad25()),delete this[_0x49455f(0x4f9)];}[_0x27a6cf(0x274)](){const _0x24d8c0=_0x27a6cf;return this[_0x24d8c0(0x195)];}[_0x27a6cf(0x259)](_0x98c889){const _0x115aea=_0x27a6cf;this[_0x115aea(0x195)]=_0x98c889;}[_0x27a6cf(0x365)](){return this['availableTrackKinds'];}[_0x27a6cf(0x6da)](_0x53a073){const _0x5526f9=_0x27a6cf;for(const _0x182ecc of _0x53a073||this['availableTrackKinds'])if(!this[_0x5526f9(0x571)]['getTracks']()[_0x5526f9(0x613)](_0x8449c6=>_0x8449c6[_0x5526f9(0x4e4)]===_0x182ecc))return!0x1;return!0x0;}[_0x27a6cf(0x506)](){const _0x22b0c4=_0x27a6cf;let _0x220fad={'width':0x0,'height':0x0};const _0x351583=this[_0x22b0c4(0x571)][_0x22b0c4(0x1d4)]();if(_0x351583['length']>0x0){const _0x347c27=_0x351583[0x0]['getSettings']();_0x347c27[_0x22b0c4(0x2ee)]&&_0x347c27[_0x22b0c4(0x731)]&&(_0x220fad={'width':_0x347c27[_0x22b0c4(0x2ee)],'height':_0x347c27[_0x22b0c4(0x731)]});}return _0x220fad;}[_0x27a6cf(0x3a3)](_0x11e6d8){const _0x46979b=_0x27a6cf;for(const _0x55bc0d of _0x11e6d8)if(!this[_0x46979b(0x1d5)][_0x46979b(0x25a)](_0x55bc0d))return!0x1;return!0x0;}[_0x27a6cf(0x624)](_0x29ab29,_0x2d42bb){const _0x2c3d4c=_0x27a6cf;if(!this[_0x2c3d4c(0x3ed)][_0x2c3d4c(0x25a)](_0x29ab29)){const _0x1bee9b=new _0x5b43a4(this[_0x2c3d4c(0x472)],this[_0x2c3d4c(0x533)],this['mediaStream'],_0x29ab29,_0x2d42bb),_0x25c339=_0x1bee9b[_0x2c3d4c(0x413)](()=>{const _0x369a16=_0x2c3d4c;_0x25c339(),this[_0x369a16(0x3ed)][_0x369a16(0x1d2)](_0x29ab29)?.['destroy'](),this[_0x369a16(0x3ed)]['delete'](_0x29ab29);});this[_0x2c3d4c(0x3ed)][_0x2c3d4c(0x734)](_0x29ab29,_0x1bee9b),_0x1bee9b['registerSystemPublisher'](this['systemTopic']);}return this[_0x2c3d4c(0x3ed)][_0x2c3d4c(0x1d2)](_0x29ab29);}[_0x27a6cf(0x499)](){const _0x43a084=_0x27a6cf;return this[_0x43a084(0x571)]['id'];}[_0x27a6cf(0x5ec)](){const _0x58289e=_0x27a6cf;return _0x1176cc[_0x58289e(0x631)][_0x58289e(0x41f)];}[_0x27a6cf(0x65c)](){const _0x143f9b=_0x27a6cf;return Array[_0x143f9b(0x2fd)](this[_0x143f9b(0x1d5)]);}['subscribe'](_0x355b6){const _0x1f2b9d=_0x27a6cf;let _0x15a77f=[];if(_0x355b6){_0x1f2b9d(0x5e8)!=typeof _0x355b6['video']||_0x355b6[_0x1f2b9d(0x3f0)][_0x1f2b9d(0x561)]instanceof HTMLVideoElement||!this[_0x1f2b9d(0x561)]||(_0x355b6[_0x1f2b9d(0x3f0)]={'renderElement':this[_0x1f2b9d(0x561)]});try{(0x0,_0x1176cc[_0x1f2b9d(0x592)])(_0x355b6);}catch(_0x379432){throw new _0x478f0b(_0x3792fa[_0x1f2b9d(0x23a)],_0x1f2b9d(0x5b4));}_0x355b6['video']&&(_0x15a77f[_0x1f2b9d(0x647)](_0x1f2b9d(0x3f0)),'boolean'!=typeof _0x355b6[_0x1f2b9d(0x3f0)]&&_0x355b6[_0x1f2b9d(0x3f0)][_0x1f2b9d(0x561)]&&(this[_0x1f2b9d(0x561)]=_0x355b6[_0x1f2b9d(0x3f0)][_0x1f2b9d(0x561)],_0x355b6['video'][_0x1f2b9d(0x591)]||(_0x355b6[_0x1f2b9d(0x3f0)][_0x1f2b9d(0x591)]={'width':this[_0x1f2b9d(0x561)][_0x1f2b9d(0x379)],'height':this[_0x1f2b9d(0x561)][_0x1f2b9d(0x2c5)]}),delete _0x355b6[_0x1f2b9d(0x3f0)][_0x1f2b9d(0x561)])),_0x355b6[_0x1f2b9d(0x284)]&&_0x15a77f[_0x1f2b9d(0x647)](_0x1f2b9d(0x284));}else _0x15a77f=this[_0x1f2b9d(0x365)]();this[_0x1f2b9d(0x3a3)](_0x15a77f)||(_0x15a77f[_0x1f2b9d(0x469)](_0x84aa9=>this[_0x1f2b9d(0x1d5)][_0x1f2b9d(0x74b)](_0x84aa9)),this[_0x1f2b9d(0x1d6)][_0x1f2b9d(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x1f2b9d(0x260)],'content':{'type':_0x22acf3[_0x1f2b9d(0x33b)],'label':this[_0x1f2b9d(0x533)],'ownerId':this[_0x1f2b9d(0x472)][_0x1f2b9d(0x4cd)](),'trackKinds':_0x15a77f,'params':_0x355b6}}),_0x20481a[_0x1f2b9d(0x232)](_0x4a6d96[_0x1f2b9d(0x2b1)],{'type':_0x1f2b9d(0x290),'label':this[_0x1f2b9d(0x533)],'nodeId':this[_0x1f2b9d(0x70b)][_0x1f2b9d(0x4cd)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x1f2b9d(0x698)],'sourceId':this[_0x1f2b9d(0x472)][_0x1f2b9d(0x4cd)](),'streamId':this[_0x1f2b9d(0x195)],'trackKinds':_0x15a77f}));}[_0x27a6cf(0x53e)](_0x124e3f){const _0x37747e=_0x27a6cf;try{(0x0,_0x1176cc[_0x37747e(0x592)])(_0x124e3f);}catch(_0x30a1dd){throw new _0x478f0b(_0x3792fa[_0x37747e(0x23a)],_0x37747e(0x5b4));}this[_0x37747e(0x435)]&&clearTimeout(this[_0x37747e(0x435)]),this[_0x37747e(0x435)]=setTimeout(()=>{const _0x5f310e=_0x37747e;delete this[_0x5f310e(0x435)],this[_0x5f310e(0x1d6)]['publish']({'sourceId':_0x554820,'messageType':_0x3421b2[_0x5f310e(0x260)],'content':{'type':_0x22acf3[_0x5f310e(0x48b)],'label':this['label'],'ownerId':this[_0x5f310e(0x472)]['getId'](),'params':_0x124e3f}});},0x1f4);}[_0x27a6cf(0x1b7)](_0x35f790){const _0x52dc66=_0x27a6cf;_0x35f790||(_0x35f790=this[_0x52dc66(0x365)]()),(_0x35f790=Array['isArray'](_0x35f790)?_0x35f790:[_0x35f790])['forEach'](_0x1191d4=>this['subscribedTracks'][_0x52dc66(0x370)](_0x1191d4)),this[_0x52dc66(0x1d6)][_0x52dc66(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x52dc66(0x260)],'content':{'type':_0x22acf3[_0x52dc66(0x710)],'label':this[_0x52dc66(0x533)],'ownerId':this[_0x52dc66(0x472)]['getId'](),'trackKinds':_0x35f790,'remainingTracks':this[_0x52dc66(0x1d5)][_0x52dc66(0x1e6)]}});}[_0x27a6cf(0x687)](_0x49211a){const _0x3f3b7d=_0x27a6cf;return this[_0x3f3b7d(0x528)]['subscribe'](_0x49211a);}[_0x27a6cf(0x18a)](){const _0x3884ff=_0x27a6cf;return this[_0x3884ff(0x22c)];}['setProviderId'](_0x22dcb1){const _0x14708e=_0x27a6cf;this['providerId']!==_0x22dcb1&&(this[_0x14708e(0x22c)]=_0x22dcb1,this[_0x14708e(0x528)][_0x14708e(0x4b0)](_0x22dcb1));}[_0x27a6cf(0x62a)](_0x3f8b97){const _0x36ee1d=_0x27a6cf;this[_0x36ee1d(0x28e)][_0x36ee1d(0x1d2)](_0x3f8b97)?.(),this[_0x36ee1d(0x28e)][_0x36ee1d(0x370)](_0x3f8b97);}['removeTrack'](_0x6e2951){const _0x107c3e=_0x27a6cf,_0x51a6da=this['mediaStream'][_0x107c3e(0x467)]()[_0x107c3e(0x613)](_0x330505=>_0x330505[_0x107c3e(0x4e4)]===_0x6e2951);_0x51a6da&&(this[_0x107c3e(0x571)][_0x107c3e(0x2f1)](_0x51a6da),this[_0x107c3e(0x3ed)][_0x107c3e(0x469)](_0x67496f=>_0x67496f[_0x107c3e(0x2f1)](_0x6e2951)),this[_0x107c3e(0x28e)][_0x107c3e(0x1d2)](_0x6e2951)?.());}[_0x27a6cf(0x3b1)](){const _0x497b8a=_0x27a6cf;this[_0x497b8a(0x561)]&&(this[_0x497b8a(0x561)][_0x497b8a(0x445)]&&this[_0x497b8a(0x561)]['srcObject']===this[_0x497b8a(0x571)]||(this[_0x497b8a(0x561)][_0x497b8a(0x445)]=this[_0x497b8a(0x571)]));}['setupResizeHandler'](){const _0x2a0d45=_0x27a6cf;if(this[_0x2a0d45(0x561)]&&!this[_0x2a0d45(0x74e)]&&_0x2a0d45(0x298)!=typeof ResizeObserver){let _0x302ed7=this[_0x2a0d45(0x561)][_0x2a0d45(0x379)],_0x5d3f08=this[_0x2a0d45(0x561)][_0x2a0d45(0x2c5)];const _0x456cbe=new ResizeObserver(_0x34e2c7=>{const _0x18ae12=_0x2a0d45,{width:_0x4a1e58,height:_0x5d9b88}=_0x34e2c7[0x0][_0x18ae12(0x4bf)];_0x302ed7===_0x4a1e58&&_0x5d3f08===_0x5d9b88||(_0x302ed7=Math['floor'](_0x4a1e58),_0x5d3f08=Math[_0x18ae12(0x569)](_0x5d9b88),this[_0x18ae12(0x53e)]({'video':{'maxResolution':{'width':_0x4a1e58,'height':_0x5d9b88}}}));});_0x456cbe[_0x2a0d45(0x39d)](this[_0x2a0d45(0x561)]),this[_0x2a0d45(0x74e)]=()=>_0x456cbe[_0x2a0d45(0x383)]();}}[_0x27a6cf(0x73a)](_0x14029a){const _0x257017=_0x27a6cf,_0x330204=[];for(const _0x5c6f55 of this[_0x257017(0x1d5)])this[_0x257017(0x2f1)](_0x5c6f55),_0x330204['push'](_0x5c6f55);this[_0x257017(0x22c)]&&this[_0x257017(0x1d6)]['publish']({'sourceId':_0x554820,'messageType':_0x3421b2['Content'],'content':{'type':_0x22acf3['RemoteMediaStreamTrackFail'],'label':this['label'],'streamId':this['internalId'],'ownerId':this[_0x257017(0x472)][_0x257017(0x4cd)](),'providerId':this[_0x257017(0x22c)],'trackKinds':_0x330204}});}[_0x27a6cf(0x194)](_0xc93087){const _0x50a4c2=_0x27a6cf,_0x505935=()=>this[_0x50a4c2(0x73a)](_0xc93087);_0xc93087[_0x50a4c2(0x1cf)]('ended',_0x505935),_0xc93087[_0x50a4c2(0x1cf)](_0x50a4c2(0x747),_0x505935),this[_0x50a4c2(0x28e)][_0x50a4c2(0x734)](_0xc93087[_0x50a4c2(0x4e4)],()=>{const _0x6d29f7=_0x50a4c2;_0xc93087[_0x6d29f7(0x40e)](_0x6d29f7(0x5b2),_0x505935),_0xc93087[_0x6d29f7(0x40e)](_0x6d29f7(0x747),_0x505935),this[_0x6d29f7(0x28e)][_0x6d29f7(0x370)](_0xc93087[_0x6d29f7(0x4e4)]);});}}class _0x16cf5b{['id'];[_0x27a6cf(0x2e3)];[_0x27a6cf(0x31f)];constructor(_0x3f6ad8,_0x401670=new Set(),_0x321c26){const _0xee8e9c=_0x27a6cf;this['id']=_0x3f6ad8,this[_0xee8e9c(0x2e3)]=_0x401670,this[_0xee8e9c(0x31f)]=_0x321c26;}[_0x27a6cf(0x33d)](){const _0x49f927=_0x27a6cf;this[_0x49f927(0x31f)]=void 0x0,this['remoteConnections'][_0x49f927(0x662)]();}[_0x27a6cf(0x4cd)](){return this['id'];}[_0x27a6cf(0x378)](){const _0x5cd63c=_0x27a6cf;return this[_0x5cd63c(0x31f)];}[_0x27a6cf(0x6d5)](){const _0x2f65d2=_0x27a6cf;return this[_0x2f65d2(0x2e3)];}}class _0x432ef0 extends _0x16cf5b{['id'];[_0x27a6cf(0x474)];[_0x27a6cf(0x72e)];['remoteConnections'];[_0x27a6cf(0x31f)];[_0x27a6cf(0x2b7)]=_0x1176cc[_0x27a6cf(0x72f)][_0x27a6cf(0x4d1)];constructor(_0x5ddd1d,_0x30718a,_0x460e1d,_0x1a420c=new Set(),_0x206224){const _0x546306=_0x27a6cf;super(_0x5ddd1d,_0x1a420c,_0x206224),this['id']=_0x5ddd1d,this[_0x546306(0x474)]=_0x30718a,this[_0x546306(0x72e)]=_0x460e1d,this[_0x546306(0x2e3)]=_0x1a420c,this['rank']=_0x206224;}[_0x27a6cf(0x311)](){const _0x3e8a62=_0x27a6cf;return this[_0x3e8a62(0x474)];}[_0x27a6cf(0x256)](){const _0x21fe0e=_0x27a6cf;return this[_0x21fe0e(0x72e)];}}class _0x558661{[_0x27a6cf(0x25f)];[_0x27a6cf(0x698)];[_0x27a6cf(0x5b9)];constructor(_0x314d8a,_0x13a8e3){const _0x1b4acd=_0x27a6cf;this[_0x1b4acd(0x25f)]=_0x314d8a,this[_0x1b4acd(0x698)]=_0x13a8e3,this[_0x1b4acd(0x5b9)]=_0x1b4acd(0x449)+this[_0x1b4acd(0x25f)]+_0x1b4acd(0x449)+this['clusterId'];}async[_0x27a6cf(0x1be)](_0x345419,_0x3e83b8,_0x58c382){const _0x71caf2=_0x27a6cf;if(!0x1===(await(0x0,_0x554ba6[_0x71caf2(0x4ae)])((0x0,_0x554ba6[_0x71caf2(0x335)])(_0x1f229f[_0x71caf2(0x4ab)](),_0x71caf2(0x411)+this['clusterKey']+_0x71caf2(0x573)+_0x3e83b8+'/transactions/lastTransaction'),_0x34624f=>{const _0x46fe2b=_0x71caf2;if(!_0x34624f)return _0x345419['id'];if(_0x34624f!==_0x58c382)throw new _0x2d2d59(_0x2d2d59[_0x46fe2b(0x49c)]['ObjectStoreNotSynced']);return _0x345419['id'];}))[_0x71caf2(0x58d)])throw new _0x2d2d59(_0x2d2d59[_0x71caf2(0x49c)][_0x71caf2(0x642)]);_0x345419[_0x71caf2(0x596)]||delete _0x345419[_0x71caf2(0x596)],await(0x0,_0x554ba6['set'])((0x0,_0x554ba6[_0x71caf2(0x335)])(_0x1f229f[_0x71caf2(0x4ab)](),_0x71caf2(0x411)+this[_0x71caf2(0x5b9)]+_0x71caf2(0x573)+_0x3e83b8+_0x71caf2(0x554)+_0x345419['id']),_0x345419);}async[_0x27a6cf(0x733)](_0x217b4e,_0x4e5220){const _0x26140c=_0x27a6cf;let _0x54101f=[];const _0x43c9ff=await(0x0,_0x554ba6[_0x26140c(0x1d2)])((0x0,_0x554ba6[_0x26140c(0x335)])(_0x1f229f['getDatabase'](),_0x26140c(0x411)+this[_0x26140c(0x5b9)]+_0x26140c(0x573)+_0x217b4e+_0x26140c(0x1bd)));if(!_0x43c9ff[_0x26140c(0x33a)]())return _0x54101f;const _0x130951=_0x43c9ff['val']();_0x54101f=Object[_0x26140c(0x2f6)](_0x130951)[_0x26140c(0x57c)](_0x482773=>_0x26140c(0x2bd)!=typeof _0x482773);const _0x1b50fb=[];let _0xe396ce=_0x54101f[_0x26140c(0x613)](_0x22fd84=>_0x22fd84[_0x26140c(0x596)]===_0x4e5220);for(;_0xe396ce;)_0x1b50fb[_0x26140c(0x647)](_0xe396ce),_0xe396ce=_0x54101f[_0x26140c(0x613)](_0x5e60fb=>_0x5e60fb[_0x26140c(0x596)]===_0xe396ce['id']);return _0x1b50fb;}}class _0x283f8f{['configs'];[_0x27a6cf(0x36b)];['audioContext'];['localMediaStreams']=new Map();['remoteMediaStreams']=new Map();[_0x27a6cf(0x454)]=new Map();[_0x27a6cf(0x4c4)]=new Map();[_0x27a6cf(0x328)]=new Map();[_0x27a6cf(0x67b)];constructor(_0x52f396,_0x2b45d5,_0x3ef82f){const _0x4db701=_0x27a6cf;this[_0x4db701(0x457)]=_0x52f396,this[_0x4db701(0x36b)]=_0x2b45d5,this[_0x4db701(0x270)]=_0x3ef82f,this[_0x4db701(0x67b)]=new _0x558661(this[_0x4db701(0x457)][_0x4db701(0x25f)],this['configs']['clusterId']);}[_0x27a6cf(0x33d)](_0x530611=!0x1){const _0x2542c0=_0x27a6cf;this[_0x2542c0(0x640)][_0x2542c0(0x469)]((_0x509c7b,_0x519907)=>{const _0x157e6f=_0x2542c0;_0x509c7b[_0x157e6f(0x469)]((_0x362e60,_0x5ad3dc)=>{this['removeRemoteMediaStream'](_0x519907,_0x5ad3dc);});}),_0x530611||(this[_0x2542c0(0x574)]['forEach']((_0x1028d6,_0x33ab55)=>{const _0xdbff4b=_0x2542c0;this[_0xdbff4b(0x3b9)](_0x33ab55);}),this[_0x2542c0(0x454)][_0x2542c0(0x469)]((_0x4ea446,_0x169514)=>{const _0x1f0281=_0x2542c0;this[_0x1f0281(0x6b6)](_0x169514);}),this[_0x2542c0(0x4c4)][_0x2542c0(0x469)]((_0xcc9716,_0x5a89e7)=>{this['removeObjectStore'](_0x5a89e7);}),this[_0x2542c0(0x328)][_0x2542c0(0x469)]((_0x4c303c,_0x360dc1)=>{const _0x4ab01b=_0x2542c0;this[_0x4ab01b(0x246)](_0x360dc1);}));}[_0x27a6cf(0x564)](_0x1a8824,_0x3c7f63){const _0x4733fa=_0x27a6cf;if(this[_0x4733fa(0x4c4)][_0x4733fa(0x25a)](_0x1a8824))throw new _0x478f0b(_0x3792fa[_0x4733fa(0x444)],_0x4733fa(0x22f));const _0x3f84b1=new _0xcbb377(this[_0x4733fa(0x457)][_0x4733fa(0x70b)],_0x1a8824,this[_0x4733fa(0x457)][_0x4733fa(0x698)],this['configs'][_0x4733fa(0x25f)],this['transactionService'],_0x3c7f63);return this[_0x4733fa(0x4c4)][_0x4733fa(0x734)](_0x1a8824,_0x3f84b1),this[_0x4733fa(0x457)][_0x4733fa(0x652)]['registerSystemSource'](_0x3f84b1),_0x3f84b1;}async[_0x27a6cf(0x36f)](_0x464f51,_0x373264,_0x26ace9){const _0x4f34b3=_0x27a6cf;if(this[_0x4f34b3(0x328)][_0x4f34b3(0x25a)](_0x464f51))throw new _0x478f0b(_0x3792fa['KeyValueDatabaseAlreadyExists'],_0x4f34b3(0x25b));try{const _0x215743=new _0x54bbbb(this[_0x4f34b3(0x457)][_0x4f34b3(0x70b)],_0x464f51,this['configs'][_0x4f34b3(0x698)],this[_0x4f34b3(0x457)][_0x4f34b3(0x25f)],_0x373264,_0x26ace9);return this[_0x4f34b3(0x328)][_0x4f34b3(0x734)](_0x464f51,_0x215743),this[_0x4f34b3(0x457)][_0x4f34b3(0x652)][_0x4f34b3(0x3ef)](_0x215743),_0x215743;}catch(_0x821541){if(_0x821541 instanceof _0x478f0b)throw _0x821541;throw console['warn'](_0x4f34b3(0x608),_0x821541),new _0x2d2d59(_0x2d2d59[_0x4f34b3(0x49c)][_0x4f34b3(0x391)],{'label':_0x464f51,'clusterId':this[_0x4f34b3(0x457)]['clusterId'],'vendorId':this[_0x4f34b3(0x457)]['vendorId']});}}[_0x27a6cf(0x398)](_0x3a1a48,_0x598dea){const _0x3d5429=_0x27a6cf;if(this[_0x3d5429(0x574)][_0x3d5429(0x25a)](_0x3a1a48))throw new _0x478f0b(_0x3792fa[_0x3d5429(0x471)],_0x3d5429(0x358));if(!this[_0x3d5429(0x270)])throw new _0x478f0b(_0x3792fa[_0x3d5429(0x380)],'AudioContext\x20is\x20not\x20available');const _0x27289c=new _0x503f36(this[_0x3d5429(0x457)][_0x3d5429(0x70b)],_0x3a1a48,_0x598dea,this[_0x3d5429(0x36b)],this[_0x3d5429(0x270)],this[_0x3d5429(0x457)][_0x3d5429(0x698)]);return this[_0x3d5429(0x574)][_0x3d5429(0x734)](_0x3a1a48,_0x27289c),this['configs']['mediator'][_0x3d5429(0x3ef)](_0x27289c),_0x27289c[_0x3d5429(0x4b0)](),_0x27289c;}[_0x27a6cf(0x4f0)](_0x1ea33f,_0xcb38f9){const _0x43cc30=_0x27a6cf;if(this[_0x43cc30(0x574)][_0x43cc30(0x25a)](_0x1ea33f))throw new _0x478f0b(_0x3792fa['LocalMediaStreamAlreadyExists'],_0x43cc30(0x5a0));const _0x1b2694=new _0x8177c5(this[_0x43cc30(0x457)]['localNode'],_0x1ea33f,_0xcb38f9,this[_0x43cc30(0x457)][_0x43cc30(0x698)]);return this[_0x43cc30(0x574)][_0x43cc30(0x734)](_0x1ea33f,_0x1b2694),this[_0x43cc30(0x457)][_0x43cc30(0x652)][_0x43cc30(0x3ef)](_0x1b2694),_0x1b2694[_0x43cc30(0x4b0)](),_0x1b2694;}['createPubSubTopic'](_0x27ff75){const _0x387b3f=_0x27a6cf;if(this['pubSubTopics']['has'](_0x27ff75))throw new _0x478f0b(_0x3792fa[_0x387b3f(0x705)],_0x387b3f(0x2f2));const _0x3a356d=new _0x406a55(this[_0x387b3f(0x457)][_0x387b3f(0x70b)],_0x27ff75,this['configs'][_0x387b3f(0x698)]);return this[_0x387b3f(0x454)]['set'](_0x27ff75,_0x3a356d),this[_0x387b3f(0x457)][_0x387b3f(0x652)][_0x387b3f(0x3ef)](_0x3a356d),_0x3a356d;}[_0x27a6cf(0x2c7)](_0x188e49,_0x3010c7,_0x11d82b,_0x540ad9){const _0x443948=_0x27a6cf;this[_0x443948(0x640)]['has'](_0x188e49)||this['remoteMediaStreams'][_0x443948(0x734)](_0x188e49,new Map());const _0x2a7279=this['remoteMediaStreams'][_0x443948(0x1d2)](_0x188e49);if(_0x2a7279[_0x443948(0x25a)](_0x3010c7))throw new _0x478f0b(_0x3792fa[_0x443948(0x539)],_0x443948(0x602));const _0x49852d=new _0x432ef0(_0x188e49,'',''),_0x49d60b=new _0x256229(this[_0x443948(0x457)][_0x443948(0x70b)],_0x49852d,_0x3010c7,_0x11d82b,_0x540ad9,this[_0x443948(0x457)][_0x443948(0x698)]);return _0x2a7279['set'](_0x3010c7,_0x49d60b),this[_0x443948(0x457)][_0x443948(0x652)][_0x443948(0x3ef)](_0x49d60b),_0x49d60b;}[_0x27a6cf(0x495)](_0x449060){const _0xefec18=_0x27a6cf,_0x47f491=Array['from'](this[_0xefec18(0x4c4)][_0xefec18(0x2f6)]());return _0x449060?_0x47f491[_0xefec18(0x57c)](_0x449060):_0x47f491;}[_0x27a6cf(0x513)](_0x44c6aa){const _0x4f2cfc=_0x27a6cf,_0x29dcdd=Array[_0x4f2cfc(0x2fd)](this[_0x4f2cfc(0x328)][_0x4f2cfc(0x2f6)]());return _0x44c6aa?_0x29dcdd['filter'](_0x44c6aa):_0x29dcdd;}[_0x27a6cf(0x1c6)](_0x7f06ef){const _0x1178d1=_0x27a6cf,_0x58e4b8=Array['from'](this[_0x1178d1(0x574)][_0x1178d1(0x2f6)]());return _0x7f06ef?_0x58e4b8[_0x1178d1(0x57c)](_0x7f06ef):_0x58e4b8;}[_0x27a6cf(0x490)](_0x6960c1){const _0x112bdc=_0x27a6cf,_0x2b82da=Array['from'](this[_0x112bdc(0x454)]['values']());return _0x6960c1?_0x2b82da[_0x112bdc(0x57c)](_0x6960c1):_0x2b82da;}[_0x27a6cf(0x29e)](_0x486820){const _0x53156e=_0x27a6cf,_0x3018af=Array['from'](this[_0x53156e(0x640)][_0x53156e(0x2f6)]())[_0x53156e(0x1af)]((_0x1036f9,_0x4e708b)=>[..._0x1036f9,...Array[_0x53156e(0x2fd)](_0x4e708b[_0x53156e(0x2f6)]())],[]);return _0x486820?_0x3018af[_0x53156e(0x57c)](_0x486820):_0x3018af;}[_0x27a6cf(0x371)](_0x192c8b){const _0x236434=_0x27a6cf;switch(_0x192c8b[_0x236434(0x5d4)][_0x236434(0x2b7)]){case _0x22acf3['PublishMediaStream']:this['handlePublishMediaStream'](_0x192c8b['content']);break;case _0x22acf3[_0x236434(0x21e)]:this[_0x236434(0x735)](_0x192c8b[_0x236434(0x5d4)]);break;case _0x22acf3['CloseMediaStream']:this[_0x236434(0x39a)](_0x192c8b['content']);break;case _0x22acf3[_0x236434(0x1ee)]:this['handleClosePubSubTopic'](_0x192c8b['content']);break;case _0x22acf3['CloseObjectStoreBucket']:this[_0x236434(0x58c)](_0x192c8b[_0x236434(0x5d4)]);break;case _0x22acf3['CloseKeyValueDatabase']:this[_0x236434(0x428)](_0x192c8b[_0x236434(0x5d4)]);break;case _0x22acf3[_0x236434(0x710)]:this[_0x236434(0x26b)](_0x192c8b[_0x236434(0x5d4)]);break;case _0x22acf3[_0x236434(0x41d)]:this[_0x236434(0x328)][_0x236434(0x1d2)](_0x192c8b[_0x236434(0x5d4)][_0x236434(0x533)])?.[_0x236434(0x682)](_0x192c8b[_0x236434(0x552)]);break;case _0x22acf3[_0x236434(0x330)]:this[_0x236434(0x328)][_0x236434(0x1d2)](_0x192c8b[_0x236434(0x5d4)][_0x236434(0x533)])?.[_0x236434(0x33f)](_0x192c8b['sourceId'],_0x192c8b[_0x236434(0x5d4)][_0x236434(0x5a3)]);break;case _0x22acf3['RequestTransactionsValue']:this['keyValueDatabases']['get'](_0x192c8b[_0x236434(0x5d4)][_0x236434(0x533)])?.['sendTransactionsValue'](_0x192c8b['sourceId'],_0x192c8b[_0x236434(0x5d4)][_0x236434(0x500)]);break;case _0x22acf3[_0x236434(0x226)]:this[_0x236434(0x457)]['mediator'][_0x236434(0x35d)](_0x236434(0x5b5),{'label':_0x192c8b['content'][_0x236434(0x533)],'trackKinds':_0x192c8b['content'][_0x236434(0x3ae)]});}}[_0x27a6cf(0x386)]({content:_0x51740a}){const _0x4891e1=_0x27a6cf;switch(_0x51740a['type']){case _0x1c6aa9[_0x4891e1(0x4c3)]:this['handleNodeJoinNeedPublishedStream'](_0x51740a),this[_0x4891e1(0x71c)](_0x51740a);break;case _0x1c6aa9['NodeLeave']:this['handleNodeLeave'](_0x51740a),this['notifyObjectStoreOfNodeLeave'](_0x51740a);}}[_0x27a6cf(0x24c)](_0x1ad499){const _0x7011ba=_0x27a6cf;switch(_0x1ad499[_0x7011ba(0x5d4)][_0x7011ba(0x2b7)]){case _0x5d7a24[_0x7011ba(0x33b)]:this[_0x7011ba(0x606)](_0x1ad499['sourceId'],_0x1ad499[_0x7011ba(0x5d4)]);break;case _0x5d7a24[_0x7011ba(0x48b)]:this[_0x7011ba(0x3bd)](_0x1ad499[_0x7011ba(0x552)],_0x1ad499[_0x7011ba(0x5d4)]);break;case _0x5d7a24[_0x7011ba(0x710)]:this['handleUnsubscribeMediaStream'](_0x1ad499[_0x7011ba(0x552)],_0x1ad499[_0x7011ba(0x5d4)]);}}[_0x27a6cf(0x26b)](_0x40b685){const _0x33b6a7=_0x27a6cf;if(0x0===_0x40b685[_0x33b6a7(0x439)])this[_0x33b6a7(0x640)][_0x33b6a7(0x1d2)](_0x40b685[_0x33b6a7(0x6f4)])?.[_0x33b6a7(0x1d2)](_0x40b685[_0x33b6a7(0x533)])?.[_0x33b6a7(0x1dd)]();else{const _0x5e04be=this[_0x33b6a7(0x640)][_0x33b6a7(0x1d2)](_0x40b685['ownerId'])?.[_0x33b6a7(0x1d2)](_0x40b685[_0x33b6a7(0x533)]);if(!_0x5e04be)return;_0x40b685['trackKinds']['forEach'](_0x32a095=>_0x5e04be['unsubscribeTrackEndedListener'](_0x32a095));}}['handlePublishMediaStream'](_0x47b725){const _0x307150=_0x27a6cf,{label:_0x4ad4eb,ownerId:_0x4a67cc,stream:{streamId:_0x17185c,availableTrackKinds:_0x58976a}}=_0x47b725;if(this['remoteMediaStreams'][_0x307150(0x1d2)](_0x4a67cc)?.[_0x307150(0x25a)](_0x4ad4eb))return void _0x20481a[_0x307150(0x517)](_0x5483cd['Content'],_0x307150(0x5a0),_0x17185c);const _0x5dca6d=this['createRemoteMediaStream'](_0x4a67cc,_0x4ad4eb,_0x17185c,_0x58976a);this['configs']['mediator'][_0x307150(0x35d)](_0x307150(0x38c),{'ownerId':_0x4a67cc,'stream':_0x5dca6d});}[_0x27a6cf(0x735)]({ownerId:_0x238f95,label:_0x3724f1}){const _0x4eb73a=_0x27a6cf;this[_0x4eb73a(0x48f)](_0x238f95,_0x3724f1),this['configs'][_0x4eb73a(0x652)]['notifyCluster'](_0x4eb73a(0x3f5),{'ownerId':_0x238f95,'label':_0x3724f1});}[_0x27a6cf(0x39a)](_0x440276){const _0x189fd7=_0x27a6cf;this[_0x189fd7(0x3b9)](_0x440276[_0x189fd7(0x533)]);}[_0x27a6cf(0x58c)](_0x4af639){const _0xc94b52=_0x27a6cf;this['removeObjectStore'](_0x4af639[_0xc94b52(0x533)]);}['handleClosePubSubTopic'](_0x2d8587){const _0x3f3dc2=_0x27a6cf;this[_0x3f3dc2(0x6b6)](_0x2d8587[_0x3f3dc2(0x533)]);}[_0x27a6cf(0x428)](_0x3f9d4c){const _0xef90d2=_0x27a6cf;this[_0xef90d2(0x246)](_0x3f9d4c[_0xef90d2(0x533)]);}['handleSubscribeMediaStream'](_0x4705d3,_0x251ba8){const _0x5a6f8a=_0x27a6cf,{ownerId:_0x36d85a,label:_0x51f8a2}=_0x251ba8;let _0x297d16;_0x297d16=_0x36d85a!==this[_0x5a6f8a(0x457)]['localNode']['getId']()?this[_0x5a6f8a(0x640)][_0x5a6f8a(0x1d2)](_0x36d85a)[_0x5a6f8a(0x1d2)](_0x51f8a2):this['localMediaStreams'][_0x5a6f8a(0x1d2)](_0x51f8a2),_0x297d16[_0x5a6f8a(0x624)](_0x4705d3,_0x251ba8[_0x5a6f8a(0x3c7)])['subscribe'](_0x251ba8,_0x297d16[_0x5a6f8a(0x5ec)]());}[_0x27a6cf(0x3bd)](_0x30d720,_0x346d32){const _0x56ba9a=_0x27a6cf,{ownerId:_0x39573d,label:_0x23dcc6}=_0x346d32;let _0x3448e4;_0x3448e4=_0x39573d!==this[_0x56ba9a(0x457)][_0x56ba9a(0x70b)][_0x56ba9a(0x4cd)]()?this[_0x56ba9a(0x640)][_0x56ba9a(0x1d2)](_0x39573d)[_0x56ba9a(0x1d2)](_0x23dcc6):this[_0x56ba9a(0x574)][_0x56ba9a(0x1d2)](_0x23dcc6),_0x3448e4['getShareableStream'](_0x30d720,_0x346d32[_0x56ba9a(0x3c7)])[_0x56ba9a(0x53e)](_0x346d32);}[_0x27a6cf(0x4d8)](_0x3c4b61,_0x327b8e){const _0x651888=_0x27a6cf,{ownerId:_0x1f071b,label:_0x1863e4}=_0x327b8e;let _0x573639;_0x573639=_0x1f071b!==this[_0x651888(0x457)][_0x651888(0x70b)][_0x651888(0x4cd)]()?this['remoteMediaStreams'][_0x651888(0x1d2)](_0x1f071b)[_0x651888(0x1d2)](_0x1863e4):this[_0x651888(0x574)][_0x651888(0x1d2)](_0x1863e4),_0x573639['getShareableStream'](_0x3c4b61)[_0x651888(0x1b7)](_0x327b8e);}['handleNodeJoinNeedPublishedStream']({id:_0x566e7e}){const _0x394e32=_0x27a6cf;this[_0x394e32(0x1c6)]()['forEach'](_0x1d83ee=>{const _0x1943f8=_0x394e32;_0x1d83ee[_0x1943f8(0x4b0)](_0x566e7e);});}['handleNodeLeave']({id:_0x3a1f00}){this['getRemoteMediaStreams'](_0x5d1eb3=>_0x5d1eb3['getOwnerId']()===_0x3a1f00)['forEach'](_0x5df1bb=>{const _0x26095b=a0_0x4e89;this[_0x26095b(0x48f)](_0x5df1bb['getOwnerId'](),_0x5df1bb[_0x26095b(0x1c9)]());});}['notifyObjectStoreOfNodeJoin']({id:_0x225690}){const _0x63e685=_0x27a6cf;this[_0x63e685(0x4c4)][_0x63e685(0x469)](_0x430d6b=>_0x430d6b[_0x63e685(0x1a0)](_0x225690));}['notifyObjectStoreOfNodeLeave']({id:_0x99c584}){const _0x2837df=_0x27a6cf;this['objectStores'][_0x2837df(0x469)](_0x311db9=>_0x311db9[_0x2837df(0x3f9)](_0x99c584));}[_0x27a6cf(0x2bf)](_0x165a73){const _0x28f681=_0x27a6cf;if(!this[_0x28f681(0x4c4)][_0x28f681(0x25a)](_0x165a73))throw new _0x478f0b(_0x3792fa[_0x28f681(0x2e8)],_0x28f681(0x3b6));const _0x380291=this[_0x28f681(0x4c4)][_0x28f681(0x1d2)](_0x165a73);this[_0x28f681(0x4c4)]['delete'](_0x165a73),_0x380291[_0x28f681(0x1dd)](),this[_0x28f681(0x457)][_0x28f681(0x652)][_0x28f681(0x1cc)](_0x380291);}[_0x27a6cf(0x6b6)](_0x536e39){const _0x816bf6=_0x27a6cf;if(!this[_0x816bf6(0x454)][_0x816bf6(0x25a)](_0x536e39))throw new _0x478f0b(_0x3792fa[_0x816bf6(0x3d5)],_0x816bf6(0x3b6));const _0x34a0d4=this[_0x816bf6(0x454)][_0x816bf6(0x1d2)](_0x536e39);this['pubSubTopics']['delete'](_0x536e39),_0x34a0d4['destroy'](),this[_0x816bf6(0x457)][_0x816bf6(0x652)][_0x816bf6(0x1cc)](_0x34a0d4);}['removeKeyValueDatabase'](_0x3dad42){const _0x3e5097=_0x27a6cf;if(!this['keyValueDatabases']['has'](_0x3dad42))throw new _0x478f0b(_0x3792fa['KeyValueDatabaseDoesNotExist'],_0x3e5097(0x6aa));const _0x4f7c31=this['keyValueDatabases'][_0x3e5097(0x1d2)](_0x3dad42);this[_0x3e5097(0x328)]['delete'](_0x3dad42),_0x4f7c31['destroy'](),this[_0x3e5097(0x457)]['mediator'][_0x3e5097(0x1cc)](_0x4f7c31);}[_0x27a6cf(0x3b9)](_0x5aeb18){const _0x32c4ff=_0x27a6cf;if(!this[_0x32c4ff(0x574)][_0x32c4ff(0x25a)](_0x5aeb18))throw new _0x2d2d59(_0x2d2d59[_0x32c4ff(0x49c)]['LocalMediaStreamDoesNotExist'],{'label':_0x5aeb18,'localId':this[_0x32c4ff(0x457)][_0x32c4ff(0x70b)][_0x32c4ff(0x4cd)]()});const _0x565c23=this[_0x32c4ff(0x574)][_0x32c4ff(0x1d2)](_0x5aeb18);this[_0x32c4ff(0x457)][_0x32c4ff(0x652)][_0x32c4ff(0x1cc)](_0x565c23),_0x565c23[_0x32c4ff(0x1dd)](),this[_0x32c4ff(0x574)][_0x32c4ff(0x370)](_0x5aeb18);}[_0x27a6cf(0x48f)](_0x6224fc,_0x3eb41c){const _0x332c84=_0x27a6cf;if(!this['remoteMediaStreams'][_0x332c84(0x25a)](_0x6224fc))throw new _0x2d2d59(_0x2d2d59[_0x332c84(0x49c)]['NodeDoesNotExist'],{'nodeId':_0x6224fc,'localId':this[_0x332c84(0x457)]['localNode'][_0x332c84(0x4cd)]()});const _0x1ad9ab=this[_0x332c84(0x640)][_0x332c84(0x1d2)](_0x6224fc);if(!_0x1ad9ab[_0x332c84(0x25a)](_0x3eb41c))throw new _0x2d2d59(_0x2d2d59['codes']['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x6224fc,'label':_0x3eb41c,'localId':this[_0x332c84(0x457)][_0x332c84(0x70b)][_0x332c84(0x4cd)]()});const _0x31dfa8=_0x1ad9ab[_0x332c84(0x1d2)](_0x3eb41c);this[_0x332c84(0x457)][_0x332c84(0x652)][_0x332c84(0x1cc)](_0x31dfa8),_0x31dfa8[_0x332c84(0x1dd)](),_0x1ad9ab[_0x332c84(0x370)](_0x3eb41c);}}!function(_0x97ca85){const _0x2e854f=_0x27a6cf;_0x97ca85['STVolatility']=_0x2e854f(0x706),_0x97ca85[_0x2e854f(0x251)]='dt_volatility',_0x97ca85[_0x2e854f(0x296)]=_0x2e854f(0x293),_0x97ca85[_0x2e854f(0x625)]=_0x2e854f(0x200),_0x97ca85[_0x2e854f(0x3b4)]=_0x2e854f(0x275),_0x97ca85[_0x2e854f(0x3a8)]=_0x2e854f(0x352),_0x97ca85[_0x2e854f(0x477)]=_0x2e854f(0x51d),_0x97ca85[_0x2e854f(0x36e)]=_0x2e854f(0x463);}(_0xf984c0||(_0xf984c0={})),function(_0x3e832d){const _0x4bb373=_0x27a6cf;_0x3e832d[_0x4bb373(0x516)]=_0x4bb373(0x638),_0x3e832d[_0x4bb373(0x296)]='cpu.time_per_frame',_0x3e832d[_0x4bb373(0x36e)]=_0x4bb373(0x45b),_0x3e832d['FramePerSecond']='cpu.fps',_0x3e832d[_0x4bb373(0x625)]='bandwidth.bitrate',_0x3e832d['Jitter']='bandwidth.jitter',_0x3e832d[_0x4bb373(0x477)]=_0x4bb373(0x2b5);}(_0x192400||(_0x192400={})),function(_0xb223f2){const _0x480339=_0x27a6cf;_0xb223f2[_0xb223f2['Problem']=0x0]=_0x480339(0x22a);}(_0x4489d2||(_0x4489d2={}));const _0xe039d3=[{'type':_0xf984c0[_0x27a6cf(0x1c7)],'reportMetric':_0xf70a87=>_0xf70a87['STVolatility'],'maxThreshold':2.5},{'type':_0xf984c0[_0x27a6cf(0x251)],'reportMetric':_0x1f6295=>_0x1f6295[_0x27a6cf(0x251)],'maxThreshold':0.5}],_0xb4f426=[{'type':_0xf984c0['TimePerFrame'],'reportMetric':_0x5daf56=>{const _0x97f8b7=_0x27a6cf,_0x151cac=0x3e8/_0x5daf56[_0x97f8b7(0x50f)];return _0x5daf56[_0x97f8b7(0x30b)]/_0x151cac;},'maxThreshold':0.75},{'type':_0xf984c0['Bitrate'],'reportMetric':_0x12036f=>{const _0x515d3d=_0x27a6cf,_0x4f521e=_0x12036f['FPS']*_0x12036f['frameWidth']*_0x12036f[_0x515d3d(0x66a)]*0.12;return _0x12036f[_0x515d3d(0x200)]/_0x4f521e;},'minThreshold':0.25},{'type':_0xf984c0[_0x27a6cf(0x3b4)],'reportMetric':_0x5153bd=>_0x5153bd[_0x27a6cf(0x275)],'maxThreshold':0.6},{'type':_0xf984c0[_0x27a6cf(0x3a8)],'reportMetric':_0x509bc3=>_0x509bc3[_0x27a6cf(0x50f)],'minThreshold':0xa}],_0x5f54c8=[{'type':_0xf984c0[_0x27a6cf(0x3b4)],'reportMetric':_0x615667=>_0x615667['jitter'],'maxThreshold':0.6}],_0x4d3a61=[{'type':_0xf984c0[_0x27a6cf(0x477)],'reportMetric':_0x2a1faa=>_0x2a1faa[_0x27a6cf(0x36c)],'maxThreshold':0x1/0x0}],_0x1b7e3f=[{'type':_0xf984c0[_0x27a6cf(0x36e)],'reportMetric':_0x427f96=>_0x427f96[_0x27a6cf(0x36e)],'maxThreshold':0x12c}],_0x5a6675=[{'type':_0x192400[_0x27a6cf(0x516)],'issues':[{'type':_0xf984c0[_0x27a6cf(0x1c7)],'threshold':0x5},{'type':_0xf984c0[_0x27a6cf(0x251)],'threshold':0x5}]},{'type':_0x192400[_0x27a6cf(0x296)],'issues':[{'type':_0xf984c0['TimePerFrame'],'threshold':0x3}]},{'type':_0x192400[_0x27a6cf(0x36e)],'issues':[{'type':_0xf984c0[_0x27a6cf(0x36e)],'threshold':0x2}]},{'type':_0x192400[_0x27a6cf(0x3a8)],'issues':[{'type':_0xf984c0[_0x27a6cf(0x3a8)],'threshold':0x3}]},{'type':_0x192400[_0x27a6cf(0x625)],'issues':[{'type':_0xf984c0['Bitrate'],'threshold':0x3}]},{'type':_0x192400[_0x27a6cf(0x3b4)],'issues':[{'type':_0xf984c0['Jitter'],'threshold':0x3}]},{'type':_0x192400[_0x27a6cf(0x477)],'issues':[{'type':_0xf984c0[_0x27a6cf(0x477)],'threshold':0x3}]}];var _0xd6d2a0,_0x4282e0;!function(_0x47db8c){const _0x1b1005=_0x27a6cf;_0x47db8c[_0x47db8c[_0x1b1005(0x6fb)]=0x0]=_0x1b1005(0x6fb),_0x47db8c[_0x47db8c[_0x1b1005(0x691)]=0x1]='LocalReport';}(_0xd6d2a0||(_0xd6d2a0={}));class _0x2e666a{[_0x27a6cf(0x457)];['issues']=[];[_0x27a6cf(0x1d6)];constructor(_0x11d0d3){const _0x32ceb6=_0x27a6cf;this[_0x32ceb6(0x457)]=_0x11d0d3,this[_0x32ceb6(0x457)][_0x32ceb6(0x652)][_0x32ceb6(0x3ef)](this);}[_0x27a6cf(0x6c0)](_0x4d73cf){this['systemTopic']=_0x4d73cf;}[_0x27a6cf(0x5b0)](){const _0x542f22=_0x27a6cf;this[_0x542f22(0x1d6)]=void 0x0;}['close'](){const _0x29f631=_0x27a6cf;this['configs'][_0x29f631(0x652)]['unregisterSystemSource'](this),this[_0x29f631(0x2e6)]=[];}['handleStatsSystemEvents'](_0x30e0a8){const _0x290595=_0x27a6cf;switch(_0x30e0a8[_0x290595(0x5d4)][_0x290595(0x2b7)]){case _0xd6d2a0[_0x290595(0x691)]:this[_0x290595(0x3a9)](_0x30e0a8[_0x290595(0x5d4)][_0x290595(0x423)]);break;case _0xd6d2a0['StreamReport']:this[_0x290595(0x6c2)](_0x30e0a8[_0x290595(0x5d4)][_0x290595(0x423)]);}}[_0x27a6cf(0x673)](_0xa62538,_0x23f13b,_0x42eef2,_0x47b4e4){const _0x267027=_0x27a6cf,_0x1d2f1b=_0x5a6675['find'](_0x1c181f=>_0x1c181f['issues'][_0x267027(0x670)](_0x1128ca=>_0x1128ca[_0x267027(0x2b7)]===_0xa62538));_0x47b4e4>=_0x1d2f1b['issues'][_0x267027(0x613)](_0x5ebf35=>_0x5ebf35[_0x267027(0x2b7)]===_0xa62538)[_0x267027(0x32b)]&&(this[_0x267027(0x2dc)](_0x1d2f1b['type'],_0x23f13b,_0x42eef2),this[_0x267027(0x2e6)]=this[_0x267027(0x2e6)][_0x267027(0x57c)](_0x45bfef=>!(_0x45bfef['type']===_0xa62538&&_0x45bfef[_0x267027(0x286)]===_0x23f13b&&_0x45bfef[_0x267027(0x2b6)]===_0x42eef2)));}[_0x27a6cf(0x3a9)](_0x17cb54){_0xe039d3['forEach'](_0x2990eb=>{const _0x5218d7=a0_0x4e89,_0x3d1dd7=_0x2990eb['reportMetric'](_0x17cb54);_0x2990eb['maxThreshold']&&_0x3d1dd7>_0x2990eb[_0x5218d7(0x492)]&&this[_0x5218d7(0x3dd)](_0x2990eb[_0x5218d7(0x2b7)],this['configs'][_0x5218d7(0x70b)]['getId'](),_0xf30543[_0x5218d7(0x5cf)],_0x3d1dd7),_0x2990eb['minThreshold']&&_0x3d1dd7<_0x2990eb[_0x5218d7(0x3da)]&&this[_0x5218d7(0x3dd)](_0x2990eb[_0x5218d7(0x2b7)],this[_0x5218d7(0x457)][_0x5218d7(0x70b)][_0x5218d7(0x4cd)](),_0xf30543['Sender'],_0x3d1dd7);});}[_0x27a6cf(0x6c2)](_0x596f75){const _0x535c67=_0x27a6cf;let _0x2aaae2=[];switch(_0x596f75['origin']){case _0xf30543[_0x535c67(0x5cf)]:_0x2aaae2=_0x4d3a61;break;case _0xf30543[_0x535c67(0x262)]:_0x2aaae2=_0x1b7e3f;}_0x596f75[_0x535c67(0x3f0)]&&this[_0x535c67(0x2a2)](_0x596f75[_0x535c67(0x286)],_0xf30543[_0x535c67(0x5cf)],_0x596f75[_0x535c67(0x3f0)]),_0x596f75[_0x535c67(0x284)]&&this['detectAudioIssues'](_0x596f75[_0x535c67(0x286)],_0xf30543[_0x535c67(0x5cf)],_0x596f75[_0x535c67(0x284)]),_0x2aaae2[_0x535c67(0x469)](_0x3fffc3=>{const _0x1dad2e=_0x535c67,_0x437952=_0x3fffc3[_0x1dad2e(0x6de)](_0x596f75);_0x3fffc3['maxThreshold']&&_0x437952>_0x3fffc3['maxThreshold']&&this[_0x1dad2e(0x3dd)](_0x3fffc3['type'],_0x596f75[_0x1dad2e(0x286)],_0xf30543[_0x1dad2e(0x5cf)],_0x437952),_0x3fffc3[_0x1dad2e(0x3da)]&&_0x437952<_0x3fffc3[_0x1dad2e(0x3da)]&&this['addIssue'](_0x3fffc3['type'],_0x596f75[_0x1dad2e(0x286)],_0xf30543['Sender'],_0x437952);});}[_0x27a6cf(0x2a2)](_0x5b9ed1,_0x8b713,_0x3cad15){const _0xf46c39=_0x27a6cf;0x0!==_0x3cad15[_0xf46c39(0x200)]&&_0xb4f426[_0xf46c39(0x469)](_0x3ffaf8=>{const _0x4b996a=_0xf46c39,_0x5232dd=_0x3ffaf8[_0x4b996a(0x6de)](_0x3cad15);_0x3ffaf8[_0x4b996a(0x492)]&&_0x5232dd>_0x3ffaf8[_0x4b996a(0x492)]&&this[_0x4b996a(0x3dd)](_0x3ffaf8[_0x4b996a(0x2b7)],_0x5b9ed1,_0x8b713,_0x5232dd,_0x4b996a(0x3f0)),_0x3ffaf8[_0x4b996a(0x3da)]&&_0x5232dd<_0x3ffaf8[_0x4b996a(0x3da)]&&this[_0x4b996a(0x3dd)](_0x3ffaf8[_0x4b996a(0x2b7)],_0x5b9ed1,_0x8b713,_0x5232dd,'video');});}['detectAudioIssues'](_0x290458,_0x356fbb,_0xe2f089){const _0x32d3d1=_0x27a6cf;0x0!==_0xe2f089[_0x32d3d1(0x200)]&&_0x5f54c8['forEach'](_0x56e1d1=>{const _0x3dfd1e=_0x32d3d1,_0x467931=_0x56e1d1[_0x3dfd1e(0x6de)](_0xe2f089);_0x56e1d1[_0x3dfd1e(0x492)]&&_0x467931>_0x56e1d1[_0x3dfd1e(0x492)]&&this[_0x3dfd1e(0x3dd)](_0x56e1d1[_0x3dfd1e(0x2b7)],_0x290458,_0x356fbb,_0x467931,'audio'),_0x56e1d1[_0x3dfd1e(0x3da)]&&_0x467931<_0x56e1d1[_0x3dfd1e(0x3da)]&&this['addIssue'](_0x56e1d1[_0x3dfd1e(0x2b7)],_0x290458,_0x356fbb,_0x467931,_0x3dfd1e(0x284));});}[_0x27a6cf(0x3dd)](_0x62c91a,_0x11c4b0,_0x4ad6b7,_0x49937d,_0x3e2ca9){const _0x1193f9=_0x27a6cf;_0x20481a[_0x1193f9(0x517)](_0x5483cd['Detection'],_0x1193f9(0x272)+_0x62c91a,_0x62c91a,_0x49937d),_0x20481a['logEvent']('issue',{'clusterId':this[_0x1193f9(0x457)]['clusterId'],'nodeId':this[_0x1193f9(0x457)]['localNode']['getId'](),'nodeType':this['configs'][_0x1193f9(0x70b)][_0x1193f9(0x2b7)],'remoteId':_0x11c4b0,'data':{'type':_0x62c91a,'value':_0x49937d,'kind':_0x3e2ca9}}),this[_0x1193f9(0x2e6)]=this['issues'][_0x1193f9(0x57c)](_0xa07ac2=>Date[_0x1193f9(0x534)]()-_0xa07ac2[_0x1193f9(0x632)]<0x7530),this[_0x1193f9(0x2e6)]['push']({'timestamp':Date[_0x1193f9(0x534)](),'type':_0x62c91a,'nodeId':_0x11c4b0,'origin':_0x4ad6b7,'value':_0x49937d,'kind':_0x3e2ca9});const _0x4a4197=this[_0x1193f9(0x2e6)][_0x1193f9(0x57c)](_0x392568=>_0x392568[_0x1193f9(0x2b7)]===_0x62c91a&&_0x392568[_0x1193f9(0x286)]===_0x11c4b0&&_0x392568[_0x1193f9(0x2b6)]===_0x4ad6b7)[_0x1193f9(0x1d0)];this['detectProblems'](_0x62c91a,_0x11c4b0,_0x4ad6b7,_0x4a4197);}[_0x27a6cf(0x2dc)](_0x1a6b7d,_0x127489,_0x3bc54b){const _0x3217b9=_0x27a6cf;_0x20481a[_0x3217b9(0x517)](_0x5483cd[_0x3217b9(0x416)],_0x3217b9(0x618)+_0x1a6b7d),_0x20481a['logEvent'](_0x3217b9(0x2ea),{'clusterId':this[_0x3217b9(0x457)][_0x3217b9(0x698)],'nodeId':this[_0x3217b9(0x457)]['localNode'][_0x3217b9(0x4cd)](),'nodeType':this[_0x3217b9(0x457)][_0x3217b9(0x70b)][_0x3217b9(0x2b7)],'remoteId':_0x127489,'data':{'type':_0x1a6b7d}}),this[_0x3217b9(0x1d6)]?.['publish']({'sourceId':_0x554820,'messageType':_0x3421b2['Detection'],'content':{'type':_0x4489d2[_0x3217b9(0x22a)],'data':{'timestamp':Date['now'](),'nodeId':_0x127489,'origin':_0xf30543[_0x3217b9(0x5cf)],'type':_0x1a6b7d}}});}}class _0x44245d extends _0x16cf5b{['type']=_0x1176cc[_0x27a6cf(0x72f)]['Agent'];}class _0x5c6b53 extends _0x44245d{[_0x27a6cf(0x1d6)];[_0x27a6cf(0x1f5)]=Date[_0x27a6cf(0x534)]();[_0x27a6cf(0x21f)];['lastUpdated'];['close'](){const _0x4c4af4=_0x27a6cf;this[_0x4c4af4(0x21f)]&&(clearTimeout(this[_0x4c4af4(0x21f)]),delete this[_0x4c4af4(0x21f)]),delete this['lastUpdated'],this['currentVersion']=Date['now'](),super['close']();}[_0x27a6cf(0x6c0)](_0x46961a){const _0x401e87=_0x27a6cf;this[_0x401e87(0x1d6)]=_0x46961a;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x27a6cf(0x489)](_0x95dad9){const _0x222ae7=_0x27a6cf;!this[_0x222ae7(0x21f)]&&this[_0x222ae7(0x31f)]&&this[_0x222ae7(0x1d6)][_0x222ae7(0x4b0)]({'sourceId':this['id'],'destinationIds':[_0x95dad9],'propagate':!0x0,'messageType':_0x3421b2[_0x222ae7(0x3aa)],'content':{'type':_0x1c6aa9['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x222ae7(0x2b7)]},'rank':this['getRank'](),'remoteConnections':Array['from'](this['remoteConnections']),'version':this['currentVersion']}});}['addRemoteConnection'](_0x16011f){const _0x228584=_0x27a6cf;this['remoteConnections'][_0x228584(0x25a)](_0x16011f)||(this['remoteConnections'][_0x228584(0x74b)](_0x16011f),this['incrementVersion'](),this[_0x228584(0x610)](!0x0));}['removeRemoteConnection'](_0x52a5b5){const _0x1c0ed3=_0x27a6cf;this['remoteConnections'][_0x1c0ed3(0x25a)](_0x52a5b5)&&(this[_0x1c0ed3(0x2e3)][_0x1c0ed3(0x370)](_0x52a5b5),this[_0x1c0ed3(0x26f)](),this[_0x1c0ed3(0x610)](!0x0));}[_0x27a6cf(0x65b)](){const _0x5d4640=_0x27a6cf;return this[_0x5d4640(0x1f5)];}[_0x27a6cf(0x31a)](_0x46abc3,_0x982ec1=!0x0){const _0x43c294=_0x27a6cf;this[_0x43c294(0x31f)]!==_0x46abc3&&(this[_0x43c294(0x31f)]=_0x46abc3,_0x982ec1&&(this[_0x43c294(0x26f)](),this[_0x43c294(0x610)]()));}['incrementVersion'](){const _0x3ef654=_0x27a6cf;this['currentVersion']=Date[_0x3ef654(0x534)]();}[_0x27a6cf(0x610)](_0x48605f=!0x1){const _0x4a316e=_0x27a6cf;if(this[_0x4a316e(0x31f)]){if(this[_0x4a316e(0x1ca)]||(this[_0x4a316e(0x1ca)]=Date[_0x4a316e(0x534)]()),this[_0x4a316e(0x21f)]){if(Date[_0x4a316e(0x534)]()-this[_0x4a316e(0x1ca)]>0x2328)return;clearTimeout(this[_0x4a316e(0x21f)]);}this[_0x4a316e(0x21f)]=setTimeout(()=>{const _0x1fd205=_0x4a316e;delete this['lastUpdated'],delete this[_0x1fd205(0x21f)],this[_0x1fd205(0x1d6)][_0x1fd205(0x4b0)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3421b2['Node'],'content':{'type':_0x48605f?_0x1c6aa9[_0x1fd205(0x377)]:_0x1c6aa9[_0x1fd205(0x727)],'id':this['id'],'metaData':{'type':this['type']},'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x1fd205(0x2e3)]),'version':this[_0x1fd205(0x1f5)]}});},0x3e8);}}}class _0x23227b extends _0x432ef0{[_0x27a6cf(0x1d6)];[_0x27a6cf(0x1f5)]=Date[_0x27a6cf(0x534)]();[_0x27a6cf(0x21f)];[_0x27a6cf(0x1ca)];[_0x27a6cf(0x33d)](){const _0x3a5a54=_0x27a6cf;this[_0x3a5a54(0x21f)]&&(clearTimeout(this['updateDebounceTimeout']),delete this['updateDebounceTimeout']),delete this['lastUpdated'],this[_0x3a5a54(0x1f5)]=Date[_0x3a5a54(0x534)](),super[_0x3a5a54(0x33d)]();}['registerSystemPublisher'](_0x11198f){const _0x3bd464=_0x27a6cf;this[_0x3bd464(0x1d6)]=_0x11198f;}[_0x27a6cf(0x5b0)](){const _0x22e5f9=_0x27a6cf;delete this[_0x22e5f9(0x1d6)];}['answerJoin'](_0x4975d8){const _0x38ca7f=_0x27a6cf;!this[_0x38ca7f(0x21f)]&&this[_0x38ca7f(0x31f)]&&this[_0x38ca7f(0x1d6)]['publish']({'sourceId':this['id'],'destinationIds':[_0x4975d8],'propagate':!0x0,'messageType':_0x3421b2[_0x38ca7f(0x3aa)],'content':{'type':_0x1c6aa9[_0x38ca7f(0x727)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x38ca7f(0x311)](),'email':this['getEmail']()},'rank':this[_0x38ca7f(0x378)](),'remoteConnections':Array[_0x38ca7f(0x2fd)](this[_0x38ca7f(0x2e3)]),'version':this[_0x38ca7f(0x1f5)]}});}[_0x27a6cf(0x336)](_0x77a283){const _0x3d7279=_0x27a6cf;this[_0x3d7279(0x2e3)][_0x3d7279(0x25a)](_0x77a283)||(this['remoteConnections']['add'](_0x77a283),this[_0x3d7279(0x26f)](),this[_0x3d7279(0x610)](!0x0));}[_0x27a6cf(0x208)](_0x43d48c){const _0x4bc87b=_0x27a6cf;this['remoteConnections'][_0x4bc87b(0x25a)](_0x43d48c)&&(this['remoteConnections'][_0x4bc87b(0x370)](_0x43d48c),this[_0x4bc87b(0x26f)](),this['publishUserUpdate'](!0x0));}[_0x27a6cf(0x65b)](){const _0xfe77e2=_0x27a6cf;return this[_0xfe77e2(0x1f5)];}[_0x27a6cf(0x60b)](_0x5a72eb){const _0x40f1b4=_0x27a6cf;this[_0x40f1b4(0x474)]!==_0x5a72eb&&(this[_0x40f1b4(0x474)]=_0x5a72eb,this[_0x40f1b4(0x26f)](),this[_0x40f1b4(0x610)]());}['setEmail'](_0xd9666f){const _0x557689=_0x27a6cf;this[_0x557689(0x72e)]!==_0xd9666f&&(this['email']=_0xd9666f,this[_0x557689(0x26f)](),this[_0x557689(0x610)]());}[_0x27a6cf(0x31a)](_0x1add02,_0x3391ea=!0x0){const _0x4fad66=_0x27a6cf;this['rank']!==_0x1add02&&(this[_0x4fad66(0x31f)]=_0x1add02,_0x3391ea&&(this[_0x4fad66(0x26f)](),this['publishUserUpdate']()));}[_0x27a6cf(0x26f)](){const _0x2b4e58=_0x27a6cf;this[_0x2b4e58(0x1f5)]=Date['now']();}[_0x27a6cf(0x610)](_0x59a16b=!0x1){const _0x59adba=_0x27a6cf;if(this[_0x59adba(0x31f)]){if(this[_0x59adba(0x1ca)]||(this['lastUpdated']=Date[_0x59adba(0x534)]()),this['updateDebounceTimeout']){if(Date['now']()-this[_0x59adba(0x1ca)]>0x2328)return;clearTimeout(this[_0x59adba(0x21f)]);}this[_0x59adba(0x21f)]=setTimeout(()=>{const _0x231919=_0x59adba;delete this[_0x231919(0x1ca)],delete this[_0x231919(0x21f)],this[_0x231919(0x1d6)][_0x231919(0x4b0)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x3421b2['Node'],'content':{'type':_0x59a16b?_0x1c6aa9['NodeConnectionsUpdate']:_0x1c6aa9[_0x231919(0x727)],'id':this['id'],'metaData':{'type':this['type'],'displayName':this['getDisplayName'](),'email':this['getEmail']()},'rank':this[_0x231919(0x378)](),'remoteConnections':Array[_0x231919(0x2fd)](this[_0x231919(0x2e3)]),'version':this['currentVersion']}});},0x3e8);}}}!function(_0x4c96f7){const _0x2f04a5=_0x27a6cf;_0x4c96f7[_0x4c96f7[_0x2f04a5(0x4a3)]=0x0]=_0x2f04a5(0x4a3),_0x4c96f7[_0x4c96f7[_0x2f04a5(0x301)]=0x1]=_0x2f04a5(0x301);}(_0x4282e0||(_0x4282e0={}));class _0x613f17 extends _0x44245d{[_0x27a6cf(0x1f5)];[_0x27a6cf(0x740)]=_0x4282e0['Online'];[_0x27a6cf(0x1ca)]=Date[_0x27a6cf(0x534)]();constructor(_0x9cc439,_0x3f5d3e=new Set(),_0x22b8e0,_0x300fee){const _0x44c5d9=_0x27a6cf;super(_0x9cc439,_0x3f5d3e,_0x300fee),this[_0x44c5d9(0x1f5)]=_0x22b8e0;}[_0x27a6cf(0x65b)](){const _0xbe2d2c=_0x27a6cf;return this[_0xbe2d2c(0x1f5)];}[_0x27a6cf(0x5e0)](){const _0x58808a=_0x27a6cf;return this[_0x58808a(0x740)];}[_0x27a6cf(0x20a)](){const _0x3ba9e4=_0x27a6cf;return this[_0x3ba9e4(0x1ca)];}[_0x27a6cf(0x31a)](_0x41b17c){const _0xe76f40=_0x27a6cf;this['rank']!==_0x41b17c&&(this[_0xe76f40(0x31f)]=_0x41b17c,this[_0xe76f40(0x53a)]());}[_0x27a6cf(0x69b)](_0x4e08dc){const _0x3bcdcf=_0x27a6cf;let _0x3d7b67=!0x1;for(const _0x2a76c6 of this['remoteConnections'])_0x4e08dc['includes'](_0x2a76c6)||(_0x3d7b67=!0x0,this[_0x3bcdcf(0x2e3)][_0x3bcdcf(0x370)](_0x2a76c6));for(const _0x12143e of _0x4e08dc)this[_0x3bcdcf(0x2e3)]['has'](_0x12143e)||(_0x3d7b67=!0x0,this[_0x3bcdcf(0x2e3)][_0x3bcdcf(0x74b)](_0x12143e));_0x3d7b67&&this['updateLastUpdated']();}[_0x27a6cf(0x69f)](_0x13c70a){const _0x5125cf=_0x27a6cf;this[_0x5125cf(0x1f5)]!==_0x13c70a&&(this[_0x5125cf(0x1f5)]=_0x13c70a,this[_0x5125cf(0x53a)]());}[_0x27a6cf(0x5f2)](_0x2bd6a3){const _0x4abdd8=_0x27a6cf;this['status']!==_0x2bd6a3&&(this[_0x4abdd8(0x740)]=_0x2bd6a3,this[_0x4abdd8(0x53a)](),_0x2bd6a3===_0x4282e0[_0x4abdd8(0x301)]&&this[_0x4abdd8(0x33d)]());}[_0x27a6cf(0x53a)](){const _0x43c462=_0x27a6cf;this[_0x43c462(0x1ca)]=Date[_0x43c462(0x534)]();}}class _0x553b3e extends _0x432ef0{[_0x27a6cf(0x1f5)];[_0x27a6cf(0x740)]=_0x4282e0[_0x27a6cf(0x4a3)];[_0x27a6cf(0x1ca)]=Date['now']();constructor(_0xc7f136,_0xa46aca,_0x3e1a2a,_0x414434=new Set(),_0xb1295b,_0x38462a){const _0x308b11=_0x27a6cf;super(_0xc7f136,_0xa46aca,_0x3e1a2a,_0x414434,_0x38462a),this[_0x308b11(0x1f5)]=_0xb1295b;}[_0x27a6cf(0x65b)](){return this['currentVersion'];}['getStatus'](){const _0x3ac0ab=_0x27a6cf;return this[_0x3ac0ab(0x740)];}['getLastUpdated'](){const _0x1dd3d6=_0x27a6cf;return this[_0x1dd3d6(0x1ca)];}[_0x27a6cf(0x60b)](_0x211cd0){const _0x4e0341=_0x27a6cf;this['displayName']!==_0x211cd0&&(this[_0x4e0341(0x474)]=_0x211cd0,this['updateLastUpdated']());}['setEmail'](_0xdf7da0){const _0x16acab=_0x27a6cf;this[_0x16acab(0x72e)]!==_0xdf7da0&&(this['email']=_0xdf7da0,this[_0x16acab(0x53a)]());}[_0x27a6cf(0x31a)](_0x1d9249){const _0x905d61=_0x27a6cf;this[_0x905d61(0x31f)]!==_0x1d9249&&(this[_0x905d61(0x31f)]=_0x1d9249,this[_0x905d61(0x53a)]());}[_0x27a6cf(0x69b)](_0x2adf94){const _0x182f00=_0x27a6cf;let _0x4f7a75=!0x1;for(const _0x4376cc of this['remoteConnections'])_0x2adf94['includes'](_0x4376cc)||(_0x4f7a75=!0x0,this[_0x182f00(0x2e3)]['delete'](_0x4376cc));for(const _0xa01275 of _0x2adf94)this[_0x182f00(0x2e3)][_0x182f00(0x25a)](_0xa01275)||(_0x4f7a75=!0x0,this[_0x182f00(0x2e3)]['add'](_0xa01275));_0x4f7a75&&this[_0x182f00(0x53a)]();}[_0x27a6cf(0x69f)](_0x5c0f65){const _0x10d7f8=_0x27a6cf;this[_0x10d7f8(0x1f5)]!==_0x5c0f65&&(this['currentVersion']=_0x5c0f65,this[_0x10d7f8(0x53a)]());}['setStatus'](_0x3ccd6f){const _0x495c73=_0x27a6cf;this[_0x495c73(0x740)]!==_0x3ccd6f&&(this['status']=_0x3ccd6f,this[_0x495c73(0x53a)](),_0x3ccd6f===_0x4282e0['Offline']&&this[_0x495c73(0x33d)]());}[_0x27a6cf(0x53a)](){const _0x3c2303=_0x27a6cf;this[_0x3c2303(0x1ca)]=Date[_0x3c2303(0x534)]();}}class _0x362fd2{[_0x27a6cf(0x25f)];[_0x27a6cf(0x698)];[_0x27a6cf(0x70b)];[_0x27a6cf(0x50d)];['disconnectCallback']=_0xc40b89();['firebaseUnsubscriber'];[_0x27a6cf(0x1a2)];['onDisconnectHandler'];[_0x27a6cf(0x351)]=!0x1;['clusterKey'];[_0x27a6cf(0x4df)];constructor(_0x7ab923,_0x46df1d,_0x17abd9,_0x21f8ac){const _0x3423e0=_0x27a6cf;this[_0x3423e0(0x25f)]=_0x7ab923,this[_0x3423e0(0x698)]=_0x46df1d,this[_0x3423e0(0x70b)]=_0x17abd9,this[_0x3423e0(0x50d)]=_0x21f8ac,this[_0x3423e0(0x5b9)]=_0x3423e0(0x449)+this[_0x3423e0(0x25f)]+'ccc'+this[_0x3423e0(0x698)],this[_0x3423e0(0x4df)]=_0x3423e0(0x449)+this[_0x3423e0(0x25f)]+_0x3423e0(0x449)+this['localNode']['getId'](),this[_0x3423e0(0x268)]=(0x0,_0x554ba6[_0x3423e0(0x220)])((0x0,_0x554ba6[_0x3423e0(0x335)])(_0x1f229f[_0x3423e0(0x4ab)](),'.info/connected'),_0x16b1c0=>{const _0x14a677=_0x3423e0;!0x0!==_0x16b1c0['val']()?this[_0x14a677(0x351)]&&_0x20481a[_0x14a677(0x1ab)](_0x14a677(0x57f),{'clusterId':this[_0x14a677(0x698)],'nodeId':this[_0x14a677(0x70b)][_0x14a677(0x4cd)](),'nodeType':this['localNode'][_0x14a677(0x2b7)]}):(this['connected']=!0x0,this[_0x14a677(0x72b)](),_0x20481a[_0x14a677(0x56d)](_0x14a677(0x329),{'clusterId':this[_0x14a677(0x698)],'nodeId':this[_0x14a677(0x70b)]['getId'](),'nodeType':this['localNode'][_0x14a677(0x2b7)]}));});}async[_0x27a6cf(0x4ff)](){const _0x482ec5=_0x27a6cf;await this[_0x482ec5(0x54c)]();const _0x307a18=await this[_0x482ec5(0x414)]();return this[_0x482ec5(0x1a2)]=(0x0,_0x554ba6[_0x482ec5(0x299)])((0x0,_0x554ba6['ref'])(_0x1f229f[_0x482ec5(0x4ab)](),_0x482ec5(0x411)+this[_0x482ec5(0x5b9)]+_0x482ec5(0x277)),_0x5e51e7=>{const _0x12ff6e=_0x482ec5,_0x2d888d=_0x5e51e7[_0x12ff6e(0x49a)];if(!_0x2d888d)return;const _0x26e01d=_0x2d888d[_0x12ff6e(0x635)](_0x12ff6e(0x449)+this[_0x12ff6e(0x25f)]+_0x12ff6e(0x449),'');this[_0x12ff6e(0x6fd)][_0x12ff6e(0x4b0)](_0x26e01d);}),_0x307a18;}async[_0x27a6cf(0x33d)](){const _0x4e7ec0=_0x27a6cf;this[_0x4e7ec0(0x1a2)]?.(),delete this[_0x4e7ec0(0x1a2)],this[_0x4e7ec0(0x4fe)]?.[_0x4e7ec0(0x660)](),delete this[_0x4e7ec0(0x4fe)],this[_0x4e7ec0(0x268)]?.(),delete this[_0x4e7ec0(0x268)],await(0x0,_0x554ba6[_0x4e7ec0(0x550)])((0x0,_0x554ba6['ref'])(_0x1f229f[_0x4e7ec0(0x4ab)](),'clusters/'+this[_0x4e7ec0(0x5b9)]+'/nodes/'+this[_0x4e7ec0(0x4df)]));}[_0x27a6cf(0x2c0)](_0x2b6010){const _0x5299f8=_0x27a6cf;return this[_0x5299f8(0x6fd)][_0x5299f8(0x290)](_0x2b6010);}async[_0x27a6cf(0x414)](){const _0x303255=_0x27a6cf,_0xee4cd=[],_0x368c38=await(0x0,_0x554ba6[_0x303255(0x1d2)])((0x0,_0x554ba6[_0x303255(0x335)])(_0x1f229f[_0x303255(0x4ab)](),_0x303255(0x411)+this['clusterKey']+_0x303255(0x277))),_0x5230cf=[];return _0x368c38[_0x303255(0x469)](_0x595581=>{const _0x23b9ee=_0x303255,_0x5599d4=_0x595581[_0x23b9ee(0x49a)]?.['replace'](_0x23b9ee(0x449)+this[_0x23b9ee(0x25f)]+_0x23b9ee(0x449),'');_0x5230cf[_0x23b9ee(0x647)]({'id':_0x5599d4,'joinedAt':_0x595581['val']()[_0x23b9ee(0x61e)],'priority':_0x595581[_0x23b9ee(0x589)]()[_0x23b9ee(0x2fe)]});}),_0x5230cf[_0x303255(0x389)]((_0x586091,_0x217564)=>_0x586091[_0x303255(0x61e)]===_0x217564[_0x303255(0x61e)]?_0x586091[_0x303255(0x2fe)]-_0x217564[_0x303255(0x2fe)]:_0x586091[_0x303255(0x61e)]-_0x217564[_0x303255(0x61e)])[_0x303255(0x4c0)](_0x5230cf[_0x303255(0x58f)](_0x232eaf=>_0x232eaf['id']===this[_0x303255(0x70b)][_0x303255(0x4cd)]())),_0x5230cf[_0x303255(0x389)]((_0x2ed32d,_0x1fa64b)=>_0x1fa64b[_0x303255(0x61e)]===_0x2ed32d['joinedAt']?_0x1fa64b[_0x303255(0x2fe)]-_0x2ed32d[_0x303255(0x2fe)]:_0x1fa64b[_0x303255(0x61e)]-_0x2ed32d['joinedAt'])[_0x303255(0x469)](_0x3dada9=>{const _0x2cac95=_0x303255;_0xee4cd[_0x2cac95(0x1d0)]>=this[_0x2cac95(0x50d)]||_0xee4cd[_0x2cac95(0x647)](_0x3dada9['id']);}),_0x20481a[_0x303255(0x639)](_0x303255(0x646),{'clusterId':this[_0x303255(0x698)],'nodeId':this['localNode'][_0x303255(0x4cd)](),'nodeType':this[_0x303255(0x70b)][_0x303255(0x2b7)],'data':{'ancestorIds':_0xee4cd,'allNodes':_0x5230cf}}),_0xee4cd;}async[_0x27a6cf(0x54c)](){const _0x14bd90=_0x27a6cf;await(0x0,_0x554ba6['set'])((0x0,_0x554ba6[_0x14bd90(0x335)])(_0x1f229f[_0x14bd90(0x4ab)](),'clusters/'+this[_0x14bd90(0x5b9)]+_0x14bd90(0x5d7)+this[_0x14bd90(0x4df)]),{'joinedAt':(0x0,_0x554ba6['serverTimestamp'])(),'priority':Math[_0x14bd90(0x434)]()});}[_0x27a6cf(0x72b)](){const _0x4e1a5c=_0x27a6cf;this[_0x4e1a5c(0x4fe)]&&this['onDisconnectHandler'][_0x4e1a5c(0x660)](),this[_0x4e1a5c(0x4fe)]=(0x0,_0x554ba6[_0x4e1a5c(0x525)])((0x0,_0x554ba6[_0x4e1a5c(0x335)])(_0x1f229f[_0x4e1a5c(0x4ab)](),_0x4e1a5c(0x411)+this['clusterKey']+_0x4e1a5c(0x5d7)+this[_0x4e1a5c(0x4df)])),this[_0x4e1a5c(0x4fe)][_0x4e1a5c(0x550)]();}}class _0x322b4d{[_0x27a6cf(0x457)];['graphService'];['localNode'];[_0x27a6cf(0x1d7)];[_0x27a6cf(0x497)];[_0x27a6cf(0x412)];['ancestors']=[];[_0x27a6cf(0x1d6)];[_0x27a6cf(0x3cc)]=new Map();[_0x27a6cf(0x210)];['lastProcessRank'];constructor(_0x1662b0,_0x29f482,_0x656c7d){const _0x50255e=_0x27a6cf;this[_0x50255e(0x457)]=_0x1662b0,this[_0x50255e(0x51a)]=_0x29f482,this['localNode']=_0x656c7d,this[_0x50255e(0x497)]=new _0x362fd2(this[_0x50255e(0x457)][_0x50255e(0x25f)],this[_0x50255e(0x457)]['clusterId'],this['localNode'],this['graphService'][_0x50255e(0x5db)]()),this[_0x50255e(0x412)]=this['discoveryService'][_0x50255e(0x2c0)](this[_0x50255e(0x37e)]['bind'](this)),this[_0x50255e(0x457)][_0x50255e(0x652)][_0x50255e(0x3ef)](this['localNode']),this['configs'][_0x50255e(0x652)][_0x50255e(0x3ef)](this),this[_0x50255e(0x1d7)]=_0x199808[_0x50255e(0x231)](()=>{const _0x41f1b6=_0x50255e,_0x885788=Date[_0x41f1b6(0x534)]();this[_0x41f1b6(0x51a)][_0x41f1b6(0x620)]()[_0x41f1b6(0x469)](_0x3025fd=>{const _0x31b967=_0x41f1b6;_0x3025fd[_0x31b967(0x5e0)]()===_0x4282e0[_0x31b967(0x301)]&&_0x3025fd[_0x31b967(0x20a)]()<_0x885788-0x493e0&&this[_0x31b967(0x51a)][_0x31b967(0x5af)](_0x3025fd[_0x31b967(0x4cd)]());});},0xea60);}[_0x27a6cf(0x6c0)](_0x22a6c1){this['systemTopic']=_0x22a6c1;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x27a6cf(0x33d)](){const _0xcc48db=_0x27a6cf;this[_0xcc48db(0x210)]&&(clearTimeout(this[_0xcc48db(0x210)]),delete this[_0xcc48db(0x210)]),delete this['lastProcessRank'],this[_0xcc48db(0x70b)]['close'](),this[_0xcc48db(0x1d7)](),this[_0xcc48db(0x412)](),this['configs']['mediator'][_0xcc48db(0x1cc)](this['localNode']),this['configs'][_0xcc48db(0x652)]['unregisterSystemSource'](this),this[_0xcc48db(0x497)][_0xcc48db(0x33d)]();}[_0x27a6cf(0x63a)](){const _0x5b79f4=_0x27a6cf;return this[_0x5b79f4(0x461)];}[_0x27a6cf(0x664)](){const _0x286618=_0x27a6cf;return this[_0x286618(0x70b)]['getId']();}[_0x27a6cf(0x59c)](){const _0x11963f=_0x27a6cf;return this[_0x11963f(0x70b)];}['getRemoteNodes'](_0x4ac3a8){const _0x351476=_0x27a6cf,_0x41213d=Array['from'](this[_0x351476(0x51a)][_0x351476(0x620)]()[_0x351476(0x2f6)]())['filter'](_0x425d9a=>_0x425d9a['getStatus']()===_0x4282e0[_0x351476(0x4a3)]);return _0x4ac3a8?_0x41213d[_0x351476(0x57c)](_0x4ac3a8):_0x41213d;}async[_0x27a6cf(0x646)](){const _0x4865bb=_0x27a6cf;return this['ancestors']=await this[_0x4865bb(0x497)][_0x4865bb(0x4ff)](),this[_0x4865bb(0x461)][_0x4865bb(0x1d0)]<this['graphService'][_0x4865bb(0x5db)]()&&(this[_0x4865bb(0x70b)][_0x4865bb(0x31a)](this[_0x4865bb(0x461)][_0x4865bb(0x1d0)]+0x1),this[_0x4865bb(0x29a)]()),this[_0x4865bb(0x461)];}[_0x27a6cf(0x252)](_0x2b64bc,_0x4e37e9){const _0x5c64a4=_0x27a6cf,_0x3740af=this[_0x5c64a4(0x70b)][_0x5c64a4(0x6d5)](),_0x4a7fe1=new Set(_0x3740af),_0x86682f=Array[_0x5c64a4(0x2fd)](_0x3740af)[_0x5c64a4(0x57c)](_0x2e3d6c=>_0x2e3d6c!==_0x2b64bc)[_0x5c64a4(0x5d9)](_0x9e509f=>({'id':_0x9e509f,'distance':0x1}));for(;_0x86682f[_0x5c64a4(0x1d0)]>0x0;){const _0x5202f8=_0x86682f['shift']();if(!_0x5202f8)continue;if(_0x5202f8['id']===_0x4e37e9)return _0x5202f8['distance'];const _0x2b8968=this['graphService']['getRemoteNode'](_0x5202f8['id']);_0x2b8968&&_0x2b8968[_0x5c64a4(0x5e0)]()!==_0x4282e0[_0x5c64a4(0x301)]&&_0x2b8968[_0x5c64a4(0x6d5)]()['forEach'](_0x5f3a49=>{const _0x51852b=_0x5c64a4;_0x4a7fe1[_0x51852b(0x25a)](_0x5f3a49)||(_0x4a7fe1['add'](_0x5f3a49),_0x86682f[_0x51852b(0x647)]({'id':_0x5f3a49,'distance':_0x5202f8['distance']+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x48695e){const _0x4cf19a=_0x27a6cf;try{switch(_0x48695e[_0x4cf19a(0x5d4)][_0x4cf19a(0x2b7)]){case _0x1c6aa9[_0x4cf19a(0x727)]:case _0x1c6aa9[_0x4cf19a(0x377)]:this[_0x4cf19a(0x1dc)](_0x48695e[_0x4cf19a(0x5d4)]),_0x20481a[_0x4cf19a(0x517)](_0x5483cd[_0x4cf19a(0x3aa)],'NodeManager\x20-\x20NodeUpdate','\x27'+this['localNode'][_0x4cf19a(0x4cd)]()+',\x20'+_0x48695e[_0x4cf19a(0x552)]+'\x27',_0x48695e,_0x48695e[_0x4cf19a(0x5d4)]);break;case _0x1c6aa9['NodeLeave']:this[_0x4cf19a(0x1a1)](_0x48695e[_0x4cf19a(0x5d4)]['id']),_0x20481a[_0x4cf19a(0x517)](_0x5483cd['Node'],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x4cf19a(0x70b)][_0x4cf19a(0x4cd)]()+',\x20'+_0x48695e[_0x4cf19a(0x552)]+'\x27',_0x48695e,_0x48695e[_0x4cf19a(0x5d4)]);}}catch(_0x12828f){if(_0x12828f instanceof _0x5afd36)return void _0x20481a[_0x4cf19a(0x517)](_0x5483cd[_0x4cf19a(0x3aa)],_0x12828f['message']);throw _0x12828f;}}[_0x27a6cf(0x36a)](_0x2e6a45){const _0x17b8da=_0x27a6cf;switch(_0x2e6a45[_0x17b8da(0x5d4)]['type']){case _0x1ffd7c[_0x17b8da(0x453)]:this[_0x17b8da(0x3ea)](_0x2e6a45[_0x17b8da(0x552)]),_0x20481a['log'](_0x5483cd['Node'],_0x17b8da(0x384),'\x27'+this[_0x17b8da(0x70b)][_0x17b8da(0x4cd)]()+',\x20'+_0x2e6a45[_0x17b8da(0x552)]+'\x27',_0x2e6a45,_0x2e6a45['content']);break;case _0x1ffd7c[_0x17b8da(0x349)]:this[_0x17b8da(0x714)](_0x2e6a45[_0x17b8da(0x552)]),_0x20481a[_0x17b8da(0x517)](_0x5483cd[_0x17b8da(0x3aa)],_0x17b8da(0x29f),this[_0x17b8da(0x70b)][_0x17b8da(0x4cd)](),_0x2e6a45,_0x2e6a45[_0x17b8da(0x5d4)]);}}[_0x27a6cf(0x1a0)](_0x24bb74){const _0x3e50f2=_0x27a6cf;this[_0x3e50f2(0x427)](_0x24bb74),this[_0x3e50f2(0x609)](_0x24bb74);}[_0x27a6cf(0x609)](_0x165f1f){const _0x4b6a0a=_0x27a6cf;this[_0x4b6a0a(0x70b)][_0x4b6a0a(0x489)](_0x165f1f['id']),this[_0x4b6a0a(0x3c3)](_0x165f1f['id']),this[_0x4b6a0a(0x294)](_0x165f1f);}['handleNodeUpdate'](_0x3681a7){const _0x2f1ff=_0x27a6cf,{id:_0x1f4e41,metaData:_0x4cb13f,rank:_0xbfb5b6,remoteConnections:_0x5127ea,version:_0x350e22}=_0x3681a7,_0x25ebcf=this[_0x2f1ff(0x51a)]['getRemoteNode'](_0x1f4e41);if(_0x25ebcf){if(!(_0x350e22<=_0x25ebcf['getCurrentVersion']())){if(_0x25ebcf[_0x2f1ff(0x69b)](_0x5127ea),_0x25ebcf[_0x2f1ff(0x69f)](_0x350e22),_0x25ebcf[_0x2f1ff(0x2b7)]===_0x1176cc['NodeType'][_0x2f1ff(0x4d1)]&&_0x4cb13f[_0x2f1ff(0x2b7)]===_0x1176cc[_0x2f1ff(0x72f)][_0x2f1ff(0x4d1)]&&(_0x25ebcf['setDisplayName'](_0x4cb13f[_0x2f1ff(0x474)]),_0x25ebcf[_0x2f1ff(0x6ec)](_0x4cb13f[_0x2f1ff(0x72e)])),_0xbfb5b6&&_0x25ebcf[_0x2f1ff(0x31a)](_0xbfb5b6),this['setLocalRank'](_0x1f4e41,_0xbfb5b6),_0x25ebcf[_0x2f1ff(0x5e0)]()===_0x4282e0['Offline'])return _0x25ebcf[_0x2f1ff(0x5f2)](_0x4282e0['Online']),this[_0x2f1ff(0x29a)](),void this[_0x2f1ff(0x609)](_0x3681a7);this[_0x2f1ff(0x29a)](),this['notifyClusterNodeUpdate']({'id':_0x1f4e41,'metaData':_0x4cb13f,'remoteConnections':_0x5127ea,'version':_0x350e22});}}else this[_0x2f1ff(0x1a0)](_0x3681a7);}[_0x27a6cf(0x6dc)](_0x11c325,_0x10efc2){const _0x2e3d6a=_0x27a6cf;_0x10efc2&&this[_0x2e3d6a(0x461)]['includes'](_0x11c325)&&this[_0x2e3d6a(0x70b)][_0x2e3d6a(0x31a)](_0x10efc2+this['ancestors'][_0x2e3d6a(0x5f8)](_0x11c325)+0x1);}[_0x27a6cf(0x3ea)](_0x2a485a){const _0x43ee64=_0x27a6cf;this[_0x43ee64(0x70b)]['addRemoteConnection'](_0x2a485a);}[_0x27a6cf(0x427)]({id:_0x447b07,metaData:_0x69a3b2,rank:_0x25dce8,remoteConnections:_0x29791b,version:_0x18fae9}){const _0x5e96a2=_0x27a6cf;if(this[_0x5e96a2(0x51a)]['hasRemoteNode'](_0x447b07))throw new _0x5afd36(_0x5e96a2(0x655)+_0x447b07);switch(_0x69a3b2[_0x5e96a2(0x2b7)]){case _0x1176cc[_0x5e96a2(0x72f)]['User']:const {displayName:_0x48f964,email:_0x5421a8}=_0x69a3b2;this[_0x5e96a2(0x51a)]['setRemoteNode'](_0x447b07,new _0x553b3e(_0x447b07,_0x48f964,_0x5421a8,new Set(_0x29791b),_0x18fae9,_0x25dce8));break;case _0x1176cc[_0x5e96a2(0x72f)][_0x5e96a2(0x2f3)]:this[_0x5e96a2(0x51a)][_0x5e96a2(0x692)](_0x447b07,new _0x613f17(_0x447b07,new Set(_0x29791b),_0x18fae9,_0x25dce8));}this[_0x5e96a2(0x6dc)](_0x447b07,_0x25dce8),this[_0x5e96a2(0x29a)]();}[_0x27a6cf(0x3c3)](_0x181cf8){const _0x4c23ef=_0x27a6cf;this['systemTopic'][_0x4c23ef(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x4c23ef(0x3aa)],'content':{'type':_0x1c6aa9['NodeJoin'],'id':_0x181cf8}});}[_0x27a6cf(0x714)](_0x343bfe){const _0x5b1fee=_0x27a6cf;this[_0x5b1fee(0x1d6)]?.['publish']({'sourceId':_0x554820,'messageType':_0x3421b2[_0x5b1fee(0x3aa)],'content':{'type':_0x1c6aa9[_0x5b1fee(0x375)],'id':_0x343bfe}});}[_0x27a6cf(0x37e)](_0x369ab0){const _0x1569d4=_0x27a6cf;if(_0x369ab0===this[_0x1569d4(0x70b)][_0x1569d4(0x4cd)]())return this['configs'][_0x1569d4(0x652)][_0x1569d4(0x35d)](_0x1569d4(0x57b),{'id':_0x369ab0}),this[_0x1569d4(0x457)][_0x1569d4(0x652)][_0x1569d4(0x33d)](!0x0),this[_0x1569d4(0x457)][_0x1569d4(0x652)][_0x1569d4(0x279)](),void this[_0x1569d4(0x457)]['mediator']['initialize']();this[_0x1569d4(0x714)](_0x369ab0);}[_0x27a6cf(0x1a1)](_0x3d19ae){const _0xb1790e=_0x27a6cf;this['ancestors'][_0xb1790e(0x607)](_0x3d19ae)?this[_0xb1790e(0x703)](_0x3d19ae):this[_0xb1790e(0x70b)][_0xb1790e(0x6d5)]()[_0xb1790e(0x25a)](_0x3d19ae)&&this[_0xb1790e(0x408)](_0x3d19ae),this[_0xb1790e(0x70b)][_0xb1790e(0x208)](_0x3d19ae);const _0x4cf584=Array[_0xb1790e(0x2fd)](this[_0xb1790e(0x3cc)][_0xb1790e(0x594)]())['find'](([,_0x1160aa])=>_0x1160aa==_0x1160aa);_0x4cf584&&this[_0xb1790e(0x3cc)][_0xb1790e(0x370)](_0x4cf584[0x0]);const _0x2f9459=this[_0xb1790e(0x51a)][_0xb1790e(0x6e9)](_0x3d19ae);if(!_0x2f9459)return;const _0x1a5a90=_0x2f9459[_0xb1790e(0x378)](),_0x33abd8=this['localNode']['getRank']();_0x33abd8&&_0x1a5a90&&_0x1a5a90<_0x33abd8&&this[_0xb1790e(0x70b)][_0xb1790e(0x31a)](_0x33abd8-0x1,!0x1),Array['from'](this['graphService'][_0xb1790e(0x620)]()[_0xb1790e(0x2f6)]())[_0xb1790e(0x469)](_0x52447b=>{const _0x202e1a=_0xb1790e,_0x3bffe3=_0x52447b['getRank']();_0x3bffe3&&_0x1a5a90&&_0x1a5a90<_0x3bffe3&&_0x52447b[_0x202e1a(0x31a)](_0x3bffe3-0x1);}),_0x2f9459['setStatus'](_0x4282e0[_0xb1790e(0x301)]),this[_0xb1790e(0x457)][_0xb1790e(0x652)][_0xb1790e(0x35d)](_0x2f9459[_0xb1790e(0x2b7)]+_0xb1790e(0x699),{'id':_0x3d19ae});}['notifyClusterNodeJoin']({id:_0x46c43a,metaData:_0xe581a5,remoteConnections:_0x898b8}){const _0x26ea3e=_0x27a6cf;switch(_0xe581a5['type']){case _0x1176cc[_0x26ea3e(0x72f)][_0x26ea3e(0x4d1)]:this[_0x26ea3e(0x457)][_0x26ea3e(0x652)][_0x26ea3e(0x35d)](_0x26ea3e(0x64a),{'id':_0x46c43a,'metaData':_0xe581a5,'remoteConnections':_0x898b8});break;case _0x1176cc[_0x26ea3e(0x72f)]['Agent']:this['configs'][_0x26ea3e(0x652)][_0x26ea3e(0x35d)](_0x26ea3e(0x67e),{'id':_0x46c43a,'metaData':_0xe581a5,'remoteConnections':_0x898b8});}}[_0x27a6cf(0x314)]({id:_0x51722a,metaData:_0x3faa90,remoteConnections:_0x40c374}){const _0x27aec5=_0x27a6cf;switch(_0x3faa90[_0x27aec5(0x2b7)]){case _0x1176cc[_0x27aec5(0x72f)][_0x27aec5(0x4d1)]:this[_0x27aec5(0x457)][_0x27aec5(0x652)][_0x27aec5(0x35d)]('user-update',{'id':_0x51722a,'metaData':_0x3faa90,'remoteConnections':_0x40c374});break;case _0x1176cc[_0x27aec5(0x72f)][_0x27aec5(0x2f3)]:this[_0x27aec5(0x457)][_0x27aec5(0x652)][_0x27aec5(0x35d)]('agent-update',{'id':_0x51722a,'metaData':_0x3faa90,'remoteConnections':_0x40c374});}}[_0x27a6cf(0x29a)](){const _0x54f2a8=_0x27a6cf;if(this[_0x54f2a8(0x6a5)]||(this[_0x54f2a8(0x6a5)]=Date[_0x54f2a8(0x534)]()),this[_0x54f2a8(0x210)]){if(Date[_0x54f2a8(0x534)]()-this[_0x54f2a8(0x6a5)]>0x2328)return;clearTimeout(this['debounceProcessRank']);}this[_0x54f2a8(0x210)]=setTimeout(async()=>{const _0x422d67=_0x54f2a8;delete this[_0x422d67(0x6a5)],delete this['debounceProcessRank'];const _0x1a4a78=this['localNode'][_0x422d67(0x378)]();if(!_0x1a4a78)return;const _0x4b3045=this[_0x422d67(0x51a)][_0x422d67(0x4c5)](this['graphService']['getRemoteNodes']()['size']);if(this[_0x422d67(0x3cc)][_0x422d67(0x1e6)]>=_0x4b3045)return;let _0x4b519a=0x1;for(;this[_0x422d67(0x457)]['mediator'][_0x422d67(0x1f8)]()[_0x422d67(0x1d0)]<this[_0x422d67(0x51a)][_0x422d67(0x1ac)]()&&_0x4b519a<=_0x4b3045;){if(this[_0x422d67(0x3cc)][_0x422d67(0x25a)](_0x4b519a)){_0x4b519a+=0x1;continue;}const _0x4d7ddf=this[_0x422d67(0x51a)][_0x422d67(0x67f)](_0x1a4a78,_0x4b519a),_0x51c415=Array[_0x422d67(0x2fd)](this[_0x422d67(0x51a)][_0x422d67(0x620)]()[_0x422d67(0x2f6)]())[_0x422d67(0x613)](_0x385df5=>_0x385df5['getRank']()===_0x4d7ddf&&_0x385df5[_0x422d67(0x5e0)]()===_0x4282e0[_0x422d67(0x4a3)]);if(_0x51c415){try{await this[_0x422d67(0x457)]['mediator'][_0x422d67(0x2df)](_0x51c415[_0x422d67(0x4cd)](),_0x3ecb35[_0x422d67(0x291)]),this[_0x422d67(0x3cc)][_0x422d67(0x734)](_0x4b519a,_0x51c415[_0x422d67(0x4cd)]());}catch(_0x4f7e46){if(!(_0x4f7e46 instanceof _0x2d2d59&&_0x4f7e46[_0x422d67(0x6cc)]===_0x2d2d59['codes'][_0x422d67(0x4cf)]))throw _0x4f7e46;_0x20481a[_0x422d67(0x517)](_0x5483cd[_0x422d67(0x3aa)],this[_0x422d67(0x70b)]['getId'](),_0x51c415[_0x422d67(0x4cd)](),_0x4f7e46[_0x422d67(0x6a8)]);}_0x4b519a+=0x1;}else _0x4b519a+=0x1;}},0x3e8);}async['manageAncestor'](_0x18e8bb){const _0x4af610=_0x27a6cf;this[_0x4af610(0x461)][_0x4af610(0x4c0)](this[_0x4af610(0x461)]['indexOf'](_0x18e8bb),0x1);const _0x43899f=await this[_0x4af610(0x497)]['getAncestors']();for(const _0x2f4c14 of _0x43899f)if(!this[_0x4af610(0x461)][_0x4af610(0x607)](_0x2f4c14)){const _0x376c05=Array[_0x4af610(0x2fd)](this[_0x4af610(0x3cc)][_0x4af610(0x594)]())['find'](([,_0x1661ca])=>_0x1661ca===_0x2f4c14);_0x376c05&&this[_0x4af610(0x3cc)][_0x4af610(0x370)](_0x376c05[0x0]),this[_0x4af610(0x457)]['mediator'][_0x4af610(0x2df)](_0x2f4c14,_0x3ecb35[_0x4af610(0x4a9)]);}0x0===_0x43899f[_0x4af610(0x1d0)]&&this[_0x4af610(0x70b)][_0x4af610(0x31a)](0x1),this[_0x4af610(0x461)]=_0x43899f;}async['manageOptimization'](_0x206a38){const _0x29997c=_0x27a6cf,_0x38b1f6=this[_0x29997c(0x70b)][_0x29997c(0x378)]();if(!_0x38b1f6)return;const _0x5dd33f=this['graphService'][_0x29997c(0x6e9)](_0x206a38);if(!_0x5dd33f||_0x5dd33f[_0x29997c(0x5e0)]()===_0x4282e0[_0x29997c(0x301)])return;const _0x4b3baa=_0x5dd33f[_0x29997c(0x378)]();if(!_0x4b3baa||_0x4b3baa<_0x38b1f6)return;const _0x11d176=this[_0x29997c(0x49d)](this['localNode'][_0x29997c(0x6d5)](),_0x38b1f6),_0x11740d=this[_0x29997c(0x49d)](_0x5dd33f[_0x29997c(0x6d5)](),_0x4b3baa)[_0x11d176[_0x29997c(0x58f)](([_0x5d8c6e])=>_0x5d8c6e===_0x206a38)];if(!_0x11740d||this['localNode'][_0x29997c(0x6d5)]()[_0x29997c(0x25a)](_0x11740d[0x0]))return;const _0x3377cb=this[_0x29997c(0x51a)][_0x29997c(0x6e9)](_0x11740d[0x0]);if(_0x3377cb&&_0x3377cb['getStatus']()!==_0x4282e0[_0x29997c(0x301)])try{await this[_0x29997c(0x457)][_0x29997c(0x652)][_0x29997c(0x2df)](_0x11740d[0x0],_0x3ecb35[_0x29997c(0x291)]);const _0x2bb798=Array['from'](this[_0x29997c(0x3cc)]['entries']())[_0x29997c(0x613)](([,_0x266912])=>_0x266912===_0x206a38);_0x2bb798&&this[_0x29997c(0x3cc)][_0x29997c(0x734)](_0x2bb798[0x0],_0x11740d[0x0]);}catch(_0x4dfeae){if(!(_0x4dfeae instanceof _0x2d2d59&&_0x4dfeae[_0x29997c(0x6cc)]===_0x2d2d59[_0x29997c(0x49c)][_0x29997c(0x4cf)]))throw _0x4dfeae;_0x20481a[_0x29997c(0x517)](_0x5483cd[_0x29997c(0x3aa)],this[_0x29997c(0x70b)]['getId'](),_0x11740d[0x0],_0x4dfeae['message']);}}['getOutgoingOptimizationConnections'](_0x51239b,_0x5927eb){const _0x1a9d78=_0x27a6cf;return Array[_0x1a9d78(0x2fd)](_0x51239b)['reduce']((_0x3dfdff,_0x53a841)=>{const _0x3cac61=_0x1a9d78,_0x54d35c=this[_0x3cac61(0x51a)][_0x3cac61(0x6e9)](_0x53a841);if(!_0x54d35c||_0x54d35c['getStatus']()===_0x4282e0[_0x3cac61(0x301)])return _0x3dfdff;const _0x4738e5=_0x54d35c[_0x3cac61(0x378)]();if(!_0x4738e5)return _0x3dfdff;const _0xa3958a=_0x4738e5-_0x5927eb;return _0xa3958a<=this[_0x3cac61(0x51a)][_0x3cac61(0x5db)]()||_0x3dfdff[_0x3cac61(0x647)]([_0x53a841,_0xa3958a]),_0x3dfdff;},[])[_0x1a9d78(0x389)](([,_0x180125],[,_0x556a2c])=>_0x180125-_0x556a2c);}}const _0xa6354a=[{'problemType':_0x192400['CPUCycle'],'remediations':[{'type':_0x6e3577[_0x27a6cf(0x2a3)],'component':_0xc3de87[_0x27a6cf(0x5fa)],'action':_0x86405e[_0x27a6cf(0x53f)]},{'type':_0x6e3577[_0x27a6cf(0x4a2)],'component':_0xc3de87[_0x27a6cf(0x5fa)],'action':_0x86405e[_0x27a6cf(0x53f)]}]},{'problemType':_0x192400[_0x27a6cf(0x296)],'remediations':[{'type':_0x6e3577[_0x27a6cf(0x2a3)],'component':_0xc3de87[_0x27a6cf(0x5fa)],'action':_0x86405e[_0x27a6cf(0x53f)]}]},{'problemType':_0x192400[_0x27a6cf(0x36e)],'remediations':[{'type':_0x6e3577[_0x27a6cf(0x2a3)],'component':_0xc3de87['Resolution'],'action':_0x86405e[_0x27a6cf(0x53f)]}]},{'problemType':_0x192400[_0x27a6cf(0x3a8)],'remediations':[{'type':_0x6e3577[_0x27a6cf(0x2a3)],'component':_0xc3de87[_0x27a6cf(0x5fa)],'action':_0x86405e['Downgrade']}]},{'problemType':_0x192400[_0x27a6cf(0x625)],'remediations':[{'type':_0x6e3577[_0x27a6cf(0x2a3)],'component':_0xc3de87[_0x27a6cf(0x625)],'action':_0x86405e['Downgrade']}]},{'problemType':_0x192400['Jitter'],'remediations':[{'type':_0x6e3577[_0x27a6cf(0x2a3)],'component':_0xc3de87['Bitrate'],'action':_0x86405e['Downgrade']}]},{'problemType':_0x192400[_0x27a6cf(0x477)],'remediations':[{'type':_0x6e3577['Remediation'],'component':_0xc3de87[_0x27a6cf(0x625)],'action':_0x86405e[_0x27a6cf(0x53f)]}]}];class _0x4e4b4d{[_0x27a6cf(0x457)];['systemTopic'];[_0x27a6cf(0x1ff)]=new Map();constructor(_0x46f130){const _0x2d5a2a=_0x27a6cf;this[_0x2d5a2a(0x457)]=_0x46f130,this['configs'][_0x2d5a2a(0x652)][_0x2d5a2a(0x3ef)](this);}[_0x27a6cf(0x33d)](){const _0x30f424=_0x27a6cf;this[_0x30f424(0x457)][_0x30f424(0x652)][_0x30f424(0x1cc)](this);}[_0x27a6cf(0x6c0)](_0x538781){const _0x3827ce=_0x27a6cf;this[_0x3827ce(0x1d6)]=_0x538781;}[_0x27a6cf(0x5b0)](){const _0x4d2963=_0x27a6cf;delete this[_0x4d2963(0x1d6)];}[_0x27a6cf(0x5ea)](_0x14ce35){const _0x6e0b88=_0x27a6cf;_0x14ce35['content']['type']===_0x4489d2['Problem']&&this[_0x6e0b88(0x4d9)](_0x14ce35[_0x6e0b88(0x5d4)]['data']);}[_0x27a6cf(0x599)](_0x1c2126){const _0x28a664=_0x27a6cf;_0x1c2126[_0x28a664(0x5d4)][_0x28a664(0x2b7)]===_0x6e3577[_0x28a664(0x4a2)]&&this[_0x28a664(0x6f5)](_0x1c2126[_0x28a664(0x552)],{'type':_0x6e3577[_0x28a664(0x2a3)],'component':_0x1c2126['content'][_0x28a664(0x423)][_0x28a664(0x5ef)],'action':_0x1c2126[_0x28a664(0x5d4)][_0x28a664(0x423)]['action']});}['handleProblem'](_0x29d2f1){const _0x20a035=_0x27a6cf,_0x8a68bf=_0xa6354a[_0x20a035(0x613)](_0x5a1a32=>_0x5a1a32[_0x20a035(0x60f)]===_0x29d2f1[_0x20a035(0x2b7)]);_0x8a68bf[_0x20a035(0x18d)]?.[_0x20a035(0x469)](_0x1d0eb=>{const _0x1181a7=_0x20a035;this[_0x1181a7(0x6f5)](_0x29d2f1[_0x1181a7(0x286)],{'type':_0x29d2f1[_0x1181a7(0x2b6)]===_0xf30543[_0x1181a7(0x5cf)]?_0x6e3577['Remediation']:_0x6e3577[_0x1181a7(0x4a2)],'component':_0x1d0eb[_0x1181a7(0x5ef)],'action':_0x1d0eb[_0x1181a7(0x524)]});});}[_0x27a6cf(0x6f5)](_0x30d09f,_0x3f3163){const _0x287418=_0x27a6cf;if(_0x3f3163[_0x287418(0x2b7)]===_0x6e3577[_0x287418(0x2a3)]){const _0x5131e1=Date[_0x287418(0x534)](),_0x5ae56b=this['lastRemediations'][_0x287418(0x1d2)](_0x30d09f);if(_0x5ae56b&&_0x5131e1-_0x5ae56b<0x1388)return;this[_0x287418(0x1ff)][_0x287418(0x734)](_0x30d09f,_0x5131e1);}_0x20481a[_0x287418(0x517)](_0x5483cd['Remediation'],_0x287418(0x355),_0x3f3163),_0x20481a['logEvent'](_0x287418(0x668),{'clusterId':this['configs'][_0x287418(0x698)],'nodeId':this[_0x287418(0x457)][_0x287418(0x70b)][_0x287418(0x4cd)](),'nodeType':this[_0x287418(0x457)][_0x287418(0x70b)]['type'],'remoteId':_0x30d09f,'data':{'type':_0x3f3163[_0x287418(0x2b7)],'component':_0x3f3163['component'],'action':_0x3f3163[_0x287418(0x524)]}});let _0x30787b,_0x21a6bf=_0x554820;_0x3f3163[_0x287418(0x2b7)]===_0x6e3577['RemoteRemediation']&&(_0x21a6bf=this[_0x287418(0x457)][_0x287418(0x70b)][_0x287418(0x4cd)](),_0x30787b=[_0x30d09f]),this['systemTopic'][_0x287418(0x4b0)]({'sourceId':_0x21a6bf,'destinationIds':_0x30787b,'messageType':_0x3421b2['Remediation'],'content':{'type':_0x3f3163[_0x287418(0x2b7)],'targetId':_0x30d09f,'data':_0x3f3163}});}}const _0x41d621=0x3e8,_0x21b7cb=0x7530,_0x31c426=_0x27a6cf(0x54f),_0x543b2d=_0x27a6cf(0x271),_0x20ccd2=_0x27a6cf(0x6eb),_0x170dd9=[_0x31c426,_0x543b2d],_0x5bf9f3=[_0x20ccd2];class _0x581307{['roundTripTime']=0x0;[_0x27a6cf(0x3e9)]=0x0;[_0x27a6cf(0x275)]=0x0;[_0x27a6cf(0x677)]=0x0;[_0x27a6cf(0x744)]=0x0;[_0x27a6cf(0x717)]=0x0;[_0x27a6cf(0x6c1)]=0x0;[_0x27a6cf(0x312)]=0x0;[_0x27a6cf(0x605)]=0x0;get[_0x27a6cf(0x200)](){const _0x1180ba=_0x27a6cf;return this['currentTimestamp']>0x0&&this[_0x1180ba(0x6c1)]>0x0&&Date[_0x1180ba(0x534)]()-this[_0x1180ba(0x717)]<_0x21b7cb?(this[_0x1180ba(0x312)]-this[_0x1180ba(0x605)])/(this['currentTimestamp']-this[_0x1180ba(0x6c1)])*0x8*0x3e8:0x0;}[_0x27a6cf(0x61a)](_0x337292){const _0x1809a7=_0x27a6cf;switch(_0x337292[_0x1809a7(0x2b7)]){case _0x20ccd2:this[_0x1809a7(0x224)](_0x337292);break;case _0x31c426:this[_0x1809a7(0x207)](_0x337292);break;case _0x543b2d:this[_0x1809a7(0x46d)](_0x337292);}}['getReport'](){const _0x36a8e7=_0x27a6cf;return{'bitrate':this[_0x36a8e7(0x200)],'packetsLostPerc':this[_0x36a8e7(0x4f8)](),'roundTripTime':this[_0x36a8e7(0x36c)],'jitter':this['jitter']};}[_0x27a6cf(0x224)](_0x5e318d){const _0x332bad=_0x27a6cf;this[_0x332bad(0x292)](_0x5e318d[_0x332bad(0x1aa)]),this[_0x332bad(0x1b6)](_0x5e318d[_0x332bad(0x632)]),this['packets']=_0x5e318d['packetsReceived'],this[_0x332bad(0x677)]=_0x5e318d[_0x332bad(0x677)],void 0x0!==_0x5e318d[_0x332bad(0x275)]?this[_0x332bad(0x275)]=_0x5e318d[_0x332bad(0x275)]:this[_0x332bad(0x275)]=0x0,void 0x0!==_0x5e318d[_0x332bad(0x3e9)]?this[_0x332bad(0x3e9)]=_0x5e318d[_0x332bad(0x3e9)]:this[_0x332bad(0x3e9)]=0x0;}[_0x27a6cf(0x207)](_0xce2f83){const _0x1c9bd1=_0x27a6cf;this['setBytes'](_0xce2f83['bytesSent']),this[_0x1c9bd1(0x1b6)](_0xce2f83[_0x1c9bd1(0x632)]),this['packets']=_0xce2f83[_0x1c9bd1(0x748)];}[_0x27a6cf(0x46d)](_0x55897c){const _0x15f647=_0x27a6cf;this[_0x15f647(0x36c)]=0x3e8*_0x55897c['roundTripTime'],void 0x0!==_0x55897c['jitter']?this[_0x15f647(0x275)]=_0x55897c[_0x15f647(0x275)]:this['jitter']=0x0;}[_0x27a6cf(0x4f8)](){const _0x299227=_0x27a6cf;return this[_0x299227(0x744)]>0x0?this['packetsLost']/this['packets']:0x0;}[_0x27a6cf(0x1b6)](_0xeaf4d4){const _0x3cb9ca=_0x27a6cf;_0xeaf4d4>this[_0x3cb9ca(0x717)]&&(this[_0x3cb9ca(0x6c1)]=this[_0x3cb9ca(0x717)],this[_0x3cb9ca(0x717)]=_0xeaf4d4);}[_0x27a6cf(0x292)](_0x4297a1){const _0x191309=_0x27a6cf;this[_0x191309(0x605)]=this[_0x191309(0x312)],this[_0x191309(0x312)]=_0x4297a1;}}class _0x2918e3 extends _0x581307{}class _0x4c8684 extends _0x581307{[_0x27a6cf(0x2ad)]=0x0;[_0x27a6cf(0x56e)]=0x0;['frameHeight']=0x0;[_0x27a6cf(0x67c)]=0x0;['previousFrames']=0x0;get[_0x27a6cf(0x352)](){const _0x44b470=_0x27a6cf;return this['currentTimestamp']>0x0&&this['previousTimestamp']>0x0&&Date[_0x44b470(0x534)]()-this[_0x44b470(0x717)]<_0x21b7cb?(this[_0x44b470(0x67c)]-this[_0x44b470(0x227)])/(this['currentTimestamp']-this[_0x44b470(0x6c1)])*0x3e8:0x0;}get[_0x27a6cf(0x30b)](){const _0x430b1a=_0x27a6cf;return this[_0x430b1a(0x2ad)]&&this[_0x430b1a(0x67c)]&&this['currentFrames']>0x0?this[_0x430b1a(0x2ad)]/this[_0x430b1a(0x67c)]:0x0;}set['frames'](_0xb3e69c){const _0x581128=_0x27a6cf;this[_0x581128(0x227)]=this[_0x581128(0x67c)],this[_0x581128(0x67c)]=_0xb3e69c;}[_0x27a6cf(0x339)](){const _0x16e526=_0x27a6cf;return{...super[_0x16e526(0x339)](),'FPS':this[_0x16e526(0x352)],'timePerFrame':this[_0x16e526(0x30b)],'frameWidth':this[_0x16e526(0x56e)],'frameHeight':this[_0x16e526(0x66a)]};}[_0x27a6cf(0x224)](_0x123ab){const _0x102252=_0x27a6cf;super[_0x102252(0x224)](_0x123ab),this[_0x102252(0x2ad)]=_0x123ab[_0x102252(0x3d0)],this[_0x102252(0x2fb)]=_0x123ab['framesDecoded'],this['frameWidth']=_0x123ab['frameWidth'],this[_0x102252(0x66a)]=_0x123ab[_0x102252(0x66a)];}[_0x27a6cf(0x207)](_0x573e5c){const _0x21729a=_0x27a6cf;super['processOutboundReport'](_0x573e5c),this[_0x21729a(0x2ad)]=_0x573e5c[_0x21729a(0x3a2)],this[_0x21729a(0x2fb)]=_0x573e5c[_0x21729a(0x5dc)],this[_0x21729a(0x56e)]=_0x573e5c[_0x21729a(0x56e)],this[_0x21729a(0x66a)]=_0x573e5c[_0x21729a(0x66a)];}}class _0xe26e26{['audio']=new _0x2918e3();['video']=new _0x4c8684();get[_0x27a6cf(0x200)](){const _0x12d73d=_0x27a6cf;return this[_0x12d73d(0x284)]['bitrate']+this[_0x12d73d(0x3f0)][_0x12d73d(0x200)];}['processReports'](_0x551aac){const _0xce690=_0x27a6cf;return _0x551aac[_0xce690(0x469)](_0x994469=>{const _0x360508=_0xce690;switch(_0x994469[_0x360508(0x4e4)]){case _0x360508(0x284):this[_0x360508(0x284)]['processReport'](_0x994469);break;case _0x360508(0x3f0):this[_0x360508(0x3f0)][_0x360508(0x61a)](_0x994469);}}),this[_0xce690(0x339)]();}[_0x27a6cf(0x339)](){const _0x48208a=_0x27a6cf;return{'audio':this[_0x48208a(0x284)]['getReport'](),'video':this[_0x48208a(0x3f0)]['getReport'](),'roundTripTime':this[_0x48208a(0x2fc)](),'AudioVideoDelay':this[_0x48208a(0x2ab)](),'bitrate':this[_0x48208a(0x200)]};}[_0x27a6cf(0x2fc)](){const _0x2d9dc5=_0x27a6cf;return Math['floor']((this[_0x2d9dc5(0x284)][_0x2d9dc5(0x36c)]+this[_0x2d9dc5(0x3f0)][_0x2d9dc5(0x36c)])/0x2);}[_0x27a6cf(0x2ab)](){const _0x2c0b2c=_0x27a6cf;return this['audio'][_0x2c0b2c(0x3e9)]-this[_0x2c0b2c(0x3f0)]['estimatedPlayoutTimestamp'];}}class _0x26e5c3{[_0x27a6cf(0x61f)]=0x0;['senderPreviousTimestamp']=0x0;[_0x27a6cf(0x396)]=0x0;[_0x27a6cf(0x42b)]=0x0;[_0x27a6cf(0x38f)]=0x0;[_0x27a6cf(0x2ce)]=0x0;['receiverCurrentBytes']=0x0;['receiverPreviousBytes']=0x0;[_0x27a6cf(0x3de)]=0x0;[_0x27a6cf(0x28f)]=0x0;[_0x27a6cf(0x452)]=0x0;[_0x27a6cf(0x388)]=0x0;['roundTripTime']=0x0;get[_0x27a6cf(0x200)](){const _0x40c8cc=_0x27a6cf;return this[_0x40c8cc(0x531)]+this[_0x40c8cc(0x2d9)];}get[_0x27a6cf(0x531)](){const _0x5412ed=_0x27a6cf;return this[_0x5412ed(0x61f)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date[_0x5412ed(0x534)]()-this['senderCurrentTimestamp']<_0x21b7cb?(this[_0x5412ed(0x38f)]-this[_0x5412ed(0x2ce)])/(this[_0x5412ed(0x61f)]-this[_0x5412ed(0x74c)])*0x8*0x3e8:0x0;}get[_0x27a6cf(0x2d9)](){const _0x185f83=_0x27a6cf;return this[_0x185f83(0x396)]>0x0&&this['receiverPreviousTimestamp']>0x0&&Date[_0x185f83(0x534)]()-this['receiverCurrentTimestamp']<_0x21b7cb?(this['receiverCurrentBytes']-this[_0x185f83(0x54a)])/(this[_0x185f83(0x396)]-this[_0x185f83(0x42b)])*0x8*0x3e8:0x0;}['processReport'](_0x3b04f7){const _0x3fcb1d=_0x27a6cf;switch(_0x3b04f7[_0x3fcb1d(0x2b6)]){case _0xf30543[_0x3fcb1d(0x5cf)]:this[_0x3fcb1d(0x28c)](_0x3b04f7);break;case _0xf30543['Receiver']:this[_0x3fcb1d(0x2f0)](_0x3b04f7);}}['getReport'](){const _0x1fe23f=_0x27a6cf;return{'bitrate':this[_0x1fe23f(0x200)],'senderBitrate':this[_0x1fe23f(0x531)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this['getTotalBytes'](),'senderTotalBytes':this[_0x1fe23f(0x6c9)](),'receiverTotalBytes':this[_0x1fe23f(0x721)](),'totalMessages':this[_0x1fe23f(0x3de)]+this['receiverTotalMessages'],'senderTotalMessages':this[_0x1fe23f(0x3de)],'receiverTotalMessages':this[_0x1fe23f(0x28f)],'timeProcessing':this[_0x1fe23f(0x452)]+this[_0x1fe23f(0x388)],'senderTimeProcessing':this[_0x1fe23f(0x452)],'receiverTimeProcessing':this[_0x1fe23f(0x388)],'roundTripTime':this[_0x1fe23f(0x36c)]};}[_0x27a6cf(0x192)](){const _0x3529aa=_0x27a6cf;return this[_0x3529aa(0x38f)]+this[_0x3529aa(0x30c)];}['getSenderTotalBytes'](){const _0x327192=_0x27a6cf;return this[_0x327192(0x38f)];}[_0x27a6cf(0x721)](){const _0x16b743=_0x27a6cf;return this[_0x16b743(0x30c)];}[_0x27a6cf(0x28c)](_0x313348){const _0xd7e8c1=_0x27a6cf;this[_0xd7e8c1(0x565)](_0x313348['timestamp']),this['setBytes'](_0x313348[_0xd7e8c1(0x6d6)]),this[_0xd7e8c1(0x3de)]=_0x313348[_0xd7e8c1(0x50b)],this[_0xd7e8c1(0x452)]=_0x313348[_0xd7e8c1(0x694)],this[_0xd7e8c1(0x36c)]=_0x313348[_0xd7e8c1(0x36c)];}[_0x27a6cf(0x2f0)](_0x340912){const _0x1b2ee8=_0x27a6cf;this['setReceiverTimestamp'](_0x340912[_0x1b2ee8(0x632)]),this[_0x1b2ee8(0x410)](_0x340912[_0x1b2ee8(0x1aa)]),this[_0x1b2ee8(0x28f)]=_0x340912['messagesReceived'],this[_0x1b2ee8(0x388)]=_0x340912['timeReceiving'];}[_0x27a6cf(0x565)](_0xf7a1e){const _0x1d8bbe=_0x27a6cf;_0xf7a1e>this['senderCurrentTimestamp']&&(this[_0x1d8bbe(0x74c)]=this[_0x1d8bbe(0x61f)],this[_0x1d8bbe(0x61f)]=_0xf7a1e);}[_0x27a6cf(0x522)](_0x4470b1){const _0x3232ab=_0x27a6cf;_0x4470b1>this['receiverCurrentTimestamp']&&(this[_0x3232ab(0x42b)]=this['receiverCurrentTimestamp'],this['receiverCurrentTimestamp']=_0x4470b1);}[_0x27a6cf(0x292)](_0x38b9c0){const _0x215016=_0x27a6cf;this[_0x215016(0x2ce)]=this[_0x215016(0x38f)],this['senderCurrentBytes']=_0x38b9c0;}[_0x27a6cf(0x410)](_0x34afe2){const _0x15d342=_0x27a6cf;this['receiverPreviousBytes']=this['receiverCurrentBytes'],this[_0x15d342(0x30c)]=_0x34afe2;}}class _0x26ca70{[_0x27a6cf(0x4b6)]=new Map();[_0x27a6cf(0x4a1)]=new Map();[_0x27a6cf(0x28b)]=new _0x26e5c3();get['senderBitrate'](){const _0x535bab=_0x27a6cf;let _0x3b424a=0x0;return this[_0x535bab(0x4b6)]['forEach'](_0x389512=>{const _0x3c2175=_0x535bab;_0x3b424a+=_0x389512[_0x3c2175(0x200)];}),_0x3b424a+=this[_0x535bab(0x28b)][_0x535bab(0x531)],_0x3b424a;}get[_0x27a6cf(0x2d9)](){const _0x16c780=_0x27a6cf;let _0x2623b0=0x0;return this['receiverStreams']['forEach'](_0x3200ce=>{_0x2623b0+=_0x3200ce['bitrate'];}),_0x2623b0+=this['dataChannel'][_0x16c780(0x2d9)],_0x2623b0;}get[_0x27a6cf(0x200)](){const _0x294d6a=_0x27a6cf;return this[_0x294d6a(0x531)]+this[_0x294d6a(0x2d9)];}[_0x27a6cf(0x198)](_0x3eecc3,_0x8a1e90){const _0x225c57=_0x27a6cf,_0x1ea412=[],_0x1a31ba=[];return _0x3eecc3 instanceof Array?_0x3eecc3[_0x225c57(0x469)](_0x23585a=>{const _0x2d317d=_0x225c57;_0x23585a[_0x2d317d(0x469)](_0x31b42b=>{const _0x883c05=_0x2d317d;_0x5bf9f3[_0x883c05(0x607)](_0x31b42b[_0x883c05(0x2b7)])&&_0x1ea412[_0x883c05(0x647)](_0x31b42b),_0x170dd9[_0x883c05(0x607)](_0x31b42b['type'])&&_0x1a31ba['push'](_0x31b42b);});}):this[_0x225c57(0x28b)][_0x225c57(0x61a)](_0x3eecc3),_0x1ea412[_0x225c57(0x1d0)]>0x0&&_0x8a1e90?{...this[_0x225c57(0x214)](_0x8a1e90,_0x1ea412),'origin':_0xf30543[_0x225c57(0x262)],'streamId':_0x8a1e90}:_0x1a31ba[_0x225c57(0x1d0)]>0x0&&_0x8a1e90?{...this[_0x225c57(0x359)](_0x8a1e90,_0x1a31ba),'origin':_0xf30543[_0x225c57(0x5cf)],'streamId':_0x8a1e90}:void 0x0;}[_0x27a6cf(0x339)](){const _0x32f03f=_0x27a6cf,_0x35e0ff={};this['senderStreams'][_0x32f03f(0x469)]((_0x37cd74,_0x38eef4)=>{const _0x1f31a0=_0x32f03f;_0x35e0ff[_0x38eef4]=_0x37cd74[_0x1f31a0(0x339)]();});const _0x1fde2c={};return this[_0x32f03f(0x4a1)][_0x32f03f(0x469)]((_0xc6c18e,_0x31af93)=>{_0x1fde2c[_0x31af93]=_0xc6c18e['getReport']();}),{'bitrate':this[_0x32f03f(0x200)],'senderBitrate':this[_0x32f03f(0x531)],'receiverBitrate':this[_0x32f03f(0x2d9)],'senderStreams':_0x35e0ff,'receiverStreams':_0x1fde2c,'dataChannel':this['dataChannel'][_0x32f03f(0x339)]()};}[_0x27a6cf(0x214)](_0x540418,_0x4575d5){const _0x3e6a0f=_0x27a6cf;return this[_0x3e6a0f(0x4a1)][_0x3e6a0f(0x25a)](_0x540418)||this[_0x3e6a0f(0x4a1)][_0x3e6a0f(0x734)](_0x540418,new _0xe26e26()),this[_0x3e6a0f(0x4a1)][_0x3e6a0f(0x1d2)](_0x540418)[_0x3e6a0f(0x198)](_0x4575d5);}[_0x27a6cf(0x359)](_0x279adb,_0x544f39){const _0x53f32c=_0x27a6cf;return this[_0x53f32c(0x4b6)][_0x53f32c(0x25a)](_0x279adb)||this[_0x53f32c(0x4b6)][_0x53f32c(0x734)](_0x279adb,new _0xe26e26()),this[_0x53f32c(0x4b6)][_0x53f32c(0x1d2)](_0x279adb)[_0x53f32c(0x198)](_0x544f39);}}class _0x3cb99a{['nodes']=new Map();[_0x27a6cf(0x654)]=0x0;[_0x27a6cf(0x4de)]=0x0;['pubsubTopics']=new Map();['objectStores']=new Map();['keyValueDatabases']=new Map();[_0x27a6cf(0x3de)]=new Map();[_0x27a6cf(0x28f)]=new Map();['senderTimeProcessing']=new Map();[_0x27a6cf(0x388)]=new Map();[_0x27a6cf(0x6b4)]=new Map();[_0x27a6cf(0x1d6)];[_0x27a6cf(0x339)](){const _0x57922a=_0x27a6cf,_0x52ec42={};this['nodes']['forEach']((_0x1387e6,_0x45397d)=>{_0x52ec42[_0x45397d]=_0x1387e6['getReport']();});let _0x384c16=0x0;this['senderTimeProcessing'][_0x57922a(0x469)](_0x480246=>{_0x384c16+=_0x480246;});let _0x3adc59=0x0;this['receiverTimeProcessing'][_0x57922a(0x469)](_0xbe405e=>{_0x3adc59+=_0xbe405e;});const _0x22e0b7=_0x384c16+_0x3adc59;let _0x57d3a2={'messages':{'total':0x0}};this[_0x57922a(0x6b4)][_0x57922a(0x469)](_0x129170=>{Object['keys'](_0x129170)['forEach'](_0xc170e3=>{const _0x446f70=a0_0x4e89;_0x57d3a2[_0xc170e3]||(_0x57d3a2[_0xc170e3]={}),Object[_0x446f70(0x47f)](_0x129170[_0xc170e3])['forEach'](_0x55ea24=>{_0x57d3a2[_0xc170e3][_0x55ea24]||(_0x57d3a2[_0xc170e3][_0x55ea24]=0x0),_0x57d3a2[_0xc170e3][_0x55ea24]+=_0x129170[_0xc170e3][_0x55ea24];});});});let _0x3ca926=0x0,_0x198ff0=0x0,_0x8752e5=0x0,_0x5164b8=0x0,_0x15181f=0x0;return this[_0x57922a(0x52d)]['forEach'](_0x3c74f2=>{const _0x23aa67=_0x57922a;_0x198ff0+=_0x3c74f2[_0x23aa67(0x50b)],_0x8752e5+=_0x3c74f2['messagesReceived'],_0x5164b8+=_0x3c74f2[_0x23aa67(0x6d6)],_0x15181f+=_0x3c74f2[_0x23aa67(0x1aa)];}),this[_0x57922a(0x4c4)][_0x57922a(0x469)](_0x210a91=>{const _0x515183=_0x57922a;_0x3ca926+=_0x210a91[_0x515183(0x5bf)],_0x198ff0+=_0x210a91[_0x515183(0x50b)],_0x8752e5+=_0x210a91[_0x515183(0x1a5)],_0x5164b8+=_0x210a91[_0x515183(0x6d6)],_0x15181f+=_0x210a91['bytesReceived'];}),this[_0x57922a(0x328)][_0x57922a(0x469)](_0x125cbf=>{const _0x46a5e0=_0x57922a;_0x3ca926+=_0x125cbf[_0x46a5e0(0x5bf)],_0x198ff0+=_0x125cbf[_0x46a5e0(0x50b)],_0x8752e5+=_0x125cbf['messagesReceived'],_0x5164b8+=_0x125cbf[_0x46a5e0(0x6d6)],_0x15181f+=_0x125cbf[_0x46a5e0(0x1aa)];}),{'STVolatility':this[_0x57922a(0x6a7)](),'DTVolatility':this[_0x57922a(0x73f)](),'bitrate':this[_0x57922a(0x31b)](),'senderBitrate':this[_0x57922a(0x712)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x3ca926,'totalMessages':_0x198ff0+_0x8752e5,'totalMessagesSent':_0x198ff0,'totalMessagesReceived':_0x8752e5,'totalBytes':_0x5164b8+_0x15181f,'totalBytesSent':_0x5164b8,'totalBytesReceived':_0x15181f,'systemMessages':_0x57d3a2,'timeProcessing':_0x22e0b7,'nodes':_0x52ec42,'pubsubTopics':Object['fromEntries'](this[_0x57922a(0x52d)]),'objectStores':Object[_0x57922a(0x48c)](this[_0x57922a(0x4c4)]),'keyValueDatabases':Object[_0x57922a(0x48c)](this['keyValueDatabases'])};}['addRemoteNode'](_0x52b712){const _0xa7eb5e=_0x27a6cf;this[_0xa7eb5e(0x723)][_0xa7eb5e(0x734)](_0x52b712,new _0x26ca70());}[_0x27a6cf(0x5e9)](_0x59abf5){this['nodes']['delete'](_0x59abf5);}[_0x27a6cf(0x198)](_0x11a330,_0x5c7c56,_0x4b4870){const _0x1288c6=_0x27a6cf;_0x5c7c56 instanceof Array||this[_0x1288c6(0x5cd)](_0x11a330,_0x5c7c56);const _0x39da9f=this[_0x1288c6(0x723)][_0x1288c6(0x1d2)](_0x11a330)?.[_0x1288c6(0x198)](_0x5c7c56,_0x4b4870);_0x39da9f&&this[_0x1288c6(0x1d6)][_0x1288c6(0x4b0)]({'sourceId':_0x554820,'messageType':_0x3421b2[_0x1288c6(0x55f)],'content':{'type':_0xd6d2a0[_0x1288c6(0x6fb)],'data':{..._0x39da9f,'nodeId':_0x11a330}}});}[_0x27a6cf(0x2da)](_0x514b53){const _0x47911e=_0x27a6cf;this[_0x47911e(0x43c)](_0x514b53[_0x47911e(0x3ad)]),this[_0x47911e(0x674)](_0x514b53[_0x47911e(0x4de)]),this[_0x47911e(0x1d6)]['publish']({'sourceId':_0x554820,'messageType':_0x3421b2['Stats'],'content':{'type':_0xd6d2a0['LocalReport'],'data':{'STVolatility':this[_0x47911e(0x6a7)](),'DTVolatility':this[_0x47911e(0x73f)]()}}});}['processServiceReport'](_0x383495,_0x3feeb9,_0x4f2919){const _0x431ab5=_0x27a6cf;switch(_0x3feeb9){case _0x22acf3[_0x431ab5(0x216)]:this[_0x431ab5(0x52d)][_0x431ab5(0x734)](_0x383495,_0x4f2919);break;case _0x22acf3['ObjectStoreStats']:this['objectStores']['set'](_0x383495,_0x4f2919);break;case _0x22acf3['KeyValueDatabaseStats']:this[_0x431ab5(0x328)][_0x431ab5(0x734)](_0x383495,_0x4f2919);}}[_0x27a6cf(0x6c0)](_0x30cd15){const _0x3cb4b3=_0x27a6cf;this[_0x3cb4b3(0x1d6)]=_0x30cd15;}[_0x27a6cf(0x5b0)](){const _0x168722=_0x27a6cf;delete this[_0x168722(0x1d6)];}[_0x27a6cf(0x6a7)](){const _0x3c4b5e=_0x27a6cf;return this[_0x3c4b5e(0x654)]>0x0&&this['scheduleTime']-_0x41d621>0x0?(this['scheduleTime']-_0x41d621)/_0x41d621:0x0;}[_0x27a6cf(0x73f)](){const _0x1ae823=_0x27a6cf;return this[_0x1ae823(0x4de)]>0x0&&this[_0x1ae823(0x4de)]-0x64>0x0?(this[_0x1ae823(0x4de)]-0x64)/0x64:0x0;}[_0x27a6cf(0x712)](){const _0x565e35=_0x27a6cf;let _0x428cdd=0x0;return this['nodes'][_0x565e35(0x469)](_0x31486a=>{_0x428cdd+=_0x31486a['senderBitrate'];}),_0x428cdd;}[_0x27a6cf(0x257)](){const _0x575235=_0x27a6cf;let _0xa94f79=0x0;return this['nodes'][_0x575235(0x469)](_0x611148=>{const _0x98addc=_0x575235;_0xa94f79+=_0x611148[_0x98addc(0x2d9)];}),_0xa94f79;}[_0x27a6cf(0x31b)](){const _0x4c004e=_0x27a6cf;let _0x45a24e=0x0;return this[_0x4c004e(0x723)][_0x4c004e(0x469)](_0x5bdea8=>{const _0x3d5894=_0x4c004e;_0x45a24e+=_0x5bdea8[_0x3d5894(0x200)];}),_0x45a24e;}[_0x27a6cf(0x43c)](_0xf5ac68){this['scheduleTime']=_0xf5ac68;}[_0x27a6cf(0x674)](_0x371c50){const _0x29ecc5=_0x27a6cf;this[_0x29ecc5(0x4de)]=_0x371c50;}[_0x27a6cf(0x5cd)](_0x4aac18,_0x10aaf0){const _0x2ef03c=_0x27a6cf;switch(_0x10aaf0['origin']){case _0xf30543['Sender']:this[_0x2ef03c(0x28c)](_0x4aac18,_0x10aaf0);break;case _0xf30543[_0x2ef03c(0x262)]:this[_0x2ef03c(0x2f0)](_0x4aac18,_0x10aaf0);}}['processSenderReport'](_0x47fa3b,_0x4c3c58){const _0x396ceb=_0x27a6cf;this[_0x396ceb(0x3de)][_0x396ceb(0x734)](_0x47fa3b,_0x4c3c58[_0x396ceb(0x50b)]),this[_0x396ceb(0x452)]['set'](_0x47fa3b,_0x4c3c58[_0x396ceb(0x694)]);}[_0x27a6cf(0x2f0)](_0x166fcf,_0x535bb4){const _0x651849=_0x27a6cf;this[_0x651849(0x28f)]['set'](_0x166fcf,_0x535bb4[_0x651849(0x1a5)]),this[_0x651849(0x388)][_0x651849(0x734)](_0x166fcf,_0x535bb4[_0x651849(0x4c2)]),this[_0x651849(0x6b4)][_0x651849(0x734)](_0x166fcf,_0x535bb4[_0x651849(0x6b4)]);}}class _0x2b4cdc{[_0x27a6cf(0x457)];[_0x27a6cf(0x488)]=new Set();[_0x27a6cf(0x621)];[_0x27a6cf(0x36d)];[_0x27a6cf(0x3cd)];[_0x27a6cf(0x559)]=new _0x3cb99a();constructor(_0x39cf69){const _0x8d8171=_0x27a6cf;this[_0x8d8171(0x457)]=_0x39cf69,this[_0x8d8171(0x457)][_0x8d8171(0x652)][_0x8d8171(0x3ef)](this[_0x8d8171(0x559)]),this[_0x8d8171(0x36d)]=this[_0x8d8171(0x659)](),this[_0x8d8171(0x3cd)]=this[_0x8d8171(0x1fe)]();}['close'](){const _0x42db2d=_0x27a6cf;this['configs'][_0x42db2d(0x652)][_0x42db2d(0x1cc)](this[_0x42db2d(0x559)]),this[_0x42db2d(0x3cd)](),this['statsCollection']();}[_0x27a6cf(0x4b3)](_0x1f2274){const _0x2b9919=_0x27a6cf;this['remoteNodes'][_0x2b9919(0x74b)](_0x1f2274),this['statsReport'][_0x2b9919(0x4b3)](_0x1f2274);}[_0x27a6cf(0x5e9)](_0x5d2cc2){const _0x2d07fa=_0x27a6cf;this['remoteNodes']['delete'](_0x5d2cc2),this['statsReport'][_0x2d07fa(0x5e9)](_0x5d2cc2);}[_0x27a6cf(0x36a)](_0x3fca03){const _0x208ae0=_0x27a6cf;if(_0x3fca03[_0x208ae0(0x5d4)][_0x208ae0(0x2b7)]===_0x1ffd7c[_0x208ae0(0x55f)]){const {nodeId:_0x1dcd4f,streamId:_0x5c7958,stats:_0x1357b3}=_0x3fca03[_0x208ae0(0x5d4)];this[_0x208ae0(0x559)][_0x208ae0(0x198)](_0x1dcd4f,_0x1357b3,_0x5c7958);}}[_0x27a6cf(0x371)](_0x23559a){const _0xf30968=_0x27a6cf;switch(_0x23559a['content'][_0xf30968(0x2b7)]){case _0x22acf3['ObjectStoreStats']:case _0x22acf3[_0xf30968(0x225)]:case _0x22acf3[_0xf30968(0x216)]:this[_0xf30968(0x559)][_0xf30968(0x4a5)](_0x23559a[_0xf30968(0x5d4)][_0xf30968(0x533)],_0x23559a[_0xf30968(0x5d4)][_0xf30968(0x2b7)],_0x23559a[_0xf30968(0x5d4)][_0xf30968(0x4f4)]);}}[_0x27a6cf(0x1fe)](){const _0x420b01=_0x27a6cf;return _0x199808[_0x420b01(0x231)](()=>{const _0xdca81c=_0x420b01,_0x576976=this[_0xdca81c(0x559)]['getReport']();_0x20481a[_0xdca81c(0x517)](_0x5483cd[_0xdca81c(0x55f)],'Stats:\x20report',_0x576976),(0x0,_0x5158a0[_0xdca81c(0x3fa)])((0x0,_0x5158a0[_0xdca81c(0x1a3)])(_0x1f229f[_0xdca81c(0x38b)](),'developers/'+this[_0xdca81c(0x457)][_0xdca81c(0x25f)]+_0xdca81c(0x549)),{'clusterId':this[_0xdca81c(0x457)][_0xdca81c(0x698)],'nodeId':this[_0xdca81c(0x457)][_0xdca81c(0x70b)]['getId'](),'nodeType':this[_0xdca81c(0x457)][_0xdca81c(0x70b)][_0xdca81c(0x2b7)],'timestamp':(0x0,_0x5158a0['serverTimestamp'])(),'report':_0x576976}),_0x20481a[_0xdca81c(0x639)]('stats',{'clusterId':this[_0xdca81c(0x457)]['clusterId'],'nodeId':this[_0xdca81c(0x457)][_0xdca81c(0x70b)]['getId'](),'nodeType':this[_0xdca81c(0x457)][_0xdca81c(0x70b)][_0xdca81c(0x2b7)],'data':{'report':_0x576976}});},_0x21b7cb);}[_0x27a6cf(0x659)](){const _0x40d2d1=_0x27a6cf;let _0x5308ba=!0x1,_0x1d6351=Date[_0x40d2d1(0x534)]();return _0x199808[_0x40d2d1(0x231)](async()=>{const _0xa8b47d=_0x40d2d1;if(_0x5308ba)return;if(_0x5308ba=!0x0,0x0===this[_0xa8b47d(0x488)][_0xa8b47d(0x1e6)])return delete this[_0xa8b47d(0x621)],void(_0x5308ba=!0x1);const _0x1bf62c=Date['now']();this['findNextNodeId']();try{await this[_0xa8b47d(0x457)][_0xa8b47d(0x652)]['collectStats'](this[_0xa8b47d(0x621)]);}catch(_0x1dd7c3){}this[_0xa8b47d(0x559)][_0xa8b47d(0x2da)]({'secheduleTime':_0x1bf62c-_0x1d6351,'durationTime':Date[_0xa8b47d(0x534)]()-_0x1bf62c}),_0x1d6351=_0x1bf62c,_0x5308ba=!0x1;},_0x41d621);}[_0x27a6cf(0x661)](){const _0x5026de=_0x27a6cf;let _0x5850cf,_0x274b45=!0x1;this[_0x5026de(0x621)]&&(this['remoteNodes']['has'](this[_0x5026de(0x621)])||delete this[_0x5026de(0x621)]);for(const _0x4df27f of this[_0x5026de(0x488)])if(_0x5850cf||(_0x5850cf=_0x4df27f),this['nextNodeId']!==_0x4df27f){if(_0x274b45)return void(this[_0x5026de(0x621)]=_0x4df27f);}else _0x274b45=!0x0,delete this['nextNodeId'];this[_0x5026de(0x621)]||(this['nextNodeId']=_0x5850cf);}}class _0x1381e9{[_0x27a6cf(0x34b)];['destination'];[_0x27a6cf(0x1d6)];constructor(_0x3a641b,_0x21ec53){const _0x176497=_0x27a6cf;this[_0x176497(0x34b)]=_0x3a641b,this[_0x176497(0x422)]=_0x21ec53;}[_0x27a6cf(0x6c0)](_0xb9e55){this['systemTopic']=_0xb9e55;}[_0x27a6cf(0x5b0)](){const _0x5cc198=_0x27a6cf;delete this[_0x5cc198(0x1d6)];}}class _0x363cc2 extends _0x1381e9{['source'];[_0x27a6cf(0x422)];[_0x27a6cf(0x3c7)];constructor(_0x2d430e,_0x4d1d49,_0x28d2bc){const _0x2a0a06=_0x27a6cf;super(_0x2d430e,_0x4d1d49),this[_0x2a0a06(0x34b)]=_0x2d430e,this['destination']=_0x4d1d49,this[_0x2a0a06(0x3c7)]=_0x28d2bc;}[_0x27a6cf(0x290)](_0x38f363,_0x398f5f,_0xf7e878){const _0x279b99=_0x27a6cf;if(this['destination'][_0x279b99(0x2e0)]()===_0x1176cc['ContentType'][_0x279b99(0x2be)]){const _0x1218f1={'type':_0x5d7a24[_0x279b99(0x33b)],'label':this[_0x279b99(0x422)][_0x279b99(0x1c9)](),'ownerId':_0x38f363,'trackKinds':_0x398f5f??this[_0x279b99(0x422)]['getAvailableTrackKinds'](),'params':_0xf7e878};this[_0x279b99(0x1d6)][_0x279b99(0x4b0)]({'sourceId':this[_0x279b99(0x34b)]['getLocalId'](),'destinationIds':[this[_0x279b99(0x34b)][_0x279b99(0x519)]()],'messageType':_0x3421b2[_0x279b99(0x4e6)],'content':_0x1218f1}),this[_0x279b99(0x3c7)]=_0xf7e878;}}[_0x27a6cf(0x53e)](_0x1ff10d,_0x354e83){const _0x4af306=_0x27a6cf;if(this[_0x4af306(0x422)]['getContentType']()===_0x1176cc[_0x4af306(0x6d9)][_0x4af306(0x2be)]){const _0x5d7d50={'type':_0x5d7a24['UpdateMediaStream'],'label':this[_0x4af306(0x422)][_0x4af306(0x1c9)](),'ownerId':_0x1ff10d,'params':_0x354e83};this[_0x4af306(0x1d6)][_0x4af306(0x4b0)]({'sourceId':this[_0x4af306(0x34b)][_0x4af306(0x664)](),'destinationIds':[this[_0x4af306(0x34b)][_0x4af306(0x519)]()],'messageType':_0x3421b2[_0x4af306(0x4e6)],'content':_0x5d7d50}),this['params']=_0x354e83;}}[_0x27a6cf(0x1b7)](_0x382063,_0x59d6fa,_0x449f7b){const _0x42c073=_0x27a6cf;if(this[_0x42c073(0x422)][_0x42c073(0x2e0)]()===_0x1176cc[_0x42c073(0x6d9)]['Media']){const _0x225db7={'type':_0x5d7a24['UnsubscribeMediaStream'],'label':this['destination'][_0x42c073(0x1c9)](),'ownerId':_0x382063,'trackKinds':_0x449f7b??this[_0x42c073(0x422)][_0x42c073(0x365)](),'remainingTracks':_0x59d6fa};this[_0x42c073(0x1d6)][_0x42c073(0x4b0)]({'sourceId':this['source'][_0x42c073(0x664)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x3421b2['Subscription'],'content':_0x225db7});}}}class _0x16ef36{[_0x27a6cf(0x580)];['maxDistance'];[_0x27a6cf(0x33c)];[_0x27a6cf(0x1d6)];['answers']=new Set();[_0x27a6cf(0x21b)]=Date[_0x27a6cf(0x534)]();[_0x27a6cf(0x3c7)];['retryCount']=0x0;constructor(_0xf53667,_0x2ec217,_0x538da3,_0x192d63){const _0x7de6c7=_0x27a6cf;this[_0x7de6c7(0x580)]=_0x2ec217,this[_0x7de6c7(0x738)]=_0x538da3,this['tracks']=_0x192d63,_0xf53667[_0x7de6c7(0x469)](_0x594fcd=>{const _0x277342=_0x7de6c7;this[_0x277342(0x679)][_0x277342(0x74b)]({'nodeId':_0x594fcd,'type':_0x2f4a06[_0x277342(0x1bb)]});});}[_0x27a6cf(0x467)](){const _0x37ec50=_0x27a6cf;return this[_0x37ec50(0x33c)];}[_0x27a6cf(0x6c0)](_0x3ae06e){const _0x1bf34a=_0x27a6cf;this[_0x1bf34a(0x1d6)]=_0x3ae06e;}[_0x27a6cf(0x5b0)](){const _0x5d042d=_0x27a6cf;delete this[_0x5d042d(0x1d6)];}['reset'](_0x7341db,_0xb7787e){const _0x12d9d8=_0x27a6cf;this[_0x12d9d8(0x21b)]=Date['now'](),this[_0x12d9d8(0x679)][_0x12d9d8(0x662)](),_0x7341db[_0x12d9d8(0x469)](_0x3c48f9=>{const _0x4450e9=_0x12d9d8;this[_0x4450e9(0x679)][_0x4450e9(0x74b)]({'nodeId':_0x3c48f9,'type':_0x2f4a06[_0x4450e9(0x1bb)]});}),this['retryCount']+=0x1,this[_0x12d9d8(0x580)]=_0xb7787e;}[_0x27a6cf(0x681)](_0x5ae971,_0x47e489,_0x218b9f,_0x51f90b,_0x226de0){const _0x8469b9=_0x27a6cf;if(this[_0x8469b9(0x431)]>0xa)throw new _0x2d2d59(_0x2d2d59['codes'][_0x8469b9(0x19a)],{'answers':Array[_0x8469b9(0x2fd)](this[_0x8469b9(0x679)])[_0x8469b9(0x5d9)](_0xe7bb25=>({'nodeId':_0xe7bb25[_0x8469b9(0x286)],'type':_0xe7bb25[_0x8469b9(0x2b7)]}))});const _0xe54c26=Array['from'](this[_0x8469b9(0x679)])[_0x8469b9(0x5d9)](_0x3bf800=>_0x3bf800[_0x8469b9(0x286)]);this[_0x8469b9(0x3c7)]=_0x226de0,this[_0x8469b9(0x1d6)][_0x8469b9(0x4b0)]({'sourceId':_0x5ae971,'destinationIds':_0xe54c26,'messageType':_0x3421b2['Subscription'],'content':{'type':_0x5d7a24['NeedMediaStream'],'label':_0x218b9f,'ownerId':_0x47e489,'trackKinds':_0x51f90b,'params':_0x226de0}}),_0x20481a[_0x8469b9(0x517)](_0x5483cd[_0x8469b9(0x4e6)],_0x8469b9(0x1f7),_0x5ae971,_0xe54c26);}['handleSubscriptionSystemEvents'](_0x3cf8f5,_0xfb7d62){const _0x3d5eb9=_0x27a6cf;switch(_0xfb7d62['type']){case _0x5d7a24[_0x3d5eb9(0x5e4)]:{const _0x403de4=this['currentDistance']>=_0xfb7d62[_0x3d5eb9(0x666)]&&_0xfb7d62[_0x3d5eb9(0x666)]<=this['maxDistance'],_0x51575b=Array[_0x3d5eb9(0x2fd)](this[_0x3d5eb9(0x679)])[_0x3d5eb9(0x613)](_0x225822=>_0x225822['nodeId']===_0x3cf8f5);_0x51575b[_0x3d5eb9(0x2b7)]=_0x403de4?_0x2f4a06['Accepted']:_0x2f4a06[_0x3d5eb9(0x657)],_0x51575b['cost']=_0xfb7d62[_0x3d5eb9(0x52b)],_0x51575b[_0x3d5eb9(0x666)]=_0xfb7d62[_0x3d5eb9(0x666)],_0x51575b[_0x3d5eb9(0x4f1)]=_0xfb7d62[_0x3d5eb9(0x4f1)],_0x51575b[_0x3d5eb9(0x36c)]=Date[_0x3d5eb9(0x534)]()-this[_0x3d5eb9(0x21b)],_0x51575b[_0x3d5eb9(0x3c7)]=this['params'],_0x51575b[_0x3d5eb9(0x6f4)]=_0xfb7d62[_0x3d5eb9(0x6f4)],_0x51575b['trackKinds']=_0xfb7d62[_0x3d5eb9(0x3ae)],_0x51575b['streamLabel']=_0xfb7d62[_0x3d5eb9(0x533)],_0x20481a[_0x3d5eb9(0x517)](_0x5483cd[_0x3d5eb9(0x4e6)],(_0x403de4?'Accepted':_0x3d5eb9(0x657))+'\x20answer',_0x51575b);break;}case _0x5d7a24[_0x3d5eb9(0x421)]:{const _0x5c4b82=Array[_0x3d5eb9(0x2fd)](this[_0x3d5eb9(0x679)])[_0x3d5eb9(0x613)](_0x46e2d4=>_0x46e2d4['nodeId']===_0x3cf8f5);_0x5c4b82[_0x3d5eb9(0x2b7)]=_0x2f4a06[_0x3d5eb9(0x657)],_0x20481a[_0x3d5eb9(0x517)](_0x5483cd[_0x3d5eb9(0x4e6)],_0x3d5eb9(0x736),_0x5c4b82);break;}}if(this[_0x3d5eb9(0x475)]())return this[_0x3d5eb9(0x48a)]();}[_0x27a6cf(0x48a)](){const _0x33f418=_0x27a6cf,_0x2190e9=Array[_0x33f418(0x2fd)](this[_0x33f418(0x679)])[_0x33f418(0x57c)](_0x5e13db=>_0x5e13db[_0x33f418(0x2b7)]===_0x2f4a06[_0x33f418(0x5e5)])[_0x33f418(0x389)]((_0x23e190,_0x5d1c9b)=>_0x23e190['cost']===_0x5d1c9b[_0x33f418(0x52b)]?_0x23e190[_0x33f418(0x36c)]-_0x5d1c9b[_0x33f418(0x36c)]:_0x23e190[_0x33f418(0x52b)]-_0x5d1c9b['cost']);if(0x0===_0x2190e9[_0x33f418(0x1d0)])throw new _0x2d2d59(_0x2d2d59['codes'][_0x33f418(0x19a)],{'answers':Array[_0x33f418(0x2fd)](this[_0x33f418(0x679)])[_0x33f418(0x5d9)](_0xec7f75=>({'nodeId':_0xec7f75['nodeId'],'type':_0xec7f75[_0x33f418(0x2b7)]}))});return _0x20481a[_0x33f418(0x517)](_0x5483cd[_0x33f418(0x4e6)],_0x33f418(0x2a6),_0x2190e9[0x0],this['answers']),_0x2190e9[0x0];}[_0x27a6cf(0x475)](){const _0x1ce5ce=_0x27a6cf;for(const _0x556601 of this[_0x1ce5ce(0x679)])if(_0x556601[_0x1ce5ce(0x2b7)]===_0x2f4a06['Waiting'])return!0x1;return!0x0;}}class _0x2a97a0{[_0x27a6cf(0x533)];[_0x27a6cf(0x43a)];[_0x27a6cf(0x3d2)]=_0x22f6ab();constructor(_0x50dd6b,_0x51b3ad){const _0x53cda2=_0x27a6cf;this[_0x53cda2(0x533)]=_0x50dd6b,this[_0x53cda2(0x43a)]=_0x51b3ad;}[_0x27a6cf(0x1c9)](){const _0x314a5a=_0x27a6cf;return this[_0x314a5a(0x533)];}['getContentType'](){return this['contentType'];}['registerSource'](_0x5b433e){const _0x585781=_0x27a6cf;_0x5b433e[_0x585781(0x1e8)](this);}[_0x27a6cf(0x27a)](_0x35c653){const _0x3d2b90=_0x27a6cf;_0x35c653[_0x3d2b90(0x40a)](this);}[_0x27a6cf(0x4b0)](_0x4484e7){const _0xddf920=_0x27a6cf;this[_0xddf920(0x3d2)][_0xddf920(0x4b0)]({'topicLabel':this[_0xddf920(0x533)],'contentType':this[_0xddf920(0x43a)],'uuid':(0x0,_0x3a0c40['v4'])(),'recipients':[],..._0x4484e7});}['subscribe'](_0x45ebb2){const _0x11af03=_0x27a6cf;return this[_0x11af03(0x3d2)][_0x11af03(0x290)](_0x45ebb2);}[_0x27a6cf(0x68e)](_0x436d8e){const _0x4bb1a1=_0x27a6cf;_0x436d8e[_0x4bb1a1(0x3cb)](this);}[_0x27a6cf(0x247)](_0x4a65cc){const _0x2438d2=_0x27a6cf;_0x4a65cc[_0x2438d2(0x18f)](this);}}class _0x568bf9{[_0x27a6cf(0x4af)]={'topics':new Map(),'subscriptions':new Map()};[_0x27a6cf(0x5fe)];constructor(_0x125715){this['getPartsFromSubscription']=_0x125715;}get['subscriptions'](){const _0x1d7b2b=_0x27a6cf;return this[_0x1d7b2b(0x4af)][_0x1d7b2b(0x46a)];}get[_0x27a6cf(0x60c)](){const _0x293f2f=_0x27a6cf;return this['maps'][_0x293f2f(0x60c)];}[_0x27a6cf(0x6a2)](_0x4dc8b5,_0x492d74){const _0x3cd9ef=_0x27a6cf,_0x4782ce=this['getPartsFromSubscription'](_0x492d74),_0x2a17d5=_0x263cd1(_0x4dc8b5);if(!_0x4782ce[_0x3cd9ef(0x63e)])throw new _0x2d2d59(_0x2d2d59['codes'][_0x3cd9ef(0x43e)],{'message':_0x2a17d5+':\x20'+_0x4782ce[_0x3cd9ef(0x5fc)]+_0x3cd9ef(0x4cb)+_0x4782ce['contentType'],'subscriptionType':_0x4dc8b5,'subscription':_0x492d74,'subscriptonParts':_0x4782ce});const _0x47e064=_0x147f15(_0x4dc8b5,_0x4782ce);if(this[_0x3cd9ef(0x4af)]['subscriptions'][_0x3cd9ef(0x25a)](_0x47e064))throw new _0x2d2d59(_0x2d2d59[_0x3cd9ef(0x49c)][_0x3cd9ef(0x43e)],{'message':_0x2a17d5+':\x20'+_0x47e064+_0x3cd9ef(0x72d),'subscriptionType':_0x4dc8b5,'subscription':_0x492d74,'subscriptonParts':_0x4782ce});this[_0x3cd9ef(0x4af)]['subscriptions'][_0x3cd9ef(0x734)](_0x47e064,_0x492d74),this[_0x3cd9ef(0x55d)](_0x4782ce,_0x492d74);}[_0x27a6cf(0x417)](_0x5943af,_0xad4a8e){const _0x18a00f=_0x27a6cf,_0xfe34e1=_0x147f15(_0xad4a8e,_0x5943af),_0x24be74=this['maps'][_0x18a00f(0x46a)][_0x18a00f(0x1d2)](_0xfe34e1);if(!_0x24be74)throw new _0x2d2d59(_0x2d2d59['codes'][_0x18a00f(0x43e)],{'message':_0x263cd1(_0xad4a8e)+':\x20'+_0xfe34e1+_0x18a00f(0x300),'subscriptionType':_0xad4a8e,'subscription':_0x24be74,'subscriptonParts':_0x5943af});this[_0x18a00f(0x581)](_0x24be74,_0xfe34e1,_0x5943af);}[_0x27a6cf(0x581)](_0x2e0f50,_0xdd2b53,_0x3d7961){const _0xd82acf=_0x27a6cf;_0x3d7961=_0x3d7961||this['getPartsFromSubscription'](_0x2e0f50),this[_0xd82acf(0x4af)]['subscriptions'][_0xd82acf(0x370)](_0xdd2b53),this[_0xd82acf(0x5aa)](_0x3d7961,_0x2e0f50);}['createTopic'](_0x1af405,{source:_0x10ab06,destination:_0x25f504}){const _0x353af1=_0x27a6cf,{contentType:_0x52e22e,label:_0x279385,remoteId:_0x1d7301}=_0x1af405,_0x3348b=_0x1e7e5e(_0x52e22e,_0x279385,_0x1d7301),_0x55e4be=new _0x2a97a0(_0x3348b,_0x52e22e);_0x55e4be[_0x353af1(0x71d)](_0x10ab06),_0x55e4be[_0x353af1(0x27a)](_0x25f504),this[_0x353af1(0x4af)]['topics'][_0x353af1(0x734)](_0x55e4be[_0x353af1(0x1c9)](),_0x55e4be);}[_0x27a6cf(0x5aa)](_0x5bb368,_0x30ecb5){const _0x22e8ce=_0x27a6cf,{contentType:_0x1c02e8,label:_0x369abb,remoteId:_0x195f69}=_0x5bb368,_0x10016d=_0x1e7e5e(_0x1c02e8,_0x369abb,_0x195f69),_0x4eb129=this[_0x22e8ce(0x4af)][_0x22e8ce(0x60c)][_0x22e8ce(0x1d2)](_0x10016d);_0x4eb129&&(this[_0x22e8ce(0x6ae)](_0x4eb129,_0x30ecb5),this[_0x22e8ce(0x4af)]['topics'][_0x22e8ce(0x370)](_0x10016d));}[_0x27a6cf(0x6ae)](_0x3ee6c5,{source:_0x27dc4,destination:_0x17d2f9}){const _0x5edcbd=_0x27a6cf;_0x3ee6c5[_0x5edcbd(0x68e)](_0x27dc4),_0x3ee6c5[_0x5edcbd(0x247)](_0x17d2f9);}[_0x27a6cf(0x242)](_0x822e7c){const _0xab6bc8=_0x27a6cf;this[_0xab6bc8(0x4af)][_0xab6bc8(0x46a)][_0xab6bc8(0x469)]((_0x2efda0,_0x307a68)=>{_0x307a68['endsWith'](_0x822e7c)&&this['closeSubscription'](_0x2efda0,_0x307a68);});}}class _0x5e9fb8{['configs'];[_0x27a6cf(0x738)];[_0x27a6cf(0x715)]=new Map();[_0x27a6cf(0x62e)]=_0x446e2c(new _0x7806b5(this[_0x27a6cf(0x71f)][_0x27a6cf(0x5f9)](this),()=>_0x199808[_0x27a6cf(0x701)](0x64)),!0x0);[_0x27a6cf(0x611)]=new Map();[_0x27a6cf(0x4af)];[_0x27a6cf(0x3a0)]=new Map();constructor(_0x375bd8,_0x3812d1){const _0x2595bc=_0x27a6cf;this[_0x2595bc(0x457)]=_0x375bd8,this[_0x2595bc(0x738)]=_0x3812d1,this['maps']=new _0x568bf9(({source:_0x35b6b2,destination:_0x32d90e})=>_0x17b227(_0x32d90e,_0x35b6b2));}['createSubscription'](_0xf32ea5,_0xa8c498){const _0x55901c=_0x27a6cf,_0x16a5b0=this[_0x55901c(0x716)](_0xf32ea5)&&this[_0x55901c(0x51f)](_0xa8c498)?new _0x363cc2(_0xf32ea5,_0xa8c498):new _0x1381e9(_0xf32ea5,_0xa8c498);this[_0x55901c(0x4af)][_0x55901c(0x6a2)](_0x469f1e[_0x55901c(0x4b4)],_0x16a5b0),this['configs'][_0x55901c(0x652)][_0x55901c(0x3ef)](_0x16a5b0);}['removeSubscription'](_0x4d7386,_0x4d0727,_0x5329df=''){const _0x180984=_0x27a6cf,_0x79e824={'contentType':_0x4d0727,'label':_0x4d7386,'remoteId':_0x5329df},_0x5e073f=_0x147f15(_0x469f1e[_0x180984(0x4b4)],_0x79e824),_0xe12b51=this[_0x180984(0x4af)]['subscriptions'][_0x180984(0x1d2)](_0x5e073f);_0xe12b51&&this[_0x180984(0x581)](_0xe12b51,_0x5e073f);}[_0x27a6cf(0x713)](_0x523937){const _0x6cd729=_0x27a6cf;this[_0x6cd729(0x3d3)](_0x523937);}[_0x27a6cf(0x725)]({label:_0x3adb01,ownerId:_0xedc9d2,trackKinds:_0x5e2cfe,params:_0x1e614d}){const _0x4a96db=_0x27a6cf;this[_0x4a96db(0x3e0)](_0x3adb01,_0xedc9d2,_0x5e2cfe,_0x1e614d);}[_0x27a6cf(0x50a)]({ownerId:_0x34da00,label:_0x432ff9,params:_0x2ac232}){const _0x511c31=_0x27a6cf,{subscriptionLabel:_0xd5a52a}=this[_0x511c31(0x23b)](_0x432ff9,_0x34da00),_0x47d094=this[_0x511c31(0x228)](_0xd5a52a);_0x47d094&&_0x47d094[_0x511c31(0x53e)](_0x34da00,_0x2ac232);}[_0x27a6cf(0x26b)]({ownerId:_0x20c928,label:_0x5abdf1,trackKinds:_0x1caa2e,remainingTracks:_0x3d8333}){const _0xe746c2=_0x27a6cf,_0x1f34af=_0x147f15(_0x469f1e[_0xe746c2(0x4b4)],{'contentType':_0x1176cc[_0xe746c2(0x6d9)][_0xe746c2(0x2be)],'label':_0x5abdf1,'remoteId':_0x20c928});this[_0xe746c2(0x32c)](_0x1f34af);const _0x36b3f0=this['subscriptionRequests'][_0xe746c2(0x1d2)](_0x1f34af);_0x36b3f0&&(this[_0xe746c2(0x457)][_0xe746c2(0x652)][_0xe746c2(0x1cc)](_0x36b3f0),this[_0xe746c2(0x715)][_0xe746c2(0x370)](_0x1f34af));const {parts:_0x5bf7a5,subscriptionLabel:_0x469dc0}=this[_0xe746c2(0x23b)](_0x5abdf1,_0x20c928),_0x8607fd=this[_0xe746c2(0x228)](_0x469dc0);_0x8607fd&&(_0x8607fd[_0xe746c2(0x1b7)](_0x20c928,_0x3d8333,_0x1caa2e),0x0===_0x3d8333&&this[_0xe746c2(0x417)](_0x5bf7a5[_0xe746c2(0x533)],_0x5bf7a5[_0xe746c2(0x43a)],_0x5bf7a5[_0xe746c2(0x5fc)]));}[_0x27a6cf(0x253)](_0x24eeae,{label:_0xc1e462,ownerId:_0x4b739f,trackKinds:_0x7c9edd,streamId:_0x427168,params:_0x20a034}){const _0x54a155=_0x27a6cf,_0x5cdc01=_0x147f15(_0x469f1e[_0x54a155(0x4b4)],{'contentType':_0x1176cc[_0x54a155(0x6d9)][_0x54a155(0x2be)],'label':_0x427168,'remoteId':_0x24eeae}),_0x97b8af=this[_0x54a155(0x4af)][_0x54a155(0x46a)][_0x54a155(0x1d2)](_0x5cdc01);if(!(_0x97b8af&&_0x97b8af instanceof _0x363cc2))throw new _0x2d2d59(_0x2d2d59['codes'][_0x54a155(0x741)],{'label':_0x5cdc01,'ownerId':_0x4b739f});this[_0x54a155(0x581)](_0x97b8af,_0x5cdc01),this['requestSubscription'](_0xc1e462,_0x4b739f,_0x7c9edd,_0x20a034);}[_0x27a6cf(0x614)](_0x165118,_0x2eae6e){const _0x463aac=_0x27a6cf,{label:_0x179159,ownerId:_0x2bbed1,trackKinds:_0x51dd6d,params:_0x4ac638}=_0x2eae6e,_0x559619=_0x147f15(_0x469f1e['Incoming'],{'contentType':_0x1176cc[_0x463aac(0x6d9)]['Media'],'label':_0x179159,'remoteId':_0x2bbed1});if(!this[_0x463aac(0x715)][_0x463aac(0x25a)](_0x559619))throw new _0x2d2d59(_0x2d2d59[_0x463aac(0x49c)]['SubscriptionRequestDoesNotExist'],{'label':_0x559619,'ownerId':_0x2bbed1,'streamId':_0x2eae6e['streamId'],'requests':this[_0x463aac(0x715)]});const _0x5765ff=this[_0x463aac(0x715)][_0x463aac(0x1d2)](_0x559619);if(_0x51dd6d[_0x463aac(0x1d0)]===_0x5765ff['getTracks']()[_0x463aac(0x1d0)]&&_0x51dd6d['every'](_0x10e365=>_0x5765ff[_0x463aac(0x467)]()[_0x463aac(0x607)](_0x10e365)))try{const _0x501dc3=_0x5765ff['handleSubscriptionSystemEvents'](_0x165118,_0x2eae6e);if(!_0x501dc3)return;this[_0x463aac(0x290)](_0x501dc3,_0x2bbed1,_0x179159,_0x559619,_0x51dd6d);}catch(_0x167de4){return void this['handleNoAnswer'](_0x179159,_0x2bbed1,_0x51dd6d,_0x4ac638);}}['handleSubscriptionMediaStreamUnavailable'](_0x5b1eab,{label:_0x157f5c,ownerId:_0x4eb35b,trackKinds:_0x2fe725}){const _0x13621e=_0x27a6cf,_0x5486eb=this[_0x13621e(0x457)][_0x13621e(0x652)]['getRemoteMediaStream'](_0x4eb35b,_0x157f5c);if(!_0x5486eb)return;const _0x237ff4=_0x5486eb[_0x13621e(0x274)](),_0x3d0daf=_0x5486eb[_0x13621e(0x65c)]();_0x3d0daf['some'](_0x31b0a6=>_0x2fe725[_0x13621e(0x607)](_0x31b0a6))&&this[_0x13621e(0x5ad)](_0x5b1eab,_0x157f5c,_0x237ff4,_0x4eb35b,_0x3d0daf);}['handleContentRemoteMediaStreamTrackFail']({label:_0x249e5d,providerId:_0x5e5fa0,ownerId:_0x39f268,streamId:_0x2ecf7e,trackKinds:_0x151b41}){const _0x4e3156=_0x27a6cf;this[_0x4e3156(0x5ad)](_0x5e5fa0,_0x249e5d,_0x2ecf7e,_0x39f268,_0x151b41);}[_0x27a6cf(0x1ec)](_0x3e07c2){const _0x23c628=_0x27a6cf;for(const _0xa1046e of this[_0x23c628(0x3a0)][_0x23c628(0x2f6)]()){const {streamLabel:_0x461c79,ownerId:_0x3fc3b1,trackKinds:_0x9f55ee,params:_0x392583}=_0xa1046e;if(!_0x3fc3b1||!_0x9f55ee||!_0x461c79)return;this[_0x23c628(0x62e)]['push']({'label':_0x461c79,'ownerId':_0x3fc3b1,'trackKinds':_0x9f55ee,'params':_0x392583,'remoteId':_0x3e07c2});}}['removeSubscriptionsForNode'](_0x4ab86a){const _0x5ebaba=_0x27a6cf;this['maps']['subscriptions'][_0x5ebaba(0x469)]((_0xde45f8,_0x40cb82)=>{const _0x4d7a4c=_0x5ebaba;if(_0x40cb82[_0x4d7a4c(0x1e7)](_0x4ab86a)){if(_0xde45f8[_0x4d7a4c(0x422)]['getContentType']()===_0x1176cc[_0x4d7a4c(0x6d9)][_0x4d7a4c(0x2be)]){const _0x202ab3=_0xde45f8[_0x4d7a4c(0x422)];if(_0x202ab3[_0x4d7a4c(0x65c)]()[_0x4d7a4c(0x1d0)]>0x0){const _0x5389b7={'type':_0x5d7a24[_0x4d7a4c(0x1ae)],'label':_0x202ab3[_0x4d7a4c(0x1c9)](),'ownerId':_0x202ab3[_0x4d7a4c(0x6a3)](),'trackKinds':_0x202ab3[_0x4d7a4c(0x65c)]()};return void this[_0x4d7a4c(0x265)](_0x4ab86a,_0x5389b7);}}this[_0x4d7a4c(0x581)](_0xde45f8,_0x40cb82);}});}[_0x27a6cf(0x33d)](){const _0x9055a2=_0x27a6cf;this[_0x9055a2(0x4af)][_0x9055a2(0x46a)][_0x9055a2(0x469)](this[_0x9055a2(0x581)][_0x9055a2(0x5f9)](this));}[_0x27a6cf(0x290)](_0x1fdac3,_0x124101,_0x2f444b,_0x42d95d,_0xabe3b8){const _0x4f1645=_0x27a6cf,_0x4c8238=this[_0x4f1645(0x457)][_0x4f1645(0x652)][_0x4f1645(0x320)](_0x1fdac3[_0x4f1645(0x286)]),_0x24af50=this[_0x4f1645(0x457)][_0x4f1645(0x652)]['getRemoteMediaStream'](_0x124101,_0x2f444b);this[_0x4f1645(0x32c)](_0x42d95d),this[_0x4f1645(0x715)][_0x4f1645(0x25a)](_0x42d95d)&&(this[_0x4f1645(0x457)]['mediator'][_0x4f1645(0x1cc)](this['subscriptionRequests'][_0x4f1645(0x1d2)](_0x42d95d)),this[_0x4f1645(0x715)][_0x4f1645(0x370)](_0x42d95d)),this[_0x4f1645(0x1df)](_0x1fdac3,_0x124101,_0x2f444b,_0x24af50),_0x24af50[_0x4f1645(0x259)](_0x1fdac3[_0x4f1645(0x4f1)]),_0x24af50['setProviderId'](_0x1fdac3[_0x4f1645(0x286)]);const _0x5058f3=_0x17b227(_0x24af50,_0x4c8238),_0x2be16c=_0x147f15(_0x469f1e[_0x4f1645(0x4b4)],_0x5058f3);this['maps'][_0x4f1645(0x46a)]['has'](_0x2be16c)||this['createSubscription'](_0x4c8238,_0x24af50);const _0x42394a=this[_0x4f1645(0x4af)][_0x4f1645(0x46a)][_0x4f1645(0x1d2)](_0x2be16c);if(!(_0x42394a&&_0x42394a instanceof _0x363cc2))throw new _0x2d2d59(_0x2d2d59['codes'][_0x4f1645(0x741)],{'label':_0x42d95d,'ownerId':_0x124101});_0x20481a[_0x4f1645(0x639)]('subscription',{'clusterId':this[_0x4f1645(0x457)][_0x4f1645(0x698)],'nodeId':this['configs'][_0x4f1645(0x70b)][_0x4f1645(0x4cd)](),'nodeType':this['configs'][_0x4f1645(0x70b)]['type'],'data':{'subscriptionLabel':_0x2be16c,'chosenAnswer':_0x1fdac3}}),this['chosenAnswers'][_0x4f1645(0x734)](_0x2be16c,_0x1fdac3),_0x42394a['subscribe'](_0x124101,_0xabe3b8,_0x1fdac3[_0x4f1645(0x3c7)]);}[_0x27a6cf(0x3d3)]({ownerId:_0x439ced,label:_0x1006d6}){const _0x24f2d5=_0x27a6cf,_0x256c2e=this['configs']['mediator'][_0x24f2d5(0x1e3)](_0x439ced,_0x1006d6),[_0x22f66e,_0x297e1f]=Array[_0x24f2d5(0x2fd)](this[_0x24f2d5(0x4af)][_0x24f2d5(0x46a)]['entries']())[_0x24f2d5(0x613)](([_0x46fdad,_0x559719])=>-0x1!==_0x46fdad[_0x24f2d5(0x5f8)](_0x256c2e[_0x24f2d5(0x274)]()));return this[_0x24f2d5(0x581)](_0x297e1f,_0x22f66e);}[_0x27a6cf(0x581)](_0x188e0e,_0x1cc4ac){const _0x5b1750=_0x27a6cf;this[_0x5b1750(0x457)][_0x5b1750(0x652)][_0x5b1750(0x1cc)](_0x188e0e),this[_0x5b1750(0x4af)][_0x5b1750(0x581)](_0x188e0e,_0x1cc4ac);}[_0x27a6cf(0x716)](_0x12fcbe){const _0x51a80c=_0x27a6cf;return _0x12fcbe[_0x51a80c(0x64d)]()[_0x51a80c(0x607)](_0x1176cc[_0x51a80c(0x6d9)][_0x51a80c(0x2be)]);}['isMediaDestination'](_0xc7392c){const _0x498e22=_0x27a6cf;return _0xc7392c[_0x498e22(0x2e0)]()===_0x1176cc[_0x498e22(0x6d9)][_0x498e22(0x2be)];}async[_0x27a6cf(0x360)](_0x5d9277,_0x3442c5,_0x50287b,_0x5ce241){const _0x53baed=_0x27a6cf;await _0x199808['wait'](0x3e8);const _0x5e43cf=_0x147f15(_0x469f1e[_0x53baed(0x4b4)],{'contentType':_0x1176cc['ContentType'][_0x53baed(0x2be)],'label':_0x5d9277,'remoteId':_0x3442c5});this[_0x53baed(0x32c)](_0x5e43cf);const _0xd928e9=this['subscriptionRequests']['get'](_0x5e43cf);if(!_0xd928e9)throw new _0x2d2d59(_0x2d2d59[_0x53baed(0x49c)][_0x53baed(0x741)],{'label':_0x5e43cf,'ownerId':_0x3442c5});const _0x394395=this['configs'][_0x53baed(0x652)][_0x53baed(0x1f8)](_0x1604b5=>_0x1604b5[_0x53baed(0x66f)]()),_0x5a9d1f=this['configs']['mediator']['getDistance'](this[_0x53baed(0x457)][_0x53baed(0x70b)][_0x53baed(0x4cd)](),_0x3442c5);_0xd928e9[_0x53baed(0x24a)](_0x394395[_0x53baed(0x5d9)](_0xc0fda7=>_0xc0fda7[_0x53baed(0x519)]()),_0x5a9d1f);try{_0xd928e9['sendRequest'](this[_0x53baed(0x457)][_0x53baed(0x70b)][_0x53baed(0x4cd)](),_0x3442c5,_0x5d9277,_0x50287b,_0x5ce241),this[_0x53baed(0x418)](_0x5d9277,_0x3442c5,_0x50287b,_0x5ce241,_0x5e43cf,_0xd928e9);}catch(_0x4f612f){this[_0x53baed(0x62e)][_0x53baed(0x647)]({'label':_0x5d9277,'ownerId':_0x3442c5,'trackKinds':_0x50287b,'params':_0x5ce241});}}[_0x27a6cf(0x3e0)](_0x21dda8,_0x579f17,_0x41eb34,_0x102fed){const _0x331039=_0x27a6cf;this['subscriptionRequestsQueue'][_0x331039(0x647)]({'label':_0x21dda8,'ownerId':_0x579f17,'trackKinds':_0x41eb34,'params':_0x102fed});}[_0x27a6cf(0x71f)]({label:_0x27b0e3,ownerId:_0x17d774,trackKinds:_0x5c4feb,params:_0x2156ab,remoteId:_0x5f0426}){const _0xaf6b21=_0x27a6cf;if(!this[_0xaf6b21(0x457)][_0xaf6b21(0x652)]['getRemoteMediaStream'](_0x17d774,_0x27b0e3))return;if(!this[_0xaf6b21(0x457)][_0xaf6b21(0x652)][_0xaf6b21(0x59c)]()['getRank']())throw new Error(_0xaf6b21(0x648));if(_0x5f0426){const _0x3c24d5=this[_0xaf6b21(0x457)][_0xaf6b21(0x652)]['getRemoteNodes']()[_0xaf6b21(0x613)](_0x584975=>_0x584975[_0xaf6b21(0x4cd)]()===_0x5f0426),_0x16b57d=_0x3c24d5?.[_0xaf6b21(0x378)]();if(!_0x3c24d5||!_0x16b57d)throw new Error(_0xaf6b21(0x6a0));const _0x52af41=this[_0xaf6b21(0x457)][_0xaf6b21(0x652)][_0xaf6b21(0x620)]()['find'](_0x3c52eb=>_0x3c52eb[_0xaf6b21(0x4cd)]()===_0x17d774),_0x46dd10=_0x52af41?.[_0xaf6b21(0x378)]();if(!_0x52af41||!_0x46dd10)throw new Error(_0xaf6b21(0x2a5));const _0xefcec0=this[_0xaf6b21(0x3a0)]['get'](_0x27b0e3);if(_0xefcec0){const _0x868b4d=this[_0xaf6b21(0x457)]['mediator']['getRemoteNodes']()['find'](_0x51579e=>_0x51579e[_0xaf6b21(0x4cd)]()===_0xefcec0[_0xaf6b21(0x286)]),_0x28a75b=_0x868b4d?.[_0xaf6b21(0x378)]();if(!_0x868b4d||!_0x28a75b)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math[_0xaf6b21(0x29d)](_0x28a75b-_0x46dd10)<Math[_0xaf6b21(0x29d)](_0x16b57d-_0x46dd10))return;}}const _0x5bb64a=this['configs']['mediator']['getConnections'](_0xaf011b=>_0xaf011b[_0xaf6b21(0x66f)]()&&(!_0x5f0426||_0xaf011b[_0xaf6b21(0x519)]()===_0x5f0426));if(!_0x5bb64a[_0xaf6b21(0x1d0)]||0x0===_0x5bb64a[_0xaf6b21(0x1d0)])throw new Error(_0xaf6b21(0x480));const _0x208bbc=this['configs'][_0xaf6b21(0x652)]['getDistance'](this[_0xaf6b21(0x457)][_0xaf6b21(0x70b)][_0xaf6b21(0x4cd)](),_0x17d774),_0x4554be=_0x147f15(_0x469f1e['Incoming'],{'contentType':_0x1176cc[_0xaf6b21(0x6d9)][_0xaf6b21(0x2be)],'label':_0x27b0e3,'remoteId':_0x17d774});if(this['subscriptionRequests'][_0xaf6b21(0x25a)](_0x4554be)){if(_0x5f0426)throw new Error(_0xaf6b21(0x530));const _0x17b5d7=this[_0xaf6b21(0x715)][_0xaf6b21(0x1d2)](_0x4554be)[_0xaf6b21(0x467)]();if(_0x17b5d7[_0xaf6b21(0x1d0)]===_0x5c4feb['length']&&_0x17b5d7['every'](_0x412eb5=>_0x5c4feb[_0xaf6b21(0x607)](_0x412eb5)))return;this[_0xaf6b21(0x457)][_0xaf6b21(0x652)][_0xaf6b21(0x1cc)](this['subscriptionRequests'][_0xaf6b21(0x1d2)](_0x4554be)),this['subscriptionRequests'][_0xaf6b21(0x370)](_0x4554be),_0x5c4feb=Array[_0xaf6b21(0x2fd)](new Set(_0x5c4feb[_0xaf6b21(0x523)](_0x17b5d7))),this[_0xaf6b21(0x32c)](_0x4554be);}const _0x5f16a8=new _0x16ef36(_0x5bb64a['map'](_0xb6dba7=>_0xb6dba7['getRemoteId']()),_0x208bbc,this[_0xaf6b21(0x738)],_0x5c4feb);this[_0xaf6b21(0x457)][_0xaf6b21(0x652)][_0xaf6b21(0x3ef)](_0x5f16a8),this[_0xaf6b21(0x715)][_0xaf6b21(0x734)](_0x4554be,_0x5f16a8),_0x5f16a8['sendRequest'](this[_0xaf6b21(0x457)]['localNode']['getId'](),_0x17d774,_0x27b0e3,_0x5c4feb,_0x2156ab),this[_0xaf6b21(0x418)](_0x27b0e3,_0x17d774,_0x5c4feb,_0x2156ab,_0x4554be,_0x5f16a8);}['clearSubscriptionRequestTimeout'](_0x41abea){const _0x271357=_0x27a6cf;this['subscriptionRequestTimeouts'][_0x271357(0x25a)](_0x41abea)&&(clearTimeout(this['subscriptionRequestTimeouts']['get'](_0x41abea)),this['subscriptionRequestTimeouts'][_0x271357(0x370)](_0x41abea));}[_0x27a6cf(0x418)](_0x2e9ae1,_0x42323a,_0x129454,_0x116707,_0x21d688,_0x44b415){const _0x2f3220=_0x27a6cf;this[_0x2f3220(0x32c)](_0x21d688),this[_0x2f3220(0x611)][_0x2f3220(0x734)](_0x21d688,setTimeout(()=>{const _0x43f083=_0x2f3220;this[_0x43f083(0x611)][_0x43f083(0x370)](_0x21d688);try{const _0x2de929=_0x44b415[_0x43f083(0x48a)]();this[_0x43f083(0x290)](_0x2de929,_0x42323a,_0x2e9ae1,_0x21d688,_0x129454);}catch(_0x1bc70f){this[_0x43f083(0x360)](_0x2e9ae1,_0x42323a,_0x129454,_0x116707);}},0x7d0));}[_0x27a6cf(0x5ad)](_0x4323a0,_0x4f5348,_0x5ad3d1,_0x14dc9d,_0xe67926){const _0x4f29d3=_0x27a6cf,{subscriptionLabel:_0x327d1c}=this[_0x4f29d3(0x23b)](_0x4f5348,_0x14dc9d),_0x198572=this[_0x4f29d3(0x228)](_0x327d1c),_0x4e8cf9=_0x198572?.[_0x4f29d3(0x3c7)];_0x198572&&(_0x198572[_0x4f29d3(0x1b7)](_0x14dc9d,0x0),this[_0x4f29d3(0x417)](_0x5ad3d1,_0x1176cc[_0x4f29d3(0x6d9)][_0x4f29d3(0x2be)],_0x4323a0)),this[_0x4f29d3(0x3e0)](_0x4f5348,_0x14dc9d,_0xe67926,_0x4e8cf9);}[_0x27a6cf(0x228)](_0x381045){const _0x136092=_0x27a6cf,_0x1a10ad=this[_0x136092(0x4af)]['subscriptions'][_0x136092(0x1d2)](_0x381045);if(_0x1a10ad){if(!(_0x1a10ad instanceof _0x363cc2))throw new _0x2d2d59(_0x2d2d59['codes'][_0x136092(0x43e)],{'label':_0x381045,'subscription':_0x1a10ad});return _0x1a10ad;}}[_0x27a6cf(0x23b)](_0x1b825a,_0x35c424){const _0x83ab18=_0x27a6cf,_0x25a094=this['getPartsForSubscriptionLabel'](_0x1b825a,_0x35c424);return{'parts':_0x25a094,'subscriptionLabel':_0x147f15(_0x469f1e[_0x83ab18(0x4b4)],_0x25a094)};}['getPartsForSubscriptionLabel'](_0xb84cb3,_0x339c55){const _0x2b91d2=_0x27a6cf,_0x4336c0=this[_0x2b91d2(0x457)]['mediator']['getRemoteMediaStream'](_0x339c55,_0xb84cb3),_0x5118e2=_0x4336c0[_0x2b91d2(0x18a)]();if(!_0x5118e2)throw new _0x2d2d59(_0x2d2d59[_0x2b91d2(0x49c)][_0x2b91d2(0x69c)],{'label':_0xb84cb3,'streamId':_0x4336c0['getInternalStreamId'](),'ownerId':_0x339c55,'localId':this[_0x2b91d2(0x457)][_0x2b91d2(0x70b)]['getId']()});return{'contentType':_0x1176cc[_0x2b91d2(0x6d9)][_0x2b91d2(0x2be)],'label':_0x4336c0[_0x2b91d2(0x274)](),'remoteId':_0x5118e2};}[_0x27a6cf(0x1df)](_0x33389a,_0x46da9a,_0x11fe6f,_0x289cf9){const _0x2cf6d3=_0x27a6cf,_0x5d096c=_0x289cf9[_0x2cf6d3(0x18a)]();if(_0x5d096c&&_0x5d096c!==_0x33389a[_0x2cf6d3(0x286)]){const {parts:_0x41cc0c,subscriptionLabel:_0x513ae1}=this[_0x2cf6d3(0x23b)](_0x11fe6f,_0x46da9a),_0x5dd682=this[_0x2cf6d3(0x228)](_0x513ae1);_0x5dd682&&(_0x5dd682[_0x2cf6d3(0x1b7)](_0x46da9a,0x0),this[_0x2cf6d3(0x417)](_0x41cc0c[_0x2cf6d3(0x533)],_0x41cc0c['contentType'],_0x41cc0c['remoteId']));}}}class _0x5b42c7{['configs'];[_0x27a6cf(0x1fa)];['maps'];constructor(_0x560151,_0x1cb5eb){const _0x52a26f=_0x27a6cf;this[_0x52a26f(0x457)]=_0x560151,this['maxOutgoingSubscriptions']=_0x1cb5eb,this[_0x52a26f(0x4af)]=new _0x568bf9(({source:_0x43fcd8,destination:_0x35fb4e})=>_0x17b227(_0x43fcd8,_0x35fb4e));}[_0x27a6cf(0x6a2)](_0x50ab9,_0x14774c){const _0x9ef025=_0x27a6cf,_0x24382c={'source':_0x50ab9,'destination':_0x14774c};this[_0x9ef025(0x4af)]['createSubscription'](_0x469f1e[_0x9ef025(0x22d)],_0x24382c);}['removeSubscription'](_0x47f684,_0x4f73da,_0x3e80cd=''){const _0x3647e9=_0x27a6cf,_0x2ac956={'contentType':_0x4f73da,'label':_0x47f684,'remoteId':_0x3e80cd};this['maps'][_0x3647e9(0x417)](_0x2ac956,_0x469f1e[_0x3647e9(0x22d)]);}[_0x27a6cf(0x6e1)](_0x45f2fc,_0x959ff){const _0x319781=_0x27a6cf;let _0x5de207;_0x5de207=_0x959ff[_0x319781(0x6f4)]!==this[_0x319781(0x457)][_0x319781(0x70b)][_0x319781(0x4cd)]()?this[_0x319781(0x457)][_0x319781(0x652)][_0x319781(0x1e3)](_0x959ff[_0x319781(0x6f4)],_0x959ff['label']):this[_0x319781(0x457)][_0x319781(0x652)][_0x319781(0x4e1)](_0x959ff[_0x319781(0x533)]);const _0x4f3ed1=_0x147f15(_0x469f1e[_0x319781(0x22d)],{'contentType':_0x1176cc[_0x319781(0x6d9)]['Media'],'label':_0x5de207['getShareableStreamId'](),'remoteId':_0x45f2fc}),_0x5d72e0=this[_0x319781(0x263)]();if(!this[_0x319781(0x4af)][_0x319781(0x46a)]['has'](_0x4f3ed1)&&_0x5d72e0>=this[_0x319781(0x1fa)])return{'type':_0x5d7a24['RestartNeedMediaStream'],'ownerId':_0x959ff[_0x319781(0x6f4)],'label':_0x959ff[_0x319781(0x533)],'streamId':_0x5de207[_0x319781(0x499)](),'trackKinds':_0x959ff[_0x319781(0x3ae)],'params':_0x959ff['params']};_0x5de207 instanceof _0x256229&&!_0x5de207['isSubscribed'](_0x959ff[_0x319781(0x3ae)])&&_0x5de207[_0x319781(0x290)](_0x959ff[_0x319781(0x3c7)]),this[_0x319781(0x4af)][_0x319781(0x46a)][_0x319781(0x25a)](_0x4f3ed1)||this[_0x319781(0x6a2)](_0x5de207[_0x319781(0x624)](_0x45f2fc),this[_0x319781(0x457)]['mediator']['getConnection'](_0x45f2fc));}[_0x27a6cf(0x26e)](_0x57461f,{label:_0x2c8fb0,ownerId:_0x4742c9,remainingTracks:_0x2630e4}){const _0x4feb98=_0x27a6cf;if(_0x2630e4>0x0)return;let _0x4c4a1c;_0x4c4a1c=_0x4742c9!==this[_0x4feb98(0x457)][_0x4feb98(0x70b)][_0x4feb98(0x4cd)]()?this[_0x4feb98(0x457)][_0x4feb98(0x652)]['getRemoteMediaStream'](_0x4742c9,_0x2c8fb0):this[_0x4feb98(0x457)]['mediator']['getLocalMediaStream'](_0x2c8fb0);const _0x1930ba=_0x4c4a1c['getShareableStreamId'](),_0x2b18a3=_0x1176cc['ContentType'][_0x4feb98(0x2be)];this['removeSubscription'](_0x1930ba,_0x2b18a3,_0x57461f);}[_0x27a6cf(0x26b)](_0x3819ef,{label:_0x559da9,ownerId:_0x3be022,trackKinds:_0x5a1a05}){const _0x18310f=_0x27a6cf;if(_0x3819ef!==_0x554820)return[];let _0xf85dc4=[];for(const _0x127fe0 of this[_0x18310f(0x4af)]['subscriptions']){const {source:_0x2c6ec3,destination:_0x24f720}=_0x127fe0[0x1];_0x2c6ec3[_0x18310f(0x1c9)]()===_0x559da9&&_0x2c6ec3['getOwnerId']()===_0x3be022&&_0xf85dc4[_0x18310f(0x647)]({'sourceId':this[_0x18310f(0x457)][_0x18310f(0x70b)]['getId'](),'destinationIds':[_0x24f720[_0x18310f(0x519)]()],'messageType':_0x3421b2['Subscription'],'content':{'type':_0x5d7a24['MediaStreamUnavailable'],'label':_0x559da9,'ownerId':_0x3be022,'trackKinds':_0x5a1a05}});}return _0xf85dc4;}['handleSubscriptionNeedMediaStream'](_0x3cd79a,_0x18c887){const _0x13d19b=_0x27a6cf,{label:_0x8ec9fa,ownerId:_0x516b41,trackKinds:_0x3e301b,params:_0x5eb8a2}=_0x18c887,{hasTracks:_0x19967a,streamId:_0xb8836c,hasResolution:_0xfcf04f,distance:_0x13447f,subscriptionLabel:_0xb961bf}=this['getSubscriptionInfo'](_0x3cd79a,_0x18c887);let _0x3e825d=this['getNumberOutgoingSubscriptions']()<this[_0x13d19b(0x1fa)]&&(_0x19967a||_0x13447f>-0x1)?_0x5d7a24['CanProvideMediaStream']:_0x5d7a24['CannotProvideMediaStream'];const _0x233063=_0x13447f<0x0?0xa:_0x13447f;let _0x143c67=_0x19967a?_0xfcf04f?_0x233063:_0x233063+0x0:_0x233063+0xa;return _0xb961bf&&this['maps'][_0x13d19b(0x46a)][_0x13d19b(0x25a)](_0xb961bf)&&(_0x19967a&&(_0x143c67=0x0),_0x3e825d=_0x5d7a24[_0x13d19b(0x5e4)]),{'type':_0x3e825d,'cost':_0x143c67,'distance':_0x13447f,'label':_0x8ec9fa,'ownerId':_0x516b41,'streamId':_0xb8836c,'trackKinds':_0x3e301b,'params':_0x5eb8a2};}[_0x27a6cf(0x713)](_0x43b861){const _0x1817ac=_0x27a6cf,{label:_0x300a64,ownerId:_0x1f78f9}=_0x43b861,_0x513c5d=this[_0x1817ac(0x457)][_0x1817ac(0x652)][_0x1817ac(0x1e3)](_0x1f78f9,_0x300a64);this[_0x1817ac(0x4af)][_0x1817ac(0x46a)][_0x1817ac(0x469)](_0x5497e4=>{const _0x2cd4e7=_0x1817ac;if(_0x5497e4[_0x2cd4e7(0x34b)][_0x2cd4e7(0x274)]()===_0x513c5d['getShareableStreamId']()){const _0x281a81=_0x5497e4[_0x2cd4e7(0x422)];this[_0x2cd4e7(0x417)](_0x513c5d[_0x2cd4e7(0x499)](),_0x1176cc[_0x2cd4e7(0x6d9)][_0x2cd4e7(0x2be)],_0x281a81[_0x2cd4e7(0x519)]());}});}['handleContentCloseMediaStream']({label:_0x34cac9}){const _0x4b92e7=_0x27a6cf,_0x48251d=this['configs'][_0x4b92e7(0x652)][_0x4b92e7(0x4e1)](_0x34cac9);this[_0x4b92e7(0x4af)][_0x4b92e7(0x46a)][_0x4b92e7(0x469)](_0x175c78=>{const _0x11aafb=_0x4b92e7;if(_0x175c78[_0x11aafb(0x34b)][_0x11aafb(0x274)]()===_0x48251d['getShareableStreamId']()){const _0x148fe4=_0x175c78[_0x11aafb(0x422)];this[_0x11aafb(0x417)](_0x48251d[_0x11aafb(0x499)](),_0x1176cc['ContentType'][_0x11aafb(0x2be)],_0x148fe4['getRemoteId']());}});}[_0x27a6cf(0x242)](_0x2b5a28){const _0x38bfdd=_0x27a6cf;this[_0x38bfdd(0x4af)]['removeSubscriptionsForNode'](_0x2b5a28);}[_0x27a6cf(0x33d)](){const _0x5a5fa0=_0x27a6cf;this[_0x5a5fa0(0x4af)]['subscriptions']['forEach'](this[_0x5a5fa0(0x581)][_0x5a5fa0(0x5f9)](this));}['closeSubscription'](_0x312e99,_0xc87560){const _0x4460f5=_0x27a6cf;this['maps'][_0x4460f5(0x581)](_0x312e99,_0xc87560);}[_0x27a6cf(0x244)](_0x108068,{label:_0x16d681,ownerId:_0x3438d1,trackKinds:_0x37df4e,params:_0x6d53be}){const _0x18341a=_0x27a6cf;if(_0x3438d1!==this[_0x18341a(0x457)][_0x18341a(0x70b)][_0x18341a(0x4cd)]()){const _0x1922de=this[_0x18341a(0x457)][_0x18341a(0x652)][_0x18341a(0x1e3)](_0x3438d1,_0x16d681);return _0x1922de&&_0x1922de[_0x18341a(0x18a)]()!==_0x108068?{'hasTracks':_0x1922de[_0x18341a(0x6da)](_0x37df4e),'hasResolution':this[_0x18341a(0x309)](_0x1922de[_0x18341a(0x506)](),_0x6d53be),'streamId':_0x1922de['getShareableStreamId'](),'distance':this[_0x18341a(0x457)][_0x18341a(0x652)][_0x18341a(0x252)](_0x108068,_0x3438d1),'subscriptionLabel':_0x147f15(_0x469f1e[_0x18341a(0x22d)],{'contentType':_0x1176cc[_0x18341a(0x6d9)][_0x18341a(0x2be)],'label':_0x1922de[_0x18341a(0x499)](),'remoteId':_0x108068})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x25a83c=this[_0x18341a(0x457)]['mediator'][_0x18341a(0x4e1)](_0x16d681);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x25a83c[_0x18341a(0x499)](),'distance':0x0,'subscriptionLabel':_0x147f15(_0x469f1e[_0x18341a(0x22d)],{'contentType':_0x1176cc['ContentType'][_0x18341a(0x2be)],'label':_0x25a83c[_0x18341a(0x499)](),'remoteId':_0x108068})};}[_0x27a6cf(0x263)](){const _0x461746=_0x27a6cf;return Array[_0x461746(0x2fd)](this[_0x461746(0x4af)][_0x461746(0x46a)]['entries']())[_0x461746(0x57c)](([_0x4b6978,{source:_0x7a8069}])=>_0x4b6978[_0x461746(0x529)](_0x469f1e[_0x461746(0x22d)])&&_0x7a8069['getContentType']()===_0x1176cc[_0x461746(0x6d9)][_0x461746(0x2be)])[_0x461746(0x1d0)];}[_0x27a6cf(0x309)](_0x133fbc,_0xec840e){const _0x53a268=_0x27a6cf;if(!_0xec840e||!_0xec840e['video']||'boolean'==typeof _0xec840e[_0x53a268(0x3f0)]||!_0xec840e[_0x53a268(0x3f0)][_0x53a268(0x591)])return!0x0;const {width:_0x5f795,height:_0x5cd877}=_0xec840e[_0x53a268(0x3f0)][_0x53a268(0x591)];return _0x133fbc['width']>=_0x5f795&&_0x133fbc[_0x53a268(0x731)]>=_0x5cd877;}}class _0x5557a7{['configs'];['maxOutgoingSubscriptions'];[_0x27a6cf(0x738)];['systemTopic'];[_0x27a6cf(0x2b2)];[_0x27a6cf(0x69e)];constructor(_0xb859f5,_0x3ef544,_0x2fe27d){const _0x3de5d5=_0x27a6cf;this[_0x3de5d5(0x457)]=_0xb859f5,this[_0x3de5d5(0x1fa)]=_0x3ef544,this[_0x3de5d5(0x738)]=_0x2fe27d,this[_0x3de5d5(0x457)][_0x3de5d5(0x652)][_0x3de5d5(0x3ef)](this),this['incomingManager']=new _0x5e9fb8(this[_0x3de5d5(0x457)],this['maxDistance']),this[_0x3de5d5(0x69e)]=new _0x5b42c7(this[_0x3de5d5(0x457)],this[_0x3de5d5(0x1fa)]);}[_0x27a6cf(0x6c0)](_0x36225f){const _0x5513ec=_0x27a6cf;this[_0x5513ec(0x1d6)]=_0x36225f;}[_0x27a6cf(0x5b0)](){const _0xca3296=_0x27a6cf;delete this[_0xca3296(0x1d6)];}[_0x27a6cf(0x33d)](){const _0x48a5d6=_0x27a6cf;this['incomingManager'][_0x48a5d6(0x33d)](),this[_0x48a5d6(0x69e)][_0x48a5d6(0x33d)](),this[_0x48a5d6(0x457)][_0x48a5d6(0x652)][_0x48a5d6(0x1cc)](this);}[_0x27a6cf(0x1d8)](_0x3a4fa6,_0x525df3){const _0x43e826=_0x27a6cf;this[_0x43e826(0x2b2)][_0x43e826(0x6a2)](_0x3a4fa6,_0x525df3);}[_0x27a6cf(0x49e)](_0x4a6bbe,_0x573958){const _0x3dcc11=_0x27a6cf;this[_0x3dcc11(0x69e)][_0x3dcc11(0x6a2)](_0x4a6bbe,_0x573958);}['removeIncomingSubscription'](_0x43d9bf,_0x16f29c,_0x1df864=''){const _0x913b2e=_0x27a6cf;this['incomingManager'][_0x913b2e(0x417)](_0x43d9bf,_0x16f29c,_0x1df864);}[_0x27a6cf(0x3dc)](_0x542cce,_0x211228,_0x430ece=''){const _0x546bcb=_0x27a6cf;try{this['outgoingManager'][_0x546bcb(0x417)](_0x542cce,_0x211228,_0x430ece);}catch(_0x5e18b8){if(_0x5e18b8 instanceof _0x2d2d59&&_0x5e18b8[_0x546bcb(0x6cc)]===_0x2d2d59[_0x546bcb(0x49c)][_0x546bcb(0x43e)])return;}}[_0x27a6cf(0x24c)](_0x333990){const _0x2356d6=_0x27a6cf;switch(_0x333990['content'][_0x2356d6(0x2b7)]){case _0x5d7a24[_0x2356d6(0x33b)]:this[_0x2356d6(0x6e1)](_0x333990[_0x2356d6(0x552)],_0x333990[_0x2356d6(0x5d4)]);break;case _0x5d7a24[_0x2356d6(0x710)]:this['outgoingManager'][_0x2356d6(0x26e)](_0x333990[_0x2356d6(0x552)],_0x333990['content']);break;case _0x5d7a24[_0x2356d6(0x2c6)]:this['handleSubscriptionNeedMediaStream'](_0x333990[_0x2356d6(0x552)],_0x333990[_0x2356d6(0x5d4)]);break;case _0x5d7a24['RestartNeedMediaStream']:this[_0x2356d6(0x2b2)][_0x2356d6(0x253)](_0x333990[_0x2356d6(0x552)],_0x333990[_0x2356d6(0x5d4)]);break;case _0x5d7a24['CanProvideMediaStream']:case _0x5d7a24[_0x2356d6(0x421)]:this['incomingManager'][_0x2356d6(0x614)](_0x333990[_0x2356d6(0x552)],_0x333990['content']);break;case _0x5d7a24[_0x2356d6(0x1ae)]:this['incomingManager']['handleSubscriptionMediaStreamUnavailable'](_0x333990[_0x2356d6(0x552)],_0x333990['content']);}}[_0x27a6cf(0x371)](_0x2a4d6a){const _0x133656=_0x27a6cf;switch(_0x2a4d6a['content']['type']){case _0x22acf3[_0x133656(0x21e)]:this[_0x133656(0x2b2)][_0x133656(0x713)](_0x2a4d6a[_0x133656(0x5d4)]),this[_0x133656(0x69e)]['handleContentUnpublishMediaStream'](_0x2a4d6a[_0x133656(0x5d4)]);break;case _0x22acf3[_0x133656(0x33b)]:this[_0x133656(0x2b2)][_0x133656(0x725)](_0x2a4d6a[_0x133656(0x5d4)]);break;case _0x22acf3[_0x133656(0x48b)]:this[_0x133656(0x2b2)]['handleContentUpdateMediaStream'](_0x2a4d6a[_0x133656(0x5d4)]);break;case _0x22acf3[_0x133656(0x710)]:this['handleContentUnsubscribeMediaStream'](_0x2a4d6a['sourceId'],_0x2a4d6a[_0x133656(0x5d4)]);break;case _0x22acf3[_0x133656(0x65e)]:this[_0x133656(0x69e)][_0x133656(0x6fe)](_0x2a4d6a['content']);break;case _0x22acf3[_0x133656(0x1ee)]:this[_0x133656(0x493)](_0x2a4d6a['content']);break;case _0x22acf3[_0x133656(0x478)]:this['handleContentCloseObjectStore'](_0x2a4d6a[_0x133656(0x5d4)]);break;case _0x22acf3[_0x133656(0x5ac)]:this[_0x133656(0x615)](_0x2a4d6a['content']);break;case _0x22acf3[_0x133656(0x2af)]:this[_0x133656(0x2b2)][_0x133656(0x2d3)](_0x2a4d6a['content']);}}[_0x27a6cf(0x386)]({content:_0x4876d5}){const _0x3a210e=_0x27a6cf;_0x4876d5[_0x3a210e(0x2b7)]===_0x1c6aa9['NodeLeave']&&this[_0x3a210e(0x242)](_0x4876d5);}[_0x27a6cf(0x36a)](_0x24e0e3){const _0x3198a2=_0x27a6cf;_0x24e0e3['content']['type']===_0x1ffd7c[_0x3198a2(0x501)]&&this[_0x3198a2(0x2b2)]['handleOptimizationConnectionSuccess'](_0x24e0e3['sourceId']);}['handleContentUnsubscribeMediaStream'](_0x1cb458,_0x3a6b58){const _0x549e3c=_0x27a6cf;this[_0x549e3c(0x2b2)][_0x549e3c(0x26b)](_0x3a6b58),this[_0x549e3c(0x69e)][_0x549e3c(0x26b)](_0x1cb458,_0x3a6b58)[_0x549e3c(0x469)](_0x187a43=>this[_0x549e3c(0x1d6)]['publish'](_0x187a43));}[_0x27a6cf(0x6e1)](_0x2f5419,_0xc1be45){const _0xd54f58=_0x27a6cf,_0x4aa915=this['outgoingManager'][_0xd54f58(0x6e1)](_0x2f5419,_0xc1be45);if(_0x4aa915&&(this['systemTopic'][_0xd54f58(0x4b0)]({'sourceId':this['configs']['localNode'][_0xd54f58(0x4cd)](),'destinationIds':[_0x2f5419],'messageType':_0x3421b2[_0xd54f58(0x4e6)],'content':_0x4aa915}),_0x4aa915[_0xd54f58(0x2b7)]===_0x5d7a24[_0xd54f58(0x44b)]))throw new _0x5afd36(_0xd54f58(0x74a));}['handleSubscriptionNeedMediaStream'](_0x465eb1,_0x19281e){const _0xe44772=_0x27a6cf,_0x210998=this[_0xe44772(0x69e)]['handleSubscriptionNeedMediaStream'](_0x465eb1,_0x19281e);this[_0xe44772(0x1d6)]['publish']({'sourceId':this[_0xe44772(0x457)][_0xe44772(0x70b)][_0xe44772(0x4cd)](),'destinationIds':[_0x465eb1],'messageType':_0x3421b2[_0xe44772(0x4e6)],'content':_0x210998});}[_0x27a6cf(0x5e7)]({label:_0x19ec42}){const _0x55c236=_0x27a6cf;this['removeIncomingSubscription'](_0x19ec42,_0x1176cc[_0x55c236(0x6d9)][_0x55c236(0x281)]),this[_0x55c236(0x3dc)](_0x19ec42,_0x1176cc['ContentType'][_0x55c236(0x281)]);}[_0x27a6cf(0x615)]({label:_0x31cd1f}){const _0x431c6b=_0x27a6cf;this[_0x431c6b(0x720)](_0x31cd1f,_0x1176cc[_0x431c6b(0x6d9)]['KeyValueDatabase']),this[_0x431c6b(0x3dc)](_0x31cd1f,_0x1176cc[_0x431c6b(0x6d9)][_0x431c6b(0x4ec)]);}['handleContentClosePubSubTopic']({label:_0x577b03}){const _0x1e221b=_0x27a6cf;this['removeIncomingSubscription'](_0x577b03,_0x1176cc[_0x1e221b(0x6d9)][_0x1e221b(0x6a9)]),this['removeOutgoingSubscription'](_0x577b03,_0x1176cc[_0x1e221b(0x6d9)][_0x1e221b(0x6a9)]);}['removeSubscriptionsForNode']({id:_0x1942f8}){const _0x228ff6=_0x27a6cf;this[_0x228ff6(0x2b2)][_0x228ff6(0x242)](_0x1942f8),this[_0x228ff6(0x69e)][_0x228ff6(0x242)](_0x1942f8);}}class _0x3a6e7d{[_0x27a6cf(0x533)];[_0x27a6cf(0x3d2)]=_0x22f6ab();constructor(){const _0x1eac25=_0x27a6cf;this[_0x1eac25(0x533)]=0x0;}[_0x27a6cf(0x1c9)](){const _0x4fc807=_0x27a6cf;return this[_0x4fc807(0x533)];}[_0x27a6cf(0x2e0)](){return _0x1176cc['ContentType']['Data'];}[_0x27a6cf(0x71d)](_0x56f11c){const _0x4b7f1b=_0x27a6cf;_0x56f11c[_0x4b7f1b(0x6c0)](this);}['unregisterSource'](_0x5ee102){const _0x33e3bf=_0x27a6cf;_0x5ee102[_0x33e3bf(0x5b0)]();}[_0x27a6cf(0x4b0)](_0x46ca87){const _0x594acb=_0x27a6cf;_0x20481a[_0x594acb(0x517)](_0x5483cd[_0x594acb(0x603)],_0x594acb(0x3e4),_0x46ca87[_0x594acb(0x552)],_0x46ca87),this[_0x594acb(0x3d2)]['publish']({'topicLabel':this[_0x594acb(0x533)],'contentType':_0x1176cc[_0x594acb(0x6d9)][_0x594acb(0x1eb)],'uuid':_0x46ca87[_0x594acb(0x4a7)]??(0x0,_0x3a0c40['v4'])(),'recipients':_0x46ca87['recipients']??[],..._0x46ca87});}['subscribe'](_0x54d265){const _0xc92522=_0x27a6cf;return this[_0xc92522(0x3d2)][_0xc92522(0x290)](_0x54d265);}}class _0x42ac5c{['minConnections'];[_0x27a6cf(0x5b6)];['maxDistance'];[_0x27a6cf(0x409)]=[];[_0x27a6cf(0x239)];[_0x27a6cf(0x488)]=new Map();constructor(_0x314146,_0x14e720,_0x724ab5){const _0x3ee4d9=_0x27a6cf;this[_0x3ee4d9(0x50d)]=_0x314146,this[_0x3ee4d9(0x5b6)]=_0x14e720,this['maxDistance']=_0x724ab5,this['maxLayer']=(this[_0x3ee4d9(0x5b6)]-0x2*this[_0x3ee4d9(0x50d)])/0x2,this[_0x3ee4d9(0x409)]['push']({'start':0x1,'end':this[_0x3ee4d9(0x67f)](0x1,0x1)-0x1});for(let _0x17d5d6=0x0;_0x17d5d6<this[_0x3ee4d9(0x239)];++_0x17d5d6)this[_0x3ee4d9(0x409)]['push']({'start':this[_0x3ee4d9(0x67f)](0x1,_0x17d5d6+0x1),'end':this['getNextTargetRank'](0x1,_0x17d5d6+0x2)-0x1});}[_0x27a6cf(0x67f)](_0x5b7d9d,_0x24a90b=0x1){const _0x7f27aa=_0x27a6cf;let _0x46a8ec=this[_0x7f27aa(0x738)]-this[_0x7f27aa(0x50d)],_0x2fefad=0x1;for(let _0x113bc1=0x1;_0x113bc1<_0x24a90b;++_0x113bc1)_0x46a8ec*=this['maxDistance']-this[_0x7f27aa(0x50d)]-_0x113bc1,_0x2fefad*=this[_0x7f27aa(0x738)]-this[_0x7f27aa(0x50d)]-_0x113bc1+0x1;return _0x46a8ec*this['minConnections']+_0x5b7d9d-_0x2fefad;}['getCurrentMaxLayer'](_0x714d31){const _0x13dd9f=_0x27a6cf;let _0x49fb2f=0x0;for(;this[_0x13dd9f(0x409)][_0x49fb2f][_0x13dd9f(0x1f9)]<_0x714d31;)_0x49fb2f+=0x1;return _0x49fb2f;}[_0x27a6cf(0x5db)](){return this['minConnections'];}[_0x27a6cf(0x1ac)](){const _0x5eccd0=_0x27a6cf;return this[_0x5eccd0(0x5b6)];}['getMaxDistance'](){const _0xe28062=_0x27a6cf;return this[_0xe28062(0x738)];}[_0x27a6cf(0x620)](){const _0x44a737=_0x27a6cf;return this[_0x44a737(0x488)];}[_0x27a6cf(0x692)](_0x869c31,_0x2154a5){const _0x33238f=_0x27a6cf;this[_0x33238f(0x488)][_0x33238f(0x734)](_0x869c31,_0x2154a5);}[_0x27a6cf(0x35e)](_0x1026a7){const _0x1018c2=_0x27a6cf;return this['remoteNodes'][_0x1018c2(0x25a)](_0x1026a7);}[_0x27a6cf(0x6e9)](_0x3520f8){const _0x2a54c8=_0x27a6cf;return this[_0x2a54c8(0x488)][_0x2a54c8(0x1d2)](_0x3520f8);}[_0x27a6cf(0x5af)](_0xb999b){const _0x5dde8a=_0x27a6cf;this['remoteNodes'][_0x5dde8a(0x370)](_0xb999b);}['getClosestNodes'](_0x25f85d,_0x7a3ff1){const _0x3eaf22=_0x27a6cf,_0x5d4a56=this['getRemoteNode'](_0x7a3ff1)?.[_0x3eaf22(0x378)]()??0x0;return _0x25f85d[_0x3eaf22(0x5d9)](_0x5b4a83=>this[_0x3eaf22(0x6e9)](_0x5b4a83))[_0x3eaf22(0x57c)](_0x1f55ec=>void 0x0!==_0x1f55ec)[_0x3eaf22(0x389)]((_0x5c3e08,_0x545b39)=>Math[_0x3eaf22(0x29d)](_0x5d4a56-(_0x5c3e08&&_0x5c3e08[_0x3eaf22(0x378)]()||0x1/0x0))-Math[_0x3eaf22(0x29d)](_0x5d4a56-(_0x545b39&&_0x545b39[_0x3eaf22(0x378)]()||0x1/0x0)))[_0x3eaf22(0x5d9)](_0x3d53d8=>_0x3d53d8[_0x3eaf22(0x4cd)]());}}class _0x23ee1a{[_0x27a6cf(0x25f)];['clusterId'];[_0x27a6cf(0x578)];[_0x27a6cf(0x59d)];['configs'];[_0x27a6cf(0x4e5)];['contentManager'];[_0x27a6cf(0x4bb)];['subscriptionManager'];[_0x27a6cf(0x237)];['detectionManager'];[_0x27a6cf(0x66c)];[_0x27a6cf(0x37d)];[_0x27a6cf(0x51a)];[_0x27a6cf(0x1d6)]=new _0x3a6e7d();['systemTopicUnsubscribe'];[_0x27a6cf(0x70b)];constructor(_0x511f78,_0x3bea8a,_0xeae247,_0x52bea4,_0x34ca5b,_0x1fc2e3,_0x4ef358){const _0x489e2f=_0x27a6cf;switch(this[_0x489e2f(0x25f)]=_0x511f78,this['clusterId']=_0x3bea8a,this[_0x489e2f(0x578)]=_0x52bea4,this[_0x489e2f(0x59d)]=_0x34ca5b,this[_0x489e2f(0x457)]=_0x1fc2e3,this[_0x489e2f(0x4e5)]=_0x4ef358,_0xeae247[_0x489e2f(0x2b7)]){case _0x1176cc[_0x489e2f(0x72f)]['User']:this[_0x489e2f(0x70b)]=new _0x23227b(_0xeae247[_0x489e2f(0x4cd)](),_0xeae247[_0x489e2f(0x311)](),_0xeae247[_0x489e2f(0x256)]());break;case _0x1176cc['NodeType'][_0x489e2f(0x2f3)]:default:this[_0x489e2f(0x70b)]=new _0x5c6b53(_0xeae247[_0x489e2f(0x4cd)]());}const _0x549694=this[_0x489e2f(0x541)]();this[_0x489e2f(0x51a)]=new _0x42ac5c(this[_0x489e2f(0x59d)][_0x489e2f(0x50d)],this[_0x489e2f(0x59d)][_0x489e2f(0x5b6)],this[_0x489e2f(0x59d)][_0x489e2f(0x738)]),this[_0x489e2f(0x511)]=new _0x283f8f(_0x549694,this['options']['maxFps'],this[_0x489e2f(0x59d)]['audioContext']),this[_0x489e2f(0x4bb)]=new _0x24420a(_0x549694,this[_0x489e2f(0x578)],this['configs'][_0x489e2f(0x73e)],this[_0x489e2f(0x59d)][_0x489e2f(0x36b)],this[_0x489e2f(0x59d)][_0x489e2f(0x61b)],this[_0x489e2f(0x51a)],this[_0x489e2f(0x59d)][_0x489e2f(0x2c8)]),this[_0x489e2f(0x307)]=new _0x5557a7(_0x549694,this[_0x489e2f(0x59d)]['maxOutgoingSubscriptions'],this[_0x489e2f(0x51a)][_0x489e2f(0x3e7)]()),this[_0x489e2f(0x237)]=new _0x2b4cdc(_0x549694),this[_0x489e2f(0x6b1)]=new _0x2e666a(_0x549694),this[_0x489e2f(0x66c)]=new _0x4e4b4d(_0x549694),this[_0x489e2f(0x37d)]=new _0x322b4d(_0x549694,this[_0x489e2f(0x51a)],this[_0x489e2f(0x70b)]),this['systemTopicUnsubscribe']=this[_0x489e2f(0x19d)]();}[_0x27a6cf(0x279)](){const _0x2fa1b3=_0x27a6cf,_0x318724=this['getConfigs']();this['connectionManager']=new _0x24420a(_0x318724,this['authService'],this[_0x2fa1b3(0x457)][_0x2fa1b3(0x73e)],this[_0x2fa1b3(0x59d)][_0x2fa1b3(0x36b)],this[_0x2fa1b3(0x59d)][_0x2fa1b3(0x61b)],this[_0x2fa1b3(0x51a)],this[_0x2fa1b3(0x59d)]['peerConnectionConnector']),this[_0x2fa1b3(0x307)]=new _0x5557a7(_0x318724,this[_0x2fa1b3(0x59d)][_0x2fa1b3(0x1fa)],this['graphService'][_0x2fa1b3(0x3e7)]()),this['statsManager']=new _0x2b4cdc(_0x318724),this[_0x2fa1b3(0x6b1)]=new _0x2e666a(_0x318724),this[_0x2fa1b3(0x66c)]=new _0x4e4b4d(_0x318724),this[_0x2fa1b3(0x37d)]=new _0x322b4d(_0x318724,this['graphService'],this[_0x2fa1b3(0x70b)]);const _0x3b0598=this['connectionManager']['getConnectionGroup']();this[_0x2fa1b3(0x511)][_0x2fa1b3(0x490)]()[_0x2fa1b3(0x469)](_0x374490=>{const _0x1f489f=_0x2fa1b3;this[_0x1f489f(0x307)][_0x1f489f(0x49e)](_0x374490,_0x3b0598),this[_0x1f489f(0x307)]['createIncomingSubscription'](_0x3b0598,_0x374490),_0x374490['reset']();}),this['contentManager'][_0x2fa1b3(0x495)]()[_0x2fa1b3(0x469)](_0x9a3e35=>{const _0x26255b=_0x2fa1b3;this['subscriptionManager'][_0x26255b(0x49e)](_0x9a3e35,_0x3b0598),this[_0x26255b(0x307)][_0x26255b(0x1d8)](_0x3b0598,_0x9a3e35),_0x9a3e35['reset'](),_0x9a3e35[_0x26255b(0x566)]();}),this[_0x2fa1b3(0x511)][_0x2fa1b3(0x513)]()[_0x2fa1b3(0x469)](_0x145eb2=>{const _0x23cc6d=_0x2fa1b3;this[_0x23cc6d(0x307)][_0x23cc6d(0x49e)](_0x145eb2,_0x3b0598),this[_0x23cc6d(0x307)][_0x23cc6d(0x1d8)](_0x3b0598,_0x145eb2),_0x145eb2['reset'](),this['syncKeyValueDatabase'](_0x145eb2);}),this[_0x2fa1b3(0x1fc)]=this[_0x2fa1b3(0x19d)]();}['registerSystemSource'](_0x3183a9){const _0x2b5bb6=_0x27a6cf;try{this['systemTopic'][_0x2b5bb6(0x71d)](_0x3183a9);}catch(_0x3d11b3){this[_0x2b5bb6(0x707)](_0x3d11b3,{});}}[_0x27a6cf(0x1cc)](_0x541538){const _0x5a470d=_0x27a6cf;try{this['systemTopic'][_0x5a470d(0x68e)](_0x541538);}catch(_0xea1989){this[_0x5a470d(0x707)](_0xea1989,{});}}['createConnection'](_0x2f853d,_0x228189){return this['connectionManager']['createConnection'](_0x2f853d,_0x228189);}[_0x27a6cf(0x320)](_0x559ed0){const _0x4a3312=_0x27a6cf;try{return this[_0x4a3312(0x4bb)]['getConnection'](_0x559ed0);}catch(_0x298411){throw this['handleError'](_0x298411,{});}}[_0x27a6cf(0x1f8)](_0x23da15){const _0x12f3d5=_0x27a6cf;try{return this[_0x12f3d5(0x4bb)][_0x12f3d5(0x1f8)](_0x23da15);}catch(_0x5d0f56){throw this['handleError'](_0x5d0f56,{});}}[_0x27a6cf(0x1e3)](_0x57d97d,_0x4c4e3f){const _0x4d1304=_0x27a6cf;try{return this[_0x4d1304(0x511)][_0x4d1304(0x29e)](_0x41233a=>_0x41233a['getOwnerId']()===_0x57d97d&&_0x41233a['getLabel']()===_0x4c4e3f)[0x0];}catch(_0x1ed1a7){throw this[_0x4d1304(0x707)](_0x1ed1a7,{});}}['getLocalMediaStream'](_0x11fc89){const _0x5f2cdb=_0x27a6cf;try{return this[_0x5f2cdb(0x511)][_0x5f2cdb(0x1c6)](_0x40bd05=>_0x40bd05['getLabel']()===_0x11fc89)[0x0];}catch(_0x49f7ce){throw this[_0x5f2cdb(0x707)](_0x49f7ce,{});}}[_0x27a6cf(0x35d)]=(..._0x18c0ed)=>{const _0x5b0033=_0x27a6cf;try{return this[_0x5b0033(0x4e5)][_0x5b0033(0x21c)](..._0x18c0ed);}catch(_0x34aba5){throw this[_0x5b0033(0x707)](_0x34aba5,{});}};['registerRemoteNode'](_0x378e00){const _0x4527d8=_0x27a6cf;try{this['statsManager'][_0x4527d8(0x4b3)](_0x378e00);}catch(_0x397de2){throw this['handleError'](_0x397de2,{});}}[_0x27a6cf(0x6d1)](_0x34105d){const _0x15fcfd=_0x27a6cf;try{this['statsManager']['removeRemoteNode'](_0x34105d);}catch(_0x4b8f4a){throw this[_0x15fcfd(0x707)](_0x4b8f4a,{});}}[_0x27a6cf(0x728)](_0x2eda8f){const _0x3625b8=_0x27a6cf;return this[_0x3625b8(0x4bb)]['collectStats'](_0x2eda8f);}async[_0x27a6cf(0x53c)](){const _0x973483=_0x27a6cf;try{await this[_0x973483(0x4bb)][_0x973483(0x53c)]();const _0x33e87a=await this[_0x973483(0x37d)]['discover']();for(const _0x5dc483 of _0x33e87a)this[_0x973483(0x4bb)]['createConnection'](_0x5dc483);}catch(_0x25c9bb){throw this[_0x973483(0x707)](_0x25c9bb,{});}}[_0x27a6cf(0x24d)](_0x3ba69f){const _0x5a63db=_0x27a6cf;this[_0x5a63db(0x70b)][_0x5a63db(0x2b7)]===_0x1176cc['NodeType'][_0x5a63db(0x4d1)]&&(this[_0x5a63db(0x70b)]['setEmail'](_0x3ba69f['getEmail']()),this['localNode'][_0x5a63db(0x60b)](_0x3ba69f[_0x5a63db(0x311)]()));}[_0x27a6cf(0x33d)](_0x484fdd=!0x1){const _0x513ffe=_0x27a6cf;_0x20481a['warning'](_0x513ffe(0x372),{'clusterId':this[_0x513ffe(0x698)],'nodeId':this['localNode'][_0x513ffe(0x4cd)](),'nodeType':this[_0x513ffe(0x70b)][_0x513ffe(0x2b7)]}),this['systemTopicUnsubscribe'](),this[_0x513ffe(0x66c)][_0x513ffe(0x33d)](),this[_0x513ffe(0x6b1)]['close'](),this[_0x513ffe(0x237)][_0x513ffe(0x33d)](),this[_0x513ffe(0x307)][_0x513ffe(0x33d)](),this[_0x513ffe(0x4bb)]['close'](),this['contentManager'][_0x513ffe(0x33d)](_0x484fdd),this[_0x513ffe(0x37d)][_0x513ffe(0x33d)]();}[_0x27a6cf(0x4d4)](_0x1608c9){const _0x181ea9=_0x27a6cf;try{const _0x3f7c93=this[_0x181ea9(0x511)][_0x181ea9(0x361)](_0x1608c9),_0x2cd0b3=this[_0x181ea9(0x4bb)][_0x181ea9(0x6b0)]();return this[_0x181ea9(0x307)][_0x181ea9(0x49e)](_0x3f7c93,_0x2cd0b3),this[_0x181ea9(0x307)]['createIncomingSubscription'](_0x2cd0b3,_0x3f7c93),_0x3f7c93;}catch(_0x4594cf){throw this[_0x181ea9(0x707)](_0x4594cf,{});}}async[_0x27a6cf(0x633)](_0x1fece3){const _0x202e73=_0x27a6cf;try{const _0x2424d3=this[_0x202e73(0x511)][_0x202e73(0x564)](_0x1fece3,this['options'][_0x202e73(0x446)]),_0x54be0a=this[_0x202e73(0x4bb)][_0x202e73(0x6b0)]();return this[_0x202e73(0x307)]['createOutgoingSubscription'](_0x2424d3,_0x54be0a),this[_0x202e73(0x307)]['createIncomingSubscription'](_0x54be0a,_0x2424d3),await _0x2424d3[_0x202e73(0x566)](),_0x2424d3;}catch(_0x269ce0){throw this['handleError'](_0x269ce0,{});}}async['openKeyValueDatabase'](_0x17f934,_0x242799){const _0x571ada=_0x27a6cf;try{const _0x4d4b9d=await this[_0x571ada(0x511)][_0x571ada(0x36f)](_0x17f934,_0x242799,this['options']['keyValueDatabaseConnector']),_0x36c46e=this[_0x571ada(0x4bb)][_0x571ada(0x6b0)]();return this['subscriptionManager'][_0x571ada(0x49e)](_0x4d4b9d,_0x36c46e),this[_0x571ada(0x307)]['createIncomingSubscription'](_0x36c46e,_0x4d4b9d),await _0x4d4b9d[_0x571ada(0x279)](),this[_0x571ada(0x536)](_0x4d4b9d),_0x4d4b9d;}catch(_0x307123){throw this['handleError'](_0x307123,{});}}[_0x27a6cf(0x490)](_0x42bf9d){const _0x5f2560=_0x27a6cf;try{return this[_0x5f2560(0x511)][_0x5f2560(0x490)](_0x42bf9d);}catch(_0x22ae7e){throw this[_0x5f2560(0x707)](_0x22ae7e,{});}}[_0x27a6cf(0x495)](_0x36560e){const _0x3dd3ae=_0x27a6cf;try{return this[_0x3dd3ae(0x511)][_0x3dd3ae(0x495)](_0x36560e);}catch(_0x218acb){throw this[_0x3dd3ae(0x707)](_0x218acb,{});}}[_0x27a6cf(0x513)](_0x5999c2){const _0x12b875=_0x27a6cf;try{return this[_0x12b875(0x511)]['getKeyValueDatabases'](_0x5999c2);}catch(_0x5a83e6){throw this['handleError'](_0x5a83e6,{});}}[_0x27a6cf(0x4f0)](_0x36373f,_0x358685){const _0x457abe=_0x27a6cf;if(!this['configs'][_0x457abe(0x402)][_0x457abe(0x607)](_0x3ae988[_0x457abe(0x2b1)]))throw new _0x478f0b(_0x3792fa[_0x457abe(0x23c)],_0x457abe(0x5ce));try{return this[_0x457abe(0x511)]['createLocalMediaStream'](_0x36373f,_0x358685);}catch(_0x4105cc){throw this[_0x457abe(0x707)](_0x4105cc,{});}}[_0x27a6cf(0x398)](_0xfdd0b3,_0x332a8f){const _0x484a00=_0x27a6cf;if(!this[_0x484a00(0x457)]['features'][_0x484a00(0x607)](_0x3ae988[_0x484a00(0x2b1)]))throw new _0x478f0b(_0x3792fa['FeatureNotEnabled'],_0x484a00(0x5ce));try{return this['contentManager'][_0x484a00(0x398)](_0xfdd0b3,_0x332a8f);}catch(_0x5c86bd){throw this[_0x484a00(0x707)](_0x5c86bd,{});}}[_0x27a6cf(0x1c6)](_0x5672cd){const _0x28496d=_0x27a6cf;if(!this[_0x28496d(0x457)][_0x28496d(0x402)][_0x28496d(0x607)](_0x3ae988[_0x28496d(0x2b1)]))throw new _0x478f0b(_0x3792fa[_0x28496d(0x23c)],_0x28496d(0x5ce));try{return this[_0x28496d(0x511)][_0x28496d(0x1c6)](_0x5672cd);}catch(_0x279a5e){throw this[_0x28496d(0x707)](_0x279a5e,{});}}[_0x27a6cf(0x29e)](_0x27ab54){const _0x298c4b=_0x27a6cf;if(!this[_0x298c4b(0x457)][_0x298c4b(0x402)][_0x298c4b(0x607)](_0x3ae988[_0x298c4b(0x2b1)]))throw new _0x478f0b(_0x3792fa[_0x298c4b(0x23c)],_0x298c4b(0x5ce));try{return this['contentManager'][_0x298c4b(0x29e)](_0x27ab54);}catch(_0x1c871f){throw this[_0x298c4b(0x707)](_0x1c871f,{});}}['getDistance'](_0x41bac7,_0x32da38){const _0xa5425f=_0x27a6cf;return this[_0xa5425f(0x37d)][_0xa5425f(0x252)](_0x41bac7,_0x32da38);}[_0x27a6cf(0x59c)](){const _0x3a6d09=_0x27a6cf;return this[_0x3a6d09(0x37d)]['getLocalNode']();}['getRemoteNodes'](_0x10ed03){const _0x3ffe90=_0x27a6cf;try{return this['nodeManager'][_0x3ffe90(0x620)](_0x10ed03);}catch(_0x302330){throw this['handleError'](_0x302330,{});}}async[_0x27a6cf(0x254)](_0x4def6f){const _0x154bb8=_0x27a6cf;try{if(_0x20481a[_0x154bb8(0x517)](_0x5483cd['Events'],_0x154bb8(0x430),this[_0x154bb8(0x37d)]['getLocalId'](),_0x4def6f),_0xd717c5(_0x4def6f,this['nodeManager'][_0x154bb8(0x664)]()))return void this['connectionManager'][_0x154bb8(0x4a6)](_0x4def6f);switch(_0x4def6f['messageType']){case _0x3421b2[_0x154bb8(0x260)]:this[_0x154bb8(0x237)][_0x154bb8(0x371)](_0x4def6f),this[_0x154bb8(0x307)][_0x154bb8(0x371)](_0x4def6f),this[_0x154bb8(0x511)][_0x154bb8(0x371)](_0x4def6f);break;case _0x3421b2['Node']:this[_0x154bb8(0x307)][_0x154bb8(0x386)](_0x4def6f),this['connectionManager'][_0x154bb8(0x386)](_0x4def6f),this[_0x154bb8(0x511)]['handleNodeSystemEvents'](_0x4def6f),this[_0x154bb8(0x37d)][_0x154bb8(0x386)](_0x4def6f);break;case _0x3421b2[_0x154bb8(0x416)]:this[_0x154bb8(0x66c)][_0x154bb8(0x5ea)](_0x4def6f);break;case _0x3421b2[_0x154bb8(0x2a3)]:this[_0x154bb8(0x66c)]['handleRemediationSystemEvents'](_0x4def6f);break;case _0x3421b2[_0x154bb8(0x55f)]:this[_0x154bb8(0x6b1)][_0x154bb8(0x4be)](_0x4def6f);break;case _0x3421b2['Subscription']:_0x4def6f[_0x154bb8(0x5d4)][_0x154bb8(0x2b7)]!==_0x5d7a24['UnsubscribeMediaStream']?(this[_0x154bb8(0x307)][_0x154bb8(0x24c)](_0x4def6f),this[_0x154bb8(0x511)]['handleSubscriptionSystemEvents'](_0x4def6f)):(this['contentManager'][_0x154bb8(0x24c)](_0x4def6f),this['subscriptionManager'][_0x154bb8(0x24c)](_0x4def6f));break;case _0x3421b2[_0x154bb8(0x348)]:await this[_0x154bb8(0x4bb)][_0x154bb8(0x36a)](_0x4def6f),this[_0x154bb8(0x237)][_0x154bb8(0x36a)](_0x4def6f),this['nodeManager'][_0x154bb8(0x36a)](_0x4def6f),this[_0x154bb8(0x307)]['handlePeerConnectionSystemEvents'](_0x4def6f);}}catch(_0x3d6b3c){throw this[_0x154bb8(0x707)](_0x3d6b3c,{});}}[_0x27a6cf(0x707)](_0x2f7d40,_0x496b38){const _0x3a02b6=_0x27a6cf;if(!(_0x2f7d40 instanceof _0x5afd36)){if(_0x2f7d40 instanceof _0x478f0b)throw _0x2f7d40;if(!(_0x2f7d40 instanceof Error))throw new _0x478f0b(_0x3792fa[_0x3a02b6(0x344)],_0x3a02b6(0x1db)+_0x2f7d40);if(!(_0x2f7d40 instanceof _0x2d2d59))throw new _0x478f0b(_0x3792fa['InternalSDKError'],_0x3a02b6(0x502)+_0x2f7d40['message']);switch(_0x2f7d40[_0x3a02b6(0x6cc)]){case _0x2d2d59[_0x3a02b6(0x49c)]['MissingSystemTopic']:case _0x2d2d59[_0x3a02b6(0x49c)][_0x3a02b6(0x222)]:case _0x2d2d59[_0x3a02b6(0x49c)][_0x3a02b6(0x2db)]:case _0x2d2d59[_0x3a02b6(0x49c)][_0x3a02b6(0x653)]:case _0x2d2d59[_0x3a02b6(0x49c)][_0x3a02b6(0x400)]:case _0x2d2d59[_0x3a02b6(0x49c)]['InvalidDataChannel']:case _0x2d2d59[_0x3a02b6(0x49c)][_0x3a02b6(0x567)]:case _0x2d2d59[_0x3a02b6(0x49c)]['InvalidSubscriber']:case _0x2d2d59['codes']['SubscriptionRequestDoesNotExist']:case _0x2d2d59[_0x3a02b6(0x49c)]['SubscriptionRequestFailed']:case _0x2d2d59[_0x3a02b6(0x49c)][_0x3a02b6(0x19a)]:case _0x2d2d59[_0x3a02b6(0x49c)]['InvalidSubscription']:}throw _0x20481a[_0x3a02b6(0x1ab)](_0x3a02b6(0x3c4)+_0x2f7d40[_0x3a02b6(0x6a8)],{'clusterId':this[_0x3a02b6(0x698)],'nodeId':this[_0x3a02b6(0x70b)][_0x3a02b6(0x4cd)](),'nodeType':this[_0x3a02b6(0x70b)][_0x3a02b6(0x2b7)]},_0x2f7d40),new _0x478f0b(_0x3792fa['InternalSDKError'],_0x3a02b6(0x702)+_0x2f7d40[_0x3a02b6(0x6a8)]);}}[_0x27a6cf(0x541)](){const _0x2e9b9f=_0x27a6cf;return{'mediator':this,'vendorId':this[_0x2e9b9f(0x25f)],'clusterId':this[_0x2e9b9f(0x698)],'localNode':this[_0x2e9b9f(0x70b)]};}[_0x27a6cf(0x19d)](){const _0x233029=_0x27a6cf;return this[_0x233029(0x1d6)][_0x233029(0x290)](_0x113271=>{const _0x280950=_0x233029,_0x42e74e=_0x220730(_0x113271,this[_0x280950(0x70b)]['getId']()),_0x4df6b7=_0x113271[_0x280950(0x5d2)]===_0x3421b2[_0x280950(0x55f)]||_0x113271['messageType']===_0x3421b2['PeerConnection']&&_0x113271[_0x280950(0x5d4)][_0x280950(0x2b7)]===_0x1ffd7c[_0x280950(0x55f)]?_0x5483cd[_0x280950(0x4f3)]:_0x5483cd[_0x280950(0x66e)];_0x20481a[_0x280950(0x663)](_0x4df6b7,_0x113271['uuid']+_0x280950(0x515)+_0x42e74e,_0x113271),this[_0x280950(0x254)](_0x113271)[_0x280950(0x2cd)](_0x2f9461=>{const _0x4c8ad4=_0x280950;console[_0x4c8ad4(0x1ab)](_0x2f9461);});});}async[_0x27a6cf(0x536)](_0x188f25,_0x4fe659){const _0x1af6ed=_0x27a6cf;_0x4fe659=this[_0x1af6ed(0x1e4)](_0x4fe659),await _0x188f25[_0x1af6ed(0x566)](_0x4fe659,()=>this['syncKeyValueDatabase'](_0x188f25,_0x4fe659));}[_0x27a6cf(0x1e4)](_0x449c02){const _0x5ae29d=_0x27a6cf,_0x96f742=this['nodeManager'][_0x5ae29d(0x63a)]();if(!_0x449c02)return _0x96f742[0x0];const _0x387955=_0x96f742['findIndex'](_0xa6b70d=>_0x449c02===_0xa6b70d),_0x3b523a=_0x96f742[_0x387955+0x1];return _0x96f742['length']>0x0&&!_0x3b523a?_0x449c02[0x0]:_0x3b523a;}}class _0x1040da{[_0x27a6cf(0x25f)];[_0x27a6cf(0x698)];[_0x27a6cf(0x425)];['eventEmitter'];[_0x27a6cf(0x1bf)];constructor(_0x3f3a54,_0x4e6b2d,_0x54abf2,_0x4f1ee9,_0x21bb83,_0x3c0c7b,_0x1b0044=new _0x53cb11()){const _0x2b9c49=_0x27a6cf;this[_0x2b9c49(0x25f)]=_0x3f3a54,this[_0x2b9c49(0x698)]=_0x4e6b2d,this[_0x2b9c49(0x425)]=_0x54abf2,this[_0x2b9c49(0x42e)]=_0x1b0044,this[_0x2b9c49(0x1bf)]=new _0x23ee1a(this[_0x2b9c49(0x25f)],this['clusterId'],_0x54abf2,_0x4f1ee9,_0x21bb83,_0x3c0c7b,this);}async[_0x27a6cf(0x4ff)](){const _0x3b086b=_0x27a6cf;await this[_0x3b086b(0x1bf)][_0x3b086b(0x53c)](),this[_0x3b086b(0x425)][_0x3b086b(0x2b7)]===_0x1176cc['NodeType'][_0x3b086b(0x4d1)]&&this['authNode'][_0x3b086b(0x4fa)](this[_0x3b086b(0x698)],_0x27b994=>{const _0x4b0fcf=_0x3b086b;this['orchestrator'][_0x4b0fcf(0x24d)](_0x27b994);});}[_0x27a6cf(0x678)](){const _0x2764c4=_0x27a6cf;this[_0x2764c4(0x1bf)][_0x2764c4(0x33d)](),this[_0x2764c4(0x425)][_0x2764c4(0x2b7)]===_0x1176cc[_0x2764c4(0x72f)][_0x2764c4(0x4d1)]&&this['authNode'][_0x2764c4(0x39e)](this[_0x2764c4(0x698)]),this[_0x2764c4(0x21c)](_0x2764c4(0x25c),void 0x0);}[_0x27a6cf(0x4d4)](_0x35c127){const _0x539833=_0x27a6cf,_0x37bc6b=this[_0x539833(0x1bf)]['openPubSubTopic'](_0x35c127);return{'getName':_0x37bc6b[_0x539833(0x560)][_0x539833(0x5f9)](_0x37bc6b),'getOwnerId':_0x37bc6b[_0x539833(0x6a3)]['bind'](_0x37bc6b),'getContentType':_0x37bc6b[_0x539833(0x2e0)][_0x539833(0x5f9)](_0x37bc6b),'publish':_0x37bc6b[_0x539833(0x4b0)][_0x539833(0x5f9)](_0x37bc6b),'subscribe':_0x37bc6b[_0x539833(0x290)][_0x539833(0x5f9)](_0x37bc6b),'unsubscribe':_0x37bc6b['unsubscribe'][_0x539833(0x5f9)](_0x37bc6b),'close':_0x37bc6b['close'][_0x539833(0x5f9)](_0x37bc6b)};}async[_0x27a6cf(0x633)](_0x841e89){const _0x1f1867=_0x27a6cf,_0x4d8119=await this[_0x1f1867(0x1bf)][_0x1f1867(0x633)](_0x841e89);return{'getName':_0x4d8119[_0x1f1867(0x560)][_0x1f1867(0x5f9)](_0x4d8119),'getOwnerId':_0x4d8119[_0x1f1867(0x6a3)][_0x1f1867(0x5f9)](_0x4d8119),'getContentType':_0x4d8119[_0x1f1867(0x2e0)][_0x1f1867(0x5f9)](_0x4d8119),'publish':_0x4d8119[_0x1f1867(0x4b0)][_0x1f1867(0x5f9)](_0x4d8119),'unpublish':_0x4d8119[_0x1f1867(0x2ca)][_0x1f1867(0x5f9)](_0x4d8119),'get':_0x4d8119[_0x1f1867(0x1d2)][_0x1f1867(0x5f9)](_0x4d8119),'list':_0x4d8119[_0x1f1867(0x64e)]['bind'](_0x4d8119),'subscribe':_0x4d8119['subscribe'][_0x1f1867(0x5f9)](_0x4d8119),'unsubscribe':_0x4d8119['unsubscribe'][_0x1f1867(0x5f9)](_0x4d8119),'close':_0x4d8119[_0x1f1867(0x33d)][_0x1f1867(0x5f9)](_0x4d8119)};}async[_0x27a6cf(0x485)](_0x48c7b7,_0x280685){const _0xacdfe9=_0x27a6cf,_0x255052=await this[_0xacdfe9(0x1bf)][_0xacdfe9(0x485)](_0x48c7b7,_0x280685);return{'getName':_0x255052[_0xacdfe9(0x560)][_0xacdfe9(0x5f9)](_0x255052),'getOwnerId':_0x255052[_0xacdfe9(0x6a3)][_0xacdfe9(0x5f9)](_0x255052),'getContentType':_0x255052[_0xacdfe9(0x2e0)]['bind'](_0x255052),'getTable':_0x255052[_0xacdfe9(0x44d)][_0xacdfe9(0x5f9)](_0x255052),'subscribe':_0x255052['subscribe']['bind'](_0x255052),'unsubscribe':_0x255052[_0xacdfe9(0x1b7)]['bind'](_0x255052),'close':_0x255052[_0xacdfe9(0x33d)]['bind'](_0x255052)};}[_0x27a6cf(0x490)](_0x46f66a){const _0x13fea8=_0x27a6cf;return this[_0x13fea8(0x1bf)][_0x13fea8(0x490)](_0x46f66a)[_0x13fea8(0x5d9)](_0x3271eb=>({'getName':_0x3271eb[_0x13fea8(0x560)]['bind'](_0x3271eb),'getOwnerId':_0x3271eb[_0x13fea8(0x6a3)][_0x13fea8(0x5f9)](_0x3271eb),'getContentType':_0x3271eb[_0x13fea8(0x2e0)]['bind'](_0x3271eb),'publish':_0x3271eb[_0x13fea8(0x4b0)][_0x13fea8(0x5f9)](_0x3271eb),'subscribe':_0x3271eb[_0x13fea8(0x290)][_0x13fea8(0x5f9)](_0x3271eb),'unsubscribe':_0x3271eb[_0x13fea8(0x1b7)][_0x13fea8(0x5f9)](_0x3271eb),'close':_0x3271eb[_0x13fea8(0x33d)][_0x13fea8(0x5f9)](_0x3271eb)}));}[_0x27a6cf(0x495)](_0x470e6e){const _0x1ccf73=_0x27a6cf;return this[_0x1ccf73(0x1bf)][_0x1ccf73(0x495)](_0x470e6e)[_0x1ccf73(0x5d9)](_0x6ae5d9=>({'getName':_0x6ae5d9[_0x1ccf73(0x560)][_0x1ccf73(0x5f9)](_0x6ae5d9),'getOwnerId':_0x6ae5d9[_0x1ccf73(0x6a3)][_0x1ccf73(0x5f9)](_0x6ae5d9),'getContentType':_0x6ae5d9['getContentType'][_0x1ccf73(0x5f9)](_0x6ae5d9),'publish':_0x6ae5d9[_0x1ccf73(0x4b0)][_0x1ccf73(0x5f9)](_0x6ae5d9),'unpublish':_0x6ae5d9[_0x1ccf73(0x2ca)][_0x1ccf73(0x5f9)](_0x6ae5d9),'get':_0x6ae5d9[_0x1ccf73(0x1d2)][_0x1ccf73(0x5f9)](_0x6ae5d9),'list':_0x6ae5d9[_0x1ccf73(0x64e)]['bind'](_0x6ae5d9),'subscribe':_0x6ae5d9[_0x1ccf73(0x290)]['bind'](_0x6ae5d9),'unsubscribe':_0x6ae5d9[_0x1ccf73(0x1b7)]['bind'](_0x6ae5d9),'close':_0x6ae5d9[_0x1ccf73(0x33d)][_0x1ccf73(0x5f9)](_0x6ae5d9)}));}['getKeyValueDatabases'](_0x2eadad){const _0x197744=_0x27a6cf;return this[_0x197744(0x1bf)][_0x197744(0x513)](_0x2eadad)['map'](_0x5a1749=>({'getName':_0x5a1749[_0x197744(0x560)][_0x197744(0x5f9)](_0x5a1749),'getOwnerId':_0x5a1749[_0x197744(0x6a3)][_0x197744(0x5f9)](_0x5a1749),'getContentType':_0x5a1749[_0x197744(0x2e0)][_0x197744(0x5f9)](_0x5a1749),'getTable':_0x5a1749[_0x197744(0x44d)][_0x197744(0x5f9)](_0x5a1749),'subscribe':_0x5a1749[_0x197744(0x290)][_0x197744(0x5f9)](_0x5a1749),'unsubscribe':_0x5a1749[_0x197744(0x1b7)][_0x197744(0x5f9)](_0x5a1749),'close':_0x5a1749[_0x197744(0x33d)][_0x197744(0x5f9)](_0x5a1749)}));}[_0x27a6cf(0x3bf)](_0x34875c,_0x4ec226){const _0x24b123=_0x27a6cf,_0x435ec6=this[_0x24b123(0x1bf)][_0x24b123(0x4f0)](_0x34875c,_0x4ec226);return{'getLabel':_0x435ec6['getLabel'][_0x24b123(0x5f9)](_0x435ec6),'getOwnerId':_0x435ec6[_0x24b123(0x6a3)][_0x24b123(0x5f9)](_0x435ec6),'getContentType':_0x435ec6[_0x24b123(0x2e0)][_0x24b123(0x5f9)](_0x435ec6),'getMediaStream':_0x435ec6[_0x24b123(0x4ca)]['bind'](_0x435ec6),'setPriority':_0x435ec6[_0x24b123(0x1e9)][_0x24b123(0x5f9)](_0x435ec6),'unpublish':_0x435ec6[_0x24b123(0x2ca)][_0x24b123(0x5f9)](_0x435ec6)};}[_0x27a6cf(0x5fd)](_0x5e05bf,_0x1daef5){const _0x45a588=_0x27a6cf,_0x5b38f7=this[_0x45a588(0x1bf)][_0x45a588(0x398)](_0x5e05bf,_0x1daef5);return{'getLabel':_0x5b38f7[_0x45a588(0x1c9)]['bind'](_0x5b38f7),'getOwnerId':_0x5b38f7[_0x45a588(0x6a3)][_0x45a588(0x5f9)](_0x5b38f7),'getContentType':_0x5b38f7[_0x45a588(0x2e0)][_0x45a588(0x5f9)](_0x5b38f7),'setPriority':_0x5b38f7[_0x45a588(0x1e9)][_0x45a588(0x5f9)](_0x5b38f7),'unpublish':_0x5b38f7[_0x45a588(0x2ca)]['bind'](_0x5b38f7),'getMediaStream':_0x5b38f7[_0x45a588(0x4ca)][_0x45a588(0x5f9)](_0x5b38f7),'addTrack':_0x5b38f7[_0x45a588(0x32d)][_0x45a588(0x5f9)](_0x5b38f7),'removeTrack':_0x5b38f7[_0x45a588(0x2f1)][_0x45a588(0x5f9)](_0x5b38f7),'replaceTrack':_0x5b38f7[_0x45a588(0x6a4)][_0x45a588(0x5f9)](_0x5b38f7),'setTransformations':_0x5b38f7[_0x45a588(0x4ba)][_0x45a588(0x5f9)](_0x5b38f7)};}[_0x27a6cf(0x1c6)](_0x5e0e0b){const _0x4b7e68=_0x27a6cf;return this[_0x4b7e68(0x1bf)][_0x4b7e68(0x1c6)](_0x5e0e0b)[_0x4b7e68(0x5d9)](_0x357196=>({'getLabel':_0x357196[_0x4b7e68(0x1c9)][_0x4b7e68(0x5f9)](_0x357196),'getOwnerId':_0x357196[_0x4b7e68(0x6a3)][_0x4b7e68(0x5f9)](_0x357196),'getContentType':_0x357196[_0x4b7e68(0x2e0)][_0x4b7e68(0x5f9)](_0x357196),'getMediaStream':_0x357196['getMediaStream'][_0x4b7e68(0x5f9)](_0x357196),'setPriority':_0x357196[_0x4b7e68(0x1e9)]['bind'](_0x357196),'unpublish':_0x357196[_0x4b7e68(0x2ca)][_0x4b7e68(0x5f9)](_0x357196)}));}[_0x27a6cf(0x29e)](_0x48ccab){const _0x5ce2d1=_0x27a6cf;return this[_0x5ce2d1(0x1bf)][_0x5ce2d1(0x29e)](_0x48ccab)['map'](_0x39fb02=>({'getLabel':_0x39fb02[_0x5ce2d1(0x1c9)][_0x5ce2d1(0x5f9)](_0x39fb02),'getOwnerId':_0x39fb02[_0x5ce2d1(0x6a3)][_0x5ce2d1(0x5f9)](_0x39fb02),'getContentType':_0x39fb02[_0x5ce2d1(0x2e0)][_0x5ce2d1(0x5f9)](_0x39fb02),'getMediaStream':_0x39fb02[_0x5ce2d1(0x4ca)][_0x5ce2d1(0x5f9)](_0x39fb02),'subscribe':_0x39fb02[_0x5ce2d1(0x290)][_0x5ce2d1(0x5f9)](_0x39fb02),'unsubscribe':_0x39fb02[_0x5ce2d1(0x1b7)]['bind'](_0x39fb02),'getAvailableTrackKinds':_0x39fb02[_0x5ce2d1(0x365)][_0x5ce2d1(0x5f9)](_0x39fb02),'update':_0x39fb02[_0x5ce2d1(0x53e)][_0x5ce2d1(0x5f9)](_0x39fb02),'onProviderChange':_0x39fb02[_0x5ce2d1(0x687)][_0x5ce2d1(0x5f9)](_0x39fb02)}));}['getLocalNode'](){const _0x4f5f67=_0x27a6cf,_0x1f54af=this[_0x4f5f67(0x1bf)]['getLocalNode']();switch(_0x1f54af[_0x4f5f67(0x2b7)]){case _0x1176cc[_0x4f5f67(0x72f)][_0x4f5f67(0x4d1)]:return{'type':_0x1176cc[_0x4f5f67(0x72f)][_0x4f5f67(0x4d1)],'getId':_0x1f54af[_0x4f5f67(0x4cd)]['bind'](_0x1f54af),'getDisplayName':_0x1f54af[_0x4f5f67(0x311)][_0x4f5f67(0x5f9)](_0x1f54af),'getEmail':_0x1f54af[_0x4f5f67(0x256)][_0x4f5f67(0x5f9)](_0x1f54af),'getRemoteConnections':_0x1f54af[_0x4f5f67(0x6d5)][_0x4f5f67(0x5f9)](_0x1f54af),'setDisplayName':_0x1f54af['setDisplayName'][_0x4f5f67(0x5f9)](_0x1f54af),'setEmail':_0x1f54af[_0x4f5f67(0x6ec)][_0x4f5f67(0x5f9)](_0x1f54af)};case _0x1176cc['NodeType'][_0x4f5f67(0x2f3)]:default:return{'type':_0x1176cc[_0x4f5f67(0x72f)][_0x4f5f67(0x2f3)],'getId':_0x1f54af[_0x4f5f67(0x4cd)]['bind'](_0x1f54af),'getRemoteConnections':_0x1f54af[_0x4f5f67(0x6d5)]['bind'](_0x1f54af)};}}[_0x27a6cf(0x620)](_0x1c752c){const _0x124088=_0x27a6cf;return this[_0x124088(0x1bf)][_0x124088(0x620)](_0x1c752c)[_0x124088(0x5d9)](_0x351eba=>{const _0x34ab0d=_0x124088;switch(_0x351eba[_0x34ab0d(0x2b7)]){case _0x1176cc[_0x34ab0d(0x72f)][_0x34ab0d(0x4d1)]:return{'type':_0x1176cc[_0x34ab0d(0x72f)]['User'],'getId':_0x351eba[_0x34ab0d(0x4cd)][_0x34ab0d(0x5f9)](_0x351eba),'getDisplayName':_0x351eba[_0x34ab0d(0x311)][_0x34ab0d(0x5f9)](_0x351eba),'getEmail':_0x351eba[_0x34ab0d(0x256)][_0x34ab0d(0x5f9)](_0x351eba),'getRemoteConnections':_0x351eba['getRemoteConnections'][_0x34ab0d(0x5f9)](_0x351eba)};case _0x1176cc[_0x34ab0d(0x72f)][_0x34ab0d(0x2f3)]:return{'type':_0x1176cc['NodeType'][_0x34ab0d(0x2f3)],'getId':_0x351eba[_0x34ab0d(0x4cd)]['bind'](_0x351eba),'getRemoteConnections':_0x351eba[_0x34ab0d(0x6d5)]['bind'](_0x351eba)};default:throw new _0x478f0b(_0x3792fa[_0x34ab0d(0x2d1)],_0x34ab0d(0x354));}});}['on']=(..._0x73b8cf)=>{const _0x24c469=_0x27a6cf;this[_0x24c469(0x42e)]['on'](..._0x73b8cf);};[_0x27a6cf(0x21c)]=(..._0x4ca215)=>this[_0x27a6cf(0x42e)]['emit'](..._0x4ca215);['off'](..._0x1d83cf){const _0x43a30f=_0x27a6cf;this[_0x43a30f(0x42e)][_0x43a30f(0x3ec)](..._0x1d83cf);}}class _0x26c6db{['id'];[_0x27a6cf(0x326)];['vendorId'];[_0x27a6cf(0x2d2)];[_0x27a6cf(0x2b7)]=_0x1176cc[_0x27a6cf(0x72f)][_0x27a6cf(0x2f3)];constructor(_0x5ce5ba,_0x3e9ba7,_0x4e3ebe,_0x272639){const _0x33e577=_0x27a6cf;this['id']=_0x5ce5ba,this[_0x33e577(0x326)]=_0x3e9ba7,this[_0x33e577(0x25f)]=_0x4e3ebe,this['agentConfig']=_0x272639;}[_0x27a6cf(0x4cd)](){return this['id'];}[_0x27a6cf(0x711)](_0x1f24cf){const _0x123c59=_0x27a6cf,_0x443ed1=(0x0,_0x5158a0['onSnapshot'])((0x0,_0x5158a0[_0x123c59(0x743)])(_0x1f229f[_0x123c59(0x38b)](),_0x123c59(0x62f)+this[_0x123c59(0x25f)]+_0x123c59(0x6d3)+this['groupId']),_0x3a3308=>{const _0x3d8ee8=_0x123c59;if(_0x3a3308[_0x3d8ee8(0x33a)]()){const _0x414bf3=_0x3a3308[_0x3d8ee8(0x423)]();if(this[_0x3d8ee8(0x2d2)][_0x3d8ee8(0x632)][_0x3d8ee8(0x537)](_0x414bf3[_0x3d8ee8(0x632)]))return;_0x20481a[_0x3d8ee8(0x517)](_0x5483cd[_0x3d8ee8(0x3aa)],'agent-config-changed',{'agentId':this['id'],'groupId':this[_0x3d8ee8(0x326)],'oldConfig':this[_0x3d8ee8(0x2d2)],'newConfig':_0x414bf3}),this['agentConfig']=_0x414bf3,_0x1f24cf();}});return()=>_0x443ed1();}['setReportCapacity'](_0x579058){const _0x2fb373=_0x27a6cf;return this[_0x2fb373(0x4ac)](this[_0x2fb373(0x326)],_0x579058),_0x199808[_0x2fb373(0x231)](()=>this['reportCapacity'](this[_0x2fb373(0x326)],_0x579058),0x493e0);}async[_0x27a6cf(0x4ac)](_0x1faf76,_0x68af97){const _0x3df67e=_0x27a6cf,_0x4ac713=await _0x68af97();await(0x0,_0x5158a0[_0x3df67e(0x3fa)])((0x0,_0x5158a0[_0x3df67e(0x1a3)])(_0x1f229f[_0x3df67e(0x38b)](),'developers/'+this[_0x3df67e(0x25f)]+'/capacities'),{'agentId':this['id'],'groupId':_0x1faf76,'timestamp':(0x0,_0x5158a0[_0x3df67e(0x331)])(),'capacity':_0x4ac713});}}class _0x15f25a{['id'];['displayName'];[_0x27a6cf(0x72e)];[_0x27a6cf(0x2b7)]=_0x1176cc['NodeType'][_0x27a6cf(0x4d1)];[_0x27a6cf(0x6e3)]=new Map();['observer']=_0x22f6ab();constructor(_0x2fc76d,_0x1abe59,_0x3548c0){const _0x21fa1b=_0x27a6cf;this['id']=_0x2fc76d,this[_0x21fa1b(0x474)]=_0x1abe59,this[_0x21fa1b(0x72e)]=_0x3548c0;}[_0x27a6cf(0x4cd)](){return this['id'];}[_0x27a6cf(0x311)](){const _0x1329f5=_0x27a6cf;return this[_0x1329f5(0x474)];}[_0x27a6cf(0x256)](){const _0xb98137=_0x27a6cf;return this[_0xb98137(0x72e)];}['setDisplayName'](_0x412dec){const _0x54dc54=_0x27a6cf;this[_0x54dc54(0x474)]!==_0x412dec&&(this[_0x54dc54(0x474)]=_0x412dec,this[_0x54dc54(0x404)][_0x54dc54(0x4b0)](this));}['setEmail'](_0xb80d92){const _0x16c506=_0x27a6cf;this[_0x16c506(0x72e)]!==_0xb80d92&&(this['email']=_0xb80d92,this[_0x16c506(0x404)]['publish'](this));}[_0x27a6cf(0x4fa)](_0x530003,_0x58d920){const _0x4f10a1=_0x27a6cf;if(this['joinedClusters'][_0x4f10a1(0x25a)](_0x530003))return;const _0x2fa7aa=this[_0x4f10a1(0x404)][_0x4f10a1(0x290)](_0x58d920);this[_0x4f10a1(0x6e3)]['set'](_0x530003,_0x2fa7aa);}[_0x27a6cf(0x39e)](_0x3f4a19){const _0x2e04ee=_0x27a6cf;if(!this[_0x2e04ee(0x6e3)][_0x2e04ee(0x25a)](_0x3f4a19))return;const _0x191c2c=this[_0x2e04ee(0x6e3)][_0x2e04ee(0x1d2)](_0x3f4a19);_0x191c2c&&_0x191c2c(),this[_0x2e04ee(0x6e3)][_0x2e04ee(0x370)](_0x3f4a19);}}class _0x31a636{[_0x27a6cf(0x25f)];[_0x27a6cf(0x73d)];constructor(_0xec9e2e){const _0x42a63d=_0x27a6cf;this[_0x42a63d(0x25f)]=_0xec9e2e;}async[_0x27a6cf(0x676)](_0x36f3d0){const _0x3a9150=_0x27a6cf,_0x477c69=await(0x0,_0x399f40[_0x3a9150(0x385)])(_0x1f229f[_0x3a9150(0x732)](),_0x3a9150(0x324))({'uid':_0x3a9150(0x449)+this['vendorId']+_0x3a9150(0x449)+_0x36f3d0['id']}),_0x38235d=await(0x0,_0x7f491c[_0x3a9150(0x23e)])(_0x1f229f[_0x3a9150(0x48e)](),_0x477c69[_0x3a9150(0x423)]['token']);this[_0x3a9150(0x73d)]=_0x38235d[_0x3a9150(0x73d)];}async[_0x27a6cf(0x440)](){const _0x3d369a=_0x27a6cf;await(0x0,_0x7f491c[_0x3d369a(0x440)])(_0x1f229f[_0x3d369a(0x48e)]());}[_0x27a6cf(0x3fe)](){const _0x935b95=_0x27a6cf;return this[_0x935b95(0x73d)]?.[_0x935b95(0x3fe)]()??Promise['reject'](_0x935b95(0x54b));}}class _0x412723{static [_0x27a6cf(0x367)];['featureSupport']=[];constructor(){}static[_0x27a6cf(0x1a8)](){const _0x44e205=_0x27a6cf;return _0x412723['instance']||(_0x412723[_0x44e205(0x367)]=new _0x412723()),_0x412723[_0x44e205(0x367)];}[_0x27a6cf(0x53c)](){const _0x24f08b=_0x27a6cf;this[_0x24f08b(0x59a)](),this[_0x24f08b(0x5cb)](),this['checkScreenSharing'](),this['checkAudioVolume'](),this['checkDeviceConfig'](),this[_0x24f08b(0x30a)](),this['checkMediaRecording'](),this[_0x24f08b(0x684)](),this[_0x24f08b(0x563)](),this['checkAudioContext'](),_0x20481a[_0x24f08b(0x517)](_0x5483cd[_0x24f08b(0x248)],_0x24f08b(0x4fc),{'featureSupport':this[_0x24f08b(0x61d)]});}['isFeatureSupported'](_0x469e1b){const _0x2d9f7e=_0x27a6cf,_0x4d26cb=this[_0x2d9f7e(0x61d)]['find'](_0x466ad1=>_0x466ad1[_0x2d9f7e(0x4e0)]===_0x469e1b);return!!_0x4d26cb&&_0x4d26cb['supported'];}[_0x27a6cf(0x503)](_0xe0388f){const _0x33a489=_0x27a6cf;_0x20481a['logEvent']('support',{'nodeId':_0xe0388f[_0x33a489(0x4cd)](),'nodeType':_0xe0388f[_0x33a489(0x2b7)],'data':{'featureSupport':this[_0x33a489(0x61d)]}});}[_0x27a6cf(0x59a)](){const _0x34195b=_0x27a6cf,_0x35407f=_0x275fba[_0x34195b(0x690)];let _0x2d8b48=!0x1;'function'==typeof RTCPeerConnection&&_0x34195b(0x41e)==typeof RTCIceCandidate&&_0x34195b(0x41e)==typeof RTCSessionDescription?_0x2d8b48=!0x0:_0x20481a[_0x34195b(0x517)](_0x5483cd[_0x34195b(0x248)],_0x34195b(0x66b)+_0x35407f+_0x34195b(0x42d)),this[_0x34195b(0x61d)][_0x34195b(0x647)]({'name':_0x35407f,'supported':_0x2d8b48});}['checkMediaStream'](){const _0x52b059=_0x27a6cf,_0x49e5c6=_0x275fba[_0x52b059(0x2b1)];let _0x316fa9=!0x1;_0x52b059(0x41e)==typeof MediaStream&&_0x52b059(0x41e)==typeof MediaStreamTrack&&_0x52b059(0x5e8)==typeof navigator&&_0x52b059(0x5e8)==typeof navigator[_0x52b059(0x245)]&&_0x52b059(0x41e)==typeof navigator[_0x52b059(0x245)]['getUserMedia']?_0x316fa9=!0x0:_0x20481a[_0x52b059(0x517)](_0x5483cd[_0x52b059(0x248)],_0x52b059(0x66b)+_0x49e5c6+'\x20not\x20supported'),this[_0x52b059(0x61d)][_0x52b059(0x647)]({'name':_0x49e5c6,'supported':_0x316fa9});}[_0x27a6cf(0x6ab)](){const _0x35b480=_0x27a6cf,_0x138dd6=_0x275fba[_0x35b480(0x697)];let _0x2d0521=!0x1;_0x35b480(0x5e8)==typeof navigator&&_0x35b480(0x5e8)==typeof navigator[_0x35b480(0x245)]&&'function'==typeof navigator['mediaDevices'][_0x35b480(0x288)]?_0x2d0521=!0x0:_0x20481a['log'](_0x5483cd[_0x35b480(0x248)],_0x35b480(0x66b)+_0x138dd6+_0x35b480(0x42d)),this[_0x35b480(0x61d)][_0x35b480(0x647)]({'name':_0x138dd6,'supported':_0x2d0521});}[_0x27a6cf(0x223)](){const _0x1d2c93=_0x27a6cf,_0x1adf25=_0x275fba['AudioVolume'];let _0xa9b9ee=!0x1;_0x1d2c93(0x41e)!=typeof AudioContext||_0x1d2c93(0x41e)!=typeof ScriptProcessorNode&&_0x1d2c93(0x41e)!=typeof AudioWorkletNode||_0x1d2c93(0x41e)!=typeof MediaStreamAudioSourceNode?_0x20481a[_0x1d2c93(0x517)](_0x5483cd[_0x1d2c93(0x248)],_0x1d2c93(0x66b)+_0x1adf25+'\x20not\x20supported'):_0xa9b9ee=!0x0,this[_0x1d2c93(0x61d)][_0x1d2c93(0x647)]({'name':_0x1adf25,'supported':_0xa9b9ee});}[_0x27a6cf(0x41a)](){const _0x3cd8c3=_0x27a6cf,_0x178daf=_0x275fba['DeviceConfig'];let _0x23c4e2=!0x1;_0x3cd8c3(0x5e8)==typeof navigator&&_0x3cd8c3(0x5e8)==typeof navigator[_0x3cd8c3(0x245)]&&'function'==typeof navigator['mediaDevices']['enumerateDevices']&&_0x3cd8c3(0x41e)==typeof MediaDeviceInfo?_0x23c4e2=!0x0:_0x20481a[_0x3cd8c3(0x517)](_0x5483cd['Support'],_0x3cd8c3(0x66b)+_0x178daf+_0x3cd8c3(0x42d)),this['featureSupport'][_0x3cd8c3(0x647)]({'name':_0x178daf,'supported':_0x23c4e2});}['checkAudioOutput'](){const _0x4cdac2=_0x27a6cf,_0x1a371f=_0x275fba['AudioOutput'];let _0x115ce5=!0x1;_0x4cdac2(0x5e8)==typeof document&&_0x4cdac2(0x41e)==typeof document['createElement']('video')[_0x4cdac2(0x5d8)]?_0x115ce5=!0x0:_0x20481a[_0x4cdac2(0x517)](_0x5483cd[_0x4cdac2(0x248)],_0x4cdac2(0x66b)+_0x1a371f+_0x4cdac2(0x42d)),this['featureSupport'][_0x4cdac2(0x647)]({'name':_0x1a371f,'supported':_0x115ce5});}async['checkMediaRecording'](){const _0x10415d=_0x27a6cf,_0x349d64=_0x275fba['Recording'];let _0x51f201=!0x1;try{const _0x489b4c=document['createElement'](_0x10415d(0x730));if(MediaRecorder&&MediaSource&&_0x489b4c[_0x10415d(0x526)]){const _0x7193e6=_0x489b4c['captureStream'](),_0x525267=new MediaRecorder(_0x7193e6);_0x525267[_0x10415d(0x26d)](),await new Promise(_0x3d1cad=>setTimeout(_0x3d1cad,0x7d0)),_0x525267['stop'](),_0x51f201='inactive'===_0x525267[_0x10415d(0x5a5)];}}catch(_0x36502f){_0x20481a['log'](_0x5483cd[_0x10415d(0x248)],_0x10415d(0x66b)+_0x349d64+_0x10415d(0x63c),_0x36502f);}this['featureSupport'][_0x10415d(0x647)]({'name':_0x349d64,'supported':_0x51f201}),_0x51f201||_0x20481a[_0x10415d(0x517)](_0x5483cd[_0x10415d(0x248)],_0x10415d(0x66b)+_0x349d64+_0x10415d(0x42d));}[_0x27a6cf(0x684)](){const _0x543d21=_0x27a6cf,_0x159241=_0x275fba[_0x543d21(0x199)];let _0x36e25d=!0x1;try{document[_0x543d21(0x65f)]('canvas')[_0x543d21(0x526)]&&(_0x36e25d=!0x0);}catch(_0x1f657c){_0x20481a[_0x543d21(0x517)](_0x5483cd['Support'],_0x543d21(0x66b)+_0x159241+_0x543d21(0x63c),_0x1f657c);}this[_0x543d21(0x61d)][_0x543d21(0x647)]({'name':_0x159241,'supported':_0x36e25d}),_0x36e25d||_0x20481a[_0x543d21(0x517)](_0x5483cd['Support'],'Support:\x20'+_0x159241+'\x20not\x20supported');}['checkWebGL'](){const _0x373d73=_0x27a6cf,_0xdd70b3=_0x275fba[_0x373d73(0x191)];let _0x160d8f=!0x1;try{const _0x33b6bd=document[_0x373d73(0x65f)](_0x373d73(0x730));WebGLRenderingContext&&_0x33b6bd[_0x373d73(0x35b)](_0x373d73(0x1a9))&&(_0x160d8f=!0x0);}catch(_0x31b1f8){_0x20481a[_0x373d73(0x517)](_0x5483cd[_0x373d73(0x248)],'Support:\x20'+_0xdd70b3+'\x20check\x20failed',_0x31b1f8);}this[_0x373d73(0x61d)][_0x373d73(0x647)]({'name':_0xdd70b3,'supported':_0x160d8f}),_0x160d8f||_0x20481a['log'](_0x5483cd[_0x373d73(0x248)],_0x373d73(0x66b)+_0xdd70b3+_0x373d73(0x42d));}[_0x27a6cf(0x1ba)](){const _0x565449=_0x27a6cf,_0x37c207=_0x275fba[_0x565449(0x5c8)];let _0x1666f5=!0x1;_0x565449(0x41e)==typeof AudioContext?_0x1666f5=!0x0:_0x20481a[_0x565449(0x517)](_0x5483cd[_0x565449(0x248)],_0x565449(0x66b)+_0x37c207+'\x20not\x20supported'),this['featureSupport'][_0x565449(0x647)]({'name':_0x37c207,'supported':_0x1666f5});}}const _0x28fe6a=_0x412723[_0x27a6cf(0x1a8)]();class _0x1c970c{static ['instance'];[_0x27a6cf(0x578)];[_0x27a6cf(0x25f)];[_0x27a6cf(0x59d)];[_0x27a6cf(0x457)];['clusters']=new Map();[_0x27a6cf(0x269)];[_0x27a6cf(0x1b7)];constructor(_0x25803f,_0x33dce8,_0x390ed9){const _0x12648e=_0x27a6cf;this[_0x12648e(0x25f)]=_0x25803f,this[_0x12648e(0x457)]=_0x33dce8,this[_0x12648e(0x578)]=new _0x31a636(this[_0x12648e(0x25f)]),_0x28fe6a[_0x12648e(0x53c)](),this['options']={'audioContext':_0x390ed9?.[_0x12648e(0x270)]??(_0x28fe6a[_0x12648e(0x33e)](_0x275fba[_0x12648e(0x5c8)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x390ed9?.[_0x12648e(0x1fa)]??0x1,'minConnections':_0x390ed9?.[_0x12648e(0x50d)]??0x3,'maxConnections':_0x390ed9?.['maxConnections']??(_0x390ed9?.[_0x12648e(0x50d)]&&0x4*_0x390ed9[_0x12648e(0x50d)])??0xc,'maxDistance':_0x390ed9?.['maxDistance']??0xa,'maxFps':_0x390ed9?.[_0x12648e(0x36b)]??0x18,'maxBpp':_0x390ed9?.[_0x12648e(0x61b)]??0.12,'objectStoreConnector':_0x390ed9?.['objectStoreConnector']??_0x2e8a87[_0x12648e(0x585)],'keyValueDatabaseConnector':_0x390ed9?.[_0x12648e(0x6ce)]??_0x5da2fa[_0x12648e(0x4b1)],'peerConnectionConnector':_0x390ed9?.[_0x12648e(0x2c8)]??_0x3c88c8['WebRTCBrowserPeerConnectionConnector']},_0x390ed9?.[_0x12648e(0x5fb)]&&this[_0x12648e(0x59d)][_0x12648e(0x270)]&&_0x199808[_0x12648e(0x310)](this[_0x12648e(0x59d)]['audioContext']),_0x20481a[_0x12648e(0x37b)](this[_0x12648e(0x25f)]),_0x390ed9?.[_0x12648e(0x688)]&&_0x20481a[_0x12648e(0x5cc)](_0x390ed9[_0x12648e(0x688)]);}static async[_0x27a6cf(0x1a8)](_0x22b36b,_0x54eacb,_0x17aa3f,_0x84f14a){const _0x30df50=_0x27a6cf,_0x484154=await this[_0x30df50(0x397)](_0x22b36b,_0x54eacb,_0x84f14a);return _0x1c970c[_0x30df50(0x367)]||(_0x1c970c[_0x30df50(0x367)]=new _0x1c970c(_0x22b36b,_0x484154,_0x17aa3f)),{'close':_0x1c970c[_0x30df50(0x367)][_0x30df50(0x33d)]['bind'](_0x1c970c[_0x30df50(0x367)]),'authenticateUser':_0x1c970c[_0x30df50(0x367)][_0x30df50(0x6b2)][_0x30df50(0x5f9)](_0x1c970c[_0x30df50(0x367)]),'authenticateAgent':_0x1c970c['instance'][_0x30df50(0x55b)][_0x30df50(0x5f9)](_0x1c970c['instance']),'joinCluster':_0x1c970c['instance'][_0x30df50(0x54c)][_0x30df50(0x5f9)](_0x1c970c[_0x30df50(0x367)])};}static async[_0x27a6cf(0x632)](){const _0x3bb75f=_0x27a6cf;return _0x1f229f[_0x3bb75f(0x6ff)]();}async[_0x27a6cf(0x33d)](){const _0x2a70d7=_0x27a6cf;this[_0x2a70d7(0x746)]['forEach'](_0x3515e0=>{const _0x18c98d=_0x2a70d7;_0x3515e0[_0x18c98d(0x3ec)](),_0x3515e0[_0x18c98d(0x678)]();}),this['clusters']['clear'](),this[_0x2a70d7(0x59d)][_0x2a70d7(0x270)]&&_0x199808[_0x2a70d7(0x3f2)](),this['unsubscribe']?.(),this['authContext']=void 0x0,await this[_0x2a70d7(0x578)][_0x2a70d7(0x440)]();}static async[_0x27a6cf(0x397)](_0x334652,_0x26ad40,_0x5f58d1){const _0x507731=_0x27a6cf,_0x1550a1=(await(0x0,_0x399f40['httpsCallable'])(_0x1f229f[_0x507731(0x732)](),_0x507731(0x6d8))({'vendorId':_0x334652,'accessToken':_0x26ad40,'secretKey':_0x5f58d1}))[_0x507731(0x423)];return _0x1550a1[_0x507731(0x402)]||(_0x1550a1[_0x507731(0x402)]=[]),_0x1550a1;}async[_0x27a6cf(0x6b2)](_0x883b){const _0x956c98=_0x27a6cf;await this[_0x956c98(0x578)][_0x956c98(0x676)](_0x883b);const _0x87cd8a=new _0x15f25a(_0x883b['id'],_0x883b[_0x956c98(0x474)],_0x883b[_0x956c98(0x72e)]);return this[_0x956c98(0x269)]={'node':_0x87cd8a},_0x28fe6a[_0x956c98(0x503)](_0x87cd8a),{'type':_0x1176cc[_0x956c98(0x72f)][_0x956c98(0x4d1)],'getId':_0x87cd8a['getId'][_0x956c98(0x5f9)](_0x87cd8a),'getDisplayName':_0x87cd8a[_0x956c98(0x311)][_0x956c98(0x5f9)](_0x87cd8a),'getEmail':_0x87cd8a[_0x956c98(0x256)][_0x956c98(0x5f9)](_0x87cd8a),'setDisplayName':_0x87cd8a[_0x956c98(0x60b)][_0x956c98(0x5f9)](_0x87cd8a),'setEmail':_0x87cd8a['setEmail']['bind'](_0x87cd8a)};}async[_0x27a6cf(0x55b)](_0xd7d0fb){const _0x5c0494=_0x27a6cf,{id:_0x5361ca,groupId:_0x2db059}=_0xd7d0fb,_0x37d1ec=await(0x0,_0x5158a0[_0x5c0494(0x56c)])((0x0,_0x5158a0['doc'])(_0x1f229f['getFirestore'](),_0x5c0494(0x62f)+this[_0x5c0494(0x25f)]+_0x5c0494(0x6d3)+_0x2db059));if(!_0x37d1ec['exists']())throw new _0x478f0b(_0x3792fa[_0x5c0494(0x3d1)],'Agent\x20group\x20not\x20found');const _0x56ab43=_0x37d1ec[_0x5c0494(0x423)]();await this['authService'][_0x5c0494(0x676)]({'id':_0x5361ca});const _0x58fe72=new _0x26c6db(_0x5361ca,_0x2db059,this[_0x5c0494(0x25f)],_0x56ab43);return this[_0x5c0494(0x269)]={'node':_0x58fe72},_0x28fe6a[_0x5c0494(0x503)](_0x58fe72),await this[_0x5c0494(0x1b4)](_0x58fe72),{'type':_0x1176cc[_0x5c0494(0x72f)][_0x5c0494(0x2f3)],'getId':_0x58fe72['getId'][_0x5c0494(0x5f9)](_0x58fe72),'onConfigurationChange':_0x58fe72['onConfigurationChange'][_0x5c0494(0x5f9)](_0x58fe72),'setReportCapacity':_0x58fe72[_0x5c0494(0x369)][_0x5c0494(0x5f9)](_0x58fe72)};}async[_0x27a6cf(0x54c)](_0x314b88){const _0xe93bef=_0x27a6cf;if(!this[_0xe93bef(0x269)])throw new _0x478f0b(_0x3792fa[_0xe93bef(0x3d1)],_0xe93bef(0x1d3));if(this[_0xe93bef(0x269)][_0xe93bef(0x205)][_0xe93bef(0x2b7)]!==_0x1176cc[_0xe93bef(0x72f)]['User'])throw new _0x478f0b(_0x3792fa[_0xe93bef(0x202)],_0xe93bef(0x558));if(this[_0xe93bef(0x746)]['has'](_0x314b88))throw new _0x478f0b(_0x3792fa[_0xe93bef(0x4b5)],_0xe93bef(0x577));const _0x19cc77=new _0x1040da(this[_0xe93bef(0x25f)],_0x314b88,this[_0xe93bef(0x269)][_0xe93bef(0x205)],this[_0xe93bef(0x578)],this[_0xe93bef(0x59d)],this[_0xe93bef(0x457)]);return await _0x19cc77['join'](),this['addCluster'](_0x314b88,_0x19cc77),_0x20481a['logEvent'](_0xe93bef(0x512),{'clusterId':_0x314b88,'nodeId':this[_0xe93bef(0x269)]['node']['getId'](),'nodeType':this[_0xe93bef(0x269)][_0xe93bef(0x205)][_0xe93bef(0x2b7)]}),{'leave':_0x19cc77[_0xe93bef(0x678)][_0xe93bef(0x5f9)](_0x19cc77),'getLocalNode':_0x19cc77[_0xe93bef(0x59c)][_0xe93bef(0x5f9)](_0x19cc77),'openPubSubTopic':_0x19cc77[_0xe93bef(0x4d4)][_0xe93bef(0x5f9)](_0x19cc77),'openObjectStoreBucket':_0x19cc77[_0xe93bef(0x633)][_0xe93bef(0x5f9)](_0x19cc77),'openKeyValueDatabase':_0x19cc77['openKeyValueDatabase'][_0xe93bef(0x5f9)](_0x19cc77),'publishLocalMediaStream':_0x19cc77['publishLocalMediaStream']['bind'](_0x19cc77),'publishLocalDynamicMediaStream':_0x19cc77['publishLocalDynamicMediaStream']['bind'](_0x19cc77),'getPubSubTopics':_0x19cc77[_0xe93bef(0x490)][_0xe93bef(0x5f9)](_0x19cc77),'getObjectStoreBuckets':_0x19cc77[_0xe93bef(0x495)]['bind'](_0x19cc77),'getKeyValueDatabases':_0x19cc77[_0xe93bef(0x513)][_0xe93bef(0x5f9)](_0x19cc77),'getLocalMediaStreams':_0x19cc77['getLocalMediaStreams'][_0xe93bef(0x5f9)](_0x19cc77),'getRemoteMediaStreams':_0x19cc77[_0xe93bef(0x29e)]['bind'](_0x19cc77),'getRemoteNodes':_0x19cc77[_0xe93bef(0x620)]['bind'](_0x19cc77),'on':_0x19cc77['on'][_0xe93bef(0x5f9)](_0x19cc77),'off':_0x19cc77['off'][_0xe93bef(0x5f9)](_0x19cc77)};}async[_0x27a6cf(0x1b4)](_0x58c6ad){const _0x41be6f=_0x27a6cf;for(const _0x1cbc2e of _0x58c6ad['agentConfig'][_0x41be6f(0x746)]){const _0x298179=new _0x1040da(this[_0x41be6f(0x25f)],_0x1cbc2e['id'],_0x58c6ad,this['authService'],this['options'],this[_0x41be6f(0x457)]);await _0x298179['join'](),this[_0x41be6f(0x52c)](_0x1cbc2e['id'],_0x298179);for(const _0xc07b18 of _0x1cbc2e['pubsub'])_0x298179['openPubSubTopic'](_0xc07b18);for(const _0x3bb922 of _0x1cbc2e[_0x41be6f(0x1a4)])await _0x298179[_0x41be6f(0x633)](_0x3bb922);for(const _0x58dc0a of _0x1cbc2e['keyValueDatabase'])await _0x298179[_0x41be6f(0x485)](_0x58dc0a,{'version':0x1,'tables':{}});}}['addCluster'](_0x5b1894,_0x677255){const _0x1367f3=_0x27a6cf;this[_0x1367f3(0x746)][_0x1367f3(0x734)](_0x5b1894,_0x677255),_0x677255['on']('cluster-leave',()=>{const _0xae4d89=_0x1367f3;_0x677255[_0xae4d89(0x3ec)](),this['clusters']['delete'](_0x5b1894);});}}})()),_0x2cadd6;})())));