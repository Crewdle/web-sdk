function a0_0x1b87(_0xd6fc8c,_0x363b0d){const _0x27018d=a0_0x2701();return a0_0x1b87=function(_0x1b875b,_0x1ab55c){_0x1b875b=_0x1b875b-0x142;let _0x13ef89=_0x27018d[_0x1b875b];return _0x13ef89;},a0_0x1b87(_0xd6fc8c,_0x363b0d);}function a0_0x2701(){const _0x33fff4=['GenerativeAIRatingStatus','InvalidSubscriber','SHA-256','SHA-1','signOut','extendedRecipients','aiSearchConnector','Sender\x20connection\x20is\x20not\x20initialized.','Query\x20must\x20refer\x20to\x20the\x20file\x20table','childRemovedUnsubscriber','open','append','onremovetrack','PubSub','addVideoTrack','File','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','thread-','stopConnection','audioContext','Downgrade','next','runJobQueue','propn','apiUrl','GenerativeAIContextDoesNotExist','custom-skill','search','links','Missing\x20graph\x20database\x20connector','upgradeTimeout','validateQuery','code','sendFile','GenerativeAIContextJobTimeout','initializeSystemTopic','vector-database-does-not-exist','getShareableStream','listFiles','getGraphDatabases','desc','orchestrator','page','Number','setForDeletion','form-skill','reduce','ModelText','Sync\x20completed','Move','collection','FormSkillGetQuestion','hosting','DocumentParser','bufferEvent','Archival\x20Search\x20Agent','videoHeight','processPendingSyncTransactions','incomingManager','Summary\x20Generator\x20extracts\x20key\x20points,\x20action\x20items,\x20and\x20critical\x20insights\x20from\x20emails\x20and\x20documents.\x0a-\x20Identifies\x20the\x20document\x20type\x20(e.g.,\x20report,\x20legal\x20contract,\x20meeting\x20notes).\x0a-\x20Highlights\x20action\x20items\x20and\x20distills\x20the\x20main\x20takeaways\x20concisely.\x0a-\x20Provides\x20bullet-point\x20executive\x20summaries.\x0a-\x20Uses\x20Markdown\x20for\x20structured\x20formatting\x20with\x20a\x20Summary\x20and\x20Next\x20Steps\x20section.','\x27\x20reserved','publishNodeLeave','vector-database-name-not-string','debounceAppendLog','mediaTopics','systemMessages','onCandidate','CloseMediaStream','__esModule','generative-ai','JobWorker:\x20Error\x20processing\x20job','createCollection','AI\x20Worker\x20already\x20exists','.ppt','toLowerCase','answererId','RemoteMediaStreamAlreadyExists','generative-ai-worker-creation-failed','openTrace','handleNodeJoinNeedPublishedStream','sendReject','handleDisconnect','isJobAttribution','senders','Node\x20does\x20not\x20exist.','.crewdle-layout','getPeaks','closeTrace','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','list','connecting','handlePublishMediaStream','lastCapacityReport','contentType','muted','crewdle-sdk','transactionQueue','Offer','IntermediateOutput','endpointMethod','addEventListener','ObjectKind','GenerativeAITracing\x20-\x20Model\x20price\x20not\x20found','attributes','setInterval','Text\x20is\x20required','orchestrator-close','Generic\x20AI\x20Agent\x20is\x20a\x20flexible\x20assistant\x20capable\x20of\x20responding\x20to\x20various\x20queries\x20and\x20tasks.\x0a-\x20It\x20provides\x20informative\x20and\x20concise\x20responses.\x0a-\x20It\x20adapts\x20its\x20tone\x20and\x20depth\x20based\x20on\x20the\x20context\x20of\x20the\x20conversation.\x0a-\x20It\x20ensures\x20clarity\x20and\x20coherence\x20in\x20all\x20interactions.\x0a-\x20It\x20structures\x20responses\x20using\x20Markdown\x20for\x20readability.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20can\x20summarize,\x20analyze,\x20and\x20generate\x20content\x20as\x20needed.\x0a-\x20It\x20always\x20prioritizes\x20user\x20intent\x20and\x20accuracy.','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','AudioContext\x20is\x20not\x20available','node-type-required','KeyValueDatabaseTableNotFound','objectToArrayBuffer','timeoutValue','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Model\x20ID\x20is\x20required\x20for\x20Embed\x20block','mute','prompt_tokens','shouldProcessTransaction','getAgents','channel','getSentences','speak','\x20check\x20failed','\x20writes\x20from\x20','sendIceCandidates','keyValueDatabaseConnector','signalingState','validation','invalid-publisher','setItem','POST','Retrieve','getDatabase','getFirestore','180864CaMBEF','getSenderTotalBytes','auth','Incoming','setEmail','clearSyncTimeout','getDate','wait-true','getCoresFromCapacityReport','.handlebars','getBufferedAmount','handleStatsSystemEvents','isReconnecting','remediationManager','object-store-name-not-string','remote-stream-missing-provider-id','pendingFilesTransactions','.exs','getConfigs','.liquid','setProviderId','Internal\x20unknown\x20error:\x20','sonar','.ini','external-storage-name-not-string','startBidResponseHandling','FetchUrl','\x20completed.','findNewMediaSubscription','checkMediaStream','Partial','NodeManager\x20-\x20NodeUpdate','client','o4-mini','AISearch','.info/connected','node-not-authenticated','claude-3-5-sonnet-latest','sonar-reasoning','deleteTransactionsForTable','mediaUnsubscribers','claude-3-opus-latest','OfficeParser','cluster-disconnect','No\x20connections\x20available\x20to\x20send\x20subscription\x20request','ObjectStoreAlreadyExists','offset','title','Job','isSync','endsWith','createGenerativeAIWorker','Attempt\x20','contentRect','A\x20versatile\x20AI\x20assistant\x20designed\x20to\x20handle\x20a\x20wide\x20range\x20of\x20tasks\x20and\x20inquiries.','Remote\x20stream\x20does\x20not\x20exist.','uid','fileConnector','DEBUG\x20-\x20','setRemoteConnections','onGatheringStateChange','November\x202024','setReportCapacity','getLabel','Get','createWritableStream','.xls','Error\x20processing\x20retrieve','outgoingManager','Generative\x20AI\x20context\x20job\x20failed.','vectors','setupConnectionEvents','addMessage','modelId','PublishMediaStream','collection-delete','missing-datachannel','openVectorDatabase','gpt-4o-mini-transcribe','handleRemediationSystemEvents','createBatch','gpt-4o-transcribe','toFixed','\x20sending\x20attempt\x20','Stream\x20does\x20not\x20exist','vector-database-missing-connector','key-value-database-not-open','targetId','collection-query','unregisterCluster','Retrieve\x20the\x20current\x20question\x20from\x20the\x20form.','NeedMediaStream','Anthropic','DTVolatility','apikeys/','clusters','loggingConnectors','object-store-not-in-sync','join','functions','remote-connection-exists','FolderDelete','detectStreamIssues','\x20not\x20supported','json','getGenerativeAIContexts','Invalid\x20value.\x20Property\x20\x27','isComputingMMR','instance','clearRect','oidc','debounceStats','transaction','workflow-invalid-block-type','KeyValueDatabaseTransactionValueNotSet','size','receiverUnsubscribers','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','\x20were\x20ready\x20in','job-dispatcher-already-exists','created','VectorDatabase','setTimestamp','ConnectionNotinitialized','documentParserConnector','CloseVectorDatabase','Missing\x20vector\x20database\x20connector','batchTimeout','Data\x20collection\x20does\x20not\x20exist.','ragApiKey','object-store-invalid-sync-message','node-type-not-supported','fetchContentFromUrl','content','state','connected','play','/traces','logLevel','ExecuteCustomSkill','disconnect','\x20must\x20be\x20a\x20string','processJobStream','Unsupported\x20job\x20type','origin','agent-update','storage','getMaxConnections','answerContentAvailable','NodeUpdate','isBidResponse','Error\x20closing\x20writable\x20stream','<current-question>','CloseGraphDatabase','Copywriter\x20Agent','senderTimeProcessing','getApp','clockSkew','openaiApiKey','getRank','getShareableStreamId','data:','outgoing-stream-no-topic','initialPrompt','setupListeners','isOpened','GenerativeAIContextInvalidPartialResult','Failed\x20to\x20commit\x20batch\x20after\x20retries:','contentManager','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','assistant','setPriority','mergeParts','st_volatility','createGain','jobPhase','CloseJobDispatcher','subscription-request-failed','openJobWorker','connectionConstructor','publishFile','decode','getName','appsync-disconnect','Mistlet\x20capacity\x20report\x20not\x20set.','updateDebounce','rank','close','removeSubscription','PeerConnection','file-write','forEach','queryFile','Receiver\x20connection\x20is\x20not\x20initialized.','crewdleSDKLoggingChannels','systemTopicUnsubscribe','receiverTimeProcessing','firebaseConfig','getSubscriptionLabel','.bat','appsync-connect-fail','PartialResult','headers','\x20Processing\x20audio\x20block','removeExternalStorageConnection','\x20with\x20response:','AppSync\x20publish','sequence','strategizing-agent','createJob','GenerativeAIContextCreationFailed','\x20failed.\x20Retrying...','getPeakNode','debounceProcessRank','enabledChannels','isRunning','logWaitTime','.rb','getSize','getDTVolatility','handleHandshake','.cfg','isInternalLoggingConnector','/search','bandwidth.jitter','onConnectionStateChange','fileSendingMap',',\x20Transactions:\x20','WorkflowInvalidBlockType','isIceCandidate','calculateArrayBufferSize','handleOptimizationConnectionSuccess','Model\x20not\x20found\x20','_isReady','ccc','12885fdZnyF','collectionId','getRemoteId','setOnDisconnectHandler','removeTrackListeners','.sh','Accepted','resizeHandler','readyDebounce','closeTopic','embedding','getJobDispatchers','claude-sonnet-4-0','audioSource','bytesReceived','publishNodeJoin','trend-spotter','NodeAlreadyExist','maxOutgoingSubscriptions','transactionsToAppend','split','accumulateResult','fetchUrl','Code','Synced','Update','isOffer','.mustache','isWhereValue','getRoot','mmr','wait','mediaDevices','app','startsWith','Optimization','required','ExecuteCode','digest','Events','generativeAIWorkers','Monitors\x20competitors\x20and\x20provides\x20insights\x20on\x20their\x20products,\x20pricing,\x20and\x20updates.','publishSyncCompleted','Transaction','Add','vector-database-creation-failed','move','key-value-database-invalid-value','packetsSent','Handshake','IngestTrace','IDBDatabaseConnector','GenerativeAIWorker:\x20FileDelete\x20failed','remoteUnsubscriber','localMediaStreams','entity-extractor','evaluateBidsAndAttributeJob','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','removeIncomingSubscription','.jinja2','resolutionScale','val','FS\x20connector\x20is\x20not\x20available','startIndex','subscriptions','handshakeState','values','senderPreviousTimestamp','getEmail','contentRequestSent','defineProperty','Generative\x20AI\x20context\x20creation\x20failed.','relation-extractor','dbKey','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','.crewdle-pending','find','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','CrewdleReceiverConnection\x20ontrack','Cannot\x20write\x20transaction.','includes','oncloseTimeout','getInternalStreamId','tts-1','logDataReceived','handshakeCandidates','handleSuccess','request-file-sync','High','Invalid\x20job\x20worker\x20type.','retrieveBlocks','Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream','outgoingTopic','notifyObjectStoreOfNodeLeave','/objectstores/','>\x0a\x0a','changesUnsubscriber','addNode','destination','CrewdleSenderConnection\x20createOffer','.info/serverTimeOffset','counter','graph-database-name-not-string','Content','key-value-database-invalid-query','Today\x20Date:\x20','Human','1:420235181083:web:4eff6062bd845cb0748cbe','vector-database','workflow','getAvailableTrackKinds','\x20Fallback\x20model','streams','New\x20MMR\x20Root:\x20','Problem\x20detected:\x20','text-embedding-3-small','docs','Disconnected','handleOffer','debounceRebuildMMRWithTransaction','crewdle-sdk.firebaseapp.com','setRank','local-stream-does-not-exist','Publish\x20the\x20transaction','engineType','GenerativeAIRagType','database','/developers/','.j2','stopNoThrottlingHack','updateUser','AI\x20Service\x20already\x20exists','Initial\x20MMR\x20built\x20with','nodes','ObjectStoreInvalidState','calculateSize','processTransactionPayload','NodeTypeRequired','get','getEstimatedTimestamp','amd','getTrackFromParam','ObjectStore\x20not\x20found','AgentSkill','peer-connection-invalid-destination','Jitter','\x20received\x20result:','Signaling','trackEndedListeners','onDisconnect','GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.','Vector','Insufficient\x20credits','handleContentUnsubscribeMediaStream','graph-database-already-exists','Error\x20resolving\x20readyPromises:','isInternalSDKConfigs','jobId','https://huggingface.co/bartowski/phi-4-GGUF/resolve/main/phi-4-Q8_0.gguf','getConnections','clientWidth','/stats','NodeNotAuthenticated','form-skill-get-question','FinalOutput','.hs','onloadeddata','traceLevel','setDisplayName','key-value-database-table-does-not-exist','closed','additionnalInstructions','saveToDisk','Database\x20Opened','localId','removeVectorDatabase','Local\x20stream\x20does\x20not\x20exist.','Pinecone','DataCollectionDoesNotExist','JobWorker:\x20Sending\x20job\x20result','utf8','addAudioTrack','rejectReady','sendWithRetry','Reranker','buffer','getLocalId','enabled','Node\x20type\x20is\x20invalid','TextGeneration','OutputStream','getInstance','setUpgradeTimeout','incomingTopic','syncTransactions','handleContentUpdateMediaStream','detectionManager','\x20ms\x0a','peakHeights','retry','setVendorId','Embeddings','isWhereValues','availableTrackKinds','getOrResetPendingFileTimeout','Key-value\x20database\x20peak\x20not\x20found.','dataStores','pipe','failJob','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','getConnection','startTracing','\x20MB','GenerativeAIWorker:\x20Opened','appendTransaction','waitSuccess','pow','JobStatus','logBatch','createReceiverConnection','key-value-database-creation-failed','NodeManager\x20-\x20ConnectionSuccess','startLoggingCycle','Invalid\x20query','InvalidPublisher','logEvent','graphDatabases','\x20-\x20','ExternalStorageConnectionAlreadyExists','height','notifyCluster','/transactions/','encode','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.','sdkValidateAccess','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','Recording','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','Invalid\x20job\x20service\x20payload.','.Total\x20pages\x20available:\x20','/usages','onNodeDisconnect','tts-1-hd','setDurationTime','RemoteMediaStreamTrackFail','timestamp','GraphDatabaseDoesNotExist','timeoutCallback','cost','transactionService','No\x20speech\x20connector\x20available','subtle','.xlsx','getJobObservable','Job\x20Dispatcher\x20already\x20exists','nodeId','discover','image_url','Cannot\x20unpublish\x20object\x20at\x20','component','cluster-leave','chosenAnswers','asc','handleRequestPayload','Invalid\x20key:\x20No\x20vendorId\x20or\x20accessToken','readyPromises','AudioContext','_ready','handleSubscribeMediaStream','external-storage','InvalidAccess','if_else','logSupport','ranges','Coordinates\x20and\x20orchestrates\x20the\x20execution\x20of\x20tasks\x20and\x20workflows.','kind','deleteRemoteNode','Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first','getCapacityReport','clearConnectionTimeout','JobDispatcherJobNotFound','cluster','Job\x20Worker\x20does\x20not\x20exist','getPubSubTopic','RelationExtractor','appendTransactionAndUpdateHashMap','agent','splice','/resources/generative-ai-collection/items/','UpdateMediaStream','createPubSubTopic','frameHeight','topK','canRestartHandshake','Llamacpp','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','object-store-stream-does-not-exist','syncContent','publishMove','checkAudioVolume','time','threadId','https://huggingface.co/bartowski/Meta-Llama-3.1-8B-Instruct-GGUF/resolve/main/Meta-Llama-3.1-8B-Instruct-Q8_0.gguf','InternalSDKError','Coordinator\x20Agent','unregisterSubscriber','senderPreviousBytes','object-storage-upload','Invalid\x20table\x20name\x20\x27','dataTopics','getLastUpdated','function','unpublish','sourceId','data:\x20[DONE]\x0a\x0a','onRemoveTrack','supported','wait-false','processReports','canAddCandidates','results','Resolution','dispatchEvent','Trend\x20Spotter','AppSync\x20connection\x20not\x20ready','JobContext','getRemoteConnections','Logging\x20not\x20enabled\x20for\x20channel\x20','addRemoteConnection','JobType','trackChanges','JobWorkerDoesNotExist','buildInitialMMR','createMediaStreamSource','waitForArrayBufferSize','queries','notifyJoin','420235181083','lastProcessRank','onHandshakeStateChange','NodeType','Workflow\x20does\x20not\x20exist.','deletePendingFile','abs','write','DataChannel\x20is\x20not\x20initialized.','file-download','ExecuteWorkflow','CannotProvideMediaStream','\x20Stream\x20usage','then','bodyParameters','handleError','ClusterAlreadyJoined','file','timeReceiving','\x27:\x20missing\x20or\x20invalid\x20keyPath','Search\x20in\x20data\x20collection\x20','connectionType','Method\x20not\x20supported','add','.css','Invalid\x20peer\x20connection\x20event\x20destination.','chunksReceived','GetContextResult','jobWorkers','getBuffer','nextNodeId','job-dispatcher-job-exists','removeRemoteMediaStream','No\x20start\x20block\x20found','ExternalStorageNameNotString','createConstantSource','handleTransactionPayload','WebGL','mode','localNode','\x20does\x20not\x20exists','notifyClusterNodeJoin','/jobs','getDoc','inputType','ragConnector','setConnectionType','image-parser','getSettings','Execute\x20the\x20agent\x20','URL\x20is\x20required','executeJavascriptCodeSnippet','tables','handleUpdateMediaStream','Error\x20processing\x20workflow\x20block','request','registerDestination','trim','handleObjectMove','logConnectionState','push','asObservable','Workflow','clearHeartbeat','CONNECTION_STATE_CHANGE','Error','.rs','Memory\x20Usage\x20at\x20','Strategizing\x20Agent','expectedTransactions','Error\x20closing\x20trace','messageBuffer','trackKinds','flatMap','keyValueDatabases','Support','Competitive\x20Analysis\x20Agent','destinationIds','sender-send-message','AI\x20Search\x20connector\x20not\x20set','getObjectStoreBucket','KeyValueDatabaseSendTransactions','splitParts','September\x202023','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','Subscribing\x20to\x20an\x20event:\x20on','StreamReport','numeric','clusterEventEmitter','validateLayout','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','reject','RequestFileSync','resolve','NodeTypeNotSupported','validateValue','.ps1','audioDestination','object-store-already-subscribed','firebaseUnsubscriber','isJobRequest','registerSubscriber','inputTokenPrice','getSupportedContentTypes','connectionTimeout','lastUpdated','threshold','ApiKeyMissing','Interviewer\x20Agent','ragConnectors','generativeAIContexts','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','transformations','setOnMessageHandler','error','indexes','NodeDoesNotExist','batch','slice','emit','run','buildTableEvent','file.type','.tcl','increment','race','cpu.fps','object','peerConnectionConnector','developers/','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','ObjectStoreNotInSync','AI\x20worker\x20creation\x20failed.','onUnregisterPublisher','gatheringState','Tool','publishSystemMessage','createMediaStreamDestination','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','Connection\x20does\x20not\x20exist','bufferedEvents','text-embedding-3-large','\x27\x20in\x20table\x20\x27','false','updateLastUpdated','receiverCurrentBytes','removeListener','Invalid\x20workflow\x20block\x20type.','transactionTable','KeyValueDatabaseIndexNotFound','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','GraphDatabaseAlreadyExists','filter','GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist','crewdle-sdk-logging-','setSenderTimestamp','accessToken','removeGenerativeAIContext','searchApiKey','processBatch','combinePeaks','systemMessagesReceived','detectLocalIssues','blocks','objectStoreConnector','KeyValueDatabaseCreationFailed','1.0.46.0','Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.','us-east-1','write-file','delta','workflow-tool','syncTransactionsWritten','models','getAudioTracks','handleSubscriptionSystemEvents','Routes\x20messages\x20based\x20on\x20conditional\x20logic.','en-US','SubscriptionRequestDoesNotExist','gpt-4.1-nano','left','openedTraces','1.0.46','processReport','queryCollection','Local\x20node\x20rank\x20is\x20not\x20set','createOffer','Model','receiverBitrate','object-store-invalid-payload','handleConnectionSuccess','warn','externalStorages','27Eebmod','FormSkillSubmitForm','contextInputVariable','processReceiverReport','\x0a\x20\x20===\x20Total\x20Nodes:\x20','Error\x20stringifying\x20object','jobQueue','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','No\x20RAG\x20connector\x20available','Missing\x20remote\x20node\x20or\x20rank','collectTransactionsFromNode','RemoteAdd','validateAccess','server','getRoundTripTime','setLoggingConnectors','Router','setScheduleTime','node-already-exist','clusterKey','createGenerativeAIContextStandalone','TextToSpeech','setAnswer','systemTopic','agentConfig','claude-3-haiku-20240307','handlePeerConnectionSystemEvents','setStatus','118898AZmXcp','PayloadAction','Executing\x20custom\x20skill:\x20','bytesSent','connectionManager','RetrieveTrace','jobs','upgrade','debugEnabled','getPubSubTopics','crewdleSDKDisableLogging','answerJoin','getHash','createObjectStoreBucket','getTime','CloseGenerativeAIContext','onNodeUpdate','getReport','frames','competitive-agent','loggingCycle','handshakeDebounce','providerId','receiverPreviousTimestamp','processContentAvailable','result','Folder','JobWorkerCreationFailed','processServiceReport','nodeKey','between','connectionState','265106OtAmNG','maxFps','getCurrentMaxLayer','GenerativeAITracing\x20-\x20Error\x20while\x20logging\x20usage','lastExecuted','createNewBatch','Error\x20searching','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','handleSubscriptionMediaStreamUnavailable','archival-search','Connection\x20already\x20exists','media-stream','pool','getLocalMediaStream','minThreshold','CloseObjectStoreBucket','getEntities','handleSubscriptionUnsubscribeMediaStream','sort','ConnectionBufferNotEmpty','claude-3-5-haiku-latest','From\x20','https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','Local\x20MediaStream\x20already\x20exists','output','Invalid\x20subscription.','Invalid\x20publisher.','KeyValueDatabase\x20not\x20found','searchInDataCollection','transactionHashMap','Cluster','MistletCapacityReportNotSet','question','Missing\x20owner\x20node\x20or\x20rank','WaitFalse','\x27\x20is\x20not\x20ready','connection-invalid-data-event','support','KeyValueDatabaseStats','loop','toString','findNextNodeId','.twig','Answer','total','Goal:\x20Fill\x20out\x20the\x20form\x20using\x20only\x20the\x20provided\x20tools.\x0a\x0aRules:\x0a-\x20Always\x20call\x20getQuestion\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20Only\x20ask\x20what\x20getQuestion\x20returns\x20you\x20—\x20no\x20guessing,\x20no\x20extras.\x0a-\x20Use\x20the\x20question\x27s\x20details\x20to\x20ask\x20a\x20clear,\x20human\x20question.\x0a-\x20Do\x20not\x20mention\x20formatting\x20or\x20validation\x20rules.\x0a-\x20Ask\x20only\x20one\x20question\x20at\x20a\x20time.\x0a-\x20Always\x20validate\x20the\x20answer\x20using\x20the\x20current\x20question\x27s\x20details\x20from\x20getQuestion.\x0a-\x20If\x20the\x20answer\x20is\x20valid\x20or\x20can\x20be\x20auto-corrected\x20(e.g.\x20trim,\x20format),\x20call\x20setAnswer(questionId,\x20value).\x0a-\x20If\x20the\x20answer\x20is\x20not\x20valid,\x20gently\x20ask\x20the\x20user\x20to\x20try\x20again\x20—\x20no\x20tech\x20talk,\x20no\x20rule\x20references.\x0a-\x20Call\x20submitForm\x20when\x20getQuestion\x20returns\x20\x22No\x20more\x20questions\x20available\x22.\x0a-\x20Never\x20call\x20more\x20than\x20one\x20tool\x20at\x20a\x20time.\x0a\x0aAvailable\x20Tools:\x0a-\x20getQuestion:\x20to\x20retrieve\x20the\x20current\x20question\x27s\x20details.\x0a-\x20setAnswer:\x20to\x20set\x20the\x20answer\x20to\x20the\x20current\x20question\x20and\x20move\x20to\x20the\x20next\x20question.\x0a-\x20submitForm:\x20to\x20submit\x20the\x20form\x20when\x20all\x20answers\x20have\x20been\x20answered.','Warning','snippet','vectorDatabaseConnector','RemoteRemediation','totalDecodeTime','remote-media-stream-invalid-subscription-params','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','getTotalBytes','Extracts\x20key\x20points\x20from\x20long\x20documents\x20and\x20emails.','jobDispatchers','createGenerativeAIContext','getMediaSubscription','RequestAccepted','FormSkillSetAnswer','Query\x20Generator\x20constructs\x20optimized\x20SQL\x20and\x20NoSQL\x20queries.\x0a-\x20Clarifies\x20database\x20type\x20(MySQL,\x20PostgreSQL,\x20MongoDB,\x20etc.)\x20before\x20generating\x20queries.\x0a-\x20Follows\x20best\x20practices\x20for\x20efficiency\x20and\x20readability.\x0a-\x20Explains\x20each\x20part\x20of\x20the\x20query\x20for\x20user\x20understanding.\x0a-\x20Checks\x20for\x20potential\x20performance\x20optimizations.\x0a-\x20Provides\x20queries\x20in\x20code\x20blocks\x20and\x20bullet-point\x20explanations.','addProblem','arguments','lastRemediations','cancel','node-invalid-type','sendBid','Execute\x20the\x20workflow\x20','MediaStreamUnavailable','Database\x20already\x20exists','signaling','match','handleFileSync','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','logStorage','Cannot\x20list\x20directory:\x20','Unknown\x20error\x20occurred\x20while\x20executing\x20workflow','getDocs','setupStatsCollection','AudioVolume','MediaStream\x20feature\x20not\x20enabled','SentenceSplitter','Internal\x20error:\x20','manageOptimization','FROM\x20file','getDataCollections','Joined\x20cluster','ceil','rate','Document\x20Agent\x20focuses\x20on\x20modifying\x20documents\x20based\x20on\x20user\x20input.\x0a-\x20It\x20only\x20outputs\x20modifications\x20in\x20text\x20format.\x0a-\x20It\x20ensures\x20all\x20modifications\x20are\x20clear\x20and\x20concise.\x0a-\x20It\x20uses\x20Markdown\x20for\x20structured\x20formatting.\x0a-\x20It\x20avoids\x20making\x20assumptions\x20without\x20sufficient\x20context.\x0a-\x20It\x20prioritizes\x20document\x20integrity\x20and\x20user\x20intent.','hashPeakHashes','User','internalJob','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','GenerativeAIWorkerStats','.pug','currentTimestamp','JobQueueService:\x20Error\x20running\x20job','floor','unregisterPublisherListener','ExternalStorageInvalidPath','21a9d78dee97f487b','getConnectionType','graph-database','ObjectStoreInvalidPath','Logging\x20trace','removeNode','openGraphDatabase','syncPendingFiles','.pptx','WorkflowTrace','Remediation','KeyValueDatabasePeakNotFound','SubscriptionRequestFailed','openPubSubTopic','senderCurrentTimestamp','framerate','Generative\x20AI\x20Context\x20does\x20not\x20exist','exports','processOutboundReport','Error\x20processing\x20ingest','receiverStreams','getTransactionFromTableWriteEvent','processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20','payloadType','agent-join','warning','applyRemediation','file-delete','reads','GenerativeAIInferenceToolType','isPromiseResolved','Method\x20not\x20implemented.','Cannot\x20publish\x20payload:\x20','request-accepted','orderByKey','generative-ai-worker-already-exists','priority','Syncing','downgrade','bid','FormSetAnswer','getChannelData',':\x20Object\x20store\x20is\x20not\x20in\x20sync','publishSyncCompletedAfterWrites','Outgoing','knowledgeCutoffDate','subscriptionManager','debounceReady','handleAnswer','removeTopic','sendChunked','bufferedAmountLowThreshold','Received\x20','/chat/completions','retryDelay','handleNodeDisconnect','STVolatility','isSubscribed','inbound-rtp','chunk-splitter','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','shift','recomputeRoot','Database\x20does\x20not\x20exist','remoteMediaStreams','operations','speech-create','context','if-else-router','generativeAISpeechConnectors','Cluster\x20already\x20joined','setEncodingParameters','getMinConnections','sendTransactionsValue','getConnectionGroup','unsubscribe','\x20must\x20be\x20a\x20number','appsync-close','retryQueues','message','crewdle','GenerativeAIContext\x20stream\x20error','all-minilm-l12-v2','onMessage','document-agent','connection-buffer-not-empty','Error\x20executing\x20workflow','agentId','openKeyValueDatabase','\x20to\x20send\x20dispatcherJob\x20','UnpublishMediaStream','resetConnection','searchOnPerplexity','ObjectStoreInvalidSyncMessage','createVectorDatabase','internalProcessJobStream','Error\x20fetching\x20context','authenticateUser','/nodes/','getAncestors','vendorId','updateLastTransactionId','Jobs','senderStreams','load','maxFramerate','MissingSystemTopic','streamId','getDistance','videoWidth','authContext','.lua','GenerativeAIWorkerMissingConnector','decodeJWT','DataStream','RoundTripTime','.dart','ExecuteAgent','setReceiverTimestamp','Attribution','Buffering\x20event','handleSubscriptionSubscribeMediaStream','FileStatus','tableLayout','Connection\x20does\x20not\x20exist.','optimizationLayers','Store\x20already\x20exists','SenderPeerConnection\x20send','comparePeaks','signalingServer','groupId','PeerConnectionInvalidDestination','WebRTC','createAnswer','inactive','RequestFile','contentMediator','Key-value\x20database\x20creation\x20failed.','\x27\x20payload:','handleOnMessage','Data\x20Sent','arrayBufferToObject','setOnTableWriteHandler','taskType','images','northamerica-northeast1','Cannot\x20publish\x20move\x20operation:\x20','readyResolve','\x20-\x20Sending\x20propagation\x20(','cpu.cycle','consumeBufferedEvents','minResolutionScale','NodeInvalidType','createIncomingSubscription','createKeyValueDatabase','senderCurrentBytes','embed','KeyValueDatabaseRequestPeakTransactions','entries','ConnectionState','configure','generic-agent','ObjectStoreStats','GenerativeAIContextStats','.js','parseWorkflowBlocks','removeOutgoingSubscription','onValue','delete','appsync-no-destination','compileStats','Ingest','Upload','joinedAt','FolderCreate','WorkflowDoesNotExist','every','2-digit','124kvPKPA','Rating','handleCloseContent','name','RemoteConnectionExists','key-value-database','Invalid\x20data\x20event.','topic','timePerFrame','options','checkSyncComplete','objectRequests','currentDistance','Internal\x20event\x20\x27','System','DataCollection','handleUnpublishMediaStream','processSenderReport','Early\x20return:\x20','handleMissingSenders','completeSync','supportsContentType','aws','firstValueFrom','removeConnection','Support:\x20current\x20config','VectorDatabaseMissingConnector','object-store-not-synced','statsCollection','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','JobWorker:\x20Sending\x20job\x20bid','async','eventListener','ConnectionInvalidDataEvent','collection-create','RestartNeedMediaStream','FileDelete','end','firebase-connect','All\x20recipients\x20already\x20received','notifyClusterNodeUpdate','validateVendorCredits','Text','coordinator-agent','processJob','relations','setSubscriptionRequestTimeout','Bitrate','getTrack','unregisterSystemSource','internalProcessJob','subscription-request-does-not-exist','\x20to\x20generate\x20a\x20response.','/vector_stores/','notifyObjectStoreOfNodeJoin','FormSkill','getVectorDatabase','Error\x20writing\x20file','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','job-','onBufferedAmountLow','handleSubscriptionProvideMediaStream','stop','failed','form-skill-submit-form','receiverTotalMessages','JobDispatcherCreationFailed','Submit\x20the\x20form.','getDisplayMedia','senderTotalMessages','March\x202025','callback','gpu','checkWebGL','document-parser','queues','Missing\x20external\x20storage\x20connector','commitType','messageType','tail','pub-sub-topic-name-not-string','FramePerSecond','getClosestNodes','whisper-1','Node','SpeechToText','Could\x20not\x20open\x20trace','contextOutputVariable','layout','ownerId','\x27\x20in\x20layout','clusterId','shared','/jobs/','validateKey','sourceVideo','forceLog','verb','Waiting','Delete','setupTrackEndedListeners','getTable','maxConnections','stopTracing','job-dispatcher-invalid-job-type','getTableConnector','KeyValueDatabaseAlreadyExists','Pending','getSimilarity','Remove','vector-database-already-exists','getAudioVideoDelay','\x20answer','gpt-4o-mini','SearchPerplexity','NodeManager\x20-\x20PublishNodeLeave','logSyncMetrics','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','questions','eventEmitter','createBufferSource','RequestFileWrite','openJobDispatcher','file-ingest','PubSubTopicStats','Model\x20ID\x20is\x20required','log','registerCluster','Data','addReservedTables','label','committed','Base\x20Peer\x20Connection','test-page','undefined','parentId','confirmSynchronization','pop','user-join','Skill','signInWithCredential','job-worker-creation-failed','KeyValueDatabaseInvalidQuery','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','min','openExternalStorageConnection','onTrack','jobObservers','shouldContinuePropagation','discoveryUnsubscriber','Embed','chunks','isArray','generative-ai-context-job-failed','WebScraper','sync','now','registerSystemSource','cluster-already-joined','/resources/generative-ai-collection/items','addIssue','ObjectStorageUpload','set','Id\x20is\x20not\x20valid,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','true','llama-3.1-8b','Default','timesCalled','registerSystemPublisher','createSenderConnection','application/octet-stream','processInboundReport','handleNodeJoin','base64','currentBatch','I\x20have\x20finished\x20executing\x20my\x20task.','connectorConstructor','openGenerativeAIContextStandalone','tableName','KeyValueDatabaseNotOpen','responseTimeout','subject','NeedRestart','receiver','WriteFile','getExternalStorageConnection','remediations','getQuestion','JobWorker:\x20Received\x20job\x20request','.md','Send\x20request','FeatureNotEnabled','url','length','mediaStream','GraphDatabaseCreationFailed','Generates\x20marketing\x20copy,\x20blog\x20articles,\x20and\x20ad\x20content.','outputType','skipEncryption','receiver-on-message','handleNodeSystemEvents','JobDispatcherObserverNotFound','OPFSObjectStoreConnector','data-collection','everyone','all','stream','Query\x20Generator','Object\x20store\x20connector\x20is\x20not\x20available','firebase-disconnect','Crewdle','Index','boolean','Missing\x20AI\x20search\x20API\x20key','connection-not-connected','peaks','isMediaSource','once','listenerUnsubscribers','getKeyValueDatabases','ready','setLocalRank','Emitting\x20event\x20on\x20local\x20cluster','google','node','answer-','framesEncoded','.\x20Confirmation?\x20','Error\x20executing\x20agent','key-value-database-name-not-string','batchSize','handleObjectDelete','interview-agent','previousTimestamp','WebScraperRaw','logRaw','gpt-4o-mini-tts','clientStream','logInitialMMR','FormGetQuestion','graphql','updated','tableObserver','trackCallback','Model\x20not\x20found','checkDeviceConfig','CloseJobWorker','problemType','Shared','isLoaded','object-store-already-exists','generateClient','KeyValueDatabaseDoesNotExist','Agent','handleNeedRestart','providerListener','Stats','autoplay','Code\x20is\x20required','direction','ObjectStoreNotSynced','path','String','JobWorker:\x20Handling\x20job\x20attribution','getItem','KeyValueDatabaseContentAvailable','type','https://huggingface.co/leliuga/all-MiniLM-L12-v2-GGUF/resolve/main/all-MiniLM-L12-v2.F16.gguf','VectorSearch','job-worker-does-not-exist','hasTable','Connected','sendPeakTransactions','Subscription\x20request\x20has\x20not\x20been\x20answered.','createLocalMediaStream','text/','unregisterRemoteNode','filename','nlpLibraryConnector','scheduleTime','resume','successNotified','handleFolderCreate','Missing\x20search\x20API\x20key','setBytes','submitForm','ObjectStoreAlreadySubscribed','transactions','internalContext','maxBitrate','subscribeToJobs','getContentType','createSubscription','padStart','writeTransaction','number','choices','streamLabel','getBid','estimatedPlayoutTimestamp','570264vIiDPW','detectProblems','totalNodes','GenerativeAIContextJobInvalidType','subscribedTracks','processRank','success','suspended','queryParameters','createTopic','Write\x20text\x20data\x20to\x20a\x20file.','getJob','transactionsToSync','removeLocalMediaStream','OpenAI','handleSubscriptionRestartNeedMediaStream','problem','KeyValueDatabaseTableDoesNotExist','getResolutionScale','stringify','Job\x20with\x20id\x20','Invalid\x20data\x20channel.','user','maxTokens','parameters','messagesReceived','CREWDLE_WEB_SDK','startNoThrottlingHack','listenUnsubscriber','invalid-data-chanel','removeItem','Cannot\x20publish\x20file:\x20','Support:\x20','\x20seconds','removePubSubTopic','GenerativeAIContextJobMissingThreadId','Disconnect','Prompt\x20is\x20required','/logs','onSnapshot','Boolean','history','Audio','addBatchOperation','\x20not\x20found.','packets','1928094qeqxzg','shouldEmit','Core','.yaml','logPropagateSystemEvent','Agent\x20group\x20not\x20found','performCalculation','More\x20content\x20available\x20on\x20page\x20','map','getStatus','take','LoadSkillFunction','claude-3-7-sonnet-latest','interval','\x27\x20to\x20','mmrRoot','output-stream','bufferedAmount','Media','statsManager','No\x20connector\x20found\x20for\x20model','isProduction','removeEventListener','srcObject','local-media-stream-already-exists','CrewdleConnection\x20handlePeerConnectionSystemEvents','Data\x20Received','/nodes','status','.ts','AppSync\x20subscribe','.conf','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','nodesConnected','maxBpp','Reranker\x20block\x20is\x20missing\x20required\x20data','debounceRebuildMMR','clearWaitSuccess','key-value-database-transaction-value-not-set','frameTime','canvas','GraphSearch','action','search-agent','bind','dt_volatility','condition_result','getJobs','\x0a</','renderElement','outputTokens','errorDetails','Detection','JobDispatcherDoesNotExist','ObjectStorageBucket','getRemoteMediaStream','setRemoteNode','Key-value\x20database\x20table\x20does\x20not\x20exist.','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','addDoc','onConfigurationChange','InvalidDataChannel','SubscribeMediaStream','Connection\x20not\x20connected.','handleContentUnpublishMediaStream','connector','handleContentCloseMediaStream','removeSubscriptionsForNode','storageType','Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index','eventTarget','pathName','source','\x0a\x20===\x20Total\x20Nodes:','gpt-4.1-mini','setInternalId','stun:','lastClockUpdate','generative-ai-context-job-already-consumed','gpt-4o-realtime-preview','setTimeout','functionsRegion','sampleRate','stats','Error\x20writing\x20chunk\x20to\x20stream','uuid','Problem','element','filesSynced','cachedRoot','tableUnsubscriber','account','ObjectStoreNameNotString','ExternalStorage','\x20Ai\x20search\x20final\x20response','manageAncestor','.ejs','deleteJob','setCurrentVersion','Writable\x20stream\x20is\x20missing','reranker','input-stream','grammar','files','GraphDatabaseMissingConnector','PubSubTopicAlreadySubscribed','destroy','default','complete','query','ReceiverOnMessage','tools','processPendingHandshakeCandidates','minConnections','Table\x20not\x20found','unregisterDestination','onChildRemoved','ObjectStore','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','handleNoAnswer','previousFrames','isSyncing','word-splitter','listChanges','ExternalStorageConnectionDoesNotExist','GenerativeAIContextJobAlreadyConsumed','exists','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','\x20with\x20\x27','minRelevance','query-file','start','disableIntervalHack','\x27\x20from\x20','Stream\x20already\x20exists','Generative\x20AI\x20context\x20job\x20already\x20consumed.','fps','Invalid\x20params','clear','registeredListeners','setPendingFileSyncingPayload','Invalid\x20object\x20store\x20sync\x20message.','local-media-stream-track-fail','getVectorDatabases','Entity','folder-create','deleteCollection','return\x20this','from','isChannelEnabled','FPS','isResultResponse','currentVersion','waitSendBuffer','getWorkflowObjectStorageBuckets','o3-mini','/transactions/lastTransaction','key-value-database-does-not-exist','subscription-request-no-answer','keys','hash','/embeddings','width','remoteId','handleLocalTrackFailure','data','retryCount','registerRemoteNode','JobWorker:\x20Sending\x20job\x20reject','handleIceCandidates','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','KeyValueDatabaseTableNameReserved','Subject','handleNodeUpdate','job-worker-invalid-type','durationTime','logDataSent','deleteFile','Internal\x20SDK\x20Error:\x20','computeHash','job-dispatcher-observer-not-found','GenerativeAIWorkerModelSyncError','onClose','replace','createJobDispatcher','Prompt','tokens','Summary\x20Generator','VectorDatabaseStats','RemoteRemove','getSubscriptionInfo','joinedClusters','connections','Id\x20is\x20required\x20and\x20must\x20be\x20a\x20string,\x20call\x20getQuestion\x20first\x20to\x20get\x20the\x20question\x20id','\x0aAdditional\x20data:\x20','VectorDatabase\x20not\x20found','.pdf','@context.','graph-database-does-not-exist','Received\x20ContentSynchronized\x20from\x20','organizationId','bitrate','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','Cannot\x20get\x20size\x20of\x20path:\x20','topics','getAuth','JobWorkerAlreadyExists','https://crewdle-sdk-default-rtdb.firebaseio.com','AiSearch','event','deleteFileChunks','getSubscribedTracks','.erb','maps','UnsubscribeMediaStream','frameWidth','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','Trend\x20Spotter\x20gathers\x20current\x20market\x20trends\x20from\x20reports,\x20social\x20media,\x20and\x20industry\x20news.\x0a-\x20It\x20identifies\x20the\x20market\x20of\x20interest\x20before\x20conducting\x20a\x20web\x20search.\x0a-\x20Provides\x20an\x20executive\x20summary\x20followed\x20by\x20detailed\x20insights.\x0a-\x20Lists\x20verified\x20statistics\x20and\x20their\x20sources.\x0a-\x20Always\x20states\x20the\x20date\x20of\x20information\x20and\x20suggests\x20verification.\x0a-\x20Summaries\x20are\x20structured\x20under\x20Key\x20Trends,\x20Market\x20Growth,\x20and\x20Consumer\x20Preferences.','Blank\x20Agent','evaluateBids','detectAudioIssues','generative-ai-context-job-missing-thread-id','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','writeFile','reset','getConnectionDestinations','Receiving\x20\x27','pendingSyncTransactions','text','key','/resources/generative-ai-agent/items','trace','unshift','Processing\x20agent\x20block:\x20','JobWorkerInvalidType','ScreenSharing','phi-4-14b','OptimizationConnectionSuccess','JobWorker:\x20Sending\x20job\x20partial\x20result','openGenerativeAIWorker','prompts','createFolder','hasRemoteNode','retryCallback','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','incrementVersion','isPartialResultResponse','Coordinator\x20Agent\x20manages\x20the\x20flow\x20of\x20tasks\x20and\x20ensures\x20the\x20successful\x20execution\x20of\x20workflows\x20to\x20fulfill\x20the\x20user\x27s\x20request.\x0a-\x20Interpret\x20the\x20user’s\x20request\x20to\x20break\x20it\x20down\x20into\x20a\x20sequence\x20of\x20tasks,\x20identifying\x20any\x20dependencies\x20between\x20them.\x0a-\x20Assign\x20each\x20task\x20to\x20the\x20most\x20appropriate\x20tool\x20based\x20on\x20its\x20capabilities.\x0a-\x20Track\x20the\x20progress\x20of\x20all\x20active\x20tasks\x20and\x20ensure\x20they\x20complete\x20as\x20expected.\x0a-\x20Share\x20regular\x20updates\x20with\x20the\x20user\x20about\x20task\x20progress\x20and\x20any\x20significant\x20changes.\x0a-\x20Only\x20respond\x20to\x20the\x20user\x20after\x20reviewing\x20and\x20interpreting\x20the\x20results\x20returned\x20by\x20tools.\x0a-\x20Do\x20not\x20answer\x20user\x20questions\x20directly\x20—\x20focus\x20on\x20managing\x20the\x20process\x20and\x20enabling\x20the\x20right\x20tools\x20to\x20respond.\x0a-\x20Communicate\x20clearly\x20using\x20Markdown\x20to\x20structure\x20updates.\x0a-\x20Understand\x20the\x20strengths\x20and\x20limits\x20of\x20each\x20available\x20tool\x20to\x20make\x20informed\x20decisions.\x0a-\x20Decide\x20whether\x20tasks\x20can\x20run\x20in\x20parallel\x20or\x20must\x20be\x20executed\x20sequentially\x20based\x20on\x20their\x20dependencies.\x0a-\x20If\x20a\x20tool\x20fails\x20or\x20returns\x20an\x20error,\x20evaluate\x20alternatives,\x20reassign\x20the\x20task\x20as\x20needed,\x20and\x20inform\x20the\x20user\x20of\x20the\x20adjustment.','KeyValueDatabaseInvalidLayout','executeWorkflow','Search\x20Agent','handleFileWrite','parse','checkMediaRecording','CloseKeyValueDatabase','isNodeReady','QueryFile','remoteConnections','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','Missing\x20OpenAI\x20API\x20key','getVideoTracks','debounceLogTimeout','getExternalStorageConnections','No\x20destinationIds\x20left','Result','generative-ai-context-invalid-partial-result','GenerativeAIWorkerAlreadyExists','\x20attempts:','SearchGoogle','pendingHandshakeCandidates','.cs','GraphDatabaseStats','Cannot\x20get\x20file:\x20','data:\x20','createLocalDynamicMediaStream','rootComputationPromise','\x20attributed\x20to\x20','Knowledge','completion_tokens','Consuming\x20buffered\x20event','ingestFile','key-value-database-table-not-found','statsReporting','VectorDatabaseAlreadyExists','handleContentSystemEvents','pendingFilesRename','getNextTargetRank','Receiver','writes','long','timeSending','chooseAnswer','Upgrade','FormSubmitForm','ChunkSplitter','features','insert','pub-sub-topic-already-exists','PubSubTopic\x20not\x20found','random','CanProvideMediaStream','Set\x20the\x20answer\x20to\x20the\x20current\x20question.','listenerUnsubscriber','.pl','getMilliseconds','removeKeyValueDatabase','GenerativeAIModelOutputType','Missing\x20AI\x20worker\x20connector','jobBids','captureStream','onProviderChange','clearRestartTimeout','content-unpublish-media','.crewdle-last-transaction','discoveryService','appsync-statechange','arrayBuffer','accumulated','updateDebounceTimeout','Received\x20content\x20available\x20from\x20node','assign','VectorDatabaseNameNotString','isFeatureSupported','issue','processTransactionsToComputeMMR','subscription','createExternalStorageConnection','unregisterSource','clientHeight','batchQueue','filteredDestinationIds','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','receiverConnection','invalid-access','addTrack','Dedicated','GraphDatabaseNameNotString','Error\x20opening\x20trace','Error\x20committing\x20batch:','publishUserUpdate','JobDispatcherAlreadyExists','web-scraper-raw','GenerativeAIContextAlreadyExists','restartHandshake','\x0a\x20===\x20Total\x20Time:\x20','getDataCollection','count','subscriptionRequests','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','table','Low','Sender','subscriptionRequestsQueue','PubSubTopicNameNotString','restartTimeout','parseDataCollectionBlocks','Invalid\x20object\x20store\x20state.','llama-3.2-3b','handleRemoteTrackFailure','logger','maxLayer','createPendingFileWrite','/resources/external-storage/items/','EntityExtractor','isConnected','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','pubSubTopics','Invalid\x20credentials','getToolDescription','removeGraphDatabase','\x20transactions\x20from\x20node\x20','dataChannel','setSinkId','handleContentSubscribeMediaStream','web-scraper','RAG\x20connector\x20is\x20not\x20available','output_tokens','Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string','Cannot\x20publish\x20folder:\x20','getCurrentVersion','where','value','detectVideoIssues','setParams','bandwidth.bitrate','operator','getEnabledChannels','claude-opus-4-0','\x20with\x20','sendAction','Restart','dedicated','removeJobWorker','FileWrite','.djt','getSTVolatility','openObjectStoreBucket','unregisterPublisher','external-storage-connection-already-exists','body','GetContextQuery','workflowId','doc','PromptFunctionParamsType','externalStorageConnectors','externalStorageConnections','nodeUpdate','packetsReceived','.jinja','Channel\x20\x27','Error\x20parsing\x20JSON:','Node\x20is\x20not\x20an\x20agent','fileChunks','DeviceConfig','has','loadFromDisk','clusters/','queryFileConnector','LocalMediaStreamNoAudioContext','Info','entities',',\x20Total\x20Nodes:','processContentSynchronized','index','</current-question>\x0a\x0a','serverTimestamp','knowledge','canProvideResolution','Invalid\x20job\x20type','catch','.go','SyncComplete','setupRenderElement','Queued','writeBatch','getReader','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','RemoteMediaStreamMissingProviderId','clearSubscriptionRequestTimeout','Document\x20Agent','ModelVector','right','concat','outputTokenPrice','getInternalTrackParams','getFunctions','waitConnected','getDataBucketIds','JobDispatcherInvalidPayload','handleChunkMessage','Object\x20store\x20is\x20not\x20in\x20sync','LoggingService:\x20logging\x20enabled\x20for','sendRequest','instructions','WordSplitter','hasOwnProperty','gpt-4o','system','handleSystemEvents','processLocalReport','AppSync\x20client\x20not\x20ready','sendFileRequestPayload','vectorDatabases','ObjectStoreInvalidPayload','Pool','Subscription','recipients','Wait','publish','getLayout','Job\x20','handleSubscriptionNeedMediaStream','processList','prototype','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','Received\x20event\x20on\x20cluster','aiSearchApiKey','getGenerativeAIContextsStandalone','messageListeners','GenerativeAIContext','getJobWorkers','Job\x20worker\x20creation\x20failed.','hasTracks','featureSupport','max','Query\x20file\x20connector\x20not\x20set','unsubscribeListener','ConnectionNoRetryQueue','GenerativeAIWorker:\x20Opening','.hbs','sentence-splitter','DatabaseEvent','usage','email','chained','packetsLost','getPartsFromSubscription','reasoning','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','\x20Stream\x20final\x20response','handleOutgoingSystemEvents','RemoteMediaStreamInvalidSubscriptionParams','.rkt','createGraphDatabase','getTotalNodes','anthropicApiKey','InitialPrompt','VectorDatabaseDoesNotExist','sender','PromptRating','clearOncloseTimeout','remediation','speech-to-speech','Knowledge\x20Cutoff\x20Date:\x20','entity','JobQueueService:\x20Running\x20job','checksum','rebuildMMR','objectStores','byteLength','description','hashNodes','Request','generativeAIWorkerConnectors','Failed\x20to\x20get\x20file','getProviderId','reportMetric','publishFolder','connection-not-initialized','May\x202024','Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number','JobWorker:\x20Received\x20job\x20attribution','issues','PubSubTopic\x20publish','ObjectStorage','debounceReadyTimeout','handleNodeLeave','Offline','setTransformations','getId','MissingRemoteConnection','cleanOldSubscription','addRemoteNode','inputTokens','QueryBuilderInvalidArgument','JobStream','commitBatch','isNeedRestart','documentPath','receiverCurrentTimestamp','Error\x20retrieving\x20context','deleteObject','Image','Relation','KeyValueDatabaseSyncRequired','AudioOutput','newPath','connection-no-retry-queue','debug','tracks','Completed','Everyone\x20','InvalidSubscription','closeConnection','globalObject','isAvailable','feedback-agent','Buffered\x20chunks\x20are\x20too\x20large','MediaStream','connect',';base64,','addCluster','All','connection-state','CloseExternalStorageConnection','realtime-session-create','JobDispatcher:\x20Received\x20job','addPendingHandshakeCandidate','Vector\x20database\x20creation\x20failed.','tool','\x20already\x20exists','createDataChannel','ObjectStoreCannotWriteTransaction','setupResizeHandler','head','onDataChannel','pubsubTopics','Received\x20track','Subscription\x20request\x20failed.','join-cluster','\x20must\x20be\x20a\x20boolean','workflow-does-not-exist','InputStream','.php','initialize','question-','searchOnGoogle','.swift','request-file','ai-search','Issue\x20detected:\x20','video','UnsubscribeMediaStreamdiaStream','setDoc','syncKeyValueDatabase','removeTrack','getDisplayName','LocalMediaStreamTrackFail','ancestors','region','authNode','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','Failed','Key-Value\x20Database\x20-\x20Sync\x20Completed','Success','checkExistingPendingFileContent','indexOf','handleDetectionSystemEvents','getToolName','external-storage-connection-does-not-exist','text/plain','getTransactions','.cpp','.tsx','syncedFileExists','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','ExternalStorageStats','receiverPreviousBytes','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','senderConnection','dataUnsubscribers','isWhereBetween','queryOrPrompt','inference','PubSubTopicDoesNotExist','NodeConnectionsUpdate','addBidResponse','loadEnabledChannels','getReceiverTotalBytes','agent-skill','Additional\x20context:\x0a','getWorkflow','job-dispatcher-job-not-found','Account','contentSize','toLocaleDateString','addEdge','GraphDatabase','.json','getResolution','List','WaitTrue','Error\x20fetching\x20URL','string','cpu.av_delay','isMediaDestination','\x0a\x20===\x20Total\x20Data\x20Received:\x20','findIndex','SpeechToSpeech','bufferedChunks','\x20finalized.','keyPath','unsubscribeTrackEndedListener','removeRemoteConnection','codes','ConnectionGroup','SenderSendMessage','getMonth','trackListeners','searchConnector','addCandidate','getQuery','getPartsForSubscriptionLabel','Context','subscriptionRequestTimeouts','startHeartbeat','moveObject','syncTimeout','logUsage','\x0a\x0adata:\x20','DataStream\x20onMessage','KeyValueDatabase','getTransactionByHash','round','No\x20file\x20content\x20found','relation','removeRemoteStreamSubscription','voice','off','job-worker-already-exists','Error\x20querying\x20file','remote-media-stream-already-exists','generative-ai-context-creation-failed','av_delay','GenerativeAIWorker:\x20CollectionDelete\x20failed','Node\x20not\x20authenticated','listener','JobWorker:\x20Tracing\x20not\x20implemented','isFailedResponse','maxResolution','httpsCallable','gpt-4.1','observer','commitLevel','mediator','ImageParser','endpointUrl','setupStatsReporting','read','logMMRRebuild','internal','prompt','RemoteMediaStreamDoesNotExist','searchEngineId','temperature','maxDistance','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','copywriter-agent','registerPublisher','PubSubTopicAlreadyExists','dataBucketIds','developers','processReceivedTransactions','getWorkflows','VectorDatabaseCreationFailed','GenerativeAIContextJobFailed','maxThreshold','getContent','jitter','KeyValueDatabaseRequestTransactionsValue','Invalid\x20content\x20type','internalId','getTracks','1669296yPqZiq','Learning\x20Agent\x20adapts\x20to\x20user\x20learning\x20levels,\x20pace,\x20and\x20preferred\x20format.\x0a-\x20Assesses\x20prior\x20knowledge\x20before\x20beginning\x20lessons.\x0a-\x20Customizes\x20learning\x20paths\x20and\x20adjusts\x20difficulty\x20based\x20on\x20performance.\x0a-\x20Provides\x20step-by-step\x20explanations\x20and\x20real-world\x20examples.\x0a-\x20Uses\x20spaced\x20repetition\x20techniques\x20for\x20reinforcement.\x0a-\x20Lessons\x20are\x20structured\x20with\x20Markdown\x20headers\x20and\x20inline\x20quizzes.','AITrace','executeAgent','time_per_frame','sdk-internal-error:\x20','queueLength','Error\x20processing\x20agent\x20block','ref','joinCluster','closeSubscription','resolveReady','send','Invalid\x20key:\x20','not-resolved','getPacketsLostPerc','displayName','removeTrackCallback','getWorkflowExternalStorageConnections','connection','missing-incoming-connection','Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.','feedback','ClosePubSubTopic','remoteNodes','Unknown\x20skill\x20type','Invalid\x20JSON:','Hub','Invalid\x20version\x20\x27','params','clearWaitAnswer','Found\x20','getBitrate','cpu.time_per_frame','getToolParams','score','orderBy','input_tokens','text/csv','heartbeatUnsubscriber','getOutgoingOptimizationConnections','ExternalStorageConnectorsMissing','image','rating','CustomSkill','writeTransaction\x20-\x20transaction\x20already\x20exists','call','Execute\x20skill\x20','LocalReport','GenerativeAIModelInputType','https://api.stg.crewdle.ai','StorageEventType','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','Invalid\x20node\x20type','addConnection','disconnectCallback','graph-database-missing-connector','jobType','distance','Parameter\x20','onDisconnectHandler','reportCapacity','retryLimit','/workflows/','crewdle-sdk.appspot.com','isReady','available','getMediaStream','external-storage-connection-already-subscribed','No\x20connections\x20available\x20to\x20send\x20message','file-list','No\x20model\x20available','feature-not-enabled','graphService','limit','gpt-4o-mini-realtime-preview','handleFileRequest','SystemTopic\x20publish','Bid','getEngineType','messagesSent','CPUCycle','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','Query\x20is\x20required','\x20deleted.','ended','pub-sub-topic-does-not-exist','removeRemoteNode','remote-stream-does-not-exist','getLocalMediaStreams','currentBytes','hasMessage','setIsLoaded','Debug','tool-call','ingestBlocks','startTime','key-value-database-index-not-found','getRemoteNode','MediaStreamPriority','getPriority','Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.','getNumberOutgoingSubscriptions','GenerativeAIWorkerCreationFailed','answer','track','processDataChannelReport','connectionStateListener','audio','GenerativeAILabelConflict','createRemoteMediaStream','October\x202023','runTransaction','statsReport','KeyValueDatabaseContentSynchronized','GenerativeAIEngineType','Missing\x20transaction\x20id','local-media-stream-no-audio-context','LoadKnowledgeFunction','senderBitrate','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','propagate','KeyValueDatabaseTransactionTableNotInitialized','ExternalStorageUpload','ConnectionNotConnected','unregisterSystemPublisher','Rejected\x20answer','overlap','.vb','PubSub\x20already\x20exists','fromEntries','sendStats','NodeJoin','July\x202024','supports','relevance','WorkflowTool','getFullYear','Invalid\x20key\x20\x27','Online','configs','https://api.crewdle.ai','Backgrounds','authService','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','nodeManager','Error\x20reading\x20file\x20chunk\x20after\x20','checkScreenSharing','G-F7W8KXRKQB','canChooseAnswer','Data\x20cluster\x20is\x20not\x20open.','outgoingStreams','Executes\x20precise\x20and\x20efficient\x20searches\x20using\x20available\x20tools\x20to\x20retrieve\x20relevant\x20information.','Search','createAIJob','firestore','Failed\x20to\x20get\x20filename','file.content','upload','resolution','GenerativeAITaskType','0\x20B','getOwnerId','noun','buildQuery','authenticateAgent','ExternalStorageConnectionAlreadySubscribed','AudioVideoDelay','\x20failed.','iceServers','connectionGroup','owner','blockId','substring','capacityReporter','handleJobAttribution','waitAnswer','completed','Failed\x20to\x20send\x20job\x20','registerSource','signInWithCustomToken','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','application/json','publishLocalDynamicMediaStream','No\x20more\x20questions,\x20call\x20submitForm\x20to\x20submit\x20the\x20form','getAncestorIds','requestSubscriptionAction','sonar-pro','replaceTrack','hasBufferedData','SubscriptionRequestNoAnswer','external-storage-invalid-path','fetch-url','enumerateDevices','Medium','getLocalNode','\x20does\x20not\x20support\x20content\x20type\x20','endpoint','compareTransactions','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','receivers','leave','sonar-reasoning-pro','learn-agent','retryQueue','@root','lastTransactionId','\x20created\x20and\x20dispatched.','Error\x20executing\x20code','Connection','updatePropagationProperties','checkAudioContext','ContentType','toStringTag','handleContentRemoteMediaStreamTrackFail','publishTransaction','.py','fallbackModel','logServiceEvent','unsubscribeHandler','ObjectStoreDoesNotExist','Graph\x20database\x20creation\x20failed.','collectStats','removeObjectStore','remote-inbound-rtp','instantiateTransactionTable','pendingFilesSyncing','TimePerFrame','[DONE]','Hash\x20computation\x20failed,\x20retrying...','executeQuery','openGenerativeAIContext','subscribe','Cannot\x20unpublish\x20object:\x20','LocalMediaStreamDoesNotExist','job-dispatcher-creation-failed','getIsLoaded','getGenerativeAIWorkers','connectionPool','processContentAvailable\x20-\x20Peak\x20comparison:','speechAIWorkerConnectors','hashTransaction','getContext','update','openAIKey','remove','handleFileRequestAnswer','OutgoingMediaStreamNoTopic','some','messageCallback','NodeLeave','Job\x20service\x20creation\x20failed.','getRemoteNodes','manageBufferedChunks','getRemoteMediaStreams','Missing\x20index','summary-generator','version','model','createConnection','Adapts\x20content\x20based\x20on\x20user\x20learning\x20progress.','crewdleSDKEnableLogging','detail','roundTripTime','.jsx','Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','getObjectStoreBuckets','getMaxDistance','requestSubscription','LocalMediaStreamAlreadyExists','evaluateProccessedJob','clearUpgradeTimeout','KeyValueDatabaseInvalidValue','createElement','vector','SenderPeerConnection.send','previous','Operations:','listen','lastHeartbeat','Rejected','createOutgoingSubscription','GenerativeAITracing\x20-\x20Error\x20while\x20closing\x20trace','object-storage','topicLabel','Generative\x20AI\x20context\x20job\x20timeout.','syncResolve','currentFrames','active','getGraphDatabase','format','August\x202023','answers','standalone'];a0_0x2701=function(){return _0x33fff4;};return a0_0x2701();}(function(_0x1c4c74,_0x50ccf9){const _0x4fd851=a0_0x1b87,_0x3dbe57=_0x1c4c74();while(!![]){try{const _0x1ac1ae=parseInt(_0x4fd851(0x2f8))/0x1+-parseInt(_0x4fd851(0x318))/0x2+parseInt(_0x4fd851(0xa13))/0x3+parseInt(_0x4fd851(0x42f))/0x4*(-parseInt(_0x4fd851(0xafe))/0x5)+-parseInt(_0x4fd851(0x866))/0x6+parseInt(_0x4fd851(0x589))/0x7+parseInt(_0x4fd851(0x55b))/0x8*(parseInt(_0x4fd851(0x2dc))/0x9);if(_0x1ac1ae===_0x50ccf9)break;else _0x3dbe57['push'](_0x3dbe57['shift']());}catch(_0xaba9d2){_0x3dbe57['push'](_0x3dbe57['shift']());}}}(a0_0x2701,0x2b69d),!function(_0x3d180c,_0x2c786c){const _0x140772=a0_0x1b87;if(_0x140772(0x29a)==typeof exports&&'object'==typeof module)module['exports']=_0x2c786c();else{if(_0x140772(0x201)==typeof define&&define[_0x140772(0x155)])define([],_0x2c786c);else{var _0xd17a88=_0x2c786c();for(var _0x199f86 in _0xd17a88)(_0x140772(0x29a)==typeof exports?exports:_0x3d180c)[_0x199f86]=_0xd17a88[_0x199f86];}}}(this,()=>((()=>{'use strict';const _0xab329a=a0_0x1b87;var _0x3a1915={0x14d:(_0x2dce5b,_0x3402c0,_0x372535)=>{const _0x20d104=a0_0x1b87;_0x372535['d'](_0x3402c0,{'O':()=>_0x43ed9a});const _0x43ed9a={'version':_0x20d104(0x2c1),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':'crewdle-sdk-stg.firebaseapp.com','databaseURL':_0x20d104(0x469),'projectId':'crewdle-sdk-stg','storageBucket':'crewdle-sdk-stg.appspot.com','appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0x20d104(0x40e)},'apiUrl':_0x20d104(0x898),'google':{'searchEngineId':_0x20d104(0x37d)},'aws':{'endpoint':_0x20d104(0x9f8),'region':'us-east-1'}};},0x33b:(_0x514724,_0x17c3d6,_0x36d779)=>{_0x36d779['d'](_0x17c3d6,{'O':()=>_0x126440});const _0x126440={};},0x3e6:(_0x44f4a2,_0x5705f5,_0x3df6fe)=>{const _0x13fb5b=a0_0x1b87;_0x3df6fe['d'](_0x5705f5,{'O':()=>_0xe23446});const _0xe23446={'version':_0x13fb5b(0x2d1),'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x13fb5b(0x7fd),'authDomain':_0x13fb5b(0xb76),'databaseURL':_0x13fb5b(0x658),'projectId':_0x13fb5b(0x9eb),'storageBucket':_0x13fb5b(0x8a6),'messagingSenderId':_0x13fb5b(0x21b),'appId':_0x13fb5b(0xb69),'measurementId':_0x13fb5b(0x8fa)},'apiUrl':_0x13fb5b(0x8f3),'aws':{'endpoint':_0x13fb5b(0x32e),'region':_0x13fb5b(0x2c3)}};},0x20:(_0x3c1b53,_0xc4dba2,_0x1108b1)=>{_0x1108b1['d'](_0xc4dba2,{'O':()=>_0x575257});const _0x575257={};}},_0x3fc5fc={};function _0x25dc76(_0xa9a6f){const _0x4db00c=a0_0x1b87;var _0x22daa0=_0x3fc5fc[_0xa9a6f];if(void 0x0!==_0x22daa0)return _0x22daa0['exports'];var _0x26fcf8=_0x3fc5fc[_0xa9a6f]={'exports':{}};return _0x3a1915[_0xa9a6f](_0x26fcf8,_0x26fcf8[_0x4db00c(0x38e)],_0x25dc76),_0x26fcf8[_0x4db00c(0x38e)];}_0x25dc76['d']=(_0x84a8ce,_0x250acb)=>{const _0x38d29f=a0_0x1b87;for(var _0x2e8821 in _0x250acb)_0x25dc76['o'](_0x250acb,_0x2e8821)&&!_0x25dc76['o'](_0x84a8ce,_0x2e8821)&&Object[_0x38d29f(0xb44)](_0x84a8ce,_0x2e8821,{'enumerable':!0x0,'get':_0x250acb[_0x2e8821]});},_0x25dc76['g']=(function(){const _0x1479f7=a0_0x1b87;if(_0x1479f7(0x29a)==typeof globalThis)return globalThis;try{return this||new Function(_0x1479f7(0x61c))();}catch(_0x421adb){if(_0x1479f7(0x29a)==typeof window)return window;}}()),_0x25dc76['o']=(_0x329130,_0x46834e)=>Object[_0xab329a(0x762)][_0xab329a(0x750)][_0xab329a(0x894)](_0x329130,_0x46834e),_0x25dc76['r']=_0x4c301a=>{const _0x253c1f=_0xab329a;_0x253c1f(0x4b5)!=typeof Symbol&&Symbol[_0x253c1f(0x93b)]&&Object[_0x253c1f(0xb44)](_0x4c301a,Symbol[_0x253c1f(0x93b)],{'value':'Module'}),Object[_0x253c1f(0xb44)](_0x4c301a,_0x253c1f(0x9d0),{'value':!0x0});};var _0x91d017,_0x2a74fc,_0x59a34d,_0x21aab5={};_0x25dc76['r'](_0x21aab5),_0x25dc76['d'](_0x21aab5,{'KeyValueDatabase':()=>_0x2e8a71,'LayoutBuilder':()=>_0x3c992d,'LoggingChannels':()=>_0x59a34d,'QueryBuilder':()=>_0x476e0c,'SDK':()=>_0x34155b,'SDKClientErrorCodes':()=>_0x91d017,'TableBuilder':()=>_0x336d7a,'logger':()=>_0x542377}),function(_0x14926d){const _0x588de3=_0xab329a;_0x14926d['ApiKeyMissing']='api-key-missing',_0x14926d[_0x588de3(0x32b)]=_0x588de3(0x3d2),_0x14926d[_0x588de3(0x22b)]=_0x588de3(0x4cd),_0x14926d[_0x588de3(0x1ad)]=_0x588de3(0x717),_0x14926d[_0x588de3(0x90c)]=_0x588de3(0x8aa),_0x14926d[_0x588de3(0x605)]=_0x588de3(0x7f4),_0x14926d['ExternalStorageConnectorsMissing']='external-storage-connectors-missing',_0x14926d[_0x588de3(0x37c)]=_0x588de3(0x925),_0x14926d[_0x588de3(0x23d)]=_0x588de3(0xa2b),_0x14926d[_0x588de3(0x4ee)]=_0x588de3(0x8ae),_0x14926d[_0x588de3(0x6df)]='generative-ai-context-already-exists',_0x14926d[_0x588de3(0x9a5)]='generative-ai-context-does-not-exist',_0x14926d[_0x588de3(0x57e)]=_0x588de3(0x666),_0x14926d[_0x588de3(0x55e)]='generative-ai-context-job-invalid-type',_0x14926d[_0x588de3(0x8d3)]='generative-ai-label-conflict',_0x14926d[_0x588de3(0x693)]=_0x588de3(0x3a0),_0x14926d[_0x588de3(0x3ed)]='generative-ai-worker-missing-connector',_0x14926d[_0x588de3(0x63e)]='generative-ai-worker-model-sync-error',_0x14926d[_0x588de3(0x2b2)]=_0x588de3(0x163),_0x14926d[_0x588de3(0x1c0)]=_0x588de3(0x64f),_0x14926d[_0x588de3(0x5f1)]=_0x588de3(0x89e),_0x14926d[_0x588de3(0x6d9)]=_0x588de3(0xb64),_0x14926d[_0x588de3(0x6dd)]=_0x588de3(0xa8a),_0x14926d[_0x588de3(0x5be)]='job-dispatcher-does-not-exist',_0x14926d['JobDispatcherJobExists']=_0x588de3(0x23a),_0x14926d['JobDispatcherJobNotFound']=_0x588de3(0x80b),_0x14926d['JobDispatcherInvalidJobType']=_0x588de3(0x497),_0x14926d[_0x588de3(0x657)]=_0x588de3(0x83a),_0x14926d['JobWorkerDoesNotExist']=_0x588de3(0x53c),_0x14926d[_0x588de3(0xa40)]=_0x588de3(0x529),_0x14926d[_0x588de3(0x54d)]=_0x588de3(0x27d),_0x14926d[_0x588de3(0x942)]=_0x588de3(0x1f2),_0x14926d[_0x588de3(0x5e5)]=_0x588de3(0xa21),_0x14926d[_0x588de3(0x758)]=_0x588de3(0x2d8),_0x14926d[_0x588de3(0x380)]='object-store-invalid-path',_0x14926d['ObjectStoreNotInSync']=_0x588de3(0xa74),_0x14926d[_0x588de3(0x1f9)]='internal-sdk-error',_0x14926d['InvalidAccess']=_0x588de3(0x6d6),_0x14926d[_0x588de3(0x499)]='key-value-database-already-exists',_0x14926d[_0x588de3(0x52b)]=_0x588de3(0x626),_0x14926d[_0x588de3(0x2b0)]=_0x588de3(0x8c7),_0x14926d[_0x588de3(0x4bd)]=_0x588de3(0xb66),_0x14926d[_0x588de3(0x976)]=_0x588de3(0xb2d),_0x14926d['KeyValueDatabaseNameNotString']=_0x588de3(0x514),_0x14926d[_0x588de3(0x4e2)]=_0x588de3(0xa69),_0x14926d[_0x588de3(0x634)]='key-value-database-table-name-reserved',_0x14926d[_0x588de3(0x9fb)]=_0x588de3(0x6a2),_0x14926d[_0x588de3(0x681)]='key-value-database-invalid-layout',_0x14926d['LocalMediaStreamAlreadyExists']=_0x588de3(0x5a1),_0x14926d[_0x588de3(0x72b)]=_0x588de3(0x8db),_0x14926d[_0x588de3(0x858)]=_0x588de3(0x6b2),_0x14926d['PubSubTopicDoesNotExist']=_0x588de3(0x8bc),_0x14926d['PubSubTopicNameNotString']=_0x588de3(0x47f),_0x14926d[_0x588de3(0x5f2)]='pub-sub-topic-already-subscribed',_0x14926d[_0x588de3(0x7a9)]='query-helper-invalid-argument',_0x14926d[_0x588de3(0x9d8)]=_0x588de3(0x83c),_0x14926d[_0x588de3(0x77e)]=_0x588de3(0x34b),_0x14926d['SubscriptionRequestInProgress']='subscription-request-in-progress',_0x14926d[_0x588de3(0x16b)]=_0x588de3(0xa37),_0x14926d[_0x588de3(0x415)]=_0x588de3(0x359),_0x14926d[_0x588de3(0x279)]=_0x588de3(0xa96),_0x14926d[_0x588de3(0x152)]=_0x588de3(0x9fa),_0x14926d[_0x588de3(0x6a4)]=_0x588de3(0x49d),_0x14926d[_0x588de3(0x784)]=_0x588de3(0x9b0),_0x14926d['VectorDatabaseMissingConnector']=_0x588de3(0xa68),_0x14926d[_0x588de3(0x6ca)]=_0x588de3(0x9ca);}(_0x91d017||(_0x91d017={}));class _0x1695e5 extends Error{[_0xab329a(0x9ac)];constructor(_0x4915c4,_0x13d148){super(_0x13d148),this['code']=_0x4915c4;}}!function(_0x1b6a84){const _0x4f2ad0=_0xab329a;_0x1b6a84[_0x4f2ad0(0x999)]='pubsub',_0x1b6a84[_0x4f2ad0(0x79f)]=_0x4f2ad0(0x981),_0x1b6a84['KeyValueDatabase']='key-value-database',_0x1b6a84['VectorDatabase']=_0x4f2ad0(0xb6a),_0x1b6a84[_0x4f2ad0(0x810)]=_0x4f2ad0(0x37f),_0x1b6a84[_0x4f2ad0(0x5e6)]=_0x4f2ad0(0x1d7),_0x1b6a84[_0x4f2ad0(0x7c1)]=_0x4f2ad0(0x323),_0x1b6a84[_0x4f2ad0(0x768)]=_0x4f2ad0(0x9d1);}(_0x2a74fc||(_0x2a74fc={})),function(_0x2ccce7){const _0x1a32f9=_0xab329a;_0x2ccce7['All']=_0x1a32f9(0x4fc),_0x2ccce7[_0x1a32f9(0x4d5)]=_0x1a32f9(0x5f4),_0x2ccce7[_0x1a32f9(0x937)]=_0x1a32f9(0x879),_0x2ccce7[_0x1a32f9(0x41c)]=_0x1a32f9(0x7c6),_0x2ccce7[_0x1a32f9(0x336)]=_0x1a32f9(0x1e3),_0x2ccce7['Content']=_0x1a32f9(0xa98),_0x2ccce7['DataStream']='data-stream',_0x2ccce7['Detection']='detection',_0x2ccce7[_0x1a32f9(0xb25)]='events',_0x2ccce7[_0x1a32f9(0x25c)]=_0x1a32f9(0x28d),_0x2ccce7[_0x1a32f9(0x3e3)]=_0x1a32f9(0x2fe),_0x2ccce7['KeyValueDatabase']=_0x1a32f9(0x434),_0x2ccce7['Node']=_0x1a32f9(0x50f),_0x2ccce7[_0x1a32f9(0x759)]=_0x1a32f9(0x324),_0x2ccce7[_0x1a32f9(0x999)]='pubsub',_0x2ccce7[_0x1a32f9(0x5f7)]=_0x1a32f9(0x4f6),_0x2ccce7[_0x1a32f9(0x387)]=_0x1a32f9(0x788),_0x2ccce7[_0x1a32f9(0x823)]=_0x1a32f9(0x269),_0x2ccce7[_0x1a32f9(0x15c)]=_0x1a32f9(0x35e),_0x2ccce7[_0x1a32f9(0x52f)]=_0x1a32f9(0x5dc),_0x2ccce7[_0x1a32f9(0x75a)]=_0x1a32f9(0x6ce),_0x2ccce7[_0x1a32f9(0x266)]=_0x1a32f9(0x33d),_0x2ccce7[_0x1a32f9(0x43d)]='system',_0x2ccce7['SystemStats']='system-stats',_0x2ccce7['TestPage']=_0x1a32f9(0x4b4),_0x2ccce7['PeerConnection']='peer-connection';}(_0x59a34d||(_0x59a34d={}));const _0x1d89a1=require('@crewdle/web-sdk-types');class _0x476e0c{[_0xab329a(0x5f6)];constructor(_0x16deb8){const _0x1776ec=_0xab329a;this[_0x1776ec(0x5f6)]={'orderBy':{'key':_0x16deb8,'direction':_0x1776ec(0x1d0)}};}static[_0xab329a(0x730)](_0x2209ae){const _0x1b7eef=_0xab329a;if(_0x1b7eef(0x816)!=typeof _0x2209ae||0x0===_0x2209ae[_0x1b7eef(0x4f0)])throw new _0x1695e5(_0x91d017[_0x1b7eef(0x7a9)],_0x1b7eef(0x4be));return new _0x476e0c(_0x2209ae);}static[_0xab329a(0x9ab)](_0x42e1b8){try{return _0x476e0c['buildQuery'](_0x42e1b8),!0x0;}catch(_0x536d90){return!0x1;}}static[_0xab329a(0x90a)](_0xebebca){const _0x266ad8=_0xab329a,_0x35c90e=_0x476e0c['index'](_0xebebca[_0x266ad8(0x88a)]?.[_0x266ad8(0x66e)]??_0xebebca[_0x266ad8(0x705)]?.['key']??'');if(_0xebebca[_0x266ad8(0x705)]){const _0x5b545f=_0xebebca[_0x266ad8(0x705)];if((_0x476e0c['isWhereValue'](_0x5b545f)||_0x476e0c[_0x266ad8(0x193)](_0x5b545f)||_0x476e0c[_0x266ad8(0x800)](_0x5b545f))&&_0x35c90e[_0x266ad8(0x705)](_0x5b545f[_0x266ad8(0x70a)],_0x5b545f[_0x266ad8(0x706)]),_0xebebca[_0x266ad8(0x88a)]?.[_0x266ad8(0x66e)]&&_0xebebca[_0x266ad8(0x88a)]?.[_0x266ad8(0x66e)]!==_0xebebca['where'][_0x266ad8(0x66e)])throw new _0x1695e5(_0x91d017[_0x266ad8(0x7a9)],_0x266ad8(0x19a));}return _0xebebca[_0x266ad8(0x88a)]&&_0x35c90e[_0x266ad8(0x88a)](_0xebebca[_0x266ad8(0x88a)][_0x266ad8(0x532)]),_0xebebca[_0x266ad8(0x8b0)]&&_0x35c90e[_0x266ad8(0x8b0)](_0xebebca['limit']),_0xebebca[_0x266ad8(0xa41)]&&_0x35c90e[_0x266ad8(0xa41)](_0xebebca[_0x266ad8(0xa41)]),_0x35c90e;}[_0xab329a(0x828)](){return{...this['query']};}[_0xab329a(0x705)](_0x5b953e,_0x4217cb){const _0x1c12e6=_0xab329a,_0x3f37f1={'key':this[_0x1c12e6(0x5f6)]['orderBy'][_0x1c12e6(0x66e)],'operator':_0x5b953e,'value':_0x4217cb};if(!_0x476e0c[_0x1c12e6(0xb1a)](_0x3f37f1)&&!_0x476e0c[_0x1c12e6(0x193)](_0x3f37f1)&&!_0x476e0c[_0x1c12e6(0x800)](_0x3f37f1))throw new _0x1695e5(_0x91d017[_0x1c12e6(0x7a9)],'Invalid\x20where\x20clause');return this['query'][_0x1c12e6(0x705)]=_0x3f37f1,this;}['orderBy'](_0x50859f){const _0x5f5aa7=_0xab329a;if(_0x5f5aa7(0x1d0)!==_0x50859f&&_0x5f5aa7(0x9b4)!==_0x50859f)throw new _0x1695e5(_0x91d017[_0x5f5aa7(0x7a9)],_0x5f5aa7(0x5a9));return this[_0x5f5aa7(0x5f6)][_0x5f5aa7(0x88a)][_0x5f5aa7(0x532)]=_0x50859f,this;}[_0xab329a(0x8b0)](_0x4e47aa){const _0x2cd2eb=_0xab329a;if('number'!=typeof _0x4e47aa||_0x4e47aa<0x0)throw new _0x1695e5(_0x91d017[_0x2cd2eb(0x7a9)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x2cd2eb(0x5f6)][_0x2cd2eb(0x8b0)]=_0x4e47aa,this;}[_0xab329a(0xa41)](_0x30c8f4){const _0xd2dcb2=_0xab329a;if(_0xd2dcb2(0x556)!=typeof _0x30c8f4||_0x30c8f4<0x0)throw new _0x1695e5(_0x91d017[_0xd2dcb2(0x7a9)],_0xd2dcb2(0x79b));return this['query']['offset']=_0x30c8f4,this;}static[_0xab329a(0xb1a)](_0x14fcca){const _0xc9fb27=_0xab329a;if(!(_0x14fcca&&_0xc9fb27(0x29a)==typeof _0x14fcca&&_0xc9fb27(0x70a)in _0x14fcca&&_0xc9fb27(0x706)in _0x14fcca))return!0x1;const {operator:_0x2f4ed6,value:_0x3928db}=_0x14fcca;return!(!['==','!=','>','<','<=','>='][_0xc9fb27(0xb4e)](_0x2f4ed6)||Array[_0xc9fb27(0x4c7)](_0x3928db));}static[_0xab329a(0x193)](_0x5cedd8){const _0x2aca12=_0xab329a;if(!(_0x5cedd8&&_0x2aca12(0x29a)==typeof _0x5cedd8&&'operator'in _0x5cedd8&&_0x2aca12(0x706)in _0x5cedd8))return!0x1;const {operator:_0x3b3774,value:_0x1aedff}=_0x5cedd8;return!(!['in','not-in'][_0x2aca12(0xb4e)](_0x3b3774)||!Array[_0x2aca12(0x4c7)](_0x1aedff));}static[_0xab329a(0x800)](_0x50957a){const _0x378edc=_0xab329a;if(!(_0x50957a&&_0x378edc(0x29a)==typeof _0x50957a&&_0x378edc(0x70a)in _0x50957a&&'value'in _0x50957a))return!0x1;const {operator:_0x5380b1,value:_0x52ce63}=_0x50957a;return!(_0x378edc(0x316)!==_0x5380b1||!Array[_0x378edc(0x4c7)](_0x52ce63)||0x2!==_0x52ce63[_0x378edc(0x4f0)]);}}class _0x3c992d{[_0xab329a(0x487)];constructor(_0x5004ad){this['layout']={'tables':{},'version':_0x5004ad};}static[_0xab329a(0x274)](_0xae26f0){const _0x39fc55=_0xab329a;for(const _0x284946 in _0xae26f0){if('version'!==_0x284946&&'tables'!==_0x284946)return[!0x1,_0x39fc55(0x8f0)+_0x284946+_0x39fc55(0x489)];if(_0x39fc55(0x24f)===_0x284946)for(const _0x59c94b in _0xae26f0[_0x39fc55(0x24f)]){if(_0x39fc55(0x816)!=typeof _0x59c94b)return[!0x1,_0x39fc55(0x1fe)+_0x59c94b+'\x27'];for(const _0x297345 in _0xae26f0['tables'][_0x59c94b]){if('indexes'!==_0x297345)return[!0x1,'Invalid\x20key\x20\x27'+_0x297345+_0x39fc55(0x2a9)+_0x59c94b+'\x27'];const _0x4d377f=_0xae26f0[_0x39fc55(0x24f)][_0x59c94b][_0x297345]??[];for(const _0x3f6f7c of _0x4d377f)if(void 0x0===_0x3f6f7c[_0x39fc55(0x81e)]||_0x39fc55(0x816)!=typeof _0x3f6f7c[_0x39fc55(0x81e)])return[!0x1,'Invalid\x20index\x20in\x20table\x20\x27'+_0x59c94b+_0x39fc55(0x22e)];}}else{if(_0x39fc55(0x967)===_0x284946&&'number'!=typeof _0xae26f0[_0x284946])return[!0x1,_0x39fc55(0x882)+_0xae26f0[_0x284946]+_0x39fc55(0x633)];}}return[!0x0,'Valid\x20layout'];}static[_0xab329a(0x487)](_0x17cd97){const _0x57d74c=_0xab329a,_0x539b4e=new _0x3c992d(_0x17cd97);return _0x539b4e[_0x57d74c(0x487)]['version']=_0x17cd97,_0x539b4e;}[_0xab329a(0x6e6)](_0x2bdecf){const _0x188820=_0xab329a;return this['layout'][_0x188820(0x24f)][_0x2bdecf]={},new _0x336d7a(this[_0x188820(0x487)]['tables'][_0x2bdecf]);}[_0xab329a(0x75e)](){const _0x17e097=_0xab329a;return this[_0x17e097(0x487)];}}class _0x336d7a{[_0xab329a(0x3f8)];constructor(_0x1665c2){const _0x4c4f3a=_0xab329a;this[_0x4c4f3a(0x3f8)]=_0x1665c2;}['index'](_0x6b7125){const _0x3ba35e=_0xab329a;return this['tableLayout'][_0x3ba35e(0x28e)]=this[_0x3ba35e(0x3f8)][_0x3ba35e(0x28e)]??[],this[_0x3ba35e(0x3f8)]['indexes'][_0x3ba35e(0x257)]({'keyPath':_0x6b7125}),this;}}const _0x4cff8a=0x40000,_0x27874a=0x20000,_0x5615a9=0x1388,_0x59ee9f=_0xab329a(0x6c2),_0x3f2870=_0xab329a(0xb49),_0x113c4a='.crewdle-transactions',_0xd4d226=_0xab329a(0x9e1),_0x27da4c=0xdbba0,_0x39d57b=0x61a8,_0x11eed3=_0xab329a(0x84f);var _0x3b9d4e;!function(_0x48ad82){const _0x5aaeb1=_0xab329a;_0x48ad82[_0x5aaeb1(0xa8e)]=_0x5aaeb1(0x799),_0x48ad82[_0x5aaeb1(0x8e2)]=_0x5aaeb1(0x505),_0x48ad82[_0x5aaeb1(0x770)]=_0x5aaeb1(0x7b6),_0x48ad82[_0x5aaeb1(0x450)]=_0x5aaeb1(0x33c),_0x48ad82[_0x5aaeb1(0x17b)]='data-collection-does-not-exist',_0x48ad82[_0x5aaeb1(0xae5)]=_0x5aaeb1(0x83d),_0x48ad82[_0x5aaeb1(0xab9)]=_0x5aaeb1(0x692),_0x48ad82[_0x5aaeb1(0x606)]=_0x5aaeb1(0x5d7),_0x48ad82[_0x5aaeb1(0x85e)]=_0x5aaeb1(0x4c8),_0x48ad82[_0x5aaeb1(0x9ae)]='generative-ai-context-job-timeout',_0x48ad82[_0x5aaeb1(0x8cd)]=_0x5aaeb1(0x9d9),_0x48ad82[_0x5aaeb1(0x4f2)]='graph-database-creation-failed',_0x48ad82[_0x5aaeb1(0x5c6)]=_0x5aaeb1(0x578),_0x48ad82[_0x5aaeb1(0x1a9)]=_0x5aaeb1(0xa0d),_0x48ad82[_0x5aaeb1(0x98d)]='invalid-subscriber',_0x48ad82['InvalidSubscription']='invalid-subscription',_0x48ad82[_0x5aaeb1(0x471)]=_0x5aaeb1(0x951),_0x48ad82[_0x5aaeb1(0x749)]='job-dispatcher-invalid-payload',_0x48ad82[_0x5aaeb1(0x1e2)]=_0x5aaeb1(0x80b),_0x48ad82[_0x5aaeb1(0x4f8)]=_0x5aaeb1(0x63d),_0x48ad82[_0x5aaeb1(0x313)]=_0x5aaeb1(0x4bc),_0x48ad82[_0x5aaeb1(0x673)]=_0x5aaeb1(0x637),_0x48ad82[_0x5aaeb1(0x2c0)]=_0x5aaeb1(0x1a5),_0x48ad82[_0x5aaeb1(0x388)]='key-value-database-peak-not-found',_0x48ad82[_0x5aaeb1(0x56c)]=_0x5aaeb1(0x172),_0x48ad82['KeyValueDatabaseTransactionTableNotInitialized']='key-value-database-transaction-table-not-initialized',_0x48ad82[_0x5aaeb1(0xa85)]=_0x5aaeb1(0x5af),_0x48ad82[_0x5aaeb1(0x950)]=_0x5aaeb1(0x143),_0x48ad82[_0x5aaeb1(0x7a5)]=_0x5aaeb1(0x87a),_0x48ad82['MissingSystemTopic']='missing-system-topic',_0x48ad82[_0x5aaeb1(0x337)]='mistlet-capacity-report-not-set',_0x48ad82[_0x5aaeb1(0x7cf)]='object-store-cannot-write-transaction',_0x48ad82[_0x5aaeb1(0x14f)]='object-store-invalid-state',_0x48ad82[_0x5aaeb1(0x3da)]=_0x5aaeb1(0xa95),_0x48ad82['ObjectStoreNotSynced']=_0x5aaeb1(0x44a),_0x48ad82[_0x5aaeb1(0x95d)]=_0x5aaeb1(0xab5),_0x48ad82[_0x5aaeb1(0x851)]=_0x5aaeb1(0x8be),_0x48ad82['RemoteMediaStreamMissingProviderId']=_0x5aaeb1(0xa22),_0x48ad82[_0x5aaeb1(0x433)]=_0x5aaeb1(0xa77),_0x48ad82[_0x5aaeb1(0x2cd)]=_0x5aaeb1(0x462),_0x48ad82[_0x5aaeb1(0x389)]=_0x5aaeb1(0xac4),_0x48ad82[_0x5aaeb1(0x924)]=_0x5aaeb1(0x627),_0x48ad82[_0x5aaeb1(0x28f)]='node-does-not-exist',_0x48ad82[_0x5aaeb1(0xb0f)]=_0x5aaeb1(0x2ee),_0x48ad82['PeerConnectionInvalidDestination']=_0x5aaeb1(0x159),_0x48ad82[_0x5aaeb1(0x85d)]=_0x5aaeb1(0xb2b),_0x48ad82[_0x5aaeb1(0x42c)]=_0x5aaeb1(0x7d8),_0x48ad82[_0x5aaeb1(0xaf7)]=_0x5aaeb1(0xa84);}(_0x3b9d4e||(_0x3b9d4e={}));const _0x50168f=new Map([[_0x3b9d4e['ConnectionNotinitialized'],'Connection\x20not\x20initialized.'],[_0x3b9d4e['ConnectionNotConnected'],_0xab329a(0x5c8)],[_0x3b9d4e['ConnectionNoRetryQueue'],_0xab329a(0x87b)],[_0x3b9d4e[_0xab329a(0x450)],_0xab329a(0x435)],[_0x3b9d4e['DataCollectionDoesNotExist'],_0xab329a(0xa93)],[_0x3b9d4e[_0xab329a(0xae5)],_0xab329a(0xb45)],[_0x3b9d4e[_0xab329a(0xab9)],_0xab329a(0x7ec)],[_0x3b9d4e[_0xab329a(0x606)],_0xab329a(0x610)],[_0x3b9d4e[_0xab329a(0x85e)],_0xab329a(0xa58)],[_0x3b9d4e[_0xab329a(0x9ae)],_0xab329a(0x983)],[_0x3b9d4e['GenerativeAIWorkerCreationFailed'],_0xab329a(0x29f)],[_0x3b9d4e[_0xab329a(0x4f2)],_0xab329a(0x943)],[_0x3b9d4e[_0xab329a(0x5c6)],_0xab329a(0x570)],[_0x3b9d4e[_0xab329a(0x1a9)],_0xab329a(0x332)],[_0x3b9d4e['InvalidSubscriber'],'Invalid\x20subscriber.'],[_0x3b9d4e[_0xab329a(0x7bb)],_0xab329a(0x331)],[_0x3b9d4e[_0xab329a(0x471)],_0xab329a(0x961)],[_0x3b9d4e[_0xab329a(0x749)],_0xab329a(0x1b8)],[_0x3b9d4e[_0xab329a(0x1e2)],'Job\x20service\x20job\x20not\x20found.'],[_0x3b9d4e[_0xab329a(0x4f8)],'Job\x20service\x20observer\x20not\x20found.'],[_0x3b9d4e[_0xab329a(0x313)],_0xab329a(0x76a)],[_0x3b9d4e[_0xab329a(0x673)],_0xab329a(0xb57)],[_0x3b9d4e['KeyValueDatabaseCreationFailed'],_0xab329a(0x406)],[_0x3b9d4e[_0xab329a(0x388)],_0xab329a(0x196)],[_0x3b9d4e[_0xab329a(0x56c)],_0xab329a(0x5c2)],[_0x3b9d4e[_0xab329a(0x8e0)],_0xab329a(0x9fe)],[_0x3b9d4e['KeyValueDatabaseTransactionValueNotSet'],'Key-value\x20database\x20transaction\x20value\x20not\x20set.'],[_0x3b9d4e[_0xab329a(0x950)],_0xab329a(0x179)],[_0x3b9d4e[_0xab329a(0x7a5)],_0xab329a(0x3f9)],[_0x3b9d4e['MissingSystemTopic'],_0xab329a(0x91b)],[_0x3b9d4e[_0xab329a(0x337)],_0xab329a(0xacb)],[_0x3b9d4e[_0xab329a(0x7cf)],_0xab329a(0xb4d)],[_0x3b9d4e[_0xab329a(0x3da)],_0xab329a(0x616)],[_0x3b9d4e['ObjectStoreInvalidState'],_0xab329a(0x6ed)],[_0x3b9d4e[_0xab329a(0x533)],'Object\x20store\x20not\x20synced.'],[_0x3b9d4e[_0xab329a(0x95d)],_0xab329a(0x661)],[_0x3b9d4e['RemoteMediaStreamDoesNotExist'],_0xab329a(0xa4a)],[_0x3b9d4e[_0xab329a(0x73e)],_0xab329a(0x1b3)],[_0x3b9d4e[_0xab329a(0x433)],'Remote\x20connection\x20already\x20exists.'],[_0x3b9d4e[_0xab329a(0x2cd)],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x3b9d4e[_0xab329a(0x389)],_0xab329a(0x7d5)],[_0x3b9d4e[_0xab329a(0x924)],_0xab329a(0x540)],[_0x3b9d4e[_0xab329a(0x28f)],_0xab329a(0x9e0)],[_0x3b9d4e[_0xab329a(0xb0f)],'Node\x20already\x20exists.'],[_0x3b9d4e['PeerConnectionInvalidDestination'],_0xab329a(0x234)],[_0x3b9d4e[_0xab329a(0x85d)],_0xab329a(0x7cb)],[_0x3b9d4e[_0xab329a(0x42c)],_0xab329a(0x21f)],[_0x3b9d4e[_0xab329a(0xaf7)],_0xab329a(0x2ae)]]);class _0x227d3a extends Error{[_0xab329a(0x9ac)];static ['codes']=_0x3b9d4e;[_0xab329a(0x62e)];constructor(_0x56c0dd,_0x239c02){const _0x3aa0d5=_0xab329a;super(_0x3aa0d5(0x63b)+_0x56c0dd+':\x20'+_0x50168f['get'](_0x56c0dd)+_0x3aa0d5(0x64b)+JSON[_0x3aa0d5(0x56e)](_0x239c02)),this[_0x3aa0d5(0x9ac)]=_0x56c0dd,this[_0x3aa0d5(0x62e)]=_0x239c02||{};}}var _0x8a5c45,_0x5dbebe,_0x41b4b6,_0x34b267,_0x206da5,_0x259adb,_0x18b589;!function(_0x565ee3){const _0x2b89fd=_0xab329a;_0x565ee3[_0x565ee3['CloseGraphDatabase']=0x0]=_0x2b89fd(0xaac),_0x565ee3[_0x565ee3['CloseJobDispatcher']=0x1]=_0x2b89fd(0xac3),_0x565ee3[_0x565ee3[_0x2b89fd(0x525)]=0x2]=_0x2b89fd(0x525),_0x565ee3[_0x565ee3['CloseExternalStorageConnection']=0x3]='CloseExternalStorageConnection',_0x565ee3[_0x565ee3['CloseKeyValueDatabase']=0x4]=_0x2b89fd(0x687),_0x565ee3[_0x565ee3[_0x2b89fd(0x9cf)]=0x5]=_0x2b89fd(0x9cf),_0x565ee3[_0x565ee3[_0x2b89fd(0x327)]=0x6]=_0x2b89fd(0x327),_0x565ee3[_0x565ee3['ClosePubSubTopic']=0x7]=_0x2b89fd(0x87d),_0x565ee3[_0x565ee3[_0x2b89fd(0xa90)]=0x8]=_0x2b89fd(0xa90),_0x565ee3[_0x565ee3['CloseGenerativeAIContext']=0x9]=_0x2b89fd(0x307),_0x565ee3[_0x565ee3[_0x2b89fd(0x7fb)]=0xa]=_0x2b89fd(0x7fb),_0x565ee3[_0x565ee3[_0x2b89fd(0x420)]=0xb]=_0x2b89fd(0x420),_0x565ee3[_0x565ee3['GenerativeAIWorkerStats']=0xc]='GenerativeAIWorkerStats',_0x565ee3[_0x565ee3[_0x2b89fd(0x698)]=0xd]=_0x2b89fd(0x698),_0x565ee3[_0x565ee3['KeyValueDatabaseContentAvailable']=0xe]=_0x2b89fd(0x538),_0x565ee3[_0x565ee3['KeyValueDatabaseContentSynchronized']=0xf]='KeyValueDatabaseContentSynchronized',_0x565ee3[_0x565ee3['KeyValueDatabaseRequestPeakTransactions']=0x10]=_0x2b89fd(0x41a),_0x565ee3[_0x565ee3['KeyValueDatabaseRequestTransactionsValue']=0x11]='KeyValueDatabaseRequestTransactionsValue',_0x565ee3[_0x565ee3['KeyValueDatabaseSendTransactions']=0x12]='KeyValueDatabaseSendTransactions',_0x565ee3[_0x565ee3[_0x2b89fd(0x33e)]=0x13]=_0x2b89fd(0x33e),_0x565ee3[_0x565ee3['KeyValueDatabaseSyncRequired']=0x14]=_0x2b89fd(0x7b3),_0x565ee3[_0x565ee3[_0x2b89fd(0x7e8)]=0x15]='LocalMediaStreamTrackFail',_0x565ee3[_0x565ee3[_0x2b89fd(0x41f)]=0x16]=_0x2b89fd(0x41f),_0x565ee3[_0x565ee3[_0x2b89fd(0x4ab)]=0x17]=_0x2b89fd(0x4ab),_0x565ee3[_0x565ee3[_0x2b89fd(0xa5d)]=0x18]=_0x2b89fd(0xa5d),_0x565ee3[_0x565ee3['RemoteMediaStreamTrackFail']=0x19]=_0x2b89fd(0x1be),_0x565ee3[_0x565ee3['SubscribeMediaStream']=0x1a]='SubscribeMediaStream',_0x565ee3[_0x565ee3[_0x2b89fd(0x3d7)]=0x1b]=_0x2b89fd(0x3d7),_0x565ee3[_0x565ee3[_0x2b89fd(0x65f)]=0x1c]=_0x2b89fd(0x65f),_0x565ee3[_0x565ee3[_0x2b89fd(0x1eb)]=0x1d]='UpdateMediaStream',_0x565ee3[_0x565ee3[_0x2b89fd(0x645)]=0x1e]=_0x2b89fd(0x645);}(_0x8a5c45||(_0x8a5c45={})),function(_0x540c3c){const _0x690335=_0xab329a;_0x540c3c[_0x690335(0x712)]=_0x690335(0xad1),_0x540c3c[_0x690335(0x42b)]=_0x690335(0x61a),_0x540c3c[_0x690335(0x492)]=_0x690335(0x425),_0x540c3c[_0x690335(0x9bd)]=_0x690335(0xb2c),_0x540c3c[_0x690335(0x404)]=_0x690335(0x7df),_0x540c3c[_0x690335(0x352)]=_0x690335(0x39e),_0x540c3c[_0x690335(0x277)]=_0x690335(0xb55),_0x540c3c[_0x690335(0x4a8)]='request-file-write';}(_0x5dbebe||(_0x5dbebe={})),function(_0x702e5e){const _0x1d188d=_0xab329a;_0x702e5e[_0x1d188d(0x793)]=_0x1d188d(0x252),_0x702e5e[_0x1d188d(0xb29)]=_0x1d188d(0xa83);}(_0x41b4b6||(_0x41b4b6={})),function(_0x54d822){const _0x151c6b=_0xab329a;_0x54d822[_0x151c6b(0xb2a)]='add',_0x54d822[_0x151c6b(0xb17)]=_0x151c6b(0x959),_0x54d822['Delete']=_0x151c6b(0x425);}(_0x34b267||(_0x34b267={})),function(_0x108935){const _0x2776c5=_0xab329a;_0x108935[_0x2776c5(0xa53)]=_0x2776c5(0x153),_0x108935[_0x2776c5(0x813)]='list',_0x108935['Count']=_0x2776c5(0x6e3);}(_0x206da5||(_0x206da5={})),function(_0x5cc5fc){const _0x5cd68e=_0xab329a;_0x5cc5fc[_0x5cc5fc[_0x5cd68e(0x793)]=0x0]=_0x5cd68e(0x793),_0x5cc5fc[_0x5cc5fc[_0x5cd68e(0x8b4)]=0x1]=_0x5cd68e(0x8b4),_0x5cc5fc[_0x5cc5fc[_0x5cd68e(0x3f4)]=0x2]=_0x5cd68e(0x3f4),_0x5cc5fc[_0x5cc5fc[_0x5cd68e(0xadc)]=0x3]=_0x5cd68e(0xadc),_0x5cc5fc[_0x5cc5fc[_0x5cd68e(0x691)]=0x4]='Result',_0x5cc5fc[_0x5cc5fc[_0x5cd68e(0x7ed)]=0x5]=_0x5cd68e(0x7ed);}(_0x259adb||(_0x259adb={})),function(_0x42db20){const _0x4c8dab=_0xab329a;_0x42db20[_0x42db20[_0x4c8dab(0xad0)]=0x0]=_0x4c8dab(0xad0),_0x42db20[_0x42db20[_0x4c8dab(0x483)]=0x1]='Node',_0x42db20[_0x42db20[_0x4c8dab(0xb65)]=0x2]='Content',_0x42db20[_0x42db20[_0x4c8dab(0x75a)]=0x3]='Subscription',_0x42db20[_0x42db20['Stats']=0x4]=_0x4c8dab(0x52f),_0x42db20[_0x42db20[_0x4c8dab(0x5bd)]=0x5]=_0x4c8dab(0x5bd),_0x42db20[_0x42db20[_0x4c8dab(0x387)]=0x6]='Remediation';}(_0x18b589||(_0x18b589={}));class _0x3d2d9c{[_0xab329a(0x911)];['label'];[_0xab329a(0x2f3)];constructor(_0x5ee0ee,_0x1d0d3f){this['owner']=_0x5ee0ee,this['label']=_0x1d0d3f;}['getLabel'](){const _0x4be773=_0xab329a;return this[_0x4be773(0x4b1)];}['getOwnerId'](){const _0x547064=_0xab329a;return this[_0x547064(0x911)][_0x547064(0x7a4)]();}[_0xab329a(0x5f3)](){}['registerSystemPublisher'](_0x104068){this['systemTopic']=_0x104068;}[_0xab329a(0x8e3)](){delete this['systemTopic'];}}const _0x30ad83=require('firebase/firestore');let _0x712449=_0x25dc76(0x14d)['O'];function _0x4baae6(_0x7f231e){const _0x140ade=_0xab329a;return!(!_0x7f231e||'object'!=typeof _0x7f231e||Array[_0x140ade(0x4c7)](_0x7f231e));}_0x712449=function _0x38cc2c(_0x330632,..._0x17c7b2){const _0x18220a=_0xab329a;if(!Array[_0x18220a(0x4c7)](_0x17c7b2)||0x0===_0x17c7b2[_0x18220a(0x4f0)])return _0x330632;const _0x333695=_0x17c7b2['shift']();if(_0x4baae6(_0x330632)&&_0x4baae6(_0x333695)){for(const _0x67f2c0 in _0x333695)_0x4baae6(_0x333695[_0x67f2c0])?(_0x330632[_0x67f2c0]||Object[_0x18220a(0x6c9)](_0x330632,{[_0x67f2c0]:{}}),_0x38cc2c(_0x330632[_0x67f2c0],_0x333695[_0x67f2c0])):Object[_0x18220a(0x6c9)](_0x330632,{[_0x67f2c0]:_0x333695[_0x67f2c0]});}return _0x38cc2c(_0x330632,..._0x17c7b2);}(_0x712449,_0x25dc76(0x3e6)['O']);const _0x5d8dc2=_0x712449,_0x5722a7=require('firebase/app'),_0x33a3e3=require('firebase/auth'),_0x3f50ce=require('firebase/database'),_0x579870=require('firebase/functions'),_0x3aba3d=require('uuid'),_0x319a3f=_0xab329a(0x575);class _0x3eb816{static [_0xab329a(0xa7f)];[_0xab329a(0xb1f)];[_0xab329a(0xa15)];[_0xab329a(0xa76)];[_0xab329a(0x147)];[_0xab329a(0x901)];[_0xab329a(0xab0)];[_0xab329a(0x5d6)];constructor(){const _0x4968be=_0xab329a;this[_0x4968be(0xaaf)]();}static[_0xab329a(0x188)](){const _0x535a24=_0xab329a;return _0x3eb816[_0x535a24(0xa7f)]||(_0x3eb816[_0x535a24(0xa7f)]=new _0x3eb816()),_0x3eb816[_0x535a24(0xa7f)];}[_0xab329a(0xaaf)](){const _0xae5a5c=_0xab329a;if(!this[_0xae5a5c(0xb1f)]){let _0x4b6946=_0x319a3f;_0xae5a5c(0x4b5)!=typeof window&&(_0x4b6946=_0x319a3f+'-'+(0x0,_0x3aba3d['v4'])()),this[_0xae5a5c(0xb1f)]=(0x0,_0x5722a7['initializeApp'])(_0x5d8dc2[_0xae5a5c(0xad8)],''+_0x4b6946);}return this[_0xae5a5c(0xb1f)];}[_0xab329a(0x656)](){const _0x45861c=_0xab329a;return this[_0x45861c(0xa15)]||(this[_0x45861c(0xa15)]=(0x0,_0x33a3e3[_0x45861c(0x656)])(this['getApp']())),this[_0x45861c(0xa15)];}['getFunctions'](){const _0x52ee23=_0xab329a;return this[_0x52ee23(0xa76)]||(this[_0x52ee23(0xa76)]=(0x0,_0x579870[_0x52ee23(0x746)])(this[_0x52ee23(0xaaf)](),_0x5d8dc2[_0x52ee23(0xad8)][_0x52ee23(0x5da)])),this[_0x52ee23(0xa76)];}['getDatabase'](){const _0x18f032=_0xab329a;return this[_0x18f032(0x147)]||(this[_0x18f032(0x147)]=(0x0,_0x3f50ce[_0x18f032(0xa11)])(this['getApp']())),this[_0x18f032(0x147)];}[_0xab329a(0xa12)](){const _0x28280f=_0xab329a;return this[_0x28280f(0x901)]||(this['firestore']=(0x0,_0x30ad83['getFirestore'])(this[_0x28280f(0xaaf)]())),this[_0x28280f(0x901)];}async[_0xab329a(0x154)](){const _0x5e74fb=_0xab329a;if(this[_0x5e74fb(0xab0)]&&this[_0x5e74fb(0x5d6)]&&Date['now']()-this[_0x5e74fb(0x5d6)]<0x493e0)return Date[_0x5e74fb(0x4cb)]()+this['clockSkew'];const _0x40cdae=this['getDatabase'](),_0x4c233b=(0x0,_0x3f50ce[_0x5e74fb(0x86e)])(_0x40cdae,_0x5e74fb(0xb62));return new Promise(_0x193f76=>{(0x0,_0x3f50ce['onValue'])(_0x4c233b,_0x4d786a=>{const _0x99c813=a0_0x1b87;(0x0,_0x3f50ce[_0x99c813(0x839)])(_0x4c233b),this[_0x99c813(0xab0)]=_0x4d786a[_0x99c813(0xb3b)](),this[_0x99c813(0x5d6)]=Date[_0x99c813(0x4cb)](),_0x193f76(Date['now']()+(this[_0x99c813(0xab0)]??0x0));});});}}const _0x44b60b=_0x3eb816[_0xab329a(0x188)]();class _0x2f2533{static ['instance'];[_0xab329a(0xae9)]=[_0x59a34d['Default']];['debugEnabled']=!0x1;[_0xab329a(0xa73)];[_0xab329a(0x3e1)]='';[_0xab329a(0x7bd)];[_0xab329a(0x6d2)]=[];['currentBatch'];[_0xab329a(0xa92)];[_0xab329a(0x8a4)]=0xa;[_0xab329a(0x3b3)]=0x1f4;[_0xab329a(0x515)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x741b4f=_0xab329a;if(_0x741b4f(0x4b5)!=typeof window)this[_0x741b4f(0x7bd)]=window;else{if(void 0x0===_0x25dc76['g'])throw new Error('No\x20global\x20object\x20found');this[_0x741b4f(0x7bd)]=_0x25dc76['g'];}this[_0x741b4f(0x806)](),this[_0x741b4f(0x7bd)][_0x741b4f(0x96b)]=_0x29930f=>{const _0x3a68ef=_0x741b4f;if(_0x29930f===_0x59a34d[_0x3a68ef(0x7c5)])return this[_0x3a68ef(0xae9)]=Object['keys'](_0x59a34d)[_0x3a68ef(0x591)](_0x28e058=>_0x59a34d[_0x28e058]),void Object[_0x3a68ef(0x628)](_0x59a34d)[_0x3a68ef(0xad2)](_0x1cb787=>{const _0x32c02b=_0x3a68ef,_0x40456b=_0x1cb787;localStorage['setItem'](_0x32c02b(0x2b5)+_0x59a34d[_0x40456b],'true');});this['enabledChannels'][_0x3a68ef(0xb4e)](_0x29930f)||(this[_0x3a68ef(0xae9)][_0x3a68ef(0x257)](_0x29930f),localStorage[_0x3a68ef(0xa0e)](_0x3a68ef(0x2b5)+_0x29930f,_0x3a68ef(0x4d3)));},this[_0x741b4f(0x7bd)][_0x741b4f(0x302)]=_0x228002=>{const _0x2050fc=_0x741b4f;if(!_0x228002||_0x228002===_0x59a34d[_0x2050fc(0x7c5)])return this[_0x2050fc(0xae9)]=[],void Object[_0x2050fc(0x628)](_0x59a34d)[_0x2050fc(0xad2)](_0x2f4587=>{const _0x46b210=_0x2050fc,_0x11c681=_0x2f4587;localStorage[_0x46b210(0x579)]('crewdle-sdk-logging-'+_0x59a34d[_0x11c681]);});this[_0x2050fc(0xae9)][_0x2050fc(0xb4e)](_0x228002)&&(this['enabledChannels']=this[_0x2050fc(0xae9)][_0x2050fc(0x2b3)](_0x3c4963=>_0x3c4963!==_0x228002),localStorage[_0x2050fc(0x579)]('crewdle-sdk-logging-'+_0x228002));},this['globalObject'][_0x741b4f(0xad5)]=_0x59a34d;}static[_0xab329a(0x188)](){const _0x807a8a=_0xab329a;try{return _0x2f2533['instance']||(_0x2f2533[_0x807a8a(0xa7f)]=new _0x2f2533()),_0x2f2533[_0x807a8a(0xa7f)];}catch(_0x15e71a){return console['error']('Logger.getInstance',_0x15e71a),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0xab329a(0x191)](_0x4fa505){const _0x9d3716=_0xab329a;this[_0x9d3716(0x3e1)]=_0x4fa505,this['batchQueue']=[],this[_0x9d3716(0x4dd)]=this[_0x9d3716(0x31d)](),this[_0x9d3716(0xa92)]&&(clearTimeout(this[_0x9d3716(0xa92)]),this[_0x9d3716(0xa92)]=void 0x0);}['setLoggingConnectors'](_0x27eeee){const _0x3029dd=_0xab329a;this[_0x3029dd(0xa73)]=_0x27eeee;}['debug'](_0x36cad4,..._0x2db3ac){const _0x3e631d=_0xab329a;this[_0x3e631d(0x300)]&&this[_0x3e631d(0x4ad)](_0x59a34d[_0x3e631d(0x4d5)],_0x3e631d(0xa4d)+_0x36cad4,..._0x2db3ac);}[_0xab329a(0x48f)](_0x3afb44,..._0x43c64d){const _0x153914=_0xab329a;console[_0x153914(0x4ad)](_0x3afb44,..._0x43c64d),this[_0x153914(0xa73)]&&this[_0x153914(0xa73)][_0x153914(0xad2)](_0x2e52cf=>{const _0x5e0d48=_0x153914;_0x2e52cf[_0x5e0d48(0x4ad)](_0x3afb44,{'vendorId':this[_0x5e0d48(0x3e1)],'nodeId':'','nodeType':'','data':{..._0x43c64d}});});}[_0xab329a(0x4ad)](_0x205fa1,_0x1b887e,..._0x205ee4){const _0x2a3780=_0xab329a;_0x5d8dc2['isProduction']||(this['enabledChannels']['includes'](_0x205fa1)&&console[_0x2a3780(0x4ad)](_0x2a3780(0x722)+_0x205fa1+'\x27\x0a',new Date()+'\x0a',_0x1b887e,..._0x205ee4),this[_0x2a3780(0xa73)]&&this[_0x2a3780(0xa73)][_0x2a3780(0xad2)](_0x4389c7=>{const _0x124fbc=_0x2a3780;this[_0x124fbc(0xaf1)](_0x4389c7)&&_0x4389c7[_0x124fbc(0x70b)]()[_0x124fbc(0xb4e)](_0x205fa1)&&_0x4389c7[_0x124fbc(0x4ad)](_0x1b887e,{'vendorId':this[_0x124fbc(0x3e1)],'nodeId':'','nodeType':'','data':{'channel':_0x205fa1,..._0x205ee4}});}));}[_0xab329a(0x51a)](_0xb75ed2,_0x55f99f,..._0x47a526){const _0xfab767=_0xab329a;_0x5d8dc2['isProduction']||(this[_0xfab767(0xae9)][_0xfab767(0xb4e)](_0xb75ed2)&&console['log'](_0x55f99f,..._0x47a526),this[_0xfab767(0xa73)]&&this[_0xfab767(0xa73)][_0xfab767(0xad2)](_0x294d04=>{const _0xabb369=_0xfab767;this[_0xabb369(0xaf1)](_0x294d04)&&_0x294d04[_0xabb369(0x70b)]()['includes'](_0xb75ed2)&&_0x294d04['log'](_0x55f99f,{'vendorId':this[_0xabb369(0x3e1)],'nodeId':'','nodeType':'','data':{'channel':_0xb75ed2,..._0x47a526}});}));}[_0xab329a(0x1aa)](_0x5b39a4,_0x336412){const _0x35a149=_0xab329a;if(!this[_0x35a149(0xa73)])return;const _0x5c7d47={'vendorId':this[_0x35a149(0x3e1)],..._0x336412};this['loggingConnectors']['forEach'](_0x333a33=>{const _0x20e0fe=_0x35a149;_0x333a33[_0x20e0fe(0x4ad)](_0x5b39a4,_0x5c7d47);});}[_0xab329a(0x940)](_0x1bab53,_0x1cdbf8){const _0x20fad4=_0xab329a;this['createBatchOperation'](_0x1bab53,_0x1cdbf8),this[_0x20fad4(0x1a3)]();}['logStorage'](_0x141984,_0x3b121e,_0xc23275){const _0x27d690=_0xab329a;(0x0,_0x30ad83[_0x27d690(0x7e4)])((0x0,_0x30ad83[_0x27d690(0x71b)])(_0x44b60b[_0x27d690(0xa12)](),'developers/'+this['vendorId']+'/'+_0x141984+'/'+_0x3b121e),{'storage':_0xc23275,'timestamp':(0x0,_0x30ad83[_0x27d690(0x732)])()});}['logBatch'](){const _0x5c4e93=_0xab329a;this[_0x5c4e93(0x4dd)]&&(this[_0x5c4e93(0x4dd)][_0x5c4e93(0xb63)]+=0x1,this[_0x5c4e93(0x4dd)][_0x5c4e93(0xb63)]===this['batchSize']?this[_0x5c4e93(0x2ba)]():this[_0x5c4e93(0xa92)]||(this[_0x5c4e93(0xa92)]=this[_0x5c4e93(0x7bd)][_0x5c4e93(0x5d9)](()=>this[_0x5c4e93(0x2ba)](),this[_0x5c4e93(0x9fd)])));}async[_0xab329a(0x2ba)](){const _0x35e01f=_0xab329a;if(this['currentBatch']){for(this[_0x35e01f(0x6d2)][_0x35e01f(0x257)](this[_0x35e01f(0x4dd)]),this['currentBatch']=this[_0x35e01f(0x31d)]();this[_0x35e01f(0x6d2)][_0x35e01f(0x4f0)]>0x0;){const _0x4cb6a8=this['batchQueue'][_0x35e01f(0x3ba)]();if(!await this[_0x35e01f(0x7ab)](_0x4cb6a8))break;}clearTimeout(this[_0x35e01f(0xa92)]),this['batchTimeout']=void 0x0;}}[_0xab329a(0x28d)](_0x469844,_0x526662,..._0x1e9fb9){const _0x71ed1c=_0xab329a;if(console[_0x71ed1c(0x28d)](new Date(),_0x469844,_0x526662,..._0x1e9fb9),this['loggingConnectors']){const _0x2132e1={'vendorId':this[_0x71ed1c(0x3e1)],..._0x526662};this[_0x71ed1c(0xa73)][_0x71ed1c(0xad2)](_0x3e14c8=>{const _0x45baef=_0x71ed1c;_0x3e14c8[_0x45baef(0x28d)](_0x469844,_0x2132e1);});}}['warning'](_0x4dd653,_0x383f9d,..._0x3ec546){const _0x132d8b=_0xab329a;if(console[_0x132d8b(0x2da)](new Date(),_0x4dd653,_0x383f9d,_0x3ec546),this['loggingConnectors']){const _0x4bb543={'vendorId':this[_0x132d8b(0x3e1)],..._0x383f9d};this[_0x132d8b(0xa73)][_0x132d8b(0xad2)](_0x3b20f3=>{const _0x2172f7=_0x132d8b;_0x3b20f3[_0x2172f7(0x2da)](_0x4dd653,_0x4bb543);});}}[_0xab329a(0x61e)](_0x57679c){const _0x582a9a=_0xab329a;return this[_0x582a9a(0xae9)][_0x582a9a(0xb4e)](_0x57679c);}async[_0xab329a(0x7ab)](_0x5b5979,_0x1cc754=0x0){const _0x110d6c=_0xab329a;if(_0x5b5979[_0x110d6c(0xb63)]>0x0)try{return await _0x5b5979[_0x110d6c(0x290)]['commit'](),!0x0;}catch(_0x77b71a){if(console['error'](_0x110d6c(0x6db),_0x77b71a,_0x110d6c(0x97b),_0x5b5979[_0x110d6c(0x3be)]),!(_0x1cc754<this[_0x110d6c(0x8a4)])){const {nodeId:_0x51eb68='',nodeType:_0x535868='',clusterId:_0x44f5d7=''}=_0x5b5979[_0x110d6c(0x3be)][0x0][_0x110d6c(0x62e)],_0x43cf86={'nodeId':_0x51eb68,'nodeType':_0x535868,'clusterId':_0x44f5d7,'data':{'operations':_0x5b5979[_0x110d6c(0x3be)],'error':_0x77b71a}};return this[_0x110d6c(0x28d)](_0x110d6c(0xaba),_0x43cf86),!0x1;}{const _0xf62304=this[_0x110d6c(0xa63)](_0x5b5979['operations']);setTimeout(()=>this[_0x110d6c(0x7ab)](_0xf62304,_0x1cc754+0x1),this[_0x110d6c(0x3b3)]*Math[_0x110d6c(0x1a1)](0x2,_0x1cc754));}}}[_0xab329a(0x806)](){const _0xe21f75=_0xab329a;try{Object['keys'](_0x59a34d)[_0xe21f75(0xad2)](_0x4cd4ad=>{const _0x31f9de=_0xe21f75,_0x169c3a=_0x4cd4ad;localStorage[_0x31f9de(0x537)]('crewdle-sdk-logging-'+_0x59a34d[_0x169c3a])&&(console['log'](_0x31f9de(0x74c),_0x59a34d[_0x169c3a]),this[_0x31f9de(0xae9)][_0x31f9de(0x257)](_0x59a34d[_0x169c3a]));});}catch(_0x4073f4){}}[_0xab329a(0xaf1)](_0x5e9e8e){const _0x4fc44d=_0xab329a;return void 0x0!==_0x5e9e8e[_0x4fc44d(0x70b)];}[_0xab329a(0x31d)](){const _0x180a75=_0xab329a;return{'batch':(0x0,_0x30ad83[_0x180a75(0x73b)])(_0x44b60b[_0x180a75(0xa12)]()),'operations':[],'counter':0x0};}[_0xab329a(0xa63)](_0x304cd8){const _0x2559c4=_0xab329a,_0x1a18ba=(0x0,_0x30ad83[_0x2559c4(0x73b)])(_0x44b60b[_0x2559c4(0xa12)]());return _0x304cd8['forEach'](_0xf1f0f6=>this[_0x2559c4(0x586)](_0x1a18ba,_0xf1f0f6)),{'batch':_0x1a18ba,'operations':_0x304cd8,'counter':_0x304cd8[_0x2559c4(0x4f0)]};}['addBatchOperation'](_0x1c47cc,_0x6b41b8){const _0x58d535=_0xab329a;switch(_0x6b41b8['type']){case _0x58d535(0x4d1):_0x1c47cc['set'](_0x6b41b8[_0x58d535(0x86e)],_0x6b41b8[_0x58d535(0x62e)]);break;case'update':_0x1c47cc[_0x58d535(0x959)](_0x6b41b8[_0x58d535(0x86e)],_0x6b41b8[_0x58d535(0x62e)]);break;case _0x58d535(0x425):_0x1c47cc['delete'](_0x6b41b8['ref']);}}['createBatchOperation'](_0x94eb9f,_0x1ab553){const _0x342382=_0xab329a;this[_0x342382(0x4dd)]||(this['currentBatch']=this['createNewBatch']());const _0x29cfe6=(0x0,_0x30ad83[_0x342382(0x71b)])((0x0,_0x30ad83[_0x342382(0x9be)])(_0x44b60b['getFirestore'](),_0x342382(0x29c)+this[_0x342382(0x3e1)]+_0x342382(0x581))),_0x415d1e={..._0x1ab553,'service':_0x94eb9f,'timestamp':(0x0,_0x30ad83['serverTimestamp'])()},_0x2ea286={'type':_0x342382(0x4d1),'path':_0x29cfe6[_0x342382(0x534)],'ref':_0x29cfe6,'data':_0x415d1e};return this['currentBatch'][_0x342382(0x3be)]['push'](_0x2ea286),this['addBatchOperation'](this['currentBatch'][_0x342382(0x290)],_0x2ea286),_0x29cfe6;}}const _0x542377=_0x2f2533[_0xab329a(0x188)]();function _0x47068e(_0x4abdac,_0x544ee8){return'/'===_0x4abdac?_0x4abdac+_0x544ee8:_0x4abdac+'/'+_0x544ee8;}function _0x4fb7a4(_0x3d6808){const _0xbc395d=_0xab329a,_0x4dafce=function(_0x56d6a9){return _0x56d6a9['split']('/')['filter'](_0x2a84e8=>_0x2a84e8['length']>0x0);}(_0x3d6808),_0x1a4b36=_0x4dafce[_0xbc395d(0x4b8)]()||'',_0x5cdf92=_0x4dafce[_0xbc395d(0xa75)]('/');return[0x0===_0x5cdf92[_0xbc395d(0x4f0)]?'/':_0x5cdf92,_0x1a4b36];}async function _0xc15242(_0x10462e){const _0x539971=_0xab329a;let _0x3dd40b;const _0x578b8a=_0x10462e['size']/0x100000;_0x3dd40b=_0x578b8a<=0xa?0x1:_0x578b8a<=0x64?0.5:_0x578b8a<=0x1f4?0.1:0.05;const _0x19f95f=Math[_0x539971(0x36f)](_0x10462e[_0x539971(0xa86)]/_0x4cff8a),_0x3777bb=Math['ceil'](_0x19f95f*_0x3dd40b);let _0x49c799=new Uint8Array();for(let _0x3589bb=0x0;_0x3589bb<_0x3777bb;_0x3589bb++){const _0x3cd7a6=Math[_0x539971(0x37a)](_0x3589bb/_0x3777bb*_0x10462e[_0x539971(0xa86)]);let _0x2d5232=_0x3cd7a6+_0x4cff8a;_0x2d5232>_0x10462e[_0x539971(0xa86)]&&(_0x2d5232=_0x10462e[_0x539971(0xa86)]);const _0x43bec7=_0x10462e['slice'](_0x3cd7a6,_0x2d5232),_0x47b483=await _0x43bec7[_0x539971(0x6c5)](),_0x41786b=new Uint8Array([..._0x49c799,...new Uint8Array(_0x47b483)]);_0x49c799=new Uint8Array(await crypto[_0x539971(0x1c5)][_0x539971(0xb24)](_0x539971(0x98e),_0x41786b));}return Array[_0x539971(0x61d)](new Uint8Array(_0x49c799))[_0x539971(0x591)](_0x30854b=>_0x30854b['toString'](0x10)[_0x539971(0x554)](0x2,'0'))[_0x539971(0xa75)]('');}async function*_0x2f29b6(_0x4efb40,_0x1f06bd=0x0,_0x3bc0d7){const _0x327378=_0xab329a;let _0x3f0033=_0x1f06bd*_0x27874a,_0x146863=_0x4efb40;for(;_0x3f0033<_0x146863[_0x327378(0xa86)];){let _0x4ed2d8=_0x3f0033+_0x27874a;_0x4ed2d8>_0x146863[_0x327378(0xa86)]&&(_0x4ed2d8=_0x146863[_0x327378(0xa86)]);let _0x6cbb1d=0x0;for(;_0x6cbb1d<0x14;)try{await _0x3bc0d7?.();const _0x50f4b8=_0x146863[_0x327378(0x291)](_0x3f0033,_0x4ed2d8,_0x327378(0x4d9)),_0x4b30be=await _0x50f4b8['arrayBuffer']();yield _0x4b30be,_0x3f0033=_0x4ed2d8,await new Promise(_0x547c1a=>setTimeout(_0x547c1a,0x0));break;}catch(_0x4e6555){if(console[_0x327378(0x28d)](_0x327378(0x8f8)+(_0x6cbb1d+0x1)+_0x327378(0x694),_0x4e6555),_0x6cbb1d++,_0x6cbb1d>0x14)throw _0x4e6555;let _0x4f186b=0x3e8*Math[_0x327378(0x1a1)](0x2,_0x6cbb1d);_0x4f186b>0x7530&&(_0x4f186b=0x7530),await new Promise(_0x45cefd=>setTimeout(_0x45cefd,_0x4f186b));}}}class _0x2ccca0 extends _0x3d2d9c{[_0xab329a(0xb5a)];['incomingTopic'];['fileChunks']=new Map();[_0xab329a(0x8b6)]=0x0;[_0xab329a(0x574)]=0x0;[_0xab329a(0x2fb)]=0x0;['bytesReceived']=0x0;constructor(_0xc34999,_0x5655b0){super(_0xc34999,_0x5655b0);}['getLabel'](){const _0x4865c2=_0xab329a;return this[_0x4865c2(0x4b1)];}[_0xab329a(0xac9)](){const _0x35b4ff=_0xab329a;return this[_0x35b4ff(0x4b1)];}['getContentType'](){const _0x488fff=_0xab329a;return _0x1d89a1[_0x488fff(0x93a)]['Data'];}['getInternalStreamId'](){return this['label'];}[_0xab329a(0x857)](_0x4e918d){const _0xcf2334=_0xab329a;if(this[_0xcf2334(0xb5a)])throw new _0x227d3a(_0x227d3a[_0xcf2334(0x821)]['InvalidPublisher'],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this['owner']['getId']()+_0xcf2334(0x1ac)+this[_0xcf2334(0x4b1)],'topic':this[_0xcf2334(0xb5a)]});this['outgoingTopic']=_0x4e918d;}[_0xab329a(0x280)](_0x147a48){const _0x348e88=_0xab329a;if(this['incomingTopic'])throw new _0x227d3a(_0x227d3a['codes'][_0x348e88(0x98d)],{'message':'Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20'+this[_0x348e88(0x911)][_0x348e88(0x7a4)]()+_0x348e88(0x1ac)+this[_0x348e88(0x4b1)],'topic':this[_0x348e88(0x18a)]});this[_0x348e88(0x18a)]=_0x147a48;}[_0xab329a(0x716)](){const _0x1fcb32=_0xab329a;delete this[_0x1fcb32(0xb5a)];}[_0xab329a(0x1fb)](){const _0xe281e3=_0xab329a;delete this[_0xe281e3(0x18a)];}async[_0xab329a(0x872)](_0x10d7cf,_0x2447df){const _0x4f4946=_0xab329a;if(_0x542377['log'](_0x59a34d['DataStream'],'DataStream\x20send',this[_0x4f4946(0x911)][_0x4f4946(0x7a4)](),_0x10d7cf,_0x2447df),this['messagesSent']+=0x1,_0x10d7cf instanceof File){const _0x1e3f69=await async function(_0x564529){const _0x22c344=[];for await(const _0x3efa2a of _0x2f29b6(_0x564529))_0x22c344['push'](_0x3efa2a);return _0x22c344;}(_0x10d7cf);return this[_0x4f4946(0x2fb)]+=_0x1e3f69[_0x4f4946(0x9ba)]((_0xbf189a,_0x337263)=>_0xbf189a+_0x337263[_0x4f4946(0x790)],0x0),void _0x1e3f69[_0x4f4946(0xad2)]((_0x1bd7fb,_0x3742b2)=>{const _0x483922=_0x4f4946;this[_0x483922(0xb5a)][_0x483922(0x75d)]({'sourceId':this[_0x483922(0x911)][_0x483922(0x7a4)](),'destinationIds':_0x2447df,'propagate':!0x0,'contentType':_0x1d89a1[_0x483922(0x93a)][_0x483922(0x99b)],'content':{'name':_0x10d7cf['name'],'type':_0x10d7cf[_0x483922(0x539)],'data':_0x1bd7fb,'index':_0x3742b2,'total':_0x1e3f69[_0x483922(0x4f0)]}});});}this[_0x4f4946(0x2fb)]+=JSON[_0x4f4946(0x56e)](_0x10d7cf)[_0x4f4946(0x4f0)],this[_0x4f4946(0xb5a)][_0x4f4946(0x75d)]({'sourceId':this['owner'][_0x4f4946(0x7a4)](),'destinationIds':_0x2447df,'propagate':!0x0,'contentType':_0x1d89a1[_0x4f4946(0x93a)][_0x4f4946(0x4af)],'content':_0x10d7cf});}[_0xab329a(0x3d0)](_0x5c41d4){const _0x172f48=_0xab329a;return this[_0x172f48(0x18a)]['subscribe'](_0x1fb510=>{const _0x2de0d3=_0x172f48;switch(_0x542377[_0x2de0d3(0x4ad)](_0x59a34d[_0x2de0d3(0x3ef)],_0x2de0d3(0x831),this['owner'][_0x2de0d3(0x7a4)](),_0x1fb510),_0x1fb510[_0x2de0d3(0x9e9)]){case _0x1d89a1[_0x2de0d3(0x93a)][_0x2de0d3(0x4af)]:this[_0x2de0d3(0x574)]+=0x1,this[_0x2de0d3(0xb0c)]+=JSON['stringify'](_0x1fb510[_0x2de0d3(0xa98)])[_0x2de0d3(0x4f0)],_0x5c41d4(_0x1fb510[_0x2de0d3(0x203)],_0x1fb510[_0x2de0d3(0xa98)]);break;case _0x1d89a1[_0x2de0d3(0x93a)]['File']:this[_0x2de0d3(0x725)][_0x2de0d3(0x727)](_0x1fb510[_0x2de0d3(0xa98)][_0x2de0d3(0x432)])||this['fileChunks'][_0x2de0d3(0x4d1)](_0x1fb510[_0x2de0d3(0xa98)]['name'],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0xf3184f=this[_0x2de0d3(0x725)][_0x2de0d3(0x153)](_0x1fb510[_0x2de0d3(0xa98)][_0x2de0d3(0x432)]);if(_0xf3184f[_0x2de0d3(0x235)]+=0x1,_0xf3184f[_0x2de0d3(0xb0c)]+=_0x1fb510[_0x2de0d3(0xa98)][_0x2de0d3(0x62e)][_0x2de0d3(0x790)],_0xf3184f[_0x2de0d3(0xa98)]&&(_0xf3184f[_0x2de0d3(0xa98)][_0x1fb510[_0x2de0d3(0xa98)][_0x2de0d3(0x730)]]=_0x1fb510['content'][_0x2de0d3(0x62e)]),this[_0x2de0d3(0x725)][_0x2de0d3(0x4d1)](_0x1fb510[_0x2de0d3(0xa98)]['name'],_0xf3184f),_0xf3184f[_0x2de0d3(0x235)]+0x1<_0x1fb510[_0x2de0d3(0xa98)][_0x2de0d3(0x344)])return;this[_0x2de0d3(0x574)]+=0x1,this['bytesReceived']+=_0xf3184f[_0x2de0d3(0xb0c)],_0xf3184f[_0x2de0d3(0xa98)]&&_0x5c41d4(_0x1fb510[_0x2de0d3(0x203)],(_0x287373=_0xf3184f['content'],_0x1b9ae3=_0x1fb510[_0x2de0d3(0xa98)]['name'],_0x1954ba=_0x1fb510[_0x2de0d3(0xa98)][_0x2de0d3(0x539)],new File(_0x287373,_0x1b9ae3,{'type':_0x1954ba}))),this[_0x2de0d3(0x725)][_0x2de0d3(0x425)](_0x1fb510['content'][_0x2de0d3(0x432)]);}var _0x287373,_0x1b9ae3,_0x1954ba;});}}function _0x41f17b(){const _0x4ce4b2=_0xab329a;let _0x3d04b8=[];return{'subscribe':_0x543e20=>(_0x3d04b8[_0x4ce4b2(0x257)](_0x543e20),()=>{const _0x24971c=_0x4ce4b2;_0x3d04b8=_0x3d04b8[_0x24971c(0x2b3)](_0x55c860=>_0x55c860!==_0x543e20);}),'publish':_0x5cb4f9=>{const _0xb82041=_0x4ce4b2;_0x3d04b8[_0xb82041(0xad2)](_0x3d1e40=>_0x3d1e40(_0x5cb4f9));}};}function _0x2aef8c(){let _0x1f0d86;return{'subscribe':_0x45afcd=>(_0x1f0d86=_0x45afcd,()=>{_0x1f0d86=void 0x0;}),'publish':_0x35e8f0=>{_0x1f0d86&&_0x1f0d86(_0x35e8f0);}};}class _0x348362{[_0xab329a(0x5ca)];['tableName'];['tableObserver'];[_0xab329a(0x44f)]=_0x2aef8c();['listenerUnsubscriber'];constructor(_0x2c8ec8,_0xb4fb22,_0x20e063){const _0x2b5b41=_0xab329a;this[_0x2b5b41(0x5ca)]=_0x2c8ec8,this[_0x2b5b41(0x4e1)]=_0xb4fb22,this['tableObserver']=_0x20e063;}[_0xab329a(0x5f3)](){const _0x1d3571=_0xab329a;this[_0x1d3571(0x6b7)]?.();}async[_0xab329a(0x153)](_0x205f32){const _0x11a509=_0xab329a,_0x4814df={'key':_0x205f32,'tableName':this[_0x11a509(0x4e1)],'action':_0x206da5['Get']};return this[_0x11a509(0x521)][_0x11a509(0x75d)](_0x4814df),this[_0x11a509(0x5ca)][_0x11a509(0x153)](_0x205f32);}async[_0xab329a(0x4d1)](_0x548688,_0x390b10,_0x2f1d13=!0x0){const _0x3fa5ed=_0xab329a;this['validateValue'](_0x390b10);const _0x1de24b=await this[_0x3fa5ed(0x5ca)][_0x3fa5ed(0x153)](_0x548688),_0x58fa75=await this['connector'][_0x3fa5ed(0x4d1)](_0x548688,_0x390b10),_0x3348ea=_0x1de24b?_0x34b267['Update']:_0x34b267[_0x3fa5ed(0xb2a)];if(this['publish'](_0x3348ea,_0x58fa75),!_0x2f1d13)return _0x58fa75;const _0x53de3c={'key':_0x548688,'tableName':this[_0x3fa5ed(0x4e1)],'action':_0x3348ea,'value':_0x58fa75};return this['tableObserver'][_0x3fa5ed(0x75d)](_0x53de3c),_0x58fa75;}async['add'](_0x12049d){const _0xe252d0=_0xab329a;this[_0xe252d0(0x27a)](_0x12049d);const _0x5f56d0=await this['connector'][_0xe252d0(0x232)](_0x12049d),_0x5729dd={'key':_0x5f56d0['id'],'tableName':this['tableName'],'action':_0x34b267['Add'],'value':_0x5f56d0};return this[_0xe252d0(0x521)][_0xe252d0(0x75d)](_0x5729dd),this[_0xe252d0(0x75d)](_0x5729dd[_0xe252d0(0x5b3)],_0x5f56d0),_0x5f56d0;}async[_0xab329a(0x425)](_0x13405f,_0x4cccf=!0x0){const _0x18ccfc=_0xab329a,_0x4256cb=await this[_0x18ccfc(0x5ca)][_0x18ccfc(0x153)](_0x13405f);if(!_0x4256cb)return;await this['connector'][_0x18ccfc(0x425)](_0x13405f);const _0x31aa08=_0x34b267[_0x18ccfc(0x492)];if(this[_0x18ccfc(0x75d)](_0x31aa08,_0x4256cb),!_0x4cccf)return;const _0x1398a3={'key':_0x13405f,'tableName':this['tableName'],'action':_0x31aa08,'value':_0x4256cb};this[_0x18ccfc(0x521)][_0x18ccfc(0x75d)](_0x1398a3);}async['clear'](){const _0x1e195a=_0xab329a,_0x2e2821=await this[_0x1e195a(0x9e5)]();for(const _0x1c4526 of _0x2e2821){const _0x25add4=_0x34b267['Delete'];this['publish'](_0x25add4,_0x1c4526);const _0x3358e8={'key':_0x1c4526['id'],'tableName':this[_0x1e195a(0x4e1)],'action':_0x25add4,'value':_0x1c4526};this['tableObserver'][_0x1e195a(0x75d)](_0x3358e8);}return this[_0x1e195a(0x5ca)]['clear']();}async[_0xab329a(0x9e5)](_0x308ccb){const _0x25657b=_0xab329a,_0x340638={'key':'','tableName':this['tableName'],'action':_0x206da5['List']};this[_0x25657b(0x521)][_0x25657b(0x75d)](_0x340638);try{_0x308ccb&&(_0x308ccb=_0x308ccb instanceof _0x476e0c?_0x308ccb['getQuery']():_0x476e0c[_0x25657b(0x90a)](_0x308ccb)[_0x25657b(0x828)]());}catch(_0x17824a){throw new _0x1695e5(_0x91d017[_0x25657b(0x4bd)],_0x25657b(0x1a8));}try{return await this['connector'][_0x25657b(0x9e5)](_0x308ccb);}catch(_0x5ea86e){let _0x5b30eb='Invalid\x20query';throw _0x5ea86e instanceof Error&&(_0x5b30eb=_0x5ea86e[_0x25657b(0x3cc)]),new _0x1695e5(_0x91d017['KeyValueDatabaseInvalidQuery'],_0x5b30eb);}}async[_0xab329a(0x6e3)](_0x594c8a){const _0x4dd621=_0xab329a,_0x1232ca={'key':'','tableName':this[_0x4dd621(0x4e1)],'action':_0x206da5['Count']};this[_0x4dd621(0x521)][_0x4dd621(0x75d)](_0x1232ca);try{_0x594c8a&&(_0x594c8a=_0x594c8a instanceof _0x476e0c?_0x594c8a[_0x4dd621(0x828)]():_0x476e0c['buildQuery'](_0x594c8a)[_0x4dd621(0x828)]());}catch(_0x4a0c68){throw new _0x1695e5(_0x91d017[_0x4dd621(0x4bd)],_0x4dd621(0x1a8));}try{return await this[_0x4dd621(0x5ca)][_0x4dd621(0x6e3)](_0x594c8a);}catch(_0x3cedc1){let _0x5b8a9a='Invalid\x20query';throw _0x3cedc1 instanceof Error&&(_0x5b8a9a=_0x3cedc1[_0x4dd621(0x3cc)]),new _0x1695e5(_0x91d017[_0x4dd621(0x4bd)],_0x5b8a9a);}}[_0xab329a(0x150)](){const _0x290086=_0xab329a;return this[_0x290086(0x5ca)]['calculateSize']();}['subscribe'](_0x3ed8e1){const _0x8d4dad=_0xab329a;this[_0x8d4dad(0x6b7)]=this[_0x8d4dad(0x44f)][_0x8d4dad(0x94e)](_0x3ed8e1);}[_0xab329a(0x3c8)](){const _0x2c926d=_0xab329a;this[_0x2c926d(0x6b7)]?.();}[_0xab329a(0x75d)](_0x822f4b,_0x3fa868){const _0x3855cb=_0xab329a,_0x570b13=this['buildTableEvent'](_0x822f4b,_0x3fa868);this['eventListener'][_0x3855cb(0x75d)](_0x570b13);}[_0xab329a(0x294)](_0x41d127,_0xbada71){const _0x22c924=_0xab329a;let _0x14243e;switch(_0x41d127){case _0x34b267[_0x22c924(0xb2a)]:_0x14243e=_0x22c924(0x232);break;case _0x34b267[_0x22c924(0xb17)]:_0x14243e=_0x22c924(0x959);break;case _0x34b267['Delete']:_0x14243e='delete';}return{'action':_0x14243e,'value':_0xbada71};}[_0xab329a(0x27a)](_0x74a028){const _0x34a50f=_0xab329a;if(_0x34a50f(0x29a)!=typeof _0x74a028||null===_0x74a028)throw new _0x1695e5(_0x91d017[_0x34a50f(0x976)],'Invalid\x20value.\x20Must\x20be\x20an\x20object.');for(const _0x402b0e in _0x74a028){const _0x307d84=_0x74a028[_0x402b0e];if('object'!=typeof _0x307d84||_0x307d84 instanceof Date){if(![_0x34a50f(0x816),_0x34a50f(0x556),'boolean'][_0x34a50f(0xb4e)](typeof _0x307d84))throw new _0x1695e5(_0x91d017[_0x34a50f(0x976)],_0x34a50f(0xa7d)+_0x402b0e+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x34a50f(0x27a)](_0x307d84);}}}class _0x277275{[_0xab329a(0x506)]=[];[_0xab329a(0x55d)]=0x0;[_0xab329a(0x9ec)]=[];[_0xab329a(0xa7e)]=!0x1;[_0xab329a(0x5e2)]=null;[_0xab329a(0x69c)]=null;[_0xab329a(0x68e)];[_0xab329a(0x410)]=null;['readyPromises']=[];[_0xab329a(0x7a0)];[_0xab329a(0x1d5)]=Promise['resolve']();[_0xab329a(0x260)]=0x0;constructor(){}get['ready'](){const _0x27e8b5=_0xab329a;return this[_0x27e8b5(0x1d5)];}async[_0xab329a(0x19f)](_0x48f296,_0x390f02=0x0){const _0x429308=_0xab329a;this[_0x429308(0x410)]||(this[_0x429308(0x1d5)]=new Promise(_0x5dc69a=>{this['readyResolve']=_0x5dc69a;}),this[_0x429308(0x260)]=_0x390f02);const _0x384a1d=Date[_0x429308(0x4cb)]();if(this[_0x429308(0xa7e)])return void this['transactionQueue']['push'](_0x48f296);this[_0x429308(0xa7e)]=!0x0;let _0xf56fa3={'hash':await this[_0x429308(0x957)](_0x48f296),'height':0x0};const _0x1e7ee7=this[_0x429308(0x2bb)](_0xf56fa3);this[_0x429308(0x1d3)][_0x429308(0x257)](_0x1e7ee7),await _0x1e7ee7,this['totalNodes']+=0x1;const _0x4e1148=this[_0x429308(0x9ec)][_0x429308(0x4f0)];for(;this[_0x429308(0x9ec)]['length']>0x0;){const _0x2bd74b=this[_0x429308(0x9ec)][_0x429308(0x3ba)]();await this[_0x429308(0x19f)](_0x2bd74b);}this[_0x429308(0x3ac)](),await this[_0x429308(0x50b)],this[_0x429308(0x9cb)](_0x384a1d,_0x4e1148);}async[_0xab329a(0xb1b)](){const _0x483a38=_0xab329a;return await this[_0x483a38(0x1d5)],this['isComputingMMR']?(this[_0x483a38(0x69c)]||(this['rootComputationPromise']=this[_0x483a38(0x3bb)]()),await this[_0x483a38(0x69c)]):this['cachedRoot'];}[_0xab329a(0x9e2)](){const _0x542b93=_0xab329a;return this[_0x542b93(0x506)]['map'](({hash:_0x6d5970,height:_0x4152cf})=>({'hash':_0x6d5970,'height':_0x4152cf}));}['getTotalNodes'](){return this['totalNodes'];}[_0xab329a(0xae7)](_0xba5c30){const _0x19ab5c=_0xab329a;return this[_0x19ab5c(0x506)][_0x19ab5c(0xb4a)](_0x5f1c43=>_0x5f1c43['height']===_0xba5c30);}async[_0xab329a(0x792)](_0x51fd51,_0x16c272){const _0x15321e=_0xab329a;return await this[_0x15321e(0x63c)](_0x51fd51+_0x16c272);}async[_0xab329a(0x957)](_0x450e28){const _0xad2b0=_0xab329a;return await this[_0xad2b0(0x63c)](JSON[_0xad2b0(0x56e)](_0x450e28));}[_0xab329a(0x3fd)](_0x6f939b){const _0x1a8f76=_0xab329a,_0x1b5e95=this[_0x1a8f76(0x9e2)](),_0x190ce1=[],_0x1438b5=[],_0x4d16e7=[];for(const _0x18fc29 of _0x1b5e95){const _0x3787b5=_0x6f939b[_0x1a8f76(0xb4a)](_0x4cf1f1=>_0x4cf1f1[_0x1a8f76(0x1ae)]===_0x18fc29['height']);_0x3787b5?_0x18fc29[_0x1a8f76(0x629)]!==_0x3787b5[_0x1a8f76(0x629)]&&_0x190ce1['push']({'height':_0x18fc29[_0x1a8f76(0x1ae)],'localPeak':_0x18fc29,'remotePeak':_0x3787b5}):_0x1438b5[_0x1a8f76(0x257)](_0x18fc29);}for(const _0x39f275 of _0x6f939b)_0x1b5e95['find'](_0x3a6152=>_0x3a6152[_0x1a8f76(0x1ae)]===_0x39f275[_0x1a8f76(0x1ae)])||_0x4d16e7['push'](_0x39f275);return{'differingPeaks':_0x190ce1,'peaksMissingInRemote':_0x1438b5,'peaksMissingInLocal':_0x4d16e7};}async[_0xab329a(0x3bb)](){const _0x26357e=_0xab329a;this[_0x26357e(0xa7e)]=!0x0;const _0x54e9c9=this[_0x26357e(0x506)][_0x26357e(0x591)](_0x361f4b=>_0x361f4b['hash']);return this['cachedRoot']=await this[_0x26357e(0x372)](_0x54e9c9),this[_0x26357e(0xa7e)]=!0x1,this[_0x26357e(0x69c)]=null,this['debounceReady'](),this['cachedRoot'];}async[_0xab329a(0x63c)](_0x5ba118){const _0x71bf62=_0xab329a;try{const _0x48ed3b=new TextEncoder()[_0x71bf62(0x1b1)](_0x5ba118),_0x26559a=await crypto[_0x71bf62(0x1c5)][_0x71bf62(0xb24)](_0x71bf62(0x98e),_0x48ed3b);return Array['from'](new Uint8Array(_0x26559a))[_0x71bf62(0x591)](_0x116116=>_0x116116[_0x71bf62(0x340)](0x10)[_0x71bf62(0x554)](0x2,'0'))[_0x71bf62(0xa75)]('');}catch(_0x1499c8){return console[_0x71bf62(0x28d)](_0x71bf62(0x94b),_0x1499c8),this[_0x71bf62(0x63c)](_0x5ba118);}}async[_0xab329a(0x372)](_0x542000){const _0x21183e=_0xab329a;return await this[_0x21183e(0x63c)](_0x542000[_0x21183e(0xa75)](''));}async[_0xab329a(0x2bb)](_0x4737ab){const _0x450811=_0xab329a;for(;this[_0x450811(0x506)][_0x450811(0x4f0)]>0x0&&this['peaks'][this[_0x450811(0x506)][_0x450811(0x4f0)]-0x1][_0x450811(0x1ae)]===_0x4737ab['height'];){const _0x8401e5=this[_0x450811(0x506)][_0x450811(0x4b8)]();_0x4737ab={'hash':await this['hashNodes'](_0x8401e5[_0x450811(0x629)],_0x4737ab['hash']),'left':_0x8401e5,'right':_0x4737ab,'height':_0x4737ab[_0x450811(0x1ae)]+0x1};}this['peaks'][_0x450811(0x257)](_0x4737ab),await this[_0x450811(0x3bb)]();}['debounceAppendLog'](_0x149968,_0x330196){const _0x51f5d5=_0xab329a;if(!_0x542377[_0x51f5d5(0x61e)](_0x59a34d[_0x51f5d5(0x832)]))return;this['debounceLogTimeout']&&clearTimeout(this[_0x51f5d5(0x68e)]);const _0x58346f=Date[_0x51f5d5(0x4cb)]();this[_0x51f5d5(0x68e)]=setTimeout(()=>_0x542377[_0x51f5d5(0x4ad)](_0x59a34d[_0x51f5d5(0x832)],'MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:',this[_0x51f5d5(0x5e2)],_0x51f5d5(0x14e),this['getTotalNodes'](),_0x51f5d5(0x86c),_0x330196,_0x51f5d5(0x1f6),_0x58346f-_0x149968),0x7d0);}[_0xab329a(0x3ac)](){const _0x192339=_0xab329a;this['debounceReadyTimeout']&&clearTimeout(this['debounceReadyTimeout']),this[_0x192339(0x7a0)]=setTimeout(async()=>{const _0x531303=_0x192339;try{const _0x38411a=this[_0x531303(0x1d3)];if(this[_0x531303(0x1d3)]=[],await Promise[_0x531303(0x4fc)](_0x38411a),this[_0x531303(0x260)]-=_0x38411a[_0x531303(0x4f0)],this[_0x531303(0x1d3)]['length']>0x0||this['expectedTransactions']>0x0)return this[_0x531303(0x3ac)]();this[_0x531303(0x410)]&&(this[_0x531303(0x410)](),this[_0x531303(0x410)]=null),this[_0x531303(0x1d5)]=Promise[_0x531303(0x278)](),this['isComputingMMR']=!0x1;}catch(_0x2d107e){console[_0x531303(0x28d)](_0x531303(0x164),_0x2d107e);}},0xa);}}const _0x20c1ab=[_0xab329a(0xad0),'Node','Content',_0xab329a(0x75a),_0xab329a(0x52f),_0xab329a(0x5bd),_0xab329a(0x387)],_0x22fe00=[['Offer',_0xab329a(0x343),_0xab329a(0xb2f),_0xab329a(0x7ef),_0xab329a(0x4e5),_0xab329a(0x70f),'Disconnect',_0xab329a(0x52f),_0xab329a(0x676)],['NodeJoin',_0xab329a(0xaa8),_0xab329a(0x804),_0xab329a(0x960)],[_0xab329a(0xaac),_0xab329a(0xac3),_0xab329a(0x525),_0xab329a(0x7c7),_0xab329a(0x687),_0xab329a(0x9cf),_0xab329a(0x327),_0xab329a(0x87d),_0xab329a(0xa90),'ExternalStorageStats',_0xab329a(0x420),_0xab329a(0x376),_0xab329a(0x698),'KeyValueDatabaseContentAvailable',_0xab329a(0x8d8),_0xab329a(0x41a),_0xab329a(0x862),_0xab329a(0x26c),_0xab329a(0x33e),_0xab329a(0x7b3),_0xab329a(0x7e8),'ObjectStoreStats',_0xab329a(0x4ab),_0xab329a(0xa5d),'RemoteMediaStreamTrackFail',_0xab329a(0x5c7),_0xab329a(0x3d7),'UnsubscribeMediaStream',_0xab329a(0x1eb),_0xab329a(0x645)],['SubscribeMediaStream',_0xab329a(0x1eb),_0xab329a(0x7e3),_0xab329a(0x6b5),'CannotProvideMediaStream',_0xab329a(0x35c)],[_0xab329a(0x271),_0xab329a(0x896)],['Problem'],[_0xab329a(0x387),'RemoteRemediation']];function _0x4ce5fd(_0xde7921){const _0x3c50c7=_0xab329a;return{..._0xde7921,'systemMessageType':_0x20c1ab[_0xde7921[_0x3c50c7(0x47d)]],'systemContentMessageType':_0x22fe00[_0xde7921[_0x3c50c7(0x47d)]][_0xde7921['content'][_0x3c50c7(0x539)]]};}const _0x47d110={'hour':_0xab329a(0x42e),'minute':_0xab329a(0x42e),'second':_0xab329a(0x42e)};function _0x70c83e(_0x5d7333,_0x178e76){const _0x25462e=_0xab329a,_0x37269b=(function(){const _0x1b045e=a0_0x1b87,_0x469825=new Date(),_0x5ca538=_0x469825[_0x1b045e(0x6b9)](),_0x29a004=_0x469825[_0x1b045e(0x80e)](_0x1b045e(0x2cc),_0x47d110)['match'](/\d\d:\d\d:\d\d/)?.[0x0];return _0x29a004+'.'+(_0x5ca538>0x64?''+_0x5ca538:_0x5ca538>0xa?'0'+_0x5ca538:'00'+_0x5ca538);}()),{sourceId:_0x342436,destinationIds:_0x254161,systemMessageType:_0x33622d,systemContentMessageType:_0x24fd03}=_0x4ce5fd(_0x5d7333);return _0x37269b+'\x20-\x20'+_0x178e76+_0x25462e(0x1ac)+(_0x342436===_0x178e76?'Sending\x20\x27'+_0x33622d+_0x25462e(0x597)+(_0x254161?''+_0x254161:_0x25462e(0x4fb)):_0x5d7333[_0x25462e(0x203)]===_0x11eed3?_0x25462e(0x43c)+_0x33622d+'\x27':(_0x254161?'':_0x25462e(0x7ba))+_0x25462e(0x66b)+_0x33622d+_0x25462e(0x60e)+_0x342436)+_0x25462e(0x609)+_0x24fd03+_0x25462e(0x407);}function _0xbe5f5e(_0x4b97f7,_0x3e62c8){const _0x48ef5b=_0xab329a;if(!_0x542377[_0x48ef5b(0x61e)](_0x4b97f7))return;if(_0x5d8dc2[_0x48ef5b(0x59e)])return;if(_0x48ef5b(0x4b5)==typeof process)return;const _0x5c8f39=process['memoryUsage']();console[_0x48ef5b(0x4ad)](_0x48ef5b(0x25e)+_0x3e62c8+':');for(const _0x5028b9 in _0x5c8f39)console[_0x48ef5b(0x4ad)]('\x20\x20'+_0x5028b9+':\x20'+(_0x5c8f39[_0x5028b9]/0x400/0x400)[_0x48ef5b(0xa65)](0x2)+_0x48ef5b(0x19d));}function _0x146bef(_0x422560,_0xd5a235){const _0x4561b4=_0xab329a;if(!_0x542377[_0x4561b4(0x61e)](_0xd5a235))return _0x542377['debug'](_0x4561b4(0x211)+_0xd5a235),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0xd31598,_0x56e66d)=>_0x56e66d}};let _0x55cfed=0x0;return{'timingLogger':((()=>{const _0x572240=_0x4561b4;let _0x406aa9=Date[_0x572240(0x4cb)]();return{'start':()=>{const _0x59f3fd=_0x572240;_0x406aa9=Date[_0x59f3fd(0x4cb)]();},'now':()=>Date[_0x572240(0x4cb)](),'logWaitTime':_0x312eee=>{const _0xc5b058=_0x572240;_0x55cfed+=Date[_0xc5b058(0x4cb)]()-_0x406aa9,_0x542377['log'](_0xd5a235,_0x312eee,_0x55cfed+'ms',_0x422560);}};})()),'logger':{'log':(_0x278f38,_0xf1e84b=()=>{})=>{const _0x11b6a0=_0x4561b4,_0x1d1ecb=_0xf1e84b();_0x1d1ecb?_0x542377[_0x11b6a0(0x4ad)](_0xd5a235,_0x278f38,_0x1d1ecb,_0x422560):_0x542377[_0x11b6a0(0x4ad)](_0xd5a235,_0x278f38,_0x422560);},'performCalculation':(_0x540733,_0x505106)=>_0x540733()}};}function _0x583f0a(_0xce365a){const _0x31a75a=_0xab329a;return _0x31a75a(0x4b5)==typeof Buffer?0x0:Buffer[_0x31a75a(0x790)](JSON[_0x31a75a(0x56e)](_0xce365a),_0x31a75a(0x17d));}function _0x58dae7(_0x171807){const _0xcb5dbb=_0xab329a;if(0x0===_0x171807)return'0\x20B';const _0x5ce52e=Math[_0xcb5dbb(0x37a)](Math['log'](_0x171807)/Math['log'](0x400));return parseFloat((_0x171807/Math[_0xcb5dbb(0x1a1)](0x400,_0x5ce52e))['toFixed'](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x5ce52e];}class _0x2e8a71 extends _0x2ccca0{[_0xab329a(0x242)];[_0xab329a(0x48a)];[_0xab329a(0x3e1)];[_0xab329a(0x688)];['db'];['dbKey'];[_0xab329a(0x24f)]=new Map();[_0xab329a(0x521)];[_0xab329a(0x2af)];['tableUnsubscriber'];[_0xab329a(0xa44)];[_0xab329a(0x984)];[_0xab329a(0x567)]=[];[_0xab329a(0x1c1)]=()=>{};[_0xab329a(0x82e)];[_0xab329a(0x44f)]=_0x2aef8c();['listenerUnsubscriber'];['syncTransactionsWritten']=[];[_0xab329a(0x487)];[_0xab329a(0xa82)];[_0xab329a(0x6a9)]=0x0;[_0xab329a(0x399)]=0x0;['contentRequestSent']=!0x1;[_0xab329a(0xb1c)]=new _0x277275();[_0xab329a(0x335)]=new Map();[_0xab329a(0x54e)]=[];[_0xab329a(0x5ad)];[_0xab329a(0xb11)]=[];[_0xab329a(0x30c)];constructor(_0x15da2c,_0x26f2ae,_0x5a360c,_0x4207fa,_0x154e2c,_0x47c1f7,_0x54a3f4){const _0x15e430=_0xab329a;if(_0x15e430(0x816)!=typeof _0x26f2ae)throw new _0x1695e5(_0x91d017['KeyValueDatabaseNameNotString'],_0x15e430(0x2e3));if(super(_0x15da2c,_0x26f2ae),this['localNode']=_0x15da2c,this[_0x15e430(0x48a)]=_0x5a360c,this[_0x15e430(0x3e1)]=_0x4207fa,this[_0x15e430(0x688)]=_0x54a3f4,this[_0x15e430(0xb47)]=_0x15e430(0xafd)+this['vendorId']+'ccc'+this[_0x15e430(0x48a)]+_0x15e430(0xafd)+this[_0x15e430(0x4b1)],this[_0x15e430(0x521)]=_0x2aef8c(),this['loggingCycle']=function(_0x5c4046,_0x1893da){const _0x111e6f=_0x15e430;if(!_0x542377['isChannelEnabled'](_0x1893da))return _0x542377['debug'](_0x111e6f(0x211)+_0x1893da),{..._0x146bef(_0x5c4046,_0x1893da),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':_0x111e6f(0x907),'dataReceived':_0x111e6f(0x907)})};const {timingLogger:_0x20a362,logger:_0x322d2f}=_0x146bef(_0x5c4046,_0x1893da);let _0x34b477=0x0,_0x4701f1=0x0;return{'timingLogger':_0x20a362,'logger':_0x322d2f,'logDataSent':(_0x4b621c,_0x3c7899=!0x1)=>{const _0x3517d6=_0x111e6f,_0x414b37=_0x583f0a(_0x4b621c);return _0x3c7899&&_0x542377['log'](_0x1893da,_0x3517d6(0x409),_0x5c4046,_0x414b37),_0x34b477+=_0x414b37,_0x414b37;},'logDataReceived':(_0x462d4e,_0x351dda=!0x1)=>{const _0x379996=_0x111e6f,_0x4031da=_0x583f0a(_0x462d4e);return _0x351dda&&_0x542377[_0x379996(0x4ad)](_0x1893da,_0x379996(0x5a3),_0x5c4046,_0x4031da),_0x4701f1+=_0x4031da,_0x4031da;},'getDataLogged':()=>({'dataSent':_0x58dae7(_0x34b477),'dataReceived':_0x58dae7(_0x4701f1)})};}(this[_0x15e430(0x4b1)],_0x59a34d[_0x15e430(0x832)]),this[_0x15e430(0xa44)]=new Promise(_0x19d69a=>{const _0x4bfab1=_0x15e430;this[_0x4bfab1(0x984)]=_0x19d69a;}),_0x154e2c instanceof _0x3c992d)this[_0x15e430(0x487)]=_0x154e2c[_0x15e430(0x75e)]();else{const [_0x54ccd4,_0x4950f4]=_0x3c992d[_0x15e430(0x274)](_0x154e2c);if(!_0x54ccd4)throw new _0x1695e5(_0x91d017[_0x15e430(0x681)],'Invalid\x20layout:\x20'+_0x4950f4);this[_0x15e430(0x487)]=structuredClone(_0x154e2c);}this[_0x15e430(0x4b0)](this[_0x15e430(0x487)]),this['db']=new _0x47c1f7(this[_0x15e430(0xb47)],this[_0x15e430(0x487)]),this[_0x15e430(0x8e9)]();}async[_0xab329a(0xaa7)](_0xa55208,_0x20b456){const _0x4c3a88=_0xab329a;if(_0x542377['log'](_0x59a34d[_0x4c3a88(0x832)],'Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization',this[_0x4c3a88(0x4b1)]),!this['transactionTable'])throw new _0x227d3a(_0x227d3a['codes'][_0x4c3a88(0x8e0)]);if(await this[_0x4c3a88(0xa44)],await this[_0x4c3a88(0x688)](_0xa55208),await this[_0x4c3a88(0xb1c)][_0x4c3a88(0xb1b)]()===_0x20b456){const _0x3c04e5={'sourceId':this[_0x4c3a88(0x242)][_0x4c3a88(0x7a4)](),'destinationIds':[_0xa55208],'propagate':!0x0,'messageType':_0x18b589[_0x4c3a88(0xb65)],'content':{'type':_0x8a5c45[_0x4c3a88(0x8d8)],'label':this[_0x4c3a88(0x4b1)],'mmrRoot':_0x20b456}};return this['loggingCycle'][_0x4c3a88(0x639)](_0x3c04e5),void this[_0x4c3a88(0x2f3)][_0x4c3a88(0x75d)](_0x3c04e5);}const _0x1ae174=this[_0x4c3a88(0xb1c)][_0x4c3a88(0x9e2)](),_0xa12b4b={'sourceId':this[_0x4c3a88(0x242)][_0x4c3a88(0x7a4)](),'destinationIds':[_0xa55208],'propagate':!0x0,'messageType':_0x18b589[_0x4c3a88(0xb65)],'content':{'type':_0x8a5c45[_0x4c3a88(0x538)],'label':this[_0x4c3a88(0x4b1)],'peaks':_0x1ae174}};this[_0x4c3a88(0x30c)][_0x4c3a88(0x639)](_0xa12b4b),this[_0x4c3a88(0x2f3)][_0x4c3a88(0x75d)](_0xa12b4b);}async[_0xab329a(0x72f)](_0x339320,_0x574461){const _0x1113ec=_0xab329a,_0x548dd=await this[_0x1113ec(0xb1c)][_0x1113ec(0xb1b)](),_0x3fd25d=_0x548dd===_0x574461;if(_0x542377[_0x1113ec(0x4ad)](_0x59a34d[_0x1113ec(0x832)],_0x1113ec(0x650)+_0x339320+_0x1113ec(0x512)+_0x3fd25d,this[_0x1113ec(0x4b1)]),_0x3fd25d)return this[_0x1113ec(0xa18)](),void this['publishSyncCompleted']();_0x542377[_0x1113ec(0x4ad)](_0x59a34d[_0x1113ec(0x832)],_0x1113ec(0x44c),_0x548dd,_0x574461),_0x542377[_0x1113ec(0x396)](_0x1113ec(0x44c),{'nodeId':this['localNode'][_0x1113ec(0x7a4)](),'nodeType':this[_0x1113ec(0x242)][_0x1113ec(0x539)],'remoteId':_0x339320,'data':{'localMMRRoot':_0x548dd,'remoteMMRRoot':_0x574461}});const _0xc40d8e={'sourceId':this['localNode'][_0x1113ec(0x7a4)](),'messageType':_0x18b589[_0x1113ec(0xb65)],'propagate':!0x0,'content':{'type':_0x8a5c45[_0x1113ec(0x7b3)],'label':this[_0x1113ec(0x4b1)],'mmrRoot':_0x548dd}};this['systemTopic']['publish'](_0xc40d8e);}async[_0xab329a(0x310)](_0x436fe5,_0x50ff90){const _0x1f4f2c=_0xab329a;if(_0x542377['log'](_0x59a34d[_0x1f4f2c(0x832)],_0x1f4f2c(0x6c8),_0x436fe5,_0x1f4f2c(0x4b1),this[_0x1f4f2c(0x4b1)],_0x1f4f2c(0x506),_0x50ff90),this[_0x1f4f2c(0xb43)])return;this[_0x1f4f2c(0xb43)]=!0x0,this[_0x1f4f2c(0xa18)]();const {differingPeaks:_0x592c0c,peaksMissingInLocal:_0x41731b,peaksMissingInRemote:_0xfec6cb}=this[_0x1f4f2c(0xb1c)]['comparePeaks'](_0x50ff90);_0x542377[_0x1f4f2c(0x4ad)](_0x59a34d['KeyValueDatabase'],_0x1f4f2c(0x955),{'differingPeaks':_0x592c0c,'peaksMissingInLocal':_0x41731b,'peaksMissingInRemote':_0xfec6cb});const _0x5c76ad={'sourceId':this[_0x1f4f2c(0x242)]['getId'](),'destinationIds':[_0x436fe5],'propagate':!0x0,'messageType':_0x18b589[_0x1f4f2c(0xb65)],'content':{'type':_0x8a5c45[_0x1f4f2c(0x41a)],'label':this[_0x1f4f2c(0x4b1)],'peakHeights':_0x41731b[_0x1f4f2c(0x591)](_0x4545d9=>_0x4545d9[_0x1f4f2c(0x1ae)])[_0x1f4f2c(0x743)](_0x592c0c[_0x1f4f2c(0x591)](_0x448011=>_0x448011[_0x1f4f2c(0x1ae)]))}};if(this['systemTopic']['publish'](_0x5c76ad),_0x592c0c[_0x1f4f2c(0x4f0)]>0x0||_0xfec6cb[_0x1f4f2c(0x4f0)]>0x0){const _0x3f369f=_0xfec6cb[_0x1f4f2c(0x591)](_0x290d56=>_0x290d56[_0x1f4f2c(0x1ae)])[_0x1f4f2c(0x743)](_0x592c0c[_0x1f4f2c(0x591)](_0x1675aa=>_0x1675aa[_0x1f4f2c(0x1ae)]));await this[_0x1f4f2c(0x53f)](_0x436fe5,_0x3f369f,!0x0);}}async['sendPeakTransactions'](_0x16a7d9,_0x2533d5,_0x378cf9=!0x1){const _0x4fd86b=_0xab329a;_0x542377[_0x4fd86b(0x4ad)](_0x59a34d[_0x4fd86b(0x832)],_0x4fd86b(0x2a5),this[_0x4fd86b(0x4b1)]);const _0x3bc511=_0x2533d5['map'](_0x1827eb=>this['mmr'][_0x4fd86b(0xae7)](_0x1827eb))[_0x4fd86b(0x2b3)](Boolean);if(!_0x3bc511[_0x4fd86b(0x4f0)]||_0x2533d5[_0x4fd86b(0x4f0)]!==_0x3bc511[_0x4fd86b(0x4f0)])throw new _0x227d3a(_0x227d3a[_0x4fd86b(0x821)]['KeyValueDatabasePeakNotFound'],{'message':'Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','peakHeights':_0x2533d5,'peaks':_0x3bc511[_0x4fd86b(0x591)](_0x22bad6=>_0x22bad6[_0x4fd86b(0x1ae)]),'nodeId':_0x16a7d9});const _0x256423=[];for(const _0x39467f of _0x3bc511)this[_0x4fd86b(0x2e6)](_0x39467f,_0x256423);const _0x1e27bf=_0x378cf9?void 0x0:[_0x16a7d9],_0x538242={'sourceId':this[_0x4fd86b(0x242)]['getId'](),'destinationIds':_0x1e27bf,'messageType':_0x18b589[_0x4fd86b(0xb65)],'propagate':!0x0,'content':{'type':_0x8a5c45[_0x4fd86b(0x26c)],'label':this[_0x4fd86b(0x4b1)],'transactions':_0x256423}};this['loggingCycle'][_0x4fd86b(0x639)](_0x538242),this['systemTopic'][_0x4fd86b(0x75d)](_0x538242);}async[_0xab329a(0x85b)](_0x1567f7,_0x167894){const _0x12e3c3=_0xab329a;_0x542377[_0x12e3c3(0x4ad)](_0x59a34d[_0x12e3c3(0x832)],_0x12e3c3(0x3b1)+_0x167894[_0x12e3c3(0x4f0)]+_0x12e3c3(0x6fb)+_0x1567f7+_0x12e3c3(0x1ac)+this['label']);for(const _0xa472d2 of _0x167894){const _0x144606=await this[_0x12e3c3(0x2af)][_0x12e3c3(0x153)](_0xa472d2['id']);if(!(_0x144606&&this[_0x12e3c3(0x92c)](_0x144606,_0xa472d2)>=0x0)){if(_0xa472d2['action']===_0x34b267['Delete']){const [_0x3f0c45,_0x1a5e4d]=_0xa472d2['id'][_0x12e3c3(0xb12)]('::'),_0x352aed=this[_0x12e3c3(0x494)](_0x3f0c45);await _0x352aed[_0x12e3c3(0x425)](_0x1a5e4d);}else this[_0x12e3c3(0x567)][_0x12e3c3(0x257)](_0xa472d2['id']);}}if(_0x542377[_0x12e3c3(0x4ad)](_0x59a34d['KeyValueDatabase'],_0x12e3c3(0x885)+this['transactionsToSync'][_0x12e3c3(0x4f0)]+'\x20new\x20transactions',this[_0x12e3c3(0x4b1)]),this[_0x12e3c3(0x567)][_0x12e3c3(0x4f0)]>0x0){const _0x2d6e5b={'sourceId':this[_0x12e3c3(0x242)][_0x12e3c3(0x7a4)](),'destinationIds':[_0x1567f7],'messageType':_0x18b589[_0x12e3c3(0xb65)],'propagate':!0x0,'content':{'type':_0x8a5c45[_0x12e3c3(0x862)],'label':this[_0x12e3c3(0x4b1)],'transactionIds':this[_0x12e3c3(0x567)]}};this[_0x12e3c3(0x30c)]['logDataSent'](_0x2d6e5b),this[_0x12e3c3(0x2f3)][_0x12e3c3(0x75d)](_0x2d6e5b);}}['reset'](){const _0x2188cd=_0xab329a;this[_0x2188cd(0x8e9)]();}[_0xab329a(0x552)](){const _0x47a8e0=_0xab329a;return _0x1d89a1[_0x47a8e0(0x93a)][_0x47a8e0(0x832)];}[_0xab329a(0x5f3)](){const _0xe4580=_0xab329a;this['db']['close'](),this[_0xe4580(0x5e3)]?.(),clearTimeout(this[_0xe4580(0xa82)]),delete this['debounceStats'],super[_0xe4580(0x5f3)]();}['close'](){const _0x325dd5=_0xab329a;this[_0x325dd5(0xa18)](),this[_0x325dd5(0x2f3)][_0x325dd5(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x325dd5(0xb65)],'content':{'type':_0x8a5c45['CloseKeyValueDatabase'],'label':this[_0x325dd5(0x4b1)]}});}[_0xab329a(0x494)](_0x4517bd){const _0x5c19f9=_0xab329a,_0x59d2d3=this['tables'][_0x5c19f9(0x153)](_0x4517bd);if(_0x59d2d3)return _0x59d2d3;try{if(!this['db'][_0x5c19f9(0x53d)](_0x4517bd))throw new _0x1695e5(_0x91d017['KeyValueDatabaseTableNotFound'],_0x5c19f9(0x5fb));const _0x41e167=new _0x348362(this['db'][_0x5c19f9(0x498)](_0x4517bd),_0x4517bd,this[_0x5c19f9(0x521)]);return this[_0x5c19f9(0x24f)][_0x5c19f9(0x4d1)](_0x4517bd,_0x41e167),{'get':_0x41e167[_0x5c19f9(0x153)][_0x5c19f9(0x5b5)](_0x41e167),'set':_0x41e167[_0x5c19f9(0x4d1)][_0x5c19f9(0x5b5)](_0x41e167),'add':_0x41e167[_0x5c19f9(0x232)][_0x5c19f9(0x5b5)](_0x41e167),'delete':_0x41e167[_0x5c19f9(0x425)][_0x5c19f9(0x5b5)](_0x41e167),'clear':_0x41e167['clear']['bind'](_0x41e167),'list':_0x41e167['list'][_0x5c19f9(0x5b5)](_0x41e167),'count':_0x41e167[_0x5c19f9(0x6e3)][_0x5c19f9(0x5b5)](_0x41e167),'subscribe':_0x41e167[_0x5c19f9(0x94e)][_0x5c19f9(0x5b5)](_0x41e167),'unsubscribe':_0x41e167[_0x5c19f9(0x3c8)][_0x5c19f9(0x5b5)](_0x41e167)};}catch(_0x3df1bd){if(_0x3df1bd instanceof _0x1695e5)throw _0x3df1bd;throw new _0x1695e5(_0x91d017[_0x5c19f9(0x4e2)],'Database\x20not\x20open');}}[_0xab329a(0x94e)](_0x283dd8){const _0x47b877=_0xab329a;this['listenerUnsubscriber']=this[_0x47b877(0x44f)][_0x47b877(0x94e)](_0x283dd8),this[_0x47b877(0x39b)](this[_0x47b877(0xa44)])[_0x47b877(0x228)](_0x1016d1=>{const _0xf83cde=_0x47b877;_0x1016d1&&this['eventListener']['publish']({'event':_0x1d89a1[_0xf83cde(0x774)][_0xf83cde(0x738)]});});}[_0xab329a(0x3c8)](){const _0x376937=_0xab329a;this[_0x376937(0x6b7)]?.(),this[_0x376937(0x6b7)]=void 0x0;}async[_0xab329a(0x996)](){const _0x2f6f38=_0xab329a;_0xbe5f5e(_0x59a34d['KeyValueDatabase'],_0x2f6f38(0x176));const _0x453c85=[_0x113c4a,_0xd4d226],_0x474bfa=[];try{await this['db'][_0x2f6f38(0x996)]();const _0x46ad47=this['db'][_0x2f6f38(0x498)](_0xd4d226),_0x211324=await _0x46ad47[_0x2f6f38(0x9e5)](),{id:_0x12aa9d,layout:_0x1937e1}=_0x211324[0x0]??{};if(_0x1937e1){for(const _0x8dda15 in _0x1937e1)_0x453c85[_0x2f6f38(0xb4e)](_0x8dda15)||this['db']['hasTable'](_0x8dda15)||_0x474bfa[_0x2f6f38(0x257)](_0x8dda15);await _0x46ad47['set'](_0x12aa9d,{'layout':this[_0x2f6f38(0x487)]});}else await _0x46ad47[_0x2f6f38(0x232)]({'layout':this[_0x2f6f38(0x487)]});}catch(_0x5869af){throw new _0x1695e5(_0x91d017[_0x2f6f38(0x4e2)],_0x5869af['message']||'Error\x20encountered\x20while\x20opening\x20database');}this[_0x2f6f38(0x947)](),await this[_0x2f6f38(0x216)](),this['setOnMessageHandler'](),this['setOnTableWriteHandler'](),_0x474bfa[_0x2f6f38(0xad2)](_0x49459f=>this['deleteTransactionsForTable'](_0x49459f));}async[_0xab329a(0x4ca)](_0x5d5a58,_0x8373f=()=>{},_0x1c9a3b=!0x1){const _0x4217ad=_0xab329a;if(!_0x5d5a58)return setTimeout(()=>{this['clearSyncTimeout'](),this['publishSyncCompleted']();},0x0),!0x0;if(this[_0x4217ad(0xb43)]=!0x1,this[_0x4217ad(0x1c1)]=_0x8373f,this[_0x4217ad(0x82e)]=setTimeout(_0x8373f,0x7d0),!this[_0x4217ad(0x2f3)])throw new _0x227d3a(_0x227d3a[_0x4217ad(0x821)]['MissingSystemTopic']);const _0x2a4470=await this[_0x4217ad(0xb1c)]['getRoot'](),_0x5a0512={'sourceId':this[_0x4217ad(0x242)]['getId'](),'messageType':_0x18b589[_0x4217ad(0xb65)],'propagate':_0x1c9a3b,'content':{'type':_0x8a5c45[_0x4217ad(0x7b3)],'label':this[_0x4217ad(0x4b1)],'mmrRoot':_0x2a4470}};return this[_0x4217ad(0x30c)][_0x4217ad(0x639)](_0x5a0512),this[_0x4217ad(0x2f3)][_0x4217ad(0x75d)](_0x5a0512),this['isSync'];}async['sendTransactionsValue'](_0x3997b0,_0x2c5dec){const _0x10e27b=_0xab329a;if(_0x542377['log'](_0x59a34d['KeyValueDatabase'],'Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20'+_0x2c5dec[_0x10e27b(0x4f0)],this[_0x10e27b(0x4b1)]),!this[_0x10e27b(0x2af)])throw new _0x227d3a(_0x227d3a[_0x10e27b(0x821)][_0x10e27b(0x8e0)]);for(const _0x181a91 of _0x2c5dec){const _0x2d2fbb=await this[_0x10e27b(0x2af)][_0x10e27b(0x153)](_0x181a91);if(!_0x2d2fbb)continue;const [_0x2d8b94,_0x12fd38]=_0x181a91['split']('::'),_0x13f171=this['getTable'](_0x2d8b94),_0x3be403=await _0x13f171['get'](_0x12fd38);_0x3be403?(_0x2d2fbb[_0x10e27b(0x706)]=_0x3be403,this['send'](_0x2d2fbb,[_0x3997b0])):_0x542377[_0x10e27b(0x396)]('sendTransactionsValue\x20-\x20value\x20not\x20found',{'nodeId':this[_0x10e27b(0x242)]['getId'](),'nodeType':this[_0x10e27b(0x242)][_0x10e27b(0x539)],'remoteId':_0x3997b0,'data':{'tableKeys':Object[_0x10e27b(0x628)](this[_0x10e27b(0x24f)]),'transactionId':_0x181a91,'transactions':this[_0x10e27b(0x567)],'tableName':_0x2d8b94,'key':_0x12fd38}});}}async[_0xab329a(0x555)](_0x4134ad){const _0x293070=_0xab329a;if(!this['transactionTable'])throw new _0x227d3a(_0x227d3a[_0x293070(0x821)][_0x293070(0x8e0)]);const _0x524f80=await this[_0x293070(0xb1c)][_0x293070(0x957)](_0x4134ad),_0x41e8b9=this[_0x293070(0x335)]['get'](_0x524f80);if(_0x41e8b9&&this[_0x293070(0x92c)](_0x4134ad,_0x41e8b9)<=0x0)return void _0x542377[_0x293070(0x4ad)](_0x59a34d['KeyValueDatabase'],_0x293070(0x893),_0x4134ad);const _0x2ac1ab={..._0x4134ad};return delete _0x2ac1ab[_0x293070(0x706)],this[_0x293070(0xb75)](_0x2ac1ab),await this[_0x293070(0x2af)]['set'](_0x4134ad['id'],_0x2ac1ab),_0x4134ad;}[_0xab329a(0x92c)](_0x3351a1,_0x563f8c){const _0x8066e2=_0xab329a;return _0x3351a1[_0x8066e2(0x1bf)]!==_0x563f8c[_0x8066e2(0x1bf)]?_0x3351a1['timestamp']-_0x563f8c[_0x8066e2(0x1bf)]:_0x3351a1['priority']-_0x563f8c[_0x8066e2(0x3a1)];}async[_0xab329a(0x392)](_0xe502d9){const _0x543ca6=_0xab329a;if(!this[_0x543ca6(0x2af)])throw new _0x227d3a(_0x227d3a[_0x543ca6(0x821)][_0x543ca6(0x8e0)]);const _0x124c3c=_0xe502d9['tableName']+'::'+_0xe502d9['key'],_0x243a5e=await _0x44b60b[_0x543ca6(0x154)](),_0x96fc86={'id':_0x124c3c,'priority':Math['random'](),'timestamp':_0x243a5e,'action':_0xe502d9['action']};if(await this[_0x543ca6(0x555)](_0x96fc86))return _0x96fc86;}async[_0xab329a(0xa3a)](_0xd69166){const _0x32d30c=_0xab329a;if(!this[_0x32d30c(0x2af)])throw new _0x227d3a(_0x227d3a[_0x32d30c(0x821)][_0x32d30c(0x8e0)]);const _0x17f76a=_0x476e0c['index']('id')[_0x32d30c(0x705)](_0x32d30c(0x316),[_0xd69166+'::',_0xd69166+'::￿']),_0x632948=await this[_0x32d30c(0x2af)][_0x32d30c(0x9e5)](_0x17f76a[_0x32d30c(0x828)]());for(const _0x109f41 of _0x632948)await this[_0x32d30c(0x2af)][_0x32d30c(0x425)](_0x109f41['id']);}[_0xab329a(0x28c)](){const _0x45eff4=_0xab329a;this[_0x45eff4(0x3d0)](async(_0xf4e0c2,_0x51e782)=>{const _0xdcefa4=_0x45eff4;if(_0x51e782 instanceof File)return;if(this[_0xdcefa4(0x30c)][_0xdcefa4(0xb52)](_0x51e782),!await this[_0xdcefa4(0x555)](_0x51e782))return void this['checkSyncComplete'](_0xf4e0c2,_0x51e782);if(!_0x51e782[_0xdcefa4(0x706)])throw new _0x227d3a(_0x227d3a['codes'][_0xdcefa4(0xa85)]);const [_0x584945,_0x510baa]=_0x51e782['id']['split']('::'),_0x336deb=this['getTable'](_0x584945);if(!_0x336deb)throw new _0x227d3a(_0x227d3a['codes'][_0xdcefa4(0x56c)],{'table':_0x336deb});let _0x392399=0x0;switch(_0x51e782[_0xdcefa4(0x5b3)]){case _0x34b267[_0xdcefa4(0xb2a)]:case _0x34b267[_0xdcefa4(0xb17)]:{const _0x153a7b=_0x336deb[_0xdcefa4(0x4d1)](_0x510baa,_0x51e782['value'],!0x1);_0x392399=JSON[_0xdcefa4(0x56e)](_0x51e782['value'])[_0xdcefa4(0x4f0)],this[_0xdcefa4(0x567)][_0xdcefa4(0xb4e)](_0x51e782['id'])&&this[_0xdcefa4(0x2c7)][_0xdcefa4(0x257)](_0x153a7b);break;}case _0x34b267[_0xdcefa4(0x492)]:{const _0x1b1c63=_0x336deb['delete'](_0x510baa,!0x1);this[_0xdcefa4(0x567)][_0xdcefa4(0xb4e)](_0x51e782['id'])&&this[_0xdcefa4(0x2c7)][_0xdcefa4(0x257)](_0x1b1c63);break;}}_0x542377[_0xdcefa4(0x940)](_0x2a74fc[_0xdcefa4(0x832)],{'type':_0xdcefa4(0x4ca),'label':this['label'],'nodeId':this['localNode'][_0xdcefa4(0x7a4)](),'nodeType':this[_0xdcefa4(0x242)]['type'],'clusterId':this[_0xdcefa4(0x48a)],'tableName':_0x584945,'key':_0x510baa,'size':_0x392399}),this[_0xdcefa4(0x439)](_0xf4e0c2,_0x51e782);});}[_0xab329a(0x40b)](){const _0x5cf2b0=_0xab329a;this[_0x5cf2b0(0x5e3)]=this[_0x5cf2b0(0x521)][_0x5cf2b0(0x94e)](async _0x23328a=>{const _0xf673d6=_0x5cf2b0;let _0x45130f=0x0;switch(_0x23328a['action']){case _0x34b267[_0xf673d6(0xb2a)]:case _0x34b267[_0xf673d6(0xb17)]:case _0x34b267[_0xf673d6(0x492)]:{const _0x2e6457=await this['getTransactionFromTableWriteEvent'](_0x23328a);if(!_0x2e6457)return;_0x2e6457[_0xf673d6(0x706)]=_0x23328a[_0xf673d6(0x706)],this[_0xf673d6(0x872)](_0x2e6457),_0x45130f=JSON['stringify'](_0x23328a['value'])[_0xf673d6(0x4f0)],this[_0xf673d6(0x6a9)]+=0x1;break;}case _0x206da5['Get']:case _0x206da5[_0xf673d6(0x813)]:case _0x206da5['Count']:this[_0xf673d6(0x399)]+=0x1;}_0x542377[_0xf673d6(0x940)](_0x2a74fc[_0xf673d6(0x832)],{'type':_0x23328a['action'],'label':this['label'],'nodeId':this['localNode'][_0xf673d6(0x7a4)](),'nodeType':this[_0xf673d6(0x242)][_0xf673d6(0x539)],'clusterId':this[_0xf673d6(0x48a)],'tableName':_0x23328a[_0xf673d6(0x4e1)],'key':_0x23328a[_0xf673d6(0x66e)],'size':_0x45130f}),this[_0xf673d6(0x8e9)]();});}[_0xab329a(0x947)](){const _0x4f6161=_0xab329a;this['db']&&(this[_0x4f6161(0x2af)]||(this[_0x4f6161(0x2af)]=this['db'][_0x4f6161(0x498)](_0x113c4a)));}[_0xab329a(0xa18)](){const _0x2b01e8=_0xab329a;this[_0x2b01e8(0x82e)]&&(clearTimeout(this['syncTimeout']),delete this[_0x2b01e8(0x82e)]);}async['publishSyncCompleted'](){const _0x2fbc14=_0xab329a;await this[_0x2fbc14(0xb1c)]['ready'],this[_0x2fbc14(0x4a3)](),this[_0x2fbc14(0x44f)][_0x2fbc14(0x75d)]({'event':_0x1d89a1[_0x2fbc14(0x774)][_0x2fbc14(0x738)]}),this[_0x2fbc14(0x984)]?.(!0x0),delete this['syncResolve'],this[_0x2fbc14(0x8e9)](),_0x542377['log'](_0x59a34d[_0x2fbc14(0x832)],_0x2fbc14(0x9bc),this[_0x2fbc14(0x4b1)]);}async['publishSyncCompletedAfterWrites'](_0x2cdfdb){const _0x52e8da=_0xab329a;await Promise['all'](this[_0x52e8da(0x2c7)]),_0x542377[_0x52e8da(0x4ad)](_0x59a34d['KeyValueDatabase'],'publishSyncCompletedAfterWrites\x20-\x20'+this[_0x52e8da(0x2c7)][_0x52e8da(0x4f0)]+_0x52e8da(0xa08)+_0x2cdfdb+_0x52e8da(0xa2e),this['label']),await this[_0x52e8da(0xb1c)][_0x52e8da(0x50b)],await this[_0x52e8da(0x4b7)](_0x2cdfdb),await this[_0x52e8da(0xb28)]();}['checkSyncComplete'](_0x444b69,_0x515fc6){const _0x1f3757=_0xab329a;this[_0x1f3757(0x567)]['includes'](_0x515fc6['id'])&&(this[_0x1f3757(0xa18)](),this[_0x1f3757(0x567)]=this[_0x1f3757(0x567)][_0x1f3757(0x2b3)](_0x59e4d6=>_0x59e4d6!==_0x515fc6['id']),0x0!==this[_0x1f3757(0x567)][_0x1f3757(0x4f0)]?this['syncTimeout']=setTimeout(this[_0x1f3757(0x1c1)],0x7d0):this[_0x1f3757(0x3a8)](_0x444b69));}['sendStats'](){const _0xb4abbd=_0xab329a;this['debounceStats']&&clearTimeout(this['debounceStats']),this[_0xb4abbd(0xa82)]=setTimeout(async()=>{const _0x4117cf=_0xb4abbd;delete this['debounceStats'];let _0x34f6af=0x0;for(const _0x5c1396 of this['tables']['values']())_0x34f6af+=await _0x5c1396[_0x4117cf(0x150)]();this[_0x4117cf(0x2f3)][_0x4117cf(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x4117cf(0xb65)],'content':{'type':_0x8a5c45[_0x4117cf(0x33e)],'label':this['label'],'stats':{'timestamp':Date[_0x4117cf(0x4cb)](),'storage':_0x34f6af,'messagesSent':this[_0x4117cf(0x8b6)],'messagesReceived':this[_0x4117cf(0x574)],'bytesSent':this[_0x4117cf(0x2fb)],'bytesReceived':this[_0x4117cf(0xb0c)],'writes':this['writes'],'reads':this[_0x4117cf(0x399)],'prompts':0x0,'tokens':0x0}}}),_0x542377['logStorage'](_0x2a74fc[_0x4117cf(0x832)],'ccc'+this['clusterId']+_0x4117cf(0xafd)+this[_0x4117cf(0x4b1)],_0x34f6af);},_0x5615a9);}['addReservedTables'](_0x421ec2){const _0x24f20c=_0xab329a;if(_0x421ec2[_0x24f20c(0x24f)][_0x113c4a])throw new _0x1695e5(_0x91d017[_0x24f20c(0x634)],_0x24f20c(0x5c3)+_0x113c4a+_0x24f20c(0x9c8));if(_0x421ec2[_0x24f20c(0x24f)][_0xd4d226])throw new _0x1695e5(_0x91d017[_0x24f20c(0x634)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0xd4d226+_0x24f20c(0x9c8));_0x421ec2[_0x24f20c(0x24f)][_0x113c4a]={'indexes':[]},_0x421ec2[_0x24f20c(0x24f)][_0xd4d226]={'indexes':[]};}async[_0xab329a(0x39b)](_0x3085f5){const _0x2e3db6=_0xab329a;return Promise[_0x2e3db6(0x298)]([_0x3085f5,Promise[_0x2e3db6(0x278)](_0x2e3db6(0x874))])[_0x2e3db6(0x228)](_0x20c25e=>_0x2e3db6(0x874)!==_0x20c25e);}async[_0xab329a(0x4b7)](_0x90b2b6){const _0x24db64=_0xab329a;await this[_0x24db64(0x6cd)]();const _0x4297bd=await this[_0x24db64(0xb1c)][_0x24db64(0xb1b)](),_0x4fa982={'sourceId':this[_0x24db64(0x242)]['getId'](),'destinationIds':[_0x90b2b6],'propagate':!0x0,'messageType':_0x18b589[_0x24db64(0xb65)],'content':{'type':_0x8a5c45[_0x24db64(0x8d8)],'label':this[_0x24db64(0x4b1)],'mmrRoot':_0x4297bd}};this[_0x24db64(0x2f3)]['publish'](_0x4fa982);}async['buildInitialMMR'](){const _0x2cf800=_0xab329a;if(!this[_0x2cf800(0x2af)])throw new _0x227d3a(_0x227d3a[_0x2cf800(0x821)][_0x2cf800(0x8e0)]);this[_0x2cf800(0x54e)]=await this[_0x2cf800(0x2af)][_0x2cf800(0x9e5)](),this[_0x2cf800(0x54e)][_0x2cf800(0x32a)](this[_0x2cf800(0x92c)]),this['mmr']=new _0x277275(),this[_0x2cf800(0x335)]=new Map();for(const _0x1971e9 of this[_0x2cf800(0x54e)])this[_0x2cf800(0x1e7)](_0x1971e9,this[_0x2cf800(0x54e)]['length']);this[_0x2cf800(0x51d)]();}async['appendTransactionAndUpdateHashMap'](_0x4cbe7d,_0x1d194a){const _0x235d00=_0xab329a,_0x1fc188={..._0x4cbe7d};delete _0x1fc188[_0x235d00(0x706)],await this['mmr'][_0x235d00(0x19f)](_0x1fc188,_0x1d194a);const _0x3f1692=await this['mmr'][_0x235d00(0x957)](_0x1fc188);this[_0x235d00(0x335)]['set'](_0x3f1692,_0x4cbe7d);}['getTransactionByHash'](_0x3dd2ab){const _0x259238=_0xab329a;return this[_0x259238(0x335)][_0x259238(0x153)](_0x3dd2ab);}[_0xab329a(0x2e6)](_0x12fe92,_0x394742){const _0x1b6976=_0xab329a;if(0x0!==_0x12fe92[_0x1b6976(0x1ae)])_0x12fe92['left']&&this['collectTransactionsFromNode'](_0x12fe92[_0x1b6976(0x2cf)],_0x394742),_0x12fe92[_0x1b6976(0x742)]&&this['collectTransactionsFromNode'](_0x12fe92[_0x1b6976(0x742)],_0x394742);else{const _0x1e96a3=this[_0x1b6976(0x833)](_0x12fe92[_0x1b6976(0x629)]);_0x1e96a3&&_0x394742[_0x1b6976(0x257)](_0x1e96a3);}}async[_0xab329a(0x78e)](){const _0x2e6ed9=_0xab329a;this[_0x2e6ed9(0x5ad)]&&(clearTimeout(this[_0x2e6ed9(0x5ad)]),delete this[_0x2e6ed9(0x5ad)],this[_0x2e6ed9(0xb11)]['length']>0x0&&(this[_0x2e6ed9(0x54e)]['push'](...this[_0x2e6ed9(0xb11)][_0x2e6ed9(0x32a)](this[_0x2e6ed9(0x92c)])),this['transactionsToAppend']=[]));const _0x31154c=this[_0x2e6ed9(0x1a7)]();this[_0x2e6ed9(0xb1c)]=new _0x277275(),this[_0x2e6ed9(0x335)][_0x2e6ed9(0x613)](),this['transactions'][_0x2e6ed9(0x32a)](this[_0x2e6ed9(0x92c)]);for(const _0x3dded8 of this[_0x2e6ed9(0x54e)])this[_0x2e6ed9(0x1e7)](_0x3dded8,this[_0x2e6ed9(0x54e)][_0x2e6ed9(0x4f0)]);await this[_0x2e6ed9(0xb1c)][_0x2e6ed9(0x50b)],this[_0x2e6ed9(0x84e)](_0x31154c);}['startLoggingCycle'](){const _0x1f9903=_0xab329a;return this[_0x1f9903(0x30c)][_0x1f9903(0x6f0)][_0x1f9903(0x58f)](async()=>{const _0x484afe=_0x1f9903,_0x471cc3=await this[_0x484afe(0xb1c)][_0x484afe(0xb1b)]();return{'startTime':Date[_0x484afe(0x4cb)](),'initialRoot':_0x471cc3};},Promise[_0x1f9903(0x278)]({'startTime':0x0,'initialRoot':''}));}async['logMMRRebuild'](_0x19b6a9){const _0x3d017b=_0xab329a;try{const {startTime:_0x47c022,initialRoot:_0x483b25}=await _0x19b6a9,_0x380670=await this[_0x3d017b(0xb1c)]['getRoot'](),_0x76a203=[_0x3d017b(0x34c)+(_0x483b25!==_0x380670),_0x3d017b(0x1b7)+_0x483b25,_0x3d017b(0x7fa)+_0x380670,_0x3d017b(0x2e0)+this[_0x3d017b(0xb1c)]['getTotalNodes'](),_0x3d017b(0x1b5)+(Date[_0x3d017b(0x4cb)]()-_0x47c022)+_0x3d017b(0x18e)][_0x3d017b(0xa75)]('\x20');this[_0x3d017b(0x30c)][_0x3d017b(0x6f0)][_0x3d017b(0x4ad)]('',()=>_0x76a203);}catch(_0x131d0c){console[_0x3d017b(0x28d)]('Error\x20during\x20MMR\x20rebuild\x20logging:',_0x131d0c);}}['debounceRebuildMMRWithTransaction'](_0x23fa3b){const _0x2fb898=_0xab329a;this[_0x2fb898(0xb11)][_0x2fb898(0x257)](_0x23fa3b),this['debounceRebuildMMR']&&(clearTimeout(this[_0x2fb898(0x5ad)]),delete this[_0x2fb898(0x5ad)]),this[_0x2fb898(0x5ad)]=setTimeout(()=>{const _0x70d286=_0x2fb898;this[_0x70d286(0x6cd)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x311fc6=_0xab329a;if(this[_0x311fc6(0x5ad)]&&(clearTimeout(this[_0x311fc6(0x5ad)]),delete this[_0x311fc6(0x5ad)]),0x0!==this[_0x311fc6(0xb11)][_0x311fc6(0x4f0)]){if(0x0===this[_0x311fc6(0x54e)][_0x311fc6(0x4f0)])return this[_0x311fc6(0x54e)]=this[_0x311fc6(0xb11)],this['transactionsToAppend']=[],await this[_0x311fc6(0x78e)]();if(this[_0x311fc6(0xb11)][_0x311fc6(0x32a)](this[_0x311fc6(0x92c)]),this[_0x311fc6(0x92c)](this['transactionsToAppend'][0x0],this[_0x311fc6(0x54e)][this[_0x311fc6(0x54e)]['length']-0x1])>0x0){this[_0x311fc6(0x30c)][_0x311fc6(0x6f0)][_0x311fc6(0x4ad)](_0x311fc6(0xb48)+this[_0x311fc6(0xb11)][_0x311fc6(0x4f0)]+_0x311fc6(0xaf6)+this[_0x311fc6(0x54e)]['length']);for(const _0x2ec6f9 of this[_0x311fc6(0xb11)])this[_0x311fc6(0x54e)][_0x311fc6(0x257)](_0x2ec6f9),this[_0x311fc6(0x1e7)](_0x2ec6f9,this[_0x311fc6(0xb11)][_0x311fc6(0x4f0)]);return this['transactionsToAppend']=[],void this['loggingCycle'][_0x311fc6(0x6f0)][_0x311fc6(0x4ad)](_0x311fc6(0x89a),async()=>_0x311fc6(0xb6f)+await this['mmr']['getRoot']()+_0x311fc6(0x72e)+this[_0x311fc6(0xb1c)][_0x311fc6(0x781)]());}this[_0x311fc6(0x30c)][_0x311fc6(0x6f0)][_0x311fc6(0x4ad)](_0x311fc6(0x393)+this['transactionsToAppend'][_0x311fc6(0x4f0)]+',\x20Transactions:\x20'+this[_0x311fc6(0x54e)][_0x311fc6(0x4f0)]),this['transactions'][_0x311fc6(0x257)](...this['transactionsToAppend']),this['transactionsToAppend']=[],this[_0x311fc6(0x78e)]();}}async[_0xab329a(0x4a3)](){const _0xc3ca83=_0xab329a;if(!_0x542377[_0xc3ca83(0x61e)](_0x59a34d[_0xc3ca83(0x832)]))return;await this['mmr'][_0xc3ca83(0x50b)];const {dataSent:_0x48db80,dataReceived:_0x25abcc}=this[_0xc3ca83(0x30c)]['getDataLogged']();_0x542377[_0xc3ca83(0x4ad)](_0x59a34d['KeyValueDatabase'],_0xc3ca83(0x7ee),this[_0xc3ca83(0x4b1)],'\x0a\x20===\x20Total\x20Data\x20Sent:\x20'+_0x48db80,_0xc3ca83(0x819)+_0x25abcc,'\x0a\x20===\x20Current\x20MMR\x20Root',await this[_0xc3ca83(0xb1c)][_0xc3ca83(0xb1b)](),_0xc3ca83(0x5d2),this[_0xc3ca83(0xb1c)][_0xc3ca83(0x781)]());}async[_0xab329a(0x51d)](){const _0x11534a=_0xab329a;if(!_0x542377['isChannelEnabled'](_0x59a34d[_0x11534a(0x832)]))return;const _0xfed8c9=this['mmr'][_0x11534a(0x9e2)](),_0x5e5472=_0xfed8c9[_0x11534a(0x591)](_0x584159=>_0x584159[_0x11534a(0x1ae)]),_0x42662a=await this['mmr'][_0x11534a(0xb1b)]();_0x542377[_0x11534a(0x4ad)](_0x59a34d[_0x11534a(0x832)],_0x11534a(0x14d),this[_0x11534a(0x54e)][_0x11534a(0x4f0)],_0x11534a(0x54e),this['mmr'][_0x11534a(0x781)](),_0x11534a(0x55d),_0xfed8c9['length'],_0x11534a(0x506),_0x5e5472,'root\x20hash:\x20',_0x42662a);}}const _0x15b02e=require('@crewdle/mist-connector-opfs'),_0x5942b7=require('@crewdle/mist-connector-indexed-db'),_0x2a72f7=require('@crewdle/mist-connector-webrtc-browser'),_0x4620b2=0x10000000;var _0x41971c,_0x1aff46,_0x4d3e94,_0x254707,_0xe51b23,_0xc8c151,_0x587caf,_0xfaafbc,_0x1b9fbb;!function(_0x60554a){const _0x588442=_0xab329a;_0x60554a['AudioContext']=_0x588442(0x1d4),_0x60554a[_0x588442(0x7b4)]=_0x588442(0x7b4),_0x60554a[_0x588442(0x367)]=_0x588442(0x367),_0x60554a['Backgrounds']=_0x588442(0x8f4),_0x60554a[_0x588442(0x726)]='DeviceConfig',_0x60554a[_0x588442(0x7c1)]=_0x588442(0x7c1),_0x60554a[_0x588442(0x1b6)]=_0x588442(0x1b6),_0x60554a['ScreenSharing']=_0x588442(0x674),_0x60554a[_0x588442(0x240)]=_0x588442(0x240),_0x60554a[_0x588442(0x401)]=_0x588442(0x401);}(_0x41971c||(_0x41971c={}));class _0x37749e{[_0xab329a(0x614)];[_0xab329a(0x2a7)];[_0xab329a(0x5cf)];constructor(_0x19dbae=new Map(),_0x3f5f5f=new Map(),_0x3b9ace=new EventTarget()){const _0x496e0c=_0xab329a;this['registeredListeners']=_0x19dbae,this[_0x496e0c(0x2a7)]=_0x3f5f5f,this[_0x496e0c(0x5cf)]=_0x3b9ace;}[_0xab329a(0x292)]=(_0x2dafdd,_0x4ae2b3)=>this[_0xab329a(0x614)][_0xab329a(0x727)](_0x2dafdd)?(_0x542377['log'](_0x59a34d[_0xab329a(0xb25)],_0xab329a(0x50d),{'event':_0x2dafdd,'data':_0x4ae2b3}),this[_0xab329a(0x5cf)][_0xab329a(0x20c)](new CustomEvent(_0x2dafdd,{'detail':_0x4ae2b3})),!0x0):(this['bufferEvent'](_0x2dafdd,_0x4ae2b3),!0x1);['on']=(_0x1e9c3e,_0x244fa1)=>{const _0x54d215=_0xab329a,_0x21b79d=_0x148a65=>{const _0x5bdf97=a0_0x1b87;_0x542377[_0x5bdf97(0x4ad)](_0x59a34d['Events'],_0x5bdf97(0x764),_0x148a65['type'],_0x148a65[_0x5bdf97(0x96c)]),_0x244fa1(_0x148a65['detail']);};return this[_0x54d215(0x614)]['set'](_0x1e9c3e,_0x21b79d),this['eventTarget'][_0x54d215(0x9f0)](_0x1e9c3e,_0x21b79d),_0x542377['log'](_0x59a34d['Cluster'],_0x54d215(0x270),_0x1e9c3e,_0x244fa1),this[_0x54d215(0x413)](_0x1e9c3e),this;};[_0xab329a(0x839)](_0x41dd46){const _0x2ca5a4=_0xab329a;if(!_0x41dd46)return this['registeredListeners'][_0x2ca5a4(0xad2)]((_0x346558,_0x433937)=>{const _0x1c85bb=_0x2ca5a4;this[_0x1c85bb(0x5cf)]['removeEventListener'](_0x433937,_0x346558);}),void this[_0x2ca5a4(0x614)][_0x2ca5a4(0x613)]();_0x2ca5a4(0x816)==typeof _0x41dd46&&this['removeListener'](_0x41dd46),Array[_0x2ca5a4(0x4c7)](_0x41dd46)&&_0x41dd46['forEach'](_0x4b2a59=>{this['removeListener'](_0x4b2a59);});}[_0xab329a(0x2ad)](_0x5c0a99){const _0x47b5ba=_0xab329a,_0x288a8a=this[_0x47b5ba(0x614)]['get'](_0x5c0a99);_0x288a8a&&(this[_0x47b5ba(0x5cf)][_0x47b5ba(0x59f)](_0x5c0a99,_0x288a8a),this['registeredListeners']['delete'](_0x5c0a99));}[_0xab329a(0x9c2)](_0x495858,_0x14ff2a){const _0x50dbde=_0xab329a;_0x542377['log'](_0x59a34d[_0x50dbde(0xb25)],_0x50dbde(0x3f5),{'event':_0x495858,'data':_0x14ff2a});const _0x963295=this[_0x50dbde(0x2a7)][_0x50dbde(0x153)](_0x495858)||[];this['bufferedEvents'][_0x50dbde(0x4d1)](_0x495858,[..._0x963295,_0x14ff2a]);}[_0xab329a(0x413)](_0x46166f){const _0x48cf51=_0xab329a,_0x5ab214=this['bufferedEvents']['get'](_0x46166f);_0x5ab214&&(_0x5ab214[_0x48cf51(0xad2)](_0x16e09d=>{const _0xd76896=_0x48cf51;_0x542377['log'](_0x59a34d[_0xd76896(0xb25)],_0xd76896(0x6a0),{'event':_0x46166f,'data':_0x16e09d}),this[_0xd76896(0x5cf)][_0xd76896(0x20c)](new CustomEvent(_0x46166f,{'detail':_0x16e09d}));}),this[_0x48cf51(0x2a7)][_0x48cf51(0x425)](_0x46166f));}}class _0x1c71b9 extends Error{constructor(_0x4c28b2){const _0x1b41ab=_0xab329a;super(_0x1b41ab(0x441)+_0x4c28b2);}}!function(_0x291c68){const _0x51e6cb=_0xab329a;_0x291c68[_0x291c68[_0x51e6cb(0x58b)]=0x0]='Core',_0x291c68[_0x291c68[_0x51e6cb(0xb21)]=0x1]='Optimization';}(_0x1aff46||(_0x1aff46={})),function(_0x38e305){const _0x4b81c1=_0xab329a;_0x38e305[_0x38e305[_0x4b81c1(0x9ed)]=0x0]=_0x4b81c1(0x9ed),_0x38e305[_0x38e305[_0x4b81c1(0x343)]=0x1]='Answer',_0x38e305[_0x38e305[_0x4b81c1(0xb2f)]=0x2]='Handshake',_0x38e305[_0x38e305[_0x4b81c1(0x7ef)]=0x3]=_0x4b81c1(0x7ef),_0x38e305[_0x38e305[_0x4b81c1(0x4e5)]=0x4]=_0x4b81c1(0x4e5),_0x38e305[_0x38e305['Restart']=0x5]='Restart',_0x38e305[_0x38e305[_0x4b81c1(0x57f)]=0x6]=_0x4b81c1(0x57f),_0x38e305[_0x38e305[_0x4b81c1(0x52f)]=0x7]=_0x4b81c1(0x52f),_0x38e305[_0x38e305[_0x4b81c1(0x676)]=0x8]='OptimizationConnectionSuccess';}(_0x4d3e94||(_0x4d3e94={})),function(_0x431c8c){const _0x1023d7=_0xab329a;_0x431c8c[_0x431c8c[_0x1023d7(0x6e8)]=0x0]=_0x1023d7(0x6e8),_0x431c8c[_0x431c8c[_0x1023d7(0x6a8)]=0x1]=_0x1023d7(0x6a8);}(_0x254707||(_0x254707={})),function(_0x4e71b6){const _0x1dee0b=_0xab329a;_0x4e71b6[_0x1dee0b(0x7c1)]='media-stream';}(_0xe51b23||(_0xe51b23={})),function(_0x2d6f91){const _0x42a668=_0xab329a;_0x2d6f91[_0x2d6f91[_0x42a668(0x8ea)]=0x0]=_0x42a668(0x8ea),_0x2d6f91[_0x2d6f91[_0x42a668(0xaa8)]=0x1]=_0x42a668(0xaa8),_0x2d6f91[_0x2d6f91['NodeConnectionsUpdate']=0x2]=_0x42a668(0x804),_0x2d6f91[_0x2d6f91[_0x42a668(0x960)]=0x3]=_0x42a668(0x960);}(_0xc8c151||(_0xc8c151={})),function(_0x12626d){const _0x10e5d1=_0xab329a;_0x12626d[_0x12626d[_0x10e5d1(0x387)]=0x0]=_0x10e5d1(0x387),_0x12626d[_0x12626d[_0x10e5d1(0x349)]=0x1]=_0x10e5d1(0x349);}(_0x587caf||(_0x587caf={})),function(_0x2d112b){const _0x3fd53c=_0xab329a;_0x2d112b[_0x3fd53c(0x6ad)]=_0x3fd53c(0x2ff),_0x2d112b[_0x3fd53c(0x9a0)]=_0x3fd53c(0x3a3);}(_0xfaafbc||(_0xfaafbc={})),function(_0x425f35){const _0x50fec7=_0xab329a;_0x425f35['Resolution']=_0x50fec7(0x905),_0x425f35['Bitrate']=_0x50fec7(0x652);}(_0x1b9fbb||(_0x1b9fbb={}));const _0x2883b7=require('aws-amplify'),_0x2a35c2=require('aws-amplify/utils'),_0x384aa=require('@aws-amplify/api'),_0x539ad6=require('@aws-amplify/core');class _0x14d068{[_0xab329a(0x48a)];[_0xab329a(0x242)];[_0xab329a(0x62c)];constructor(_0x3ef2b7,_0x581065,_0x3e71fb){const _0x4b673d=_0xab329a;this[_0x4b673d(0x48a)]=_0x3ef2b7,this['localNode']=_0x581065,this['remoteId']=_0x3e71fb;}[_0xab329a(0x183)](){const _0x2aeb71=_0xab329a;return this['localNode'][_0x2aeb71(0x7a4)]();}['getRemoteId'](){const _0x29a3d6=_0xab329a;return this[_0x29a3d6(0x62c)];}}var _0x7d703a,_0x28421c,_0x2e8f07;function _0x3d9536(_0x5af8e6,_0x31f263){return _0x5af8e6['sourceId']===_0x31f263;}function _0x4e23d0(_0x54bc0d,_0x4164b2){const _0x2921e5=_0xab329a;return _0x54bc0d[_0x2921e5(0x268)]?.[_0x2921e5(0xb4e)](_0x4164b2)??function(_0xbcfc30){return void 0x0===_0xbcfc30['destinationIds'];}(_0x54bc0d);}function _0x584f90(_0x96932f,{contentType:_0x39e9d2,label:_0x34f0d5,remoteId:_0x5f324c}){return _0x96932f+'-'+_0x39e9d2+'-'+_0x34f0d5+'-'+_0x5f324c;}function _0x43efe5(_0x1e6c5e,_0x53832c,_0x60fca5){return''+_0x1e6c5e+_0x53832c+_0x60fca5;}function _0x4eb611(_0x5863dd){const _0x2f23aa=_0xab329a;return _0x5863dd===_0x28421c[_0x2f23aa(0xa16)]?'IncomingSubscription':'OutgoingSubscription';}function _0x3fffa9(_0x458d37,_0x2f53d4){const _0x3bd87d=_0xab329a;return{'label':_0x458d37[_0x3bd87d(0xb50)](),'contentType':_0x458d37[_0x3bd87d(0x552)](),'remoteId':_0x2f53d4[_0x3bd87d(0xb00)](),'supportsContentType':_0x2f53d4[_0x3bd87d(0x282)]()[_0x3bd87d(0xb4e)](_0x458d37[_0x3bd87d(0x552)]())};}!function(_0x3f2628){const _0x20011a=_0xab329a;_0x3f2628[_0x3f2628[_0x20011a(0x491)]=0x0]=_0x20011a(0x491),_0x3f2628[_0x3f2628['Accepted']=0x1]=_0x20011a(0xb04),_0x3f2628[_0x3f2628['Rejected']=0x2]=_0x20011a(0x97e);}(_0x7d703a||(_0x7d703a={})),function(_0x66b8ac){const _0x3d569a=_0xab329a;_0x66b8ac[_0x3d569a(0xa16)]='in',_0x66b8ac[_0x3d569a(0x3a9)]='out';}(_0x28421c||(_0x28421c={}));class _0x430088{['callback'];['retryCallback'];constructor(_0xb86033,_0x2e100d){this['callback']=_0xb86033,this['retryCallback']=_0x2e100d;}[_0xab329a(0x894)](_0x229c24){this['callback'](_0x229c24);}async[_0xab329a(0xb1d)](){await this['retryCallback']();}}class _0x49ec24{[_0xab329a(0x476)];[_0xab329a(0x67c)];constructor(_0x48c08d,_0x3c7372){const _0xee1d95=_0xab329a;this[_0xee1d95(0x476)]=_0x48c08d,this[_0xee1d95(0x67c)]=_0x3c7372;}async[_0xab329a(0x894)](_0x234c53){const _0x4db284=_0xab329a;await this[_0x4db284(0x476)](_0x234c53);}async['wait'](){await this['retryCallback']();}}function _0x4f0362(_0x11c572=()=>{},_0x2ae03c=()=>!0x1,_0x1e3e39=()=>{}){let _0x3a9aef,_0x271f8a,_0x1bc09a=0x0;return{get 'size'(){return _0x1bc09a;},get 'head'(){return _0x3a9aef;},get 'tail'(){return _0x271f8a;},set 'head'(_0x429691){_0x3a9aef=_0x429691;},set 'tail'(_0x423a02){_0x271f8a=_0x423a02;},'push'(_0x1425e7,_0x33b7fb=!0x0){const _0xb09fe5=a0_0x1b87,_0x53e620={'value':_0x1425e7};_0x33b7fb&&_0x2ae03c(_0x53e620)?_0x11c572():(_0x271f8a&&(_0x53e620['previous']=_0x271f8a,_0x271f8a[_0xb09fe5(0x9a1)]=_0x53e620),_0x271f8a=_0x53e620,_0x3a9aef||(_0x3a9aef=_0x53e620),_0x1bc09a+=0x1,_0x33b7fb&&_0x11c572());},'pop'(){const _0x299e43=a0_0x1b87;if(!_0x271f8a)return;const _0x21fb46=_0x271f8a['value'];return _0x271f8a=_0x271f8a[_0x299e43(0x97a)],_0x271f8a&&delete _0x271f8a[_0x299e43(0x9a1)],_0x271f8a||(_0x3a9aef=void 0x0),_0x1bc09a-=0x1,_0x21fb46;},'unshift'(_0x146e7a,_0xcb13ec=!0x0){const _0x37ce39=a0_0x1b87,_0x42b974={'value':_0x146e7a};_0xcb13ec&&_0x2ae03c(_0x42b974)?_0x11c572():(_0x3a9aef&&(_0x3a9aef[_0x37ce39(0x97a)]=_0x42b974,_0x42b974[_0x37ce39(0x9a1)]=_0x3a9aef),_0x3a9aef=_0x42b974,_0x271f8a||(_0x271f8a=_0x42b974),_0x1bc09a+=0x1,_0xcb13ec&&_0x11c572());},'shift'(){const _0x475d84=a0_0x1b87;if(!_0x3a9aef)return;const _0x201add=_0x3a9aef['value'];return _0x3a9aef=_0x3a9aef[_0x475d84(0x9a1)],_0x3a9aef&&delete _0x3a9aef[_0x475d84(0x97a)],_0x3a9aef||(_0x271f8a=void 0x0),_0x1bc09a-=0x1,_0x201add;},'clear'(){_0x1e3e39(),_0x3a9aef=void 0x0,_0x271f8a=void 0x0,_0x1bc09a=0x0;}};}function _0x451ece(_0x5f1b42,_0x5d7d30=!0x1,_0x499958=()=>{},_0x114617=()=>!0x1,_0x476e7b=()=>{}){let _0x579a5c=!0x1;const _0x131609=_0x4f0362(async function(){const _0x212a3b=a0_0x1b87;if(!_0x579a5c){for(_0x579a5c=!0x0;_0x131609[_0x212a3b(0x7d1)];){const _0x3481bc=_0x131609['shift']();if(_0x3481bc)try{_0x5f1b42 instanceof _0x430088&&_0x5f1b42[_0x212a3b(0x894)](_0x3481bc),_0x5f1b42 instanceof _0x49ec24&&await _0x5f1b42[_0x212a3b(0x894)](_0x3481bc),_0x499958(_0x3481bc);}catch(_0x4e70dc){_0x5d7d30?_0x131609[_0x212a3b(0x257)](_0x3481bc,!0x1):_0x131609[_0x212a3b(0x671)](_0x3481bc,!0x1),await _0x5f1b42['wait']();}}_0x579a5c=!0x1;}},_0x114617,_0x476e7b);return _0x131609;}class _0x4971f1 extends _0x14d068{[_0xab329a(0x3e1)];[_0xab329a(0x8f5)];['connectionState']=_0x384aa[_0xab329a(0x41c)][_0xab329a(0xb73)];[_0xab329a(0x8d1)]=_0x2aef8c();[_0xab329a(0x767)]=_0x41f17b();[_0xab329a(0x6ce)];[_0xab329a(0x577)];[_0xab329a(0x932)]=_0x451ece(new _0x49ec24(this['sendAction'][_0xab329a(0x5b5)](this),this[_0xab329a(0x747)][_0xab329a(0x5b5)](this)));[_0xab329a(0xa33)];constructor(_0x577612,_0x56556f,_0x44bac3,_0x31a2d8,_0x38dad4){const _0xb8341b=_0xab329a;super(_0x56556f,_0x44bac3,_0x31a2d8),this[_0xb8341b(0x3e1)]=_0x577612,this['authService']=_0x38dad4;}async[_0xab329a(0x7c2)](){const _0x2a93c3=_0xab329a;try{const _0x1c3941={'getTokens':async()=>{const _0x4d5405=a0_0x1b87,_0x141abe=await this[_0x4d5405(0x8f5)]['getIdToken']();return{'accessToken':(0x0,_0x539ad6['decodeJWT'])(_0x141abe),'idToken':(0x0,_0x539ad6[_0x4d5405(0x3ee)])(_0x141abe)};}};_0x2883b7['Amplify'][_0x2a93c3(0x41d)]({'API':{'GraphQL':{'endpoint':_0x5d8dc2[_0x2a93c3(0x445)][_0x2a93c3(0x92b)],'region':_0x5d8dc2[_0x2a93c3(0x445)][_0x2a93c3(0x7ea)],'defaultAuthMode':_0x2a93c3(0xa81)}}},{'Auth':{'tokenProvider':_0x1c3941}});const _0x5cc7f2=(0x0,_0x384aa[_0x2a93c3(0x52a)])();this[_0x2a93c3(0xa33)]=_0x5cc7f2,await this[_0x2a93c3(0x94e)](),this[_0x2a93c3(0x577)]=_0x2a35c2[_0x2a93c3(0x881)][_0x2a93c3(0x97c)]('api',async({payload:_0x58206a})=>{const _0x1ac685=_0x2a93c3;if(_0x58206a[_0x1ac685(0x65a)]===_0x384aa[_0x1ac685(0x25b)]){const _0x2be82d=_0x58206a['data'];this[_0x1ac685(0x317)]=_0x2be82d[_0x1ac685(0x317)],this['connectionStateListener'][_0x1ac685(0x75d)](_0x2be82d['connectionState']),this['connectionState']===_0x384aa[_0x1ac685(0x41c)]['Disconnected']?(_0x542377[_0x1ac685(0x28d)](_0x1ac685(0xaca),{'clusterId':this[_0x1ac685(0x48a)],'nodeId':this[_0x1ac685(0x183)](),'nodeType':this[_0x1ac685(0x242)]['type']}),this[_0x1ac685(0xace)](),this[_0x1ac685(0x7c2)]()):this['connectionState']===_0x384aa['ConnectionState'][_0x1ac685(0x53e)]?_0x542377[_0x1ac685(0x396)]('appsync-connect',{'clusterId':this['clusterId'],'nodeId':this[_0x1ac685(0x183)](),'nodeType':this[_0x1ac685(0x242)][_0x1ac685(0x539)]}):_0x542377['warning'](_0x1ac685(0x6c4),{'clusterId':this[_0x1ac685(0x48a)],'nodeId':this[_0x1ac685(0x183)](),'nodeType':this[_0x1ac685(0x242)][_0x1ac685(0x539)],'data':{'state':_0x2be82d['connectionState']}});}});}catch(_0x9a8af5){_0x542377[_0x2a93c3(0x28d)](_0x2a93c3(0xadb),{'clusterId':this[_0x2a93c3(0x48a)],'nodeId':this[_0x2a93c3(0x183)](),'nodeType':this[_0x2a93c3(0x242)][_0x2a93c3(0x539)]});}}['close'](){const _0x1a313d=_0xab329a;_0x542377['warning'](_0x1a313d(0x3ca),{'clusterId':this[_0x1a313d(0x48a)],'nodeId':this[_0x1a313d(0x183)](),'nodeType':this[_0x1a313d(0x242)][_0x1a313d(0x539)]}),this[_0x1a313d(0x932)]['clear'](),this[_0x1a313d(0x577)]?.(),this[_0x1a313d(0x6ce)]?.['unsubscribe'](),delete this['subscription'];}[_0xab329a(0x6f5)](){const _0x530c29=_0xab329a;return this[_0x530c29(0x317)]===_0x384aa[_0x530c29(0x41c)]['Connected'];}[_0xab329a(0x872)](_0x372a1b){const _0x42aaf0=_0xab329a;this[_0x42aaf0(0x932)][_0x42aaf0(0x257)](_0x372a1b);}[_0xab329a(0x3d0)](_0x5ba1ba){const _0x43b181=_0xab329a;return this[_0x43b181(0x767)][_0x43b181(0x94e)](_0x5ba1ba);}[_0xab329a(0x282)](){const _0xfeb27b=_0xab329a;return[_0x1d89a1[_0xfeb27b(0x93a)][_0xfeb27b(0x4af)]];}async[_0xab329a(0x747)](){const _0x5e092c=_0xab329a;if(!this[_0x5e092c(0x6f5)]())return new Promise(_0x19bde3=>{const _0x3975e7=_0x5e092c,_0x4678d6=this['connectionStateListener'][_0x3975e7(0x94e)](_0x156bc0=>{const _0xec2f61=_0x3975e7;_0x156bc0===_0x384aa[_0xec2f61(0x41c)]['Connected']&&(_0x4678d6(),_0x19bde3());});});}async['sendAction'](_0xfda35f){const _0x4cbc7a=_0xab329a;if(this[_0x4cbc7a(0x317)]!==_0x384aa['ConnectionState'][_0x4cbc7a(0x53e)])throw new Error(_0x4cbc7a(0x20e));_0xfda35f['destinationIds']&&0x1===_0xfda35f[_0x4cbc7a(0x268)][_0x4cbc7a(0x4f0)]?await this[_0x4cbc7a(0x75d)](_0xfda35f[_0x4cbc7a(0x268)][0x0],JSON[_0x4cbc7a(0x56e)](_0xfda35f)):_0x542377[_0x4cbc7a(0x28d)](_0x4cbc7a(0x426),{'clusterId':this[_0x4cbc7a(0x48a)],'nodeId':this[_0x4cbc7a(0x183)](),'nodeType':this[_0x4cbc7a(0x242)]['type']});}async[_0xab329a(0x75d)](_0x3bb06f,_0x29ccce){const _0x4d4bb5=_0xab329a;if(!this[_0x4d4bb5(0xa33)])throw new Error(_0x4d4bb5(0x755));_0x542377[_0x4d4bb5(0x4ad)](_0x59a34d[_0x4d4bb5(0x15c)],_0x4d4bb5(0xae1),this[_0x4d4bb5(0x183)](),_0x29ccce),await this[_0x4d4bb5(0xa33)]['graphql']({'query':_0x4d4bb5(0x73d),'variables':{'name':await this[_0x4d4bb5(0x304)](_0x3bb06f),'data':_0x29ccce}});}async[_0xab329a(0x94e)](){const _0x32e239=_0xab329a;if(this['subscription'])return;if(!this[_0x32e239(0xa33)])throw new Error('AppSync\x20client\x20not\x20ready');_0x542377[_0x32e239(0x4ad)](_0x59a34d['Signaling'],_0x32e239(0x5a7),this[_0x32e239(0x183)]());const _0xaecd43=await this[_0x32e239(0xa33)][_0x32e239(0x51f)]({'query':_0x32e239(0x8de),'variables':{'name':await this[_0x32e239(0x304)]()},'authToken':await this[_0x32e239(0x8f5)]['getIdToken']()},{'Authorization':await this[_0x32e239(0x8f5)]['getIdToken']()});this[_0x32e239(0x6ce)]=_0xaecd43[_0x32e239(0x94e)]({'next':({data:_0x255f9f})=>{const _0x4cb223=_0x32e239,_0x5de68d=JSON[_0x4cb223(0x685)](_0x255f9f[_0x4cb223(0x94e)]['data']);!_0x3d9536(_0x5de68d,this[_0x4cb223(0x183)]())&&_0x4e23d0(_0x5de68d,this[_0x4cb223(0x183)]())&&this[_0x4cb223(0x767)][_0x4cb223(0x75d)](_0x5de68d);},'error':console[_0x32e239(0x4ad)]});}async[_0xab329a(0x304)](_0x505be1){const _0x29daeb=_0xab329a,_0x290b98=await crypto[_0x29daeb(0x1c5)]['digest'](_0x29daeb(0x98f),new TextEncoder()[_0x29daeb(0x1b1)](this[_0x29daeb(0x3e1)]+'-'+this[_0x29daeb(0x48a)]+'-'+(_0x505be1??this[_0x29daeb(0x183)]())));return Array[_0x29daeb(0x61d)](new Uint8Array(_0x290b98))[_0x29daeb(0x591)](_0x38f1e2=>_0x38f1e2[_0x29daeb(0x340)](0x10)[_0x29daeb(0x554)](0x2,'0'))['join']('');}}!function(_0x528cce){const _0x58097d=_0xab329a;_0x528cce[_0x528cce[_0x58097d(0xb2a)]=0x0]='Add',_0x528cce[_0x528cce[_0x58097d(0x49c)]=0x1]=_0x58097d(0x49c),_0x528cce[_0x528cce[_0x58097d(0xb17)]=0x2]=_0x58097d(0xb17),_0x528cce[_0x528cce['RemoteAdd']=0x3]=_0x58097d(0x2e7),_0x528cce[_0x528cce[_0x58097d(0x646)]=0x4]='RemoteRemove';}(_0x2e8f07||(_0x2e8f07={}));const _0x3df494='0',_0x413056='chunk',_0x22e636=_0x27874a,_0x593bea=0x60000;class _0x201fd8{[_0xab329a(0x48a)];[_0xab329a(0x242)];[_0xab329a(0x62c)];[_0xab329a(0x90f)];[_0xab329a(0x230)];[_0xab329a(0xac6)];[_0xab329a(0x879)];['dataChannel'];[_0xab329a(0x621)]=0x1;[_0xab329a(0x2f3)];[_0xab329a(0xb53)]=[];['pendingHandshakeCandidates']=[];[_0xab329a(0x30d)];constructor(_0x38e14a,_0x1d6f4a,_0x48b474,_0x1c7ae0,_0x4668ca,_0x990801){const _0x2ca05d=_0xab329a;this['clusterId']=_0x38e14a,this[_0x2ca05d(0x242)]=_0x1d6f4a,this[_0x2ca05d(0x62c)]=_0x48b474,this[_0x2ca05d(0x90f)]=_0x1c7ae0,this[_0x2ca05d(0x230)]=_0x4668ca,this[_0x2ca05d(0xac6)]=_0x990801,this[_0x2ca05d(0x879)]=new this[(_0x2ca05d(0xac6))]({'handshakeServers':this[_0x2ca05d(0x90f)]}),this[_0x2ca05d(0xa5a)]();}['close'](){const _0x2d8da3=_0xab329a;this[_0x2d8da3(0x99e)]();}[_0xab329a(0x249)](_0x469438){const _0x5d46a4=_0xab329a;this[_0x5d46a4(0x230)]=_0x469438;}async[_0xab329a(0xaef)](_0x348b42,_0x5e3c10){const _0x43b774=_0xab329a;if(_0x5e3c10===this['currentVersion'])for(const _0x4d89d2 of _0x348b42){if(!this[_0x43b774(0x879)][_0x43b774(0x209)])return this[_0x43b774(0x7ca)](_0x4d89d2);try{await this[_0x43b774(0x879)][_0x43b774(0x827)](_0x4d89d2);}catch(_0x29b414){this[_0x43b774(0x7ca)](_0x4d89d2);}}}[_0xab329a(0x6f5)](){const _0x23d233=_0xab329a;return this[_0x23d233(0x256)](),_0x23d233(0xa9a)===this[_0x23d233(0x879)]['connectionState']&&['connected',_0x23d233(0x917)]['includes'](this['connection'][_0x23d233(0xb3f)])&&_0x23d233(0x173)!==this[_0x23d233(0x879)][_0x23d233(0xa0b)]&&'open'===this['dataChannel']?.[_0x23d233(0xa99)];}['registerSystemPublisher'](_0x3d0d61){const _0x1eb4df=_0xab329a;this[_0x1eb4df(0x2f3)]=_0x3d0d61;}[_0xab329a(0x8e3)](){delete this['systemTopic'];}[_0xab329a(0x3d8)](_0x574b06){const _0x20386e=_0xab329a;this['stopConnection'](),this[_0x20386e(0x879)]=new this[(_0x20386e(0xac6))]({'handshakeServers':this[_0x20386e(0x90f)]}),_0x574b06?this[_0x20386e(0x621)]=_0x574b06:this[_0x20386e(0x621)]+=0x1,this[_0x20386e(0xa5a)]();}[_0xab329a(0x5f9)](){const _0x589b11=_0xab329a;this[_0x589b11(0x696)][_0x589b11(0xad2)](_0xd32be2=>{try{this['connection']['addCandidate'](_0xd32be2);}catch(_0x176872){}}),this[_0x589b11(0x696)]=[];}[_0xab329a(0x2a3)](_0x82ea24,_0x4827bf){const _0x255ed0=_0xab329a;if(!this[_0x255ed0(0x2f3)])throw new _0x227d3a(_0x227d3a[_0x255ed0(0x821)][_0x255ed0(0x3e7)],{'content':_0x82ea24});const _0x4f5f58={'sourceId':this[_0x255ed0(0x242)][_0x255ed0(0x7a4)](),'destinationIds':[this[_0x255ed0(0x62c)]],'propagate':this[_0x255ed0(0x230)]!==_0x1aff46[_0x255ed0(0x58b)],'retry':this[_0x255ed0(0x230)]!==_0x1aff46[_0x255ed0(0x58b)],'messageType':_0x18b589['PeerConnection'],'content':_0x82ea24};_0x4827bf&&(_0x4f5f58[_0x255ed0(0x5de)]=_0x4827bf),this['systemTopic'][_0x255ed0(0x75d)](_0x4f5f58);}[_0xab329a(0xa5a)](){const _0x1ddce9=_0xab329a;this['connection']['onGatheringStateChange']=()=>{const _0x304f03=a0_0x1b87;_0x304f03(0x5f5)===this['connection'][_0x304f03(0x2a1)]&&this[_0x304f03(0xb53)]['length']>0x0&&(this['handshakeDebounce']&&clearTimeout(this[_0x304f03(0x30d)]),this[_0x304f03(0x30d)]=setTimeout(()=>{const _0x2ebb97=_0x304f03;delete this[_0x2ebb97(0x30d)],this[_0x2ebb97(0xa09)](),this[_0x2ebb97(0xb53)]=[];},0x1f4));},this[_0x1ddce9(0x879)][_0x1ddce9(0x9ce)]=_0x39223e=>{const _0x3448be=_0x1ddce9;_0x39223e['candidate']&&this['handshakeCandidates'][_0x3448be(0x257)](_0x39223e['candidate']);};}[_0xab329a(0x99e)](){const _0x7ed3ff=_0xab329a;clearTimeout(this[_0x7ed3ff(0x30d)]),delete this['handshakeDebounce'],this[_0x7ed3ff(0xb53)]=[],this['pendingHandshakeCandidates']=[],this[_0x7ed3ff(0x6fc)]&&(this[_0x7ed3ff(0x6fc)][_0x7ed3ff(0x3d0)]=null,this[_0x7ed3ff(0x6fc)][_0x7ed3ff(0x63f)]=null,this[_0x7ed3ff(0x6fc)][_0x7ed3ff(0xace)](),delete this[_0x7ed3ff(0x6fc)]),this[_0x7ed3ff(0x879)][_0x7ed3ff(0xa4f)]=null,this[_0x7ed3ff(0x879)][_0x7ed3ff(0x9ce)]=null,this[_0x7ed3ff(0x879)][_0x7ed3ff(0x21d)]=null,this[_0x7ed3ff(0x879)][_0x7ed3ff(0xaf4)]=null,this['connection'][_0x7ed3ff(0x4c1)]=null,this[_0x7ed3ff(0x879)][_0x7ed3ff(0x7d2)]=null,this[_0x7ed3ff(0x879)][_0x7ed3ff(0xace)]();}[_0xab329a(0x7ca)](_0x3d9cb6){const _0x2b1db2=_0xab329a;this[_0x2b1db2(0x696)][_0x2b1db2(0x257)](_0x3d9cb6);}['logConnectionState'](){const _0x574130=_0xab329a;_0x542377[_0x574130(0x4ad)](_0x59a34d['ConnectionState'],_0x574130(0x4b3),{'localId':this[_0x574130(0x242)][_0x574130(0x7a4)](),'remoteId':this[_0x574130(0x62c)],'connectionState':this[_0x574130(0x879)]['connectionState'],'handshakeState':this['connection'][_0x574130(0xb3f)],'signalingState':this[_0x574130(0x879)][_0x574130(0xa0b)],'dataChannelState':this[_0x574130(0x6fc)]?.[_0x574130(0xa99)]});}}function _0x2916b0(_0x2dc6a4,_0x48fb8e){const _0x1515a1=_0xab329a;_0x48fb8e['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x1515a1(0xad0)],'content':_0x2dc6a4});}class _0x23feef{static ['instance'];[_0xab329a(0x573)]=[];[_0xab329a(0x5d1)];constructor(){setInterval(()=>{const _0x47f2ad=a0_0x1b87;this[_0x47f2ad(0x573)][_0x47f2ad(0xad2)](_0x597cd1=>{const _0xe01248=_0x47f2ad;if(Date['now']()-_0x597cd1[_0xe01248(0x31c)]>_0x597cd1[_0xe01248(0x596)]){try{_0x597cd1[_0xe01248(0x476)]();}catch(_0x31b03f){}_0x597cd1[_0xe01248(0x31c)]=Date[_0xe01248(0x4cb)]();}});},0x64);}static[_0xab329a(0x188)](){const _0x5927d5=_0xab329a;return _0x23feef['instance']||(_0x23feef[_0x5927d5(0xa7f)]=new _0x23feef()),_0x23feef['instance'];}[_0xab329a(0x576)](_0x2e3c72){const _0x59de85=_0xab329a,_0x8848a4=this[_0x59de85(0x23e)](_0x2e3c72),_0x439529=_0x2e3c72[_0x59de85(0xac1)]();_0x439529&&_0x8848a4&&(_0x439529['gain']['value']=0.001,_0x8848a4[_0x59de85(0x7c2)](_0x439529),_0x439529[_0x59de85(0x7c2)](_0x2e3c72[_0x59de85(0xb60)]),_0x8848a4[_0x59de85(0x60c)]());}[_0xab329a(0x14a)](){const _0x3ee83d=_0xab329a;this['source']&&(this[_0x3ee83d(0x5d1)][_0x3ee83d(0x46d)](),this['source']['disconnect'](),this[_0x3ee83d(0x5d1)]=void 0x0);}[_0xab329a(0xb1d)](_0x2582b1){return new Promise(_0x2e34af=>{setTimeout(_0x2e34af,_0x2582b1);});}[_0xab329a(0x9f4)](_0x936332,_0x4d7185){const _0x5f805f=_0xab329a;return this[_0x5f805f(0x573)][_0x5f805f(0x257)]({'callback':_0x936332,'interval':_0x4d7185,'lastExecuted':Date[_0x5f805f(0x4cb)]()}),()=>{const _0x1ac639=_0x5f805f;this[_0x1ac639(0x573)]=this['parameters'][_0x1ac639(0x2b3)](_0x1a2b1b=>_0x1a2b1b[_0x1ac639(0x476)]!==_0x936332);};}[_0xab329a(0x23e)](_0x51573e){const _0x4721a3=_0xab329a;if(_0x51573e[_0x4721a3(0x23e)])return _0x51573e[_0x4721a3(0x23e)]();const _0x2eb08d=_0x51573e[_0x4721a3(0x4a7)](),_0x3282bb=_0x51573e['createBuffer'](0x1,0x1,_0x51573e[_0x4721a3(0x5db)]);return _0x3282bb[_0x4721a3(0x3a6)](0x0)[0x0]=0xa,_0x2eb08d[_0x4721a3(0x182)]=_0x3282bb,_0x2eb08d[_0x4721a3(0x33f)]=!0x0,_0x2eb08d;}}const _0x3b46ce=_0x23feef[_0xab329a(0x188)]();class _0x4eb3ec extends _0x201fd8{[_0xab329a(0x95f)]=_0x2aef8c();['trackCallback']=_0x2aef8c();[_0xab329a(0x877)]=_0x2aef8c();['receivers']=new Map();['chunks']=new Map();[_0xab329a(0x1a0)];['messagesReceived']=0x0;['systemMessagesReceived']={'messages':{'total':0x0}};[_0xab329a(0xb0c)]=0x0;[_0xab329a(0x22d)]=0x0;[_0xab329a(0x30c)]=_0x146bef('ReceiverPeerConnection.onMessage',_0x59a34d[_0xab329a(0x5f7)]);[_0xab329a(0xace)](){const _0x2b0aed=_0xab329a;this[_0x2b0aed(0x5ae)](),this[_0x2b0aed(0x92e)][_0x2b0aed(0x613)](),super[_0x2b0aed(0xace)]();}async[_0xab329a(0xb74)](_0x1841c4,_0x55fbe9){const _0x515b8e=_0xab329a;this[_0x515b8e(0x621)]=_0x55fbe9,this[_0x515b8e(0x5ae)]();const _0x53e9c4=await this[_0x515b8e(0x879)][_0x515b8e(0x402)](_0x1841c4);this[_0x515b8e(0x5f9)]();const _0x2b6b37=(0x0,_0x3aba3d['v4'])();this[_0x515b8e(0x2a3)]({'type':_0x4d3e94[_0x515b8e(0x343)],'answer':_0x53e9c4,'version':_0x55fbe9,'connectionType':this['connectionType']},_0x2b6b37),this['connectionType']===_0x1aff46['Core']&&(this['waitSuccess']=_0x3b46ce[_0x515b8e(0x9f4)](()=>{const _0x52c3b3=_0x515b8e;this[_0x52c3b3(0x2a3)]({'type':_0x4d3e94['Answer'],'answer':_0x53e9c4,'version':_0x55fbe9,'connectionType':this[_0x52c3b3(0x230)]},_0x2b6b37);},0x1388));}[_0xab329a(0xb54)](){const _0x44a244=_0xab329a;this[_0x44a244(0x5ae)]();}[_0xab329a(0x52d)](_0x2df7b3){const _0x5ab59f=_0xab329a;this[_0x5ab59f(0x3d8)](_0x2df7b3),this[_0x5ab59f(0x2a3)]({'type':_0x4d3e94[_0x5ab59f(0x70f)]});}async[_0xab329a(0x944)](){const _0xaabdb9=_0xab329a;this[_0xaabdb9(0x2f3)]&&(await this['connection']['collectReceiversStats'](this[_0xaabdb9(0x92e)],(_0x35accc,_0x569dcd)=>{const _0xdbff5e=_0xaabdb9;_0x2916b0({'type':_0x4d3e94[_0xdbff5e(0x52f)],'streamId':_0x569dcd,'nodeId':this[_0xdbff5e(0x62c)],'stats':_0x35accc},this[_0xdbff5e(0x2f3)]);}),this[_0xaabdb9(0x2f3)][_0xaabdb9(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0xaabdb9(0xad0)],'content':{'type':_0x4d3e94[_0xaabdb9(0x52f)],'nodeId':this[_0xaabdb9(0x62c)],'stats':{'origin':_0x254707[_0xaabdb9(0x6a8)],'timestamp':Date[_0xaabdb9(0x4cb)](),'messagesReceived':this[_0xaabdb9(0x574)],'bytesReceived':this[_0xaabdb9(0xb0c)],'timeReceiving':this['timeReceiving'],'systemMessages':this[_0xaabdb9(0x2bc)]}}}));}[_0xab329a(0x3d0)](_0x59d5f0){const _0x2661e7=_0xab329a;return _0x5d8dc2['isProduction']?this['messageCallback'][_0x2661e7(0x94e)](_0x59d5f0):this[_0x2661e7(0x95f)][_0x2661e7(0x94e)](_0x495798=>{const _0x25f2c7=_0x2661e7;0x0===_0x495798[_0x25f2c7(0x982)]&&_0x495798[_0x25f2c7(0x47d)]===_0x18b589[_0x25f2c7(0xb65)]&&this[_0x25f2c7(0x30c)][_0x25f2c7(0x6f0)][_0x25f2c7(0x4ad)](_0x25f2c7(0x6e5)+this[_0x25f2c7(0x62c)],()=>_0x4ce5fd(_0x495798)),_0x59d5f0(_0x495798);});}[_0xab329a(0x4c1)](_0x50bb26){const _0x53ac6a=_0xab329a;return this[_0x53ac6a(0x522)][_0x53ac6a(0x94e)](({track:_0xbf950d,stream:_0x5ba8f0})=>_0x50bb26(_0xbf950d,_0x5ba8f0));}[_0xab329a(0x205)](_0x4bbb97){const _0x4d0dda=_0xab329a;return this[_0x4d0dda(0x877)][_0x4d0dda(0x94e)](({track:_0x5e7f57,stream:_0x3f248a})=>_0x4bbb97(_0x5e7f57,_0x3f248a));}[_0xab329a(0x3d8)](_0xa3db93){const _0x3e81f0=_0xab329a;this[_0x3e81f0(0x5ae)](),this['receivers'][_0x3e81f0(0xad2)](_0x3f3722=>{const _0x39fb74=_0x3e81f0;_0x3f3722[_0x39fb74(0x613)]();}),super[_0x3e81f0(0x3d8)](_0xa3db93);}[_0xab329a(0xa09)](){const _0x321fb9=_0xab329a;this[_0x321fb9(0x2a3)]({'type':_0x4d3e94['Handshake'],'candidates':this[_0x321fb9(0xb53)],'origin':_0x254707[_0x321fb9(0x6a8)],'version':this['currentVersion'],'connectionType':this['connectionType']});}[_0xab329a(0xa5a)](){const _0x544cb5=_0xab329a;super[_0x544cb5(0xa5a)](),this['connection']['onTrack']=_0x3786c1=>{const _0x4cde17=_0x544cb5;_0x542377['log'](_0x59a34d['Connection'],_0x4cde17(0xb4c),this[_0x4cde17(0x242)]['getId'](),_0x3786c1),_0x3786c1[_0x4cde17(0xb6e)][0x0][_0x4cde17(0x998)]=_0x2b19bc=>{const _0x251db4=_0x4cde17;this[_0x251db4(0x92e)][_0x251db4(0x153)](_0x3786c1[_0x251db4(0xb6e)][0x0]['id'])?.[_0x251db4(0x425)](_0x2b19bc[_0x251db4(0x8cf)]),0x0===this[_0x251db4(0x92e)][_0x251db4(0x153)](_0x3786c1['streams'][0x0]['id'])?.[_0x251db4(0xa86)]&&this[_0x251db4(0x92e)]['delete'](_0x3786c1['streams'][0x0]['id']),this[_0x251db4(0x877)][_0x251db4(0x75d)]({'track':_0x2b19bc[_0x251db4(0x8cf)],'stream':_0x3786c1[_0x251db4(0xb6e)][0x0]});},this[_0x4cde17(0x92e)]['has'](_0x3786c1['streams'][0x0]['id'])||this[_0x4cde17(0x92e)]['set'](_0x3786c1[_0x4cde17(0xb6e)][0x0]['id'],new Set()),this[_0x4cde17(0x92e)][_0x4cde17(0x153)](_0x3786c1['streams'][0x0]['id'])[_0x4cde17(0x232)](_0x3786c1['track']),this[_0x4cde17(0x522)]['publish']({'track':_0x3786c1[_0x4cde17(0x8cf)],'stream':_0x3786c1[_0x4cde17(0xb6e)][0x0]});},this[_0x544cb5(0x879)]['onDataChannel']=_0xee27=>{const _0x374176=_0x544cb5;this[_0x374176(0x6fc)]=_0xee27[_0x374176(0xa04)],this[_0x374176(0x6fc)][_0x374176(0x3d0)]=_0xd5c233=>{const _0xc4e3a=_0x374176;if(_0xd5c233['data']!==_0x3df494)this[_0xc4e3a(0x408)](_0xd5c233[_0xc4e3a(0x62e)]);else{if(!this[_0xc4e3a(0x6fc)])return void _0x542377['error'](_0xc4e3a(0xa5f),{'clusterId':this[_0xc4e3a(0x48a)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0xc4e3a(0x242)]['type'],'remoteId':this[_0xc4e3a(0x62c)],'data':{'connection':_0xc4e3a(0x4e6)}});if(_0xc4e3a(0x996)!==this[_0xc4e3a(0x6fc)][_0xc4e3a(0xa99)])return;this['dataChannel']['send']('1');}};};}['handleOnMessage'](_0x1ea070){const _0x5c47f4=_0xab329a;if(_0x5c47f4(0x816)==typeof _0x1ea070&&_0x1ea070[_0x5c47f4(0xb20)](_0x413056))return this['messagesReceived']+=0x1,this[_0x5c47f4(0xb0c)]+=_0x1ea070[_0x5c47f4(0x4f0)],this[_0x5c47f4(0x74a)](_0x1ea070);setTimeout(()=>{const _0x3f36d2=_0x5c47f4,_0x3bfee6=Date[_0x3f36d2(0x4cb)]();let _0x9230cf;if((_0x1ea070 instanceof ArrayBuffer||_0x1ea070[_0x3f36d2(0x4f0)]<=_0x22e636)&&(this[_0x3f36d2(0x574)]+=0x1,this[_0x3f36d2(0xb0c)]+=_0x1ea070 instanceof ArrayBuffer?_0x1ea070[_0x3f36d2(0x790)]:_0x1ea070['length']),_0x1ea070 instanceof ArrayBuffer){const [_0x1faf0c,_0x30fb1c]=this[_0x3f36d2(0x26d)](_0x1ea070);_0x9230cf=_0x1faf0c,_0x9230cf[_0x3f36d2(0xa98)][_0x3f36d2(0x62e)]=_0x30fb1c;}else _0x9230cf=JSON[_0x3f36d2(0x685)](_0x1ea070);if(0x0===_0x9230cf[_0x3f36d2(0x982)]){this[_0x3f36d2(0x2bc)]['messages'][_0x3f36d2(0x344)]+=0x1;const {systemMessageType:_0x52cda1,systemContentMessageType:_0x12d137}=_0x4ce5fd(_0x9230cf);this[_0x3f36d2(0x2bc)][_0x52cda1]||(this[_0x3f36d2(0x2bc)][_0x52cda1]={[_0x12d137]:0x0}),this['systemMessagesReceived'][_0x52cda1][_0x12d137]||(this['systemMessagesReceived'][_0x52cda1][_0x12d137]=0x0),this[_0x3f36d2(0x2bc)][_0x52cda1][_0x3f36d2(0x344)]||(this[_0x3f36d2(0x2bc)][_0x52cda1][_0x3f36d2(0x344)]=0x0),this[_0x3f36d2(0x2bc)][_0x52cda1][_0x12d137]+=0x1,this[_0x3f36d2(0x2bc)][_0x52cda1][_0x3f36d2(0x344)]+=0x1;}this['messageCallback']['publish'](_0x9230cf),this[_0x3f36d2(0x22d)]+=Date[_0x3f36d2(0x4cb)]()-_0x3bfee6;},0x0);}[_0xab329a(0x74a)](_0x2d6368){const _0x4f7fc2=_0xab329a,_0x4faa37=_0x2d6368[_0x4f7fc2(0xb12)](';'),_0x195432=_0x4faa37[0x1],_0x224b5a=parseInt(_0x4faa37[0x2],0xa),_0x412631=parseInt(_0x4faa37[0x3],0xa),_0x1f3ff6=_0x2d6368['replace'](_0x413056+';'+_0x195432+';'+_0x224b5a+';'+_0x412631+';','');this[_0x4f7fc2(0x4c6)]['has'](_0x195432)||this[_0x4f7fc2(0x4c6)][_0x4f7fc2(0x4d1)](_0x195432,[]);const _0x3ba297=this['chunks']['get'](_0x195432);_0x3ba297[_0x224b5a]=_0x1f3ff6,_0x3ba297[_0x4f7fc2(0x4f0)]===_0x412631&&(this[_0x4f7fc2(0x408)](_0x3ba297['join']('')),this['chunks'][_0x4f7fc2(0x425)](_0x195432));}[_0xab329a(0x5ae)](){const _0x1b4640=_0xab329a;this['waitSuccess']?.(),delete this[_0x1b4640(0x1a0)];}['arrayBufferToObject'](_0x1544f2){const _0x4eca2d=_0xab329a,_0x34a5a7=new TextDecoder()[_0x4eca2d(0xac8)](_0x1544f2);return JSON[_0x4eca2d(0x685)](_0x34a5a7);}['splitParts'](_0xdf94d1){const _0x226d04=_0xab329a,_0x29f984=new Uint8Array(_0xdf94d1[_0x226d04(0x291)](0x0,0x4)),_0x169b2f=new Uint32Array(_0x29f984[_0x226d04(0x182)])[0x0],_0x21abe7=new Uint8Array(_0xdf94d1[_0x226d04(0x291)](0x4,0x4+_0x169b2f)),_0x127728=new Uint8Array(_0xdf94d1['slice'](0x4+_0x169b2f));return[this[_0x226d04(0x40a)](_0x21abe7[_0x226d04(0x182)]),_0x127728[_0x226d04(0x182)]];}}const _0x2ab4de=0xc350;var _0x5ad408,_0x504b4d;!function(_0x5c5013){const _0x34547e=_0xab329a;_0x5c5013[_0x5c5013[_0x34547e(0xb56)]=0x0]=_0x34547e(0xb56),_0x5c5013[_0x5c5013['Medium']=0x1]=_0x34547e(0x928),_0x5c5013[_0x5c5013[_0x34547e(0x6e7)]=0x2]=_0x34547e(0x6e7);}(_0x5ad408||(_0x5ad408={}));class _0x59de51 extends _0x201fd8{[_0xab329a(0x319)];[_0xab329a(0x5ab)];[_0xab329a(0x9df)]=new Map();['heartbeatUnsubscriber'];[_0xab329a(0x916)];['lastHeartbeat'];['isReconnecting']=!0x1;[_0xab329a(0x283)];[_0xab329a(0x6eb)];[_0xab329a(0x9aa)];[_0xab329a(0x932)]=function(e,t=_0x5ad408,n=!0x1){const _0x58a4b9=_0xab329a;let s=!0x1;const i=[];async function o(){const _0x47d513=a0_0x1b87;if(!s){for(s=!0x0;i[_0x47d513(0x95e)](e=>e['head']);){let t,s=0x0;for(const [e,n]of i[_0x47d513(0x41b)]())if(t=n[_0x47d513(0x3ba)](),s=e,t)break;if(t)try{if(e instanceof _0x430088&&e[_0x47d513(0x894)](t),e instanceof _0x49ec24&&await e[_0x47d513(0x894)](t),i[_0x47d513(0x291)](-0x1)[_0x47d513(0x95e)](e=>e['head']))continue;const n=i[_0x47d513(0x4f0)]-0x1;s===n&&i[n][_0x47d513(0x7d1)]&&await _0x3b46ce[_0x47d513(0xb1d)](0x0);}catch(o){n?i[s]['push'](t,!0x1):i[s][_0x47d513(0x671)](t,!0x1),await e[_0x47d513(0xb1d)]();}}s=!0x1;}}return Object[_0x58a4b9(0xb40)](t)['forEach'](e=>{const _0x36dd27=_0x58a4b9;_0x36dd27(0x816)!=typeof e&&(i[e]=_0x4f0362(o));}),{'queues':i};}(new _0x430088(this[_0xab329a(0x70e)][_0xab329a(0x5b5)](this),this[_0xab329a(0x622)]['bind'](this)));[_0xab329a(0x8b6)]=0x0;[_0xab329a(0x2fb)]=0x0;['timeSending']=0x0;[_0xab329a(0x96d)]=0x0;[_0xab329a(0xb4f)];[_0xab329a(0x30c)]=_0x146bef(_0xab329a(0x979),_0x59a34d[_0xab329a(0x823)]);constructor(_0x5defd0,_0x5ca443,_0x4c9c07,_0x371f4e,_0x29f25d,_0x10b72c,_0x227598,_0x157964){const _0x3bd946=_0xab329a;super(_0x5defd0,_0x5ca443,_0x4c9c07,_0x371f4e,_0x29f25d,_0x157964),this[_0x3bd946(0x319)]=_0x10b72c,this['maxBpp']=_0x227598;}['close'](){const _0x36ea63=_0xab329a;this[_0x36ea63(0x975)](),this[_0x36ea63(0x25a)](),delete this[_0x36ea63(0x97d)],this[_0x36ea63(0x6c0)](),this[_0x36ea63(0x1e1)](),this[_0x36ea63(0x884)](),this['senders'][_0x36ea63(0x613)](),this[_0x36ea63(0xa1f)]=!0x1,this[_0x36ea63(0x932)][_0x36ea63(0x47a)][_0x36ea63(0xad2)](_0x3822da=>_0x3822da[_0x36ea63(0x613)]()),this[_0x36ea63(0x787)](),super[_0x36ea63(0xace)]();}[_0xab329a(0x6f5)](){const _0x24273e=_0xab329a;return!!this[_0x24273e(0x97d)]&&super[_0x24273e(0x6f5)]()&&Date[_0x24273e(0x4cb)]()-this[_0x24273e(0x97d)]<0x3a98;}async[_0xab329a(0x944)](){const _0x1e70c7=_0xab329a;this[_0x1e70c7(0x2f3)]&&(await this[_0x1e70c7(0x879)]['collectSendersStats'](this[_0x1e70c7(0x9df)],(_0x4a4c56,_0x142dd5)=>{const _0x5c1a9c=_0x1e70c7;_0x2916b0({'type':_0x4d3e94['Stats'],'streamId':_0x142dd5,'nodeId':this[_0x5c1a9c(0x62c)],'stats':_0x4a4c56},this[_0x5c1a9c(0x2f3)]);}),this[_0x1e70c7(0x2f3)][_0x1e70c7(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589['PeerConnection'],'content':{'type':_0x4d3e94[_0x1e70c7(0x52f)],'nodeId':this['remoteId'],'stats':{'origin':_0x254707[_0x1e70c7(0x6e8)],'timestamp':Date[_0x1e70c7(0x4cb)](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x1e70c7(0x2fb)],'timeSending':this[_0x1e70c7(0x6ab)],'roundTripTime':this['roundTripTime']}}}));}async[_0xab329a(0x2d5)](_0x56b67){const _0x19f9ce=_0xab329a;_0x542377[_0x19f9ce(0x4ad)](_0x59a34d['Connection'],_0x19f9ce(0xb61),this['localNode'][_0x19f9ce(0x7a4)](),this[_0x19f9ce(0x62c)]),this[_0x19f9ce(0x6c0)](),this[_0x19f9ce(0x1e1)](),this[_0x19f9ce(0x884)](),this[_0x19f9ce(0x283)]=setTimeout(()=>{const _0x3ae30f=_0x19f9ce;this[_0x3ae30f(0x9dd)]();},0x7530),this['dataChannel']||(this[_0x19f9ce(0x6fc)]=this[_0x19f9ce(0x879)][_0x19f9ce(0x7ce)](_0x19f9ce(0x62e)),this[_0x19f9ce(0x6fc)][_0x19f9ce(0x3b0)]=_0x593bea,this[_0x19f9ce(0x6fc)][_0x19f9ce(0x63f)]=()=>{this['oncloseTimeout']=setTimeout(()=>{const _0xa8a9d0=a0_0x1b87;delete this['oncloseTimeout'],[_0xa8a9d0(0x9e6),_0xa8a9d0(0x996)]['includes'](this[_0xa8a9d0(0x6fc)]?.[_0xa8a9d0(0xa99)]??'')||this[_0xa8a9d0(0x9dd)]();},0xfa);});const _0x111f30=await this['connection'][_0x19f9ce(0x2d5)](_0x56b67);this['lastHeartbeat']||(this[_0x19f9ce(0x97d)]=Date[_0x19f9ce(0x4cb)]());const _0x1eee6e=(0x0,_0x3aba3d['v4'])();this['publishSystemMessage']({'type':_0x4d3e94[_0x19f9ce(0x9ed)],'offer':_0x111f30,'version':this[_0x19f9ce(0x621)],'connectionType':this[_0x19f9ce(0x230)]},_0x1eee6e),this[_0x19f9ce(0x230)]===_0x1aff46['Core']&&(this[_0x19f9ce(0x916)]=_0x3b46ce[_0x19f9ce(0x9f4)](()=>{const _0x357fcc=_0x19f9ce;this[_0x357fcc(0x2a3)]({'type':_0x4d3e94[_0x357fcc(0x9ed)],'offer':_0x111f30,'version':this[_0x357fcc(0x621)],'connectionType':this[_0x357fcc(0x230)]},_0x1eee6e);},0x1388));}async['handleAnswer'](_0x4ab4ba,_0x451ce2){const _0x5dc01f=_0xab329a;if(_0x451ce2===this[_0x5dc01f(0x621)]){this[_0x5dc01f(0x884)]();try{await this[_0x5dc01f(0x879)][_0x5dc01f(0x3ad)](_0x4ab4ba,this[_0x5dc01f(0x2d5)][_0x5dc01f(0x5b5)](this)),this[_0x5dc01f(0x5f9)](),this[_0x5dc01f(0x1e1)](),this[_0x5dc01f(0x82c)]();}catch(_0x3289af){this[_0x5dc01f(0x9dd)]();}}}[_0xab329a(0x872)](_0x32994a){const _0x420c9c=_0xab329a;if(!this[_0x420c9c(0x6fc)])throw new _0x227d3a(_0x227d3a[_0x420c9c(0x821)][_0x420c9c(0x5c6)],{'message':_0x420c9c(0x223),'localId':this[_0x420c9c(0x242)][_0x420c9c(0x7a4)](),'remoteId':this[_0x420c9c(0x62c)],'eventMessage':_0x32994a});if(_0x420c9c(0x996)!==this[_0x420c9c(0x6fc)][_0x420c9c(0xa99)])throw new _0x227d3a(_0x227d3a['codes'][_0x420c9c(0x5c6)],{'message':_0x420c9c(0x8fc),'localId':this[_0x420c9c(0x242)][_0x420c9c(0x7a4)](),'remoteId':this['remoteId'],'eventMessage':_0x32994a});let _0x520205;if(_0x32994a[_0x420c9c(0xa98)][_0x420c9c(0x62e)]instanceof ArrayBuffer){const _0x456bc7=_0x32994a['content'][_0x420c9c(0x62e)];_0x32994a={..._0x32994a,'content':{..._0x32994a['content'],'data':void 0x0}},_0x520205=this[_0x420c9c(0xabf)](_0x32994a,_0x456bc7);}else _0x520205=JSON['stringify'](_0x32994a);if('string'==typeof _0x520205&&_0x520205[_0x420c9c(0x4f0)]>_0x22e636)return void this['sendChunked'](_0x32994a,_0x520205);0x0===_0x32994a[_0x420c9c(0x982)]&&_0x32994a[_0x420c9c(0x47d)]===_0x18b589['Content']&&this[_0x420c9c(0x30c)][_0x420c9c(0x6f0)]['performCalculation'](()=>_0x542377[_0x420c9c(0x4ad)](_0x59a34d[_0x420c9c(0x823)],_0x420c9c(0x3fc),this[_0x420c9c(0x62c)],_0x4ce5fd(_0x32994a)),void 0x0);const _0x5a19b2=0x0===_0x32994a[_0x420c9c(0x982)]&&[_0x18b589['Subscription'],_0x18b589['PeerConnection']][_0x420c9c(0xb4e)](_0x32994a[_0x420c9c(0x47d)])?_0x5ad408['High']:_0x32994a instanceof ArrayBuffer?_0x5ad408[_0x420c9c(0x6e7)]:_0x5ad408[_0x420c9c(0x928)];this['sendWithRetry'](_0x520205,_0x5a19b2);}[_0xab329a(0x6d7)](_0x46bfa1,_0x13e775,_0xb493d5,_0x5cc4b2){const _0x1fa176=_0xab329a,_0x217abf=(_0x5d7d93=this[_0x1fa176(0x319)],_0x140911=this[_0x1fa176(0x5ab)],Math['floor'](0xe1000*_0x5d7d93*_0x140911));var _0x5d7d93,_0x140911;const _0x78adfa=this[_0x1fa176(0x9df)][_0x1fa176(0x153)](_0x13e775['id'])||{'stream':_0x13e775,'priority':_0xb493d5,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x217abf,'maxBitrate':_0x217abf,'framerate':this[_0x1fa176(0x319)],'maxFramerate':this[_0x1fa176(0x319)],'tracks':{},'params':_0x5cc4b2},_0x274d5e=_0x78adfa['tracks'][_0x46bfa1[_0x1fa176(0x1dd)]]||{'track':_0x46bfa1};if(_0x274d5e[_0x1fa176(0x785)]?(_0x274d5e[_0x1fa176(0x8cf)]=_0x46bfa1,this[_0x1fa176(0x879)][_0x1fa176(0x922)](_0x46bfa1,_0x274d5e[_0x1fa176(0x785)])):_0x274d5e[_0x1fa176(0x785)]=this['connection'][_0x1fa176(0x6d7)](_0x46bfa1,_0x13e775),_0x78adfa[_0x1fa176(0x7b8)][_0x46bfa1[_0x1fa176(0x1dd)]]=_0x274d5e,_0x5cc4b2&&(_0x78adfa[_0x1fa176(0x883)]=_0x5cc4b2),_0x5cc4b2&&_0x1fa176(0x7e2)===_0x5cc4b2[_0x1fa176(0x1dd)]&&_0x5cc4b2[_0x1fa176(0x905)]&&_0x5cc4b2[_0x1fa176(0x844)]&&(_0x78adfa[_0x1fa176(0xb3a)]=this['getResolutionScale'](_0x5cc4b2[_0x1fa176(0x905)],_0x5cc4b2[_0x1fa176(0x844)]),_0x78adfa[_0x1fa176(0x414)]=_0x78adfa[_0x1fa176(0xb3a)],_0x78adfa[_0x1fa176(0x7b8)][_0x1fa176(0x7e2)]&&_0x78adfa[_0x1fa176(0x7b8)][_0x1fa176(0x7e2)][_0x1fa176(0x785)])){const _0x2d9c9f=_0x78adfa['tracks'][_0x1fa176(0x7e2)]['sender'];this['connection'][_0x1fa176(0x3c4)](_0x2d9c9f,Math[_0x1fa176(0x37a)](0xa*_0x78adfa['resolutionScale'])/0xa,_0x78adfa[_0x1fa176(0x38c)],_0x78adfa['bitrate'],_0x78adfa[_0x1fa176(0x3a1)]);}this['senders'][_0x1fa176(0x4d1)](_0x13e775['id'],_0x78adfa);}[_0xab329a(0xabe)](_0x475d9a,_0x5a3b4d){const _0x46059d=_0xab329a,_0x554864=this[_0x46059d(0x9df)][_0x46059d(0x153)](_0x475d9a['id']);if(_0x554864&&_0x554864[_0x46059d(0x3a1)]!==_0x5a3b4d&&(_0x554864[_0x46059d(0x3a1)]=_0x5a3b4d,_0x554864[_0x46059d(0x7b8)][_0x46059d(0x7e2)]&&_0x554864[_0x46059d(0x7b8)][_0x46059d(0x7e2)][_0x46059d(0x785)])){const _0x39a3c0=_0x554864[_0x46059d(0x7b8)][_0x46059d(0x7e2)][_0x46059d(0x785)];this['connection'][_0x46059d(0x3c4)](_0x39a3c0,Math[_0x46059d(0x37a)](0xa*_0x554864['resolutionScale'])/0xa,_0x554864[_0x46059d(0x38c)],_0x554864[_0x46059d(0x652)],_0x554864[_0x46059d(0x3a1)]);}}[_0xab329a(0x708)](_0x4db618,_0xe04c20){const _0x4609ca=_0xab329a,_0x275e6b=this['senders']['get'](_0x4db618['id']);if(_0x275e6b){if(_0x275e6b[_0x4609ca(0x883)]=_0xe04c20,_0xe04c20&&'video'===_0xe04c20[_0x4609ca(0x1dd)]&&_0xe04c20[_0x4609ca(0x905)]&&_0xe04c20['maxResolution']){if(_0x275e6b[_0x4609ca(0x414)]=this[_0x4609ca(0x56d)](_0xe04c20[_0x4609ca(0x905)],_0xe04c20[_0x4609ca(0x844)]),_0x275e6b[_0x4609ca(0xb3a)]<_0x275e6b[_0x4609ca(0x414)]&&(_0x275e6b[_0x4609ca(0xb3a)]=_0x275e6b[_0x4609ca(0x414)]),_0x275e6b['tracks'][_0x4609ca(0x7e2)]&&_0x275e6b[_0x4609ca(0x7b8)][_0x4609ca(0x7e2)][_0x4609ca(0x785)]){const _0x4bae40=_0x275e6b['tracks']['video'][_0x4609ca(0x785)];this[_0x4609ca(0x879)]['setEncodingParameters'](_0x4bae40,Math[_0x4609ca(0x37a)](0xa*_0x275e6b[_0x4609ca(0xb3a)])/0xa,_0x275e6b['framerate'],_0x275e6b['bitrate'],_0x275e6b[_0x4609ca(0x3a1)]);}this[_0x4609ca(0x975)](),this[_0x4609ca(0x189)]();}this['senders'][_0x4609ca(0x4d1)](_0x4db618['id'],_0x275e6b);}}['removeTrack'](_0x193456,_0x5cad20){const _0x4e5cf9=_0xab329a,_0x3896d2=this['senders'][_0x4e5cf9(0x153)](_0x5cad20['id']);if(_0x3896d2){const _0x20db48=_0x3896d2[_0x4e5cf9(0x7b8)][_0x193456[_0x4e5cf9(0x1dd)]];_0x20db48&&(_0x20db48['sender']&&this['connection'][_0x4e5cf9(0x7e6)](_0x20db48[_0x4e5cf9(0x785)]),_0x20db48[_0x4e5cf9(0x8cf)]=void 0x0);}}[_0xab329a(0x397)](_0x2e7f79){const _0x5d3e27=_0xab329a;this[_0x5d3e27(0x975)]();const _0x2fbd5a=function(_0x16f80a,_0x584168){const _0x556882=_0x5d3e27;return _0x16f80a['sort']((_0x21571c,_0x2d52bd)=>_0x584168[_0x556882(0x5b3)]===_0xfaafbc[_0x556882(0x9a0)]?_0x2d52bd['priority']-_0x21571c[_0x556882(0x3a1)]:_0x21571c[_0x556882(0x3a1)]-_0x2d52bd[_0x556882(0x3a1)])[_0x556882(0xb4a)](_0x335ee5=>function(_0x5b7e44,_0xa07b28){const _0x3c1fa1=_0x556882;if(_0xa07b28[_0x3c1fa1(0x5b3)]===_0xfaafbc[_0x3c1fa1(0x9a0)]){if(_0xa07b28['component']===_0x1b9fbb['Resolution'])return _0x5b7e44[_0x3c1fa1(0xb3a)]<0x4||_0x5b7e44['maxFramerate']>0xf;if(_0xa07b28[_0x3c1fa1(0x1cd)]===_0x1b9fbb['Bitrate'])return _0x5b7e44['maxBitrate']>_0x2ab4de;}return _0x5b7e44[_0x3c1fa1(0xb3a)]>_0x5b7e44['minResolutionScale']||_0x5b7e44[_0x3c1fa1(0x38c)]<_0x5b7e44[_0x3c1fa1(0x3e6)]||_0x5b7e44[_0x3c1fa1(0x652)]<_0x5b7e44[_0x3c1fa1(0x550)];}(_0x335ee5,_0x584168));}(Array[_0x5d3e27(0x61d)](this[_0x5d3e27(0x9df)][_0x5d3e27(0xb40)]()),_0x2e7f79);if(_0x2fbd5a&&(function(_0x190ac6,_0x39afc7){const _0x58040b=_0x5d3e27;_0x190ac6[_0x58040b(0x7b8)][_0x58040b(0x7e2)]&&_0x190ac6[_0x58040b(0x7b8)][_0x58040b(0x7e2)][_0x58040b(0x785)]&&(_0x190ac6[_0x58040b(0xb3a)]=function(_0x573387,_0x1e9bf0,_0x239593){const _0x49a314=_0x58040b;switch(_0x239593['action']){case _0xfaafbc[_0x49a314(0x9a0)]:_0x239593[_0x49a314(0x1cd)]===_0x1b9fbb[_0x49a314(0x20b)]&&(_0x573387+=0.5)>0x4&&(_0x573387=0x4);break;case _0xfaafbc['Upgrade']:(_0x573387-=0.5)<_0x1e9bf0&&(_0x573387=_0x1e9bf0);}return _0x573387;}(_0x190ac6['resolutionScale'],_0x190ac6[_0x58040b(0x414)],_0x39afc7),_0x190ac6[_0x58040b(0x38c)]=function(_0x3002bf,_0x372452,_0xcaf344){const _0x162a55=_0x58040b;switch(_0xcaf344[_0x162a55(0x5b3)]){case _0xfaafbc[_0x162a55(0x9a0)]:_0xcaf344[_0x162a55(0x1cd)]===_0x1b9fbb['Resolution']&&(_0x3002bf-=0x3)<0xf&&(_0x3002bf=0xf);break;case _0xfaafbc[_0x162a55(0x6ad)]:(_0x3002bf+=0x3)>_0x372452&&(_0x3002bf=_0x372452);}return _0x3002bf;}(_0x190ac6['framerate'],_0x190ac6[_0x58040b(0x3e6)],_0x39afc7),_0x190ac6[_0x58040b(0x652)]=function(_0xf91bf9,_0x22be43,_0x42a3d5){const _0x22e121=_0x58040b;switch(_0x42a3d5[_0x22e121(0x5b3)]){case _0xfaafbc[_0x22e121(0x9a0)]:_0x42a3d5[_0x22e121(0x1cd)]===_0x1b9fbb[_0x22e121(0x45e)]&&(_0xf91bf9*=0.75)<_0x2ab4de&&(_0xf91bf9=_0x2ab4de);break;case _0xfaafbc[_0x22e121(0x6ad)]:(_0xf91bf9*=1.25)>_0x22be43&&(_0xf91bf9=_0x22be43);}return _0xf91bf9;}(_0x190ac6['bitrate'],_0x190ac6[_0x58040b(0x550)],_0x39afc7));}(_0x2fbd5a,_0x2e7f79),_0x2fbd5a['tracks'][_0x5d3e27(0x7e2)]&&_0x2fbd5a[_0x5d3e27(0x7b8)]['video']['sender'])){const _0x293aef=_0x2fbd5a[_0x5d3e27(0x7b8)]['video'][_0x5d3e27(0x785)];this[_0x5d3e27(0x879)]['setEncodingParameters'](_0x293aef,Math['floor'](0xa*_0x2fbd5a[_0x5d3e27(0xb3a)])/0xa,_0x2fbd5a[_0x5d3e27(0x38c)],_0x2fbd5a['bitrate'],_0x2fbd5a[_0x5d3e27(0x3a1)]);}(_0x2fbd5a||_0x2e7f79[_0x5d3e27(0x5b3)]===_0xfaafbc['Downgrade'])&&this['setUpgradeTimeout']();}[_0xab329a(0xaf9)](){const _0x46e412=_0xab329a;return this[_0x46e412(0x932)][_0x46e412(0x47a)]['reduce']((_0x2d51d9,_0x4815cb)=>_0x2d51d9+_0x4815cb['size'],0x0)*_0x27874a;}[_0xab329a(0xa1d)](){const _0x8635d5=_0xab329a;return this['dataChannel']?.[_0x8635d5(0x59a)]??0x0;}[_0xab329a(0x3d8)](){const _0x2cea85=_0xab329a;super[_0x2cea85(0x3d8)](),this[_0x2cea85(0x787)](),this[_0x2cea85(0x884)](),this[_0x2cea85(0x9df)][_0x2cea85(0xad2)](_0x90b504=>{const _0x70d6e=_0x2cea85;_0x90b504[_0x70d6e(0x7b8)][_0x70d6e(0x7e2)]&&(_0x90b504[_0x70d6e(0x7b8)]['video'][_0x70d6e(0x785)]=void 0x0),_0x90b504[_0x70d6e(0x7b8)][_0x70d6e(0x8d2)]&&(_0x90b504['tracks']['audio'][_0x70d6e(0x785)]=void 0x0);}),this[_0x2cea85(0xa1f)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x5e1108=>{const _0x85e7e0=a0_0x1b87;if(!this['dataChannel']||_0x85e7e0(0x996)!==this[_0x85e7e0(0x6fc)][_0x85e7e0(0xa99)])return await _0x3b46ce['wait'](0x64),void _0x5e1108();this[_0x85e7e0(0x6fc)][_0x85e7e0(0x59a)]<_0x593bea?_0x5e1108():this[_0x85e7e0(0x6fc)]['onBufferedAmountLow']=()=>{const _0x37cc26=_0x85e7e0;this[_0x37cc26(0x6fc)]&&(this[_0x37cc26(0x6fc)][_0x37cc26(0x46b)]=null),_0x5e1108();};});}async[_0xab329a(0x3af)](_0x3803fc,_0x344c31){const _0x56607e=_0xab329a,_0x4a9e58=[];for(let _0x19e8e7=0x0;_0x19e8e7<_0x344c31['length'];_0x19e8e7+=_0x22e636)_0x4a9e58['push'](_0x344c31[_0x56607e(0x291)](_0x19e8e7,_0x19e8e7+_0x22e636));for(const _0x252e70 of _0x4a9e58){for(;this[_0x56607e(0x932)][_0x56607e(0x47a)][_0x5ad408[_0x56607e(0x6e7)]][_0x56607e(0xa86)]>0x1;)await _0x3b46ce[_0x56607e(0xb1d)](0x64);this['sendWithRetry'](_0x413056+';'+_0x3803fc[_0x56607e(0x5de)]+';'+_0x4a9e58[_0x56607e(0x7f1)](_0x252e70)+';'+_0x4a9e58[_0x56607e(0x4f0)]+';'+_0x252e70,_0x5ad408[_0x56607e(0x6e7)]);}}async[_0xab329a(0x180)](_0x9ce7f2,_0x15d8e0){const _0x5f274b=_0xab329a;_0x9ce7f2===_0x3df494?this[_0x5f274b(0x932)][_0x5f274b(0x47a)][_0x15d8e0]['head']?.['value']!==_0x3df494&&this['retryQueue'][_0x5f274b(0x47a)][_0x15d8e0][_0x5f274b(0x671)](_0x9ce7f2):this[_0x5f274b(0x932)][_0x5f274b(0x47a)][_0x15d8e0][_0x5f274b(0x257)](_0x9ce7f2);}[_0xab329a(0x70e)](_0x1d1630){const _0x57f96b=_0xab329a;if(!this[_0x57f96b(0x6fc)]||'open'!==this[_0x57f96b(0x6fc)][_0x57f96b(0xa99)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this[_0x57f96b(0x6fc)][_0x57f96b(0x59a)]>=0x600000)throw new Error('DataChannel\x20buffer\x20is\x20full.');const _0x32ed59=Date[_0x57f96b(0x4cb)]();_0x1d1630!==_0x3df494&&(this['messagesSent']+=0x1,this[_0x57f96b(0x2fb)]+=_0x1d1630 instanceof ArrayBuffer?_0x1d1630[_0x57f96b(0x790)]:_0x1d1630[_0x57f96b(0x4f0)]);try{ArrayBuffer,this[_0x57f96b(0x6fc)][_0x57f96b(0x872)](_0x1d1630);}catch(_0x2a5666){throw console[_0x57f96b(0x28d)]('DataChannel\x20send\x20error',_0x2a5666),_0x2a5666;}this['timeSending']+=Date['now']()-_0x32ed59;}[_0xab329a(0x82c)](){const _0x2e2e7a=_0xab329a;this[_0x2e2e7a(0x88d)]&&this[_0x2e2e7a(0x25a)]();let _0x531acd=!0x0,_0xca0744=Date[_0x2e2e7a(0x4cb)]();this[_0x2e2e7a(0x97d)]=Date['now'](),this[_0x2e2e7a(0x6fc)][_0x2e2e7a(0x3d0)]=_0x2b92b0=>{const _0x4e7725=_0x2e2e7a;'1'===_0x2b92b0[_0x4e7725(0x62e)]&&(this[_0x4e7725(0x96d)]=Date[_0x4e7725(0x4cb)]()-_0xca0744,_0x531acd&&this[_0x4e7725(0x2a3)]({'type':_0x4d3e94[_0x4e7725(0x7ef)]}),_0x531acd=!0x1,this['lastHeartbeat']=Date[_0x4e7725(0x4cb)](),this[_0x4e7725(0xa1f)]&&(this[_0x4e7725(0xa1f)]=!0x1,this[_0x4e7725(0x442)]()));},this[_0x2e2e7a(0x88d)]=_0x3b46ce[_0x2e2e7a(0x9f4)](()=>{const _0x512c06=_0x2e2e7a;_0xca0744=Date[_0x512c06(0x4cb)](),this[_0x512c06(0x180)](_0x3df494,_0x5ad408[_0x512c06(0xb56)]),Date[_0x512c06(0x4cb)]()-this[_0x512c06(0x97d)]>(_0x531acd?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}['handleMissingSenders'](){const _0x3cc84e=_0xab329a;this['senders'][_0x3cc84e(0xad2)](_0x547139=>{const _0x394b59=_0x3cc84e;_0x547139[_0x394b59(0x7b8)][_0x394b59(0x7e2)]&&_0x547139[_0x394b59(0x7b8)][_0x394b59(0x7e2)][_0x394b59(0x8cf)]&&!_0x547139['tracks']['video']['sender']&&(_0x547139[_0x394b59(0x7b8)][_0x394b59(0x7e2)][_0x394b59(0x785)]=this['connection']['addTrack'](_0x547139[_0x394b59(0x7b8)][_0x394b59(0x7e2)]['track'],_0x547139[_0x394b59(0x4fd)])),_0x547139[_0x394b59(0x7b8)]['audio']&&_0x547139[_0x394b59(0x7b8)][_0x394b59(0x8d2)][_0x394b59(0x8cf)]&&!_0x547139[_0x394b59(0x7b8)][_0x394b59(0x8d2)][_0x394b59(0x785)]&&(_0x547139[_0x394b59(0x7b8)]['audio']['sender']=this[_0x394b59(0x879)][_0x394b59(0x6d7)](_0x547139[_0x394b59(0x7b8)][_0x394b59(0x8d2)][_0x394b59(0x8cf)],_0x547139[_0x394b59(0x4fd)]));});}['sendIceCandidates'](){const _0x2fab29=_0xab329a;this[_0x2fab29(0x2a3)]({'type':_0x4d3e94[_0x2fab29(0xb2f)],'candidates':this['handshakeCandidates'],'origin':_0x254707[_0x2fab29(0x6e8)],'version':this['currentVersion'],'connectionType':this['connectionType']});}[_0xab329a(0xa5a)](){const _0x35e907=_0xab329a;super[_0x35e907(0xa5a)](),this['connection'][_0x35e907(0x21d)]=()=>{const _0x53743b=_0x35e907;if(_0x53743b(0x46e)===this[_0x53743b(0x879)][_0x53743b(0xb3f)]){_0x542377[_0x53743b(0x4ad)](_0x59a34d['ConnectionState'],'iceConnectionState\x20failed',this[_0x53743b(0x242)][_0x53743b(0x7a4)](),this[_0x53743b(0x62c)]);try{if(this[_0x53743b(0x879)][_0x53743b(0x1ef)])return void this[_0x53743b(0x879)][_0x53743b(0x6e0)]();}catch(_0x3ccc19){}this[_0x53743b(0x2d5)]({'handshakeRestart':!0x0});}},this['connection']['onConnectionStateChange']=()=>{const _0x2bb0b1=_0x35e907;'disconnected'!==this[_0x2bb0b1(0x879)]['connectionState']&&_0x2bb0b1(0x46e)!==this['connection']['connectionState']||this['handleDisconnect']();};}[_0xab329a(0x9dd)](){const _0x5ed9e8=_0xab329a;this[_0x5ed9e8(0x25a)](),this[_0x5ed9e8(0x6c0)](),this['clearConnectionTimeout'](),_0x542377[_0x5ed9e8(0x396)](_0x5ed9e8(0xa9f),{'clusterId':this[_0x5ed9e8(0x48a)],'nodeId':this[_0x5ed9e8(0x242)]['getId'](),'nodeType':this[_0x5ed9e8(0x242)]['type'],'remoteId':this[_0x5ed9e8(0x62c)],'data':{'connectionType':this[_0x5ed9e8(0x230)],'connectionState':this[_0x5ed9e8(0x879)][_0x5ed9e8(0x317)],'iceConnectionState':this[_0x5ed9e8(0x879)][_0x5ed9e8(0xb3f)],'signalingState':this['connection']['signalingState'],'readyState':this[_0x5ed9e8(0x6fc)]?.['state']||'','lastHeartbeat':this[_0x5ed9e8(0x97d)]?Date[_0x5ed9e8(0x4cb)]()-this[_0x5ed9e8(0x97d)]:'','retryQueue':this['retryQueue']}}),(this[_0x5ed9e8(0x97d)]&&Date[_0x5ed9e8(0x4cb)]()-this[_0x5ed9e8(0x97d)]>0xea60)??0x1?this['systemTopic'][_0x5ed9e8(0x75d)]({'sourceId':this[_0x5ed9e8(0x62c)],'destinationIds':[this[_0x5ed9e8(0x242)][_0x5ed9e8(0x7a4)]()],'messageType':_0x18b589[_0x5ed9e8(0xad0)],'content':{'type':_0x4d3e94[_0x5ed9e8(0x57f)]}}):(this[_0x5ed9e8(0x3d8)](),this[_0x5ed9e8(0x2a3)]({'type':_0x4d3e94[_0x5ed9e8(0x4e5)],'version':this['currentVersion'],'connectionType':this[_0x5ed9e8(0x230)]}),this[_0x5ed9e8(0x6eb)]=setTimeout(()=>{this['handleDisconnect']();},0x7530));}[_0xab329a(0x25a)](){const _0x1540e4=_0xab329a;this[_0x1540e4(0x88d)]?.(),delete this[_0x1540e4(0x88d)];}[_0xab329a(0x1e1)](){const _0x307824=_0xab329a;this[_0x307824(0x283)]&&(clearTimeout(this[_0x307824(0x283)]),delete this['connectionTimeout']);}[_0xab329a(0x6c0)](){const _0x3f2ccd=_0xab329a;this['restartTimeout']&&(clearTimeout(this[_0x3f2ccd(0x6eb)]),delete this[_0x3f2ccd(0x6eb)]);}[_0xab329a(0x975)](){const _0x3cb58d=_0xab329a;this[_0x3cb58d(0x9aa)]&&(clearTimeout(this['upgradeTimeout']),delete this[_0x3cb58d(0x9aa)]);}[_0xab329a(0x189)](){this['upgradeTimeout']=setTimeout(()=>{const _0x1d7320=a0_0x1b87;this[_0x1d7320(0x397)]({'type':_0x587caf[_0x1d7320(0x387)],'action':_0xfaafbc[_0x1d7320(0x6ad)]});},0x3a98);}[_0xab329a(0x56d)](_0x485b03,_0x455b07){const _0xad0135=_0xab329a,_0x5523ed=Math[_0xad0135(0x76d)](_0x485b03[_0xad0135(0x62b)]/_0x455b07[_0xad0135(0x62b)],_0x485b03['height']/_0x455b07['height']);return Math[_0xad0135(0x4bf)](Math['max'](_0x5523ed,0x1),0x4);}[_0xab329a(0x884)](){const _0x17d2ed=_0xab329a;this[_0x17d2ed(0x916)]?.(),delete this[_0x17d2ed(0x916)];}['clearOncloseTimeout'](){const _0x5273d1=_0xab329a;this['oncloseTimeout']&&(clearTimeout(this['oncloseTimeout']),delete this[_0x5273d1(0xb4f)]);}['objectToArrayBuffer'](_0x16b22c){const _0x41617d=_0xab329a,_0x1273cf=JSON[_0x41617d(0x56e)](_0x16b22c);return new TextEncoder()[_0x41617d(0x1b1)](_0x1273cf)[_0x41617d(0x182)];}[_0xab329a(0xabf)](_0x5ff26f,_0x2f6b33){const _0x264790=_0xab329a,_0x55cfb6=this[_0x264790(0x9fc)](_0x5ff26f),_0x554a5b=new Uint8Array(0x4),_0x286b0c=new Uint8Array(_0x55cfb6),_0x4ad8ef=new Uint8Array(_0x2f6b33);_0x554a5b[_0x264790(0x4d1)](new Uint8Array(new Uint32Array([_0x286b0c[_0x264790(0x4f0)]])[_0x264790(0x182)]));const _0x3e008b=new Uint8Array(0x4+_0x286b0c[_0x264790(0x4f0)]+_0x4ad8ef['length']);return _0x3e008b[_0x264790(0x4d1)](_0x554a5b),_0x3e008b[_0x264790(0x4d1)](_0x286b0c,0x4),_0x3e008b[_0x264790(0x4d1)](_0x4ad8ef,0x4+_0x286b0c[_0x264790(0x4f0)]),_0x3e008b[_0x264790(0x182)];}}class _0x5ac521 extends _0x14d068{[_0xab329a(0x90f)];[_0xab329a(0x230)];['maxFps'];[_0xab329a(0x5ab)];['connectionConstructor'];['senderConnection'];[_0xab329a(0x6d5)];[_0xab329a(0xa87)]=[];['messageListeners']=_0x41f17b();[_0xab329a(0x825)]=_0x41f17b();[_0xab329a(0xb02)]=_0x41f17b();['listenerUnsubscribers']=[];[_0xab329a(0x2f3)];['dataTopics']=new Map();['dataUnsubscribers']=new Map();[_0xab329a(0x9cc)]=new Map();[_0xab329a(0xa3b)]=new Map();['successNotified']=!0x1;constructor(_0x5e0065,_0xe48551,_0x272560,_0x15674b,_0x360e75,_0x1ce7bf,_0x379a00,_0x5e66d3){const _0x18f1b8=_0xab329a;super(_0x5e0065,_0xe48551,_0x272560),this[_0x18f1b8(0x90f)]=_0x15674b,this[_0x18f1b8(0x230)]=_0x360e75,this['maxFps']=_0x1ce7bf,this['maxBpp']=_0x379a00,this['connectionConstructor']=_0x5e66d3;}[_0xab329a(0x857)](_0x54fea2){const _0x5a0758=_0xab329a;switch(_0x54fea2[_0x5a0758(0x552)]()){case _0x1d89a1[_0x5a0758(0x93a)][_0x5a0758(0x4af)]:case _0x1d89a1['ContentType'][_0x5a0758(0x999)]:case _0x1d89a1['ContentType'][_0x5a0758(0x5fe)]:case _0x1d89a1[_0x5a0758(0x93a)]['KeyValueDatabase']:case _0x1d89a1['ContentType']['Job']:case _0x1d89a1['ContentType'][_0x5a0758(0xa8c)]:case _0x1d89a1['ContentType'][_0x5a0758(0x810)]:case _0x1d89a1[_0x5a0758(0x93a)][_0x5a0758(0x5e6)]:this[_0x5a0758(0x1ff)][_0x5a0758(0x4d1)](_0x54fea2[_0x5a0758(0xa52)](),_0x54fea2);break;case _0x1d89a1[_0x5a0758(0x93a)][_0x5a0758(0x59b)]:this[_0x5a0758(0x9cc)][_0x5a0758(0x4d1)](_0x54fea2[_0x5a0758(0xa52)](),_0x54fea2);}}[_0xab329a(0x716)](_0x42712){const _0x464f0c=_0xab329a;switch(_0x42712[_0x464f0c(0x552)]()){case _0x1d89a1[_0x464f0c(0x93a)]['Data']:case _0x1d89a1[_0x464f0c(0x93a)][_0x464f0c(0x999)]:case _0x1d89a1['ContentType'][_0x464f0c(0x5fe)]:case _0x1d89a1[_0x464f0c(0x93a)]['KeyValueDatabase']:case _0x1d89a1['ContentType'][_0x464f0c(0xa43)]:case _0x1d89a1[_0x464f0c(0x93a)][_0x464f0c(0xa8c)]:case _0x1d89a1[_0x464f0c(0x93a)][_0x464f0c(0x810)]:case _0x1d89a1['ContentType']['ExternalStorage']:this['dataTopics'][_0x464f0c(0x425)](_0x42712[_0x464f0c(0xa52)]());break;case _0x1d89a1[_0x464f0c(0x93a)]['Media']:this[_0x464f0c(0x9cc)]['delete'](_0x42712[_0x464f0c(0xa52)]());}}[_0xab329a(0x280)](_0x1c4059){const _0xf8fc27=_0xab329a;switch(_0x1c4059[_0xf8fc27(0x552)]()){case _0x1d89a1['ContentType'][_0xf8fc27(0x4af)]:case _0x1d89a1['ContentType'][_0xf8fc27(0x999)]:case _0x1d89a1[_0xf8fc27(0x93a)][_0xf8fc27(0x5fe)]:case _0x1d89a1[_0xf8fc27(0x93a)][_0xf8fc27(0x832)]:case _0x1d89a1[_0xf8fc27(0x93a)][_0xf8fc27(0xa43)]:case _0x1d89a1['ContentType'][_0xf8fc27(0xa8c)]:case _0x1d89a1[_0xf8fc27(0x93a)]['GraphDatabase']:case _0x1d89a1[_0xf8fc27(0x93a)][_0xf8fc27(0x5e6)]:{const _0x4832ab=_0x1c4059[_0xf8fc27(0x94e)](_0x9cea14=>{const _0x34edd5=_0xf8fc27;_0x3d9536(_0x9cea14,this['getLocalId']())&&_0x4e23d0(_0x9cea14,this[_0x34edd5(0x62c)])&&this['send'](_0x9cea14);});this['dataUnsubscribers'][_0xf8fc27(0x4d1)](_0x1c4059[_0xf8fc27(0xa52)](),_0x4832ab);break;}case _0x1d89a1['ContentType'][_0xf8fc27(0x59b)]:{const _0x27967a=_0x1c4059[_0xf8fc27(0x94e)](({content:_0x2c7c43})=>{const _0x2c55a9=_0xf8fc27;switch(_0x2c7c43[_0x2c55a9(0x5b3)]){case _0x2e8f07['Add']:this['addTrack'](_0x2c7c43[_0x2c55a9(0x8cf)],_0x2c7c43['stream'],_0x2c7c43[_0x2c55a9(0x3a1)],_0x2c7c43['params']);break;case _0x2e8f07[_0x2c55a9(0x49c)]:this[_0x2c55a9(0x7e6)](_0x2c7c43[_0x2c55a9(0x8cf)],_0x2c7c43[_0x2c55a9(0x4fd)]);break;case _0x2e8f07[_0x2c55a9(0xb17)]:_0x2c7c43[_0x2c55a9(0x3a1)]&&this[_0x2c55a9(0xabe)](_0x2c7c43['stream'],_0x2c7c43[_0x2c55a9(0x3a1)]),_0x2c7c43[_0x2c55a9(0x883)]&&this[_0x2c55a9(0x708)](_0x2c7c43['stream'],_0x2c7c43[_0x2c55a9(0x883)]);}});this['mediaUnsubscribers'][_0xf8fc27(0x4d1)](_0x1c4059[_0xf8fc27(0xa52)](),_0x27967a);break;}}}[_0xab329a(0x1fb)](_0x830bd3){const _0x149052=_0xab329a;switch(_0x830bd3[_0x149052(0x552)]()){case _0x1d89a1[_0x149052(0x93a)][_0x149052(0x4af)]:case _0x1d89a1[_0x149052(0x93a)][_0x149052(0x999)]:case _0x1d89a1[_0x149052(0x93a)][_0x149052(0x5fe)]:case _0x1d89a1[_0x149052(0x93a)][_0x149052(0x832)]:case _0x1d89a1[_0x149052(0x93a)]['Job']:case _0x1d89a1['ContentType'][_0x149052(0xa8c)]:case _0x1d89a1[_0x149052(0x93a)][_0x149052(0x810)]:case _0x1d89a1[_0x149052(0x93a)][_0x149052(0x5e6)]:this['dataUnsubscribers'][_0x149052(0x153)](_0x830bd3['getLabel']())?.(),this[_0x149052(0x7ff)][_0x149052(0x425)](_0x830bd3[_0x149052(0xa52)]());break;case _0x1d89a1[_0x149052(0x93a)][_0x149052(0x59b)]:this[_0x149052(0xa3b)][_0x149052(0x153)](_0x830bd3['getLabel']())?.(),this[_0x149052(0xa3b)][_0x149052(0x425)](_0x830bd3[_0x149052(0xa52)]());}}[_0xab329a(0x282)](){const _0x1bd1f7=_0xab329a;return[_0x1d89a1[_0x1bd1f7(0x93a)][_0x1bd1f7(0x4af)],_0x1d89a1[_0x1bd1f7(0x93a)][_0x1bd1f7(0x59b)],_0x1d89a1[_0x1bd1f7(0x93a)][_0x1bd1f7(0x999)],_0x1d89a1[_0x1bd1f7(0x93a)][_0x1bd1f7(0x5fe)],_0x1d89a1[_0x1bd1f7(0x93a)][_0x1bd1f7(0x832)],_0x1d89a1[_0x1bd1f7(0x93a)][_0x1bd1f7(0xa43)],_0x1d89a1[_0x1bd1f7(0x93a)][_0x1bd1f7(0xa8c)],_0x1d89a1[_0x1bd1f7(0x93a)][_0x1bd1f7(0x810)],_0x1d89a1[_0x1bd1f7(0x93a)][_0x1bd1f7(0x5e6)]];}[_0xab329a(0x4d7)](_0x3cd6eb){const _0x48f128=_0xab329a;this[_0x48f128(0x2f3)]=_0x3cd6eb;}[_0xab329a(0x8e3)](){const _0x3f2d48=_0xab329a;delete this[_0x3f2d48(0x2f3)];}async[_0xab329a(0x7c2)](){const _0x5dd4b0=_0xab329a;this[_0x5dd4b0(0xab7)](),await this[_0x5dd4b0(0x2d5)]();}[_0xab329a(0xace)](){const _0x38e850=_0xab329a;this[_0x38e850(0x509)][_0x38e850(0xad2)](_0x2c2e44=>_0x2c2e44()),this['listenerUnsubscribers']=[],this[_0x38e850(0x7fe)]?.[_0x38e850(0x8e3)](),this[_0x38e850(0x7fe)]?.['close'](),delete this[_0x38e850(0x7fe)],this[_0x38e850(0xa87)]['forEach'](_0x30e7dc=>_0x30e7dc()),this[_0x38e850(0xa87)]=[],this[_0x38e850(0x6d5)]?.[_0x38e850(0x8e3)](),this[_0x38e850(0x6d5)]?.['close'](),delete this[_0x38e850(0x6d5)];}['isConnected'](){const _0x363e88=_0xab329a;return this[_0x363e88(0x7fe)]?.[_0x363e88(0x6f5)]()&&this['receiverConnection']?.[_0x363e88(0x6f5)]()||!0x1;}[_0xab329a(0x872)](_0x5b0904){const _0x57ba05=_0xab329a;if(!this['senderConnection']||!this['isConnected']())throw new _0x227d3a(_0x227d3a[_0x57ba05(0x821)][_0x57ba05(0xa8e)],{'message':_0x57ba05(0x667),'senderConnected':this[_0x57ba05(0x7fe)]?.[_0x57ba05(0x6f5)](),'receiverConnected':this[_0x57ba05(0x6d5)]?.[_0x57ba05(0x6f5)](),'localId':this[_0x57ba05(0x183)](),'remoteId':this['remoteId'],'data':_0x5b0904});this[_0x57ba05(0x7fe)]['send'](_0x5b0904);}[_0xab329a(0x3d0)](_0x552b05){const _0x8f7fd5=_0xab329a;return this[_0x8f7fd5(0x767)]['subscribe'](_0x552b05);}['onTrack'](_0x2d5f60){const _0x32f016=_0xab329a;return this[_0x32f016(0x825)][_0x32f016(0x94e)](({track:_0x226a86,stream:_0x5ee1dc})=>_0x2d5f60(_0x226a86,_0x5ee1dc));}[_0xab329a(0x205)](_0x40c2d4){const _0x5bdf40=_0xab329a;return this['removeTrackListeners'][_0x5bdf40(0x94e)](({track:_0x5e74c9,stream:_0x5ceb2e})=>_0x40c2d4(_0x5e74c9,_0x5ceb2e));}[_0xab329a(0x6d7)](_0xbb86ef,_0x452018,_0x44dc50,_0x54695e){const _0x23123b=_0xab329a;this[_0x23123b(0x7fe)]?.[_0x23123b(0x6d7)](_0xbb86ef,_0x452018,_0x44dc50,_0x54695e);}[_0xab329a(0xabe)](_0x5c3559,_0xb550d8){const _0x20e0ec=_0xab329a;this[_0x20e0ec(0x7fe)]?.['setPriority'](_0x5c3559,_0xb550d8);}['setParams'](_0x31f2a7,_0x34c7e2){const _0x4aaa0b=_0xab329a;this[_0x4aaa0b(0x7fe)]?.[_0x4aaa0b(0x708)](_0x31f2a7,_0x34c7e2);}[_0xab329a(0x7e6)](_0x59cf05,_0x186324){const _0x1819dd=_0xab329a;this[_0x1819dd(0x7fe)]?.[_0x1819dd(0x7e6)](_0x59cf05,_0x186324);}async[_0xab329a(0x2f6)](_0x4db885){const _0x377951=_0xab329a;_0x542377[_0x377951(0x4ad)](_0x59a34d['Connection'],_0x377951(0x5a2),this[_0x377951(0x183)](),_0x4db885);const {content:_0x245353}=_0x4db885;switch(_0x245353['type']){case _0x4d3e94[_0x377951(0x9ed)]:await this[_0x377951(0xb74)](_0x245353);break;case _0x4d3e94[_0x377951(0x343)]:await this[_0x377951(0x3ad)](_0x245353);break;case _0x4d3e94[_0x377951(0x7ef)]:this['handleSuccess']();break;case _0x4d3e94[_0x377951(0xb2f)]:await this[_0x377951(0x632)](_0x245353);break;case _0x4d3e94[_0x377951(0x4e5)]:this[_0x377951(0x52d)](_0x245353);break;case _0x4d3e94['Restart']:await this[_0x377951(0x2d5)]();}}[_0xab329a(0xa62)](_0xd9df24){const _0x3b24a1=_0xab329a;this['senderConnection']?.['applyRemediation'](_0xd9df24[_0x3b24a1(0xa98)][_0x3b24a1(0x62e)]);}[_0xab329a(0x37e)](){const _0x12c49b=_0xab329a;return this[_0x12c49b(0x230)];}[_0xab329a(0x249)](_0x151dbc){const _0x1cb063=_0xab329a;this[_0x1cb063(0x230)]=_0x151dbc,this['senderConnection']?.['setConnectionType'](_0x151dbc),this[_0x1cb063(0x6d5)]?.[_0x1cb063(0x249)](_0x151dbc);}async['collectStats'](){const _0x2b30c6=_0xab329a;await this[_0x2b30c6(0x7fe)]?.[_0x2b30c6(0x944)](),await this[_0x2b30c6(0x6d5)]?.[_0x2b30c6(0x944)]();}[_0xab329a(0xaf9)](){const _0x58603a=_0xab329a;return this[_0x58603a(0x7fe)]?.[_0x58603a(0xaf9)]()??0x0;}[_0xab329a(0xa1d)](){const _0x36e460=_0xab329a;return this[_0x36e460(0x7fe)]?.['getBufferedAmount']()??0x0;}[_0xab329a(0xab7)](){const _0x354f92=_0xab329a;this[_0x354f92(0x509)]['push'](this[_0x354f92(0x3d0)](_0x4dd063=>{const _0xc1a229=_0x354f92;_0x4e23d0(_0x4dd063,this[_0xc1a229(0x183)]())&&0x0!==_0x4dd063[_0xc1a229(0x982)]&&this[_0xc1a229(0x1ff)][_0xc1a229(0x153)](_0x4dd063['topicLabel'])?.[_0xc1a229(0x75d)](_0x4dd063);})),this[_0x354f92(0x509)][_0x354f92(0x257)](this['onTrack']((_0x218a50,_0x3ec8c4)=>{const _0x56e762=_0x354f92,_0x2ea924=_0x43efe5(_0x1d89a1[_0x56e762(0x93a)]['Media'],_0x3ec8c4['id'],this['remoteId']);this[_0x56e762(0x9cc)]['get'](_0x2ea924)?.[_0x56e762(0x75d)]({'topicLabel':_0x2ea924,'sourceId':this['remoteId'],'contentType':_0x1d89a1[_0x56e762(0x93a)][_0x56e762(0x59b)],'content':{'action':_0x2e8f07[_0x56e762(0x2e7)],'track':_0x218a50,'stream':_0x3ec8c4,'providerId':this['remoteId']}});})),this[_0x354f92(0x509)]['push'](this[_0x354f92(0x205)]((_0x4afb10,_0x369d3f)=>{const _0x409eae=_0x354f92,_0x131dd4=_0x43efe5(_0x1d89a1[_0x409eae(0x93a)][_0x409eae(0x59b)],_0x369d3f['id'],this['remoteId']);this[_0x409eae(0x9cc)]['get'](_0x131dd4)?.[_0x409eae(0x75d)]({'topicLabel':_0x131dd4,'sourceId':this['remoteId'],'contentType':_0x1d89a1[_0x409eae(0x93a)]['Media'],'content':{'action':_0x2e8f07[_0x409eae(0x646)],'track':_0x4afb10,'stream':_0x369d3f,'providerId':this['remoteId']}});}));}[_0xab329a(0x632)]({candidates:_0x3fa4dc,origin:_0x347543,version:_0x23b1af}){const _0x1200ce=_0xab329a;return _0x347543===_0x254707[_0x1200ce(0x6e8)]?(this[_0x1200ce(0x6d5)]||this[_0x1200ce(0x1a4)](),this[_0x1200ce(0x6d5)][_0x1200ce(0xaef)](_0x3fa4dc,_0x23b1af)):this[_0x1200ce(0x7fe)][_0x1200ce(0xaef)](_0x3fa4dc,_0x23b1af);}async[_0xab329a(0x2d5)](){const _0x36b0fb=_0xab329a;this[_0x36b0fb(0x7fe)]||this['createSenderConnection'](),await this['senderConnection'][_0x36b0fb(0x2d5)]();}async['handleOffer']({offer:_0x5194ef,version:_0x33bea6}){const _0x20329=_0xab329a;this['receiverConnection']||this[_0x20329(0x1a4)](),await this[_0x20329(0x6d5)][_0x20329(0xb74)](_0x5194ef,_0x33bea6);}async['handleAnswer']({answer:_0x4c251a,version:_0x4c74fc}){const _0x463d95=_0xab329a;if(!this[_0x463d95(0x7fe)])throw new _0x227d3a(_0x227d3a[_0x463d95(0x821)]['ConnectionNotinitialized'],{'message':_0x463d95(0x993),'localId':this[_0x463d95(0x183)](),'remoteId':this[_0x463d95(0x62c)],'answer':_0x4c251a});await this[_0x463d95(0x7fe)][_0x463d95(0x3ad)](_0x4c251a,_0x4c74fc);}[_0xab329a(0xb54)](){const _0x3d8ddf=_0xab329a;if(!this[_0x3d8ddf(0x6d5)])throw new _0x227d3a(_0x227d3a[_0x3d8ddf(0x821)]['ConnectionNotinitialized'],{'message':_0x3d8ddf(0xad4),'localId':this['getLocalId'](),'remoteId':this[_0x3d8ddf(0x62c)]});this[_0x3d8ddf(0x6d5)][_0x3d8ddf(0xb54)](),this[_0x3d8ddf(0x548)]||this[_0x3d8ddf(0x230)]!==_0x1aff46['Optimization']||(this[_0x3d8ddf(0x548)]=!0x0,this[_0x3d8ddf(0x2f3)]?.[_0x3d8ddf(0x75d)]({'sourceId':this[_0x3d8ddf(0x62c)],'destinationIds':[this['getLocalId']()],'messageType':_0x18b589['PeerConnection'],'content':{'type':_0x4d3e94[_0x3d8ddf(0x676)]}}));}[_0xab329a(0x52d)](_0x35e812){const _0x3dd7ab=_0xab329a;this[_0x3dd7ab(0x6d5)]||this[_0x3dd7ab(0x1a4)](),this[_0x3dd7ab(0x6d5)][_0x3dd7ab(0x52d)](_0x35e812[_0x3dd7ab(0x967)]);}[_0xab329a(0x4d8)](){const _0x541887=_0xab329a;this[_0x541887(0x7fe)]=new _0x59de51(this[_0x541887(0x48a)],this['localNode'],this[_0x541887(0x62c)],this[_0x541887(0x90f)],this[_0x541887(0x230)],this[_0x541887(0x319)],this['maxBpp'],this[_0x541887(0xac6)]),this[_0x541887(0x7fe)][_0x541887(0x4d7)](this[_0x541887(0x2f3)]);}['createReceiverConnection'](){const _0x3617e5=_0xab329a;this[_0x3617e5(0x6d5)]=new _0x4eb3ec(this[_0x3617e5(0x48a)],this['localNode'],this[_0x3617e5(0x62c)],this[_0x3617e5(0x90f)],this['connectionType'],this['connectionConstructor']),this[_0x3617e5(0x6d5)][_0x3617e5(0x4d7)](this[_0x3617e5(0x2f3)]),this[_0x3617e5(0xa87)][_0x3617e5(0x257)](this[_0x3617e5(0x6d5)][_0x3617e5(0x3d0)](_0x466055=>this[_0x3617e5(0x767)][_0x3617e5(0x75d)](_0x466055))),this[_0x3617e5(0xa87)][_0x3617e5(0x257)](this['receiverConnection'][_0x3617e5(0x4c1)]((_0x1298f8,_0x2d6051)=>this['trackListeners'][_0x3617e5(0x75d)]({'track':_0x1298f8,'stream':_0x2d6051}))),this['receiverUnsubscribers'][_0x3617e5(0x257)](this['receiverConnection'][_0x3617e5(0x205)]((_0x554807,_0x25d0e5)=>this[_0x3617e5(0xb02)][_0x3617e5(0x75d)]({'track':_0x554807,'stream':_0x25d0e5})));}}class _0x37dac6{[_0xab329a(0x177)];[_0xab329a(0x262)];[_0xab329a(0x8af)];[_0xab329a(0x649)]=new Map();[_0xab329a(0x767)]=_0x41f17b();['messageUnsubscriber'];['dataTopics']=new Map();[_0xab329a(0x7ff)]=new Map();[_0xab329a(0x3cb)]=new Map();constructor(_0x3dc755,_0x11bf30,_0xc0abdb){const _0x121227=_0xab329a;this[_0x121227(0x177)]=_0x3dc755,this[_0x121227(0x262)]=_0x11bf30,this[_0x121227(0x8af)]=_0xc0abdb,this['messageUnsubscriber']=this[_0x121227(0x3d0)](_0x5940ef=>{const _0x4337e8=_0x121227;this['messageBuffer']['hasMessage'](_0x5940ef[_0x4337e8(0x5de)])||(_0x4e23d0(_0x5940ef,this[_0x4337e8(0x177)])&&0x0!==_0x5940ef[_0x4337e8(0x982)]&&(this[_0x4337e8(0x262)]['addMessage'](_0x5940ef[_0x4337e8(0x5de)]),this[_0x4337e8(0x1ff)][_0x4337e8(0x153)](_0x5940ef[_0x4337e8(0x982)])?.[_0x4337e8(0x75d)](_0x5940ef)),_0x5940ef['propagate']&&this['send'](_0x5940ef));});}['close'](){this['messageUnsubscriber']?.();}[_0xab329a(0x89c)](_0x1d606e){const _0x502b87=_0xab329a,_0xff7a40=_0x1d606e[_0x502b87(0x3d0)](_0x5903fd=>{const _0x28850a=_0x502b87;this[_0x28850a(0x767)][_0x28850a(0x75d)](_0x5903fd);});this[_0x502b87(0x649)][_0x502b87(0x4d1)](_0x1d606e,_0xff7a40),this['retryQueues'][_0x502b87(0x4d1)](_0x1d606e[_0x502b87(0xb00)](),function(_0x1f8434,_0x3487a2=!0x1){let _0x5423da=new Map();const _0x118ab2=_0x451ece(_0x1f8434,_0x3487a2,function(_0x32163b){const _0x2baeda=a0_0x1b87;_0x4065ad(_0x32163b)&&_0x5423da[_0x2baeda(0x425)](_0x32163b[_0x2baeda(0x203)]+'-'+(_0x32163b['destinationIds']??[])+'-'+_0x32163b[_0x2baeda(0x47d)]+'-'+_0x32163b[_0x2baeda(0xa98)][_0x2baeda(0x539)]);},function(_0x53437e){return!!function(_0x1b1d87){const _0x36f060=a0_0x1b87,_0x3f01e9=_0x1b1d87['value'];if(!_0x4065ad(_0x3f01e9))return!0x1;const _0x13ac6c=_0x3f01e9[_0x36f060(0x203)]+'-'+(_0x3f01e9[_0x36f060(0x268)]??[])+'-'+_0x3f01e9['messageType']+'-'+_0x3f01e9[_0x36f060(0xa98)]['type'],_0x45215d={'version':_0x3f01e9[_0x36f060(0xa98)][_0x36f060(0x967)],'element':_0x1b1d87},_0x2c3533=_0x5423da[_0x36f060(0x153)](_0x13ac6c);return _0x2c3533?(_0x2c3533[_0x36f060(0x967)]>=_0x3f01e9[_0x36f060(0xa98)]['version']||(_0x2c3533[_0x36f060(0x5e0)]['previous']&&(_0x2c3533[_0x36f060(0x5e0)][_0x36f060(0x97a)]['next']=_0x1b1d87,_0x1b1d87['previous']=_0x2c3533[_0x36f060(0x5e0)]['previous']),_0x2c3533[_0x36f060(0x5e0)]['next']&&(_0x2c3533['element'][_0x36f060(0x9a1)][_0x36f060(0x97a)]=_0x1b1d87,_0x1b1d87['next']=_0x2c3533[_0x36f060(0x5e0)][_0x36f060(0x9a1)]),_0x2c3533['element']===_0x118ab2[_0x36f060(0x7d1)]&&(_0x118ab2[_0x36f060(0x7d1)]=_0x1b1d87),_0x2c3533[_0x36f060(0x5e0)]===_0x118ab2[_0x36f060(0x47e)]&&(_0x118ab2[_0x36f060(0x47e)]=_0x1b1d87),_0x5423da[_0x36f060(0x4d1)](_0x13ac6c,_0x45215d)),!0x0):(_0x5423da[_0x36f060(0x4d1)](_0x13ac6c,_0x45215d),!0x1);}(_0x53437e);},function(){_0x5423da['clear']();});function _0x4065ad(_0x1ffed3){const _0x46956=a0_0x1b87;if(_0x1ffed3&&_0x46956(0x29a)==typeof _0x1ffed3&&_0x1ffed3[_0x46956(0x750)](_0x46956(0xa98))&&_0x1ffed3[_0x46956(0x750)](_0x46956(0x47d))&&_0x1ffed3['hasOwnProperty'](_0x46956(0x203))){const _0x17a80a=_0x1ffed3;if(_0x17a80a['content']&&'object'==typeof _0x17a80a[_0x46956(0xa98)]&&_0x17a80a[_0x46956(0xa98)]['hasOwnProperty'](_0x46956(0x967))&&_0x17a80a[_0x46956(0xa98)][_0x46956(0x750)](_0x46956(0x539)))return!0x0;}return!0x1;}return _0x118ab2;}(new _0x430088(_0x342f64=>_0x1d606e[_0x502b87(0x872)](_0x342f64),()=>_0x3b46ce['wait'](0x64))));}[_0xab329a(0x447)](_0x346d8e){const _0x49d54e=_0xab329a;this[_0x49d54e(0x649)][_0x49d54e(0x153)](_0x346d8e)?.(),this[_0x49d54e(0x649)][_0x49d54e(0x425)](_0x346d8e),this[_0x49d54e(0x3cb)][_0x49d54e(0x153)](_0x346d8e[_0x49d54e(0xb00)]())?.[_0x49d54e(0x613)](),this[_0x49d54e(0x3cb)][_0x49d54e(0x425)](_0x346d8e[_0x49d54e(0xb00)]());}['isConnected'](_0x52c3d6){const _0x22fc06=_0xab329a;return _0x542377[_0x22fc06(0x4ad)](_0x59a34d[_0x22fc06(0x41c)],_0x22fc06(0x822),this[_0x22fc06(0x177)],this[_0x22fc06(0x649)]['keys']()),0x0!==this[_0x22fc06(0x649)][_0x22fc06(0xa86)]&&(Array[_0x22fc06(0x61d)](this[_0x22fc06(0x649)]['keys']())[_0x22fc06(0xb4a)](_0x4c7ed6=>_0x4c7ed6[_0x22fc06(0xb00)]()===_0x52c3d6)?.[_0x22fc06(0x6f5)]()??!0x1);}['registerPublisher'](_0x3e3b24){const _0x4da87b=_0xab329a;this[_0x4da87b(0x1ff)][_0x4da87b(0x4d1)](_0x3e3b24[_0x4da87b(0xa52)](),_0x3e3b24);}['unregisterPublisher'](_0x136c3a){const _0x119b3e=_0xab329a;this['dataTopics'][_0x119b3e(0x425)](_0x136c3a[_0x119b3e(0xa52)]());}[_0xab329a(0x280)](_0x103155){const _0x4a312f=_0xab329a,_0x1a655e=_0x103155[_0x4a312f(0x94e)](this[_0x4a312f(0x872)]['bind'](this));this[_0x4a312f(0x7ff)]['set'](_0x103155['getLabel'](),_0x1a655e);}[_0xab329a(0x1fb)](_0x27af38){const _0x46db90=_0xab329a;this['dataUnsubscribers'][_0x46db90(0x153)](_0x27af38['getLabel']())?.(),this[_0x46db90(0x7ff)][_0x46db90(0x425)](_0x27af38[_0x46db90(0xa52)]());}['getSupportedContentTypes'](){const _0x285022=_0xab329a;return[_0x1d89a1[_0x285022(0x93a)][_0x285022(0x4af)],_0x1d89a1[_0x285022(0x93a)]['PubSub'],_0x1d89a1[_0x285022(0x93a)]['ObjectStore'],_0x1d89a1[_0x285022(0x93a)][_0x285022(0x832)],_0x1d89a1[_0x285022(0x93a)][_0x285022(0xa43)],_0x1d89a1[_0x285022(0x93a)]['VectorDatabase'],_0x1d89a1[_0x285022(0x93a)][_0x285022(0x810)],_0x1d89a1[_0x285022(0x93a)][_0x285022(0x5e6)]];}[_0xab329a(0x872)](_0xc4675c){const _0x383548=_0xab329a;if(!0x1===_0xc4675c[_0x383548(0x190)]){if(_0xc4675c[_0x383548(0x8df)]||!_0xc4675c['destinationIds']||0x1!==_0xc4675c['destinationIds'][_0x383548(0x4f0)])throw new _0x227d3a(_0x227d3a[_0x383548(0x821)][_0x383548(0x450)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x383548(0x177)]});if(!this[_0x383548(0x6f5)](_0xc4675c[_0x383548(0x268)][0x0]))throw new _0x1c71b9(_0x383548(0x763));}const _0x39361a=_0xc4675c[_0x383548(0x75b)]??[];try{const {filteredDestinationIds:_0x1174f8,extendedRecipients:_0x29f811}=this[_0x383548(0x938)](_0xc4675c,_0x39361a);_0xc4675c[_0x383548(0x268)]=_0x1174f8,_0xc4675c[_0x383548(0x75b)]=_0x29f811;}catch(_0x31beff){if(_0x31beff instanceof _0x1c71b9)return void _0x542377[_0x383548(0x4ad)](_0x59a34d[_0x383548(0x937)],'CrewdleConnectionGroup','Early\x20return',_0xc4675c,_0x31beff[_0x383548(0x3cc)]);}const _0xec1ac8=this[_0x383548(0x4c3)](_0xc4675c);this[_0x383548(0x58d)](_0xc4675c,_0xec1ac8),_0xc4675c[_0x383548(0x8df)]=_0xec1ac8;const _0x47edab=this[_0x383548(0x66a)](_0xc4675c,_0x39361a);for(const _0x4e3809 of _0x47edab){const _0x51f807=this[_0x383548(0x3cb)][_0x383548(0x153)](_0x4e3809[_0x383548(0xb00)]());if(!_0x51f807)throw new _0x227d3a(_0x227d3a[_0x383548(0x821)][_0x383548(0x770)],{'message':_0x383548(0x6d4),'localId':this[_0x383548(0x177)],'remoteId':_0x4e3809[_0x383548(0xb00)](),'data':_0xc4675c});_0x51f807[_0x383548(0x257)](_0xc4675c);}}['getRemoteId'](){return'';}[_0xab329a(0x183)](){return this['localId'];}[_0xab329a(0x3d0)](_0x5cc990){const _0x47d6f8=_0xab329a;return this[_0x47d6f8(0x767)][_0x47d6f8(0x94e)](_0x5cc990);}['updatePropagationProperties'](_0x2ff68a,_0x5c23ef){const _0xcc8e25=_0xab329a,_0x36e5a1={'filteredDestinationIds':_0x2ff68a[_0xcc8e25(0x268)],'extendedRecipients':_0x2ff68a['recipients']};if(!_0x2ff68a[_0xcc8e25(0x8df)])return _0x36e5a1;const _0x517681=Array[_0xcc8e25(0x61d)](this[_0xcc8e25(0x649)][_0xcc8e25(0x628)]())['filter'](_0x50e3e5=>_0x50e3e5['getConnectionType']()===_0x1aff46[_0xcc8e25(0x58b)]||_0x50e3e5['isConnected']())[_0xcc8e25(0x591)](_0x2dcfc0=>_0x2dcfc0[_0xcc8e25(0xb00)]());if(_0x517681[_0xcc8e25(0x9ba)]((_0x4f93d2,_0x2f6c0b)=>_0x4f93d2&&_0x2ff68a['recipients'][_0xcc8e25(0xb4e)](_0x2f6c0b),!0x0))throw new _0x1c71b9(_0xcc8e25(0x456));if(_0x2ff68a[_0xcc8e25(0x268)]){const _0x7719cc=_0x2ff68a[_0xcc8e25(0x268)][_0xcc8e25(0x2b3)](_0x2c44b5=>_0x2c44b5!==this['localId']&&!_0x2ff68a[_0xcc8e25(0x75b)][_0xcc8e25(0xb4e)](_0x2c44b5));if(0x0===_0x7719cc[_0xcc8e25(0x4f0)])throw new _0x1c71b9(_0xcc8e25(0x690));_0x36e5a1[_0xcc8e25(0x6d3)]=_0x7719cc;}return _0x36e5a1[_0xcc8e25(0x991)]=[...new Set([..._0x5c23ef,..._0x517681,this[_0xcc8e25(0x177)]])],_0x36e5a1;}['logPropagateSystemEvent'](_0x5c986a,_0x7a6573=!0x1){const _0xb395cd=_0xab329a;if(0x0===_0x5c986a['topicLabel']&&!_0x3d9536(_0x5c986a,this[_0xb395cd(0x177)])&&_0x5c986a['propagate']){const _0xcacec7=_0x70c83e(_0x5c986a,this[_0xb395cd(0x177)]);_0x542377[_0xb395cd(0x51a)](_0x59a34d[_0xb395cd(0x43d)],_0x5c986a[_0xb395cd(0x5de)]+_0xb395cd(0x411)+_0x7a6573+')\x20'+_0xcacec7,_0x5c986a,_0x7a6573);}}[_0xab329a(0x4c3)](_0x2753a8){const _0x188538=_0xab329a;if(_0x2753a8[_0x188538(0x268)]&&_0x2753a8[_0x188538(0x8df)]){const _0x4e4bee=Array[_0x188538(0x61d)](this[_0x188538(0x649)]['keys']())[_0x188538(0x2b3)](_0x46c248=>_0x46c248[_0x188538(0x37e)]()===_0x1aff46[_0x188538(0x58b)]||_0x46c248[_0x188538(0x6f5)]())[_0x188538(0x591)](_0x21ffb0=>_0x21ffb0[_0x188538(0xb00)]());return!_0x2753a8['destinationIds'][_0x188538(0x9ba)]((_0x13dc08,_0x33efd4)=>_0x13dc08&&_0x4e4bee['includes'](_0x33efd4),!0x0);}return _0x2753a8[_0x188538(0x8df)]??!0x1;}['getConnectionDestinations'](_0x3df3ea,_0x4396f3){const _0x248961=_0xab329a;if(_0x3df3ea['propagate']&&_0x3df3ea['destinationIds']){const _0x49db49=Array['from'](this[_0x248961(0x649)][_0x248961(0x628)]())[_0x248961(0x2b3)](_0xece175=>_0xece175[_0x248961(0x37e)]()===_0x1aff46[_0x248961(0x58b)]||_0xece175[_0x248961(0x6f5)]())[_0x248961(0x591)](_0x1d67bf=>_0x1d67bf[_0x248961(0xb00)]()),_0x6356fc=new Set(),_0x4be4be=_0x3df3ea['sourceId']===this[_0x248961(0x177)]?0x3:0x1;return _0x3df3ea[_0x248961(0x268)][_0x248961(0xad2)](_0x352bc6=>{const _0x26fe6c=_0x248961,_0x18040d=this[_0x26fe6c(0x8af)][_0x26fe6c(0x481)](_0x49db49,_0x352bc6);let _0x5c4d11=0x0,_0x3766fa=0x0;_0x18040d['forEach'](_0x26c4d8=>{const _0x2bf48a=_0x26fe6c;if(_0x5c4d11>=_0x4be4be)return;const _0x34dcb1=Array[_0x2bf48a(0x61d)](this[_0x2bf48a(0x649)][_0x2bf48a(0x628)]())[_0x2bf48a(0xb4a)](_0x39b7fb=>_0x39b7fb[_0x2bf48a(0xb00)]()===_0x26c4d8);if(_0x34dcb1){if(_0x34dcb1[_0x2bf48a(0x37e)]()===_0x1aff46[_0x2bf48a(0x58b)]&&_0x3766fa>0x0)return void(_0x3766fa-=0x1);_0x6356fc['add'](_0x34dcb1),_0x34dcb1['getConnectionType']()===_0x1aff46['Optimization']&&(_0x3766fa+=0x1),_0x5c4d11+=0x1;}});}),Array[_0x248961(0x61d)](_0x6356fc);}return Array[_0x248961(0x61d)](this[_0x248961(0x649)]['keys']())[_0x248961(0x2b3)](_0x26abdc=>{const _0x3959d2=_0x248961;return _0x17b305=_0x26abdc[_0x3959d2(0xb00)](),!_0x4396f3[_0x3959d2(0xb4e)](_0x17b305)&&(_0x4e23d0(_0x3df3ea,_0x17b305)||_0x3df3ea[_0x3959d2(0x8df)])&&(!_0x3df3ea[_0x3959d2(0x8df)]||_0x26abdc[_0x3959d2(0x6f5)]()||_0x26abdc[_0x3959d2(0x37e)]()===_0x1aff46[_0x3959d2(0x58b)]);var _0x17b305;});}}class _0x6a5d7f{[_0xab329a(0x177)];[_0xab329a(0x262)];[_0xab329a(0x649)]=new Map();['systemTopic'];constructor(_0x388967,_0x5b89c7){const _0x5a7118=_0xab329a;this[_0x5a7118(0x177)]=_0x388967,this['messageBuffer']=_0x5b89c7;}[_0xab329a(0xace)](){}[_0xab329a(0x872)](_0x19ae20){const _0x2463e3=_0xab329a;for(const _0x213889 of this[_0x2463e3(0x649)][_0x2463e3(0x628)]())try{return void _0x213889[_0x2463e3(0x872)]({'retry':!0x1,..._0x19ae20});}catch(_0x268d39){_0x268d39 instanceof _0x1c71b9||_0x542377[_0x2463e3(0x4ad)](_0x59a34d[_0x2463e3(0x759)],'send\x20error\x20on\x20'+_0x213889,_0x268d39,_0x19ae20);}_0x542377[_0x2463e3(0x4ad)](_0x59a34d[_0x2463e3(0x759)],_0x2463e3(0x8ab));}[_0xab329a(0x89c)](_0xcfba1d){const _0x2a43d3=_0xab329a,_0x18ce68=_0xcfba1d[_0x2a43d3(0x3d0)](_0x1b5d1a=>{const _0x3d573d=_0x2a43d3;this[_0x3d573d(0x262)][_0x3d573d(0x8c1)](_0x1b5d1a[_0x3d573d(0x5de)])||0x0===_0x1b5d1a[_0x3d573d(0x982)]&&(this[_0x3d573d(0x262)][_0x3d573d(0xa5b)](_0x1b5d1a[_0x3d573d(0x5de)]),_0x4e23d0(_0x1b5d1a,this['localId'])&&this[_0x3d573d(0x2f3)]?.[_0x3d573d(0x75d)](_0x1b5d1a));});this[_0x2a43d3(0x649)][_0x2a43d3(0x4d1)](_0xcfba1d,_0x18ce68);}[_0xab329a(0x447)](_0x5d9038){const _0x1728a8=_0xab329a;this['connections'][_0x1728a8(0x153)](_0x5d9038)?.(),this[_0x1728a8(0x649)][_0x1728a8(0x425)](_0x5d9038);}[_0xab329a(0x183)](){const _0x15fb71=_0xab329a;return this[_0x15fb71(0x177)];}[_0xab329a(0xb00)](){return'';}[_0xab329a(0x282)](){const _0x20f1cc=_0xab329a;return[_0x1d89a1[_0x20f1cc(0x93a)][_0x20f1cc(0x4af)]];}[_0xab329a(0x6f5)](){const _0x32f4b9=_0xab329a;throw new Error(_0x32f4b9(0x39c));}[_0xab329a(0x4d7)](_0x1d905f){const _0x36719a=_0xab329a;this[_0x36719a(0x2f3)]=_0x1d905f;}[_0xab329a(0x8e3)](){const _0x17d6f3=_0xab329a;delete this[_0x17d6f3(0x2f3)];}}class _0xaca790{[_0xab329a(0x182)]=new Map();[_0xab329a(0x941)];constructor(){const _0x274ce7=_0xab329a;this[_0x274ce7(0x941)]=_0x3b46ce[_0x274ce7(0x9f4)](()=>{const _0x43ddc8=_0x274ce7;for(const [_0x55bc6a,_0x453f21]of this['buffer'][_0x43ddc8(0x41b)]())Date['now']()-_0x453f21>0x124f80&&this[_0x43ddc8(0x182)]['delete'](_0x55bc6a);},0x1d4c0);}[_0xab329a(0xace)](){const _0x443d17=_0xab329a;this[_0x443d17(0x941)]();}[_0xab329a(0xa5b)](_0x5b9554){const _0x2d4ffe=_0xab329a;this[_0x2d4ffe(0x182)][_0x2d4ffe(0x4d1)](_0x5b9554,Date[_0x2d4ffe(0x4cb)]());}[_0xab329a(0x8c1)](_0x1f62d6){const _0x220fa3=_0xab329a;return this[_0x220fa3(0x182)][_0x220fa3(0x727)](_0x1f62d6);}}class _0x54ef21{[_0xab329a(0x8f2)];['authService'];[_0xab329a(0x90f)];[_0xab329a(0x438)];[_0xab329a(0x649)]=new Map();['connectionPool'];[_0xab329a(0x910)];[_0xab329a(0x3fe)];[_0xab329a(0x262)];constructor(_0x503cb9,_0x43e34c,_0x1da7bd,_0xa06c14,_0x4a1c7f){const _0x50ee5a=_0xab329a;this[_0x50ee5a(0x8f2)]=_0x503cb9,this[_0x50ee5a(0x8f5)]=_0x43e34c,this[_0x50ee5a(0x90f)]=_0xa06c14,this[_0x50ee5a(0x438)]=_0x4a1c7f,this[_0x50ee5a(0x262)]=new _0xaca790(),this[_0x50ee5a(0x910)]=new _0x37dac6(this[_0x50ee5a(0x8f2)][_0x50ee5a(0x242)]['getId'](),this[_0x50ee5a(0x262)],_0x1da7bd),this['signalingServer']=new _0x4971f1(this[_0x50ee5a(0x8f2)][_0x50ee5a(0x3e1)],this[_0x50ee5a(0x8f2)]['clusterId'],this[_0x50ee5a(0x8f2)][_0x50ee5a(0x242)],_0x50ee5a(0x2e9),this[_0x50ee5a(0x8f5)]),this[_0x50ee5a(0x954)]=new _0x6a5d7f(this[_0x50ee5a(0x8f2)][_0x50ee5a(0x242)][_0x50ee5a(0x7a4)](),this['messageBuffer']),this[_0x50ee5a(0x954)]['addConnection'](this[_0x50ee5a(0x910)]),this['connectionPool'][_0x50ee5a(0x89c)](this[_0x50ee5a(0x3fe)]),this[_0x50ee5a(0x8f2)][_0x50ee5a(0x849)][_0x50ee5a(0x4cc)](this[_0x50ee5a(0x954)]);}[_0xab329a(0xace)](){const _0xafa239=_0xab329a;this[_0xafa239(0x262)][_0xafa239(0xace)](),this[_0xafa239(0x649)][_0xafa239(0xad2)]((_0x18f313,_0x406309)=>this[_0xafa239(0x7bc)](_0x406309)),this['configs'][_0xafa239(0x849)][_0xafa239(0x460)](this[_0xafa239(0x954)]),this['connectionPool'][_0xafa239(0x447)](this[_0xafa239(0x3fe)]),this[_0xafa239(0x954)][_0xafa239(0x447)](this[_0xafa239(0x910)]),this[_0xafa239(0x954)][_0xafa239(0xace)](),this[_0xafa239(0x3fe)][_0xafa239(0xace)](),this['connectionGroup'][_0xafa239(0xace)]();}async[_0xab329a(0x7db)](){const _0x8a9f1e=_0xab329a;await this[_0x8a9f1e(0x3fe)]['connect']();}async['createConnection'](_0x2b7fc2,_0x4a2ccd=_0x1aff46[_0xab329a(0x58b)]){const _0x22618a=_0xab329a;if(this[_0x22618a(0x649)][_0x22618a(0x727)](_0x2b7fc2)){if(this[_0x22618a(0x649)][_0x22618a(0x153)](_0x2b7fc2)?.[_0x22618a(0x37e)]()===_0x1aff46['Optimization']&&_0x4a2ccd===_0x1aff46['Core'])return void this[_0x22618a(0x649)]['get'](_0x2b7fc2)?.['setConnectionType'](_0x1aff46[_0x22618a(0x58b)]);throw new _0x227d3a(_0x227d3a[_0x22618a(0x821)]['RemoteConnectionExists'],{'localId':this[_0x22618a(0x8f2)][_0x22618a(0x242)]['getId'](),'remoteId':_0x2b7fc2});}const _0x3bf8eb=new _0x5ac521(this[_0x22618a(0x8f2)]['clusterId'],this['configs'][_0x22618a(0x242)],_0x2b7fc2,this[_0x22618a(0x90f)],_0x4a2ccd,this[_0x22618a(0x438)]['maxFps'],this[_0x22618a(0x438)]['maxBpp'],this[_0x22618a(0x438)][_0x22618a(0x29b)]);this[_0x22618a(0x649)][_0x22618a(0x4d1)](_0x2b7fc2,_0x3bf8eb),this[_0x22618a(0x910)][_0x22618a(0x89c)](_0x3bf8eb),this[_0x22618a(0x8f2)][_0x22618a(0x849)][_0x22618a(0x4cc)](_0x3bf8eb),this['configs']['mediator'][_0x22618a(0x630)](_0x2b7fc2),await _0x3bf8eb[_0x22618a(0x7c2)]();}[_0xab329a(0x3c7)](){return this['connectionGroup'];}[_0xab329a(0x19b)](_0x50cf96){const _0x3a5a1f=_0xab329a;if(!this[_0x3a5a1f(0x649)][_0x3a5a1f(0x727)](_0x50cf96))throw new _0x227d3a(_0x227d3a[_0x3a5a1f(0x821)][_0x3a5a1f(0x7a5)],{'localId':this[_0x3a5a1f(0x8f2)]['localNode'][_0x3a5a1f(0x7a4)](),'remoteId':_0x50cf96});return this[_0x3a5a1f(0x649)]['get'](_0x50cf96);}['getConnections'](_0x3e45f3){const _0x542dde=_0xab329a,_0x3fef84=Array[_0x542dde(0x61d)](this[_0x542dde(0x649)][_0x542dde(0xb40)]());return _0x3e45f3?_0x3fef84[_0x542dde(0x2b3)](_0x3e45f3):_0x3fef84;}async[_0xab329a(0x944)](_0x2499bd){const _0x3b4fcb=_0xab329a,_0x349290=this[_0x3b4fcb(0x649)][_0x3b4fcb(0x153)](_0x2499bd);_0x349290&&_0x349290[_0x3b4fcb(0x6f5)]()&&await _0x349290[_0x3b4fcb(0x944)]();}[_0xab329a(0x77d)](_0xe1590f){const _0x24be6f=_0xab329a;if(_0xe1590f[_0x24be6f(0x47d)]!==_0x18b589[_0x24be6f(0xad0)]||_0xe1590f[_0x24be6f(0x8df)])try{this[_0x24be6f(0x910)][_0x24be6f(0x872)](_0xe1590f);}catch(_0x584ee1){if(_0x584ee1 instanceof _0x1c71b9)return;throw _0x584ee1;}else this[_0x24be6f(0x954)][_0x24be6f(0x872)](_0xe1590f);}async[_0xab329a(0x2f6)](_0x30f40e){const _0x29b1ef=_0xab329a;switch(_0x30f40e[_0x29b1ef(0xa98)][_0x29b1ef(0x539)]){case _0x4d3e94[_0x29b1ef(0x57f)]:case _0x4d3e94[_0x29b1ef(0x52f)]:case _0x4d3e94[_0x29b1ef(0x676)]:return;}if(!_0x30f40e[_0x29b1ef(0x268)]||0x1!==_0x30f40e[_0x29b1ef(0x268)][_0x29b1ef(0x4f0)])throw new _0x227d3a(_0x227d3a[_0x29b1ef(0x821)][_0x29b1ef(0x400)],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x30f40e});if(_0x30f40e[_0x29b1ef(0x268)][0x0]!==this[_0x29b1ef(0x8f2)]['localNode'][_0x29b1ef(0x7a4)]())throw new _0x227d3a(_0x227d3a['codes'][_0x29b1ef(0x400)],{'message':'Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','event':_0x30f40e});if(!this[_0x29b1ef(0x649)][_0x29b1ef(0x727)](_0x30f40e[_0x29b1ef(0x203)])){let _0x22db32=_0x1aff46[_0x29b1ef(0x58b)];if(!(this[_0x29b1ef(0xb18)](_0x30f40e[_0x29b1ef(0xa98)])||this[_0x29b1ef(0xaf8)](_0x30f40e['content'])||this[_0x29b1ef(0x7ac)](_0x30f40e[_0x29b1ef(0xa98)])))return;_0x22db32=_0x30f40e[_0x29b1ef(0xa98)]['connectionType'],await this['createConnection'](_0x30f40e[_0x29b1ef(0x203)],_0x22db32);}const _0x4c2c30=this[_0x29b1ef(0x649)]['get'](_0x30f40e['sourceId']);await _0x4c2c30[_0x29b1ef(0x2f6)](_0x30f40e);}[_0xab329a(0xa62)](_0x5c9f22){const _0x57c1bf=_0xab329a;if(_0x5c9f22[_0x57c1bf(0xa98)][_0x57c1bf(0x539)]===_0x587caf[_0x57c1bf(0x387)]){if(_0x5c9f22['content']['targetId']===this[_0x57c1bf(0x8f2)]['localNode'][_0x57c1bf(0x7a4)]())return void this[_0x57c1bf(0x649)][_0x57c1bf(0xad2)](_0x560179=>_0x560179[_0x57c1bf(0xa62)](_0x5c9f22));this['connections'][_0x57c1bf(0x153)](_0x5c9f22[_0x57c1bf(0xa98)][_0x57c1bf(0xa6a)])?.[_0x57c1bf(0xa62)](_0x5c9f22);}}[_0xab329a(0x4f7)]({content:_0x23e713}){const _0x1235f2=_0xab329a;_0x23e713[_0x1235f2(0x539)]===_0xc8c151[_0x1235f2(0x960)]&&this[_0x1235f2(0x7bc)](_0x23e713['id']);}[_0xab329a(0x218)](){const _0x5215b5=_0xab329a,_0x20c566=Array[_0x5215b5(0x61d)](this['connections'][_0x5215b5(0xb40)]())[_0x5215b5(0x9ba)]((_0x1b3e2d,_0x2e57d0)=>_0x1b3e2d+_0x2e57d0['calculateArrayBufferSize'](),0x0);return _0x20c566<_0x4620b2?Promise['resolve'](_0x20c566):new Promise(_0x30da57=>{const _0x5f6814=setInterval(()=>{const _0x233918=a0_0x1b87,_0x492f90=Array['from'](this[_0x233918(0x649)][_0x233918(0xb40)]())[_0x233918(0x9ba)]((_0x5d3b2c,_0x4b10a6)=>_0x5d3b2c+_0x4b10a6[_0x233918(0xaf9)](),0x0);_0x492f90<_0x4620b2&&(clearInterval(_0x5f6814),_0x30da57(_0x492f90));},0x3e8);});}[_0xab329a(0x923)](){const _0xa71da3=_0xab329a;for(const _0x4fc681 of this[_0xa71da3(0x649)]['values']())if(_0x4fc681[_0xa71da3(0xa1d)]()>0x0||_0x4fc681[_0xa71da3(0xaf9)]()>0x0)return!0x0;return!0x1;}[_0xab329a(0x7bc)](_0x402466){const _0x3a3a43=_0xab329a,_0x393d7f=this[_0x3a3a43(0x649)][_0x3a3a43(0x153)](_0x402466);_0x393d7f&&(this['configs'][_0x3a3a43(0x849)][_0x3a3a43(0x543)](_0x402466),this[_0x3a3a43(0x8f2)]['mediator']['unregisterSystemSource'](_0x393d7f),_0x393d7f instanceof _0x5ac521&&this['connectionGroup'][_0x3a3a43(0x447)](_0x393d7f),_0x393d7f[_0x3a3a43(0xace)](),this[_0x3a3a43(0x649)][_0x3a3a43(0x425)](_0x402466));}[_0xab329a(0xb18)](_0x47f0b3){const _0x2ca4a4=_0xab329a;return _0x47f0b3[_0x2ca4a4(0x539)]===_0x4d3e94[_0x2ca4a4(0x9ed)];}[_0xab329a(0x7ac)](_0x3bcd50){const _0x150fe9=_0xab329a;return _0x3bcd50[_0x150fe9(0x539)]===_0x4d3e94[_0x150fe9(0x4e5)];}[_0xab329a(0xaf8)](_0x41f20e){const _0x454f92=_0xab329a;return _0x41f20e['type']===_0x4d3e94[_0x454f92(0xb2f)];}}!function(_0x465b02){const _0x2ba579=_0xab329a;_0x465b02[_0x465b02[_0x2ba579(0x5c7)]=0x0]=_0x2ba579(0x5c7),_0x465b02[_0x465b02[_0x2ba579(0x1eb)]=0x1]=_0x2ba579(0x1eb),_0x465b02[_0x465b02[_0x2ba579(0x65f)]=0x2]=_0x2ba579(0x65f),_0x465b02[_0x465b02[_0x2ba579(0xa6e)]=0x3]=_0x2ba579(0xa6e),_0x465b02[_0x465b02[_0x2ba579(0x452)]=0x4]=_0x2ba579(0x452),_0x465b02[_0x465b02[_0x2ba579(0x6b5)]=0x5]=_0x2ba579(0x6b5),_0x465b02[_0x465b02[_0x2ba579(0x226)]=0x6]=_0x2ba579(0x226),_0x465b02[_0x465b02[_0x2ba579(0x35c)]=0x7]='MediaStreamUnavailable';}(_0x504b4d||(_0x504b4d={}));class _0x1b7635 extends _0x2ccca0{[_0xab329a(0x242)];[_0xab329a(0x48a)];['vendorId'];['connectorConstructor'];['debounceStats'];[_0xab329a(0x399)]=0x0;['connector'];[_0xab329a(0x44f)]=_0x41f17b();[_0xab329a(0x509)]=new Map();['changesUnsubscriber'];constructor(_0x143497,_0x4d94d8,_0x5f2654,_0x21f1e7,_0x3abd1a){const _0x224aea=_0xab329a;if('string'!=typeof _0x4d94d8)throw new _0x1695e5(_0x91d017[_0x224aea(0x23d)],'Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string');super(_0x143497,_0x4d94d8),this[_0x224aea(0x242)]=_0x143497,this[_0x224aea(0x48a)]=_0x5f2654,this['vendorId']=_0x21f1e7,this['connectorConstructor']=_0x3abd1a,this[_0x224aea(0x8e9)]();}['destroy'](){const _0x39c388=_0xab329a;this['changesUnsubscriber']?.(),this[_0x39c388(0x509)][_0x39c388(0xad2)](_0x380881=>_0x380881()),clearTimeout(this[_0x39c388(0xa82)]),delete this[_0x39c388(0xa82)],super[_0x39c388(0x5f3)]();}[_0xab329a(0x669)](){const _0x33c270=_0xab329a;this[_0x33c270(0x8e9)]();}[_0xab329a(0xace)](){const _0x3afa88=_0xab329a;this[_0x3afa88(0x2f3)][_0x3afa88(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589['Content'],'content':{'type':_0x8a5c45[_0x3afa88(0x7c7)],'label':this[_0x3afa88(0x4b1)]}});}[_0xab329a(0x552)](){const _0x4806cd=_0xab329a;return _0x1d89a1[_0x4806cd(0x93a)][_0x4806cd(0x5e6)];}async[_0xab329a(0x153)](_0x1d1002){const _0x3f5a15=_0xab329a;if(!this[_0x3f5a15(0x5ca)])throw new _0x1695e5(_0x91d017[_0x3f5a15(0x88f)],_0x3f5a15(0x77b));_0x542377[_0x3f5a15(0x940)](_0x2a74fc[_0x3f5a15(0x5e6)],{'type':_0x3f5a15(0x153),'label':this[_0x3f5a15(0x4b1)],'nodeId':this[_0x3f5a15(0x242)][_0x3f5a15(0x7a4)](),'nodeType':this[_0x3f5a15(0x242)]['type'],'clusterId':this[_0x3f5a15(0x48a)],'path':_0x1d1002}),this['reads']+=0x1,this[_0x3f5a15(0x8e9)]();try{return await this['connector'][_0x3f5a15(0x153)](_0x1d1002);}catch(_0x1ec939){throw new _0x1695e5(_0x91d017[_0x3f5a15(0x37c)],'Cannot\x20get\x20file:\x20'+_0x1d1002);}}async[_0xab329a(0x9e5)](_0x18afb6,_0x3c5375){const _0x1e882b=_0xab329a;if(!this['connector'])throw new _0x1695e5(_0x91d017[_0x1e882b(0x88f)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x4d2b1f=!0x1}=_0x3c5375??{};_0x542377[_0x1e882b(0x940)](_0x2a74fc[_0x1e882b(0x5e6)],{'type':_0x1e882b(0x9e5),'label':this['label'],'nodeId':this[_0x1e882b(0x242)][_0x1e882b(0x7a4)](),'nodeType':this[_0x1e882b(0x242)][_0x1e882b(0x539)],'clusterId':this[_0x1e882b(0x48a)],'path':_0x18afb6}),this['reads']+=0x1,this[_0x1e882b(0x8e9)]();try{return await this['connector']['list'](_0x18afb6,_0x4d2b1f);}catch(_0x2dbd53){throw new _0x1695e5(_0x91d017[_0x1e882b(0x37c)],_0x1e882b(0x363)+_0x18afb6);}}[_0xab329a(0x94e)](_0x57cab,_0x4fff0c){const _0x3ecb99=_0xab329a;if(this['listenerUnsubscribers']['has'](_0x57cab))throw new _0x1695e5(_0x91d017[_0x3ecb99(0x90c)],_0x3ecb99(0x5ff));this['listenerUnsubscribers'][_0x3ecb99(0x4d1)](_0x57cab,this[_0x3ecb99(0x44f)][_0x3ecb99(0x94e)](_0x4fff0c));}[_0xab329a(0x3c8)](_0x18cdb3){const _0x47dd9b=_0xab329a;this[_0x47dd9b(0x509)][_0x47dd9b(0x153)](_0x18cdb3)?.(),this[_0x47dd9b(0x509)]['delete'](_0x18cdb3);}async[_0xab329a(0x996)](){const _0x1f779c=_0xab329a,_0x5dce43=(await(0x0,_0x30ad83[_0x1f779c(0x246)])((0x0,_0x30ad83['doc'])(_0x44b60b[_0x1f779c(0xa12)](),_0x1f779c(0x148)+this[_0x1f779c(0x3e1)]+_0x1f779c(0x6f3)+this['label'])))[_0x1f779c(0x62e)]();if(!_0x5dce43)throw new _0x1695e5(_0x91d017[_0x1f779c(0x605)],'Cannot\x20find\x20External\x20Storage\x20connection:\x20'+this[_0x1f779c(0x4b1)]);const {site:_0x336b29,drive:_0x5b5fc2}=_0x5dce43,_0x134d12=(await(0x0,_0x579870[_0x1f779c(0x845)])(_0x44b60b[_0x1f779c(0x746)](),'msalGetAccessToken')({'storageId':this['label']}))[_0x1f779c(0x62e)][_0x1f779c(0x2b7)];this[_0x1f779c(0x5ca)]=new this[(_0x1f779c(0x4df))](_0x336b29['id'],_0x5b5fc2['id'],_0x134d12,async()=>(await(0x0,_0x579870[_0x1f779c(0x845)])(_0x44b60b[_0x1f779c(0x746)](),'msalRefreshToken')({'storageId':this[_0x1f779c(0x4b1)]}))['data'][_0x1f779c(0x2b7)]),this[_0x1f779c(0x214)]();}[_0xab329a(0x8e9)](){const _0x3342ca=_0xab329a;this[_0x3342ca(0xa82)]&&clearTimeout(this['debounceStats']),this[_0x3342ca(0xa82)]=setTimeout(async()=>{const _0x3efc5f=_0x3342ca;delete this[_0x3efc5f(0xa82)],this[_0x3efc5f(0x2f3)][_0x3efc5f(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x3efc5f(0xb65)],'content':{'type':_0x8a5c45[_0x3efc5f(0x7fb)],'label':this['label'],'stats':{'timestamp':Date[_0x3efc5f(0x4cb)](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x3efc5f(0x399)],'prompts':0x0,'tokens':0x0}}});},_0x5615a9);}async[_0xab329a(0x214)](){const _0x17cfff=_0xab329a;await this[_0x17cfff(0x5ca)]?.[_0x17cfff(0x604)](),this[_0x17cfff(0xb5e)]=_0x3b46ce[_0x17cfff(0x9f4)](async()=>{const _0x4cb051=_0x17cfff;try{if(!this[_0x4cb051(0x5ca)])return;const _0x157889=await this[_0x4cb051(0x5ca)][_0x4cb051(0x604)]();for(const _0x1784d3 of _0x157889)this[_0x4cb051(0x44f)][_0x4cb051(0x75d)](_0x1784d3);}catch(_0x5ca01d){}},0x493e0);}}const _0x1d537e=require('rxjs');class _0x3b82f5 extends _0x2ccca0{[_0xab329a(0x8af)];['jobs']=new Map();[_0xab329a(0x4c2)]=new Map();[_0xab329a(0x6bd)]=new Map();[_0xab329a(0x941)];constructor(_0x4b9f36,_0x307f2b,_0x598509){const _0x296759=_0xab329a;super(_0x4b9f36,_0x307f2b),this[_0x296759(0x8af)]=_0x598509;}[_0xab329a(0x552)](){const _0x55bfc9=_0xab329a;return _0x1d89a1[_0x55bfc9(0x93a)][_0x55bfc9(0xa43)];}[_0xab329a(0x996)](){const _0x2a8267=_0xab329a;this[_0x2a8267(0x941)]=this[_0x2a8267(0x3d0)]((_0x5db050,_0x5d1620)=>{const _0x2047df=_0x2a8267;if(_0x542377[_0x2047df(0x4ad)](_0x59a34d[_0x2047df(0x3e3)],_0x2047df(0x7c9),_0x5db050,_0x5d1620,this[_0x2047df(0x8af)][_0x2047df(0x962)]()),!(_0x5d1620 instanceof File)){if(!_0x5d1620)throw new _0x227d3a(_0x227d3a[_0x2047df(0x821)]['JobDispatcherInvalidPayload']);return this[_0x2047df(0xaa9)](_0x5d1620)?this['addBidResponse'](_0x5db050,_0x5d1620['id'],_0x5d1620):this[_0x2047df(0x67f)](_0x5d1620)?(_0x542377[_0x2047df(0x4ad)](_0x59a34d['Jobs'],'Job\x20'+_0x5d1620['id']+'\x20received\x20partial\x20result:',_0x5d1620['result']),void this['evaluatePartialJob'](_0x5d1620['id'],_0x5d1620)):this[_0x2047df(0x620)](_0x5d1620)?(_0x542377[_0x2047df(0x4ad)](_0x59a34d['Jobs'],_0x2047df(0x75f)+_0x5d1620['id']+_0x2047df(0x15b),_0x5d1620['result']),void this[_0x2047df(0x974)](_0x5d1620['id'],_0x5d1620)):void(this[_0x2047df(0x843)](_0x5d1620)&&this['failJob'](_0x5d1620['id'],_0x5d1620['message']));}});}[_0xab329a(0x669)](){const _0x48bf39=_0xab329a;this[_0x48bf39(0x613)](),this['open']();}[_0xab329a(0x5f3)](){const _0xca89c4=_0xab329a;this['clear'](),super[_0xca89c4(0x5f3)]();}[_0xab329a(0x613)](){const _0x3dae04=_0xab329a;this[_0x3dae04(0x2fe)]['clear'](),this['unsubscribeHandler']&&this['unsubscribeHandler']();}[_0xab329a(0xace)](){const _0x4c7a6d=_0xab329a;this['systemTopic']?.[_0x4c7a6d(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589['Content'],'content':{'type':_0x8a5c45[_0x4c7a6d(0xac3)],'label':this[_0x4c7a6d(0x4b1)]}});}async[_0xab329a(0xae4)](_0x2b5981){const _0x373b2a=_0xab329a,{id:_0x28fdc1,parameters:_0x4218bb,jobType:_0x13f64b}=_0x2b5981,_0x26720f={'id':_0x28fdc1,'jobType':_0x13f64b,'parameters':_0x4218bb,'status':_0x1d89a1[_0x373b2a(0x1a2)][_0x373b2a(0x49a)],'created':new Date(),'updated':new Date()};if(this['jobs'][_0x373b2a(0x727)](_0x26720f['id']))throw new _0x1695e5(_0x91d017['JobDispatcherJobExists'],_0x373b2a(0x56f)+_0x26720f['id']+'\x20already\x20exists.');_0x26720f[_0x373b2a(0xa8b)]=new Date(),_0x26720f['updated']=new Date();const _0x34318f=new _0x1d537e[(_0x373b2a(0x635))]();this['jobs'][_0x373b2a(0x4d1)](_0x26720f['id'],_0x26720f),this['jobObservers'][_0x373b2a(0x4d1)](_0x26720f['id'],_0x34318f);try{const _0xe7e889={'id':_0x26720f['id'],'jobPhase':_0x259adb[_0x373b2a(0x793)],'jobType':_0x26720f[_0x373b2a(0x89f)]},_0x931c02=0x3;let _0x330336=0x0;const _0x353da7=async()=>{const _0x28b63e=_0x373b2a;_0x330336+=0x1;try{_0x542377[_0x28b63e(0x4ad)](_0x59a34d[_0x28b63e(0x3e3)],_0x28b63e(0x75f)+_0x26720f['id']+_0x28b63e(0xa66)+_0x330336+'.',this['graphService'][_0x28b63e(0x962)]()),await this[_0x28b63e(0x872)](_0xe7e889),_0x26720f[_0x28b63e(0x520)]=new Date(),this[_0x28b63e(0x2fe)][_0x28b63e(0x4d1)](_0x26720f['id'],_0x26720f),this['startBidResponseHandling'](_0x26720f['id']);}catch(_0x237afd){_0x330336<_0x931c02?(_0x542377[_0x28b63e(0x396)](_0x28b63e(0xa47)+_0x330336+_0x28b63e(0x3d6)+_0x26720f['id']+_0x28b63e(0xae6),{'nodeId':this[_0x28b63e(0x911)][_0x28b63e(0x7a4)](),'nodeType':this['owner'][_0x28b63e(0x539)],'data':{'job':_0x26720f,'attempts':_0x330336,'maxRetries':_0x931c02}}),setTimeout(_0x353da7,0x3e8)):(_0x26720f[_0x28b63e(0x5a5)]=_0x1d89a1[_0x28b63e(0x1a2)][_0x28b63e(0x7ed)],_0x26720f[_0x28b63e(0x520)]=new Date(),this[_0x28b63e(0x2fe)][_0x28b63e(0x4d1)](_0x26720f['id'],_0x26720f),_0x542377[_0x28b63e(0x28d)](_0x28b63e(0x918)+_0x26720f['id']+'\x20after\x20'+_0x931c02+'\x20attempts:',{'nodeId':this[_0x28b63e(0x911)][_0x28b63e(0x7a4)](),'nodeType':this['owner'][_0x28b63e(0x539)],'data':{'job':_0x26720f,'attempts':_0x330336,'maxRetries':_0x931c02,'error':_0x237afd}}));}};_0x353da7();const {id:_0xa250c7}=_0x26720f;this[_0x373b2a(0x1aa)](_0x373b2a(0x75f)+_0x26720f['id']+_0x373b2a(0x935),{'jobId':_0xa250c7}),_0x26720f[_0x373b2a(0x520)]=new Date();}catch(_0xfd3cf5){_0x26720f[_0x373b2a(0x5a5)]=_0x1d89a1[_0x373b2a(0x1a2)]['Failed'],_0x542377[_0x373b2a(0x28d)](_0x373b2a(0x918)+_0x26720f['id']+':',{'nodeId':this[_0x373b2a(0x911)][_0x373b2a(0x7a4)](),'nodeType':this[_0x373b2a(0x911)]['type'],'data':{'job':_0x26720f,'error':_0xfd3cf5}});}return _0x34318f[_0x373b2a(0x258)]();}[_0xab329a(0x566)](_0x2c143c){const _0xe5470a=_0xab329a,_0x2d2d93=this[_0xe5470a(0x2fe)][_0xe5470a(0x153)](_0x2c143c);if(!_0x2d2d93)throw new _0x1695e5(_0x91d017[_0xe5470a(0x1e2)],'Job\x20with\x20id\x20'+_0x2c143c+_0xe5470a(0x587));return{'id':_0x2d2d93['id'],'jobType':_0x2d2d93['jobType'],'status':_0x2d2d93[_0xe5470a(0x5a5)],'parameters':_0x2d2d93[_0xe5470a(0x573)]};}['getJobs'](){const _0x5b2e4f=_0xab329a;return Array[_0x5b2e4f(0x61d)](this[_0x5b2e4f(0x2fe)][_0x5b2e4f(0xb40)]())[_0x5b2e4f(0x591)](_0x19a901=>this[_0x5b2e4f(0x566)](_0x19a901['id']));}async['updateJob'](_0x1c85a3,_0x5b6f1d){const _0x4ccca2=_0xab329a,_0x57a9df=this[_0x4ccca2(0x2fe)][_0x4ccca2(0x153)](_0x1c85a3);if(!_0x57a9df)throw new _0x1695e5(_0x91d017['JobDispatcherJobNotFound'],_0x4ccca2(0x56f)+_0x1c85a3+_0x4ccca2(0x587));_0x57a9df[_0x4ccca2(0x573)]=_0x5b6f1d,_0x57a9df[_0x4ccca2(0x520)]=new Date(),this[_0x4ccca2(0x2fe)]['set'](_0x1c85a3,_0x57a9df);}async[_0xab329a(0x5ea)](_0x485494){const _0x25a482=_0xab329a;if(!this[_0x25a482(0x2fe)][_0x25a482(0x425)](_0x485494))throw new _0x1695e5(_0x91d017[_0x25a482(0x1e2)],_0x25a482(0x56f)+_0x485494+'\x20not\x20found.');const _0x534ae6=this['jobObservers'][_0x25a482(0x153)](_0x485494);if(!_0x534ae6)throw new _0x227d3a(_0x227d3a['codes'][_0x25a482(0x4f8)]);_0x534ae6[_0x25a482(0x5f5)](),this[_0x25a482(0x4c2)]['delete'](_0x485494),_0x542377[_0x25a482(0x4ad)](_0x59a34d['Jobs'],_0x25a482(0x75f)+_0x485494+_0x25a482(0x8ba));}[_0xab329a(0x805)](_0x5427df,_0x45919e,_0x3921c0){const _0x5359de=_0xab329a,_0x5efecb=this[_0x5359de(0x6bd)]['get'](_0x45919e)??new Map();_0x5efecb[_0x5359de(0x4d1)](_0x5427df,[_0x3921c0,Date['now']()]),this[_0x5359de(0x6bd)][_0x5359de(0x4d1)](_0x45919e,_0x5efecb),this[_0x5359de(0xb36)](_0x45919e);}[_0xab329a(0xa2c)](_0x3393a9){const _0x131abe=_0xab329a,_0x4f0281=this['jobs'][_0x131abe(0x153)](_0x3393a9);if(!_0x4f0281)throw new _0x227d3a(_0x227d3a[_0x131abe(0x821)][_0x131abe(0x1e2)]);const _0x2d735b=setTimeout(()=>this[_0x131abe(0xb36)](_0x3393a9,!0x0),0xbb8);_0x4f0281[_0x131abe(0x4e3)]=_0x2d735b,this['jobs']['set'](_0x4f0281['id'],_0x4f0281);}[_0xab329a(0xb36)](_0x510d13,_0x149ce9=!0x1){const _0x28c239=_0xab329a,_0x58e32a=this['graphService'][_0x28c239(0x962)](),_0x16481e=Array[_0x28c239(0x61d)](_0x58e32a['values']())[_0x28c239(0x2b3)](_0x489bdc=>_0x489bdc[_0x28c239(0x539)]===_0x1d89a1[_0x28c239(0x21e)][_0x28c239(0x52c)]),_0x44c7c9=this[_0x28c239(0x6bd)]['get'](_0x510d13)??new Map();if(!_0x149ce9&&(!_0x44c7c9||_0x44c7c9[_0x28c239(0xa86)]<_0x16481e[_0x28c239(0x4f0)]))return;const _0x3bd874=this['jobs'][_0x28c239(0x153)](_0x510d13);if(!_0x3bd874)throw new _0x227d3a(_0x227d3a['codes'][_0x28c239(0x1e2)]);if(clearTimeout(_0x3bd874[_0x28c239(0x4e3)]),_0x542377['log'](_0x59a34d[_0x28c239(0x3e3)],_0x28c239(0x75f)+_0x3bd874['id']+'\x20received\x20responses:',_0x44c7c9,this[_0x28c239(0x6bd)]),!_0x44c7c9||0x0===_0x44c7c9['size']){_0x3bd874[_0x28c239(0x5a5)]=_0x1d89a1[_0x28c239(0x1a2)][_0x28c239(0x7ed)],_0x3bd874[_0x28c239(0x520)]=new Date(),_0x542377[_0x28c239(0x28d)](_0x28c239(0x75f)+_0x3bd874['id']+'\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.',{'nodeId':this['owner'][_0x28c239(0x7a4)](),'nodeType':this[_0x28c239(0x911)][_0x28c239(0x539)],'data':{'job':_0x3bd874,'responses':_0x44c7c9}});const _0x4a3eed=this[_0x28c239(0x4c2)][_0x28c239(0x153)](_0x510d13);if(!_0x4a3eed)throw new _0x227d3a(_0x227d3a[_0x28c239(0x821)]['JobDispatcherObserverNotFound']);const _0x4ed5e5='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x5cef25={'id':_0x3bd874['id'],'status':_0x3bd874[_0x28c239(0x5a5)],'message':_0x4ed5e5};return _0x4a3eed[_0x28c239(0x9a1)](_0x5cef25),_0x4a3eed['complete'](),this[_0x28c239(0x2fe)][_0x28c239(0x4d1)](_0x3bd874['id'],_0x3bd874),void this[_0x28c239(0x6bd)][_0x28c239(0x425)](_0x510d13);}const {nodeId:_0x5c1071,response:_0x1f7d0d}=this[_0x28c239(0x664)](_0x3bd874['id'],_0x44c7c9);_0x3bd874[_0x28c239(0x5a5)]=_0x1d89a1[_0x28c239(0x1a2)]['Processing'],_0x3bd874[_0x28c239(0x520)]=new Date(),_0x542377[_0x28c239(0x4ad)](_0x59a34d[_0x28c239(0x3e3)],'Job\x20'+_0x3bd874['id']+_0x28c239(0x69d)+_0x5c1071+_0x28c239(0xae0),_0x1f7d0d);const _0xd55e39={'id':_0x3bd874['id'],'jobType':_0x3bd874['jobType'],'jobPhase':_0x259adb[_0x28c239(0x3f4)],'parameters':_0x3bd874[_0x28c239(0x573)]};this[_0x28c239(0x872)](_0xd55e39,[_0x5c1071]),this['jobs']['set'](_0x3bd874['id'],_0x3bd874),this[_0x28c239(0x6bd)]['delete'](_0x510d13);}[_0xab329a(0x664)](_0x34db56,_0xddaaff){const _0x57e894=_0xab329a;let _0x273f88;const _0x3add73=Array[_0x57e894(0x61d)](_0xddaaff['entries']())[_0x57e894(0x2b3)](([,[_0x1edca2]])=>_0x1edca2[_0x57e894(0x8a8)]);if(_0x273f88=_0x3add73[_0x57e894(0x4f0)]>0x0?Array[_0x57e894(0x61d)](_0xddaaff[_0x57e894(0x41b)]())[_0x57e894(0x32a)]((_0x3b00d1,_0x59f4f8)=>_0x59f4f8[0x1][0x0][_0x57e894(0x3a4)]-_0x3b00d1[0x1][0x0][_0x57e894(0x3a4)]):Array[_0x57e894(0x61d)](_0xddaaff['entries']())[_0x57e894(0x32a)]((_0x5dc112,_0x35081b)=>_0x5dc112[0x1][0x0][_0x57e894(0x86c)]-_0x35081b[0x1][0x0][_0x57e894(0x86c)]),0x1===_0x273f88[_0x57e894(0x4f0)])return{'nodeId':_0x273f88[0x0][0x0],'response':_0x273f88[0x0][0x1][0x0]};let _0x2ddb30;if(_0x2ddb30=_0x3add73[_0x57e894(0x4f0)]>0x0?(_0x10e9f1=>{const _0x594903=_0x57e894,_0x5d43fb=_0x10e9f1[0x0][0x1][0x0]['bid'];return _0x10e9f1[_0x594903(0x2b3)](([,[_0x282122]])=>_0x282122[_0x594903(0x3a4)]===_0x5d43fb);})(_0x273f88):(_0x511e1e=>{const _0x2554d1=_0x57e894,_0x398063=_0x511e1e[0x0][0x1][0x0][_0x2554d1(0x86c)];return _0x511e1e[_0x2554d1(0x2b3)](([,[_0x39edc2]])=>_0x39edc2['queueLength']===_0x398063);})(_0x273f88),0x1===_0x2ddb30[_0x57e894(0x4f0)])return{'nodeId':_0x2ddb30[0x0][0x0],'response':_0x2ddb30[0x0][0x1][0x0]};const _0x283d57=this[_0x57e894(0x2fe)][_0x57e894(0x153)](_0x34db56);if(!_0x283d57)throw new _0x227d3a(_0x227d3a['codes'][_0x57e894(0x1e2)]);const _0x1696eb=_0x283d57[_0x57e894(0xa8b)][_0x57e894(0x306)](),_0x517043=_0x2ddb30[_0x57e894(0x591)](([_0x52bcaf,[,_0x595706]])=>({'nodeId':_0x52bcaf,'rtt':_0x595706-_0x1696eb})),_0x503d06=Math[_0x57e894(0x4bf)](..._0x517043['map'](({rtt:_0x513a1b})=>_0x513a1b)),_0x33f7dc=_0x517043[_0x57e894(0xb4a)](({rtt:_0x370e08})=>_0x370e08===_0x503d06),[,[_0x1748d6]]=_0x2ddb30[_0x57e894(0xb4a)](([_0x54a9c3])=>_0x54a9c3===_0x33f7dc[_0x57e894(0x1c9)]);return{'nodeId':_0x33f7dc[_0x57e894(0x1c9)],'response':_0x1748d6};}['evaluatePartialJob'](_0x3f63a0,_0x412f9d){const _0x3097b5=_0xab329a,_0x753c0a=this[_0x3097b5(0x2fe)][_0x3097b5(0x153)](_0x3f63a0);if(!_0x753c0a)throw new _0x227d3a(_0x227d3a[_0x3097b5(0x821)]['JobDispatcherJobNotFound']);const _0x2b49fd=this[_0x3097b5(0x4c2)][_0x3097b5(0x153)](_0x3f63a0);if(!_0x2b49fd)throw new _0x227d3a(_0x227d3a[_0x3097b5(0x821)][_0x3097b5(0x4f8)]);const _0x37e866={'id':_0x753c0a['id'],'status':_0x1d89a1[_0x3097b5(0x1a2)][_0x3097b5(0xa31)],'result':_0x412f9d[_0x3097b5(0x311)]};_0x2b49fd['next'](_0x37e866);}['evaluateProccessedJob'](_0x4727f4,_0x3fe7da){const _0x293194=_0xab329a,_0x2e7391=this['jobs'][_0x293194(0x153)](_0x4727f4);if(!_0x2e7391)throw new _0x227d3a(_0x227d3a['codes'][_0x293194(0x1e2)]);const _0x270a50=this[_0x293194(0x4c2)]['get'](_0x4727f4);if(!_0x270a50)throw new _0x227d3a(_0x227d3a[_0x293194(0x821)][_0x293194(0x4f8)]);_0x2e7391[_0x293194(0x5a5)]=_0x1d89a1['JobStatus'][_0x293194(0x7b9)];const _0x28fe4f={'id':_0x2e7391['id'],'status':_0x2e7391[_0x293194(0x5a5)],'result':_0x3fe7da['result']};_0x270a50[_0x293194(0x9a1)](_0x28fe4f),_0x270a50[_0x293194(0x5f5)](),this['jobObservers'][_0x293194(0x425)](_0x4727f4),this[_0x293194(0x1aa)](_0x293194(0x75f)+_0x4727f4+_0x293194(0x81d),{'jobId':_0x4727f4});}[_0xab329a(0x199)](_0x432077,_0x1711cf){const _0x511829=_0xab329a,_0x2ac846=this[_0x511829(0x2fe)][_0x511829(0x153)](_0x432077);if(!_0x2ac846)throw new _0x227d3a(_0x227d3a[_0x511829(0x821)][_0x511829(0x1e2)]);const _0x583406=this['jobObservers'][_0x511829(0x153)](_0x432077);if(!_0x583406)throw new _0x227d3a(_0x227d3a['codes'][_0x511829(0x4f8)]);_0x2ac846[_0x511829(0x5a5)]=_0x1d89a1[_0x511829(0x1a2)][_0x511829(0x7ed)];const _0x1747f9={'id':_0x2ac846['id'],'status':_0x2ac846[_0x511829(0x5a5)],'message':_0x1711cf};_0x583406['next'](_0x1747f9),_0x583406[_0x511829(0x5f5)](),this['jobObservers'][_0x511829(0x425)](_0x432077),this[_0x511829(0x1aa)](_0x511829(0x75f)+_0x432077+_0x511829(0x90e),{'jobId':_0x432077});}['logEvent'](_0x43e1ab,{jobId:_0x3411cf}){const _0x3895eb=_0xab329a,_0x5697c5={'jobId':_0x3411cf,'mistletIds':Array[_0x3895eb(0x61d)](this['graphService'][_0x3895eb(0x962)]()[_0x3895eb(0xb40)]())['filter'](_0x22321d=>_0x22321d[_0x3895eb(0x539)]===_0x1d89a1['NodeType'][_0x3895eb(0x52c)])[_0x3895eb(0x591)](_0x1f5281=>_0x1f5281['getId']())};_0x542377[_0x3895eb(0x1aa)](_0x43e1ab,{'nodeId':this[_0x3895eb(0x908)](),'nodeType':this[_0x3895eb(0x911)][_0x3895eb(0x539)],'data':_0x5697c5}),_0x542377['log'](_0x59a34d[_0x3895eb(0x3e3)],_0x43e1ab,_0x5697c5);}[_0xab329a(0xaa9)](_0x3561fa){const _0xff9b7b=_0xab329a,{jobPhase:_0x1e1e07,available:_0x2a9ff2,bid:_0x59901d}=_0x3561fa;return _0x1e1e07===_0x259adb[_0xff9b7b(0x8b4)]&&void 0x0!==_0x2a9ff2&&void 0x0!==_0x59901d;}[_0xab329a(0x67f)](_0xc7ea1d){const {jobPhase:_0x12975f,result:_0x4e768f}=_0xc7ea1d;return _0x12975f===_0x259adb['PartialResult']&&void 0x0!==_0x4e768f;}[_0xab329a(0x620)](_0x2d2641){const {jobPhase:_0x4816c7,result:_0xe5068b}=_0x2d2641;return _0x4816c7===_0x259adb['Result']&&void 0x0!==_0xe5068b;}[_0xab329a(0x843)](_0x3e1bc5){const _0x7136cc=_0xab329a,{jobPhase:_0x572a8e,message:_0x1f4015}=_0x3e1bc5;return _0x572a8e===_0x259adb[_0x7136cc(0x7ed)]&&void 0x0!==_0x1f4015&&_0x7136cc(0x816)==typeof _0x1f4015;}}var _0x10c890,_0x2d5b5c,_0x5d88c6,_0x5395bb,_0x358737;!function(_0xfb72a8){const _0x2ddb6f=_0xab329a;_0xfb72a8[_0x2ddb6f(0x79f)]=_0x2ddb6f(0x981),_0xfb72a8[_0x2ddb6f(0x5e6)]='external-storage';}(_0x10c890||(_0x10c890={})),function(_0xa6b1fa){const _0x246a4d=_0xab329a;_0xa6b1fa['Agent']='agent',_0xa6b1fa['AgentSkill']=_0x246a4d(0x808),_0xa6b1fa[_0x246a4d(0x2ec)]='router',_0xa6b1fa['CustomSkill']='custom-skill',_0xa6b1fa['DataCollection']=_0x246a4d(0x4fa),_0xa6b1fa[_0x246a4d(0x69e)]=_0x246a4d(0x733),_0xa6b1fa['Prompt']=_0x246a4d(0x850),_0xa6b1fa[_0x246a4d(0x343)]=_0x246a4d(0x8ce),_0xa6b1fa[_0x246a4d(0xb15)]=_0x246a4d(0x9ac),_0xa6b1fa[_0x246a4d(0x466)]=_0x246a4d(0x9b9),_0xa6b1fa[_0x246a4d(0x8ff)]=_0x246a4d(0x9a7),_0xa6b1fa[_0x246a4d(0x659)]=_0x246a4d(0x7e0),_0xa6b1fa['WebScraper']=_0x246a4d(0x6ff),_0xa6b1fa[_0x246a4d(0x519)]=_0x246a4d(0x6de),_0xa6b1fa[_0x246a4d(0x689)]=_0x246a4d(0x60b),_0xa6b1fa[_0x246a4d(0x4e7)]=_0x246a4d(0x2c4),_0xa6b1fa[_0x246a4d(0x6af)]='chunk-splitter',_0xa6b1fa[_0x246a4d(0x369)]=_0x246a4d(0x773),_0xa6b1fa['WordSplitter']=_0x246a4d(0x603),_0xa6b1fa[_0x246a4d(0x9c1)]=_0x246a4d(0x479),_0xa6b1fa['ImageParser']=_0x246a4d(0x24a),_0xa6b1fa['InputStream']=_0x246a4d(0x5ee),_0xa6b1fa[_0x246a4d(0x187)]=_0x246a4d(0x599),_0xa6b1fa[_0x246a4d(0x8ee)]=_0x246a4d(0x2c6);}(_0x2d5b5c||(_0x2d5b5c={})),function(_0x48caef){const _0x1da843=_0xab329a;_0x48caef[_0x1da843(0x4d0)]=_0x1da843(0x1fd),_0x48caef['ExternalStorageUpload']='external-storage-upload',_0x48caef['DocumentParser']=_0x1da843(0x479),_0x48caef[_0x1da843(0x6af)]=_0x1da843(0x3b8),_0x48caef[_0x1da843(0x74f)]=_0x1da843(0x603),_0x48caef['SentenceSplitter']=_0x1da843(0x773),_0x48caef[_0x1da843(0x1e6)]=_0x1da843(0xb46),_0x48caef[_0x1da843(0x6f4)]=_0x1da843(0xb35),_0x48caef['Reranker']=_0x1da843(0x5ed),_0x48caef[_0x1da843(0x2d6)]=_0x1da843(0x968),_0x48caef['Agent']='agent',_0x48caef[_0x1da843(0x5bf)]='object-storage',_0x48caef[_0x1da843(0x832)]='key-value-database',_0x48caef[_0x1da843(0xa8c)]='vector-database',_0x48caef[_0x1da843(0x810)]=_0x1da843(0x37f),_0x48caef[_0x1da843(0x642)]=_0x1da843(0x850),_0x48caef[_0x1da843(0x82a)]='context',_0x48caef['Upload']=_0x1da843(0x904),_0x48caef[_0x1da843(0x4c5)]=_0x1da843(0x419);}(_0x5d88c6||(_0x5d88c6={})),function(_0x3d23a7){const _0x15263a=_0xab329a;_0x3d23a7[_0x15263a(0x99b)]=_0x15263a(0x22c),_0x3d23a7[_0x15263a(0x459)]=_0x15263a(0x66d),_0x3d23a7[_0x15263a(0x7b1)]=_0x15263a(0x890),_0x3d23a7[_0x15263a(0x585)]=_0x15263a(0x8d2),_0x3d23a7[_0x15263a(0x4af)]=_0x15263a(0x62e),_0x3d23a7['Vector']='vector',_0x3d23a7[_0x15263a(0x619)]=_0x15263a(0x78b),_0x3d23a7[_0x15263a(0x7b2)]=_0x15263a(0x836),_0x3d23a7[_0x15263a(0x8ff)]=_0x15263a(0x9a7),_0x3d23a7[_0x15263a(0x502)]=_0x15263a(0x730),_0x3d23a7['Tool']=_0x15263a(0x7cc),_0x3d23a7[_0x15263a(0x82a)]=_0x15263a(0x3c0),_0x3d23a7['Wait']=_0x15263a(0xb1d),_0x3d23a7['WaitTrue']=_0x15263a(0xa1a),_0x3d23a7['WaitFalse']=_0x15263a(0x207);}(_0x5395bb||(_0x5395bb={})),function(_0x3f201d){const _0x3f5336=_0xab329a;_0x3f201d[_0x3f5336(0x527)]=_0x3f5336(0x48b),_0x3f201d['Account']=_0x3f5336(0x5e4),_0x3f201d[_0x3f5336(0x6d8)]=_0x3f5336(0x710);}(_0x358737||(_0x358737={}));const _0x761a75=[{'type':_0x2d5b5c[_0xab329a(0x2ec)],'id':_0xab329a(0x3c1),'name':'Conditional\x20Router','description':_0xab329a(0x2cb),'modelId':_0xab329a(0x2ce),'instructions':'Analyze\x20the\x20following\x20input\x20and\x20only\x20output\x20a\x20JSON\x20object\x20with\x20key\x20\x22condition_result\x22\x20(true\x20or\x20false).\x0a-\x20No\x20text\x20other\x20than\x20the\x20JSON\x20object.\x0a\x0aExample\x20Output:\x0a{\x0a\x20\x20\x22condition_result\x22:\x20true\x0a}','grammar':'if_else','temperature':0x0,'maxTokens':0x64}],_0x4b526d=[{'type':_0x2d5b5c[_0xab329a(0x52c)],'id':'blank-agent','name':_0xab329a(0x663),'description':'','modelId':'gpt-4.1-nano','instructions':'','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c['Agent'],'id':_0xab329a(0x41e),'name':'Generic\x20AI\x20Agent','description':_0xab329a(0xa49),'modelId':_0xab329a(0x2ce),'instructions':_0xab329a(0x9f7),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c[_0xab329a(0x52c)],'id':_0xab329a(0x5b4),'name':_0xab329a(0x683),'description':_0xab329a(0x8fe),'modelId':_0xab329a(0x2ce),'instructions':'Search\x20Agent\x20specializes\x20in\x20retrieving\x20accurate\x20and\x20relevant\x20information\x20using\x20available\x20tools.\x0a-\x20It\x20determines\x20the\x20best\x20search\x20approach\x20based\x20on\x20the\x20user\x20query.\x0a-\x20It\x20uses\x20structured\x20queries\x20to\x20gather\x20precise\x20results.\x0a-\x20It\x20filters\x20out\x20irrelevant\x20or\x20outdated\x20information.\x0a-\x20It\x20summarizes\x20findings\x20clearly\x20and\x20concisely.\x0a-\x20It\x20provides\x20sources\x20or\x20references\x20when\x20applicable.\x0a-\x20It\x20ensures\x20responses\x20are\x20up-to-date\x20and\x20fact-based.\x0a-\x20It\x20structures\x20results\x20in\x20Markdown\x20format\x20for\x20readability.\x0a-\x20It\x20avoids\x20speculation\x20and\x20only\x20returns\x20verified\x20information.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c[_0xab329a(0x52c)],'id':_0xab329a(0x7bf),'name':'Feedback\x20Agent','description':'Gathers\x20structured\x20user\x20feedback\x20and\x20compiles\x20reports.','modelId':_0xab329a(0x2ce),'instructions':'Feedback\x20Agent\x20specializes\x20in\x20collecting\x20structured\x20feedback\x20through\x20dynamic\x20Q&A\x20interactions.\x0a-\x20It\x20identifies\x20the\x20type\x20of\x20feedback\x20needed\x20(e.g.,\x20product\x20experience,\x20service\x20quality,\x20event\x20review).\x0a-\x20It\x20asks\x20specific,\x20unbiased,\x20and\x20concise\x20questions\x20sequentially.\x0a-\x20Adjusts\x20follow-up\x20questions\x20dynamically\x20based\x20on\x20responses.\x0a-\x20Categorizes\x20responses\x20into\x20themes\x20if\x20applicable.\x0a-\x20Provides\x20a\x20structured\x20summary\x20at\x20the\x20end.\x0a-\x20Never\x20asks\x20leading\x20or\x20suggestive\x20questions.\x0a-\x20Uses\x20Markdown\x20formatting\x20for\x20clarity.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c[_0xab329a(0x52c)],'id':_0xab329a(0x931),'name':'Learning\x20Agent','description':_0xab329a(0x96a),'modelId':_0xab329a(0x2ce),'instructions':_0xab329a(0x867),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c[_0xab329a(0x52c)],'id':'query-generator','name':_0xab329a(0x4fe),'description':'Helps\x20users\x20construct\x20optimized\x20SQL\x20or\x20NoSQL\x20queries.','modelId':_0xab329a(0x2ce),'instructions':_0xab329a(0x354),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c['Agent'],'id':_0xab329a(0x30b),'name':_0xab329a(0x267),'description':_0xab329a(0xb27),'modelId':_0xab329a(0x2ce),'instructions':'Competitive\x20Analysis\x20Agent\x20tracks\x20competitors\x27\x20products,\x20pricing,\x20and\x20market\x20strategies.\x0a-\x20It\x20first\x20identifies\x20competitors\x20and\x20analysis\x20aspects\x20(e.g.,\x20pricing,\x20features,\x20marketing).\x0a-\x20Collects\x20insights\x20from\x20public\x20reports,\x20websites,\x20and\x20customer\x20reviews.\x0a-\x20Provides\x20a\x20structured\x20comparison\x20highlighting\x20strengths,\x20weaknesses,\x20and\x20differentiators.\x0a-\x20Uses\x20a\x20SWOT\x20analysis\x20format\x20when\x20applicable.\x0a-\x20Presents\x20competitor\x20data\x20in\x20tables\x20with\x20a\x20Data\x20Source\x20&\x20Timestamp\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c[_0xab329a(0x52c)],'id':_0xab329a(0xae3),'name':_0xab329a(0x25f),'description':'Helps\x20businesses\x20analyze\x20options\x20and\x20make\x20strategic\x20decisions.','modelId':_0xab329a(0x2ce),'instructions':'Strategizing\x20Agent\x20helps\x20businesses\x20evaluate\x20strategies,\x20analyze\x20market\x20conditions,\x20and\x20optimize\x20decision-making.\x0a-\x20Identifies\x20the\x20business\x20goal\x20or\x20challenge\x20before\x20providing\x20recommendations.\x0a-\x20Provides\x20data-driven\x20insights\x20referencing\x20industry\x20benchmarks\x20and\x20trends.\x0a-\x20Uses\x20logical\x20frameworks\x20such\x20as\x20SWOT\x20Analysis,\x20Risk\x20Assessment,\x20and\x20Strategic\x20Roadmaps.\x0a-\x20Presents\x20recommendations\x20objectively,\x20listing\x20advantages\x20and\x20disadvantages.\x0a-\x20Uses\x20structured\x20formatting\x20with\x20bullet\x20points\x20and\x20comparison\x20tables.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c[_0xab329a(0x52c)],'id':_0xab329a(0x966),'name':_0xab329a(0x644),'description':_0xab329a(0x34e),'modelId':_0xab329a(0x2ce),'instructions':_0xab329a(0x9c7),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c[_0xab329a(0x52c)],'id':_0xab329a(0x321),'name':_0xab329a(0x9c3),'description':'Retrieves\x20historical\x20data\x20from\x20online\x20archives.','modelId':_0xab329a(0x2ce),'instructions':'Archival\x20Search\x20Agent\x20retrieves\x20historical\x20records,\x20archives,\x20and\x20academic\x20sources.\x0a-\x20Identifies\x20the\x20time\x20period\x20and\x20event\x20of\x20interest\x20before\x20searching.\x0a-\x20Searches\x20historical\x20databases,\x20digital\x20libraries,\x20and\x20archives.\x0a-\x20Prioritizes\x20academic,\x20governmental,\x20and\x20reputable\x20historical\x20sources.\x0a-\x20Provides\x20contextual\x20insights\x20linking\x20historical\x20events\x20to\x20modern\x20interpretations.\x0a-\x20Summaries\x20include\x20timeframes,\x20key\x20figures,\x20and\x20events,\x20with\x20a\x20References\x20section.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c[_0xab329a(0x52c)],'id':_0xab329a(0xb0e),'name':_0xab329a(0x20d),'description':'Collects\x20and\x20summarizes\x20market\x20trends\x20from\x20various\x20sources.','modelId':'gpt-4.1-nano','instructions':_0xab329a(0x662),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'type':_0x2d5b5c['Agent'],'id':_0xab329a(0x856),'name':_0xab329a(0xaad),'description':_0xab329a(0x4f3),'modelId':_0xab329a(0x2ce),'instructions':'Copywriter\x20Agent\x20creates\x20engaging,\x20high-quality\x20written\x20content\x20for\x20marketing,\x20blogs,\x20and\x20advertisements.\x0a-\x20Identifies\x20the\x20purpose\x20and\x20audience\x20before\x20generating\x20text.\x0a-\x20Follows\x20brand\x20tone\x20and\x20voice\x20guidelines\x20if\x20provided.\x0a-\x20Generates\x20SEO-optimized\x20and\x20persuasive\x20content\x20for\x20different\x20formats.\x0a-\x20Ensures\x20all\x20writing\x20is\x20original\x20and\x20avoids\x20generic\x20phrases.\x0a-\x20Structures\x20blog\x20articles\x20with\x20headers,\x20ad\x20copy\x20with\x20a\x20headline-body-CTA\x20format.','grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0xab329a(0x45a),'name':_0xab329a(0x1fa),'description':_0xab329a(0x1dc),'modelId':_0xab329a(0x2ce),'instructions':_0xab329a(0x680),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0xab329a(0x517),'name':_0xab329a(0x287),'description':'Conducts\x20interviews\x20and\x20gathers\x20information\x20based\x20on\x20the\x20form\x20tools.','modelId':'gpt-4.1-nano','instructions':_0xab329a(0x345),'grammar':'','temperature':0.8,'maxTokens':0x3e8},{'id':_0xab329a(0x3d1),'name':_0xab329a(0x740),'description':'Specializes\x20in\x20modifying\x20documents\x20based\x20on\x20user\x20input.','modelId':_0xab329a(0x2ce),'instructions':_0xab329a(0x371),'grammar':'','temperature':0.7,'maxTokens':0x3e8}];class _0x9f344c{static [_0xab329a(0xa7f)];constructor(){}static[_0xab329a(0x188)](){const _0x51627c=_0xab329a;return _0x9f344c['instance']||(_0x9f344c[_0x51627c(0xa7f)]=new _0x9f344c()),_0x9f344c['instance'];}async[_0xab329a(0x80a)](_0x235ddb,_0x2a7b11){const _0x236945=_0xab329a,_0x134008=await(0x0,_0x30ad83[_0x236945(0x246)])((0x0,_0x30ad83[_0x236945(0x71b)])(_0x44b60b[_0x236945(0xa12)](),'/developers/'+_0x235ddb+'/resources/generative-ai-workflow/items/'+_0x2a7b11)),_0x189607=await this[_0x236945(0xa03)](_0x235ddb),_0x5678a0=await this[_0x236945(0x85c)](_0x235ddb),_0x31b4ff=await this[_0x236945(0x36d)](_0x235ddb);if(!_0x134008[_0x236945(0x607)]())throw new _0x227d3a(_0x227d3a['codes'][_0x236945(0x42c)]);return this['parseWorkflowDocument'](_0x134008,_0x189607,_0x5678a0,_0x31b4ff);}async[_0xab329a(0x36d)](_0xc46ea8){const _0x1362ac=_0xab329a;return(await(0x0,_0x30ad83[_0x1362ac(0x365)])((0x0,_0x30ad83['collection'])(_0x44b60b[_0x1362ac(0xa12)](),_0x1362ac(0x148)+_0xc46ea8+_0x1362ac(0x4ce))))[_0x1362ac(0xb72)]['map'](_0x54b265=>{const _0x2ceae3=_0x1362ac,_0x532c55=_0x54b265['data']();return{'type':_0x2d5b5c[_0x2ceae3(0x43e)],'id':_0x54b265['id'],'name':_0x532c55[_0x2ceae3(0x432)],'description':_0x532c55[_0x2ceae3(0x791)],'storageType':_0x532c55['storageType']??_0x1d89a1['GenerativeAIRagType'][_0x2ceae3(0x17a)],'hosting':_0x532c55['hosting']??_0x358737[_0x2ceae3(0x6d8)],'modelId':_0x532c55[_0x2ceae3(0xa5c)]??'text-embedding-3-small','ingestBlocks':_0x532c55[_0x2ceae3(0x8c5)],'retrieveBlocks':_0x532c55[_0x2ceae3(0xb58)]};});}async[_0xab329a(0x6e2)](_0x4dd9d1,_0x1a00aa){const _0x3085f3=_0xab329a,_0x171e0f=await(0x0,_0x30ad83[_0x3085f3(0x246)])((0x0,_0x30ad83[_0x3085f3(0x71b)])(_0x44b60b[_0x3085f3(0xa12)](),'/developers/'+_0x4dd9d1+_0x3085f3(0x1ea)+_0x1a00aa)),_0x1ddb53=await this['getAgents'](_0x4dd9d1),_0x21e346=_0x171e0f[_0x3085f3(0x62e)]();if(!_0x21e346)throw new _0x227d3a(_0x227d3a[_0x3085f3(0x821)][_0x3085f3(0x17b)]);return{'type':_0x2d5b5c[_0x3085f3(0x43e)],'id':_0x1a00aa,'uid':_0x1a00aa,'name':_0x21e346['name'],'description':_0x21e346[_0x3085f3(0x791)],'storageType':_0x21e346[_0x3085f3(0x5cd)]??_0x1d89a1[_0x3085f3(0x146)][_0x3085f3(0x17a)],'hosting':_0x21e346['hosting']??_0x358737[_0x3085f3(0x6d8)],'modelId':_0x21e346[_0x3085f3(0xa5c)]??'text-embedding-3-small','ingestBlocks':this['parseDataCollectionBlocks'](_0x21e346[_0x3085f3(0x8c5)],_0x1ddb53),'retrieveBlocks':this['parseDataCollectionBlocks'](_0x21e346['retrieveBlocks'],_0x1ddb53),'links':[]};}['parseWorkflowDocument'](_0x2ded8c,_0x552853,_0x1d8bcf,_0x4f1584){const _0x7170c=_0xab329a,_0x559785=_0x2ded8c[_0x7170c(0x62e)]();if(!_0x559785)throw new _0x227d3a(_0x227d3a[_0x7170c(0x821)][_0x7170c(0x42c)]);const _0x3c7e1a=this[_0x7170c(0x422)](_0x559785['blocks'],_0x552853,_0x1d8bcf,_0x4f1584);return{'id':_0x2ded8c['id'],'name':_0x559785[_0x7170c(0x432)],'description':_0x559785[_0x7170c(0x791)],'blocks':_0x3c7e1a,'dataBucketIds':this[_0x7170c(0x623)](_0x3c7e1a),'externalStorageConnectionIds':this['getWorkflowExternalStorageConnections'](_0x3c7e1a),'initialPrompt':_0x559785[_0x7170c(0xab6)]};}[_0xab329a(0x623)](_0x3f714f){const _0x26acae=_0xab329a,_0x1a6cc5=new Set();for(const _0x5d502d of _0x3f714f)switch(_0x5d502d[_0x26acae(0x539)]){case _0x2d5b5c['Knowledge']:case _0x2d5b5c[_0x26acae(0x43e)]:for(const _0x573043 of[..._0x5d502d['ingestBlocks'],..._0x5d502d['retrieveBlocks']])_0x573043[_0x26acae(0x539)]===_0x5d88c6[_0x26acae(0x4d0)]&&_0x1a6cc5[_0x26acae(0x232)](_0x573043['id']);}return Array[_0x26acae(0x61d)](_0x1a6cc5);}[_0xab329a(0x878)](_0x89957c){const _0x22c499=_0xab329a,_0x1d4868=new Set();for(const _0x222ac7 of _0x89957c)switch(_0x222ac7[_0x22c499(0x539)]){case _0x2d5b5c[_0x22c499(0x69e)]:case _0x2d5b5c[_0x22c499(0x43e)]:for(const _0x357454 of[..._0x222ac7['ingestBlocks'],..._0x222ac7[_0x22c499(0xb58)]])_0x357454[_0x22c499(0x539)]===_0x5d88c6['ExternalStorageUpload']&&_0x1d4868[_0x22c499(0x232)](_0x357454['id']);}return Array['from'](_0x1d4868);}[_0xab329a(0x422)](_0x1864fd,_0x4da4cf,_0xa02b8f,_0xd574cf){const _0x5e68fb=_0xab329a;return _0x1864fd[_0x5e68fb(0x591)](_0x29bf26=>{const _0xf07d57=_0x5e68fb;switch(_0x29bf26[_0xf07d57(0x539)]){case _0x2d5b5c[_0xf07d57(0x52c)]:case _0x2d5b5c[_0xf07d57(0x158)]:case _0x2d5b5c[_0xf07d57(0x2ec)]:const _0x5436db=_0x4da4cf['find'](_0x1f46ba=>_0x1f46ba['id']===_0x29bf26['id']);if(!_0x5436db)throw new _0x227d3a(_0x227d3a['codes'][_0xf07d57(0xaf7)],{'block':_0x29bf26});return{'type':_0x2d5b5c[_0xf07d57(0x52c)],'id':_0x5436db['id'],'uid':_0x29bf26[_0xf07d57(0xa4b)],'name':_0x5436db[_0xf07d57(0x432)],'description':_0x5436db[_0xf07d57(0x791)],'instructions':(_0x5436db['instructions']+'\x0a\x0a'+(_0x29bf26[_0xf07d57(0x1e8)]?.[_0xf07d57(0x174)]??''))[_0xf07d57(0x254)](),'contextOutputVariable':_0x29bf26['agent']?.[_0xf07d57(0x486)],'contextInputVariable':_0x29bf26['agent']?.[_0xf07d57(0x2de)],'reasoning':_0x29bf26[_0xf07d57(0x1e8)]?.[_0xf07d57(0x77a)]??!0x1,'grammar':_0x29bf26[_0xf07d57(0x1e8)]?.[_0xf07d57(0x5ef)]??'default','temperature':_0x29bf26[_0xf07d57(0x1e8)]?.[_0xf07d57(0x853)]??0.5,'maxTokens':_0x29bf26[_0xf07d57(0x1e8)]?.['maxTokens']??0x1f4,'modelId':_0x29bf26[_0xf07d57(0x1e8)]?.[_0xf07d57(0xa5c)]??_0xf07d57(0x4a0),'links':_0x29bf26[_0xf07d57(0x9a8)]};case _0x2d5b5c['Knowledge']:case _0x2d5b5c[_0xf07d57(0x43e)]:const _0x1923cb=_0xd574cf['find'](_0x4d22fa=>_0x4d22fa['id']===_0x29bf26['id']);if(!_0x1923cb)throw new _0x227d3a(_0x227d3a[_0xf07d57(0x821)][_0xf07d57(0xaf7)],{'block':_0x29bf26});return{'type':_0x29bf26[_0xf07d57(0x539)],'id':_0x1923cb['id'],'uid':_0x29bf26[_0xf07d57(0xa4b)],'name':_0x1923cb['name'],'description':_0x1923cb['description'],'ingestBlocks':this[_0xf07d57(0x6ec)](_0x1923cb['ingestBlocks'],_0x4da4cf),'retrieveBlocks':this[_0xf07d57(0x6ec)](_0x1923cb[_0xf07d57(0xb58)],_0x4da4cf),'links':_0x29bf26[_0xf07d57(0x9a8)]};case _0x2d5b5c['CustomSkill']:return{'type':_0x29bf26[_0xf07d57(0x539)],'id':_0x29bf26['id'],'uid':_0x29bf26['uid'],'name':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0x432)],'description':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0x791)],'parameters':_0x29bf26['tool'][_0xf07d57(0x573)],'endpointUrl':_0x29bf26[_0xf07d57(0x7cc)]['endpointUrl'],'endpointMethod':_0x29bf26['tool']['endpointMethod'],'headers':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0xadd)],'queryParameters':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0x563)],'bodyParameters':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0x229)],'contextOutputVariable':_0x29bf26[_0xf07d57(0x7cc)]['contextOutputVariable'],'links':_0x29bf26[_0xf07d57(0x9a8)]};case _0x2d5b5c[_0xf07d57(0x466)]:return{'type':_0x29bf26['type'],'id':_0x29bf26['id'],'uid':_0x29bf26['uid'],'name':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0x432)],'description':_0x29bf26['tool'][_0xf07d57(0x791)],'questions':_0x29bf26[_0xf07d57(0x7cc)]['questions'][_0xf07d57(0x591)](_0x5420d6=>({'id':_0x5420d6['id'],'question':_0x5420d6[_0xf07d57(0x432)],'validation':_0x5420d6[_0xf07d57(0x706)],'required':_0xf07d57(0x4d3)===_0x5420d6['required'],'format':_0x5420d6[_0xf07d57(0x988)]})),'contextOutputVariable':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0x486)],'links':_0x29bf26[_0xf07d57(0x9a8)]};case _0x2d5b5c[_0xf07d57(0x659)]:return{'type':_0x29bf26[_0xf07d57(0x539)],'id':_0x29bf26['id'],'uid':_0x29bf26[_0xf07d57(0xa4b)],'modelId':_0x29bf26['tool'][_0xf07d57(0xa5c)]??'sonar','links':_0x29bf26[_0xf07d57(0x9a8)]};case _0x2d5b5c[_0xf07d57(0x8ee)]:const _0x1f6ed5=_0xa02b8f[_0xf07d57(0xb4a)](_0x1d538d=>_0x1d538d['id']===_0x29bf26['id']);if(!_0x1f6ed5)throw new _0x227d3a(_0x227d3a[_0xf07d57(0x821)][_0xf07d57(0xaf7)],{'block':_0x29bf26});return{'type':_0x29bf26[_0xf07d57(0x539)],'id':_0x29bf26['id'],'uid':_0x29bf26[_0xf07d57(0xa4b)],'name':_0x1f6ed5['name'],'description':_0x1f6ed5[_0xf07d57(0x791)],'workflowId':_0x1f6ed5['id'],'async':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0x44e)],'contextOutputVariable':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0x486)],'contextInputVariable':_0x29bf26[_0xf07d57(0x7cc)][_0xf07d57(0x2de)],'links':_0x29bf26[_0xf07d57(0x9a8)]};case _0x2d5b5c[_0xf07d57(0x642)]:case _0x2d5b5c[_0xf07d57(0x7d9)]:case _0x2d5b5c['Answer']:case _0x2d5b5c['OutputStream']:case _0x2d5b5c['Code']:case _0x2d5b5c[_0xf07d57(0x8ff)]:case _0x2d5b5c[_0xf07d57(0x4c9)]:case _0x2d5b5c['WebScraperRaw']:case _0x2d5b5c[_0xf07d57(0x689)]:case _0x2d5b5c[_0xf07d57(0x4e7)]:case _0x2d5b5c[_0xf07d57(0x369)]:case _0x2d5b5c[_0xf07d57(0x9c1)]:case _0x2d5b5c[_0xf07d57(0x84a)]:return{'type':_0x29bf26[_0xf07d57(0x539)],'id':_0x29bf26['id'],'uid':_0x29bf26[_0xf07d57(0xa4b)],'links':_0x29bf26[_0xf07d57(0x9a8)]};case _0x2d5b5c[_0xf07d57(0x6af)]:case _0x2d5b5c[_0xf07d57(0x74f)]:return{'type':_0x29bf26[_0xf07d57(0x539)],'id':_0x29bf26['id'],'uid':_0x29bf26['uid'],'links':_0x29bf26[_0xf07d57(0x9a8)],'attributes':_0x29bf26[_0xf07d57(0x9f3)]};default:throw new _0x227d3a(_0x227d3a[_0xf07d57(0x821)][_0xf07d57(0xaf7)],{'block':_0x29bf26});}});}[_0xab329a(0x6ec)](_0x97876,_0x5a3d52){return _0x97876?_0x97876['map'](_0x3a31ce=>{const _0x3bb171=a0_0x1b87;switch(_0x3a31ce[_0x3bb171(0x539)]){case _0x5d88c6[_0x3bb171(0x52c)]:const _0x3a7729=_0x5a3d52['find'](_0x5a7af0=>_0x5a7af0['id']===_0x3a31ce['id']);if(!_0x3a7729)throw new _0x227d3a(_0x227d3a['codes'][_0x3bb171(0xaf7)],{'block':_0x3a31ce});return{'type':_0x3a31ce[_0x3bb171(0x539)],'id':_0x3a31ce['id'],'uid':_0x3a31ce[_0x3bb171(0xa4b)],'description':_0x3a7729['description'],'instructions':(_0x3a7729['instructions']+'\x0a\x0a'+(_0x3a31ce[_0x3bb171(0x1e8)]?.[_0x3bb171(0x174)]??''))['trim'](),'contextOutputVariable':_0x3a31ce[_0x3bb171(0x1e8)]?.['contextOutputVariable'],'contextInputVariable':_0x3a31ce[_0x3bb171(0x1e8)]?.['contextInputVariable'],'reasoning':_0x3a31ce['agent']?.[_0x3bb171(0x77a)]??!0x1,'grammar':_0x3a31ce['agent']?.[_0x3bb171(0x5ef)]??'default','temperature':_0x3a31ce[_0x3bb171(0x1e8)]?.[_0x3bb171(0x853)]??0.5,'maxTokens':_0x3a31ce[_0x3bb171(0x1e8)]?.['maxTokens']??0x1f4,'modelId':_0x3a31ce[_0x3bb171(0x1e8)]?.[_0x3bb171(0xa5c)]??'gpt-4o-mini','links':_0x3a31ce[_0x3bb171(0x9a8)]};case _0x5d88c6[_0x3bb171(0x810)]:case _0x5d88c6[_0x3bb171(0xa8c)]:case _0x5d88c6[_0x3bb171(0x74f)]:case _0x5d88c6[_0x3bb171(0x6af)]:case _0x5d88c6['EntityExtractor']:case _0x5d88c6[_0x3bb171(0x181)]:return{'type':_0x3a31ce[_0x3bb171(0x539)],'id':_0x3a31ce['id'],'uid':_0x3a31ce[_0x3bb171(0xa4b)],'links':_0x3a31ce[_0x3bb171(0x9a8)],'attributes':_0x3a31ce['attributes']};case _0x5d88c6[_0x3bb171(0x2d6)]:case _0x5d88c6['ObjectStorageBucket']:case _0x5d88c6[_0x3bb171(0x832)]:case _0x5d88c6[_0x3bb171(0x1e6)]:case _0x5d88c6[_0x3bb171(0x9c1)]:case _0x5d88c6[_0x3bb171(0x369)]:case _0x5d88c6[_0x3bb171(0x4d0)]:case _0x5d88c6[_0x3bb171(0x8e1)]:case _0x5d88c6['Context']:case _0x5d88c6['Prompt']:case _0x5d88c6[_0x3bb171(0x429)]:case _0x5d88c6[_0x3bb171(0x4c5)]:return{'type':_0x3a31ce['type'],'id':_0x3a31ce['id'],'uid':_0x3a31ce[_0x3bb171(0xa4b)],'links':_0x3a31ce[_0x3bb171(0x9a8)]};default:throw new _0x227d3a(_0x227d3a[_0x3bb171(0x821)][_0x3bb171(0xaf7)],{'block':_0x3a31ce});}}):[];}async[_0xab329a(0xa03)](_0x45b9be){const _0x3addd7=_0xab329a,_0x2fc08b=(await(0x0,_0x30ad83[_0x3addd7(0x365)])((0x0,_0x30ad83[_0x3addd7(0x9be)])(_0x44b60b[_0x3addd7(0xa12)](),_0x3addd7(0x148)+_0x45b9be+_0x3addd7(0x66f))))[_0x3addd7(0xb72)][_0x3addd7(0x591)](_0x38d23f=>{const _0x5ebd03=_0x3addd7,_0x42033b=_0x38d23f[_0x5ebd03(0x62e)]();return{'type':_0x2d5b5c[_0x5ebd03(0x52c)],'id':_0x38d23f['id'],'name':_0x42033b[_0x5ebd03(0x432)],'description':_0x42033b[_0x5ebd03(0x791)],'instructions':_0x42033b[_0x5ebd03(0x74e)]};});return _0x2fc08b[_0x3addd7(0x257)](..._0x761a75),_0x2fc08b['push'](..._0x4b526d),_0x2fc08b;}async[_0xab329a(0x85c)](_0x5dcc23){const _0x1c5df1=_0xab329a;return(await(0x0,_0x30ad83[_0x1c5df1(0x365)])((0x0,_0x30ad83[_0x1c5df1(0x9be)])(_0x44b60b[_0x1c5df1(0xa12)](),_0x1c5df1(0x148)+_0x5dcc23+'/resources/generative-ai-workflow/items')))[_0x1c5df1(0xb72)]['map'](_0x483286=>{const _0x25935c=_0x1c5df1,_0x15703c=_0x483286[_0x25935c(0x62e)]();return{'id':_0x483286['id'],'name':_0x15703c[_0x25935c(0x432)],'description':_0x15703c[_0x25935c(0x791)]};});}}const _0x2c455e=_0x9f344c[_0xab329a(0x188)]();class _0x131ed7 extends _0x3b82f5{['localNode'];['vendorId'];[_0xab329a(0x679)]=0x0;[_0xab329a(0x643)]=0x0;[_0xab329a(0xa82)];constructor(_0x93e0cc,_0x5d2ab9,_0x1f96cd,_0x250ec9){const _0x939a4b=_0xab329a;super(_0x93e0cc,_0x5d2ab9,_0x250ec9),this[_0x939a4b(0x242)]=_0x93e0cc,this[_0x939a4b(0x3e1)]=_0x1f96cd,this[_0x939a4b(0x8e9)]();}[_0xab329a(0x5f3)](){const _0x46d029=_0xab329a;this[_0x46d029(0xa82)]&&(clearTimeout(this['debounceStats']),delete this['debounceStats']),super[_0x46d029(0x5f3)]();}[_0xab329a(0x669)](){const _0x1efe18=_0xab329a;this[_0x1efe18(0x679)]=0x0,this[_0x1efe18(0x643)]=0x0,this[_0x1efe18(0x8e9)](),super[_0x1efe18(0x669)]();}[_0xab329a(0x900)](_0x21d0f2){const _0x59c3a4=_0xab329a,_0x16bf96=_0x59c3a4(0x46a)+(0x0,_0x3aba3d['v4'])();let _0x27cab4=!0x1;const _0x2af2d2=()=>{const _0x2958aa=_0x59c3a4;if(_0x27cab4)throw new _0x227d3a(_0x227d3a[_0x2958aa(0x821)][_0x2958aa(0x606)]);_0x27cab4=!0x0;};switch(_0x21d0f2[_0x59c3a4(0x539)]){case _0x59c3a4(0x451):case _0x59c3a4(0xa5e):case _0x59c3a4(0xa6b):case _0x59c3a4(0x398):case _0x59c3a4(0x224):case _0x59c3a4(0x4aa):case _0x59c3a4(0x4aa):case'file-list':case _0x59c3a4(0x370):case'realtime-session-create':case _0x59c3a4(0x3bf):case _0x59c3a4(0x8c4):case _0x59c3a4(0x419):return{'id':_0x16bf96,..._0x21d0f2,'run':()=>(_0x2af2d2(),this[_0x59c3a4(0x374)](_0x16bf96,_0x21d0f2))};case _0x59c3a4(0x802):case _0x59c3a4(0x850):const _0x20cb08=()=>(_0x2af2d2(),this[_0x59c3a4(0x293)](_0x16bf96,_0x21d0f2)),_0x56f04b=()=>(_0x2af2d2(),this[_0x59c3a4(0x4fd)](_0x16bf96,_0x21d0f2));return{'id':_0x16bf96,'options':{'threadId':_0x59c3a4(0x99d)+(0x0,_0x3aba3d['v4'])()},..._0x21d0f2,'run':_0x20cb08,'stream':_0x56f04b};default:throw new Error(_0x59c3a4(0x735));}}async['internalJob'](_0x5227cf,_0x4ce705){const _0x3aae15=_0xab329a;if(_0x3aae15(0x802)===_0x4ce705[_0x3aae15(0x539)]||_0x3aae15(0x850)===_0x4ce705[_0x3aae15(0x539)])throw new _0x1695e5(_0x91d017[_0x3aae15(0x55e)],_0x3aae15(0x735));const _0x36671a={'threadId':_0x3aae15(0x99d)+(0x0,_0x3aba3d['v4'])(),..._0x4ce705},_0x316f44=await this['getJobObservable'](_0x5227cf,_0x1d89a1[_0x3aae15(0x213)]['Job'],_0x36671a);return new Promise((_0x1e950a,_0x201e5e)=>{let _0x38baa0;const _0xfb19c7=_0x316f44['subscribe']({'next':_0x2ef717=>{const _0x3b4faa=a0_0x1b87;switch(_0x2ef717[_0x3b4faa(0x5a5)]){case _0x1d89a1[_0x3b4faa(0x1a2)][_0x3b4faa(0x7b9)]:clearTimeout(_0x38baa0),_0x1e950a(_0x2ef717['result']),_0xfb19c7[_0x3b4faa(0x3c8)]();break;case _0x1d89a1['JobStatus'][_0x3b4faa(0x7ed)]:clearTimeout(_0x38baa0),_0x201e5e(new _0x227d3a(_0x227d3a[_0x3b4faa(0x821)][_0x3b4faa(0x85e)],{'updatedJob':_0x2ef717})),_0xfb19c7[_0x3b4faa(0x3c8)]();}},'error':_0x48d731=>{clearTimeout(_0x38baa0),_0x201e5e(new _0x227d3a(_0x227d3a['codes']['GenerativeAIContextJobFailed'],{'err':_0x48d731})),_0xfb19c7['unsubscribe']();}});_0x38baa0=setTimeout(()=>{const _0x281b54=a0_0x1b87;_0x201e5e(new _0x227d3a(_0x227d3a[_0x281b54(0x821)][_0x281b54(0x9ae)])),_0xfb19c7[_0x281b54(0x3c8)]();},_0x27da4c);});}async[_0xab329a(0x293)](_0x80913,_0x53fd90){const _0x245169=_0xab329a,_0x4ceba0=await this[_0x245169(0x1c7)](_0x80913,_0x1d89a1[_0x245169(0x213)][_0x245169(0xa43)],_0x53fd90);return new Promise((_0x25c8b9,_0x14c2a8)=>{const _0x1e1041=_0x245169;let _0x529c2a;const _0x3e290d=_0x4ceba0[_0x1e1041(0x94e)]({'next':_0x178bbb=>{const _0x3f9610=_0x1e1041;switch(_0x178bbb[_0x3f9610(0x5a5)]){case _0x1d89a1[_0x3f9610(0x1a2)][_0x3f9610(0x7b9)]:if(_0x3f9610(0x850)!==_0x178bbb[_0x3f9610(0x311)][_0x3f9610(0x539)])return;const _0x10f261=_0x178bbb[_0x3f9610(0x311)][_0x3f9610(0x7a8)]??0x0;this[_0x3f9610(0x940)](_0x53fd90['prompt'],_0x10f261),clearTimeout(_0x529c2a),_0x25c8b9(_0x178bbb['result']),_0x3e290d[_0x3f9610(0x3c8)](),this['prompts']+=0x1,this[_0x3f9610(0x643)]+=_0x10f261,this[_0x3f9610(0x8e9)]();break;case _0x1d89a1['JobStatus'][_0x3f9610(0x7ed)]:clearTimeout(_0x529c2a),_0x14c2a8(new _0x227d3a(_0x227d3a[_0x3f9610(0x821)][_0x3f9610(0x85e)],{'updatedJob':_0x178bbb})),_0x3e290d[_0x3f9610(0x3c8)](),this[_0x3f9610(0x8e9)]();}},'error':_0x202749=>{const _0x4c6baa=_0x1e1041;clearTimeout(_0x529c2a),_0x14c2a8(new _0x227d3a(_0x227d3a[_0x4c6baa(0x821)][_0x4c6baa(0x85e)],{'err':_0x202749})),_0x3e290d[_0x4c6baa(0x3c8)]();}});_0x529c2a=setTimeout(()=>{const _0x47f598=_0x1e1041;_0x14c2a8(new _0x227d3a(_0x227d3a[_0x47f598(0x821)]['GenerativeAIContextJobTimeout'])),_0x3e290d['unsubscribe']();},_0x27da4c);});}async*['stream'](_0x300503,_0x426373){const _0x2afa51=_0xab329a,_0x49c6a6=await this[_0x2afa51(0x1c7)](_0x300503,_0x1d89a1['JobType'][_0x2afa51(0x7aa)],_0x426373);let _0xa9e5f4,_0x4566c7,_0x201e8b=!0x1,_0x471b19=0x0;const _0x3b725d=[],_0x3aff6a=new Map();let _0x94eff=null;const _0x2c834c=()=>{_0x94eff&&(_0x94eff(),_0x94eff=null);},_0x5554fe=_0x29744a=>{const _0x539352=_0x2afa51;_0x201e8b=!0x0,_0x2c834c(),_0xc7d9e5[_0x539352(0x3c8)](),_0x4566c7=_0x29744a;},_0xc7d9e5=_0x49c6a6['subscribe']({'next':async _0x31babc=>{const _0x104485=_0x2afa51;switch(_0x31babc[_0x104485(0x5a5)]){case _0x1d89a1[_0x104485(0x1a2)][_0x104485(0xa31)]:if(_0x104485(0x850)!==_0x31babc['result']['type'])return;if(void 0x0!==_0x31babc[_0x104485(0x311)][_0x104485(0x330)]){if(void 0x0===_0x31babc[_0x104485(0x311)][_0x104485(0x730)])return void _0x5554fe(_0x227d3a[_0x104485(0x821)][_0x104485(0xab9)]);_0x471b19===_0x31babc['result'][_0x104485(0x730)]?(_0x3b725d[_0x104485(0x257)](_0x31babc[_0x104485(0x311)]),_0x471b19++,((()=>{const _0x3b4b90=_0x104485;for(;_0x3aff6a[_0x3b4b90(0x727)](_0x471b19);)_0x3b725d[_0x3b4b90(0x257)](_0x3aff6a[_0x3b4b90(0x153)](_0x3b725d[_0x3b4b90(0x4f0)])),_0x3aff6a['delete'](_0x3b725d[_0x3b4b90(0x4f0)]),_0x471b19++;})()),_0x2c834c(),_0xcbe4e6()):_0x3aff6a[_0x104485(0x4d1)](_0x31babc[_0x104485(0x311)]['index'],_0x31babc[_0x104485(0x311)]);}break;case _0x1d89a1[_0x104485(0x1a2)]['Completed']:if(_0x104485(0x850)!==_0x31babc[_0x104485(0x311)][_0x104485(0x539)])return;for(;_0x471b19!==_0x31babc[_0x104485(0x311)][_0x104485(0x730)];)await _0x3b46ce['wait'](0x3e8);const _0x45cc94=_0x31babc[_0x104485(0x311)][_0x104485(0x7a8)]??0x0;this[_0x104485(0x940)](_0x426373['prompt'],_0x45cc94),clearTimeout(_0xa9e5f4),_0x5554fe(),this[_0x104485(0x679)]+=0x1,this[_0x104485(0x643)]+=_0x45cc94,this[_0x104485(0x8e9)]();break;case _0x1d89a1[_0x104485(0x1a2)][_0x104485(0x7ed)]:clearTimeout(_0xa9e5f4),_0x5554fe(_0x227d3a[_0x104485(0x821)][_0x104485(0x85e)]),this[_0x104485(0x8e9)]();}},'error':_0x2b5fb3=>{const _0xc0aef4=_0x2afa51;clearTimeout(_0xa9e5f4),_0x5554fe(_0x227d3a['codes'][_0xc0aef4(0x85e)]);}}),_0x425eab=()=>{const _0x6dd908=_0x2afa51;_0x5554fe(_0x227d3a['codes'][_0x6dd908(0x9ae)]);},_0xcbe4e6=()=>{clearTimeout(_0xa9e5f4),_0xa9e5f4=setTimeout(_0x425eab,_0x27da4c);};for(_0xa9e5f4=setTimeout(_0x425eab,_0x27da4c);!_0x201e8b||_0x3b725d[_0x2afa51(0x4f0)]>0x0;)_0x3b725d[_0x2afa51(0x4f0)]>0x0?yield _0x3b725d[_0x2afa51(0x3ba)]():await new Promise(_0x31f0f2=>_0x94eff=_0x31f0f2);if(_0x4566c7)throw _0x542377[_0x2afa51(0x28d)](_0x2afa51(0x3ce),{'nodeId':this['localNode'][_0x2afa51(0x7a4)](),'nodeType':this[_0x2afa51(0x242)][_0x2afa51(0x539)]}),new _0x227d3a(_0x4566c7);}async['getDataBucketIds'](){const _0x280155=_0xab329a;return(await _0x2c455e[_0x280155(0x80a)](this[_0x280155(0x3e1)],this[_0x280155(0x4b1)]))[_0x280155(0x859)];}[_0xab329a(0x940)](_0xae3791,_0x2435c1){const _0x20e09f=_0xab329a,_0x3b409d=this[_0x20e09f(0x4b1)],_0x4c18b0=this['getOwnerId']();_0x542377[_0x20e09f(0x940)](_0x2a74fc['GenerativeAIContext'],{'topic':_0x3b409d,'prompt':_0xae3791,'type':_0x20e09f(0x850),'nodeId':_0x4c18b0,'tokenCount':_0x2435c1});}async['getJobObservable'](_0x46cba2,_0x33ed57,_0x5966f9,_0xa99229={}){const _0x526e5c=_0xab329a;let _0x473b60;switch(_0x5966f9['type']){case _0x526e5c(0x451):case _0x526e5c(0xa5e):case _0x526e5c(0xa6b):case _0x526e5c(0x419):case _0x526e5c(0x398):case'file-download':case _0x526e5c(0x4aa):case _0x526e5c(0x8ac):case _0x526e5c(0x802):case _0x526e5c(0x850):case _0x526e5c(0x370):case _0x526e5c(0x7c8):case _0x526e5c(0x3bf):case _0x526e5c(0x8c4):_0x473b60={'id':_0x46cba2,'jobType':_0x33ed57,'parameters':{..._0xa99229,..._0x5966f9},'status':_0x1d89a1[_0x526e5c(0x1a2)][_0x526e5c(0x49a)]};break;default:throw new Error(_0x526e5c(0x735));}return await this[_0x526e5c(0xae4)](_0x473b60);}[_0xab329a(0x8e9)](){this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x434f8b=a0_0x1b87;delete this[_0x434f8b(0xa82)],this[_0x434f8b(0x2f3)][_0x434f8b(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x434f8b(0xb65)],'content':{'type':_0x8a5c45[_0x434f8b(0x420)],'label':this[_0x434f8b(0x4b1)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x434f8b(0x574)],'bytesSent':this[_0x434f8b(0x2fb)],'bytesReceived':this[_0x434f8b(0xb0c)],'writes':0x0,'reads':0x0,'prompts':this[_0x434f8b(0x679)],'tokens':this[_0x434f8b(0x643)]}}});},_0x5615a9);}}var _0x40f6c9,_0x33c2f4,_0x581e8e,_0x2313f7,_0x33a308,_0x1bd725,_0xcac52a,_0x4ef61f,_0x61261e,_0x4d89a0,_0xfa022a;!function(_0x36ec42){const _0xa7ff6a=_0xab329a;_0x36ec42[_0xa7ff6a(0x868)]=_0xa7ff6a(0x868),_0x36ec42[_0xa7ff6a(0xb30)]='IngestTrace',_0x36ec42[_0xa7ff6a(0x2fd)]='RetrieveTrace',_0x36ec42[_0xa7ff6a(0x386)]='WorkflowTrace';}(_0x40f6c9||(_0x40f6c9={})),function(_0x9fa31e){const _0x374afd=_0xab329a;_0x9fa31e[_0x374afd(0x9bb)]='ModelText',_0x9fa31e[_0x374afd(0x741)]=_0x374afd(0x741),_0x9fa31e['VectorSearch']=_0x374afd(0x53b),_0x9fa31e['EntityExtractor']=_0x374afd(0x6f4),_0x9fa31e['GraphSearch']=_0x374afd(0x5b2),_0x9fa31e[_0x374afd(0x181)]=_0x374afd(0x181);}(_0x33c2f4||(_0x33c2f4={})),function(_0x2694ee){const _0x167d56=_0xab329a;_0x2694ee[_0x2694ee[_0x167d56(0x8c3)]=0x0]=_0x167d56(0x8c3),_0x2694ee[_0x2694ee['Info']=0x5]=_0x167d56(0x72c),_0x2694ee[_0x2694ee[_0x167d56(0x346)]=0xa]='Warning',_0x2694ee[_0x2694ee[_0x167d56(0x25c)]=0xf]=_0x167d56(0x25c);}(_0x581e8e||(_0x581e8e={})),function(_0x450de4){const _0x26a3f2=_0xab329a;_0x450de4[_0x26a3f2(0xa10)]=_0x26a3f2(0xa10),_0x450de4[_0x26a3f2(0x428)]=_0x26a3f2(0x428),_0x450de4[_0x26a3f2(0x69e)]=_0x26a3f2(0x69e),_0x450de4[_0x26a3f2(0x4ba)]=_0x26a3f2(0x4ba),_0x450de4['Workflow']=_0x26a3f2(0x259),_0x450de4[_0x26a3f2(0xa43)]=_0x26a3f2(0xa43),_0x450de4['JobContext']=_0x26a3f2(0x20f),_0x450de4[_0x26a3f2(0x430)]=_0x26a3f2(0x430);}(_0x2313f7||(_0x2313f7={})),function(_0x39f1ad){const _0x2a8339=_0xab329a;_0x39f1ad[_0x2a8339(0x73a)]='Queued',_0x39f1ad[_0x2a8339(0x7b9)]=_0x2a8339(0x7b9);}(_0x33a308||(_0x33a308={})),function(_0x541e82){const _0x21afc=_0xab329a;_0x541e82['InitialPrompt']=_0x21afc(0x783),_0x541e82[_0x21afc(0x9ee)]='IntermediateOutput',_0x541e82[_0x21afc(0x43e)]=_0x21afc(0x43e),_0x541e82[_0x21afc(0x16d)]=_0x21afc(0x16d);}(_0x1bd725||(_0x1bd725={})),function(_0x4a0b2c){const _0x5c2d5e=_0xab329a;_0x4a0b2c[_0x5c2d5e(0x6af)]=_0x5c2d5e(0x6af),_0x4a0b2c[_0x5c2d5e(0x9c1)]=_0x5c2d5e(0x9c1),_0x4a0b2c[_0x5c2d5e(0x6f4)]=_0x5c2d5e(0x6f4),_0x4a0b2c['GraphDatabase']=_0x5c2d5e(0x810),_0x4a0b2c[_0x5c2d5e(0x52c)]=_0x5c2d5e(0x52c),_0x4a0b2c['ModelText']=_0x5c2d5e(0x9bb),_0x4a0b2c[_0x5c2d5e(0x741)]='ModelVector',_0x4a0b2c['RelationExtractor']='RelationExtractor',_0x4a0b2c['SentenceSplitter']=_0x5c2d5e(0x369),_0x4a0b2c[_0x5c2d5e(0xa8c)]=_0x5c2d5e(0xa8c),_0x4a0b2c['WordSplitter']='WordSplitter';}(_0xcac52a||(_0xcac52a={})),function(_0x20b874){const _0x5daa6e=_0xab329a;_0x20b874[_0x5daa6e(0x719)]=_0x5daa6e(0x719),_0x20b874[_0x5daa6e(0x236)]='GetContextResult';}(_0x4ef61f||(_0x4ef61f={})),function(_0x305b0a){const _0x301dce=_0xab329a;_0x305b0a[_0x301dce(0xb23)]=_0x301dce(0xb23),_0x305b0a['FetchUrl']=_0x301dce(0xa2d),_0x305b0a[_0x301dce(0x695)]=_0x301dce(0x695),_0x305b0a['SearchPerplexity']=_0x301dce(0x4a1),_0x305b0a['ExecuteAgent']=_0x301dce(0x3f2),_0x305b0a[_0x301dce(0xa9e)]=_0x301dce(0xa9e),_0x305b0a[_0x301dce(0x689)]=_0x301dce(0x689),_0x305b0a[_0x301dce(0x4e7)]='WriteFile',_0x305b0a[_0x301dce(0x225)]=_0x301dce(0x225),_0x305b0a[_0x301dce(0x51e)]=_0x301dce(0x51e),_0x305b0a[_0x301dce(0x3a5)]='FormSetAnswer',_0x305b0a[_0x301dce(0x6ae)]='FormSubmitForm';}(_0x61261e||(_0x61261e={})),function(_0xe9038e){const _0x40039f=_0xab329a;_0xe9038e[_0x40039f(0x8dc)]=_0x40039f(0x8dc),_0xe9038e['LoadSkillFunction']=_0x40039f(0x594);}(_0x4d89a0||(_0x4d89a0={})),function(_0xb5c1ee){const _0xf1d430=_0xab329a;_0xb5c1ee[_0xf1d430(0x786)]='PromptRating';}(_0xfa022a||(_0xfa022a={}));class _0x4e7b09{static [_0xab329a(0xa7f)]=new _0x4e7b09();[_0xab329a(0x2e2)]=[];[_0xab329a(0xaea)]=!0x1;constructor(){}static[_0xab329a(0x188)](){return _0x4e7b09['instance'];}get[_0xab329a(0x4f0)](){const _0x5d3b44=_0xab329a;return this[_0x5d3b44(0x2e2)][_0x5d3b44(0x4f0)];}[_0xab329a(0x7be)](){return!this['isRunning'];}[_0xab329a(0x613)](_0x4e935a){const _0x2064d6=_0xab329a;_0x4e935a?this[_0x2064d6(0x2e2)]=this[_0x2064d6(0x2e2)][_0x2064d6(0x2b3)](_0x302a5e=>_0x302a5e['ownerId']!==_0x4e935a):(this['jobQueue']=[],this[_0x2064d6(0xaea)]=!0x1);}[_0xab329a(0x232)](_0x1375fb,_0x2a2627){this['jobQueue']['push']({'callback':_0x2a2627,'ownerId':_0x1375fb}),this['runJobQueue']();}async[_0xab329a(0x9a2)](){const _0x1a4a7e=_0xab329a;if(!this[_0x1a4a7e(0xaea)]){for(this[_0x1a4a7e(0xaea)]=!0x0;this[_0x1a4a7e(0x2e2)]['length']>0x0;){const _0x2e4ae6=this[_0x1a4a7e(0x2e2)]['shift']();if(_0x2e4ae6)try{console[_0x1a4a7e(0x2da)](_0x1a4a7e(0x78c)),await _0x2e4ae6[_0x1a4a7e(0x476)](),console['warn']('JobQueueService:\x20Job\x20completed');}catch(_0x41f879){console[_0x1a4a7e(0x28d)](_0x1a4a7e(0x379),_0x41f879);}}this[_0x1a4a7e(0xaea)]=!0x1;}}}const _0x77fb36=_0x4e7b09[_0xab329a(0x188)]();class _0x3a8156 extends _0x2ccca0{[_0xab329a(0x914)];[_0xab329a(0x76f)];constructor(_0x3fc238,_0x447b46,_0x40bb4e){const _0x349abc=_0xab329a;super(_0x3fc238,_0x447b46),this[_0x349abc(0x914)]=_0x40bb4e;}[_0xab329a(0x552)](){const _0x414c23=_0xab329a;return _0x1d89a1[_0x414c23(0x93a)]['Job'];}['open'](){const _0x5ddc00=_0xab329a;this[_0x5ddc00(0x551)]();}[_0xab329a(0xace)](){const _0x2ac87c=_0xab329a;this[_0x2ac87c(0x2f3)]?.['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x2ac87c(0xb65)],'content':{'type':_0x8a5c45[_0x2ac87c(0x525)],'label':this[_0x2ac87c(0x4b1)]}});}[_0xab329a(0x669)](){const _0x572dbe=_0xab329a;this[_0x572dbe(0x76f)]?.(),delete this['unsubscribeListener'],this[_0x572dbe(0x996)]();}['destroy'](){const _0x58ec3d=_0xab329a;_0x77fb36[_0x58ec3d(0x613)](this[_0x58ec3d(0x4b1)]),this[_0x58ec3d(0x76f)]?.(),delete this[_0x58ec3d(0x76f)],super[_0x58ec3d(0x5f3)]();}['isAvailable'](){const _0x19258e=_0xab329a;return _0x77fb36[_0x19258e(0x7be)]();}[_0xab329a(0x559)](){return 0x1;}[_0xab329a(0x427)](_0x22aa2a,_0x473b97,_0x44ae46){}[_0xab329a(0xb13)](_0x5201f8,_0xc11165){return _0x5201f8;}async[_0xab329a(0x19c)](_0x34171c,_0x47d108){const _0x24ec4c=_0xab329a;console[_0x24ec4c(0x2da)](_0x24ec4c(0x842));}async[_0xab329a(0x496)](_0x3771f2,_0x3d7a21){const _0x3bfb31=_0xab329a;console[_0x3bfb31(0x2da)](_0x3bfb31(0x842));}[_0xab329a(0x551)](){const _0x17b837=_0xab329a;this[_0x17b837(0x76f)]||(this[_0x17b837(0x76f)]=this[_0x17b837(0x3d0)](async(_0x3442f9,_0x1b35f7)=>{const _0x33557e=_0x17b837;if(_0x542377['log'](_0x59a34d[_0x33557e(0x3e3)],'JobWorker:\x20Received\x20job',_0x1b35f7),!(_0x1b35f7 instanceof File)){if(this[_0x33557e(0x27f)](_0x1b35f7))_0x542377['log'](_0x59a34d[_0x33557e(0x3e3)],_0x33557e(0x4eb),_0x1b35f7),this['isAvailable']()?this[_0x33557e(0x35a)](_0x1b35f7['id'],_0x1b35f7[_0x33557e(0x89f)],_0x3442f9):this[_0x33557e(0x9dc)](_0x1b35f7['id'],_0x1b35f7['jobType'],_0x3442f9);else{if(this[_0x33557e(0x9de)](_0x1b35f7)){_0x542377['log'](_0x59a34d[_0x33557e(0x3e3)],_0x33557e(0x79c),_0x1b35f7);const {id:_0x381556,parameters:_0x505197}=_0x1b35f7;await this['startTracing'](_0x381556,_0x505197),this['handleJobAttribution'](_0x1b35f7['id'],_0x1b35f7,_0x3442f9);}}}}));}['sendBid'](_0x43eae3,_0x2eab98,_0x252b51){const _0xc759bd=_0xab329a,_0xb7f384={'id':_0x43eae3,'jobType':_0x2eab98,'jobPhase':_0x259adb[_0xc759bd(0x8b4)],'available':!0x0,'queueLength':_0x77fb36['length'],'bid':this[_0xc759bd(0x559)]()};_0x542377['log'](_0x59a34d[_0xc759bd(0x3e3)],_0xc759bd(0x44d),_0xb7f384),this['send'](_0xb7f384,[_0x252b51]);}[_0xab329a(0x9dc)](_0x2a7639,_0x5667ef,_0x7abd69){const _0x5a447a=_0xab329a,_0x17253b={'id':_0x2a7639,'jobType':_0x5667ef,'jobPhase':_0x259adb[_0x5a447a(0x8b4)],'available':!0x1,'queueLength':_0x77fb36[_0x5a447a(0x4f0)],'bid':0x0};_0x542377[_0x5a447a(0x4ad)](_0x59a34d[_0x5a447a(0x3e3)],_0x5a447a(0x631),_0x17253b),this[_0x5a447a(0x872)](_0x17253b,[_0x7abd69]);}async[_0xab329a(0x915)](_0x34da2c,_0xc7c74c,_0x10ccd8){const _0x1f2155=_0xab329a;_0x542377[_0x1f2155(0x4ad)](_0x59a34d[_0x1f2155(0x3e3)],_0x1f2155(0x536),_0xc7c74c);const _0x3af72c={'id':_0x34da2c,'jobType':_0xc7c74c[_0x1f2155(0x89f)],'parameters':_0xc7c74c[_0x1f2155(0x573)]};try{switch(_0xc7c74c[_0x1f2155(0x89f)]){case _0x1d89a1[_0x1f2155(0x213)][_0x1f2155(0xa43)]:await this[_0x1f2155(0x45b)](_0x34da2c,_0xc7c74c,_0x3af72c,_0x10ccd8);break;case _0x1d89a1[_0x1f2155(0x213)][_0x1f2155(0x7aa)]:await this[_0x1f2155(0xaa1)](_0x34da2c,_0xc7c74c,_0x3af72c,_0x10ccd8);break;default:throw new Error(_0x1f2155(0xaa2));}}catch(_0xeb8d9d){_0x542377['error'](_0x1f2155(0x9d2),{'nodeId':this[_0x1f2155(0x911)][_0x1f2155(0x7a4)](),'nodeType':this[_0x1f2155(0x911)][_0x1f2155(0x539)],'data':{'job':_0x3af72c}},_0xeb8d9d);const _0x58edab=_0xeb8d9d instanceof Error?_0xeb8d9d[_0x1f2155(0x3cc)]:'An\x20error\x20occurred',_0x499458={'id':_0x34da2c,'jobType':_0xc7c74c[_0x1f2155(0x89f)],'jobPhase':_0x259adb['Failed'],'message':_0x58edab};await this['send'](_0x499458,[_0x10ccd8]);}}async[_0xab329a(0x45b)](_0x39559f,_0x41041b,_0xb76bd9,_0x445d41){const _0x4fe3b7=_0xab329a,_0x4966a9=Date[_0x4fe3b7(0x4cb)](),_0x376f23=await this[_0x4fe3b7(0x461)](_0x39559f,_0xb76bd9[_0x4fe3b7(0x573)]);this[_0x4fe3b7(0x427)](_0x376f23,_0x4966a9,Date[_0x4fe3b7(0x4cb)]());const _0x501ac0={'id':_0x39559f,'jobType':_0x41041b[_0x4fe3b7(0x89f)],'jobPhase':_0x259adb[_0x4fe3b7(0x691)],'result':_0x376f23};_0x542377[_0x4fe3b7(0x4ad)](_0x59a34d[_0x4fe3b7(0x3e3)],_0x4fe3b7(0x17c),_0x501ac0),await this[_0x4fe3b7(0x872)](_0x501ac0,[_0x445d41]),await this['stopTracing'](_0x39559f,_0xb76bd9[_0x4fe3b7(0x573)]);}async['processJobStream'](_0x508845,_0x54940e,_0x14d291,_0x22dd5e){const _0x385803=_0xab329a,_0x5cab27=Date['now']();let _0x59f818=0x0,_0x580ff4={};for await(const _0x5ca418 of this[_0x385803(0x3dc)](_0x14d291['id'],_0x14d291[_0x385803(0x573)])){const _0x3364be={'id':_0x508845,'jobType':_0x54940e[_0x385803(0x89f)],'jobPhase':_0x259adb[_0x385803(0xadc)],'result':{..._0x5ca418,'index':_0x59f818}};_0x542377[_0x385803(0x4ad)](_0x59a34d[_0x385803(0x3e3)],_0x385803(0x677),_0x3364be),this[_0x385803(0x872)](_0x3364be,[_0x22dd5e]),_0x580ff4=this[_0x385803(0xb13)](_0x580ff4,_0x5ca418),_0x59f818++;}this['compileStats'](_0x580ff4,_0x5cab27,Date[_0x385803(0x4cb)]());const _0x5e8dd0={'id':_0x508845,'jobType':_0x54940e['jobType'],'jobPhase':_0x259adb[_0x385803(0x691)],'result':{..._0x580ff4,'index':_0x59f818}};_0x542377['log'](_0x59a34d[_0x385803(0x3e3)],'JobWorker:\x20Sending\x20job\x20result',_0x5e8dd0),await this['send'](_0x5e8dd0,[_0x22dd5e]),await this['stopTracing'](_0x508845,_0x14d291['parameters']);}['isJobRequest'](_0x3932ee){const _0x46fbbf=_0xab329a;return _0x3932ee[_0x46fbbf(0xac2)]===_0x259adb[_0x46fbbf(0x793)];}[_0xab329a(0x9de)](_0x4041d9){const _0x223dbb=_0xab329a;return _0x4041d9[_0x223dbb(0xac2)]===_0x259adb[_0x223dbb(0x3f4)];}}const _0x5a2a2c=new Map([[_0xab329a(0x751),{'id':_0xab329a(0x751),'inputTokenPrice':3.06,'outputTokenPrice':12.25,'fallbackModel':_0xab329a(0x4a0)}],['gpt-4o-mini',{'id':_0xab329a(0x4a0),'inputTokenPrice':0.18,'outputTokenPrice':0.74,'fallbackModel':_0xab329a(0x4a0)}],['gpt-4.1',{'id':'gpt-4.1','inputTokenPrice':2.45,'outputTokenPrice':9.8,'fallbackModel':_0xab329a(0x2ce)}],[_0xab329a(0x5d3),{'id':'gpt-4.1-mini','inputTokenPrice':0.49,'outputTokenPrice':1.96,'fallbackModel':_0xab329a(0x5d3)}],[_0xab329a(0x2ce),{'id':'gpt-4.1-nano','inputTokenPrice':0.12,'outputTokenPrice':0.49,'fallbackModel':'gpt-4.1-nano'}],['o1',{'id':'o1','inputTokenPrice':18.38,'outputTokenPrice':73.5,'fallbackModel':_0xab329a(0x2ce)}],['o3',{'id':'o3','inputTokenPrice':12.25,'outputTokenPrice':0x31,'fallbackModel':_0xab329a(0x2ce)}],[_0xab329a(0x624),{'id':_0xab329a(0x624),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':'gpt-4.1-nano'}],[_0xab329a(0xa34),{'id':_0xab329a(0xa34),'inputTokenPrice':1.35,'outputTokenPrice':5.39,'fallbackModel':_0xab329a(0x2ce)}],['claude-opus-4-0',{'id':_0xab329a(0x70c),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':'claude-3-haiku-20240307'}],[_0xab329a(0xb0a),{'id':_0xab329a(0xb0a),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0xab329a(0x2f5)}],[_0xab329a(0x595),{'id':_0xab329a(0x595),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0xab329a(0x2f5)}],['claude-3-5-haiku-latest',{'id':'claude-3-5-haiku-latest','inputTokenPrice':0.98,'outputTokenPrice':4.9,'fallbackModel':_0xab329a(0x32c)}],['claude-3-5-sonnet-latest',{'id':_0xab329a(0xa38),'inputTokenPrice':3.68,'outputTokenPrice':18.38,'fallbackModel':_0xab329a(0x2f5)}],[_0xab329a(0x2f5),{'id':_0xab329a(0x2f5),'inputTokenPrice':0.31,'outputTokenPrice':1.53,'fallbackModel':_0xab329a(0x2f5)}],[_0xab329a(0xa3c),{'id':_0xab329a(0xa3c),'inputTokenPrice':18.38,'outputTokenPrice':91.88,'fallbackModel':_0xab329a(0x2f5)}],['sonar',{'id':_0xab329a(0xa29),'inputTokenPrice':1.3,'outputTokenPrice':1.3,'fallbackModel':_0xab329a(0xa29)}],[_0xab329a(0x921),{'id':'sonar-pro','inputTokenPrice':3.9,'outputTokenPrice':19.5,'fallbackModel':_0xab329a(0xa29)}],[_0xab329a(0xa39),{'id':'sonar-reasoning','inputTokenPrice':1.3,'outputTokenPrice':6.5,'fallbackModel':_0xab329a(0xa29)}],['sonar-reasoning-pro',{'id':_0xab329a(0x930),'inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0xab329a(0xa29)}],['sonar-deep-research',{'id':'sonar-deep-research','inputTokenPrice':2.6,'outputTokenPrice':10.4,'fallbackModel':_0xab329a(0xa29)}]]),_0x63c5ed=new Map([['all-minilm-l12-v2',{'id':_0xab329a(0x3cf),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x1f0)],'taskType':_0x1d89a1['GenerativeAITaskType'][_0xab329a(0x192)],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x160)],'sourceUrl':_0xab329a(0x53a)}],['text-embedding-3-small',{'id':_0xab329a(0xb71),'engineType':_0x1d89a1[_0xab329a(0x8d9)]['OpenAI'],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x192)],'inputType':_0x1d89a1[_0xab329a(0x897)]['Text'],'outputType':_0x1d89a1['GenerativeAIModelOutputType'][_0xab329a(0x160)],'sourceUrl':''}],[_0xab329a(0x2a8),{'id':'text-embedding-3-large','engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x192)],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Vector'],'sourceUrl':''}],[_0xab329a(0x4d4),{'id':_0xab329a(0x4d4),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x1f0)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1['GenerativeAIModelOutputType'][_0xab329a(0x459)],'sourceUrl':_0xab329a(0x1f8)}],[_0xab329a(0x6ee),{'id':_0xab329a(0x6ee),'engineType':_0x1d89a1[_0xab329a(0x8d9)]['Llamacpp'],'taskType':_0x1d89a1['GenerativeAITaskType']['TextGeneration'],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'sourceUrl':'https://huggingface.co/bartowski/Llama-3.2-3B-Instruct-GGUF/resolve/main/Llama-3.2-3B-Instruct-Q8_0.gguf'}],[_0xab329a(0x675),{'id':_0xab329a(0x675),'engineType':_0x1d89a1['GenerativeAIEngineType'][_0xab329a(0x1f0)],'taskType':_0x1d89a1[_0xab329a(0x906)]['TextGeneration'],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Text'],'sourceUrl':_0xab329a(0x167)}],[_0xab329a(0x751),{'id':_0xab329a(0x751),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':'October\x202023','sourceUrl':''}],[_0xab329a(0x4a0),{'id':_0xab329a(0x4a0),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1['GenerativeAIModelInputType']['Text'],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':_0xab329a(0x8d5),'sourceUrl':''}],[_0xab329a(0x846),{'id':_0xab329a(0x846),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1['GenerativeAITaskType'][_0xab329a(0x186)],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Text'],'knowledgeCutoffDate':_0xab329a(0x79a),'sourceUrl':''}],[_0xab329a(0x5d3),{'id':_0xab329a(0x5d3),'engineType':_0x1d89a1['GenerativeAIEngineType'][_0xab329a(0x569)],'taskType':_0x1d89a1['GenerativeAITaskType'][_0xab329a(0x186)],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Text'],'knowledgeCutoffDate':_0xab329a(0x79a),'sourceUrl':''}],[_0xab329a(0x2ce),{'id':'gpt-4.1-nano','engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':'May\x202024','sourceUrl':''}],['o1',{'id':'o1','engineType':_0x1d89a1[_0xab329a(0x8d9)]['OpenAI'],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Text'],'knowledgeCutoffDate':_0xab329a(0x8d5),'sourceUrl':''}],['o3',{'id':'o3','engineType':_0x1d89a1['GenerativeAIEngineType'][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)]['TextGeneration'],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1['GenerativeAIModelOutputType'][_0xab329a(0x459)],'knowledgeCutoffDate':_0xab329a(0x79a),'sourceUrl':''}],[_0xab329a(0x624),{'id':'o3-mini','engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':_0xab329a(0x8d5),'sourceUrl':''}],[_0xab329a(0xa34),{'id':_0xab329a(0xa34),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1[_0xab329a(0x897)]['Text'],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':_0xab329a(0x79a),'sourceUrl':''}],[_0xab329a(0x5d8),{'id':_0xab329a(0x5d8),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x81b)],'inputType':_0x1d89a1[_0xab329a(0x897)]['Audio'],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Audio'],'knowledgeCutoffDate':_0xab329a(0x26e),'sourceUrl':''}],[_0xab329a(0x8b1),{'id':_0xab329a(0x8b1),'engineType':_0x1d89a1[_0xab329a(0x8d9)]['OpenAI'],'taskType':_0x1d89a1['GenerativeAITaskType']['SpeechToSpeech'],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x585)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Audio'],'knowledgeCutoffDate':_0xab329a(0x26e),'sourceUrl':''}],[_0xab329a(0xa64),{'id':_0xab329a(0xa64),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1['GenerativeAITaskType'][_0xab329a(0x484)],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x585)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Text'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0xab329a(0xa61),{'id':'gpt-4o-mini-transcribe','engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x484)],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x585)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Text'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0xab329a(0x482),{'id':_0xab329a(0x482),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x484)],'inputType':_0x1d89a1[_0xab329a(0x897)]['Audio'],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0xab329a(0x51b),{'id':_0xab329a(0x51b),'engineType':_0x1d89a1['GenerativeAIEngineType'][_0xab329a(0x569)],'taskType':_0x1d89a1['GenerativeAITaskType']['TextToSpeech'],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1['GenerativeAIModelOutputType']['Audio'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0xab329a(0xb51),{'id':_0xab329a(0xb51),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0x569)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x2f1)],'inputType':_0x1d89a1[_0xab329a(0x897)]['Text'],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x585)],'knowledgeCutoffDate':'','sourceUrl':''}],[_0xab329a(0x1bc),{'id':_0xab329a(0x1bc),'engineType':_0x1d89a1[_0xab329a(0x8d9)]['OpenAI'],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x2f1)],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Audio'],'knowledgeCutoffDate':'','sourceUrl':''}],[_0xab329a(0x70c),{'id':'claude-opus-4-0','engineType':_0x1d89a1[_0xab329a(0x8d9)]['Anthropic'],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':_0xab329a(0x475),'sourceUrl':''}],[_0xab329a(0xb0a),{'id':_0xab329a(0xb0a),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0xa6f)],'taskType':_0x1d89a1[_0xab329a(0x906)]['TextGeneration'],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)]['Text'],'knowledgeCutoffDate':_0xab329a(0x475),'sourceUrl':''}],[_0xab329a(0x595),{'id':_0xab329a(0x595),'engineType':_0x1d89a1['GenerativeAIEngineType'][_0xab329a(0xa6f)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1['GenerativeAIModelOutputType'][_0xab329a(0x459)],'knowledgeCutoffDate':_0xab329a(0xa50),'sourceUrl':''}],[_0xab329a(0x32c),{'id':'claude-3-5-haiku-latest','engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0xa6f)],'taskType':_0x1d89a1['GenerativeAITaskType'][_0xab329a(0x186)],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1['GenerativeAIModelOutputType']['Text'],'knowledgeCutoffDate':'April\x202024','sourceUrl':''}],[_0xab329a(0xa38),{'id':_0xab329a(0xa38),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0xa6f)],'taskType':_0x1d89a1['GenerativeAITaskType']['TextGeneration'],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':_0xab329a(0x8eb),'sourceUrl':''}],[_0xab329a(0x2f5),{'id':_0xab329a(0x2f5),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0xa6f)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1['GenerativeAIModelInputType'][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':_0xab329a(0x989),'sourceUrl':''}],[_0xab329a(0xa3c),{'id':_0xab329a(0xa3c),'engineType':_0x1d89a1[_0xab329a(0x8d9)][_0xab329a(0xa6f)],'taskType':_0x1d89a1[_0xab329a(0x906)][_0xab329a(0x186)],'inputType':_0x1d89a1[_0xab329a(0x897)][_0xab329a(0x459)],'outputType':_0x1d89a1[_0xab329a(0x6bb)][_0xab329a(0x459)],'knowledgeCutoffDate':'August\x202023','sourceUrl':''}]]),_0x1e9cb4=require('rxjs/operators');class _0x49f2ed{[_0xab329a(0x4e4)];constructor(){const _0x3b4a4e=_0xab329a;this[_0x3b4a4e(0x4e4)]=new _0x1d537e['Subject']();}['emit'](_0x507f29){const _0x5d6bce=_0xab329a;this[_0x5d6bce(0x4e4)]['next'](_0x507f29);}async[_0xab329a(0x508)](){const _0x134820=_0xab329a;return(0x0,_0x1d537e[_0x134820(0x446)])(this['subject'][_0x134820(0x198)]((0x0,_0x1e9cb4[_0x134820(0x593)])(0x1)));}}function _0x373b0a(_0x2c3b3c){const _0xd70923=_0xab329a;try{return JSON[_0xd70923(0x56e)](_0x2c3b3c);}catch(_0x450552){return _0x2c3b3c instanceof Error?_0x2c3b3c[_0xd70923(0x340)]():JSON[_0xd70923(0x56e)](_0xd70923(0x2e1));}}class _0x2a1867{static [_0xab329a(0xa7f)];['logLevel']=_0x581e8e[_0xab329a(0x25c)];[_0xab329a(0x848)]=_0x581e8e[_0xab329a(0x72c)];[_0xab329a(0x47c)]=_0x2313f7[_0xab329a(0xa10)];['openedTraces']={};static ['getInstance']=()=>(_0x2a1867[_0xab329a(0xa7f)]||(_0x2a1867[_0xab329a(0xa7f)]=new _0x2a1867()),_0x2a1867[_0xab329a(0xa7f)]);async[_0xab329a(0x9da)](_0x204246,_0x37a7f3,_0x19ed38,_0x58fc07){const _0xba0dc9=_0xab329a;try{if(this['openedTraces'][_0x37a7f3])return!0x0;const _0x402c82={'vendorId':_0x204246,'workflowId':_0x19ed38,'sequence':0x0};if(this[_0xba0dc9(0x2d0)][_0x37a7f3]=_0x402c82,!_0x58fc07||!_0x19ed38)return!0x0;const _0x2732f5=(0x0,_0x30ad83[_0xba0dc9(0x71b)])(_0x44b60b['getFirestore'](),'developers/'+_0x204246+_0xba0dc9(0x8a5)+_0x19ed38+_0xba0dc9(0x245),_0x37a7f3);return(await(0x0,_0x30ad83[_0xba0dc9(0x246)])(_0x2732f5))['exists']()||await(0x0,_0x30ad83[_0xba0dc9(0x7e4)])(_0x2732f5,{'threadId':_0x58fc07,'startTime':(0x0,_0x30ad83[_0xba0dc9(0x732)])()}),!0x0;}catch(_0x21e26d){return console[_0xba0dc9(0x28d)](_0xba0dc9(0x15f),_0x21e26d),!0x1;}}async['logUsage'](_0x1b2f20,_0x19d99d,_0x2ab095,_0x29ba6c){const _0x90900f=_0xab329a;try{if(!this[_0x90900f(0x2d0)][_0x1b2f20])throw new Error(_0x90900f(0x8b8));const _0x7f1910=new Date(),_0x5727a2=_0x7f1910[_0x90900f(0x8ef)]()+'-'+_0x7f1910[_0x90900f(0x824)]()+'-'+_0x7f1910[_0x90900f(0xa19)](),_0x408ddf=new Date(_0x7f1910[_0x90900f(0x8ef)](),_0x7f1910[_0x90900f(0x824)](),_0x7f1910[_0x90900f(0xa19)]()),_0xbcb7f9=this[_0x90900f(0x2d0)][_0x1b2f20][_0x90900f(0x3e1)],_0x4e05a2=_0x19d99d+'-'+_0x5727a2,_0x57e2be=_0x5a2a2c[_0x90900f(0x153)](_0x19d99d);if(!_0x57e2be)return void console[_0x90900f(0x28d)](_0x90900f(0x9f2),_0x19d99d);const _0x18676a=_0x57e2be[_0x90900f(0x281)]*_0x2ab095/0xf4240*0x64,_0x43170a=_0x57e2be[_0x90900f(0x744)]*_0x29ba6c/0xf4240*0x64,_0x370763=(0x0,_0x30ad83[_0x90900f(0x71b)])(_0x44b60b['getFirestore'](),_0x90900f(0x29c)+_0xbcb7f9+_0x90900f(0x1ba),_0x4e05a2);await(0x0,_0x30ad83['setDoc'])(_0x370763,{'modelId':_0x19d99d,'date':_0x408ddf,'inputTokens':(0x0,_0x30ad83['increment'])(_0x2ab095),'outputTokens':(0x0,_0x30ad83[_0x90900f(0x297)])(_0x29ba6c),'inputCredits':(0x0,_0x30ad83[_0x90900f(0x297)])(_0x18676a),'outputCredits':(0x0,_0x30ad83[_0x90900f(0x297)])(_0x43170a),'totalCredits':(0x0,_0x30ad83[_0x90900f(0x297)])(_0x18676a+_0x43170a)},{'merge':!0x0});}catch(_0x44c140){console['error'](_0x90900f(0x31b),_0x44c140);}}async['trace'](_0x3425da){const _0x1d36ab=_0xab329a;try{const _0x2b03c6=this[_0x1d36ab(0x2d0)][_0x3425da['jobId']];if(!_0x2b03c6)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0x3425da[_0x1d36ab(0xae2)]=_0x2b03c6[_0x1d36ab(0xae2)]++,_0x3425da[_0x1d36ab(0x170)]>=this[_0x1d36ab(0xa9d)]&&console[_0x1d36ab(0x4ad)](JSON['stringify'](_0x3425da,null,0x2)),await this['commitTrace'](_0x3425da);}catch(_0x5ceb53){console[_0x1d36ab(0x28d)](_0x1d36ab(0xa88),_0x5ceb53);}}async[_0xab329a(0x9e3)](_0x1eae8a,_0x515ab7){const _0x1912b6=_0xab329a;if(!_0x2a1867[_0x1912b6(0xa7f)])throw new Error(_0x1912b6(0x26f));if(!this[_0x1912b6(0x2d0)][_0x1eae8a])throw new Error('GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match');if(_0x515ab7&&this[_0x1912b6(0x2d0)][_0x1eae8a][_0x1912b6(0x71a)])try{await(0x0,_0x30ad83[_0x1912b6(0x7e4)])((0x0,_0x30ad83[_0x1912b6(0x71b)])(_0x44b60b[_0x1912b6(0xa12)](),'developers/'+this['openedTraces'][_0x1eae8a]['vendorId']+_0x1912b6(0x8a5)+this[_0x1912b6(0x2d0)][_0x1eae8a]['workflowId']+_0x1912b6(0x245),_0x1eae8a),{'endTime':(0x0,_0x30ad83[_0x1912b6(0x732)])()},{'merge':!0x0}),this[_0x1912b6(0x9b8)](_0x1eae8a);}catch(_0xf1f074){console[_0x1912b6(0x28d)](_0x1912b6(0x980),_0xf1f074);}else this['setForDeletion'](_0x1eae8a);}[_0xab329a(0x9b8)](_0x455912){setTimeout(()=>{const _0xe04990=a0_0x1b87;delete this[_0xe04990(0x2d0)][_0x455912];},0x1b7740);}async['commitTrace'](_0x38778e){const _0x31e461=_0xab329a;if(_0x38778e[_0x31e461(0x170)]<this[_0x31e461(0x848)]&&_0x38778e[_0x31e461(0x89f)]!==this[_0x31e461(0x47c)])return;if(!this[_0x31e461(0x2d0)][_0x38778e[_0x31e461(0x166)]])throw new Error(_0x31e461(0x2b4));const _0xb8bfe0=this['openedTraces'][_0x38778e['jobId']];try{const _0x460f10=function(_0x36e716){const _0x1a7a62=_0x31e461,_0x21fdcf=[_0x1a7a62(0x8c6),_0x1a7a62(0x1bf),'jobType',_0x1a7a62(0x539),'jobId',_0x1a7a62(0x170),_0x1a7a62(0x912),_0x1a7a62(0x5a5),_0x1a7a62(0xae2),'errorDetails'],_0x37b096={..._0x36e716};for(const _0x247fdf of _0x21fdcf)delete _0x37b096[_0x247fdf];return{'timestamp':_0x36e716[_0x1a7a62(0x1bf)],'jobType':_0x36e716[_0x1a7a62(0x89f)],'type':_0x36e716[_0x1a7a62(0x539)],'jobId':_0x36e716[_0x1a7a62(0x166)],'agentId':_0x36e716[_0x1a7a62(0x3d4)]??'','traceLevel':_0x36e716['traceLevel'],'blockId':_0x36e716[_0x1a7a62(0x912)]??'','startTime':_0x36e716[_0x1a7a62(0x8c6)],'status':_0x36e716[_0x1a7a62(0x5a5)],'sequence':_0x36e716['sequence']??0x0,'errorDetails':_0x36e716[_0x1a7a62(0x5bc)]??'','metadata':_0x373b0a(_0x37b096)};}(_0x38778e),_0x701f90=(0x0,_0x3aba3d['v4'])();console['log'](_0x31e461(0x381),_0x460f10['type']),await(0x0,_0x30ad83[_0x31e461(0x7e4)])((0x0,_0x30ad83[_0x31e461(0x71b)])(_0x44b60b['getFirestore'](),'developers/'+_0xb8bfe0[_0x31e461(0x3e1)]+_0x31e461(0x8a5)+_0xb8bfe0[_0x31e461(0x71a)]+_0x31e461(0x48c)+_0x38778e[_0x31e461(0x166)]+_0x31e461(0xa9c),_0x701f90),_0x460f10),_0x38778e[_0x31e461(0x539)]===_0xfa022a[_0x31e461(0x786)]&&await(0x0,_0x30ad83['setDoc'])((0x0,_0x30ad83['doc'])(_0x44b60b[_0x31e461(0xa12)](),_0x31e461(0x29c)+_0xb8bfe0[_0x31e461(0x3e1)]+_0x31e461(0x8a5)+_0xb8bfe0[_0x31e461(0x71a)]+_0x31e461(0x245),_0x38778e['jobId']),{'rating':_0x38778e[_0x31e461(0x891)]},{'merge':!0x0});}catch(_0x100dd9){console[_0x31e461(0x28d)](_0x31e461(0x67d),_0x100dd9);}}}const _0x26d28b=_0x2a1867[_0xab329a(0x188)]();async function _0xb4aa5(_0x594c74,_0x3fc0f1,_0x929af,_0x4bfaed,_0x366923,_0x5f50a5,_0xf89db3,_0x306733){const _0x16b6e3=function(_0x333cb8,_0x3f40b4){const _0x4ba49f=a0_0x1b87,_0xb4c08e=[];for(let _0x293f1e=0x0;_0x293f1e<_0x333cb8[_0x4ba49f(0x4f0)];_0x293f1e+=_0x3f40b4[_0x4ba49f(0x9f3)][_0x4ba49f(0xa86)]){let _0x5f3894=_0x293f1e-_0x3f40b4[_0x4ba49f(0x9f3)][_0x4ba49f(0x8e5)];_0x5f3894<0x0&&(_0x5f3894=0x0);let _0x552ca1=_0x293f1e+_0x3f40b4[_0x4ba49f(0x9f3)]['size']+_0x3f40b4['attributes'][_0x4ba49f(0x8e5)];_0x552ca1>_0x333cb8[_0x4ba49f(0x4f0)]&&(_0x552ca1=_0x333cb8[_0x4ba49f(0x4f0)]),length||(length=_0x293f1e+_0x3f40b4[_0x4ba49f(0x9f3)]['size'],length>_0x333cb8[_0x4ba49f(0x4f0)]&&(length=_0x333cb8[_0x4ba49f(0x4f0)])),_0xb4c08e['push'](_0x333cb8[_0x4ba49f(0x913)](_0x5f3894,_0x552ca1));}return _0xb4c08e;}(_0x3fc0f1,_0x366923);await _0x2a4566(_0x594c74,_0x16b6e3,_0x929af,_0x4bfaed,_0x366923,_0x5f50a5,_0xf89db3,_0x306733);}async function _0x3eaaa3(_0x562ebc,_0x2a689,_0x83797d,_0x1647cb,_0x269c6c,_0x2397e9,_0x1341ad,_0x5d5bf3){const _0xf70e8c=_0xab329a;if(_0x269c6c[_0xf70e8c(0x6c6)]||(_0x269c6c[_0xf70e8c(0x6c6)]={}),_0x269c6c['accumulated'][_0xf70e8c(0x219)]||(_0x269c6c[_0xf70e8c(0x6c6)][_0xf70e8c(0x219)]=[]),_0x2a689 instanceof Array?_0x269c6c[_0xf70e8c(0x6c6)]['queries'][_0xf70e8c(0x257)](..._0x2a689):_0x269c6c[_0xf70e8c(0x6c6)][_0xf70e8c(0x219)]['push'](_0x2a689),_0x269c6c[_0xf70e8c(0x4d6)]=_0x269c6c[_0xf70e8c(0x4d6)]?_0x269c6c[_0xf70e8c(0x4d6)]+0x1:0x1,_0x24add0(_0x269c6c,_0x2397e9)>_0x269c6c[_0xf70e8c(0x4d6)])return;if(0x0===_0x269c6c[_0xf70e8c(0x6c6)][_0xf70e8c(0x219)]['length'])throw new Error('Data\x20collection\x20block\x20is\x20missing\x20required\x20data');let _0x404f07=[];const _0x398ee8=Date[_0xf70e8c(0x4cb)]();try{let _0x4a5b4f=0x0,_0x520560=0x0;for(const _0x1111c1 of _0x269c6c[_0xf70e8c(0x6c6)][_0xf70e8c(0x219)]){const _0x178070=await fetch(_0x5d8dc2[_0xf70e8c(0x9a4)]+_0xf70e8c(0x464)+_0x269c6c['id']+_0xf70e8c(0xaf2),{'method':_0xf70e8c(0xa0f),'headers':{'Content-Type':_0xf70e8c(0x91c),'x-vendor-id':_0x83797d['vendorId']},'body':JSON[_0xf70e8c(0x56e)]({'query':_0x1111c1})}),_0x593242=((await _0x178070[_0xf70e8c(0xa7b)]())[_0xf70e8c(0x62e)]??[])[_0xf70e8c(0x591)](_0x2e90bf=>({'pathName':_0x2e90bf[_0xf70e8c(0x544)],'relevance':_0x2e90bf[_0xf70e8c(0x889)],'content':_0x2e90bf[_0xf70e8c(0xa98)][_0xf70e8c(0x66d)]}));_0x404f07=Array[_0xf70e8c(0x61d)](new Set([..._0x404f07,..._0x593242])),_0x4a5b4f+=_0x593242[_0xf70e8c(0x7a8)]??0x0,_0x520560+=_0x593242[_0xf70e8c(0x5bb)]??0x0;}_0x1647cb[_0xf70e8c(0x7a8)]+=_0x4a5b4f,_0x1647cb[_0xf70e8c(0x5bb)]+=_0x520560,_0x1647cb[_0xf70e8c(0x3c0)]=Array['from'](new Set([..._0x1647cb[_0xf70e8c(0x3c0)],..._0x404f07])),await _0x26d28b[_0xf70e8c(0x670)]({'jobType':_0x2313f7['Workflow'],'type':_0x1bd725[_0xf70e8c(0x43e)],'jobId':_0x562ebc,'threadId':_0x83797d[_0xf70e8c(0x1f7)],'traceLevel':_0x581e8e[_0xf70e8c(0x72c)],'startTime':_0x398ee8,'timestamp':Date[_0xf70e8c(0x4cb)](),'blockId':_0x269c6c['id'],'status':'success','queries':_0x269c6c[_0xf70e8c(0x6c6)][_0xf70e8c(0x219)],'context':_0x404f07,'inputTokens':_0x4a5b4f,'outputTokens':_0x520560});}catch(_0x219ff5){console[_0xf70e8c(0x28d)](_0x219ff5),await _0x26d28b['trace']({'jobType':_0x2313f7['Workflow'],'type':_0x1bd725[_0xf70e8c(0x43e)],'jobId':_0x562ebc,'threadId':_0x83797d['threadId'],'traceLevel':_0x581e8e[_0xf70e8c(0x72c)],'startTime':_0x398ee8,'timestamp':Date[_0xf70e8c(0x4cb)](),'blockId':_0x269c6c['id'],'status':'error','queries':_0x269c6c[_0xf70e8c(0x6c6)][_0xf70e8c(0x219)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}await _0x2a4566(_0x562ebc,'',_0x83797d,_0x1647cb,_0x269c6c,_0x2397e9,_0x1341ad,_0x5d5bf3);}async function _0x37d65d(_0x34ac20,_0x445cfa,_0x5675ac,_0x2d899c,_0x1fb5b4,_0x4a5c6e,_0x3b550f,_0x1f6bad){const _0x2da7ce=_0xab329a,_0x11edd3=await _0x3b550f[_0x2da7ce(0x545)][_0x2da7ce(0xa05)](_0x445cfa);await _0x2a4566(_0x34ac20,_0x11edd3,_0x5675ac,_0x2d899c,_0x1fb5b4,_0x4a5c6e,_0x3b550f,_0x1f6bad);}async function _0x5a3040(_0x59c866,_0x164f5c,_0x8db6b6,_0x2a1a9e,_0x2093c2,_0x3fa31d,_0xb9416d,_0x5bd1ae){const _0x8c565a=function(_0x4d3578,_0x22f582){const _0x5105b1=a0_0x1b87,_0x7923b7=[],_0x8fb9c2=_0x4d3578[_0x5105b1(0xb12)]('\x20');let _0x44d654='',_0x2ed464=0x0,_0x4106a9=0x0,_0xff8a38=0x0;for(const _0x49c228 of _0x8fb9c2){if(_0x44d654[_0x5105b1(0x4f0)]+_0x49c228['length']>_0x22f582[_0x5105b1(0x9f3)][_0x5105b1(0xa86)]){let _0x34b7ad=_0x2ed464,_0xceb173='';for(;_0x34b7ad>=0x0&&_0xceb173[_0x5105b1(0x4f0)]+_0x8fb9c2[_0x34b7ad][_0x5105b1(0x4f0)]<_0x22f582[_0x5105b1(0x9f3)]['overlap'];)_0xceb173=_0x8fb9c2[_0x34b7ad]+'\x20'+_0xceb173,_0x34b7ad--;let _0x349667=_0x4106a9,_0xc60476='';for(;_0x349667<_0x8fb9c2['length']&&_0xc60476[_0x5105b1(0x4f0)]+_0x8fb9c2[_0x349667][_0x5105b1(0x4f0)]<_0x22f582[_0x5105b1(0x9f3)][_0x5105b1(0x8e5)];)_0xc60476+=_0x8fb9c2[_0x349667]+'\x20',_0x349667++;_0x44d654=_0xceb173+_0x44d654+_0xc60476,_0x7923b7['push'](_0x44d654[_0x5105b1(0x254)]()),_0x44d654='',_0x2ed464=_0x4106a9;}_0x44d654+=_0x49c228+'\x20',_0x4106a9++,_0xff8a38+=_0x49c228[_0x5105b1(0x4f0)]+0x1;}if(_0x44d654['length']>0x0){let _0x1341ca=_0x2ed464,_0x21813d='';for(;_0x1341ca>=0x0&&_0x21813d[_0x5105b1(0x4f0)]+_0x8fb9c2[_0x1341ca][_0x5105b1(0x4f0)]<_0x22f582[_0x5105b1(0x9f3)][_0x5105b1(0x8e5)];)_0x21813d=_0x8fb9c2[_0x1341ca]+'\x20'+_0x21813d,_0x1341ca--;_0x44d654=_0x21813d+_0x44d654,_0x7923b7[_0x5105b1(0x257)](_0x44d654[_0x5105b1(0x254)]());}return _0x7923b7;}(_0x164f5c,_0x2093c2);await _0x2a4566(_0x59c866,_0x8c565a,_0x8db6b6,_0x2a1a9e,_0x2093c2,_0x3fa31d,_0xb9416d,_0x5bd1ae);}async function _0x2a4566(_0xa37f19,_0x3ce851,_0xd5f46,_0x298f13,_0x38348e,_0x117235,_0x4a99f4,_0xd57b2e){const _0x588d00=_0xab329a;if(await _0x3b46ce[_0x588d00(0xb1d)](0x1),_0x38348e[_0x588d00(0x9a8)]){for(const _0x298ff0 of _0x38348e[_0x588d00(0x9a8)]){if(_0x298ff0['type']===_0x5395bb[_0x588d00(0x82a)])continue;const _0x51f766=_0x117235[_0x588d00(0xb4a)](_0x36ecbd=>_0x36ecbd[_0x588d00(0xa4b)]===_0x298ff0[_0x588d00(0xa4b)]);if(_0x51f766)switch(_0x51f766[_0x588d00(0x539)]){case _0x2d5b5c[_0x588d00(0x52c)]:_0x298ff0[_0x588d00(0x539)]!==_0x5395bb[_0x588d00(0x459)]&&_0x298ff0[_0x588d00(0x539)]!==_0x5395bb[_0x588d00(0x75c)]||_0x588d00(0x816)!=typeof _0x3ce851||await _0x53eef1(_0xa37f19,_0x298ff0[_0x588d00(0x539)],_0x3ce851,_0xd5f46,_0x298f13,_0x51f766,_0x117235,_0x4a99f4,_0xd57b2e),_0x298ff0['type']===_0x5395bb[_0x588d00(0x814)]&&_0x588d00(0x4d3)===_0x3ce851&&await _0x53eef1(_0xa37f19,_0x298ff0[_0x588d00(0x539)],_0x3ce851,_0xd5f46,_0x298f13,_0x51f766,_0x117235,_0x4a99f4,_0xd57b2e),_0x298ff0['type']===_0x5395bb[_0x588d00(0x33a)]&&_0x588d00(0x2aa)===_0x3ce851&&await _0x53eef1(_0xa37f19,_0x298ff0[_0x588d00(0x539)],_0x3ce851,_0xd5f46,_0x298f13,_0x51f766,_0x117235,_0x4a99f4,_0xd57b2e),_0x298ff0[_0x588d00(0x539)]===_0x5395bb[_0x588d00(0x585)]&&_0x588d00(0x816)==typeof _0x3ce851&&await _0x53eef1(_0xa37f19,_0x298ff0['type'],_0x3ce851,_0xd5f46,_0x298f13,_0x51f766,_0x117235,_0x4a99f4,_0xd57b2e);break;case _0x2d5b5c[_0x588d00(0x6af)]:_0x298ff0[_0x588d00(0x539)]===_0x5395bb[_0x588d00(0x459)]&&_0x588d00(0x816)==typeof _0x3ce851&&await _0xb4aa5(_0xa37f19,_0x3ce851,_0xd5f46,_0x298f13,_0x51f766,_0x117235,_0x4a99f4,_0xd57b2e);break;case _0x2d5b5c[_0x588d00(0x43e)]:_0x298ff0[_0x588d00(0x539)]===_0x5395bb['Text']&&_0x588d00(0x816)==typeof _0x3ce851&&await _0x3eaaa3(_0xa37f19,_0x3ce851,_0xd5f46,_0x298f13,_0x51f766,_0x117235,_0x4a99f4,_0xd57b2e),_0x298ff0[_0x588d00(0x539)]===_0x5395bb['Text']&&_0x3ce851 instanceof Array&&await _0x3eaaa3(_0xa37f19,_0x3ce851,_0xd5f46,_0x298f13,_0x51f766,_0x117235,_0x4a99f4,_0xd57b2e);break;case _0x2d5b5c[_0x588d00(0x369)]:_0x298ff0['type']===_0x5395bb['Text']&&'string'==typeof _0x3ce851&&await _0x37d65d(_0xa37f19,_0x3ce851,_0xd5f46,_0x298f13,_0x51f766,_0x117235,_0x4a99f4,_0xd57b2e);break;case _0x2d5b5c[_0x588d00(0x74f)]:_0x298ff0[_0x588d00(0x539)]===_0x5395bb['Text']&&_0x588d00(0x816)==typeof _0x3ce851&&await _0x5a3040(_0xa37f19,_0x3ce851,_0xd5f46,_0x298f13,_0x51f766,_0x117235,_0x4a99f4,_0xd57b2e);}}_0x38348e[_0x588d00(0x539)]!==_0x2d5b5c[_0x588d00(0x642)]&&_0x38348e[_0x588d00(0x539)]!==_0x2d5b5c['InputStream']||!_0xd57b2e||_0xd57b2e['emit'](void 0x0);}else _0x38348e[_0x588d00(0x539)]!==_0x2d5b5c['Prompt']&&_0x38348e['type']!==_0x2d5b5c[_0x588d00(0x7d9)]||!_0xd57b2e||_0xd57b2e[_0x588d00(0x292)](void 0x0);}function _0x24add0(_0x45524c,_0x2f659a){const _0x8237cf=_0xab329a;let _0x2913b1=0x0;for(const _0x54a08e of _0x2f659a)for(const _0xe41f78 of _0x54a08e['links']??[])_0xe41f78['type']!==_0x5395bb['Context']&&_0xe41f78[_0x8237cf(0x539)]!==_0x5395bb[_0x8237cf(0x2a2)]&&_0xe41f78[_0x8237cf(0x539)]!==_0x5395bb['File']&&_0xe41f78[_0x8237cf(0x539)]!==_0x5395bb[_0x8237cf(0x7b1)]&&_0xe41f78[_0x8237cf(0xa4b)]===_0x45524c[_0x8237cf(0xa4b)]&&_0x2913b1++;return _0x2913b1;}function _0x12ba8d(_0x19a3fd,_0x9c2c18){const _0x445828=_0xab329a,_0x7ebe02={'type':_0x19a3fd[_0x445828(0x539)],'name':_0x19a3fd[_0x445828(0x432)]??'','description':_0x19a3fd['description']??'','parameters':_0x19a3fd[_0x445828(0x573)]??[],'headers':_0x19a3fd[_0x445828(0xadd)]??[],'queryParameters':_0x19a3fd[_0x445828(0x563)]??[],'bodyParameters':_0x19a3fd[_0x445828(0x229)]??[],'endpointUrl':_0x19a3fd[_0x445828(0x84b)]??'','endpointMethod':_0x19a3fd[_0x445828(0x9ef)]??'','contextInputVariable':_0x19a3fd[_0x445828(0x2de)]??'','contextOutputVariable':_0x19a3fd[_0x445828(0x486)]??'','modelId':_0x19a3fd['modelId']??'','workflowId':_0x19a3fd[_0x445828(0x71a)]??'','async':_0x19a3fd[_0x445828(0x44e)]??!0x1,'instructions':_0x19a3fd[_0x445828(0x74e)]??'','maxTokens':_0x19a3fd[_0x445828(0x572)]??0x0,'temperature':_0x19a3fd[_0x445828(0x853)]??0x0,'grammar':_0x19a3fd[_0x445828(0x5ef)]??'default','collectionId':_0x19a3fd[_0x445828(0x539)]===_0x2d5b5c[_0x445828(0x43e)]||_0x19a3fd[_0x445828(0x539)]===_0x2d5b5c[_0x445828(0x69e)]?_0x19a3fd['id']:'','shouldEmit':_0x19a3fd['links']?.['some'](_0x4b8ba5=>_0x4b8ba5[_0x445828(0x539)]===_0x5395bb[_0x445828(0x459)]&&_0x9c2c18[_0x445828(0xb4a)](_0x3d4c48=>_0x3d4c48[_0x445828(0xa4b)]===_0x4b8ba5['uid'])?.[_0x445828(0x539)]===_0x2d5b5c['Answer'])??!0x1};if(_0x19a3fd[_0x445828(0x539)]===_0x2d5b5c[_0x445828(0x466)])return[{..._0x7ebe02,'type':_0x1d89a1['GenerativeAIInferenceToolType'][_0x445828(0x9bf)],'questions':_0x19a3fd[_0x445828(0x4a5)]??[]},{..._0x7ebe02,'type':_0x1d89a1[_0x445828(0x39a)][_0x445828(0x353)],'questions':_0x19a3fd[_0x445828(0x4a5)]??[]},{..._0x7ebe02,'type':_0x1d89a1[_0x445828(0x39a)][_0x445828(0x2dd)],'questions':_0x19a3fd[_0x445828(0x4a5)]??[]}];if(_0x19a3fd[_0x445828(0x539)]===_0x2d5b5c[_0x445828(0x52c)]||_0x19a3fd['type']===_0x2d5b5c[_0x445828(0x158)]||_0x19a3fd[_0x445828(0x539)]===_0x2d5b5c[_0x445828(0x2ec)]){const _0xf0af5e=_0x9c2c18[_0x445828(0x2b3)](_0x3151a4=>_0x3151a4[_0x445828(0x9a8)]?.[_0x445828(0x95e)](_0x9032ef=>_0x9032ef['uid']===_0x19a3fd[_0x445828(0xa4b)]&&_0x9032ef['type']===_0x5395bb[_0x445828(0x2a2)]));if(_0xf0af5e[_0x445828(0x4f0)]>0x0)return{..._0x7ebe02,'tools':_0xf0af5e[_0x445828(0x264)](_0x36f532=>_0x12ba8d(_0x36f532,_0x9c2c18))};}return _0x7ebe02;}async function _0x53eef1(_0x5907b3,_0x4de10e,_0x3dd06f,_0x1d9646,_0x195bba,_0x214546,_0x38022e,_0x40d0cf,_0x2dc041){const _0x22a326=_0xab329a,_0x3067cf=_0x40d0cf[_0x22a326(0x2c8)][_0x22a326(0xb4a)](_0x1e22a9=>_0x1e22a9['id']===_0x214546['modelId']);if(!_0x3067cf)throw new Error(_0x22a326(0xafb)+_0x214546['modelId']);if(_0x3067cf[_0x22a326(0x40c)]!==_0x1d89a1[_0x22a326(0x906)][_0x22a326(0x186)])return console[_0x22a326(0x4ad)](new Date()+_0x22a326(0xade)),void await _0x2a4566(_0x5907b3,_0x3dd06f,_0x1d9646,_0x195bba,_0x214546,_0x38022e,_0x40d0cf,_0x2dc041);if(_0x214546['accumulated']||(_0x214546[_0x22a326(0x6c6)]={}),_0x4de10e===_0x5395bb[_0x22a326(0x459)]&&_0x22a326(0x816)==typeof _0x3dd06f&&(_0x214546[_0x22a326(0x6c6)][_0x22a326(0x850)]||(_0x214546[_0x22a326(0x6c6)][_0x22a326(0x850)]=[]),_0x214546['accumulated'][_0x22a326(0x850)][_0x22a326(0x257)](_0x3dd06f)),_0x4de10e===_0x5395bb[_0x22a326(0x99b)])return _0x214546[_0x22a326(0x6c6)]['files']||(_0x214546[_0x22a326(0x6c6)][_0x22a326(0x5f0)]=[]),void _0x214546[_0x22a326(0x6c6)][_0x22a326(0x5f0)][_0x22a326(0x257)](_0x3dd06f);if(_0x4de10e===_0x5395bb['Image'])return _0x214546[_0x22a326(0x6c6)][_0x22a326(0x40d)]||(_0x214546[_0x22a326(0x6c6)][_0x22a326(0x40d)]=[]),void _0x214546[_0x22a326(0x6c6)]['images'][_0x22a326(0x257)](_0x3dd06f);if(_0x214546[_0x22a326(0x4d6)]=_0x214546[_0x22a326(0x4d6)]?_0x214546[_0x22a326(0x4d6)]+0x1:0x1,_0x24add0(_0x214546,_0x38022e)>_0x214546[_0x22a326(0x4d6)])return;if(_0x542377[_0x22a326(0x48f)](_0x22a326(0x672)+_0x214546[_0x22a326(0x432)],_0x214546['timesCalled']),!_0x214546[_0x22a326(0x6c6)]['prompt'])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x214546[_0x22a326(0x432)]);const _0x5ac02e=Date[_0x22a326(0x4cb)](),_0x3f1823=(0x0,_0x3aba3d['v4'])();let _0x2404a9='',_0x4216c0=0x0,_0x33f066=0x0;const _0x127830=[],_0x100ac9=function(_0x2b0ff3,_0x502f48,_0x52bcb1,_0x216f09){const _0x4924ac=_0x22a326;if(_0x52bcb1[_0x4924ac(0x2de)]){const _0x267712=_0x52bcb1[_0x4924ac(0x2de)][_0x4924ac(0xb12)](',');for(const _0x4d8f15 of _0x267712)_0x4924ac(0x5f0)!==_0x4d8f15&&_0x4924ac(0x40d)!==_0x4d8f15&&_0x502f48['internalContext']?.[_0x4d8f15]&&(_0x2b0ff3='<'+_0x4d8f15+'>'+_0x502f48[_0x4924ac(0x54f)][_0x4d8f15]+'</'+_0x4d8f15+'>\x0a\x0a'+_0x2b0ff3);}const _0x5ea15e=_0x216f09[_0x4924ac(0x2b3)](_0x106107=>_0x106107[_0x4924ac(0x9a8)]?.[_0x4924ac(0x95e)](_0x984db0=>_0x984db0[_0x4924ac(0xa4b)]===_0x52bcb1['uid']&&_0x984db0[_0x4924ac(0x539)]===_0x5395bb[_0x4924ac(0x2a2)]));for(const _0x23b281 of _0x5ea15e)if(_0x23b281[_0x4924ac(0x539)]===_0x2d5b5c['FormSkill']){const _0x1f4f65=_0x23b281['name'][_0x4924ac(0x640)](/[^a-zA-Z]/g,''),_0x4ba110=_0x502f48[_0x4924ac(0x54f)]?.[_0x4924ac(0x7dc)+_0x1f4f65];if(_0x4ba110){const _0x20128b=_0x23b281['questions'][_0x4ba110];_0x20128b&&(_0x2b0ff3=_0x4924ac(0xaab)+JSON['stringify'](_0x20128b)+_0x4924ac(0x731)+_0x2b0ff3);}}return _0x2b0ff3;}(_0x214546[_0x22a326(0x6c6)][_0x22a326(0x850)][_0x22a326(0xa75)]('\x0a\x0a'),_0x195bba,_0x214546,_0x38022e);let _0x57cee9=_0x100ac9;if(_0x214546[_0x22a326(0x6c6)][_0x22a326(0x5f0)]){'string'==typeof _0x57cee9&&(_0x57cee9=[],_0x57cee9[_0x22a326(0x257)]({'type':_0x22a326(0x66d),'text':_0x100ac9}));for(const _0x7dd22b of _0x214546[_0x22a326(0x6c6)][_0x22a326(0x5f0)])_0x57cee9[_0x22a326(0x257)]({'type':'file','file':{'filename':(0x0,_0x3aba3d['v4'])()+_0x22a326(0x64d),'file_data':'data:'+_0x7dd22b}});}if(_0x214546[_0x22a326(0x6c6)][_0x22a326(0x40d)]){_0x22a326(0x816)==typeof _0x57cee9&&(_0x57cee9=[],_0x57cee9[_0x22a326(0x257)]({'type':_0x22a326(0x66d),'text':_0x100ac9}));for(const _0x3caa20 of _0x214546[_0x22a326(0x6c6)][_0x22a326(0x40d)])_0x57cee9['push']({'type':_0x22a326(0x1cb),'image_url':{'url':_0x22a326(0xab4)+_0x3caa20}});}_0x127830[_0x22a326(0x257)]({'role':_0x22a326(0x752),'content':_0x3254e4(_0x1d9646[_0x22a326(0x74e)]??'',_0x214546,_0x3067cf)}),_0x127830[_0x22a326(0x257)](..._0x1d9646[_0x22a326(0x584)]?.['map'](_0x527480=>({'role':_0x527480['source']===_0x1d89a1['PromptSource'][_0x22a326(0xb68)]?_0x22a326(0x571):_0x22a326(0xabd),'content':_0x527480[_0x22a326(0x3cc)]}))??[]),_0x127830['push']({'role':_0x22a326(0x571),'content':_0x57cee9});const _0x31adb2=_0x38022e[_0x22a326(0x2b3)](_0x362280=>_0x362280[_0x22a326(0x9a8)]?.[_0x22a326(0x95e)](_0x2703b5=>_0x2703b5[_0x22a326(0xa4b)]===_0x214546['uid']&&_0x2703b5[_0x22a326(0x539)]===_0x5395bb['Tool']))[_0x22a326(0x264)](_0x50e850=>_0x12ba8d(_0x50e850,_0x38022e));if(_0x2dc041){const _0x3059c3=_0x214546[_0x22a326(0x9a8)]?.[_0x22a326(0x95e)](_0x14a5a0=>_0x14a5a0[_0x22a326(0x539)]===_0x5395bb['Text']&&(_0x38022e[_0x22a326(0xb4a)](_0x29c63a=>_0x29c63a[_0x22a326(0xa4b)]===_0x14a5a0[_0x22a326(0xa4b)])?.[_0x22a326(0x539)]===_0x2d5b5c[_0x22a326(0x343)]||_0x38022e['find'](_0x89f682=>_0x89f682[_0x22a326(0xa4b)]===_0x14a5a0[_0x22a326(0xa4b)])?.[_0x22a326(0x9a8)]?.[_0x22a326(0x95e)](_0x1f4233=>_0x1f4233[_0x22a326(0x539)]===_0x5395bb[_0x22a326(0x585)]&&_0x38022e['find'](_0x29ffc3=>_0x29ffc3[_0x22a326(0xa4b)]===_0x1f4233[_0x22a326(0xa4b)])?.['type']===_0x2d5b5c[_0x22a326(0x187)])))??!0x1,_0x4d496c=await fetch(_0x5d8dc2[_0x22a326(0x9a4)]+_0x22a326(0x3b2),{'method':_0x22a326(0xa0f),'headers':{'Accept':'text/event-stream','Content-Type':'application/json','x-vendor-id':_0x1d9646['vendorId']},'body':JSON[_0x22a326(0x56e)]({'model':_0x214546[_0x22a326(0xa5c)],'messages':_0x127830,'max_completion_tokens':_0x214546['maxTokens'],'temperature':_0x214546[_0x22a326(0x853)],'metadata':{'threadId':_0x1d9646[_0x22a326(0x1f7)],'agentId':_0x3f1823,'jobId':_0x5907b3,'workflowId':_0x1d9646[_0x22a326(0x71a)],'context':_0x195bba[_0x22a326(0x54f)]??{}},'structured_output':_0x214546['grammar'],'tools':_0x31adb2,'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x4d496c['ok']||!_0x4d496c[_0x22a326(0x718)])return console[_0x22a326(0x28d)]('Error\x20processing\x20agent\x20block'),void _0x2dc041[_0x22a326(0x292)](void 0x0);const _0xa7d8f8=_0x4d496c[_0x22a326(0x718)][_0x22a326(0x73c)](),_0x2ce392=new TextDecoder();for(;;){const {value:_0x146964,done:_0x4bcb0a}=await _0xa7d8f8['read']();if(_0x4bcb0a)break;const _0x3f7cf1=_0x2ce392[_0x22a326(0xac8)](_0x146964,{'stream':!0x0});if(_0x22a326(0x204)===_0x3f7cf1)break;const _0x1ad93b=_0xcfa7f4(_0x3f7cf1);for(const _0x292aea of _0x1ad93b)_0x292aea['choices']&&_0x292aea[_0x22a326(0x557)][0x0]&&(_0x3059c3&&(_0x2dc041[_0x22a326(0x292)]({'output':_0x292aea[_0x22a326(0x557)][0x0]['delta'][_0x22a326(0xa98)],'type':_0x22a326(0x850)}),await _0x3b46ce[_0x22a326(0xb1d)](0x1)),_0x2404a9+=_0x292aea[_0x22a326(0x557)][0x0]['delta'][_0x22a326(0xa98)]??'',_0x4216c0=_0x292aea['usage']?.[_0x22a326(0xa01)]??0x0,_0x33f066=_0x292aea['usage']?.[_0x22a326(0x69f)]??0x0,_0x195bba[_0x22a326(0x54f)]={..._0x195bba[_0x22a326(0x54f)],..._0x292aea[_0x22a326(0x3c0)]});}_0x195bba[_0x22a326(0x5bb)]=(_0x195bba[_0x22a326(0x5bb)]??0x0)+_0x33f066,_0x195bba['inputTokens']=(_0x195bba[_0x22a326(0x7a8)]??0x0)+_0x4216c0,_0x2dc041['emit']({'output':_0x3059c3?'\x0a\x0a':'','type':'prompt'}),await _0x3b46ce[_0x22a326(0xb1d)](0x1);}else{const _0x333121=await fetch(_0x5d8dc2['apiUrl']+_0x22a326(0x3b2),{'method':_0x22a326(0xa0f),'headers':{'Content-Type':_0x22a326(0x91c),'x-vendor-id':_0x1d9646[_0x22a326(0x3e1)]},'body':JSON[_0x22a326(0x56e)]({'model':_0x214546['modelId'],'messages':_0x127830,'max_completion_tokens':_0x214546[_0x22a326(0x572)],'temperature':_0x214546[_0x22a326(0x853)],'metadata':{'threadId':_0x1d9646[_0x22a326(0x1f7)],'agentId':_0x3f1823,'jobId':_0x5907b3,'workflowId':_0x1d9646[_0x22a326(0x71a)],'context':_0x195bba[_0x22a326(0x54f)]??{}},'structured_output':_0x214546['grammar'],'tools':_0x31adb2})}),_0x1412ea=await _0x333121[_0x22a326(0xa7b)]();_0x2404a9=_0x1412ea['choices'][0x0][_0x22a326(0x3cc)][_0x22a326(0xa98)],_0x4216c0=_0x1412ea[_0x22a326(0x775)][_0x22a326(0xa01)],_0x33f066=_0x1412ea[_0x22a326(0x775)][_0x22a326(0x69f)],_0x195bba[_0x22a326(0x330)]=_0x2404a9,_0x195bba[_0x22a326(0x54f)]={..._0x195bba[_0x22a326(0x54f)],..._0x1412ea[_0x22a326(0x3c0)]},_0x195bba[_0x22a326(0x5bb)]=(_0x195bba[_0x22a326(0x5bb)]??0x0)+_0x33f066,_0x195bba[_0x22a326(0x7a8)]=(_0x195bba[_0x22a326(0x7a8)]??0x0)+_0x4216c0;}if(_0x214546[_0x22a326(0x486)]&&(_0x195bba[_0x22a326(0x54f)]||(_0x195bba['internalContext']={}),_0x195bba[_0x22a326(0x54f)][_0x214546[_0x22a326(0x486)]]=_0x2404a9),await _0x26d28b[_0x22a326(0x670)]({'jobType':_0x2313f7[_0x22a326(0x259)],'type':_0x1bd725['IntermediateOutput'],'jobId':_0x5907b3,'agentId':_0x3f1823,'threadId':_0x1d9646[_0x22a326(0x1f7)],'traceLevel':_0x581e8e['Info'],'startTime':_0x5ac02e,'timestamp':Date['now'](),'blockId':_0x214546['id'],'status':_0x22a326(0x561),'output':_0x2404a9,'prompt':_0x100ac9,'agentName':_0x214546[_0x22a326(0x432)],'history':[],'instructions':''+_0x214546[_0x22a326(0x74e)]+(_0x1d9646['instructions']??''),'ragContext':[],'inputTokens':_0x4216c0??0x0,'outputTokens':_0x33f066??0x0}),_0x22a326(0x1d9)===_0x214546['grammar'])try{_0x2404a9=JSON[_0x22a326(0x685)](_0x2404a9)[_0x22a326(0x5b7)]?'true':_0x22a326(0x2aa);}catch(_0x393720){console[_0x22a326(0x28d)](_0x22a326(0x723),_0x2404a9),_0x2404a9=_0x22a326(0x2aa);}await _0x2a4566(_0x5907b3,_0x2404a9,_0x1d9646,_0x195bba,_0x214546,_0x38022e,_0x40d0cf,_0x2dc041);}function _0x3254e4(_0x509bd0,_0x2e897b,_0x3c2afe){const _0x252c19=_0xab329a;let _0x98bb10='';return _0x3c2afe[_0x252c19(0x3aa)]&&''!==_0x3c2afe['knowledgeCutoffDate']&&(_0x98bb10=_0x252c19(0x78a)+_0x3c2afe[_0x252c19(0x3aa)]+'\x0a\x0a'),_0x98bb10=_0x98bb10+_0x252c19(0xb67)+new Date()['toLocaleDateString'](void 0x0,{'weekday':'long','year':_0x252c19(0x272),'month':_0x252c19(0x6aa),'day':_0x252c19(0x272)})+'\x0a\x0a',''+_0x98bb10+_0x2e897b[_0x252c19(0x74e)]+_0x509bd0;}function _0xcfa7f4(_0x47810e){const _0x5062dd=_0xab329a;return _0x47810e['split'](_0x5062dd(0x830))[_0x5062dd(0x591)](_0x546b2a=>_0x546b2a[_0x5062dd(0x640)](_0x5062dd(0x69a),'')['trim']())[_0x5062dd(0x2b3)](_0x2fc68a=>''!==_0x2fc68a)['map'](_0x37f7ce=>{const _0x30f0e6=_0x5062dd;if(_0x30f0e6(0x94a)===_0x37f7ce)return null;try{return JSON[_0x30f0e6(0x685)](_0x37f7ce);}catch(_0x59014c){return console['error'](_0x30f0e6(0x880),_0x37f7ce),null;}})[_0x5062dd(0x2b3)](_0xc236f8=>null!==_0xc236f8);}async function _0x3a4973(_0x33641e,_0x31e7aa,_0xa492dc,_0x51b025,_0x37d305,_0x3717d3,_0x1cf437){const _0x19a098=_0xab329a,_0x132939=_0x19a098(0x24c)+_0x37d305[_0x19a098(0x791)]+_0x19a098(0x463),_0x251827={'prompt':{'type':_0x1d89a1[_0x19a098(0x71c)][_0x19a098(0x535)]}};return await _0x26d28b[_0x19a098(0x670)]({'jobType':_0x2313f7[_0x19a098(0x20f)],'type':_0x4d89a0[_0x19a098(0x594)],'jobId':_0x33641e,'agentId':_0x31e7aa,'threadId':_0xa492dc['threadId'],'traceLevel':_0x581e8e[_0x19a098(0x72c)],'startTime':Date[_0x19a098(0x4cb)](),'timestamp':Date[_0x19a098(0x4cb)](),'status':_0x19a098(0x561),'function':_0x61261e['ExecuteAgent'],'params':_0x251827,'functionDescription':_0x132939}),{'description':_0x132939,'params':_0x251827,'callback':async _0x13cc78=>_0x102d4e(_0xa492dc['vendorId'],_0x37d305,_0x3717d3,_0x13cc78,_0x51b025,_0x33641e,_0x31e7aa,_0xa492dc['workflowId'],_0xa492dc[_0x19a098(0x1f7)],_0x1cf437)};}async function _0x102d4e(_0x32ac30,_0x2a8c4b,_0x2ce3f6,_0x18fd00,_0x369031,_0x3af795,_0x1e067b,_0x1fa451,_0x5e3551,_0x5ec48f){const _0x4d51e0=_0xab329a,_0x4eaf40=Date[_0x4d51e0(0x4cb)]();try{if(_0x4d51e0(0x816)!=typeof _0x18fd00?.['prompt'])throw new Error(_0x4d51e0(0x580));if(!_0x2ce3f6[_0x4d51e0(0x2c8)][_0x4d51e0(0xb4a)](_0xed27c4=>_0xed27c4['id']===_0x2a8c4b['modelId']))throw new Error(_0x4d51e0(0x523));let _0x346c72='',_0x29781a=[];if(_0x2a8c4b['instructions']&&_0x29781a['push']({'role':_0x4d51e0(0x752),'content':_0x2a8c4b[_0x4d51e0(0x74e)]}),_0x29781a[_0x4d51e0(0x257)]({'role':_0x4d51e0(0x571),'content':_0x18fd00[_0x4d51e0(0x850)]}),_0x5ec48f&&_0x2a8c4b[_0x4d51e0(0x58a)]){const _0x2e3204=await fetch(_0x5d8dc2[_0x4d51e0(0x9a4)]+_0x4d51e0(0x3b2),{'method':_0x4d51e0(0xa0f),'headers':{'Accept':'text/event-stream','Content-Type':_0x4d51e0(0x91c),'x-vendor-id':_0x32ac30},'body':JSON['stringify']({'model':_0x2a8c4b[_0x4d51e0(0xa5c)],'messages':_0x29781a,'max_completion_tokens':_0x2a8c4b[_0x4d51e0(0x572)],'temperature':_0x2a8c4b['temperature'],'tools':_0x2a8c4b[_0x4d51e0(0x5f8)],'structured_output':_0x2a8c4b[_0x4d51e0(0x5ef)],'metadata':{'threadId':_0x5e3551,'jobId':_0x3af795,'agentId':_0x1e067b,'workflowId':_0x1fa451,'context':_0x369031?.[_0x4d51e0(0x54f)]??{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x2e3204['ok']||!_0x2e3204[_0x4d51e0(0x718)])return console[_0x4d51e0(0x28d)](_0x4d51e0(0x86d)),_0x5ec48f[_0x4d51e0(0x292)](void 0x0),_0x4d51e0(0x513);const _0x4af42c=_0x2e3204[_0x4d51e0(0x718)]['getReader'](),_0x2d0e7b=new TextDecoder();let _0x4af098=0x0,_0x1ed099=0x0,_0x15193f='';for(;;){const {value:_0x18a9ea,done:_0x1c4941}=await _0x4af42c[_0x4d51e0(0x84d)]();if(_0x1c4941)break;const _0xde3214=_0x2d0e7b['decode'](_0x18a9ea,{'stream':!0x0});if(_0x4d51e0(0x204)===_0xde3214)break;const _0x3676c8=_0xcfa7f4(_0xde3214);for(const _0x34d83f of _0x3676c8)_0x34d83f['choices']&&_0x34d83f[_0x4d51e0(0x557)][0x0]&&(_0x15193f+=_0x34d83f['choices'][0x0][_0x4d51e0(0x2c5)][_0x4d51e0(0xa98)],_0x4af098+=_0x34d83f[_0x4d51e0(0x775)]?.[_0x4d51e0(0x88b)]??0x0,_0x1ed099+=_0x34d83f['usage']?.[_0x4d51e0(0x701)]??0x0,_0x369031&&(_0x369031['internalContext']={..._0x369031['internalContext'],..._0x34d83f[_0x4d51e0(0x3c0)]}),_0x5ec48f[_0x4d51e0(0x292)]({'output':_0x34d83f[_0x4d51e0(0x557)][0x0]['delta'][_0x4d51e0(0xa98)],'type':_0x4d51e0(0x850)}),await _0x3b46ce[_0x4d51e0(0xb1d)](0x1));}_0x369031&&(_0x369031['outputTokens']=(_0x369031[_0x4d51e0(0x5bb)]??0x0)+_0x1ed099,_0x369031[_0x4d51e0(0x7a8)]=(_0x369031[_0x4d51e0(0x7a8)]??0x0)+_0x4af098,_0x2a8c4b[_0x4d51e0(0x486)]&&(_0x369031[_0x4d51e0(0x54f)]||(_0x369031[_0x4d51e0(0x54f)]={}),_0x369031[_0x4d51e0(0x54f)][_0x2a8c4b[_0x4d51e0(0x486)]]=_0x15193f)),_0x5ec48f[_0x4d51e0(0x292)]({'output':'\x0a\x0a','type':_0x4d51e0(0x850)}),await _0x3b46ce[_0x4d51e0(0xb1d)](0x1),_0x346c72=_0x4d51e0(0x4de);}else{const _0x225f81=await fetch(_0x5d8dc2[_0x4d51e0(0x9a4)]+_0x4d51e0(0x3b2),{'method':'POST','headers':{'Content-Type':_0x4d51e0(0x91c),'x-vendor-id':_0x32ac30},'body':JSON[_0x4d51e0(0x56e)]({'model':_0x2a8c4b[_0x4d51e0(0xa5c)],'messages':_0x29781a,'max_completion_tokens':_0x2a8c4b[_0x4d51e0(0x572)],'temperature':_0x2a8c4b[_0x4d51e0(0x853)],'tools':_0x2a8c4b[_0x4d51e0(0x5f8)],'structured_output':_0x2a8c4b[_0x4d51e0(0x5ef)],'metadata':{'threadId':_0x5e3551,'jobId':_0x3af795,'agentId':_0x1e067b,'workflowId':_0x1fa451,'context':_0x369031?.['internalContext']??{}}})}),_0x9d941e=await _0x225f81['json']();_0x346c72=_0x9d941e[_0x4d51e0(0x557)][0x0][_0x4d51e0(0x3cc)][_0x4d51e0(0xa98)],_0x369031&&(_0x369031['internalContext']={..._0x369031[_0x4d51e0(0x54f)],..._0x9d941e[_0x4d51e0(0x3c0)]},_0x369031[_0x4d51e0(0x5bb)]=(_0x369031[_0x4d51e0(0x5bb)]??0x0)+_0x9d941e['usage'][_0x4d51e0(0x69f)],_0x369031['inputTokens']=(_0x369031[_0x4d51e0(0x7a8)]??0x0)+_0x9d941e[_0x4d51e0(0x775)][_0x4d51e0(0xa01)],_0x2a8c4b[_0x4d51e0(0x486)]&&(_0x369031[_0x4d51e0(0x54f)]||(_0x369031[_0x4d51e0(0x54f)]={}),_0x369031[_0x4d51e0(0x54f)][_0x2a8c4b[_0x4d51e0(0x486)]]=_0x346c72));}if(_0x4d51e0(0x816)!=typeof _0x346c72)throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');return _0x3af795&&_0x1e067b&&_0x5e3551&&await _0x26d28b[_0x4d51e0(0x670)]({'jobType':_0x2313f7[_0x4d51e0(0x4ba)],'type':_0x61261e[_0x4d51e0(0x3f2)],'jobId':_0x3af795,'blockId':'agent','agentId':_0x1e067b,'threadId':_0x5e3551,'traceLevel':_0x581e8e[_0x4d51e0(0x72c)],'startTime':_0x4eaf40,'timestamp':Date[_0x4d51e0(0x4cb)](),'status':_0x4d51e0(0x561),'agentName':_0x2a8c4b['name'],'prompt':_0x18fd00['prompt'],'instructions':_0x2a8c4b[_0x4d51e0(0x74e)]??'','result':_0x346c72,'inputTokens':0x0,'outputTokens':0x0}),_0x346c72;}catch(_0x100a45){return console[_0x4d51e0(0x28d)](_0x100a45),_0x3af795&&_0x1e067b&&_0x5e3551&&await _0x26d28b['trace']({'jobType':_0x2313f7[_0x4d51e0(0x4ba)],'type':_0x61261e[_0x4d51e0(0x3f2)],'jobId':_0x3af795,'blockId':_0x4d51e0(0x1e8),'agentId':_0x1e067b,'threadId':_0x5e3551,'traceLevel':_0x581e8e['Info'],'startTime':_0x4eaf40,'timestamp':Date[_0x4d51e0(0x4cb)](),'status':_0x4d51e0(0x28d),'errorDetails':_0x2184de(_0x100a45),'agentName':_0x2a8c4b[_0x4d51e0(0x432)],'prompt':_0x18fd00?.[_0x4d51e0(0x850)]??'','instructions':_0x2a8c4b['instructions']??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x100a45 instanceof Error?_0x100a45['message']:_0x4d51e0(0x513);}}async function _0x29d098(_0x56b8f2,_0x456562,_0x20eb14,_0x49a287,_0x4937e9,_0x5d614e){const _0x34b9cb=_0xab329a,_0x12111b=Date[_0x34b9cb(0x4cb)]();try{if(!_0x456562[_0x34b9cb(0x992)])throw new Error(_0x34b9cb(0x26a));if(!_0x56b8f2['modelId'])throw new Error(_0x34b9cb(0x4ac));if(_0x34b9cb(0x816)!=typeof _0x20eb14?.[_0x34b9cb(0x5f6)])throw new Error(_0x34b9cb(0x8b9));const _0x18ca8b=await _0x456562['aiSearchConnector'][_0x34b9cb(0x9a7)](_0x20eb14[_0x34b9cb(0x5f6)],_0x56b8f2['modelId']);return _0x49a287&&_0x4937e9&&_0x5d614e&&(await _0x26d28b[_0x34b9cb(0x82f)](_0x49a287,_0x56b8f2[_0x34b9cb(0xa5c)],_0x18ca8b[_0x34b9cb(0x7a8)],_0x18ca8b[_0x34b9cb(0x5bb)]),console[_0x34b9cb(0x4ad)](new Date()+_0x34b9cb(0x5e7),_0x56b8f2['modelId'],_0x18ca8b[_0x34b9cb(0x7a8)],_0x18ca8b[_0x34b9cb(0x5bb)]),await _0x26d28b['trace']({'jobType':_0x2313f7[_0x34b9cb(0x4ba)],'type':_0x61261e[_0x34b9cb(0x4a1)],'jobId':_0x49a287,'agentId':_0x4937e9,'threadId':_0x5d614e,'blockId':_0x34b9cb(0x7e0),'traceLevel':_0x581e8e['Info'],'startTime':_0x12111b,'timestamp':Date[_0x34b9cb(0x4cb)](),'status':'success','query':_0x20eb14['query'],'results':_0x18ca8b['output']})),_0x18ca8b[_0x34b9cb(0x330)];}catch(_0x154c6){return console[_0x34b9cb(0x28d)](_0x154c6),_0x49a287&&_0x4937e9&&_0x5d614e&&await _0x26d28b['trace']({'jobType':_0x2313f7[_0x34b9cb(0x4ba)],'type':_0x61261e[_0x34b9cb(0x4a1)],'jobId':_0x49a287,'blockId':'ai-search','traceLevel':_0x581e8e[_0x34b9cb(0x72c)],'startTime':_0x12111b,'timestamp':Date[_0x34b9cb(0x4cb)](),'status':_0x34b9cb(0x28d),'errorDetails':_0x2184de(_0x154c6),'agentId':_0x4937e9,'threadId':_0x5d614e,'query':_0x20eb14?.[_0x34b9cb(0x5f6)]??'','results':'Error\x20searching'}),_0x154c6 instanceof Error?_0x154c6[_0x34b9cb(0x3cc)]:_0x34b9cb(0x31e);}}async function _0x30c4fe(_0x4e7526,_0x89acfb,_0x399dc8,_0x37cbbe){const _0x4eab95=_0xab329a,_0x497057=Date[_0x4eab95(0x4cb)]();try{if('string'!=typeof _0x4e7526?.[_0x4eab95(0x9ac)])throw new Error(_0x4eab95(0x531));const _0x2ca457=Function(''+_0x4e7526?.[_0x4eab95(0x9ac)])();let _0x1d6cb7='';try{_0x1d6cb7=JSON[_0x4eab95(0x56e)](_0x2ca457);}catch{_0x1d6cb7=_0x2ca457[_0x4eab95(0x340)]();}return _0x89acfb&&_0x399dc8&&_0x37cbbe&&await _0x26d28b[_0x4eab95(0x670)]({'jobType':_0x2313f7[_0x4eab95(0x4ba)],'type':_0x61261e['ExecuteCode'],'agentId':_0x399dc8,'threadId':_0x37cbbe,'jobId':_0x89acfb,'blockId':_0x4eab95(0x9ac),'traceLevel':_0x581e8e[_0x4eab95(0x72c)],'startTime':_0x497057,'timestamp':Date[_0x4eab95(0x4cb)](),'status':_0x4eab95(0x561),'code':_0x4e7526[_0x4eab95(0x9ac)],'result':_0x1d6cb7}),_0x2ca457;}catch(_0x251574){return console[_0x4eab95(0x28d)](_0x251574),_0x89acfb&&_0x399dc8&&_0x37cbbe&&await _0x26d28b['trace']({'jobType':_0x2313f7[_0x4eab95(0x4ba)],'type':_0x61261e[_0x4eab95(0xb23)],'jobId':_0x89acfb,'blockId':_0x4eab95(0x9ac),'traceLevel':_0x581e8e[_0x4eab95(0x72c)],'startTime':_0x497057,'timestamp':Date[_0x4eab95(0x4cb)](),'status':_0x4eab95(0x28d),'errorDetails':_0x2184de(_0x251574),'agentId':_0x399dc8,'threadId':_0x37cbbe,'code':_0x4e7526?.[_0x4eab95(0x9ac)]??'','result':'Error\x20executing\x20code'}),_0x251574 instanceof Error?_0x251574[_0x4eab95(0x3cc)]:_0x4eab95(0x936);}}async function _0x47e554(_0x28775f,_0x3271f3,_0x36ef68,_0x12fbd1,_0x4a0968){const _0x3419bc=_0xab329a,_0x28d55c=_0x3419bc(0x22f)+_0x4a0968[_0x3419bc(0x791)]+_0x3419bc(0x8f6),_0x7571ee={'queryOrPrompt':{'type':_0x1d89a1[_0x3419bc(0x71c)][_0x3419bc(0x535)]}};return await _0x26d28b['trace']({'jobType':_0x2313f7[_0x3419bc(0x20f)],'type':_0x4d89a0[_0x3419bc(0x8dc)],'jobId':_0x28775f,'agentId':_0x3271f3,'threadId':_0x36ef68[_0x3419bc(0x1f7)],'blockId':_0x3419bc(0x4fa),'traceLevel':_0x581e8e[_0x3419bc(0x72c)],'startTime':Date[_0x3419bc(0x4cb)](),'timestamp':Date[_0x3419bc(0x4cb)](),'status':_0x3419bc(0x561),'function':_0x4ef61f[_0x3419bc(0x719)],'params':_0x7571ee,'functionDescription':_0x28d55c}),{'description':_0x28d55c,'params':_0x7571ee,'callback':async _0x3788ef=>_0x595c95(_0x36ef68['vendorId'],_0x4a0968,_0x3788ef,_0x12fbd1,_0x28775f,_0x3271f3,_0x36ef68[_0x3419bc(0x1f7)])};}async function _0x595c95(_0x1956f0,_0x2cad97,_0x5b4f68,_0x3ab7a1,_0x218995,_0xc63cef,_0x380704){const _0x2e0485=_0xab329a,_0x456abf=Date[_0x2e0485(0x4cb)]();try{if('string'!=typeof _0x5b4f68?.[_0x2e0485(0x801)])throw new Error(_0x2e0485(0x8b9));const _0xad1959=await fetch(_0x5d8dc2[_0x2e0485(0x9a4)]+'/vector_stores/'+_0x2cad97[_0x2e0485(0xaff)]+_0x2e0485(0xaf2),{'method':_0x2e0485(0xa0f),'headers':{'Content-Type':'application/json','x-vendor-id':_0x1956f0},'body':JSON[_0x2e0485(0x56e)]({'query':_0x5b4f68[_0x2e0485(0x801)]})}),_0x27e13e=((await _0xad1959[_0x2e0485(0xa7b)]())[_0x2e0485(0x62e)]??[])[_0x2e0485(0x591)](_0x302fda=>({'pathName':_0x302fda['filename'],'relevance':_0x302fda[_0x2e0485(0x889)],'content':_0x302fda[_0x2e0485(0xa98)]['text']}));return _0x3ab7a1&&(_0x3ab7a1[_0x2e0485(0x3c0)]=Array[_0x2e0485(0x61d)](new Set([..._0x3ab7a1['context']??[],..._0x27e13e]))),_0x218995&&_0xc63cef&&_0x380704&&await _0x26d28b[_0x2e0485(0x670)]({'jobType':_0x2313f7[_0x2e0485(0x69e)],'type':_0x4ef61f[_0x2e0485(0x236)],'jobId':_0x218995,'blockId':_0x2e0485(0x4fa),'agentId':_0xc63cef,'threadId':_0x380704,'traceLevel':_0x581e8e[_0x2e0485(0x72c)],'startTime':_0x456abf,'timestamp':Date[_0x2e0485(0x4cb)](),'status':_0x2e0485(0x561),'query':_0x5b4f68[_0x2e0485(0x801)],'context':_0x27e13e??[],'inputTokens':0x0,'outputTokens':0x0}),_0x27e13e['reduce']((_0xd909b6,_0x26b4ef)=>_0xd909b6+'\x0a'+_0x26b4ef['content'],'');}catch(_0x4fc119){return console[_0x2e0485(0x28d)](_0x4fc119),_0x218995&&_0xc63cef&&_0x380704&&await _0x26d28b[_0x2e0485(0x670)]({'jobType':_0x2313f7[_0x2e0485(0x69e)],'type':_0x4ef61f[_0x2e0485(0x236)],'jobId':_0x218995,'blockId':_0x2e0485(0x4fa),'agentId':_0xc63cef,'threadId':_0x380704,'traceLevel':_0x581e8e[_0x2e0485(0x72c)],'startTime':_0x456abf,'timestamp':Date['now'](),'status':'error','errorDetails':_0x2184de(_0x4fc119),'query':_0x5b4f68?.['queryOrPrompt']??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x4fc119 instanceof Error?_0x4fc119[_0x2e0485(0x3cc)]:_0x2e0485(0x7af);}}async function _0xf21387(_0x9a2857,_0x3d7e8a,_0x158006,_0x1b807e,_0x50d3f5){const _0x3f3d28=_0xab329a,_0x525500={};for(const _0x2f4f86 of _0x50d3f5[_0x3f3d28(0x573)]??[])switch(_0x2f4f86[_0x3f3d28(0x539)]){case'string':case _0x3f3d28(0xa7b):_0x525500[_0x2f4f86['name']]={'type':_0x1d89a1[_0x3f3d28(0x71c)]['String']};break;case'number':_0x525500[_0x2f4f86['name']]={'type':_0x1d89a1[_0x3f3d28(0x71c)][_0x3f3d28(0x9b7)]};break;case'boolean':_0x525500[_0x2f4f86['name']]={'type':_0x1d89a1[_0x3f3d28(0x71c)][_0x3f3d28(0x583)]};}return await _0x26d28b[_0x3f3d28(0x670)]({'jobType':_0x2313f7[_0x3f3d28(0x20f)],'type':_0x4d89a0[_0x3f3d28(0x594)],'jobId':_0x9a2857,'agentId':_0x3d7e8a,'threadId':_0x158006,'traceLevel':_0x581e8e['Info'],'startTime':Date[_0x3f3d28(0x4cb)](),'timestamp':Date[_0x3f3d28(0x4cb)](),'status':_0x3f3d28(0x561),'function':_0x61261e[_0x3f3d28(0xa9e)],'params':_0x525500,'functionDescription':_0x50d3f5[_0x3f3d28(0x791)]??''}),{'description':_0x3f3d28(0x895)+_0x50d3f5[_0x3f3d28(0x791)],'params':_0x525500,'callback':async _0x4d52a5=>_0x5b3601(_0x50d3f5,_0x4d52a5,_0x1b807e,_0x9a2857,_0x3d7e8a,_0x158006)};}async function _0x5b3601(_0x42c00e,_0x1e2ebe,_0x299ea0,_0x2522fb,_0x331214,_0x258fb5){const _0x408949=_0xab329a,_0x3ec31f=Date[_0x408949(0x4cb)]();try{if(!_0x1e2ebe)throw new Error('No\x20parameters\x20provided');for(const _0x469629 of _0x42c00e[_0x408949(0x573)]??[]){if(void 0x0===_0x1e2ebe[_0x469629[_0x408949(0x432)]])throw new Error(_0x408949(0x8a1)+_0x469629[_0x408949(0x432)]+'\x20is\x20required');if(_0x408949(0x816)===_0x469629[_0x408949(0x539)]&&_0x408949(0x816)!=typeof _0x1e2ebe[_0x469629['name']])throw new Error(_0x408949(0x8a1)+_0x469629[_0x408949(0x432)]+_0x408949(0xaa0));if(_0x408949(0x556)===_0x469629[_0x408949(0x539)]&&_0x408949(0x556)!=typeof _0x1e2ebe[_0x469629[_0x408949(0x432)]])throw new Error('Parameter\x20'+_0x469629['name']+_0x408949(0x3c9));if('boolean'===_0x469629[_0x408949(0x539)]&&_0x408949(0x503)!=typeof _0x1e2ebe[_0x469629[_0x408949(0x432)]])throw new Error(_0x408949(0x8a1)+_0x469629[_0x408949(0x432)]+_0x408949(0x7d7));if(_0x408949(0xa7b)===_0x469629[_0x408949(0x539)]&&_0x408949(0x816)!=typeof _0x1e2ebe[_0x469629[_0x408949(0x432)]])throw new Error('Parameter\x20'+_0x469629['name']+'\x20must\x20be\x20a\x20string');if('json'===_0x469629[_0x408949(0x539)])try{_0x1e2ebe[_0x469629[_0x408949(0x432)]]=JSON[_0x408949(0x685)](_0x1e2ebe[_0x469629[_0x408949(0x432)]]);}catch{throw new Error('Parameter\x20'+_0x469629['name']+'\x20must\x20be\x20a\x20valid\x20JSON\x20string');}}const _0x3ba400={};for(const _0x50b433 of _0x42c00e['headers']??[]){let _0x30d2bc=_0x50b433['value'];_0x30d2bc[_0x408949(0x35f)](/\$[a-zA-Z0-9]+/)&&(_0x30d2bc=_0x30d2bc['replace'](/\$[a-zA-Z0-9]+/g,_0x5d9bce=>{const _0x386ccf=_0x5d9bce['slice'](0x1);return _0x1e2ebe[_0x386ccf];})),_0x3ba400[_0x50b433[_0x408949(0x432)]]=_0x30d2bc;}const _0x92c008=new URLSearchParams();for(const _0x255bf1 of _0x42c00e[_0x408949(0x563)]??[]){let _0x45de4c=_0x255bf1['value'];if(_0x408949(0x816)==typeof _0x45de4c&&_0x45de4c[_0x408949(0xb20)]('$')){const _0x278d9d=_0x45de4c['slice'](0x1);_0x45de4c=_0x1e2ebe[_0x278d9d];}if(_0x408949(0x816)==typeof _0x45de4c&&_0x45de4c[_0x408949(0xb20)](_0x408949(0x64e))){const _0x2ec6df=_0x45de4c['replace'](_0x408949(0x64e),'');_0x45de4c=_0x299ea0?.[_0x408949(0x54f)]?.[_0x2ec6df];}if(_0x408949(0x816)==typeof _0x45de4c&&(_0x45de4c[_0x408949(0xb20)]('[')&&_0x45de4c['endsWith'](']')||_0x45de4c['startsWith']('{')&&_0x45de4c[_0x408949(0xa45)]('}')))try{_0x45de4c=JSON[_0x408949(0x685)](_0x45de4c);}catch(_0x1f6d6d){console[_0x408949(0x28d)](_0x1f6d6d);}_0x92c008[_0x408949(0x997)](_0x255bf1[_0x408949(0x432)],_0x45de4c);}let _0x13e8b9,_0x37db87=_0x42c00e[_0x408949(0x84b)]??'';_0x92c008[_0x408949(0xa86)]>0x0&&(_0x37db87+='?'+_0x92c008['toString']());for(const _0x171883 of _0x42c00e[_0x408949(0x229)]??[]){void 0x0===_0x13e8b9&&(_0x13e8b9={});let _0x41aa2f=_0x171883[_0x408949(0x706)];if(_0x408949(0x816)==typeof _0x41aa2f&&_0x41aa2f[_0x408949(0xb20)]('$')){const _0x57ecb2=_0x41aa2f[_0x408949(0x291)](0x1);_0x41aa2f=_0x1e2ebe[_0x57ecb2];}if('string'==typeof _0x41aa2f&&_0x41aa2f[_0x408949(0xb20)]('@context.')){const _0x53672f=_0x41aa2f[_0x408949(0x640)](_0x408949(0x64e),'');_0x41aa2f=_0x299ea0?.['internalContext']?.[_0x53672f];}if(_0x408949(0x816)==typeof _0x41aa2f&&(_0x41aa2f[_0x408949(0xb20)]('[')&&_0x41aa2f[_0x408949(0xa45)](']')||_0x41aa2f[_0x408949(0xb20)]('{')&&_0x41aa2f[_0x408949(0xa45)]('}')))try{_0x41aa2f=JSON[_0x408949(0x685)](_0x41aa2f);}catch(_0x51d119){console['error'](_0x51d119);}if(_0x408949(0x933)===_0x171883[_0x408949(0x432)]){if(_0x408949(0x816)==typeof _0x41aa2f){const _0x389ca1=_0x41aa2f[_0x408949(0x35f)](/```html(.*)```/s);_0x389ca1&&(_0x41aa2f=_0x389ca1[0x1]),_0x41aa2f=_0x41aa2f[_0x408949(0x640)](/\n/g,''),_0x41aa2f=_0x41aa2f[_0x408949(0x640)](/'/g,'\x22');}_0x13e8b9=_0x41aa2f;break;}if(-0x1===_0x171883[_0x408949(0x432)][_0x408949(0x7f1)]('.'))_0x13e8b9[_0x171883[_0x408949(0x432)]]=_0x41aa2f;else{const [_0x4735e7,_0x2b1723]=_0x171883[_0x408949(0x432)][_0x408949(0xb12)]('.');_0x13e8b9[_0x4735e7]||(_0x13e8b9[_0x4735e7]={}),_0x13e8b9[_0x4735e7][_0x2b1723]=_0x41aa2f;}}console[_0x408949(0x4ad)](_0x408949(0x2fa)+_0x42c00e[_0x408949(0x432)]+_0x408949(0x70d)+JSON[_0x408949(0x56e)](_0x13e8b9));const _0x1bde70=await fetch(_0x37db87,{'method':_0x42c00e[_0x408949(0x9ef)],'headers':_0x3ba400,'body':void 0x0===_0x13e8b9?void 0x0:'string'==typeof _0x13e8b9?_0x13e8b9:JSON[_0x408949(0x56e)](_0x13e8b9)});if(_0x1bde70['ok']){let _0x3ea136=await _0x1bde70[_0x408949(0xa7b)]();return _0x408949(0x816)!=typeof _0x3ea136&&(_0x3ea136=JSON[_0x408949(0x56e)](_0x3ea136)),_0x2522fb&&_0x331214&&_0x258fb5&&await _0x26d28b['trace']({'jobType':_0x2313f7['Skill'],'type':_0x61261e['ExecuteCustomSkill'],'jobId':_0x2522fb,'agentId':_0x331214,'threadId':_0x258fb5,'blockId':'custom-skill','traceLevel':_0x581e8e['Info'],'startTime':_0x3ec31f,'timestamp':Date['now'](),'status':_0x408949(0x561),'skillName':_0x42c00e['name'],'params':_0x1e2ebe,'result':_0x3ea136}),_0x299ea0&&_0x42c00e[_0x408949(0x486)]&&''!==_0x42c00e[_0x408949(0x486)]&&(_0x299ea0[_0x408949(0x54f)]||(_0x299ea0[_0x408949(0x54f)]={}),_0x299ea0['internalContext'][_0x42c00e['contextOutputVariable']]=_0x3ea136),_0x3ea136;}throw new Error(_0x1bde70['statusText']);}catch(_0xa2857c){console['error'](_0xa2857c);const _0x43c5de=_0xa2857c instanceof Error?_0xa2857c[_0x408949(0x3cc)]:_0x408949(0x815);return _0x2522fb&&_0x331214&&_0x258fb5&&await _0x26d28b['trace']({'jobType':_0x2313f7[_0x408949(0x4ba)],'type':_0x61261e[_0x408949(0xa9e)],'jobId':_0x2522fb,'blockId':_0x408949(0x9a6),'threadId':_0x258fb5,'traceLevel':_0x581e8e['Info'],'startTime':_0x3ec31f,'timestamp':Date[_0x408949(0x4cb)](),'agentId':_0x331214,'status':_0x408949(0x28d),'skillName':_0x42c00e[_0x408949(0x432)],'params':_0x1e2ebe??{},'result':_0x43c5de}),_0x43c5de;}}async function _0x22baaa(_0x24bd2a,_0x567a56,_0x46c5a7,_0x317254=!0x0){const _0x4503fb=_0xab329a,_0x2a175c=_0x4503fb(0x8cb),_0x2f0e4d={'url':{'type':_0x1d89a1[_0x4503fb(0x71c)]['String']},'page':{'type':_0x1d89a1[_0x4503fb(0x71c)][_0x4503fb(0x9b7)]}};return await _0x26d28b[_0x4503fb(0x670)]({'jobType':_0x2313f7[_0x4503fb(0x20f)],'type':_0x4d89a0[_0x4503fb(0x594)],'jobId':_0x24bd2a,'agentId':_0x567a56,'threadId':_0x46c5a7,'traceLevel':_0x581e8e[_0x4503fb(0x72c)],'startTime':Date['now'](),'timestamp':Date[_0x4503fb(0x4cb)](),'status':_0x4503fb(0x561),'function':_0x61261e[_0x4503fb(0xa2d)],'params':_0x2f0e4d,'functionDescription':_0x2a175c}),{'description':_0x2a175c,'params':_0x2f0e4d,'callback':async _0x2e3bf0=>_0x26fb1f(_0x2e3bf0,_0x317254,_0x24bd2a,_0x567a56,_0x46c5a7)};}async function _0x26fb1f(_0x42ee8c,_0x25b78c=!0x0,_0x42aa74,_0x17bab0,_0x465da5){const _0x52ca02=_0xab329a,_0x281aaf=Date['now']();try{if(_0x52ca02(0x816)!=typeof _0x42ee8c?.[_0x52ca02(0x4ef)])throw new Error(_0x52ca02(0x24d));const _0x200fee=_0x42ee8c['url'];if([_0x52ca02(0x64d),'.doc','.docx',_0x52ca02(0x9d5),_0x52ca02(0x385),_0x52ca02(0xa55),_0x52ca02(0x1c6)][_0x52ca02(0x95e)](_0x9db9f5=>_0x200fee[_0x52ca02(0xa45)](_0x9db9f5)))throw new Error(_0x52ca02(0x1b2));const _0x26b258=await fetch(_0x200fee),_0x2e8823=await _0x26b258['text']();let _0x4961e1=_0x2e8823;if(_0x25b78c){const _0x58f974=_0x2e8823['match'](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x475a13=_0x58f974?_0x58f974[0x1]:_0x2e8823,_0x40c42e=_0x475a13['replace'](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')[_0x52ca02(0x640)](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x52ca02(0x640)](/<br\s*\/?>/gi,'\x20')[_0x52ca02(0x640)](/&nbsp;/g,'\x20');_0x4961e1=_0x40c42e['replace'](/<\/?[^>]+(>|$)/g,'')['replace'](/\s\s+/g,'\x20')['trim']();}const _0x5d4c6e=_0x52ca02(0x556)==typeof _0x42ee8c['page']?_0x42ee8c[_0x52ca02(0x9b6)]:0x1,_0x174a70=Math[_0x52ca02(0x36f)](_0x4961e1['length']/_0x39d57b);return _0x4961e1['length']>_0x39d57b&&(_0x4961e1=_0x4961e1['substring']((_0x5d4c6e-0x1)*_0x39d57b,(_0x5d4c6e-0x1)*_0x39d57b+_0x39d57b)+_0x52ca02(0x590)+(_0x5d4c6e+0x1)+_0x52ca02(0x1b9)+_0x174a70+'.'),_0x42aa74&&_0x17bab0&&_0x465da5&&await _0x26d28b['trace']({'jobType':_0x2313f7[_0x52ca02(0x4ba)],'type':_0x61261e[_0x52ca02(0xa2d)],'jobId':_0x42aa74,'agentId':_0x17bab0,'threadId':_0x465da5,'blockId':_0x52ca02(0x926),'traceLevel':_0x581e8e['Info'],'startTime':_0x281aaf,'timestamp':Date[_0x52ca02(0x4cb)](),'status':_0x26b258['ok']?'success':_0x52ca02(0x28d),'url':_0x42ee8c['url'],'page':_0x5d4c6e,'totalPages':_0x174a70,'response':_0x4961e1}),_0x4961e1;}catch(_0x19f7c7){console[_0x52ca02(0x28d)](_0x19f7c7);const _0xb33c04=_0x19f7c7 instanceof Error?_0x19f7c7[_0x52ca02(0x3cc)]:_0x52ca02(0x815);return _0x42aa74&&_0x17bab0&&_0x465da5&&await _0x26d28b[_0x52ca02(0x670)]({'jobType':_0x2313f7['Skill'],'type':_0x61261e[_0x52ca02(0xa2d)],'jobId':_0x42aa74,'blockId':'fetch-url','threadId':_0x465da5,'traceLevel':_0x581e8e[_0x52ca02(0x72c)],'startTime':_0x281aaf,'timestamp':Date[_0x52ca02(0x4cb)](),'agentId':_0x17bab0,'status':_0x52ca02(0x28d),'errorDetails':_0x2184de(_0x19f7c7),'url':_0x42ee8c?.[_0x52ca02(0x4ef)]??'','page':0x0,'totalPages':0x0,'response':_0xb33c04}),_0xb33c04;}}async function _0x35fead(_0x338549,_0x1cf0fc,_0x506c02,_0x2cb571,_0x57d020){const _0x67f003=_0xab329a,_0x5d330a=Date[_0x67f003(0x4cb)]();try{if(!_0x338549['searchConnector'])throw new Error('Search\x20connector\x20not\x20set');if('string'!=typeof _0x1cf0fc?.['query'])throw new Error(_0x67f003(0x8b9));const _0x2093d9=await _0x338549['searchConnector']['search'](_0x1cf0fc[_0x67f003(0x5f6)],_0x5d8dc2[_0x67f003(0x50e)][_0x67f003(0x852)]);let _0xed4447='';for(const _0x6e9f1c of _0x2093d9)_0xed4447+=_0x6e9f1c[_0x67f003(0xa42)]+_0x67f003(0x1ac)+_0x6e9f1c['url']+'\x0a'+_0x6e9f1c[_0x67f003(0x347)]+'\x0a\x0a';return _0x506c02&&_0x2cb571&&_0x57d020&&await _0x26d28b[_0x67f003(0x670)]({'jobType':_0x2313f7['Skill'],'type':_0x61261e[_0x67f003(0x695)],'jobId':_0x506c02,'agentId':_0x2cb571,'threadId':_0x57d020,'blockId':_0x67f003(0x9a7),'traceLevel':_0x581e8e['Info'],'startTime':_0x5d330a,'timestamp':Date['now'](),'status':_0x67f003(0x561),'query':_0x1cf0fc[_0x67f003(0x5f6)],'results':_0xed4447}),_0xed4447;}catch(_0x369483){return console[_0x67f003(0x28d)](_0x369483),_0x506c02&&_0x2cb571&&_0x57d020&&await _0x26d28b[_0x67f003(0x670)]({'jobType':_0x2313f7[_0x67f003(0x4ba)],'type':_0x61261e[_0x67f003(0x695)],'jobId':_0x506c02,'blockId':_0x67f003(0x9a7),'traceLevel':_0x581e8e['Info'],'startTime':_0x5d330a,'timestamp':Date[_0x67f003(0x4cb)](),'status':'error','errorDetails':_0x2184de(_0x369483),'agentId':_0x2cb571,'threadId':_0x57d020,'query':_0x1cf0fc?.[_0x67f003(0x5f6)]??'','results':_0x67f003(0x31e)}),_0x369483 instanceof Error?_0x369483['message']:_0x67f003(0x31e);}}async function _0x36b4b7(_0x226453,_0x49b298,_0x478b2d,_0x30e900,_0x1471e4,_0x4f7f6e){const _0x252dfe=_0xab329a,_0x599561=_0x252dfe(0x35b)+_0x1471e4[_0x252dfe(0x791)]+_0x252dfe(0x463),_0x3ccc2b={'prompt':{'type':_0x1d89a1[_0x252dfe(0x71c)][_0x252dfe(0x535)]}};return await _0x26d28b[_0x252dfe(0x670)]({'jobType':_0x2313f7[_0x252dfe(0x20f)],'type':_0x4d89a0[_0x252dfe(0x594)],'jobId':_0x226453,'agentId':_0x49b298,'threadId':_0x478b2d[_0x252dfe(0x1f7)],'traceLevel':_0x581e8e[_0x252dfe(0x72c)],'startTime':Date[_0x252dfe(0x4cb)](),'timestamp':Date[_0x252dfe(0x4cb)](),'status':_0x252dfe(0x561),'function':_0x61261e[_0x252dfe(0x225)],'params':_0x3ccc2b,'functionDescription':_0x599561}),{'description':_0x599561,'params':_0x3ccc2b,'callback':async _0x180765=>_0xdcf07f(_0x478b2d['vendorId'],_0x1471e4,_0x180765,_0x30e900,_0x226453,_0x49b298,_0x478b2d['threadId'],_0x4f7f6e)};}async function _0xdcf07f(_0x29c818,_0x12074a,_0x1ff780,_0x251a4e,_0x39bea4,_0x524ecc,_0x1f5aa8,_0x56ee64){const _0x2c681f=_0xab329a,_0x5c7f35=Date[_0x2c681f(0x4cb)]();try{if(_0x2c681f(0x816)!=typeof _0x1ff780?.[_0x2c681f(0x850)])throw new Error('Prompt\x20is\x20required');let _0x205b94='';const _0x235fd7=_0x12074a[_0x2c681f(0x2de)]?.['split'](',')??[];let _0x1da4c9=_0x1ff780[_0x2c681f(0x850)];for(const _0x128ee6 of _0x235fd7){const _0x3dbb9e=_0x251a4e?.['internalContext']?.[_0x128ee6];_0x3dbb9e&&(_0x1da4c9='<'+_0x128ee6+'>\x0a'+_0x3dbb9e+_0x2c681f(0x5b9)+_0x128ee6+_0x2c681f(0xb5d)+_0x1da4c9);}let _0x24ecbd=[{'role':_0x2c681f(0x571),'content':_0x1da4c9}];if(_0x56ee64&&_0x12074a[_0x2c681f(0x58a)]){const _0x5c344d=await fetch(_0x5d8dc2[_0x2c681f(0x9a4)]+'/workflows/'+_0x12074a[_0x2c681f(0x71a)]+_0x2c681f(0x3b2),{'method':_0x2c681f(0xa0f),'headers':{'Accept':'text/event-stream','Content-Type':_0x2c681f(0x91c),'x-vendor-id':_0x29c818},'body':JSON['stringify']({'model':_0x12074a[_0x2c681f(0xa5c)],'messages':_0x24ecbd,'max_completion_tokens':_0x12074a[_0x2c681f(0x572)],'temperature':_0x12074a[_0x2c681f(0x853)],'tools':_0x12074a['tools'],'structured_output':_0x12074a[_0x2c681f(0x5ef)],'metadata':{'threadId':_0x1f5aa8,'jobId':_0x39bea4,'agentId':_0x524ecc,'context':{}},'stream':!0x0,'stream_options':{'include_usage':!0x0}})});if(!_0x5c344d['ok']||!_0x5c344d['body'])return console[_0x2c681f(0x28d)](_0x2c681f(0x251)),_0x56ee64[_0x2c681f(0x292)](void 0x0),_0x2c681f(0x3d3);const _0x56ea2b=_0x5c344d[_0x2c681f(0x718)]['getReader'](),_0x3fd102=new TextDecoder();let _0x51809a=0x0,_0x33ce09=0x0,_0x90d2e3='';for(;;){const {value:_0x3de3cd,done:_0x5e1675}=await _0x56ea2b[_0x2c681f(0x84d)]();if(_0x5e1675)break;const _0x355af0=_0x3fd102[_0x2c681f(0xac8)](_0x3de3cd,{'stream':!0x0});if('data:\x20[DONE]\x0a\x0a'===_0x355af0)break;const _0x19f50c=_0xcfa7f4(_0x355af0);for(const _0x3538d6 of _0x19f50c)_0x3538d6[_0x2c681f(0x557)]&&_0x3538d6['choices'][0x0]&&(_0x90d2e3+=_0x3538d6[_0x2c681f(0x557)][0x0]['delta'][_0x2c681f(0xa98)],_0x51809a+=_0x3538d6[_0x2c681f(0x775)]?.[_0x2c681f(0x88b)]??0x0,_0x33ce09+=_0x3538d6[_0x2c681f(0x775)]?.[_0x2c681f(0x701)]??0x0,_0x251a4e&&(_0x251a4e[_0x2c681f(0x54f)]={..._0x251a4e[_0x2c681f(0x54f)],..._0x3538d6[_0x2c681f(0x3c0)]}),_0x56ee64[_0x2c681f(0x292)]({'output':_0x3538d6['choices'][0x0]['delta'][_0x2c681f(0xa98)],'type':_0x2c681f(0x850)}),await _0x3b46ce[_0x2c681f(0xb1d)](0x1));}_0x251a4e&&(_0x251a4e[_0x2c681f(0x5bb)]=(_0x251a4e[_0x2c681f(0x5bb)]??0x0)+_0x33ce09,_0x251a4e[_0x2c681f(0x7a8)]=(_0x251a4e['inputTokens']??0x0)+_0x51809a,_0x12074a[_0x2c681f(0x486)]&&(_0x251a4e[_0x2c681f(0x54f)]||(_0x251a4e[_0x2c681f(0x54f)]={}),_0x251a4e[_0x2c681f(0x54f)][_0x12074a['contextOutputVariable']]=_0x90d2e3)),_0x56ee64[_0x2c681f(0x292)]({'output':'\x0a\x0a','type':'prompt'}),await _0x3b46ce[_0x2c681f(0xb1d)](0x1),_0x205b94=_0x2c681f(0x4de);}else{const _0x41c4d6=fetch(_0x5d8dc2[_0x2c681f(0x9a4)]+_0x2c681f(0x8a5)+_0x12074a[_0x2c681f(0x71a)]+_0x2c681f(0x3b2),{'method':_0x2c681f(0xa0f),'headers':{'Content-Type':_0x2c681f(0x91c),'x-vendor-id':_0x29c818},'body':JSON[_0x2c681f(0x56e)]({'model':_0x12074a[_0x2c681f(0xa5c)],'messages':_0x24ecbd,'max_completion_tokens':_0x12074a['maxTokens'],'temperature':_0x12074a['temperature'],'tools':_0x12074a['tools'],'structured_output':_0x12074a[_0x2c681f(0x5ef)],'metadata':{'threadId':_0x1f5aa8,'jobId':_0x39bea4,'agentId':_0x524ecc,'context':{}}})});if(_0x12074a[_0x2c681f(0x44e)])return _0x2c681f(0x4de);const _0x2993e0=await _0x41c4d6,_0x50b0c1=await _0x2993e0[_0x2c681f(0xa7b)]();_0x205b94=_0x50b0c1[_0x2c681f(0x557)][0x0][_0x2c681f(0x3cc)][_0x2c681f(0xa98)],_0x251a4e&&(_0x251a4e[_0x2c681f(0x54f)]={..._0x251a4e[_0x2c681f(0x54f)],..._0x50b0c1[_0x2c681f(0x3c0)]},_0x251a4e[_0x2c681f(0x5bb)]=(_0x251a4e[_0x2c681f(0x5bb)]??0x0)+_0x50b0c1[_0x2c681f(0x775)]['completion_tokens'],_0x251a4e[_0x2c681f(0x7a8)]=(_0x251a4e[_0x2c681f(0x7a8)]??0x0)+_0x50b0c1[_0x2c681f(0x775)][_0x2c681f(0xa01)],_0x12074a[_0x2c681f(0x486)]&&(_0x251a4e[_0x2c681f(0x54f)]||(_0x251a4e['internalContext']={}),_0x251a4e[_0x2c681f(0x54f)][_0x12074a['contextOutputVariable']]=_0x205b94));}if('string'!=typeof _0x205b94)throw new Error('Workflow\x20output\x20is\x20not\x20a\x20string');return _0x39bea4&&_0x524ecc&&_0x1f5aa8&&await _0x26d28b[_0x2c681f(0x670)]({'jobType':_0x2313f7[_0x2c681f(0x4ba)],'type':_0x61261e[_0x2c681f(0x225)],'jobId':_0x39bea4,'blockId':_0x2c681f(0xb6b),'agentId':_0x524ecc,'threadId':_0x1f5aa8,'traceLevel':_0x581e8e[_0x2c681f(0x72c)],'startTime':_0x5c7f35,'timestamp':Date[_0x2c681f(0x4cb)](),'status':_0x2c681f(0x561),'workflowName':_0x12074a[_0x2c681f(0x432)],'prompt':_0x1ff780['prompt'],'result':_0x205b94,'inputTokens':0x0,'outputTokens':0x0}),_0x205b94;}catch(_0x1f2d03){if(console[_0x2c681f(0x28d)](_0x1f2d03),_0x39bea4&&_0x524ecc&&_0x1f5aa8&&await _0x26d28b[_0x2c681f(0x670)]({'jobType':_0x2313f7[_0x2c681f(0x4ba)],'type':_0x61261e[_0x2c681f(0x225)],'jobId':_0x39bea4,'blockId':_0x2c681f(0xb6b),'agentId':_0x524ecc,'threadId':_0x1f5aa8,'traceLevel':_0x581e8e[_0x2c681f(0x72c)],'startTime':_0x5c7f35,'timestamp':Date[_0x2c681f(0x4cb)](),'status':_0x2c681f(0x28d),'errorDetails':_0x2184de(_0x1f2d03),'workflowName':_0x12074a[_0x2c681f(0x432)],'prompt':_0x1ff780?.[_0x2c681f(0x850)]??'','result':'','inputTokens':0x0,'outputTokens':0x0}),_0x1f2d03 instanceof Error)throw _0x1f2d03;throw new Error(_0x2c681f(0x364));}}async function _0x2d4262(_0x446d31,_0x207f5e,_0x5ef676,_0x35c355,_0x5d6eeb){const _0x41c0ba=_0xab329a;return await _0x26d28b['trace']({'jobType':_0x2313f7[_0x41c0ba(0x20f)],'type':_0x4d89a0[_0x41c0ba(0x594)],'jobId':_0x446d31,'agentId':_0x207f5e,'threadId':_0x5ef676,'traceLevel':_0x581e8e[_0x41c0ba(0x72c)],'startTime':Date[_0x41c0ba(0x4cb)](),'timestamp':Date[_0x41c0ba(0x4cb)](),'status':'success','function':_0x61261e[_0x41c0ba(0x51e)],'params':{},'functionDescription':_0x41c0ba(0xa6d)}),{'description':_0x41c0ba(0xa6d),'params':{},'callback':async()=>_0x208ecc(_0x5d6eeb,_0x35c355,_0x446d31,_0x207f5e,_0x5ef676)};}async function _0x208ecc(_0x435800,_0xbefe24,_0x1db6fa,_0x3b06e6,_0x4d0a7a){const _0x5944c1=_0xab329a,_0x550505=Date[_0x5944c1(0x4cb)]();let _0x36eda3=_0x435800[_0x5944c1(0x432)]['replace'](/[^a-zA-Z]/g,'');_0x36eda3['startsWith'](_0x5944c1(0x4ea))&&(_0x36eda3=_0x36eda3[_0x5944c1(0x640)](_0x5944c1(0x4ea),''));const _0x5be64e=_0x5944c1(0x7dc)+_0x36eda3;let _0x2c1e9a=0x0;if(_0xbefe24){const _0x526928=_0xbefe24[_0x5944c1(0x54f)]?.[_0x5be64e];_0x526928?_0x2c1e9a=parseInt(_0x526928):(_0x2c1e9a=0x0,_0xbefe24[_0x5944c1(0x54f)]||(_0xbefe24['internalContext']={}),_0xbefe24[_0x5944c1(0x54f)][_0x5be64e]='0');}const _0x398bbd=_0x435800['questions']||[];if(_0x2c1e9a>=_0x398bbd[_0x5944c1(0x4f0)])return JSON['stringify']({'error':'No\x20more\x20questions\x20available,\x20call\x20submitForm\x20to\x20submit\x20the\x20form'});const _0x2168ec=_0x398bbd[_0x2c1e9a];return _0x1db6fa&&_0x3b06e6&&_0x4d0a7a&&await _0x26d28b[_0x5944c1(0x670)]({'jobType':_0x2313f7[_0x5944c1(0x4ba)],'type':_0x61261e[_0x5944c1(0x51e)],'jobId':_0x1db6fa,'agentId':_0x3b06e6,'threadId':_0x4d0a7a,'blockId':_0x5944c1(0x16c),'traceLevel':_0x581e8e['Info'],'startTime':_0x550505,'timestamp':Date[_0x5944c1(0x4cb)](),'status':'success','question':_0x2168ec[_0x5944c1(0x338)],'currentQuestionIndex':_0x2c1e9a,'questions':_0x398bbd[_0x5944c1(0x591)](_0x40cf87=>_0x40cf87[_0x5944c1(0x338)])}),JSON[_0x5944c1(0x56e)]({'id':_0x2168ec['id'],'question':_0x2168ec[_0x5944c1(0x338)],'validation':_0x2168ec['validation'],'required':_0x2168ec[_0x5944c1(0xb22)],'format':_0x2168ec['format'],'action':'If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer'});}async function _0x543147(_0xea7e7c,_0x33d9cc,_0x55c531,_0x4101bd,_0x1237e7){const _0x29ff17=_0xab329a;return await _0x26d28b[_0x29ff17(0x670)]({'jobType':_0x2313f7[_0x29ff17(0x20f)],'type':_0x4d89a0[_0x29ff17(0x594)],'jobId':_0xea7e7c,'agentId':_0x33d9cc,'threadId':_0x55c531,'traceLevel':_0x581e8e['Info'],'startTime':Date['now'](),'timestamp':Date[_0x29ff17(0x4cb)](),'status':_0x29ff17(0x561),'function':_0x61261e[_0x29ff17(0x3a5)],'params':{},'functionDescription':_0x29ff17(0x6b6)}),{'description':_0x29ff17(0x6b6),'params':{'id':{'type':_0x1d89a1[_0x29ff17(0x71c)][_0x29ff17(0x535)]},'answer':{'type':_0x1d89a1[_0x29ff17(0x71c)][_0x29ff17(0x535)]}},'callback':async _0x24ef4a=>_0x35c529(_0x1237e7,_0x24ef4a,_0x4101bd,_0xea7e7c,_0x33d9cc,_0x55c531)};}async function _0x35c529(_0x4c2c13,_0x5016e1,_0x69659c,_0x5903d3,_0x3097c1,_0x194d96){const _0x41b8ed=_0xab329a,_0x497e56=Date['now']();let _0x28ee27=_0x4c2c13[_0x41b8ed(0x432)]['replace'](/[^a-zA-Z]/g,'');_0x28ee27[_0x41b8ed(0xb20)](_0x41b8ed(0x2f2))&&(_0x28ee27=_0x28ee27[_0x41b8ed(0x640)]('setAnswer',''));const _0x114415=_0x41b8ed(0x7dc)+_0x28ee27,_0x43aa09=_0x4c2c13[_0x41b8ed(0x4a5)]||[];let _0x52b6f3=0x0;if(_0x69659c&&(_0x52b6f3=parseInt(_0x69659c['internalContext']?.[_0x114415]??'0')),!_0x5016e1?.['id']||_0x41b8ed(0x816)!=typeof _0x5016e1['id'])return JSON[_0x41b8ed(0x56e)]({'error':_0x41b8ed(0x64a)});const _0x66d5bd=_0x43aa09['find'](_0x24d915=>_0x24d915['id']===_0x5016e1['id']);if(!_0x66d5bd)return JSON['stringify']({'error':_0x41b8ed(0x4d2)});if(!_0x5016e1?.['answer']||_0x41b8ed(0x816)!=typeof _0x5016e1[_0x41b8ed(0x8ce)])return JSON[_0x41b8ed(0x56e)]({'error':'Answer\x20is\x20required\x20and\x20must\x20be\x20a\x20string'});if(_0x69659c){_0x69659c['internalContext']||(_0x69659c['internalContext']={});const _0x3a1803=_0x41b8ed(0x510)+_0x28ee27,_0x540981=_0x3a1803+'-'+_0x5016e1['id'];_0x69659c['internalContext'][_0x540981]=_0x5016e1[_0x41b8ed(0x8ce)];let _0x4747e2=!0x1;for(let _0x4ec1d0=0x0;_0x4ec1d0<_0x43aa09[_0x41b8ed(0x4f0)];_0x4ec1d0++){const _0x5e4818=_0x69659c[_0x41b8ed(0x54f)]?.[_0x3a1803+'-'+_0x43aa09[_0x4ec1d0]['id']];if(_0x4ec1d0!==_0x52b6f3&&!_0x5e4818){_0x52b6f3=_0x4ec1d0,_0x4747e2=!0x0;break;}}_0x4747e2||_0x52b6f3++,_0x69659c[_0x41b8ed(0x54f)][_0x114415]=_0x52b6f3[_0x41b8ed(0x340)]();}_0x5903d3&&_0x3097c1&&_0x194d96&&await _0x26d28b[_0x41b8ed(0x670)]({'jobType':_0x2313f7[_0x41b8ed(0x4ba)],'type':_0x61261e[_0x41b8ed(0x3a5)],'jobId':_0x5903d3,'agentId':_0x3097c1,'threadId':_0x194d96,'blockId':'form-skill-set-answer','traceLevel':_0x581e8e[_0x41b8ed(0x72c)],'startTime':_0x497e56,'timestamp':Date[_0x41b8ed(0x4cb)](),'status':'success','question':_0x66d5bd[_0x41b8ed(0x338)],'answer':_0x5016e1[_0x41b8ed(0x8ce)],'currentQuestionIndex':_0x52b6f3,'questions':_0x43aa09['map'](_0x5b4c87=>_0x5b4c87[_0x41b8ed(0x338)])});const _0x42c5c2=_0x43aa09[_0x52b6f3];return _0x42c5c2?JSON[_0x41b8ed(0x56e)]({'id':_0x42c5c2['id'],'question':_0x42c5c2['question'],'validation':_0x42c5c2[_0x41b8ed(0xa0c)],'required':_0x42c5c2[_0x41b8ed(0xb22)],'format':_0x42c5c2[_0x41b8ed(0x988)],'action':'If\x20you\x20know\x20the\x20answer,\x20call\x20setAnswer\x20to\x20set\x20the\x20answer'}):JSON[_0x41b8ed(0x56e)]({'action':_0x41b8ed(0x91e)});}async function _0x15fdbf(_0x5aabcd,_0x4becb2,_0x17e147,_0x21d076,_0x4a730e){const _0x5cae2e=_0xab329a,_0x861203='Submit\x20the\x20form.';return await _0x26d28b[_0x5cae2e(0x670)]({'jobType':_0x2313f7[_0x5cae2e(0x20f)],'type':_0x4d89a0[_0x5cae2e(0x594)],'jobId':_0x5aabcd,'agentId':_0x4becb2,'threadId':_0x17e147,'traceLevel':_0x581e8e[_0x5cae2e(0x72c)],'startTime':Date[_0x5cae2e(0x4cb)](),'timestamp':Date['now'](),'status':'success','function':_0x61261e[_0x5cae2e(0x6ae)],'params':{},'functionDescription':_0x861203}),{'description':_0x861203,'params':{},'callback':async()=>_0x39f72e(_0x4a730e,_0x21d076,_0x5aabcd,_0x4becb2,_0x17e147)};}async function _0x39f72e(_0x39ebc0,_0x1dce01,_0x46ad21,_0x4f9270,_0x18220d){const _0x339c53=_0xab329a;let _0x316813=_0x39ebc0['name']['replace'](/[^a-zA-Z]/g,'');_0x316813[_0x339c53(0xb20)](_0x339c53(0x54c))&&(_0x316813=_0x316813[_0x339c53(0x640)](_0x339c53(0x54c),''));const _0x53cde9=_0x39ebc0[_0x339c53(0x4a5)]||[],_0x24912b={};if(!_0x1dce01)return JSON[_0x339c53(0x56e)]({'error':_0x339c53(0x1df)});for(let _0x3dfefa=0x0;_0x3dfefa<_0x53cde9[_0x339c53(0x4f0)];_0x3dfefa++){const _0x72b19d=_0x1dce01['internalContext']?.[_0x339c53(0x510)+_0x316813+'-'+_0x53cde9[_0x3dfefa]['id']];if(_0x53cde9[_0x3dfefa][_0x339c53(0xb22)]&&!_0x72b19d)return JSON[_0x339c53(0x56e)]({'error':'Form\x20is\x20not\x20completed,\x20call\x20setAnswer\x20first'});_0x24912b[_0x53cde9[_0x3dfefa]['id']]=_0x72b19d;}return _0x1dce01&&_0x39ebc0['contextOutputVariable']&&(_0x1dce01[_0x339c53(0x54f)]||(_0x1dce01[_0x339c53(0x54f)]={}),_0x1dce01['internalContext'][_0x39ebc0[_0x339c53(0x486)]]=JSON[_0x339c53(0x56e)](_0x24912b)),_0x46ad21&&_0x4f9270&&_0x18220d&&await _0x26d28b['trace']({'jobType':_0x2313f7[_0x339c53(0x4ba)],'type':_0x61261e[_0x339c53(0x6ae)],'jobId':_0x46ad21,'agentId':_0x4f9270,'threadId':_0x18220d,'blockId':_0x339c53(0x46f),'traceLevel':_0x581e8e[_0x339c53(0x72c)],'startTime':Date['now'](),'timestamp':Date[_0x339c53(0x4cb)](),'status':_0x339c53(0x561),'answers':_0x24912b}),JSON[_0x339c53(0x56e)]({'success':!0x0});}async function _0x113c44(_0x15ef96,_0x582ee5,_0x3c4b76,_0x4e4773,_0x1c8763,_0x11f47e,_0x56452a){const _0x560ba2=_0xab329a,_0x481479=new Map();for(const _0x338c57 of _0x1c8763)_0x338c57[_0x560ba2(0x539)]===_0x1d89a1[_0x560ba2(0x39a)][_0x560ba2(0x69e)]||_0x338c57[_0x560ba2(0x539)]===_0x1d89a1[_0x560ba2(0x39a)][_0x560ba2(0x43e)]?_0x481479['set'](_0x560ba2(0x334)+_0x338c57[_0x560ba2(0x432)]['replace'](/[^a-zA-Z]/g,''),await _0x47e554(_0x15ef96,_0x582ee5,_0x3c4b76,_0x4e4773,_0x338c57)):_0x338c57[_0x560ba2(0x539)]===_0x1d89a1[_0x560ba2(0x39a)][_0x560ba2(0x158)]||_0x338c57[_0x560ba2(0x539)]===_0x1d89a1[_0x560ba2(0x39a)]['Agent']?_0x481479[_0x560ba2(0x4d1)]('executeAgent'+_0x338c57['name'][_0x560ba2(0x640)](/[^a-zA-Z]/g,''),await _0x3a4973(_0x15ef96,_0x582ee5,_0x3c4b76,_0x4e4773,_0x338c57,_0x11f47e,_0x56452a)):_0x338c57[_0x560ba2(0x539)]===_0x1d89a1[_0x560ba2(0x39a)]['WorkflowTool']?_0x481479[_0x560ba2(0x4d1)](_0x560ba2(0x682)+_0x338c57[_0x560ba2(0x432)][_0x560ba2(0x640)](/[^a-zA-Z]/g,''),await _0x36b4b7(_0x15ef96,_0x582ee5,_0x3c4b76,_0x4e4773,_0x338c57,_0x56452a)):_0x338c57[_0x560ba2(0x539)]===_0x1d89a1['GenerativeAIInferenceToolType'][_0x560ba2(0x892)]?_0x481479['set'](_0x338c57[_0x560ba2(0x432)][_0x560ba2(0x640)](/[^a-zA-Z]/g,''),await _0xf21387(_0x15ef96,_0x582ee5,_0x3c4b76[_0x560ba2(0x1f7)],_0x4e4773,_0x338c57)):_0x338c57[_0x560ba2(0x539)]===_0x1d89a1[_0x560ba2(0x39a)][_0x560ba2(0x9bf)]?_0x481479[_0x560ba2(0x4d1)](_0x560ba2(0x4ea)+_0x338c57[_0x560ba2(0x432)]['replace'](/[^a-zA-Z]/g,''),await _0x2d4262(_0x15ef96,_0x582ee5,_0x3c4b76['threadId'],_0x4e4773,_0x338c57)):_0x338c57['type']===_0x1d89a1[_0x560ba2(0x39a)][_0x560ba2(0x353)]?_0x481479['set']('setAnswer'+_0x338c57[_0x560ba2(0x432)][_0x560ba2(0x640)](/[^a-zA-Z]/g,''),await _0x543147(_0x15ef96,_0x582ee5,_0x3c4b76[_0x560ba2(0x1f7)],_0x4e4773,_0x338c57)):_0x338c57['type']===_0x1d89a1[_0x560ba2(0x39a)][_0x560ba2(0x2dd)]?_0x481479[_0x560ba2(0x4d1)](_0x560ba2(0x54c)+_0x338c57[_0x560ba2(0x432)][_0x560ba2(0x640)](/[^a-zA-Z]/g,''),await _0x15fdbf(_0x15ef96,_0x582ee5,_0x3c4b76[_0x560ba2(0x1f7)],_0x4e4773,_0x338c57)):_0x481479['set'](_0x37692f(_0x338c57),await _0x17be64(_0x15ef96,_0x582ee5,_0x3c4b76,_0x4e4773,_0x338c57,_0x11f47e));return _0x481479;}function _0x37692f(_0x59cf87){const _0x105ee0=_0xab329a;switch(_0x59cf87[_0x105ee0(0x539)]){case _0x1d89a1['GenerativeAIInferenceToolType'][_0x105ee0(0xa35)]:return'searchOnPerplexity';case _0x1d89a1['GenerativeAIInferenceToolType'][_0x105ee0(0xb15)]:return _0x105ee0(0x24e);case _0x1d89a1['GenerativeAIInferenceToolType'][_0x105ee0(0x689)]:return _0x105ee0(0xad3);case _0x1d89a1[_0x105ee0(0x39a)][_0x105ee0(0x8ff)]:return _0x105ee0(0x7dd);case _0x1d89a1[_0x105ee0(0x39a)][_0x105ee0(0x4c9)]:case _0x1d89a1[_0x105ee0(0x39a)][_0x105ee0(0x519)]:return _0x105ee0(0xa97);case _0x1d89a1[_0x105ee0(0x39a)][_0x105ee0(0x4e7)]:return _0x105ee0(0x668);}throw new Error(_0x105ee0(0x87f));}async function _0x17be64(_0x553cda,_0x10a204,_0x44d0f7,_0x5bf071,_0x31736e,_0x12ab99){const _0x306928=_0xab329a;switch(_0x31736e[_0x306928(0x539)]){case _0x1d89a1['GenerativeAIInferenceToolType'][_0x306928(0xa35)]:return async function(_0x5f156d,_0x403ab3,_0x2c6300,_0x80c967,_0x397f1d){const _0x1e0cd0=_0x306928,_0x340164=_0x1e0cd0(0x608),_0x7684b7={'query':{'type':_0x1d89a1[_0x1e0cd0(0x71c)][_0x1e0cd0(0x535)]}};await _0x26d28b[_0x1e0cd0(0x670)]({'jobType':_0x2313f7[_0x1e0cd0(0x20f)],'type':_0x4d89a0[_0x1e0cd0(0x594)],'jobId':_0x5f156d,'agentId':_0x403ab3,'threadId':_0x2c6300[_0x1e0cd0(0x1f7)],'traceLevel':_0x581e8e[_0x1e0cd0(0x72c)],'startTime':Date[_0x1e0cd0(0x4cb)](),'timestamp':Date['now'](),'status':_0x1e0cd0(0x561),'function':_0x61261e[_0x1e0cd0(0x4a1)],'params':_0x7684b7,'functionDescription':_0x340164});const _0x2704cf=_0x2c6300[_0x1e0cd0(0x3e1)];try{await(0x0,_0x579870[_0x1e0cd0(0x845)])(_0x44b60b['getFunctions'](),_0x1e0cd0(0x458))({'vendorId':_0x2704cf});}catch(_0xb92b00){throw console[_0x1e0cd0(0x28d)](_0xb92b00),new Error(_0x1e0cd0(0x161));}const _0x5eab40=(await(0x0,_0x30ad83['getDoc'])((0x0,_0x30ad83['doc'])(_0x44b60b[_0x1e0cd0(0xa12)](),_0x1e0cd0(0x85a),_0x2704cf)))[_0x1e0cd0(0x62e)]();return _0x5eab40&&_0x5eab40[_0x1e0cd0(0x651)]||(console[_0x1e0cd0(0x4ad)](new Date()+'\x20Fallback\x20model',_0x80c967['modelId'],_0x5a2a2c[_0x1e0cd0(0x153)](_0x80c967[_0x1e0cd0(0xa5c)])[_0x1e0cd0(0x93f)]),_0x80c967[_0x1e0cd0(0xa5c)]=_0x5a2a2c[_0x1e0cd0(0x153)](_0x80c967[_0x1e0cd0(0xa5c)])[_0x1e0cd0(0x93f)]),{'description':_0x340164,'params':_0x7684b7,'callback':async _0x4e6c93=>_0x29d098(_0x80c967,_0x397f1d,_0x4e6c93,_0x5f156d,_0x403ab3,_0x2c6300['threadId'])};}(_0x553cda,_0x10a204,_0x44d0f7,_0x31736e,_0x12ab99);case _0x1d89a1[_0x306928(0x39a)]['Code']:return async function(_0x1f8a77,_0x32ea52,_0x5b2a14){const _0x2c9b73=_0x306928,_0x2014b1=_0x2c9b73(0x2c2),_0x204b64={'code':{'type':_0x1d89a1[_0x2c9b73(0x71c)][_0x2c9b73(0x535)]}};return await _0x26d28b[_0x2c9b73(0x670)]({'jobType':_0x2313f7['JobContext'],'type':_0x4d89a0[_0x2c9b73(0x594)],'jobId':_0x1f8a77,'agentId':_0x32ea52,'threadId':_0x5b2a14,'traceLevel':_0x581e8e[_0x2c9b73(0x72c)],'startTime':Date[_0x2c9b73(0x4cb)](),'timestamp':Date['now'](),'status':'success','function':_0x61261e['ExecuteCode'],'params':_0x204b64,'functionDescription':_0x2014b1}),{'description':_0x2014b1,'params':_0x204b64,'callback':async _0x178f22=>_0x30c4fe(_0x178f22,_0x1f8a77,_0x32ea52,_0x5b2a14)};}(_0x553cda,_0x10a204,_0x44d0f7['threadId']);case _0x1d89a1[_0x306928(0x39a)][_0x306928(0x689)]:return async function(_0x18fdac,_0x28fd06,_0x20a32e,_0x5089b0,_0x308648){const _0x37a6ea=_0x306928,_0x18f4b=[',',';','\x09','|',':'],_0x131e2a=['\x22','\x27'];let _0x3e160d='';if(_0x37a6ea(0x88c)===_0x5089b0[_0x37a6ea(0x54f)]?.[_0x37a6ea(0x295)]&&_0x5089b0[_0x37a6ea(0x54f)]?.[_0x37a6ea(0x903)]&&(_0x3e160d=_0x5089b0[_0x37a6ea(0x54f)][_0x37a6ea(0x903)]),''===_0x3e160d)throw new Error(_0x37a6ea(0x835));const _0x3d662d=_0x3e160d[_0x37a6ea(0xb12)]('\x0a')[0x0];let _0x431454=null,_0x1952bf=null,_0x5cde89=0x0;for(const _0x1ea515 of _0x18f4b){const _0x1d420d=(_0x3d662d[_0x37a6ea(0x35f)](new RegExp('\x5c'+_0x1ea515,'g'))||[])[_0x37a6ea(0x4f0)];_0x1d420d>_0x5cde89&&(_0x5cde89=_0x1d420d,_0x431454=_0x1ea515);}_0x431454||(_0x431454=','),_0x5cde89=0x0;for(const _0x324792 of _0x131e2a){const _0x4676c8=(_0x3d662d[_0x37a6ea(0x35f)](new RegExp('\x5c'+_0x324792,'g'))||[])[_0x37a6ea(0x4f0)];_0x4676c8>_0x5cde89&&(_0x5cde89=_0x4676c8,_0x1952bf=_0x324792);}_0x1952bf||(_0x1952bf='\x22');const _0xe62b28=_0x37a6ea(0x68b)+_0x3d662d[_0x37a6ea(0xb12)](_0x431454)[_0x37a6ea(0xa75)](',\x20'),_0x5b18a6={'query':{'type':_0x1d89a1[_0x37a6ea(0x71c)]['String']}};return await _0x26d28b['trace']({'jobType':_0x2313f7['JobContext'],'type':_0x4d89a0['LoadSkillFunction'],'jobId':_0x18fdac,'agentId':_0x28fd06,'threadId':_0x20a32e,'traceLevel':_0x581e8e[_0x37a6ea(0x72c)],'startTime':Date[_0x37a6ea(0x4cb)](),'timestamp':Date['now'](),'status':_0x37a6ea(0x561),'function':_0x61261e[_0x37a6ea(0x689)],'params':_0x5b18a6,'functionDescription':_0xe62b28}),{'description':_0xe62b28,'params':_0x5b18a6,'callback':async _0x1aaa8b=>{const _0x1002fe=_0x37a6ea,_0x49134a=Date[_0x1002fe(0x4cb)]();try{if(!_0x308648[_0x1002fe(0x72a)])throw new Error(_0x1002fe(0x76e));if('string'!=typeof _0x1aaa8b?.[_0x1002fe(0x5f6)])throw new Error(_0x1002fe(0x8b9));if(!_0x1aaa8b['query']['includes'](_0x1002fe(0x36c)))throw new Error(_0x1002fe(0x994));const _0x3d6bd5=await _0x308648[_0x1002fe(0x72a)][_0x1002fe(0x94c)](_0x3e160d,_0x1aaa8b[_0x1002fe(0x5f6)],{'headers':!0x0,'quote':_0x1952bf,'separator':_0x431454});await _0x26d28b[_0x1002fe(0x670)]({'jobType':_0x2313f7[_0x1002fe(0x4ba)],'type':_0x61261e[_0x1002fe(0x689)],'jobId':_0x18fdac,'agentId':_0x28fd06,'threadId':_0x20a32e,'blockId':_0x1002fe(0x60b),'traceLevel':_0x581e8e[_0x1002fe(0x72c)],'startTime':_0x49134a,'timestamp':Date[_0x1002fe(0x4cb)](),'status':_0x1002fe(0x561),'query':_0x1aaa8b[_0x1002fe(0x5f6)],'results':_0x3d6bd5['substring'](0x0,0x3e8)});const _0x8a5590=JSON[_0x1002fe(0x685)](_0x3d6bd5);let _0x14c212='';if(_0x8a5590['length']>0x0){const _0x584176=Object[_0x1002fe(0x628)](_0x8a5590[0x0]);_0x14c212=_0x584176[_0x1002fe(0x591)](_0x10104f=>'\x22'+_0x10104f+'\x22')[_0x1002fe(0xa75)](',')+'\x0a';for(const _0x526707 of _0x8a5590)_0x14c212+=_0x584176['map'](_0xa6438e=>'\x22'+_0x526707[_0xa6438e]+'\x22')[_0x1002fe(0xa75)](',')+'\x0a';}return _0x5089b0[_0x1002fe(0x54f)]||(_0x5089b0['internalContext']={}),_0x5089b0[_0x1002fe(0x54f)][_0x1002fe(0x903)]=_0x14c212,_0x5089b0[_0x1002fe(0x54f)][_0x1002fe(0x295)]='text/csv',_0x3d6bd5['substring'](0x0,0x3e8);}catch(_0x7082c4){return console['error'](_0x7082c4),await _0x26d28b[_0x1002fe(0x670)]({'jobType':_0x2313f7[_0x1002fe(0x4ba)],'type':_0x61261e[_0x1002fe(0x689)],'jobId':_0x18fdac,'blockId':_0x1002fe(0x60b),'traceLevel':_0x581e8e[_0x1002fe(0x72c)],'startTime':_0x49134a,'timestamp':Date[_0x1002fe(0x4cb)](),'status':_0x1002fe(0x28d),'errorDetails':_0x2184de(_0x7082c4),'agentId':_0x28fd06,'threadId':_0x20a32e,'query':_0x1aaa8b?.[_0x1002fe(0x5f6)]??'','results':_0x1002fe(0x31e)}),_0x7082c4 instanceof Error?_0x7082c4[_0x1002fe(0x3cc)]:_0x1002fe(0x83b);}}};}(_0x553cda,_0x10a204,_0x44d0f7[_0x306928(0x1f7)],_0x5bf071,_0x12ab99);case _0x1d89a1[_0x306928(0x39a)][_0x306928(0x8ff)]:return async function(_0x268a3d,_0x3a9085,_0x3f0051,_0x45040b){const _0x3aaf06=_0x306928,_0xc39ed2=_0x3aaf06(0x96f),_0x3f410d={'query':{'type':_0x1d89a1[_0x3aaf06(0x71c)]['String']}};return await _0x26d28b[_0x3aaf06(0x670)]({'jobType':_0x2313f7[_0x3aaf06(0x20f)],'type':_0x4d89a0[_0x3aaf06(0x594)],'jobId':_0x268a3d,'agentId':_0x3a9085,'threadId':_0x3f0051,'traceLevel':_0x581e8e[_0x3aaf06(0x72c)],'startTime':Date['now'](),'timestamp':Date[_0x3aaf06(0x4cb)](),'status':'success','function':_0x61261e[_0x3aaf06(0x695)],'params':_0x3f410d,'functionDescription':_0xc39ed2}),{'description':_0xc39ed2,'params':_0x3f410d,'callback':async _0x60a31a=>_0x35fead(_0x45040b,_0x60a31a,_0x268a3d,_0x3a9085,_0x3f0051)};}(_0x553cda,_0x10a204,_0x44d0f7[_0x306928(0x1f7)],_0x12ab99);case _0x1d89a1[_0x306928(0x39a)][_0x306928(0x4c9)]:return _0x22baaa(_0x553cda,_0x10a204,_0x44d0f7[_0x306928(0x1f7)]);case _0x1d89a1['GenerativeAIInferenceToolType'][_0x306928(0x519)]:return _0x22baaa(_0x553cda,_0x10a204,_0x44d0f7[_0x306928(0x1f7)],!0x1);case _0x1d89a1[_0x306928(0x39a)]['WriteFile']:return async function(_0x4d344e,_0x4980a3,_0x28296f,_0x19ee4c){const _0xec43b2=_0x306928,_0x2b3d31=_0xec43b2(0x565),_0x228e6b={'text':{'type':_0x1d89a1[_0xec43b2(0x71c)][_0xec43b2(0x535)]}};return await _0x26d28b['trace']({'jobType':_0x2313f7['JobContext'],'type':_0x4d89a0['LoadSkillFunction'],'jobId':_0x4d344e,'agentId':_0x4980a3,'threadId':_0x28296f,'traceLevel':_0x581e8e[_0xec43b2(0x72c)],'startTime':Date[_0xec43b2(0x4cb)](),'timestamp':Date[_0xec43b2(0x4cb)](),'status':'success','function':_0x61261e[_0xec43b2(0x4e7)],'params':_0x228e6b,'functionDescription':_0x2b3d31}),{'description':_0x2b3d31,'params':_0x228e6b,'callback':async _0x55f6f9=>{const _0xeb63e5=_0xec43b2,_0x3b7864=Date[_0xeb63e5(0x4cb)]();try{if(_0xeb63e5(0x816)!=typeof _0x55f6f9?.[_0xeb63e5(0x66d)])throw new Error(_0xeb63e5(0x9f5));return await _0x26d28b[_0xeb63e5(0x670)]({'jobType':_0x2313f7[_0xeb63e5(0x4ba)],'type':_0x61261e['WriteFile'],'jobId':_0x4d344e,'agentId':_0x4980a3,'threadId':_0x28296f,'blockId':_0xeb63e5(0x2c4),'traceLevel':_0x581e8e[_0xeb63e5(0x72c)],'startTime':_0x3b7864,'timestamp':Date[_0xeb63e5(0x4cb)](),'status':'success','content':_0x55f6f9[_0xeb63e5(0x66d)]}),_0x19ee4c['internalContext']||(_0x19ee4c[_0xeb63e5(0x54f)]={}),_0x19ee4c[_0xeb63e5(0x54f)]['file.content']=_0x55f6f9[_0xeb63e5(0x66d)],_0x19ee4c['internalContext'][_0xeb63e5(0x295)]='text/plain','Done';}catch(_0x24a9b2){return console['error'](_0x24a9b2),await _0x26d28b[_0xeb63e5(0x670)]({'jobType':_0x2313f7['Skill'],'type':_0x61261e[_0xeb63e5(0x4e7)],'jobId':_0x4d344e,'blockId':_0xeb63e5(0x2c4),'traceLevel':_0x581e8e[_0xeb63e5(0x72c)],'startTime':_0x3b7864,'timestamp':Date['now'](),'status':_0xeb63e5(0x28d),'errorDetails':_0x2184de(_0x24a9b2),'agentId':_0x4980a3,'threadId':_0x28296f,'content':'string'==typeof _0x55f6f9?.[_0xeb63e5(0x66d)]?_0x55f6f9[_0xeb63e5(0x66d)]:''}),_0x24a9b2 instanceof Error?_0x24a9b2['message']:_0xeb63e5(0x468);}}};}(_0x553cda,_0x10a204,_0x44d0f7[_0x306928(0x1f7)],_0x5bf071);}throw new Error(_0x306928(0x87f));}function _0x2184de(_0x5b7bd1){const _0x18d08b=_0xab329a;try{return JSON['stringify'](_0x5b7bd1);}catch(_0x325394){return _0x5b7bd1 instanceof Error?_0x5b7bd1[_0x18d08b(0x340)]():_0x18d08b(0x3dd);}}async function _0x596bd9(_0x39c88e,_0x3f4a35,_0x4855ae){const _0x197e98=_0xab329a,_0x4f69cd=_0x3f4a35[_0x197e98(0x3d4)]??(0x0,_0x3aba3d['v4'])(),_0x34289e={'type':_0x197e98(0x850),'context':[],'internalContext':_0x3f4a35[_0x197e98(0x54f)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x5252fc=_0x3f4a35['vendorId'];try{await(0x0,_0x579870[_0x197e98(0x845)])(_0x44b60b[_0x197e98(0x746)](),'validateVendorCredits')({'vendorId':_0x5252fc});}catch(_0x54bb4a){throw console[_0x197e98(0x28d)](_0x54bb4a),new Error(_0x197e98(0x161));}const _0x221d5f=(await(0x0,_0x30ad83['getDoc'])((0x0,_0x30ad83['doc'])(_0x44b60b[_0x197e98(0xa12)](),_0x197e98(0x85a),_0x5252fc)))['data']();_0x221d5f&&_0x221d5f['organizationId']||(console['log'](new Date()+_0x197e98(0xb6d),_0x3f4a35[_0x197e98(0x968)],_0x5a2a2c[_0x197e98(0x153)](_0x3f4a35['model'])['fallbackModel']),_0x3f4a35['model']=_0x5a2a2c['get'](_0x3f4a35[_0x197e98(0x968)])[_0x197e98(0x93f)]);const _0x17935c=await async function(_0x55f1ec,_0x944543,_0x342b02,_0x5b95c3,_0x1bd384){const _0x556bd2=_0x197e98,_0x1e0e2f=_0x1bd384[_0x556bd2(0x2c8)][_0x556bd2(0xb4a)](_0xfcf025=>_0xfcf025['id']===_0x342b02['model']);if(!_0x1e0e2f)throw new Error(_0x556bd2(0x523));const _0x3892bd=_0x1bd384[_0x556bd2(0x794)][_0x556bd2(0xb4a)](_0x2e3c54=>_0x2e3c54[_0x556bd2(0x8b5)]()===_0x1e0e2f['engineType']);if(!_0x3892bd)throw new Error(_0x556bd2(0x59d));const _0xb455ef=await _0x113c44(_0x55f1ec,_0x944543,_0x342b02,_0x5b95c3,_0x342b02[_0x556bd2(0x5f8)]??[],_0x1bd384);return _0x3892bd[_0x556bd2(0x45b)]({'type':'prompt','prompt':_0x342b02[_0x556bd2(0x850)],'instructions':_0x342b02[_0x556bd2(0x74e)],'reasoning':_0x342b02[_0x556bd2(0x77a)],'grammar':_0x342b02['grammar'],'temperature':_0x342b02[_0x556bd2(0x853)],'maxTokens':_0x342b02[_0x556bd2(0x572)],'history':_0x342b02['history'],'functions':_0xb455ef,'threadId':_0x342b02[_0x556bd2(0x1f7)]},{'model':_0x1e0e2f,'sequences':Array[_0x556bd2(0x61d)](_0xb455ef[_0x556bd2(0x628)]())[_0x556bd2(0x95e)](_0x25bb4a=>_0x25bb4a['startsWith'](_0x556bd2(0x869)))?0x2:0x1});}(_0x39c88e,_0x4f69cd,_0x3f4a35,_0x34289e,_0x4855ae);return _0x26d28b['logUsage'](_0x39c88e,_0x3f4a35['model'],_0x17935c['inputTokens']??0x0,_0x17935c['outputTokens']??0x0),console['log'](new Date()+'\x20Process\x20inference\x20final\x20response',_0x3f4a35[_0x197e98(0x968)],_0x17935c[_0x197e98(0x7a8)]??0x0,_0x17935c[_0x197e98(0x5bb)]??0x0),{'type':_0x197e98(0x850),'output':_0x17935c[_0x197e98(0x330)],'context':_0x34289e[_0x197e98(0x3c0)],'internalContext':_0x34289e[_0x197e98(0x54f)]??{},'inputTokens':_0x17935c['inputTokens']??0x0,'outputTokens':_0x17935c[_0x197e98(0x5bb)]??0x0};}async function _0x1f1982(_0x18b5d3,_0x29f3cd){const _0x57f8c3=_0xab329a,_0x8ce94f=await async function(_0x1472d2,_0x5a5309){const _0x39b8cf=a0_0x1b87,_0xaf825c=_0x5a5309['models'][_0x39b8cf(0xb4a)](_0x4b23fb=>_0x4b23fb['id']===_0x1472d2['model']);if(!_0xaf825c)throw new Error(_0x39b8cf(0x523));const _0x160af4=_0x5a5309[_0x39b8cf(0x794)]['find'](_0x5b2208=>_0x5b2208['getEngineType']()===_0xaf825c[_0x39b8cf(0x145)]);if(!_0x160af4)throw new Error(_0x39b8cf(0x59d));return _0x160af4[_0x39b8cf(0x45b)]({'type':_0x39b8cf(0x850),'prompt':_0x1472d2[_0x39b8cf(0x66d)],'threadId':_0x1472d2[_0x39b8cf(0x1f7)]},{'model':_0xaf825c,'sequences':0x1});}(_0x18b5d3,_0x29f3cd);return{'type':_0x57f8c3(0x850),'output':_0x8ce94f[_0x57f8c3(0x330)],'inputTokens':_0x8ce94f['inputTokens']??0x0,'outputTokens':_0x8ce94f[_0x57f8c3(0x5bb)]??0x0};}async function _0x20cc6a(_0x4486fb,_0x4af254){const _0x153e9f=_0xab329a;let _0x31dd88='',_0x4aff36={'type':_0x153e9f(0x850),'internalContext':_0x4486fb[_0x153e9f(0x54f)]??{}};switch(_0x4486fb[_0x153e9f(0x7cc)][_0x153e9f(0x539)]){case _0x1d89a1['GenerativeAIInferenceToolType'][_0x153e9f(0x52c)]:case _0x1d89a1[_0x153e9f(0x39a)]['AgentSkill']:_0x31dd88=await _0x102d4e(_0x4486fb['vendorId'],_0x4486fb['tool'],_0x4af254,_0x4486fb[_0x153e9f(0x356)],_0x4aff36);break;case _0x1d89a1[_0x153e9f(0x39a)][_0x153e9f(0xa35)]:_0x31dd88=await _0x29d098(_0x4486fb[_0x153e9f(0x7cc)],_0x4af254,_0x4486fb[_0x153e9f(0x356)]);break;case _0x1d89a1[_0x153e9f(0x39a)][_0x153e9f(0xb15)]:_0x31dd88=await _0x30c4fe(_0x4486fb[_0x153e9f(0x356)]);break;case _0x1d89a1[_0x153e9f(0x39a)]['DataCollection']:case _0x1d89a1[_0x153e9f(0x39a)]['Knowledge']:_0x31dd88=await _0x595c95(_0x4486fb[_0x153e9f(0x3e1)],_0x4486fb[_0x153e9f(0x7cc)],_0x4486fb[_0x153e9f(0x356)],_0x4aff36);break;case _0x1d89a1[_0x153e9f(0x39a)]['CustomSkill']:_0x31dd88=await _0x5b3601(_0x4486fb['tool'],_0x4486fb[_0x153e9f(0x356)],_0x4aff36);break;case _0x1d89a1[_0x153e9f(0x39a)][_0x153e9f(0x4c9)]:_0x31dd88=await _0x26fb1f(_0x4486fb[_0x153e9f(0x356)]);break;case _0x1d89a1[_0x153e9f(0x39a)][_0x153e9f(0x519)]:_0x31dd88=await _0x26fb1f(_0x4486fb[_0x153e9f(0x356)],!0x1);break;case _0x1d89a1['GenerativeAIInferenceToolType'][_0x153e9f(0x8ff)]:_0x31dd88=await _0x35fead(_0x4af254,_0x4486fb['arguments']);break;case _0x1d89a1[_0x153e9f(0x39a)]['FormSkillGetQuestion']:_0x31dd88=await _0x208ecc(_0x4486fb['tool'],_0x4aff36);break;case _0x1d89a1[_0x153e9f(0x39a)][_0x153e9f(0x353)]:_0x31dd88=await _0x35c529(_0x4486fb[_0x153e9f(0x7cc)],_0x4486fb[_0x153e9f(0x356)],_0x4aff36);break;case _0x1d89a1['GenerativeAIInferenceToolType'][_0x153e9f(0x2dd)]:_0x31dd88=await _0x39f72e(_0x4486fb['tool'],_0x4aff36);break;case _0x1d89a1[_0x153e9f(0x39a)][_0x153e9f(0x8ee)]:_0x4486fb[_0x153e9f(0x7cc)][_0x153e9f(0x44e)]?_0x31dd88=await _0xdcf07f(_0x4486fb[_0x153e9f(0x3e1)],_0x4486fb[_0x153e9f(0x7cc)],_0x4486fb[_0x153e9f(0x356)],_0x4aff36):(_0xdcf07f(_0x4486fb['vendorId'],_0x4486fb[_0x153e9f(0x7cc)],_0x4486fb[_0x153e9f(0x356)],_0x4aff36),_0x31dd88='I\x20have\x20finished\x20executing\x20my\x20task.');}return{'type':'tool-call','output':_0x31dd88,'internalContext':_0x4aff36[_0x153e9f(0x54f)]??{}};}async function*_0x4fbd3f(_0x4fb8db,_0x213273,_0x26ed8d){const _0x20acf9=_0xab329a,_0x55cbe5=_0x213273[_0x20acf9(0x3d4)]??(0x0,_0x3aba3d['v4'])(),_0x5910c4={'type':_0x20acf9(0x850),'context':[],'internalContext':_0x213273[_0x20acf9(0x54f)]??{},'inputTokens':0x0,'outputTokens':0x0},_0x57e012=new _0x49f2ed(),_0x1c6dce=_0x213273[_0x20acf9(0x3e1)];try{await(0x0,_0x579870[_0x20acf9(0x845)])(_0x44b60b[_0x20acf9(0x746)](),_0x20acf9(0x458))({'vendorId':_0x1c6dce});}catch(_0x1b5f50){throw console['error']('Error\x20validating\x20vendor\x20credits',_0x1b5f50),new Error(_0x20acf9(0x161));}const _0x2426c2=(await(0x0,_0x30ad83[_0x20acf9(0x246)])((0x0,_0x30ad83[_0x20acf9(0x71b)])(_0x44b60b[_0x20acf9(0xa12)](),_0x20acf9(0x85a),_0x1c6dce)))['data']();_0x2426c2&&_0x2426c2['organizationId']||(console[_0x20acf9(0x4ad)](new Date()+_0x20acf9(0xb6d),_0x213273[_0x20acf9(0x968)],_0x5a2a2c['get'](_0x213273[_0x20acf9(0x968)])['fallbackModel']),_0x213273[_0x20acf9(0x968)]=_0x5a2a2c[_0x20acf9(0x153)](_0x213273['model'])[_0x20acf9(0x93f)]),async function(_0x44214c,_0x16287b,_0x3d6b3f,_0x58b98f,_0x2bb39f,_0x1335c2){const _0x1a8176=_0x20acf9,_0x151beb=_0x1335c2[_0x1a8176(0x2c8)][_0x1a8176(0xb4a)](_0x5c3022=>_0x5c3022['id']===_0x3d6b3f[_0x1a8176(0x968)]);if(!_0x151beb)throw new Error(_0x1a8176(0x523));const _0x3996a3=_0x1335c2[_0x1a8176(0x794)][_0x1a8176(0xb4a)](_0x36199d=>_0x36199d[_0x1a8176(0x8b5)]()===_0x151beb[_0x1a8176(0x145)]);if(!_0x3996a3)throw new Error(_0x1a8176(0x59d));const _0xc0adc3={'type':_0x1a8176(0x850),'output':''},_0x4f03fe=await _0x113c44(_0x44214c,_0x16287b,_0x3d6b3f,_0x58b98f,_0x3d6b3f[_0x1a8176(0x5f8)]??[],_0x1335c2,_0x2bb39f);for await(const _0x13c92b of _0x3996a3[_0x1a8176(0xaa1)]({'type':_0x1a8176(0x850),'prompt':_0x3d6b3f['prompt'],'instructions':_0x3d6b3f['instructions'],'reasoning':_0x3d6b3f[_0x1a8176(0x77a)],'grammar':_0x3d6b3f[_0x1a8176(0x5ef)],'temperature':_0x3d6b3f[_0x1a8176(0x853)],'maxTokens':_0x3d6b3f['maxTokens'],'history':_0x3d6b3f[_0x1a8176(0x584)],'functions':_0x4f03fe,'threadId':_0x3d6b3f[_0x1a8176(0x1f7)]},{'model':_0x151beb,'sequences':Array[_0x1a8176(0x61d)](_0x4f03fe[_0x1a8176(0x628)]())['some'](_0x5bb183=>_0x5bb183[_0x1a8176(0xb20)](_0x1a8176(0x869)))?0x2:0x1}))_0x2bb39f[_0x1a8176(0x292)](_0x13c92b),_0x1a8176(0x816)==typeof _0xc0adc3[_0x1a8176(0x330)]&&_0x1a8176(0x816)==typeof _0x13c92b[_0x1a8176(0x330)]&&(_0xc0adc3[_0x1a8176(0x330)]+=_0x13c92b[_0x1a8176(0x330)]),_0xc0adc3['inputTokens']=_0x13c92b[_0x1a8176(0x7a8)],_0xc0adc3[_0x1a8176(0x5bb)]=_0x13c92b[_0x1a8176(0x5bb)];await _0x3b46ce['wait'](0x1),_0x2bb39f['emit'](void 0x0);}(_0x4fb8db,_0x55cbe5,_0x213273,_0x5910c4,_0x57e012,_0x26ed8d);let _0x277346='',_0x2e7a0d=0x0,_0x7e77f6=0x0,_0x259356={'type':_0x20acf9(0x850)};for(;;){const _0x260741=await _0x57e012['once']();if(!_0x260741)break;_0x277346+=_0x260741[_0x20acf9(0x330)],_0x259356={'type':'prompt','output':_0x260741[_0x20acf9(0x330)],'context':_0x5910c4[_0x20acf9(0x3c0)],'internalContext':{},'inputTokens':_0x260741[_0x20acf9(0x7a8)]??0x0,'outputTokens':_0x260741[_0x20acf9(0x5bb)]??0x0},_0x2e7a0d+=_0x260741[_0x20acf9(0x7a8)]??0x0,_0x7e77f6+=_0x260741[_0x20acf9(0x5bb)]??0x0,((_0x260741[_0x20acf9(0x7a8)]??0x0)>0x0||(_0x260741[_0x20acf9(0x5bb)]??0x0)>0x0)&&console['log'](new Date()+_0x20acf9(0x227),_0x213273['model'],_0x260741[_0x20acf9(0x7a8)]??0x0,_0x260741[_0x20acf9(0x5bb)]??0x0),yield _0x259356;}_0x26d28b[_0x20acf9(0x82f)](_0x4fb8db,_0x213273['model'],_0x2e7a0d,_0x7e77f6),console['log'](new Date()+_0x20acf9(0x77c),_0x213273['model'],_0x2e7a0d,_0x7e77f6),yield{..._0x259356,'output':'','internalContext':_0x5910c4['internalContext']??{}};}async function _0x4c5246(_0x5abd2a,_0x55e701,_0x1603a6,_0x57b09c,_0x30a92c,_0x4b8ff8){const _0x175f83=_0xab329a,_0x233cda=Date[_0x175f83(0x4cb)]();if(!_0x4b8ff8[_0x175f83(0x2c8)]['find'](_0x2329ff=>_0x2329ff['id']===_0x57b09c[_0x175f83(0xa5c)]))throw new Error(_0x175f83(0x523));const _0x5b86e9=(0x0,_0x3aba3d['v4'])(),_0xb656f2=[];_0xb656f2[_0x175f83(0x257)]({'role':_0x175f83(0x752),'content':_0x57b09c[_0x175f83(0x74e)]}),_0xb656f2[_0x175f83(0x257)]({'role':_0x175f83(0x571),'content':_0x1603a6});const _0x967624=await fetch(_0x5d8dc2['apiUrl']+_0x175f83(0x3b2),{'method':'POST','headers':{'Content-Type':_0x175f83(0x91c),'x-vendor-id':_0x5abd2a},'body':JSON[_0x175f83(0x56e)]({'model':_0x57b09c[_0x175f83(0xa5c)],'messages':_0xb656f2,'max_completion_tokens':_0x57b09c['maxTokens'],'temperature':_0x57b09c[_0x175f83(0x853)],'threadId':_0x5b86e9})}),_0x7a6843=(await _0x967624[_0x175f83(0xa7b)]())[_0x175f83(0x557)][0x0]['message'][_0x175f83(0xa98)];await _0x26d28b[_0x175f83(0x670)]({'jobType':_0x2313f7['Ingest'],'type':_0xcac52a['Agent'],'jobId':_0x55e701,'blockId':_0x57b09c['id'],'traceLevel':_0x581e8e[_0x175f83(0x8c3)],'timestamp':Date[_0x175f83(0x4cb)](),'startTime':_0x233cda,'status':_0x175f83(0x561),'agentId':_0x5b86e9,'content':_0x1603a6,'instructions':_0x57b09c[_0x175f83(0x74e)],'result':_0x7a6843});const _0x1e99df=[];if(_0x57b09c[_0x175f83(0x9a8)]?.['some'](_0x150081=>_0x150081[_0x175f83(0x539)]===_0x5395bb[_0x175f83(0x459)]))return _0x1e99df[_0x175f83(0x257)]({'content':_0x7a6843,'start':0x0,'length':_0x7a6843[_0x175f83(0x4f0)]}),await _0x9f559b(_0x5abd2a,_0x55e701,_0x1e99df,_0x57b09c,_0x30a92c,_0x4b8ff8),void await _0x9f559b(_0x5abd2a,_0x55e701,_0x7a6843,_0x57b09c,_0x30a92c,_0x4b8ff8);_0x1e99df[_0x175f83(0x257)]({'content':_0x7a6843,'start':0x0,'length':_0x1603a6['length']}),await _0x9f559b(_0x5abd2a,_0x55e701,_0x1e99df,_0x57b09c,_0x30a92c,_0x4b8ff8);}async function _0x2d0864(_0x1ef046,_0x2ff71a,_0x459227,_0x5a41f7,_0x3f102d,_0x6fbdc8){const _0x39d7db=_0xab329a,_0x102f0b=Date['now']();let _0x26a830=[];if(_0x459227 instanceof Array)for(const _0x457bc3 of _0x459227){if(_0x39d7db(0x816)!=typeof _0x457bc3[_0x39d7db(0xa98)])throw new Error(_0x39d7db(0x863));_0x26a830=_0x26a830['concat'](_0x1b50b8(_0x457bc3['content'],_0x5a41f7,_0x457bc3[_0x39d7db(0x60c)],_0x457bc3[_0x39d7db(0x4f0)]));}else _0x26a830=_0x1b50b8(_0x459227,_0x5a41f7);await _0x26d28b[_0x39d7db(0x670)]({'jobType':_0x2313f7['Ingest'],'type':_0xcac52a[_0x39d7db(0x6af)],'traceLevel':_0x581e8e[_0x39d7db(0x8c3)],'jobId':_0x2ff71a,'blockId':_0x5a41f7['id'],'startTime':_0x102f0b,'timestamp':Date['now'](),'status':'success','totalChunks':_0x26a830[_0x39d7db(0x4f0)],'chunkSize':_0x5a41f7['attributes'][_0x39d7db(0xa86)]}),await _0x9f559b(_0x1ef046,_0x2ff71a,_0x26a830,_0x5a41f7,_0x3f102d,_0x6fbdc8);}function _0x1b50b8(_0x175d58,_0x36a577,_0x3a400a,_0x3a10bb){const _0x219a6e=_0xab329a,_0x276dc4=[];for(let _0x557d92=0x0;_0x557d92<_0x175d58[_0x219a6e(0x4f0)];_0x557d92+=_0x36a577[_0x219a6e(0x9f3)][_0x219a6e(0xa86)]){let _0x58352e=_0x557d92-_0x36a577[_0x219a6e(0x9f3)][_0x219a6e(0x8e5)];_0x58352e<0x0&&(_0x58352e=0x0);let _0x223cc9=_0x557d92+_0x36a577[_0x219a6e(0x9f3)]['size']+_0x36a577['attributes'][_0x219a6e(0x8e5)];_0x223cc9>_0x175d58[_0x219a6e(0x4f0)]&&(_0x223cc9=_0x175d58[_0x219a6e(0x4f0)]);const _0x33d8fe=_0x175d58[_0x219a6e(0x913)](_0x58352e,_0x223cc9);_0x276dc4[_0x219a6e(0x257)]({'content':_0x33d8fe,'start':_0x3a400a??_0x557d92,'length':_0x3a10bb??(_0x557d92+_0x36a577[_0x219a6e(0x9f3)][_0x219a6e(0xa86)]>_0x175d58[_0x219a6e(0x4f0)]?_0x175d58[_0x219a6e(0x4f0)]-_0x557d92:_0x36a577[_0x219a6e(0x9f3)][_0x219a6e(0xa86)])});}return _0x276dc4;}async function _0x2b260b(_0x54049e,_0x23a085,_0x3bd6ef,_0xcd9247,_0x487ab3,_0x5a9bc8){const _0x15756a=_0xab329a,_0x39eb08=Date[_0x15756a(0x4cb)]();let _0x612e5b;if(_0x3bd6ef[_0x15756a(0x22c)]['type'][_0x15756a(0xb20)]('text/')||_0x238b50(_0x3bd6ef[_0x15756a(0x22c)][_0x15756a(0x432)],_0xde2220))_0x612e5b=await _0x3bd6ef[_0x15756a(0x22c)]['text']();else{if(!_0x5a9bc8[_0x15756a(0xa8f)][_0x15756a(0x8ec)](_0x3bd6ef[_0x15756a(0x22c)]))throw new Error(_0x15756a(0xabc)+_0x3bd6ef[_0x15756a(0x22c)][_0x15756a(0x539)]+_0x15756a(0x1ac)+_0x3bd6ef[_0x15756a(0x22c)][_0x15756a(0x432)]);_0x612e5b=await _0x5a9bc8[_0x15756a(0xa8f)][_0x15756a(0x685)](_0x3bd6ef[_0x15756a(0x22c)]);}await _0x26d28b['trace']({'jobType':_0x2313f7[_0x15756a(0x428)],'type':_0xcac52a[_0x15756a(0x9c1)],'traceLevel':_0x581e8e[_0x15756a(0x8c3)],'blockId':_0xcd9247['id'],'jobId':_0x23a085,'startTime':_0x39eb08,'timestamp':Date[_0x15756a(0x4cb)](),'status':_0x15756a(0x561),'documentType':_0x3bd6ef[_0x15756a(0x22c)][_0x15756a(0x539)],'documentName':_0x3bd6ef[_0x15756a(0x22c)][_0x15756a(0x432)],'extractionMethod':_0x15756a(0xa3d)}),await _0x9f559b(_0x54049e,_0x23a085,_0x612e5b,_0xcd9247,_0x487ab3,_0x5a9bc8);const _0x455d13=[{'content':_0x612e5b,'start':0x0,'length':_0x612e5b[_0x15756a(0x4f0)]}];await _0x9f559b(_0x54049e,_0x23a085,_0x455d13,_0xcd9247,_0x487ab3,_0x5a9bc8);}const _0xde2220=[_0xab329a(0x421),_0xab329a(0x5a6),_0xab329a(0x93e),_0xab329a(0x811),'.txt','.html',_0xab329a(0x233),'.xml',_0xab329a(0x4ec),'.yml',_0xab329a(0x58c),_0xab329a(0xb03),_0xab329a(0xada),_0xab329a(0xa2a),_0xab329a(0xaf0),_0xab329a(0x5a8),'.sql',_0xab329a(0xaec),_0xab329a(0x7da),'.java','.c',_0xab329a(0x7f7),_0xab329a(0x697),'.r',_0xab329a(0x737),_0xab329a(0x7de),'.scala','.kt',_0xab329a(0x25d),_0xab329a(0x3f1),_0xab329a(0x6b8),_0xab329a(0x3ec),_0xab329a(0x16e),'.clj','.groovy','.erl','.ex',_0xab329a(0xa24),_0xab329a(0x8e6),_0xab329a(0x27b),_0xab329a(0x296),'.m','.vbs','.awk',_0xab329a(0x77f),'.jl','.ipynb',_0xab329a(0x96e),_0xab329a(0x7f8),'.vue',_0xab329a(0x65d),_0xab329a(0x721),_0xab329a(0xb39),_0xab329a(0x772),_0xab329a(0xa1c),_0xab329a(0x5e9),_0xab329a(0x377),_0xab329a(0xa26),_0xab329a(0xb19),'.tpl',_0xab329a(0x342),_0xab329a(0x149),_0xab329a(0x713)];function _0x238b50(_0x4f9eef,_0x3931b5){const _0x13839e=_0xab329a;return _0x3931b5['includes']('.'+(_0x4f9eef[_0x13839e(0xb12)]('.')[_0x13839e(0x4b8)]()?.[_0x13839e(0x9d6)]()||''));}async function _0x2ecc86(_0x50cd1a,_0x10e4b1,_0x2f1380,_0x193d6d,_0x1da6f5,_0x1daf7c){const _0x4c6355=_0xab329a,_0x99a8cb=Date[_0x4c6355(0x4cb)](),_0x5c307b=new Set();let _0x68d0d6=0x0;for(const _0x5e9b02 of _0x2f1380){if(_0x4c6355(0x816)!=typeof _0x5e9b02[_0x4c6355(0xa98)])throw new Error('Invalid\x20content\x20type');_0x68d0d6+=_0x5e9b02[_0x4c6355(0xa98)][_0x4c6355(0x4f0)],await _0x1dcd89(_0x5e9b02[_0x4c6355(0xa98)],_0x5c307b,_0x193d6d,_0x1daf7c[_0x4c6355(0x545)]);}await _0x26d28b['trace']({'jobType':_0x2313f7[_0x4c6355(0x428)],'type':_0xcac52a[_0x4c6355(0x6f4)],'jobId':_0x10e4b1,'blockId':_0x193d6d['id'],'traceLevel':_0x581e8e[_0x4c6355(0x8c3)],'startTime':_0x99a8cb,'timestamp':Date['now'](),'status':_0x4c6355(0x561),'contentLength':_0x68d0d6,'totalChunks':_0x2f1380 instanceof Array?_0x2f1380[_0x4c6355(0x4f0)]:0x1,'entitiesExtracted':_0x5c307b,'totalEntities':_0x5c307b[_0x4c6355(0xa86)]}),await _0x9f559b(_0x50cd1a,_0x10e4b1,_0x5c307b,_0x193d6d,_0x1da6f5,_0x1daf7c);}async function _0x1dcd89(_0x2e2155,_0x3aa208,_0x50fb78,_0x290c62){const _0x481618=_0xab329a,_0x115552=await _0x290c62['getEntities'](_0x2e2155,{'ner':_0x50fb78[_0x481618(0x9f3)]['ner'],'noun':_0x50fb78[_0x481618(0x9f3)][_0x481618(0x909)],'propn':_0x50fb78[_0x481618(0x9f3)][_0x481618(0x9a3)],'verb':_0x50fb78['attributes'][_0x481618(0x490)]});for(const _0x53b2e2 of _0x115552)_0x3aa208[_0x481618(0x232)](_0x53b2e2);}async function _0x43b82c(_0x230d1f,_0x394c0b,_0x55f102,_0x34b963,_0xfdb88){const _0xa6de1=_0xab329a,_0x2008ab=Date[_0xa6de1(0x4cb)]();if(_0x55f102[_0xa6de1(0x6c6)]||(_0x55f102[_0xa6de1(0x6c6)]={}),_0xa6de1(0x816)==typeof _0x394c0b?_0x55f102[_0xa6de1(0x6c6)][_0xa6de1(0xa98)]=_0x394c0b:_0x394c0b instanceof Set?_0x55f102['accumulated'][_0xa6de1(0x72d)]=_0x394c0b:_0x394c0b instanceof Map?_0x55f102['accumulated'][_0xa6de1(0x45c)]=_0x394c0b:_0x394c0b instanceof Array?_0x55f102[_0xa6de1(0x6c6)][_0xa6de1(0x730)]=_0x394c0b:_0x55f102[_0xa6de1(0x6c6)][_0xa6de1(0x22c)]=_0x394c0b,_0x55f102['timesCalled']=_0x55f102[_0xa6de1(0x4d6)]?_0x55f102[_0xa6de1(0x4d6)]+0x1:0x1,_0x3dca26(_0x55f102,_0x34b963[_0xa6de1(0x8c5)])>_0x55f102[_0xa6de1(0x4d6)])return;if(!(_0x55f102['accumulated'][_0xa6de1(0x72d)]&&_0x55f102[_0xa6de1(0x6c6)][_0xa6de1(0x22c)]&&_0x55f102[_0xa6de1(0x6c6)][_0xa6de1(0xa98)]&&_0x55f102[_0xa6de1(0x6c6)]['index']))throw new Error(_0xa6de1(0x92d));let _0x5bdb64=0x0;const _0x2ed341=_0xfdb88[_0xa6de1(0x405)]['getGraphDatabase'](_0x55f102['id']);for(const _0x190118 of _0x55f102[_0xa6de1(0x6c6)]['entities']){let _0x26aeae=[];_0x26aeae=_0x55f102['accumulated']['index'][_0xa6de1(0x2b3)](_0x34b4cb=>_0xa6de1(0x816)==typeof _0x34b4cb['content']&&_0x34b4cb[_0xa6de1(0xa98)]['includes'](_0x190118));try{_0x2ed341['addNode'](_0x55f102[_0xa6de1(0x6c6)][_0xa6de1(0x22c)][_0xa6de1(0x5d0)],_0x55f102[_0xa6de1(0x6c6)][_0xa6de1(0xa98)],_0x26aeae,_0x190118),_0x5bdb64+=0x1;}catch(_0x226e02){}}if(_0x55f102[_0xa6de1(0x6c6)]['relations']){for(const [_0x86937b,_0x5d52e7]of _0x55f102['accumulated']['relations'])for(const _0x481f54 of _0x5d52e7)try{_0x2ed341[_0xa6de1(0x80f)](_0x86937b,_0x481f54);}catch(_0x36af10){}await _0x26d28b['trace']({'jobType':_0x2313f7[_0xa6de1(0x428)],'type':_0xcac52a[_0xa6de1(0x810)],'jobId':_0x230d1f,'blockId':_0x55f102['id'],'status':'success','startTime':_0x2008ab,'timestamp':Date[_0xa6de1(0x4cb)](),'traceLevel':_0x581e8e[_0xa6de1(0x8c3)],'nodesAdded':_0x5bdb64,'entities':_0x55f102['accumulated'][_0xa6de1(0x72d)],'relations':_0x55f102[_0xa6de1(0x6c6)][_0xa6de1(0x45c)]});}}async function _0x1d2bd9(_0x3e4b03,_0x5b1dab,_0x490c06,_0x2cbc5d,_0x467e2c,_0x539cb7){const _0x4b79aa=_0xab329a,_0x52f551=_0x539cb7[_0x4b79aa(0x2c8)][_0x4b79aa(0xb4a)](_0x40b7c2=>_0x40b7c2['id']===_0x2cbc5d['id']);if(!_0x52f551)throw new Error(_0x4b79aa(0x523));switch(_0x52f551[_0x4b79aa(0x4f4)]){case _0x1d89a1[_0x4b79aa(0x6bb)][_0x4b79aa(0x459)]:if('string'!=typeof _0x490c06)throw new Error('Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text');await async function(_0x47703e,_0x184c21,_0x1fc281,_0xf8d166,_0x1f98b4,_0x3ffc3e,_0x5e9d40){const _0x5807a1=_0x4b79aa,_0x570463=Date['now']();let _0x5ef9a9;const _0x3924cf=await fetch(_0x5d8dc2[_0x5807a1(0x9a4)]+_0x5807a1(0x3b2),{'method':_0x5807a1(0xa0f),'headers':{'Content-Type':_0x5807a1(0x91c),'x-vendor-id':_0x47703e},'body':JSON[_0x5807a1(0x56e)]({'messages':[{'role':'user','content':_0x1fc281}],'model':_0xf8d166['id']})});_0x5ef9a9=(await _0x3924cf[_0x5807a1(0xa7b)]())[_0x5807a1(0x557)][0x0][_0x5807a1(0x3cc)][_0x5807a1(0xa98)],await _0x26d28b[_0x5807a1(0x670)]({'jobType':_0x2313f7[_0x5807a1(0x428)],'type':_0xcac52a[_0x5807a1(0x9bb)],'jobId':_0x184c21,'blockId':_0x1f98b4['id'],'traceLevel':_0x581e8e[_0x5807a1(0x8c3)],'timestamp':Date[_0x5807a1(0x4cb)](),'startTime':_0x570463,'status':_0x5807a1(0x561),'modelName':_0xf8d166['id'],'inputType':_0xf8d166[_0x5807a1(0x247)],'outputType':_0xf8d166[_0x5807a1(0x4f4)],'content':_0x1fc281,'results':_0x5ef9a9}),await _0x9f559b(_0x47703e,_0x184c21,_0x5ef9a9,_0x1f98b4,_0x3ffc3e,_0x5e9d40);}(_0x3e4b03,_0x5b1dab,_0x490c06,_0x52f551,_0x2cbc5d,_0x467e2c,_0x539cb7);break;case _0x1d89a1[_0x4b79aa(0x6bb)][_0x4b79aa(0x160)]:if(!(_0x490c06 instanceof Array))throw new Error(_0x4b79aa(0x5ce));await async function(_0x2405cd,_0x504f8f,_0x383ab0,_0x4bf932,_0x19b499,_0x36be4c,_0x2ecd3c){const _0x18dd44=_0x4b79aa,_0x39c8e5=Date[_0x18dd44(0x4cb)](),_0x28aceb=await fetch(_0x5d8dc2[_0x18dd44(0x9a4)]+'/embeddings',{'method':_0x18dd44(0xa0f),'headers':{'Content-Type':'application/json','x-vendor-id':_0x2405cd},'body':JSON[_0x18dd44(0x56e)]({'input':_0x383ab0[_0x18dd44(0x591)](_0xef9da=>_0xef9da[_0x18dd44(0xa98)]),'model':_0x4bf932['id']})}),_0x358963=(await _0x28aceb[_0x18dd44(0xa7b)]())[_0x18dd44(0x62e)][_0x18dd44(0x591)](_0x120af7=>_0x120af7['embedding']);await _0x26d28b[_0x18dd44(0x670)]({'jobType':_0x2313f7[_0x18dd44(0x428)],'type':_0xcac52a[_0x18dd44(0x741)],'jobId':_0x504f8f,'blockId':_0x19b499['id'],'traceLevel':_0x581e8e[_0x18dd44(0x8c3)],'timestamp':Date[_0x18dd44(0x4cb)](),'startTime':_0x39c8e5,'status':_0x18dd44(0x561),'modelName':_0x4bf932['id'],'inputType':_0x4bf932[_0x18dd44(0x247)],'outputType':_0x4bf932[_0x18dd44(0x4f4)],'totalVectors':_0x358963[_0x18dd44(0x4f0)]}),await _0x9f559b(_0x2405cd,_0x504f8f,_0x358963,_0x19b499,_0x36be4c,_0x2ecd3c);}(_0x3e4b03,_0x5b1dab,_0x490c06,_0x52f551,_0x2cbc5d,_0x467e2c,_0x539cb7);}}async function _0x3c54d6(_0x37d261,_0x1223c7,_0x131f28,_0x1a0223,_0x5a3891,_0x300031){const _0x439ad1=_0xab329a,_0x216faf=Date[_0x439ad1(0x4cb)]();if(_0x1a0223[_0x439ad1(0x6c6)]||(_0x1a0223[_0x439ad1(0x6c6)]={}),_0x131f28 instanceof Array?_0x1a0223['accumulated']['index']=_0x131f28:_0x1a0223[_0x439ad1(0x6c6)]['entities']=_0x131f28,_0x1a0223[_0x439ad1(0x4d6)]=_0x1a0223[_0x439ad1(0x4d6)]?_0x1a0223[_0x439ad1(0x4d6)]+0x1:0x1,_0x3dca26(_0x1a0223,_0x5a3891[_0x439ad1(0x8c5)])>_0x1a0223[_0x439ad1(0x4d6)])return;if(!_0x1a0223[_0x439ad1(0x6c6)][_0x439ad1(0x730)]||!_0x1a0223[_0x439ad1(0x6c6)][_0x439ad1(0x72d)])throw new Error(_0x439ad1(0x653));const _0x28f8c9=new Map();for(const _0x3d98c2 of _0x1a0223[_0x439ad1(0x6c6)][_0x439ad1(0x730)]){if(_0x439ad1(0x816)!=typeof _0x3d98c2[_0x439ad1(0xa98)])throw new Error(_0x439ad1(0x863));_0x4814c0(_0x3d98c2[_0x439ad1(0xa98)],_0x1a0223[_0x439ad1(0x6c6)][_0x439ad1(0x72d)],_0x28f8c9);}await _0x26d28b[_0x439ad1(0x670)]({'jobType':_0x2313f7[_0x439ad1(0x428)],'type':_0xcac52a[_0x439ad1(0x1e6)],'jobId':_0x1223c7,'blockId':_0x1a0223['id'],'traceLevel':_0x581e8e[_0x439ad1(0x8c3)],'timestamp':Date[_0x439ad1(0x4cb)](),'startTime':_0x216faf,'status':'success','entities':_0x1a0223['accumulated']['entities'],'relations':_0x28f8c9,'totalRelationsExtracted':_0x28f8c9[_0x439ad1(0xa86)]}),await _0x9f559b(_0x37d261,_0x1223c7,_0x28f8c9,_0x1a0223,_0x5a3891,_0x300031);}function _0x4814c0(_0x16ca5c,_0x421a4e,_0x51143a){const _0x3365f3=_0xab329a;for(const _0x37a42a of _0x421a4e)for(const _0x4cf92a of _0x421a4e){if(_0x37a42a===_0x4cf92a)continue;const _0x5314fd=_0x16ca5c[_0x3365f3(0x7f1)](_0x37a42a),_0x2f0ad8=_0x16ca5c[_0x3365f3(0x7f1)](_0x4cf92a);-0x1!==_0x5314fd&&-0x1!==_0x2f0ad8&&(_0x51143a[_0x3365f3(0x727)](_0x37a42a)||_0x51143a[_0x3365f3(0x4d1)](_0x37a42a,new Set()),_0x51143a[_0x3365f3(0x153)](_0x37a42a)[_0x3365f3(0x232)](_0x4cf92a));}return _0x51143a;}async function _0x4fa048(_0x317da0,_0x2c2474,_0x494b3c,_0x3f02fa,_0x1566a8,_0x37a590){const _0x4aa9c8=_0xab329a,_0x26ed44=Date[_0x4aa9c8(0x4cb)]();let _0x5f40a2=[];if(_0x494b3c instanceof Array)for(const _0x546be0 of _0x494b3c){if('string'!=typeof _0x546be0['content'])throw new Error(_0x4aa9c8(0x863));const _0x1cdc17=await _0x37a590[_0x4aa9c8(0x545)][_0x4aa9c8(0xa05)](_0x546be0[_0x4aa9c8(0xa98)]);_0x5f40a2=_0x5f40a2[_0x4aa9c8(0x743)](_0x1cdc17['map'](_0x2f1b91=>({'content':_0x2f1b91,'start':_0x546be0['start'],'length':_0x546be0['length']})));}else _0x5f40a2=(await _0x37a590[_0x4aa9c8(0x545)]['getSentences'](_0x494b3c))[_0x4aa9c8(0x591)](_0x33e894=>({'content':_0x33e894,'start':_0x494b3c[_0x4aa9c8(0x7f1)](_0x33e894),'length':_0x33e894[_0x4aa9c8(0x4f0)]}));await _0x26d28b[_0x4aa9c8(0x670)]({'jobType':_0x2313f7[_0x4aa9c8(0x428)],'type':_0xcac52a[_0x4aa9c8(0x369)],'jobId':_0x2c2474,'blockId':_0x3f02fa['id'],'traceLevel':_0x581e8e['Debug'],'startTime':_0x26ed44,'timestamp':Date['now'](),'status':_0x4aa9c8(0x561),'totalSentences':_0x5f40a2[_0x4aa9c8(0x4f0)],'averageSentenceLength':_0x5f40a2[_0x4aa9c8(0x9ba)]((_0xa915e,_0x16d714)=>_0xa915e+_0x16d714['length'],0x0)/_0x5f40a2[_0x4aa9c8(0x4f0)]}),await _0x9f559b(_0x317da0,_0x2c2474,_0x5f40a2,_0x3f02fa,_0x1566a8,_0x37a590);}async function _0x4caeaf(_0x1bc8fe,_0x1be5b9,_0x51a579,_0x44b195,_0x52d40c){const _0x53061f=_0xab329a,_0x628e20=_0x1be5b9[_0x53061f(0x3d4)]??(0x0,_0x3aba3d['v4'])(),_0x479554=Date[_0x53061f(0x4cb)]();await _0x26d28b[_0x53061f(0x670)]({'jobType':_0x2313f7[_0x53061f(0x259)],'type':_0x1bd725['InitialPrompt'],'jobId':_0x1bc8fe,'blockId':_0x51a579['id'],'agentId':_0x628e20,'threadId':_0x1be5b9[_0x53061f(0x1f7)],'traceLevel':_0x581e8e[_0x53061f(0x72c)],'startTime':Date['now'](),'timestamp':Date[_0x53061f(0x4cb)](),'status':_0x53061f(0x561),'initialPrompt':_0x1be5b9[_0x53061f(0x850)]});const _0x311a06={'type':_0x53061f(0x850),'context':[],'inputTokens':0x0,'outputTokens':0x0};_0x1be5b9[_0x53061f(0x54f)]&&(_0x311a06[_0x53061f(0x54f)]=_0x1be5b9[_0x53061f(0x54f)]),await _0x3f2345(_0x1bc8fe,_0x1be5b9,_0x311a06,_0x51a579,_0x44b195,_0x52d40c),await _0x2a4566(_0x1bc8fe,''+_0x1be5b9['prompt'],_0x1be5b9,_0x311a06,_0x51a579,_0x44b195,_0x52d40c);const {inputTokens:_0x316393=0x0,outputTokens:_0x5ca8fb=0x0,context:_0x37a2c5=[]}=_0x311a06;await _0x26d28b[_0x53061f(0x670)]({'jobType':_0x2313f7[_0x53061f(0x259)],'type':_0x1bd725['FinalOutput'],'jobId':_0x1bc8fe,'agentId':_0x628e20,'threadId':_0x1be5b9['threadId'],'traceLevel':_0x581e8e[_0x53061f(0x72c)],'startTime':_0x479554,'timestamp':Date['now'](),'blockId':_0x51a579['id'],'status':'success','output':_0x311a06[_0x53061f(0x330)]?.[_0x53061f(0x340)]()??'','prompt':_0x1be5b9['prompt'],'agentName':'','history':_0x1be5b9[_0x53061f(0x584)]??[],'instructions':''+(_0x1be5b9[_0x53061f(0x74e)]??''),'ragContext':_0x37a2c5,'inputTokens':_0x316393,'outputTokens':_0x5ca8fb});const _0x3251cf=_0x44b195[_0x53061f(0xb4a)](_0x1eecca=>_0x1eecca[_0x53061f(0x539)]===_0x2d5b5c[_0x53061f(0x343)]);return{'type':_0x53061f(0x850),'output':_0x311a06[_0x53061f(0x330)],'context':_0x311a06[_0x53061f(0x3c0)],'internalContext':_0x311a06[_0x53061f(0x54f)],'resultFile':await _0x3251cf?.[_0x53061f(0x6c6)]?.[_0x53061f(0x22c)]?.[_0x53061f(0x66d)]()??void 0x0,'inputTokens':_0x311a06[_0x53061f(0x7a8)]??0x0,'outputTokens':_0x311a06[_0x53061f(0x5bb)]??0x0};}async function*_0x21395a(_0x518aa0,_0x3555b8,_0x526f50,_0x23dab1,_0xfa621d){const _0x15ca26=_0xab329a,_0x1fca8e=_0x3555b8[_0x15ca26(0x3d4)]??(0x0,_0x3aba3d['v4'])(),_0x5b254e=Date[_0x15ca26(0x4cb)]();await _0x26d28b[_0x15ca26(0x670)]({'jobType':_0x2313f7[_0x15ca26(0x259)],'type':_0x1bd725[_0x15ca26(0x783)],'jobId':_0x518aa0,'agentId':_0x1fca8e,'threadId':_0x3555b8[_0x15ca26(0x1f7)],'traceLevel':_0x581e8e['Info'],'startTime':Date['now'](),'timestamp':Date[_0x15ca26(0x4cb)](),'blockId':_0x526f50['id'],'status':'success','initialPrompt':_0x3555b8['prompt']});const _0x5e0ae7={'type':'prompt','context':[],'inputTokens':0x0,'outputTokens':0x0};_0x3555b8[_0x15ca26(0x54f)]&&(_0x5e0ae7[_0x15ca26(0x54f)]=_0x3555b8[_0x15ca26(0x54f)]);const _0x36bad8=new _0x49f2ed();await _0x3f2345(_0x518aa0,_0x3555b8,_0x5e0ae7,_0x526f50,_0x23dab1,_0xfa621d),_0x2a4566(_0x518aa0,''+_0x3555b8[_0x15ca26(0x850)],_0x3555b8,_0x5e0ae7,_0x526f50,_0x23dab1,_0xfa621d,_0x36bad8);let _0x2e64ff='',_0x57bacb={'type':_0x15ca26(0x850)};for(;;){const _0x2930bc=await _0x36bad8[_0x15ca26(0x508)]();if(!_0x2930bc)break;_0x2e64ff+=_0x2930bc[_0x15ca26(0x330)],_0x57bacb={'type':_0x15ca26(0x850),'output':_0x2930bc[_0x15ca26(0x330)],'context':_0x5e0ae7['context'],'resultFile':void 0x0,'inputTokens':(_0x5e0ae7[_0x15ca26(0x7a8)]??0x0)+(_0x2930bc['inputTokens']??0x0),'outputTokens':(_0x5e0ae7[_0x15ca26(0x5bb)]??0x0)+(_0x2930bc[_0x15ca26(0x5bb)]??0x0)},yield _0x57bacb;}const _0x20a6be=_0x23dab1['find'](_0x59f075=>_0x59f075['type']===_0x2d5b5c['Answer']);yield{..._0x57bacb,'output':'','internalContext':_0x5e0ae7[_0x15ca26(0x54f)],'resultFile':await _0x20a6be?.['accumulated']?.['file']?.['text']()??void 0x0};const {inputTokens:_0x55257f=0x0,outputTokens:_0x25483e=0x0,context:_0x2677b0=[]}=_0x57bacb;await _0x26d28b[_0x15ca26(0x670)]({'jobType':_0x2313f7[_0x15ca26(0x259)],'type':_0x1bd725[_0x15ca26(0x16d)],'jobId':_0x518aa0,'agentId':_0x1fca8e,'threadId':_0x3555b8[_0x15ca26(0x1f7)],'traceLevel':_0x581e8e[_0x15ca26(0x72c)],'startTime':_0x5b254e,'timestamp':Date[_0x15ca26(0x4cb)](),'blockId':_0x526f50['id'],'status':_0x15ca26(0x561),'output':_0x2e64ff,'prompt':_0x3555b8['prompt'],'agentName':'','history':_0x3555b8[_0x15ca26(0x584)]??[],'instructions':''+(_0x3555b8[_0x15ca26(0x74e)]??''),'ragContext':_0x2677b0,'inputTokens':_0x55257f,'outputTokens':_0x25483e});}async function _0x3f2345(_0x464e86,_0x2e8d3d,_0x110dbc,_0x2f5e38,_0x5001be,_0x3c6c3c){const _0x41a9c3=_0xab329a;if(_0x2e8d3d[_0x41a9c3(0x5f0)]&&_0x2f5e38[_0x41a9c3(0x9a8)]){const _0x58a463=[];for(const _0x247c29 of _0x2e8d3d[_0x41a9c3(0x5f0)])_0x58a463['push'](_0xb91f08(_0x247c29));_0x2f5e38[_0x41a9c3(0x9a8)]['some'](_0x320897=>_0x320897['type']===_0x5395bb['File'])&&await async function(_0x278a20,_0x3a6028,_0x416958,_0x1f0012,_0x9feee4,_0x26a0f1,_0x4c2736){const _0x2e4167=_0x41a9c3;if(0x0===_0x3a6028[_0x2e4167(0x4f0)])return;const _0x3a554e=[];for(const _0x9c9f7 of _0x3a6028){const _0x3306a7=_0x9c9f7[_0x2e4167(0x539)];if(!_0x3306a7[_0x2e4167(0xb20)]('application/pdf'))continue;const _0x579306=await _0x9c9f7[_0x2e4167(0x6c5)](),_0x119e35=Buffer[_0x2e4167(0x61d)](_0x579306)[_0x2e4167(0x340)](_0x2e4167(0x4dc));_0x3a554e[_0x2e4167(0x257)](_0x3306a7+_0x2e4167(0x7c3)+_0x119e35);}if(_0x9feee4[_0x2e4167(0x9a8)])for(const _0x134fef of _0x9feee4[_0x2e4167(0x9a8)]){if(_0x134fef[_0x2e4167(0x539)]!==_0x5395bb[_0x2e4167(0x99b)])continue;const _0x6989d=_0x26a0f1[_0x2e4167(0xb4a)](_0xbf390b=>_0xbf390b['uid']===_0x134fef[_0x2e4167(0xa4b)]);if(_0x6989d){for(const _0x1fa3bd of _0x3a554e)_0x6989d[_0x2e4167(0x539)]===_0x2d5b5c[_0x2e4167(0x52c)]&&await _0x53eef1(_0x278a20,_0x134fef['type'],_0x1fa3bd,_0x416958,_0x1f0012,_0x6989d,_0x26a0f1,_0x4c2736);}}}(_0x464e86,_0x58a463,_0x2e8d3d,_0x110dbc,_0x2f5e38,_0x5001be,_0x3c6c3c),_0x2f5e38[_0x41a9c3(0x9a8)][_0x41a9c3(0x95e)](_0x5eeade=>_0x5eeade[_0x41a9c3(0x539)]===_0x5395bb['Image'])&&await async function(_0xcd897a,_0x52abac,_0x1dc157,_0x3d2477,_0x44b1fb,_0x4a9777,_0x9fe4a1){const _0xe1565=_0x41a9c3;if(0x0===_0x52abac['length'])return;const _0x5d4271=[];for(const _0x1bb124 of _0x52abac){const _0x5a95fe=_0x1bb124[_0xe1565(0x539)];if(!_0x5a95fe[_0xe1565(0xb20)]('image/'))continue;const _0x7c1c0e=await _0x1bb124['arrayBuffer'](),_0x1e0a2d=Buffer[_0xe1565(0x61d)](_0x7c1c0e)['toString']('base64');_0x5d4271[_0xe1565(0x257)](_0x5a95fe+';base64,'+_0x1e0a2d);}if(_0x44b1fb[_0xe1565(0x9a8)])for(const _0x5e059e of _0x44b1fb['links']){if(_0x5e059e[_0xe1565(0x539)]!==_0x5395bb[_0xe1565(0x7b1)])continue;const _0x46197a=_0x4a9777[_0xe1565(0xb4a)](_0x3761a8=>_0x3761a8[_0xe1565(0xa4b)]===_0x5e059e[_0xe1565(0xa4b)]);if(_0x46197a){for(const _0x113da of _0x5d4271)_0x46197a[_0xe1565(0x539)]===_0x2d5b5c[_0xe1565(0x52c)]&&await _0x53eef1(_0xcd897a,_0x5e059e[_0xe1565(0x539)],_0x113da,_0x1dc157,_0x3d2477,_0x46197a,_0x4a9777,_0x9fe4a1);}}}(_0x464e86,_0x58a463,_0x2e8d3d,_0x110dbc,_0x2f5e38,_0x5001be,_0x3c6c3c);}}function _0xb91f08(_0x16ce28){const _0x1a4663=_0xab329a,_0x52574d=Uint8Array[_0x1a4663(0x61d)](Buffer[_0x1a4663(0x61d)](_0x16ce28[_0x1a4663(0xa98)],_0x1a4663(0x4dc))),_0x35fe50=new Blob([_0x52574d],{'type':_0x16ce28[_0x1a4663(0x539)]});return new File([_0x35fe50],_0x16ce28['name'],{'type':_0x16ce28['type']});}function _0x1528c2(_0x1f9e25,_0x373ed9){const _0x3d7f4d=_0xab329a;switch(_0x373ed9['hosting']){case _0x358737[_0x3d7f4d(0x527)]:return _0x3d7f4d(0x3cd);case _0x358737[_0x3d7f4d(0x80c)]:return _0x1f9e25;case _0x358737[_0x3d7f4d(0x6d8)]:default:return _0x373ed9['id'];}}async function _0x5ce0a2(_0x14ca1f,_0x318f6d,_0x4a0940,_0x1567ad,_0x2c6326,_0x4aee56){const _0x1ef085=_0xab329a,_0x415b9d=Date[_0x1ef085(0x4cb)]();var _0x323b5a;if(_0x1567ad['accumulated']||(_0x1567ad[_0x1ef085(0x6c6)]={}),_0x4a0940 instanceof Array?(_0x323b5a=_0x4a0940)[0x0]instanceof Array&&_0x1ef085(0x556)==typeof _0x323b5a[0x0]?.[0x0]?_0x1567ad[_0x1ef085(0x6c6)]['vectors']=_0x4a0940:_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0x730)]=_0x4a0940:_0x1ef085(0x816)==typeof _0x4a0940?_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0xa98)]=_0x4a0940:_0x1567ad['accumulated']['file']=_0x4a0940,_0x1567ad['timesCalled']=_0x1567ad[_0x1ef085(0x4d6)]?_0x1567ad[_0x1ef085(0x4d6)]+0x1:0x1,!(_0x3dca26(_0x1567ad,_0x2c6326[_0x1ef085(0x8c5)])>_0x1567ad['timesCalled'])){if(_0x1ef085(0xb6a)===_0x1567ad['id']){if(!_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0x730)]||!_0x1567ad[_0x1ef085(0x6c6)]['vectors']||!_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0x22c)])throw new Error('Vector\x20database\x20block\x20is\x20missing\x20required\x20data');if(!_0x4aee56[_0x1ef085(0x248)])throw new Error('RAG\x20connector\x20is\x20not\x20available');const _0x5bc3e3=[];for(let _0x4a7b5b=0x0;_0x4a7b5b<_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0x730)][_0x1ef085(0x4f0)];_0x4a7b5b++){const _0x1a653a=_0x1567ad['accumulated'][_0x1ef085(0xa59)][_0x4a7b5b],_0x3db96d=_0x1567ad[_0x1ef085(0x6c6)]['index'][_0x4a7b5b];_0x5bc3e3[_0x1ef085(0x257)]({'content':_0x1a653a,'start':_0x3db96d[_0x1ef085(0x60c)],'length':_0x3db96d[_0x1ef085(0x4f0)]});}const _0x1a02c8=_0x1528c2(_0x14ca1f,_0x2c6326);await _0x4aee56['ragConnector']['ingestFile'](_0x1a02c8,_0x2c6326['id'],_0x1567ad[_0x1ef085(0x6c6)]['file'][_0x1ef085(0x5d0)],_0x5bc3e3);}else{if(!(_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0xa98)]&&_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0x730)]&&_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0xa59)]&&_0x1567ad['accumulated']['file']))throw new Error(_0x1ef085(0x2b1));const _0x489a91=_0x4aee56[_0x1ef085(0x405)][_0x1ef085(0x467)](_0x1567ad['id']);_0x489a91[_0x1ef085(0x6b1)](_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0x22c)][_0x1ef085(0x5d0)],_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0xa98)],_0x1567ad[_0x1ef085(0x6c6)]['index'],_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0xa59)]),await _0x26d28b[_0x1ef085(0x670)]({'jobType':_0x2313f7[_0x1ef085(0x428)],'type':_0xcac52a[_0x1ef085(0xa8c)],'jobId':_0x318f6d,'blockId':_0x1567ad['id'],'traceLevel':_0x581e8e['Debug'],'startTime':_0x415b9d,'timestamp':Date['now'](),'status':'success','databaseName':_0x489a91[_0x1ef085(0xac9)](),'vectorsAdded':_0x1567ad[_0x1ef085(0x6c6)][_0x1ef085(0xa59)]['length'],'filePathName':_0x1567ad[_0x1ef085(0x6c6)]['file'][_0x1ef085(0x5d0)]});}}}async function _0x33178a(_0x53d37,_0x47b658,_0x3b0e82,_0x8e5e24,_0x285954,_0x3d89bb){const _0x4d4afc=_0xab329a,_0x1f286f=Date['now']();let _0x2b77b7=[];if(_0x3b0e82 instanceof Array)for(const _0x2b724e of _0x3b0e82){if(_0x4d4afc(0x816)!=typeof _0x2b724e[_0x4d4afc(0xa98)])throw new Error('Invalid\x20content\x20type');_0x2b77b7=_0x2b77b7['concat'](_0x2d740d(_0x2b724e[_0x4d4afc(0xa98)],_0x8e5e24,_0x2b724e['start'],_0x2b724e[_0x4d4afc(0x4f0)]));}else _0x2b77b7=_0x2d740d(_0x3b0e82,_0x8e5e24);await _0x26d28b[_0x4d4afc(0x670)]({'jobType':_0x2313f7[_0x4d4afc(0x428)],'type':_0xcac52a['WordSplitter'],'jobId':_0x47b658,'traceLevel':_0x581e8e[_0x4d4afc(0x8c3)],'blockId':_0x8e5e24['id'],'startTime':_0x1f286f,'timestamp':Date[_0x4d4afc(0x4cb)](),'status':_0x4d4afc(0x561),'totalChunks':_0x2b77b7[_0x4d4afc(0x4f0)],'averageChunkLength':_0x2b77b7[_0x4d4afc(0x9ba)]((_0x45476b,_0x1f6730)=>_0x45476b+_0x1f6730[_0x4d4afc(0x4f0)],0x0)/_0x2b77b7[_0x4d4afc(0x4f0)]}),await _0x9f559b(_0x53d37,_0x47b658,_0x2b77b7,_0x8e5e24,_0x285954,_0x3d89bb);}function _0x2d740d(_0x1cb117,_0x380129,_0x5f56c4,_0x5b8714){const _0x4761fc=_0xab329a,_0x422877=[],_0x43be60=_0x1cb117[_0x4761fc(0xb12)]('\x20');let _0x513a0e='',_0x192985=-0x1,_0x43c002=0x0,_0x1f6e48=0x0;for(const _0x4b3c4f of _0x43be60){if(_0x513a0e[_0x4761fc(0x4f0)]+_0x4b3c4f[_0x4761fc(0x4f0)]>_0x380129[_0x4761fc(0x9f3)][_0x4761fc(0xa86)]){const _0x1eaddf=_0x513a0e[_0x4761fc(0x4f0)];let _0x63b8da=_0x192985,_0xb5af2a='';for(;_0x63b8da>=0x0&&_0xb5af2a[_0x4761fc(0x4f0)]+_0x43be60[_0x63b8da][_0x4761fc(0x4f0)]<_0x380129[_0x4761fc(0x9f3)][_0x4761fc(0x8e5)];)_0xb5af2a=_0x43be60[_0x63b8da]+'\x20'+_0xb5af2a,_0x63b8da--;let _0x683913=_0x43c002,_0x385ada='';for(;_0x683913<_0x43be60['length']&&_0x385ada[_0x4761fc(0x4f0)]+_0x43be60[_0x683913]['length']<_0x380129[_0x4761fc(0x9f3)]['overlap'];)_0x385ada+=_0x43be60[_0x683913]+'\x20',_0x683913++;_0x513a0e=_0xb5af2a+_0x513a0e+_0x385ada,_0x422877[_0x4761fc(0x257)]({'content':_0x513a0e[_0x4761fc(0x254)](),'start':_0x5f56c4??_0x1f6e48,'length':_0x5b8714??_0x1eaddf}),_0x513a0e='',_0x192985=_0x43c002-0x1,_0x1f6e48+=_0x1eaddf;}_0x513a0e+=_0x4b3c4f+'\x20',_0x43c002++;}if(_0x513a0e[_0x4761fc(0x4f0)]>0x0){const _0x4853a8=_0x513a0e[_0x4761fc(0x4f0)];let _0x5a3259=_0x192985,_0x5231c4='';for(;_0x5a3259>=0x0&&_0x5231c4[_0x4761fc(0x4f0)]+_0x43be60[_0x5a3259][_0x4761fc(0x4f0)]<_0x380129[_0x4761fc(0x9f3)][_0x4761fc(0x8e5)];)_0x5231c4=_0x43be60[_0x5a3259]+'\x20'+_0x5231c4,_0x5a3259--;_0x513a0e=_0x5231c4+_0x513a0e,_0x422877['push']({'content':_0x513a0e['trim'](),'start':_0x5f56c4??_0x1f6e48,'length':_0x5b8714??_0x4853a8});}return _0x422877;}async function _0x9f559b(_0x21bc96,_0x558018,_0x172f5f,_0x585db8,_0x147a4e,_0xe1e22e){const _0x3add50=_0xab329a;for(const _0x414807 of _0x585db8['links']||[]){const _0x1b8a22=_0x147a4e[_0x3add50(0x8c5)][_0x3add50(0xb4a)](_0x4ce8bd=>_0x4ce8bd[_0x3add50(0xa4b)]===_0x414807[_0x3add50(0xa4b)]);if(_0x1b8a22)switch(_0x1b8a22[_0x3add50(0x539)]){case _0x5d88c6[_0x3add50(0x52c)]:_0x414807[_0x3add50(0x539)]===_0x5395bb['Text']&&_0x3add50(0x816)==typeof _0x172f5f&&await _0x4c5246(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);break;case _0x5d88c6['ChunkSplitter']:_0x414807[_0x3add50(0x539)]===_0x5395bb['Text']&&_0x3add50(0x816)==typeof _0x172f5f&&await _0x2d0864(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807['type']===_0x5395bb[_0x3add50(0x502)]&&_0x172f5f instanceof Array&&await _0x2d0864(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);break;case _0x5d88c6[_0x3add50(0x9c1)]:_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x99b)]&&await _0x2b260b(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);break;case _0x5d88c6['Embed']:if(_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x502)]&&_0x172f5f instanceof Array){if(!_0x147a4e[_0x3add50(0xa5c)])throw new Error(_0x3add50(0x9ff));const _0x5be3f2={'type':_0x5d88c6['Model'],'id':_0x147a4e[_0x3add50(0xa5c)],'uid':(0x0,_0x3aba3d['v4'])(),'links':_0x1b8a22[_0x3add50(0x9a8)]};await _0x1d2bd9(_0x21bc96,_0x558018,_0x172f5f,_0x5be3f2,_0x147a4e,_0xe1e22e);}break;case _0x5d88c6[_0x3add50(0x6f4)]:_0x414807[_0x3add50(0x539)]===_0x5395bb['Index']&&_0x172f5f instanceof Array&&await _0x2ecc86(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);break;case _0x5d88c6['GraphDatabase']:_0x414807[_0x3add50(0x539)]===_0x5395bb['Text']&&'string'==typeof _0x172f5f&&await _0x43b82c(_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807['type']===_0x5395bb[_0x3add50(0x502)]&&_0x172f5f instanceof Array&&await _0x43b82c(_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807[_0x3add50(0x539)]===_0x5395bb['Entity']&&_0x172f5f instanceof Set&&await _0x43b82c(_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x7b2)]&&_0x172f5f instanceof Map&&await _0x43b82c(_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x99b)]&&await _0x43b82c(_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);break;case _0x5d88c6[_0x3add50(0x2d6)]:_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x459)]&&_0x3add50(0x816)==typeof _0x172f5f&&await _0x1d2bd9(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807[_0x3add50(0x539)]===_0x5395bb['Index']&&_0x172f5f instanceof Array&&await _0x1d2bd9(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);break;case _0x5d88c6['RelationExtractor']:_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x502)]&&_0x172f5f instanceof Array&&await _0x3c54d6(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x619)]&&_0x172f5f instanceof Set&&await _0x3c54d6(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);break;case _0x5d88c6[_0x3add50(0x369)]:_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x459)]&&'string'==typeof _0x172f5f&&await _0x4fa048(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x502)]&&_0x172f5f instanceof Array&&await _0x4fa048(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);break;case _0x5d88c6['VectorDatabase']:_0x414807[_0x3add50(0x539)]===_0x5395bb['Text']&&_0x3add50(0x816)==typeof _0x172f5f&&await _0x5ce0a2(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807['type']===_0x5395bb[_0x3add50(0x502)]&&_0x172f5f instanceof Array&&await _0x5ce0a2(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807[_0x3add50(0x539)]===_0x5395bb[_0x3add50(0x160)]&&_0x172f5f instanceof Array&&await _0x5ce0a2(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807['type']===_0x5395bb[_0x3add50(0x99b)]&&await _0x5ce0a2(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);break;case _0x5d88c6[_0x3add50(0x74f)]:_0x414807[_0x3add50(0x539)]===_0x5395bb['Text']&&_0x3add50(0x816)==typeof _0x172f5f&&await _0x33178a(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e),_0x414807['type']===_0x5395bb[_0x3add50(0x502)]&&_0x172f5f instanceof Array&&await _0x33178a(_0x21bc96,_0x558018,_0x172f5f,_0x1b8a22,_0x147a4e,_0xe1e22e);}}}function _0x3dca26(_0x2190d4,_0x2fac53){const _0x246acf=_0xab329a;return _0x2fac53[_0x246acf(0x2b3)](_0xc9bb91=>_0xc9bb91[_0x246acf(0x9a8)]?.[_0x246acf(0x95e)](_0x28cae6=>_0x28cae6[_0x246acf(0xa4b)]===_0x2190d4[_0x246acf(0xa4b)]))['length'];}async function _0x2d460f(_0x14bcc8,_0x2d99a1,_0x2de486,_0x4eb98d,_0x3669ae,_0x2b69de,_0x5f2eb9){const _0x110366=_0xab329a;try{let _0x5eb671;switch(_0x3669ae[_0x110366(0x539)]){case _0x5d88c6[_0x110366(0x4d0)]:const _0xe661f8=_0x5f2eb9[_0x110366(0x405)][_0x110366(0x26b)](_0x3669ae['id']);_0x5eb671=await _0xe661f8[_0x110366(0x153)](_0x2de486);break;case _0x5d88c6[_0x110366(0x8e1)]:const _0x310375=_0x5f2eb9[_0x110366(0x405)][_0x110366(0x4e8)](_0x3669ae['id']);_0x5eb671=await _0x310375['get'](_0x2de486);case _0x5d88c6['Upload']:const _0x2e2efa=_0x2de486[_0x110366(0xb12)]('/')[_0x110366(0x4b8)]();if(!_0x2e2efa)throw new Error(_0x110366(0x902));const _0x3950fe=_0x2de486['replace'](_0x2e2efa,''),_0xd6f9e2=Buffer['from'](_0x4eb98d,_0x110366(0x4dc));if(_0x5eb671=new File([_0xd6f9e2],_0x2e2efa),!_0x5f2eb9[_0x110366(0x2bf)])throw new Error(_0x110366(0xb3c));await _0x5f2eb9['objectStoreConnector'][_0x110366(0x668)](_0x5eb671,_0x3950fe);}if(!_0x5eb671)throw new Error(_0x110366(0x795));await _0x9f559b(_0x14bcc8,_0x2d99a1,{'file':_0x5eb671,'pathName':_0x2de486},_0x3669ae,structuredClone(_0x2b69de),_0x5f2eb9);}catch(_0x11f760){console[_0x110366(0x28d)](_0x110366(0x390),_0x11f760);}}async function _0x2c6d28(_0x46acbf,_0x273605,_0x40a92c,_0x5aed4b,_0x45f504,_0x261e6e,_0x3d8296,_0x107bef){const _0x1c9a63=_0xab329a,_0x1b3044=Date['now'](),_0x281445=new Set();if(_0x5aed4b instanceof Array){for(const _0xce205b of _0x5aed4b)await _0x217dc0(_0xce205b[_0x1c9a63(0xa98)],_0x261e6e,_0x281445,_0x107bef[_0x1c9a63(0x545)]);}else await _0x217dc0(_0x5aed4b,_0x261e6e,_0x281445,_0x107bef[_0x1c9a63(0x545)]);await _0x26d28b['trace']({'jobType':_0x2313f7[_0x1c9a63(0xa10)],'type':_0x33c2f4[_0x1c9a63(0x6f4)],'jobId':_0x273605,'threadId':_0x40a92c,'blockId':_0x261e6e['id'],'traceLevel':_0x581e8e[_0x1c9a63(0x8c3)],'startTime':_0x1b3044,'timestamp':Date[_0x1c9a63(0x4cb)](),'status':'success','content':_0x5aed4b,'entitiesExtracted':Array[_0x1c9a63(0x61d)](_0x281445),'totalEntities':_0x281445[_0x1c9a63(0xa86)]}),await _0x1a876c(_0x46acbf,_0x273605,_0x40a92c,_0x281445,_0x45f504,_0x261e6e,_0x3d8296,_0x107bef);}async function _0x217dc0(_0x5db5fe,_0x2866f5,_0x28ac84,_0x394b42){const _0x551ef0=_0xab329a,_0x536ef1=await _0x394b42[_0x551ef0(0x328)](_0x5db5fe,{'ner':_0x2866f5[_0x551ef0(0x9f3)]['ner'],'noun':_0x2866f5[_0x551ef0(0x9f3)][_0x551ef0(0x909)],'propn':_0x2866f5[_0x551ef0(0x9f3)]['propn'],'verb':_0x2866f5[_0x551ef0(0x9f3)]['verb']});for(const _0x403131 of _0x536ef1)_0x28ac84[_0x551ef0(0x232)](_0x403131);}async function _0x220ed2(_0x50dbcb,_0x49abda,_0x298afe,_0x3f11c3,_0x50a107,_0x27caa5,_0x1b288d,_0x46d3f6){const _0x59c2cf=_0xab329a,_0x16f44f=Date[_0x59c2cf(0x4cb)]();if(_0x27caa5[_0x59c2cf(0x6c6)]||(_0x27caa5['accumulated']={}),_0x3f11c3 instanceof Array?(_0x27caa5[_0x59c2cf(0x6c6)][_0x59c2cf(0x20a)]||(_0x27caa5['accumulated'][_0x59c2cf(0x20a)]=[]),_0x27caa5[_0x59c2cf(0x6c6)]['results'][_0x59c2cf(0x257)](..._0x3f11c3)):_0x3f11c3 instanceof Set?_0x27caa5['accumulated'][_0x59c2cf(0x72d)]=_0x3f11c3:_0x27caa5[_0x59c2cf(0x6c6)][_0x59c2cf(0x850)]=_0x3f11c3,_0x27caa5[_0x59c2cf(0x4d6)]=_0x27caa5[_0x59c2cf(0x4d6)]?_0x27caa5[_0x59c2cf(0x4d6)]+0x1:0x1,_0x463c05(_0x27caa5,_0x1b288d['retrieveBlocks'])>_0x27caa5[_0x59c2cf(0x4d6)])return;if(!_0x27caa5[_0x59c2cf(0x6c6)][_0x59c2cf(0x850)]&&!_0x27caa5[_0x59c2cf(0x6c6)]['results']||!_0x27caa5[_0x59c2cf(0x6c6)][_0x59c2cf(0x72d)])throw new Error(_0x59c2cf(0x92d));const _0x198fec=_0x46d3f6[_0x59c2cf(0x405)][_0x59c2cf(0x987)](_0x27caa5['id'])[_0x59c2cf(0x860)](Array[_0x59c2cf(0x61d)](_0x27caa5[_0x59c2cf(0x6c6)][_0x59c2cf(0x72d)]),_0x27caa5[_0x59c2cf(0x9f3)]['maxDepth'],_0x27caa5[_0x59c2cf(0x9f3)][_0x59c2cf(0x80d)]);let _0x21cf83=[];for(const _0x538bcb in _0x198fec){const _0x56b992=_0x198fec[_0x538bcb];for(const _0x37b440 of _0x56b992){let _0xaa015e=0x0;if(_0x27caa5['accumulated'][_0x59c2cf(0x850)]&&(_0xaa015e=await _0x46d3f6[_0x59c2cf(0x545)]['getSimilarity'](_0x27caa5['accumulated'][_0x59c2cf(0x850)],_0x37b440)),_0x27caa5[_0x59c2cf(0x6c6)][_0x59c2cf(0x20a)]){for(const _0x5a1995 of _0x27caa5[_0x59c2cf(0x6c6)][_0x59c2cf(0x20a)])_0xaa015e=Math[_0x59c2cf(0x76d)](_0xaa015e,await _0x46d3f6[_0x59c2cf(0x545)][_0x59c2cf(0x49b)](_0x5a1995['content'],_0x37b440));}_0xaa015e<_0x27caa5['attributes']['minRelevance']||_0x21cf83[_0x59c2cf(0x257)]({'content':_0x37b440,'relevance':_0xaa015e,'pathName':_0x538bcb});}}_0x21cf83=_0x21cf83[_0x59c2cf(0x32a)]((_0x596297,_0xdb52b2)=>_0xdb52b2[_0x59c2cf(0x8ed)]-_0x596297[_0x59c2cf(0x8ed)])['slice'](0x0,_0x27caa5[_0x59c2cf(0x9f3)]['topK']),await _0x26d28b[_0x59c2cf(0x670)]({'jobType':_0x2313f7[_0x59c2cf(0xa10)],'type':_0x33c2f4['GraphSearch'],'jobId':_0x49abda,'threadId':_0x298afe,'blockId':_0x27caa5['id'],'traceLevel':_0x581e8e[_0x59c2cf(0x8c3)],'timestamp':Date[_0x59c2cf(0x4cb)](),'startTime':_0x16f44f,'status':_0x59c2cf(0x561),'content':_0x3f11c3,'topResults':_0x21cf83,'numResults':_0x21cf83[_0x59c2cf(0x4f0)]}),await _0x1a876c(_0x50dbcb,_0x49abda,_0x298afe,_0x21cf83,_0x50a107,_0x27caa5,_0x1b288d,_0x46d3f6);}async function _0x2d0acd(_0x6ee78d,_0x547967,_0x1b6a77,_0x2b0902,_0x35e1c9,_0x590c82,_0x190bbc,_0x2814c0){const _0x28a83b=_0xab329a,_0xe77c87=_0x2814c0[_0x28a83b(0x2c8)][_0x28a83b(0xb4a)](_0x1208e4=>_0x1208e4['id']===_0x590c82['id']);if(!_0xe77c87)throw new Error(_0x28a83b(0x523));let _0x17d762='';switch(_0x17d762=_0x2b0902 instanceof Array?_0x2b0902[_0x28a83b(0x591)](_0x5026c3=>_0x5026c3['content'])['join'](',\x20'):_0x2b0902,_0xe77c87[_0x28a83b(0x4f4)]){case _0x1d89a1[_0x28a83b(0x6bb)][_0x28a83b(0x459)]:await async function(_0x231d01,_0xe47621,_0x2c64aa,_0x33b77d,_0x41d915,_0x450586,_0x50c99d,_0x1781e2,_0xfd9ec1){const _0x1c89a7=_0x28a83b,_0x34af58=Date[_0x1c89a7(0x4cb)](),_0x44bb89=await fetch(_0x5d8dc2[_0x1c89a7(0x9a4)]+_0x1c89a7(0x3b2),{'method':_0x1c89a7(0xa0f),'headers':{'Content-Type':_0x1c89a7(0x91c),'x-vendor-id':_0x231d01},'body':JSON[_0x1c89a7(0x56e)]({'messages':[{'role':'user','content':_0x33b77d}],'model':_0x450586['id']})}),_0x3e5842=(await _0x44bb89[_0x1c89a7(0xa7b)]())[_0x1c89a7(0x557)][0x0]['message'][_0x1c89a7(0xa98)];await _0x26d28b[_0x1c89a7(0x670)]({'jobType':_0x2313f7[_0x1c89a7(0xa10)],'type':_0x33c2f4[_0x1c89a7(0x9bb)],'jobId':_0xe47621,'threadId':_0x2c64aa,'blockId':_0x50c99d['id'],'traceLevel':_0x581e8e['Debug'],'startTime':_0x34af58,'timestamp':Date[_0x1c89a7(0x4cb)](),'status':'success','modelName':_0x450586['id'],'content':_0x33b77d,'newPrompt':_0x3e5842,'inputType':_0x450586[_0x1c89a7(0x247)],'outputType':_0x450586[_0x1c89a7(0x4f4)]}),await _0x1a876c(_0x231d01,_0xe47621,_0x2c64aa,_0x3e5842,_0x41d915,_0x50c99d,_0x1781e2,_0xfd9ec1);}(_0x6ee78d,_0x547967,_0x1b6a77,_0x17d762,_0x35e1c9,_0xe77c87,_0x590c82,_0x190bbc,_0x2814c0);break;case _0x1d89a1[_0x28a83b(0x6bb)][_0x28a83b(0x160)]:await async function(_0x1d4aca,_0x1ceae7,_0x510842,_0x31403b,_0x40d60b,_0x1cb85c,_0x5bbc19,_0x24f093,_0x3c4134){const _0x29a73e=_0x28a83b,_0x3e0d83=Date['now'](),_0x39f856=await fetch(_0x5d8dc2[_0x29a73e(0x9a4)]+_0x29a73e(0x62a),{'method':_0x29a73e(0xa0f),'headers':{'Content-Type':_0x29a73e(0x91c),'x-vendor-id':_0x1d4aca},'body':JSON[_0x29a73e(0x56e)]({'input':_0x31403b,'model':_0x1cb85c['id']})}),_0xc51f39=(await _0x39f856[_0x29a73e(0xa7b)]())[_0x29a73e(0x62e)][0x0][_0x29a73e(0xb08)];await _0x26d28b['trace']({'jobType':_0x2313f7[_0x29a73e(0xa10)],'type':_0x33c2f4['ModelVector'],'jobId':_0x1ceae7,'threadId':_0x510842,'blockId':_0x5bbc19['id'],'traceLevel':_0x581e8e[_0x29a73e(0x8c3)],'startTime':_0x3e0d83,'timestamp':Date[_0x29a73e(0x4cb)](),'status':_0x29a73e(0x561),'modelName':_0x1cb85c['id'],'content':_0x31403b,'totalVectors':_0xc51f39[_0x29a73e(0x4f0)]}),await _0x1a876c(_0x1d4aca,_0x1ceae7,_0x510842,_0xc51f39,_0x40d60b,_0x5bbc19,_0x24f093,_0x3c4134);}(_0x6ee78d,_0x547967,_0x1b6a77,_0x17d762,_0x35e1c9,_0xe77c87,_0x590c82,_0x190bbc,_0x2814c0);}}async function _0x2fd960(_0x5de62a,_0x49b7df,_0x279811,_0x540d7f,_0x144050,_0xdc027f,_0x5b3d1e,_0x43e1ae){const _0x462dcb=_0xab329a,_0x1fa560=Date[_0x462dcb(0x4cb)]();if(_0xdc027f[_0x462dcb(0x6c6)]||(_0xdc027f[_0x462dcb(0x6c6)]={}),_0x540d7f instanceof Array?(_0xdc027f[_0x462dcb(0x6c6)]['results']||(_0xdc027f['accumulated'][_0x462dcb(0x20a)]=[]),_0xdc027f['accumulated'][_0x462dcb(0x20a)]['push'](..._0x540d7f)):_0xdc027f[_0x462dcb(0x6c6)][_0x462dcb(0x850)]=_0x540d7f,_0xdc027f[_0x462dcb(0x4d6)]=_0xdc027f[_0x462dcb(0x4d6)]?_0xdc027f[_0x462dcb(0x4d6)]+0x1:0x1,_0x463c05(_0xdc027f,_0x5b3d1e[_0x462dcb(0xb58)])>_0xdc027f[_0x462dcb(0x4d6)])return;if(!_0xdc027f['accumulated'][_0x462dcb(0x850)]||!_0xdc027f[_0x462dcb(0x6c6)][_0x462dcb(0x20a)])throw new Error(_0x462dcb(0x5ac));for(const _0x10e643 of _0xdc027f[_0x462dcb(0x6c6)][_0x462dcb(0x20a)])_0x10e643[_0x462dcb(0x8ed)]=await _0x43e1ae[_0x462dcb(0x545)]['getSimilarity'](_0xdc027f[_0x462dcb(0x6c6)][_0x462dcb(0x850)],_0x10e643[_0x462dcb(0xa98)]);const _0x316134=_0xdc027f[_0x462dcb(0x6c6)][_0x462dcb(0x20a)][_0x462dcb(0x2b3)](_0x108d0b=>_0x108d0b[_0x462dcb(0x8ed)]>_0xdc027f['attributes'][_0x462dcb(0x60a)])['sort']((_0x45d603,_0xc65945)=>_0xc65945[_0x462dcb(0x8ed)]-_0x45d603['relevance'])[_0x462dcb(0x291)](0x0,_0xdc027f[_0x462dcb(0x9f3)][_0x462dcb(0x1ee)]);await _0x26d28b[_0x462dcb(0x670)]({'jobType':_0x2313f7[_0x462dcb(0xa10)],'type':_0x33c2f4[_0x462dcb(0x181)],'jobId':_0x49b7df,'threadId':_0x279811,'blockId':_0xdc027f['id'],'traceLevel':_0x581e8e[_0x462dcb(0x8c3)],'startTime':_0x1fa560,'timestamp':Date[_0x462dcb(0x4cb)](),'status':_0x462dcb(0x561),'inputResults':_0xdc027f[_0x462dcb(0x6c6)][_0x462dcb(0x20a)],'rerankedResults':_0x316134}),await _0x1a876c(_0x5de62a,_0x49b7df,_0x279811,_0x316134,_0x144050,_0xdc027f,_0x5b3d1e,_0x43e1ae);}async function _0x47f64b(_0x1a9804,_0x397018,_0x1dd8eb,_0x1b3014,_0x5ea093,_0x489ed1,_0x4b184e,_0xa15c1a){const _0x4f89eb=_0xab329a,_0x3cc06e=Date[_0x4f89eb(0x4cb)]();if(_0x489ed1['accumulated']||(_0x489ed1[_0x4f89eb(0x6c6)]={}),_0x1b3014 instanceof Array?_0x489ed1[_0x4f89eb(0x6c6)]['vector']=_0x1b3014:_0x489ed1[_0x4f89eb(0x6c6)][_0x4f89eb(0xa98)]=_0x1b3014,_0x489ed1[_0x4f89eb(0x4d6)]=_0x489ed1[_0x4f89eb(0x4d6)]?_0x489ed1[_0x4f89eb(0x4d6)]+0x1:0x1,!(_0x463c05(_0x489ed1,_0x4b184e[_0x4f89eb(0xb58)])>_0x489ed1['timesCalled'])){if(_0x4f89eb(0xb6a)===_0x489ed1['id']){if(!_0x489ed1[_0x4f89eb(0x6c6)][_0x4f89eb(0x978)])throw new Error(_0x4f89eb(0x2b1));if(!_0xa15c1a['ragConnector'])throw new Error(_0x4f89eb(0x700));const _0x1b04f4=_0x1528c2(_0x1a9804,_0x4b184e);let _0x485b26=await _0xa15c1a['ragConnector']?.[_0x4f89eb(0x2d3)](_0x1b04f4,_0x4b184e['id'],_0x489ed1[_0x4f89eb(0x6c6)][_0x4f89eb(0x978)],_0x489ed1['attributes'][_0x4f89eb(0x1ee)]);_0x485b26=_0x485b26[_0x4f89eb(0x2b3)](_0x416665=>_0x416665[_0x4f89eb(0x8ed)]>_0x489ed1[_0x4f89eb(0x9f3)]['minRelevance'])||[];const _0x126482=[];for(const _0x696a6d of _0x485b26){if(!_0xa15c1a[_0x4f89eb(0x2bf)])throw new Error(_0x4f89eb(0x4ff));if(void 0x0===_0x696a6d[_0x4f89eb(0x60c)]||void 0x0===_0x696a6d[_0x4f89eb(0x4f0)])throw new Error(_0x4f89eb(0x965));const _0x33c777=await _0xa15c1a[_0x4f89eb(0x2bf)][_0x4f89eb(0x153)](_0x696a6d['pathName']);let _0x2e8b8a='';if(_0x33c777['type']['startsWith'](_0x4f89eb(0x542))||_0x238b50(_0x33c777[_0x4f89eb(0x432)],_0xde2220))_0x2e8b8a=await _0x33c777[_0x4f89eb(0x66d)]();else{if(!_0xa15c1a[_0x4f89eb(0xa8f)]['supports'](_0x33c777))throw new Error(_0x4f89eb(0xabc)+_0x33c777['type']+_0x4f89eb(0x1ac)+_0x33c777[_0x4f89eb(0x432)]);_0x2e8b8a=await _0xa15c1a[_0x4f89eb(0xa8f)]['parse'](_0x33c777);}_0x126482[_0x4f89eb(0x257)]({'pathName':_0x696a6d[_0x4f89eb(0x5d0)],'content':_0x2e8b8a['substring'](_0x696a6d[_0x4f89eb(0x60c)],_0x696a6d[_0x4f89eb(0x60c)]+_0x696a6d[_0x4f89eb(0x4f0)]),'relevance':_0x696a6d['relevance']});}await _0x1a876c(_0x1a9804,_0x397018,_0x1dd8eb,_0x126482,_0x5ea093,_0x489ed1,_0x4b184e,_0xa15c1a);}else{if(!_0x489ed1[_0x4f89eb(0x6c6)]['vector']||!_0x489ed1['accumulated'][_0x4f89eb(0xa98)])throw new Error(_0x4f89eb(0x2b1));const _0x1a81a0=await _0xa15c1a[_0x4f89eb(0x545)][_0x4f89eb(0x328)](_0x489ed1[_0x4f89eb(0x6c6)][_0x4f89eb(0xa98)],{'ner':!0x1,'noun':!0x0,'propn':!0x1,'verb':!0x1}),_0x427c2f=_0xa15c1a[_0x4f89eb(0x405)][_0x4f89eb(0x467)](_0x489ed1['id'])[_0x4f89eb(0x9a7)](_0x1a81a0,_0x489ed1[_0x4f89eb(0x6c6)][_0x4f89eb(0x978)],_0x489ed1[_0x4f89eb(0x9f3)][_0x4f89eb(0x1ee)],_0x489ed1['attributes']['minRelevance'],_0x489ed1['attributes'][_0x4f89eb(0x80d)]);await _0x26d28b[_0x4f89eb(0x670)]({'jobType':_0x2313f7[_0x4f89eb(0xa10)],'type':_0x33c2f4[_0x4f89eb(0x53b)],'jobId':_0x397018,'threadId':_0x1dd8eb,'blockId':_0x489ed1['id'],'traceLevel':_0x581e8e[_0x4f89eb(0x8c3)],'startTime':_0x3cc06e,'timestamp':Date[_0x4f89eb(0x4cb)](),'status':_0x4f89eb(0x561),'topResults':_0x427c2f,'numResults':_0x427c2f[_0x4f89eb(0x4f0)]}),await _0x1a876c(_0x1a9804,_0x397018,_0x1dd8eb,_0x427c2f,_0x5ea093,_0x489ed1,_0x4b184e,_0xa15c1a);}}}async function _0x1a876c(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x3beea5,_0x577b6a,_0x33fff1){const _0x362e8f=_0xab329a;for(const _0x5e93cc of _0x3beea5[_0x362e8f(0x9a8)]||[]){const _0x37b5a0=_0x577b6a[_0x362e8f(0xb58)]['find'](_0x119a8d=>_0x119a8d['uid']===_0x5e93cc[_0x362e8f(0xa4b)]);if(_0x37b5a0)switch(_0x37b5a0[_0x362e8f(0x539)]){case _0x5d88c6[_0x362e8f(0x82a)]:_0x5e93cc['type']===_0x5395bb[_0x362e8f(0x8ff)]&&_0x12569a instanceof Array&&_0x321fa2[_0x362e8f(0x3c0)][_0x362e8f(0x257)](..._0x12569a);break;case _0x5d88c6[_0x362e8f(0x4c5)]:if(_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb['Text']&&_0x362e8f(0x816)==typeof _0x12569a){if(!_0x577b6a[_0x362e8f(0xa5c)])throw new Error(_0x362e8f(0x9ff));const _0x43e583={'type':_0x5d88c6[_0x362e8f(0x2d6)],'id':_0x577b6a[_0x362e8f(0xa5c)],'uid':(0x0,_0x3aba3d['v4'])(),'links':_0x37b5a0[_0x362e8f(0x9a8)]};await _0x2d0acd(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x43e583,_0x577b6a,_0x33fff1);}break;case _0x5d88c6['EntityExtractor']:_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb['Text']&&_0x362e8f(0x816)==typeof _0x12569a&&await _0x2c6d28(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1),_0x5e93cc['type']===_0x5395bb['Search']&&_0x12569a instanceof Array&&await _0x2c6d28(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1);break;case _0x5d88c6[_0x362e8f(0x810)]:_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb[_0x362e8f(0x459)]&&_0x362e8f(0x816)==typeof _0x12569a&&await _0x220ed2(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1),_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb[_0x362e8f(0x8ff)]&&_0x12569a instanceof Array&&await _0x220ed2(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1),_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb[_0x362e8f(0x619)]&&_0x12569a instanceof Set&&await _0x220ed2(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1);break;case _0x5d88c6[_0x362e8f(0x2d6)]:_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb[_0x362e8f(0x459)]&&'string'==typeof _0x12569a&&await _0x2d0acd(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1),_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb[_0x362e8f(0x8ff)]&&_0x12569a instanceof Array&&await _0x2d0acd(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1);break;case _0x5d88c6['Reranker']:_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb['Text']&&_0x362e8f(0x816)==typeof _0x12569a&&await _0x2fd960(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1),_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb[_0x362e8f(0x8ff)]&&_0x12569a instanceof Array&&await _0x2fd960(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1);break;case _0x5d88c6[_0x362e8f(0xa8c)]:_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb[_0x362e8f(0x459)]&&_0x362e8f(0x816)==typeof _0x12569a&&await _0x47f64b(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1),_0x5e93cc[_0x362e8f(0x539)]===_0x5395bb[_0x362e8f(0x160)]&&_0x12569a instanceof Array&&await _0x47f64b(_0x533c1c,_0x34bd91,_0x316609,_0x12569a,_0x321fa2,_0x37b5a0,_0x577b6a,_0x33fff1);}}}function _0x463c05(_0x6fda10,_0x4671dc){const _0xc2cef6=_0xab329a;return _0x4671dc[_0xc2cef6(0x2b3)](_0x125774=>_0x125774[_0xc2cef6(0x9a8)]?.[_0xc2cef6(0x95e)](_0x67b92c=>_0x67b92c[_0xc2cef6(0xa4b)]===_0x6fda10[_0xc2cef6(0xa4b)]))[_0xc2cef6(0x4f0)];}async function _0x44d38c(_0x3f40fa,_0xad893d,_0x225b73,_0x54e8d0,_0x4a17aa,_0x1a0921,_0x56ab2b){const _0x4190ee=_0xab329a,_0x4770fd={'type':_0x4190ee(0x850),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{let _0x5cbe63;await _0x1a876c(_0x3f40fa,_0xad893d,_0x225b73,_0x54e8d0,_0x4770fd,_0x4a17aa,structuredClone(_0x1a0921),_0x56ab2b),_0x4770fd[_0x4190ee(0x3c0)]['reduce']((_0x180ce5,_0x56b77f)=>_0x180ce5+_0x56b77f['content'][_0x4190ee(0x4f0)],0x0)>_0x39d57b&&(_0x5cbe63=Math['floor'](_0x39d57b/_0x4770fd['context'][_0x4190ee(0x4f0)])),_0x4770fd[_0x4190ee(0x330)]=_0x4190ee(0x809)+_0x4770fd[_0x4190ee(0x3c0)][_0x4190ee(0x591)](_0x26184f=>_0x4190ee(0x32d)+_0x26184f[_0x4190ee(0x5d0)]+':\x20'+_0x26184f[_0x4190ee(0xa98)][_0x4190ee(0x913)](0x0,_0x5cbe63))[_0x4190ee(0xa75)]('\x0a');}catch(_0x1add3e){console[_0x4190ee(0x28d)](_0x4190ee(0xa56),_0x1add3e);}return _0x4770fd;}class _0x411897 extends _0x3a8156{['contentMediator'];[_0xab329a(0x794)];[_0xab329a(0x956)];[_0xab329a(0x2bf)];[_0xab329a(0xa8f)];['fileConnector'];['nlpLibraryConnector'];[_0xab329a(0x826)];[_0xab329a(0x992)];[_0xab329a(0x72a)];[_0xab329a(0x288)];[_0xab329a(0x95a)];[_0xab329a(0x197)]=new Map();[_0xab329a(0x2c8)]=_0x63c5ed;[_0xab329a(0xa82)];[_0xab329a(0x679)]=0x0;[_0xab329a(0x643)]=0x0;[_0xab329a(0xab8)]=!0x1;constructor(_0xbdbc51,_0xa2b833,_0x48227e,_0x159c18,_0x3e1ae7,_0x3d1dd5,_0x1d5bfa,_0x4de548,_0x25bcd8,_0x1ed732,_0x57f7c7,_0xd96b2e,_0x5db334,_0x3af395,_0x471fa6){const _0x334ead=_0xab329a;super(_0xbdbc51,_0xa2b833,_0x48227e),this[_0x334ead(0x405)]=_0x159c18,this[_0x334ead(0x794)]=_0x3e1ae7,this[_0x334ead(0x956)]=_0x3d1dd5,this[_0x334ead(0x2bf)]=_0x1d5bfa,this[_0x334ead(0xa8f)]=_0x4de548,this['fileConnector']=_0x25bcd8,this[_0x334ead(0x545)]=_0x1ed732,this[_0x334ead(0x826)]=_0x57f7c7,this[_0x334ead(0x992)]=_0xd96b2e,this[_0x334ead(0x72a)]=_0x5db334,this['ragConnectors']=_0x3af395,this['openAIKey']=_0x471fa6;}async['destroy'](){const _0x3c9575=_0xab329a;for(const _0x5b01c6 of this[_0x3c9575(0x794)])await _0x5b01c6['close']();this[_0x3c9575(0x197)][_0x3c9575(0xad2)](_0x15be51=>_0x15be51[_0x3c9575(0x3c8)](this['label'])),this['debounceStats']&&(clearTimeout(this[_0x3c9575(0xa82)]),delete this[_0x3c9575(0xa82)]),super[_0x3c9575(0x5f3)]();}async['open'](_0x3a6531=!0x1){const _0x149bba=_0xab329a;if(this[_0x149bba(0xab8)])super[_0x149bba(0x996)]();else{_0x542377['forceLog'](_0x149bba(0x771),this[_0x149bba(0x4b1)]);try{for(const _0x170e13 of this[_0x149bba(0x794)])await _0x170e13[_0x149bba(0x7db)](this[_0x149bba(0x4b1)],this[_0x149bba(0x2c8)]);}catch(_0xd9c55e){return this['open'](_0x3a6531);}this['isOpened']=!0x0,this[_0x149bba(0x8e9)](),super[_0x149bba(0x996)](),_0x542377[_0x149bba(0x48f)](_0x149bba(0x19e),this[_0x149bba(0x4b1)]);}}[_0xab329a(0x669)](){const _0x123842=_0xab329a;this['prompts']=0x0,this[_0x123842(0x643)]=0x0,this['sendStats'](),super['reset']();}[_0xab329a(0x559)](){const _0x378698=_0xab329a;return this[_0x378698(0x8e9)](),this['getCoresFromCapacityReport']();}[_0xab329a(0x427)](_0x546758,_0x56652e,_0x4485c1){const _0x890b1e=_0xab329a,{outputTokens:_0xbd2470=0x0,output:_0x2de3b6=''}=_0x546758,_0x5544e2=_0xbd2470/((_0x4485c1-_0x56652e)/0x3e8);this[_0x890b1e(0x679)]+=0x1,this[_0x890b1e(0x643)]+=_0xbd2470,this['logServiceEvent'](_0x5544e2,_0xbd2470),this[_0x890b1e(0x8e9)]();}[_0xab329a(0xb13)](_0xd0f318,_0x409f11){const _0x1e1627=_0xab329a;return _0xd0f318[_0x1e1627(0x330)]=_0xd0f318[_0x1e1627(0x330)]??'',{'type':_0x1e1627(0x850),'output':'string'==typeof _0xd0f318['output']&&_0x1e1627(0x816)==typeof _0x409f11[_0x1e1627(0x330)]?_0xd0f318[_0x1e1627(0x330)]+_0x409f11[_0x1e1627(0x330)]:_0x409f11[_0x1e1627(0x330)],'outputTokens':_0x409f11[_0x1e1627(0x5bb)]??_0xd0f318[_0x1e1627(0x5bb)],'inputTokens':_0x409f11[_0x1e1627(0x7a8)]??_0xd0f318[_0x1e1627(0x7a8)]};}async[_0xab329a(0x461)](_0x2e71f8,_0x16a526){const _0x193826=_0xab329a;if(_0x193826(0x850)===_0x16a526[_0x193826(0x539)]){const _0x2d00fd=await _0x2c455e['getWorkflow'](_0x16a526['vendorId'],_0x16a526[_0x193826(0x71a)]),_0x4f94f4=_0x2d00fd[_0x193826(0x2be)][_0x193826(0xb4a)](_0x4807d6=>_0x4807d6[_0x193826(0x539)]===_0x2d5b5c[_0x193826(0x642)]||_0x4807d6['type']===_0x2d5b5c[_0x193826(0x7d9)]);return await _0x4caeaf(_0x16a526[_0x193826(0x166)]??_0x2e71f8,_0x16a526,_0x4f94f4,_0x2d00fd[_0x193826(0x2be)],{'documentParserConnector':this[_0x193826(0xa8f)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x193826(0x545)],'generativeAIWorkerConnectors':this[_0x193826(0x794)],'models':Array[_0x193826(0x61d)](this[_0x193826(0x2c8)][_0x193826(0xb40)]()),'contentMediator':this[_0x193826(0x405)],'searchConnector':this[_0x193826(0x826)],'aiSearchConnector':this[_0x193826(0x992)],'queryFileConnector':this[_0x193826(0x72a)]});}if(_0x193826(0x419)===_0x16a526[_0x193826(0x539)])return await _0x1f1982(_0x16a526,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x193826(0xa4c)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x193826(0x794)],'models':Array['from'](this[_0x193826(0x2c8)][_0x193826(0xb40)]()),'contentMediator':this[_0x193826(0x405)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x193826(0x992)],'queryFileConnector':this['queryFileConnector']});if(_0x193826(0x802)===_0x16a526[_0x193826(0x539)])return await _0x596bd9(_0x16a526[_0x193826(0x166)]??_0x2e71f8,_0x16a526,{'documentParserConnector':this[_0x193826(0xa8f)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x193826(0x545)],'generativeAIWorkerConnectors':this[_0x193826(0x794)],'models':Array[_0x193826(0x61d)](this[_0x193826(0x2c8)]['values']()),'contentMediator':this[_0x193826(0x405)],'searchConnector':this[_0x193826(0x826)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x193826(0x72a)]});if('rate'===_0x16a526[_0x193826(0x539)])return await _0x26d28b[_0x193826(0x670)]({'jobType':_0x2313f7[_0x193826(0x430)],'type':_0xfa022a[_0x193826(0x786)],'jobId':_0x16a526[_0x193826(0x166)],'threadId':_0x16a526[_0x193826(0x1f7)],'traceLevel':_0x581e8e[_0x193826(0x72c)],'startTime':Date[_0x193826(0x4cb)](),'timestamp':Date[_0x193826(0x4cb)](),'status':_0x193826(0x561),'rating':_0x16a526['rating'],'feedback':_0x16a526[_0x193826(0x87c)]}),{'type':_0x193826(0x370),'status':_0x1d89a1[_0x193826(0x98c)][_0x193826(0x7ef)]};if(_0x193826(0x8c4)===_0x16a526[_0x193826(0x539)])return await _0x20cc6a(_0x16a526,{'documentParserConnector':this[_0x193826(0xa8f)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x193826(0x545)],'generativeAIWorkerConnectors':this[_0x193826(0x794)],'models':Array[_0x193826(0x61d)](this[_0x193826(0x2c8)][_0x193826(0xb40)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x193826(0x826)],'aiSearchConnector':this[_0x193826(0x992)],'queryFileConnector':this['queryFileConnector']});if('speech-create'===_0x16a526[_0x193826(0x539)]){const _0x249fd5=_0x63c5ed[_0x193826(0x153)](_0x16a526['model']);if(!_0x249fd5)throw new Error(_0x193826(0x8ad));const _0xb37e2f=this[_0x193826(0x956)][_0x193826(0xb4a)](_0x4db975=>_0x4db975[_0x193826(0x8b5)]()===_0x249fd5[_0x193826(0x145)]);if(!_0xb37e2f)throw new Error(_0x193826(0x1c4));return{'type':'speech-create','audio':await _0xb37e2f[_0x193826(0xa06)](_0x16a526[_0x193826(0x968)],_0x16a526[_0x193826(0x66d)],_0x16a526[_0x193826(0x838)],_0x16a526[_0x193826(0x74e)])};}if(_0x193826(0x7c8)===_0x16a526[_0x193826(0x539)]){const _0x360c76=await _0x2c455e[_0x193826(0x80a)](_0x16a526['vendorId'],_0x16a526[_0x193826(0x71a)]),_0xeb1e79=_0x360c76[_0x193826(0x2be)]['find'](_0x1bcb46=>_0x1bcb46['type']===_0x2d5b5c[_0x193826(0x7d9)]),_0x3bab00=_0xeb1e79[_0x193826(0x9a8)]?.[_0x193826(0xb4a)](_0x3f5ad1=>_0x3f5ad1[_0x193826(0x539)]===_0x5395bb[_0x193826(0x585)]),_0x137b9d=_0x360c76[_0x193826(0x2be)][_0x193826(0xb4a)](_0x3172b4=>_0x3172b4[_0x193826(0x539)]===_0x2d5b5c[_0x193826(0x52c)]&&_0x3172b4['uid']===_0x3bab00[_0x193826(0xa4b)]),_0x12fec7=_0x63c5ed['get'](_0x137b9d['modelId']),_0x2f1645=_0x360c76[_0x193826(0x2be)][_0x193826(0x2b3)](_0x5b4ca5=>_0x5b4ca5[_0x193826(0x9a8)]?.[_0x193826(0x95e)](_0x118b72=>_0x118b72['type']===_0x5395bb[_0x193826(0x2a2)]&&_0x118b72[_0x193826(0xa4b)]===_0x137b9d['uid']))[_0x193826(0x264)](_0x2cc764=>_0x12ba8d(_0x2cc764,_0x360c76['blocks'])),_0x189d01=_0x360c76[_0x193826(0x2be)][_0x193826(0xb4a)](_0x27231a=>_0x27231a['type']===_0x2d5b5c[_0x193826(0x187)]),_0x1c1050=_0x360c76['blocks'][_0x193826(0xb4a)](_0x244feb=>_0x244feb[_0x193826(0x539)]===_0x2d5b5c[_0x193826(0x52c)]&&_0x244feb[_0x193826(0x9a8)]?.['some'](_0xbe9721=>_0xbe9721[_0x193826(0x539)]===_0x5395bb[_0x193826(0x585)]&&_0xbe9721['uid']===_0x189d01['uid'])),_0x25edc5=_0x360c76['blocks'][_0x193826(0xb4a)](_0x34969e=>_0x34969e[_0x193826(0x539)]===_0x2d5b5c[_0x193826(0x52c)]&&_0x34969e['uid']===_0x1c1050[_0x193826(0xa4b)]),_0x242a63=_0x63c5ed[_0x193826(0x153)](_0x25edc5['modelId']);return{'type':_0x193826(0x7c8),'apiKey':this[_0x193826(0x95a)],'sessionType':_0x12fec7[_0x193826(0x40c)]===_0x1d89a1[_0x193826(0x906)][_0x193826(0x81b)]?'speech-to-speech':'chained','firstAgent':{'modelId':_0x137b9d['modelId'],'taskType':_0x12fec7['taskType'],'instructions':_0x137b9d['instructions'],'temperature':_0x137b9d[_0x193826(0x853)],'maxTokens':_0x137b9d[_0x193826(0x572)],'initialPrompt':_0x360c76[_0x193826(0xab6)],'tools':_0x2f1645[_0x193826(0x591)](_0x408a7a=>({..._0x408a7a,'name':this[_0x193826(0x7f3)](_0x408a7a),'description':this[_0x193826(0x6f9)](_0x408a7a),'parameters':this[_0x193826(0x888)](_0x408a7a)}))},'lastAgent':{'modelId':_0x25edc5['modelId'],'taskType':_0x242a63[_0x193826(0x40c)],'instructions':_0x25edc5[_0x193826(0x74e)],'initialPrompt':_0x360c76['initialPrompt']}};}if('file-delete'===_0x16a526[_0x193826(0x539)]){const {vendorId:_0x2a013e,collectionId:_0x22891a,fileId:_0x7cb8e9}=_0x16a526,_0x26cbe5=await _0x2c455e[_0x193826(0x6e2)](_0x2a013e,_0x22891a),_0x161a2f=this[_0x193826(0x288)]?.['get'](_0x26cbe5['storageType']);if(!_0x161a2f)throw new Error(_0x193826(0x2e4));const _0x3443e5=_0x1528c2(_0x2a013e,_0x26cbe5);if(_0x26cbe5[_0x193826(0x5cd)]===_0x1d89a1[_0x193826(0x146)][_0x193826(0x501)])try{await _0x161a2f[_0x193826(0x63a)](_0x3443e5,_0x22891a,'/'+_0x2a013e+'/'+_0x22891a+'/'+_0x7cb8e9),await this[_0x193826(0x2bf)][_0x193826(0x7b0)]('/'+_0x2a013e+'/'+_0x22891a+'/'+_0x7cb8e9);}catch(_0x203b0a){_0x542377[_0x193826(0x28d)]('GenerativeAIWorker:\x20FileDelete\x20failed',_0x203b0a);}else try{await _0x161a2f['deleteFile'](_0x3443e5,_0x22891a,_0x7cb8e9);}catch(_0x2b1080){_0x542377[_0x193826(0x28d)](_0x193826(0xb32),_0x2b1080);}return{'type':'file-delete'};}if(_0x193826(0x224)===_0x16a526[_0x193826(0x539)]){let _0x5a7801;const _0x19e2a1=this[_0x193826(0x197)][_0x193826(0x628)]();for(;!_0x5a7801;){const _0x113c0e=_0x19e2a1[_0x193826(0x9a1)]()['value'];if(!_0x113c0e)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x5a7801=this['dataStores'][_0x193826(0x153)](_0x113c0e);try{const _0x5dc939=await _0x5a7801[_0x193826(0x153)](_0x16a526[_0x193826(0x7ad)]);return{'type':_0x193826(0x224),'fileName':_0x5dc939[_0x193826(0x432)],'mimeType':_0x5dc939['type'],'document':await _0x5dc939[_0x193826(0x6c5)]()};}catch(_0x386cfb){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}if(_0x193826(0x4aa)===_0x16a526[_0x193826(0x539)]){const {vendorId:_0x29affa,collectionId:_0x27610f,fileName:_0x510957,content:_0x15ceab}=_0x16a526,_0x517d0d=await _0x2c455e['getDataCollection'](_0x29affa,_0x27610f);if(_0x517d0d[_0x193826(0x5cd)]!==_0x1d89a1[_0x193826(0x146)][_0x193826(0x501)]){const _0x2ddd47=this[_0x193826(0x288)]?.['get'](_0x517d0d['storageType']);if(!_0x2ddd47)throw new Error(_0x193826(0x2e4));const _0x414255=_0x1528c2(_0x29affa,_0x517d0d);return await _0x2ddd47['ingestFile'](_0x414255,_0x27610f,_0x510957,_0x15ceab),{'type':'file-ingest'};}const _0x3a4ee8=_0x517d0d[_0x193826(0x8c5)]?.[_0x193826(0xb4a)](_0x1ff1cc=>_0x1ff1cc['type']===_0x5d88c6[_0x193826(0x429)]);if(!_0x3a4ee8)throw new Error(_0x193826(0x23c));const _0x244c99=(0x0,_0x3aba3d['v4'])();return _0x26d28b['openTrace'](_0x29affa,_0x244c99),await _0x2d460f(_0x16a526[_0x193826(0x3e1)],_0x244c99,'/'+_0x29affa+'/'+_0x27610f+'/'+_0x510957,_0x15ceab,_0x3a4ee8,_0x517d0d,{'objectStoreConnector':this[_0x193826(0x2bf)],'ragConnector':this[_0x193826(0x288)]?.[_0x193826(0x153)](_0x1d89a1[_0x193826(0x146)][_0x193826(0x501)]),'documentParserConnector':this[_0x193826(0xa8f)],'fileConnector':this[_0x193826(0xa4c)],'nlpLibraryConnector':this[_0x193826(0x545)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x193826(0x61d)](this['models'][_0x193826(0xb40)]()),'contentMediator':this[_0x193826(0x405)]}),_0x26d28b['closeTrace'](_0x244c99),{'type':_0x193826(0x4aa)};}if(_0x193826(0x8ac)===_0x16a526[_0x193826(0x539)]){const {vendorId:_0x3fd3a7,collectionId:_0x804eab}=_0x16a526,_0x4952d6=await _0x2c455e[_0x193826(0x6e2)](_0x3fd3a7,_0x804eab);if(_0x4952d6['storageType']!==_0x1d89a1[_0x193826(0x146)][_0x193826(0x501)]){const _0x52fcc0=this[_0x193826(0x288)]?.[_0x193826(0x153)](_0x4952d6[_0x193826(0x5cd)]);if(!_0x52fcc0)throw new Error(_0x193826(0x2e4));const _0x5a8fc6=_0x1528c2(_0x3fd3a7,_0x4952d6);return{'type':_0x193826(0x8ac),'files':await _0x52fcc0[_0x193826(0x9b2)](_0x5a8fc6,_0x804eab)};}try{return{'type':_0x193826(0x8ac),'files':(await this['objectStoreConnector'][_0x193826(0x9e5)]('/'+_0x3fd3a7+'/'+_0x804eab,!0x1))['map'](_0x479973=>({'name':_0x479973[_0x193826(0x432)],'id':_0x479973['name'],'status':_0x193826(0x50b)}))};}catch(_0x3dd065){return{'type':_0x193826(0x8ac),'files':[]};}}if(_0x193826(0x451)===_0x16a526[_0x193826(0x539)]){const {vendorId:_0x2743f7,collectionId:_0x5f09a8}=_0x16a526,_0x5ecaad=await _0x2c455e[_0x193826(0x6e2)](_0x2743f7,_0x5f09a8),_0x42b390=this[_0x193826(0x288)]?.['get'](_0x5ecaad[_0x193826(0x5cd)]);if(!_0x42b390)return{'type':'collection-create'};const _0x5ba164=_0x1528c2(_0x2743f7,_0x5ecaad);return await _0x42b390[_0x193826(0x9d3)](_0x5ba164,_0x5f09a8),{'type':_0x193826(0x451)};}if('collection-delete'===_0x16a526[_0x193826(0x539)]){const {vendorId:_0x11c26d,collectionId:_0x4126ae}=_0x16a526,_0x35416b=await _0x2c455e[_0x193826(0x6e2)](_0x11c26d,_0x4126ae),_0x3382fa=this['ragConnectors']?.['get'](_0x35416b[_0x193826(0x5cd)]);if(!_0x3382fa)return{'type':_0x193826(0xa5e)};const _0x1cb54b=_0x1528c2(_0x11c26d,_0x35416b);let _0x22ba43=!0x1;if(_0x35416b[_0x193826(0x9c0)]===_0x358737['Dedicated']&&(_0x22ba43=!0x0),_0x35416b[_0x193826(0x9c0)]===_0x358737[_0x193826(0x80c)]){_0x22ba43=!0x0;const _0x68213e=await _0x2c455e[_0x193826(0x36d)](_0x11c26d);for(const _0x423ed7 of _0x68213e)if(_0x423ed7[_0x193826(0x5cd)]===_0x35416b[_0x193826(0x5cd)]&&_0x423ed7[_0x193826(0x9c0)]===_0x358737[_0x193826(0x80c)]&&_0x423ed7['id']!==_0x35416b['id']){_0x22ba43=!0x1;break;}}try{await _0x3382fa[_0x193826(0x61b)](_0x1cb54b,_0x4126ae,_0x22ba43);}catch(_0x5d9ef6){_0x542377['error'](_0x193826(0x83f),_0x5d9ef6);}return{'type':_0x193826(0xa5e)};}if('collection-query'===_0x16a526['type']){const {query:_0x4ee130,vendorId:_0x44f3dc,collectionId:_0x542b69}=_0x16a526,_0x3f089f=await _0x2c455e['getDataCollection'](_0x44f3dc,_0x542b69);if(_0x3f089f[_0x193826(0x5cd)]!==_0x1d89a1[_0x193826(0x146)][_0x193826(0x501)]){const _0xc02f99=this[_0x193826(0x288)]?.['get'](_0x3f089f[_0x193826(0x5cd)]);if(!_0xc02f99)throw new Error(_0x193826(0x2e4));const _0x1425f6=_0x1528c2(_0x44f3dc,_0x3f089f);return{'type':'collection-query','results':await _0xc02f99[_0x193826(0x2d3)](_0x1425f6,_0x542b69,_0x4ee130,0x1)};}const _0x100cc5=_0x3f089f[_0x193826(0xb58)]?.['find'](_0x34545b=>_0x34545b['type']===_0x5d88c6[_0x193826(0x642)]);return{'type':'collection-query','results':(await _0x44d38c(_0x16a526[_0x193826(0x3e1)],_0x2e71f8,'',_0x4ee130,_0x100cc5,_0x3f089f,{'objectStoreConnector':this[_0x193826(0x2bf)],'ragConnector':this[_0x193826(0x288)]?.[_0x193826(0x153)](_0x1d89a1[_0x193826(0x146)][_0x193826(0x501)]),'documentParserConnector':this[_0x193826(0xa8f)],'fileConnector':this[_0x193826(0xa4c)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x193826(0x794)],'models':Array[_0x193826(0x61d)](this['models'][_0x193826(0xb40)]()),'contentMediator':this['contentMediator'],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x193826(0x992)],'queryFileConnector':this[_0x193826(0x72a)]}))[_0x193826(0x3c0)]??[]};}throw new Error(_0x193826(0xaa2));}async*[_0xab329a(0x3dc)](_0x779abd,_0x557300){const _0x19ffd5=_0xab329a;if(_0x19ffd5(0x850)===_0x557300['type']){const _0x474992=await _0x2c455e[_0x19ffd5(0x80a)](_0x557300['vendorId'],_0x557300[_0x19ffd5(0x71a)]),_0x4cd995=_0x474992[_0x19ffd5(0x2be)]['find'](_0x22c161=>_0x22c161[_0x19ffd5(0x539)]===_0x2d5b5c[_0x19ffd5(0x642)]||_0x22c161[_0x19ffd5(0x539)]===_0x2d5b5c['InputStream']);for await(const _0x42ec86 of _0x21395a(_0x557300[_0x19ffd5(0x166)]??_0x779abd,_0x557300,_0x4cd995,_0x474992[_0x19ffd5(0x2be)],{'documentParserConnector':this[_0x19ffd5(0xa8f)],'fileConnector':this[_0x19ffd5(0xa4c)],'nlpLibraryConnector':this[_0x19ffd5(0x545)],'generativeAIWorkerConnectors':this[_0x19ffd5(0x794)],'models':Array[_0x19ffd5(0x61d)](this[_0x19ffd5(0x2c8)][_0x19ffd5(0xb40)]()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x19ffd5(0x826)],'aiSearchConnector':this[_0x19ffd5(0x992)],'queryFileConnector':this['queryFileConnector']}))yield _0x42ec86;}if(_0x19ffd5(0x802)===_0x557300[_0x19ffd5(0x539)]){for await(const _0x44ee71 of _0x4fbd3f(_0x557300[_0x19ffd5(0x166)]??_0x779abd,_0x557300,{'documentParserConnector':this[_0x19ffd5(0xa8f)],'fileConnector':this[_0x19ffd5(0xa4c)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x19ffd5(0x794)],'models':Array[_0x19ffd5(0x61d)](this[_0x19ffd5(0x2c8)]['values']()),'contentMediator':this[_0x19ffd5(0x405)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x19ffd5(0x992)],'queryFileConnector':this['queryFileConnector']}))yield _0x44ee71;}}async[_0xab329a(0x19c)](_0x2647d4,_0x7328a4){const _0x31e8b1=_0xab329a;if(_0x31e8b1(0x370)===_0x7328a4[_0x31e8b1(0x539)])return _0x2647d4=_0x7328a4[_0x31e8b1(0x166)],void await this[_0x31e8b1(0x9da)](_0x2647d4,_0x7328a4[_0x31e8b1(0x3e1)],_0x7328a4[_0x31e8b1(0x71a)]);_0x31e8b1(0x850)!==_0x7328a4[_0x31e8b1(0x539)]&&_0x31e8b1(0x802)!==_0x7328a4['type']||!_0x7328a4[_0x31e8b1(0x166)]||(_0x2647d4=_0x7328a4['jobId']),await this[_0x31e8b1(0x9da)](_0x2647d4,_0x7328a4[_0x31e8b1(0x3e1)],_0x7328a4[_0x31e8b1(0x71a)],_0x7328a4[_0x31e8b1(0x1f7)]),await _0x26d28b[_0x31e8b1(0x670)]({'jobType':_0x2313f7[_0x31e8b1(0xa43)],'type':_0x33a308[_0x31e8b1(0x73a)],'traceLevel':_0x581e8e[_0x31e8b1(0x72c)],'jobId':_0x2647d4,'threadId':_0x7328a4[_0x31e8b1(0x1f7)],'startTime':Date[_0x31e8b1(0x4cb)](),'timestamp':Date[_0x31e8b1(0x4cb)](),'status':_0x31e8b1(0x561)});}async[_0xab329a(0x496)](_0x389885,_0x538a53){const _0x3daa20=_0xab329a;if('rate'===_0x538a53[_0x3daa20(0x539)])return _0x389885=_0x538a53[_0x3daa20(0x166)],void await this[_0x3daa20(0x9e3)](_0x389885);_0x3daa20(0x850)!==_0x538a53[_0x3daa20(0x539)]&&_0x3daa20(0x802)!==_0x538a53['type']||!_0x538a53['jobId']||(_0x389885=_0x538a53[_0x3daa20(0x166)]),await _0x26d28b[_0x3daa20(0x670)]({'jobType':_0x2313f7['Job'],'type':_0x33a308[_0x3daa20(0x7b9)],'traceLevel':_0x581e8e['Info'],'jobId':_0x389885,'threadId':_0x538a53[_0x3daa20(0x1f7)],'startTime':Date[_0x3daa20(0x4cb)](),'timestamp':Date[_0x3daa20(0x4cb)](),'status':_0x3daa20(0x561)}),await this[_0x3daa20(0x9e3)](_0x389885,_0x538a53[_0x3daa20(0x1f7)]);}[_0xab329a(0x7f3)](_0x3735e4){const _0x88520d=_0xab329a;switch(_0x3735e4['type']){case _0x2d5b5c['Agent']:case _0x2d5b5c[_0x88520d(0x158)]:return'executeAgent'+_0x3735e4[_0x88520d(0x432)][_0x88520d(0x640)](/[^a-zA-Z]/g,'');case _0x2d5b5c['WorkflowTool']:return _0x88520d(0x682)+_0x3735e4[_0x88520d(0x432)][_0x88520d(0x640)](/[^a-zA-Z]/g,'');case _0x2d5b5c[_0x88520d(0x43e)]:case _0x2d5b5c['Knowledge']:return _0x88520d(0x334)+_0x3735e4['name'][_0x88520d(0x640)](/[^a-zA-Z]/g,'');case _0x2d5b5c[_0x88520d(0x892)]:return _0x3735e4[_0x88520d(0x432)][_0x88520d(0x640)](/[^a-zA-Z]/g,'');case _0x2d5b5c[_0x88520d(0x659)]:return _0x88520d(0x3d9);case _0x2d5b5c['Code']:return'executeJavascriptCodeSnippet';case _0x2d5b5c['Search']:return _0x88520d(0x7dd);case _0x2d5b5c[_0x88520d(0x4c9)]:case _0x2d5b5c[_0x88520d(0x519)]:return _0x88520d(0xa97);case _0x1d89a1[_0x88520d(0x39a)][_0x88520d(0x9bf)]:return _0x88520d(0x4ea)+_0x3735e4[_0x88520d(0x432)][_0x88520d(0x640)](/[^a-zA-Z]/g,'');case _0x1d89a1[_0x88520d(0x39a)][_0x88520d(0x353)]:return _0x88520d(0x2f2)+_0x3735e4[_0x88520d(0x432)][_0x88520d(0x640)](/[^a-zA-Z]/g,'');case _0x1d89a1[_0x88520d(0x39a)][_0x88520d(0x2dd)]:return _0x88520d(0x54c)+_0x3735e4[_0x88520d(0x432)][_0x88520d(0x640)](/[^a-zA-Z]/g,'');default:return'';}}[_0xab329a(0x6f9)](_0x451568){const _0x36ec3d=_0xab329a;switch(_0x451568[_0x36ec3d(0x539)]){case _0x2d5b5c['Agent']:case _0x2d5b5c[_0x36ec3d(0x158)]:return _0x36ec3d(0x24c)+_0x451568[_0x36ec3d(0x791)]+_0x36ec3d(0x463);case _0x2d5b5c[_0x36ec3d(0x8ee)]:return _0x36ec3d(0x35b)+_0x451568['description']+'\x20to\x20generate\x20a\x20response.';case _0x2d5b5c[_0x36ec3d(0x43e)]:case _0x2d5b5c[_0x36ec3d(0x69e)]:return _0x36ec3d(0x22f)+_0x451568['description']+_0x36ec3d(0x8f6);case _0x2d5b5c[_0x36ec3d(0x892)]:return _0x36ec3d(0x895)+_0x451568[_0x36ec3d(0x791)];case _0x2d5b5c[_0x36ec3d(0x659)]:return _0x36ec3d(0x608);case _0x2d5b5c[_0x36ec3d(0xb15)]:return _0x36ec3d(0x2c2);case _0x2d5b5c[_0x36ec3d(0x8ff)]:return _0x36ec3d(0x96f);case _0x2d5b5c[_0x36ec3d(0x4c9)]:case _0x2d5b5c[_0x36ec3d(0x519)]:return _0x36ec3d(0x8cb);case _0x1d89a1[_0x36ec3d(0x39a)][_0x36ec3d(0x9bf)]:return _0x36ec3d(0xa6d);case _0x1d89a1[_0x36ec3d(0x39a)][_0x36ec3d(0x353)]:return _0x36ec3d(0x6b6);case _0x1d89a1['GenerativeAIInferenceToolType'][_0x36ec3d(0x2dd)]:return _0x36ec3d(0x472);default:return'';}}[_0xab329a(0x888)](_0x3f99dc){const _0xdc73da=_0xab329a;switch(_0x3f99dc[_0xdc73da(0x539)]){case _0x2d5b5c['Agent']:case _0x2d5b5c['AgentSkill']:case _0x2d5b5c[_0xdc73da(0x8ee)]:return[{'name':_0xdc73da(0x850),'type':_0xdc73da(0x816)}];case _0x2d5b5c[_0xdc73da(0x43e)]:case _0x2d5b5c[_0xdc73da(0x69e)]:return[{'name':'queryOrPrompt','type':_0xdc73da(0x816)}];case _0x2d5b5c[_0xdc73da(0x892)]:return _0x3f99dc[_0xdc73da(0x573)]['map'](_0x4daa8f=>({'name':_0x4daa8f[_0xdc73da(0x432)],'type':_0x4daa8f[_0xdc73da(0x539)]??'string'}))??[];case _0x2d5b5c['AiSearch']:return[{'name':_0xdc73da(0x5f6),'type':'string'}];case _0x2d5b5c[_0xdc73da(0xb15)]:return[{'name':_0xdc73da(0x9ac),'type':_0xdc73da(0x816)}];case _0x2d5b5c[_0xdc73da(0x8ff)]:return[{'name':_0xdc73da(0x5f6),'type':'string'}];case _0x2d5b5c['WebScraper']:case _0x2d5b5c[_0xdc73da(0x519)]:return[{'name':_0xdc73da(0x4ef),'type':_0xdc73da(0x816)},{'name':'page','type':_0xdc73da(0x556)}];case _0x1d89a1[_0xdc73da(0x39a)][_0xdc73da(0x9bf)]:return[];case _0x1d89a1[_0xdc73da(0x39a)][_0xdc73da(0x353)]:return[{'name':'id','type':'string'},{'name':_0xdc73da(0x8ce),'type':_0xdc73da(0x816)}];case _0x1d89a1[_0xdc73da(0x39a)][_0xdc73da(0x2dd)]:default:return[];}}[_0xab329a(0xa1b)](){const _0x451d57=_0xab329a;try{return this['capacityReporter']['getCapacityReport']()[_0x451d57(0x477)]['cores']*(0x1-this[_0x451d57(0x914)][_0x451d57(0x1e0)]()[_0x451d57(0x477)][_0x451d57(0x3e5)]);}catch(_0x5249c1){return _0x542377[_0x451d57(0x4ad)](_0x59a34d[_0x451d57(0x3e3)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x5249c1),0x0;}}[_0xab329a(0x8e9)](){const _0x189f25=_0xab329a;this[_0x189f25(0xab8)]&&(this['debounceStats']&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x4b100f=_0x189f25;delete this[_0x4b100f(0xa82)];let _0x290234=0x0;for(const _0x41368f of this['dataStores'][_0x4b100f(0xb40)]())_0x290234+=await _0x41368f[_0x4b100f(0xaed)]();this[_0x4b100f(0x2f3)][_0x4b100f(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x4b100f(0xb65)],'content':{'type':_0x8a5c45[_0x4b100f(0x376)],'label':this[_0x4b100f(0x4b1)],'stats':{'timestamp':Date[_0x4b100f(0x4cb)](),'storage':_0x290234,'messagesSent':this[_0x4b100f(0x8b6)],'messagesReceived':this[_0x4b100f(0x574)],'bytesSent':this[_0x4b100f(0x2fb)],'bytesReceived':this[_0x4b100f(0xb0c)],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x4b100f(0x643)]}}});},_0x5615a9));}[_0xab329a(0x940)](_0x3affd3,_0x1a489e){const _0x1b8044=_0xab329a,_0x348e7f=this[_0x1b8044(0x4b1)],_0x5acc45=this['getOwnerId']();_0x542377[_0x1b8044(0x940)](_0x2a74fc['GenerativeAIContext'],{'topic':_0x348e7f,'type':_0x1b8044(0x8ce),'nodeId':_0x5acc45,'tokenCount':_0x1a489e,'tokensPerSecond':_0x3affd3});}async[_0xab329a(0x9da)](_0x55efd9,_0x59d96b,_0x8b194f,_0xaa3b4e){const _0x2edc46=_0xab329a;try{if(!await _0x26d28b[_0x2edc46(0x9da)](_0x59d96b,_0x55efd9,_0x8b194f,_0xaa3b4e))throw new Error(_0x2edc46(0x6da));return _0x55efd9;}catch(_0x3e65cf){return console[_0x2edc46(0x28d)](_0x2edc46(0x6da),_0x3e65cf),'Could\x20not\x20open\x20trace';}}async[_0xab329a(0x9e3)](_0x641ba5,_0x4f1c04){const _0x155234=_0xab329a;try{await _0x26d28b['closeTrace'](_0x641ba5,_0x4f1c04);}catch(_0x14fb3a){console[_0x155234(0x28d)](_0x155234(0x261),{'jobId':_0x641ba5,'error':_0x14fb3a});}}}class _0x4bc791 extends _0x2ccca0{['localNode'];[_0xab329a(0x48a)];[_0xab329a(0x3e1)];['db'];[_0xab329a(0xa82)];[_0xab329a(0x6a9)]=0x0;[_0xab329a(0x399)]=0x0;[_0xab329a(0x528)]=!0x1;constructor(_0x4fc28b,_0x445684,_0x39aeac,_0x4d5d79,_0x216da8){const _0x4ea2ea=_0xab329a;if(_0x4ea2ea(0x816)!=typeof _0x445684)throw new _0x1695e5(_0x91d017[_0x4ea2ea(0x6d9)],_0x4ea2ea(0x855));super(_0x4fc28b,_0x445684),this['localNode']=_0x4fc28b,this[_0x4ea2ea(0x48a)]=_0x39aeac,this[_0x4ea2ea(0x3e1)]=_0x4d5d79;const _0x365b33=_0x4ea2ea(0xafd)+this[_0x4ea2ea(0x3e1)]+_0x4ea2ea(0xafd)+this['clusterId']+_0x4ea2ea(0xafd)+this[_0x4ea2ea(0x4b1)];this['db']=new _0x216da8(_0x365b33),this[_0x4ea2ea(0x8e9)]();}[_0xab329a(0x952)](){const _0x532fe4=_0xab329a;return this[_0x532fe4(0x528)];}['setIsLoaded'](_0x294050){const _0x5c9677=_0xab329a;this[_0x5c9677(0x528)]=_0x294050;}[_0xab329a(0x5f3)](){clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}[_0xab329a(0xace)](){const _0x43369a=_0xab329a;this['systemTopic']['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x43369a(0xb65)],'content':{'type':_0x8a5c45[_0x43369a(0xaac)],'label':this[_0x43369a(0x4b1)]}});}['getContentType'](){const _0x26e5f0=_0xab329a;return _0x1d89a1['ContentType'][_0x26e5f0(0x810)];}[_0xab329a(0x669)](){const _0x17f98d=_0xab329a;this[_0x17f98d(0x8e9)]();}[_0xab329a(0xb5f)](_0x5409de,_0x5655fb,_0x548dd6,_0x2f3b0c){const _0x2d5b86=_0xab329a;this['db'][_0x2d5b86(0xb5f)](_0x5409de,_0x5655fb,_0x548dd6,_0x2f3b0c),this['writes']+=0x1,this[_0x2d5b86(0x8e9)]();}[_0xab329a(0x80f)](_0x20281a,_0x4bf69e){const _0x326ff1=_0xab329a;this['db'][_0x326ff1(0x80f)](_0x20281a,_0x4bf69e),this[_0x326ff1(0x6a9)]+=0x1,this[_0x326ff1(0x8e9)]();}['getContent'](_0x11a865,_0x1a171b,_0x56f9b3){const _0x25b9c4=_0xab329a,_0x4a02df=this['db'][_0x25b9c4(0x860)](_0x11a865,_0x1a171b,_0x56f9b3);return this['reads']+=0x1,_0x542377[_0x25b9c4(0x940)](_0x2a74fc[_0x25b9c4(0x810)],{'type':'get-content','label':this[_0x25b9c4(0x4b1)],'nodeId':this[_0x25b9c4(0x242)][_0x25b9c4(0x7a4)](),'nodeType':this['localNode'][_0x25b9c4(0x539)],'clusterId':this['clusterId'],'size':0x0}),this['sendStats'](),_0x4a02df;}[_0xab329a(0x95b)](_0x160cc8){const _0x5eca56=_0xab329a;this['db'][_0x5eca56(0x95b)](_0x160cc8),this[_0x5eca56(0x6a9)]+=0x1,this[_0x5eca56(0x8e9)]();}[_0xab329a(0x175)](_0x3c1fad){const _0x12ee17=_0xab329a;this['db'][_0x12ee17(0x175)](_0x3c1fad);}[_0xab329a(0x728)](_0x448221){this['db']['loadFromDisk'](_0x448221);}[_0xab329a(0x8e9)](){const _0x48e628=_0xab329a;this[_0x48e628(0xa82)]&&clearTimeout(this[_0x48e628(0xa82)]),this[_0x48e628(0xa82)]=setTimeout(async()=>{const _0x59ae0a=_0x48e628;delete this[_0x59ae0a(0xa82)];const _0x44aeaf=this['db'][_0x59ae0a(0xaed)]();this['systemTopic'][_0x59ae0a(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589['Content'],'content':{'type':_0x8a5c45[_0x59ae0a(0x698)],'label':this['label'],'stats':{'timestamp':Date[_0x59ae0a(0x4cb)](),'storage':_0x44aeaf,'messagesSent':this[_0x59ae0a(0x8b6)],'messagesReceived':this[_0x59ae0a(0x574)],'bytesSent':this[_0x59ae0a(0x2fb)],'bytesReceived':this[_0x59ae0a(0xb0c)],'writes':this[_0x59ae0a(0x6a9)],'reads':this[_0x59ae0a(0x399)],'prompts':0x0,'tokens':0x0}}}),_0x542377[_0x59ae0a(0x362)](_0x2a74fc[_0x59ae0a(0x810)],_0x59ae0a(0xafd)+this['clusterId']+_0x59ae0a(0xafd)+this[_0x59ae0a(0x4b1)],_0x44aeaf);},_0x5615a9);}}class _0xf63ff3 extends _0x3d2d9c{['mediaStream'];constructor(_0x49acb8,_0x2c1536,_0x547292){const _0x1f5806=_0xab329a;super(_0x49acb8,_0x2c1536),this[_0x1f5806(0x4f1)]=_0x547292;}[_0xab329a(0x552)](){const _0x37daeb=_0xab329a;return _0x1d89a1[_0x37daeb(0x93a)][_0x37daeb(0x59b)];}[_0xab329a(0x8a9)](){return this['mediaStream'];}[_0xab329a(0xb50)](){const _0x113012=_0xab329a;return this[_0x113012(0x4f1)]['id'];}}class _0x39b2ac extends _0xf63ff3{[_0xab329a(0x62c)];[_0xab329a(0x883)];[_0xab329a(0x436)];[_0xab329a(0x37b)]=_0x2aef8c();constructor(_0x148263,_0x10e31a,_0x483f83,_0x451cee,_0x4c26ba){const _0x5a7721=_0xab329a;super(_0x148263,_0x10e31a,_0x483f83),this[_0x5a7721(0x62c)]=_0x451cee,this['params']=_0x4c26ba;}['destroy'](){const _0x39b36b=_0xab329a;this[_0x39b36b(0x7e6)]('audio'),this['removeTrack'](_0x39b36b(0x7e2)),super['destroy']();}[_0xab329a(0x6d7)](_0x37cbd7){const _0x57399a=_0xab329a;if(!this[_0x57399a(0x436)])throw new _0x227d3a(_0x227d3a[_0x57399a(0x821)][_0x57399a(0x95d)],{'label':this[_0x57399a(0x4b1)],'ownerId':this['owner'][_0x57399a(0x7a4)](),'remoteId':this[_0x57399a(0x62c)]});this['topic']['publish']({'sourceId':this[_0x57399a(0x911)]['getId'](),'content':{'action':_0x2e8f07[_0x57399a(0xb2a)],'track':_0x37cbd7,'stream':this['mediaStream'],'priority':_0x1d89a1[_0x57399a(0x8c9)]['Default'],'params':this[_0x57399a(0x745)](_0x37cbd7[_0x57399a(0x1dd)],this[_0x57399a(0x883)])}});}[_0xab329a(0x7e6)](_0x4ea13e){const _0x242b63=_0xab329a,_0x5c59e4=this['getTrack'](_0x4ea13e);if(_0x5c59e4){if(!this[_0x242b63(0x436)])return null;this[_0x242b63(0x436)][_0x242b63(0x75d)]({'sourceId':this[_0x242b63(0x911)]['getId'](),'content':{'action':_0x2e8f07[_0x242b63(0x49c)],'track':_0x5c59e4,'stream':this[_0x242b63(0x4f1)]}});}return _0x5c59e4;}[_0xab329a(0xabe)](_0x57f16c){const _0xf0de46=_0xab329a;if(!this[_0xf0de46(0x436)])throw new _0x227d3a(_0x227d3a[_0xf0de46(0x821)][_0xf0de46(0x95d)],{'label':this[_0xf0de46(0x4b1)],'ownerId':this[_0xf0de46(0x911)][_0xf0de46(0x7a4)](),'remoteId':this[_0xf0de46(0x62c)]});this[_0xf0de46(0x436)][_0xf0de46(0x75d)]({'sourceId':this[_0xf0de46(0x911)]['getId'](),'content':{'action':_0x2e8f07[_0xf0de46(0xb17)],'priority':_0x57f16c,'stream':this[_0xf0de46(0x4f1)]}});}[_0xab329a(0x94e)]({trackKinds:_0x4ccbf8,params:_0x4a9c5c},_0x241983){const _0x40c205=_0xab329a;if(!this[_0x40c205(0x436)])throw new _0x227d3a(_0x227d3a[_0x40c205(0x821)][_0x40c205(0x95d)],{'label':this['label'],'ownerId':this['owner']['getId'](),'remoteId':this[_0x40c205(0x62c)]});for(const _0x50ac45 of this[_0x40c205(0x4f1)][_0x40c205(0x865)]())_0x4ccbf8[_0x40c205(0xb4e)](_0x50ac45[_0x40c205(0x1dd)])&&this[_0x40c205(0x436)][_0x40c205(0x75d)]({'sourceId':this['owner'][_0x40c205(0x7a4)](),'content':{'action':_0x2e8f07[_0x40c205(0xb2a)],'track':_0x50ac45,'stream':this[_0x40c205(0x4f1)],'priority':_0x241983,'params':this['getInternalTrackParams'](_0x50ac45['kind'],_0x4a9c5c)}});}[_0xab329a(0x959)]({params:_0x31a8cd}){const _0x3e809c=_0xab329a;if(!this[_0x3e809c(0x436)])throw new _0x227d3a(_0x227d3a['codes'][_0x3e809c(0x95d)],{'label':this[_0x3e809c(0x4b1)],'ownerId':this[_0x3e809c(0x911)]['getId'](),'remoteId':this[_0x3e809c(0x62c)]});for(const _0x121e3f of this[_0x3e809c(0x4f1)][_0x3e809c(0x865)]())this[_0x3e809c(0x436)][_0x3e809c(0x75d)]({'sourceId':this[_0x3e809c(0x911)]['getId'](),'content':{'action':_0x2e8f07[_0x3e809c(0xb17)],'stream':this[_0x3e809c(0x4f1)],'params':this[_0x3e809c(0x745)](_0x121e3f[_0x3e809c(0x1dd)],_0x31a8cd)}});}[_0xab329a(0x3c8)]({trackKinds:_0x335c18}){const _0x15d7e2=_0xab329a;if(this[_0x15d7e2(0x436)]){for(const _0x1a4d6d of this[_0x15d7e2(0x4f1)][_0x15d7e2(0x865)]())_0x335c18['includes'](_0x1a4d6d[_0x15d7e2(0x1dd)])&&this[_0x15d7e2(0x436)][_0x15d7e2(0x75d)]({'sourceId':this[_0x15d7e2(0x911)][_0x15d7e2(0x7a4)](),'content':{'action':_0x2e8f07[_0x15d7e2(0x49c)],'stream':this[_0x15d7e2(0x4f1)],'track':_0x1a4d6d}});}}[_0xab329a(0x857)](_0x478aaf){const _0x4d6fd2=_0xab329a;this[_0x4d6fd2(0x436)]=_0x478aaf;}[_0xab329a(0x716)](_0x1820b1){const _0x28f058=_0xab329a;_0x1820b1===this[_0x28f058(0x436)]&&(delete this[_0x28f058(0x436)],this[_0x28f058(0x37b)][_0x28f058(0x75d)]());}[_0xab329a(0x2a0)](_0x258d37){return this['unregisterPublisherListener']['subscribe'](_0x258d37);}[_0xab329a(0x45f)](_0x2ae9af){const _0x5c5a82=_0xab329a;return this['mediaStream'][_0x5c5a82(0x865)]()[_0x5c5a82(0xb4a)](_0x2a8de5=>_0x2a8de5[_0x5c5a82(0x1dd)]===_0x2ae9af)||null;}[_0xab329a(0x745)](_0x119f82,_0x57e37d){const _0x30f9ba=_0xab329a;let _0x413c42;return _0x30f9ba(0x7e2)===_0x119f82&&_0x57e37d?.[_0x30f9ba(0x7e2)]&&_0x30f9ba(0x503)!=typeof _0x57e37d[_0x30f9ba(0x7e2)]&&(_0x413c42={'kind':_0x30f9ba(0x7e2),..._0x57e37d[_0x30f9ba(0x7e2)]},_0x413c42[_0x30f9ba(0x905)]=this['getResolution']()),'audio'===_0x119f82&&_0x57e37d?.[_0x30f9ba(0x8d2)]&&_0x30f9ba(0x503)!=typeof _0x57e37d['audio']&&(_0x413c42={'kind':_0x30f9ba(0x8d2),..._0x57e37d[_0x30f9ba(0x8d2)]}),_0x413c42;}[_0xab329a(0x812)](){const _0x19370=_0xab329a;let _0x3d722b={'width':0x0,'height':0x0};const _0x42d776=this[_0x19370(0x4f1)]['getVideoTracks']();if(_0x42d776[_0x19370(0x4f0)]>0x0){const _0x1072c9=_0x42d776[0x0][_0x19370(0x24b)]();_0x1072c9[_0x19370(0x62b)]&&_0x1072c9['height']&&(_0x3d722b={'width':_0x1072c9['width'],'height':_0x1072c9[_0x19370(0x1ae)]});}return _0x3d722b;}}class _0x2ca5f1 extends _0xf63ff3{[_0xab329a(0x48a)];['priority']=_0x1d89a1[_0xab329a(0x8c9)]['Default'];[_0xab329a(0x15d)]=new Map();[_0xab329a(0x8fd)]=new Map();constructor(_0x4df838,_0x22f104,_0x10da65,_0x1274f7){const _0x857b89=_0xab329a;super(_0x4df838,_0x22f104,_0x10da65 instanceof MediaStream?_0x10da65:_0x10da65[_0x857b89(0x5a0)]?_0x10da65[_0x857b89(0x5a0)]:_0x10da65['captureStream']()),this[_0x857b89(0x48a)]=_0x1274f7,this[_0x857b89(0x4f1)][_0x857b89(0x865)]()[_0x857b89(0xad2)](_0xcde67e=>this['setupTrackEndedListeners'](_0xcde67e)),_0x542377[_0x857b89(0x940)](_0x2a74fc[_0x857b89(0x7c1)],{'type':_0x857b89(0x75d),'label':this[_0x857b89(0x4b1)],'nodeId':this[_0x857b89(0x911)][_0x857b89(0x7a4)](),'nodeType':this[_0x857b89(0x911)][_0x857b89(0x539)],'clusterId':this[_0x857b89(0x48a)],'streamId':this['getInternalStreamId'](),'trackKinds':this['mediaStream']['getTracks']()[_0x857b89(0x591)](_0x4c535f=>_0x4c535f[_0x857b89(0x1dd)])});}['destroy'](){const _0x3d88db=_0xab329a;this[_0x3d88db(0x8fd)]['size']>0x0&&(this[_0x3d88db(0x8fd)][_0x3d88db(0xad2)](_0x2c3c21=>{const _0x1151fd=_0x3d88db;_0x2c3c21[_0x1151fd(0x8e3)](),_0x2c3c21[_0x1151fd(0x5f3)]();}),this[_0x3d88db(0x8fd)]['clear']()),this[_0x3d88db(0x15d)][_0x3d88db(0xad2)](_0x587251=>_0x587251()),super[_0x3d88db(0x5f3)]();}[_0xab329a(0x75d)](_0x482d15){const _0x412fd1=_0xab329a;this[_0x412fd1(0x2f3)]['publish']({'sourceId':this['owner']['getId'](),'destinationIds':_0x482d15?[_0x482d15]:void 0x0,'propagate':!0x0,'messageType':_0x18b589[_0x412fd1(0xb65)],'content':{'type':_0x8a5c45[_0x412fd1(0xa5d)],'ownerId':this[_0x412fd1(0x911)][_0x412fd1(0x7a4)](),'label':this[_0x412fd1(0x4b1)],'stream':{'streamId':this['getInternalStreamId'](),'availableTrackKinds':this[_0x412fd1(0x4f1)][_0x412fd1(0x865)]()[_0x412fd1(0x591)](_0x2e0725=>_0x2e0725[_0x412fd1(0x1dd)])}}});}[_0xab329a(0x202)](){const _0x2c9321=_0xab329a;this[_0x2c9321(0x2f3)][_0x2c9321(0x75d)]({'sourceId':this[_0x2c9321(0x911)][_0x2c9321(0x7a4)](),'propagate':!0x0,'messageType':_0x18b589[_0x2c9321(0xb65)],'content':{'type':_0x8a5c45[_0x2c9321(0x3d7)],'ownerId':this[_0x2c9321(0x911)][_0x2c9321(0x7a4)](),'label':this[_0x2c9321(0x4b1)]}}),this[_0x2c9321(0x2f3)]['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x2c9321(0xb65)],'content':{'type':_0x8a5c45[_0x2c9321(0x9cf)],'label':this[_0x2c9321(0x4b1)]}}),_0x542377[_0x2c9321(0x940)](_0x2a74fc[_0x2c9321(0x7c1)],{'type':_0x2c9321(0x202),'label':this[_0x2c9321(0x4b1)],'nodeId':this['owner'][_0x2c9321(0x7a4)](),'nodeType':this['owner'][_0x2c9321(0x539)],'clusterId':this[_0x2c9321(0x48a)],'streamId':this[_0x2c9321(0xb50)]()});}['getPriority'](){const _0x40a589=_0xab329a;return this[_0x40a589(0x3a1)];}['setPriority'](_0x3b556f){const _0x392d34=_0xab329a;this[_0x392d34(0x3a1)]=_0x3b556f,this['outgoingStreams'][_0x392d34(0xad2)](_0x36ee38=>_0x36ee38['setPriority'](_0x3b556f));}['getShareableStream'](_0x584664,_0x2c4ec2){const _0x24362=_0xab329a;if(!this[_0x24362(0x8fd)][_0x24362(0x727)](_0x584664)){const _0x2aee6d=new _0x39b2ac(this[_0x24362(0x911)],this[_0x24362(0x4b1)],this['mediaStream'],_0x584664,_0x2c4ec2),_0x2b642c=_0x2aee6d[_0x24362(0x2a0)](()=>{const _0x15bfd2=_0x24362;_0x2b642c(),this['outgoingStreams'][_0x15bfd2(0x153)](_0x584664)?.[_0x15bfd2(0x5f3)](),this[_0x15bfd2(0x8fd)]['delete'](_0x584664);});this['outgoingStreams']['set'](_0x584664,_0x2aee6d),_0x2aee6d[_0x24362(0x4d7)](this[_0x24362(0x2f3)]);}return this[_0x24362(0x8fd)]['get'](_0x584664);}[_0xab329a(0xab3)](){const _0x2ae209=_0xab329a;return this[_0x2ae209(0x4f1)]['id'];}['handleLocalTrackFailure'](_0x2075b8){const _0x57a5f1=_0xab329a;this[_0x57a5f1(0x2f3)][_0x57a5f1(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x57a5f1(0xb65)],'content':{'type':_0x8a5c45[_0x57a5f1(0x7e8)],'label':this[_0x57a5f1(0x4b1)],'trackKinds':[_0x2075b8['kind']]}});}[_0xab329a(0x493)](_0x41e77c){const _0x331617=_0xab329a,_0x394a05=()=>this[_0x331617(0x62d)](_0x41e77c);_0x41e77c[_0x331617(0x9f0)]('ended',_0x394a05),_0x41e77c[_0x331617(0x9f0)](_0x331617(0xa00),_0x394a05),this[_0x331617(0x15d)][_0x331617(0x4d1)](_0x41e77c[_0x331617(0x1dd)],()=>{const _0x5beb5d=_0x331617;_0x41e77c['removeEventListener'](_0x5beb5d(0x8bb),_0x394a05),_0x41e77c[_0x5beb5d(0x59f)](_0x5beb5d(0xa00),_0x394a05),this['trackEndedListeners']['delete'](_0x41e77c[_0x5beb5d(0x1dd)]);});}}class _0x2d8d92 extends _0x2ca5f1{['audioContext'];[_0xab329a(0x28b)]=[];[_0xab329a(0x51c)];[_0xab329a(0xb0b)];[_0xab329a(0x27c)];[_0xab329a(0x48e)];[_0xab329a(0x5b1)];[_0xab329a(0x3c0)];[_0xab329a(0x596)];constructor(_0x133f93,_0x475b3a,_0x3964a4,_0xfb9a72,_0x2aed91,_0x40d2be){const _0x537063=_0xab329a;if(super(_0x133f93,_0x475b3a,_0x3964a4,_0x40d2be),this[_0x537063(0x99f)]=_0x2aed91,this[_0x537063(0x51c)]=this[_0x537063(0x4f1)],this['sourceVideo']=document[_0x537063(0x977)](_0x537063(0x7e2)),this[_0x537063(0x48e)][_0x537063(0x530)]=!0x0,this[_0x537063(0x48e)][_0x537063(0x9ea)]=!0x0,this[_0x537063(0x48e)][_0x537063(0x5a0)]=this[_0x537063(0x51c)],this[_0x537063(0x48e)]['load'](),this[_0x537063(0x48e)][_0x537063(0x16f)]=()=>{const _0x482367=_0x537063;this[_0x482367(0x48e)][_0x482367(0xa9b)]();},this[_0x537063(0x5b1)]=document[_0x537063(0x977)]('canvas'),this['context']=this['canvas'][_0x537063(0x958)]('2d'),this[_0x537063(0x4f1)]=this[_0x537063(0x5b1)]['captureStream'](_0xfb9a72),this[_0x537063(0x27c)]=this[_0x537063(0x99f)][_0x537063(0x2a4)](),this[_0x537063(0x51c)][_0x537063(0x2c9)]()[_0x537063(0x4f0)]>0x0){const _0x2d2828=this[_0x537063(0x51c)][_0x537063(0x2c9)]()[0x0];this[_0x537063(0xb0b)]=this[_0x537063(0x99f)]['createMediaStreamSource'](new MediaStream([_0x2d2828])),this[_0x537063(0xb0b)][_0x537063(0x7c2)](this[_0x537063(0x27c)]);}const _0x1e3f4c=this[_0x537063(0x27c)][_0x537063(0x4fd)][_0x537063(0x865)]()[0x0];this[_0x537063(0x4f1)][_0x537063(0x6d7)](_0x1e3f4c),this[_0x537063(0x596)]=setInterval(()=>{const _0x4b8341=_0x537063;this[_0x4b8341(0x5b1)][_0x4b8341(0x62b)]=this[_0x4b8341(0x48e)][_0x4b8341(0x3ea)],this[_0x4b8341(0x5b1)][_0x4b8341(0x1ae)]=this[_0x4b8341(0x48e)][_0x4b8341(0x9c4)],this['sourceVideo'][_0x4b8341(0x3ea)]?(0x0!==this[_0x4b8341(0x51c)][_0x4b8341(0x68d)]()['length']&&this['clientStream']['getVideoTracks']()[0x0][_0x4b8341(0x184)]?this[_0x4b8341(0x4f1)][_0x4b8341(0x68d)]()[0x0][_0x4b8341(0x184)]=!0x0:this[_0x4b8341(0x4f1)]['getVideoTracks']()[0x0]['enabled']=!0x1,0x0!==this[_0x4b8341(0x51c)][_0x4b8341(0x2c9)]()[_0x4b8341(0x4f0)]&&this[_0x4b8341(0x51c)][_0x4b8341(0x2c9)]()[0x0][_0x4b8341(0x184)]?this[_0x4b8341(0x4f1)][_0x4b8341(0x2c9)]()[0x0][_0x4b8341(0x184)]=!0x0:this[_0x4b8341(0x4f1)][_0x4b8341(0x2c9)]()[0x0]['enabled']=!0x1,this[_0x4b8341(0x3c0)]['drawImage'](this['sourceVideo'],0x0,0x0)):this[_0x4b8341(0x3c0)][_0x4b8341(0xa80)](0x0,0x0,this[_0x4b8341(0x5b1)][_0x4b8341(0x62b)],this['canvas'][_0x4b8341(0x1ae)]);},0x3e8/_0xfb9a72);}[_0xab329a(0x5f3)](){const _0x2198c5=_0xab329a;clearInterval(this[_0x2198c5(0x596)]),this[_0x2198c5(0x48e)][_0x2198c5(0x95b)](),this[_0x2198c5(0x5b1)][_0x2198c5(0x95b)](),this[_0x2198c5(0xb0b)]?.[_0x2198c5(0xa9f)](),this['audioDestination']['disconnect'](),this[_0x2198c5(0x4f1)][_0x2198c5(0x865)]()[_0x2198c5(0xad2)](_0x2f3e77=>{const _0x27215d=_0x2198c5;_0x2f3e77[_0x27215d(0x46d)](),this[_0x27215d(0x4f1)][_0x27215d(0x7e6)](_0x2f3e77);}),super[_0x2198c5(0x5f3)]();}[_0xab329a(0x6d7)](_0x55121b){const _0x2ded93=_0xab329a,_0x4bf2c4=this['getTrack'](_0x55121b[_0x2ded93(0x1dd)]);_0x4bf2c4&&this[_0x2ded93(0x7e6)](_0x4bf2c4),_0x2ded93(0x8d2)!==_0x55121b['kind']?(_0x2ded93(0x7e2)===_0x55121b[_0x2ded93(0x1dd)]&&this['addVideoTrack'](_0x55121b),this[_0x2ded93(0x493)](_0x55121b)):this[_0x2ded93(0x17e)](_0x55121b);}[_0xab329a(0x7e6)](_0x4561bf){const _0x2496d6=_0xab329a,_0x5550d3=this[_0x2496d6(0x156)](_0x4561bf);return _0x5550d3&&(_0x2496d6(0x8d2)===_0x5550d3['kind']&&(this[_0x2496d6(0xb0b)]?.[_0x2496d6(0xa9f)](),this['audioSource']=void 0x0),this['trackEndedListeners'][_0x2496d6(0x153)](_0x5550d3[_0x2496d6(0x1dd)])?.(),this[_0x2496d6(0x51c)][_0x2496d6(0x7e6)](_0x5550d3)),_0x5550d3;}['replaceTrack'](_0x3fb34d){const _0x345536=_0xab329a;this['removeTrack'](_0x3fb34d[_0x345536(0x1dd)]),this['addTrack'](_0x3fb34d);}[_0xab329a(0x7a3)](_0x1e51d9){this['transformations']=_0x1e51d9;}[_0xab329a(0x45f)](_0x3a9d9d){const _0x4303a7=_0xab329a;return this[_0x4303a7(0x51c)][_0x4303a7(0x865)]()['find'](_0x967375=>_0x967375[_0x4303a7(0x1dd)]===_0x3a9d9d)||null;}[_0xab329a(0x156)](_0x213fe1){const _0x5b90c0=_0xab329a;return _0x5b90c0(0x816)==typeof _0x213fe1?this['getTrack'](_0x213fe1):_0x213fe1;}[_0xab329a(0x17e)](_0x5e400f){const _0x989d42=_0xab329a;_0x989d42(0x562)===this[_0x989d42(0x99f)][_0x989d42(0xa99)]&&this[_0x989d42(0x99f)][_0x989d42(0x547)](),this['clientStream'][_0x989d42(0x6d7)](_0x5e400f),this[_0x989d42(0xb0b)]=this[_0x989d42(0x99f)][_0x989d42(0x217)](this[_0x989d42(0x51c)]),this[_0x989d42(0xb0b)][_0x989d42(0x7c2)](this[_0x989d42(0x27c)]);}[_0xab329a(0x99a)](_0x596182){const _0x46b80d=_0xab329a;this['clientStream'][_0x46b80d(0x6d7)](_0x596182),this['sourceVideo'][_0x46b80d(0x3e5)]();}}class _0x10d9ac extends _0x2ca5f1{}class _0x2ef8b9 extends _0x2ccca0{[_0xab329a(0x242)];['clusterId'];[_0xab329a(0x3e1)];[_0xab329a(0x1c3)];[_0xab329a(0x218)];[_0xab329a(0x438)];[_0xab329a(0x941)];[_0xab329a(0x934)];[_0xab329a(0x66c)]=new Map();['objectRequests']=new Map();['pendingFilesSyncing']=new Map();[_0xab329a(0xa23)]=new Map();[_0xab329a(0x6a6)]=new Map();[_0xab329a(0xaf5)]=new Map();[_0xab329a(0x2bf)];['eventListener']=_0x41f17b();[_0xab329a(0x509)]=new Map();[_0xab329a(0xa82)];[_0xab329a(0x6a9)]=0x0;[_0xab329a(0x399)]=0x0;[_0xab329a(0x1f3)]=!0x0;[_0xab329a(0x602)]=!0x0;['filesSynced']=0x0;[_0xab329a(0x5aa)]=0x0;constructor(_0x267d2c,_0x1beda7,_0x4a2ae3,_0x4b620f,_0x81aa52,_0x1238a3,_0xce5fdc,_0x245117){const _0x2e9dfe=_0xab329a;if(_0x2e9dfe(0x816)!=typeof _0x1beda7)throw new _0x1695e5(_0x91d017[_0x2e9dfe(0x5e5)],'Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string');super(_0x267d2c,_0x1beda7),this[_0x2e9dfe(0x242)]=_0x267d2c,this[_0x2e9dfe(0x48a)]=_0x4a2ae3,this[_0x2e9dfe(0x3e1)]=_0x4b620f,this[_0x2e9dfe(0x1c3)]=_0x81aa52,this[_0x2e9dfe(0x218)]=_0xce5fdc,this[_0x2e9dfe(0x438)]=_0x245117;const _0x1209c9=_0x2e9dfe(0xafd)+this[_0x2e9dfe(0x3e1)]+_0x2e9dfe(0xafd)+this[_0x2e9dfe(0x48a)]+_0x2e9dfe(0xafd)+_0x1beda7;this[_0x2e9dfe(0x2bf)]=new _0x1238a3(_0x1209c9),this[_0x2e9dfe(0x1f3)]=this['options']?.['syncContent']??!0x0,this['options']?.[_0x2e9dfe(0x98b)]&&(this[_0x2e9dfe(0x1f3)]=!0x1),this[_0x2e9dfe(0x8e9)]();}[_0xab329a(0x669)](){const _0x3a521b=_0xab329a;this[_0x3a521b(0x8e9)]();}[_0xab329a(0x552)](){const _0x36e56c=_0xab329a;return _0x1d89a1['ContentType'][_0x36e56c(0x5fe)];}async['sync'](){const _0x58ac77=_0xab329a;this[_0x58ac77(0x602)]=!0x0;try{const _0x274b67=await this[_0x58ac77(0x2bf)][_0x58ac77(0x153)](_0x59ee9f),_0x37fd22=await _0x274b67[_0x58ac77(0x66d)]();this[_0x58ac77(0x934)]=_0x37fd22;}catch(_0x143ffe){}this[_0x58ac77(0x941)]=this[_0x58ac77(0x3d0)](async(_0x388c8b,_0x2007ca)=>{const _0x2b0017=_0x58ac77;if(!(_0x2007ca instanceof File))try{if(_0x2007ca[_0x2b0017(0x394)]===_0x41b4b6[_0x2b0017(0x793)])return void this[_0x2b0017(0x1d1)](_0x2007ca);this[_0x2b0017(0x23f)](_0x2007ca);}catch(_0xc673f6){if(_0xc673f6 instanceof _0x227d3a)throw _0xc673f6;throw new _0x227d3a(_0x227d3a[_0x2b0017(0x821)][_0x2b0017(0x3da)],{'payload':_0x2007ca});}}),await this[_0x58ac77(0x18b)](),this[_0x58ac77(0x1f3)]?await this[_0x58ac77(0x384)]():this['completeSync'](),this['sendStats']();}[_0xab329a(0x5f3)](){const _0xb65aff=_0xab329a;this[_0xb65aff(0x941)]?.(),this[_0xb65aff(0x509)][_0xb65aff(0xad2)](_0x5ed671=>_0x5ed671()),this[_0xb65aff(0x509)]['clear'](),clearTimeout(this[_0xb65aff(0xa82)]),delete this[_0xb65aff(0xa82)],super[_0xb65aff(0x5f3)]();}['close'](){const _0x3ae960=_0xab329a;this['systemTopic']?.[_0x3ae960(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x3ae960(0xb65)],'content':{'type':_0x8a5c45['CloseObjectStoreBucket'],'label':this[_0x3ae960(0x4b1)]}});}['subscribe'](_0xa434a0,_0x101e91){const _0x5274d1=_0xab329a;if(this[_0x5274d1(0x509)][_0x5274d1(0x727)](_0xa434a0))throw new _0x1695e5(_0x91d017[_0x5274d1(0x54d)],_0x5274d1(0x28a));this['listenerUnsubscribers'][_0x5274d1(0x4d1)](_0xa434a0,this[_0x5274d1(0x44f)][_0x5274d1(0x94e)](_0x101e91)),this['isSyncing']||this[_0x5274d1(0x44f)][_0x5274d1(0x75d)]({'event':_0x1d89a1[_0x5274d1(0x899)]['SyncComplete'],'payload':{'filesSynced':this[_0x5274d1(0x5e1)]}});}['unsubscribe'](_0x2c3394){const _0x18303b=_0xab329a;this[_0x18303b(0x509)][_0x18303b(0x153)](_0x2c3394)?.(),this[_0x18303b(0x509)][_0x18303b(0x425)](_0x2c3394);}['publish'](_0x2d4926){const _0x13d946=_0xab329a;switch(_0x2d4926[_0x13d946(0x5b3)]){case _0x1d89a1[_0x13d946(0x2f9)][_0x13d946(0x99b)]:return this[_0x13d946(0xac7)](_0x2d4926[_0x13d946(0x22c)],_0x2d4926['path'],_0x2d4926['options']);case _0x1d89a1[_0x13d946(0x2f9)][_0x13d946(0x312)]:return this[_0x13d946(0x798)](_0x2d4926[_0x13d946(0x534)]);case _0x1d89a1['PayloadAction'][_0x13d946(0x9bd)]:return this[_0x13d946(0x1f4)](_0x2d4926[_0x13d946(0x534)],_0x2d4926['newPath']);default:throw new _0x1695e5(_0x91d017[_0x13d946(0x758)],_0x13d946(0x39d)+_0x2d4926);}}async[_0xab329a(0x202)](_0x380bc2){const _0x4125ab=_0xab329a;try{const _0x401e3b=(0x0,_0x3aba3d['v4'])(),_0x300b71=this[_0x4125ab(0x934)],_0x2f8d91={'payloadType':_0x41b4b6['Transaction'],'action':_0x5dbebe[_0x4125ab(0x492)],'id':_0x401e3b,'parentId':_0x300b71,'path':_0x380bc2};await this[_0x4125ab(0x93d)](_0x2f8d91);const _0x3da80a=await this['deleteObject'](_0x380bc2);!0x0!==this[_0x4125ab(0x438)]?.[_0x4125ab(0x98b)]&&await this[_0x4125ab(0x872)](_0x2f8d91),_0x542377[_0x4125ab(0x940)](_0x2a74fc['ObjectStorage'],{'type':_0x4125ab(0x202),'label':this[_0x4125ab(0x4b1)],'nodeId':this[_0x4125ab(0x242)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0x4125ab(0x48a)],'kind':_0x3da80a,'path':_0x380bc2}),this[_0x4125ab(0x6a9)]+=0x1,this[_0x4125ab(0x8e9)]();}catch(_0x53abc4){if(_0x53abc4 instanceof _0x227d3a)throw new _0x1695e5(_0x91d017[_0x4125ab(0x29e)],_0x4125ab(0x1cc)+_0x380bc2+_0x4125ab(0x3a7));throw new _0x1695e5(_0x91d017[_0x4125ab(0x380)],_0x4125ab(0x94f)+_0x380bc2);}}async[_0xab329a(0x153)](_0x4ebf84,_0x4e7983){const _0x194872=_0xab329a;_0x542377['logServiceEvent'](_0x2a74fc[_0x194872(0x79f)],{'type':_0x194872(0x153),'label':this[_0x194872(0x4b1)],'nodeId':this[_0x194872(0x242)][_0x194872(0x7a4)](),'nodeType':this[_0x194872(0x242)][_0x194872(0x539)],'clusterId':this['clusterId'],'path':_0x4ebf84}),this[_0x194872(0x399)]+=0x1,this[_0x194872(0x8e9)]();try{return await this['objectStoreConnector'][_0x194872(0x153)](_0x4ebf84,_0x4e7983);}catch(_0xfbf06){try{await this[_0x194872(0x2bf)]['get'](_0x4ebf84+_0x3f2870);}catch(_0x6ad3ab){throw new _0x1695e5(_0x91d017[_0x194872(0x380)],_0x194872(0x699)+_0x4ebf84);}throw new _0x1695e5(_0x91d017[_0x194872(0x29e)],_0x194872(0x74b));}}async[_0xab329a(0x9e5)](_0x328fc3,_0x1d9735){const _0x305879=_0xab329a,{recursive:_0x28d0e1=!0x1,includeSyncingFiles:_0x44eb8c=!0x1}=_0x1d9735??{};_0x542377[_0x305879(0x940)](_0x2a74fc[_0x305879(0x79f)],{'type':_0x305879(0x9e5),'label':this['label'],'nodeId':this[_0x305879(0x242)][_0x305879(0x7a4)](),'nodeType':this['localNode'][_0x305879(0x539)],'clusterId':this[_0x305879(0x48a)],'path':_0x328fc3}),this[_0x305879(0x399)]+=0x1,this[_0x305879(0x8e9)]();try{const _0x204a6b=await this[_0x305879(0x2bf)]['list'](_0x328fc3,_0x28d0e1);return this[_0x305879(0x761)](_0x204a6b,{'recursive':_0x28d0e1,'includeSyncingFiles':_0x44eb8c});}catch(_0x794b22){throw new _0x1695e5(_0x91d017[_0x305879(0x380)],_0x305879(0x363)+_0x328fc3);}}['handleNodeJoin'](_0x5614c8){const _0x533133=_0xab329a;this[_0x533133(0x5aa)]+=0x1;for(const _0x1bf1d1 of this['objectRequests'][_0x533133(0xb40)]())this[_0x533133(0x872)](_0x1bf1d1,[_0x5614c8]);}[_0xab329a(0x7a1)](_0x278b1d){const _0x4ff9b6=_0xab329a;this['nodesConnected']-=0x1;const _0xb7308b=this['pendingFilesSyncing'][_0x4ff9b6(0x153)](_0x278b1d);if(_0xb7308b){for(const [_0x53386f,_0x28dc10]of _0xb7308b[_0x4ff9b6(0xb40)]())this[_0x4ff9b6(0x756)](_0x53386f,_0x28dc10);this[_0x4ff9b6(0x948)]['delete'](_0x278b1d);}}async[_0xab329a(0xaed)](_0x57545d='/'){const _0x2cb085=_0xab329a;try{return await this[_0x2cb085(0x2bf)][_0x2cb085(0x150)](_0x57545d);}catch(_0x5dc39a){if(_0x5dc39a instanceof Error&&_0x5dc39a[_0x2cb085(0x3cc)]['includes']('ENOENT'))return 0x0;throw new _0x1695e5(_0x91d017[_0x2cb085(0x380)],_0x2cb085(0x654)+_0x57545d);}}[_0xab329a(0x443)](){const _0x298dd4=_0xab329a;this['isSyncing']&&(this[_0x298dd4(0x602)]=!0x1,this[_0x298dd4(0x44f)][_0x298dd4(0x75d)]({'event':_0x1d89a1[_0x298dd4(0x899)][_0x298dd4(0x738)],'payload':{'filesSynced':this['filesSynced']}}));}async[_0xab329a(0x761)](_0xbcbb41,{includeSyncingFiles:_0x1ea578=!0x1}){const _0xc6b679=_0xab329a,_0x2c5515=[];for(const _0x51a33d of _0xbcbb41)if(_0x51a33d['kind']!==_0x1d89a1[_0xc6b679(0x9f1)][_0xc6b679(0x312)]){if(_0x51a33d[_0xc6b679(0x432)]!==_0x59ee9f){if(_0x51a33d[_0xc6b679(0x432)][_0xc6b679(0xa45)](_0x3f2870)){if(!_0x1ea578)continue;const _0x303e00=_0x51a33d;if(_0x303e00['name']=_0x303e00[_0xc6b679(0x432)]['replace'](_0x3f2870,''),_0x303e00[_0xc6b679(0x5d0)]=_0x303e00[_0xc6b679(0x5d0)][_0xc6b679(0x640)](_0x3f2870,''),await this[_0xc6b679(0x7f9)](_0x303e00['pathName'])){_0xbcbb41[_0xc6b679(0xb4a)](_0x519169=>_0x519169[_0xc6b679(0x5d0)]===_0x303e00[_0xc6b679(0x5d0)])['status']=_0x1d89a1[_0xc6b679(0x3f7)][_0xc6b679(0x3a2)];continue;}_0x303e00[_0xc6b679(0x5a5)]=_0x1d89a1[_0xc6b679(0x3f7)][_0xc6b679(0x49a)];}_0x2c5515[_0xc6b679(0x257)](_0x51a33d);}}else _0x51a33d['entries']=await this[_0xc6b679(0x761)](_0x51a33d[_0xc6b679(0x41b)]??[],{'includeSyncingFiles':_0x1ea578}),_0x2c5515[_0xc6b679(0x257)](_0x51a33d);return _0x2c5515;}async[_0xab329a(0xac7)](_0x33b935,_0x3127a9,_0x1263b2){const _0x391c83=_0xab329a;try{const _0x48b5eb=(0x0,_0x3aba3d['v4'])(),_0x3faeae=await _0xc15242(_0x33b935),_0x40b5ec=_0x47068e(_0x3127a9??'/',_0x33b935[_0x391c83(0x432)]);let _0x3914ef=!0x0;const _0x35b3e4={'payloadType':_0x41b4b6[_0x391c83(0xb29)],'action':_0x5dbebe['FileWrite'],'id':_0x48b5eb,'parentId':this[_0x391c83(0x934)],'answererId':this['localNode'][_0x391c83(0x7a4)](),'name':_0x33b935[_0x391c83(0x432)],'type':_0x33b935[_0x391c83(0x539)],'path':_0x3127a9??'/','skipEncryption':_0x1263b2?.[_0x391c83(0x4f5)]??!0x1,'checksum':_0x3faeae};try{if(!_0x1263b2?.[_0x391c83(0xb14)])throw new Error(_0x391c83(0x144));const _0x2cfb6f=_0x40b5ec+_0x3f2870;await this['objectStoreConnector'][_0x391c83(0x153)](_0x2cfb6f),_0x3914ef=!0x1,await this[_0x391c83(0x2bf)][_0x391c83(0x7b0)](_0x2cfb6f),this[_0x391c83(0x43a)]['delete'](_0x40b5ec);}catch(_0x5977e6){await this['publishTransaction'](_0x35b3e4);}if(this['syncContent']||this['options']?.[_0x391c83(0x98b)]?await this[_0x391c83(0x668)](_0x33b935,_0x3127a9,_0x1263b2):await this[_0x391c83(0x6f2)](_0x33b935[_0x391c83(0x432)],_0x3127a9??'/',{'checksum':_0x3faeae,'skipEncryption':_0x1263b2?.[_0x391c83(0x4f5)]??!0x1}),this[_0x391c83(0xaf5)][_0x391c83(0x727)](_0x40b5ec)){const [_0x2b5e8b,_0x25fc1d]=this['fileSendingMap']['get'](_0x40b5ec);this[_0x391c83(0xaf5)][_0x391c83(0x4d1)](_0x40b5ec,[!0x0,_0x25fc1d]);try{await _0x25fc1d;}catch(_0x1614ed){}this[_0x391c83(0xaf5)][_0x391c83(0x425)](_0x40b5ec);}_0x3914ef&&this[_0x391c83(0x5aa)]>0x0&&!0x0!==this[_0x391c83(0x438)]?.['standalone']&&await this['sendFile'](_0x33b935,_0x35b3e4),_0x542377[_0x391c83(0x940)](_0x2a74fc[_0x391c83(0x79f)],{'type':_0x391c83(0x75d),'label':this['label'],'nodeId':this[_0x391c83(0x242)][_0x391c83(0x7a4)](),'nodeType':this[_0x391c83(0x242)][_0x391c83(0x539)],'clusterId':this['clusterId'],'kind':_0x1d89a1['ObjectKind'][_0x391c83(0x99b)],'path':_0x3127a9,'fileName':_0x33b935['name'],'fileType':_0x33b935[_0x391c83(0x539)],'size':_0x33b935[_0x391c83(0xa86)]}),this['writes']+=0x1,this[_0x391c83(0x8e9)]();}catch(_0x20c278){if(_0x20c278 instanceof _0x227d3a)throw new _0x1695e5(_0x91d017['ObjectStoreNotInSync'],_0x391c83(0x74b));throw new _0x1695e5(_0x91d017[_0x391c83(0x380)],_0x391c83(0x57a)+_0x3127a9+(_0x3127a9?.[_0x391c83(0xa45)]('/')?'':'/')+_0x33b935[_0x391c83(0x432)]);}}async[_0xab329a(0x798)](_0x5bd522){const _0x3934c5=_0xab329a;try{const _0x12b780=(0x0,_0x3aba3d['v4'])(),_0x21ca22=this[_0x3934c5(0x934)],_0x5df840={'payloadType':_0x41b4b6[_0x3934c5(0xb29)],'action':_0x5dbebe[_0x3934c5(0x42b)],'id':_0x12b780,'parentId':_0x21ca22,'path':_0x5bd522};await this['publishTransaction'](_0x5df840),await this[_0x3934c5(0x2bf)][_0x3934c5(0x67a)](_0x5bd522),!0x0!==this[_0x3934c5(0x438)]?.[_0x3934c5(0x98b)]&&await this[_0x3934c5(0x872)](_0x5df840),_0x542377[_0x3934c5(0x940)](_0x2a74fc[_0x3934c5(0x79f)],{'type':_0x3934c5(0x75d),'label':this[_0x3934c5(0x4b1)],'nodeId':this[_0x3934c5(0x242)]['getId'](),'nodeType':this[_0x3934c5(0x242)][_0x3934c5(0x539)],'clusterId':this[_0x3934c5(0x48a)],'kind':_0x1d89a1['ObjectKind']['Folder'],'path':_0x5bd522}),this[_0x3934c5(0x6a9)]+=0x1,this['sendStats']();}catch(_0x12c0f8){if(_0x12c0f8 instanceof _0x227d3a)throw new _0x1695e5(_0x91d017[_0x3934c5(0x29e)],_0x3934c5(0x74b));throw new _0x1695e5(_0x91d017[_0x3934c5(0x380)],_0x3934c5(0x703)+_0x5bd522);}}async[_0xab329a(0x1f4)](_0x155683,_0x357bf9){const _0x18d5c5=_0xab329a;try{const _0x158808=(0x0,_0x3aba3d['v4'])(),_0x504330=this[_0x18d5c5(0x934)],_0x67324f={'payloadType':_0x41b4b6[_0x18d5c5(0xb29)],'action':_0x5dbebe[_0x18d5c5(0x9bd)],'id':_0x158808,'parentId':_0x504330,'path':_0x155683,'newPath':_0x357bf9};await this['publishTransaction'](_0x67324f);const _0x6aa1fd=await this[_0x18d5c5(0x82d)](_0x155683,_0x357bf9);!0x0!==this[_0x18d5c5(0x438)]?.['standalone']&&await this[_0x18d5c5(0x872)](_0x67324f),_0x542377['logServiceEvent'](_0x2a74fc[_0x18d5c5(0x79f)],{'type':_0x18d5c5(0xb2c),'label':this[_0x18d5c5(0x4b1)],'nodeId':this[_0x18d5c5(0x242)][_0x18d5c5(0x7a4)](),'nodeType':this[_0x18d5c5(0x242)][_0x18d5c5(0x539)],'clusterId':this['clusterId'],'kind':_0x6aa1fd,'path':_0x155683,'newPath':_0x357bf9}),this[_0x18d5c5(0x6a9)]+=0x1,this[_0x18d5c5(0x8e9)]();}catch(_0x29634a){if(_0x29634a instanceof _0x227d3a)throw new _0x1695e5(_0x91d017[_0x18d5c5(0x29e)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x1695e5(_0x91d017['ObjectStoreInvalidPath'],_0x18d5c5(0x40f)+_0x155683);}}async['handleTransactionPayload'](_0x780eac,_0x85c822=!0x1){const _0x21513f=_0xab329a;if(this[_0x21513f(0x934)]&&_0x780eac['parentId']!==this['lastTransactionId']&&_0x780eac['id']!==this['lastTransactionId']){if(!_0x780eac[_0x21513f(0x4b6)])throw new _0x227d3a(_0x227d3a[_0x21513f(0x821)][_0x21513f(0x3da)]);this['pendingSyncTransactions'][_0x21513f(0x4d1)](_0x780eac[_0x21513f(0x4b6)],_0x780eac);}else{try{await this[_0x21513f(0x151)](_0x780eac,_0x85c822);}catch(_0x2f02a1){}await this['updateLastTransactionId'](_0x780eac['id']),await this[_0x21513f(0x9c5)](_0x780eac['id'],_0x85c822);}}async['processTransactionPayload'](_0x35711d,_0x2eecf5=!0x1){const _0x421bb8=_0xab329a;switch(_0x35711d[_0x421bb8(0x5b3)]){case _0x5dbebe['FileWrite']:await this['handleFileWrite'](_0x35711d);break;case _0x5dbebe[_0x421bb8(0x42b)]:await this[_0x421bb8(0x549)](_0x35711d);break;case _0x5dbebe[_0x421bb8(0x9bd)]:await this[_0x421bb8(0x255)](_0x35711d,_0x2eecf5);break;case _0x5dbebe[_0x421bb8(0x492)]:await this[_0x421bb8(0x516)](_0x35711d,_0x2eecf5);break;default:throw new _0x227d3a(_0x227d3a['codes'][_0x421bb8(0x3da)],{'payload':_0x35711d});}}async[_0xab329a(0x9c5)](_0x7933a3,_0xf071cc=!0x1){const _0x46362c=_0xab329a;if(this[_0x46362c(0x66c)][_0x46362c(0x727)](_0x7933a3)){const _0x3b4670=this[_0x46362c(0x66c)][_0x46362c(0x153)](_0x7933a3);this[_0x46362c(0x66c)][_0x46362c(0x425)](_0x7933a3),await this['handleTransactionPayload'](_0x3b4670,_0xf071cc);}}async[_0xab329a(0x1d1)](_0x234178){const _0x3e1b70=_0xab329a;switch(_0x234178[_0x3e1b70(0x5b3)]){case _0x5dbebe['RequestFile']:return this[_0x3e1b70(0x8b2)](_0x234178);case _0x5dbebe[_0x3e1b70(0x352)]:return this[_0x3e1b70(0x95c)](_0x234178);case _0x5dbebe[_0x3e1b70(0x277)]:return this[_0x3e1b70(0x360)](_0x234178);case _0x5dbebe['RequestFileWrite']:return this[_0x3e1b70(0x684)](_0x234178);default:throw new _0x227d3a(_0x227d3a[_0x3e1b70(0x821)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x234178});}}async[_0xab329a(0x684)](_0x5c659f,_0x498479=0x0){const _0x1d32c7=_0xab329a,_0x48770a=_0x47068e(_0x5c659f[_0x1d32c7(0x534)],_0x5c659f[_0x1d32c7(0x432)]);if(!_0x5c659f['data']||void 0x0===_0x5c659f[_0x1d32c7(0x730)]||!_0x5c659f[_0x1d32c7(0x344)])return this['fileChunks'][_0x1d32c7(0x425)](_0x48770a),void await this[_0x1d32c7(0x6f2)](_0x5c659f['name'],_0x5c659f[_0x1d32c7(0x534)],{'checksum':_0x5c659f[_0x1d32c7(0x78d)],'skipEncryption':_0x5c659f[_0x1d32c7(0x4f5)]});if(this[_0x1d32c7(0x725)]['has'](_0x48770a)){const _0x33c590=this[_0x1d32c7(0x725)][_0x1d32c7(0x153)](_0x48770a);_0x33c590[_0x1d32c7(0x78d)]!==_0x5c659f['checksum']&&(_0x33c590['stream']?.[_0x1d32c7(0xace)](),this[_0x1d32c7(0x725)]['delete'](_0x48770a));}if(!this[_0x1d32c7(0x725)][_0x1d32c7(0x727)](_0x48770a)){try{await this[_0x1d32c7(0x2bf)]['deleteObject'](_0x48770a);}catch(_0xfbadfa){}try{const _0x1527dc=this[_0x1d32c7(0x1f3)]?await this['objectStoreConnector'][_0x1d32c7(0xa54)](_0x48770a,{'skipEncryption':_0x5c659f[_0x1d32c7(0x4f5)]}):void 0x0,_0x2abee5={'chunksReceived':_0x5c659f['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x1527dc,'checksum':_0x5c659f['checksum']};this[_0x1d32c7(0x725)][_0x1d32c7(0x4d1)](_0x48770a,_0x2abee5),await this['createPendingFileWrite'](_0x5c659f[_0x1d32c7(0x432)],_0x5c659f[_0x1d32c7(0x534)],{'checksum':_0x5c659f[_0x1d32c7(0x78d)],'skipEncryption':_0x5c659f[_0x1d32c7(0x4f5)]});}catch(_0x59040b){}}const _0x31e21a=this[_0x1d32c7(0x725)][_0x1d32c7(0x153)](_0x48770a);if(_0x5c659f[_0x1d32c7(0x78d)]!==_0x31e21a[_0x1d32c7(0x78d)])return;if(this['setPendingFileSyncingPayload'](_0x5c659f,_0x48770a),this[_0x1d32c7(0x1f3)]){if(!_0x31e21a[_0x1d32c7(0x4fd)])throw new _0x227d3a(_0x227d3a[_0x1d32c7(0x821)]['ObjectStoreInvalidSyncMessage'],{'message':_0x1d32c7(0x5ec)});let _0x49df2a=_0x31e21a[_0x1d32c7(0x235)];if(_0x5c659f['index']!==_0x49df2a){if(_0x49df2a>_0x5c659f[_0x1d32c7(0x730)])return;const _0x516a5d=0x1000;if(_0x5c659f[_0x1d32c7(0x730)]>_0x49df2a+_0x516a5d)return;if(_0x31e21a['bufferedChunks']||(_0x31e21a[_0x1d32c7(0x81c)]=[]),_0x31e21a['bufferedChunks']['length']>0x4000)throw this['fileChunks'][_0x1d32c7(0x425)](_0x48770a),new _0x227d3a(_0x227d3a[_0x1d32c7(0x821)][_0x1d32c7(0x3da)],{'message':_0x1d32c7(0x7c0)});return void _0x31e21a[_0x1d32c7(0x81c)]['push'](_0x5c659f);}try{_0x31e21a[_0x1d32c7(0x235)]+=0x1,_0x31e21a['bytesReceived']+=_0x5c659f[_0x1d32c7(0x62e)][_0x1d32c7(0x790)],await _0x31e21a[_0x1d32c7(0x4fd)][_0x1d32c7(0x222)](_0x5c659f[_0x1d32c7(0x62e)]);}catch(_0x43d7df){if(console[_0x1d32c7(0x28d)](_0x1d32c7(0x5dd),_0x43d7df),_0x498479>0x3)throw this[_0x1d32c7(0x725)][_0x1d32c7(0x425)](_0x48770a),console[_0x1d32c7(0x28d)](_0x1d32c7(0xb59),_0x43d7df),new _0x227d3a(_0x227d3a['codes'][_0x1d32c7(0x3da)],{'message':_0x1d32c7(0xb59)});return this[_0x1d32c7(0x684)](_0x5c659f,_0x498479+0x1);}}try{await this['manageBufferedChunks'](_0x31e21a,_0x5c659f[_0x1d32c7(0x730)]+0x1);}catch(_0x59c56a){throw this[_0x1d32c7(0x725)][_0x1d32c7(0x425)](_0x48770a),_0x59c56a;}if(this[_0x1d32c7(0x725)][_0x1d32c7(0x4d1)](_0x48770a,_0x31e21a),_0x31e21a[_0x1d32c7(0x235)]<_0x5c659f[_0x1d32c7(0x344)])return;await this[_0x1d32c7(0x65b)](_0x48770a),this['syncContent']&&(await this[_0x1d32c7(0x220)](_0x5c659f),_0x542377['logServiceEvent'](_0x2a74fc['ObjectStorage'],{'type':_0x1d32c7(0x4ca),'label':this[_0x1d32c7(0x4b1)],'nodeId':this[_0x1d32c7(0x242)][_0x1d32c7(0x7a4)](),'nodeType':this['localNode'][_0x1d32c7(0x539)],'clusterId':this[_0x1d32c7(0x48a)],'kind':_0x1d89a1[_0x1d32c7(0x9f1)][_0x1d32c7(0x99b)],'path':_0x5c659f[_0x1d32c7(0x534)],'fileName':_0x5c659f['name'],'fileType':_0x5c659f[_0x1d32c7(0x539)],'size':_0x31e21a[_0x1d32c7(0xb0c)]}));const _0x331da3=this[_0x1d32c7(0xa23)][_0x1d32c7(0x153)](_0x5c659f['path'])??[];for(const _0x3623eb of _0x331da3)await this[_0x1d32c7(0x151)](_0x3623eb);this[_0x1d32c7(0xa23)][_0x1d32c7(0x425)](_0x5c659f[_0x1d32c7(0x534)]),this[_0x1d32c7(0x44f)][_0x1d32c7(0x75d)]({'event':_0x1d89a1[_0x1d32c7(0x899)][_0x1d32c7(0x712)],'payload':{'file':{'kind':_0x1d89a1['ObjectKind'][_0x1d32c7(0x99b)],'path':_0x5c659f[_0x1d32c7(0x534)],'type':_0x5c659f[_0x1d32c7(0x539)],'size':_0x31e21a['bytesReceived'],'name':_0x5c659f[_0x1d32c7(0x432)],'pathName':_0x48770a,'status':this[_0x1d32c7(0x1f3)]?_0x1d89a1[_0x1d32c7(0x3f7)][_0x1d32c7(0xb16)]:_0x1d89a1[_0x1d32c7(0x3f7)][_0x1d32c7(0x49a)]}}}),this[_0x1d32c7(0x8e9)]();}async[_0xab329a(0x963)](_0x5e3eb6,_0x4ecac3){const _0x27f3e8=_0xab329a,_0x39c6b6=_0x5e3eb6[_0x27f3e8(0x4fd)];let _0x4b0aaf=0x0;for(;_0x5e3eb6[_0x27f3e8(0x81c)]&&_0x5e3eb6['bufferedChunks'][_0x27f3e8(0x4f0)]>0x0;){const _0x14c75a=_0x5e3eb6['bufferedChunks']['find'](_0x1b258c=>_0x1b258c[_0x27f3e8(0x730)]===_0x4ecac3+0x1);if(!_0x14c75a)break;_0x5e3eb6['bufferedChunks']=_0x5e3eb6['bufferedChunks'][_0x27f3e8(0x2b3)](_0x26586e=>_0x26586e[_0x27f3e8(0x730)]!==_0x4ecac3+0x1);try{await _0x39c6b6[_0x27f3e8(0x222)](_0x14c75a[_0x27f3e8(0x62e)]),_0x4ecac3++;}catch(_0x459eb9){if(console[_0x27f3e8(0x28d)](_0x27f3e8(0x31f),_0x459eb9),_0x4b0aaf>0x3)throw console[_0x27f3e8(0x28d)]('Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream',_0x459eb9),new _0x227d3a(_0x227d3a[_0x27f3e8(0x821)][_0x27f3e8(0x3da)],{'message':_0x27f3e8(0x9e4)});_0x4b0aaf++;continue;}_0x5e3eb6['chunksReceived']+=0x1,_0x5e3eb6[_0x27f3e8(0xb0c)]+=_0x14c75a['data'][_0x27f3e8(0x790)];}}async[_0xab329a(0x549)](_0x47619d){const _0x17c1d=_0xab329a;await this[_0x17c1d(0x2bf)][_0x17c1d(0x67a)](_0x47619d['path']);const [_0x167fc9,_0x497d51]=_0x4fb7a4(_0x47619d['path']);this[_0x17c1d(0x44f)][_0x17c1d(0x75d)]({'event':_0x1d89a1[_0x17c1d(0x899)][_0x17c1d(0x42b)],'payload':{'folder':{'kind':_0x1d89a1[_0x17c1d(0x9f1)][_0x17c1d(0x312)],'name':_0x497d51,'path':_0x167fc9,'pathName':_0x47619d['path']}}});}async['handleObjectDelete'](_0x3de66d,_0x5021a3=!0x1){const _0x2c47de=_0xab329a;if(!_0x5021a3&&!this['shouldProcessTransaction'](_0x3de66d))return;const _0x21c0e1=await this[_0x2c47de(0x7b0)](_0x3de66d['path']),[_0x32e133,_0x22798e]=_0x4fb7a4(_0x3de66d[_0x2c47de(0x534)]);this['eventListener']['publish']({'event':_0x21c0e1===_0x1d89a1[_0x2c47de(0x9f1)][_0x2c47de(0x312)]?_0x1d89a1['StorageEventType'][_0x2c47de(0xa78)]:_0x1d89a1['StorageEventType'][_0x2c47de(0x453)],'payload':{'name':_0x22798e,'path':_0x32e133,'pathName':_0x3de66d[_0x2c47de(0x534)]}}),this[_0x2c47de(0x8e9)]();}async['handleObjectMove'](_0x4d3d5b,_0x124950=!0x1){const _0x3686f9=_0xab329a;if(!_0x124950&&!this[_0x3686f9(0xa02)](_0x4d3d5b))return this['pendingFilesRename'][_0x3686f9(0x4d1)](_0x4d3d5b['newPath'],this[_0x3686f9(0x6a6)][_0x3686f9(0x153)](_0x4d3d5b[_0x3686f9(0x534)])??_0x4d3d5b['path']),void this['pendingFilesRename'][_0x3686f9(0x425)](_0x4d3d5b[_0x3686f9(0x534)]);this['pendingFilesRename'][_0x3686f9(0x425)](_0x4d3d5b[_0x3686f9(0x534)]);const _0x4dd6bb=await this[_0x3686f9(0x2bf)][_0x3686f9(0x82d)](_0x4d3d5b[_0x3686f9(0x534)],_0x4d3d5b[_0x3686f9(0x7b5)]),[_0x2541bf,_0x377991]=_0x4fb7a4(_0x4d3d5b['path']),[_0x13891f,_0x3babdc]=_0x4fb7a4(_0x4d3d5b['newPath']);this[_0x3686f9(0x44f)][_0x3686f9(0x75d)]({'event':_0x4dd6bb===_0x1d89a1[_0x3686f9(0x9f1)][_0x3686f9(0x312)]?_0x1d89a1['StorageEventType']['FolderMove']:_0x1d89a1[_0x3686f9(0x899)]['FileMove'],'payload':{'name':_0x3babdc,'path':_0x13891f,'pathName':_0x4d3d5b['newPath'],'oldName':_0x377991,'oldPath':_0x2541bf,'oldPathName':_0x4d3d5b['path']}}),this[_0x3686f9(0x8e9)]();}[_0xab329a(0xa02)](_0x2b96f5){const _0xa9c09e=_0xab329a,_0x79a624=this[_0xa9c09e(0x6a6)][_0xa9c09e(0x153)](_0x2b96f5[_0xa9c09e(0x534)])??_0x2b96f5[_0xa9c09e(0x534)];let _0xfe0b00=!0x1;for(const _0x104b43 of this[_0xa9c09e(0x725)][_0xa9c09e(0x628)]())if(_0x104b43[_0xa9c09e(0xb20)](_0x79a624)){const _0x390bbc=this['pendingFilesTransactions']['get'](_0x104b43)??[];_0x390bbc[_0xa9c09e(0x257)](_0x2b96f5),this[_0xa9c09e(0xa23)][_0xa9c09e(0x4d1)](_0x104b43,_0x390bbc),_0xfe0b00=!0x0;}return!_0xfe0b00;}async[_0xab329a(0x93d)](_0x1fed16){const _0x5739bc=_0xab329a;if(!this['options']?.[_0x5739bc(0x98b)]){if(!_0x1fed16['id'])throw new _0x227d3a(_0x227d3a[_0x5739bc(0x821)][_0x5739bc(0x3da)],{'message':_0x5739bc(0x8da)});if(_0x1fed16[_0x5739bc(0x4b6)]!==this[_0x5739bc(0x934)])throw new _0x227d3a(_0x227d3a['codes'][_0x5739bc(0x533)]);await this['transactionService']['writeTransaction'](_0x1fed16,this[_0x5739bc(0x4b1)]),await this[_0x5739bc(0x3e2)](_0x1fed16['id']);}}async['updateLastTransactionId'](_0x1ba0da){const _0x15e837=_0xab329a;this['lastTransactionId']=_0x1ba0da;const _0x31f749=new File([new Blob([this[_0x15e837(0x934)]])],_0x59ee9f,{'type':_0x15e837(0x7f5)});await this['writeFile'](_0x31f749,'/');}async[_0xab329a(0x8b2)](_0x50dc8a){const _0xde905=_0xab329a;try{const _0x2aa45f=await this[_0xde905(0x153)](_0x50dc8a[_0xde905(0x534)]+'/'+_0x50dc8a[_0xde905(0x432)],{'skipEncryption':_0x50dc8a['skipEncryption']}),_0x46fbdf=await _0xc15242(_0x2aa45f);if(''!==_0x50dc8a[_0xde905(0x78d)]&&_0x46fbdf!==_0x50dc8a[_0xde905(0x78d)])return;_0x50dc8a['answererId']=this[_0xde905(0x242)][_0xde905(0x7a4)](),_0x50dc8a[_0xde905(0x5b3)]=_0x5dbebe['RequestAccepted'],await this['send'](_0x50dc8a,[_0x50dc8a[_0xde905(0x203)]]);}catch(_0x1a8e95){}}async[_0xab329a(0x95c)](_0x52a019){const _0x49e1a4=_0xab329a,_0x3adef6=_0x47068e(_0x52a019['path'],_0x52a019[_0x49e1a4(0x432)]);if(!this[_0x49e1a4(0x43a)][_0x49e1a4(0x727)](_0x3adef6))return;const _0x8d79bc=this[_0x49e1a4(0x43a)][_0x49e1a4(0x153)](_0x3adef6);_0x8d79bc[_0x49e1a4(0x5b3)]=_0x5dbebe[_0x49e1a4(0x277)];const _0x2db39d=_0x52a019[_0x49e1a4(0x9d7)];if(!_0x2db39d)throw new _0x227d3a(_0x227d3a[_0x49e1a4(0x821)]['ObjectStoreInvalidSyncMessage'],{'message':'Missing\x20answerer\x20id\x20on\x20request\x20answer'});if(this[_0x49e1a4(0x43a)][_0x49e1a4(0x425)](_0x3adef6),this[_0x49e1a4(0x948)]['has'](_0x2db39d)||this[_0x49e1a4(0x948)][_0x49e1a4(0x4d1)](_0x2db39d,new Map()),this[_0x49e1a4(0x948)][_0x49e1a4(0x153)](_0x2db39d)[_0x49e1a4(0x4d1)](_0x3adef6,[_0x8d79bc,this[_0x49e1a4(0x195)](_0x2db39d,_0x3adef6)]),_0x8d79bc[_0x49e1a4(0x9d7)]=_0x2db39d,_0x8d79bc[_0x49e1a4(0xb3d)]=this['fileChunks'][_0x49e1a4(0x153)](_0x3adef6)?.[_0x49e1a4(0x235)]??0x0,0x0===_0x8d79bc[_0x49e1a4(0xb3d)])try{const [_0x384acc,_0x47b702]=await this[_0x49e1a4(0x7f0)](_0x52a019[_0x49e1a4(0x432)],_0x52a019[_0x49e1a4(0x534)],_0x52a019[_0x49e1a4(0x78d)]);_0x384acc&&(_0x8d79bc[_0x49e1a4(0xb3d)]=_0x47b702);}catch(_0x58fda8){}this[_0x49e1a4(0x872)](_0x8d79bc,[_0x2db39d]);}async[_0xab329a(0x360)](_0x278882){const _0x4ead3d=_0xab329a,_0x2b8906=_0x47068e(_0x278882['path'],_0x278882[_0x4ead3d(0x432)]),_0x27cb59=await this[_0x4ead3d(0x153)](_0x2b8906,{'skipEncryption':_0x278882['skipEncryption']}),_0x4ff8ed={..._0x278882,'answererId':this['localNode'][_0x4ead3d(0x7a4)](),'action':_0x5dbebe[_0x4ead3d(0x4a8)],'startIndex':_0x278882[_0x4ead3d(0xb3d)]??0x0};await this[_0x4ead3d(0x9ad)](_0x27cb59,_0x4ff8ed,[_0x278882['sourceId']]);}async[_0xab329a(0x9ad)](_0x2f0f96,_0x315d4c,_0x2d2a9a){let _0x221c9a,_0x27f5ba;const _0x3e1ae3=new Promise(async(_0x8b57e5,_0x5a4e53)=>{_0x221c9a=_0x8b57e5,_0x27f5ba=_0x5a4e53;});return((async()=>{const _0x2a4ceb=a0_0x1b87,_0x335c49=Math[_0x2a4ceb(0x36f)](_0x2f0f96[_0x2a4ceb(0xa86)]/_0x27874a);let _0x2ab390=_0x315d4c[_0x2a4ceb(0xb3d)]??0x0;const _0x30b5aa=_0x47068e(_0x315d4c[_0x2a4ceb(0x534)],_0x315d4c[_0x2a4ceb(0x432)]);this['fileSendingMap']['set'](_0x30b5aa,[!0x1,_0x3e1ae3]);for await(const _0x407f7b of async function*(_0x391ae5,_0x132cdf=0x0,_0x4fef89){for await(const _0x588459 of _0x2f29b6(_0x391ae5,_0x132cdf,_0x4fef89))yield _0x588459;}(_0x2f0f96,_0x2ab390,this[_0x2a4ceb(0x218)])){const [_0x4dd65d]=this['fileSendingMap'][_0x2a4ceb(0x153)](_0x30b5aa)??[];if(_0x4dd65d)return this['fileSendingMap'][_0x2a4ceb(0x425)](_0x30b5aa),void _0x27f5ba(new Error('File\x20sending\x20interrupted'));if(this[_0x2a4ceb(0xa23)][_0x2a4ceb(0x727)](_0x30b5aa)){const _0x1877b9=this[_0x2a4ceb(0xa23)][_0x2a4ceb(0x153)](_0x30b5aa);for(const _0x573662 of _0x1877b9)if(_0x573662[_0x2a4ceb(0x5b3)]===_0x5dbebe[_0x2a4ceb(0x712)]||_0x573662[_0x2a4ceb(0x5b3)]===_0x5dbebe['Delete'])return;}const _0x4bfebd={..._0x315d4c,'type':_0x2f0f96['type'],'data':_0x407f7b,'index':_0x2ab390,'total':_0x335c49};this['send'](_0x4bfebd,_0x2d2a9a),_0x2ab390++;}const _0x355a1c=setInterval(async()=>{await this['waitForArrayBufferSize']()>0x0||(clearInterval(_0x355a1c),_0x221c9a());});this[_0x2a4ceb(0xaf5)][_0x2a4ceb(0x425)](_0x30b5aa);})()),_0x3e1ae3;}async[_0xab329a(0x220)](_0x439d33){const _0x46f874=_0xab329a;try{const _0x1c8df4=_0x47068e(_0x439d33[_0x46f874(0x534)],_0x439d33[_0x46f874(0x432)]),_0x3e5284=_0x1c8df4+_0x3f2870;await this[_0x46f874(0x7b0)](_0x3e5284);const [,_0x55b549]=this[_0x46f874(0x948)]['get'](_0x439d33[_0x46f874(0x9d7)])?.['get'](_0x1c8df4)??[];_0x55b549&&(clearTimeout(_0x55b549),this[_0x46f874(0x948)][_0x46f874(0x153)](_0x439d33['answererId'])[_0x46f874(0x425)](_0x1c8df4));}catch(_0x2f3790){}0x0===this[_0x46f874(0x948)][_0x46f874(0x153)](_0x439d33[_0x46f874(0x9d7)])?.[_0x46f874(0xa86)]&&this['pendingFilesSyncing'][_0x46f874(0x425)](_0x439d33['answererId']),0x0===this['pendingFilesSyncing'][_0x46f874(0xa86)]&&0x0===this['objectRequests']['size']&&this[_0x46f874(0x443)]();}async[_0xab329a(0x18b)](){const _0x43be95=_0xab329a;try{const _0x2bf042=await this[_0x43be95(0x1c3)][_0x43be95(0x7f6)](this['label'],this[_0x43be95(0x934)]);for(const _0x16ded3 of _0x2bf042)await this[_0x43be95(0x23f)](_0x16ded3,!0x0);}catch(_0x5dfb34){if(_0x5dfb34 instanceof _0x227d3a&&_0x5dfb34['code']===_0x227d3a[_0x43be95(0x821)][_0x43be95(0x14f)]){await this['objectStoreConnector'][_0x43be95(0x7b0)](_0x59ee9f),delete this['lastTransactionId'];try{const _0x1a5313=await this[_0x43be95(0x2bf)][_0x43be95(0x9e5)]('/',!0x1);for(const _0x4f5cc2 of _0x1a5313)await this[_0x43be95(0x2bf)][_0x43be95(0x7b0)](_0x4f5cc2['pathName']);}catch(_0x3b0404){}return await this[_0x43be95(0x18b)]();}throw _0x5dfb34;}}async[_0xab329a(0x384)](){const _0x9d9b61=_0xab329a,_0x391f28=await this[_0x9d9b61(0x9e5)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x5c23a3=async _0x11b36e=>{const _0x3bd97f=_0x9d9b61;for(const _0x5e82d7 of _0x11b36e){if(_0x5e82d7[_0x3bd97f(0x1dd)]===_0x1d89a1['ObjectKind'][_0x3bd97f(0x312)]){_0x5e82d7['entries']&&_0x5e82d7[_0x3bd97f(0x41b)]['length']>0x0&&await _0x5c23a3(_0x5e82d7[_0x3bd97f(0x41b)]);continue;}if(_0x5e82d7[_0x3bd97f(0x5a5)]!==_0x1d89a1[_0x3bd97f(0x3f7)][_0x3bd97f(0x49a)])continue;const _0x12e17d=await this[_0x3bd97f(0x153)](_0x5e82d7[_0x3bd97f(0x5d0)]+_0x3f2870),_0xde0f2=JSON[_0x3bd97f(0x685)](await _0x12e17d[_0x3bd97f(0x66d)]()),_0x58b422=_0x5e82d7[_0x3bd97f(0x432)][_0x3bd97f(0x640)](_0x3f2870,''),_0x28b978={'payloadType':_0x41b4b6[_0x3bd97f(0x793)],'action':_0x5dbebe[_0x3bd97f(0x404)],'sourceId':this[_0x3bd97f(0x242)][_0x3bd97f(0x7a4)](),'type':'','path':_0x5e82d7[_0x3bd97f(0x534)],'name':_0x58b422,'checksum':_0xde0f2[_0x3bd97f(0x78d)],'skipEncryption':_0xde0f2[_0x3bd97f(0x4f5)]},_0x51096f=_0x47068e(_0x5e82d7[_0x3bd97f(0x534)],_0x58b422);this['objectRequests'][_0x3bd97f(0x4d1)](_0x51096f,_0x28b978);}};await _0x5c23a3(_0x391f28),0x0===this[_0x9d9b61(0x43a)][_0x9d9b61(0xa86)]&&0x0===this['pendingFilesSyncing'][_0x9d9b61(0xa86)]&&this[_0x9d9b61(0x443)]();}async[_0xab329a(0x6f2)](_0x5843a3,_0x168cbb,_0x21e768){const _0x15a8c8=_0xab329a,_0x26dac8=new File([new Blob([JSON['stringify'](_0x21e768)])],''+_0x5843a3+_0x3f2870,{'type':_0x15a8c8(0x7f5)});await this[_0x15a8c8(0x668)](_0x26dac8,_0x168cbb);}async['checkExistingPendingFileContent'](_0x3ab5d5,_0x4a7696,_0x2abab9){const _0x7c2dd9=_0xab329a;try{const _0x55bf22=_0x47068e(_0x4a7696,_0x3ab5d5),_0x42114d=_0x55bf22+_0x3f2870,_0x54e261=await this['objectStoreConnector'][_0x7c2dd9(0x153)](_0x42114d),{checksum:_0x4b4614,skipEncryption:_0x4c04d1}=JSON[_0x7c2dd9(0x685)](await _0x54e261[_0x7c2dd9(0x66d)]()),_0x46d7c4=(await this[_0x7c2dd9(0x2bf)][_0x7c2dd9(0x153)](_0x55bf22,{'skipEncryption':_0x4c04d1}))[_0x7c2dd9(0xa86)];return _0x4b4614===_0x2abab9&&_0x46d7c4%_0x27874a==0x0?[!0x0,Math[_0x7c2dd9(0x834)](_0x46d7c4/_0x27874a)]:(await this[_0x7c2dd9(0x2bf)][_0x7c2dd9(0x7b0)](_0x55bf22),[!0x1,0x0]);}catch(_0x57fd79){return[!0x1,0x0];}}[_0xab329a(0x195)](_0x5e7de0,_0x4f34d3){const _0x17b800=_0xab329a,[_0x380b34,_0x5a9f6e]=this[_0x17b800(0x948)][_0x17b800(0x153)](_0x5e7de0)?.[_0x17b800(0x153)](_0x4f34d3)??[];return _0x5a9f6e&&clearTimeout(_0x5a9f6e),setTimeout(()=>{const _0x4ddd87=_0x17b800,[_0x4b2f52,_0x2667d4]=this[_0x4ddd87(0x948)][_0x4ddd87(0x153)](_0x5e7de0)[_0x4ddd87(0x153)](_0x4f34d3);this[_0x4ddd87(0x756)](_0x4b2f52,_0x2667d4);},0x927c0);}async[_0xab329a(0x756)](_0x4e1c7e,_0x1b51aa){const _0x5f0c85=_0xab329a;clearTimeout(_0x1b51aa),_0x4e1c7e['action']=_0x5dbebe[_0x5f0c85(0x404)],this[_0x5f0c85(0x43a)][_0x5f0c85(0x4d1)](_0x47068e(_0x4e1c7e[_0x5f0c85(0x534)],_0x4e1c7e[_0x5f0c85(0x432)]),_0x4e1c7e),this[_0x5f0c85(0x872)](_0x4e1c7e);}[_0xab329a(0x615)](_0x2617c0,_0x319a5c){const _0x3cf536=_0xab329a;if(!this[_0x3cf536(0x1f3)])return;this[_0x3cf536(0x948)][_0x3cf536(0x727)](_0x2617c0[_0x3cf536(0x9d7)])||this[_0x3cf536(0x948)][_0x3cf536(0x4d1)](_0x2617c0[_0x3cf536(0x9d7)],new Map());const [_0x46d956]=this[_0x3cf536(0x948)]['get'](_0x2617c0[_0x3cf536(0x9d7)])[_0x3cf536(0x153)](_0x319a5c)??[{'payloadType':_0x41b4b6['Request'],'action':_0x5dbebe[_0x3cf536(0x404)],'sourceId':this[_0x3cf536(0x242)][_0x3cf536(0x7a4)](),'type':_0x2617c0['type'],'name':_0x2617c0['name'],'path':_0x2617c0[_0x3cf536(0x534)],'skipEncryption':_0x2617c0[_0x3cf536(0x4f5)],'checksum':_0x2617c0[_0x3cf536(0x78d)],'answererId':_0x2617c0[_0x3cf536(0x9d7)]}];this[_0x3cf536(0x948)]['get'](_0x2617c0[_0x3cf536(0x9d7)])[_0x3cf536(0x4d1)](_0x319a5c,[_0x46d956,this['getOrResetPendingFileTimeout'](_0x2617c0[_0x3cf536(0x9d7)],_0x319a5c)]);}async[_0xab329a(0x668)](_0x1107ae,_0xf52967,_0x1ee563){const _0x2bbeb2=_0xab329a;this['isSyncing']&&(this[_0x2bbeb2(0x5e1)]+=0x1),await this['objectStoreConnector']['writeFile'](_0x1107ae,_0xf52967,_0x1ee563);}async['deleteObject'](_0x73c5d8){const _0x47e8b6=_0xab329a;try{const _0x154cab=await this[_0x47e8b6(0x2bf)][_0x47e8b6(0x7b0)](_0x73c5d8);if(!_0x73c5d8[_0x47e8b6(0xa45)](_0x3f2870))try{await this[_0x47e8b6(0x2bf)][_0x47e8b6(0x7b0)](_0x73c5d8+_0x3f2870);}catch(_0x208e0d){}return this[_0x47e8b6(0x602)]&&_0x154cab===_0x1d89a1[_0x47e8b6(0x9f1)][_0x47e8b6(0x99b)]&&(this[_0x47e8b6(0x5e1)]+=0x1),_0x154cab;}catch(_0x290ca3){return await this['objectStoreConnector']['deleteObject'](_0x73c5d8+_0x3f2870);}}async[_0xab329a(0x82d)](_0x199060,_0x603678){const _0x3f4de8=_0xab329a;try{const _0x41ccf5=await this[_0x3f4de8(0x2bf)]['moveObject'](_0x199060,_0x603678);if(!_0x199060[_0x3f4de8(0xa45)](_0x3f2870))try{await this[_0x3f4de8(0x2bf)]['moveObject'](_0x199060+_0x3f2870,_0x603678+_0x3f2870);}catch(_0x8f0a32){}return _0x41ccf5;}catch(_0x46951f){return await this[_0x3f4de8(0x2bf)][_0x3f4de8(0x82d)](_0x199060+_0x3f2870,_0x603678+_0x3f2870);}}[_0xab329a(0x8e9)](){const _0x2b66d6=_0xab329a;this[_0x2b66d6(0xa82)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x2e3510=_0x2b66d6;delete this[_0x2e3510(0xa82)];const _0x2b4d13=await this[_0x2e3510(0x2bf)][_0x2e3510(0x150)]('/');this[_0x2e3510(0x2f3)]?.['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x2e3510(0xb65)],'content':{'type':_0x8a5c45[_0x2e3510(0x41f)],'label':this[_0x2e3510(0x4b1)],'stats':{'timestamp':Date['now'](),'storage':_0x2b4d13,'messagesSent':this[_0x2e3510(0x8b6)],'messagesReceived':this[_0x2e3510(0x574)],'bytesSent':this[_0x2e3510(0x2fb)],'bytesReceived':this[_0x2e3510(0xb0c)],'writes':this['writes'],'reads':this[_0x2e3510(0x399)],'prompts':0x0,'tokens':0x0}}}),this[_0x2e3510(0x1f3)]&&_0x542377['logStorage'](_0x2a74fc[_0x2e3510(0x79f)],_0x2e3510(0xafd)+this[_0x2e3510(0x48a)]+_0x2e3510(0xafd)+this['label'],_0x2b4d13);},_0x5615a9);}async[_0xab329a(0x7f9)](_0x1a3560){try{return await this['get'](_0x1a3560),!0x0;}catch(_0x34c7c9){return!0x1;}}async[_0xab329a(0x65b)](_0x27a7e0){const _0x40f804=_0xab329a;if(!this['fileChunks'][_0x40f804(0x727)](_0x27a7e0))return;const _0x40d5d4=this[_0x40f804(0x725)][_0x40f804(0x153)](_0x27a7e0);if(_0x40d5d4[_0x40f804(0x4fd)])try{await _0x40d5d4['stream'][_0x40f804(0xace)]();}catch(_0x4590c5){console[_0x40f804(0x28d)](_0x40f804(0xaaa),_0x4590c5);}this['fileChunks'][_0x40f804(0x425)](_0x27a7e0);}}class _0x98eb19 extends _0x2ccca0{['localNode'];[_0xab329a(0x48a)];[_0xab329a(0x941)]=new Map();[_0xab329a(0xa82)];constructor(_0x13f0a0,_0x110bd7,_0x2680b9){const _0x2508cc=_0xab329a;if(_0x2508cc(0x816)!=typeof _0x110bd7)throw new _0x1695e5(_0x91d017[_0x2508cc(0x6ea)],_0x2508cc(0x702));super(_0x13f0a0,_0x110bd7),this[_0x2508cc(0x242)]=_0x13f0a0,this['clusterId']=_0x2680b9,this[_0x2508cc(0x8e9)]();}[_0xab329a(0x669)](){const _0x4b7eb8=_0xab329a;this[_0x4b7eb8(0x8e9)]();}[_0xab329a(0x552)](){return _0x1d89a1['ContentType']['PubSub'];}[_0xab329a(0x75d)](_0x3a884d,_0x17a722){const _0x1c5fda=_0xab329a;_0x542377['log'](_0x59a34d[_0x1c5fda(0x999)],_0x1c5fda(0x79e),this[_0x1c5fda(0x242)][_0x1c5fda(0x7a4)](),_0x3a884d,_0x17a722),_0x542377[_0x1c5fda(0x940)](_0x2a74fc[_0x1c5fda(0x999)],{'type':'publish','label':this['label'],'nodeId':this[_0x1c5fda(0x242)][_0x1c5fda(0x7a4)](),'nodeType':this[_0x1c5fda(0x242)][_0x1c5fda(0x539)],'clusterId':this[_0x1c5fda(0x48a)],'remoteIds':_0x17a722??[],'contentType':_0x3a884d instanceof File?_0x1d89a1[_0x1c5fda(0x93a)][_0x1c5fda(0x99b)]:_0x1d89a1[_0x1c5fda(0x93a)][_0x1c5fda(0x4af)],'size':_0x3a884d instanceof File?_0x3a884d[_0x1c5fda(0xa86)]:JSON[_0x1c5fda(0x56e)](_0x3a884d)['length']}),this[_0x1c5fda(0x8e9)](),this[_0x1c5fda(0x872)](_0x3a884d,_0x17a722);}['subscribe'](_0x180452,_0xbe20d3){const _0x1b5379=_0xab329a;if(this[_0x1b5379(0x941)]['has'](_0x180452))throw new _0x1695e5(_0x91d017['PubSubTopicAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0x1b5379(0x941)][_0x1b5379(0x4d1)](_0x180452,this[_0x1b5379(0x3d0)]((_0x1677d1,_0xd7d384)=>{const _0x367706=_0x1b5379;_0x367706(0x62e)===_0x180452&&_0xd7d384 instanceof File||!(_0x367706(0x22c)!==_0x180452||_0xd7d384 instanceof File)||(_0x542377[_0x367706(0x4ad)](_0x59a34d[_0x367706(0x999)],'PubSubTopic\x20onMessage',this[_0x367706(0x242)][_0x367706(0x7a4)](),_0x1677d1,_0xd7d384),_0x542377[_0x367706(0x940)](_0x2a74fc['PubSub'],{'type':_0x367706(0x94e),'label':this[_0x367706(0x4b1)],'nodeId':this[_0x367706(0x242)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'remoteId':_0x1677d1,'contentType':_0x180452,'size':_0xd7d384 instanceof File?_0xd7d384[_0x367706(0xa86)]:JSON[_0x367706(0x56e)](_0xd7d384)[_0x367706(0x4f0)]}),this[_0x367706(0x8e9)](),_0xbe20d3(_0x1677d1,_0xd7d384));}));}[_0xab329a(0x3c8)](_0xf1757f){const _0x248142=_0xab329a;this[_0x248142(0x941)]['get'](_0xf1757f)?.(),this[_0x248142(0x941)][_0x248142(0x425)](_0xf1757f);}[_0xab329a(0x5f3)](){const _0x57a726=_0xab329a;this[_0x57a726(0x941)][_0x57a726(0xad2)](_0x1bff8d=>_0x1bff8d()),clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}[_0xab329a(0xace)](){const _0x2f677f=_0xab329a;this[_0x2f677f(0x2f3)]?.[_0x2f677f(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x2f677f(0xb65)],'content':{'type':_0x8a5c45[_0x2f677f(0x87d)],'label':this[_0x2f677f(0x4b1)]}});}[_0xab329a(0x8e9)](){const _0x1a3544=_0xab329a;this[_0x1a3544(0xa82)]&&clearTimeout(this[_0x1a3544(0xa82)]),this[_0x1a3544(0xa82)]=setTimeout(()=>{const _0x32a7f2=_0x1a3544;this[_0x32a7f2(0x2f3)]?.['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x32a7f2(0xb65)],'content':{'type':_0x8a5c45[_0x32a7f2(0x4ab)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x32a7f2(0x8b6)],'messagesReceived':this['messagesReceived'],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x32a7f2(0xb0c)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x5615a9);}}class _0x56ceb0 extends _0xf63ff3{[_0xab329a(0x242)];[_0xab329a(0x864)];[_0xab329a(0x194)];[_0xab329a(0x48a)];['unsubscribeHandler'];['resizeHandler'];['updateDebounce'];[_0xab329a(0x8fd)]=new Map();['renderElement'];['subscribedTracks']=new Set();[_0xab329a(0x30e)];['providerListener']=_0x41f17b();['trackEndedListeners']=new Map();constructor(_0x2053da,_0x3fc2ac,_0x2f68b7,_0x314f0e,_0x2f89f,_0x3684a5){const _0x32389c=_0xab329a;super(_0x3fc2ac,_0x2f68b7,new MediaStream()),this[_0x32389c(0x242)]=_0x2053da,this['internalId']=_0x314f0e,this[_0x32389c(0x194)]=_0x2f89f,this[_0x32389c(0x48a)]=_0x3684a5,this[_0x32389c(0x4f1)][_0x32389c(0x865)]()['forEach'](_0x45649f=>this[_0x32389c(0x493)](_0x45649f));}[_0xab329a(0x5f3)](){const _0xaf208a=_0xab329a;this[_0xaf208a(0x8fd)][_0xaf208a(0xa86)]>0x0&&(this['outgoingStreams'][_0xaf208a(0xad2)](_0x6a7d3e=>{const _0x2a8b0e=_0xaf208a;_0x6a7d3e['unregisterSystemPublisher'](),_0x6a7d3e[_0x2a8b0e(0x5f3)]();}),this[_0xaf208a(0x8fd)]['clear']()),this[_0xaf208a(0x15d)][_0xaf208a(0xad2)](_0x4b2818=>_0x4b2818()),this['mediaStream'][_0xaf208a(0x865)]()[_0xaf208a(0xad2)](_0x22a352=>this[_0xaf208a(0x4f1)][_0xaf208a(0x7e6)](_0x22a352)),this[_0xaf208a(0xacc)]&&(clearTimeout(this[_0xaf208a(0xacc)]),delete this['updateDebounce']),this['resizeHandler']?.(),super[_0xaf208a(0x5f3)]();}[_0xab329a(0x280)](_0x3d3578){const _0xf3d86e=_0xab329a;this[_0xf3d86e(0x941)]=_0x3d3578[_0xf3d86e(0x94e)](({content:_0xd6cf17})=>{const _0x7f9c5a=_0xf3d86e;switch(_0xd6cf17[_0x7f9c5a(0x5b3)]){case _0x2e8f07[_0x7f9c5a(0x2e7)]:if(_0x542377[_0x7f9c5a(0x4ad)](_0x59a34d[_0x7f9c5a(0x75a)],_0x7f9c5a(0x7d4),this[_0x7f9c5a(0x242)]['getId'](),this[_0x7f9c5a(0x30e)]),_0xd6cf17[_0x7f9c5a(0x4fd)]['id']!==this[_0x7f9c5a(0x864)]||_0xd6cf17['providerId']!==this[_0x7f9c5a(0x30e)])return;this[_0x7f9c5a(0x7e6)](_0xd6cf17['track'][_0x7f9c5a(0x1dd)]),this[_0x7f9c5a(0x4f1)]['addTrack'](_0xd6cf17[_0x7f9c5a(0x8cf)]);for(const [_0x35e0d9,_0xf1d7b3]of this['outgoingStreams'][_0x7f9c5a(0x41b)]())try{_0xf1d7b3[_0x7f9c5a(0x6d7)](_0xd6cf17[_0x7f9c5a(0x8cf)]);}catch(_0x42f291){_0xf1d7b3[_0x7f9c5a(0x5f3)](),this[_0x7f9c5a(0x8fd)][_0x7f9c5a(0x425)](_0x35e0d9);}this[_0x7f9c5a(0x493)](_0xd6cf17[_0x7f9c5a(0x8cf)]),this[_0x7f9c5a(0x739)](),'video'===_0xd6cf17['track'][_0x7f9c5a(0x1dd)]&&this[_0x7f9c5a(0x5ba)]&&(this[_0x7f9c5a(0x4f1)][_0x7f9c5a(0x986)]?setTimeout(()=>this[_0x7f9c5a(0x5ba)]?.['play'](),0x0):setTimeout(()=>this[_0x7f9c5a(0x5ba)]?.[_0x7f9c5a(0x3e5)](),0x0),this[_0x7f9c5a(0x7d0)]());break;case _0x2e8f07[_0x7f9c5a(0x646)]:if(_0xd6cf17[_0x7f9c5a(0x4fd)]['id']!==this['internalId']||_0xd6cf17[_0x7f9c5a(0x30e)]!==this['providerId'])return;this[_0x7f9c5a(0x7e6)](_0xd6cf17[_0x7f9c5a(0x8cf)][_0x7f9c5a(0x1dd)]),this[_0x7f9c5a(0x5ba)]&&_0x7f9c5a(0x7e2)===_0xd6cf17[_0x7f9c5a(0x8cf)][_0x7f9c5a(0x1dd)]&&(this[_0x7f9c5a(0xb05)]?.(),this[_0x7f9c5a(0x4f1)]['getTracks']()[_0x7f9c5a(0x4f0)]>0x0?this[_0x7f9c5a(0x5ba)][_0x7f9c5a(0x3e5)]():this['renderElement'][_0x7f9c5a(0x5a0)]=null);}});}['unregisterSubscriber'](){const _0xc8c964=_0xab329a;this[_0xc8c964(0x941)]?.(),this[_0xc8c964(0x15d)][_0xc8c964(0xad2)](_0x174bcd=>_0x174bcd()),delete this[_0xc8c964(0x941)];}[_0xab329a(0xb50)](){const _0x4c8c51=_0xab329a;return this[_0x4c8c51(0x864)];}['setInternalId'](_0x35e350){const _0x34a321=_0xab329a;this[_0x34a321(0x864)]=_0x35e350;}[_0xab329a(0xb6c)](){const _0x109ae9=_0xab329a;return this[_0x109ae9(0x194)];}[_0xab329a(0x76b)](_0x59fb86){const _0x5b0a55=_0xab329a;for(const _0x394f86 of _0x59fb86||this[_0x5b0a55(0x194)])if(!this[_0x5b0a55(0x4f1)][_0x5b0a55(0x865)]()[_0x5b0a55(0xb4a)](_0x1e0237=>_0x1e0237[_0x5b0a55(0x1dd)]===_0x394f86))return!0x1;return!0x0;}[_0xab329a(0x812)](){const _0x581b26=_0xab329a;let _0x342350={'width':0x0,'height':0x0};const _0x4b4205=this[_0x581b26(0x4f1)]['getVideoTracks']();if(_0x4b4205[_0x581b26(0x4f0)]>0x0){const _0x58146d=_0x4b4205[0x0][_0x581b26(0x24b)]();_0x58146d[_0x581b26(0x62b)]&&_0x58146d[_0x581b26(0x1ae)]&&(_0x342350={'width':_0x58146d[_0x581b26(0x62b)],'height':_0x58146d[_0x581b26(0x1ae)]});}return _0x342350;}['isSubscribed'](_0x33b74a){for(const _0x9d5d35 of _0x33b74a)if(!this['subscribedTracks']['has'](_0x9d5d35))return!0x1;return!0x0;}[_0xab329a(0x9b1)](_0x30c175,_0x456d06){const _0x2720c0=_0xab329a;if(!this['outgoingStreams'][_0x2720c0(0x727)](_0x30c175)){const _0x5a23d2=new _0x39b2ac(this[_0x2720c0(0x911)],this[_0x2720c0(0x4b1)],this[_0x2720c0(0x4f1)],_0x30c175,_0x456d06),_0x4afda2=_0x5a23d2[_0x2720c0(0x2a0)](()=>{const _0x2cf62f=_0x2720c0;_0x4afda2(),this['outgoingStreams']['get'](_0x30c175)?.['destroy'](),this['outgoingStreams'][_0x2cf62f(0x425)](_0x30c175);});this[_0x2720c0(0x8fd)][_0x2720c0(0x4d1)](_0x30c175,_0x5a23d2),_0x5a23d2[_0x2720c0(0x4d7)](this[_0x2720c0(0x2f3)]);}return this['outgoingStreams'][_0x2720c0(0x153)](_0x30c175);}[_0xab329a(0xab3)](){const _0x311a6d=_0xab329a;return this[_0x311a6d(0x4f1)]['id'];}[_0xab329a(0x8ca)](){const _0xdf6252=_0xab329a;return _0x1d89a1[_0xdf6252(0x8c9)][_0xdf6252(0x4d5)];}['getSubscribedTracks'](){const _0x34c4d3=_0xab329a;return Array['from'](this[_0x34c4d3(0x55f)]);}[_0xab329a(0x94e)](_0x37fa90){const _0x57a62d=_0xab329a;let _0x1b94a6=[];if(_0x37fa90){_0x57a62d(0x29a)!=typeof _0x37fa90[_0x57a62d(0x7e2)]||_0x37fa90[_0x57a62d(0x7e2)]['renderElement']instanceof HTMLVideoElement||!this[_0x57a62d(0x5ba)]||(_0x37fa90[_0x57a62d(0x7e2)]={'renderElement':this[_0x57a62d(0x5ba)]});try{(0x0,_0x1d89a1['isValidMediaSubscriptionParams'])(_0x37fa90);}catch(_0x46748c){throw new _0x1695e5(_0x91d017[_0x57a62d(0x77e)],_0x57a62d(0x612));}_0x37fa90[_0x57a62d(0x7e2)]&&(_0x1b94a6[_0x57a62d(0x257)](_0x57a62d(0x7e2)),_0x57a62d(0x503)!=typeof _0x37fa90['video']&&_0x37fa90['video'][_0x57a62d(0x5ba)]&&(this[_0x57a62d(0x5ba)]=_0x37fa90['video'][_0x57a62d(0x5ba)],_0x37fa90['video'][_0x57a62d(0x844)]||(_0x37fa90[_0x57a62d(0x7e2)][_0x57a62d(0x844)]={'width':this['renderElement']['clientWidth'],'height':this[_0x57a62d(0x5ba)][_0x57a62d(0x6d1)]}),delete _0x37fa90[_0x57a62d(0x7e2)]['renderElement'])),_0x37fa90['audio']&&_0x1b94a6['push'](_0x57a62d(0x8d2));}else _0x1b94a6=this[_0x57a62d(0xb6c)]();this[_0x57a62d(0x3b6)](_0x1b94a6)||(_0x1b94a6['forEach'](_0x386bb8=>this['subscribedTracks'][_0x57a62d(0x232)](_0x386bb8)),this[_0x57a62d(0x2f3)]['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x57a62d(0xb65)],'content':{'type':_0x8a5c45[_0x57a62d(0x5c7)],'label':this[_0x57a62d(0x4b1)],'ownerId':this[_0x57a62d(0x911)][_0x57a62d(0x7a4)](),'trackKinds':_0x1b94a6,'params':_0x37fa90}}),_0x542377[_0x57a62d(0x940)](_0x2a74fc[_0x57a62d(0x7c1)],{'type':'subscribe','label':this['label'],'nodeId':this[_0x57a62d(0x242)]['getId'](),'nodeType':this[_0x57a62d(0x242)]['type'],'clusterId':this[_0x57a62d(0x48a)],'sourceId':this[_0x57a62d(0x911)][_0x57a62d(0x7a4)](),'streamId':this[_0x57a62d(0x864)],'trackKinds':_0x1b94a6}));}[_0xab329a(0x959)](_0x36b839){const _0x32d4e6=_0xab329a;try{(0x0,_0x1d89a1['isValidMediaSubscriptionParams'])(_0x36b839);}catch(_0x385c3c){throw new _0x1695e5(_0x91d017[_0x32d4e6(0x77e)],_0x32d4e6(0x612));}this[_0x32d4e6(0xacc)]&&clearTimeout(this[_0x32d4e6(0xacc)]),this[_0x32d4e6(0xacc)]=setTimeout(()=>{const _0x37ca16=_0x32d4e6;delete this[_0x37ca16(0xacc)],this[_0x37ca16(0x2f3)][_0x37ca16(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x37ca16(0xb65)],'content':{'type':_0x8a5c45[_0x37ca16(0x1eb)],'label':this[_0x37ca16(0x4b1)],'ownerId':this['owner'][_0x37ca16(0x7a4)](),'params':_0x36b839}});},0x1f4);}[_0xab329a(0x3c8)](_0x332008){const _0x117d8a=_0xab329a;_0x332008||(_0x332008=this[_0x117d8a(0xb6c)]()),(_0x332008=Array[_0x117d8a(0x4c7)](_0x332008)?_0x332008:[_0x332008])[_0x117d8a(0xad2)](_0x801580=>this['subscribedTracks'][_0x117d8a(0x425)](_0x801580)),this[_0x117d8a(0x2f3)][_0x117d8a(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x117d8a(0xb65)],'content':{'type':_0x8a5c45[_0x117d8a(0x65f)],'label':this['label'],'ownerId':this['owner'][_0x117d8a(0x7a4)](),'trackKinds':_0x332008,'remainingTracks':this[_0x117d8a(0x55f)][_0x117d8a(0xa86)]}});}[_0xab329a(0x6bf)](_0x54c7b2){const _0x242281=_0xab329a;return this[_0x242281(0x52e)][_0x242281(0x94e)](_0x54c7b2);}['getProviderId'](){const _0x3f37bb=_0xab329a;return this[_0x3f37bb(0x30e)];}['setProviderId'](_0x43bec2){const _0x2b8a8d=_0xab329a;this[_0x2b8a8d(0x30e)]!==_0x43bec2&&(this[_0x2b8a8d(0x30e)]=_0x43bec2,this['providerListener']['publish'](_0x43bec2));}[_0xab329a(0x81f)](_0x1d0a03){const _0x36a35c=_0xab329a;this[_0x36a35c(0x15d)][_0x36a35c(0x153)](_0x1d0a03)?.(),this[_0x36a35c(0x15d)][_0x36a35c(0x425)](_0x1d0a03);}[_0xab329a(0x7e6)](_0x5c2e01){const _0x40b19b=_0xab329a,_0xf193b5=this[_0x40b19b(0x4f1)][_0x40b19b(0x865)]()[_0x40b19b(0xb4a)](_0x4cf263=>_0x4cf263[_0x40b19b(0x1dd)]===_0x5c2e01);_0xf193b5&&(this[_0x40b19b(0x4f1)][_0x40b19b(0x7e6)](_0xf193b5),this[_0x40b19b(0x8fd)][_0x40b19b(0xad2)](_0x4f7065=>_0x4f7065[_0x40b19b(0x7e6)](_0x5c2e01)),this[_0x40b19b(0x15d)][_0x40b19b(0x153)](_0x5c2e01)?.());}[_0xab329a(0x739)](){const _0x5749d4=_0xab329a;this['renderElement']&&(this[_0x5749d4(0x5ba)]['srcObject']&&this[_0x5749d4(0x5ba)][_0x5749d4(0x5a0)]===this[_0x5749d4(0x4f1)]||(this[_0x5749d4(0x5ba)][_0x5749d4(0x5a0)]=this[_0x5749d4(0x4f1)]));}['setupResizeHandler'](){const _0x383141=_0xab329a;if(this['renderElement']&&!this[_0x383141(0xb05)]&&_0x383141(0x4b5)!=typeof ResizeObserver){let _0x217d52=this['renderElement'][_0x383141(0x169)],_0x516ce5=this[_0x383141(0x5ba)][_0x383141(0x6d1)];const _0x107419=new ResizeObserver(_0x55f3d4=>{const _0x2475b5=_0x383141,{width:_0x50531d,height:_0x23bdf9}=_0x55f3d4[0x0][_0x2475b5(0xa48)];_0x217d52===_0x50531d&&_0x516ce5===_0x23bdf9||(_0x217d52=Math[_0x2475b5(0x37a)](_0x50531d),_0x516ce5=Math[_0x2475b5(0x37a)](_0x23bdf9),this[_0x2475b5(0x959)]({'video':{'maxResolution':{'width':_0x50531d,'height':_0x23bdf9}}}));});_0x107419['observe'](this[_0x383141(0x5ba)]),this[_0x383141(0xb05)]=()=>_0x107419[_0x383141(0xa9f)]();}}[_0xab329a(0x6ef)](_0x32bb53){const _0x436d20=_0xab329a,_0x545dc2=[];for(const _0x38c544 of this['subscribedTracks'])this['removeTrack'](_0x38c544),_0x545dc2[_0x436d20(0x257)](_0x38c544);this[_0x436d20(0x30e)]&&this[_0x436d20(0x2f3)]['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x436d20(0xb65)],'content':{'type':_0x8a5c45[_0x436d20(0x1be)],'label':this[_0x436d20(0x4b1)],'streamId':this[_0x436d20(0x864)],'ownerId':this['owner'][_0x436d20(0x7a4)](),'providerId':this[_0x436d20(0x30e)],'trackKinds':_0x545dc2}});}[_0xab329a(0x493)](_0x1d5ae0){const _0x16ff84=_0xab329a,_0x110ef0=()=>this[_0x16ff84(0x6ef)](_0x1d5ae0);_0x1d5ae0[_0x16ff84(0x9f0)](_0x16ff84(0x8bb),_0x110ef0),_0x1d5ae0['addEventListener'](_0x16ff84(0xa00),_0x110ef0),this['trackEndedListeners']['set'](_0x1d5ae0[_0x16ff84(0x1dd)],()=>{const _0x43500a=_0x16ff84;_0x1d5ae0['removeEventListener'](_0x43500a(0x8bb),_0x110ef0),_0x1d5ae0[_0x43500a(0x59f)]('mute',_0x110ef0),this[_0x43500a(0x15d)][_0x43500a(0x425)](_0x1d5ae0[_0x43500a(0x1dd)]);});}}class _0xb060e8 extends _0x2ccca0{['localNode'];['clusterId'];['vendorId'];['db'];[_0xab329a(0xa82)];[_0xab329a(0x6a9)]=0x0;['reads']=0x0;[_0xab329a(0x528)]=!0x1;constructor(_0x28d3a7,_0x3f9ea4,_0x256df8,_0x534c62,_0xdaef76){const _0x5c2ad3=_0xab329a;if('string'!=typeof _0x3f9ea4)throw new _0x1695e5(_0x91d017[_0x5c2ad3(0x6ca)],_0x5c2ad3(0xb37));super(_0x28d3a7,_0x3f9ea4),this['localNode']=_0x28d3a7,this[_0x5c2ad3(0x48a)]=_0x256df8,this['vendorId']=_0x534c62;const _0x47b9bc=_0x5c2ad3(0xafd)+this[_0x5c2ad3(0x3e1)]+'ccc'+this[_0x5c2ad3(0x48a)]+_0x5c2ad3(0xafd)+this[_0x5c2ad3(0x4b1)];this['db']=new _0xdaef76(_0x47b9bc),this[_0x5c2ad3(0x8e9)]();}[_0xab329a(0x952)](){return this['isLoaded'];}[_0xab329a(0x8c2)](_0x3a7bd7){const _0x362a55=_0xab329a;this[_0x362a55(0x528)]=_0x3a7bd7;}[_0xab329a(0x5f3)](){const _0x5c797b=_0xab329a;clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x5c797b(0x5f3)]();}[_0xab329a(0xace)](){const _0x195ea0=_0xab329a;this['systemTopic'][_0x195ea0(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x195ea0(0xb65)],'content':{'type':_0x8a5c45[_0x195ea0(0xa90)],'label':this['label']}});}[_0xab329a(0x669)](){const _0x28b082=_0xab329a;this[_0x28b082(0x8e9)]();}['getContentType'](){const _0x539207=_0xab329a;return _0x1d89a1[_0x539207(0x93a)][_0x539207(0xa8c)];}[_0xab329a(0x9a7)](_0x51384c,_0x4ba4c1,_0xa98fbe,_0x213908,_0x16f91d){const _0x1322a0=_0xab329a,_0xfd5844=this['db'][_0x1322a0(0x9a7)](_0x51384c,_0x4ba4c1,_0xa98fbe,_0x213908,_0x16f91d);return this['reads']+=0x1,_0x542377[_0x1322a0(0x940)](_0x2a74fc[_0x1322a0(0xa8c)],{'type':_0x1322a0(0x9a7),'label':this[_0x1322a0(0x4b1)],'nodeId':this['localNode']['getId'](),'nodeType':this[_0x1322a0(0x242)]['type'],'clusterId':this['clusterId'],'size':0x0}),this['sendStats'](),_0xfd5844;}[_0xab329a(0x6b1)](_0x18b45c,_0xcc32bc,_0x5aa234,_0x430600){const _0x4258d4=_0xab329a;this['db'][_0x4258d4(0x6b1)](_0x18b45c,_0xcc32bc,_0x5aa234,_0x430600),this[_0x4258d4(0x6a9)]+=0x1,_0x542377[_0x4258d4(0x940)](_0x2a74fc['VectorDatabase'],{'type':_0x4258d4(0x6b1),'label':this['label'],'nodeId':this[_0x4258d4(0x242)][_0x4258d4(0x7a4)](),'nodeType':this['localNode'][_0x4258d4(0x539)],'clusterId':this['clusterId'],'size':_0x430600[_0x4258d4(0x9ba)]((_0x22478c,_0x27da9c)=>_0x22478c+_0x27da9c[_0x4258d4(0x4f0)],0x0)}),this['sendStats']();}['remove'](_0x2392cb){const _0x44667b=_0xab329a;this['db'][_0x44667b(0x95b)](_0x2392cb),this[_0x44667b(0x6a9)]+=0x1,_0x542377[_0x44667b(0x940)](_0x2a74fc[_0x44667b(0xa8c)],{'type':_0x44667b(0x95b),'label':this[_0x44667b(0x4b1)],'nodeId':this[_0x44667b(0x242)][_0x44667b(0x7a4)](),'nodeType':this[_0x44667b(0x242)][_0x44667b(0x539)],'clusterId':this['clusterId'],'size':0x0}),this['sendStats']();}['saveToDisk'](_0x1eb6e2){const _0x158f61=_0xab329a;this['db'][_0x158f61(0x175)](_0x1eb6e2);}[_0xab329a(0x728)](_0x1902ab){const _0x3ee542=_0xab329a;this['db'][_0x3ee542(0x728)](_0x1902ab);}['sendStats'](){const _0x758b1f=_0xab329a;this[_0x758b1f(0xa82)]&&clearTimeout(this[_0x758b1f(0xa82)]),this[_0x758b1f(0xa82)]=setTimeout(async()=>{const _0x53d068=_0x758b1f;delete this['debounceStats'];const _0x404d16=this['db'][_0x53d068(0x238)]()[_0x53d068(0x790)];this[_0x53d068(0x2f3)][_0x53d068(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589['Content'],'content':{'type':_0x8a5c45[_0x53d068(0x645)],'label':this['label'],'stats':{'timestamp':Date[_0x53d068(0x4cb)](),'storage':_0x404d16,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x53d068(0x574)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x53d068(0xb0c)],'writes':this[_0x53d068(0x6a9)],'reads':this[_0x53d068(0x399)],'prompts':0x0,'tokens':0x0}}}),_0x542377[_0x53d068(0x362)](_0x2a74fc[_0x53d068(0xa8c)],_0x53d068(0xafd)+this[_0x53d068(0x48a)]+_0x53d068(0xafd)+this[_0x53d068(0x4b1)],_0x404d16);},_0x5615a9);}}class _0x5a7cb1{['id'];['remoteConnections'];[_0xab329a(0xacd)];constructor(_0x4d9b0a,_0x1ee834=new Set(),_0x3f9f7b){const _0x546e8a=_0xab329a;this['id']=_0x4d9b0a,this[_0x546e8a(0x68a)]=_0x1ee834,this['rank']=_0x3f9f7b;}[_0xab329a(0xace)](){const _0xe62272=_0xab329a;this[_0xe62272(0xacd)]=void 0x0,this[_0xe62272(0x68a)][_0xe62272(0x613)]();}[_0xab329a(0x7a4)](){return this['id'];}[_0xab329a(0xab2)](){return this['rank'];}[_0xab329a(0x210)](){const _0x588769=_0xab329a;return this[_0x588769(0x68a)];}}class _0x3c1882 extends _0x5a7cb1{['id'];[_0xab329a(0x876)];[_0xab329a(0x776)];[_0xab329a(0x68a)];[_0xab329a(0xacd)];[_0xab329a(0x539)]=_0x1d89a1['NodeType']['User'];constructor(_0x114854,_0x1cb93b,_0x256236,_0x43626e=new Set(),_0xea5b92){const _0x4ec5f8=_0xab329a;super(_0x114854,_0x43626e,_0xea5b92),this['id']=_0x114854,this[_0x4ec5f8(0x876)]=_0x1cb93b,this['email']=_0x256236,this[_0x4ec5f8(0x68a)]=_0x43626e,this['rank']=_0xea5b92;}[_0xab329a(0x7e7)](){const _0x1f84f2=_0xab329a;return this[_0x1f84f2(0x876)];}[_0xab329a(0xb42)](){const _0x5933ec=_0xab329a;return this[_0x5933ec(0x776)];}}class _0x47362a{[_0xab329a(0x3e1)];[_0xab329a(0x48a)];[_0xab329a(0x2ef)];constructor(_0xb11872,_0x1b08b0){const _0x2a9be6=_0xab329a;this['vendorId']=_0xb11872,this[_0x2a9be6(0x48a)]=_0x1b08b0,this['clusterKey']=_0x2a9be6(0xafd)+this[_0x2a9be6(0x3e1)]+_0x2a9be6(0xafd)+this[_0x2a9be6(0x48a)];}async['writeTransaction'](_0x259e49,_0x11767f){const _0x59f073=_0xab329a,_0x1e3281=(0x0,_0x3f50ce[_0x59f073(0x86e)])(_0x44b60b[_0x59f073(0xa11)](),_0x59f073(0x729)+this['clusterKey']+_0x59f073(0xb5c)+_0x11767f+_0x59f073(0x1b0)+_0x259e49['id']),_0x2e9417=(0x0,_0x3f50ce[_0x59f073(0x15e)])(_0x1e3281);_0x2e9417[_0x59f073(0x95b)](),_0x259e49[_0x59f073(0x4b6)]||delete _0x259e49['parentId'];try{await(0x0,_0x3f50ce[_0x59f073(0x4d1)])(_0x1e3281,_0x259e49);}catch(_0x47e5b6){throw await _0x2e9417['cancel'](),new _0x227d3a(_0x227d3a[_0x59f073(0x821)][_0x59f073(0x7cf)]);}if(!0x1===(await(0x0,_0x3f50ce[_0x59f073(0x8d6)])((0x0,_0x3f50ce[_0x59f073(0x86e)])(_0x44b60b[_0x59f073(0xa11)](),_0x59f073(0x729)+this[_0x59f073(0x2ef)]+_0x59f073(0xb5c)+_0x11767f+_0x59f073(0x625)),_0x2e2606=>_0x2e2606?_0x2e2606===_0x259e49['parentId']?_0x259e49['id']:void 0x0:_0x259e49[_0x59f073(0x4b6)]?_0x259e49[_0x59f073(0x4b6)]:_0x259e49['id']))[_0x59f073(0x4b2)])throw await(0x0,_0x3f50ce[_0x59f073(0x95b)])(_0x1e3281),await _0x2e9417[_0x59f073(0x358)](),new _0x227d3a(_0x227d3a[_0x59f073(0x821)][_0x59f073(0x533)]);await _0x2e9417[_0x59f073(0x358)]();}async['getTransactions'](_0x38269e,_0x4a53ed){const _0x232910=_0xab329a;let _0x135556=[];const _0x2b296f=(0x0,_0x3f50ce[_0x232910(0x86e)])(_0x44b60b[_0x232910(0xa11)](),_0x232910(0x729)+this[_0x232910(0x2ef)]+_0x232910(0xb5c)+_0x38269e+'/transactions');let _0x4c02d6=await(0x0,_0x3f50ce[_0x232910(0x153)])((0x0,_0x3f50ce['query'])(_0x2b296f,(0x0,_0x3f50ce['limitToFirst'])(0x65),(0x0,_0x3f50ce[_0x232910(0x39f)])()));if(!_0x4c02d6[_0x232910(0x607)]()){if(void 0x0!==_0x4a53ed)throw new _0x227d3a(_0x227d3a[_0x232910(0x821)][_0x232910(0x14f)]);return _0x135556;}const _0x5d4c42=_0x4c02d6[_0x232910(0xb3b)]();for(;Object[_0x232910(0x628)](_0x4c02d6['val']())[_0x232910(0x4f0)]>0x64;){const _0x11e0d6=Object[_0x232910(0x628)](_0x4c02d6[_0x232910(0xb3b)]()),_0x4665f0=_0x11e0d6[_0x11e0d6['length']-0x1];_0x4c02d6=await(0x0,_0x3f50ce['get'])((0x0,_0x3f50ce['query'])(_0x2b296f,(0x0,_0x3f50ce['limitToFirst'])(0x65),(0x0,_0x3f50ce['startAt'])(_0x4665f0),(0x0,_0x3f50ce[_0x232910(0x39f)])())),Object[_0x232910(0x6c9)](_0x5d4c42,_0x4c02d6[_0x232910(0xb3b)]());}if(_0x135556=Object['values'](_0x5d4c42)[_0x232910(0x2b3)](_0x21bf7a=>_0x232910(0x816)!=typeof _0x21bf7a),0x0===_0x135556[_0x232910(0x4f0)]&&void 0x0!==_0x4a53ed)throw new _0x227d3a(_0x227d3a[_0x232910(0x821)][_0x232910(0x14f)]);if(_0x135556['length']>0x0&&void 0x0!==_0x4a53ed&&!_0x135556[_0x232910(0xb4a)](_0x32d363=>_0x32d363['id']===_0x4a53ed))throw new _0x227d3a(_0x227d3a['codes']['ObjectStoreInvalidState']);const _0x114bd4=[];let _0x158500=_0x135556[_0x232910(0xb4a)](_0x1216b1=>_0x1216b1['parentId']===_0x4a53ed);for(;_0x158500;)_0x114bd4[_0x232910(0x257)](_0x158500),_0x158500=_0x135556['find'](_0x241be6=>_0x241be6[_0x232910(0x4b6)]===_0x158500['id']);return _0x114bd4;}}class _0x4d01f2 extends _0x3d2d9c{[_0xab329a(0x405)];[_0xab329a(0x794)];[_0xab329a(0x956)];['objectStoreConnector'];[_0xab329a(0xa8f)];[_0xab329a(0xa4c)];[_0xab329a(0x545)];[_0xab329a(0x826)];[_0xab329a(0x992)];[_0xab329a(0x72a)];[_0xab329a(0x288)];[_0xab329a(0x95a)];[_0xab329a(0x2c8)]=_0x63c5ed;[_0xab329a(0x197)]=new Map();['isOpened']=!0x1;constructor(_0x65d04f,_0x2d3c93,_0x555e63,_0x19abc8,_0x2fa2de,_0x5a6385,_0x48f431,_0x2d2dfe,_0x97b16,_0x5f2e24,_0xb3c1a4,_0x5dac4e,_0x54114c,_0x257b30){const _0x3d75a1=_0xab329a;super(_0x65d04f,_0x2d3c93),this['contentMediator']=_0x555e63,this['generativeAIWorkerConnectors']=_0x19abc8,this[_0x3d75a1(0x956)]=_0x2fa2de,this['objectStoreConnector']=_0x5a6385,this['documentParserConnector']=_0x48f431,this['fileConnector']=_0x2d2dfe,this[_0x3d75a1(0x545)]=_0x97b16,this['searchConnector']=_0x5f2e24,this[_0x3d75a1(0x992)]=_0xb3c1a4,this[_0x3d75a1(0x72a)]=_0x5dac4e,this[_0x3d75a1(0x288)]=_0x54114c,this[_0x3d75a1(0x95a)]=_0x257b30,this[_0x3d75a1(0x996)]();}async['getDataBucketIds'](){return[];}async[_0xab329a(0x996)](_0x3fa276=!0x1){const _0x334c8d=_0xab329a;if(!this['isOpened']){_0x542377[_0x334c8d(0x48f)](_0x334c8d(0x771),this[_0x334c8d(0x4b1)]);try{for(const _0x3942fb of this[_0x334c8d(0x794)])await _0x3942fb[_0x334c8d(0x7db)](this[_0x334c8d(0x4b1)],this[_0x334c8d(0x2c8)]);}catch(_0x3a54d7){return this['open'](_0x3fa276);}this[_0x334c8d(0xab8)]=!0x0,_0x542377[_0x334c8d(0x48f)]('GenerativeAIWorker:\x20Opened',this['label']);}}[_0xab329a(0xace)](){const _0x1b988a=_0xab329a;this[_0x1b988a(0x2f3)]?.[_0x1b988a(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x1b988a(0xb65)],'content':{'type':_0x8a5c45[_0x1b988a(0x307)],'label':this[_0x1b988a(0x4b1)]}});}[_0xab329a(0xb50)](){const _0x2f9055=_0xab329a;return this[_0x2f9055(0x4b1)];}[_0xab329a(0x552)](){return _0x1d89a1['ContentType']['Data'];}[_0xab329a(0x900)](_0x1e98fc){const _0x4d7d16=_0xab329a,_0x2c2ffe='job-'+(0x0,_0x3aba3d['v4'])();let _0x4857f5=!0x1;const _0x145ed5=()=>{const _0x478ab1=a0_0x1b87;if(_0x4857f5)throw new _0x227d3a(_0x227d3a[_0x478ab1(0x821)][_0x478ab1(0x606)]);_0x4857f5=!0x0;},_0x199a29={'threadId':'thread-'+(0x0,_0x3aba3d['v4'])(),..._0x1e98fc};switch(_0x1e98fc[_0x4d7d16(0x539)]){case _0x4d7d16(0x451):case _0x4d7d16(0xa5e):case'collection-query':case'file-delete':case _0x4d7d16(0x224):case _0x4d7d16(0x4aa):case _0x4d7d16(0x4aa):case'file-list':case _0x4d7d16(0x370):case'realtime-session-create':case _0x4d7d16(0x3bf):case _0x4d7d16(0x8c4):case _0x4d7d16(0x419):return{'id':_0x2c2ffe,..._0x1e98fc,'run':()=>(_0x145ed5(),this['internalProcessJob'](_0x2c2ffe,_0x199a29))};case'inference':case _0x4d7d16(0x850):return{'id':_0x2c2ffe,'options':{'threadId':'thread-'+(0x0,_0x3aba3d['v4'])()},..._0x1e98fc,'run':()=>(_0x145ed5(),this[_0x4d7d16(0x461)](_0x2c2ffe,_0x199a29)),'stream':()=>(_0x145ed5(),this[_0x4d7d16(0x3dc)](_0x2c2ffe,_0x199a29))};default:throw new Error('Invalid\x20job\x20type');}}async[_0xab329a(0x461)](_0x1d4047,_0x5aca76){const _0x377763=_0xab329a;if(_0x377763(0x850)===_0x5aca76['type']){await this[_0x377763(0x19c)](_0x1d4047,_0x5aca76);const _0x143b22=await _0x2c455e[_0x377763(0x80a)](_0x5aca76[_0x377763(0x3e1)],_0x5aca76[_0x377763(0x71a)]),_0x28609a=_0x143b22[_0x377763(0x2be)]['find'](_0x29cd31=>_0x29cd31[_0x377763(0x539)]===_0x2d5b5c[_0x377763(0x642)]||_0x29cd31[_0x377763(0x539)]===_0x2d5b5c[_0x377763(0x7d9)]),_0x4a7bcc=await _0x4caeaf(_0x5aca76[_0x377763(0x166)]??_0x1d4047,_0x5aca76,_0x28609a,_0x143b22['blocks'],{'documentParserConnector':this[_0x377763(0xa8f)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x377763(0x545)],'generativeAIWorkerConnectors':this[_0x377763(0x794)],'models':Array[_0x377763(0x61d)](this[_0x377763(0x2c8)][_0x377763(0xb40)]()),'contentMediator':this[_0x377763(0x405)],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x377763(0x72a)]});return await this['stopTracing'](_0x1d4047,_0x5aca76),_0x4a7bcc;}if(_0x377763(0x419)===_0x5aca76[_0x377763(0x539)])return await _0x1f1982(_0x5aca76,{'documentParserConnector':this[_0x377763(0xa8f)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x377763(0x545)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array[_0x377763(0x61d)](this[_0x377763(0x2c8)][_0x377763(0xb40)]()),'contentMediator':this[_0x377763(0x405)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x377763(0x992)],'queryFileConnector':this[_0x377763(0x72a)]});if(_0x377763(0x802)===_0x5aca76[_0x377763(0x539)]){await this[_0x377763(0x19c)](_0x1d4047,_0x5aca76);const _0x53951c=await _0x596bd9(_0x5aca76['jobId']??_0x1d4047,_0x5aca76,{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x377763(0xa4c)],'nlpLibraryConnector':this[_0x377763(0x545)],'generativeAIWorkerConnectors':this[_0x377763(0x794)],'models':Array['from'](this[_0x377763(0x2c8)][_0x377763(0xb40)]()),'contentMediator':this[_0x377763(0x405)],'searchConnector':this[_0x377763(0x826)],'aiSearchConnector':this[_0x377763(0x992)],'queryFileConnector':this[_0x377763(0x72a)]});return await this['stopTracing'](_0x1d4047,_0x5aca76),_0x53951c;}if('rate'===_0x5aca76['type'])return await _0x26d28b[_0x377763(0x670)]({'jobType':_0x2313f7[_0x377763(0x430)],'type':_0xfa022a[_0x377763(0x786)],'jobId':_0x5aca76[_0x377763(0x166)],'threadId':_0x5aca76[_0x377763(0x1f7)],'traceLevel':_0x581e8e[_0x377763(0x72c)],'startTime':Date[_0x377763(0x4cb)](),'timestamp':Date[_0x377763(0x4cb)](),'status':_0x377763(0x561),'rating':_0x5aca76['rating'],'feedback':_0x5aca76[_0x377763(0x87c)]}),{'type':_0x377763(0x370),'status':_0x1d89a1[_0x377763(0x98c)][_0x377763(0x7ef)]};if(_0x377763(0x8c4)===_0x5aca76['type'])return await _0x20cc6a(_0x5aca76,{'documentParserConnector':this[_0x377763(0xa8f)],'fileConnector':this[_0x377763(0xa4c)],'nlpLibraryConnector':this['nlpLibraryConnector'],'generativeAIWorkerConnectors':this[_0x377763(0x794)],'models':Array[_0x377763(0x61d)](this[_0x377763(0x2c8)]['values']()),'contentMediator':this[_0x377763(0x405)],'searchConnector':this[_0x377763(0x826)],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x377763(0x72a)]});if('speech-create'===_0x5aca76['type']){const _0xb6ecf0=_0x63c5ed['get'](_0x5aca76[_0x377763(0x968)]);if(!_0xb6ecf0)throw new Error(_0x377763(0x8ad));const _0x215b70=this['speechAIWorkerConnectors'][_0x377763(0xb4a)](_0x27778c=>_0x27778c[_0x377763(0x8b5)]()===_0xb6ecf0[_0x377763(0x145)]);if(!_0x215b70)throw new Error('No\x20speech\x20connector\x20available');return{'type':'speech-create','audio':await _0x215b70[_0x377763(0xa06)](_0x5aca76[_0x377763(0x968)],_0x5aca76[_0x377763(0x66d)],_0x5aca76[_0x377763(0x838)],_0x5aca76['instructions'])};}if(_0x377763(0x7c8)===_0x5aca76['type']){const _0x2332bf=await _0x2c455e[_0x377763(0x80a)](_0x5aca76[_0x377763(0x3e1)],_0x5aca76[_0x377763(0x71a)]),_0x2f219d=_0x2332bf[_0x377763(0x2be)]['find'](_0x19445a=>_0x19445a[_0x377763(0x539)]===_0x2d5b5c[_0x377763(0x7d9)]),_0xe9c9a2=_0x2f219d[_0x377763(0x9a8)]?.['find'](_0x556240=>_0x556240['type']===_0x5395bb[_0x377763(0x585)]),_0x1f9105=_0x2332bf['blocks']['find'](_0x50db6f=>_0x50db6f['type']===_0x2d5b5c['Agent']&&_0x50db6f['uid']===_0xe9c9a2[_0x377763(0xa4b)]),_0x4b93ee=_0x63c5ed[_0x377763(0x153)](_0x1f9105[_0x377763(0xa5c)]),_0x1cda0f=_0x2332bf[_0x377763(0x2be)][_0x377763(0x2b3)](_0x1b9d63=>_0x1b9d63[_0x377763(0x9a8)]?.[_0x377763(0x95e)](_0x282dbb=>_0x282dbb[_0x377763(0x539)]===_0x5395bb['Tool']&&_0x282dbb['uid']===_0x1f9105[_0x377763(0xa4b)]))['flatMap'](_0x5bb086=>_0x12ba8d(_0x5bb086,_0x2332bf[_0x377763(0x2be)])),_0x47d9ae=_0x2332bf[_0x377763(0x2be)][_0x377763(0xb4a)](_0x566cdc=>_0x566cdc[_0x377763(0x539)]===_0x2d5b5c['OutputStream']),_0x409819=_0x2332bf['blocks'][_0x377763(0xb4a)](_0x57dc39=>_0x57dc39[_0x377763(0x539)]===_0x2d5b5c[_0x377763(0x52c)]&&_0x57dc39[_0x377763(0x9a8)]?.['some'](_0x17f868=>_0x17f868[_0x377763(0x539)]===_0x5395bb[_0x377763(0x585)]&&_0x17f868[_0x377763(0xa4b)]===_0x47d9ae[_0x377763(0xa4b)])),_0x8ea362=_0x2332bf[_0x377763(0x2be)]['find'](_0xe16588=>_0xe16588[_0x377763(0x539)]===_0x2d5b5c['Agent']&&_0xe16588['uid']===_0x409819[_0x377763(0xa4b)]),_0x3f562a=_0x63c5ed[_0x377763(0x153)](_0x8ea362['modelId']);return{'type':'realtime-session-create','apiKey':this[_0x377763(0x95a)],'sessionType':_0x4b93ee[_0x377763(0x40c)]===_0x1d89a1[_0x377763(0x906)][_0x377763(0x81b)]?_0x377763(0x789):_0x377763(0x777),'firstAgent':{'modelId':_0x1f9105['modelId'],'taskType':_0x4b93ee[_0x377763(0x40c)],'instructions':_0x1f9105[_0x377763(0x74e)],'temperature':_0x1f9105[_0x377763(0x853)],'maxTokens':_0x1f9105[_0x377763(0x572)],'initialPrompt':_0x2332bf[_0x377763(0xab6)],'tools':_0x1cda0f[_0x377763(0x591)](_0x13c043=>({..._0x13c043,'name':this[_0x377763(0x7f3)](_0x13c043),'description':this[_0x377763(0x6f9)](_0x13c043),'parameters':this[_0x377763(0x888)](_0x13c043)}))},'lastAgent':{'modelId':_0x8ea362[_0x377763(0xa5c)],'taskType':_0x3f562a['taskType'],'instructions':_0x8ea362['instructions'],'initialPrompt':_0x2332bf[_0x377763(0xab6)]}};}if(_0x377763(0x398)===_0x5aca76['type']){const {vendorId:_0x42424e,collectionId:_0x34e0b8,fileId:_0x154bd1}=_0x5aca76,_0x11098c=await _0x2c455e[_0x377763(0x6e2)](_0x42424e,_0x34e0b8),_0x4149a3=this[_0x377763(0x288)]?.['get'](_0x11098c[_0x377763(0x5cd)]);if(!_0x4149a3)throw new Error(_0x377763(0x2e4));const _0x3345b2=_0x1528c2(_0x42424e,_0x11098c);if(_0x11098c[_0x377763(0x5cd)]===_0x1d89a1[_0x377763(0x146)][_0x377763(0x501)])try{await _0x4149a3['deleteFile'](_0x3345b2,_0x34e0b8,'/'+_0x42424e+'/'+_0x34e0b8+'/'+_0x154bd1),await this['objectStoreConnector'][_0x377763(0x7b0)]('/'+_0x42424e+'/'+_0x34e0b8+'/'+_0x154bd1);}catch(_0x4a4cbd){_0x542377[_0x377763(0x28d)](_0x377763(0xb32),_0x4a4cbd);}else try{await _0x4149a3[_0x377763(0x63a)](_0x3345b2,_0x34e0b8,_0x154bd1);}catch(_0x1b1363){_0x542377[_0x377763(0x28d)](_0x377763(0xb32),_0x1b1363);}return{'type':_0x377763(0x398)};}if(_0x377763(0x224)===_0x5aca76[_0x377763(0x539)]){let _0x2a4f85;const _0xb980e0=this['dataStores'][_0x377763(0x628)]();for(;!_0x2a4f85;){const _0x26233c=_0xb980e0[_0x377763(0x9a1)]()['value'];if(!_0x26233c)throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');_0x2a4f85=this[_0x377763(0x197)]['get'](_0x26233c);try{const _0x4fdb0a=await _0x2a4f85[_0x377763(0x153)](_0x5aca76['documentPath']);return{'type':_0x377763(0x224),'fileName':_0x4fdb0a[_0x377763(0x432)],'mimeType':_0x4fdb0a[_0x377763(0x539)],'document':await _0x4fdb0a[_0x377763(0x6c5)]()};}catch(_0x5c6427){continue;}}throw new Error(_0x377763(0x275));}if(_0x377763(0x4aa)===_0x5aca76[_0x377763(0x539)]){const {vendorId:_0x1f1491,collectionId:_0x5f0d2b,fileName:_0x4c62f0,content:_0xe784bd}=_0x5aca76,_0x246d15=await _0x2c455e[_0x377763(0x6e2)](_0x1f1491,_0x5f0d2b);if(_0x246d15[_0x377763(0x5cd)]!==_0x1d89a1[_0x377763(0x146)][_0x377763(0x501)]){const _0x4121f9=this[_0x377763(0x288)]?.[_0x377763(0x153)](_0x246d15['storageType']);if(!_0x4121f9)throw new Error(_0x377763(0x2e4));const _0x4a553c=_0x1528c2(_0x1f1491,_0x246d15);return await _0x4121f9[_0x377763(0x6a1)](_0x4a553c,_0x5f0d2b,_0x4c62f0,_0xe784bd),{'type':_0x377763(0x4aa)};}const _0x2ee121=_0x246d15['ingestBlocks']?.[_0x377763(0xb4a)](_0x2c5622=>_0x2c5622[_0x377763(0x539)]===_0x5d88c6['Upload']);if(!_0x2ee121)throw new Error(_0x377763(0x23c));return await _0x2d460f(_0x5aca76['vendorId'],_0x1d4047,'/'+_0x1f1491+'/'+_0x5f0d2b+'/'+_0x4c62f0,_0xe784bd,_0x2ee121,_0x246d15,{'objectStoreConnector':this['objectStoreConnector'],'ragConnector':this[_0x377763(0x288)]?.[_0x377763(0x153)](_0x1d89a1[_0x377763(0x146)][_0x377763(0x501)]),'documentParserConnector':this[_0x377763(0xa8f)],'fileConnector':this[_0x377763(0xa4c)],'nlpLibraryConnector':this[_0x377763(0x545)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':Array['from'](this[_0x377763(0x2c8)][_0x377763(0xb40)]()),'contentMediator':this[_0x377763(0x405)]}),{'type':_0x377763(0x4aa)};}if(_0x377763(0x8ac)===_0x5aca76['type']){const {vendorId:_0x4c53ae,collectionId:_0x33c025}=_0x5aca76,_0x5e221f=await _0x2c455e['getDataCollection'](_0x4c53ae,_0x33c025);if(_0x5e221f['storageType']!==_0x1d89a1['GenerativeAIRagType'][_0x377763(0x501)]){const _0x579b1c=this[_0x377763(0x288)]?.['get'](_0x5e221f['storageType']);if(!_0x579b1c)throw new Error(_0x377763(0x2e4));const _0x55d29f=_0x1528c2(_0x4c53ae,_0x5e221f);return{'type':_0x377763(0x8ac),'files':await _0x579b1c['listFiles'](_0x55d29f,_0x33c025)};}try{return{'type':_0x377763(0x8ac),'files':(await this[_0x377763(0x2bf)]['list']('/'+_0x4c53ae+'/'+_0x33c025,!0x1))[_0x377763(0x591)](_0x31abab=>({'name':_0x31abab[_0x377763(0x432)],'id':_0x31abab[_0x377763(0x432)],'status':_0x377763(0x50b)}))};}catch(_0x21c91b){return{'type':'file-list','files':[]};}}if('collection-create'===_0x5aca76['type']){const {vendorId:_0x1803c4,collectionId:_0x1fbeb2}=_0x5aca76,_0x1dab4e=await _0x2c455e[_0x377763(0x6e2)](_0x1803c4,_0x1fbeb2),_0x1a9150=this[_0x377763(0x288)]?.[_0x377763(0x153)](_0x1dab4e[_0x377763(0x5cd)]);if(!_0x1a9150)return{'type':'collection-create'};const _0x50b3f8=_0x1528c2(_0x1803c4,_0x1dab4e);return await _0x1a9150[_0x377763(0x9d3)](_0x50b3f8,_0x1fbeb2),{'type':'collection-create'};}if(_0x377763(0xa5e)===_0x5aca76[_0x377763(0x539)]){const {vendorId:_0x160ece,collectionId:_0x1589b8}=_0x5aca76,_0x4401ca=await _0x2c455e['getDataCollection'](_0x160ece,_0x1589b8),_0x169718=this[_0x377763(0x288)]?.[_0x377763(0x153)](_0x4401ca[_0x377763(0x5cd)]);if(!_0x169718)return{'type':_0x377763(0xa5e)};const _0x566dce=_0x1528c2(_0x160ece,_0x4401ca);let _0x1d1bf3=!0x1;if(_0x4401ca[_0x377763(0x9c0)]===_0x358737[_0x377763(0x6d8)]&&(_0x1d1bf3=!0x0),_0x4401ca[_0x377763(0x9c0)]===_0x358737[_0x377763(0x80c)]){_0x1d1bf3=!0x0;const _0x413174=await _0x2c455e[_0x377763(0x36d)](_0x160ece);for(const _0x577b5f of _0x413174)if(_0x577b5f['storageType']===_0x4401ca[_0x377763(0x5cd)]&&_0x577b5f[_0x377763(0x9c0)]===_0x358737[_0x377763(0x80c)]&&_0x577b5f['id']!==_0x4401ca['id']){_0x1d1bf3=!0x1;break;}}try{await _0x169718[_0x377763(0x61b)](_0x566dce,_0x1589b8,_0x1d1bf3);}catch(_0x46c1fd){_0x542377['error'](_0x377763(0x83f),_0x46c1fd);}return{'type':'collection-delete'};}if('collection-query'===_0x5aca76['type']){const {query:_0x1e020a,vendorId:_0xc4db4d,collectionId:_0x564c0b}=_0x5aca76,_0xac410a=await _0x2c455e[_0x377763(0x6e2)](_0xc4db4d,_0x564c0b);if(_0xac410a['storageType']!==_0x1d89a1[_0x377763(0x146)][_0x377763(0x501)]){const _0x5d87d4=this[_0x377763(0x288)]?.[_0x377763(0x153)](_0xac410a['storageType']);if(!_0x5d87d4)throw new Error(_0x377763(0x2e4));const _0x3bc086=_0x1528c2(_0xc4db4d,_0xac410a);return{'type':_0x377763(0xa6b),'results':await _0x5d87d4[_0x377763(0x2d3)](_0x3bc086,_0x564c0b,_0x1e020a,0x1)};}const _0x50ad98=_0xac410a['retrieveBlocks']?.[_0x377763(0xb4a)](_0x3d3d4f=>_0x3d3d4f[_0x377763(0x539)]===_0x5d88c6[_0x377763(0x642)]);return{'type':_0x377763(0xa6b),'results':(await _0x44d38c(_0x5aca76['vendorId'],_0x1d4047,'',_0x1e020a,_0x50ad98,_0xac410a,{'objectStoreConnector':this[_0x377763(0x2bf)],'ragConnector':this[_0x377763(0x288)]?.['get'](_0x1d89a1[_0x377763(0x146)][_0x377763(0x501)]),'documentParserConnector':this[_0x377763(0xa8f)],'fileConnector':this[_0x377763(0xa4c)],'nlpLibraryConnector':this[_0x377763(0x545)],'generativeAIWorkerConnectors':this[_0x377763(0x794)],'models':Array[_0x377763(0x61d)](this[_0x377763(0x2c8)][_0x377763(0xb40)]()),'contentMediator':this[_0x377763(0x405)],'searchConnector':this[_0x377763(0x826)],'aiSearchConnector':this[_0x377763(0x992)],'queryFileConnector':this[_0x377763(0x72a)]}))[_0x377763(0x3c0)]??[]};}throw new Error('Unsupported\x20job\x20type');}async*['internalProcessJobStream'](_0x345994,_0x22097c){const _0x4e66f9=_0xab329a;if(_0x4e66f9(0x850)===_0x22097c[_0x4e66f9(0x539)]){await this[_0x4e66f9(0x19c)](_0x345994,_0x22097c);const _0x4b1b81=await _0x2c455e['getWorkflow'](_0x22097c[_0x4e66f9(0x3e1)],_0x22097c[_0x4e66f9(0x71a)]),_0x37f32c=_0x4b1b81[_0x4e66f9(0x2be)][_0x4e66f9(0xb4a)](_0x1623d1=>_0x1623d1['type']===_0x2d5b5c['Prompt']||_0x1623d1[_0x4e66f9(0x539)]===_0x2d5b5c[_0x4e66f9(0x7d9)]);for await(const _0x441782 of _0x21395a(_0x22097c[_0x4e66f9(0x166)]??_0x345994,_0x22097c,_0x37f32c,_0x4b1b81['blocks'],{'documentParserConnector':this['documentParserConnector'],'fileConnector':this[_0x4e66f9(0xa4c)],'nlpLibraryConnector':this[_0x4e66f9(0x545)],'generativeAIWorkerConnectors':this[_0x4e66f9(0x794)],'models':Array[_0x4e66f9(0x61d)](this[_0x4e66f9(0x2c8)]['values']()),'contentMediator':this[_0x4e66f9(0x405)],'searchConnector':this[_0x4e66f9(0x826)],'aiSearchConnector':this[_0x4e66f9(0x992)],'queryFileConnector':this[_0x4e66f9(0x72a)]}))yield _0x441782;await this['stopTracing'](_0x345994,_0x22097c);}if(_0x4e66f9(0x802)===_0x22097c['type']){await this[_0x4e66f9(0x19c)](_0x345994,_0x22097c);for await(const _0x43e5c7 of _0x4fbd3f(_0x22097c['jobId']??_0x345994,_0x22097c,{'documentParserConnector':this[_0x4e66f9(0xa8f)],'fileConnector':this['fileConnector'],'nlpLibraryConnector':this[_0x4e66f9(0x545)],'generativeAIWorkerConnectors':this[_0x4e66f9(0x794)],'models':Array[_0x4e66f9(0x61d)](this['models']['values']()),'contentMediator':this['contentMediator'],'searchConnector':this[_0x4e66f9(0x826)],'aiSearchConnector':this[_0x4e66f9(0x992)],'queryFileConnector':this[_0x4e66f9(0x72a)]}))yield _0x43e5c7;await this[_0x4e66f9(0x496)](_0x345994,_0x22097c);}}async[_0xab329a(0x19c)](_0x1475c1,_0x388ac1){const _0x532266=_0xab329a;if('rate'===_0x388ac1[_0x532266(0x539)])return _0x1475c1=_0x388ac1[_0x532266(0x166)],void await this[_0x532266(0x9da)](_0x1475c1,_0x388ac1[_0x532266(0x3e1)],_0x388ac1[_0x532266(0x71a)]);_0x532266(0x850)!==_0x388ac1[_0x532266(0x539)]&&'inference'!==_0x388ac1[_0x532266(0x539)]||!_0x388ac1['jobId']||(_0x1475c1=_0x388ac1[_0x532266(0x166)]),await this[_0x532266(0x9da)](_0x1475c1,_0x388ac1['vendorId'],_0x388ac1['workflowId'],_0x388ac1[_0x532266(0x1f7)]),await _0x26d28b[_0x532266(0x670)]({'jobType':_0x2313f7[_0x532266(0xa43)],'type':_0x33a308['Queued'],'traceLevel':_0x581e8e[_0x532266(0x72c)],'jobId':_0x1475c1,'threadId':_0x388ac1['threadId'],'startTime':Date[_0x532266(0x4cb)](),'timestamp':Date['now'](),'status':_0x532266(0x561)});}async[_0xab329a(0x496)](_0x48aeb6,_0x133f13){const _0x3ffbf9=_0xab329a;if(_0x3ffbf9(0x370)===_0x133f13[_0x3ffbf9(0x539)])return _0x48aeb6=_0x133f13[_0x3ffbf9(0x166)],void await this[_0x3ffbf9(0x9e3)](_0x48aeb6);_0x3ffbf9(0x850)!==_0x133f13[_0x3ffbf9(0x539)]&&_0x3ffbf9(0x802)!==_0x133f13['type']||!_0x133f13['jobId']||(_0x48aeb6=_0x133f13[_0x3ffbf9(0x166)]),await _0x26d28b[_0x3ffbf9(0x670)]({'jobType':_0x2313f7['Job'],'type':_0x33a308[_0x3ffbf9(0x7b9)],'traceLevel':_0x581e8e[_0x3ffbf9(0x72c)],'jobId':_0x48aeb6,'threadId':_0x133f13[_0x3ffbf9(0x1f7)],'startTime':Date[_0x3ffbf9(0x4cb)](),'timestamp':Date[_0x3ffbf9(0x4cb)](),'status':_0x3ffbf9(0x561)}),await this[_0x3ffbf9(0x9e3)](_0x48aeb6,_0x133f13[_0x3ffbf9(0x1f7)]);}async['openTrace'](_0xea6595,_0x521800,_0x2c6cdc,_0x1f1748){const _0x203bd3=_0xab329a;try{if(!await _0x26d28b[_0x203bd3(0x9da)](_0x521800,_0xea6595,_0x2c6cdc,_0x1f1748))throw new Error(_0x203bd3(0x6da));return _0xea6595;}catch(_0xc07343){return console[_0x203bd3(0x28d)]('Error\x20opening\x20trace',_0xc07343),_0x203bd3(0x485);}}async[_0xab329a(0x9e3)](_0x129524,_0x5484ce){const _0x385ae9=_0xab329a;try{await _0x26d28b['closeTrace'](_0x129524,_0x5484ce);}catch(_0x3cc3e8){console[_0x385ae9(0x28d)]('Error\x20closing\x20trace',{'jobId':_0x129524,'error':_0x3cc3e8});}}[_0xab329a(0x7f3)](_0x5ae11a){const _0x532cc3=_0xab329a;switch(_0x5ae11a['type']){case _0x2d5b5c['Agent']:case _0x2d5b5c[_0x532cc3(0x158)]:return _0x532cc3(0x869)+_0x5ae11a[_0x532cc3(0x432)][_0x532cc3(0x640)](/[^a-zA-Z]/g,'');case _0x2d5b5c[_0x532cc3(0x8ee)]:return'executeWorkflow'+_0x5ae11a['name'][_0x532cc3(0x640)](/[^a-zA-Z]/g,'');case _0x2d5b5c[_0x532cc3(0x43e)]:case _0x2d5b5c[_0x532cc3(0x69e)]:return _0x532cc3(0x334)+_0x5ae11a[_0x532cc3(0x432)][_0x532cc3(0x640)](/[^a-zA-Z]/g,'');case _0x2d5b5c[_0x532cc3(0x892)]:return _0x5ae11a['name'][_0x532cc3(0x640)](/[^a-zA-Z]/g,'');case _0x2d5b5c[_0x532cc3(0x659)]:return'searchOnPerplexity';case _0x2d5b5c[_0x532cc3(0xb15)]:return'executeJavascriptCodeSnippet';case _0x2d5b5c[_0x532cc3(0x8ff)]:return _0x532cc3(0x7dd);case _0x2d5b5c[_0x532cc3(0x4c9)]:case _0x2d5b5c[_0x532cc3(0x519)]:return'fetchContentFromUrl';case _0x1d89a1[_0x532cc3(0x39a)][_0x532cc3(0x9bf)]:return'getQuestion'+_0x5ae11a[_0x532cc3(0x432)][_0x532cc3(0x640)](/[^a-zA-Z]/g,'');case _0x1d89a1['GenerativeAIInferenceToolType'][_0x532cc3(0x353)]:return _0x532cc3(0x2f2)+_0x5ae11a[_0x532cc3(0x432)][_0x532cc3(0x640)](/[^a-zA-Z]/g,'');case _0x1d89a1[_0x532cc3(0x39a)]['FormSkillSubmitForm']:return _0x532cc3(0x54c)+_0x5ae11a[_0x532cc3(0x432)]['replace'](/[^a-zA-Z]/g,'');default:return'';}}[_0xab329a(0x6f9)](_0x3c9c67){const _0x186ed3=_0xab329a;switch(_0x3c9c67[_0x186ed3(0x539)]){case _0x2d5b5c[_0x186ed3(0x52c)]:case _0x2d5b5c[_0x186ed3(0x158)]:return _0x186ed3(0x24c)+_0x3c9c67[_0x186ed3(0x791)]+_0x186ed3(0x463);case _0x2d5b5c[_0x186ed3(0x8ee)]:return'Execute\x20the\x20workflow\x20'+_0x3c9c67[_0x186ed3(0x791)]+_0x186ed3(0x463);case _0x2d5b5c['DataCollection']:case _0x2d5b5c[_0x186ed3(0x69e)]:return _0x186ed3(0x22f)+_0x3c9c67[_0x186ed3(0x791)]+_0x186ed3(0x8f6);case _0x2d5b5c['CustomSkill']:return _0x186ed3(0x895)+_0x3c9c67['description'];case _0x2d5b5c[_0x186ed3(0x659)]:return _0x186ed3(0x608);case _0x2d5b5c[_0x186ed3(0xb15)]:return _0x186ed3(0x2c2);case _0x2d5b5c['Search']:return _0x186ed3(0x96f);case _0x2d5b5c[_0x186ed3(0x4c9)]:case _0x2d5b5c[_0x186ed3(0x519)]:return _0x186ed3(0x8cb);case _0x1d89a1[_0x186ed3(0x39a)]['FormSkillGetQuestion']:return _0x186ed3(0xa6d);case _0x1d89a1[_0x186ed3(0x39a)][_0x186ed3(0x353)]:return _0x186ed3(0x6b6);case _0x1d89a1['GenerativeAIInferenceToolType'][_0x186ed3(0x2dd)]:return'Submit\x20the\x20form.';default:return'';}}[_0xab329a(0x888)](_0xf535dd){const _0x2485b3=_0xab329a;switch(_0xf535dd[_0x2485b3(0x539)]){case _0x2d5b5c[_0x2485b3(0x52c)]:case _0x2d5b5c[_0x2485b3(0x158)]:case _0x2d5b5c[_0x2485b3(0x8ee)]:return[{'name':'prompt','type':_0x2485b3(0x816)}];case _0x2d5b5c[_0x2485b3(0x43e)]:case _0x2d5b5c[_0x2485b3(0x69e)]:return[{'name':_0x2485b3(0x801),'type':_0x2485b3(0x816)}];case _0x2d5b5c['CustomSkill']:return _0xf535dd[_0x2485b3(0x573)][_0x2485b3(0x591)](_0x3ea370=>({'name':_0x3ea370[_0x2485b3(0x432)],'type':_0x3ea370['type']??_0x2485b3(0x816)}))??[];case _0x2d5b5c[_0x2485b3(0x659)]:return[{'name':_0x2485b3(0x5f6),'type':_0x2485b3(0x816)}];case _0x2d5b5c['Code']:return[{'name':_0x2485b3(0x9ac),'type':_0x2485b3(0x816)}];case _0x2d5b5c['Search']:return[{'name':_0x2485b3(0x5f6),'type':_0x2485b3(0x816)}];case _0x2d5b5c[_0x2485b3(0x4c9)]:case _0x2d5b5c[_0x2485b3(0x519)]:return[{'name':_0x2485b3(0x4ef),'type':_0x2485b3(0x816)},{'name':'page','type':_0x2485b3(0x556)}];case _0x1d89a1['GenerativeAIInferenceToolType'][_0x2485b3(0x9bf)]:return[];case _0x1d89a1[_0x2485b3(0x39a)][_0x2485b3(0x353)]:return[{'name':'id','type':_0x2485b3(0x816)},{'name':_0x2485b3(0x8ce),'type':_0x2485b3(0x816)}];case _0x1d89a1[_0x2485b3(0x39a)]['FormSkillSubmitForm']:default:return[];}}}class _0x489390{[_0xab329a(0x8f2)];[_0xab329a(0x438)];[_0xab329a(0xb34)]=new Map();[_0xab329a(0x3bd)]=new Map();[_0xab329a(0x6f7)]=new Map();[_0xab329a(0x78f)]=new Map();[_0xab329a(0x71e)]=new Map();[_0xab329a(0x265)]=new Map();[_0xab329a(0x757)]=new Map();[_0xab329a(0x1ab)]=new Map();[_0xab329a(0x34f)]=new Map();[_0xab329a(0x237)]=new Map();['generativeAIContexts']=new Map();[_0xab329a(0x1c3)];constructor(_0x148cea,_0x5a8013){const _0x1f7fe2=_0xab329a;this[_0x1f7fe2(0x8f2)]=_0x148cea,this[_0x1f7fe2(0x438)]=_0x5a8013,this['transactionService']=new _0x47362a(this[_0x1f7fe2(0x8f2)]['vendorId'],this['configs'][_0x1f7fe2(0x48a)]);}[_0xab329a(0xace)](_0x1eab75=!0x1){const _0x1fcb4f=_0xab329a;this[_0x1fcb4f(0x3bd)][_0x1fcb4f(0xad2)]((_0x2b5774,_0x4ed9db)=>{_0x2b5774['forEach']((_0xc8d7d9,_0x639c2f)=>{const _0x30de62=a0_0x1b87;this[_0x30de62(0x23b)](_0x4ed9db,_0x639c2f);});}),_0x1eab75||(_0x77fb36['clear'](),this['localMediaStreams'][_0x1fcb4f(0xad2)]((_0x57b294,_0x39452b)=>{const _0x51a0be=_0x1fcb4f;this[_0x51a0be(0x568)](_0x39452b);}),this[_0x1fcb4f(0x6f7)]['forEach']((_0x2ef39e,_0x11c2df)=>{const _0x364a5f=_0x1fcb4f;this[_0x364a5f(0x57d)](_0x11c2df);}),this[_0x1fcb4f(0x78f)][_0x1fcb4f(0xad2)]((_0x51fc6c,_0x5b186b)=>{const _0x58e6c4=_0x1fcb4f;this[_0x58e6c4(0x945)](_0x5b186b);}),this[_0x1fcb4f(0x71e)][_0x1fcb4f(0xad2)]((_0x55f7c8,_0xefa7a4)=>{const _0x130cc2=_0x1fcb4f;this[_0x130cc2(0xadf)](_0xefa7a4);}),this[_0x1fcb4f(0x265)][_0x1fcb4f(0xad2)]((_0x5e6366,_0x34fe97)=>{const _0x2bb2d2=_0x1fcb4f;this[_0x2bb2d2(0x6ba)](_0x34fe97);}),this[_0x1fcb4f(0x34f)][_0x1fcb4f(0xad2)]((_0x4124f0,_0x499edd)=>{this['removeJobDispatcher'](_0x499edd);}),this[_0x1fcb4f(0x237)]['forEach']((_0x113518,_0x31d3a7)=>{const _0x18d7e4=_0x1fcb4f;this[_0x18d7e4(0x711)](_0x31d3a7);}),this[_0x1fcb4f(0x289)]['forEach']((_0x6c83bc,_0x32ba23)=>{const _0x1e40ad=_0x1fcb4f;this[_0x1e40ad(0x2b8)](_0x32ba23);}),this['vectorDatabases'][_0x1fcb4f(0xad2)]((_0x20474d,_0x671d13)=>{const _0x30d267=_0x1fcb4f;this[_0x30d267(0x178)](_0x671d13);}),this[_0x1fcb4f(0x1ab)][_0x1fcb4f(0xad2)]((_0x9c8dd7,_0x361270)=>{const _0x519316=_0x1fcb4f;this[_0x519316(0x6fa)](_0x361270);}));}['createObjectStoreBucket'](_0x5d73ab,_0x2f21db,_0x5ad6eb){const _0x2642a4=_0xab329a;if(this[_0x2642a4(0x78f)][_0x2642a4(0x727)](_0x5d73ab))throw new _0x1695e5(_0x91d017[_0x2642a4(0xa40)],_0x2642a4(0x3fb));const _0x232527=new _0x2ef8b9(this[_0x2642a4(0x8f2)][_0x2642a4(0x242)],_0x5d73ab,this[_0x2642a4(0x8f2)][_0x2642a4(0x48a)],this[_0x2642a4(0x8f2)][_0x2642a4(0x3e1)],this[_0x2642a4(0x1c3)],_0x2f21db,()=>this['configs'][_0x2642a4(0x849)][_0x2642a4(0x218)](),_0x5ad6eb);return this[_0x2642a4(0x78f)]['set'](_0x5d73ab,_0x232527),this['configs'][_0x2642a4(0x849)][_0x2642a4(0x4cc)](_0x232527),_0x232527;}['createExternalStorageConnection'](_0x59eb6e,_0x150fa9){const _0x4a263a=_0xab329a;if(this['objectStores'][_0x4a263a(0x727)](_0x59eb6e))throw new _0x1695e5(_0x91d017['ExternalStorageConnectionAlreadyExists'],_0x4a263a(0x322));const _0x100c25=new _0x1b7635(this[_0x4a263a(0x8f2)][_0x4a263a(0x242)],_0x59eb6e,this['configs']['clusterId'],this[_0x4a263a(0x8f2)][_0x4a263a(0x3e1)],_0x150fa9);return this['externalStorageConnections']['set'](_0x59eb6e,_0x100c25),this[_0x4a263a(0x8f2)][_0x4a263a(0x849)][_0x4a263a(0x4cc)](_0x100c25),_0x100c25;}async[_0xab329a(0x417)](_0x186fd1,_0xf8ade8,_0x39ec6b){const _0x300006=_0xab329a;if(this[_0x300006(0x265)][_0x300006(0x727)](_0x186fd1))throw new _0x1695e5(_0x91d017[_0x300006(0x499)],_0x300006(0x35d));try{const _0x57ff18=this[_0x300006(0x8f2)][_0x300006(0x849)][_0x300006(0x688)][_0x300006(0x5b5)](this[_0x300006(0x8f2)][_0x300006(0x849)]),_0x486f77=new _0x2e8a71(this[_0x300006(0x8f2)][_0x300006(0x242)],_0x186fd1,this[_0x300006(0x8f2)]['clusterId'],this[_0x300006(0x8f2)][_0x300006(0x3e1)],_0xf8ade8,_0x39ec6b,_0x57ff18);return this[_0x300006(0x265)][_0x300006(0x4d1)](_0x186fd1,_0x486f77),this['configs'][_0x300006(0x849)]['registerSystemSource'](_0x486f77),_0x486f77;}catch(_0x1f07d7){if(_0x1f07d7 instanceof _0x1695e5)throw _0x1f07d7;throw new _0x227d3a(_0x227d3a[_0x300006(0x821)][_0x300006(0x2c0)],{'label':_0x186fd1,'clusterId':this[_0x300006(0x8f2)][_0x300006(0x48a)],'vendorId':this[_0x300006(0x8f2)][_0x300006(0x3e1)]});}}async[_0xab329a(0x641)](_0xd4c2ef,_0x100f76){const _0x28e247=_0xab329a;if(this['jobDispatchers']['has'](_0xd4c2ef))throw new _0x1695e5(_0x91d017['JobDispatcherAlreadyExists'],_0x28e247(0x1c8));try{const _0x3bd910=new _0x3b82f5(this[_0x28e247(0x8f2)][_0x28e247(0x242)],_0xd4c2ef,_0x100f76);return this['jobDispatchers']['set'](_0xd4c2ef,_0x3bd910),this[_0x28e247(0x8f2)]['mediator'][_0x28e247(0x4cc)](_0x3bd910),_0x3bd910;}catch(_0x435505){if(_0x435505 instanceof _0x1695e5)throw _0x435505;throw new _0x227d3a(_0x227d3a[_0x28e247(0x821)][_0x28e247(0x471)],{'label':_0xd4c2ef,'clusterId':this[_0x28e247(0x8f2)][_0x28e247(0x48a)],'vendorId':this['configs']['vendorId']});}}async[_0xab329a(0x350)](_0x32038c,_0x328f1a){const _0x48f1db=_0xab329a;if(this[_0x48f1db(0x34f)][_0x48f1db(0x727)](_0x32038c))throw new _0x1695e5(_0x91d017[_0x48f1db(0x6df)],_0x48f1db(0x14c));if(this[_0x48f1db(0x237)][_0x48f1db(0x727)](_0x32038c))throw new _0x1695e5(_0x91d017[_0x48f1db(0x8d3)],_0x48f1db(0x361));try{const _0x3f7ade=new _0x131ed7(this['configs'][_0x48f1db(0x242)],_0x32038c,this[_0x48f1db(0x8f2)]['vendorId'],_0x328f1a);return this[_0x48f1db(0x34f)]['set'](_0x32038c,_0x3f7ade),this[_0x48f1db(0x8f2)][_0x48f1db(0x849)]['registerSystemSource'](_0x3f7ade),_0x3f7ade;}catch(_0x1fb015){if(_0x1fb015 instanceof _0x1695e5)throw _0x1fb015;throw new _0x227d3a(_0x227d3a['codes'][_0x48f1db(0xae5)],{'label':_0x32038c,'clusterId':this[_0x48f1db(0x8f2)]['clusterId'],'vendorId':this['configs'][_0x48f1db(0x3e1)]});}}async[_0xab329a(0x2f0)](_0x5c7926,_0x4cb007,_0x17f50d,_0x2ddbfe,_0xf19ce0,_0x4a25b4,_0xe32b90,_0x4c2e7a,_0x1d3c78,_0x3f3aeb,_0x23528b,_0x234199){const _0x5ea642=_0xab329a;if(this[_0x5ea642(0x289)][_0x5ea642(0x727)](_0x5c7926))throw new _0x1695e5(_0x91d017[_0x5ea642(0x6df)],_0x5ea642(0x14c));if(this['jobWorkers']['has'](_0x5c7926))throw new _0x1695e5(_0x91d017['GenerativeAILabelConflict'],_0x5ea642(0x361));try{const _0xda3cc6=new _0x4d01f2(this[_0x5ea642(0x8f2)][_0x5ea642(0x242)],_0x5c7926,this,_0x4cb007,_0x17f50d,_0x2ddbfe,_0xf19ce0,_0x4a25b4,_0xe32b90,_0x4c2e7a,_0x1d3c78,_0x3f3aeb,_0x23528b,_0x234199);return this['generativeAIContexts'][_0x5ea642(0x4d1)](_0x5c7926,_0xda3cc6),this[_0x5ea642(0x8f2)][_0x5ea642(0x849)]['registerSystemSource'](_0xda3cc6),_0xda3cc6;}catch(_0x30b56d){if(_0x30b56d instanceof _0x1695e5)throw _0x30b56d;throw new _0x227d3a(_0x227d3a[_0x5ea642(0x821)]['GenerativeAIContextCreationFailed'],{'label':_0x5c7926,'clusterId':this[_0x5ea642(0x8f2)][_0x5ea642(0x48a)],'vendorId':this[_0x5ea642(0x8f2)][_0x5ea642(0x3e1)]});}}async['createGenerativeAIWorker'](_0x26d21f,_0x626325,_0x4ce9ae,_0x128b90,_0x11c687,_0x4195ca,_0x2ced63,_0xcdcc9a,_0x142e9f,_0x4bfd52,_0x287ab2,_0x415028,_0x51bedf){const _0x5e1849=_0xab329a;if(this['jobWorkers'][_0x5e1849(0x727)](_0x26d21f))throw new _0x1695e5(_0x91d017[_0x5e1849(0x693)],_0x5e1849(0x9d4));if(this[_0x5e1849(0x34f)][_0x5e1849(0x727)](_0x26d21f))throw new _0x1695e5(_0x91d017['GenerativeAILabelConflict'],_0x5e1849(0x361));try{const _0x25eac9=new _0x411897(this[_0x5e1849(0x8f2)][_0x5e1849(0x242)],_0x26d21f,_0x626325,this,_0x4ce9ae,_0x128b90,_0x11c687,_0x4195ca,_0x2ced63,_0xcdcc9a,_0x142e9f,_0x4bfd52,_0x287ab2,_0x415028,_0x51bedf);return this[_0x5e1849(0x237)][_0x5e1849(0x4d1)](_0x26d21f,_0x25eac9),this[_0x5e1849(0x8f2)][_0x5e1849(0x849)]['registerSystemSource'](_0x25eac9),_0x25eac9;}catch(_0x441129){if(_0x441129 instanceof _0x1695e5)throw _0x441129;throw new _0x227d3a(_0x227d3a[_0x5e1849(0x821)][_0x5e1849(0x8cd)],{'label':_0x26d21f,'clusterId':this[_0x5e1849(0x8f2)][_0x5e1849(0x48a)],'vendorId':this[_0x5e1849(0x8f2)]['vendorId']});}}['createGraphDatabase'](_0x2c79c4,_0x9a09c5){const _0x5d2f5b=_0xab329a;if(this['graphDatabases'][_0x5d2f5b(0x727)](_0x2c79c4))throw new _0x1695e5(_0x91d017[_0x5d2f5b(0x2b2)],_0x5d2f5b(0x35d));try{const _0xbed004=new _0x4bc791(this[_0x5d2f5b(0x8f2)][_0x5d2f5b(0x242)],_0x2c79c4,this[_0x5d2f5b(0x8f2)][_0x5d2f5b(0x48a)],this[_0x5d2f5b(0x8f2)][_0x5d2f5b(0x3e1)],_0x9a09c5);return this[_0x5d2f5b(0x1ab)][_0x5d2f5b(0x4d1)](_0x2c79c4,_0xbed004),this[_0x5d2f5b(0x8f2)][_0x5d2f5b(0x849)][_0x5d2f5b(0x4cc)](_0xbed004),_0xbed004;}catch(_0x5679aa){if(_0x5679aa instanceof _0x1695e5)throw _0x5679aa;throw new _0x227d3a(_0x227d3a[_0x5d2f5b(0x821)][_0x5d2f5b(0x4f2)],{'label':_0x2c79c4,'clusterId':this[_0x5d2f5b(0x8f2)]['clusterId'],'vendorId':this[_0x5d2f5b(0x8f2)][_0x5d2f5b(0x3e1)]});}}[_0xab329a(0x69b)](_0x166784,_0x2ef753){const _0x37917d=_0xab329a;if(this[_0x37917d(0xb34)][_0x37917d(0x727)](_0x166784))throw new _0x1695e5(_0x91d017[_0x37917d(0x973)],_0x37917d(0x32f));if(!this[_0x37917d(0x438)]['audioContext'])throw new _0x1695e5(_0x91d017[_0x37917d(0x72b)],_0x37917d(0x9f9));const _0x43e5ae=new _0x2d8d92(this[_0x37917d(0x8f2)][_0x37917d(0x242)],_0x166784,_0x2ef753,this[_0x37917d(0x438)][_0x37917d(0x319)],this[_0x37917d(0x438)][_0x37917d(0x99f)],this[_0x37917d(0x8f2)][_0x37917d(0x48a)]);return this[_0x37917d(0xb34)][_0x37917d(0x4d1)](_0x166784,_0x43e5ae),this[_0x37917d(0x8f2)][_0x37917d(0x849)][_0x37917d(0x4cc)](_0x43e5ae),_0x43e5ae['publish'](),_0x43e5ae;}[_0xab329a(0x541)](_0x359306,_0x36aba1){const _0x54aae6=_0xab329a;if(this[_0x54aae6(0xb34)][_0x54aae6(0x727)](_0x359306))throw new _0x1695e5(_0x91d017[_0x54aae6(0x973)],_0x54aae6(0x60f));const _0x5e1a08=new _0x10d9ac(this['configs'][_0x54aae6(0x242)],_0x359306,_0x36aba1,this[_0x54aae6(0x8f2)][_0x54aae6(0x48a)]);return this[_0x54aae6(0xb34)][_0x54aae6(0x4d1)](_0x359306,_0x5e1a08),this[_0x54aae6(0x8f2)]['mediator'][_0x54aae6(0x4cc)](_0x5e1a08),_0x5e1a08[_0x54aae6(0x75d)](),_0x5e1a08;}[_0xab329a(0x1ec)](_0x19aa44){const _0x27deac=_0xab329a;if(this[_0x27deac(0x6f7)]['has'](_0x19aa44))throw new _0x1695e5(_0x91d017[_0x27deac(0x858)],_0x27deac(0x8e7));const _0x281727=new _0x98eb19(this[_0x27deac(0x8f2)][_0x27deac(0x242)],_0x19aa44,this[_0x27deac(0x8f2)][_0x27deac(0x48a)]);return this['pubSubTopics']['set'](_0x19aa44,_0x281727),this['configs'][_0x27deac(0x849)][_0x27deac(0x4cc)](_0x281727),_0x281727;}[_0xab329a(0x8d4)](_0x2bd0a3,_0x56538c,_0x3fa172,_0x2ef761){const _0x4f708a=_0xab329a;this[_0x4f708a(0x3bd)][_0x4f708a(0x727)](_0x2bd0a3)||this['remoteMediaStreams']['set'](_0x2bd0a3,new Map());const _0x14ec2e=this['remoteMediaStreams'][_0x4f708a(0x153)](_0x2bd0a3);if(_0x14ec2e['has'](_0x56538c))throw new _0x1695e5(_0x91d017[_0x4f708a(0x9d8)],'Remote\x20MediaStream\x20already\x20exists');const _0x10055f=new _0x3c1882(_0x2bd0a3,'',''),_0x3472d2=new _0x56ceb0(this[_0x4f708a(0x8f2)]['localNode'],_0x10055f,_0x56538c,_0x3fa172,_0x2ef761,this[_0x4f708a(0x8f2)]['clusterId']);return _0x14ec2e['set'](_0x56538c,_0x3472d2),this[_0x4f708a(0x8f2)]['mediator'][_0x4f708a(0x4cc)](_0x3472d2),_0x3472d2;}[_0xab329a(0x3db)](_0x460162,_0x13385b){const _0x3650c8=_0xab329a;if(this['vectorDatabases'][_0x3650c8(0x727)](_0x460162))throw new _0x1695e5(_0x91d017[_0x3650c8(0x6a4)],_0x3650c8(0x35d));try{const _0x2d244b=new _0xb060e8(this['configs'][_0x3650c8(0x242)],_0x460162,this[_0x3650c8(0x8f2)][_0x3650c8(0x48a)],this[_0x3650c8(0x8f2)][_0x3650c8(0x3e1)],_0x13385b);return this[_0x3650c8(0x757)][_0x3650c8(0x4d1)](_0x460162,_0x2d244b),this[_0x3650c8(0x8f2)][_0x3650c8(0x849)][_0x3650c8(0x4cc)](_0x2d244b),_0x2d244b;}catch(_0x287d2c){if(_0x287d2c instanceof _0x1695e5)throw _0x287d2c;throw new _0x227d3a(_0x227d3a[_0x3650c8(0x821)][_0x3650c8(0x85d)],{'label':_0x460162,'clusterId':this['configs'][_0x3650c8(0x48a)],'vendorId':this['configs'][_0x3650c8(0x3e1)]});}}[_0xab329a(0x970)](_0x3b7c7c){const _0x1fb5da=_0xab329a,_0x23a968=Array[_0x1fb5da(0x61d)](this[_0x1fb5da(0x78f)][_0x1fb5da(0xb40)]());return _0x3b7c7c?_0x23a968[_0x1fb5da(0x2b3)](_0x3b7c7c):_0x23a968;}[_0xab329a(0x68f)](_0x2c567c){const _0x51f47f=_0xab329a,_0x39332c=Array[_0x51f47f(0x61d)](this[_0x51f47f(0x71e)][_0x51f47f(0xb40)]());return _0x2c567c?_0x39332c[_0x51f47f(0x2b3)](_0x2c567c):_0x39332c;}[_0xab329a(0x50a)](_0x457f5e){const _0x2b17d8=_0xab329a,_0x2c385e=Array[_0x2b17d8(0x61d)](this['keyValueDatabases'][_0x2b17d8(0xb40)]());return _0x457f5e?_0x2c385e['filter'](_0x457f5e):_0x2c385e;}[_0xab329a(0xb09)](_0x24d466){const _0x144346=_0xab329a,_0x2e4514=Array[_0x144346(0x61d)](this['jobDispatchers'][_0x144346(0xb40)]());return _0x24d466?_0x2e4514[_0x144346(0x2b3)](_0x24d466):_0x2e4514;}[_0xab329a(0x769)](_0x249713){const _0x2e5cf9=_0xab329a,_0x288eac=Array[_0x2e5cf9(0x61d)](this[_0x2e5cf9(0x237)][_0x2e5cf9(0xb40)]());return _0x249713?_0x288eac[_0x2e5cf9(0x2b3)](_0x249713):_0x288eac;}['getGenerativeAIContexts'](_0x2b182e){const _0x3fa6c9=_0xab329a,_0x3d044f=Array['from'](this[_0x3fa6c9(0x34f)][_0x3fa6c9(0xb40)]())[_0x3fa6c9(0x2b3)](_0x39d564=>_0x39d564 instanceof _0x131ed7);return _0x2b182e?_0x3d044f['filter'](_0x2b182e):_0x3d044f;}[_0xab329a(0x766)](_0x5d10da){const _0xf50f20=_0xab329a,_0x291e95=Array[_0xf50f20(0x61d)](this[_0xf50f20(0x289)][_0xf50f20(0xb40)]());return _0x5d10da?_0x291e95[_0xf50f20(0x2b3)](_0x5d10da):_0x291e95;}[_0xab329a(0x953)](_0x3b2002){const _0x4dedd8=_0xab329a,_0x5b7243=Array[_0x4dedd8(0x61d)](this[_0x4dedd8(0x237)]['values']())[_0x4dedd8(0x2b3)](_0x4c7d0d=>_0x4c7d0d instanceof _0x411897);return _0x3b2002?_0x5b7243[_0x4dedd8(0x2b3)](_0x3b2002):_0x5b7243;}[_0xab329a(0x9b3)](_0x251843){const _0x456c27=_0xab329a,_0x4760f4=Array[_0x456c27(0x61d)](this[_0x456c27(0x1ab)][_0x456c27(0xb40)]());return _0x251843?_0x4760f4['filter'](_0x251843):_0x4760f4;}[_0xab329a(0x8bf)](_0x180d5f){const _0x6197d5=_0xab329a,_0x7e55d9=Array[_0x6197d5(0x61d)](this[_0x6197d5(0xb34)]['values']());return _0x180d5f?_0x7e55d9[_0x6197d5(0x2b3)](_0x180d5f):_0x7e55d9;}[_0xab329a(0x301)](_0x4e8233){const _0x283228=_0xab329a,_0x2917f7=Array[_0x283228(0x61d)](this[_0x283228(0x6f7)][_0x283228(0xb40)]());return _0x4e8233?_0x2917f7['filter'](_0x4e8233):_0x2917f7;}['getRemoteMediaStreams'](_0x11db6a){const _0x1038de=_0xab329a,_0x2fc999=Array[_0x1038de(0x61d)](this['remoteMediaStreams'][_0x1038de(0xb40)]())['reduce']((_0x100033,_0x5d0938)=>[..._0x100033,...Array[_0x1038de(0x61d)](_0x5d0938['values']())],[]);return _0x11db6a?_0x2fc999[_0x1038de(0x2b3)](_0x11db6a):_0x2fc999;}[_0xab329a(0x618)](_0x4081bc){const _0x266c5b=_0xab329a,_0x580848=Array[_0x266c5b(0x61d)](this[_0x266c5b(0x757)][_0x266c5b(0xb40)]());return _0x4081bc?_0x580848[_0x266c5b(0x2b3)](_0x4081bc):_0x580848;}['getObjectStoreBucket'](_0x2e4dad){const _0x23158c=_0xab329a,_0x2fbc71=this['objectStores'][_0x23158c(0x153)](_0x2e4dad);if(!_0x2fbc71)throw new _0x1695e5(_0x91d017['ObjectStoreDoesNotExist'],_0x23158c(0x157));return _0x2fbc71;}['getExternalStorageConnection'](_0x1e6fcc){const _0x234c80=_0xab329a,_0x1a945b=_0x1e6fcc[_0x234c80(0xb12)]('-'),_0x408020=this[_0x234c80(0x71e)][_0x234c80(0x153)](_0x1a945b[0x1]);if(!_0x408020)throw new _0x1695e5(_0x91d017[_0x234c80(0x605)],'ExternalStorageConnection\x20not\x20found');return _0x408020;}['getGraphDatabase'](_0x3e18b4){const _0x3ea29f=_0xab329a,_0x47178e=this[_0x3ea29f(0x1ab)][_0x3ea29f(0x153)](_0x3e18b4);if(!_0x47178e)throw new _0x1695e5(_0x91d017['GraphDatabaseDoesNotExist'],'GraphDatabase\x20not\x20found');return _0x47178e;}['getKeyValueDatabase'](_0x320987){const _0x154152=_0xab329a,_0x3b28a4=this[_0x154152(0x265)][_0x154152(0x153)](_0x320987);if(!_0x3b28a4)throw new _0x1695e5(_0x91d017[_0x154152(0x52b)],_0x154152(0x333));return _0x3b28a4;}[_0xab329a(0x1e5)](_0x10bdfa){const _0x5262b6=_0xab329a,_0x1d3acc=this['pubSubTopics'][_0x5262b6(0x153)](_0x10bdfa);if(!_0x1d3acc)throw new _0x1695e5(_0x91d017[_0x5262b6(0x803)],_0x5262b6(0x6b3));return _0x1d3acc;}[_0xab329a(0x467)](_0x2ea7a1){const _0x4b294a=_0xab329a,_0xd2c11b=this[_0x4b294a(0x757)]['get'](_0x2ea7a1);if(!_0xd2c11b)throw new _0x1695e5(_0x91d017[_0x4b294a(0x784)],_0x4b294a(0x64c));return _0xd2c11b;}[_0xab329a(0x6a5)](_0x19dc33){const _0x54282a=_0xab329a;switch(_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x539)]){case _0x8a5c45[_0x54282a(0xa5d)]:this[_0x54282a(0x9e7)](_0x19dc33[_0x54282a(0xa98)]);break;case _0x8a5c45[_0x54282a(0x3d7)]:this[_0x54282a(0x43f)](_0x19dc33[_0x54282a(0xa98)]);break;case _0x8a5c45[_0x54282a(0xac3)]:this['removeJobDispatcher'](_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x4b1)]);break;case _0x8a5c45[_0x54282a(0x525)]:this[_0x54282a(0x711)](_0x19dc33['content'][_0x54282a(0x4b1)]);break;case _0x8a5c45['CloseGenerativeAIContext']:this['removeGenerativeAIContext'](_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x4b1)]);break;case _0x8a5c45[_0x54282a(0x9cf)]:this[_0x54282a(0x568)](_0x19dc33[_0x54282a(0xa98)]['label']);break;case _0x8a5c45[_0x54282a(0x87d)]:this[_0x54282a(0x57d)](_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x4b1)]);break;case _0x8a5c45[_0x54282a(0x327)]:this[_0x54282a(0x945)](_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x4b1)]);break;case _0x8a5c45[_0x54282a(0x7c7)]:this['removeExternalStorageConnection'](_0x19dc33['content'][_0x54282a(0x4b1)]);break;case _0x8a5c45[_0x54282a(0x687)]:this[_0x54282a(0x6ba)](_0x19dc33[_0x54282a(0xa98)]['label']);break;case _0x8a5c45[_0x54282a(0xa90)]:this[_0x54282a(0x178)](_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x4b1)]);break;case _0x8a5c45['CloseGraphDatabase']:this[_0x54282a(0x6fa)](_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x4b1)]);break;case _0x8a5c45[_0x54282a(0x65f)]:this[_0x54282a(0x162)](_0x19dc33['content']);break;case _0x8a5c45[_0x54282a(0x7b3)]:this['keyValueDatabases'][_0x54282a(0x153)](_0x19dc33[_0x54282a(0xa98)]['label'])?.[_0x54282a(0xaa7)](_0x19dc33[_0x54282a(0x203)],_0x19dc33['content']['mmrRoot']);break;case _0x8a5c45[_0x54282a(0x8d8)]:this['keyValueDatabases'][_0x54282a(0x153)](_0x19dc33['content']['label'])?.['processContentSynchronized'](_0x19dc33[_0x54282a(0x203)],_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x598)]);break;case _0x8a5c45[_0x54282a(0x538)]:this[_0x54282a(0x265)][_0x54282a(0x153)](_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x4b1)])?.[_0x54282a(0x310)](_0x19dc33['sourceId'],_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x506)]);break;case _0x8a5c45[_0x54282a(0x41a)]:this['keyValueDatabases'][_0x54282a(0x153)](_0x19dc33['content']['label'])?.[_0x54282a(0x53f)](_0x19dc33[_0x54282a(0x203)],_0x19dc33['content'][_0x54282a(0x18f)]);break;case _0x8a5c45[_0x54282a(0x862)]:this[_0x54282a(0x265)][_0x54282a(0x153)](_0x19dc33['content'][_0x54282a(0x4b1)])?.[_0x54282a(0x3c6)](_0x19dc33['sourceId'],_0x19dc33['content']['transactionIds']);break;case _0x8a5c45[_0x54282a(0x26c)]:this['keyValueDatabases']['get'](_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x4b1)])?.[_0x54282a(0x85b)](_0x19dc33[_0x54282a(0x203)],_0x19dc33[_0x54282a(0xa98)][_0x54282a(0x54e)]);break;case _0x8a5c45[_0x54282a(0x7e8)]:this[_0x54282a(0x8f2)][_0x54282a(0x849)]['notifyCluster'](_0x54282a(0x617),{'label':_0x19dc33[_0x54282a(0xa98)]['label'],'trackKinds':_0x19dc33[_0x54282a(0xa98)]['trackKinds']});}}[_0xab329a(0x4f7)]({content:_0x52a822}){const _0x14ff21=_0xab329a;switch(_0x52a822[_0x14ff21(0x539)]){case _0xc8c151[_0x14ff21(0x8ea)]:this[_0x14ff21(0x9db)](_0x52a822),this['notifyObjectStoreOfNodeJoin'](_0x52a822);break;case _0xc8c151[_0x14ff21(0x960)]:this[_0x14ff21(0x7a1)](_0x52a822),this[_0x14ff21(0xb5b)](_0x52a822);}}[_0xab329a(0x2ca)](_0x422432){const _0x5d7bf8=_0xab329a;switch(_0x422432[_0x5d7bf8(0xa98)][_0x5d7bf8(0x539)]){case _0x504b4d['SubscribeMediaStream']:this[_0x5d7bf8(0x1d6)](_0x422432[_0x5d7bf8(0x203)],_0x422432[_0x5d7bf8(0xa98)]);break;case _0x504b4d[_0x5d7bf8(0x1eb)]:this[_0x5d7bf8(0x250)](_0x422432['sourceId'],_0x422432['content']);break;case _0x504b4d['UnsubscribeMediaStream']:this['handleUnsubscribeMediaStream'](_0x422432[_0x5d7bf8(0x203)],_0x422432[_0x5d7bf8(0xa98)]);}}[_0xab329a(0x162)](_0x417996){const _0x5b9226=_0xab329a;if(0x0===_0x417996['remainingTracks'])this[_0x5b9226(0x3bd)]['get'](_0x417996[_0x5b9226(0x488)])?.[_0x5b9226(0x153)](_0x417996[_0x5b9226(0x4b1)])?.[_0x5b9226(0x5f3)]();else{const _0x3dabd0=this[_0x5b9226(0x3bd)][_0x5b9226(0x153)](_0x417996[_0x5b9226(0x488)])?.[_0x5b9226(0x153)](_0x417996[_0x5b9226(0x4b1)]);if(!_0x3dabd0)return;_0x417996[_0x5b9226(0x263)]['forEach'](_0x551e18=>_0x3dabd0[_0x5b9226(0x81f)](_0x551e18));}}['handlePublishMediaStream'](_0x3a2745){const _0x44e11d=_0xab329a,{label:_0x402866,ownerId:_0x192330,stream:{streamId:_0x40937a,availableTrackKinds:_0x29b60e}}=_0x3a2745;if(this[_0x44e11d(0x3bd)][_0x44e11d(0x153)](_0x192330)?.['has'](_0x402866))return void _0x542377[_0x44e11d(0x4ad)](_0x59a34d[_0x44e11d(0xb65)],_0x44e11d(0x60f),_0x40937a);const _0x44f4a5=this[_0x44e11d(0x8d4)](_0x192330,_0x402866,_0x40937a,_0x29b60e);this[_0x44e11d(0x8f2)][_0x44e11d(0x849)]['notifyCluster']('content-publish-media',{'ownerId':_0x192330,'stream':_0x44f4a5});}[_0xab329a(0x43f)]({ownerId:_0x16f786,label:_0xbe317f}){const _0x217433=_0xab329a;this[_0x217433(0x23b)](_0x16f786,_0xbe317f),this[_0x217433(0x8f2)][_0x217433(0x849)][_0x217433(0x1af)](_0x217433(0x6c1),{'ownerId':_0x16f786,'label':_0xbe317f});}[_0xab329a(0x1d6)](_0x37ed5b,_0x26bd37){const _0x40ad1d=_0xab329a,{ownerId:_0x2f9183,label:_0x7a703d}=_0x26bd37;let _0x400919;_0x400919=_0x2f9183!==this[_0x40ad1d(0x8f2)][_0x40ad1d(0x242)][_0x40ad1d(0x7a4)]()?this[_0x40ad1d(0x3bd)][_0x40ad1d(0x153)](_0x2f9183)[_0x40ad1d(0x153)](_0x7a703d):this[_0x40ad1d(0xb34)][_0x40ad1d(0x153)](_0x7a703d),_0x400919['getShareableStream'](_0x37ed5b,_0x26bd37[_0x40ad1d(0x883)])[_0x40ad1d(0x94e)](_0x26bd37,_0x400919[_0x40ad1d(0x8ca)]());}[_0xab329a(0x250)](_0x205caa,_0x31c10f){const _0x1bf4ef=_0xab329a,{ownerId:_0x200d53,label:_0x4a8665}=_0x31c10f;let _0x58d1e0;_0x58d1e0=_0x200d53!==this[_0x1bf4ef(0x8f2)][_0x1bf4ef(0x242)]['getId']()?this[_0x1bf4ef(0x3bd)][_0x1bf4ef(0x153)](_0x200d53)[_0x1bf4ef(0x153)](_0x4a8665):this[_0x1bf4ef(0xb34)][_0x1bf4ef(0x153)](_0x4a8665),_0x58d1e0[_0x1bf4ef(0x9b1)](_0x205caa,_0x31c10f[_0x1bf4ef(0x883)])[_0x1bf4ef(0x959)](_0x31c10f);}['handleUnsubscribeMediaStream'](_0x3ece1a,_0x1e6f1c){const _0x58268c=_0xab329a,{ownerId:_0x23d8d4,label:_0x2f3fad}=_0x1e6f1c;let _0x3865fb;_0x3865fb=_0x23d8d4!==this[_0x58268c(0x8f2)][_0x58268c(0x242)]['getId']()?this[_0x58268c(0x3bd)]['get'](_0x23d8d4)['get'](_0x2f3fad):this[_0x58268c(0xb34)][_0x58268c(0x153)](_0x2f3fad),_0x3865fb[_0x58268c(0x9b1)](_0x3ece1a)['unsubscribe'](_0x1e6f1c);}[_0xab329a(0x9db)]({id:_0x3a40df}){const _0x2443d2=_0xab329a;this[_0x2443d2(0x8bf)]()[_0x2443d2(0xad2)](_0x2285c6=>{const _0x4e035c=_0x2443d2;_0x2285c6[_0x4e035c(0x75d)](_0x3a40df);});}[_0xab329a(0x7a1)]({id:_0x570f31}){const _0x23ddb3=_0xab329a;this[_0x23ddb3(0x964)](_0x3ac93c=>_0x3ac93c[_0x23ddb3(0x908)]()===_0x570f31)[_0x23ddb3(0xad2)](_0x48488b=>{const _0x56afae=_0x23ddb3;this[_0x56afae(0x23b)](_0x48488b[_0x56afae(0x908)](),_0x48488b[_0x56afae(0xa52)]());});}[_0xab329a(0x465)]({id:_0x26bbce}){const _0x4d0f72=_0xab329a;this[_0x4d0f72(0x78f)][_0x4d0f72(0xad2)](_0x11e54e=>_0x11e54e['handleNodeJoin'](_0x26bbce));}[_0xab329a(0xb5b)]({id:_0xcfe6d}){const _0xe25009=_0xab329a;this[_0xe25009(0x78f)][_0xe25009(0xad2)](_0x570783=>_0x570783['handleNodeLeave'](_0xcfe6d));}['removeJobDispatcher'](_0x47e98b){const _0x5c0906=_0xab329a;if(!this[_0x5c0906(0x34f)][_0x5c0906(0x727)](_0x47e98b))throw new _0x1695e5(_0x91d017['JobDispatcherDoesNotExist'],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x5b1132=this['jobDispatchers']['get'](_0x47e98b);this['jobDispatchers']['delete'](_0x47e98b),_0x5b1132[_0x5c0906(0x5f3)](),this['configs'][_0x5c0906(0x849)][_0x5c0906(0x460)](_0x5b1132);}['removeJobWorker'](_0x3b68e5){const _0x5ddd87=_0xab329a;if(!this['jobWorkers'][_0x5ddd87(0x727)](_0x3b68e5))throw new _0x1695e5(_0x91d017[_0x5ddd87(0x215)],_0x5ddd87(0x1e4));const _0x45439f=this[_0x5ddd87(0x237)][_0x5ddd87(0x153)](_0x3b68e5);this[_0x5ddd87(0x237)][_0x5ddd87(0x425)](_0x3b68e5),_0x45439f[_0x5ddd87(0x5f3)](),this['configs']['mediator'][_0x5ddd87(0x460)](_0x45439f);}['removeGenerativeAIContext'](_0x32accc){const _0x188330=_0xab329a;if(!this[_0x188330(0x289)][_0x188330(0x727)](_0x32accc))throw new _0x1695e5(_0x91d017[_0x188330(0x9a5)],_0x188330(0x38d));const _0x598cc2=this[_0x188330(0x289)][_0x188330(0x153)](_0x32accc);this['generativeAIContexts']['delete'](_0x32accc),this['configs'][_0x188330(0x849)][_0x188330(0x460)](_0x598cc2);}['removeObjectStore'](_0x2f50fd){const _0x20db46=_0xab329a;if(!this[_0x20db46(0x78f)][_0x20db46(0x727)](_0x2f50fd))throw new _0x1695e5(_0x91d017[_0x20db46(0x942)],_0x20db46(0xa67));const _0x27cd99=this['objectStores']['get'](_0x2f50fd);this[_0x20db46(0x78f)]['delete'](_0x2f50fd),_0x27cd99[_0x20db46(0x5f3)](),this['configs'][_0x20db46(0x849)][_0x20db46(0x460)](_0x27cd99);}[_0xab329a(0xadf)](_0x4688ad){const _0x1b8a78=_0xab329a;if(!this['externalStorageConnections']['has'](_0x4688ad))throw new _0x1695e5(_0x91d017[_0x1b8a78(0x605)],_0x1b8a78(0x2a6));const _0x6bdbdd=this[_0x1b8a78(0x71e)][_0x1b8a78(0x153)](_0x4688ad);this[_0x1b8a78(0x71e)]['delete'](_0x4688ad),_0x6bdbdd['destroy'](),this[_0x1b8a78(0x8f2)]['mediator']['unregisterSystemSource'](_0x6bdbdd);}[_0xab329a(0x57d)](_0x1151c0){const _0x26ea86=_0xab329a;if(!this[_0x26ea86(0x6f7)][_0x26ea86(0x727)](_0x1151c0))throw new _0x1695e5(_0x91d017[_0x26ea86(0x803)],_0x26ea86(0xa67));const _0x225771=this['pubSubTopics'][_0x26ea86(0x153)](_0x1151c0);this[_0x26ea86(0x6f7)][_0x26ea86(0x425)](_0x1151c0),_0x225771[_0x26ea86(0x5f3)](),this[_0x26ea86(0x8f2)]['mediator'][_0x26ea86(0x460)](_0x225771);}['removeKeyValueDatabase'](_0x22d21a){const _0x1e3732=_0xab329a;if(!this[_0x1e3732(0x265)][_0x1e3732(0x727)](_0x22d21a))throw new _0x1695e5(_0x91d017[_0x1e3732(0x52b)],_0x1e3732(0x3bc));const _0x4e02d2=this['keyValueDatabases'][_0x1e3732(0x153)](_0x22d21a);this[_0x1e3732(0x265)][_0x1e3732(0x425)](_0x22d21a),_0x4e02d2[_0x1e3732(0x5f3)](),this[_0x1e3732(0x8f2)][_0x1e3732(0x849)]['unregisterSystemSource'](_0x4e02d2);}[_0xab329a(0x178)](_0x3239e9){const _0x215cbd=_0xab329a;if(!this[_0x215cbd(0x757)][_0x215cbd(0x727)](_0x3239e9))throw new _0x1695e5(_0x91d017[_0x215cbd(0x784)],_0x215cbd(0x3bc));const _0x1db180=this[_0x215cbd(0x757)][_0x215cbd(0x153)](_0x3239e9);this[_0x215cbd(0x757)]['delete'](_0x3239e9),_0x1db180[_0x215cbd(0x5f3)](),this[_0x215cbd(0x8f2)][_0x215cbd(0x849)]['unregisterSystemSource'](_0x1db180);}[_0xab329a(0x6fa)](_0x111e34){const _0x2f2151=_0xab329a;if(!this[_0x2f2151(0x1ab)][_0x2f2151(0x727)](_0x111e34))throw new _0x1695e5(_0x91d017[_0x2f2151(0x1c0)],_0x2f2151(0x3bc));const _0x190343=this[_0x2f2151(0x1ab)][_0x2f2151(0x153)](_0x111e34);this[_0x2f2151(0x1ab)][_0x2f2151(0x425)](_0x111e34),_0x190343['destroy'](),this[_0x2f2151(0x8f2)]['mediator'][_0x2f2151(0x460)](_0x190343);}[_0xab329a(0x568)](_0x28bca7){const _0x3db7f8=_0xab329a;if(!this[_0x3db7f8(0xb34)][_0x3db7f8(0x727)](_0x28bca7))throw new _0x227d3a(_0x227d3a[_0x3db7f8(0x821)][_0x3db7f8(0x950)],{'label':_0x28bca7,'localId':this[_0x3db7f8(0x8f2)]['localNode'][_0x3db7f8(0x7a4)]()});const _0x1437a6=this[_0x3db7f8(0xb34)][_0x3db7f8(0x153)](_0x28bca7);this[_0x3db7f8(0x8f2)][_0x3db7f8(0x849)][_0x3db7f8(0x460)](_0x1437a6),_0x1437a6[_0x3db7f8(0x5f3)](),this[_0x3db7f8(0xb34)]['delete'](_0x28bca7);}[_0xab329a(0x23b)](_0x4e94a4,_0xeafd){const _0x31f15c=_0xab329a;if(!this[_0x31f15c(0x3bd)]['has'](_0x4e94a4))throw new _0x227d3a(_0x227d3a['codes'][_0x31f15c(0x28f)],{'nodeId':_0x4e94a4,'localId':this['configs'][_0x31f15c(0x242)]['getId']()});const _0x1ed79d=this[_0x31f15c(0x3bd)][_0x31f15c(0x153)](_0x4e94a4);if(!_0x1ed79d[_0x31f15c(0x727)](_0xeafd))throw new _0x227d3a(_0x227d3a['codes']['RemoteMediaStreamDoesNotExist'],{'nodeId':_0x4e94a4,'label':_0xeafd,'localId':this[_0x31f15c(0x8f2)][_0x31f15c(0x242)][_0x31f15c(0x7a4)]()});const _0x344810=_0x1ed79d['get'](_0xeafd);this[_0x31f15c(0x8f2)][_0x31f15c(0x849)][_0x31f15c(0x460)](_0x344810),_0x344810['destroy'](),_0x1ed79d[_0x31f15c(0x425)](_0xeafd);}}var _0x1cb907,_0x23df21,_0x3eaf2e;!function(_0x1067a1){const _0x1b1f39=_0xab329a;_0x1067a1[_0x1b1f39(0x3b5)]=_0x1b1f39(0xac0),_0x1067a1['DTVolatility']=_0x1b1f39(0x5b6),_0x1067a1[_0x1b1f39(0x949)]=_0x1b1f39(0x86a),_0x1067a1[_0x1b1f39(0x45e)]='bitrate',_0x1067a1[_0x1b1f39(0x15a)]='jitter',_0x1067a1[_0x1b1f39(0x480)]='fps',_0x1067a1[_0x1b1f39(0x3f0)]='rtt',_0x1067a1['AudioVideoDelay']=_0x1b1f39(0x83e);}(_0x1cb907||(_0x1cb907={})),function(_0x4b3b67){const _0x36754a=_0xab329a;_0x4b3b67['CPUCycle']=_0x36754a(0x412),_0x4b3b67[_0x36754a(0x949)]=_0x36754a(0x887),_0x4b3b67[_0x36754a(0x90d)]=_0x36754a(0x817),_0x4b3b67[_0x36754a(0x480)]=_0x36754a(0x299),_0x4b3b67[_0x36754a(0x45e)]=_0x36754a(0x709),_0x4b3b67[_0x36754a(0x15a)]=_0x36754a(0xaf3),_0x4b3b67[_0x36754a(0x3f0)]='bandwidth.rtt';}(_0x23df21||(_0x23df21={})),function(_0x12e86f){const _0x2acae8=_0xab329a;_0x12e86f[_0x12e86f[_0x2acae8(0x5df)]=0x0]=_0x2acae8(0x5df);}(_0x3eaf2e||(_0x3eaf2e={}));const _0x27158d=[{'type':_0x1cb907['STVolatility'],'reportMetric':_0x1abda1=>_0x1abda1['STVolatility'],'maxThreshold':2.5},{'type':_0x1cb907[_0xab329a(0xa70)],'reportMetric':_0x36dd42=>_0x36dd42['DTVolatility'],'maxThreshold':0.5}],_0x49e5cd=[{'type':_0x1cb907['TimePerFrame'],'reportMetric':_0x5d8abc=>{const _0x37bd70=_0xab329a,_0x4fed36=0x3e8/_0x5d8abc['FPS'];return _0x5d8abc[_0x37bd70(0x437)]/_0x4fed36;},'maxThreshold':0.75},{'type':_0x1cb907['Bitrate'],'reportMetric':_0x410fb7=>{const _0x4ef7da=_0xab329a,_0x14bf6a=_0x410fb7[_0x4ef7da(0x61f)]*_0x410fb7[_0x4ef7da(0x660)]*_0x410fb7[_0x4ef7da(0x1ed)]*0.12;return _0x410fb7[_0x4ef7da(0x652)]/_0x14bf6a;},'minThreshold':0.25},{'type':_0x1cb907[_0xab329a(0x15a)],'reportMetric':_0x189c4e=>_0x189c4e[_0xab329a(0x861)],'maxThreshold':0.6},{'type':_0x1cb907['FramePerSecond'],'reportMetric':_0x1b3a6b=>_0x1b3a6b[_0xab329a(0x61f)],'minThreshold':0xa}],_0x5b1371=[{'type':_0x1cb907[_0xab329a(0x15a)],'reportMetric':_0x2174d1=>_0x2174d1[_0xab329a(0x861)],'maxThreshold':0.6}],_0x3ab59c=[{'type':_0x1cb907[_0xab329a(0x3f0)],'reportMetric':_0x10cabc=>_0x10cabc[_0xab329a(0x96d)],'maxThreshold':0x1/0x0}],_0x251f7e=[{'type':_0x1cb907[_0xab329a(0x90d)],'reportMetric':_0x1bddd4=>_0x1bddd4[_0xab329a(0x90d)],'maxThreshold':0x12c}],_0x47e494=[{'type':_0x23df21[_0xab329a(0x8b7)],'issues':[{'type':_0x1cb907['STVolatility'],'threshold':0x5},{'type':_0x1cb907['DTVolatility'],'threshold':0x5}]},{'type':_0x23df21[_0xab329a(0x949)],'issues':[{'type':_0x1cb907['TimePerFrame'],'threshold':0x3}]},{'type':_0x23df21['AudioVideoDelay'],'issues':[{'type':_0x1cb907[_0xab329a(0x90d)],'threshold':0x2}]},{'type':_0x23df21[_0xab329a(0x480)],'issues':[{'type':_0x1cb907[_0xab329a(0x480)],'threshold':0x3}]},{'type':_0x23df21[_0xab329a(0x45e)],'issues':[{'type':_0x1cb907['Bitrate'],'threshold':0x3}]},{'type':_0x23df21[_0xab329a(0x15a)],'issues':[{'type':_0x1cb907['Jitter'],'threshold':0x3}]},{'type':_0x23df21['RoundTripTime'],'issues':[{'type':_0x1cb907[_0xab329a(0x3f0)],'threshold':0x3}]}];var _0x5a89db,_0x2fc086;!function(_0x2e81e2){const _0x27167d=_0xab329a;_0x2e81e2[_0x2e81e2[_0x27167d(0x271)]=0x0]=_0x27167d(0x271),_0x2e81e2[_0x2e81e2[_0x27167d(0x896)]=0x1]=_0x27167d(0x896);}(_0x5a89db||(_0x5a89db={}));class _0x3e6510{[_0xab329a(0x8f2)];['issues']=[];[_0xab329a(0x2f3)];constructor(_0x45d0d1){const _0x380662=_0xab329a;this[_0x380662(0x8f2)]=_0x45d0d1,this[_0x380662(0x8f2)]['mediator'][_0x380662(0x4cc)](this);}['registerSystemPublisher'](_0xdc0025){this['systemTopic']=_0xdc0025;}[_0xab329a(0x8e3)](){const _0x45f480=_0xab329a;this[_0x45f480(0x2f3)]=void 0x0;}[_0xab329a(0xace)](){const _0x2b01f8=_0xab329a;this[_0x2b01f8(0x8f2)][_0x2b01f8(0x849)][_0x2b01f8(0x460)](this),this[_0x2b01f8(0x79d)]=[];}[_0xab329a(0xa1e)](_0x5ce902){const _0x3abea2=_0xab329a;switch(_0x5ce902[_0x3abea2(0xa98)][_0x3abea2(0x539)]){case _0x5a89db[_0x3abea2(0x896)]:this[_0x3abea2(0x2bd)](_0x5ce902[_0x3abea2(0xa98)][_0x3abea2(0x62e)]);break;case _0x5a89db[_0x3abea2(0x271)]:this[_0x3abea2(0xa79)](_0x5ce902[_0x3abea2(0xa98)][_0x3abea2(0x62e)]);}}[_0xab329a(0x55c)](_0x30f51a,_0x2ef536,_0x5c1ca2,_0x38a4e7){const _0xc0ad89=_0xab329a,_0x3c7daa=_0x47e494['find'](_0x5e3924=>_0x5e3924['issues'][_0xc0ad89(0x95e)](_0x5a7e2b=>_0x5a7e2b[_0xc0ad89(0x539)]===_0x30f51a));_0x38a4e7>=_0x3c7daa['issues'][_0xc0ad89(0xb4a)](_0x281097=>_0x281097[_0xc0ad89(0x539)]===_0x30f51a)[_0xc0ad89(0x285)]&&(this['addProblem'](_0x3c7daa[_0xc0ad89(0x539)],_0x2ef536,_0x5c1ca2),this[_0xc0ad89(0x79d)]=this[_0xc0ad89(0x79d)][_0xc0ad89(0x2b3)](_0x598227=>!(_0x598227[_0xc0ad89(0x539)]===_0x30f51a&&_0x598227[_0xc0ad89(0x1c9)]===_0x2ef536&&_0x598227[_0xc0ad89(0xaa3)]===_0x5c1ca2)));}['detectLocalIssues'](_0x3d8a89){const _0x2e6e82=_0xab329a;_0x27158d[_0x2e6e82(0xad2)](_0x108709=>{const _0x936148=_0x2e6e82,_0x5d6d44=_0x108709[_0x936148(0x797)](_0x3d8a89);_0x108709[_0x936148(0x85f)]&&_0x5d6d44>_0x108709[_0x936148(0x85f)]&&this[_0x936148(0x4cf)](_0x108709[_0x936148(0x539)],this[_0x936148(0x8f2)][_0x936148(0x242)]['getId'](),_0x254707[_0x936148(0x6e8)],_0x5d6d44),_0x108709[_0x936148(0x326)]&&_0x5d6d44<_0x108709['minThreshold']&&this['addIssue'](_0x108709[_0x936148(0x539)],this[_0x936148(0x8f2)][_0x936148(0x242)][_0x936148(0x7a4)](),_0x254707[_0x936148(0x6e8)],_0x5d6d44);});}['detectStreamIssues'](_0x2d1fb7){const _0x341dd1=_0xab329a;let _0x3b4cda=[];switch(_0x2d1fb7[_0x341dd1(0xaa3)]){case _0x254707['Sender']:_0x3b4cda=_0x3ab59c;break;case _0x254707['Receiver']:_0x3b4cda=_0x251f7e;}_0x2d1fb7[_0x341dd1(0x7e2)]&&this['detectVideoIssues'](_0x2d1fb7[_0x341dd1(0x1c9)],_0x254707[_0x341dd1(0x6e8)],_0x2d1fb7[_0x341dd1(0x7e2)]),_0x2d1fb7['audio']&&this[_0x341dd1(0x665)](_0x2d1fb7[_0x341dd1(0x1c9)],_0x254707[_0x341dd1(0x6e8)],_0x2d1fb7[_0x341dd1(0x8d2)]),_0x3b4cda['forEach'](_0x49c281=>{const _0x1463de=_0x341dd1,_0x5c2eaf=_0x49c281[_0x1463de(0x797)](_0x2d1fb7);_0x49c281[_0x1463de(0x85f)]&&_0x5c2eaf>_0x49c281[_0x1463de(0x85f)]&&this[_0x1463de(0x4cf)](_0x49c281['type'],_0x2d1fb7[_0x1463de(0x1c9)],_0x254707[_0x1463de(0x6e8)],_0x5c2eaf),_0x49c281['minThreshold']&&_0x5c2eaf<_0x49c281[_0x1463de(0x326)]&&this['addIssue'](_0x49c281[_0x1463de(0x539)],_0x2d1fb7['nodeId'],_0x254707[_0x1463de(0x6e8)],_0x5c2eaf);});}[_0xab329a(0x707)](_0x395754,_0x44ef17,_0x46a9c0){const _0x10ad76=_0xab329a;0x0!==_0x46a9c0[_0x10ad76(0x652)]&&_0x49e5cd[_0x10ad76(0xad2)](_0x5e2b94=>{const _0x592a84=_0x10ad76,_0xbcf835=_0x5e2b94[_0x592a84(0x797)](_0x46a9c0);_0x5e2b94[_0x592a84(0x85f)]&&_0xbcf835>_0x5e2b94[_0x592a84(0x85f)]&&this[_0x592a84(0x4cf)](_0x5e2b94[_0x592a84(0x539)],_0x395754,_0x44ef17,_0xbcf835,_0x592a84(0x7e2)),_0x5e2b94['minThreshold']&&_0xbcf835<_0x5e2b94[_0x592a84(0x326)]&&this[_0x592a84(0x4cf)](_0x5e2b94[_0x592a84(0x539)],_0x395754,_0x44ef17,_0xbcf835,_0x592a84(0x7e2));});}[_0xab329a(0x665)](_0x1970e8,_0x3ab3db,_0x269284){const _0x3a2223=_0xab329a;0x0!==_0x269284['bitrate']&&_0x5b1371[_0x3a2223(0xad2)](_0xa96df3=>{const _0x359456=_0x3a2223,_0x35e120=_0xa96df3['reportMetric'](_0x269284);_0xa96df3[_0x359456(0x85f)]&&_0x35e120>_0xa96df3[_0x359456(0x85f)]&&this[_0x359456(0x4cf)](_0xa96df3['type'],_0x1970e8,_0x3ab3db,_0x35e120,_0x359456(0x8d2)),_0xa96df3[_0x359456(0x326)]&&_0x35e120<_0xa96df3[_0x359456(0x326)]&&this[_0x359456(0x4cf)](_0xa96df3['type'],_0x1970e8,_0x3ab3db,_0x35e120,_0x359456(0x8d2));});}[_0xab329a(0x4cf)](_0xe8a737,_0x2325ba,_0xc25733,_0x3a6a65,_0x314d8c){const _0x3d6369=_0xab329a;_0x542377['log'](_0x59a34d[_0x3d6369(0x5bd)],_0x3d6369(0x7e1)+_0xe8a737,_0xe8a737,_0x3a6a65),_0x542377[_0x3d6369(0x1aa)](_0x3d6369(0x6cc),{'clusterId':this[_0x3d6369(0x8f2)]['clusterId'],'nodeId':this['configs'][_0x3d6369(0x242)][_0x3d6369(0x7a4)](),'nodeType':this[_0x3d6369(0x8f2)][_0x3d6369(0x242)]['type'],'remoteId':_0x2325ba,'data':{'type':_0xe8a737,'value':_0x3a6a65,'kind':_0x314d8c}}),this[_0x3d6369(0x79d)]=this[_0x3d6369(0x79d)][_0x3d6369(0x2b3)](_0x1bcae4=>Date[_0x3d6369(0x4cb)]()-_0x1bcae4['timestamp']<0x7530),this[_0x3d6369(0x79d)]['push']({'timestamp':Date[_0x3d6369(0x4cb)](),'type':_0xe8a737,'nodeId':_0x2325ba,'origin':_0xc25733,'value':_0x3a6a65,'kind':_0x314d8c});const _0x45268d=this[_0x3d6369(0x79d)][_0x3d6369(0x2b3)](_0x1c3155=>_0x1c3155['type']===_0xe8a737&&_0x1c3155[_0x3d6369(0x1c9)]===_0x2325ba&&_0x1c3155['origin']===_0xc25733)[_0x3d6369(0x4f0)];this[_0x3d6369(0x55c)](_0xe8a737,_0x2325ba,_0xc25733,_0x45268d);}[_0xab329a(0x355)](_0xe4b1ca,_0x58c04c,_0x4ffeab){const _0x5de56d=_0xab329a;_0x542377['log'](_0x59a34d[_0x5de56d(0x5bd)],_0x5de56d(0xb70)+_0xe4b1ca),_0x542377[_0x5de56d(0x1aa)](_0x5de56d(0x56b),{'clusterId':this[_0x5de56d(0x8f2)]['clusterId'],'nodeId':this[_0x5de56d(0x8f2)][_0x5de56d(0x242)][_0x5de56d(0x7a4)](),'nodeType':this[_0x5de56d(0x8f2)]['localNode'][_0x5de56d(0x539)],'remoteId':_0x58c04c,'data':{'type':_0xe4b1ca}}),this['systemTopic']?.[_0x5de56d(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x5de56d(0x5bd)],'content':{'type':_0x3eaf2e[_0x5de56d(0x5df)],'data':{'timestamp':Date[_0x5de56d(0x4cb)](),'nodeId':_0x58c04c,'origin':_0x254707[_0x5de56d(0x6e8)],'type':_0xe4b1ca}}});}}class _0x36d856 extends _0x5a7cb1{[_0xab329a(0x539)]=_0x1d89a1[_0xab329a(0x21e)][_0xab329a(0x52c)];}class _0x4e2035 extends _0x36d856{['systemTopic'];[_0xab329a(0x621)]=Date[_0xab329a(0x4cb)]();['updateDebounceTimeout'];[_0xab329a(0x284)];[_0xab329a(0xace)](){const _0x2dbcbe=_0xab329a;this[_0x2dbcbe(0x6c7)]&&(clearTimeout(this[_0x2dbcbe(0x6c7)]),delete this[_0x2dbcbe(0x6c7)]),delete this['lastUpdated'],this[_0x2dbcbe(0x621)]=Date[_0x2dbcbe(0x4cb)](),super[_0x2dbcbe(0xace)]();}[_0xab329a(0x4d7)](_0x3647a4){this['systemTopic']=_0x3647a4;}['unregisterSystemPublisher'](){const _0x493f27=_0xab329a;delete this[_0x493f27(0x2f3)];}[_0xab329a(0x303)](_0x4a5133){const _0x4c05d2=_0xab329a;!this[_0x4c05d2(0x6c7)]&&this[_0x4c05d2(0xacd)]&&this[_0x4c05d2(0x2f3)][_0x4c05d2(0x75d)]({'sourceId':this['id'],'destinationIds':[_0x4a5133],'propagate':!0x0,'messageType':_0x18b589[_0x4c05d2(0x483)],'content':{'type':_0xc8c151[_0x4c05d2(0xaa8)],'id':this['id'],'metaData':{'type':this[_0x4c05d2(0x539)]},'rank':this[_0x4c05d2(0xab2)](),'remoteConnections':Array[_0x4c05d2(0x61d)](this[_0x4c05d2(0x68a)]),'version':this[_0x4c05d2(0x621)]}});}[_0xab329a(0x212)](_0x1f7fdf){const _0x55ebb0=_0xab329a;this[_0x55ebb0(0x68a)]['has'](_0x1f7fdf)||(this[_0x55ebb0(0x68a)]['add'](_0x1f7fdf),this[_0x55ebb0(0x67e)](),this[_0x55ebb0(0x6dc)](!0x0));}[_0xab329a(0x820)](_0x4e13b3){const _0x47a462=_0xab329a;this['remoteConnections']['has'](_0x4e13b3)&&(this['remoteConnections'][_0x47a462(0x425)](_0x4e13b3),this[_0x47a462(0x67e)](),this[_0x47a462(0x6dc)](!0x0));}['getCurrentVersion'](){return this['currentVersion'];}[_0xab329a(0x142)](_0x2fe216,_0xac4380=!0x0){const _0x27fab4=_0xab329a;this[_0x27fab4(0xacd)]!==_0x2fe216&&(this[_0x27fab4(0xacd)]=_0x2fe216,_0xac4380&&(this[_0x27fab4(0x67e)](),this[_0x27fab4(0x6dc)]()));}['incrementVersion'](){const _0xca8fb9=_0xab329a;this[_0xca8fb9(0x621)]=Date[_0xca8fb9(0x4cb)]();}[_0xab329a(0x6dc)](_0x2067fa=!0x1){const _0x54a92e=_0xab329a;if(this[_0x54a92e(0xacd)]){if(this[_0x54a92e(0x284)]||(this[_0x54a92e(0x284)]=Date[_0x54a92e(0x4cb)]()),this[_0x54a92e(0x6c7)]){if(Date[_0x54a92e(0x4cb)]()-this[_0x54a92e(0x284)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x2e964a=_0x54a92e;delete this[_0x2e964a(0x284)],delete this['updateDebounceTimeout'],this[_0x2e964a(0x2f3)][_0x2e964a(0x75d)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x18b589[_0x2e964a(0x483)],'content':{'type':_0x2067fa?_0xc8c151[_0x2e964a(0x804)]:_0xc8c151['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x2e964a(0x539)]},'rank':this['getRank'](),'remoteConnections':Array['from'](this[_0x2e964a(0x68a)]),'version':this[_0x2e964a(0x621)]}});},0x3e8);}}}class _0x4c1e81 extends _0x3c1882{[_0xab329a(0x2f3)];[_0xab329a(0x621)]=Date['now']();[_0xab329a(0x6c7)];[_0xab329a(0x284)];[_0xab329a(0xace)](){const _0x40af7e=_0xab329a;this[_0x40af7e(0x6c7)]&&(clearTimeout(this[_0x40af7e(0x6c7)]),delete this[_0x40af7e(0x6c7)]),delete this[_0x40af7e(0x284)],this[_0x40af7e(0x621)]=Date[_0x40af7e(0x4cb)](),super[_0x40af7e(0xace)]();}[_0xab329a(0x4d7)](_0x111cdf){const _0x4e7811=_0xab329a;this[_0x4e7811(0x2f3)]=_0x111cdf;}[_0xab329a(0x8e3)](){const _0x543358=_0xab329a;delete this[_0x543358(0x2f3)];}[_0xab329a(0x303)](_0x42a73b){const _0x587d32=_0xab329a;!this[_0x587d32(0x6c7)]&&this[_0x587d32(0xacd)]&&this[_0x587d32(0x2f3)][_0x587d32(0x75d)]({'sourceId':this['id'],'destinationIds':[_0x42a73b],'propagate':!0x0,'messageType':_0x18b589['Node'],'content':{'type':_0xc8c151['NodeUpdate'],'id':this['id'],'metaData':{'type':this['type'],'displayName':this[_0x587d32(0x7e7)](),'email':this[_0x587d32(0xb42)]()},'rank':this[_0x587d32(0xab2)](),'remoteConnections':Array[_0x587d32(0x61d)](this[_0x587d32(0x68a)]),'version':this[_0x587d32(0x621)]}});}[_0xab329a(0x212)](_0x5e5d81){const _0x269d09=_0xab329a;this[_0x269d09(0x68a)][_0x269d09(0x727)](_0x5e5d81)||(this[_0x269d09(0x68a)]['add'](_0x5e5d81),this[_0x269d09(0x67e)](),this[_0x269d09(0x6dc)](!0x0));}[_0xab329a(0x820)](_0x135fa0){const _0x344dbe=_0xab329a;this[_0x344dbe(0x68a)][_0x344dbe(0x727)](_0x135fa0)&&(this['remoteConnections'][_0x344dbe(0x425)](_0x135fa0),this[_0x344dbe(0x67e)](),this['publishUserUpdate'](!0x0));}[_0xab329a(0x704)](){return this['currentVersion'];}[_0xab329a(0x171)](_0x3021c0){const _0x442c0b=_0xab329a;this[_0x442c0b(0x876)]!==_0x3021c0&&(this[_0x442c0b(0x876)]=_0x3021c0,this['incrementVersion'](),this[_0x442c0b(0x6dc)]());}['setEmail'](_0x435fc9){const _0x188821=_0xab329a;this[_0x188821(0x776)]!==_0x435fc9&&(this[_0x188821(0x776)]=_0x435fc9,this['incrementVersion'](),this[_0x188821(0x6dc)]());}[_0xab329a(0x142)](_0x3378d4,_0x25ae5c=!0x0){const _0x4f870b=_0xab329a;this[_0x4f870b(0xacd)]!==_0x3378d4&&(this[_0x4f870b(0xacd)]=_0x3378d4,_0x25ae5c&&(this[_0x4f870b(0x67e)](),this[_0x4f870b(0x6dc)]()));}[_0xab329a(0x67e)](){const _0xa8e645=_0xab329a;this[_0xa8e645(0x621)]=Date[_0xa8e645(0x4cb)]();}[_0xab329a(0x6dc)](_0x49ace8=!0x1){const _0x4be2d1=_0xab329a;if(this['rank']){if(this['lastUpdated']||(this[_0x4be2d1(0x284)]=Date['now']()),this[_0x4be2d1(0x6c7)]){if(Date[_0x4be2d1(0x4cb)]()-this['lastUpdated']>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x3d9673=_0x4be2d1;delete this[_0x3d9673(0x284)],delete this[_0x3d9673(0x6c7)],this[_0x3d9673(0x2f3)][_0x3d9673(0x75d)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x18b589[_0x3d9673(0x483)],'content':{'type':_0x49ace8?_0xc8c151[_0x3d9673(0x804)]:_0xc8c151['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x3d9673(0x539)],'displayName':this[_0x3d9673(0x7e7)](),'email':this[_0x3d9673(0xb42)]()},'rank':this[_0x3d9673(0xab2)](),'remoteConnections':Array[_0x3d9673(0x61d)](this[_0x3d9673(0x68a)]),'version':this[_0x3d9673(0x621)]}});},0x3e8);}}}class _0x44caf4{['id'];['groupId'];[_0xab329a(0x3e1)];[_0xab329a(0x2f4)];['type']=_0x1d89a1['NodeType'][_0xab329a(0x52c)];['lastCapacityReport'];constructor(_0x5cda0a,_0x5cd572,_0x45d7bd,_0x5efa7d){const _0x3ac2b0=_0xab329a;this['id']=_0x5cda0a,this[_0x3ac2b0(0x3ff)]=_0x5cd572,this['vendorId']=_0x45d7bd,this['agentConfig']=_0x5efa7d;}[_0xab329a(0x7a4)](){return this['id'];}['onConfigurationChange'](_0x367af9){const _0x6c851e=_0xab329a,_0xdfdf2c=(0x0,_0x30ad83[_0x6c851e(0x582)])((0x0,_0x30ad83[_0x6c851e(0x71b)])(_0x44b60b['getFirestore'](),_0x6c851e(0x29c)+this[_0x6c851e(0x3e1)]+'/resources/agent/items/'+this[_0x6c851e(0x3ff)]),_0x21451e=>{const _0x48154d=_0x6c851e;if(_0x21451e[_0x48154d(0x607)]()){const _0x55ba21=_0x21451e['data']();if(this[_0x48154d(0x2f4)][_0x48154d(0x1bf)]['isEqual'](_0x55ba21[_0x48154d(0x1bf)]))return;_0x542377['log'](_0x59a34d[_0x48154d(0x483)],'agent-config-changed',{'agentId':this['id'],'groupId':this['groupId'],'oldConfig':this[_0x48154d(0x2f4)],'newConfig':_0x55ba21}),this['agentConfig']=_0x55ba21,_0x367af9();}});return()=>_0xdfdf2c();}[_0xab329a(0xa51)](_0x508926){const _0xd4f946=_0xab329a;return this[_0xd4f946(0x8a3)](this['groupId'],_0x508926),_0x3b46ce[_0xd4f946(0x9f4)](()=>this['reportCapacity'](this[_0xd4f946(0x3ff)],_0x508926),0x7530);}[_0xab329a(0x1e0)](){const _0x57e480=_0xab329a;if(!this['lastCapacityReport'])throw new _0x227d3a(_0x227d3a[_0x57e480(0x821)][_0x57e480(0x337)]);return this['lastCapacityReport'];}async['reportCapacity'](_0x5b8230,_0x38d15){const _0x418488=_0xab329a,_0x39f169=await _0x38d15();this[_0x418488(0x9e8)]=_0x39f169,await(0x0,_0x30ad83[_0x418488(0x5c4)])((0x0,_0x30ad83[_0x418488(0x9be)])(_0x44b60b['getFirestore'](),_0x418488(0x29c)+this[_0x418488(0x3e1)]+'/capacities'),{'agentId':this['id'],'groupId':_0x5b8230,'timestamp':(0x0,_0x30ad83[_0x418488(0x732)])(),'capacity':_0x39f169});}}!function(_0xfb2c70){const _0x5c9949=_0xab329a;_0xfb2c70[_0xfb2c70[_0x5c9949(0x8f1)]=0x0]=_0x5c9949(0x8f1),_0xfb2c70[_0xfb2c70[_0x5c9949(0x7a2)]=0x1]=_0x5c9949(0x7a2);}(_0x2fc086||(_0x2fc086={}));class _0x5cb58a extends _0x36d856{[_0xab329a(0x621)];[_0xab329a(0x5a5)]=_0x2fc086[_0xab329a(0x8f1)];['lastUpdated']=Date['now']();constructor(_0x339138,_0xed0802=new Set(),_0x338cfd,_0x273882){const _0x57d85c=_0xab329a;super(_0x339138,_0xed0802,_0x273882),this[_0x57d85c(0x621)]=_0x338cfd;}[_0xab329a(0x704)](){const _0x1707ac=_0xab329a;return this[_0x1707ac(0x621)];}[_0xab329a(0x592)](){return this['status'];}[_0xab329a(0x200)](){const _0x2adde5=_0xab329a;return this[_0x2adde5(0x284)];}[_0xab329a(0x142)](_0x5b7a03){const _0x48590c=_0xab329a;this[_0x48590c(0xacd)]!==_0x5b7a03&&(this['rank']=_0x5b7a03,this[_0x48590c(0x2ab)]());}[_0xab329a(0xa4e)](_0x80fb9){const _0x107145=_0xab329a;let _0x359e3e=!0x1;for(const _0x10bb91 of this[_0x107145(0x68a)])_0x80fb9['includes'](_0x10bb91)||(_0x359e3e=!0x0,this['remoteConnections'][_0x107145(0x425)](_0x10bb91));for(const _0x4b2a4f of _0x80fb9)this[_0x107145(0x68a)][_0x107145(0x727)](_0x4b2a4f)||(_0x359e3e=!0x0,this[_0x107145(0x68a)]['add'](_0x4b2a4f));_0x359e3e&&this[_0x107145(0x2ab)]();}['setCurrentVersion'](_0x391673){const _0x136cf2=_0xab329a;this[_0x136cf2(0x621)]!==_0x391673&&(this[_0x136cf2(0x621)]=_0x391673,this[_0x136cf2(0x2ab)]());}[_0xab329a(0x2f7)](_0x1f7b65){const _0x1348bc=_0xab329a;this[_0x1348bc(0x5a5)]!==_0x1f7b65&&(this['status']=_0x1f7b65,this[_0x1348bc(0x2ab)](),_0x1f7b65===_0x2fc086[_0x1348bc(0x7a2)]&&this[_0x1348bc(0xace)]());}['updateLastUpdated'](){const _0x42d7ef=_0xab329a;this['lastUpdated']=Date[_0x42d7ef(0x4cb)]();}}class _0x21819f extends _0x3c1882{[_0xab329a(0x621)];[_0xab329a(0x5a5)]=_0x2fc086['Online'];[_0xab329a(0x284)]=Date[_0xab329a(0x4cb)]();constructor(_0x5c567f,_0x531bc0,_0x5b671b,_0xebac48=new Set(),_0x4cd5a5,_0x3836c0){const _0x45bb2c=_0xab329a;super(_0x5c567f,_0x531bc0,_0x5b671b,_0xebac48,_0x3836c0),this[_0x45bb2c(0x621)]=_0x4cd5a5;}['getCurrentVersion'](){const _0x1e65d7=_0xab329a;return this[_0x1e65d7(0x621)];}[_0xab329a(0x592)](){const _0x347ed7=_0xab329a;return this[_0x347ed7(0x5a5)];}[_0xab329a(0x200)](){const _0x3cdcec=_0xab329a;return this[_0x3cdcec(0x284)];}[_0xab329a(0x171)](_0x55a8da){const _0x533a3a=_0xab329a;this[_0x533a3a(0x876)]!==_0x55a8da&&(this[_0x533a3a(0x876)]=_0x55a8da,this[_0x533a3a(0x2ab)]());}['setEmail'](_0x248c92){const _0x53e592=_0xab329a;this[_0x53e592(0x776)]!==_0x248c92&&(this[_0x53e592(0x776)]=_0x248c92,this[_0x53e592(0x2ab)]());}[_0xab329a(0x142)](_0x1110ea){const _0x1015e8=_0xab329a;this[_0x1015e8(0xacd)]!==_0x1110ea&&(this[_0x1015e8(0xacd)]=_0x1110ea,this[_0x1015e8(0x2ab)]());}['setRemoteConnections'](_0x3549c5){const _0x10ba62=_0xab329a;let _0x23e235=!0x1;for(const _0xa69e49 of this[_0x10ba62(0x68a)])_0x3549c5['includes'](_0xa69e49)||(_0x23e235=!0x0,this[_0x10ba62(0x68a)]['delete'](_0xa69e49));for(const _0x358538 of _0x3549c5)this['remoteConnections'][_0x10ba62(0x727)](_0x358538)||(_0x23e235=!0x0,this[_0x10ba62(0x68a)][_0x10ba62(0x232)](_0x358538));_0x23e235&&this[_0x10ba62(0x2ab)]();}['setCurrentVersion'](_0x520e06){const _0x4fd909=_0xab329a;this[_0x4fd909(0x621)]!==_0x520e06&&(this[_0x4fd909(0x621)]=_0x520e06,this[_0x4fd909(0x2ab)]());}['setStatus'](_0x1e13cb){const _0x3662f2=_0xab329a;this[_0x3662f2(0x5a5)]!==_0x1e13cb&&(this[_0x3662f2(0x5a5)]=_0x1e13cb,this['updateLastUpdated'](),_0x1e13cb===_0x2fc086[_0x3662f2(0x7a2)]&&this[_0x3662f2(0xace)]());}[_0xab329a(0x2ab)](){const _0xf4da64=_0xab329a;this[_0xf4da64(0x284)]=Date[_0xf4da64(0x4cb)]();}}class _0x4e7003{[_0xab329a(0x3e1)];['clusterId'];[_0xab329a(0x242)];[_0xab329a(0x5fa)];[_0xab329a(0x89d)]=_0x2aef8c();[_0xab329a(0x27e)];[_0xab329a(0x995)];[_0xab329a(0x8a2)];['connected']=!0x1;[_0xab329a(0x2ef)];['nodeKey'];constructor(_0x532ef7,_0xfd8fd8,_0x1683df,_0x518e15){const _0x33ff6d=_0xab329a;this[_0x33ff6d(0x3e1)]=_0x532ef7,this['clusterId']=_0xfd8fd8,this[_0x33ff6d(0x242)]=_0x1683df,this[_0x33ff6d(0x5fa)]=_0x518e15,this['clusterKey']='ccc'+this[_0x33ff6d(0x3e1)]+_0x33ff6d(0xafd)+this[_0x33ff6d(0x48a)],this[_0x33ff6d(0x315)]=_0x33ff6d(0xafd)+this[_0x33ff6d(0x3e1)]+_0x33ff6d(0xafd)+this[_0x33ff6d(0x242)][_0x33ff6d(0x7a4)](),this['firebaseUnsubscriber']=(0x0,_0x3f50ce[_0x33ff6d(0x424)])((0x0,_0x3f50ce['ref'])(_0x44b60b[_0x33ff6d(0xa11)](),_0x33ff6d(0xa36)),_0x3a33cf=>{const _0x5a72c2=_0x33ff6d;!0x0!==_0x3a33cf[_0x5a72c2(0xb3b)]()?this[_0x5a72c2(0xa9a)]&&_0x542377['error'](_0x5a72c2(0x500),{'clusterId':this[_0x5a72c2(0x48a)],'nodeId':this[_0x5a72c2(0x242)]['getId'](),'nodeType':this['localNode'][_0x5a72c2(0x539)]}):(this[_0x5a72c2(0xa9a)]=!0x0,this[_0x5a72c2(0xb01)](),_0x542377[_0x5a72c2(0x396)](_0x5a72c2(0x455),{'clusterId':this[_0x5a72c2(0x48a)],'nodeId':this['localNode'][_0x5a72c2(0x7a4)](),'nodeType':this[_0x5a72c2(0x242)][_0x5a72c2(0x539)]}));});}async[_0xab329a(0xa75)](){const _0x3d2b49=_0xab329a;await this[_0x3d2b49(0x86f)]();const _0x3fd40d=await this['getAncestors']();return this['childRemovedUnsubscriber']=(0x0,_0x3f50ce[_0x3d2b49(0x5fd)])((0x0,_0x3f50ce[_0x3d2b49(0x86e)])(_0x44b60b['getDatabase'](),'clusters/'+this[_0x3d2b49(0x2ef)]+_0x3d2b49(0x5a4)),_0x4e94ae=>{const _0x448b87=_0x3d2b49,_0x4b3802=_0x4e94ae[_0x448b87(0x66e)];if(!_0x4b3802)return;const _0x1fb1b4=_0x4b3802[_0x448b87(0x640)](_0x448b87(0xafd)+this[_0x448b87(0x3e1)]+_0x448b87(0xafd),'');this[_0x448b87(0x89d)][_0x448b87(0x75d)](_0x1fb1b4);}),_0x3fd40d;}async[_0xab329a(0xace)](){const _0x4f2c9e=_0xab329a;this[_0x4f2c9e(0x995)]?.(),delete this['childRemovedUnsubscriber'],this[_0x4f2c9e(0x8a2)]?.[_0x4f2c9e(0x358)](),delete this[_0x4f2c9e(0x8a2)],this[_0x4f2c9e(0x27e)]?.(),delete this[_0x4f2c9e(0x27e)],await(0x0,_0x3f50ce['remove'])((0x0,_0x3f50ce['ref'])(_0x44b60b['getDatabase'](),'clusters/'+this['clusterKey']+_0x4f2c9e(0x3df)+this['nodeKey']));}['onNodeDisconnect'](_0x160840){const _0x4b37da=_0xab329a;return this[_0x4b37da(0x89d)][_0x4b37da(0x94e)](_0x160840);}async['getAncestors'](){const _0x24dce8=_0xab329a,_0x4a6314=[],_0x1e246c=await(0x0,_0x3f50ce['get'])((0x0,_0x3f50ce[_0x24dce8(0x86e)])(_0x44b60b[_0x24dce8(0xa11)](),_0x24dce8(0x729)+this['clusterKey']+_0x24dce8(0x5a4))),_0x7947d8=[];return _0x1e246c['forEach'](_0x569a45=>{const _0x3cd511=_0x24dce8,_0x5237f1=_0x569a45[_0x3cd511(0x66e)]?.[_0x3cd511(0x640)](_0x3cd511(0xafd)+this[_0x3cd511(0x3e1)]+'ccc','');_0x7947d8[_0x3cd511(0x257)]({'id':_0x5237f1,'joinedAt':_0x569a45[_0x3cd511(0xb3b)]()[_0x3cd511(0x42a)],'priority':_0x569a45['val']()[_0x3cd511(0x3a1)]});}),_0x7947d8[_0x24dce8(0x32a)]((_0x5ee642,_0x417b01)=>_0x5ee642[_0x24dce8(0x42a)]===_0x417b01[_0x24dce8(0x42a)]?_0x5ee642[_0x24dce8(0x3a1)]-_0x417b01[_0x24dce8(0x3a1)]:_0x5ee642[_0x24dce8(0x42a)]-_0x417b01[_0x24dce8(0x42a)])[_0x24dce8(0x1e9)](_0x7947d8[_0x24dce8(0x81a)](_0x34c019=>_0x34c019['id']===this['localNode'][_0x24dce8(0x7a4)]())),_0x7947d8[_0x24dce8(0x32a)]((_0x536b65,_0x58e8b6)=>_0x58e8b6[_0x24dce8(0x42a)]===_0x536b65['joinedAt']?_0x58e8b6[_0x24dce8(0x3a1)]-_0x536b65[_0x24dce8(0x3a1)]:_0x58e8b6[_0x24dce8(0x42a)]-_0x536b65[_0x24dce8(0x42a)])[_0x24dce8(0xad2)](_0x54c845=>{const _0x1eef3b=_0x24dce8;_0x4a6314[_0x1eef3b(0x4f0)]>=this[_0x1eef3b(0x5fa)]||_0x4a6314[_0x1eef3b(0x257)](_0x54c845['id']);}),_0x542377[_0x24dce8(0x1aa)](_0x24dce8(0x1ca),{'clusterId':this[_0x24dce8(0x48a)],'nodeId':this[_0x24dce8(0x242)][_0x24dce8(0x7a4)](),'nodeType':this[_0x24dce8(0x242)][_0x24dce8(0x539)],'data':{'ancestorIds':_0x4a6314,'allNodes':_0x7947d8}}),_0x4a6314;}async['joinCluster'](){const _0x2c7bcc=_0xab329a;await(0x0,_0x3f50ce[_0x2c7bcc(0x4d1)])((0x0,_0x3f50ce[_0x2c7bcc(0x86e)])(_0x44b60b['getDatabase'](),'clusters/'+this[_0x2c7bcc(0x2ef)]+'/nodes/'+this[_0x2c7bcc(0x315)]),{'joinedAt':(0x0,_0x3f50ce[_0x2c7bcc(0x732)])(),'priority':Math[_0x2c7bcc(0x6b4)]()});}[_0xab329a(0xb01)](){const _0x3ccdf0=_0xab329a;this[_0x3ccdf0(0x8a2)]&&this[_0x3ccdf0(0x8a2)][_0x3ccdf0(0x358)](),this['onDisconnectHandler']=(0x0,_0x3f50ce[_0x3ccdf0(0x15e)])((0x0,_0x3f50ce[_0x3ccdf0(0x86e)])(_0x44b60b[_0x3ccdf0(0xa11)](),'clusters/'+this[_0x3ccdf0(0x2ef)]+_0x3ccdf0(0x3df)+this['nodeKey'])),this[_0x3ccdf0(0x8a2)]['remove']();}}class _0x122927{[_0xab329a(0x8f2)];[_0xab329a(0x8af)];['remoteUnsubscriber'];[_0xab329a(0x6c3)];[_0xab329a(0x4c4)];['ancestors']=[];[_0xab329a(0x2f3)];['optimizationLayers']=new Map();[_0xab329a(0xae8)];[_0xab329a(0x21c)];[_0xab329a(0xafc)];[_0xab329a(0x871)];[_0xab329a(0x17f)];[_0xab329a(0xb06)];constructor(_0x5f54b1,_0x582a6d){const _0x118a77=_0xab329a;this[_0x118a77(0x8f2)]=_0x5f54b1,this[_0x118a77(0x8af)]=_0x582a6d,this[_0x118a77(0xafc)]=new Promise((_0x4b8661,_0x2352cc)=>{const _0x596f9f=_0x118a77;this[_0x596f9f(0x871)]=_0x4b8661,this[_0x596f9f(0x17f)]=_0x2352cc;}),this['discoveryService']=new _0x4e7003(this[_0x118a77(0x8f2)][_0x118a77(0x3e1)],this[_0x118a77(0x8f2)]['clusterId'],this['configs'][_0x118a77(0x242)],this[_0x118a77(0x8af)][_0x118a77(0x3c5)]()),this[_0x118a77(0x4c4)]=this[_0x118a77(0x6c3)][_0x118a77(0x1bb)](this[_0x118a77(0x3b4)][_0x118a77(0x5b5)](this)),this['configs'][_0x118a77(0x849)][_0x118a77(0x4cc)](this[_0x118a77(0x8f2)]['localNode']),this[_0x118a77(0x8f2)][_0x118a77(0x849)][_0x118a77(0x4cc)](this),this['remoteUnsubscriber']=_0x3b46ce['setInterval'](()=>{const _0xb1c35e=_0x118a77,_0x150bd2=Date[_0xb1c35e(0x4cb)]();this[_0xb1c35e(0x8af)][_0xb1c35e(0x962)]()[_0xb1c35e(0xad2)](_0x9d76f4=>{const _0x125d89=_0xb1c35e;_0x9d76f4[_0x125d89(0x592)]()===_0x2fc086['Offline']&&_0x9d76f4['getLastUpdated']()<_0x150bd2-0x493e0&&this[_0x125d89(0x8af)][_0x125d89(0x1de)](_0x9d76f4[_0x125d89(0x7a4)]());});},0xea60);}async['isReady'](){const _0x33099f=_0xab329a;return this[_0x33099f(0xafc)];}async[_0xab329a(0x688)](_0x548061){return new Promise((_0x1816d3,_0x1691f1)=>{const _0x5c1d94=a0_0x1b87;let _0x8178b9;const _0x3ca8f7=setTimeout(()=>{const _0x420ce1=a0_0x1b87;_0x8178b9?.(),_0x1691f1(new Error('Node\x20\x27'+_0x548061+_0x420ce1(0x33b)));},0x2710);if(this[_0x5c1d94(0x8af)]['hasRemoteNode'](_0x548061))return clearTimeout(_0x3ca8f7),void _0x1816d3(!0x0);_0x8178b9=this['graphService'][_0x5c1d94(0x308)](()=>{const _0x31c80d=_0x5c1d94;this[_0x31c80d(0x8af)][_0x31c80d(0x67b)](_0x548061)&&(clearTimeout(_0x3ca8f7),_0x1816d3(!0x0),_0x8178b9?.());});});}[_0xab329a(0x4d7)](_0x3d5a1c){const _0x55c442=_0xab329a;this[_0x55c442(0x2f3)]=_0x3d5a1c;}[_0xab329a(0x8e3)](){const _0x1bf8d0=_0xab329a;delete this[_0x1bf8d0(0x2f3)];}[_0xab329a(0xace)](){const _0x142979=_0xab329a;this[_0x142979(0xae8)]&&(clearTimeout(this[_0x142979(0xae8)]),delete this[_0x142979(0xae8)]),delete this['lastProcessRank'],this[_0x142979(0x8f2)][_0x142979(0x242)][_0x142979(0xace)](),this[_0x142979(0xb33)](),this['discoveryUnsubscriber'](),this[_0x142979(0x8f2)][_0x142979(0x849)][_0x142979(0x460)](this[_0x142979(0x8f2)][_0x142979(0x242)]),this['configs'][_0x142979(0x849)][_0x142979(0x460)](this),this[_0x142979(0x6c3)][_0x142979(0xace)]();}[_0xab329a(0x91f)](){const _0x85439=_0xab329a;return this[_0x85439(0x7e9)];}[_0xab329a(0x183)](){const _0x1feeea=_0xab329a;return this[_0x1feeea(0x8f2)][_0x1feeea(0x242)][_0x1feeea(0x7a4)]();}[_0xab329a(0x929)](){const _0x5e2cb8=_0xab329a;return this[_0x5e2cb8(0x8f2)]['localNode'];}[_0xab329a(0x962)](_0x539ac6){const _0x26c1d1=_0xab329a,_0x3d0afd=Array['from'](this['graphService'][_0x26c1d1(0x962)]()[_0x26c1d1(0xb40)]())['filter'](_0x55323a=>_0x55323a[_0x26c1d1(0x592)]()===_0x2fc086[_0x26c1d1(0x8f1)]);return _0x539ac6?_0x3d0afd[_0x26c1d1(0x2b3)](_0x539ac6):_0x3d0afd;}async['discover'](){const _0x1a715e=_0xab329a;return this['ancestors']=await this['discoveryService'][_0x1a715e(0xa75)](),this['ancestors'][_0x1a715e(0x4f0)]<this[_0x1a715e(0x8af)][_0x1a715e(0x3c5)]()&&(this[_0x1a715e(0x8f2)][_0x1a715e(0x242)][_0x1a715e(0x142)](this[_0x1a715e(0x7e9)][_0x1a715e(0x4f0)]+0x1),this[_0x1a715e(0x560)]()),this[_0x1a715e(0x7e9)];}[_0xab329a(0x3e9)](_0x2711a8,_0x240ed0){const _0x24b71b=_0xab329a,_0x2ea7e4=this[_0x24b71b(0x8f2)][_0x24b71b(0x242)][_0x24b71b(0x210)](),_0x54623f=new Set(_0x2ea7e4),_0x32f064=Array[_0x24b71b(0x61d)](_0x2ea7e4)['filter'](_0x4e3897=>_0x4e3897!==_0x2711a8)[_0x24b71b(0x591)](_0xad157=>({'id':_0xad157,'distance':0x1}));for(;_0x32f064[_0x24b71b(0x4f0)]>0x0;){const _0x35e3b1=_0x32f064[_0x24b71b(0x3ba)]();if(!_0x35e3b1)continue;if(_0x35e3b1['id']===_0x240ed0)return _0x35e3b1[_0x24b71b(0x8a0)];const _0x17fb25=this[_0x24b71b(0x8af)][_0x24b71b(0x8c8)](_0x35e3b1['id']);_0x17fb25&&_0x17fb25[_0x24b71b(0x592)]()!==_0x2fc086[_0x24b71b(0x7a2)]&&_0x17fb25[_0x24b71b(0x210)]()[_0x24b71b(0xad2)](_0x803943=>{const _0x5dca22=_0x24b71b;_0x54623f[_0x5dca22(0x727)](_0x803943)||(_0x54623f[_0x5dca22(0x232)](_0x803943),_0x32f064['push']({'id':_0x803943,'distance':_0x35e3b1[_0x5dca22(0x8a0)]+0x1}));});}return-0x1;}[_0xab329a(0x4f7)](_0x7eaaae){const _0x2cf7f2=_0xab329a;try{switch(_0x7eaaae[_0x2cf7f2(0xa98)][_0x2cf7f2(0x539)]){case _0xc8c151[_0x2cf7f2(0xaa8)]:case _0xc8c151['NodeConnectionsUpdate']:this[_0x2cf7f2(0x636)](_0x7eaaae[_0x2cf7f2(0xa98)]),_0x542377['log'](_0x59a34d[_0x2cf7f2(0x483)],_0x2cf7f2(0xa32),'\x27'+this[_0x2cf7f2(0x8f2)]['localNode'][_0x2cf7f2(0x7a4)]()+',\x20'+_0x7eaaae['sourceId']+'\x27',_0x7eaaae,_0x7eaaae[_0x2cf7f2(0xa98)]);break;case _0xc8c151[_0x2cf7f2(0x960)]:this[_0x2cf7f2(0x382)](_0x7eaaae[_0x2cf7f2(0xa98)]['id']),_0x542377[_0x2cf7f2(0x4ad)](_0x59a34d['Node'],'NodeManager\x20-\x20NodeLeave','\x27'+this['configs'][_0x2cf7f2(0x242)]['getId']()+',\x20'+_0x7eaaae[_0x2cf7f2(0x203)]+'\x27',_0x7eaaae,_0x7eaaae['content']);}}catch(_0x2967b2){if(_0x2967b2 instanceof _0x1c71b9)return void _0x542377[_0x2cf7f2(0x4ad)](_0x59a34d[_0x2cf7f2(0x483)],_0x2967b2[_0x2cf7f2(0x3cc)]);throw _0x2967b2;}}['handlePeerConnectionSystemEvents'](_0x23b832){const _0x12e48c=_0xab329a;switch(_0x23b832['content'][_0x12e48c(0x539)]){case _0x4d3e94['Success']:this[_0x12e48c(0x2d9)](_0x23b832[_0x12e48c(0x203)]),_0x542377[_0x12e48c(0x4ad)](_0x59a34d[_0x12e48c(0x483)],_0x12e48c(0x1a6),'\x27'+this[_0x12e48c(0x8f2)][_0x12e48c(0x242)]['getId']()+',\x20'+_0x23b832['sourceId']+'\x27',_0x23b832,_0x23b832['content']);break;case _0x4d3e94[_0x12e48c(0x57f)]:this[_0x12e48c(0x9c9)](_0x23b832[_0x12e48c(0x203)]),_0x542377[_0x12e48c(0x4ad)](_0x59a34d[_0x12e48c(0x483)],_0x12e48c(0x4a2),this[_0x12e48c(0x8f2)][_0x12e48c(0x242)][_0x12e48c(0x7a4)](),_0x23b832,_0x23b832[_0x12e48c(0xa98)]);}}['handleNodeJoin'](_0x4fe8d4){const _0x483604=_0xab329a;this['createRemoteNode'](_0x4fe8d4),this[_0x483604(0x21a)](_0x4fe8d4);}[_0xab329a(0x21a)](_0x2934ad){const _0x3832a0=_0xab329a;this['configs'][_0x3832a0(0x242)][_0x3832a0(0x303)](_0x2934ad['id']),this[_0x3832a0(0xb0d)](_0x2934ad['id']),this['notifyClusterNodeJoin'](_0x2934ad);}['handleNodeUpdate'](_0x382cca){const _0x40863d=_0xab329a,{id:_0x255ae3,metaData:_0x38c7da,rank:_0x248b1b,remoteConnections:_0x220f21,version:_0x40e238}=_0x382cca,_0x208702=this[_0x40863d(0x8af)][_0x40863d(0x8c8)](_0x255ae3);if(_0x208702){if(!(_0x40e238<=_0x208702[_0x40863d(0x704)]())){if(_0x208702['setRemoteConnections'](_0x220f21),_0x208702[_0x40863d(0x5eb)](_0x40e238),_0x208702[_0x40863d(0x539)]===_0x1d89a1['NodeType'][_0x40863d(0x373)]&&_0x38c7da[_0x40863d(0x539)]===_0x1d89a1[_0x40863d(0x21e)][_0x40863d(0x373)]&&(_0x208702[_0x40863d(0x171)](_0x38c7da['displayName']),_0x208702[_0x40863d(0xa17)](_0x38c7da['email'])),_0x248b1b&&_0x208702[_0x40863d(0x142)](_0x248b1b),this[_0x40863d(0x50c)](_0x255ae3,_0x248b1b),_0x208702[_0x40863d(0x592)]()===_0x2fc086[_0x40863d(0x7a2)])return _0x208702[_0x40863d(0x2f7)](_0x2fc086[_0x40863d(0x8f1)]),this[_0x40863d(0x560)](),void this['notifyJoin'](_0x382cca);this['processRank'](),this[_0x40863d(0x457)]({'id':_0x255ae3,'metaData':_0x38c7da,'remoteConnections':_0x220f21,'version':_0x40e238});}}else this[_0x40863d(0x4db)](_0x382cca);}[_0xab329a(0x50c)](_0x137aa2,_0x16f47b){const _0xafdcae=_0xab329a;_0x16f47b&&this[_0xafdcae(0x7e9)][_0xafdcae(0xb4e)](_0x137aa2)&&this['configs'][_0xafdcae(0x242)][_0xafdcae(0x142)](_0x16f47b+this[_0xafdcae(0x7e9)]['indexOf'](_0x137aa2)+0x1);}[_0xab329a(0x2d9)](_0x2589c4){const _0x37d5ad=_0xab329a;this['configs'][_0x37d5ad(0x242)][_0x37d5ad(0x212)](_0x2589c4);}['createRemoteNode']({id:_0x3b8304,metaData:_0x25a046,rank:_0x1fe188,remoteConnections:_0x465293,version:_0x4301a6}){const _0x5c75f0=_0xab329a;if(this[_0x5c75f0(0x8af)][_0x5c75f0(0x67b)](_0x3b8304))throw new _0x1c71b9(_0x5c75f0(0x375)+_0x3b8304);switch(_0x25a046[_0x5c75f0(0x539)]){case _0x1d89a1[_0x5c75f0(0x21e)]['User']:const {displayName:_0x5946c6,email:_0x282bff}=_0x25a046;this['graphService'][_0x5c75f0(0x5c1)](_0x3b8304,new _0x21819f(_0x3b8304,_0x5946c6,_0x282bff,new Set(_0x465293),_0x4301a6,_0x1fe188));break;case _0x1d89a1[_0x5c75f0(0x21e)]['Agent']:this[_0x5c75f0(0x8af)]['setRemoteNode'](_0x3b8304,new _0x5cb58a(_0x3b8304,new Set(_0x465293),_0x4301a6,_0x1fe188));}const _0x77a97d=this[_0x5c75f0(0x962)](),_0x14d5df=new Set(this[_0x5c75f0(0x7e9)]);_0x77a97d[_0x5c75f0(0xad2)](_0x28c4a1=>{const _0x1d5d61=_0x5c75f0;_0x14d5df[_0x1d5d61(0x727)](_0x28c4a1[_0x1d5d61(0x7a4)]())&&_0x14d5df[_0x1d5d61(0x425)](_0x28c4a1[_0x1d5d61(0x7a4)]());}),0x0===_0x14d5df['size']&&this[_0x5c75f0(0x871)]&&(this['readyDebounce']&&clearTimeout(this[_0x5c75f0(0xb06)]),this[_0x5c75f0(0xb06)]=setTimeout(()=>{const _0x5e578d=_0x5c75f0;this[_0x5e578d(0x871)]?.(!0x0),delete this[_0x5e578d(0x871)],delete this[_0x5e578d(0x17f)];},0x7d0)),this[_0x5c75f0(0x50c)](_0x3b8304,_0x1fe188),this[_0x5c75f0(0x560)]();}[_0xab329a(0xb0d)](_0x9e802f){const _0x147521=_0xab329a;this['systemTopic'][_0x147521(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589['Node'],'content':{'type':_0xc8c151[_0x147521(0x8ea)],'id':_0x9e802f}});}[_0xab329a(0x9c9)](_0x5177b3){const _0x29566d=_0xab329a;this[_0x29566d(0x2f3)]?.[_0x29566d(0x75d)]({'sourceId':_0x11eed3,'messageType':_0x18b589['Node'],'content':{'type':_0xc8c151[_0x29566d(0x960)],'id':_0x5177b3}});}['handleNodeDisconnect'](_0x22062d){const _0x114a2d=_0xab329a;if(_0x22062d===this[_0x114a2d(0x8f2)]['localNode'][_0x114a2d(0x7a4)]())return this['configs'][_0x114a2d(0x849)][_0x114a2d(0x1af)](_0x114a2d(0xa3e),{'id':_0x22062d}),this[_0x114a2d(0x8f2)][_0x114a2d(0x849)][_0x114a2d(0xace)]({'force':!0x0},!0x0),this[_0x114a2d(0x8f2)][_0x114a2d(0x849)][_0x114a2d(0x996)](),void this[_0x114a2d(0x8f2)][_0x114a2d(0x849)]['initialize']();this['publishNodeLeave'](_0x22062d);}['removeNode'](_0x2b6da0){const _0x392435=_0xab329a;this[_0x392435(0x7e9)][_0x392435(0xb4e)](_0x2b6da0)?this[_0x392435(0x5e8)](_0x2b6da0):this[_0x392435(0x8f2)]['localNode'][_0x392435(0x210)]()[_0x392435(0x727)](_0x2b6da0)&&this[_0x392435(0x36b)](_0x2b6da0),this[_0x392435(0x8f2)][_0x392435(0x242)][_0x392435(0x820)](_0x2b6da0);const _0x8496ea=Array[_0x392435(0x61d)](this[_0x392435(0x3fa)]['entries']())[_0x392435(0xb4a)](([,_0x12d69f])=>_0x12d69f==_0x12d69f);_0x8496ea&&this[_0x392435(0x3fa)]['delete'](_0x8496ea[0x0]);const _0x3c5fa9=this[_0x392435(0x8af)][_0x392435(0x8c8)](_0x2b6da0);if(!_0x3c5fa9)return;const _0x255f4f=_0x3c5fa9[_0x392435(0xab2)](),_0x409b86=this[_0x392435(0x8f2)][_0x392435(0x242)][_0x392435(0xab2)]();_0x409b86&&_0x255f4f&&_0x255f4f<_0x409b86&&this[_0x392435(0x8f2)]['localNode']['setRank'](_0x409b86-0x1,!0x1),Array[_0x392435(0x61d)](this['graphService'][_0x392435(0x962)]()[_0x392435(0xb40)]())['forEach'](_0x399916=>{const _0x40cd2e=_0x392435,_0xde4017=_0x399916[_0x40cd2e(0xab2)]();_0xde4017&&_0x255f4f&&_0x255f4f<_0xde4017&&_0x399916['setRank'](_0xde4017-0x1);}),_0x3c5fa9[_0x392435(0x2f7)](_0x2fc086['Offline']),this[_0x392435(0x8f2)][_0x392435(0x849)][_0x392435(0x1af)](_0x3c5fa9['type']+'-leave',{'id':_0x2b6da0});}[_0xab329a(0x244)]({id:_0x4c38e3,metaData:_0x35e2d4,remoteConnections:_0x16217}){const _0x59dd3c=_0xab329a;switch(_0x35e2d4[_0x59dd3c(0x539)]){case _0x1d89a1[_0x59dd3c(0x21e)][_0x59dd3c(0x373)]:this['configs'][_0x59dd3c(0x849)][_0x59dd3c(0x1af)](_0x59dd3c(0x4b9),{'id':_0x4c38e3,'metaData':_0x35e2d4,'remoteConnections':_0x16217});break;case _0x1d89a1[_0x59dd3c(0x21e)][_0x59dd3c(0x52c)]:this[_0x59dd3c(0x8f2)][_0x59dd3c(0x849)][_0x59dd3c(0x1af)](_0x59dd3c(0x395),{'id':_0x4c38e3,'metaData':_0x35e2d4,'remoteConnections':_0x16217});}}['notifyClusterNodeUpdate']({id:_0x1f3f19,metaData:_0x389230,remoteConnections:_0x56d30f}){const _0x5cd0a8=_0xab329a;switch(_0x389230[_0x5cd0a8(0x539)]){case _0x1d89a1[_0x5cd0a8(0x21e)][_0x5cd0a8(0x373)]:this[_0x5cd0a8(0x8f2)]['mediator']['notifyCluster']('user-update',{'id':_0x1f3f19,'metaData':_0x389230,'remoteConnections':_0x56d30f});break;case _0x1d89a1[_0x5cd0a8(0x21e)]['Agent']:this['configs'][_0x5cd0a8(0x849)][_0x5cd0a8(0x1af)](_0x5cd0a8(0xaa4),{'id':_0x1f3f19,'metaData':_0x389230,'remoteConnections':_0x56d30f});}}[_0xab329a(0x560)](){const _0x541bb0=_0xab329a;if(this[_0x541bb0(0x21c)]||(this[_0x541bb0(0x21c)]=Date[_0x541bb0(0x4cb)]()),this[_0x541bb0(0xae8)]){if(Date[_0x541bb0(0x4cb)]()-this[_0x541bb0(0x21c)]>0x2328)return;clearTimeout(this[_0x541bb0(0xae8)]);}this['debounceProcessRank']=setTimeout(async()=>{const _0x1e669c=_0x541bb0;delete this['lastProcessRank'],delete this['debounceProcessRank'];const _0x19ca56=this[_0x1e669c(0x8f2)][_0x1e669c(0x242)]['getRank']();if(!_0x19ca56)return;const _0x1c9f53=this[_0x1e669c(0x8af)][_0x1e669c(0x31a)](this[_0x1e669c(0x8af)][_0x1e669c(0x962)]()['size']);if(this[_0x1e669c(0x3fa)][_0x1e669c(0xa86)]>=_0x1c9f53)return;let _0xdad356=0x1;for(;this[_0x1e669c(0x8f2)][_0x1e669c(0x849)][_0x1e669c(0x168)]()[_0x1e669c(0x4f0)]<this[_0x1e669c(0x8af)]['getMaxConnections']()&&_0xdad356<=_0x1c9f53;){if(this[_0x1e669c(0x3fa)][_0x1e669c(0x727)](_0xdad356)){_0xdad356+=0x1;continue;}const _0x330069=this[_0x1e669c(0x8af)][_0x1e669c(0x6a7)](_0x19ca56,_0xdad356),_0x32c98a=Array[_0x1e669c(0x61d)](this['graphService'][_0x1e669c(0x962)]()['values']())[_0x1e669c(0xb4a)](_0x1d9c37=>_0x1d9c37['getRank']()===_0x330069&&_0x1d9c37[_0x1e669c(0x592)]()===_0x2fc086[_0x1e669c(0x8f1)]);if(_0x32c98a){try{await this['configs'][_0x1e669c(0x849)][_0x1e669c(0x969)](_0x32c98a['getId'](),_0x1aff46[_0x1e669c(0xb21)]),this['optimizationLayers']['set'](_0xdad356,_0x32c98a[_0x1e669c(0x7a4)]());}catch(_0xa58a8f){if(!(_0xa58a8f instanceof _0x227d3a&&_0xa58a8f[_0x1e669c(0x9ac)]===_0x227d3a['codes']['RemoteConnectionExists']))throw _0xa58a8f;_0x542377[_0x1e669c(0x4ad)](_0x59a34d[_0x1e669c(0x483)],this[_0x1e669c(0x8f2)]['localNode']['getId'](),_0x32c98a[_0x1e669c(0x7a4)](),_0xa58a8f['message']);}_0xdad356+=0x1;}else _0xdad356+=0x1;}},0x3e8);}async['manageAncestor'](_0x674e16){const _0x22ecf2=_0xab329a;this[_0x22ecf2(0x7e9)]['splice'](this[_0x22ecf2(0x7e9)][_0x22ecf2(0x7f1)](_0x674e16),0x1);const _0x4c534c=await this[_0x22ecf2(0x6c3)][_0x22ecf2(0x3e0)]();for(const _0x50ac00 of _0x4c534c)if(!this[_0x22ecf2(0x7e9)][_0x22ecf2(0xb4e)](_0x50ac00)){const _0x88af69=Array[_0x22ecf2(0x61d)](this[_0x22ecf2(0x3fa)][_0x22ecf2(0x41b)]())[_0x22ecf2(0xb4a)](([,_0x4a69fe])=>_0x4a69fe===_0x50ac00);_0x88af69&&this[_0x22ecf2(0x3fa)][_0x22ecf2(0x425)](_0x88af69[0x0]),this[_0x22ecf2(0x8f2)][_0x22ecf2(0x849)]['createConnection'](_0x50ac00,_0x1aff46[_0x22ecf2(0x58b)]);}0x0===_0x4c534c[_0x22ecf2(0x4f0)]&&this[_0x22ecf2(0x8f2)][_0x22ecf2(0x242)][_0x22ecf2(0x142)](0x1),this[_0x22ecf2(0x7e9)]=_0x4c534c;}async[_0xab329a(0x36b)](_0x52be2d){const _0x455053=_0xab329a,_0x500810=this[_0x455053(0x8f2)]['localNode']['getRank']();if(!_0x500810)return;const _0x1ea167=this[_0x455053(0x8af)]['getRemoteNode'](_0x52be2d);if(!_0x1ea167||_0x1ea167[_0x455053(0x592)]()===_0x2fc086[_0x455053(0x7a2)])return;const _0x45249c=_0x1ea167[_0x455053(0xab2)]();if(!_0x45249c||_0x45249c<_0x500810)return;const _0x21ec48=this[_0x455053(0x88e)](this['configs'][_0x455053(0x242)][_0x455053(0x210)](),_0x500810),_0x5ca3c6=this[_0x455053(0x88e)](_0x1ea167[_0x455053(0x210)](),_0x45249c)[_0x21ec48[_0x455053(0x81a)](([_0x4f54c3])=>_0x4f54c3===_0x52be2d)];if(!_0x5ca3c6||this[_0x455053(0x8f2)]['localNode'][_0x455053(0x210)]()[_0x455053(0x727)](_0x5ca3c6[0x0]))return;const _0x65e810=this[_0x455053(0x8af)][_0x455053(0x8c8)](_0x5ca3c6[0x0]);if(_0x65e810&&_0x65e810[_0x455053(0x592)]()!==_0x2fc086[_0x455053(0x7a2)])try{await this[_0x455053(0x8f2)][_0x455053(0x849)][_0x455053(0x969)](_0x5ca3c6[0x0],_0x1aff46[_0x455053(0xb21)]);const _0x5731b9=Array['from'](this[_0x455053(0x3fa)][_0x455053(0x41b)]())['find'](([,_0x48afcc])=>_0x48afcc===_0x52be2d);_0x5731b9&&this[_0x455053(0x3fa)][_0x455053(0x4d1)](_0x5731b9[0x0],_0x5ca3c6[0x0]);}catch(_0x514941){if(!(_0x514941 instanceof _0x227d3a&&_0x514941[_0x455053(0x9ac)]===_0x227d3a[_0x455053(0x821)]['RemoteConnectionExists']))throw _0x514941;_0x542377[_0x455053(0x4ad)](_0x59a34d['Node'],this[_0x455053(0x8f2)][_0x455053(0x242)][_0x455053(0x7a4)](),_0x5ca3c6[0x0],_0x514941['message']);}}['getOutgoingOptimizationConnections'](_0x441d04,_0x45055b){const _0x432c36=_0xab329a;return Array[_0x432c36(0x61d)](_0x441d04)[_0x432c36(0x9ba)]((_0x2ec483,_0x450b5f)=>{const _0x533754=_0x432c36,_0x39d06b=this[_0x533754(0x8af)][_0x533754(0x8c8)](_0x450b5f);if(!_0x39d06b||_0x39d06b[_0x533754(0x592)]()===_0x2fc086[_0x533754(0x7a2)])return _0x2ec483;const _0x260840=_0x39d06b[_0x533754(0xab2)]();if(!_0x260840)return _0x2ec483;const _0x4b7e99=_0x260840-_0x45055b;return _0x4b7e99<=this[_0x533754(0x8af)][_0x533754(0x3c5)]()||_0x2ec483['push']([_0x450b5f,_0x4b7e99]),_0x2ec483;},[])[_0x432c36(0x32a)](([,_0x42f3ae],[,_0x2efa8e])=>_0x42f3ae-_0x2efa8e);}}const _0x5177a0=[{'problemType':_0x23df21[_0xab329a(0x8b7)],'remediations':[{'type':_0x587caf[_0xab329a(0x387)],'component':_0x1b9fbb[_0xab329a(0x20b)],'action':_0xfaafbc[_0xab329a(0x9a0)]},{'type':_0x587caf[_0xab329a(0x349)],'component':_0x1b9fbb[_0xab329a(0x20b)],'action':_0xfaafbc[_0xab329a(0x9a0)]}]},{'problemType':_0x23df21[_0xab329a(0x949)],'remediations':[{'type':_0x587caf[_0xab329a(0x387)],'component':_0x1b9fbb[_0xab329a(0x20b)],'action':_0xfaafbc['Downgrade']}]},{'problemType':_0x23df21[_0xab329a(0x90d)],'remediations':[{'type':_0x587caf[_0xab329a(0x387)],'component':_0x1b9fbb[_0xab329a(0x20b)],'action':_0xfaafbc[_0xab329a(0x9a0)]}]},{'problemType':_0x23df21[_0xab329a(0x480)],'remediations':[{'type':_0x587caf[_0xab329a(0x387)],'component':_0x1b9fbb[_0xab329a(0x20b)],'action':_0xfaafbc[_0xab329a(0x9a0)]}]},{'problemType':_0x23df21[_0xab329a(0x45e)],'remediations':[{'type':_0x587caf[_0xab329a(0x387)],'component':_0x1b9fbb[_0xab329a(0x45e)],'action':_0xfaafbc[_0xab329a(0x9a0)]}]},{'problemType':_0x23df21[_0xab329a(0x15a)],'remediations':[{'type':_0x587caf[_0xab329a(0x387)],'component':_0x1b9fbb[_0xab329a(0x45e)],'action':_0xfaafbc[_0xab329a(0x9a0)]}]},{'problemType':_0x23df21[_0xab329a(0x3f0)],'remediations':[{'type':_0x587caf[_0xab329a(0x387)],'component':_0x1b9fbb[_0xab329a(0x45e)],'action':_0xfaafbc[_0xab329a(0x9a0)]}]}];class _0x1e104e{[_0xab329a(0x8f2)];[_0xab329a(0x2f3)];[_0xab329a(0x357)]=new Map();constructor(_0x5ca164){const _0x49d808=_0xab329a;this['configs']=_0x5ca164,this['configs']['mediator'][_0x49d808(0x4cc)](this);}['close'](){const _0xded886=_0xab329a;this[_0xded886(0x8f2)]['mediator'][_0xded886(0x460)](this);}[_0xab329a(0x4d7)](_0x2cb4c9){const _0x8f38b=_0xab329a;this[_0x8f38b(0x2f3)]=_0x2cb4c9;}[_0xab329a(0x8e3)](){const _0x336698=_0xab329a;delete this[_0x336698(0x2f3)];}[_0xab329a(0x7f2)](_0x3ede6a){const _0x1e5434=_0xab329a;_0x3ede6a[_0x1e5434(0xa98)][_0x1e5434(0x539)]===_0x3eaf2e[_0x1e5434(0x5df)]&&this['handleProblem'](_0x3ede6a[_0x1e5434(0xa98)][_0x1e5434(0x62e)]);}['handleRemediationSystemEvents'](_0x392a9b){const _0x17d55b=_0xab329a;_0x392a9b[_0x17d55b(0xa98)]['type']===_0x587caf[_0x17d55b(0x349)]&&this[_0x17d55b(0x397)](_0x392a9b['sourceId'],{'type':_0x587caf[_0x17d55b(0x387)],'component':_0x392a9b['content'][_0x17d55b(0x62e)]['component'],'action':_0x392a9b[_0x17d55b(0xa98)][_0x17d55b(0x62e)][_0x17d55b(0x5b3)]});}['handleProblem'](_0x22c98c){const _0x3e0bae=_0xab329a,_0x37d870=_0x5177a0[_0x3e0bae(0xb4a)](_0x10075a=>_0x10075a[_0x3e0bae(0x526)]===_0x22c98c[_0x3e0bae(0x539)]);_0x37d870[_0x3e0bae(0x4e9)]?.[_0x3e0bae(0xad2)](_0x2253a7=>{const _0x1f468d=_0x3e0bae;this['applyRemediation'](_0x22c98c['nodeId'],{'type':_0x22c98c[_0x1f468d(0xaa3)]===_0x254707[_0x1f468d(0x6e8)]?_0x587caf[_0x1f468d(0x387)]:_0x587caf[_0x1f468d(0x349)],'component':_0x2253a7['component'],'action':_0x2253a7[_0x1f468d(0x5b3)]});});}['applyRemediation'](_0x5365a1,_0x159808){const _0x105b2c=_0xab329a;if(_0x159808[_0x105b2c(0x539)]===_0x587caf['Remediation']){const _0x1127dc=Date[_0x105b2c(0x4cb)](),_0x249a31=this[_0x105b2c(0x357)]['get'](_0x5365a1);if(_0x249a31&&_0x1127dc-_0x249a31<0x1388)return;this[_0x105b2c(0x357)]['set'](_0x5365a1,_0x1127dc);}_0x542377[_0x105b2c(0x4ad)](_0x59a34d['Remediation'],'Apply\x20remediation',_0x159808),_0x542377[_0x105b2c(0x1aa)](_0x105b2c(0x788),{'clusterId':this[_0x105b2c(0x8f2)][_0x105b2c(0x48a)],'nodeId':this['configs'][_0x105b2c(0x242)]['getId'](),'nodeType':this['configs'][_0x105b2c(0x242)][_0x105b2c(0x539)],'remoteId':_0x5365a1,'data':{'type':_0x159808[_0x105b2c(0x539)],'component':_0x159808[_0x105b2c(0x1cd)],'action':_0x159808[_0x105b2c(0x5b3)]}});let _0x3c31b4,_0x4d37cf=_0x11eed3;_0x159808[_0x105b2c(0x539)]===_0x587caf['RemoteRemediation']&&(_0x4d37cf=this[_0x105b2c(0x8f2)][_0x105b2c(0x242)][_0x105b2c(0x7a4)](),_0x3c31b4=[_0x5365a1]),this[_0x105b2c(0x2f3)][_0x105b2c(0x75d)]({'sourceId':_0x4d37cf,'destinationIds':_0x3c31b4,'messageType':_0x18b589[_0x105b2c(0x387)],'content':{'type':_0x159808['type'],'targetId':_0x5365a1,'data':_0x159808}});}}const _0x5224ff=0x3e8,_0x1d9be2=0x7530,_0x4417c8='outbound-rtp',_0x635d2=_0xab329a(0x946),_0x1df8e4=_0xab329a(0x3b7),_0x333b7d=[_0x4417c8,_0x635d2],_0xaf3c78=[_0x1df8e4];class _0x155c94{[_0xab329a(0x96d)]=0x0;[_0xab329a(0x55a)]=0x0;[_0xab329a(0x861)]=0x0;[_0xab329a(0x778)]=0x0;[_0xab329a(0x588)]=0x0;[_0xab329a(0x378)]=0x0;[_0xab329a(0x518)]=0x0;[_0xab329a(0x8c0)]=0x0;['previousBytes']=0x0;get[_0xab329a(0x652)](){const _0xc51a2c=_0xab329a;return this[_0xc51a2c(0x378)]>0x0&&this[_0xc51a2c(0x518)]>0x0&&Date['now']()-this['currentTimestamp']<_0x1d9be2?(this[_0xc51a2c(0x8c0)]-this['previousBytes'])/(this['currentTimestamp']-this[_0xc51a2c(0x518)])*0x8*0x3e8:0x0;}[_0xab329a(0x2d2)](_0x4097a3){const _0x388035=_0xab329a;switch(_0x4097a3['type']){case _0x1df8e4:this[_0x388035(0x4da)](_0x4097a3);break;case _0x4417c8:this[_0x388035(0x38f)](_0x4097a3);break;case _0x635d2:this['processRemoteInboundReport'](_0x4097a3);}}['getReport'](){const _0x2205b1=_0xab329a;return{'bitrate':this['bitrate'],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this[_0x2205b1(0x96d)],'jitter':this['jitter']};}['processInboundReport'](_0x71947e){const _0x22f389=_0xab329a;this[_0x22f389(0x54b)](_0x71947e[_0x22f389(0xb0c)]),this[_0x22f389(0xa8d)](_0x71947e[_0x22f389(0x1bf)]),this[_0x22f389(0x588)]=_0x71947e[_0x22f389(0x720)],this[_0x22f389(0x778)]=_0x71947e[_0x22f389(0x778)],void 0x0!==_0x71947e[_0x22f389(0x861)]?this[_0x22f389(0x861)]=_0x71947e[_0x22f389(0x861)]:this[_0x22f389(0x861)]=0x0,void 0x0!==_0x71947e[_0x22f389(0x55a)]?this[_0x22f389(0x55a)]=_0x71947e['estimatedPlayoutTimestamp']:this[_0x22f389(0x55a)]=0x0;}[_0xab329a(0x38f)](_0x6cecb0){const _0x582af9=_0xab329a;this[_0x582af9(0x54b)](_0x6cecb0[_0x582af9(0x2fb)]),this[_0x582af9(0xa8d)](_0x6cecb0[_0x582af9(0x1bf)]),this[_0x582af9(0x588)]=_0x6cecb0[_0x582af9(0xb2e)];}['processRemoteInboundReport'](_0x5cc405){const _0x25a170=_0xab329a;this[_0x25a170(0x96d)]=0x3e8*_0x5cc405['roundTripTime'],void 0x0!==_0x5cc405[_0x25a170(0x861)]?this[_0x25a170(0x861)]=_0x5cc405[_0x25a170(0x861)]:this[_0x25a170(0x861)]=0x0;}[_0xab329a(0x875)](){const _0x1555ca=_0xab329a;return this[_0x1555ca(0x588)]>0x0?this[_0x1555ca(0x778)]/this['packets']:0x0;}[_0xab329a(0xa8d)](_0x313e43){const _0x528159=_0xab329a;_0x313e43>this[_0x528159(0x378)]&&(this[_0x528159(0x518)]=this['currentTimestamp'],this[_0x528159(0x378)]=_0x313e43);}['setBytes'](_0x15e225){const _0x1adf1f=_0xab329a;this['previousBytes']=this[_0x1adf1f(0x8c0)],this[_0x1adf1f(0x8c0)]=_0x15e225;}}class _0x3e88ad extends _0x155c94{}class _0x164e5c extends _0x155c94{[_0xab329a(0x5b0)]=0x0;[_0xab329a(0x660)]=0x0;[_0xab329a(0x1ed)]=0x0;[_0xab329a(0x985)]=0x0;[_0xab329a(0x601)]=0x0;get[_0xab329a(0x611)](){const _0x52b9ff=_0xab329a;return this[_0x52b9ff(0x378)]>0x0&&this[_0x52b9ff(0x518)]>0x0&&Date['now']()-this[_0x52b9ff(0x378)]<_0x1d9be2?(this[_0x52b9ff(0x985)]-this['previousFrames'])/(this[_0x52b9ff(0x378)]-this[_0x52b9ff(0x518)])*0x3e8:0x0;}get[_0xab329a(0x437)](){const _0x7b6e4=_0xab329a;return this['frameTime']&&this[_0x7b6e4(0x985)]&&this['currentFrames']>0x0?this[_0x7b6e4(0x5b0)]/this[_0x7b6e4(0x985)]:0x0;}set[_0xab329a(0x30a)](_0x3637d6){const _0xd2a86f=_0xab329a;this[_0xd2a86f(0x601)]=this[_0xd2a86f(0x985)],this[_0xd2a86f(0x985)]=_0x3637d6;}[_0xab329a(0x309)](){const _0x367d5e=_0xab329a;return{...super[_0x367d5e(0x309)](),'FPS':this['fps'],'timePerFrame':this['timePerFrame'],'frameWidth':this[_0x367d5e(0x660)],'frameHeight':this['frameHeight']};}['processInboundReport'](_0x2cdac1){const _0x11b6d1=_0xab329a;super[_0x11b6d1(0x4da)](_0x2cdac1),this[_0x11b6d1(0x5b0)]=_0x2cdac1[_0x11b6d1(0x34a)],this[_0x11b6d1(0x30a)]=_0x2cdac1['framesDecoded'],this[_0x11b6d1(0x660)]=_0x2cdac1[_0x11b6d1(0x660)],this[_0x11b6d1(0x1ed)]=_0x2cdac1[_0x11b6d1(0x1ed)];}[_0xab329a(0x38f)](_0x5514ba){const _0x29aa7b=_0xab329a;super['processOutboundReport'](_0x5514ba),this['frameTime']=_0x5514ba['totalEncodeTime'],this['frames']=_0x5514ba[_0x29aa7b(0x511)],this['frameWidth']=_0x5514ba[_0x29aa7b(0x660)],this[_0x29aa7b(0x1ed)]=_0x5514ba['frameHeight'];}}class _0x2f3089{['audio']=new _0x3e88ad();[_0xab329a(0x7e2)]=new _0x164e5c();get[_0xab329a(0x652)](){const _0x3f84d6=_0xab329a;return this['audio']['bitrate']+this[_0x3f84d6(0x7e2)]['bitrate'];}[_0xab329a(0x208)](_0x5e3f89){return _0x5e3f89['forEach'](_0x454ba9=>{const _0x1be3d2=a0_0x1b87;switch(_0x454ba9['kind']){case _0x1be3d2(0x8d2):this[_0x1be3d2(0x8d2)][_0x1be3d2(0x2d2)](_0x454ba9);break;case'video':this[_0x1be3d2(0x7e2)][_0x1be3d2(0x2d2)](_0x454ba9);}}),this['getReport']();}[_0xab329a(0x309)](){const _0x2018b7=_0xab329a;return{'audio':this[_0x2018b7(0x8d2)]['getReport'](),'video':this[_0x2018b7(0x7e2)][_0x2018b7(0x309)](),'roundTripTime':this[_0x2018b7(0x2ea)](),'AudioVideoDelay':this[_0x2018b7(0x49e)](),'bitrate':this['bitrate']};}[_0xab329a(0x2ea)](){const _0x1acc8f=_0xab329a;return Math[_0x1acc8f(0x37a)]((this['audio'][_0x1acc8f(0x96d)]+this['video'][_0x1acc8f(0x96d)])/0x2);}['getAudioVideoDelay'](){const _0x248e05=_0xab329a;return this[_0x248e05(0x8d2)][_0x248e05(0x55a)]-this[_0x248e05(0x7e2)][_0x248e05(0x55a)];}}class _0x170fa7{[_0xab329a(0x38b)]=0x0;[_0xab329a(0xb41)]=0x0;[_0xab329a(0x7ae)]=0x0;[_0xab329a(0x30f)]=0x0;[_0xab329a(0x418)]=0x0;['senderPreviousBytes']=0x0;[_0xab329a(0x2ac)]=0x0;[_0xab329a(0x7fc)]=0x0;[_0xab329a(0x474)]=0x0;[_0xab329a(0x470)]=0x0;[_0xab329a(0xaae)]=0x0;[_0xab329a(0xad7)]=0x0;[_0xab329a(0x96d)]=0x0;get[_0xab329a(0x652)](){const _0x26dcc5=_0xab329a;return this[_0x26dcc5(0x8dd)]+this[_0x26dcc5(0x2d7)];}get[_0xab329a(0x8dd)](){const _0x43f929=_0xab329a;return this[_0x43f929(0x38b)]>0x0&&this[_0x43f929(0xb41)]>0x0&&Date['now']()-this[_0x43f929(0x38b)]<_0x1d9be2?(this['senderCurrentBytes']-this[_0x43f929(0x1fc)])/(this[_0x43f929(0x38b)]-this[_0x43f929(0xb41)])*0x8*0x3e8:0x0;}get[_0xab329a(0x2d7)](){const _0x4a0224=_0xab329a;return this[_0x4a0224(0x7ae)]>0x0&&this[_0x4a0224(0x30f)]>0x0&&Date['now']()-this['receiverCurrentTimestamp']<_0x1d9be2?(this[_0x4a0224(0x2ac)]-this['receiverPreviousBytes'])/(this['receiverCurrentTimestamp']-this[_0x4a0224(0x30f)])*0x8*0x3e8:0x0;}['processReport'](_0x454365){const _0x269462=_0xab329a;switch(_0x454365[_0x269462(0xaa3)]){case _0x254707[_0x269462(0x6e8)]:this[_0x269462(0x440)](_0x454365);break;case _0x254707[_0x269462(0x6a8)]:this['processReceiverReport'](_0x454365);}}[_0xab329a(0x309)](){const _0x4c15a0=_0xab329a;return{'bitrate':this['bitrate'],'senderBitrate':this[_0x4c15a0(0x8dd)],'receiverBitrate':this[_0x4c15a0(0x2d7)],'totalBytes':this[_0x4c15a0(0x34d)](),'senderTotalBytes':this[_0x4c15a0(0xa14)](),'receiverTotalBytes':this[_0x4c15a0(0x807)](),'totalMessages':this[_0x4c15a0(0x474)]+this['receiverTotalMessages'],'senderTotalMessages':this[_0x4c15a0(0x474)],'receiverTotalMessages':this[_0x4c15a0(0x470)],'timeProcessing':this[_0x4c15a0(0xaae)]+this[_0x4c15a0(0xad7)],'senderTimeProcessing':this[_0x4c15a0(0xaae)],'receiverTimeProcessing':this[_0x4c15a0(0xad7)],'roundTripTime':this[_0x4c15a0(0x96d)]};}['getTotalBytes'](){const _0x4a7f4c=_0xab329a;return this[_0x4a7f4c(0x418)]+this[_0x4a7f4c(0x2ac)];}[_0xab329a(0xa14)](){const _0x1b952a=_0xab329a;return this[_0x1b952a(0x418)];}[_0xab329a(0x807)](){return this['receiverCurrentBytes'];}[_0xab329a(0x440)](_0x415693){const _0xf36d3e=_0xab329a;this[_0xf36d3e(0x2b6)](_0x415693[_0xf36d3e(0x1bf)]),this[_0xf36d3e(0x54b)](_0x415693[_0xf36d3e(0x2fb)]),this[_0xf36d3e(0x474)]=_0x415693[_0xf36d3e(0x8b6)],this[_0xf36d3e(0xaae)]=_0x415693[_0xf36d3e(0x6ab)],this['roundTripTime']=_0x415693[_0xf36d3e(0x96d)];}[_0xab329a(0x2df)](_0x27def7){const _0x2afb67=_0xab329a;this[_0x2afb67(0x3f3)](_0x27def7['timestamp']),this['setReceiverBytes'](_0x27def7[_0x2afb67(0xb0c)]),this[_0x2afb67(0x470)]=_0x27def7[_0x2afb67(0x574)],this['receiverTimeProcessing']=_0x27def7[_0x2afb67(0x22d)];}[_0xab329a(0x2b6)](_0x297b1d){const _0x341e2c=_0xab329a;_0x297b1d>this['senderCurrentTimestamp']&&(this[_0x341e2c(0xb41)]=this[_0x341e2c(0x38b)],this[_0x341e2c(0x38b)]=_0x297b1d);}[_0xab329a(0x3f3)](_0x35decb){const _0x3c9e00=_0xab329a;_0x35decb>this[_0x3c9e00(0x7ae)]&&(this[_0x3c9e00(0x30f)]=this[_0x3c9e00(0x7ae)],this[_0x3c9e00(0x7ae)]=_0x35decb);}[_0xab329a(0x54b)](_0x3d3a80){const _0x4f15e1=_0xab329a;this[_0x4f15e1(0x1fc)]=this[_0x4f15e1(0x418)],this[_0x4f15e1(0x418)]=_0x3d3a80;}['setReceiverBytes'](_0x3f1c54){const _0x13a8e5=_0xab329a;this['receiverPreviousBytes']=this[_0x13a8e5(0x2ac)],this[_0x13a8e5(0x2ac)]=_0x3f1c54;}}class _0x22b997{[_0xab329a(0x3e4)]=new Map();[_0xab329a(0x391)]=new Map();[_0xab329a(0x6fc)]=new _0x170fa7();get[_0xab329a(0x8dd)](){const _0x3a7332=_0xab329a;let _0x2f4d95=0x0;return this[_0x3a7332(0x3e4)][_0x3a7332(0xad2)](_0x33fcf3=>{const _0x394ac6=_0x3a7332;_0x2f4d95+=_0x33fcf3[_0x394ac6(0x652)];}),_0x2f4d95+=this['dataChannel'][_0x3a7332(0x8dd)],_0x2f4d95;}get[_0xab329a(0x2d7)](){const _0x5013a0=_0xab329a;let _0x5e32a8=0x0;return this[_0x5013a0(0x391)]['forEach'](_0x46e6ed=>{const _0x143d6c=_0x5013a0;_0x5e32a8+=_0x46e6ed[_0x143d6c(0x652)];}),_0x5e32a8+=this[_0x5013a0(0x6fc)]['receiverBitrate'],_0x5e32a8;}get[_0xab329a(0x652)](){const _0x3a8a73=_0xab329a;return this[_0x3a8a73(0x8dd)]+this[_0x3a8a73(0x2d7)];}[_0xab329a(0x208)](_0x2d2d54,_0x3a5121){const _0x1f66ee=_0xab329a,_0x53196c=[],_0x4da3df=[];return _0x2d2d54 instanceof Array?_0x2d2d54[_0x1f66ee(0xad2)](_0x5cadf1=>{const _0x338460=_0x1f66ee;_0x5cadf1[_0x338460(0xad2)](_0x45d4a8=>{const _0x503848=_0x338460;_0xaf3c78[_0x503848(0xb4e)](_0x45d4a8['type'])&&_0x53196c['push'](_0x45d4a8),_0x333b7d[_0x503848(0xb4e)](_0x45d4a8[_0x503848(0x539)])&&_0x4da3df[_0x503848(0x257)](_0x45d4a8);});}):this['dataChannel'][_0x1f66ee(0x2d2)](_0x2d2d54),_0x53196c[_0x1f66ee(0x4f0)]>0x0&&_0x3a5121?{...this['processInboundReports'](_0x3a5121,_0x53196c),'origin':_0x254707[_0x1f66ee(0x6a8)],'streamId':_0x3a5121}:_0x4da3df[_0x1f66ee(0x4f0)]>0x0&&_0x3a5121?{...this['processOutboundReports'](_0x3a5121,_0x4da3df),'origin':_0x254707[_0x1f66ee(0x6e8)],'streamId':_0x3a5121}:void 0x0;}['getReport'](){const _0x55e055=_0xab329a,_0x122419={};this[_0x55e055(0x3e4)][_0x55e055(0xad2)]((_0xee82e3,_0x39d43b)=>{const _0x5c199f=_0x55e055;_0x122419[_0x39d43b]=_0xee82e3[_0x5c199f(0x309)]();});const _0x5755c1={};return this[_0x55e055(0x391)][_0x55e055(0xad2)]((_0x53e528,_0x3b2d24)=>{const _0x1aa28a=_0x55e055;_0x5755c1[_0x3b2d24]=_0x53e528[_0x1aa28a(0x309)]();}),{'bitrate':this[_0x55e055(0x652)],'senderBitrate':this[_0x55e055(0x8dd)],'receiverBitrate':this[_0x55e055(0x2d7)],'senderStreams':_0x122419,'receiverStreams':_0x5755c1,'dataChannel':this['dataChannel']['getReport']()};}['processInboundReports'](_0x20ed0f,_0x2698b0){const _0x494691=_0xab329a;return this['receiverStreams'][_0x494691(0x727)](_0x20ed0f)||this[_0x494691(0x391)][_0x494691(0x4d1)](_0x20ed0f,new _0x2f3089()),this[_0x494691(0x391)]['get'](_0x20ed0f)[_0x494691(0x208)](_0x2698b0);}['processOutboundReports'](_0x5c82b7,_0x298833){const _0xc8d22d=_0xab329a;return this[_0xc8d22d(0x3e4)][_0xc8d22d(0x727)](_0x5c82b7)||this[_0xc8d22d(0x3e4)]['set'](_0x5c82b7,new _0x2f3089()),this['senderStreams'][_0xc8d22d(0x153)](_0x5c82b7)[_0xc8d22d(0x208)](_0x298833);}}class _0x3c05c4{[_0xab329a(0x14e)]=new Map();[_0xab329a(0x546)]=0x0;['durationTime']=0x0;[_0xab329a(0x7d3)]=new Map();['objectStores']=new Map();[_0xab329a(0x265)]=new Map();[_0xab329a(0x289)]=new Map();['generativeAIWorkers']=new Map();['vectorDatabases']=new Map();[_0xab329a(0x1ab)]=new Map();[_0xab329a(0x2db)]=new Map();['senderTotalMessages']=new Map();['receiverTotalMessages']=new Map();[_0xab329a(0xaae)]=new Map();[_0xab329a(0xad7)]=new Map();[_0xab329a(0x9cd)]=new Map();[_0xab329a(0x2f3)];[_0xab329a(0x309)](){const _0x38e7d9=_0xab329a,_0x335ace={};this[_0x38e7d9(0x14e)][_0x38e7d9(0xad2)]((_0x554559,_0x5b7b0f)=>{const _0x20b911=_0x38e7d9;_0x335ace[_0x5b7b0f]=_0x554559[_0x20b911(0x309)]();});let _0x522e83=0x0;this[_0x38e7d9(0xaae)]['forEach'](_0x1f6399=>{_0x522e83+=_0x1f6399;});let _0x23d861=0x0;this[_0x38e7d9(0xad7)][_0x38e7d9(0xad2)](_0x11a973=>{_0x23d861+=_0x11a973;});const _0x2767e3=_0x522e83+_0x23d861;let _0x4f2b34={'messages':{'total':0x0}};this[_0x38e7d9(0x9cd)][_0x38e7d9(0xad2)](_0x47a782=>{const _0x42263a=_0x38e7d9;Object[_0x42263a(0x628)](_0x47a782)[_0x42263a(0xad2)](_0x5879c6=>{const _0x27e1a0=_0x42263a;_0x4f2b34[_0x5879c6]||(_0x4f2b34[_0x5879c6]={}),Object['keys'](_0x47a782[_0x5879c6])[_0x27e1a0(0xad2)](_0x506c08=>{_0x4f2b34[_0x5879c6][_0x506c08]||(_0x4f2b34[_0x5879c6][_0x506c08]=0x0),_0x4f2b34[_0x5879c6][_0x506c08]+=_0x47a782[_0x5879c6][_0x506c08];});});});let _0x5a6003=0x0,_0x65b86f=0x0,_0x2d198c=0x0,_0x5bb233=0x0,_0x45fc44=0x0;return this[_0x38e7d9(0x7d3)][_0x38e7d9(0xad2)](_0xb7b6ac=>{const _0x204da5=_0x38e7d9;_0x65b86f+=_0xb7b6ac[_0x204da5(0x8b6)],_0x2d198c+=_0xb7b6ac[_0x204da5(0x574)],_0x5bb233+=_0xb7b6ac[_0x204da5(0x2fb)],_0x45fc44+=_0xb7b6ac[_0x204da5(0xb0c)];}),this[_0x38e7d9(0x78f)][_0x38e7d9(0xad2)](_0x28a03d=>{const _0x237464=_0x38e7d9;_0x5a6003+=_0x28a03d[_0x237464(0xaa5)],_0x65b86f+=_0x28a03d['messagesSent'],_0x2d198c+=_0x28a03d[_0x237464(0x574)],_0x5bb233+=_0x28a03d[_0x237464(0x2fb)],_0x45fc44+=_0x28a03d[_0x237464(0xb0c)];}),this['keyValueDatabases'][_0x38e7d9(0xad2)](_0x46a707=>{const _0x1fb617=_0x38e7d9;_0x5a6003+=_0x46a707[_0x1fb617(0xaa5)],_0x65b86f+=_0x46a707[_0x1fb617(0x8b6)],_0x2d198c+=_0x46a707['messagesReceived'],_0x5bb233+=_0x46a707[_0x1fb617(0x2fb)],_0x45fc44+=_0x46a707['bytesReceived'];}),this[_0x38e7d9(0x289)][_0x38e7d9(0xad2)](_0x3d353e=>{const _0x37cfe8=_0x38e7d9;_0x5a6003+=_0x3d353e['storage'],_0x65b86f+=_0x3d353e[_0x37cfe8(0x8b6)],_0x2d198c+=_0x3d353e['messagesReceived'],_0x5bb233+=_0x3d353e[_0x37cfe8(0x2fb)],_0x45fc44+=_0x3d353e['bytesReceived'];}),this[_0x38e7d9(0xb26)][_0x38e7d9(0xad2)](_0x49bbc1=>{const _0x1a8317=_0x38e7d9;_0x5a6003+=_0x49bbc1['storage'],_0x65b86f+=_0x49bbc1['messagesSent'],_0x2d198c+=_0x49bbc1[_0x1a8317(0x574)],_0x5bb233+=_0x49bbc1['bytesSent'],_0x45fc44+=_0x49bbc1[_0x1a8317(0xb0c)];}),this[_0x38e7d9(0x757)]['forEach'](_0x22ba1d=>{const _0x4e617f=_0x38e7d9;_0x5a6003+=_0x22ba1d[_0x4e617f(0xaa5)],_0x65b86f+=_0x22ba1d[_0x4e617f(0x8b6)],_0x2d198c+=_0x22ba1d['messagesReceived'],_0x5bb233+=_0x22ba1d[_0x4e617f(0x2fb)],_0x45fc44+=_0x22ba1d[_0x4e617f(0xb0c)];}),this['graphDatabases']['forEach'](_0x4dd00f=>{const _0x52df17=_0x38e7d9;_0x5a6003+=_0x4dd00f[_0x52df17(0xaa5)],_0x65b86f+=_0x4dd00f[_0x52df17(0x8b6)],_0x2d198c+=_0x4dd00f[_0x52df17(0x574)],_0x5bb233+=_0x4dd00f[_0x52df17(0x2fb)],_0x45fc44+=_0x4dd00f[_0x52df17(0xb0c)];}),{'STVolatility':this['getSTVolatility'](),'DTVolatility':this['getDTVolatility'](),'bitrate':this['getBitrate'](),'senderBitrate':this['getSenderBitrate'](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x5a6003,'totalMessages':_0x65b86f+_0x2d198c,'totalMessagesSent':_0x65b86f,'totalMessagesReceived':_0x2d198c,'totalBytes':_0x5bb233+_0x45fc44,'totalBytesSent':_0x5bb233,'totalBytesReceived':_0x45fc44,'systemMessages':_0x4f2b34,'timeProcessing':_0x2767e3,'nodes':_0x335ace,'pubsubTopics':Object['fromEntries'](this[_0x38e7d9(0x7d3)]),'objectStores':Object['fromEntries'](this[_0x38e7d9(0x78f)]),'keyValueDatabases':Object['fromEntries'](this['keyValueDatabases']),'generativeAIContexts':Object[_0x38e7d9(0x8e8)](this['generativeAIContexts']),'generativeAIWorkers':Object[_0x38e7d9(0x8e8)](this[_0x38e7d9(0xb26)]),'vectorDatabases':Object[_0x38e7d9(0x8e8)](this['vectorDatabases']),'graphDatabases':Object['fromEntries'](this[_0x38e7d9(0x1ab)]),'externalStorages':Object[_0x38e7d9(0x8e8)](this[_0x38e7d9(0x2db)])};}['addRemoteNode'](_0x263eab){const _0x441ebc=_0xab329a;this[_0x441ebc(0x14e)][_0x441ebc(0x4d1)](_0x263eab,new _0x22b997());}[_0xab329a(0x8bd)](_0x212c2f){const _0x5fd33c=_0xab329a;this['nodes'][_0x5fd33c(0x425)](_0x212c2f);}['processReports'](_0x2296b7,_0x12df96,_0x2b5769){const _0xbe186f=_0xab329a;_0x12df96 instanceof Array||this[_0xbe186f(0x8d0)](_0x2296b7,_0x12df96);const _0x3284f7=this['nodes'][_0xbe186f(0x153)](_0x2296b7)?.[_0xbe186f(0x208)](_0x12df96,_0x2b5769);_0x3284f7&&this[_0xbe186f(0x2f3)]['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0xbe186f(0x52f)],'content':{'type':_0x5a89db[_0xbe186f(0x271)],'data':{..._0x3284f7,'nodeId':_0x2296b7}}});}['processLocalReport'](_0x56d6a0){const _0x5e0fd2=_0xab329a;this[_0x5e0fd2(0x2ed)](_0x56d6a0['secheduleTime']),this['setDurationTime'](_0x56d6a0['durationTime']),this[_0x5e0fd2(0x2f3)]['publish']({'sourceId':_0x11eed3,'messageType':_0x18b589[_0x5e0fd2(0x52f)],'content':{'type':_0x5a89db[_0x5e0fd2(0x896)],'data':{'STVolatility':this[_0x5e0fd2(0x714)](),'DTVolatility':this[_0x5e0fd2(0xaee)]()}}});}[_0xab329a(0x314)](_0x331eba,_0x27f8b1,_0x1cbc06){const _0x39f460=_0xab329a;switch(_0x27f8b1){case _0x8a5c45['PubSubTopicStats']:this[_0x39f460(0x7d3)][_0x39f460(0x4d1)](_0x331eba,_0x1cbc06);break;case _0x8a5c45[_0x39f460(0x41f)]:this[_0x39f460(0x78f)][_0x39f460(0x4d1)](_0x331eba,_0x1cbc06);break;case _0x8a5c45[_0x39f460(0x33e)]:this['keyValueDatabases']['set'](_0x331eba,_0x1cbc06);break;case _0x8a5c45['GenerativeAIContextStats']:this[_0x39f460(0x289)]['set'](_0x331eba,_0x1cbc06);break;case _0x8a5c45['GenerativeAIWorkerStats']:this[_0x39f460(0xb26)]['set'](_0x331eba,_0x1cbc06);break;case _0x8a5c45[_0x39f460(0x645)]:this[_0x39f460(0x757)][_0x39f460(0x4d1)](_0x331eba,_0x1cbc06);break;case _0x8a5c45[_0x39f460(0x698)]:this[_0x39f460(0x1ab)]['set'](_0x331eba,_0x1cbc06);break;case _0x8a5c45[_0x39f460(0x7fb)]:this['externalStorages'][_0x39f460(0x4d1)](_0x331eba,_0x1cbc06);}}[_0xab329a(0x4d7)](_0x521050){this['systemTopic']=_0x521050;}[_0xab329a(0x8e3)](){const _0x3881ef=_0xab329a;delete this[_0x3881ef(0x2f3)];}[_0xab329a(0x714)](){const _0x21df96=_0xab329a;return this[_0x21df96(0x546)]>0x0&&this[_0x21df96(0x546)]-_0x5224ff>0x0?(this[_0x21df96(0x546)]-_0x5224ff)/_0x5224ff:0x0;}[_0xab329a(0xaee)](){const _0x3179c1=_0xab329a;return this['durationTime']>0x0&&this[_0x3179c1(0x638)]-0x64>0x0?(this['durationTime']-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x2da8cb=_0xab329a;let _0x1d3618=0x0;return this[_0x2da8cb(0x14e)][_0x2da8cb(0xad2)](_0x2d9e5e=>{const _0x94d7d=_0x2da8cb;_0x1d3618+=_0x2d9e5e[_0x94d7d(0x8dd)];}),_0x1d3618;}['getReceiverBitrate'](){const _0x3899f6=_0xab329a;let _0x3a3b1f=0x0;return this['nodes'][_0x3899f6(0xad2)](_0x503832=>{const _0x1650f7=_0x3899f6;_0x3a3b1f+=_0x503832[_0x1650f7(0x2d7)];}),_0x3a3b1f;}[_0xab329a(0x886)](){const _0x215135=_0xab329a;let _0x356f38=0x0;return this['nodes'][_0x215135(0xad2)](_0x19e0a9=>{_0x356f38+=_0x19e0a9['bitrate'];}),_0x356f38;}[_0xab329a(0x2ed)](_0xc56cdc){const _0x22656b=_0xab329a;this[_0x22656b(0x546)]=_0xc56cdc;}[_0xab329a(0x1bd)](_0x3e37e5){const _0x16d6f4=_0xab329a;this[_0x16d6f4(0x638)]=_0x3e37e5;}[_0xab329a(0x8d0)](_0x226923,_0xdd36f2){const _0x4c04d2=_0xab329a;switch(_0xdd36f2[_0x4c04d2(0xaa3)]){case _0x254707[_0x4c04d2(0x6e8)]:this['processSenderReport'](_0x226923,_0xdd36f2);break;case _0x254707[_0x4c04d2(0x6a8)]:this[_0x4c04d2(0x2df)](_0x226923,_0xdd36f2);}}[_0xab329a(0x440)](_0xb8d895,_0x295f3f){const _0x947a0d=_0xab329a;this[_0x947a0d(0x474)][_0x947a0d(0x4d1)](_0xb8d895,_0x295f3f[_0x947a0d(0x8b6)]),this[_0x947a0d(0xaae)][_0x947a0d(0x4d1)](_0xb8d895,_0x295f3f[_0x947a0d(0x6ab)]);}[_0xab329a(0x2df)](_0x4ce99e,_0x3766fb){const _0x1e947b=_0xab329a;this[_0x1e947b(0x470)][_0x1e947b(0x4d1)](_0x4ce99e,_0x3766fb['messagesReceived']),this['receiverTimeProcessing']['set'](_0x4ce99e,_0x3766fb['timeReceiving']),this['systemMessages']['set'](_0x4ce99e,_0x3766fb[_0x1e947b(0x9cd)]);}}class _0x774e6c{[_0xab329a(0x8f2)];[_0xab329a(0x87e)]=new Set();[_0xab329a(0x239)];[_0xab329a(0x44b)];[_0xab329a(0x6a3)];[_0xab329a(0x8d7)]=new _0x3c05c4();constructor(_0x566911){const _0x54fd37=_0xab329a;this[_0x54fd37(0x8f2)]=_0x566911,this[_0x54fd37(0x8f2)][_0x54fd37(0x849)][_0x54fd37(0x4cc)](this[_0x54fd37(0x8d7)]),this[_0x54fd37(0x44b)]=this['setupStatsCollection'](),this[_0x54fd37(0x6a3)]=this[_0x54fd37(0x84c)]();}[_0xab329a(0xace)](){const _0x65e675=_0xab329a;this[_0x65e675(0x8f2)][_0x65e675(0x849)][_0x65e675(0x460)](this[_0x65e675(0x8d7)]),this['statsReporting'](),this[_0x65e675(0x44b)]();}['addRemoteNode'](_0x4fb472){const _0x12ec86=_0xab329a;this[_0x12ec86(0x87e)][_0x12ec86(0x232)](_0x4fb472),this[_0x12ec86(0x8d7)][_0x12ec86(0x7a7)](_0x4fb472);}[_0xab329a(0x8bd)](_0xca1d1a){const _0x40de34=_0xab329a;this[_0x40de34(0x87e)][_0x40de34(0x425)](_0xca1d1a),this[_0x40de34(0x8d7)][_0x40de34(0x8bd)](_0xca1d1a);}[_0xab329a(0x2f6)](_0x386e16){const _0x1f8871=_0xab329a;if(_0x386e16[_0x1f8871(0xa98)][_0x1f8871(0x539)]===_0x4d3e94['Stats']){const {nodeId:_0x47db2f,streamId:_0x210dc9,stats:_0x56748f}=_0x386e16[_0x1f8871(0xa98)];this[_0x1f8871(0x8d7)][_0x1f8871(0x208)](_0x47db2f,_0x56748f,_0x210dc9);}}['handleContentSystemEvents'](_0xfe11c8){const _0x28432a=_0xab329a;switch(_0xfe11c8[_0x28432a(0xa98)][_0x28432a(0x539)]){case _0x8a5c45[_0x28432a(0x41f)]:case _0x8a5c45[_0x28432a(0x33e)]:case _0x8a5c45[_0x28432a(0x4ab)]:case _0x8a5c45[_0x28432a(0x420)]:case _0x8a5c45[_0x28432a(0x376)]:case _0x8a5c45[_0x28432a(0x645)]:case _0x8a5c45[_0x28432a(0x698)]:case _0x8a5c45[_0x28432a(0x7fb)]:this[_0x28432a(0x8d7)][_0x28432a(0x314)](_0xfe11c8[_0x28432a(0xa98)]['label'],_0xfe11c8[_0x28432a(0xa98)][_0x28432a(0x539)],_0xfe11c8[_0x28432a(0xa98)][_0x28432a(0x5dc)]);}}[_0xab329a(0x84c)](){const _0x183aab=_0xab329a;return _0x3b46ce[_0x183aab(0x9f4)](()=>{const _0x851b01=_0x183aab,_0x21a00f=this[_0x851b01(0x8d7)][_0x851b01(0x309)]();_0x542377[_0x851b01(0x4ad)](_0x59a34d[_0x851b01(0x52f)],'Stats:\x20report',_0x21a00f),(0x0,_0x30ad83[_0x851b01(0x5c4)])((0x0,_0x30ad83[_0x851b01(0x9be)])(_0x44b60b[_0x851b01(0xa12)](),'developers/'+this[_0x851b01(0x8f2)]['vendorId']+_0x851b01(0x16a)),{'clusterId':this[_0x851b01(0x8f2)][_0x851b01(0x48a)],'nodeId':this['configs']['localNode'][_0x851b01(0x7a4)](),'nodeType':this['configs']['localNode'][_0x851b01(0x539)],'timestamp':(0x0,_0x30ad83['serverTimestamp'])(),'report':_0x21a00f}),_0x542377[_0x851b01(0x1aa)](_0x851b01(0x5dc),{'clusterId':this[_0x851b01(0x8f2)][_0x851b01(0x48a)],'nodeId':this['configs'][_0x851b01(0x242)][_0x851b01(0x7a4)](),'nodeType':this['configs'][_0x851b01(0x242)][_0x851b01(0x539)],'data':{'report':_0x21a00f}});},_0x1d9be2);}[_0xab329a(0x366)](){const _0x3405fd=_0xab329a;let _0x5bda0c=!0x1,_0x1412e1=Date[_0x3405fd(0x4cb)]();return _0x3b46ce[_0x3405fd(0x9f4)](async()=>{const _0x21515f=_0x3405fd;if(_0x5bda0c)return;if(_0x5bda0c=!0x0,0x0===this['remoteNodes'][_0x21515f(0xa86)])return delete this['nextNodeId'],void(_0x5bda0c=!0x1);const _0x15b6d8=Date[_0x21515f(0x4cb)]();this[_0x21515f(0x341)]();try{await this[_0x21515f(0x8f2)]['mediator']['collectStats'](this[_0x21515f(0x239)]);}catch(_0x3526c1){}this[_0x21515f(0x8d7)][_0x21515f(0x754)]({'secheduleTime':_0x15b6d8-_0x1412e1,'durationTime':Date[_0x21515f(0x4cb)]()-_0x15b6d8}),_0x1412e1=_0x15b6d8,_0x5bda0c=!0x1;},_0x5224ff);}[_0xab329a(0x341)](){const _0x381dcc=_0xab329a;let _0xb90e4b,_0x31a645=!0x1;this[_0x381dcc(0x239)]&&(this['remoteNodes'][_0x381dcc(0x727)](this[_0x381dcc(0x239)])||delete this[_0x381dcc(0x239)]);for(const _0x430642 of this[_0x381dcc(0x87e)])if(_0xb90e4b||(_0xb90e4b=_0x430642),this[_0x381dcc(0x239)]!==_0x430642){if(_0x31a645)return void(this[_0x381dcc(0x239)]=_0x430642);}else _0x31a645=!0x0,delete this[_0x381dcc(0x239)];this['nextNodeId']||(this[_0x381dcc(0x239)]=_0xb90e4b);}}class _0xcf1173{[_0xab329a(0x5d1)];[_0xab329a(0xb60)];[_0xab329a(0x2f3)];constructor(_0x3f5ebb,_0xa7630a){const _0x3f335e=_0xab329a;this[_0x3f335e(0x5d1)]=_0x3f5ebb,this[_0x3f335e(0xb60)]=_0xa7630a;}[_0xab329a(0x4d7)](_0x2d59c2){const _0x37af3a=_0xab329a;this[_0x37af3a(0x2f3)]=_0x2d59c2;}['unregisterSystemPublisher'](){const _0x53dcf5=_0xab329a;delete this[_0x53dcf5(0x2f3)];}}class _0x34e3eb extends _0xcf1173{[_0xab329a(0x5d1)];[_0xab329a(0xb60)];['params'];constructor(_0x2eda39,_0x5bb8bd,_0x16eba7){const _0x3a86c2=_0xab329a;super(_0x2eda39,_0x5bb8bd),this['source']=_0x2eda39,this[_0x3a86c2(0xb60)]=_0x5bb8bd,this[_0x3a86c2(0x883)]=_0x16eba7;}[_0xab329a(0x94e)](_0x5565d3,_0x4a2370,_0x28c9f8){const _0x401e89=_0xab329a;if(this[_0x401e89(0xb60)]['getContentType']()===_0x1d89a1[_0x401e89(0x93a)][_0x401e89(0x59b)]){const _0x36256a={'type':_0x504b4d['SubscribeMediaStream'],'label':this[_0x401e89(0xb60)][_0x401e89(0xa52)](),'ownerId':_0x5565d3,'trackKinds':_0x4a2370??this[_0x401e89(0xb60)][_0x401e89(0xb6c)](),'params':_0x28c9f8};this[_0x401e89(0x2f3)][_0x401e89(0x75d)]({'sourceId':this['source'][_0x401e89(0x183)](),'destinationIds':[this[_0x401e89(0x5d1)][_0x401e89(0xb00)]()],'messageType':_0x18b589[_0x401e89(0x75a)],'content':_0x36256a}),this['params']=_0x28c9f8;}}[_0xab329a(0x959)](_0x2c1f79,_0x282359){const _0x312742=_0xab329a;if(this['destination']['getContentType']()===_0x1d89a1[_0x312742(0x93a)][_0x312742(0x59b)]){const _0x58aa57={'type':_0x504b4d[_0x312742(0x1eb)],'label':this['destination']['getLabel'](),'ownerId':_0x2c1f79,'params':_0x282359};this[_0x312742(0x2f3)][_0x312742(0x75d)]({'sourceId':this[_0x312742(0x5d1)][_0x312742(0x183)](),'destinationIds':[this[_0x312742(0x5d1)][_0x312742(0xb00)]()],'messageType':_0x18b589[_0x312742(0x75a)],'content':_0x58aa57}),this[_0x312742(0x883)]=_0x282359;}}[_0xab329a(0x3c8)](_0x49cb18,_0x1de851,_0x3318c8){const _0xca0e75=_0xab329a;if(this[_0xca0e75(0xb60)][_0xca0e75(0x552)]()===_0x1d89a1[_0xca0e75(0x93a)][_0xca0e75(0x59b)]){const _0x4fa0bd={'type':_0x504b4d['UnsubscribeMediaStream'],'label':this['destination'][_0xca0e75(0xa52)](),'ownerId':_0x49cb18,'trackKinds':_0x3318c8??this[_0xca0e75(0xb60)][_0xca0e75(0xb6c)](),'remainingTracks':_0x1de851};this[_0xca0e75(0x2f3)]['publish']({'sourceId':this[_0xca0e75(0x5d1)][_0xca0e75(0x183)](),'destinationIds':[this[_0xca0e75(0x5d1)][_0xca0e75(0xb00)]()],'messageType':_0x18b589[_0xca0e75(0x75a)],'content':_0x4fa0bd});}}}class _0x5c4391{[_0xab329a(0x43b)];[_0xab329a(0x854)];[_0xab329a(0x7b8)];[_0xab329a(0x2f3)];['answers']=new Set();[_0xab329a(0x8c6)]=Date['now']();[_0xab329a(0x883)];['retryCount']=0x0;constructor(_0x5295a1,_0x4e7961,_0xab3579,_0x366581){const _0x5a1458=_0xab329a;this[_0x5a1458(0x43b)]=_0x4e7961,this[_0x5a1458(0x854)]=_0xab3579,this[_0x5a1458(0x7b8)]=_0x366581,_0x5295a1[_0x5a1458(0xad2)](_0x216810=>{const _0x1a9e78=_0x5a1458;this[_0x1a9e78(0x98a)][_0x1a9e78(0x232)]({'nodeId':_0x216810,'type':_0x7d703a[_0x1a9e78(0x491)]});});}[_0xab329a(0x865)](){const _0x4e2120=_0xab329a;return this[_0x4e2120(0x7b8)];}[_0xab329a(0x4d7)](_0x7e3615){const _0x3f05b4=_0xab329a;this[_0x3f05b4(0x2f3)]=_0x7e3615;}[_0xab329a(0x8e3)](){delete this['systemTopic'];}[_0xab329a(0x669)](_0x4554e9,_0xe053a9){const _0x39c96b=_0xab329a;this[_0x39c96b(0x8c6)]=Date[_0x39c96b(0x4cb)](),this[_0x39c96b(0x98a)][_0x39c96b(0x613)](),_0x4554e9[_0x39c96b(0xad2)](_0x2f422d=>{const _0x1e5b5d=_0x39c96b;this[_0x1e5b5d(0x98a)]['add']({'nodeId':_0x2f422d,'type':_0x7d703a[_0x1e5b5d(0x491)]});}),this['retryCount']+=0x1,this[_0x39c96b(0x43b)]=_0xe053a9;}[_0xab329a(0x74d)](_0x343c7d,_0x5591e5,_0x11c7da,_0x30a95f,_0x5b4049){const _0x200b18=_0xab329a;if(this[_0x200b18(0x62f)]>0xa)throw new _0x227d3a(_0x227d3a[_0x200b18(0x821)][_0x200b18(0x924)],{'answers':Array[_0x200b18(0x61d)](this[_0x200b18(0x98a)])[_0x200b18(0x591)](_0xbfc1b6=>({'nodeId':_0xbfc1b6[_0x200b18(0x1c9)],'type':_0xbfc1b6[_0x200b18(0x539)]}))});const _0x4f9e48=Array[_0x200b18(0x61d)](this[_0x200b18(0x98a)])[_0x200b18(0x591)](_0x207ca3=>_0x207ca3[_0x200b18(0x1c9)]);this[_0x200b18(0x883)]=_0x5b4049,this[_0x200b18(0x2f3)]['publish']({'sourceId':_0x343c7d,'destinationIds':_0x4f9e48,'messageType':_0x18b589[_0x200b18(0x75a)],'content':{'type':_0x504b4d[_0x200b18(0xa6e)],'label':_0x11c7da,'ownerId':_0x5591e5,'trackKinds':_0x30a95f,'params':_0x5b4049}}),_0x542377[_0x200b18(0x4ad)](_0x59a34d[_0x200b18(0x75a)],_0x200b18(0x4ed),_0x343c7d,_0x4f9e48);}['handleSubscriptionSystemEvents'](_0x5e2f14,_0x2df6a2){const _0x411c30=_0xab329a;switch(_0x2df6a2[_0x411c30(0x539)]){case _0x504b4d[_0x411c30(0x6b5)]:{const _0x151cac=this[_0x411c30(0x43b)]>=_0x2df6a2['distance']&&_0x2df6a2[_0x411c30(0x8a0)]<=this['maxDistance'],_0x17afe1=Array[_0x411c30(0x61d)](this[_0x411c30(0x98a)])[_0x411c30(0xb4a)](_0x582d87=>_0x582d87[_0x411c30(0x1c9)]===_0x5e2f14);_0x17afe1[_0x411c30(0x539)]=_0x151cac?_0x7d703a[_0x411c30(0xb04)]:_0x7d703a[_0x411c30(0x97e)],_0x17afe1[_0x411c30(0x1c2)]=_0x2df6a2['cost'],_0x17afe1[_0x411c30(0x8a0)]=_0x2df6a2[_0x411c30(0x8a0)],_0x17afe1[_0x411c30(0x3e8)]=_0x2df6a2[_0x411c30(0x3e8)],_0x17afe1[_0x411c30(0x96d)]=Date[_0x411c30(0x4cb)]()-this[_0x411c30(0x8c6)],_0x17afe1['params']=this['params'],_0x17afe1['ownerId']=_0x2df6a2['ownerId'],_0x17afe1[_0x411c30(0x263)]=_0x2df6a2['trackKinds'],_0x17afe1[_0x411c30(0x558)]=_0x2df6a2[_0x411c30(0x4b1)],_0x542377[_0x411c30(0x4ad)](_0x59a34d[_0x411c30(0x75a)],(_0x151cac?'Accepted':_0x411c30(0x97e))+_0x411c30(0x49f),_0x17afe1);break;}case _0x504b4d['CannotProvideMediaStream']:{const _0x3a5040=Array['from'](this[_0x411c30(0x98a)])[_0x411c30(0xb4a)](_0xdb30fc=>_0xdb30fc[_0x411c30(0x1c9)]===_0x5e2f14);_0x3a5040[_0x411c30(0x539)]=_0x7d703a[_0x411c30(0x97e)],_0x542377['log'](_0x59a34d[_0x411c30(0x75a)],_0x411c30(0x8e4),_0x3a5040);break;}}if(this[_0x411c30(0x8fb)]())return this[_0x411c30(0x6ac)]();}[_0xab329a(0x6ac)](){const _0x101557=_0xab329a,_0x441a55=Array[_0x101557(0x61d)](this[_0x101557(0x98a)])[_0x101557(0x2b3)](_0x3a9343=>_0x3a9343['type']===_0x7d703a['Accepted'])[_0x101557(0x32a)]((_0x3a0316,_0x392103)=>_0x3a0316[_0x101557(0x1c2)]===_0x392103['cost']?_0x3a0316[_0x101557(0x96d)]-_0x392103['roundTripTime']:_0x3a0316[_0x101557(0x1c2)]-_0x392103[_0x101557(0x1c2)]);if(0x0===_0x441a55[_0x101557(0x4f0)])throw new _0x227d3a(_0x227d3a[_0x101557(0x821)][_0x101557(0x924)],{'answers':Array['from'](this[_0x101557(0x98a)])[_0x101557(0x591)](_0x3fe91f=>({'nodeId':_0x3fe91f[_0x101557(0x1c9)],'type':_0x3fe91f[_0x101557(0x539)]}))});return _0x542377[_0x101557(0x4ad)](_0x59a34d[_0x101557(0x75a)],'Chosen\x20answer',_0x441a55[0x0],this[_0x101557(0x98a)]),_0x441a55[0x0];}[_0xab329a(0x8fb)](){const _0x1d4932=_0xab329a;for(const _0x36c331 of this[_0x1d4932(0x98a)])if(_0x36c331[_0x1d4932(0x539)]===_0x7d703a['Waiting'])return!0x1;return!0x0;}}class _0x5b9df0{[_0xab329a(0x4b1)];[_0xab329a(0x9e9)];[_0xab329a(0x841)]=_0x41f17b();constructor(_0x80756a,_0x4166b9){const _0x39c421=_0xab329a;this[_0x39c421(0x4b1)]=_0x80756a,this[_0x39c421(0x9e9)]=_0x4166b9;}['getLabel'](){const _0x4f1500=_0xab329a;return this[_0x4f1500(0x4b1)];}['getContentType'](){const _0xafaf42=_0xab329a;return this[_0xafaf42(0x9e9)];}[_0xab329a(0x919)](_0x40013d){_0x40013d['registerPublisher'](this);}[_0xab329a(0x253)](_0x4a81e1){_0x4a81e1['registerSubscriber'](this);}[_0xab329a(0x75d)](_0x27037c){const _0x241fda=_0xab329a;this[_0x241fda(0x841)][_0x241fda(0x75d)]({'topicLabel':this[_0x241fda(0x4b1)],'contentType':this[_0x241fda(0x9e9)],'uuid':(0x0,_0x3aba3d['v4'])(),'recipients':[],..._0x27037c});}[_0xab329a(0x94e)](_0xf961dc){const _0x218565=_0xab329a;return this[_0x218565(0x841)]['subscribe'](_0xf961dc);}[_0xab329a(0x6d0)](_0x27cf33){const _0x26cc7d=_0xab329a;_0x27cf33[_0x26cc7d(0x716)](this);}[_0xab329a(0x5fc)](_0x820564){const _0x5c5c73=_0xab329a;_0x820564[_0x5c5c73(0x1fb)](this);}}class _0x3278e8{[_0xab329a(0x65e)]={'topics':new Map(),'subscriptions':new Map()};[_0xab329a(0x779)];constructor(_0x7004b3){const _0x4319c1=_0xab329a;this[_0x4319c1(0x779)]=_0x7004b3;}get[_0xab329a(0xb3e)](){const _0x3e0663=_0xab329a;return this[_0x3e0663(0x65e)][_0x3e0663(0xb3e)];}get[_0xab329a(0x655)](){const _0x5bde86=_0xab329a;return this['maps'][_0x5bde86(0x655)];}[_0xab329a(0x553)](_0xc27604,_0x3c4cd6){const _0x1e6cd6=_0xab329a,_0x36d167=this['getPartsFromSubscription'](_0x3c4cd6),_0xc8b935=_0x4eb611(_0xc27604);if(!_0x36d167[_0x1e6cd6(0x444)])throw new _0x227d3a(_0x227d3a['codes'][_0x1e6cd6(0x7bb)],{'message':_0xc8b935+':\x20'+_0x36d167['remoteId']+_0x1e6cd6(0x92a)+_0x36d167[_0x1e6cd6(0x9e9)],'subscriptionType':_0xc27604,'subscription':_0x3c4cd6,'subscriptonParts':_0x36d167});const _0x1e1d3e=_0x584f90(_0xc27604,_0x36d167);if(this[_0x1e6cd6(0x65e)][_0x1e6cd6(0xb3e)]['has'](_0x1e1d3e))throw new _0x227d3a(_0x227d3a['codes'][_0x1e6cd6(0x7bb)],{'message':_0xc8b935+':\x20'+_0x1e1d3e+_0x1e6cd6(0x7cd),'subscriptionType':_0xc27604,'subscription':_0x3c4cd6,'subscriptonParts':_0x36d167});this[_0x1e6cd6(0x65e)][_0x1e6cd6(0xb3e)][_0x1e6cd6(0x4d1)](_0x1e1d3e,_0x3c4cd6),this[_0x1e6cd6(0x564)](_0x36d167,_0x3c4cd6);}[_0xab329a(0xacf)](_0x2d204f,_0x16d0b5){const _0x42742e=_0xab329a,_0x40df4b=_0x584f90(_0x16d0b5,_0x2d204f),_0xcfe2cf=this[_0x42742e(0x65e)][_0x42742e(0xb3e)][_0x42742e(0x153)](_0x40df4b);if(!_0xcfe2cf)throw new _0x227d3a(_0x227d3a[_0x42742e(0x821)][_0x42742e(0x7bb)],{'message':_0x4eb611(_0x16d0b5)+':\x20'+_0x40df4b+_0x42742e(0x243),'subscriptionType':_0x16d0b5,'subscription':_0xcfe2cf,'subscriptonParts':_0x2d204f});this[_0x42742e(0x870)](_0xcfe2cf,_0x40df4b,_0x2d204f);}[_0xab329a(0x870)](_0x3e4e31,_0x41b15f,_0x49e279){const _0x43e2c4=_0xab329a;_0x49e279=_0x49e279||this['getPartsFromSubscription'](_0x3e4e31),this[_0x43e2c4(0x65e)][_0x43e2c4(0xb3e)][_0x43e2c4(0x425)](_0x41b15f),this[_0x43e2c4(0x3ae)](_0x49e279,_0x3e4e31);}[_0xab329a(0x564)](_0x2f3e98,{source:_0x4bcc4e,destination:_0x3dc0ac}){const _0x14d9c1=_0xab329a,{contentType:_0x2ddfb8,label:_0x5a4c5b,remoteId:_0x1776b7}=_0x2f3e98,_0x2cbada=_0x43efe5(_0x2ddfb8,_0x5a4c5b,_0x1776b7),_0x31b4f2=new _0x5b9df0(_0x2cbada,_0x2ddfb8);_0x31b4f2['registerSource'](_0x4bcc4e),_0x31b4f2[_0x14d9c1(0x253)](_0x3dc0ac),this[_0x14d9c1(0x65e)][_0x14d9c1(0x655)][_0x14d9c1(0x4d1)](_0x31b4f2[_0x14d9c1(0xa52)](),_0x31b4f2);}[_0xab329a(0x3ae)](_0x5a0901,_0x51e3d3){const _0x3e4827=_0xab329a,{contentType:_0x4d07ed,label:_0x164c2f,remoteId:_0x131202}=_0x5a0901,_0x15cd4b=_0x43efe5(_0x4d07ed,_0x164c2f,_0x131202),_0xce8a26=this[_0x3e4827(0x65e)][_0x3e4827(0x655)][_0x3e4827(0x153)](_0x15cd4b);_0xce8a26&&(this[_0x3e4827(0xb07)](_0xce8a26,_0x51e3d3),this['maps']['topics'][_0x3e4827(0x425)](_0x15cd4b));}['closeTopic'](_0x2bfadb,{source:_0x37a55f,destination:_0x3755b7}){const _0x306990=_0xab329a;_0x2bfadb[_0x306990(0x6d0)](_0x37a55f),_0x2bfadb[_0x306990(0x5fc)](_0x3755b7);}[_0xab329a(0x5cc)](_0x5f03fb){const _0x30c18e=_0xab329a;this[_0x30c18e(0x65e)][_0x30c18e(0xb3e)][_0x30c18e(0xad2)]((_0x5f515e,_0x1f0e04)=>{_0x1f0e04['endsWith'](_0x5f03fb)&&this['closeSubscription'](_0x5f515e,_0x1f0e04);});}}class _0x1e3232{[_0xab329a(0x8f2)];[_0xab329a(0x854)];['subscriptionRequests']=new Map();[_0xab329a(0x6e9)]=_0x451ece(new _0x430088(this[_0xab329a(0x920)]['bind'](this),()=>_0x3b46ce[_0xab329a(0xb1d)](0x64)),!0x0);['subscriptionRequestTimeouts']=new Map();[_0xab329a(0x65e)];[_0xab329a(0x1cf)]=new Map();constructor(_0x51a536,_0x6e6a2e){const _0x1576a9=_0xab329a;this['configs']=_0x51a536,this[_0x1576a9(0x854)]=_0x6e6a2e,this[_0x1576a9(0x65e)]=new _0x3278e8(({source:_0x13682e,destination:_0x2b0dc1})=>_0x3fffa9(_0x2b0dc1,_0x13682e));}[_0xab329a(0x553)](_0x419bab,_0x2d0535){const _0x293657=_0xab329a,_0x312d77=this[_0x293657(0x507)](_0x419bab)&&this[_0x293657(0x818)](_0x2d0535)?new _0x34e3eb(_0x419bab,_0x2d0535):new _0xcf1173(_0x419bab,_0x2d0535);this[_0x293657(0x65e)][_0x293657(0x553)](_0x28421c['Incoming'],_0x312d77),this[_0x293657(0x8f2)][_0x293657(0x849)][_0x293657(0x4cc)](_0x312d77);}[_0xab329a(0xacf)](_0x3cd5e0,_0x1949d7,_0xf8e7ef=''){const _0x4e9055=_0xab329a,_0x4cc8e9={'contentType':_0x1949d7,'label':_0x3cd5e0,'remoteId':_0xf8e7ef},_0x2bd1af=_0x584f90(_0x28421c[_0x4e9055(0xa16)],_0x4cc8e9),_0x6dd2ff=this[_0x4e9055(0x65e)]['subscriptions'][_0x4e9055(0x153)](_0x2bd1af);_0x6dd2ff&&this['closeSubscription'](_0x6dd2ff,_0x2bd1af);}[_0xab329a(0x5c9)](_0x19b176){const _0x1728cd=_0xab329a;this[_0x1728cd(0x837)](_0x19b176);}[_0xab329a(0x6fe)]({label:_0xbd86f5,ownerId:_0x2bfcee,trackKinds:_0x1d6e85,params:_0x453192}){const _0x4e70b1=_0xab329a;this[_0x4e70b1(0x972)](_0xbd86f5,_0x2bfcee,_0x1d6e85,_0x453192);}[_0xab329a(0x18c)]({ownerId:_0x2fa35f,label:_0x5dddf1,params:_0x3be7e8}){const _0xb5c330=_0xab329a,{subscriptionLabel:_0x273792}=this[_0xb5c330(0xad9)](_0x5dddf1,_0x2fa35f),_0x180b32=this[_0xb5c330(0x351)](_0x273792);_0x180b32&&_0x180b32['update'](_0x2fa35f,_0x3be7e8);}[_0xab329a(0x162)]({ownerId:_0x139673,label:_0x15c687,trackKinds:_0x517ba9,remainingTracks:_0x291e9a}){const _0x812569=_0xab329a,_0x2e1876=_0x584f90(_0x28421c[_0x812569(0xa16)],{'contentType':_0x1d89a1['ContentType'][_0x812569(0x59b)],'label':_0x15c687,'remoteId':_0x139673});this[_0x812569(0x73f)](_0x2e1876);const _0x1522f9=this[_0x812569(0x6e4)][_0x812569(0x153)](_0x2e1876);_0x1522f9&&(this[_0x812569(0x8f2)][_0x812569(0x849)][_0x812569(0x460)](_0x1522f9),this['subscriptionRequests'][_0x812569(0x425)](_0x2e1876));const {parts:_0x55977f,subscriptionLabel:_0x46d296}=this[_0x812569(0xad9)](_0x15c687,_0x139673),_0x1c7db0=this['getMediaSubscription'](_0x46d296);_0x1c7db0&&(_0x1c7db0[_0x812569(0x3c8)](_0x139673,_0x291e9a,_0x517ba9),0x0===_0x291e9a&&this['removeSubscription'](_0x55977f[_0x812569(0x4b1)],_0x55977f[_0x812569(0x9e9)],_0x55977f[_0x812569(0x62c)]));}[_0xab329a(0x56a)](_0x302ba0,{label:_0x58579a,ownerId:_0x361853,trackKinds:_0x4f70a9,streamId:_0x11e32e,params:_0x526bff}){const _0x4b6b15=_0xab329a,_0x72fafe=_0x584f90(_0x28421c['Incoming'],{'contentType':_0x1d89a1[_0x4b6b15(0x93a)][_0x4b6b15(0x59b)],'label':_0x11e32e,'remoteId':_0x302ba0}),_0x582225=this[_0x4b6b15(0x65e)][_0x4b6b15(0xb3e)][_0x4b6b15(0x153)](_0x72fafe);if(!(_0x582225&&_0x582225 instanceof _0x34e3eb))throw new _0x227d3a(_0x227d3a[_0x4b6b15(0x821)][_0x4b6b15(0x2cd)],{'label':_0x72fafe,'ownerId':_0x361853});this[_0x4b6b15(0x870)](_0x582225,_0x72fafe),this['requestSubscription'](_0x58579a,_0x361853,_0x4f70a9,_0x526bff);}[_0xab329a(0x46c)](_0x2295cf,_0x3c0e93){const _0x46ec6e=_0xab329a,{label:_0x4974cf,ownerId:_0x957e16,trackKinds:_0x272cbb,params:_0x245739}=_0x3c0e93,_0x56a791=_0x584f90(_0x28421c[_0x46ec6e(0xa16)],{'contentType':_0x1d89a1[_0x46ec6e(0x93a)][_0x46ec6e(0x59b)],'label':_0x4974cf,'remoteId':_0x957e16});if(!this['subscriptionRequests']['has'](_0x56a791))throw new _0x227d3a(_0x227d3a['codes'][_0x46ec6e(0x2cd)],{'label':_0x56a791,'ownerId':_0x957e16,'streamId':_0x3c0e93[_0x46ec6e(0x3e8)],'requests':this[_0x46ec6e(0x6e4)]});const _0x4402e0=this[_0x46ec6e(0x6e4)]['get'](_0x56a791);if(_0x272cbb[_0x46ec6e(0x4f0)]===_0x4402e0['getTracks']()[_0x46ec6e(0x4f0)]&&_0x272cbb[_0x46ec6e(0x42d)](_0x1a2135=>_0x4402e0['getTracks']()[_0x46ec6e(0xb4e)](_0x1a2135)))try{const _0xb492c6=_0x4402e0[_0x46ec6e(0x2ca)](_0x2295cf,_0x3c0e93);if(!_0xb492c6)return;this[_0x46ec6e(0x94e)](_0xb492c6,_0x957e16,_0x4974cf,_0x56a791,_0x272cbb);}catch(_0x249603){return void this[_0x46ec6e(0x600)](_0x4974cf,_0x957e16,_0x272cbb,_0x245739);}}['handleSubscriptionMediaStreamUnavailable'](_0x3e9f26,{label:_0x1f2a53,ownerId:_0x2330c4,trackKinds:_0x3768bf}){const _0x4c1de6=_0xab329a,_0x5b0a5f=this[_0x4c1de6(0x8f2)]['mediator']['getRemoteMediaStream'](_0x2330c4,_0x1f2a53);if(!_0x5b0a5f)return;const _0x460541=_0x5b0a5f[_0x4c1de6(0xb50)](),_0x2f78e1=_0x5b0a5f[_0x4c1de6(0x65c)]();_0x2f78e1[_0x4c1de6(0x95e)](_0x4337e0=>_0x3768bf[_0x4c1de6(0xb4e)](_0x4337e0))&&this['findNewMediaSubscription'](_0x3e9f26,_0x1f2a53,_0x460541,_0x2330c4,_0x2f78e1);}['handleContentRemoteMediaStreamTrackFail']({label:_0x425c35,providerId:_0x158216,ownerId:_0x418c84,streamId:_0x8c5b98,trackKinds:_0x78deb}){this['findNewMediaSubscription'](_0x158216,_0x425c35,_0x8c5b98,_0x418c84,_0x78deb);}[_0xab329a(0xafa)](_0x3a2b4d){const _0x53bb10=_0xab329a;for(const _0x2cbe98 of this[_0x53bb10(0x1cf)][_0x53bb10(0xb40)]()){const {streamLabel:_0x374256,ownerId:_0x396b3c,trackKinds:_0x5e78cf,params:_0xc50b4f}=_0x2cbe98;if(!_0x396b3c||!_0x5e78cf||!_0x374256)return;this[_0x53bb10(0x6e9)][_0x53bb10(0x257)]({'label':_0x374256,'ownerId':_0x396b3c,'trackKinds':_0x5e78cf,'params':_0xc50b4f,'remoteId':_0x3a2b4d});}}[_0xab329a(0x5cc)](_0x19d163){const _0x2b91e2=_0xab329a;this[_0x2b91e2(0x65e)][_0x2b91e2(0xb3e)][_0x2b91e2(0xad2)]((_0x27317a,_0x27a61d)=>{const _0x465eae=_0x2b91e2;if(_0x27a61d['endsWith'](_0x19d163)){if(_0x27317a[_0x465eae(0xb60)]['getContentType']()===_0x1d89a1[_0x465eae(0x93a)][_0x465eae(0x59b)]){const _0x258f4a=_0x27317a[_0x465eae(0xb60)];if(_0x258f4a[_0x465eae(0x65c)]()[_0x465eae(0x4f0)]>0x0){const _0x24ed1e={'type':_0x504b4d['MediaStreamUnavailable'],'label':_0x258f4a['getLabel'](),'ownerId':_0x258f4a['getOwnerId'](),'trackKinds':_0x258f4a[_0x465eae(0x65c)]()};return void this[_0x465eae(0x320)](_0x19d163,_0x24ed1e);}}this[_0x465eae(0x870)](_0x27317a,_0x27a61d);}});}[_0xab329a(0xace)](){const _0x590d55=_0xab329a;this[_0x590d55(0x65e)][_0x590d55(0xb3e)][_0x590d55(0xad2)](this[_0x590d55(0x870)][_0x590d55(0x5b5)](this));}[_0xab329a(0x94e)](_0x1a1a28,_0x2a4edf,_0x5c2871,_0x170e5b,_0x116445){const _0x27b1d7=_0xab329a,_0x7c644d=this['configs'][_0x27b1d7(0x849)][_0x27b1d7(0x19b)](_0x1a1a28[_0x27b1d7(0x1c9)]),_0x57c0d5=this[_0x27b1d7(0x8f2)][_0x27b1d7(0x849)][_0x27b1d7(0x5c0)](_0x2a4edf,_0x5c2871);this['clearSubscriptionRequestTimeout'](_0x170e5b),this[_0x27b1d7(0x6e4)][_0x27b1d7(0x727)](_0x170e5b)&&(this[_0x27b1d7(0x8f2)]['mediator'][_0x27b1d7(0x460)](this[_0x27b1d7(0x6e4)]['get'](_0x170e5b)),this[_0x27b1d7(0x6e4)][_0x27b1d7(0x425)](_0x170e5b)),this[_0x27b1d7(0x7a6)](_0x1a1a28,_0x2a4edf,_0x5c2871,_0x57c0d5),_0x57c0d5[_0x27b1d7(0x5d4)](_0x1a1a28[_0x27b1d7(0x3e8)]),_0x57c0d5[_0x27b1d7(0xa27)](_0x1a1a28[_0x27b1d7(0x1c9)]);const _0x4250d3=_0x3fffa9(_0x57c0d5,_0x7c644d),_0x4fd295=_0x584f90(_0x28421c['Incoming'],_0x4250d3);this[_0x27b1d7(0x65e)][_0x27b1d7(0xb3e)][_0x27b1d7(0x727)](_0x4fd295)||this[_0x27b1d7(0x553)](_0x7c644d,_0x57c0d5);const _0x5eb438=this['maps'][_0x27b1d7(0xb3e)][_0x27b1d7(0x153)](_0x4fd295);if(!(_0x5eb438&&_0x5eb438 instanceof _0x34e3eb))throw new _0x227d3a(_0x227d3a[_0x27b1d7(0x821)]['SubscriptionRequestDoesNotExist'],{'label':_0x170e5b,'ownerId':_0x2a4edf});_0x542377['logEvent'](_0x27b1d7(0x6ce),{'clusterId':this['configs'][_0x27b1d7(0x48a)],'nodeId':this[_0x27b1d7(0x8f2)][_0x27b1d7(0x242)]['getId'](),'nodeType':this['configs'][_0x27b1d7(0x242)][_0x27b1d7(0x539)],'data':{'subscriptionLabel':_0x4fd295,'chosenAnswer':_0x1a1a28}}),this[_0x27b1d7(0x1cf)]['set'](_0x4fd295,_0x1a1a28),_0x5eb438[_0x27b1d7(0x94e)](_0x2a4edf,_0x116445,_0x1a1a28[_0x27b1d7(0x883)]);}['removeRemoteStreamSubscription']({ownerId:_0x32e68b,label:_0x24cbd3}){const _0x2f2a02=_0xab329a,_0x14950c=this[_0x2f2a02(0x8f2)][_0x2f2a02(0x849)][_0x2f2a02(0x5c0)](_0x32e68b,_0x24cbd3),[_0x1a1b87,_0x5438f5]=Array['from'](this[_0x2f2a02(0x65e)][_0x2f2a02(0xb3e)][_0x2f2a02(0x41b)]())[_0x2f2a02(0xb4a)](([_0x5a0f8c,_0x4f8b6f])=>-0x1!==_0x5a0f8c[_0x2f2a02(0x7f1)](_0x14950c['getInternalStreamId']()));return this[_0x2f2a02(0x870)](_0x5438f5,_0x1a1b87);}[_0xab329a(0x870)](_0x355381,_0x5172f8){const _0x40f09c=_0xab329a;this[_0x40f09c(0x8f2)][_0x40f09c(0x849)][_0x40f09c(0x460)](_0x355381),this['maps'][_0x40f09c(0x870)](_0x355381,_0x5172f8);}['isMediaSource'](_0x7a0e9b){const _0x20e437=_0xab329a;return _0x7a0e9b[_0x20e437(0x282)]()['includes'](_0x1d89a1[_0x20e437(0x93a)][_0x20e437(0x59b)]);}['isMediaDestination'](_0x4c13c0){const _0x1694b1=_0xab329a;return _0x4c13c0[_0x1694b1(0x552)]()===_0x1d89a1['ContentType']['Media'];}async['handleNoAnswer'](_0x227da8,_0x25b5da,_0x17e8d0,_0x2631c6){const _0x15f871=_0xab329a;await _0x3b46ce['wait'](0x3e8);const _0x395451=_0x584f90(_0x28421c['Incoming'],{'contentType':_0x1d89a1[_0x15f871(0x93a)][_0x15f871(0x59b)],'label':_0x227da8,'remoteId':_0x25b5da});this[_0x15f871(0x73f)](_0x395451);const _0x337035=this[_0x15f871(0x6e4)]['get'](_0x395451);if(!_0x337035)throw new _0x227d3a(_0x227d3a['codes'][_0x15f871(0x2cd)],{'label':_0x395451,'ownerId':_0x25b5da});const _0x14d34c=this[_0x15f871(0x8f2)]['mediator'][_0x15f871(0x168)](_0x627cee=>_0x627cee[_0x15f871(0x6f5)]()),_0x119854=this['configs'][_0x15f871(0x849)]['getDistance'](this['configs']['localNode'][_0x15f871(0x7a4)](),_0x25b5da);_0x337035[_0x15f871(0x669)](_0x14d34c[_0x15f871(0x591)](_0x42ef8d=>_0x42ef8d[_0x15f871(0xb00)]()),_0x119854);try{_0x337035['sendRequest'](this['configs'][_0x15f871(0x242)][_0x15f871(0x7a4)](),_0x25b5da,_0x227da8,_0x17e8d0,_0x2631c6),this['setSubscriptionRequestTimeout'](_0x227da8,_0x25b5da,_0x17e8d0,_0x2631c6,_0x395451,_0x337035);}catch(_0x4a4062){this['subscriptionRequestsQueue'][_0x15f871(0x257)]({'label':_0x227da8,'ownerId':_0x25b5da,'trackKinds':_0x17e8d0,'params':_0x2631c6});}}['requestSubscription'](_0x3e46b4,_0x1f4889,_0xa33179,_0x476e84){const _0x6fa43e=_0xab329a;this[_0x6fa43e(0x6e9)]['push']({'label':_0x3e46b4,'ownerId':_0x1f4889,'trackKinds':_0xa33179,'params':_0x476e84});}[_0xab329a(0x920)]({label:_0x1199bd,ownerId:_0x5f5071,trackKinds:_0x4c8024,params:_0x3adcfe,remoteId:_0x49c14d}){const _0x4bf123=_0xab329a;if(!this[_0x4bf123(0x8f2)]['mediator'][_0x4bf123(0x5c0)](_0x5f5071,_0x1199bd))return;if(!this['configs'][_0x4bf123(0x849)][_0x4bf123(0x929)]()[_0x4bf123(0xab2)]())throw new Error(_0x4bf123(0x2d4));if(_0x49c14d){const _0x57f1cb=this[_0x4bf123(0x8f2)][_0x4bf123(0x849)][_0x4bf123(0x962)]()[_0x4bf123(0xb4a)](_0x2cda7f=>_0x2cda7f['getId']()===_0x49c14d),_0x4aa301=_0x57f1cb?.[_0x4bf123(0xab2)]();if(!_0x57f1cb||!_0x4aa301)throw new Error(_0x4bf123(0x2e5));const _0x3cb2f7=this[_0x4bf123(0x8f2)]['mediator'][_0x4bf123(0x962)]()[_0x4bf123(0xb4a)](_0x15260f=>_0x15260f[_0x4bf123(0x7a4)]()===_0x5f5071),_0x57ab54=_0x3cb2f7?.[_0x4bf123(0xab2)]();if(!_0x3cb2f7||!_0x57ab54)throw new Error(_0x4bf123(0x339));const _0x4294b2=this['chosenAnswers'][_0x4bf123(0x153)](_0x1199bd);if(_0x4294b2){const _0x41b938=this[_0x4bf123(0x8f2)][_0x4bf123(0x849)][_0x4bf123(0x962)]()['find'](_0x1b0e24=>_0x1b0e24['getId']()===_0x4294b2['nodeId']),_0x51f05a=_0x41b938?.[_0x4bf123(0xab2)]();if(!_0x41b938||!_0x51f05a)throw new Error('Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank');if(Math['abs'](_0x51f05a-_0x57ab54)<Math[_0x4bf123(0x221)](_0x4aa301-_0x57ab54))return;}}const _0x2e1343=this[_0x4bf123(0x8f2)][_0x4bf123(0x849)]['getConnections'](_0x1bb7ca=>_0x1bb7ca[_0x4bf123(0x6f5)]()&&(!_0x49c14d||_0x1bb7ca['getRemoteId']()===_0x49c14d));if(!_0x2e1343[_0x4bf123(0x4f0)]||0x0===_0x2e1343[_0x4bf123(0x4f0)])throw new Error(_0x4bf123(0xa3f));const _0x4c1a2a=this[_0x4bf123(0x8f2)][_0x4bf123(0x849)]['getDistance'](this[_0x4bf123(0x8f2)]['localNode'][_0x4bf123(0x7a4)](),_0x5f5071),_0x47b465=_0x584f90(_0x28421c['Incoming'],{'contentType':_0x1d89a1[_0x4bf123(0x93a)]['Media'],'label':_0x1199bd,'remoteId':_0x5f5071});if(this[_0x4bf123(0x6e4)][_0x4bf123(0x727)](_0x47b465)){if(_0x49c14d)throw new Error(_0x4bf123(0x4a4));const _0x1ab87f=this[_0x4bf123(0x6e4)]['get'](_0x47b465)[_0x4bf123(0x865)]();if(_0x1ab87f[_0x4bf123(0x4f0)]===_0x4c8024[_0x4bf123(0x4f0)]&&_0x1ab87f[_0x4bf123(0x42d)](_0x1beaf=>_0x4c8024['includes'](_0x1beaf)))return;this[_0x4bf123(0x8f2)][_0x4bf123(0x849)]['unregisterSystemSource'](this['subscriptionRequests'][_0x4bf123(0x153)](_0x47b465)),this[_0x4bf123(0x6e4)][_0x4bf123(0x425)](_0x47b465),_0x4c8024=Array[_0x4bf123(0x61d)](new Set(_0x4c8024[_0x4bf123(0x743)](_0x1ab87f))),this[_0x4bf123(0x73f)](_0x47b465);}const _0x603ca5=new _0x5c4391(_0x2e1343[_0x4bf123(0x591)](_0x434dd3=>_0x434dd3[_0x4bf123(0xb00)]()),_0x4c1a2a,this[_0x4bf123(0x854)],_0x4c8024);this[_0x4bf123(0x8f2)][_0x4bf123(0x849)][_0x4bf123(0x4cc)](_0x603ca5),this['subscriptionRequests'][_0x4bf123(0x4d1)](_0x47b465,_0x603ca5),_0x603ca5['sendRequest'](this['configs'][_0x4bf123(0x242)][_0x4bf123(0x7a4)](),_0x5f5071,_0x1199bd,_0x4c8024,_0x3adcfe),this[_0x4bf123(0x45d)](_0x1199bd,_0x5f5071,_0x4c8024,_0x3adcfe,_0x47b465,_0x603ca5);}[_0xab329a(0x73f)](_0x4fc4ee){const _0x807a0f=_0xab329a;this[_0x807a0f(0x82b)][_0x807a0f(0x727)](_0x4fc4ee)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x807a0f(0x153)](_0x4fc4ee)),this[_0x807a0f(0x82b)]['delete'](_0x4fc4ee));}['setSubscriptionRequestTimeout'](_0x234a68,_0x3b7414,_0x41a7db,_0x54f830,_0x35b358,_0x29ca05){const _0x55b354=_0xab329a;this['clearSubscriptionRequestTimeout'](_0x35b358),this[_0x55b354(0x82b)][_0x55b354(0x4d1)](_0x35b358,setTimeout(()=>{const _0x6374be=_0x55b354;this['subscriptionRequestTimeouts']['delete'](_0x35b358);try{const _0x2bb1f7=_0x29ca05[_0x6374be(0x6ac)]();this[_0x6374be(0x94e)](_0x2bb1f7,_0x3b7414,_0x234a68,_0x35b358,_0x41a7db);}catch(_0x255370){this['handleNoAnswer'](_0x234a68,_0x3b7414,_0x41a7db,_0x54f830);}},0x7d0));}[_0xab329a(0xa2f)](_0x4ae6b6,_0x3b913d,_0x3c8d80,_0x118dd5,_0x4f7d71){const _0x38bd48=_0xab329a,{subscriptionLabel:_0xa56711}=this['getSubscriptionLabel'](_0x3b913d,_0x118dd5),_0x4bd20e=this['getMediaSubscription'](_0xa56711),_0x1cbbb1=_0x4bd20e?.[_0x38bd48(0x883)];_0x4bd20e&&(_0x4bd20e[_0x38bd48(0x3c8)](_0x118dd5,0x0),this[_0x38bd48(0xacf)](_0x3c8d80,_0x1d89a1[_0x38bd48(0x93a)][_0x38bd48(0x59b)],_0x4ae6b6)),this[_0x38bd48(0x972)](_0x3b913d,_0x118dd5,_0x4f7d71,_0x1cbbb1);}[_0xab329a(0x351)](_0x194185){const _0x789e7=_0xab329a,_0x4a280f=this[_0x789e7(0x65e)][_0x789e7(0xb3e)][_0x789e7(0x153)](_0x194185);if(_0x4a280f){if(!(_0x4a280f instanceof _0x34e3eb))throw new _0x227d3a(_0x227d3a[_0x789e7(0x821)][_0x789e7(0x7bb)],{'label':_0x194185,'subscription':_0x4a280f});return _0x4a280f;}}[_0xab329a(0xad9)](_0x5203c1,_0x3a1be0){const _0x5b2bd3=_0xab329a,_0x3ca458=this[_0x5b2bd3(0x829)](_0x5203c1,_0x3a1be0);return{'parts':_0x3ca458,'subscriptionLabel':_0x584f90(_0x28421c[_0x5b2bd3(0xa16)],_0x3ca458)};}[_0xab329a(0x829)](_0x225cfd,_0x1781e6){const _0x1b8a23=_0xab329a,_0x26811e=this[_0x1b8a23(0x8f2)]['mediator'][_0x1b8a23(0x5c0)](_0x1781e6,_0x225cfd),_0x385549=_0x26811e[_0x1b8a23(0x796)]();if(!_0x385549)throw new _0x227d3a(_0x227d3a[_0x1b8a23(0x821)]['RemoteMediaStreamMissingProviderId'],{'label':_0x225cfd,'streamId':_0x26811e[_0x1b8a23(0xb50)](),'ownerId':_0x1781e6,'localId':this[_0x1b8a23(0x8f2)][_0x1b8a23(0x242)]['getId']()});return{'contentType':_0x1d89a1['ContentType']['Media'],'label':_0x26811e[_0x1b8a23(0xb50)](),'remoteId':_0x385549};}['cleanOldSubscription'](_0x1d76b8,_0x2eae6a,_0x1cf606,_0x7f5ea3){const _0x2d8829=_0xab329a,_0x323515=_0x7f5ea3['getProviderId']();if(_0x323515&&_0x323515!==_0x1d76b8[_0x2d8829(0x1c9)]){const {parts:_0x14f9ff,subscriptionLabel:_0x524757}=this['getSubscriptionLabel'](_0x1cf606,_0x2eae6a),_0x55f33a=this['getMediaSubscription'](_0x524757);_0x55f33a&&(_0x55f33a[_0x2d8829(0x3c8)](_0x2eae6a,0x0),this[_0x2d8829(0xacf)](_0x14f9ff[_0x2d8829(0x4b1)],_0x14f9ff[_0x2d8829(0x9e9)],_0x14f9ff[_0x2d8829(0x62c)]));}}}class _0x14e89b{[_0xab329a(0x8f2)];[_0xab329a(0xb10)];[_0xab329a(0x65e)];constructor(_0x7259c5,_0xe34239){const _0x3ebed0=_0xab329a;this[_0x3ebed0(0x8f2)]=_0x7259c5,this[_0x3ebed0(0xb10)]=_0xe34239,this[_0x3ebed0(0x65e)]=new _0x3278e8(({source:_0x3e2b1b,destination:_0x112ad1})=>_0x3fffa9(_0x3e2b1b,_0x112ad1));}[_0xab329a(0x553)](_0x3a944b,_0x1b97cf){const _0x210666=_0xab329a,_0xf898d2={'source':_0x3a944b,'destination':_0x1b97cf};this[_0x210666(0x65e)][_0x210666(0x553)](_0x28421c[_0x210666(0x3a9)],_0xf898d2);}[_0xab329a(0xacf)](_0x665358,_0x19e0dd,_0xb5c71c=''){const _0x4530c4=_0xab329a,_0x839e1e={'contentType':_0x19e0dd,'label':_0x665358,'remoteId':_0xb5c71c};this[_0x4530c4(0x65e)]['removeSubscription'](_0x839e1e,_0x28421c['Outgoing']);}['handleSubscriptionSubscribeMediaStream'](_0x51a09a,_0x5dbe32){const _0x1cedd2=_0xab329a;let _0x549ccd;_0x549ccd=_0x5dbe32[_0x1cedd2(0x488)]!==this[_0x1cedd2(0x8f2)][_0x1cedd2(0x242)][_0x1cedd2(0x7a4)]()?this['configs'][_0x1cedd2(0x849)][_0x1cedd2(0x5c0)](_0x5dbe32[_0x1cedd2(0x488)],_0x5dbe32[_0x1cedd2(0x4b1)]):this[_0x1cedd2(0x8f2)][_0x1cedd2(0x849)][_0x1cedd2(0x325)](_0x5dbe32[_0x1cedd2(0x4b1)]);const _0x38aeb0=_0x584f90(_0x28421c[_0x1cedd2(0x3a9)],{'contentType':_0x1d89a1[_0x1cedd2(0x93a)][_0x1cedd2(0x59b)],'label':_0x549ccd[_0x1cedd2(0xab3)](),'remoteId':_0x51a09a}),_0x51e74f=this[_0x1cedd2(0x8cc)]();if(!this[_0x1cedd2(0x65e)][_0x1cedd2(0xb3e)][_0x1cedd2(0x727)](_0x38aeb0)&&_0x51e74f>=this[_0x1cedd2(0xb10)])return{'type':_0x504b4d[_0x1cedd2(0x452)],'ownerId':_0x5dbe32[_0x1cedd2(0x488)],'label':_0x5dbe32[_0x1cedd2(0x4b1)],'streamId':_0x549ccd[_0x1cedd2(0xab3)](),'trackKinds':_0x5dbe32[_0x1cedd2(0x263)],'params':_0x5dbe32['params']};_0x549ccd instanceof _0x56ceb0&&!_0x549ccd[_0x1cedd2(0x3b6)](_0x5dbe32[_0x1cedd2(0x263)])&&_0x549ccd[_0x1cedd2(0x94e)](_0x5dbe32[_0x1cedd2(0x883)]),this['maps']['subscriptions'][_0x1cedd2(0x727)](_0x38aeb0)||this['createSubscription'](_0x549ccd[_0x1cedd2(0x9b1)](_0x51a09a),this[_0x1cedd2(0x8f2)]['mediator'][_0x1cedd2(0x19b)](_0x51a09a));}['handleSubscriptionUnsubscribeMediaStream'](_0x480bde,{label:_0x5dfe8d,ownerId:_0x3c388b,remainingTracks:_0x5b2cde}){const _0x28e5cd=_0xab329a;if(_0x5b2cde>0x0)return;let _0x543b7b;_0x543b7b=_0x3c388b!==this[_0x28e5cd(0x8f2)][_0x28e5cd(0x242)][_0x28e5cd(0x7a4)]()?this[_0x28e5cd(0x8f2)][_0x28e5cd(0x849)]['getRemoteMediaStream'](_0x3c388b,_0x5dfe8d):this[_0x28e5cd(0x8f2)][_0x28e5cd(0x849)]['getLocalMediaStream'](_0x5dfe8d);const _0x6c19a9=_0x543b7b[_0x28e5cd(0xab3)](),_0x3a00d2=_0x1d89a1['ContentType'][_0x28e5cd(0x59b)];this[_0x28e5cd(0xacf)](_0x6c19a9,_0x3a00d2,_0x480bde);}[_0xab329a(0x162)](_0x4b4b80,{label:_0x1712fa,ownerId:_0x457a35,trackKinds:_0x47b98d}){const _0x549e92=_0xab329a;if(_0x4b4b80!==_0x11eed3)return[];let _0x5d98b8=[];for(const _0x15efff of this['maps'][_0x549e92(0xb3e)]){const {source:_0xc00013,destination:_0x10c149}=_0x15efff[0x1];_0xc00013[_0x549e92(0xa52)]()===_0x1712fa&&_0xc00013[_0x549e92(0x908)]()===_0x457a35&&_0x5d98b8[_0x549e92(0x257)]({'sourceId':this[_0x549e92(0x8f2)][_0x549e92(0x242)][_0x549e92(0x7a4)](),'destinationIds':[_0x10c149[_0x549e92(0xb00)]()],'messageType':_0x18b589[_0x549e92(0x75a)],'content':{'type':_0x504b4d['MediaStreamUnavailable'],'label':_0x1712fa,'ownerId':_0x457a35,'trackKinds':_0x47b98d}});}return _0x5d98b8;}[_0xab329a(0x760)](_0x258e93,_0x50a5a3){const _0x227e7c=_0xab329a,{label:_0x11ae94,ownerId:_0x8cdcc3,trackKinds:_0x502c15,params:_0x123342}=_0x50a5a3,{hasTracks:_0x5a647c,streamId:_0x253311,hasResolution:_0x2367ee,distance:_0x2f3602,subscriptionLabel:_0x546ca0}=this[_0x227e7c(0x647)](_0x258e93,_0x50a5a3);let _0x3bc3de=this[_0x227e7c(0x8cc)]()<this[_0x227e7c(0xb10)]&&(_0x5a647c||_0x2f3602>-0x1)?_0x504b4d[_0x227e7c(0x6b5)]:_0x504b4d[_0x227e7c(0x226)];const _0x4df1f4=_0x2f3602<0x0?0xa:_0x2f3602;let _0x4faadd=_0x5a647c?_0x2367ee?_0x4df1f4:_0x4df1f4+0x0:_0x4df1f4+0xa;return _0x546ca0&&this[_0x227e7c(0x65e)][_0x227e7c(0xb3e)]['has'](_0x546ca0)&&(_0x5a647c&&(_0x4faadd=0x0),_0x3bc3de=_0x504b4d[_0x227e7c(0x6b5)]),{'type':_0x3bc3de,'cost':_0x4faadd,'distance':_0x2f3602,'label':_0x11ae94,'ownerId':_0x8cdcc3,'streamId':_0x253311,'trackKinds':_0x502c15,'params':_0x123342};}[_0xab329a(0x5c9)](_0x230668){const _0x2e55de=_0xab329a,{label:_0x3185c7,ownerId:_0x26260c}=_0x230668,_0x2f8424=this[_0x2e55de(0x8f2)][_0x2e55de(0x849)][_0x2e55de(0x5c0)](_0x26260c,_0x3185c7);this[_0x2e55de(0x65e)][_0x2e55de(0xb3e)][_0x2e55de(0xad2)](_0x3ae677=>{const _0xdf4f3b=_0x2e55de;if(_0x3ae677[_0xdf4f3b(0x5d1)][_0xdf4f3b(0xb50)]()===_0x2f8424[_0xdf4f3b(0xab3)]()){const _0xcf3b55=_0x3ae677['destination'];this[_0xdf4f3b(0xacf)](_0x2f8424[_0xdf4f3b(0xab3)](),_0x1d89a1[_0xdf4f3b(0x93a)]['Media'],_0xcf3b55['getRemoteId']());}});}[_0xab329a(0x5cb)]({label:_0x529580}){const _0xae6566=_0xab329a,_0xec68d=this[_0xae6566(0x8f2)][_0xae6566(0x849)][_0xae6566(0x325)](_0x529580);this['maps'][_0xae6566(0xb3e)][_0xae6566(0xad2)](_0x3faaeb=>{const _0x5c02a8=_0xae6566;if(_0x3faaeb[_0x5c02a8(0x5d1)][_0x5c02a8(0xb50)]()===_0xec68d[_0x5c02a8(0xab3)]()){const _0x50e295=_0x3faaeb['destination'];this[_0x5c02a8(0xacf)](_0xec68d['getShareableStreamId'](),_0x1d89a1[_0x5c02a8(0x93a)]['Media'],_0x50e295['getRemoteId']());}});}['removeSubscriptionsForNode'](_0x374300){const _0x345da2=_0xab329a;this[_0x345da2(0x65e)]['removeSubscriptionsForNode'](_0x374300);}['close'](){const _0x45acd8=_0xab329a;this[_0x45acd8(0x65e)][_0x45acd8(0xb3e)][_0x45acd8(0xad2)](this[_0x45acd8(0x870)][_0x45acd8(0x5b5)](this));}[_0xab329a(0x870)](_0x355eb2,_0x37c8a6){const _0x3b2673=_0xab329a;this[_0x3b2673(0x65e)]['closeSubscription'](_0x355eb2,_0x37c8a6);}[_0xab329a(0x647)](_0x5900e8,{label:_0xc66533,ownerId:_0x2ddcc1,trackKinds:_0x3e8b9b,params:_0x114d1b}){const _0x22eff8=_0xab329a;if(_0x2ddcc1!==this[_0x22eff8(0x8f2)][_0x22eff8(0x242)]['getId']()){const _0x166f30=this[_0x22eff8(0x8f2)]['mediator'][_0x22eff8(0x5c0)](_0x2ddcc1,_0xc66533);return _0x166f30&&_0x166f30[_0x22eff8(0x796)]()!==_0x5900e8?{'hasTracks':_0x166f30[_0x22eff8(0x76b)](_0x3e8b9b),'hasResolution':this[_0x22eff8(0x734)](_0x166f30['getResolution'](),_0x114d1b),'streamId':_0x166f30[_0x22eff8(0xab3)](),'distance':this[_0x22eff8(0x8f2)]['mediator']['getDistance'](_0x5900e8,_0x2ddcc1),'subscriptionLabel':_0x584f90(_0x28421c[_0x22eff8(0x3a9)],{'contentType':_0x1d89a1[_0x22eff8(0x93a)][_0x22eff8(0x59b)],'label':_0x166f30[_0x22eff8(0xab3)](),'remoteId':_0x5900e8})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x112348=this['configs'][_0x22eff8(0x849)][_0x22eff8(0x325)](_0xc66533);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x112348[_0x22eff8(0xab3)](),'distance':0x0,'subscriptionLabel':_0x584f90(_0x28421c['Outgoing'],{'contentType':_0x1d89a1[_0x22eff8(0x93a)]['Media'],'label':_0x112348[_0x22eff8(0xab3)](),'remoteId':_0x5900e8})};}['getNumberOutgoingSubscriptions'](){const _0x3b4763=_0xab329a;return Array[_0x3b4763(0x61d)](this[_0x3b4763(0x65e)][_0x3b4763(0xb3e)][_0x3b4763(0x41b)]())[_0x3b4763(0x2b3)](([_0x36c5b2,{source:_0x2bfde3}])=>_0x36c5b2[_0x3b4763(0xb20)](_0x28421c[_0x3b4763(0x3a9)])&&_0x2bfde3[_0x3b4763(0x552)]()===_0x1d89a1['ContentType'][_0x3b4763(0x59b)])['length'];}[_0xab329a(0x734)](_0x28f983,_0x4ef8a8){const _0x16b3bb=_0xab329a;if(!_0x4ef8a8||!_0x4ef8a8['video']||_0x16b3bb(0x503)==typeof _0x4ef8a8[_0x16b3bb(0x7e2)]||!_0x4ef8a8['video'][_0x16b3bb(0x844)])return!0x0;const {width:_0x29cb0e,height:_0x2b2a37}=_0x4ef8a8['video'][_0x16b3bb(0x844)];return _0x28f983[_0x16b3bb(0x62b)]>=_0x29cb0e&&_0x28f983[_0x16b3bb(0x1ae)]>=_0x2b2a37;}}class _0x1ce4fd{[_0xab329a(0x8f2)];[_0xab329a(0xb10)];[_0xab329a(0x854)];['systemTopic'];[_0xab329a(0x9c6)];['outgoingManager'];constructor(_0x5220c2,_0x4e7870,_0x56e56e){const _0xef1046=_0xab329a;this[_0xef1046(0x8f2)]=_0x5220c2,this[_0xef1046(0xb10)]=_0x4e7870,this[_0xef1046(0x854)]=_0x56e56e,this[_0xef1046(0x8f2)][_0xef1046(0x849)][_0xef1046(0x4cc)](this),this[_0xef1046(0x9c6)]=new _0x1e3232(this[_0xef1046(0x8f2)],this[_0xef1046(0x854)]),this[_0xef1046(0xa57)]=new _0x14e89b(this[_0xef1046(0x8f2)],this['maxOutgoingSubscriptions']);}[_0xab329a(0x4d7)](_0x559c45){const _0x2d2bcf=_0xab329a;this[_0x2d2bcf(0x2f3)]=_0x559c45;}['unregisterSystemPublisher'](){const _0x3945d5=_0xab329a;delete this[_0x3945d5(0x2f3)];}['close'](){const _0x5d1036=_0xab329a;this[_0x5d1036(0x9c6)][_0x5d1036(0xace)](),this[_0x5d1036(0xa57)][_0x5d1036(0xace)](),this['configs']['mediator'][_0x5d1036(0x460)](this);}['createIncomingSubscription'](_0x4aa6da,_0x2f91cb){this['incomingManager']['createSubscription'](_0x4aa6da,_0x2f91cb);}['createOutgoingSubscription'](_0x5cb9ef,_0x3a0099){const _0x16fca6=_0xab329a;this[_0x16fca6(0xa57)][_0x16fca6(0x553)](_0x5cb9ef,_0x3a0099);}[_0xab329a(0xb38)](_0x26843f,_0x30c555,_0x74424f=''){const _0x49df7c=_0xab329a;this['incomingManager'][_0x49df7c(0xacf)](_0x26843f,_0x30c555,_0x74424f);}[_0xab329a(0x423)](_0x5c431a,_0x24dff8,_0x8f0967=''){const _0x5e1cb9=_0xab329a;try{this['outgoingManager'][_0x5e1cb9(0xacf)](_0x5c431a,_0x24dff8,_0x8f0967);}catch(_0x5b0c34){if(_0x5b0c34 instanceof _0x227d3a&&_0x5b0c34[_0x5e1cb9(0x9ac)]===_0x227d3a[_0x5e1cb9(0x821)][_0x5e1cb9(0x7bb)])return;}}['handleSubscriptionSystemEvents'](_0x4484b6){const _0x1e220d=_0xab329a;switch(_0x4484b6[_0x1e220d(0xa98)][_0x1e220d(0x539)]){case _0x504b4d['SubscribeMediaStream']:this[_0x1e220d(0x3f6)](_0x4484b6[_0x1e220d(0x203)],_0x4484b6['content']);break;case _0x504b4d[_0x1e220d(0x65f)]:this[_0x1e220d(0xa57)][_0x1e220d(0x329)](_0x4484b6['sourceId'],_0x4484b6['content']);break;case _0x504b4d[_0x1e220d(0xa6e)]:this['handleSubscriptionNeedMediaStream'](_0x4484b6[_0x1e220d(0x203)],_0x4484b6[_0x1e220d(0xa98)]);break;case _0x504b4d[_0x1e220d(0x452)]:this[_0x1e220d(0x9c6)][_0x1e220d(0x56a)](_0x4484b6[_0x1e220d(0x203)],_0x4484b6[_0x1e220d(0xa98)]);break;case _0x504b4d['CanProvideMediaStream']:case _0x504b4d[_0x1e220d(0x226)]:this['incomingManager'][_0x1e220d(0x46c)](_0x4484b6[_0x1e220d(0x203)],_0x4484b6[_0x1e220d(0xa98)]);break;case _0x504b4d[_0x1e220d(0x35c)]:this['incomingManager'][_0x1e220d(0x320)](_0x4484b6[_0x1e220d(0x203)],_0x4484b6[_0x1e220d(0xa98)]);}}['handleContentSystemEvents'](_0x1d2e87){const _0x11fa00=_0xab329a;switch(_0x1d2e87['content']['type']){case _0x8a5c45[_0x11fa00(0x3d7)]:this['incomingManager'][_0x11fa00(0x5c9)](_0x1d2e87['content']),this[_0x11fa00(0xa57)][_0x11fa00(0x5c9)](_0x1d2e87['content']);break;case _0x8a5c45[_0x11fa00(0x5c7)]:this[_0x11fa00(0x9c6)][_0x11fa00(0x6fe)](_0x1d2e87[_0x11fa00(0xa98)]);break;case _0x8a5c45[_0x11fa00(0x1eb)]:this[_0x11fa00(0x9c6)][_0x11fa00(0x18c)](_0x1d2e87[_0x11fa00(0xa98)]);break;case _0x8a5c45[_0x11fa00(0x65f)]:this[_0x11fa00(0x162)](_0x1d2e87['sourceId'],_0x1d2e87[_0x11fa00(0xa98)]);break;case _0x8a5c45[_0x11fa00(0x9cf)]:this[_0x11fa00(0xa57)][_0x11fa00(0x5cb)](_0x1d2e87['content']);break;case _0x8a5c45[_0x11fa00(0x87d)]:this['handleCloseContent'](_0x1d2e87[_0x11fa00(0xa98)][_0x11fa00(0x4b1)],_0x1d89a1[_0x11fa00(0x93a)][_0x11fa00(0x999)]);break;case _0x8a5c45['CloseObjectStoreBucket']:this[_0x11fa00(0x431)](_0x1d2e87[_0x11fa00(0xa98)]['label'],_0x1d89a1['ContentType'][_0x11fa00(0x5fe)]);break;case _0x8a5c45[_0x11fa00(0x7c7)]:this['handleCloseContent'](_0x1d2e87[_0x11fa00(0xa98)][_0x11fa00(0x4b1)],_0x1d89a1[_0x11fa00(0x93a)][_0x11fa00(0x5e6)]);break;case _0x8a5c45['CloseKeyValueDatabase']:this[_0x11fa00(0x431)](_0x1d2e87[_0x11fa00(0xa98)]['label'],_0x1d89a1[_0x11fa00(0x93a)][_0x11fa00(0x832)]);break;case _0x8a5c45['CloseVectorDatabase']:this[_0x11fa00(0x431)](_0x1d2e87['content'][_0x11fa00(0x4b1)],_0x1d89a1[_0x11fa00(0x93a)]['VectorDatabase']);break;case _0x8a5c45[_0x11fa00(0xaac)]:this['handleCloseContent'](_0x1d2e87[_0x11fa00(0xa98)][_0x11fa00(0x4b1)],_0x1d89a1['ContentType'][_0x11fa00(0x810)]);break;case _0x8a5c45[_0x11fa00(0xac3)]:case _0x8a5c45['CloseJobWorker']:this[_0x11fa00(0x431)](_0x1d2e87[_0x11fa00(0xa98)][_0x11fa00(0x4b1)],_0x1d89a1[_0x11fa00(0x93a)][_0x11fa00(0xa43)]);break;case _0x8a5c45[_0x11fa00(0x1be)]:this[_0x11fa00(0x9c6)][_0x11fa00(0x93c)](_0x1d2e87[_0x11fa00(0xa98)]);}}[_0xab329a(0x4f7)]({content:_0x197e54}){const _0x5ceb88=_0xab329a;_0x197e54[_0x5ceb88(0x539)]===_0xc8c151[_0x5ceb88(0x960)]&&this[_0x5ceb88(0x5cc)](_0x197e54);}[_0xab329a(0x2f6)](_0x3d62ef){const _0x1bab93=_0xab329a;_0x3d62ef[_0x1bab93(0xa98)][_0x1bab93(0x539)]===_0x4d3e94[_0x1bab93(0x676)]&&this[_0x1bab93(0x9c6)][_0x1bab93(0xafa)](_0x3d62ef[_0x1bab93(0x203)]);}[_0xab329a(0x162)](_0x1d67a2,_0x347eda){const _0x438ef3=_0xab329a;this[_0x438ef3(0x9c6)]['handleContentUnsubscribeMediaStream'](_0x347eda),this['outgoingManager'][_0x438ef3(0x162)](_0x1d67a2,_0x347eda)[_0x438ef3(0xad2)](_0x3c6c8d=>this[_0x438ef3(0x2f3)][_0x438ef3(0x75d)](_0x3c6c8d));}[_0xab329a(0x3f6)](_0x111fbb,_0x51a7fd){const _0x3d80ea=_0xab329a,_0x208298=this[_0x3d80ea(0xa57)][_0x3d80ea(0x3f6)](_0x111fbb,_0x51a7fd);if(_0x208298&&(this[_0x3d80ea(0x2f3)][_0x3d80ea(0x75d)]({'sourceId':this[_0x3d80ea(0x8f2)][_0x3d80ea(0x242)][_0x3d80ea(0x7a4)](),'destinationIds':[_0x111fbb],'messageType':_0x18b589['Subscription'],'content':_0x208298}),_0x208298['type']===_0x504b4d[_0x3d80ea(0x452)]))throw new _0x1c71b9('Restart\x20NeedMediaStream');}[_0xab329a(0x760)](_0x5ea60d,_0x2ceaa8){const _0xf81de9=_0xab329a,_0x20198b=this[_0xf81de9(0xa57)]['handleSubscriptionNeedMediaStream'](_0x5ea60d,_0x2ceaa8);this[_0xf81de9(0x2f3)][_0xf81de9(0x75d)]({'sourceId':this['configs'][_0xf81de9(0x242)][_0xf81de9(0x7a4)](),'destinationIds':[_0x5ea60d],'messageType':_0x18b589['Subscription'],'content':_0x20198b});}[_0xab329a(0x431)](_0x4259ce,_0x38fd57){const _0x86118c=_0xab329a;this['removeIncomingSubscription'](_0x4259ce,_0x38fd57),this[_0x86118c(0x423)](_0x4259ce,_0x38fd57);}['removeSubscriptionsForNode']({id:_0x5453f3}){const _0x271c80=_0xab329a;this[_0x271c80(0x9c6)][_0x271c80(0x5cc)](_0x5453f3),this['outgoingManager'][_0x271c80(0x5cc)](_0x5453f3);}}class _0x3a56ec{[_0xab329a(0x4b1)];[_0xab329a(0x841)]=_0x41f17b();constructor(){const _0x5dee51=_0xab329a;this[_0x5dee51(0x4b1)]=0x0;}[_0xab329a(0xa52)](){return this['label'];}[_0xab329a(0x552)](){const _0x4c19db=_0xab329a;return _0x1d89a1[_0x4c19db(0x93a)][_0x4c19db(0x4af)];}['registerSource'](_0x1fc1ea){const _0x12f7d6=_0xab329a;_0x1fc1ea[_0x12f7d6(0x4d7)](this);}['unregisterSource'](_0x140fa0){const _0x3afd51=_0xab329a;_0x140fa0[_0x3afd51(0x8e3)]();}[_0xab329a(0x75d)](_0x46ba16){const _0x44eeec=_0xab329a;_0x542377['log'](_0x59a34d[_0x44eeec(0xb25)],_0x44eeec(0x8b3),_0x46ba16['sourceId'],_0x46ba16),this['listener'][_0x44eeec(0x75d)]({'topicLabel':this[_0x44eeec(0x4b1)],'contentType':_0x1d89a1[_0x44eeec(0x93a)][_0x44eeec(0x4af)],'uuid':_0x46ba16['uuid']??(0x0,_0x3aba3d['v4'])(),'recipients':_0x46ba16[_0x44eeec(0x75b)]??[],..._0x46ba16});}[_0xab329a(0x94e)](_0x351993){const _0x230db7=_0xab329a;return this[_0x230db7(0x841)][_0x230db7(0x94e)](_0x351993);}}class _0x12e11f{[_0xab329a(0x438)];[_0xab329a(0x1db)]=[];['maxLayer'];['remoteNodes']=new Map();['nodeUpdate']=_0x41f17b();constructor(_0x167444){const _0x266dd0=_0xab329a;this['options']=_0x167444,this['maxLayer']=(this[_0x266dd0(0x438)][_0x266dd0(0x495)]-0x2*this[_0x266dd0(0x438)][_0x266dd0(0x5fa)])/0x2,this[_0x266dd0(0x1db)][_0x266dd0(0x257)]({'start':0x1,'end':this[_0x266dd0(0x6a7)](0x1,0x1)-0x1});for(let _0x4ea939=0x0;_0x4ea939<this[_0x266dd0(0x6f1)];++_0x4ea939)this[_0x266dd0(0x1db)][_0x266dd0(0x257)]({'start':this[_0x266dd0(0x6a7)](0x1,_0x4ea939+0x1),'end':this[_0x266dd0(0x6a7)](0x1,_0x4ea939+0x2)-0x1});}[_0xab329a(0x6a7)](_0x11a6ae,_0x18cc7f=0x1){const _0x49a5bc=_0xab329a;let _0x113527=this['options'][_0x49a5bc(0x854)]-this['options'][_0x49a5bc(0x5fa)],_0x19147d=0x1;for(let _0x54a771=0x1;_0x54a771<_0x18cc7f;++_0x54a771)_0x113527*=this['options'][_0x49a5bc(0x854)]-this['options'][_0x49a5bc(0x5fa)]-_0x54a771,_0x19147d*=this[_0x49a5bc(0x438)][_0x49a5bc(0x854)]-this[_0x49a5bc(0x438)][_0x49a5bc(0x5fa)]-_0x54a771+0x1;return _0x113527*this[_0x49a5bc(0x438)][_0x49a5bc(0x5fa)]+_0x11a6ae-_0x19147d;}[_0xab329a(0x31a)](_0x28073f){const _0x5cb3b2=_0xab329a;let _0x530732=0x0;for(;this[_0x5cb3b2(0x1db)][_0x530732][_0x5cb3b2(0x454)]<_0x28073f;)_0x530732+=0x1;return _0x530732;}[_0xab329a(0x3c5)](){const _0x6782e9=_0xab329a;return this[_0x6782e9(0x438)]['minConnections'];}[_0xab329a(0xaa6)](){const _0x4d3c59=_0xab329a;return this[_0x4d3c59(0x438)]['maxConnections'];}[_0xab329a(0x971)](){const _0x50e408=_0xab329a;return this[_0x50e408(0x438)][_0x50e408(0x854)];}[_0xab329a(0x962)](){const _0x1a6a3e=_0xab329a;return this[_0x1a6a3e(0x87e)];}[_0xab329a(0x5c1)](_0x540279,_0x416827){const _0x5c8916=_0xab329a;this[_0x5c8916(0x87e)][_0x5c8916(0x4d1)](_0x540279,_0x416827),this['nodeUpdate'][_0x5c8916(0x75d)]();}['deleteRemoteNode'](_0x4742b3){const _0x1ddac7=_0xab329a;this[_0x1ddac7(0x87e)][_0x1ddac7(0x425)](_0x4742b3),this[_0x1ddac7(0x71f)]['publish']();}[_0xab329a(0x67b)](_0x40423b){const _0x52e3e6=_0xab329a;return this[_0x52e3e6(0x87e)][_0x52e3e6(0x727)](_0x40423b);}[_0xab329a(0x8c8)](_0x160bb1){const _0x4668a=_0xab329a;return this[_0x4668a(0x87e)][_0x4668a(0x153)](_0x160bb1);}[_0xab329a(0x481)](_0x34a065,_0x2f858a){const _0x2354d4=_0xab329a,_0x545aef=this[_0x2354d4(0x8c8)](_0x2f858a)?.[_0x2354d4(0xab2)]()??0x0;return _0x34a065['map'](_0x45d8a5=>this[_0x2354d4(0x8c8)](_0x45d8a5))[_0x2354d4(0x2b3)](_0xb90ed8=>void 0x0!==_0xb90ed8)[_0x2354d4(0x32a)]((_0x907876,_0x97b450)=>Math[_0x2354d4(0x221)](_0x545aef-(_0x907876&&_0x907876[_0x2354d4(0xab2)]()||0x1/0x0))-Math['abs'](_0x545aef-(_0x97b450&&_0x97b450[_0x2354d4(0xab2)]()||0x1/0x0)))[_0x2354d4(0x591)](_0x4dfc6c=>_0x4dfc6c[_0x2354d4(0x7a4)]());}['onNodeUpdate'](_0x28c046){const _0x4ca3c4=_0xab329a;return this[_0x4ca3c4(0x71f)][_0x4ca3c4(0x94e)](_0x28c046);}}class _0x37d101{[_0xab329a(0x3e1)];[_0xab329a(0x48a)];[_0xab329a(0x7eb)];[_0xab329a(0x8f5)];[_0xab329a(0x438)];[_0xab329a(0x8f2)];[_0xab329a(0x273)];[_0xab329a(0xabb)];['connectionManager'];[_0xab329a(0x3ab)];[_0xab329a(0x59c)];['detectionManager'];[_0xab329a(0xa20)];[_0xab329a(0x8f7)];[_0xab329a(0x8af)];[_0xab329a(0x2f3)]=new _0x3a56ec();['systemTopicUnsubscribe'];[_0xab329a(0x242)];constructor(_0x3b658a,_0x4c3d17,_0x3d20f6,_0xfead36,_0x3afd14,_0x3719df,_0x1dac77){const _0x4855ef=_0xab329a;switch(this[_0x4855ef(0x3e1)]=_0x3b658a,this[_0x4855ef(0x48a)]=_0x4c3d17,this[_0x4855ef(0x7eb)]=_0x3d20f6,this[_0x4855ef(0x8f5)]=_0xfead36,this[_0x4855ef(0x438)]=_0x3afd14,this['configs']=_0x3719df,this[_0x4855ef(0x273)]=_0x1dac77,_0x3d20f6['type']){case _0x1d89a1[_0x4855ef(0x21e)][_0x4855ef(0x373)]:this[_0x4855ef(0x242)]=new _0x4c1e81(_0x3d20f6[_0x4855ef(0x7a4)](),_0x3d20f6[_0x4855ef(0x7e7)](),_0x3d20f6[_0x4855ef(0xb42)]());break;case _0x1d89a1[_0x4855ef(0x21e)]['Agent']:default:this[_0x4855ef(0x242)]=new _0x4e2035(_0x3d20f6['getId']());}const _0x4bbb47=this[_0x4855ef(0xa25)]();this[_0x4855ef(0x8af)]=new _0x12e11f(this['options']),this['contentManager']=new _0x489390(_0x4bbb47,this[_0x4855ef(0x438)]),this[_0x4855ef(0x2fc)]=new _0x54ef21(_0x4bbb47,this[_0x4855ef(0x8f5)],this['graphService'],this[_0x4855ef(0x8f2)][_0x4855ef(0x90f)],this['options']),this[_0x4855ef(0x3ab)]=new _0x1ce4fd(_0x4bbb47,this[_0x4855ef(0x438)][_0x4855ef(0xb10)],this[_0x4855ef(0x8af)]['getMaxDistance']()),this['statsManager']=new _0x774e6c(_0x4bbb47),this['detectionManager']=new _0x3e6510(_0x4bbb47),this[_0x4855ef(0xa20)]=new _0x1e104e(_0x4bbb47),this[_0x4855ef(0x8f7)]=new _0x122927(_0x4bbb47,this[_0x4855ef(0x8af)]),this[_0x4855ef(0xad6)]=this[_0x4855ef(0x9af)]();}[_0xab329a(0x996)](){const _0x18be88=_0xab329a,_0x2afcde=this[_0x18be88(0xa25)]();this[_0x18be88(0x2fc)]=new _0x54ef21(_0x2afcde,this[_0x18be88(0x8f5)],this[_0x18be88(0x8af)],this[_0x18be88(0x8f2)]['iceServers'],this[_0x18be88(0x438)]),this[_0x18be88(0x3ab)]=new _0x1ce4fd(_0x2afcde,this['options'][_0x18be88(0xb10)],this[_0x18be88(0x8af)][_0x18be88(0x971)]()),this[_0x18be88(0x59c)]=new _0x774e6c(_0x2afcde),this[_0x18be88(0x18d)]=new _0x3e6510(_0x2afcde),this[_0x18be88(0xa20)]=new _0x1e104e(_0x2afcde),this['nodeManager']=new _0x122927(_0x2afcde,this[_0x18be88(0x8af)]);const _0x38aabb=this['connectionManager'][_0x18be88(0x3c7)]();this[_0x18be88(0xabb)][_0x18be88(0x301)]()[_0x18be88(0xad2)](_0x50dc5a=>{const _0x3ee798=_0x18be88;this[_0x3ee798(0x3ab)]['createOutgoingSubscription'](_0x50dc5a,_0x38aabb),this['subscriptionManager'][_0x3ee798(0x416)](_0x38aabb,_0x50dc5a),_0x50dc5a[_0x3ee798(0x669)]();}),this[_0x18be88(0xabb)][_0x18be88(0x970)]()[_0x18be88(0xad2)](_0x1ec777=>{const _0x36c9d4=_0x18be88;this[_0x36c9d4(0x3ab)]['createOutgoingSubscription'](_0x1ec777,_0x38aabb),this[_0x36c9d4(0x3ab)][_0x36c9d4(0x416)](_0x38aabb,_0x1ec777),_0x1ec777[_0x36c9d4(0x669)](),_0x1ec777[_0x36c9d4(0x4ca)]();}),this[_0x18be88(0xabb)][_0x18be88(0x50a)]()[_0x18be88(0xad2)](_0x3a5bda=>{const _0x51c1cb=_0x18be88;this[_0x51c1cb(0x3ab)][_0x51c1cb(0x97f)](_0x3a5bda,_0x38aabb),this[_0x51c1cb(0x3ab)][_0x51c1cb(0x416)](_0x38aabb,_0x3a5bda),_0x3a5bda[_0x51c1cb(0x669)](),this[_0x51c1cb(0x7e5)](_0x3a5bda);}),this[_0x18be88(0xabb)][_0x18be88(0xb09)]()[_0x18be88(0xad2)](_0x16a05d=>{const _0x5edbee=_0x18be88;this['subscriptionManager'][_0x5edbee(0x97f)](_0x16a05d,_0x38aabb),this[_0x5edbee(0x3ab)][_0x5edbee(0x416)](_0x38aabb,_0x16a05d),_0x16a05d[_0x5edbee(0x669)]();}),this[_0x18be88(0xabb)][_0x18be88(0x769)]()[_0x18be88(0xad2)](_0x2938e6=>{const _0x5256c2=_0x18be88;this['subscriptionManager']['createOutgoingSubscription'](_0x2938e6,_0x38aabb),this[_0x5256c2(0x3ab)][_0x5256c2(0x416)](_0x38aabb,_0x2938e6),_0x2938e6[_0x5256c2(0x669)]();}),this[_0x18be88(0xabb)]['getVectorDatabases']()[_0x18be88(0xad2)](_0x1a1760=>{const _0xcf8909=_0x18be88;this[_0xcf8909(0x3ab)][_0xcf8909(0x97f)](_0x1a1760,_0x38aabb),this[_0xcf8909(0x3ab)][_0xcf8909(0x416)](_0x38aabb,_0x1a1760),_0x1a1760[_0xcf8909(0x669)]();}),this[_0x18be88(0xabb)][_0x18be88(0x9b3)]()['forEach'](_0x19d6d7=>{const _0x30a4a1=_0x18be88;this['subscriptionManager']['createOutgoingSubscription'](_0x19d6d7,_0x38aabb),this['subscriptionManager']['createIncomingSubscription'](_0x38aabb,_0x19d6d7),_0x19d6d7[_0x30a4a1(0x669)]();}),this[_0x18be88(0xad6)]=this[_0x18be88(0x9af)]();}[_0xab329a(0x4cc)](_0x3a4a0f){const _0x469c46=_0xab329a;try{this[_0x469c46(0x2f3)][_0x469c46(0x919)](_0x3a4a0f);}catch(_0x1b8ba0){this['handleError'](_0x1b8ba0,{});}}['unregisterSystemSource'](_0x8c82fc){const _0x528fe6=_0xab329a;try{this[_0x528fe6(0x2f3)][_0x528fe6(0x6d0)](_0x8c82fc);}catch(_0x51afeb){this[_0x528fe6(0x22a)](_0x51afeb,{});}}[_0xab329a(0x969)](_0x27894b,_0x343e37){const _0x30a4ac=_0xab329a;return this[_0x30a4ac(0x2fc)][_0x30a4ac(0x969)](_0x27894b,_0x343e37);}[_0xab329a(0x19b)](_0x26c813){const _0x3d4732=_0xab329a;try{return this[_0x3d4732(0x2fc)][_0x3d4732(0x19b)](_0x26c813);}catch(_0xff0469){throw this['handleError'](_0xff0469,{});}}[_0xab329a(0x168)](_0x859021){const _0x2d3d5f=_0xab329a;try{return this[_0x2d3d5f(0x2fc)]['getConnections'](_0x859021);}catch(_0x11c554){throw this[_0x2d3d5f(0x22a)](_0x11c554,{});}}[_0xab329a(0x5c0)](_0x1abee5,_0x4e27d2){const _0x34ef17=_0xab329a;try{return this[_0x34ef17(0xabb)]['getRemoteMediaStreams'](_0x3e5d53=>_0x3e5d53[_0x34ef17(0x908)]()===_0x1abee5&&_0x3e5d53[_0x34ef17(0xa52)]()===_0x4e27d2)[0x0];}catch(_0x2f05e9){throw this[_0x34ef17(0x22a)](_0x2f05e9,{});}}[_0xab329a(0x325)](_0x283860){const _0x3317f6=_0xab329a;try{return this[_0x3317f6(0xabb)][_0x3317f6(0x8bf)](_0xadadce=>_0xadadce['getLabel']()===_0x283860)[0x0];}catch(_0x50d506){throw this[_0x3317f6(0x22a)](_0x50d506,{});}}[_0xab329a(0x1af)]=(..._0xae89bf)=>{try{return this['clusterEventEmitter']['emit'](..._0xae89bf);}catch(_0x4fc3b7){throw this['handleError'](_0x4fc3b7,{});}};[_0xab329a(0x630)](_0x2e65bd){const _0x2cc5eb=_0xab329a;try{this['statsManager'][_0x2cc5eb(0x7a7)](_0x2e65bd);}catch(_0xb3791e){throw this['handleError'](_0xb3791e,{});}}[_0xab329a(0x543)](_0x3edb56){const _0x4cd95d=_0xab329a;try{this['statsManager'][_0x4cd95d(0x8bd)](_0x3edb56);}catch(_0x4d67c1){throw this['handleError'](_0x4d67c1,{});}}[_0xab329a(0x944)](_0x1d850c){return this['connectionManager']['collectStats'](_0x1d850c);}async[_0xab329a(0x7db)](){const _0x5a5850=_0xab329a;try{await this[_0x5a5850(0x2fc)]['initialize']();const _0x4fced5=await this['nodeManager']['discover']();for(const _0x219059 of _0x4fced5)this[_0x5a5850(0x2fc)][_0x5a5850(0x969)](_0x219059);}catch(_0x4ea00e){throw this[_0x5a5850(0x22a)](_0x4ea00e,{});}}[_0xab329a(0x14b)](_0x3ec6ec){const _0x2188b7=_0xab329a;this['localNode'][_0x2188b7(0x539)]===_0x1d89a1['NodeType']['User']&&(this['localNode'][_0x2188b7(0xa17)](_0x3ec6ec[_0x2188b7(0xb42)]()),this[_0x2188b7(0x242)]['setDisplayName'](_0x3ec6ec['getDisplayName']()));}[_0xab329a(0xace)]({force:_0xf69f7b=!0x1},_0x27b017=!0x1){const _0xac1ef1=_0xab329a;if(_0x542377[_0xac1ef1(0x396)](_0xac1ef1(0x9f6),{'clusterId':this[_0xac1ef1(0x48a)],'nodeId':this[_0xac1ef1(0x242)][_0xac1ef1(0x7a4)](),'nodeType':this[_0xac1ef1(0x242)][_0xac1ef1(0x539)]}),!_0xf69f7b&&this[_0xac1ef1(0x2fc)][_0xac1ef1(0x923)]())throw new _0x1695e5(_0x91d017['ConnectionBufferNotEmpty'],_0xac1ef1(0x29d));_0x542377[_0xac1ef1(0x2ba)](),this[_0xac1ef1(0xad6)](),this[_0xac1ef1(0xa20)]['close'](),this[_0xac1ef1(0x18d)]['close'](),this['statsManager'][_0xac1ef1(0xace)](),this['subscriptionManager'][_0xac1ef1(0xace)](),this[_0xac1ef1(0x2fc)][_0xac1ef1(0xace)](),this['contentManager'][_0xac1ef1(0xace)](_0x27b017),this[_0xac1ef1(0x8f7)][_0xac1ef1(0xace)]();}[_0xab329a(0x38a)](_0x318d4a){const _0x5dedeb=_0xab329a;try{const _0x38ea2b=this[_0x5dedeb(0xabb)]['createPubSubTopic'](_0x318d4a),_0x5b1e29=this[_0x5dedeb(0x2fc)][_0x5dedeb(0x3c7)]();return this[_0x5dedeb(0x3ab)][_0x5dedeb(0x97f)](_0x38ea2b,_0x5b1e29),this[_0x5dedeb(0x3ab)][_0x5dedeb(0x416)](_0x5b1e29,_0x38ea2b),_0x38ea2b;}catch(_0x2a9760){throw this[_0x5dedeb(0x22a)](_0x2a9760,{});}}async['openObjectStoreBucket'](_0x4a8662,_0x1e920d){const _0x194ae9=_0xab329a;try{const _0x2e152e=this[_0x194ae9(0xabb)][_0x194ae9(0x305)](_0x4a8662,this[_0x194ae9(0x438)][_0x194ae9(0x2bf)],_0x1e920d),_0x185e2d=this[_0x194ae9(0x2fc)]['getConnectionGroup']();return this['subscriptionManager'][_0x194ae9(0x97f)](_0x2e152e,_0x185e2d),this[_0x194ae9(0x3ab)][_0x194ae9(0x416)](_0x185e2d,_0x2e152e),await _0x2e152e[_0x194ae9(0x4ca)](),_0x2e152e;}catch(_0x4c3f09){throw this[_0x194ae9(0x22a)](_0x4c3f09,{});}}async[_0xab329a(0x4c0)](_0x3ddb9f,_0xd9b086){const _0x140e63=_0xab329a;try{if(!this[_0x140e63(0x438)]['externalStorageConnectors'])throw new _0x1695e5(_0x91d017[_0x140e63(0x88f)],'Missing\x20external\x20storage\x20connector');if(!(this[_0x140e63(0x7eb)]instanceof _0x44caf4))throw new _0x1695e5(_0x91d017['NodeInvalidType'],_0x140e63(0x724));const _0x59c4fd=this[_0x140e63(0x438)][_0x140e63(0x71d)][_0x140e63(0x153)](_0xd9b086);if(!_0x59c4fd)throw new _0x1695e5(_0x91d017[_0x140e63(0x88f)],_0x140e63(0x47b));const _0x860dcd=this[_0x140e63(0xabb)][_0x140e63(0x6cf)](_0x3ddb9f,_0x59c4fd),_0x486964=this['connectionManager'][_0x140e63(0x3c7)]();return this['subscriptionManager'][_0x140e63(0x97f)](_0x860dcd,_0x486964),this[_0x140e63(0x3ab)][_0x140e63(0x416)](_0x486964,_0x860dcd),await _0x860dcd[_0x140e63(0x996)](),_0x860dcd;}catch(_0x3432a3){throw this[_0x140e63(0x22a)](_0x3432a3,{});}}async['openKeyValueDatabase'](_0x2092df,_0xe176ca,_0x4d92e0){const _0x5703e6=_0xab329a;try{_0x4d92e0=_0x4d92e0||this[_0x5703e6(0x438)][_0x5703e6(0xa0a)];const _0x202a57=await this[_0x5703e6(0xabb)][_0x5703e6(0x417)](_0x2092df,_0xe176ca,_0x4d92e0),_0x5d97f4=this[_0x5703e6(0x2fc)][_0x5703e6(0x3c7)]();return this[_0x5703e6(0x3ab)]['createOutgoingSubscription'](_0x202a57,_0x5d97f4),this[_0x5703e6(0x3ab)][_0x5703e6(0x416)](_0x5d97f4,_0x202a57),await _0x202a57[_0x5703e6(0x996)](),this['syncKeyValueDatabase'](_0x202a57),_0x202a57;}catch(_0x2e8612){throw this[_0x5703e6(0x22a)](_0x2e8612,{});}}async[_0xab329a(0x4a9)](_0x5dc2f9){const _0x2c5e02=_0xab329a;try{const _0x18aa0f=await this['contentManager'][_0x2c5e02(0x641)](_0x5dc2f9,this['graphService']),_0xf67949=this[_0x2c5e02(0x2fc)][_0x2c5e02(0x3c7)]();return this[_0x2c5e02(0x3ab)][_0x2c5e02(0x97f)](_0x18aa0f,_0xf67949),this['subscriptionManager']['createIncomingSubscription'](_0xf67949,_0x18aa0f),_0x18aa0f[_0x2c5e02(0x996)](),_0x18aa0f;}catch(_0x1c68d6){throw this[_0x2c5e02(0x22a)](_0x1c68d6,{});}}async['openJobWorker'](_0x4e7db3){const _0x455809=_0xab329a;throw new Error(_0x455809(0x231));}async[_0xab329a(0x94d)](_0x4dbb34){const _0x46d038=_0xab329a;try{const _0x2a541a=await this[_0x46d038(0xabb)][_0x46d038(0x350)](_0x4dbb34,this[_0x46d038(0x8af)]),_0x269d9e=this['connectionManager'][_0x46d038(0x3c7)]();return this[_0x46d038(0x3ab)][_0x46d038(0x97f)](_0x2a541a,_0x269d9e),this['subscriptionManager'][_0x46d038(0x416)](_0x269d9e,_0x2a541a),_0x2a541a[_0x46d038(0x996)](),_0x2a541a;}catch(_0xb03025){throw console[_0x46d038(0x28d)](_0xb03025),this[_0x46d038(0x22a)](_0xb03025,{});}}async[_0xab329a(0x4e0)](_0x4e5cdc){const _0x58b078=_0xab329a;try{if(!(this[_0x58b078(0x438)][_0x58b078(0x794)]&&this[_0x58b078(0x438)][_0x58b078(0x3c2)]&&this[_0x58b078(0x438)][_0x58b078(0xa8f)]&&this['options'][_0x58b078(0xa4c)]&&this[_0x58b078(0x438)][_0x58b078(0x545)]))throw new _0x1695e5(_0x91d017['GenerativeAIWorkerMissingConnector'],_0x58b078(0x6bc));if(!this[_0x58b078(0x8f2)][_0x58b078(0xab1)])throw new _0x1695e5(_0x91d017[_0x58b078(0x286)],_0x58b078(0x68c));const _0x268f8a=[];for(const [_0x4e96b4,_0x1263bb]of this[_0x58b078(0x438)]['generativeAIWorkerConnectors']){let _0x6f2978;_0x4e96b4===_0x1d89a1[_0x58b078(0x8d9)]['OpenAI']&&(_0x6f2978=this[_0x58b078(0x8f2)]['openaiApiKey']),_0x4e96b4===_0x1d89a1[_0x58b078(0x8d9)][_0x58b078(0xa6f)]&&(_0x6f2978=this[_0x58b078(0x8f2)][_0x58b078(0x782)]),_0x268f8a[_0x58b078(0x257)](new _0x1263bb(_0x6f2978));}const _0x35ef7b=[];for(const [_0x360eab,_0x37cf37]of this['options'][_0x58b078(0x3c2)]){let _0x4ed06e;_0x360eab===_0x1d89a1['GenerativeAIEngineType'][_0x58b078(0x569)]&&(_0x4ed06e=this[_0x58b078(0x8f2)][_0x58b078(0xab1)]),_0x35ef7b[_0x58b078(0x257)](new _0x37cf37(_0x4ed06e));}const _0x406d20=new this['options'][(_0x58b078(0x2bf))]('crewdle'),_0x2aa7e9=new this[(_0x58b078(0x438))]['documentParserConnector'](),_0x4178cd=new this[(_0x58b078(0x438))][(_0x58b078(0xa4c))](this[_0x58b078(0x8f2)][_0x58b078(0xab1)]),_0x121f76=new this['options']['nlpLibraryConnector']();let _0x1471de,_0x1f25df,_0x43fcc4,_0x49be5b;if(this[_0x58b078(0x438)][_0x58b078(0x826)]){if(!this[_0x58b078(0x8f2)]['searchApiKey'])throw new _0x1695e5(_0x91d017[_0x58b078(0x286)],_0x58b078(0x54a));_0x1471de=new this[(_0x58b078(0x438))][(_0x58b078(0x826))](this[_0x58b078(0x8f2)]['searchApiKey']);}if(this[_0x58b078(0x438)][_0x58b078(0x992)]){if(!this[_0x58b078(0x8f2)][_0x58b078(0x765)])throw new _0x1695e5(_0x91d017[_0x58b078(0x286)],'Missing\x20AI\x20search\x20API\x20key');_0x1f25df=new this[(_0x58b078(0x438))]['aiSearchConnector'](this['configs']['aiSearchApiKey']);}if(this[_0x58b078(0x438)][_0x58b078(0x72a)]&&(_0x43fcc4=new this[(_0x58b078(0x438))][(_0x58b078(0x72a))]()),this[_0x58b078(0x438)]['ragConnectors']){if(!this[_0x58b078(0x8f2)][_0x58b078(0xa94)])throw new _0x1695e5(_0x91d017[_0x58b078(0x286)],'Missing\x20RAG\x20API\x20key');_0x49be5b=new Map();for(const [_0x56f9c0,_0x302ac9]of this['options'][_0x58b078(0x288)])_0x49be5b[_0x58b078(0x4d1)](_0x56f9c0,new _0x302ac9(this[_0x58b078(0x8f2)]['ragApiKey']));}return await this[_0x58b078(0xabb)]['createGenerativeAIContextStandalone'](_0x4e5cdc,_0x268f8a,_0x35ef7b,_0x406d20,_0x2aa7e9,_0x4178cd,_0x121f76,_0x1471de,_0x1f25df,_0x43fcc4,_0x49be5b,this[_0x58b078(0x8f2)][_0x58b078(0xab1)]);}catch(_0x26f40b){throw this[_0x58b078(0x22a)](_0x26f40b,{});}}async[_0xab329a(0x678)](_0x48dfe7){const _0x18b58b=_0xab329a;try{if(!(this['options'][_0x18b58b(0x794)]&&this[_0x18b58b(0x438)][_0x18b58b(0x3c2)]&&this[_0x18b58b(0x438)][_0x18b58b(0xa8f)]&&this[_0x18b58b(0x438)][_0x18b58b(0xa4c)]&&this[_0x18b58b(0x438)][_0x18b58b(0x545)]))throw new _0x1695e5(_0x91d017['GenerativeAIWorkerMissingConnector'],_0x18b58b(0x6bc));if(!(this[_0x18b58b(0x7eb)]instanceof _0x44caf4))throw new _0x1695e5(_0x91d017[_0x18b58b(0x415)],_0x18b58b(0x724));if(!this[_0x18b58b(0x8f2)][_0x18b58b(0xab1)])throw new _0x1695e5(_0x91d017[_0x18b58b(0x286)],_0x18b58b(0x68c));const _0x53f7d3=[];for(const [_0x2c405e,_0x30ffd3]of this[_0x18b58b(0x438)]['generativeAIWorkerConnectors']){let _0x2f94e4;_0x2c405e===_0x1d89a1['GenerativeAIEngineType']['OpenAI']&&(_0x2f94e4=this['configs'][_0x18b58b(0xab1)]),_0x2c405e===_0x1d89a1[_0x18b58b(0x8d9)][_0x18b58b(0xa6f)]&&(_0x2f94e4=this[_0x18b58b(0x8f2)][_0x18b58b(0x782)]),_0x53f7d3[_0x18b58b(0x257)](new _0x30ffd3(_0x2f94e4));}const _0x5dc2b0=[];for(const [_0x3dac82,_0x4b732c]of this[_0x18b58b(0x438)]['generativeAISpeechConnectors']){let _0x38ee0e;_0x3dac82===_0x1d89a1[_0x18b58b(0x8d9)][_0x18b58b(0x569)]&&(_0x38ee0e=this[_0x18b58b(0x8f2)]['openaiApiKey']),_0x5dc2b0[_0x18b58b(0x257)](new _0x4b732c(_0x38ee0e));}const _0x1f8551=new this[(_0x18b58b(0x438))][(_0x18b58b(0x2bf))]('crewdle'),_0x2868e3=new this[(_0x18b58b(0x438))][(_0x18b58b(0xa8f))](),_0x3ce188=new this['options'][(_0x18b58b(0xa4c))](this[_0x18b58b(0x8f2)]['openaiApiKey']),_0x198056=new this[(_0x18b58b(0x438))]['nlpLibraryConnector']();let _0x4d399e,_0x43bb5a,_0x34acce,_0x3db8e3;if(this['options'][_0x18b58b(0x826)]){if(!this[_0x18b58b(0x8f2)][_0x18b58b(0x2b9)])throw new _0x1695e5(_0x91d017[_0x18b58b(0x286)],_0x18b58b(0x54a));_0x4d399e=new this[(_0x18b58b(0x438))][(_0x18b58b(0x826))](this[_0x18b58b(0x8f2)][_0x18b58b(0x2b9)]);}if(this['options'][_0x18b58b(0x992)]){if(!this[_0x18b58b(0x8f2)][_0x18b58b(0x765)])throw new _0x1695e5(_0x91d017[_0x18b58b(0x286)],_0x18b58b(0x504));_0x43bb5a=new this['options'][(_0x18b58b(0x992))](this[_0x18b58b(0x8f2)]['aiSearchApiKey']);}if(this[_0x18b58b(0x438)][_0x18b58b(0x72a)]&&(_0x34acce=new this[(_0x18b58b(0x438))]['queryFileConnector']()),this[_0x18b58b(0x438)]['ragConnectors']){if(!this[_0x18b58b(0x8f2)]['ragApiKey'])throw new _0x1695e5(_0x91d017[_0x18b58b(0x286)],'Missing\x20RAG\x20API\x20key');_0x3db8e3=new Map();for(const [_0x4c7816,_0x174ac9]of this[_0x18b58b(0x438)][_0x18b58b(0x288)])_0x3db8e3[_0x18b58b(0x4d1)](_0x4c7816,new _0x174ac9(this[_0x18b58b(0x8f2)][_0x18b58b(0xa94)]));}const _0x2d2075=await this['contentManager'][_0x18b58b(0xa46)](_0x48dfe7,this[_0x18b58b(0x7eb)],_0x53f7d3,_0x5dc2b0,_0x1f8551,_0x2868e3,_0x3ce188,_0x198056,_0x4d399e,_0x43bb5a,_0x34acce,_0x3db8e3,this[_0x18b58b(0x8f2)]['openaiApiKey']),_0x12da70=this[_0x18b58b(0x2fc)][_0x18b58b(0x3c7)]();this[_0x18b58b(0x3ab)][_0x18b58b(0x97f)](_0x2d2075,_0x12da70),this[_0x18b58b(0x3ab)][_0x18b58b(0x416)](_0x12da70,_0x2d2075);const _0x558603=this['nodeManager'][_0x18b58b(0x91f)]();return await _0x2d2075[_0x18b58b(0x996)](0x0===_0x558603[_0x18b58b(0x4f0)]||void 0x0),_0x2d2075;}catch(_0x40d34d){throw this[_0x18b58b(0x22a)](_0x40d34d,{});}}[_0xab329a(0x383)](_0x170cf4){const _0x185cfe=_0xab329a;try{if(!this[_0x185cfe(0x438)]['graphDatabaseConnector'])throw new _0x1695e5(_0x91d017[_0x185cfe(0x5f1)],_0x185cfe(0x9a9));if(!(this[_0x185cfe(0x7eb)]instanceof _0x44caf4))throw new _0x1695e5(_0x91d017[_0x185cfe(0x415)],_0x185cfe(0x724));const _0x5f295f=this[_0x185cfe(0xabb)][_0x185cfe(0x780)](_0x170cf4,this[_0x185cfe(0x438)]['graphDatabaseConnector']),_0x459182=this[_0x185cfe(0x2fc)][_0x185cfe(0x3c7)]();return this[_0x185cfe(0x3ab)][_0x185cfe(0x97f)](_0x5f295f,_0x459182),this['subscriptionManager']['createIncomingSubscription'](_0x459182,_0x5f295f),_0x5f295f;}catch(_0x56e1a8){throw this['handleError'](_0x56e1a8,{});}}[_0xab329a(0xa60)](_0x2be726){const _0x440718=_0xab329a;try{if(!this[_0x440718(0x438)][_0x440718(0x348)])throw new _0x1695e5(_0x91d017[_0x440718(0x449)],_0x440718(0xa91));if(!(this[_0x440718(0x7eb)]instanceof _0x44caf4))throw new _0x1695e5(_0x91d017[_0x440718(0x415)],_0x440718(0x724));const _0x1da630=this[_0x440718(0xabb)][_0x440718(0x3db)](_0x2be726,this['options'][_0x440718(0x348)]),_0x4876ba=this['connectionManager']['getConnectionGroup']();return this[_0x440718(0x3ab)][_0x440718(0x97f)](_0x1da630,_0x4876ba),this[_0x440718(0x3ab)][_0x440718(0x416)](_0x4876ba,_0x1da630),_0x1da630;}catch(_0x167b52){throw this[_0x440718(0x22a)](_0x167b52,{});}}[_0xab329a(0x301)](_0x265bcc){const _0x415a36=_0xab329a;try{return this['contentManager'][_0x415a36(0x301)](_0x265bcc);}catch(_0x5cb091){throw this[_0x415a36(0x22a)](_0x5cb091,{});}}['getObjectStoreBuckets'](_0x4c2350){const _0x5cb5ef=_0xab329a;try{return this['contentManager'][_0x5cb5ef(0x970)](_0x4c2350);}catch(_0x1cd26f){throw this[_0x5cb5ef(0x22a)](_0x1cd26f,{});}}[_0xab329a(0x68f)](_0x577956){const _0x36cca7=_0xab329a;try{return this[_0x36cca7(0xabb)]['getExternalStorageConnections'](_0x577956);}catch(_0x4873da){throw this[_0x36cca7(0x22a)](_0x4873da,{});}}[_0xab329a(0x50a)](_0x59949a){const _0x27f593=_0xab329a;try{return this[_0x27f593(0xabb)][_0x27f593(0x50a)](_0x59949a);}catch(_0x2380d5){throw this[_0x27f593(0x22a)](_0x2380d5,{});}}[_0xab329a(0xa7c)](_0x41744e){const _0x1ca0eb=_0xab329a;try{return this[_0x1ca0eb(0xabb)][_0x1ca0eb(0xa7c)](_0x41744e);}catch(_0x5afc66){throw this['handleError'](_0x5afc66,{});}}['getGenerativeAIContextsStandalone'](_0x73ea77){const _0x535748=_0xab329a;try{return this[_0x535748(0xabb)][_0x535748(0x766)](_0x73ea77);}catch(_0x2a859f){throw this['handleError'](_0x2a859f,{});}}['getGenerativeAIWorkers'](_0x5c7ad2){const _0x55b2ea=_0xab329a;try{return this['contentManager'][_0x55b2ea(0x953)](_0x5c7ad2);}catch(_0x2ad947){throw this[_0x55b2ea(0x22a)](_0x2ad947,{});}}['getGraphDatabases'](_0x4fd6f3){const _0x324476=_0xab329a;try{return this['contentManager'][_0x324476(0x9b3)](_0x4fd6f3);}catch(_0x56d5f0){throw this['handleError'](_0x56d5f0,{});}}[_0xab329a(0x541)](_0x18e505,_0xa8435d){const _0x142b79=_0xab329a;if(!this['configs'][_0x142b79(0x6b0)][_0x142b79(0xb4e)](_0xe51b23[_0x142b79(0x7c1)]))throw new _0x1695e5(_0x91d017[_0x142b79(0x4ee)],_0x142b79(0x368));try{return this[_0x142b79(0xabb)]['createLocalMediaStream'](_0x18e505,_0xa8435d);}catch(_0x37e5aa){throw this['handleError'](_0x37e5aa,{});}}[_0xab329a(0x69b)](_0x19ad67,_0x1a0f95){const _0x334d78=_0xab329a;if(!this[_0x334d78(0x8f2)][_0x334d78(0x6b0)][_0x334d78(0xb4e)](_0xe51b23['MediaStream']))throw new _0x1695e5(_0x91d017[_0x334d78(0x4ee)],_0x334d78(0x368));try{return this['contentManager']['createLocalDynamicMediaStream'](_0x19ad67,_0x1a0f95);}catch(_0x2abf53){throw this['handleError'](_0x2abf53,{});}}[_0xab329a(0x8bf)](_0x443222){const _0x134f08=_0xab329a;if(!this[_0x134f08(0x8f2)][_0x134f08(0x6b0)][_0x134f08(0xb4e)](_0xe51b23['MediaStream']))throw new _0x1695e5(_0x91d017['FeatureNotEnabled'],_0x134f08(0x368));try{return this[_0x134f08(0xabb)][_0x134f08(0x8bf)](_0x443222);}catch(_0x1eaf97){throw this['handleError'](_0x1eaf97,{});}}[_0xab329a(0x964)](_0x45416f){const _0x53855f=_0xab329a;if(!this['configs'][_0x53855f(0x6b0)][_0x53855f(0xb4e)](_0xe51b23['MediaStream']))throw new _0x1695e5(_0x91d017[_0x53855f(0x4ee)],_0x53855f(0x368));try{return this[_0x53855f(0xabb)][_0x53855f(0x964)](_0x45416f);}catch(_0x545557){throw this['handleError'](_0x545557,{});}}[_0xab329a(0x618)](_0x4f9b40){const _0x2931bd=_0xab329a;try{return this[_0x2931bd(0xabb)]['getVectorDatabases'](_0x4f9b40);}catch(_0x2ba4b7){throw this['handleError'](_0x2ba4b7,{});}}[_0xab329a(0x3e9)](_0x52137b,_0x200704){const _0x4ceb7a=_0xab329a;return this[_0x4ceb7a(0x8f7)][_0x4ceb7a(0x3e9)](_0x52137b,_0x200704);}[_0xab329a(0x929)](){const _0x22ad9a=_0xab329a;return this['nodeManager'][_0x22ad9a(0x929)]();}[_0xab329a(0x962)](_0x2b7e3e){const _0x34fff7=_0xab329a;try{return this[_0x34fff7(0x8f7)][_0x34fff7(0x962)](_0x2b7e3e);}catch(_0x370ff4){throw this[_0x34fff7(0x22a)](_0x370ff4,{});}}[_0xab329a(0x218)](){const _0xceca43=_0xab329a;return this[_0xceca43(0x2fc)]['waitForArrayBufferSize']();}[_0xab329a(0x688)](_0xf74920){const _0x4ad90f=_0xab329a;return this[_0x4ad90f(0x8f7)][_0x4ad90f(0x688)](_0xf74920);}async['handleSystemEvents'](_0x52351c){const _0x4125ae=_0xab329a;try{if(_0x542377[_0x4125ae(0x4ad)](_0x59a34d['Events'],'Orchestrator\x20handleSystemEvents',this['nodeManager'][_0x4125ae(0x183)](),_0x52351c),_0x3d9536(_0x52351c,this['nodeManager'][_0x4125ae(0x183)]()))return void this[_0x4125ae(0x2fc)]['handleOutgoingSystemEvents'](_0x52351c);switch(_0x52351c[_0x4125ae(0x47d)]){case _0x18b589['Content']:this[_0x4125ae(0x59c)]['handleContentSystemEvents'](_0x52351c),this['subscriptionManager']['handleContentSystemEvents'](_0x52351c),this[_0x4125ae(0xabb)][_0x4125ae(0x6a5)](_0x52351c);break;case _0x18b589[_0x4125ae(0x483)]:this[_0x4125ae(0x3ab)][_0x4125ae(0x4f7)](_0x52351c),this[_0x4125ae(0x2fc)][_0x4125ae(0x4f7)](_0x52351c),this[_0x4125ae(0xabb)][_0x4125ae(0x4f7)](_0x52351c),this[_0x4125ae(0x8f7)][_0x4125ae(0x4f7)](_0x52351c);break;case _0x18b589[_0x4125ae(0x5bd)]:this['remediationManager'][_0x4125ae(0x7f2)](_0x52351c);break;case _0x18b589[_0x4125ae(0x387)]:this[_0x4125ae(0xa20)][_0x4125ae(0xa62)](_0x52351c);break;case _0x18b589[_0x4125ae(0x52f)]:this[_0x4125ae(0x18d)][_0x4125ae(0xa1e)](_0x52351c);break;case _0x18b589[_0x4125ae(0x75a)]:_0x52351c[_0x4125ae(0xa98)][_0x4125ae(0x539)]!==_0x504b4d['UnsubscribeMediaStream']?(this[_0x4125ae(0x3ab)][_0x4125ae(0x2ca)](_0x52351c),this[_0x4125ae(0xabb)][_0x4125ae(0x2ca)](_0x52351c)):(this['contentManager']['handleSubscriptionSystemEvents'](_0x52351c),this[_0x4125ae(0x3ab)][_0x4125ae(0x2ca)](_0x52351c));break;case _0x18b589['PeerConnection']:await this[_0x4125ae(0x2fc)][_0x4125ae(0x2f6)](_0x52351c),this[_0x4125ae(0x59c)][_0x4125ae(0x2f6)](_0x52351c),this[_0x4125ae(0x8f7)]['handlePeerConnectionSystemEvents'](_0x52351c),this[_0x4125ae(0x3ab)]['handlePeerConnectionSystemEvents'](_0x52351c);}}catch(_0x5e1499){throw _0x542377[_0x4125ae(0x7b7)](_0x4125ae(0x753),_0x5e1499),this[_0x4125ae(0x22a)](_0x5e1499,{});}}[_0xab329a(0x22a)](_0x5504ae,_0x303d13){const _0x6e2642=_0xab329a;if(!(_0x5504ae instanceof _0x1c71b9)){if(_0x5504ae instanceof _0x1695e5)throw _0x5504ae;if(!(_0x5504ae instanceof Error))throw new _0x1695e5(_0x91d017[_0x6e2642(0x1f9)],_0x6e2642(0xa28)+_0x5504ae);if(!(_0x5504ae instanceof _0x227d3a))throw new _0x1695e5(_0x91d017[_0x6e2642(0x1f9)],_0x6e2642(0x36a)+_0x5504ae[_0x6e2642(0x3cc)]);switch(_0x5504ae[_0x6e2642(0x9ac)]){case _0x227d3a['codes']['MissingSystemTopic']:case _0x227d3a[_0x6e2642(0x821)][_0x6e2642(0x7a5)]:case _0x227d3a[_0x6e2642(0x821)][_0x6e2642(0x400)]:case _0x227d3a[_0x6e2642(0x821)][_0x6e2642(0xa8e)]:case _0x227d3a[_0x6e2642(0x821)]['ConnectionNotConnected']:case _0x227d3a[_0x6e2642(0x821)]['InvalidDataChannel']:case _0x227d3a[_0x6e2642(0x821)][_0x6e2642(0x1a9)]:case _0x227d3a['codes'][_0x6e2642(0x98d)]:case _0x227d3a['codes'][_0x6e2642(0x2cd)]:case _0x227d3a[_0x6e2642(0x821)][_0x6e2642(0x389)]:case _0x227d3a[_0x6e2642(0x821)][_0x6e2642(0x924)]:case _0x227d3a[_0x6e2642(0x821)][_0x6e2642(0x7bb)]:}throw _0x542377[_0x6e2642(0x28d)](_0x6e2642(0x86b)+_0x5504ae[_0x6e2642(0x3cc)],{'clusterId':this[_0x6e2642(0x48a)],'nodeId':this[_0x6e2642(0x242)]['getId'](),'nodeType':this['localNode'][_0x6e2642(0x539)]},_0x5504ae),new _0x1695e5(_0x91d017[_0x6e2642(0x1f9)],'Internal\x20SDK\x20error:\x20'+_0x5504ae[_0x6e2642(0x3cc)]);}}[_0xab329a(0xa25)](){const _0x28d923=_0xab329a;return{'mediator':this,'vendorId':this[_0x28d923(0x3e1)],'clusterId':this['clusterId'],'localNode':this[_0x28d923(0x242)]};}[_0xab329a(0x9af)](){const _0x192e96=_0xab329a;return this[_0x192e96(0x2f3)][_0x192e96(0x94e)](_0x245d43=>{const _0x4f7150=_0x192e96,_0x420983=_0x70c83e(_0x245d43,this[_0x4f7150(0x242)][_0x4f7150(0x7a4)]()),_0x41c2b8=_0x245d43[_0x4f7150(0x47d)]===_0x18b589[_0x4f7150(0x52f)]||_0x245d43[_0x4f7150(0x47d)]===_0x18b589[_0x4f7150(0xad0)]&&_0x245d43[_0x4f7150(0xa98)][_0x4f7150(0x539)]===_0x4d3e94[_0x4f7150(0x52f)]?_0x59a34d['SystemStats']:_0x59a34d[_0x4f7150(0x43d)];_0x542377[_0x4f7150(0x51a)](_0x41c2b8,_0x245d43[_0x4f7150(0x5de)]+_0x4f7150(0x1ac)+_0x420983,_0x245d43),this['handleSystemEvents'](_0x245d43)[_0x4f7150(0x736)](_0x3bca93=>{console['error'](_0x3bca93);});});}async[_0xab329a(0x7e5)](_0x213358){const _0x50356f=_0xab329a,{timingLogger:_0x52ab0c,logger:_0x364f60,logBeforeSync:_0x26a4ae,logAfterSync:_0xf7b888}=function(_0x7870f,_0x44ddc8){const _0x29d1b7=a0_0x1b87;if(!_0x542377[_0x29d1b7(0x61e)](_0x44ddc8))return _0x542377[_0x29d1b7(0x7b7)](_0x29d1b7(0x211)+_0x44ddc8),{..._0x146bef(_0x7870f,_0x44ddc8),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0x5a2e43,logger:_0x45ebbf}=_0x146bef(_0x7870f,_0x44ddc8);let _0x456f26=0x0;return _0x456f26=Date[_0x29d1b7(0x4cb)](),{'syncStartTime':_0x456f26,'timingLogger':_0x5a2e43,'logger':_0x45ebbf,'logBeforeSync':()=>(_0xbe5f5e(_0x44ddc8,'Before\x20Synchronization'),_0x5a2e43[_0x29d1b7(0x4cb)]()),'logAfterSync':(_0x38023b,_0x35eea6)=>{const _0x5ead7d=_0x29d1b7,_0x504ee0=Date[_0x5ead7d(0x4cb)]();_0xbe5f5e(_0x44ddc8,_0x5ead7d(0x6f6)+_0x35eea6);const _0x44f3ad=(_0x504ee0-_0x456f26)/0x3e8,_0x2fea83=(_0x504ee0-_0x38023b)/0x3e8;_0x542377[_0x5ead7d(0x4ad)](_0x44ddc8,'KeyValueDatabase\x20-\x20Sync\x20completed',_0x7870f,_0x5ead7d(0x6e1)+_0x44f3ad['toFixed'](0x2)+_0x5ead7d(0x57c),'\x0a\x20===\x20Wait\x20Time:\x20'+_0x2fea83[_0x5ead7d(0xa65)](0x3)+_0x5ead7d(0x57c),'\x0a\x20===\x20Synchronization\x20Time:\x20'+((_0x504ee0-_0x456f26)/0x3e8-_0x2fea83)[_0x5ead7d(0xa65)](0x2)+_0x5ead7d(0x57c));}};}(_0x213358['getLabel'](),_0x59a34d[_0x50356f(0x832)]);_0x364f60[_0x50356f(0x4ad)](_0x50356f(0x1f1));const _0x3ff4da=this['nodeManager'][_0x50356f(0x91f)]()[_0x50356f(0x4f0)]>0x0;if(_0x3ff4da){_0x364f60[_0x50356f(0x4ad)]('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this['nodeManager'][_0x50356f(0x91f)]()),_0x52ab0c[_0x50356f(0x60c)](),await Promise[_0x50356f(0x4fc)](this[_0x50356f(0x8f7)][_0x50356f(0x91f)]()['map'](async _0xed2a69=>await this['nodeManager'][_0x50356f(0x688)](_0xed2a69)))[_0x50356f(0x736)](_0x4db624=>_0x542377[_0x50356f(0x396)](_0x50356f(0xb4b),{'nodeId':this[_0x50356f(0x242)][_0x50356f(0x7a4)](),'nodeType':this[_0x50356f(0x242)][_0x50356f(0x539)]}));const _0x623a37=_0x364f60['performCalculation'](()=>this[_0x50356f(0x8f7)][_0x50356f(0x91f)](),[]);_0x52ab0c[_0x50356f(0xaeb)]('SyncKeyValueDatabase\x20-\x20Ancestors\x20'+_0x623a37+_0x50356f(0xa89));}_0xf7b888(_0x26a4ae(),await _0x213358[_0x50356f(0x4ca)](_0x3ff4da,async()=>{const _0x1a1e7e=_0x50356f;_0x52ab0c[_0x1a1e7e(0x60c)](),await this[_0x1a1e7e(0x8f7)][_0x1a1e7e(0x8a7)](),_0x52ab0c['logWaitTime']('syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:'),_0x213358[_0x1a1e7e(0x4ca)](!0x0,()=>{const _0x54b2b5=_0x1a1e7e;_0x364f60[_0x54b2b5(0x4ad)](_0x54b2b5(0x3b9)),_0x213358[_0x54b2b5(0x4ca)](!0x1);},!0x0);}));}}class _0x45e96a{[_0xab329a(0x3e1)];[_0xab329a(0x48a)];['authNode'];[_0xab329a(0x4a6)];[_0xab329a(0x9b5)];constructor(_0x37e6b7,_0x51f73b,_0x2586d3,_0x41ae4d,_0x4f31fd,_0x54d5cf,_0x547602=new _0x37749e()){const _0x11c556=_0xab329a;this[_0x11c556(0x3e1)]=_0x37e6b7,this[_0x11c556(0x48a)]=_0x51f73b,this[_0x11c556(0x7eb)]=_0x2586d3,this[_0x11c556(0x4a6)]=_0x547602,this[_0x11c556(0x9b5)]=new _0x37d101(this[_0x11c556(0x3e1)],this[_0x11c556(0x48a)],_0x2586d3,_0x41ae4d,_0x4f31fd,_0x54d5cf,this);}async['join'](){const _0x112bcb=_0xab329a;await this[_0x112bcb(0x9b5)]['initialize'](),this[_0x112bcb(0x7eb)][_0x112bcb(0x539)]===_0x1d89a1[_0x112bcb(0x21e)][_0x112bcb(0x373)]&&this[_0x112bcb(0x7eb)][_0x112bcb(0x4ae)](this[_0x112bcb(0x48a)],_0x18d72d=>{this['orchestrator']['updateUser'](_0x18d72d);});}[_0xab329a(0x92f)](_0x2c143e={}){const _0x38b529=_0xab329a;this[_0x38b529(0x9b5)][_0x38b529(0xace)](_0x2c143e),this[_0x38b529(0x7eb)][_0x38b529(0x539)]===_0x1d89a1[_0x38b529(0x21e)][_0x38b529(0x373)]&&this[_0x38b529(0x7eb)][_0x38b529(0xa6c)](this[_0x38b529(0x48a)]),this[_0x38b529(0x292)](_0x38b529(0x1ce),void 0x0);}[_0xab329a(0x38a)](_0x1b6612){const _0x59738a=_0xab329a,_0xe24355=this['orchestrator']['openPubSubTopic'](_0x1b6612);return{'getName':_0xe24355['getName'][_0x59738a(0x5b5)](_0xe24355),'getOwnerId':_0xe24355[_0x59738a(0x908)][_0x59738a(0x5b5)](_0xe24355),'getContentType':_0xe24355[_0x59738a(0x552)]['bind'](_0xe24355),'publish':_0xe24355['publish'][_0x59738a(0x5b5)](_0xe24355),'subscribe':_0xe24355[_0x59738a(0x94e)][_0x59738a(0x5b5)](_0xe24355),'unsubscribe':_0xe24355['unsubscribe']['bind'](_0xe24355),'close':_0xe24355[_0x59738a(0xace)][_0x59738a(0x5b5)](_0xe24355)};}async[_0xab329a(0x715)](_0x2d22f1,_0x5891bd){const _0xc03b88=_0xab329a,_0x42e22d=await this[_0xc03b88(0x9b5)][_0xc03b88(0x715)](_0x2d22f1,_0x5891bd);return{'getName':_0x42e22d[_0xc03b88(0xac9)][_0xc03b88(0x5b5)](_0x42e22d),'getOwnerId':_0x42e22d[_0xc03b88(0x908)][_0xc03b88(0x5b5)](_0x42e22d),'getContentType':_0x42e22d[_0xc03b88(0x552)]['bind'](_0x42e22d),'publish':_0x42e22d[_0xc03b88(0x75d)]['bind'](_0x42e22d),'unpublish':_0x42e22d['unpublish'][_0xc03b88(0x5b5)](_0x42e22d),'get':_0x42e22d[_0xc03b88(0x153)][_0xc03b88(0x5b5)](_0x42e22d),'list':_0x42e22d['list'][_0xc03b88(0x5b5)](_0x42e22d),'getSize':_0x42e22d['getSize']['bind'](_0x42e22d),'subscribe':_0x42e22d[_0xc03b88(0x94e)][_0xc03b88(0x5b5)](_0x42e22d),'unsubscribe':_0x42e22d[_0xc03b88(0x3c8)][_0xc03b88(0x5b5)](_0x42e22d),'close':_0x42e22d['close']['bind'](_0x42e22d)};}async[_0xab329a(0x4c0)](_0x4c631a,_0x2975d5){const _0x2300cf=_0xab329a,_0x2906b2=await this['orchestrator'][_0x2300cf(0x4c0)](_0x4c631a,_0x2975d5);return{'getName':_0x2906b2[_0x2300cf(0xac9)][_0x2300cf(0x5b5)](_0x2906b2),'getOwnerId':_0x2906b2[_0x2300cf(0x908)][_0x2300cf(0x5b5)](_0x2906b2),'getContentType':_0x2906b2[_0x2300cf(0x552)]['bind'](_0x2906b2),'close':_0x2906b2['close']['bind'](_0x2906b2),'get':_0x2906b2[_0x2300cf(0x153)][_0x2300cf(0x5b5)](_0x2906b2),'list':_0x2906b2[_0x2300cf(0x9e5)][_0x2300cf(0x5b5)](_0x2906b2),'subscribe':_0x2906b2[_0x2300cf(0x94e)][_0x2300cf(0x5b5)](_0x2906b2),'unsubscribe':_0x2906b2['unsubscribe'][_0x2300cf(0x5b5)](_0x2906b2)};}async[_0xab329a(0x3d5)](_0xcb2500,_0x5e8981,_0xb0c6bf){const _0x316ee7=_0xab329a,_0x3e3751=await this['orchestrator'][_0x316ee7(0x3d5)](_0xcb2500,_0x5e8981,_0xb0c6bf);return{'getName':_0x3e3751[_0x316ee7(0xac9)][_0x316ee7(0x5b5)](_0x3e3751),'getOwnerId':_0x3e3751[_0x316ee7(0x908)][_0x316ee7(0x5b5)](_0x3e3751),'getContentType':_0x3e3751[_0x316ee7(0x552)]['bind'](_0x3e3751),'getTable':_0x3e3751[_0x316ee7(0x494)][_0x316ee7(0x5b5)](_0x3e3751),'subscribe':_0x3e3751[_0x316ee7(0x94e)][_0x316ee7(0x5b5)](_0x3e3751),'unsubscribe':_0x3e3751[_0x316ee7(0x3c8)][_0x316ee7(0x5b5)](_0x3e3751),'close':_0x3e3751[_0x316ee7(0xace)]['bind'](_0x3e3751)};}async[_0xab329a(0x4a9)](_0x34d7cd){const _0xcf2796=_0xab329a,_0xb3d4b3=await this['orchestrator']['openJobDispatcher'](_0x34d7cd);return{'getName':_0xb3d4b3[_0xcf2796(0xac9)][_0xcf2796(0x5b5)](_0xb3d4b3),'getOwnerId':_0xb3d4b3[_0xcf2796(0x908)][_0xcf2796(0x5b5)](_0xb3d4b3),'getContentType':_0xb3d4b3['getContentType'][_0xcf2796(0x5b5)](_0xb3d4b3),'createJob':_0xb3d4b3[_0xcf2796(0xae4)][_0xcf2796(0x5b5)](_0xb3d4b3),'getJob':_0xb3d4b3['getJob'][_0xcf2796(0x5b5)](_0xb3d4b3),'getJobs':_0xb3d4b3[_0xcf2796(0x5b8)][_0xcf2796(0x5b5)](_0xb3d4b3),'close':_0xb3d4b3[_0xcf2796(0xace)][_0xcf2796(0x5b5)](_0xb3d4b3)};}async[_0xab329a(0xac5)](_0x412c03){const _0x5b2fc2=_0xab329a,_0x3ab8f0=await this[_0x5b2fc2(0x9b5)][_0x5b2fc2(0xac5)](_0x412c03);return{'close':_0x3ab8f0[_0x5b2fc2(0xace)][_0x5b2fc2(0x5b5)](_0x3ab8f0)};}async[_0xab329a(0x94d)](_0x31777e){const _0x5f2d3c=_0xab329a,_0x269536=await this['orchestrator'][_0x5f2d3c(0x94d)](_0x31777e);return{'createAIJob':_0x269536[_0x5f2d3c(0x900)][_0x5f2d3c(0x5b5)](_0x269536),'getDataBucketIds':_0x269536['getDataBucketIds'][_0x5f2d3c(0x5b5)](_0x269536),'close':_0x269536[_0x5f2d3c(0xace)][_0x5f2d3c(0x5b5)](_0x269536)};}async[_0xab329a(0x4e0)](_0x2bd479){const _0x153907=_0xab329a,_0x50e2bf=await this['orchestrator'][_0x153907(0x4e0)](_0x2bd479);return{'createAIJob':_0x50e2bf[_0x153907(0x900)][_0x153907(0x5b5)](_0x50e2bf),'getDataBucketIds':_0x50e2bf[_0x153907(0x748)][_0x153907(0x5b5)](_0x50e2bf),'close':_0x50e2bf[_0x153907(0xace)][_0x153907(0x5b5)](_0x50e2bf)};}async[_0xab329a(0x678)](_0x5b47ee){const _0x17ae51=_0xab329a,_0x49975b=await this['orchestrator'][_0x17ae51(0x678)](_0x5b47ee);return{'close':_0x49975b[_0x17ae51(0xace)][_0x17ae51(0x5b5)](_0x49975b)};}['openGraphDatabase'](_0x4ba6fb){const _0x2c530a=_0xab329a,_0x684cce=this[_0x2c530a(0x9b5)]['openGraphDatabase'](_0x4ba6fb);return{'getName':_0x684cce[_0x2c530a(0xac9)]['bind'](_0x684cce),'getOwnerId':_0x684cce[_0x2c530a(0x908)]['bind'](_0x684cce),'getContentType':_0x684cce[_0x2c530a(0x552)][_0x2c530a(0x5b5)](_0x684cce),'addNode':_0x684cce[_0x2c530a(0xb5f)][_0x2c530a(0x5b5)](_0x684cce),'addEdge':_0x684cce[_0x2c530a(0x80f)][_0x2c530a(0x5b5)](_0x684cce),'getContent':_0x684cce[_0x2c530a(0x860)][_0x2c530a(0x5b5)](_0x684cce),'remove':_0x684cce['remove'][_0x2c530a(0x5b5)](_0x684cce),'saveToDisk':_0x684cce[_0x2c530a(0x175)]['bind'](_0x684cce),'loadFromDisk':_0x684cce[_0x2c530a(0x728)][_0x2c530a(0x5b5)](_0x684cce),'close':_0x684cce[_0x2c530a(0xace)][_0x2c530a(0x5b5)](_0x684cce)};}[_0xab329a(0xa60)](_0x418a05){const _0x56cad1=_0xab329a,_0x286128=this[_0x56cad1(0x9b5)][_0x56cad1(0xa60)](_0x418a05);return{'getName':_0x286128[_0x56cad1(0xac9)]['bind'](_0x286128),'getOwnerId':_0x286128['getOwnerId'][_0x56cad1(0x5b5)](_0x286128),'getContentType':_0x286128[_0x56cad1(0x552)]['bind'](_0x286128),'search':_0x286128[_0x56cad1(0x9a7)]['bind'](_0x286128),'insert':_0x286128[_0x56cad1(0x6b1)][_0x56cad1(0x5b5)](_0x286128),'remove':_0x286128[_0x56cad1(0x95b)]['bind'](_0x286128),'saveToDisk':_0x286128[_0x56cad1(0x175)][_0x56cad1(0x5b5)](_0x286128),'loadFromDisk':_0x286128[_0x56cad1(0x728)][_0x56cad1(0x5b5)](_0x286128),'close':_0x286128[_0x56cad1(0xace)][_0x56cad1(0x5b5)](_0x286128)};}[_0xab329a(0x301)](_0x52310c){const _0x38a706=_0xab329a;return this[_0x38a706(0x9b5)][_0x38a706(0x301)](_0x52310c)[_0x38a706(0x591)](_0xc1e879=>({'getName':_0xc1e879[_0x38a706(0xac9)]['bind'](_0xc1e879),'getOwnerId':_0xc1e879['getOwnerId'][_0x38a706(0x5b5)](_0xc1e879),'getContentType':_0xc1e879[_0x38a706(0x552)][_0x38a706(0x5b5)](_0xc1e879),'publish':_0xc1e879[_0x38a706(0x75d)]['bind'](_0xc1e879),'subscribe':_0xc1e879[_0x38a706(0x94e)][_0x38a706(0x5b5)](_0xc1e879),'unsubscribe':_0xc1e879[_0x38a706(0x3c8)][_0x38a706(0x5b5)](_0xc1e879),'close':_0xc1e879[_0x38a706(0xace)][_0x38a706(0x5b5)](_0xc1e879)}));}[_0xab329a(0x970)](_0x558b2b){const _0x5b047b=_0xab329a;return this[_0x5b047b(0x9b5)][_0x5b047b(0x970)](_0x558b2b)['map'](_0x834241=>({'getName':_0x834241['getName'][_0x5b047b(0x5b5)](_0x834241),'getOwnerId':_0x834241[_0x5b047b(0x908)][_0x5b047b(0x5b5)](_0x834241),'getContentType':_0x834241[_0x5b047b(0x552)][_0x5b047b(0x5b5)](_0x834241),'publish':_0x834241[_0x5b047b(0x75d)][_0x5b047b(0x5b5)](_0x834241),'unpublish':_0x834241['unpublish']['bind'](_0x834241),'get':_0x834241[_0x5b047b(0x153)][_0x5b047b(0x5b5)](_0x834241),'list':_0x834241[_0x5b047b(0x9e5)]['bind'](_0x834241),'getSize':_0x834241['getSize'][_0x5b047b(0x5b5)](_0x834241),'subscribe':_0x834241['subscribe']['bind'](_0x834241),'unsubscribe':_0x834241[_0x5b047b(0x3c8)][_0x5b047b(0x5b5)](_0x834241),'close':_0x834241['close'][_0x5b047b(0x5b5)](_0x834241)}));}[_0xab329a(0x68f)](_0x177d5f){const _0x55ee96=_0xab329a;return this['orchestrator']['getExternalStorageConnections'](_0x177d5f)['map'](_0x5e7bd7=>({'getName':_0x5e7bd7['getName'][_0x55ee96(0x5b5)](_0x5e7bd7),'getOwnerId':_0x5e7bd7['getOwnerId'][_0x55ee96(0x5b5)](_0x5e7bd7),'getContentType':_0x5e7bd7[_0x55ee96(0x552)][_0x55ee96(0x5b5)](_0x5e7bd7),'close':_0x5e7bd7[_0x55ee96(0xace)][_0x55ee96(0x5b5)](_0x5e7bd7),'get':_0x5e7bd7[_0x55ee96(0x153)][_0x55ee96(0x5b5)](_0x5e7bd7),'list':_0x5e7bd7[_0x55ee96(0x9e5)][_0x55ee96(0x5b5)](_0x5e7bd7),'subscribe':_0x5e7bd7[_0x55ee96(0x94e)]['bind'](_0x5e7bd7),'unsubscribe':_0x5e7bd7[_0x55ee96(0x3c8)][_0x55ee96(0x5b5)](_0x5e7bd7)}));}[_0xab329a(0x50a)](_0x56ad0e){const _0x152d77=_0xab329a;return this[_0x152d77(0x9b5)][_0x152d77(0x50a)](_0x56ad0e)[_0x152d77(0x591)](_0x92f8f9=>({'getName':_0x92f8f9[_0x152d77(0xac9)][_0x152d77(0x5b5)](_0x92f8f9),'getOwnerId':_0x92f8f9[_0x152d77(0x908)][_0x152d77(0x5b5)](_0x92f8f9),'getContentType':_0x92f8f9[_0x152d77(0x552)][_0x152d77(0x5b5)](_0x92f8f9),'getTable':_0x92f8f9['getTable'][_0x152d77(0x5b5)](_0x92f8f9),'subscribe':_0x92f8f9[_0x152d77(0x94e)][_0x152d77(0x5b5)](_0x92f8f9),'unsubscribe':_0x92f8f9[_0x152d77(0x3c8)][_0x152d77(0x5b5)](_0x92f8f9),'close':_0x92f8f9[_0x152d77(0xace)]['bind'](_0x92f8f9)}));}['getGenerativeAIContexts'](_0x3bbc8d){const _0x1407c0=_0xab329a;return this['orchestrator']['getGenerativeAIContexts'](_0x3bbc8d)[_0x1407c0(0x591)](_0x20e426=>({'createAIJob':_0x20e426[_0x1407c0(0x900)][_0x1407c0(0x5b5)](_0x20e426),'getDataBucketIds':_0x20e426[_0x1407c0(0x748)][_0x1407c0(0x5b5)](_0x20e426),'close':_0x20e426[_0x1407c0(0xace)]['bind'](_0x20e426)}));}[_0xab329a(0x766)](_0x2075fa){const _0x1bacb5=_0xab329a;return this[_0x1bacb5(0x9b5)]['getGenerativeAIContextsStandalone'](_0x2075fa)[_0x1bacb5(0x591)](_0xfb5bb7=>({'createAIJob':_0xfb5bb7[_0x1bacb5(0x900)][_0x1bacb5(0x5b5)](_0xfb5bb7),'getDataBucketIds':_0xfb5bb7[_0x1bacb5(0x748)][_0x1bacb5(0x5b5)](_0xfb5bb7),'close':_0xfb5bb7[_0x1bacb5(0xace)][_0x1bacb5(0x5b5)](_0xfb5bb7)}));}[_0xab329a(0x953)](_0x20dd4b){const _0x36e6cf=_0xab329a;return this['orchestrator'][_0x36e6cf(0x953)](_0x20dd4b)[_0x36e6cf(0x591)](_0x1a621a=>({'close':_0x1a621a['close'][_0x36e6cf(0x5b5)](_0x1a621a)}));}['publishLocalMediaStream'](_0x24bded,_0x3844ea){const _0xe7fd9=_0xab329a,_0x483c41=this[_0xe7fd9(0x9b5)]['createLocalMediaStream'](_0x24bded,_0x3844ea);return{'getLabel':_0x483c41[_0xe7fd9(0xa52)]['bind'](_0x483c41),'getOwnerId':_0x483c41[_0xe7fd9(0x908)]['bind'](_0x483c41),'getContentType':_0x483c41[_0xe7fd9(0x552)][_0xe7fd9(0x5b5)](_0x483c41),'getMediaStream':_0x483c41[_0xe7fd9(0x8a9)][_0xe7fd9(0x5b5)](_0x483c41),'setPriority':_0x483c41['setPriority']['bind'](_0x483c41),'unpublish':_0x483c41[_0xe7fd9(0x202)][_0xe7fd9(0x5b5)](_0x483c41)};}[_0xab329a(0x91d)](_0x13861e,_0x2d82f3){const _0x589d9b=_0xab329a,_0x3866bb=this['orchestrator']['createLocalDynamicMediaStream'](_0x13861e,_0x2d82f3);return{'getLabel':_0x3866bb[_0x589d9b(0xa52)][_0x589d9b(0x5b5)](_0x3866bb),'getOwnerId':_0x3866bb['getOwnerId'][_0x589d9b(0x5b5)](_0x3866bb),'getContentType':_0x3866bb[_0x589d9b(0x552)][_0x589d9b(0x5b5)](_0x3866bb),'setPriority':_0x3866bb[_0x589d9b(0xabe)]['bind'](_0x3866bb),'unpublish':_0x3866bb['unpublish']['bind'](_0x3866bb),'getMediaStream':_0x3866bb['getMediaStream'][_0x589d9b(0x5b5)](_0x3866bb),'addTrack':_0x3866bb['addTrack'][_0x589d9b(0x5b5)](_0x3866bb),'removeTrack':_0x3866bb['removeTrack'][_0x589d9b(0x5b5)](_0x3866bb),'replaceTrack':_0x3866bb[_0x589d9b(0x922)][_0x589d9b(0x5b5)](_0x3866bb),'setTransformations':_0x3866bb[_0x589d9b(0x7a3)][_0x589d9b(0x5b5)](_0x3866bb)};}[_0xab329a(0x8bf)](_0x34327a){const _0xc2716f=_0xab329a;return this[_0xc2716f(0x9b5)][_0xc2716f(0x8bf)](_0x34327a)['map'](_0x296c8f=>({'getLabel':_0x296c8f['getLabel'][_0xc2716f(0x5b5)](_0x296c8f),'getOwnerId':_0x296c8f['getOwnerId'][_0xc2716f(0x5b5)](_0x296c8f),'getContentType':_0x296c8f[_0xc2716f(0x552)][_0xc2716f(0x5b5)](_0x296c8f),'getMediaStream':_0x296c8f[_0xc2716f(0x8a9)]['bind'](_0x296c8f),'setPriority':_0x296c8f['setPriority']['bind'](_0x296c8f),'unpublish':_0x296c8f[_0xc2716f(0x202)][_0xc2716f(0x5b5)](_0x296c8f)}));}[_0xab329a(0x964)](_0x20b3be){const _0x25844d=_0xab329a;return this[_0x25844d(0x9b5)][_0x25844d(0x964)](_0x20b3be)['map'](_0x2546f5=>({'getLabel':_0x2546f5[_0x25844d(0xa52)]['bind'](_0x2546f5),'getOwnerId':_0x2546f5[_0x25844d(0x908)][_0x25844d(0x5b5)](_0x2546f5),'getContentType':_0x2546f5[_0x25844d(0x552)][_0x25844d(0x5b5)](_0x2546f5),'getMediaStream':_0x2546f5['getMediaStream'][_0x25844d(0x5b5)](_0x2546f5),'subscribe':_0x2546f5[_0x25844d(0x94e)][_0x25844d(0x5b5)](_0x2546f5),'unsubscribe':_0x2546f5[_0x25844d(0x3c8)]['bind'](_0x2546f5),'getAvailableTrackKinds':_0x2546f5[_0x25844d(0xb6c)][_0x25844d(0x5b5)](_0x2546f5),'update':_0x2546f5[_0x25844d(0x959)][_0x25844d(0x5b5)](_0x2546f5),'onProviderChange':_0x2546f5[_0x25844d(0x6bf)][_0x25844d(0x5b5)](_0x2546f5)}));}[_0xab329a(0x9b3)](_0x26bdb5){const _0x4de4e9=_0xab329a;return this[_0x4de4e9(0x9b5)]['getGraphDatabases'](_0x26bdb5)['map'](_0x3552c0=>({'getName':_0x3552c0[_0x4de4e9(0xac9)][_0x4de4e9(0x5b5)](_0x3552c0),'getOwnerId':_0x3552c0['getOwnerId'][_0x4de4e9(0x5b5)](_0x3552c0),'getContentType':_0x3552c0[_0x4de4e9(0x552)]['bind'](_0x3552c0),'addNode':_0x3552c0['addNode'][_0x4de4e9(0x5b5)](_0x3552c0),'addEdge':_0x3552c0[_0x4de4e9(0x80f)][_0x4de4e9(0x5b5)](_0x3552c0),'getContent':_0x3552c0[_0x4de4e9(0x860)]['bind'](_0x3552c0),'remove':_0x3552c0[_0x4de4e9(0x95b)][_0x4de4e9(0x5b5)](_0x3552c0),'saveToDisk':_0x3552c0['saveToDisk']['bind'](_0x3552c0),'loadFromDisk':_0x3552c0['loadFromDisk'][_0x4de4e9(0x5b5)](_0x3552c0),'close':_0x3552c0[_0x4de4e9(0xace)]['bind'](_0x3552c0)}));}[_0xab329a(0x618)](_0x5d8cff){const _0x1892c0=_0xab329a;return this['orchestrator']['getVectorDatabases'](_0x5d8cff)[_0x1892c0(0x591)](_0x21ee51=>({'getName':_0x21ee51['getName'][_0x1892c0(0x5b5)](_0x21ee51),'getOwnerId':_0x21ee51[_0x1892c0(0x908)][_0x1892c0(0x5b5)](_0x21ee51),'getContentType':_0x21ee51[_0x1892c0(0x552)]['bind'](_0x21ee51),'search':_0x21ee51[_0x1892c0(0x9a7)][_0x1892c0(0x5b5)](_0x21ee51),'insert':_0x21ee51[_0x1892c0(0x6b1)][_0x1892c0(0x5b5)](_0x21ee51),'remove':_0x21ee51[_0x1892c0(0x95b)][_0x1892c0(0x5b5)](_0x21ee51),'saveToDisk':_0x21ee51['saveToDisk']['bind'](_0x21ee51),'loadFromDisk':_0x21ee51[_0x1892c0(0x728)]['bind'](_0x21ee51),'close':_0x21ee51['close'][_0x1892c0(0x5b5)](_0x21ee51)}));}[_0xab329a(0x929)](){const _0x320a60=_0xab329a,_0x32332c=this[_0x320a60(0x9b5)]['getLocalNode']();switch(_0x32332c[_0x320a60(0x539)]){case _0x1d89a1[_0x320a60(0x21e)]['User']:return{'type':_0x1d89a1[_0x320a60(0x21e)][_0x320a60(0x373)],'getId':_0x32332c[_0x320a60(0x7a4)]['bind'](_0x32332c),'getDisplayName':_0x32332c[_0x320a60(0x7e7)][_0x320a60(0x5b5)](_0x32332c),'getEmail':_0x32332c[_0x320a60(0xb42)][_0x320a60(0x5b5)](_0x32332c),'getRemoteConnections':_0x32332c[_0x320a60(0x210)][_0x320a60(0x5b5)](_0x32332c),'setDisplayName':_0x32332c['setDisplayName'][_0x320a60(0x5b5)](_0x32332c),'setEmail':_0x32332c[_0x320a60(0xa17)][_0x320a60(0x5b5)](_0x32332c)};case _0x1d89a1[_0x320a60(0x21e)]['Agent']:default:return{'type':_0x1d89a1[_0x320a60(0x21e)][_0x320a60(0x52c)],'getId':_0x32332c[_0x320a60(0x7a4)][_0x320a60(0x5b5)](_0x32332c),'getRemoteConnections':_0x32332c['getRemoteConnections']['bind'](_0x32332c)};}}['getRemoteNodes'](_0x2c8126){const _0x575e67=_0xab329a;return this[_0x575e67(0x9b5)][_0x575e67(0x962)](_0x2c8126)[_0x575e67(0x591)](_0x27d55f=>{const _0x41e0bb=_0x575e67;switch(_0x27d55f[_0x41e0bb(0x539)]){case _0x1d89a1['NodeType'][_0x41e0bb(0x373)]:return{'type':_0x1d89a1[_0x41e0bb(0x21e)][_0x41e0bb(0x373)],'getId':_0x27d55f[_0x41e0bb(0x7a4)]['bind'](_0x27d55f),'getDisplayName':_0x27d55f[_0x41e0bb(0x7e7)][_0x41e0bb(0x5b5)](_0x27d55f),'getEmail':_0x27d55f[_0x41e0bb(0xb42)]['bind'](_0x27d55f),'getRemoteConnections':_0x27d55f[_0x41e0bb(0x210)][_0x41e0bb(0x5b5)](_0x27d55f)};case _0x1d89a1[_0x41e0bb(0x21e)][_0x41e0bb(0x52c)]:return{'type':_0x1d89a1[_0x41e0bb(0x21e)][_0x41e0bb(0x52c)],'getId':_0x27d55f[_0x41e0bb(0x7a4)][_0x41e0bb(0x5b5)](_0x27d55f),'getRemoteConnections':_0x27d55f[_0x41e0bb(0x210)][_0x41e0bb(0x5b5)](_0x27d55f)};default:throw new _0x1695e5(_0x91d017[_0x41e0bb(0x415)],_0x41e0bb(0x89b));}});}['on']=(..._0x311fb0)=>{const _0x19a740=_0xab329a;this[_0x19a740(0x4a6)]['on'](..._0x311fb0);};[_0xab329a(0x292)]=(..._0x1ab346)=>this[_0xab329a(0x4a6)][_0xab329a(0x292)](..._0x1ab346);[_0xab329a(0x839)](..._0xca840e){const _0x2c2bc7=_0xab329a;this[_0x2c2bc7(0x4a6)][_0x2c2bc7(0x839)](..._0xca840e);}}class _0x5ce360{['id'];[_0xab329a(0x876)];[_0xab329a(0x776)];['type']=_0x1d89a1['NodeType'][_0xab329a(0x373)];[_0xab329a(0x648)]=new Map();[_0xab329a(0x847)]=_0x41f17b();constructor(_0x5ed2f3,_0x5aec5e,_0x279943){const _0x2bc46a=_0xab329a;this['id']=_0x5ed2f3,this['displayName']=_0x5aec5e,this[_0x2bc46a(0x776)]=_0x279943;}[_0xab329a(0x7a4)](){return this['id'];}['getDisplayName'](){const _0x109630=_0xab329a;return this[_0x109630(0x876)];}[_0xab329a(0xb42)](){return this['email'];}[_0xab329a(0x171)](_0x4e9ab3){const _0x4acdb5=_0xab329a;this[_0x4acdb5(0x876)]!==_0x4e9ab3&&(this['displayName']=_0x4e9ab3,this[_0x4acdb5(0x847)][_0x4acdb5(0x75d)](this));}[_0xab329a(0xa17)](_0x12bb7b){const _0x51c32d=_0xab329a;this['email']!==_0x12bb7b&&(this[_0x51c32d(0x776)]=_0x12bb7b,this[_0x51c32d(0x847)]['publish'](this));}[_0xab329a(0x4ae)](_0x288474,_0x4fa540){const _0x5b64dd=_0xab329a;if(this[_0x5b64dd(0x648)]['has'](_0x288474))return;const _0x113ef0=this['observer'][_0x5b64dd(0x94e)](_0x4fa540);this['joinedClusters']['set'](_0x288474,_0x113ef0);}[_0xab329a(0xa6c)](_0x45992a){const _0x292ccc=_0xab329a;if(!this[_0x292ccc(0x648)][_0x292ccc(0x727)](_0x45992a))return;const _0x3a043f=this['joinedClusters'][_0x292ccc(0x153)](_0x45992a);_0x3a043f&&_0x3a043f(),this[_0x292ccc(0x648)][_0x292ccc(0x425)](_0x45992a);}}class _0xf440c4{[_0xab329a(0x3e1)];[_0xab329a(0x571)];constructor(_0x58e744){const _0x5b429a=_0xab329a;this[_0x5b429a(0x3e1)]=_0x58e744;}async[_0xab329a(0x4bb)](_0x4d595b){const _0x19b33c=_0xab329a,_0x4892e4=await(0x0,_0x579870[_0x19b33c(0x845)])(_0x44b60b[_0x19b33c(0x746)](),'sdkCreateToken')({'uid':'ccc'+this['vendorId']+_0x19b33c(0xafd)+_0x4d595b['id']}),_0x4b4a7d=await(0x0,_0x33a3e3[_0x19b33c(0x91a)])(_0x44b60b['getAuth'](),_0x4892e4[_0x19b33c(0x62e)]['token']);this['user']=_0x4b4a7d[_0x19b33c(0x571)];}async[_0xab329a(0x990)](){const _0x54eb65=_0xab329a;await(0x0,_0x33a3e3[_0x54eb65(0x990)])(_0x44b60b[_0x54eb65(0x656)]());}['getIdToken'](){const _0x2c52d7=_0xab329a;return this[_0x2c52d7(0x571)]?.['getIdToken']()??Promise[_0x2c52d7(0x276)]('User\x20not\x20signed\x20in');}}class _0x316397{static [_0xab329a(0xa7f)];[_0xab329a(0x76c)]=[];constructor(){}static[_0xab329a(0x188)](){const _0x2c6607=_0xab329a;return _0x316397[_0x2c6607(0xa7f)]||(_0x316397[_0x2c6607(0xa7f)]=new _0x316397()),_0x316397[_0x2c6607(0xa7f)];}[_0xab329a(0x7db)](){const _0x3d5726=_0xab329a;this['checkWebRTC'](),this[_0x3d5726(0xa30)](),this[_0x3d5726(0x8f9)](),this[_0x3d5726(0x1f5)](),this[_0x3d5726(0x524)](),this['checkAudioOutput'](),this[_0x3d5726(0x686)](),this['checkBackgrounds'](),this[_0x3d5726(0x478)](),this[_0x3d5726(0x939)](),_0x542377[_0x3d5726(0x4ad)](_0x59a34d[_0x3d5726(0x266)],_0x3d5726(0x448),{'featureSupport':this[_0x3d5726(0x76c)]});}[_0xab329a(0x6cb)](_0x1e6ff4){const _0x5a42be=_0xab329a,_0x4b45ba=this['featureSupport'][_0x5a42be(0xb4a)](_0x2efbd3=>_0x2efbd3['name']===_0x1e6ff4);return!!_0x4b45ba&&_0x4b45ba[_0x5a42be(0x206)];}['logSupport'](_0x43a308){const _0xf4dbf0=_0xab329a;_0x542377['logEvent'](_0xf4dbf0(0x33d),{'nodeId':_0x43a308[_0xf4dbf0(0x7a4)](),'nodeType':_0x43a308['type'],'data':{'featureSupport':this[_0xf4dbf0(0x76c)]}});}['checkWebRTC'](){const _0x50cce5=_0xab329a,_0x1b5f14=_0x41971c[_0x50cce5(0x401)];let _0x526bef=!0x1;'function'==typeof RTCPeerConnection&&_0x50cce5(0x201)==typeof RTCIceCandidate&&_0x50cce5(0x201)==typeof RTCSessionDescription?_0x526bef=!0x0:_0x542377[_0x50cce5(0x4ad)](_0x59a34d['Support'],_0x50cce5(0x57b)+_0x1b5f14+'\x20not\x20supported'),this[_0x50cce5(0x76c)]['push']({'name':_0x1b5f14,'supported':_0x526bef});}[_0xab329a(0xa30)](){const _0x2baed5=_0xab329a,_0x499d28=_0x41971c[_0x2baed5(0x7c1)];let _0x1901b1=!0x1;'function'==typeof MediaStream&&_0x2baed5(0x201)==typeof MediaStreamTrack&&_0x2baed5(0x29a)==typeof navigator&&_0x2baed5(0x29a)==typeof navigator[_0x2baed5(0xb1e)]&&'function'==typeof navigator['mediaDevices']['getUserMedia']?_0x1901b1=!0x0:_0x542377[_0x2baed5(0x4ad)](_0x59a34d['Support'],_0x2baed5(0x57b)+_0x499d28+'\x20not\x20supported'),this[_0x2baed5(0x76c)]['push']({'name':_0x499d28,'supported':_0x1901b1});}[_0xab329a(0x8f9)](){const _0x996f63=_0xab329a,_0x3f0b5a=_0x41971c[_0x996f63(0x674)];let _0x363b41=!0x1;_0x996f63(0x29a)==typeof navigator&&'object'==typeof navigator[_0x996f63(0xb1e)]&&'function'==typeof navigator['mediaDevices'][_0x996f63(0x473)]?_0x363b41=!0x0:_0x542377['log'](_0x59a34d[_0x996f63(0x266)],_0x996f63(0x57b)+_0x3f0b5a+_0x996f63(0xa7a)),this['featureSupport'][_0x996f63(0x257)]({'name':_0x3f0b5a,'supported':_0x363b41});}[_0xab329a(0x1f5)](){const _0x251baf=_0xab329a,_0x125d1b=_0x41971c['AudioVolume'];let _0x250c72=!0x1;_0x251baf(0x201)!=typeof AudioContext||_0x251baf(0x201)!=typeof ScriptProcessorNode&&_0x251baf(0x201)!=typeof AudioWorkletNode||_0x251baf(0x201)!=typeof MediaStreamAudioSourceNode?_0x542377[_0x251baf(0x4ad)](_0x59a34d[_0x251baf(0x266)],_0x251baf(0x57b)+_0x125d1b+'\x20not\x20supported'):_0x250c72=!0x0,this['featureSupport'][_0x251baf(0x257)]({'name':_0x125d1b,'supported':_0x250c72});}[_0xab329a(0x524)](){const _0x321132=_0xab329a,_0x130967=_0x41971c[_0x321132(0x726)];let _0x4010ad=!0x1;_0x321132(0x29a)==typeof navigator&&_0x321132(0x29a)==typeof navigator[_0x321132(0xb1e)]&&_0x321132(0x201)==typeof navigator[_0x321132(0xb1e)][_0x321132(0x927)]&&_0x321132(0x201)==typeof MediaDeviceInfo?_0x4010ad=!0x0:_0x542377[_0x321132(0x4ad)](_0x59a34d[_0x321132(0x266)],_0x321132(0x57b)+_0x130967+_0x321132(0xa7a)),this[_0x321132(0x76c)][_0x321132(0x257)]({'name':_0x130967,'supported':_0x4010ad});}['checkAudioOutput'](){const _0x1e190d=_0xab329a,_0x19a1e7=_0x41971c[_0x1e190d(0x7b4)];let _0x2a9a2e=!0x1;_0x1e190d(0x29a)==typeof document&&_0x1e190d(0x201)==typeof document[_0x1e190d(0x977)](_0x1e190d(0x7e2))[_0x1e190d(0x6fd)]?_0x2a9a2e=!0x0:_0x542377[_0x1e190d(0x4ad)](_0x59a34d['Support'],'Support:\x20'+_0x19a1e7+_0x1e190d(0xa7a)),this[_0x1e190d(0x76c)][_0x1e190d(0x257)]({'name':_0x19a1e7,'supported':_0x2a9a2e});}async[_0xab329a(0x686)](){const _0x2ee9c7=_0xab329a,_0x13ebf6=_0x41971c[_0x2ee9c7(0x1b6)];let _0x34500d=!0x1;try{const _0x4c6ac4=document[_0x2ee9c7(0x977)]('canvas');if(MediaRecorder&&MediaSource&&_0x4c6ac4['captureStream']){const _0x5c9abd=_0x4c6ac4[_0x2ee9c7(0x6be)](),_0x39e5e9=new MediaRecorder(_0x5c9abd);_0x39e5e9[_0x2ee9c7(0x60c)](),await new Promise(_0x2d4f89=>setTimeout(_0x2d4f89,0x7d0)),_0x39e5e9['stop'](),_0x34500d=_0x2ee9c7(0x403)===_0x39e5e9[_0x2ee9c7(0xa99)];}}catch(_0x4bdfbe){_0x542377[_0x2ee9c7(0x4ad)](_0x59a34d[_0x2ee9c7(0x266)],_0x2ee9c7(0x57b)+_0x13ebf6+_0x2ee9c7(0xa07),_0x4bdfbe);}this[_0x2ee9c7(0x76c)][_0x2ee9c7(0x257)]({'name':_0x13ebf6,'supported':_0x34500d}),_0x34500d||_0x542377[_0x2ee9c7(0x4ad)](_0x59a34d[_0x2ee9c7(0x266)],_0x2ee9c7(0x57b)+_0x13ebf6+'\x20not\x20supported');}['checkBackgrounds'](){const _0x512718=_0xab329a,_0x37ca96=_0x41971c['Backgrounds'];let _0x22a7e5=!0x1;try{document[_0x512718(0x977)]('canvas')[_0x512718(0x6be)]&&(_0x22a7e5=!0x0);}catch(_0x55dffa){_0x542377[_0x512718(0x4ad)](_0x59a34d[_0x512718(0x266)],_0x512718(0x57b)+_0x37ca96+'\x20check\x20failed',_0x55dffa);}this['featureSupport'][_0x512718(0x257)]({'name':_0x37ca96,'supported':_0x22a7e5}),_0x22a7e5||_0x542377['log'](_0x59a34d['Support'],_0x512718(0x57b)+_0x37ca96+_0x512718(0xa7a));}[_0xab329a(0x478)](){const _0x48784f=_0xab329a,_0x29fd97=_0x41971c[_0x48784f(0x240)];let _0x5a9fc5=!0x1;try{const _0x82063f=document[_0x48784f(0x977)](_0x48784f(0x5b1));WebGLRenderingContext&&_0x82063f[_0x48784f(0x958)]('webgl')&&(_0x5a9fc5=!0x0);}catch(_0x2d76e3){_0x542377[_0x48784f(0x4ad)](_0x59a34d['Support'],_0x48784f(0x57b)+_0x29fd97+_0x48784f(0xa07),_0x2d76e3);}this[_0x48784f(0x76c)][_0x48784f(0x257)]({'name':_0x29fd97,'supported':_0x5a9fc5}),_0x5a9fc5||_0x542377[_0x48784f(0x4ad)](_0x59a34d[_0x48784f(0x266)],_0x48784f(0x57b)+_0x29fd97+'\x20not\x20supported');}['checkAudioContext'](){const _0xd8d96b=_0xab329a,_0x4fb6ef=_0x41971c[_0xd8d96b(0x1d4)];let _0x199d9e=!0x1;'function'==typeof AudioContext?_0x199d9e=!0x0:_0x542377[_0xd8d96b(0x4ad)](_0x59a34d[_0xd8d96b(0x266)],_0xd8d96b(0x57b)+_0x4fb6ef+_0xd8d96b(0xa7a)),this['featureSupport']['push']({'name':_0x4fb6ef,'supported':_0x199d9e});}}const _0x2c8398=_0x316397[_0xab329a(0x188)]();class _0x34155b{static [_0xab329a(0xa7f)];static [_0xab329a(0x3c8)];static ['mode'];[_0xab329a(0x8f5)];['vendorId'];['options'];[_0xab329a(0x8f2)];[_0xab329a(0xa72)]=new Map();[_0xab329a(0x3eb)];constructor(_0x15c6cc,_0x20ee69,_0x3fb40e){const _0x2e5fa5=_0xab329a;this[_0x2e5fa5(0x3e1)]=_0x15c6cc,this[_0x2e5fa5(0x8f2)]=_0x20ee69,this[_0x2e5fa5(0x8f5)]=new _0xf440c4(this[_0x2e5fa5(0x3e1)]),_0x2c8398[_0x2e5fa5(0x7db)](),this[_0x2e5fa5(0x438)]={'audioContext':_0x3fb40e?.[_0x2e5fa5(0x99f)]??(_0x2c8398['isFeatureSupported'](_0x41971c['AudioContext'])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x3fb40e?.[_0x2e5fa5(0xb10)]??0x1,'minConnections':_0x3fb40e?.[_0x2e5fa5(0x5fa)]??0x3,'maxConnections':_0x3fb40e?.[_0x2e5fa5(0x495)]??(_0x3fb40e?.['minConnections']&&0x4*_0x3fb40e[_0x2e5fa5(0x5fa)])??0xc,'maxDistance':_0x3fb40e?.[_0x2e5fa5(0x854)]??0xa,'maxFps':_0x3fb40e?.[_0x2e5fa5(0x319)]??0x18,'maxBpp':_0x3fb40e?.['maxBpp']??0.12,'objectStoreConnector':_0x3fb40e?.['objectStoreConnector']??_0x15b02e[_0x2e5fa5(0x4f9)],'externalStorageConnectors':_0x3fb40e?.[_0x2e5fa5(0x71d)],'keyValueDatabaseConnector':_0x3fb40e?.[_0x2e5fa5(0xa0a)]??_0x5942b7[_0x2e5fa5(0xb31)],'peerConnectionConnector':_0x3fb40e?.[_0x2e5fa5(0x29b)]??_0x2a72f7['WebRTCBrowserPeerConnectionConnector'],'generativeAIWorkerConnectors':_0x3fb40e?.[_0x2e5fa5(0x794)],'generativeAISpeechConnectors':_0x3fb40e?.[_0x2e5fa5(0x3c2)],'vectorDatabaseConnector':_0x3fb40e?.['vectorDatabaseConnector'],'graphDatabaseConnector':_0x3fb40e?.['graphDatabaseConnector'],'documentParserConnector':_0x3fb40e?.[_0x2e5fa5(0xa8f)],'fileConnector':_0x3fb40e?.[_0x2e5fa5(0xa4c)],'nlpLibraryConnector':_0x3fb40e?.[_0x2e5fa5(0x545)],'searchConnector':_0x3fb40e?.[_0x2e5fa5(0x826)],'aiSearchConnector':_0x3fb40e?.['aiSearchConnector'],'queryFileConnector':_0x3fb40e?.[_0x2e5fa5(0x72a)],'ragConnectors':_0x3fb40e?.[_0x2e5fa5(0x288)]},_0x3fb40e?.[_0x2e5fa5(0x60d)]&&this[_0x2e5fa5(0x438)][_0x2e5fa5(0x99f)]&&_0x3b46ce['startNoThrottlingHack'](this[_0x2e5fa5(0x438)][_0x2e5fa5(0x99f)]),_0x542377[_0x2e5fa5(0x191)](this['vendorId']),_0x3fb40e?.[_0x2e5fa5(0xa73)]&&_0x542377[_0x2e5fa5(0x2eb)](_0x3fb40e[_0x2e5fa5(0xa73)]);}static async[_0xab329a(0x188)](_0xcaa339,_0x347c92,_0x40d750,_0x457d3e,_0x11785c){const _0x8ca72=_0xab329a;this[_0x8ca72(0x241)]=_0x40d750;const _0x78b445=await this['validateAccess'](_0xcaa339,_0x347c92,_0x11785c);return _0x34155b[_0x8ca72(0xa7f)]||(_0x34155b[_0x8ca72(0xa7f)]=new _0x34155b(_0xcaa339,_0x78b445,_0x457d3e)),{'close':_0x34155b['instance'][_0x8ca72(0xace)]['bind'](_0x34155b['instance']),'authenticateUser':_0x34155b[_0x8ca72(0xa7f)][_0x8ca72(0x3de)]['bind'](_0x34155b['instance']),'authenticateAgent':_0x34155b[_0x8ca72(0xa7f)][_0x8ca72(0x90b)][_0x8ca72(0x5b5)](_0x34155b['instance']),'validateKey':_0x34155b[_0x8ca72(0xa7f)][_0x8ca72(0x48d)][_0x8ca72(0x5b5)](_0x34155b[_0x8ca72(0xa7f)]),'joinCluster':_0x34155b[_0x8ca72(0xa7f)][_0x8ca72(0x86f)][_0x8ca72(0x5b5)](_0x34155b[_0x8ca72(0xa7f)])};}static async[_0xab329a(0x1bf)](){const _0x54f9bf=_0xab329a;return _0x44b60b[_0x54f9bf(0x154)]();}static['isProduction'](){const _0x55a594=_0xab329a;return _0x5d8dc2[_0x55a594(0x59e)];}async[_0xab329a(0xace)](_0x32e8d8){const _0x41283b=_0xab329a;this[_0x41283b(0xa72)][_0x41283b(0xad2)](_0x2b20a3=>{const _0x198889=_0x41283b;_0x2b20a3[_0x198889(0x839)](),_0x2b20a3[_0x198889(0x92f)](_0x32e8d8);}),this['clusters'][_0x41283b(0x613)](),this[_0x41283b(0x438)][_0x41283b(0x99f)]&&_0x3b46ce['stopNoThrottlingHack'](),_0x34155b['unsubscribe']?.(),_0x34155b[_0x41283b(0x3c8)]=void 0x0,this['authContext']=void 0x0,await this['authService'][_0x41283b(0x990)](),_0x34155b[_0x41283b(0xa7f)]=void 0x0;}static async[_0xab329a(0x2e8)](_0x544251,_0xad2e76,_0x707b3a){const _0x2720f7=_0xab329a;if(!this[_0x2720f7(0x241)])throw new _0x1695e5(_0x91d017[_0x2720f7(0x152)],'Node\x20type\x20is\x20required');let _0x435b1e;try{_0x435b1e=await(0x0,_0x579870[_0x2720f7(0x845)])(_0x44b60b['getFunctions'](),_0x2720f7(0x1b4))({'vendorId':_0x544251,'accessToken':_0xad2e76,'secretKey':_0x707b3a});}catch(_0x1a9059){throw new _0x1695e5(_0x91d017[_0x2720f7(0x1d8)],'Invalid\x20credentials');}if(!this[_0x2720f7(0x165)](_0x435b1e['data']))throw new _0x1695e5(_0x91d017[_0x2720f7(0x1d8)],_0x2720f7(0x6f8));const _0x1b9b52=_0x435b1e[_0x2720f7(0x62e)];return _0x1b9b52[_0x2720f7(0x6b0)]||(_0x1b9b52[_0x2720f7(0x6b0)]=[]),this['unsubscribe']||(this[_0x2720f7(0x3c8)]=_0x3b46ce[_0x2720f7(0x9f4)](async()=>{const _0x1d7e28=_0x2720f7;try{const _0x58f6ca=await this[_0x1d7e28(0x2e8)](_0x544251,_0xad2e76,_0x707b3a);this[_0x1d7e28(0x241)]===_0x1d89a1[_0x1d7e28(0x21e)][_0x1d7e28(0x52c)]&&(_0x58f6ca['iceServers']=_0x58f6ca['iceServers'][_0x1d7e28(0x2b3)](_0x1e404c=>_0x1e404c['urls'][_0x1d7e28(0xb20)](_0x1d7e28(0x5d5)))),_0x1b9b52[_0x1d7e28(0x90f)]=_0x58f6ca['iceServers'];}catch(_0x3ad590){}},0x1b7740)),_0x1b9b52;}async[_0xab329a(0x3de)](_0x21a2d3){const _0x74feeb=_0xab329a;if(_0x34155b[_0x74feeb(0x241)]!==_0x1d89a1['NodeType']['User'])throw new _0x1695e5(_0x91d017[_0x74feeb(0x415)],'Node\x20type\x20is\x20invalid');await this[_0x74feeb(0x8f5)][_0x74feeb(0x4bb)](_0x21a2d3);const _0x41f8cc=new _0x5ce360(_0x21a2d3['id'],_0x21a2d3[_0x74feeb(0x876)],_0x21a2d3[_0x74feeb(0x776)]);return this['authContext']={'node':_0x41f8cc},_0x2c8398[_0x74feeb(0x1da)](_0x41f8cc),{'type':_0x1d89a1['NodeType'][_0x74feeb(0x373)],'getId':_0x41f8cc[_0x74feeb(0x7a4)]['bind'](_0x41f8cc),'getDisplayName':_0x41f8cc[_0x74feeb(0x7e7)][_0x74feeb(0x5b5)](_0x41f8cc),'getEmail':_0x41f8cc['getEmail'][_0x74feeb(0x5b5)](_0x41f8cc),'setDisplayName':_0x41f8cc['setDisplayName'][_0x74feeb(0x5b5)](_0x41f8cc),'setEmail':_0x41f8cc[_0x74feeb(0xa17)]['bind'](_0x41f8cc)};}async[_0xab329a(0x90b)](_0x3b5594){const _0x59d18a=_0xab329a;if(_0x34155b[_0x59d18a(0x241)]!==_0x1d89a1[_0x59d18a(0x21e)][_0x59d18a(0x52c)])throw new _0x1695e5(_0x91d017['NodeInvalidType'],_0x59d18a(0x185));const {id:_0x5a6878,groupId:_0xf9c3ca}=_0x3b5594,_0x3c8e3f=await(0x0,_0x30ad83['getDoc'])((0x0,_0x30ad83['doc'])(_0x44b60b[_0x59d18a(0xa12)](),_0x59d18a(0x29c)+this[_0x59d18a(0x3e1)]+'/resources/agent/items/'+_0xf9c3ca));if(!_0x3c8e3f[_0x59d18a(0x607)]())throw new _0x1695e5(_0x91d017[_0x59d18a(0x16b)],_0x59d18a(0x58e));const _0x4eeacf=_0x3c8e3f['data']();await this['authService'][_0x59d18a(0x4bb)]({'id':_0x5a6878});const _0x97a072=new _0x44caf4(_0x5a6878,_0xf9c3ca,this['vendorId'],_0x4eeacf);return this[_0x59d18a(0x3eb)]={'node':_0x97a072},_0x2c8398[_0x59d18a(0x1da)](_0x97a072),this['connectAgent'](_0x97a072),{'type':_0x1d89a1[_0x59d18a(0x21e)][_0x59d18a(0x52c)],'getId':_0x97a072[_0x59d18a(0x7a4)]['bind'](_0x97a072),'onConfigurationChange':_0x97a072[_0x59d18a(0x5c5)][_0x59d18a(0x5b5)](_0x97a072),'setReportCapacity':_0x97a072[_0x59d18a(0xa51)][_0x59d18a(0x5b5)](_0x97a072)};}async[_0xab329a(0x48d)](_0x3e81c1,_0x52e7fc){const _0x11a7e1=_0xab329a,_0x8b0d4e=await(0x0,_0x30ad83[_0x11a7e1(0x246)])((0x0,_0x30ad83[_0x11a7e1(0x71b)])(_0x44b60b[_0x11a7e1(0xa12)](),_0x11a7e1(0xa71)+_0x3e81c1));if(!_0x8b0d4e[_0x11a7e1(0x607)]()){const _0xcb7ada=atob(_0x3e81c1)[_0x11a7e1(0xb12)](':'),_0x46465a=_0xcb7ada['shift'](),_0x567a1f=_0xcb7ada[_0x11a7e1(0xa75)](':');if(!_0x46465a||!_0x567a1f)throw new _0x1695e5(_0x91d017['InvalidAccess'],_0x11a7e1(0x1d2));try{return await(0x0,_0x579870[_0x11a7e1(0x845)])(_0x44b60b[_0x11a7e1(0x746)](),'sdkValidateAccess')({'vendorId':_0x46465a,'accessToken':_0x567a1f,'origin':_0x52e7fc}),_0x46465a;}catch(_0xc0a8e7){throw new _0x1695e5(_0x91d017['InvalidAccess'],_0x11a7e1(0x873)+(_0xc0a8e7 instanceof Error?_0xc0a8e7[_0x11a7e1(0x3cc)]:'Unknown\x20error'));}}return _0x8b0d4e[_0x11a7e1(0x62e)]()[_0x11a7e1(0x3e1)];}async[_0xab329a(0x86f)](_0x5cb31d,_0x2f15c0){const _0x3d01fd=_0xab329a;if(!this['authContext'])throw new _0x1695e5(_0x91d017['NodeNotAuthenticated'],_0x3d01fd(0x840));if(this['authContext']['node']['type']!==_0x1d89a1[_0x3d01fd(0x21e)]['User'])throw new _0x1695e5(_0x91d017[_0x3d01fd(0x279)],_0x3d01fd(0x99c));if(this['clusters']['has'](_0x5cb31d))throw new _0x1695e5(_0x91d017[_0x3d01fd(0x22b)],_0x3d01fd(0x3c3));const _0x549534=new _0x45e96a(this[_0x3d01fd(0x3e1)],_0x5cb31d,this[_0x3d01fd(0x3eb)][_0x3d01fd(0x50f)],this['authService'],this[_0x3d01fd(0x438)],this[_0x3d01fd(0x8f2)]);return!0x0!==_0x2f15c0&&await _0x549534[_0x3d01fd(0xa75)](),this[_0x3d01fd(0x7c4)](_0x5cb31d,_0x549534),_0x542377[_0x3d01fd(0x1aa)](_0x3d01fd(0x7d6),{'clusterId':_0x5cb31d,'nodeId':this[_0x3d01fd(0x3eb)][_0x3d01fd(0x50f)][_0x3d01fd(0x7a4)](),'nodeType':this['authContext'][_0x3d01fd(0x50f)][_0x3d01fd(0x539)]}),{'leave':_0x549534['leave'][_0x3d01fd(0x5b5)](_0x549534),'getLocalNode':_0x549534[_0x3d01fd(0x929)][_0x3d01fd(0x5b5)](_0x549534),'openPubSubTopic':_0x549534[_0x3d01fd(0x38a)][_0x3d01fd(0x5b5)](_0x549534),'openObjectStoreBucket':_0x549534[_0x3d01fd(0x715)]['bind'](_0x549534),'openExternalStorageConnection':_0x549534[_0x3d01fd(0x4c0)][_0x3d01fd(0x5b5)](_0x549534),'openKeyValueDatabase':_0x549534[_0x3d01fd(0x3d5)][_0x3d01fd(0x5b5)](_0x549534),'openGenerativeAIContext':_0x549534[_0x3d01fd(0x94d)][_0x3d01fd(0x5b5)](_0x549534),'openGenerativeAIContextStandalone':_0x549534[_0x3d01fd(0x4e0)][_0x3d01fd(0x5b5)](_0x549534),'openGenerativeAIWorker':_0x549534[_0x3d01fd(0x678)][_0x3d01fd(0x5b5)](_0x549534),'openGraphDatabase':_0x549534[_0x3d01fd(0x383)]['bind'](_0x549534),'openVectorDatabase':_0x549534['openVectorDatabase'][_0x3d01fd(0x5b5)](_0x549534),'publishLocalMediaStream':_0x549534['publishLocalMediaStream'][_0x3d01fd(0x5b5)](_0x549534),'publishLocalDynamicMediaStream':_0x549534[_0x3d01fd(0x91d)][_0x3d01fd(0x5b5)](_0x549534),'getPubSubTopics':_0x549534[_0x3d01fd(0x301)][_0x3d01fd(0x5b5)](_0x549534),'getObjectStoreBuckets':_0x549534['getObjectStoreBuckets']['bind'](_0x549534),'getExternalStorageConnections':_0x549534[_0x3d01fd(0x68f)][_0x3d01fd(0x5b5)](_0x549534),'getKeyValueDatabases':_0x549534['getKeyValueDatabases']['bind'](_0x549534),'getGenerativeAIContexts':_0x549534[_0x3d01fd(0xa7c)]['bind'](_0x549534),'getGenerativeAIContextsStandalone':_0x549534[_0x3d01fd(0x766)][_0x3d01fd(0x5b5)](_0x549534),'getGenerativeAIWorkers':_0x549534['getGenerativeAIWorkers'][_0x3d01fd(0x5b5)](_0x549534),'getGraphDatabases':_0x549534[_0x3d01fd(0x9b3)]['bind'](_0x549534),'getVectorDatabases':_0x549534[_0x3d01fd(0x618)][_0x3d01fd(0x5b5)](_0x549534),'getLocalMediaStreams':_0x549534['getLocalMediaStreams'][_0x3d01fd(0x5b5)](_0x549534),'getRemoteMediaStreams':_0x549534[_0x3d01fd(0x964)][_0x3d01fd(0x5b5)](_0x549534),'getRemoteNodes':_0x549534['getRemoteNodes'][_0x3d01fd(0x5b5)](_0x549534),'on':_0x549534['on'][_0x3d01fd(0x5b5)](_0x549534),'off':_0x549534[_0x3d01fd(0x839)][_0x3d01fd(0x5b5)](_0x549534)};}async['connectAgent'](_0x3de6cd){const _0x1f9fd0=_0xab329a,_0x17cf42=new _0x45e96a(this[_0x1f9fd0(0x3e1)],_0x1f9fd0(0x3cd),_0x3de6cd,this[_0x1f9fd0(0x8f5)],this[_0x1f9fd0(0x438)],this['configs']);await _0x17cf42[_0x1f9fd0(0xa75)](),this['addCluster'](_0x1f9fd0(0x3cd),_0x17cf42),_0x542377[_0x1f9fd0(0x48f)](_0x1f9fd0(0x36e),'crewdle'),await _0x17cf42[_0x1f9fd0(0x678)]('crewdle'),_0x542377['forceLog']('Opened\x20generative\x20AI\x20worker','crewdle');}[_0xab329a(0x7c4)](_0x4c9248,_0x15f86d){const _0x47bda4=_0xab329a;this[_0x47bda4(0xa72)][_0x47bda4(0x4d1)](_0x4c9248,_0x15f86d),_0x15f86d['on'](_0x47bda4(0x1ce),()=>{const _0x5aba82=_0x47bda4;_0x15f86d['off'](),this[_0x5aba82(0xa72)][_0x5aba82(0x425)](_0x4c9248);});}static[_0xab329a(0x165)](_0x4cc294){const _0x3eb01c=_0xab329a;return void 0x0!==_0x4cc294[_0x3eb01c(0x90f)];}}return _0x21aab5;})())));