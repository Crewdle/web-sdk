(function(_0x5e17f6,_0x30274a){const _0x115c48=a0_0x532f,_0x377d21=_0x5e17f6();while(!![]){try{const _0x334a7a=-parseInt(_0x115c48(0x60e))/0x1+-parseInt(_0x115c48(0x451))/0x2+-parseInt(_0x115c48(0x551))/0x3+parseInt(_0x115c48(0x517))/0x4*(-parseInt(_0x115c48(0x436))/0x5)+parseInt(_0x115c48(0x5af))/0x6*(-parseInt(_0x115c48(0x635))/0x7)+-parseInt(_0x115c48(0x61e))/0x8+parseInt(_0x115c48(0x771))/0x9;if(_0x334a7a===_0x30274a)break;else _0x377d21['push'](_0x377d21['shift']());}catch(_0x503b79){_0x377d21['push'](_0x377d21['shift']());}}}(a0_0x5792,0xa51b0),!function(_0xf8d722,_0x41ea79){const _0x2e6971=a0_0x532f;if(_0x2e6971(0x136)==typeof exports&&_0x2e6971(0x136)==typeof module)module[_0x2e6971(0x4c1)]=_0x41ea79();else{if(_0x2e6971(0x410)==typeof define&&define[_0x2e6971(0x28b)])define([],_0x41ea79);else{var _0x323eed=_0x41ea79();for(var _0x260f3b in _0x323eed)(_0x2e6971(0x136)==typeof exports?exports:_0xf8d722)[_0x260f3b]=_0x323eed[_0x260f3b];}}}(this,()=>((()=>{'use strict';const _0x136916=a0_0x532f;var _0x3ab1d9={0x14d:(_0x549efc,_0x4d67fa,_0x54e0b8)=>{const _0x33c7db=a0_0x532f;_0x54e0b8['d'](_0x4d67fa,{'O':()=>_0x95e1e8});const _0x95e1e8={'version':_0x33c7db(0x500),'isProduction':!0x1,'firebaseConfig':{'apiKey':'AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','authDomain':_0x33c7db(0x41d),'databaseURL':_0x33c7db(0x707),'projectId':_0x33c7db(0x621),'storageBucket':_0x33c7db(0x116),'appId':'1:519415702791:web:5dd39042f881cfde3251a2','functionsRegion':_0x33c7db(0x501)},'aws':{'endpoint':'https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','region':'us-east-1'}};},0x33b:(_0x52da18,_0x20aa46,_0x3f5546)=>{_0x3f5546['d'](_0x20aa46,{'O':()=>_0xb4b7cb});const _0xb4b7cb={};},0x3e6:(_0x2fdf87,_0x500c7d,_0x56384f)=>{const _0x2ac8c9=a0_0x532f;_0x56384f['d'](_0x500c7d,{'O':()=>_0x479289});const _0x479289={'isProduction':!0x0,'firebaseConfig':{'apiKey':_0x2ac8c9(0x1c1),'authDomain':_0x2ac8c9(0x65a),'databaseURL':_0x2ac8c9(0x5f1),'projectId':_0x2ac8c9(0x3dc),'storageBucket':_0x2ac8c9(0x639),'messagingSenderId':_0x2ac8c9(0x4fc),'appId':_0x2ac8c9(0x5a3),'measurementId':_0x2ac8c9(0x429)},'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':_0x2ac8c9(0x73c)}};},0x20:(_0x19c6f6,_0xff7a65,_0xea091a)=>{_0xea091a['d'](_0xff7a65,{'O':()=>_0x3277de});const _0x3277de={};}},_0x1e9d7e={};function _0x1faedd(_0x49a093){const _0x5617f3=a0_0x532f;var _0x3e5482=_0x1e9d7e[_0x49a093];if(void 0x0!==_0x3e5482)return _0x3e5482[_0x5617f3(0x4c1)];var _0x43a87a=_0x1e9d7e[_0x49a093]={'exports':{}};return _0x3ab1d9[_0x49a093](_0x43a87a,_0x43a87a[_0x5617f3(0x4c1)],_0x1faedd),_0x43a87a['exports'];}_0x1faedd['d']=(_0x156b79,_0x3161d7)=>{const _0x126d79=a0_0x532f;for(var _0x559635 in _0x3161d7)_0x1faedd['o'](_0x3161d7,_0x559635)&&!_0x1faedd['o'](_0x156b79,_0x559635)&&Object[_0x126d79(0x6af)](_0x156b79,_0x559635,{'enumerable':!0x0,'get':_0x3161d7[_0x559635]});},_0x1faedd['g']=(function(){const _0x3ecdb7=a0_0x532f;if(_0x3ecdb7(0x136)==typeof globalThis)return globalThis;try{return this||new Function(_0x3ecdb7(0x4cc))();}catch(_0xa5abb1){if(_0x3ecdb7(0x136)==typeof window)return window;}}()),_0x1faedd['o']=(_0x3e7bb6,_0x23d32f)=>Object[_0x136916(0x6a8)]['hasOwnProperty']['call'](_0x3e7bb6,_0x23d32f),_0x1faedd['r']=_0x245662=>{const _0x37e821=_0x136916;_0x37e821(0x467)!=typeof Symbol&&Symbol[_0x37e821(0x708)]&&Object[_0x37e821(0x6af)](_0x245662,Symbol[_0x37e821(0x708)],{'value':_0x37e821(0x4a2)}),Object[_0x37e821(0x6af)](_0x245662,_0x37e821(0x18b),{'value':!0x0});};var _0x235d31,_0x497fea,_0x19b950,_0x28efdc={};_0x1faedd['r'](_0x28efdc),_0x1faedd['d'](_0x28efdc,{'KeyValueDatabase':()=>_0xc15251,'LayoutBuilder':()=>_0x121e5f,'LoggingChannels':()=>_0x19b950,'QueryBuilder':()=>_0x11c9e7,'SDK':()=>_0x40b2b4,'SDKClientErrorCodes':()=>_0x235d31,'TableBuilder':()=>_0xf667ad,'logger':()=>_0x148f53}),function(_0x537452){const _0x2aeb1c=_0x136916;_0x537452[_0x2aeb1c(0x723)]=_0x2aeb1c(0x474),_0x537452[_0x2aeb1c(0x657)]='feature-not-enabled',_0x537452[_0x2aeb1c(0x406)]=_0x2aeb1c(0x633),_0x537452[_0x2aeb1c(0x2ea)]=_0x2aeb1c(0x2f0),_0x537452[_0x2aeb1c(0x2e7)]=_0x2aeb1c(0x1f7),_0x537452[_0x2aeb1c(0x3f1)]=_0x2aeb1c(0x66c),_0x537452['GenerativeAIWorkerMissingConnectors']=_0x2aeb1c(0x738),_0x537452[_0x2aeb1c(0x41a)]='generative-ai-worker-model-sync-error',_0x537452[_0x2aeb1c(0x356)]=_0x2aeb1c(0x605),_0x537452[_0x2aeb1c(0x606)]=_0x2aeb1c(0x3df),_0x537452[_0x2aeb1c(0x47b)]='job-dispatcher-job-exists',_0x537452['JobDispatcherJobNotFound']=_0x2aeb1c(0x288),_0x537452[_0x2aeb1c(0x576)]=_0x2aeb1c(0x569),_0x537452['JobWorkerAlreadyExists']=_0x2aeb1c(0x55d),_0x537452[_0x2aeb1c(0x5dd)]='job-worker-does-not-exist',_0x537452[_0x2aeb1c(0x423)]=_0x2aeb1c(0x160),_0x537452['ObjectStoreAlreadySubscribed']='object-store-already-subscribed',_0x537452[_0x2aeb1c(0x3ad)]=_0x2aeb1c(0x492),_0x537452[_0x2aeb1c(0x6c0)]=_0x2aeb1c(0x67b),_0x537452[_0x2aeb1c(0x2df)]=_0x2aeb1c(0x1a5),_0x537452['ObjectStoreInvalidPath']=_0x2aeb1c(0x669),_0x537452[_0x2aeb1c(0x233)]='object-store-not-in-sync',_0x537452[_0x2aeb1c(0x413)]=_0x2aeb1c(0x14c),_0x537452[_0x2aeb1c(0x6f6)]=_0x2aeb1c(0x2aa),_0x537452[_0x2aeb1c(0x439)]='key-value-database-already-exists',_0x537452[_0x2aeb1c(0x28c)]=_0x2aeb1c(0x63f),_0x537452[_0x2aeb1c(0x294)]=_0x2aeb1c(0x59f),_0x537452[_0x2aeb1c(0x306)]=_0x2aeb1c(0x74e),_0x537452['KeyValueDatabaseInvalidValue']=_0x2aeb1c(0x416),_0x537452[_0x2aeb1c(0x18f)]=_0x2aeb1c(0x62f),_0x537452[_0x2aeb1c(0x5e0)]=_0x2aeb1c(0x2a9),_0x537452['KeyValueDatabaseTableNameReserved']=_0x2aeb1c(0x677),_0x537452[_0x2aeb1c(0x329)]=_0x2aeb1c(0x40f),_0x537452[_0x2aeb1c(0x6f0)]=_0x2aeb1c(0x2bd),_0x537452[_0x2aeb1c(0x248)]=_0x2aeb1c(0x2d2),_0x537452['LocalMediaStreamNoAudioContext']=_0x2aeb1c(0x14a),_0x537452[_0x2aeb1c(0x36d)]=_0x2aeb1c(0x3eb),_0x537452[_0x2aeb1c(0x68f)]=_0x2aeb1c(0x1b0),_0x537452['PubSubTopicNameNotString']='pub-sub-topic-name-not-string',_0x537452[_0x2aeb1c(0x2c6)]=_0x2aeb1c(0x51d),_0x537452[_0x2aeb1c(0x688)]=_0x2aeb1c(0x130),_0x537452[_0x2aeb1c(0x721)]=_0x2aeb1c(0x545),_0x537452[_0x2aeb1c(0x719)]=_0x2aeb1c(0x75f),_0x537452['SubscriptionRequestInProgress']='subscription-request-in-progress',_0x537452['NodeNotAuthenticated']='node-not-authenticated',_0x537452[_0x2aeb1c(0x51f)]=_0x2aeb1c(0x1bc),_0x537452['NodeTypeNotSupported']=_0x2aeb1c(0x29c);}(_0x235d31||(_0x235d31={}));class _0x4b5cf3 extends Error{[_0x136916(0x582)];constructor(_0x436422,_0x5eb750){const _0x44d441=_0x136916;super(_0x5eb750),this[_0x44d441(0x582)]=_0x436422;}}!function(_0x45efdf){const _0x467658=_0x136916;_0x45efdf[_0x467658(0x124)]=_0x467658(0x5a6),_0x45efdf[_0x467658(0x32e)]=_0x467658(0x10d),_0x45efdf[_0x467658(0x266)]=_0x467658(0x296),_0x45efdf[_0x467658(0x48a)]=_0x467658(0x4dc),_0x45efdf['GenerativeAIContext']=_0x467658(0x4f7);}(_0x497fea||(_0x497fea={})),function(_0x4ea6f6){const _0x429142=_0x136916;_0x4ea6f6[_0x429142(0x126)]=_0x429142(0x73d),_0x4ea6f6[_0x429142(0x3e1)]=_0x429142(0x6d5),_0x4ea6f6[_0x429142(0x2fb)]=_0x429142(0x41b),_0x4ea6f6[_0x429142(0x6d7)]=_0x429142(0x4db),_0x4ea6f6[_0x429142(0x5ca)]=_0x429142(0x14e),_0x4ea6f6[_0x429142(0x632)]=_0x429142(0x2dc),_0x4ea6f6[_0x429142(0x3ac)]=_0x429142(0x402),_0x4ea6f6[_0x429142(0x4b3)]=_0x429142(0x1d8),_0x4ea6f6[_0x429142(0x644)]=_0x429142(0x408),_0x4ea6f6[_0x429142(0x11d)]=_0x429142(0x4d8),_0x4ea6f6[_0x429142(0x2b6)]=_0x429142(0x638),_0x4ea6f6[_0x429142(0x586)]=_0x429142(0x228),_0x4ea6f6[_0x429142(0x66f)]=_0x429142(0x48c),_0x4ea6f6['PubSub']='pubsub',_0x4ea6f6['Remediation']=_0x429142(0x2d4),_0x4ea6f6['Signaling']=_0x429142(0x765),_0x4ea6f6[_0x429142(0x1c3)]='stats',_0x4ea6f6['Subscription']='subscription',_0x4ea6f6[_0x429142(0x4fa)]=_0x429142(0x6b2),_0x4ea6f6[_0x429142(0x4c9)]=_0x429142(0x21b),_0x4ea6f6[_0x429142(0x352)]='system-stats',_0x4ea6f6[_0x429142(0x409)]=_0x429142(0x702),_0x4ea6f6[_0x429142(0x731)]=_0x429142(0x466);}(_0x19b950||(_0x19b950={}));const _0x1095f4=require('@crewdle/web-sdk-types');class _0x11c9e7{['query'];constructor(_0x412ff5){const _0x562c4c=_0x136916;this[_0x562c4c(0x218)]={'orderBy':{'key':_0x412ff5,'direction':'asc'}};}static[_0x136916(0x40d)](_0x19ebff){const _0x5674a6=_0x136916;if(_0x5674a6(0x112)!=typeof _0x19ebff||0x0===_0x19ebff[_0x5674a6(0x3a9)])throw new _0x4b5cf3(_0x235d31[_0x5674a6(0x688)],'Invalid\x20index\x20key:\x20must\x20be\x20a\x20string');return new _0x11c9e7(_0x19ebff);}static[_0x136916(0x1ec)](_0x1f50b1){const _0x445990=_0x136916;try{return _0x11c9e7[_0x445990(0x65c)](_0x1f50b1),!0x0;}catch(_0x50af6c){return!0x1;}}static[_0x136916(0x65c)](_0x4b7d62){const _0x284316=_0x136916,_0x26472b=_0x11c9e7[_0x284316(0x40d)](_0x4b7d62[_0x284316(0x15f)]?.[_0x284316(0x593)]??_0x4b7d62[_0x284316(0x53e)]?.[_0x284316(0x593)]??'');if(_0x4b7d62[_0x284316(0x53e)]){const _0x38b95f=_0x4b7d62[_0x284316(0x53e)];if((_0x11c9e7[_0x284316(0x5c1)](_0x38b95f)||_0x11c9e7[_0x284316(0x16b)](_0x38b95f)||_0x11c9e7[_0x284316(0x51e)](_0x38b95f))&&_0x26472b[_0x284316(0x53e)](_0x38b95f[_0x284316(0x547)],_0x38b95f[_0x284316(0x4d3)]),_0x4b7d62[_0x284316(0x15f)]?.[_0x284316(0x593)]&&_0x4b7d62[_0x284316(0x15f)]?.[_0x284316(0x593)]!==_0x4b7d62['where']['key'])throw new _0x4b5cf3(_0x235d31[_0x284316(0x688)],'Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key');}return _0x4b7d62[_0x284316(0x15f)]&&_0x26472b[_0x284316(0x15f)](_0x4b7d62[_0x284316(0x15f)][_0x284316(0x25a)]),_0x4b7d62['limit']&&_0x26472b[_0x284316(0x12d)](_0x4b7d62[_0x284316(0x12d)]),_0x4b7d62[_0x284316(0x5fc)]&&_0x26472b['offset'](_0x4b7d62['offset']),_0x26472b;}['getQuery'](){return{...this['query']};}[_0x136916(0x53e)](_0x54d0e9,_0x39bf6){const _0x26527c=_0x136916,_0x8b527d={'key':this[_0x26527c(0x218)][_0x26527c(0x15f)]['key'],'operator':_0x54d0e9,'value':_0x39bf6};if(!_0x11c9e7[_0x26527c(0x5c1)](_0x8b527d)&&!_0x11c9e7[_0x26527c(0x16b)](_0x8b527d)&&!_0x11c9e7[_0x26527c(0x51e)](_0x8b527d))throw new _0x4b5cf3(_0x235d31[_0x26527c(0x688)],_0x26527c(0x4ae));return this[_0x26527c(0x218)][_0x26527c(0x53e)]=_0x8b527d,this;}['orderBy'](_0xcc92cd){const _0x3e4ac7=_0x136916;if('asc'!==_0xcc92cd&&_0x3e4ac7(0x36b)!==_0xcc92cd)throw new _0x4b5cf3(_0x235d31['QueryBuilderInvalidArgument'],_0x3e4ac7(0x740));return this[_0x3e4ac7(0x218)]['orderBy'][_0x3e4ac7(0x25a)]=_0xcc92cd,this;}[_0x136916(0x12d)](_0x406aa1){const _0x3f00e4=_0x136916;if('number'!=typeof _0x406aa1||_0x406aa1<0x0)throw new _0x4b5cf3(_0x235d31[_0x3f00e4(0x688)],'Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number');return this[_0x3f00e4(0x218)][_0x3f00e4(0x12d)]=_0x406aa1,this;}[_0x136916(0x5fc)](_0xa803d9){const _0x101496=_0x136916;if(_0x101496(0x137)!=typeof _0xa803d9||_0xa803d9<0x0)throw new _0x4b5cf3(_0x235d31[_0x101496(0x688)],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this['query'][_0x101496(0x5fc)]=_0xa803d9,this;}static['isWhereValue'](_0x5c9c36){const _0x43579e=_0x136916;if(!(_0x5c9c36&&_0x43579e(0x136)==typeof _0x5c9c36&&_0x43579e(0x547)in _0x5c9c36&&_0x43579e(0x4d3)in _0x5c9c36))return!0x1;const {operator:_0x1acf17,value:_0x3afad6}=_0x5c9c36;return!(!['==','!=','>','<','<=','>='][_0x43579e(0x232)](_0x1acf17)||Array[_0x43579e(0x672)](_0x3afad6));}static['isWhereValues'](_0x57a798){const _0x3b957e=_0x136916;if(!(_0x57a798&&_0x3b957e(0x136)==typeof _0x57a798&&_0x3b957e(0x547)in _0x57a798&&'value'in _0x57a798))return!0x1;const {operator:_0x27afa8,value:_0x390f35}=_0x57a798;return!(!['in','not-in'][_0x3b957e(0x232)](_0x27afa8)||!Array[_0x3b957e(0x672)](_0x390f35));}static[_0x136916(0x51e)](_0x120c85){const _0x3be2ba=_0x136916;if(!(_0x120c85&&_0x3be2ba(0x136)==typeof _0x120c85&&'operator'in _0x120c85&&_0x3be2ba(0x4d3)in _0x120c85))return!0x1;const {operator:_0x3e325,value:_0x4e5f08}=_0x120c85;return!(_0x3be2ba(0x53d)!==_0x3e325||!Array[_0x3be2ba(0x672)](_0x4e5f08)||0x2!==_0x4e5f08[_0x3be2ba(0x3a9)]);}}class _0x121e5f{[_0x136916(0x5fe)];constructor(_0x57883e){this['layout']={'tables':{},'version':_0x57883e};}static[_0x136916(0x38c)](_0x283ac3){const _0x44c05c=_0x136916;for(const _0xfc4a44 in _0x283ac3){if('version'!==_0xfc4a44&&_0x44c05c(0x450)!==_0xfc4a44)return[!0x1,_0x44c05c(0x2fa)+_0xfc4a44+_0x44c05c(0x453)];if(_0x44c05c(0x450)===_0xfc4a44)for(const _0x193ad2 in _0x283ac3[_0x44c05c(0x450)]){if(_0x44c05c(0x112)!=typeof _0x193ad2)return[!0x1,_0x44c05c(0x683)+_0x193ad2+'\x27'];for(const _0x489838 in _0x283ac3[_0x44c05c(0x450)][_0x193ad2]){if(_0x44c05c(0x12a)!==_0x489838)return[!0x1,_0x44c05c(0x2fa)+_0x489838+_0x44c05c(0x5c9)+_0x193ad2+'\x27'];const _0x37d5f7=_0x283ac3['tables'][_0x193ad2][_0x489838]??[];for(const _0xa1a3c7 of _0x37d5f7)if(void 0x0===_0xa1a3c7[_0x44c05c(0x56d)]||_0x44c05c(0x112)!=typeof _0xa1a3c7[_0x44c05c(0x56d)])return[!0x1,_0x44c05c(0x5fb)+_0x193ad2+'\x27:\x20missing\x20or\x20invalid\x20keyPath'];}}else{if(_0x44c05c(0x67d)===_0xfc4a44&&_0x44c05c(0x137)!=typeof _0x283ac3[_0xfc4a44])return[!0x1,_0x44c05c(0x5c0)+_0x283ac3[_0xfc4a44]+_0x44c05c(0x11c)];}}return[!0x0,'Valid\x20layout'];}static[_0x136916(0x5fe)](_0x22d60d){const _0x26faf9=_0x136916,_0x2ee41b=new _0x121e5f(_0x22d60d);return _0x2ee41b['layout'][_0x26faf9(0x67d)]=_0x22d60d,_0x2ee41b;}[_0x136916(0x77d)](_0x521b52){const _0x4b3302=_0x136916;return this['layout'][_0x4b3302(0x450)][_0x521b52]={},new _0xf667ad(this['layout'][_0x4b3302(0x450)][_0x521b52]);}['getLayout'](){const _0x17de7b=_0x136916;return this[_0x17de7b(0x5fe)];}}class _0xf667ad{['tableLayout'];constructor(_0x3f573c){const _0x50bbc5=_0x136916;this[_0x50bbc5(0x20f)]=_0x3f573c;}['index'](_0x103f6d){const _0xbde74a=_0x136916;return this[_0xbde74a(0x20f)][_0xbde74a(0x12a)]=this[_0xbde74a(0x20f)][_0xbde74a(0x12a)]??[],this[_0xbde74a(0x20f)][_0xbde74a(0x12a)][_0xbde74a(0x5ac)]({'keyPath':_0x103f6d}),this;}}const _0x19329a=0x3f800,_0xb0add0='.crewdle-last-transaction',_0x3ca651='.crewdle-pending',_0x4dafc3=_0x136916(0x549),_0x52c6bf='.crewdle-layout',_0x128163=0x7530,_0x1812da=0x7530,_0x5e4fe9='/documents',_0x23eca1=_0x136916(0x72e);var _0x2826e4;!function(_0x378d1b){const _0x507753=_0x136916;_0x378d1b[_0x507753(0x46c)]=_0x507753(0x275),_0x378d1b[_0x507753(0x3f2)]=_0x507753(0x2c4),_0x378d1b[_0x507753(0x770)]=_0x507753(0x379),_0x378d1b['ConnectionInvalidDataEvent']=_0x507753(0x5d9),_0x378d1b[_0x507753(0x345)]='generative-ai-context-creation-failed',_0x378d1b[_0x507753(0x382)]=_0x507753(0x18d),_0x378d1b[_0x507753(0x2ed)]='generative-ai-context-job-timeout',_0x378d1b['GenerativeAIContextInvalidPartialResult']='generative-ai-context-invalid-partial-result',_0x378d1b[_0x507753(0x3af)]='generative-ai-worker-creation-failed',_0x378d1b[_0x507753(0x48e)]='invalid-data-chanel',_0x378d1b[_0x507753(0x68a)]=_0x507753(0x43e),_0x378d1b[_0x507753(0x6f5)]='invalid-subscriber',_0x378d1b['InvalidSubscription']=_0x507753(0x45c),_0x378d1b[_0x507753(0x350)]=_0x507753(0x758),_0x378d1b[_0x507753(0x37f)]='job-dispatcher-invalid-payload',_0x378d1b['JobDispatcherJobNotFound']=_0x507753(0x288),_0x378d1b[_0x507753(0x6ab)]=_0x507753(0x2d9),_0x378d1b[_0x507753(0x540)]=_0x507753(0x246),_0x378d1b[_0x507753(0x16c)]=_0x507753(0x446),_0x378d1b[_0x507753(0x4f0)]=_0x507753(0x5ce),_0x378d1b[_0x507753(0x3c9)]=_0x507753(0x542),_0x378d1b['KeyValueDatabaseTransactionTableNotInitialized']=_0x507753(0x665),_0x378d1b['KeyValueDatabaseTransactionValueNotSet']=_0x507753(0x1d3),_0x378d1b[_0x507753(0x39f)]=_0x507753(0x415),_0x378d1b[_0x507753(0x1d7)]=_0x507753(0x434),_0x378d1b[_0x507753(0x5d1)]=_0x507753(0x630),_0x378d1b[_0x507753(0x617)]=_0x507753(0x6e2),_0x378d1b[_0x507753(0x419)]=_0x507753(0x485),_0x378d1b[_0x507753(0x5be)]=_0x507753(0x374),_0x378d1b[_0x507753(0x491)]=_0x507753(0x773),_0x378d1b['ObjectStoreNotSynced']='object-store-not-synced',_0x378d1b[_0x507753(0x64d)]=_0x507753(0x256),_0x378d1b['RemoteMediaStreamDoesNotExist']='remote-stream-does-not-exist',_0x378d1b[_0x507753(0x426)]=_0x507753(0x1c4),_0x378d1b['RemoteConnectionExists']=_0x507753(0x2f8),_0x378d1b['SubscriptionRequestDoesNotExist']=_0x507753(0x649),_0x378d1b['SubscriptionRequestFailed']=_0x507753(0x2c3),_0x378d1b[_0x507753(0x192)]=_0x507753(0x202),_0x378d1b[_0x507753(0x527)]=_0x507753(0x60f),_0x378d1b[_0x507753(0x49f)]=_0x507753(0x19a),_0x378d1b[_0x507753(0x712)]='peer-connection-invalid-destination';}(_0x2826e4||(_0x2826e4={}));const _0x5907c0=new Map([[_0x2826e4[_0x136916(0x46c)],'Connection\x20not\x20initialized.'],[_0x2826e4[_0x136916(0x3f2)],_0x136916(0x175)],[_0x2826e4['ConnectionNoRetryQueue'],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x2826e4[_0x136916(0x531)],_0x136916(0x1c6)],[_0x2826e4[_0x136916(0x345)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x2826e4[_0x136916(0x382)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x2826e4[_0x136916(0x2ed)],_0x136916(0x5d4)],[_0x2826e4['GenerativeAIContextInvalidPartialResult'],_0x136916(0x3e4)],[_0x2826e4[_0x136916(0x3af)],'AI\x20worker\x20creation\x20failed.'],[_0x2826e4[_0x136916(0x48e)],_0x136916(0x25f)],[_0x2826e4[_0x136916(0x68a)],_0x136916(0x58c)],[_0x2826e4[_0x136916(0x6f5)],'Invalid\x20subscriber.'],[_0x2826e4[_0x136916(0x1df)],_0x136916(0x1e9)],[_0x2826e4[_0x136916(0x350)],_0x136916(0x3b5)],[_0x2826e4[_0x136916(0x37f)],'Invalid\x20job\x20service\x20payload.'],[_0x2826e4['JobDispatcherJobNotFound'],_0x136916(0x3d1)],[_0x2826e4[_0x136916(0x6ab)],_0x136916(0x4f3)],[_0x2826e4[_0x136916(0x540)],_0x136916(0x2cc)],[_0x2826e4[_0x136916(0x16c)],_0x136916(0x4e2)],[_0x2826e4[_0x136916(0x4f0)],_0x136916(0x4f9)],[_0x2826e4[_0x136916(0x3c9)],_0x136916(0x13f)],[_0x2826e4['KeyValueDatabaseTransactionTableNotInitialized'],_0x136916(0x55e)],[_0x2826e4[_0x136916(0x398)],_0x136916(0x2ff)],[_0x2826e4['LocalMediaStreamDoesNotExist'],_0x136916(0x4c0)],[_0x2826e4[_0x136916(0x1d7)],_0x136916(0x1ce)],[_0x2826e4[_0x136916(0x5d1)],_0x136916(0x3c3)],[_0x2826e4[_0x136916(0x617)],_0x136916(0x3e3)],[_0x2826e4[_0x136916(0x419)],_0x136916(0x62c)],[_0x2826e4[_0x136916(0x491)],'Invalid\x20object\x20store\x20sync\x20message.'],[_0x2826e4[_0x136916(0x5be)],_0x136916(0x66d)],[_0x2826e4['ObjectStoreNotSynced'],_0x136916(0x36a)],[_0x2826e4[_0x136916(0x64d)],_0x136916(0x3cf)],[_0x2826e4['RemoteMediaStreamDoesNotExist'],_0x136916(0x493)],[_0x2826e4[_0x136916(0x426)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x2826e4['RemoteConnectionExists'],_0x136916(0xf6)],[_0x2826e4['SubscriptionRequestDoesNotExist'],'Subscription\x20request\x20does\x20not\x20exist.'],[_0x2826e4[_0x136916(0x6fb)],_0x136916(0x73e)],[_0x2826e4[_0x136916(0x192)],_0x136916(0xf0)],[_0x2826e4[_0x136916(0x527)],_0x136916(0x58b)],[_0x2826e4['NodeAlreadyExist'],_0x136916(0x655)],[_0x2826e4[_0x136916(0x712)],_0x136916(0x188)]]);class _0x2fb975 extends Error{[_0x136916(0x582)];static ['codes']=_0x2826e4;['data'];constructor(_0x370bd1,_0x17f2ee){const _0x8ac7b3=_0x136916;super(_0x8ac7b3(0x752)+_0x370bd1+':\x20'+_0x5907c0[_0x8ac7b3(0x2b0)](_0x370bd1)+_0x8ac7b3(0x57b)+JSON[_0x8ac7b3(0x728)](_0x17f2ee)),this[_0x8ac7b3(0x582)]=_0x370bd1,this[_0x8ac7b3(0x757)]=_0x17f2ee||{};}}var _0x46fb30,_0x2fa8c5,_0x3ac32e,_0x5735aa,_0x22da6b,_0x48dcbd,_0x15f44c;!function(_0x20d338){const _0x307d04=_0x136916;_0x20d338[_0x20d338['PublishMediaStream']=0x0]=_0x307d04(0x63a),_0x20d338[_0x20d338[_0x307d04(0x613)]=0x1]=_0x307d04(0x613),_0x20d338[_0x20d338[_0x307d04(0x1e7)]=0x2]=_0x307d04(0x1e7),_0x20d338[_0x20d338[_0x307d04(0x6cd)]=0x3]=_0x307d04(0x6cd),_0x20d338[_0x20d338[_0x307d04(0x452)]=0x4]=_0x307d04(0x452),_0x20d338[_0x20d338[_0x307d04(0x258)]=0x5]=_0x307d04(0x258),_0x20d338[_0x20d338['CloseJobWorker']=0x6]=_0x307d04(0x2ee),_0x20d338[_0x20d338[_0x307d04(0x3d3)]=0x7]='CloseObjectStoreBucket',_0x20d338[_0x20d338['CloseKeyValueDatabase']=0x8]=_0x307d04(0x165),_0x20d338[_0x20d338[_0x307d04(0x43b)]=0x9]=_0x307d04(0x43b),_0x20d338[_0x20d338[_0x307d04(0x73f)]=0xa]=_0x307d04(0x73f),_0x20d338[_0x20d338['LocalMediaStreamTrackFail']=0xb]=_0x307d04(0x1cb),_0x20d338[_0x20d338['RemoteMediaStreamTrackFail']=0xc]='RemoteMediaStreamTrackFail',_0x20d338[_0x20d338[_0x307d04(0x1f0)]=0xd]=_0x307d04(0x1f0),_0x20d338[_0x20d338[_0x307d04(0x6ae)]=0xe]=_0x307d04(0x6ae),_0x20d338[_0x20d338[_0x307d04(0x676)]=0xf]=_0x307d04(0x676),_0x20d338[_0x20d338['PubSubTopicStats']=0x10]=_0x307d04(0x69b),_0x20d338[_0x20d338[_0x307d04(0x718)]=0x11]=_0x307d04(0x718),_0x20d338[_0x20d338[_0x307d04(0x178)]=0x12]=_0x307d04(0x178),_0x20d338[_0x20d338[_0x307d04(0x2be)]=0x13]=_0x307d04(0x2be),_0x20d338[_0x20d338[_0x307d04(0x156)]=0x14]=_0x307d04(0x156);}(_0x46fb30||(_0x46fb30={})),function(_0x77c34f){const _0x21d2ae=_0x136916;_0x77c34f['FileWrite']=_0x21d2ae(0x22f),_0x77c34f[_0x21d2ae(0x109)]=_0x21d2ae(0x71e),_0x77c34f[_0x21d2ae(0x115)]=_0x21d2ae(0x21d),_0x77c34f[_0x21d2ae(0xf8)]=_0x21d2ae(0x15b),_0x77c34f[_0x21d2ae(0x53c)]='request-file',_0x77c34f[_0x21d2ae(0x701)]=_0x21d2ae(0x328),_0x77c34f['RequestFileSync']=_0x21d2ae(0x3d2),_0x77c34f[_0x21d2ae(0x648)]='request-file-write';}(_0x2fa8c5||(_0x2fa8c5={})),function(_0x8b3ff1){const _0xa33af4=_0x136916;_0x8b3ff1[_0xa33af4(0x1e8)]=_0xa33af4(0x313),_0x8b3ff1[_0xa33af4(0x4b5)]=_0xa33af4(0x29a);}(_0x3ac32e||(_0x3ac32e={})),function(_0x19bbc6){const _0x33f074=_0x136916;_0x19bbc6[_0x33f074(0x230)]=_0x33f074(0x759),_0x19bbc6[_0x33f074(0x3ea)]=_0x33f074(0x4cb),_0x19bbc6['Delete']='delete';}(_0x5735aa||(_0x5735aa={})),function(_0x215ccd){const _0x4b2374=_0x136916;_0x215ccd[_0x4b2374(0x441)]=_0x4b2374(0x2b0),_0x215ccd[_0x4b2374(0x22a)]=_0x4b2374(0x23f),_0x215ccd[_0x4b2374(0x496)]=_0x4b2374(0x144);}(_0x22da6b||(_0x22da6b={})),function(_0x19fd72){const _0x26a755=_0x136916;_0x19fd72[_0x19fd72[_0x26a755(0x1e8)]=0x0]=_0x26a755(0x1e8),_0x19fd72[_0x19fd72[_0x26a755(0x3b3)]=0x1]=_0x26a755(0x3b3),_0x19fd72[_0x19fd72['Attribution']=0x2]='Attribution',_0x19fd72[_0x19fd72[_0x26a755(0x5a1)]=0x3]='PartialResult',_0x19fd72[_0x19fd72[_0x26a755(0x6ec)]=0x4]=_0x26a755(0x6ec),_0x19fd72[_0x19fd72['Failed']=0x5]=_0x26a755(0x61f);}(_0x48dcbd||(_0x48dcbd={})),function(_0x5cd895){const _0x2a19aa=_0x136916;_0x5cd895[_0x5cd895[_0x2a19aa(0x731)]=0x0]=_0x2a19aa(0x731),_0x5cd895[_0x5cd895[_0x2a19aa(0x586)]=0x1]=_0x2a19aa(0x586),_0x5cd895[_0x5cd895['Content']=0x2]=_0x2a19aa(0x632),_0x5cd895[_0x5cd895[_0x2a19aa(0x120)]=0x3]=_0x2a19aa(0x120),_0x5cd895[_0x5cd895[_0x2a19aa(0x1c3)]=0x4]=_0x2a19aa(0x1c3),_0x5cd895[_0x5cd895[_0x2a19aa(0x4b3)]=0x5]=_0x2a19aa(0x4b3),_0x5cd895[_0x5cd895['Remediation']=0x6]=_0x2a19aa(0x650);}(_0x15f44c||(_0x15f44c={}));class _0x4791ab{[_0x136916(0x342)];[_0x136916(0x369)];[_0x136916(0x74d)];constructor(_0x200a91,_0x2f6fbd){const _0x698a6c=_0x136916;this[_0x698a6c(0x342)]=_0x200a91,this[_0x698a6c(0x369)]=_0x2f6fbd;}[_0x136916(0x2b4)](){const _0x150bfd=_0x136916;return this[_0x150bfd(0x369)];}[_0x136916(0xf7)](){const _0x1de011=_0x136916;return this[_0x1de011(0x342)][_0x1de011(0x716)]();}['destroy'](){}[_0x136916(0x4cd)](_0x59fac1){const _0x360bae=_0x136916;this[_0x360bae(0x74d)]=_0x59fac1;}[_0x136916(0x748)](){const _0x432331=_0x136916;delete this[_0x432331(0x74d)];}}const _0x1d882b=require('firebase/firestore');let _0x573047=_0x1faedd(0x14d)['O'];function _0x41c332(_0x7eec9f){const _0x196d70=_0x136916;return!(!_0x7eec9f||_0x196d70(0x136)!=typeof _0x7eec9f||Array[_0x196d70(0x672)](_0x7eec9f));}_0x573047=function _0x36e1b6(_0x23f375,..._0x3b7e61){const _0x33c2b1=_0x136916;if(!Array[_0x33c2b1(0x672)](_0x3b7e61)||0x0===_0x3b7e61['length'])return _0x23f375;const _0x1c1b50=_0x3b7e61[_0x33c2b1(0x3f4)]();if(_0x41c332(_0x23f375)&&_0x41c332(_0x1c1b50)){for(const _0x6c793e in _0x1c1b50)_0x41c332(_0x1c1b50[_0x6c793e])?(_0x23f375[_0x6c793e]||Object['assign'](_0x23f375,{[_0x6c793e]:{}}),_0x36e1b6(_0x23f375[_0x6c793e],_0x1c1b50[_0x6c793e])):Object[_0x33c2b1(0x24e)](_0x23f375,{[_0x6c793e]:_0x1c1b50[_0x6c793e]});}return _0x36e1b6(_0x23f375,..._0x3b7e61);}(_0x573047,_0x1faedd(0x3e6)['O']);const _0x397e91=_0x573047,_0x3eef81=require('firebase/app'),_0x43f400=require('firebase/auth'),_0x1943d3=require('firebase/database'),_0x2551ca=require('firebase/functions');class _0x4c667a{static [_0x136916(0x756)];[_0x136916(0x2b2)];['auth'];[_0x136916(0x487)];[_0x136916(0x52a)];[_0x136916(0x3d0)];[_0x136916(0x74c)];constructor(){}static[_0x136916(0x387)](){const _0x7d56f2=_0x136916;return _0x4c667a[_0x7d56f2(0x756)]||(_0x4c667a[_0x7d56f2(0x756)]=new _0x4c667a()),_0x4c667a['instance'];}['getApp'](){const _0x84a761=_0x136916;return this['app']||(this[_0x84a761(0x2b2)]=(0x0,_0x3eef81[_0x84a761(0x236)])(_0x397e91[_0x84a761(0x5e1)])),this[_0x84a761(0x2b2)];}[_0x136916(0x270)](){const _0x5f0143=_0x136916;return this[_0x5f0143(0x455)]||(this[_0x5f0143(0x455)]=(0x0,_0x43f400[_0x5f0143(0x270)])(this[_0x5f0143(0xf2)]())),this[_0x5f0143(0x455)];}[_0x136916(0x2fc)](){const _0x5e2420=_0x136916;return this[_0x5e2420(0x487)]||(this[_0x5e2420(0x487)]=(0x0,_0x2551ca['getFunctions'])(this[_0x5e2420(0xf2)](),_0x397e91[_0x5e2420(0x5e1)]['functionsRegion'])),this['functions'];}[_0x136916(0x6a5)](){const _0x291894=_0x136916;return this[_0x291894(0x52a)]||(this[_0x291894(0x52a)]=(0x0,_0x1943d3[_0x291894(0x6a5)])(this[_0x291894(0xf2)]())),this[_0x291894(0x52a)];}[_0x136916(0x61b)](){const _0x3d79c9=_0x136916;return this[_0x3d79c9(0x3d0)]||(this[_0x3d79c9(0x3d0)]=(0x0,_0x1d882b[_0x3d79c9(0x61b)])(this[_0x3d79c9(0xf2)]())),this[_0x3d79c9(0x3d0)];}async[_0x136916(0x147)](){const _0x40ecdd=_0x136916;if(this[_0x40ecdd(0x74c)])return Date[_0x40ecdd(0x154)]()+this[_0x40ecdd(0x74c)];const _0x1a4406=this[_0x40ecdd(0x6a5)](),_0x475f0c=(0x0,_0x1943d3[_0x40ecdd(0x714)])(_0x1a4406,_0x40ecdd(0x6b8)),_0x55bb9f=(0x0,_0x1943d3[_0x40ecdd(0x1a9)])(_0x475f0c,_0x57f94a=>{const _0x5d373e=_0x40ecdd;!0x1===_0x57f94a[_0x5d373e(0x1e4)]()&&(_0x55bb9f(),delete this[_0x5d373e(0x74c)]);}),_0xa7ade6=(0x0,_0x1943d3[_0x40ecdd(0x714)])(_0x1a4406,_0x40ecdd(0x64e));return new Promise(_0x27bc32=>{const _0x497724=_0x40ecdd;(0x0,_0x1943d3[_0x497724(0x1a9)])(_0xa7ade6,_0x328146=>{const _0x4a3778=_0x497724;(0x0,_0x1943d3['off'])(_0xa7ade6),this[_0x4a3778(0x74c)]=_0x328146['val'](),_0x27bc32(Date[_0x4a3778(0x154)]()+(this['clockSkew']??0x0));});});}}const _0x329b41=_0x4c667a[_0x136916(0x387)]();class _0x59c529{static [_0x136916(0x756)];['enabledChannels']=[_0x19b950['Default']];[_0x136916(0x1b2)]=!0x0;['loggingConnectors'];[_0x136916(0x180)]='';[_0x136916(0x577)];[_0x136916(0x400)]=[];[_0x136916(0x34b)]=this[_0x136916(0x337)]();[_0x136916(0x67f)];[_0x136916(0x5ad)]=0xa;['retryDelay']=0x1f4;[_0x136916(0x140)]=0x1c2;['timeoutValue']=0x3e8;constructor(){const _0x27577d=_0x136916;if(_0x27577d(0x467)!=typeof window)this[_0x27577d(0x577)]=window;else{if(void 0x0===_0x1faedd['g'])throw new Error(_0x27577d(0x1be));this[_0x27577d(0x577)]=_0x1faedd['g'];}this[_0x27577d(0x367)](),this[_0x27577d(0x577)][_0x27577d(0x736)]=_0x261fc3=>{const _0x4cc201=_0x27577d;if(_0x261fc3===_0x19b950[_0x4cc201(0x126)])return this[_0x4cc201(0x1a4)]=Object[_0x4cc201(0x447)](_0x19b950)[_0x4cc201(0x774)](_0x138f8d=>_0x19b950[_0x138f8d]),void Object['keys'](_0x19b950)['forEach'](_0x261375=>{const _0x30fd52=_0x4cc201,_0x51d84f=_0x261375;localStorage['setItem'](_0x30fd52(0x51c)+_0x19b950[_0x51d84f],_0x30fd52(0x36c));});this[_0x4cc201(0x1a4)][_0x4cc201(0x232)](_0x261fc3)||(this[_0x4cc201(0x1a4)]['push'](_0x261fc3),localStorage[_0x4cc201(0x3e6)](_0x4cc201(0x51c)+_0x261fc3,_0x4cc201(0x36c)));},this[_0x27577d(0x577)][_0x27577d(0x2c1)]=_0x4a04f4=>{const _0x325c57=_0x27577d;if(!_0x4a04f4||_0x4a04f4===_0x19b950[_0x325c57(0x126)])return this[_0x325c57(0x1a4)]=[],void Object[_0x325c57(0x447)](_0x19b950)[_0x325c57(0x1b3)](_0x29ad26=>{const _0x194d97=_0x325c57,_0x4aa0fa=_0x29ad26;localStorage[_0x194d97(0x3c1)](_0x194d97(0x51c)+_0x19b950[_0x4aa0fa]);});this[_0x325c57(0x1a4)]['includes'](_0x4a04f4)&&(this[_0x325c57(0x1a4)]=this[_0x325c57(0x1a4)][_0x325c57(0x557)](_0x17523e=>_0x17523e!==_0x4a04f4),localStorage[_0x325c57(0x3c1)]('crewdle-sdk-logging-'+_0x4a04f4));},this[_0x27577d(0x577)][_0x27577d(0x559)]=_0x19b950;}static[_0x136916(0x387)](){const _0x4eb715=_0x136916;try{return _0x59c529[_0x4eb715(0x756)]||(_0x59c529['instance']=new _0x59c529()),_0x59c529[_0x4eb715(0x756)];}catch(_0x2fac33){return console[_0x4eb715(0x4d8)](_0x4eb715(0x404),_0x2fac33),{'log':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1};}}[_0x136916(0x44a)](_0x569970){this['vendorId']=_0x569970;}['setLoggingConnectors'](_0x5ce927){const _0x4535ba=_0x136916;this[_0x4535ba(0x6cf)]=_0x5ce927;}['debug'](_0x1aa6bc,..._0x4a53b2){const _0x3cd47f=_0x136916;this['debugEnabled']&&this[_0x3cd47f(0x2f4)](_0x19b950['Default'],_0x3cd47f(0x289)+_0x1aa6bc,..._0x4a53b2);}[_0x136916(0x2f4)](_0x4b6b9b,_0x1ad487,..._0x54cf34){const _0x1acd34=_0x136916;_0x397e91[_0x1acd34(0x5b3)]||(this[_0x1acd34(0x1a4)]['includes'](_0x4b6b9b)&&console['log']('Channel\x20\x27'+_0x4b6b9b+'\x27\x0a',new Date()+'\x0a',_0x1ad487,..._0x54cf34),this['loggingConnectors']&&this[_0x1acd34(0x6cf)]['forEach'](_0x590db3=>{const _0x3d77b8=_0x1acd34;this['isInternalLoggingConnector'](_0x590db3)&&_0x590db3[_0x3d77b8(0x56f)]()[_0x3d77b8(0x232)](_0x4b6b9b)&&_0x590db3[_0x3d77b8(0x2f4)](_0x1ad487,{'vendorId':this[_0x3d77b8(0x180)],'nodeId':'','nodeType':'','data':{'channel':_0x4b6b9b,..._0x54cf34}});}));}[_0x136916(0x33c)](_0x16a175,_0x1d5ba4,..._0x34c0fa){const _0x3a6602=_0x136916;_0x397e91['isProduction']||(this['enabledChannels'][_0x3a6602(0x232)](_0x16a175)&&console[_0x3a6602(0x2f4)](_0x1d5ba4,..._0x34c0fa),this[_0x3a6602(0x6cf)]&&this[_0x3a6602(0x6cf)][_0x3a6602(0x1b3)](_0x4d5d5b=>{const _0x1ae8e0=_0x3a6602;this[_0x1ae8e0(0x612)](_0x4d5d5b)&&_0x4d5d5b['getEnabledChannels']()[_0x1ae8e0(0x232)](_0x16a175)&&_0x4d5d5b[_0x1ae8e0(0x2f4)](_0x1d5ba4,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x16a175,..._0x34c0fa}});}));}['logEvent'](_0x4ba98f,_0x43668e){const _0x17f576=_0x136916;if(!this[_0x17f576(0x6cf)])return;const _0x44dd86={'vendorId':this[_0x17f576(0x180)],..._0x43668e};this[_0x17f576(0x6cf)]['forEach'](_0x31592b=>{const _0x2da296=_0x17f576;_0x31592b[_0x2da296(0x2f4)](_0x4ba98f,_0x44dd86);});}[_0x136916(0x764)](_0x2440ef,_0x2c0e47){const _0x5812e9=_0x136916,_0x2cba89=(0x0,_0x1d882b[_0x5812e9(0x5d6)])((0x0,_0x1d882b[_0x5812e9(0x241)])(_0x329b41[_0x5812e9(0x61b)](),'developers/'+this[_0x5812e9(0x180)]+'/logs'));this['currentBatch'][_0x5812e9(0x393)][_0x5812e9(0x5ff)](_0x2cba89,{..._0x2c0e47,'service':_0x2440ef,'timestamp':(0x0,_0x1d882b[_0x5812e9(0x300)])()}),this[_0x5812e9(0x34b)]['operations'][_0x5812e9(0x5ac)]({'type':_0x5812e9(0x5ff),'ref':_0x2cba89[_0x5812e9(0x541)],'data':_0x2c0e47}),this[_0x5812e9(0x2a4)]();}['logStorage'](_0x55e265,_0x35a170,_0x181c74){const _0x20b70f=_0x136916;(0x0,_0x1d882b[_0x20b70f(0x4e1)])((0x0,_0x1d882b[_0x20b70f(0x5d6)])(_0x329b41[_0x20b70f(0x61b)](),'developers/'+this[_0x20b70f(0x180)]+'/'+_0x55e265+'/'+_0x35a170),{'storage':_0x181c74,'timestamp':(0x0,_0x1d882b[_0x20b70f(0x300)])()});}[_0x136916(0x2a4)](){const _0x4e410f=_0x136916;this[_0x4e410f(0x34b)][_0x4e410f(0x1eb)]++,this[_0x4e410f(0x34b)][_0x4e410f(0x1eb)]===this[_0x4e410f(0x140)]?this[_0x4e410f(0x119)]():this[_0x4e410f(0x67f)]||(this[_0x4e410f(0x67f)]=this[_0x4e410f(0x577)][_0x4e410f(0x1a3)](()=>this[_0x4e410f(0x119)](),this['timeoutValue']));}async['processBatch'](){const _0x1edf12=_0x136916;for(this['batchQueue']['push'](this[_0x1edf12(0x34b)]),this[_0x1edf12(0x34b)]=this['createNewBatch']();this[_0x1edf12(0x400)][_0x1edf12(0x3a9)]>0x0;){const _0x29ac2c=this[_0x1edf12(0x400)][_0x1edf12(0x3f4)]();if(!await this[_0x1edf12(0x597)](_0x29ac2c,0x0))break;}clearTimeout(this[_0x1edf12(0x67f)]),this[_0x1edf12(0x67f)]=void 0x0;}async[_0x136916(0x597)](_0xb9ffa2,_0x12500f){const _0x5c252c=_0x136916;if(_0xb9ffa2[_0x5c252c(0x1eb)]>0x0)try{return await _0xb9ffa2[_0x5c252c(0x393)][_0x5c252c(0x5a2)](),!0x0;}catch(_0x571943){if(console['error'](_0x5c252c(0x43c),_0x571943,_0x5c252c(0x3d4),_0xb9ffa2['operations']),!(_0x12500f<this[_0x5c252c(0x5ad)])){const {nodeId:_0x25b5f9='',nodeType:_0x42a08c='',clusterId:_0x7865a0=''}=_0xb9ffa2[_0x5c252c(0x214)][0x0][_0x5c252c(0x757)],_0x5d17f8={'nodeId':_0x25b5f9,'nodeType':_0x42a08c,'clusterId':_0x7865a0,'data':{'operations':_0xb9ffa2[_0x5c252c(0x214)],'error':_0x571943}};return this[_0x5c252c(0x4d8)](_0x5c252c(0x5f8),_0x5d17f8),!0x1;}setTimeout(()=>this[_0x5c252c(0x597)](_0xb9ffa2,_0x12500f+0x1),this[_0x5c252c(0x518)]*Math[_0x5c252c(0x5bc)](0x2,_0x12500f));}}[_0x136916(0x4d8)](_0x2addc1,_0x3e31a8,..._0x4f5f16){const _0x5cccfe=_0x136916;if(console[_0x5cccfe(0x4d8)](new Date(),_0x2addc1,_0x3e31a8,..._0x4f5f16),this[_0x5cccfe(0x6cf)]){const _0x4b866f={'vendorId':this[_0x5cccfe(0x180)],..._0x3e31a8};this[_0x5cccfe(0x6cf)]['forEach'](_0x4ce4cf=>{const _0x74156b=_0x5cccfe;_0x4ce4cf[_0x74156b(0x4d8)](_0x2addc1,_0x4b866f);});}}[_0x136916(0x49c)](_0x194269,_0x3dd46d,..._0x529b71){const _0x7b3996=_0x136916;if(console[_0x7b3996(0x5e9)](new Date(),_0x194269,_0x3dd46d,_0x529b71),this[_0x7b3996(0x6cf)]){const _0x1396c5={'vendorId':this[_0x7b3996(0x180)],..._0x3dd46d};this['loggingConnectors']['forEach'](_0x426131=>{const _0x210d04=_0x7b3996;_0x426131[_0x210d04(0x5e9)](_0x194269,_0x1396c5);});}}['isChannelEnabled'](_0x3b7f24){const _0x549bc8=_0x136916;return this[_0x549bc8(0x1a4)][_0x549bc8(0x232)](_0x3b7f24);}[_0x136916(0x367)](){const _0x2f6f1e=_0x136916;try{Object[_0x2f6f1e(0x447)](_0x19b950)[_0x2f6f1e(0x1b3)](_0x363a49=>{const _0xbce938=_0x2f6f1e,_0x3cea0c=_0x363a49;localStorage[_0xbce938(0x3f6)](_0xbce938(0x51c)+_0x19b950[_0x3cea0c])&&(console[_0xbce938(0x2f4)](_0xbce938(0x260),_0x19b950[_0x3cea0c]),this[_0xbce938(0x1a4)]['push'](_0x19b950[_0x3cea0c]));});}catch(_0x28f59e){}}['isInternalLoggingConnector'](_0x4804cf){const _0x3f9067=_0x136916;return void 0x0!==_0x4804cf[_0x3f9067(0x56f)];}[_0x136916(0x337)](){const _0x453e78=_0x136916;return{'batch':(0x0,_0x1d882b[_0x453e78(0x24a)])(_0x329b41[_0x453e78(0x61b)]()),'operations':[],'counter':0x0};}}const _0x148f53=_0x59c529[_0x136916(0x387)]();function _0x52efa3(_0x3b6bf5,_0x31dbd2){return'/'===_0x3b6bf5?_0x3b6bf5+_0x31dbd2:_0x3b6bf5+'/'+_0x31dbd2;}function _0x4c979b(_0x4c4840){const _0x569f37=_0x136916,_0x184ee5=function(_0x9485d9){const _0x528b62=a0_0x532f;return _0x9485d9['split']('/')[_0x528b62(0x557)](_0x21406b=>_0x21406b[_0x528b62(0x3a9)]>0x0);}(_0x4c4840),_0x4d26bb=_0x184ee5['pop']()||'',_0x16f009=_0x184ee5[_0x569f37(0x471)]('/');return[0x0===_0x16f009['length']?'/':_0x16f009,_0x4d26bb];}async function _0x5e9ab6(_0x517ecf){const _0x55327b=_0x136916;let _0xdc643c=0x0;for(let _0x1a3ac7=0x0;_0x1a3ac7<_0x517ecf[_0x55327b(0x216)];_0x1a3ac7+=_0x19329a){const _0x4a1648=_0x517ecf[_0x55327b(0x4a5)](_0x1a3ac7,_0x1a3ac7+_0x19329a),_0x10c098=await _0x4a1648['arrayBuffer'](),_0x38d94a=new Uint8Array(_0x10c098);for(const _0x7a3e76 of _0x38d94a)_0xdc643c+=_0x7a3e76;}return _0xdc643c[_0x55327b(0x1e1)]();}function _0xcd4d55(_0x30a1f8){return new Promise((_0x3f8381,_0x4b5995)=>{!function(_0x56d69e,_0x25fdb7,_0x3ef4f6){let _0x34cec5=0x0;const _0x1c5995=[],_0x2b95b0=async()=>{const _0x56200c=a0_0x532f;let _0x2cd68c=_0x34cec5+_0x19329a;_0x2cd68c>_0x56d69e['size']&&(_0x2cd68c=_0x56d69e[_0x56200c(0x216)]);let _0x42da20=_0x56d69e[_0x56200c(0x4a5)](_0x34cec5,_0x2cd68c);const _0x75ba02=await _0x42da20[_0x56200c(0x625)]();_0x1c5995[_0x56200c(0x5ac)](_0x75ba02),_0x34cec5=_0x2cd68c,_0x34cec5<_0x56d69e[_0x56200c(0x216)]?_0x2b95b0():_0x25fdb7(_0x1c5995);};_0x2b95b0();}(_0x30a1f8,_0x3f8381);});}function _0x4cd4ad(_0x564247,_0x48e7fb,_0x485a16){return new File(_0x564247,_0x48e7fb,{'type':_0x485a16});}class _0x1b8e4a extends _0x4791ab{[_0x136916(0x6bb)];[_0x136916(0x39d)];['fileChunks']=new Map();[_0x136916(0x511)]=0x0;[_0x136916(0x333)]=0x0;[_0x136916(0x1ba)]=0x0;[_0x136916(0x5e4)]=0x0;constructor(_0x2991e4,_0x39bf10){super(_0x2991e4,_0x39bf10);}[_0x136916(0x2b4)](){const _0x25b80e=_0x136916;return this[_0x25b80e(0x369)];}[_0x136916(0x1e6)](){const _0x1f276f=_0x136916;return this[_0x1f276f(0x369)];}[_0x136916(0x51b)](){const _0x3a159d=_0x136916;return _0x1095f4[_0x3a159d(0x2fd)][_0x3a159d(0x745)];}[_0x136916(0x6f1)](){return this['label'];}[_0x136916(0x5f9)](_0x199ff5){const _0x32e455=_0x136916;if(this[_0x32e455(0x6bb)])throw new _0x2fb975(_0x2fb975[_0x32e455(0x516)][_0x32e455(0x68a)],{'message':'Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20'+this['owner'][_0x32e455(0x716)]()+'\x20-\x20'+this[_0x32e455(0x369)],'topic':this[_0x32e455(0x6bb)]});this[_0x32e455(0x6bb)]=_0x199ff5;}[_0x136916(0x622)](_0x2c07ea){const _0x3f832f=_0x136916;if(this[_0x3f832f(0x39d)])throw new _0x2fb975(_0x2fb975[_0x3f832f(0x516)][_0x3f832f(0x6f5)],{'message':_0x3f832f(0x2a0)+this['owner']['getId']()+_0x3f832f(0x13d)+this[_0x3f832f(0x369)],'topic':this[_0x3f832f(0x39d)]});this[_0x3f832f(0x39d)]=_0x2c07ea;}[_0x136916(0x330)](){const _0x575b65=_0x136916;delete this[_0x575b65(0x6bb)];}[_0x136916(0x362)](){delete this['incomingTopic'];}async[_0x136916(0x695)](_0x3abfb4,_0x334d2d){const _0xefd92f=_0x136916;if(_0x148f53[_0xefd92f(0x2f4)](_0x19b950[_0xefd92f(0x3ac)],_0xefd92f(0x3d7),this[_0xefd92f(0x342)][_0xefd92f(0x716)](),_0x3abfb4,_0x334d2d),this[_0xefd92f(0x511)]+=0x1,_0x3abfb4 instanceof File){const _0x44d76b=await _0xcd4d55(_0x3abfb4);return this['bytesSent']+=_0x44d76b[_0xefd92f(0x6ba)]((_0x1711f4,_0x3bccef)=>_0x1711f4+_0x3bccef['byteLength'],0x0),void _0x44d76b[_0xefd92f(0x1b3)]((_0x5b510a,_0x521747)=>{const _0x38ecf8=_0xefd92f;this['outgoingTopic']['publish']({'sourceId':this[_0x38ecf8(0x342)][_0x38ecf8(0x716)](),'destinationIds':_0x334d2d,'propagate':!0x0,'contentType':_0x1095f4[_0x38ecf8(0x2fd)][_0x38ecf8(0x14f)],'content':{'name':_0x3abfb4['name'],'type':_0x3abfb4['type'],'data':_0x5b510a,'index':_0x521747,'total':_0x44d76b[_0x38ecf8(0x3a9)]}});});}this[_0xefd92f(0x1ba)]+=JSON['stringify'](_0x3abfb4)[_0xefd92f(0x3a9)],this[_0xefd92f(0x6bb)][_0xefd92f(0x457)]({'sourceId':this[_0xefd92f(0x342)][_0xefd92f(0x716)](),'destinationIds':_0x334d2d,'propagate':!0x0,'contentType':_0x1095f4[_0xefd92f(0x2fd)][_0xefd92f(0x745)],'content':_0x3abfb4});}['onMessage'](_0x4648eb){const _0x221ec9=_0x136916;return this[_0x221ec9(0x39d)][_0x221ec9(0x67e)](_0x206fc4=>{const _0x38fccf=_0x221ec9;switch(_0x148f53['log'](_0x19b950['DataStream'],_0x38fccf(0x58d),this[_0x38fccf(0x342)][_0x38fccf(0x716)](),_0x206fc4),_0x206fc4[_0x38fccf(0x2e4)]){case _0x1095f4['ContentType'][_0x38fccf(0x745)]:this[_0x38fccf(0x333)]+=0x1,this[_0x38fccf(0x5e4)]+=JSON[_0x38fccf(0x728)](_0x206fc4['content'])[_0x38fccf(0x3a9)],_0x4648eb(_0x206fc4[_0x38fccf(0xf1)],_0x206fc4['content']);break;case _0x1095f4['ContentType'][_0x38fccf(0x14f)]:this['fileChunks'][_0x38fccf(0x2b3)](_0x206fc4[_0x38fccf(0x2dc)]['name'])||this[_0x38fccf(0x161)][_0x38fccf(0x5ff)](_0x206fc4[_0x38fccf(0x2dc)][_0x38fccf(0x414)],[]);const _0x5051aa=this[_0x38fccf(0x161)]['get'](_0x206fc4[_0x38fccf(0x2dc)][_0x38fccf(0x414)]);_0x5051aa[_0x206fc4[_0x38fccf(0x2dc)][_0x38fccf(0x40d)]]=_0x206fc4['content'][_0x38fccf(0x757)],_0x5051aa[_0x38fccf(0x3a9)]===_0x206fc4[_0x38fccf(0x2dc)][_0x38fccf(0x376)]&&(this[_0x38fccf(0x333)]+=0x1,this[_0x38fccf(0x5e4)]+=_0x5051aa[_0x38fccf(0x6ba)]((_0x213ff4,_0x516889)=>_0x213ff4+_0x516889['byteLength'],0x0),_0x4648eb(_0x206fc4[_0x38fccf(0xf1)],_0x4cd4ad(_0x5051aa,_0x206fc4[_0x38fccf(0x2dc)]['name'],_0x206fc4[_0x38fccf(0x2dc)]['type'])),this[_0x38fccf(0x161)]['delete'](_0x206fc4[_0x38fccf(0x2dc)][_0x38fccf(0x414)]));}});}}function _0x57b3e6(){let _0x4d7b64=[];return{'subscribe':_0x3ddc08=>(_0x4d7b64['push'](_0x3ddc08),()=>{_0x4d7b64=_0x4d7b64['filter'](_0x30d6c4=>_0x30d6c4!==_0x3ddc08);}),'publish':_0x55f389=>{const _0x271fe6=a0_0x532f;_0x4d7b64[_0x271fe6(0x1b3)](_0x3e153b=>_0x3e153b(_0x55f389));}};}function _0x2f84d1(){let _0x2fc648;return{'subscribe':_0x2bd4ca=>(_0x2fc648=_0x2bd4ca,()=>{_0x2fc648=void 0x0;}),'publish':_0x57629c=>{_0x2fc648&&_0x2fc648(_0x57629c);}};}class _0x2dc536{['connector'];[_0x136916(0x318)];[_0x136916(0x1ea)];[_0x136916(0x11b)]=_0x2f84d1();['listenerUnsubscriber'];constructor(_0x4d6c55,_0x2996fa,_0x2d8bb0){const _0x274721=_0x136916;this['connector']=_0x4d6c55,this[_0x274721(0x318)]=_0x2996fa,this['tableObserver']=_0x2d8bb0;}['destroy'](){this['listenerUnsubscriber']?.();}async[_0x136916(0x2b0)](_0x29e11e){const _0x119841=_0x136916,_0x1ab1ea={'key':_0x29e11e,'tableName':this[_0x119841(0x318)],'action':_0x22da6b[_0x119841(0x441)]};return this[_0x119841(0x1ea)][_0x119841(0x457)](_0x1ab1ea),this[_0x119841(0x6b7)][_0x119841(0x2b0)](_0x29e11e);}async[_0x136916(0x5ff)](_0x2efcf7,_0x117f21,_0x122a8f=!0x0){const _0x5046bb=_0x136916;this[_0x5046bb(0x2d7)](_0x117f21);const _0x3a3181=await this[_0x5046bb(0x6b7)][_0x5046bb(0x2b0)](_0x2efcf7),_0x205f07=await this[_0x5046bb(0x6b7)][_0x5046bb(0x5ff)](_0x2efcf7,_0x117f21),_0x464307=_0x3a3181?_0x5735aa[_0x5046bb(0x3ea)]:_0x5735aa['Add'];if(this[_0x5046bb(0x457)](_0x464307,_0x205f07),!_0x122a8f)return _0x205f07;const _0x41cf31={'key':_0x2efcf7,'tableName':this[_0x5046bb(0x318)],'action':_0x464307,'value':_0x205f07};return this[_0x5046bb(0x1ea)][_0x5046bb(0x457)](_0x41cf31),_0x205f07;}async['add'](_0x585a62){const _0x2b4576=_0x136916;this['validateValue'](_0x585a62);const _0x4241b8=await this[_0x2b4576(0x6b7)][_0x2b4576(0x759)](_0x585a62),_0x1425e3={'key':_0x4241b8['id'],'tableName':this['tableName'],'action':_0x5735aa[_0x2b4576(0x230)],'value':_0x4241b8};return this[_0x2b4576(0x1ea)][_0x2b4576(0x457)](_0x1425e3),this[_0x2b4576(0x457)](_0x1425e3[_0x2b4576(0x733)],_0x4241b8),_0x4241b8;}async[_0x136916(0x21d)](_0x3dfa51,_0x566b4c=!0x0){const _0x4687d0=_0x136916,_0x169e61=await this[_0x4687d0(0x6b7)]['get'](_0x3dfa51);if(!_0x169e61)return;await this[_0x4687d0(0x6b7)][_0x4687d0(0x21d)](_0x3dfa51);const _0x5e9bb1=_0x5735aa[_0x4687d0(0x115)];if(this[_0x4687d0(0x457)](_0x5e9bb1,_0x169e61),!_0x566b4c)return;const _0x415a09={'key':_0x3dfa51,'tableName':this['tableName'],'action':_0x5e9bb1,'value':_0x169e61};this[_0x4687d0(0x1ea)][_0x4687d0(0x457)](_0x415a09);}async[_0x136916(0x5ef)](){const _0xd8135f=_0x136916,_0x3e04cd=await this[_0xd8135f(0x23f)]();for(const _0x5020ea of _0x3e04cd){const _0x3d03a7=_0x5735aa[_0xd8135f(0x115)];this[_0xd8135f(0x457)](_0x3d03a7,_0x5020ea);const _0xb74cd8={'key':_0x5020ea['id'],'tableName':this[_0xd8135f(0x318)],'action':_0x3d03a7,'value':_0x5020ea};this[_0xd8135f(0x1ea)][_0xd8135f(0x457)](_0xb74cd8);}return this['connector'][_0xd8135f(0x5ef)]();}async[_0x136916(0x23f)](_0x2a7b85){const _0x1aa686=_0x136916,_0x34dda2={'key':'','tableName':this[_0x1aa686(0x318)],'action':_0x22da6b[_0x1aa686(0x22a)]};this['tableObserver'][_0x1aa686(0x457)](_0x34dda2);try{_0x2a7b85&&(_0x2a7b85=_0x2a7b85 instanceof _0x11c9e7?_0x2a7b85[_0x1aa686(0x58a)]():_0x11c9e7['buildQuery'](_0x2a7b85)[_0x1aa686(0x58a)]());}catch(_0x37639f){throw new _0x4b5cf3(_0x235d31['KeyValueDatabaseInvalidQuery'],'Invalid\x20query');}try{return await this[_0x1aa686(0x6b7)][_0x1aa686(0x23f)](_0x2a7b85);}catch(_0x8821ce){let _0x2d325f=_0x1aa686(0x25e);throw _0x8821ce instanceof Error&&(_0x2d325f=_0x8821ce['message']),new _0x4b5cf3(_0x235d31[_0x1aa686(0x306)],_0x2d325f);}}async[_0x136916(0x144)](_0x1257a3){const _0x24e986=_0x136916,_0x4b650e={'key':'','tableName':this['tableName'],'action':_0x22da6b['Count']};this[_0x24e986(0x1ea)][_0x24e986(0x457)](_0x4b650e);try{_0x1257a3&&(_0x1257a3=_0x1257a3 instanceof _0x11c9e7?_0x1257a3[_0x24e986(0x58a)]():_0x11c9e7['buildQuery'](_0x1257a3)[_0x24e986(0x58a)]());}catch(_0xf9bcc4){throw new _0x4b5cf3(_0x235d31[_0x24e986(0x306)],_0x24e986(0x25e));}try{return await this[_0x24e986(0x6b7)][_0x24e986(0x144)](_0x1257a3);}catch(_0xc5e265){let _0x20b367=_0x24e986(0x25e);throw _0xc5e265 instanceof Error&&(_0x20b367=_0xc5e265['message']),new _0x4b5cf3(_0x235d31['KeyValueDatabaseInvalidQuery'],_0x20b367);}}[_0x136916(0x386)](){const _0xcea97e=_0x136916;return this[_0xcea97e(0x6b7)][_0xcea97e(0x386)]();}[_0x136916(0x67e)](_0x4b11d9){const _0x43fbcb=_0x136916;this[_0x43fbcb(0x373)]=this[_0x43fbcb(0x11b)][_0x43fbcb(0x67e)](_0x4b11d9);}[_0x136916(0xef)](){const _0x5599b3=_0x136916;this[_0x5599b3(0x373)]?.();}['publish'](_0x51839b,_0x377656){const _0x2f9cfb=_0x136916,_0x5bdd04=this[_0x2f9cfb(0x278)](_0x51839b,_0x377656);this[_0x2f9cfb(0x11b)]['publish'](_0x5bdd04);}[_0x136916(0x278)](_0x4f2289,_0x29a9ab){const _0x23cd77=_0x136916;let _0x53efad;switch(_0x4f2289){case _0x5735aa['Add']:_0x53efad=_0x23cd77(0x759);break;case _0x5735aa[_0x23cd77(0x3ea)]:_0x53efad=_0x23cd77(0x4cb);break;case _0x5735aa['Delete']:_0x53efad='delete';}return{'action':_0x53efad,'value':_0x29a9ab};}[_0x136916(0x2d7)](_0x1c3dcd){const _0x3761c9=_0x136916;if(_0x3761c9(0x136)!=typeof _0x1c3dcd||null===_0x1c3dcd)throw new _0x4b5cf3(_0x235d31[_0x3761c9(0x573)],_0x3761c9(0x468));for(const _0xea45ce in _0x1c3dcd){const _0x1a6f8c=_0x1c3dcd[_0xea45ce];if(_0x3761c9(0x136)!=typeof _0x1a6f8c||_0x1a6f8c instanceof Date){if(!['string',_0x3761c9(0x137),_0x3761c9(0x480)][_0x3761c9(0x232)](typeof _0x1a6f8c))throw new _0x4b5cf3(_0x235d31[_0x3761c9(0x573)],'Invalid\x20value.\x20Property\x20\x27'+_0xea45ce+'\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.');}else this[_0x3761c9(0x2d7)](_0x1a6f8c);}}}class _0xc15251 extends _0x1b8e4a{['localNode'];[_0x136916(0x5bf)];[_0x136916(0x180)];['db'];[_0x136916(0x145)];[_0x136916(0x450)]=new Map();['tableObserver'];['transactionTable'];[_0x136916(0x27c)];[_0x136916(0x6db)];['syncResolve'];[_0x136916(0x212)]=[];['timeoutCallback']=()=>{};[_0x136916(0x2bc)];[_0x136916(0x11b)]=_0x2f84d1();['listenerUnsubscriber'];[_0x136916(0x2e0)]=[];['layout'];['debounceStats'];['writes']=0x0;[_0x136916(0x223)]=0x0;constructor(_0x1e142d,_0x2b1a11,_0x47b0ae,_0x4c8353,_0x47525d,_0x583724){const _0x4af476=_0x136916;if(_0x4af476(0x112)!=typeof _0x2b1a11)throw new _0x4b5cf3(_0x235d31[_0x4af476(0x18f)],_0x4af476(0x5df));if(super(_0x1e142d,_0x2b1a11),this[_0x4af476(0x395)]=_0x1e142d,this[_0x4af476(0x5bf)]=_0x47b0ae,this[_0x4af476(0x180)]=_0x4c8353,this['dbKey']='ccc'+this[_0x4af476(0x180)]+_0x4af476(0x596)+this['clusterId']+_0x4af476(0x596)+this[_0x4af476(0x369)],this['tableObserver']=_0x2f84d1(),this[_0x4af476(0x6db)]=new Promise(_0x581e52=>{const _0x4de426=_0x4af476;this[_0x4de426(0x521)]=_0x581e52;}),_0x47525d instanceof _0x121e5f)this[_0x4af476(0x5fe)]=_0x47525d[_0x4af476(0x1cf)]();else{const [_0x3df76d,_0x38e543]=_0x121e5f['validateLayout'](_0x47525d);if(!_0x3df76d)throw new _0x4b5cf3(_0x235d31[_0x4af476(0x6f0)],'Invalid\x20layout:\x20'+_0x38e543);this[_0x4af476(0x5fe)]=_0x47525d;}this[_0x4af476(0x462)](this[_0x4af476(0x5fe)]),this['db']=new _0x583724(this[_0x4af476(0x145)],this['layout']),this[_0x4af476(0x726)]();}[_0x136916(0x234)](){const _0x552398=_0x136916;this[_0x552398(0x726)]();}['getContentType'](){const _0x3999f1=_0x136916;return _0x1095f4['ContentType'][_0x3999f1(0x266)];}['destroy'](){const _0x1c4a65=_0x136916;this['db'][_0x1c4a65(0x348)](),this[_0x1c4a65(0x27c)]?.(),clearTimeout(this['debounceStats']),delete this['debounceStats'],super[_0x1c4a65(0x1ee)]();}[_0x136916(0x348)](){const _0x100d66=_0x136916;this[_0x100d66(0x74d)][_0x100d66(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x100d66(0x632)],'content':{'type':_0x46fb30[_0x100d66(0x165)],'label':this[_0x100d66(0x369)]}});}[_0x136916(0x74f)](_0x3ef06c){const _0x1420f1=_0x136916,_0x401d70=this['tables']['get'](_0x3ef06c);if(_0x401d70)return _0x401d70;try{if(!this['db'][_0x1420f1(0x524)](_0x3ef06c))throw new _0x4b5cf3(_0x235d31[_0x1420f1(0x329)],_0x1420f1(0x30a));const _0x4b22b2=new _0x2dc536(this['db'][_0x1420f1(0x57d)](_0x3ef06c),_0x3ef06c,this[_0x1420f1(0x1ea)]);return this['tables']['set'](_0x3ef06c,_0x4b22b2),{'get':_0x4b22b2['get'][_0x1420f1(0x72c)](_0x4b22b2),'set':_0x4b22b2[_0x1420f1(0x5ff)][_0x1420f1(0x72c)](_0x4b22b2),'add':_0x4b22b2[_0x1420f1(0x759)][_0x1420f1(0x72c)](_0x4b22b2),'delete':_0x4b22b2[_0x1420f1(0x21d)][_0x1420f1(0x72c)](_0x4b22b2),'clear':_0x4b22b2[_0x1420f1(0x5ef)][_0x1420f1(0x72c)](_0x4b22b2),'list':_0x4b22b2[_0x1420f1(0x23f)][_0x1420f1(0x72c)](_0x4b22b2),'count':_0x4b22b2[_0x1420f1(0x144)]['bind'](_0x4b22b2),'subscribe':_0x4b22b2[_0x1420f1(0x67e)][_0x1420f1(0x72c)](_0x4b22b2),'unsubscribe':_0x4b22b2['unsubscribe'][_0x1420f1(0x72c)](_0x4b22b2)};}catch(_0x1c1c3e){throw new _0x4b5cf3(_0x235d31[_0x1420f1(0x5e0)],'Database\x20not\x20open');}}[_0x136916(0x67e)](_0x4d8d82){const _0x52548a=_0x136916;this[_0x52548a(0x373)]=this[_0x52548a(0x11b)]['subscribe'](_0x4d8d82);}[_0x136916(0xef)](){const _0x8316ce=_0x136916;this[_0x8316ce(0x373)]?.(),this[_0x8316ce(0x373)]=void 0x0;}async['open'](){const _0x5ab1ea=_0x136916,_0x4ea0c0=[_0x4dafc3,_0x52c6bf],_0x1d6a27=[];try{await this['db']['open']();const _0x34769e=this['db']['getTableConnector'](_0x52c6bf),_0x4fb620=await _0x34769e[_0x5ab1ea(0x23f)](),{id:_0x451007,layout:_0x1ecd08}=_0x4fb620[0x0]??{};if(_0x1ecd08){for(const _0x5d7688 in _0x1ecd08)_0x4ea0c0[_0x5ab1ea(0x232)](_0x5d7688)||this['db'][_0x5ab1ea(0x524)](_0x5d7688)||_0x1d6a27['push'](_0x5d7688);_0x34769e[_0x5ab1ea(0x5ff)](_0x451007,{'layout':this['layout']});}else _0x34769e['add']({'layout':this[_0x5ab1ea(0x5fe)]});}catch(_0x4ee9e6){throw new _0x4b5cf3(_0x235d31[_0x5ab1ea(0x5e0)],_0x4ee9e6[_0x5ab1ea(0x286)]||_0x5ab1ea(0x292));}this[_0x5ab1ea(0x41f)](),this[_0x5ab1ea(0x580)](),this[_0x5ab1ea(0x5bd)](),_0x1d6a27[_0x5ab1ea(0x1b3)](_0x365105=>this['deleteTransactionsForTable'](_0x365105));}async[_0x136916(0x530)](_0x1a8c6f,_0x2b31ad){const _0x557e70=_0x136916;_0x1a8c6f?(this['timeoutCallback']=_0x2b31ad,this[_0x557e70(0x2bc)]=setTimeout(_0x2b31ad,_0x128163),this[_0x557e70(0x74d)][_0x557e70(0x457)]({'sourceId':this[_0x557e70(0x395)][_0x557e70(0x716)](),'destinationIds':[_0x1a8c6f],'messageType':_0x15f44c[_0x557e70(0x632)],'content':{'type':_0x46fb30[_0x557e70(0x1f0)],'label':this[_0x557e70(0x369)]}}),await this[_0x557e70(0x6db)]):setTimeout(()=>{const _0x34a8a8=_0x557e70;this[_0x34a8a8(0x1f2)](),this[_0x34a8a8(0x309)]();},0x0);}async[_0x136916(0x158)](_0x1ec62c){const _0x5de877=_0x136916;if(!this['transactionTable'])throw new _0x2fb975(_0x2fb975[_0x5de877(0x516)]['KeyValueDatabaseTransactionTableNotInitialized']);await this[_0x5de877(0x6db)];const _0x3e1507=await this[_0x5de877(0x181)]['list']();this[_0x5de877(0x74d)][_0x5de877(0x457)]({'sourceId':this['localNode'][_0x5de877(0x716)](),'destinationIds':[_0x1ec62c],'messageType':_0x15f44c[_0x5de877(0x632)],'content':{'type':_0x46fb30[_0x5de877(0x6ae)],'label':this[_0x5de877(0x369)],'transactions':_0x3e1507}});}async[_0x136916(0x63e)](_0x3fba08,_0x4d9ec4){const _0x1284ce=_0x136916;if(!this['transactionTable'])throw new _0x2fb975(_0x2fb975[_0x1284ce(0x516)]['KeyValueDatabaseTransactionTableNotInitialized']);this[_0x1284ce(0x1f2)]();const _0x52b23f=await this['transactionTable'][_0x1284ce(0x23f)]();for(const _0xf94b1b of _0x52b23f){const _0x5a994b=_0x4d9ec4[_0x1284ce(0x21f)](_0xc18a42=>_0xc18a42['id']===_0xf94b1b['id']);if(_0x5a994b&&this[_0x1284ce(0x1fc)](_0xf94b1b,_0x5a994b)<=0x0)continue;const [_0x58b624,_0x152886]=_0xf94b1b['id'][_0x1284ce(0x5c8)]('::'),_0x229797=this['tables']['get'](_0x58b624),_0x50a660=await _0x229797?.[_0x1284ce(0x2b0)](_0x152886);_0xf94b1b[_0x1284ce(0x4d3)]=_0x50a660,this[_0x1284ce(0x695)](_0xf94b1b);}for(const _0x4b3a1f of _0x4d9ec4){const _0x56ced9=await this[_0x1284ce(0x181)][_0x1284ce(0x2b0)](_0x4b3a1f['id']);if(!(_0x56ced9&&this['compareTransactions'](_0x4b3a1f,_0x56ced9)<=0x0)){if(_0x4b3a1f[_0x1284ce(0x733)]===_0x5735aa[_0x1284ce(0x115)]){const [_0x245db1,_0x2ab98c]=_0x4b3a1f['id'][_0x1284ce(0x5c8)]('::'),_0x2d39f4=this['tables'][_0x1284ce(0x2b0)](_0x245db1);await _0x2d39f4?.[_0x1284ce(0x21d)](_0x2ab98c,!0x1);}else this[_0x1284ce(0x212)][_0x1284ce(0x5ac)](_0x4b3a1f['id']);}}if(0x0===this[_0x1284ce(0x212)]['length'])return this['clearSyncTimeout'](),void this[_0x1284ce(0x309)]();this['syncTimeout']=setTimeout(this[_0x1284ce(0x10b)],_0x128163),this[_0x1284ce(0x74d)][_0x1284ce(0x457)]({'sourceId':this[_0x1284ce(0x395)]['getId'](),'destinationIds':[_0x3fba08],'messageType':_0x15f44c[_0x1284ce(0x632)],'content':{'type':_0x46fb30[_0x1284ce(0x676)],'label':this[_0x1284ce(0x369)],'transactionIds':this[_0x1284ce(0x212)]}});}async['sendTransactionsValue'](_0x53e589,_0x4d2ac1){const _0x4308a3=_0x136916;if(!this[_0x4308a3(0x181)])throw new _0x2fb975(_0x2fb975[_0x4308a3(0x516)]['KeyValueDatabaseTransactionTableNotInitialized']);for(const _0x1fd99b of _0x4d2ac1){const _0x2d8cb3=await this[_0x4308a3(0x181)][_0x4308a3(0x2b0)](_0x1fd99b);if(!_0x2d8cb3)continue;const [_0x3259b1,_0x101d89]=_0x1fd99b[_0x4308a3(0x5c8)]('::'),_0x53b16d=this['tables'][_0x4308a3(0x2b0)](_0x3259b1),_0x4d9ea1=await _0x53b16d?.['get'](_0x101d89);_0x2d8cb3[_0x4308a3(0x4d3)]=_0x4d9ea1,this[_0x4308a3(0x695)](_0x2d8cb3,[_0x53e589]);}}async[_0x136916(0x499)](_0x39ade9){const _0x585e5a=_0x136916;if(!this[_0x585e5a(0x181)])throw new _0x2fb975(_0x2fb975['codes'][_0x585e5a(0x614)]);const _0xc661d=await this[_0x585e5a(0x181)][_0x585e5a(0x2b0)](_0x39ade9['id']);if(_0xc661d&&this[_0x585e5a(0x1fc)](_0x39ade9,_0xc661d)<=0x0)return;const _0x2b61b9={..._0x39ade9};return delete _0x2b61b9[_0x585e5a(0x4d3)],await this['transactionTable'][_0x585e5a(0x5ff)](_0x39ade9['id'],_0x2b61b9),_0x39ade9;}[_0x136916(0x1fc)](_0x21b498,_0x54bbaa){const _0x2067b8=_0x136916;return _0x21b498[_0x2067b8(0x3b6)]<_0x54bbaa[_0x2067b8(0x3b6)]?-0x1:_0x21b498[_0x2067b8(0x3b6)]>_0x54bbaa['timestamp']?0x1:_0x21b498[_0x2067b8(0x69c)]-_0x54bbaa[_0x2067b8(0x69c)];}async[_0x136916(0x2da)](_0x1fcbdc){const _0x2041f0=_0x136916;if(!this[_0x2041f0(0x181)])throw new _0x2fb975(_0x2fb975[_0x2041f0(0x516)][_0x2041f0(0x614)]);const _0x137c15=_0x1fcbdc[_0x2041f0(0x318)]+'::'+_0x1fcbdc[_0x2041f0(0x593)],_0x3cce57=await _0x329b41['getEstimatedTimestamp'](),_0x5e01cb={'id':_0x137c15,'priority':Math[_0x2041f0(0x149)](),'timestamp':_0x3cce57,'action':_0x1fcbdc[_0x2041f0(0x733)]};if(await this[_0x2041f0(0x499)](_0x5e01cb))return _0x5e01cb;}async[_0x136916(0x385)](_0x5ede07){const _0xb3a2ee=_0x136916;if(!this[_0xb3a2ee(0x181)])throw new _0x2fb975(_0x2fb975[_0xb3a2ee(0x516)][_0xb3a2ee(0x614)]);const _0x1481c1=_0x11c9e7[_0xb3a2ee(0x40d)]('id')[_0xb3a2ee(0x53e)](_0xb3a2ee(0x53d),[_0x5ede07+'::',_0x5ede07+'::￿']),_0x10d30e=await this[_0xb3a2ee(0x181)][_0xb3a2ee(0x23f)](_0x1481c1[_0xb3a2ee(0x58a)]());for(const _0x152bde of _0x10d30e)await this['transactionTable']['delete'](_0x152bde['id']);}[_0x136916(0x580)](){const _0x21d08f=_0x136916;this[_0x21d08f(0x65f)](async(_0x40f15b,_0x3d5829)=>{const _0x4a00ea=_0x21d08f;if(_0x3d5829 instanceof File)return;if(!await this['writeTransaction'](_0x3d5829))return void this[_0x4a00ea(0x364)](_0x3d5829);if(!_0x3d5829[_0x4a00ea(0x4d3)])throw new _0x2fb975(_0x2fb975['codes'][_0x4a00ea(0x398)]);const [_0x52802c,_0x3f53d6]=_0x3d5829['id'][_0x4a00ea(0x5c8)]('::'),_0x20898e=this['tables'][_0x4a00ea(0x2b0)](_0x52802c);if(!_0x20898e)throw new _0x2fb975(_0x2fb975['codes'][_0x4a00ea(0x3c9)],{'table':_0x20898e});let _0x1b6fa2=0x0;switch(_0x3d5829[_0x4a00ea(0x733)]){case _0x5735aa[_0x4a00ea(0x230)]:case _0x5735aa[_0x4a00ea(0x3ea)]:{const _0x2f2b5a=_0x20898e[_0x4a00ea(0x5ff)](_0x3f53d6,_0x3d5829['value'],!0x1);_0x1b6fa2=JSON[_0x4a00ea(0x728)](_0x3d5829[_0x4a00ea(0x4d3)])[_0x4a00ea(0x3a9)],this['transactionsToSync']['includes'](_0x3d5829['id'])&&this['syncTransactionsWritten'][_0x4a00ea(0x5ac)](_0x2f2b5a);break;}case _0x5735aa['Delete']:{const _0x46b42a=_0x20898e[_0x4a00ea(0x21d)](_0x3f53d6,!0x1);this[_0x4a00ea(0x212)][_0x4a00ea(0x232)](_0x3d5829['id'])&&this[_0x4a00ea(0x2e0)][_0x4a00ea(0x5ac)](_0x46b42a);break;}}_0x148f53[_0x4a00ea(0x764)](_0x497fea[_0x4a00ea(0x266)],{'type':'sync','label':this[_0x4a00ea(0x369)],'nodeId':this[_0x4a00ea(0x395)][_0x4a00ea(0x716)](),'nodeType':this[_0x4a00ea(0x395)][_0x4a00ea(0x3fa)],'clusterId':this[_0x4a00ea(0x5bf)],'tableName':_0x52802c,'key':_0x3f53d6,'size':_0x1b6fa2}),this[_0x4a00ea(0x364)](_0x3d5829);});}[_0x136916(0x5bd)](){const _0x69d008=_0x136916;this[_0x69d008(0x27c)]=this[_0x69d008(0x1ea)]['subscribe'](async _0x4eb362=>{const _0x4e1bf8=_0x69d008;let _0x324c96=0x0;switch(_0x4eb362[_0x4e1bf8(0x733)]){case _0x5735aa[_0x4e1bf8(0x230)]:case _0x5735aa[_0x4e1bf8(0x3ea)]:case _0x5735aa[_0x4e1bf8(0x115)]:{const _0x3ccb39=await this[_0x4e1bf8(0x2da)](_0x4eb362);if(!_0x3ccb39)return;_0x3ccb39[_0x4e1bf8(0x4d3)]=_0x4eb362[_0x4e1bf8(0x4d3)],this[_0x4e1bf8(0x695)](_0x3ccb39),_0x324c96=JSON[_0x4e1bf8(0x728)](_0x4eb362[_0x4e1bf8(0x4d3)])[_0x4e1bf8(0x3a9)],this[_0x4e1bf8(0x442)]+=0x1;break;}case _0x22da6b['Get']:case _0x22da6b['List']:case _0x22da6b[_0x4e1bf8(0x496)]:this[_0x4e1bf8(0x223)]+=0x1;}_0x148f53[_0x4e1bf8(0x764)](_0x497fea['KeyValueDatabase'],{'type':_0x4eb362[_0x4e1bf8(0x733)],'label':this[_0x4e1bf8(0x369)],'nodeId':this[_0x4e1bf8(0x395)][_0x4e1bf8(0x716)](),'nodeType':this[_0x4e1bf8(0x395)][_0x4e1bf8(0x3fa)],'clusterId':this[_0x4e1bf8(0x5bf)],'tableName':_0x4eb362[_0x4e1bf8(0x318)],'key':_0x4eb362['key'],'size':_0x324c96}),this[_0x4e1bf8(0x726)]();});}['instantiateTransactionTable'](){const _0x4c1267=_0x136916;this['db']&&(this['transactionTable']||(this[_0x4c1267(0x181)]=this['db'][_0x4c1267(0x57d)](_0x4dafc3)));}[_0x136916(0x1f2)](){const _0x1ff55b=_0x136916;this[_0x1ff55b(0x2bc)]&&(clearTimeout(this[_0x1ff55b(0x2bc)]),delete this['syncTimeout']);}[_0x136916(0x309)](){const _0x16e379=_0x136916;this[_0x16e379(0x11b)][_0x16e379(0x457)]({'event':_0x1095f4[_0x16e379(0x26e)][_0x16e379(0x753)]}),this[_0x16e379(0x521)]?.(!0x0),delete this[_0x16e379(0x521)],this[_0x16e379(0x726)]();}async[_0x136916(0x729)](){const _0x30e0cd=_0x136916;await Promise['all'](this[_0x30e0cd(0x2e0)]),this[_0x30e0cd(0x309)]();}[_0x136916(0x364)](_0xd34101){const _0x462124=_0x136916;this[_0x462124(0x212)]['includes'](_0xd34101['id'])&&(this[_0x462124(0x1f2)](),this['transactionsToSync']=this['transactionsToSync'][_0x462124(0x557)](_0x32c6e3=>_0x32c6e3!==_0xd34101['id']),0x0!==this[_0x462124(0x212)][_0x462124(0x3a9)]?this[_0x462124(0x2bc)]=setTimeout(this[_0x462124(0x10b)],_0x128163):this[_0x462124(0x729)]());}[_0x136916(0x726)](){const _0x424e23=_0x136916;this[_0x424e23(0x6ea)]&&clearTimeout(this[_0x424e23(0x6ea)]),this[_0x424e23(0x6ea)]=setTimeout(async()=>{const _0x23816d=_0x424e23;delete this[_0x23816d(0x6ea)];let _0x50f9c3=0x0;for(const _0x3efdb4 of this['tables'][_0x23816d(0x26f)]())_0x50f9c3+=await _0x3efdb4['calculateSize']();this[_0x23816d(0x74d)][_0x23816d(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c['Content'],'content':{'type':_0x46fb30[_0x23816d(0x178)],'label':this[_0x23816d(0x369)],'stats':{'timestamp':Date[_0x23816d(0x154)](),'storage':_0x50f9c3,'messagesSent':this[_0x23816d(0x511)],'messagesReceived':this[_0x23816d(0x333)],'bytesSent':this[_0x23816d(0x1ba)],'bytesReceived':this[_0x23816d(0x5e4)],'writes':this[_0x23816d(0x442)],'reads':this[_0x23816d(0x223)],'prompts':0x0,'tokens':0x0}}}),_0x148f53[_0x23816d(0x200)](_0x497fea['KeyValueDatabase'],_0x23816d(0x596)+this[_0x23816d(0x5bf)]+_0x23816d(0x596)+this['label'],_0x50f9c3);},0x1388);}[_0x136916(0x462)](_0x24c933){const _0x5cda02=_0x136916;if(_0x24c933[_0x5cda02(0x450)][_0x4dafc3])throw new _0x4b5cf3(_0x235d31['KeyValueDatabaseTableNameReserved'],_0x5cda02(0x3c7)+_0x4dafc3+'\x27\x20reserved');if(_0x24c933['tables'][_0x52c6bf])throw new _0x4b5cf3(_0x235d31[_0x5cda02(0x4fe)],_0x5cda02(0x3c7)+_0x52c6bf+'\x27\x20reserved');_0x24c933[_0x5cda02(0x450)][_0x4dafc3]={'indexes':[]},_0x24c933[_0x5cda02(0x450)][_0x52c6bf]={'indexes':[]};}}const _0x160afc=require('@crewdle/mist-connector-opfs'),_0xf08d9e=require('@crewdle/mist-connector-indexed-db'),_0x12a860=require('@crewdle/mist-connector-webrtc-browser');var _0x4c1e32,_0x2418f7,_0x5b3080,_0x85605b,_0x148c1f,_0x5b5dcb,_0x2d2007,_0x3e9d60,_0x45119b;!function(_0x568ec8){const _0x5be429=_0x136916;_0x568ec8['AudioContext']=_0x5be429(0x383),_0x568ec8[_0x5be429(0x39c)]=_0x5be429(0x39c),_0x568ec8[_0x5be429(0x1fd)]=_0x5be429(0x1fd),_0x568ec8[_0x5be429(0x15c)]=_0x5be429(0x15c),_0x568ec8[_0x5be429(0x2de)]=_0x5be429(0x2de),_0x568ec8[_0x5be429(0x48a)]=_0x5be429(0x48a),_0x568ec8[_0x5be429(0x566)]=_0x5be429(0x566),_0x568ec8[_0x5be429(0x50c)]='ScreenSharing',_0x568ec8[_0x5be429(0x4f8)]=_0x5be429(0x4f8),_0x568ec8[_0x5be429(0x141)]=_0x5be429(0x141);}(_0x4c1e32||(_0x4c1e32={}));class _0x4a8af3{['registeredListeners'];[_0x136916(0x674)];[_0x136916(0x50d)];constructor(_0x311300=new Map(),_0x323d52=new Map(),_0x16cdc0=new EventTarget()){const _0x3564b2=_0x136916;this['registeredListeners']=_0x311300,this[_0x3564b2(0x674)]=_0x323d52,this[_0x3564b2(0x50d)]=_0x16cdc0;}['emit']=(_0x3475f8,_0x131c41)=>this[_0x136916(0x11f)]['has'](_0x3475f8)?(_0x148f53[_0x136916(0x2f4)](_0x19b950[_0x136916(0x644)],'Emitting\x20event\x20on\x20local\x20cluster',{'event':_0x3475f8,'data':_0x131c41}),this['eventTarget']['dispatchEvent'](new CustomEvent(_0x3475f8,{'detail':_0x131c41})),!0x0):(this['bufferEvent'](_0x3475f8,_0x131c41),!0x1);['on']=(_0x584107,_0x599a02)=>{const _0x58abcc=_0x136916,_0x15ae64=_0x177496=>{const _0x42734d=a0_0x532f;_0x148f53[_0x42734d(0x2f4)](_0x19b950['Events'],'Received\x20event\x20on\x20cluster',_0x177496[_0x42734d(0x3fa)],_0x177496[_0x42734d(0x489)]),_0x599a02(_0x177496[_0x42734d(0x489)]);};return this[_0x58abcc(0x11f)][_0x58abcc(0x5ff)](_0x584107,_0x15ae64),this[_0x58abcc(0x50d)]['addEventListener'](_0x584107,_0x15ae64),_0x148f53[_0x58abcc(0x2f4)](_0x19b950['Cluster'],_0x58abcc(0x2f7),_0x584107,_0x599a02),this['consumeBufferedEvents'](_0x584107),this;};[_0x136916(0x5dc)](_0x158abe){const _0x43b9ed=_0x136916;if(!_0x158abe)return this[_0x43b9ed(0x11f)][_0x43b9ed(0x1b3)]((_0x5e32a0,_0x291531)=>{const _0x57643c=_0x43b9ed;this[_0x57643c(0x50d)][_0x57643c(0x23b)](_0x291531,_0x5e32a0);}),void this['registeredListeners'][_0x43b9ed(0x5ef)]();_0x43b9ed(0x112)==typeof _0x158abe&&this[_0x43b9ed(0x5f3)](_0x158abe),Array[_0x43b9ed(0x672)](_0x158abe)&&_0x158abe[_0x43b9ed(0x1b3)](_0xeef402=>{const _0x4a864c=_0x43b9ed;this[_0x4a864c(0x5f3)](_0xeef402);});}[_0x136916(0x5f3)](_0x4b2cf7){const _0x358ad4=_0x136916,_0x2efd6f=this[_0x358ad4(0x11f)][_0x358ad4(0x2b0)](_0x4b2cf7);_0x2efd6f&&(this[_0x358ad4(0x50d)][_0x358ad4(0x23b)](_0x4b2cf7,_0x2efd6f),this[_0x358ad4(0x11f)]['delete'](_0x4b2cf7));}[_0x136916(0x533)](_0x34e4ea,_0x266a59){const _0x4df21e=_0x136916;_0x148f53[_0x4df21e(0x2f4)](_0x19b950[_0x4df21e(0x644)],_0x4df21e(0x1ef),{'event':_0x34e4ea,'data':_0x266a59});const _0x36cdff=this[_0x4df21e(0x674)]['get'](_0x34e4ea)||[];this[_0x4df21e(0x674)][_0x4df21e(0x5ff)](_0x34e4ea,[..._0x36cdff,_0x266a59]);}[_0x136916(0x444)](_0x30f700){const _0xb6896c=_0x136916,_0x4e9651=this[_0xb6896c(0x674)][_0xb6896c(0x2b0)](_0x30f700);_0x4e9651&&(_0x4e9651[_0xb6896c(0x1b3)](_0x2d3b07=>{const _0x25b620=_0xb6896c;_0x148f53[_0x25b620(0x2f4)](_0x19b950[_0x25b620(0x644)],_0x25b620(0x33f),{'event':_0x30f700,'data':_0x2d3b07}),this[_0x25b620(0x50d)][_0x25b620(0x199)](new CustomEvent(_0x30f700,{'detail':_0x2d3b07}));}),this[_0xb6896c(0x674)]['delete'](_0x30f700));}}class _0xb57abe extends Error{constructor(_0x3c0e66){super('Early\x20return:\x20'+_0x3c0e66);}}!function(_0x44a9fa){const _0x292932=_0x136916;_0x44a9fa[_0x44a9fa[_0x292932(0x2cb)]=0x0]=_0x292932(0x2cb),_0x44a9fa[_0x44a9fa[_0x292932(0x602)]=0x1]=_0x292932(0x602);}(_0x2418f7||(_0x2418f7={})),function(_0x13d0ec){const _0x1aff70=_0x136916;_0x13d0ec[_0x13d0ec[_0x1aff70(0x56b)]=0x0]=_0x1aff70(0x56b),_0x13d0ec[_0x13d0ec['Answer']=0x1]=_0x1aff70(0x70c),_0x13d0ec[_0x13d0ec['Handshake']=0x2]=_0x1aff70(0x4f4),_0x13d0ec[_0x13d0ec['Success']=0x3]=_0x1aff70(0x213),_0x13d0ec[_0x13d0ec[_0x1aff70(0x6bc)]=0x4]=_0x1aff70(0x6bc),_0x13d0ec[_0x13d0ec[_0x1aff70(0x4b7)]=0x5]=_0x1aff70(0x4b7),_0x13d0ec[_0x13d0ec[_0x1aff70(0x203)]=0x6]='Disconnect',_0x13d0ec[_0x13d0ec[_0x1aff70(0x1c3)]=0x7]=_0x1aff70(0x1c3),_0x13d0ec[_0x13d0ec['OptimizationConnectionSuccess']=0x8]=_0x1aff70(0x6d0);}(_0x5b3080||(_0x5b3080={})),function(_0x2cb790){const _0x118442=_0x136916;_0x2cb790[_0x2cb790[_0x118442(0x4d5)]=0x0]='Sender',_0x2cb790[_0x2cb790['Receiver']=0x1]=_0x118442(0x3fe);}(_0x85605b||(_0x85605b={})),function(_0x2876be){const _0x94c772=_0x136916;_0x2876be['MediaStream']=_0x94c772(0x4dc);}(_0x148c1f||(_0x148c1f={})),function(_0x58a5e2){const _0x2ad69e=_0x136916;_0x58a5e2[_0x58a5e2[_0x2ad69e(0x68b)]=0x0]=_0x2ad69e(0x68b),_0x58a5e2[_0x58a5e2[_0x2ad69e(0x1ad)]=0x1]='NodeUpdate',_0x58a5e2[_0x58a5e2['NodeConnectionsUpdate']=0x2]=_0x2ad69e(0x355),_0x58a5e2[_0x58a5e2[_0x2ad69e(0x673)]=0x3]=_0x2ad69e(0x673);}(_0x5b5dcb||(_0x5b5dcb={})),function(_0x2d2cdf){const _0x30a94f=_0x136916;_0x2d2cdf[_0x2d2cdf[_0x30a94f(0x650)]=0x0]=_0x30a94f(0x650),_0x2d2cdf[_0x2d2cdf[_0x30a94f(0x749)]=0x1]=_0x30a94f(0x749);}(_0x2d2007||(_0x2d2007={})),function(_0x14383f){const _0x484b33=_0x136916;_0x14383f[_0x484b33(0x50e)]=_0x484b33(0x107),_0x14383f[_0x484b33(0x616)]=_0x484b33(0x2e9);}(_0x3e9d60||(_0x3e9d60={})),function(_0x3d1774){const _0x524459=_0x136916;_0x3d1774[_0x524459(0x281)]='resolution',_0x3d1774[_0x524459(0x62d)]=_0x524459(0x35e);}(_0x45119b||(_0x45119b={}));const _0x545662=require('aws-amplify'),_0x158b69=require('aws-amplify/utils'),_0x2bdba8=require('@aws-amplify/api'),_0x3d99f7=require('@aws-amplify/core');class _0xf520d8{['clusterId'];[_0x136916(0x395)];[_0x136916(0x1a8)];constructor(_0x2a5974,_0x36f3f6,_0x43e0ab){const _0x53cb33=_0x136916;this[_0x53cb33(0x5bf)]=_0x2a5974,this[_0x53cb33(0x395)]=_0x36f3f6,this['remoteId']=_0x43e0ab;}[_0x136916(0x643)](){const _0x17f543=_0x136916;return this['localNode'][_0x17f543(0x716)]();}['getRemoteId'](){const _0x4edaa5=_0x136916;return this[_0x4edaa5(0x1a8)];}}var _0x27d721,_0x277968,_0x2fc674;function _0x49739b(_0x3d1639,_0x30a384){const _0x41d875=_0x136916;return _0x3d1639[_0x41d875(0xf1)]===_0x30a384;}function _0x5ac4f6(_0xfaa785,_0x338f44){const _0x37a1cd=_0x136916;return _0xfaa785[_0x37a1cd(0x394)]?.[_0x37a1cd(0x232)](_0x338f44)??function(_0x50bb9f){return void 0x0===_0x50bb9f['destinationIds'];}(_0xfaa785);}function _0x1c8f51(_0x429bb5,{contentType:_0x285d8e,label:_0x31ef79,remoteId:_0x117bf9}){return _0x429bb5+'-'+_0x285d8e+'-'+_0x31ef79+'-'+_0x117bf9;}function _0x309535(_0x261a56,_0x2495a3,_0x61c2d3){return''+_0x261a56+_0x2495a3+_0x61c2d3;}function _0x4eb0dc(_0x192818){const _0x3ba793=_0x136916;return _0x192818===_0x277968[_0x3ba793(0x54e)]?'IncomingSubscription':_0x3ba793(0x4c7);}function _0x5bd068(_0x38a519,_0x194ba9){const _0x41b477=_0x136916;return{'label':_0x38a519[_0x41b477(0x6f1)](),'contentType':_0x38a519[_0x41b477(0x51b)](),'remoteId':_0x194ba9['getRemoteId'](),'supportsContentType':_0x194ba9['getSupportedContentTypes']()[_0x41b477(0x232)](_0x38a519[_0x41b477(0x51b)]())};}!function(_0xf11d4d){const _0x3d8e75=_0x136916;_0xf11d4d[_0xf11d4d[_0x3d8e75(0x27d)]=0x0]=_0x3d8e75(0x27d),_0xf11d4d[_0xf11d4d[_0x3d8e75(0x71f)]=0x1]=_0x3d8e75(0x71f),_0xf11d4d[_0xf11d4d['Rejected']=0x2]=_0x3d8e75(0x28d);}(_0x27d721||(_0x27d721={})),function(_0x232df5){const _0x552122=_0x136916;_0x232df5[_0x552122(0x54e)]='in',_0x232df5['Outgoing']='out';}(_0x277968||(_0x277968={}));class _0x595720{['callback'];[_0x136916(0x634)];constructor(_0xa58b21,_0xe36609){this['callback']=_0xa58b21,this['retryCallback']=_0xe36609;}[_0x136916(0x45b)](_0x3c3b1f){const _0x1dfab0=_0x136916;this[_0x1dfab0(0x221)](_0x3c3b1f);}async[_0x136916(0x262)](){const _0xb859b2=_0x136916;await this[_0xb859b2(0x634)]();}}class _0x450eea{[_0x136916(0x221)];[_0x136916(0x634)];constructor(_0xb63efd,_0x3a123b){const _0x3ddb13=_0x136916;this[_0x3ddb13(0x221)]=_0xb63efd,this[_0x3ddb13(0x634)]=_0x3a123b;}async['call'](_0x46dfe8){const _0x2814f6=_0x136916;await this[_0x2814f6(0x221)](_0x46dfe8);}async[_0x136916(0x262)](){const _0x12b1e6=_0x136916;await this[_0x12b1e6(0x634)]();}}function _0x547d3a(_0x137417=()=>{},_0x132b6c=()=>!0x1,_0x13c1b4=()=>{}){let _0xa718b9,_0x2595f9,_0x584970=0x0;return{get 'size'(){return _0x584970;},get 'head'(){return _0xa718b9;},get 'tail'(){return _0x2595f9;},set 'head'(_0x31bc66){_0xa718b9=_0x31bc66;},set 'tail'(_0x580cba){_0x2595f9=_0x580cba;},'push'(_0x7c1583,_0x40d281=!0x0){const _0x34c4b3=a0_0x532f,_0x51b91f={'value':_0x7c1583};_0x40d281&&_0x132b6c(_0x51b91f)?_0x137417():(_0x2595f9&&(_0x51b91f[_0x34c4b3(0x508)]=_0x2595f9,_0x2595f9[_0x34c4b3(0x2db)]=_0x51b91f),_0x2595f9=_0x51b91f,_0xa718b9||(_0xa718b9=_0x51b91f),_0x584970+=0x1,_0x40d281&&_0x137417());},'pop'(){const _0x2dd406=a0_0x532f;if(!_0x2595f9)return;const _0x4804b4=_0x2595f9[_0x2dd406(0x4d3)];return _0x2595f9=_0x2595f9['previous'],_0x2595f9&&delete _0x2595f9[_0x2dd406(0x2db)],_0x2595f9||(_0xa718b9=void 0x0),_0x584970-=0x1,_0x4804b4;},'unshift'(_0x4c9454,_0x4842a8=!0x0){const _0x43f633=a0_0x532f,_0x4018e1={'value':_0x4c9454};_0x4842a8&&_0x132b6c(_0x4018e1)?_0x137417():(_0xa718b9&&(_0xa718b9[_0x43f633(0x508)]=_0x4018e1,_0x4018e1[_0x43f633(0x2db)]=_0xa718b9),_0xa718b9=_0x4018e1,_0x2595f9||(_0x2595f9=_0x4018e1),_0x584970+=0x1,_0x4842a8&&_0x137417());},'shift'(){const _0x557ac0=a0_0x532f;if(!_0xa718b9)return;const _0x2d7100=_0xa718b9[_0x557ac0(0x4d3)];return _0xa718b9=_0xa718b9['next'],_0xa718b9&&delete _0xa718b9['previous'],_0xa718b9||(_0x2595f9=void 0x0),_0x584970-=0x1,_0x2d7100;},'clear'(){_0x13c1b4(),_0xa718b9=void 0x0,_0x2595f9=void 0x0,_0x584970=0x0;}};}function _0x3d91a7(_0x453978,_0x25e66f=!0x1,_0x2c1a6f=()=>{},_0x5bcfab=()=>!0x1,_0x56acbe=()=>{}){let _0x247665=!0x1;const _0x12521d=_0x547d3a(async function(){const _0x1c0903=a0_0x532f;if(!_0x247665){for(_0x247665=!0x0;_0x12521d[_0x1c0903(0x3c5)];){const _0x328f90=_0x12521d[_0x1c0903(0x3f4)]();if(_0x328f90)try{_0x453978 instanceof _0x595720&&_0x453978[_0x1c0903(0x45b)](_0x328f90),_0x453978 instanceof _0x450eea&&await _0x453978[_0x1c0903(0x45b)](_0x328f90),_0x2c1a6f(_0x328f90);}catch(_0x28c178){_0x25e66f?_0x12521d['push'](_0x328f90,!0x1):_0x12521d[_0x1c0903(0x3f8)](_0x328f90,!0x1),await _0x453978[_0x1c0903(0x262)]();}}_0x247665=!0x1;}},_0x5bcfab,_0x56acbe);return _0x12521d;}class _0x2d9927 extends _0xf520d8{[_0x136916(0x180)];[_0x136916(0x1ca)];[_0x136916(0x28f)]=_0x2bdba8[_0x136916(0x6d7)][_0x136916(0x3db)];[_0x136916(0x47a)]=_0x2f84d1();['messageListeners']=_0x57b3e6();[_0x136916(0x75a)];[_0x136916(0x637)];[_0x136916(0x20b)]=_0x3d91a7(new _0x450eea(this['sendAction'][_0x136916(0x72c)](this),this[_0x136916(0x58e)][_0x136916(0x72c)](this)));['client'];constructor(_0x49bf77,_0x37033a,_0x255130,_0x20e0b1,_0x58d084){const _0x139525=_0x136916;super(_0x37033a,_0x255130,_0x20e0b1),this[_0x139525(0x180)]=_0x49bf77,this[_0x139525(0x1ca)]=_0x58d084;}async[_0x136916(0x4e7)](){const _0x80c944=_0x136916;try{const _0x4bea33={'getTokens':async()=>{const _0x2807d2=a0_0x532f,_0x5698b7=await this['authService'][_0x2807d2(0x5f5)]();return{'accessToken':(0x0,_0x3d99f7[_0x2807d2(0x56e)])(_0x5698b7),'idToken':(0x0,_0x3d99f7[_0x2807d2(0x56e)])(_0x5698b7)};}};_0x545662[_0x80c944(0x709)][_0x80c944(0x722)]({'API':{'GraphQL':{'endpoint':_0x397e91['aws'][_0x80c944(0x6a1)],'region':_0x397e91['aws'][_0x80c944(0x636)],'defaultAuthMode':_0x80c944(0x5c4)}}},{'Auth':{'tokenProvider':_0x4bea33}}),this[_0x80c944(0x4d6)]=(0x0,_0x2bdba8['generateClient'])(),await this['subscribe'](),this[_0x80c944(0x637)]=_0x158b69['Hub'][_0x80c944(0x169)](_0x80c944(0x6fc),async({payload:_0x1d77ee})=>{const _0x316a6c=_0x80c944;if(_0x1d77ee['event']===_0x2bdba8[_0x316a6c(0x3b0)]){const _0x4a8818=_0x1d77ee[_0x316a6c(0x757)];this['connectionState']=_0x4a8818[_0x316a6c(0x28f)],this[_0x316a6c(0x47a)][_0x316a6c(0x457)](_0x4a8818[_0x316a6c(0x28f)]),this[_0x316a6c(0x28f)]===_0x2bdba8['ConnectionState'][_0x316a6c(0x3db)]&&_0x148f53['error']('appsync-disconnect',{'clusterId':this['clusterId'],'nodeId':this[_0x316a6c(0x643)](),'nodeType':this['localNode'][_0x316a6c(0x3fa)]}),this['connectionState']===_0x2bdba8['ConnectionState']['Connected']&&_0x148f53[_0x316a6c(0x49c)](_0x316a6c(0x71d),{'clusterId':this[_0x316a6c(0x5bf)],'nodeId':this[_0x316a6c(0x643)](),'nodeType':this['localNode']['type']});}});}catch(_0x54ef38){_0x148f53[_0x80c944(0x4d8)](_0x80c944(0x23c),{'clusterId':this[_0x80c944(0x5bf)],'nodeId':this[_0x80c944(0x643)](),'nodeType':this[_0x80c944(0x395)][_0x80c944(0x3fa)]});}}[_0x136916(0x348)](){const _0x2f48be=_0x136916;_0x148f53['warning'](_0x2f48be(0x210),{'clusterId':this[_0x2f48be(0x5bf)],'nodeId':this['getLocalId'](),'nodeType':this[_0x2f48be(0x395)][_0x2f48be(0x3fa)]}),this['retryQueue'][_0x2f48be(0x5ef)](),this[_0x2f48be(0x637)]?.(),this[_0x2f48be(0x75a)]?.[_0x2f48be(0xef)](),delete this[_0x2f48be(0x75a)];}[_0x136916(0x570)](){const _0x586764=_0x136916;return this[_0x586764(0x28f)]===_0x2bdba8[_0x586764(0x6d7)][_0x586764(0x3fd)];}['send'](_0x343731){const _0x4a29a6=_0x136916;this[_0x4a29a6(0x20b)][_0x4a29a6(0x5ac)](_0x343731);}[_0x136916(0x65f)](_0x399829){const _0x275674=_0x136916;return this[_0x275674(0x5cd)]['subscribe'](_0x399829);}[_0x136916(0x15d)](){const _0x407321=_0x136916;return[_0x1095f4['ContentType'][_0x407321(0x745)]];}async[_0x136916(0x58e)](){if(!this['isConnected']())return new Promise(_0x40a778=>{const _0x409f19=a0_0x532f,_0x18c247=this[_0x409f19(0x47a)][_0x409f19(0x67e)](_0x30636d=>{const _0x1e4cb5=_0x409f19;_0x30636d===_0x2bdba8[_0x1e4cb5(0x6d7)]['Connected']&&(_0x18c247(),_0x40a778());});});}async[_0x136916(0x2d0)](_0x5273c3){const _0x1f2c68=_0x136916;if(this['connectionState']!==_0x2bdba8[_0x1f2c68(0x6d7)][_0x1f2c68(0x3fd)])throw new Error(_0x1f2c68(0x20c));_0x5273c3[_0x1f2c68(0x394)]&&0x1===_0x5273c3[_0x1f2c68(0x394)]['length']?await this[_0x1f2c68(0x457)](_0x5273c3[_0x1f2c68(0x394)][0x0],JSON[_0x1f2c68(0x728)](_0x5273c3)):_0x148f53[_0x1f2c68(0x4d8)](_0x1f2c68(0x478),{'clusterId':this[_0x1f2c68(0x5bf)],'nodeId':this['getLocalId'](),'nodeType':this['localNode']['type']});}async['publish'](_0xc16008,_0xc406d){const _0x115424=_0x136916;if(!this[_0x115424(0x4d6)])throw new Error(_0x115424(0x1ff));_0x148f53[_0x115424(0x2f4)](_0x19b950[_0x115424(0x663)],_0x115424(0x307),this[_0x115424(0x643)](),_0xc406d),await this[_0x115424(0x4d6)]['graphql']({'query':_0x115424(0x3e2),'variables':{'name':await this[_0x115424(0x3a8)](_0xc16008),'data':_0xc406d}});}async[_0x136916(0x67e)](){const _0x466bfc=_0x136916;if(this[_0x466bfc(0x75a)])return;if(!this[_0x466bfc(0x4d6)])throw new Error(_0x466bfc(0x1ff));_0x148f53[_0x466bfc(0x2f4)](_0x19b950[_0x466bfc(0x663)],'AppSync\x20subscribe',this[_0x466bfc(0x643)]());const _0x2a5eab=await this[_0x466bfc(0x4d6)][_0x466bfc(0x687)]({'query':'\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','variables':{'name':await this[_0x466bfc(0x3a8)]()},'authToken':await this['authService']['getIdToken']()},{'Authorization':await this[_0x466bfc(0x1ca)][_0x466bfc(0x5f5)]()});this[_0x466bfc(0x75a)]=_0x2a5eab[_0x466bfc(0x67e)]({'next':({data:_0x101901})=>{const _0x4ade09=_0x466bfc,_0x3fc38c=JSON[_0x4ade09(0x713)](_0x101901[_0x4ade09(0x67e)]['data']);!_0x49739b(_0x3fc38c,this[_0x4ade09(0x643)]())&&_0x5ac4f6(_0x3fc38c,this['getLocalId']())&&this[_0x4ade09(0x5cd)]['publish'](_0x3fc38c);},'error':console[_0x466bfc(0x2f4)]});}async[_0x136916(0x3a8)](_0xf0308){const _0x4104f5=_0x136916,_0x3e75ac=await crypto[_0x4104f5(0x4e8)][_0x4104f5(0x5f6)](_0x4104f5(0x176),new TextEncoder()[_0x4104f5(0x2e3)](this['vendorId']+'-'+this['clusterId']+'-'+(_0xf0308??this[_0x4104f5(0x643)]())));return Array[_0x4104f5(0x4c4)](new Uint8Array(_0x3e75ac))[_0x4104f5(0x774)](_0x34e585=>_0x34e585[_0x4104f5(0x1e1)](0x10)[_0x4104f5(0x45f)](0x2,'0'))[_0x4104f5(0x471)]('');}}!function(_0x343175){const _0x4b867f=_0x136916;_0x343175[_0x343175[_0x4b867f(0x230)]=0x0]=_0x4b867f(0x230),_0x343175[_0x343175[_0x4b867f(0x59c)]=0x1]='Remove',_0x343175[_0x343175[_0x4b867f(0x3ea)]=0x2]=_0x4b867f(0x3ea),_0x343175[_0x343175[_0x4b867f(0x122)]=0x3]=_0x4b867f(0x122),_0x343175[_0x343175[_0x4b867f(0x11e)]=0x4]=_0x4b867f(0x11e);}(_0x2fc674||(_0x2fc674={}));const _0x53bfff=require('uuid'),_0x22a77f='0',_0x3c2281=_0x136916(0x662),_0x2b698d=0x3fc00;class _0x227b22{[_0x136916(0x5bf)];[_0x136916(0x395)];[_0x136916(0x1a8)];[_0x136916(0x37b)];[_0x136916(0x3cb)];[_0x136916(0x183)];[_0x136916(0x41b)];[_0x136916(0x2d1)];[_0x136916(0xee)]=0x1;['systemTopic'];[_0x136916(0x6f4)]=[];['pendingHandshakeCandidates']=[];['handshakeDebounce'];constructor(_0x3ec9a2,_0x60b80d,_0x28668b,_0x397e77,_0x5bb363,_0x18e867){const _0x6d3397=_0x136916;this[_0x6d3397(0x5bf)]=_0x3ec9a2,this[_0x6d3397(0x395)]=_0x60b80d,this[_0x6d3397(0x1a8)]=_0x28668b,this[_0x6d3397(0x37b)]=_0x397e77,this[_0x6d3397(0x3cb)]=_0x5bb363,this['connectionConstructor']=_0x18e867,this['connection']=new this[(_0x6d3397(0x183))]({'handshakeServers':this[_0x6d3397(0x37b)]}),this['setupConnectionEvents']();}[_0x136916(0x348)](){const _0x28dca5=_0x136916;this[_0x28dca5(0x1c2)]();}[_0x136916(0x684)](_0x716037){this['connectionType']=_0x716037;}async[_0x136916(0x4f5)](_0x2d31c7,_0x572632){const _0x423980=_0x136916;if(_0x572632===this['currentVersion'])for(const _0x54a06e of _0x2d31c7){if(!this['connection']['canAddCandidates'])return this[_0x423980(0x479)](_0x54a06e);await this[_0x423980(0x41b)][_0x423980(0x166)](_0x54a06e);}}[_0x136916(0x570)](){const _0x52e934=_0x136916;return this[_0x52e934(0x1f6)](),'connected'===this[_0x52e934(0x41b)][_0x52e934(0x28f)]&&['connected',_0x52e934(0x2a5)][_0x52e934(0x232)](this['connection'][_0x52e934(0x5e8)])&&_0x52e934(0x5eb)!==this['connection']['signalingState']&&_0x52e934(0x483)===this[_0x52e934(0x2d1)]?.[_0x52e934(0x5ec)];}['registerSystemPublisher'](_0x51b4e6){const _0x4f3b37=_0x136916;this[_0x4f3b37(0x74d)]=_0x51b4e6;}['unregisterSystemPublisher'](){const _0x26fc4e=_0x136916;delete this[_0x26fc4e(0x74d)];}[_0x136916(0x16d)](_0x17b237){const _0x205710=_0x136916;this[_0x205710(0x1c2)](),this[_0x205710(0x41b)]=new this[(_0x205710(0x183))]({'handshakeServers':this[_0x205710(0x37b)]}),_0x17b237?this[_0x205710(0xee)]=_0x17b237:this[_0x205710(0xee)]+=0x1,this['setupConnectionEvents']();}['processPendingHandshakeCandidates'](){const _0x248e09=_0x136916;this['pendingHandshakeCandidates'][_0x248e09(0x1b3)](_0x76259=>this['connection'][_0x248e09(0x166)](_0x76259)),this[_0x248e09(0x34d)]=[];}[_0x136916(0x44e)](_0x18aee0,_0x55b581){const _0x39c0ce=_0x136916;if(!this['systemTopic'])throw new _0x2fb975(_0x2fb975['codes'][_0x39c0ce(0x5d1)],{'content':_0x18aee0});const _0x38042b={'sourceId':this[_0x39c0ce(0x395)][_0x39c0ce(0x716)](),'destinationIds':[this[_0x39c0ce(0x1a8)]],'propagate':this[_0x39c0ce(0x3cb)]!==_0x2418f7['Core'],'retry':this[_0x39c0ce(0x3cb)]!==_0x2418f7[_0x39c0ce(0x2cb)],'messageType':_0x15f44c[_0x39c0ce(0x731)],'content':_0x18aee0};_0x55b581&&(_0x38042b[_0x39c0ce(0x4c6)]=_0x55b581),this['systemTopic'][_0x39c0ce(0x457)](_0x38042b);}['setupConnectionEvents'](){const _0x290232=_0x136916;this[_0x290232(0x41b)]['onGatheringStateChange']=()=>{const _0x47a43c=_0x290232;_0x47a43c(0x775)===this[_0x47a43c(0x41b)][_0x47a43c(0x340)]&&this[_0x47a43c(0x6f4)][_0x47a43c(0x3a9)]>0x0&&(this[_0x47a43c(0x2ab)]&&clearTimeout(this[_0x47a43c(0x2ab)]),this['handshakeDebounce']=setTimeout(()=>{const _0x4b31e8=_0x47a43c;delete this['handshakeDebounce'],this[_0x4b31e8(0x6e1)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x290232(0x41b)]['onCandidate']=_0x32f8b1=>{const _0x5d400b=_0x290232;_0x32f8b1[_0x5d400b(0x60c)]&&this[_0x5d400b(0x6f4)]['push'](_0x32f8b1[_0x5d400b(0x60c)]);};}['stopConnection'](){const _0x23e8aa=_0x136916;clearTimeout(this[_0x23e8aa(0x2ab)]),delete this[_0x23e8aa(0x2ab)],this[_0x23e8aa(0x6f4)]=[],this['pendingHandshakeCandidates']=[],this[_0x23e8aa(0x2d1)]&&(this[_0x23e8aa(0x2d1)][_0x23e8aa(0x65f)]=null,this[_0x23e8aa(0x2d1)]['onClose']=null,this[_0x23e8aa(0x2d1)][_0x23e8aa(0x348)](),delete this[_0x23e8aa(0x2d1)]),this['connection'][_0x23e8aa(0x3be)]=null,this[_0x23e8aa(0x41b)][_0x23e8aa(0x304)]=null,this['connection'][_0x23e8aa(0x422)]=null,this[_0x23e8aa(0x41b)][_0x23e8aa(0x196)]=null,this[_0x23e8aa(0x41b)][_0x23e8aa(0x54a)]=null,this[_0x23e8aa(0x41b)][_0x23e8aa(0x598)]=null,this[_0x23e8aa(0x41b)][_0x23e8aa(0x348)]();}['addPendingHandshakeCandidate'](_0x197c88){const _0x322f70=_0x136916;this['pendingHandshakeCandidates'][_0x322f70(0x5ac)](_0x197c88);}[_0x136916(0x1f6)](){const _0x1beed9=_0x136916;_0x148f53['log'](_0x19b950['ConnectionState'],_0x1beed9(0x35f),{'localId':this[_0x1beed9(0x395)][_0x1beed9(0x716)](),'remoteId':this[_0x1beed9(0x1a8)],'connectionState':this['connection'][_0x1beed9(0x28f)],'handshakeState':this[_0x1beed9(0x41b)][_0x1beed9(0x5e8)],'signalingState':this[_0x1beed9(0x41b)][_0x1beed9(0x537)],'dataChannelState':this['dataChannel']?.[_0x1beed9(0x5ec)]});}}function _0x4de8b5(_0x129470,_0x596a1f){const _0x38899d=_0x136916;_0x596a1f[_0x38899d(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x38899d(0x731)],'content':_0x129470});}class _0x591a0f{static [_0x136916(0x756)];[_0x136916(0x21a)]=[];['source'];constructor(){setInterval(()=>{const _0x49f254=a0_0x532f;this[_0x49f254(0x21a)]['forEach'](_0x27fe8f=>{const _0x260ddd=_0x49f254;if(Date[_0x260ddd(0x154)]()-_0x27fe8f[_0x260ddd(0x13a)]>_0x27fe8f[_0x260ddd(0x1f9)]){try{_0x27fe8f[_0x260ddd(0x221)]();}catch(_0x5e2db1){}_0x27fe8f[_0x260ddd(0x13a)]=Date[_0x260ddd(0x154)]();}});},0x64);}static[_0x136916(0x387)](){const _0x3c9b6e=_0x136916;return _0x591a0f[_0x3c9b6e(0x756)]||(_0x591a0f[_0x3c9b6e(0x756)]=new _0x591a0f()),_0x591a0f['instance'];}[_0x136916(0x76b)](_0x3d92f5){const _0x3ee368=_0x136916,_0x1b3780=this['createConstantSource'](_0x3d92f5),_0x183584=_0x3d92f5[_0x3ee368(0x3b2)]();_0x183584&&_0x1b3780&&(_0x183584[_0x3ee368(0x5aa)]['value']=0.001,_0x1b3780['connect'](_0x183584),_0x183584[_0x3ee368(0x4e7)](_0x3d92f5[_0x3ee368(0x1fe)]),_0x1b3780['start']());}[_0x136916(0x28e)](){const _0x330c8f=_0x136916;this[_0x330c8f(0x553)]&&(this[_0x330c8f(0x553)][_0x330c8f(0x4d0)](),this[_0x330c8f(0x553)][_0x330c8f(0x118)](),this['source']=void 0x0);}[_0x136916(0x262)](_0x50e6a2){return new Promise(_0x5554fe=>{setTimeout(_0x5554fe,_0x50e6a2);});}[_0x136916(0x71b)](_0x3b48d4,_0x1e77fc){const _0x138c0e=_0x136916;return this['parameters'][_0x138c0e(0x5ac)]({'callback':_0x3b48d4,'interval':_0x1e77fc,'lastExecuted':Date[_0x138c0e(0x154)]()}),()=>{const _0x8939a1=_0x138c0e;this[_0x8939a1(0x21a)]=this['parameters']['filter'](_0x2ed728=>_0x2ed728[_0x8939a1(0x221)]!==_0x3b48d4);};}[_0x136916(0x48b)](_0x1a39eb){const _0x25323e=_0x136916;if(_0x1a39eb['createConstantSource'])return _0x1a39eb[_0x25323e(0x48b)]();const _0x1c8b6d=_0x1a39eb['createBufferSource'](),_0x37d1da=_0x1a39eb[_0x25323e(0x4aa)](0x1,0x1,_0x1a39eb[_0x25323e(0x5ba)]);return _0x37d1da[_0x25323e(0x2ad)](0x0)[0x0]=0xa,_0x1c8b6d[_0x25323e(0x344)]=_0x37d1da,_0x1c8b6d[_0x25323e(0x539)]=!0x0,_0x1c8b6d;}}const _0xa9e155=_0x591a0f['getInstance'](),_0x4b7564=['PeerConnection',_0x136916(0x586),_0x136916(0x632),'Subscription',_0x136916(0x1c3),_0x136916(0x4b3),'Remediation'],_0x3b6a30=[[_0x136916(0x56b),_0x136916(0x70c),_0x136916(0x4f4),_0x136916(0x213),_0x136916(0x6bc),_0x136916(0x4b7),_0x136916(0x203),_0x136916(0x1c3),_0x136916(0x6d0)],['NodeJoin',_0x136916(0x1ad),_0x136916(0x355),_0x136916(0x673)],[_0x136916(0x63a),_0x136916(0x613),'SubscribeMediaStream',_0x136916(0x6cd),_0x136916(0x452),_0x136916(0x258),_0x136916(0x2ee),_0x136916(0x3d3),'CloseKeyValueDatabase',_0x136916(0x43b),_0x136916(0x73f),_0x136916(0x1cb),_0x136916(0x41e),_0x136916(0x1f0),_0x136916(0x6ae),'RequestTransactionsValue',_0x136916(0x718),_0x136916(0x178)],[_0x136916(0x1e7),'UpdateMediaStream',_0x136916(0x452),'NeedMediaStream','RestartNeedMediaStream',_0x136916(0x4ba),_0x136916(0x18e),_0x136916(0x619)],[_0x136916(0x769),_0x136916(0x54f)],[_0x136916(0x67a)],[_0x136916(0x650),'RemoteRemediation']];function _0x243550(_0x3da83b){const _0x3fffaf=_0x136916;return{..._0x3da83b,'systemMessageType':_0x4b7564[_0x3da83b[_0x3fffaf(0x146)]],'systemContentMessageType':_0x3b6a30[_0x3da83b[_0x3fffaf(0x146)]][_0x3da83b[_0x3fffaf(0x2dc)][_0x3fffaf(0x3fa)]]};}const _0x32006b={'hour':_0x136916(0x486),'minute':_0x136916(0x486),'second':_0x136916(0x486)};function _0x2b3c3a(_0x364e2e,_0x4973dc){const _0x4c360a=_0x136916,_0x38321e=(function(){const _0x4ac28d=a0_0x532f,_0x5cd545=new Date(),_0x3ed58b=_0x5cd545[_0x4ac28d(0x595)](),_0x7d22a5=_0x5cd545[_0x4ac28d(0x380)]('en-US',_0x32006b)[_0x4ac28d(0x607)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x7d22a5+'.'+(_0x3ed58b>0x64?''+_0x3ed58b:_0x3ed58b>0xa?'0'+_0x3ed58b:'00'+_0x3ed58b);}()),{sourceId:_0x1f0ebf,destinationIds:_0x21c0dd,systemMessageType:_0x50e709,systemContentMessageType:_0x86c7ad}=_0x243550(_0x364e2e);return _0x38321e+'\x20-\x20'+_0x4973dc+_0x4c360a(0x13d)+(_0x1f0ebf===_0x4973dc?_0x4c360a(0x53f)+_0x50e709+_0x4c360a(0x5c3)+(_0x21c0dd?''+_0x21c0dd:_0x4c360a(0x686)):_0x364e2e[_0x4c360a(0xf1)]===_0x23eca1?_0x4c360a(0x456)+_0x50e709+'\x27':(_0x21c0dd?'':_0x4c360a(0x167))+_0x4c360a(0x2e6)+_0x50e709+_0x4c360a(0x438)+_0x1f0ebf)+_0x4c360a(0x361)+_0x86c7ad+_0x4c360a(0x4cf);}class _0x329b80 extends _0x227b22{['messageCallback']=_0x2f84d1();[_0x136916(0x33b)]=_0x2f84d1();[_0x136916(0x157)]=_0x2f84d1();[_0x136916(0x285)]=new Map();[_0x136916(0x4ad)]=new Map();[_0x136916(0x526)];[_0x136916(0x333)]=0x0;[_0x136916(0x75e)]={'messages':{'total':0x0}};[_0x136916(0x5e4)]=0x0;[_0x136916(0x4a4)]=0x0;[_0x136916(0x348)](){const _0x584919=_0x136916;this['clearWaitSuccess'](),this['receivers'][_0x584919(0x5ef)](),super[_0x584919(0x348)]();}async[_0x136916(0x515)](_0x4bb41e,_0x3637b7){const _0x49adf6=_0x136916;this[_0x49adf6(0xee)]=_0x3637b7,this[_0x49adf6(0x52f)]();const _0x2f6d8f=await this[_0x49adf6(0x41b)][_0x49adf6(0x190)](_0x4bb41e);this[_0x49adf6(0x3c4)]();const _0x4ebf62=(0x0,_0x53bfff['v4'])();this[_0x49adf6(0x44e)]({'type':_0x5b3080[_0x49adf6(0x70c)],'answer':_0x2f6d8f,'version':_0x3637b7,'connectionType':this[_0x49adf6(0x3cb)]},_0x4ebf62),this['connectionType']===_0x2418f7[_0x49adf6(0x2cb)]&&(this['waitSuccess']=_0xa9e155['setInterval'](()=>{const _0x19433d=_0x49adf6;this[_0x19433d(0x44e)]({'type':_0x5b3080[_0x19433d(0x70c)],'answer':_0x2f6d8f,'version':_0x3637b7,'connectionType':this[_0x19433d(0x3cb)]},_0x4ebf62);},0x1388));}['handleSuccess'](){const _0x5e0883=_0x136916;this[_0x5e0883(0x52f)]();}[_0x136916(0x514)](_0x4849b3){const _0x8e1561=_0x136916;this[_0x8e1561(0x16d)](_0x4849b3),this[_0x8e1561(0x44e)]({'type':_0x5b3080['Restart']});}async[_0x136916(0x1c0)](){const _0x517293=_0x136916;this[_0x517293(0x74d)]&&(await this['connection']['collectReceiversStats'](this['receivers'],(_0x3afa21,_0x2d1f75)=>{const _0x2e9267=_0x517293;_0x4de8b5({'type':_0x5b3080[_0x2e9267(0x1c3)],'streamId':_0x2d1f75,'nodeId':this[_0x2e9267(0x1a8)],'stats':_0x3afa21},this[_0x2e9267(0x74d)]);}),this[_0x517293(0x74d)][_0x517293(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x517293(0x731)],'content':{'type':_0x5b3080[_0x517293(0x1c3)],'nodeId':this[_0x517293(0x1a8)],'stats':{'origin':_0x85605b[_0x517293(0x3fe)],'timestamp':Date[_0x517293(0x154)](),'messagesReceived':this[_0x517293(0x333)],'bytesReceived':this['bytesReceived'],'timeReceiving':this[_0x517293(0x4a4)],'systemMessages':this[_0x517293(0x75e)]}}}));}[_0x136916(0x65f)](_0x2ee617){const _0x4f378b=_0x136916;return this[_0x4f378b(0x6e5)]['subscribe'](_0x2ee617);}[_0x136916(0x54a)](_0x2256d1){const _0x16b577=_0x136916;return this[_0x16b577(0x33b)][_0x16b577(0x67e)](({track:_0x184a1d,stream:_0xb395cd})=>_0x2256d1(_0x184a1d,_0xb395cd));}[_0x136916(0x659)](_0x30b9d2){const _0x361a5d=_0x136916;return this[_0x361a5d(0x157)][_0x361a5d(0x67e)](({track:_0x57b820,stream:_0xe79082})=>_0x30b9d2(_0x57b820,_0xe79082));}[_0x136916(0x16d)](_0x26ea9f){const _0x3e07ec=_0x136916;this[_0x3e07ec(0x52f)](),this[_0x3e07ec(0x285)]['forEach'](_0x1b555a=>{const _0x50df4f=_0x3e07ec;_0x1b555a[_0x50df4f(0x5ef)]();}),super[_0x3e07ec(0x16d)](_0x26ea9f);}[_0x136916(0x6e1)](){const _0x4bb22a=_0x136916;this['publishSystemMessage']({'type':_0x5b3080[_0x4bb22a(0x4f4)],'candidates':this[_0x4bb22a(0x6f4)],'origin':_0x85605b['Receiver'],'version':this[_0x4bb22a(0xee)],'connectionType':this[_0x4bb22a(0x3cb)]});}[_0x136916(0x16f)](){const _0x4552ea=_0x136916;super[_0x4552ea(0x16f)](),this[_0x4552ea(0x41b)][_0x4552ea(0x54a)]=_0x260b29=>{const _0x996fa5=_0x4552ea;_0x148f53['log'](_0x19b950[_0x996fa5(0x2fb)],_0x996fa5(0x689),this[_0x996fa5(0x395)][_0x996fa5(0x716)](),_0x260b29),_0x260b29[_0x996fa5(0x44f)][0x0][_0x996fa5(0x28a)]=_0x2963c9=>{const _0x35133c=_0x996fa5;this[_0x35133c(0x285)][_0x35133c(0x2b0)](_0x260b29[_0x35133c(0x44f)][0x0]['id'])?.[_0x35133c(0x21d)](_0x2963c9[_0x35133c(0x45e)]),0x0===this[_0x35133c(0x285)][_0x35133c(0x2b0)](_0x260b29[_0x35133c(0x44f)][0x0]['id'])?.[_0x35133c(0x216)]&&this['receivers'][_0x35133c(0x21d)](_0x260b29[_0x35133c(0x44f)][0x0]['id']),this[_0x35133c(0x157)][_0x35133c(0x457)]({'track':_0x2963c9[_0x35133c(0x45e)],'stream':_0x260b29[_0x35133c(0x44f)][0x0]});},this['receivers'][_0x996fa5(0x2b3)](_0x260b29[_0x996fa5(0x44f)][0x0]['id'])||this['receivers'][_0x996fa5(0x5ff)](_0x260b29[_0x996fa5(0x44f)][0x0]['id'],new Set()),this[_0x996fa5(0x285)][_0x996fa5(0x2b0)](_0x260b29[_0x996fa5(0x44f)][0x0]['id'])[_0x996fa5(0x759)](_0x260b29[_0x996fa5(0x45e)]),this[_0x996fa5(0x33b)][_0x996fa5(0x457)]({'track':_0x260b29[_0x996fa5(0x45e)],'stream':_0x260b29[_0x996fa5(0x44f)][0x0]});},this['connection'][_0x4552ea(0x598)]=_0x1019c9=>{const _0x28d52b=_0x4552ea;this['dataChannel']=_0x1019c9[_0x28d52b(0x4ce)],this[_0x28d52b(0x2d1)][_0x28d52b(0x65f)]=_0x2b2529=>{const _0x15bcca=_0x28d52b;if(_0x2b2529[_0x15bcca(0x757)]!==_0x22a77f)this[_0x15bcca(0x66a)](_0x2b2529[_0x15bcca(0x757)]);else{if(!this['dataChannel'])return void _0x148f53[_0x15bcca(0x4d8)]('missing-datachannel',{'clusterId':this['clusterId'],'nodeId':this[_0x15bcca(0x395)][_0x15bcca(0x716)](),'nodeType':this[_0x15bcca(0x395)][_0x15bcca(0x3fa)],'remoteId':this[_0x15bcca(0x1a8)],'data':{'connection':_0x15bcca(0x50f)}});if('open'!==this[_0x15bcca(0x2d1)][_0x15bcca(0x5ec)])return;this[_0x15bcca(0x2d1)][_0x15bcca(0x695)]('1');}};};}[_0x136916(0x66a)](_0x1223b7){const _0x5cea20=_0x136916;if(_0x5cea20(0x112)==typeof _0x1223b7&&_0x1223b7[_0x5cea20(0x5a5)](_0x3c2281))return this[_0x5cea20(0x333)]+=0x1,this[_0x5cea20(0x5e4)]+=_0x1223b7[_0x5cea20(0x3a9)],this[_0x5cea20(0x6b4)](_0x1223b7);setTimeout(()=>{const _0x1f1779=_0x5cea20,_0x3eabda=Date[_0x1f1779(0x154)]();let _0x5b556c;if((_0x1223b7 instanceof ArrayBuffer||_0x1223b7['length']<=_0x2b698d)&&(this[_0x1f1779(0x333)]+=0x1,this[_0x1f1779(0x5e4)]+=_0x1223b7 instanceof ArrayBuffer?_0x1223b7[_0x1f1779(0x143)]:_0x1223b7[_0x1f1779(0x3a9)]),_0x1223b7 instanceof ArrayBuffer){const [_0x42a25d,_0x45546c]=this[_0x1f1779(0x694)](_0x1223b7);_0x5b556c=_0x42a25d,_0x5b556c[_0x1f1779(0x2dc)][_0x1f1779(0x757)]=_0x45546c;}else _0x5b556c=JSON[_0x1f1779(0x713)](_0x1223b7);if(0x0===_0x5b556c[_0x1f1779(0x3f3)]){this['systemMessagesReceived']['messages']['total']+=0x1;const {systemMessageType:_0x1e075e,systemContentMessageType:_0x47e396}=_0x243550(_0x5b556c);this[_0x1f1779(0x75e)][_0x1e075e]||(this[_0x1f1779(0x75e)][_0x1e075e]={[_0x47e396]:0x0}),this[_0x1f1779(0x75e)][_0x1e075e][_0x47e396]||(this[_0x1f1779(0x75e)][_0x1e075e][_0x47e396]=0x0),this[_0x1f1779(0x75e)][_0x1e075e][_0x1f1779(0x376)]||(this[_0x1f1779(0x75e)][_0x1e075e]['total']=0x0),this['systemMessagesReceived'][_0x1e075e][_0x47e396]+=0x1,this[_0x1f1779(0x75e)][_0x1e075e][_0x1f1779(0x376)]+=0x1;}this[_0x1f1779(0x6e5)]['publish'](_0x5b556c),this[_0x1f1779(0x4a4)]+=Date[_0x1f1779(0x154)]()-_0x3eabda;},0x0);}[_0x136916(0x6b4)](_0x598389){const _0x38a2bd=_0x136916,_0x49669d=_0x598389[_0x38a2bd(0x5c8)](';'),_0x32a9f1=_0x49669d[0x1],_0x3535cb=parseInt(_0x49669d[0x2],0xa),_0x4a024a=parseInt(_0x49669d[0x3],0xa),_0xe411c4=_0x598389[_0x38a2bd(0x177)](_0x3c2281+';'+_0x32a9f1+';'+_0x3535cb+';'+_0x4a024a+';','');this[_0x38a2bd(0x4ad)][_0x38a2bd(0x2b3)](_0x32a9f1)||this[_0x38a2bd(0x4ad)][_0x38a2bd(0x5ff)](_0x32a9f1,[]);const _0x3800a6=this[_0x38a2bd(0x4ad)][_0x38a2bd(0x2b0)](_0x32a9f1);_0x3800a6[_0x3535cb]=_0xe411c4,_0x3800a6[_0x38a2bd(0x3a9)]===_0x4a024a&&(this[_0x38a2bd(0x66a)](_0x3800a6[_0x38a2bd(0x471)]('')),this[_0x38a2bd(0x4ad)][_0x38a2bd(0x21d)](_0x32a9f1));}[_0x136916(0x52f)](){const _0x58869d=_0x136916;this[_0x58869d(0x526)]?.(),delete this[_0x58869d(0x526)];}['arrayBufferToObject'](_0x3786cb){const _0x536b83=new TextDecoder()['decode'](_0x3786cb);return JSON['parse'](_0x536b83);}[_0x136916(0x694)](_0x469ab7){const _0x4bd0e9=_0x136916,_0x4b0ecc=new Uint8Array(_0x469ab7[_0x4bd0e9(0x4a5)](0x0,0x4)),_0x4dadf7=new Uint32Array(_0x4b0ecc[_0x4bd0e9(0x344)])[0x0],_0xe04f6e=new Uint8Array(_0x469ab7[_0x4bd0e9(0x4a5)](0x4,0x4+_0x4dadf7)),_0x2359fd=new Uint8Array(_0x469ab7[_0x4bd0e9(0x4a5)](0x4+_0x4dadf7));return[this[_0x4bd0e9(0x1c5)](_0xe04f6e['buffer']),_0x2359fd[_0x4bd0e9(0x344)]];}}const _0x490791=0xc350;var _0x112d8f,_0x5f37ce;!function(_0x1f2f11){const _0x3db36f=_0x136916;_0x1f2f11[_0x1f2f11['High']=0x0]=_0x3db36f(0x27f),_0x1f2f11[_0x1f2f11[_0x3db36f(0x1e5)]=0x1]=_0x3db36f(0x1e5),_0x1f2f11[_0x1f2f11['Low']=0x2]=_0x3db36f(0x403);}(_0x112d8f||(_0x112d8f={}));class _0x42d7fc extends _0x227b22{[_0x136916(0x681)];[_0x136916(0x6ed)];[_0x136916(0x2d6)]=new Map();[_0x136916(0x1f5)];[_0x136916(0x623)];[_0x136916(0x64b)];[_0x136916(0x391)]=!0x1;[_0x136916(0x664)];['restartTimeout'];['upgradeTimeout'];[_0x136916(0x20b)]=function(e,t=_0x112d8f,s=!0x1){const _0x3db861=_0x136916;let i=!0x1;const n=[];async function o(){const _0x2b4526=a0_0x532f;if(!i){for(i=!0x0;n[_0x2b4526(0x326)](e=>e[_0x2b4526(0x3c5)]);){let t,i=0x0;for(const [e,s]of n[_0x2b4526(0x375)]())if(t=s[_0x2b4526(0x3f4)](),i=e,t)break;if(t)try{if(e instanceof _0x595720&&e['call'](t),e instanceof _0x450eea&&await e[_0x2b4526(0x45b)](t),n[_0x2b4526(0x4a5)](-0x1)['some'](e=>e[_0x2b4526(0x3c5)]))continue;const s=n[_0x2b4526(0x3a9)]-0x1;i===s&&n[s][_0x2b4526(0x3c5)]&&await _0xa9e155[_0x2b4526(0x262)](0x0);}catch(o){s?n[i][_0x2b4526(0x5ac)](t,!0x1):n[i][_0x2b4526(0x3f8)](t,!0x1),await e[_0x2b4526(0x262)]();}}i=!0x1;}}return Object[_0x3db861(0x26f)](t)['forEach'](e=>{const _0x98f5ea=_0x3db861;_0x98f5ea(0x112)!=typeof e&&(n[e]=_0x547d3a(o));}),{'queues':n};}(new _0x595720(this[_0x136916(0x2d0)][_0x136916(0x72c)](this),this[_0x136916(0x6e9)][_0x136916(0x72c)](this)));[_0x136916(0x511)]=0x0;[_0x136916(0x1ba)]=0x0;[_0x136916(0x174)]=0x0;[_0x136916(0x381)]=0x0;[_0x136916(0x560)];constructor(_0x33ee30,_0x32ec58,_0x1b9f20,_0x5a37f3,_0x49ddc8,_0x7b118a,_0x44b904,_0x1bfca9){const _0x328a55=_0x136916;super(_0x33ee30,_0x32ec58,_0x1b9f20,_0x5a37f3,_0x49ddc8,_0x1bfca9),this[_0x328a55(0x681)]=_0x7b118a,this[_0x328a55(0x6ed)]=_0x44b904;}[_0x136916(0x348)](){const _0xb24b18=_0x136916;this[_0xb24b18(0x125)](),this[_0xb24b18(0x445)](),delete this[_0xb24b18(0x64b)],this[_0xb24b18(0x502)](),this[_0xb24b18(0x40b)](),this[_0xb24b18(0x6d6)](),this[_0xb24b18(0x2d6)]['clear'](),this[_0xb24b18(0x391)]=!0x1,this[_0xb24b18(0x20b)][_0xb24b18(0x4a7)][_0xb24b18(0x1b3)](_0x4a6bab=>_0x4a6bab[_0xb24b18(0x5ef)]()),this[_0xb24b18(0x14d)](),super[_0xb24b18(0x348)]();}['isConnected'](){const _0x18453a=_0x136916;return!!this[_0x18453a(0x64b)]&&super['isConnected']()&&Date[_0x18453a(0x154)]()-this['lastHeartbeat']<0x3a98;}async['collectStats'](){const _0x4ad11d=_0x136916;this[_0x4ad11d(0x74d)]&&(await this['connection'][_0x4ad11d(0x6a0)](this[_0x4ad11d(0x2d6)],(_0x424983,_0x1afe61)=>{const _0x9ec7c=_0x4ad11d;_0x4de8b5({'type':_0x5b3080[_0x9ec7c(0x1c3)],'streamId':_0x1afe61,'nodeId':this[_0x9ec7c(0x1a8)],'stats':_0x424983},this['systemTopic']);}),this['systemTopic'][_0x4ad11d(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x4ad11d(0x731)],'content':{'type':_0x5b3080[_0x4ad11d(0x1c3)],'nodeId':this[_0x4ad11d(0x1a8)],'stats':{'origin':_0x85605b['Sender'],'timestamp':Date['now'](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x4ad11d(0x1ba)],'timeSending':this[_0x4ad11d(0x174)],'roundTripTime':this['roundTripTime']}}}));}async[_0x136916(0x572)](_0x13f701){const _0x70953=_0x136916;_0x148f53[_0x70953(0x2f4)](_0x19b950['Connection'],_0x70953(0x133),this[_0x70953(0x395)][_0x70953(0x716)](),this[_0x70953(0x1a8)]),this[_0x70953(0x502)](),this[_0x70953(0x40b)](),this['clearWaitAnswer'](),this[_0x70953(0x664)]=setTimeout(()=>{this['handleDisconnect']();},0x7530),this['dataChannel']||(this[_0x70953(0x2d1)]=this[_0x70953(0x41b)][_0x70953(0xfe)](_0x70953(0x757)),this[_0x70953(0x2d1)][_0x70953(0x6c4)]=0x10000,this[_0x70953(0x2d1)][_0x70953(0x206)]=()=>{const _0x2fcd27=_0x70953;this[_0x2fcd27(0x560)]=setTimeout(()=>{const _0x292724=_0x2fcd27;delete this[_0x292724(0x560)],[_0x292724(0x113),_0x292724(0x483)][_0x292724(0x232)](this[_0x292724(0x2d1)]?.[_0x292724(0x5ec)]??'')||this[_0x292724(0x1c8)]();},0xfa);});const _0xddbe23=await this[_0x70953(0x41b)][_0x70953(0x572)](_0x13f701);this[_0x70953(0x64b)]||(this[_0x70953(0x64b)]=Date[_0x70953(0x154)]());const _0x19273e=(0x0,_0x53bfff['v4'])();this['publishSystemMessage']({'type':_0x5b3080[_0x70953(0x56b)],'offer':_0xddbe23,'version':this[_0x70953(0xee)],'connectionType':this[_0x70953(0x3cb)]},_0x19273e),this[_0x70953(0x3cb)]===_0x2418f7['Core']&&(this[_0x70953(0x623)]=_0xa9e155['setInterval'](()=>{const _0x367e96=_0x70953;this[_0x367e96(0x44e)]({'type':_0x5b3080['Offer'],'offer':_0xddbe23,'version':this['currentVersion'],'connectionType':this['connectionType']},_0x19273e);},0x1388));}async[_0x136916(0x4a0)](_0x59321a,_0x3541f2){const _0x56b9cd=_0x136916;if(_0x3541f2===this[_0x56b9cd(0xee)]){this[_0x56b9cd(0x6d6)]();try{await this[_0x56b9cd(0x41b)]['handleAnswer'](_0x59321a,this[_0x56b9cd(0x572)][_0x56b9cd(0x72c)](this)),this[_0x56b9cd(0x3c4)](),this[_0x56b9cd(0x40b)](),this[_0x56b9cd(0x18a)]();}catch(_0x47748f){this[_0x56b9cd(0x1c8)]();}}}[_0x136916(0x695)](_0x34df00){const _0x551c00=_0x136916;if(!this[_0x551c00(0x2d1)])throw new _0x2fb975(_0x2fb975[_0x551c00(0x516)][_0x551c00(0x48e)],{'message':'DataChannel\x20is\x20not\x20initialized.','localId':this[_0x551c00(0x395)][_0x551c00(0x716)](),'remoteId':this['remoteId'],'eventMessage':_0x34df00});if('open'!==this[_0x551c00(0x2d1)]['state'])throw new _0x2fb975(_0x2fb975[_0x551c00(0x516)][_0x551c00(0x48e)],{'message':'Data\x20cluster\x20is\x20not\x20open.','localId':this[_0x551c00(0x395)]['getId'](),'remoteId':this['remoteId'],'eventMessage':_0x34df00});let _0x568822;if(_0x34df00['content'][_0x551c00(0x757)]instanceof ArrayBuffer){const _0x2404d0=_0x34df00[_0x551c00(0x2dc)][_0x551c00(0x757)];_0x34df00={..._0x34df00,'content':{..._0x34df00[_0x551c00(0x2dc)],'data':void 0x0}},_0x568822=this['mergeParts'](_0x34df00,_0x2404d0);}else _0x568822=JSON[_0x551c00(0x728)](_0x34df00);if(_0x551c00(0x112)==typeof _0x568822&&_0x568822[_0x551c00(0x3a9)]>_0x2b698d)return this[_0x551c00(0x59a)](_0x34df00,_0x568822);const _0x126d63=0x0===_0x34df00['topicLabel']&&[_0x15f44c[_0x551c00(0x120)],_0x15f44c[_0x551c00(0x731)]][_0x551c00(0x232)](_0x34df00[_0x551c00(0x146)])?_0x112d8f[_0x551c00(0x27f)]:_0x34df00 instanceof ArrayBuffer?_0x112d8f[_0x551c00(0x403)]:_0x112d8f[_0x551c00(0x1e5)];this[_0x551c00(0x69e)](_0x568822,_0x126d63);}[_0x136916(0x43f)](_0x1403fb,_0x357fa2,_0x51cd96,_0x694d86){const _0xf64882=_0x136916,_0x2166de=(_0x33d876=this[_0xf64882(0x681)],_0x1c76bb=this[_0xf64882(0x6ed)],Math[_0xf64882(0x159)](0xe1000*_0x33d876*_0x1c76bb));var _0x33d876,_0x1c76bb;const _0x3f1462=this[_0xf64882(0x2d6)]['get'](_0x357fa2['id'])||{'stream':_0x357fa2,'priority':_0x51cd96,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x2166de,'maxBitrate':_0x2166de,'framerate':this['maxFps'],'maxFramerate':this[_0xf64882(0x681)],'tracks':{},'params':_0x694d86},_0x444a5d=_0x3f1462[_0xf64882(0x5d0)][_0x1403fb[_0xf64882(0x1b5)]]||{'track':_0x1403fb};if(_0x444a5d[_0xf64882(0x52b)]?(_0x444a5d[_0xf64882(0x45e)]=_0x1403fb,this[_0xf64882(0x41b)]['replaceTrack'](_0x1403fb,_0x444a5d[_0xf64882(0x52b)])):_0x444a5d[_0xf64882(0x52b)]=this[_0xf64882(0x41b)][_0xf64882(0x43f)](_0x1403fb,_0x357fa2),_0x3f1462['tracks'][_0x1403fb[_0xf64882(0x1b5)]]=_0x444a5d,_0x694d86&&(_0x3f1462[_0xf64882(0x30c)]=_0x694d86),_0x694d86&&'video'===_0x694d86[_0xf64882(0x1b5)]&&_0x694d86[_0xf64882(0x29f)]&&_0x694d86['maxResolution']&&(_0x3f1462[_0xf64882(0x2f6)]=this[_0xf64882(0x70a)](_0x694d86['resolution'],_0x694d86[_0xf64882(0xf9)]),_0x3f1462[_0xf64882(0x654)]=_0x3f1462[_0xf64882(0x2f6)],_0x3f1462['tracks']['video']&&_0x3f1462[_0xf64882(0x5d0)][_0xf64882(0x6dc)]['sender'])){const _0x5e360e=_0x3f1462['tracks'][_0xf64882(0x6dc)][_0xf64882(0x52b)];this[_0xf64882(0x41b)][_0xf64882(0x6e6)](_0x5e360e,Math['floor'](0xa*_0x3f1462[_0xf64882(0x2f6)])/0xa,_0x3f1462['framerate'],_0x3f1462[_0xf64882(0x35e)],_0x3f1462[_0xf64882(0x69c)]);}this['senders']['set'](_0x357fa2['id'],_0x3f1462);}['setPriority'](_0x339533,_0x55c880){const _0x468176=_0x136916,_0x27c150=this['senders'][_0x468176(0x2b0)](_0x339533['id']);if(_0x27c150&&_0x27c150[_0x468176(0x69c)]!==_0x55c880&&(_0x27c150[_0x468176(0x69c)]=_0x55c880,_0x27c150[_0x468176(0x5d0)][_0x468176(0x6dc)]&&_0x27c150[_0x468176(0x5d0)][_0x468176(0x6dc)][_0x468176(0x52b)])){const _0x13ed8e=_0x27c150[_0x468176(0x5d0)][_0x468176(0x6dc)][_0x468176(0x52b)];this[_0x468176(0x41b)][_0x468176(0x6e6)](_0x13ed8e,Math[_0x468176(0x159)](0xa*_0x27c150[_0x468176(0x2f6)])/0xa,_0x27c150[_0x468176(0x658)],_0x27c150[_0x468176(0x35e)],_0x27c150[_0x468176(0x69c)]);}}[_0x136916(0x6e7)](_0xb896da,_0x51827e){const _0x287aba=_0x136916,_0x2f2a56=this[_0x287aba(0x2d6)][_0x287aba(0x2b0)](_0xb896da['id']);if(_0x2f2a56){if(_0x2f2a56['params']=_0x51827e,_0x51827e&&'video'===_0x51827e[_0x287aba(0x1b5)]&&_0x51827e['resolution']&&_0x51827e[_0x287aba(0xf9)]){if(_0x2f2a56['minResolutionScale']=this[_0x287aba(0x70a)](_0x51827e[_0x287aba(0x29f)],_0x51827e[_0x287aba(0xf9)]),_0x2f2a56[_0x287aba(0x2f6)]<_0x2f2a56[_0x287aba(0x654)]&&(_0x2f2a56['resolutionScale']=_0x2f2a56[_0x287aba(0x654)]),_0x2f2a56[_0x287aba(0x5d0)][_0x287aba(0x6dc)]&&_0x2f2a56[_0x287aba(0x5d0)]['video'][_0x287aba(0x52b)]){const _0x364b1e=_0x2f2a56[_0x287aba(0x5d0)][_0x287aba(0x6dc)][_0x287aba(0x52b)];this[_0x287aba(0x41b)][_0x287aba(0x6e6)](_0x364b1e,Math[_0x287aba(0x159)](0xa*_0x2f2a56[_0x287aba(0x2f6)])/0xa,_0x2f2a56['framerate'],_0x2f2a56[_0x287aba(0x35e)],_0x2f2a56[_0x287aba(0x69c)]);}this[_0x287aba(0x125)](),this[_0x287aba(0x35d)]();}this[_0x287aba(0x2d6)][_0x287aba(0x5ff)](_0xb896da['id'],_0x2f2a56);}}[_0x136916(0x698)](_0x34e5c1,_0x3ba52a){const _0x296049=_0x136916,_0x1339e6=this[_0x296049(0x2d6)][_0x296049(0x2b0)](_0x3ba52a['id']);if(_0x1339e6){const _0x1b8e4d=_0x1339e6[_0x296049(0x5d0)][_0x34e5c1[_0x296049(0x1b5)]];_0x1b8e4d&&(_0x1b8e4d[_0x296049(0x52b)]&&this[_0x296049(0x41b)][_0x296049(0x698)](_0x1b8e4d[_0x296049(0x52b)]),_0x1b8e4d['track']=void 0x0);}}['applyRemediation'](_0x32680b){const _0x32082d=_0x136916;this[_0x32082d(0x125)]();const _0x47933d=function(_0x22c0cc,_0x5b563a){const _0x25ed6b=_0x32082d;return _0x22c0cc['sort']((_0x11a61f,_0x2a07b0)=>_0x5b563a[_0x25ed6b(0x733)]===_0x3e9d60[_0x25ed6b(0x616)]?_0x2a07b0[_0x25ed6b(0x69c)]-_0x11a61f[_0x25ed6b(0x69c)]:_0x11a61f[_0x25ed6b(0x69c)]-_0x2a07b0[_0x25ed6b(0x69c)])['find'](_0x574761=>function(_0x37b87d,_0x410ff2){const _0x42490a=_0x25ed6b;if(_0x410ff2[_0x42490a(0x733)]===_0x3e9d60[_0x42490a(0x616)]){if(_0x410ff2[_0x42490a(0x22b)]===_0x45119b[_0x42490a(0x281)])return _0x37b87d[_0x42490a(0x2f6)]<0x4||_0x37b87d[_0x42490a(0x1bb)]>0xf;if(_0x410ff2[_0x42490a(0x22b)]===_0x45119b['Bitrate'])return _0x37b87d[_0x42490a(0x34a)]>_0x490791;}return _0x37b87d['resolutionScale']>_0x37b87d[_0x42490a(0x654)]||_0x37b87d[_0x42490a(0x658)]<_0x37b87d[_0x42490a(0x1bb)]||_0x37b87d['bitrate']<_0x37b87d['maxBitrate'];}(_0x574761,_0x5b563a));}(Array[_0x32082d(0x4c4)](this[_0x32082d(0x2d6)][_0x32082d(0x26f)]()),_0x32680b);if(_0x47933d&&(function(_0x12c762,_0x954ff8){const _0x103993=_0x32082d;_0x12c762['tracks'][_0x103993(0x6dc)]&&_0x12c762['tracks']['video']['sender']&&(_0x12c762[_0x103993(0x2f6)]=function(_0x570466,_0x36adaf,_0x201b9c){const _0x171d1e=_0x103993;switch(_0x201b9c[_0x171d1e(0x733)]){case _0x3e9d60[_0x171d1e(0x616)]:_0x201b9c[_0x171d1e(0x22b)]===_0x45119b[_0x171d1e(0x281)]&&(_0x570466+=0.5)>0x4&&(_0x570466=0x4);break;case _0x3e9d60['Upgrade']:(_0x570466-=0.5)<_0x36adaf&&(_0x570466=_0x36adaf);}return _0x570466;}(_0x12c762[_0x103993(0x2f6)],_0x12c762[_0x103993(0x654)],_0x954ff8),_0x12c762[_0x103993(0x658)]=function(_0x1ca78f,_0x141d1f,_0x525207){const _0xd8c24a=_0x103993;switch(_0x525207['action']){case _0x3e9d60['Downgrade']:_0x525207[_0xd8c24a(0x22b)]===_0x45119b[_0xd8c24a(0x281)]&&(_0x1ca78f-=0x3)<0xf&&(_0x1ca78f=0xf);break;case _0x3e9d60[_0xd8c24a(0x50e)]:(_0x1ca78f+=0x3)>_0x141d1f&&(_0x1ca78f=_0x141d1f);}return _0x1ca78f;}(_0x12c762[_0x103993(0x658)],_0x12c762[_0x103993(0x1bb)],_0x954ff8),_0x12c762[_0x103993(0x35e)]=function(_0x1fbab4,_0xdca521,_0x138e30){const _0xfdf3af=_0x103993;switch(_0x138e30[_0xfdf3af(0x733)]){case _0x3e9d60[_0xfdf3af(0x616)]:_0x138e30[_0xfdf3af(0x22b)]===_0x45119b[_0xfdf3af(0x62d)]&&(_0x1fbab4*=0.75)<_0x490791&&(_0x1fbab4=_0x490791);break;case _0x3e9d60[_0xfdf3af(0x50e)]:(_0x1fbab4*=1.25)>_0xdca521&&(_0x1fbab4=_0xdca521);}return _0x1fbab4;}(_0x12c762[_0x103993(0x35e)],_0x12c762[_0x103993(0x34a)],_0x954ff8));}(_0x47933d,_0x32680b),_0x47933d['tracks']['video']&&_0x47933d['tracks'][_0x32082d(0x6dc)][_0x32082d(0x52b)])){const _0x19e9ab=_0x47933d[_0x32082d(0x5d0)][_0x32082d(0x6dc)]['sender'];this[_0x32082d(0x41b)][_0x32082d(0x6e6)](_0x19e9ab,Math[_0x32082d(0x159)](0xa*_0x47933d[_0x32082d(0x2f6)])/0xa,_0x47933d['framerate'],_0x47933d['bitrate'],_0x47933d[_0x32082d(0x69c)]);}(_0x47933d||_0x32680b[_0x32082d(0x733)]===_0x3e9d60['Downgrade'])&&this[_0x32082d(0x35d)]();}[_0x136916(0x16d)](){const _0x23045f=_0x136916;super[_0x23045f(0x16d)](),this['clearOncloseTimeout'](),this[_0x23045f(0x6d6)](),this['senders'][_0x23045f(0x1b3)](_0x1f2be5=>{const _0xf44f3=_0x23045f;_0x1f2be5[_0xf44f3(0x5d0)][_0xf44f3(0x6dc)]&&(_0x1f2be5[_0xf44f3(0x5d0)][_0xf44f3(0x6dc)]['sender']=void 0x0),_0x1f2be5['tracks'][_0xf44f3(0x1b1)]&&(_0x1f2be5['tracks'][_0xf44f3(0x1b1)]['sender']=void 0x0);}),this[_0x23045f(0x391)]=!0x0;}async[_0x136916(0x6e9)](){return new Promise(async _0x3f366b=>{const _0x4c7273=a0_0x532f;if(!this[_0x4c7273(0x2d1)]||'open'!==this[_0x4c7273(0x2d1)][_0x4c7273(0x5ec)])return await _0xa9e155['wait'](0x64),void _0x3f366b();this[_0x4c7273(0x2d1)]['bufferedAmount']<0x10000?_0x3f366b():this['dataChannel'][_0x4c7273(0xf3)]=()=>{const _0x1e3fc7=_0x4c7273;this[_0x1e3fc7(0x2d1)]&&(this['dataChannel']['onBufferedAmountLow']=null),_0x3f366b();};});}[_0x136916(0x59a)](_0x173cba,_0x977eb0){const _0x3571b0=_0x136916,_0x2edb72=[];for(let _0x28759e=0x0;_0x28759e<_0x977eb0[_0x3571b0(0x3a9)];_0x28759e+=_0x2b698d)_0x2edb72['push'](_0x977eb0[_0x3571b0(0x4a5)](_0x28759e,_0x28759e+_0x2b698d));for(const _0x1da7ed of _0x2edb72)this['sendWithRetry'](_0x3c2281+';'+_0x173cba[_0x3571b0(0x4c6)]+';'+_0x2edb72[_0x3571b0(0x264)](_0x1da7ed)+';'+_0x2edb72[_0x3571b0(0x3a9)]+';'+_0x1da7ed,_0x112d8f[_0x3571b0(0x403)]);}async[_0x136916(0x69e)](_0x29f3c8,_0x446394){const _0x28adf7=_0x136916;_0x29f3c8===_0x22a77f?this[_0x28adf7(0x20b)][_0x28adf7(0x4a7)][_0x446394][_0x28adf7(0x3c5)]?.[_0x28adf7(0x4d3)]!==_0x22a77f&&this[_0x28adf7(0x20b)][_0x28adf7(0x4a7)][_0x446394][_0x28adf7(0x3f8)](_0x29f3c8):this[_0x28adf7(0x20b)][_0x28adf7(0x4a7)][_0x446394][_0x28adf7(0x5ac)](_0x29f3c8);}['sendAction'](_0x34895e){const _0x379642=_0x136916;if(!this[_0x379642(0x2d1)]||_0x379642(0x483)!==this[_0x379642(0x2d1)][_0x379642(0x5ec)])throw new Error(_0x379642(0x271));const _0x1e864e=Date['now']();_0x34895e!==_0x22a77f&&(this[_0x379642(0x511)]+=0x1,this[_0x379642(0x1ba)]+=_0x34895e instanceof ArrayBuffer?_0x34895e[_0x379642(0x143)]:_0x34895e[_0x379642(0x3a9)]),ArrayBuffer,this['dataChannel']['send'](_0x34895e),this['timeSending']+=Date[_0x379642(0x154)]()-_0x1e864e;}[_0x136916(0x18a)](){const _0x29ed40=_0x136916;this['heartbeatUnsubscriber']&&this[_0x29ed40(0x445)]();let _0x3b8966=!0x0,_0xb9b8fc=Date[_0x29ed40(0x154)]();this['lastHeartbeat']=Date[_0x29ed40(0x154)](),this[_0x29ed40(0x2d1)][_0x29ed40(0x65f)]=_0x21b7e3=>{const _0x337220=_0x29ed40;'1'===_0x21b7e3[_0x337220(0x757)]&&(this[_0x337220(0x381)]=Date[_0x337220(0x154)]()-_0xb9b8fc,_0x3b8966&&this[_0x337220(0x44e)]({'type':_0x5b3080[_0x337220(0x213)]}),_0x3b8966=!0x1,this[_0x337220(0x64b)]=Date[_0x337220(0x154)](),this[_0x337220(0x391)]&&(this[_0x337220(0x391)]=!0x1,this[_0x337220(0x274)]()));},this[_0x29ed40(0x1f5)]=_0xa9e155[_0x29ed40(0x71b)](()=>{const _0x3d8e13=_0x29ed40;_0xb9b8fc=Date[_0x3d8e13(0x154)](),this[_0x3d8e13(0x69e)](_0x22a77f,_0x112d8f[_0x3d8e13(0x27f)]),Date[_0x3d8e13(0x154)]()-this[_0x3d8e13(0x64b)]>(_0x3b8966?0x15f90:0x3a98)&&this['handleDisconnect']();},0xbb8);}[_0x136916(0x274)](){const _0x218386=_0x136916;this['senders'][_0x218386(0x1b3)](_0x2883e4=>{const _0x21bbab=_0x218386;_0x2883e4[_0x21bbab(0x5d0)][_0x21bbab(0x6dc)]&&_0x2883e4[_0x21bbab(0x5d0)][_0x21bbab(0x6dc)][_0x21bbab(0x45e)]&&!_0x2883e4[_0x21bbab(0x5d0)][_0x21bbab(0x6dc)][_0x21bbab(0x52b)]&&(_0x2883e4['tracks'][_0x21bbab(0x6dc)][_0x21bbab(0x52b)]=this['connection'][_0x21bbab(0x43f)](_0x2883e4[_0x21bbab(0x5d0)][_0x21bbab(0x6dc)][_0x21bbab(0x45e)],_0x2883e4[_0x21bbab(0x103)])),_0x2883e4['tracks'][_0x21bbab(0x1b1)]&&_0x2883e4[_0x21bbab(0x5d0)]['audio']['track']&&!_0x2883e4[_0x21bbab(0x5d0)][_0x21bbab(0x1b1)]['sender']&&(_0x2883e4[_0x21bbab(0x5d0)][_0x21bbab(0x1b1)][_0x21bbab(0x52b)]=this[_0x21bbab(0x41b)]['addTrack'](_0x2883e4[_0x21bbab(0x5d0)][_0x21bbab(0x1b1)][_0x21bbab(0x45e)],_0x2883e4[_0x21bbab(0x103)]));});}[_0x136916(0x6e1)](){const _0xada915=_0x136916;this[_0xada915(0x44e)]({'type':_0x5b3080[_0xada915(0x4f4)],'candidates':this[_0xada915(0x6f4)],'origin':_0x85605b[_0xada915(0x4d5)],'version':this[_0xada915(0xee)],'connectionType':this[_0xada915(0x3cb)]});}[_0x136916(0x16f)](){const _0x333787=_0x136916;super[_0x333787(0x16f)](),this[_0x333787(0x41b)][_0x333787(0x422)]=()=>{const _0x307181=_0x333787;if(_0x307181(0x618)===this[_0x307181(0x41b)][_0x307181(0x5e8)]){_0x148f53['log'](_0x19b950[_0x307181(0x6d7)],'iceConnectionState\x20failed',this['localNode'][_0x307181(0x716)](),this[_0x307181(0x1a8)]);try{if(this[_0x307181(0x41b)][_0x307181(0x209)])return void this[_0x307181(0x41b)][_0x307181(0x249)]();}catch(_0x4b680d){}this[_0x307181(0x572)]({'handshakeRestart':!0x0});}},this[_0x333787(0x41b)][_0x333787(0x196)]=()=>{const _0x3f294e=_0x333787;_0x3f294e(0x168)!==this[_0x3f294e(0x41b)][_0x3f294e(0x28f)]&&'failed'!==this[_0x3f294e(0x41b)][_0x3f294e(0x28f)]||this[_0x3f294e(0x1c8)]();};}[_0x136916(0x1c8)](){const _0x571c72=_0x136916;this[_0x571c72(0x445)](),this[_0x571c72(0x502)](),this[_0x571c72(0x40b)](),_0x148f53[_0x571c72(0x49c)]('disconnect',{'clusterId':this[_0x571c72(0x5bf)],'nodeId':this[_0x571c72(0x395)][_0x571c72(0x716)](),'nodeType':this[_0x571c72(0x395)]['type'],'remoteId':this[_0x571c72(0x1a8)],'data':{'connectionType':this[_0x571c72(0x3cb)],'connectionState':this[_0x571c72(0x41b)][_0x571c72(0x28f)],'iceConnectionState':this[_0x571c72(0x41b)][_0x571c72(0x5e8)],'signalingState':this[_0x571c72(0x41b)][_0x571c72(0x537)],'readyState':this[_0x571c72(0x2d1)]?.[_0x571c72(0x5ec)]||'','lastHeartbeat':this[_0x571c72(0x64b)]?Date['now']()-this['lastHeartbeat']:'','retryQueue':this[_0x571c72(0x20b)]}}),(this['lastHeartbeat']&&Date[_0x571c72(0x154)]()-this[_0x571c72(0x64b)]>0xea60)??0x1?this[_0x571c72(0x74d)][_0x571c72(0x457)]({'sourceId':this['remoteId'],'destinationIds':[this[_0x571c72(0x395)]['getId']()],'messageType':_0x15f44c[_0x571c72(0x731)],'content':{'type':_0x5b3080['Disconnect']}}):(this[_0x571c72(0x16d)](),this[_0x571c72(0x44e)]({'type':_0x5b3080[_0x571c72(0x6bc)],'version':this[_0x571c72(0xee)],'connectionType':this['connectionType']}),this['restartTimeout']=setTimeout(()=>{const _0x2d61c5=_0x571c72;this[_0x2d61c5(0x1c8)]();},0x7530));}[_0x136916(0x445)](){const _0xd608ab=_0x136916;this[_0xd608ab(0x1f5)]?.(),delete this[_0xd608ab(0x1f5)];}[_0x136916(0x40b)](){const _0x26b359=_0x136916;this[_0x26b359(0x664)]&&(clearTimeout(this[_0x26b359(0x664)]),delete this[_0x26b359(0x664)]);}['clearRestartTimeout'](){const _0x4f3a12=_0x136916;this[_0x4f3a12(0x746)]&&(clearTimeout(this[_0x4f3a12(0x746)]),delete this[_0x4f3a12(0x746)]);}[_0x136916(0x125)](){const _0x30c904=_0x136916;this[_0x30c904(0x4ef)]&&(clearTimeout(this[_0x30c904(0x4ef)]),delete this[_0x30c904(0x4ef)]);}[_0x136916(0x35d)](){this['upgradeTimeout']=setTimeout(()=>{const _0x1a1a45=a0_0x532f;this[_0x1a1a45(0x470)]({'type':_0x2d2007[_0x1a1a45(0x650)],'action':_0x3e9d60[_0x1a1a45(0x50e)]});},0x3a98);}[_0x136916(0x70a)](_0x47e644,_0x3e6501){const _0x53be6c=_0x136916,_0xaad6fb=Math['max'](_0x47e644[_0x53be6c(0x310)]/_0x3e6501['width'],_0x47e644['height']/_0x3e6501[_0x53be6c(0x259)]);return Math['min'](Math[_0x53be6c(0x70b)](_0xaad6fb,0x1),0x4);}['clearWaitAnswer'](){const _0xaad37b=_0x136916;this[_0xaad37b(0x623)]?.(),delete this[_0xaad37b(0x623)];}[_0x136916(0x14d)](){const _0x23cf8c=_0x136916;this[_0x23cf8c(0x560)]&&(clearTimeout(this['oncloseTimeout']),delete this['oncloseTimeout']);}['objectToArrayBuffer'](_0x97baad){const _0x210990=_0x136916,_0x4615dd=JSON[_0x210990(0x728)](_0x97baad);return new TextEncoder()[_0x210990(0x2e3)](_0x4615dd)[_0x210990(0x344)];}['mergeParts'](_0x310ef3,_0x34e76e){const _0x2769b2=_0x136916,_0x6fd97f=this[_0x2769b2(0x56c)](_0x310ef3),_0x45e756=new Uint8Array(0x4),_0xd83381=new Uint8Array(_0x6fd97f),_0x30ba90=new Uint8Array(_0x34e76e);_0x45e756[_0x2769b2(0x5ff)](new Uint8Array(new Uint32Array([_0xd83381[_0x2769b2(0x3a9)]])[_0x2769b2(0x344)]));const _0x100894=new Uint8Array(0x4+_0xd83381[_0x2769b2(0x3a9)]+_0x30ba90[_0x2769b2(0x3a9)]);return _0x100894[_0x2769b2(0x5ff)](_0x45e756),_0x100894['set'](_0xd83381,0x4),_0x100894[_0x2769b2(0x5ff)](_0x30ba90,0x4+_0xd83381[_0x2769b2(0x3a9)]),_0x100894[_0x2769b2(0x344)];}}class _0x58e2d4 extends _0xf520d8{[_0x136916(0x37b)];[_0x136916(0x3cb)];['maxFps'];[_0x136916(0x6ed)];[_0x136916(0x183)];['senderConnection'];[_0x136916(0x267)];['receiverUnsubscribers']=[];[_0x136916(0x5cd)]=_0x57b3e6();['trackListeners']=_0x57b3e6();[_0x136916(0x443)]=_0x57b3e6();['listenerUnsubscribers']=[];[_0x136916(0x74d)];['dataTopics']=new Map();[_0x136916(0x6d3)]=new Map();[_0x136916(0x2b1)]=new Map();[_0x136916(0x5b8)]=new Map();[_0x136916(0x27b)]=!0x1;constructor(_0x17187f,_0x5342a6,_0x5a891a,_0x2d303f,_0x282ee7,_0x3c0a6c,_0x148a24,_0x53d209){const _0x251ee2=_0x136916;super(_0x17187f,_0x5342a6,_0x5a891a),this[_0x251ee2(0x37b)]=_0x2d303f,this['connectionType']=_0x282ee7,this[_0x251ee2(0x681)]=_0x3c0a6c,this[_0x251ee2(0x6ed)]=_0x148a24,this[_0x251ee2(0x183)]=_0x53d209;}[_0x136916(0x5f9)](_0x45ca6b){const _0x1f33ec=_0x136916;switch(_0x45ca6b['getContentType']()){case _0x1095f4['ContentType']['Data']:case _0x1095f4['ContentType'][_0x1f33ec(0x124)]:case _0x1095f4[_0x1f33ec(0x2fd)][_0x1f33ec(0x6ce)]:case _0x1095f4['ContentType'][_0x1f33ec(0x266)]:case _0x1095f4['ContentType'][_0x1f33ec(0x1d6)]:this[_0x1f33ec(0x58f)]['set'](_0x45ca6b[_0x1f33ec(0x2b4)](),_0x45ca6b);break;case _0x1095f4['ContentType'][_0x1f33ec(0x6b9)]:this['mediaTopics'][_0x1f33ec(0x5ff)](_0x45ca6b[_0x1f33ec(0x2b4)](),_0x45ca6b);}}[_0x136916(0x330)](_0x2ccc1c){const _0x307a59=_0x136916;switch(_0x2ccc1c['getContentType']()){case _0x1095f4[_0x307a59(0x2fd)][_0x307a59(0x745)]:case _0x1095f4[_0x307a59(0x2fd)][_0x307a59(0x124)]:case _0x1095f4[_0x307a59(0x2fd)]['ObjectStore']:case _0x1095f4[_0x307a59(0x2fd)][_0x307a59(0x266)]:case _0x1095f4[_0x307a59(0x2fd)]['Job']:this['dataTopics']['delete'](_0x2ccc1c[_0x307a59(0x2b4)]());break;case _0x1095f4[_0x307a59(0x2fd)]['Media']:this['mediaTopics'][_0x307a59(0x21d)](_0x2ccc1c['getLabel']());}}[_0x136916(0x622)](_0x831be3){const _0x46e352=_0x136916;switch(_0x831be3[_0x46e352(0x51b)]()){case _0x1095f4['ContentType'][_0x46e352(0x745)]:case _0x1095f4[_0x46e352(0x2fd)][_0x46e352(0x124)]:case _0x1095f4[_0x46e352(0x2fd)]['ObjectStore']:case _0x1095f4['ContentType'][_0x46e352(0x266)]:case _0x1095f4[_0x46e352(0x2fd)]['Job']:{const _0x3323ea=_0x831be3['subscribe'](_0x9a7c58=>{const _0x203d53=_0x46e352;_0x49739b(_0x9a7c58,this[_0x203d53(0x643)]())&&_0x5ac4f6(_0x9a7c58,this['remoteId'])&&this[_0x203d53(0x695)](_0x9a7c58);});this[_0x46e352(0x6d3)][_0x46e352(0x5ff)](_0x831be3['getLabel'](),_0x3323ea);break;}case _0x1095f4[_0x46e352(0x2fd)]['Media']:{const _0x247fa2=_0x831be3[_0x46e352(0x67e)](({content:_0x5121f5})=>{const _0x620dce=_0x46e352;switch(_0x5121f5[_0x620dce(0x733)]){case _0x2fc674[_0x620dce(0x230)]:this[_0x620dce(0x43f)](_0x5121f5[_0x620dce(0x45e)],_0x5121f5['stream'],_0x5121f5[_0x620dce(0x69c)],_0x5121f5[_0x620dce(0x30c)]);break;case _0x2fc674[_0x620dce(0x59c)]:this['removeTrack'](_0x5121f5['track'],_0x5121f5[_0x620dce(0x103)]);break;case _0x2fc674[_0x620dce(0x3ea)]:_0x5121f5[_0x620dce(0x69c)]&&this[_0x620dce(0x692)](_0x5121f5[_0x620dce(0x103)],_0x5121f5[_0x620dce(0x69c)]),_0x5121f5[_0x620dce(0x30c)]&&this['setParams'](_0x5121f5[_0x620dce(0x103)],_0x5121f5[_0x620dce(0x30c)]);}});this[_0x46e352(0x5b8)]['set'](_0x831be3['getLabel'](),_0x247fa2);break;}}}[_0x136916(0x362)](_0x48ace6){const _0x148948=_0x136916;switch(_0x48ace6[_0x148948(0x51b)]()){case _0x1095f4[_0x148948(0x2fd)][_0x148948(0x745)]:case _0x1095f4['ContentType']['PubSub']:case _0x1095f4[_0x148948(0x2fd)][_0x148948(0x6ce)]:case _0x1095f4['ContentType'][_0x148948(0x266)]:case _0x1095f4[_0x148948(0x2fd)][_0x148948(0x1d6)]:this[_0x148948(0x6d3)]['get'](_0x48ace6[_0x148948(0x2b4)]())?.(),this['dataUnsubscribers']['delete'](_0x48ace6[_0x148948(0x2b4)]());break;case _0x1095f4['ContentType'][_0x148948(0x6b9)]:this[_0x148948(0x5b8)][_0x148948(0x2b0)](_0x48ace6['getLabel']())?.(),this[_0x148948(0x5b8)][_0x148948(0x21d)](_0x48ace6[_0x148948(0x2b4)]());}}[_0x136916(0x15d)](){const _0x1d8696=_0x136916;return[_0x1095f4[_0x1d8696(0x2fd)][_0x1d8696(0x745)],_0x1095f4[_0x1d8696(0x2fd)][_0x1d8696(0x124)],_0x1095f4[_0x1d8696(0x2fd)]['ObjectStore'],_0x1095f4[_0x1d8696(0x2fd)][_0x1d8696(0x266)],_0x1095f4[_0x1d8696(0x2fd)][_0x1d8696(0x1d6)]];}[_0x136916(0x4cd)](_0x1c3e9f){const _0x1282d4=_0x136916;this[_0x1282d4(0x74d)]=_0x1c3e9f;}[_0x136916(0x748)](){const _0x172ac7=_0x136916;delete this[_0x172ac7(0x74d)];}async[_0x136916(0x4e7)](){const _0x401121=_0x136916;this[_0x401121(0xfa)](),await this[_0x401121(0x572)]();}[_0x136916(0x348)](){const _0x140161=_0x136916;this['listenerUnsubscribers'][_0x140161(0x1b3)](_0x294ca0=>_0x294ca0()),this['listenerUnsubscribers']=[],this[_0x140161(0x52c)]?.[_0x140161(0x748)](),this[_0x140161(0x52c)]?.['close'](),delete this['senderConnection'],this['receiverUnsubscribers'][_0x140161(0x1b3)](_0x3fd738=>_0x3fd738()),this[_0x140161(0x5e5)]=[],this[_0x140161(0x267)]?.['unregisterSystemPublisher'](),this[_0x140161(0x267)]?.[_0x140161(0x348)](),delete this[_0x140161(0x267)];}[_0x136916(0x570)](){const _0x5daafb=_0x136916;return this['senderConnection']?.[_0x5daafb(0x570)]()&&this[_0x5daafb(0x267)]?.[_0x5daafb(0x570)]()||!0x1;}[_0x136916(0x695)](_0x464742){const _0x1528bf=_0x136916;if(!this[_0x1528bf(0x52c)]||!this[_0x1528bf(0x570)]())throw new _0x2fb975(_0x2fb975[_0x1528bf(0x516)][_0x1528bf(0x46c)],{'message':_0x1528bf(0x6a4),'senderConnected':this[_0x1528bf(0x52c)]?.['isConnected'](),'receiverConnected':this[_0x1528bf(0x267)]?.['isConnected'](),'localId':this[_0x1528bf(0x643)](),'remoteId':this['remoteId'],'data':_0x464742});this[_0x1528bf(0x52c)]['send'](_0x464742);}[_0x136916(0x65f)](_0x1ed40a){const _0x8cfe1b=_0x136916;return this[_0x8cfe1b(0x5cd)]['subscribe'](_0x1ed40a);}['onTrack'](_0x498ce3){const _0x754d09=_0x136916;return this[_0x754d09(0x6f7)][_0x754d09(0x67e)](({track:_0x3fd12b,stream:_0x34ff35})=>_0x498ce3(_0x3fd12b,_0x34ff35));}[_0x136916(0x659)](_0x26454d){const _0xf3b074=_0x136916;return this[_0xf3b074(0x443)][_0xf3b074(0x67e)](({track:_0x35b178,stream:_0x1228cc})=>_0x26454d(_0x35b178,_0x1228cc));}[_0x136916(0x43f)](_0x24d27a,_0xde7072,_0x46933d,_0x11f37a){const _0x3cc53f=_0x136916;this[_0x3cc53f(0x52c)]?.[_0x3cc53f(0x43f)](_0x24d27a,_0xde7072,_0x46933d,_0x11f37a);}['setPriority'](_0x549673,_0x5312f1){const _0x3f6c9f=_0x136916;this[_0x3f6c9f(0x52c)]?.[_0x3f6c9f(0x692)](_0x549673,_0x5312f1);}[_0x136916(0x6e7)](_0x33d6ae,_0xd76f13){const _0x8c7c56=_0x136916;this[_0x8c7c56(0x52c)]?.[_0x8c7c56(0x6e7)](_0x33d6ae,_0xd76f13);}[_0x136916(0x698)](_0x301b46,_0x50bb0d){const _0x4c0960=_0x136916;this[_0x4c0960(0x52c)]?.[_0x4c0960(0x698)](_0x301b46,_0x50bb0d);}async[_0x136916(0x54d)](_0x2bed97){const _0x830fa3=_0x136916;_0x148f53[_0x830fa3(0x2f4)](_0x19b950[_0x830fa3(0x2fb)],_0x830fa3(0x1ae),this[_0x830fa3(0x643)](),_0x2bed97);const {content:_0xfa5725}=_0x2bed97;switch(_0xfa5725['type']){case _0x5b3080['Offer']:await this[_0x830fa3(0x515)](_0xfa5725);break;case _0x5b3080['Answer']:await this[_0x830fa3(0x4a0)](_0xfa5725);break;case _0x5b3080['Success']:this[_0x830fa3(0x23e)]();break;case _0x5b3080[_0x830fa3(0x4f4)]:await this[_0x830fa3(0x2e8)](_0xfa5725);break;case _0x5b3080['NeedRestart']:this[_0x830fa3(0x514)](_0xfa5725);break;case _0x5b3080[_0x830fa3(0x4b7)]:await this[_0x830fa3(0x572)]();}}['handleRemediationSystemEvents'](_0x27a4bc){const _0x1efbb3=_0x136916;this['senderConnection']?.[_0x1efbb3(0x470)](_0x27a4bc[_0x1efbb3(0x2dc)][_0x1efbb3(0x757)]);}[_0x136916(0x490)](){return this['connectionType'];}[_0x136916(0x684)](_0x918e69){const _0x575254=_0x136916;this[_0x575254(0x3cb)]=_0x918e69,this[_0x575254(0x52c)]?.['setConnectionType'](_0x918e69),this[_0x575254(0x267)]?.[_0x575254(0x684)](_0x918e69);}async[_0x136916(0x1c0)](){const _0x40b20c=_0x136916;await this[_0x40b20c(0x52c)]?.[_0x40b20c(0x1c0)](),await this[_0x40b20c(0x267)]?.[_0x40b20c(0x1c0)]();}[_0x136916(0xfa)](){const _0x387f00=_0x136916;this[_0x387f00(0x390)]['push'](this['onMessage'](_0x434113=>{const _0x11b245=_0x387f00;_0x5ac4f6(_0x434113,this['getLocalId']())&&0x0!==_0x434113[_0x11b245(0x3f3)]&&this['dataTopics'][_0x11b245(0x2b0)](_0x434113[_0x11b245(0x3f3)])?.['publish'](_0x434113);})),this[_0x387f00(0x390)][_0x387f00(0x5ac)](this[_0x387f00(0x54a)]((_0x29a490,_0x3af4a7)=>{const _0x55374e=_0x387f00,_0x303345=_0x309535(_0x1095f4['ContentType'][_0x55374e(0x6b9)],_0x3af4a7['id'],this[_0x55374e(0x1a8)]);this['mediaTopics'][_0x55374e(0x2b0)](_0x303345)?.[_0x55374e(0x457)]({'topicLabel':_0x303345,'sourceId':this[_0x55374e(0x1a8)],'contentType':_0x1095f4['ContentType'][_0x55374e(0x6b9)],'content':{'action':_0x2fc674[_0x55374e(0x122)],'track':_0x29a490,'stream':_0x3af4a7,'providerId':this[_0x55374e(0x1a8)]}});})),this['listenerUnsubscribers'][_0x387f00(0x5ac)](this[_0x387f00(0x659)]((_0x225fcf,_0x531fb0)=>{const _0x3c1fc7=_0x387f00,_0x5b038f=_0x309535(_0x1095f4['ContentType'][_0x3c1fc7(0x6b9)],_0x531fb0['id'],this['remoteId']);this[_0x3c1fc7(0x2b1)][_0x3c1fc7(0x2b0)](_0x5b038f)?.[_0x3c1fc7(0x457)]({'topicLabel':_0x5b038f,'sourceId':this[_0x3c1fc7(0x1a8)],'contentType':_0x1095f4[_0x3c1fc7(0x2fd)][_0x3c1fc7(0x6b9)],'content':{'action':_0x2fc674['RemoteRemove'],'track':_0x225fcf,'stream':_0x531fb0,'providerId':this[_0x3c1fc7(0x1a8)]}});}));}['handleIceCandidates']({candidates:_0x5208f4,origin:_0x462c69,version:_0xe373be}){const _0x35e0df=_0x136916;return _0x462c69===_0x85605b[_0x35e0df(0x4d5)]?(this[_0x35e0df(0x267)]||this['createReceiverConnection'](),this[_0x35e0df(0x267)][_0x35e0df(0x4f5)](_0x5208f4,_0xe373be)):this[_0x35e0df(0x52c)][_0x35e0df(0x4f5)](_0x5208f4,_0xe373be);}async['createOffer'](){const _0x3c9f8d=_0x136916;this['senderConnection']||this[_0x3c9f8d(0x682)](),await this[_0x3c9f8d(0x52c)][_0x3c9f8d(0x572)]();}async['handleOffer']({offer:_0x59f63d,version:_0x3a364c}){const _0x2fadc2=_0x136916;this[_0x2fadc2(0x267)]||this['createReceiverConnection'](),await this[_0x2fadc2(0x267)][_0x2fadc2(0x515)](_0x59f63d,_0x3a364c);}async[_0x136916(0x4a0)]({answer:_0xbdee21,version:_0x2ee026}){const _0x23c243=_0x136916;if(!this[_0x23c243(0x52c)])throw new _0x2fb975(_0x2fb975[_0x23c243(0x516)][_0x23c243(0x46c)],{'message':_0x23c243(0x3a3),'localId':this[_0x23c243(0x643)](),'remoteId':this[_0x23c243(0x1a8)],'answer':_0xbdee21});await this[_0x23c243(0x52c)][_0x23c243(0x4a0)](_0xbdee21,_0x2ee026);}[_0x136916(0x23e)](){const _0x358ed0=_0x136916;if(!this[_0x358ed0(0x267)])throw new _0x2fb975(_0x2fb975[_0x358ed0(0x516)][_0x358ed0(0x46c)],{'message':'Receiver\x20connection\x20is\x20not\x20initialized.','localId':this[_0x358ed0(0x643)](),'remoteId':this['remoteId']});this[_0x358ed0(0x267)][_0x358ed0(0x23e)](),this[_0x358ed0(0x27b)]||this[_0x358ed0(0x3cb)]!==_0x2418f7['Optimization']||(this[_0x358ed0(0x27b)]=!0x0,this['systemTopic']?.[_0x358ed0(0x457)]({'sourceId':this['remoteId'],'destinationIds':[this['getLocalId']()],'messageType':_0x15f44c[_0x358ed0(0x731)],'content':{'type':_0x5b3080[_0x358ed0(0x6d0)]}}));}['handleNeedRestart'](_0x20ec23){const _0x532e32=_0x136916;this[_0x532e32(0x267)]||this[_0x532e32(0x33d)](),this['receiverConnection'][_0x532e32(0x514)](_0x20ec23[_0x532e32(0x67d)]);}['createSenderConnection'](){const _0x10561b=_0x136916;this['senderConnection']=new _0x42d7fc(this['clusterId'],this[_0x10561b(0x395)],this[_0x10561b(0x1a8)],this[_0x10561b(0x37b)],this[_0x10561b(0x3cb)],this[_0x10561b(0x681)],this[_0x10561b(0x6ed)],this[_0x10561b(0x183)]),this[_0x10561b(0x52c)]['registerSystemPublisher'](this[_0x10561b(0x74d)]);}[_0x136916(0x33d)](){const _0x1f423d=_0x136916;this[_0x1f423d(0x267)]=new _0x329b80(this[_0x1f423d(0x5bf)],this[_0x1f423d(0x395)],this[_0x1f423d(0x1a8)],this[_0x1f423d(0x37b)],this[_0x1f423d(0x3cb)],this[_0x1f423d(0x183)]),this[_0x1f423d(0x267)][_0x1f423d(0x4cd)](this[_0x1f423d(0x74d)]),this['receiverUnsubscribers']['push'](this[_0x1f423d(0x267)][_0x1f423d(0x65f)](_0x1c7055=>this['messageListeners'][_0x1f423d(0x457)](_0x1c7055))),this['receiverUnsubscribers'][_0x1f423d(0x5ac)](this[_0x1f423d(0x267)][_0x1f423d(0x54a)]((_0x3fa7b9,_0x7c2bec)=>this[_0x1f423d(0x6f7)][_0x1f423d(0x457)]({'track':_0x3fa7b9,'stream':_0x7c2bec}))),this['receiverUnsubscribers'][_0x1f423d(0x5ac)](this[_0x1f423d(0x267)][_0x1f423d(0x659)]((_0x3f2b5f,_0x42ca52)=>this[_0x1f423d(0x443)][_0x1f423d(0x457)]({'track':_0x3f2b5f,'stream':_0x42ca52})));}}class _0x1d22ff{[_0x136916(0x4da)];['messageBuffer'];[_0x136916(0xeb)];[_0x136916(0x711)]=new Map();[_0x136916(0x5cd)]=_0x57b3e6();['messageUnsubscriber'];[_0x136916(0x58f)]=new Map();[_0x136916(0x6d3)]=new Map();[_0x136916(0x150)]=new Map();constructor(_0x25563d,_0x241b35,_0x557f20){const _0x2c3a5b=_0x136916;this[_0x2c3a5b(0x4da)]=_0x25563d,this['messageBuffer']=_0x241b35,this[_0x2c3a5b(0xeb)]=_0x557f20,this[_0x2c3a5b(0x131)]=this[_0x2c3a5b(0x65f)](_0x30acff=>{const _0x3f7736=_0x2c3a5b;this['messageBuffer'][_0x3f7736(0x427)](_0x30acff[_0x3f7736(0x4c6)])||(_0x5ac4f6(_0x30acff,this[_0x3f7736(0x4da)])&&0x0!==_0x30acff[_0x3f7736(0x3f3)]&&(this[_0x3f7736(0x1ab)][_0x3f7736(0x5ee)](_0x30acff[_0x3f7736(0x4c6)]),this[_0x3f7736(0x58f)][_0x3f7736(0x2b0)](_0x30acff[_0x3f7736(0x3f3)])?.[_0x3f7736(0x457)](_0x30acff)),_0x30acff['propagate']&&this[_0x3f7736(0x695)](_0x30acff));});}[_0x136916(0x348)](){this['messageUnsubscriber']?.();}[_0x136916(0x5cc)](_0xf0ab0c){const _0x57479d=_0x136916,_0x1a0731=_0xf0ab0c[_0x57479d(0x65f)](_0x1d462a=>{const _0x5cd4c5=_0x57479d;this[_0x5cd4c5(0x5cd)][_0x5cd4c5(0x457)](_0x1d462a);});this[_0x57479d(0x711)][_0x57479d(0x5ff)](_0xf0ab0c,_0x1a0731),this[_0x57479d(0x150)][_0x57479d(0x5ff)](_0xf0ab0c[_0x57479d(0x185)](),function(_0x1406b5,_0x56642b=!0x1){let _0x5d3ab2=new Map();const _0x3b692c=_0x3d91a7(_0x1406b5,_0x56642b,function(_0x29ebe8){const _0xdb16bf=a0_0x532f;_0x538930(_0x29ebe8)&&_0x5d3ab2[_0xdb16bf(0x21d)](_0x29ebe8[_0xdb16bf(0xf1)]+'-'+(_0x29ebe8['destinationIds']??[])+'-'+_0x29ebe8['messageType']+'-'+_0x29ebe8['content']['type']);},function(_0x66be27){return!!function(_0x2d33c4){const _0x396b6c=a0_0x532f,_0x5024be=_0x2d33c4[_0x396b6c(0x4d3)];if(!_0x538930(_0x5024be))return!0x1;const _0x5906f0=_0x5024be[_0x396b6c(0xf1)]+'-'+(_0x5024be['destinationIds']??[])+'-'+_0x5024be[_0x396b6c(0x146)]+'-'+_0x5024be[_0x396b6c(0x2dc)][_0x396b6c(0x3fa)],_0x16c21e={'version':_0x5024be[_0x396b6c(0x2dc)][_0x396b6c(0x67d)],'element':_0x2d33c4},_0x57995a=_0x5d3ab2['get'](_0x5906f0);return _0x57995a?(_0x57995a[_0x396b6c(0x67d)]>=_0x5024be['content'][_0x396b6c(0x67d)]||(_0x57995a['element'][_0x396b6c(0x508)]&&(_0x57995a['element'][_0x396b6c(0x508)][_0x396b6c(0x2db)]=_0x2d33c4,_0x2d33c4['previous']=_0x57995a[_0x396b6c(0x5ae)][_0x396b6c(0x508)]),_0x57995a[_0x396b6c(0x5ae)][_0x396b6c(0x2db)]&&(_0x57995a['element'][_0x396b6c(0x2db)][_0x396b6c(0x508)]=_0x2d33c4,_0x2d33c4[_0x396b6c(0x2db)]=_0x57995a[_0x396b6c(0x5ae)][_0x396b6c(0x2db)]),_0x57995a[_0x396b6c(0x5ae)]===_0x3b692c[_0x396b6c(0x3c5)]&&(_0x3b692c[_0x396b6c(0x3c5)]=_0x2d33c4),_0x57995a['element']===_0x3b692c[_0x396b6c(0x5bb)]&&(_0x3b692c[_0x396b6c(0x5bb)]=_0x2d33c4),_0x5d3ab2[_0x396b6c(0x5ff)](_0x5906f0,_0x16c21e)),!0x0):(_0x5d3ab2[_0x396b6c(0x5ff)](_0x5906f0,_0x16c21e),!0x1);}(_0x66be27);},function(){const _0x9d60e3=a0_0x532f;_0x5d3ab2[_0x9d60e3(0x5ef)]();});function _0x538930(_0x1f9a89){const _0x3a59ee=a0_0x532f;if(_0x1f9a89&&_0x3a59ee(0x136)==typeof _0x1f9a89&&_0x1f9a89['hasOwnProperty'](_0x3a59ee(0x2dc))&&_0x1f9a89[_0x3a59ee(0x488)](_0x3a59ee(0x146))&&_0x1f9a89[_0x3a59ee(0x488)](_0x3a59ee(0xf1))){const _0xd12823=_0x1f9a89;if(_0xd12823['content']&&_0x3a59ee(0x136)==typeof _0xd12823[_0x3a59ee(0x2dc)]&&_0xd12823[_0x3a59ee(0x2dc)]['hasOwnProperty'](_0x3a59ee(0x67d))&&_0xd12823[_0x3a59ee(0x2dc)][_0x3a59ee(0x488)](_0x3a59ee(0x3fa)))return!0x0;}return!0x1;}return _0x3b692c;}(new _0x595720(_0x225886=>_0xf0ab0c[_0x57479d(0x695)](_0x225886),()=>_0xa9e155[_0x57479d(0x262)](0x64))));}[_0x136916(0x548)](_0x49e5ab){const _0x21ae16=_0x136916;this['connections']['get'](_0x49e5ab)?.(),this[_0x21ae16(0x711)][_0x21ae16(0x21d)](_0x49e5ab),this['retryQueues'][_0x21ae16(0x2b0)](_0x49e5ab[_0x21ae16(0x185)]())?.[_0x21ae16(0x5ef)](),this[_0x21ae16(0x150)][_0x21ae16(0x21d)](_0x49e5ab[_0x21ae16(0x185)]());}['isConnected'](_0x84d86){const _0x177d5d=_0x136916;return _0x148f53['log'](_0x19b950['ConnectionState'],_0x177d5d(0x6cb),this['localId'],this[_0x177d5d(0x711)][_0x177d5d(0x447)]()),0x0!==this[_0x177d5d(0x711)]['size']&&(Array[_0x177d5d(0x4c4)](this[_0x177d5d(0x711)][_0x177d5d(0x447)]())[_0x177d5d(0x21f)](_0x470ad1=>_0x470ad1['getRemoteId']()===_0x84d86)?.[_0x177d5d(0x570)]()??!0x1);}['registerPublisher'](_0x5e6e5b){const _0x59fe33=_0x136916;this['dataTopics'][_0x59fe33(0x5ff)](_0x5e6e5b['getLabel'](),_0x5e6e5b);}[_0x136916(0x330)](_0x4c3a55){const _0x364e87=_0x136916;this['dataTopics'][_0x364e87(0x21d)](_0x4c3a55[_0x364e87(0x2b4)]());}[_0x136916(0x622)](_0x3c853d){const _0x3c4ccd=_0x136916,_0x493ba6=_0x3c853d[_0x3c4ccd(0x67e)](this['send'][_0x3c4ccd(0x72c)](this));this[_0x3c4ccd(0x6d3)][_0x3c4ccd(0x5ff)](_0x3c853d[_0x3c4ccd(0x2b4)](),_0x493ba6);}[_0x136916(0x362)](_0x2beb30){const _0x330fd1=_0x136916;this[_0x330fd1(0x6d3)][_0x330fd1(0x2b0)](_0x2beb30[_0x330fd1(0x2b4)]())?.(),this[_0x330fd1(0x6d3)][_0x330fd1(0x21d)](_0x2beb30[_0x330fd1(0x2b4)]());}['getSupportedContentTypes'](){const _0x4dcc73=_0x136916;return[_0x1095f4[_0x4dcc73(0x2fd)]['Data'],_0x1095f4[_0x4dcc73(0x2fd)][_0x4dcc73(0x124)],_0x1095f4['ContentType'][_0x4dcc73(0x6ce)],_0x1095f4[_0x4dcc73(0x2fd)][_0x4dcc73(0x266)],_0x1095f4[_0x4dcc73(0x2fd)]['Job']];}[_0x136916(0x695)](_0x1a48c3){const _0x5d8073=_0x136916;if(!0x1===_0x1a48c3[_0x5d8073(0x2fe)]){if(_0x1a48c3[_0x5d8073(0x6a9)]||!_0x1a48c3['destinationIds']||0x1!==_0x1a48c3['destinationIds'][_0x5d8073(0x3a9)])throw new _0x2fb975(_0x2fb975[_0x5d8073(0x516)][_0x5d8073(0x531)],{'message':'CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','localId':this[_0x5d8073(0x4da)]});if(!this[_0x5d8073(0x570)](_0x1a48c3[_0x5d8073(0x394)][0x0]))throw new _0xb57abe(_0x5d8073(0x24d));}const _0x125db2=_0x1a48c3[_0x5d8073(0x6e8)]??[];try{const {filteredDestinationIds:_0x320ae5,extendedRecipients:_0x945fb8}=this[_0x5d8073(0x5a4)](_0x1a48c3,_0x125db2);_0x1a48c3[_0x5d8073(0x394)]=_0x320ae5,_0x1a48c3[_0x5d8073(0x6e8)]=_0x945fb8;}catch(_0x1aaa69){if(_0x1aaa69 instanceof _0xb57abe)return void _0x148f53[_0x5d8073(0x2f4)](_0x19b950['Connection'],_0x5d8073(0x1b6),'Early\x20return',_0x1a48c3,_0x1aaa69[_0x5d8073(0x286)]);}const _0x177746=this[_0x5d8073(0x32a)](_0x1a48c3);this[_0x5d8073(0x377)](_0x1a48c3,_0x177746),_0x1a48c3[_0x5d8073(0x6a9)]=_0x177746;const _0x3e480b=this[_0x5d8073(0x4a3)](_0x1a48c3,_0x125db2);for(const _0x758ec8 of _0x3e480b){const _0x1253dd=this[_0x5d8073(0x150)][_0x5d8073(0x2b0)](_0x758ec8['getRemoteId']());if(!_0x1253dd)throw new _0x2fb975(_0x2fb975['codes']['ConnectionNoRetryQueue'],{'message':_0x5d8073(0x3ec),'localId':this['localId'],'remoteId':_0x758ec8[_0x5d8073(0x185)](),'data':_0x1a48c3});_0x1253dd['push'](_0x1a48c3);}}['getRemoteId'](){return'';}['getLocalId'](){const _0x57fc4b=_0x136916;return this[_0x57fc4b(0x4da)];}[_0x136916(0x65f)](_0x16c3a8){const _0x2a584f=_0x136916;return this['messageListeners'][_0x2a584f(0x67e)](_0x16c3a8);}[_0x136916(0x5a4)](_0x359f04,_0x2d868b){const _0x198a73=_0x136916,_0xe884e9={'filteredDestinationIds':_0x359f04['destinationIds'],'extendedRecipients':_0x359f04['recipients']};if(!_0x359f04['propagate'])return _0xe884e9;const _0x25977b=Array['from'](this[_0x198a73(0x711)][_0x198a73(0x447)]())['filter'](_0x46307e=>_0x46307e[_0x198a73(0x490)]()===_0x2418f7['Core']||_0x46307e[_0x198a73(0x570)]())[_0x198a73(0x774)](_0x3d1fdc=>_0x3d1fdc[_0x198a73(0x185)]());if(_0x25977b[_0x198a73(0x6ba)]((_0x40f520,_0x50dad7)=>_0x40f520&&_0x359f04[_0x198a73(0x6e8)]['includes'](_0x50dad7),!0x0))throw new _0xb57abe(_0x198a73(0x215));if(_0x359f04[_0x198a73(0x394)]){const _0x49cad3=_0x359f04['destinationIds'][_0x198a73(0x557)](_0x381fac=>_0x381fac!==this[_0x198a73(0x4da)]&&!_0x359f04[_0x198a73(0x6e8)][_0x198a73(0x232)](_0x381fac));if(0x0===_0x49cad3['length'])throw new _0xb57abe(_0x198a73(0x668));_0xe884e9[_0x198a73(0x69f)]=_0x49cad3;}return _0xe884e9[_0x198a73(0x3bf)]=[...new Set([..._0x2d868b,..._0x25977b,this['localId']])],_0xe884e9;}['logPropagateSystemEvent'](_0x346efe,_0x16e012=!0x1){const _0x4d8d68=_0x136916;if(0x0===_0x346efe[_0x4d8d68(0x3f3)]&&!_0x49739b(_0x346efe,this[_0x4d8d68(0x4da)])&&_0x346efe[_0x4d8d68(0x6a9)]){const _0x19c506=_0x2b3c3a(_0x346efe,this[_0x4d8d68(0x4da)]);_0x148f53[_0x4d8d68(0x33c)](_0x19b950[_0x4d8d68(0x4c9)],_0x346efe[_0x4d8d68(0x4c6)]+_0x4d8d68(0x170)+_0x16e012+')\x20'+_0x19c506,_0x346efe,_0x16e012);}}[_0x136916(0x32a)](_0x4dabce){const _0x44f10a=_0x136916;if(_0x4dabce[_0x44f10a(0x394)]&&_0x4dabce[_0x44f10a(0x6a9)]){const _0x1b1aa8=Array[_0x44f10a(0x4c4)](this[_0x44f10a(0x711)]['keys']())['filter'](_0x32db3a=>_0x32db3a[_0x44f10a(0x490)]()===_0x2418f7[_0x44f10a(0x2cb)]||_0x32db3a[_0x44f10a(0x570)]())['map'](_0xd39c4e=>_0xd39c4e[_0x44f10a(0x185)]());return!_0x4dabce['destinationIds'][_0x44f10a(0x6ba)]((_0x5da2ed,_0x39787b)=>_0x5da2ed&&_0x1b1aa8['includes'](_0x39787b),!0x0);}return _0x4dabce[_0x44f10a(0x6a9)]??!0x1;}[_0x136916(0x4a3)](_0x176799,_0x5e5a55){const _0x506872=_0x136916;if(_0x176799[_0x506872(0x6a9)]&&_0x176799[_0x506872(0x394)]){const _0x45e253=Array[_0x506872(0x4c4)](this['connections'][_0x506872(0x447)]())['filter'](_0x382192=>_0x382192[_0x506872(0x490)]()===_0x2418f7[_0x506872(0x2cb)]||_0x382192['isConnected']())[_0x506872(0x774)](_0x5326a0=>_0x5326a0[_0x506872(0x185)]()),_0xaea5c9=new Set(),_0x54ae90=_0x176799[_0x506872(0xf1)]===this[_0x506872(0x4da)]?0x3:0x1;return _0x176799[_0x506872(0x394)][_0x506872(0x1b3)](_0x125ead=>{const _0x218519=_0x506872,_0x564f34=this[_0x218519(0xeb)][_0x218519(0x717)](_0x45e253,_0x125ead);let _0x1c1e0a=0x0,_0x402901=0x0;_0x564f34[_0x218519(0x1b3)](_0x4729b6=>{const _0x1f3fa5=_0x218519;if(_0x1c1e0a>=_0x54ae90)return;const _0x1e01be=Array['from'](this[_0x1f3fa5(0x711)][_0x1f3fa5(0x447)]())[_0x1f3fa5(0x21f)](_0x592949=>_0x592949[_0x1f3fa5(0x185)]()===_0x4729b6);if(_0x1e01be){if(_0x1e01be[_0x1f3fa5(0x490)]()===_0x2418f7[_0x1f3fa5(0x2cb)]&&_0x402901>0x0)return void(_0x402901-=0x1);_0xaea5c9[_0x1f3fa5(0x759)](_0x1e01be),_0x1e01be[_0x1f3fa5(0x490)]()===_0x2418f7[_0x1f3fa5(0x602)]&&(_0x402901+=0x1),_0x1c1e0a+=0x1;}});}),Array[_0x506872(0x4c4)](_0xaea5c9);}return Array[_0x506872(0x4c4)](this[_0x506872(0x711)][_0x506872(0x447)]())[_0x506872(0x557)](_0x3bdecd=>{const _0x360355=_0x506872;return _0x4a4146=_0x3bdecd[_0x360355(0x185)](),!_0x5e5a55[_0x360355(0x232)](_0x4a4146)&&(_0x5ac4f6(_0x176799,_0x4a4146)||_0x176799[_0x360355(0x6a9)])&&(!_0x176799[_0x360355(0x6a9)]||_0x3bdecd['isConnected']()||_0x3bdecd[_0x360355(0x490)]()===_0x2418f7[_0x360355(0x2cb)]);var _0x4a4146;});}}class _0x4bfae3{['localId'];[_0x136916(0x1ab)];[_0x136916(0x711)]=new Map();[_0x136916(0x74d)];constructor(_0x235712,_0x39e69f){const _0x1dcd47=_0x136916;this[_0x1dcd47(0x4da)]=_0x235712,this[_0x1dcd47(0x1ab)]=_0x39e69f;}[_0x136916(0x348)](){}[_0x136916(0x695)](_0x19d1ce){const _0x36be15=_0x136916;for(const _0x149e06 of this[_0x36be15(0x711)]['keys']())try{return void _0x149e06[_0x36be15(0x695)]({'retry':!0x1,..._0x19d1ce});}catch(_0x92ad30){_0x92ad30 instanceof _0xb57abe||_0x148f53[_0x36be15(0x2f4)](_0x19b950[_0x36be15(0x66f)],'send\x20error\x20on\x20'+_0x149e06,_0x92ad30,_0x19d1ce);}_0x148f53[_0x36be15(0x2f4)](_0x19b950['Pool'],'No\x20connections\x20available\x20to\x20send\x20message');}[_0x136916(0x5cc)](_0x52b050){const _0x4aaba8=_0x136916,_0x90ac41=_0x52b050[_0x4aaba8(0x65f)](_0x2989e5=>{const _0x8fec6b=_0x4aaba8;this['messageBuffer']['hasMessage'](_0x2989e5[_0x8fec6b(0x4c6)])||0x0===_0x2989e5[_0x8fec6b(0x3f3)]&&(this[_0x8fec6b(0x1ab)][_0x8fec6b(0x5ee)](_0x2989e5[_0x8fec6b(0x4c6)]),_0x5ac4f6(_0x2989e5,this[_0x8fec6b(0x4da)])&&this[_0x8fec6b(0x74d)]?.[_0x8fec6b(0x457)](_0x2989e5));});this['connections'][_0x4aaba8(0x5ff)](_0x52b050,_0x90ac41);}[_0x136916(0x548)](_0x4f4a11){const _0x2fdcb9=_0x136916;this['connections'][_0x2fdcb9(0x2b0)](_0x4f4a11)?.(),this[_0x2fdcb9(0x711)][_0x2fdcb9(0x21d)](_0x4f4a11);}['getLocalId'](){const _0x2ee3b2=_0x136916;return this[_0x2ee3b2(0x4da)];}[_0x136916(0x185)](){return'';}[_0x136916(0x15d)](){const _0x53f1f4=_0x136916;return[_0x1095f4[_0x53f1f4(0x2fd)][_0x53f1f4(0x745)]];}['isConnected'](){const _0x4dad92=_0x136916;throw new Error(_0x4dad92(0x1da));}[_0x136916(0x4cd)](_0x2e1372){const _0x4574b6=_0x136916;this[_0x4574b6(0x74d)]=_0x2e1372;}[_0x136916(0x748)](){delete this['systemTopic'];}}class _0x120ec9{['buffer']=new Map();['unsubscribeHandler'];constructor(){const _0x55f6c5=_0x136916;this[_0x55f6c5(0x3bc)]=_0xa9e155['setInterval'](()=>{const _0x5b76e0=_0x55f6c5;for(const [_0x569a15,_0x4962c1]of this[_0x5b76e0(0x344)][_0x5b76e0(0x375)]())Date[_0x5b76e0(0x154)]()-_0x4962c1>0x124f80&&this['buffer'][_0x5b76e0(0x21d)](_0x569a15);},0x1d4c0);}[_0x136916(0x348)](){const _0x5781ef=_0x136916;this[_0x5781ef(0x3bc)]();}[_0x136916(0x5ee)](_0x2ae88a){const _0x533d80=_0x136916;this[_0x533d80(0x344)]['set'](_0x2ae88a,Date['now']());}[_0x136916(0x427)](_0x43cbac){const _0x3334c2=_0x136916;return this[_0x3334c2(0x344)][_0x3334c2(0x2b3)](_0x43cbac);}}class _0x1d3acb{[_0x136916(0x6a3)];['authService'];['iceServers'];[_0x136916(0x681)];['maxBpp'];[_0x136916(0x183)];['connections']=new Map();[_0x136916(0x46b)];[_0x136916(0x68c)];['signalingServer'];['messageBuffer'];constructor(_0x3307e7,_0x4e7d93,_0x46c130,_0xc81c9e,_0x1c9bbb,_0x176f59,_0x2b3651){const _0x22df6c=_0x136916;this[_0x22df6c(0x6a3)]=_0x3307e7,this[_0x22df6c(0x1ca)]=_0x4e7d93,this[_0x22df6c(0x37b)]=_0x46c130,this[_0x22df6c(0x681)]=_0xc81c9e,this[_0x22df6c(0x6ed)]=_0x1c9bbb,this['connectionConstructor']=_0x2b3651,this[_0x22df6c(0x1ab)]=new _0x120ec9(),this[_0x22df6c(0x68c)]=new _0x1d22ff(this[_0x22df6c(0x6a3)][_0x22df6c(0x395)]['getId'](),this[_0x22df6c(0x1ab)],_0x176f59),this[_0x22df6c(0x4d2)]=new _0x2d9927(this[_0x22df6c(0x6a3)]['vendorId'],this[_0x22df6c(0x6a3)][_0x22df6c(0x5bf)],this[_0x22df6c(0x6a3)]['localNode'],'server',this[_0x22df6c(0x1ca)]),this[_0x22df6c(0x46b)]=new _0x4bfae3(this[_0x22df6c(0x6a3)][_0x22df6c(0x395)]['getId'](),this['messageBuffer']),this['connectionPool'][_0x22df6c(0x5cc)](this[_0x22df6c(0x68c)]),this['connectionPool'][_0x22df6c(0x5cc)](this[_0x22df6c(0x4d2)]),this[_0x22df6c(0x6a3)]['mediator'][_0x22df6c(0x60d)](this[_0x22df6c(0x46b)]);}[_0x136916(0x348)](){const _0x39018a=_0x136916;this[_0x39018a(0x1ab)]['close'](),this['connections'][_0x39018a(0x1b3)]((_0x27e324,_0x534dde)=>this[_0x39018a(0x39a)](_0x534dde)),this[_0x39018a(0x6a3)]['mediator'][_0x39018a(0x36e)](this[_0x39018a(0x46b)]),this[_0x39018a(0x46b)][_0x39018a(0x548)](this[_0x39018a(0x4d2)]),this[_0x39018a(0x46b)][_0x39018a(0x548)](this[_0x39018a(0x68c)]),this[_0x39018a(0x46b)]['close'](),this[_0x39018a(0x4d2)][_0x39018a(0x348)](),this[_0x39018a(0x68c)]['close']();}async['initialize'](){await this['signalingServer']['connect']();}async[_0x136916(0x550)](_0x33d545,_0x3c8fe5=_0x2418f7[_0x136916(0x2cb)]){const _0x4b2061=_0x136916;if(this[_0x4b2061(0x711)][_0x4b2061(0x2b3)](_0x33d545)){if(this['connections'][_0x4b2061(0x2b0)](_0x33d545)?.['getConnectionType']()===_0x2418f7[_0x4b2061(0x602)]&&_0x3c8fe5===_0x2418f7['Core'])return void this[_0x4b2061(0x711)]['get'](_0x33d545)?.['setConnectionType'](_0x2418f7[_0x4b2061(0x2cb)]);throw new _0x2fb975(_0x2fb975[_0x4b2061(0x516)][_0x4b2061(0x418)],{'localId':this['configs'][_0x4b2061(0x395)][_0x4b2061(0x716)](),'remoteId':_0x33d545});}const _0x170c42=new _0x58e2d4(this[_0x4b2061(0x6a3)][_0x4b2061(0x5bf)],this[_0x4b2061(0x6a3)]['localNode'],_0x33d545,this[_0x4b2061(0x37b)],_0x3c8fe5,this[_0x4b2061(0x681)],this[_0x4b2061(0x6ed)],this[_0x4b2061(0x183)]);this[_0x4b2061(0x711)]['set'](_0x33d545,_0x170c42),this[_0x4b2061(0x68c)][_0x4b2061(0x5cc)](_0x170c42),this[_0x4b2061(0x6a3)][_0x4b2061(0x63c)][_0x4b2061(0x60d)](_0x170c42),this[_0x4b2061(0x6a3)][_0x4b2061(0x63c)][_0x4b2061(0x642)](_0x33d545),await _0x170c42[_0x4b2061(0x4e7)]();}[_0x136916(0x4fd)](){return this['connectionGroup'];}[_0x136916(0x4f2)](_0x8f8346){const _0x2c8c53=_0x136916;if(!this[_0x2c8c53(0x711)]['has'](_0x8f8346))throw new _0x2fb975(_0x2fb975[_0x2c8c53(0x516)][_0x2c8c53(0x1d7)],{'localId':this[_0x2c8c53(0x6a3)]['localNode']['getId'](),'remoteId':_0x8f8346});return this['connections']['get'](_0x8f8346);}[_0x136916(0x693)](_0x16b5e4){const _0x3b94ec=_0x136916,_0x4423a5=Array[_0x3b94ec(0x4c4)](this['connections'][_0x3b94ec(0x26f)]());return _0x16b5e4?_0x4423a5[_0x3b94ec(0x557)](_0x16b5e4):_0x4423a5;}async[_0x136916(0x1c0)](_0x3a0d9f){const _0x4da570=_0x136916,_0x2d7096=this['connections'][_0x4da570(0x2b0)](_0x3a0d9f);_0x2d7096&&_0x2d7096[_0x4da570(0x570)]()&&await _0x2d7096[_0x4da570(0x1c0)]();}[_0x136916(0x219)](_0x58f062){const _0xcf5401=_0x136916;if(_0x58f062['messageType']!==_0x15f44c[_0xcf5401(0x731)]||_0x58f062['propagate'])try{this[_0xcf5401(0x68c)][_0xcf5401(0x695)](_0x58f062);}catch(_0x1a04c3){if(_0x1a04c3 instanceof _0xb57abe)return;throw _0x1a04c3;}else this['connectionPool']['send'](_0x58f062);}async['handlePeerConnectionSystemEvents'](_0x5d21f1){const _0x2846a0=_0x136916;switch(_0x5d21f1['content'][_0x2846a0(0x3fa)]){case _0x5b3080[_0x2846a0(0x203)]:case _0x5b3080['Stats']:case _0x5b3080[_0x2846a0(0x6d0)]:return;}if(!_0x5d21f1[_0x2846a0(0x394)]||0x1!==_0x5d21f1[_0x2846a0(0x394)][_0x2846a0(0x3a9)])throw new _0x2fb975(_0x2fb975[_0x2846a0(0x516)][_0x2846a0(0x712)],{'message':'Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','event':_0x5d21f1});if(_0x5d21f1[_0x2846a0(0x394)][0x0]!==this['configs'][_0x2846a0(0x395)][_0x2846a0(0x716)]())throw new _0x2fb975(_0x2fb975['codes'][_0x2846a0(0x712)],{'message':_0x2846a0(0x2b9),'event':_0x5d21f1});if(!this['connections'][_0x2846a0(0x2b3)](_0x5d21f1[_0x2846a0(0xf1)])){let _0x3dc35b=_0x2418f7[_0x2846a0(0x2cb)];if(!(this[_0x2846a0(0x321)](_0x5d21f1[_0x2846a0(0x2dc)])||this[_0x2846a0(0x2f5)](_0x5d21f1[_0x2846a0(0x2dc)])||this[_0x2846a0(0x358)](_0x5d21f1[_0x2846a0(0x2dc)])))return;_0x3dc35b=_0x5d21f1[_0x2846a0(0x2dc)][_0x2846a0(0x3cb)],await this[_0x2846a0(0x550)](_0x5d21f1['sourceId'],_0x3dc35b);}const _0x365b15=this['connections'][_0x2846a0(0x2b0)](_0x5d21f1['sourceId']);await _0x365b15[_0x2846a0(0x54d)](_0x5d21f1);}['handleRemediationSystemEvents'](_0x2dd7a1){const _0x1fa08c=_0x136916;if(_0x2dd7a1[_0x1fa08c(0x2dc)]['type']===_0x2d2007[_0x1fa08c(0x650)]){if(_0x2dd7a1[_0x1fa08c(0x2dc)]['targetId']===this[_0x1fa08c(0x6a3)][_0x1fa08c(0x395)][_0x1fa08c(0x716)]())return void this['connections']['forEach'](_0x573aad=>_0x573aad['handleRemediationSystemEvents'](_0x2dd7a1));this['connections']['get'](_0x2dd7a1[_0x1fa08c(0x2dc)][_0x1fa08c(0x42d)])?.[_0x1fa08c(0x108)](_0x2dd7a1);}}[_0x136916(0x2a3)]({content:_0xf73584}){const _0x6a2d0c=_0x136916;_0xf73584['type']===_0x5b5dcb['NodeLeave']&&this[_0x6a2d0c(0x39a)](_0xf73584['id']);}[_0x136916(0x39a)](_0x418c1b){const _0x44410d=_0x136916,_0x50b4a9=this[_0x44410d(0x711)]['get'](_0x418c1b);_0x50b4a9&&(this[_0x44410d(0x6a3)][_0x44410d(0x63c)]['unregisterRemoteNode'](_0x418c1b),this[_0x44410d(0x6a3)][_0x44410d(0x63c)][_0x44410d(0x36e)](_0x50b4a9),_0x50b4a9 instanceof _0x58e2d4&&this[_0x44410d(0x68c)]['removeConnection'](_0x50b4a9),_0x50b4a9[_0x44410d(0x348)](),this[_0x44410d(0x711)][_0x44410d(0x21d)](_0x418c1b));}[_0x136916(0x321)](_0x34e9af){const _0x221908=_0x136916;return _0x34e9af[_0x221908(0x3fa)]===_0x5b3080[_0x221908(0x56b)];}[_0x136916(0x358)](_0x51a67a){const _0x4aae9a=_0x136916;return _0x51a67a[_0x4aae9a(0x3fa)]===_0x5b3080['NeedRestart'];}[_0x136916(0x2f5)](_0x2e9405){const _0x21b3ab=_0x136916;return _0x2e9405[_0x21b3ab(0x3fa)]===_0x5b3080[_0x21b3ab(0x4f4)];}}!function(_0x4f0376){const _0x18a4ea=_0x136916;_0x4f0376[_0x4f0376[_0x18a4ea(0x1e7)]=0x0]='SubscribeMediaStream',_0x4f0376[_0x4f0376[_0x18a4ea(0x6cd)]=0x1]='UpdateMediaStream',_0x4f0376[_0x4f0376[_0x18a4ea(0x452)]=0x2]=_0x18a4ea(0x452),_0x4f0376[_0x4f0376[_0x18a4ea(0x20d)]=0x3]=_0x18a4ea(0x20d),_0x4f0376[_0x4f0376[_0x18a4ea(0x563)]=0x4]='RestartNeedMediaStream',_0x4f0376[_0x4f0376[_0x18a4ea(0x4ba)]=0x5]='CanProvideMediaStream',_0x4f0376[_0x4f0376[_0x18a4ea(0x18e)]=0x6]=_0x18a4ea(0x18e),_0x4f0376[_0x4f0376[_0x18a4ea(0x619)]=0x7]=_0x18a4ea(0x619);}(_0x5f37ce||(_0x5f37ce={}));const _0x330e83=require('rxjs');class _0x1f7d78 extends _0x1b8e4a{['graphService'];[_0x136916(0x638)]=new Map();[_0x136916(0x227)]=new Map();[_0x136916(0x555)]=new Map();[_0x136916(0x3bc)];constructor(_0x550ca4,_0x137a6d,_0x3f4794){super(_0x550ca4,_0x137a6d),this['graphService']=_0x3f4794;}[_0x136916(0x51b)](){const _0x5f44e7=_0x136916;return _0x1095f4[_0x5f44e7(0x2fd)]['Job'];}[_0x136916(0x483)](){const _0x212f58=_0x136916;this['unsubscribeHandler']=this[_0x212f58(0x65f)]((_0x3ffe2e,_0x5a5a42)=>{const _0x2b4087=_0x212f58;if(_0x148f53[_0x2b4087(0x2f4)](_0x19b950['Jobs'],_0x2b4087(0x6c5),_0x3ffe2e,_0x5a5a42,this[_0x2b4087(0xeb)][_0x2b4087(0x38f)]()),!(_0x5a5a42 instanceof File)){if(!_0x5a5a42)throw new _0x2fb975(_0x2fb975[_0x2b4087(0x516)]['JobDispatcherInvalidPayload']);return this['isBidResponse'](_0x5a5a42)?this['addBidResponse'](_0x3ffe2e,_0x5a5a42['id'],_0x5a5a42):this[_0x2b4087(0x2f1)](_0x5a5a42)?(_0x148f53[_0x2b4087(0x2f4)](_0x19b950[_0x2b4087(0x2b6)],_0x2b4087(0x226)+_0x5a5a42['id']+'\x20received\x20partial\x20result:',_0x5a5a42[_0x2b4087(0x280)]),void this[_0x2b4087(0x334)](_0x5a5a42['id'],_0x5a5a42)):this[_0x2b4087(0x245)](_0x5a5a42)?(_0x148f53['log'](_0x19b950[_0x2b4087(0x2b6)],_0x2b4087(0x226)+_0x5a5a42['id']+'\x20received\x20result:',_0x5a5a42[_0x2b4087(0x280)]),void this['evaluateProccessedJob'](_0x5a5a42['id'],_0x5a5a42)):void(this[_0x2b4087(0x77b)](_0x5a5a42)&&this[_0x2b4087(0x5c7)](_0x5a5a42['id'],_0x5a5a42[_0x2b4087(0x286)]));}});}[_0x136916(0x234)](){const _0x1c3583=_0x136916;this['clear'](),this[_0x1c3583(0x483)]();}['destroy'](){const _0x339b50=_0x136916;this[_0x339b50(0x5ef)](),super[_0x339b50(0x1ee)]();}[_0x136916(0x5ef)](){const _0xd60655=_0x136916;this['jobs'][_0xd60655(0x5ef)](),this['unsubscribeHandler']&&this[_0xd60655(0x3bc)]();}[_0x136916(0x348)](){const _0x1b9b7a=_0x136916;this[_0x1b9b7a(0x74d)]?.[_0x1b9b7a(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x1b9b7a(0x632)],'content':{'type':_0x46fb30['CloseJobDispatcher'],'label':this['label']}});}async[_0x136916(0x2b7)](_0x4195dc){const _0x2a3666=_0x136916,{id:_0x1dc7cc,parameters:_0x5ae4a7,jobType:_0x2a15bb}=_0x4195dc,_0x92abed={'id':_0x1dc7cc,'jobType':_0x2a15bb,'parameters':_0x5ae4a7,'status':_0x1095f4[_0x2a3666(0x3e9)][_0x2a3666(0xf5)],'created':new Date(),'updated':new Date()};if(this[_0x2a3666(0x638)][_0x2a3666(0x2b3)](_0x92abed['id']))throw new _0x4b5cf3(_0x235d31['JobDispatcherJobExists'],_0x2a3666(0x182)+_0x92abed['id']+_0x2a3666(0x779));_0x92abed[_0x2a3666(0x495)]=new Date(),_0x92abed[_0x2a3666(0x2e5)]=new Date();const _0x1edbba=new _0x330e83[(_0x2a3666(0x72d))]();this[_0x2a3666(0x638)][_0x2a3666(0x5ff)](_0x92abed['id'],_0x92abed),this[_0x2a3666(0x227)][_0x2a3666(0x5ff)](_0x92abed['id'],_0x1edbba);try{const _0xa4eefe={'id':_0x92abed['id'],'jobPhase':_0x48dcbd['Request'],'jobType':_0x92abed[_0x2a3666(0x591)]},_0x57d1fc=0x3;let _0x57c374=0x0;const _0x60f5f3=async()=>{const _0x5bf6c6=_0x2a3666;_0x57c374+=0x1;try{_0x148f53[_0x5bf6c6(0x2f4)](_0x19b950[_0x5bf6c6(0x2b6)],'Job\x20'+_0x92abed['id']+_0x5bf6c6(0x590)+_0x57c374+'.',this['graphService'][_0x5bf6c6(0x38f)]()),await this['send'](_0xa4eefe),_0x92abed[_0x5bf6c6(0x2e5)]=new Date(),this[_0x5bf6c6(0x638)][_0x5bf6c6(0x5ff)](_0x92abed['id'],_0x92abed),this[_0x5bf6c6(0x33e)](_0x92abed['id']);}catch(_0x3a73f3){_0x57c374<_0x57d1fc?(_0x148f53[_0x5bf6c6(0x49c)](_0x5bf6c6(0x735)+_0x57c374+_0x5bf6c6(0x23a)+_0x92abed['id']+_0x5bf6c6(0x1a6),{'nodeId':this[_0x5bf6c6(0x342)][_0x5bf6c6(0x716)](),'nodeType':this[_0x5bf6c6(0x342)]['type'],'data':{'job':_0x92abed,'attempts':_0x57c374,'maxRetries':_0x57d1fc}}),setTimeout(_0x60f5f3,0x3e8)):(_0x92abed['status']=_0x1095f4[_0x5bf6c6(0x3e9)]['Failed'],_0x92abed[_0x5bf6c6(0x2e5)]=new Date(),this[_0x5bf6c6(0x638)][_0x5bf6c6(0x5ff)](_0x92abed['id'],_0x92abed),_0x148f53[_0x5bf6c6(0x4d8)](_0x5bf6c6(0x254)+_0x92abed['id']+_0x5bf6c6(0x283)+_0x57d1fc+_0x5bf6c6(0x55c),{'nodeId':this[_0x5bf6c6(0x342)][_0x5bf6c6(0x716)](),'nodeType':this[_0x5bf6c6(0x342)][_0x5bf6c6(0x3fa)],'data':{'job':_0x92abed,'attempts':_0x57c374,'maxRetries':_0x57d1fc,'error':_0x3a73f3}}));}};_0x60f5f3();const {id:_0x4bff87}=_0x92abed;this[_0x2a3666(0x70d)](_0x2a3666(0x226)+_0x92abed['id']+_0x2a3666(0x21e),{'jobId':_0x4bff87}),_0x92abed[_0x2a3666(0x2e5)]=new Date();}catch(_0x130e9c){_0x92abed[_0x2a3666(0x4f1)]=_0x1095f4['JobStatus']['Failed'],_0x148f53[_0x2a3666(0x4d8)](_0x2a3666(0x254)+_0x92abed['id']+':',{'nodeId':this[_0x2a3666(0x342)][_0x2a3666(0x716)](),'nodeType':this['owner'][_0x2a3666(0x3fa)],'data':{'job':_0x92abed,'error':_0x130e9c}});}return _0x1edbba[_0x2a3666(0x250)]();}['getJob'](_0x4db3f8){const _0x2e1dc3=_0x136916,_0x5708d0=this[_0x2e1dc3(0x638)][_0x2e1dc3(0x2b0)](_0x4db3f8);if(!_0x5708d0)throw new _0x4b5cf3(_0x235d31[_0x2e1dc3(0x25c)],_0x2e1dc3(0x182)+_0x4db3f8+_0x2e1dc3(0x62b));return{'id':_0x5708d0['id'],'jobType':_0x5708d0[_0x2e1dc3(0x591)],'status':_0x5708d0[_0x2e1dc3(0x4f1)],'parameters':_0x5708d0['parameters']};}[_0x136916(0x100)](){const _0x2ee95e=_0x136916;return Array[_0x2ee95e(0x4c4)](this['jobs'][_0x2ee95e(0x26f)]())[_0x2ee95e(0x774)](_0x14c216=>this['getJob'](_0x14c216['id']));}async['updateJob'](_0x176e78,_0x54c74b){const _0x3f26a6=_0x136916,_0x45e540=this['jobs']['get'](_0x176e78);if(!_0x45e540)throw new _0x4b5cf3(_0x235d31[_0x3f26a6(0x25c)],_0x3f26a6(0x182)+_0x176e78+_0x3f26a6(0x62b));_0x45e540[_0x3f26a6(0x21a)]=_0x54c74b,_0x45e540[_0x3f26a6(0x2e5)]=new Date(),this[_0x3f26a6(0x638)]['set'](_0x176e78,_0x45e540);}async[_0x136916(0x6ee)](_0x2af7dc){const _0x505e76=_0x136916;if(!this[_0x505e76(0x638)][_0x505e76(0x21d)](_0x2af7dc))throw new _0x4b5cf3(_0x235d31[_0x505e76(0x25c)],_0x505e76(0x182)+_0x2af7dc+_0x505e76(0x62b));const _0x496eb3=this['jobObservers'][_0x505e76(0x2b0)](_0x2af7dc);if(!_0x496eb3)throw new _0x2fb975(_0x2fb975['codes'][_0x505e76(0x6ab)]);_0x496eb3[_0x505e76(0x775)](),this['jobObservers'][_0x505e76(0x21d)](_0x2af7dc),_0x148f53[_0x505e76(0x2f4)](_0x19b950['Jobs'],_0x505e76(0x226)+_0x2af7dc+'\x20deleted.');}['addBidResponse'](_0x2dae78,_0x2e19fb,_0x171ec6){const _0x5d3091=_0x136916,_0x363056=this[_0x5d3091(0x555)][_0x5d3091(0x2b0)](_0x2e19fb)??new Map();_0x363056[_0x5d3091(0x5ff)](_0x2dae78,[_0x171ec6,Date[_0x5d3091(0x154)]()]),this[_0x5d3091(0x555)][_0x5d3091(0x5ff)](_0x2e19fb,_0x363056),this['evaluateBidsAndAttributeJob'](_0x2e19fb);}[_0x136916(0x33e)](_0x3f0811){const _0x403bb4=_0x136916,_0x2dc090=this[_0x403bb4(0x638)][_0x403bb4(0x2b0)](_0x3f0811);if(!_0x2dc090)throw new _0x2fb975(_0x2fb975['codes']['JobDispatcherJobNotFound']);const _0xbf51bb=setTimeout(()=>this[_0x403bb4(0x31f)](_0x3f0811,!0x0),0xbb8);_0x2dc090['responseTimeout']=_0xbf51bb,this[_0x403bb4(0x638)]['set'](_0x2dc090['id'],_0x2dc090);}[_0x136916(0x31f)](_0x3136ae,_0xf82209=!0x1){const _0x524796=_0x136916,_0x37f2cb=this[_0x524796(0xeb)][_0x524796(0x38f)](),_0x1f38a2=Array[_0x524796(0x4c4)](_0x37f2cb['values']())['filter'](_0x32d030=>_0x32d030[_0x524796(0x3fa)]===_0x1095f4[_0x524796(0x60b)][_0x524796(0x6fd)]),_0x33afcf=this['jobBids'][_0x524796(0x2b0)](_0x3136ae)??new Map();if(!_0xf82209&&(!_0x33afcf||_0x33afcf['size']<_0x1f38a2[_0x524796(0x3a9)]))return;const _0x5efa80=this['jobs'][_0x524796(0x2b0)](_0x3136ae);if(!_0x5efa80)throw new _0x2fb975(_0x2fb975[_0x524796(0x516)]['JobDispatcherJobNotFound']);clearTimeout(_0x5efa80[_0x524796(0x194)]),_0x148f53['log'](_0x19b950[_0x524796(0x2b6)],_0x524796(0x226)+_0x5efa80['id']+'\x20received\x20responses:',_0x33afcf,this[_0x524796(0x555)]);const _0x215212=Array[_0x524796(0x4c4)](_0x33afcf[_0x524796(0x375)]())[_0x524796(0x557)](([,[_0x13f516]])=>_0x13f516[_0x524796(0x69d)]);if(!_0x33afcf||0x0===_0x33afcf['size']||0x0===_0x215212[_0x524796(0x3a9)]){_0x5efa80['status']=_0x1095f4[_0x524796(0x3e9)]['Failed'],_0x5efa80[_0x524796(0x2e5)]=new Date(),_0x148f53[_0x524796(0x4d8)](_0x524796(0x226)+_0x5efa80['id']+_0x524796(0x335),{'nodeId':this['owner'][_0x524796(0x716)](),'nodeType':this[_0x524796(0x342)][_0x524796(0x3fa)],'data':{'job':_0x5efa80,'responses':_0x33afcf}});const _0x4285b4=this[_0x524796(0x227)][_0x524796(0x2b0)](_0x3136ae);if(!_0x4285b4)throw new _0x2fb975(_0x2fb975[_0x524796(0x516)][_0x524796(0x6ab)]);const _0x39a875='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x138a8b={'id':_0x5efa80['id'],'status':_0x5efa80[_0x524796(0x4f1)],'message':_0x39a875};return _0x4285b4[_0x524796(0x2db)](_0x138a8b),_0x4285b4[_0x524796(0x775)](),this[_0x524796(0x638)]['set'](_0x5efa80['id'],_0x5efa80),void this['jobBids'][_0x524796(0x21d)](_0x3136ae);}const {nodeId:_0xbb1e3c,response:_0x3f405e}=this[_0x524796(0x482)](_0x5efa80['id'],_0x33afcf);_0x5efa80[_0x524796(0x4f1)]=_0x1095f4[_0x524796(0x3e9)]['Processing'],_0x5efa80[_0x524796(0x2e5)]=new Date(),_0x148f53['log'](_0x19b950[_0x524796(0x2b6)],_0x524796(0x226)+_0x5efa80['id']+_0x524796(0x6d2)+_0xbb1e3c+_0x524796(0x523),_0x3f405e);const _0x3acd5a={'id':_0x5efa80['id'],'jobType':_0x5efa80[_0x524796(0x591)],'jobPhase':_0x48dcbd['Attribution'],'parameters':_0x5efa80[_0x524796(0x21a)]};this[_0x524796(0x695)](_0x3acd5a,[_0xbb1e3c]),this[_0x524796(0x638)][_0x524796(0x5ff)](_0x5efa80['id'],_0x5efa80),this['jobBids']['delete'](_0x3136ae);}[_0x136916(0x482)](_0x223ea9,_0x1cb455){const _0x3d10ed=_0x136916,_0x24e2a4=Array[_0x3d10ed(0x4c4)](_0x1cb455[_0x3d10ed(0x375)]())['sort']((_0x377807,_0x16d913)=>_0x16d913[0x1][0x0]['bid']-_0x377807[0x1][0x0][_0x3d10ed(0x63b)]);if(0x1===_0x24e2a4[_0x3d10ed(0x3a9)])return{'nodeId':_0x24e2a4[0x0][0x0],'response':_0x24e2a4[0x0][0x1][0x0]};const _0x28bc39=(_0x4ff41d=>{const _0x39ca4b=_0x3d10ed,_0xd4c65c=_0x4ff41d[0x0][0x1][0x0][_0x39ca4b(0x63b)];return _0x4ff41d[_0x39ca4b(0x557)](([,[_0x19cd8d]])=>_0x19cd8d['bid']===_0xd4c65c);})(_0x24e2a4);if(0x1===_0x28bc39[_0x3d10ed(0x3a9)])return{'nodeId':_0x28bc39[0x0][0x0],'response':_0x28bc39[0x0][0x1][0x0]};const _0x27c869=this['jobs']['get'](_0x223ea9);if(!_0x27c869)throw new _0x2fb975(_0x2fb975['codes'][_0x3d10ed(0x25c)]);const _0x596081=_0x27c869[_0x3d10ed(0x495)][_0x3d10ed(0x197)](),_0x1a9a9a=_0x28bc39[_0x3d10ed(0x774)](([_0x5cf051,[,_0x857dbc]])=>({'nodeId':_0x5cf051,'rtt':_0x857dbc-_0x596081})),_0x51a55b=Math['min'](..._0x1a9a9a[_0x3d10ed(0x774)](({rtt:_0x3c4e91})=>_0x3c4e91)),_0x22003c=_0x1a9a9a[_0x3d10ed(0x21f)](({rtt:_0x550ad2})=>_0x550ad2===_0x51a55b),[,[_0x24ee6d]]=_0x28bc39[_0x3d10ed(0x21f)](([_0x34fb92])=>_0x34fb92===_0x22003c['nodeId']);return{'nodeId':_0x22003c[_0x3d10ed(0x39b)],'response':_0x24ee6d};}[_0x136916(0x334)](_0x2adcfe,_0x15d533){const _0x202cac=_0x136916,_0x80c6d9=this['jobs'][_0x202cac(0x2b0)](_0x2adcfe);if(!_0x80c6d9)throw new _0x2fb975(_0x2fb975[_0x202cac(0x516)][_0x202cac(0x25c)]);const _0xd52008=this[_0x202cac(0x227)][_0x202cac(0x2b0)](_0x2adcfe);if(!_0xd52008)throw new _0x2fb975(_0x2fb975[_0x202cac(0x516)][_0x202cac(0x6ab)]);const _0x5a0504={'id':_0x80c6d9['id'],'status':_0x1095f4[_0x202cac(0x3e9)][_0x202cac(0x536)],'result':_0x15d533[_0x202cac(0x280)]};_0xd52008[_0x202cac(0x2db)](_0x5a0504);}[_0x136916(0x36f)](_0x5defd0,_0x414227){const _0x1f614f=_0x136916,_0x5e217b=this[_0x1f614f(0x638)][_0x1f614f(0x2b0)](_0x5defd0);if(!_0x5e217b)throw new _0x2fb975(_0x2fb975[_0x1f614f(0x516)][_0x1f614f(0x25c)]);const _0x7a6c5e=this['jobObservers'][_0x1f614f(0x2b0)](_0x5defd0);if(!_0x7a6c5e)throw new _0x2fb975(_0x2fb975['codes'][_0x1f614f(0x6ab)]);_0x5e217b[_0x1f614f(0x4f1)]=_0x1095f4[_0x1f614f(0x3e9)]['Completed'];const _0x5d412f={'id':_0x5e217b['id'],'status':_0x5e217b[_0x1f614f(0x4f1)],'result':_0x414227[_0x1f614f(0x280)]};_0x7a6c5e[_0x1f614f(0x2db)](_0x5d412f),_0x7a6c5e[_0x1f614f(0x775)](),this[_0x1f614f(0x227)]['delete'](_0x5defd0),this['logEvent'](_0x1f614f(0x226)+_0x5defd0+_0x1f614f(0x331),{'jobId':_0x5defd0});}[_0x136916(0x5c7)](_0x455a64,_0x5ba6cc){const _0x2f2920=_0x136916,_0x538d91=this['jobs'][_0x2f2920(0x2b0)](_0x455a64);if(!_0x538d91)throw new _0x2fb975(_0x2fb975[_0x2f2920(0x516)][_0x2f2920(0x25c)]);const _0x1bda67=this[_0x2f2920(0x227)][_0x2f2920(0x2b0)](_0x455a64);if(!_0x1bda67)throw new _0x2fb975(_0x2fb975['codes']['JobDispatcherObserverNotFound']);_0x538d91[_0x2f2920(0x4f1)]=_0x1095f4[_0x2f2920(0x3e9)][_0x2f2920(0x61f)];const _0x1306ac={'id':_0x538d91['id'],'status':_0x538d91[_0x2f2920(0x4f1)],'message':_0x5ba6cc};_0x1bda67['next'](_0x1306ac),_0x1bda67[_0x2f2920(0x775)](),this[_0x2f2920(0x227)][_0x2f2920(0x21d)](_0x455a64),this[_0x2f2920(0x70d)](_0x2f2920(0x226)+_0x455a64+_0x2f2920(0x594),{'jobId':_0x455a64});}[_0x136916(0x70d)](_0x2f8ffe,{jobId:_0x301e97}){const _0x303c6c=_0x136916,_0xf48756={'jobId':_0x301e97,'mistletIds':Array[_0x303c6c(0x4c4)](this['graphService'][_0x303c6c(0x38f)]()[_0x303c6c(0x26f)]())[_0x303c6c(0x557)](_0x874493=>_0x874493[_0x303c6c(0x3fa)]===_0x1095f4[_0x303c6c(0x60b)][_0x303c6c(0x6fd)])['map'](_0x46f279=>_0x46f279['getId']())};_0x148f53['logEvent'](_0x2f8ffe,{'nodeId':this[_0x303c6c(0xf7)](),'nodeType':this[_0x303c6c(0x342)]['type'],'data':_0xf48756}),_0x148f53[_0x303c6c(0x2f4)](_0x19b950[_0x303c6c(0x2b6)],_0x2f8ffe,_0xf48756);}[_0x136916(0x532)](_0x2504f0){const _0x1b021b=_0x136916,{jobPhase:_0x417dc2,available:_0x4d7ea6,bid:_0x5f35cf}=_0x2504f0;return _0x417dc2===_0x48dcbd[_0x1b021b(0x3b3)]&&void 0x0!==_0x4d7ea6&&void 0x0!==_0x5f35cf;}['isPartialResultResponse'](_0x28b503){const _0x1cc709=_0x136916,{jobPhase:_0x257eda,result:_0x28682c}=_0x28b503;return _0x257eda===_0x48dcbd[_0x1cc709(0x5a1)]&&void 0x0!==_0x28682c;}['isResultResponse'](_0x30f160){const _0x2fef3b=_0x136916,{jobPhase:_0x13a6d5,result:_0x1ad33c}=_0x30f160;return _0x13a6d5===_0x48dcbd[_0x2fef3b(0x6ec)]&&void 0x0!==_0x1ad33c;}[_0x136916(0x77b)](_0x3261cc){const _0x445480=_0x136916,{jobPhase:_0x58cd01,message:_0x249860}=_0x3261cc;return _0x58cd01===_0x48dcbd[_0x445480(0x61f)]&&void 0x0!==_0x249860&&'string'==typeof _0x249860;}}class _0x373dd5 extends _0x1f7d78{[_0x136916(0x3ba)]=0x0;[_0x136916(0x42b)]=0x0;['debounceStats'];constructor(_0x26fbfa,_0x24edca,_0x4b5c2f){const _0x356173=_0x136916;super(_0x26fbfa,_0x24edca,_0x4b5c2f),this[_0x356173(0x726)]();}async[_0x136916(0x4bf)](_0x2035e2,_0x2c384f){const _0xf78ccd=_0x136916,_0x2b8443=await this[_0xf78ccd(0x3b1)](_0x2035e2,_0x1095f4[_0xf78ccd(0x6d4)]['Job'],_0x2c384f);return new Promise((_0x104b8c,_0x463b3b)=>{const _0x180742=_0xf78ccd;let _0x2d7b42;const _0x14b9b3=_0x2b8443[_0x180742(0x67e)]({'next':_0x3c7271=>{const _0x2ffac8=_0x180742;switch(_0x3c7271[_0x2ffac8(0x4f1)]){case _0x1095f4['JobStatus'][_0x2ffac8(0x1fb)]:const _0xdb33f0=_0x3c7271['result'][_0x2ffac8(0x1a1)]??0x0;this[_0x2ffac8(0x764)](_0xdb33f0),clearTimeout(_0x2d7b42),_0x104b8c(_0x3c7271[_0x2ffac8(0x280)]),_0x14b9b3[_0x2ffac8(0xef)](),this[_0x2ffac8(0x3ba)]+=0x1,this['tokens']+=_0xdb33f0,this['sendStats']();break;case _0x1095f4[_0x2ffac8(0x3e9)][_0x2ffac8(0x61f)]:clearTimeout(_0x2d7b42),_0x463b3b(new _0x2fb975(_0x2fb975[_0x2ffac8(0x516)][_0x2ffac8(0x382)],{'updatedJob':_0x3c7271})),_0x14b9b3['unsubscribe'](),this['sendStats']();}},'error':_0x1d9bb5=>{const _0x114b13=_0x180742;clearTimeout(_0x2d7b42),_0x463b3b(new _0x2fb975(_0x2fb975[_0x114b13(0x516)][_0x114b13(0x382)],{'err':_0x1d9bb5})),_0x14b9b3[_0x114b13(0xef)]();}});_0x2d7b42=setTimeout(()=>{const _0x9f1aee=_0x180742;_0x463b3b(new _0x2fb975(_0x2fb975['codes'][_0x9f1aee(0x2ed)])),_0x14b9b3[_0x9f1aee(0xef)]();},_0x1812da);});}async*[_0x136916(0x103)](_0x3fcd02,_0x11bacd){const _0x3d9de7=_0x136916,_0x10ee24=await this[_0x3d9de7(0x3b1)](_0x3fcd02,_0x1095f4[_0x3d9de7(0x6d4)][_0x3d9de7(0x19b)],_0x11bacd);let _0x4be495,_0x19b3e0=!0x1,_0x3bc6ca=0x0;const _0x4a0b1a=[],_0x169b80=new Map();let _0x144d68=null;const _0x174412=()=>{_0x144d68&&(_0x144d68(),_0x144d68=null);},_0xc9892e=()=>{const _0x5f184b=_0x3d9de7;_0x19b3e0=!0x0,_0x174412(),_0x4255d0[_0x5f184b(0xef)]();},_0x4255d0=_0x10ee24[_0x3d9de7(0x67e)]({'next':_0x3f1b1e=>{const _0x26b2b5=_0x3d9de7;switch(_0x3f1b1e['status']){case _0x1095f4['JobStatus'][_0x26b2b5(0x536)]:if(_0x3f1b1e[_0x26b2b5(0x280)]&&_0x3f1b1e[_0x26b2b5(0x280)]['output']){if(void 0x0===_0x3f1b1e[_0x26b2b5(0x280)][_0x26b2b5(0x40d)])throw _0xc9892e(),new _0x2fb975(_0x2fb975[_0x26b2b5(0x516)][_0x26b2b5(0x24c)],{'updatedJob':_0x3f1b1e});_0x3bc6ca===_0x3f1b1e[_0x26b2b5(0x280)][_0x26b2b5(0x40d)]?(_0x4a0b1a['push'](_0x3f1b1e[_0x26b2b5(0x280)]),_0x3bc6ca++,((()=>{const _0x5e933c=_0x26b2b5;for(;_0x169b80[_0x5e933c(0x2b3)](_0x3bc6ca);)_0x4a0b1a[_0x5e933c(0x5ac)](_0x169b80['get'](_0x4a0b1a[_0x5e933c(0x3a9)])),_0x169b80[_0x5e933c(0x21d)](_0x4a0b1a[_0x5e933c(0x3a9)]),_0x3bc6ca++;})()),_0x174412(),_0xfaad70()):_0x169b80['set'](_0x3f1b1e[_0x26b2b5(0x280)][_0x26b2b5(0x40d)],_0x3f1b1e[_0x26b2b5(0x280)]);}break;case _0x1095f4[_0x26b2b5(0x3e9)][_0x26b2b5(0x1fb)]:const _0x57d83d=_0x3f1b1e[_0x26b2b5(0x280)][_0x26b2b5(0x1a1)]??0x0;this[_0x26b2b5(0x764)](_0x57d83d),clearTimeout(_0x4be495),_0xc9892e(),this[_0x26b2b5(0x3ba)]+=0x1,this[_0x26b2b5(0x42b)]+=_0x57d83d,this[_0x26b2b5(0x726)]();break;case _0x1095f4[_0x26b2b5(0x3e9)]['Failed']:throw clearTimeout(_0x4be495),_0xc9892e(),this[_0x26b2b5(0x726)](),new _0x2fb975(_0x2fb975[_0x26b2b5(0x516)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x3f1b1e});}},'error':_0xd13052=>{const _0x2c0859=_0x3d9de7;throw clearTimeout(_0x4be495),_0xc9892e(),new _0x2fb975(_0x2fb975[_0x2c0859(0x516)]['GenerativeAIContextJobFailed'],{'err':_0xd13052});}}),_0x54b414=()=>{const _0x3cd38a=_0x3d9de7;throw _0xc9892e(),new _0x2fb975(_0x2fb975[_0x3cd38a(0x516)][_0x3cd38a(0x2ed)]);},_0xfaad70=()=>{clearTimeout(_0x4be495),_0x4be495=setTimeout(_0x54b414,_0x1812da);};for(_0x4be495=setTimeout(_0x54b414,_0x1812da);!_0x19b3e0||_0x4a0b1a[_0x3d9de7(0x3a9)]>0x0;)_0x4a0b1a['length']>0x0?yield _0x4a0b1a['shift']():await new Promise(_0x5ae1fd=>_0x144d68=_0x5ae1fd);}[_0x136916(0x764)](_0x2e08b3){const _0x27ff55=_0x136916,_0x1220f8=this[_0x27ff55(0x369)],_0x35f832=this[_0x27ff55(0xf7)]();_0x148f53[_0x27ff55(0x764)](_0x497fea[_0x27ff55(0x671)],{'topic':_0x1220f8,'type':_0x27ff55(0x4bf),'nodeId':_0x35f832,'tokenCount':_0x2e08b3});}async['getJobObservable'](_0xb6f081,_0x184f45,_0x79cb={}){const _0x34fb8a=_0x136916,_0x221358={'id':'job-'+(0x0,_0x53bfff['v4'])(),'jobType':_0x184f45,'parameters':{'prompt':_0xb6f081,..._0x79cb},'status':_0x1095f4[_0x34fb8a(0x3e9)][_0x34fb8a(0xf5)]};return await this[_0x34fb8a(0x2b7)](_0x221358);}[_0x136916(0x726)](){const _0x324414=_0x136916;this[_0x324414(0x6ea)]&&clearTimeout(this[_0x324414(0x6ea)]),this[_0x324414(0x6ea)]=setTimeout(async()=>{const _0x290d46=_0x324414;delete this[_0x290d46(0x6ea)],this[_0x290d46(0x74d)][_0x290d46(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x290d46(0x632)],'content':{'type':_0x46fb30['GenerativeAIContextStats'],'label':this['label'],'stats':{'timestamp':Date[_0x290d46(0x154)](),'storage':0x0,'messagesSent':this[_0x290d46(0x511)],'messagesReceived':this['messagesReceived'],'bytesSent':this[_0x290d46(0x1ba)],'bytesReceived':this[_0x290d46(0x5e4)],'writes':0x0,'reads':0x0,'prompts':this[_0x290d46(0x3ba)],'tokens':this[_0x290d46(0x42b)]}}});},0x1388);}}class _0x522bba extends _0x1b8e4a{[_0x136916(0x351)];[_0x136916(0x2ca)];[_0x136916(0x604)];[_0x136916(0x3d5)]=!0x1;constructor(_0x3f9fc6,_0x1c9717,_0x167d87,_0x591b4d){super(_0x3f9fc6,_0x1c9717),this['capacityReporter']=_0x167d87,this['jobWorkerConnector']=_0x591b4d;}[_0x136916(0x51b)](){const _0x2faac2=_0x136916;return _0x1095f4['ContentType'][_0x2faac2(0x1d6)];}['open'](){const _0x4e1b69=_0x136916;this[_0x4e1b69(0x257)]();}[_0x136916(0x348)](){const _0x490681=_0x136916;this[_0x490681(0x74d)]?.['publish']({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x490681(0x632)],'content':{'type':_0x46fb30[_0x490681(0x2ee)],'label':this[_0x490681(0x369)]}});}[_0x136916(0x234)](){const _0x22f7fc=_0x136916;this[_0x22f7fc(0x604)]?.(),this[_0x22f7fc(0x483)]();}[_0x136916(0x1ee)](){const _0x1faa52=_0x136916;this[_0x1faa52(0x604)]?.(),super['destroy']();}[_0x136916(0x435)](){const _0x80a29a=_0x136916;return!this[_0x80a29a(0x3d5)];}[_0x136916(0x3e5)](){return 0x1;}[_0x136916(0x251)](_0x34bd52,_0x1871fc,_0x4474aa){}[_0x136916(0x3de)](_0x49159e,_0x431161){return _0x49159e;}[_0x136916(0x257)](){const _0x48dfea=_0x136916;this[_0x48dfea(0x604)]=this[_0x48dfea(0x65f)]((_0x462eda,_0x24e36f)=>{const _0x15f5ac=_0x48dfea;_0x148f53[_0x15f5ac(0x2f4)](_0x19b950[_0x15f5ac(0x2b6)],_0x15f5ac(0x4bb),_0x24e36f),_0x24e36f instanceof File||(this[_0x15f5ac(0x3a4)](_0x24e36f)?(_0x148f53[_0x15f5ac(0x2f4)](_0x19b950[_0x15f5ac(0x2b6)],'JobWorker:\x20Received\x20job\x20request',_0x24e36f),this[_0x15f5ac(0x435)]()?this[_0x15f5ac(0x370)](_0x24e36f['id'],_0x24e36f[_0x15f5ac(0x591)],_0x462eda):this['sendReject'](_0x24e36f['id'],_0x24e36f[_0x15f5ac(0x591)],_0x462eda)):this['isJobAttribution'](_0x24e36f)&&(_0x148f53[_0x15f5ac(0x2f4)](_0x19b950[_0x15f5ac(0x2b6)],_0x15f5ac(0x72f),_0x24e36f),this[_0x15f5ac(0x238)](_0x24e36f['id'],_0x24e36f,_0x462eda)));});}[_0x136916(0x370)](_0x3d68ba,_0x117e6e,_0x41771c){const _0x30e7ce=_0x136916,_0x44a7d1={'id':_0x3d68ba,'jobType':_0x117e6e,'jobPhase':_0x48dcbd['Bid'],'available':!0x0,'bid':this[_0x30e7ce(0x3e5)]()};_0x148f53['log'](_0x19b950[_0x30e7ce(0x2b6)],_0x30e7ce(0xea),_0x44a7d1),this[_0x30e7ce(0x695)](_0x44a7d1,[_0x41771c]);}[_0x136916(0x68d)](_0x373e93,_0x1257d9,_0x405d41){const _0x1c5e6b=_0x136916,_0x1d658e={'id':_0x373e93,'jobType':_0x1257d9,'jobPhase':_0x48dcbd[_0x1c5e6b(0x3b3)],'available':!0x1,'bid':0x0};this[_0x1c5e6b(0x695)](_0x1d658e,[_0x405d41]);}async[_0x136916(0x238)](_0x5caf1e,_0xe31cc9,_0x6f583d){const _0x400cd0=_0x136916;_0x148f53[_0x400cd0(0x2f4)](_0x19b950[_0x400cd0(0x2b6)],_0x400cd0(0x497),_0xe31cc9);const _0x5053df={'id':_0x5caf1e,'jobType':_0xe31cc9['jobType'],'parameters':_0xe31cc9[_0x400cd0(0x21a)]};try{switch(_0xe31cc9[_0x400cd0(0x591)]){case _0x1095f4[_0x400cd0(0x6d4)]['Job']:await this[_0x400cd0(0x1de)](_0x5caf1e,_0xe31cc9,_0x5053df,_0x6f583d);break;case _0x1095f4['JobType'][_0x400cd0(0x19b)]:await this[_0x400cd0(0x6da)](_0x5caf1e,_0xe31cc9,_0x5053df,_0x6f583d);break;default:throw new Error(_0x400cd0(0x184));}}catch(_0x3f68e6){_0x148f53[_0x400cd0(0x4d8)]('JobWorker:\x20Error\x20processing\x20job',{'nodeId':this[_0x400cd0(0x342)][_0x400cd0(0x716)](),'nodeType':this[_0x400cd0(0x342)][_0x400cd0(0x3fa)],'data':{'job':_0x5053df}},_0x3f68e6);const _0x5464f2=_0x3f68e6 instanceof Error?_0x3f68e6[_0x400cd0(0x286)]:'An\x20error\x20occurred',_0x3ec276={'id':_0x5caf1e,'jobType':_0xe31cc9[_0x400cd0(0x591)],'jobPhase':_0x48dcbd[_0x400cd0(0x61f)],'message':_0x5464f2};await this[_0x400cd0(0x695)](_0x3ec276,[_0x6f583d]);}finally{this[_0x400cd0(0x3d5)]=!0x1;}}async[_0x136916(0x1de)](_0x2a812f,_0x44a30d,_0x2cc6cd,_0x4436b0){const _0x15f9e5=_0x136916;this['isRunning']=!0x0;const _0x153c5d=Date['now'](),_0x1445d0=await this['jobWorkerConnector'][_0x15f9e5(0x1de)](_0x2cc6cd);if(_0x1445d0[_0x15f9e5(0x4f1)]!==_0x1095f4[_0x15f9e5(0x3e9)]['Partial']&&_0x1445d0[_0x15f9e5(0x4f1)]!==_0x1095f4[_0x15f9e5(0x3e9)]['Completed'])return;this['compileStats'](_0x1445d0[_0x15f9e5(0x280)],_0x153c5d,Date[_0x15f9e5(0x154)]());const _0x16d8f4={'id':_0x2a812f,'jobType':_0x44a30d[_0x15f9e5(0x591)],'jobPhase':_0x48dcbd[_0x15f9e5(0x6ec)],'result':_0x1445d0[_0x15f9e5(0x280)]};_0x148f53['log'](_0x19b950['Jobs'],_0x15f9e5(0x290),_0x16d8f4),await this[_0x15f9e5(0x695)](_0x16d8f4,[_0x4436b0]);}async[_0x136916(0x6da)](_0x39eb01,_0x30e81e,_0x17c8c0,_0x371302){const _0x5c35bf=_0x136916;this[_0x5c35bf(0x3d5)]=!0x0;const _0xfcd445=Date[_0x5c35bf(0x154)]();let _0x2fed50=0x0,_0x43e998={};for await(const _0x41410a of this[_0x5c35bf(0x2ca)][_0x5c35bf(0x6da)](_0x17c8c0)){if(_0x41410a[_0x5c35bf(0x4f1)]!==_0x1095f4['JobStatus'][_0x5c35bf(0x536)]&&_0x41410a[_0x5c35bf(0x4f1)]!==_0x1095f4[_0x5c35bf(0x3e9)][_0x5c35bf(0x1fb)])break;const _0x1aca10={'id':_0x39eb01,'jobType':_0x30e81e[_0x5c35bf(0x591)],'jobPhase':_0x48dcbd[_0x5c35bf(0x5a1)],'result':{..._0x41410a[_0x5c35bf(0x280)],'index':_0x2fed50}};_0x148f53[_0x5c35bf(0x2f4)](_0x19b950['Jobs'],'JobWorker:\x20Sending\x20job\x20partial\x20result',_0x1aca10),this[_0x5c35bf(0x695)](_0x1aca10,[_0x371302]),_0x43e998=this['accumulateResult'](_0x43e998,_0x41410a[_0x5c35bf(0x280)]),_0x2fed50++;}this['compileStats'](_0x43e998,_0xfcd445,Date[_0x5c35bf(0x154)]());const _0x1862b0={'id':_0x39eb01,'jobType':_0x30e81e['jobType'],'jobPhase':_0x48dcbd[_0x5c35bf(0x6ec)],'result':_0x43e998};_0x148f53[_0x5c35bf(0x2f4)](_0x19b950[_0x5c35bf(0x2b6)],_0x5c35bf(0x290),_0x1862b0),await this[_0x5c35bf(0x695)](_0x1862b0,[_0x371302]);}[_0x136916(0x3a4)](_0x34842a){const _0x468777=_0x136916;return _0x34842a['jobPhase']===_0x48dcbd[_0x468777(0x1e8)];}[_0x136916(0x17d)](_0x4a1e3b){const _0x442fae=_0x136916;return _0x4a1e3b[_0x442fae(0x6ef)]===_0x48dcbd[_0x442fae(0x6d8)];}}class _0x5a1870 extends _0x522bba{[_0x136916(0x4e4)];['objectStore'];[_0x136916(0x6ea)];[_0x136916(0x3ba)]=0x0;[_0x136916(0x42b)]=0x0;constructor(_0x47c938,_0x40723d,_0x29984a,_0x480c6c,_0x15e669){super(_0x47c938,_0x40723d,_0x29984a,_0x480c6c),this['generativeAIWorkerConnector']=_0x480c6c,this['objectStore']=_0x15e669;}[_0x136916(0x1ee)](){const _0x6534ba=_0x136916;this['objectStore'][_0x6534ba(0xef)](),this['objectStore']['close'](),this[_0x6534ba(0x6ea)]&&(clearTimeout(this[_0x6534ba(0x6ea)]),delete this['debounceStats']),super['destroy']();}async['open'](){const _0x21415f=_0x136916;await this[_0x21415f(0x1a0)](),await this[_0x21415f(0x4e4)]['initialize'](),await this[_0x21415f(0x750)](),this[_0x21415f(0x1b7)](),this['sendStats'](),super[_0x21415f(0x483)]();}[_0x136916(0x234)](){const _0x197bdf=_0x136916;this[_0x197bdf(0x3ba)]=0x0,this[_0x197bdf(0x42b)]=0x0,this[_0x197bdf(0x726)]();}['getBid'](){const _0x461437=_0x136916;return this[_0x461437(0x726)](),this[_0x461437(0x6cc)]();}['compileStats'](_0x20d63c,_0x4d0462,_0x3451bf){const _0x389eab=_0x136916,_0x52e304=_0x20d63c[_0x389eab(0x742)]??0x0,_0x186279=_0x52e304/((_0x3451bf-_0x4d0462)/0x3e8);this[_0x389eab(0x3ba)]+=0x1,this[_0x389eab(0x42b)]+=_0x52e304,this[_0x389eab(0x764)](_0x186279,_0x52e304),this['sendStats']();}['accumulateResult'](_0xb88923,_0x3c86a2){const _0x5bf336=_0x136916;return _0xb88923[_0x5bf336(0x15a)]=_0xb88923[_0x5bf336(0x15a)]??'',{'output':_0xb88923[_0x5bf336(0x15a)]+_0x3c86a2[_0x5bf336(0x15a)],'outputTokens':_0x3c86a2[_0x5bf336(0x742)]??_0xb88923['outputTokens'],'inputTokens':_0x3c86a2[_0x5bf336(0x1a1)]??_0xb88923[_0x5bf336(0x1a1)]};}async['waitForSyncComplete'](){await new Promise(_0x35a3ed=>{const _0xc5a7f2=a0_0x532f;this[_0xc5a7f2(0x35a)][_0xc5a7f2(0x67e)](async _0x13d0c1=>{const _0x4dbf3d=_0xc5a7f2;_0x13d0c1['event']===_0x1095f4[_0x4dbf3d(0x747)][_0x4dbf3d(0x753)]&&(this['objectStore'][_0x4dbf3d(0xef)](),_0x35a3ed());});});}async[_0x136916(0x19d)](_0x4f9d41){const _0x44596d=_0x136916;try{const _0x596a9b=await this[_0x44596d(0x35a)]['list']('/models');for(const _0x40ae6b of _0x596a9b)if(_0x40ae6b[_0x44596d(0x1b5)]===_0x1095f4[_0x44596d(0x5b2)][_0x44596d(0x14f)]&&_0x40ae6b[_0x44596d(0x239)]===_0x4f9d41)return _0x40ae6b['absolutePathName']??_0x40ae6b['pathName'];throw new Error('Model\x20not\x20found');}catch(_0x23cbb9){return new Promise(_0x568957=>{const _0x2c9c2b=_0x44596d;this[_0x2c9c2b(0x35a)][_0x2c9c2b(0x67e)](async _0x5c128f=>{const _0x13834a=_0x2c9c2b;_0x5c128f[_0x13834a(0x44d)]===_0x1095f4[_0x13834a(0x747)][_0x13834a(0x129)]&&_0x5c128f[_0x13834a(0x6bd)][_0x13834a(0x41c)][_0x13834a(0x414)]===_0x4f9d41&&(this[_0x13834a(0x35a)][_0x13834a(0xef)](),_0x568957(_0x5c128f['payload'][_0x13834a(0x41c)][_0x13834a(0x697)]??_0x5c128f[_0x13834a(0x6bd)][_0x13834a(0x41c)]['pathName']));});});}}async['loadExistingContent'](){const _0x18c5fc=_0x136916;try{const _0x5bb239=await this[_0x18c5fc(0x35a)][_0x18c5fc(0x23f)](_0x5e4fe9);for(const _0x16cc99 of _0x5bb239)_0x18c5fc(0x41c)===_0x16cc99['kind']&&await this[_0x18c5fc(0x142)](_0x16cc99[_0x18c5fc(0x414)],_0x16cc99[_0x18c5fc(0x239)]);}catch(_0x52c5ca){}}['subscribeToContent'](){const _0x433d2f=_0x136916;this[_0x433d2f(0x35a)][_0x433d2f(0x67e)](async _0x1cd99d=>{const _0x5c57ad=_0x433d2f;switch(_0x1cd99d['event']){case _0x1095f4[_0x5c57ad(0x747)]['FileWrite']:_0x1cd99d[_0x5c57ad(0x6bd)][_0x5c57ad(0x41c)][_0x5c57ad(0x239)][_0x5c57ad(0x5a5)](_0x5e4fe9)&&await this[_0x5c57ad(0x142)](_0x1cd99d[_0x5c57ad(0x6bd)][_0x5c57ad(0x41c)][_0x5c57ad(0x414)],_0x1cd99d['payload'][_0x5c57ad(0x41c)][_0x5c57ad(0x239)]);break;case _0x1095f4[_0x5c57ad(0x747)][_0x5c57ad(0x312)]:_0x1cd99d['payload'][_0x5c57ad(0x239)][_0x5c57ad(0x5a5)](_0x5e4fe9)&&this[_0x5c57ad(0x346)](_0x1cd99d[_0x5c57ad(0x6bd)][_0x5c57ad(0x414)]);}});}async['addContent'](_0x32a93e,_0x5cb546){const _0x311571=_0x136916,_0x3e77f6=await this['objectStore'][_0x311571(0x2b0)](_0x5cb546);await this[_0x311571(0x4e4)]['addContent'](_0x32a93e,await _0x3e77f6[_0x311571(0x575)]()),this[_0x311571(0x726)]();}[_0x136916(0x346)](_0x24368a){const _0x41d821=_0x136916;this[_0x41d821(0x4e4)][_0x41d821(0x346)](_0x24368a),this[_0x41d821(0x726)]();}[_0x136916(0x6cc)](){const _0x225606=_0x136916;try{return this['capacityReporter']['getCapacityReport']()[_0x225606(0x6a6)]['cores']*(0x1-this['capacityReporter']['getCapacityReport']()[_0x225606(0x6a6)][_0x225606(0x4e6)]);}catch(_0x55c3cd){return _0x148f53[_0x225606(0x2f4)](_0x19b950[_0x225606(0x2b6)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x55c3cd),0x0;}}[_0x136916(0x726)](){const _0x89af41=_0x136916;this[_0x89af41(0x6ea)]&&clearTimeout(this[_0x89af41(0x6ea)]),this[_0x89af41(0x6ea)]=setTimeout(async()=>{const _0x59ec66=_0x89af41;delete this[_0x59ec66(0x6ea)];const _0x1b2d19=await this[_0x59ec66(0x35a)][_0x59ec66(0x6f2)](_0x5e4fe9);this[_0x59ec66(0x74d)][_0x59ec66(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x59ec66(0x632)],'content':{'type':_0x46fb30[_0x59ec66(0x156)],'label':this[_0x59ec66(0x369)],'stats':{'timestamp':Date['now'](),'storage':_0x1b2d19,'messagesSent':this[_0x59ec66(0x511)],'messagesReceived':this[_0x59ec66(0x333)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x59ec66(0x5e4)],'writes':0x0,'reads':0x0,'prompts':this[_0x59ec66(0x3ba)],'tokens':this[_0x59ec66(0x42b)]}}});},0x1388);}[_0x136916(0x764)](_0x3c803a,_0x343e25){const _0x3defbc=_0x136916,_0x3ba098=this[_0x3defbc(0x369)],_0x249ed2=this['getOwnerId']();_0x148f53['logServiceEvent'](_0x497fea[_0x3defbc(0x671)],{'topic':_0x3ba098,'type':_0x3defbc(0x49b),'nodeId':_0x249ed2,'tokenCount':_0x343e25,'tokensPerSecond':_0x3c803a});}}class _0x3eb827 extends _0x4791ab{[_0x136916(0x365)];constructor(_0x2dc5b9,_0x2fda74,_0x3ccc9f){const _0x2d7920=_0x136916;super(_0x2dc5b9,_0x2fda74),this[_0x2d7920(0x365)]=_0x3ccc9f;}[_0x136916(0x51b)](){const _0xb77a8=_0x136916;return _0x1095f4[_0xb77a8(0x2fd)][_0xb77a8(0x6b9)];}[_0x136916(0x162)](){return this['mediaStream'];}['getInternalStreamId'](){const _0x378a93=_0x136916;return this[_0x378a93(0x365)]['id'];}}class _0x1289aa extends _0x3eb827{['remoteId'];[_0x136916(0x30c)];['topic'];[_0x136916(0x522)]=_0x2f84d1();constructor(_0x2da8e6,_0x3d2f14,_0x4d073a,_0x3a3b3e,_0x568cf1){const _0xf0ffa1=_0x136916;super(_0x2da8e6,_0x3d2f14,_0x4d073a),this[_0xf0ffa1(0x1a8)]=_0x3a3b3e,this['params']=_0x568cf1;}[_0x136916(0x1ee)](){const _0x302251=_0x136916;this[_0x302251(0x698)](_0x302251(0x1b1)),this[_0x302251(0x698)](_0x302251(0x6dc)),super[_0x302251(0x1ee)]();}[_0x136916(0x43f)](_0x4ff209){const _0x338184=_0x136916;if(!this[_0x338184(0x4dd)])throw new _0x2fb975(_0x2fb975[_0x338184(0x516)]['OutgoingMediaStreamNoTopic'],{'label':this[_0x338184(0x369)],'ownerId':this[_0x338184(0x342)]['getId'](),'remoteId':this[_0x338184(0x1a8)]});this[_0x338184(0x4dd)][_0x338184(0x457)]({'sourceId':this[_0x338184(0x342)]['getId'](),'content':{'action':_0x2fc674[_0x338184(0x230)],'track':_0x4ff209,'stream':this[_0x338184(0x365)],'priority':_0x1095f4[_0x338184(0x19f)]['Default'],'params':this[_0x338184(0x22d)](_0x4ff209[_0x338184(0x1b5)],this['params'])}});}[_0x136916(0x698)](_0x1340f6){const _0xf0e96d=_0x136916,_0x13b4dd=this[_0xf0e96d(0x6aa)](_0x1340f6);if(_0x13b4dd){if(!this[_0xf0e96d(0x4dd)])return null;this['topic'][_0xf0e96d(0x457)]({'sourceId':this[_0xf0e96d(0x342)][_0xf0e96d(0x716)](),'content':{'action':_0x2fc674[_0xf0e96d(0x59c)],'track':_0x13b4dd,'stream':this[_0xf0e96d(0x365)]}});}return _0x13b4dd;}[_0x136916(0x692)](_0x50b987){const _0x2b27ae=_0x136916;if(!this[_0x2b27ae(0x4dd)])throw new _0x2fb975(_0x2fb975['codes'][_0x2b27ae(0x64d)],{'label':this[_0x2b27ae(0x369)],'ownerId':this[_0x2b27ae(0x342)][_0x2b27ae(0x716)](),'remoteId':this['remoteId']});this[_0x2b27ae(0x4dd)][_0x2b27ae(0x457)]({'sourceId':this[_0x2b27ae(0x342)][_0x2b27ae(0x716)](),'content':{'action':_0x2fc674[_0x2b27ae(0x3ea)],'priority':_0x50b987,'stream':this['mediaStream']}});}['subscribe']({trackKinds:_0x54c13a,params:_0x1b7e2e},_0x5f5424){const _0x18c449=_0x136916;if(!this['topic'])throw new _0x2fb975(_0x2fb975[_0x18c449(0x516)][_0x18c449(0x64d)],{'label':this[_0x18c449(0x369)],'ownerId':this[_0x18c449(0x342)]['getId'](),'remoteId':this[_0x18c449(0x1a8)]});for(const _0x139ebc of this[_0x18c449(0x365)][_0x18c449(0x55b)]())_0x54c13a[_0x18c449(0x232)](_0x139ebc[_0x18c449(0x1b5)])&&this[_0x18c449(0x4dd)][_0x18c449(0x457)]({'sourceId':this[_0x18c449(0x342)]['getId'](),'content':{'action':_0x2fc674[_0x18c449(0x230)],'track':_0x139ebc,'stream':this['mediaStream'],'priority':_0x5f5424,'params':this[_0x18c449(0x22d)](_0x139ebc[_0x18c449(0x1b5)],_0x1b7e2e)}});}[_0x136916(0x4cb)]({params:_0x1a419a}){const _0x5e2161=_0x136916;if(!this[_0x5e2161(0x4dd)])throw new _0x2fb975(_0x2fb975[_0x5e2161(0x516)][_0x5e2161(0x64d)],{'label':this['label'],'ownerId':this['owner']['getId'](),'remoteId':this[_0x5e2161(0x1a8)]});for(const _0x2214b3 of this[_0x5e2161(0x365)][_0x5e2161(0x55b)]())this[_0x5e2161(0x4dd)][_0x5e2161(0x457)]({'sourceId':this[_0x5e2161(0x342)][_0x5e2161(0x716)](),'content':{'action':_0x2fc674[_0x5e2161(0x3ea)],'stream':this[_0x5e2161(0x365)],'params':this['getInternalTrackParams'](_0x2214b3[_0x5e2161(0x1b5)],_0x1a419a)}});}[_0x136916(0xef)]({trackKinds:_0x907311}){const _0x4d7670=_0x136916;if(this[_0x4d7670(0x4dd)]){for(const _0x72a24a of this['mediaStream'][_0x4d7670(0x55b)]())_0x907311['includes'](_0x72a24a['kind'])&&this[_0x4d7670(0x4dd)][_0x4d7670(0x457)]({'sourceId':this[_0x4d7670(0x342)][_0x4d7670(0x716)](),'content':{'action':_0x2fc674[_0x4d7670(0x59c)],'stream':this[_0x4d7670(0x365)],'track':_0x72a24a}});}}[_0x136916(0x5f9)](_0x18622d){const _0x25e989=_0x136916;this[_0x25e989(0x4dd)]=_0x18622d;}[_0x136916(0x330)](_0x57890a){const _0x1e1bdd=_0x136916;_0x57890a===this['topic']&&(delete this[_0x1e1bdd(0x4dd)],this[_0x1e1bdd(0x522)][_0x1e1bdd(0x457)]());}[_0x136916(0x4ed)](_0x12d7c8){const _0x371aca=_0x136916;return this[_0x371aca(0x522)][_0x371aca(0x67e)](_0x12d7c8);}[_0x136916(0x6aa)](_0x4f3002){const _0x2619c0=_0x136916;return this[_0x2619c0(0x365)][_0x2619c0(0x55b)]()[_0x2619c0(0x21f)](_0x40f50a=>_0x40f50a[_0x2619c0(0x1b5)]===_0x4f3002)||null;}[_0x136916(0x22d)](_0x54402f,_0x372704){const _0x1131c1=_0x136916;let _0x3d70fa;return _0x1131c1(0x6dc)===_0x54402f&&_0x372704?.[_0x1131c1(0x6dc)]&&_0x1131c1(0x480)!=typeof _0x372704[_0x1131c1(0x6dc)]&&(_0x3d70fa={'kind':'video',..._0x372704[_0x1131c1(0x6dc)]},_0x3d70fa[_0x1131c1(0x29f)]=this['getResolution']()),_0x1131c1(0x1b1)===_0x54402f&&_0x372704?.[_0x1131c1(0x1b1)]&&_0x1131c1(0x480)!=typeof _0x372704['audio']&&(_0x3d70fa={'kind':_0x1131c1(0x1b1),..._0x372704[_0x1131c1(0x1b1)]}),_0x3d70fa;}[_0x136916(0x600)](){const _0x4b46bf=_0x136916;let _0x2e4fcb={'width':0x0,'height':0x0};const _0x1dd274=this[_0x4b46bf(0x365)][_0x4b46bf(0x2c5)]();if(_0x1dd274[_0x4b46bf(0x3a9)]>0x0){const _0x19fe29=_0x1dd274[0x0][_0x4b46bf(0xfc)]();_0x19fe29['width']&&_0x19fe29[_0x4b46bf(0x259)]&&(_0x2e4fcb={'width':_0x19fe29[_0x4b46bf(0x310)],'height':_0x19fe29['height']});}return _0x2e4fcb;}}class _0x1bdc08 extends _0x3eb827{[_0x136916(0x5bf)];['priority']=_0x1095f4[_0x136916(0x19f)][_0x136916(0x3e1)];[_0x136916(0x76f)]=new Map();[_0x136916(0x319)]=new Map();constructor(_0x39853f,_0xb113b4,_0x586461,_0x3e0de9){const _0x3e9fab=_0x136916;super(_0x39853f,_0xb113b4,_0x586461 instanceof MediaStream?_0x586461:_0x586461['srcObject']?_0x586461[_0x3e9fab(0x29e)]:_0x586461[_0x3e9fab(0x347)]()),this[_0x3e9fab(0x5bf)]=_0x3e0de9,this['mediaStream'][_0x3e9fab(0x55b)]()[_0x3e9fab(0x1b3)](_0x447dc7=>this[_0x3e9fab(0x235)](_0x447dc7)),_0x148f53[_0x3e9fab(0x764)](_0x497fea['MediaStream'],{'type':'publish','label':this['label'],'nodeId':this[_0x3e9fab(0x342)][_0x3e9fab(0x716)](),'nodeType':this[_0x3e9fab(0x342)][_0x3e9fab(0x3fa)],'clusterId':this[_0x3e9fab(0x5bf)],'streamId':this[_0x3e9fab(0x6f1)](),'trackKinds':this['mediaStream']['getTracks']()[_0x3e9fab(0x774)](_0x1ec8c1=>_0x1ec8c1[_0x3e9fab(0x1b5)])});}[_0x136916(0x1ee)](){const _0x96e8ee=_0x136916;this[_0x96e8ee(0x319)][_0x96e8ee(0x216)]>0x0&&(this[_0x96e8ee(0x319)]['forEach'](_0x3e8204=>{_0x3e8204['unregisterSystemPublisher'](),_0x3e8204['destroy']();}),this[_0x96e8ee(0x319)][_0x96e8ee(0x5ef)]()),this[_0x96e8ee(0x76f)][_0x96e8ee(0x1b3)](_0x25699d=>_0x25699d()),super['destroy']();}[_0x136916(0x457)](_0x5e3c30){const _0x45e679=_0x136916;this[_0x45e679(0x74d)]['publish']({'sourceId':this[_0x45e679(0x342)][_0x45e679(0x716)](),'destinationIds':_0x5e3c30?[_0x5e3c30]:void 0x0,'propagate':!0x0,'messageType':_0x15f44c[_0x45e679(0x632)],'content':{'type':_0x46fb30[_0x45e679(0x63a)],'ownerId':this[_0x45e679(0x342)]['getId'](),'label':this[_0x45e679(0x369)],'stream':{'streamId':this[_0x45e679(0x6f1)](),'availableTrackKinds':this['mediaStream'][_0x45e679(0x55b)]()['map'](_0x1f8e1b=>_0x1f8e1b[_0x45e679(0x1b5)])}}});}[_0x136916(0x2ec)](){const _0x180f95=_0x136916;this['systemTopic'][_0x180f95(0x457)]({'sourceId':this['owner'][_0x180f95(0x716)](),'propagate':!0x0,'messageType':_0x15f44c[_0x180f95(0x632)],'content':{'type':_0x46fb30['UnpublishMediaStream'],'ownerId':this[_0x180f95(0x342)]['getId'](),'label':this[_0x180f95(0x369)]}}),this[_0x180f95(0x74d)]['publish']({'sourceId':_0x23eca1,'messageType':_0x15f44c['Content'],'content':{'type':_0x46fb30[_0x180f95(0x73f)],'label':this[_0x180f95(0x369)]}}),_0x148f53[_0x180f95(0x764)](_0x497fea[_0x180f95(0x48a)],{'type':'unpublish','label':this[_0x180f95(0x369)],'nodeId':this['owner']['getId'](),'nodeType':this[_0x180f95(0x342)]['type'],'clusterId':this[_0x180f95(0x5bf)],'streamId':this[_0x180f95(0x6f1)]()});}[_0x136916(0x2ae)](){const _0x53f00c=_0x136916;return this[_0x53f00c(0x69c)];}['setPriority'](_0x48865e){const _0x3d57b2=_0x136916;this[_0x3d57b2(0x69c)]=_0x48865e,this[_0x3d57b2(0x319)][_0x3d57b2(0x1b3)](_0x18f257=>_0x18f257[_0x3d57b2(0x692)](_0x48865e));}['getShareableStream'](_0xe8cf46,_0x1ce532){const _0x412503=_0x136916;if(!this['outgoingStreams'][_0x412503(0x2b3)](_0xe8cf46)){const _0x5d0264=new _0x1289aa(this['owner'],this[_0x412503(0x369)],this[_0x412503(0x365)],_0xe8cf46,_0x1ce532),_0x4af1cf=_0x5d0264[_0x412503(0x4ed)](()=>{const _0x8c8974=_0x412503;_0x4af1cf(),this['outgoingStreams'][_0x8c8974(0x2b0)](_0xe8cf46)?.['destroy'](),this[_0x8c8974(0x319)]['delete'](_0xe8cf46);});this[_0x412503(0x319)]['set'](_0xe8cf46,_0x5d0264),_0x5d0264[_0x412503(0x4cd)](this[_0x412503(0x74d)]);}return this[_0x412503(0x319)][_0x412503(0x2b0)](_0xe8cf46);}[_0x136916(0x4e3)](){const _0x129956=_0x136916;return this[_0x129956(0x365)]['id'];}['handleLocalTrackFailure'](_0x553787){const _0x1c943f=_0x136916;this[_0x1c943f(0x74d)][_0x1c943f(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c['Content'],'content':{'type':_0x46fb30['LocalMediaStreamTrackFail'],'label':this[_0x1c943f(0x369)],'trackKinds':[_0x553787['kind']]}});}[_0x136916(0x235)](_0x1776c6){const _0x65423e=_0x136916,_0x169453=()=>this[_0x65423e(0x510)](_0x1776c6);_0x1776c6[_0x65423e(0x1e3)](_0x65423e(0x397),_0x169453),_0x1776c6[_0x65423e(0x1e3)](_0x65423e(0x3d9),_0x169453),this[_0x65423e(0x76f)][_0x65423e(0x5ff)](_0x1776c6[_0x65423e(0x1b5)],()=>{const _0x1263f1=_0x65423e;_0x1776c6[_0x1263f1(0x23b)]('ended',_0x169453),_0x1776c6['removeEventListener'](_0x1263f1(0x3d9),_0x169453),this[_0x1263f1(0x76f)][_0x1263f1(0x21d)](_0x1776c6[_0x1263f1(0x1b5)]);});}}class _0x476d0d extends _0x1bdc08{['audioContext'];[_0x136916(0x50b)]=[];[_0x136916(0x311)];[_0x136916(0x5f2)];['audioDestination'];['sourceVideo'];[_0x136916(0x5d3)];['context'];[_0x136916(0x1f9)];constructor(_0xddd09a,_0xe2ac0a,_0x32e193,_0x31a1f8,_0x16ae1e,_0x3aadc2){const _0x3504d7=_0x136916;if(super(_0xddd09a,_0xe2ac0a,_0x32e193,_0x3aadc2),this[_0x3504d7(0x73a)]=_0x16ae1e,this[_0x3504d7(0x311)]=this['mediaStream'],this[_0x3504d7(0x685)]=document[_0x3504d7(0x4a1)](_0x3504d7(0x6dc)),this[_0x3504d7(0x685)][_0x3504d7(0x4d1)]=!0x0,this[_0x3504d7(0x685)][_0x3504d7(0x282)]=!0x0,this['sourceVideo'][_0x3504d7(0x29e)]=this['clientStream'],this['sourceVideo']['load'](),this[_0x3504d7(0x685)]['onloadeddata']=()=>{const _0x34a023=_0x3504d7;this[_0x34a023(0x685)][_0x34a023(0x5ea)]();},this[_0x3504d7(0x5d3)]=document['createElement'](_0x3504d7(0x5d3)),this[_0x3504d7(0x4c3)]=this[_0x3504d7(0x5d3)][_0x3504d7(0x700)]('2d'),this['mediaStream']=this[_0x3504d7(0x5d3)]['captureStream'](_0x31a1f8),this[_0x3504d7(0x6fe)]=this[_0x3504d7(0x73a)][_0x3504d7(0x645)](),this[_0x3504d7(0x311)][_0x3504d7(0x336)]()[_0x3504d7(0x3a9)]>0x0){const _0x3ace07=this['clientStream'][_0x3504d7(0x336)]()[0x0];this[_0x3504d7(0x5f2)]=this['audioContext'][_0x3504d7(0x3ff)](new MediaStream([_0x3ace07])),this['audioSource'][_0x3504d7(0x4e7)](this['audioDestination']);}const _0x573bca=this[_0x3504d7(0x6fe)]['stream'][_0x3504d7(0x55b)]()[0x0];this[_0x3504d7(0x365)][_0x3504d7(0x43f)](_0x573bca),this['interval']=setInterval(()=>{const _0x58eca2=_0x3504d7;this[_0x58eca2(0x5d3)][_0x58eca2(0x310)]=this['sourceVideo'][_0x58eca2(0x739)],this['canvas'][_0x58eca2(0x259)]=this['sourceVideo'][_0x58eca2(0x152)],this['sourceVideo'][_0x58eca2(0x739)]?(0x0!==this[_0x58eca2(0x311)][_0x58eca2(0x2c5)]()['length']&&this['clientStream'][_0x58eca2(0x2c5)]()[0x0][_0x58eca2(0x71c)]?this[_0x58eca2(0x365)][_0x58eca2(0x2c5)]()[0x0][_0x58eca2(0x71c)]=!0x0:this[_0x58eca2(0x365)][_0x58eca2(0x2c5)]()[0x0]['enabled']=!0x1,0x0!==this['clientStream'][_0x58eca2(0x336)]()[_0x58eca2(0x3a9)]&&this[_0x58eca2(0x311)]['getAudioTracks']()[0x0][_0x58eca2(0x71c)]?this[_0x58eca2(0x365)]['getAudioTracks']()[0x0][_0x58eca2(0x71c)]=!0x0:this[_0x58eca2(0x365)][_0x58eca2(0x336)]()[0x0][_0x58eca2(0x71c)]=!0x1,this['context']['drawImage'](this['sourceVideo'],0x0,0x0)):this['context'][_0x58eca2(0x325)](0x0,0x0,this[_0x58eca2(0x5d3)][_0x58eca2(0x310)],this[_0x58eca2(0x5d3)][_0x58eca2(0x259)]);},0x3e8/_0x31a1f8);}[_0x136916(0x1ee)](){const _0x49efb1=_0x136916;clearInterval(this[_0x49efb1(0x1f9)]),this[_0x49efb1(0x685)][_0x49efb1(0x22e)](),this[_0x49efb1(0x5d3)][_0x49efb1(0x22e)](),this['audioSource']?.[_0x49efb1(0x118)](),this['audioDestination']['disconnect'](),this[_0x49efb1(0x365)]['getTracks']()[_0x49efb1(0x1b3)](_0x3ef675=>{const _0x87ca33=_0x49efb1;_0x3ef675[_0x87ca33(0x4d0)](),this[_0x87ca33(0x365)]['removeTrack'](_0x3ef675);}),super[_0x49efb1(0x1ee)]();}[_0x136916(0x43f)](_0x4502c0){const _0x2df1b0=_0x136916,_0x44b8b8=this[_0x2df1b0(0x6aa)](_0x4502c0[_0x2df1b0(0x1b5)]);_0x44b8b8&&this[_0x2df1b0(0x698)](_0x44b8b8),_0x2df1b0(0x1b1)!==_0x4502c0[_0x2df1b0(0x1b5)]?(_0x2df1b0(0x6dc)===_0x4502c0[_0x2df1b0(0x1b5)]&&this[_0x2df1b0(0x76c)](_0x4502c0),this['setupTrackEndedListeners'](_0x4502c0)):this[_0x2df1b0(0x469)](_0x4502c0);}['removeTrack'](_0xb9af0a){const _0x512360=_0x136916,_0x30a281=this['getTrackFromParam'](_0xb9af0a);return _0x30a281&&('audio'===_0x30a281[_0x512360(0x1b5)]&&(this[_0x512360(0x5f2)]?.[_0x512360(0x118)](),this[_0x512360(0x5f2)]=void 0x0),this[_0x512360(0x76f)]['get'](_0x30a281['kind'])?.(),this[_0x512360(0x311)][_0x512360(0x698)](_0x30a281)),_0x30a281;}[_0x136916(0x15e)](_0x513aa1){const _0x4fa698=_0x136916;this['removeTrack'](_0x513aa1[_0x4fa698(0x1b5)]),this[_0x4fa698(0x43f)](_0x513aa1);}[_0x136916(0x730)](_0x216cb8){const _0xbd3a69=_0x136916;this[_0xbd3a69(0x50b)]=_0x216cb8;}[_0x136916(0x6aa)](_0x52239d){const _0x531f25=_0x136916;return this['clientStream'][_0x531f25(0x55b)]()[_0x531f25(0x21f)](_0x3228a4=>_0x3228a4[_0x531f25(0x1b5)]===_0x52239d)||null;}[_0x136916(0x47e)](_0x56792b){const _0x4bcb82=_0x136916;return'string'==typeof _0x56792b?this[_0x4bcb82(0x6aa)](_0x56792b):_0x56792b;}['addAudioTrack'](_0x189dcd){const _0x539909=_0x136916;_0x539909(0x641)===this[_0x539909(0x73a)][_0x539909(0x5ec)]&&this[_0x539909(0x73a)]['resume'](),this[_0x539909(0x311)][_0x539909(0x43f)](_0x189dcd),this[_0x539909(0x5f2)]=this[_0x539909(0x73a)][_0x539909(0x3ff)](this[_0x539909(0x311)]),this[_0x539909(0x5f2)][_0x539909(0x4e7)](this['audioDestination']);}['addVideoTrack'](_0x20e55e){const _0x525c6f=_0x136916;this[_0x525c6f(0x311)][_0x525c6f(0x43f)](_0x20e55e),this[_0x525c6f(0x685)][_0x525c6f(0x4e6)]();}}class _0x3a5d9a extends _0x1bdc08{}class _0x417199 extends _0x1b8e4a{['localNode'];[_0x136916(0x5bf)];[_0x136916(0x180)];[_0x136916(0x3e0)];[_0x136916(0x3bc)];[_0x136916(0x449)];[_0x136916(0x1ed)]=new Map();[_0x136916(0x705)]=new Map();[_0x136916(0x571)]=new Map();[_0x136916(0x11a)]=new Map();['pendingFilesRename']=new Map();['objectStoreConnector'];[_0x136916(0x11b)]=_0x2f84d1();[_0x136916(0x373)];[_0x136916(0x6ea)];['writes']=0x0;[_0x136916(0x223)]=0x0;[_0x136916(0x4ee)]=!0x1;[_0x136916(0x661)]=!0x0;constructor(_0x42a32e,_0x2055ef,_0xd24636,_0x5d89a1,_0xfc5e9d,_0x5edb07){const _0x3e1d9f=_0x136916;if(_0x3e1d9f(0x112)!=typeof _0x2055ef)throw new _0x4b5cf3(_0x235d31[_0x3e1d9f(0x6c0)],_0x3e1d9f(0x207));super(_0x42a32e,_0x2055ef),this[_0x3e1d9f(0x395)]=_0x42a32e,this[_0x3e1d9f(0x5bf)]=_0xd24636,this[_0x3e1d9f(0x180)]=_0x5d89a1,this[_0x3e1d9f(0x3e0)]=_0xfc5e9d;const _0x3713e6=_0x3e1d9f(0x596)+this[_0x3e1d9f(0x180)]+'ccc'+this[_0x3e1d9f(0x5bf)]+_0x3e1d9f(0x596)+_0x2055ef;this['objectStoreConnector']=new _0x5edb07(_0x3713e6),this['sendStats']();}['reset'](){const _0x2ad7d4=_0x136916;this[_0x2ad7d4(0x726)]();}[_0x136916(0x51b)](){const _0x460942=_0x136916;return _0x1095f4[_0x460942(0x2fd)][_0x460942(0x6ce)];}async[_0x136916(0x530)](_0xb89e3c){const _0x30f84d=_0x136916;_0xb89e3c&&(this['syncContent']=_0xb89e3c),this[_0x30f84d(0x661)]=!0x0;try{const _0x1250e7=await this['objectStoreConnector'][_0x30f84d(0x2b0)](_0xb0add0),_0x13032a=await _0x1250e7[_0x30f84d(0x575)]();this[_0x30f84d(0x449)]=_0x13032a;}catch(_0x13e2dd){}this[_0x30f84d(0x3bc)]=this['onMessage'](async(_0x5410aa,_0x592be2)=>{const _0x11bc90=_0x30f84d;if(!(_0x592be2 instanceof File))try{if(_0x592be2[_0x11bc90(0x57a)]===_0x3ac32e['Request'])return void this[_0x11bc90(0x17a)](_0x592be2);this[_0x11bc90(0x4de)](_0x592be2);}catch(_0x2c02dd){if(_0x2c02dd instanceof _0x2fb975)throw _0x2c02dd;throw new _0x2fb975(_0x2fb975[_0x11bc90(0x516)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x592be2});}}),await this[_0x30f84d(0x448)](),_0xb89e3c?await this[_0x30f84d(0x399)]():this['completeSync'](),this[_0x30f84d(0x726)]();}['destroy'](){const _0x5d8037=_0x136916;this[_0x5d8037(0x3bc)]?.(),clearTimeout(this[_0x5d8037(0x6ea)]),delete this[_0x5d8037(0x6ea)],super[_0x5d8037(0x1ee)]();}[_0x136916(0x348)](){const _0x28cc2e=_0x136916;this[_0x28cc2e(0x74d)]?.[_0x28cc2e(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x28cc2e(0x632)],'content':{'type':_0x46fb30[_0x28cc2e(0x3d3)],'label':this[_0x28cc2e(0x369)]}});}[_0x136916(0x67e)](_0x405dd5){const _0x1dface=_0x136916;if(this[_0x1dface(0x373)])throw new _0x4b5cf3(_0x235d31[_0x1dface(0x4a6)],'Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed');this['listenerUnsubscriber']=this[_0x1dface(0x11b)]['subscribe'](_0x405dd5),this[_0x1dface(0x661)]||this['eventListener'][_0x1dface(0x457)]({'event':_0x1095f4[_0x1dface(0x747)]['SyncComplete'],'payload':null});}[_0x136916(0xef)](){const _0x1ee113=_0x136916;this[_0x1ee113(0x373)]?.(),this[_0x1ee113(0x373)]=void 0x0;}[_0x136916(0x457)](_0x49917c){const _0x3bbcb0=_0x136916;switch(_0x49917c[_0x3bbcb0(0x733)]){case _0x1095f4[_0x3bbcb0(0x4b6)][_0x3bbcb0(0x14f)]:return this['publishFile'](_0x49917c['file'],_0x49917c['path'],_0x49917c[_0x3bbcb0(0x704)]);case _0x1095f4['PayloadAction']['Folder']:return this[_0x3bbcb0(0x378)](_0x49917c['path']);case _0x1095f4[_0x3bbcb0(0x4b6)][_0x3bbcb0(0xf8)]:return this[_0x3bbcb0(0x12b)](_0x49917c[_0x3bbcb0(0x541)],_0x49917c[_0x3bbcb0(0x277)]);default:throw new _0x4b5cf3(_0x235d31[_0x3bbcb0(0x2df)],_0x3bbcb0(0x567)+_0x49917c);}}async[_0x136916(0x2ec)](_0x3192f7){const _0x4bfa35=_0x136916;try{const _0x50cb99=(0x0,_0x53bfff['v4'])(),_0x511f42=this['lastTransactionId'],_0x34d547={'payloadType':_0x3ac32e['Transaction'],'action':_0x2fa8c5[_0x4bfa35(0x115)],'id':_0x50cb99,'parentId':_0x511f42,'path':_0x3192f7};await this['publishTransaction'](_0x34d547);const _0x140c10=await this[_0x4bfa35(0x509)](_0x3192f7);await this[_0x4bfa35(0x695)](_0x34d547),_0x148f53[_0x4bfa35(0x764)](_0x497fea['ObjectStorage'],{'type':'unpublish','label':this[_0x4bfa35(0x369)],'nodeId':this[_0x4bfa35(0x395)][_0x4bfa35(0x716)](),'nodeType':this[_0x4bfa35(0x395)][_0x4bfa35(0x3fa)],'clusterId':this[_0x4bfa35(0x5bf)],'kind':_0x140c10,'path':_0x3192f7}),this[_0x4bfa35(0x442)]+=0x1,this[_0x4bfa35(0x726)]();}catch(_0x440f9e){if(_0x440f9e instanceof _0x2fb975)throw new _0x4b5cf3(_0x235d31[_0x4bfa35(0x233)],_0x4bfa35(0x584));throw new _0x4b5cf3(_0x235d31['ObjectStoreInvalidPath'],_0x4bfa35(0x519)+_0x3192f7);}}async[_0x136916(0x2b0)](_0x36d573){const _0x188677=_0x136916;_0x148f53[_0x188677(0x764)](_0x497fea['ObjectStorage'],{'type':_0x188677(0x2b0),'label':this[_0x188677(0x369)],'nodeId':this[_0x188677(0x395)][_0x188677(0x716)](),'nodeType':this[_0x188677(0x395)][_0x188677(0x3fa)],'clusterId':this[_0x188677(0x5bf)],'path':_0x36d573}),this[_0x188677(0x223)]+=0x1,this[_0x188677(0x726)]();try{return await this[_0x188677(0x3f7)]['get'](_0x36d573);}catch(_0x4157fe){try{await this[_0x188677(0x3f7)]['get'](_0x36d573+_0x3ca651);}catch(_0x2141e5){throw new _0x4b5cf3(_0x235d31[_0x188677(0x6d1)],_0x188677(0x13c)+_0x36d573);}throw new _0x4b5cf3(_0x235d31[_0x188677(0x233)],_0x188677(0x47d));}}async[_0x136916(0x23f)](_0x173392,_0x24bebd){const _0xcc36af=_0x136916,{recursive:_0x4af0f8=!0x1,includeSyncingFiles:_0xacfaec=!0x1}=_0x24bebd??{};_0x148f53['logServiceEvent'](_0x497fea[_0xcc36af(0x32e)],{'type':_0xcc36af(0x23f),'label':this[_0xcc36af(0x369)],'nodeId':this[_0xcc36af(0x395)][_0xcc36af(0x716)](),'nodeType':this[_0xcc36af(0x395)][_0xcc36af(0x3fa)],'clusterId':this[_0xcc36af(0x5bf)],'path':_0x173392}),this['reads']+=0x1,this['sendStats']();try{const _0x28b25b=await this[_0xcc36af(0x3f7)][_0xcc36af(0x23f)](_0x173392,_0x4af0f8);return this[_0xcc36af(0x32c)](_0x28b25b,{'recursive':_0x4af0f8,'includeSyncingFiles':_0xacfaec});}catch(_0xd8c87d){throw new _0x4b5cf3(_0x235d31[_0xcc36af(0x6d1)],_0xcc36af(0x776)+_0x173392);}}[_0x136916(0x2f9)](_0x56d230){const _0x4fa84d=_0x136916;for(const _0x478353 of this[_0x4fa84d(0x705)][_0x4fa84d(0x26f)]())this[_0x4fa84d(0x695)](_0x478353,[_0x56d230]);}[_0x136916(0x59e)](_0xecc8ce){const _0x2d6a63=_0x136916,_0x5d852e=this[_0x2d6a63(0x571)]['get'](_0xecc8ce);if(_0x5d852e){for(const [_0x3731e3,_0x2d7862]of _0x5d852e[_0x2d6a63(0x26f)]())this[_0x2d6a63(0x187)](_0x3731e3,_0x2d7862);this[_0x2d6a63(0x571)]['delete'](_0xecc8ce);}}async[_0x136916(0x6f2)](_0x4e2651='/'){const _0x588814=_0x136916;try{return await this[_0x588814(0x3f7)][_0x588814(0x386)](_0x4e2651);}catch(_0x1bc30a){if(_0x1bc30a instanceof Error&&_0x1bc30a[_0x588814(0x286)][_0x588814(0x232)](_0x588814(0x5ed)))return 0x0;throw new _0x4b5cf3(_0x235d31[_0x588814(0x6d1)],'Cannot\x20get\x20size\x20of\x20path:\x20'+_0x4e2651);}}['completeSync'](){const _0xc7990=_0x136916;this[_0xc7990(0x661)]&&(this[_0xc7990(0x661)]=!0x1,this['eventListener'][_0xc7990(0x457)]({'event':_0x1095f4[_0xc7990(0x747)][_0xc7990(0x753)],'payload':null}));}async[_0x136916(0x32c)](_0x189e93,{includeSyncingFiles:_0x2dcb5d=!0x1}){const _0x339d3f=_0x136916;for(const _0x28aae8 of _0x189e93)if(_0x28aae8[_0x339d3f(0x1b5)]===_0x1095f4[_0x339d3f(0x5b2)][_0x339d3f(0xf4)]&&(_0x28aae8[_0x339d3f(0x375)]=await this['processList'](_0x28aae8[_0x339d3f(0x375)]??[],{'includeSyncingFiles':_0x2dcb5d})),_0x28aae8[_0x339d3f(0x414)]!==_0xb0add0){if(_0x28aae8[_0x339d3f(0x414)][_0x339d3f(0x2dd)](_0x3ca651)){if(!_0x2dcb5d){_0x189e93[_0x339d3f(0x3cd)](_0x189e93[_0x339d3f(0x264)](_0x28aae8),0x1);continue;}const _0x314e6a=_0x28aae8;if(_0x314e6a['name']=_0x314e6a[_0x339d3f(0x414)]['replace'](_0x3ca651,''),_0x314e6a[_0x339d3f(0x239)]=_0x314e6a[_0x339d3f(0x414)][_0x339d3f(0x177)](_0x3ca651,''),await this[_0x339d3f(0x513)](_0x314e6a[_0x339d3f(0x239)])){_0x189e93['splice'](_0x189e93[_0x339d3f(0x264)](_0x28aae8),0x1),_0x189e93[_0x339d3f(0x21f)](_0x55558b=>_0x55558b[_0x339d3f(0x239)]===_0x314e6a['pathName'])[_0x339d3f(0x4f1)]=_0x1095f4[_0x339d3f(0x653)]['Syncing'];continue;}_0x314e6a[_0x339d3f(0x4f1)]=_0x1095f4[_0x339d3f(0x653)][_0x339d3f(0xf5)];}}else _0x189e93[_0x339d3f(0x3cd)](_0x189e93[_0x339d3f(0x264)](_0x28aae8),0x1);return _0x189e93;}async[_0x136916(0x737)](_0x2a910b,_0x28d8aa,_0x1197a1=!0x1){const _0x2430b5=_0x136916;try{const _0x114844=(0x0,_0x53bfff['v4'])(),_0x358ad9=await _0x5e9ab6(_0x2a910b),_0x1804f9={'payloadType':_0x3ac32e['Transaction'],'action':_0x2fa8c5['FileWrite'],'id':_0x114844,'parentId':this[_0x2430b5(0x449)],'answererId':this[_0x2430b5(0x395)][_0x2430b5(0x716)](),'name':_0x2a910b['name'],'type':_0x2a910b['type'],'path':_0x28d8aa??'/','skipEncryption':_0x1197a1,'checksum':_0x358ad9};await this[_0x2430b5(0x110)](_0x1804f9),this[_0x2430b5(0x4ee)]?await this[_0x2430b5(0x12f)](_0x2a910b,_0x28d8aa,_0x1197a1):await this[_0x2430b5(0x4b8)](_0x2a910b[_0x2430b5(0x414)],_0x28d8aa??'/',{'checksum':_0x358ad9,'skipEncryption':_0x1197a1}),await this[_0x2430b5(0x70e)](_0x2a910b,_0x1804f9),_0x148f53['logServiceEvent'](_0x497fea[_0x2430b5(0x32e)],{'type':_0x2430b5(0x457),'label':this[_0x2430b5(0x369)],'nodeId':this[_0x2430b5(0x395)][_0x2430b5(0x716)](),'nodeType':this['localNode'][_0x2430b5(0x3fa)],'clusterId':this[_0x2430b5(0x5bf)],'kind':_0x1095f4[_0x2430b5(0x5b2)]['File'],'path':_0x28d8aa,'fileName':_0x2a910b[_0x2430b5(0x414)],'fileType':_0x2a910b['type'],'size':_0x2a910b[_0x2430b5(0x216)]}),this[_0x2430b5(0x442)]+=0x1,this[_0x2430b5(0x726)]();}catch(_0x405304){if(_0x405304 instanceof _0x2fb975)throw new _0x4b5cf3(_0x235d31[_0x2430b5(0x233)],_0x2430b5(0x47d));throw new _0x4b5cf3(_0x235d31[_0x2430b5(0x6d1)],_0x2430b5(0x315)+_0x28d8aa);}}async[_0x136916(0x378)](_0x14a65d){const _0x13fdc5=_0x136916;try{const _0x4f033e=(0x0,_0x53bfff['v4'])(),_0x46d70e=this[_0x13fdc5(0x449)],_0x43a3d2={'payloadType':_0x3ac32e[_0x13fdc5(0x4b5)],'action':_0x2fa8c5['FolderCreate'],'id':_0x4f033e,'parentId':_0x46d70e,'path':_0x14a65d};await this['publishTransaction'](_0x43a3d2),await this['objectStoreConnector'][_0x13fdc5(0x772)](_0x14a65d),await this[_0x13fdc5(0x695)](_0x43a3d2),_0x148f53[_0x13fdc5(0x764)](_0x497fea[_0x13fdc5(0x32e)],{'type':'publish','label':this[_0x13fdc5(0x369)],'nodeId':this[_0x13fdc5(0x395)][_0x13fdc5(0x716)](),'nodeType':this['localNode'][_0x13fdc5(0x3fa)],'clusterId':this[_0x13fdc5(0x5bf)],'kind':_0x1095f4[_0x13fdc5(0x5b2)][_0x13fdc5(0xf4)],'path':_0x14a65d}),this[_0x13fdc5(0x442)]+=0x1,this['sendStats']();}catch(_0x1aa557){if(_0x1aa557 instanceof _0x2fb975)throw new _0x4b5cf3(_0x235d31[_0x13fdc5(0x233)],_0x13fdc5(0x47d));throw new _0x4b5cf3(_0x235d31[_0x13fdc5(0x6d1)],_0x13fdc5(0x55a)+_0x14a65d);}}async[_0x136916(0x12b)](_0x12fe9a,_0x5adad1){const _0x216984=_0x136916;try{const _0x2b669a=(0x0,_0x53bfff['v4'])(),_0x27d831=this[_0x216984(0x449)],_0x41c9c3={'payloadType':_0x3ac32e['Transaction'],'action':_0x2fa8c5[_0x216984(0xf8)],'id':_0x2b669a,'parentId':_0x27d831,'path':_0x12fe9a,'newPath':_0x5adad1};await this[_0x216984(0x110)](_0x41c9c3);const _0x44fe2e=await this[_0x216984(0x778)](_0x12fe9a,_0x5adad1);await this[_0x216984(0x695)](_0x41c9c3),_0x148f53[_0x216984(0x764)](_0x497fea[_0x216984(0x32e)],{'type':_0x216984(0x15b),'label':this[_0x216984(0x369)],'nodeId':this[_0x216984(0x395)][_0x216984(0x716)](),'nodeType':this['localNode'][_0x216984(0x3fa)],'clusterId':this['clusterId'],'kind':_0x44fe2e,'path':_0x12fe9a,'newPath':_0x5adad1}),this[_0x216984(0x442)]+=0x1,this['sendStats']();}catch(_0x239ba5){if(_0x239ba5 instanceof _0x2fb975)throw new _0x4b5cf3(_0x235d31[_0x216984(0x233)],'Object\x20store\x20is\x20not\x20in\x20sync');throw new _0x4b5cf3(_0x235d31[_0x216984(0x6d1)],_0x216984(0x225)+_0x12fe9a);}}async[_0x136916(0x4de)](_0x247b01,_0x4faef0=!0x1){const _0x350015=_0x136916;if(this[_0x350015(0x449)]&&_0x247b01[_0x350015(0x529)]!==this['lastTransactionId']&&_0x247b01['id']!==this[_0x350015(0x449)]){if(!_0x247b01[_0x350015(0x529)])throw new _0x2fb975(_0x2fb975[_0x350015(0x516)]['ObjectStoreInvalidSyncMessage']);this['pendingSyncTransactions'][_0x350015(0x5ff)](_0x247b01[_0x350015(0x529)],_0x247b01);}else{try{await this[_0x350015(0x30e)](_0x247b01,_0x4faef0);}catch(_0x18a01c){}await this[_0x350015(0x66e)](_0x247b01['id']),await this[_0x350015(0x3f0)](_0x247b01['id'],_0x4faef0);}}async['processTransactionPayload'](_0x1d1b55,_0x443498=!0x1){const _0x7aa64c=_0x136916;switch(_0x1d1b55[_0x7aa64c(0x733)]){case _0x2fa8c5['FileWrite']:await this[_0x7aa64c(0x31b)](_0x1d1b55);break;case _0x2fa8c5[_0x7aa64c(0x109)]:await this[_0x7aa64c(0x766)](_0x1d1b55);break;case _0x2fa8c5[_0x7aa64c(0xf8)]:await this['handleObjectMove'](_0x1d1b55,_0x443498);break;case _0x2fa8c5[_0x7aa64c(0x115)]:await this[_0x7aa64c(0x3a6)](_0x1d1b55,_0x443498);break;default:throw new _0x2fb975(_0x2fb975['codes']['ObjectStoreInvalidSyncMessage'],{'payload':_0x1d1b55});}}async[_0x136916(0x3f0)](_0xd1d325,_0x2d28a5=!0x1){const _0x4e28df=_0x136916;if(this[_0x4e28df(0x1ed)][_0x4e28df(0x2b3)](_0xd1d325)){const _0x96ef6a=this[_0x4e28df(0x1ed)]['get'](_0xd1d325);this[_0x4e28df(0x1ed)][_0x4e28df(0x21d)](_0xd1d325),await this[_0x4e28df(0x4de)](_0x96ef6a,_0x2d28a5);}}async[_0x136916(0x17a)](_0x37eb26){const _0x4d4c00=_0x136916;switch(_0x37eb26[_0x4d4c00(0x733)]){case _0x2fa8c5['RequestFile']:return this[_0x4d4c00(0x463)](_0x37eb26);case _0x2fa8c5['RequestAccepted']:return this[_0x4d4c00(0x148)](_0x37eb26);case _0x2fa8c5['RequestFileSync']:return this['handleFileSync'](_0x37eb26);case _0x2fa8c5['RequestFileWrite']:return this[_0x4d4c00(0x31b)](_0x37eb26);default:throw new _0x2fb975(_0x2fb975[_0x4d4c00(0x516)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x37eb26});}}async[_0x136916(0x31b)](_0x246c29){const _0x37d05f=_0x136916;if(!_0x246c29[_0x37d05f(0x757)]||void 0x0===_0x246c29['index']||!_0x246c29[_0x37d05f(0x376)])return void await this[_0x37d05f(0x4b8)](_0x246c29['name'],_0x246c29[_0x37d05f(0x541)],{'checksum':_0x246c29['checksum'],'skipEncryption':_0x246c29[_0x37d05f(0x704)]});const _0x3c1878=_0x52efa3(_0x246c29[_0x37d05f(0x541)],_0x246c29[_0x37d05f(0x414)]);this['fileChunks']['has'](_0x3c1878)||(this[_0x37d05f(0x161)]['set'](_0x3c1878,[]),await this[_0x37d05f(0x4b8)](_0x246c29['name'],_0x246c29[_0x37d05f(0x541)],{'checksum':_0x246c29['checksum'],'skipEncryption':_0x246c29[_0x37d05f(0x704)]})),this['setPendingFileSyncingPayload'](_0x246c29,_0x3c1878);const _0x1bd922=this[_0x37d05f(0x161)][_0x37d05f(0x2b0)](_0x3c1878);if(_0x1bd922[_0x246c29['index']]=_0x246c29[_0x37d05f(0x757)],_0x1bd922['filter'](_0x348d96=>_0x348d96)[_0x37d05f(0x3a9)]<_0x246c29['total'])return;const _0x29fb3c=_0x4cd4ad(_0x1bd922,_0x246c29[_0x37d05f(0x414)],_0x246c29['type']);this[_0x37d05f(0x4ee)]&&(await this['writeFile'](_0x29fb3c,_0x246c29[_0x37d05f(0x541)],_0x246c29[_0x37d05f(0x704)]),await this['deletePendingFile'](_0x246c29),_0x148f53[_0x37d05f(0x764)](_0x497fea[_0x37d05f(0x32e)],{'type':'sync','label':this['label'],'nodeId':this[_0x37d05f(0x395)][_0x37d05f(0x716)](),'nodeType':this[_0x37d05f(0x395)][_0x37d05f(0x3fa)],'clusterId':this[_0x37d05f(0x5bf)],'kind':_0x1095f4[_0x37d05f(0x5b2)]['File'],'path':_0x246c29[_0x37d05f(0x541)],'fileName':_0x246c29['name'],'fileType':_0x246c29[_0x37d05f(0x3fa)],'size':_0x29fb3c[_0x37d05f(0x216)]})),this[_0x37d05f(0x161)][_0x37d05f(0x21d)](_0x3c1878);const _0x766b7c=this[_0x37d05f(0x11a)]['get'](_0x246c29[_0x37d05f(0x541)])??[];for(const _0x4dc5c5 of _0x766b7c)await this[_0x37d05f(0x30e)](_0x4dc5c5);this[_0x37d05f(0x11a)][_0x37d05f(0x21d)](_0x246c29['path']),this[_0x37d05f(0x11b)][_0x37d05f(0x457)]({'event':_0x1095f4[_0x37d05f(0x747)]['FileWrite'],'payload':{'file':{'kind':_0x1095f4[_0x37d05f(0x5b2)][_0x37d05f(0x14f)],'path':_0x246c29[_0x37d05f(0x541)],'type':_0x29fb3c[_0x37d05f(0x3fa)],'size':_0x29fb3c[_0x37d05f(0x216)],'name':_0x246c29[_0x37d05f(0x414)],'pathName':_0x3c1878,'status':_0x1095f4['FileStatus'][_0x37d05f(0x2ef)]}}});}async[_0x136916(0x766)](_0x540525){const _0xa3915c=_0x136916;await this['objectStoreConnector'][_0xa3915c(0x772)](_0x540525[_0xa3915c(0x541)]);const [_0x98d9ce,_0x4a48b0]=_0x4c979b(_0x540525[_0xa3915c(0x541)]);this['eventListener'][_0xa3915c(0x457)]({'event':_0x1095f4[_0xa3915c(0x747)][_0xa3915c(0x109)],'payload':{'folder':{'kind':_0x1095f4[_0xa3915c(0x5b2)][_0xa3915c(0xf4)],'name':_0x4a48b0,'path':_0x98d9ce,'pathName':_0x540525[_0xa3915c(0x541)]}}});}async[_0x136916(0x3a6)](_0xd35331,_0x5d9c6=!0x1){const _0x56803d=_0x136916;if(!_0x5d9c6&&!this[_0x56803d(0x458)](_0xd35331))return;const _0x2431a2=await this['deleteObject'](_0xd35331[_0x56803d(0x541)]),[_0x1cec4d,_0x5fd321]=_0x4c979b(_0xd35331[_0x56803d(0x541)]);this[_0x56803d(0x11b)][_0x56803d(0x457)]({'event':_0x2431a2===_0x1095f4[_0x56803d(0x5b2)][_0x56803d(0xf4)]?_0x1095f4[_0x56803d(0x747)][_0x56803d(0x363)]:_0x1095f4[_0x56803d(0x747)][_0x56803d(0x312)],'payload':{'name':_0x5fd321,'path':_0x1cec4d,'pathName':_0xd35331[_0x56803d(0x541)]}});}async[_0x136916(0x106)](_0x20d362,_0x134fbd=!0x1){const _0x4ae36f=_0x136916;if(!_0x134fbd&&!this[_0x4ae36f(0x458)](_0x20d362))return this[_0x4ae36f(0x6f8)]['set'](_0x20d362[_0x4ae36f(0x277)],this['pendingFilesRename'][_0x4ae36f(0x2b0)](_0x20d362[_0x4ae36f(0x541)])??_0x20d362[_0x4ae36f(0x541)]),void this[_0x4ae36f(0x6f8)][_0x4ae36f(0x21d)](_0x20d362[_0x4ae36f(0x541)]);this['pendingFilesRename'][_0x4ae36f(0x21d)](_0x20d362[_0x4ae36f(0x541)]);const _0x6fdf12=await this[_0x4ae36f(0x3f7)]['moveObject'](_0x20d362[_0x4ae36f(0x541)],_0x20d362[_0x4ae36f(0x277)]),[_0xe2ce25,_0x1ba713]=_0x4c979b(_0x20d362[_0x4ae36f(0x541)]),[_0x3b4896,_0x572f60]=_0x4c979b(_0x20d362[_0x4ae36f(0x277)]);this[_0x4ae36f(0x11b)][_0x4ae36f(0x457)]({'event':_0x6fdf12===_0x1095f4[_0x4ae36f(0x5b2)][_0x4ae36f(0xf4)]?_0x1095f4[_0x4ae36f(0x747)][_0x4ae36f(0x303)]:_0x1095f4[_0x4ae36f(0x747)][_0x4ae36f(0x6b0)],'payload':{'name':_0x572f60,'path':_0x3b4896,'pathName':_0x20d362['newPath'],'oldName':_0x1ba713,'oldPath':_0xe2ce25,'oldPathName':_0x20d362[_0x4ae36f(0x541)]}});}[_0x136916(0x458)](_0x56f37d){const _0x4c1c62=_0x136916,_0x4a84c1=this[_0x4c1c62(0x6f8)][_0x4c1c62(0x2b0)](_0x56f37d['path'])??_0x56f37d['path'];let _0x11a479=!0x1;for(const _0x590b36 of this[_0x4c1c62(0x161)][_0x4c1c62(0x447)]())if(_0x590b36[_0x4c1c62(0x5a5)](_0x4a84c1)){const _0x40cf06=this[_0x4c1c62(0x11a)]['get'](_0x590b36)??[];_0x40cf06[_0x4c1c62(0x5ac)](_0x56f37d),this['pendingFilesTransactions']['set'](_0x590b36,_0x40cf06),_0x11a479=!0x0;}return!_0x11a479;}async[_0x136916(0x110)](_0x2a850a){const _0x247c45=_0x136916;if(!_0x2a850a['id'])throw new _0x2fb975(_0x2fb975[_0x247c45(0x516)][_0x247c45(0x491)],{'message':_0x247c45(0x5de)});await this[_0x247c45(0x3e0)][_0x247c45(0x499)](_0x2a850a,this[_0x247c45(0x369)],this[_0x247c45(0x449)]),await this[_0x247c45(0x66e)](_0x2a850a['id']);}async[_0x136916(0x66e)](_0x34072){const _0x44ff7b=_0x136916;this[_0x44ff7b(0x449)]=_0x34072;const _0x4f4eb4=new File([new Blob([this[_0x44ff7b(0x449)]])],_0xb0add0,{'type':_0x44ff7b(0x332)});await this[_0x44ff7b(0x12f)](_0x4f4eb4,'/');}async[_0x136916(0x463)](_0x365abf){const _0x5e9570=_0x136916;try{const _0x1f84d9=await this[_0x5e9570(0x2b0)](_0x365abf['path']+'/'+_0x365abf[_0x5e9570(0x414)]);if(await _0x5e9ab6(_0x1f84d9)!==_0x365abf['checksum'])return;_0x365abf[_0x5e9570(0x261)]=this['localNode']['getId'](),_0x365abf[_0x5e9570(0x733)]=_0x2fa8c5[_0x5e9570(0x701)],await this[_0x5e9570(0x695)](_0x365abf,[_0x365abf[_0x5e9570(0xf1)]]);}catch(_0x560aee){}}async[_0x136916(0x148)](_0x1c4cd1){const _0x5cccd5=_0x136916,_0x5bc585=_0x52efa3(_0x1c4cd1[_0x5cccd5(0x541)],_0x1c4cd1['name']);if(!this['objectRequests'][_0x5cccd5(0x2b3)](_0x5bc585))return;const _0x1cf10c=this[_0x5cccd5(0x705)][_0x5cccd5(0x2b0)](_0x5bc585);_0x1cf10c[_0x5cccd5(0x733)]=_0x2fa8c5['RequestFileSync'];const _0x2f4e49=_0x1c4cd1['answererId'];if(!_0x2f4e49)throw new _0x2fb975(_0x2fb975[_0x5cccd5(0x516)][_0x5cccd5(0x491)],{'message':_0x5cccd5(0x420)});this['objectRequests']['delete'](_0x5bc585),this[_0x5cccd5(0x571)][_0x5cccd5(0x2b3)](_0x2f4e49)||this[_0x5cccd5(0x571)][_0x5cccd5(0x5ff)](_0x2f4e49,new Map()),this[_0x5cccd5(0x571)][_0x5cccd5(0x2b0)](_0x2f4e49)[_0x5cccd5(0x5ff)](_0x5bc585,[_0x1cf10c,this[_0x5cccd5(0x6eb)](_0x2f4e49,_0x5bc585)]),_0x1cf10c[_0x5cccd5(0x261)]=_0x2f4e49,this['send'](_0x1cf10c,[_0x2f4e49]);}async[_0x136916(0x3b7)](_0x26ec78){const _0x186580=_0x136916,_0x186b0f=_0x52efa3(_0x26ec78[_0x186580(0x541)],_0x26ec78[_0x186580(0x414)]),_0x36a8ec=await this[_0x186580(0x2b0)](_0x186b0f),_0x13ca03={..._0x26ec78,'answererId':this[_0x186580(0x395)][_0x186580(0x716)](),'action':_0x2fa8c5[_0x186580(0x648)]};await this[_0x186580(0x70e)](_0x36a8ec,_0x13ca03,[_0x26ec78['sourceId']]);}async['sendFile'](_0x4c3daa,_0x4bf025,_0x18471a){const _0x2839ae=_0x136916,_0x3bf02d=await _0xcd4d55(_0x4c3daa);for(const [_0x333adb,_0x56970d]of _0x3bf02d[_0x2839ae(0x375)]()){const _0x1f4166={..._0x4bf025,'type':_0x4c3daa[_0x2839ae(0x3fa)],'data':_0x56970d,'index':_0x333adb,'total':_0x3bf02d[_0x2839ae(0x3a9)]};this[_0x2839ae(0x695)](_0x1f4166,_0x18471a);}}async[_0x136916(0x411)](_0xa38d8f){const _0xff7b2a=_0x136916;try{const _0xa746ce=_0x52efa3(_0xa38d8f[_0xff7b2a(0x541)],_0xa38d8f[_0xff7b2a(0x414)]),_0x5486ec=_0xa746ce+_0x3ca651;await this['deleteObject'](_0x5486ec);const [,_0x5d8a47]=this[_0xff7b2a(0x571)]['get'](_0xa38d8f[_0xff7b2a(0x261)])?.[_0xff7b2a(0x2b0)](_0xa746ce)??[];_0x5d8a47&&(clearTimeout(_0x5d8a47),this[_0xff7b2a(0x571)][_0xff7b2a(0x2b0)](_0xa38d8f['answererId'])[_0xff7b2a(0x21d)](_0xa746ce));}catch(_0x5ccb23){}0x0===this[_0xff7b2a(0x571)][_0xff7b2a(0x2b0)](_0xa38d8f[_0xff7b2a(0x261)])?.[_0xff7b2a(0x216)]&&this['pendingFilesSyncing']['delete'](_0xa38d8f[_0xff7b2a(0x261)]),0x0===this[_0xff7b2a(0x571)][_0xff7b2a(0x216)]&&0x0===this[_0xff7b2a(0x705)][_0xff7b2a(0x216)]&&this[_0xff7b2a(0x2b8)]();}async[_0x136916(0x448)](){const _0x1b72d1=_0x136916;try{const _0xa2daac=await this[_0x1b72d1(0x3e0)][_0x1b72d1(0x49e)](this[_0x1b72d1(0x369)],this[_0x1b72d1(0x449)]);for(const _0x411f0e of _0xa2daac)await this[_0x1b72d1(0x4de)](_0x411f0e,!0x0);}catch(_0x2405cd){if(_0x2405cd instanceof _0x2fb975&&_0x2405cd[_0x1b72d1(0x582)]===_0x2fb975['codes']['ObjectStoreInvalidState']){await this[_0x1b72d1(0x3f7)][_0x1b72d1(0x509)](_0xb0add0),delete this['lastTransactionId'];try{const _0x3b9788=await this[_0x1b72d1(0x3f7)][_0x1b72d1(0x23f)]('/',!0x1);for(const _0xa7188f of _0x3b9788)await this[_0x1b72d1(0x3f7)][_0x1b72d1(0x509)](_0xa7188f[_0x1b72d1(0x239)]);}catch(_0x469ba9){}return await this[_0x1b72d1(0x448)]();}throw _0x2405cd;}}async[_0x136916(0x399)](){const _0xd316f8=_0x136916,_0x17bbba=await this[_0xd316f8(0x23f)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x10906d=async _0x492f5a=>{const _0xf303ef=_0xd316f8;for(const _0x524c65 of _0x492f5a){if(_0x524c65[_0xf303ef(0x1b5)]===_0x1095f4[_0xf303ef(0x5b2)][_0xf303ef(0xf4)]){_0x524c65[_0xf303ef(0x375)]&&_0x524c65[_0xf303ef(0x375)][_0xf303ef(0x3a9)]>0x0&&await _0x10906d(_0x524c65['entries']);continue;}if(!_0x524c65[_0xf303ef(0x414)]['endsWith'](_0x3ca651))continue;const _0xe94b87=await this['get'](_0x524c65[_0xf303ef(0x239)]),_0x584c4d=JSON[_0xf303ef(0x713)](await _0xe94b87[_0xf303ef(0x575)]()),_0x4abc8a=_0x524c65['name']['replace'](_0x3ca651,''),_0x38da5b={'payloadType':_0x3ac32e[_0xf303ef(0x1e8)],'action':_0x2fa8c5['RequestFile'],'sourceId':this[_0xf303ef(0x395)]['getId'](),'type':'','path':_0x524c65[_0xf303ef(0x541)],'name':_0x4abc8a,'checksum':_0x584c4d['checksum'],'skipEncryption':_0x584c4d[_0xf303ef(0x704)]},_0x14c7cb=_0x52efa3(_0x524c65[_0xf303ef(0x541)],_0x4abc8a);this[_0xf303ef(0x705)][_0xf303ef(0x5ff)](_0x14c7cb,_0x38da5b);}};await _0x10906d(_0x17bbba),0x0===this[_0xd316f8(0x705)][_0xd316f8(0x216)]&&0x0===this['pendingFilesSyncing'][_0xd316f8(0x216)]&&this['completeSync']();}async['createPendingFileWrite'](_0x27e54a,_0x474a89,_0x5dbb7f){const _0x558ab3=_0x136916,_0x218b3c=new File([new Blob([JSON['stringify'](_0x5dbb7f)])],''+_0x27e54a+_0x3ca651,{'type':_0x558ab3(0x332)});await this['writeFile'](_0x218b3c,_0x474a89);}[_0x136916(0x6eb)](_0x16f226,_0x1370c9){const _0x1ff012=_0x136916,[_0x268839,_0x449906]=this[_0x1ff012(0x571)][_0x1ff012(0x2b0)](_0x16f226)?.[_0x1ff012(0x2b0)](_0x1370c9)??[];return _0x449906&&clearTimeout(_0x449906),setTimeout(()=>{const _0x456774=_0x1ff012,[_0xb4c7c6,_0x5c93ac]=this[_0x456774(0x571)][_0x456774(0x2b0)](_0x16f226)[_0x456774(0x2b0)](_0x1370c9);this['sendFileRequestPayload'](_0xb4c7c6,_0x5c93ac);},0xea60);}async[_0x136916(0x187)](_0x469025,_0x56eef1){const _0x30688e=_0x136916;clearTimeout(_0x56eef1),_0x469025[_0x30688e(0x733)]=_0x2fa8c5[_0x30688e(0x53c)],this[_0x30688e(0x705)]['set'](_0x52efa3(_0x469025[_0x30688e(0x541)],_0x469025[_0x30688e(0x414)]),_0x469025),this[_0x30688e(0x695)](_0x469025);}[_0x136916(0x2bf)](_0xf58637,_0x5b1b6c){const _0x34a7dd=_0x136916;if(!this[_0x34a7dd(0x4ee)])return;this['pendingFilesSyncing'][_0x34a7dd(0x2b3)](_0xf58637[_0x34a7dd(0x261)])||this[_0x34a7dd(0x571)]['set'](_0xf58637['answererId'],new Map());const [_0x11ec14]=this['pendingFilesSyncing'][_0x34a7dd(0x2b0)](_0xf58637[_0x34a7dd(0x261)])[_0x34a7dd(0x2b0)](_0x5b1b6c)??[{'payloadType':_0x3ac32e[_0x34a7dd(0x1e8)],'action':_0x2fa8c5['RequestFile'],'sourceId':this[_0x34a7dd(0x395)][_0x34a7dd(0x716)](),'type':_0xf58637[_0x34a7dd(0x3fa)],'name':_0xf58637[_0x34a7dd(0x414)],'path':_0xf58637[_0x34a7dd(0x541)],'skipEncryption':_0xf58637[_0x34a7dd(0x704)],'checksum':_0xf58637[_0x34a7dd(0x3a7)],'answererId':_0xf58637[_0x34a7dd(0x261)]}];this[_0x34a7dd(0x571)][_0x34a7dd(0x2b0)](_0xf58637[_0x34a7dd(0x261)])[_0x34a7dd(0x5ff)](_0x5b1b6c,[_0x11ec14,this[_0x34a7dd(0x6eb)](_0xf58637['answererId'],_0x5b1b6c)]);}async['writeFile'](_0x22bdab,_0x3f8560,_0x474ec4){const _0x1de784=_0x136916;await this[_0x1de784(0x3f7)]['writeFile'](_0x22bdab,_0x3f8560,_0x474ec4);}async[_0x136916(0x509)](_0xffee){const _0x217166=_0x136916;try{return await this[_0x217166(0x3f7)][_0x217166(0x509)](_0xffee);}catch(_0x28cff1){return await this[_0x217166(0x3f7)]['deleteObject'](_0xffee+_0x3ca651);}}async['moveObject'](_0x4547fa,_0x14fc5f){const _0x5affd6=_0x136916;try{return await this['objectStoreConnector'][_0x5affd6(0x778)](_0x4547fa,_0x14fc5f);}catch(_0x499028){return await this['objectStoreConnector'][_0x5affd6(0x778)](_0x4547fa+_0x3ca651,_0x14fc5f+_0x3ca651);}}[_0x136916(0x726)](){const _0x527c77=_0x136916;this[_0x527c77(0x6ea)]&&clearTimeout(this[_0x527c77(0x6ea)]),this[_0x527c77(0x6ea)]=setTimeout(async()=>{const _0x52a3b3=_0x527c77;delete this[_0x52a3b3(0x6ea)];const _0x2bcb8c=await this[_0x52a3b3(0x3f7)][_0x52a3b3(0x386)]('/');this[_0x52a3b3(0x74d)]?.['publish']({'sourceId':_0x23eca1,'messageType':_0x15f44c['Content'],'content':{'type':_0x46fb30[_0x52a3b3(0x718)],'label':this[_0x52a3b3(0x369)],'stats':{'timestamp':Date[_0x52a3b3(0x154)](),'storage':_0x2bcb8c,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x52a3b3(0x333)],'bytesSent':this[_0x52a3b3(0x1ba)],'bytesReceived':this[_0x52a3b3(0x5e4)],'writes':this[_0x52a3b3(0x442)],'reads':this[_0x52a3b3(0x223)],'prompts':0x0,'tokens':0x0}}}),_0x148f53[_0x52a3b3(0x200)](_0x497fea[_0x52a3b3(0x32e)],_0x52a3b3(0x596)+this['clusterId']+_0x52a3b3(0x596)+this[_0x52a3b3(0x369)],_0x2bcb8c);},0x1388);}async['syncedFileExists'](_0x36424a){const _0x35d107=_0x136916;try{return await this[_0x35d107(0x2b0)](_0x36424a),!0x0;}catch(_0x194f33){return!0x1;}}}class _0xe3381a extends _0x1b8e4a{[_0x136916(0x395)];[_0x136916(0x5bf)];[_0x136916(0x3bc)]=new Map();[_0x136916(0x6ea)];constructor(_0x32471a,_0x4f0feb,_0x422752){const _0x36343c=_0x136916;if('string'!=typeof _0x4f0feb)throw new _0x4b5cf3(_0x235d31['PubSubTopicNameNotString'],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x32471a,_0x4f0feb),this[_0x36343c(0x395)]=_0x32471a,this[_0x36343c(0x5bf)]=_0x422752,this[_0x36343c(0x726)]();}[_0x136916(0x234)](){const _0x1d8e9f=_0x136916;this[_0x1d8e9f(0x726)]();}['getContentType'](){const _0x3afd58=_0x136916;return _0x1095f4[_0x3afd58(0x2fd)][_0x3afd58(0x124)];}[_0x136916(0x457)](_0x207304,_0x1ad12f){const _0x36edbc=_0x136916;_0x148f53[_0x36edbc(0x2f4)](_0x19b950[_0x36edbc(0x124)],_0x36edbc(0x534),this['localNode'][_0x36edbc(0x716)](),_0x207304,_0x1ad12f),_0x148f53[_0x36edbc(0x764)](_0x497fea['PubSub'],{'type':_0x36edbc(0x457),'label':this[_0x36edbc(0x369)],'nodeId':this[_0x36edbc(0x395)][_0x36edbc(0x716)](),'nodeType':this[_0x36edbc(0x395)]['type'],'clusterId':this[_0x36edbc(0x5bf)],'remoteIds':_0x1ad12f??[],'contentType':_0x207304 instanceof File?_0x1095f4['ContentType'][_0x36edbc(0x14f)]:_0x1095f4['ContentType'][_0x36edbc(0x745)],'size':_0x207304 instanceof File?_0x207304['size']:JSON['stringify'](_0x207304)[_0x36edbc(0x3a9)]}),this['sendStats'](),this[_0x36edbc(0x695)](_0x207304,_0x1ad12f);}[_0x136916(0x67e)](_0x51c6b4,_0x2d7b5e){const _0xef5f1b=_0x136916;if(this['unsubscribeHandler'][_0xef5f1b(0x2b3)](_0x51c6b4))throw new _0x4b5cf3(_0x235d31['PubSubTopicAlreadySubscribed'],'Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed');this[_0xef5f1b(0x3bc)][_0xef5f1b(0x5ff)](_0x51c6b4,this['onMessage']((_0x5a16b0,_0x5741dc)=>{const _0x5e7bfd=_0xef5f1b;_0x5e7bfd(0x757)===_0x51c6b4&&_0x5741dc instanceof File||!(_0x5e7bfd(0x41c)!==_0x51c6b4||_0x5741dc instanceof File)||(_0x148f53[_0x5e7bfd(0x2f4)](_0x19b950[_0x5e7bfd(0x124)],_0x5e7bfd(0xfb),this[_0x5e7bfd(0x395)][_0x5e7bfd(0x716)](),_0x5a16b0,_0x5741dc),_0x148f53['logServiceEvent'](_0x497fea[_0x5e7bfd(0x124)],{'type':_0x5e7bfd(0x67e),'label':this[_0x5e7bfd(0x369)],'nodeId':this[_0x5e7bfd(0x395)][_0x5e7bfd(0x716)](),'nodeType':this[_0x5e7bfd(0x395)][_0x5e7bfd(0x3fa)],'clusterId':this[_0x5e7bfd(0x5bf)],'remoteId':_0x5a16b0,'contentType':_0x51c6b4,'size':_0x5741dc instanceof File?_0x5741dc[_0x5e7bfd(0x216)]:JSON[_0x5e7bfd(0x728)](_0x5741dc)[_0x5e7bfd(0x3a9)]}),this[_0x5e7bfd(0x726)](),_0x2d7b5e(_0x5a16b0,_0x5741dc));}));}[_0x136916(0xef)](_0x50d572){const _0x408c41=_0x136916;this[_0x408c41(0x3bc)][_0x408c41(0x2b0)](_0x50d572)?.(),this[_0x408c41(0x3bc)][_0x408c41(0x21d)](_0x50d572);}[_0x136916(0x1ee)](){const _0x5125e5=_0x136916;this[_0x5125e5(0x3bc)][_0x5125e5(0x1b3)](_0x35b165=>_0x35b165()),clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}[_0x136916(0x348)](){const _0xa60608=_0x136916;this[_0xa60608(0x74d)]?.[_0xa60608(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c['Content'],'content':{'type':_0x46fb30[_0xa60608(0x43b)],'label':this[_0xa60608(0x369)]}});}[_0x136916(0x726)](){const _0x566e3e=_0x136916;this[_0x566e3e(0x6ea)]&&clearTimeout(this[_0x566e3e(0x6ea)]),this[_0x566e3e(0x6ea)]=setTimeout(()=>{const _0x48cb26=_0x566e3e;this[_0x48cb26(0x74d)]?.[_0x48cb26(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x48cb26(0x632)],'content':{'type':_0x46fb30[_0x48cb26(0x69b)],'label':this[_0x48cb26(0x369)],'stats':{'timestamp':Date[_0x48cb26(0x154)](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x48cb26(0x333)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x48cb26(0x5e4)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},0x1388);}}class _0x2c0a81 extends _0x3eb827{[_0x136916(0x395)];['internalId'];['availableTrackKinds'];[_0x136916(0x5bf)];['unsubscribeHandler'];[_0x136916(0x31c)];['updateDebounce'];['outgoingStreams']=new Map();[_0x136916(0x608)];[_0x136916(0x4d9)]=new Set();[_0x136916(0x432)];[_0x136916(0x3fb)]=_0x57b3e6();['trackEndedListeners']=new Map();constructor(_0x8bf093,_0x30624f,_0x1aa7d5,_0x480775,_0x9412e6,_0x4c38a9){const _0x4ff6a2=_0x136916;super(_0x30624f,_0x1aa7d5,new MediaStream()),this[_0x4ff6a2(0x395)]=_0x8bf093,this['internalId']=_0x480775,this['availableTrackKinds']=_0x9412e6,this[_0x4ff6a2(0x5bf)]=_0x4c38a9,this[_0x4ff6a2(0x365)]['getTracks']()[_0x4ff6a2(0x1b3)](_0x13fc31=>this[_0x4ff6a2(0x235)](_0x13fc31));}[_0x136916(0x1ee)](){const _0x12e7f1=_0x136916;this[_0x12e7f1(0x319)][_0x12e7f1(0x216)]>0x0&&(this['outgoingStreams'][_0x12e7f1(0x1b3)](_0xa2ccf9=>{_0xa2ccf9['unregisterSystemPublisher'](),_0xa2ccf9['destroy']();}),this[_0x12e7f1(0x319)][_0x12e7f1(0x5ef)]()),this[_0x12e7f1(0x76f)][_0x12e7f1(0x1b3)](_0x287648=>_0x287648()),this[_0x12e7f1(0x365)]['getTracks']()[_0x12e7f1(0x1b3)](_0x3b835e=>this[_0x12e7f1(0x365)]['removeTrack'](_0x3b835e)),this[_0x12e7f1(0x231)]&&(clearTimeout(this[_0x12e7f1(0x231)]),delete this['updateDebounce']),this[_0x12e7f1(0x31c)]?.(),super[_0x12e7f1(0x1ee)]();}[_0x136916(0x622)](_0x52db19){const _0x4d0338=_0x136916;this[_0x4d0338(0x3bc)]=_0x52db19['subscribe'](({content:_0x584d5f})=>{const _0x4132fd=_0x4d0338;switch(_0x584d5f[_0x4132fd(0x733)]){case _0x2fc674['RemoteAdd']:if(_0x148f53[_0x4132fd(0x2f4)](_0x19b950[_0x4132fd(0x120)],_0x4132fd(0x211),this[_0x4132fd(0x395)]['getId'](),this[_0x4132fd(0x432)]),_0x584d5f['stream']['id']!==this['internalId']||_0x584d5f['providerId']!==this[_0x4132fd(0x432)])return;this[_0x4132fd(0x698)](_0x584d5f[_0x4132fd(0x45e)]['kind']),this['mediaStream'][_0x4132fd(0x43f)](_0x584d5f[_0x4132fd(0x45e)]);for(const [_0x1837ab,_0x30c261]of this['outgoingStreams'][_0x4132fd(0x375)]())try{_0x30c261[_0x4132fd(0x43f)](_0x584d5f[_0x4132fd(0x45e)]);}catch(_0xf71d64){_0x30c261['destroy'](),this['outgoingStreams'][_0x4132fd(0x21d)](_0x1837ab);}this[_0x4132fd(0x235)](_0x584d5f[_0x4132fd(0x45e)]),this[_0x4132fd(0x667)](),_0x4132fd(0x6dc)===_0x584d5f['track'][_0x4132fd(0x1b5)]&&this[_0x4132fd(0x608)]&&(this[_0x4132fd(0x365)][_0x4132fd(0x42c)]?setTimeout(()=>this[_0x4132fd(0x608)]?.[_0x4132fd(0x5ea)](),0x0):setTimeout(()=>this['renderElement']?.[_0x4132fd(0x4e6)](),0x0),this['setupResizeHandler']());break;case _0x2fc674[_0x4132fd(0x11e)]:if(_0x584d5f[_0x4132fd(0x103)]['id']!==this['internalId']||_0x584d5f[_0x4132fd(0x432)]!==this[_0x4132fd(0x432)])return;this[_0x4132fd(0x698)](_0x584d5f['track'][_0x4132fd(0x1b5)]),this[_0x4132fd(0x608)]&&_0x4132fd(0x6dc)===_0x584d5f[_0x4132fd(0x45e)][_0x4132fd(0x1b5)]&&(this[_0x4132fd(0x31c)]?.(),this[_0x4132fd(0x365)][_0x4132fd(0x55b)]()[_0x4132fd(0x3a9)]>0x0?this['renderElement']['load']():this[_0x4132fd(0x608)][_0x4132fd(0x29e)]=null);}});}['unregisterSubscriber'](){const _0x90d6d1=_0x136916;this['unsubscribeHandler']?.(),this[_0x90d6d1(0x76f)]['forEach'](_0x383126=>_0x383126()),delete this[_0x90d6d1(0x3bc)];}[_0x136916(0x6f1)](){return this['internalId'];}[_0x136916(0x64a)](_0x39c469){const _0x2708c4=_0x136916;this[_0x2708c4(0x67c)]=_0x39c469;}[_0x136916(0x2ac)](){const _0x2bea0e=_0x136916;return this[_0x2bea0e(0x556)];}['hasTracks'](_0x905f6d){const _0x46c08d=_0x136916;for(const _0x3a9fe7 of _0x905f6d||this['availableTrackKinds'])if(!this[_0x46c08d(0x365)][_0x46c08d(0x55b)]()[_0x46c08d(0x21f)](_0x5d99e7=>_0x5d99e7[_0x46c08d(0x1b5)]===_0x3a9fe7))return!0x1;return!0x0;}[_0x136916(0x600)](){const _0x9d0e49=_0x136916;let _0x4d4ae9={'width':0x0,'height':0x0};const _0x44c99e=this[_0x9d0e49(0x365)]['getVideoTracks']();if(_0x44c99e[_0x9d0e49(0x3a9)]>0x0){const _0x485bf1=_0x44c99e[0x0][_0x9d0e49(0xfc)]();_0x485bf1[_0x9d0e49(0x310)]&&_0x485bf1['height']&&(_0x4d4ae9={'width':_0x485bf1[_0x9d0e49(0x310)],'height':_0x485bf1[_0x9d0e49(0x259)]});}return _0x4d4ae9;}[_0x136916(0x14b)](_0x1a3022){const _0x186a58=_0x136916;for(const _0x1425b7 of _0x1a3022)if(!this['subscribedTracks'][_0x186a58(0x2b3)](_0x1425b7))return!0x1;return!0x0;}[_0x136916(0x2a6)](_0x4f13c5,_0x1b3dd4){const _0x2ed106=_0x136916;if(!this['outgoingStreams'][_0x2ed106(0x2b3)](_0x4f13c5)){const _0x4a4ea0=new _0x1289aa(this[_0x2ed106(0x342)],this[_0x2ed106(0x369)],this['mediaStream'],_0x4f13c5,_0x1b3dd4),_0x42f16a=_0x4a4ea0[_0x2ed106(0x4ed)](()=>{const _0x553cd0=_0x2ed106;_0x42f16a(),this[_0x553cd0(0x319)][_0x553cd0(0x2b0)](_0x4f13c5)?.[_0x553cd0(0x1ee)](),this[_0x553cd0(0x319)][_0x553cd0(0x21d)](_0x4f13c5);});this['outgoingStreams'][_0x2ed106(0x5ff)](_0x4f13c5,_0x4a4ea0),_0x4a4ea0['registerSystemPublisher'](this[_0x2ed106(0x74d)]);}return this[_0x2ed106(0x319)]['get'](_0x4f13c5);}[_0x136916(0x4e3)](){const _0x446b51=_0x136916;return this[_0x446b51(0x365)]['id'];}[_0x136916(0x2ae)](){const _0x146604=_0x136916;return _0x1095f4[_0x146604(0x19f)][_0x146604(0x3e1)];}['getSubscribedTracks'](){const _0x2ce987=_0x136916;return Array[_0x2ce987(0x4c4)](this[_0x2ce987(0x4d9)]);}[_0x136916(0x67e)](_0x278d8d){const _0x57fe97=_0x136916;let _0x5da8f8=[];if(_0x278d8d){'object'!=typeof _0x278d8d['video']||_0x278d8d['video'][_0x57fe97(0x608)]instanceof HTMLVideoElement||!this['renderElement']||(_0x278d8d['video']={'renderElement':this[_0x57fe97(0x608)]});try{(0x0,_0x1095f4[_0x57fe97(0x360)])(_0x278d8d);}catch(_0x351fa6){throw new _0x4b5cf3(_0x235d31[_0x57fe97(0x719)],_0x57fe97(0x68e));}_0x278d8d['video']&&(_0x5da8f8[_0x57fe97(0x5ac)](_0x57fe97(0x6dc)),'boolean'!=typeof _0x278d8d[_0x57fe97(0x6dc)]&&_0x278d8d[_0x57fe97(0x6dc)][_0x57fe97(0x608)]&&(this[_0x57fe97(0x608)]=_0x278d8d[_0x57fe97(0x6dc)][_0x57fe97(0x608)],_0x278d8d['video'][_0x57fe97(0xf9)]||(_0x278d8d[_0x57fe97(0x6dc)][_0x57fe97(0xf9)]={'width':this[_0x57fe97(0x608)][_0x57fe97(0x464)],'height':this[_0x57fe97(0x608)]['clientHeight']}),delete _0x278d8d['video'][_0x57fe97(0x608)])),_0x278d8d[_0x57fe97(0x1b1)]&&_0x5da8f8['push'](_0x57fe97(0x1b1));}else _0x5da8f8=this[_0x57fe97(0x2ac)]();this[_0x57fe97(0x14b)](_0x5da8f8)||(_0x5da8f8[_0x57fe97(0x1b3)](_0x569138=>this[_0x57fe97(0x4d9)][_0x57fe97(0x759)](_0x569138)),this['systemTopic']['publish']({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x57fe97(0x632)],'content':{'type':_0x46fb30[_0x57fe97(0x1e7)],'label':this[_0x57fe97(0x369)],'ownerId':this[_0x57fe97(0x342)][_0x57fe97(0x716)](),'trackKinds':_0x5da8f8,'params':_0x278d8d}}),_0x148f53['logServiceEvent'](_0x497fea[_0x57fe97(0x48a)],{'type':'subscribe','label':this[_0x57fe97(0x369)],'nodeId':this[_0x57fe97(0x395)][_0x57fe97(0x716)](),'nodeType':this[_0x57fe97(0x395)][_0x57fe97(0x3fa)],'clusterId':this[_0x57fe97(0x5bf)],'sourceId':this[_0x57fe97(0x342)][_0x57fe97(0x716)](),'streamId':this[_0x57fe97(0x67c)],'trackKinds':_0x5da8f8}));}['update'](_0xdb8d2b){const _0x5559e4=_0x136916;try{(0x0,_0x1095f4['isValidMediaSubscriptionParams'])(_0xdb8d2b);}catch(_0x267e02){throw new _0x4b5cf3(_0x235d31[_0x5559e4(0x719)],'Invalid\x20params');}this[_0x5559e4(0x231)]&&clearTimeout(this[_0x5559e4(0x231)]),this[_0x5559e4(0x231)]=setTimeout(()=>{const _0x10cae0=_0x5559e4;delete this[_0x10cae0(0x231)],this[_0x10cae0(0x74d)][_0x10cae0(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x10cae0(0x632)],'content':{'type':_0x46fb30['UpdateMediaStream'],'label':this[_0x10cae0(0x369)],'ownerId':this[_0x10cae0(0x342)][_0x10cae0(0x716)](),'params':_0xdb8d2b}});},0x1f4);}[_0x136916(0xef)](_0x5f3734){const _0x121779=_0x136916;_0x5f3734||(_0x5f3734=this[_0x121779(0x2ac)]()),(_0x5f3734=Array['isArray'](_0x5f3734)?_0x5f3734:[_0x5f3734])['forEach'](_0x5d2bb1=>this[_0x121779(0x4d9)][_0x121779(0x21d)](_0x5d2bb1)),this[_0x121779(0x74d)]['publish']({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x121779(0x632)],'content':{'type':_0x46fb30[_0x121779(0x452)],'label':this[_0x121779(0x369)],'ownerId':this['owner'][_0x121779(0x716)](),'trackKinds':_0x5f3734,'remainingTracks':this['subscribedTracks']['size']}});}[_0x136916(0x65e)](_0x277a93){const _0x4adc02=_0x136916;return this[_0x4adc02(0x3fb)]['subscribe'](_0x277a93);}[_0x136916(0x76a)](){const _0x45214c=_0x136916;return this[_0x45214c(0x432)];}['setProviderId'](_0x4d72f0){const _0x48edaf=_0x136916;this[_0x48edaf(0x432)]!==_0x4d72f0&&(this[_0x48edaf(0x432)]=_0x4d72f0,this[_0x48edaf(0x3fb)][_0x48edaf(0x457)](_0x4d72f0));}[_0x136916(0x3bb)](_0xc8c7ad){const _0x4b9dbc=_0x136916;this[_0x4b9dbc(0x76f)][_0x4b9dbc(0x2b0)](_0xc8c7ad)?.(),this[_0x4b9dbc(0x76f)][_0x4b9dbc(0x21d)](_0xc8c7ad);}['removeTrack'](_0x3181ac){const _0x18b92f=_0x136916,_0x35acde=this[_0x18b92f(0x365)][_0x18b92f(0x55b)]()[_0x18b92f(0x21f)](_0x545c05=>_0x545c05[_0x18b92f(0x1b5)]===_0x3181ac);_0x35acde&&(this[_0x18b92f(0x365)][_0x18b92f(0x698)](_0x35acde),this[_0x18b92f(0x319)][_0x18b92f(0x1b3)](_0x1b1a2f=>_0x1b1a2f[_0x18b92f(0x698)](_0x3181ac)),this[_0x18b92f(0x76f)]['get'](_0x3181ac)?.());}[_0x136916(0x667)](){const _0x4db728=_0x136916;this['renderElement']&&(this[_0x4db728(0x608)][_0x4db728(0x29e)]&&this[_0x4db728(0x608)][_0x4db728(0x29e)]===this[_0x4db728(0x365)]||(this[_0x4db728(0x608)][_0x4db728(0x29e)]=this['mediaStream']));}[_0x136916(0x295)](){const _0x1a8ed3=_0x136916;if(this[_0x1a8ed3(0x608)]&&!this[_0x1a8ed3(0x31c)]&&'undefined'!=typeof ResizeObserver){let _0x43def6=this[_0x1a8ed3(0x608)][_0x1a8ed3(0x464)],_0xf92114=this[_0x1a8ed3(0x608)][_0x1a8ed3(0x37c)];const _0x2f4df4=new ResizeObserver(_0x4e324d=>{const _0x1d09fc=_0x1a8ed3,{width:_0x150b69,height:_0x48bce9}=_0x4e324d[0x0][_0x1d09fc(0x4af)];_0x43def6===_0x150b69&&_0xf92114===_0x48bce9||(_0x43def6=Math[_0x1d09fc(0x159)](_0x150b69),_0xf92114=Math[_0x1d09fc(0x159)](_0x48bce9),this[_0x1d09fc(0x4cb)]({'video':{'maxResolution':{'width':_0x150b69,'height':_0x48bce9}}}));});_0x2f4df4['observe'](this['renderElement']),this[_0x1a8ed3(0x31c)]=()=>_0x2f4df4['disconnect']();}}['handleRemoteTrackFailure'](_0x1a7952){const _0x3c56b8=_0x136916,_0x564699=[];for(const _0x3b4d2d of this['subscribedTracks'])this[_0x3c56b8(0x698)](_0x3b4d2d),_0x564699[_0x3c56b8(0x5ac)](_0x3b4d2d);this[_0x3c56b8(0x432)]&&this[_0x3c56b8(0x74d)]['publish']({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x3c56b8(0x632)],'content':{'type':_0x46fb30[_0x3c56b8(0x41e)],'label':this[_0x3c56b8(0x369)],'streamId':this['internalId'],'ownerId':this[_0x3c56b8(0x342)][_0x3c56b8(0x716)](),'providerId':this[_0x3c56b8(0x432)],'trackKinds':_0x564699}});}[_0x136916(0x235)](_0x265a9c){const _0x5d0fed=_0x136916,_0x2abc85=()=>this[_0x5d0fed(0x627)](_0x265a9c);_0x265a9c[_0x5d0fed(0x1e3)](_0x5d0fed(0x397),_0x2abc85),_0x265a9c['addEventListener']('mute',_0x2abc85),this['trackEndedListeners'][_0x5d0fed(0x5ff)](_0x265a9c[_0x5d0fed(0x1b5)],()=>{const _0x3b183d=_0x5d0fed;_0x265a9c[_0x3b183d(0x23b)]('ended',_0x2abc85),_0x265a9c['removeEventListener'](_0x3b183d(0x3d9),_0x2abc85),this['trackEndedListeners'][_0x3b183d(0x21d)](_0x265a9c[_0x3b183d(0x1b5)]);});}}class _0x49228a{['id'];[_0x136916(0x610)];[_0x136916(0x587)];constructor(_0x2980ac,_0xafbf70=new Set(),_0x495826){this['id']=_0x2980ac,this['remoteConnections']=_0xafbf70,this['rank']=_0x495826;}[_0x136916(0x348)](){const _0x3d7971=_0x136916;this[_0x3d7971(0x587)]=void 0x0,this[_0x3d7971(0x610)]['clear']();}[_0x136916(0x716)](){return this['id'];}[_0x136916(0x396)](){return this['rank'];}[_0x136916(0x558)](){const _0x3457a0=_0x136916;return this[_0x3457a0(0x610)];}}class _0xd033f3 extends _0x49228a{['id'];[_0x136916(0x2ce)];[_0x136916(0x6b1)];[_0x136916(0x610)];[_0x136916(0x587)];['type']=_0x1095f4['NodeType'][_0x136916(0x565)];constructor(_0x205f66,_0x1dc90a,_0x2bceff,_0x5ec9bb=new Set(),_0x13b102){const _0x11294f=_0x136916;super(_0x205f66,_0x5ec9bb,_0x13b102),this['id']=_0x205f66,this[_0x11294f(0x2ce)]=_0x1dc90a,this[_0x11294f(0x6b1)]=_0x2bceff,this[_0x11294f(0x610)]=_0x5ec9bb,this['rank']=_0x13b102;}[_0x136916(0x603)](){const _0x532f92=_0x136916;return this[_0x532f92(0x2ce)];}[_0x136916(0x34f)](){const _0x53895f=_0x136916;return this[_0x53895f(0x6b1)];}}class _0x467867{[_0x136916(0x180)];[_0x136916(0x5bf)];['clusterKey'];constructor(_0x193adf,_0x581bcf){const _0xddf19b=_0x136916;this[_0xddf19b(0x180)]=_0x193adf,this[_0xddf19b(0x5bf)]=_0x581bcf,this[_0xddf19b(0x424)]='ccc'+this[_0xddf19b(0x180)]+'ccc'+this[_0xddf19b(0x5bf)];}async[_0x136916(0x499)](_0x1fa7c8,_0x2b8ceb,_0x1e4990){const _0x4ffe04=_0x136916;if(!0x1===(await(0x0,_0x1943d3['runTransaction'])((0x0,_0x1943d3[_0x4ffe04(0x714)])(_0x329b41[_0x4ffe04(0x6a5)](),_0x4ffe04(0x581)+this[_0x4ffe04(0x424)]+_0x4ffe04(0x164)+_0x2b8ceb+_0x4ffe04(0x699)),_0x683524=>{const _0x5e8c79=_0x4ffe04;if(!_0x683524)return _0x1fa7c8['id'];if(_0x683524!==_0x1e4990)throw new _0x2fb975(_0x2fb975[_0x5e8c79(0x516)][_0x5e8c79(0x2c2)]);return _0x1fa7c8['id'];}))['committed'])throw new _0x2fb975(_0x2fb975['codes']['ObjectStoreCannotWriteTransaction']);_0x1fa7c8['parentId']||delete _0x1fa7c8['parentId'],await(0x0,_0x1943d3['set'])((0x0,_0x1943d3[_0x4ffe04(0x714)])(_0x329b41[_0x4ffe04(0x6a5)](),_0x4ffe04(0x581)+this[_0x4ffe04(0x424)]+'/objectstores/'+_0x2b8ceb+'/transactions/'+_0x1fa7c8['id']),_0x1fa7c8);}async['getTransactions'](_0x1ceba8,_0x4b82b8){const _0x2ed77f=_0x136916;let _0x1ded75=[];const _0x32ff39=(0x0,_0x1943d3[_0x2ed77f(0x714)])(_0x329b41['getDatabase'](),_0x2ed77f(0x581)+this[_0x2ed77f(0x424)]+'/objectstores/'+_0x1ceba8+_0x2ed77f(0x3dd));let _0x52d7a8=await(0x0,_0x1943d3[_0x2ed77f(0x2b0)])((0x0,_0x1943d3[_0x2ed77f(0x218)])(_0x32ff39,(0x0,_0x1943d3[_0x2ed77f(0x615)])(0x65),(0x0,_0x1943d3['orderByKey'])()));if(!_0x52d7a8[_0x2ed77f(0x5a9)]()){if(void 0x0!==_0x4b82b8)throw new _0x2fb975(_0x2fb975[_0x2ed77f(0x516)]['ObjectStoreInvalidState']);return _0x1ded75;}const _0x52ccb9=_0x52d7a8[_0x2ed77f(0x1e4)]();for(;Object[_0x2ed77f(0x447)](_0x52d7a8[_0x2ed77f(0x1e4)]())['length']>0x64;){const _0x178042=Object['keys'](_0x52d7a8[_0x2ed77f(0x1e4)]()),_0x1b0d76=_0x178042[_0x178042[_0x2ed77f(0x3a9)]-0x1];_0x52d7a8=await(0x0,_0x1943d3[_0x2ed77f(0x2b0)])((0x0,_0x1943d3['query'])(_0x32ff39,(0x0,_0x1943d3['limitToFirst'])(0x65),(0x0,_0x1943d3[_0x2ed77f(0x2a7)])(_0x1b0d76),(0x0,_0x1943d3[_0x2ed77f(0x222)])())),Object[_0x2ed77f(0x24e)](_0x52ccb9,_0x52d7a8[_0x2ed77f(0x1e4)]());}if(_0x1ded75=Object[_0x2ed77f(0x26f)](_0x52ccb9)['filter'](_0x7df709=>_0x2ed77f(0x112)!=typeof _0x7df709),0x0===_0x1ded75['length']&&void 0x0!==_0x4b82b8)throw new _0x2fb975(_0x2fb975[_0x2ed77f(0x516)][_0x2ed77f(0x5be)]);if(_0x1ded75[_0x2ed77f(0x3a9)]>0x0&&void 0x0!==_0x4b82b8&&!_0x1ded75[_0x2ed77f(0x21f)](_0x45636f=>_0x45636f['id']===_0x4b82b8))throw new _0x2fb975(_0x2fb975[_0x2ed77f(0x516)][_0x2ed77f(0x5be)]);const _0x51f279=[];let _0x463deb=_0x1ded75[_0x2ed77f(0x21f)](_0x7f2c4a=>_0x7f2c4a['parentId']===_0x4b82b8);for(;_0x463deb;)_0x51f279[_0x2ed77f(0x5ac)](_0x463deb),_0x463deb=_0x1ded75[_0x2ed77f(0x21f)](_0x46fc74=>_0x46fc74['parentId']===_0x463deb['id']);return _0x51f279;}}class _0x27290c{[_0x136916(0x6a3)];['maxFps'];['audioContext'];[_0x136916(0x29d)]=new Map();[_0x136916(0x624)]=new Map();['pubSubTopics']=new Map();[_0x136916(0x240)]=new Map();['keyValueDatabases']=new Map();[_0x136916(0x4c2)]=new Map();[_0x136916(0x32d)]=new Map();['transactionService'];constructor(_0x6cc222,_0x5ddce5,_0x12da5e){const _0x44677e=_0x136916;this[_0x44677e(0x6a3)]=_0x6cc222,this['maxFps']=_0x5ddce5,this[_0x44677e(0x73a)]=_0x12da5e,this[_0x44677e(0x3e0)]=new _0x467867(this[_0x44677e(0x6a3)]['vendorId'],this[_0x44677e(0x6a3)]['clusterId']);}['close'](_0x2d75ae=!0x1){const _0x347d0f=_0x136916;this[_0x347d0f(0x624)]['forEach']((_0x49db6c,_0x49168d)=>{const _0x5bf442=_0x347d0f;_0x49db6c[_0x5bf442(0x1b3)]((_0x2ed054,_0x9b7c94)=>{const _0x1b1f7a=_0x5bf442;this[_0x1b1f7a(0x405)](_0x49168d,_0x9b7c94);});}),_0x2d75ae||(this['localMediaStreams'][_0x347d0f(0x1b3)]((_0xe14635,_0x4b4a81)=>{const _0x44158b=_0x347d0f;this[_0x44158b(0x1bf)](_0x4b4a81);}),this['pubSubTopics']['forEach']((_0x4c9ef1,_0x3082b2)=>{this['removePubSubTopic'](_0x3082b2);}),this[_0x347d0f(0x240)][_0x347d0f(0x1b3)]((_0x1fdf26,_0x5a72cd)=>{this['removeObjectStore'](_0x5a72cd);}),this[_0x347d0f(0x291)][_0x347d0f(0x1b3)]((_0x3e6fa6,_0x580550)=>{const _0x5113d0=_0x347d0f;this[_0x5113d0(0x710)](_0x580550);}),this['jobDispatchers'][_0x347d0f(0x1b3)]((_0xb7ebef,_0x2980d6)=>{const _0x5de6cc=_0x347d0f;this[_0x5de6cc(0x305)](_0x2980d6);}),this[_0x347d0f(0x32d)]['forEach']((_0x296397,_0xf5eda5)=>{const _0x30bc3a=_0x347d0f;this[_0x30bc3a(0x220)](_0xf5eda5);}));}[_0x136916(0x1dc)](_0x7ba2c7,_0x386721){const _0x56eb5e=_0x136916;if(this[_0x56eb5e(0x240)][_0x56eb5e(0x2b3)](_0x7ba2c7))throw new _0x4b5cf3(_0x235d31[_0x56eb5e(0x423)],_0x56eb5e(0x279));const _0x57045e=new _0x417199(this[_0x56eb5e(0x6a3)][_0x56eb5e(0x395)],_0x7ba2c7,this[_0x56eb5e(0x6a3)][_0x56eb5e(0x5bf)],this[_0x56eb5e(0x6a3)]['vendorId'],this[_0x56eb5e(0x3e0)],_0x386721);return this['objectStores']['set'](_0x7ba2c7,_0x57045e),this['configs'][_0x56eb5e(0x63c)]['registerSystemSource'](_0x57045e),_0x57045e;}async[_0x136916(0x354)](_0x251a55,_0x2ae3d1,_0x38b216){const _0x56a616=_0x136916;if(this[_0x56a616(0x291)][_0x56a616(0x2b3)](_0x251a55))throw new _0x4b5cf3(_0x235d31[_0x56a616(0x439)],_0x56a616(0x2a8));try{const _0x41cbb0=new _0xc15251(this[_0x56a616(0x6a3)][_0x56a616(0x395)],_0x251a55,this['configs'][_0x56a616(0x5bf)],this[_0x56a616(0x6a3)][_0x56a616(0x180)],_0x2ae3d1,_0x38b216);return this[_0x56a616(0x291)][_0x56a616(0x5ff)](_0x251a55,_0x41cbb0),this[_0x56a616(0x6a3)][_0x56a616(0x63c)][_0x56a616(0x60d)](_0x41cbb0),_0x41cbb0;}catch(_0x2603c3){if(_0x2603c3 instanceof _0x4b5cf3)throw _0x2603c3;throw console['warn']('Failed\x20to\x20create\x20key\x20value\x20database',_0x2603c3),new _0x2fb975(_0x2fb975[_0x56a616(0x516)][_0x56a616(0x4f0)],{'label':_0x251a55,'clusterId':this['configs']['clusterId'],'vendorId':this['configs']['vendorId']});}}async['createJobDispatcher'](_0xd0cc44,_0x34fe4c){const _0x18f967=_0x136916;if(this[_0x18f967(0x4c2)][_0x18f967(0x2b3)](_0xd0cc44))throw new _0x4b5cf3(_0x235d31[_0x18f967(0x356)],_0x18f967(0x179));try{const _0x173a1a=new _0x1f7d78(this[_0x18f967(0x6a3)]['localNode'],_0xd0cc44,_0x34fe4c);return this[_0x18f967(0x4c2)][_0x18f967(0x5ff)](_0xd0cc44,_0x173a1a),this[_0x18f967(0x6a3)]['mediator'][_0x18f967(0x60d)](_0x173a1a),_0x173a1a;}catch(_0x183712){if(_0x183712 instanceof _0x4b5cf3)throw _0x183712;throw console['warn'](_0x18f967(0x720),_0x183712),new _0x2fb975(_0x2fb975[_0x18f967(0x516)][_0x18f967(0x350)],{'label':_0xd0cc44,'clusterId':this[_0x18f967(0x6a3)]['clusterId'],'vendorId':this[_0x18f967(0x6a3)][_0x18f967(0x180)]});}}async['createJobWorker'](_0x3b3395,_0x2c85ef,_0x5de70e){const _0xa17cd1=_0x136916;if(this['jobWorkers'][_0xa17cd1(0x2b3)](_0x3b3395))throw new _0x4b5cf3(_0x235d31['JobWorkerAlreadyExists'],_0xa17cd1(0x38a));try{const _0x5f7c0e=new _0x522bba(this[_0xa17cd1(0x6a3)][_0xa17cd1(0x395)],_0x3b3395,_0x2c85ef,_0x5de70e);return this[_0xa17cd1(0x32d)][_0xa17cd1(0x5ff)](_0x3b3395,_0x5f7c0e),this[_0xa17cd1(0x6a3)]['mediator']['registerSystemSource'](_0x5f7c0e),_0x5f7c0e;}catch(_0x44c40c){if(_0x44c40c instanceof _0x4b5cf3)throw _0x44c40c;throw console[_0xa17cd1(0x5e9)]('Failed\x20to\x20create\x20job\x20service',_0x44c40c),new _0x2fb975(_0x2fb975[_0xa17cd1(0x516)][_0xa17cd1(0x540)],{'label':_0x3b3395,'clusterId':this[_0xa17cd1(0x6a3)][_0xa17cd1(0x5bf)],'vendorId':this[_0xa17cd1(0x6a3)][_0xa17cd1(0x180)]});}}async[_0x136916(0x588)](_0x2111ec,_0x10e8d5){const _0x1f9215=_0x136916;if(this['jobDispatchers']['has'](_0x2111ec))throw new _0x4b5cf3(_0x235d31[_0x1f9215(0x406)],_0x1f9215(0x762));if(this[_0x1f9215(0x32d)][_0x1f9215(0x2b3)](_0x2111ec))throw new _0x4b5cf3(_0x235d31[_0x1f9215(0x2e7)],_0x1f9215(0x417));try{const _0x2a6ce3=new _0x373dd5(this[_0x1f9215(0x6a3)][_0x1f9215(0x395)],_0x2111ec,_0x10e8d5);return this[_0x1f9215(0x4c2)][_0x1f9215(0x5ff)](_0x2111ec,_0x2a6ce3),this[_0x1f9215(0x6a3)][_0x1f9215(0x63c)]['registerSystemSource'](_0x2a6ce3),_0x2a6ce3;}catch(_0x43f331){if(_0x43f331 instanceof _0x4b5cf3)throw _0x43f331;throw console[_0x1f9215(0x5e9)](_0x1f9215(0x544),_0x43f331),new _0x2fb975(_0x2fb975[_0x1f9215(0x516)][_0x1f9215(0x345)],{'label':_0x2111ec,'clusterId':this[_0x1f9215(0x6a3)][_0x1f9215(0x5bf)],'vendorId':this[_0x1f9215(0x6a3)][_0x1f9215(0x180)]});}}async[_0x136916(0x2c9)](_0x29b7a1,_0x3ed5c3,_0x9b7ff1,_0x21c0a8){const _0x30f081=_0x136916;if(this[_0x30f081(0x32d)][_0x30f081(0x2b3)](_0x29b7a1))throw new _0x4b5cf3(_0x235d31['GenerativeAIWorkerAlreadyExists'],'AI\x20Worker\x20already\x20exists');if(this[_0x30f081(0x4c2)][_0x30f081(0x2b3)](_0x29b7a1))throw new _0x4b5cf3(_0x235d31[_0x30f081(0x2e7)],_0x30f081(0x417));try{const _0x41d8f3=new _0x5a1870(this['configs'][_0x30f081(0x395)],_0x29b7a1,_0x3ed5c3,_0x9b7ff1,_0x21c0a8);return this[_0x30f081(0x32d)][_0x30f081(0x5ff)](_0x29b7a1,_0x41d8f3),this['configs'][_0x30f081(0x63c)][_0x30f081(0x60d)](_0x41d8f3),_0x41d8f3;}catch(_0x1ba6da){if(_0x1ba6da instanceof _0x4b5cf3)throw _0x1ba6da;throw console[_0x30f081(0x5e9)](_0x30f081(0x37d),_0x1ba6da),new _0x2fb975(_0x2fb975[_0x30f081(0x516)][_0x30f081(0x3af)],{'label':_0x29b7a1,'clusterId':this[_0x30f081(0x6a3)][_0x30f081(0x5bf)],'vendorId':this[_0x30f081(0x6a3)][_0x30f081(0x180)]});}}['createLocalDynamicMediaStream'](_0x8c2006,_0x5ab1ed){const _0x432b0f=_0x136916;if(this['localMediaStreams']['has'](_0x8c2006))throw new _0x4b5cf3(_0x235d31[_0x432b0f(0x248)],_0x432b0f(0x102));if(!this[_0x432b0f(0x73a)])throw new _0x4b5cf3(_0x235d31[_0x432b0f(0x54b)],'AudioContext\x20is\x20not\x20available');const _0xe4b62a=new _0x476d0d(this[_0x432b0f(0x6a3)][_0x432b0f(0x395)],_0x8c2006,_0x5ab1ed,this[_0x432b0f(0x681)],this[_0x432b0f(0x73a)],this[_0x432b0f(0x6a3)]['clusterId']);return this[_0x432b0f(0x29d)][_0x432b0f(0x5ff)](_0x8c2006,_0xe4b62a),this[_0x432b0f(0x6a3)][_0x432b0f(0x63c)][_0x432b0f(0x60d)](_0xe4b62a),_0xe4b62a[_0x432b0f(0x457)](),_0xe4b62a;}[_0x136916(0x217)](_0x3fcfff,_0x26bc83){const _0x1bf23a=_0x136916;if(this['localMediaStreams'][_0x1bf23a(0x2b3)](_0x3fcfff))throw new _0x4b5cf3(_0x235d31[_0x1bf23a(0x248)],_0x1bf23a(0x19e));const _0x6d5c5e=new _0x3a5d9a(this['configs'][_0x1bf23a(0x395)],_0x3fcfff,_0x26bc83,this[_0x1bf23a(0x6a3)][_0x1bf23a(0x5bf)]);return this[_0x1bf23a(0x29d)]['set'](_0x3fcfff,_0x6d5c5e),this[_0x1bf23a(0x6a3)][_0x1bf23a(0x63c)]['registerSystemSource'](_0x6d5c5e),_0x6d5c5e[_0x1bf23a(0x457)](),_0x6d5c5e;}[_0x136916(0x4ab)](_0x1cffc3){const _0x2d8139=_0x136916;if(this[_0x2d8139(0x724)][_0x2d8139(0x2b3)](_0x1cffc3))throw new _0x4b5cf3(_0x235d31[_0x2d8139(0x36d)],_0x2d8139(0x273));const _0x4142e4=new _0xe3381a(this['configs']['localNode'],_0x1cffc3,this[_0x2d8139(0x6a3)][_0x2d8139(0x5bf)]);return this['pubSubTopics'][_0x2d8139(0x5ff)](_0x1cffc3,_0x4142e4),this['configs']['mediator'][_0x2d8139(0x60d)](_0x4142e4),_0x4142e4;}[_0x136916(0x195)](_0x5c8ea8,_0x4b687f,_0x7c23c5,_0x2df279){const _0x32e3bf=_0x136916;this[_0x32e3bf(0x624)][_0x32e3bf(0x2b3)](_0x5c8ea8)||this[_0x32e3bf(0x624)]['set'](_0x5c8ea8,new Map());const _0x2cb87b=this[_0x32e3bf(0x624)]['get'](_0x5c8ea8);if(_0x2cb87b['has'](_0x4b687f))throw new _0x4b5cf3(_0x235d31[_0x32e3bf(0x721)],'Remote\x20MediaStream\x20already\x20exists');const _0x17b422=new _0xd033f3(_0x5c8ea8,'',''),_0x26dc71=new _0x2c0a81(this[_0x32e3bf(0x6a3)]['localNode'],_0x17b422,_0x4b687f,_0x7c23c5,_0x2df279,this[_0x32e3bf(0x6a3)][_0x32e3bf(0x5bf)]);return _0x2cb87b['set'](_0x4b687f,_0x26dc71),this['configs'][_0x32e3bf(0x63c)][_0x32e3bf(0x60d)](_0x26dc71),_0x26dc71;}['getObjectStoreBuckets'](_0x2c24c7){const _0xbaa028=_0x136916,_0x152c9f=Array['from'](this[_0xbaa028(0x240)]['values']());return _0x2c24c7?_0x152c9f[_0xbaa028(0x557)](_0x2c24c7):_0x152c9f;}[_0x136916(0x62e)](_0x2cdc1a){const _0x59ecff=_0x136916,_0x502b0e=Array[_0x59ecff(0x4c4)](this[_0x59ecff(0x291)][_0x59ecff(0x26f)]());return _0x2cdc1a?_0x502b0e[_0x59ecff(0x557)](_0x2cdc1a):_0x502b0e;}[_0x136916(0x679)](_0x4c7b2d){const _0x2040a9=_0x136916,_0x1e2e4f=Array['from'](this[_0x2040a9(0x4c2)][_0x2040a9(0x26f)]());return _0x4c7b2d?_0x1e2e4f[_0x2040a9(0x557)](_0x4c7b2d):_0x1e2e4f;}['getJobWorkers'](_0x732c65){const _0x371fed=_0x136916,_0x450aef=Array[_0x371fed(0x4c4)](this[_0x371fed(0x32d)]['values']());return _0x732c65?_0x450aef[_0x371fed(0x557)](_0x732c65):_0x450aef;}['getGenerativeAIContexts'](_0x2608a7){const _0x1d5a54=_0x136916,_0xca97f9=Array['from'](this['jobDispatchers'][_0x1d5a54(0x26f)]())[_0x1d5a54(0x557)](_0x3c643a=>_0x3c643a instanceof _0x373dd5);return _0x2608a7?_0xca97f9[_0x1d5a54(0x557)](_0x2608a7):_0xca97f9;}[_0x136916(0x3bd)](_0x519215){const _0x3043d1=_0x136916,_0x327c59=Array[_0x3043d1(0x4c4)](this[_0x3043d1(0x32d)][_0x3043d1(0x26f)]())[_0x3043d1(0x557)](_0x538d53=>_0x538d53 instanceof _0x5a1870);return _0x519215?_0x327c59[_0x3043d1(0x557)](_0x519215):_0x327c59;}[_0x136916(0x163)](_0x43f410){const _0x194f61=_0x136916,_0x29e09d=Array[_0x194f61(0x4c4)](this['localMediaStreams']['values']());return _0x43f410?_0x29e09d[_0x194f61(0x557)](_0x43f410):_0x29e09d;}['getPubSubTopics'](_0x19549f){const _0x197faf=_0x136916,_0x159413=Array[_0x197faf(0x4c4)](this['pubSubTopics'][_0x197faf(0x26f)]());return _0x19549f?_0x159413[_0x197faf(0x557)](_0x19549f):_0x159413;}[_0x136916(0x5d7)](_0x59f07e){const _0x46f7f9=_0x136916,_0x39bc63=Array[_0x46f7f9(0x4c4)](this[_0x46f7f9(0x624)]['values']())[_0x46f7f9(0x6ba)]((_0x35ed38,_0x9d1cd5)=>[..._0x35ed38,...Array[_0x46f7f9(0x4c4)](_0x9d1cd5['values']())],[]);return _0x59f07e?_0x39bc63['filter'](_0x59f07e):_0x39bc63;}[_0x136916(0x476)](_0x504be0){const _0xe260ac=_0x136916;switch(_0x504be0[_0xe260ac(0x2dc)][_0xe260ac(0x3fa)]){case _0x46fb30[_0xe260ac(0x63a)]:this[_0xe260ac(0x20a)](_0x504be0[_0xe260ac(0x2dc)]);break;case _0x46fb30[_0xe260ac(0x613)]:this[_0xe260ac(0x322)](_0x504be0[_0xe260ac(0x2dc)]);break;case _0x46fb30[_0xe260ac(0x258)]:this[_0xe260ac(0x76e)](_0x504be0[_0xe260ac(0x2dc)]);break;case _0x46fb30[_0xe260ac(0x2ee)]:this['handleCloseJobWorker'](_0x504be0[_0xe260ac(0x2dc)]);break;case _0x46fb30[_0xe260ac(0x73f)]:this[_0xe260ac(0x52e)](_0x504be0[_0xe260ac(0x2dc)]);break;case _0x46fb30[_0xe260ac(0x43b)]:this[_0xe260ac(0x5cf)](_0x504be0[_0xe260ac(0x2dc)]);break;case _0x46fb30[_0xe260ac(0x3d3)]:this[_0xe260ac(0x777)](_0x504be0['content']);break;case _0x46fb30['CloseKeyValueDatabase']:this['handleCloseKeyValueDatabase'](_0x504be0[_0xe260ac(0x2dc)]);break;case _0x46fb30[_0xe260ac(0x452)]:this[_0xe260ac(0x1db)](_0x504be0[_0xe260ac(0x2dc)]);break;case _0x46fb30[_0xe260ac(0x1f0)]:this['keyValueDatabases'][_0xe260ac(0x2b0)](_0x504be0['content'][_0xe260ac(0x369)])?.[_0xe260ac(0x158)](_0x504be0[_0xe260ac(0xf1)]);break;case _0x46fb30[_0xe260ac(0x6ae)]:this[_0xe260ac(0x291)]['get'](_0x504be0[_0xe260ac(0x2dc)][_0xe260ac(0x369)])?.['processTransactionsDump'](_0x504be0[_0xe260ac(0xf1)],_0x504be0[_0xe260ac(0x2dc)]['transactions']);break;case _0x46fb30['RequestTransactionsValue']:this[_0xe260ac(0x291)][_0xe260ac(0x2b0)](_0x504be0[_0xe260ac(0x2dc)]['label'])?.[_0xe260ac(0x139)](_0x504be0['sourceId'],_0x504be0[_0xe260ac(0x2dc)][_0xe260ac(0x272)]);break;case _0x46fb30[_0xe260ac(0x1cb)]:this[_0xe260ac(0x6a3)][_0xe260ac(0x63c)][_0xe260ac(0x3ce)]('local-media-stream-track-fail',{'label':_0x504be0[_0xe260ac(0x2dc)][_0xe260ac(0x369)],'trackKinds':_0x504be0[_0xe260ac(0x2dc)][_0xe260ac(0x72b)]});}}[_0x136916(0x2a3)]({content:_0x114938}){const _0x216d1d=_0x136916;switch(_0x114938[_0x216d1d(0x3fa)]){case _0x5b5dcb[_0x216d1d(0x68b)]:this['handleNodeJoinNeedPublishedStream'](_0x114938),this[_0x216d1d(0x460)](_0x114938);break;case _0x5b5dcb[_0x216d1d(0x673)]:this[_0x216d1d(0x59e)](_0x114938),this['notifyObjectStoreOfNodeLeave'](_0x114938);}}['handleSubscriptionSystemEvents'](_0x515dd1){const _0x4b52f7=_0x136916;switch(_0x515dd1[_0x4b52f7(0x2dc)][_0x4b52f7(0x3fa)]){case _0x5f37ce[_0x4b52f7(0x1e7)]:this['handleSubscribeMediaStream'](_0x515dd1[_0x4b52f7(0xf1)],_0x515dd1[_0x4b52f7(0x2dc)]);break;case _0x5f37ce[_0x4b52f7(0x6cd)]:this[_0x4b52f7(0x32f)](_0x515dd1[_0x4b52f7(0xf1)],_0x515dd1[_0x4b52f7(0x2dc)]);break;case _0x5f37ce['UnsubscribeMediaStream']:this[_0x4b52f7(0x506)](_0x515dd1[_0x4b52f7(0xf1)],_0x515dd1['content']);}}[_0x136916(0x1db)](_0x196127){const _0x489513=_0x136916;if(0x0===_0x196127['remainingTracks'])this['remoteMediaStreams'][_0x489513(0x2b0)](_0x196127[_0x489513(0x754)])?.[_0x489513(0x2b0)](_0x196127['label'])?.[_0x489513(0x1ee)]();else{const _0x279d22=this[_0x489513(0x624)][_0x489513(0x2b0)](_0x196127[_0x489513(0x754)])?.['get'](_0x196127[_0x489513(0x369)]);if(!_0x279d22)return;_0x196127['trackKinds'][_0x489513(0x1b3)](_0x20370f=>_0x279d22[_0x489513(0x3bb)](_0x20370f));}}[_0x136916(0x20a)](_0x59b2a5){const _0x10bf11=_0x136916,{label:_0x55abd5,ownerId:_0x2f9511,stream:{streamId:_0x31ec49,availableTrackKinds:_0x58623c}}=_0x59b2a5;if(this[_0x10bf11(0x624)][_0x10bf11(0x2b0)](_0x2f9511)?.['has'](_0x55abd5))return void _0x148f53[_0x10bf11(0x2f4)](_0x19b950[_0x10bf11(0x632)],_0x10bf11(0x19e),_0x31ec49);const _0xfdef4=this[_0x10bf11(0x195)](_0x2f9511,_0x55abd5,_0x31ec49,_0x58623c);this[_0x10bf11(0x6a3)][_0x10bf11(0x63c)][_0x10bf11(0x3ce)](_0x10bf11(0x538),{'ownerId':_0x2f9511,'stream':_0xfdef4});}[_0x136916(0x322)]({ownerId:_0x16f23f,label:_0x56d059}){const _0x15db5f=_0x136916;this[_0x15db5f(0x405)](_0x16f23f,_0x56d059),this['configs'][_0x15db5f(0x63c)][_0x15db5f(0x3ce)](_0x15db5f(0x48d),{'ownerId':_0x16f23f,'label':_0x56d059});}['handleCloseMediaStream'](_0x5c4ff9){const _0xd973dc=_0x136916;this[_0xd973dc(0x1bf)](_0x5c4ff9[_0xd973dc(0x369)]);}[_0x136916(0x76e)](_0x484f67){const _0x5c8734=_0x136916;this[_0x5c8734(0x305)](_0x484f67[_0x5c8734(0x369)]);}[_0x136916(0x3c6)](_0x2095e3){const _0x23db93=_0x136916;this['removeJobWorker'](_0x2095e3[_0x23db93(0x369)]);}[_0x136916(0x777)](_0x23884b){const _0x5ddf96=_0x136916;this[_0x5ddf96(0x2a2)](_0x23884b['label']);}['handleClosePubSubTopic'](_0x321d80){const _0x3c3dfd=_0x136916;this[_0x3c3dfd(0x287)](_0x321d80[_0x3c3dfd(0x369)]);}[_0x136916(0x3fc)](_0x319668){const _0x3b7a29=_0x136916;this['removeKeyValueDatabase'](_0x319668[_0x3b7a29(0x369)]);}['handleSubscribeMediaStream'](_0x38c6eb,_0x56fb87){const _0x687c0b=_0x136916,{ownerId:_0x2ab356,label:_0x7edea8}=_0x56fb87;let _0x34afcf;_0x34afcf=_0x2ab356!==this[_0x687c0b(0x6a3)][_0x687c0b(0x395)][_0x687c0b(0x716)]()?this['remoteMediaStreams'][_0x687c0b(0x2b0)](_0x2ab356)[_0x687c0b(0x2b0)](_0x7edea8):this[_0x687c0b(0x29d)][_0x687c0b(0x2b0)](_0x7edea8),_0x34afcf[_0x687c0b(0x2a6)](_0x38c6eb,_0x56fb87[_0x687c0b(0x30c)])['subscribe'](_0x56fb87,_0x34afcf[_0x687c0b(0x2ae)]());}[_0x136916(0x32f)](_0x3cdbc3,_0x46c92e){const _0x3a6c9a=_0x136916,{ownerId:_0x1c205c,label:_0x8fb3d9}=_0x46c92e;let _0x1a5ffa;_0x1a5ffa=_0x1c205c!==this[_0x3a6c9a(0x6a3)][_0x3a6c9a(0x395)][_0x3a6c9a(0x716)]()?this['remoteMediaStreams'][_0x3a6c9a(0x2b0)](_0x1c205c)[_0x3a6c9a(0x2b0)](_0x8fb3d9):this[_0x3a6c9a(0x29d)][_0x3a6c9a(0x2b0)](_0x8fb3d9),_0x1a5ffa['getShareableStream'](_0x3cdbc3,_0x46c92e[_0x3a6c9a(0x30c)])[_0x3a6c9a(0x4cb)](_0x46c92e);}[_0x136916(0x506)](_0x196ea4,_0x2ad2b6){const _0x1f98a0=_0x136916,{ownerId:_0x2c35f0,label:_0x316f46}=_0x2ad2b6;let _0x3b2e3e;_0x3b2e3e=_0x2c35f0!==this[_0x1f98a0(0x6a3)][_0x1f98a0(0x395)][_0x1f98a0(0x716)]()?this[_0x1f98a0(0x624)][_0x1f98a0(0x2b0)](_0x2c35f0)[_0x1f98a0(0x2b0)](_0x316f46):this[_0x1f98a0(0x29d)][_0x1f98a0(0x2b0)](_0x316f46),_0x3b2e3e[_0x1f98a0(0x2a6)](_0x196ea4)[_0x1f98a0(0xef)](_0x2ad2b6);}[_0x136916(0x338)]({id:_0x3937dc}){const _0x31da00=_0x136916;this[_0x31da00(0x163)]()[_0x31da00(0x1b3)](_0x226f6b=>{_0x226f6b['publish'](_0x3937dc);});}['handleNodeLeave']({id:_0x4c4f8d}){this['getRemoteMediaStreams'](_0x302279=>_0x302279['getOwnerId']()===_0x4c4f8d)['forEach'](_0x46aa79=>{const _0x116433=a0_0x532f;this[_0x116433(0x405)](_0x46aa79[_0x116433(0xf7)](),_0x46aa79[_0x116433(0x2b4)]());});}[_0x136916(0x460)]({id:_0x2b948e}){this['objectStores']['forEach'](_0xc09fb5=>_0xc09fb5['handleNodeJoin'](_0x2b948e));}[_0x136916(0x6b6)]({id:_0x4ec068}){const _0x4b67e8=_0x136916;this['objectStores'][_0x4b67e8(0x1b3)](_0x1bdc15=>_0x1bdc15['handleNodeLeave'](_0x4ec068));}[_0x136916(0x305)](_0x13705f){const _0x3c4fd9=_0x136916;if(!this['jobDispatchers'][_0x3c4fd9(0x2b3)](_0x13705f))throw new _0x4b5cf3(_0x235d31[_0x3c4fd9(0x606)],_0x3c4fd9(0x421));const _0x2a770e=this['jobDispatchers']['get'](_0x13705f);this[_0x3c4fd9(0x4c2)][_0x3c4fd9(0x21d)](_0x13705f),_0x2a770e['destroy'](),this['configs'][_0x3c4fd9(0x63c)][_0x3c4fd9(0x36e)](_0x2a770e);}[_0x136916(0x220)](_0x415488){const _0x58d16e=_0x136916;if(!this[_0x58d16e(0x32d)][_0x58d16e(0x2b3)](_0x415488))throw new _0x4b5cf3(_0x235d31[_0x58d16e(0x5dd)],'Job\x20Worker\x20does\x20not\x20exist');const _0x418f0c=this[_0x58d16e(0x32d)][_0x58d16e(0x2b0)](_0x415488);this['jobWorkers'][_0x58d16e(0x21d)](_0x415488),_0x418f0c[_0x58d16e(0x1ee)](),this[_0x58d16e(0x6a3)][_0x58d16e(0x63c)][_0x58d16e(0x36e)](_0x418f0c);}['removeObjectStore'](_0x55021f){const _0x27b1b5=_0x136916;if(!this['objectStores']['has'](_0x55021f))throw new _0x4b5cf3(_0x235d31[_0x27b1b5(0x3ad)],_0x27b1b5(0x45a));const _0xaa476=this[_0x27b1b5(0x240)][_0x27b1b5(0x2b0)](_0x55021f);this[_0x27b1b5(0x240)]['delete'](_0x55021f),_0xaa476[_0x27b1b5(0x1ee)](),this[_0x27b1b5(0x6a3)][_0x27b1b5(0x63c)][_0x27b1b5(0x36e)](_0xaa476);}[_0x136916(0x287)](_0x5110d2){const _0x49acef=_0x136916;if(!this[_0x49acef(0x724)][_0x49acef(0x2b3)](_0x5110d2))throw new _0x4b5cf3(_0x235d31['PubSubTopicDoesNotExist'],_0x49acef(0x45a));const _0x12d54e=this['pubSubTopics'][_0x49acef(0x2b0)](_0x5110d2);this[_0x49acef(0x724)]['delete'](_0x5110d2),_0x12d54e[_0x49acef(0x1ee)](),this[_0x49acef(0x6a3)][_0x49acef(0x63c)]['unregisterSystemSource'](_0x12d54e);}['removeKeyValueDatabase'](_0x1261f7){const _0x490b9f=_0x136916;if(!this['keyValueDatabases'][_0x490b9f(0x2b3)](_0x1261f7))throw new _0x4b5cf3(_0x235d31[_0x490b9f(0x28c)],_0x490b9f(0x101));const _0x4e6160=this[_0x490b9f(0x291)][_0x490b9f(0x2b0)](_0x1261f7);this['keyValueDatabases']['delete'](_0x1261f7),_0x4e6160[_0x490b9f(0x1ee)](),this[_0x490b9f(0x6a3)][_0x490b9f(0x63c)][_0x490b9f(0x36e)](_0x4e6160);}['removeLocalMediaStream'](_0x46beee){const _0x4f8caf=_0x136916;if(!this[_0x4f8caf(0x29d)][_0x4f8caf(0x2b3)](_0x46beee))throw new _0x2fb975(_0x2fb975['codes']['LocalMediaStreamDoesNotExist'],{'label':_0x46beee,'localId':this[_0x4f8caf(0x6a3)][_0x4f8caf(0x395)][_0x4f8caf(0x716)]()});const _0x4a8edf=this['localMediaStreams'][_0x4f8caf(0x2b0)](_0x46beee);this[_0x4f8caf(0x6a3)][_0x4f8caf(0x63c)][_0x4f8caf(0x36e)](_0x4a8edf),_0x4a8edf[_0x4f8caf(0x1ee)](),this['localMediaStreams'][_0x4f8caf(0x21d)](_0x46beee);}[_0x136916(0x405)](_0x2dc410,_0x1a6e63){const _0x57bbb1=_0x136916;if(!this[_0x57bbb1(0x624)][_0x57bbb1(0x2b3)](_0x2dc410))throw new _0x2fb975(_0x2fb975[_0x57bbb1(0x516)][_0x57bbb1(0x527)],{'nodeId':_0x2dc410,'localId':this[_0x57bbb1(0x6a3)][_0x57bbb1(0x395)][_0x57bbb1(0x716)]()});const _0x1f8bf2=this[_0x57bbb1(0x624)][_0x57bbb1(0x2b0)](_0x2dc410);if(!_0x1f8bf2['has'](_0x1a6e63))throw new _0x2fb975(_0x2fb975[_0x57bbb1(0x516)][_0x57bbb1(0x652)],{'nodeId':_0x2dc410,'label':_0x1a6e63,'localId':this[_0x57bbb1(0x6a3)][_0x57bbb1(0x395)][_0x57bbb1(0x716)]()});const _0x5b2f34=_0x1f8bf2[_0x57bbb1(0x2b0)](_0x1a6e63);this[_0x57bbb1(0x6a3)][_0x57bbb1(0x63c)]['unregisterSystemSource'](_0x5b2f34),_0x5b2f34[_0x57bbb1(0x1ee)](),_0x1f8bf2[_0x57bbb1(0x21d)](_0x1a6e63);}}var _0x48a3fa,_0x4a2180,_0x40f7d5;!function(_0x15f884){const _0x2c4379=_0x136916;_0x15f884[_0x2c4379(0x763)]=_0x2c4379(0x741),_0x15f884['DTVolatility']=_0x2c4379(0x546),_0x15f884[_0x2c4379(0x298)]=_0x2c4379(0x47f),_0x15f884['Bitrate']='bitrate',_0x15f884[_0x2c4379(0x76d)]=_0x2c4379(0x10e),_0x15f884[_0x2c4379(0x17b)]=_0x2c4379(0x388),_0x15f884[_0x2c4379(0x5b1)]=_0x2c4379(0x6f9),_0x15f884['AudioVideoDelay']=_0x2c4379(0x4bc);}(_0x48a3fa||(_0x48a3fa={})),function(_0xc937de){const _0x387021=_0x136916;_0xc937de[_0x387021(0x53a)]=_0x387021(0x302),_0xc937de[_0x387021(0x298)]=_0x387021(0x2e2),_0xc937de[_0x387021(0x39e)]=_0x387021(0x74b),_0xc937de[_0x387021(0x17b)]='cpu.fps',_0xc937de['Bitrate']='bandwidth.bitrate',_0xc937de[_0x387021(0x76d)]='bandwidth.jitter',_0xc937de[_0x387021(0x5b1)]=_0x387021(0x37a);}(_0x4a2180||(_0x4a2180={})),function(_0x2aba18){_0x2aba18[_0x2aba18['Problem']=0x0]='Problem';}(_0x40f7d5||(_0x40f7d5={}));const _0x3fc94d=[{'type':_0x48a3fa[_0x136916(0x763)],'reportMetric':_0x4cf450=>_0x4cf450[_0x136916(0x763)],'maxThreshold':2.5},{'type':_0x48a3fa[_0x136916(0x5a7)],'reportMetric':_0x16d7a8=>_0x16d7a8['DTVolatility'],'maxThreshold':0.5}],_0x161324=[{'type':_0x48a3fa[_0x136916(0x298)],'reportMetric':_0x181978=>{const _0x32a0ee=_0x136916,_0x3284b5=0x3e8/_0x181978[_0x32a0ee(0x74a)];return _0x181978[_0x32a0ee(0x284)]/_0x3284b5;},'maxThreshold':0.75},{'type':_0x48a3fa[_0x136916(0x62d)],'reportMetric':_0x3e7fb6=>{const _0x3af79f=_0x136916,_0x4a13fa=_0x3e7fb6['FPS']*_0x3e7fb6[_0x3af79f(0x433)]*_0x3e7fb6[_0x3af79f(0x71a)]*0.12;return _0x3e7fb6[_0x3af79f(0x35e)]/_0x4a13fa;},'minThreshold':0.25},{'type':_0x48a3fa[_0x136916(0x76d)],'reportMetric':_0x4f484c=>_0x4f484c[_0x136916(0x10e)],'maxThreshold':0.6},{'type':_0x48a3fa['FramePerSecond'],'reportMetric':_0x357139=>_0x357139[_0x136916(0x74a)],'minThreshold':0xa}],_0x21c892=[{'type':_0x48a3fa[_0x136916(0x76d)],'reportMetric':_0x38e9cf=>_0x38e9cf[_0x136916(0x10e)],'maxThreshold':0.6}],_0x7d81af=[{'type':_0x48a3fa[_0x136916(0x5b1)],'reportMetric':_0x40404f=>_0x40404f[_0x136916(0x381)],'maxThreshold':0x1/0x0}],_0x254bed=[{'type':_0x48a3fa[_0x136916(0x39e)],'reportMetric':_0x54d1bc=>_0x54d1bc[_0x136916(0x39e)],'maxThreshold':0x12c}],_0x5b2f50=[{'type':_0x4a2180[_0x136916(0x53a)],'issues':[{'type':_0x48a3fa[_0x136916(0x763)],'threshold':0x5},{'type':_0x48a3fa[_0x136916(0x5a7)],'threshold':0x5}]},{'type':_0x4a2180[_0x136916(0x298)],'issues':[{'type':_0x48a3fa['TimePerFrame'],'threshold':0x3}]},{'type':_0x4a2180['AudioVideoDelay'],'issues':[{'type':_0x48a3fa[_0x136916(0x39e)],'threshold':0x2}]},{'type':_0x4a2180['FramePerSecond'],'issues':[{'type':_0x48a3fa[_0x136916(0x17b)],'threshold':0x3}]},{'type':_0x4a2180[_0x136916(0x62d)],'issues':[{'type':_0x48a3fa[_0x136916(0x62d)],'threshold':0x3}]},{'type':_0x4a2180[_0x136916(0x76d)],'issues':[{'type':_0x48a3fa[_0x136916(0x76d)],'threshold':0x3}]},{'type':_0x4a2180[_0x136916(0x5b1)],'issues':[{'type':_0x48a3fa[_0x136916(0x5b1)],'threshold':0x3}]}];var _0x5604fa,_0x45b603;!function(_0x74a398){const _0x107a3c=_0x136916;_0x74a398[_0x74a398['StreamReport']=0x0]='StreamReport',_0x74a398[_0x74a398[_0x107a3c(0x54f)]=0x1]='LocalReport';}(_0x5604fa||(_0x5604fa={}));class _0x41d1d6{[_0x136916(0x6a3)];[_0x136916(0x512)]=[];[_0x136916(0x74d)];constructor(_0x45a4c2){const _0x52a271=_0x136916;this[_0x52a271(0x6a3)]=_0x45a4c2,this['configs'][_0x52a271(0x63c)][_0x52a271(0x60d)](this);}['registerSystemPublisher'](_0x3c6fc5){this['systemTopic']=_0x3c6fc5;}[_0x136916(0x748)](){const _0x2f1363=_0x136916;this[_0x2f1363(0x74d)]=void 0x0;}[_0x136916(0x348)](){const _0x595e74=_0x136916;this['configs'][_0x595e74(0x63c)][_0x595e74(0x36e)](this),this[_0x595e74(0x512)]=[];}['handleStatsSystemEvents'](_0x59b76a){const _0x2c6242=_0x136916;switch(_0x59b76a[_0x2c6242(0x2dc)][_0x2c6242(0x3fa)]){case _0x5604fa[_0x2c6242(0x54f)]:this[_0x2c6242(0x2cd)](_0x59b76a['content'][_0x2c6242(0x757)]);break;case _0x5604fa['StreamReport']:this[_0x2c6242(0x24f)](_0x59b76a[_0x2c6242(0x2dc)][_0x2c6242(0x757)]);}}[_0x136916(0x30f)](_0x822c43,_0x3ae4a8,_0x4c2fb9,_0x3b8ba0){const _0x28632d=_0x136916,_0x221838=_0x5b2f50[_0x28632d(0x21f)](_0x43444e=>_0x43444e[_0x28632d(0x512)][_0x28632d(0x326)](_0x268131=>_0x268131[_0x28632d(0x3fa)]===_0x822c43));_0x3b8ba0>=_0x221838[_0x28632d(0x512)][_0x28632d(0x21f)](_0x5b390b=>_0x5b390b['type']===_0x822c43)[_0x28632d(0x105)]&&(this['addProblem'](_0x221838['type'],_0x3ae4a8,_0x4c2fb9),this['issues']=this[_0x28632d(0x512)][_0x28632d(0x557)](_0x21fdcd=>!(_0x21fdcd['type']===_0x822c43&&_0x21fdcd[_0x28632d(0x39b)]===_0x3ae4a8&&_0x21fdcd['origin']===_0x4c2fb9)));}['detectLocalIssues'](_0xb03213){_0x3fc94d['forEach'](_0x4b4df0=>{const _0x325da2=a0_0x532f,_0x3d275d=_0x4b4df0['reportMetric'](_0xb03213);_0x4b4df0[_0x325da2(0x4b1)]&&_0x3d275d>_0x4b4df0[_0x325da2(0x4b1)]&&this[_0x325da2(0x17c)](_0x4b4df0[_0x325da2(0x3fa)],this[_0x325da2(0x6a3)][_0x325da2(0x395)]['getId'](),_0x85605b[_0x325da2(0x4d5)],_0x3d275d),_0x4b4df0[_0x325da2(0x3ef)]&&_0x3d275d<_0x4b4df0[_0x325da2(0x3ef)]&&this[_0x325da2(0x17c)](_0x4b4df0[_0x325da2(0x3fa)],this[_0x325da2(0x6a3)][_0x325da2(0x395)][_0x325da2(0x716)](),_0x85605b[_0x325da2(0x4d5)],_0x3d275d);});}[_0x136916(0x24f)](_0x34e826){const _0x5966f1=_0x136916;let _0x44c385=[];switch(_0x34e826['origin']){case _0x85605b['Sender']:_0x44c385=_0x7d81af;break;case _0x85605b[_0x5966f1(0x3fe)]:_0x44c385=_0x254bed;}_0x34e826[_0x5966f1(0x6dc)]&&this[_0x5966f1(0x428)](_0x34e826[_0x5966f1(0x39b)],_0x85605b[_0x5966f1(0x4d5)],_0x34e826[_0x5966f1(0x6dc)]),_0x34e826[_0x5966f1(0x1b1)]&&this[_0x5966f1(0x609)](_0x34e826[_0x5966f1(0x39b)],_0x85605b[_0x5966f1(0x4d5)],_0x34e826[_0x5966f1(0x1b1)]),_0x44c385[_0x5966f1(0x1b3)](_0xd5ba1f=>{const _0xf4b88f=_0x5966f1,_0x1b27a6=_0xd5ba1f['reportMetric'](_0x34e826);_0xd5ba1f[_0xf4b88f(0x4b1)]&&_0x1b27a6>_0xd5ba1f[_0xf4b88f(0x4b1)]&&this[_0xf4b88f(0x17c)](_0xd5ba1f[_0xf4b88f(0x3fa)],_0x34e826[_0xf4b88f(0x39b)],_0x85605b[_0xf4b88f(0x4d5)],_0x1b27a6),_0xd5ba1f[_0xf4b88f(0x3ef)]&&_0x1b27a6<_0xd5ba1f[_0xf4b88f(0x3ef)]&&this[_0xf4b88f(0x17c)](_0xd5ba1f[_0xf4b88f(0x3fa)],_0x34e826['nodeId'],_0x85605b[_0xf4b88f(0x4d5)],_0x1b27a6);});}['detectVideoIssues'](_0x173765,_0x3b8811,_0xcac248){const _0x1d557f=_0x136916;0x0!==_0xcac248[_0x1d557f(0x35e)]&&_0x161324[_0x1d557f(0x1b3)](_0x2f7c66=>{const _0x4f82b7=_0x1d557f,_0x11bdf6=_0x2f7c66['reportMetric'](_0xcac248);_0x2f7c66[_0x4f82b7(0x4b1)]&&_0x11bdf6>_0x2f7c66['maxThreshold']&&this[_0x4f82b7(0x17c)](_0x2f7c66['type'],_0x173765,_0x3b8811,_0x11bdf6,'video'),_0x2f7c66[_0x4f82b7(0x3ef)]&&_0x11bdf6<_0x2f7c66[_0x4f82b7(0x3ef)]&&this[_0x4f82b7(0x17c)](_0x2f7c66[_0x4f82b7(0x3fa)],_0x173765,_0x3b8811,_0x11bdf6,_0x4f82b7(0x6dc));});}[_0x136916(0x609)](_0x5646b5,_0xa6bb6,_0x283b05){const _0x23ca30=_0x136916;0x0!==_0x283b05['bitrate']&&_0x21c892[_0x23ca30(0x1b3)](_0x52ae0e=>{const _0x3fda3a=_0x23ca30,_0x104642=_0x52ae0e[_0x3fda3a(0x297)](_0x283b05);_0x52ae0e[_0x3fda3a(0x4b1)]&&_0x104642>_0x52ae0e[_0x3fda3a(0x4b1)]&&this[_0x3fda3a(0x17c)](_0x52ae0e[_0x3fda3a(0x3fa)],_0x5646b5,_0xa6bb6,_0x104642,_0x3fda3a(0x1b1)),_0x52ae0e[_0x3fda3a(0x3ef)]&&_0x104642<_0x52ae0e[_0x3fda3a(0x3ef)]&&this['addIssue'](_0x52ae0e[_0x3fda3a(0x3fa)],_0x5646b5,_0xa6bb6,_0x104642,_0x3fda3a(0x1b1));});}[_0x136916(0x17c)](_0x488a71,_0x427696,_0x296ce7,_0x554060,_0x28566c){const _0x47ffe9=_0x136916;_0x148f53['log'](_0x19b950[_0x47ffe9(0x4b3)],'Issue\x20detected:\x20'+_0x488a71,_0x488a71,_0x554060),_0x148f53[_0x47ffe9(0x70d)]('issue',{'clusterId':this[_0x47ffe9(0x6a3)][_0x47ffe9(0x5bf)],'nodeId':this[_0x47ffe9(0x6a3)][_0x47ffe9(0x395)][_0x47ffe9(0x716)](),'nodeType':this[_0x47ffe9(0x6a3)][_0x47ffe9(0x395)][_0x47ffe9(0x3fa)],'remoteId':_0x427696,'data':{'type':_0x488a71,'value':_0x554060,'kind':_0x28566c}}),this[_0x47ffe9(0x512)]=this['issues'][_0x47ffe9(0x557)](_0x506f79=>Date[_0x47ffe9(0x154)]()-_0x506f79[_0x47ffe9(0x3b6)]<0x7530),this[_0x47ffe9(0x512)][_0x47ffe9(0x5ac)]({'timestamp':Date[_0x47ffe9(0x154)](),'type':_0x488a71,'nodeId':_0x427696,'origin':_0x296ce7,'value':_0x554060,'kind':_0x28566c});const _0x5935d6=this['issues'][_0x47ffe9(0x557)](_0x112d28=>_0x112d28[_0x47ffe9(0x3fa)]===_0x488a71&&_0x112d28[_0x47ffe9(0x39b)]===_0x427696&&_0x112d28[_0x47ffe9(0x5f0)]===_0x296ce7)[_0x47ffe9(0x3a9)];this['detectProblems'](_0x488a71,_0x427696,_0x296ce7,_0x5935d6);}['addProblem'](_0x377aab,_0x4be7b0,_0x1d76ab){const _0x2b194e=_0x136916;_0x148f53[_0x2b194e(0x2f4)](_0x19b950['Detection'],'Problem\x20detected:\x20'+_0x377aab),_0x148f53['logEvent']('problem',{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x2b194e(0x6a3)][_0x2b194e(0x395)][_0x2b194e(0x716)](),'nodeType':this[_0x2b194e(0x6a3)][_0x2b194e(0x395)][_0x2b194e(0x3fa)],'remoteId':_0x4be7b0,'data':{'type':_0x377aab}}),this[_0x2b194e(0x74d)]?.['publish']({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x2b194e(0x4b3)],'content':{'type':_0x40f7d5[_0x2b194e(0x67a)],'data':{'timestamp':Date[_0x2b194e(0x154)](),'nodeId':_0x4be7b0,'origin':_0x85605b[_0x2b194e(0x4d5)],'type':_0x377aab}}});}}class _0x431d18 extends _0x49228a{[_0x136916(0x3fa)]=_0x1095f4[_0x136916(0x60b)]['Agent'];}class _0x78102 extends _0x431d18{[_0x136916(0x74d)];[_0x136916(0xee)]=Date['now']();[_0x136916(0x293)];['lastUpdated'];[_0x136916(0x348)](){const _0x28e6f1=_0x136916;this[_0x28e6f1(0x293)]&&(clearTimeout(this[_0x28e6f1(0x293)]),delete this[_0x28e6f1(0x293)]),delete this[_0x28e6f1(0x4b2)],this['currentVersion']=Date[_0x28e6f1(0x154)](),super[_0x28e6f1(0x348)]();}[_0x136916(0x4cd)](_0x4e028d){const _0x391a92=_0x136916;this[_0x391a92(0x74d)]=_0x4e028d;}[_0x136916(0x748)](){const _0x4b2652=_0x136916;delete this[_0x4b2652(0x74d)];}['answerJoin'](_0x550b36){const _0x28a780=_0x136916;!this[_0x28a780(0x293)]&&this[_0x28a780(0x587)]&&this['systemTopic'][_0x28a780(0x457)]({'sourceId':this['id'],'destinationIds':[_0x550b36],'propagate':!0x0,'messageType':_0x15f44c[_0x28a780(0x586)],'content':{'type':_0x5b5dcb[_0x28a780(0x1ad)],'id':this['id'],'metaData':{'type':this[_0x28a780(0x3fa)]},'rank':this[_0x28a780(0x396)](),'remoteConnections':Array[_0x28a780(0x4c4)](this['remoteConnections']),'version':this['currentVersion']}});}['addRemoteConnection'](_0x436414){const _0x4da519=_0x136916;this[_0x4da519(0x610)]['has'](_0x436414)||(this[_0x4da519(0x610)][_0x4da519(0x759)](_0x436414),this[_0x4da519(0x77a)](),this[_0x4da519(0x31e)](!0x0));}[_0x136916(0x472)](_0x688da7){const _0x42f1a0=_0x136916;this[_0x42f1a0(0x610)][_0x42f1a0(0x2b3)](_0x688da7)&&(this[_0x42f1a0(0x610)][_0x42f1a0(0x21d)](_0x688da7),this[_0x42f1a0(0x77a)](),this[_0x42f1a0(0x31e)](!0x0));}[_0x136916(0x3b9)](){const _0x4be251=_0x136916;return this[_0x4be251(0xee)];}[_0x136916(0x265)](_0x1b625f,_0x195a5c=!0x0){const _0x39bc48=_0x136916;this['rank']!==_0x1b625f&&(this['rank']=_0x1b625f,_0x195a5c&&(this[_0x39bc48(0x77a)](),this[_0x39bc48(0x31e)]()));}[_0x136916(0x77a)](){const _0x5745f6=_0x136916;this[_0x5745f6(0xee)]=Date[_0x5745f6(0x154)]();}['publishUserUpdate'](_0x2a7c72=!0x1){const _0x108ab8=_0x136916;if(this[_0x108ab8(0x587)]){if(this[_0x108ab8(0x4b2)]||(this[_0x108ab8(0x4b2)]=Date[_0x108ab8(0x154)]()),this[_0x108ab8(0x293)]){if(Date['now']()-this[_0x108ab8(0x4b2)]>0x2328)return;clearTimeout(this['updateDebounceTimeout']);}this[_0x108ab8(0x293)]=setTimeout(()=>{const _0x241002=_0x108ab8;delete this[_0x241002(0x4b2)],delete this[_0x241002(0x293)],this['systemTopic'][_0x241002(0x457)]({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x15f44c[_0x241002(0x586)],'content':{'type':_0x2a7c72?_0x5b5dcb[_0x241002(0x355)]:_0x5b5dcb[_0x241002(0x1ad)],'id':this['id'],'metaData':{'type':this[_0x241002(0x3fa)]},'rank':this[_0x241002(0x396)](),'remoteConnections':Array[_0x241002(0x4c4)](this['remoteConnections']),'version':this['currentVersion']}});},0x3e8);}}}class _0x1f7b2b extends _0xd033f3{[_0x136916(0x74d)];[_0x136916(0xee)]=Date[_0x136916(0x154)]();[_0x136916(0x293)];[_0x136916(0x4b2)];[_0x136916(0x348)](){const _0x1536bd=_0x136916;this[_0x1536bd(0x293)]&&(clearTimeout(this[_0x1536bd(0x293)]),delete this[_0x1536bd(0x293)]),delete this[_0x1536bd(0x4b2)],this[_0x1536bd(0xee)]=Date[_0x1536bd(0x154)](),super['close']();}[_0x136916(0x4cd)](_0x21d13c){const _0x25cf79=_0x136916;this[_0x25cf79(0x74d)]=_0x21d13c;}[_0x136916(0x748)](){const _0x4a5649=_0x136916;delete this[_0x4a5649(0x74d)];}['answerJoin'](_0x1e8f79){const _0x1ab82f=_0x136916;!this[_0x1ab82f(0x293)]&&this[_0x1ab82f(0x587)]&&this[_0x1ab82f(0x74d)][_0x1ab82f(0x457)]({'sourceId':this['id'],'destinationIds':[_0x1e8f79],'propagate':!0x0,'messageType':_0x15f44c['Node'],'content':{'type':_0x5b5dcb['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x1ab82f(0x3fa)],'displayName':this[_0x1ab82f(0x603)](),'email':this[_0x1ab82f(0x34f)]()},'rank':this['getRank'](),'remoteConnections':Array[_0x1ab82f(0x4c4)](this[_0x1ab82f(0x610)]),'version':this[_0x1ab82f(0xee)]}});}[_0x136916(0x5c5)](_0xdd9db7){const _0x29f3bd=_0x136916;this[_0x29f3bd(0x610)][_0x29f3bd(0x2b3)](_0xdd9db7)||(this[_0x29f3bd(0x610)][_0x29f3bd(0x759)](_0xdd9db7),this[_0x29f3bd(0x77a)](),this[_0x29f3bd(0x31e)](!0x0));}['removeRemoteConnection'](_0x38b5a6){const _0x55a034=_0x136916;this[_0x55a034(0x610)][_0x55a034(0x2b3)](_0x38b5a6)&&(this['remoteConnections']['delete'](_0x38b5a6),this['incrementVersion'](),this[_0x55a034(0x31e)](!0x0));}[_0x136916(0x3b9)](){const _0x34ca0d=_0x136916;return this[_0x34ca0d(0xee)];}[_0x136916(0x64f)](_0x4de4c6){const _0x3afacd=_0x136916;this[_0x3afacd(0x2ce)]!==_0x4de4c6&&(this[_0x3afacd(0x2ce)]=_0x4de4c6,this['incrementVersion'](),this[_0x3afacd(0x31e)]());}[_0x136916(0x40a)](_0x3907c9){const _0x5900ed=_0x136916;this[_0x5900ed(0x6b1)]!==_0x3907c9&&(this[_0x5900ed(0x6b1)]=_0x3907c9,this[_0x5900ed(0x77a)](),this[_0x5900ed(0x31e)]());}[_0x136916(0x265)](_0x2f50c7,_0x35fa05=!0x0){const _0x3753c2=_0x136916;this['rank']!==_0x2f50c7&&(this[_0x3753c2(0x587)]=_0x2f50c7,_0x35fa05&&(this['incrementVersion'](),this[_0x3753c2(0x31e)]()));}['incrementVersion'](){const _0x51bd32=_0x136916;this['currentVersion']=Date[_0x51bd32(0x154)]();}['publishUserUpdate'](_0x590369=!0x1){const _0x3184f0=_0x136916;if(this[_0x3184f0(0x587)]){if(this[_0x3184f0(0x4b2)]||(this[_0x3184f0(0x4b2)]=Date[_0x3184f0(0x154)]()),this[_0x3184f0(0x293)]){if(Date[_0x3184f0(0x154)]()-this[_0x3184f0(0x4b2)]>0x2328)return;clearTimeout(this[_0x3184f0(0x293)]);}this[_0x3184f0(0x293)]=setTimeout(()=>{const _0x54adfa=_0x3184f0;delete this[_0x54adfa(0x4b2)],delete this[_0x54adfa(0x293)],this[_0x54adfa(0x74d)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x15f44c['Node'],'content':{'type':_0x590369?_0x5b5dcb[_0x54adfa(0x355)]:_0x5b5dcb[_0x54adfa(0x1ad)],'id':this['id'],'metaData':{'type':this[_0x54adfa(0x3fa)],'displayName':this[_0x54adfa(0x603)](),'email':this[_0x54adfa(0x34f)]()},'rank':this[_0x54adfa(0x396)](),'remoteConnections':Array[_0x54adfa(0x4c4)](this[_0x54adfa(0x610)]),'version':this[_0x54adfa(0xee)]}});},0x3e8);}}}class _0x99f262{['id'];[_0x136916(0x173)];[_0x136916(0x180)];[_0x136916(0x6bf)];[_0x136916(0x3fa)]=_0x1095f4[_0x136916(0x60b)]['Agent'];['lastCapacityReport'];constructor(_0x27cdf5,_0x3d96ea,_0x2af98f,_0xfee8e2){const _0x37735b=_0x136916;this['id']=_0x27cdf5,this[_0x37735b(0x173)]=_0x3d96ea,this['vendorId']=_0x2af98f,this['agentConfig']=_0xfee8e2;}[_0x136916(0x716)](){return this['id'];}[_0x136916(0x767)](_0x1188e3){const _0xa011c9=_0x136916,_0x157b95=(0x0,_0x1d882b['onSnapshot'])((0x0,_0x1d882b['doc'])(_0x329b41[_0xa011c9(0x61b)](),_0xa011c9(0x3a1)+this[_0xa011c9(0x180)]+_0xa011c9(0x465)+this[_0xa011c9(0x173)]),_0xec9e35=>{const _0x87eade=_0xa011c9;if(_0xec9e35[_0x87eade(0x5a9)]()){const _0x110fad=_0xec9e35[_0x87eade(0x757)]();if(this[_0x87eade(0x6bf)][_0x87eade(0x3b6)][_0x87eade(0x6ad)](_0x110fad[_0x87eade(0x3b6)]))return;_0x148f53['log'](_0x19b950[_0x87eade(0x586)],_0x87eade(0x5b9),{'agentId':this['id'],'groupId':this[_0x87eade(0x173)],'oldConfig':this[_0x87eade(0x6bf)],'newConfig':_0x110fad}),this['agentConfig']=_0x110fad,_0x1188e3();}});return()=>_0x157b95();}[_0x136916(0x19c)](_0x162a6c){const _0x1e0577=_0x136916;return this['reportCapacity'](this[_0x1e0577(0x173)],_0x162a6c),_0xa9e155['setInterval'](()=>this[_0x1e0577(0x760)](this['groupId'],_0x162a6c),0x493e0);}[_0x136916(0x359)](){const _0x3cb7df=_0x136916;if(!this[_0x3cb7df(0x263)])throw new _0x2fb975(_0x2fb975[_0x3cb7df(0x516)]['MistletCapacityReportNotSet']);return this[_0x3cb7df(0x263)];}async['reportCapacity'](_0x246bee,_0x29bee5){const _0x3d7eb9=_0x136916,_0x490da3=await _0x29bee5();this[_0x3d7eb9(0x263)]=_0x490da3,await(0x0,_0x1d882b[_0x3d7eb9(0x4e5)])((0x0,_0x1d882b[_0x3d7eb9(0x241)])(_0x329b41['getFirestore'](),_0x3d7eb9(0x3a1)+this[_0x3d7eb9(0x180)]+_0x3d7eb9(0x477)),{'agentId':this['id'],'groupId':_0x246bee,'timestamp':(0x0,_0x1d882b[_0x3d7eb9(0x300)])(),'capacity':_0x490da3});}}!function(_0x4b677a){const _0x431916=_0x136916;_0x4b677a[_0x4b677a[_0x431916(0x3d8)]=0x0]='Online',_0x4b677a[_0x4b677a['Offline']=0x1]='Offline';}(_0x45b603||(_0x45b603={}));class _0x304098 extends _0x431d18{[_0x136916(0xee)];[_0x136916(0x4f1)]=_0x45b603[_0x136916(0x3d8)];[_0x136916(0x4b2)]=Date['now']();constructor(_0x5a5624,_0x353e34=new Set(),_0x3462c8,_0x494aa2){const _0x3ab162=_0x136916;super(_0x5a5624,_0x353e34,_0x494aa2),this[_0x3ab162(0xee)]=_0x3462c8;}[_0x136916(0x3b9)](){const _0x5d62c6=_0x136916;return this[_0x5d62c6(0xee)];}[_0x136916(0x10c)](){const _0x2ba3ad=_0x136916;return this[_0x2ba3ad(0x4f1)];}[_0x136916(0x26c)](){return this['lastUpdated'];}['setRank'](_0x40b4d9){const _0x11febd=_0x136916;this[_0x11febd(0x587)]!==_0x40b4d9&&(this[_0x11febd(0x587)]=_0x40b4d9,this[_0x11febd(0x10a)]());}[_0x136916(0x30b)](_0x6d8176){const _0x2bddcf=_0x136916;let _0xafd0f7=!0x1;for(const _0x1a4483 of this['remoteConnections'])_0x6d8176['includes'](_0x1a4483)||(_0xafd0f7=!0x0,this['remoteConnections'][_0x2bddcf(0x21d)](_0x1a4483));for(const _0x5ee33d of _0x6d8176)this[_0x2bddcf(0x610)][_0x2bddcf(0x2b3)](_0x5ee33d)||(_0xafd0f7=!0x0,this[_0x2bddcf(0x610)][_0x2bddcf(0x759)](_0x5ee33d));_0xafd0f7&&this[_0x2bddcf(0x10a)]();}[_0x136916(0x204)](_0x5128d3){const _0x298b86=_0x136916;this[_0x298b86(0xee)]!==_0x5128d3&&(this['currentVersion']=_0x5128d3,this[_0x298b86(0x10a)]());}['setStatus'](_0x2aaec1){const _0xb6a0c7=_0x136916;this[_0xb6a0c7(0x4f1)]!==_0x2aaec1&&(this[_0xb6a0c7(0x4f1)]=_0x2aaec1,this[_0xb6a0c7(0x10a)](),_0x2aaec1===_0x45b603[_0xb6a0c7(0x189)]&&this[_0xb6a0c7(0x348)]());}['updateLastUpdated'](){const _0x1a2c39=_0x136916;this[_0x1a2c39(0x4b2)]=Date['now']();}}class _0x1114b0 extends _0xd033f3{['currentVersion'];['status']=_0x45b603[_0x136916(0x3d8)];[_0x136916(0x4b2)]=Date['now']();constructor(_0x51f195,_0x3b86c5,_0x1d0972,_0x305708=new Set(),_0x2af8c9,_0x14474c){const _0x5461e7=_0x136916;super(_0x51f195,_0x3b86c5,_0x1d0972,_0x305708,_0x14474c),this[_0x5461e7(0xee)]=_0x2af8c9;}[_0x136916(0x3b9)](){const _0x1c785a=_0x136916;return this[_0x1c785a(0xee)];}[_0x136916(0x10c)](){const _0x50b06f=_0x136916;return this[_0x50b06f(0x4f1)];}[_0x136916(0x26c)](){const _0x570716=_0x136916;return this[_0x570716(0x4b2)];}[_0x136916(0x64f)](_0x1e3a86){const _0x4c88d3=_0x136916;this[_0x4c88d3(0x2ce)]!==_0x1e3a86&&(this['displayName']=_0x1e3a86,this[_0x4c88d3(0x10a)]());}[_0x136916(0x40a)](_0x46c3ba){const _0x454181=_0x136916;this[_0x454181(0x6b1)]!==_0x46c3ba&&(this[_0x454181(0x6b1)]=_0x46c3ba,this[_0x454181(0x10a)]());}[_0x136916(0x265)](_0x324a49){const _0x58b599=_0x136916;this[_0x58b599(0x587)]!==_0x324a49&&(this['rank']=_0x324a49,this['updateLastUpdated']());}[_0x136916(0x30b)](_0x569dd9){const _0x522cb7=_0x136916;let _0x364262=!0x1;for(const _0x389d2 of this[_0x522cb7(0x610)])_0x569dd9['includes'](_0x389d2)||(_0x364262=!0x0,this[_0x522cb7(0x610)][_0x522cb7(0x21d)](_0x389d2));for(const _0x3360ab of _0x569dd9)this[_0x522cb7(0x610)][_0x522cb7(0x2b3)](_0x3360ab)||(_0x364262=!0x0,this[_0x522cb7(0x610)][_0x522cb7(0x759)](_0x3360ab));_0x364262&&this[_0x522cb7(0x10a)]();}['setCurrentVersion'](_0x414831){const _0xfdb1ef=_0x136916;this['currentVersion']!==_0x414831&&(this[_0xfdb1ef(0xee)]=_0x414831,this[_0xfdb1ef(0x10a)]());}['setStatus'](_0x30c8c6){const _0x561df9=_0x136916;this[_0x561df9(0x4f1)]!==_0x30c8c6&&(this['status']=_0x30c8c6,this[_0x561df9(0x10a)](),_0x30c8c6===_0x45b603['Offline']&&this['close']());}[_0x136916(0x10a)](){const _0x1022ea=_0x136916;this[_0x1022ea(0x4b2)]=Date['now']();}}class _0x5ef690{['vendorId'];[_0x136916(0x5bf)];['localNode'];[_0x136916(0x6be)];[_0x136916(0x2d5)]=_0x2f84d1();[_0x136916(0x5da)];[_0x136916(0x172)];[_0x136916(0x494)];[_0x136916(0x4ff)]=!0x1;[_0x136916(0x424)];[_0x136916(0x6ac)];constructor(_0x3758fd,_0x16aeb1,_0x2d45c9,_0x3a735f){const _0x1c248a=_0x136916;this[_0x1c248a(0x180)]=_0x3758fd,this[_0x1c248a(0x5bf)]=_0x16aeb1,this[_0x1c248a(0x395)]=_0x2d45c9,this[_0x1c248a(0x6be)]=_0x3a735f,this[_0x1c248a(0x424)]=_0x1c248a(0x596)+this[_0x1c248a(0x180)]+_0x1c248a(0x596)+this['clusterId'],this[_0x1c248a(0x6ac)]='ccc'+this['vendorId']+_0x1c248a(0x596)+this['localNode'][_0x1c248a(0x716)](),this['firebaseUnsubscriber']=(0x0,_0x1943d3[_0x1c248a(0x1a9)])((0x0,_0x1943d3['ref'])(_0x329b41[_0x1c248a(0x6a5)](),'.info/connected'),_0x295cb9=>{const _0x504cba=_0x1c248a;!0x0!==_0x295cb9['val']()?this['connected']&&_0x148f53[_0x504cba(0x4d8)](_0x504cba(0x12e),{'clusterId':this[_0x504cba(0x5bf)],'nodeId':this[_0x504cba(0x395)]['getId'](),'nodeType':this['localNode'][_0x504cba(0x3fa)]}):(this[_0x504cba(0x4ff)]=!0x0,this['setOnDisconnectHandler'](),_0x148f53[_0x504cba(0x49c)](_0x504cba(0x151),{'clusterId':this['clusterId'],'nodeId':this[_0x504cba(0x395)][_0x504cba(0x716)](),'nodeType':this[_0x504cba(0x395)][_0x504cba(0x3fa)]}));});}async[_0x136916(0x471)](){const _0x27fd5b=_0x136916;await this[_0x27fd5b(0x47c)]();const _0xa83ead=await this[_0x27fd5b(0x437)]();return this[_0x27fd5b(0x172)]=(0x0,_0x1943d3[_0x27fd5b(0x17e)])((0x0,_0x1943d3[_0x27fd5b(0x714)])(_0x329b41[_0x27fd5b(0x6a5)](),'clusters/'+this[_0x27fd5b(0x424)]+_0x27fd5b(0x2c8)),_0x4e9887=>{const _0xde49b1=_0x27fd5b,_0x5b269d=_0x4e9887[_0xde49b1(0x593)];if(!_0x5b269d)return;const _0x402169=_0x5b269d[_0xde49b1(0x177)]('ccc'+this[_0xde49b1(0x180)]+'ccc','');this[_0xde49b1(0x2d5)]['publish'](_0x402169);}),_0xa83ead;}async['close'](){const _0x442e69=_0x136916;this[_0x442e69(0x172)]?.(),delete this[_0x442e69(0x172)],this['onDisconnectHandler']?.[_0x442e69(0x16a)](),delete this[_0x442e69(0x494)],this[_0x442e69(0x5da)]?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x1943d3[_0x442e69(0x22e)])((0x0,_0x1943d3[_0x442e69(0x714)])(_0x329b41[_0x442e69(0x6a5)](),_0x442e69(0x581)+this[_0x442e69(0x424)]+_0x442e69(0x70f)+this[_0x442e69(0x6ac)]));}[_0x136916(0x4eb)](_0x72705f){return this['disconnectCallback']['subscribe'](_0x72705f);}async[_0x136916(0x437)](){const _0x4dfd5b=_0x136916,_0x4c7d63=[],_0x4e3392=await(0x0,_0x1943d3[_0x4dfd5b(0x2b0)])((0x0,_0x1943d3[_0x4dfd5b(0x714)])(_0x329b41[_0x4dfd5b(0x6a5)](),_0x4dfd5b(0x581)+this[_0x4dfd5b(0x424)]+_0x4dfd5b(0x2c8))),_0x2a2b3f=[];return _0x4e3392[_0x4dfd5b(0x1b3)](_0xb3cff1=>{const _0xe6df74=_0x4dfd5b,_0x3a0176=_0xb3cff1[_0xe6df74(0x593)]?.[_0xe6df74(0x177)](_0xe6df74(0x596)+this[_0xe6df74(0x180)]+_0xe6df74(0x596),'');_0x2a2b3f[_0xe6df74(0x5ac)]({'id':_0x3a0176,'joinedAt':_0xb3cff1[_0xe6df74(0x1e4)]()[_0xe6df74(0x128)],'priority':_0xb3cff1[_0xe6df74(0x1e4)]()[_0xe6df74(0x69c)]});}),_0x2a2b3f[_0x4dfd5b(0x4f6)]((_0x4df715,_0x36eb8f)=>_0x4df715['joinedAt']===_0x36eb8f[_0x4dfd5b(0x128)]?_0x4df715[_0x4dfd5b(0x69c)]-_0x36eb8f[_0x4dfd5b(0x69c)]:_0x4df715[_0x4dfd5b(0x128)]-_0x36eb8f[_0x4dfd5b(0x128)])[_0x4dfd5b(0x3cd)](_0x2a2b3f['findIndex'](_0x58b8b5=>_0x58b8b5['id']===this['localNode'][_0x4dfd5b(0x716)]())),_0x2a2b3f[_0x4dfd5b(0x4f6)]((_0x4ceb54,_0x577879)=>_0x577879[_0x4dfd5b(0x128)]===_0x4ceb54[_0x4dfd5b(0x128)]?_0x577879['priority']-_0x4ceb54[_0x4dfd5b(0x69c)]:_0x577879[_0x4dfd5b(0x128)]-_0x4ceb54[_0x4dfd5b(0x128)])[_0x4dfd5b(0x1b3)](_0x28e940=>{const _0xf49f21=_0x4dfd5b;_0x4c7d63[_0xf49f21(0x3a9)]>=this[_0xf49f21(0x6be)]||_0x4c7d63['push'](_0x28e940['id']);}),_0x148f53['logEvent'](_0x4dfd5b(0x72a),{'clusterId':this[_0x4dfd5b(0x5bf)],'nodeId':this[_0x4dfd5b(0x395)][_0x4dfd5b(0x716)](),'nodeType':this['localNode'][_0x4dfd5b(0x3fa)],'data':{'ancestorIds':_0x4c7d63,'allNodes':_0x2a2b3f}}),_0x4c7d63;}async[_0x136916(0x47c)](){const _0x132c21=_0x136916;await(0x0,_0x1943d3[_0x132c21(0x5ff)])((0x0,_0x1943d3[_0x132c21(0x714)])(_0x329b41['getDatabase'](),'clusters/'+this[_0x132c21(0x424)]+'/nodes/'+this[_0x132c21(0x6ac)]),{'joinedAt':(0x0,_0x1943d3[_0x132c21(0x300)])(),'priority':Math['random']()});}['setOnDisconnectHandler'](){const _0x591e08=_0x136916;this['onDisconnectHandler']&&this[_0x591e08(0x494)][_0x591e08(0x16a)](),this[_0x591e08(0x494)]=(0x0,_0x1943d3[_0x591e08(0x2d8)])((0x0,_0x1943d3[_0x591e08(0x714)])(_0x329b41['getDatabase'](),_0x591e08(0x581)+this[_0x591e08(0x424)]+_0x591e08(0x70f)+this['nodeKey'])),this[_0x591e08(0x494)][_0x591e08(0x22e)]();}}class _0x46f5ca{[_0x136916(0x6a3)];[_0x136916(0xeb)];[_0x136916(0x395)];[_0x136916(0x31d)];[_0x136916(0x1dd)];[_0x136916(0x134)];[_0x136916(0x21c)]=[];[_0x136916(0x74d)];[_0x136916(0x481)]=new Map();[_0x136916(0x3ee)];[_0x136916(0x620)];constructor(_0xbb5f71,_0x48b1b3,_0x123675){const _0x2f9487=_0x136916;this[_0x2f9487(0x6a3)]=_0xbb5f71,this[_0x2f9487(0xeb)]=_0x48b1b3,this['localNode']=_0x123675,this[_0x2f9487(0x1dd)]=new _0x5ef690(this[_0x2f9487(0x6a3)][_0x2f9487(0x180)],this[_0x2f9487(0x6a3)][_0x2f9487(0x5bf)],this[_0x2f9487(0x395)],this[_0x2f9487(0xeb)]['getMinConnections']()),this[_0x2f9487(0x134)]=this['discoveryService'][_0x2f9487(0x4eb)](this[_0x2f9487(0x431)][_0x2f9487(0x72c)](this)),this[_0x2f9487(0x6a3)][_0x2f9487(0x63c)][_0x2f9487(0x60d)](this[_0x2f9487(0x395)]),this[_0x2f9487(0x6a3)][_0x2f9487(0x63c)][_0x2f9487(0x60d)](this),this[_0x2f9487(0x31d)]=_0xa9e155[_0x2f9487(0x71b)](()=>{const _0x3d2942=_0x2f9487,_0x3afb79=Date[_0x3d2942(0x154)]();this[_0x3d2942(0xeb)]['getRemoteNodes']()[_0x3d2942(0x1b3)](_0x1fbd55=>{const _0x20db2d=_0x3d2942;_0x1fbd55[_0x20db2d(0x10c)]()===_0x45b603[_0x20db2d(0x189)]&&_0x1fbd55[_0x20db2d(0x26c)]()<_0x3afb79-0x493e0&&this[_0x20db2d(0xeb)]['deleteRemoteNode'](_0x1fbd55[_0x20db2d(0x716)]());});},0xea60);}[_0x136916(0x4cd)](_0xc04f62){this['systemTopic']=_0xc04f62;}[_0x136916(0x748)](){delete this['systemTopic'];}['close'](){const _0x451d4d=_0x136916;this['debounceProcessRank']&&(clearTimeout(this[_0x451d4d(0x3ee)]),delete this[_0x451d4d(0x3ee)]),delete this[_0x451d4d(0x620)],this['localNode'][_0x451d4d(0x348)](),this['remoteUnsubscriber'](),this[_0x451d4d(0x134)](),this[_0x451d4d(0x6a3)][_0x451d4d(0x63c)][_0x451d4d(0x36e)](this['localNode']),this['configs']['mediator'][_0x451d4d(0x36e)](this),this[_0x451d4d(0x1dd)][_0x451d4d(0x348)]();}['getAncestorIds'](){const _0x4ce9f5=_0x136916;return this[_0x4ce9f5(0x21c)];}[_0x136916(0x643)](){const _0x4bc221=_0x136916;return this['localNode'][_0x4bc221(0x716)]();}[_0x136916(0x6b3)](){const _0xced3c2=_0x136916;return this[_0xced3c2(0x395)];}[_0x136916(0x38f)](_0x194ee7){const _0x469982=_0x136916,_0x323f32=Array[_0x469982(0x4c4)](this[_0x469982(0xeb)][_0x469982(0x38f)]()[_0x469982(0x26f)]())['filter'](_0x489026=>_0x489026[_0x469982(0x10c)]()===_0x45b603[_0x469982(0x3d8)]);return _0x194ee7?_0x323f32[_0x469982(0x557)](_0x194ee7):_0x323f32;}async[_0x136916(0x72a)](){const _0x4ef587=_0x136916;return this[_0x4ef587(0x21c)]=await this[_0x4ef587(0x1dd)]['join'](),this['ancestors']['length']<this[_0x4ef587(0xeb)][_0x4ef587(0x349)]()&&(this['localNode'][_0x4ef587(0x265)](this[_0x4ef587(0x21c)][_0x4ef587(0x3a9)]+0x1),this[_0x4ef587(0x1f1)]()),this[_0x4ef587(0x21c)];}[_0x136916(0x6c1)](_0x4f31cf,_0x4794af){const _0xfc0646=_0x136916,_0x550e60=this['localNode'][_0xfc0646(0x558)](),_0x5ef20b=new Set(_0x550e60),_0x3e1747=Array[_0xfc0646(0x4c4)](_0x550e60)[_0xfc0646(0x557)](_0x55a3df=>_0x55a3df!==_0x4f31cf)[_0xfc0646(0x774)](_0x50603=>({'id':_0x50603,'distance':0x1}));for(;_0x3e1747['length']>0x0;){const _0x36cf4d=_0x3e1747['shift']();if(!_0x36cf4d)continue;if(_0x36cf4d['id']===_0x4794af)return _0x36cf4d[_0xfc0646(0x51a)];const _0x1062e2=this[_0xfc0646(0xeb)][_0xfc0646(0x592)](_0x36cf4d['id']);_0x1062e2&&_0x1062e2[_0xfc0646(0x10c)]()!==_0x45b603[_0xfc0646(0x189)]&&_0x1062e2['getRemoteConnections']()[_0xfc0646(0x1b3)](_0x2e4877=>{const _0x5b24c9=_0xfc0646;_0x5ef20b[_0x5b24c9(0x2b3)](_0x2e4877)||(_0x5ef20b[_0x5b24c9(0x759)](_0x2e4877),_0x3e1747[_0x5b24c9(0x5ac)]({'id':_0x2e4877,'distance':_0x36cf4d[_0x5b24c9(0x51a)]+0x1}));});}return-0x1;}[_0x136916(0x2a3)](_0x409707){const _0x38bbd8=_0x136916;try{switch(_0x409707[_0x38bbd8(0x2dc)][_0x38bbd8(0x3fa)]){case _0x5b5dcb[_0x38bbd8(0x1ad)]:case _0x5b5dcb[_0x38bbd8(0x355)]:this[_0x38bbd8(0x4d7)](_0x409707['content']),_0x148f53['log'](_0x19b950[_0x38bbd8(0x586)],'NodeManager\x20-\x20NodeUpdate','\x27'+this[_0x38bbd8(0x395)][_0x38bbd8(0x716)]()+',\x20'+_0x409707[_0x38bbd8(0xf1)]+'\x27',_0x409707,_0x409707['content']);break;case _0x5b5dcb[_0x38bbd8(0x673)]:this[_0x38bbd8(0x601)](_0x409707[_0x38bbd8(0x2dc)]['id']),_0x148f53[_0x38bbd8(0x2f4)](_0x19b950[_0x38bbd8(0x586)],_0x38bbd8(0x5a8),'\x27'+this[_0x38bbd8(0x395)]['getId']()+',\x20'+_0x409707['sourceId']+'\x27',_0x409707,_0x409707[_0x38bbd8(0x2dc)]);}}catch(_0x11cd45){if(_0x11cd45 instanceof _0xb57abe)return void _0x148f53[_0x38bbd8(0x2f4)](_0x19b950['Node'],_0x11cd45[_0x38bbd8(0x286)]);throw _0x11cd45;}}['handlePeerConnectionSystemEvents'](_0x3ed03a){const _0x52ae93=_0x136916;switch(_0x3ed03a['content']['type']){case _0x5b3080[_0x52ae93(0x213)]:this[_0x52ae93(0x5b6)](_0x3ed03a[_0x52ae93(0xf1)]),_0x148f53['log'](_0x19b950[_0x52ae93(0x586)],_0x52ae93(0x237),'\x27'+this['localNode'][_0x52ae93(0x716)]()+',\x20'+_0x3ed03a[_0x52ae93(0xf1)]+'\x27',_0x3ed03a,_0x3ed03a['content']);break;case _0x5b3080[_0x52ae93(0x203)]:this[_0x52ae93(0x301)](_0x3ed03a['sourceId']),_0x148f53[_0x52ae93(0x2f4)](_0x19b950[_0x52ae93(0x586)],_0x52ae93(0x247),this[_0x52ae93(0x395)][_0x52ae93(0x716)](),_0x3ed03a,_0x3ed03a[_0x52ae93(0x2dc)]);}}['handleNodeJoin'](_0x270300){const _0x539a12=_0x136916;this[_0x539a12(0x155)](_0x270300),this[_0x539a12(0x56a)](_0x270300);}[_0x136916(0x56a)](_0x2e9623){const _0x564add=_0x136916;this['localNode']['answerJoin'](_0x2e9623['id']),this[_0x564add(0x626)](_0x2e9623['id']),this[_0x564add(0x3aa)](_0x2e9623);}['handleNodeUpdate'](_0x4190c4){const _0x330f40=_0x136916,{id:_0x55c23a,metaData:_0x253295,rank:_0x584afc,remoteConnections:_0x2bb8d5,version:_0x1b6789}=_0x4190c4,_0x2ad9e2=this[_0x330f40(0xeb)][_0x330f40(0x592)](_0x55c23a);if(_0x2ad9e2){if(!(_0x1b6789<=_0x2ad9e2['getCurrentVersion']())){if(_0x2ad9e2[_0x330f40(0x30b)](_0x2bb8d5),_0x2ad9e2['setCurrentVersion'](_0x1b6789),_0x2ad9e2[_0x330f40(0x3fa)]===_0x1095f4[_0x330f40(0x60b)][_0x330f40(0x565)]&&_0x253295[_0x330f40(0x3fa)]===_0x1095f4[_0x330f40(0x60b)][_0x330f40(0x565)]&&(_0x2ad9e2[_0x330f40(0x64f)](_0x253295[_0x330f40(0x2ce)]),_0x2ad9e2[_0x330f40(0x40a)](_0x253295[_0x330f40(0x6b1)])),_0x584afc&&_0x2ad9e2[_0x330f40(0x265)](_0x584afc),this[_0x330f40(0x191)](_0x55c23a,_0x584afc),_0x2ad9e2[_0x330f40(0x10c)]()===_0x45b603['Offline'])return _0x2ad9e2[_0x330f40(0x26b)](_0x45b603[_0x330f40(0x3d8)]),this[_0x330f40(0x1f1)](),void this[_0x330f40(0x56a)](_0x4190c4);this[_0x330f40(0x1f1)](),this['notifyClusterNodeUpdate']({'id':_0x55c23a,'metaData':_0x253295,'remoteConnections':_0x2bb8d5,'version':_0x1b6789});}}else this['handleNodeJoin'](_0x4190c4);}[_0x136916(0x191)](_0x444629,_0x402939){const _0x462e84=_0x136916;_0x402939&&this[_0x462e84(0x21c)][_0x462e84(0x232)](_0x444629)&&this[_0x462e84(0x395)][_0x462e84(0x265)](_0x402939+this[_0x462e84(0x21c)][_0x462e84(0x264)](_0x444629)+0x1);}[_0x136916(0x5b6)](_0x1660d3){const _0x34639f=_0x136916;this[_0x34639f(0x395)][_0x34639f(0x5c5)](_0x1660d3);}[_0x136916(0x155)]({id:_0x12ab04,metaData:_0x542479,rank:_0x38dfa9,remoteConnections:_0x39a4aa,version:_0x4b89b7}){const _0x494a87=_0x136916;if(this[_0x494a87(0xeb)][_0x494a87(0x27e)](_0x12ab04))throw new _0xb57abe(_0x494a87(0x647)+_0x12ab04);switch(_0x542479[_0x494a87(0x3fa)]){case _0x1095f4['NodeType']['User']:const {displayName:_0xd4eeff,email:_0x7ce0a9}=_0x542479;this[_0x494a87(0xeb)][_0x494a87(0x30d)](_0x12ab04,new _0x1114b0(_0x12ab04,_0xd4eeff,_0x7ce0a9,new Set(_0x39a4aa),_0x4b89b7,_0x38dfa9));break;case _0x1095f4[_0x494a87(0x60b)][_0x494a87(0x6fd)]:this[_0x494a87(0xeb)]['setRemoteNode'](_0x12ab04,new _0x304098(_0x12ab04,new Set(_0x39a4aa),_0x4b89b7,_0x38dfa9));}this[_0x494a87(0x191)](_0x12ab04,_0x38dfa9),this[_0x494a87(0x1f1)]();}[_0x136916(0x626)](_0x5ecdbf){const _0xfbf74d=_0x136916;this[_0xfbf74d(0x74d)][_0xfbf74d(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0xfbf74d(0x586)],'content':{'type':_0x5b5dcb['NodeJoin'],'id':_0x5ecdbf}});}[_0x136916(0x301)](_0x1e0fee){const _0x40c42a=_0x136916;this['systemTopic']?.[_0x40c42a(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x40c42a(0x586)],'content':{'type':_0x5b5dcb[_0x40c42a(0x673)],'id':_0x1e0fee}});}['handleNodeDisconnect'](_0x722da5){const _0x455fb7=_0x136916;if(_0x722da5===this['localNode'][_0x455fb7(0x716)]())return this[_0x455fb7(0x6a3)][_0x455fb7(0x63c)][_0x455fb7(0x3ce)](_0x455fb7(0x6a2),{'id':_0x722da5}),this['configs'][_0x455fb7(0x63c)][_0x455fb7(0x348)](!0x0),this['configs'][_0x455fb7(0x63c)][_0x455fb7(0x483)](),void this['configs'][_0x455fb7(0x63c)]['initialize']();this['publishNodeLeave'](_0x722da5);}[_0x136916(0x601)](_0x5b7814){const _0x3269bd=_0x136916;this[_0x3269bd(0x21c)][_0x3269bd(0x232)](_0x5b7814)?this['manageAncestor'](_0x5b7814):this[_0x3269bd(0x395)]['getRemoteConnections']()[_0x3269bd(0x2b3)](_0x5b7814)&&this[_0x3269bd(0x6ca)](_0x5b7814),this[_0x3269bd(0x395)][_0x3269bd(0x472)](_0x5b7814);const _0x4466ee=Array[_0x3269bd(0x4c4)](this['optimizationLayers'][_0x3269bd(0x375)]())[_0x3269bd(0x21f)](([,_0x5a541d])=>_0x5a541d==_0x5a541d);_0x4466ee&&this['optimizationLayers'][_0x3269bd(0x21d)](_0x4466ee[0x0]);const _0x3102e8=this[_0x3269bd(0xeb)][_0x3269bd(0x592)](_0x5b7814);if(!_0x3102e8)return;const _0x9bfa0c=_0x3102e8[_0x3269bd(0x396)](),_0x1cb467=this['localNode']['getRank']();_0x1cb467&&_0x9bfa0c&&_0x9bfa0c<_0x1cb467&&this['localNode'][_0x3269bd(0x265)](_0x1cb467-0x1,!0x1),Array['from'](this[_0x3269bd(0xeb)][_0x3269bd(0x38f)]()[_0x3269bd(0x26f)]())['forEach'](_0x45ad0f=>{const _0x266d82=_0x3269bd,_0x128378=_0x45ad0f[_0x266d82(0x396)]();_0x128378&&_0x9bfa0c&&_0x9bfa0c<_0x128378&&_0x45ad0f[_0x266d82(0x265)](_0x128378-0x1);}),_0x3102e8[_0x3269bd(0x26b)](_0x45b603[_0x3269bd(0x189)]),this[_0x3269bd(0x6a3)][_0x3269bd(0x63c)][_0x3269bd(0x3ce)](_0x3102e8[_0x3269bd(0x3fa)]+_0x3269bd(0x171),{'id':_0x5b7814});}['notifyClusterNodeJoin']({id:_0x5f1a80,metaData:_0x3d467d,remoteConnections:_0x1c7c7f}){const _0x14e32a=_0x136916;switch(_0x3d467d[_0x14e32a(0x3fa)]){case _0x1095f4[_0x14e32a(0x60b)]['User']:this['configs'][_0x14e32a(0x63c)][_0x14e32a(0x3ce)]('user-join',{'id':_0x5f1a80,'metaData':_0x3d467d,'remoteConnections':_0x1c7c7f});break;case _0x1095f4[_0x14e32a(0x60b)][_0x14e32a(0x6fd)]:this[_0x14e32a(0x6a3)]['mediator'][_0x14e32a(0x3ce)](_0x14e32a(0x73b),{'id':_0x5f1a80,'metaData':_0x3d467d,'remoteConnections':_0x1c7c7f});}}[_0x136916(0x4d4)]({id:_0x47435a,metaData:_0x1c4799,remoteConnections:_0x4df969}){const _0x9c5e82=_0x136916;switch(_0x1c4799[_0x9c5e82(0x3fa)]){case _0x1095f4[_0x9c5e82(0x60b)]['User']:this[_0x9c5e82(0x6a3)][_0x9c5e82(0x63c)][_0x9c5e82(0x3ce)]('user-update',{'id':_0x47435a,'metaData':_0x1c4799,'remoteConnections':_0x4df969});break;case _0x1095f4['NodeType'][_0x9c5e82(0x6fd)]:this['configs'][_0x9c5e82(0x63c)][_0x9c5e82(0x3ce)]('agent-update',{'id':_0x47435a,'metaData':_0x1c4799,'remoteConnections':_0x4df969});}}[_0x136916(0x1f1)](){const _0x41e0c1=_0x136916;if(this[_0x41e0c1(0x620)]||(this[_0x41e0c1(0x620)]=Date[_0x41e0c1(0x154)]()),this[_0x41e0c1(0x3ee)]){if(Date['now']()-this['lastProcessRank']>0x2328)return;clearTimeout(this[_0x41e0c1(0x3ee)]);}this[_0x41e0c1(0x3ee)]=setTimeout(async()=>{const _0x278d21=_0x41e0c1;delete this[_0x278d21(0x620)],delete this[_0x278d21(0x3ee)];const _0x528d84=this[_0x278d21(0x395)]['getRank']();if(!_0x528d84)return;const _0x4148b2=this[_0x278d21(0xeb)]['getCurrentMaxLayer'](this[_0x278d21(0xeb)]['getRemoteNodes']()[_0x278d21(0x216)]);if(this[_0x278d21(0x481)][_0x278d21(0x216)]>=_0x4148b2)return;let _0x20cafc=0x1;for(;this['configs'][_0x278d21(0x63c)][_0x278d21(0x693)]()['length']<this[_0x278d21(0xeb)][_0x278d21(0x132)]()&&_0x20cafc<=_0x4148b2;){if(this['optimizationLayers'][_0x278d21(0x2b3)](_0x20cafc)){_0x20cafc+=0x1;continue;}const _0xa3252e=this[_0x278d21(0xeb)][_0x278d21(0x640)](_0x528d84,_0x20cafc),_0x417389=Array[_0x278d21(0x4c4)](this[_0x278d21(0xeb)][_0x278d21(0x38f)]()[_0x278d21(0x26f)]())[_0x278d21(0x21f)](_0x3159c9=>_0x3159c9[_0x278d21(0x396)]()===_0xa3252e&&_0x3159c9['getStatus']()===_0x45b603[_0x278d21(0x3d8)]);if(_0x417389){try{await this['configs']['mediator'][_0x278d21(0x550)](_0x417389[_0x278d21(0x716)](),_0x2418f7['Optimization']),this[_0x278d21(0x481)][_0x278d21(0x5ff)](_0x20cafc,_0x417389['getId']());}catch(_0x1d8e33){if(!(_0x1d8e33 instanceof _0x2fb975&&_0x1d8e33[_0x278d21(0x582)]===_0x2fb975[_0x278d21(0x516)]['RemoteConnectionExists']))throw _0x1d8e33;_0x148f53[_0x278d21(0x2f4)](_0x19b950[_0x278d21(0x586)],this[_0x278d21(0x395)][_0x278d21(0x716)](),_0x417389[_0x278d21(0x716)](),_0x1d8e33[_0x278d21(0x286)]);}_0x20cafc+=0x1;}else _0x20cafc+=0x1;}},0x3e8);}async[_0x136916(0x2c0)](_0x16f7df){const _0x452b81=_0x136916;this[_0x452b81(0x21c)][_0x452b81(0x3cd)](this[_0x452b81(0x21c)][_0x452b81(0x264)](_0x16f7df),0x1);const _0x5972df=await this[_0x452b81(0x1dd)][_0x452b81(0x437)]();for(const _0x32b15e of _0x5972df)if(!this[_0x452b81(0x21c)][_0x452b81(0x232)](_0x32b15e)){const _0x25e67e=Array[_0x452b81(0x4c4)](this[_0x452b81(0x481)][_0x452b81(0x375)]())[_0x452b81(0x21f)](([,_0x23665e])=>_0x23665e===_0x32b15e);_0x25e67e&&this[_0x452b81(0x481)][_0x452b81(0x21d)](_0x25e67e[0x0]),this[_0x452b81(0x6a3)][_0x452b81(0x63c)][_0x452b81(0x550)](_0x32b15e,_0x2418f7[_0x452b81(0x2cb)]);}0x0===_0x5972df[_0x452b81(0x3a9)]&&this[_0x452b81(0x395)]['setRank'](0x1),this[_0x452b81(0x21c)]=_0x5972df;}async[_0x136916(0x6ca)](_0x427238){const _0x42b178=_0x136916,_0x16fee6=this[_0x42b178(0x395)]['getRank']();if(!_0x16fee6)return;const _0x15dc9d=this[_0x42b178(0xeb)][_0x42b178(0x592)](_0x427238);if(!_0x15dc9d||_0x15dc9d[_0x42b178(0x10c)]()===_0x45b603['Offline'])return;const _0x126bf6=_0x15dc9d[_0x42b178(0x396)]();if(!_0x126bf6||_0x126bf6<_0x16fee6)return;const _0x35ca28=this[_0x42b178(0x6c7)](this[_0x42b178(0x395)]['getRemoteConnections'](),_0x16fee6),_0x525a5f=this[_0x42b178(0x6c7)](_0x15dc9d['getRemoteConnections'](),_0x126bf6)[_0x35ca28[_0x42b178(0x1d2)](([_0x4d66c1])=>_0x4d66c1===_0x427238)];if(!_0x525a5f||this[_0x42b178(0x395)]['getRemoteConnections']()['has'](_0x525a5f[0x0]))return;const _0x1ad639=this[_0x42b178(0xeb)][_0x42b178(0x592)](_0x525a5f[0x0]);if(_0x1ad639&&_0x1ad639[_0x42b178(0x10c)]()!==_0x45b603['Offline'])try{await this[_0x42b178(0x6a3)][_0x42b178(0x63c)][_0x42b178(0x550)](_0x525a5f[0x0],_0x2418f7[_0x42b178(0x602)]);const _0x40834f=Array[_0x42b178(0x4c4)](this['optimizationLayers'][_0x42b178(0x375)]())[_0x42b178(0x21f)](([,_0x5eb603])=>_0x5eb603===_0x427238);_0x40834f&&this['optimizationLayers'][_0x42b178(0x5ff)](_0x40834f[0x0],_0x525a5f[0x0]);}catch(_0x25f7b7){if(!(_0x25f7b7 instanceof _0x2fb975&&_0x25f7b7[_0x42b178(0x582)]===_0x2fb975[_0x42b178(0x516)][_0x42b178(0x418)]))throw _0x25f7b7;_0x148f53[_0x42b178(0x2f4)](_0x19b950['Node'],this[_0x42b178(0x395)]['getId'](),_0x525a5f[0x0],_0x25f7b7[_0x42b178(0x286)]);}}[_0x136916(0x6c7)](_0x591059,_0xfb6b1b){const _0x12ae29=_0x136916;return Array['from'](_0x591059)['reduce']((_0xa74a8d,_0xba484d)=>{const _0x596b15=a0_0x532f,_0x55ef06=this[_0x596b15(0xeb)]['getRemoteNode'](_0xba484d);if(!_0x55ef06||_0x55ef06['getStatus']()===_0x45b603[_0x596b15(0x189)])return _0xa74a8d;const _0x317153=_0x55ef06[_0x596b15(0x396)]();if(!_0x317153)return _0xa74a8d;const _0x539dd1=_0x317153-_0xfb6b1b;return _0x539dd1<=this[_0x596b15(0xeb)][_0x596b15(0x349)]()||_0xa74a8d[_0x596b15(0x5ac)]([_0xba484d,_0x539dd1]),_0xa74a8d;},[])[_0x12ae29(0x4f6)](([,_0x3743ae],[,_0x568259])=>_0x3743ae-_0x568259);}}const _0x1c9935=[{'problemType':_0x4a2180[_0x136916(0x53a)],'remediations':[{'type':_0x2d2007[_0x136916(0x650)],'component':_0x45119b[_0x136916(0x281)],'action':_0x3e9d60[_0x136916(0x616)]},{'type':_0x2d2007['RemoteRemediation'],'component':_0x45119b[_0x136916(0x281)],'action':_0x3e9d60[_0x136916(0x616)]}]},{'problemType':_0x4a2180[_0x136916(0x298)],'remediations':[{'type':_0x2d2007[_0x136916(0x650)],'component':_0x45119b[_0x136916(0x281)],'action':_0x3e9d60[_0x136916(0x616)]}]},{'problemType':_0x4a2180[_0x136916(0x39e)],'remediations':[{'type':_0x2d2007[_0x136916(0x650)],'component':_0x45119b['Resolution'],'action':_0x3e9d60['Downgrade']}]},{'problemType':_0x4a2180[_0x136916(0x17b)],'remediations':[{'type':_0x2d2007[_0x136916(0x650)],'component':_0x45119b[_0x136916(0x281)],'action':_0x3e9d60[_0x136916(0x616)]}]},{'problemType':_0x4a2180[_0x136916(0x62d)],'remediations':[{'type':_0x2d2007['Remediation'],'component':_0x45119b[_0x136916(0x62d)],'action':_0x3e9d60[_0x136916(0x616)]}]},{'problemType':_0x4a2180[_0x136916(0x76d)],'remediations':[{'type':_0x2d2007[_0x136916(0x650)],'component':_0x45119b[_0x136916(0x62d)],'action':_0x3e9d60[_0x136916(0x616)]}]},{'problemType':_0x4a2180[_0x136916(0x5b1)],'remediations':[{'type':_0x2d2007[_0x136916(0x650)],'component':_0x45119b['Bitrate'],'action':_0x3e9d60[_0x136916(0x616)]}]}];class _0x469d08{['configs'];['systemTopic'];[_0x136916(0x49a)]=new Map();constructor(_0x337259){const _0x5d3f1c=_0x136916;this[_0x5d3f1c(0x6a3)]=_0x337259,this[_0x5d3f1c(0x6a3)][_0x5d3f1c(0x63c)][_0x5d3f1c(0x60d)](this);}['close'](){const _0x2a2253=_0x136916;this['configs']['mediator'][_0x2a2253(0x36e)](this);}[_0x136916(0x4cd)](_0x4c8ea8){const _0x3b4cd3=_0x136916;this[_0x3b4cd3(0x74d)]=_0x4c8ea8;}['unregisterSystemPublisher'](){const _0x18dec5=_0x136916;delete this[_0x18dec5(0x74d)];}['handleDetectionSystemEvents'](_0x4b5d3c){const _0x5485c3=_0x136916;_0x4b5d3c['content'][_0x5485c3(0x3fa)]===_0x40f7d5[_0x5485c3(0x67a)]&&this[_0x5485c3(0x4b0)](_0x4b5d3c[_0x5485c3(0x2dc)][_0x5485c3(0x757)]);}[_0x136916(0x108)](_0x5cf17c){const _0x4baa26=_0x136916;_0x5cf17c[_0x4baa26(0x2dc)][_0x4baa26(0x3fa)]===_0x2d2007[_0x4baa26(0x749)]&&this[_0x4baa26(0x470)](_0x5cf17c[_0x4baa26(0xf1)],{'type':_0x2d2007[_0x4baa26(0x650)],'component':_0x5cf17c[_0x4baa26(0x2dc)][_0x4baa26(0x757)]['component'],'action':_0x5cf17c[_0x4baa26(0x2dc)][_0x4baa26(0x757)][_0x4baa26(0x733)]});}[_0x136916(0x4b0)](_0xa04f44){const _0x2df5b7=_0x136916,_0x46553e=_0x1c9935[_0x2df5b7(0x21f)](_0x308bf3=>_0x308bf3[_0x2df5b7(0x3c8)]===_0xa04f44['type']);_0x46553e[_0x2df5b7(0x22c)]?.[_0x2df5b7(0x1b3)](_0x442c58=>{const _0xd926c7=_0x2df5b7;this[_0xd926c7(0x470)](_0xa04f44[_0xd926c7(0x39b)],{'type':_0xa04f44[_0xd926c7(0x5f0)]===_0x85605b[_0xd926c7(0x4d5)]?_0x2d2007[_0xd926c7(0x650)]:_0x2d2007[_0xd926c7(0x749)],'component':_0x442c58[_0xd926c7(0x22b)],'action':_0x442c58[_0xd926c7(0x733)]});});}[_0x136916(0x470)](_0xd63214,_0x17a024){const _0x24752d=_0x136916;if(_0x17a024[_0x24752d(0x3fa)]===_0x2d2007['Remediation']){const _0x488d92=Date[_0x24752d(0x154)](),_0x195520=this[_0x24752d(0x49a)][_0x24752d(0x2b0)](_0xd63214);if(_0x195520&&_0x488d92-_0x195520<0x1388)return;this[_0x24752d(0x49a)][_0x24752d(0x5ff)](_0xd63214,_0x488d92);}_0x148f53[_0x24752d(0x2f4)](_0x19b950[_0x24752d(0x650)],_0x24752d(0x543),_0x17a024),_0x148f53[_0x24752d(0x70d)](_0x24752d(0x2d4),{'clusterId':this[_0x24752d(0x6a3)][_0x24752d(0x5bf)],'nodeId':this[_0x24752d(0x6a3)][_0x24752d(0x395)][_0x24752d(0x716)](),'nodeType':this['configs']['localNode']['type'],'remoteId':_0xd63214,'data':{'type':_0x17a024[_0x24752d(0x3fa)],'component':_0x17a024['component'],'action':_0x17a024[_0x24752d(0x733)]}});let _0x380a21,_0x27a210=_0x23eca1;_0x17a024[_0x24752d(0x3fa)]===_0x2d2007[_0x24752d(0x749)]&&(_0x27a210=this[_0x24752d(0x6a3)][_0x24752d(0x395)][_0x24752d(0x716)](),_0x380a21=[_0xd63214]),this[_0x24752d(0x74d)][_0x24752d(0x457)]({'sourceId':_0x27a210,'destinationIds':_0x380a21,'messageType':_0x15f44c[_0x24752d(0x650)],'content':{'type':_0x17a024[_0x24752d(0x3fa)],'targetId':_0xd63214,'data':_0x17a024}});}}const _0x5129b7=0x3e8,_0xaa333f=0x7530,_0x3a291b='outbound-rtp',_0x55fc0f='remote-inbound-rtp',_0x13e99f=_0x136916(0x734),_0x29f833=[_0x3a291b,_0x55fc0f],_0x2cc504=[_0x13e99f];class _0x3bbf32{[_0x136916(0x381)]=0x0;['estimatedPlayoutTimestamp']=0x0;[_0x136916(0x10e)]=0x0;[_0x136916(0x4c5)]=0x0;['packets']=0x0;['currentTimestamp']=0x0;[_0x136916(0x59d)]=0x0;['currentBytes']=0x0;[_0x136916(0x314)]=0x0;get[_0x136916(0x35e)](){const _0x3ef679=_0x136916;return this[_0x3ef679(0x5f4)]>0x0&&this[_0x3ef679(0x59d)]>0x0&&Date['now']()-this[_0x3ef679(0x5f4)]<_0xaa333f?(this[_0x3ef679(0x3da)]-this['previousBytes'])/(this[_0x3ef679(0x5f4)]-this[_0x3ef679(0x59d)])*0x8*0x3e8:0x0;}['processReport'](_0x11cc3f){const _0x565ef6=_0x136916;switch(_0x11cc3f[_0x565ef6(0x3fa)]){case _0x13e99f:this[_0x565ef6(0x1fa)](_0x11cc3f);break;case _0x3a291b:this['processOutboundReport'](_0x11cc3f);break;case _0x55fc0f:this['processRemoteInboundReport'](_0x11cc3f);}}[_0x136916(0x42a)](){const _0x40ecec=_0x136916;return{'bitrate':this[_0x40ecec(0x35e)],'packetsLostPerc':this[_0x40ecec(0x401)](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x40ecec(0x10e)]};}[_0x136916(0x1fa)](_0x4a9ec7){const _0x129245=_0x136916;this['setBytes'](_0x4a9ec7[_0x129245(0x5e4)]),this[_0x129245(0x308)](_0x4a9ec7['timestamp']),this[_0x129245(0x4bd)]=_0x4a9ec7[_0x129245(0x48f)],this['packetsLost']=_0x4a9ec7['packetsLost'],void 0x0!==_0x4a9ec7[_0x129245(0x10e)]?this[_0x129245(0x10e)]=_0x4a9ec7[_0x129245(0x10e)]:this['jitter']=0x0,void 0x0!==_0x4a9ec7[_0x129245(0x54c)]?this['estimatedPlayoutTimestamp']=_0x4a9ec7[_0x129245(0x54c)]:this[_0x129245(0x54c)]=0x0;}[_0x136916(0x27a)](_0x340898){const _0x1989cf=_0x136916;this['setBytes'](_0x340898[_0x1989cf(0x1ba)]),this[_0x1989cf(0x308)](_0x340898[_0x1989cf(0x3b6)]),this['packets']=_0x340898[_0x1989cf(0x276)];}[_0x136916(0x252)](_0x39a0cf){const _0x154456=_0x136916;this[_0x154456(0x381)]=0x3e8*_0x39a0cf[_0x154456(0x381)],void 0x0!==_0x39a0cf[_0x154456(0x10e)]?this[_0x154456(0x10e)]=_0x39a0cf[_0x154456(0x10e)]:this[_0x154456(0x10e)]=0x0;}[_0x136916(0x401)](){const _0x34386c=_0x136916;return this[_0x34386c(0x4bd)]>0x0?this[_0x34386c(0x4c5)]/this['packets']:0x0;}['setTimestamp'](_0x28a059){const _0x56d4a3=_0x136916;_0x28a059>this[_0x56d4a3(0x5f4)]&&(this[_0x56d4a3(0x59d)]=this[_0x56d4a3(0x5f4)],this[_0x56d4a3(0x5f4)]=_0x28a059);}[_0x136916(0x2f3)](_0x4a6398){const _0x31fd4e=_0x136916;this[_0x31fd4e(0x314)]=this['currentBytes'],this['currentBytes']=_0x4a6398;}}class _0x45cd84 extends _0x3bbf32{}class _0x1a8857 extends _0x3bbf32{[_0x136916(0x1af)]=0x0;[_0x136916(0x433)]=0x0;[_0x136916(0x71a)]=0x0;[_0x136916(0x1a2)]=0x0;[_0x136916(0x579)]=0x0;get[_0x136916(0x388)](){const _0x5a8314=_0x136916;return this[_0x5a8314(0x5f4)]>0x0&&this[_0x5a8314(0x59d)]>0x0&&Date['now']()-this['currentTimestamp']<_0xaa333f?(this['currentFrames']-this[_0x5a8314(0x579)])/(this['currentTimestamp']-this[_0x5a8314(0x59d)])*0x3e8:0x0;}get[_0x136916(0x284)](){const _0x52b8d8=_0x136916;return this['frameTime']&&this[_0x52b8d8(0x1a2)]&&this[_0x52b8d8(0x1a2)]>0x0?this[_0x52b8d8(0x1af)]/this[_0x52b8d8(0x1a2)]:0x0;}set[_0x136916(0x578)](_0x173db5){const _0x38def0=_0x136916;this[_0x38def0(0x579)]=this[_0x38def0(0x1a2)],this['currentFrames']=_0x173db5;}[_0x136916(0x42a)](){const _0x26559b=_0x136916;return{...super['getReport'](),'FPS':this[_0x26559b(0x388)],'timePerFrame':this[_0x26559b(0x284)],'frameWidth':this[_0x26559b(0x433)],'frameHeight':this[_0x26559b(0x71a)]};}[_0x136916(0x1fa)](_0x408198){const _0x225b46=_0x136916;super[_0x225b46(0x1fa)](_0x408198),this[_0x225b46(0x1af)]=_0x408198[_0x225b46(0x5a0)],this[_0x225b46(0x578)]=_0x408198['framesDecoded'],this[_0x225b46(0x433)]=_0x408198[_0x225b46(0x433)],this[_0x225b46(0x71a)]=_0x408198['frameHeight'];}['processOutboundReport'](_0xe9c740){const _0xb59efa=_0x136916;super[_0xb59efa(0x27a)](_0xe9c740),this[_0xb59efa(0x1af)]=_0xe9c740[_0xb59efa(0x1c9)],this[_0xb59efa(0x578)]=_0xe9c740[_0xb59efa(0x1d9)],this[_0xb59efa(0x433)]=_0xe9c740['frameWidth'],this[_0xb59efa(0x71a)]=_0xe9c740[_0xb59efa(0x71a)];}}class _0x4abda4{[_0x136916(0x1b1)]=new _0x45cd84();[_0x136916(0x6dc)]=new _0x1a8857();get[_0x136916(0x35e)](){const _0x4214b8=_0x136916;return this[_0x4214b8(0x1b1)][_0x4214b8(0x35e)]+this[_0x4214b8(0x6dc)]['bitrate'];}[_0x136916(0x678)](_0x4d5e3f){const _0x127bad=_0x136916;return _0x4d5e3f['forEach'](_0x4bf5f4=>{const _0x1f5652=a0_0x532f;switch(_0x4bf5f4['kind']){case'audio':this[_0x1f5652(0x1b1)]['processReport'](_0x4bf5f4);break;case _0x1f5652(0x6dc):this[_0x1f5652(0x6dc)][_0x1f5652(0x6df)](_0x4bf5f4);}}),this[_0x127bad(0x42a)]();}['getReport'](){const _0x25418b=_0x136916;return{'audio':this[_0x25418b(0x1b1)][_0x25418b(0x42a)](),'video':this[_0x25418b(0x6dc)][_0x25418b(0x42a)](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this['getAudioVideoDelay'](),'bitrate':this['bitrate']};}[_0x136916(0x4fb)](){const _0x4415be=_0x136916;return Math['floor']((this['audio'][_0x4415be(0x381)]+this['video']['roundTripTime'])/0x2);}[_0x136916(0x242)](){const _0x1f6cea=_0x136916;return this['audio'][_0x1f6cea(0x54c)]-this[_0x1f6cea(0x6dc)]['estimatedPlayoutTimestamp'];}}class _0x1bde78{['senderCurrentTimestamp']=0x0;['senderPreviousTimestamp']=0x0;[_0x136916(0x117)]=0x0;[_0x136916(0x3e8)]=0x0;['senderCurrentBytes']=0x0;[_0x136916(0x1d1)]=0x0;['receiverCurrentBytes']=0x0;[_0x136916(0x31a)]=0x0;[_0x136916(0x371)]=0x0;[_0x136916(0x43d)]=0x0;['senderTimeProcessing']=0x0;[_0x136916(0x4e0)]=0x0;[_0x136916(0x381)]=0x0;get[_0x136916(0x35e)](){const _0x4580e2=_0x136916;return this[_0x4580e2(0x675)]+this[_0x4580e2(0x59b)];}get[_0x136916(0x675)](){const _0x3a13bf=_0x136916;return this[_0x3a13bf(0x5e6)]>0x0&&this[_0x3a13bf(0x38d)]>0x0&&Date[_0x3a13bf(0x154)]()-this['senderCurrentTimestamp']<_0xaa333f?(this[_0x3a13bf(0x1f8)]-this['senderPreviousBytes'])/(this[_0x3a13bf(0x5e6)]-this[_0x3a13bf(0x38d)])*0x8*0x3e8:0x0;}get[_0x136916(0x59b)](){const _0x25cbe2=_0x136916;return this['receiverCurrentTimestamp']>0x0&&this[_0x25cbe2(0x3e8)]>0x0&&Date['now']()-this[_0x25cbe2(0x117)]<_0xaa333f?(this['receiverCurrentBytes']-this['receiverPreviousBytes'])/(this[_0x25cbe2(0x117)]-this[_0x25cbe2(0x3e8)])*0x8*0x3e8:0x0;}[_0x136916(0x6df)](_0x4750c5){const _0x22a148=_0x136916;switch(_0x4750c5[_0x22a148(0x5f0)]){case _0x85605b[_0x22a148(0x4d5)]:this['processSenderReport'](_0x4750c5);break;case _0x85605b[_0x22a148(0x3fe)]:this[_0x22a148(0x3b8)](_0x4750c5);}}[_0x136916(0x42a)](){const _0xed1916=_0x136916;return{'bitrate':this['bitrate'],'senderBitrate':this[_0xed1916(0x675)],'receiverBitrate':this[_0xed1916(0x59b)],'totalBytes':this[_0xed1916(0x646)](),'senderTotalBytes':this['getSenderTotalBytes'](),'receiverTotalBytes':this[_0xed1916(0x6c3)](),'totalMessages':this[_0xed1916(0x371)]+this[_0xed1916(0x43d)],'senderTotalMessages':this[_0xed1916(0x371)],'receiverTotalMessages':this['receiverTotalMessages'],'timeProcessing':this[_0xed1916(0x65b)]+this[_0xed1916(0x4e0)],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this[_0xed1916(0x4e0)],'roundTripTime':this['roundTripTime']};}[_0x136916(0x646)](){const _0x2b672f=_0x136916;return this[_0x2b672f(0x1f8)]+this[_0x2b672f(0x224)];}[_0x136916(0x6c8)](){return this['senderCurrentBytes'];}['getReceiverTotalBytes'](){return this['receiverCurrentBytes'];}[_0x136916(0x725)](_0x6cff13){const _0xb3da65=_0x136916;this[_0xb3da65(0x2ba)](_0x6cff13[_0xb3da65(0x3b6)]),this[_0xb3da65(0x2f3)](_0x6cff13[_0xb3da65(0x1ba)]),this[_0xb3da65(0x371)]=_0x6cff13[_0xb3da65(0x511)],this['senderTimeProcessing']=_0x6cff13[_0xb3da65(0x174)],this[_0xb3da65(0x381)]=_0x6cff13[_0xb3da65(0x381)];}[_0x136916(0x3b8)](_0x579788){const _0x7bc6a3=_0x136916;this['setReceiverTimestamp'](_0x579788[_0x7bc6a3(0x3b6)]),this[_0x7bc6a3(0x1aa)](_0x579788['bytesReceived']),this[_0x7bc6a3(0x43d)]=_0x579788['messagesReceived'],this[_0x7bc6a3(0x4e0)]=_0x579788['timeReceiving'];}[_0x136916(0x2ba)](_0xb90278){const _0x4dc0ff=_0x136916;_0xb90278>this[_0x4dc0ff(0x5e6)]&&(this[_0x4dc0ff(0x38d)]=this[_0x4dc0ff(0x5e6)],this[_0x4dc0ff(0x5e6)]=_0xb90278);}[_0x136916(0x670)](_0x34a1e4){const _0x226930=_0x136916;_0x34a1e4>this[_0x226930(0x117)]&&(this[_0x226930(0x3e8)]=this[_0x226930(0x117)],this[_0x226930(0x117)]=_0x34a1e4);}[_0x136916(0x2f3)](_0x1c79a5){const _0x16a052=_0x136916;this[_0x16a052(0x1d1)]=this[_0x16a052(0x1f8)],this['senderCurrentBytes']=_0x1c79a5;}[_0x136916(0x1aa)](_0x3a8387){const _0x727eed=_0x136916;this['receiverPreviousBytes']=this[_0x727eed(0x224)],this[_0x727eed(0x224)]=_0x3a8387;}}class _0x437f9c{[_0x136916(0x1d4)]=new Map();['receiverStreams']=new Map();['dataChannel']=new _0x1bde78();get[_0x136916(0x675)](){const _0x105712=_0x136916;let _0x19d3e5=0x0;return this[_0x105712(0x1d4)][_0x105712(0x1b3)](_0x8fb332=>{const _0x3adf42=_0x105712;_0x19d3e5+=_0x8fb332[_0x3adf42(0x35e)];}),_0x19d3e5+=this[_0x105712(0x2d1)][_0x105712(0x675)],_0x19d3e5;}get[_0x136916(0x59b)](){const _0x3d8491=_0x136916;let _0x4aff3f=0x0;return this['receiverStreams'][_0x3d8491(0x1b3)](_0x170069=>{const _0x325e6f=_0x3d8491;_0x4aff3f+=_0x170069[_0x325e6f(0x35e)];}),_0x4aff3f+=this[_0x3d8491(0x2d1)][_0x3d8491(0x59b)],_0x4aff3f;}get['bitrate'](){const _0x325dd1=_0x136916;return this['senderBitrate']+this[_0x325dd1(0x59b)];}[_0x136916(0x678)](_0x2839dc,_0x7f5dcd){const _0x34eaf3=_0x136916,_0xa5556=[],_0xcf9dcd=[];return _0x2839dc instanceof Array?_0x2839dc[_0x34eaf3(0x1b3)](_0x1896c9=>{_0x1896c9['forEach'](_0x4199ca=>{const _0x3c21ab=a0_0x532f;_0x2cc504[_0x3c21ab(0x232)](_0x4199ca[_0x3c21ab(0x3fa)])&&_0xa5556[_0x3c21ab(0x5ac)](_0x4199ca),_0x29f833[_0x3c21ab(0x232)](_0x4199ca[_0x3c21ab(0x3fa)])&&_0xcf9dcd[_0x3c21ab(0x5ac)](_0x4199ca);});}):this[_0x34eaf3(0x2d1)][_0x34eaf3(0x6df)](_0x2839dc),_0xa5556['length']>0x0&&_0x7f5dcd?{...this[_0x34eaf3(0x4c8)](_0x7f5dcd,_0xa5556),'origin':_0x85605b[_0x34eaf3(0x3fe)],'streamId':_0x7f5dcd}:_0xcf9dcd['length']>0x0&&_0x7f5dcd?{...this[_0x34eaf3(0x1c7)](_0x7f5dcd,_0xcf9dcd),'origin':_0x85605b['Sender'],'streamId':_0x7f5dcd}:void 0x0;}['getReport'](){const _0x4284dd=_0x136916,_0xfa6ffb={};this[_0x4284dd(0x1d4)][_0x4284dd(0x1b3)]((_0x13bf77,_0x994dd2)=>{const _0x6516ad=_0x4284dd;_0xfa6ffb[_0x994dd2]=_0x13bf77[_0x6516ad(0x42a)]();});const _0x10fcf7={};return this[_0x4284dd(0x589)][_0x4284dd(0x1b3)]((_0x588f18,_0x4696ed)=>{_0x10fcf7[_0x4696ed]=_0x588f18['getReport']();}),{'bitrate':this[_0x4284dd(0x35e)],'senderBitrate':this[_0x4284dd(0x675)],'receiverBitrate':this['receiverBitrate'],'senderStreams':_0xfa6ffb,'receiverStreams':_0x10fcf7,'dataChannel':this['dataChannel'][_0x4284dd(0x42a)]()};}[_0x136916(0x4c8)](_0x53ec6c,_0x58b5d1){const _0x5ab333=_0x136916;return this[_0x5ab333(0x589)]['has'](_0x53ec6c)||this[_0x5ab333(0x589)]['set'](_0x53ec6c,new _0x4abda4()),this[_0x5ab333(0x589)][_0x5ab333(0x2b0)](_0x53ec6c)['processReports'](_0x58b5d1);}['processOutboundReports'](_0x51b5b1,_0x49ca24){const _0x2c08c6=_0x136916;return this[_0x2c08c6(0x1d4)][_0x2c08c6(0x2b3)](_0x51b5b1)||this[_0x2c08c6(0x1d4)][_0x2c08c6(0x5ff)](_0x51b5b1,new _0x4abda4()),this[_0x2c08c6(0x1d4)][_0x2c08c6(0x2b0)](_0x51b5b1)[_0x2c08c6(0x678)](_0x49ca24);}}class _0xc778e4{[_0x136916(0x599)]=new Map();[_0x136916(0x34e)]=0x0;['durationTime']=0x0;[_0x136916(0x6b5)]=new Map();[_0x136916(0x240)]=new Map();[_0x136916(0x291)]=new Map();['generativeAIContexts']=new Map();[_0x136916(0x751)]=new Map();['senderTotalMessages']=new Map();[_0x136916(0x43d)]=new Map();[_0x136916(0x65b)]=new Map();[_0x136916(0x4e0)]=new Map();['systemMessages']=new Map();['systemTopic'];[_0x136916(0x42a)](){const _0x5a565d=_0x136916,_0x30633f={};this[_0x5a565d(0x599)][_0x5a565d(0x1b3)]((_0x10193a,_0x4a41ce)=>{const _0x1c487b=_0x5a565d;_0x30633f[_0x4a41ce]=_0x10193a[_0x1c487b(0x42a)]();});let _0x1ce56c=0x0;this[_0x5a565d(0x65b)][_0x5a565d(0x1b3)](_0x3acdbe=>{_0x1ce56c+=_0x3acdbe;});let _0x5f05e8=0x0;this[_0x5a565d(0x4e0)][_0x5a565d(0x1b3)](_0x461ade=>{_0x5f05e8+=_0x461ade;});const _0x424ccb=_0x1ce56c+_0x5f05e8;let _0x4d0d04={'messages':{'total':0x0}};this['systemMessages'][_0x5a565d(0x1b3)](_0x43a98f=>{const _0x5b87a8=_0x5a565d;Object['keys'](_0x43a98f)[_0x5b87a8(0x1b3)](_0x598e4e=>{const _0x18c580=_0x5b87a8;_0x4d0d04[_0x598e4e]||(_0x4d0d04[_0x598e4e]={}),Object['keys'](_0x43a98f[_0x598e4e])[_0x18c580(0x1b3)](_0x2be5ac=>{_0x4d0d04[_0x598e4e][_0x2be5ac]||(_0x4d0d04[_0x598e4e][_0x2be5ac]=0x0),_0x4d0d04[_0x598e4e][_0x2be5ac]+=_0x43a98f[_0x598e4e][_0x2be5ac];});});});let _0x3683e1=0x0,_0x4c0d8d=0x0,_0x4eaf2d=0x0,_0x302f29=0x0,_0x2ff52a=0x0;return this[_0x5a565d(0x6b5)]['forEach'](_0x4605cc=>{const _0x2716ad=_0x5a565d;_0x4c0d8d+=_0x4605cc[_0x2716ad(0x511)],_0x4eaf2d+=_0x4605cc[_0x2716ad(0x333)],_0x302f29+=_0x4605cc['bytesSent'],_0x2ff52a+=_0x4605cc[_0x2716ad(0x5e4)];}),this[_0x5a565d(0x240)][_0x5a565d(0x1b3)](_0xa590e5=>{const _0x29077c=_0x5a565d;_0x3683e1+=_0xa590e5[_0x29077c(0x690)],_0x4c0d8d+=_0xa590e5['messagesSent'],_0x4eaf2d+=_0xa590e5[_0x29077c(0x333)],_0x302f29+=_0xa590e5[_0x29077c(0x1ba)],_0x2ff52a+=_0xa590e5[_0x29077c(0x5e4)];}),this[_0x5a565d(0x291)][_0x5a565d(0x1b3)](_0x30a8fb=>{const _0x5f95af=_0x5a565d;_0x3683e1+=_0x30a8fb[_0x5f95af(0x690)],_0x4c0d8d+=_0x30a8fb['messagesSent'],_0x4eaf2d+=_0x30a8fb[_0x5f95af(0x333)],_0x302f29+=_0x30a8fb[_0x5f95af(0x1ba)],_0x2ff52a+=_0x30a8fb[_0x5f95af(0x5e4)];}),this['generativeAIContexts']['forEach'](_0x22ccf1=>{const _0x581713=_0x5a565d;_0x3683e1+=_0x22ccf1[_0x581713(0x690)],_0x4c0d8d+=_0x22ccf1['messagesSent'],_0x4eaf2d+=_0x22ccf1[_0x581713(0x333)],_0x302f29+=_0x22ccf1[_0x581713(0x1ba)],_0x2ff52a+=_0x22ccf1[_0x581713(0x5e4)];}),this[_0x5a565d(0x751)][_0x5a565d(0x1b3)](_0x82cff1=>{const _0xe4bfde=_0x5a565d;_0x3683e1+=_0x82cff1[_0xe4bfde(0x690)],_0x4c0d8d+=_0x82cff1[_0xe4bfde(0x511)],_0x4eaf2d+=_0x82cff1['messagesReceived'],_0x302f29+=_0x82cff1[_0xe4bfde(0x1ba)],_0x2ff52a+=_0x82cff1[_0xe4bfde(0x5e4)];}),{'STVolatility':this[_0x5a565d(0x60a)](),'DTVolatility':this[_0x5a565d(0x561)](),'bitrate':this[_0x5a565d(0x2c7)](),'senderBitrate':this[_0x5a565d(0x1f4)](),'receiverBitrate':this['getReceiverBitrate'](),'totalStorageSize':_0x3683e1,'totalMessages':_0x4c0d8d+_0x4eaf2d,'totalMessagesSent':_0x4c0d8d,'totalMessagesReceived':_0x4eaf2d,'totalBytes':_0x302f29+_0x2ff52a,'totalBytesSent':_0x302f29,'totalBytesReceived':_0x2ff52a,'systemMessages':_0x4d0d04,'timeProcessing':_0x424ccb,'nodes':_0x30633f,'pubsubTopics':Object['fromEntries'](this[_0x5a565d(0x6b5)]),'objectStores':Object[_0x5a565d(0x3b4)](this[_0x5a565d(0x240)]),'keyValueDatabases':Object['fromEntries'](this[_0x5a565d(0x291)]),'generativeAIContexts':Object['fromEntries'](this[_0x5a565d(0x33a)]),'generativeAIWorkers':Object[_0x5a565d(0x3b4)](this[_0x5a565d(0x751)])};}['addRemoteNode'](_0x373fb0){const _0x19dfc5=_0x136916;this[_0x19dfc5(0x599)][_0x19dfc5(0x5ff)](_0x373fb0,new _0x437f9c());}[_0x136916(0x16e)](_0x176c04){const _0x5d6c63=_0x136916;this['nodes'][_0x5d6c63(0x21d)](_0x176c04);}[_0x136916(0x678)](_0x23bbd6,_0x43fb81,_0x280053){const _0x3b7460=_0x136916;_0x43fb81 instanceof Array||this[_0x3b7460(0x5e2)](_0x23bbd6,_0x43fb81);const _0x3d6730=this[_0x3b7460(0x599)][_0x3b7460(0x2b0)](_0x23bbd6)?.[_0x3b7460(0x678)](_0x43fb81,_0x280053);_0x3d6730&&this[_0x3b7460(0x74d)][_0x3b7460(0x457)]({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x3b7460(0x1c3)],'content':{'type':_0x5604fa['StreamReport'],'data':{..._0x3d6730,'nodeId':_0x23bbd6}}});}['processLocalReport'](_0x549235){const _0x21c82f=_0x136916;this[_0x21c82f(0x208)](_0x549235[_0x21c82f(0x75c)]),this[_0x21c82f(0x35c)](_0x549235['durationTime']),this[_0x21c82f(0x74d)]['publish']({'sourceId':_0x23eca1,'messageType':_0x15f44c[_0x21c82f(0x1c3)],'content':{'type':_0x5604fa['LocalReport'],'data':{'STVolatility':this[_0x21c82f(0x60a)](),'DTVolatility':this[_0x21c82f(0x561)]()}}});}[_0x136916(0xe8)](_0x56681f,_0x559ebf,_0x3db6fd){const _0x3bb470=_0x136916;switch(_0x559ebf){case _0x46fb30[_0x3bb470(0x69b)]:this['pubsubTopics'][_0x3bb470(0x5ff)](_0x56681f,_0x3db6fd);break;case _0x46fb30['ObjectStoreStats']:this[_0x3bb470(0x240)][_0x3bb470(0x5ff)](_0x56681f,_0x3db6fd);break;case _0x46fb30[_0x3bb470(0x178)]:this['keyValueDatabases']['set'](_0x56681f,_0x3db6fd);break;case _0x46fb30[_0x3bb470(0x2be)]:this['generativeAIContexts']['set'](_0x56681f,_0x3db6fd);break;case _0x46fb30[_0x3bb470(0x156)]:this[_0x3bb470(0x751)][_0x3bb470(0x5ff)](_0x56681f,_0x3db6fd);}}[_0x136916(0x4cd)](_0x5d5a6c){this['systemTopic']=_0x5d5a6c;}[_0x136916(0x748)](){const _0x3407ce=_0x136916;delete this[_0x3407ce(0x74d)];}['getSTVolatility'](){const _0x4bd0c4=_0x136916;return this[_0x4bd0c4(0x34e)]>0x0&&this[_0x4bd0c4(0x34e)]-_0x5129b7>0x0?(this[_0x4bd0c4(0x34e)]-_0x5129b7)/_0x5129b7:0x0;}[_0x136916(0x561)](){const _0x31a149=_0x136916;return this[_0x31a149(0x484)]>0x0&&this[_0x31a149(0x484)]-0x64>0x0?(this[_0x31a149(0x484)]-0x64)/0x64:0x0;}[_0x136916(0x1f4)](){const _0x5705e9=_0x136916;let _0x41af86=0x0;return this[_0x5705e9(0x599)][_0x5705e9(0x1b3)](_0x35f554=>{const _0x458679=_0x5705e9;_0x41af86+=_0x35f554[_0x458679(0x675)];}),_0x41af86;}[_0x136916(0x5e3)](){const _0x2d2fdc=_0x136916;let _0x5ded6f=0x0;return this[_0x2d2fdc(0x599)][_0x2d2fdc(0x1b3)](_0x3e45df=>{const _0x29c920=_0x2d2fdc;_0x5ded6f+=_0x3e45df[_0x29c920(0x59b)];}),_0x5ded6f;}['getBitrate'](){const _0x47d6d3=_0x136916;let _0x31cc27=0x0;return this[_0x47d6d3(0x599)][_0x47d6d3(0x1b3)](_0x2633a6=>{_0x31cc27+=_0x2633a6['bitrate'];}),_0x31cc27;}[_0x136916(0x208)](_0x901839){this['scheduleTime']=_0x901839;}[_0x136916(0x35c)](_0x87d4b1){const _0x2cda3d=_0x136916;this[_0x2cda3d(0x484)]=_0x87d4b1;}['processDataChannelReport'](_0x1c572d,_0x2c1ea9){const _0x2bb0f7=_0x136916;switch(_0x2c1ea9[_0x2bb0f7(0x5f0)]){case _0x85605b[_0x2bb0f7(0x4d5)]:this['processSenderReport'](_0x1c572d,_0x2c1ea9);break;case _0x85605b['Receiver']:this['processReceiverReport'](_0x1c572d,_0x2c1ea9);}}[_0x136916(0x725)](_0x52db41,_0x3fed7d){const _0x196d57=_0x136916;this[_0x196d57(0x371)]['set'](_0x52db41,_0x3fed7d[_0x196d57(0x511)]),this[_0x196d57(0x65b)][_0x196d57(0x5ff)](_0x52db41,_0x3fed7d[_0x196d57(0x174)]);}[_0x136916(0x3b8)](_0x11fb38,_0x252e6e){const _0x1d6f02=_0x136916;this[_0x1d6f02(0x43d)][_0x1d6f02(0x5ff)](_0x11fb38,_0x252e6e[_0x1d6f02(0x333)]),this[_0x1d6f02(0x4e0)][_0x1d6f02(0x5ff)](_0x11fb38,_0x252e6e['timeReceiving']),this[_0x1d6f02(0x37e)][_0x1d6f02(0x5ff)](_0x11fb38,_0x252e6e['systemMessages']);}}class _0x14a2ab{['configs'];['remoteNodes']=new Set();[_0x136916(0x64c)];[_0x136916(0x703)];['statsReporting'];[_0x136916(0x3cc)]=new _0xc778e4();constructor(_0x15e5b5){const _0x4bdf20=_0x136916;this[_0x4bdf20(0x6a3)]=_0x15e5b5,this[_0x4bdf20(0x6a3)][_0x4bdf20(0x63c)][_0x4bdf20(0x60d)](this['statsReport']),this['statsCollection']=this['setupStatsCollection'](),this[_0x4bdf20(0x389)]=this[_0x4bdf20(0x44b)]();}[_0x136916(0x348)](){const _0x5708f2=_0x136916;this[_0x5708f2(0x6a3)]['mediator'][_0x5708f2(0x36e)](this['statsReport']),this['statsReporting'](),this[_0x5708f2(0x703)]();}['addRemoteNode'](_0x1388eb){const _0x56b6bd=_0x136916;this['remoteNodes']['add'](_0x1388eb),this[_0x56b6bd(0x3cc)]['addRemoteNode'](_0x1388eb);}['removeRemoteNode'](_0x532eb2){const _0x4ce33d=_0x136916;this[_0x4ce33d(0x6e3)][_0x4ce33d(0x21d)](_0x532eb2),this[_0x4ce33d(0x3cc)]['removeRemoteNode'](_0x532eb2);}[_0x136916(0x54d)](_0x24e452){const _0x26d18a=_0x136916;if(_0x24e452[_0x26d18a(0x2dc)][_0x26d18a(0x3fa)]===_0x5b3080[_0x26d18a(0x1c3)]){const {nodeId:_0x1a28c7,streamId:_0xbb65c,stats:_0x230210}=_0x24e452[_0x26d18a(0x2dc)];this[_0x26d18a(0x3cc)]['processReports'](_0x1a28c7,_0x230210,_0xbb65c);}}[_0x136916(0x476)](_0xfd5fce){const _0x40271e=_0x136916;switch(_0xfd5fce[_0x40271e(0x2dc)]['type']){case _0x46fb30['ObjectStoreStats']:case _0x46fb30[_0x40271e(0x178)]:case _0x46fb30[_0x40271e(0x69b)]:case _0x46fb30[_0x40271e(0x2be)]:case _0x46fb30[_0x40271e(0x156)]:this[_0x40271e(0x3cc)]['processServiceReport'](_0xfd5fce[_0x40271e(0x2dc)][_0x40271e(0x369)],_0xfd5fce['content']['type'],_0xfd5fce[_0x40271e(0x2dc)][_0x40271e(0x3ed)]);}}[_0x136916(0x44b)](){const _0x22bfb4=_0x136916;return _0xa9e155[_0x22bfb4(0x71b)](()=>{const _0x3a1e2c=_0x22bfb4,_0x23e5be=this[_0x3a1e2c(0x3cc)][_0x3a1e2c(0x42a)]();_0x148f53['log'](_0x19b950[_0x3a1e2c(0x1c3)],'Stats:\x20report',_0x23e5be),(0x0,_0x1d882b[_0x3a1e2c(0x4e5)])((0x0,_0x1d882b[_0x3a1e2c(0x241)])(_0x329b41[_0x3a1e2c(0x61b)](),_0x3a1e2c(0x3a1)+this[_0x3a1e2c(0x6a3)][_0x3a1e2c(0x180)]+_0x3a1e2c(0x268)),{'clusterId':this[_0x3a1e2c(0x6a3)][_0x3a1e2c(0x5bf)],'nodeId':this[_0x3a1e2c(0x6a3)][_0x3a1e2c(0x395)]['getId'](),'nodeType':this[_0x3a1e2c(0x6a3)][_0x3a1e2c(0x395)][_0x3a1e2c(0x3fa)],'timestamp':(0x0,_0x1d882b[_0x3a1e2c(0x300)])(),'report':_0x23e5be}),_0x148f53[_0x3a1e2c(0x70d)]('stats',{'clusterId':this[_0x3a1e2c(0x6a3)][_0x3a1e2c(0x5bf)],'nodeId':this[_0x3a1e2c(0x6a3)]['localNode'][_0x3a1e2c(0x716)](),'nodeType':this[_0x3a1e2c(0x6a3)][_0x3a1e2c(0x395)][_0x3a1e2c(0x3fa)],'data':{'report':_0x23e5be}});},_0xaa333f);}[_0x136916(0x732)](){const _0x5a91f0=_0x136916;let _0x5edee9=!0x1,_0x4bceed=Date[_0x5a91f0(0x154)]();return _0xa9e155[_0x5a91f0(0x71b)](async()=>{const _0x140a55=_0x5a91f0;if(_0x5edee9)return;if(_0x5edee9=!0x0,0x0===this[_0x140a55(0x6e3)][_0x140a55(0x216)])return delete this['nextNodeId'],void(_0x5edee9=!0x1);const _0x1643f5=Date[_0x140a55(0x154)]();this['findNextNodeId']();try{await this['configs'][_0x140a55(0x63c)][_0x140a55(0x1c0)](this['nextNodeId']);}catch(_0x59ffe2){}this[_0x140a55(0x3cc)][_0x140a55(0x2f2)]({'secheduleTime':_0x1643f5-_0x4bceed,'durationTime':Date['now']()-_0x1643f5}),_0x4bceed=_0x1643f5,_0x5edee9=!0x1;},_0x5129b7);}['findNextNodeId'](){const _0x25be53=_0x136916;let _0x492cc3,_0x3b6e6d=!0x1;this[_0x25be53(0x64c)]&&(this[_0x25be53(0x6e3)][_0x25be53(0x2b3)](this[_0x25be53(0x64c)])||delete this[_0x25be53(0x64c)]);for(const _0x3b231d of this[_0x25be53(0x6e3)])if(_0x492cc3||(_0x492cc3=_0x3b231d),this['nextNodeId']!==_0x3b231d){if(_0x3b6e6d)return void(this[_0x25be53(0x64c)]=_0x3b231d);}else _0x3b6e6d=!0x0,delete this['nextNodeId'];this[_0x25be53(0x64c)]||(this[_0x25be53(0x64c)]=_0x492cc3);}}class _0x5d2659{[_0x136916(0x553)];['destination'];['systemTopic'];constructor(_0xf118d5,_0x208462){this['source']=_0xf118d5,this['destination']=_0x208462;}['registerSystemPublisher'](_0x42d662){this['systemTopic']=_0x42d662;}[_0x136916(0x748)](){const _0x254637=_0x136916;delete this[_0x254637(0x74d)];}}class _0x269c87 extends _0x5d2659{[_0x136916(0x553)];[_0x136916(0x1fe)];['params'];constructor(_0x1b7f69,_0x5c4552,_0x14a0e4){const _0x178e3e=_0x136916;super(_0x1b7f69,_0x5c4552),this[_0x178e3e(0x553)]=_0x1b7f69,this[_0x178e3e(0x1fe)]=_0x5c4552,this[_0x178e3e(0x30c)]=_0x14a0e4;}['subscribe'](_0x13b616,_0x30522d,_0x2a018){const _0x523bbd=_0x136916;if(this[_0x523bbd(0x1fe)][_0x523bbd(0x51b)]()===_0x1095f4[_0x523bbd(0x2fd)]['Media']){const _0x5246f9={'type':_0x5f37ce[_0x523bbd(0x1e7)],'label':this[_0x523bbd(0x1fe)][_0x523bbd(0x2b4)](),'ownerId':_0x13b616,'trackKinds':_0x30522d??this[_0x523bbd(0x1fe)][_0x523bbd(0x2ac)](),'params':_0x2a018};this[_0x523bbd(0x74d)][_0x523bbd(0x457)]({'sourceId':this[_0x523bbd(0x553)][_0x523bbd(0x643)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x15f44c[_0x523bbd(0x120)],'content':_0x5246f9}),this[_0x523bbd(0x30c)]=_0x2a018;}}[_0x136916(0x4cb)](_0x39dc3f,_0x4af863){const _0x567bd1=_0x136916;if(this[_0x567bd1(0x1fe)][_0x567bd1(0x51b)]()===_0x1095f4[_0x567bd1(0x2fd)]['Media']){const _0x15d321={'type':_0x5f37ce[_0x567bd1(0x6cd)],'label':this[_0x567bd1(0x1fe)][_0x567bd1(0x2b4)](),'ownerId':_0x39dc3f,'params':_0x4af863};this['systemTopic']['publish']({'sourceId':this[_0x567bd1(0x553)][_0x567bd1(0x643)](),'destinationIds':[this[_0x567bd1(0x553)][_0x567bd1(0x185)]()],'messageType':_0x15f44c[_0x567bd1(0x120)],'content':_0x15d321}),this[_0x567bd1(0x30c)]=_0x4af863;}}['unsubscribe'](_0x3eaa23,_0x229c60,_0xe1cd07){const _0x433c24=_0x136916;if(this[_0x433c24(0x1fe)][_0x433c24(0x51b)]()===_0x1095f4['ContentType']['Media']){const _0x3d349c={'type':_0x5f37ce[_0x433c24(0x452)],'label':this[_0x433c24(0x1fe)][_0x433c24(0x2b4)](),'ownerId':_0x3eaa23,'trackKinds':_0xe1cd07??this[_0x433c24(0x1fe)]['getAvailableTrackKinds'](),'remainingTracks':_0x229c60};this[_0x433c24(0x74d)][_0x433c24(0x457)]({'sourceId':this[_0x433c24(0x553)][_0x433c24(0x643)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x15f44c[_0x433c24(0x120)],'content':_0x3d349c});}}}class _0x1d7a15{[_0x136916(0x1cd)];[_0x136916(0x69a)];[_0x136916(0x5d0)];[_0x136916(0x74d)];[_0x136916(0x1cc)]=new Set();[_0x136916(0x45d)]=Date['now']();[_0x136916(0x30c)];['retryCount']=0x0;constructor(_0x5c7fb2,_0x406655,_0x2b4563,_0x1be37e){const _0x3c0aed=_0x136916;this[_0x3c0aed(0x1cd)]=_0x406655,this[_0x3c0aed(0x69a)]=_0x2b4563,this[_0x3c0aed(0x5d0)]=_0x1be37e,_0x5c7fb2[_0x3c0aed(0x1b3)](_0x5174a9=>{const _0xc55398=_0x3c0aed;this[_0xc55398(0x1cc)][_0xc55398(0x759)]({'nodeId':_0x5174a9,'type':_0x27d721[_0xc55398(0x27d)]});});}[_0x136916(0x55b)](){const _0x243774=_0x136916;return this[_0x243774(0x5d0)];}[_0x136916(0x4cd)](_0xb925cf){const _0x293515=_0x136916;this[_0x293515(0x74d)]=_0xb925cf;}[_0x136916(0x748)](){const _0x3e98f4=_0x136916;delete this[_0x3e98f4(0x74d)];}[_0x136916(0x234)](_0x2800ac,_0x1da273){const _0x23aba7=_0x136916;this[_0x23aba7(0x45d)]=Date['now'](),this[_0x23aba7(0x1cc)]['clear'](),_0x2800ac[_0x23aba7(0x1b3)](_0x2a4b15=>{const _0x272c87=_0x23aba7;this[_0x272c87(0x1cc)][_0x272c87(0x759)]({'nodeId':_0x2a4b15,'type':_0x27d721['Waiting']});}),this['retryCount']+=0x1,this[_0x23aba7(0x1cd)]=_0x1da273;}[_0x136916(0x3e7)](_0x38e61e,_0x416b66,_0xdd1993,_0x2dc055,_0x3789ff){const _0x837987=_0x136916;if(this[_0x837987(0x320)]>0xa)throw new _0x2fb975(_0x2fb975[_0x837987(0x516)][_0x837987(0x192)],{'answers':Array[_0x837987(0x4c4)](this[_0x837987(0x1cc)])[_0x837987(0x774)](_0x5cc933=>({'nodeId':_0x5cc933[_0x837987(0x39b)],'type':_0x5cc933[_0x837987(0x3fa)]}))});const _0x1b9241=Array[_0x837987(0x4c4)](this[_0x837987(0x1cc)])[_0x837987(0x774)](_0x3949be=>_0x3949be[_0x837987(0x39b)]);this[_0x837987(0x30c)]=_0x3789ff,this[_0x837987(0x74d)]['publish']({'sourceId':_0x38e61e,'destinationIds':_0x1b9241,'messageType':_0x15f44c[_0x837987(0x120)],'content':{'type':_0x5f37ce[_0x837987(0x20d)],'label':_0xdd1993,'ownerId':_0x416b66,'trackKinds':_0x2dc055,'params':_0x3789ff}}),_0x148f53['log'](_0x19b950[_0x837987(0x120)],_0x837987(0x2d3),_0x38e61e,_0x1b9241);}[_0x136916(0x628)](_0x23e35f,_0x4cc200){const _0x418ee9=_0x136916;switch(_0x4cc200[_0x418ee9(0x3fa)]){case _0x5f37ce[_0x418ee9(0x4ba)]:{const _0x50703c=this[_0x418ee9(0x1cd)]>=_0x4cc200[_0x418ee9(0x51a)]&&_0x4cc200['distance']<=this[_0x418ee9(0x69a)],_0x151407=Array[_0x418ee9(0x4c4)](this['answers'])[_0x418ee9(0x21f)](_0x3964d0=>_0x3964d0[_0x418ee9(0x39b)]===_0x23e35f);_0x151407[_0x418ee9(0x3fa)]=_0x50703c?_0x27d721[_0x418ee9(0x71f)]:_0x27d721[_0x418ee9(0x28d)],_0x151407[_0x418ee9(0x656)]=_0x4cc200[_0x418ee9(0x656)],_0x151407[_0x418ee9(0x51a)]=_0x4cc200[_0x418ee9(0x51a)],_0x151407['streamId']=_0x4cc200['streamId'],_0x151407['roundTripTime']=Date[_0x418ee9(0x154)]()-this[_0x418ee9(0x45d)],_0x151407[_0x418ee9(0x30c)]=this[_0x418ee9(0x30c)],_0x151407[_0x418ee9(0x754)]=_0x4cc200['ownerId'],_0x151407[_0x418ee9(0x72b)]=_0x4cc200[_0x418ee9(0x72b)],_0x151407['streamLabel']=_0x4cc200[_0x418ee9(0x369)],_0x148f53['log'](_0x19b950['Subscription'],(_0x50703c?_0x418ee9(0x71f):_0x418ee9(0x28d))+_0x418ee9(0x503),_0x151407);break;}case _0x5f37ce[_0x418ee9(0x18e)]:{const _0x4bcc24=Array[_0x418ee9(0x4c4)](this['answers'])[_0x418ee9(0x21f)](_0x32f961=>_0x32f961[_0x418ee9(0x39b)]===_0x23e35f);_0x4bcc24[_0x418ee9(0x3fa)]=_0x27d721[_0x418ee9(0x28d)],_0x148f53[_0x418ee9(0x2f4)](_0x19b950[_0x418ee9(0x120)],_0x418ee9(0x520),_0x4bcc24);break;}}if(this[_0x418ee9(0x269)]())return this[_0x418ee9(0x23d)]();}[_0x136916(0x23d)](){const _0x2282b8=_0x136916,_0x21a9a8=Array[_0x2282b8(0x4c4)](this[_0x2282b8(0x1cc)])[_0x2282b8(0x557)](_0x32eb9f=>_0x32eb9f[_0x2282b8(0x3fa)]===_0x27d721[_0x2282b8(0x71f)])[_0x2282b8(0x4f6)]((_0x275c87,_0x36bd2f)=>_0x275c87[_0x2282b8(0x656)]===_0x36bd2f[_0x2282b8(0x656)]?_0x275c87[_0x2282b8(0x381)]-_0x36bd2f[_0x2282b8(0x381)]:_0x275c87[_0x2282b8(0x656)]-_0x36bd2f[_0x2282b8(0x656)]);if(0x0===_0x21a9a8[_0x2282b8(0x3a9)])throw new _0x2fb975(_0x2fb975[_0x2282b8(0x516)][_0x2282b8(0x192)],{'answers':Array[_0x2282b8(0x4c4)](this['answers'])[_0x2282b8(0x774)](_0x526bed=>({'nodeId':_0x526bed[_0x2282b8(0x39b)],'type':_0x526bed[_0x2282b8(0x3fa)]}))});return _0x148f53[_0x2282b8(0x2f4)](_0x19b950[_0x2282b8(0x120)],_0x2282b8(0xfd),_0x21a9a8[0x0],this[_0x2282b8(0x1cc)]),_0x21a9a8[0x0];}[_0x136916(0x269)](){const _0x40e64e=_0x136916;for(const _0x4b041a of this[_0x40e64e(0x1cc)])if(_0x4b041a[_0x40e64e(0x3fa)]===_0x27d721[_0x40e64e(0x27d)])return!0x1;return!0x0;}}class _0x319627{[_0x136916(0x369)];[_0x136916(0x2e4)];['listener']=_0x57b3e6();constructor(_0x4e24af,_0x4a3ca1){const _0x38c410=_0x136916;this[_0x38c410(0x369)]=_0x4e24af,this[_0x38c410(0x2e4)]=_0x4a3ca1;}[_0x136916(0x2b4)](){const _0x5cc2e7=_0x136916;return this[_0x5cc2e7(0x369)];}[_0x136916(0x51b)](){return this['contentType'];}['registerSource'](_0x843265){_0x843265['registerPublisher'](this);}[_0x136916(0x317)](_0x4705dd){const _0x154933=_0x136916;_0x4705dd[_0x154933(0x622)](this);}[_0x136916(0x457)](_0x5c062f){const _0x426cc9=_0x136916;this[_0x426cc9(0x5fa)]['publish']({'topicLabel':this[_0x426cc9(0x369)],'contentType':this[_0x426cc9(0x2e4)],'uuid':(0x0,_0x53bfff['v4'])(),'recipients':[],..._0x5c062f});}[_0x136916(0x67e)](_0xb09e){const _0x22565e=_0x136916;return this[_0x22565e(0x5fa)]['subscribe'](_0xb09e);}['unregisterSource'](_0x1fabd5){const _0x3439d3=_0x136916;_0x1fabd5[_0x3439d3(0x330)](this);}[_0x136916(0x2cf)](_0x23fa90){const _0x806943=_0x136916;_0x23fa90[_0x806943(0x362)](this);}}class _0x1bf01d{[_0x136916(0x10f)]={'topics':new Map(),'subscriptions':new Map()};[_0x136916(0x2eb)];constructor(_0x507ce8){const _0x5195f2=_0x136916;this[_0x5195f2(0x2eb)]=_0x507ce8;}get['subscriptions'](){const _0x96c30c=_0x136916;return this[_0x96c30c(0x10f)]['subscriptions'];}get[_0x136916(0x430)](){const _0x36167b=_0x136916;return this[_0x36167b(0x10f)][_0x36167b(0x430)];}[_0x136916(0x205)](_0xada970,_0x4b004c){const _0x1cb329=_0x136916,_0x27b752=this[_0x1cb329(0x2eb)](_0x4b004c),_0x3b9648=_0x4eb0dc(_0xada970);if(!_0x27b752[_0x1cb329(0x507)])throw new _0x2fb975(_0x2fb975[_0x1cb329(0x516)][_0x1cb329(0x1df)],{'message':_0x3b9648+':\x20'+_0x27b752[_0x1cb329(0x1a8)]+'\x20does\x20not\x20support\x20content\x20type\x20'+_0x27b752['contentType'],'subscriptionType':_0xada970,'subscription':_0x4b004c,'subscriptonParts':_0x27b752});const _0x2d51e0=_0x1c8f51(_0xada970,_0x27b752);if(this[_0x1cb329(0x10f)][_0x1cb329(0x61d)][_0x1cb329(0x2b3)](_0x2d51e0))throw new _0x2fb975(_0x2fb975['codes']['InvalidSubscription'],{'message':_0x3b9648+':\x20'+_0x2d51e0+'\x20already\x20exists','subscriptionType':_0xada970,'subscription':_0x4b004c,'subscriptonParts':_0x27b752});this[_0x1cb329(0x10f)][_0x1cb329(0x61d)]['set'](_0x2d51e0,_0x4b004c),this[_0x1cb329(0x5b5)](_0x27b752,_0x4b004c);}[_0x136916(0x475)](_0x59b20a,_0x5af56f){const _0x260874=_0x136916,_0x533dc9=_0x1c8f51(_0x5af56f,_0x59b20a),_0x251bba=this['maps'][_0x260874(0x61d)]['get'](_0x533dc9);if(!_0x251bba)throw new _0x2fb975(_0x2fb975[_0x260874(0x516)][_0x260874(0x1df)],{'message':_0x4eb0dc(_0x5af56f)+':\x20'+_0x533dc9+'\x20does\x20not\x20exists','subscriptionType':_0x5af56f,'subscription':_0x251bba,'subscriptonParts':_0x59b20a});this[_0x260874(0x535)](_0x251bba,_0x533dc9,_0x59b20a);}[_0x136916(0x535)](_0x2b3c70,_0x3f6606,_0x2612e5){const _0x2aa98a=_0x136916;_0x2612e5=_0x2612e5||this[_0x2aa98a(0x2eb)](_0x2b3c70),this['maps'][_0x2aa98a(0x61d)][_0x2aa98a(0x21d)](_0x3f6606),this[_0x2aa98a(0x49d)](_0x2612e5,_0x2b3c70);}['createTopic'](_0x29953d,{source:_0x519c31,destination:_0x571e1b}){const _0x3066d8=_0x136916,{contentType:_0x4d9a1c,label:_0x2792ca,remoteId:_0x4da85f}=_0x29953d,_0x4d0d74=_0x309535(_0x4d9a1c,_0x2792ca,_0x4da85f),_0x4bec1c=new _0x319627(_0x4d0d74,_0x4d9a1c);_0x4bec1c[_0x3066d8(0x13b)](_0x519c31),_0x4bec1c['registerDestination'](_0x571e1b),this[_0x3066d8(0x10f)]['topics'][_0x3066d8(0x5ff)](_0x4bec1c[_0x3066d8(0x2b4)](),_0x4bec1c);}[_0x136916(0x49d)](_0x2d5a79,_0x10fa09){const _0x1c3968=_0x136916,{contentType:_0x4b56bf,label:_0x532d43,remoteId:_0x2b918e}=_0x2d5a79,_0x5ebf55=_0x309535(_0x4b56bf,_0x532d43,_0x2b918e),_0xab1b65=this[_0x1c3968(0x10f)][_0x1c3968(0x430)][_0x1c3968(0x2b0)](_0x5ebf55);_0xab1b65&&(this[_0x1c3968(0x2bb)](_0xab1b65,_0x10fa09),this[_0x1c3968(0x10f)][_0x1c3968(0x430)][_0x1c3968(0x21d)](_0x5ebf55));}[_0x136916(0x2bb)](_0x17bb74,{source:_0x17477b,destination:_0x5e76b1}){const _0x452b90=_0x136916;_0x17bb74[_0x452b90(0x324)](_0x17477b),_0x17bb74['unregisterDestination'](_0x5e76b1);}['removeSubscriptionsForNode'](_0x1711e5){const _0x1eb1c9=_0x136916;this[_0x1eb1c9(0x10f)][_0x1eb1c9(0x61d)][_0x1eb1c9(0x1b3)]((_0x45ae95,_0x229f0f)=>{const _0x148d61=_0x1eb1c9;_0x229f0f['endsWith'](_0x1711e5)&&this[_0x148d61(0x535)](_0x45ae95,_0x229f0f);});}}class _0xda6c65{[_0x136916(0x6a3)];[_0x136916(0x69a)];[_0x136916(0x1e0)]=new Map();[_0x136916(0x372)]=_0x3d91a7(new _0x595720(this[_0x136916(0x4b9)][_0x136916(0x72c)](this),()=>_0xa9e155['wait'](0x64)),!0x0);[_0x136916(0x5ab)]=new Map();[_0x136916(0x10f)];[_0x136916(0x63d)]=new Map();constructor(_0xfe84aa,_0x3db702){const _0xb51e88=_0x136916;this[_0xb51e88(0x6a3)]=_0xfe84aa,this[_0xb51e88(0x69a)]=_0x3db702,this['maps']=new _0x1bf01d(({source:_0x32d5b0,destination:_0x5a66ab})=>_0x5bd068(_0x5a66ab,_0x32d5b0));}[_0x136916(0x205)](_0x180bdc,_0x4d6506){const _0x459399=_0x136916,_0x17d748=this[_0x459399(0x6c6)](_0x180bdc)&&this[_0x459399(0x727)](_0x4d6506)?new _0x269c87(_0x180bdc,_0x4d6506):new _0x5d2659(_0x180bdc,_0x4d6506);this['maps'][_0x459399(0x205)](_0x277968[_0x459399(0x54e)],_0x17d748),this[_0x459399(0x6a3)]['mediator'][_0x459399(0x60d)](_0x17d748);}[_0x136916(0x475)](_0x1460a0,_0x2026d0,_0x422415=''){const _0x160abf=_0x136916,_0x3c427b={'contentType':_0x2026d0,'label':_0x1460a0,'remoteId':_0x422415},_0x51c673=_0x1c8f51(_0x277968[_0x160abf(0x54e)],_0x3c427b),_0x32e549=this['maps']['subscriptions']['get'](_0x51c673);_0x32e549&&this[_0x160abf(0x535)](_0x32e549,_0x51c673);}[_0x136916(0x1b9)](_0x31a261){const _0x1ba1ca=_0x136916;this[_0x1ba1ca(0x44c)](_0x31a261);}[_0x136916(0x40c)]({label:_0x218c7c,ownerId:_0x514bd4,trackKinds:_0x5a0ecc,params:_0x332214}){const _0x3ada2c=_0x136916;this[_0x3ada2c(0x52d)](_0x218c7c,_0x514bd4,_0x5a0ecc,_0x332214);}['handleContentUpdateMediaStream']({ownerId:_0x5b9495,label:_0x58ed4b,params:_0x1b1423}){const _0xa0defe=_0x136916,{subscriptionLabel:_0x1c4d73}=this[_0xa0defe(0x153)](_0x58ed4b,_0x5b9495),_0x1694d3=this[_0xa0defe(0x5d2)](_0x1c4d73);_0x1694d3&&_0x1694d3['update'](_0x5b9495,_0x1b1423);}[_0x136916(0x1db)]({ownerId:_0xf1f288,label:_0x493310,trackKinds:_0x44661a,remainingTracks:_0x544833}){const _0x47da08=_0x136916,_0x442bf5=_0x1c8f51(_0x277968[_0x47da08(0x54e)],{'contentType':_0x1095f4['ContentType'][_0x47da08(0x6b9)],'label':_0x493310,'remoteId':_0xf1f288});this[_0x47da08(0x229)](_0x442bf5);const _0x3c6cc7=this['subscriptionRequests']['get'](_0x442bf5);_0x3c6cc7&&(this['configs'][_0x47da08(0x63c)][_0x47da08(0x36e)](_0x3c6cc7),this[_0x47da08(0x1e0)][_0x47da08(0x21d)](_0x442bf5));const {parts:_0x154c60,subscriptionLabel:_0x17eba3}=this['getSubscriptionLabel'](_0x493310,_0xf1f288),_0x21ac23=this['getMediaSubscription'](_0x17eba3);_0x21ac23&&(_0x21ac23[_0x47da08(0xef)](_0xf1f288,_0x544833,_0x44661a),0x0===_0x544833&&this[_0x47da08(0x475)](_0x154c60['label'],_0x154c60[_0x47da08(0x2e4)],_0x154c60[_0x47da08(0x1a8)]));}[_0x136916(0x412)](_0x50e2d9,{label:_0xd7c11d,ownerId:_0x18cb39,trackKinds:_0x3e5849,streamId:_0x1d1119,params:_0x3f342d}){const _0x54282c=_0x136916,_0xdf3ffe=_0x1c8f51(_0x277968[_0x54282c(0x54e)],{'contentType':_0x1095f4[_0x54282c(0x2fd)][_0x54282c(0x6b9)],'label':_0x1d1119,'remoteId':_0x50e2d9}),_0x3186e4=this[_0x54282c(0x10f)][_0x54282c(0x61d)]['get'](_0xdf3ffe);if(!(_0x3186e4&&_0x3186e4 instanceof _0x269c87))throw new _0x2fb975(_0x2fb975[_0x54282c(0x516)][_0x54282c(0x461)],{'label':_0xdf3ffe,'ownerId':_0x18cb39});this[_0x54282c(0x535)](_0x3186e4,_0xdf3ffe),this['requestSubscription'](_0xd7c11d,_0x18cb39,_0x3e5849,_0x3f342d);}[_0x136916(0x6f3)](_0x2046f9,_0x7a4e45){const _0x3030d3=_0x136916,{label:_0x5ae129,ownerId:_0x5d1fd1,trackKinds:_0x593834,params:_0x4f1c2f}=_0x7a4e45,_0x35bd65=_0x1c8f51(_0x277968[_0x3030d3(0x54e)],{'contentType':_0x1095f4[_0x3030d3(0x2fd)][_0x3030d3(0x6b9)],'label':_0x5ae129,'remoteId':_0x5d1fd1});if(!this[_0x3030d3(0x1e0)][_0x3030d3(0x2b3)](_0x35bd65))throw new _0x2fb975(_0x2fb975[_0x3030d3(0x516)][_0x3030d3(0x461)],{'label':_0x35bd65,'ownerId':_0x5d1fd1,'streamId':_0x7a4e45[_0x3030d3(0x75d)],'requests':this[_0x3030d3(0x1e0)]});const _0x4e90bb=this[_0x3030d3(0x1e0)][_0x3030d3(0x2b0)](_0x35bd65);if(_0x593834[_0x3030d3(0x3a9)]===_0x4e90bb[_0x3030d3(0x55b)]()[_0x3030d3(0x3a9)]&&_0x593834[_0x3030d3(0x5db)](_0x27606f=>_0x4e90bb[_0x3030d3(0x55b)]()[_0x3030d3(0x232)](_0x27606f)))try{const _0x3ac9bd=_0x4e90bb[_0x3030d3(0x628)](_0x2046f9,_0x7a4e45);if(!_0x3ac9bd)return;this[_0x3030d3(0x67e)](_0x3ac9bd,_0x5d1fd1,_0x5ae129,_0x35bd65,_0x593834);}catch(_0x32ff71){return void this['handleNoAnswer'](_0x5ae129,_0x5d1fd1,_0x593834,_0x4f1c2f);}}['handleSubscriptionMediaStreamUnavailable'](_0x186b6d,{label:_0x5d5ff5,ownerId:_0x459a50,trackKinds:_0x2b7966}){const _0x378a3a=_0x136916,_0x1f7aa4=this['configs']['mediator'][_0x378a3a(0x61a)](_0x459a50,_0x5d5ff5);if(!_0x1f7aa4)return;const _0x402dba=_0x1f7aa4[_0x378a3a(0x6f1)](),_0x6d8e66=_0x1f7aa4['getSubscribedTracks']();_0x6d8e66[_0x378a3a(0x326)](_0x2f3646=>_0x2b7966[_0x378a3a(0x232)](_0x2f3646))&&this['findNewMediaSubscription'](_0x186b6d,_0x5d5ff5,_0x402dba,_0x459a50,_0x6d8e66);}[_0x136916(0x5b0)]({label:_0xe0641,providerId:_0x3c9c39,ownerId:_0x2a8d99,streamId:_0x4bacad,trackKinds:_0xfb7c3a}){const _0x4333ed=_0x136916;this[_0x4333ed(0x57c)](_0x3c9c39,_0xe0641,_0x4bacad,_0x2a8d99,_0xfb7c3a);}[_0x136916(0x574)](_0x1dd2bf){const _0x13e76f=_0x136916;for(const _0x2e838e of this[_0x13e76f(0x63d)][_0x13e76f(0x26f)]()){const {streamLabel:_0x290869,ownerId:_0x211b3d,trackKinds:_0x31b2aa,params:_0x434e1}=_0x2e838e;if(!_0x211b3d||!_0x31b2aa||!_0x290869)return;this[_0x13e76f(0x372)][_0x13e76f(0x5ac)]({'label':_0x290869,'ownerId':_0x211b3d,'trackKinds':_0x31b2aa,'params':_0x434e1,'remoteId':_0x1dd2bf});}}['removeSubscriptionsForNode'](_0x1fb4ac){const _0xb617bc=_0x136916;this[_0xb617bc(0x10f)][_0xb617bc(0x61d)][_0xb617bc(0x1b3)]((_0x413b1c,_0x18c9a5)=>{const _0x58cce1=_0xb617bc;if(_0x18c9a5[_0x58cce1(0x2dd)](_0x1fb4ac)){if(_0x413b1c[_0x58cce1(0x1fe)]['getContentType']()===_0x1095f4[_0x58cce1(0x2fd)][_0x58cce1(0x6b9)]){const _0x3b1e2e=_0x413b1c[_0x58cce1(0x1fe)];if(_0x3b1e2e[_0x58cce1(0x121)]()[_0x58cce1(0x3a9)]>0x0){const _0x5c8ede={'type':_0x5f37ce[_0x58cce1(0x619)],'label':_0x3b1e2e['getLabel'](),'ownerId':_0x3b1e2e[_0x58cce1(0xf7)](),'trackKinds':_0x3b1e2e['getSubscribedTracks']()};return void this[_0x58cce1(0x6e4)](_0x1fb4ac,_0x5c8ede);}}this['closeSubscription'](_0x413b1c,_0x18c9a5);}});}[_0x136916(0x348)](){const _0x125563=_0x136916;this[_0x125563(0x10f)][_0x125563(0x61d)][_0x125563(0x1b3)](this[_0x125563(0x535)]['bind'](this));}[_0x136916(0x67e)](_0x137e99,_0x1ae10a,_0x61b096,_0x259ed2,_0x3cb423){const _0x25ffcf=_0x136916,_0x37fea0=this[_0x25ffcf(0x6a3)][_0x25ffcf(0x63c)][_0x25ffcf(0x4f2)](_0x137e99[_0x25ffcf(0x39b)]),_0x5790a5=this[_0x25ffcf(0x6a3)][_0x25ffcf(0x63c)][_0x25ffcf(0x61a)](_0x1ae10a,_0x61b096);this[_0x25ffcf(0x229)](_0x259ed2),this[_0x25ffcf(0x1e0)][_0x25ffcf(0x2b3)](_0x259ed2)&&(this['configs'][_0x25ffcf(0x63c)][_0x25ffcf(0x36e)](this[_0x25ffcf(0x1e0)]['get'](_0x259ed2)),this[_0x25ffcf(0x1e0)][_0x25ffcf(0x21d)](_0x259ed2)),this[_0x25ffcf(0x26d)](_0x137e99,_0x1ae10a,_0x61b096,_0x5790a5),_0x5790a5[_0x25ffcf(0x64a)](_0x137e99[_0x25ffcf(0x75d)]),_0x5790a5[_0x25ffcf(0x1f3)](_0x137e99[_0x25ffcf(0x39b)]);const _0x13794a=_0x5bd068(_0x5790a5,_0x37fea0),_0x169220=_0x1c8f51(_0x277968[_0x25ffcf(0x54e)],_0x13794a);this['maps'][_0x25ffcf(0x61d)][_0x25ffcf(0x2b3)](_0x169220)||this['createSubscription'](_0x37fea0,_0x5790a5);const _0x151563=this[_0x25ffcf(0x10f)][_0x25ffcf(0x61d)][_0x25ffcf(0x2b0)](_0x169220);if(!(_0x151563&&_0x151563 instanceof _0x269c87))throw new _0x2fb975(_0x2fb975['codes'][_0x25ffcf(0x461)],{'label':_0x259ed2,'ownerId':_0x1ae10a});_0x148f53[_0x25ffcf(0x70d)](_0x25ffcf(0x75a),{'clusterId':this['configs']['clusterId'],'nodeId':this[_0x25ffcf(0x6a3)][_0x25ffcf(0x395)][_0x25ffcf(0x716)](),'nodeType':this[_0x25ffcf(0x6a3)][_0x25ffcf(0x395)][_0x25ffcf(0x3fa)],'data':{'subscriptionLabel':_0x169220,'chosenAnswer':_0x137e99}}),this['chosenAnswers'][_0x25ffcf(0x5ff)](_0x169220,_0x137e99),_0x151563[_0x25ffcf(0x67e)](_0x1ae10a,_0x3cb423,_0x137e99[_0x25ffcf(0x30c)]);}['removeRemoteStreamSubscription']({ownerId:_0x3d6512,label:_0x4caeed}){const _0x45892b=_0x136916,_0x14661d=this[_0x45892b(0x6a3)][_0x45892b(0x63c)]['getRemoteMediaStream'](_0x3d6512,_0x4caeed),[_0xdac3ff,_0x4e011a]=Array[_0x45892b(0x4c4)](this['maps'][_0x45892b(0x61d)][_0x45892b(0x375)]())['find'](([_0x328c7e,_0x2770d1])=>-0x1!==_0x328c7e[_0x45892b(0x264)](_0x14661d[_0x45892b(0x6f1)]()));return this[_0x45892b(0x535)](_0x4e011a,_0xdac3ff);}[_0x136916(0x535)](_0x47936d,_0x2d86e4){const _0x50ec82=_0x136916;this['configs'][_0x50ec82(0x63c)][_0x50ec82(0x36e)](_0x47936d),this[_0x50ec82(0x10f)][_0x50ec82(0x535)](_0x47936d,_0x2d86e4);}[_0x136916(0x6c6)](_0x43245a){const _0x450e49=_0x136916;return _0x43245a[_0x450e49(0x15d)]()[_0x450e49(0x232)](_0x1095f4[_0x450e49(0x2fd)][_0x450e49(0x6b9)]);}[_0x136916(0x727)](_0x2d8c20){const _0x3ef97d=_0x136916;return _0x2d8c20[_0x3ef97d(0x51b)]()===_0x1095f4[_0x3ef97d(0x2fd)][_0x3ef97d(0x6b9)];}async['handleNoAnswer'](_0x502b7c,_0x124a68,_0x594ad0,_0x4a9432){const _0x4129fe=_0x136916;await _0xa9e155[_0x4129fe(0x262)](0x3e8);const _0x33b52=_0x1c8f51(_0x277968['Incoming'],{'contentType':_0x1095f4[_0x4129fe(0x2fd)][_0x4129fe(0x6b9)],'label':_0x502b7c,'remoteId':_0x124a68});this[_0x4129fe(0x229)](_0x33b52);const _0x3755ef=this['subscriptionRequests'][_0x4129fe(0x2b0)](_0x33b52);if(!_0x3755ef)throw new _0x2fb975(_0x2fb975[_0x4129fe(0x516)]['SubscriptionRequestDoesNotExist'],{'label':_0x33b52,'ownerId':_0x124a68});const _0x309d82=this['configs'][_0x4129fe(0x63c)][_0x4129fe(0x693)](_0x32de1c=>_0x32de1c[_0x4129fe(0x570)]()),_0x10be98=this['configs'][_0x4129fe(0x63c)]['getDistance'](this[_0x4129fe(0x6a3)][_0x4129fe(0x395)]['getId'](),_0x124a68);_0x3755ef[_0x4129fe(0x234)](_0x309d82[_0x4129fe(0x774)](_0x3db44f=>_0x3db44f[_0x4129fe(0x185)]()),_0x10be98);try{_0x3755ef[_0x4129fe(0x3e7)](this['configs'][_0x4129fe(0x395)][_0x4129fe(0x716)](),_0x124a68,_0x502b7c,_0x594ad0,_0x4a9432),this['setSubscriptionRequestTimeout'](_0x502b7c,_0x124a68,_0x594ad0,_0x4a9432,_0x33b52,_0x3755ef);}catch(_0x3ecff3){this[_0x4129fe(0x372)][_0x4129fe(0x5ac)]({'label':_0x502b7c,'ownerId':_0x124a68,'trackKinds':_0x594ad0,'params':_0x4a9432});}}[_0x136916(0x52d)](_0xc883a4,_0xf87db9,_0x17468d,_0x3af156){const _0x5eea5c=_0x136916;this[_0x5eea5c(0x372)][_0x5eea5c(0x5ac)]({'label':_0xc883a4,'ownerId':_0xf87db9,'trackKinds':_0x17468d,'params':_0x3af156});}[_0x136916(0x4b9)]({label:_0x31cda0,ownerId:_0x5ed968,trackKinds:_0x20d7a5,params:_0x3a8dd0,remoteId:_0xdaf36c}){const _0x30b119=_0x136916;if(!this[_0x30b119(0x6a3)]['mediator'][_0x30b119(0x61a)](_0x5ed968,_0x31cda0))return;if(!this[_0x30b119(0x6a3)]['mediator'][_0x30b119(0x6b3)]()[_0x30b119(0x396)]())throw new Error(_0x30b119(0x743));if(_0xdaf36c){const _0x468a11=this[_0x30b119(0x6a3)][_0x30b119(0x63c)]['getRemoteNodes']()[_0x30b119(0x21f)](_0x41b1bb=>_0x41b1bb[_0x30b119(0x716)]()===_0xdaf36c),_0x1f57ad=_0x468a11?.[_0x30b119(0x396)]();if(!_0x468a11||!_0x1f57ad)throw new Error(_0x30b119(0x2a1));const _0x169033=this['configs']['mediator'][_0x30b119(0x38f)]()['find'](_0x3604a9=>_0x3604a9[_0x30b119(0x716)]()===_0x5ed968),_0x2bf993=_0x169033?.[_0x30b119(0x396)]();if(!_0x169033||!_0x2bf993)throw new Error(_0x30b119(0x6c9));const _0xa53cf1=this['chosenAnswers'][_0x30b119(0x2b0)](_0x31cda0);if(_0xa53cf1){const _0x57d097=this['configs']['mediator']['getRemoteNodes']()[_0x30b119(0x21f)](_0x3a0c0c=>_0x3a0c0c[_0x30b119(0x716)]()===_0xa53cf1['nodeId']),_0xbb6450=_0x57d097?.[_0x30b119(0x396)]();if(!_0x57d097||!_0xbb6450)throw new Error(_0x30b119(0x138));if(Math['abs'](_0xbb6450-_0x2bf993)<Math[_0x30b119(0x3a0)](_0x1f57ad-_0x2bf993))return;}}const _0x4d1630=this[_0x30b119(0x6a3)][_0x30b119(0x63c)][_0x30b119(0x693)](_0x32799e=>_0x32799e[_0x30b119(0x570)]()&&(!_0xdaf36c||_0x32799e['getRemoteId']()===_0xdaf36c));if(!_0x4d1630[_0x30b119(0x3a9)]||0x0===_0x4d1630[_0x30b119(0x3a9)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x50ec12=this[_0x30b119(0x6a3)][_0x30b119(0x63c)]['getDistance'](this[_0x30b119(0x6a3)][_0x30b119(0x395)][_0x30b119(0x716)](),_0x5ed968),_0x2edeb6=_0x1c8f51(_0x277968['Incoming'],{'contentType':_0x1095f4[_0x30b119(0x2fd)][_0x30b119(0x6b9)],'label':_0x31cda0,'remoteId':_0x5ed968});if(this['subscriptionRequests'][_0x30b119(0x2b3)](_0x2edeb6)){if(_0xdaf36c)throw new Error(_0x30b119(0x4df));const _0x5805a7=this[_0x30b119(0x1e0)][_0x30b119(0x2b0)](_0x2edeb6)[_0x30b119(0x55b)]();if(_0x5805a7[_0x30b119(0x3a9)]===_0x20d7a5[_0x30b119(0x3a9)]&&_0x5805a7[_0x30b119(0x5db)](_0x3f21b6=>_0x20d7a5[_0x30b119(0x232)](_0x3f21b6)))return;this[_0x30b119(0x6a3)][_0x30b119(0x63c)][_0x30b119(0x36e)](this['subscriptionRequests'][_0x30b119(0x2b0)](_0x2edeb6)),this[_0x30b119(0x1e0)][_0x30b119(0x21d)](_0x2edeb6),_0x20d7a5=Array[_0x30b119(0x4c4)](new Set(_0x20d7a5[_0x30b119(0x4a9)](_0x5805a7))),this['clearSubscriptionRequestTimeout'](_0x2edeb6);}const _0x1463e0=new _0x1d7a15(_0x4d1630[_0x30b119(0x774)](_0x204c19=>_0x204c19[_0x30b119(0x185)]()),_0x50ec12,this[_0x30b119(0x69a)],_0x20d7a5);this['configs'][_0x30b119(0x63c)][_0x30b119(0x60d)](_0x1463e0),this[_0x30b119(0x1e0)][_0x30b119(0x5ff)](_0x2edeb6,_0x1463e0),_0x1463e0[_0x30b119(0x3e7)](this[_0x30b119(0x6a3)][_0x30b119(0x395)]['getId'](),_0x5ed968,_0x31cda0,_0x20d7a5,_0x3a8dd0),this['setSubscriptionRequestTimeout'](_0x31cda0,_0x5ed968,_0x20d7a5,_0x3a8dd0,_0x2edeb6,_0x1463e0);}[_0x136916(0x229)](_0x2a01a4){const _0x4e6ace=_0x136916;this[_0x4e6ace(0x5ab)][_0x4e6ace(0x2b3)](_0x2a01a4)&&(clearTimeout(this[_0x4e6ace(0x5ab)][_0x4e6ace(0x2b0)](_0x2a01a4)),this[_0x4e6ace(0x5ab)][_0x4e6ace(0x21d)](_0x2a01a4));}['setSubscriptionRequestTimeout'](_0x360ec8,_0x4b22bd,_0x88b8,_0x5b2a7a,_0x21709d,_0x5cc9a0){const _0x5007e4=_0x136916;this[_0x5007e4(0x229)](_0x21709d),this[_0x5007e4(0x5ab)][_0x5007e4(0x5ff)](_0x21709d,setTimeout(()=>{const _0x43f09e=_0x5007e4;this[_0x43f09e(0x5ab)][_0x43f09e(0x21d)](_0x21709d);try{const _0x27b94d=_0x5cc9a0[_0x43f09e(0x23d)]();this['subscribe'](_0x27b94d,_0x4b22bd,_0x360ec8,_0x21709d,_0x88b8);}catch(_0x1f81ca){this[_0x43f09e(0x2af)](_0x360ec8,_0x4b22bd,_0x88b8,_0x5b2a7a);}},0x7d0));}[_0x136916(0x57c)](_0x32325b,_0x3229ff,_0x5bda30,_0x401500,_0x59c527){const _0x2021d5=_0x136916,{subscriptionLabel:_0x1767f7}=this['getSubscriptionLabel'](_0x3229ff,_0x401500),_0x1fff0d=this['getMediaSubscription'](_0x1767f7),_0x34e7ff=_0x1fff0d?.[_0x2021d5(0x30c)];_0x1fff0d&&(_0x1fff0d['unsubscribe'](_0x401500,0x0),this['removeSubscription'](_0x5bda30,_0x1095f4[_0x2021d5(0x2fd)][_0x2021d5(0x6b9)],_0x32325b)),this[_0x2021d5(0x52d)](_0x3229ff,_0x401500,_0x59c527,_0x34e7ff);}[_0x136916(0x5d2)](_0x3cb646){const _0x1050a8=_0x136916,_0x1bb3cd=this[_0x1050a8(0x10f)][_0x1050a8(0x61d)][_0x1050a8(0x2b0)](_0x3cb646);if(_0x1bb3cd){if(!(_0x1bb3cd instanceof _0x269c87))throw new _0x2fb975(_0x2fb975['codes'][_0x1050a8(0x1df)],{'label':_0x3cb646,'subscription':_0x1bb3cd});return _0x1bb3cd;}}[_0x136916(0x153)](_0x424073,_0x52ca68){const _0x4de141=_0x136916,_0x5a0b8e=this['getPartsForSubscriptionLabel'](_0x424073,_0x52ca68);return{'parts':_0x5a0b8e,'subscriptionLabel':_0x1c8f51(_0x277968[_0x4de141(0x54e)],_0x5a0b8e)};}[_0x136916(0x2e1)](_0x21159f,_0x3a15ad){const _0x6e5c57=_0x136916,_0x412a11=this[_0x6e5c57(0x6a3)]['mediator'][_0x6e5c57(0x61a)](_0x3a15ad,_0x21159f),_0x17476f=_0x412a11[_0x6e5c57(0x76a)]();if(!_0x17476f)throw new _0x2fb975(_0x2fb975[_0x6e5c57(0x516)][_0x6e5c57(0x426)],{'label':_0x21159f,'streamId':_0x412a11['getInternalStreamId'](),'ownerId':_0x3a15ad,'localId':this[_0x6e5c57(0x6a3)][_0x6e5c57(0x395)][_0x6e5c57(0x716)]()});return{'contentType':_0x1095f4[_0x6e5c57(0x2fd)][_0x6e5c57(0x6b9)],'label':_0x412a11[_0x6e5c57(0x6f1)](),'remoteId':_0x17476f};}['cleanOldSubscription'](_0xc38f3b,_0x3532c6,_0x297fd8,_0x1bda7a){const _0x461cb3=_0x136916,_0xe45eb4=_0x1bda7a['getProviderId']();if(_0xe45eb4&&_0xe45eb4!==_0xc38f3b[_0x461cb3(0x39b)]){const {parts:_0x3c1d52,subscriptionLabel:_0x3d06b3}=this[_0x461cb3(0x153)](_0x297fd8,_0x3532c6),_0x240c8c=this[_0x461cb3(0x5d2)](_0x3d06b3);_0x240c8c&&(_0x240c8c[_0x461cb3(0xef)](_0x3532c6,0x0),this['removeSubscription'](_0x3c1d52[_0x461cb3(0x369)],_0x3c1d52[_0x461cb3(0x2e4)],_0x3c1d52[_0x461cb3(0x1a8)]));}}}class _0x3a096b{['configs'];[_0x136916(0x4be)];['maps'];constructor(_0x5ac2bb,_0x536ba3){const _0x25486b=_0x136916;this[_0x25486b(0x6a3)]=_0x5ac2bb,this[_0x25486b(0x4be)]=_0x536ba3,this['maps']=new _0x1bf01d(({source:_0x373a32,destination:_0x41d2c3})=>_0x5bd068(_0x373a32,_0x41d2c3));}[_0x136916(0x205)](_0x4efdfe,_0x2d60a2){const _0x6c510a=_0x136916,_0x460c63={'source':_0x4efdfe,'destination':_0x2d60a2};this[_0x6c510a(0x10f)]['createSubscription'](_0x277968['Outgoing'],_0x460c63);}[_0x136916(0x475)](_0x4e8dda,_0x412fbe,_0x3392a4=''){const _0x5e7e4f=_0x136916,_0x20e97f={'contentType':_0x412fbe,'label':_0x4e8dda,'remoteId':_0x3392a4};this[_0x5e7e4f(0x10f)][_0x5e7e4f(0x475)](_0x20e97f,_0x277968[_0x5e7e4f(0x473)]);}[_0x136916(0x253)](_0x2e046e,_0x21fce2){const _0xc62894=_0x136916;let _0x36042e;_0x36042e=_0x21fce2[_0xc62894(0x754)]!==this['configs'][_0xc62894(0x395)]['getId']()?this[_0xc62894(0x6a3)][_0xc62894(0x63c)][_0xc62894(0x61a)](_0x21fce2[_0xc62894(0x754)],_0x21fce2[_0xc62894(0x369)]):this['configs']['mediator'][_0xc62894(0x5c2)](_0x21fce2['label']);const _0x38acfd=_0x1c8f51(_0x277968[_0xc62894(0x473)],{'contentType':_0x1095f4[_0xc62894(0x2fd)][_0xc62894(0x6b9)],'label':_0x36042e['getShareableStreamId'](),'remoteId':_0x2e046e}),_0x587031=this[_0xc62894(0x425)]();if(!this[_0xc62894(0x10f)][_0xc62894(0x61d)][_0xc62894(0x2b3)](_0x38acfd)&&_0x587031>=this[_0xc62894(0x4be)])return{'type':_0x5f37ce[_0xc62894(0x563)],'ownerId':_0x21fce2[_0xc62894(0x754)],'label':_0x21fce2[_0xc62894(0x369)],'streamId':_0x36042e[_0xc62894(0x4e3)](),'trackKinds':_0x21fce2['trackKinds'],'params':_0x21fce2[_0xc62894(0x30c)]};_0x36042e instanceof _0x2c0a81&&!_0x36042e[_0xc62894(0x14b)](_0x21fce2[_0xc62894(0x72b)])&&_0x36042e[_0xc62894(0x67e)](_0x21fce2[_0xc62894(0x30c)]),this['maps'][_0xc62894(0x61d)][_0xc62894(0x2b3)](_0x38acfd)||this[_0xc62894(0x205)](_0x36042e['getShareableStream'](_0x2e046e),this[_0xc62894(0x6a3)][_0xc62894(0x63c)][_0xc62894(0x4f2)](_0x2e046e));}[_0x136916(0x111)](_0x4cd299,{label:_0x4b8bac,ownerId:_0x289a5c,remainingTracks:_0x553e0b}){const _0x4c28fb=_0x136916;if(_0x553e0b>0x0)return;let _0x33b7e5;_0x33b7e5=_0x289a5c!==this[_0x4c28fb(0x6a3)]['localNode'][_0x4c28fb(0x716)]()?this[_0x4c28fb(0x6a3)]['mediator'][_0x4c28fb(0x61a)](_0x289a5c,_0x4b8bac):this[_0x4c28fb(0x6a3)][_0x4c28fb(0x63c)][_0x4c28fb(0x5c2)](_0x4b8bac);const _0x348b60=_0x33b7e5[_0x4c28fb(0x4e3)](),_0x5a8e97=_0x1095f4[_0x4c28fb(0x2fd)]['Media'];this[_0x4c28fb(0x475)](_0x348b60,_0x5a8e97,_0x4cd299);}['handleContentUnsubscribeMediaStream'](_0x50eb0c,{label:_0x4aaa79,ownerId:_0x5c016d,trackKinds:_0x19afc0}){const _0x510c76=_0x136916;if(_0x50eb0c!==_0x23eca1)return[];let _0x30cf2c=[];for(const _0x4fb568 of this[_0x510c76(0x10f)][_0x510c76(0x61d)]){const {source:_0x82e757,destination:_0x5c9913}=_0x4fb568[0x1];_0x82e757['getLabel']()===_0x4aaa79&&_0x82e757[_0x510c76(0xf7)]()===_0x5c016d&&_0x30cf2c['push']({'sourceId':this[_0x510c76(0x6a3)][_0x510c76(0x395)]['getId'](),'destinationIds':[_0x5c9913[_0x510c76(0x185)]()],'messageType':_0x15f44c['Subscription'],'content':{'type':_0x5f37ce['MediaStreamUnavailable'],'label':_0x4aaa79,'ownerId':_0x5c016d,'trackKinds':_0x19afc0}});}return _0x30cf2c;}['handleSubscriptionNeedMediaStream'](_0x5ef3ea,_0x18dca5){const _0x4cfd00=_0x136916,{label:_0x3bca28,ownerId:_0x3ce52e,trackKinds:_0x4315bb,params:_0x26a400}=_0x18dca5,{hasTracks:_0x1a4b5a,streamId:_0x1ba065,hasResolution:_0x55b43c,distance:_0xb752b4,subscriptionLabel:_0x541201}=this[_0x4cfd00(0x3a5)](_0x5ef3ea,_0x18dca5);let _0x3caa52=this[_0x4cfd00(0x425)]()<this[_0x4cfd00(0x4be)]&&(_0x1a4b5a||_0xb752b4>-0x1)?_0x5f37ce[_0x4cfd00(0x4ba)]:_0x5f37ce[_0x4cfd00(0x18e)];const _0x1f619f=_0xb752b4<0x0?0xa:_0xb752b4;let _0xea6091=_0x1a4b5a?_0x55b43c?_0x1f619f:_0x1f619f+0x0:_0x1f619f+0xa;return _0x541201&&this[_0x4cfd00(0x10f)][_0x4cfd00(0x61d)][_0x4cfd00(0x2b3)](_0x541201)&&(_0x1a4b5a&&(_0xea6091=0x0),_0x3caa52=_0x5f37ce[_0x4cfd00(0x4ba)]),{'type':_0x3caa52,'cost':_0xea6091,'distance':_0xb752b4,'label':_0x3bca28,'ownerId':_0x3ce52e,'streamId':_0x1ba065,'trackKinds':_0x4315bb,'params':_0x26a400};}[_0x136916(0x1b9)](_0x40143a){const _0x1d13a6=_0x136916,{label:_0x3b94ed,ownerId:_0x23215e}=_0x40143a,_0x1c516d=this[_0x1d13a6(0x6a3)]['mediator'][_0x1d13a6(0x61a)](_0x23215e,_0x3b94ed);this[_0x1d13a6(0x10f)][_0x1d13a6(0x61d)][_0x1d13a6(0x1b3)](_0x503d1b=>{const _0x5d7a28=_0x1d13a6;if(_0x503d1b[_0x5d7a28(0x553)][_0x5d7a28(0x6f1)]()===_0x1c516d[_0x5d7a28(0x4e3)]()){const _0x5e52d3=_0x503d1b[_0x5d7a28(0x1fe)];this[_0x5d7a28(0x475)](_0x1c516d[_0x5d7a28(0x4e3)](),_0x1095f4['ContentType']['Media'],_0x5e52d3[_0x5d7a28(0x185)]());}});}[_0x136916(0x243)]({label:_0x46164f}){const _0x52670d=_0x136916,_0x55753b=this[_0x52670d(0x6a3)][_0x52670d(0x63c)][_0x52670d(0x5c2)](_0x46164f);this[_0x52670d(0x10f)][_0x52670d(0x61d)][_0x52670d(0x1b3)](_0x282920=>{const _0x2dbf26=_0x52670d;if(_0x282920[_0x2dbf26(0x553)][_0x2dbf26(0x6f1)]()===_0x55753b[_0x2dbf26(0x4e3)]()){const _0x2e2ece=_0x282920[_0x2dbf26(0x1fe)];this['removeSubscription'](_0x55753b['getShareableStreamId'](),_0x1095f4[_0x2dbf26(0x2fd)][_0x2dbf26(0x6b9)],_0x2e2ece[_0x2dbf26(0x185)]());}});}[_0x136916(0x75b)](_0x5d89f0){const _0x2fac4a=_0x136916;this[_0x2fac4a(0x10f)][_0x2fac4a(0x75b)](_0x5d89f0);}[_0x136916(0x348)](){const _0x2ccbde=_0x136916;this[_0x2ccbde(0x10f)][_0x2ccbde(0x61d)][_0x2ccbde(0x1b3)](this[_0x2ccbde(0x535)][_0x2ccbde(0x72c)](this));}[_0x136916(0x535)](_0x530391,_0x1bc20a){const _0xba35d=_0x136916;this[_0xba35d(0x10f)][_0xba35d(0x535)](_0x530391,_0x1bc20a);}[_0x136916(0x3a5)](_0x569da0,{label:_0x4f82c1,ownerId:_0x2ea877,trackKinds:_0x3afd29,params:_0xd91086}){const _0x2e2a5d=_0x136916;if(_0x2ea877!==this[_0x2e2a5d(0x6a3)][_0x2e2a5d(0x395)][_0x2e2a5d(0x716)]()){const _0x3080d2=this['configs']['mediator'][_0x2e2a5d(0x61a)](_0x2ea877,_0x4f82c1);return _0x3080d2&&_0x3080d2[_0x2e2a5d(0x76a)]()!==_0x569da0?{'hasTracks':_0x3080d2['hasTracks'](_0x3afd29),'hasResolution':this[_0x2e2a5d(0x660)](_0x3080d2[_0x2e2a5d(0x600)](),_0xd91086),'streamId':_0x3080d2[_0x2e2a5d(0x4e3)](),'distance':this[_0x2e2a5d(0x6a3)][_0x2e2a5d(0x63c)][_0x2e2a5d(0x6c1)](_0x569da0,_0x2ea877),'subscriptionLabel':_0x1c8f51(_0x277968[_0x2e2a5d(0x473)],{'contentType':_0x1095f4[_0x2e2a5d(0x2fd)][_0x2e2a5d(0x6b9)],'label':_0x3080d2['getShareableStreamId'](),'remoteId':_0x569da0})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x5d6d23=this[_0x2e2a5d(0x6a3)]['mediator'][_0x2e2a5d(0x5c2)](_0x4f82c1);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x5d6d23['getShareableStreamId'](),'distance':0x0,'subscriptionLabel':_0x1c8f51(_0x277968[_0x2e2a5d(0x473)],{'contentType':_0x1095f4[_0x2e2a5d(0x2fd)]['Media'],'label':_0x5d6d23[_0x2e2a5d(0x4e3)](),'remoteId':_0x569da0})};}[_0x136916(0x425)](){const _0x1c6d28=_0x136916;return Array[_0x1c6d28(0x4c4)](this[_0x1c6d28(0x10f)][_0x1c6d28(0x61d)][_0x1c6d28(0x375)]())[_0x1c6d28(0x557)](([_0x48dfc3,{source:_0xf0dede}])=>_0x48dfc3[_0x1c6d28(0x5a5)](_0x277968['Outgoing'])&&_0xf0dede['getContentType']()===_0x1095f4[_0x1c6d28(0x2fd)][_0x1c6d28(0x6b9)])[_0x1c6d28(0x3a9)];}[_0x136916(0x660)](_0x3e8360,_0x1abd03){const _0xc7902f=_0x136916;if(!_0x1abd03||!_0x1abd03[_0xc7902f(0x6dc)]||_0xc7902f(0x480)==typeof _0x1abd03[_0xc7902f(0x6dc)]||!_0x1abd03[_0xc7902f(0x6dc)]['maxResolution'])return!0x0;const {width:_0x2e30fc,height:_0x43afb0}=_0x1abd03[_0xc7902f(0x6dc)][_0xc7902f(0xf9)];return _0x3e8360[_0xc7902f(0x310)]>=_0x2e30fc&&_0x3e8360['height']>=_0x43afb0;}}class _0x43d142{[_0x136916(0x6a3)];['maxOutgoingSubscriptions'];[_0x136916(0x69a)];[_0x136916(0x74d)];[_0x136916(0x3f5)];[_0x136916(0x768)];constructor(_0x46cadf,_0x3a8b83,_0x4bc92b){const _0x376634=_0x136916;this['configs']=_0x46cadf,this[_0x376634(0x4be)]=_0x3a8b83,this[_0x376634(0x69a)]=_0x4bc92b,this[_0x376634(0x6a3)]['mediator']['registerSystemSource'](this),this[_0x376634(0x3f5)]=new _0xda6c65(this['configs'],this[_0x376634(0x69a)]),this['outgoingManager']=new _0x3a096b(this[_0x376634(0x6a3)],this[_0x376634(0x4be)]);}[_0x136916(0x4cd)](_0x41068a){this['systemTopic']=_0x41068a;}['unregisterSystemPublisher'](){const _0x571fe8=_0x136916;delete this[_0x571fe8(0x74d)];}['close'](){const _0x42aeb4=_0x136916;this[_0x42aeb4(0x3f5)][_0x42aeb4(0x348)](),this[_0x42aeb4(0x768)]['close'](),this['configs'][_0x42aeb4(0x63c)][_0x42aeb4(0x36e)](this);}['createIncomingSubscription'](_0x254f08,_0x40a8b4){const _0x17415c=_0x136916;this[_0x17415c(0x3f5)][_0x17415c(0x205)](_0x254f08,_0x40a8b4);}['createOutgoingSubscription'](_0x167949,_0x1a0550){const _0x3715a8=_0x136916;this[_0x3715a8(0x768)][_0x3715a8(0x205)](_0x167949,_0x1a0550);}['removeIncomingSubscription'](_0x47fc71,_0x2970dd,_0x365eb5=''){const _0x1403f8=_0x136916;this[_0x1403f8(0x3f5)]['removeSubscription'](_0x47fc71,_0x2970dd,_0x365eb5);}['removeOutgoingSubscription'](_0x500943,_0x1efeb7,_0x472b1e=''){const _0x3bf256=_0x136916;try{this[_0x3bf256(0x768)][_0x3bf256(0x475)](_0x500943,_0x1efeb7,_0x472b1e);}catch(_0x1f93e0){if(_0x1f93e0 instanceof _0x2fb975&&_0x1f93e0[_0x3bf256(0x582)]===_0x2fb975[_0x3bf256(0x516)][_0x3bf256(0x1df)])return;}}[_0x136916(0x628)](_0x17660b){const _0x5ae120=_0x136916;switch(_0x17660b[_0x5ae120(0x2dc)][_0x5ae120(0x3fa)]){case _0x5f37ce[_0x5ae120(0x1e7)]:this[_0x5ae120(0x253)](_0x17660b[_0x5ae120(0xf1)],_0x17660b[_0x5ae120(0x2dc)]);break;case _0x5f37ce[_0x5ae120(0x452)]:this['outgoingManager'][_0x5ae120(0x111)](_0x17660b[_0x5ae120(0xf1)],_0x17660b['content']);break;case _0x5f37ce[_0x5ae120(0x20d)]:this[_0x5ae120(0x46a)](_0x17660b['sourceId'],_0x17660b[_0x5ae120(0x2dc)]);break;case _0x5f37ce[_0x5ae120(0x563)]:this[_0x5ae120(0x3f5)][_0x5ae120(0x412)](_0x17660b[_0x5ae120(0xf1)],_0x17660b['content']);break;case _0x5f37ce[_0x5ae120(0x4ba)]:case _0x5f37ce['CannotProvideMediaStream']:this['incomingManager'][_0x5ae120(0x6f3)](_0x17660b['sourceId'],_0x17660b['content']);break;case _0x5f37ce[_0x5ae120(0x619)]:this['incomingManager'][_0x5ae120(0x6e4)](_0x17660b['sourceId'],_0x17660b[_0x5ae120(0x2dc)]);}}[_0x136916(0x476)](_0x14f1dc){const _0x3209f6=_0x136916;switch(_0x14f1dc['content'][_0x3209f6(0x3fa)]){case _0x46fb30[_0x3209f6(0x613)]:this[_0x3209f6(0x3f5)][_0x3209f6(0x1b9)](_0x14f1dc[_0x3209f6(0x2dc)]),this['outgoingManager'][_0x3209f6(0x1b9)](_0x14f1dc['content']);break;case _0x46fb30['SubscribeMediaStream']:this[_0x3209f6(0x3f5)][_0x3209f6(0x40c)](_0x14f1dc[_0x3209f6(0x2dc)]);break;case _0x46fb30[_0x3209f6(0x6cd)]:this[_0x3209f6(0x3f5)][_0x3209f6(0x316)](_0x14f1dc[_0x3209f6(0x2dc)]);break;case _0x46fb30['UnsubscribeMediaStream']:this[_0x3209f6(0x1db)](_0x14f1dc[_0x3209f6(0xf1)],_0x14f1dc[_0x3209f6(0x2dc)]);break;case _0x46fb30['CloseMediaStream']:this[_0x3209f6(0x768)]['handleContentCloseMediaStream'](_0x14f1dc['content']);break;case _0x46fb30[_0x3209f6(0x43b)]:this['handleContentClosePubSubTopic'](_0x14f1dc[_0x3209f6(0x2dc)]);break;case _0x46fb30[_0x3209f6(0x3d3)]:this[_0x3209f6(0x666)](_0x14f1dc[_0x3209f6(0x2dc)]);break;case _0x46fb30[_0x3209f6(0x165)]:this[_0x3209f6(0x3d6)](_0x14f1dc[_0x3209f6(0x2dc)]);break;case _0x46fb30[_0x3209f6(0x258)]:case _0x46fb30['CloseJobWorker']:this[_0x3209f6(0x46d)](_0x14f1dc[_0x3209f6(0x2dc)]);break;case _0x46fb30[_0x3209f6(0x41e)]:this[_0x3209f6(0x3f5)][_0x3209f6(0x5b0)](_0x14f1dc['content']);}}[_0x136916(0x2a3)]({content:_0x46d78e}){const _0xc81d22=_0x136916;_0x46d78e[_0xc81d22(0x3fa)]===_0x5b5dcb[_0xc81d22(0x673)]&&this[_0xc81d22(0x75b)](_0x46d78e);}[_0x136916(0x54d)](_0x1d46fb){const _0xc467db=_0x136916;_0x1d46fb[_0xc467db(0x2dc)][_0xc467db(0x3fa)]===_0x5b3080[_0xc467db(0x6d0)]&&this[_0xc467db(0x3f5)]['handleOptimizationConnectionSuccess'](_0x1d46fb['sourceId']);}[_0x136916(0x1db)](_0x104338,_0x17d4f8){const _0x18fb12=_0x136916;this['incomingManager']['handleContentUnsubscribeMediaStream'](_0x17d4f8),this[_0x18fb12(0x768)][_0x18fb12(0x1db)](_0x104338,_0x17d4f8)['forEach'](_0x379507=>this[_0x18fb12(0x74d)][_0x18fb12(0x457)](_0x379507));}[_0x136916(0x253)](_0x3fce8c,_0x234206){const _0x2d6c79=_0x136916,_0x264ef6=this['outgoingManager'][_0x2d6c79(0x253)](_0x3fce8c,_0x234206);if(_0x264ef6&&(this[_0x2d6c79(0x74d)]['publish']({'sourceId':this[_0x2d6c79(0x6a3)][_0x2d6c79(0x395)]['getId'](),'destinationIds':[_0x3fce8c],'messageType':_0x15f44c[_0x2d6c79(0x120)],'content':_0x264ef6}),_0x264ef6[_0x2d6c79(0x3fa)]===_0x5f37ce[_0x2d6c79(0x563)]))throw new _0xb57abe(_0x2d6c79(0x6e0));}[_0x136916(0x46a)](_0x3b606f,_0x3a5b32){const _0x4f5b34=_0x136916,_0x48dcbf=this[_0x4f5b34(0x768)][_0x4f5b34(0x46a)](_0x3b606f,_0x3a5b32);this['systemTopic'][_0x4f5b34(0x457)]({'sourceId':this[_0x4f5b34(0x6a3)]['localNode']['getId'](),'destinationIds':[_0x3b606f],'messageType':_0x15f44c[_0x4f5b34(0x120)],'content':_0x48dcbf});}[_0x136916(0x666)]({label:_0xb1ae6a}){const _0x220700=_0x136916;this[_0x220700(0x1d5)](_0xb1ae6a,_0x1095f4['ContentType']['ObjectStore']),this[_0x220700(0x1e2)](_0xb1ae6a,_0x1095f4[_0x220700(0x2fd)][_0x220700(0x6ce)]);}['handleContentCloseKeyValueDatabase']({label:_0x101b0d}){const _0x89eaab=_0x136916;this[_0x89eaab(0x1d5)](_0x101b0d,_0x1095f4[_0x89eaab(0x2fd)][_0x89eaab(0x266)]),this[_0x89eaab(0x1e2)](_0x101b0d,_0x1095f4[_0x89eaab(0x2fd)]['KeyValueDatabase']);}[_0x136916(0x1ac)]({label:_0x5082de}){const _0x583493=_0x136916;this[_0x583493(0x1d5)](_0x5082de,_0x1095f4[_0x583493(0x2fd)][_0x583493(0x124)]),this[_0x583493(0x1e2)](_0x5082de,_0x1095f4[_0x583493(0x2fd)]['PubSub']);}['handleContentCloseJob']({label:_0x591e51}){const _0x11652a=_0x136916;this[_0x11652a(0x1d5)](_0x591e51,_0x1095f4[_0x11652a(0x2fd)][_0x11652a(0x1d6)]),this['removeOutgoingSubscription'](_0x591e51,_0x1095f4[_0x11652a(0x2fd)][_0x11652a(0x1d6)]);}['removeSubscriptionsForNode']({id:_0x101147}){const _0x22b6f4=_0x136916;this[_0x22b6f4(0x3f5)][_0x22b6f4(0x75b)](_0x101147),this[_0x22b6f4(0x768)]['removeSubscriptionsForNode'](_0x101147);}}class _0x11ebbc{['label'];['listener']=_0x57b3e6();constructor(){const _0x38a677=_0x136916;this[_0x38a677(0x369)]=0x0;}[_0x136916(0x2b4)](){return this['label'];}[_0x136916(0x51b)](){const _0x19abe4=_0x136916;return _0x1095f4[_0x19abe4(0x2fd)][_0x19abe4(0x745)];}[_0x136916(0x13b)](_0x462329){const _0x33ce0d=_0x136916;_0x462329[_0x33ce0d(0x4cd)](this);}['unregisterSource'](_0x3955d4){const _0xf0cbd2=_0x136916;_0x3955d4[_0xf0cbd2(0x748)]();}[_0x136916(0x457)](_0x288d02){const _0x3f5d33=_0x136916;_0x148f53[_0x3f5d33(0x2f4)](_0x19b950[_0x3f5d33(0x644)],_0x3f5d33(0x5fd),_0x288d02[_0x3f5d33(0xf1)],_0x288d02),this['listener'][_0x3f5d33(0x457)]({'topicLabel':this[_0x3f5d33(0x369)],'contentType':_0x1095f4[_0x3f5d33(0x2fd)]['Data'],'uuid':_0x288d02[_0x3f5d33(0x4c6)]??(0x0,_0x53bfff['v4'])(),'recipients':_0x288d02[_0x3f5d33(0x6e8)]??[],..._0x288d02});}[_0x136916(0x67e)](_0xb40744){const _0x30bbbb=_0x136916;return this[_0x30bbbb(0x5fa)][_0x30bbbb(0x67e)](_0xb40744);}}class _0x30bdc1{['minConnections'];[_0x136916(0x357)];[_0x136916(0x69a)];[_0x136916(0x6fa)]=[];[_0x136916(0x2b5)];[_0x136916(0x6e3)]=new Map();constructor(_0x86e037,_0x357136,_0x27aca6){const _0x258812=_0x136916;this['minConnections']=_0x86e037,this[_0x258812(0x357)]=_0x357136,this[_0x258812(0x69a)]=_0x27aca6,this[_0x258812(0x2b5)]=(this[_0x258812(0x357)]-0x2*this[_0x258812(0x6be)])/0x2,this[_0x258812(0x6fa)][_0x258812(0x5ac)]({'start':0x1,'end':this[_0x258812(0x640)](0x1,0x1)-0x1});for(let _0x4943de=0x0;_0x4943de<this['maxLayer'];++_0x4943de)this['ranges'][_0x258812(0x5ac)]({'start':this['getNextTargetRank'](0x1,_0x4943de+0x1),'end':this['getNextTargetRank'](0x1,_0x4943de+0x2)-0x1});}['getNextTargetRank'](_0x1c0458,_0x3787a2=0x1){const _0x2d2527=_0x136916;let _0x5b02ef=this['maxDistance']-this[_0x2d2527(0x6be)],_0x395de0=0x1;for(let _0x5bba23=0x1;_0x5bba23<_0x3787a2;++_0x5bba23)_0x5b02ef*=this[_0x2d2527(0x69a)]-this[_0x2d2527(0x6be)]-_0x5bba23,_0x395de0*=this[_0x2d2527(0x69a)]-this['minConnections']-_0x5bba23+0x1;return _0x5b02ef*this[_0x2d2527(0x6be)]+_0x1c0458-_0x395de0;}[_0x136916(0x65d)](_0x3e701e){const _0x47981e=_0x136916;let _0x5401ed=0x0;for(;this[_0x47981e(0x6fa)][_0x5401ed][_0x47981e(0x32b)]<_0x3e701e;)_0x5401ed+=0x1;return _0x5401ed;}[_0x136916(0x349)](){const _0x5816b6=_0x136916;return this[_0x5816b6(0x6be)];}[_0x136916(0x132)](){const _0x4bc0f0=_0x136916;return this[_0x4bc0f0(0x357)];}[_0x136916(0x66b)](){const _0x1695a3=_0x136916;return this[_0x1695a3(0x69a)];}['getRemoteNodes'](){const _0x181a7a=_0x136916;return this[_0x181a7a(0x6e3)];}['setRemoteNode'](_0x2bc70a,_0x3d6d54){const _0x22ec31=_0x136916;this[_0x22ec31(0x6e3)][_0x22ec31(0x5ff)](_0x2bc70a,_0x3d6d54);}['hasRemoteNode'](_0x5db8ae){return this['remoteNodes']['has'](_0x5db8ae);}[_0x136916(0x592)](_0xcef446){const _0x1e975d=_0x136916;return this[_0x1e975d(0x6e3)][_0x1e975d(0x2b0)](_0xcef446);}[_0x136916(0x368)](_0x40c244){const _0x2ca33c=_0x136916;this[_0x2ca33c(0x6e3)]['delete'](_0x40c244);}[_0x136916(0x717)](_0x5aeff8,_0x3c3bee){const _0x4f9c9a=_0x136916,_0x4fa51e=this['getRemoteNode'](_0x3c3bee)?.[_0x4f9c9a(0x396)]()??0x0;return _0x5aeff8[_0x4f9c9a(0x774)](_0x5bea5b=>this[_0x4f9c9a(0x592)](_0x5bea5b))[_0x4f9c9a(0x557)](_0x524b30=>void 0x0!==_0x524b30)['sort']((_0x5aa8e7,_0x271c24)=>Math[_0x4f9c9a(0x3a0)](_0x4fa51e-(_0x5aa8e7&&_0x5aa8e7[_0x4f9c9a(0x396)]()||0x1/0x0))-Math[_0x4f9c9a(0x3a0)](_0x4fa51e-(_0x271c24&&_0x271c24[_0x4f9c9a(0x396)]()||0x1/0x0)))[_0x4f9c9a(0x774)](_0x29362c=>_0x29362c['getId']());}}class _0x258bb7{[_0x136916(0x180)];[_0x136916(0x5bf)];[_0x136916(0x552)];['authService'];[_0x136916(0x4a8)];['configs'];[_0x136916(0x123)];[_0x136916(0x562)];[_0x136916(0x1b8)];[_0x136916(0x1d0)];[_0x136916(0x104)];['detectionManager'];[_0x136916(0x744)];[_0x136916(0x554)];[_0x136916(0xeb)];[_0x136916(0x74d)]=new _0x11ebbc();[_0x136916(0x201)];[_0x136916(0x395)];constructor(_0x2498e1,_0x22ef57,_0x907647,_0x1359c1,_0x2318c0,_0x23edd0,_0x2f817d){const _0x17b518=_0x136916;switch(this['vendorId']=_0x2498e1,this[_0x17b518(0x5bf)]=_0x22ef57,this['authNode']=_0x907647,this[_0x17b518(0x1ca)]=_0x1359c1,this['options']=_0x2318c0,this[_0x17b518(0x6a3)]=_0x23edd0,this[_0x17b518(0x123)]=_0x2f817d,_0x907647[_0x17b518(0x3fa)]){case _0x1095f4[_0x17b518(0x60b)][_0x17b518(0x565)]:this['localNode']=new _0x1f7b2b(_0x907647['getId'](),_0x907647['getDisplayName'](),_0x907647['getEmail']());break;case _0x1095f4[_0x17b518(0x60b)][_0x17b518(0x6fd)]:default:this[_0x17b518(0x395)]=new _0x78102(_0x907647[_0x17b518(0x716)]());}const _0x1ce9cf=this['getConfigs']();this[_0x17b518(0xeb)]=new _0x30bdc1(this[_0x17b518(0x4a8)][_0x17b518(0x6be)],this[_0x17b518(0x4a8)][_0x17b518(0x357)],this[_0x17b518(0x4a8)]['maxDistance']),this[_0x17b518(0x562)]=new _0x27290c(_0x1ce9cf,this['options']['maxFps'],this[_0x17b518(0x4a8)][_0x17b518(0x73a)]),this[_0x17b518(0x1b8)]=new _0x1d3acb(_0x1ce9cf,this['authService'],this[_0x17b518(0x6a3)][_0x17b518(0x37b)],this[_0x17b518(0x4a8)][_0x17b518(0x681)],this[_0x17b518(0x4a8)][_0x17b518(0x6ed)],this[_0x17b518(0xeb)],this[_0x17b518(0x4a8)]['peerConnectionConnector']),this[_0x17b518(0x1d0)]=new _0x43d142(_0x1ce9cf,this[_0x17b518(0x4a8)][_0x17b518(0x4be)],this[_0x17b518(0xeb)]['getMaxDistance']()),this[_0x17b518(0x104)]=new _0x14a2ab(_0x1ce9cf),this[_0x17b518(0x680)]=new _0x41d1d6(_0x1ce9cf),this[_0x17b518(0x744)]=new _0x469d08(_0x1ce9cf),this[_0x17b518(0x554)]=new _0x46f5ca(_0x1ce9cf,this[_0x17b518(0xeb)],this[_0x17b518(0x395)]),this['systemTopicUnsubscribe']=this[_0x17b518(0x505)]();}[_0x136916(0x483)](){const _0x588dfb=_0x136916,_0x5cb6ca=this[_0x588dfb(0x62a)]();this[_0x588dfb(0x1b8)]=new _0x1d3acb(_0x5cb6ca,this[_0x588dfb(0x1ca)],this['configs']['iceServers'],this[_0x588dfb(0x4a8)][_0x588dfb(0x681)],this[_0x588dfb(0x4a8)][_0x588dfb(0x6ed)],this[_0x588dfb(0xeb)],this[_0x588dfb(0x4a8)][_0x588dfb(0x3ab)]),this[_0x588dfb(0x1d0)]=new _0x43d142(_0x5cb6ca,this[_0x588dfb(0x4a8)]['maxOutgoingSubscriptions'],this[_0x588dfb(0xeb)][_0x588dfb(0x66b)]()),this[_0x588dfb(0x104)]=new _0x14a2ab(_0x5cb6ca),this['detectionManager']=new _0x41d1d6(_0x5cb6ca),this[_0x588dfb(0x744)]=new _0x469d08(_0x5cb6ca),this[_0x588dfb(0x554)]=new _0x46f5ca(_0x5cb6ca,this['graphService'],this[_0x588dfb(0x395)]);const _0x2d140d=this[_0x588dfb(0x1b8)][_0x588dfb(0x4fd)]();this[_0x588dfb(0x562)][_0x588dfb(0x46e)]()[_0x588dfb(0x1b3)](_0x299c6b=>{const _0x3f10c2=_0x588dfb;this[_0x3f10c2(0x1d0)]['createOutgoingSubscription'](_0x299c6b,_0x2d140d),this[_0x3f10c2(0x1d0)][_0x3f10c2(0x323)](_0x2d140d,_0x299c6b),_0x299c6b[_0x3f10c2(0x234)]();}),this[_0x588dfb(0x562)][_0x588dfb(0x498)]()['forEach'](_0x2f524d=>{const _0xc97fcd=_0x588dfb;this[_0xc97fcd(0x1d0)][_0xc97fcd(0x50a)](_0x2f524d,_0x2d140d),this[_0xc97fcd(0x1d0)]['createIncomingSubscription'](_0x2d140d,_0x2f524d),_0x2f524d[_0xc97fcd(0x234)](),_0x2f524d['sync']();}),this['contentManager'][_0x588dfb(0x62e)]()[_0x588dfb(0x1b3)](_0x125b15=>{const _0x39695a=_0x588dfb;this['subscriptionManager'][_0x39695a(0x50a)](_0x125b15,_0x2d140d),this['subscriptionManager']['createIncomingSubscription'](_0x2d140d,_0x125b15),_0x125b15[_0x39695a(0x234)](),this[_0x39695a(0x3c2)](_0x125b15);}),this[_0x588dfb(0x562)]['getJobDispatchers']()[_0x588dfb(0x1b3)](_0x315918=>{const _0x3e0146=_0x588dfb;this[_0x3e0146(0x1d0)][_0x3e0146(0x50a)](_0x315918,_0x2d140d),this[_0x3e0146(0x1d0)][_0x3e0146(0x323)](_0x2d140d,_0x315918),_0x315918[_0x3e0146(0x234)]();}),this[_0x588dfb(0x562)]['getJobWorkers']()['forEach'](_0x54d362=>{const _0x24b0e7=_0x588dfb;this[_0x24b0e7(0x1d0)][_0x24b0e7(0x50a)](_0x54d362,_0x2d140d),this['subscriptionManager'][_0x24b0e7(0x323)](_0x2d140d,_0x54d362),_0x54d362[_0x24b0e7(0x234)]();}),this[_0x588dfb(0x201)]=this[_0x588dfb(0x505)]();}[_0x136916(0x60d)](_0x6067ff){const _0x4eb27a=_0x136916;try{this[_0x4eb27a(0x74d)][_0x4eb27a(0x13b)](_0x6067ff);}catch(_0x453f29){this[_0x4eb27a(0x114)](_0x453f29,{});}}[_0x136916(0x36e)](_0x5309e3){const _0x6edcf5=_0x136916;try{this[_0x6edcf5(0x74d)][_0x6edcf5(0x324)](_0x5309e3);}catch(_0x3900a3){this[_0x6edcf5(0x114)](_0x3900a3,{});}}[_0x136916(0x550)](_0x518517,_0x2767c9){const _0x3faa71=_0x136916;return this['connectionManager'][_0x3faa71(0x550)](_0x518517,_0x2767c9);}[_0x136916(0x4f2)](_0x4daa15){const _0x41ddd2=_0x136916;try{return this[_0x41ddd2(0x1b8)]['getConnection'](_0x4daa15);}catch(_0x1d89e6){throw this[_0x41ddd2(0x114)](_0x1d89e6,{});}}['getConnections'](_0x5e78fe){const _0x4f09d9=_0x136916;try{return this['connectionManager'][_0x4f09d9(0x693)](_0x5e78fe);}catch(_0x241452){throw this[_0x4f09d9(0x114)](_0x241452,{});}}[_0x136916(0x61a)](_0x4b5795,_0x3cde62){const _0x2dca5a=_0x136916;try{return this[_0x2dca5a(0x562)][_0x2dca5a(0x5d7)](_0x16e424=>_0x16e424[_0x2dca5a(0xf7)]()===_0x4b5795&&_0x16e424['getLabel']()===_0x3cde62)[0x0];}catch(_0x450bc1){throw this[_0x2dca5a(0x114)](_0x450bc1,{});}}['getLocalMediaStream'](_0x35662e){const _0x371fc4=_0x136916;try{return this[_0x371fc4(0x562)]['getLocalMediaStreams'](_0x3e4005=>_0x3e4005[_0x371fc4(0x2b4)]()===_0x35662e)[0x0];}catch(_0x3fbfaa){throw this['handleError'](_0x3fbfaa,{});}}[_0x136916(0x3ce)]=(..._0x522e98)=>{const _0xb38bfc=_0x136916;try{return this['clusterEventEmitter'][_0xb38bfc(0x127)](..._0x522e98);}catch(_0x4a5cf4){throw this[_0xb38bfc(0x114)](_0x4a5cf4,{});}};[_0x136916(0x642)](_0x1a1337){const _0x578804=_0x136916;try{this[_0x578804(0x104)][_0x578804(0x629)](_0x1a1337);}catch(_0xffb5c4){throw this[_0x578804(0x114)](_0xffb5c4,{});}}['unregisterRemoteNode'](_0x347f70){const _0x3282f0=_0x136916;try{this[_0x3282f0(0x104)][_0x3282f0(0x16e)](_0x347f70);}catch(_0x1bf29a){throw this[_0x3282f0(0x114)](_0x1bf29a,{});}}[_0x136916(0x1c0)](_0x45730e){const _0x54c89f=_0x136916;return this[_0x54c89f(0x1b8)]['collectStats'](_0x45730e);}async[_0x136916(0x3ca)](){const _0x24d27d=_0x136916;try{await this[_0x24d27d(0x1b8)][_0x24d27d(0x3ca)]();const _0x37ead2=await this['nodeManager'][_0x24d27d(0x72a)]();for(const _0x172b84 of _0x37ead2)this[_0x24d27d(0x1b8)][_0x24d27d(0x550)](_0x172b84);}catch(_0x37544a){throw this[_0x24d27d(0x114)](_0x37544a,{});}}[_0x136916(0x3ae)](_0x4d81ce){const _0xa8a983=_0x136916;this[_0xa8a983(0x395)][_0xa8a983(0x3fa)]===_0x1095f4[_0xa8a983(0x60b)][_0xa8a983(0x565)]&&(this[_0xa8a983(0x395)][_0xa8a983(0x40a)](_0x4d81ce['getEmail']()),this[_0xa8a983(0x395)]['setDisplayName'](_0x4d81ce[_0xa8a983(0x603)]()));}['close'](_0x575865=!0x1){const _0x1c724e=_0x136916;_0x148f53['warning'](_0x1c724e(0x5f7),{'clusterId':this['clusterId'],'nodeId':this[_0x1c724e(0x395)][_0x1c724e(0x716)](),'nodeType':this['localNode'][_0x1c724e(0x3fa)]}),this[_0x1c724e(0x201)](),this[_0x1c724e(0x744)]['close'](),this[_0x1c724e(0x680)]['close'](),this[_0x1c724e(0x104)][_0x1c724e(0x348)](),this[_0x1c724e(0x1d0)]['close'](),this[_0x1c724e(0x1b8)]['close'](),this[_0x1c724e(0x562)][_0x1c724e(0x348)](_0x575865),this['nodeManager']['close']();}['openPubSubTopic'](_0x57956e){const _0x94dded=_0x136916;try{const _0x2a2af4=this[_0x94dded(0x562)]['createPubSubTopic'](_0x57956e),_0x108393=this[_0x94dded(0x1b8)][_0x94dded(0x4fd)]();return this[_0x94dded(0x1d0)]['createOutgoingSubscription'](_0x2a2af4,_0x108393),this[_0x94dded(0x1d0)][_0x94dded(0x323)](_0x108393,_0x2a2af4),_0x2a2af4;}catch(_0x537f72){throw this['handleError'](_0x537f72,{});}}async[_0x136916(0x384)](_0x2ca268,_0x842192){const _0x1f5274=_0x136916;try{const _0xd441e4=this['contentManager'][_0x1f5274(0x1dc)](_0x2ca268,this[_0x1f5274(0x4a8)][_0x1f5274(0x3f7)]),_0x3c168a=this[_0x1f5274(0x1b8)][_0x1f5274(0x4fd)]();return this['subscriptionManager']['createOutgoingSubscription'](_0xd441e4,_0x3c168a),this[_0x1f5274(0x1d0)][_0x1f5274(0x323)](_0x3c168a,_0xd441e4),await _0xd441e4[_0x1f5274(0x530)](_0x842192?.[_0x1f5274(0x4ee)]??!0x0),_0xd441e4;}catch(_0x3ca498){throw this[_0x1f5274(0x114)](_0x3ca498,{});}}async[_0x136916(0x761)](_0x5ce99e,_0x2ae9ee){const _0x1b5896=_0x136916;try{const _0x316e29=await this['contentManager'][_0x1b5896(0x354)](_0x5ce99e,_0x2ae9ee,this[_0x1b5896(0x4a8)][_0x1b5896(0x24b)]),_0x3aeb00=this[_0x1b5896(0x1b8)][_0x1b5896(0x4fd)]();return this['subscriptionManager'][_0x1b5896(0x50a)](_0x316e29,_0x3aeb00),this[_0x1b5896(0x1d0)][_0x1b5896(0x323)](_0x3aeb00,_0x316e29),await _0x316e29[_0x1b5896(0x483)](),this[_0x1b5896(0x3c2)](_0x316e29),_0x316e29;}catch(_0x58fc9a){throw this[_0x1b5896(0x114)](_0x58fc9a,{});}}async['openJobDispatcher'](_0x47407c){const _0x4c922f=_0x136916;try{const _0x32e462=await this[_0x4c922f(0x562)][_0x4c922f(0x42e)](_0x47407c,this[_0x4c922f(0xeb)]),_0x236e88=this['connectionManager'][_0x4c922f(0x4fd)]();return this[_0x4c922f(0x1d0)][_0x4c922f(0x50a)](_0x32e462,_0x236e88),this[_0x4c922f(0x1d0)][_0x4c922f(0x323)](_0x236e88,_0x32e462),_0x32e462[_0x4c922f(0x483)](),_0x32e462;}catch(_0x39d5bc){throw this[_0x4c922f(0x114)](_0x39d5bc,{});}}async[_0x136916(0x6a7)](_0x5a7976){const _0x1a7dad=_0x136916;throw new Error(_0x1a7dad(0x40e));}async[_0x136916(0xed)](_0x198f28){const _0x28497e=_0x136916;try{const _0x38a6e0=await this['contentManager'][_0x28497e(0x588)](_0x198f28,this[_0x28497e(0xeb)]),_0x353dd4=this[_0x28497e(0x1b8)][_0x28497e(0x4fd)]();return this['subscriptionManager']['createOutgoingSubscription'](_0x38a6e0,_0x353dd4),this['subscriptionManager'][_0x28497e(0x323)](_0x353dd4,_0x38a6e0),await _0x38a6e0['open'](),_0x38a6e0;}catch(_0x61cfb){throw console['error'](_0x61cfb),this[_0x28497e(0x114)](_0x61cfb,{});}}async[_0x136916(0x343)](_0x5af2c6){const _0x4fc039=_0x136916;try{if(!this[_0x4fc039(0x4a8)][_0x4fc039(0x4e4)]||!this[_0x4fc039(0x4a8)][_0x4fc039(0x61c)])throw new _0x4b5cf3(_0x235d31['GenerativeAIWorkerMissingConnectors'],_0x4fc039(0x3a2));if(!(this[_0x4fc039(0x552)]instanceof _0x99f262))throw new _0x4b5cf3(_0x235d31[_0x4fc039(0x51f)],_0x4fc039(0x38e));const _0x55fa6e=await this[_0x4fc039(0x384)](_0x4fc039(0x26a)+_0x5af2c6),_0x110e8a=new this[(_0x4fc039(0x4a8))][(_0x4fc039(0x4e4))](this[_0x4fc039(0x4a8)][_0x4fc039(0x61c)]),_0x41129f=await this[_0x4fc039(0x562)][_0x4fc039(0x2c9)](_0x5af2c6,this[_0x4fc039(0x552)],_0x110e8a,_0x55fa6e),_0x159d55=this[_0x4fc039(0x1b8)][_0x4fc039(0x4fd)]();return this[_0x4fc039(0x1d0)][_0x4fc039(0x50a)](_0x41129f,_0x159d55),this[_0x4fc039(0x1d0)][_0x4fc039(0x323)](_0x159d55,_0x41129f),_0x41129f[_0x4fc039(0x483)](),_0x41129f;}catch(_0x2470b2){throw this[_0x4fc039(0x114)](_0x2470b2,{});}}[_0x136916(0x46e)](_0x3fbf81){const _0x15a857=_0x136916;try{return this[_0x15a857(0x562)]['getPubSubTopics'](_0x3fbf81);}catch(_0x356c55){throw this[_0x15a857(0x114)](_0x356c55,{});}}['getObjectStoreBuckets'](_0x3ea99b){const _0x36a6c9=_0x136916;try{return this[_0x36a6c9(0x562)][_0x36a6c9(0x498)](_0x3ea99b);}catch(_0x99449e){throw this[_0x36a6c9(0x114)](_0x99449e,{});}}['getKeyValueDatabases'](_0xae29d){const _0x133072=_0x136916;try{return this['contentManager']['getKeyValueDatabases'](_0xae29d);}catch(_0x25734c){throw this[_0x133072(0x114)](_0x25734c,{});}}[_0x136916(0xec)](_0x3c8882){const _0x16cfbf=_0x136916;try{return this['contentManager'][_0x16cfbf(0xec)](_0x3c8882);}catch(_0x3938a9){throw this[_0x16cfbf(0x114)](_0x3938a9,{});}}[_0x136916(0x3bd)](_0x462de1){const _0x8fe0bf=_0x136916;try{return this[_0x8fe0bf(0x562)][_0x8fe0bf(0x3bd)](_0x462de1);}catch(_0x282300){throw this[_0x8fe0bf(0x114)](_0x282300,{});}}[_0x136916(0x217)](_0x364d15,_0x528960){const _0x565708=_0x136916;if(!this[_0x565708(0x6a3)]['features'][_0x565708(0x232)](_0x148c1f[_0x565708(0x48a)]))throw new _0x4b5cf3(_0x235d31[_0x565708(0x657)],_0x565708(0x35b));try{return this[_0x565708(0x562)][_0x565708(0x217)](_0x364d15,_0x528960);}catch(_0x4d8577){throw this[_0x565708(0x114)](_0x4d8577,{});}}['createLocalDynamicMediaStream'](_0x563360,_0x5c885a){const _0x1b9a49=_0x136916;if(!this[_0x1b9a49(0x6a3)][_0x1b9a49(0x255)][_0x1b9a49(0x232)](_0x148c1f[_0x1b9a49(0x48a)]))throw new _0x4b5cf3(_0x235d31[_0x1b9a49(0x657)],_0x1b9a49(0x35b));try{return this['contentManager'][_0x1b9a49(0x5d5)](_0x563360,_0x5c885a);}catch(_0x525b38){throw this[_0x1b9a49(0x114)](_0x525b38,{});}}[_0x136916(0x163)](_0xdeaad3){const _0x3bc774=_0x136916;if(!this[_0x3bc774(0x6a3)]['features'][_0x3bc774(0x232)](_0x148c1f[_0x3bc774(0x48a)]))throw new _0x4b5cf3(_0x235d31['FeatureNotEnabled'],_0x3bc774(0x35b));try{return this[_0x3bc774(0x562)][_0x3bc774(0x163)](_0xdeaad3);}catch(_0x5ad287){throw this[_0x3bc774(0x114)](_0x5ad287,{});}}[_0x136916(0x5d7)](_0x3aa95b){const _0x9bf221=_0x136916;if(!this[_0x9bf221(0x6a3)][_0x9bf221(0x255)]['includes'](_0x148c1f[_0x9bf221(0x48a)]))throw new _0x4b5cf3(_0x235d31[_0x9bf221(0x657)],_0x9bf221(0x35b));try{return this[_0x9bf221(0x562)]['getRemoteMediaStreams'](_0x3aa95b);}catch(_0x104318){throw this[_0x9bf221(0x114)](_0x104318,{});}}[_0x136916(0x6c1)](_0x1f0225,_0x4f5e30){const _0x2c3992=_0x136916;return this[_0x2c3992(0x554)][_0x2c3992(0x6c1)](_0x1f0225,_0x4f5e30);}[_0x136916(0x6b3)](){const _0x113dc8=_0x136916;return this[_0x113dc8(0x554)][_0x113dc8(0x6b3)]();}[_0x136916(0x38f)](_0x28aebd){const _0x15487f=_0x136916;try{return this['nodeManager'][_0x15487f(0x38f)](_0x28aebd);}catch(_0x10ae9f){throw this['handleError'](_0x10ae9f,{});}}async[_0x136916(0x12c)](_0x3c9f6f){const _0x4f685b=_0x136916;try{if(_0x148f53[_0x4f685b(0x2f4)](_0x19b950[_0x4f685b(0x644)],'Orchestrator\x20handleSystemEvents',this[_0x4f685b(0x554)]['getLocalId'](),_0x3c9f6f),_0x49739b(_0x3c9f6f,this[_0x4f685b(0x554)]['getLocalId']()))return void this['connectionManager'][_0x4f685b(0x219)](_0x3c9f6f);switch(_0x3c9f6f[_0x4f685b(0x146)]){case _0x15f44c[_0x4f685b(0x632)]:this[_0x4f685b(0x104)][_0x4f685b(0x476)](_0x3c9f6f),this[_0x4f685b(0x1d0)]['handleContentSystemEvents'](_0x3c9f6f),this[_0x4f685b(0x562)][_0x4f685b(0x476)](_0x3c9f6f);break;case _0x15f44c[_0x4f685b(0x586)]:this[_0x4f685b(0x1d0)][_0x4f685b(0x2a3)](_0x3c9f6f),this[_0x4f685b(0x1b8)]['handleNodeSystemEvents'](_0x3c9f6f),this['contentManager'][_0x4f685b(0x2a3)](_0x3c9f6f),this[_0x4f685b(0x554)][_0x4f685b(0x2a3)](_0x3c9f6f);break;case _0x15f44c[_0x4f685b(0x4b3)]:this[_0x4f685b(0x744)][_0x4f685b(0x53b)](_0x3c9f6f);break;case _0x15f44c[_0x4f685b(0x650)]:this['remediationManager']['handleRemediationSystemEvents'](_0x3c9f6f);break;case _0x15f44c[_0x4f685b(0x1c3)]:this['detectionManager'][_0x4f685b(0x29b)](_0x3c9f6f);break;case _0x15f44c['Subscription']:_0x3c9f6f[_0x4f685b(0x2dc)][_0x4f685b(0x3fa)]!==_0x5f37ce['UnsubscribeMediaStream']?(this['subscriptionManager'][_0x4f685b(0x628)](_0x3c9f6f),this[_0x4f685b(0x562)][_0x4f685b(0x628)](_0x3c9f6f)):(this[_0x4f685b(0x562)][_0x4f685b(0x628)](_0x3c9f6f),this[_0x4f685b(0x1d0)]['handleSubscriptionSystemEvents'](_0x3c9f6f));break;case _0x15f44c[_0x4f685b(0x731)]:await this[_0x4f685b(0x1b8)][_0x4f685b(0x54d)](_0x3c9f6f),this[_0x4f685b(0x104)]['handlePeerConnectionSystemEvents'](_0x3c9f6f),this[_0x4f685b(0x554)][_0x4f685b(0x54d)](_0x3c9f6f),this['subscriptionManager'][_0x4f685b(0x54d)](_0x3c9f6f);}}catch(_0x59c05a){throw this[_0x4f685b(0x114)](_0x59c05a,{});}}[_0x136916(0x114)](_0x457e1e,_0x256dff){const _0x4e4d77=_0x136916;if(!(_0x457e1e instanceof _0xb57abe)){if(_0x457e1e instanceof _0x4b5cf3)throw _0x457e1e;if(!(_0x457e1e instanceof Error))throw new _0x4b5cf3(_0x235d31[_0x4e4d77(0x413)],_0x4e4d77(0x193)+_0x457e1e);if(!(_0x457e1e instanceof _0x2fb975))throw new _0x4b5cf3(_0x235d31['InternalSDKError'],_0x4e4d77(0x55f)+_0x457e1e[_0x4e4d77(0x286)]);switch(_0x457e1e[_0x4e4d77(0x582)]){case _0x2fb975[_0x4e4d77(0x516)][_0x4e4d77(0x5d1)]:case _0x2fb975[_0x4e4d77(0x516)][_0x4e4d77(0x1d7)]:case _0x2fb975[_0x4e4d77(0x516)]['PeerConnectionInvalidDestination']:case _0x2fb975[_0x4e4d77(0x516)][_0x4e4d77(0x46c)]:case _0x2fb975['codes'][_0x4e4d77(0x3f2)]:case _0x2fb975[_0x4e4d77(0x516)][_0x4e4d77(0x48e)]:case _0x2fb975[_0x4e4d77(0x516)][_0x4e4d77(0x68a)]:case _0x2fb975[_0x4e4d77(0x516)][_0x4e4d77(0x6f5)]:case _0x2fb975[_0x4e4d77(0x516)][_0x4e4d77(0x461)]:case _0x2fb975['codes'][_0x4e4d77(0x6fb)]:case _0x2fb975[_0x4e4d77(0x516)][_0x4e4d77(0x192)]:case _0x2fb975['codes'][_0x4e4d77(0x1df)]:}throw _0x148f53['error'](_0x4e4d77(0x353)+_0x457e1e[_0x4e4d77(0x286)],{'clusterId':this[_0x4e4d77(0x5bf)],'nodeId':this[_0x4e4d77(0x395)][_0x4e4d77(0x716)](),'nodeType':this[_0x4e4d77(0x395)][_0x4e4d77(0x3fa)]},_0x457e1e),new _0x4b5cf3(_0x235d31['InternalSDKError'],'Internal\x20SDK\x20error:\x20'+_0x457e1e[_0x4e4d77(0x286)]);}}[_0x136916(0x62a)](){const _0x4ffb27=_0x136916;return{'mediator':this,'vendorId':this[_0x4ffb27(0x180)],'clusterId':this['clusterId'],'localNode':this['localNode']};}[_0x136916(0x505)](){const _0xe7a5a2=_0x136916;return this[_0xe7a5a2(0x74d)][_0xe7a5a2(0x67e)](_0x5469a3=>{const _0x592734=_0xe7a5a2,_0x590a6e=_0x2b3c3a(_0x5469a3,this[_0x592734(0x395)][_0x592734(0x716)]()),_0x56eba3=_0x5469a3['messageType']===_0x15f44c[_0x592734(0x1c3)]||_0x5469a3[_0x592734(0x146)]===_0x15f44c[_0x592734(0x731)]&&_0x5469a3[_0x592734(0x2dc)][_0x592734(0x3fa)]===_0x5b3080[_0x592734(0x1c3)]?_0x19b950[_0x592734(0x352)]:_0x19b950['System'];_0x148f53['logRaw'](_0x56eba3,_0x5469a3[_0x592734(0x4c6)]+_0x592734(0x13d)+_0x590a6e,_0x5469a3),this[_0x592734(0x12c)](_0x5469a3)[_0x592734(0x1bd)](_0x278650=>{const _0x3cce05=_0x592734;console[_0x3cce05(0x4d8)](_0x278650);});});}async[_0x136916(0x3c2)](_0x480943,_0x583f13){const _0x4442e1=_0x136916;_0x583f13=this[_0x4442e1(0x244)](_0x583f13),await _0x480943[_0x4442e1(0x530)](_0x583f13,()=>this[_0x4442e1(0x3c2)](_0x480943,_0x583f13));}[_0x136916(0x244)](_0x555f1f){const _0x11a6d9=_0x136916,_0x19b321=this[_0x11a6d9(0x554)]['getAncestorIds']();if(!_0x555f1f)return _0x19b321[0x0];const _0x289cd2=_0x19b321[_0x11a6d9(0x1d2)](_0x455dfb=>_0x555f1f===_0x455dfb),_0x4c5ccb=_0x19b321[_0x289cd2+0x1];return _0x19b321['length']>0x0&&!_0x4c5ccb?_0x555f1f[0x0]:_0x4c5ccb;}}class _0x2226c9{[_0x136916(0x180)];[_0x136916(0x5bf)];[_0x136916(0x552)];[_0x136916(0x392)];['orchestrator'];constructor(_0x5f1d33,_0xda809f,_0x569e11,_0x32494f,_0x350a72,_0x3ca5e1,_0x28ce5f=new _0x4a8af3()){const _0x3c8f50=_0x136916;this[_0x3c8f50(0x180)]=_0x5f1d33,this[_0x3c8f50(0x5bf)]=_0xda809f,this[_0x3c8f50(0x552)]=_0x569e11,this['eventEmitter']=_0x28ce5f,this['orchestrator']=new _0x258bb7(this[_0x3c8f50(0x180)],this[_0x3c8f50(0x5bf)],_0x569e11,_0x32494f,_0x350a72,_0x3ca5e1,this);}async[_0x136916(0x471)](){const _0x902b06=_0x136916;await this[_0x902b06(0x3c0)][_0x902b06(0x3ca)](),this['authNode']['type']===_0x1095f4[_0x902b06(0x60b)][_0x902b06(0x565)]&&this[_0x902b06(0x552)][_0x902b06(0x4ca)](this[_0x902b06(0x5bf)],_0x1467ec=>{const _0x4ae9b1=_0x902b06;this[_0x4ae9b1(0x3c0)]['updateUser'](_0x1467ec);});}[_0x136916(0x583)](){const _0x3c7121=_0x136916;this[_0x3c7121(0x3c0)]['close'](),this[_0x3c7121(0x552)][_0x3c7121(0x3fa)]===_0x1095f4[_0x3c7121(0x60b)]['User']&&this[_0x3c7121(0x552)][_0x3c7121(0x585)](this[_0x3c7121(0x5bf)]),this[_0x3c7121(0x127)](_0x3c7121(0x327),void 0x0);}[_0x136916(0x4ec)](_0x12fa0e){const _0x35f6ba=_0x136916,_0x36cb48=this[_0x35f6ba(0x3c0)][_0x35f6ba(0x4ec)](_0x12fa0e);return{'getName':_0x36cb48['getName']['bind'](_0x36cb48),'getOwnerId':_0x36cb48[_0x35f6ba(0xf7)]['bind'](_0x36cb48),'getContentType':_0x36cb48[_0x35f6ba(0x51b)][_0x35f6ba(0x72c)](_0x36cb48),'publish':_0x36cb48[_0x35f6ba(0x457)][_0x35f6ba(0x72c)](_0x36cb48),'subscribe':_0x36cb48[_0x35f6ba(0x67e)][_0x35f6ba(0x72c)](_0x36cb48),'unsubscribe':_0x36cb48[_0x35f6ba(0xef)][_0x35f6ba(0x72c)](_0x36cb48),'close':_0x36cb48[_0x35f6ba(0x348)][_0x35f6ba(0x72c)](_0x36cb48)};}async[_0x136916(0x384)](_0x25250d,_0x591e09){const _0x3f84ce=_0x136916,_0x3cd51b=await this[_0x3f84ce(0x3c0)][_0x3f84ce(0x384)](_0x25250d,_0x591e09);return{'getName':_0x3cd51b[_0x3f84ce(0x1e6)][_0x3f84ce(0x72c)](_0x3cd51b),'getOwnerId':_0x3cd51b['getOwnerId'][_0x3f84ce(0x72c)](_0x3cd51b),'getContentType':_0x3cd51b[_0x3f84ce(0x51b)][_0x3f84ce(0x72c)](_0x3cd51b),'publish':_0x3cd51b[_0x3f84ce(0x457)][_0x3f84ce(0x72c)](_0x3cd51b),'unpublish':_0x3cd51b[_0x3f84ce(0x2ec)][_0x3f84ce(0x72c)](_0x3cd51b),'get':_0x3cd51b['get'][_0x3f84ce(0x72c)](_0x3cd51b),'list':_0x3cd51b[_0x3f84ce(0x23f)][_0x3f84ce(0x72c)](_0x3cd51b),'getSize':_0x3cd51b[_0x3f84ce(0x6f2)][_0x3f84ce(0x72c)](_0x3cd51b),'subscribe':_0x3cd51b[_0x3f84ce(0x67e)][_0x3f84ce(0x72c)](_0x3cd51b),'unsubscribe':_0x3cd51b['unsubscribe'][_0x3f84ce(0x72c)](_0x3cd51b),'close':_0x3cd51b[_0x3f84ce(0x348)][_0x3f84ce(0x72c)](_0x3cd51b)};}async['openKeyValueDatabase'](_0x14a8c2,_0x47cbaa){const _0x285cde=_0x136916,_0x4ca029=await this[_0x285cde(0x3c0)]['openKeyValueDatabase'](_0x14a8c2,_0x47cbaa);return{'getName':_0x4ca029['getName'][_0x285cde(0x72c)](_0x4ca029),'getOwnerId':_0x4ca029[_0x285cde(0xf7)][_0x285cde(0x72c)](_0x4ca029),'getContentType':_0x4ca029[_0x285cde(0x51b)]['bind'](_0x4ca029),'getTable':_0x4ca029['getTable'][_0x285cde(0x72c)](_0x4ca029),'subscribe':_0x4ca029[_0x285cde(0x67e)]['bind'](_0x4ca029),'unsubscribe':_0x4ca029[_0x285cde(0xef)][_0x285cde(0x72c)](_0x4ca029),'close':_0x4ca029['close'][_0x285cde(0x72c)](_0x4ca029)};}async[_0x136916(0x339)](_0x5f1963){const _0x25de36=_0x136916,_0x255214=await this[_0x25de36(0x3c0)]['openJobDispatcher'](_0x5f1963);return{'getName':_0x255214[_0x25de36(0x1e6)]['bind'](_0x255214),'getOwnerId':_0x255214[_0x25de36(0xf7)][_0x25de36(0x72c)](_0x255214),'getContentType':_0x255214[_0x25de36(0x51b)]['bind'](_0x255214),'createJob':_0x255214['createJob']['bind'](_0x255214),'getJob':_0x255214[_0x25de36(0x299)][_0x25de36(0x72c)](_0x255214),'getJobs':_0x255214[_0x25de36(0x100)][_0x25de36(0x72c)](_0x255214),'close':_0x255214[_0x25de36(0x348)][_0x25de36(0x72c)](_0x255214)};}async[_0x136916(0x6a7)](_0x14a134){const _0x272155=_0x136916,_0x4994a2=await this[_0x272155(0x3c0)][_0x272155(0x6a7)](_0x14a134);return{'close':_0x4994a2[_0x272155(0x348)][_0x272155(0x72c)](_0x4994a2)};}async[_0x136916(0xed)](_0x103236){const _0x4de342=_0x136916,_0x235955=await this[_0x4de342(0x3c0)][_0x4de342(0xed)](_0x103236);return{'prompt':_0x235955['prompt'][_0x4de342(0x72c)](_0x235955),'stream':_0x235955['stream']['bind'](_0x235955),'close':_0x235955[_0x4de342(0x348)][_0x4de342(0x72c)](_0x235955)};}async[_0x136916(0x343)](_0x166df6){const _0x2c2dd4=_0x136916,_0x409fb4=await this['orchestrator'][_0x2c2dd4(0x343)](_0x166df6);return{'close':_0x409fb4[_0x2c2dd4(0x348)][_0x2c2dd4(0x72c)](_0x409fb4)};}[_0x136916(0x46e)](_0x384240){const _0x5e1c7b=_0x136916;return this[_0x5e1c7b(0x3c0)][_0x5e1c7b(0x46e)](_0x384240)[_0x5e1c7b(0x774)](_0xc77d40=>({'getName':_0xc77d40['getName']['bind'](_0xc77d40),'getOwnerId':_0xc77d40[_0x5e1c7b(0xf7)][_0x5e1c7b(0x72c)](_0xc77d40),'getContentType':_0xc77d40[_0x5e1c7b(0x51b)][_0x5e1c7b(0x72c)](_0xc77d40),'publish':_0xc77d40['publish'][_0x5e1c7b(0x72c)](_0xc77d40),'subscribe':_0xc77d40['subscribe'][_0x5e1c7b(0x72c)](_0xc77d40),'unsubscribe':_0xc77d40[_0x5e1c7b(0xef)][_0x5e1c7b(0x72c)](_0xc77d40),'close':_0xc77d40[_0x5e1c7b(0x348)][_0x5e1c7b(0x72c)](_0xc77d40)}));}['getObjectStoreBuckets'](_0x2df590){const _0x18cd68=_0x136916;return this[_0x18cd68(0x3c0)][_0x18cd68(0x498)](_0x2df590)[_0x18cd68(0x774)](_0x4c5cd5=>({'getName':_0x4c5cd5[_0x18cd68(0x1e6)][_0x18cd68(0x72c)](_0x4c5cd5),'getOwnerId':_0x4c5cd5['getOwnerId'][_0x18cd68(0x72c)](_0x4c5cd5),'getContentType':_0x4c5cd5[_0x18cd68(0x51b)]['bind'](_0x4c5cd5),'publish':_0x4c5cd5[_0x18cd68(0x457)][_0x18cd68(0x72c)](_0x4c5cd5),'unpublish':_0x4c5cd5['unpublish'][_0x18cd68(0x72c)](_0x4c5cd5),'get':_0x4c5cd5[_0x18cd68(0x2b0)][_0x18cd68(0x72c)](_0x4c5cd5),'list':_0x4c5cd5[_0x18cd68(0x23f)]['bind'](_0x4c5cd5),'getSize':_0x4c5cd5[_0x18cd68(0x6f2)]['bind'](_0x4c5cd5),'subscribe':_0x4c5cd5[_0x18cd68(0x67e)][_0x18cd68(0x72c)](_0x4c5cd5),'unsubscribe':_0x4c5cd5[_0x18cd68(0xef)]['bind'](_0x4c5cd5),'close':_0x4c5cd5[_0x18cd68(0x348)]['bind'](_0x4c5cd5)}));}[_0x136916(0x62e)](_0x453043){const _0xb7fc6f=_0x136916;return this[_0xb7fc6f(0x3c0)][_0xb7fc6f(0x62e)](_0x453043)[_0xb7fc6f(0x774)](_0x3c17f6=>({'getName':_0x3c17f6[_0xb7fc6f(0x1e6)][_0xb7fc6f(0x72c)](_0x3c17f6),'getOwnerId':_0x3c17f6[_0xb7fc6f(0xf7)]['bind'](_0x3c17f6),'getContentType':_0x3c17f6[_0xb7fc6f(0x51b)]['bind'](_0x3c17f6),'getTable':_0x3c17f6[_0xb7fc6f(0x74f)][_0xb7fc6f(0x72c)](_0x3c17f6),'subscribe':_0x3c17f6[_0xb7fc6f(0x67e)][_0xb7fc6f(0x72c)](_0x3c17f6),'unsubscribe':_0x3c17f6[_0xb7fc6f(0xef)][_0xb7fc6f(0x72c)](_0x3c17f6),'close':_0x3c17f6[_0xb7fc6f(0x348)][_0xb7fc6f(0x72c)](_0x3c17f6)}));}[_0x136916(0xec)](_0x4fe1cc){const _0x3c6676=_0x136916;return this['orchestrator'][_0x3c6676(0xec)](_0x4fe1cc)[_0x3c6676(0x774)](_0x2a8038=>({'prompt':_0x2a8038[_0x3c6676(0x4bf)]['bind'](_0x2a8038),'stream':_0x2a8038[_0x3c6676(0x103)][_0x3c6676(0x72c)](_0x2a8038),'close':_0x2a8038[_0x3c6676(0x348)][_0x3c6676(0x72c)](_0x2a8038)}));}['getGenerativeAIWorkers'](_0x12ce84){const _0x3488ae=_0x136916;return this[_0x3488ae(0x3c0)]['getGenerativeAIWorkers'](_0x12ce84)[_0x3488ae(0x774)](_0x560ac9=>({'close':_0x560ac9[_0x3488ae(0x348)][_0x3488ae(0x72c)](_0x560ac9)}));}[_0x136916(0x6d9)](_0x1570fd,_0x2e753b){const _0x44e438=_0x136916,_0x351126=this[_0x44e438(0x3c0)][_0x44e438(0x217)](_0x1570fd,_0x2e753b);return{'getLabel':_0x351126[_0x44e438(0x2b4)][_0x44e438(0x72c)](_0x351126),'getOwnerId':_0x351126['getOwnerId'][_0x44e438(0x72c)](_0x351126),'getContentType':_0x351126[_0x44e438(0x51b)][_0x44e438(0x72c)](_0x351126),'getMediaStream':_0x351126[_0x44e438(0x162)]['bind'](_0x351126),'setPriority':_0x351126[_0x44e438(0x692)][_0x44e438(0x72c)](_0x351126),'unpublish':_0x351126[_0x44e438(0x2ec)][_0x44e438(0x72c)](_0x351126)};}[_0x136916(0x691)](_0x276a63,_0x4c4836){const _0x585313=_0x136916,_0x2239b0=this[_0x585313(0x3c0)][_0x585313(0x5d5)](_0x276a63,_0x4c4836);return{'getLabel':_0x2239b0[_0x585313(0x2b4)]['bind'](_0x2239b0),'getOwnerId':_0x2239b0[_0x585313(0xf7)]['bind'](_0x2239b0),'getContentType':_0x2239b0[_0x585313(0x51b)]['bind'](_0x2239b0),'setPriority':_0x2239b0[_0x585313(0x692)][_0x585313(0x72c)](_0x2239b0),'unpublish':_0x2239b0[_0x585313(0x2ec)][_0x585313(0x72c)](_0x2239b0),'getMediaStream':_0x2239b0[_0x585313(0x162)][_0x585313(0x72c)](_0x2239b0),'addTrack':_0x2239b0[_0x585313(0x43f)][_0x585313(0x72c)](_0x2239b0),'removeTrack':_0x2239b0[_0x585313(0x698)][_0x585313(0x72c)](_0x2239b0),'replaceTrack':_0x2239b0[_0x585313(0x15e)]['bind'](_0x2239b0),'setTransformations':_0x2239b0[_0x585313(0x730)][_0x585313(0x72c)](_0x2239b0)};}['getLocalMediaStreams'](_0xd41b6d){const _0x4b1030=_0x136916;return this[_0x4b1030(0x3c0)]['getLocalMediaStreams'](_0xd41b6d)[_0x4b1030(0x774)](_0x2a29fa=>({'getLabel':_0x2a29fa[_0x4b1030(0x2b4)][_0x4b1030(0x72c)](_0x2a29fa),'getOwnerId':_0x2a29fa[_0x4b1030(0xf7)][_0x4b1030(0x72c)](_0x2a29fa),'getContentType':_0x2a29fa[_0x4b1030(0x51b)]['bind'](_0x2a29fa),'getMediaStream':_0x2a29fa[_0x4b1030(0x162)][_0x4b1030(0x72c)](_0x2a29fa),'setPriority':_0x2a29fa[_0x4b1030(0x692)][_0x4b1030(0x72c)](_0x2a29fa),'unpublish':_0x2a29fa[_0x4b1030(0x2ec)][_0x4b1030(0x72c)](_0x2a29fa)}));}[_0x136916(0x5d7)](_0x8d7b80){const _0x22d597=_0x136916;return this[_0x22d597(0x3c0)][_0x22d597(0x5d7)](_0x8d7b80)['map'](_0xb5e465=>({'getLabel':_0xb5e465[_0x22d597(0x2b4)]['bind'](_0xb5e465),'getOwnerId':_0xb5e465[_0x22d597(0xf7)][_0x22d597(0x72c)](_0xb5e465),'getContentType':_0xb5e465['getContentType'][_0x22d597(0x72c)](_0xb5e465),'getMediaStream':_0xb5e465[_0x22d597(0x162)]['bind'](_0xb5e465),'subscribe':_0xb5e465[_0x22d597(0x67e)][_0x22d597(0x72c)](_0xb5e465),'unsubscribe':_0xb5e465[_0x22d597(0xef)]['bind'](_0xb5e465),'getAvailableTrackKinds':_0xb5e465[_0x22d597(0x2ac)][_0x22d597(0x72c)](_0xb5e465),'update':_0xb5e465[_0x22d597(0x4cb)][_0x22d597(0x72c)](_0xb5e465),'onProviderChange':_0xb5e465['onProviderChange'][_0x22d597(0x72c)](_0xb5e465)}));}[_0x136916(0x6b3)](){const _0x4e7cdd=_0x136916,_0x282f62=this['orchestrator']['getLocalNode']();switch(_0x282f62['type']){case _0x1095f4[_0x4e7cdd(0x60b)][_0x4e7cdd(0x565)]:return{'type':_0x1095f4[_0x4e7cdd(0x60b)]['User'],'getId':_0x282f62['getId'][_0x4e7cdd(0x72c)](_0x282f62),'getDisplayName':_0x282f62[_0x4e7cdd(0x603)][_0x4e7cdd(0x72c)](_0x282f62),'getEmail':_0x282f62[_0x4e7cdd(0x34f)][_0x4e7cdd(0x72c)](_0x282f62),'getRemoteConnections':_0x282f62[_0x4e7cdd(0x558)][_0x4e7cdd(0x72c)](_0x282f62),'setDisplayName':_0x282f62['setDisplayName'][_0x4e7cdd(0x72c)](_0x282f62),'setEmail':_0x282f62[_0x4e7cdd(0x40a)][_0x4e7cdd(0x72c)](_0x282f62)};case _0x1095f4[_0x4e7cdd(0x60b)][_0x4e7cdd(0x6fd)]:default:return{'type':_0x1095f4[_0x4e7cdd(0x60b)][_0x4e7cdd(0x6fd)],'getId':_0x282f62[_0x4e7cdd(0x716)][_0x4e7cdd(0x72c)](_0x282f62),'getRemoteConnections':_0x282f62['getRemoteConnections'][_0x4e7cdd(0x72c)](_0x282f62)};}}[_0x136916(0x38f)](_0x9ac79){const _0x17ff59=_0x136916;return this[_0x17ff59(0x3c0)]['getRemoteNodes'](_0x9ac79)['map'](_0x4f00a7=>{const _0x2f3af9=_0x17ff59;switch(_0x4f00a7[_0x2f3af9(0x3fa)]){case _0x1095f4['NodeType'][_0x2f3af9(0x565)]:return{'type':_0x1095f4[_0x2f3af9(0x60b)]['User'],'getId':_0x4f00a7[_0x2f3af9(0x716)][_0x2f3af9(0x72c)](_0x4f00a7),'getDisplayName':_0x4f00a7[_0x2f3af9(0x603)][_0x2f3af9(0x72c)](_0x4f00a7),'getEmail':_0x4f00a7['getEmail'][_0x2f3af9(0x72c)](_0x4f00a7),'getRemoteConnections':_0x4f00a7[_0x2f3af9(0x558)][_0x2f3af9(0x72c)](_0x4f00a7)};case _0x1095f4[_0x2f3af9(0x60b)][_0x2f3af9(0x6fd)]:return{'type':_0x1095f4[_0x2f3af9(0x60b)][_0x2f3af9(0x6fd)],'getId':_0x4f00a7['getId'][_0x2f3af9(0x72c)](_0x4f00a7),'getRemoteConnections':_0x4f00a7[_0x2f3af9(0x558)][_0x2f3af9(0x72c)](_0x4f00a7)};default:throw new _0x4b5cf3(_0x235d31[_0x2f3af9(0x51f)],'Invalid\x20node\x20type');}});}['on']=(..._0x5bfcfc)=>{this['eventEmitter']['on'](..._0x5bfcfc);};[_0x136916(0x127)]=(..._0x5103dc)=>this[_0x136916(0x392)]['emit'](..._0x5103dc);[_0x136916(0x5dc)](..._0x27ebca){const _0x47ea03=_0x136916;this[_0x47ea03(0x392)][_0x47ea03(0x5dc)](..._0x27ebca);}}class _0x57239a{['id'];[_0x136916(0x2ce)];['email'];[_0x136916(0x3fa)]=_0x1095f4['NodeType']['User'];['joinedClusters']=new Map();[_0x136916(0x366)]=_0x57b3e6();constructor(_0x4c1c5b,_0x21edde,_0x941cb6){const _0x473918=_0x136916;this['id']=_0x4c1c5b,this[_0x473918(0x2ce)]=_0x21edde,this[_0x473918(0x6b1)]=_0x941cb6;}[_0x136916(0x716)](){return this['id'];}[_0x136916(0x603)](){const _0x6f2cd5=_0x136916;return this[_0x6f2cd5(0x2ce)];}['getEmail'](){const _0x4c650a=_0x136916;return this[_0x4c650a(0x6b1)];}[_0x136916(0x64f)](_0x52f160){const _0x169fdc=_0x136916;this['displayName']!==_0x52f160&&(this[_0x169fdc(0x2ce)]=_0x52f160,this[_0x169fdc(0x366)]['publish'](this));}['setEmail'](_0x530452){const _0x3ae93e=_0x136916;this[_0x3ae93e(0x6b1)]!==_0x530452&&(this[_0x3ae93e(0x6b1)]=_0x530452,this['observer'][_0x3ae93e(0x457)](this));}[_0x136916(0x4ca)](_0x18a762,_0x5848a4){const _0x1cb4ec=_0x136916;if(this[_0x1cb4ec(0x38b)]['has'](_0x18a762))return;const _0x4d9936=this[_0x1cb4ec(0x366)][_0x1cb4ec(0x67e)](_0x5848a4);this[_0x1cb4ec(0x38b)][_0x1cb4ec(0x5ff)](_0x18a762,_0x4d9936);}['unregisterCluster'](_0x14d295){const _0x3e3e27=_0x136916;if(!this['joinedClusters']['has'](_0x14d295))return;const _0x5bab00=this[_0x3e3e27(0x38b)][_0x3e3e27(0x2b0)](_0x14d295);_0x5bab00&&_0x5bab00(),this[_0x3e3e27(0x38b)][_0x3e3e27(0x21d)](_0x14d295);}}class _0x2c4ab9{[_0x136916(0x180)];['user'];constructor(_0x2b95d2){const _0x17e195=_0x136916;this[_0x17e195(0x180)]=_0x2b95d2;}async[_0x136916(0x43a)](_0x2511af){const _0x10e7ce=_0x136916,_0x48fc72=await(0x0,_0x2551ca[_0x10e7ce(0x6ff)])(_0x329b41[_0x10e7ce(0x2fc)](),_0x10e7ce(0x18c))({'uid':_0x10e7ce(0x596)+this['vendorId']+_0x10e7ce(0x596)+_0x2511af['id']}),_0xdc6cca=await(0x0,_0x43f400[_0x10e7ce(0x611)])(_0x329b41[_0x10e7ce(0x270)](),_0x48fc72[_0x10e7ce(0x757)][_0x10e7ce(0x5b7)]);this[_0x10e7ce(0x135)]=_0xdc6cca[_0x10e7ce(0x135)];}async[_0x136916(0x715)](){const _0x2fc5ae=_0x136916;await(0x0,_0x43f400[_0x2fc5ae(0x715)])(_0x329b41[_0x2fc5ae(0x270)]());}['getIdToken'](){const _0x3a2eaf=_0x136916;return this[_0x3a2eaf(0x135)]?.[_0x3a2eaf(0x5f5)]()??Promise[_0x3a2eaf(0xff)](_0x3a2eaf(0x407));}}class _0x36b299{static [_0x136916(0x756)];[_0x136916(0x42f)]=[];constructor(){}static[_0x136916(0x387)](){const _0x2974bc=_0x136916;return _0x36b299[_0x2974bc(0x756)]||(_0x36b299[_0x2974bc(0x756)]=new _0x36b299()),_0x36b299[_0x2974bc(0x756)];}[_0x136916(0x3ca)](){const _0x4b98d4=_0x136916;this[_0x4b98d4(0x13e)](),this['checkMediaStream'](),this[_0x4b98d4(0x706)](),this['checkAudioVolume'](),this['checkDeviceConfig'](),this[_0x4b98d4(0x6de)](),this[_0x4b98d4(0x5d8)](),this[_0x4b98d4(0x755)](),this['checkWebGL'](),this[_0x4b98d4(0x4ea)](),_0x148f53[_0x4b98d4(0x2f4)](_0x19b950[_0x4b98d4(0x4fa)],_0x4b98d4(0x34c),{'featureSupport':this[_0x4b98d4(0x42f)]});}[_0x136916(0x57e)](_0x27b3a4){const _0x2f57fc=_0x136916,_0x5c2425=this[_0x2f57fc(0x42f)][_0x2f57fc(0x21f)](_0x18d2dc=>_0x18d2dc['name']===_0x27b3a4);return!!_0x5c2425&&_0x5c2425[_0x2f57fc(0x5cb)];}['logSupport'](_0x200acf){const _0x202502=_0x136916;_0x148f53[_0x202502(0x70d)](_0x202502(0x6b2),{'nodeId':_0x200acf['getId'](),'nodeType':_0x200acf['type'],'data':{'featureSupport':this['featureSupport']}});}[_0x136916(0x13e)](){const _0xc36690=_0x136916,_0xda0b0b=_0x4c1e32[_0xc36690(0x141)];let _0x192342=!0x1;_0xc36690(0x410)==typeof RTCPeerConnection&&_0xc36690(0x410)==typeof RTCIceCandidate&&_0xc36690(0x410)==typeof RTCSessionDescription?_0x192342=!0x0:_0x148f53[_0xc36690(0x2f4)](_0x19b950[_0xc36690(0x4fa)],_0xc36690(0x454)+_0xda0b0b+_0xc36690(0x651)),this['featureSupport'][_0xc36690(0x5ac)]({'name':_0xda0b0b,'supported':_0x192342});}[_0x136916(0x525)](){const _0x52f258=_0x136916,_0x37a4a9=_0x4c1e32[_0x52f258(0x48a)];let _0x17ec06=!0x1;_0x52f258(0x410)==typeof MediaStream&&_0x52f258(0x410)==typeof MediaStreamTrack&&_0x52f258(0x136)==typeof navigator&&'object'==typeof navigator[_0x52f258(0x341)]&&'function'==typeof navigator[_0x52f258(0x341)][_0x52f258(0x568)]?_0x17ec06=!0x0:_0x148f53['log'](_0x19b950[_0x52f258(0x4fa)],_0x52f258(0x454)+_0x37a4a9+'\x20not\x20supported'),this[_0x52f258(0x42f)]['push']({'name':_0x37a4a9,'supported':_0x17ec06});}[_0x136916(0x706)](){const _0x2d7d81=_0x136916,_0x3f3080=_0x4c1e32[_0x2d7d81(0x50c)];let _0x84a0df=!0x1;_0x2d7d81(0x136)==typeof navigator&&_0x2d7d81(0x136)==typeof navigator[_0x2d7d81(0x341)]&&_0x2d7d81(0x410)==typeof navigator[_0x2d7d81(0x341)]['getDisplayMedia']?_0x84a0df=!0x0:_0x148f53[_0x2d7d81(0x2f4)](_0x19b950[_0x2d7d81(0x4fa)],_0x2d7d81(0x454)+_0x3f3080+_0x2d7d81(0x651)),this[_0x2d7d81(0x42f)]['push']({'name':_0x3f3080,'supported':_0x84a0df});}[_0x136916(0x459)](){const _0x36e053=_0x136916,_0x1c562a=_0x4c1e32[_0x36e053(0x1fd)];let _0x2e2363=!0x1;'function'!=typeof AudioContext||_0x36e053(0x410)!=typeof ScriptProcessorNode&&_0x36e053(0x410)!=typeof AudioWorkletNode||_0x36e053(0x410)!=typeof MediaStreamAudioSourceNode?_0x148f53[_0x36e053(0x2f4)](_0x19b950[_0x36e053(0x4fa)],'Support:\x20'+_0x1c562a+'\x20not\x20supported'):_0x2e2363=!0x0,this['featureSupport']['push']({'name':_0x1c562a,'supported':_0x2e2363});}[_0x136916(0x57f)](){const _0x376a33=_0x136916,_0x147516=_0x4c1e32[_0x376a33(0x2de)];let _0xd261ff=!0x1;_0x376a33(0x136)==typeof navigator&&_0x376a33(0x136)==typeof navigator['mediaDevices']&&'function'==typeof navigator['mediaDevices']['enumerateDevices']&&_0x376a33(0x410)==typeof MediaDeviceInfo?_0xd261ff=!0x0:_0x148f53[_0x376a33(0x2f4)](_0x19b950['Support'],_0x376a33(0x454)+_0x147516+_0x376a33(0x651)),this['featureSupport'][_0x376a33(0x5ac)]({'name':_0x147516,'supported':_0xd261ff});}[_0x136916(0x6de)](){const _0x157c0f=_0x136916,_0x4c4f9=_0x4c1e32['AudioOutput'];let _0x13a7df=!0x1;_0x157c0f(0x136)==typeof document&&_0x157c0f(0x410)==typeof document[_0x157c0f(0x4a1)]('video')['setSinkId']?_0x13a7df=!0x0:_0x148f53[_0x157c0f(0x2f4)](_0x19b950['Support'],_0x157c0f(0x454)+_0x4c4f9+_0x157c0f(0x651)),this[_0x157c0f(0x42f)]['push']({'name':_0x4c4f9,'supported':_0x13a7df});}async[_0x136916(0x5d8)](){const _0x322b6a=_0x136916,_0x167532=_0x4c1e32['Recording'];let _0x3bfd87=!0x1;try{const _0x4ff5c1=document[_0x322b6a(0x4a1)]('canvas');if(MediaRecorder&&MediaSource&&_0x4ff5c1[_0x322b6a(0x347)]){const _0x320422=_0x4ff5c1[_0x322b6a(0x347)](),_0x2a3d3e=new MediaRecorder(_0x320422);_0x2a3d3e[_0x322b6a(0x5e7)](),await new Promise(_0x365032=>setTimeout(_0x365032,0x7d0)),_0x2a3d3e[_0x322b6a(0x4d0)](),_0x3bfd87=_0x322b6a(0x5b4)===_0x2a3d3e[_0x322b6a(0x5ec)];}}catch(_0x255be8){_0x148f53[_0x322b6a(0x2f4)](_0x19b950['Support'],_0x322b6a(0x454)+_0x167532+_0x322b6a(0x6dd),_0x255be8);}this[_0x322b6a(0x42f)][_0x322b6a(0x5ac)]({'name':_0x167532,'supported':_0x3bfd87}),_0x3bfd87||_0x148f53[_0x322b6a(0x2f4)](_0x19b950['Support'],_0x322b6a(0x454)+_0x167532+_0x322b6a(0x651));}['checkBackgrounds'](){const _0x331cb6=_0x136916,_0xada384=_0x4c1e32[_0x331cb6(0x15c)];let _0x326f4e=!0x1;try{document[_0x331cb6(0x4a1)](_0x331cb6(0x5d3))[_0x331cb6(0x347)]&&(_0x326f4e=!0x0);}catch(_0xf76b0){_0x148f53[_0x331cb6(0x2f4)](_0x19b950['Support'],'Support:\x20'+_0xada384+'\x20check\x20failed',_0xf76b0);}this[_0x331cb6(0x42f)][_0x331cb6(0x5ac)]({'name':_0xada384,'supported':_0x326f4e}),_0x326f4e||_0x148f53[_0x331cb6(0x2f4)](_0x19b950[_0x331cb6(0x4fa)],'Support:\x20'+_0xada384+'\x20not\x20supported');}[_0x136916(0x440)](){const _0xdb9a4f=_0x136916,_0x565d39=_0x4c1e32['WebGL'];let _0x581dc7=!0x1;try{const _0x49a61c=document['createElement'](_0xdb9a4f(0x5d3));WebGLRenderingContext&&_0x49a61c[_0xdb9a4f(0x700)](_0xdb9a4f(0xe9))&&(_0x581dc7=!0x0);}catch(_0x4d6be7){_0x148f53[_0xdb9a4f(0x2f4)](_0x19b950[_0xdb9a4f(0x4fa)],_0xdb9a4f(0x454)+_0x565d39+_0xdb9a4f(0x6dd),_0x4d6be7);}this[_0xdb9a4f(0x42f)][_0xdb9a4f(0x5ac)]({'name':_0x565d39,'supported':_0x581dc7}),_0x581dc7||_0x148f53[_0xdb9a4f(0x2f4)](_0x19b950['Support'],_0xdb9a4f(0x454)+_0x565d39+_0xdb9a4f(0x651));}[_0x136916(0x4ea)](){const _0x49905c=_0x136916,_0x1b7bd7=_0x4c1e32[_0x49905c(0x383)];let _0x30a993=!0x1;_0x49905c(0x410)==typeof AudioContext?_0x30a993=!0x0:_0x148f53['log'](_0x19b950['Support'],_0x49905c(0x454)+_0x1b7bd7+_0x49905c(0x651)),this[_0x49905c(0x42f)][_0x49905c(0x5ac)]({'name':_0x1b7bd7,'supported':_0x30a993});}}const _0x28887f=_0x36b299['getInstance']();class _0x40b2b4{static ['instance'];static [_0x136916(0xef)];[_0x136916(0x1ca)];[_0x136916(0x180)];[_0x136916(0x4a8)];[_0x136916(0x6a3)];[_0x136916(0x3f9)]=new Map();[_0x136916(0x504)];constructor(_0x353a26,_0x90037e,_0x1bd752){const _0x186ced=_0x136916;this[_0x186ced(0x180)]=_0x353a26,this[_0x186ced(0x6a3)]=_0x90037e,this[_0x186ced(0x1ca)]=new _0x2c4ab9(this[_0x186ced(0x180)]),_0x28887f[_0x186ced(0x3ca)](),this['options']={'audioContext':_0x1bd752?.[_0x186ced(0x73a)]??(_0x28887f['isFeatureSupported'](_0x4c1e32[_0x186ced(0x383)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x1bd752?.[_0x186ced(0x4be)]??0x1,'minConnections':_0x1bd752?.[_0x186ced(0x6be)]??0x3,'maxConnections':_0x1bd752?.[_0x186ced(0x357)]??(_0x1bd752?.['minConnections']&&0x4*_0x1bd752[_0x186ced(0x6be)])??0xc,'maxDistance':_0x1bd752?.['maxDistance']??0xa,'maxFps':_0x1bd752?.[_0x186ced(0x681)]??0x18,'maxBpp':_0x1bd752?.['maxBpp']??0.12,'objectStoreConnector':_0x1bd752?.[_0x186ced(0x3f7)]??_0x160afc[_0x186ced(0x528)],'keyValueDatabaseConnector':_0x1bd752?.[_0x186ced(0x24b)]??_0xf08d9e['IDBDatabaseConnector'],'peerConnectionConnector':_0x1bd752?.[_0x186ced(0x3ab)]??_0x12a860[_0x186ced(0x17f)],'generativeAIWorkerConnector':_0x1bd752?.[_0x186ced(0x4e4)],'vectorDatabaseConnector':_0x1bd752?.[_0x186ced(0x61c)]},_0x1bd752?.['disableIntervalHack']&&this[_0x186ced(0x4a8)][_0x186ced(0x73a)]&&_0xa9e155['startNoThrottlingHack'](this[_0x186ced(0x4a8)][_0x186ced(0x73a)]),_0x148f53['setVendorId'](this[_0x186ced(0x180)]),_0x1bd752?.[_0x186ced(0x6cf)]&&_0x148f53[_0x186ced(0x564)](_0x1bd752[_0x186ced(0x6cf)]);}static async[_0x136916(0x387)](_0xc98735,_0x411a07,_0x3b13bc,_0x83c3c9){const _0x1556a5=_0x136916,_0x190487=await this[_0x1556a5(0x4e9)](_0xc98735,_0x411a07,_0x83c3c9);return _0x40b2b4['instance']||(_0x40b2b4['instance']=new _0x40b2b4(_0xc98735,_0x190487,_0x3b13bc)),{'close':_0x40b2b4['instance']['close']['bind'](_0x40b2b4[_0x1556a5(0x756)]),'authenticateUser':_0x40b2b4[_0x1556a5(0x756)][_0x1556a5(0x20e)]['bind'](_0x40b2b4[_0x1556a5(0x756)]),'authenticateAgent':_0x40b2b4['instance'][_0x1556a5(0x1a7)][_0x1556a5(0x72c)](_0x40b2b4[_0x1556a5(0x756)]),'joinCluster':_0x40b2b4[_0x1556a5(0x756)][_0x1556a5(0x47c)]['bind'](_0x40b2b4[_0x1556a5(0x756)])};}static async[_0x136916(0x3b6)](){const _0x13f206=_0x136916;return _0x329b41[_0x13f206(0x147)]();}static[_0x136916(0x5b3)](){const _0x5672bd=_0x136916;return _0x397e91[_0x5672bd(0x5b3)];}async[_0x136916(0x348)](){const _0x32d2ec=_0x136916;this['clusters'][_0x32d2ec(0x1b3)](_0x5e02b2=>{const _0x1e77aa=_0x32d2ec;_0x5e02b2[_0x1e77aa(0x5dc)](),_0x5e02b2['leave']();}),this[_0x32d2ec(0x3f9)]['clear'](),this[_0x32d2ec(0x4a8)][_0x32d2ec(0x73a)]&&_0xa9e155[_0x32d2ec(0x28e)](),_0x40b2b4[_0x32d2ec(0xef)]?.(),_0x40b2b4['unsubscribe']=void 0x0,this[_0x32d2ec(0x504)]=void 0x0,await this[_0x32d2ec(0x1ca)]['signOut'](),_0x40b2b4[_0x32d2ec(0x756)]=void 0x0;}static async[_0x136916(0x4e9)](_0x505c61,_0x1cb210,_0x2f5bcf){const _0x342149=_0x136916;let _0x29155b;try{_0x29155b=await(0x0,_0x2551ca[_0x342149(0x6ff)])(_0x329b41[_0x342149(0x2fc)](),_0x342149(0x4ac))({'vendorId':_0x505c61,'accessToken':_0x1cb210,'secretKey':_0x2f5bcf});}catch(_0x1ef31b){throw new _0x4b5cf3(_0x235d31[_0x342149(0x6f6)],_0x342149(0x46f));}if(!this[_0x342149(0x25b)](_0x29155b[_0x342149(0x757)]))throw new _0x4b5cf3(_0x235d31[_0x342149(0x6f6)],'Invalid\x20credentials');const _0x3c99dd=_0x29155b[_0x342149(0x757)];return _0x3c99dd[_0x342149(0x255)]||(_0x3c99dd[_0x342149(0x255)]=[]),this['unsubscribe']||(this[_0x342149(0xef)]=_0xa9e155['setInterval'](async()=>{const _0x394e94=_0x342149;try{const _0x13202a=await this[_0x394e94(0x4e9)](_0x505c61,_0x1cb210,_0x2f5bcf);_0x3c99dd['iceServers']=_0x13202a[_0x394e94(0x37b)];}catch(_0x42ea86){}},0x1b7740)),_0x3c99dd;}async[_0x136916(0x20e)](_0xef7ea1){const _0x37e1e3=_0x136916;await this[_0x37e1e3(0x1ca)]['signInWithCredential'](_0xef7ea1);const _0x40a777=new _0x57239a(_0xef7ea1['id'],_0xef7ea1['displayName'],_0xef7ea1[_0x37e1e3(0x6b1)]);return this['authContext']={'node':_0x40a777},_0x28887f[_0x37e1e3(0x631)](_0x40a777),{'type':_0x1095f4['NodeType']['User'],'getId':_0x40a777[_0x37e1e3(0x716)][_0x37e1e3(0x72c)](_0x40a777),'getDisplayName':_0x40a777['getDisplayName'][_0x37e1e3(0x72c)](_0x40a777),'getEmail':_0x40a777[_0x37e1e3(0x34f)][_0x37e1e3(0x72c)](_0x40a777),'setDisplayName':_0x40a777[_0x37e1e3(0x64f)][_0x37e1e3(0x72c)](_0x40a777),'setEmail':_0x40a777[_0x37e1e3(0x40a)][_0x37e1e3(0x72c)](_0x40a777)};}async['authenticateAgent'](_0x434a36){const _0x23bb74=_0x136916,{id:_0x58022f,groupId:_0x25e665}=_0x434a36,_0x2aa529=await(0x0,_0x1d882b[_0x23bb74(0x25d)])((0x0,_0x1d882b['doc'])(_0x329b41[_0x23bb74(0x61b)](),_0x23bb74(0x3a1)+this[_0x23bb74(0x180)]+_0x23bb74(0x465)+_0x25e665));if(!_0x2aa529[_0x23bb74(0x5a9)]())throw new _0x4b5cf3(_0x235d31[_0x23bb74(0x186)],_0x23bb74(0x5c6));const _0x5527d7=_0x2aa529[_0x23bb74(0x757)]();await this[_0x23bb74(0x1ca)][_0x23bb74(0x43a)]({'id':_0x58022f});const _0x1901fd=new _0x99f262(_0x58022f,_0x25e665,this['vendorId'],_0x5527d7);return this['authContext']={'node':_0x1901fd},_0x28887f[_0x23bb74(0x631)](_0x1901fd),await this[_0x23bb74(0x77c)](_0x1901fd),{'type':_0x1095f4[_0x23bb74(0x60b)][_0x23bb74(0x6fd)],'getId':_0x1901fd[_0x23bb74(0x716)][_0x23bb74(0x72c)](_0x1901fd),'onConfigurationChange':_0x1901fd[_0x23bb74(0x767)]['bind'](_0x1901fd),'setReportCapacity':_0x1901fd['setReportCapacity'][_0x23bb74(0x72c)](_0x1901fd)};}async[_0x136916(0x47c)](_0x20ab10){const _0x5e548f=_0x136916;if(!this[_0x5e548f(0x504)])throw new _0x4b5cf3(_0x235d31[_0x5e548f(0x186)],_0x5e548f(0x1b4));if(this['authContext'][_0x5e548f(0x228)]['type']!==_0x1095f4['NodeType'][_0x5e548f(0x565)])throw new _0x4b5cf3(_0x235d31[_0x5e548f(0x6c2)],_0x5e548f(0x696));if(this[_0x5e548f(0x3f9)][_0x5e548f(0x2b3)](_0x20ab10))throw new _0x4b5cf3(_0x235d31['ClusterAlreadyJoined'],_0x5e548f(0x4b4));const _0x1f2db6=new _0x2226c9(this[_0x5e548f(0x180)],_0x20ab10,this[_0x5e548f(0x504)][_0x5e548f(0x228)],this[_0x5e548f(0x1ca)],this[_0x5e548f(0x4a8)],this[_0x5e548f(0x6a3)]);return await _0x1f2db6['join'](),this[_0x5e548f(0x198)](_0x20ab10,_0x1f2db6),_0x148f53['logEvent']('join-cluster',{'clusterId':_0x20ab10,'nodeId':this[_0x5e548f(0x504)][_0x5e548f(0x228)][_0x5e548f(0x716)](),'nodeType':this[_0x5e548f(0x504)][_0x5e548f(0x228)][_0x5e548f(0x3fa)]}),{'leave':_0x1f2db6['leave'][_0x5e548f(0x72c)](_0x1f2db6),'getLocalNode':_0x1f2db6[_0x5e548f(0x6b3)][_0x5e548f(0x72c)](_0x1f2db6),'openPubSubTopic':_0x1f2db6[_0x5e548f(0x4ec)]['bind'](_0x1f2db6),'openObjectStoreBucket':_0x1f2db6[_0x5e548f(0x384)][_0x5e548f(0x72c)](_0x1f2db6),'openKeyValueDatabase':_0x1f2db6['openKeyValueDatabase']['bind'](_0x1f2db6),'openGenerativeAIContext':_0x1f2db6[_0x5e548f(0xed)]['bind'](_0x1f2db6),'openGenerativeAIWorker':_0x1f2db6[_0x5e548f(0x343)][_0x5e548f(0x72c)](_0x1f2db6),'publishLocalMediaStream':_0x1f2db6[_0x5e548f(0x6d9)][_0x5e548f(0x72c)](_0x1f2db6),'publishLocalDynamicMediaStream':_0x1f2db6[_0x5e548f(0x691)][_0x5e548f(0x72c)](_0x1f2db6),'getPubSubTopics':_0x1f2db6[_0x5e548f(0x46e)][_0x5e548f(0x72c)](_0x1f2db6),'getObjectStoreBuckets':_0x1f2db6[_0x5e548f(0x498)]['bind'](_0x1f2db6),'getKeyValueDatabases':_0x1f2db6[_0x5e548f(0x62e)]['bind'](_0x1f2db6),'getGenerativeAIContexts':_0x1f2db6['getGenerativeAIContexts'][_0x5e548f(0x72c)](_0x1f2db6),'getGenerativeAIWorkers':_0x1f2db6[_0x5e548f(0x3bd)][_0x5e548f(0x72c)](_0x1f2db6),'getLocalMediaStreams':_0x1f2db6[_0x5e548f(0x163)][_0x5e548f(0x72c)](_0x1f2db6),'getRemoteMediaStreams':_0x1f2db6[_0x5e548f(0x5d7)][_0x5e548f(0x72c)](_0x1f2db6),'getRemoteNodes':_0x1f2db6[_0x5e548f(0x38f)]['bind'](_0x1f2db6),'on':_0x1f2db6['on'][_0x5e548f(0x72c)](_0x1f2db6),'off':_0x1f2db6[_0x5e548f(0x5dc)][_0x5e548f(0x72c)](_0x1f2db6)};}async[_0x136916(0x77c)](_0x309f24){const _0x3188e5=_0x136916;for(const _0x1c98c8 of _0x309f24['agentConfig'][_0x3188e5(0x3f9)]){const _0x2b2c4c=new _0x2226c9(this['vendorId'],_0x1c98c8['id'],_0x309f24,this[_0x3188e5(0x1ca)],this[_0x3188e5(0x4a8)],this[_0x3188e5(0x6a3)]);await _0x2b2c4c[_0x3188e5(0x471)](),this['addCluster'](_0x1c98c8['id'],_0x2b2c4c);for(const _0x18ee4f of _0x1c98c8[_0x3188e5(0x5a6)])_0x2b2c4c[_0x3188e5(0x4ec)](_0x18ee4f);for(const _0x165379 of _0x1c98c8['objectStorage'])await _0x2b2c4c[_0x3188e5(0x384)](_0x165379);for(const _0xc5d411 of _0x1c98c8['keyValueDatabase'])await _0x2b2c4c[_0x3188e5(0x761)](_0xc5d411,{'version':0x1,'tables':{}});for(const _0x491246 of _0x1c98c8[_0x3188e5(0x33a)])await _0x2b2c4c[_0x3188e5(0x343)](_0x491246);}}['addCluster'](_0x4d997e,_0x9ed804){const _0x52e774=_0x136916;this[_0x52e774(0x3f9)][_0x52e774(0x5ff)](_0x4d997e,_0x9ed804),_0x9ed804['on'](_0x52e774(0x327),()=>{const _0x392aa8=_0x52e774;_0x9ed804[_0x392aa8(0x5dc)](),this['clusters']['delete'](_0x4d997e);});}static[_0x136916(0x25b)](_0x15c411){const _0x1bd7e=_0x136916;return void 0x0!==_0x15c411[_0x1bd7e(0x37b)];}}return _0x28efdc;})())));function a0_0x532f(_0x5971e4,_0x2d3932){const _0x5792a2=a0_0x5792();return a0_0x532f=function(_0x532f87,_0x37d621){_0x532f87=_0x532f87-0xe8;let _0x4edec9=_0x5792a2[_0x532f87];return _0x4edec9;},a0_0x532f(_0x5971e4,_0x2d3932);}function a0_0x5792(){const _0x298078=['https://crewdle-sdk-stg-default-rtdb.firebaseio.com','toStringTag','Amplify','getResolutionScale','max','Answer','logEvent','sendFile','/nodes/','removeKeyValueDatabase','connections','PeerConnectionInvalidDestination','parse','ref','signOut','getId','getClosestNodes','ObjectStoreStats','RemoteMediaStreamInvalidSubscriptionParams','frameHeight','setInterval','enabled','appsync-connect','folder-create','Accepted','Failed\x20to\x20create\x20job\x20service','RemoteMediaStreamAlreadyExists','configure','ClusterAlreadyJoined','pubSubTopics','processSenderReport','sendStats','isMediaDestination','stringify','publishSyncCompletedAfterWrites','discover','trackKinds','bind','Subject','internal','JobWorker:\x20Received\x20job\x20attribution','setTransformations','PeerConnection','setupStatsCollection','action','inbound-rtp','Attempt\x20','crewdleSDKEnableLogging','publishFile','generative-ai-worker-missing-connectors','videoWidth','audioContext','agent-join','us-east-1','all','Subscription\x20request\x20failed.','CloseMediaStream','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','st_volatility','outputTokens','Local\x20node\x20rank\x20is\x20not\x20set','remediationManager','Data','restartTimeout','StorageEventType','unregisterSystemPublisher','RemoteRemediation','FPS','cpu.av_delay','clockSkew','systemTopic','key-value-database-invalid-query','getTable','loadExistingContent','generativeAIWorkers','Internal\x20SDK\x20Error:\x20','SyncComplete','ownerId','checkBackgrounds','instance','data','job-dispatcher-creation-failed','add','subscription','removeSubscriptionsForNode','secheduleTime','streamId','systemMessagesReceived','remote-media-stream-invalid-subscription-params','reportCapacity','openKeyValueDatabase','AI\x20Service\x20already\x20exists','STVolatility','logServiceEvent','signaling','handleFolderCreate','onConfigurationChange','outgoingManager','StreamReport','getProviderId','startNoThrottlingHack','addVideoTrack','Jitter','handleCloseJobDispatcher','trackEndedListeners','ConnectionNoRetryQueue','56646801jMxKcE','createFolder','object-store-invalid-sync-message','map','complete','Cannot\x20list\x20directory:\x20','handleCloseObjectStore','moveObject','\x20already\x20exists.','incrementVersion','isFailedResponse','connectAgent','table','processServiceReport','webgl','JobWorker:\x20Sending\x20job\x20bid','graphService','getGenerativeAIContexts','openGenerativeAIContext','currentVersion','unsubscribe','Subscription\x20request\x20has\x20not\x20been\x20answered.','sourceId','getApp','onBufferedAmountLow','Folder','Pending','Remote\x20connection\x20already\x20exists.','getOwnerId','Move','maxResolution','setupListeners','PubSubTopic\x20onMessage','getSettings','Chosen\x20answer','createDataChannel','reject','getJobs','Database\x20does\x20not\x20exist','Local\x20MediaStream\x20already\x20exists','stream','statsManager','threshold','handleObjectMove','upgrade','handleRemediationSystemEvents','FolderCreate','updateLastUpdated','timeoutCallback','getStatus','object-storage','jitter','maps','publishTransaction','handleSubscriptionUnsubscribeMediaStream','string','connecting','handleError','Delete','crewdle-sdk-stg.appspot.com','receiverCurrentTimestamp','disconnect','processBatch','pendingFilesTransactions','eventListener','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','Error','RemoteRemove','registeredListeners','Subscription','getSubscribedTracks','RemoteAdd','clusterEventEmitter','PubSub','clearUpgradeTimeout','All','emit','joinedAt','FileWrite','indexes','publishMove','handleSystemEvents','limit','firebase-disconnect','writeFile','query-helper-invalid-argument','messageUnsubscriber','getMaxConnections','CrewdleSenderConnection\x20createOffer','discoveryUnsubscriber','user','object','number','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','sendTransactionsValue','lastExecuted','registerSource','Cannot\x20get\x20file:\x20','\x20-\x20','checkWebRTC','Key-value\x20database\x20table\x20does\x20not\x20exist.','batchSize','WebRTC','addContent','byteLength','count','dbKey','messageType','getEstimatedTimestamp','handleFileRequestAnswer','random','local-media-stream-no-audio-context','isSubscribed','internal-sdk-error','clearOncloseTimeout','cluster','File','retryQueues','firebase-connect','videoHeight','getSubscriptionLabel','now','createRemoteNode','GenerativeAIWorkerStats','removeTrackCallback','sendTransactionsDump','floor','output','move','Backgrounds','getSupportedContentTypes','replaceTrack','orderBy','object-store-already-exists','fileChunks','getMediaStream','getLocalMediaStreams','/objectstores/','CloseKeyValueDatabase','addCandidate','Everyone\x20','disconnected','listen','cancel','isWhereValues','JobWorkerInvalidType','resetConnection','removeRemoteNode','setupConnectionEvents','\x20-\x20Sending\x20propagation\x20(','-leave','childRemovedUnsubscriber','groupId','timeSending','Connection\x20not\x20connected.','SHA-1','replace','KeyValueDatabaseStats','Job\x20Dispatcher\x20already\x20exists','handleRequestPayload','FramePerSecond','addIssue','isJobAttribution','onChildRemoved','WebRTCBrowserPeerConnectionConnector','vendorId','transactionTable','Job\x20with\x20id\x20','connectionConstructor','Unsupported\x20job\x20type','getRemoteId','NodeNotAuthenticated','sendFileRequestPayload','Invalid\x20peer\x20connection\x20event\x20destination.','Offline','startHeartbeat','__esModule','sdkCreateToken','generative-ai-context-job-failed','CannotProvideMediaStream','KeyValueDatabaseNameNotString','createAnswer','setLocalRank','SubscriptionRequestNoAnswer','Internal\x20unknown\x20error:\x20','responseTimeout','createRemoteMediaStream','onConnectionStateChange','getTime','addCluster','dispatchEvent','node-already-exist','JobStream','setReportCapacity','getModel','Stream\x20already\x20exists','MediaStreamPriority','waitForSyncComplete','inputTokens','currentFrames','setTimeout','enabledChannels','object-store-invalid-payload','\x20failed.\x20Retrying...','authenticateAgent','remoteId','onValue','setReceiverBytes','messageBuffer','handleContentClosePubSubTopic','NodeUpdate','CrewdleConnection\x20handlePeerConnectionSystemEvents','frameTime','pub-sub-topic-does-not-exist','audio','debugEnabled','forEach','Node\x20not\x20authenticated','kind','CrewdleConnectionGroup','subscribeToContent','connectionManager','handleContentUnpublishMediaStream','bytesSent','maxFramerate','node-invalid-type','catch','No\x20global\x20object\x20found','removeLocalMediaStream','collectStats','AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','stopConnection','Stats','remote-stream-missing-provider-id','arrayBufferToObject','Invalid\x20data\x20event.','processOutboundReports','handleDisconnect','totalEncodeTime','authService','LocalMediaStreamTrackFail','answers','currentDistance','Connection\x20does\x20not\x20exist.','getLayout','subscriptionManager','senderPreviousBytes','findIndex','key-value-database-transaction-value-not-set','senderStreams','removeIncomingSubscription','Job','MissingRemoteConnection','detection','framesEncoded','Method\x20not\x20implemented.','handleContentUnsubscribeMediaStream','createObjectStoreBucket','discoveryService','processJob','InvalidSubscription','subscriptionRequests','toString','removeOutgoingSubscription','addEventListener','val','Medium','getName','SubscribeMediaStream','Request','Invalid\x20subscription.','tableObserver','counter','validateQuery','pendingSyncTransactions','destroy','Buffering\x20event','RequestSyncKeyValueDatabase','processRank','clearSyncTimeout','setProviderId','getSenderBitrate','heartbeatUnsubscriber','logConnectionState','generative-ai-label-conflict','senderCurrentBytes','interval','processInboundReport','Completed','compareTransactions','AudioVolume','destination','AppSync\x20client\x20not\x20ready','logStorage','systemTopicUnsubscribe','subscription-request-no-answer','Disconnect','setCurrentVersion','createSubscription','onClose','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','setScheduleTime','canRestartHandshake','handlePublishMediaStream','retryQueue','AppSync\x20connection\x20not\x20ready','NeedMediaStream','authenticateUser','tableLayout','appsync-close','Received\x20track','transactionsToSync','Success','operations','All\x20recipients\x20already\x20received','size','createLocalMediaStream','query','handleOutgoingSystemEvents','parameters','system','ancestors','delete','\x20created\x20and\x20dispatched.','find','removeJobWorker','callback','orderByKey','reads','receiverCurrentBytes','Cannot\x20publish\x20move\x20operation:\x20','Job\x20','jobObservers','node','clearSubscriptionRequestTimeout','List','component','remediations','getInternalTrackParams','remove','file-write','Add','updateDebounce','includes','ObjectStoreNotInSync','reset','setupTrackEndedListeners','initializeApp','NodeManager\x20-\x20ConnectionSuccess','handleJobAttribution','pathName','\x20to\x20send\x20dispatcherJob\x20','removeEventListener','appsync-connect-fail','chooseAnswer','handleSuccess','list','objectStores','collection','getAudioVideoDelay','handleContentCloseMediaStream','findNextAncestor','isResultResponse','job-worker-creation-failed','NodeManager\x20-\x20PublishNodeLeave','LocalMediaStreamAlreadyExists','restartHandshake','writeBatch','keyValueDatabaseConnector','GenerativeAIContextInvalidPartialResult','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','assign','detectStreamIssues','asObservable','compileStats','processRemoteInboundReport','handleSubscriptionSubscribeMediaStream','Failed\x20to\x20send\x20job\x20','features','outgoing-stream-no-topic','subscribeToJobs','CloseJobDispatcher','height','direction','isInternalSDKConfigs','JobDispatcherJobNotFound','getDoc','Invalid\x20query','Invalid\x20data\x20channel.','LoggingService:\x20logging\x20enabled\x20for','answererId','wait','lastCapacityReport','indexOf','setRank','KeyValueDatabase','receiverConnection','/stats','canChooseAnswer','ai-worker-','setStatus','getLastUpdated','cleanOldSubscription','DatabaseEvent','values','getAuth','DataChannel\x20is\x20not\x20open.','transactionIds','PubSub\x20already\x20exists','handleMissingSenders','connection-not-initialized','packetsSent','newPath','buildTableEvent','Store\x20already\x20exists','processOutboundReport','successNotified','tableUnsubscriber','Waiting','hasRemoteNode','High','result','Resolution','muted','\x20after\x20','timePerFrame','receivers','message','removePubSubTopic','job-dispatcher-job-not-found','DEBUG\x20-\x20','onremovetrack','amd','KeyValueDatabaseDoesNotExist','Rejected','stopNoThrottlingHack','connectionState','JobWorker:\x20Sending\x20job\x20result','keyValueDatabases','Error\x20encountered\x20while\x20opening\x20database','updateDebounceTimeout','KeyValueDatabaseIndexNotFound','setupResizeHandler','key-value-database','reportMetric','TimePerFrame','getJob','transaction','handleStatsSystemEvents','node-type-not-supported','localMediaStreams','srcObject','resolution','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','Missing\x20remote\x20node\x20or\x20rank','removeObjectStore','handleNodeSystemEvents','logBatch','completed','getShareableStream','startAt','Database\x20already\x20exists','key-value-database-not-open','invalid-access','handshakeDebounce','getAvailableTrackKinds','getChannelData','getPriority','handleNoAnswer','get','mediaTopics','app','has','getLabel','maxLayer','Jobs','createJob','completeSync','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','setSenderTimestamp','closeTopic','syncTimeout','key-value-database-invalid-layout','GenerativeAIContextStats','setPendingFileSyncingPayload','manageAncestor','crewdleSDKDisableLogging','ObjectStoreNotSynced','subscription-request-failed','connection-not-connected','getVideoTracks','PubSubTopicAlreadySubscribed','getBitrate','/nodes','createGenerativeAIWorker','jobWorkerConnector','Core','Job\x20worker\x20creation\x20failed.','detectLocalIssues','displayName','unregisterDestination','sendAction','dataChannel','local-media-stream-already-exists','Send\x20request','remediation','disconnectCallback','senders','validateValue','onDisconnect','job-dispatcher-observer-not-found','getTransactionFromTableWriteEvent','next','content','endsWith','DeviceConfig','ObjectStoreInvalidPayload','syncTransactionsWritten','getPartsForSubscriptionLabel','cpu.time_per_frame','encode','contentType','updated','Receiving\x20\x27','GenerativeAILabelConflict','handleIceCandidates','downgrade','GenerativeAIContextDoesNotExist','getPartsFromSubscription','unpublish','GenerativeAIContextJobTimeout','CloseJobWorker','Synced','generative-ai-context-does-not-exist','isPartialResultResponse','processLocalReport','setBytes','log','isIceCandidate','resolutionScale','Subscribing\x20to\x20an\x20event:\x20on','remote-connection-exists','handleNodeJoin','Invalid\x20key\x20\x27','Connection','getFunctions','ContentType','retry','Key-value\x20database\x20transaction\x20value\x20not\x20set.','serverTimestamp','publishNodeLeave','cpu.cycle','FolderMove','onCandidate','removeJobDispatcher','KeyValueDatabaseInvalidQuery','AppSync\x20publish','setTimestamp','publishSyncCompleted','Table\x20not\x20found','setRemoteConnections','params','setRemoteNode','processTransactionPayload','detectProblems','width','clientStream','FileDelete','request','previousBytes','Cannot\x20publish\x20file:\x20','handleContentUpdateMediaStream','registerDestination','tableName','outgoingStreams','receiverPreviousBytes','handleFileWrite','resizeHandler','remoteUnsubscriber','publishUserUpdate','evaluateBidsAndAttributeJob','retryCount','isOffer','handleUnpublishMediaStream','createIncomingSubscription','unregisterSource','clearRect','some','cluster-leave','request-accepted','KeyValueDatabaseTableNotFound','shouldContinuePropagation','end','processList','jobWorkers','ObjectStorage','handleUpdateMediaStream','unregisterPublisher','\x20finalized.','text/plain','messagesReceived','evaluatePartialJob','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','getAudioTracks','createNewBatch','handleNodeJoinNeedPublishedStream','openJobDispatcher','generativeAIContexts','trackCallback','logRaw','createReceiverConnection','startBidResponseHandling','Consuming\x20buffered\x20event','gatheringState','mediaDevices','owner','openGenerativeAIWorker','buffer','GenerativeAIContextCreationFailed','removeContent','captureStream','close','getMinConnections','maxBitrate','currentBatch','Support:\x20current\x20config','pendingHandshakeCandidates','scheduleTime','getEmail','JobDispatcherCreationFailed','capacityReporter','SystemStats','sdk-internal-error:\x20','createKeyValueDatabase','NodeConnectionsUpdate','JobDispatcherAlreadyExists','maxConnections','isNeedRestart','getCapacityReport','objectStore','MediaStream\x20feature\x20not\x20enabled','setDurationTime','setUpgradeTimeout','bitrate','Base\x20Peer\x20Connection','isValidMediaSubscriptionParams','\x20with\x20\x27','unregisterSubscriber','FolderDelete','checkSyncComplete','mediaStream','observer','loadEnabledChannels','deleteRemoteNode','label','Object\x20store\x20not\x20synced.','desc','true','PubSubTopicAlreadyExists','unregisterSystemSource','evaluateProccessedJob','sendBid','senderTotalMessages','subscriptionRequestsQueue','listenerUnsubscriber','object-store-invalid-state','entries','total','logPropagateSystemEvent','publishFolder','connection-no-retry-queue','bandwidth.rtt','iceServers','clientHeight','Failed\x20to\x20create\x20AI\x20worker','systemMessages','JobDispatcherInvalidPayload','toLocaleDateString','roundTripTime','GenerativeAIContextJobFailed','AudioContext','openObjectStoreBucket','deleteTransactionsForTable','calculateSize','getInstance','fps','statsReporting','Job\x20Worker\x20already\x20exists','joinedClusters','validateLayout','senderPreviousTimestamp','Node\x20is\x20not\x20an\x20agent','getRemoteNodes','listenerUnsubscribers','isReconnecting','eventEmitter','batch','destinationIds','localNode','getRank','ended','KeyValueDatabaseTransactionValueNotSet','syncPendingFiles','closeConnection','nodeId','AudioOutput','incomingTopic','AudioVideoDelay','LocalMediaStreamDoesNotExist','abs','developers/','Missing\x20AI\x20worker\x20connectors','Sender\x20connection\x20is\x20not\x20initialized.','isJobRequest','getSubscriptionInfo','handleObjectDelete','checksum','getHash','length','notifyClusterNodeJoin','peerConnectionConnector','DataStream','ObjectStoreDoesNotExist','updateUser','GenerativeAIWorkerCreationFailed','CONNECTION_STATE_CHANGE','getJobObservable','createGain','Bid','fromEntries','Job\x20service\x20creation\x20failed.','timestamp','handleFileSync','processReceiverReport','getCurrentVersion','prompts','unsubscribeTrackEndedListener','unsubscribeHandler','getGenerativeAIWorkers','onGatheringStateChange','extendedRecipients','orchestrator','removeItem','syncKeyValueDatabase','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','processPendingHandshakeCandidates','head','handleCloseJobWorker','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','problemType','KeyValueDatabaseTableDoesNotExist','initialize','connectionType','statsReport','splice','notifyCluster','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','firestore','Job\x20service\x20job\x20not\x20found.','request-file-sync','CloseObjectStoreBucket','Operations:','isRunning','handleContentCloseKeyValueDatabase','DataStream\x20send','Online','mute','currentBytes','Disconnected','crewdle-sdk','/transactions','accumulateResult','job-dispatcher-does-not-exist','transactionService','Default','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Mistlet\x20capacity\x20report\x20not\x20set.','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','getBid','setItem','sendRequest','receiverPreviousTimestamp','JobStatus','Update','pub-sub-topic-already-exists','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','stats','debounceProcessRank','minThreshold','processPendingSyncTransactions','GenerativeAIWorkerAlreadyExists','ConnectionNotConnected','topicLabel','shift','incomingManager','getItem','objectStoreConnector','unshift','clusters','type','providerListener','handleCloseKeyValueDatabase','Connected','Receiver','createMediaStreamSource','batchQueue','getPacketsLostPerc','data-stream','Low','Logger.getInstance','removeRemoteMediaStream','GenerativeAIContextAlreadyExists','User\x20not\x20signed\x20in','events','TestPage','setEmail','clearConnectionTimeout','handleContentSubscribeMediaStream','index','Method\x20not\x20supported','key-value-database-table-not-found','function','deletePendingFile','handleSubscriptionRestartNeedMediaStream','InternalSDKError','name','local-stream-does-not-exist','key-value-database-invalid-value','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','RemoteConnectionExists','ObjectStoreCannotWriteTransaction','GenerativeAIWorkerModelSyncError','connection','file','crewdle-sdk-stg.firebaseapp.com','RemoteMediaStreamTrackFail','instantiateTransactionTable','Missing\x20answerer\x20id\x20on\x20request\x20answer','Job\x20Dispatcher\x20does\x20not\x20exist','onHandshakeStateChange','ObjectStoreAlreadyExists','clusterKey','getNumberOutgoingSubscriptions','RemoteMediaStreamMissingProviderId','hasMessage','detectVideoIssues','G-F7W8KXRKQB','getReport','tokens','active','targetId','createJobDispatcher','featureSupport','topics','handleNodeDisconnect','providerId','frameWidth','missing-incoming-connection','isAvailable','183055iFdNYp','getAncestors','\x27\x20from\x20','KeyValueDatabaseAlreadyExists','signInWithCredential','ClosePubSubTopic','Error\x20committing\x20batch:','receiverTotalMessages','invalid-publisher','addTrack','checkWebGL','Get','writes','removeTrackListeners','consumeBufferedEvents','clearHeartbeat','job-worker-invalid-type','keys','syncTransactions','lastTransactionId','setVendorId','setupStatsReporting','removeRemoteStreamSubscription','event','publishSystemMessage','streams','tables','2353352nVgnKK','UnsubscribeMediaStream','\x27\x20in\x20layout','Support:\x20','auth','Internal\x20event\x20\x27','publish','shouldProcessTransaction','checkAudioVolume','Stream\x20does\x20not\x20exist','call','invalid-subscription','startTime','track','padStart','notifyObjectStoreOfNodeJoin','SubscriptionRequestDoesNotExist','addReservedTables','handleFileRequest','clientWidth','/resources/agent/items/','peer-connection','undefined','Invalid\x20value.\x20Must\x20be\x20an\x20object.','addAudioTrack','handleSubscriptionNeedMediaStream','connectionPool','ConnectionNotinitialized','handleContentCloseJob','getPubSubTopics','Invalid\x20credentials','applyRemediation','join','removeRemoteConnection','Outgoing','cluster-already-joined','removeSubscription','handleContentSystemEvents','/capacities','appsync-no-destination','addPendingHandshakeCandidate','connectionStateListener','JobDispatcherJobExists','joinCluster','Object\x20store\x20is\x20not\x20in\x20sync','getTrackFromParam','time_per_frame','boolean','optimizationLayers','evaluateBids','open','durationTime','object-store-cannot-write-transaction','2-digit','functions','hasOwnProperty','detail','MediaStream','createConstantSource','pool','content-unpublish-media','InvalidDataChannel','packetsReceived','getConnectionType','ObjectStoreInvalidSyncMessage','object-store-stream-does-not-exist','Remote\x20stream\x20does\x20not\x20exist.','onDisconnectHandler','created','Count','JobWorker:\x20Handling\x20job\x20attribution','getObjectStoreBuckets','writeTransaction','lastRemediations','answer','warning','removeTopic','getTransactions','NodeAlreadyExist','handleAnswer','createElement','Module','getConnectionDestinations','timeReceiving','slice','ObjectStoreAlreadySubscribed','queues','options','concat','createBuffer','createPubSubTopic','sdkValidateAccess','chunks','Invalid\x20where\x20clause','contentRect','handleProblem','maxThreshold','lastUpdated','Detection','Cluster\x20already\x20joined','Transaction','PayloadAction','Restart','createPendingFileWrite','requestSubscriptionAction','CanProvideMediaStream','JobWorker:\x20Received\x20job','av_delay','packets','maxOutgoingSubscriptions','prompt','Local\x20stream\x20does\x20not\x20exist.','exports','jobDispatchers','context','from','packetsLost','uuid','OutgoingSubscription','processInboundReports','System','registerCluster','update','return\x20this','registerSystemPublisher','channel','\x27\x20payload:','stop','autoplay','signalingServer','value','notifyClusterNodeUpdate','Sender','client','handleNodeUpdate','error','subscribedTracks','localId','connection-state','media-stream','topic','handleTransactionPayload','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','receiverTimeProcessing','setDoc','Invalid\x20job\x20worker\x20type.','getShareableStreamId','generativeAIWorkerConnector','addDoc','load','connect','subtle','validateAccess','checkAudioContext','onNodeDisconnect','openPubSubTopic','onUnregisterPublisher','syncContent','upgradeTimeout','KeyValueDatabaseCreationFailed','status','getConnection','Job\x20service\x20observer\x20not\x20found.','Handshake','handleHandshake','sort','generative-ai','WebGL','Key-value\x20database\x20creation\x20failed.','Support','getRoundTripTime','420235181083','getConnectionGroup','KeyValueDatabaseTableNameReserved','connected','0.2.7','northamerica-northeast1','clearRestartTimeout','\x20answer','authContext','initializeSystemTopic','handleUnsubscribeMediaStream','supportsContentType','previous','deleteObject','createOutgoingSubscription','transformations','ScreenSharing','eventTarget','Upgrade','receiver','handleLocalTrackFailure','messagesSent','issues','syncedFileExists','handleNeedRestart','handleOffer','codes','92KQQyss','retryDelay','Cannot\x20unpublish\x20object:\x20','distance','getContentType','crewdle-sdk-logging-','pub-sub-topic-already-subscribed','isWhereBetween','NodeInvalidType','Rejected\x20answer','syncResolve','unregisterPublisherListener','\x20with\x20response:','hasTable','checkMediaStream','waitSuccess','NodeDoesNotExist','OPFSObjectStoreConnector','parentId','database','sender','senderConnection','requestSubscription','handleCloseMediaStream','clearWaitSuccess','sync','ConnectionInvalidDataEvent','isBidResponse','bufferEvent','PubSubTopic\x20publish','closeSubscription','Partial','signalingState','content-publish-media','loop','CPUCycle','handleDetectionSystemEvents','RequestFile','between','where','Sending\x20\x27','JobWorkerCreationFailed','path','key-value-database-table-does-not-exist','Apply\x20remediation','Failed\x20to\x20create\x20AI\x20service','remote-media-stream-already-exists','dt_volatility','operator','removeConnection','.crewdle-transactions','onTrack','LocalMediaStreamNoAudioContext','estimatedPlayoutTimestamp','handlePeerConnectionSystemEvents','Incoming','LocalReport','createConnection','2424594gctaNf','authNode','source','nodeManager','jobBids','availableTrackKinds','filter','getRemoteConnections','crewdleSDKLoggingChannels','Cannot\x20publish\x20folder:\x20','getTracks','\x20attempts:','job-worker-already-exists','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','Internal\x20error:\x20','oncloseTimeout','getDTVolatility','contentManager','RestartNeedMediaStream','setLoggingConnectors','User','Recording','Cannot\x20publish\x20payload:\x20','getUserMedia','job-dispatcher-invalid-job-type','notifyJoin','Offer','objectToArrayBuffer','keyPath','decodeJWT','getEnabledChannels','isConnected','pendingFilesSyncing','createOffer','KeyValueDatabaseInvalidValue','handleOptimizationConnectionSuccess','text','JobDispatcherInvalidJobType','globalObject','frames','previousFrames','payloadType','\x0aAdditional\x20data:\x20','findNewMediaSubscription','getTableConnector','isFeatureSupported','checkDeviceConfig','setOnMessageHandler','clusters/','code','leave','Object\x20store\x20data\x20stream\x20is\x20not\x20in\x20sync','unregisterCluster','Node','rank','createGenerativeAIContext','receiverStreams','getQuery','Node\x20does\x20not\x20exist.','Invalid\x20publisher.','DataStream\x20onMessage','waitConnected','dataTopics','\x20sending\x20attempt\x20','jobType','getRemoteNode','key','\x20failed.','getMilliseconds','ccc','commitBatch','onDataChannel','nodes','sendChunked','receiverBitrate','Remove','previousTimestamp','handleNodeLeave','key-value-database-index-not-found','totalDecodeTime','PartialResult','commit','1:420235181083:web:4eff6062bd845cb0748cbe','updatePropagationProperties','startsWith','pubsub','DTVolatility','NodeManager\x20-\x20NodeLeave','exists','gain','subscriptionRequestTimeouts','push','retryLimit','element','24dqwiAQ','handleContentRemoteMediaStreamTrackFail','RoundTripTime','ObjectKind','isProduction','inactive','createTopic','handleConnectionSuccess','token','mediaUnsubscribers','agent-config-changed','sampleRate','tail','pow','setOnTableWriteHandler','ObjectStoreInvalidState','clusterId','Invalid\x20version\x20\x27','isWhereValue','getLocalMediaStream','\x27\x20to\x20','oidc','addRemoteConnection','Agent\x20group\x20not\x20found','failJob','split','\x27\x20in\x20table\x20\x27','Cluster','supported','addConnection','messageListeners','key-value-database-creation-failed','handleClosePubSubTopic','tracks','MissingSystemTopic','getMediaSubscription','canvas','Generative\x20AI\x20context\x20job\x20timeout.','createLocalDynamicMediaStream','doc','getRemoteMediaStreams','checkMediaRecording','connection-invalid-data-event','firebaseUnsubscriber','every','off','JobWorkerDoesNotExist','Missing\x20transaction\x20id','Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string','KeyValueDatabaseNotOpen','firebaseConfig','processDataChannelReport','getReceiverBitrate','bytesReceived','receiverUnsubscribers','senderCurrentTimestamp','start','handshakeState','warn','play','closed','state','ENOENT','addMessage','clear','origin','https://crewdle-sdk-default-rtdb.firebaseio.com','audioSource','removeListener','currentTimestamp','getIdToken','digest','orchestrator-close','Failed\x20to\x20commit\x20batch\x20after\x20retries:','registerPublisher','listener','Invalid\x20index\x20in\x20table\x20\x27','offset','SystemTopic\x20publish','layout','set','getResolution','removeNode','Optimization','getDisplayName','unsubscribeListener','job-dispatcher-already-exists','JobDispatcherDoesNotExist','match','renderElement','detectAudioIssues','getSTVolatility','NodeType','candidate','registerSystemSource','770850ztyIie','node-does-not-exist','remoteConnections','signInWithCustomToken','isInternalLoggingConnector','UnpublishMediaStream','KeyValueDatabaseTransactionTableNotInitialized','limitToFirst','Downgrade','MistletCapacityReportNotSet','failed','MediaStreamUnavailable','getRemoteMediaStream','getFirestore','vectorDatabaseConnector','subscriptions','9070176lbmjVu','Failed','lastProcessRank','crewdle-sdk-stg','registerSubscriber','waitAnswer','remoteMediaStreams','arrayBuffer','publishNodeJoin','handleRemoteTrackFailure','handleSubscriptionSystemEvents','addRemoteNode','getConfigs','\x20not\x20found.','Cannot\x20write\x20transaction.','Bitrate','getKeyValueDatabases','key-value-database-name-not-string','missing-system-topic','logSupport','Content','generative-ai-context-already-exists','retryCallback','1550969ybtNIP','region','listenUnsubscriber','jobs','crewdle-sdk.appspot.com','PublishMediaStream','bid','mediator','chosenAnswers','processTransactionsDump','key-value-database-does-not-exist','getNextTargetRank','suspended','registerRemoteNode','getLocalId','Events','createMediaStreamDestination','getTotalBytes','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','RequestFileWrite','subscription-request-does-not-exist','setInternalId','lastHeartbeat','nextNodeId','OutgoingMediaStreamNoTopic','.info/serverTimeOffset','setDisplayName','Remediation','\x20not\x20supported','RemoteMediaStreamDoesNotExist','FileStatus','minResolutionScale','Node\x20already\x20exists.','cost','FeatureNotEnabled','framerate','onRemoveTrack','crewdle-sdk.firebaseapp.com','senderTimeProcessing','buildQuery','getCurrentMaxLayer','onProviderChange','onMessage','canProvideResolution','isSyncing','chunk','Signaling','connectionTimeout','key-value-database-transaction-table-not-initialized','handleContentCloseObjectStore','setupRenderElement','No\x20destinationIds\x20left','object-store-invalid-path','handleOnMessage','getMaxDistance','generative-ai-worker-already-exists','Invalid\x20object\x20store\x20state.','updateLastTransactionId','Pool','setReceiverTimestamp','GenerativeAIContext','isArray','NodeLeave','bufferedEvents','senderBitrate','RequestTransactionsValue','key-value-database-table-name-reserved','processReports','getJobDispatchers','Problem','object-store-name-not-string','internalId','version','subscribe','batchTimeout','detectionManager','maxFps','createSenderConnection','Invalid\x20table\x20name\x20\x27','setConnectionType','sourceVideo','everyone','graphql','QueryBuilderInvalidArgument','CrewdleReceiverConnection\x20ontrack','InvalidPublisher','NodeJoin','connectionGroup','sendReject','Invalid\x20params','PubSubTopicDoesNotExist','storage','publishLocalDynamicMediaStream','setPriority','getConnections','splitParts','send','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','absolutePathName','removeTrack','/transactions/lastTransaction','maxDistance','PubSubTopicStats','priority','available','sendWithRetry','filteredDestinationIds','collectSendersStats','endpoint','cluster-disconnect','configs','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','getDatabase','gpu','openJobWorker','prototype','propagate','getTrack','JobDispatcherObserverNotFound','nodeKey','isEqual','SendTransactionsDump','defineProperty','FileMove','email','support','getLocalNode','handleChunkMessage','pubsubTopics','notifyObjectStoreOfNodeLeave','connector','.info/connected','Media','reduce','outgoingTopic','NeedRestart','payload','minConnections','agentConfig','ObjectStoreNameNotString','getDistance','NodeTypeNotSupported','getReceiverTotalBytes','bufferedAmountLowThreshold','JobDispatcher:\x20Received\x20job','isMediaSource','getOutgoingOptimizationConnections','getSenderTotalBytes','Missing\x20owner\x20node\x20or\x20rank','manageOptimization','ConnectionGroup','getCoresFromCapacityReport','UpdateMediaStream','ObjectStore','loggingConnectors','OptimizationConnectionSuccess','ObjectStoreInvalidPath','\x20attributed\x20to\x20','dataUnsubscribers','JobType','default','clearWaitAnswer','ConnectionState','Attribution','publishLocalMediaStream','processJobStream','isSync','video','\x20check\x20failed','checkAudioOutput','processReport','Restart\x20NeedMediaStream','sendIceCandidates','mistlet-capacity-report-not-set','remoteNodes','handleSubscriptionMediaStreamUnavailable','messageCallback','setEncodingParameters','setParams','recipients','waitSendBuffer','debounceStats','getOrResetPendingFileTimeout','Result','maxBpp','deleteJob','jobPhase','KeyValueDatabaseInvalidLayout','getInternalStreamId','getSize','handleSubscriptionProvideMediaStream','handshakeCandidates','InvalidSubscriber','InvalidAccess','trackListeners','pendingFilesRename','rtt','ranges','SubscriptionRequestFailed','api','Agent','audioDestination','httpsCallable','getContext','RequestAccepted','test-page','statsCollection','skipEncryption','objectRequests','checkScreenSharing'];a0_0x5792=function(){return _0x298078;};return a0_0x5792();}