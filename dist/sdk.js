function a0_0x26d0(){const _0x2c7126=['ref','graphql','graphDatabaseConnector','clockSkew','history','vector-database','unregisterDestination','SubscriptionRequestInProgress','update','ObjectStore','kind','\x0a\x0a`Searching\x20on\x20Google\x20for\x20','sort','tail','getAvailableTrackKinds','\x27\x20reserved','getEntities','processSenderReport','sendTransactionsValue\x20-\x20value\x20not\x20found','processReport','processContentQueue','Entity','getPeaks','Update','getSubscribedTracks','mmrRoot','getConnectionGroup','CrewdleReceiverConnection\x20ontrack','Database\x20not\x20open','KeyValueDatabasePeakNotFound','LoggingService:\x20logging\x20enabled\x20for','setConnectionType','FileWrite','\x20with\x20\x27','https://3nabhjyaabdadnpczsgrye6upu.appsync-api.us-east-1.amazonaws.com/graphql','generativeAIWorkers','subscribeToExternalContent','isArray','firebase-disconnect','ExternalStorageConnectionDoesNotExist','getModel','SubscriptionRequestFailed','RemoteMediaStreamInvalidSubscriptionParams','\x27\x20to\x20','between','ObjectKind','getInternalStreamId','packetsLost','publishNodeJoin','files','DEBUG\x20-\x20','generative-ai-worker-missing-connector','getBuffer','pubsubTopics','JobWorkerCreationFailed','calculateSize','outputTokens','ratePrompt','JobWorkerDoesNotExist','not-resolved','external-storage-connectors-missing','map','objectToArrayBuffer','getPriority','Setting\x20context\x20for\x20agent\x20block','\x0a\x0a`Searching\x20in\x20data\x20collection\x20','Cannot\x20get\x20file:\x20','text/plain','Agent\x20block\x20is\x20missing\x20required\x20data','onRemoveTrack','handleSubscribeMediaStream','\x20finalized.','setIsLoaded','DataCollection','objectStorageBuckets','destination','JobDispatcherAlreadyExists','RequestFileWrite','Error\x20processing\x20retrieve','evaluatePartialJob','AI\x20Service\x20already\x20exists','previousTimestamp','number','estimatedPlayoutTimestamp','suspended','cluster-leave','isSyncing','Received\x20sync\x20required.\x20Database\x20available:\x20Checking\x20synchronization','handleChunkMessage','sendTransactionsValue','KeyValueDatabaseNameNotString','isEqual','snippet','ClusterAlreadyJoined','ObjectStorageBucket','ai-search','I\x20am\x20done','MissingSystemTopic','.rb','ConnectionGroup','_ready','Knowledge','PublishMediaStream','pipe','getSentences','onProviderChange','ObjectStoreNameNotString','\x0a\x0a`Executing\x20custom\x20skill\x20','removeTrackCallback','string','clearSubscriptionRequestTimeout','Received\x20track','httpsCallable','Node','url','writeBatch','VectorDatabase','createBatchOperation','getConnectionType','agent-update','GenerativeAILabelConflict','getId','retryCallback','secheduleTime','initialize','FeatureNotEnabled','internalId','mistlet-capacity-report-not-set','toFixed','createSubscription','lastExecuted','vector-database-missing-connector','2095303XxAFro','Opened\x20model\x20store\x20bucket','Outgoing','setPendingFileSyncingPayload','ConnectionBufferNotEmpty','commitType','FetchUrl','crewdle-sdk','Given\x20','headers','trackEndedListeners','sendBid','overlap','listChanges','GenerativeAIContextCreationFailed','AppSync\x20client\x20not\x20ready','Index','Cannot\x20unpublish\x20object\x20at\x20','cpu.av_delay','cleanOldSubscription','processServiceReport','deployedVersion','setInternalId','KeyValueDatabaseRequestTransactionsValue','codes','index','writeTransaction','searchConnector','Reranker\x20block\x20is\x20missing\x20required\x20data','limitToFirst','getWorkflowModels','pathName','handleObjectDelete','createSenderConnection','getBufferedAmount','reportCapacity','nextNodeId','restartTimeout','Job','Unsupported\x20job\x20type','created','clearSyncTimeout','detectAudioIssues','.clj','deleteObject','ExternalStorageUpload','Generative\x20AI\x20context\x20invalid\x20partial\x20result.','fileSendingMap','Connection\x20does\x20not\x20exist','getTrack','Add','maxTokens','IncomingSubscription','clusterId','scheduleTime','SubscribeMediaStream','AI\x20Worker\x20already\x20exists','subscription-request-no-answer','\x0a\x20===\x20Total\x20Time:\x20','loggingConnectors','generative-ai-context-job-already-consumed','getCapacityReport','setProviderId','Module','nodeUpdate','job-dispatcher-already-exists','offset','String','onMessage','\x0a\x20\x20===\x20Initial\x20MMR\x20Root:\x20','Resolution','Internal\x20SDK\x20error:\x20','ExternalStorageStats','\x20failed.','gpu','answererId','closeConnection','priority','connection-not-initialized','registerSystemPublisher','Cannot\x20list\x20directory:\x20','/transactions','KeyValueDatabaseInvalidValue','subscriptions','.json','missing-system-topic','localNode','Reranker','getJobWorkers','complete','clearHeartbeat','ingestBlocks','connection-not-connected','numeric','onConfigurationChange','251307GZnurD','startNoThrottlingHack','optimizationLayers','Invalid\x20object\x20store\x20state.','appsync-disconnect','NodeDoesNotExist','getHash','internalContext','recipients','Jitter','isPromiseResolved','Database\x20does\x20not\x20exist','getPacketsLostPerc','sender-send-message','server','publishNodeLeave','getApp','distance','graph-database-already-exists','GenerativeAIContextJobTimeout','currentBytes','removeRemoteConnection','instantiateTransactionTable','iceServers','saveToDisk','loadLocalContent','notifyClusterNodeJoin','remote-stream-does-not-exist','digest','RemoteMediaStreamDoesNotExist','publish','previousBytes','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process','receiverTimeProcessing','/capacities','call','tables','signInWithCredential','configs','batchTimeout','Invalid\x20object\x20store\x20sync\x20message.','contentMediator','firebaseConfig','getName','user-update','removeOutgoingSubscription','remediationManager','Agent\x20output\x20is\x20not\x20a\x20string','.cpp','DataChannel\x20is\x20not\x20initialized.','Partial','onValue','page','removeRemoteNode','sourceId','asObservable','getEngineType','Issue\x20detected:\x20','isProduction','setSubscriptionRequestTimeout','loggingDb','/stats','filesSynced','debounceProcessRank','emit','Multiple\x20files\x20found','isSubscribed','Cannot\x20create\x20Graph\x20Database:\x20Name\x20must\x20be\x20a\x20string','GenerativeAIContextJobMissingThreadId','queues','Error\x20resolving\x20readyPromises:','limit','MediaStreamUnavailable','get-content','undefined','hashTransaction','Number','Node\x20does\x20not\x20exist.','Query\x20is\x20required','Emitting\x20event\x20on\x20local\x20cluster','Connected','deleteTransactionsForTable','KeyValueDatabaseSyncRequired','successNotified','key-value-database-creation-failed','cluster','getSenderTotalBytes','minResolutionScale','modelsBucketId','Cannot\x20create\x20Vector\x20Database:\x20Name\x20must\x20be\x20a\x20string','GenerativeAIContextJobAlreadyConsumed','Object\x20store\x20is\x20not\x20in\x20sync','list','getJobs','handleAnswer','pop','sendStats','time_per_frame','Sender\x20connection\x20is\x20not\x20initialized\x20while\x20trying\x20to\x20send\x20a\x20message.','Audio','random','getKeyValueDatabase','storeId','getMilliseconds','ClosePubSubTopic','oncloseTimeout','CrewdleSenderConnection\x20createOffer','removeContent','targetId','runJobQueue','eventListener','onClose','GenerativeAIContextInvalidPartialResult','next','contextOutputVariable','Error\x20processing\x20ingest','getMaxDistance','syncTransactionsWritten','NodeManager\x20-\x20NodeUpdate','buffer','processRemoveContent','Missing\x20remote\x20node\x20or\x20rank','getProviderId','bitrate','crewdle-sdk-stg.firebaseapp.com','substring','dbKey','results','syncContent','charCodeAt','setOnTableWriteHandler','\x20transactions\x20from\x20node\x20','connectAgent','LocalMediaStreamDoesNotExist','getSTVolatility','job-dispatcher-observer-not-found','isValidMediaSubscriptionParams','Database\x20Opened','ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.','completed','outgoingTopic','request-accepted','getWorkflowObjectStorageBuckets','debounceAppendLog','sendIceCandidates','unsubscribeListener','handleRequestPayload','Medium','.djt','checkScreenSharing','retryCount','\x20received\x20partial\x20result:','topK','supported','missing-datachannel','appsync-close','traceLevel','bodyParameters','jobObservers','senderCurrentTimestamp','generative-ai-worker-model-sync-error','disconnect','close','media-stream','registeredListeners','processTransactionsToComputeMMR\x20-\x20Transactions\x20appended\x20-','CustomSkill','pendingFilesRename','endpointMethod','errorDetails','providerId','connection-state','Receiver','CanProvideMediaStream','connectionType','transactionsToSync','answerJoin','evaluateBids','System','connection-no-retry-queue','\x20new\x20transactions','getAuth','/resources/generative-ai-skill/items','setParams','.pl','readyResolve','receiverStreams','Model\x20output\x20is\x20an\x20array\x20but\x20expected\x20text','json','Core','timeReceiving','urls','DocumentParser','tableUnsubscriber','relation','Upgrade','messageUnsubscriber','addNode','listenerUnsubscribers','restartHandshake','region','No\x20connector\x20found\x20for\x20model','getContent','SentenceSplitter','Invalid\x20key\x20\x27','PubSubTopic\x20onMessage','appsync-connect-fail','clientWidth','leave','systemTopic','loggingDatabaseConnector','topic','Received\x20request\x20for\x20transactions\x20value.\x20Sending\x20','file-upload','.conf','logConnectionState','registerPublisher','CloseObjectStoreBucket','external-storage-connection-does-not-exist','ccc','\x0a\x20\x20===\x20New\x20MMR\x20Root:\x20','firstValueFrom','ExternalStorageConnectorsMissing','getEstimatedTimestamp','RemoteMediaStreamTrackFail','handleNoAnswer','Subscription\x20request\x20has\x20not\x20been\x20answered.','handleDisconnect','connection-invalid-data-event','Database\x20already\x20exists','executeQuery','clearConnectionTimeout','content','FolderMove','JobDispatcherInvalidPayload','CONNECTION_STATE_CHANGE','\x20MB','getFunctions','remote-stream-missing-provider-id','getMinConnections','checkBackgrounds','Downgrade','issue','tracks','calculateArrayBufferSize','\x0a\x20===\x20Wait\x20Time:\x20','From\x20','KeyValueDatabase\x20-\x20Sync\x20completed','candidate','\x0aAdditional\x20data:\x20','Cannot\x20publish\x20payload:\x20','Rating','LoadSkillFunction','job-dispatcher-job-not-found','vectorDatabases','Cannot\x20write\x20transaction.','timeoutValue','Vector\x20database\x20block\x20is\x20missing\x20required\x20data','createNewBatch','Internal\x20SDK\x20Error:\x20','processContentSynchronized','GenerativeAIContext','Key-value\x20database\x20transaction\x20value\x20not\x20set.','Buffered\x20chunks\x20are\x20too\x20large','getSubscriptionInfo','\x0a</','propagate','Invalid\x20index\x20key:\x20must\x20be\x20a\x20string','Retry\x20request\x20with\x20chosen\x20answer\x20node\x20or\x20rank','Delete','take','\x20-\x20Sending\x20propagation\x20(','stats','key-value-database-transaction-table-not-initialized','uuid','generative-ai-context-already-exists','.scala','exists','where','newPath','setTransformations','Error\x20closing\x20trace','addMessage','findIndex','mediaDevices','createOffer','CloseKeyValueDatabase','addBatchOperation','deleteJob','publishMove','21a9d78dee97f487b','clientStream','ScreenSharing','expectedTransactions','.xls','GraphDatabaseMissingConnector','isNodeReady','getSkills','closeTopic','onGatheringStateChange','AppSync\x20connection\x20not\x20ready','Remove','getSize','Ignoring\x20message\x20-\x20retry\x20flag\x20is\x20false','job-worker-does-not-exist','object-storage','findNewMediaSubscription','0\x20B','addPendingHandshakeCandidate','capacityReporter','fromEntries','setBytes','createPendingFileWrite','auth','JobDispatcherObserverNotFound','Job\x20service\x20observer\x20not\x20found.','loggingCycle','messagesReceived','ENOENT','GraphDatabaseNameNotString','handleSubscriptionNeedMediaStream','cores','removeIncomingSubscription','clusters/','totalNodes','processReceivedTransactions','Search','maxLayer','logSupport','getCurrentMaxLayer','JobWorker:\x20Error\x20processing\x20job','generative-ai-worker-already-exists','frameHeight','startLoggingCycle','Bid','getReport','generateClient','ObjectStoreAlreadySubscribed','externalStores','Completed','incomingTopic','payload','Invalid\x20index\x20in\x20table\x20\x27','setEncodingParameters','compileStats','external-storage-connection-already-exists','manageBufferedChunks','InternalSDKError','trackKinds','relevance','bind','support','\x20not\x20supported','GenerativeAITracing\x20-\x20job\x20id\x20is\x20already\x20set','getLayout','Search\x20in\x20data\x20collection\x20','logging-db-','Max\x20retries\x20reached\x20for\x20writing\x20buffered\x20chunk\x20to\x20stream','Loaded\x20from\x20disk','CloseExternalStorageConnection','.crewdle-transactions','ner','3011204anFZmF','videoWidth','val','handleContentUnpublishMediaStream','.vbs','IngestTrace','PromptFunctionParamsType','KeyValueDatabaseRequestPeakTransactions','getRemoteId','createGenerativeAIWorker','Node\x20not\x20authenticated','splitParts','/resources/generative-ai-workflow/items/','logServiceEvent','transactions','setUpgradeTimeout','Answer','Prompt\x20is\x20required','desc','Remote\x20connection\x20already\x20exists.','isRunning','ObjectStoreInvalidSyncMessage','createRemoteNode','lastUpdated','openGenerativeAIWorker','handleProblem','system','.handlebars','Events','setOnDisconnectHandler','handleContentSubscribeMediaStream','getPeakNode','maxFps','PubSub','JobWorker:\x20Tracing\x20not\x20implemented','reportMetric','hasTable','Operations:','getDataLogged','Early\x20return','Jobs','getAudioTracks','collection','pendingFilesSyncing','SubscriptionRequestDoesNotExist','floor',':\x20Object\x20store\x20is\x20not\x20in\x20sync','warning','createReceiverConnection','findNextNodeId','tokens','handleNodeUpdate','word-splitter','setDisplayName','handleContentSystemEvents','GenerativeAIWorkerStats','OfficeParser','trackCallback','GraphDatabaseDoesNotExist','FinalOutput','direction','transactionQueue','GenerativeAIContextAlreadyExists','canProvideResolution','senderTotalMessages','handleTransactionPayload','remoteMediaStreams','handleSubscriptionUnsubscribeMediaStream','database','data-stream','propn','action','boolean','updateLastTransactionId','.md','bufferEvent','right','getAncestorIds','isJobAttribution','handleSubscriptionMediaStreamUnavailable','createMediaStreamSource','has','RemoteRemediation','messagesSent','getDocs','GetContextQuery','vector-database-name-not-string','CrewdleConnection\x20handlePeerConnectionSystemEvents','.xlsx','PubSubTopicNameNotString','EntityExtractor','includes','sourceUrl','parentId','handleUnpublishMediaStream','Opened\x20external\x20storage\x20connection','Stats:\x20report','JobDispatcher:\x20Received\x20job','DataStream\x20onMessage','hasBufferedData','getMaxConnections','statsReporting','maxFramerate','GenerativeAIRatingStatus','handleUnsubscribeMediaStream','handleConnectionSuccess','setSenderTimestamp','setDurationTime','events','Model\x20store\x20not\x20initialized','Pool','Error\x20opening\x20trace','getJobObservable','vector-database-creation-failed','GraphDatabase','moveObject','runTransaction','filteredDestinationIds','graph-database-creation-failed','toString','MissingRemoteConnection','Table\x20not\x20found','\x20must\x20be\x20a\x20number','Cannot\x20get\x20size\x20of\x20path:\x20','time','instance','.hbs','Problem','Detection','ObjectStoreAlreadyExists','canChooseAnswer','resolve','JobWorker:\x20Received\x20job\x20attribution','web-scraper','InvalidSubscription','setTimeout','onDisconnectHandler','nodesConnected','getRemoteNode','Data','JobDispatcherJobExists','request','exports','Text','performCalculation','confirmSynchronization','\x27\x20must\x20be\x20a\x20string,\x20number,\x20boolean,\x20or\x20Date.','syncKeyValueDatabase\x20-\x20Retrying\x20sync\x20in\x20broadcast\x20mode.\x20Waited\x20for\x20cluster\x20readiness\x20for:','invalid-publisher','getDataCollections','TestPage','audioDestination','openObjectStoreBucket','query-file','batchSize','getTotalBytes','\x20deleted.','.tsx','logLevel','addCluster','Peer\x20Connection\x20system\x20events\x20must\x20have\x20exactly\x20one\x20destination','timeoutCallback','parseDataCollectionBlocks','previous','.js','maxBpp','Model\x20output\x20type\x20is\x20text\x20but\x20input\x20is\x20not\x20text','GetContextResult','RebuildMMR\x20-\x20MMR\x20Root\x20changed?\x20','Stream\x20already\x20exists','getLocalMediaStream','node-does-not-exist','cancel','vector-database-already-exists','RemoteMediaStreamAlreadyExists','.sh','addCandidate','vectors','completeSync','logSyncMetrics','lastHeartbeat','st_volatility','sendFileRequestPayload','engineType','getTime','Restart','getEmail','endsWith','externalStorageConnectors','CloseJobDispatcher','168pHjVoj','then','createGain','Writable\x20stream\x20is\x20missing','tableObserver','audio','\x20seconds','channel','GenerativeAIContextJobFailed','setStatus','setRemoteConnections','removeSubscription','handleContentCloseMediaStream','roundTripTime','\x20does\x20not\x20support\x20content\x20type\x20','getTable','handleContentUpdateMediaStream','PromptRating','Chosen\x20answer','sdkCreateToken','discoveryService','commit','Error\x20loading\x20external\x20content','JobWorker:\x20Sending\x20job\x20result','fetchUrl','asc','GenerativeAIWorker:\x20Models','inbound-rtp','Subscriber\x20already\x20registered\x20on\x20PubSubTopic\x20','79pXtHNe','bufferedAmount','set','unshift','Cannot\x20join\x20a\x20cluster\x20if\x20the\x20node\x20is\x20not\x20a\x20user','joinCluster','peer-connection-invalid-destination','av_delay','handleFileRequest','peaks','CrewdleConnectionGroup:\x20Cannot\x20broadcast\x20with\x20AppSync.','messageType','GenerativeAIWorkerCreationFailed','Sender','Node\x20type\x20is\x20required','messageBuffer','Memory\x20Usage\x20at\x20','getKeyValueDatabases','bufferedChunks','Connection\x20not\x20initialized.','some','Received\x20','\x20for\x20','waitAnswer','send\x20error\x20on\x20','lastProcessRank','clearRestartTimeout','DataStream\x20send','processRank','chosenAnswers','Model\x20not\x20found','round','Error\x20encountered\x20while\x20opening\x20database','head','openExternalStorageConnection','childRemovedUnsubscriber','lastClockUpdate','.sql','1.0.16.0','appsync-connect','resizeHandler','insert','ChunkSplitter','transactionsToAppend','inputType','pubSubTopics','Move','prompts','supportsContentType','recomputeRoot','RemoteMediaStreamMissingProviderId','Publish\x20the\x20transaction','KeyValueDatabaseInvalidLayout','openTrace','Execute\x20the\x20agent\x20','G-F7W8KXRKQB','skipEncryption','getFirestore','waitForArrayBufferSize','Missing\x20owner\x20node\x20or\x20rank','AppSync\x20subscribe','authenticateAgent','\x20must\x20be\x20a\x20valid\x20JSON\x20string','Default','receiverPreviousTimestamp','ConnectionNotinitialized','keyPath','syncedFileExists','versions','Could\x20not\x20open\x20trace','CloseVectorDatabase','getJob','subscriptionRequestTimeouts','pub-sub-topic-already-subscribed','msalGetAccessToken','failed','QueryBuilderInvalidArgument','setupStatsReporting','SHA-256','InvalidAccess','handleOffer','Failed\x20to\x20get\x20file','status','contextInputVariable','ceil','context','table','debounceReady','logBatch','framesDecoded','subscription-request-does-not-exist','Opened\x20generative\x20AI\x20worker','\x20must\x20be\x20a\x20string','receiverUnsubscribers','Connection\x20already\x20exists','1063090NTXrdM','nodeId','Valid\x20layout','out','agent','handleStatsSystemEvents','Incoming\x20Peer\x20Connection\x20events\x20must\x20have\x20the\x20local\x20id\x20as\x20a\x20destination','AppSync\x20publish','Invalid\x20job\x20worker\x20type.','RetrieveTrace','receiverConnection','VectorDatabaseCreationFailed','agent-join','sendFile','orchestrator-close','ObjectStoreStats','queryFileConnector','vendorId','Opened\x20logging\x20database','startAt','JobWorkerInvalidType','removeLocalMediaStream','WorkflowTrace','notifyCluster','disableIntervalHack','\x20with\x20response:','GenerativeAIWorkerAlreadyExists','GenerativeAIContextStats','setReceiverTimestamp','initializeSystemTopic','memoryUsage','PubSubTopicStats','addAudioTrack','Subscription\x20request\x20does\x20not\x20exist.','remote-inbound-rtp','replaceTrack','KeyValueDatabaseTableDoesNotExist','checkAudioOutput','padStart','problemType','createBufferSource','delete','closeSubscription','debounceReadyTimeout','internalRatePrompt','getRemoteMediaStreams','Initial\x20MMR\x20built\x20with','objectStoreConnector',',\x20Total\x20Nodes:','NodeManager\x20-\x20PublishNodeLeave','operations','After\x20Synchronization\x20-\x20Is\x20Database\x20sync?\x20','ObjectStoreNotSynced','/logs','SubscriptionRequestNoAnswer','getTrackFromParam','internalDownloadDocument','collectSendersStats','No\x20global\x20object\x20found','Search\x20connector\x20not\x20set','object-store-stream-does-not-exist','now','1.0.16','No\x20connections\x20available\x20to\x20send\x20message','resolutionScale','handleContentRemoteMediaStreamTrackFail','DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found','callback','openGraphDatabase','all','RemoteRemove','getDoc','jobId','jobType','isFeatureSupported','updateLastUpdated','clusterKey','processList','.tpl','toLowerCase','getOwnerId','ownerId','Cannot\x20get\x20file:\x20External\x20Storage\x20not\x20connected','statusText','Context','Connection','Node\x20already\x20exists.','\x27\x20in\x20table\x20\x27','Outgoing\x20stream\x20does\x20not\x20have\x20a\x20topic.','outgoing-stream-no-topic','interval','openPubSubTopic','getTransactionFromTableWriteEvent','job-worker-already-exists','keyValueDatabaseConnector','dispatchEvent','crewdleSDKDisableLogging','object-store-invalid-state','changesUnsubscriber','remove','openedTraces','checkWebGL','initializeApp','validateQuery','internalProcessJob','deleteFileChunks','stringify','remediation','Data\x20Received','\x20failed.\x20Retrying...','FileMove','createFolder','getAncestors','MerkleMountainRange\x20-\x20appendTransaction\x20-\x20Completed.\x20Root:','get','counter','localMediaStreams','GenerativeAIContext\x20stream\x20error','app','downloadDocument','Invalid\x20publisher.','::ï¿¿','getWorkflow','Prompt','.lua','email','logDataReceived','mediaUnsubscribers','endpointUrl','getVideoTracks','mediaStream','notifyObjectStoreOfNodeJoin','getTransactionByHash','KeyValueDatabaseNotOpen','trim','AITrace','inputTokens','systemTopicUnsubscribe','queryOrPrompt','removeEventListener','lastRemediations','root\x20hash:\x20','Error\x20fetching\x20URL','senderBitrate','processInboundReport','Vector','registerRemoteNode','Hub','TimePerFrame','origin','splice','searchApiKey','Vector\x20database\x20creation\x20failed.','key-value-database-invalid-query','.crewdle-layout','joinedAt','getRemoteMediaStream','send','.ipynb','onSnapshot','AudioContext','external-storage-name-not-string','key-value-database-table-not-found','.bat','queryParameters','doc','assign','key-value-database-table-does-not-exist','getResolutionScale','/developers/','generative-ai-label-conflict','RelationExtractor','feedback','getTracks','minRelevance','feature-not-enabled','Offline','handleNodeJoinNeedPublishedStream','removeExternalStorageConnection','Cannot\x20subscribe\x20to\x20ExternalStorage:\x20Already\x20subscribed','uid','3594rRvasP','Attempt\x20','startIndex','retrieveBlocks','Bitrate','Attribution','maxDistance','jobBids','ContentType','isJobRequest','frameWidth','links','deletePendingFile','content-unpublish-media','listen','KeyValueDatabaseDoesNotExist','listenUnsubscriber','WorkflowInvalidBlockType','folder-create','handleFileWrite','InvalidSubscriber','WebRTCBrowserPeerConnectionConnector','agentId','@context.','KeyValueDatabaseTableNotFound','No\x20parameters\x20provided','2-digit','publishLocalMediaStream','Stream\x20does\x20not\x20exist','video','.yml','isMediaDestination','debounceStats','.jsx','cachedRoot','publishUserUpdate','isInternalLoggingConnector','KeyValueDatabaseTableNameReserved','processReports','processContentAvailable\x20-\x20Peak\x20comparison:','unregisterPublisherListener','enabled','KeyValueDatabase','connectionTimeout','\x0a\x20===\x20Total\x20Data\x20Received:\x20','from','.go','Invalid\x20peer\x20connection\x20event\x20destination.','comparePeaks','chunk-splitter','Local\x20node\x20rank\x20is\x20not\x20set','firestore','chooseAnswer','rtt','objectStores','openKeyValueDatabase','Node\x20is\x20not\x20an\x20agent','WebRTC','createExternalStorageConnection','bid','cluster-disconnect','Missing\x20answerer\x20id\x20on\x20request\x20answer','addRemoteConnection','checkMediaStream','ObjectStorage','dataBucketIds','ConnectionInvalidDataEvent','systemMessagesReceived','params','DTVolatility','Key-value\x20database\x20transaction\x20table\x20not\x20initialized.','mode','shouldContinuePropagation','isMediaSource','agent-skill','remoteUnsubscriber','Send\x20request','getLastUpdated','.twig','reduce','pool','slice','Opened\x20vector\x20database','Invalid\x20query','/transactions/','asyncEndpointUrl','handleSuccess','minConnections','handleCloseContent','dataChannel','receiverCurrentTimestamp','append','Node\x20\x27','remote-media-stream-already-exists','transactionService','setRemoteNode','object-store-invalid-payload','onCandidate','Recording','bandwidth.jitter','createIncomingSubscription','detail','sendPeakTransactions','List','getConnectionDestinations','getItem','stopNoThrottlingHack','key-value-database-name-not-string','handleNeedRestart','removeJobDispatcher','timeSending','local-stream-does-not-exist','end','setEmail','notifyJoin','processBatch','removeRemoteMediaStream','generative-ai','detectionManager','Setting\x20context\x20for\x20answer\x20block','getBid','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20logging\x20table\x20is\x20not\x20set','RequestAccepted','LocalReport','getUserMedia','ready','addConnection','incomingManager','element','handleContentUnsubscribeMediaStream','queueLength','JobDispatcherCreationFailed','discoveryUnsubscriber','cpu.cycle','renderElement','/transactions/lastTransaction','unregisterSubscriber','sentence-splitter','key-value-database-invalid-value','addTrack','connections','Received\x20content\x20available\x20from\x20node','incrementVersion','onConnectionStateChange','getDistance','addBidResponse','job-dispatcher-invalid-job-type','key-value-database-transaction-value-not-set','LocalMediaStreamAlreadyExists','/resources/agent/items/','Cannot\x20create\x20External\x20Storage:\x20Name\x20must\x20be\x20a\x20string','left','isChannelEnabled','Online','iceConnectionState\x20failed','messageCallback','Model','subscriptionRequests','failJob','Subscribing\x20to\x20an\x20event:\x20on','subject','destroy','Failed\x20to\x20commit\x20batch\x20after\x20retries:','localId','getRemoteConnections','registerSystemSource','toStringTag','setupTrackEndedListeners','VectorDatabase\x20not\x20found','chunksReceived','Invalid\x20where\x20clause','providerListener','result','once','senderTimeProcessing','isWhereValues','retry','DeviceConfig','addEdge','processJobStream','KeyValueDatabaseStats','loadExternalContent','NeedRestart','open','encode','contentQueueRunning','stop','knowledge','PartialResult','JobContext','ExecuteAgent','jobs','Synced','mediator','checkSyncComplete','KeyValueDatabase\x20not\x20found','outgoingManager','resume','Ingest','/objectstores/','setScheduleTime','PayloadAction','data','Method\x20not\x20implemented.','searchEngineId','openVectorDatabase','getContentType','listener','code','We\x20need\x20to\x20treat\x20requests\x20sequentially\x20when\x20the\x20remote\x20id\x20is\x20set','Folder','\x20answer','createLocalMediaStream','dataStores','RoundTripTime','subscription','Opened\x20pubsub\x20topic','debounceRebuildMMRWithTransaction','processOutboundReports','publishFile','__esModule','orderBy','IntermediateOutput','IDBDatabaseConnector','node-not-authenticated','trackChanges','destinationIds','local-media-stream-already-exists','AudioVideoDelay','onNodeDisconnect','combinePeaks','manageAncestor','VectorDatabaseDoesNotExist','logRaw','Subject','document-parser','createAnswer','WordSplitter','setupListeners','Failed\x20to\x20send\x20job\x20','clearRect','CloseMediaStream','CannotProvideMediaStream','supports','invalid-subscriber','Job\x20','syncKeyValueDatabase','getMediaStream','shift','NodeInvalidType','waitSuccess','All','generativeAIContexts','ReceiverPeerConnection\x20onMessage\x27\x20-\x20Remote:\x20','\x0a\x0a`Searching\x20on\x20Perplexity\x20for\x20','startsWith','displayName','off','currentFrames','https://crewdle-sdk-stg-default-rtdb.firebaseio.com','taskType','Cannot\x20unpublish\x20object:\x20','SyncKeyValueDatabase\x20-\x20Starting\x20sync\x20process\x20with\x20not\x20all\x20ancestors\x20connected.','getLocalMediaStreams','PubSubTopicDoesNotExist','Error\x20stringifying\x20object','ObjectStorageUpload','Invalid\x20layout:\x20','getEnabledChannels','requestSubscriptionAction','node-invalid-type','isLoaded','MediaStream','firebaseUnsubscriber','commitTrace','validateAccess','stopTracing','setInterval','parameters','appendTransactionAndUpdateHashMap','.\x20Confirmation?\x20','handleNodeLeave','decode','transaction','event','NodeType','contentRect','race','getLabel','count','cpu.time_per_frame','indexOf','key','start','eventTarget','Perform\x20a\x20search\x20on\x20Perplexity\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.','getReceiverTotalBytes','NodeLeave','requestSubscription','captureStream','hash','.vb','Media','graph-database','\x27\x20from\x20','pubsub','removeKeyValueDatabase','CrewdleConnectionGroup:\x20No\x20retry\x20queue\x20available.','PubSubTopic\x20not\x20found','ObjectStoreNotInSync','executeAgent','<uploaded-files>','appendTransaction','object','Remote\x20stream\x20does\x20not\x20exist.','processTransactionsToComputeMMR\x20-\x20All\x20transactions\x20are\x20appendable.\x20Append:\x20','logDataSent','knowledgeCutoffDate','wait','\x20attempts:','Content','timesCalled','pow','debounceLogTimeout','unregisterSystemSource','ExternalStorageConnectionAlreadySubscribed','Invalid\x20version\x20\x27','Error\x20searching','processTransactionPayload','26192573uaLDtL','problem','sdk-internal-error:\x20','addVideoTrack','signalingServer','hasRemoteNode','unregisterSource','AudioOutput','packets','agent-config-changed','setOnMessageHandler','resolveReady','GenerativeAITracing\x20-\x20trace\x20job\x20id\x20does\x20not\x20match','clearOncloseTimeout','\x0a\x20===\x20Synchronization\x20Time:\x20','Query\x20file\x20connector\x20not\x20set','graph-database-name-not-string','Logger.getInstance','Problem\x20detected:\x20','receiver','Invalid\x20query:\x20where\x20and\x20orderBy\x20clauses\x20must\x20use\x20the\x20same\x20key','transactionHashMap','asyncEndpointMethod','CREWDLE_WEB_SDK','modelId','receiver-on-message','JobDispatcherJobNotFound','JobQueueService:\x20Job\x20completed','defineProperty','User','.vue','SenderPeerConnection\x20send','upgradeTimeout','graphService','generative-ai-context-invalid-partial-result','workflow-invalid-block-type','connectionState','ObjectStoreDoesNotExist','setVendorId','serverTimestamp','FileStatus','registerCluster','Base\x20Peer\x20Connection','RequestFileSync','relations','closeTrace','enumerateDevices','detectStreamIssues','image','.docx','CrewdleConnectionGroup','getResolution','frames','Remote\x20MediaStream\x20already\x20exists','1:420235181083:web:4eff6062bd845cb0748cbe','deleteRemoteNode','mergeParts','Workflow\x20not\x20initialized','connectionConstructor','key-value-database-invalid-layout','WebScraper','decodeJWT','maps','key-value-database-not-open','upgrade','pendingSyncTransactions','processPendingSyncTransactions','unregisterSystemPublisher','version','heartbeatUnsubscriber','isIceCandidate','.cfg','KeyValueDatabaseTransactionTableNotInitialized','searchOnPerplexity','ReceiverOnMessage','add','handleSystemEvents','crewdle-sdk.appspot.com','FolderCreate','OutgoingSubscription','unpublish','checksum','syncFolder','getGraphDatabase','getInstance','createTopic','maxOutgoingSubscriptions','.txt','answers','Waiting','\x0a\x20===\x20Total\x20Data\x20Sent:\x20','generativeAIWorkerConnectors','lastCapacityReport','utf8','registerSource','disconnectCallback','getModels','videoHeight','6fduRCJ','setLoggingConnectors','answerContentAvailable','handleError','.ts','GenerativeAITracing\x20-\x20Error\x20while\x20committing\x20trace','searchInDataCollection','Cannot\x20publish\x20folder:\x20','senderCurrentBytes','NodeTypeNotSupported','shouldProcessTransaction','logger','rate','publishSyncCompletedAfterWrites','standalone','statsCollection','Received\x20request\x20for\x20peak\x20transactions.\x20Sending\x20Transactions.','processLocalReport','skill','\x20-\x20','startBidResponseHandling','.crewdle-pending','RequestFile','issues','getSimilarity','job-','JobStatus','420235181083','noun','syncResolve','Backgrounds','outputType','Cannot\x20create\x20ObjectStore:\x20Label\x20must\x20be\x20a\x20string','rating','Info','Logging\x20trace','Job\x20Dispatcher\x20already\x20exists','Cluster','Offer','key-value-database','handleSubscriptionProvideMediaStream','processJob','updated','getIdToken','.crewdle-last-transaction','.php','state','setupStatsCollection','Signaling','\x20received\x20responses:','request-file-write','available','.jinja','detectLocalIssues','notifyClusterNodeUpdate','createJobDispatcher','removeRemoteStreamSubscription','updateDebounceTimeout','CloseJobWorker','writeTransaction\x20-\x20transaction\x20already\x20exists','addReservedTables','AgentSkill','NodeJoin','transactionTable','createJob','mediaTopics','JobStream','objectStoreId','topicLabel','VectorDatabaseNameNotString','statsManager','getRoundTripTime','isAvailable','.j2','NodeManager\x20-\x20ConnectionSuccess','GraphDatabaseCreationFailed','ReceiverPeerConnection.onMessage','PubSubTopicAlreadySubscribed','temperature',',\x20Transactions:\x20','detection','cost','.rs','batch','streamLabel','checkWebRTC','contentType','senders','Accepted','framesEncoded','GenerativeAITracing\x20-\x20Cannot\x20commit\x20trace,\x20database\x20is\x20not\x20set','arrayBuffer','Additional\x20context:\x0a','trackListeners','hasOwnProperty','clearUpgradeTimeout','Code\x20is\x20required','Request','orderByKey','getLocalNode','.yaml','write','firebase-connect','checkMediaRecording','nodeManager','mmr','local-media-stream-no-audio-context','/resources/generative-ai-collection/items','Transaction','Job\x20with\x20id\x20','setReceiverBytes','isPartialResultResponse','addEventListener','entities','getRemoteNodes','jobQueue','WebGL','Unknown\x20skill\x20type','Orchestrator\x20handleSystemEvents','removeSubscriptionsForNode','getGenerativeAIContexts','processPendingHandshakeCandidates','AiSearch','log','NodeTypeRequired','Processing','connectionPool','getPubSubTopics','Error\x20loading\x20existing\x20content','object-store-not-synced','chunks','getStatus','ExternalStorageInvalidPath','/nodes/','sendChunked','Result','processRemoteInboundReport','onDisconnect','Please\x20provide\x20a\x20threadId\x20in\x20the\x20options','bucketId','senderConnection','152990czWfke','MediaStream\x20feature\x20not\x20enabled','transformations','ModelText','Error\x20initializing\x20logging\x20database\x20with\x20\x27','processDataChannelReport','SHA-1','Key-value\x20database\x20creation\x20failed.','prompt','sequence','applyRemediation','debugEnabled','totalDecodeTime','connected','reject','featureSupport','InvalidDataChannel','parse','syncPendingFiles','statsReport','oidc','remoteId','Retrieve','canAddCandidates','isOffer','message','validateValue','Cannot\x20close\x20the\x20SDK\x20while\x20data\x20is\x20being\x20transferred.\x20Use\x20`force`\x20parameter\x20to\x20interrupt\x20the\x20connection','manageOptimization','threshold','WebScraperRaw','Agent','unsubscribeHandler','google','Disconnected','updateJob','peerConnectionConnector','Error','getNextTargetRank','Invalid\x20node\x20type','detectVideoIssues','getSenderBitrate','getGraphDatabases','\x20check\x20failed','\x20failed\x20to\x20receive\x20a\x20valid\x20bid\x20responses\x20in\x20time.','ExecuteCustomSkill','docs','min','getPartsForSubscriptionLabel','createElement','closed','Warning','pendingFilesTransactions','processOutboundReport','KeyValueDatabaseTransactionValueNotSet','return\x20this','createObjectStoreBucket','setLocalRank','GraphSearch','vector','job-worker-invalid-type','batchQueue','\x20writes\x20from\x20','getTransactions','senderStreams','parseWorkflowBlocks','getObjectStoreBucket','openJobDispatcher','forceLog','File','.kt','isReconnecting','nodes','crewdle-sdk-stg','KeyValueDatabaseIndexNotFound','reranker','\x0a\x20\x20mutation\x20Publish($data:\x20AWSJSON!,\x20$name:\x20String!)\x20{\x0a\x20\x20\x20\x20publish(data:\x20$data,\x20name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a',':\x0a\x0a','hasMessage','canvas','getSupportedContentTypes','clusterEventEmitter','Receiver\x20connection\x20is\x20not\x20initialized.','maxResolution','setRank','senderPreviousBytes','removeVectorDatabase','logStorage','isResultResponse','startHeartbeat','UpdateMediaStream','addRemoteNode','component','_isReady','isOpened','JobType','mute','sync','streamId','.awk','unsubscribeTrackEndedListener','.cs','height','object-store-not-in-sync','\x20does\x20not\x20exists','NeedMediaStream','JobWorker:\x20Sending\x20job\x20partial\x20result','createLocalDynamicMediaStream','Stats','object-store-already-subscribed','previousFrames','checkAudioContext','MistletCapacityReportNotSet','Local\x20MediaStream\x20already\x20exists','object-store-invalid-sync-message','Data\x20collection\x20block\x20is\x20missing\x20required\x20data','grammar','handleObjectMove','validateLayout','.info/connected','internal','msalRefreshToken','.jl','label','PubSub\x20already\x20exists','Graph\x20database\x20creation\x20failed.','getVectorDatabase','setSinkId','.pdf','query-helper-invalid-argument','getTableConnector','registerDestination','\x27\x20dabatase\x20id.','JobWorker:\x20Handling\x20job\x20attribution','LoadKnowledgeFunction','Invalid\x20workflow\x20block\x20type.','setupConnectionEvents','getDTVolatility','onloadeddata','ended','unregisterPublisher','Code','More\x20content\x20available\x20on\x20page\x20','sourceVideo','\x20attributed\x20to\x20','messageListeners','framerate','observer','loadFromDisk','accumulateResult','handshakeState','StorageEventType','onUnregisterPublisher','width','Syncing','logMMRRebuild','SyncComplete','availableTrackKinds','retryQueues','thread-','RestartNeedMediaStream','modelStorageBuckets','totalEncodeTime','processInboundReports','/nodes','ExternalStorageConnection\x20not\x20found','byteLength','jobPhase','Opened\x20object\x20store\x20bucket','pub-sub-topic-already-exists','Cannot\x20publish\x20file:\x20','ranges','handleSubscriptionSubscribeMediaStream','toLocaleDateString','amd','createVectorDatabase','Invalid\x20value.\x20Property\x20\x27','Incoming','\x0a</uploaded-files>','ConnectionNoRetryQueue','subtle','job-dispatcher-job-exists','objectRequests','GraphDatabaseAlreadyExists','Invalid\x20limit:\x20must\x20be\x20a\x20positive\x20number','Label\x20already\x20in\x20use\x20by\x20AI\x20Service','subscriptionManager','Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20','Restart\x20NeedMediaStream','connector','ExternalStorage','Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27','dataUnsubscribers','processAddContent','relation-extractor','Missing\x20transaction\x20id','generative-ai-worker-creation-failed','Opened\x20graph\x20database','queries','getRoot','.mustache','notifyObjectStoreOfNodeLeave','getShareableStream','reads','createAIJob','Connection\x20does\x20not\x20exist.','GenerativeAIModelOutputType','handshakeDebounce','handleOptimizationConnectionSuccess','getReceiverBitrate','removeTopic','Queued','keyValueDatabases','createOutgoingSubscription','load','WorkflowDoesNotExist','logEvent','currentVersion','\x0a\x20\x20===\x20MMR\x20Computation\x20Time:\x20','connection-buffer-not-empty','job-dispatcher-invalid-payload','handleOnMessage','documentPath','getMediaSubscription','Cannot\x20subscribe\x20to\x20ObjectStore:\x20Already\x20subscribed','modelName','GenerativeAITracing\x20-\x20Error\x20while\x20tracing','handleDetectionSystemEvents','STVolatility','PubSubTopicAlreadyExists','UnpublishMediaStream','blockId','getObjectStoreBuckets','dt_volatility','Internal\x20unknown\x20error:\x20','getOrResetPendingFileTimeout','updatePropagationProperties','play','concat','DataStream','KeyValueDatabase\x20-\x20Assuming\x20no\x20nodes\x20available\x20to\x20sync.\x20Completing\x20sync.','createPubSubTopic','connectorConstructor','debug','task','removeConnection','object-storage-upload','openJobWorker','clearWaitAnswer','FramePerSecond','pendingHandshakeCandidates','name','bytesSent','setDoc','isSync','checkAudioVolume','User\x20not\x20signed\x20in','user','jobDispatchers','\x20received\x20result:','SearchPerplexity','publishSyncCompleted','Parameter\x20','KeyValueDatabaseAlreadyExists','@root','AudioVolume','createConstantSource','Sending\x20\x27','NodeUpdate','updateDebounce','aiSearchApiKey','isNeedRestart','token','searchOnGoogle','key-value-database-does-not-exist','setReportCapacity','accumulated','Optimization','writes','MediaStreamPriority','StreamReport','unsubscribe','globalObject','collectReceiversStats','type','Peaks\x20requested\x20were\x20not\x20found\x20in\x20local\x20MMR','graphDatabases','Invalid\x20data\x20event.','system-stats','storageType','Failed','output','getConnections','.hs','sendAction','SearchGoogle','handleHandshake','arrayBufferToObject','timePerFrame','generative-ai-context-creation-failed','engine','QueryFile','addIssue','getInternalTrackParams','ObjectStoreCannotWriteTransaction','not-in','publishSystemMessage','JobDispatcherDoesNotExist','forEach','GenerativeAIEngineType','isInternalSDKConfigs','JobWorker:\x20Received\x20job','startTracing','@id','trace','subscribeToJobs','stun:','streams','contentManager','JobQueueService:\x20Running\x20job','length','documentParserConnector','handleUpdateMediaStream','listenerUnsubscriber','\x20is\x20required','contentQueue','maxThreshold','orchestrator','CloseGraphDatabase','currentDistance','commitBatch','replace','ConnectionState','InitialPrompt','.pug','push','contentSize','`\x0a\x0a','remoteNodes','logs','fetchContentFromUrl','job-worker-creation-failed','.xml','Cluster\x20already\x20joined','isWhereValue','lastTransactionId','GenerativeAITracing\x20-\x20trace\x20is\x20not\x20open','getAudioVideoDelay','FileDelete','UnsubscribeMediaStreamdiaStream','Low','VectorDatabaseMissingConnector','attributes','outgoingStreams','OptimizationConnectionSuccess','dataTopics','readyDebounce','getDisplayName','maxDepth','Wait','Buffering\x20event','senderPreviousTimestamp','getOutgoingOptimizationConnections','ObjectStoreInvalidPayload','groupId','getNumberOutgoingSubscriptions','aiSearchConnector','frameTime','remote-connection-exists','NodeAlreadyExist','AIzaSyDHDgmA574NVeMWV9SpW-q4QQMjkANuueg','Handshake','RemoteConnectionExists','getCurrentVersion','getWorkflowExternalStorageConnections','accessToken','getTotalNodes','Cannot\x20find\x20External\x20Storage\x20connection:\x20','externalStorageConnections','reset','isComputingMMR','hashNodes','ObjectStoreInvalidState','.ini','handlePeerConnectionSystemEvents','VectorDatabaseStats','Logging\x20not\x20enabled\x20for\x20channel\x20','enabledChannels','Opened\x20key\x20value\x20database','signalingState','readyPromises','commitLevel','PeerConnectionInvalidDestination','Publisher\x20already\x20registered\x20on\x20PubSubTopic\x20','logPropagateSystemEvent','Error\x20executing\x20code','waitAsync','job-dispatcher-creation-failed','KeyValueDatabaseInvalidQuery','removeListener','waitConnected','GenerativeAIModelInputType','aws','modelStore','addProblem','/resources/generative-ai-grammar/items','/resources/generative-ai-agent/items','connectionStateListener','description','every','Error\x20retrieving\x20context','\x0a\x0a`Executing\x20query`\x0a\x0a','options','URL\x20is\x20required','generative-ai-context-job-failed','onHandshakeStateChange','removeTrack','filter','layout','getShareableStreamId','Graph\x20database\x20block\x20is\x20missing\x20required\x20data','operator','getConnection','Job\x20worker\x20creation\x20failed.','resolution','Everyone\x20','Execute\x20a\x20SQL\x20query\x20on\x20a\x20file\x20to\x20retrieve\x20data.\x20The\x20query\x20should\x20be\x20designed\x20to\x20extract\x20relevant\x20information\x20from\x20the\x20file.\x20Available\x20table\x20is\x20file\x20and\x20columns\x20are:\x20','isConnected','.css','getClosestNodes','.dart','Model\x20not\x20found:\x20','drawImage','join-cluster','onTrack','node-already-exist','getIsLoaded','sendRequest','Pending','Received\x20event\x20on\x20cluster','createGenerativeAIContext','NodeConnectionsUpdate','setItem','node-type-not-supported','connectionManager','createRemoteMediaStream','ancestors','split','compareTransactions','\x27\x20payload:','bandwidth.bitrate','pub-sub-topic-name-not-string','bufferedAmountLowThreshold','Subscription','blocks','publishFolder','Get','entity-extractor','query','Support','startTime','{\x20\x22status\x22:\x20\x22success\x22\x20}','getContext','ObjectStore\x20not\x20found','nodeKey','path','getJobDispatchers','crewdle-sdk-logging-','Rejected','connection','track','value','asyncHeaders','Workflow','detectProblems','clearWaitSuccess','openGenerativeAIContext','3zhAgII','FPS','size','audioContext','getQuery','checkDeviceConfig','PeerConnection','Debug','No\x20async\x20endpoint\x20URL','currentTimestamp','tableName','stream','onremovetrack','\x20not\x20found.','collectTransactionsFromNode','Generative\x20AI\x20context\x20job\x20timeout.','subscribe','getSubscriptionLabel','GenerativeAIWorkerMissingConnector','joinedClusters','VectorDatabaseAlreadyExists','The\x20system\x20topic\x20has\x20not\x20been\x20registered.','Key-Value\x20Database\x20-\x20Sync\x20Completed','subscribedTracks','\x20after\x20','Sender\x20connection\x20is\x20not\x20initialized.','us-east-1','durationTime','handleNodeSystemEvents','function','fps','cpu.fps','.pptx','removeNode','\x20already\x20exists','systemMessages','Node\x20type\x20is\x20invalid','\x0a\x20\x20subscription\x20Subscribe($name:\x20String!)\x20{\x0a\x20\x20\x20\x20subscribe(name:\x20$name)\x20{\x0a\x20\x20\x20\x20\x20\x20data\x0a\x20\x20\x20\x20\x20\x20name\x0a\x20\x20\x20\x20}\x0a\x20\x20}\x0a','Invalid\x20credentials','Error\x20writing\x20buffered\x20chunk\x20to\x20stream','object-store-already-exists','getChannelData','.info/serverTimeOffset','GenerativeAIWorker:\x20Opening','api','source','handleIceCandidates','1:519415702791:web:5dd39042f881cfde3251a2','SyncKeyValueDatabase\x20-\x20Ancestors\x20','Cannot\x20subscribe\x20to\x20PubSubTopic:\x20Already\x20subscribed','jitter','authNode','subscribeToLocalContent','initializeLoggingDatabase','No\x20files\x20found','rejectReady','LocalMediaStreamTrackFail','rebuildMMR','tableLayout','\x20sending\x20attempt\x20','authContext','functions','.tcl','AudioContext\x20is\x20not\x20available','Success','retryLimit','handshakeCandidates','jobWorkers','bufferedEvents','stopConnection','removeObjectStore','createBuffer','receiverCurrentBytes','configure','Object\x20store\x20not\x20synced.','processTransactionsToComputeMMR','text','match','Error\x20reading\x20file\x20chunk\x20after\x20','vectorDatabaseConnector','payloadType','hasTracks','SystemStats','computeHash','error','graph-database-does-not-exist','discover','responseTimeout','publishTransaction','Sync\x20completed','externalStorages','bytesReceived','models','Remediation','getVectorDatabases','handleSubscriptionSystemEvents','Cannot\x20fetch\x20content\x20from\x20this\x20type\x20of\x20file','Relation','hashPeakHashes','getDisplayMedia','keys','pub-sub-topic-does-not-exist','writeFile','subscriptionRequestsQueue','getExternalStorageConnections','getCoresFromCapacityReport','rootComputationPromise','removeJobWorker','srcObject','retryQueue','\x27:\x20missing\x20or\x20invalid\x20keyPath','rank','everyone','true','onDataChannel','addContent','setCurrentVersion','UnsubscribeMediaStream','checkExistingPendingFileContent','.erl','currentBatch','NodeNotAuthenticated','getRank','client','abs','\x27\x20in\x20layout:\x20Version\x20must\x20be\x20a\x20number','unregisterRemoteNode','receiverTotalMessages','ModelVector','minThreshold','graph-database-missing-connector','packetsSent','evaluateProccessedJob','Skill','Invalid\x20order:\x20must\x20be\x20asc\x20or\x20desc','audioSource','sampleRate','Hash\x20computation\x20failed,\x20retrying...','clusters','sendWithRetry','isBidResponse','isWhereBetween','removeTrackListeners','JobDispatcherInvalidJobType','receiverPreviousBytes','handleNodeJoin','Image','handleRemoteTrackFailure','createKeyValueDatabase','developers/','High','updateUser','.rkt','external-storage','AI\x20Search\x20connector\x20not\x20set','maxConnections','GenerativeAIWorker:\x20Opened','catch','getSettings','\x20when\x20you\x20need\x20contextual\x20data\x20to\x20inform\x20your\x20response.','values','GraphDatabaseStats','threadId','PubSubTopic\x20publish','onNodeUpdate','setupRenderElement','publishLocalDynamicMediaStream','\x0a\x20===\x20Total\x20Nodes:','KeyValueDatabaseSendTransactions','SenderPeerConnection.send','eventEmitter','ConnectionNotConnected','signOut','KeyValueDatabaseContentSynchronized','getGenerativeAIWorkers','.erb','logInitialMMR','connectionGroup','owner','Invalid\x20subscriber.','syncTimeout','getExternalStorageConnection','warn','max','test-page','workflow','DatabaseEvent','\x27\x20in\x20layout','Disconnect','remoteConnections','authenticateUser','createGraphDatabase','processReceiverReport','debounceRebuildMMR','LocalMediaStreamNoAudioContext','InvalidPublisher','connect','.java','collectStats','Invalid\x20value.\x20Must\x20be\x20an\x20object.','Job\x20Worker\x20does\x20not\x20exist','addDoc','maxBitrate','receiverBitrate','.doc','ExternalStorageConnectionAlreadyExists','clear','unregisterCluster','Relation\x20extractor\x20block\x20is\x20missing\x20required\x20data','application/octet-stream','entries','indexes','setPriority','removeItem','getDatabase','RemoteAdd','Early\x20return:\x20','SenderSendMessage','OutgoingMediaStreamNoTopic','agentConfig','join','retryDelay','registerSubscriber','authService','getDataBucketIds','storage','VectorSearch','resetConnection','search','ObjectStoreInvalidPath','logWaitTime','\x0a\x0a`Fetching\x20content\x20from\x20URL\x20','setTimestamp','text/','ExecuteCode','file','\x0a\x20\x20===\x20Total\x20Nodes:\x20','contentRequestSent','KeyValueDatabaseContentAvailable','sdkValidateAccess','verb','Joined\x20cluster','total','buildQuery','removePubSubTopic','getAgents','node','handleFolderCreate','getGrammars','sender','instructions','fileChunks','evaluateBidsAndAttributeJob','loadEnabledChannels','Start\x20Ingestion','\x20were\x20ready\x20in','success','Error\x20fetching\x20context','getPartsFromSubscription','createConnection','handleRemediationSystemEvents','FolderDelete','getLocalId','timestamp','File\x20sending\x20interrupted','Support:\x20','createDataChannel','Data\x20cluster\x20is\x20not\x20open.','Count','find','receivers','sendReject','features','nlpLibraryConnector','Missing\x20external\x20storage\x20connector','Cannot\x20create\x20remote\x20node:\x20Node\x20already\x20exists:\x20','ExternalStorageNameNotString'];a0_0x26d0=function(){return _0x2c7126;};return a0_0x26d0();}function a0_0x5c6e(_0x35dba9,_0x4c0258){const _0x26d031=a0_0x26d0();return a0_0x5c6e=function(_0x5c6eec,_0x4525ac){_0x5c6eec=_0x5c6eec-0xb6;let _0x3c4e8d=_0x26d031[_0x5c6eec];return _0x3c4e8d;},a0_0x5c6e(_0x35dba9,_0x4c0258);}(function(_0x9b90df,_0x2c7a43){const _0x2a7a6b=a0_0x5c6e,_0x281fdc=_0x9b90df();while(!![]){try{const _0x5d929b=parseInt(_0x2a7a6b(0x321))/0x1*(-parseInt(_0x2a7a6b(0x435))/0x2)+parseInt(_0x2a7a6b(0x84a))/0x3*(-parseInt(_0x2a7a6b(0x246))/0x4)+-parseInt(_0x2a7a6b(0x66d))/0x5+-parseInt(_0x2a7a6b(0x5e0))/0x6*(parseInt(_0x2a7a6b(0x9e3))/0x7)+parseInt(_0x2a7a6b(0x304))/0x8*(-parseInt(_0x2a7a6b(0xdc))/0x9)+-parseInt(_0x2a7a6b(0x380))/0xa+parseInt(_0x2a7a6b(0x57e))/0xb;if(_0x5d929b===_0x2c7a43)break;else _0x281fdc['push'](_0x281fdc['shift']());}catch(_0x249d6b){_0x281fdc['push'](_0x281fdc['shift']());}}}(a0_0x26d0,0x71390),!function(_0x2bfaad,_0xa4bb05){const _0x4bd89d=a0_0x5c6e;if('object'==typeof exports&&_0x4bd89d(0x56e)==typeof module)module[_0x4bd89d(0x2d4)]=_0xa4bb05();else{if(_0x4bd89d(0x867)==typeof define&&define[_0x4bd89d(0x71b)])define([],_0xa4bb05);else{var _0x3aa5a9=_0xa4bb05();for(var _0x2e9206 in _0x3aa5a9)(_0x4bd89d(0x56e)==typeof exports?exports:_0x2bfaad)[_0x2e9206]=_0x3aa5a9[_0x2e9206];}}}(this,()=>((()=>{'use strict';const _0x11ce6=a0_0x5c6e;var _0x284244={0x14d:(_0x3de37f,_0x9f2e6c,_0x31b988)=>{const _0x2c77d4=a0_0x5c6e;_0x31b988['d'](_0x9f2e6c,{'O':()=>_0xe322f0});const _0xe322f0={'version':_0x2c77d4(0x347),'isProduction':!0x1,'firebaseConfig':{'apiKey':_0x2c77d4(0x7df),'authDomain':_0x2c77d4(0x158),'databaseURL':_0x2c77d4(0x538),'projectId':_0x2c77d4(0x6b6),'storageBucket':'crewdle-sdk-stg.appspot.com','appId':_0x2c77d4(0x879),'functionsRegion':'northamerica-northeast1'},'google':{'searchEngineId':_0x2c77d4(0x1fe)},'aws':{'endpoint':_0x2c77d4(0x981),'region':_0x2c77d4(0x864)}};},0x33b:(_0x4413f4,_0xc16f7,_0x489542)=>{_0x489542['d'](_0xc16f7,{'O':()=>_0x1f9273});const _0x1f9273={};},0x3e6:(_0x3de909,_0x560e9d,_0x32345f)=>{const _0x40c196=a0_0x5c6e;_0x32345f['d'](_0x560e9d,{'O':()=>_0x1481fd});const _0x1481fd={'version':_0x40c196(0x3be),'isProduction':!0x0,'firebaseConfig':{'apiKey':'AIzaSyCY6T49D81QpoZ_ApZ6atpT4c3Yy0_lWvg','authDomain':'crewdle-sdk.firebaseapp.com','databaseURL':'https://crewdle-sdk-default-rtdb.firebaseio.com','projectId':_0x40c196(0x9ea),'storageBucket':_0x40c196(0x5cb),'messagingSenderId':_0x40c196(0x5fb),'appId':_0x40c196(0x5b4),'measurementId':_0x40c196(0x358)},'aws':{'endpoint':'https://e7if27umpzf2ff4k63wgzo4pri.appsync-api.us-east-1.amazonaws.com/graphql','region':'us-east-1'}};},0x20:(_0x30499a,_0x26e770,_0x11f440)=>{_0x11f440['d'](_0x26e770,{'O':()=>_0x18f270});const _0x18f270={};}},_0x522c05={};function _0x146b50(_0x1a5e75){const _0x5bca98=a0_0x5c6e;var _0x1c52f6=_0x522c05[_0x1a5e75];if(void 0x0!==_0x1c52f6)return _0x1c52f6[_0x5bca98(0x2d4)];var _0x10146b=_0x522c05[_0x1a5e75]={'exports':{}};return _0x284244[_0x1a5e75](_0x10146b,_0x10146b[_0x5bca98(0x2d4)],_0x146b50),_0x10146b[_0x5bca98(0x2d4)];}_0x146b50['d']=(_0x4155c6,_0x477bb9)=>{const _0xccca81=a0_0x5c6e;for(var _0x435b44 in _0x477bb9)_0x146b50['o'](_0x477bb9,_0x435b44)&&!_0x146b50['o'](_0x4155c6,_0x435b44)&&Object[_0xccca81(0x59a)](_0x4155c6,_0x435b44,{'enumerable':!0x0,'get':_0x477bb9[_0x435b44]});},_0x146b50['g']=(function(){const _0x31b03a=a0_0x5c6e;if(_0x31b03a(0x56e)==typeof globalThis)return globalThis;try{return this||new Function(_0x31b03a(0x6a4))();}catch(_0x3d6952){if(_0x31b03a(0x56e)==typeof window)return window;}}()),_0x146b50['o']=(_0x570034,_0x1050f1)=>Object['prototype'][_0x11ce6(0x63e)]['call'](_0x570034,_0x1050f1),_0x146b50['r']=_0x49261d=>{const _0x325948=_0x11ce6;'undefined'!=typeof Symbol&&Symbol[_0x325948(0x4db)]&&Object['defineProperty'](_0x49261d,Symbol[_0x325948(0x4db)],{'value':_0x325948(0xbc)}),Object[_0x325948(0x59a)](_0x49261d,_0x325948(0x511),{'value':!0x0});};var _0x1ffca6,_0x8fa077,_0x1e4869,_0x47df68={};_0x146b50['r'](_0x47df68),_0x146b50['d'](_0x47df68,{'KeyValueDatabase':()=>_0x44d718,'LayoutBuilder':()=>_0x557a54,'LoggingChannels':()=>_0x1e4869,'QueryBuilder':()=>_0x206493,'SDK':()=>_0x2a165f,'SDKClientErrorCodes':()=>_0x1ffca6,'TableBuilder':()=>_0x4f4589,'logger':()=>_0x5c02ff}),function(_0x2c257d){const _0x4abde3=_0x11ce6;_0x2c257d[_0x4abde3(0x9e7)]=_0x4abde3(0x748),_0x2c257d[_0x4abde3(0x9bc)]='cluster-already-joined',_0x2c257d['ExternalStorageConnectionAlreadyExists']=_0x4abde3(0x235),_0x2c257d[_0x4abde3(0x57a)]='external-storage-connection-already-subscribed',_0x2c257d[_0x4abde3(0x986)]=_0x4abde3(0x1b6),_0x2c257d[_0x4abde3(0x1ba)]=_0x4abde3(0x99b),_0x2c257d[_0x4abde3(0x664)]='external-storage-invalid-path',_0x2c257d['ExternalStorageNameNotString']=_0x4abde3(0x421),_0x2c257d[_0x4abde3(0x9dc)]=_0x4abde3(0x42f),_0x2c257d[_0x4abde3(0x284)]=_0x4abde3(0x1ef),_0x2c257d['GenerativeAIContextDoesNotExist']='generative-ai-context-does-not-exist',_0x2c257d[_0x4abde3(0x120)]='generative-ai-context-job-missing-thread-id',_0x2c257d['GenerativeAILabelConflict']=_0x4abde3(0x42a),_0x2c257d[_0x4abde3(0x39a)]=_0x4abde3(0x227),_0x2c257d[_0x4abde3(0x85c)]=_0x4abde3(0x992),_0x2c257d['GenerativeAIWorkerModelSyncError']=_0x4abde3(0x17c),_0x2c257d[_0x4abde3(0x724)]=_0x4abde3(0xee),_0x2c257d[_0x4abde3(0x280)]=_0x4abde3(0x89f),_0x2c257d[_0x4abde3(0x203)]=_0x4abde3(0x8cc),_0x2c257d[_0x4abde3(0x21b)]=_0x4abde3(0x58e),_0x2c257d[_0x4abde3(0x9ab)]=_0x4abde3(0xbe),_0x2c257d[_0x4abde3(0x7a0)]='job-dispatcher-does-not-exist',_0x2c257d[_0x4abde3(0x2d2)]=_0x4abde3(0x722),_0x2c257d[_0x4abde3(0x598)]=_0x4abde3(0x1d9),_0x2c257d[_0x4abde3(0x8d9)]=_0x4abde3(0x4c7),_0x2c257d['JobWorkerAlreadyExists']=_0x4abde3(0x3dd),_0x2c257d[_0x4abde3(0x999)]=_0x4abde3(0x20c),_0x2c257d[_0x4abde3(0x2c7)]=_0x4abde3(0x872),_0x2c257d[_0x4abde3(0x22d)]=_0x4abde3(0x6da),_0x2c257d[_0x4abde3(0x5a3)]=_0x4abde3(0x3bc),_0x2c257d[_0x4abde3(0x9c9)]='object-store-name-not-string',_0x2c257d[_0x4abde3(0x7d8)]=_0x4abde3(0x495),_0x2c257d[_0x4abde3(0x92f)]='object-store-invalid-path',_0x2c257d[_0x4abde3(0x56a)]=_0x4abde3(0x6d4),_0x2c257d[_0x4abde3(0x237)]='internal-sdk-error',_0x2c257d[_0x4abde3(0x370)]='invalid-access',_0x2c257d['KeyValueDatabaseAlreadyExists']='key-value-database-already-exists',_0x2c257d[_0x4abde3(0x444)]=_0x4abde3(0x77f),_0x2c257d[_0x4abde3(0x6b7)]='key-value-database-index-not-found',_0x2c257d[_0x4abde3(0x7fb)]=_0x4abde3(0x419),_0x2c257d[_0x4abde3(0xcf)]=_0x4abde3(0x4bf),_0x2c257d[_0x4abde3(0x9b9)]=_0x4abde3(0x4a0),_0x2c257d[_0x4abde3(0x405)]=_0x4abde3(0x5bd),_0x2c257d[_0x4abde3(0x45a)]='key-value-database-table-name-reserved',_0x2c257d[_0x4abde3(0x44d)]=_0x4abde3(0x422),_0x2c257d[_0x4abde3(0x355)]=_0x4abde3(0x5b9),_0x2c257d[_0x4abde3(0x4c9)]=_0x4abde3(0x518),_0x2c257d[_0x4abde3(0x90c)]=_0x4abde3(0x64a),_0x2c257d[_0x4abde3(0x752)]=_0x4abde3(0x716),_0x2c257d[_0x4abde3(0x53d)]=_0x4abde3(0x8af),_0x2c257d[_0x4abde3(0x29f)]=_0x4abde3(0x830),_0x2c257d[_0x4abde3(0x62d)]=_0x4abde3(0x36a),_0x2c257d[_0x4abde3(0x36d)]=_0x4abde3(0x6ee),_0x2c257d[_0x4abde3(0x2f4)]=_0x4abde3(0x492),_0x2c257d[_0x4abde3(0x989)]='remote-media-stream-invalid-subscription-params',_0x2c257d[_0x4abde3(0x966)]='subscription-request-in-progress',_0x2c257d['NodeNotAuthenticated']=_0x4abde3(0x515),_0x2c257d['NodeInvalidType']=_0x4abde3(0x543),_0x2c257d['NodeTypeNotSupported']=_0x4abde3(0x828),_0x2c257d[_0x4abde3(0x65c)]='node-type-required',_0x2c257d[_0x4abde3(0x85e)]=_0x4abde3(0x2f3),_0x2c257d['VectorDatabaseDoesNotExist']='vector-database-does-not-exist',_0x2c257d[_0x4abde3(0x7cc)]=_0x4abde3(0x9e2),_0x2c257d[_0x4abde3(0x625)]=_0x4abde3(0x29c);}(_0x1ffca6||(_0x1ffca6={}));class _0x39299d extends Error{[_0x11ce6(0x505)];constructor(_0x5ece34,_0x28c0d2){const _0x10282a=_0x11ce6;super(_0x28c0d2),this[_0x10282a(0x505)]=_0x5ece34;}}!function(_0x3cf15d){const _0x5c1a66=_0x11ce6;_0x3cf15d[_0x5c1a66(0x267)]=_0x5c1a66(0x566),_0x3cf15d[_0x5c1a66(0x475)]=_0x5c1a66(0x20d),_0x3cf15d[_0x5c1a66(0x45f)]=_0x5c1a66(0x607),_0x3cf15d[_0x5c1a66(0x9d3)]=_0x5c1a66(0x964),_0x3cf15d[_0x5c1a66(0x2b8)]='graph-database',_0x3cf15d[_0x5c1a66(0x72b)]=_0x5c1a66(0x8e3),_0x3cf15d[_0x5c1a66(0x545)]='media-stream',_0x3cf15d[_0x5c1a66(0x1e1)]=_0x5c1a66(0x4aa);}(_0x8fa077||(_0x8fa077={})),function(_0x59de65){const _0x5d326d=_0x11ce6;_0x59de65[_0x5d326d(0x530)]=_0x5d326d(0x3c5),_0x59de65[_0x5d326d(0x360)]='default',_0x59de65[_0x5d326d(0x3d5)]=_0x5d326d(0x842),_0x59de65[_0x5d326d(0x7b9)]=_0x5d326d(0x187),_0x59de65['Cluster']=_0x5d326d(0x131),_0x59de65[_0x5d326d(0x575)]='content',_0x59de65[_0x5d326d(0x75c)]=_0x5d326d(0x28b),_0x59de65['Detection']=_0x5d326d(0x630),_0x59de65['Events']=_0x5d326d(0x2b2),_0x59de65[_0x5d326d(0x692)]=_0x5d326d(0x89e),_0x59de65[_0x5d326d(0x26e)]=_0x5d326d(0x4f4),_0x59de65[_0x5d326d(0x45f)]=_0x5d326d(0x607),_0x59de65['Node']=_0x5d326d(0x940),_0x59de65[_0x5d326d(0x2b4)]=_0x5d326d(0x485),_0x59de65[_0x5d326d(0x267)]='pubsub',_0x59de65[_0x5d326d(0x5c8)]=_0x5d326d(0x597),_0x59de65[_0x5d326d(0x8a7)]=_0x5d326d(0x3eb),_0x59de65[_0x5d326d(0x923)]=_0x5d326d(0xe9),_0x59de65['Signaling']='signaling',_0x59de65['Stats']='stats',_0x59de65['Subscription']='subscription',_0x59de65[_0x5d326d(0x838)]=_0x5d326d(0x23b),_0x59de65[_0x5d326d(0x18e)]=_0x5d326d(0x260),_0x59de65[_0x5d326d(0x89c)]=_0x5d326d(0x78d),_0x59de65[_0x5d326d(0x2dc)]=_0x5d326d(0x902),_0x59de65['PeerConnection']='peer-connection';}(_0x1e4869||(_0x1e4869={}));const _0x4aea4d=require('@crewdle/web-sdk-types');class _0x206493{['query'];constructor(_0x14c3fc){const _0x25ba0a=_0x11ce6;this[_0x25ba0a(0x837)]={'orderBy':{'key':_0x14c3fc,'direction':_0x25ba0a(0x31d)}};}static['index'](_0x5467f5){const _0x51cc6a=_0x11ce6;if(_0x51cc6a(0x9cc)!=typeof _0x5467f5||0x0===_0x5467f5[_0x51cc6a(0x7ad)])throw new _0x39299d(_0x1ffca6[_0x51cc6a(0x36d)],_0x51cc6a(0x1e7));return new _0x206493(_0x5467f5);}static[_0x11ce6(0x3e7)](_0x38df83){const _0x5a78a3=_0x11ce6;try{return _0x206493[_0x5a78a3(0x93d)](_0x38df83),!0x0;}catch(_0x5bab52){return!0x1;}}static[_0x11ce6(0x93d)](_0x48ff86){const _0x3d811d=_0x11ce6,_0x10a07b=_0x206493['index'](_0x48ff86[_0x3d811d(0x512)]?.['key']??_0x48ff86['where']?.['key']??'');if(_0x48ff86[_0x3d811d(0x1f2)]){const _0x594479=_0x48ff86[_0x3d811d(0x1f2)];if((_0x206493[_0x3d811d(0x7c5)](_0x594479)||_0x206493['isWhereValues'](_0x594479)||_0x206493[_0x3d811d(0x8d7)](_0x594479))&&_0x10a07b[_0x3d811d(0x1f2)](_0x594479['operator'],_0x594479[_0x3d811d(0x844)]),_0x48ff86[_0x3d811d(0x512)]?.[_0x3d811d(0x559)]&&_0x48ff86['orderBy']?.[_0x3d811d(0x559)]!==_0x48ff86[_0x3d811d(0x1f2)][_0x3d811d(0x559)])throw new _0x39299d(_0x1ffca6[_0x3d811d(0x36d)],_0x3d811d(0x592));}return _0x48ff86['orderBy']&&_0x10a07b['orderBy'](_0x48ff86[_0x3d811d(0x512)][_0x3d811d(0x282)]),_0x48ff86[_0x3d811d(0x123)]&&_0x10a07b['limit'](_0x48ff86[_0x3d811d(0x123)]),_0x48ff86[_0x3d811d(0xbf)]&&_0x10a07b[_0x3d811d(0xbf)](_0x48ff86[_0x3d811d(0xbf)]),_0x10a07b;}[_0x11ce6(0x84e)](){return{...this['query']};}[_0x11ce6(0x1f2)](_0x474f6e,_0x35f4f7){const _0x483bc3=_0x11ce6,_0x1a110b={'key':this[_0x483bc3(0x837)][_0x483bc3(0x512)][_0x483bc3(0x559)],'operator':_0x474f6e,'value':_0x35f4f7};if(!_0x206493[_0x483bc3(0x7c5)](_0x1a110b)&&!_0x206493['isWhereValues'](_0x1a110b)&&!_0x206493[_0x483bc3(0x8d7)](_0x1a110b))throw new _0x39299d(_0x1ffca6[_0x483bc3(0x36d)],_0x483bc3(0x4df));return this[_0x483bc3(0x837)]['where']=_0x1a110b,this;}['orderBy'](_0xc59f95){const _0x311f7a=_0x11ce6;if('asc'!==_0xc59f95&&_0x311f7a(0x258)!==_0xc59f95)throw new _0x39299d(_0x1ffca6['QueryBuilderInvalidArgument'],_0x311f7a(0x8d0));return this[_0x311f7a(0x837)][_0x311f7a(0x512)][_0x311f7a(0x282)]=_0xc59f95,this;}['limit'](_0x55768e){const _0x5f4ff7=_0x11ce6;if(_0x5f4ff7(0x9b1)!=typeof _0x55768e||_0x55768e<0x0)throw new _0x39299d(_0x1ffca6[_0x5f4ff7(0x36d)],_0x5f4ff7(0x725));return this['query']['limit']=_0x55768e,this;}['offset'](_0x440572){const _0x365b90=_0x11ce6;if(_0x365b90(0x9b1)!=typeof _0x440572||_0x440572<0x0)throw new _0x39299d(_0x1ffca6['QueryBuilderInvalidArgument'],'Invalid\x20offset:\x20must\x20be\x20a\x20positive\x20number');return this[_0x365b90(0x837)][_0x365b90(0xbf)]=_0x440572,this;}static[_0x11ce6(0x7c5)](_0x579a49){const _0x379b5d=_0x11ce6;if(!(_0x579a49&&_0x379b5d(0x56e)==typeof _0x579a49&&_0x379b5d(0x812)in _0x579a49&&_0x379b5d(0x844)in _0x579a49))return!0x1;const {operator:_0xa8d9b,value:_0x191f05}=_0x579a49;return!(!['==','!=','>','<','<=','>='][_0x379b5d(0x2a1)](_0xa8d9b)||Array[_0x379b5d(0x984)](_0x191f05));}static[_0x11ce6(0x4e4)](_0x1e4e6d){const _0x2bcbe9=_0x11ce6;if(!(_0x1e4e6d&&'object'==typeof _0x1e4e6d&&_0x2bcbe9(0x812)in _0x1e4e6d&&'value'in _0x1e4e6d))return!0x1;const {operator:_0x3c6f60,value:_0x34d019}=_0x1e4e6d;return!(!['in',_0x2bcbe9(0x79e)]['includes'](_0x3c6f60)||!Array[_0x2bcbe9(0x984)](_0x34d019));}static[_0x11ce6(0x8d7)](_0x397636){const _0xff137=_0x11ce6;if(!(_0x397636&&_0xff137(0x56e)==typeof _0x397636&&_0xff137(0x812)in _0x397636&&'value'in _0x397636))return!0x1;const {operator:_0x5c5f05,value:_0x3ce408}=_0x397636;return!('between'!==_0x5c5f05||!Array[_0xff137(0x984)](_0x3ce408)||0x2!==_0x3ce408[_0xff137(0x7ad)]);}}class _0x557a54{[_0x11ce6(0x80f)];constructor(_0x30e1b3){const _0x1c2a37=_0x11ce6;this[_0x1c2a37(0x80f)]={'tables':{},'version':_0x30e1b3};}static[_0x11ce6(0x6e3)](_0x501abd){const _0x206278=_0x11ce6;for(const _0x521608 in _0x501abd){if(_0x206278(0x5c2)!==_0x521608&&_0x206278(0x100)!==_0x521608)return[!0x1,_0x206278(0x1a8)+_0x521608+_0x206278(0x905)];if(_0x206278(0x100)===_0x521608)for(const _0x4ba00a in _0x501abd[_0x206278(0x100)]){if(_0x206278(0x9cc)!=typeof _0x4ba00a)return[!0x1,'Invalid\x20table\x20name\x20\x27'+_0x4ba00a+'\x27'];for(const _0x348478 in _0x501abd[_0x206278(0x100)][_0x4ba00a]){if(_0x206278(0x91d)!==_0x348478)return[!0x1,_0x206278(0x1a8)+_0x348478+_0x206278(0x3d7)+_0x4ba00a+'\x27'];const _0x49257f=_0x501abd['tables'][_0x4ba00a][_0x348478]??[];for(const _0x38031e of _0x49257f)if(void 0x0===_0x38031e[_0x206278(0x363)]||_0x206278(0x9cc)!=typeof _0x38031e[_0x206278(0x363)])return[!0x1,_0x206278(0x232)+_0x4ba00a+_0x206278(0x8b8)];}}else{if('version'===_0x521608&&_0x206278(0x9b1)!=typeof _0x501abd[_0x521608])return[!0x1,_0x206278(0x57b)+_0x501abd[_0x521608]+_0x206278(0x8c7)];}}return[!0x0,_0x206278(0x382)];}static[_0x11ce6(0x80f)](_0x214dd6){const _0x5b9cfd=_0x11ce6,_0x1ac77c=new _0x557a54(_0x214dd6);return _0x1ac77c[_0x5b9cfd(0x80f)][_0x5b9cfd(0x5c2)]=_0x214dd6,_0x1ac77c;}[_0x11ce6(0x377)](_0xf1ad08){const _0x5be083=_0x11ce6;return this[_0x5be083(0x80f)]['tables'][_0xf1ad08]={},new _0x4f4589(this[_0x5be083(0x80f)]['tables'][_0xf1ad08]);}['getLayout'](){return this['layout'];}}class _0x4f4589{[_0x11ce6(0x884)];constructor(_0x387a9b){this['tableLayout']=_0x387a9b;}[_0x11ce6(0x9fc)](_0x36d394){const _0x25eb37=_0x11ce6;return this[_0x25eb37(0x884)][_0x25eb37(0x91d)]=this[_0x25eb37(0x884)][_0x25eb37(0x91d)]??[],this[_0x25eb37(0x884)]['indexes'][_0x25eb37(0x7bc)]({'keyPath':_0x36d394}),this;}}const _0x26e33e=0x40000,_0xbeb078=0x3f800,_0x59cbea=0x1388,_0x5f1f38=_0x11ce6(0x60c),_0x48ba9a=_0x11ce6(0x5f5),_0x5a7ba5=_0x11ce6(0x244),_0x40f63e=_0x11ce6(0x41a),_0x446b7a=0xdbba0,_0x5bd446='.gguf',_0x41562d=0x61a8,_0x4f4a94=0x7530,_0x1f0abe=_0x11ce6(0x6e5);var _0x21d646;!function(_0x8e6556){const _0x4346e8=_0x11ce6;_0x8e6556[_0x4346e8(0x362)]=_0x4346e8(0xcb),_0x8e6556[_0x4346e8(0x8f5)]=_0x4346e8(0xd9),_0x8e6556[_0x4346e8(0x720)]=_0x4346e8(0x18f),_0x8e6556[_0x4346e8(0x477)]=_0x4346e8(0x1c0),_0x8e6556[_0x4346e8(0x9f1)]=_0x4346e8(0x798),_0x8e6556[_0x4346e8(0x14c)]=_0x4346e8(0x5a0),_0x8e6556['GenerativeAIContextJobAlreadyConsumed']=_0x4346e8(0xb9),_0x8e6556[_0x4346e8(0x30c)]=_0x4346e8(0x80b),_0x8e6556[_0x4346e8(0xef)]='generative-ai-context-job-timeout',_0x8e6556[_0x4346e8(0x32d)]=_0x4346e8(0x731),_0x8e6556[_0x4346e8(0x62b)]=_0x4346e8(0x2bc),_0x8e6556[_0x4346e8(0x67d)]='invalid-data-chanel',_0x8e6556[_0x4346e8(0x90d)]=_0x4346e8(0x2da),_0x8e6556['InvalidSubscriber']=_0x4346e8(0x529),_0x8e6556[_0x4346e8(0x2cc)]='invalid-subscription',_0x8e6556[_0x4346e8(0x4b8)]=_0x4346e8(0x7fa),_0x8e6556[_0x4346e8(0x1c6)]=_0x4346e8(0x749),_0x8e6556[_0x4346e8(0x598)]=_0x4346e8(0x1d9),_0x8e6556[_0x4346e8(0x216)]=_0x4346e8(0x163),_0x8e6556['JobWorkerCreationFailed']=_0x4346e8(0x7c2),_0x8e6556[_0x4346e8(0x394)]=_0x4346e8(0x6a9),_0x8e6556['KeyValueDatabaseCreationFailed']=_0x4346e8(0x130),_0x8e6556[_0x4346e8(0x97c)]='key-value-database-peak-not-found',_0x8e6556[_0x4346e8(0x3a4)]=_0x4346e8(0x427),_0x8e6556[_0x4346e8(0x5c6)]=_0x4346e8(0x1ed),_0x8e6556[_0x4346e8(0x6a3)]=_0x4346e8(0x4c8),_0x8e6556[_0x4346e8(0x161)]=_0x4346e8(0x4a4),_0x8e6556['MissingRemoteConnection']='missing-incoming-connection',_0x8e6556[_0x4346e8(0x9c0)]=_0x4346e8(0xd2),_0x8e6556[_0x4346e8(0x6dd)]=_0x4346e8(0x9de),_0x8e6556[_0x4346e8(0x79d)]='object-store-cannot-write-transaction',_0x8e6556[_0x4346e8(0x7eb)]=_0x4346e8(0x3e1),_0x8e6556[_0x4346e8(0x25b)]=_0x4346e8(0x6df),_0x8e6556[_0x4346e8(0x3b4)]=_0x4346e8(0x661),_0x8e6556[_0x4346e8(0x924)]=_0x4346e8(0x3d9),_0x8e6556[_0x4346e8(0xf9)]=_0x4346e8(0xf7),_0x8e6556['RemoteMediaStreamMissingProviderId']=_0x4346e8(0x1ca),_0x8e6556[_0x4346e8(0x7e1)]=_0x4346e8(0x7dd),_0x8e6556[_0x4346e8(0x272)]=_0x4346e8(0x37b),_0x8e6556[_0x4346e8(0x988)]='subscription-request-failed',_0x8e6556[_0x4346e8(0x3b6)]=_0x4346e8(0xb6),_0x8e6556[_0x4346e8(0xe1)]=_0x4346e8(0x2f1),_0x8e6556[_0x4346e8(0x7de)]=_0x4346e8(0x820),_0x8e6556[_0x4346e8(0x7f5)]=_0x4346e8(0x327),_0x8e6556[_0x4346e8(0x38b)]=_0x4346e8(0x2b7),_0x8e6556['WorkflowDoesNotExist']='workflow-does-not-exist',_0x8e6556[_0x4346e8(0x446)]=_0x4346e8(0x5a1);}(_0x21d646||(_0x21d646={}));const _0x140eb7=new Map([[_0x21d646[_0x11ce6(0x362)],_0x11ce6(0x334)],[_0x21d646[_0x11ce6(0x8f5)],'Connection\x20not\x20connected.'],[_0x21d646[_0x11ce6(0x720)],'Connection\x20does\x20not\x20have\x20a\x20retry\x20queue.'],[_0x21d646['ConnectionInvalidDataEvent'],_0x11ce6(0x78c)],[_0x21d646[_0x11ce6(0x9f1)],'Generative\x20AI\x20context\x20creation\x20failed.'],[_0x21d646[_0x11ce6(0x14c)],_0x11ce6(0xa11)],[_0x21d646[_0x11ce6(0x136)],'Generative\x20AI\x20context\x20job\x20already\x20consumed.'],[_0x21d646[_0x11ce6(0x30c)],'Generative\x20AI\x20context\x20job\x20failed.'],[_0x21d646[_0x11ce6(0xef)],_0x11ce6(0x859)],[_0x21d646[_0x11ce6(0x32d)],'AI\x20worker\x20creation\x20failed.'],[_0x21d646[_0x11ce6(0x62b)],_0x11ce6(0x6ea)],[_0x21d646[_0x11ce6(0x67d)],'Invalid\x20data\x20channel.'],[_0x21d646[_0x11ce6(0x90d)],_0x11ce6(0x3f8)],[_0x21d646['InvalidSubscriber'],_0x11ce6(0x8fd)],[_0x21d646['InvalidSubscription'],'Invalid\x20subscription.'],[_0x21d646[_0x11ce6(0x4b8)],'Job\x20service\x20creation\x20failed.'],[_0x21d646[_0x11ce6(0x1c6)],'Invalid\x20job\x20service\x20payload.'],[_0x21d646['JobDispatcherJobNotFound'],'Job\x20service\x20job\x20not\x20found.'],[_0x21d646['JobDispatcherObserverNotFound'],_0x11ce6(0x217)],[_0x21d646[_0x11ce6(0x995)],_0x11ce6(0x814)],[_0x21d646[_0x11ce6(0x394)],_0x11ce6(0x388)],[_0x21d646['KeyValueDatabaseCreationFailed'],_0x11ce6(0x674)],[_0x21d646['KeyValueDatabasePeakNotFound'],'Key-value\x20database\x20peak\x20not\x20found.'],[_0x21d646[_0x11ce6(0x3a4)],'Key-value\x20database\x20table\x20does\x20not\x20exist.'],[_0x21d646['KeyValueDatabaseTransactionTableNotInitialized'],_0x11ce6(0x47b)],[_0x21d646[_0x11ce6(0x6a3)],_0x11ce6(0x1e2)],[_0x21d646[_0x11ce6(0x161)],'Local\x20stream\x20does\x20not\x20exist.'],[_0x21d646[_0x11ce6(0x2be)],_0x11ce6(0x73a)],[_0x21d646[_0x11ce6(0x9c0)],_0x11ce6(0x85f)],[_0x21d646['MistletCapacityReportNotSet'],'Mistlet\x20capacity\x20report\x20not\x20set.'],[_0x21d646[_0x11ce6(0x79d)],_0x11ce6(0x1db)],[_0x21d646[_0x11ce6(0x25b)],_0x11ce6(0x104)],[_0x21d646[_0x11ce6(0x7eb)],_0x11ce6(0xdf)],[_0x21d646[_0x11ce6(0x3b4)],_0x11ce6(0x894)],[_0x21d646[_0x11ce6(0x924)],_0x11ce6(0x3d8)],[_0x21d646[_0x11ce6(0xf9)],_0x11ce6(0x56f)],[_0x21d646[_0x11ce6(0x353)],'Remote\x20media\x20stream\x20is\x20missing\x20a\x20provider\x20id.'],[_0x21d646['RemoteConnectionExists'],_0x11ce6(0x259)],[_0x21d646[_0x11ce6(0x272)],_0x11ce6(0x3a1)],[_0x21d646['SubscriptionRequestFailed'],'Subscription\x20request\x20failed.'],[_0x21d646[_0x11ce6(0x3b6)],_0x11ce6(0x1be)],[_0x21d646[_0x11ce6(0xe1)],_0x11ce6(0x129)],[_0x21d646[_0x11ce6(0x7de)],_0x11ce6(0x3d6)],[_0x21d646['PeerConnectionInvalidDestination'],_0x11ce6(0x464)],[_0x21d646[_0x11ce6(0x38b)],_0x11ce6(0x418)],[_0x21d646[_0x11ce6(0x744)],'Workflow\x20does\x20not\x20exist.'],[_0x21d646['WorkflowInvalidBlockType'],_0x11ce6(0x6f4)]]);class _0x490cf1 extends Error{['code'];static [_0x11ce6(0x9fb)]=_0x21d646;[_0x11ce6(0x4ff)];constructor(_0x1d6407,_0x4527dd){const _0x3806e0=_0x11ce6;super(_0x3806e0(0x1df)+_0x1d6407+':\x20'+_0x140eb7[_0x3806e0(0x3f2)](_0x1d6407)+_0x3806e0(0x1d5)+JSON[_0x3806e0(0x3ea)](_0x4527dd)),this[_0x3806e0(0x505)]=_0x1d6407,this[_0x3806e0(0x4ff)]=_0x4527dd||{};}}var _0x18f1c1,_0x561700,_0x3b214b,_0x5b8679,_0x438bab,_0x28f344,_0x48fa30;!function(_0xf7aa07){const _0x5b736a=_0x11ce6;_0xf7aa07[_0xf7aa07[_0x5b736a(0x7b5)]=0x0]='CloseGraphDatabase',_0xf7aa07[_0xf7aa07[_0x5b736a(0x303)]=0x1]='CloseJobDispatcher',_0xf7aa07[_0xf7aa07[_0x5b736a(0x61a)]=0x2]='CloseJobWorker',_0xf7aa07[_0xf7aa07['CloseExternalStorageConnection']=0x3]='CloseExternalStorageConnection',_0xf7aa07[_0xf7aa07[_0x5b736a(0x1fa)]=0x4]=_0x5b736a(0x1fa),_0xf7aa07[_0xf7aa07['CloseMediaStream']=0x5]=_0x5b736a(0x526),_0xf7aa07[_0xf7aa07[_0x5b736a(0x1b5)]=0x6]=_0x5b736a(0x1b5),_0xf7aa07[_0xf7aa07['ClosePubSubTopic']=0x7]=_0x5b736a(0x144),_0xf7aa07[_0xf7aa07[_0x5b736a(0x367)]=0x8]=_0x5b736a(0x367),_0xf7aa07[_0xf7aa07[_0x5b736a(0xc5)]=0x9]=_0x5b736a(0xc5),_0xf7aa07[_0xf7aa07[_0x5b736a(0x39b)]=0xa]='GenerativeAIContextStats',_0xf7aa07[_0xf7aa07[_0x5b736a(0x27d)]=0xb]=_0x5b736a(0x27d),_0xf7aa07[_0xf7aa07[_0x5b736a(0x8eb)]=0xc]=_0x5b736a(0x8eb),_0xf7aa07[_0xf7aa07[_0x5b736a(0x938)]=0xd]=_0x5b736a(0x938),_0xf7aa07[_0xf7aa07[_0x5b736a(0x8f7)]=0xe]='KeyValueDatabaseContentSynchronized',_0xf7aa07[_0xf7aa07[_0x5b736a(0x24d)]=0xf]=_0x5b736a(0x24d),_0xf7aa07[_0xf7aa07[_0x5b736a(0x9fa)]=0x10]=_0x5b736a(0x9fa),_0xf7aa07[_0xf7aa07[_0x5b736a(0x8f2)]=0x11]=_0x5b736a(0x8f2),_0xf7aa07[_0xf7aa07[_0x5b736a(0x4e9)]=0x12]=_0x5b736a(0x4e9),_0xf7aa07[_0xf7aa07['KeyValueDatabaseSyncRequired']=0x13]=_0x5b736a(0x12e),_0xf7aa07[_0xf7aa07['LocalMediaStreamTrackFail']=0x14]=_0x5b736a(0x882),_0xf7aa07[_0xf7aa07[_0x5b736a(0x38f)]=0x15]=_0x5b736a(0x38f),_0xf7aa07[_0xf7aa07['PubSubTopicStats']=0x16]=_0x5b736a(0x39f),_0xf7aa07[_0xf7aa07[_0x5b736a(0x9c5)]=0x17]='PublishMediaStream',_0xf7aa07[_0xf7aa07[_0x5b736a(0x1bc)]=0x18]=_0x5b736a(0x1bc),_0xf7aa07[_0xf7aa07[_0x5b736a(0xa1a)]=0x19]=_0x5b736a(0xa1a),_0xf7aa07[_0xf7aa07[_0x5b736a(0x753)]=0x1a]=_0x5b736a(0x753),_0xf7aa07[_0xf7aa07[_0x5b736a(0x8bf)]=0x1b]=_0x5b736a(0x8bf),_0xf7aa07[_0xf7aa07[_0x5b736a(0x6c7)]=0x1c]=_0x5b736a(0x6c7),_0xf7aa07[_0xf7aa07[_0x5b736a(0x7ee)]=0x1d]=_0x5b736a(0x7ee);}(_0x18f1c1||(_0x18f1c1={})),function(_0x5b9d02){const _0x48181f=_0x11ce6;_0x5b9d02[_0x48181f(0x97f)]='file-write',_0x5b9d02['FolderCreate']=_0x48181f(0x447),_0x5b9d02[_0x48181f(0x1e9)]='delete',_0x5b9d02[_0x48181f(0x34f)]='move',_0x5b9d02[_0x48181f(0x5f6)]='request-file',_0x5b9d02[_0x48181f(0x4af)]=_0x48181f(0x169),_0x5b9d02[_0x48181f(0x5a9)]='request-file-sync',_0x5b9d02[_0x48181f(0x9ac)]=_0x48181f(0x612);}(_0x561700||(_0x561700={})),function(_0x286f15){const _0x18dcc9=_0x11ce6;_0x286f15[_0x18dcc9(0x641)]=_0x18dcc9(0x2d3),_0x286f15[_0x18dcc9(0x64c)]=_0x18dcc9(0x550);}(_0x3b214b||(_0x3b214b={})),function(_0x355d51){const _0x213577=_0x11ce6;_0x355d51[_0x213577(0xa15)]=_0x213577(0x5c9),_0x355d51[_0x213577(0x976)]=_0x213577(0x967),_0x355d51[_0x213577(0x1e9)]=_0x213577(0x3a9);}(_0x5b8679||(_0x5b8679={})),function(_0x404f96){const _0x1f7c3e=_0x11ce6;_0x404f96[_0x1f7c3e(0x835)]='get',_0x404f96[_0x1f7c3e(0x49c)]=_0x1f7c3e(0x138),_0x404f96[_0x1f7c3e(0x956)]=_0x1f7c3e(0x556);}(_0x438bab||(_0x438bab={})),function(_0x155633){const _0x1b8b8b=_0x11ce6;_0x155633[_0x155633[_0x1b8b8b(0x641)]=0x0]=_0x1b8b8b(0x641),_0x155633[_0x155633[_0x1b8b8b(0x22a)]=0x1]='Bid',_0x155633[_0x155633['Attribution']=0x2]=_0x1b8b8b(0x43a),_0x155633[_0x155633[_0x1b8b8b(0x4f1)]=0x3]='PartialResult',_0x155633[_0x155633[_0x1b8b8b(0x667)]=0x4]='Result',_0x155633[_0x155633[_0x1b8b8b(0x78f)]=0x5]='Failed';}(_0x28f344||(_0x28f344={})),function(_0x4c06e8){const _0x46c925=_0x11ce6;_0x4c06e8[_0x4c06e8[_0x46c925(0x850)]=0x0]=_0x46c925(0x850),_0x4c06e8[_0x4c06e8[_0x46c925(0x9d0)]=0x1]='Node',_0x4c06e8[_0x4c06e8[_0x46c925(0x575)]=0x2]=_0x46c925(0x575),_0x4c06e8[_0x4c06e8[_0x46c925(0x832)]=0x3]='Subscription',_0x4c06e8[_0x4c06e8['Stats']=0x4]='Stats',_0x4c06e8[_0x4c06e8[_0x46c925(0x2c6)]=0x5]='Detection',_0x4c06e8[_0x4c06e8[_0x46c925(0x8a7)]=0x6]=_0x46c925(0x8a7);}(_0x48fa30||(_0x48fa30={}));class _0x55c761{[_0x11ce6(0x8fc)];[_0x11ce6(0x6e8)];['systemTopic'];constructor(_0x2e2d82,_0x47d963){const _0x559375=_0x11ce6;this[_0x559375(0x8fc)]=_0x2e2d82,this['label']=_0x47d963;}[_0x11ce6(0x555)](){const _0x5c3a91=_0x11ce6;return this[_0x5c3a91(0x6e8)];}[_0x11ce6(0x3d0)](){const _0x1f1cd5=_0x11ce6;return this[_0x1f1cd5(0x8fc)][_0x1f1cd5(0x9d8)]();}['destroy'](){}['registerSystemPublisher'](_0x3cc47b){const _0x5eb569=_0x11ce6;this[_0x5eb569(0x1ad)]=_0x3cc47b;}[_0x11ce6(0x5c1)](){delete this['systemTopic'];}}const _0x31eea4=require('firebase/firestore');let _0x5df045=_0x146b50(0x14d)['O'];function _0x10960e(_0x35cee8){const _0x5a3a33=_0x11ce6;return!(!_0x35cee8||_0x5a3a33(0x56e)!=typeof _0x35cee8||Array[_0x5a3a33(0x984)](_0x35cee8));}_0x5df045=function _0x52d645(_0x2d33d0,..._0xb5d8ae){const _0x4309f9=_0x11ce6;if(!Array[_0x4309f9(0x984)](_0xb5d8ae)||0x0===_0xb5d8ae[_0x4309f9(0x7ad)])return _0x2d33d0;const _0xe5495e=_0xb5d8ae[_0x4309f9(0x52d)]();if(_0x10960e(_0x2d33d0)&&_0x10960e(_0xe5495e)){for(const _0x2323de in _0xe5495e)_0x10960e(_0xe5495e[_0x2323de])?(_0x2d33d0[_0x2323de]||Object[_0x4309f9(0x426)](_0x2d33d0,{[_0x2323de]:{}}),_0x52d645(_0x2d33d0[_0x2323de],_0xe5495e[_0x2323de])):Object[_0x4309f9(0x426)](_0x2d33d0,{[_0x2323de]:_0xe5495e[_0x2323de]});}return _0x52d645(_0x2d33d0,..._0xb5d8ae);}(_0x5df045,_0x146b50(0x3e6)['O']);const _0x4d02a1=_0x5df045,_0x30b274=require('firebase/app'),_0x10cec5=require('firebase/auth'),_0x8e1eca=require('firebase/database'),_0x35a5d3=require('firebase/functions'),_0x5afa59=require('uuid'),_0x433224=_0x11ce6(0x595);class _0x5ad392{static [_0x11ce6(0x2c3)];[_0x11ce6(0x3f6)];[_0x11ce6(0x215)];[_0x11ce6(0x887)];[_0x11ce6(0x28a)];[_0x11ce6(0x468)];[_0x11ce6(0x962)];[_0x11ce6(0x345)];constructor(){const _0x1ca6f2=_0x11ce6;this[_0x1ca6f2(0xec)]();}static[_0x11ce6(0x5d2)](){const _0x17a1d6=_0x11ce6;return _0x5ad392[_0x17a1d6(0x2c3)]||(_0x5ad392[_0x17a1d6(0x2c3)]=new _0x5ad392()),_0x5ad392['instance'];}['getApp'](){const _0x398887=_0x11ce6;if(!this[_0x398887(0x3f6)]){let _0x27efa2=_0x433224;_0x398887(0x126)!=typeof window&&(_0x27efa2=_0x433224+'-'+(0x0,_0x5afa59['v4'])()),this['app']=(0x0,_0x30b274[_0x398887(0x3e6)])(_0x4d02a1[_0x398887(0x106)],''+_0x27efa2);}return this[_0x398887(0x3f6)];}[_0x11ce6(0x191)](){const _0x1f3ede=_0x11ce6;return this[_0x1f3ede(0x215)]||(this[_0x1f3ede(0x215)]=(0x0,_0x10cec5['getAuth'])(this[_0x1f3ede(0xec)]())),this[_0x1f3ede(0x215)];}[_0x11ce6(0x1c9)](){const _0x14dfdf=_0x11ce6;return this['functions']||(this[_0x14dfdf(0x887)]=(0x0,_0x35a5d3[_0x14dfdf(0x1c9)])(this['getApp'](),_0x4d02a1[_0x14dfdf(0x106)]['functionsRegion'])),this['functions'];}[_0x11ce6(0x920)](){const _0x1566c2=_0x11ce6;return this[_0x1566c2(0x28a)]||(this[_0x1566c2(0x28a)]=(0x0,_0x8e1eca[_0x1566c2(0x920)])(this[_0x1566c2(0xec)]())),this[_0x1566c2(0x28a)];}['getFirestore'](){const _0x325f0d=_0x11ce6;return this[_0x325f0d(0x468)]||(this[_0x325f0d(0x468)]=(0x0,_0x31eea4['getFirestore'])(this[_0x325f0d(0xec)]())),this[_0x325f0d(0x468)];}async[_0x11ce6(0x1bb)](){const _0xe78c48=_0x11ce6;if(this[_0xe78c48(0x962)]&&this['lastClockUpdate']&&Date['now']()-this[_0xe78c48(0x345)]<0x493e0)return Date[_0xe78c48(0x3bd)]()+this[_0xe78c48(0x962)];const _0x547f1b=this[_0xe78c48(0x920)](),_0x7698f7=(0x0,_0x8e1eca[_0xe78c48(0x95f)])(_0x547f1b,_0xe78c48(0x874));return new Promise(_0x4ddaf6=>{const _0x2009e8=_0xe78c48;(0x0,_0x8e1eca[_0x2009e8(0x10f)])(_0x7698f7,_0x1e8ba3=>{const _0x180b91=_0x2009e8;(0x0,_0x8e1eca['off'])(_0x7698f7),this['clockSkew']=_0x1e8ba3[_0x180b91(0x248)](),this['lastClockUpdate']=Date[_0x180b91(0x3bd)](),_0x4ddaf6(Date[_0x180b91(0x3bd)]()+(this[_0x180b91(0x962)]??0x0));});});}}const _0x24cd47=_0x5ad392[_0x11ce6(0x5d2)]();class _0x49fb00{static [_0x11ce6(0x2c3)];[_0x11ce6(0x7f0)]=[_0x1e4869['Default']];['debugEnabled']=!0x1;[_0x11ce6(0xb8)];[_0x11ce6(0x391)]='';[_0x11ce6(0x787)];[_0x11ce6(0x6aa)]=[];[_0x11ce6(0x8c2)];[_0x11ce6(0x103)];[_0x11ce6(0x88b)]=0xa;[_0x11ce6(0x927)]=0x1f4;[_0x11ce6(0x2e0)]=0x1c2;[_0x11ce6(0x1dc)]=0x3e8;constructor(){const _0x307b83=_0x11ce6;if('undefined'!=typeof window)this[_0x307b83(0x787)]=window;else{if(void 0x0===_0x146b50['g'])throw new Error(_0x307b83(0x3ba));this['globalObject']=_0x146b50['g'];}this[_0x307b83(0x947)](),this[_0x307b83(0x787)]['crewdleSDKEnableLogging']=_0xb4a07c=>{const _0x12aa85=_0x307b83;if(_0xb4a07c===_0x1e4869[_0x12aa85(0x530)])return this[_0x12aa85(0x7f0)]=Object[_0x12aa85(0x8ae)](_0x1e4869)[_0x12aa85(0x99c)](_0x3dc2ea=>_0x1e4869[_0x3dc2ea]),void Object[_0x12aa85(0x8ae)](_0x1e4869)[_0x12aa85(0x7a1)](_0x46bdbd=>{const _0x81f01e=_0x12aa85,_0x4ce602=_0x46bdbd;localStorage['setItem'](_0x81f01e(0x840)+_0x1e4869[_0x4ce602],_0x81f01e(0x8bb));});this[_0x12aa85(0x7f0)]['includes'](_0xb4a07c)||(this[_0x12aa85(0x7f0)][_0x12aa85(0x7bc)](_0xb4a07c),localStorage[_0x12aa85(0x827)](_0x12aa85(0x840)+_0xb4a07c,'true'));},this[_0x307b83(0x787)][_0x307b83(0x3e0)]=_0x134ac0=>{const _0x1faba2=_0x307b83;if(!_0x134ac0||_0x134ac0===_0x1e4869[_0x1faba2(0x530)])return this[_0x1faba2(0x7f0)]=[],void Object[_0x1faba2(0x8ae)](_0x1e4869)[_0x1faba2(0x7a1)](_0x19dd84=>{const _0x2eb963=_0x1faba2,_0xb8094=_0x19dd84;localStorage[_0x2eb963(0x91f)](_0x2eb963(0x840)+_0x1e4869[_0xb8094]);});this['enabledChannels'][_0x1faba2(0x2a1)](_0x134ac0)&&(this[_0x1faba2(0x7f0)]=this[_0x1faba2(0x7f0)][_0x1faba2(0x80e)](_0x1aa804=>_0x1aa804!==_0x134ac0),localStorage['removeItem']('crewdle-sdk-logging-'+_0x134ac0));},this[_0x307b83(0x787)]['crewdleSDKLoggingChannels']=_0x1e4869;}static['getInstance'](){const _0x5b6c1d=_0x11ce6;try{return _0x49fb00[_0x5b6c1d(0x2c3)]||(_0x49fb00['instance']=new _0x49fb00()),_0x49fb00[_0x5b6c1d(0x2c3)];}catch(_0x45cdba){return console[_0x5b6c1d(0x89e)](_0x5b6c1d(0x58f),_0x45cdba),{'log':()=>{},'forceLog':()=>{},'logRaw':()=>{},'debug':()=>{},'setVendorId':()=>{},'setLoggingConnectors':()=>{},'error':()=>{},'logEvent':()=>{},'logServiceEvent':()=>{},'logStorage':()=>{},'warning':()=>{},'isChannelEnabled':()=>!0x1,'processBatch':()=>{}};}}[_0x11ce6(0x5a4)](_0x35fb33){const _0x8be0fb=_0x11ce6;this[_0x8be0fb(0x391)]=_0x35fb33,this['batchQueue']=[],this[_0x8be0fb(0x8c2)]=this['createNewBatch'](),this[_0x8be0fb(0x103)]&&(clearTimeout(this[_0x8be0fb(0x103)]),this[_0x8be0fb(0x103)]=void 0x0);}[_0x11ce6(0x5e1)](_0x4aecab){const _0x3b573a=_0x11ce6;this[_0x3b573a(0xb8)]=_0x4aecab;}[_0x11ce6(0x760)](_0x5e7d91,..._0x1e8745){const _0x2820ca=_0x11ce6;this[_0x2820ca(0x678)]&&this[_0x2820ca(0x65b)](_0x1e4869['Default'],_0x2820ca(0x991)+_0x5e7d91,..._0x1e8745);}['forceLog'](_0x1af089,..._0x1c6ddc){const _0x3e5e31=_0x11ce6;console[_0x3e5e31(0x65b)](_0x1af089,..._0x1c6ddc),this['loggingConnectors']&&this['loggingConnectors']['forEach'](_0x4b6d50=>{const _0x259659=_0x3e5e31;_0x4b6d50[_0x259659(0x65b)](_0x1af089,{'vendorId':this[_0x259659(0x391)],'nodeId':'','nodeType':'','data':{..._0x1c6ddc}});});}[_0x11ce6(0x65b)](_0x3c495f,_0xfe6956,..._0x519368){const _0x18bd39=_0x11ce6;_0x4d02a1[_0x18bd39(0x116)]||(this[_0x18bd39(0x7f0)][_0x18bd39(0x2a1)](_0x3c495f)&&console[_0x18bd39(0x65b)]('Channel\x20\x27'+_0x3c495f+'\x27\x0a',new Date()+'\x0a',_0xfe6956,..._0x519368),this[_0x18bd39(0xb8)]&&this[_0x18bd39(0xb8)][_0x18bd39(0x7a1)](_0xfe3cf9=>{const _0x34d562=_0x18bd39;this[_0x34d562(0x459)](_0xfe3cf9)&&_0xfe3cf9[_0x34d562(0x541)]()[_0x34d562(0x2a1)](_0x3c495f)&&_0xfe3cf9[_0x34d562(0x65b)](_0xfe6956,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x3c495f,..._0x519368}});}));}[_0x11ce6(0x51e)](_0x331ed5,_0x1e2385,..._0x2fbff7){const _0x5d8d1f=_0x11ce6;_0x4d02a1['isProduction']||(this['enabledChannels']['includes'](_0x331ed5)&&console[_0x5d8d1f(0x65b)](_0x1e2385,..._0x2fbff7),this[_0x5d8d1f(0xb8)]&&this['loggingConnectors'][_0x5d8d1f(0x7a1)](_0xbf2461=>{const _0x244429=_0x5d8d1f;this[_0x244429(0x459)](_0xbf2461)&&_0xbf2461[_0x244429(0x541)]()['includes'](_0x331ed5)&&_0xbf2461[_0x244429(0x65b)](_0x1e2385,{'vendorId':this['vendorId'],'nodeId':'','nodeType':'','data':{'channel':_0x331ed5,..._0x2fbff7}});}));}[_0x11ce6(0x745)](_0x4e98d7,_0x29eb5d){const _0x17b1ad=_0x11ce6;if(!this[_0x17b1ad(0xb8)])return;const _0x1eb23c={'vendorId':this[_0x17b1ad(0x391)],..._0x29eb5d};this[_0x17b1ad(0xb8)]['forEach'](_0x7e422e=>{const _0x11c89f=_0x17b1ad;_0x7e422e[_0x11c89f(0x65b)](_0x4e98d7,_0x1eb23c);});}[_0x11ce6(0x253)](_0x163340,_0x457554){const _0x2d774b=_0x11ce6;this[_0x2d774b(0x9d4)](_0x163340,_0x457554),this['logBatch']();}[_0x11ce6(0x6c4)](_0x9f7a1e,_0x2f78c5,_0x140372){const _0xabc35a=_0x11ce6;(0x0,_0x31eea4[_0xabc35a(0x76a)])((0x0,_0x31eea4[_0xabc35a(0x425)])(_0x24cd47['getFirestore'](),_0xabc35a(0x8df)+this['vendorId']+'/'+_0x9f7a1e+'/'+_0x2f78c5),{'storage':_0x140372,'timestamp':(0x0,_0x31eea4[_0xabc35a(0x5a5)])()});}[_0x11ce6(0x379)](){const _0x354a81=_0x11ce6;this[_0x354a81(0x8c2)]&&(this[_0x354a81(0x8c2)][_0x354a81(0x3f3)]+=0x1,this[_0x354a81(0x8c2)][_0x354a81(0x3f3)]===this[_0x354a81(0x2e0)]?this[_0x354a81(0x4a8)]():this[_0x354a81(0x103)]||(this[_0x354a81(0x103)]=this[_0x354a81(0x787)][_0x354a81(0x2cd)](()=>this[_0x354a81(0x4a8)](),this[_0x354a81(0x1dc)])));}async[_0x11ce6(0x4a8)](){const _0x5ab1f5=_0x11ce6;if(this[_0x5ab1f5(0x8c2)]){for(this[_0x5ab1f5(0x6aa)][_0x5ab1f5(0x7bc)](this['currentBatch']),this['currentBatch']=this[_0x5ab1f5(0x1de)]();this[_0x5ab1f5(0x6aa)][_0x5ab1f5(0x7ad)]>0x0;){const _0x416b79=this[_0x5ab1f5(0x6aa)]['shift']();if(!await this['commitBatch'](_0x416b79))break;}clearTimeout(this[_0x5ab1f5(0x103)]),this[_0x5ab1f5(0x103)]=void 0x0;}}[_0x11ce6(0x89e)](_0x4b54b4,_0x2dac70,..._0x553288){const _0x2ff46d=_0x11ce6;if(console[_0x2ff46d(0x89e)](new Date(),_0x4b54b4,_0x2dac70,..._0x553288),this[_0x2ff46d(0xb8)]){const _0x3ff70c={'vendorId':this[_0x2ff46d(0x391)],..._0x2dac70};this['loggingConnectors'][_0x2ff46d(0x7a1)](_0x54022a=>{const _0x4500fd=_0x2ff46d;_0x54022a[_0x4500fd(0x89e)](_0x4b54b4,_0x3ff70c);});}}[_0x11ce6(0x275)](_0x4426b3,_0x1d502f,..._0x4b5bfe){const _0x4a5ba=_0x11ce6;if(console[_0x4a5ba(0x900)](new Date(),_0x4426b3,_0x1d502f,_0x4b5bfe),this['loggingConnectors']){const _0x586774={'vendorId':this[_0x4a5ba(0x391)],..._0x1d502f};this[_0x4a5ba(0xb8)]['forEach'](_0x3504d6=>{const _0x17ffce=_0x4a5ba;_0x3504d6[_0x17ffce(0x900)](_0x4426b3,_0x586774);});}}[_0x11ce6(0x4cd)](_0x30bea9){const _0x24d2c9=_0x11ce6;return this[_0x24d2c9(0x7f0)][_0x24d2c9(0x2a1)](_0x30bea9);}async[_0x11ce6(0x7b7)](_0x21f953,_0x20d149=0x0){const _0x245504=_0x11ce6;if(_0x21f953[_0x245504(0x3f3)]>0x0)try{return await _0x21f953[_0x245504(0x633)][_0x245504(0x319)](),!0x0;}catch(_0x54679a){if(console[_0x245504(0x89e)]('Error\x20committing\x20batch:',_0x54679a,_0x245504(0x26b),_0x21f953[_0x245504(0x3b2)]),!(_0x20d149<this[_0x245504(0x88b)])){const {nodeId:_0x420ddd='',nodeType:_0x2f8083='',clusterId:_0x5ccb27=''}=_0x21f953[_0x245504(0x3b2)][0x0]['data'],_0x36545e={'nodeId':_0x420ddd,'nodeType':_0x2f8083,'clusterId':_0x5ccb27,'data':{'operations':_0x21f953[_0x245504(0x3b2)],'error':_0x54679a}};return this[_0x245504(0x89e)](_0x245504(0x4d7),_0x36545e),!0x1;}{const _0xac7c12=this['createBatch'](_0x21f953[_0x245504(0x3b2)]);setTimeout(()=>this[_0x245504(0x7b7)](_0xac7c12,_0x20d149+0x1),this[_0x245504(0x927)]*Math[_0x245504(0x577)](0x2,_0x20d149));}}}[_0x11ce6(0x947)](){const _0x3da7bc=_0x11ce6;try{Object[_0x3da7bc(0x8ae)](_0x1e4869)[_0x3da7bc(0x7a1)](_0x25cbd8=>{const _0x54ebda=_0x3da7bc,_0x1cb6dc=_0x25cbd8;localStorage[_0x54ebda(0x49e)](_0x54ebda(0x840)+_0x1e4869[_0x1cb6dc])&&(console[_0x54ebda(0x65b)](_0x54ebda(0x97d),_0x1e4869[_0x1cb6dc]),this[_0x54ebda(0x7f0)]['push'](_0x1e4869[_0x1cb6dc]));});}catch(_0x172a70){}}[_0x11ce6(0x459)](_0x5cab64){const _0x4ac6be=_0x11ce6;return void 0x0!==_0x5cab64[_0x4ac6be(0x541)];}[_0x11ce6(0x1de)](){const _0x433c1d=_0x11ce6;return{'batch':(0x0,_0x31eea4[_0x433c1d(0x9d2)])(_0x24cd47[_0x433c1d(0x35a)]()),'operations':[],'counter':0x0};}['createBatch'](_0x22bb11){const _0x27bcb4=_0x11ce6,_0x2d3665=(0x0,_0x31eea4[_0x27bcb4(0x9d2)])(_0x24cd47[_0x27bcb4(0x35a)]());return _0x22bb11[_0x27bcb4(0x7a1)](_0x364e66=>this[_0x27bcb4(0x1fb)](_0x2d3665,_0x364e66)),{'batch':_0x2d3665,'operations':_0x22bb11,'counter':_0x22bb11[_0x27bcb4(0x7ad)]};}[_0x11ce6(0x1fb)](_0x16c85d,_0x391f04){const _0x4afde0=_0x11ce6;switch(_0x391f04[_0x4afde0(0x789)]){case _0x4afde0(0x323):_0x16c85d[_0x4afde0(0x323)](_0x391f04[_0x4afde0(0x95f)],_0x391f04['data']);break;case _0x4afde0(0x967):_0x16c85d[_0x4afde0(0x967)](_0x391f04[_0x4afde0(0x95f)],_0x391f04[_0x4afde0(0x4ff)]);break;case _0x4afde0(0x3a9):_0x16c85d['delete'](_0x391f04[_0x4afde0(0x95f)]);}}[_0x11ce6(0x9d4)](_0x3ccefc,_0x6df94f){const _0x301f91=_0x11ce6;this[_0x301f91(0x8c2)]||(this[_0x301f91(0x8c2)]=this[_0x301f91(0x1de)]());const _0x571efd=(0x0,_0x31eea4[_0x301f91(0x425)])((0x0,_0x31eea4[_0x301f91(0x270)])(_0x24cd47[_0x301f91(0x35a)](),_0x301f91(0x8df)+this[_0x301f91(0x391)]+_0x301f91(0x3b5))),_0x25a508={..._0x6df94f,'service':_0x3ccefc,'timestamp':(0x0,_0x31eea4['serverTimestamp'])()},_0x2ceb3e={'type':_0x301f91(0x323),'path':_0x571efd[_0x301f91(0x83e)],'ref':_0x571efd,'data':_0x25a508};return this['currentBatch'][_0x301f91(0x3b2)][_0x301f91(0x7bc)](_0x2ceb3e),this[_0x301f91(0x1fb)](this[_0x301f91(0x8c2)][_0x301f91(0x633)],_0x2ceb3e),_0x571efd;}}const _0x5c02ff=_0x49fb00['getInstance']();function _0x35455f(_0x288be4,_0x1bd78e){return'/'===_0x288be4?_0x288be4+_0x1bd78e:_0x288be4+'/'+_0x1bd78e;}function _0x29bd24(_0x5ba5ee){const _0x3714f5=_0x11ce6,_0x5e86db=function(_0x45125f){const _0x183b09=a0_0x5c6e;return _0x45125f[_0x183b09(0x82c)]('/')['filter'](_0x3543c5=>_0x3543c5[_0x183b09(0x7ad)]>0x0);}(_0x5ba5ee),_0x148f7a=_0x5e86db[_0x3714f5(0x13b)]()||'',_0x28b0a0=_0x5e86db['join']('/');return[0x0===_0x28b0a0[_0x3714f5(0x7ad)]?'/':_0x28b0a0,_0x148f7a];}async function _0x30cad3(_0x3f5508){const _0xf72e3=_0x11ce6;let _0x54aa97;const _0x43650=_0x3f5508['size']/0x100000;_0x54aa97=_0x43650<=0xa?0x1:_0x43650<=0x64?0.5:_0x43650<=0x1f4?0.1:0.05;const _0x556f87=Math[_0xf72e3(0x375)](_0x3f5508[_0xf72e3(0x84c)]/_0x26e33e),_0x44d11e=Math[_0xf72e3(0x375)](_0x556f87*_0x54aa97);let _0x3ba859=new Uint8Array();for(let _0x27c098=0x0;_0x27c098<_0x44d11e;_0x27c098++){const _0x1d7b0e=Math[_0xf72e3(0x273)](_0x27c098/_0x44d11e*_0x3f5508['size']);let _0xb6314=_0x1d7b0e+_0x26e33e;_0xb6314>_0x3f5508[_0xf72e3(0x84c)]&&(_0xb6314=_0x3f5508[_0xf72e3(0x84c)]);const _0x5f2ea2=_0x3f5508[_0xf72e3(0x486)](_0x1d7b0e,_0xb6314),_0x27d770=await _0x5f2ea2[_0xf72e3(0x63b)](),_0x3ea227=new Uint8Array([..._0x3ba859,...new Uint8Array(_0x27d770)]);_0x3ba859=new Uint8Array(await crypto['subtle'][_0xf72e3(0xf8)](_0xf72e3(0x36f),_0x3ea227));}return Array['from'](new Uint8Array(_0x3ba859))['map'](_0x80b632=>_0x80b632[_0xf72e3(0x2bd)](0x10)[_0xf72e3(0x3a6)](0x2,'0'))['join']('');}async function*_0x12333b(_0x3e78d3,_0xa5d183=0x0,_0x34ed15){const _0x57f584=_0x11ce6;let _0x86228a=_0xa5d183*_0xbeb078,_0x25f007=_0x3e78d3;for(;_0x86228a<_0x25f007[_0x57f584(0x84c)];){let _0x4e57d1=_0x86228a+_0xbeb078;_0x4e57d1>_0x25f007[_0x57f584(0x84c)]&&(_0x4e57d1=_0x25f007[_0x57f584(0x84c)]);let _0x79b79b=0x0;for(;_0x79b79b<0x14;)try{await _0x34ed15?.();const _0x6c4c62=_0x25f007[_0x57f584(0x486)](_0x86228a,_0x4e57d1,_0x57f584(0x91b)),_0x268128=await _0x6c4c62[_0x57f584(0x63b)]();yield _0x268128,_0x86228a=_0x4e57d1,await new Promise(_0x282c9d=>setTimeout(_0x282c9d,0x0));break;}catch(_0x2b2bef){if(console[_0x57f584(0x89e)](_0x57f584(0x898)+(_0x79b79b+0x1)+_0x57f584(0x574),_0x2b2bef),_0x79b79b++,_0x79b79b>0x14)throw _0x2b2bef;let _0x158071=0x3e8*Math[_0x57f584(0x577)](0x2,_0x79b79b);_0x158071>0x7530&&(_0x158071=0x7530),await new Promise(_0x55c51b=>setTimeout(_0x55c51b,_0x158071));}}}class _0x468001 extends _0x55c761{[_0x11ce6(0x168)];[_0x11ce6(0x230)];[_0x11ce6(0x945)]=new Map();[_0x11ce6(0x299)]=0x0;[_0x11ce6(0x219)]=0x0;['bytesSent']=0x0;[_0x11ce6(0x8a5)]=0x0;constructor(_0x816adb,_0x4a027a){super(_0x816adb,_0x4a027a);}[_0x11ce6(0x555)](){return this['label'];}['getName'](){const _0x47f4e4=_0x11ce6;return this[_0x47f4e4(0x6e8)];}['getContentType'](){const _0x579729=_0x11ce6;return _0x4aea4d[_0x579729(0x43d)]['Data'];}[_0x11ce6(0x98d)](){return this['label'];}[_0x11ce6(0x1b4)](_0x22026d){const _0x26a999=_0x11ce6;if(this[_0x26a999(0x168)])throw new _0x490cf1(_0x490cf1[_0x26a999(0x9fb)]['InvalidPublisher'],{'message':_0x26a999(0x7f6)+this[_0x26a999(0x8fc)][_0x26a999(0x9d8)]()+'\x20-\x20'+this['label'],'topic':this[_0x26a999(0x168)]});this[_0x26a999(0x168)]=_0x22026d;}['registerSubscriber'](_0x438d28){const _0x239b66=_0x11ce6;if(this['incomingTopic'])throw new _0x490cf1(_0x490cf1['codes'][_0x239b66(0x449)],{'message':_0x239b66(0x320)+this[_0x239b66(0x8fc)][_0x239b66(0x9d8)]()+_0x239b66(0x5f3)+this[_0x239b66(0x6e8)],'topic':this['incomingTopic']});this[_0x239b66(0x230)]=_0x438d28;}[_0x11ce6(0x6f9)](){const _0x4e7e58=_0x11ce6;delete this[_0x4e7e58(0x168)];}[_0x11ce6(0x4bd)](){const _0xa96409=_0x11ce6;delete this[_0xa96409(0x230)];}async[_0x11ce6(0x41d)](_0x34542d,_0x318a61){const _0x4cc8ff=_0x11ce6;if(_0x5c02ff[_0x4cc8ff(0x65b)](_0x1e4869[_0x4cc8ff(0x75c)],_0x4cc8ff(0x33c),this['owner']['getId'](),_0x34542d,_0x318a61),this[_0x4cc8ff(0x299)]+=0x1,_0x34542d instanceof File){const _0x51a975=await async function(_0x4ce5b6){const _0x245be4=_0x4cc8ff,_0x50c4a8=[];for await(const _0x3b0fe2 of _0x12333b(_0x4ce5b6))_0x50c4a8[_0x245be4(0x7bc)](_0x3b0fe2);return _0x50c4a8;}(_0x34542d);return this['bytesSent']+=_0x51a975['reduce']((_0x28f1af,_0x1e68c8)=>_0x28f1af+_0x1e68c8[_0x4cc8ff(0x713)],0x0),void _0x51a975[_0x4cc8ff(0x7a1)]((_0x2d3757,_0x4a6313)=>{const _0x4afcf3=_0x4cc8ff;this[_0x4afcf3(0x168)]['publish']({'sourceId':this[_0x4afcf3(0x8fc)][_0x4afcf3(0x9d8)](),'destinationIds':_0x318a61,'propagate':!0x0,'contentType':_0x4aea4d['ContentType']['File'],'content':{'name':_0x34542d['name'],'type':_0x34542d[_0x4afcf3(0x789)],'data':_0x2d3757,'index':_0x4a6313,'total':_0x51a975[_0x4afcf3(0x7ad)]}});});}this[_0x4cc8ff(0x769)]+=JSON[_0x4cc8ff(0x3ea)](_0x34542d)[_0x4cc8ff(0x7ad)],this[_0x4cc8ff(0x168)][_0x4cc8ff(0xfa)]({'sourceId':this[_0x4cc8ff(0x8fc)][_0x4cc8ff(0x9d8)](),'destinationIds':_0x318a61,'propagate':!0x0,'contentType':_0x4aea4d[_0x4cc8ff(0x43d)][_0x4cc8ff(0x2d1)],'content':_0x34542d});}['onMessage'](_0x370770){const _0x388c2c=_0x11ce6;return this[_0x388c2c(0x230)]['subscribe'](_0x1b2930=>{const _0x24dc53=_0x388c2c;switch(_0x5c02ff[_0x24dc53(0x65b)](_0x1e4869[_0x24dc53(0x75c)],_0x24dc53(0x2a8),this[_0x24dc53(0x8fc)][_0x24dc53(0x9d8)](),_0x1b2930),_0x1b2930[_0x24dc53(0x636)]){case _0x4aea4d[_0x24dc53(0x43d)][_0x24dc53(0x2d1)]:this['messagesReceived']+=0x1,this[_0x24dc53(0x8a5)]+=JSON[_0x24dc53(0x3ea)](_0x1b2930[_0x24dc53(0x1c4)])['length'],_0x370770(_0x1b2930['sourceId'],_0x1b2930[_0x24dc53(0x1c4)]);break;case _0x4aea4d[_0x24dc53(0x43d)][_0x24dc53(0x6b2)]:this[_0x24dc53(0x945)][_0x24dc53(0x297)](_0x1b2930[_0x24dc53(0x1c4)][_0x24dc53(0x768)])||this['fileChunks'][_0x24dc53(0x323)](_0x1b2930['content'][_0x24dc53(0x768)],{'chunksReceived':0x0,'bytesReceived':0x0,'checksum':'','content':[]});const _0x89ce0c=this[_0x24dc53(0x945)]['get'](_0x1b2930[_0x24dc53(0x1c4)][_0x24dc53(0x768)]);if(_0x89ce0c['chunksReceived']+=0x1,_0x89ce0c[_0x24dc53(0x8a5)]+=_0x1b2930[_0x24dc53(0x1c4)][_0x24dc53(0x4ff)][_0x24dc53(0x713)],_0x89ce0c[_0x24dc53(0x1c4)]&&(_0x89ce0c['content'][_0x1b2930[_0x24dc53(0x1c4)][_0x24dc53(0x9fc)]]=_0x1b2930[_0x24dc53(0x1c4)][_0x24dc53(0x4ff)]),this['fileChunks'][_0x24dc53(0x323)](_0x1b2930['content'][_0x24dc53(0x768)],_0x89ce0c),_0x89ce0c[_0x24dc53(0x4de)]+0x1<_0x1b2930[_0x24dc53(0x1c4)][_0x24dc53(0x93c)])return;this[_0x24dc53(0x219)]+=0x1,this[_0x24dc53(0x8a5)]+=_0x89ce0c[_0x24dc53(0x8a5)],_0x89ce0c['content']&&_0x370770(_0x1b2930[_0x24dc53(0x112)],(_0x4071db=_0x89ce0c[_0x24dc53(0x1c4)],_0x10e666=_0x1b2930[_0x24dc53(0x1c4)][_0x24dc53(0x768)],_0x28f2f5=_0x1b2930[_0x24dc53(0x1c4)]['type'],new File(_0x4071db,_0x10e666,{'type':_0x28f2f5}))),this[_0x24dc53(0x945)]['delete'](_0x1b2930[_0x24dc53(0x1c4)][_0x24dc53(0x768)]);}var _0x4071db,_0x10e666,_0x28f2f5;});}}function _0x4332ba(){const _0xc864bd=_0x11ce6;let _0x3a1f67=[];return{'subscribe':_0x58ad16=>(_0x3a1f67[_0xc864bd(0x7bc)](_0x58ad16),()=>{const _0x52cae2=_0xc864bd;_0x3a1f67=_0x3a1f67[_0x52cae2(0x80e)](_0x1c306e=>_0x1c306e!==_0x58ad16);}),'publish':_0x2b7e60=>{const _0x4ddea0=_0xc864bd;_0x3a1f67[_0x4ddea0(0x7a1)](_0x411665=>_0x411665(_0x2b7e60));}};}function _0x435863(){let _0x33711e;return{'subscribe':_0x54b0eb=>(_0x33711e=_0x54b0eb,()=>{_0x33711e=void 0x0;}),'publish':_0x4cea54=>{_0x33711e&&_0x33711e(_0x4cea54);}};}class _0x18dfef{[_0x11ce6(0x72a)];['tableName'];[_0x11ce6(0x308)];[_0x11ce6(0x14a)]=_0x435863();[_0x11ce6(0x7b0)];constructor(_0x241203,_0x1c9701,_0x15bae8){const _0x36b654=_0x11ce6;this[_0x36b654(0x72a)]=_0x241203,this[_0x36b654(0x854)]=_0x1c9701,this[_0x36b654(0x308)]=_0x15bae8;}['destroy'](){const _0x349f27=_0x11ce6;this[_0x349f27(0x7b0)]?.();}async[_0x11ce6(0x3f2)](_0x26ec14){const _0x2d5d44=_0x11ce6,_0x3ce1b4={'key':_0x26ec14,'tableName':this['tableName'],'action':_0x438bab[_0x2d5d44(0x835)]};return this[_0x2d5d44(0x308)]['publish'](_0x3ce1b4),this['connector'][_0x2d5d44(0x3f2)](_0x26ec14);}async[_0x11ce6(0x323)](_0x28a58e,_0xe39144,_0x2a1cd9=!0x0){const _0x3ea51f=_0x11ce6;this[_0x3ea51f(0x687)](_0xe39144);const _0x29e059=await this[_0x3ea51f(0x72a)][_0x3ea51f(0x3f2)](_0x28a58e),_0x47566f=await this[_0x3ea51f(0x72a)][_0x3ea51f(0x323)](_0x28a58e,_0xe39144),_0x670ed7=_0x29e059?_0x5b8679['Update']:_0x5b8679[_0x3ea51f(0xa15)];if(this[_0x3ea51f(0xfa)](_0x670ed7,_0x47566f),!_0x2a1cd9)return _0x47566f;const _0xfec0bd={'key':_0x28a58e,'tableName':this[_0x3ea51f(0x854)],'action':_0x670ed7,'value':_0x47566f};return this[_0x3ea51f(0x308)][_0x3ea51f(0xfa)](_0xfec0bd),_0x47566f;}async['add'](_0x48a1ab){const _0x4796c5=_0x11ce6;this[_0x4796c5(0x687)](_0x48a1ab);const _0x2d3ff7=await this[_0x4796c5(0x72a)][_0x4796c5(0x5c9)](_0x48a1ab),_0x5082c8={'key':_0x2d3ff7['id'],'tableName':this[_0x4796c5(0x854)],'action':_0x5b8679[_0x4796c5(0xa15)],'value':_0x2d3ff7};return this[_0x4796c5(0x308)][_0x4796c5(0xfa)](_0x5082c8),this['publish'](_0x5082c8['action'],_0x2d3ff7),_0x2d3ff7;}async['delete'](_0x58bb45,_0x1c4c79=!0x0){const _0x3ddc54=_0x11ce6,_0x4210ee=await this[_0x3ddc54(0x72a)]['get'](_0x58bb45);if(!_0x4210ee)return;await this[_0x3ddc54(0x72a)][_0x3ddc54(0x3a9)](_0x58bb45);const _0x1941af=_0x5b8679['Delete'];if(this[_0x3ddc54(0xfa)](_0x1941af,_0x4210ee),!_0x1c4c79)return;const _0x375120={'key':_0x58bb45,'tableName':this[_0x3ddc54(0x854)],'action':_0x1941af,'value':_0x4210ee};this[_0x3ddc54(0x308)]['publish'](_0x375120);}async[_0x11ce6(0x918)](){const _0x1235d3=_0x11ce6,_0x132029=await this['list']();for(const _0x2b7393 of _0x132029){const _0x7f4c77=_0x5b8679[_0x1235d3(0x1e9)];this[_0x1235d3(0xfa)](_0x7f4c77,_0x2b7393);const _0x33284c={'key':_0x2b7393['id'],'tableName':this[_0x1235d3(0x854)],'action':_0x7f4c77,'value':_0x2b7393};this[_0x1235d3(0x308)]['publish'](_0x33284c);}return this[_0x1235d3(0x72a)][_0x1235d3(0x918)]();}async['list'](_0x308dbf){const _0x4f6e04=_0x11ce6,_0x260430={'key':'','tableName':this['tableName'],'action':_0x438bab[_0x4f6e04(0x49c)]};this[_0x4f6e04(0x308)][_0x4f6e04(0xfa)](_0x260430);try{_0x308dbf&&(_0x308dbf=_0x308dbf instanceof _0x206493?_0x308dbf[_0x4f6e04(0x84e)]():_0x206493[_0x4f6e04(0x93d)](_0x308dbf)[_0x4f6e04(0x84e)]());}catch(_0xe7de35){throw new _0x39299d(_0x1ffca6[_0x4f6e04(0x7fb)],_0x4f6e04(0x488));}try{return await this[_0x4f6e04(0x72a)][_0x4f6e04(0x138)](_0x308dbf);}catch(_0x2df88c){let _0x191f20='Invalid\x20query';throw _0x2df88c instanceof Error&&(_0x191f20=_0x2df88c[_0x4f6e04(0x686)]),new _0x39299d(_0x1ffca6['KeyValueDatabaseInvalidQuery'],_0x191f20);}}async[_0x11ce6(0x556)](_0xe9f5d8){const _0x237d73=_0x11ce6,_0x706b5={'key':'','tableName':this['tableName'],'action':_0x438bab[_0x237d73(0x956)]};this[_0x237d73(0x308)]['publish'](_0x706b5);try{_0xe9f5d8&&(_0xe9f5d8=_0xe9f5d8 instanceof _0x206493?_0xe9f5d8[_0x237d73(0x84e)]():_0x206493[_0x237d73(0x93d)](_0xe9f5d8)[_0x237d73(0x84e)]());}catch(_0x2adfd0){throw new _0x39299d(_0x1ffca6[_0x237d73(0x7fb)],'Invalid\x20query');}try{return await this[_0x237d73(0x72a)][_0x237d73(0x556)](_0xe9f5d8);}catch(_0x39d76e){let _0x3b5af1=_0x237d73(0x488);throw _0x39d76e instanceof Error&&(_0x3b5af1=_0x39d76e['message']),new _0x39299d(_0x1ffca6[_0x237d73(0x7fb)],_0x3b5af1);}}[_0x11ce6(0x996)](){return this['connector']['calculateSize']();}[_0x11ce6(0x85a)](_0x10f640){const _0x1c8043=_0x11ce6;this[_0x1c8043(0x7b0)]=this[_0x1c8043(0x14a)][_0x1c8043(0x85a)](_0x10f640);}[_0x11ce6(0x786)](){const _0x2903c0=_0x11ce6;this[_0x2903c0(0x7b0)]?.();}[_0x11ce6(0xfa)](_0x267e14,_0x5975eb){const _0x4cd698=_0x11ce6,_0x3d480f=this['buildTableEvent'](_0x267e14,_0x5975eb);this[_0x4cd698(0x14a)][_0x4cd698(0xfa)](_0x3d480f);}['buildTableEvent'](_0x2758aa,_0x5a5fdf){const _0x23e919=_0x11ce6;let _0x3d32be;switch(_0x2758aa){case _0x5b8679[_0x23e919(0xa15)]:_0x3d32be=_0x23e919(0x5c9);break;case _0x5b8679['Update']:_0x3d32be=_0x23e919(0x967);break;case _0x5b8679[_0x23e919(0x1e9)]:_0x3d32be=_0x23e919(0x3a9);}return{'action':_0x3d32be,'value':_0x5a5fdf};}[_0x11ce6(0x687)](_0x50ee22){const _0xa12548=_0x11ce6;if(_0xa12548(0x56e)!=typeof _0x50ee22||null===_0x50ee22)throw new _0x39299d(_0x1ffca6[_0xa12548(0xcf)],_0xa12548(0x911));for(const _0x298792 in _0x50ee22){const _0x40fe75=_0x50ee22[_0x298792];if(_0xa12548(0x56e)!=typeof _0x40fe75||_0x40fe75 instanceof Date){if(![_0xa12548(0x9cc),_0xa12548(0x9b1),'boolean'][_0xa12548(0x2a1)](typeof _0x40fe75))throw new _0x39299d(_0x1ffca6[_0xa12548(0xcf)],_0xa12548(0x71d)+_0x298792+_0xa12548(0x2d8));}else this[_0xa12548(0x687)](_0x40fe75);}}}class _0x44b408{[_0x11ce6(0x32a)]=[];[_0x11ce6(0x220)]=0x0;[_0x11ce6(0x283)]=[];[_0x11ce6(0x7e9)]=!0x1;[_0x11ce6(0x457)]=null;['rootComputationPromise']=null;[_0x11ce6(0x578)];[_0x11ce6(0x195)]=null;['readyPromises']=[];[_0x11ce6(0x3ab)];[_0x11ce6(0x9c3)]=Promise[_0x11ce6(0x2c9)]();[_0x11ce6(0x201)]=0x0;constructor(){}get[_0x11ce6(0x4b2)](){const _0x3f471f=_0x11ce6;return this[_0x3f471f(0x9c3)];}async[_0x11ce6(0x56d)](_0x1d8aac,_0x531f91=0x0){const _0x5f95f3=_0x11ce6;this[_0x5f95f3(0x195)]||(this['_ready']=new Promise(_0x4e0e19=>{const _0x4f1bf7=_0x5f95f3;this[_0x4f1bf7(0x195)]=_0x4e0e19;}),this[_0x5f95f3(0x201)]=_0x531f91);const _0x96c700=Date['now']();if(this[_0x5f95f3(0x7e9)])return void this['transactionQueue']['push'](_0x1d8aac);this['isComputingMMR']=!0x0;let _0x291f53={'hash':await this[_0x5f95f3(0x127)](_0x1d8aac),'height':0x0};const _0x593521=this[_0x5f95f3(0x51b)](_0x291f53);this[_0x5f95f3(0x7f3)][_0x5f95f3(0x7bc)](_0x593521),await _0x593521,this[_0x5f95f3(0x220)]+=0x1;const _0x18f9cb=this[_0x5f95f3(0x283)][_0x5f95f3(0x7ad)];for(;this['transactionQueue']['length']>0x0;){const _0x57dbd1=this[_0x5f95f3(0x283)][_0x5f95f3(0x52d)]();await this['appendTransaction'](_0x57dbd1);}this[_0x5f95f3(0x378)](),await this['ready'],this['debounceAppendLog'](_0x96c700,_0x18f9cb);}async[_0x11ce6(0x734)](){const _0x1c4c62=_0x11ce6;return await this[_0x1c4c62(0x9c3)],this['isComputingMMR']?(this[_0x1c4c62(0x8b4)]||(this['rootComputationPromise']=this[_0x1c4c62(0x352)]()),await this['rootComputationPromise']):this[_0x1c4c62(0x457)];}[_0x11ce6(0x975)](){const _0x142726=_0x11ce6;return this[_0x142726(0x32a)]['map'](({hash:_0x2bee94,height:_0xec71e0})=>({'hash':_0x2bee94,'height':_0xec71e0}));}[_0x11ce6(0x7e5)](){const _0x2b0de5=_0x11ce6;return this[_0x2b0de5(0x220)];}[_0x11ce6(0x265)](_0x1b307d){const _0x4258a8=_0x11ce6;return this[_0x4258a8(0x32a)][_0x4258a8(0x957)](_0x375cc9=>_0x375cc9[_0x4258a8(0x6d3)]===_0x1b307d);}async[_0x11ce6(0x7ea)](_0x5bd9c1,_0x38b792){return await this['computeHash'](_0x5bd9c1+_0x38b792);}async[_0x11ce6(0x127)](_0x564287){const _0x5747c1=_0x11ce6;return await this[_0x5747c1(0x89d)](JSON[_0x5747c1(0x3ea)](_0x564287));}[_0x11ce6(0x465)](_0x480fc7){const _0x56244d=_0x11ce6,_0x539e46=this['getPeaks'](),_0x1b61a0=[],_0x21d35b=[],_0x3ccd28=[];for(const _0x5ceef5 of _0x539e46){const _0x497f62=_0x480fc7[_0x56244d(0x957)](_0xffdd23=>_0xffdd23[_0x56244d(0x6d3)]===_0x5ceef5['height']);_0x497f62?_0x5ceef5[_0x56244d(0x561)]!==_0x497f62[_0x56244d(0x561)]&&_0x1b61a0[_0x56244d(0x7bc)]({'height':_0x5ceef5[_0x56244d(0x6d3)],'localPeak':_0x5ceef5,'remotePeak':_0x497f62}):_0x21d35b[_0x56244d(0x7bc)](_0x5ceef5);}for(const _0xcac5b of _0x480fc7)_0x539e46['find'](_0x52da47=>_0x52da47[_0x56244d(0x6d3)]===_0xcac5b[_0x56244d(0x6d3)])||_0x3ccd28[_0x56244d(0x7bc)](_0xcac5b);return{'differingPeaks':_0x1b61a0,'peaksMissingInRemote':_0x21d35b,'peaksMissingInLocal':_0x3ccd28};}async[_0x11ce6(0x352)](){const _0x4f19a7=_0x11ce6;this[_0x4f19a7(0x7e9)]=!0x0;const _0x382feb=this[_0x4f19a7(0x32a)]['map'](_0x2b1682=>_0x2b1682['hash']);return this['cachedRoot']=await this['hashPeakHashes'](_0x382feb),this[_0x4f19a7(0x7e9)]=!0x1,this['rootComputationPromise']=null,this[_0x4f19a7(0x378)](),this['cachedRoot'];}async[_0x11ce6(0x89d)](_0x391744){const _0x461145=_0x11ce6;try{const _0x1e05d2=new TextEncoder()[_0x461145(0x4ed)](_0x391744),_0x2b251f=await crypto[_0x461145(0x721)]['digest']('SHA-256',_0x1e05d2);return Array[_0x461145(0x462)](new Uint8Array(_0x2b251f))[_0x461145(0x99c)](_0x4f2d86=>_0x4f2d86[_0x461145(0x2bd)](0x10)['padStart'](0x2,'0'))[_0x461145(0x926)]('');}catch(_0x3280fb){return console['error'](_0x461145(0x8d3),_0x3280fb),this[_0x461145(0x89d)](_0x391744);}}async[_0x11ce6(0x8ac)](_0x301a89){const _0x1d7f7b=_0x11ce6;return await this[_0x1d7f7b(0x89d)](_0x301a89[_0x1d7f7b(0x926)](''));}async['combinePeaks'](_0x2947cb){const _0x37ec79=_0x11ce6;for(;this[_0x37ec79(0x32a)][_0x37ec79(0x7ad)]>0x0&&this['peaks'][this['peaks'][_0x37ec79(0x7ad)]-0x1][_0x37ec79(0x6d3)]===_0x2947cb['height'];){const _0x2ec422=this[_0x37ec79(0x32a)]['pop']();_0x2947cb={'hash':await this[_0x37ec79(0x7ea)](_0x2ec422['hash'],_0x2947cb[_0x37ec79(0x561)]),'left':_0x2ec422,'right':_0x2947cb,'height':_0x2947cb[_0x37ec79(0x6d3)]+0x1};}this['peaks'][_0x37ec79(0x7bc)](_0x2947cb),await this[_0x37ec79(0x352)]();}[_0x11ce6(0x16b)](_0x138a63,_0x261056){const _0x4d18ba=_0x11ce6;if(!_0x5c02ff[_0x4d18ba(0x4cd)](_0x1e4869[_0x4d18ba(0x45f)]))return;this[_0x4d18ba(0x578)]&&clearTimeout(this[_0x4d18ba(0x578)]);const _0x4cbb6f=Date['now']();this['debounceLogTimeout']=setTimeout(()=>_0x5c02ff['log'](_0x1e4869[_0x4d18ba(0x45f)],_0x4d18ba(0x3f1),this[_0x4d18ba(0x457)],_0x4d18ba(0x6b5),this[_0x4d18ba(0x7e5)](),_0x4d18ba(0x4b7),_0x261056,_0x4d18ba(0x2c2),_0x4cbb6f-_0x138a63),0x7d0);}[_0x11ce6(0x378)](){const _0x47d252=_0x11ce6;this[_0x47d252(0x3ab)]&&clearTimeout(this[_0x47d252(0x3ab)]),this[_0x47d252(0x3ab)]=setTimeout(async()=>{const _0x96ea84=_0x47d252;try{const _0x2596e7=this[_0x96ea84(0x7f3)];if(this[_0x96ea84(0x7f3)]=[],await Promise[_0x96ea84(0x3c5)](_0x2596e7),this[_0x96ea84(0x201)]-=_0x2596e7['length'],this[_0x96ea84(0x7f3)][_0x96ea84(0x7ad)]>0x0||this[_0x96ea84(0x201)]>0x0)return this[_0x96ea84(0x378)]();this[_0x96ea84(0x195)]&&(this[_0x96ea84(0x195)](),this[_0x96ea84(0x195)]=null),this[_0x96ea84(0x9c3)]=Promise[_0x96ea84(0x2c9)](),this[_0x96ea84(0x7e9)]=!0x1;}catch(_0x23163a){console[_0x96ea84(0x89e)](_0x96ea84(0x122),_0x23163a);}},0xa);}}const _0x56a8c5=[_0x11ce6(0x850),'Node',_0x11ce6(0x575),'Subscription',_0x11ce6(0x6d9),'Detection','Remediation'],_0x119154=[[_0x11ce6(0x606),'Answer',_0x11ce6(0x7e0),_0x11ce6(0x88a),_0x11ce6(0x4eb),_0x11ce6(0x2ff),_0x11ce6(0x906),_0x11ce6(0x6d9),_0x11ce6(0x7cf)],[_0x11ce6(0x61e),'NodeUpdate',_0x11ce6(0x826),_0x11ce6(0x55e)],[_0x11ce6(0x7b5),'CloseJobDispatcher',_0x11ce6(0x61a),_0x11ce6(0x243),_0x11ce6(0x1fa),_0x11ce6(0x526),_0x11ce6(0x1b5),_0x11ce6(0x144),'CloseVectorDatabase',_0x11ce6(0xc5),'GenerativeAIContextStats',_0x11ce6(0x27d),_0x11ce6(0x8eb),_0x11ce6(0x938),_0x11ce6(0x8f7),_0x11ce6(0x24d),_0x11ce6(0x9fa),'KeyValueDatabaseSendTransactions',_0x11ce6(0x4e9),_0x11ce6(0x12e),'LocalMediaStreamTrackFail',_0x11ce6(0x38f),_0x11ce6(0x39f),_0x11ce6(0x9c5),_0x11ce6(0x1bc),'SubscribeMediaStream',_0x11ce6(0x753),'UnsubscribeMediaStream',_0x11ce6(0x6c7),_0x11ce6(0x7ee)],[_0x11ce6(0xa1a),_0x11ce6(0x6c7),_0x11ce6(0x7ca),_0x11ce6(0x189),_0x11ce6(0x527),'MediaStreamUnavailable'],['StreamReport','LocalReport'],[_0x11ce6(0x2c5)],['Remediation',_0x11ce6(0x298)]];function _0x15f2a3(_0x12774d){const _0x16fffd=_0x11ce6;return{..._0x12774d,'systemMessageType':_0x56a8c5[_0x12774d[_0x16fffd(0x32c)]],'systemContentMessageType':_0x119154[_0x12774d[_0x16fffd(0x32c)]][_0x12774d[_0x16fffd(0x1c4)][_0x16fffd(0x789)]]};}const _0x551847={'hour':_0x11ce6(0x44f),'minute':_0x11ce6(0x44f),'second':_0x11ce6(0x44f)};function _0x31728e(_0x474baf,_0x5a7220){const _0x3da929=_0x11ce6,_0x4d692f=(function(){const _0x5a0599=a0_0x5c6e,_0x3cf62a=new Date(),_0x31a04f=_0x3cf62a[_0x5a0599(0x143)](),_0x3891c9=_0x3cf62a['toLocaleDateString']('en-US',_0x551847)[_0x5a0599(0x897)](/\d\d:\d\d:\d\d/)?.[0x0];return _0x3891c9+'.'+(_0x31a04f>0x64?''+_0x31a04f:_0x31a04f>0xa?'0'+_0x31a04f:'00'+_0x31a04f);}()),{sourceId:_0x400335,destinationIds:_0x1259ec,systemMessageType:_0x48a4cf,systemContentMessageType:_0x384ccb}=_0x15f2a3(_0x474baf);return _0x4d692f+_0x3da929(0x5f3)+_0x5a7220+'\x20-\x20'+(_0x400335===_0x5a7220?_0x3da929(0x778)+_0x48a4cf+_0x3da929(0x98a)+(_0x1259ec?''+_0x1259ec:_0x3da929(0x8ba)):_0x474baf[_0x3da929(0x112)]===_0x1f0abe?'Internal\x20event\x20\x27'+_0x48a4cf+'\x27':(_0x1259ec?'':_0x3da929(0x816))+'Receiving\x20\x27'+_0x48a4cf+_0x3da929(0x565)+_0x400335)+_0x3da929(0x980)+_0x384ccb+_0x3da929(0x82e);}function _0xf4ea6d(_0x35bb02,_0x560756){const _0x24df6f=_0x11ce6;if(!_0x5c02ff[_0x24df6f(0x4cd)](_0x35bb02))return;if(_0x4d02a1['isProduction'])return;if(_0x24df6f(0x126)==typeof process)return;const _0x3d9514=process[_0x24df6f(0x39e)]();console[_0x24df6f(0x65b)](_0x24df6f(0x331)+_0x560756+':');for(const _0x5bce3c in _0x3d9514)console['log']('\x20\x20'+_0x5bce3c+':\x20'+(_0x3d9514[_0x5bce3c]/0x400/0x400)[_0x24df6f(0x9df)](0x2)+_0x24df6f(0x1c8));}function _0x20ab93(_0x3e73c7,_0x22cc98){const _0x160d77=_0x11ce6;if(!_0x5c02ff['isChannelEnabled'](_0x22cc98))return _0x5c02ff['debug'](_0x160d77(0x7ef)+_0x22cc98),{'timingLogger':{'start':()=>{},'now':()=>0x0,'logWaitTime':()=>{}},'logger':{'log':()=>{},'performCalculation':(_0x43f19f,_0x29f09a)=>_0x29f09a}};let _0x202fbe=0x0;return{'timingLogger':((()=>{const _0x4d1158=_0x160d77;let _0x2df8e1=Date[_0x4d1158(0x3bd)]();return{'start':()=>{const _0x5bd905=_0x4d1158;_0x2df8e1=Date[_0x5bd905(0x3bd)]();},'now':()=>Date[_0x4d1158(0x3bd)](),'logWaitTime':_0x22522d=>{const _0x5923f6=_0x4d1158;_0x202fbe+=Date['now']()-_0x2df8e1,_0x5c02ff[_0x5923f6(0x65b)](_0x22cc98,_0x22522d,_0x202fbe+'ms',_0x3e73c7);}};})()),'logger':{'log':(_0x6b514b,_0x36eabf=()=>{})=>{const _0x135e65=_0x160d77,_0x101c64=_0x36eabf();_0x101c64?_0x5c02ff[_0x135e65(0x65b)](_0x22cc98,_0x6b514b,_0x101c64,_0x3e73c7):_0x5c02ff[_0x135e65(0x65b)](_0x22cc98,_0x6b514b,_0x3e73c7);},'performCalculation':(_0x1378fa,_0x381035)=>_0x1378fa()}};}function _0x518c8e(_0x1df8ff){const _0x51b9b2=_0x11ce6;return _0x51b9b2(0x126)==typeof Buffer?0x0:Buffer[_0x51b9b2(0x713)](JSON[_0x51b9b2(0x3ea)](_0x1df8ff),_0x51b9b2(0x5db));}function _0x17a00c(_0x36056c){const _0x5381b7=_0x11ce6;if(0x0===_0x36056c)return _0x5381b7(0x20f);const _0x561075=Math[_0x5381b7(0x273)](Math[_0x5381b7(0x65b)](_0x36056c)/Math[_0x5381b7(0x65b)](0x400));return parseFloat((_0x36056c/Math[_0x5381b7(0x577)](0x400,_0x561075))[_0x5381b7(0x9df)](0x2))+'\x20'+['B','KB','MB','GB','TB'][_0x561075];}class _0x44d718 extends _0x468001{[_0x11ce6(0xd3)];[_0x11ce6(0xa18)];[_0x11ce6(0x391)];[_0x11ce6(0x204)];['db'];[_0x11ce6(0x15a)];[_0x11ce6(0x100)]=new Map();[_0x11ce6(0x308)];[_0x11ce6(0x61f)];[_0x11ce6(0x19d)];[_0x11ce6(0x76b)];[_0x11ce6(0x5fd)];[_0x11ce6(0x18b)]=[];[_0x11ce6(0x2e7)]=()=>{};[_0x11ce6(0x8fe)];[_0x11ce6(0x14a)]=_0x435863();[_0x11ce6(0x7b0)];[_0x11ce6(0x151)]=[];[_0x11ce6(0x80f)];[_0x11ce6(0x455)];[_0x11ce6(0x783)]=0x0;[_0x11ce6(0x738)]=0x0;[_0x11ce6(0x937)]=!0x1;[_0x11ce6(0x649)]=new _0x44b408();['transactionHashMap']=new Map();[_0x11ce6(0x254)]=[];[_0x11ce6(0x90b)];['transactionsToAppend']=[];[_0x11ce6(0x218)];constructor(_0x1926be,_0x328212,_0xd8b57f,_0x9ea315,_0x3fb916,_0x270f9d,_0x18a060){const _0x116526=_0x11ce6;if('string'!=typeof _0x328212)throw new _0x39299d(_0x1ffca6[_0x116526(0x9b9)],'Cannot\x20create\x20Key-Value\x20Database:\x20Name\x20must\x20be\x20a\x20string');if(super(_0x1926be,_0x328212),this[_0x116526(0xd3)]=_0x1926be,this['clusterId']=_0xd8b57f,this['vendorId']=_0x9ea315,this['isNodeReady']=_0x18a060,this[_0x116526(0x15a)]=_0x116526(0x1b7)+this['vendorId']+'ccc'+this['clusterId']+_0x116526(0x1b7)+this[_0x116526(0x6e8)],this[_0x116526(0x308)]=_0x435863(),this[_0x116526(0x218)]=function(_0xa89e40,_0x480a67){const _0x5c2946=_0x116526;if(!_0x5c02ff['isChannelEnabled'](_0x480a67))return _0x5c02ff[_0x5c2946(0x760)](_0x5c2946(0x7ef)+_0x480a67),{..._0x20ab93(_0xa89e40,_0x480a67),'logDataSent':()=>0x0,'logDataReceived':()=>0x0,'getDataLogged':()=>({'dataSent':'0\x20B','dataReceived':'0\x20B'})};const {timingLogger:_0x45622e,logger:_0xb100d2}=_0x20ab93(_0xa89e40,_0x480a67);let _0x19c033=0x0,_0x58b5a4=0x0;return{'timingLogger':_0x45622e,'logger':_0xb100d2,'logDataSent':(_0x4ff310,_0x16988d=!0x1)=>{const _0x16de39=_0x5c2946,_0x25d67d=_0x518c8e(_0x4ff310);return _0x16988d&&_0x5c02ff[_0x16de39(0x65b)](_0x480a67,'Data\x20Sent',_0xa89e40,_0x25d67d),_0x19c033+=_0x25d67d,_0x25d67d;},'logDataReceived':(_0x5c91ea,_0x1611d2=!0x1)=>{const _0x1f45bf=_0x5c2946,_0x88fc9c=_0x518c8e(_0x5c91ea);return _0x1611d2&&_0x5c02ff[_0x1f45bf(0x65b)](_0x480a67,_0x1f45bf(0x3ec),_0xa89e40,_0x88fc9c),_0x58b5a4+=_0x88fc9c,_0x88fc9c;},'getDataLogged':()=>({'dataSent':_0x17a00c(_0x19c033),'dataReceived':_0x17a00c(_0x58b5a4)})};}(this['label'],_0x1e4869[_0x116526(0x45f)]),this['isSync']=new Promise(_0x43f17d=>{const _0x365120=_0x116526;this[_0x365120(0x5fd)]=_0x43f17d;}),_0x3fb916 instanceof _0x557a54)this['layout']=_0x3fb916[_0x116526(0x23e)]();else{const [_0x3037b,_0x8d2b5]=_0x557a54[_0x116526(0x6e3)](_0x3fb916);if(!_0x3037b)throw new _0x39299d(_0x1ffca6[_0x116526(0x355)],_0x116526(0x540)+_0x8d2b5);this[_0x116526(0x80f)]=structuredClone(_0x3fb916);}this[_0x116526(0x61c)](this[_0x116526(0x80f)]),this['db']=new _0x270f9d(this['dbKey'],this[_0x116526(0x80f)]),this['sendStats']();}async['answerContentAvailable'](_0x335326,_0xcf4fb3){const _0x931360=_0x11ce6;if(_0x5c02ff[_0x931360(0x65b)](_0x1e4869[_0x931360(0x45f)],_0x931360(0x9b6),this[_0x931360(0x6e8)]),!this['transactionTable'])throw new _0x490cf1(_0x490cf1[_0x931360(0x9fb)][_0x931360(0x5c6)]);if(await this['isSync'],await this['isNodeReady'](_0x335326),await this[_0x931360(0x649)][_0x931360(0x734)]()===_0xcf4fb3){const _0x1116be={'sourceId':this['localNode'][_0x931360(0x9d8)](),'destinationIds':[_0x335326],'propagate':!0x0,'messageType':_0x48fa30[_0x931360(0x575)],'content':{'type':_0x18f1c1['KeyValueDatabaseContentSynchronized'],'label':this[_0x931360(0x6e8)],'mmrRoot':_0xcf4fb3}};return this['loggingCycle']['logDataSent'](_0x1116be),void this[_0x931360(0x1ad)]['publish'](_0x1116be);}const _0x33d3bc=this[_0x931360(0x649)]['getPeaks'](),_0x285f56={'sourceId':this[_0x931360(0xd3)][_0x931360(0x9d8)](),'destinationIds':[_0x335326],'propagate':!0x0,'messageType':_0x48fa30['Content'],'content':{'type':_0x18f1c1[_0x931360(0x938)],'label':this['label'],'peaks':_0x33d3bc}};this[_0x931360(0x218)]['logDataSent'](_0x285f56),this[_0x931360(0x1ad)]['publish'](_0x285f56);}async[_0x11ce6(0x1e0)](_0x17208c,_0x4f4083){const _0x547707=_0x11ce6,_0x466922=await this[_0x547707(0x649)][_0x547707(0x734)](),_0x22ce71=_0x466922===_0x4f4083;if(_0x5c02ff[_0x547707(0x65b)](_0x1e4869['KeyValueDatabase'],'Received\x20ContentSynchronized\x20from\x20'+_0x17208c+_0x547707(0x54d)+_0x22ce71,this[_0x547707(0x6e8)]),_0x22ce71)return this[_0x547707(0xa0c)](),void this[_0x547707(0x772)]();_0x5c02ff['log'](_0x1e4869['KeyValueDatabase'],'ProcessContentSynchronized\x20-\x20MMR\x20roots\x20still\x20differ\x20after\x20synchronization.\x20Initiating\x20another\x20sync\x20cycle.',_0x466922,_0x4f4083),_0x5c02ff[_0x547707(0x275)](_0x547707(0x166),{'nodeId':this[_0x547707(0xd3)][_0x547707(0x9d8)](),'nodeType':this[_0x547707(0xd3)][_0x547707(0x789)],'remoteId':_0x17208c,'data':{'localMMRRoot':_0x466922,'remoteMMRRoot':_0x4f4083}});const _0x40bbc7={'sourceId':this[_0x547707(0xd3)]['getId'](),'messageType':_0x48fa30[_0x547707(0x575)],'propagate':!0x0,'content':{'type':_0x18f1c1[_0x547707(0x12e)],'label':this[_0x547707(0x6e8)],'mmrRoot':_0x466922}};this[_0x547707(0x1ad)][_0x547707(0xfa)](_0x40bbc7);}async['processContentAvailable'](_0x3af802,_0x3e40ca){const _0x3fef0b=_0x11ce6;if(_0x5c02ff[_0x3fef0b(0x65b)](_0x1e4869['KeyValueDatabase'],_0x3fef0b(0x4c2),_0x3af802,_0x3fef0b(0x6e8),this['label'],'peaks',_0x3e40ca),this[_0x3fef0b(0x937)])return;this[_0x3fef0b(0x937)]=!0x0,this[_0x3fef0b(0xa0c)]();const {differingPeaks:_0xc7ee38,peaksMissingInLocal:_0x4e3db0,peaksMissingInRemote:_0x55d124}=this[_0x3fef0b(0x649)][_0x3fef0b(0x465)](_0x3e40ca);_0x5c02ff[_0x3fef0b(0x65b)](_0x1e4869[_0x3fef0b(0x45f)],_0x3fef0b(0x45c),{'differingPeaks':_0xc7ee38,'peaksMissingInLocal':_0x4e3db0,'peaksMissingInRemote':_0x55d124});const _0x2fa853={'sourceId':this['localNode'][_0x3fef0b(0x9d8)](),'destinationIds':[_0x3af802],'propagate':!0x0,'messageType':_0x48fa30[_0x3fef0b(0x575)],'content':{'type':_0x18f1c1[_0x3fef0b(0x24d)],'label':this[_0x3fef0b(0x6e8)],'peakHeights':_0x4e3db0[_0x3fef0b(0x99c)](_0x116950=>_0x116950['height'])[_0x3fef0b(0x75b)](_0xc7ee38['map'](_0x1b18b0=>_0x1b18b0[_0x3fef0b(0x6d3)]))}};if(this[_0x3fef0b(0x1ad)]['publish'](_0x2fa853),_0xc7ee38['length']>0x0||_0x55d124['length']>0x0){const _0x16dc87=_0x55d124['map'](_0x2d6b95=>_0x2d6b95[_0x3fef0b(0x6d3)])[_0x3fef0b(0x75b)](_0xc7ee38[_0x3fef0b(0x99c)](_0x263d39=>_0x263d39['height']));await this[_0x3fef0b(0x49b)](_0x3af802,_0x16dc87,!0x0);}}async[_0x11ce6(0x49b)](_0x73d179,_0x41b724,_0x67eb07=!0x1){const _0x541dd0=_0x11ce6;_0x5c02ff[_0x541dd0(0x65b)](_0x1e4869[_0x541dd0(0x45f)],_0x541dd0(0x5f0),this[_0x541dd0(0x6e8)]);const _0x2fa76f=_0x41b724[_0x541dd0(0x99c)](_0x222cf3=>this['mmr'][_0x541dd0(0x265)](_0x222cf3))[_0x541dd0(0x80e)](Boolean);if(!_0x2fa76f[_0x541dd0(0x7ad)]||_0x41b724[_0x541dd0(0x7ad)]!==_0x2fa76f[_0x541dd0(0x7ad)])throw new _0x490cf1(_0x490cf1['codes'][_0x541dd0(0x97c)],{'message':_0x541dd0(0x78a),'peakHeights':_0x41b724,'peaks':_0x2fa76f[_0x541dd0(0x99c)](_0x71bb3f=>_0x71bb3f['height']),'nodeId':_0x73d179});const _0x375627=[];for(const _0x17854f of _0x2fa76f)this[_0x541dd0(0x858)](_0x17854f,_0x375627);const _0x43b808=_0x67eb07?void 0x0:[_0x73d179],_0x48ab45={'sourceId':this[_0x541dd0(0xd3)]['getId'](),'destinationIds':_0x43b808,'messageType':_0x48fa30['Content'],'propagate':!0x0,'content':{'type':_0x18f1c1[_0x541dd0(0x8f2)],'label':this[_0x541dd0(0x6e8)],'transactions':_0x375627}};this[_0x541dd0(0x218)]['logDataSent'](_0x48ab45),this['systemTopic']['publish'](_0x48ab45);}async[_0x11ce6(0x221)](_0x5663c6,_0x5a04df){const _0x11984c=_0x11ce6;_0x5c02ff[_0x11984c(0x65b)](_0x1e4869[_0x11984c(0x45f)],_0x11984c(0x336)+_0x5a04df[_0x11984c(0x7ad)]+_0x11984c(0x15f)+_0x5663c6+_0x11984c(0x5f3)+this[_0x11984c(0x6e8)]);for(const _0x3535e4 of _0x5a04df){const _0x4f9eb8=await this['transactionTable'][_0x11984c(0x3f2)](_0x3535e4['id']);if(!(_0x4f9eb8&&this[_0x11984c(0x82d)](_0x4f9eb8,_0x3535e4)>=0x0)){if(_0x3535e4[_0x11984c(0x28d)]===_0x5b8679['Delete']){const [_0x48e504,_0x306339]=_0x3535e4['id'][_0x11984c(0x82c)]('::'),_0xdf051c=this['getTable'](_0x48e504);await _0xdf051c[_0x11984c(0x3a9)](_0x306339);}else this[_0x11984c(0x18b)][_0x11984c(0x7bc)](_0x3535e4['id']);}}if(_0x5c02ff[_0x11984c(0x65b)](_0x1e4869[_0x11984c(0x45f)],'Found\x20'+this[_0x11984c(0x18b)][_0x11984c(0x7ad)]+_0x11984c(0x190),this[_0x11984c(0x6e8)]),this[_0x11984c(0x18b)]['length']>0x0){const _0x51ac58={'sourceId':this['localNode'][_0x11984c(0x9d8)](),'destinationIds':[_0x5663c6],'messageType':_0x48fa30[_0x11984c(0x575)],'propagate':!0x0,'content':{'type':_0x18f1c1[_0x11984c(0x9fa)],'label':this[_0x11984c(0x6e8)],'transactionIds':this['transactionsToSync']}};this[_0x11984c(0x218)][_0x11984c(0x571)](_0x51ac58),this[_0x11984c(0x1ad)][_0x11984c(0xfa)](_0x51ac58);}}[_0x11ce6(0x7e8)](){const _0x56f133=_0x11ce6;this[_0x56f133(0x13c)]();}[_0x11ce6(0x503)](){const _0xa935a4=_0x11ce6;return _0x4aea4d[_0xa935a4(0x43d)]['KeyValueDatabase'];}[_0x11ce6(0x4d6)](){const _0x41b896=_0x11ce6;this['db'][_0x41b896(0x17e)](),this[_0x41b896(0x19d)]?.(),clearTimeout(this[_0x41b896(0x455)]),delete this[_0x41b896(0x455)],super[_0x41b896(0x4d6)]();}[_0x11ce6(0x17e)](){const _0x18705c=_0x11ce6;this['clearSyncTimeout'](),this[_0x18705c(0x1ad)][_0x18705c(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x18705c(0x575)],'content':{'type':_0x18f1c1[_0x18705c(0x1fa)],'label':this[_0x18705c(0x6e8)]}});}[_0x11ce6(0x313)](_0x1e30b1){const _0x1f4f22=_0x11ce6,_0x2ddee3=this['tables'][_0x1f4f22(0x3f2)](_0x1e30b1);if(_0x2ddee3)return _0x2ddee3;try{if(!this['db'][_0x1f4f22(0x26a)](_0x1e30b1))throw new _0x39299d(_0x1ffca6[_0x1f4f22(0x44d)],_0x1f4f22(0x2bf));const _0x4552a8=new _0x18dfef(this['db'][_0x1f4f22(0x6ef)](_0x1e30b1),_0x1e30b1,this[_0x1f4f22(0x308)]);return this['tables'][_0x1f4f22(0x323)](_0x1e30b1,_0x4552a8),{'get':_0x4552a8['get'][_0x1f4f22(0x23a)](_0x4552a8),'set':_0x4552a8[_0x1f4f22(0x323)][_0x1f4f22(0x23a)](_0x4552a8),'add':_0x4552a8[_0x1f4f22(0x5c9)][_0x1f4f22(0x23a)](_0x4552a8),'delete':_0x4552a8['delete'][_0x1f4f22(0x23a)](_0x4552a8),'clear':_0x4552a8[_0x1f4f22(0x918)][_0x1f4f22(0x23a)](_0x4552a8),'list':_0x4552a8[_0x1f4f22(0x138)][_0x1f4f22(0x23a)](_0x4552a8),'count':_0x4552a8[_0x1f4f22(0x556)]['bind'](_0x4552a8),'subscribe':_0x4552a8['subscribe']['bind'](_0x4552a8),'unsubscribe':_0x4552a8[_0x1f4f22(0x786)][_0x1f4f22(0x23a)](_0x4552a8)};}catch(_0x4964e6){if(_0x4964e6 instanceof _0x39299d)throw _0x4964e6;throw new _0x39299d(_0x1ffca6[_0x1f4f22(0x405)],_0x1f4f22(0x97b));}}[_0x11ce6(0x85a)](_0x46bc41){const _0x5a9dbe=_0x11ce6;this['listenerUnsubscriber']=this['eventListener'][_0x5a9dbe(0x85a)](_0x46bc41),this[_0x5a9dbe(0xe6)](this[_0x5a9dbe(0x76b)])[_0x5a9dbe(0x305)](_0x6ab8f5=>{const _0x4e31c3=_0x5a9dbe;_0x6ab8f5&&this[_0x4e31c3(0x14a)][_0x4e31c3(0xfa)]({'event':_0x4aea4d[_0x4e31c3(0x904)][_0x4e31c3(0x709)]});});}[_0x11ce6(0x786)](){const _0x504945=_0x11ce6;this[_0x504945(0x7b0)]?.(),this['listenerUnsubscriber']=void 0x0;}async[_0x11ce6(0x4ec)](){const _0x2699f4=_0x11ce6;_0xf4ea6d(_0x1e4869[_0x2699f4(0x45f)],_0x2699f4(0x165));const _0x2e4582=[_0x5a7ba5,_0x40f63e],_0x477afc=[];try{await this['db'][_0x2699f4(0x4ec)]();const _0x143577=this['db'][_0x2699f4(0x6ef)](_0x40f63e),_0xb1c654=await _0x143577[_0x2699f4(0x138)](),{id:_0x3ac5f9,layout:_0x4f08fb}=_0xb1c654[0x0]??{};if(_0x4f08fb){for(const _0x35b5d7 in _0x4f08fb)_0x2e4582['includes'](_0x35b5d7)||this['db'][_0x2699f4(0x26a)](_0x35b5d7)||_0x477afc[_0x2699f4(0x7bc)](_0x35b5d7);await _0x143577[_0x2699f4(0x323)](_0x3ac5f9,{'layout':this[_0x2699f4(0x80f)]});}else await _0x143577[_0x2699f4(0x5c9)]({'layout':this[_0x2699f4(0x80f)]});}catch(_0x10ba94){throw new _0x39299d(_0x1ffca6['KeyValueDatabaseNotOpen'],_0x10ba94['message']||_0x2699f4(0x341));}this[_0x2699f4(0xf2)](),await this['buildInitialMMR'](),this['setOnMessageHandler'](),this[_0x2699f4(0x15e)](),_0x477afc[_0x2699f4(0x7a1)](_0x359e12=>this[_0x2699f4(0x12d)](_0x359e12));}async[_0x11ce6(0x6ce)](_0x3d5c91,_0x3ec4cb=()=>{},_0x1ee98e=!0x1){const _0x4b91a3=_0x11ce6;if(!_0x3d5c91)return setTimeout(()=>{const _0x17b666=a0_0x5c6e;this[_0x17b666(0xa0c)](),this[_0x17b666(0x772)]();},0x0),!0x0;if(this['contentRequestSent']=!0x1,this[_0x4b91a3(0x2e7)]=_0x3ec4cb,this[_0x4b91a3(0x8fe)]=setTimeout(_0x3ec4cb,0x7d0),!this[_0x4b91a3(0x1ad)])throw new _0x490cf1(_0x490cf1[_0x4b91a3(0x9fb)][_0x4b91a3(0x9c0)]);const _0x6a17ba=await this[_0x4b91a3(0x649)][_0x4b91a3(0x734)](),_0x1cc6fa={'sourceId':this[_0x4b91a3(0xd3)][_0x4b91a3(0x9d8)](),'messageType':_0x48fa30[_0x4b91a3(0x575)],'propagate':_0x1ee98e,'content':{'type':_0x18f1c1[_0x4b91a3(0x12e)],'label':this[_0x4b91a3(0x6e8)],'mmrRoot':_0x6a17ba}};return this[_0x4b91a3(0x218)][_0x4b91a3(0x571)](_0x1cc6fa),this[_0x4b91a3(0x1ad)]['publish'](_0x1cc6fa),this[_0x4b91a3(0x76b)];}async[_0x11ce6(0x9b8)](_0x2a25db,_0x574910){const _0x153d9b=_0x11ce6;if(_0x5c02ff[_0x153d9b(0x65b)](_0x1e4869[_0x153d9b(0x45f)],_0x153d9b(0x1b0)+_0x574910[_0x153d9b(0x7ad)],this[_0x153d9b(0x6e8)]),!this['transactionTable'])throw new _0x490cf1(_0x490cf1[_0x153d9b(0x9fb)][_0x153d9b(0x5c6)]);for(const _0x1af79a of _0x574910){const _0x15f565=await this[_0x153d9b(0x61f)]['get'](_0x1af79a);if(!_0x15f565)continue;const [_0x5ec0a7,_0x3fa303]=_0x1af79a['split']('::'),_0x3ddb8b=this[_0x153d9b(0x313)](_0x5ec0a7),_0xbe1026=await _0x3ddb8b[_0x153d9b(0x3f2)](_0x3fa303);_0xbe1026?(_0x15f565[_0x153d9b(0x844)]=_0xbe1026,this[_0x153d9b(0x41d)](_0x15f565,[_0x2a25db])):_0x5c02ff['warning'](_0x153d9b(0x971),{'nodeId':this[_0x153d9b(0xd3)][_0x153d9b(0x9d8)](),'nodeType':this[_0x153d9b(0xd3)][_0x153d9b(0x789)],'remoteId':_0x2a25db,'data':{'tableKeys':Object[_0x153d9b(0x8ae)](this[_0x153d9b(0x100)]),'transactionId':_0x1af79a,'transactions':this['transactionsToSync'],'tableName':_0x5ec0a7,'key':_0x3fa303}});}}async[_0x11ce6(0x9fd)](_0x4c65d1){const _0x1d41ed=_0x11ce6;if(!this[_0x1d41ed(0x61f)])throw new _0x490cf1(_0x490cf1[_0x1d41ed(0x9fb)]['KeyValueDatabaseTransactionTableNotInitialized']);const _0x3bbfbc=await this[_0x1d41ed(0x649)][_0x1d41ed(0x127)](_0x4c65d1),_0x444eb5=this['transactionHashMap'][_0x1d41ed(0x3f2)](_0x3bbfbc);if(_0x444eb5&&this[_0x1d41ed(0x82d)](_0x4c65d1,_0x444eb5)<=0x0)return void _0x5c02ff['log'](_0x1e4869[_0x1d41ed(0x45f)],_0x1d41ed(0x61b),_0x4c65d1);const _0x58be16={..._0x4c65d1};return delete _0x58be16[_0x1d41ed(0x844)],this[_0x1d41ed(0x50e)](_0x58be16),await this[_0x1d41ed(0x61f)][_0x1d41ed(0x323)](_0x4c65d1['id'],_0x58be16),_0x4c65d1;}[_0x11ce6(0x82d)](_0x549d2d,_0x1d0966){const _0x211f5b=_0x11ce6;return _0x549d2d[_0x211f5b(0x951)]!==_0x1d0966[_0x211f5b(0x951)]?_0x549d2d[_0x211f5b(0x951)]-_0x1d0966[_0x211f5b(0x951)]:_0x549d2d[_0x211f5b(0xca)]-_0x1d0966[_0x211f5b(0xca)];}async[_0x11ce6(0x3dc)](_0x4e3374){const _0x26adab=_0x11ce6;if(!this[_0x26adab(0x61f)])throw new _0x490cf1(_0x490cf1[_0x26adab(0x9fb)][_0x26adab(0x5c6)]);const _0x30a121=_0x4e3374[_0x26adab(0x854)]+'::'+_0x4e3374[_0x26adab(0x559)],_0x32720d=await _0x24cd47[_0x26adab(0x1bb)](),_0x2b0eae={'id':_0x30a121,'priority':Math[_0x26adab(0x140)](),'timestamp':_0x32720d,'action':_0x4e3374[_0x26adab(0x28d)]};if(await this['writeTransaction'](_0x2b0eae))return _0x2b0eae;}async[_0x11ce6(0x12d)](_0x3f9ab1){const _0x392de4=_0x11ce6;if(!this[_0x392de4(0x61f)])throw new _0x490cf1(_0x490cf1[_0x392de4(0x9fb)][_0x392de4(0x5c6)]);const _0x52fafd=_0x206493[_0x392de4(0x9fc)]('id')['where'](_0x392de4(0x98b),[_0x3f9ab1+'::',_0x3f9ab1+_0x392de4(0x3f9)]),_0x2d215c=await this['transactionTable']['list'](_0x52fafd['getQuery']());for(const _0x5a6b9a of _0x2d215c)await this[_0x392de4(0x61f)]['delete'](_0x5a6b9a['id']);}[_0x11ce6(0x588)](){const _0x35ceca=_0x11ce6;this[_0x35ceca(0xc1)](async(_0x149512,_0x2ec2ad)=>{const _0x49431f=_0x35ceca;if(_0x2ec2ad instanceof File)return;if(this[_0x49431f(0x218)][_0x49431f(0x3fe)](_0x2ec2ad),!await this[_0x49431f(0x9fd)](_0x2ec2ad))return void this[_0x49431f(0x4f7)](_0x149512,_0x2ec2ad);if(!_0x2ec2ad['value'])throw new _0x490cf1(_0x490cf1[_0x49431f(0x9fb)][_0x49431f(0x6a3)]);const [_0x148a68,_0x1f3a38]=_0x2ec2ad['id'][_0x49431f(0x82c)]('::'),_0x2d181f=this['getTable'](_0x148a68);if(!_0x2d181f)throw new _0x490cf1(_0x490cf1[_0x49431f(0x9fb)][_0x49431f(0x3a4)],{'table':_0x2d181f});let _0x50a1b1=0x0;switch(_0x2ec2ad['action']){case _0x5b8679['Add']:case _0x5b8679[_0x49431f(0x976)]:{const _0x330530=_0x2d181f['set'](_0x1f3a38,_0x2ec2ad[_0x49431f(0x844)],!0x1);_0x50a1b1=JSON['stringify'](_0x2ec2ad[_0x49431f(0x844)])[_0x49431f(0x7ad)],this[_0x49431f(0x18b)][_0x49431f(0x2a1)](_0x2ec2ad['id'])&&this[_0x49431f(0x151)][_0x49431f(0x7bc)](_0x330530);break;}case _0x5b8679[_0x49431f(0x1e9)]:{const _0x369fe3=_0x2d181f[_0x49431f(0x3a9)](_0x1f3a38,!0x1);this[_0x49431f(0x18b)]['includes'](_0x2ec2ad['id'])&&this[_0x49431f(0x151)][_0x49431f(0x7bc)](_0x369fe3);break;}}_0x5c02ff['logServiceEvent'](_0x8fa077['KeyValueDatabase'],{'type':'sync','label':this[_0x49431f(0x6e8)],'nodeId':this[_0x49431f(0xd3)][_0x49431f(0x9d8)](),'nodeType':this['localNode'][_0x49431f(0x789)],'clusterId':this[_0x49431f(0xa18)],'tableName':_0x148a68,'key':_0x1f3a38,'size':_0x50a1b1}),this[_0x49431f(0x4f7)](_0x149512,_0x2ec2ad);});}['setOnTableWriteHandler'](){const _0x58472c=_0x11ce6;this[_0x58472c(0x19d)]=this['tableObserver'][_0x58472c(0x85a)](async _0x430c19=>{const _0x568d2e=_0x58472c;let _0xd99938=0x0;switch(_0x430c19[_0x568d2e(0x28d)]){case _0x5b8679[_0x568d2e(0xa15)]:case _0x5b8679['Update']:case _0x5b8679['Delete']:{const _0x285e57=await this[_0x568d2e(0x3dc)](_0x430c19);if(!_0x285e57)return;_0x285e57[_0x568d2e(0x844)]=_0x430c19['value'],this[_0x568d2e(0x41d)](_0x285e57),_0xd99938=JSON[_0x568d2e(0x3ea)](_0x430c19['value'])[_0x568d2e(0x7ad)],this[_0x568d2e(0x783)]+=0x1;break;}case _0x438bab[_0x568d2e(0x835)]:case _0x438bab[_0x568d2e(0x49c)]:case _0x438bab[_0x568d2e(0x956)]:this[_0x568d2e(0x738)]+=0x1;}_0x5c02ff[_0x568d2e(0x253)](_0x8fa077[_0x568d2e(0x45f)],{'type':_0x430c19['action'],'label':this[_0x568d2e(0x6e8)],'nodeId':this[_0x568d2e(0xd3)][_0x568d2e(0x9d8)](),'nodeType':this['localNode'][_0x568d2e(0x789)],'clusterId':this[_0x568d2e(0xa18)],'tableName':_0x430c19[_0x568d2e(0x854)],'key':_0x430c19['key'],'size':_0xd99938}),this[_0x568d2e(0x13c)]();});}['instantiateTransactionTable'](){const _0x52a5c5=_0x11ce6;this['db']&&(this['transactionTable']||(this[_0x52a5c5(0x61f)]=this['db'][_0x52a5c5(0x6ef)](_0x5a7ba5)));}['clearSyncTimeout'](){const _0x1b0e95=_0x11ce6;this[_0x1b0e95(0x8fe)]&&(clearTimeout(this[_0x1b0e95(0x8fe)]),delete this[_0x1b0e95(0x8fe)]);}async['publishSyncCompleted'](){const _0x4d39fc=_0x11ce6;await this[_0x4d39fc(0x649)][_0x4d39fc(0x4b2)],this['logSyncMetrics'](),this[_0x4d39fc(0x14a)][_0x4d39fc(0xfa)]({'event':_0x4aea4d[_0x4d39fc(0x904)][_0x4d39fc(0x709)]}),this[_0x4d39fc(0x5fd)]?.(!0x0),delete this['syncResolve'],this[_0x4d39fc(0x13c)](),_0x5c02ff[_0x4d39fc(0x65b)](_0x1e4869['KeyValueDatabase'],_0x4d39fc(0x8a3),this['label']);}async[_0x11ce6(0x5ed)](_0x420ce6){const _0x334766=_0x11ce6;await Promise[_0x334766(0x3c5)](this[_0x334766(0x151)]),_0x5c02ff['log'](_0x1e4869['KeyValueDatabase'],'publishSyncCompletedAfterWrites\x20-\x20'+this[_0x334766(0x151)][_0x334766(0x7ad)]+_0x334766(0x6ab)+_0x420ce6+'\x20completed.',this[_0x334766(0x6e8)]),await this['mmr'][_0x334766(0x4b2)],await this['confirmSynchronization'](_0x420ce6),await this['publishSyncCompleted']();}[_0x11ce6(0x4f7)](_0x3aeaeb,_0x3227b0){const _0x2d2ed9=_0x11ce6;this['transactionsToSync'][_0x2d2ed9(0x2a1)](_0x3227b0['id'])&&(this[_0x2d2ed9(0xa0c)](),this[_0x2d2ed9(0x18b)]=this[_0x2d2ed9(0x18b)][_0x2d2ed9(0x80e)](_0x43e240=>_0x43e240!==_0x3227b0['id']),0x0!==this[_0x2d2ed9(0x18b)][_0x2d2ed9(0x7ad)]?this[_0x2d2ed9(0x8fe)]=setTimeout(this[_0x2d2ed9(0x2e7)],0x7d0):this[_0x2d2ed9(0x5ed)](_0x3aeaeb));}['sendStats'](){const _0x2184cd=_0x11ce6;this[_0x2184cd(0x455)]&&clearTimeout(this['debounceStats']),this[_0x2184cd(0x455)]=setTimeout(async()=>{const _0x135588=_0x2184cd;delete this[_0x135588(0x455)];let _0x35d0e1=0x0;for(const _0x4954eb of this['tables'][_0x135588(0x8ea)]())_0x35d0e1+=await _0x4954eb[_0x135588(0x996)]();this[_0x135588(0x1ad)][_0x135588(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x135588(0x575)],'content':{'type':_0x18f1c1['KeyValueDatabaseStats'],'label':this[_0x135588(0x6e8)],'stats':{'timestamp':Date[_0x135588(0x3bd)](),'storage':_0x35d0e1,'messagesSent':this[_0x135588(0x299)],'messagesReceived':this[_0x135588(0x219)],'bytesSent':this[_0x135588(0x769)],'bytesReceived':this[_0x135588(0x8a5)],'writes':this[_0x135588(0x783)],'reads':this['reads'],'prompts':0x0,'tokens':0x0}}}),_0x5c02ff[_0x135588(0x6c4)](_0x8fa077['KeyValueDatabase'],_0x135588(0x1b7)+this[_0x135588(0xa18)]+_0x135588(0x1b7)+this[_0x135588(0x6e8)],_0x35d0e1);},_0x59cbea);}[_0x11ce6(0x61c)](_0x4c309b){const _0x4748e7=_0x11ce6;if(_0x4c309b[_0x4748e7(0x100)][_0x5a7ba5])throw new _0x39299d(_0x1ffca6[_0x4748e7(0x45a)],_0x4748e7(0x72c)+_0x5a7ba5+_0x4748e7(0x96e));if(_0x4c309b['tables'][_0x40f63e])throw new _0x39299d(_0x1ffca6[_0x4748e7(0x45a)],'Cannot\x20create\x20Key-Value\x20Database:\x20Table\x20\x27'+_0x40f63e+_0x4748e7(0x96e));_0x4c309b[_0x4748e7(0x100)][_0x5a7ba5]={'indexes':[]},_0x4c309b['tables'][_0x40f63e]={'indexes':[]};}async[_0x11ce6(0xe6)](_0x136a5b){const _0x4046b3=_0x11ce6;return Promise[_0x4046b3(0x554)]([_0x136a5b,Promise[_0x4046b3(0x2c9)](_0x4046b3(0x99a))])[_0x4046b3(0x305)](_0x12baf3=>'not-resolved'!==_0x12baf3);}async[_0x11ce6(0x2d7)](_0x13f739){const _0x460a7a=_0x11ce6;await this[_0x460a7a(0x895)]();const _0x495662=await this[_0x460a7a(0x649)][_0x460a7a(0x734)](),_0x17c2ee={'sourceId':this['localNode'][_0x460a7a(0x9d8)](),'destinationIds':[_0x13f739],'propagate':!0x0,'messageType':_0x48fa30[_0x460a7a(0x575)],'content':{'type':_0x18f1c1['KeyValueDatabaseContentSynchronized'],'label':this[_0x460a7a(0x6e8)],'mmrRoot':_0x495662}};this['systemTopic']['publish'](_0x17c2ee);}async['buildInitialMMR'](){const _0x2c6baf=_0x11ce6;if(!this[_0x2c6baf(0x61f)])throw new _0x490cf1(_0x490cf1[_0x2c6baf(0x9fb)][_0x2c6baf(0x5c6)]);this['transactions']=await this[_0x2c6baf(0x61f)][_0x2c6baf(0x138)](),this['transactions'][_0x2c6baf(0x96b)](this[_0x2c6baf(0x82d)]),this['mmr']=new _0x44b408(),this[_0x2c6baf(0x593)]=new Map();for(const _0x2c5b6d of this['transactions'])this[_0x2c6baf(0x54c)](_0x2c5b6d,this[_0x2c6baf(0x254)][_0x2c6baf(0x7ad)]);this[_0x2c6baf(0x8fa)]();}async[_0x11ce6(0x54c)](_0x43257f,_0x90f9c8){const _0x308667=_0x11ce6,_0xf50dd4={..._0x43257f};delete _0xf50dd4[_0x308667(0x844)],await this[_0x308667(0x649)][_0x308667(0x56d)](_0xf50dd4,_0x90f9c8);const _0x4336a3=await this[_0x308667(0x649)][_0x308667(0x127)](_0xf50dd4);this[_0x308667(0x593)][_0x308667(0x323)](_0x4336a3,_0x43257f);}[_0x11ce6(0x404)](_0x218480){const _0x45ec55=_0x11ce6;return this[_0x45ec55(0x593)]['get'](_0x218480);}[_0x11ce6(0x858)](_0x42ac23,_0x30e39d){const _0x4f36f5=_0x11ce6;if(0x0!==_0x42ac23[_0x4f36f5(0x6d3)])_0x42ac23[_0x4f36f5(0x4cc)]&&this[_0x4f36f5(0x858)](_0x42ac23[_0x4f36f5(0x4cc)],_0x30e39d),_0x42ac23['right']&&this[_0x4f36f5(0x858)](_0x42ac23[_0x4f36f5(0x292)],_0x30e39d);else{const _0x56a55b=this[_0x4f36f5(0x404)](_0x42ac23[_0x4f36f5(0x561)]);_0x56a55b&&_0x30e39d[_0x4f36f5(0x7bc)](_0x56a55b);}}async[_0x11ce6(0x883)](){const _0x59a017=_0x11ce6;this[_0x59a017(0x90b)]&&(clearTimeout(this[_0x59a017(0x90b)]),delete this[_0x59a017(0x90b)],this[_0x59a017(0x34c)][_0x59a017(0x7ad)]>0x0&&(this[_0x59a017(0x254)][_0x59a017(0x7bc)](...this[_0x59a017(0x34c)][_0x59a017(0x96b)](this['compareTransactions'])),this[_0x59a017(0x34c)]=[]));const _0x2e457e=this['startLoggingCycle']();this[_0x59a017(0x649)]=new _0x44b408(),this[_0x59a017(0x593)][_0x59a017(0x918)](),this[_0x59a017(0x254)][_0x59a017(0x96b)](this[_0x59a017(0x82d)]);for(const _0xc682b8 of this[_0x59a017(0x254)])this[_0x59a017(0x54c)](_0xc682b8,this[_0x59a017(0x254)]['length']);await this['mmr']['ready'],this[_0x59a017(0x708)](_0x2e457e);}[_0x11ce6(0x229)](){const _0x1be6dc=_0x11ce6;return this[_0x1be6dc(0x218)][_0x1be6dc(0x5eb)][_0x1be6dc(0x2d6)](async()=>{const _0x4af203=_0x1be6dc,_0x572be2=await this[_0x4af203(0x649)][_0x4af203(0x734)]();return{'startTime':Date['now'](),'initialRoot':_0x572be2};},Promise[_0x1be6dc(0x2c9)]({'startTime':0x0,'initialRoot':''}));}async['logMMRRebuild'](_0x17aa44){const _0x4bf677=_0x11ce6;try{const {startTime:_0xa95297,initialRoot:_0x1c004f}=await _0x17aa44,_0x19a28a=await this[_0x4bf677(0x649)]['getRoot'](),_0x129db0=[_0x4bf677(0x2ee)+(_0x1c004f!==_0x19a28a),_0x4bf677(0xc2)+_0x1c004f,_0x4bf677(0x1b8)+_0x19a28a,_0x4bf677(0x936)+this[_0x4bf677(0x649)]['getTotalNodes'](),_0x4bf677(0x747)+(Date[_0x4bf677(0x3bd)]()-_0xa95297)+'\x20ms\x0a'][_0x4bf677(0x926)]('\x20');this[_0x4bf677(0x218)][_0x4bf677(0x5eb)][_0x4bf677(0x65b)]('',()=>_0x129db0);}catch(_0xcc2eb7){console[_0x4bf677(0x89e)]('Error\x20during\x20MMR\x20rebuild\x20logging:',_0xcc2eb7);}}['debounceRebuildMMRWithTransaction'](_0x6ad95e){const _0x2d1ca6=_0x11ce6;this[_0x2d1ca6(0x34c)][_0x2d1ca6(0x7bc)](_0x6ad95e),this[_0x2d1ca6(0x90b)]&&(clearTimeout(this[_0x2d1ca6(0x90b)]),delete this[_0x2d1ca6(0x90b)]),this['debounceRebuildMMR']=setTimeout(()=>{const _0x514e5e=_0x2d1ca6;this[_0x514e5e(0x895)]();},0x3e8);}async['processTransactionsToComputeMMR'](){const _0x3ac27a=_0x11ce6;if(this[_0x3ac27a(0x90b)]&&(clearTimeout(this['debounceRebuildMMR']),delete this[_0x3ac27a(0x90b)]),0x0!==this[_0x3ac27a(0x34c)]['length']){if(0x0===this[_0x3ac27a(0x254)][_0x3ac27a(0x7ad)])return this[_0x3ac27a(0x254)]=this[_0x3ac27a(0x34c)],this[_0x3ac27a(0x34c)]=[],await this[_0x3ac27a(0x883)]();if(this[_0x3ac27a(0x34c)][_0x3ac27a(0x96b)](this[_0x3ac27a(0x82d)]),this[_0x3ac27a(0x82d)](this[_0x3ac27a(0x34c)][0x0],this[_0x3ac27a(0x254)][this[_0x3ac27a(0x254)][_0x3ac27a(0x7ad)]-0x1])>0x0){this['loggingCycle'][_0x3ac27a(0x5eb)][_0x3ac27a(0x65b)](_0x3ac27a(0x570)+this[_0x3ac27a(0x34c)][_0x3ac27a(0x7ad)]+_0x3ac27a(0x62f)+this[_0x3ac27a(0x254)][_0x3ac27a(0x7ad)]);for(const _0x59efb0 of this['transactionsToAppend'])this['transactions'][_0x3ac27a(0x7bc)](_0x59efb0),this[_0x3ac27a(0x54c)](_0x59efb0,this[_0x3ac27a(0x34c)][_0x3ac27a(0x7ad)]);return this[_0x3ac27a(0x34c)]=[],void this[_0x3ac27a(0x218)]['logger'][_0x3ac27a(0x65b)](_0x3ac27a(0x181),async()=>'New\x20MMR\x20Root:\x20'+await this['mmr'][_0x3ac27a(0x734)]()+_0x3ac27a(0x3b0)+this[_0x3ac27a(0x649)]['getTotalNodes']());}this[_0x3ac27a(0x218)][_0x3ac27a(0x5eb)]['log']('processTransactionsToComputeMMR\x20-\x20Requires\x20a\x20rebuild.\x20Append:\x20'+this['transactionsToAppend'][_0x3ac27a(0x7ad)]+_0x3ac27a(0x62f)+this[_0x3ac27a(0x254)]['length']),this[_0x3ac27a(0x254)][_0x3ac27a(0x7bc)](...this[_0x3ac27a(0x34c)]),this[_0x3ac27a(0x34c)]=[],this[_0x3ac27a(0x883)]();}}async[_0x11ce6(0x2f9)](){const _0x3c62b1=_0x11ce6;if(!_0x5c02ff[_0x3c62b1(0x4cd)](_0x1e4869[_0x3c62b1(0x45f)]))return;await this[_0x3c62b1(0x649)][_0x3c62b1(0x4b2)];const {dataSent:_0x1eabe3,dataReceived:_0x27c712}=this['loggingCycle'][_0x3c62b1(0x26c)]();_0x5c02ff[_0x3c62b1(0x65b)](_0x1e4869[_0x3c62b1(0x45f)],_0x3c62b1(0x860),this[_0x3c62b1(0x6e8)],_0x3c62b1(0x5d8)+_0x1eabe3,_0x3c62b1(0x461)+_0x27c712,'\x0a\x20===\x20Current\x20MMR\x20Root',await this['mmr'][_0x3c62b1(0x734)](),_0x3c62b1(0x8f1),this[_0x3c62b1(0x649)]['getTotalNodes']());}async['logInitialMMR'](){const _0x2e4e8d=_0x11ce6;if(!_0x5c02ff[_0x2e4e8d(0x4cd)](_0x1e4869[_0x2e4e8d(0x45f)]))return;const _0x3456bf=this[_0x2e4e8d(0x649)][_0x2e4e8d(0x975)](),_0x2ed39d=_0x3456bf[_0x2e4e8d(0x99c)](_0x1b5590=>_0x1b5590[_0x2e4e8d(0x6d3)]),_0x30ac9f=await this[_0x2e4e8d(0x649)]['getRoot']();_0x5c02ff[_0x2e4e8d(0x65b)](_0x1e4869[_0x2e4e8d(0x45f)],_0x2e4e8d(0x3ae),this['transactions']['length'],_0x2e4e8d(0x254),this['mmr'][_0x2e4e8d(0x7e5)](),'totalNodes',_0x3456bf['length'],_0x2e4e8d(0x32a),_0x2ed39d,_0x2e4e8d(0x40d),_0x30ac9f);}}const _0x576a0d=require('@crewdle/mist-connector-opfs'),_0x7cef9f=require('@crewdle/mist-connector-indexed-db'),_0x4afe1e=require('@crewdle/mist-connector-webrtc-browser'),_0x2c5539=0x1fc00000;var _0x552c17,_0x49ddb9,_0x1ed9f1,_0x3792ca,_0x4f2da1,_0x4c4cc3,_0x5f3e,_0x2b0adb,_0x11b7e7;!function(_0x11f1eb){const _0x4c1e90=_0x11ce6;_0x11f1eb[_0x4c1e90(0x420)]='AudioContext',_0x11f1eb[_0x4c1e90(0x585)]=_0x4c1e90(0x585),_0x11f1eb[_0x4c1e90(0x776)]=_0x4c1e90(0x776),_0x11f1eb[_0x4c1e90(0x5fe)]='Backgrounds',_0x11f1eb[_0x4c1e90(0x4e6)]=_0x4c1e90(0x4e6),_0x11f1eb['MediaStream']=_0x4c1e90(0x545),_0x11f1eb[_0x4c1e90(0x497)]=_0x4c1e90(0x497),_0x11f1eb['ScreenSharing']='ScreenSharing',_0x11f1eb['WebGL']=_0x4c1e90(0x654),_0x11f1eb[_0x4c1e90(0x46e)]=_0x4c1e90(0x46e);}(_0x552c17||(_0x552c17={}));class _0x3754fe{['registeredListeners'];['bufferedEvents'];[_0x11ce6(0x55b)];constructor(_0x95c3cd=new Map(),_0x3357d7=new Map(),_0x44ca53=new EventTarget()){const _0x9a20=_0x11ce6;this[_0x9a20(0x180)]=_0x95c3cd,this[_0x9a20(0x88e)]=_0x3357d7,this['eventTarget']=_0x44ca53;}[_0x11ce6(0x11c)]=(_0x2ab463,_0x2c717)=>this[_0x11ce6(0x180)]['has'](_0x2ab463)?(_0x5c02ff[_0x11ce6(0x65b)](_0x1e4869[_0x11ce6(0x262)],_0x11ce6(0x12b),{'event':_0x2ab463,'data':_0x2c717}),this['eventTarget'][_0x11ce6(0x3df)](new CustomEvent(_0x2ab463,{'detail':_0x2c717})),!0x0):(this['bufferEvent'](_0x2ab463,_0x2c717),!0x1);['on']=(_0x5398e6,_0x2e4ffe)=>{const _0x2b8903=_0x11ce6,_0x4d27fe=_0xef690f=>{const _0x21c147=a0_0x5c6e;_0x5c02ff[_0x21c147(0x65b)](_0x1e4869[_0x21c147(0x262)],_0x21c147(0x824),_0xef690f[_0x21c147(0x789)],_0xef690f[_0x21c147(0x49a)]),_0x2e4ffe(_0xef690f[_0x21c147(0x49a)]);};return this[_0x2b8903(0x180)][_0x2b8903(0x323)](_0x5398e6,_0x4d27fe),this['eventTarget'][_0x2b8903(0x650)](_0x5398e6,_0x4d27fe),_0x5c02ff[_0x2b8903(0x65b)](_0x1e4869[_0x2b8903(0x605)],_0x2b8903(0x4d4),_0x5398e6,_0x2e4ffe),this['consumeBufferedEvents'](_0x5398e6),this;};['off'](_0x47dee2){const _0x55a874=_0x11ce6;if(!_0x47dee2)return this[_0x55a874(0x180)][_0x55a874(0x7a1)]((_0x5757d8,_0x509e32)=>{const _0x2d9d8c=_0x55a874;this[_0x2d9d8c(0x55b)][_0x2d9d8c(0x40b)](_0x509e32,_0x5757d8);}),void this[_0x55a874(0x180)]['clear']();_0x55a874(0x9cc)==typeof _0x47dee2&&this[_0x55a874(0x7fc)](_0x47dee2),Array[_0x55a874(0x984)](_0x47dee2)&&_0x47dee2[_0x55a874(0x7a1)](_0x432cbe=>{this['removeListener'](_0x432cbe);});}[_0x11ce6(0x7fc)](_0x47deeb){const _0x3f9dae=_0x11ce6,_0x1c6518=this['registeredListeners']['get'](_0x47deeb);_0x1c6518&&(this[_0x3f9dae(0x55b)][_0x3f9dae(0x40b)](_0x47deeb,_0x1c6518),this['registeredListeners'][_0x3f9dae(0x3a9)](_0x47deeb));}[_0x11ce6(0x291)](_0x35de5d,_0x5a684c){const _0x35df20=_0x11ce6;_0x5c02ff[_0x35df20(0x65b)](_0x1e4869[_0x35df20(0x262)],_0x35df20(0x7d5),{'event':_0x35de5d,'data':_0x5a684c});const _0x319394=this['bufferedEvents'][_0x35df20(0x3f2)](_0x35de5d)||[];this[_0x35df20(0x88e)][_0x35df20(0x323)](_0x35de5d,[..._0x319394,_0x5a684c]);}['consumeBufferedEvents'](_0x1646c2){const _0x17f616=_0x11ce6,_0x8fc46b=this[_0x17f616(0x88e)][_0x17f616(0x3f2)](_0x1646c2);_0x8fc46b&&(_0x8fc46b[_0x17f616(0x7a1)](_0x3e0f09=>{const _0x1d05f3=_0x17f616;_0x5c02ff[_0x1d05f3(0x65b)](_0x1e4869[_0x1d05f3(0x262)],'Consuming\x20buffered\x20event',{'event':_0x1646c2,'data':_0x3e0f09}),this[_0x1d05f3(0x55b)]['dispatchEvent'](new CustomEvent(_0x1646c2,{'detail':_0x3e0f09}));}),this['bufferedEvents'][_0x17f616(0x3a9)](_0x1646c2));}}class _0x56672e extends Error{constructor(_0x848832){const _0xb56fe3=_0x11ce6;super(_0xb56fe3(0x922)+_0x848832);}}!function(_0x5efb35){const _0x1bf26a=_0x11ce6;_0x5efb35[_0x5efb35['Core']=0x0]=_0x1bf26a(0x199),_0x5efb35[_0x5efb35[_0x1bf26a(0x782)]=0x1]='Optimization';}(_0x49ddb9||(_0x49ddb9={})),function(_0x128e17){const _0x2a055c=_0x11ce6;_0x128e17[_0x128e17[_0x2a055c(0x606)]=0x0]='Offer',_0x128e17[_0x128e17[_0x2a055c(0x256)]=0x1]=_0x2a055c(0x256),_0x128e17[_0x128e17[_0x2a055c(0x7e0)]=0x2]=_0x2a055c(0x7e0),_0x128e17[_0x128e17['Success']=0x3]=_0x2a055c(0x88a),_0x128e17[_0x128e17[_0x2a055c(0x4eb)]=0x4]='NeedRestart',_0x128e17[_0x128e17['Restart']=0x5]=_0x2a055c(0x2ff),_0x128e17[_0x128e17[_0x2a055c(0x906)]=0x6]=_0x2a055c(0x906),_0x128e17[_0x128e17['Stats']=0x7]='Stats',_0x128e17[_0x128e17['OptimizationConnectionSuccess']=0x8]=_0x2a055c(0x7cf);}(_0x1ed9f1||(_0x1ed9f1={})),function(_0x2cc3e3){const _0x1e4661=_0x11ce6;_0x2cc3e3[_0x2cc3e3[_0x1e4661(0x32e)]=0x0]=_0x1e4661(0x32e),_0x2cc3e3[_0x2cc3e3[_0x1e4661(0x188)]=0x1]=_0x1e4661(0x188);}(_0x3792ca||(_0x3792ca={})),function(_0x4da130){const _0x33735e=_0x11ce6;_0x4da130[_0x33735e(0x545)]=_0x33735e(0x17f);}(_0x4f2da1||(_0x4f2da1={})),function(_0x1834eb){const _0x4fe8e4=_0x11ce6;_0x1834eb[_0x1834eb['NodeJoin']=0x0]='NodeJoin',_0x1834eb[_0x1834eb[_0x4fe8e4(0x779)]=0x1]=_0x4fe8e4(0x779),_0x1834eb[_0x1834eb[_0x4fe8e4(0x826)]=0x2]='NodeConnectionsUpdate',_0x1834eb[_0x1834eb[_0x4fe8e4(0x55e)]=0x3]=_0x4fe8e4(0x55e);}(_0x4c4cc3||(_0x4c4cc3={})),function(_0x58a48e){const _0x38241d=_0x11ce6;_0x58a48e[_0x58a48e[_0x38241d(0x8a7)]=0x0]=_0x38241d(0x8a7),_0x58a48e[_0x58a48e[_0x38241d(0x298)]=0x1]=_0x38241d(0x298);}(_0x5f3e||(_0x5f3e={})),function(_0x5d9574){const _0x2dccd0=_0x11ce6;_0x5d9574[_0x2dccd0(0x19f)]=_0x2dccd0(0x5be),_0x5d9574[_0x2dccd0(0x1cd)]='downgrade';}(_0x2b0adb||(_0x2b0adb={})),function(_0x2ab3d5){const _0x2f148b=_0x11ce6;_0x2ab3d5[_0x2f148b(0xc3)]=_0x2f148b(0x815),_0x2ab3d5[_0x2f148b(0x439)]=_0x2f148b(0x157);}(_0x11b7e7||(_0x11b7e7={}));const _0x210ef4=require('aws-amplify'),_0x159a39=require('aws-amplify/utils'),_0x6f778b=require('@aws-amplify/api'),_0x5b6543=require('@aws-amplify/core');class _0x9cda1{['clusterId'];[_0x11ce6(0xd3)];['remoteId'];constructor(_0x3e4959,_0x3a17cb,_0x11a4e1){const _0x11faf9=_0x11ce6;this[_0x11faf9(0xa18)]=_0x3e4959,this[_0x11faf9(0xd3)]=_0x3a17cb,this['remoteId']=_0x11a4e1;}[_0x11ce6(0x950)](){const _0x3457c1=_0x11ce6;return this[_0x3457c1(0xd3)][_0x3457c1(0x9d8)]();}[_0x11ce6(0x24e)](){const _0x52ade5=_0x11ce6;return this[_0x52ade5(0x682)];}}var _0x4480d1,_0x597d4e,_0x5208cb;function _0x3bc6c4(_0x5b8bd5,_0x17cc0a){const _0x3f4d14=_0x11ce6;return _0x5b8bd5[_0x3f4d14(0x112)]===_0x17cc0a;}function _0x355ac7(_0x56426c,_0x142fd3){const _0x352949=_0x11ce6;return _0x56426c['destinationIds']?.[_0x352949(0x2a1)](_0x142fd3)??function(_0x28554c){const _0x2a24af=_0x352949;return void 0x0===_0x28554c[_0x2a24af(0x517)];}(_0x56426c);}function _0x506707(_0x316fcf,{contentType:_0xc7c6ba,label:_0x2dadbc,remoteId:_0x90d022}){return _0x316fcf+'-'+_0xc7c6ba+'-'+_0x2dadbc+'-'+_0x90d022;}function _0x246ede(_0x240e12,_0x26c5a4,_0x4d2d4f){return''+_0x240e12+_0x26c5a4+_0x4d2d4f;}function _0x4f296(_0x1e8863){const _0x54edca=_0x11ce6;return _0x1e8863===_0x597d4e[_0x54edca(0x71e)]?_0x54edca(0xa17):_0x54edca(0x5cd);}function _0x94d312(_0x2ca0f8,_0x2614c6){const _0x1ad3ff=_0x11ce6;return{'label':_0x2ca0f8[_0x1ad3ff(0x98d)](),'contentType':_0x2ca0f8[_0x1ad3ff(0x503)](),'remoteId':_0x2614c6[_0x1ad3ff(0x24e)](),'supportsContentType':_0x2614c6['getSupportedContentTypes']()[_0x1ad3ff(0x2a1)](_0x2ca0f8[_0x1ad3ff(0x503)]())};}!function(_0x11805a){const _0x12862b=_0x11ce6;_0x11805a[_0x11805a['Waiting']=0x0]=_0x12862b(0x5d7),_0x11805a[_0x11805a[_0x12862b(0x638)]=0x1]='Accepted',_0x11805a[_0x11805a[_0x12862b(0x841)]=0x2]=_0x12862b(0x841);}(_0x4480d1||(_0x4480d1={})),function(_0x4d2ca3){const _0x25e483=_0x11ce6;_0x4d2ca3[_0x25e483(0x71e)]='in',_0x4d2ca3[_0x25e483(0x9e5)]=_0x25e483(0x383);}(_0x597d4e||(_0x597d4e={}));class _0x3eaa58{[_0x11ce6(0x3c3)];[_0x11ce6(0x9d9)];constructor(_0x51ed9f,_0x4c25c2){const _0x17ee0f=_0x11ce6;this[_0x17ee0f(0x3c3)]=_0x51ed9f,this['retryCallback']=_0x4c25c2;}['call'](_0x169b2f){const _0x1fefdd=_0x11ce6;this[_0x1fefdd(0x3c3)](_0x169b2f);}async[_0x11ce6(0x573)](){const _0x32fccf=_0x11ce6;await this[_0x32fccf(0x9d9)]();}}class _0x352cdf{[_0x11ce6(0x3c3)];[_0x11ce6(0x9d9)];constructor(_0x2f2bc6,_0x5a33f7){const _0x4d75e8=_0x11ce6;this[_0x4d75e8(0x3c3)]=_0x2f2bc6,this[_0x4d75e8(0x9d9)]=_0x5a33f7;}async[_0x11ce6(0xff)](_0x3bc08d){const _0x344f8c=_0x11ce6;await this[_0x344f8c(0x3c3)](_0x3bc08d);}async['wait'](){await this['retryCallback']();}}function _0x39e8e5(_0x3ee95a=()=>{},_0x5eded5=()=>!0x1,_0x57448e=()=>{}){let _0x553c0a,_0x4334cf,_0x382117=0x0;return{get 'size'(){return _0x382117;},get 'head'(){return _0x553c0a;},get 'tail'(){return _0x4334cf;},set 'head'(_0x3e5a5d){_0x553c0a=_0x3e5a5d;},set 'tail'(_0x2e9d76){_0x4334cf=_0x2e9d76;},'push'(_0x24edfb,_0x2ce11b=!0x0){const _0x4079fc=a0_0x5c6e,_0x39fbed={'value':_0x24edfb};_0x2ce11b&&_0x5eded5(_0x39fbed)?_0x3ee95a():(_0x4334cf&&(_0x39fbed['previous']=_0x4334cf,_0x4334cf[_0x4079fc(0x14d)]=_0x39fbed),_0x4334cf=_0x39fbed,_0x553c0a||(_0x553c0a=_0x39fbed),_0x382117+=0x1,_0x2ce11b&&_0x3ee95a());},'pop'(){const _0x99a74e=a0_0x5c6e;if(!_0x4334cf)return;const _0x5889c2=_0x4334cf[_0x99a74e(0x844)];return _0x4334cf=_0x4334cf[_0x99a74e(0x2e9)],_0x4334cf&&delete _0x4334cf[_0x99a74e(0x14d)],_0x4334cf||(_0x553c0a=void 0x0),_0x382117-=0x1,_0x5889c2;},'unshift'(_0x277221,_0x5c136c=!0x0){const _0x315a3a=a0_0x5c6e,_0x2aa88f={'value':_0x277221};_0x5c136c&&_0x5eded5(_0x2aa88f)?_0x3ee95a():(_0x553c0a&&(_0x553c0a[_0x315a3a(0x2e9)]=_0x2aa88f,_0x2aa88f[_0x315a3a(0x14d)]=_0x553c0a),_0x553c0a=_0x2aa88f,_0x4334cf||(_0x4334cf=_0x2aa88f),_0x382117+=0x1,_0x5c136c&&_0x3ee95a());},'shift'(){const _0xdbbda4=a0_0x5c6e;if(!_0x553c0a)return;const _0x593eab=_0x553c0a['value'];return _0x553c0a=_0x553c0a[_0xdbbda4(0x14d)],_0x553c0a&&delete _0x553c0a[_0xdbbda4(0x2e9)],_0x553c0a||(_0x4334cf=void 0x0),_0x382117-=0x1,_0x593eab;},'clear'(){_0x57448e(),_0x553c0a=void 0x0,_0x4334cf=void 0x0,_0x382117=0x0;}};}function _0xcb4706(_0x26ce40,_0x4e74f3=!0x1,_0x101b99=()=>{},_0x274550=()=>!0x1,_0x3ce164=()=>{}){let _0x3b0061=!0x1;const _0x5d77fa=_0x39e8e5(async function(){const _0x27800d=a0_0x5c6e;if(!_0x3b0061){for(_0x3b0061=!0x0;_0x5d77fa['head'];){const _0x54f8d0=_0x5d77fa[_0x27800d(0x52d)]();if(_0x54f8d0)try{_0x26ce40 instanceof _0x3eaa58&&_0x26ce40[_0x27800d(0xff)](_0x54f8d0),_0x26ce40 instanceof _0x352cdf&&await _0x26ce40[_0x27800d(0xff)](_0x54f8d0),_0x101b99(_0x54f8d0);}catch(_0x2dcaff){_0x4e74f3?_0x5d77fa['push'](_0x54f8d0,!0x1):_0x5d77fa[_0x27800d(0x324)](_0x54f8d0,!0x1),await _0x26ce40[_0x27800d(0x573)]();}}_0x3b0061=!0x1;}},_0x274550,_0x3ce164);return _0x5d77fa;}class _0x41a4e9 extends _0x9cda1{[_0x11ce6(0x391)];[_0x11ce6(0x929)];[_0x11ce6(0x5a2)]=_0x6f778b[_0x11ce6(0x7b9)][_0x11ce6(0x68f)];['connectionStateListener']=_0x435863();[_0x11ce6(0x6fe)]=_0x4332ba();[_0x11ce6(0x50c)];[_0x11ce6(0x445)];[_0x11ce6(0x8b7)]=_0xcb4706(new _0x352cdf(this[_0x11ce6(0x793)][_0x11ce6(0x23a)](this),this[_0x11ce6(0x7fd)][_0x11ce6(0x23a)](this)));[_0x11ce6(0x8c5)];constructor(_0x500913,_0x31ad9c,_0x5c18dc,_0x15af80,_0x7d8df){const _0x253960=_0x11ce6;super(_0x31ad9c,_0x5c18dc,_0x15af80),this[_0x253960(0x391)]=_0x500913,this[_0x253960(0x929)]=_0x7d8df;}async[_0x11ce6(0x90e)](){const _0x29771b=_0x11ce6;try{const _0x102573={'getTokens':async()=>{const _0x35e129=a0_0x5c6e,_0x2d8c28=await this[_0x35e129(0x929)][_0x35e129(0x60b)]();return{'accessToken':(0x0,_0x5b6543['decodeJWT'])(_0x2d8c28),'idToken':(0x0,_0x5b6543[_0x35e129(0x5bb)])(_0x2d8c28)};}};_0x210ef4['Amplify'][_0x29771b(0x893)]({'API':{'GraphQL':{'endpoint':_0x4d02a1[_0x29771b(0x7ff)]['endpoint'],'region':_0x4d02a1[_0x29771b(0x7ff)][_0x29771b(0x1a4)],'defaultAuthMode':_0x29771b(0x681)}}},{'Auth':{'tokenProvider':_0x102573}});const _0x1d9321=(0x0,_0x6f778b[_0x29771b(0x22c)])();this[_0x29771b(0x8c5)]=_0x1d9321,await this[_0x29771b(0x85a)](),this[_0x29771b(0x445)]=_0x159a39[_0x29771b(0x413)][_0x29771b(0x443)](_0x29771b(0x876),async({payload:_0x1dc651})=>{const _0x19762d=_0x29771b;if(_0x1dc651[_0x19762d(0x551)]===_0x6f778b[_0x19762d(0x1c7)]){const _0x21c2eb=_0x1dc651[_0x19762d(0x4ff)];this[_0x19762d(0x5a2)]=_0x21c2eb['connectionState'],this[_0x19762d(0x804)][_0x19762d(0xfa)](_0x21c2eb[_0x19762d(0x5a2)]),this[_0x19762d(0x5a2)]===_0x6f778b[_0x19762d(0x7b9)]['Disconnected']?(_0x5c02ff['error'](_0x19762d(0xe0),{'clusterId':this[_0x19762d(0xa18)],'nodeId':this[_0x19762d(0x950)](),'nodeType':this['localNode'][_0x19762d(0x789)]}),this[_0x19762d(0x17e)](),this[_0x19762d(0x90e)]()):this['connectionState']===_0x6f778b[_0x19762d(0x7b9)][_0x19762d(0x12c)]?_0x5c02ff['warning'](_0x19762d(0x348),{'clusterId':this[_0x19762d(0xa18)],'nodeId':this[_0x19762d(0x950)](),'nodeType':this['localNode']['type']}):_0x5c02ff[_0x19762d(0x275)]('appsync-statechange',{'clusterId':this[_0x19762d(0xa18)],'nodeId':this[_0x19762d(0x950)](),'nodeType':this[_0x19762d(0xd3)]['type'],'data':{'state':_0x21c2eb[_0x19762d(0x5a2)]}});}});}catch(_0x2d4250){_0x5c02ff[_0x29771b(0x89e)](_0x29771b(0x1aa),{'clusterId':this[_0x29771b(0xa18)],'nodeId':this['getLocalId'](),'nodeType':this[_0x29771b(0xd3)][_0x29771b(0x789)]});}}[_0x11ce6(0x17e)](){const _0x29a98a=_0x11ce6;_0x5c02ff['warning'](_0x29a98a(0x177),{'clusterId':this[_0x29a98a(0xa18)],'nodeId':this[_0x29a98a(0x950)](),'nodeType':this[_0x29a98a(0xd3)][_0x29a98a(0x789)]}),this[_0x29a98a(0x8b7)][_0x29a98a(0x918)](),this['listenUnsubscriber']?.(),this[_0x29a98a(0x50c)]?.[_0x29a98a(0x786)](),delete this[_0x29a98a(0x50c)];}[_0x11ce6(0x818)](){const _0x13e90c=_0x11ce6;return this[_0x13e90c(0x5a2)]===_0x6f778b[_0x13e90c(0x7b9)][_0x13e90c(0x12c)];}[_0x11ce6(0x41d)](_0x4f41b9){const _0x873cca=_0x11ce6;this['retryQueue'][_0x873cca(0x7bc)](_0x4f41b9);}['onMessage'](_0x46a10b){const _0x5bfff4=_0x11ce6;return this[_0x5bfff4(0x6fe)][_0x5bfff4(0x85a)](_0x46a10b);}[_0x11ce6(0x6bd)](){const _0x59c10a=_0x11ce6;return[_0x4aea4d[_0x59c10a(0x43d)][_0x59c10a(0x2d1)]];}async[_0x11ce6(0x7fd)](){const _0x2bdb1f=_0x11ce6;if(!this[_0x2bdb1f(0x818)]())return new Promise(_0x4affd8=>{const _0xd411a4=this['connectionStateListener']['subscribe'](_0x2c01a7=>{const _0x3a7aae=a0_0x5c6e;_0x2c01a7===_0x6f778b[_0x3a7aae(0x7b9)][_0x3a7aae(0x12c)]&&(_0xd411a4(),_0x4affd8());});});}async[_0x11ce6(0x793)](_0x4cc473){const _0x69946c=_0x11ce6;if(this['connectionState']!==_0x6f778b[_0x69946c(0x7b9)]['Connected'])throw new Error(_0x69946c(0x208));_0x4cc473[_0x69946c(0x517)]&&0x1===_0x4cc473[_0x69946c(0x517)][_0x69946c(0x7ad)]?await this[_0x69946c(0xfa)](_0x4cc473['destinationIds'][0x0],JSON['stringify'](_0x4cc473)):_0x5c02ff['error']('appsync-no-destination',{'clusterId':this['clusterId'],'nodeId':this['getLocalId'](),'nodeType':this['localNode'][_0x69946c(0x789)]});}async[_0x11ce6(0xfa)](_0x368ba6,_0x8c27a3){const _0x21e7d8=_0x11ce6;if(!this[_0x21e7d8(0x8c5)])throw new Error(_0x21e7d8(0x9f2));_0x5c02ff[_0x21e7d8(0x65b)](_0x1e4869[_0x21e7d8(0x610)],_0x21e7d8(0x387),this[_0x21e7d8(0x950)](),_0x8c27a3),await this['client'][_0x21e7d8(0x960)]({'query':_0x21e7d8(0x6b9),'variables':{'name':await this['getHash'](_0x368ba6),'data':_0x8c27a3}});}async[_0x11ce6(0x85a)](){const _0x40b683=_0x11ce6;if(this[_0x40b683(0x50c)])return;if(!this[_0x40b683(0x8c5)])throw new Error(_0x40b683(0x9f2));_0x5c02ff[_0x40b683(0x65b)](_0x1e4869[_0x40b683(0x610)],_0x40b683(0x35d),this[_0x40b683(0x950)]());const _0x171afe=await this['client'][_0x40b683(0x960)]({'query':_0x40b683(0x86f),'variables':{'name':await this[_0x40b683(0xe2)]()},'authToken':await this['authService']['getIdToken']()},{'Authorization':await this['authService'][_0x40b683(0x60b)]()});this[_0x40b683(0x50c)]=_0x171afe[_0x40b683(0x85a)]({'next':({data:_0x4e8279})=>{const _0x5eb7ab=_0x40b683,_0x4e6f1b=JSON[_0x5eb7ab(0x67e)](_0x4e8279[_0x5eb7ab(0x85a)][_0x5eb7ab(0x4ff)]);!_0x3bc6c4(_0x4e6f1b,this[_0x5eb7ab(0x950)]())&&_0x355ac7(_0x4e6f1b,this[_0x5eb7ab(0x950)]())&&this[_0x5eb7ab(0x6fe)][_0x5eb7ab(0xfa)](_0x4e6f1b);},'error':console[_0x40b683(0x65b)]});}async[_0x11ce6(0xe2)](_0x323b8b){const _0x1a101b=_0x11ce6,_0x4026f7=await crypto[_0x1a101b(0x721)][_0x1a101b(0xf8)](_0x1a101b(0x673),new TextEncoder()[_0x1a101b(0x4ed)](this['vendorId']+'-'+this['clusterId']+'-'+(_0x323b8b??this[_0x1a101b(0x950)]())));return Array[_0x1a101b(0x462)](new Uint8Array(_0x4026f7))[_0x1a101b(0x99c)](_0x2e5f69=>_0x2e5f69[_0x1a101b(0x2bd)](0x10)[_0x1a101b(0x3a6)](0x2,'0'))[_0x1a101b(0x926)]('');}}!function(_0x135389){const _0x5e55c4=_0x11ce6;_0x135389[_0x135389[_0x5e55c4(0xa15)]=0x0]=_0x5e55c4(0xa15),_0x135389[_0x135389[_0x5e55c4(0x209)]=0x1]='Remove',_0x135389[_0x135389[_0x5e55c4(0x976)]=0x2]='Update',_0x135389[_0x135389['RemoteAdd']=0x3]=_0x5e55c4(0x921),_0x135389[_0x135389[_0x5e55c4(0x3c6)]=0x4]=_0x5e55c4(0x3c6);}(_0x5208cb||(_0x5208cb={}));const _0x267f14='0',_0xe218a1='chunk',_0x5d0f4e=_0xbeb078,_0x5f3670=0xbe800;class _0x38410c{['clusterId'];[_0x11ce6(0xd3)];['remoteId'];[_0x11ce6(0xf3)];['connectionType'];[_0x11ce6(0x5b8)];[_0x11ce6(0x842)];[_0x11ce6(0x48e)];['currentVersion']=0x1;['systemTopic'];[_0x11ce6(0x88c)]=[];[_0x11ce6(0x767)]=[];['handshakeDebounce'];constructor(_0x4d6274,_0x582f65,_0x2b8faf,_0x3d2523,_0x32d0d6,_0x3767e4){const _0x3666cb=_0x11ce6;this[_0x3666cb(0xa18)]=_0x4d6274,this[_0x3666cb(0xd3)]=_0x582f65,this[_0x3666cb(0x682)]=_0x2b8faf,this[_0x3666cb(0xf3)]=_0x3d2523,this[_0x3666cb(0x18a)]=_0x32d0d6,this[_0x3666cb(0x5b8)]=_0x3767e4,this['connection']=new this[(_0x3666cb(0x5b8))]({'handshakeServers':this[_0x3666cb(0xf3)]}),this[_0x3666cb(0x6f5)]();}[_0x11ce6(0x17e)](){const _0x50e198=_0x11ce6;this[_0x50e198(0x88f)]();}['setConnectionType'](_0x50a274){this['connectionType']=_0x50a274;}async[_0x11ce6(0x795)](_0x25557c,_0x45c37b){const _0x2afc3d=_0x11ce6;if(_0x45c37b===this[_0x2afc3d(0x746)])for(const _0x3b01bd of _0x25557c){if(!this[_0x2afc3d(0x842)][_0x2afc3d(0x684)])return this[_0x2afc3d(0x210)](_0x3b01bd);try{await this[_0x2afc3d(0x842)]['addCandidate'](_0x3b01bd);}catch(_0x3d799f){this[_0x2afc3d(0x210)](_0x3b01bd);}}}['isConnected'](){const _0x3fe308=_0x11ce6;return this['logConnectionState'](),_0x3fe308(0x67a)===this[_0x3fe308(0x842)][_0x3fe308(0x5a2)]&&[_0x3fe308(0x67a),_0x3fe308(0x167)][_0x3fe308(0x2a1)](this[_0x3fe308(0x842)][_0x3fe308(0x703)])&&_0x3fe308(0x69f)!==this[_0x3fe308(0x842)][_0x3fe308(0x7f2)]&&_0x3fe308(0x4ec)===this[_0x3fe308(0x48e)]?.[_0x3fe308(0x60e)];}['registerSystemPublisher'](_0x3fb0b1){const _0x24294b=_0x11ce6;this[_0x24294b(0x1ad)]=_0x3fb0b1;}[_0x11ce6(0x5c1)](){const _0x3aecc7=_0x11ce6;delete this[_0x3aecc7(0x1ad)];}[_0x11ce6(0x92d)](_0x50628f){const _0x193f8a=_0x11ce6;this['stopConnection'](),this[_0x193f8a(0x842)]=new this[(_0x193f8a(0x5b8))]({'handshakeServers':this[_0x193f8a(0xf3)]}),_0x50628f?this[_0x193f8a(0x746)]=_0x50628f:this[_0x193f8a(0x746)]+=0x1,this['setupConnectionEvents']();}[_0x11ce6(0x659)](){const _0x4cc623=_0x11ce6;this[_0x4cc623(0x767)][_0x4cc623(0x7a1)](_0x20b9dd=>{const _0x50a028=_0x4cc623;try{this['connection'][_0x50a028(0x2f6)](_0x20b9dd);}catch(_0x4c8e95){}}),this['pendingHandshakeCandidates']=[];}[_0x11ce6(0x79f)](_0x5d0f0b,_0xf72008){const _0x2ecfd5=_0x11ce6;if(!this['systemTopic'])throw new _0x490cf1(_0x490cf1[_0x2ecfd5(0x9fb)][_0x2ecfd5(0x9c0)],{'content':_0x5d0f0b});const _0x5116a9={'sourceId':this[_0x2ecfd5(0xd3)][_0x2ecfd5(0x9d8)](),'destinationIds':[this[_0x2ecfd5(0x682)]],'propagate':this['connectionType']!==_0x49ddb9[_0x2ecfd5(0x199)],'retry':this['connectionType']!==_0x49ddb9['Core'],'messageType':_0x48fa30[_0x2ecfd5(0x850)],'content':_0x5d0f0b};_0xf72008&&(_0x5116a9['uuid']=_0xf72008),this[_0x2ecfd5(0x1ad)][_0x2ecfd5(0xfa)](_0x5116a9);}['setupConnectionEvents'](){const _0x257ddc=_0x11ce6;this[_0x257ddc(0x842)]['onGatheringStateChange']=()=>{const _0x47a58b=_0x257ddc;_0x47a58b(0xd6)===this[_0x47a58b(0x842)]['gatheringState']&&this[_0x47a58b(0x88c)][_0x47a58b(0x7ad)]>0x0&&(this[_0x47a58b(0x73c)]&&clearTimeout(this['handshakeDebounce']),this[_0x47a58b(0x73c)]=setTimeout(()=>{const _0x466f2e=_0x47a58b;delete this['handshakeDebounce'],this[_0x466f2e(0x16c)](),this['handshakeCandidates']=[];},0x1f4));},this[_0x257ddc(0x842)][_0x257ddc(0x496)]=_0x53420c=>{const _0x4e9d2f=_0x257ddc;_0x53420c[_0x4e9d2f(0x1d4)]&&this[_0x4e9d2f(0x88c)][_0x4e9d2f(0x7bc)](_0x53420c['candidate']);};}['stopConnection'](){const _0x582ca9=_0x11ce6;clearTimeout(this[_0x582ca9(0x73c)]),delete this[_0x582ca9(0x73c)],this['handshakeCandidates']=[],this[_0x582ca9(0x767)]=[],this[_0x582ca9(0x48e)]&&(this['dataChannel'][_0x582ca9(0xc1)]=null,this[_0x582ca9(0x48e)][_0x582ca9(0x14b)]=null,this['dataChannel'][_0x582ca9(0x17e)](),delete this[_0x582ca9(0x48e)]),this[_0x582ca9(0x842)][_0x582ca9(0x207)]=null,this[_0x582ca9(0x842)][_0x582ca9(0x496)]=null,this[_0x582ca9(0x842)][_0x582ca9(0x80c)]=null,this[_0x582ca9(0x842)][_0x582ca9(0x4c4)]=null,this['connection'][_0x582ca9(0x81f)]=null,this['connection'][_0x582ca9(0x8bc)]=null,this[_0x582ca9(0x842)][_0x582ca9(0x17e)]();}[_0x11ce6(0x210)](_0x583bc8){const _0xb6943b=_0x11ce6;this[_0xb6943b(0x767)][_0xb6943b(0x7bc)](_0x583bc8);}[_0x11ce6(0x1b3)](){const _0x3b6255=_0x11ce6;_0x5c02ff[_0x3b6255(0x65b)](_0x1e4869[_0x3b6255(0x7b9)],_0x3b6255(0x5a8),{'localId':this['localNode']['getId'](),'remoteId':this[_0x3b6255(0x682)],'connectionState':this[_0x3b6255(0x842)][_0x3b6255(0x5a2)],'handshakeState':this['connection']['handshakeState'],'signalingState':this['connection']['signalingState'],'dataChannelState':this[_0x3b6255(0x48e)]?.[_0x3b6255(0x60e)]});}}function _0x312497(_0x3edf7c,_0x38e328){const _0x2af0aa=_0x11ce6;_0x38e328['publish']({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x2af0aa(0x850)],'content':_0x3edf7c});}class _0x2fac39{static [_0x11ce6(0x2c3)];[_0x11ce6(0x54b)]=[];[_0x11ce6(0x877)];constructor(){setInterval(()=>{const _0x1fee96=a0_0x5c6e;this[_0x1fee96(0x54b)]['forEach'](_0x2842e9=>{const _0x551584=_0x1fee96;if(Date[_0x551584(0x3bd)]()-_0x2842e9['lastExecuted']>_0x2842e9[_0x551584(0x3da)]){try{_0x2842e9['callback']();}catch(_0x41bd67){}_0x2842e9[_0x551584(0x9e1)]=Date[_0x551584(0x3bd)]();}});},0x64);}static[_0x11ce6(0x5d2)](){const _0x1f6700=_0x11ce6;return _0x2fac39[_0x1f6700(0x2c3)]||(_0x2fac39[_0x1f6700(0x2c3)]=new _0x2fac39()),_0x2fac39[_0x1f6700(0x2c3)];}['startNoThrottlingHack'](_0x49299e){const _0x11f76a=_0x11ce6,_0x1ca001=this[_0x11f76a(0x777)](_0x49299e),_0x230db0=_0x49299e[_0x11f76a(0x306)]();_0x230db0&&_0x1ca001&&(_0x230db0['gain'][_0x11f76a(0x844)]=0.001,_0x1ca001['connect'](_0x230db0),_0x230db0[_0x11f76a(0x90e)](_0x49299e[_0x11f76a(0x9aa)]),_0x1ca001[_0x11f76a(0x55a)]());}[_0x11ce6(0x49f)](){const _0x492892=_0x11ce6;this[_0x492892(0x877)]&&(this[_0x492892(0x877)][_0x492892(0x4ef)](),this[_0x492892(0x877)]['disconnect'](),this['source']=void 0x0);}[_0x11ce6(0x573)](_0x2473d6){return new Promise(_0x1994d2=>{setTimeout(_0x1994d2,_0x2473d6);});}[_0x11ce6(0x54a)](_0x63e770,_0x195aa2){const _0x9d80c5=_0x11ce6;return this[_0x9d80c5(0x54b)]['push']({'callback':_0x63e770,'interval':_0x195aa2,'lastExecuted':Date[_0x9d80c5(0x3bd)]()}),()=>{const _0x2b94b0=_0x9d80c5;this['parameters']=this['parameters'][_0x2b94b0(0x80e)](_0x2cf505=>_0x2cf505[_0x2b94b0(0x3c3)]!==_0x63e770);};}[_0x11ce6(0x777)](_0x1ee308){const _0xfd611b=_0x11ce6;if(_0x1ee308[_0xfd611b(0x777)])return _0x1ee308[_0xfd611b(0x777)]();const _0x1ed5ae=_0x1ee308[_0xfd611b(0x3a8)](),_0x4aba02=_0x1ee308[_0xfd611b(0x891)](0x1,0x1,_0x1ee308[_0xfd611b(0x8d2)]);return _0x4aba02[_0xfd611b(0x873)](0x0)[0x0]=0xa,_0x1ed5ae[_0xfd611b(0x153)]=_0x4aba02,_0x1ed5ae['loop']=!0x0,_0x1ed5ae;}}const _0x508bd4=_0x2fac39[_0x11ce6(0x5d2)]();class _0xdcb343 extends _0x38410c{[_0x11ce6(0x4d0)]=_0x435863();[_0x11ce6(0x27f)]=_0x435863();[_0x11ce6(0x9cb)]=_0x435863();[_0x11ce6(0x958)]=new Map();[_0x11ce6(0x662)]=new Map();[_0x11ce6(0x52f)];[_0x11ce6(0x219)]=0x0;[_0x11ce6(0x478)]={'messages':{'total':0x0}};[_0x11ce6(0x8a5)]=0x0;['timeReceiving']=0x0;['loggingCycle']=_0x20ab93(_0x11ce6(0x62c),_0x1e4869[_0x11ce6(0x5c8)]);[_0x11ce6(0x17e)](){const _0x32dab5=_0x11ce6;this[_0x32dab5(0x848)](),this[_0x32dab5(0x958)][_0x32dab5(0x918)](),super[_0x32dab5(0x17e)]();}async['handleOffer'](_0x3401f6,_0x19c239){const _0x1784cf=_0x11ce6;this[_0x1784cf(0x746)]=_0x19c239,this[_0x1784cf(0x848)]();const _0x3a0699=await this['connection'][_0x1784cf(0x521)](_0x3401f6);this[_0x1784cf(0x659)]();const _0x3edfbb=(0x0,_0x5afa59['v4'])();this[_0x1784cf(0x79f)]({'type':_0x1ed9f1['Answer'],'answer':_0x3a0699,'version':_0x19c239,'connectionType':this['connectionType']},_0x3edfbb),this['connectionType']===_0x49ddb9[_0x1784cf(0x199)]&&(this[_0x1784cf(0x52f)]=_0x508bd4[_0x1784cf(0x54a)](()=>{const _0x5442af=_0x1784cf;this[_0x5442af(0x79f)]({'type':_0x1ed9f1[_0x5442af(0x256)],'answer':_0x3a0699,'version':_0x19c239,'connectionType':this[_0x5442af(0x18a)]},_0x3edfbb);},0x1388));}[_0x11ce6(0x48b)](){const _0x4fd88d=_0x11ce6;this[_0x4fd88d(0x848)]();}['handleNeedRestart'](_0x3b2de5){const _0x1f3fce=_0x11ce6;this[_0x1f3fce(0x92d)](_0x3b2de5),this[_0x1f3fce(0x79f)]({'type':_0x1ed9f1[_0x1f3fce(0x2ff)]});}async[_0x11ce6(0x910)](){const _0x1b78fa=_0x11ce6;this['systemTopic']&&(await this[_0x1b78fa(0x842)][_0x1b78fa(0x788)](this[_0x1b78fa(0x958)],(_0x6f304d,_0x3ac9c3)=>{const _0x57d528=_0x1b78fa;_0x312497({'type':_0x1ed9f1[_0x57d528(0x6d9)],'streamId':_0x3ac9c3,'nodeId':this[_0x57d528(0x682)],'stats':_0x6f304d},this[_0x57d528(0x1ad)]);}),this[_0x1b78fa(0x1ad)]['publish']({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x1b78fa(0x850)],'content':{'type':_0x1ed9f1[_0x1b78fa(0x6d9)],'nodeId':this[_0x1b78fa(0x682)],'stats':{'origin':_0x3792ca[_0x1b78fa(0x188)],'timestamp':Date[_0x1b78fa(0x3bd)](),'messagesReceived':this[_0x1b78fa(0x219)],'bytesReceived':this[_0x1b78fa(0x8a5)],'timeReceiving':this[_0x1b78fa(0x19a)],'systemMessages':this[_0x1b78fa(0x478)]}}}));}[_0x11ce6(0xc1)](_0x3df8e9){const _0x285195=_0x11ce6;return _0x4d02a1['isProduction']?this['messageCallback'][_0x285195(0x85a)](_0x3df8e9):this['messageCallback'][_0x285195(0x85a)](_0x555cef=>{const _0x121c6d=_0x285195;0x0===_0x555cef[_0x121c6d(0x624)]&&_0x555cef[_0x121c6d(0x32c)]===_0x48fa30[_0x121c6d(0x575)]&&this[_0x121c6d(0x218)][_0x121c6d(0x5eb)]['log'](_0x121c6d(0x532)+this['remoteId'],()=>_0x15f2a3(_0x555cef)),_0x3df8e9(_0x555cef);});}[_0x11ce6(0x81f)](_0x3a13f9){const _0x3ea551=_0x11ce6;return this[_0x3ea551(0x27f)][_0x3ea551(0x85a)](({track:_0x5aa7e6,stream:_0x574ebe})=>_0x3a13f9(_0x5aa7e6,_0x574ebe));}[_0x11ce6(0x9a4)](_0x5f625e){const _0x45f6c3=_0x11ce6;return this[_0x45f6c3(0x9cb)][_0x45f6c3(0x85a)](({track:_0x1316a0,stream:_0x165c5d})=>_0x5f625e(_0x1316a0,_0x165c5d));}[_0x11ce6(0x92d)](_0x4ffbd7){const _0x22eef0=_0x11ce6;this[_0x22eef0(0x848)](),this[_0x22eef0(0x958)][_0x22eef0(0x7a1)](_0x28d682=>{const _0x50c968=_0x22eef0;_0x28d682[_0x50c968(0x918)]();}),super[_0x22eef0(0x92d)](_0x4ffbd7);}[_0x11ce6(0x16c)](){const _0x108cf8=_0x11ce6;this[_0x108cf8(0x79f)]({'type':_0x1ed9f1[_0x108cf8(0x7e0)],'candidates':this['handshakeCandidates'],'origin':_0x3792ca[_0x108cf8(0x188)],'version':this[_0x108cf8(0x746)],'connectionType':this['connectionType']});}['setupConnectionEvents'](){const _0x38647d=_0x11ce6;super[_0x38647d(0x6f5)](),this['connection'][_0x38647d(0x81f)]=_0x561604=>{const _0x554fb0=_0x38647d;_0x5c02ff[_0x554fb0(0x65b)](_0x1e4869['Connection'],_0x554fb0(0x97a),this[_0x554fb0(0xd3)]['getId'](),_0x561604),_0x561604[_0x554fb0(0x7aa)][0x0][_0x554fb0(0x856)]=_0x295b3e=>{const _0x2f3bb2=_0x554fb0;this[_0x2f3bb2(0x958)][_0x2f3bb2(0x3f2)](_0x561604[_0x2f3bb2(0x7aa)][0x0]['id'])?.[_0x2f3bb2(0x3a9)](_0x295b3e['track']),0x0===this[_0x2f3bb2(0x958)]['get'](_0x561604[_0x2f3bb2(0x7aa)][0x0]['id'])?.[_0x2f3bb2(0x84c)]&&this['receivers'][_0x2f3bb2(0x3a9)](_0x561604[_0x2f3bb2(0x7aa)][0x0]['id']),this[_0x2f3bb2(0x9cb)][_0x2f3bb2(0xfa)]({'track':_0x295b3e['track'],'stream':_0x561604[_0x2f3bb2(0x7aa)][0x0]});},this[_0x554fb0(0x958)]['has'](_0x561604[_0x554fb0(0x7aa)][0x0]['id'])||this[_0x554fb0(0x958)][_0x554fb0(0x323)](_0x561604['streams'][0x0]['id'],new Set()),this[_0x554fb0(0x958)]['get'](_0x561604['streams'][0x0]['id'])['add'](_0x561604[_0x554fb0(0x843)]),this[_0x554fb0(0x27f)]['publish']({'track':_0x561604['track'],'stream':_0x561604['streams'][0x0]});},this[_0x38647d(0x842)]['onDataChannel']=_0x42dd4a=>{const _0x4cf055=_0x38647d;this[_0x4cf055(0x48e)]=_0x42dd4a[_0x4cf055(0x30b)],this['dataChannel'][_0x4cf055(0xc1)]=_0x16ce94=>{const _0x5d6c5c=_0x4cf055;if(_0x16ce94[_0x5d6c5c(0x4ff)]!==_0x267f14)this[_0x5d6c5c(0x74a)](_0x16ce94[_0x5d6c5c(0x4ff)]);else{if(!this[_0x5d6c5c(0x48e)])return void _0x5c02ff[_0x5d6c5c(0x89e)](_0x5d6c5c(0x176),{'clusterId':this[_0x5d6c5c(0xa18)],'nodeId':this[_0x5d6c5c(0xd3)][_0x5d6c5c(0x9d8)](),'nodeType':this['localNode'][_0x5d6c5c(0x789)],'remoteId':this[_0x5d6c5c(0x682)],'data':{'connection':_0x5d6c5c(0x591)}});if('open'!==this[_0x5d6c5c(0x48e)][_0x5d6c5c(0x60e)])return;this[_0x5d6c5c(0x48e)][_0x5d6c5c(0x41d)]('1');}};};}[_0x11ce6(0x74a)](_0x1d7c15){const _0x526300=_0x11ce6;if(_0x526300(0x9cc)==typeof _0x1d7c15&&_0x1d7c15[_0x526300(0x534)](_0xe218a1))return this['messagesReceived']+=0x1,this[_0x526300(0x8a5)]+=_0x1d7c15[_0x526300(0x7ad)],this['handleChunkMessage'](_0x1d7c15);setTimeout(()=>{const _0x137c06=_0x526300,_0x57c04d=Date['now']();let _0x9e6f8d;if((_0x1d7c15 instanceof ArrayBuffer||_0x1d7c15['length']<=_0x5d0f4e)&&(this[_0x137c06(0x219)]+=0x1,this[_0x137c06(0x8a5)]+=_0x1d7c15 instanceof ArrayBuffer?_0x1d7c15[_0x137c06(0x713)]:_0x1d7c15[_0x137c06(0x7ad)]),_0x1d7c15 instanceof ArrayBuffer){const [_0x4b0334,_0x56f0d8]=this[_0x137c06(0x251)](_0x1d7c15);_0x9e6f8d=_0x4b0334,_0x9e6f8d[_0x137c06(0x1c4)][_0x137c06(0x4ff)]=_0x56f0d8;}else _0x9e6f8d=JSON['parse'](_0x1d7c15);if(0x0===_0x9e6f8d['topicLabel']){this[_0x137c06(0x478)]['messages'][_0x137c06(0x93c)]+=0x1;const {systemMessageType:_0x1211d4,systemContentMessageType:_0x3a7273}=_0x15f2a3(_0x9e6f8d);this['systemMessagesReceived'][_0x1211d4]||(this[_0x137c06(0x478)][_0x1211d4]={[_0x3a7273]:0x0}),this[_0x137c06(0x478)][_0x1211d4][_0x3a7273]||(this[_0x137c06(0x478)][_0x1211d4][_0x3a7273]=0x0),this[_0x137c06(0x478)][_0x1211d4][_0x137c06(0x93c)]||(this[_0x137c06(0x478)][_0x1211d4]['total']=0x0),this[_0x137c06(0x478)][_0x1211d4][_0x3a7273]+=0x1,this[_0x137c06(0x478)][_0x1211d4][_0x137c06(0x93c)]+=0x1;}this[_0x137c06(0x4d0)]['publish'](_0x9e6f8d),this[_0x137c06(0x19a)]+=Date[_0x137c06(0x3bd)]()-_0x57c04d;},0x0);}[_0x11ce6(0x9b7)](_0xc513f){const _0x199a4d=_0x11ce6,_0x379023=_0xc513f[_0x199a4d(0x82c)](';'),_0xd7a59b=_0x379023[0x1],_0x4e3bf7=parseInt(_0x379023[0x2],0xa),_0xc71d6f=parseInt(_0x379023[0x3],0xa),_0x25a26f=_0xc513f[_0x199a4d(0x7b8)](_0xe218a1+';'+_0xd7a59b+';'+_0x4e3bf7+';'+_0xc71d6f+';','');this['chunks'][_0x199a4d(0x297)](_0xd7a59b)||this[_0x199a4d(0x662)]['set'](_0xd7a59b,[]);const _0x3f6c3b=this[_0x199a4d(0x662)][_0x199a4d(0x3f2)](_0xd7a59b);_0x3f6c3b[_0x4e3bf7]=_0x25a26f,_0x3f6c3b[_0x199a4d(0x7ad)]===_0xc71d6f&&(this[_0x199a4d(0x74a)](_0x3f6c3b['join']('')),this[_0x199a4d(0x662)]['delete'](_0xd7a59b));}['clearWaitSuccess'](){const _0x5b0cf5=_0x11ce6;this[_0x5b0cf5(0x52f)]?.(),delete this[_0x5b0cf5(0x52f)];}[_0x11ce6(0x796)](_0x12b553){const _0x9b18bf=_0x11ce6,_0x216cf1=new TextDecoder()[_0x9b18bf(0x54f)](_0x12b553);return JSON['parse'](_0x216cf1);}[_0x11ce6(0x251)](_0x5a60c4){const _0x378dbc=_0x11ce6,_0x52df81=new Uint8Array(_0x5a60c4[_0x378dbc(0x486)](0x0,0x4)),_0x5b383d=new Uint32Array(_0x52df81[_0x378dbc(0x153)])[0x0],_0x32919f=new Uint8Array(_0x5a60c4[_0x378dbc(0x486)](0x4,0x4+_0x5b383d)),_0x4e3766=new Uint8Array(_0x5a60c4[_0x378dbc(0x486)](0x4+_0x5b383d));return[this[_0x378dbc(0x796)](_0x32919f[_0x378dbc(0x153)]),_0x4e3766[_0x378dbc(0x153)]];}}const _0x40c807=0xc350;var _0x48768e,_0x32a36a;!function(_0x462cea){const _0x7cd331=_0x11ce6;_0x462cea[_0x462cea[_0x7cd331(0x8e0)]=0x0]=_0x7cd331(0x8e0),_0x462cea[_0x462cea['Medium']=0x1]='Medium',_0x462cea[_0x462cea[_0x7cd331(0x7cb)]=0x2]=_0x7cd331(0x7cb);}(_0x48768e||(_0x48768e={}));class _0x1b9819 extends _0x38410c{[_0x11ce6(0x266)];[_0x11ce6(0x2eb)];[_0x11ce6(0x637)]=new Map();[_0x11ce6(0x5c3)];[_0x11ce6(0x338)];[_0x11ce6(0x2fa)];[_0x11ce6(0x6b4)]=!0x1;[_0x11ce6(0x460)];['restartTimeout'];[_0x11ce6(0x59e)];[_0x11ce6(0x8b7)]=function(e,t=_0x48768e,s=!0x1){const _0x405cc4=_0x11ce6;let n=!0x1;const i=[];async function o(){const _0x2d836d=a0_0x5c6e;if(!n){for(n=!0x0;i[_0x2d836d(0x335)](e=>e[_0x2d836d(0x342)]);){let t,n=0x0;for(const [e,s]of i[_0x2d836d(0x91c)]())if(t=s[_0x2d836d(0x52d)](),n=e,t)break;if(t)try{if(e instanceof _0x3eaa58&&e[_0x2d836d(0xff)](t),e instanceof _0x352cdf&&await e[_0x2d836d(0xff)](t),i['slice'](-0x1)[_0x2d836d(0x335)](e=>e[_0x2d836d(0x342)]))continue;const s=i[_0x2d836d(0x7ad)]-0x1;n===s&&i[s][_0x2d836d(0x342)]&&await _0x508bd4[_0x2d836d(0x573)](0x0);}catch(o){s?i[n]['push'](t,!0x1):i[n][_0x2d836d(0x324)](t,!0x1),await e[_0x2d836d(0x573)]();}}n=!0x1;}}return Object[_0x405cc4(0x8ea)](t)[_0x405cc4(0x7a1)](e=>{'string'!=typeof e&&(i[e]=_0x39e8e5(o));}),{'queues':i};}(new _0x3eaa58(this['sendAction']['bind'](this),this['waitSendBuffer']['bind'](this)));['messagesSent']=0x0;[_0x11ce6(0x769)]=0x0;[_0x11ce6(0x4a3)]=0x0;[_0x11ce6(0x311)]=0x0;[_0x11ce6(0x145)];[_0x11ce6(0x218)]=_0x20ab93(_0x11ce6(0x8f3),_0x1e4869['SenderSendMessage']);constructor(_0x16141b,_0x4f7264,_0x164033,_0x1794e4,_0x32488f,_0x41109b,_0x2743e6,_0x4a55ed){const _0x356e63=_0x11ce6;super(_0x16141b,_0x4f7264,_0x164033,_0x1794e4,_0x32488f,_0x4a55ed),this[_0x356e63(0x266)]=_0x41109b,this['maxBpp']=_0x2743e6;}[_0x11ce6(0x17e)](){const _0x544261=_0x11ce6;this[_0x544261(0x63f)](),this['clearHeartbeat'](),delete this[_0x544261(0x2fa)],this[_0x544261(0x33b)](),this[_0x544261(0x1c3)](),this['clearWaitAnswer'](),this['senders'][_0x544261(0x918)](),this[_0x544261(0x6b4)]=!0x1,this[_0x544261(0x8b7)]['queues'][_0x544261(0x7a1)](_0x2bf6b7=>_0x2bf6b7['clear']()),this[_0x544261(0x58b)](),super[_0x544261(0x17e)]();}[_0x11ce6(0x818)](){const _0x40b5e9=_0x11ce6;return!!this[_0x40b5e9(0x2fa)]&&super[_0x40b5e9(0x818)]()&&Date[_0x40b5e9(0x3bd)]()-this[_0x40b5e9(0x2fa)]<0x3a98;}async[_0x11ce6(0x910)](){const _0x5d5e09=_0x11ce6;this[_0x5d5e09(0x1ad)]&&(await this[_0x5d5e09(0x842)][_0x5d5e09(0x3b9)](this[_0x5d5e09(0x637)],(_0x21b0c0,_0x2ec4be)=>{const _0x57cf28=_0x5d5e09;_0x312497({'type':_0x1ed9f1[_0x57cf28(0x6d9)],'streamId':_0x2ec4be,'nodeId':this[_0x57cf28(0x682)],'stats':_0x21b0c0},this[_0x57cf28(0x1ad)]);}),this['systemTopic'][_0x5d5e09(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x5d5e09(0x850)],'content':{'type':_0x1ed9f1[_0x5d5e09(0x6d9)],'nodeId':this[_0x5d5e09(0x682)],'stats':{'origin':_0x3792ca[_0x5d5e09(0x32e)],'timestamp':Date['now'](),'messagesSent':this['messagesSent'],'bytesSent':this[_0x5d5e09(0x769)],'timeSending':this[_0x5d5e09(0x4a3)],'roundTripTime':this[_0x5d5e09(0x311)]}}}));}async[_0x11ce6(0x1f9)](_0x2703c5){const _0x43fcd9=_0x11ce6;_0x5c02ff['log'](_0x1e4869[_0x43fcd9(0x3d5)],_0x43fcd9(0x146),this[_0x43fcd9(0xd3)]['getId'](),this[_0x43fcd9(0x682)]),this[_0x43fcd9(0x33b)](),this[_0x43fcd9(0x1c3)](),this['clearWaitAnswer'](),this['connectionTimeout']=setTimeout(()=>{this['handleDisconnect']();},0x7530),this[_0x43fcd9(0x48e)]||(this[_0x43fcd9(0x48e)]=this[_0x43fcd9(0x842)][_0x43fcd9(0x954)](_0x43fcd9(0x4ff)),this[_0x43fcd9(0x48e)][_0x43fcd9(0x831)]=_0x5f3670,this[_0x43fcd9(0x48e)][_0x43fcd9(0x14b)]=()=>{const _0x4fac29=_0x43fcd9;this[_0x4fac29(0x145)]=setTimeout(()=>{const _0x14c57f=_0x4fac29;delete this['oncloseTimeout'],['connecting',_0x14c57f(0x4ec)]['includes'](this[_0x14c57f(0x48e)]?.[_0x14c57f(0x60e)]??'')||this[_0x14c57f(0x1bf)]();},0xfa);});const _0x591536=await this['connection'][_0x43fcd9(0x1f9)](_0x2703c5);this['lastHeartbeat']||(this['lastHeartbeat']=Date[_0x43fcd9(0x3bd)]());const _0x437087=(0x0,_0x5afa59['v4'])();this[_0x43fcd9(0x79f)]({'type':_0x1ed9f1[_0x43fcd9(0x606)],'offer':_0x591536,'version':this[_0x43fcd9(0x746)],'connectionType':this['connectionType']},_0x437087),this[_0x43fcd9(0x18a)]===_0x49ddb9[_0x43fcd9(0x199)]&&(this[_0x43fcd9(0x338)]=_0x508bd4['setInterval'](()=>{const _0x1a0b98=_0x43fcd9;this[_0x1a0b98(0x79f)]({'type':_0x1ed9f1['Offer'],'offer':_0x591536,'version':this['currentVersion'],'connectionType':this[_0x1a0b98(0x18a)]},_0x437087);},0x1388));}async[_0x11ce6(0x13a)](_0x58fb50,_0x11dd19){const _0x30506c=_0x11ce6;if(_0x11dd19===this['currentVersion']){this[_0x30506c(0x765)]();try{await this[_0x30506c(0x842)][_0x30506c(0x13a)](_0x58fb50,this['createOffer'][_0x30506c(0x23a)](this)),this[_0x30506c(0x659)](),this['clearConnectionTimeout'](),this['startHeartbeat']();}catch(_0x5171bb){this[_0x30506c(0x1bf)]();}}}['send'](_0x198c91){const _0x31c6dc=_0x11ce6;if(!this[_0x31c6dc(0x48e)])throw new _0x490cf1(_0x490cf1[_0x31c6dc(0x9fb)]['InvalidDataChannel'],{'message':_0x31c6dc(0x10d),'localId':this[_0x31c6dc(0xd3)]['getId'](),'remoteId':this[_0x31c6dc(0x682)],'eventMessage':_0x198c91});if(_0x31c6dc(0x4ec)!==this[_0x31c6dc(0x48e)][_0x31c6dc(0x60e)])throw new _0x490cf1(_0x490cf1[_0x31c6dc(0x9fb)][_0x31c6dc(0x67d)],{'message':_0x31c6dc(0x955),'localId':this[_0x31c6dc(0xd3)]['getId'](),'remoteId':this[_0x31c6dc(0x682)],'eventMessage':_0x198c91});let _0x22a745;if(_0x198c91[_0x31c6dc(0x1c4)][_0x31c6dc(0x4ff)]instanceof ArrayBuffer){const _0x3b8bf4=_0x198c91[_0x31c6dc(0x1c4)]['data'];_0x198c91={..._0x198c91,'content':{..._0x198c91[_0x31c6dc(0x1c4)],'data':void 0x0}},_0x22a745=this[_0x31c6dc(0x5b6)](_0x198c91,_0x3b8bf4);}else _0x22a745=JSON[_0x31c6dc(0x3ea)](_0x198c91);if(_0x31c6dc(0x9cc)==typeof _0x22a745&&_0x22a745[_0x31c6dc(0x7ad)]>_0x5d0f4e)return this[_0x31c6dc(0x666)](_0x198c91,_0x22a745);0x0===_0x198c91['topicLabel']&&_0x198c91[_0x31c6dc(0x32c)]===_0x48fa30[_0x31c6dc(0x575)]&&this[_0x31c6dc(0x218)][_0x31c6dc(0x5eb)][_0x31c6dc(0x2d6)](()=>_0x5c02ff['log'](_0x1e4869[_0x31c6dc(0x923)],_0x31c6dc(0x59d),this[_0x31c6dc(0x682)],_0x15f2a3(_0x198c91)),void 0x0);const _0x1d946a=0x0===_0x198c91[_0x31c6dc(0x624)]&&[_0x48fa30[_0x31c6dc(0x832)],_0x48fa30[_0x31c6dc(0x850)]][_0x31c6dc(0x2a1)](_0x198c91['messageType'])?_0x48768e['High']:_0x198c91 instanceof ArrayBuffer?_0x48768e[_0x31c6dc(0x7cb)]:_0x48768e[_0x31c6dc(0x16f)];this['sendWithRetry'](_0x22a745,_0x1d946a);}['addTrack'](_0x1284f0,_0x4ac1bd,_0x4a0e64,_0x1b42a9){const _0x31969f=_0x11ce6,_0x8e3b8b=(_0x327fb5=this[_0x31969f(0x266)],_0x68b7d4=this[_0x31969f(0x2eb)],Math['floor'](0xe1000*_0x327fb5*_0x68b7d4));var _0x327fb5,_0x68b7d4;const _0x3473d1=this[_0x31969f(0x637)][_0x31969f(0x3f2)](_0x4ac1bd['id'])||{'stream':_0x4ac1bd,'priority':_0x4a0e64,'resolutionScale':0x1,'minResolutionScale':0x1,'bitrate':_0x8e3b8b,'maxBitrate':_0x8e3b8b,'framerate':this['maxFps'],'maxFramerate':this[_0x31969f(0x266)],'tracks':{},'params':_0x1b42a9},_0x4f1799=_0x3473d1['tracks'][_0x1284f0[_0x31969f(0x969)]]||{'track':_0x1284f0};if(_0x4f1799['sender']?(_0x4f1799[_0x31969f(0x843)]=_0x1284f0,this[_0x31969f(0x842)][_0x31969f(0x3a3)](_0x1284f0,_0x4f1799[_0x31969f(0x943)])):_0x4f1799[_0x31969f(0x943)]=this['connection'][_0x31969f(0x4c0)](_0x1284f0,_0x4ac1bd),_0x3473d1['tracks'][_0x1284f0[_0x31969f(0x969)]]=_0x4f1799,_0x1b42a9&&(_0x3473d1[_0x31969f(0x479)]=_0x1b42a9),_0x1b42a9&&_0x31969f(0x452)===_0x1b42a9[_0x31969f(0x969)]&&_0x1b42a9[_0x31969f(0x815)]&&_0x1b42a9['maxResolution']&&(_0x3473d1[_0x31969f(0x3c0)]=this[_0x31969f(0x428)](_0x1b42a9['resolution'],_0x1b42a9[_0x31969f(0x6c0)]),_0x3473d1[_0x31969f(0x133)]=_0x3473d1[_0x31969f(0x3c0)],_0x3473d1[_0x31969f(0x1cf)]['video']&&_0x3473d1[_0x31969f(0x1cf)][_0x31969f(0x452)][_0x31969f(0x943)])){const _0x3cd39d=_0x3473d1['tracks'][_0x31969f(0x452)][_0x31969f(0x943)];this[_0x31969f(0x842)][_0x31969f(0x233)](_0x3cd39d,Math[_0x31969f(0x273)](0xa*_0x3473d1[_0x31969f(0x3c0)])/0xa,_0x3473d1[_0x31969f(0x6ff)],_0x3473d1[_0x31969f(0x157)],_0x3473d1[_0x31969f(0xca)]);}this[_0x31969f(0x637)]['set'](_0x4ac1bd['id'],_0x3473d1);}[_0x11ce6(0x91e)](_0x1fc4b1,_0xca59e8){const _0x5c1ba8=_0x11ce6,_0x1cbe97=this['senders'][_0x5c1ba8(0x3f2)](_0x1fc4b1['id']);if(_0x1cbe97&&_0x1cbe97['priority']!==_0xca59e8&&(_0x1cbe97['priority']=_0xca59e8,_0x1cbe97['tracks']['video']&&_0x1cbe97[_0x5c1ba8(0x1cf)][_0x5c1ba8(0x452)][_0x5c1ba8(0x943)])){const _0x27cab9=_0x1cbe97[_0x5c1ba8(0x1cf)][_0x5c1ba8(0x452)]['sender'];this[_0x5c1ba8(0x842)][_0x5c1ba8(0x233)](_0x27cab9,Math[_0x5c1ba8(0x273)](0xa*_0x1cbe97[_0x5c1ba8(0x3c0)])/0xa,_0x1cbe97[_0x5c1ba8(0x6ff)],_0x1cbe97[_0x5c1ba8(0x157)],_0x1cbe97['priority']);}}[_0x11ce6(0x193)](_0x3475fa,_0x4f8f14){const _0x1d8af9=_0x11ce6,_0x241377=this[_0x1d8af9(0x637)][_0x1d8af9(0x3f2)](_0x3475fa['id']);if(_0x241377){if(_0x241377[_0x1d8af9(0x479)]=_0x4f8f14,_0x4f8f14&&_0x1d8af9(0x452)===_0x4f8f14[_0x1d8af9(0x969)]&&_0x4f8f14[_0x1d8af9(0x815)]&&_0x4f8f14[_0x1d8af9(0x6c0)]){if(_0x241377['minResolutionScale']=this[_0x1d8af9(0x428)](_0x4f8f14[_0x1d8af9(0x815)],_0x4f8f14[_0x1d8af9(0x6c0)]),_0x241377[_0x1d8af9(0x3c0)]<_0x241377[_0x1d8af9(0x133)]&&(_0x241377[_0x1d8af9(0x3c0)]=_0x241377[_0x1d8af9(0x133)]),_0x241377[_0x1d8af9(0x1cf)][_0x1d8af9(0x452)]&&_0x241377[_0x1d8af9(0x1cf)]['video']['sender']){const _0x35df4e=_0x241377[_0x1d8af9(0x1cf)][_0x1d8af9(0x452)][_0x1d8af9(0x943)];this['connection'][_0x1d8af9(0x233)](_0x35df4e,Math[_0x1d8af9(0x273)](0xa*_0x241377[_0x1d8af9(0x3c0)])/0xa,_0x241377['framerate'],_0x241377[_0x1d8af9(0x157)],_0x241377[_0x1d8af9(0xca)]);}this[_0x1d8af9(0x63f)](),this[_0x1d8af9(0x255)]();}this[_0x1d8af9(0x637)][_0x1d8af9(0x323)](_0x3475fa['id'],_0x241377);}}['removeTrack'](_0x5982a6,_0xa1739c){const _0x224b77=_0x11ce6,_0xc0f238=this['senders'][_0x224b77(0x3f2)](_0xa1739c['id']);if(_0xc0f238){const _0x323734=_0xc0f238['tracks'][_0x5982a6[_0x224b77(0x969)]];_0x323734&&(_0x323734[_0x224b77(0x943)]&&this['connection'][_0x224b77(0x80d)](_0x323734['sender']),_0x323734[_0x224b77(0x843)]=void 0x0);}}['applyRemediation'](_0x290982){const _0x3464c3=_0x11ce6;this[_0x3464c3(0x63f)]();const _0x339b2f=function(_0x339b62,_0x4c3a4c){const _0x285425=_0x3464c3;return _0x339b62[_0x285425(0x96b)]((_0x5ddf46,_0xfe5546)=>_0x4c3a4c[_0x285425(0x28d)]===_0x2b0adb[_0x285425(0x1cd)]?_0xfe5546[_0x285425(0xca)]-_0x5ddf46[_0x285425(0xca)]:_0x5ddf46[_0x285425(0xca)]-_0xfe5546['priority'])[_0x285425(0x957)](_0x3fb418=>function(_0x2a49e8,_0x5df105){const _0x2d5754=_0x285425;if(_0x5df105['action']===_0x2b0adb[_0x2d5754(0x1cd)]){if(_0x5df105[_0x2d5754(0x6c9)]===_0x11b7e7['Resolution'])return _0x2a49e8[_0x2d5754(0x3c0)]<0x4||_0x2a49e8[_0x2d5754(0x2ac)]>0xf;if(_0x5df105[_0x2d5754(0x6c9)]===_0x11b7e7[_0x2d5754(0x439)])return _0x2a49e8[_0x2d5754(0x914)]>_0x40c807;}return _0x2a49e8[_0x2d5754(0x3c0)]>_0x2a49e8[_0x2d5754(0x133)]||_0x2a49e8[_0x2d5754(0x6ff)]<_0x2a49e8['maxFramerate']||_0x2a49e8[_0x2d5754(0x157)]<_0x2a49e8['maxBitrate'];}(_0x3fb418,_0x4c3a4c));}(Array[_0x3464c3(0x462)](this['senders'][_0x3464c3(0x8ea)]()),_0x290982);if(_0x339b2f&&(function(_0x45f414,_0x3db09e){const _0xca659b=_0x3464c3;_0x45f414[_0xca659b(0x1cf)]['video']&&_0x45f414[_0xca659b(0x1cf)]['video'][_0xca659b(0x943)]&&(_0x45f414['resolutionScale']=function(_0x3faf4f,_0x537789,_0x34793e){const _0x250464=_0xca659b;switch(_0x34793e[_0x250464(0x28d)]){case _0x2b0adb[_0x250464(0x1cd)]:_0x34793e[_0x250464(0x6c9)]===_0x11b7e7['Resolution']&&(_0x3faf4f+=0.5)>0x4&&(_0x3faf4f=0x4);break;case _0x2b0adb[_0x250464(0x19f)]:(_0x3faf4f-=0.5)<_0x537789&&(_0x3faf4f=_0x537789);}return _0x3faf4f;}(_0x45f414['resolutionScale'],_0x45f414[_0xca659b(0x133)],_0x3db09e),_0x45f414['framerate']=function(_0x45deeb,_0x84b57d,_0x1e7cee){const _0xd10f83=_0xca659b;switch(_0x1e7cee[_0xd10f83(0x28d)]){case _0x2b0adb[_0xd10f83(0x1cd)]:_0x1e7cee[_0xd10f83(0x6c9)]===_0x11b7e7[_0xd10f83(0xc3)]&&(_0x45deeb-=0x3)<0xf&&(_0x45deeb=0xf);break;case _0x2b0adb[_0xd10f83(0x19f)]:(_0x45deeb+=0x3)>_0x84b57d&&(_0x45deeb=_0x84b57d);}return _0x45deeb;}(_0x45f414[_0xca659b(0x6ff)],_0x45f414[_0xca659b(0x2ac)],_0x3db09e),_0x45f414[_0xca659b(0x157)]=function(_0x4ab32e,_0x18b76d,_0x29b3a7){const _0x243904=_0xca659b;switch(_0x29b3a7[_0x243904(0x28d)]){case _0x2b0adb['Downgrade']:_0x29b3a7['component']===_0x11b7e7[_0x243904(0x439)]&&(_0x4ab32e*=0.75)<_0x40c807&&(_0x4ab32e=_0x40c807);break;case _0x2b0adb[_0x243904(0x19f)]:(_0x4ab32e*=1.25)>_0x18b76d&&(_0x4ab32e=_0x18b76d);}return _0x4ab32e;}(_0x45f414[_0xca659b(0x157)],_0x45f414['maxBitrate'],_0x3db09e));}(_0x339b2f,_0x290982),_0x339b2f[_0x3464c3(0x1cf)][_0x3464c3(0x452)]&&_0x339b2f[_0x3464c3(0x1cf)][_0x3464c3(0x452)][_0x3464c3(0x943)])){const _0x5a5176=_0x339b2f[_0x3464c3(0x1cf)][_0x3464c3(0x452)][_0x3464c3(0x943)];this[_0x3464c3(0x842)][_0x3464c3(0x233)](_0x5a5176,Math[_0x3464c3(0x273)](0xa*_0x339b2f[_0x3464c3(0x3c0)])/0xa,_0x339b2f['framerate'],_0x339b2f[_0x3464c3(0x157)],_0x339b2f['priority']);}(_0x339b2f||_0x290982['action']===_0x2b0adb[_0x3464c3(0x1cd)])&&this['setUpgradeTimeout']();}[_0x11ce6(0x1d0)](){const _0x470fec=_0x11ce6;return this['retryQueue']['queues'][_0x470fec(0x484)]((_0x37913d,_0x42c0bc)=>_0x37913d+_0x42c0bc[_0x470fec(0x84c)],0x0)*_0xbeb078;}[_0x11ce6(0xa05)](){const _0x3f911c=_0x11ce6;return this[_0x3f911c(0x48e)]?.[_0x3f911c(0x322)]??0x0;}[_0x11ce6(0x92d)](){const _0x221bff=_0x11ce6;super[_0x221bff(0x92d)](),this[_0x221bff(0x58b)](),this[_0x221bff(0x765)](),this[_0x221bff(0x637)][_0x221bff(0x7a1)](_0x58b009=>{const _0x24fc61=_0x221bff;_0x58b009['tracks'][_0x24fc61(0x452)]&&(_0x58b009[_0x24fc61(0x1cf)][_0x24fc61(0x452)]['sender']=void 0x0),_0x58b009['tracks'][_0x24fc61(0x309)]&&(_0x58b009[_0x24fc61(0x1cf)][_0x24fc61(0x309)][_0x24fc61(0x943)]=void 0x0);}),this[_0x221bff(0x6b4)]=!0x0;}async['waitSendBuffer'](){return new Promise(async _0x534390=>{const _0x191934=a0_0x5c6e;if(!this[_0x191934(0x48e)]||_0x191934(0x4ec)!==this[_0x191934(0x48e)][_0x191934(0x60e)])return await _0x508bd4[_0x191934(0x573)](0x64),void _0x534390();this[_0x191934(0x48e)][_0x191934(0x322)]<_0x5f3670?_0x534390():this[_0x191934(0x48e)]['onBufferedAmountLow']=()=>{const _0x4d644d=_0x191934;this[_0x4d644d(0x48e)]&&(this[_0x4d644d(0x48e)]['onBufferedAmountLow']=null),_0x534390();};});}[_0x11ce6(0x666)](_0x46f268,_0xad82a4){const _0x4fde69=_0x11ce6,_0xc623e0=[];for(let _0x50b106=0x0;_0x50b106<_0xad82a4[_0x4fde69(0x7ad)];_0x50b106+=_0x5d0f4e)_0xc623e0['push'](_0xad82a4[_0x4fde69(0x486)](_0x50b106,_0x50b106+_0x5d0f4e));for(const _0x2fe9fe of _0xc623e0)this[_0x4fde69(0x8d5)](_0xe218a1+';'+_0x46f268['uuid']+';'+_0xc623e0['indexOf'](_0x2fe9fe)+';'+_0xc623e0['length']+';'+_0x2fe9fe,_0x48768e[_0x4fde69(0x7cb)]);}async['sendWithRetry'](_0x4801fe,_0x39ca77){const _0x448e9c=_0x11ce6;_0x4801fe===_0x267f14?this[_0x448e9c(0x8b7)][_0x448e9c(0x121)][_0x39ca77][_0x448e9c(0x342)]?.[_0x448e9c(0x844)]!==_0x267f14&&this[_0x448e9c(0x8b7)][_0x448e9c(0x121)][_0x39ca77][_0x448e9c(0x324)](_0x4801fe):this[_0x448e9c(0x8b7)][_0x448e9c(0x121)][_0x39ca77]['push'](_0x4801fe);}[_0x11ce6(0x793)](_0x4638d7){const _0xe83f69=_0x11ce6;if(!this[_0xe83f69(0x48e)]||_0xe83f69(0x4ec)!==this[_0xe83f69(0x48e)][_0xe83f69(0x60e)])throw new Error('DataChannel\x20is\x20not\x20open.');if(this[_0xe83f69(0x48e)]['bufferedAmount']>=0xbe8000)throw new Error('DataChannel\x20buffer\x20is\x20full.');const _0x4e20fc=Date[_0xe83f69(0x3bd)]();_0x4638d7!==_0x267f14&&(this[_0xe83f69(0x299)]+=0x1,this[_0xe83f69(0x769)]+=_0x4638d7 instanceof ArrayBuffer?_0x4638d7['byteLength']:_0x4638d7['length']),ArrayBuffer,this[_0xe83f69(0x48e)]['send'](_0x4638d7),this['timeSending']+=Date[_0xe83f69(0x3bd)]()-_0x4e20fc;}[_0x11ce6(0x6c6)](){const _0xc4b0db=_0x11ce6;this[_0xc4b0db(0x5c3)]&&this[_0xc4b0db(0xd7)]();let _0x16c0b3=!0x0,_0x4f5dbb=Date[_0xc4b0db(0x3bd)]();this['lastHeartbeat']=Date[_0xc4b0db(0x3bd)](),this['dataChannel'][_0xc4b0db(0xc1)]=_0x5dd5db=>{const _0x22d652=_0xc4b0db;'1'===_0x5dd5db['data']&&(this[_0x22d652(0x311)]=Date['now']()-_0x4f5dbb,_0x16c0b3&&this['publishSystemMessage']({'type':_0x1ed9f1[_0x22d652(0x88a)]}),_0x16c0b3=!0x1,this[_0x22d652(0x2fa)]=Date['now'](),this[_0x22d652(0x6b4)]&&(this[_0x22d652(0x6b4)]=!0x1,this['handleMissingSenders']()));},this[_0xc4b0db(0x5c3)]=_0x508bd4[_0xc4b0db(0x54a)](()=>{const _0x5a93f1=_0xc4b0db;_0x4f5dbb=Date[_0x5a93f1(0x3bd)](),this[_0x5a93f1(0x8d5)](_0x267f14,_0x48768e['High']),Date['now']()-this[_0x5a93f1(0x2fa)]>(_0x16c0b3?0x15f90:0x3a98)&&this[_0x5a93f1(0x1bf)]();},0xbb8);}['handleMissingSenders'](){this['senders']['forEach'](_0x378ced=>{const _0x20ede4=a0_0x5c6e;_0x378ced[_0x20ede4(0x1cf)][_0x20ede4(0x452)]&&_0x378ced['tracks'][_0x20ede4(0x452)][_0x20ede4(0x843)]&&!_0x378ced[_0x20ede4(0x1cf)][_0x20ede4(0x452)][_0x20ede4(0x943)]&&(_0x378ced[_0x20ede4(0x1cf)][_0x20ede4(0x452)][_0x20ede4(0x943)]=this[_0x20ede4(0x842)][_0x20ede4(0x4c0)](_0x378ced[_0x20ede4(0x1cf)][_0x20ede4(0x452)]['track'],_0x378ced[_0x20ede4(0x855)])),_0x378ced[_0x20ede4(0x1cf)][_0x20ede4(0x309)]&&_0x378ced[_0x20ede4(0x1cf)]['audio'][_0x20ede4(0x843)]&&!_0x378ced[_0x20ede4(0x1cf)][_0x20ede4(0x309)][_0x20ede4(0x943)]&&(_0x378ced[_0x20ede4(0x1cf)][_0x20ede4(0x309)][_0x20ede4(0x943)]=this['connection'][_0x20ede4(0x4c0)](_0x378ced[_0x20ede4(0x1cf)][_0x20ede4(0x309)][_0x20ede4(0x843)],_0x378ced[_0x20ede4(0x855)]));});}[_0x11ce6(0x16c)](){const _0xcabc46=_0x11ce6;this[_0xcabc46(0x79f)]({'type':_0x1ed9f1[_0xcabc46(0x7e0)],'candidates':this[_0xcabc46(0x88c)],'origin':_0x3792ca['Sender'],'version':this[_0xcabc46(0x746)],'connectionType':this['connectionType']});}[_0x11ce6(0x6f5)](){const _0x15189e=_0x11ce6;super['setupConnectionEvents'](),this[_0x15189e(0x842)][_0x15189e(0x80c)]=()=>{const _0x178444=_0x15189e;if('failed'===this[_0x178444(0x842)]['handshakeState']){_0x5c02ff[_0x178444(0x65b)](_0x1e4869[_0x178444(0x7b9)],_0x178444(0x4cf),this['localNode'][_0x178444(0x9d8)](),this[_0x178444(0x682)]);try{if(this[_0x178444(0x842)]['canRestartHandshake'])return void this[_0x178444(0x842)][_0x178444(0x1a3)]();}catch(_0x740506){}this[_0x178444(0x1f9)]({'handshakeRestart':!0x0});}},this[_0x15189e(0x842)][_0x15189e(0x4c4)]=()=>{const _0x383f4c=_0x15189e;'disconnected'!==this[_0x383f4c(0x842)]['connectionState']&&_0x383f4c(0x36c)!==this[_0x383f4c(0x842)][_0x383f4c(0x5a2)]||this[_0x383f4c(0x1bf)]();};}[_0x11ce6(0x1bf)](){const _0x7b4f5=_0x11ce6;this['clearHeartbeat'](),this[_0x7b4f5(0x33b)](),this['clearConnectionTimeout'](),_0x5c02ff[_0x7b4f5(0x275)]('disconnect',{'clusterId':this[_0x7b4f5(0xa18)],'nodeId':this[_0x7b4f5(0xd3)][_0x7b4f5(0x9d8)](),'nodeType':this[_0x7b4f5(0xd3)][_0x7b4f5(0x789)],'remoteId':this['remoteId'],'data':{'connectionType':this[_0x7b4f5(0x18a)],'connectionState':this[_0x7b4f5(0x842)][_0x7b4f5(0x5a2)],'iceConnectionState':this[_0x7b4f5(0x842)][_0x7b4f5(0x703)],'signalingState':this['connection']['signalingState'],'readyState':this[_0x7b4f5(0x48e)]?.[_0x7b4f5(0x60e)]||'','lastHeartbeat':this[_0x7b4f5(0x2fa)]?Date[_0x7b4f5(0x3bd)]()-this['lastHeartbeat']:'','retryQueue':this[_0x7b4f5(0x8b7)]}}),(this[_0x7b4f5(0x2fa)]&&Date['now']()-this[_0x7b4f5(0x2fa)]>0xea60)??0x1?this[_0x7b4f5(0x1ad)]['publish']({'sourceId':this[_0x7b4f5(0x682)],'destinationIds':[this[_0x7b4f5(0xd3)][_0x7b4f5(0x9d8)]()],'messageType':_0x48fa30['PeerConnection'],'content':{'type':_0x1ed9f1[_0x7b4f5(0x906)]}}):(this[_0x7b4f5(0x92d)](),this[_0x7b4f5(0x79f)]({'type':_0x1ed9f1[_0x7b4f5(0x4eb)],'version':this['currentVersion'],'connectionType':this[_0x7b4f5(0x18a)]}),this['restartTimeout']=setTimeout(()=>{const _0x322fcc=_0x7b4f5;this[_0x322fcc(0x1bf)]();},0x7530));}[_0x11ce6(0xd7)](){const _0x11e0d5=_0x11ce6;this['heartbeatUnsubscriber']?.(),delete this[_0x11e0d5(0x5c3)];}[_0x11ce6(0x1c3)](){const _0x1ff47b=_0x11ce6;this[_0x1ff47b(0x460)]&&(clearTimeout(this[_0x1ff47b(0x460)]),delete this[_0x1ff47b(0x460)]);}['clearRestartTimeout'](){const _0x96586e=_0x11ce6;this['restartTimeout']&&(clearTimeout(this[_0x96586e(0xa08)]),delete this[_0x96586e(0xa08)]);}['clearUpgradeTimeout'](){const _0x104e2a=_0x11ce6;this[_0x104e2a(0x59e)]&&(clearTimeout(this[_0x104e2a(0x59e)]),delete this[_0x104e2a(0x59e)]);}['setUpgradeTimeout'](){const _0x2a7348=_0x11ce6;this[_0x2a7348(0x59e)]=setTimeout(()=>{const _0x2a56a7=_0x2a7348;this['applyRemediation']({'type':_0x5f3e[_0x2a56a7(0x8a7)],'action':_0x2b0adb[_0x2a56a7(0x19f)]});},0x3a98);}[_0x11ce6(0x428)](_0x48e6a6,_0x2ade46){const _0x2f1d50=_0x11ce6,_0x347282=Math[_0x2f1d50(0x901)](_0x48e6a6[_0x2f1d50(0x706)]/_0x2ade46[_0x2f1d50(0x706)],_0x48e6a6[_0x2f1d50(0x6d3)]/_0x2ade46[_0x2f1d50(0x6d3)]);return Math[_0x2f1d50(0x69c)](Math['max'](_0x347282,0x1),0x4);}[_0x11ce6(0x765)](){const _0x559db2=_0x11ce6;this['waitAnswer']?.(),delete this[_0x559db2(0x338)];}[_0x11ce6(0x58b)](){const _0x173110=_0x11ce6;this[_0x173110(0x145)]&&(clearTimeout(this[_0x173110(0x145)]),delete this[_0x173110(0x145)]);}[_0x11ce6(0x99d)](_0x1cb71d){const _0x135576=_0x11ce6,_0xe37bdb=JSON['stringify'](_0x1cb71d);return new TextEncoder()[_0x135576(0x4ed)](_0xe37bdb)[_0x135576(0x153)];}[_0x11ce6(0x5b6)](_0x22f008,_0x32a725){const _0x385a68=_0x11ce6,_0x2cf468=this['objectToArrayBuffer'](_0x22f008),_0x51adcf=new Uint8Array(0x4),_0x48b206=new Uint8Array(_0x2cf468),_0x30e782=new Uint8Array(_0x32a725);_0x51adcf[_0x385a68(0x323)](new Uint8Array(new Uint32Array([_0x48b206[_0x385a68(0x7ad)]])[_0x385a68(0x153)]));const _0x2c410f=new Uint8Array(0x4+_0x48b206[_0x385a68(0x7ad)]+_0x30e782[_0x385a68(0x7ad)]);return _0x2c410f[_0x385a68(0x323)](_0x51adcf),_0x2c410f[_0x385a68(0x323)](_0x48b206,0x4),_0x2c410f[_0x385a68(0x323)](_0x30e782,0x4+_0x48b206[_0x385a68(0x7ad)]),_0x2c410f[_0x385a68(0x153)];}}class _0x54721c extends _0x9cda1{[_0x11ce6(0xf3)];['connectionType'];['maxFps'];[_0x11ce6(0x2eb)];[_0x11ce6(0x5b8)];[_0x11ce6(0x66c)];[_0x11ce6(0x38a)];[_0x11ce6(0x37e)]=[];[_0x11ce6(0x6fe)]=_0x4332ba();[_0x11ce6(0x63d)]=_0x4332ba();[_0x11ce6(0x8d8)]=_0x4332ba();[_0x11ce6(0x1a2)]=[];['systemTopic'];[_0x11ce6(0x7d0)]=new Map();[_0x11ce6(0x72d)]=new Map();['mediaTopics']=new Map();[_0x11ce6(0x3ff)]=new Map();[_0x11ce6(0x12f)]=!0x1;constructor(_0x19dae2,_0x4c38a1,_0x4029ff,_0x2d9f1e,_0x2d8565,_0x36ec87,_0x32b547,_0x3e40f1){const _0x5278ee=_0x11ce6;super(_0x19dae2,_0x4c38a1,_0x4029ff),this[_0x5278ee(0xf3)]=_0x2d9f1e,this[_0x5278ee(0x18a)]=_0x2d8565,this[_0x5278ee(0x266)]=_0x36ec87,this['maxBpp']=_0x32b547,this[_0x5278ee(0x5b8)]=_0x3e40f1;}[_0x11ce6(0x1b4)](_0x408091){const _0x673ce3=_0x11ce6;switch(_0x408091['getContentType']()){case _0x4aea4d[_0x673ce3(0x43d)][_0x673ce3(0x2d1)]:case _0x4aea4d[_0x673ce3(0x43d)][_0x673ce3(0x267)]:case _0x4aea4d[_0x673ce3(0x43d)]['ObjectStore']:case _0x4aea4d[_0x673ce3(0x43d)][_0x673ce3(0x45f)]:case _0x4aea4d['ContentType'][_0x673ce3(0xa09)]:case _0x4aea4d['ContentType']['VectorDatabase']:case _0x4aea4d[_0x673ce3(0x43d)][_0x673ce3(0x2b8)]:case _0x4aea4d['ContentType'][_0x673ce3(0x72b)]:this[_0x673ce3(0x7d0)]['set'](_0x408091['getLabel'](),_0x408091);break;case _0x4aea4d['ContentType'][_0x673ce3(0x563)]:this[_0x673ce3(0x621)][_0x673ce3(0x323)](_0x408091['getLabel'](),_0x408091);}}['unregisterPublisher'](_0x3c3be8){const _0xbb91e7=_0x11ce6;switch(_0x3c3be8[_0xbb91e7(0x503)]()){case _0x4aea4d['ContentType'][_0xbb91e7(0x2d1)]:case _0x4aea4d[_0xbb91e7(0x43d)][_0xbb91e7(0x267)]:case _0x4aea4d[_0xbb91e7(0x43d)][_0xbb91e7(0x968)]:case _0x4aea4d[_0xbb91e7(0x43d)][_0xbb91e7(0x45f)]:case _0x4aea4d[_0xbb91e7(0x43d)][_0xbb91e7(0xa09)]:case _0x4aea4d[_0xbb91e7(0x43d)][_0xbb91e7(0x9d3)]:case _0x4aea4d[_0xbb91e7(0x43d)][_0xbb91e7(0x2b8)]:case _0x4aea4d[_0xbb91e7(0x43d)][_0xbb91e7(0x72b)]:this['dataTopics'][_0xbb91e7(0x3a9)](_0x3c3be8['getLabel']());break;case _0x4aea4d[_0xbb91e7(0x43d)]['Media']:this[_0xbb91e7(0x621)][_0xbb91e7(0x3a9)](_0x3c3be8[_0xbb91e7(0x555)]());}}[_0x11ce6(0x928)](_0x294186){const _0x1d993b=_0x11ce6;switch(_0x294186['getContentType']()){case _0x4aea4d[_0x1d993b(0x43d)][_0x1d993b(0x2d1)]:case _0x4aea4d[_0x1d993b(0x43d)][_0x1d993b(0x267)]:case _0x4aea4d[_0x1d993b(0x43d)][_0x1d993b(0x968)]:case _0x4aea4d[_0x1d993b(0x43d)]['KeyValueDatabase']:case _0x4aea4d[_0x1d993b(0x43d)]['Job']:case _0x4aea4d[_0x1d993b(0x43d)][_0x1d993b(0x9d3)]:case _0x4aea4d[_0x1d993b(0x43d)]['GraphDatabase']:case _0x4aea4d[_0x1d993b(0x43d)][_0x1d993b(0x72b)]:{const _0x1c8f8e=_0x294186[_0x1d993b(0x85a)](_0x4f7cb6=>{const _0x20148e=_0x1d993b;_0x3bc6c4(_0x4f7cb6,this[_0x20148e(0x950)]())&&_0x355ac7(_0x4f7cb6,this[_0x20148e(0x682)])&&this[_0x20148e(0x41d)](_0x4f7cb6);});this['dataUnsubscribers'][_0x1d993b(0x323)](_0x294186[_0x1d993b(0x555)](),_0x1c8f8e);break;}case _0x4aea4d[_0x1d993b(0x43d)]['Media']:{const _0x1c4bff=_0x294186[_0x1d993b(0x85a)](({content:_0x2e9a6d})=>{const _0xec5669=_0x1d993b;switch(_0x2e9a6d[_0xec5669(0x28d)]){case _0x5208cb[_0xec5669(0xa15)]:this[_0xec5669(0x4c0)](_0x2e9a6d[_0xec5669(0x843)],_0x2e9a6d[_0xec5669(0x855)],_0x2e9a6d[_0xec5669(0xca)],_0x2e9a6d[_0xec5669(0x479)]);break;case _0x5208cb['Remove']:this[_0xec5669(0x80d)](_0x2e9a6d['track'],_0x2e9a6d['stream']);break;case _0x5208cb[_0xec5669(0x976)]:_0x2e9a6d[_0xec5669(0xca)]&&this[_0xec5669(0x91e)](_0x2e9a6d['stream'],_0x2e9a6d[_0xec5669(0xca)]),_0x2e9a6d[_0xec5669(0x479)]&&this[_0xec5669(0x193)](_0x2e9a6d[_0xec5669(0x855)],_0x2e9a6d['params']);}});this[_0x1d993b(0x3ff)][_0x1d993b(0x323)](_0x294186[_0x1d993b(0x555)](),_0x1c4bff);break;}}}[_0x11ce6(0x4bd)](_0x3bd481){const _0xce4d94=_0x11ce6;switch(_0x3bd481[_0xce4d94(0x503)]()){case _0x4aea4d[_0xce4d94(0x43d)][_0xce4d94(0x2d1)]:case _0x4aea4d[_0xce4d94(0x43d)]['PubSub']:case _0x4aea4d[_0xce4d94(0x43d)]['ObjectStore']:case _0x4aea4d[_0xce4d94(0x43d)][_0xce4d94(0x45f)]:case _0x4aea4d[_0xce4d94(0x43d)][_0xce4d94(0xa09)]:case _0x4aea4d[_0xce4d94(0x43d)][_0xce4d94(0x9d3)]:case _0x4aea4d['ContentType'][_0xce4d94(0x2b8)]:case _0x4aea4d[_0xce4d94(0x43d)][_0xce4d94(0x72b)]:this['dataUnsubscribers']['get'](_0x3bd481[_0xce4d94(0x555)]())?.(),this[_0xce4d94(0x72d)]['delete'](_0x3bd481[_0xce4d94(0x555)]());break;case _0x4aea4d['ContentType'][_0xce4d94(0x563)]:this['mediaUnsubscribers'][_0xce4d94(0x3f2)](_0x3bd481[_0xce4d94(0x555)]())?.(),this[_0xce4d94(0x3ff)][_0xce4d94(0x3a9)](_0x3bd481[_0xce4d94(0x555)]());}}[_0x11ce6(0x6bd)](){const _0x7ad0bd=_0x11ce6;return[_0x4aea4d[_0x7ad0bd(0x43d)]['Data'],_0x4aea4d['ContentType'][_0x7ad0bd(0x563)],_0x4aea4d[_0x7ad0bd(0x43d)][_0x7ad0bd(0x267)],_0x4aea4d['ContentType'][_0x7ad0bd(0x968)],_0x4aea4d[_0x7ad0bd(0x43d)][_0x7ad0bd(0x45f)],_0x4aea4d['ContentType'][_0x7ad0bd(0xa09)],_0x4aea4d['ContentType'][_0x7ad0bd(0x9d3)],_0x4aea4d['ContentType'][_0x7ad0bd(0x2b8)],_0x4aea4d[_0x7ad0bd(0x43d)][_0x7ad0bd(0x72b)]];}['registerSystemPublisher'](_0x547eea){this['systemTopic']=_0x547eea;}[_0x11ce6(0x5c1)](){const _0x562edf=_0x11ce6;delete this[_0x562edf(0x1ad)];}async['connect'](){this['setupListeners'](),await this['createOffer']();}[_0x11ce6(0x17e)](){const _0x40972b=_0x11ce6;this[_0x40972b(0x1a2)][_0x40972b(0x7a1)](_0x3f0e78=>_0x3f0e78()),this['listenerUnsubscribers']=[],this['senderConnection']?.['unregisterSystemPublisher'](),this['senderConnection']?.[_0x40972b(0x17e)](),delete this[_0x40972b(0x66c)],this[_0x40972b(0x37e)][_0x40972b(0x7a1)](_0x4536d5=>_0x4536d5()),this['receiverUnsubscribers']=[],this['receiverConnection']?.[_0x40972b(0x5c1)](),this[_0x40972b(0x38a)]?.[_0x40972b(0x17e)](),delete this['receiverConnection'];}[_0x11ce6(0x818)](){const _0x4ef871=_0x11ce6;return this[_0x4ef871(0x66c)]?.[_0x4ef871(0x818)]()&&this[_0x4ef871(0x38a)]?.['isConnected']()||!0x1;}[_0x11ce6(0x41d)](_0x232b6b){const _0x4917e6=_0x11ce6;if(!this['senderConnection']||!this[_0x4917e6(0x818)]())throw new _0x490cf1(_0x490cf1[_0x4917e6(0x9fb)][_0x4917e6(0x362)],{'message':_0x4917e6(0x13e),'senderConnected':this[_0x4917e6(0x66c)]?.[_0x4917e6(0x818)](),'receiverConnected':this[_0x4917e6(0x38a)]?.[_0x4917e6(0x818)](),'localId':this[_0x4917e6(0x950)](),'remoteId':this[_0x4917e6(0x682)],'data':_0x232b6b});this[_0x4917e6(0x66c)][_0x4917e6(0x41d)](_0x232b6b);}[_0x11ce6(0xc1)](_0x20a30a){const _0x15448a=_0x11ce6;return this[_0x15448a(0x6fe)][_0x15448a(0x85a)](_0x20a30a);}['onTrack'](_0x415fdd){const _0xa3cc92=_0x11ce6;return this[_0xa3cc92(0x63d)][_0xa3cc92(0x85a)](({track:_0x2ce0f4,stream:_0x36ba3d})=>_0x415fdd(_0x2ce0f4,_0x36ba3d));}[_0x11ce6(0x9a4)](_0x9dc694){const _0x2c7017=_0x11ce6;return this[_0x2c7017(0x8d8)][_0x2c7017(0x85a)](({track:_0x488b82,stream:_0x3a9c06})=>_0x9dc694(_0x488b82,_0x3a9c06));}['addTrack'](_0x1b89e1,_0xae3bf4,_0x1e32da,_0x367e0c){const _0x1027ab=_0x11ce6;this[_0x1027ab(0x66c)]?.[_0x1027ab(0x4c0)](_0x1b89e1,_0xae3bf4,_0x1e32da,_0x367e0c);}[_0x11ce6(0x91e)](_0x24f82b,_0x117279){const _0x153598=_0x11ce6;this[_0x153598(0x66c)]?.[_0x153598(0x91e)](_0x24f82b,_0x117279);}[_0x11ce6(0x193)](_0x97a8ca,_0x287ee6){const _0x2eea88=_0x11ce6;this[_0x2eea88(0x66c)]?.['setParams'](_0x97a8ca,_0x287ee6);}['removeTrack'](_0xfa1776,_0x327e5c){const _0x2d3102=_0x11ce6;this['senderConnection']?.[_0x2d3102(0x80d)](_0xfa1776,_0x327e5c);}async[_0x11ce6(0x7ed)](_0x710a12){const _0x5c60f0=_0x11ce6;_0x5c02ff[_0x5c60f0(0x65b)](_0x1e4869['Connection'],_0x5c60f0(0x29d),this[_0x5c60f0(0x950)](),_0x710a12);const {content:_0x59f576}=_0x710a12;switch(_0x59f576[_0x5c60f0(0x789)]){case _0x1ed9f1[_0x5c60f0(0x606)]:await this[_0x5c60f0(0x371)](_0x59f576);break;case _0x1ed9f1[_0x5c60f0(0x256)]:await this[_0x5c60f0(0x13a)](_0x59f576);break;case _0x1ed9f1[_0x5c60f0(0x88a)]:this[_0x5c60f0(0x48b)]();break;case _0x1ed9f1[_0x5c60f0(0x7e0)]:await this[_0x5c60f0(0x878)](_0x59f576);break;case _0x1ed9f1[_0x5c60f0(0x4eb)]:this[_0x5c60f0(0x4a1)](_0x59f576);break;case _0x1ed9f1[_0x5c60f0(0x2ff)]:await this[_0x5c60f0(0x1f9)]();}}[_0x11ce6(0x94e)](_0x473147){const _0x3a6a47=_0x11ce6;this[_0x3a6a47(0x66c)]?.[_0x3a6a47(0x677)](_0x473147[_0x3a6a47(0x1c4)][_0x3a6a47(0x4ff)]);}[_0x11ce6(0x9d5)](){const _0x171bce=_0x11ce6;return this[_0x171bce(0x18a)];}[_0x11ce6(0x97e)](_0x5ae02a){const _0x1bfc59=_0x11ce6;this[_0x1bfc59(0x18a)]=_0x5ae02a,this['senderConnection']?.['setConnectionType'](_0x5ae02a),this[_0x1bfc59(0x38a)]?.[_0x1bfc59(0x97e)](_0x5ae02a);}async[_0x11ce6(0x910)](){const _0xe215ae=_0x11ce6;await this['senderConnection']?.[_0xe215ae(0x910)](),await this['receiverConnection']?.['collectStats']();}[_0x11ce6(0x1d0)](){const _0x4b7b04=_0x11ce6;return this[_0x4b7b04(0x66c)]?.[_0x4b7b04(0x1d0)]()??0x0;}[_0x11ce6(0xa05)](){const _0x230a88=_0x11ce6;return this[_0x230a88(0x66c)]?.['getBufferedAmount']()??0x0;}[_0x11ce6(0x523)](){const _0x5bf3fe=_0x11ce6;this[_0x5bf3fe(0x1a2)][_0x5bf3fe(0x7bc)](this[_0x5bf3fe(0xc1)](_0x436cc4=>{const _0x71cc86=_0x5bf3fe;_0x355ac7(_0x436cc4,this['getLocalId']())&&0x0!==_0x436cc4[_0x71cc86(0x624)]&&this[_0x71cc86(0x7d0)][_0x71cc86(0x3f2)](_0x436cc4[_0x71cc86(0x624)])?.[_0x71cc86(0xfa)](_0x436cc4);})),this[_0x5bf3fe(0x1a2)][_0x5bf3fe(0x7bc)](this[_0x5bf3fe(0x81f)]((_0xd198db,_0xc31c59)=>{const _0x854c2b=_0x5bf3fe,_0x5a6e39=_0x246ede(_0x4aea4d['ContentType'][_0x854c2b(0x563)],_0xc31c59['id'],this[_0x854c2b(0x682)]);this['mediaTopics']['get'](_0x5a6e39)?.[_0x854c2b(0xfa)]({'topicLabel':_0x5a6e39,'sourceId':this[_0x854c2b(0x682)],'contentType':_0x4aea4d[_0x854c2b(0x43d)]['Media'],'content':{'action':_0x5208cb[_0x854c2b(0x921)],'track':_0xd198db,'stream':_0xc31c59,'providerId':this[_0x854c2b(0x682)]}});})),this['listenerUnsubscribers'][_0x5bf3fe(0x7bc)](this[_0x5bf3fe(0x9a4)]((_0x2ecf85,_0x302e39)=>{const _0x24af1d=_0x5bf3fe,_0x5190bc=_0x246ede(_0x4aea4d['ContentType'][_0x24af1d(0x563)],_0x302e39['id'],this[_0x24af1d(0x682)]);this[_0x24af1d(0x621)][_0x24af1d(0x3f2)](_0x5190bc)?.[_0x24af1d(0xfa)]({'topicLabel':_0x5190bc,'sourceId':this[_0x24af1d(0x682)],'contentType':_0x4aea4d['ContentType']['Media'],'content':{'action':_0x5208cb[_0x24af1d(0x3c6)],'track':_0x2ecf85,'stream':_0x302e39,'providerId':this[_0x24af1d(0x682)]}});}));}['handleIceCandidates']({candidates:_0x2ec780,origin:_0x29a57d,version:_0x3ed79b}){const _0x45502a=_0x11ce6;return _0x29a57d===_0x3792ca[_0x45502a(0x32e)]?(this[_0x45502a(0x38a)]||this[_0x45502a(0x276)](),this[_0x45502a(0x38a)]['handleHandshake'](_0x2ec780,_0x3ed79b)):this[_0x45502a(0x66c)][_0x45502a(0x795)](_0x2ec780,_0x3ed79b);}async[_0x11ce6(0x1f9)](){const _0x5cb4d5=_0x11ce6;this['senderConnection']||this[_0x5cb4d5(0xa04)](),await this[_0x5cb4d5(0x66c)][_0x5cb4d5(0x1f9)]();}async['handleOffer']({offer:_0x50d4da,version:_0x4cd6c1}){const _0x56a634=_0x11ce6;this['receiverConnection']||this[_0x56a634(0x276)](),await this[_0x56a634(0x38a)]['handleOffer'](_0x50d4da,_0x4cd6c1);}async[_0x11ce6(0x13a)]({answer:_0x241f8e,version:_0x413abe}){const _0x1784e4=_0x11ce6;if(!this[_0x1784e4(0x66c)])throw new _0x490cf1(_0x490cf1[_0x1784e4(0x9fb)][_0x1784e4(0x362)],{'message':_0x1784e4(0x863),'localId':this[_0x1784e4(0x950)](),'remoteId':this[_0x1784e4(0x682)],'answer':_0x241f8e});await this[_0x1784e4(0x66c)][_0x1784e4(0x13a)](_0x241f8e,_0x413abe);}[_0x11ce6(0x48b)](){const _0x49c337=_0x11ce6;if(!this['receiverConnection'])throw new _0x490cf1(_0x490cf1[_0x49c337(0x9fb)][_0x49c337(0x362)],{'message':_0x49c337(0x6bf),'localId':this[_0x49c337(0x950)](),'remoteId':this[_0x49c337(0x682)]});this[_0x49c337(0x38a)][_0x49c337(0x48b)](),this[_0x49c337(0x12f)]||this[_0x49c337(0x18a)]!==_0x49ddb9[_0x49c337(0x782)]||(this[_0x49c337(0x12f)]=!0x0,this[_0x49c337(0x1ad)]?.[_0x49c337(0xfa)]({'sourceId':this[_0x49c337(0x682)],'destinationIds':[this[_0x49c337(0x950)]()],'messageType':_0x48fa30['PeerConnection'],'content':{'type':_0x1ed9f1[_0x49c337(0x7cf)]}}));}[_0x11ce6(0x4a1)](_0x135340){const _0xf4c48a=_0x11ce6;this[_0xf4c48a(0x38a)]||this[_0xf4c48a(0x276)](),this[_0xf4c48a(0x38a)][_0xf4c48a(0x4a1)](_0x135340[_0xf4c48a(0x5c2)]);}[_0x11ce6(0xa04)](){const _0x2d188f=_0x11ce6;this[_0x2d188f(0x66c)]=new _0x1b9819(this['clusterId'],this[_0x2d188f(0xd3)],this[_0x2d188f(0x682)],this[_0x2d188f(0xf3)],this[_0x2d188f(0x18a)],this['maxFps'],this[_0x2d188f(0x2eb)],this[_0x2d188f(0x5b8)]),this[_0x2d188f(0x66c)][_0x2d188f(0xcc)](this[_0x2d188f(0x1ad)]);}[_0x11ce6(0x276)](){const _0x154fad=_0x11ce6;this[_0x154fad(0x38a)]=new _0xdcb343(this[_0x154fad(0xa18)],this[_0x154fad(0xd3)],this[_0x154fad(0x682)],this[_0x154fad(0xf3)],this[_0x154fad(0x18a)],this[_0x154fad(0x5b8)]),this['receiverConnection'][_0x154fad(0xcc)](this['systemTopic']),this[_0x154fad(0x37e)][_0x154fad(0x7bc)](this[_0x154fad(0x38a)][_0x154fad(0xc1)](_0x177c19=>this['messageListeners'][_0x154fad(0xfa)](_0x177c19))),this[_0x154fad(0x37e)][_0x154fad(0x7bc)](this[_0x154fad(0x38a)][_0x154fad(0x81f)]((_0x4ede76,_0x5edacb)=>this[_0x154fad(0x63d)][_0x154fad(0xfa)]({'track':_0x4ede76,'stream':_0x5edacb}))),this[_0x154fad(0x37e)][_0x154fad(0x7bc)](this[_0x154fad(0x38a)][_0x154fad(0x9a4)]((_0x4aa735,_0x588411)=>this['removeTrackListeners'][_0x154fad(0xfa)]({'track':_0x4aa735,'stream':_0x588411})));}}class _0x280ac4{[_0x11ce6(0x4d8)];[_0x11ce6(0x330)];['graphService'];[_0x11ce6(0x4c1)]=new Map();[_0x11ce6(0x6fe)]=_0x4332ba();['messageUnsubscriber'];[_0x11ce6(0x7d0)]=new Map();[_0x11ce6(0x72d)]=new Map();[_0x11ce6(0x70b)]=new Map();constructor(_0x435faf,_0x4ba33a,_0x4790ca){const _0x4be44f=_0x11ce6;this[_0x4be44f(0x4d8)]=_0x435faf,this[_0x4be44f(0x330)]=_0x4ba33a,this[_0x4be44f(0x59f)]=_0x4790ca,this['messageUnsubscriber']=this[_0x4be44f(0xc1)](_0x252293=>{const _0x93ab93=_0x4be44f;this['messageBuffer']['hasMessage'](_0x252293[_0x93ab93(0x1ee)])||(_0x355ac7(_0x252293,this[_0x93ab93(0x4d8)])&&0x0!==_0x252293[_0x93ab93(0x624)]&&(this[_0x93ab93(0x330)][_0x93ab93(0x1f6)](_0x252293[_0x93ab93(0x1ee)]),this[_0x93ab93(0x7d0)][_0x93ab93(0x3f2)](_0x252293[_0x93ab93(0x624)])?.['publish'](_0x252293)),_0x252293[_0x93ab93(0x1e6)]&&this['send'](_0x252293));});}[_0x11ce6(0x17e)](){const _0x300891=_0x11ce6;this[_0x300891(0x1a0)]?.();}['addConnection'](_0x137300){const _0x46dc45=_0x11ce6,_0x40dce9=_0x137300[_0x46dc45(0xc1)](_0x20b55b=>{const _0x224dfe=_0x46dc45;this[_0x224dfe(0x6fe)][_0x224dfe(0xfa)](_0x20b55b);});this[_0x46dc45(0x4c1)][_0x46dc45(0x323)](_0x137300,_0x40dce9),this[_0x46dc45(0x70b)][_0x46dc45(0x323)](_0x137300[_0x46dc45(0x24e)](),function(_0x22e088,_0x11f675=!0x1){let _0x45d539=new Map();const _0x18a46e=_0xcb4706(_0x22e088,_0x11f675,function(_0x86cdbf){const _0x2fa35b=a0_0x5c6e;_0x578717(_0x86cdbf)&&_0x45d539[_0x2fa35b(0x3a9)](_0x86cdbf[_0x2fa35b(0x112)]+'-'+(_0x86cdbf['destinationIds']??[])+'-'+_0x86cdbf[_0x2fa35b(0x32c)]+'-'+_0x86cdbf[_0x2fa35b(0x1c4)][_0x2fa35b(0x789)]);},function(_0x46c00a){return!!function(_0x3c86df){const _0x365b55=a0_0x5c6e,_0x54fcd0=_0x3c86df[_0x365b55(0x844)];if(!_0x578717(_0x54fcd0))return!0x1;const _0x217d24=_0x54fcd0['sourceId']+'-'+(_0x54fcd0['destinationIds']??[])+'-'+_0x54fcd0[_0x365b55(0x32c)]+'-'+_0x54fcd0[_0x365b55(0x1c4)][_0x365b55(0x789)],_0x44719e={'version':_0x54fcd0['content'][_0x365b55(0x5c2)],'element':_0x3c86df},_0x45b555=_0x45d539['get'](_0x217d24);return _0x45b555?(_0x45b555[_0x365b55(0x5c2)]>=_0x54fcd0[_0x365b55(0x1c4)][_0x365b55(0x5c2)]||(_0x45b555[_0x365b55(0x4b5)][_0x365b55(0x2e9)]&&(_0x45b555[_0x365b55(0x4b5)][_0x365b55(0x2e9)][_0x365b55(0x14d)]=_0x3c86df,_0x3c86df['previous']=_0x45b555['element'][_0x365b55(0x2e9)]),_0x45b555[_0x365b55(0x4b5)][_0x365b55(0x14d)]&&(_0x45b555['element']['next'][_0x365b55(0x2e9)]=_0x3c86df,_0x3c86df[_0x365b55(0x14d)]=_0x45b555[_0x365b55(0x4b5)][_0x365b55(0x14d)]),_0x45b555[_0x365b55(0x4b5)]===_0x18a46e['head']&&(_0x18a46e['head']=_0x3c86df),_0x45b555[_0x365b55(0x4b5)]===_0x18a46e[_0x365b55(0x96c)]&&(_0x18a46e['tail']=_0x3c86df),_0x45d539[_0x365b55(0x323)](_0x217d24,_0x44719e)),!0x0):(_0x45d539[_0x365b55(0x323)](_0x217d24,_0x44719e),!0x1);}(_0x46c00a);},function(){const _0x46261a=a0_0x5c6e;_0x45d539[_0x46261a(0x918)]();});function _0x578717(_0x3bb262){const _0x209d2f=a0_0x5c6e;if(_0x3bb262&&_0x209d2f(0x56e)==typeof _0x3bb262&&_0x3bb262[_0x209d2f(0x63e)]('content')&&_0x3bb262[_0x209d2f(0x63e)](_0x209d2f(0x32c))&&_0x3bb262['hasOwnProperty'](_0x209d2f(0x112))){const _0x5e527b=_0x3bb262;if(_0x5e527b[_0x209d2f(0x1c4)]&&_0x209d2f(0x56e)==typeof _0x5e527b['content']&&_0x5e527b[_0x209d2f(0x1c4)][_0x209d2f(0x63e)]('version')&&_0x5e527b[_0x209d2f(0x1c4)]['hasOwnProperty']('type'))return!0x0;}return!0x1;}return _0x18a46e;}(new _0x3eaa58(_0x217743=>_0x137300[_0x46dc45(0x41d)](_0x217743),()=>_0x508bd4[_0x46dc45(0x573)](0x64))));}[_0x11ce6(0x762)](_0x1e3d5d){const _0x5b1390=_0x11ce6;this[_0x5b1390(0x4c1)][_0x5b1390(0x3f2)](_0x1e3d5d)?.(),this[_0x5b1390(0x4c1)][_0x5b1390(0x3a9)](_0x1e3d5d),this['retryQueues'][_0x5b1390(0x3f2)](_0x1e3d5d[_0x5b1390(0x24e)]())?.[_0x5b1390(0x918)](),this[_0x5b1390(0x70b)]['delete'](_0x1e3d5d[_0x5b1390(0x24e)]());}[_0x11ce6(0x818)](_0xb42075){const _0x22a637=_0x11ce6;return _0x5c02ff[_0x22a637(0x65b)](_0x1e4869['ConnectionState'],_0x22a637(0x9c2),this[_0x22a637(0x4d8)],this[_0x22a637(0x4c1)]['keys']()),0x0!==this[_0x22a637(0x4c1)]['size']&&(Array[_0x22a637(0x462)](this[_0x22a637(0x4c1)][_0x22a637(0x8ae)]())[_0x22a637(0x957)](_0x31757f=>_0x31757f[_0x22a637(0x24e)]()===_0xb42075)?.[_0x22a637(0x818)]()??!0x1);}[_0x11ce6(0x1b4)](_0x17ed80){const _0x271618=_0x11ce6;this['dataTopics'][_0x271618(0x323)](_0x17ed80[_0x271618(0x555)](),_0x17ed80);}[_0x11ce6(0x6f9)](_0x4265fb){const _0x1444a1=_0x11ce6;this[_0x1444a1(0x7d0)][_0x1444a1(0x3a9)](_0x4265fb['getLabel']());}[_0x11ce6(0x928)](_0x4f1267){const _0x32abb0=_0x11ce6,_0xf17080=_0x4f1267[_0x32abb0(0x85a)](this[_0x32abb0(0x41d)][_0x32abb0(0x23a)](this));this[_0x32abb0(0x72d)][_0x32abb0(0x323)](_0x4f1267[_0x32abb0(0x555)](),_0xf17080);}[_0x11ce6(0x4bd)](_0xe7d868){const _0x40971e=_0x11ce6;this[_0x40971e(0x72d)][_0x40971e(0x3f2)](_0xe7d868['getLabel']())?.(),this[_0x40971e(0x72d)][_0x40971e(0x3a9)](_0xe7d868['getLabel']());}[_0x11ce6(0x6bd)](){const _0x2ac878=_0x11ce6;return[_0x4aea4d['ContentType'][_0x2ac878(0x2d1)],_0x4aea4d[_0x2ac878(0x43d)][_0x2ac878(0x267)],_0x4aea4d['ContentType'][_0x2ac878(0x968)],_0x4aea4d[_0x2ac878(0x43d)]['KeyValueDatabase'],_0x4aea4d['ContentType'][_0x2ac878(0xa09)],_0x4aea4d[_0x2ac878(0x43d)][_0x2ac878(0x9d3)],_0x4aea4d[_0x2ac878(0x43d)][_0x2ac878(0x2b8)],_0x4aea4d[_0x2ac878(0x43d)][_0x2ac878(0x72b)]];}[_0x11ce6(0x41d)](_0x4bf82b){const _0x103f7e=_0x11ce6;if(!0x1===_0x4bf82b[_0x103f7e(0x4e5)]){if(_0x4bf82b['propagate']||!_0x4bf82b[_0x103f7e(0x517)]||0x1!==_0x4bf82b[_0x103f7e(0x517)][_0x103f7e(0x7ad)])throw new _0x490cf1(_0x490cf1[_0x103f7e(0x9fb)][_0x103f7e(0x477)],{'message':_0x103f7e(0x32b),'localId':this[_0x103f7e(0x4d8)]});if(!this[_0x103f7e(0x818)](_0x4bf82b['destinationIds'][0x0]))throw new _0x56672e(_0x103f7e(0x20b));}const _0x45ed29=_0x4bf82b[_0x103f7e(0xe4)]??[];try{const {filteredDestinationIds:_0x4c6240,extendedRecipients:_0xb1defa}=this[_0x103f7e(0x759)](_0x4bf82b,_0x45ed29);_0x4bf82b['destinationIds']=_0x4c6240,_0x4bf82b[_0x103f7e(0xe4)]=_0xb1defa;}catch(_0x207f59){if(_0x207f59 instanceof _0x56672e)return void _0x5c02ff[_0x103f7e(0x65b)](_0x1e4869[_0x103f7e(0x3d5)],_0x103f7e(0x5b0),_0x103f7e(0x26d),_0x4bf82b,_0x207f59[_0x103f7e(0x686)]);}const _0x395719=this[_0x103f7e(0x47d)](_0x4bf82b);this[_0x103f7e(0x7f7)](_0x4bf82b,_0x395719),_0x4bf82b['propagate']=_0x395719;const _0x31631b=this[_0x103f7e(0x49d)](_0x4bf82b,_0x45ed29);for(const _0x2c309d of _0x31631b){const _0x2bb5b0=this[_0x103f7e(0x70b)][_0x103f7e(0x3f2)](_0x2c309d[_0x103f7e(0x24e)]());if(!_0x2bb5b0)throw new _0x490cf1(_0x490cf1['codes'][_0x103f7e(0x720)],{'message':_0x103f7e(0x568),'localId':this[_0x103f7e(0x4d8)],'remoteId':_0x2c309d[_0x103f7e(0x24e)](),'data':_0x4bf82b});_0x2bb5b0[_0x103f7e(0x7bc)](_0x4bf82b);}}[_0x11ce6(0x24e)](){return'';}[_0x11ce6(0x950)](){const _0x576813=_0x11ce6;return this[_0x576813(0x4d8)];}[_0x11ce6(0xc1)](_0x8bb2e3){const _0x21c1e3=_0x11ce6;return this[_0x21c1e3(0x6fe)][_0x21c1e3(0x85a)](_0x8bb2e3);}[_0x11ce6(0x759)](_0x16dfda,_0x170388){const _0xcfe0a6=_0x11ce6,_0x23290d={'filteredDestinationIds':_0x16dfda[_0xcfe0a6(0x517)],'extendedRecipients':_0x16dfda[_0xcfe0a6(0xe4)]};if(!_0x16dfda[_0xcfe0a6(0x1e6)])return _0x23290d;const _0x345c6d=Array['from'](this[_0xcfe0a6(0x4c1)][_0xcfe0a6(0x8ae)]())[_0xcfe0a6(0x80e)](_0x3f9a58=>_0x3f9a58[_0xcfe0a6(0x9d5)]()===_0x49ddb9[_0xcfe0a6(0x199)]||_0x3f9a58[_0xcfe0a6(0x818)]())[_0xcfe0a6(0x99c)](_0x417ffd=>_0x417ffd[_0xcfe0a6(0x24e)]());if(_0x345c6d[_0xcfe0a6(0x484)]((_0xa23b60,_0x13fbad)=>_0xa23b60&&_0x16dfda[_0xcfe0a6(0xe4)]['includes'](_0x13fbad),!0x0))throw new _0x56672e('All\x20recipients\x20already\x20received');if(_0x16dfda[_0xcfe0a6(0x517)]){const _0x2f9696=_0x16dfda['destinationIds'][_0xcfe0a6(0x80e)](_0x138043=>_0x138043!==this['localId']&&!_0x16dfda[_0xcfe0a6(0xe4)][_0xcfe0a6(0x2a1)](_0x138043));if(0x0===_0x2f9696[_0xcfe0a6(0x7ad)])throw new _0x56672e('No\x20destinationIds\x20left');_0x23290d[_0xcfe0a6(0x2bb)]=_0x2f9696;}return _0x23290d['extendedRecipients']=[...new Set([..._0x170388,..._0x345c6d,this[_0xcfe0a6(0x4d8)]])],_0x23290d;}[_0x11ce6(0x7f7)](_0x4ad8c9,_0x1f0371=!0x1){const _0x52317f=_0x11ce6;if(0x0===_0x4ad8c9[_0x52317f(0x624)]&&!_0x3bc6c4(_0x4ad8c9,this[_0x52317f(0x4d8)])&&_0x4ad8c9['propagate']){const _0x32645b=_0x31728e(_0x4ad8c9,this[_0x52317f(0x4d8)]);_0x5c02ff[_0x52317f(0x51e)](_0x1e4869[_0x52317f(0x18e)],_0x4ad8c9[_0x52317f(0x1ee)]+_0x52317f(0x1eb)+_0x1f0371+')\x20'+_0x32645b,_0x4ad8c9,_0x1f0371);}}['shouldContinuePropagation'](_0x5e21cf){const _0x3358db=_0x11ce6;if(_0x5e21cf[_0x3358db(0x517)]&&_0x5e21cf[_0x3358db(0x1e6)]){const _0x456fc3=Array['from'](this['connections']['keys']())['filter'](_0x1612e9=>_0x1612e9['getConnectionType']()===_0x49ddb9[_0x3358db(0x199)]||_0x1612e9[_0x3358db(0x818)]())[_0x3358db(0x99c)](_0x5aed61=>_0x5aed61[_0x3358db(0x24e)]());return!_0x5e21cf['destinationIds'][_0x3358db(0x484)]((_0x5f9838,_0x269650)=>_0x5f9838&&_0x456fc3[_0x3358db(0x2a1)](_0x269650),!0x0);}return _0x5e21cf[_0x3358db(0x1e6)]??!0x1;}['getConnectionDestinations'](_0x5dc244,_0x5af927){const _0x5d6b5b=_0x11ce6;if(_0x5dc244[_0x5d6b5b(0x1e6)]&&_0x5dc244[_0x5d6b5b(0x517)]){const _0x7bf2c9=Array['from'](this[_0x5d6b5b(0x4c1)][_0x5d6b5b(0x8ae)]())[_0x5d6b5b(0x80e)](_0x396fc5=>_0x396fc5[_0x5d6b5b(0x9d5)]()===_0x49ddb9['Core']||_0x396fc5[_0x5d6b5b(0x818)]())[_0x5d6b5b(0x99c)](_0xece868=>_0xece868[_0x5d6b5b(0x24e)]()),_0xedad98=new Set(),_0x41bcfa=_0x5dc244[_0x5d6b5b(0x112)]===this[_0x5d6b5b(0x4d8)]?0x3:0x1;return _0x5dc244[_0x5d6b5b(0x517)][_0x5d6b5b(0x7a1)](_0x101e0a=>{const _0x481e0f=_0x5d6b5b,_0x1dfb5e=this[_0x481e0f(0x59f)][_0x481e0f(0x81a)](_0x7bf2c9,_0x101e0a);let _0x42c4f9=0x0,_0x56fbd6=0x0;_0x1dfb5e['forEach'](_0x24928a=>{const _0x3d0f98=_0x481e0f;if(_0x42c4f9>=_0x41bcfa)return;const _0xe07f17=Array[_0x3d0f98(0x462)](this[_0x3d0f98(0x4c1)]['keys']())[_0x3d0f98(0x957)](_0x4a3c61=>_0x4a3c61[_0x3d0f98(0x24e)]()===_0x24928a);if(_0xe07f17){if(_0xe07f17['getConnectionType']()===_0x49ddb9[_0x3d0f98(0x199)]&&_0x56fbd6>0x0)return void(_0x56fbd6-=0x1);_0xedad98[_0x3d0f98(0x5c9)](_0xe07f17),_0xe07f17[_0x3d0f98(0x9d5)]()===_0x49ddb9[_0x3d0f98(0x782)]&&(_0x56fbd6+=0x1),_0x42c4f9+=0x1;}});}),Array[_0x5d6b5b(0x462)](_0xedad98);}return Array[_0x5d6b5b(0x462)](this[_0x5d6b5b(0x4c1)][_0x5d6b5b(0x8ae)]())[_0x5d6b5b(0x80e)](_0x404a6e=>{const _0x46920c=_0x5d6b5b;return _0x4c76f2=_0x404a6e[_0x46920c(0x24e)](),!_0x5af927[_0x46920c(0x2a1)](_0x4c76f2)&&(_0x355ac7(_0x5dc244,_0x4c76f2)||_0x5dc244[_0x46920c(0x1e6)])&&(!_0x5dc244[_0x46920c(0x1e6)]||_0x404a6e[_0x46920c(0x818)]()||_0x404a6e['getConnectionType']()===_0x49ddb9['Core']);var _0x4c76f2;});}}class _0x39a893{[_0x11ce6(0x4d8)];[_0x11ce6(0x330)];[_0x11ce6(0x4c1)]=new Map();['systemTopic'];constructor(_0x329e0d,_0x5c4a8e){const _0xd5c486=_0x11ce6;this['localId']=_0x329e0d,this[_0xd5c486(0x330)]=_0x5c4a8e;}['close'](){}[_0x11ce6(0x41d)](_0x3b4019){const _0x2f3f68=_0x11ce6;for(const _0x29533e of this[_0x2f3f68(0x4c1)][_0x2f3f68(0x8ae)]())try{return void _0x29533e[_0x2f3f68(0x41d)]({'retry':!0x1,..._0x3b4019});}catch(_0xc1e784){_0xc1e784 instanceof _0x56672e||_0x5c02ff[_0x2f3f68(0x65b)](_0x1e4869[_0x2f3f68(0x2b4)],_0x2f3f68(0x339)+_0x29533e,_0xc1e784,_0x3b4019);}_0x5c02ff[_0x2f3f68(0x65b)](_0x1e4869['Pool'],_0x2f3f68(0x3bf));}[_0x11ce6(0x4b3)](_0x490e26){const _0xfeeb70=_0x11ce6,_0x3aa6e0=_0x490e26[_0xfeeb70(0xc1)](_0x2f162d=>{const _0x3fdf53=_0xfeeb70;this[_0x3fdf53(0x330)][_0x3fdf53(0x6bb)](_0x2f162d[_0x3fdf53(0x1ee)])||0x0===_0x2f162d[_0x3fdf53(0x624)]&&(this[_0x3fdf53(0x330)][_0x3fdf53(0x1f6)](_0x2f162d['uuid']),_0x355ac7(_0x2f162d,this[_0x3fdf53(0x4d8)])&&this[_0x3fdf53(0x1ad)]?.[_0x3fdf53(0xfa)](_0x2f162d));});this[_0xfeeb70(0x4c1)][_0xfeeb70(0x323)](_0x490e26,_0x3aa6e0);}[_0x11ce6(0x762)](_0x6806ed){const _0x19dd89=_0x11ce6;this[_0x19dd89(0x4c1)][_0x19dd89(0x3f2)](_0x6806ed)?.(),this[_0x19dd89(0x4c1)][_0x19dd89(0x3a9)](_0x6806ed);}[_0x11ce6(0x950)](){const _0x1a695e=_0x11ce6;return this[_0x1a695e(0x4d8)];}['getRemoteId'](){return'';}[_0x11ce6(0x6bd)](){const _0x129007=_0x11ce6;return[_0x4aea4d['ContentType'][_0x129007(0x2d1)]];}[_0x11ce6(0x818)](){const _0x574550=_0x11ce6;throw new Error(_0x574550(0x500));}[_0x11ce6(0xcc)](_0x210434){this['systemTopic']=_0x210434;}[_0x11ce6(0x5c1)](){delete this['systemTopic'];}}class _0x31b12e{['buffer']=new Map();['unsubscribeHandler'];constructor(){const _0x215bb4=_0x11ce6;this[_0x215bb4(0x68d)]=_0x508bd4[_0x215bb4(0x54a)](()=>{const _0x3dcbcb=_0x215bb4;for(const [_0xf2151f,_0x35460a]of this[_0x3dcbcb(0x153)][_0x3dcbcb(0x91c)]())Date['now']()-_0x35460a>0x124f80&&this[_0x3dcbcb(0x153)][_0x3dcbcb(0x3a9)](_0xf2151f);},0x1d4c0);}[_0x11ce6(0x17e)](){const _0x5e13c5=_0x11ce6;this[_0x5e13c5(0x68d)]();}[_0x11ce6(0x1f6)](_0x410a48){const _0x37ffd9=_0x11ce6;this[_0x37ffd9(0x153)]['set'](_0x410a48,Date['now']());}['hasMessage'](_0x2d961d){const _0x3ddb24=_0x11ce6;return this[_0x3ddb24(0x153)]['has'](_0x2d961d);}}class _0x3d1f47{[_0x11ce6(0x102)];[_0x11ce6(0x929)];['iceServers'];[_0x11ce6(0x809)];[_0x11ce6(0x4c1)]=new Map();[_0x11ce6(0x65e)];[_0x11ce6(0x8fb)];['signalingServer'];[_0x11ce6(0x330)];constructor(_0x4db0af,_0x293a7e,_0x421044,_0x494072,_0x65faa2){const _0x1d69dc=_0x11ce6;this[_0x1d69dc(0x102)]=_0x4db0af,this['authService']=_0x293a7e,this[_0x1d69dc(0xf3)]=_0x494072,this['options']=_0x65faa2,this['messageBuffer']=new _0x31b12e(),this[_0x1d69dc(0x8fb)]=new _0x280ac4(this[_0x1d69dc(0x102)]['localNode'][_0x1d69dc(0x9d8)](),this['messageBuffer'],_0x421044),this['signalingServer']=new _0x41a4e9(this[_0x1d69dc(0x102)][_0x1d69dc(0x391)],this[_0x1d69dc(0x102)]['clusterId'],this['configs']['localNode'],_0x1d69dc(0xea),this[_0x1d69dc(0x929)]),this[_0x1d69dc(0x65e)]=new _0x39a893(this[_0x1d69dc(0x102)][_0x1d69dc(0xd3)][_0x1d69dc(0x9d8)](),this[_0x1d69dc(0x330)]),this[_0x1d69dc(0x65e)][_0x1d69dc(0x4b3)](this[_0x1d69dc(0x8fb)]),this[_0x1d69dc(0x65e)]['addConnection'](this[_0x1d69dc(0x582)]),this[_0x1d69dc(0x102)][_0x1d69dc(0x4f6)][_0x1d69dc(0x4da)](this[_0x1d69dc(0x65e)]);}[_0x11ce6(0x17e)](){const _0x1af4a3=_0x11ce6;this[_0x1af4a3(0x330)][_0x1af4a3(0x17e)](),this['connections']['forEach']((_0x11ad73,_0xfe1f9d)=>this[_0x1af4a3(0xc9)](_0xfe1f9d)),this[_0x1af4a3(0x102)][_0x1af4a3(0x4f6)][_0x1af4a3(0x579)](this[_0x1af4a3(0x65e)]),this[_0x1af4a3(0x65e)][_0x1af4a3(0x762)](this['signalingServer']),this['connectionPool'][_0x1af4a3(0x762)](this[_0x1af4a3(0x8fb)]),this[_0x1af4a3(0x65e)][_0x1af4a3(0x17e)](),this['signalingServer'][_0x1af4a3(0x17e)](),this['connectionGroup'][_0x1af4a3(0x17e)]();}async['initialize'](){const _0x51896d=_0x11ce6;await this[_0x51896d(0x582)][_0x51896d(0x90e)]();}async['createConnection'](_0x158189,_0x18ef5a=_0x49ddb9['Core']){const _0x54ecc5=_0x11ce6;if(this[_0x54ecc5(0x4c1)][_0x54ecc5(0x297)](_0x158189)){if(this[_0x54ecc5(0x4c1)][_0x54ecc5(0x3f2)](_0x158189)?.[_0x54ecc5(0x9d5)]()===_0x49ddb9['Optimization']&&_0x18ef5a===_0x49ddb9[_0x54ecc5(0x199)])return void this[_0x54ecc5(0x4c1)]['get'](_0x158189)?.['setConnectionType'](_0x49ddb9['Core']);throw new _0x490cf1(_0x490cf1[_0x54ecc5(0x9fb)]['RemoteConnectionExists'],{'localId':this[_0x54ecc5(0x102)][_0x54ecc5(0xd3)]['getId'](),'remoteId':_0x158189});}const _0x2e4216=new _0x54721c(this[_0x54ecc5(0x102)][_0x54ecc5(0xa18)],this[_0x54ecc5(0x102)][_0x54ecc5(0xd3)],_0x158189,this['iceServers'],_0x18ef5a,this[_0x54ecc5(0x809)][_0x54ecc5(0x266)],this['options'][_0x54ecc5(0x2eb)],this[_0x54ecc5(0x809)][_0x54ecc5(0x691)]);this['connections'][_0x54ecc5(0x323)](_0x158189,_0x2e4216),this[_0x54ecc5(0x8fb)][_0x54ecc5(0x4b3)](_0x2e4216),this[_0x54ecc5(0x102)]['mediator']['registerSystemSource'](_0x2e4216),this['configs'][_0x54ecc5(0x4f6)]['registerRemoteNode'](_0x158189),await _0x2e4216[_0x54ecc5(0x90e)]();}[_0x11ce6(0x979)](){const _0x159a86=_0x11ce6;return this[_0x159a86(0x8fb)];}[_0x11ce6(0x813)](_0x4cff43){const _0x1a201f=_0x11ce6;if(!this[_0x1a201f(0x4c1)][_0x1a201f(0x297)](_0x4cff43))throw new _0x490cf1(_0x490cf1['codes'][_0x1a201f(0x2be)],{'localId':this['configs']['localNode']['getId'](),'remoteId':_0x4cff43});return this[_0x1a201f(0x4c1)]['get'](_0x4cff43);}[_0x11ce6(0x791)](_0x213b32){const _0x2586fa=_0x11ce6,_0x3f3a02=Array['from'](this['connections'][_0x2586fa(0x8ea)]());return _0x213b32?_0x3f3a02[_0x2586fa(0x80e)](_0x213b32):_0x3f3a02;}async['collectStats'](_0x3b6acd){const _0x4ee62d=_0x11ce6,_0x5a423f=this[_0x4ee62d(0x4c1)][_0x4ee62d(0x3f2)](_0x3b6acd);_0x5a423f&&_0x5a423f[_0x4ee62d(0x818)]()&&await _0x5a423f[_0x4ee62d(0x910)]();}['handleOutgoingSystemEvents'](_0x3035dc){const _0x4bfa9b=_0x11ce6;if(_0x3035dc['messageType']!==_0x48fa30[_0x4bfa9b(0x850)]||_0x3035dc['propagate'])try{this['connectionGroup'][_0x4bfa9b(0x41d)](_0x3035dc);}catch(_0x34aa42){if(_0x34aa42 instanceof _0x56672e)return;throw _0x34aa42;}else this[_0x4bfa9b(0x65e)][_0x4bfa9b(0x41d)](_0x3035dc);}async[_0x11ce6(0x7ed)](_0x45b270){const _0x5d32af=_0x11ce6;switch(_0x45b270[_0x5d32af(0x1c4)]['type']){case _0x1ed9f1[_0x5d32af(0x906)]:case _0x1ed9f1[_0x5d32af(0x6d9)]:case _0x1ed9f1['OptimizationConnectionSuccess']:return;}if(!_0x45b270[_0x5d32af(0x517)]||0x1!==_0x45b270[_0x5d32af(0x517)][_0x5d32af(0x7ad)])throw new _0x490cf1(_0x490cf1[_0x5d32af(0x9fb)]['PeerConnectionInvalidDestination'],{'message':_0x5d32af(0x2e6),'event':_0x45b270});if(_0x45b270[_0x5d32af(0x517)][0x0]!==this[_0x5d32af(0x102)]['localNode']['getId']())throw new _0x490cf1(_0x490cf1[_0x5d32af(0x9fb)][_0x5d32af(0x7f5)],{'message':_0x5d32af(0x386),'event':_0x45b270});if(!this[_0x5d32af(0x4c1)][_0x5d32af(0x297)](_0x45b270[_0x5d32af(0x112)])){let _0x5d8ad0=_0x49ddb9[_0x5d32af(0x199)];if(!(this[_0x5d32af(0x685)](_0x45b270[_0x5d32af(0x1c4)])||this[_0x5d32af(0x5c4)](_0x45b270[_0x5d32af(0x1c4)])||this[_0x5d32af(0x77c)](_0x45b270['content'])))return;_0x5d8ad0=_0x45b270[_0x5d32af(0x1c4)]['connectionType'],await this[_0x5d32af(0x94d)](_0x45b270[_0x5d32af(0x112)],_0x5d8ad0);}const _0x330126=this[_0x5d32af(0x4c1)][_0x5d32af(0x3f2)](_0x45b270[_0x5d32af(0x112)]);await _0x330126[_0x5d32af(0x7ed)](_0x45b270);}[_0x11ce6(0x94e)](_0x5255c3){const _0x386878=_0x11ce6;if(_0x5255c3[_0x386878(0x1c4)][_0x386878(0x789)]===_0x5f3e[_0x386878(0x8a7)]){if(_0x5255c3['content']['targetId']===this['configs'][_0x386878(0xd3)][_0x386878(0x9d8)]())return void this['connections'][_0x386878(0x7a1)](_0x3c9fe1=>_0x3c9fe1[_0x386878(0x94e)](_0x5255c3));this[_0x386878(0x4c1)][_0x386878(0x3f2)](_0x5255c3['content'][_0x386878(0x148)])?.[_0x386878(0x94e)](_0x5255c3);}}[_0x11ce6(0x866)]({content:_0x589f3c}){const _0x113c98=_0x11ce6;_0x589f3c[_0x113c98(0x789)]===_0x4c4cc3['NodeLeave']&&this[_0x113c98(0xc9)](_0x589f3c['id']);}[_0x11ce6(0x35b)](){const _0x2e9f4a=_0x11ce6,_0x5c74ef=Array[_0x2e9f4a(0x462)](this['connections'][_0x2e9f4a(0x8ea)]())[_0x2e9f4a(0x484)]((_0x3821e5,_0x708563)=>_0x3821e5+_0x708563[_0x2e9f4a(0x1d0)](),0x0);return _0x5c74ef<_0x2c5539?Promise[_0x2e9f4a(0x2c9)](_0x5c74ef):new Promise(_0x4d47f4=>{const _0x44656e=setInterval(()=>{const _0x33b804=a0_0x5c6e,_0x121cd1=Array[_0x33b804(0x462)](this[_0x33b804(0x4c1)]['values']())['reduce']((_0x467e7c,_0x125779)=>_0x467e7c+_0x125779[_0x33b804(0x1d0)](),0x0);_0x121cd1<_0x2c5539&&(clearInterval(_0x44656e),_0x4d47f4(_0x121cd1));},0x3e8);});}['hasBufferedData'](){const _0x12598c=_0x11ce6;for(const _0x50cced of this['connections']['values']())if(_0x50cced[_0x12598c(0xa05)]()>0x0||_0x50cced[_0x12598c(0x1d0)]()>0x0)return!0x0;return!0x1;}['closeConnection'](_0x3e7a5c){const _0x4c2b02=_0x11ce6,_0x4c5c93=this[_0x4c2b02(0x4c1)][_0x4c2b02(0x3f2)](_0x3e7a5c);_0x4c5c93&&(this[_0x4c2b02(0x102)][_0x4c2b02(0x4f6)][_0x4c2b02(0x8c8)](_0x3e7a5c),this[_0x4c2b02(0x102)]['mediator'][_0x4c2b02(0x579)](_0x4c5c93),_0x4c5c93 instanceof _0x54721c&&this['connectionGroup'][_0x4c2b02(0x762)](_0x4c5c93),_0x4c5c93[_0x4c2b02(0x17e)](),this[_0x4c2b02(0x4c1)][_0x4c2b02(0x3a9)](_0x3e7a5c));}['isOffer'](_0x40f485){const _0x406129=_0x11ce6;return _0x40f485[_0x406129(0x789)]===_0x1ed9f1['Offer'];}['isNeedRestart'](_0x533f63){const _0x5da057=_0x11ce6;return _0x533f63[_0x5da057(0x789)]===_0x1ed9f1[_0x5da057(0x4eb)];}['isIceCandidate'](_0xe1f840){const _0xf6ba10=_0x11ce6;return _0xe1f840[_0xf6ba10(0x789)]===_0x1ed9f1[_0xf6ba10(0x7e0)];}}!function(_0x324cf2){const _0x475e32=_0x11ce6;_0x324cf2[_0x324cf2[_0x475e32(0xa1a)]=0x0]=_0x475e32(0xa1a),_0x324cf2[_0x324cf2['UpdateMediaStream']=0x1]=_0x475e32(0x6c7),_0x324cf2[_0x324cf2[_0x475e32(0x8bf)]=0x2]='UnsubscribeMediaStream',_0x324cf2[_0x324cf2[_0x475e32(0x6d6)]=0x3]=_0x475e32(0x6d6),_0x324cf2[_0x324cf2[_0x475e32(0x70d)]=0x4]=_0x475e32(0x70d),_0x324cf2[_0x324cf2[_0x475e32(0x189)]=0x5]='CanProvideMediaStream',_0x324cf2[_0x324cf2[_0x475e32(0x527)]=0x6]=_0x475e32(0x527),_0x324cf2[_0x324cf2[_0x475e32(0x124)]=0x7]=_0x475e32(0x124);}(_0x32a36a||(_0x32a36a={}));class _0x32e211 extends _0x468001{[_0x11ce6(0xd3)];[_0x11ce6(0xa18)];['vendorId'];[_0x11ce6(0x75f)];[_0x11ce6(0x455)];['reads']=0x0;[_0x11ce6(0x72a)];['eventListener']=_0x4332ba();[_0x11ce6(0x1a2)]=new Map();[_0x11ce6(0x3e2)];constructor(_0x268f3f,_0x51cc47,_0x100d85,_0xe8e608,_0x11e935){const _0x4f8bdb=_0x11ce6;if(_0x4f8bdb(0x9cc)!=typeof _0x51cc47)throw new _0x39299d(_0x1ffca6[_0x4f8bdb(0x95e)],_0x4f8bdb(0x4cb));super(_0x268f3f,_0x51cc47),this[_0x4f8bdb(0xd3)]=_0x268f3f,this['clusterId']=_0x100d85,this['vendorId']=_0xe8e608,this[_0x4f8bdb(0x75f)]=_0x11e935,this[_0x4f8bdb(0x13c)]();}['destroy'](){const _0x8cbf36=_0x11ce6;this['changesUnsubscriber']?.(),this['listenerUnsubscribers']['forEach'](_0x37358c=>_0x37358c()),clearTimeout(this[_0x8cbf36(0x455)]),delete this[_0x8cbf36(0x455)],super[_0x8cbf36(0x4d6)]();}['reset'](){const _0x127340=_0x11ce6;this[_0x127340(0x13c)]();}['close'](){const _0x71762e=_0x11ce6;this[_0x71762e(0x1ad)][_0x71762e(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x71762e(0x575)],'content':{'type':_0x18f1c1['CloseExternalStorageConnection'],'label':this[_0x71762e(0x6e8)]}});}[_0x11ce6(0x503)](){const _0x448c68=_0x11ce6;return _0x4aea4d[_0x448c68(0x43d)][_0x448c68(0x72b)];}async['get'](_0x2c85e6){const _0x5df187=_0x11ce6;if(!this[_0x5df187(0x72a)])throw new _0x39299d(_0x1ffca6[_0x5df187(0x1ba)],_0x5df187(0x3d2));_0x5c02ff['logServiceEvent'](_0x8fa077[_0x5df187(0x72b)],{'type':_0x5df187(0x3f2),'label':this[_0x5df187(0x6e8)],'nodeId':this[_0x5df187(0xd3)][_0x5df187(0x9d8)](),'nodeType':this[_0x5df187(0xd3)][_0x5df187(0x789)],'clusterId':this[_0x5df187(0xa18)],'path':_0x2c85e6}),this['reads']+=0x1,this[_0x5df187(0x13c)]();try{return await this[_0x5df187(0x72a)][_0x5df187(0x3f2)](_0x2c85e6);}catch(_0xce2c47){throw new _0x39299d(_0x1ffca6[_0x5df187(0x664)],_0x5df187(0x9a1)+_0x2c85e6);}}async[_0x11ce6(0x138)](_0x9f3ef1,_0x7a1a34){const _0x1131ab=_0x11ce6;if(!this[_0x1131ab(0x72a)])throw new _0x39299d(_0x1ffca6[_0x1131ab(0x1ba)],'Cannot\x20list\x20directory:\x20External\x20Storage\x20not\x20connected');const {recursive:_0x223de5=!0x1}=_0x7a1a34??{};_0x5c02ff[_0x1131ab(0x253)](_0x8fa077[_0x1131ab(0x72b)],{'type':'list','label':this[_0x1131ab(0x6e8)],'nodeId':this[_0x1131ab(0xd3)][_0x1131ab(0x9d8)](),'nodeType':this[_0x1131ab(0xd3)][_0x1131ab(0x789)],'clusterId':this['clusterId'],'path':_0x9f3ef1}),this['reads']+=0x1,this['sendStats']();try{return await this[_0x1131ab(0x72a)][_0x1131ab(0x138)](_0x9f3ef1,_0x223de5);}catch(_0x176bfd){throw new _0x39299d(_0x1ffca6[_0x1131ab(0x664)],_0x1131ab(0xcd)+_0x9f3ef1);}}[_0x11ce6(0x85a)](_0x413560,_0x5bef3d){const _0x5ba69c=_0x11ce6;if(this[_0x5ba69c(0x1a2)][_0x5ba69c(0x297)](_0x413560))throw new _0x39299d(_0x1ffca6['ExternalStorageConnectionAlreadySubscribed'],_0x5ba69c(0x433));this[_0x5ba69c(0x1a2)]['set'](_0x413560,this[_0x5ba69c(0x14a)][_0x5ba69c(0x85a)](_0x5bef3d));}[_0x11ce6(0x786)](_0x5dddd2){const _0x522576=_0x11ce6;this[_0x522576(0x1a2)][_0x522576(0x3f2)](_0x5dddd2)?.(),this[_0x522576(0x1a2)][_0x522576(0x3a9)](_0x5dddd2);}async[_0x11ce6(0x4ec)](){const _0x431636=_0x11ce6,_0x1e489b=(await(0x0,_0x31eea4[_0x431636(0x3c7)])((0x0,_0x31eea4[_0x431636(0x425)])(_0x24cd47[_0x431636(0x35a)](),_0x431636(0x429)+this[_0x431636(0x391)]+'/resources/external-storage/items/'+this['label'])))[_0x431636(0x4ff)]();if(!_0x1e489b)throw new _0x39299d(_0x1ffca6['ExternalStorageConnectionDoesNotExist'],_0x431636(0x7e6)+this[_0x431636(0x6e8)]);const {site:_0x5ea913,drive:_0x4e4273}=_0x1e489b,_0xc41232=(await(0x0,_0x35a5d3[_0x431636(0x9cf)])(_0x24cd47[_0x431636(0x1c9)](),_0x431636(0x36b))({'storageId':this[_0x431636(0x6e8)]}))[_0x431636(0x4ff)][_0x431636(0x7e4)];this[_0x431636(0x72a)]=new this['connectorConstructor'](_0x5ea913['id'],_0x4e4273['id'],_0xc41232,async()=>(await(0x0,_0x35a5d3[_0x431636(0x9cf)])(_0x24cd47[_0x431636(0x1c9)](),_0x431636(0x6e6))({'storageId':this['label']}))[_0x431636(0x4ff)]['accessToken']),this[_0x431636(0x516)]();}[_0x11ce6(0x13c)](){const _0x16a7fd=_0x11ce6;this[_0x16a7fd(0x455)]&&clearTimeout(this['debounceStats']),this['debounceStats']=setTimeout(async()=>{const _0x214c1c=_0x16a7fd;delete this['debounceStats'],this[_0x214c1c(0x1ad)][_0x214c1c(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30['Content'],'content':{'type':_0x18f1c1['ExternalStorageStats'],'label':this[_0x214c1c(0x6e8)],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':0x0,'messagesReceived':0x0,'bytesSent':0x0,'bytesReceived':0x0,'writes':0x0,'reads':this[_0x214c1c(0x738)],'prompts':0x0,'tokens':0x0}}});},_0x59cbea);}async['trackChanges'](){const _0x1685c1=_0x11ce6;await this['connector']?.[_0x1685c1(0x9f0)](),this[_0x1685c1(0x3e2)]=_0x508bd4[_0x1685c1(0x54a)](async()=>{const _0x1fe433=_0x1685c1;try{if(!this[_0x1fe433(0x72a)])return;const _0x4ce238=await this['connector'][_0x1fe433(0x9f0)]();for(const _0xa400f0 of _0x4ce238)this[_0x1fe433(0x14a)]['publish'](_0xa400f0);}catch(_0x2cec2a){}},0x493e0);}}const _0x1c65fc=require('rxjs');class _0xebcc88 extends _0x468001{[_0x11ce6(0x59f)];[_0x11ce6(0x4f4)]=new Map();[_0x11ce6(0x17a)]=new Map();['jobBids']=new Map();[_0x11ce6(0x68d)];constructor(_0x123e98,_0x4036bc,_0x542c72){super(_0x123e98,_0x4036bc),this['graphService']=_0x542c72;}[_0x11ce6(0x503)](){const _0x4ef7df=_0x11ce6;return _0x4aea4d[_0x4ef7df(0x43d)][_0x4ef7df(0xa09)];}['open'](){const _0x4a2453=_0x11ce6;this[_0x4a2453(0x68d)]=this[_0x4a2453(0xc1)]((_0x24d3a2,_0x3d8e2d)=>{const _0x177a37=_0x4a2453;if(_0x5c02ff[_0x177a37(0x65b)](_0x1e4869[_0x177a37(0x26e)],_0x177a37(0x2a7),_0x24d3a2,_0x3d8e2d,this['graphService'][_0x177a37(0x652)]()),!(_0x3d8e2d instanceof File)){if(!_0x3d8e2d)throw new _0x490cf1(_0x490cf1[_0x177a37(0x9fb)][_0x177a37(0x1c6)]);return this[_0x177a37(0x8d6)](_0x3d8e2d)?this[_0x177a37(0x4c6)](_0x24d3a2,_0x3d8e2d['id'],_0x3d8e2d):this[_0x177a37(0x64f)](_0x3d8e2d)?(_0x5c02ff[_0x177a37(0x65b)](_0x1e4869[_0x177a37(0x26e)],_0x177a37(0x52a)+_0x3d8e2d['id']+_0x177a37(0x173),_0x3d8e2d['result']),void this[_0x177a37(0x9ae)](_0x3d8e2d['id'],_0x3d8e2d)):this[_0x177a37(0x6c5)](_0x3d8e2d)?(_0x5c02ff[_0x177a37(0x65b)](_0x1e4869[_0x177a37(0x26e)],_0x177a37(0x52a)+_0x3d8e2d['id']+_0x177a37(0x770),_0x3d8e2d[_0x177a37(0x4e1)]),void this[_0x177a37(0x8ce)](_0x3d8e2d['id'],_0x3d8e2d)):void(this['isFailedResponse'](_0x3d8e2d)&&this[_0x177a37(0x4d3)](_0x3d8e2d['id'],_0x3d8e2d[_0x177a37(0x686)]));}});}[_0x11ce6(0x7e8)](){const _0x1625d4=_0x11ce6;this[_0x1625d4(0x918)](),this[_0x1625d4(0x4ec)]();}[_0x11ce6(0x4d6)](){const _0xad1d26=_0x11ce6;this[_0xad1d26(0x918)](),super['destroy']();}[_0x11ce6(0x918)](){const _0x19db60=_0x11ce6;this['jobs'][_0x19db60(0x918)](),this['unsubscribeHandler']&&this['unsubscribeHandler']();}[_0x11ce6(0x17e)](){const _0x11fab1=_0x11ce6;this[_0x11fab1(0x1ad)]?.['publish']({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x11fab1(0x575)],'content':{'type':_0x18f1c1['CloseJobDispatcher'],'label':this[_0x11fab1(0x6e8)]}});}async[_0x11ce6(0x620)](_0x2d86b7){const _0x259155=_0x11ce6,{id:_0xfb7e45,parameters:_0x20aaf3,jobType:_0x2b07a4}=_0x2d86b7,_0x33e686={'id':_0xfb7e45,'jobType':_0x2b07a4,'parameters':_0x20aaf3,'status':_0x4aea4d[_0x259155(0x5fa)][_0x259155(0x823)],'created':new Date(),'updated':new Date()};if(this[_0x259155(0x4f4)][_0x259155(0x297)](_0x33e686['id']))throw new _0x39299d(_0x1ffca6['JobDispatcherJobExists'],_0x259155(0x64d)+_0x33e686['id']+'\x20already\x20exists.');_0x33e686[_0x259155(0xa0b)]=new Date(),_0x33e686[_0x259155(0x60a)]=new Date();const _0x56eb96=new _0x1c65fc['Subject']();this['jobs'][_0x259155(0x323)](_0x33e686['id'],_0x33e686),this['jobObservers'][_0x259155(0x323)](_0x33e686['id'],_0x56eb96);try{const _0x26b9aa={'id':_0x33e686['id'],'jobPhase':_0x28f344[_0x259155(0x641)],'jobType':_0x33e686[_0x259155(0x3c9)]},_0x46feab=0x3;let _0x566e64=0x0;const _0x4abef1=async()=>{const _0x547442=_0x259155;_0x566e64+=0x1;try{_0x5c02ff[_0x547442(0x65b)](_0x1e4869[_0x547442(0x26e)],_0x547442(0x52a)+_0x33e686['id']+_0x547442(0x885)+_0x566e64+'.',this[_0x547442(0x59f)][_0x547442(0x652)]()),await this[_0x547442(0x41d)](_0x26b9aa),_0x33e686[_0x547442(0x60a)]=new Date(),this[_0x547442(0x4f4)][_0x547442(0x323)](_0x33e686['id'],_0x33e686),this[_0x547442(0x5f4)](_0x33e686['id']);}catch(_0x3ae696){_0x566e64<_0x46feab?(_0x5c02ff['warning'](_0x547442(0x436)+_0x566e64+'\x20to\x20send\x20dispatcherJob\x20'+_0x33e686['id']+_0x547442(0x3ed),{'nodeId':this['owner'][_0x547442(0x9d8)](),'nodeType':this[_0x547442(0x8fc)][_0x547442(0x789)],'data':{'job':_0x33e686,'attempts':_0x566e64,'maxRetries':_0x46feab}}),setTimeout(_0x4abef1,0x3e8)):(_0x33e686[_0x547442(0x373)]=_0x4aea4d[_0x547442(0x5fa)][_0x547442(0x78f)],_0x33e686['updated']=new Date(),this['jobs'][_0x547442(0x323)](_0x33e686['id'],_0x33e686),_0x5c02ff[_0x547442(0x89e)](_0x547442(0x524)+_0x33e686['id']+_0x547442(0x862)+_0x46feab+_0x547442(0x574),{'nodeId':this[_0x547442(0x8fc)][_0x547442(0x9d8)](),'nodeType':this['owner'][_0x547442(0x789)],'data':{'job':_0x33e686,'attempts':_0x566e64,'maxRetries':_0x46feab,'error':_0x3ae696}}));}};_0x4abef1();const {id:_0x321542}=_0x33e686;this[_0x259155(0x745)](_0x259155(0x52a)+_0x33e686['id']+'\x20created\x20and\x20dispatched.',{'jobId':_0x321542}),_0x33e686['updated']=new Date();}catch(_0x35c001){_0x33e686[_0x259155(0x373)]=_0x4aea4d[_0x259155(0x5fa)][_0x259155(0x78f)],_0x5c02ff[_0x259155(0x89e)](_0x259155(0x524)+_0x33e686['id']+':',{'nodeId':this[_0x259155(0x8fc)]['getId'](),'nodeType':this['owner']['type'],'data':{'job':_0x33e686,'error':_0x35c001}});}return _0x56eb96[_0x259155(0x113)]();}[_0x11ce6(0x368)](_0x110e3a){const _0x4c3fb3=_0x11ce6,_0x54aef7=this[_0x4c3fb3(0x4f4)][_0x4c3fb3(0x3f2)](_0x110e3a);if(!_0x54aef7)throw new _0x39299d(_0x1ffca6[_0x4c3fb3(0x598)],_0x4c3fb3(0x64d)+_0x110e3a+_0x4c3fb3(0x857));return{'id':_0x54aef7['id'],'jobType':_0x54aef7[_0x4c3fb3(0x3c9)],'status':_0x54aef7[_0x4c3fb3(0x373)],'parameters':_0x54aef7['parameters']};}[_0x11ce6(0x139)](){const _0x156db3=_0x11ce6;return Array[_0x156db3(0x462)](this['jobs'][_0x156db3(0x8ea)]())[_0x156db3(0x99c)](_0x38e481=>this[_0x156db3(0x368)](_0x38e481['id']));}async[_0x11ce6(0x690)](_0x152334,_0xf899d5){const _0x141ef9=_0x11ce6,_0x43083e=this[_0x141ef9(0x4f4)][_0x141ef9(0x3f2)](_0x152334);if(!_0x43083e)throw new _0x39299d(_0x1ffca6[_0x141ef9(0x598)],_0x141ef9(0x64d)+_0x152334+'\x20not\x20found.');_0x43083e[_0x141ef9(0x54b)]=_0xf899d5,_0x43083e['updated']=new Date(),this[_0x141ef9(0x4f4)]['set'](_0x152334,_0x43083e);}async[_0x11ce6(0x1fc)](_0x1000eb){const _0x2a95a6=_0x11ce6;if(!this[_0x2a95a6(0x4f4)]['delete'](_0x1000eb))throw new _0x39299d(_0x1ffca6[_0x2a95a6(0x598)],_0x2a95a6(0x64d)+_0x1000eb+'\x20not\x20found.');const _0x247b6d=this[_0x2a95a6(0x17a)][_0x2a95a6(0x3f2)](_0x1000eb);if(!_0x247b6d)throw new _0x490cf1(_0x490cf1['codes'][_0x2a95a6(0x216)]);_0x247b6d['complete'](),this[_0x2a95a6(0x17a)][_0x2a95a6(0x3a9)](_0x1000eb),_0x5c02ff[_0x2a95a6(0x65b)](_0x1e4869[_0x2a95a6(0x26e)],_0x2a95a6(0x52a)+_0x1000eb+_0x2a95a6(0x2e2));}[_0x11ce6(0x4c6)](_0x1b437f,_0x43ed6b,_0x55f07b){const _0x275c65=_0x11ce6,_0x2a3dc1=this[_0x275c65(0x43c)][_0x275c65(0x3f2)](_0x43ed6b)??new Map();_0x2a3dc1[_0x275c65(0x323)](_0x1b437f,[_0x55f07b,Date[_0x275c65(0x3bd)]()]),this[_0x275c65(0x43c)][_0x275c65(0x323)](_0x43ed6b,_0x2a3dc1),this['evaluateBidsAndAttributeJob'](_0x43ed6b);}[_0x11ce6(0x5f4)](_0xcd99cf){const _0x1841c8=_0x11ce6,_0x2ec4d0=this[_0x1841c8(0x4f4)][_0x1841c8(0x3f2)](_0xcd99cf);if(!_0x2ec4d0)throw new _0x490cf1(_0x490cf1[_0x1841c8(0x9fb)][_0x1841c8(0x598)]);const _0x5b69e6=setTimeout(()=>this[_0x1841c8(0x946)](_0xcd99cf,!0x0),0xbb8);_0x2ec4d0[_0x1841c8(0x8a1)]=_0x5b69e6,this[_0x1841c8(0x4f4)]['set'](_0x2ec4d0['id'],_0x2ec4d0);}[_0x11ce6(0x946)](_0x103494,_0x50850c=!0x1){const _0x31aedd=_0x11ce6,_0x27fc8c=this[_0x31aedd(0x59f)][_0x31aedd(0x652)](),_0x2193e5=Array[_0x31aedd(0x462)](_0x27fc8c[_0x31aedd(0x8ea)]())[_0x31aedd(0x80e)](_0x4565bb=>_0x4565bb['type']===_0x4aea4d[_0x31aedd(0x552)][_0x31aedd(0x68c)]),_0xa5e8ec=this[_0x31aedd(0x43c)][_0x31aedd(0x3f2)](_0x103494)??new Map();if(!_0x50850c&&(!_0xa5e8ec||_0xa5e8ec[_0x31aedd(0x84c)]<_0x2193e5[_0x31aedd(0x7ad)]))return;const _0x429434=this[_0x31aedd(0x4f4)]['get'](_0x103494);if(!_0x429434)throw new _0x490cf1(_0x490cf1['codes'][_0x31aedd(0x598)]);if(clearTimeout(_0x429434['responseTimeout']),_0x5c02ff[_0x31aedd(0x65b)](_0x1e4869['Jobs'],_0x31aedd(0x52a)+_0x429434['id']+_0x31aedd(0x611),_0xa5e8ec,this['jobBids']),!_0xa5e8ec||0x0===_0xa5e8ec[_0x31aedd(0x84c)]){_0x429434['status']=_0x4aea4d[_0x31aedd(0x5fa)][_0x31aedd(0x78f)],_0x429434['updated']=new Date(),_0x5c02ff[_0x31aedd(0x89e)](_0x31aedd(0x52a)+_0x429434['id']+_0x31aedd(0x699),{'nodeId':this[_0x31aedd(0x8fc)][_0x31aedd(0x9d8)](),'nodeType':this['owner'][_0x31aedd(0x789)],'data':{'job':_0x429434,'responses':_0xa5e8ec}});const _0x95b317=this[_0x31aedd(0x17a)][_0x31aedd(0x3f2)](_0x103494);if(!_0x95b317)throw new _0x490cf1(_0x490cf1['codes']['JobDispatcherObserverNotFound']);const _0x541962='No\x20valid\x20bid\x20responses\x20received\x20in\x20time.',_0x4084b8={'id':_0x429434['id'],'status':_0x429434['status'],'message':_0x541962};return _0x95b317[_0x31aedd(0x14d)](_0x4084b8),_0x95b317['complete'](),this[_0x31aedd(0x4f4)][_0x31aedd(0x323)](_0x429434['id'],_0x429434),void this[_0x31aedd(0x43c)]['delete'](_0x103494);}const {nodeId:_0x465a23,response:_0x33dabb}=this[_0x31aedd(0x18d)](_0x429434['id'],_0xa5e8ec);_0x429434['status']=_0x4aea4d[_0x31aedd(0x5fa)][_0x31aedd(0x65d)],_0x429434[_0x31aedd(0x60a)]=new Date(),_0x5c02ff[_0x31aedd(0x65b)](_0x1e4869[_0x31aedd(0x26e)],_0x31aedd(0x52a)+_0x429434['id']+_0x31aedd(0x6fd)+_0x465a23+_0x31aedd(0x399),_0x33dabb);const _0x2e599f={'id':_0x429434['id'],'jobType':_0x429434[_0x31aedd(0x3c9)],'jobPhase':_0x28f344[_0x31aedd(0x43a)],'parameters':_0x429434[_0x31aedd(0x54b)]};this[_0x31aedd(0x41d)](_0x2e599f,[_0x465a23]),this[_0x31aedd(0x4f4)]['set'](_0x429434['id'],_0x429434),this[_0x31aedd(0x43c)][_0x31aedd(0x3a9)](_0x103494);}[_0x11ce6(0x18d)](_0x3272f7,_0x5b2d21){const _0x31e053=_0x11ce6;let _0x2a1af3;const _0x1a02ca=Array[_0x31e053(0x462)](_0x5b2d21['entries']())[_0x31e053(0x80e)](([,[_0x26c826]])=>_0x26c826[_0x31e053(0x613)]);if(_0x2a1af3=_0x1a02ca[_0x31e053(0x7ad)]>0x0?Array[_0x31e053(0x462)](_0x5b2d21[_0x31e053(0x91c)]())[_0x31e053(0x96b)]((_0x318c75,_0x27edfd)=>_0x27edfd[0x1][0x0][_0x31e053(0x470)]-_0x318c75[0x1][0x0][_0x31e053(0x470)]):Array[_0x31e053(0x462)](_0x5b2d21[_0x31e053(0x91c)]())[_0x31e053(0x96b)]((_0x4bcd66,_0x372556)=>_0x4bcd66[0x1][0x0][_0x31e053(0x4b7)]-_0x372556[0x1][0x0]['queueLength']),0x1===_0x2a1af3[_0x31e053(0x7ad)])return{'nodeId':_0x2a1af3[0x0][0x0],'response':_0x2a1af3[0x0][0x1][0x0]};let _0x83b8e5;if(_0x83b8e5=_0x1a02ca[_0x31e053(0x7ad)]>0x0?(_0x24b35e=>{const _0x578c1a=_0x31e053,_0x399833=_0x24b35e[0x0][0x1][0x0]['bid'];return _0x24b35e[_0x578c1a(0x80e)](([,[_0x1ff42e]])=>_0x1ff42e[_0x578c1a(0x470)]===_0x399833);})(_0x2a1af3):(_0x5c9c29=>{const _0xd2ac40=_0x31e053,_0x4d9966=_0x5c9c29[0x0][0x1][0x0]['queueLength'];return _0x5c9c29['filter'](([,[_0x1c7c22]])=>_0x1c7c22[_0xd2ac40(0x4b7)]===_0x4d9966);})(_0x2a1af3),0x1===_0x83b8e5[_0x31e053(0x7ad)])return{'nodeId':_0x83b8e5[0x0][0x0],'response':_0x83b8e5[0x0][0x1][0x0]};const _0x5979a0=this['jobs'][_0x31e053(0x3f2)](_0x3272f7);if(!_0x5979a0)throw new _0x490cf1(_0x490cf1[_0x31e053(0x9fb)][_0x31e053(0x598)]);const _0x1a33ae=_0x5979a0['created'][_0x31e053(0x2fe)](),_0x31f9dc=_0x83b8e5[_0x31e053(0x99c)](([_0xc4a91a,[,_0x66b5a4]])=>({'nodeId':_0xc4a91a,'rtt':_0x66b5a4-_0x1a33ae})),_0x471d23=Math[_0x31e053(0x69c)](..._0x31f9dc[_0x31e053(0x99c)](({rtt:_0x4a83a4})=>_0x4a83a4)),_0x4c95e8=_0x31f9dc[_0x31e053(0x957)](({rtt:_0x5511fc})=>_0x5511fc===_0x471d23),[,[_0x2ef601]]=_0x83b8e5['find'](([_0x1a7800])=>_0x1a7800===_0x4c95e8[_0x31e053(0x381)]);return{'nodeId':_0x4c95e8[_0x31e053(0x381)],'response':_0x2ef601};}[_0x11ce6(0x9ae)](_0x52b19a,_0x491fae){const _0x5f5343=_0x11ce6,_0x185510=this[_0x5f5343(0x4f4)][_0x5f5343(0x3f2)](_0x52b19a);if(!_0x185510)throw new _0x490cf1(_0x490cf1[_0x5f5343(0x9fb)][_0x5f5343(0x598)]);const _0x212247=this[_0x5f5343(0x17a)][_0x5f5343(0x3f2)](_0x52b19a);if(!_0x212247)throw new _0x490cf1(_0x490cf1[_0x5f5343(0x9fb)][_0x5f5343(0x216)]);const _0x7c99a7={'id':_0x185510['id'],'status':_0x4aea4d[_0x5f5343(0x5fa)]['Partial'],'result':_0x491fae[_0x5f5343(0x4e1)]};_0x212247[_0x5f5343(0x14d)](_0x7c99a7);}[_0x11ce6(0x8ce)](_0x14ea74,_0x5a7710){const _0x1ca500=_0x11ce6,_0x37e721=this[_0x1ca500(0x4f4)]['get'](_0x14ea74);if(!_0x37e721)throw new _0x490cf1(_0x490cf1[_0x1ca500(0x9fb)][_0x1ca500(0x598)]);const _0x5b6717=this[_0x1ca500(0x17a)][_0x1ca500(0x3f2)](_0x14ea74);if(!_0x5b6717)throw new _0x490cf1(_0x490cf1[_0x1ca500(0x9fb)][_0x1ca500(0x216)]);_0x37e721[_0x1ca500(0x373)]=_0x4aea4d[_0x1ca500(0x5fa)][_0x1ca500(0x22f)];const _0x1b756d={'id':_0x37e721['id'],'status':_0x37e721[_0x1ca500(0x373)],'result':_0x5a7710['result']};_0x5b6717[_0x1ca500(0x14d)](_0x1b756d),_0x5b6717[_0x1ca500(0xd6)](),this[_0x1ca500(0x17a)]['delete'](_0x14ea74),this[_0x1ca500(0x745)](_0x1ca500(0x52a)+_0x14ea74+_0x1ca500(0x9a6),{'jobId':_0x14ea74});}[_0x11ce6(0x4d3)](_0x1481c3,_0xef8885){const _0x214445=_0x11ce6,_0x8f8f7e=this[_0x214445(0x4f4)][_0x214445(0x3f2)](_0x1481c3);if(!_0x8f8f7e)throw new _0x490cf1(_0x490cf1['codes'][_0x214445(0x598)]);const _0x5b531e=this[_0x214445(0x17a)][_0x214445(0x3f2)](_0x1481c3);if(!_0x5b531e)throw new _0x490cf1(_0x490cf1[_0x214445(0x9fb)][_0x214445(0x216)]);_0x8f8f7e[_0x214445(0x373)]=_0x4aea4d[_0x214445(0x5fa)]['Failed'];const _0x504d39={'id':_0x8f8f7e['id'],'status':_0x8f8f7e[_0x214445(0x373)],'message':_0xef8885};_0x5b531e['next'](_0x504d39),_0x5b531e[_0x214445(0xd6)](),this[_0x214445(0x17a)][_0x214445(0x3a9)](_0x1481c3),this[_0x214445(0x745)](_0x214445(0x52a)+_0x1481c3+_0x214445(0xc6),{'jobId':_0x1481c3});}['logEvent'](_0x561ad6,{jobId:_0x315526}){const _0x450a6a=_0x11ce6,_0x805c47={'jobId':_0x315526,'mistletIds':Array['from'](this[_0x450a6a(0x59f)]['getRemoteNodes']()['values']())[_0x450a6a(0x80e)](_0x1df5eb=>_0x1df5eb[_0x450a6a(0x789)]===_0x4aea4d['NodeType'][_0x450a6a(0x68c)])[_0x450a6a(0x99c)](_0x25468b=>_0x25468b[_0x450a6a(0x9d8)]())};_0x5c02ff[_0x450a6a(0x745)](_0x561ad6,{'nodeId':this[_0x450a6a(0x3d0)](),'nodeType':this[_0x450a6a(0x8fc)]['type'],'data':_0x805c47}),_0x5c02ff[_0x450a6a(0x65b)](_0x1e4869['Jobs'],_0x561ad6,_0x805c47);}['isBidResponse'](_0x318e99){const _0xa454fe=_0x11ce6,{jobPhase:_0x325f4a,available:_0x4f39d3,bid:_0x5ecb9d}=_0x318e99;return _0x325f4a===_0x28f344[_0xa454fe(0x22a)]&&void 0x0!==_0x4f39d3&&void 0x0!==_0x5ecb9d;}[_0x11ce6(0x64f)](_0x5a3416){const _0x6bac79=_0x11ce6,{jobPhase:_0x1feefa,result:_0x42ee17}=_0x5a3416;return _0x1feefa===_0x28f344[_0x6bac79(0x4f1)]&&void 0x0!==_0x42ee17;}['isResultResponse'](_0xb3d6be){const _0x303eb6=_0x11ce6,{jobPhase:_0x390bc6,result:_0x234ce8}=_0xb3d6be;return _0x390bc6===_0x28f344[_0x303eb6(0x667)]&&void 0x0!==_0x234ce8;}['isFailedResponse'](_0x219417){const _0x1ed4bf=_0x11ce6,{jobPhase:_0x4c71e7,message:_0x5cc18f}=_0x219417;return _0x4c71e7===_0x28f344[_0x1ed4bf(0x78f)]&&void 0x0!==_0x5cc18f&&_0x1ed4bf(0x9cc)==typeof _0x5cc18f;}}var _0x1cb16b,_0x517648,_0x5128b2,_0x132faf;!function(_0x3d9f3b){const _0xf4beaa=_0x11ce6;_0x3d9f3b[_0xf4beaa(0x475)]=_0xf4beaa(0x20d),_0x3d9f3b[_0xf4beaa(0x72b)]='external-storage';}(_0x1cb16b||(_0x1cb16b={})),function(_0x196e81){const _0x579416=_0x11ce6;_0x196e81[_0x579416(0x68c)]='agent',_0x196e81['AgentSkill']=_0x579416(0x47f),_0x196e81[_0x579416(0x182)]='custom-skill',_0x196e81[_0x579416(0x9a8)]='data-collection',_0x196e81[_0x579416(0x9c4)]=_0x579416(0x4f0),_0x196e81[_0x579416(0x3fb)]=_0x579416(0x675),_0x196e81['Answer']='answer',_0x196e81[_0x579416(0x6fa)]=_0x579416(0x505),_0x196e81[_0x579416(0x222)]=_0x579416(0x92e),_0x196e81[_0x579416(0x65a)]=_0x579416(0x9be),_0x196e81[_0x579416(0x5ba)]=_0x579416(0x2cb),_0x196e81['WebScraperRaw']='web-scraper-raw',_0x196e81[_0x579416(0x79a)]=_0x579416(0x2df),_0x196e81[_0x579416(0x34b)]=_0x579416(0x466),_0x196e81[_0x579416(0x1a7)]=_0x579416(0x4be),_0x196e81['WordSplitter']=_0x579416(0x27a),_0x196e81[_0x579416(0x19c)]=_0x579416(0x520);}(_0x517648||(_0x517648={})),function(_0x38cc66){const _0x281530=_0x11ce6;_0x38cc66[_0x281530(0x53f)]=_0x281530(0x763),_0x38cc66[_0x281530(0xa10)]='external-storage-upload',_0x38cc66[_0x281530(0x19c)]='document-parser',_0x38cc66[_0x281530(0x34b)]=_0x281530(0x466),_0x38cc66[_0x281530(0x522)]=_0x281530(0x27a),_0x38cc66['SentenceSplitter']=_0x281530(0x4be),_0x38cc66[_0x281530(0x42b)]=_0x281530(0x72f),_0x38cc66[_0x281530(0x2a0)]=_0x281530(0x836),_0x38cc66['Reranker']=_0x281530(0x6b8),_0x38cc66[_0x281530(0x4d1)]='model',_0x38cc66[_0x281530(0x68c)]=_0x281530(0x384),_0x38cc66[_0x281530(0x9bd)]=_0x281530(0x20d),_0x38cc66[_0x281530(0x45f)]=_0x281530(0x607),_0x38cc66[_0x281530(0x9d3)]=_0x281530(0x964),_0x38cc66['GraphDatabase']=_0x281530(0x564),_0x38cc66[_0x281530(0x3fb)]='prompt',_0x38cc66[_0x281530(0x3d4)]=_0x281530(0x376);}(_0x5128b2||(_0x5128b2={})),function(_0x325dc3){const _0x3ca507=_0x11ce6;_0x325dc3[_0x3ca507(0x6b2)]='file',_0x325dc3['Text']=_0x3ca507(0x896),_0x325dc3[_0x3ca507(0x8dc)]=_0x3ca507(0x5ae),_0x325dc3[_0x3ca507(0x13f)]=_0x3ca507(0x309),_0x325dc3['Data']=_0x3ca507(0x4ff),_0x325dc3[_0x3ca507(0x411)]=_0x3ca507(0x6a8),_0x325dc3['Entity']='entity',_0x325dc3[_0x3ca507(0x8ab)]=_0x3ca507(0x19e),_0x325dc3['Search']=_0x3ca507(0x92e),_0x325dc3['Index']=_0x3ca507(0x9fc),_0x325dc3[_0x3ca507(0x9c4)]=_0x3ca507(0x4f0),_0x325dc3['Skill']=_0x3ca507(0x5f2),_0x325dc3[_0x3ca507(0x3d4)]=_0x3ca507(0x376),_0x325dc3[_0x3ca507(0x7d4)]=_0x3ca507(0x573);}(_0x132faf||(_0x132faf={}));class _0x528469{static [_0x11ce6(0x2c3)];constructor(){}static[_0x11ce6(0x5d2)](){const _0x50de78=_0x11ce6;return _0x528469[_0x50de78(0x2c3)]||(_0x528469['instance']=new _0x528469()),_0x528469[_0x50de78(0x2c3)];}async[_0x11ce6(0x3fa)](_0x1377f4,_0x557441){const _0x596bf0=_0x11ce6,_0xb1fb1f=await(0x0,_0x31eea4['getDoc'])((0x0,_0x31eea4[_0x596bf0(0x425)])(_0x24cd47[_0x596bf0(0x35a)](),_0x596bf0(0x429)+_0x1377f4+_0x596bf0(0x252)+_0x557441)),_0x9731d=await this[_0x596bf0(0x93f)](_0x1377f4),_0x195c3a=await this[_0x596bf0(0x2db)](_0x1377f4),_0x2cb4fe=await this[_0x596bf0(0x205)](_0x1377f4),_0x34551c=await this[_0x596bf0(0x5de)](_0x1377f4),_0x53e2b8=await this[_0x596bf0(0x942)](_0x1377f4);if(!_0xb1fb1f[_0x596bf0(0x1f1)]())throw new _0x490cf1(_0x490cf1[_0x596bf0(0x9fb)][_0x596bf0(0x744)]);return this['parseWorkflowDocument'](_0xb1fb1f,_0x9731d,_0x195c3a,_0x2cb4fe,_0x34551c,_0x53e2b8);}['parseWorkflowDocument'](_0x2bf71d,_0x3909f5,_0x492ef8,_0x56e6d5,_0x4e4be0,_0x562653){const _0x207c17=_0x11ce6,_0x3a07e8=_0x2bf71d[_0x207c17(0x4ff)]();if(!_0x3a07e8)throw new _0x490cf1(_0x490cf1['codes']['WorkflowDoesNotExist']);const _0x5df892=_0x3a07e8['deployedVersion']&&_0x3a07e8[_0x207c17(0x365)]?_0x3a07e8[_0x207c17(0x365)][_0x3a07e8[_0x207c17(0x9f8)]-0x1]:_0x3a07e8,_0x472b6f=this[_0x207c17(0x6ae)](_0x5df892[_0x207c17(0x833)],_0x3909f5,_0x492ef8,_0x56e6d5,_0x562653);return{'id':_0x2bf71d['id'],'modelsBucketId':_0x3a07e8[_0x207c17(0x66b)],'blocks':_0x472b6f,'models':this['getWorkflowModels'](_0x472b6f,_0x4e4be0),'dataBucketIds':this[_0x207c17(0x16a)](_0x472b6f),'externalStorageConnectionIds':this[_0x207c17(0x7e3)](_0x472b6f)};}[_0x11ce6(0xa01)](_0x258300,_0x335d37){const _0x434e19=_0x11ce6,_0x2741a7=new Set();for(const _0x231c69 of _0x258300)if(_0x231c69[_0x434e19(0x789)]!==_0x517648[_0x434e19(0x68c)]&&_0x231c69[_0x434e19(0x789)]!==_0x517648[_0x434e19(0x61d)]||_0x2741a7[_0x434e19(0x5c9)](_0x231c69[_0x434e19(0x596)]),_0x231c69[_0x434e19(0x789)]===_0x517648['Knowledge']||_0x231c69[_0x434e19(0x789)]===_0x517648['DataCollection']){for(const _0xdf24a9 of[..._0x231c69[_0x434e19(0xd8)],..._0x231c69['retrieveBlocks']])_0xdf24a9[_0x434e19(0x789)]===_0x5128b2[_0x434e19(0x4d1)]&&_0x2741a7[_0x434e19(0x5c9)](_0xdf24a9['id']),_0xdf24a9[_0x434e19(0x789)]===_0x5128b2[_0x434e19(0x68c)]&&_0x2741a7[_0x434e19(0x5c9)](_0xdf24a9['modelId']);}return Array[_0x434e19(0x462)](_0x2741a7)['map'](_0x59bc38=>{const _0x2eef22=_0x434e19,{id:_0x14482e,engineType:_0x5cd4d5,taskType:_0x4fd017,knowledgeCutoffDate:_0x4cb0b4,inputType:_0x5cbc0f,outputType:_0x34229f,sourceUrl:_0x113fa6}=_0x335d37[_0x2eef22(0x957)](_0x36e025=>_0x36e025['id']===_0x59bc38);return{'id':_0x14482e,'engineType':_0x5cd4d5,'taskType':_0x4fd017,'knowledgeCutoffDate':_0x4cb0b4,'inputType':_0x5cbc0f,'outputType':_0x34229f,'sourceUrl':_0x113fa6};});}['getWorkflowObjectStorageBuckets'](_0xe5b949){const _0x5216fb=_0x11ce6,_0x4c43fb=new Set();for(const _0x5d0a7b of _0xe5b949)switch(_0x5d0a7b[_0x5216fb(0x789)]){case _0x517648[_0x5216fb(0x9c4)]:case _0x517648[_0x5216fb(0x9a8)]:for(const _0x42c5a6 of[..._0x5d0a7b[_0x5216fb(0xd8)],..._0x5d0a7b[_0x5216fb(0x438)]])_0x42c5a6[_0x5216fb(0x789)]===_0x5128b2['ObjectStorageUpload']&&_0x4c43fb[_0x5216fb(0x5c9)](_0x42c5a6['id']);}return Array['from'](_0x4c43fb);}[_0x11ce6(0x7e3)](_0x3cc5ec){const _0x754bd0=_0x11ce6,_0x4b4f61=new Set();for(const _0x41e935 of _0x3cc5ec)switch(_0x41e935[_0x754bd0(0x789)]){case _0x517648[_0x754bd0(0x9c4)]:case _0x517648[_0x754bd0(0x9a8)]:for(const _0x47835e of[..._0x41e935[_0x754bd0(0xd8)],..._0x41e935['retrieveBlocks']])_0x47835e[_0x754bd0(0x789)]===_0x5128b2[_0x754bd0(0xa10)]&&_0x4b4f61[_0x754bd0(0x5c9)](_0x47835e['id']);}return Array[_0x754bd0(0x462)](_0x4b4f61);}[_0x11ce6(0x6ae)](_0x459b4f,_0x55754d,_0x10eadc,_0xdd8f80,_0xede9cd){return _0x459b4f['map'](_0x127562=>{const _0x23efda=a0_0x5c6e;switch(_0x127562[_0x23efda(0x789)]){case _0x517648[_0x23efda(0x68c)]:case _0x517648[_0x23efda(0x61d)]:const _0x2649a7=_0x55754d['find'](_0x4e2d74=>_0x4e2d74['id']===_0x127562['id']);if(!_0x2649a7)throw new _0x490cf1(_0x490cf1[_0x23efda(0x9fb)]['WorkflowInvalidBlockType'],{'block':_0x127562});const _0x1d1234=_0x127562[_0x23efda(0x5c2)]&&_0x2649a7[_0x23efda(0x365)]?_0x2649a7[_0x23efda(0x365)][_0x127562['version']-0x1]:_0x2649a7;return{'type':_0x2649a7[_0x23efda(0x789)],'id':_0x2649a7['id'],'uid':_0x127562[_0x23efda(0x434)],'name':_0x1d1234[_0x23efda(0x768)],'description':_0x1d1234[_0x23efda(0x805)],'instructions':_0x1d1234[_0x23efda(0x944)],'contextOutputVariable':_0x1d1234[_0x23efda(0x14e)],'contextInputVariable':_0x1d1234[_0x23efda(0x374)],'grammar':['default',_0x23efda(0x198),'json_arr'][_0x23efda(0x2a1)](_0x1d1234['grammar'])?_0x1d1234[_0x23efda(0x6e1)]:_0xede9cd[_0x23efda(0x957)](_0x4f5b6b=>_0x4f5b6b['id']===_0x1d1234[_0x23efda(0x6e1)])[_0x23efda(0x1c4)],'temperature':_0x1d1234[_0x23efda(0x62e)],'maxTokens':_0x1d1234[_0x23efda(0xa16)],'modelId':_0x1d1234['modelId'],'links':_0x127562[_0x23efda(0x440)],'version':_0x127562[_0x23efda(0x5c2)]};case _0x517648[_0x23efda(0x9c4)]:case _0x517648[_0x23efda(0x9a8)]:const _0x4d99c3=_0x10eadc[_0x23efda(0x957)](_0x4d7df9=>_0x4d7df9['id']===_0x127562['id']);if(!_0x4d99c3)throw new _0x490cf1(_0x490cf1[_0x23efda(0x9fb)][_0x23efda(0x446)],{'block':_0x127562});const _0x2ef496=_0x127562[_0x23efda(0x5c2)]&&_0x4d99c3[_0x23efda(0x365)]?_0x4d99c3[_0x23efda(0x365)][_0x127562[_0x23efda(0x5c2)]-0x1]:_0x4d99c3;return{'type':_0x127562[_0x23efda(0x789)],'id':_0x4d99c3['id'],'uid':_0x127562['uid'],'name':_0x2ef496['name'],'description':_0x2ef496[_0x23efda(0x805)],'ingestBlocks':this[_0x23efda(0x2e8)](_0x2ef496[_0x23efda(0xd8)],_0x55754d),'retrieveBlocks':this[_0x23efda(0x2e8)](_0x2ef496[_0x23efda(0x438)],_0x55754d),'links':_0x127562[_0x23efda(0x440)],'version':_0x127562[_0x23efda(0x5c2)]};case _0x517648[_0x23efda(0x182)]:const _0x421dd9=_0xdd8f80[_0x23efda(0x957)](_0x5caaaf=>_0x5caaaf['id']===_0x127562['id']);if(!_0x421dd9)throw new _0x490cf1(_0x490cf1['codes'][_0x23efda(0x446)],{'block':_0x127562});return{'type':_0x127562[_0x23efda(0x789)],'id':_0x421dd9['id'],'uid':_0x127562[_0x23efda(0x434)],'name':_0x421dd9[_0x23efda(0x768)],'description':_0x421dd9[_0x23efda(0x805)],'parameters':_0x421dd9['parameters'],'endpointUrl':_0x421dd9['endpointUrl'],'endpointMethod':_0x421dd9[_0x23efda(0x184)],'headers':_0x421dd9[_0x23efda(0x9ec)],'queryParameters':_0x421dd9[_0x23efda(0x424)],'bodyParameters':_0x421dd9[_0x23efda(0x179)],'contextOutputVariable':_0x421dd9['contextOutputVariable'],'waitAsync':_0x421dd9[_0x23efda(0x7f9)],'asyncEndpointUrl':_0x421dd9[_0x23efda(0x48a)],'asyncEndpointMethod':_0x421dd9[_0x23efda(0x594)],'asyncHeaders':_0x421dd9[_0x23efda(0x845)],'links':_0x127562[_0x23efda(0x440)]};case _0x517648[_0x23efda(0x3fb)]:case _0x517648[_0x23efda(0x256)]:case _0x517648[_0x23efda(0x6fa)]:case _0x517648[_0x23efda(0x222)]:case _0x517648[_0x23efda(0x65a)]:case _0x517648[_0x23efda(0x5ba)]:case _0x517648[_0x23efda(0x68b)]:case _0x517648[_0x23efda(0x79a)]:case _0x517648[_0x23efda(0x1a7)]:case _0x517648[_0x23efda(0x19c)]:return{'type':_0x127562[_0x23efda(0x789)],'id':_0x127562['id'],'uid':_0x127562[_0x23efda(0x434)],'links':_0x127562['links']};case _0x517648[_0x23efda(0x34b)]:case _0x517648[_0x23efda(0x522)]:return{'type':_0x127562[_0x23efda(0x789)],'id':_0x127562['id'],'uid':_0x127562[_0x23efda(0x434)],'links':_0x127562[_0x23efda(0x440)],'attributes':_0x127562[_0x23efda(0x7cd)]};default:throw new _0x490cf1(_0x490cf1[_0x23efda(0x9fb)][_0x23efda(0x446)],{'block':_0x127562});}});}[_0x11ce6(0x2e8)](_0x180dad,_0x83c19e){const _0x1c9541=_0x11ce6;return _0x180dad[_0x1c9541(0x99c)](_0x425acf=>{const _0x40151d=_0x1c9541;switch(_0x425acf[_0x40151d(0x789)]){case _0x5128b2[_0x40151d(0x68c)]:const _0x1ef504=_0x83c19e[_0x40151d(0x957)](_0x2ee2a2=>_0x2ee2a2['id']===_0x425acf['id']);if(!_0x1ef504)throw new _0x490cf1(_0x490cf1[_0x40151d(0x9fb)][_0x40151d(0x446)],{'block':_0x425acf});const _0x2d8208=_0x425acf[_0x40151d(0x5c2)]&&_0x1ef504[_0x40151d(0x365)]?_0x1ef504['versions'][_0x425acf[_0x40151d(0x5c2)]-0x1]:_0x1ef504;return{'type':_0x425acf[_0x40151d(0x789)],'id':_0x425acf['id'],'uid':_0x425acf[_0x40151d(0x434)],'description':_0x2d8208['description'],'instructions':_0x2d8208[_0x40151d(0x944)],'grammar':_0x2d8208[_0x40151d(0x6e1)],'temperature':_0x2d8208[_0x40151d(0x62e)],'maxTokens':_0x2d8208[_0x40151d(0xa16)],'modelId':_0x2d8208[_0x40151d(0x596)],'links':_0x425acf[_0x40151d(0x440)],'version':_0x425acf['version']};case _0x5128b2[_0x40151d(0x2b8)]:case _0x5128b2[_0x40151d(0x9d3)]:case _0x5128b2['WordSplitter']:case _0x5128b2[_0x40151d(0x34b)]:case _0x5128b2['EntityExtractor']:case _0x5128b2[_0x40151d(0xd4)]:return{'type':_0x425acf[_0x40151d(0x789)],'id':_0x425acf['id'],'uid':_0x425acf['uid'],'links':_0x425acf['links'],'attributes':_0x425acf[_0x40151d(0x7cd)]};case _0x5128b2[_0x40151d(0x4d1)]:case _0x5128b2[_0x40151d(0x9bd)]:case _0x5128b2[_0x40151d(0x45f)]:case _0x5128b2[_0x40151d(0x42b)]:case _0x5128b2[_0x40151d(0x19c)]:case _0x5128b2[_0x40151d(0x1a7)]:case _0x5128b2[_0x40151d(0x53f)]:case _0x5128b2[_0x40151d(0xa10)]:case _0x5128b2['Context']:case _0x5128b2[_0x40151d(0x3fb)]:return{'type':_0x425acf['type'],'id':_0x425acf['id'],'uid':_0x425acf[_0x40151d(0x434)],'links':_0x425acf[_0x40151d(0x440)]};default:throw new _0x490cf1(_0x490cf1[_0x40151d(0x9fb)]['WorkflowInvalidBlockType'],{'block':_0x425acf});}});}async[_0x11ce6(0x93f)](_0x4c465a){const _0x3fc02e=_0x11ce6;return(await(0x0,_0x31eea4['getDocs'])((0x0,_0x31eea4[_0x3fc02e(0x270)])(_0x24cd47[_0x3fc02e(0x35a)](),_0x3fc02e(0x429)+_0x4c465a+_0x3fc02e(0x803))))[_0x3fc02e(0x69b)]['map'](_0x10c1ce=>{const _0x18cef9=_0x3fc02e,_0x4b707f=_0x10c1ce[_0x18cef9(0x4ff)]();return{'type':_0x517648[_0x18cef9(0x68c)],'id':_0x10c1ce['id'],'name':_0x4b707f[_0x18cef9(0x768)],'description':_0x4b707f['description'],'instructions':_0x4b707f[_0x18cef9(0x944)],'contextOutputVariable':_0x4b707f['contextOutputVariable'],'contextInputVariable':_0x4b707f[_0x18cef9(0x374)],'grammar':_0x4b707f[_0x18cef9(0x6e1)]??'default','temperature':_0x4b707f[_0x18cef9(0x62e)],'maxTokens':_0x4b707f[_0x18cef9(0xa16)],'modelId':_0x4b707f[_0x18cef9(0x596)],'versions':_0x4b707f['versions']};});}async[_0x11ce6(0x2db)](_0x379671){const _0x4cd353=_0x11ce6;return(await(0x0,_0x31eea4[_0x4cd353(0x29a)])((0x0,_0x31eea4['collection'])(_0x24cd47[_0x4cd353(0x35a)](),'/developers/'+_0x379671+_0x4cd353(0x64b))))[_0x4cd353(0x69b)]['map'](_0x1801a2=>{const _0x588c87=_0x4cd353,_0x54e682=_0x1801a2[_0x588c87(0x4ff)]();return{'type':_0x517648['DataCollection'],'id':_0x1801a2['id'],'name':_0x54e682['name'],'description':_0x54e682[_0x588c87(0x805)],'ingestBlocks':_0x54e682[_0x588c87(0xd8)],'retrieveBlocks':_0x54e682[_0x588c87(0x438)],'versions':_0x54e682[_0x588c87(0x365)]};});}async['getSkills'](_0x379cde){const _0x2f2e98=_0x11ce6;return(await(0x0,_0x31eea4[_0x2f2e98(0x29a)])((0x0,_0x31eea4[_0x2f2e98(0x270)])(_0x24cd47[_0x2f2e98(0x35a)](),_0x2f2e98(0x429)+_0x379cde+_0x2f2e98(0x192))))[_0x2f2e98(0x69b)][_0x2f2e98(0x99c)](_0x5f1f86=>{const _0x1bc9d1=_0x2f2e98,_0x25e4ff=_0x5f1f86[_0x1bc9d1(0x4ff)]();return{'type':_0x517648['CustomSkill'],'id':_0x5f1f86['id'],'name':_0x25e4ff[_0x1bc9d1(0x768)],'description':_0x25e4ff[_0x1bc9d1(0x805)],'parameters':_0x25e4ff['parameters'],'endpointUrl':_0x25e4ff['endpointUrl'],'endpointMethod':_0x25e4ff[_0x1bc9d1(0x184)],'headers':_0x25e4ff['headers'],'queryParameters':_0x25e4ff[_0x1bc9d1(0x424)],'bodyParameters':_0x25e4ff['bodyParameters'],'contextOutputVariable':_0x25e4ff[_0x1bc9d1(0x14e)],'waitAsync':_0x25e4ff['waitAsync']??!0x1,'asyncEndpointUrl':_0x25e4ff['asyncEndpointUrl'],'asyncEndpointMethod':_0x25e4ff[_0x1bc9d1(0x594)],'asyncHeaders':_0x25e4ff[_0x1bc9d1(0x845)]};});}async[_0x11ce6(0x942)](_0x4f91b2){const _0x16b25a=_0x11ce6;return(await(0x0,_0x31eea4[_0x16b25a(0x29a)])((0x0,_0x31eea4['collection'])(_0x24cd47[_0x16b25a(0x35a)](),_0x16b25a(0x429)+_0x4f91b2+_0x16b25a(0x802))))['docs'][_0x16b25a(0x99c)](_0x5cb554=>{const _0x231f7e=_0x16b25a,_0x3a0125=_0x5cb554[_0x231f7e(0x4ff)]();return{'id':_0x5cb554['id'],'name':_0x3a0125[_0x231f7e(0x768)],'description':_0x3a0125[_0x231f7e(0x805)],'content':_0x3a0125['content']};});}async[_0x11ce6(0x5de)](_0xb10257){const _0x3f0766=_0x11ce6;return(await(0x0,_0x31eea4[_0x3f0766(0x29a)])((0x0,_0x31eea4[_0x3f0766(0x270)])(_0x24cd47[_0x3f0766(0x35a)](),_0x3f0766(0x429)+_0xb10257+'/resources/generative-ai-model/items')))[_0x3f0766(0x69b)][_0x3f0766(0x99c)](_0x242d8f=>{const _0x43b4a6=_0x3f0766,_0x30c223=_0x242d8f['data']();return{'id':_0x242d8f['id'],'modelName':_0x30c223[_0x43b4a6(0x74e)],'engineType':_0x30c223[_0x43b4a6(0x799)],'taskType':_0x30c223[_0x43b4a6(0x761)],'knowledgeCutoffDate':_0x30c223[_0x43b4a6(0x572)],'inputType':_0x30c223[_0x43b4a6(0x34d)]??_0x4aea4d[_0x43b4a6(0x7fe)][_0x43b4a6(0x2d5)],'outputType':_0x30c223[_0x43b4a6(0x5ff)]??_0x4aea4d[_0x43b4a6(0x73b)][_0x43b4a6(0x2d5)],'sourceUrl':_0x30c223[_0x43b4a6(0x9d1)]};});}}const _0x4a6fbc=_0x528469[_0x11ce6(0x5d2)]();class _0x3e4c62 extends _0xebcc88{[_0x11ce6(0xd3)];[_0x11ce6(0x391)];[_0x11ce6(0x350)]=0x0;[_0x11ce6(0x278)]=0x0;[_0x11ce6(0x455)];constructor(_0x12322f,_0x3dc768,_0x181e7a,_0x884450){const _0x30bd55=_0x11ce6;super(_0x12322f,_0x3dc768,_0x884450),this[_0x30bd55(0xd3)]=_0x12322f,this[_0x30bd55(0x391)]=_0x181e7a,this[_0x30bd55(0x13c)]();}[_0x11ce6(0x4d6)](){const _0x418346=_0x11ce6;this[_0x418346(0x455)]&&(clearTimeout(this[_0x418346(0x455)]),delete this[_0x418346(0x455)]),super[_0x418346(0x4d6)]();}[_0x11ce6(0x7e8)](){const _0x1c2da2=_0x11ce6;this['prompts']=0x0,this[_0x1c2da2(0x278)]=0x0,this[_0x1c2da2(0x13c)](),super[_0x1c2da2(0x7e8)]();}['createAIJob'](_0x30cc8){const _0x54b111=_0x11ce6,_0x4e8bfe=_0x54b111(0x5f9)+(0x0,_0x5afa59['v4'])();switch(_0x30cc8[_0x54b111(0x789)]){case _0x54b111(0x675):let _0x3877f9=!0x1;const _0x393b14=()=>{const _0x495dd6=_0x54b111;if(_0x3877f9)throw new _0x490cf1(_0x490cf1[_0x495dd6(0x9fb)][_0x495dd6(0x136)]);_0x3877f9=!0x0;},_0x5c3ff9=()=>(_0x393b14(),this[_0x54b111(0x675)](_0x4e8bfe,_0x30cc8[_0x54b111(0x675)],_0x30cc8['options'])),_0x3939ad=()=>(_0x393b14(),this[_0x54b111(0x855)](_0x4e8bfe,_0x30cc8['prompt'],_0x30cc8['options']));return{'id':_0x4e8bfe,'prompt':_0x30cc8[_0x54b111(0x675)],'options':_0x30cc8[_0x54b111(0x809)]??{'threadId':_0x54b111(0x70c)+(0x0,_0x5afa59['v4'])()},'run':_0x5c3ff9,'stream':_0x3939ad};case _0x54b111(0x5ec):let _0x3ba047=!0x1;const _0x1d7a20=()=>{const _0x290e76=_0x54b111;if(_0x3ba047)throw new _0x490cf1(_0x490cf1[_0x290e76(0x9fb)][_0x290e76(0x136)]);_0x3ba047=!0x0;},_0x872c35=()=>(_0x1d7a20(),this[_0x54b111(0x3ac)](_0x4e8bfe,_0x30cc8['rating'],_0x30cc8[_0x54b111(0x3c8)],_0x30cc8[_0x54b111(0x809)]));if(!_0x30cc8[_0x54b111(0x809)]?.['threadId'])throw new _0x39299d(_0x1ffca6[_0x54b111(0x120)],_0x54b111(0x66a));return{'id':_0x4e8bfe,'rating':_0x30cc8[_0x54b111(0x601)],'options':_0x30cc8[_0x54b111(0x809)]??{'threadId':_0x54b111(0x70c)+(0x0,_0x5afa59['v4'])()},'rate':_0x872c35};case _0x54b111(0x3f7):let _0x425f23=!0x1;const _0x598ec2=()=>{const _0x4eab8f=_0x54b111;if(_0x425f23)throw new _0x490cf1(_0x490cf1[_0x4eab8f(0x9fb)][_0x4eab8f(0x136)]);_0x425f23=!0x0;};return{'id':_0x4e8bfe,'objectStoreId':'','documentPath':_0x30cc8[_0x54b111(0x74b)],'download':()=>(_0x598ec2(),this['internalDownloadDocument'](_0x4e8bfe,_0x30cc8['objectStoreId'],_0x30cc8[_0x54b111(0x74b)]))};}}async[_0x11ce6(0x998)](_0x4a6402){const _0x427d01=_0x11ce6;return this['createAIJob'](_0x4a6402)[_0x427d01(0x5ec)]();}async['downloadDocument'](_0x45c2e1){const _0x27ebf2=_0x11ce6,_0x3fd74e={'type':'downloadDocument','objectStoreId':'','documentPath':_0x45c2e1};return this[_0x27ebf2(0x739)](_0x3fd74e)['download']();}async[_0x11ce6(0x3ac)](_0x25477c,_0x333ea3,_0x28b5f0,{threadId:_0x8581e4,feedback:_0xdbe16e=''}){const _0x446412=_0x11ce6,_0x28448e={'type':'rate','jobId':_0x28b5f0,'threadId':_0x8581e4,'rating':_0x333ea3,'feedback':_0xdbe16e},_0x120bc9=await this[_0x446412(0x2b6)](_0x25477c,_0x4aea4d[_0x446412(0x6cc)]['Job'],_0x28448e,{'threadId':_0x8581e4,'feedback':_0xdbe16e});return new Promise((_0x52bab2,_0x4a71ba)=>{const _0x18b0de=_0x446412;let _0x17d47d;const _0x3c6220=_0x120bc9[_0x18b0de(0x85a)]({'next':_0x1b2cea=>{const _0x365793=_0x18b0de;switch(_0x1b2cea[_0x365793(0x373)]){case _0x4aea4d[_0x365793(0x5fa)][_0x365793(0x22f)]:clearTimeout(_0x17d47d),_0x52bab2(_0x1b2cea[_0x365793(0x4e1)]),_0x3c6220[_0x365793(0x786)]();break;case _0x4aea4d['JobStatus']['Failed']:clearTimeout(_0x17d47d),_0x4a71ba(new _0x490cf1(_0x490cf1['codes'][_0x365793(0x30c)],{'updatedJob':_0x1b2cea})),_0x3c6220[_0x365793(0x786)]();}},'error':_0x442c24=>{const _0xd946f7=_0x18b0de;clearTimeout(_0x17d47d),_0x4a71ba(new _0x490cf1(_0x490cf1[_0xd946f7(0x9fb)][_0xd946f7(0x30c)],{'err':_0x442c24})),_0x3c6220[_0xd946f7(0x786)]();}});_0x17d47d=setTimeout(()=>{const _0x2320bf=_0x18b0de;_0x4a71ba(new _0x490cf1(_0x490cf1['codes'][_0x2320bf(0xef)])),_0x3c6220['unsubscribe']();},_0x446b7a);});}async[_0x11ce6(0x3b8)](_0x4fd514,_0x38ba82,_0x181577){const _0x57c5ec=_0x11ce6,_0x3bb57e={'type':'downloadDocument','objectStoreId':_0x38ba82,'documentPath':_0x181577,'threadId':_0x57c5ec(0x70c)+(0x0,_0x5afa59['v4'])()},_0x561abe=await this[_0x57c5ec(0x2b6)](_0x4fd514,_0x4aea4d[_0x57c5ec(0x6cc)][_0x57c5ec(0xa09)],_0x3bb57e);return new Promise((_0x2050da,_0x8b4f46)=>{const _0x5a207c=_0x57c5ec;let _0xd6d2bf;const _0x123209=_0x561abe[_0x5a207c(0x85a)]({'next':_0x36953d=>{const _0x9ec738=_0x5a207c;switch(_0x36953d['status']){case _0x4aea4d['JobStatus'][_0x9ec738(0x22f)]:clearTimeout(_0xd6d2bf),_0x2050da(_0x36953d[_0x9ec738(0x4e1)]),_0x123209[_0x9ec738(0x786)]();break;case _0x4aea4d[_0x9ec738(0x5fa)][_0x9ec738(0x78f)]:clearTimeout(_0xd6d2bf),_0x8b4f46(new _0x490cf1(_0x490cf1[_0x9ec738(0x9fb)][_0x9ec738(0x30c)],{'updatedJob':_0x36953d})),_0x123209[_0x9ec738(0x786)]();}},'error':_0x42eabf=>{const _0x29584a=_0x5a207c;clearTimeout(_0xd6d2bf),_0x8b4f46(new _0x490cf1(_0x490cf1[_0x29584a(0x9fb)][_0x29584a(0x30c)],{'err':_0x42eabf})),_0x123209[_0x29584a(0x786)]();}});_0xd6d2bf=setTimeout(()=>{const _0x1a6853=_0x5a207c;_0x8b4f46(new _0x490cf1(_0x490cf1[_0x1a6853(0x9fb)]['GenerativeAIContextJobTimeout'])),_0x123209[_0x1a6853(0x786)]();},_0x446b7a);});}async[_0x11ce6(0x675)](_0x30f579,_0x4f8a62,_0x43291d){const _0x386b05=_0x11ce6,_0x214c11={'type':_0x386b05(0x675),'prompt':_0x4f8a62,'threadId':_0x43291d?.['threadId']??_0x386b05(0x70c)+(0x0,_0x5afa59['v4'])()},_0x5298d1=await this[_0x386b05(0x2b6)](_0x30f579,_0x4aea4d[_0x386b05(0x6cc)][_0x386b05(0xa09)],_0x214c11,_0x43291d);return new Promise((_0xd77c1b,_0x423ef4)=>{const _0x2ef779=_0x386b05;let _0x5b14f7;const _0x4e1a28=_0x5298d1[_0x2ef779(0x85a)]({'next':_0x5a73f9=>{const _0x3a703e=_0x2ef779;switch(_0x5a73f9['status']){case _0x4aea4d['JobStatus'][_0x3a703e(0x22f)]:if('prompt'!==_0x5a73f9[_0x3a703e(0x4e1)][_0x3a703e(0x789)])return;const _0x31cbbd=_0x5a73f9[_0x3a703e(0x4e1)][_0x3a703e(0x408)]??0x0;this['logServiceEvent'](_0x4f8a62,_0x31cbbd),clearTimeout(_0x5b14f7),_0xd77c1b(_0x5a73f9[_0x3a703e(0x4e1)]),_0x4e1a28[_0x3a703e(0x786)](),this[_0x3a703e(0x350)]+=0x1,this[_0x3a703e(0x278)]+=_0x31cbbd,this[_0x3a703e(0x13c)]();break;case _0x4aea4d[_0x3a703e(0x5fa)][_0x3a703e(0x78f)]:clearTimeout(_0x5b14f7),_0x423ef4(new _0x490cf1(_0x490cf1[_0x3a703e(0x9fb)]['GenerativeAIContextJobFailed'],{'updatedJob':_0x5a73f9})),_0x4e1a28['unsubscribe'](),this['sendStats']();}},'error':_0x3f023a=>{const _0x3c1ebc=_0x2ef779;clearTimeout(_0x5b14f7),_0x423ef4(new _0x490cf1(_0x490cf1[_0x3c1ebc(0x9fb)]['GenerativeAIContextJobFailed'],{'err':_0x3f023a})),_0x4e1a28[_0x3c1ebc(0x786)]();}});_0x5b14f7=setTimeout(()=>{const _0x5c2444=_0x2ef779;_0x423ef4(new _0x490cf1(_0x490cf1[_0x5c2444(0x9fb)][_0x5c2444(0xef)])),_0x4e1a28[_0x5c2444(0x786)]();},_0x446b7a);});}async*[_0x11ce6(0x855)](_0x46b33b,_0x57b435,_0x4e1899){const _0x82a688=_0x11ce6,_0x1408bd={'type':_0x82a688(0x675),'prompt':_0x57b435,'threadId':_0x4e1899?.['threadId']??'thread-'+(0x0,_0x5afa59['v4'])()},_0x2bd0ae=await this[_0x82a688(0x2b6)](_0x46b33b,_0x4aea4d['JobType'][_0x82a688(0x622)],_0x1408bd,_0x4e1899);let _0x7ab856,_0x3e0ab4,_0x514f9d=!0x1,_0x2a9530=0x0;const _0x232a1f=[],_0x45c859=new Map();let _0x4a39dc=null;const _0x39efe9=()=>{_0x4a39dc&&(_0x4a39dc(),_0x4a39dc=null);},_0x2cfc7c=_0x9417dc=>{const _0x515778=_0x82a688;_0x514f9d=!0x0,_0x39efe9(),_0x35d905[_0x515778(0x786)](),_0x3e0ab4=_0x9417dc;},_0x35d905=_0x2bd0ae[_0x82a688(0x85a)]({'next':_0x520dc5=>{const _0x1a6994=_0x82a688;switch(_0x520dc5[_0x1a6994(0x373)]){case _0x4aea4d[_0x1a6994(0x5fa)][_0x1a6994(0x10e)]:if('prompt'!==_0x520dc5[_0x1a6994(0x4e1)]['type'])return;if(_0x520dc5['result']&&void 0x0!==_0x520dc5[_0x1a6994(0x4e1)][_0x1a6994(0x790)]){if(void 0x0===_0x520dc5[_0x1a6994(0x4e1)][_0x1a6994(0x9fc)])return void _0x2cfc7c(_0x490cf1[_0x1a6994(0x9fb)][_0x1a6994(0x14c)]);_0x2a9530===_0x520dc5[_0x1a6994(0x4e1)][_0x1a6994(0x9fc)]?(_0x232a1f[_0x1a6994(0x7bc)](_0x520dc5[_0x1a6994(0x4e1)]),_0x2a9530++,((()=>{const _0x43ed53=_0x1a6994;for(;_0x45c859[_0x43ed53(0x297)](_0x2a9530);)_0x232a1f[_0x43ed53(0x7bc)](_0x45c859[_0x43ed53(0x3f2)](_0x232a1f[_0x43ed53(0x7ad)])),_0x45c859['delete'](_0x232a1f[_0x43ed53(0x7ad)]),_0x2a9530++;})()),_0x39efe9(),_0x22c9d8()):_0x45c859[_0x1a6994(0x323)](_0x520dc5[_0x1a6994(0x4e1)][_0x1a6994(0x9fc)],_0x520dc5[_0x1a6994(0x4e1)]);}break;case _0x4aea4d['JobStatus'][_0x1a6994(0x22f)]:if(_0x1a6994(0x675)!==_0x520dc5['result'][_0x1a6994(0x789)])return;const _0x435669=_0x520dc5[_0x1a6994(0x4e1)][_0x1a6994(0x408)]??0x0;this[_0x1a6994(0x253)](_0x57b435,_0x435669),clearTimeout(_0x7ab856),_0x2cfc7c(),this[_0x1a6994(0x350)]+=0x1,this[_0x1a6994(0x278)]+=_0x435669,this['sendStats']();break;case _0x4aea4d[_0x1a6994(0x5fa)][_0x1a6994(0x78f)]:clearTimeout(_0x7ab856),_0x2cfc7c(_0x490cf1[_0x1a6994(0x9fb)]['GenerativeAIContextJobFailed']),this[_0x1a6994(0x13c)]();}},'error':_0x100e4f=>{const _0x54424f=_0x82a688;clearTimeout(_0x7ab856),_0x2cfc7c(_0x490cf1[_0x54424f(0x9fb)][_0x54424f(0x30c)]);}}),_0x5eafbc=()=>{const _0x5b8504=_0x82a688;_0x2cfc7c(_0x490cf1['codes'][_0x5b8504(0xef)]);},_0x22c9d8=()=>{clearTimeout(_0x7ab856),_0x7ab856=setTimeout(_0x5eafbc,_0x446b7a);};for(_0x7ab856=setTimeout(_0x5eafbc,_0x446b7a);!_0x514f9d||_0x232a1f['length']>0x0;)_0x232a1f[_0x82a688(0x7ad)]>0x0?yield _0x232a1f[_0x82a688(0x52d)]():await new Promise(_0x576fa6=>_0x4a39dc=_0x576fa6);if(_0x3e0ab4)throw _0x5c02ff[_0x82a688(0x89e)](_0x82a688(0x3f5),{'nodeId':this[_0x82a688(0xd3)][_0x82a688(0x9d8)](),'nodeType':this[_0x82a688(0xd3)][_0x82a688(0x789)]}),new _0x490cf1(_0x3e0ab4);}async[_0x11ce6(0x92a)](){const _0x31f555=_0x11ce6;return(await _0x4a6fbc[_0x31f555(0x3fa)](this[_0x31f555(0x391)],this[_0x31f555(0x6e8)]))[_0x31f555(0x476)];}[_0x11ce6(0x253)](_0x5179db,_0x19beb4){const _0x2503c1=_0x11ce6,_0x17635a=this['label'],_0x4a348e=this[_0x2503c1(0x3d0)]();_0x5c02ff[_0x2503c1(0x253)](_0x8fa077[_0x2503c1(0x1e1)],{'topic':_0x17635a,'prompt':_0x5179db,'type':_0x2503c1(0x675),'nodeId':_0x4a348e,'tokenCount':_0x19beb4});}async[_0x11ce6(0x2b6)](_0xd723e5,_0x5e2868,_0x564e07,_0x34b459={}){const _0x12ae99=_0x11ce6;let _0x48c77b;switch(_0x564e07[_0x12ae99(0x789)]){case _0x12ae99(0x675):{const {threadId:_0x291ce0}=_0x34b459;_0x48c77b={'id':_0xd723e5,'jobType':_0x5e2868,'parameters':{..._0x34b459,'type':_0x12ae99(0x675),'prompt':_0x564e07['prompt'],'threadId':_0x291ce0},'status':_0x4aea4d[_0x12ae99(0x5fa)]['Pending']};break;}case _0x12ae99(0x5ec):{const {threadId:_0x1289a5}=_0x34b459;_0x48c77b={'id':_0xd723e5,'jobType':_0x5e2868,'parameters':{..._0x34b459,'type':_0x12ae99(0x5ec),'jobId':_0x564e07['jobId'],'rating':_0x564e07[_0x12ae99(0x601)],'feedback':_0x564e07['feedback']??'','threadId':_0x1289a5},'status':_0x4aea4d[_0x12ae99(0x5fa)]['Pending']};break;}case _0x12ae99(0x3f7):_0x48c77b={'id':_0xd723e5,'jobType':_0x5e2868,'parameters':{..._0x34b459,'type':_0x12ae99(0x3f7),'objectStoreId':_0x564e07[_0x12ae99(0x623)],'documentPath':_0x564e07['documentPath']},'status':_0x4aea4d[_0x12ae99(0x5fa)][_0x12ae99(0x823)]};}return await this[_0x12ae99(0x620)](_0x48c77b);}[_0x11ce6(0x13c)](){const _0x151884=_0x11ce6;this[_0x151884(0x455)]&&clearTimeout(this[_0x151884(0x455)]),this[_0x151884(0x455)]=setTimeout(async()=>{const _0x48e89e=_0x151884;delete this[_0x48e89e(0x455)],this[_0x48e89e(0x1ad)][_0x48e89e(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x48e89e(0x575)],'content':{'type':_0x18f1c1['GenerativeAIContextStats'],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this[_0x48e89e(0x299)],'messagesReceived':this[_0x48e89e(0x219)],'bytesSent':this['bytesSent'],'bytesReceived':this[_0x48e89e(0x8a5)],'writes':0x0,'reads':0x0,'prompts':this[_0x48e89e(0x350)],'tokens':this['tokens']}}});},_0x59cbea);}}var _0x5b92a7,_0x569f4c,_0x23ecc6,_0xb90109,_0x563719,_0x5b159a,_0x2c3ee5,_0x398e63,_0x3e4ff0,_0xb3ac0d,_0x2b1d18;!function(_0x12ba36){const _0x5484f7=_0x11ce6;_0x12ba36['AITrace']=_0x5484f7(0x407),_0x12ba36[_0x5484f7(0x24b)]=_0x5484f7(0x24b),_0x12ba36['RetrieveTrace']=_0x5484f7(0x389),_0x12ba36[_0x5484f7(0x396)]=_0x5484f7(0x396);}(_0x5b92a7||(_0x5b92a7={})),function(_0x29718){const _0x4de3cf=_0x11ce6;_0x29718[_0x4de3cf(0x670)]=_0x4de3cf(0x670),_0x29718[_0x4de3cf(0x8ca)]=_0x4de3cf(0x8ca),_0x29718['VectorSearch']=_0x4de3cf(0x92c),_0x29718[_0x4de3cf(0x2a0)]='EntityExtractor',_0x29718[_0x4de3cf(0x6a7)]=_0x4de3cf(0x6a7),_0x29718[_0x4de3cf(0xd4)]='Reranker';}(_0x569f4c||(_0x569f4c={})),function(_0x921123){const _0x49cf03=_0x11ce6;_0x921123[_0x921123[_0x49cf03(0x851)]=0x0]=_0x49cf03(0x851),_0x921123[_0x921123[_0x49cf03(0x602)]=0x5]=_0x49cf03(0x602),_0x921123[_0x921123[_0x49cf03(0x6a0)]=0xa]=_0x49cf03(0x6a0),_0x921123[_0x921123[_0x49cf03(0x692)]=0xf]=_0x49cf03(0x692);}(_0x23ecc6||(_0x23ecc6={})),function(_0x466a73){const _0x4e34af=_0x11ce6;_0x466a73[_0x4e34af(0x683)]=_0x4e34af(0x683),_0x466a73[_0x4e34af(0x4fb)]='Ingest',_0x466a73[_0x4e34af(0x9c4)]='Knowledge',_0x466a73[_0x4e34af(0x8cf)]=_0x4e34af(0x8cf),_0x466a73['Workflow']=_0x4e34af(0x846),_0x466a73[_0x4e34af(0xa09)]=_0x4e34af(0xa09),_0x466a73[_0x4e34af(0x4f2)]=_0x4e34af(0x4f2),_0x466a73[_0x4e34af(0x1d7)]=_0x4e34af(0x1d7);}(_0xb90109||(_0xb90109={})),function(_0x7f7dfc){const _0x2d75b3=_0x11ce6;_0x7f7dfc['Queued']=_0x2d75b3(0x740),_0x7f7dfc['Completed']=_0x2d75b3(0x22f);}(_0x563719||(_0x563719={})),function(_0x497c04){const _0x30514e=_0x11ce6;_0x497c04[_0x30514e(0x7ba)]='InitialPrompt',_0x497c04[_0x30514e(0x513)]=_0x30514e(0x513),_0x497c04['DataCollection']=_0x30514e(0x9a8),_0x497c04[_0x30514e(0x281)]=_0x30514e(0x281);}(_0x5b159a||(_0x5b159a={})),function(_0xe8429a){const _0x54de12=_0x11ce6;_0xe8429a[_0x54de12(0x34b)]=_0x54de12(0x34b),_0xe8429a[_0x54de12(0x19c)]=_0x54de12(0x19c),_0xe8429a[_0x54de12(0x2a0)]=_0x54de12(0x2a0),_0xe8429a[_0x54de12(0x2b8)]=_0x54de12(0x2b8),_0xe8429a[_0x54de12(0x68c)]='Agent',_0xe8429a[_0x54de12(0x670)]='ModelText',_0xe8429a['ModelVector']=_0x54de12(0x8ca),_0xe8429a[_0x54de12(0x42b)]=_0x54de12(0x42b),_0xe8429a[_0x54de12(0x1a7)]=_0x54de12(0x1a7),_0xe8429a['VectorDatabase']='VectorDatabase',_0xe8429a['WordSplitter']='WordSplitter';}(_0x2c3ee5||(_0x2c3ee5={})),function(_0x4ba0ab){const _0x539cd8=_0x11ce6;_0x4ba0ab[_0x539cd8(0x29b)]=_0x539cd8(0x29b),_0x4ba0ab[_0x539cd8(0x2ed)]='GetContextResult';}(_0x398e63||(_0x398e63={})),function(_0xca1c7c){const _0x3ca5ae=_0x11ce6;_0xca1c7c[_0x3ca5ae(0x934)]=_0x3ca5ae(0x934),_0xca1c7c[_0x3ca5ae(0x9e9)]=_0x3ca5ae(0x9e9),_0xca1c7c[_0x3ca5ae(0x794)]=_0x3ca5ae(0x794),_0xca1c7c[_0x3ca5ae(0x771)]=_0x3ca5ae(0x771),_0xca1c7c['ExecuteAgent']='ExecuteAgent',_0xca1c7c[_0x3ca5ae(0x69a)]=_0x3ca5ae(0x69a),_0xca1c7c[_0x3ca5ae(0x79a)]='QueryFile';}(_0x3e4ff0||(_0x3e4ff0={})),function(_0x2f12e1){const _0x4dcd4c=_0x11ce6;_0x2f12e1['LoadKnowledgeFunction']=_0x4dcd4c(0x6f3),_0x2f12e1[_0x4dcd4c(0x1d8)]=_0x4dcd4c(0x1d8);}(_0xb3ac0d||(_0xb3ac0d={})),function(_0x320df0){const _0x5a2b5b=_0x11ce6;_0x320df0['PromptRating']=_0x5a2b5b(0x315);}(_0x2b1d18||(_0x2b1d18={}));class _0x3a84dc{static [_0x11ce6(0x2c3)]=new _0x3a84dc();[_0x11ce6(0x653)]=[];[_0x11ce6(0x25a)]=!0x1;constructor(){}static[_0x11ce6(0x5d2)](){return _0x3a84dc['instance'];}get[_0x11ce6(0x7ad)](){const _0x2caa06=_0x11ce6;return this[_0x2caa06(0x653)][_0x2caa06(0x7ad)];}['isAvailable'](){const _0x2356c1=_0x11ce6;return!this[_0x2356c1(0x25a)];}[_0x11ce6(0x918)](_0x5811a8){const _0x4965cb=_0x11ce6;_0x5811a8?this[_0x4965cb(0x653)]=this[_0x4965cb(0x653)][_0x4965cb(0x80e)](_0x34e621=>_0x34e621[_0x4965cb(0x3d1)]!==_0x5811a8):(this[_0x4965cb(0x653)]=[],this[_0x4965cb(0x25a)]=!0x1);}[_0x11ce6(0x5c9)](_0x5d9ddb,_0x455919){const _0x24f1e6=_0x11ce6;this[_0x24f1e6(0x653)][_0x24f1e6(0x7bc)]({'callback':_0x455919,'ownerId':_0x5d9ddb}),this['runJobQueue']();}async[_0x11ce6(0x149)](){const _0x436cd4=_0x11ce6;if(!this[_0x436cd4(0x25a)]){for(this['isRunning']=!0x0;this['jobQueue'][_0x436cd4(0x7ad)]>0x0;){const _0x5dc9ca=this[_0x436cd4(0x653)][_0x436cd4(0x52d)]();if(_0x5dc9ca)try{console[_0x436cd4(0x900)](_0x436cd4(0x7ac)),await _0x5dc9ca['callback'](),console[_0x436cd4(0x900)](_0x436cd4(0x599));}catch(_0x309faf){console[_0x436cd4(0x89e)]('JobQueueService:\x20Error\x20running\x20job',_0x309faf);}}this[_0x436cd4(0x25a)]=!0x1;}}}const _0x543b18=_0x3a84dc[_0x11ce6(0x5d2)]();class _0x4d0187 extends _0x468001{[_0x11ce6(0x211)];[_0x11ce6(0x16d)];constructor(_0x1b2639,_0x75135b,_0x139fc5){const _0x138dc5=_0x11ce6;super(_0x1b2639,_0x75135b),this[_0x138dc5(0x211)]=_0x139fc5;}[_0x11ce6(0x503)](){const _0x1d9438=_0x11ce6;return _0x4aea4d[_0x1d9438(0x43d)][_0x1d9438(0xa09)];}[_0x11ce6(0x4ec)](){const _0x44c518=_0x11ce6;this[_0x44c518(0x7a8)]();}[_0x11ce6(0x17e)](){const _0x49220a=_0x11ce6;this[_0x49220a(0x1ad)]?.[_0x49220a(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x49220a(0x575)],'content':{'type':_0x18f1c1['CloseJobWorker'],'label':this[_0x49220a(0x6e8)]}});}['reset'](){const _0x3cb8f1=_0x11ce6;this['unsubscribeListener']?.(),delete this['unsubscribeListener'],this[_0x3cb8f1(0x4ec)]();}[_0x11ce6(0x4d6)](){const _0x4dd091=_0x11ce6;_0x543b18['clear'](this[_0x4dd091(0x6e8)]),this['unsubscribeListener']?.(),delete this['unsubscribeListener'],super[_0x4dd091(0x4d6)]();}[_0x11ce6(0x628)](){const _0x44d1ab=_0x11ce6;return _0x543b18[_0x44d1ab(0x628)]();}['getBid'](){return 0x1;}[_0x11ce6(0x234)](_0x136cde,_0x7d6641,_0x4ff9cd){}[_0x11ce6(0x702)](_0x402b9d,_0x180f9c){return _0x402b9d;}[_0x11ce6(0x7a5)](_0x2f0b43,_0x153bb5){const _0x40fc9d=_0x11ce6;console[_0x40fc9d(0x900)](_0x40fc9d(0x268));}['stopTracing'](_0x3bb342,_0x2ed99f){const _0x5de83a=_0x11ce6;console[_0x5de83a(0x900)](_0x5de83a(0x268));}['subscribeToJobs'](){const _0x1d4ffe=_0x11ce6;this['unsubscribeListener']||(this[_0x1d4ffe(0x16d)]=this[_0x1d4ffe(0xc1)]((_0x22abf1,_0x182542)=>{const _0x90c91c=_0x1d4ffe;if(_0x5c02ff[_0x90c91c(0x65b)](_0x1e4869['Jobs'],_0x90c91c(0x7a4),_0x182542),!(_0x182542 instanceof File)){if(this[_0x90c91c(0x43e)](_0x182542))_0x5c02ff[_0x90c91c(0x65b)](_0x1e4869[_0x90c91c(0x26e)],'JobWorker:\x20Received\x20job\x20request',_0x182542),this[_0x90c91c(0x628)]()?this['sendBid'](_0x182542['id'],_0x182542[_0x90c91c(0x3c9)],_0x22abf1):this[_0x90c91c(0x959)](_0x182542['id'],_0x182542[_0x90c91c(0x3c9)],_0x22abf1);else{if(this[_0x90c91c(0x294)](_0x182542)){_0x5c02ff[_0x90c91c(0x65b)](_0x1e4869[_0x90c91c(0x26e)],_0x90c91c(0x2ca),_0x182542);const {id:_0x3f873b,parameters:_0x38aee6}=_0x182542;this['startTracing'](_0x3f873b,_0x38aee6),_0x543b18[_0x90c91c(0x5c9)](this[_0x90c91c(0x6e8)],()=>this['handleJobAttribution'](_0x182542['id'],_0x182542,_0x22abf1));}}}}));}[_0x11ce6(0x9ee)](_0x4fe0f0,_0x5d75f5,_0x258401){const _0x443bf1=_0x11ce6,_0x151a03={'id':_0x4fe0f0,'jobType':_0x5d75f5,'jobPhase':_0x28f344[_0x443bf1(0x22a)],'available':!0x0,'queueLength':_0x543b18[_0x443bf1(0x7ad)],'bid':this[_0x443bf1(0x4ad)]()};_0x5c02ff[_0x443bf1(0x65b)](_0x1e4869['Jobs'],'JobWorker:\x20Sending\x20job\x20bid',_0x151a03),this[_0x443bf1(0x41d)](_0x151a03,[_0x258401]);}[_0x11ce6(0x959)](_0x1e34fa,_0x87bee,_0x32597c){const _0x181ee7=_0x11ce6,_0x445125={'id':_0x1e34fa,'jobType':_0x87bee,'jobPhase':_0x28f344['Bid'],'available':!0x1,'queueLength':_0x543b18[_0x181ee7(0x7ad)],'bid':0x0};_0x5c02ff[_0x181ee7(0x65b)](_0x1e4869['Jobs'],'JobWorker:\x20Sending\x20job\x20reject',_0x445125),this[_0x181ee7(0x41d)](_0x445125,[_0x32597c]);}async['handleJobAttribution'](_0xbb404e,_0x3f61ee,_0x43f77a){const _0x3bf3cc=_0x11ce6;_0x5c02ff[_0x3bf3cc(0x65b)](_0x1e4869[_0x3bf3cc(0x26e)],_0x3bf3cc(0x6f2),_0x3f61ee);const _0x54738d={'id':_0xbb404e,'jobType':_0x3f61ee[_0x3bf3cc(0x3c9)],'parameters':_0x3f61ee[_0x3bf3cc(0x54b)]};try{switch(_0x3f61ee[_0x3bf3cc(0x3c9)]){case _0x4aea4d['JobType'][_0x3bf3cc(0xa09)]:await this['processJob'](_0xbb404e,_0x3f61ee,_0x54738d,_0x43f77a);break;case _0x4aea4d[_0x3bf3cc(0x6cc)][_0x3bf3cc(0x622)]:await this[_0x3bf3cc(0x4e8)](_0xbb404e,_0x3f61ee,_0x54738d,_0x43f77a);break;default:throw new Error('Unsupported\x20job\x20type');}}catch(_0x1698ad){_0x5c02ff['error'](_0x3bf3cc(0x226),{'nodeId':this[_0x3bf3cc(0x8fc)][_0x3bf3cc(0x9d8)](),'nodeType':this['owner'][_0x3bf3cc(0x789)],'data':{'job':_0x54738d}},_0x1698ad);const _0x54bd72=_0x1698ad instanceof Error?_0x1698ad[_0x3bf3cc(0x686)]:'An\x20error\x20occurred',_0x2a8301={'id':_0xbb404e,'jobType':_0x3f61ee['jobType'],'jobPhase':_0x28f344[_0x3bf3cc(0x78f)],'message':_0x54bd72};await this['send'](_0x2a8301,[_0x43f77a]);}}async['processJob'](_0x5320ab,_0x41ec6d,_0x49e1ac,_0x483841){const _0x406977=_0x11ce6,_0x4da2a8=Date[_0x406977(0x3bd)](),_0x50de27=await this[_0x406977(0x3e8)](_0x5320ab,_0x49e1ac[_0x406977(0x54b)]);this[_0x406977(0x234)](_0x50de27,_0x4da2a8,Date[_0x406977(0x3bd)]());const _0x1e24ac={'id':_0x5320ab,'jobType':_0x41ec6d[_0x406977(0x3c9)],'jobPhase':_0x28f344[_0x406977(0x667)],'result':_0x50de27};_0x5c02ff[_0x406977(0x65b)](_0x1e4869[_0x406977(0x26e)],_0x406977(0x31b),_0x1e24ac),await this['send'](_0x1e24ac,[_0x483841]),this[_0x406977(0x549)](_0x5320ab,_0x49e1ac[_0x406977(0x54b)]);}async[_0x11ce6(0x4e8)](_0x179850,_0x2557f0,_0x9927b,_0x377f2f){const _0x5cf6f5=_0x11ce6,_0x5c4b89=Date[_0x5cf6f5(0x3bd)]();let _0x35a168=0x0,_0x3d9ac8={};for await(const _0x2eab85 of this['internalProcessJobStream'](_0x9927b['id'],_0x9927b['parameters'])){const _0x4c33d8={'id':_0x179850,'jobType':_0x2557f0[_0x5cf6f5(0x3c9)],'jobPhase':_0x28f344['PartialResult'],'result':{..._0x2eab85,'index':_0x35a168}};_0x5c02ff[_0x5cf6f5(0x65b)](_0x1e4869[_0x5cf6f5(0x26e)],_0x5cf6f5(0x6d7),_0x4c33d8),this['send'](_0x4c33d8,[_0x377f2f]),_0x3d9ac8=this[_0x5cf6f5(0x702)](_0x3d9ac8,_0x2eab85),_0x35a168++;}this[_0x5cf6f5(0x234)](_0x3d9ac8,_0x5c4b89,Date[_0x5cf6f5(0x3bd)]());const _0x2f9da9={'id':_0x179850,'jobType':_0x2557f0[_0x5cf6f5(0x3c9)],'jobPhase':_0x28f344[_0x5cf6f5(0x667)],'result':_0x3d9ac8};_0x5c02ff['log'](_0x1e4869['Jobs'],_0x5cf6f5(0x31b),_0x2f9da9),await this[_0x5cf6f5(0x41d)](_0x2f9da9,[_0x377f2f]),this[_0x5cf6f5(0x549)](_0x179850,_0x9927b[_0x5cf6f5(0x54b)]);}[_0x11ce6(0x43e)](_0x4ef54d){const _0x23eb28=_0x11ce6;return _0x4ef54d[_0x23eb28(0x714)]===_0x28f344['Request'];}[_0x11ce6(0x294)](_0x58804f){const _0x38db8c=_0x11ce6;return _0x58804f[_0x38db8c(0x714)]===_0x28f344['Attribution'];}}function _0xdd6566(_0x25639b,_0x3acf98){const _0x341b87=_0x11ce6;return _0x341b87(0x240)+_0x25639b+'-'+_0x3acf98;}function _0x534825(){const _0x4ff3c8=_0x11ce6,_0x3f02e6=_0x557a54[_0x4ff3c8(0x80f)](0x1);return _0x3f02e6[_0x4ff3c8(0x377)](_0x4ff3c8(0x7c0))['index']('id')[_0x4ff3c8(0x9fc)](_0x4ff3c8(0x3c8))['index']('agentId')[_0x4ff3c8(0x9fc)](_0x4ff3c8(0x8ec))['index'](_0x4ff3c8(0x951))[_0x4ff3c8(0x9fc)](_0x4ff3c8(0x676)),_0x3f02e6;}function _0x5048b9(_0x4895b4){const _0x4afb25=_0x11ce6;try{return JSON[_0x4afb25(0x3ea)](_0x4895b4);}catch(_0x172d0d){return _0x4895b4 instanceof Error?_0x4895b4[_0x4afb25(0x2bd)]():JSON[_0x4afb25(0x3ea)](_0x4afb25(0x53e));}}class _0x54006a{static ['instance'];[_0x11ce6(0x2e4)]=_0x23ecc6['Error'];['commitLevel']=_0x23ecc6[_0x11ce6(0x602)];[_0x11ce6(0x9e8)]=_0xb90109['Retrieve'];['openedTraces']={};static [_0x11ce6(0x5d2)]=()=>(_0x54006a[_0x11ce6(0x2c3)]||(_0x54006a[_0x11ce6(0x2c3)]=new _0x54006a()),_0x54006a['instance']);[_0x11ce6(0x356)](_0x580662,_0xf27259,_0x43902e=!0x0){const _0x3e6c65=_0x11ce6;try{if(this[_0x3e6c65(0x3e4)][_0xf27259])throw new Error(_0x3e6c65(0x23d));const _0x2c0ed6={'sequence':0x0};if(this['openedTraces'][_0xf27259]=_0x2c0ed6,!_0x580662)return!0x0;const _0x301ec4=function(_0x62d7c5){const _0x3d8867=_0x3e6c65;return _0x62d7c5['getTable'](_0x3d8867(0x7c0));}(_0x580662);return _0x2c0ed6[_0x3e6c65(0x28a)]=_0x580662,_0x2c0ed6[_0x3e6c65(0x377)]=_0x301ec4,!0x0;}catch(_0x3efd00){return console[_0x3e6c65(0x89e)]('GenerativeAITracing\x20-\x20Error\x20while\x20opening\x20trace.\x20Retrying:\x20\x27'+_0x43902e,_0x3efd00),!!_0x43902e&&(this[_0x3e6c65(0x5ab)](_0xf27259),this[_0x3e6c65(0x356)](_0x580662,_0xf27259,!0x1));}}['trace'](_0xa9f0c6){const _0x208ca6=_0x11ce6;try{const _0x4787e0=this[_0x208ca6(0x3e4)][_0xa9f0c6[_0x208ca6(0x3c8)]];if(!_0x4787e0)throw new Error('GenerativeAITracing\x20-\x20job\x20id\x20not\x20found');_0xa9f0c6[_0x208ca6(0x676)]=_0x4787e0[_0x208ca6(0x676)]++,_0xa9f0c6[_0x208ca6(0x178)]>=this[_0x208ca6(0x2e4)]&&console[_0x208ca6(0x65b)](JSON[_0x208ca6(0x3ea)](_0xa9f0c6,null,0x2)),this[_0x208ca6(0x547)](_0xa9f0c6);}catch(_0x5aa7cb){console[_0x208ca6(0x89e)](_0x208ca6(0x74f),_0x5aa7cb);}}[_0x11ce6(0x5ab)](_0xbedd4d){const _0x2f0e96=_0x11ce6;if(!_0x54006a['instance'])throw new Error(_0x2f0e96(0x7c7));if(!this[_0x2f0e96(0x3e4)][_0xbedd4d])throw new Error(_0x2f0e96(0x58a));delete this['openedTraces'][_0xbedd4d];}[_0x11ce6(0x547)](_0x11e329){const _0x4c75f1=_0x11ce6;if(_0x11e329[_0x4c75f1(0x178)]<this[_0x4c75f1(0x7f4)]&&_0x11e329['jobType']!==this[_0x4c75f1(0x9e8)])return;if(!this[_0x4c75f1(0x3e4)][_0x11e329[_0x4c75f1(0x3c8)]])throw new Error('GenerativeAITracing\x20-\x20Trace\x20job\x20id\x20does\x20not\x20exist');const _0x48220e=this[_0x4c75f1(0x3e4)][_0x11e329['jobId']];if(!_0x48220e[_0x4c75f1(0x28a)])throw new Error(_0x4c75f1(0x63a));if(!_0x48220e[_0x4c75f1(0x377)])throw new Error(_0x4c75f1(0x4ae));try{const _0x1c0110=function(_0x3a5083){const _0x55fd6a=_0x4c75f1,_0x1ee53f=[_0x55fd6a(0x839),_0x55fd6a(0x951),_0x55fd6a(0x3c9),_0x55fd6a(0x789),'jobId',_0x55fd6a(0x178),_0x55fd6a(0x754),_0x55fd6a(0x373),_0x55fd6a(0x676),_0x55fd6a(0x185)],_0x39bea7={..._0x3a5083};for(const _0x5f535c of _0x1ee53f)delete _0x39bea7[_0x5f535c];return{'timestamp':_0x3a5083[_0x55fd6a(0x951)],'jobType':_0x3a5083['jobType'],'type':_0x3a5083['type'],'jobId':_0x3a5083[_0x55fd6a(0x3c8)],'agentId':_0x3a5083[_0x55fd6a(0x44b)]??'','traceLevel':_0x3a5083[_0x55fd6a(0x178)],'blockId':_0x3a5083['blockId']??'','startTime':_0x3a5083[_0x55fd6a(0x839)],'status':_0x3a5083[_0x55fd6a(0x373)],'sequence':_0x3a5083[_0x55fd6a(0x676)]??0x0,'errorDetails':_0x3a5083[_0x55fd6a(0x185)]??'','metadata':_0x5048b9(_0x39bea7)};}(_0x11e329),_0x178d07=(0x0,_0x5afa59['v4'])();console[_0x4c75f1(0x65b)](_0x4c75f1(0x603),_0x1c0110[_0x4c75f1(0x789)]),_0x48220e[_0x4c75f1(0x377)][_0x4c75f1(0x323)](_0x178d07,_0x1c0110);}catch(_0x454cc6){console['error'](_0x4c75f1(0x5e5),_0x454cc6);}}}const _0x11c61b=_0x54006a[_0x11ce6(0x5d2)]();async function _0x21c584(_0x4fbeb9,_0x8c9e9a,_0x52050f,_0x3eac29,_0x1faa45){const _0x205dc3=_0x11ce6,_0x1084ad=Date['now'](),_0x2ca9ec=_0x1faa45[_0x205dc3(0x8a6)]['find'](_0x5619f5=>_0x5619f5['id']===_0x52050f[_0x205dc3(0x596)]);if(!_0x2ca9ec)throw new Error(_0x205dc3(0x33f));const _0x2613bb=_0x1faa45[_0x205dc3(0x5d9)][_0x205dc3(0x957)](_0x5d0c15=>_0x5d0c15[_0x205dc3(0x114)]()===_0x2ca9ec[_0x205dc3(0x2fd)]);if(!_0x2613bb)throw new Error(_0x205dc3(0x1a5));const _0x3e8d70=[],_0x553b7e=(0x0,_0x5afa59['v4'])(),_0x18fc15=await _0x2613bb[_0x205dc3(0x609)]({'type':_0x205dc3(0x675),'prompt':_0x8c9e9a,'instructions':_0x52050f[_0x205dc3(0x944)],'grammar':_0x52050f[_0x205dc3(0x6e1)],'temperature':_0x52050f[_0x205dc3(0x62e)],'maxTokens':_0x52050f[_0x205dc3(0xa16)],'threadId':_0x553b7e},{'model':_0x2ca9ec});if(_0x205dc3(0x9cc)!=typeof _0x18fc15[_0x205dc3(0x790)])throw new Error('Agent\x20output\x20is\x20not\x20a\x20string');if(_0x11c61b['trace']({'jobType':_0xb90109[_0x205dc3(0x4fb)],'type':_0x2c3ee5[_0x205dc3(0x68c)],'jobId':_0x4fbeb9,'blockId':_0x52050f['id'],'traceLevel':_0x23ecc6[_0x205dc3(0x851)],'timestamp':Date[_0x205dc3(0x3bd)](),'startTime':_0x1084ad,'status':_0x205dc3(0x94a),'agentId':_0x553b7e,'content':_0x8c9e9a,'instructions':_0x52050f[_0x205dc3(0x944)],'result':_0x18fc15[_0x205dc3(0x790)]}),_0x52050f[_0x205dc3(0x440)]?.['some'](_0x4d35e7=>_0x4d35e7[_0x205dc3(0x789)]===_0x132faf[_0x205dc3(0x2d5)]))return _0x3e8d70[_0x205dc3(0x7bc)]({'content':_0x18fc15['output'],'start':0x0,'length':_0x18fc15[_0x205dc3(0x790)][_0x205dc3(0x7ad)]}),await _0x4f6831(_0x4fbeb9,_0x3e8d70,_0x52050f,_0x3eac29,_0x1faa45),void await _0x4f6831(_0x4fbeb9,_0x18fc15['output'],_0x52050f,_0x3eac29,_0x1faa45);_0x3e8d70[_0x205dc3(0x7bc)]({'content':_0x18fc15[_0x205dc3(0x790)],'start':0x0,'length':_0x8c9e9a[_0x205dc3(0x7ad)]}),await _0x4f6831(_0x4fbeb9,_0x3e8d70,_0x52050f,_0x3eac29,_0x1faa45);}async function _0xc9faff(_0x5ebd2f,_0x4d07c8,_0x36c3ea,_0x1a08e1,_0x3e33ed){const _0x2fc810=_0x11ce6,_0x5987e3=Date['now']();let _0x7306d5=[];if(_0x4d07c8 instanceof Array){for(const _0x3cc2e8 of _0x4d07c8)_0x7306d5=_0x7306d5[_0x2fc810(0x75b)](_0x33e79b(_0x3cc2e8[_0x2fc810(0x1c4)],_0x36c3ea,_0x3cc2e8[_0x2fc810(0x55a)],_0x3cc2e8[_0x2fc810(0x7ad)]));}else _0x7306d5=_0x33e79b(_0x4d07c8,_0x36c3ea);_0x11c61b['trace']({'jobType':_0xb90109[_0x2fc810(0x4fb)],'type':_0x2c3ee5[_0x2fc810(0x34b)],'traceLevel':_0x23ecc6[_0x2fc810(0x851)],'jobId':_0x5ebd2f,'blockId':_0x36c3ea['id'],'startTime':_0x5987e3,'timestamp':Date[_0x2fc810(0x3bd)](),'status':_0x2fc810(0x94a),'totalChunks':_0x7306d5[_0x2fc810(0x7ad)],'chunkSize':_0x36c3ea['attributes'][_0x2fc810(0x84c)]}),await _0x4f6831(_0x5ebd2f,_0x7306d5,_0x36c3ea,_0x1a08e1,_0x3e33ed);}function _0x33e79b(_0x29c07a,_0x22d01b,_0x2c61a7,_0x2e0970){const _0x4646ae=_0x11ce6,_0x2d19e0=[];for(let _0x35164c=0x0;_0x35164c<_0x29c07a[_0x4646ae(0x7ad)];_0x35164c+=_0x22d01b[_0x4646ae(0x7cd)]['size']){let _0x4648a0=_0x35164c-_0x22d01b['attributes'][_0x4646ae(0x9ef)];_0x4648a0<0x0&&(_0x4648a0=0x0);let _0x59d26e=_0x35164c+_0x22d01b[_0x4646ae(0x7cd)][_0x4646ae(0x84c)]+_0x22d01b[_0x4646ae(0x7cd)][_0x4646ae(0x9ef)];_0x59d26e>_0x29c07a[_0x4646ae(0x7ad)]&&(_0x59d26e=_0x29c07a[_0x4646ae(0x7ad)]);const _0x336547=_0x29c07a[_0x4646ae(0x159)](_0x4648a0,_0x59d26e);_0x2d19e0[_0x4646ae(0x7bc)]({'content':_0x336547,'start':_0x2c61a7??_0x35164c,'length':_0x2e0970??(_0x35164c+_0x22d01b['attributes'][_0x4646ae(0x84c)]>_0x29c07a['length']?_0x29c07a[_0x4646ae(0x7ad)]-_0x35164c:_0x22d01b[_0x4646ae(0x7cd)]['size'])});}return _0x2d19e0;}async function _0x31ab46(_0x33e588,_0x17982b,_0x3da857,_0x131573,_0x264c23){const _0x4cda81=_0x11ce6,_0x37cbed=Date['now']();let _0xa9db06;if(_0x17982b[_0x4cda81(0x935)][_0x4cda81(0x789)]['startsWith'](_0x4cda81(0x933))||_0x5750a8(_0x17982b[_0x4cda81(0x935)][_0x4cda81(0x768)],_0x65573c))_0xa9db06=await _0x17982b[_0x4cda81(0x935)][_0x4cda81(0x896)]();else{if(!_0x264c23[_0x4cda81(0x7ae)][_0x4cda81(0x528)](_0x17982b[_0x4cda81(0x935)]))throw new Error('Document\x20Ingest\x20-\x20Unsupported\x20file\x20type\x20-\x20'+_0x17982b['file'][_0x4cda81(0x789)]+_0x4cda81(0x5f3)+_0x17982b[_0x4cda81(0x935)][_0x4cda81(0x768)]);_0xa9db06=await _0x264c23[_0x4cda81(0x7ae)][_0x4cda81(0x67e)](_0x17982b[_0x4cda81(0x935)]);}_0x11c61b[_0x4cda81(0x7a7)]({'jobType':_0xb90109['Ingest'],'type':_0x2c3ee5['DocumentParser'],'traceLevel':_0x23ecc6[_0x4cda81(0x851)],'blockId':_0x3da857['id'],'jobId':_0x33e588,'startTime':_0x37cbed,'timestamp':Date[_0x4cda81(0x3bd)](),'status':_0x4cda81(0x94a),'documentType':_0x17982b[_0x4cda81(0x935)][_0x4cda81(0x789)],'documentName':_0x17982b[_0x4cda81(0x935)][_0x4cda81(0x768)],'extractionMethod':_0x4cda81(0x27e)}),await _0x4f6831(_0x33e588,_0xa9db06,_0x3da857,_0x131573,_0x264c23);const _0x55ea0d=[{'content':_0xa9db06,'start':0x0,'length':_0xa9db06[_0x4cda81(0x7ad)]}];await _0x4f6831(_0x33e588,_0x55ea0d,_0x3da857,_0x131573,_0x264c23);}const _0x65573c=[_0x11ce6(0x2ea),_0x11ce6(0x5e4),'.py',_0x11ce6(0xd1),_0x11ce6(0x5d5),'.html',_0x11ce6(0x819),_0x11ce6(0x7c3),_0x11ce6(0x290),_0x11ce6(0x453),_0x11ce6(0x644),_0x11ce6(0x2f5),_0x11ce6(0x423),_0x11ce6(0x7ec),_0x11ce6(0x5c5),_0x11ce6(0x1b2),_0x11ce6(0x346),_0x11ce6(0x9c1),_0x11ce6(0x60d),_0x11ce6(0x90f),'.c',_0x11ce6(0x10c),_0x11ce6(0x6d2),'.r',_0x11ce6(0x463),'.swift',_0x11ce6(0x1f0),_0x11ce6(0x6b3),_0x11ce6(0x632),_0x11ce6(0x81b),_0x11ce6(0x194),_0x11ce6(0x3fc),_0x11ce6(0x792),_0x11ce6(0xa0e),'.groovy',_0x11ce6(0x8c1),'.ex','.exs',_0x11ce6(0x562),'.ps1',_0x11ce6(0x888),'.m',_0x11ce6(0x24a),_0x11ce6(0x6d0),_0x11ce6(0x8e2),_0x11ce6(0x6e7),_0x11ce6(0x41e),_0x11ce6(0x456),_0x11ce6(0x2e3),_0x11ce6(0x59c),_0x11ce6(0x8f9),_0x11ce6(0x614),'.jinja2',_0x11ce6(0x2c4),_0x11ce6(0x261),'.ejs',_0x11ce6(0x7bb),'.liquid',_0x11ce6(0x735),_0x11ce6(0x3ce),_0x11ce6(0x483),_0x11ce6(0x629),_0x11ce6(0x170)];function _0x5750a8(_0x3ddc73,_0x48d905){const _0x1603d5=_0x11ce6;return _0x48d905['includes']('.'+(_0x3ddc73[_0x1603d5(0x82c)]('.')['pop']()?.[_0x1603d5(0x3cf)]()||''));}async function _0x5b88d4(_0x59b398,_0x5dd4f6,_0x31de4a,_0x4289b6,_0x105768){const _0x41c610=_0x11ce6,_0x3cb6de=Date['now'](),_0x48ed55=new Set();let _0x1cf616=0x0;for(const _0x293cf5 of _0x5dd4f6)_0x1cf616+=_0x293cf5[_0x41c610(0x1c4)][_0x41c610(0x7ad)],await _0x550513(_0x293cf5[_0x41c610(0x1c4)],_0x48ed55,_0x31de4a,_0x105768['nlpLibraryConnector']);_0x11c61b[_0x41c610(0x7a7)]({'jobType':_0xb90109[_0x41c610(0x4fb)],'type':_0x2c3ee5['EntityExtractor'],'jobId':_0x59b398,'blockId':_0x31de4a['id'],'traceLevel':_0x23ecc6[_0x41c610(0x851)],'startTime':_0x3cb6de,'timestamp':Date[_0x41c610(0x3bd)](),'status':_0x41c610(0x94a),'contentLength':_0x1cf616,'totalChunks':_0x5dd4f6 instanceof Array?_0x5dd4f6[_0x41c610(0x7ad)]:0x1,'entitiesExtracted':_0x48ed55,'totalEntities':_0x48ed55['size']}),await _0x4f6831(_0x59b398,_0x48ed55,_0x31de4a,_0x4289b6,_0x105768);}async function _0x550513(_0x14bdeb,_0x50b00b,_0x621699,_0x4ba65a){const _0x1e7c62=_0x11ce6,_0x3d4ad3=await _0x4ba65a[_0x1e7c62(0x96f)](_0x14bdeb,{'ner':_0x621699[_0x1e7c62(0x7cd)][_0x1e7c62(0x245)],'noun':_0x621699[_0x1e7c62(0x7cd)]['noun'],'propn':_0x621699['attributes'][_0x1e7c62(0x28c)],'verb':_0x621699[_0x1e7c62(0x7cd)][_0x1e7c62(0x93a)]});for(const _0x54b8af of _0x3d4ad3)_0x50b00b[_0x1e7c62(0x5c9)](_0x54b8af);}function _0x2f42aa(_0x30e3dd,_0x4a6666,_0x54484c,_0x50f923,_0x180e62){const _0x37f117=_0x11ce6,_0x3c3462=Date[_0x37f117(0x3bd)]();if(_0x54484c[_0x37f117(0x781)]||(_0x54484c[_0x37f117(0x781)]={}),_0x37f117(0x9cc)==typeof _0x4a6666?_0x54484c[_0x37f117(0x781)][_0x37f117(0x1c4)]=_0x4a6666:_0x4a6666 instanceof Set?_0x54484c[_0x37f117(0x781)][_0x37f117(0x651)]=_0x4a6666:_0x4a6666 instanceof Map?_0x54484c[_0x37f117(0x781)]['relations']=_0x4a6666:_0x4a6666 instanceof Array?_0x54484c['accumulated']['index']=_0x4a6666:_0x54484c[_0x37f117(0x781)][_0x37f117(0x935)]=_0x4a6666,_0x54484c[_0x37f117(0x576)]=_0x54484c['timesCalled']?_0x54484c[_0x37f117(0x576)]+0x1:0x1,_0x5b0474(_0x54484c,_0x50f923)>_0x54484c[_0x37f117(0x576)])return;if(!(_0x54484c[_0x37f117(0x781)][_0x37f117(0x651)]&&_0x54484c['accumulated']['file']&&_0x54484c[_0x37f117(0x781)][_0x37f117(0x1c4)]&&_0x54484c[_0x37f117(0x781)]['index']))throw new Error(_0x37f117(0x811));let _0x5ab05f=0x0;const _0x695d9d=_0x180e62[_0x37f117(0x105)][_0x37f117(0x5d1)](_0x54484c['id']);for(const _0x352159 of _0x54484c[_0x37f117(0x781)]['entities']){let _0x545067=[];_0x545067=_0x54484c['accumulated']['index'][_0x37f117(0x80e)](_0x9f8530=>_0x9f8530[_0x37f117(0x1c4)][_0x37f117(0x2a1)](_0x352159));try{_0x695d9d[_0x37f117(0x1a1)](_0x54484c[_0x37f117(0x781)][_0x37f117(0x935)][_0x37f117(0xa02)],_0x54484c[_0x37f117(0x781)][_0x37f117(0x1c4)],_0x545067,_0x352159),_0x5ab05f+=0x1;}catch(_0x4c25ab){}}if(_0x54484c[_0x37f117(0x781)][_0x37f117(0x5aa)]){for(const [_0x360d54,_0x277da4]of _0x54484c['accumulated'][_0x37f117(0x5aa)])for(const _0x4c6cdc of _0x277da4)try{_0x695d9d[_0x37f117(0x4e7)](_0x360d54,_0x4c6cdc);}catch(_0x5bdd01){}if(_0x695d9d[_0x37f117(0x821)]()){let _0x15b201=''+(_0x180e62['version']??0x1);for(const _0x173dff of _0x50f923)if(_0x173dff[_0x37f117(0x789)]===_0x5128b2[_0x37f117(0x68c)]){_0x15b201=_0x15b201+'-'+(_0x173dff['version']??0x1);break;}_0x695d9d['saveToDisk'](_0x15b201);}_0x11c61b[_0x37f117(0x7a7)]({'jobType':_0xb90109['Ingest'],'type':_0x2c3ee5[_0x37f117(0x2b8)],'jobId':_0x30e3dd,'blockId':_0x54484c['id'],'status':_0x37f117(0x94a),'startTime':_0x3c3462,'timestamp':Date[_0x37f117(0x3bd)](),'traceLevel':_0x23ecc6['Debug'],'nodesAdded':_0x5ab05f,'entities':_0x54484c[_0x37f117(0x781)]['entities'],'relations':_0x54484c[_0x37f117(0x781)][_0x37f117(0x5aa)]});}}async function _0x44a477(_0x41c73a,_0x483b96,_0x1d1844,_0x47acd1,_0x5621a3){const _0x2b9714=_0x11ce6,_0x4a453b=_0x5621a3[_0x2b9714(0x8a6)][_0x2b9714(0x957)](_0x55b781=>_0x55b781['id']===_0x1d1844['id']);if(!_0x4a453b)throw new Error(_0x2b9714(0x33f));switch(_0x4a453b[_0x2b9714(0x5ff)]){case _0x4aea4d[_0x2b9714(0x73b)][_0x2b9714(0x2d5)]:if(_0x2b9714(0x9cc)!=typeof _0x483b96)throw new Error(_0x2b9714(0x2ec));await async function(_0x35d4b7,_0x477874,_0x5de6f0,_0xe9f256,_0x5c6180,_0x45b242){const _0x19b3a9=_0x2b9714,_0x293b61=Date['now']();let _0x129e48;const _0x5bd987=_0x45b242[_0x19b3a9(0x5d9)][_0x19b3a9(0x957)](_0x1354cc=>_0x1354cc[_0x19b3a9(0x114)]()===_0x5de6f0[_0x19b3a9(0x2fd)]);if(!_0x5bd987)throw new Error('No\x20connector\x20found\x20for\x20model');_0x129e48=await async function(_0x4910af,_0x3486e7,_0x7f724c){const _0x304a10=_0x19b3a9,_0x92bc7=await _0x3486e7[_0x304a10(0x609)]({'type':_0x304a10(0x675),'prompt':_0x4910af,'threadId':''},{'model':_0x7f724c});if(_0x92bc7[_0x304a10(0x790)]instanceof Array)throw new Error(_0x304a10(0x197));return _0x92bc7['output'];}(_0x477874,_0x5bd987,_0x5de6f0),_0x11c61b['trace']({'jobType':_0xb90109[_0x19b3a9(0x4fb)],'type':_0x2c3ee5['ModelText'],'jobId':_0x35d4b7,'blockId':_0xe9f256['id'],'traceLevel':_0x23ecc6[_0x19b3a9(0x851)],'timestamp':Date[_0x19b3a9(0x3bd)](),'startTime':_0x293b61,'status':_0x19b3a9(0x94a),'modelName':_0x5de6f0['id'],'inputType':_0x5de6f0[_0x19b3a9(0x34d)],'outputType':_0x5de6f0[_0x19b3a9(0x5ff)],'content':_0x477874,'results':_0x129e48}),await _0x4f6831(_0x35d4b7,_0x129e48,_0xe9f256,_0x5c6180,_0x45b242);}(_0x41c73a,_0x483b96,_0x4a453b,_0x1d1844,_0x47acd1,_0x5621a3);break;case _0x4aea4d['GenerativeAIModelOutputType'][_0x2b9714(0x411)]:if(!(_0x483b96 instanceof Array))throw new Error('Model\x20output\x20type\x20is\x20vector\x20but\x20input\x20is\x20not\x20an\x20index');await async function(_0x4c4a76,_0x6e4ccc,_0xa99914,_0x12f5cf,_0x4f41a6,_0x411832){const _0x441b4e=_0x2b9714,_0x1cef29=Date[_0x441b4e(0x3bd)](),_0x322fb4=[],_0x441a61=_0x411832[_0x441b4e(0x5d9)][_0x441b4e(0x957)](_0x2049dc=>_0x2049dc['getEngineType']()===_0xa99914[_0x441b4e(0x2fd)]);if(!_0x441a61)throw new Error(_0x441b4e(0x1a5));for(const _0xa6b6ed of _0x6e4ccc)_0x322fb4['push'](await _0xf9c1a7(_0xa6b6ed,_0x441a61,_0xa99914));_0x11c61b['trace']({'jobType':_0xb90109[_0x441b4e(0x4fb)],'type':_0x2c3ee5[_0x441b4e(0x8ca)],'jobId':_0x4c4a76,'blockId':_0x12f5cf['id'],'traceLevel':_0x23ecc6[_0x441b4e(0x851)],'timestamp':Date['now'](),'startTime':_0x1cef29,'status':_0x441b4e(0x94a),'modelName':_0xa99914['id'],'inputType':_0xa99914[_0x441b4e(0x34d)],'outputType':_0xa99914[_0x441b4e(0x5ff)],'totalVectors':_0x322fb4[_0x441b4e(0x7ad)]}),await _0x4f6831(_0x4c4a76,_0x322fb4,_0x12f5cf,_0x4f41a6,_0x411832);}(_0x41c73a,_0x483b96,_0x4a453b,_0x1d1844,_0x47acd1,_0x5621a3);}}async function _0xf9c1a7(_0xdfd344,_0x21f7d8,_0x2a4735){const _0x130c23=_0x11ce6;return(await _0x21f7d8['processJob']({'type':_0x130c23(0x675),'prompt':_0xdfd344[_0x130c23(0x1c4)],'threadId':''},{'model':_0x2a4735}))[_0x130c23(0x790)];}async function _0x7d2f9d(_0x21003d,_0xaf7bad,_0x239e89,_0x55cd04,_0x234485){const _0x56bb07=_0x11ce6,_0x20dcc1=Date[_0x56bb07(0x3bd)]();if(_0x239e89[_0x56bb07(0x781)]||(_0x239e89[_0x56bb07(0x781)]={}),_0xaf7bad instanceof Array?_0x239e89[_0x56bb07(0x781)][_0x56bb07(0x9fc)]=_0xaf7bad:_0x239e89[_0x56bb07(0x781)][_0x56bb07(0x651)]=_0xaf7bad,_0x239e89[_0x56bb07(0x576)]=_0x239e89[_0x56bb07(0x576)]?_0x239e89[_0x56bb07(0x576)]+0x1:0x1,_0x5b0474(_0x239e89,_0x55cd04)>_0x239e89[_0x56bb07(0x576)])return;if(!_0x239e89[_0x56bb07(0x781)]['index']||!_0x239e89['accumulated']['entities'])throw new Error(_0x56bb07(0x91a));const _0x1588f6=new Map();for(const _0x394171 of _0x239e89[_0x56bb07(0x781)]['index'])_0x4e0624(_0x394171[_0x56bb07(0x1c4)],_0x239e89['accumulated']['entities'],_0x1588f6);_0x11c61b[_0x56bb07(0x7a7)]({'jobType':_0xb90109[_0x56bb07(0x4fb)],'type':_0x2c3ee5[_0x56bb07(0x42b)],'jobId':_0x21003d,'blockId':_0x239e89['id'],'traceLevel':_0x23ecc6['Debug'],'timestamp':Date[_0x56bb07(0x3bd)](),'startTime':_0x20dcc1,'status':_0x56bb07(0x94a),'entities':_0x239e89[_0x56bb07(0x781)][_0x56bb07(0x651)],'relations':_0x1588f6,'totalRelationsExtracted':_0x1588f6[_0x56bb07(0x84c)]}),await _0x4f6831(_0x21003d,_0x1588f6,_0x239e89,_0x55cd04,_0x234485);}function _0x4e0624(_0x4a1e57,_0x16a8b3,_0x2aace9){const _0x3196c2=_0x11ce6;for(const _0x4c2841 of _0x16a8b3)for(const _0x282c97 of _0x16a8b3){if(_0x4c2841===_0x282c97)continue;const _0x1d025e=_0x4a1e57[_0x3196c2(0x558)](_0x4c2841),_0x5244f5=_0x4a1e57['indexOf'](_0x282c97);-0x1!==_0x1d025e&&-0x1!==_0x5244f5&&(_0x2aace9[_0x3196c2(0x297)](_0x4c2841)||_0x2aace9[_0x3196c2(0x323)](_0x4c2841,new Set()),_0x2aace9['get'](_0x4c2841)['add'](_0x282c97));}return _0x2aace9;}async function _0x3945ce(_0x513aa8,_0x29d8c2,_0x10a87b,_0x28c324,_0x3199cc){const _0x23909a=_0x11ce6,_0x1e3e80=Date[_0x23909a(0x3bd)]();let _0x1a8e63=[];if(_0x29d8c2 instanceof Array)for(const _0x3c7dfb of _0x29d8c2){const _0x4130ce=await _0x3199cc[_0x23909a(0x95b)][_0x23909a(0x9c7)](_0x3c7dfb[_0x23909a(0x1c4)]);_0x1a8e63=_0x1a8e63[_0x23909a(0x75b)](_0x4130ce[_0x23909a(0x99c)](_0x1d6a93=>({'content':_0x1d6a93,'start':_0x3c7dfb[_0x23909a(0x55a)],'length':_0x3c7dfb[_0x23909a(0x7ad)]})));}else _0x1a8e63=(await _0x3199cc[_0x23909a(0x95b)][_0x23909a(0x9c7)](_0x29d8c2))[_0x23909a(0x99c)](_0x4a8be8=>({'content':_0x4a8be8,'start':_0x29d8c2[_0x23909a(0x558)](_0x4a8be8),'length':_0x4a8be8[_0x23909a(0x7ad)]}));_0x11c61b[_0x23909a(0x7a7)]({'jobType':_0xb90109[_0x23909a(0x4fb)],'type':_0x2c3ee5['SentenceSplitter'],'jobId':_0x513aa8,'blockId':_0x10a87b['id'],'traceLevel':_0x23ecc6['Debug'],'startTime':_0x1e3e80,'timestamp':Date['now'](),'status':_0x23909a(0x94a),'totalSentences':_0x1a8e63[_0x23909a(0x7ad)],'averageSentenceLength':_0x1a8e63['reduce']((_0x54a996,_0x2f4c29)=>_0x54a996+_0x2f4c29['length'],0x0)/_0x1a8e63['length']}),await _0x4f6831(_0x513aa8,_0x1a8e63,_0x10a87b,_0x28c324,_0x3199cc);}function _0x176b02(_0x2ff0dc,_0x2ef48c,_0x5bf6c2,_0x682004,_0x33d7e3){const _0x4e0db0=_0x11ce6,_0x5baefe=Date[_0x4e0db0(0x3bd)]();var _0x4a0ada;if(_0x5bf6c2[_0x4e0db0(0x781)]||(_0x5bf6c2[_0x4e0db0(0x781)]={}),_0x2ef48c instanceof Array?(_0x4a0ada=_0x2ef48c)[0x0]instanceof Array&&'number'==typeof _0x4a0ada[0x0]?.[0x0]?_0x5bf6c2[_0x4e0db0(0x781)]['vectors']=_0x2ef48c:_0x5bf6c2[_0x4e0db0(0x781)][_0x4e0db0(0x9fc)]=_0x2ef48c:_0x4e0db0(0x9cc)==typeof _0x2ef48c?_0x5bf6c2[_0x4e0db0(0x781)][_0x4e0db0(0x1c4)]=_0x2ef48c:_0x5bf6c2['accumulated']['file']=_0x2ef48c,_0x5bf6c2[_0x4e0db0(0x576)]=_0x5bf6c2[_0x4e0db0(0x576)]?_0x5bf6c2[_0x4e0db0(0x576)]+0x1:0x1,_0x5b0474(_0x5bf6c2,_0x682004)>_0x5bf6c2[_0x4e0db0(0x576)])return;if(!(_0x5bf6c2[_0x4e0db0(0x781)]['content']&&_0x5bf6c2[_0x4e0db0(0x781)][_0x4e0db0(0x9fc)]&&_0x5bf6c2[_0x4e0db0(0x781)][_0x4e0db0(0x2f7)]&&_0x5bf6c2[_0x4e0db0(0x781)]['file']))throw new Error(_0x4e0db0(0x1dd));const _0x45e0dd=_0x33d7e3[_0x4e0db0(0x105)][_0x4e0db0(0x6eb)](_0x5bf6c2['id']);if(_0x45e0dd[_0x4e0db0(0x34a)](_0x5bf6c2[_0x4e0db0(0x781)][_0x4e0db0(0x935)][_0x4e0db0(0xa02)],_0x5bf6c2['accumulated']['content'],_0x5bf6c2[_0x4e0db0(0x781)][_0x4e0db0(0x9fc)],_0x5bf6c2[_0x4e0db0(0x781)][_0x4e0db0(0x2f7)]),_0x45e0dd[_0x4e0db0(0x821)]()){let _0x1aecee=''+(_0x33d7e3['version']??0x1);for(const _0x15f194 of _0x682004)_0x15f194[_0x4e0db0(0x789)]===_0x5128b2['Agent']&&(_0x1aecee=_0x1aecee+'-'+(_0x15f194[_0x4e0db0(0x5c2)]??0x1));_0x45e0dd['saveToDisk'](_0x1aecee);}_0x11c61b[_0x4e0db0(0x7a7)]({'jobType':_0xb90109[_0x4e0db0(0x4fb)],'type':_0x2c3ee5[_0x4e0db0(0x9d3)],'jobId':_0x2ff0dc,'blockId':_0x5bf6c2['id'],'traceLevel':_0x23ecc6[_0x4e0db0(0x851)],'startTime':_0x5baefe,'timestamp':Date['now'](),'status':_0x4e0db0(0x94a),'databaseName':_0x45e0dd[_0x4e0db0(0x107)](),'vectorsAdded':_0x5bf6c2[_0x4e0db0(0x781)][_0x4e0db0(0x2f7)][_0x4e0db0(0x7ad)],'filePathName':_0x5bf6c2[_0x4e0db0(0x781)][_0x4e0db0(0x935)][_0x4e0db0(0xa02)]});}async function _0x10d0fc(_0x212cfe,_0x4a6f0a,_0x3a68f8,_0x3c89a2,_0x4037e6){const _0x25e05b=_0x11ce6,_0x371443=Date[_0x25e05b(0x3bd)]();let _0x5709bc=[];if(_0x4a6f0a instanceof Array){for(const _0x585203 of _0x4a6f0a)_0x5709bc=_0x5709bc[_0x25e05b(0x75b)](_0x18f795(_0x585203[_0x25e05b(0x1c4)],_0x3a68f8,_0x585203[_0x25e05b(0x55a)],_0x585203['length']));}else _0x5709bc=_0x18f795(_0x4a6f0a,_0x3a68f8);_0x11c61b[_0x25e05b(0x7a7)]({'jobType':_0xb90109['Ingest'],'type':_0x2c3ee5[_0x25e05b(0x522)],'jobId':_0x212cfe,'traceLevel':_0x23ecc6[_0x25e05b(0x851)],'blockId':_0x3a68f8['id'],'startTime':_0x371443,'timestamp':Date['now'](),'status':_0x25e05b(0x94a),'totalChunks':_0x5709bc[_0x25e05b(0x7ad)],'averageChunkLength':_0x5709bc[_0x25e05b(0x484)]((_0x1912be,_0x23e3b3)=>_0x1912be+_0x23e3b3[_0x25e05b(0x7ad)],0x0)/_0x5709bc[_0x25e05b(0x7ad)]}),await _0x4f6831(_0x212cfe,_0x5709bc,_0x3a68f8,_0x3c89a2,_0x4037e6);}function _0x18f795(_0x438d85,_0x73572,_0xb11eee,_0x23dc98){const _0x4ce204=_0x11ce6,_0x309e9a=[],_0x3c025c=_0x438d85[_0x4ce204(0x82c)]('\x20');let _0x3a39b8='',_0xc21981=-0x1,_0x4545e8=0x0,_0x1573d5=0x0;for(const _0x1df303 of _0x3c025c){if(_0x3a39b8['length']+_0x1df303[_0x4ce204(0x7ad)]>_0x73572[_0x4ce204(0x7cd)][_0x4ce204(0x84c)]){const _0x2c63d3=_0x3a39b8['length'];let _0x4bc8f4=_0xc21981,_0x2b2122='';for(;_0x4bc8f4>=0x0&&_0x2b2122[_0x4ce204(0x7ad)]+_0x3c025c[_0x4bc8f4]['length']<_0x73572[_0x4ce204(0x7cd)][_0x4ce204(0x9ef)];)_0x2b2122=_0x3c025c[_0x4bc8f4]+'\x20'+_0x2b2122,_0x4bc8f4--;let _0x2de4d1=_0x4545e8,_0x5057c1='';for(;_0x2de4d1<_0x3c025c[_0x4ce204(0x7ad)]&&_0x5057c1[_0x4ce204(0x7ad)]+_0x3c025c[_0x2de4d1][_0x4ce204(0x7ad)]<_0x73572[_0x4ce204(0x7cd)][_0x4ce204(0x9ef)];)_0x5057c1+=_0x3c025c[_0x2de4d1]+'\x20',_0x2de4d1++;_0x3a39b8=_0x2b2122+_0x3a39b8+_0x5057c1,_0x309e9a[_0x4ce204(0x7bc)]({'content':_0x3a39b8[_0x4ce204(0x406)](),'start':_0xb11eee??_0x1573d5,'length':_0x23dc98??_0x2c63d3}),_0x3a39b8='',_0xc21981=_0x4545e8-0x1,_0x1573d5+=_0x2c63d3;}_0x3a39b8+=_0x1df303+'\x20',_0x4545e8++;}if(_0x3a39b8[_0x4ce204(0x7ad)]>0x0){const _0xf63474=_0x3a39b8[_0x4ce204(0x7ad)];let _0x1f944d=_0xc21981,_0x35564f='';for(;_0x1f944d>=0x0&&_0x35564f[_0x4ce204(0x7ad)]+_0x3c025c[_0x1f944d][_0x4ce204(0x7ad)]<_0x73572['attributes'][_0x4ce204(0x9ef)];)_0x35564f=_0x3c025c[_0x1f944d]+'\x20'+_0x35564f,_0x1f944d--;_0x3a39b8=_0x35564f+_0x3a39b8,_0x309e9a[_0x4ce204(0x7bc)]({'content':_0x3a39b8['trim'](),'start':_0xb11eee??_0x1573d5,'length':_0x23dc98??_0xf63474});}return _0x309e9a;}async function _0x4f6831(_0xa995ce,_0x27cbbd,_0x5bd876,_0x574e26,_0x2b72b8){const _0x3bc854=_0x11ce6;for(const _0x23f602 of _0x5bd876[_0x3bc854(0x440)]||[]){const _0x9bb527=_0x574e26['find'](_0x43f2e2=>_0x43f2e2['uid']===_0x23f602['uid']);if(_0x9bb527)switch(_0x9bb527[_0x3bc854(0x789)]){case _0x5128b2[_0x3bc854(0x68c)]:_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x2d5)]&&'string'==typeof _0x27cbbd&&await _0x21c584(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);break;case _0x5128b2[_0x3bc854(0x34b)]:_0x23f602['type']===_0x132faf[_0x3bc854(0x2d5)]&&_0x3bc854(0x9cc)==typeof _0x27cbbd&&await _0xc9faff(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf['Index']&&_0x27cbbd instanceof Array&&await _0xc9faff(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);break;case _0x5128b2[_0x3bc854(0x19c)]:_0x23f602[_0x3bc854(0x789)]===_0x132faf['File']&&await _0x31ab46(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);break;case _0x5128b2[_0x3bc854(0x2a0)]:_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x9f3)]&&_0x27cbbd instanceof Array&&await _0x5b88d4(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);break;case _0x5128b2[_0x3bc854(0x2b8)]:_0x23f602['type']===_0x132faf[_0x3bc854(0x2d5)]&&_0x3bc854(0x9cc)==typeof _0x27cbbd&&_0x2f42aa(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x9f3)]&&_0x27cbbd instanceof Array&&_0x2f42aa(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x974)]&&_0x27cbbd instanceof Set&&_0x2f42aa(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x8ab)]&&_0x27cbbd instanceof Map&&_0x2f42aa(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602['type']===_0x132faf[_0x3bc854(0x6b2)]&&_0x2f42aa(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);break;case _0x5128b2['Model']:_0x23f602['type']===_0x132faf[_0x3bc854(0x2d5)]&&'string'==typeof _0x27cbbd&&await _0x44a477(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x9f3)]&&_0x27cbbd instanceof Array&&await _0x44a477(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);break;case _0x5128b2[_0x3bc854(0x42b)]:_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x9f3)]&&_0x27cbbd instanceof Array&&await _0x7d2f9d(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x974)]&&_0x27cbbd instanceof Set&&await _0x7d2f9d(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);break;case _0x5128b2[_0x3bc854(0x1a7)]:_0x23f602[_0x3bc854(0x789)]===_0x132faf['Text']&&'string'==typeof _0x27cbbd&&await _0x3945ce(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x9f3)]&&_0x27cbbd instanceof Array&&await _0x3945ce(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);break;case _0x5128b2[_0x3bc854(0x9d3)]:_0x23f602['type']===_0x132faf['Text']&&_0x3bc854(0x9cc)==typeof _0x27cbbd&&_0x176b02(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x9f3)]&&_0x27cbbd instanceof Array&&_0x176b02(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x411)]&&_0x27cbbd instanceof Array&&_0x176b02(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf['File']&&_0x176b02(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);break;case _0x5128b2[_0x3bc854(0x522)]:_0x23f602[_0x3bc854(0x789)]===_0x132faf[_0x3bc854(0x2d5)]&&_0x3bc854(0x9cc)==typeof _0x27cbbd&&await _0x10d0fc(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8),_0x23f602[_0x3bc854(0x789)]===_0x132faf['Index']&&_0x27cbbd instanceof Array&&await _0x10d0fc(_0xa995ce,_0x27cbbd,_0x9bb527,_0x574e26,_0x2b72b8);}}}function _0x5b0474(_0x5ee877,_0xf45a8e){const _0x14dfe9=_0x11ce6;return _0xf45a8e[_0x14dfe9(0x80e)](_0x2923e4=>_0x2923e4[_0x14dfe9(0x440)]?.[_0x14dfe9(0x335)](_0x986884=>_0x986884['uid']===_0x5ee877[_0x14dfe9(0x434)]))[_0x14dfe9(0x7ad)];}async function _0x3f3bf6(_0x50aea2,_0x4db285,_0x5f1f44,_0x7f56a,_0x585087){const _0x14d6e7=_0x11ce6;try{let _0x2ecb2b;switch(_0x5f1f44[_0x14d6e7(0x789)]){case _0x5128b2[_0x14d6e7(0x53f)]:const _0x5eeab2=_0x585087[_0x14d6e7(0x105)][_0x14d6e7(0x6af)](_0x5f1f44['id']);_0x2ecb2b=await _0x5eeab2[_0x14d6e7(0x3f2)](_0x4db285);break;case _0x5128b2[_0x14d6e7(0xa10)]:const _0x2c6e5c=_0x585087[_0x14d6e7(0x105)][_0x14d6e7(0x8ff)](_0x5f1f44['id']);_0x2ecb2b=await _0x2c6e5c[_0x14d6e7(0x3f2)](_0x4db285);}if(!_0x2ecb2b)throw new Error(_0x14d6e7(0x372));await _0x4f6831(_0x50aea2,{'file':_0x2ecb2b,'pathName':_0x4db285},_0x5f1f44,structuredClone(_0x7f56a),_0x585087);}catch(_0x1968ab){console[_0x14d6e7(0x89e)](_0x14d6e7(0x14f),_0x1968ab);}}const _0x3d5533=require('rxjs/operators');class _0x4ee5f6{[_0x11ce6(0x4d5)];constructor(){const _0x29ae85=_0x11ce6;this['subject']=new _0x1c65fc[(_0x29ae85(0x51f))]();}['emit'](_0x1c1002){const _0x411ee5=_0x11ce6;this['subject'][_0x411ee5(0x14d)](_0x1c1002);}async[_0x11ce6(0x4e2)](){const _0x39c98d=_0x11ce6;return(0x0,_0x1c65fc[_0x39c98d(0x1b9)])(this[_0x39c98d(0x4d5)][_0x39c98d(0x9c6)]((0x0,_0x3d5533[_0x39c98d(0x1ea)])(0x1)));}}function _0x3a1591(_0xbe6ce3,_0x189238,_0x497d3f,_0x4a15ac,_0x2375c4,_0x361ad4,_0x516f33,_0x3e43f9){const _0x26e8a2=_0x11ce6,_0x198557=_0x26e8a2(0x357)+_0x2375c4[_0x26e8a2(0x805)]+'\x20to\x20generate\x20a\x20response.',_0x3f1926={'prompt':{'type':_0x4aea4d[_0x26e8a2(0x24c)][_0x26e8a2(0xc0)]}};return _0x11c61b[_0x26e8a2(0x7a7)]({'jobType':_0xb90109[_0x26e8a2(0x4f2)],'type':_0xb3ac0d[_0x26e8a2(0x1d8)],'jobId':_0xbe6ce3,'agentId':_0x189238,'threadId':_0x497d3f,'traceLevel':_0x23ecc6[_0x26e8a2(0x602)],'startTime':Date['now'](),'timestamp':Date['now'](),'status':'success','function':_0x3e4ff0[_0x26e8a2(0x4f3)],'params':_0x3f1926,'functionDescription':_0x198557}),{'description':_0x198557,'params':_0x3f1926,'callback':async _0x71216e=>{const _0x20c064=_0x26e8a2,_0xf513c0=Date[_0x20c064(0x3bd)]();try{if(_0x3e43f9&&(await _0x508bd4[_0x20c064(0x573)](0x1),_0x3e43f9[_0x20c064(0x11c)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x2375c4[_0x20c064(0x768)]+_0x20c064(0x7be),'type':_0x20c064(0x675)})),_0x20c064(0x9cc)!=typeof _0x71216e?.[_0x20c064(0x675)])throw new Error(_0x20c064(0x257));const _0x35a7a7=_0x516f33[_0x20c064(0x8a6)][_0x20c064(0x957)](_0x4e7e3c=>_0x4e7e3c['id']===_0x2375c4[_0x20c064(0x596)]);if(!_0x35a7a7)throw new Error(_0x20c064(0x33f));const _0x137290=_0x516f33['generativeAIWorkerConnectors'][_0x20c064(0x957)](_0x4d4dc9=>_0x4d4dc9[_0x20c064(0x114)]()===_0x35a7a7[_0x20c064(0x2fd)]);if(!_0x137290)throw new Error(_0x20c064(0x1a5));const _0x2d2df1=_0x2375c4[_0x20c064(0x440)]?.[_0x20c064(0x335)](_0x32a6c6=>{const _0x356b13=_0x20c064,_0x4d27cc=_0x361ad4[_0x356b13(0x957)](_0x4818e0=>_0x4818e0[_0x356b13(0x434)]===_0x32a6c6[_0x356b13(0x434)]);return!!_0x4d27cc&&_0x32a6c6[_0x356b13(0x789)]===_0x132faf[_0x356b13(0x2d5)]&&_0x4d27cc['type']===_0x517648[_0x356b13(0x256)];})??!0x1;let _0x54d47e;if(_0x3e43f9&&_0x2d2df1?(await _0x508bd4[_0x20c064(0x573)](0x1),_0x3e43f9[_0x20c064(0x11c)]({'output':'\x0a\x0a','type':_0x20c064(0x675)}),_0x54d47e=await async function(_0x319ec0,_0x24c895,_0x5c6517,_0xb188c6,_0x1106ef,_0x3c12ab,_0x12bbb5,_0x5187d5,_0x221ad0){const _0xe916f=_0x20c064;let _0x23f52c='';const _0x111472=_0x221ad0['models'][_0xe916f(0x957)](_0x32977c=>_0x32977c['id']===_0x3c12ab['modelId']);if(!_0x111472)throw new Error(_0xe916f(0x33f));const _0x34e4fa=_0x221ad0[_0xe916f(0x5d9)]['find'](_0x577f53=>_0x577f53['getEngineType']()===_0x111472[_0xe916f(0x2fd)]);if(!_0x34e4fa)throw new Error(_0xe916f(0x1a5));for await(const _0x82d12b of _0x34e4fa[_0xe916f(0x4e8)]({'type':_0xe916f(0x675),'prompt':_0x8ae216(_0xb188c6,_0x3c12ab),'instructions':_0x4d2c1a('',_0x3c12ab,_0x111472),'grammar':_0x3c12ab[_0xe916f(0x6e1)],'temperature':_0x3c12ab[_0xe916f(0x62e)],'maxTokens':_0x3c12ab['maxTokens'],'functions':await _0x1bc5c5(_0x319ec0,_0x24c895,_0x5c6517,_0x1106ef,_0x3c12ab,_0x12bbb5,_0x221ad0,_0x5187d5),'threadId':_0x5c6517},{'model':_0x111472,'sequences':0x2}))_0x5187d5[_0xe916f(0x11c)](_0x82d12b),_0x23f52c+=_0x82d12b[_0xe916f(0x790)];return{'type':_0xe916f(0x675),'output':_0x23f52c};}(_0xbe6ce3,_0x189238,_0x497d3f,_0x71216e['prompt'],_0x4a15ac,_0x2375c4,_0x361ad4,_0x3e43f9,_0x516f33),await _0x508bd4['wait'](0x1),_0x3e43f9[_0x20c064(0x11c)]({'output':'\x0a\x0a','type':_0x20c064(0x675)})):_0x54d47e=await _0x137290[_0x20c064(0x609)]({'type':'prompt','prompt':_0x8ae216(_0x71216e[_0x20c064(0x675)],_0x2375c4),'instructions':_0x4d2c1a('',_0x2375c4,_0x35a7a7),'grammar':_0x2375c4[_0x20c064(0x6e1)],'temperature':_0x2375c4['temperature'],'maxTokens':_0x2375c4[_0x20c064(0xa16)],'functions':await _0x1bc5c5(_0xbe6ce3,_0x189238,_0x497d3f,_0x4a15ac,_0x2375c4,_0x361ad4,_0x516f33,_0x3e43f9),'threadId':_0x497d3f},{'model':_0x35a7a7,'sequences':0x2}),_0x20c064(0x9cc)!=typeof _0x54d47e[_0x20c064(0x790)])throw new Error(_0x20c064(0x10b));return _0x11c61b[_0x20c064(0x7a7)]({'jobType':_0xb90109[_0x20c064(0x8cf)],'type':_0x3e4ff0[_0x20c064(0x4f3)],'jobId':_0xbe6ce3,'blockId':_0x2375c4['id'],'agentId':_0x189238,'threadId':_0x497d3f,'traceLevel':_0x23ecc6[_0x20c064(0x602)],'startTime':_0xf513c0,'timestamp':Date[_0x20c064(0x3bd)](),'status':'success','agentName':_0x2375c4[_0x20c064(0x768)],'prompt':_0x71216e[_0x20c064(0x675)],'instructions':_0x2375c4[_0x20c064(0x944)],'result':_0x54d47e[_0x20c064(0x790)],'inputTokens':0x0,'outputTokens':0x0}),_0x2375c4[_0x20c064(0x440)]?.[_0x20c064(0x335)](_0x2e19ff=>_0x2e19ff[_0x20c064(0x789)]===_0x132faf[_0x20c064(0x3d4)])?(_0x4cc063(_0x54d47e['output'],_0x2375c4,_0x361ad4),_0x20c064(0x9bf)):_0x54d47e[_0x20c064(0x790)];}catch(_0x489797){return console[_0x20c064(0x89e)](_0x489797),_0x11c61b[_0x20c064(0x7a7)]({'jobType':_0xb90109[_0x20c064(0x8cf)],'type':_0x3e4ff0[_0x20c064(0x4f3)],'jobId':_0xbe6ce3,'blockId':_0x2375c4['id'],'agentId':_0x189238,'threadId':_0x497d3f,'traceLevel':_0x23ecc6[_0x20c064(0x602)],'startTime':_0xf513c0,'timestamp':Date[_0x20c064(0x3bd)](),'status':'error','errorDetails':_0x1ae84b(_0x489797),'agentName':_0x2375c4[_0x20c064(0x768)],'prompt':_0x71216e?.[_0x20c064(0x675)]??'','instructions':_0x2375c4['instructions'],'result':'','inputTokens':0x0,'outputTokens':0x0}),_0x489797 instanceof Error?_0x489797[_0x20c064(0x686)]:'Error\x20executing\x20agent';}}};}async function _0x181f44(_0x58783c,_0x4dbeca,_0x497130,_0xa61316,_0x3a244f,_0x307418,_0x16bd1e){const _0x33b78c=_0x11ce6,_0x2de124=Date['now'](),_0x5b0a68=new Set();if(_0x497130 instanceof Array){for(const _0x1f31d7 of _0x497130)await _0x5891f9(_0x1f31d7['content'],_0x3a244f,_0x5b0a68,_0x16bd1e[_0x33b78c(0x95b)]);}else await _0x5891f9(_0x497130,_0x3a244f,_0x5b0a68,_0x16bd1e['nlpLibraryConnector']);_0x11c61b[_0x33b78c(0x7a7)]({'jobType':_0xb90109['Retrieve'],'type':_0x569f4c['EntityExtractor'],'jobId':_0x58783c,'threadId':_0x4dbeca,'blockId':_0x3a244f['id'],'traceLevel':_0x23ecc6[_0x33b78c(0x851)],'startTime':_0x2de124,'timestamp':Date['now'](),'status':'success','content':_0x497130,'entitiesExtracted':Array[_0x33b78c(0x462)](_0x5b0a68),'totalEntities':_0x5b0a68['size']}),await _0x1d112d(_0x58783c,_0x4dbeca,_0x5b0a68,_0xa61316,_0x3a244f,_0x307418,_0x16bd1e);}async function _0x5891f9(_0x344a2c,_0x23026b,_0x2bced5,_0x514819){const _0x506a25=_0x11ce6,_0x50d740=await _0x514819[_0x506a25(0x96f)](_0x344a2c,{'ner':_0x23026b[_0x506a25(0x7cd)][_0x506a25(0x245)],'noun':_0x23026b[_0x506a25(0x7cd)][_0x506a25(0x5fc)],'propn':_0x23026b[_0x506a25(0x7cd)][_0x506a25(0x28c)],'verb':_0x23026b['attributes'][_0x506a25(0x93a)]});for(const _0x33b9ed of _0x50d740)_0x2bced5[_0x506a25(0x5c9)](_0x33b9ed);}async function _0x2b44a4(_0x17c2af,_0x3aa31a,_0x1b2445,_0x28c569,_0x180477,_0x592015,_0x44ff63){const _0x15c082=_0x11ce6,_0x59b3c9=Date[_0x15c082(0x3bd)]();if(_0x180477[_0x15c082(0x781)]||(_0x180477[_0x15c082(0x781)]={}),_0x1b2445 instanceof Array?(_0x180477['accumulated']['results']||(_0x180477[_0x15c082(0x781)][_0x15c082(0x15b)]=[]),_0x180477[_0x15c082(0x781)][_0x15c082(0x15b)]['push'](..._0x1b2445)):_0x1b2445 instanceof Set?_0x180477[_0x15c082(0x781)]['entities']=_0x1b2445:_0x180477['accumulated'][_0x15c082(0x675)]=_0x1b2445,_0x180477['timesCalled']=_0x180477[_0x15c082(0x576)]?_0x180477['timesCalled']+0x1:0x1,_0x229934(_0x180477,_0x592015)>_0x180477[_0x15c082(0x576)])return;if(!_0x180477[_0x15c082(0x781)][_0x15c082(0x675)]&&!_0x180477[_0x15c082(0x781)][_0x15c082(0x15b)]||!_0x180477[_0x15c082(0x781)][_0x15c082(0x651)])throw new Error(_0x15c082(0x811));const _0x531f1f=_0x44ff63[_0x15c082(0x105)]['getGraphDatabase'](_0x180477['id'])[_0x15c082(0x1a6)](Array[_0x15c082(0x462)](_0x180477[_0x15c082(0x781)][_0x15c082(0x651)]),_0x180477[_0x15c082(0x7cd)][_0x15c082(0x7d3)],_0x180477[_0x15c082(0x7cd)]['contentSize']);let _0x56a835=[];for(const _0x557063 in _0x531f1f){const _0x402567=_0x531f1f[_0x557063];for(const _0x19cbb8 of _0x402567){let _0x796f21=0x0;if(_0x180477['accumulated'][_0x15c082(0x675)]&&(_0x796f21=await _0x44ff63[_0x15c082(0x95b)][_0x15c082(0x5f8)](_0x180477['accumulated'][_0x15c082(0x675)],_0x19cbb8)),_0x180477[_0x15c082(0x781)]['results']){for(const _0x37aabf of _0x180477[_0x15c082(0x781)][_0x15c082(0x15b)])_0x796f21=Math[_0x15c082(0x901)](_0x796f21,await _0x44ff63[_0x15c082(0x95b)]['getSimilarity'](_0x37aabf[_0x15c082(0x1c4)],_0x19cbb8));}_0x796f21<_0x180477[_0x15c082(0x7cd)]['minRelevance']||_0x56a835[_0x15c082(0x7bc)]({'content':_0x19cbb8,'relevance':_0x796f21,'pathName':_0x557063});}}_0x56a835=_0x56a835['sort']((_0x31d4f6,_0x2f0b50)=>_0x2f0b50[_0x15c082(0x239)]-_0x31d4f6[_0x15c082(0x239)])[_0x15c082(0x486)](0x0,_0x180477[_0x15c082(0x7cd)][_0x15c082(0x174)]),_0x11c61b[_0x15c082(0x7a7)]({'jobType':_0xb90109['Retrieve'],'type':_0x569f4c[_0x15c082(0x6a7)],'jobId':_0x17c2af,'threadId':_0x3aa31a,'blockId':_0x180477['id'],'traceLevel':_0x23ecc6[_0x15c082(0x851)],'timestamp':Date['now'](),'startTime':_0x59b3c9,'status':_0x15c082(0x94a),'content':_0x1b2445,'topResults':_0x56a835,'numResults':_0x56a835[_0x15c082(0x7ad)]}),await _0x1d112d(_0x17c2af,_0x3aa31a,_0x56a835,_0x28c569,_0x180477,_0x592015,_0x44ff63);}async function _0x43c0cb(_0x5756a3,_0x1fdf34,_0x29641f,_0x3b3001,_0x5f2538,_0x586074,_0x446c27){const _0x7a103b=_0x11ce6,_0xd19106=_0x446c27[_0x7a103b(0x8a6)][_0x7a103b(0x957)](_0xdb2466=>_0xdb2466['id']===_0x5f2538['id']);if(!_0xd19106)throw new Error(_0x7a103b(0x33f));let _0x43bcf8='';switch(_0x43bcf8=_0x29641f instanceof Array?_0x29641f[_0x7a103b(0x99c)](_0x598b5a=>_0x598b5a[_0x7a103b(0x1c4)])[_0x7a103b(0x926)](',\x20'):_0x29641f,_0xd19106[_0x7a103b(0x5ff)]){case _0x4aea4d[_0x7a103b(0x73b)][_0x7a103b(0x2d5)]:await async function(_0x5336fd,_0x1147e9,_0x4f7d38,_0x4cb19f,_0x447b8e,_0xc756b6,_0x2892ed,_0x3bf3ca){const _0x29bcb9=_0x7a103b,_0x2238e1=Date[_0x29bcb9(0x3bd)](),_0x44bb12=_0x3bf3ca[_0x29bcb9(0x5d9)][_0x29bcb9(0x957)](_0x55b898=>_0x55b898['getEngineType']()===_0x447b8e[_0x29bcb9(0x2fd)]);if(!_0x44bb12)throw new Error(_0x29bcb9(0x1a5));const _0x422570=await async function(_0x522997,_0x3d22f2,_0x2bd924,_0x401c91,_0x44b40f){const _0x4e6c6e=_0x29bcb9,_0x557eda={'type':'prompt','prompt':_0x3d22f2,'threadId':_0x522997};_0x2bd924[_0x4e6c6e(0x376)][_0x4e6c6e(0x7ad)]>0x0&&(_0x557eda[_0x4e6c6e(0x944)]=_0x4e6c6e(0x63c)+_0x2bd924[_0x4e6c6e(0x376)]['map'](_0x28abf0=>_0x4e6c6e(0x1d2)+_0x28abf0[_0x4e6c6e(0xa02)]+':\x20'+_0x28abf0[_0x4e6c6e(0x1c4)])['join']('\x0a'));const _0x2cd82a=await _0x401c91[_0x4e6c6e(0x609)](_0x557eda,{'model':_0x44b40f});if(_0x2cd82a['output']instanceof Array)throw new Error('Unexpected\x20output\x20type');return _0x2bd924[_0x4e6c6e(0x408)]+=_0x2cd82a[_0x4e6c6e(0x408)]??0x0,_0x2bd924[_0x4e6c6e(0x997)]+=_0x2cd82a[_0x4e6c6e(0x997)]??0x0,_0x2cd82a[_0x4e6c6e(0x790)];}(_0x1147e9,_0x4f7d38,_0x4cb19f,_0x44bb12,_0x447b8e);_0x11c61b['trace']({'jobType':_0xb90109['Retrieve'],'type':_0x569f4c[_0x29bcb9(0x670)],'jobId':_0x5336fd,'threadId':_0x1147e9,'blockId':_0xc756b6['id'],'traceLevel':_0x23ecc6['Debug'],'startTime':_0x2238e1,'timestamp':Date[_0x29bcb9(0x3bd)](),'status':_0x29bcb9(0x94a),'modelName':_0x447b8e['id'],'content':_0x4f7d38,'newPrompt':_0x422570,'inputType':_0x447b8e['inputType'],'outputType':_0x447b8e[_0x29bcb9(0x5ff)]}),await _0x1d112d(_0x5336fd,_0x1147e9,_0x422570,_0x4cb19f,_0xc756b6,_0x2892ed,_0x3bf3ca);}(_0x5756a3,_0x1fdf34,_0x43bcf8,_0x3b3001,_0xd19106,_0x5f2538,_0x586074,_0x446c27);break;case _0x4aea4d['GenerativeAIModelOutputType']['Vector']:await async function(_0x3f3876,_0x17c470,_0x53cec3,_0x48820b,_0xab9aa0,_0x2d22ad,_0x37d95b,_0x32eb03){const _0x4fc05f=_0x7a103b,_0x57c6e1=Date[_0x4fc05f(0x3bd)](),_0x5cee82=_0x32eb03[_0x4fc05f(0x5d9)][_0x4fc05f(0x957)](_0x35b903=>_0x35b903[_0x4fc05f(0x114)]()===_0xab9aa0[_0x4fc05f(0x2fd)]);if(!_0x5cee82)throw new Error('No\x20connector\x20found\x20for\x20model');const _0x536a0d=await async function(_0x49b210,_0x2f77c9,_0x139bf7,_0x434f24){const _0x130fef=_0x4fc05f;return(await _0x139bf7[_0x130fef(0x609)]({'type':_0x130fef(0x675),'prompt':_0x2f77c9,'threadId':_0x49b210},{'model':_0x434f24}))[_0x130fef(0x790)];}(_0x17c470,_0x53cec3,_0x5cee82,_0xab9aa0);_0x11c61b['trace']({'jobType':_0xb90109['Retrieve'],'type':_0x569f4c['ModelVector'],'jobId':_0x3f3876,'threadId':_0x17c470,'blockId':_0x2d22ad['id'],'traceLevel':_0x23ecc6['Debug'],'startTime':_0x57c6e1,'timestamp':Date['now'](),'status':_0x4fc05f(0x94a),'modelName':_0xab9aa0['id'],'content':_0x53cec3,'totalVectors':_0x536a0d[_0x4fc05f(0x7ad)]}),await _0x1d112d(_0x3f3876,_0x17c470,_0x536a0d,_0x48820b,_0x2d22ad,_0x37d95b,_0x32eb03);}(_0x5756a3,_0x1fdf34,_0x43bcf8,_0x3b3001,_0xd19106,_0x5f2538,_0x586074,_0x446c27);}}async function _0xbc35f2(_0x552c4e,_0x2e6cf5,_0x2cf996,_0x2a8fe4,_0x17f11a,_0x2d5a87,_0x504391){const _0x3e9f1d=_0x11ce6,_0x22500e=Date[_0x3e9f1d(0x3bd)](),_0x40e259=_0x504391[_0x3e9f1d(0x105)][_0x3e9f1d(0x6eb)](_0x17f11a['id'])['search'](_0x2cf996,_0x17f11a[_0x3e9f1d(0x7cd)]['topK'],_0x17f11a[_0x3e9f1d(0x7cd)][_0x3e9f1d(0x42e)],_0x17f11a['attributes'][_0x3e9f1d(0x7bd)]);_0x11c61b['trace']({'jobType':_0xb90109[_0x3e9f1d(0x683)],'type':_0x569f4c['VectorSearch'],'jobId':_0x552c4e,'threadId':_0x2e6cf5,'blockId':_0x17f11a['id'],'traceLevel':_0x23ecc6[_0x3e9f1d(0x851)],'startTime':_0x22500e,'timestamp':Date[_0x3e9f1d(0x3bd)](),'status':_0x3e9f1d(0x94a),'topResults':_0x40e259,'numResults':_0x40e259[_0x3e9f1d(0x7ad)]}),await _0x1d112d(_0x552c4e,_0x2e6cf5,_0x40e259,_0x2a8fe4,_0x17f11a,_0x2d5a87,_0x504391);}async function _0x10d723(_0x22d64a,_0x2883d5,_0x26771f,_0x382b01,_0x30d31e,_0x3aba81,_0x26daca){const _0x3aade5=_0x11ce6,_0x27209b=Date['now']();if(_0x30d31e['accumulated']||(_0x30d31e[_0x3aade5(0x781)]={}),_0x26771f instanceof Array?(_0x30d31e[_0x3aade5(0x781)][_0x3aade5(0x15b)]||(_0x30d31e[_0x3aade5(0x781)][_0x3aade5(0x15b)]=[]),_0x30d31e['accumulated'][_0x3aade5(0x15b)][_0x3aade5(0x7bc)](..._0x26771f)):_0x30d31e['accumulated'][_0x3aade5(0x675)]=_0x26771f,_0x30d31e[_0x3aade5(0x576)]=_0x30d31e[_0x3aade5(0x576)]?_0x30d31e[_0x3aade5(0x576)]+0x1:0x1,_0x229934(_0x30d31e,_0x3aba81)>_0x30d31e[_0x3aade5(0x576)])return;if(!_0x30d31e[_0x3aade5(0x781)][_0x3aade5(0x675)]||!_0x30d31e[_0x3aade5(0x781)][_0x3aade5(0x15b)])throw new Error(_0x3aade5(0x9ff));for(const _0x4877c0 of _0x30d31e[_0x3aade5(0x781)][_0x3aade5(0x15b)])_0x4877c0[_0x3aade5(0x239)]=await _0x26daca[_0x3aade5(0x95b)][_0x3aade5(0x5f8)](_0x30d31e['accumulated'][_0x3aade5(0x675)],_0x4877c0['content']);const _0x35c8e5=_0x30d31e['accumulated'][_0x3aade5(0x15b)][_0x3aade5(0x80e)](_0x288d9f=>_0x288d9f[_0x3aade5(0x239)]>_0x30d31e[_0x3aade5(0x7cd)]['minRelevance'])[_0x3aade5(0x96b)]((_0x1af48c,_0x1eab1d)=>_0x1eab1d['relevance']-_0x1af48c[_0x3aade5(0x239)])['slice'](0x0,_0x30d31e[_0x3aade5(0x7cd)][_0x3aade5(0x174)]);_0x11c61b[_0x3aade5(0x7a7)]({'jobType':_0xb90109[_0x3aade5(0x683)],'type':_0x569f4c['Reranker'],'jobId':_0x22d64a,'threadId':_0x2883d5,'blockId':_0x30d31e['id'],'traceLevel':_0x23ecc6[_0x3aade5(0x851)],'startTime':_0x27209b,'timestamp':Date[_0x3aade5(0x3bd)](),'status':_0x3aade5(0x94a),'inputResults':_0x30d31e[_0x3aade5(0x781)][_0x3aade5(0x15b)],'rerankedResults':_0x35c8e5}),await _0x1d112d(_0x22d64a,_0x2883d5,_0x35c8e5,_0x382b01,_0x30d31e,_0x3aba81,_0x26daca);}async function _0x1d112d(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x51a7e,_0x4f680d,_0x5299ef){const _0x4bbdf1=_0x11ce6;for(const _0x430e3e of _0x51a7e['links']||[]){const _0x47ee99=_0x4f680d[_0x4bbdf1(0x957)](_0x22c728=>_0x22c728[_0x4bbdf1(0x434)]===_0x430e3e[_0x4bbdf1(0x434)]);if(_0x47ee99)switch(_0x47ee99['type']){case _0x5128b2[_0x4bbdf1(0x3d4)]:_0x430e3e[_0x4bbdf1(0x789)]===_0x132faf[_0x4bbdf1(0x222)]&&_0x324309 instanceof Array&&_0x5481ba[_0x4bbdf1(0x376)][_0x4bbdf1(0x7bc)](..._0x324309);break;case _0x5128b2[_0x4bbdf1(0x2a0)]:_0x430e3e['type']===_0x132faf['Text']&&_0x4bbdf1(0x9cc)==typeof _0x324309&&await _0x181f44(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef),_0x430e3e[_0x4bbdf1(0x789)]===_0x132faf[_0x4bbdf1(0x222)]&&_0x324309 instanceof Array&&await _0x181f44(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef);break;case _0x5128b2['GraphDatabase']:_0x430e3e['type']===_0x132faf[_0x4bbdf1(0x2d5)]&&_0x4bbdf1(0x9cc)==typeof _0x324309&&await _0x2b44a4(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef),_0x430e3e[_0x4bbdf1(0x789)]===_0x132faf['Search']&&_0x324309 instanceof Array&&await _0x2b44a4(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef),_0x430e3e['type']===_0x132faf[_0x4bbdf1(0x974)]&&_0x324309 instanceof Set&&await _0x2b44a4(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef);break;case _0x5128b2[_0x4bbdf1(0x4d1)]:_0x430e3e[_0x4bbdf1(0x789)]===_0x132faf[_0x4bbdf1(0x2d5)]&&_0x4bbdf1(0x9cc)==typeof _0x324309&&await _0x43c0cb(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef),_0x430e3e[_0x4bbdf1(0x789)]===_0x132faf[_0x4bbdf1(0x222)]&&_0x324309 instanceof Array&&await _0x43c0cb(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef);break;case _0x5128b2['Reranker']:_0x430e3e[_0x4bbdf1(0x789)]===_0x132faf[_0x4bbdf1(0x2d5)]&&_0x4bbdf1(0x9cc)==typeof _0x324309&&await _0x10d723(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef),_0x430e3e[_0x4bbdf1(0x789)]===_0x132faf[_0x4bbdf1(0x222)]&&_0x324309 instanceof Array&&await _0x10d723(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef);break;case _0x5128b2[_0x4bbdf1(0x9d3)]:_0x430e3e[_0x4bbdf1(0x789)]===_0x132faf[_0x4bbdf1(0x411)]&&_0x324309 instanceof Array&&await _0xbc35f2(_0x5f1d00,_0x246e54,_0x324309,_0x5481ba,_0x47ee99,_0x4f680d,_0x5299ef);}}}function _0x229934(_0x3f7451,_0x113fec){const _0x365046=_0x11ce6;return _0x113fec[_0x365046(0x80e)](_0x5c09fa=>_0x5c09fa['links']?.['some'](_0x18e015=>_0x18e015[_0x365046(0x434)]===_0x3f7451[_0x365046(0x434)]))[_0x365046(0x7ad)];}async function _0x597ca1(_0x1aa7ac,_0x32c6e0,_0x50d904,_0x312f62,_0x503ef9,_0x1f091f){const _0x535605=_0x11ce6,_0x42c1b8={'type':_0x535605(0x675),'output':'','context':[],'inputTokens':0x0,'outputTokens':0x0};try{await _0x1d112d(_0x1aa7ac,_0x32c6e0,_0x50d904,_0x42c1b8,_0x312f62,structuredClone(_0x503ef9),_0x1f091f),_0x42c1b8[_0x535605(0x790)]='Additional\x20context:\x0a'+_0x42c1b8[_0x535605(0x376)][_0x535605(0x99c)](_0x171d31=>'From\x20'+_0x171d31[_0x535605(0xa02)]+':\x20'+_0x171d31[_0x535605(0x1c4)])[_0x535605(0x926)]('\x0a');}catch(_0x3b4fc0){console[_0x535605(0x89e)](_0x535605(0x9ad),_0x3b4fc0);}return _0x42c1b8;}function _0x432252(_0x54be32,_0x2c672a,_0x4f5b40,_0xe14bff,_0x39358d,_0x5d986c,_0xb81f51){const _0x4631f2=_0x11ce6,_0x206101=_0x4631f2(0x23f)+_0x39358d[_0x4631f2(0x805)]+_0x4631f2(0x8e9),_0x5f4c6b={'queryOrPrompt':{'type':_0x4aea4d['PromptFunctionParamsType'][_0x4631f2(0xc0)]}};return _0x11c61b[_0x4631f2(0x7a7)]({'jobType':_0xb90109['JobContext'],'type':_0xb3ac0d[_0x4631f2(0x6f3)],'jobId':_0x54be32,'agentId':_0x2c672a,'threadId':_0x4f5b40,'blockId':_0x39358d['id'],'traceLevel':_0x23ecc6['Info'],'startTime':Date[_0x4631f2(0x3bd)](),'timestamp':Date[_0x4631f2(0x3bd)](),'status':'success','function':_0x398e63[_0x4631f2(0x29b)],'params':_0x5f4c6b,'functionDescription':_0x206101}),{'description':_0x206101,'params':_0x5f4c6b,'callback':async _0x4b855b=>{const _0x101ff5=_0x4631f2,_0x447403=Date[_0x101ff5(0x3bd)]();try{if(_0xb81f51&&(await _0x508bd4[_0x101ff5(0x573)](0x1),_0xb81f51[_0x101ff5(0x11c)]({'output':_0x101ff5(0x9a0)+_0x39358d[_0x101ff5(0x768)]+_0x101ff5(0x337)+_0x4b855b?.['queryOrPrompt']+_0x101ff5(0x7be),'type':_0x101ff5(0x675)})),_0x101ff5(0x9cc)!=typeof _0x4b855b?.['queryOrPrompt'])throw new Error(_0x101ff5(0x12a));const _0xc52bbe=_0x39358d[_0x101ff5(0x438)][_0x101ff5(0x957)](_0x3d0529=>_0x3d0529[_0x101ff5(0x789)]===_0x5128b2[_0x101ff5(0x3fb)]),_0x1cb11b=await _0x597ca1(_0x54be32,_0x4f5b40,_0x4b855b[_0x101ff5(0x40a)],_0xc52bbe,_0x39358d[_0x101ff5(0x438)],_0x5d986c);return _0xe14bff['context']=Array['from'](new Set([..._0xe14bff[_0x101ff5(0x376)],..._0x1cb11b[_0x101ff5(0x376)]])),_0x11c61b[_0x101ff5(0x7a7)]({'jobType':_0xb90109[_0x101ff5(0x9c4)],'type':_0x398e63[_0x101ff5(0x2ed)],'jobId':_0x54be32,'blockId':_0x39358d['id'],'agentId':_0x2c672a,'threadId':_0x4f5b40,'traceLevel':_0x23ecc6[_0x101ff5(0x602)],'startTime':_0x447403,'timestamp':Date[_0x101ff5(0x3bd)](),'status':_0x101ff5(0x94a),'query':_0x4b855b[_0x101ff5(0x40a)],'context':_0x1cb11b['context']??[],'inputTokens':_0x1cb11b[_0x101ff5(0x408)]??0x0,'outputTokens':_0x1cb11b[_0x101ff5(0x997)]??0x0}),_0x1cb11b[_0x101ff5(0x790)];}catch(_0x14fea9){return console[_0x101ff5(0x89e)](_0x14fea9),_0x11c61b['trace']({'jobType':_0xb90109[_0x101ff5(0x9c4)],'type':_0x398e63['GetContextResult'],'jobId':_0x54be32,'blockId':_0x39358d['id'],'agentId':_0x2c672a,'threadId':_0x4f5b40,'traceLevel':_0x23ecc6[_0x101ff5(0x602)],'startTime':_0x447403,'timestamp':Date[_0x101ff5(0x3bd)](),'status':_0x101ff5(0x89e),'errorDetails':_0x1ae84b(_0x14fea9),'query':_0x4b855b?.[_0x101ff5(0x40a)]??'','context':[],'inputTokens':0x0,'outputTokens':0x0}),_0x14fea9 instanceof Error?_0x14fea9['message']:_0x101ff5(0x807);}}};}function _0x5f3f12(_0x3c8a7c,_0x263037,_0x5bbeda,_0x245e7d,_0x54d2dd,_0x5bc3a6){const _0x386048=_0x11ce6,_0x5b0bb7={};for(const _0x213586 of _0x245e7d[_0x386048(0x54b)])switch(_0x213586[_0x386048(0x789)]){case _0x386048(0x9cc):case'json':_0x5b0bb7[_0x213586[_0x386048(0x768)]]={'type':_0x4aea4d[_0x386048(0x24c)]['String']};break;case'number':_0x5b0bb7[_0x213586[_0x386048(0x768)]]={'type':_0x4aea4d['PromptFunctionParamsType'][_0x386048(0x128)]};break;case _0x386048(0x28e):_0x5b0bb7[_0x213586[_0x386048(0x768)]]={'type':_0x4aea4d[_0x386048(0x24c)]['Boolean']};}return _0x11c61b['trace']({'jobType':_0xb90109[_0x386048(0x4f2)],'type':_0xb3ac0d[_0x386048(0x1d8)],'jobId':_0x3c8a7c,'agentId':_0x263037,'threadId':_0x5bbeda,'traceLevel':_0x23ecc6['Info'],'startTime':Date[_0x386048(0x3bd)](),'timestamp':Date[_0x386048(0x3bd)](),'status':_0x386048(0x94a),'function':_0x3e4ff0['ExecuteCustomSkill'],'params':_0x5b0bb7,'functionDescription':_0x245e7d[_0x386048(0x805)]}),{'description':'Execute\x20skill\x20'+_0x245e7d[_0x386048(0x805)],'params':_0x5b0bb7,'callback':async _0x3356ea=>{const _0x3c19d2=_0x386048,_0xbdc73a=Date[_0x3c19d2(0x3bd)]();try{if(_0x5bc3a6&&(await _0x508bd4[_0x3c19d2(0x573)](0x1),_0x5bc3a6[_0x3c19d2(0x11c)]({'output':_0x3c19d2(0x9ca)+_0x245e7d[_0x3c19d2(0x768)]+_0x3c19d2(0x7be),'type':_0x3c19d2(0x675)})),!_0x3356ea)throw new Error(_0x3c19d2(0x44e));for(const _0x2759d1 of _0x245e7d[_0x3c19d2(0x54b)]){if(void 0x0===_0x3356ea[_0x2759d1[_0x3c19d2(0x768)]])throw new Error(_0x3c19d2(0x773)+_0x2759d1[_0x3c19d2(0x768)]+_0x3c19d2(0x7b1));if(_0x3c19d2(0x9cc)===_0x2759d1[_0x3c19d2(0x789)]&&_0x3c19d2(0x9cc)!=typeof _0x3356ea[_0x2759d1['name']])throw new Error('Parameter\x20'+_0x2759d1[_0x3c19d2(0x768)]+_0x3c19d2(0x37d));if(_0x3c19d2(0x9b1)===_0x2759d1[_0x3c19d2(0x789)]&&_0x3c19d2(0x9b1)!=typeof _0x3356ea[_0x2759d1[_0x3c19d2(0x768)]])throw new Error(_0x3c19d2(0x773)+_0x2759d1[_0x3c19d2(0x768)]+_0x3c19d2(0x2c0));if(_0x3c19d2(0x28e)===_0x2759d1['type']&&_0x3c19d2(0x28e)!=typeof _0x3356ea[_0x2759d1[_0x3c19d2(0x768)]])throw new Error(_0x3c19d2(0x773)+_0x2759d1['name']+'\x20must\x20be\x20a\x20boolean');if(_0x3c19d2(0x198)===_0x2759d1[_0x3c19d2(0x789)]&&_0x3c19d2(0x9cc)!=typeof _0x3356ea[_0x2759d1[_0x3c19d2(0x768)]])throw new Error(_0x3c19d2(0x773)+_0x2759d1[_0x3c19d2(0x768)]+_0x3c19d2(0x37d));if(_0x3c19d2(0x198)===_0x2759d1[_0x3c19d2(0x789)])try{_0x3356ea[_0x2759d1[_0x3c19d2(0x768)]]=JSON[_0x3c19d2(0x67e)](_0x3356ea[_0x2759d1[_0x3c19d2(0x768)]]);}catch{throw new Error('Parameter\x20'+_0x2759d1['name']+_0x3c19d2(0x35f));}}const _0x33579b={};for(const _0x268bbc of _0x245e7d['headers']){let _0x194f60=_0x268bbc[_0x3c19d2(0x844)];_0x194f60[_0x3c19d2(0x897)](/\$[a-zA-Z0-9]+/)&&(_0x194f60=_0x194f60[_0x3c19d2(0x7b8)](/\$[a-zA-Z0-9]+/g,_0x157259=>{const _0x1edab9=_0x3c19d2,_0x454b45=_0x157259[_0x1edab9(0x486)](0x1);return _0x3356ea[_0x454b45];})),_0x33579b[_0x268bbc[_0x3c19d2(0x768)]]=_0x194f60;}const _0x69cb35=new URLSearchParams();for(const _0x42f7b3 of _0x245e7d[_0x3c19d2(0x424)]){let _0x4cb51a=_0x42f7b3[_0x3c19d2(0x844)];if('string'==typeof _0x4cb51a&&_0x4cb51a[_0x3c19d2(0x534)]('$')){const _0x18d09e=_0x4cb51a[_0x3c19d2(0x486)](0x1);_0x4cb51a=_0x3356ea[_0x18d09e];}if('string'==typeof _0x4cb51a&&_0x4cb51a['startsWith']('@context.')){const _0x3e1978=_0x4cb51a['replace'](_0x3c19d2(0x44c),'');if(_0x245e7d[_0x3c19d2(0x781)],_0x4cb51a=_0x245e7d[_0x3c19d2(0x781)]?.[_0x3c19d2(0x376)]?.[_0x3e1978],_0x3c19d2(0x9cc)==typeof _0x4cb51a&&_0x4cb51a[_0x3c19d2(0x534)]('{')&&_0x4cb51a['endsWith']('}'))try{_0x4cb51a=JSON[_0x3c19d2(0x67e)](_0x4cb51a);}catch{}}'string'==typeof _0x4cb51a&&_0x4cb51a[_0x3c19d2(0x534)]('[')&&_0x4cb51a[_0x3c19d2(0x301)](']')&&(_0x4cb51a=_0x4cb51a['slice'](0x1,-0x1)[_0x3c19d2(0x82c)](',')),_0x69cb35[_0x3c19d2(0x490)](_0x42f7b3[_0x3c19d2(0x768)],_0x4cb51a);}let _0x764a35=_0x245e7d[_0x3c19d2(0x400)];_0x69cb35[_0x3c19d2(0x84c)]>0x0&&(_0x764a35+='?'+_0x69cb35[_0x3c19d2(0x2bd)]());let _0x44b643={};for(const _0x1d840e of _0x245e7d[_0x3c19d2(0x179)]){let _0x10583a=_0x1d840e['value'];if(_0x3c19d2(0x9cc)==typeof _0x10583a&&_0x10583a[_0x3c19d2(0x534)]('$')){const _0x4edd35=_0x10583a[_0x3c19d2(0x486)](0x1);_0x10583a=_0x3356ea[_0x4edd35];}if(_0x3c19d2(0x9cc)==typeof _0x10583a&&_0x10583a['startsWith'](_0x3c19d2(0x44c))){const _0x2fad93=_0x10583a[_0x3c19d2(0x7b8)]('@context.','');if(_0x10583a=_0x245e7d[_0x3c19d2(0x781)]?.[_0x3c19d2(0x376)]?.[_0x2fad93],_0x3c19d2(0x9cc)==typeof _0x10583a&&_0x10583a[_0x3c19d2(0x534)]('{')&&_0x10583a[_0x3c19d2(0x301)]('}'))try{_0x10583a=JSON[_0x3c19d2(0x67e)](_0x10583a);}catch{}}if(_0x3c19d2(0x9cc)==typeof _0x10583a&&_0x10583a[_0x3c19d2(0x534)]('[')&&_0x10583a['endsWith'](']')&&(_0x10583a=_0x10583a[_0x3c19d2(0x486)](0x1,-0x1)[_0x3c19d2(0x82c)](',')),_0x3c19d2(0x775)===_0x1d840e[_0x3c19d2(0x768)]){const _0x2e1325=_0x10583a[_0x3c19d2(0x897)](/```html(.*)```/s);_0x2e1325&&(_0x10583a=_0x2e1325[0x1]),_0x10583a=_0x10583a['replace'](/\n/g,''),_0x10583a=_0x10583a[_0x3c19d2(0x7b8)](/'/g,'\x22'),_0x44b643=_0x10583a;break;}if(-0x1===_0x1d840e[_0x3c19d2(0x768)][_0x3c19d2(0x558)]('.'))_0x44b643[_0x1d840e[_0x3c19d2(0x768)]]=_0x10583a;else{const [_0x2af694,_0x417e51]=_0x1d840e[_0x3c19d2(0x768)][_0x3c19d2(0x82c)]('.');_0x44b643[_0x2af694]||(_0x44b643[_0x2af694]={}),_0x44b643[_0x2af694][_0x417e51]=_0x10583a;}}const _0x4b60ec=await fetch(_0x764a35,{'method':_0x245e7d[_0x3c19d2(0x184)],'headers':_0x33579b,'body':_0x3c19d2(0x9cc)==typeof _0x44b643?_0x44b643:JSON['stringify'](_0x44b643)});if(_0x4b60ec['ok']){let _0xfd5b29=await _0x4b60ec[_0x3c19d2(0x198)]();return _0x245e7d[_0x3c19d2(0x7f9)]&&(_0xfd5b29=await function(_0x21c98f,_0x2e529f){return new Promise((_0x51df2b,_0x4110c4)=>{const _0x14ba92=a0_0x5c6e,_0x9dc405=_0x508bd4[_0x14ba92(0x54a)](async()=>{const _0x36a26b=_0x14ba92;try{if(!_0x21c98f['asyncEndpointUrl']||!_0x21c98f['asyncEndpointMethod'])throw new Error(_0x36a26b(0x852));const _0x3f07b7={};if(_0x21c98f['asyncHeaders']){for(const _0x5e3f31 of _0x21c98f[_0x36a26b(0x845)])_0x3f07b7[_0x5e3f31[_0x36a26b(0x768)]]=_0x5e3f31['value'];}const _0x2b07fd=_0x21c98f[_0x36a26b(0x48a)]['replace'](_0x36a26b(0x7a6),_0x2e529f),_0x2bd106=await fetch(_0x2b07fd,{'method':_0x21c98f[_0x36a26b(0x594)],'headers':_0x3f07b7});if(0xc8===_0x2bd106[_0x36a26b(0x373)]){const _0x28fc5a=await _0x2bd106[_0x36a26b(0x198)]();_0x9dc405(),_0x51df2b(_0x28fc5a);}_0x2bd106[_0x36a26b(0x373)]>=0x190&&(console['error'](_0x2bd106[_0x36a26b(0x3d3)]),_0x9dc405(),_0x4110c4(new Error(_0x2bd106['statusText'])));}catch(_0x476241){console[_0x36a26b(0x89e)](_0x476241),_0x9dc405(),_0x4110c4(_0x476241);}},_0x4f4a94);});}(_0x245e7d,_0xfd5b29['id'])),_0x3c19d2(0x9cc)!=typeof _0xfd5b29&&(_0xfd5b29=JSON[_0x3c19d2(0x3ea)](_0xfd5b29)),_0x11c61b[_0x3c19d2(0x7a7)]({'jobType':_0xb90109['Skill'],'type':_0x3e4ff0[_0x3c19d2(0x69a)],'jobId':_0x3c8a7c,'agentId':_0x263037,'threadId':_0x5bbeda,'blockId':_0x245e7d['id'],'traceLevel':_0x23ecc6[_0x3c19d2(0x602)],'startTime':_0xbdc73a,'timestamp':Date[_0x3c19d2(0x3bd)](),'status':'success','skillName':_0x245e7d['name'],'params':_0x3356ea,'result':_0xfd5b29}),_0x245e7d[_0x3c19d2(0x440)]?.[_0x3c19d2(0x335)](_0x36949e=>_0x36949e[_0x3c19d2(0x789)]===_0x132faf[_0x3c19d2(0x3d4)])?(_0x4cc063(_0xfd5b29,_0x245e7d,_0x54d2dd),_0x3c19d2(0x83a)):_0xfd5b29;}throw new Error(_0x4b60ec[_0x3c19d2(0x3d3)]);}catch(_0x130d45){console['error'](_0x130d45);const _0x44d686=_0x130d45 instanceof Error?_0x130d45[_0x3c19d2(0x686)]:_0x3c19d2(0x40e);return _0x11c61b[_0x3c19d2(0x7a7)]({'jobType':_0xb90109[_0x3c19d2(0x8cf)],'type':_0x3e4ff0[_0x3c19d2(0x69a)],'jobId':_0x3c8a7c,'blockId':_0x245e7d['id'],'threadId':_0x5bbeda,'traceLevel':_0x23ecc6[_0x3c19d2(0x602)],'startTime':_0xbdc73a,'timestamp':Date[_0x3c19d2(0x3bd)](),'agentId':_0x263037,'status':_0x3c19d2(0x89e),'skillName':_0x245e7d[_0x3c19d2(0x768)],'params':_0x3356ea??{},'result':_0x44d686}),_0x44d686;}}};}function _0x6bd809(_0x5d3f29,_0x3153c6,_0x4766b1,_0x504d27,_0x73caf9,_0x1c9bbd=!0x0){const _0x4b3eb2=_0x11ce6,_0x296e3f='Retrieve\x20the\x20content\x20of\x20a\x20specified\x20URL.\x20The\x20URL\x20can\x20be\x20obtained\x20from\x20search\x20results\x20or\x20other\x20sources\x20and\x20should\x20be\x20used\x20to\x20extract\x20relevant\x20data\x20or\x20information.',_0x271799={'url':{'type':_0x4aea4d[_0x4b3eb2(0x24c)][_0x4b3eb2(0xc0)]},'page':{'type':_0x4aea4d[_0x4b3eb2(0x24c)][_0x4b3eb2(0x128)]}};return _0x11c61b['trace']({'jobType':_0xb90109['JobContext'],'type':_0xb3ac0d[_0x4b3eb2(0x1d8)],'jobId':_0x5d3f29,'agentId':_0x3153c6,'threadId':_0x4766b1,'traceLevel':_0x23ecc6[_0x4b3eb2(0x602)],'startTime':Date[_0x4b3eb2(0x3bd)](),'timestamp':Date[_0x4b3eb2(0x3bd)](),'status':_0x4b3eb2(0x94a),'function':_0x3e4ff0[_0x4b3eb2(0x9e9)],'params':_0x271799,'functionDescription':_0x296e3f}),{'description':_0x296e3f,'params':_0x271799,'callback':async _0x58c26a=>{const _0x38f2f3=_0x4b3eb2,_0x5096b6=Date['now']();try{if(_0x73caf9&&(await _0x508bd4[_0x38f2f3(0x573)](0x1),_0x73caf9[_0x38f2f3(0x11c)]({'output':_0x38f2f3(0x931)+_0x58c26a?.[_0x38f2f3(0x9d1)]+_0x38f2f3(0x7be),'type':'prompt'})),_0x38f2f3(0x9cc)!=typeof _0x58c26a?.[_0x38f2f3(0x9d1)])throw new Error(_0x38f2f3(0x80a));const _0x56f107=_0x58c26a[_0x38f2f3(0x9d1)];if([_0x38f2f3(0x6ed),_0x38f2f3(0x916),_0x38f2f3(0x5af),'.ppt',_0x38f2f3(0x86a),_0x38f2f3(0x202),_0x38f2f3(0x29e)][_0x38f2f3(0x335)](_0x533894=>_0x56f107[_0x38f2f3(0x301)](_0x533894)))throw new Error(_0x38f2f3(0x8aa));const _0x591a8e=await fetch(_0x56f107),_0x265532=await _0x591a8e[_0x38f2f3(0x896)]();let _0x321b30=_0x265532;if(_0x1c9bbd){const _0x3d3b64=_0x265532[_0x38f2f3(0x897)](/<body[^>]*>((.|[\n\r])*)<\/body>/i),_0x48b359=_0x3d3b64?_0x3d3b64[0x1]:_0x265532,_0x3ed157=_0x48b359[_0x38f2f3(0x7b8)](/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,'')['replace'](/<style\b[^<]*(?:(?!<\/style>)<[^<]*)*<\/style>/gi,'')[_0x38f2f3(0x7b8)](/<br\s*\/?>/gi,'\x20')[_0x38f2f3(0x7b8)](/&nbsp;/g,'\x20');_0x321b30=_0x3ed157[_0x38f2f3(0x7b8)](/<\/?[^>]+(>|$)/g,'')[_0x38f2f3(0x7b8)](/\s\s+/g,'\x20')[_0x38f2f3(0x406)]();}const _0x4f6c27='number'==typeof _0x58c26a[_0x38f2f3(0x110)]?_0x58c26a[_0x38f2f3(0x110)]:0x1,_0x107c28=Math[_0x38f2f3(0x375)](_0x321b30['length']/_0x41562d);return _0x321b30[_0x38f2f3(0x7ad)]>_0x41562d&&(_0x321b30=_0x321b30[_0x38f2f3(0x159)]((_0x4f6c27-0x1)*_0x41562d,(_0x4f6c27-0x1)*_0x41562d+_0x41562d)+_0x38f2f3(0x6fb)+(_0x4f6c27+0x1)+'.Total\x20pages\x20available:\x20'+_0x107c28+'.'),_0x11c61b[_0x38f2f3(0x7a7)]({'jobType':_0xb90109[_0x38f2f3(0x8cf)],'type':_0x3e4ff0['FetchUrl'],'jobId':_0x5d3f29,'agentId':_0x3153c6,'threadId':_0x4766b1,'blockId':_0x504d27,'traceLevel':_0x23ecc6['Info'],'startTime':_0x5096b6,'timestamp':Date[_0x38f2f3(0x3bd)](),'status':_0x591a8e['ok']?_0x38f2f3(0x94a):_0x38f2f3(0x89e),'url':_0x58c26a['url'],'page':_0x4f6c27,'totalPages':_0x107c28,'response':_0x321b30}),_0x321b30;}catch(_0x2d7299){console[_0x38f2f3(0x89e)](_0x2d7299);const _0x17b527=_0x2d7299 instanceof Error?_0x2d7299[_0x38f2f3(0x686)]:_0x38f2f3(0x40e);return _0x11c61b[_0x38f2f3(0x7a7)]({'jobType':_0xb90109[_0x38f2f3(0x8cf)],'type':_0x3e4ff0[_0x38f2f3(0x9e9)],'jobId':_0x5d3f29,'blockId':_0x504d27,'threadId':_0x4766b1,'traceLevel':_0x23ecc6[_0x38f2f3(0x602)],'startTime':_0x5096b6,'timestamp':Date[_0x38f2f3(0x3bd)](),'agentId':_0x3153c6,'status':'error','errorDetails':_0x1ae84b(_0x2d7299),'url':_0x58c26a?.[_0x38f2f3(0x9d1)]??'','page':0x0,'totalPages':0x0,'response':_0x17b527}),_0x17b527;}}};}async function _0x1bc5c5(_0x565c33,_0x4fcd0f,_0x216b8a,_0x4e9444,_0x52031f,_0x4e410e,_0x1b7270,_0x1a36be){const _0x57dd81=_0x11ce6,_0x475c8c=new Map(),_0x2d4ca9=_0x4e410e[_0x57dd81(0x80e)](_0xdec8dd=>_0xdec8dd['links']?.[_0x57dd81(0x957)](_0x2934b4=>_0x2934b4[_0x57dd81(0x434)]===_0x52031f['uid']&&(_0x2934b4[_0x57dd81(0x789)]===_0x132faf[_0x57dd81(0x9c4)]||_0x2934b4[_0x57dd81(0x789)]===_0x132faf[_0x57dd81(0x8cf)])));for(const _0x21ec8e of _0x2d4ca9)_0x21ec8e[_0x57dd81(0x789)]===_0x517648[_0x57dd81(0x9c4)]||_0x21ec8e['type']===_0x517648[_0x57dd81(0x9a8)]?_0x475c8c[_0x57dd81(0x323)](_0x57dd81(0x5e6)+_0x21ec8e[_0x57dd81(0x768)][_0x57dd81(0x7b8)](/[^a-zA-Z]/g,''),_0x432252(_0x565c33,_0x4fcd0f,_0x216b8a,_0x4e9444,_0x21ec8e,_0x1b7270,_0x1a36be)):_0x21ec8e[_0x57dd81(0x789)]===_0x517648[_0x57dd81(0x61d)]||_0x21ec8e[_0x57dd81(0x789)]===_0x517648[_0x57dd81(0x68c)]?_0x475c8c[_0x57dd81(0x323)](_0x57dd81(0x56b)+_0x21ec8e['name'][_0x57dd81(0x7b8)](/[^a-zA-Z]/g,''),_0x3a1591(_0x565c33,_0x4fcd0f,_0x216b8a,_0x4e9444,_0x21ec8e,_0x4e410e,_0x1b7270,_0x1a36be)):_0x21ec8e['type']===_0x517648[_0x57dd81(0x182)]?_0x475c8c[_0x57dd81(0x323)](_0x21ec8e[_0x57dd81(0x768)][_0x57dd81(0x7b8)](/[^a-zA-Z]/g,''),_0x5f3f12(_0x565c33,_0x4fcd0f,_0x216b8a,_0x21ec8e,_0x4e410e,_0x1a36be)):_0x475c8c[_0x57dd81(0x323)](_0x9fa3b(_0x21ec8e),await _0x1b4b0d(_0x565c33,_0x4fcd0f,_0x216b8a,_0x21ec8e,_0x1b7270,_0x1a36be));return _0x475c8c;}function _0x9fa3b(_0x324f23){const _0x450b39=_0x11ce6;switch(_0x324f23['type']){case _0x517648[_0x450b39(0x6fa)]:return'executeJavascriptCodeSnippet';case _0x517648['Search']:return _0x450b39(0x77e);case _0x517648['AiSearch']:return _0x450b39(0x5c7);case _0x517648['QueryFile']:return'queryFile';case _0x517648[_0x450b39(0x5ba)]:case _0x517648[_0x450b39(0x68b)]:return _0x450b39(0x7c1);}throw new Error(_0x450b39(0x655));}async function _0x1b4b0d(_0xb22c7d,_0x5bc65f,_0x58b8aa,_0x34e796,_0x463e7e,_0x2b0355){const _0xc4b6d9=_0x11ce6;switch(_0x34e796['type']){case _0x517648[_0xc4b6d9(0x6fa)]:return function(_0x27a086,_0x2a9e90,_0x12973b,_0x1365b7,_0x291c03){const _0x9e64d8=_0xc4b6d9,_0x4372bf='Execute\x20a\x20JavaScript\x20code\x20snippet\x20that\x20returns\x20a\x20string.\x20Ensure\x20the\x20code\x20is\x20designed\x20to\x20produce\x20a\x20string\x20output\x20for\x20further\x20processing\x20or\x20display.\x20Any\x20other\x20language\x20than\x20javascript\x20will\x20fail\x20execution.',_0x26cff8={'code':{'type':_0x4aea4d[_0x9e64d8(0x24c)]['String']}};return _0x11c61b['trace']({'jobType':_0xb90109[_0x9e64d8(0x4f2)],'type':_0xb3ac0d[_0x9e64d8(0x1d8)],'jobId':_0x27a086,'agentId':_0x2a9e90,'threadId':_0x12973b,'traceLevel':_0x23ecc6['Info'],'startTime':Date[_0x9e64d8(0x3bd)](),'timestamp':Date[_0x9e64d8(0x3bd)](),'status':_0x9e64d8(0x94a),'function':_0x3e4ff0[_0x9e64d8(0x934)],'params':_0x26cff8,'functionDescription':_0x4372bf}),{'description':_0x4372bf,'params':_0x26cff8,'callback':async _0x25b6b9=>{const _0x521bda=_0x9e64d8,_0x1acee0=Date['now']();try{if(_0x291c03&&(await _0x508bd4[_0x521bda(0x573)](0x1),_0x291c03[_0x521bda(0x11c)]({'output':'\x0a\x0a`Executing\x20code\x20snippet`\x0a\x0a','type':'prompt'})),'string'!=typeof _0x25b6b9?.[_0x521bda(0x505)])throw new Error(_0x521bda(0x640));const _0x2f48ca=Function(''+_0x25b6b9?.['code'])();let _0x2eaf15='';try{_0x2eaf15=JSON[_0x521bda(0x3ea)](_0x2f48ca);}catch{_0x2eaf15=_0x2f48ca['toString']();}return _0x11c61b['trace']({'jobType':_0xb90109['Skill'],'type':_0x3e4ff0[_0x521bda(0x934)],'agentId':_0x2a9e90,'threadId':_0x12973b,'jobId':_0x27a086,'blockId':_0x1365b7,'traceLevel':_0x23ecc6[_0x521bda(0x602)],'startTime':_0x1acee0,'timestamp':Date[_0x521bda(0x3bd)](),'status':_0x521bda(0x94a),'code':_0x25b6b9[_0x521bda(0x505)],'result':_0x2eaf15}),_0x2f48ca;}catch(_0x41c48e){return console['error'](_0x41c48e),_0x11c61b[_0x521bda(0x7a7)]({'jobType':_0xb90109[_0x521bda(0x8cf)],'type':_0x3e4ff0[_0x521bda(0x934)],'jobId':_0x27a086,'blockId':_0x1365b7,'traceLevel':_0x23ecc6[_0x521bda(0x602)],'startTime':_0x1acee0,'timestamp':Date['now'](),'status':'error','errorDetails':_0x1ae84b(_0x41c48e),'agentId':_0x2a9e90,'threadId':_0x12973b,'code':_0x25b6b9?.[_0x521bda(0x505)]??'','result':'Error\x20executing\x20code'}),_0x41c48e instanceof Error?_0x41c48e[_0x521bda(0x686)]:_0x521bda(0x7f8);}}};}(_0xb22c7d,_0x5bc65f,_0x58b8aa,_0x34e796['id'],_0x2b0355);case _0x517648[_0xc4b6d9(0x79a)]:return async function(_0xd19523,_0x2fa2dc,_0x472ced,_0x1013e5,_0x496341,_0x5cb633){const _0x233f38=_0xc4b6d9;if(!_0x1013e5[_0x233f38(0x781)]?.[_0x233f38(0x990)]||0x0===_0x1013e5[_0x233f38(0x781)][_0x233f38(0x990)][_0x233f38(0x7ad)])throw new Error(_0x233f38(0x880));if(_0x1013e5[_0x233f38(0x781)][_0x233f38(0x990)][_0x233f38(0x7ad)]>0x1)throw new Error(_0x233f38(0x11d));const _0x44b878=[',',';','\x09','|',':'],_0x2204c9=['\x22','\x27'],_0x1a3878=await _0x1013e5['accumulated']['files'][0x0][_0x233f38(0x896)](),_0xb6e88e=_0x1a3878[_0x233f38(0x82c)]('\x0a')[0x0];let _0x49cc5d=null,_0x82509=null,_0x28c3ba=0x0;for(const _0x286e06 of _0x44b878){const _0x34de92=(_0xb6e88e[_0x233f38(0x897)](new RegExp('\x5c'+_0x286e06,'g'))||[])[_0x233f38(0x7ad)];_0x34de92>_0x28c3ba&&(_0x28c3ba=_0x34de92,_0x49cc5d=_0x286e06);}_0x49cc5d||(_0x49cc5d=','),_0x28c3ba=0x0;for(const _0xad7f9f of _0x2204c9){const _0x2adab3=(_0xb6e88e[_0x233f38(0x897)](new RegExp('\x5c'+_0xad7f9f,'g'))||[])[_0x233f38(0x7ad)];_0x2adab3>_0x28c3ba&&(_0x28c3ba=_0x2adab3,_0x82509=_0xad7f9f);}_0x82509||(_0x82509='\x22');const _0x53bfab=_0x233f38(0x817)+_0xb6e88e['split'](_0x49cc5d)['join'](',\x20'),_0x5514f6={'query':{'type':_0x4aea4d[_0x233f38(0x24c)]['String']}};return _0x11c61b[_0x233f38(0x7a7)]({'jobType':_0xb90109[_0x233f38(0x4f2)],'type':_0xb3ac0d[_0x233f38(0x1d8)],'jobId':_0xd19523,'agentId':_0x2fa2dc,'threadId':_0x472ced,'traceLevel':_0x23ecc6[_0x233f38(0x602)],'startTime':Date[_0x233f38(0x3bd)](),'timestamp':Date[_0x233f38(0x3bd)](),'status':'success','function':_0x3e4ff0[_0x233f38(0x79a)],'params':_0x5514f6,'functionDescription':_0x53bfab}),{'description':_0x53bfab,'params':_0x5514f6,'callback':async _0x5edb06=>{const _0x38a991=_0x233f38,_0x5cbef3=Date[_0x38a991(0x3bd)]();try{if(_0x5cb633&&(await _0x508bd4[_0x38a991(0x573)](0x1),_0x5cb633[_0x38a991(0x11c)]({'output':_0x38a991(0x808),'type':'prompt'})),!_0x496341['queryFileConnector'])throw new Error(_0x38a991(0x58d));if(_0x38a991(0x9cc)!=typeof _0x5edb06?.['query'])throw new Error(_0x38a991(0x12a));if(!_0x5edb06[_0x38a991(0x837)][_0x38a991(0x2a1)]('FROM\x20file'))throw new Error('Query\x20must\x20refer\x20to\x20the\x20file\x20table');const _0x50349b=await _0x496341[_0x38a991(0x390)][_0x38a991(0x1c2)](_0x1a3878,_0x5edb06[_0x38a991(0x837)],{'headers':!0x0,'quote':_0x82509,'separator':_0x49cc5d});return _0x11c61b[_0x38a991(0x7a7)]({'jobType':_0xb90109[_0x38a991(0x8cf)],'type':_0x3e4ff0[_0x38a991(0x79a)],'jobId':_0xd19523,'agentId':_0x2fa2dc,'threadId':_0x472ced,'blockId':_0x1013e5['id'],'traceLevel':_0x23ecc6[_0x38a991(0x602)],'startTime':_0x5cbef3,'timestamp':Date['now'](),'status':'success','query':_0x5edb06[_0x38a991(0x837)],'results':_0x50349b}),_0x50349b;}catch(_0x4eede1){return console['error'](_0x4eede1),_0x11c61b[_0x38a991(0x7a7)]({'jobType':_0xb90109[_0x38a991(0x8cf)],'type':_0x3e4ff0[_0x38a991(0x79a)],'jobId':_0xd19523,'blockId':_0x1013e5['id'],'traceLevel':_0x23ecc6['Info'],'startTime':_0x5cbef3,'timestamp':Date[_0x38a991(0x3bd)](),'status':_0x38a991(0x89e),'errorDetails':_0x1ae84b(_0x4eede1),'agentId':_0x2fa2dc,'threadId':_0x472ced,'query':_0x5edb06?.[_0x38a991(0x837)]??'','results':'Error\x20searching'}),_0x4eede1 instanceof Error?_0x4eede1[_0x38a991(0x686)]:'Error\x20fetching\x20file';}}};}(_0xb22c7d,_0x5bc65f,_0x58b8aa,_0x34e796,_0x463e7e,_0x2b0355);case _0x517648['Search']:return function(_0x125745,_0x3117b6,_0x45b2ab,_0x536fd3,_0x20953f,_0x34a887,_0x1c5fca){const _0x12814b=_0xc4b6d9,_0x533a75='Perform\x20a\x20search\x20on\x20Google\x20to\x20inform\x20decision-making\x20or\x20provide\x20accurate\x20responses.',_0x15764c={'query':{'type':_0x4aea4d[_0x12814b(0x24c)][_0x12814b(0xc0)]}};return _0x11c61b[_0x12814b(0x7a7)]({'jobType':_0xb90109[_0x12814b(0x4f2)],'type':_0xb3ac0d[_0x12814b(0x1d8)],'jobId':_0x125745,'agentId':_0x3117b6,'threadId':_0x45b2ab,'traceLevel':_0x23ecc6[_0x12814b(0x602)],'startTime':Date[_0x12814b(0x3bd)](),'timestamp':Date[_0x12814b(0x3bd)](),'status':_0x12814b(0x94a),'function':_0x3e4ff0[_0x12814b(0x794)],'params':_0x15764c,'functionDescription':_0x533a75}),{'description':_0x533a75,'params':_0x15764c,'callback':async _0x4a94fb=>{const _0x44e65b=_0x12814b,_0x5e726b=Date[_0x44e65b(0x3bd)]();try{if(_0x1c5fca&&(await _0x508bd4['wait'](0x1),_0x1c5fca[_0x44e65b(0x11c)]({'output':_0x44e65b(0x96a)+_0x4a94fb?.[_0x44e65b(0x837)]+'`\x0a\x0a','type':_0x44e65b(0x675)})),!_0x34a887['searchConnector'])throw new Error(_0x44e65b(0x3bb));if(_0x44e65b(0x9cc)!=typeof _0x4a94fb?.[_0x44e65b(0x837)])throw new Error(_0x44e65b(0x12a));const _0x448bbc=await _0x34a887[_0x44e65b(0x9fe)][_0x44e65b(0x92e)](_0x4a94fb[_0x44e65b(0x837)],_0x20953f,_0x4d02a1[_0x44e65b(0x68e)][_0x44e65b(0x501)]);let _0x46b555='';for(const _0x33c06e of _0x448bbc)_0x46b555+=_0x33c06e['title']+'\x20-\x20'+_0x33c06e[_0x44e65b(0x9d1)]+'\x0a'+_0x33c06e[_0x44e65b(0x9bb)]+'\x0a\x0a';return _0x11c61b[_0x44e65b(0x7a7)]({'jobType':_0xb90109[_0x44e65b(0x8cf)],'type':_0x3e4ff0[_0x44e65b(0x794)],'jobId':_0x125745,'agentId':_0x3117b6,'threadId':_0x45b2ab,'blockId':_0x536fd3,'traceLevel':_0x23ecc6[_0x44e65b(0x602)],'startTime':_0x5e726b,'timestamp':Date['now'](),'status':_0x44e65b(0x94a),'query':_0x4a94fb[_0x44e65b(0x837)],'results':_0x46b555}),_0x46b555;}catch(_0x13cb78){return console[_0x44e65b(0x89e)](_0x13cb78),_0x11c61b[_0x44e65b(0x7a7)]({'jobType':_0xb90109[_0x44e65b(0x8cf)],'type':_0x3e4ff0[_0x44e65b(0x794)],'jobId':_0x125745,'blockId':_0x536fd3,'traceLevel':_0x23ecc6[_0x44e65b(0x602)],'startTime':_0x5e726b,'timestamp':Date[_0x44e65b(0x3bd)](),'status':_0x44e65b(0x89e),'errorDetails':_0x1ae84b(_0x13cb78),'agentId':_0x3117b6,'threadId':_0x45b2ab,'query':_0x4a94fb?.[_0x44e65b(0x837)]??'','results':_0x44e65b(0x57c)}),_0x13cb78 instanceof Error?_0x13cb78[_0x44e65b(0x686)]:'Error\x20searching';}}};}(_0xb22c7d,_0x5bc65f,_0x58b8aa,_0x34e796['id'],_0x463e7e['searchApiKey'],_0x463e7e,_0x2b0355);case _0x517648[_0xc4b6d9(0x65a)]:return function(_0x625052,_0x27eb91,_0x1337e3,_0x3ba3b4,_0x18829a,_0x37d3da,_0x3e368c){const _0x47dd64=_0xc4b6d9,_0xd55fb5=_0x47dd64(0x55c),_0x19c8e2={'query':{'type':_0x4aea4d['PromptFunctionParamsType'][_0x47dd64(0xc0)]}};return _0x11c61b[_0x47dd64(0x7a7)]({'jobType':_0xb90109[_0x47dd64(0x4f2)],'type':_0xb3ac0d['LoadSkillFunction'],'jobId':_0x625052,'agentId':_0x27eb91,'threadId':_0x1337e3,'traceLevel':_0x23ecc6[_0x47dd64(0x602)],'startTime':Date[_0x47dd64(0x3bd)](),'timestamp':Date['now'](),'status':_0x47dd64(0x94a),'function':_0x3e4ff0[_0x47dd64(0x771)],'params':_0x19c8e2,'functionDescription':_0xd55fb5}),{'description':_0xd55fb5,'params':_0x19c8e2,'callback':async _0x3ac280=>{const _0x3828cb=_0x47dd64,_0x3da25c=Date[_0x3828cb(0x3bd)]();try{if(_0x3e368c&&(await _0x508bd4[_0x3828cb(0x573)](0x1),_0x3e368c[_0x3828cb(0x11c)]({'output':_0x3828cb(0x533)+_0x3ac280?.[_0x3828cb(0x837)]+_0x3828cb(0x7be),'type':_0x3828cb(0x675)})),!_0x37d3da['aiSearchConnector'])throw new Error(_0x3828cb(0x8e4));if(_0x3828cb(0x9cc)!=typeof _0x3ac280?.[_0x3828cb(0x837)])throw new Error(_0x3828cb(0x12a));const _0xfbdc6d=await _0x37d3da[_0x3828cb(0x7db)][_0x3828cb(0x92e)](_0x3ac280['query'],_0x18829a);return _0x11c61b[_0x3828cb(0x7a7)]({'jobType':_0xb90109[_0x3828cb(0x8cf)],'type':_0x3e4ff0[_0x3828cb(0x771)],'jobId':_0x625052,'agentId':_0x27eb91,'threadId':_0x1337e3,'blockId':_0x3ba3b4,'traceLevel':_0x23ecc6[_0x3828cb(0x602)],'startTime':_0x3da25c,'timestamp':Date[_0x3828cb(0x3bd)](),'status':_0x3828cb(0x94a),'query':_0x3ac280[_0x3828cb(0x837)],'results':_0xfbdc6d}),_0xfbdc6d;}catch(_0x39fa6f){return console[_0x3828cb(0x89e)](_0x39fa6f),_0x11c61b[_0x3828cb(0x7a7)]({'jobType':_0xb90109[_0x3828cb(0x8cf)],'type':_0x3e4ff0[_0x3828cb(0x771)],'jobId':_0x625052,'blockId':_0x3ba3b4,'traceLevel':_0x23ecc6['Info'],'startTime':_0x3da25c,'timestamp':Date[_0x3828cb(0x3bd)](),'status':_0x3828cb(0x89e),'errorDetails':_0x1ae84b(_0x39fa6f),'agentId':_0x27eb91,'threadId':_0x1337e3,'query':_0x3ac280?.[_0x3828cb(0x837)]??'','results':'Error\x20searching'}),_0x39fa6f instanceof Error?_0x39fa6f[_0x3828cb(0x686)]:'Error\x20searching';}}};}(_0xb22c7d,_0x5bc65f,_0x58b8aa,_0x34e796['id'],_0x463e7e[_0xc4b6d9(0x77b)],_0x463e7e,_0x2b0355);case _0x517648[_0xc4b6d9(0x5ba)]:return _0x6bd809(_0xb22c7d,_0x5bc65f,_0x58b8aa,_0x34e796['id'],_0x2b0355);case _0x517648[_0xc4b6d9(0x68b)]:return _0x6bd809(_0xb22c7d,_0x5bc65f,_0x58b8aa,_0x34e796['id'],_0x2b0355,!0x1);}throw new Error(_0xc4b6d9(0x655));}function _0x1ae84b(_0x413046){const _0x39fc58=_0x11ce6;try{return JSON[_0x39fc58(0x3ea)](_0x413046);}catch(_0x3e61d6){return _0x413046 instanceof Error?_0x413046['toString']():_0x39fc58(0x94b);}}async function _0x4663d5(_0x2109c6,_0x45a81e,_0x812c4f,_0x3c7d25,_0x2e9311,_0x10bcd4,_0x8194ff,_0x444d01,_0x44f2b6){const _0x1f68f5=_0x11ce6;if(_0x10bcd4[_0x1f68f5(0x781)]||(_0x10bcd4[_0x1f68f5(0x781)]={}),_0x45a81e===_0x132faf[_0x1f68f5(0x2d5)]&&_0x1f68f5(0x9cc)==typeof _0x812c4f&&(_0x10bcd4[_0x1f68f5(0x781)]['prompt']=_0x812c4f),_0x10bcd4[_0x1f68f5(0x576)]=_0x10bcd4['timesCalled']?_0x10bcd4[_0x1f68f5(0x576)]+0x1:0x1,_0x5d0466(_0x10bcd4,_0x8194ff)>_0x10bcd4['timesCalled'])return;if(_0x5c02ff['forceLog']('Processing\x20agent\x20block:\x20'+_0x10bcd4['name'],_0x10bcd4[_0x1f68f5(0x576)]),!_0x10bcd4[_0x1f68f5(0x781)][_0x1f68f5(0x675)])throw new Error('Agent\x20block\x20is\x20missing\x20required\x20data:\x20'+_0x10bcd4['name']);const _0xf6e8b0=_0x444d01['models'][_0x1f68f5(0x957)](_0x20a038=>_0x20a038['id']===_0x10bcd4[_0x1f68f5(0x596)]);if(!_0xf6e8b0)throw new Error(_0x1f68f5(0x33f));if(!_0x444d01['generativeAIWorkerConnectors']['find'](_0xce2c4e=>_0xce2c4e[_0x1f68f5(0x114)]()===_0xf6e8b0['engineType']))throw new Error('No\x20connector\x20found\x20for\x20model');_0x44f2b6&&_0x44f2b6[_0x1f68f5(0x11c)]({'output':'\x0a\x0a`Executing\x20agent\x20'+_0x10bcd4[_0x1f68f5(0x768)]+_0x1f68f5(0x7be),'type':_0x1f68f5(0x675)});const _0x4db651=Date['now'](),_0x50b893=(0x0,_0x5afa59['v4'])(),_0x5d41e0=_0x44f2b6?await async function(_0x5a9f7d,_0x1f2e21,_0x5d8695,_0xc5c755,_0x22bd50,_0xc2c294,_0x5d1535,_0x59e1d2){const _0x33f7c9=_0x1f68f5,_0x12328e=_0x59e1d2['models']['find'](_0x30586d=>_0x30586d['id']===_0x22bd50['modelId']);if(!_0x12328e)throw new Error(_0x33f7c9(0x33f));const _0x45c5ae=_0x59e1d2['generativeAIWorkerConnectors']['find'](_0x119519=>_0x119519['getEngineType']()===_0x12328e[_0x33f7c9(0x2fd)]);if(!_0x45c5ae)throw new Error(_0x33f7c9(0x1a5));if(!_0x22bd50['accumulated']||!_0x22bd50[_0x33f7c9(0x781)][_0x33f7c9(0x675)])throw new Error(_0x33f7c9(0x9a3));const _0x1e9f2b={'type':_0x33f7c9(0x675),'output':''};for await(const _0x33a349 of _0x45c5ae[_0x33f7c9(0x4e8)]({'type':_0x5d8695[_0x33f7c9(0x789)],'prompt':_0x8ae216(_0x22bd50['accumulated'][_0x33f7c9(0x675)],_0x22bd50),'instructions':_0x4d2c1a(_0x5d8695[_0x33f7c9(0x944)]??'',_0x22bd50,_0x12328e),'grammar':_0x22bd50[_0x33f7c9(0x6e1)],'temperature':_0x22bd50['temperature'],'maxTokens':_0x22bd50[_0x33f7c9(0xa16)],'history':_0x5d8695[_0x33f7c9(0x963)],'functions':await _0x1bc5c5(_0x5a9f7d,_0x1f2e21,_0x5d8695[_0x33f7c9(0x8ec)],_0xc5c755,_0x22bd50,_0xc2c294,_0x59e1d2,_0x5d1535),'threadId':_0x5d8695[_0x33f7c9(0x8ec)]},{'model':_0x12328e,'sequences':0x2}))_0x22bd50[_0x33f7c9(0x440)]&&_0x22bd50['links'][_0x33f7c9(0x335)](_0x5117ca=>{const _0x4b1c08=_0x33f7c9,_0x1beb93=_0xc2c294[_0x4b1c08(0x957)](_0x12418a=>_0x12418a[_0x4b1c08(0x434)]===_0x5117ca['uid']);return!!_0x1beb93&&_0x5117ca[_0x4b1c08(0x789)]===_0x132faf[_0x4b1c08(0x2d5)]&&_0x1beb93['type']===_0x517648['Answer'];})&&_0x5d1535[_0x33f7c9(0x11c)](_0x33a349),_0x33f7c9(0x9cc)==typeof _0x1e9f2b[_0x33f7c9(0x790)]&&'string'==typeof _0x33a349[_0x33f7c9(0x790)]&&(_0x1e9f2b[_0x33f7c9(0x790)]+=_0x33a349[_0x33f7c9(0x790)]),_0x1e9f2b[_0x33f7c9(0x408)]=_0x33a349[_0x33f7c9(0x408)],_0x1e9f2b[_0x33f7c9(0x997)]=_0x33a349[_0x33f7c9(0x997)];return _0x1e9f2b;}(_0x2109c6,_0x50b893,_0x3c7d25,_0x2e9311,_0x10bcd4,_0x8194ff,_0x44f2b6,_0x444d01):await async function(_0x3fff23,_0xee796c,_0x4a517c,_0x1c768d,_0x41fc25,_0x1ea98b,_0x30e927){const _0x3e121d=_0x1f68f5,_0x5b95d0=_0x30e927['models'][_0x3e121d(0x957)](_0x57cf16=>_0x57cf16['id']===_0x41fc25[_0x3e121d(0x596)]);if(!_0x5b95d0)throw new Error(_0x3e121d(0x33f));const _0x3b454f=_0x30e927[_0x3e121d(0x5d9)][_0x3e121d(0x957)](_0xddd119=>_0xddd119[_0x3e121d(0x114)]()===_0x5b95d0[_0x3e121d(0x2fd)]);if(!_0x3b454f)throw new Error(_0x3e121d(0x1a5));if(!_0x41fc25[_0x3e121d(0x781)]||!_0x41fc25[_0x3e121d(0x781)][_0x3e121d(0x675)])throw new Error(_0x3e121d(0x9a3));return _0x3b454f['processJob']({'type':_0x3e121d(0x675),'prompt':_0x8ae216(_0x41fc25[_0x3e121d(0x781)][_0x3e121d(0x675)],_0x41fc25),'instructions':_0x4d2c1a(_0x4a517c['instructions']??'',_0x41fc25,_0x5b95d0),'grammar':_0x41fc25[_0x3e121d(0x6e1)],'temperature':_0x41fc25['temperature'],'maxTokens':_0x41fc25[_0x3e121d(0xa16)],'history':_0x4a517c[_0x3e121d(0x963)],'functions':await _0x1bc5c5(_0x3fff23,_0xee796c,_0x4a517c['threadId'],_0x1c768d,_0x41fc25,_0x1ea98b,_0x30e927),'threadId':_0x4a517c[_0x3e121d(0x8ec)]},{'model':_0x5b95d0,'sequences':0x2});}(_0x2109c6,_0x50b893,_0x3c7d25,_0x2e9311,_0x10bcd4,_0x8194ff,_0x444d01);if('string'!=typeof _0x5d41e0[_0x1f68f5(0x790)])throw new Error(_0x1f68f5(0x10b));_0x2e9311[_0x1f68f5(0x408)]+=_0x5d41e0['inputTokens']??0x0,_0x2e9311[_0x1f68f5(0x997)]+=_0x5d41e0[_0x1f68f5(0x997)]??0x0,_0x11c61b['trace']({'jobType':_0xb90109[_0x1f68f5(0x846)],'type':_0x5b159a[_0x1f68f5(0x513)],'jobId':_0x2109c6,'agentId':_0x50b893,'threadId':_0x3c7d25['threadId'],'traceLevel':_0x23ecc6[_0x1f68f5(0x602)],'startTime':_0x4db651,'timestamp':Date[_0x1f68f5(0x3bd)](),'blockId':_0x10bcd4['id'],'status':_0x1f68f5(0x94a),'output':_0x5d41e0[_0x1f68f5(0x790)],'prompt':_0x10bcd4['accumulated']['prompt'],'agentName':_0x10bcd4['name'],'history':[],'instructions':''+_0x10bcd4[_0x1f68f5(0x944)]+(_0x3c7d25['instructions']??''),'ragContext':_0x5d41e0[_0x1f68f5(0x376)]??[],'inputTokens':_0x5d41e0[_0x1f68f5(0x408)]??0x0,'outputTokens':_0x5d41e0[_0x1f68f5(0x997)]??0x0}),_0x4cc063(_0x5d41e0[_0x1f68f5(0x790)],_0x10bcd4,_0x8194ff),await _0xbc2813(_0x2109c6,_0x5d41e0[_0x1f68f5(0x790)],_0x3c7d25,_0x2e9311,_0x10bcd4,_0x8194ff,_0x444d01,_0x44f2b6);}function _0x8ae216(_0xe67c45,_0x1e9b64){const _0x33373a=_0x11ce6;if(!_0x1e9b64[_0x33373a(0x781)]||!_0x1e9b64[_0x33373a(0x781)]['context'])return _0xe67c45;if(_0x1e9b64['accumulated'][_0x33373a(0x376)])for(const _0x7acc1a of Object[_0x33373a(0x8ae)](_0x1e9b64[_0x33373a(0x781)][_0x33373a(0x376)])){const _0x519aa2=_0x1e9b64[_0x33373a(0x781)][_0x33373a(0x376)][_0x7acc1a];_0xe67c45=_0x519aa2 instanceof Array?'Given\x20search\x20results\x20for\x20'+_0x7acc1a+_0x33373a(0x6ba)+_0x519aa2[_0x33373a(0x99c)](_0x4ce6e0=>'From\x20'+_0x4ce6e0['pathName']+':\x20'+_0x4ce6e0[_0x33373a(0x1c4)])['join']('\x0a\x0a')+'\x0a\x0a'+_0xe67c45:_0x33373a(0x9eb)+_0x7acc1a+':\x20'+_0x519aa2+'\x0a\x0a'+_0xe67c45;}return _0xe67c45;}function _0x4d2c1a(_0x6b72fc,_0x4cdea9,_0xbd456a){const _0x7c1bd6=_0x11ce6;let _0x583a2f='';return _0xbd456a[_0x7c1bd6(0x572)]&&''!==_0xbd456a['knowledgeCutoffDate']&&(_0x583a2f='Knowledge\x20Cutoff\x20Date:\x20'+_0xbd456a[_0x7c1bd6(0x572)]+'\x0a\x0a'),_0x583a2f=_0x583a2f+'Today\x20Date:\x20'+new Date()[_0x7c1bd6(0x71a)](void 0x0,{'weekday':'long','year':_0x7c1bd6(0xda),'month':'long','day':'numeric'})+'\x0a\x0a',''+_0x583a2f+_0x4cdea9[_0x7c1bd6(0x944)]+_0x6b72fc;}function _0x11f63b(_0x44cac3,_0x23a697,_0xb7843){const _0x4a3718=_0x11ce6;_0xb7843['accumulated']||(_0xb7843[_0x4a3718(0x781)]={}),_0xb7843[_0x4a3718(0x781)][_0x4a3718(0x376)]||(_0xb7843[_0x4a3718(0x781)][_0x4a3718(0x376)]={});const _0x399cb1=_0xb7843['contextInputVariable']?.[_0x4a3718(0x82c)](',');_0x399cb1&&_0x399cb1['includes'](_0x44cac3)&&(_0xb7843['accumulated'][_0x4a3718(0x376)][_0x44cac3]=_0x23a697);}function _0x3f6c0a(_0x3c882d,_0x43e1c6,_0xffb534,_0x17563f){const _0x10375a=_0x11ce6;_0x3c882d===_0x132faf[_0x10375a(0x3d4)]&&(_0x17563f[_0x10375a(0x781)]||(_0x17563f[_0x10375a(0x781)]={}),_0x17563f['accumulated'][_0x10375a(0x376)]||(_0x17563f[_0x10375a(0x781)][_0x10375a(0x376)]={}),_0x17563f[_0x10375a(0x781)][_0x10375a(0x376)][_0x43e1c6]=_0xffb534);}async function _0x1d6b67(_0x21415f,_0x6cb4cc,_0x390117,_0x5ad67d,_0x3e5929,_0x5f3e8c,_0x2a2fc1,_0x20a318){const _0xfa0bbc=function(_0x522330,_0x3f1ea3){const _0x132ac2=a0_0x5c6e,_0x3bd49c=[];for(let _0x337947=0x0;_0x337947<_0x522330['length'];_0x337947+=_0x3f1ea3[_0x132ac2(0x7cd)][_0x132ac2(0x84c)]){let _0x268942=_0x337947-_0x3f1ea3[_0x132ac2(0x7cd)][_0x132ac2(0x9ef)];_0x268942<0x0&&(_0x268942=0x0);let _0x422a68=_0x337947+_0x3f1ea3[_0x132ac2(0x7cd)][_0x132ac2(0x84c)]+_0x3f1ea3[_0x132ac2(0x7cd)][_0x132ac2(0x9ef)];_0x422a68>_0x522330[_0x132ac2(0x7ad)]&&(_0x422a68=_0x522330[_0x132ac2(0x7ad)]),length||(length=_0x337947+_0x3f1ea3['attributes'][_0x132ac2(0x84c)],length>_0x522330[_0x132ac2(0x7ad)]&&(length=_0x522330[_0x132ac2(0x7ad)])),_0x3bd49c[_0x132ac2(0x7bc)](_0x522330['substring'](_0x268942,_0x422a68));}return _0x3bd49c;}(_0x6cb4cc,_0x3e5929);await _0xbc2813(_0x21415f,_0xfa0bbc,_0x390117,_0x5ad67d,_0x3e5929,_0x5f3e8c,_0x2a2fc1,_0x20a318);}function _0x2872e4(_0x36d9df,_0x18f399,_0x41ca51){const _0x239c34=_0x11ce6;_0x41ca51[_0x239c34(0x781)]||(_0x41ca51[_0x239c34(0x781)]={}),_0x41ca51[_0x239c34(0x781)][_0x239c34(0x376)]||(_0x41ca51[_0x239c34(0x781)][_0x239c34(0x376)]={}),_0x41ca51[_0x239c34(0x781)]['context'][_0x36d9df]=_0x18f399;}async function _0x2628a2(_0x3f58fa,_0x30271c,_0x577bfd,_0x47c499,_0x2450c4,_0x84c5af,_0x3c3563,_0x3a372f){const _0x1d1c94=_0x11ce6;if(_0x2450c4[_0x1d1c94(0x781)]||(_0x2450c4[_0x1d1c94(0x781)]={}),_0x2450c4[_0x1d1c94(0x781)][_0x1d1c94(0x733)]||(_0x2450c4[_0x1d1c94(0x781)][_0x1d1c94(0x733)]=[]),_0x30271c instanceof Array?_0x2450c4['accumulated'][_0x1d1c94(0x733)]['push'](..._0x30271c):_0x2450c4[_0x1d1c94(0x781)][_0x1d1c94(0x733)]['push'](_0x30271c),_0x2450c4[_0x1d1c94(0x576)]=_0x2450c4['timesCalled']?_0x2450c4['timesCalled']+0x1:0x1,_0x5d0466(_0x2450c4,_0x84c5af)>_0x2450c4[_0x1d1c94(0x576)])return;if(0x0===_0x2450c4['accumulated'][_0x1d1c94(0x733)]['length'])throw new Error(_0x1d1c94(0x6e0));let _0xde536d=[];const _0x23d899=Date[_0x1d1c94(0x3bd)]();try{let _0x4a47e3=0x0,_0x17da72=0x0;for(const _0x597bc2 of _0x2450c4[_0x1d1c94(0x781)][_0x1d1c94(0x733)]){const _0xc8d1af=_0x2450c4[_0x1d1c94(0x438)][_0x1d1c94(0x957)](_0x1aa498=>_0x1aa498[_0x1d1c94(0x789)]===_0x5128b2[_0x1d1c94(0x3fb)]),_0x25be85=await _0x597ca1(_0x3f58fa,_0x577bfd['threadId'],_0x597bc2,_0xc8d1af,_0x2450c4[_0x1d1c94(0x438)],_0x3c3563);_0xde536d=Array['from'](new Set([..._0xde536d,..._0x25be85[_0x1d1c94(0x376)]])),_0x4a47e3+=_0x25be85[_0x1d1c94(0x408)]??0x0,_0x17da72+=_0x25be85[_0x1d1c94(0x997)]??0x0;}_0x47c499[_0x1d1c94(0x408)]+=_0x4a47e3,_0x47c499['outputTokens']+=_0x17da72,_0x47c499['context']=Array['from'](new Set([..._0x47c499['context'],..._0xde536d])),_0x11c61b[_0x1d1c94(0x7a7)]({'jobType':_0xb90109['Workflow'],'type':_0x5b159a['DataCollection'],'jobId':_0x3f58fa,'threadId':_0x577bfd[_0x1d1c94(0x8ec)],'traceLevel':_0x23ecc6[_0x1d1c94(0x602)],'startTime':_0x23d899,'timestamp':Date['now'](),'blockId':_0x2450c4['id'],'status':_0x1d1c94(0x94a),'queries':_0x2450c4[_0x1d1c94(0x781)]['queries'],'context':_0xde536d,'inputTokens':_0x4a47e3,'outputTokens':_0x17da72});}catch(_0xb9427){console['error'](_0xb9427),_0x11c61b[_0x1d1c94(0x7a7)]({'jobType':_0xb90109[_0x1d1c94(0x846)],'type':_0x5b159a[_0x1d1c94(0x9a8)],'jobId':_0x3f58fa,'threadId':_0x577bfd[_0x1d1c94(0x8ec)],'traceLevel':_0x23ecc6[_0x1d1c94(0x602)],'startTime':_0x23d899,'timestamp':Date[_0x1d1c94(0x3bd)](),'blockId':_0x2450c4['id'],'status':_0x1d1c94(0x89e),'queries':_0x2450c4['accumulated'][_0x1d1c94(0x733)],'context':[],'inputTokens':0x0,'outputTokens':0x0});}_0x4cc063(_0xde536d,_0x2450c4,_0x84c5af),await _0xbc2813(_0x3f58fa,_0xde536d,_0x577bfd,_0x47c499,_0x2450c4,_0x84c5af,_0x3c3563,_0x3a372f);}async function _0x3e7db6(_0xe4b46c,_0x3e1fc8,_0x1945d2,_0x3093ab,_0x4e41dd,_0x40a214,_0x50a523,_0x1717ce){const _0x3a0628=_0x11ce6,_0x2e8134=await _0x50a523[_0x3a0628(0x95b)][_0x3a0628(0x9c7)](_0x3e1fc8);await _0xbc2813(_0xe4b46c,_0x2e8134,_0x1945d2,_0x3093ab,_0x4e41dd,_0x40a214,_0x50a523,_0x1717ce);}async function _0x155453(_0x520e1c,_0x2d8106,_0x4aa3c3,_0xaee7fa,_0x5e632b,_0x27ced6,_0x55d0b4,_0x28e7af){const _0x20dd17=function(_0x193e73,_0x19714d){const _0x2f2318=a0_0x5c6e,_0x3ec3d8=[],_0x483f13=_0x193e73[_0x2f2318(0x82c)]('\x20');let _0xd73cb2='',_0x243d1b=0x0,_0x632828=0x0,_0x365ca1=0x0;for(const _0x5c25a1 of _0x483f13){if(_0xd73cb2[_0x2f2318(0x7ad)]+_0x5c25a1[_0x2f2318(0x7ad)]>_0x19714d[_0x2f2318(0x7cd)][_0x2f2318(0x84c)]){let _0x187677=_0x243d1b,_0x33836f='';for(;_0x187677>=0x0&&_0x33836f[_0x2f2318(0x7ad)]+_0x483f13[_0x187677][_0x2f2318(0x7ad)]<_0x19714d['attributes']['overlap'];)_0x33836f=_0x483f13[_0x187677]+'\x20'+_0x33836f,_0x187677--;let _0x57f6a9=_0x632828,_0x22f812='';for(;_0x57f6a9<_0x483f13[_0x2f2318(0x7ad)]&&_0x22f812[_0x2f2318(0x7ad)]+_0x483f13[_0x57f6a9][_0x2f2318(0x7ad)]<_0x19714d['attributes'][_0x2f2318(0x9ef)];)_0x22f812+=_0x483f13[_0x57f6a9]+'\x20',_0x57f6a9++;_0xd73cb2=_0x33836f+_0xd73cb2+_0x22f812,_0x3ec3d8[_0x2f2318(0x7bc)](_0xd73cb2['trim']()),_0xd73cb2='',_0x243d1b=_0x632828;}_0xd73cb2+=_0x5c25a1+'\x20',_0x632828++,_0x365ca1+=_0x5c25a1['length']+0x1;}if(_0xd73cb2[_0x2f2318(0x7ad)]>0x0){let _0x7f693e=_0x243d1b,_0x1b98bd='';for(;_0x7f693e>=0x0&&_0x1b98bd[_0x2f2318(0x7ad)]+_0x483f13[_0x7f693e]['length']<_0x19714d[_0x2f2318(0x7cd)][_0x2f2318(0x9ef)];)_0x1b98bd=_0x483f13[_0x7f693e]+'\x20'+_0x1b98bd,_0x7f693e--;_0xd73cb2=_0x1b98bd+_0xd73cb2,_0x3ec3d8[_0x2f2318(0x7bc)](_0xd73cb2[_0x2f2318(0x406)]());}return _0x3ec3d8;}(_0x2d8106,_0x5e632b);await _0xbc2813(_0x520e1c,_0x20dd17,_0x4aa3c3,_0xaee7fa,_0x5e632b,_0x27ced6,_0x55d0b4,_0x28e7af);}function _0x4cc063(_0x2aaf54,_0x505e50,_0x1af857,_0x52c01b){const _0x136063=_0x11ce6;if(_0x505e50[_0x136063(0x440)])for(const _0x200494 of _0x505e50[_0x136063(0x440)]){if(_0x200494[_0x136063(0x789)]!==_0x132faf[_0x136063(0x3d4)])continue;const _0x44e630=_0x1af857[_0x136063(0x957)](_0x54876c=>_0x54876c[_0x136063(0x434)]===_0x200494[_0x136063(0x434)]);if(!_0x44e630)continue;let _0x361523=_0x505e50['id'];switch(_0x52c01b?_0x361523=_0x52c01b:(_0x505e50[_0x136063(0x789)]===_0x517648[_0x136063(0x9a8)]&&(_0x361523=_0x505e50[_0x136063(0x768)]),_0x505e50[_0x136063(0x789)]!==_0x517648[_0x136063(0x68c)]&&_0x505e50[_0x136063(0x789)]!==_0x517648[_0x136063(0x61d)]&&_0x505e50[_0x136063(0x789)]!==_0x517648['CustomSkill']||(_0x361523=_0x505e50[_0x136063(0x14e)]??_0x505e50['name'])),_0x44e630[_0x136063(0x789)]){case _0x517648[_0x136063(0x68c)]:_0x5c02ff[_0x136063(0x6b1)](_0x136063(0x99f),_0x44e630[_0x136063(0x768)],_0x361523),_0x44e630[_0x136063(0x781)]||(_0x44e630[_0x136063(0x781)]={}),_0x44e630['accumulated']['context']||(_0x44e630[_0x136063(0x781)][_0x136063(0x376)]={});const _0x3a22a0=_0x44e630[_0x136063(0x374)]?.['split'](',');if(!(_0x3a22a0&&_0x3a22a0[_0x136063(0x2a1)](_0x361523)||_0x136063(0x1b1)===_0x361523))return;_0x44e630[_0x136063(0x781)][_0x136063(0x376)][_0x361523]=_0x2aaf54;break;case _0x517648[_0x136063(0x61d)]:_0x5c02ff[_0x136063(0x6b1)]('Setting\x20context\x20for\x20agent\x20skill\x20block',_0x44e630[_0x136063(0x768)],_0x361523),_0x11f63b(_0x361523,_0x2aaf54,_0x44e630);break;case _0x517648['Answer']:_0x5c02ff['forceLog'](_0x136063(0x4ac),_0x361523),_0x3f6c0a(_0x200494[_0x136063(0x789)],_0x361523,_0x2aaf54,_0x44e630);break;case _0x517648[_0x136063(0x182)]:_0x5c02ff['forceLog']('Setting\x20context\x20for\x20custom\x20skill\x20block',_0x44e630[_0x136063(0x768)],_0x361523),_0x2872e4(_0x361523,_0x2aaf54,_0x44e630);}}}async function _0xbc2813(_0x2d399e,_0x503ec8,_0x3b0cab,_0x48c137,_0x11790a,_0x564170,_0x34445e,_0x47928e){const _0x26676f=_0x11ce6;if(await _0x508bd4[_0x26676f(0x573)](0x1),_0x11790a['links']){for(const _0x19d152 of _0x11790a[_0x26676f(0x440)]){if(_0x19d152[_0x26676f(0x789)]===_0x132faf['Context'])continue;const _0x2b11af=_0x564170[_0x26676f(0x957)](_0x917f6e=>_0x917f6e[_0x26676f(0x434)]===_0x19d152[_0x26676f(0x434)]);if(_0x2b11af)switch(_0x2b11af[_0x26676f(0x789)]){case _0x517648['Agent']:_0x19d152[_0x26676f(0x789)]===_0x132faf[_0x26676f(0x2d5)]&&_0x26676f(0x9cc)==typeof _0x503ec8&&await _0x4663d5(_0x2d399e,_0x19d152['type'],_0x503ec8,_0x3b0cab,_0x48c137,_0x2b11af,_0x564170,_0x34445e,_0x47928e),_0x19d152[_0x26676f(0x789)]===_0x132faf['Search']&&_0x503ec8 instanceof Array&&await _0x4663d5(_0x2d399e,_0x19d152['type'],_0x503ec8,_0x3b0cab,_0x48c137,_0x2b11af,_0x564170,_0x34445e,_0x47928e);break;case _0x517648['ChunkSplitter']:_0x19d152[_0x26676f(0x789)]===_0x132faf['Text']&&_0x26676f(0x9cc)==typeof _0x503ec8&&await _0x1d6b67(_0x2d399e,_0x503ec8,_0x3b0cab,_0x48c137,_0x2b11af,_0x564170,_0x34445e,_0x47928e);break;case _0x517648[_0x26676f(0x9a8)]:_0x19d152[_0x26676f(0x789)]===_0x132faf[_0x26676f(0x2d5)]&&_0x26676f(0x9cc)==typeof _0x503ec8&&await _0x2628a2(_0x2d399e,_0x503ec8,_0x3b0cab,_0x48c137,_0x2b11af,_0x564170,_0x34445e,_0x47928e),_0x19d152[_0x26676f(0x789)]===_0x132faf[_0x26676f(0x2d5)]&&_0x503ec8 instanceof Array&&await _0x2628a2(_0x2d399e,_0x503ec8,_0x3b0cab,_0x48c137,_0x2b11af,_0x564170,_0x34445e,_0x47928e);break;case _0x517648[_0x26676f(0x1a7)]:_0x19d152['type']===_0x132faf[_0x26676f(0x2d5)]&&'string'==typeof _0x503ec8&&await _0x3e7db6(_0x2d399e,_0x503ec8,_0x3b0cab,_0x48c137,_0x2b11af,_0x564170,_0x34445e,_0x47928e);break;case _0x517648[_0x26676f(0x522)]:_0x19d152[_0x26676f(0x789)]===_0x132faf[_0x26676f(0x2d5)]&&'string'==typeof _0x503ec8&&await _0x155453(_0x2d399e,_0x503ec8,_0x3b0cab,_0x48c137,_0x2b11af,_0x564170,_0x34445e,_0x47928e);}}_0x11790a[_0x26676f(0x789)]===_0x517648[_0x26676f(0x3fb)]&&_0x47928e&&_0x47928e[_0x26676f(0x11c)](void 0x0);}else _0x11790a[_0x26676f(0x789)]===_0x517648['Prompt']&&_0x47928e&&_0x47928e[_0x26676f(0x11c)](void 0x0);}function _0x5d0466(_0x209f38,_0x15eac9){const _0x4c1f08=_0x11ce6;let _0x4c829d=0x0;for(const _0x513a8e of _0x15eac9)for(const _0x22b432 of _0x513a8e[_0x4c1f08(0x440)]??[])_0x22b432[_0x4c1f08(0x789)]!==_0x132faf[_0x4c1f08(0x3d4)]&&_0x22b432[_0x4c1f08(0x789)]!==_0x132faf['Knowledge']&&_0x22b432[_0x4c1f08(0x789)]!==_0x132faf[_0x4c1f08(0x8cf)]&&_0x22b432[_0x4c1f08(0x434)]===_0x209f38[_0x4c1f08(0x434)]&&_0x4c829d++;return _0x4c829d;}async function _0x4e1ff3(_0x234e79,_0x2cc788,_0x469d0d,_0x4a58af){const _0x1df93b=_0x11ce6;if(0x0===_0x234e79['length'])return;let _0x26bc37=_0x1df93b(0x56c);for(const _0x31412a of _0x234e79)if(_0x31412a[_0x1df93b(0x789)][_0x1df93b(0x534)](_0x1df93b(0x933))||_0x5750a8(_0x31412a[_0x1df93b(0x768)],_0x65573c))_0x26bc37+='\x0a<'+_0x31412a[_0x1df93b(0x768)]+'>\x0a'+await _0x31412a[_0x1df93b(0x896)]()+'\x0a</'+_0x31412a[_0x1df93b(0x768)]+'>';else{if(!_0x4a58af[_0x1df93b(0x7ae)][_0x1df93b(0x528)](_0x31412a))throw new Error(_0x1df93b(0x728)+_0x31412a[_0x1df93b(0x789)]+_0x1df93b(0x5f3)+_0x31412a['name']);_0x26bc37+='\x0a<'+_0x31412a[_0x1df93b(0x768)]+'>\x0a'+await _0x4a58af[_0x1df93b(0x7ae)][_0x1df93b(0x67e)](_0x31412a)+_0x1df93b(0x1e5)+_0x31412a[_0x1df93b(0x768)]+'>';}_0x26bc37+=_0x1df93b(0x71f),_0x4cc063(_0x26bc37,_0x2cc788,_0x469d0d,_0x1df93b(0x1b1));}function _0x7e9ceb(_0x207fdd,_0x75c612){const _0x2ba6b7=_0x11ce6;_0x75c612['accumulated']||(_0x75c612[_0x2ba6b7(0x781)]={}),_0x75c612[_0x2ba6b7(0x781)][_0x2ba6b7(0x990)]=_0x207fdd;}async function _0x468a99(_0xdaae58,_0x4f2d22,_0xd16cea,_0x696466){const _0x55dde1=_0x11ce6;if(_0xdaae58['files']&&_0x4f2d22[_0x55dde1(0x440)]){const _0x4e04c2=[];for(const _0x176857 of _0xdaae58['files'])_0x4e04c2[_0x55dde1(0x7bc)](_0x256b79(_0x176857));for(const _0x794bc3 of _0x4f2d22[_0x55dde1(0x440)])if(_0x55dde1(0x935)===_0x794bc3['type']){const _0x3d0be3=_0xd16cea[_0x55dde1(0x957)](_0x1cf836=>_0x1cf836[_0x55dde1(0x434)]===_0x794bc3[_0x55dde1(0x434)]);if(!_0x3d0be3)continue;_0x3d0be3[_0x55dde1(0x789)]===_0x517648[_0x55dde1(0x19c)]&&await _0x4e1ff3(_0x4e04c2,_0x3d0be3,_0xd16cea,_0x696466),_0x3d0be3[_0x55dde1(0x789)]===_0x517648[_0x55dde1(0x79a)]&&_0x7e9ceb(_0x4e04c2,_0x3d0be3);}}}function _0x256b79(_0x287bb2){const _0x1537ba=_0x11ce6,_0x26eaec=atob(_0x287bb2[_0x1537ba(0x1c4)]),_0x535c1e=_0x26eaec[_0x1537ba(0x7ad)],_0x343f59=new ArrayBuffer(_0x535c1e),_0x12cee3=new Uint8Array(_0x343f59);for(let _0x234861=0x0;_0x234861<_0x535c1e;_0x234861++)_0x12cee3[_0x234861]=_0x26eaec[_0x1537ba(0x15d)](_0x234861);return new File([_0x12cee3],_0x287bb2['name'],{'type':_0x287bb2[_0x1537ba(0x789)]});}class _0x1526b8 extends _0x4d0187{['localNode'];[_0x11ce6(0x391)];[_0x11ce6(0x105)];[_0x11ce6(0x5d9)];['documentParserConnector'];[_0x11ce6(0x95b)];['searchApiKey'];[_0x11ce6(0x77b)];[_0x11ce6(0x9fe)];['aiSearchConnector'];[_0x11ce6(0x390)];[_0x11ce6(0x903)];['modelStore'];['dataStores']=new Map();['externalStores']=new Map();[_0x11ce6(0x118)];[_0x11ce6(0x8a6)]=new Map();['debounceStats'];[_0x11ce6(0x350)]=0x0;['tokens']=0x0;[_0x11ce6(0x6cb)]=!0x1;[_0x11ce6(0x7b2)]=[];[_0x11ce6(0x4ee)]=!0x1;constructor(_0x5b4235,_0x3be202,_0x3406b4,_0x30cb7d,_0x11e0b2,_0x4cca02,_0x1a7e86,_0x369ecb,_0x11b461,_0x390b4f,_0x3e590c,_0x2309c5,_0x23d030){const _0x1c0bb5=_0x11ce6;super(_0x5b4235,_0x3be202,_0x30cb7d),this[_0x1c0bb5(0xd3)]=_0x5b4235,this['vendorId']=_0x3406b4,this[_0x1c0bb5(0x105)]=_0x11e0b2,this['generativeAIWorkerConnectors']=_0x4cca02,this[_0x1c0bb5(0x7ae)]=_0x1a7e86,this[_0x1c0bb5(0x95b)]=_0x369ecb,this[_0x1c0bb5(0x417)]=_0x11b461,this[_0x1c0bb5(0x77b)]=_0x390b4f,this['searchConnector']=_0x3e590c,this[_0x1c0bb5(0x7db)]=_0x2309c5,this[_0x1c0bb5(0x390)]=_0x23d030;}async[_0x11ce6(0x4d6)](){const _0x1ea6b9=_0x11ce6;for(const _0x126a2b of this[_0x1ea6b9(0x5d9)])await _0x126a2b[_0x1ea6b9(0x17e)]();this[_0x1ea6b9(0x800)]?.['unsubscribe'](this[_0x1ea6b9(0x6e8)]),this[_0x1ea6b9(0x50a)][_0x1ea6b9(0x7a1)](_0x44dfaf=>_0x44dfaf['unsubscribe'](this[_0x1ea6b9(0x6e8)])),this[_0x1ea6b9(0x455)]&&(clearTimeout(this['debounceStats']),delete this[_0x1ea6b9(0x455)]),super[_0x1ea6b9(0x4d6)]();}async[_0x11ce6(0x4ec)](_0x1b8451=!0x1){const _0x3b443d=_0x11ce6;if(this[_0x3b443d(0x6cb)])super[_0x3b443d(0x4ec)]();else{if(_0x5c02ff['forceLog'](_0x3b443d(0x875),this['label']),this[_0x3b443d(0x903)]=await _0x4a6fbc[_0x3b443d(0x3fa)](this['vendorId'],this[_0x3b443d(0x6e8)]),this[_0x3b443d(0x800)]=this[_0x3b443d(0x105)]['getObjectStoreBucket'](this[_0x3b443d(0x903)][_0x3b443d(0x134)]),!this[_0x3b443d(0x800)])throw new Error('Model\x20store\x20not\x20initialized');this['initializeLoggingDatabase'](),_0x5c02ff[_0x3b443d(0x6b1)](_0x3b443d(0x31e),this['workflow']['models']);for(const _0x30ace8 of this['workflow'][_0x3b443d(0x8a6)])try{let _0x5be7ef;_0x30ace8['engineType']===_0x4aea4d[_0x3b443d(0x7a2)]['Llamacpp']&&(_0x5be7ef=await this['getModel']('/'+_0x30ace8['id']+_0x5bd446)),this[_0x3b443d(0x8a6)][_0x3b443d(0x323)](_0x30ace8['id'],{'id':_0x30ace8['id'],'engineType':_0x30ace8[_0x3b443d(0x2fd)],'taskType':_0x30ace8[_0x3b443d(0x539)],'inputType':_0x30ace8[_0x3b443d(0x34d)],'outputType':_0x30ace8['outputType'],'sourceUrl':_0x30ace8[_0x3b443d(0x2a2)],'pathName':_0x5be7ef});}catch(_0x26c1fb){await this[_0x3b443d(0x800)][_0x3b443d(0xfa)]({'action':_0x4aea4d[_0x3b443d(0x4fe)][_0x3b443d(0x6b2)],'file':new File([''],''+_0x30ace8['id']+_0x5bd446),'path':'/','options':{'skipEncryption':!0x0,'fetchUrl':_0x30ace8[_0x3b443d(0x2a2)]}}),this[_0x3b443d(0x8a6)][_0x3b443d(0x323)](_0x30ace8['id'],{'id':_0x30ace8['id'],'engineType':_0x30ace8['engineType'],'taskType':_0x30ace8[_0x3b443d(0x539)],'inputType':_0x30ace8[_0x3b443d(0x34d)],'outputType':_0x30ace8[_0x3b443d(0x5ff)],'sourceUrl':_0x30ace8[_0x3b443d(0x2a2)],'pathName':await this[_0x3b443d(0x987)]('/'+_0x30ace8['id']+_0x5bd446)});}try{for(const _0x52b79c of this[_0x3b443d(0x5d9)])await _0x52b79c[_0x3b443d(0x9db)](this[_0x3b443d(0x6e8)],this[_0x3b443d(0x8a6)]);}catch(_0x345be4){return this[_0x3b443d(0x4ec)](_0x1b8451);}for(const _0x3b0cc0 of this[_0x3b443d(0x903)]['dataBucketIds'])this[_0x3b443d(0x50a)][_0x3b443d(0x323)](_0x3b0cc0,this[_0x3b443d(0x105)][_0x3b443d(0x6af)](_0x3b0cc0));await this[_0x3b443d(0xf5)](),this[_0x3b443d(0x87e)]();for(const _0xdde120 of this['workflow']['externalStorageConnectionIds'])this[_0x3b443d(0x22e)][_0x3b443d(0x323)](_0xdde120,this[_0x3b443d(0x105)][_0x3b443d(0x8ff)](_0xdde120));await this[_0x3b443d(0x4ea)](),this[_0x3b443d(0x983)](),this[_0x3b443d(0x6cb)]=!0x0,this['sendStats'](),super[_0x3b443d(0x4ec)](),_0x5c02ff[_0x3b443d(0x6b1)](_0x3b443d(0x8e6),this[_0x3b443d(0x6e8)]);}}[_0x11ce6(0x7e8)](){const _0x4cbd35=_0x11ce6;this[_0x4cbd35(0x350)]=0x0,this[_0x4cbd35(0x278)]=0x0,this[_0x4cbd35(0x13c)](),super[_0x4cbd35(0x7e8)]();}[_0x11ce6(0x4ad)](){const _0x4b76b7=_0x11ce6;return this['sendStats'](),this[_0x4b76b7(0x8b3)]();}['compileStats'](_0x2f8c9e,_0x5a42d3,_0x3b5900){const _0x4b15e2=_0x11ce6,{outputTokens:_0x172564=0x0,output:_0x5de1c4=''}=_0x2f8c9e,_0x41372a=_0x172564/((_0x3b5900-_0x5a42d3)/0x3e8);this[_0x4b15e2(0x350)]+=0x1,this[_0x4b15e2(0x278)]+=_0x172564,this[_0x4b15e2(0x253)](_0x41372a,_0x172564),this[_0x4b15e2(0x13c)]();}[_0x11ce6(0x702)](_0x2111ad,_0x38b203){const _0x34e74b=_0x11ce6;return _0x2111ad['output']=_0x2111ad[_0x34e74b(0x790)]??'',{'type':_0x34e74b(0x675),'output':_0x34e74b(0x9cc)==typeof _0x2111ad[_0x34e74b(0x790)]&&'string'==typeof _0x38b203[_0x34e74b(0x790)]?_0x2111ad[_0x34e74b(0x790)]+_0x38b203[_0x34e74b(0x790)]:_0x38b203['output'],'outputTokens':_0x38b203[_0x34e74b(0x997)]??_0x2111ad['outputTokens'],'inputTokens':_0x38b203[_0x34e74b(0x408)]??_0x2111ad[_0x34e74b(0x408)]};}async[_0x11ce6(0x3e8)](_0x55481a,_0x7b32df){const _0x130403=_0x11ce6;if(this[_0x130403(0x903)]=await _0x4a6fbc[_0x130403(0x3fa)](this[_0x130403(0x391)],this[_0x130403(0x6e8)]),_0x130403(0x675)===_0x7b32df['type']){const _0x443484=this[_0x130403(0x903)][_0x130403(0x833)][_0x130403(0x957)](_0x3072e7=>_0x3072e7[_0x130403(0x789)]===_0x517648[_0x130403(0x3fb)]),_0x561414=await async function(_0x5baa28,_0x4a7ed2,_0x5b178b,_0x35dd22,_0x302816){const _0x37d820=_0x130403,_0x4088d7=(0x0,_0x5afa59['v4'])(),_0x392846=Date[_0x37d820(0x3bd)]();if(_0x11c61b[_0x37d820(0x7a7)]({'jobType':_0xb90109[_0x37d820(0x846)],'type':_0x5b159a[_0x37d820(0x7ba)],'jobId':_0x5baa28,'blockId':_0x5b178b['id'],'agentId':_0x4088d7,'threadId':_0x4a7ed2[_0x37d820(0x8ec)],'traceLevel':_0x23ecc6[_0x37d820(0x602)],'startTime':Date['now'](),'timestamp':Date[_0x37d820(0x3bd)](),'status':_0x37d820(0x94a),'initialPrompt':_0x4a7ed2[_0x37d820(0x675)]}),await _0x468a99(_0x4a7ed2,_0x5b178b,_0x35dd22,_0x302816),_0x4a7ed2[_0x37d820(0xe3)]){for(const _0xf5964 in _0x4a7ed2[_0x37d820(0xe3)])_0x4cc063(_0x4a7ed2[_0x37d820(0xe3)][_0xf5964],_0x5b178b,_0x35dd22,_0xf5964);}const _0x5b73f5={'type':_0x4a7ed2[_0x37d820(0x789)],'context':[],'inputTokens':0x0,'outputTokens':0x0};await _0xbc2813(_0x5baa28,''+_0x4a7ed2[_0x37d820(0x675)],_0x4a7ed2,_0x5b73f5,_0x5b178b,_0x35dd22,_0x302816);const {inputTokens:_0x1e6597=0x0,outputTokens:_0x546f95=0x0,context:_0x4a897b=[]}=_0x5b73f5;return _0x11c61b['trace']({'jobType':_0xb90109[_0x37d820(0x846)],'type':_0x5b159a[_0x37d820(0x281)],'jobId':_0x5baa28,'agentId':_0x4088d7,'threadId':_0x4a7ed2[_0x37d820(0x8ec)],'traceLevel':_0x23ecc6[_0x37d820(0x602)],'startTime':_0x392846,'timestamp':Date[_0x37d820(0x3bd)](),'blockId':_0x5b178b['id'],'status':_0x37d820(0x94a),'output':_0x5b73f5[_0x37d820(0x790)]?.['toString']()??'','prompt':_0x4a7ed2['prompt'],'agentName':'','history':_0x4a7ed2['history']??[],'instructions':''+(_0x4a7ed2[_0x37d820(0x944)]??''),'ragContext':_0x4a897b,'inputTokens':_0x1e6597,'outputTokens':_0x546f95}),{'type':_0x4a7ed2[_0x37d820(0x789)],'output':_0x5b73f5['output'],'context':_0x5b73f5[_0x37d820(0x376)],'internalContext':_0x35dd22[_0x37d820(0x957)](_0x5dac52=>_0x5dac52['type']===_0x517648[_0x37d820(0x256)])?.['accumulated']?.[_0x37d820(0x376)]??{},'inputTokens':_0x5b73f5[_0x37d820(0x408)]??0x0,'outputTokens':_0x5b73f5[_0x37d820(0x997)]??0x0};}(_0x55481a,_0x7b32df,_0x443484,this[_0x130403(0x903)]['blocks'],{'documentParserConnector':this[_0x130403(0x7ae)],'nlpLibraryConnector':this[_0x130403(0x95b)],'generativeAIWorkerConnectors':this[_0x130403(0x5d9)],'models':this[_0x130403(0x903)][_0x130403(0x8a6)],'contentMediator':this[_0x130403(0x105)],'searchApiKey':this[_0x130403(0x417)],'aiSearchApiKey':this['aiSearchApiKey'],'searchConnector':this['searchConnector'],'aiSearchConnector':this['aiSearchConnector'],'queryFileConnector':this[_0x130403(0x390)]});return _0x561414;}if('rate'===_0x7b32df[_0x130403(0x789)])return _0x11c61b['trace']({'jobType':_0xb90109[_0x130403(0x1d7)],'type':_0x2b1d18[_0x130403(0x315)],'jobId':_0x7b32df[_0x130403(0x3c8)],'threadId':_0x7b32df[_0x130403(0x8ec)],'traceLevel':_0x23ecc6[_0x130403(0x602)],'startTime':Date[_0x130403(0x3bd)](),'timestamp':Date[_0x130403(0x3bd)](),'status':_0x130403(0x94a),'rating':_0x7b32df['rating'],'feedback':_0x7b32df[_0x130403(0x42c)]}),{'type':_0x130403(0x5ec),'status':_0x4aea4d[_0x130403(0x2ad)][_0x130403(0x88a)]};if(_0x130403(0x3f7)===_0x7b32df['type']){let _0x357d19;const _0x3c8900=this[_0x130403(0x50a)][_0x130403(0x8ae)]();for(;!_0x357d19;){const _0x44f9fd=_0x3c8900[_0x130403(0x14d)]()[_0x130403(0x844)];if(!_0x44f9fd)throw new Error(_0x130403(0x3c2));_0x357d19=this['dataStores'][_0x130403(0x3f2)](_0x44f9fd);try{const _0x1c21f9=await _0x357d19[_0x130403(0x3f2)](_0x7b32df[_0x130403(0x74b)]);return{'type':_0x130403(0x3f7),'fileName':_0x1c21f9['name'],'mimeType':_0x1c21f9[_0x130403(0x789)],'document':await _0x1c21f9[_0x130403(0x63b)]()};}catch(_0x52a134){continue;}}throw new Error('DownloadDocument\x20Job\x20failed:\x20Document\x20not\x20found');}throw new Error(_0x130403(0xa0a));}async*['internalProcessJobStream'](_0x4efe14,_0xbb6fe8){const _0x29e78f=_0x11ce6;this['workflow']=await _0x4a6fbc[_0x29e78f(0x3fa)](this['vendorId'],this[_0x29e78f(0x6e8)]);const _0x24005f=this[_0x29e78f(0x903)][_0x29e78f(0x833)][_0x29e78f(0x957)](_0x1b2c01=>_0x1b2c01[_0x29e78f(0x789)]===_0x517648[_0x29e78f(0x3fb)]);for await(const _0x52d299 of async function*(_0x120588,_0x306e0c,_0xb18a1f,_0x3d5487,_0xc205fe){const _0x58afb0=_0x29e78f,_0x14f8f7=(0x0,_0x5afa59['v4'])(),_0x4242f1=Date[_0x58afb0(0x3bd)]();if(_0x11c61b[_0x58afb0(0x7a7)]({'jobType':_0xb90109[_0x58afb0(0x846)],'type':_0x5b159a[_0x58afb0(0x7ba)],'jobId':_0x120588,'agentId':_0x14f8f7,'threadId':_0x306e0c[_0x58afb0(0x8ec)],'traceLevel':_0x23ecc6[_0x58afb0(0x602)],'startTime':Date[_0x58afb0(0x3bd)](),'timestamp':Date['now'](),'blockId':_0xb18a1f['id'],'status':'success','initialPrompt':_0x306e0c[_0x58afb0(0x675)]}),await _0x468a99(_0x306e0c,_0xb18a1f,_0x3d5487,_0xc205fe),_0x306e0c[_0x58afb0(0xe3)]){for(const _0x3e7fa4 in _0x306e0c[_0x58afb0(0xe3)])_0x4cc063(_0x306e0c[_0x58afb0(0xe3)][_0x3e7fa4],_0xb18a1f,_0x3d5487,_0x3e7fa4);}const _0x2b01c9={'type':_0x306e0c['type'],'context':[],'inputTokens':0x0,'outputTokens':0x0},_0xde8d53=new _0x4ee5f6();_0xbc2813(_0x120588,''+_0x306e0c[_0x58afb0(0x675)],_0x306e0c,_0x2b01c9,_0xb18a1f,_0x3d5487,_0xc205fe,_0xde8d53);let _0x45ac70='',_0x417e95={'type':_0x306e0c[_0x58afb0(0x789)]};for(;;){const _0x330134=await _0xde8d53['once']();if(!_0x330134)break;_0x45ac70+=_0x330134['output'],_0x417e95={'type':_0x306e0c['type'],'output':_0x330134['output'],'context':_0x2b01c9[_0x58afb0(0x376)],'internalContext':{},'inputTokens':(_0x2b01c9[_0x58afb0(0x408)]??0x0)+(_0x330134[_0x58afb0(0x408)]??0x0),'outputTokens':(_0x2b01c9[_0x58afb0(0x997)]??0x0)+(_0x330134[_0x58afb0(0x997)]??0x0)},yield _0x417e95;}yield{..._0x417e95,'output':'','internalContext':_0x3d5487[_0x58afb0(0x957)](_0x1ac4f3=>_0x1ac4f3[_0x58afb0(0x789)]===_0x517648[_0x58afb0(0x256)])?.[_0x58afb0(0x781)]?.[_0x58afb0(0x376)]??{}};const {inputTokens:_0x1b5e0b=0x0,outputTokens:_0x4d1fe0=0x0,context:_0x4d8b41=[]}=_0x417e95;_0x11c61b[_0x58afb0(0x7a7)]({'jobType':_0xb90109[_0x58afb0(0x846)],'type':_0x5b159a[_0x58afb0(0x281)],'jobId':_0x120588,'agentId':_0x14f8f7,'threadId':_0x306e0c[_0x58afb0(0x8ec)],'traceLevel':_0x23ecc6[_0x58afb0(0x602)],'startTime':_0x4242f1,'timestamp':Date[_0x58afb0(0x3bd)](),'blockId':_0xb18a1f['id'],'status':_0x58afb0(0x94a),'output':_0x45ac70,'prompt':_0x306e0c[_0x58afb0(0x675)],'agentName':'','history':_0x306e0c[_0x58afb0(0x963)]??[],'instructions':''+(_0x306e0c[_0x58afb0(0x944)]??''),'ragContext':_0x4d8b41,'inputTokens':_0x1b5e0b,'outputTokens':_0x4d1fe0});}(_0x4efe14,_0xbb6fe8,_0x24005f,this[_0x29e78f(0x903)][_0x29e78f(0x833)],{'documentParserConnector':this[_0x29e78f(0x7ae)],'nlpLibraryConnector':this[_0x29e78f(0x95b)],'generativeAIWorkerConnectors':this[_0x29e78f(0x5d9)],'models':this[_0x29e78f(0x903)]['models'],'contentMediator':this['contentMediator'],'searchApiKey':this[_0x29e78f(0x417)],'aiSearchApiKey':this[_0x29e78f(0x77b)],'searchConnector':this['searchConnector'],'aiSearchConnector':this[_0x29e78f(0x7db)],'queryFileConnector':this[_0x29e78f(0x390)]}))yield _0x52d299;}[_0x11ce6(0x7a5)](_0x1259e2,_0x39a3d8){const _0x43c85c=_0x11ce6;if(_0x43c85c(0x5ec)===_0x39a3d8[_0x43c85c(0x789)])return _0x1259e2=_0x39a3d8['jobId'],void this[_0x43c85c(0x356)](_0x1259e2);this[_0x43c85c(0x356)](_0x1259e2),_0x11c61b[_0x43c85c(0x7a7)]({'jobType':_0xb90109[_0x43c85c(0xa09)],'type':_0x563719[_0x43c85c(0x740)],'traceLevel':_0x23ecc6[_0x43c85c(0x602)],'jobId':_0x1259e2,'threadId':_0x39a3d8[_0x43c85c(0x8ec)],'startTime':Date['now'](),'timestamp':Date[_0x43c85c(0x3bd)](),'status':_0x43c85c(0x94a)});}[_0x11ce6(0x549)](_0x28d2b2,_0x3bfd3e){const _0x4e6736=_0x11ce6;if(_0x4e6736(0x5ec)===_0x3bfd3e[_0x4e6736(0x789)])return _0x28d2b2=_0x3bfd3e[_0x4e6736(0x3c8)],void this[_0x4e6736(0x5ab)](_0x28d2b2);_0x11c61b[_0x4e6736(0x7a7)]({'jobType':_0xb90109[_0x4e6736(0xa09)],'type':_0x563719[_0x4e6736(0x22f)],'traceLevel':_0x23ecc6[_0x4e6736(0x602)],'jobId':_0x28d2b2,'threadId':_0x3bfd3e[_0x4e6736(0x8ec)],'startTime':Date['now'](),'timestamp':Date[_0x4e6736(0x3bd)](),'status':_0x4e6736(0x94a)}),this['closeTrace'](_0x28d2b2);}async['getModel'](_0x589cf5){const _0x45943f=_0x11ce6;if(!this[_0x45943f(0x800)])throw new Error(_0x45943f(0x2b3));const _0x13c410=await this[_0x45943f(0x800)][_0x45943f(0x138)]('/',{'recursive':!0x1,'includeSyncingFiles':!0x1});for(const _0x42290a of _0x13c410)if(_0x42290a[_0x45943f(0x969)]===_0x4aea4d[_0x45943f(0x98c)]['File']&&_0x42290a['pathName']===_0x589cf5)return _0x42290a['absolutePathName']??_0x42290a[_0x45943f(0xa02)];throw new Error(_0x45943f(0x81c)+_0x589cf5);}async[_0x11ce6(0xf5)](){const _0x2c5b13=_0x11ce6;if(!this[_0x2c5b13(0x903)])throw new Error(_0x2c5b13(0x5b7));for(const _0x394360 of this[_0x2c5b13(0x50a)]['values']())try{const _0x4fe3db=this[_0x2c5b13(0x903)][_0x2c5b13(0x833)][_0x2c5b13(0x80e)](_0x487569=>(_0x487569[_0x2c5b13(0x789)]===_0x517648[_0x2c5b13(0x9a8)]||_0x487569[_0x2c5b13(0x789)]===_0x517648[_0x2c5b13(0x9c4)])&&_0x487569['ingestBlocks']?.[_0x2c5b13(0x335)](_0x8c9e65=>_0x8c9e65['id']===_0x394360[_0x2c5b13(0x555)]()));for(let _0x4a0ab4=_0x4fe3db[_0x2c5b13(0x7ad)]-0x1;_0x4a0ab4>=0x0;_0x4a0ab4--)for(const _0x4f6b42 of _0x4fe3db[_0x4a0ab4][_0x2c5b13(0xd8)]??[])_0x4f6b42[_0x2c5b13(0x789)]===_0x5128b2[_0x2c5b13(0x9d3)]&&this[_0x2c5b13(0x105)][_0x2c5b13(0x6eb)](_0x4f6b42['id'])['getIsLoaded']()&&_0x4fe3db[_0x2c5b13(0x416)](_0x4a0ab4,0x1),_0x4f6b42[_0x2c5b13(0x789)]===_0x5128b2[_0x2c5b13(0x2b8)]&&this[_0x2c5b13(0x105)][_0x2c5b13(0x5d1)](_0x4f6b42['id'])[_0x2c5b13(0x821)]()&&_0x4fe3db[_0x2c5b13(0x416)](_0x4a0ab4,0x1);const _0x3893f9=new Map();let _0x10da1d=!0x1;for(const _0x29f0b6 of _0x4fe3db){let _0x5823e0=''+(_0x29f0b6['version']??0x1);for(const _0x5410b8 of _0x29f0b6['ingestBlocks']??[])_0x5410b8[_0x2c5b13(0x789)]===_0x5128b2['Agent']&&(_0x5823e0=_0x5823e0+'-'+(_0x5410b8[_0x2c5b13(0x5c2)]??0x1));for(const _0x5b825c of _0x29f0b6[_0x2c5b13(0xd8)]??[])_0x5b825c[_0x2c5b13(0x789)]===_0x5128b2['VectorDatabase']&&_0x3893f9['set'](_0x5b825c['id'],{'version':_0x5823e0,'getDatabase':this['contentMediator']['getVectorDatabase'][_0x2c5b13(0x23a)](this[_0x2c5b13(0x105)]),'block':_0x5b825c}),_0x5b825c[_0x2c5b13(0x789)]===_0x5128b2[_0x2c5b13(0x2b8)]&&_0x3893f9[_0x2c5b13(0x323)](_0x5b825c['id'],{'version':_0x5823e0,'getDatabase':this[_0x2c5b13(0x105)][_0x2c5b13(0x5d1)][_0x2c5b13(0x23a)](this[_0x2c5b13(0x105)]),'block':_0x5b825c});}for(const {getDatabase:_0x1a414a,block:_0x246a6e,version:_0x1679a7}of _0x3893f9['values']())try{const _0x361420=_0x1a414a(_0x246a6e['id']);_0x361420[_0x2c5b13(0x701)](_0x1679a7),_0x361420[_0x2c5b13(0x9a7)](!0x0),_0x10da1d=!0x0;}catch(_0x5d7ccf){_0x10da1d=!0x1;break;}if(_0x5c02ff[_0x2c5b13(0x6b1)](_0x2c5b13(0x242)),_0x10da1d)continue;_0x5c02ff[_0x2c5b13(0x6b1)](_0x2c5b13(0x948));const _0x28b0b4=await _0x394360[_0x2c5b13(0x138)]('/',{'recursive':!0x0,'includeSyncingFiles':!0x1});await this[_0x2c5b13(0x5d0)](_0x1cb16b[_0x2c5b13(0x475)],_0x394360[_0x2c5b13(0x107)](),_0x28b0b4);for(const {getDatabase:_0xfa1ece,block:_0x51b424,version:_0x5a8325}of _0x3893f9[_0x2c5b13(0x8ea)]()){const _0x390d67=_0xfa1ece(_0x51b424['id']);_0x390d67[_0x2c5b13(0xf4)](_0x5a8325),_0x390d67[_0x2c5b13(0x9a7)](!0x0);}}catch(_0x590d13){_0x5c02ff[_0x2c5b13(0x89e)](_0x2c5b13(0x660),{'nodeId':this[_0x2c5b13(0xd3)][_0x2c5b13(0x9d8)](),'nodeType':this[_0x2c5b13(0xd3)][_0x2c5b13(0x789)]});}}async[_0x11ce6(0x4ea)](){const _0x32e198=_0x11ce6;for(const _0x47d3a5 of this[_0x32e198(0x22e)][_0x32e198(0x8ea)]())try{const _0x1edf71=await _0x47d3a5[_0x32e198(0x138)]('/',{'recursive':!0x0});await this[_0x32e198(0x5d0)](_0x1cb16b[_0x32e198(0x72b)],_0x47d3a5[_0x32e198(0x107)](),_0x1edf71);}catch(_0x1c851d){_0x5c02ff[_0x32e198(0x89e)](_0x32e198(0x31a),{'nodeId':this['localNode'][_0x32e198(0x9d8)](),'nodeType':this[_0x32e198(0xd3)]['type']});}}async[_0x11ce6(0x5d0)](_0x4613db,_0x2def0d,_0x1921d6){const _0x5cabdb=_0x11ce6;for(const _0x4b303c of _0x1921d6){if(_0x4b303c[_0x5cabdb(0x969)]===_0x4aea4d[_0x5cabdb(0x98c)][_0x5cabdb(0x507)]){if(!_0x4b303c[_0x5cabdb(0x91c)]||0x0===_0x4b303c[_0x5cabdb(0x91c)][_0x5cabdb(0x7ad)])continue;await this[_0x5cabdb(0x5d0)](_0x4613db,_0x2def0d,_0x4b303c[_0x5cabdb(0x91c)]);}_0x4b303c['kind']===_0x4aea4d[_0x5cabdb(0x98c)][_0x5cabdb(0x6b2)]&&this[_0x5cabdb(0x8bd)](_0x4613db,_0x2def0d,_0x4b303c[_0x5cabdb(0xa02)]);}return new Promise(_0x14ae88=>{const _0x309faa=_0x5cabdb,_0x2b5d4c=_0x508bd4[_0x309faa(0x54a)](()=>{const _0x4573a9=_0x309faa;0x0===this[_0x4573a9(0x7b2)][_0x4573a9(0x7ad)]&&(_0x2b5d4c(),_0x14ae88());},0x1388);});}[_0x11ce6(0x87e)](){const _0x3286c1=_0x11ce6;for(const _0x41d962 of this[_0x3286c1(0x50a)]['values']())_0x41d962[_0x3286c1(0x85a)](this['label'],async _0x493795=>{const _0xe65501=_0x3286c1;switch(_0x493795['event']){case _0x4aea4d[_0xe65501(0x704)]['FileWrite']:this[_0xe65501(0x147)](_0x1cb16b[_0xe65501(0x475)],_0x41d962[_0xe65501(0x107)](),_0x493795[_0xe65501(0x231)][_0xe65501(0x935)][_0xe65501(0xa02)]),this[_0xe65501(0x8bd)](_0x1cb16b['ObjectStorage'],_0x41d962['getName'](),_0x493795[_0xe65501(0x231)]['file'][_0xe65501(0xa02)]);break;case _0x4aea4d[_0xe65501(0x704)]['FileDelete']:this[_0xe65501(0x147)](_0x1cb16b[_0xe65501(0x475)],_0x41d962[_0xe65501(0x107)](),_0x493795[_0xe65501(0x231)][_0xe65501(0xa02)]);}});}[_0x11ce6(0x983)](){const _0x3b9a0e=_0x11ce6;for(const _0xfe5aa1 of this[_0x3b9a0e(0x22e)]['values']())_0xfe5aa1['subscribe'](this[_0x3b9a0e(0x6e8)],async _0x6dd7e6=>{const _0x42a6c5=_0x3b9a0e;switch(_0x6dd7e6[_0x42a6c5(0x551)]){case _0x4aea4d['StorageEventType'][_0x42a6c5(0x97f)]:this[_0x42a6c5(0x147)](_0x1cb16b[_0x42a6c5(0x72b)],_0xfe5aa1[_0x42a6c5(0x107)](),_0x6dd7e6[_0x42a6c5(0x231)][_0x42a6c5(0x935)][_0x42a6c5(0xa02)]),this[_0x42a6c5(0x8bd)](_0x1cb16b[_0x42a6c5(0x72b)],_0xfe5aa1[_0x42a6c5(0x107)](),_0x6dd7e6[_0x42a6c5(0x231)]['file'][_0x42a6c5(0xa02)]);break;case _0x4aea4d[_0x42a6c5(0x704)][_0x42a6c5(0x7c9)]:this[_0x42a6c5(0x147)](_0x1cb16b[_0x42a6c5(0x72b)],_0xfe5aa1[_0x42a6c5(0x107)](),_0x6dd7e6[_0x42a6c5(0x231)][_0x42a6c5(0xa02)]);}});}[_0x11ce6(0x8bd)](_0x5f2903,_0x5df4ed,_0x18e7c3){const _0x581927=_0x11ce6;this[_0x581927(0x7b2)][_0x581927(0x7bc)]({'type':_0x581927(0x5c9),'storageType':_0x5f2903,'storeId':_0x5df4ed,'pathName':_0x18e7c3}),this['processContentQueue']();}['removeContent'](_0x1fd55a,_0x33f552,_0x45c781){const _0x5b130b=_0x11ce6;this[_0x5b130b(0x7b2)][_0x5b130b(0x7bc)]({'type':_0x5b130b(0x3e3),'storageType':_0x1fd55a,'storeId':_0x33f552,'pathName':_0x45c781}),this[_0x5b130b(0x973)]();}async[_0x11ce6(0x973)](){const _0x5574e9=_0x11ce6;if(!this[_0x5574e9(0x4ee)]){try{this['contentQueueRunning']=!0x0;const _0x56caef=this[_0x5574e9(0x7b2)][_0x5574e9(0x52d)]();if(!_0x56caef)return;'add'===_0x56caef[_0x5574e9(0x789)]?await this[_0x5574e9(0x72e)](_0x56caef[_0x5574e9(0x78e)],_0x56caef[_0x5574e9(0x142)],_0x56caef[_0x5574e9(0xa02)]):this['processRemoveContent'](_0x56caef[_0x5574e9(0x78e)],_0x56caef[_0x5574e9(0x142)],_0x56caef[_0x5574e9(0xa02)]);}catch(_0xd06731){_0x5c02ff[_0x5574e9(0x89e)]('Error\x20processing\x20content\x20queue',{'nodeId':this[_0x5574e9(0xd3)][_0x5574e9(0x9d8)](),'nodeType':this[_0x5574e9(0xd3)]['type']});}this['contentQueueRunning']=!0x1,this['contentQueue'][_0x5574e9(0x7ad)]>0x0&&this[_0x5574e9(0x973)]();}}async[_0x11ce6(0x72e)](_0xf0d33d,_0xcd77e6,_0x302ceb){const _0x2f8f05=_0x11ce6;if(_0x5c02ff[_0x2f8f05(0x6b1)](_0x2f8f05(0x8bd),_0xf0d33d,_0xcd77e6,_0x302ceb),!this[_0x2f8f05(0x903)])throw new Error('Workflow\x20not\x20initialized');let _0x26d35e;switch(_0xf0d33d){case _0x1cb16b[_0x2f8f05(0x475)]:_0x26d35e=_0x5128b2['ObjectStorageUpload'];break;case _0x1cb16b[_0x2f8f05(0x72b)]:_0x26d35e=_0x5128b2[_0x2f8f05(0xa10)];}if(!_0x26d35e)return;const _0x50f9ea=this['workflow'][_0x2f8f05(0x833)]['filter'](_0x3830f9=>_0x3830f9['type']===_0x517648[_0x2f8f05(0x9c4)]||_0x3830f9[_0x2f8f05(0x789)]===_0x517648['DataCollection']),_0x142304=new Set(_0x50f9ea['map'](_0x74f066=>_0x74f066['id'])),_0x2e7838=_0x50f9ea[_0x2f8f05(0x80e)](_0x38a3de=>_0x38a3de[_0x2f8f05(0xd8)]?.[_0x2f8f05(0x335)](_0x2fe2f1=>_0x2fe2f1['type']===_0x26d35e&&_0x2fe2f1['id']===_0xcd77e6));for(const _0x49574b of _0x2e7838){if(!_0x142304['has'](_0x49574b['id']))continue;_0x142304[_0x2f8f05(0x3a9)](_0x49574b['id']);const _0x158e9e=_0x49574b[_0x2f8f05(0xd8)]?.['find'](_0x208e7b=>_0x208e7b[_0x2f8f05(0x789)]===_0x26d35e&&_0x208e7b['id']===_0xcd77e6);_0x158e9e&&_0x543b18['add'](this[_0x2f8f05(0x6e8)],async()=>{const _0x8edd8f=_0x2f8f05,_0x22317a=(0x0,_0x5afa59['v4'])();_0x11c61b[_0x8edd8f(0x356)](null,_0x22317a),await _0x3f3bf6(_0x22317a,_0x302ceb,_0x158e9e,_0x49574b[_0x8edd8f(0xd8)],{'documentParserConnector':this[_0x8edd8f(0x7ae)],'nlpLibraryConnector':this[_0x8edd8f(0x95b)],'generativeAIWorkerConnectors':this['generativeAIWorkerConnectors'],'models':this[_0x8edd8f(0x903)][_0x8edd8f(0x8a6)],'contentMediator':this[_0x8edd8f(0x105)],'searchApiKey':this[_0x8edd8f(0x417)],'aiSearchApiKey':this[_0x8edd8f(0x77b)],'version':_0x49574b['version']??0x1}),_0x11c61b[_0x8edd8f(0x5ab)](_0x22317a);});}this[_0x2f8f05(0x13c)]();}[_0x11ce6(0x154)](_0xa46d,_0x5e60a5,_0x252b59){const _0x3c0482=_0x11ce6;if(_0x5c02ff['forceLog'](_0x3c0482(0x147),_0xa46d,_0x5e60a5,_0x252b59),!this[_0x3c0482(0x903)])throw new Error(_0x3c0482(0x5b7));let _0x12d026;switch(_0xa46d){case _0x1cb16b['ObjectStorage']:_0x12d026=_0x5128b2[_0x3c0482(0x53f)];break;case _0x1cb16b[_0x3c0482(0x72b)]:_0x12d026=_0x5128b2[_0x3c0482(0xa10)];}if(!_0x12d026)return;const _0x4b2a24=this[_0x3c0482(0x903)][_0x3c0482(0x833)][_0x3c0482(0x80e)](_0x193bdd=>_0x193bdd[_0x3c0482(0x789)]===_0x517648[_0x3c0482(0x9c4)]||_0x193bdd[_0x3c0482(0x789)]===_0x517648[_0x3c0482(0x9a8)]),_0x22219a=new Set(_0x4b2a24['map'](_0x5a47d1=>_0x5a47d1['id'])),_0x3c6487=_0x4b2a24[_0x3c0482(0x80e)](_0x48d6f2=>_0x48d6f2[_0x3c0482(0xd8)]?.[_0x3c0482(0x335)](_0x11d5f8=>_0x11d5f8[_0x3c0482(0x789)]===_0x12d026&&_0x11d5f8['id']===_0x5e60a5));for(const _0x4040e6 of _0x3c6487){if(!_0x22219a['has'](_0x4040e6['id']))continue;_0x22219a['delete'](_0x4040e6['id']);let _0x20f2a3=''+(_0x4040e6[_0x3c0482(0x5c2)]??0x1);for(const _0x6655f9 of _0x4040e6['ingestBlocks']??[])_0x6655f9[_0x3c0482(0x789)]===_0x5128b2[_0x3c0482(0x68c)]&&(_0x20f2a3=_0x20f2a3+'-'+(_0x6655f9['version']??0x1));for(const _0x5914f3 of _0x4040e6[_0x3c0482(0xd8)]??[]){if(_0x5914f3[_0x3c0482(0x789)]===_0x5128b2[_0x3c0482(0x9d3)]){const _0x130e15=this['contentMediator']['getVectorDatabase'](_0x5914f3['id']);_0x130e15[_0x3c0482(0x3e3)](_0x252b59),_0x130e15[_0x3c0482(0x821)]()&&_0x130e15[_0x3c0482(0xf4)](_0x20f2a3);}if(_0x5914f3[_0x3c0482(0x789)]===_0x5128b2[_0x3c0482(0x2b8)]){const _0x3908eb=this[_0x3c0482(0x105)][_0x3c0482(0x5d1)](_0x5914f3['id']);_0x3908eb[_0x3c0482(0x3e3)](_0x252b59),_0x3908eb['getIsLoaded']()&&_0x3908eb[_0x3c0482(0xf4)](_0x20f2a3);}}}this[_0x3c0482(0x13c)]();}[_0x11ce6(0x8b3)](){const _0x4cd788=_0x11ce6;try{return this[_0x4cd788(0x211)][_0x4cd788(0xba)]()[_0x4cd788(0xc7)][_0x4cd788(0x21d)]*(0x1-this[_0x4cd788(0x211)]['getCapacityReport']()[_0x4cd788(0xc7)][_0x4cd788(0x743)]);}catch(_0x24488a){return _0x5c02ff[_0x4cd788(0x65b)](_0x1e4869[_0x4cd788(0x26e)],'JobWorker:\x20Error\x20getting\x20cores\x20from\x20capacity\x20report',_0x24488a),0x0;}}[_0x11ce6(0x13c)](){const _0x4a3b56=_0x11ce6;this[_0x4a3b56(0x6cb)]&&(this[_0x4a3b56(0x455)]&&clearTimeout(this[_0x4a3b56(0x455)]),this[_0x4a3b56(0x455)]=setTimeout(async()=>{const _0x2d0011=_0x4a3b56;if(delete this[_0x2d0011(0x455)],!this[_0x2d0011(0x800)])return;let _0x4b93a6=await this[_0x2d0011(0x800)][_0x2d0011(0x20a)]();for(const _0x43cee3 of this[_0x2d0011(0x50a)][_0x2d0011(0x8ea)]())_0x4b93a6+=await _0x43cee3['getSize']();this[_0x2d0011(0x1ad)][_0x2d0011(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30['Content'],'content':{'type':_0x18f1c1[_0x2d0011(0x27d)],'label':this[_0x2d0011(0x6e8)],'stats':{'timestamp':Date[_0x2d0011(0x3bd)](),'storage':_0x4b93a6,'messagesSent':this[_0x2d0011(0x299)],'messagesReceived':this[_0x2d0011(0x219)],'bytesSent':this[_0x2d0011(0x769)],'bytesReceived':this['bytesReceived'],'writes':0x0,'reads':0x0,'prompts':this['prompts'],'tokens':this[_0x2d0011(0x278)]}}});},_0x59cbea));}['logServiceEvent'](_0x330e9a,_0x34433b){const _0x48d935=_0x11ce6,_0x369878=this[_0x48d935(0x6e8)],_0x280786=this[_0x48d935(0x3d0)]();_0x5c02ff[_0x48d935(0x253)](_0x8fa077[_0x48d935(0x1e1)],{'topic':_0x369878,'type':'answer','nodeId':_0x280786,'tokenCount':_0x34433b,'tokensPerSecond':_0x330e9a});}[_0x11ce6(0x356)](_0x161b0b){const _0x12f45a=_0x11ce6;try{if(!this['workflow'])throw new Error(_0x12f45a(0x5b7));if(!this[_0x12f45a(0x118)])throw new Error('Logging\x20database\x20not\x20initialized');if(!_0x11c61b[_0x12f45a(0x356)](this[_0x12f45a(0x118)],_0x161b0b))throw new Error(_0x12f45a(0x2b5));return _0x161b0b;}catch(_0x41c010){return console['error'](_0x12f45a(0x2b5),_0x41c010),_0x12f45a(0x366);}}['closeTrace'](_0x49a3ec){const _0x409e0f=_0x11ce6;try{_0x11c61b[_0x409e0f(0x5ab)](_0x49a3ec);}catch(_0x3403c0){console[_0x409e0f(0x89e)](_0x409e0f(0x1f5),{'jobId':_0x49a3ec,'error':_0x3403c0});}}async[_0x11ce6(0x87f)](){return new Promise(_0x4ccb6d=>{const _0x56519f=a0_0x5c6e;try{const _0x56e16c=_0xdd6566(this[_0x56519f(0x391)],this[_0x56519f(0x6e8)]);this[_0x56519f(0x118)]=this[_0x56519f(0x105)][_0x56519f(0x141)](_0x56e16c),this['loggingDb'][_0x56519f(0x85a)](({event:_0x9a08d3})=>{const _0x186ba9=_0x56519f;_0x9a08d3===_0x4aea4d[_0x186ba9(0x904)][_0x186ba9(0x709)]&&(this[_0x186ba9(0x118)][_0x186ba9(0x786)](),_0x4ccb6d());});}catch(_0x90f64f){console['error'](_0x56519f(0x671)+_0xdd6566(this[_0x56519f(0x391)],this[_0x56519f(0x6e8)])+_0x56519f(0x6f1),_0x90f64f),_0x4ccb6d();}});}}class _0x4be644 extends _0x468001{[_0x11ce6(0xd3)];[_0x11ce6(0xa18)];[_0x11ce6(0x391)];['db'];[_0x11ce6(0x455)];[_0x11ce6(0x783)]=0x0;[_0x11ce6(0x738)]=0x0;[_0x11ce6(0x544)]=!0x1;constructor(_0xcfd8c8,_0x4021b5,_0x3a6faa,_0x3a8ebb,_0x3f108b){const _0x2315e2=_0x11ce6;if('string'!=typeof _0x4021b5)throw new _0x39299d(_0x1ffca6[_0x2315e2(0x21b)],_0x2315e2(0x11f));super(_0xcfd8c8,_0x4021b5),this[_0x2315e2(0xd3)]=_0xcfd8c8,this[_0x2315e2(0xa18)]=_0x3a6faa,this[_0x2315e2(0x391)]=_0x3a8ebb;const _0x22810e=_0x2315e2(0x1b7)+this[_0x2315e2(0x391)]+_0x2315e2(0x1b7)+this[_0x2315e2(0xa18)]+_0x2315e2(0x1b7)+this[_0x2315e2(0x6e8)];this['db']=new _0x3f108b(_0x22810e),this[_0x2315e2(0x13c)]();}[_0x11ce6(0x821)](){const _0x48d400=_0x11ce6;return this[_0x48d400(0x544)];}['setIsLoaded'](_0x13ec21){this['isLoaded']=_0x13ec21;}[_0x11ce6(0x4d6)](){const _0x39f76b=_0x11ce6;clearTimeout(this[_0x39f76b(0x455)]),delete this['debounceStats'],super['destroy']();}[_0x11ce6(0x17e)](){const _0x1e5b98=_0x11ce6;this['systemTopic'][_0x1e5b98(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x1e5b98(0x575)],'content':{'type':_0x18f1c1[_0x1e5b98(0x7b5)],'label':this[_0x1e5b98(0x6e8)]}});}[_0x11ce6(0x503)](){const _0x12be70=_0x11ce6;return _0x4aea4d[_0x12be70(0x43d)][_0x12be70(0x2b8)];}['reset'](){const _0x3ce7a0=_0x11ce6;this[_0x3ce7a0(0x13c)]();}[_0x11ce6(0x1a1)](_0x1bb3be,_0x27489f,_0x3d8055,_0x4cd736){const _0x597009=_0x11ce6;this['db'][_0x597009(0x1a1)](_0x1bb3be,_0x27489f,_0x3d8055,_0x4cd736),this[_0x597009(0x783)]+=0x1,this[_0x597009(0x13c)]();}['addEdge'](_0x179950,_0x206b08){const _0x485544=_0x11ce6;this['db'][_0x485544(0x4e7)](_0x179950,_0x206b08),this['writes']+=0x1,this[_0x485544(0x13c)]();}[_0x11ce6(0x1a6)](_0x7848dd,_0x15dfa1,_0x209d0a){const _0xf13467=_0x11ce6,_0x2f585c=this['db'][_0xf13467(0x1a6)](_0x7848dd,_0x15dfa1,_0x209d0a);return this[_0xf13467(0x738)]+=0x1,_0x5c02ff[_0xf13467(0x253)](_0x8fa077[_0xf13467(0x2b8)],{'type':_0xf13467(0x125),'label':this['label'],'nodeId':this['localNode']['getId'](),'nodeType':this[_0xf13467(0xd3)][_0xf13467(0x789)],'clusterId':this[_0xf13467(0xa18)],'size':0x0}),this[_0xf13467(0x13c)](),_0x2f585c;}[_0x11ce6(0x3e3)](_0x41c5a2){const _0x58c08f=_0x11ce6;this['db']['remove'](_0x41c5a2),this[_0x58c08f(0x783)]+=0x1,this[_0x58c08f(0x13c)]();}['saveToDisk'](_0x13f279){const _0x3a8bad=_0x11ce6;this['db'][_0x3a8bad(0xf4)](_0x13f279);}['loadFromDisk'](_0x4fc8db){const _0x5a7c3a=_0x11ce6;this['db'][_0x5a7c3a(0x701)](_0x4fc8db);}[_0x11ce6(0x13c)](){const _0xd6de11=_0x11ce6;this[_0xd6de11(0x455)]&&clearTimeout(this['debounceStats']),this[_0xd6de11(0x455)]=setTimeout(async()=>{const _0x2b7758=_0xd6de11;delete this[_0x2b7758(0x455)];const _0x548276=this['db']['getSize']();this['systemTopic']['publish']({'sourceId':_0x1f0abe,'messageType':_0x48fa30['Content'],'content':{'type':_0x18f1c1['GraphDatabaseStats'],'label':this[_0x2b7758(0x6e8)],'stats':{'timestamp':Date[_0x2b7758(0x3bd)](),'storage':_0x548276,'messagesSent':this[_0x2b7758(0x299)],'messagesReceived':this[_0x2b7758(0x219)],'bytesSent':this['bytesSent'],'bytesReceived':this['bytesReceived'],'writes':this['writes'],'reads':this[_0x2b7758(0x738)],'prompts':0x0,'tokens':0x0}}}),_0x5c02ff['logStorage'](_0x8fa077['GraphDatabase'],'ccc'+this[_0x2b7758(0xa18)]+_0x2b7758(0x1b7)+this[_0x2b7758(0x6e8)],_0x548276);},_0x59cbea);}}class _0x440b04 extends _0x55c761{[_0x11ce6(0x402)];constructor(_0x4696fe,_0x4c6b33,_0x1590cd){const _0x33ece2=_0x11ce6;super(_0x4696fe,_0x4c6b33),this[_0x33ece2(0x402)]=_0x1590cd;}['getContentType'](){const _0x3015bd=_0x11ce6;return _0x4aea4d[_0x3015bd(0x43d)]['Media'];}['getMediaStream'](){const _0x352bfa=_0x11ce6;return this[_0x352bfa(0x402)];}[_0x11ce6(0x98d)](){return this['mediaStream']['id'];}}class _0x220e07 extends _0x440b04{[_0x11ce6(0x682)];['params'];['topic'];[_0x11ce6(0x45d)]=_0x435863();constructor(_0x57632a,_0x25d251,_0x30809d,_0x5e4cb3,_0x100a3a){const _0x4e9d78=_0x11ce6;super(_0x57632a,_0x25d251,_0x30809d),this[_0x4e9d78(0x682)]=_0x5e4cb3,this[_0x4e9d78(0x479)]=_0x100a3a;}[_0x11ce6(0x4d6)](){const _0x56d610=_0x11ce6;this['removeTrack'](_0x56d610(0x309)),this[_0x56d610(0x80d)](_0x56d610(0x452)),super[_0x56d610(0x4d6)]();}['addTrack'](_0x1880c2){const _0x4f27ed=_0x11ce6;if(!this['topic'])throw new _0x490cf1(_0x490cf1[_0x4f27ed(0x9fb)][_0x4f27ed(0x924)],{'label':this['label'],'ownerId':this['owner'][_0x4f27ed(0x9d8)](),'remoteId':this['remoteId']});this[_0x4f27ed(0x1af)][_0x4f27ed(0xfa)]({'sourceId':this['owner'][_0x4f27ed(0x9d8)](),'content':{'action':_0x5208cb['Add'],'track':_0x1880c2,'stream':this[_0x4f27ed(0x402)],'priority':_0x4aea4d[_0x4f27ed(0x784)][_0x4f27ed(0x360)],'params':this[_0x4f27ed(0x79c)](_0x1880c2[_0x4f27ed(0x969)],this[_0x4f27ed(0x479)])}});}['removeTrack'](_0x499aa4){const _0x2e8038=_0x11ce6,_0x40d582=this['getTrack'](_0x499aa4);if(_0x40d582){if(!this[_0x2e8038(0x1af)])return null;this[_0x2e8038(0x1af)][_0x2e8038(0xfa)]({'sourceId':this[_0x2e8038(0x8fc)][_0x2e8038(0x9d8)](),'content':{'action':_0x5208cb[_0x2e8038(0x209)],'track':_0x40d582,'stream':this[_0x2e8038(0x402)]}});}return _0x40d582;}['setPriority'](_0x1bdfdd){const _0x1bc783=_0x11ce6;if(!this[_0x1bc783(0x1af)])throw new _0x490cf1(_0x490cf1[_0x1bc783(0x9fb)][_0x1bc783(0x924)],{'label':this['label'],'ownerId':this[_0x1bc783(0x8fc)]['getId'](),'remoteId':this[_0x1bc783(0x682)]});this[_0x1bc783(0x1af)][_0x1bc783(0xfa)]({'sourceId':this[_0x1bc783(0x8fc)][_0x1bc783(0x9d8)](),'content':{'action':_0x5208cb[_0x1bc783(0x976)],'priority':_0x1bdfdd,'stream':this[_0x1bc783(0x402)]}});}[_0x11ce6(0x85a)]({trackKinds:_0x4b07e2,params:_0x301d07},_0x31629d){const _0x2e91bf=_0x11ce6;if(!this[_0x2e91bf(0x1af)])throw new _0x490cf1(_0x490cf1[_0x2e91bf(0x9fb)][_0x2e91bf(0x924)],{'label':this['label'],'ownerId':this[_0x2e91bf(0x8fc)][_0x2e91bf(0x9d8)](),'remoteId':this[_0x2e91bf(0x682)]});for(const _0x311f08 of this[_0x2e91bf(0x402)][_0x2e91bf(0x42d)]())_0x4b07e2[_0x2e91bf(0x2a1)](_0x311f08[_0x2e91bf(0x969)])&&this[_0x2e91bf(0x1af)][_0x2e91bf(0xfa)]({'sourceId':this[_0x2e91bf(0x8fc)]['getId'](),'content':{'action':_0x5208cb[_0x2e91bf(0xa15)],'track':_0x311f08,'stream':this[_0x2e91bf(0x402)],'priority':_0x31629d,'params':this['getInternalTrackParams'](_0x311f08[_0x2e91bf(0x969)],_0x301d07)}});}['update']({params:_0x2fd071}){const _0x1a2328=_0x11ce6;if(!this[_0x1a2328(0x1af)])throw new _0x490cf1(_0x490cf1[_0x1a2328(0x9fb)][_0x1a2328(0x924)],{'label':this[_0x1a2328(0x6e8)],'ownerId':this[_0x1a2328(0x8fc)][_0x1a2328(0x9d8)](),'remoteId':this[_0x1a2328(0x682)]});for(const _0x3e6cee of this['mediaStream'][_0x1a2328(0x42d)]())this[_0x1a2328(0x1af)]['publish']({'sourceId':this[_0x1a2328(0x8fc)][_0x1a2328(0x9d8)](),'content':{'action':_0x5208cb['Update'],'stream':this[_0x1a2328(0x402)],'params':this[_0x1a2328(0x79c)](_0x3e6cee[_0x1a2328(0x969)],_0x2fd071)}});}[_0x11ce6(0x786)]({trackKinds:_0x4406ee}){const _0x5b394c=_0x11ce6;if(this[_0x5b394c(0x1af)]){for(const _0x5653e5 of this[_0x5b394c(0x402)]['getTracks']())_0x4406ee['includes'](_0x5653e5[_0x5b394c(0x969)])&&this[_0x5b394c(0x1af)][_0x5b394c(0xfa)]({'sourceId':this[_0x5b394c(0x8fc)]['getId'](),'content':{'action':_0x5208cb[_0x5b394c(0x209)],'stream':this[_0x5b394c(0x402)],'track':_0x5653e5}});}}[_0x11ce6(0x1b4)](_0x24eade){const _0x48a8d2=_0x11ce6;this[_0x48a8d2(0x1af)]=_0x24eade;}[_0x11ce6(0x6f9)](_0x411088){const _0x4f61f9=_0x11ce6;_0x411088===this['topic']&&(delete this['topic'],this['unregisterPublisherListener'][_0x4f61f9(0xfa)]());}['onUnregisterPublisher'](_0x49402e){const _0x244d9b=_0x11ce6;return this[_0x244d9b(0x45d)][_0x244d9b(0x85a)](_0x49402e);}['getTrack'](_0x27ad35){const _0x29cc0f=_0x11ce6;return this[_0x29cc0f(0x402)][_0x29cc0f(0x42d)]()[_0x29cc0f(0x957)](_0x2904ce=>_0x2904ce[_0x29cc0f(0x969)]===_0x27ad35)||null;}['getInternalTrackParams'](_0x18059d,_0x575fd2){const _0x364d92=_0x11ce6;let _0x139295;return _0x364d92(0x452)===_0x18059d&&_0x575fd2?.['video']&&_0x364d92(0x28e)!=typeof _0x575fd2[_0x364d92(0x452)]&&(_0x139295={'kind':_0x364d92(0x452),..._0x575fd2[_0x364d92(0x452)]},_0x139295['resolution']=this[_0x364d92(0x5b1)]()),_0x364d92(0x309)===_0x18059d&&_0x575fd2?.[_0x364d92(0x309)]&&_0x364d92(0x28e)!=typeof _0x575fd2[_0x364d92(0x309)]&&(_0x139295={'kind':_0x364d92(0x309),..._0x575fd2[_0x364d92(0x309)]}),_0x139295;}[_0x11ce6(0x5b1)](){const _0x782174=_0x11ce6;let _0x3f23c8={'width':0x0,'height':0x0};const _0x365c38=this[_0x782174(0x402)]['getVideoTracks']();if(_0x365c38[_0x782174(0x7ad)]>0x0){const _0x450018=_0x365c38[0x0][_0x782174(0x8e8)]();_0x450018['width']&&_0x450018[_0x782174(0x6d3)]&&(_0x3f23c8={'width':_0x450018['width'],'height':_0x450018[_0x782174(0x6d3)]});}return _0x3f23c8;}}class _0x4323f2 extends _0x440b04{['clusterId'];[_0x11ce6(0xca)]=_0x4aea4d[_0x11ce6(0x784)][_0x11ce6(0x360)];['trackEndedListeners']=new Map();[_0x11ce6(0x7ce)]=new Map();constructor(_0x57767d,_0x25c2cf,_0xe7a0bd,_0x3043d1){const _0x1f0498=_0x11ce6;super(_0x57767d,_0x25c2cf,_0xe7a0bd instanceof MediaStream?_0xe7a0bd:_0xe7a0bd[_0x1f0498(0x8b6)]?_0xe7a0bd['srcObject']:_0xe7a0bd['captureStream']()),this[_0x1f0498(0xa18)]=_0x3043d1,this['mediaStream'][_0x1f0498(0x42d)]()['forEach'](_0x349076=>this['setupTrackEndedListeners'](_0x349076)),_0x5c02ff[_0x1f0498(0x253)](_0x8fa077[_0x1f0498(0x545)],{'type':_0x1f0498(0xfa),'label':this['label'],'nodeId':this[_0x1f0498(0x8fc)][_0x1f0498(0x9d8)](),'nodeType':this[_0x1f0498(0x8fc)]['type'],'clusterId':this[_0x1f0498(0xa18)],'streamId':this[_0x1f0498(0x98d)](),'trackKinds':this[_0x1f0498(0x402)]['getTracks']()[_0x1f0498(0x99c)](_0x531520=>_0x531520[_0x1f0498(0x969)])});}[_0x11ce6(0x4d6)](){const _0x3fb083=_0x11ce6;this['outgoingStreams'][_0x3fb083(0x84c)]>0x0&&(this['outgoingStreams'][_0x3fb083(0x7a1)](_0x10c4ab=>{const _0x56b0ef=_0x3fb083;_0x10c4ab[_0x56b0ef(0x5c1)](),_0x10c4ab['destroy']();}),this[_0x3fb083(0x7ce)][_0x3fb083(0x918)]()),this['trackEndedListeners']['forEach'](_0x47ccd4=>_0x47ccd4()),super[_0x3fb083(0x4d6)]();}[_0x11ce6(0xfa)](_0x2dbaf4){const _0x150d9d=_0x11ce6;this[_0x150d9d(0x1ad)]['publish']({'sourceId':this[_0x150d9d(0x8fc)][_0x150d9d(0x9d8)](),'destinationIds':_0x2dbaf4?[_0x2dbaf4]:void 0x0,'propagate':!0x0,'messageType':_0x48fa30[_0x150d9d(0x575)],'content':{'type':_0x18f1c1[_0x150d9d(0x9c5)],'ownerId':this[_0x150d9d(0x8fc)][_0x150d9d(0x9d8)](),'label':this[_0x150d9d(0x6e8)],'stream':{'streamId':this[_0x150d9d(0x98d)](),'availableTrackKinds':this['mediaStream'][_0x150d9d(0x42d)]()[_0x150d9d(0x99c)](_0x4e1375=>_0x4e1375[_0x150d9d(0x969)])}}});}[_0x11ce6(0x5ce)](){const _0x2b0694=_0x11ce6;this['systemTopic']['publish']({'sourceId':this[_0x2b0694(0x8fc)][_0x2b0694(0x9d8)](),'propagate':!0x0,'messageType':_0x48fa30[_0x2b0694(0x575)],'content':{'type':_0x18f1c1[_0x2b0694(0x753)],'ownerId':this['owner'][_0x2b0694(0x9d8)](),'label':this[_0x2b0694(0x6e8)]}}),this[_0x2b0694(0x1ad)][_0x2b0694(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x2b0694(0x575)],'content':{'type':_0x18f1c1[_0x2b0694(0x526)],'label':this['label']}}),_0x5c02ff[_0x2b0694(0x253)](_0x8fa077[_0x2b0694(0x545)],{'type':_0x2b0694(0x5ce),'label':this[_0x2b0694(0x6e8)],'nodeId':this[_0x2b0694(0x8fc)][_0x2b0694(0x9d8)](),'nodeType':this[_0x2b0694(0x8fc)]['type'],'clusterId':this[_0x2b0694(0xa18)],'streamId':this[_0x2b0694(0x98d)]()});}[_0x11ce6(0x99e)](){const _0x21c54d=_0x11ce6;return this[_0x21c54d(0xca)];}['setPriority'](_0x2369a7){const _0x144a47=_0x11ce6;this['priority']=_0x2369a7,this[_0x144a47(0x7ce)][_0x144a47(0x7a1)](_0x1faebe=>_0x1faebe[_0x144a47(0x91e)](_0x2369a7));}['getShareableStream'](_0x3a4a94,_0x746efb){const _0x871e57=_0x11ce6;if(!this[_0x871e57(0x7ce)][_0x871e57(0x297)](_0x3a4a94)){const _0x1e6027=new _0x220e07(this['owner'],this[_0x871e57(0x6e8)],this[_0x871e57(0x402)],_0x3a4a94,_0x746efb),_0x5d0b0b=_0x1e6027[_0x871e57(0x705)](()=>{const _0x7ddb19=_0x871e57;_0x5d0b0b(),this[_0x7ddb19(0x7ce)][_0x7ddb19(0x3f2)](_0x3a4a94)?.[_0x7ddb19(0x4d6)](),this[_0x7ddb19(0x7ce)][_0x7ddb19(0x3a9)](_0x3a4a94);});this[_0x871e57(0x7ce)]['set'](_0x3a4a94,_0x1e6027),_0x1e6027[_0x871e57(0xcc)](this['systemTopic']);}return this[_0x871e57(0x7ce)]['get'](_0x3a4a94);}['getShareableStreamId'](){return this['mediaStream']['id'];}['handleLocalTrackFailure'](_0x52a504){const _0x35ec2c=_0x11ce6;this[_0x35ec2c(0x1ad)]['publish']({'sourceId':_0x1f0abe,'messageType':_0x48fa30['Content'],'content':{'type':_0x18f1c1['LocalMediaStreamTrackFail'],'label':this['label'],'trackKinds':[_0x52a504['kind']]}});}['setupTrackEndedListeners'](_0x464acf){const _0x532010=_0x11ce6,_0x265b4d=()=>this['handleLocalTrackFailure'](_0x464acf);_0x464acf[_0x532010(0x650)]('ended',_0x265b4d),_0x464acf[_0x532010(0x650)](_0x532010(0x6cd),_0x265b4d),this[_0x532010(0x9ed)][_0x532010(0x323)](_0x464acf['kind'],()=>{const _0xa85718=_0x532010;_0x464acf['removeEventListener']('ended',_0x265b4d),_0x464acf[_0xa85718(0x40b)](_0xa85718(0x6cd),_0x265b4d),this[_0xa85718(0x9ed)]['delete'](_0x464acf['kind']);});}}class _0x193340 extends _0x4323f2{[_0x11ce6(0x84d)];[_0x11ce6(0x66f)]=[];[_0x11ce6(0x1ff)];[_0x11ce6(0x8d1)];['audioDestination'];[_0x11ce6(0x6fc)];[_0x11ce6(0x6bc)];[_0x11ce6(0x376)];[_0x11ce6(0x3da)];constructor(_0x57c539,_0xb30f0d,_0x160a55,_0x1e1608,_0x30ade1,_0x1119fc){const _0x175e38=_0x11ce6;if(super(_0x57c539,_0xb30f0d,_0x160a55,_0x1119fc),this[_0x175e38(0x84d)]=_0x30ade1,this[_0x175e38(0x1ff)]=this['mediaStream'],this['sourceVideo']=document[_0x175e38(0x69e)](_0x175e38(0x452)),this[_0x175e38(0x6fc)]['autoplay']=!0x0,this[_0x175e38(0x6fc)]['muted']=!0x0,this[_0x175e38(0x6fc)][_0x175e38(0x8b6)]=this['clientStream'],this['sourceVideo']['load'](),this[_0x175e38(0x6fc)][_0x175e38(0x6f7)]=()=>{const _0x44c14f=_0x175e38;this['sourceVideo'][_0x44c14f(0x75a)]();},this[_0x175e38(0x6bc)]=document[_0x175e38(0x69e)](_0x175e38(0x6bc)),this['context']=this[_0x175e38(0x6bc)]['getContext']('2d'),this[_0x175e38(0x402)]=this[_0x175e38(0x6bc)][_0x175e38(0x560)](_0x1e1608),this['audioDestination']=this[_0x175e38(0x84d)]['createMediaStreamDestination'](),this[_0x175e38(0x1ff)][_0x175e38(0x26f)]()[_0x175e38(0x7ad)]>0x0){const _0x438304=this[_0x175e38(0x1ff)][_0x175e38(0x26f)]()[0x0];this[_0x175e38(0x8d1)]=this[_0x175e38(0x84d)][_0x175e38(0x296)](new MediaStream([_0x438304])),this[_0x175e38(0x8d1)][_0x175e38(0x90e)](this['audioDestination']);}const _0x12c8e2=this[_0x175e38(0x2dd)][_0x175e38(0x855)][_0x175e38(0x42d)]()[0x0];this[_0x175e38(0x402)][_0x175e38(0x4c0)](_0x12c8e2),this[_0x175e38(0x3da)]=setInterval(()=>{const _0x1cacfd=_0x175e38;this[_0x1cacfd(0x6bc)]['width']=this[_0x1cacfd(0x6fc)]['videoWidth'],this[_0x1cacfd(0x6bc)]['height']=this['sourceVideo'][_0x1cacfd(0x5df)],this[_0x1cacfd(0x6fc)][_0x1cacfd(0x247)]?(0x0!==this['clientStream'][_0x1cacfd(0x401)]()[_0x1cacfd(0x7ad)]&&this[_0x1cacfd(0x1ff)][_0x1cacfd(0x401)]()[0x0]['enabled']?this[_0x1cacfd(0x402)][_0x1cacfd(0x401)]()[0x0][_0x1cacfd(0x45e)]=!0x0:this[_0x1cacfd(0x402)]['getVideoTracks']()[0x0][_0x1cacfd(0x45e)]=!0x1,0x0!==this[_0x1cacfd(0x1ff)]['getAudioTracks']()[_0x1cacfd(0x7ad)]&&this[_0x1cacfd(0x1ff)][_0x1cacfd(0x26f)]()[0x0][_0x1cacfd(0x45e)]?this['mediaStream']['getAudioTracks']()[0x0][_0x1cacfd(0x45e)]=!0x0:this[_0x1cacfd(0x402)][_0x1cacfd(0x26f)]()[0x0][_0x1cacfd(0x45e)]=!0x1,this[_0x1cacfd(0x376)][_0x1cacfd(0x81d)](this[_0x1cacfd(0x6fc)],0x0,0x0)):this[_0x1cacfd(0x376)][_0x1cacfd(0x525)](0x0,0x0,this[_0x1cacfd(0x6bc)][_0x1cacfd(0x706)],this[_0x1cacfd(0x6bc)][_0x1cacfd(0x6d3)]);},0x3e8/_0x1e1608);}['destroy'](){const _0x456cc5=_0x11ce6;clearInterval(this[_0x456cc5(0x3da)]),this[_0x456cc5(0x6fc)][_0x456cc5(0x3e3)](),this[_0x456cc5(0x6bc)][_0x456cc5(0x3e3)](),this[_0x456cc5(0x8d1)]?.[_0x456cc5(0x17d)](),this[_0x456cc5(0x2dd)]['disconnect'](),this[_0x456cc5(0x402)][_0x456cc5(0x42d)]()[_0x456cc5(0x7a1)](_0x162ee8=>{const _0x346702=_0x456cc5;_0x162ee8['stop'](),this[_0x346702(0x402)][_0x346702(0x80d)](_0x162ee8);}),super[_0x456cc5(0x4d6)]();}[_0x11ce6(0x4c0)](_0x439654){const _0x2065de=_0x11ce6,_0x1c5582=this[_0x2065de(0xa14)](_0x439654[_0x2065de(0x969)]);_0x1c5582&&this[_0x2065de(0x80d)](_0x1c5582),_0x2065de(0x309)!==_0x439654[_0x2065de(0x969)]?('video'===_0x439654[_0x2065de(0x969)]&&this[_0x2065de(0x581)](_0x439654),this[_0x2065de(0x4dc)](_0x439654)):this[_0x2065de(0x3a0)](_0x439654);}[_0x11ce6(0x80d)](_0x389cb3){const _0x4a54ac=_0x11ce6,_0x2e2da8=this[_0x4a54ac(0x3b7)](_0x389cb3);return _0x2e2da8&&('audio'===_0x2e2da8[_0x4a54ac(0x969)]&&(this[_0x4a54ac(0x8d1)]?.[_0x4a54ac(0x17d)](),this[_0x4a54ac(0x8d1)]=void 0x0),this[_0x4a54ac(0x9ed)]['get'](_0x2e2da8['kind'])?.(),this['clientStream'][_0x4a54ac(0x80d)](_0x2e2da8)),_0x2e2da8;}[_0x11ce6(0x3a3)](_0x3a832f){const _0x2c2d75=_0x11ce6;this[_0x2c2d75(0x80d)](_0x3a832f[_0x2c2d75(0x969)]),this[_0x2c2d75(0x4c0)](_0x3a832f);}[_0x11ce6(0x1f4)](_0x19e5f7){const _0x58695c=_0x11ce6;this[_0x58695c(0x66f)]=_0x19e5f7;}[_0x11ce6(0xa14)](_0x4a2bb7){const _0x2cf008=_0x11ce6;return this[_0x2cf008(0x1ff)][_0x2cf008(0x42d)]()[_0x2cf008(0x957)](_0xbec038=>_0xbec038[_0x2cf008(0x969)]===_0x4a2bb7)||null;}[_0x11ce6(0x3b7)](_0x1eeb6b){const _0x1586bd=_0x11ce6;return _0x1586bd(0x9cc)==typeof _0x1eeb6b?this['getTrack'](_0x1eeb6b):_0x1eeb6b;}[_0x11ce6(0x3a0)](_0x425ce5){const _0x44a261=_0x11ce6;_0x44a261(0x9b3)===this['audioContext']['state']&&this[_0x44a261(0x84d)][_0x44a261(0x4fa)](),this[_0x44a261(0x1ff)][_0x44a261(0x4c0)](_0x425ce5),this[_0x44a261(0x8d1)]=this[_0x44a261(0x84d)][_0x44a261(0x296)](this[_0x44a261(0x1ff)]),this[_0x44a261(0x8d1)]['connect'](this[_0x44a261(0x2dd)]);}[_0x11ce6(0x581)](_0x427d7c){const _0x2ee76d=_0x11ce6;this[_0x2ee76d(0x1ff)][_0x2ee76d(0x4c0)](_0x427d7c),this[_0x2ee76d(0x6fc)][_0x2ee76d(0x743)]();}}class _0x455d7b extends _0x4323f2{}class _0x418fa5 extends _0x468001{[_0x11ce6(0xd3)];[_0x11ce6(0xa18)];[_0x11ce6(0x391)];[_0x11ce6(0x493)];['waitForArrayBufferSize'];[_0x11ce6(0x809)];[_0x11ce6(0x68d)];[_0x11ce6(0x7c6)];['pendingSyncTransactions']=new Map();[_0x11ce6(0x723)]=new Map();[_0x11ce6(0x271)]=new Map();['pendingFilesTransactions']=new Map();[_0x11ce6(0x183)]=new Map();[_0x11ce6(0xa12)]=new Map();[_0x11ce6(0x3af)];[_0x11ce6(0x14a)]=_0x4332ba();[_0x11ce6(0x1a2)]=new Map();['debounceStats'];[_0x11ce6(0x783)]=0x0;[_0x11ce6(0x738)]=0x0;[_0x11ce6(0x15c)]=!0x0;[_0x11ce6(0x9b5)]=!0x0;[_0x11ce6(0x11a)]=0x0;[_0x11ce6(0x2cf)]=0x0;constructor(_0x318c4d,_0x1c03a3,_0xe29b66,_0x5d92ed,_0xddcf3f,_0x21e175,_0x4070f8,_0x2f8f3d){const _0x174805=_0x11ce6;if(_0x174805(0x9cc)!=typeof _0x1c03a3)throw new _0x39299d(_0x1ffca6[_0x174805(0x9c9)],_0x174805(0x600));super(_0x318c4d,_0x1c03a3),this[_0x174805(0xd3)]=_0x318c4d,this[_0x174805(0xa18)]=_0xe29b66,this[_0x174805(0x391)]=_0x5d92ed,this[_0x174805(0x493)]=_0xddcf3f,this['waitForArrayBufferSize']=_0x4070f8,this[_0x174805(0x809)]=_0x2f8f3d;const _0x140287=_0x174805(0x1b7)+this[_0x174805(0x391)]+_0x174805(0x1b7)+this[_0x174805(0xa18)]+_0x174805(0x1b7)+_0x1c03a3;this[_0x174805(0x3af)]=new _0x21e175(_0x140287),this[_0x174805(0x15c)]=this[_0x174805(0x809)]?.[_0x174805(0x15c)]??!0x0,this[_0x174805(0x809)]?.[_0x174805(0x5ee)]&&(this[_0x174805(0x15c)]=!0x1),this[_0x174805(0x13c)]();}[_0x11ce6(0x7e8)](){const _0x1d7820=_0x11ce6;this[_0x1d7820(0x13c)]();}['getContentType'](){const _0x285d64=_0x11ce6;return _0x4aea4d[_0x285d64(0x43d)][_0x285d64(0x968)];}async['sync'](){const _0x42c4af=_0x11ce6;this['isSyncing']=!0x0;try{const _0x38ec31=await this[_0x42c4af(0x3af)][_0x42c4af(0x3f2)](_0x5f1f38),_0x40961e=await _0x38ec31[_0x42c4af(0x896)]();this[_0x42c4af(0x7c6)]=_0x40961e;}catch(_0xcf6a5e){}this[_0x42c4af(0x68d)]=this[_0x42c4af(0xc1)](async(_0x18665a,_0x3ae038)=>{const _0x44175a=_0x42c4af;if(!(_0x3ae038 instanceof File))try{if(_0x3ae038[_0x44175a(0x89a)]===_0x3b214b[_0x44175a(0x641)])return void this[_0x44175a(0x16e)](_0x3ae038);this[_0x44175a(0x287)](_0x3ae038);}catch(_0x2d4b85){if(_0x2d4b85 instanceof _0x490cf1)throw _0x2d4b85;throw new _0x490cf1(_0x490cf1[_0x44175a(0x9fb)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x3ae038});}}),await this['syncTransactions'](),this['syncContent']?await this[_0x42c4af(0x67f)]():this[_0x42c4af(0x2f8)](),this[_0x42c4af(0x13c)]();}['destroy'](){const _0x253a38=_0x11ce6;this['unsubscribeHandler']?.(),this['listenerUnsubscribers'][_0x253a38(0x7a1)](_0x2dd755=>_0x2dd755()),this['listenerUnsubscribers']['clear'](),clearTimeout(this['debounceStats']),delete this['debounceStats'],super['destroy']();}[_0x11ce6(0x17e)](){const _0x1bfa73=_0x11ce6;this[_0x1bfa73(0x1ad)]?.['publish']({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x1bfa73(0x575)],'content':{'type':_0x18f1c1['CloseObjectStoreBucket'],'label':this[_0x1bfa73(0x6e8)]}});}[_0x11ce6(0x85a)](_0x3f51fd,_0x303e18){const _0x539ae3=_0x11ce6;if(this[_0x539ae3(0x1a2)][_0x539ae3(0x297)](_0x3f51fd))throw new _0x39299d(_0x1ffca6[_0x539ae3(0x22d)],_0x539ae3(0x74d));this[_0x539ae3(0x1a2)]['set'](_0x3f51fd,this[_0x539ae3(0x14a)][_0x539ae3(0x85a)](_0x303e18)),this['isSyncing']||this[_0x539ae3(0x14a)][_0x539ae3(0xfa)]({'event':_0x4aea4d[_0x539ae3(0x704)][_0x539ae3(0x709)],'payload':{'filesSynced':this[_0x539ae3(0x11a)]}});}[_0x11ce6(0x786)](_0x560144){const _0x411b35=_0x11ce6;this[_0x411b35(0x1a2)][_0x411b35(0x3f2)](_0x560144)?.(),this[_0x411b35(0x1a2)][_0x411b35(0x3a9)](_0x560144);}[_0x11ce6(0xfa)](_0x296a1e){const _0x2b0834=_0x11ce6;switch(_0x296a1e[_0x2b0834(0x28d)]){case _0x4aea4d[_0x2b0834(0x4fe)]['File']:return this[_0x2b0834(0x510)](_0x296a1e[_0x2b0834(0x935)],_0x296a1e[_0x2b0834(0x83e)],_0x296a1e['options']);case _0x4aea4d[_0x2b0834(0x4fe)]['Folder']:return this[_0x2b0834(0x834)](_0x296a1e[_0x2b0834(0x83e)]);case _0x4aea4d[_0x2b0834(0x4fe)]['Move']:return this[_0x2b0834(0x1fd)](_0x296a1e['path'],_0x296a1e[_0x2b0834(0x1f3)]);default:throw new _0x39299d(_0x1ffca6[_0x2b0834(0x7d8)],_0x2b0834(0x1d6)+_0x296a1e);}}async[_0x11ce6(0x5ce)](_0xd140e6){const _0x29e7f0=_0x11ce6;try{const _0x253f41=(0x0,_0x5afa59['v4'])(),_0x28d295=this['lastTransactionId'],_0x11191c={'payloadType':_0x3b214b[_0x29e7f0(0x64c)],'action':_0x561700[_0x29e7f0(0x1e9)],'id':_0x253f41,'parentId':_0x28d295,'path':_0xd140e6};await this[_0x29e7f0(0x8a2)](_0x11191c);const _0x3b05ea=await this[_0x29e7f0(0xa0f)](_0xd140e6);!0x0!==this[_0x29e7f0(0x809)]?.[_0x29e7f0(0x5ee)]&&await this[_0x29e7f0(0x41d)](_0x11191c),_0x5c02ff[_0x29e7f0(0x253)](_0x8fa077[_0x29e7f0(0x475)],{'type':_0x29e7f0(0x5ce),'label':this[_0x29e7f0(0x6e8)],'nodeId':this[_0x29e7f0(0xd3)]['getId'](),'nodeType':this['localNode']['type'],'clusterId':this[_0x29e7f0(0xa18)],'kind':_0x3b05ea,'path':_0xd140e6}),this['writes']+=0x1,this['sendStats']();}catch(_0x155bc6){if(_0x155bc6 instanceof _0x490cf1)throw new _0x39299d(_0x1ffca6[_0x29e7f0(0x56a)],_0x29e7f0(0x9f4)+_0xd140e6+_0x29e7f0(0x274));throw new _0x39299d(_0x1ffca6[_0x29e7f0(0x92f)],_0x29e7f0(0x53a)+_0xd140e6);}}async[_0x11ce6(0x3f2)](_0x56346d,_0x355f16){const _0x3dd2e2=_0x11ce6;_0x5c02ff[_0x3dd2e2(0x253)](_0x8fa077[_0x3dd2e2(0x475)],{'type':_0x3dd2e2(0x3f2),'label':this[_0x3dd2e2(0x6e8)],'nodeId':this['localNode'][_0x3dd2e2(0x9d8)](),'nodeType':this[_0x3dd2e2(0xd3)][_0x3dd2e2(0x789)],'clusterId':this[_0x3dd2e2(0xa18)],'path':_0x56346d}),this['reads']+=0x1,this['sendStats']();try{return await this[_0x3dd2e2(0x3af)][_0x3dd2e2(0x3f2)](_0x56346d,_0x355f16);}catch(_0x572ffe){try{await this['objectStoreConnector'][_0x3dd2e2(0x3f2)](_0x56346d+_0x48ba9a);}catch(_0x41af5a){throw new _0x39299d(_0x1ffca6['ObjectStoreInvalidPath'],_0x3dd2e2(0x9a1)+_0x56346d);}throw new _0x39299d(_0x1ffca6[_0x3dd2e2(0x56a)],_0x3dd2e2(0x137));}}async[_0x11ce6(0x138)](_0x2f0d28,_0x387d45){const _0x438580=_0x11ce6,{recursive:_0x7505e1=!0x1,includeSyncingFiles:_0x10dacd=!0x1}=_0x387d45??{};_0x5c02ff['logServiceEvent'](_0x8fa077['ObjectStorage'],{'type':'list','label':this[_0x438580(0x6e8)],'nodeId':this['localNode'][_0x438580(0x9d8)](),'nodeType':this[_0x438580(0xd3)][_0x438580(0x789)],'clusterId':this['clusterId'],'path':_0x2f0d28}),this[_0x438580(0x738)]+=0x1,this[_0x438580(0x13c)]();try{const _0x42a028=await this['objectStoreConnector'][_0x438580(0x138)](_0x2f0d28,_0x7505e1);return this[_0x438580(0x3cd)](_0x42a028,{'recursive':_0x7505e1,'includeSyncingFiles':_0x10dacd});}catch(_0x225d98){throw new _0x39299d(_0x1ffca6[_0x438580(0x92f)],'Cannot\x20list\x20directory:\x20'+_0x2f0d28);}}['handleNodeJoin'](_0xd53d6a){const _0x254a87=_0x11ce6;this['nodesConnected']+=0x1;for(const _0x269329 of this[_0x254a87(0x723)][_0x254a87(0x8ea)]())this[_0x254a87(0x41d)](_0x269329,[_0xd53d6a]);}[_0x11ce6(0x54e)](_0x124a86){const _0x15394c=_0x11ce6;this[_0x15394c(0x2cf)]-=0x1;const _0x1dec4e=this[_0x15394c(0x271)][_0x15394c(0x3f2)](_0x124a86);if(_0x1dec4e){for(const [_0x129959,_0xe136c5]of _0x1dec4e['values']())this[_0x15394c(0x2fc)](_0x129959,_0xe136c5);this[_0x15394c(0x271)][_0x15394c(0x3a9)](_0x124a86);}}async[_0x11ce6(0x20a)](_0x99633c='/'){const _0x30fd84=_0x11ce6;try{return await this['objectStoreConnector']['calculateSize'](_0x99633c);}catch(_0x275661){if(_0x275661 instanceof Error&&_0x275661[_0x30fd84(0x686)][_0x30fd84(0x2a1)](_0x30fd84(0x21a)))return 0x0;throw new _0x39299d(_0x1ffca6[_0x30fd84(0x92f)],_0x30fd84(0x2c1)+_0x99633c);}}[_0x11ce6(0x2f8)](){const _0x3cd1e8=_0x11ce6;this[_0x3cd1e8(0x9b5)]&&(this['isSyncing']=!0x1,this[_0x3cd1e8(0x14a)][_0x3cd1e8(0xfa)]({'event':_0x4aea4d['StorageEventType'][_0x3cd1e8(0x709)],'payload':{'filesSynced':this['filesSynced']}}));}async[_0x11ce6(0x3cd)](_0x2798dd,{includeSyncingFiles:_0x522cf5=!0x1}){const _0x1a2406=_0x11ce6,_0x2ffe4b=[];for(const _0x2ca917 of _0x2798dd)if(_0x2ca917[_0x1a2406(0x969)]!==_0x4aea4d[_0x1a2406(0x98c)][_0x1a2406(0x507)]){if(_0x2ca917[_0x1a2406(0x768)]!==_0x5f1f38){if(_0x2ca917[_0x1a2406(0x768)][_0x1a2406(0x301)](_0x48ba9a)){if(!_0x522cf5)continue;const _0x145fd1=_0x2ca917;if(_0x145fd1[_0x1a2406(0x768)]=_0x145fd1[_0x1a2406(0x768)][_0x1a2406(0x7b8)](_0x48ba9a,''),_0x145fd1[_0x1a2406(0xa02)]=_0x145fd1[_0x1a2406(0xa02)][_0x1a2406(0x7b8)](_0x48ba9a,''),await this[_0x1a2406(0x364)](_0x145fd1[_0x1a2406(0xa02)])){_0x2798dd['find'](_0x5093d6=>_0x5093d6['pathName']===_0x145fd1[_0x1a2406(0xa02)])[_0x1a2406(0x373)]=_0x4aea4d[_0x1a2406(0x5a6)][_0x1a2406(0x707)];continue;}_0x145fd1[_0x1a2406(0x373)]=_0x4aea4d['FileStatus'][_0x1a2406(0x823)];}_0x2ffe4b[_0x1a2406(0x7bc)](_0x2ca917);}}else _0x2ca917[_0x1a2406(0x91c)]=await this[_0x1a2406(0x3cd)](_0x2ca917['entries']??[],{'includeSyncingFiles':_0x522cf5}),_0x2ffe4b[_0x1a2406(0x7bc)](_0x2ca917);return _0x2ffe4b;}async[_0x11ce6(0x510)](_0xeee234,_0x5afe74,_0x3d633f){const _0x68c380=_0x11ce6;try{const _0x3813dd=(0x0,_0x5afa59['v4'])(),_0x1c5733=await _0x30cad3(_0xeee234),_0x15cd3e=_0x35455f(_0x5afe74??'/',_0xeee234[_0x68c380(0x768)]);let _0x469d92=!0x0;const _0x4ec430={'payloadType':_0x3b214b[_0x68c380(0x64c)],'action':_0x561700[_0x68c380(0x97f)],'id':_0x3813dd,'parentId':this[_0x68c380(0x7c6)],'answererId':this[_0x68c380(0xd3)][_0x68c380(0x9d8)](),'name':_0xeee234[_0x68c380(0x768)],'type':_0xeee234['type'],'path':_0x5afe74??'/','skipEncryption':_0x3d633f?.['skipEncryption']??!0x1,'checksum':_0x1c5733};try{if(!_0x3d633f?.[_0x68c380(0x31c)])throw new Error(_0x68c380(0x354));const _0x1c127b=_0x15cd3e+_0x48ba9a;await this[_0x68c380(0x3af)][_0x68c380(0x3f2)](_0x1c127b),_0x469d92=!0x1,await this[_0x68c380(0x3af)][_0x68c380(0xa0f)](_0x1c127b),this[_0x68c380(0x723)][_0x68c380(0x3a9)](_0x15cd3e);}catch(_0x2b1f28){await this[_0x68c380(0x8a2)](_0x4ec430);}if(this[_0x68c380(0x15c)]||this[_0x68c380(0x809)]?.['standalone']?await this[_0x68c380(0x8b0)](_0xeee234,_0x5afe74,_0x3d633f):await this['createPendingFileWrite'](_0xeee234[_0x68c380(0x768)],_0x5afe74??'/',{'checksum':_0x1c5733,'skipEncryption':_0x3d633f?.[_0x68c380(0x359)]??!0x1}),this[_0x68c380(0xa12)][_0x68c380(0x297)](_0x15cd3e)){const [_0x494160,_0x359db7]=this[_0x68c380(0xa12)][_0x68c380(0x3f2)](_0x15cd3e);this[_0x68c380(0xa12)][_0x68c380(0x323)](_0x15cd3e,[!0x0,_0x359db7]);try{await _0x359db7;}catch(_0x5172b6){}this[_0x68c380(0xa12)][_0x68c380(0x3a9)](_0x15cd3e);}_0x469d92&&this['nodesConnected']>0x0&&!0x0!==this['options']?.[_0x68c380(0x5ee)]&&await this['sendFile'](_0xeee234,_0x4ec430),_0x5c02ff[_0x68c380(0x253)](_0x8fa077[_0x68c380(0x475)],{'type':'publish','label':this[_0x68c380(0x6e8)],'nodeId':this[_0x68c380(0xd3)][_0x68c380(0x9d8)](),'nodeType':this[_0x68c380(0xd3)][_0x68c380(0x789)],'clusterId':this[_0x68c380(0xa18)],'kind':_0x4aea4d[_0x68c380(0x98c)][_0x68c380(0x6b2)],'path':_0x5afe74,'fileName':_0xeee234[_0x68c380(0x768)],'fileType':_0xeee234[_0x68c380(0x789)],'size':_0xeee234[_0x68c380(0x84c)]}),this[_0x68c380(0x783)]+=0x1,this[_0x68c380(0x13c)]();}catch(_0x21a405){if(_0x21a405 instanceof _0x490cf1)throw new _0x39299d(_0x1ffca6[_0x68c380(0x56a)],_0x68c380(0x137));throw new _0x39299d(_0x1ffca6[_0x68c380(0x92f)],_0x68c380(0x717)+_0x5afe74+(_0x5afe74?.['endsWith']('/')?'':'/')+_0xeee234[_0x68c380(0x768)]);}}async[_0x11ce6(0x834)](_0x66a579){const _0xf18866=_0x11ce6;try{const _0x58a9=(0x0,_0x5afa59['v4'])(),_0x57040e=this[_0xf18866(0x7c6)],_0x2b2fe7={'payloadType':_0x3b214b[_0xf18866(0x64c)],'action':_0x561700[_0xf18866(0x5cc)],'id':_0x58a9,'parentId':_0x57040e,'path':_0x66a579};await this[_0xf18866(0x8a2)](_0x2b2fe7),await this[_0xf18866(0x3af)]['createFolder'](_0x66a579),!0x0!==this[_0xf18866(0x809)]?.['standalone']&&await this['send'](_0x2b2fe7),_0x5c02ff[_0xf18866(0x253)](_0x8fa077[_0xf18866(0x475)],{'type':_0xf18866(0xfa),'label':this['label'],'nodeId':this['localNode'][_0xf18866(0x9d8)](),'nodeType':this[_0xf18866(0xd3)][_0xf18866(0x789)],'clusterId':this['clusterId'],'kind':_0x4aea4d[_0xf18866(0x98c)]['Folder'],'path':_0x66a579}),this[_0xf18866(0x783)]+=0x1,this[_0xf18866(0x13c)]();}catch(_0x6e1b43){if(_0x6e1b43 instanceof _0x490cf1)throw new _0x39299d(_0x1ffca6[_0xf18866(0x56a)],_0xf18866(0x137));throw new _0x39299d(_0x1ffca6[_0xf18866(0x92f)],_0xf18866(0x5e7)+_0x66a579);}}async[_0x11ce6(0x1fd)](_0x1fa20e,_0x1a61b9){const _0x17571b=_0x11ce6;try{const _0x50eff4=(0x0,_0x5afa59['v4'])(),_0x5c3288=this[_0x17571b(0x7c6)],_0x15c15f={'payloadType':_0x3b214b[_0x17571b(0x64c)],'action':_0x561700['Move'],'id':_0x50eff4,'parentId':_0x5c3288,'path':_0x1fa20e,'newPath':_0x1a61b9};await this[_0x17571b(0x8a2)](_0x15c15f);const _0x44ddd1=await this[_0x17571b(0x2b9)](_0x1fa20e,_0x1a61b9);!0x0!==this[_0x17571b(0x809)]?.[_0x17571b(0x5ee)]&&await this[_0x17571b(0x41d)](_0x15c15f),_0x5c02ff['logServiceEvent'](_0x8fa077[_0x17571b(0x475)],{'type':'move','label':this[_0x17571b(0x6e8)],'nodeId':this[_0x17571b(0xd3)][_0x17571b(0x9d8)](),'nodeType':this[_0x17571b(0xd3)][_0x17571b(0x789)],'clusterId':this['clusterId'],'kind':_0x44ddd1,'path':_0x1fa20e,'newPath':_0x1a61b9}),this[_0x17571b(0x783)]+=0x1,this[_0x17571b(0x13c)]();}catch(_0x12659d){if(_0x12659d instanceof _0x490cf1)throw new _0x39299d(_0x1ffca6['ObjectStoreNotInSync'],_0x17571b(0x137));throw new _0x39299d(_0x1ffca6[_0x17571b(0x92f)],'Cannot\x20publish\x20move\x20operation:\x20'+_0x1fa20e);}}async[_0x11ce6(0x287)](_0x1f3e87,_0x4f4f9a=!0x1){const _0x793180=_0x11ce6;if(this[_0x793180(0x7c6)]&&_0x1f3e87[_0x793180(0x2a3)]!==this[_0x793180(0x7c6)]&&_0x1f3e87['id']!==this[_0x793180(0x7c6)]){if(!_0x1f3e87[_0x793180(0x2a3)])throw new _0x490cf1(_0x490cf1[_0x793180(0x9fb)][_0x793180(0x25b)]);this[_0x793180(0x5bf)][_0x793180(0x323)](_0x1f3e87[_0x793180(0x2a3)],_0x1f3e87);}else{try{await this[_0x793180(0x57d)](_0x1f3e87,_0x4f4f9a);}catch(_0x482b0c){}await this[_0x793180(0x28f)](_0x1f3e87['id']),await this['processPendingSyncTransactions'](_0x1f3e87['id'],_0x4f4f9a);}}async[_0x11ce6(0x57d)](_0x120bd6,_0x1700de=!0x1){const _0x57bc33=_0x11ce6;switch(_0x120bd6[_0x57bc33(0x28d)]){case _0x561700[_0x57bc33(0x97f)]:await this['handleFileWrite'](_0x120bd6);break;case _0x561700[_0x57bc33(0x5cc)]:await this[_0x57bc33(0x941)](_0x120bd6);break;case _0x561700[_0x57bc33(0x34f)]:await this[_0x57bc33(0x6e2)](_0x120bd6,_0x1700de);break;case _0x561700[_0x57bc33(0x1e9)]:await this[_0x57bc33(0xa03)](_0x120bd6,_0x1700de);break;default:throw new _0x490cf1(_0x490cf1[_0x57bc33(0x9fb)][_0x57bc33(0x25b)],{'payload':_0x120bd6});}}async[_0x11ce6(0x5c0)](_0x173774,_0x5f3cd1=!0x1){const _0x4c7f5f=_0x11ce6;if(this[_0x4c7f5f(0x5bf)][_0x4c7f5f(0x297)](_0x173774)){const _0x3e3ffb=this[_0x4c7f5f(0x5bf)][_0x4c7f5f(0x3f2)](_0x173774);this[_0x4c7f5f(0x5bf)][_0x4c7f5f(0x3a9)](_0x173774),await this['handleTransactionPayload'](_0x3e3ffb,_0x5f3cd1);}}async[_0x11ce6(0x16e)](_0x3db115){const _0xe5a767=_0x11ce6;switch(_0x3db115['action']){case _0x561700[_0xe5a767(0x5f6)]:return this[_0xe5a767(0x329)](_0x3db115);case _0x561700[_0xe5a767(0x4af)]:return this['handleFileRequestAnswer'](_0x3db115);case _0x561700['RequestFileSync']:return this['handleFileSync'](_0x3db115);case _0x561700[_0xe5a767(0x9ac)]:return this[_0xe5a767(0x448)](_0x3db115);default:throw new _0x490cf1(_0x490cf1[_0xe5a767(0x9fb)]['ObjectStoreInvalidSyncMessage'],{'payload':_0x3db115});}}async[_0x11ce6(0x448)](_0x676d34,_0x4d2057=0x0){const _0xf6d0d1=_0x11ce6,_0x2ca6e7=_0x35455f(_0x676d34['path'],_0x676d34['name']);if(!_0x676d34[_0xf6d0d1(0x4ff)]||void 0x0===_0x676d34[_0xf6d0d1(0x9fc)]||!_0x676d34['total'])return this[_0xf6d0d1(0x945)][_0xf6d0d1(0x3a9)](_0x2ca6e7),void await this[_0xf6d0d1(0x214)](_0x676d34[_0xf6d0d1(0x768)],_0x676d34[_0xf6d0d1(0x83e)],{'checksum':_0x676d34['checksum'],'skipEncryption':_0x676d34[_0xf6d0d1(0x359)]});if(this[_0xf6d0d1(0x945)][_0xf6d0d1(0x297)](_0x2ca6e7)){const _0x25aa18=this[_0xf6d0d1(0x945)][_0xf6d0d1(0x3f2)](_0x2ca6e7);_0x25aa18['checksum']!==_0x676d34[_0xf6d0d1(0x5cf)]&&(_0x25aa18['stream']?.['close'](),this[_0xf6d0d1(0x945)]['delete'](_0x2ca6e7));}if(!this['fileChunks']['has'](_0x2ca6e7)){try{await this['objectStoreConnector'][_0xf6d0d1(0xa0f)](_0x2ca6e7);}catch(_0x14523e){}try{const _0x453fe9=this[_0xf6d0d1(0x15c)]?await this[_0xf6d0d1(0x3af)]['createWritableStream'](_0x2ca6e7,{'skipEncryption':_0x676d34[_0xf6d0d1(0x359)]}):void 0x0,_0x4b83b9={'chunksReceived':_0x676d34['startIndex']??0x0,'bytesReceived':0x0,'stream':_0x453fe9,'checksum':_0x676d34[_0xf6d0d1(0x5cf)]};this[_0xf6d0d1(0x945)][_0xf6d0d1(0x323)](_0x2ca6e7,_0x4b83b9),await this[_0xf6d0d1(0x214)](_0x676d34[_0xf6d0d1(0x768)],_0x676d34[_0xf6d0d1(0x83e)],{'checksum':_0x676d34[_0xf6d0d1(0x5cf)],'skipEncryption':_0x676d34[_0xf6d0d1(0x359)]});}catch(_0x484ffb){}}const _0x3ae59a=this[_0xf6d0d1(0x945)][_0xf6d0d1(0x3f2)](_0x2ca6e7);if(_0x676d34[_0xf6d0d1(0x5cf)]!==_0x3ae59a[_0xf6d0d1(0x5cf)])return;if(this[_0xf6d0d1(0x9e6)](_0x676d34,_0x2ca6e7),this['syncContent']){if(!_0x3ae59a[_0xf6d0d1(0x855)])throw new _0x490cf1(_0x490cf1[_0xf6d0d1(0x9fb)]['ObjectStoreInvalidSyncMessage'],{'message':_0xf6d0d1(0x307)});let _0x2563e1=_0x3ae59a[_0xf6d0d1(0x4de)];if(_0x676d34[_0xf6d0d1(0x9fc)]!==_0x2563e1){if(_0x2563e1>_0x676d34[_0xf6d0d1(0x9fc)])return;const _0x50c46c=2064.1259842519685;if(_0x676d34[_0xf6d0d1(0x9fc)]>_0x2563e1+_0x50c46c)return;if(_0x3ae59a[_0xf6d0d1(0x333)]||(_0x3ae59a[_0xf6d0d1(0x333)]=[]),_0x3ae59a[_0xf6d0d1(0x333)][_0xf6d0d1(0x7ad)]>8256.503937007874)throw this[_0xf6d0d1(0x945)]['delete'](_0x2ca6e7),new _0x490cf1(_0x490cf1[_0xf6d0d1(0x9fb)][_0xf6d0d1(0x25b)],{'message':_0xf6d0d1(0x1e3)});return void _0x3ae59a['bufferedChunks']['push'](_0x676d34);}try{_0x3ae59a['chunksReceived']+=0x1,_0x3ae59a[_0xf6d0d1(0x8a5)]+=_0x676d34[_0xf6d0d1(0x4ff)][_0xf6d0d1(0x713)],await _0x3ae59a[_0xf6d0d1(0x855)][_0xf6d0d1(0x645)](_0x676d34[_0xf6d0d1(0x4ff)]);}catch(_0x3a7950){if(console['error']('Error\x20writing\x20chunk\x20to\x20stream',_0x3a7950),_0x4d2057>0x3)throw this[_0xf6d0d1(0x945)][_0xf6d0d1(0x3a9)](_0x2ca6e7),console[_0xf6d0d1(0x89e)]('Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream',_0x3a7950),new _0x490cf1(_0x490cf1[_0xf6d0d1(0x9fb)][_0xf6d0d1(0x25b)],{'message':'Max\x20retries\x20reached\x20for\x20writing\x20chunk\x20to\x20stream'});return this[_0xf6d0d1(0x448)](_0x676d34,_0x4d2057+0x1);}}try{await this[_0xf6d0d1(0x236)](_0x3ae59a,_0x676d34[_0xf6d0d1(0x9fc)]+0x1);}catch(_0x490170){throw this[_0xf6d0d1(0x945)][_0xf6d0d1(0x3a9)](_0x2ca6e7),_0x490170;}if(this[_0xf6d0d1(0x945)][_0xf6d0d1(0x323)](_0x2ca6e7,_0x3ae59a),_0x3ae59a[_0xf6d0d1(0x4de)]<_0x676d34['total'])return;await this['deleteFileChunks'](_0x2ca6e7),this[_0xf6d0d1(0x15c)]&&(await this[_0xf6d0d1(0x441)](_0x676d34),_0x5c02ff[_0xf6d0d1(0x253)](_0x8fa077['ObjectStorage'],{'type':_0xf6d0d1(0x6ce),'label':this[_0xf6d0d1(0x6e8)],'nodeId':this[_0xf6d0d1(0xd3)][_0xf6d0d1(0x9d8)](),'nodeType':this['localNode'][_0xf6d0d1(0x789)],'clusterId':this[_0xf6d0d1(0xa18)],'kind':_0x4aea4d[_0xf6d0d1(0x98c)][_0xf6d0d1(0x6b2)],'path':_0x676d34[_0xf6d0d1(0x83e)],'fileName':_0x676d34[_0xf6d0d1(0x768)],'fileType':_0x676d34[_0xf6d0d1(0x789)],'size':_0x3ae59a[_0xf6d0d1(0x8a5)]}));const _0x2af414=this['pendingFilesTransactions'][_0xf6d0d1(0x3f2)](_0x676d34[_0xf6d0d1(0x83e)])??[];for(const _0x283a35 of _0x2af414)await this[_0xf6d0d1(0x57d)](_0x283a35);this[_0xf6d0d1(0x6a1)][_0xf6d0d1(0x3a9)](_0x676d34[_0xf6d0d1(0x83e)]),this[_0xf6d0d1(0x14a)][_0xf6d0d1(0xfa)]({'event':_0x4aea4d[_0xf6d0d1(0x704)][_0xf6d0d1(0x97f)],'payload':{'file':{'kind':_0x4aea4d[_0xf6d0d1(0x98c)]['File'],'path':_0x676d34['path'],'type':_0x676d34[_0xf6d0d1(0x789)],'size':_0x3ae59a[_0xf6d0d1(0x8a5)],'name':_0x676d34[_0xf6d0d1(0x768)],'pathName':_0x2ca6e7,'status':this[_0xf6d0d1(0x15c)]?_0x4aea4d[_0xf6d0d1(0x5a6)][_0xf6d0d1(0x4f5)]:_0x4aea4d[_0xf6d0d1(0x5a6)][_0xf6d0d1(0x823)]}}}),this['sendStats']();}async[_0x11ce6(0x236)](_0x4a9daf,_0x49891f){const _0x5e91f=_0x11ce6,_0x1a555c=_0x4a9daf['stream'];let _0x4f4093=0x0;for(;_0x4a9daf['bufferedChunks']&&_0x4a9daf['bufferedChunks']['length']>0x0;){const _0x43c85f=_0x4a9daf[_0x5e91f(0x333)][_0x5e91f(0x957)](_0x3b0923=>_0x3b0923[_0x5e91f(0x9fc)]===_0x49891f+0x1);if(!_0x43c85f)break;_0x4a9daf['bufferedChunks']=_0x4a9daf[_0x5e91f(0x333)][_0x5e91f(0x80e)](_0x473969=>_0x473969['index']!==_0x49891f+0x1);try{await _0x1a555c['write'](_0x43c85f[_0x5e91f(0x4ff)]),_0x49891f++;}catch(_0x450be2){if(console['error'](_0x5e91f(0x871),_0x450be2),_0x4f4093>0x3)throw console[_0x5e91f(0x89e)](_0x5e91f(0x241),_0x450be2),new _0x490cf1(_0x490cf1[_0x5e91f(0x9fb)][_0x5e91f(0x25b)],{'message':_0x5e91f(0x241)});_0x4f4093++;continue;}_0x4a9daf['chunksReceived']+=0x1,_0x4a9daf[_0x5e91f(0x8a5)]+=_0x43c85f[_0x5e91f(0x4ff)]['byteLength'];}}async[_0x11ce6(0x941)](_0x531579){const _0x5e3f59=_0x11ce6;await this['objectStoreConnector'][_0x5e3f59(0x3ef)](_0x531579[_0x5e3f59(0x83e)]);const [_0x446eba,_0x5ee4e2]=_0x29bd24(_0x531579[_0x5e3f59(0x83e)]);this[_0x5e3f59(0x14a)][_0x5e3f59(0xfa)]({'event':_0x4aea4d['StorageEventType']['FolderCreate'],'payload':{'folder':{'kind':_0x4aea4d['ObjectKind'][_0x5e3f59(0x507)],'name':_0x5ee4e2,'path':_0x446eba,'pathName':_0x531579[_0x5e3f59(0x83e)]}}});}async[_0x11ce6(0xa03)](_0x2af496,_0x23a7f9=!0x1){const _0x2d5d3b=_0x11ce6;if(!_0x23a7f9&&!this[_0x2d5d3b(0x5ea)](_0x2af496))return;const _0x423697=await this[_0x2d5d3b(0xa0f)](_0x2af496[_0x2d5d3b(0x83e)]),[_0x2d6d46,_0x4d3087]=_0x29bd24(_0x2af496[_0x2d5d3b(0x83e)]);this[_0x2d5d3b(0x14a)][_0x2d5d3b(0xfa)]({'event':_0x423697===_0x4aea4d[_0x2d5d3b(0x98c)]['Folder']?_0x4aea4d['StorageEventType'][_0x2d5d3b(0x94f)]:_0x4aea4d['StorageEventType'][_0x2d5d3b(0x7c9)],'payload':{'name':_0x4d3087,'path':_0x2d6d46,'pathName':_0x2af496[_0x2d5d3b(0x83e)]}}),this[_0x2d5d3b(0x13c)]();}async[_0x11ce6(0x6e2)](_0x4513e7,_0x36a6e0=!0x1){const _0x35ead=_0x11ce6;if(!_0x36a6e0&&!this[_0x35ead(0x5ea)](_0x4513e7))return this[_0x35ead(0x183)]['set'](_0x4513e7[_0x35ead(0x1f3)],this[_0x35ead(0x183)][_0x35ead(0x3f2)](_0x4513e7[_0x35ead(0x83e)])??_0x4513e7['path']),void this[_0x35ead(0x183)][_0x35ead(0x3a9)](_0x4513e7['path']);this[_0x35ead(0x183)][_0x35ead(0x3a9)](_0x4513e7['path']);const _0x7bfdd9=await this[_0x35ead(0x3af)][_0x35ead(0x2b9)](_0x4513e7[_0x35ead(0x83e)],_0x4513e7[_0x35ead(0x1f3)]),[_0x30a6af,_0x18e157]=_0x29bd24(_0x4513e7['path']),[_0x50ada8,_0x39494b]=_0x29bd24(_0x4513e7[_0x35ead(0x1f3)]);this[_0x35ead(0x14a)]['publish']({'event':_0x7bfdd9===_0x4aea4d[_0x35ead(0x98c)][_0x35ead(0x507)]?_0x4aea4d[_0x35ead(0x704)][_0x35ead(0x1c5)]:_0x4aea4d['StorageEventType'][_0x35ead(0x3ee)],'payload':{'name':_0x39494b,'path':_0x50ada8,'pathName':_0x4513e7[_0x35ead(0x1f3)],'oldName':_0x18e157,'oldPath':_0x30a6af,'oldPathName':_0x4513e7['path']}}),this[_0x35ead(0x13c)]();}[_0x11ce6(0x5ea)](_0x466625){const _0x1208b9=_0x11ce6,_0x75416c=this[_0x1208b9(0x183)][_0x1208b9(0x3f2)](_0x466625[_0x1208b9(0x83e)])??_0x466625[_0x1208b9(0x83e)];let _0x17a7c3=!0x1;for(const _0x4e9ff3 of this[_0x1208b9(0x945)][_0x1208b9(0x8ae)]())if(_0x4e9ff3[_0x1208b9(0x534)](_0x75416c)){const _0xe3b99f=this[_0x1208b9(0x6a1)][_0x1208b9(0x3f2)](_0x4e9ff3)??[];_0xe3b99f[_0x1208b9(0x7bc)](_0x466625),this[_0x1208b9(0x6a1)][_0x1208b9(0x323)](_0x4e9ff3,_0xe3b99f),_0x17a7c3=!0x0;}return!_0x17a7c3;}async['publishTransaction'](_0x4b10c1){const _0x14f703=_0x11ce6;if(!this['options']?.[_0x14f703(0x5ee)]){if(!_0x4b10c1['id'])throw new _0x490cf1(_0x490cf1[_0x14f703(0x9fb)][_0x14f703(0x25b)],{'message':_0x14f703(0x730)});if(_0x4b10c1['parentId']!==this['lastTransactionId'])throw new _0x490cf1(_0x490cf1[_0x14f703(0x9fb)][_0x14f703(0x3b4)]);await this['transactionService'][_0x14f703(0x9fd)](_0x4b10c1,this['label']),await this[_0x14f703(0x28f)](_0x4b10c1['id']);}}async[_0x11ce6(0x28f)](_0x15f950){const _0x446476=_0x11ce6;this['lastTransactionId']=_0x15f950;const _0x407b60=new File([new Blob([this[_0x446476(0x7c6)]])],_0x5f1f38,{'type':_0x446476(0x9a2)});await this['writeFile'](_0x407b60,'/');}async[_0x11ce6(0x329)](_0x314168){const _0x1552f0=_0x11ce6;try{const _0x4c0106=await this['get'](_0x314168[_0x1552f0(0x83e)]+'/'+_0x314168[_0x1552f0(0x768)],{'skipEncryption':_0x314168['skipEncryption']}),_0x1b3df8=await _0x30cad3(_0x4c0106);if(''!==_0x314168[_0x1552f0(0x5cf)]&&_0x1b3df8!==_0x314168[_0x1552f0(0x5cf)])return;_0x314168['answererId']=this[_0x1552f0(0xd3)][_0x1552f0(0x9d8)](),_0x314168[_0x1552f0(0x28d)]=_0x561700[_0x1552f0(0x4af)],await this['send'](_0x314168,[_0x314168['sourceId']]);}catch(_0x2aa1b8){}}async['handleFileRequestAnswer'](_0xc2f80a){const _0x51c084=_0x11ce6,_0x14d282=_0x35455f(_0xc2f80a[_0x51c084(0x83e)],_0xc2f80a[_0x51c084(0x768)]);if(!this['objectRequests'][_0x51c084(0x297)](_0x14d282))return;const _0x1c00e2=this['objectRequests'][_0x51c084(0x3f2)](_0x14d282);_0x1c00e2[_0x51c084(0x28d)]=_0x561700['RequestFileSync'];const _0x442fd3=_0xc2f80a[_0x51c084(0xc8)];if(!_0x442fd3)throw new _0x490cf1(_0x490cf1['codes']['ObjectStoreInvalidSyncMessage'],{'message':_0x51c084(0x472)});if(this['objectRequests'][_0x51c084(0x3a9)](_0x14d282),this['pendingFilesSyncing'][_0x51c084(0x297)](_0x442fd3)||this['pendingFilesSyncing'][_0x51c084(0x323)](_0x442fd3,new Map()),this['pendingFilesSyncing'][_0x51c084(0x3f2)](_0x442fd3)[_0x51c084(0x323)](_0x14d282,[_0x1c00e2,this[_0x51c084(0x758)](_0x442fd3,_0x14d282)]),_0x1c00e2[_0x51c084(0xc8)]=_0x442fd3,_0x1c00e2[_0x51c084(0x437)]=this[_0x51c084(0x945)][_0x51c084(0x3f2)](_0x14d282)?.['chunksReceived']??0x0,0x0===_0x1c00e2[_0x51c084(0x437)])try{const [_0x54467c,_0x4c94df]=await this[_0x51c084(0x8c0)](_0xc2f80a[_0x51c084(0x768)],_0xc2f80a[_0x51c084(0x83e)],_0xc2f80a[_0x51c084(0x5cf)]);_0x54467c&&(_0x1c00e2['startIndex']=_0x4c94df);}catch(_0x495665){}this['send'](_0x1c00e2,[_0x442fd3]);}async['handleFileSync'](_0x4ecf2d){const _0x5570fe=_0x11ce6,_0x9e9962=_0x35455f(_0x4ecf2d['path'],_0x4ecf2d[_0x5570fe(0x768)]),_0xa017be=await this[_0x5570fe(0x3f2)](_0x9e9962,{'skipEncryption':_0x4ecf2d[_0x5570fe(0x359)]}),_0x3fb55e={..._0x4ecf2d,'answererId':this['localNode']['getId'](),'action':_0x561700[_0x5570fe(0x9ac)],'startIndex':_0x4ecf2d[_0x5570fe(0x437)]??0x0};await this['sendFile'](_0xa017be,_0x3fb55e,[_0x4ecf2d[_0x5570fe(0x112)]]);}async[_0x11ce6(0x38d)](_0x517a2e,_0x128e1f,_0xde4cd3){let _0x2b1493,_0x48caad;const _0x38eba3=new Promise(async(_0x3e06d2,_0x58f21e)=>{_0x2b1493=_0x3e06d2,_0x48caad=_0x58f21e;});return((async()=>{const _0x29b7a6=a0_0x5c6e,_0x6298ad=Math[_0x29b7a6(0x375)](_0x517a2e[_0x29b7a6(0x84c)]/_0xbeb078);let _0xcc4ad6=_0x128e1f[_0x29b7a6(0x437)]??0x0;const _0x38f2a5=_0x35455f(_0x128e1f['path'],_0x128e1f[_0x29b7a6(0x768)]);this[_0x29b7a6(0xa12)][_0x29b7a6(0x323)](_0x38f2a5,[!0x1,_0x38eba3]);for await(const _0x224240 of async function*(_0x10228c,_0x5d58e7=0x0,_0x3037eb){for await(const _0x35e318 of _0x12333b(_0x10228c,_0x5d58e7,_0x3037eb))yield _0x35e318;}(_0x517a2e,_0xcc4ad6,this[_0x29b7a6(0x35b)])){const [_0x5d6fb3]=this[_0x29b7a6(0xa12)]['get'](_0x38f2a5)??[];if(_0x5d6fb3)return this[_0x29b7a6(0xa12)]['delete'](_0x38f2a5),void _0x48caad(new Error(_0x29b7a6(0x952)));if(this[_0x29b7a6(0x6a1)][_0x29b7a6(0x297)](_0x38f2a5)){const _0x8bb21e=this[_0x29b7a6(0x6a1)][_0x29b7a6(0x3f2)](_0x38f2a5);for(const _0x54ae40 of _0x8bb21e)if(_0x54ae40[_0x29b7a6(0x28d)]===_0x561700[_0x29b7a6(0x97f)]||_0x54ae40[_0x29b7a6(0x28d)]===_0x561700[_0x29b7a6(0x1e9)])return;}const _0x58f2ce={..._0x128e1f,'type':_0x517a2e[_0x29b7a6(0x789)],'data':_0x224240,'index':_0xcc4ad6,'total':_0x6298ad};this[_0x29b7a6(0x41d)](_0x58f2ce,_0xde4cd3),_0xcc4ad6++;}const _0x359373=setInterval(async()=>{const _0x135934=_0x29b7a6;await this[_0x135934(0x35b)]()>0x0||(clearInterval(_0x359373),_0x2b1493());});this[_0x29b7a6(0xa12)]['delete'](_0x38f2a5);})()),_0x38eba3;}async[_0x11ce6(0x441)](_0x319dc2){const _0x2051b6=_0x11ce6;try{const _0x50dc6b=_0x35455f(_0x319dc2[_0x2051b6(0x83e)],_0x319dc2['name']),_0x1e4778=_0x50dc6b+_0x48ba9a;await this['deleteObject'](_0x1e4778);const [,_0x4d31e4]=this[_0x2051b6(0x271)]['get'](_0x319dc2['answererId'])?.[_0x2051b6(0x3f2)](_0x50dc6b)??[];_0x4d31e4&&(clearTimeout(_0x4d31e4),this['pendingFilesSyncing'][_0x2051b6(0x3f2)](_0x319dc2[_0x2051b6(0xc8)])[_0x2051b6(0x3a9)](_0x50dc6b));}catch(_0x561eb6){}0x0===this[_0x2051b6(0x271)][_0x2051b6(0x3f2)](_0x319dc2[_0x2051b6(0xc8)])?.['size']&&this[_0x2051b6(0x271)][_0x2051b6(0x3a9)](_0x319dc2['answererId']),0x0===this[_0x2051b6(0x271)][_0x2051b6(0x84c)]&&0x0===this[_0x2051b6(0x723)][_0x2051b6(0x84c)]&&this['completeSync']();}async['syncTransactions'](){const _0x92fc88=_0x11ce6;try{const _0x3bcab8=await this[_0x92fc88(0x493)][_0x92fc88(0x6ac)](this[_0x92fc88(0x6e8)],this[_0x92fc88(0x7c6)]);for(const _0x209853 of _0x3bcab8)await this[_0x92fc88(0x287)](_0x209853,!0x0);}catch(_0x24967c){if(_0x24967c instanceof _0x490cf1&&_0x24967c[_0x92fc88(0x505)]===_0x490cf1[_0x92fc88(0x9fb)][_0x92fc88(0x7eb)]){await this[_0x92fc88(0x3af)][_0x92fc88(0xa0f)](_0x5f1f38),delete this[_0x92fc88(0x7c6)];try{const _0xb52ac7=await this['objectStoreConnector'][_0x92fc88(0x138)]('/',!0x1);for(const _0x39a1c6 of _0xb52ac7)await this[_0x92fc88(0x3af)]['deleteObject'](_0x39a1c6['pathName']);}catch(_0x3f4ce0){}return await this['syncTransactions']();}throw _0x24967c;}}async[_0x11ce6(0x67f)](){const _0x116cd6=_0x11ce6,_0x3c62aa=await this['list']('/',{'recursive':!0x0,'includeSyncingFiles':!0x0}),_0x51f366=async _0x3625ac=>{const _0x498c0d=a0_0x5c6e;for(const _0x431fa5 of _0x3625ac){if(_0x431fa5[_0x498c0d(0x969)]===_0x4aea4d[_0x498c0d(0x98c)]['Folder']){_0x431fa5[_0x498c0d(0x91c)]&&_0x431fa5[_0x498c0d(0x91c)][_0x498c0d(0x7ad)]>0x0&&await _0x51f366(_0x431fa5[_0x498c0d(0x91c)]);continue;}if(_0x431fa5[_0x498c0d(0x373)]!==_0x4aea4d[_0x498c0d(0x5a6)][_0x498c0d(0x823)])continue;const _0x2bba3d=await this[_0x498c0d(0x3f2)](_0x431fa5['pathName']+_0x48ba9a),_0x375386=JSON[_0x498c0d(0x67e)](await _0x2bba3d['text']()),_0x54a1e8=_0x431fa5[_0x498c0d(0x768)]['replace'](_0x48ba9a,''),_0x2d9ce8={'payloadType':_0x3b214b[_0x498c0d(0x641)],'action':_0x561700[_0x498c0d(0x5f6)],'sourceId':this[_0x498c0d(0xd3)]['getId'](),'type':'','path':_0x431fa5[_0x498c0d(0x83e)],'name':_0x54a1e8,'checksum':_0x375386[_0x498c0d(0x5cf)],'skipEncryption':_0x375386[_0x498c0d(0x359)]},_0x3f1a49=_0x35455f(_0x431fa5['path'],_0x54a1e8);this[_0x498c0d(0x723)][_0x498c0d(0x323)](_0x3f1a49,_0x2d9ce8);}};await _0x51f366(_0x3c62aa),0x0===this[_0x116cd6(0x723)][_0x116cd6(0x84c)]&&0x0===this['pendingFilesSyncing']['size']&&this[_0x116cd6(0x2f8)]();}async[_0x11ce6(0x214)](_0x2aa74e,_0x35a4da,_0x31621d){const _0x587e3c=_0x11ce6,_0x260b0d=new File([new Blob([JSON[_0x587e3c(0x3ea)](_0x31621d)])],''+_0x2aa74e+_0x48ba9a,{'type':_0x587e3c(0x9a2)});await this[_0x587e3c(0x8b0)](_0x260b0d,_0x35a4da);}async[_0x11ce6(0x8c0)](_0x1832a4,_0x2b96da,_0x49df86){const _0x56637e=_0x11ce6;try{const _0x123f4d=_0x35455f(_0x2b96da,_0x1832a4),_0x30c19f=_0x123f4d+_0x48ba9a,_0x5132ac=await this['objectStoreConnector']['get'](_0x30c19f),{checksum:_0x5bca2a,skipEncryption:_0x25de3c}=JSON['parse'](await _0x5132ac[_0x56637e(0x896)]()),_0x3a967f=(await this[_0x56637e(0x3af)][_0x56637e(0x3f2)](_0x123f4d,{'skipEncryption':_0x25de3c}))[_0x56637e(0x84c)];return _0x5bca2a===_0x49df86&&_0x3a967f%_0xbeb078==0x0?[!0x0,Math[_0x56637e(0x340)](_0x3a967f/_0xbeb078)]:(await this[_0x56637e(0x3af)][_0x56637e(0xa0f)](_0x123f4d),[!0x1,0x0]);}catch(_0x347c42){return[!0x1,0x0];}}[_0x11ce6(0x758)](_0x4e720f,_0x427dc7){const _0x2d3ac0=_0x11ce6,[_0x22f56,_0x171995]=this[_0x2d3ac0(0x271)][_0x2d3ac0(0x3f2)](_0x4e720f)?.[_0x2d3ac0(0x3f2)](_0x427dc7)??[];return _0x171995&&clearTimeout(_0x171995),setTimeout(()=>{const _0x2baf85=_0x2d3ac0,[_0x2aeb86,_0x7166ce]=this[_0x2baf85(0x271)][_0x2baf85(0x3f2)](_0x4e720f)[_0x2baf85(0x3f2)](_0x427dc7);this[_0x2baf85(0x2fc)](_0x2aeb86,_0x7166ce);},0x927c0);}async[_0x11ce6(0x2fc)](_0x143ef7,_0x118f8e){const _0x29a5c6=_0x11ce6;clearTimeout(_0x118f8e),_0x143ef7[_0x29a5c6(0x28d)]=_0x561700[_0x29a5c6(0x5f6)],this[_0x29a5c6(0x723)][_0x29a5c6(0x323)](_0x35455f(_0x143ef7[_0x29a5c6(0x83e)],_0x143ef7[_0x29a5c6(0x768)]),_0x143ef7),this[_0x29a5c6(0x41d)](_0x143ef7);}[_0x11ce6(0x9e6)](_0x3e51f0,_0x2ca9f2){const _0x4fe2e4=_0x11ce6;if(!this[_0x4fe2e4(0x15c)])return;this[_0x4fe2e4(0x271)][_0x4fe2e4(0x297)](_0x3e51f0['answererId'])||this[_0x4fe2e4(0x271)][_0x4fe2e4(0x323)](_0x3e51f0[_0x4fe2e4(0xc8)],new Map());const [_0x5a34d8]=this['pendingFilesSyncing'][_0x4fe2e4(0x3f2)](_0x3e51f0['answererId'])[_0x4fe2e4(0x3f2)](_0x2ca9f2)??[{'payloadType':_0x3b214b['Request'],'action':_0x561700[_0x4fe2e4(0x5f6)],'sourceId':this[_0x4fe2e4(0xd3)]['getId'](),'type':_0x3e51f0[_0x4fe2e4(0x789)],'name':_0x3e51f0['name'],'path':_0x3e51f0[_0x4fe2e4(0x83e)],'skipEncryption':_0x3e51f0[_0x4fe2e4(0x359)],'checksum':_0x3e51f0['checksum'],'answererId':_0x3e51f0['answererId']}];this['pendingFilesSyncing']['get'](_0x3e51f0[_0x4fe2e4(0xc8)])[_0x4fe2e4(0x323)](_0x2ca9f2,[_0x5a34d8,this['getOrResetPendingFileTimeout'](_0x3e51f0[_0x4fe2e4(0xc8)],_0x2ca9f2)]);}async[_0x11ce6(0x8b0)](_0x3ff5e3,_0x35427a,_0x582e42){const _0x50ba00=_0x11ce6;this['isSyncing']&&(this[_0x50ba00(0x11a)]+=0x1),await this[_0x50ba00(0x3af)][_0x50ba00(0x8b0)](_0x3ff5e3,_0x35427a,_0x582e42);}async['deleteObject'](_0x1cf6e2){const _0x4fac83=_0x11ce6;try{const _0x5eebb7=await this[_0x4fac83(0x3af)][_0x4fac83(0xa0f)](_0x1cf6e2);if(!_0x1cf6e2[_0x4fac83(0x301)](_0x48ba9a))try{await this['objectStoreConnector'][_0x4fac83(0xa0f)](_0x1cf6e2+_0x48ba9a);}catch(_0x5efde0){}return this[_0x4fac83(0x9b5)]&&_0x5eebb7===_0x4aea4d[_0x4fac83(0x98c)]['File']&&(this[_0x4fac83(0x11a)]+=0x1),_0x5eebb7;}catch(_0x2577bb){return await this['objectStoreConnector'][_0x4fac83(0xa0f)](_0x1cf6e2+_0x48ba9a);}}async['moveObject'](_0x36806f,_0x346e1e){const _0x5478ad=_0x11ce6;try{const _0x529010=await this[_0x5478ad(0x3af)]['moveObject'](_0x36806f,_0x346e1e);if(!_0x36806f[_0x5478ad(0x301)](_0x48ba9a))try{await this['objectStoreConnector'][_0x5478ad(0x2b9)](_0x36806f+_0x48ba9a,_0x346e1e+_0x48ba9a);}catch(_0x1487ec){}return _0x529010;}catch(_0x2fb102){return await this[_0x5478ad(0x3af)]['moveObject'](_0x36806f+_0x48ba9a,_0x346e1e+_0x48ba9a);}}['sendStats'](){const _0x48cdb4=_0x11ce6;this[_0x48cdb4(0x455)]&&clearTimeout(this['debounceStats']),this[_0x48cdb4(0x455)]=setTimeout(async()=>{const _0x4f9276=_0x48cdb4;delete this[_0x4f9276(0x455)];const _0x2760f4=await this['objectStoreConnector'][_0x4f9276(0x996)]('/');this['systemTopic']?.['publish']({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x4f9276(0x575)],'content':{'type':_0x18f1c1[_0x4f9276(0x38f)],'label':this[_0x4f9276(0x6e8)],'stats':{'timestamp':Date[_0x4f9276(0x3bd)](),'storage':_0x2760f4,'messagesSent':this[_0x4f9276(0x299)],'messagesReceived':this[_0x4f9276(0x219)],'bytesSent':this[_0x4f9276(0x769)],'bytesReceived':this[_0x4f9276(0x8a5)],'writes':this[_0x4f9276(0x783)],'reads':this[_0x4f9276(0x738)],'prompts':0x0,'tokens':0x0}}}),this['syncContent']&&_0x5c02ff[_0x4f9276(0x6c4)](_0x8fa077[_0x4f9276(0x475)],_0x4f9276(0x1b7)+this['clusterId']+_0x4f9276(0x1b7)+this['label'],_0x2760f4);},_0x59cbea);}async[_0x11ce6(0x364)](_0xd4fb95){const _0x6972a6=_0x11ce6;try{return await this[_0x6972a6(0x3f2)](_0xd4fb95),!0x0;}catch(_0x12c19){return!0x1;}}async[_0x11ce6(0x3e9)](_0x11d9f2){const _0x5be952=_0x11ce6;if(!this[_0x5be952(0x945)][_0x5be952(0x297)](_0x11d9f2))return;const _0x36e9fc=this[_0x5be952(0x945)][_0x5be952(0x3f2)](_0x11d9f2);if(_0x36e9fc[_0x5be952(0x855)])try{await _0x36e9fc[_0x5be952(0x855)][_0x5be952(0x17e)]();}catch(_0x581e1e){console[_0x5be952(0x89e)]('Error\x20closing\x20writable\x20stream',_0x581e1e);}this['fileChunks']['delete'](_0x11d9f2);}}class _0x413d48 extends _0x468001{[_0x11ce6(0xd3)];['clusterId'];[_0x11ce6(0x68d)]=new Map();['debounceStats'];constructor(_0x283707,_0x6beb9,_0x2ed133){const _0x2e4835=_0x11ce6;if(_0x2e4835(0x9cc)!=typeof _0x6beb9)throw new _0x39299d(_0x1ffca6[_0x2e4835(0x29f)],'Cannot\x20create\x20PubSubStream:\x20Label\x20must\x20be\x20a\x20string');super(_0x283707,_0x6beb9),this[_0x2e4835(0xd3)]=_0x283707,this[_0x2e4835(0xa18)]=_0x2ed133,this[_0x2e4835(0x13c)]();}[_0x11ce6(0x7e8)](){const _0x104336=_0x11ce6;this[_0x104336(0x13c)]();}['getContentType'](){const _0x57712d=_0x11ce6;return _0x4aea4d[_0x57712d(0x43d)][_0x57712d(0x267)];}[_0x11ce6(0xfa)](_0x4d2bc7,_0xec98a1){const _0x7fce38=_0x11ce6;_0x5c02ff[_0x7fce38(0x65b)](_0x1e4869['PubSub'],_0x7fce38(0x8ed),this[_0x7fce38(0xd3)][_0x7fce38(0x9d8)](),_0x4d2bc7,_0xec98a1),_0x5c02ff[_0x7fce38(0x253)](_0x8fa077[_0x7fce38(0x267)],{'type':_0x7fce38(0xfa),'label':this[_0x7fce38(0x6e8)],'nodeId':this['localNode'][_0x7fce38(0x9d8)](),'nodeType':this[_0x7fce38(0xd3)][_0x7fce38(0x789)],'clusterId':this[_0x7fce38(0xa18)],'remoteIds':_0xec98a1??[],'contentType':_0x4d2bc7 instanceof File?_0x4aea4d['ContentType'][_0x7fce38(0x6b2)]:_0x4aea4d['ContentType'][_0x7fce38(0x2d1)],'size':_0x4d2bc7 instanceof File?_0x4d2bc7['size']:JSON[_0x7fce38(0x3ea)](_0x4d2bc7)[_0x7fce38(0x7ad)]}),this[_0x7fce38(0x13c)](),this[_0x7fce38(0x41d)](_0x4d2bc7,_0xec98a1);}['subscribe'](_0x4efe22,_0x33ae1b){const _0xe17079=_0x11ce6;if(this['unsubscribeHandler'][_0xe17079(0x297)](_0x4efe22))throw new _0x39299d(_0x1ffca6[_0xe17079(0x62d)],_0xe17079(0x87b));this[_0xe17079(0x68d)][_0xe17079(0x323)](_0x4efe22,this[_0xe17079(0xc1)]((_0x13910c,_0x1eeab6)=>{const _0x2119ad=_0xe17079;_0x2119ad(0x4ff)===_0x4efe22&&_0x1eeab6 instanceof File||!(_0x2119ad(0x935)!==_0x4efe22||_0x1eeab6 instanceof File)||(_0x5c02ff[_0x2119ad(0x65b)](_0x1e4869[_0x2119ad(0x267)],_0x2119ad(0x1a9),this[_0x2119ad(0xd3)][_0x2119ad(0x9d8)](),_0x13910c,_0x1eeab6),_0x5c02ff['logServiceEvent'](_0x8fa077[_0x2119ad(0x267)],{'type':_0x2119ad(0x85a),'label':this[_0x2119ad(0x6e8)],'nodeId':this[_0x2119ad(0xd3)][_0x2119ad(0x9d8)](),'nodeType':this['localNode']['type'],'clusterId':this['clusterId'],'remoteId':_0x13910c,'contentType':_0x4efe22,'size':_0x1eeab6 instanceof File?_0x1eeab6[_0x2119ad(0x84c)]:JSON[_0x2119ad(0x3ea)](_0x1eeab6)['length']}),this[_0x2119ad(0x13c)](),_0x33ae1b(_0x13910c,_0x1eeab6));}));}[_0x11ce6(0x786)](_0x2b552f){const _0x5c5417=_0x11ce6;this[_0x5c5417(0x68d)]['get'](_0x2b552f)?.(),this[_0x5c5417(0x68d)][_0x5c5417(0x3a9)](_0x2b552f);}[_0x11ce6(0x4d6)](){const _0x12d933=_0x11ce6;this[_0x12d933(0x68d)][_0x12d933(0x7a1)](_0x5086ad=>_0x5086ad()),clearTimeout(this[_0x12d933(0x455)]),delete this[_0x12d933(0x455)],super[_0x12d933(0x4d6)]();}[_0x11ce6(0x17e)](){const _0x565eac=_0x11ce6;this[_0x565eac(0x1ad)]?.[_0x565eac(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x565eac(0x575)],'content':{'type':_0x18f1c1[_0x565eac(0x144)],'label':this[_0x565eac(0x6e8)]}});}['sendStats'](){const _0x9b1b5c=_0x11ce6;this[_0x9b1b5c(0x455)]&&clearTimeout(this[_0x9b1b5c(0x455)]),this[_0x9b1b5c(0x455)]=setTimeout(()=>{const _0x4835ab=_0x9b1b5c;this[_0x4835ab(0x1ad)]?.[_0x4835ab(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30['Content'],'content':{'type':_0x18f1c1[_0x4835ab(0x39f)],'label':this['label'],'stats':{'timestamp':Date['now'](),'storage':0x0,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x4835ab(0x219)],'bytesSent':this[_0x4835ab(0x769)],'bytesReceived':this[_0x4835ab(0x8a5)],'writes':0x0,'reads':0x0,'prompts':0x0,'tokens':0x0}}});},_0x59cbea);}}class _0xab83b8 extends _0x440b04{[_0x11ce6(0xd3)];['internalId'];['availableTrackKinds'];[_0x11ce6(0xa18)];[_0x11ce6(0x68d)];[_0x11ce6(0x349)];[_0x11ce6(0x77a)];[_0x11ce6(0x7ce)]=new Map();[_0x11ce6(0x4bb)];[_0x11ce6(0x861)]=new Set();['providerId'];['providerListener']=_0x4332ba();[_0x11ce6(0x9ed)]=new Map();constructor(_0x52350e,_0x56e3dc,_0x362274,_0x4bf763,_0x59664f,_0x59251d){const _0x265845=_0x11ce6;super(_0x56e3dc,_0x362274,new MediaStream()),this[_0x265845(0xd3)]=_0x52350e,this['internalId']=_0x4bf763,this['availableTrackKinds']=_0x59664f,this[_0x265845(0xa18)]=_0x59251d,this[_0x265845(0x402)][_0x265845(0x42d)]()[_0x265845(0x7a1)](_0x1ef9e6=>this['setupTrackEndedListeners'](_0x1ef9e6));}[_0x11ce6(0x4d6)](){const _0x11cfff=_0x11ce6;this[_0x11cfff(0x7ce)][_0x11cfff(0x84c)]>0x0&&(this[_0x11cfff(0x7ce)][_0x11cfff(0x7a1)](_0x5c3aa1=>{const _0x527d87=_0x11cfff;_0x5c3aa1[_0x527d87(0x5c1)](),_0x5c3aa1[_0x527d87(0x4d6)]();}),this[_0x11cfff(0x7ce)][_0x11cfff(0x918)]()),this['trackEndedListeners'][_0x11cfff(0x7a1)](_0x26b479=>_0x26b479()),this[_0x11cfff(0x402)][_0x11cfff(0x42d)]()[_0x11cfff(0x7a1)](_0x15b481=>this['mediaStream'][_0x11cfff(0x80d)](_0x15b481)),this[_0x11cfff(0x77a)]&&(clearTimeout(this[_0x11cfff(0x77a)]),delete this[_0x11cfff(0x77a)]),this['resizeHandler']?.(),super[_0x11cfff(0x4d6)]();}['registerSubscriber'](_0x39f394){this['unsubscribeHandler']=_0x39f394['subscribe'](({content:_0x2f728f})=>{const _0x4d15cf=a0_0x5c6e;switch(_0x2f728f[_0x4d15cf(0x28d)]){case _0x5208cb[_0x4d15cf(0x921)]:if(_0x5c02ff['log'](_0x1e4869[_0x4d15cf(0x832)],_0x4d15cf(0x9ce),this[_0x4d15cf(0xd3)]['getId'](),this[_0x4d15cf(0x186)]),_0x2f728f[_0x4d15cf(0x855)]['id']!==this['internalId']||_0x2f728f[_0x4d15cf(0x186)]!==this['providerId'])return;this['removeTrack'](_0x2f728f[_0x4d15cf(0x843)][_0x4d15cf(0x969)]),this[_0x4d15cf(0x402)][_0x4d15cf(0x4c0)](_0x2f728f[_0x4d15cf(0x843)]);for(const [_0x136d37,_0x5f5b63]of this['outgoingStreams'][_0x4d15cf(0x91c)]())try{_0x5f5b63[_0x4d15cf(0x4c0)](_0x2f728f['track']);}catch(_0x261bc5){_0x5f5b63[_0x4d15cf(0x4d6)](),this[_0x4d15cf(0x7ce)][_0x4d15cf(0x3a9)](_0x136d37);}this[_0x4d15cf(0x4dc)](_0x2f728f[_0x4d15cf(0x843)]),this[_0x4d15cf(0x8ef)](),_0x4d15cf(0x452)===_0x2f728f[_0x4d15cf(0x843)]['kind']&&this[_0x4d15cf(0x4bb)]&&(this[_0x4d15cf(0x402)]['active']?setTimeout(()=>this[_0x4d15cf(0x4bb)]?.[_0x4d15cf(0x75a)](),0x0):setTimeout(()=>this[_0x4d15cf(0x4bb)]?.[_0x4d15cf(0x743)](),0x0),this['setupResizeHandler']());break;case _0x5208cb[_0x4d15cf(0x3c6)]:if(_0x2f728f['stream']['id']!==this[_0x4d15cf(0x9dd)]||_0x2f728f[_0x4d15cf(0x186)]!==this[_0x4d15cf(0x186)])return;this[_0x4d15cf(0x80d)](_0x2f728f[_0x4d15cf(0x843)][_0x4d15cf(0x969)]),this[_0x4d15cf(0x4bb)]&&_0x4d15cf(0x452)===_0x2f728f[_0x4d15cf(0x843)][_0x4d15cf(0x969)]&&(this[_0x4d15cf(0x349)]?.(),this['mediaStream'][_0x4d15cf(0x42d)]()[_0x4d15cf(0x7ad)]>0x0?this[_0x4d15cf(0x4bb)][_0x4d15cf(0x743)]():this[_0x4d15cf(0x4bb)][_0x4d15cf(0x8b6)]=null);}});}[_0x11ce6(0x4bd)](){const _0x28f7b9=_0x11ce6;this[_0x28f7b9(0x68d)]?.(),this[_0x28f7b9(0x9ed)][_0x28f7b9(0x7a1)](_0x40ab80=>_0x40ab80()),delete this[_0x28f7b9(0x68d)];}[_0x11ce6(0x98d)](){const _0x3be761=_0x11ce6;return this[_0x3be761(0x9dd)];}['setInternalId'](_0x514c1b){const _0x453f0a=_0x11ce6;this[_0x453f0a(0x9dd)]=_0x514c1b;}[_0x11ce6(0x96d)](){const _0x5e54c8=_0x11ce6;return this[_0x5e54c8(0x70a)];}['hasTracks'](_0x409241){const _0xe95dee=_0x11ce6;for(const _0x2683ee of _0x409241||this[_0xe95dee(0x70a)])if(!this[_0xe95dee(0x402)][_0xe95dee(0x42d)]()[_0xe95dee(0x957)](_0x5eec99=>_0x5eec99['kind']===_0x2683ee))return!0x1;return!0x0;}['getResolution'](){const _0x324ca1=_0x11ce6;let _0x213bc9={'width':0x0,'height':0x0};const _0x5c8ab1=this[_0x324ca1(0x402)][_0x324ca1(0x401)]();if(_0x5c8ab1[_0x324ca1(0x7ad)]>0x0){const _0x5cdae7=_0x5c8ab1[0x0][_0x324ca1(0x8e8)]();_0x5cdae7['width']&&_0x5cdae7['height']&&(_0x213bc9={'width':_0x5cdae7[_0x324ca1(0x706)],'height':_0x5cdae7[_0x324ca1(0x6d3)]});}return _0x213bc9;}['isSubscribed'](_0x51a4e7){const _0x2a1b60=_0x11ce6;for(const _0x20dcb1 of _0x51a4e7)if(!this[_0x2a1b60(0x861)]['has'](_0x20dcb1))return!0x1;return!0x0;}[_0x11ce6(0x737)](_0x92ccd4,_0x47a373){const _0x536c1b=_0x11ce6;if(!this[_0x536c1b(0x7ce)][_0x536c1b(0x297)](_0x92ccd4)){const _0x33d46f=new _0x220e07(this['owner'],this[_0x536c1b(0x6e8)],this[_0x536c1b(0x402)],_0x92ccd4,_0x47a373),_0x3eb768=_0x33d46f[_0x536c1b(0x705)](()=>{const _0x3a3b70=_0x536c1b;_0x3eb768(),this[_0x3a3b70(0x7ce)]['get'](_0x92ccd4)?.[_0x3a3b70(0x4d6)](),this[_0x3a3b70(0x7ce)][_0x3a3b70(0x3a9)](_0x92ccd4);});this[_0x536c1b(0x7ce)][_0x536c1b(0x323)](_0x92ccd4,_0x33d46f),_0x33d46f[_0x536c1b(0xcc)](this[_0x536c1b(0x1ad)]);}return this[_0x536c1b(0x7ce)][_0x536c1b(0x3f2)](_0x92ccd4);}[_0x11ce6(0x810)](){const _0x39c8fc=_0x11ce6;return this[_0x39c8fc(0x402)]['id'];}[_0x11ce6(0x99e)](){const _0xccbf2c=_0x11ce6;return _0x4aea4d['MediaStreamPriority'][_0xccbf2c(0x360)];}[_0x11ce6(0x977)](){const _0x19c556=_0x11ce6;return Array['from'](this[_0x19c556(0x861)]);}[_0x11ce6(0x85a)](_0x4e2092){const _0x4c64e8=_0x11ce6;let _0x3417e5=[];if(_0x4e2092){_0x4c64e8(0x56e)!=typeof _0x4e2092[_0x4c64e8(0x452)]||_0x4e2092['video'][_0x4c64e8(0x4bb)]instanceof HTMLVideoElement||!this[_0x4c64e8(0x4bb)]||(_0x4e2092['video']={'renderElement':this[_0x4c64e8(0x4bb)]});try{(0x0,_0x4aea4d[_0x4c64e8(0x164)])(_0x4e2092);}catch(_0x21cd66){throw new _0x39299d(_0x1ffca6['RemoteMediaStreamInvalidSubscriptionParams'],'Invalid\x20params');}_0x4e2092['video']&&(_0x3417e5['push'](_0x4c64e8(0x452)),_0x4c64e8(0x28e)!=typeof _0x4e2092[_0x4c64e8(0x452)]&&_0x4e2092['video'][_0x4c64e8(0x4bb)]&&(this[_0x4c64e8(0x4bb)]=_0x4e2092[_0x4c64e8(0x452)]['renderElement'],_0x4e2092[_0x4c64e8(0x452)][_0x4c64e8(0x6c0)]||(_0x4e2092[_0x4c64e8(0x452)][_0x4c64e8(0x6c0)]={'width':this[_0x4c64e8(0x4bb)][_0x4c64e8(0x1ab)],'height':this[_0x4c64e8(0x4bb)]['clientHeight']}),delete _0x4e2092[_0x4c64e8(0x452)][_0x4c64e8(0x4bb)])),_0x4e2092[_0x4c64e8(0x309)]&&_0x3417e5[_0x4c64e8(0x7bc)](_0x4c64e8(0x309));}else _0x3417e5=this[_0x4c64e8(0x96d)]();this[_0x4c64e8(0x11e)](_0x3417e5)||(_0x3417e5[_0x4c64e8(0x7a1)](_0x487b99=>this['subscribedTracks'][_0x4c64e8(0x5c9)](_0x487b99)),this['systemTopic'][_0x4c64e8(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x4c64e8(0x575)],'content':{'type':_0x18f1c1[_0x4c64e8(0xa1a)],'label':this[_0x4c64e8(0x6e8)],'ownerId':this[_0x4c64e8(0x8fc)][_0x4c64e8(0x9d8)](),'trackKinds':_0x3417e5,'params':_0x4e2092}}),_0x5c02ff['logServiceEvent'](_0x8fa077[_0x4c64e8(0x545)],{'type':_0x4c64e8(0x85a),'label':this[_0x4c64e8(0x6e8)],'nodeId':this[_0x4c64e8(0xd3)][_0x4c64e8(0x9d8)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x4c64e8(0xa18)],'sourceId':this['owner'][_0x4c64e8(0x9d8)](),'streamId':this[_0x4c64e8(0x9dd)],'trackKinds':_0x3417e5}));}['update'](_0x55d5ad){const _0x2c5607=_0x11ce6;try{(0x0,_0x4aea4d[_0x2c5607(0x164)])(_0x55d5ad);}catch(_0xc58485){throw new _0x39299d(_0x1ffca6['RemoteMediaStreamInvalidSubscriptionParams'],'Invalid\x20params');}this[_0x2c5607(0x77a)]&&clearTimeout(this[_0x2c5607(0x77a)]),this[_0x2c5607(0x77a)]=setTimeout(()=>{const _0x478795=_0x2c5607;delete this[_0x478795(0x77a)],this[_0x478795(0x1ad)][_0x478795(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30['Content'],'content':{'type':_0x18f1c1[_0x478795(0x6c7)],'label':this[_0x478795(0x6e8)],'ownerId':this[_0x478795(0x8fc)]['getId'](),'params':_0x55d5ad}});},0x1f4);}[_0x11ce6(0x786)](_0x541f10){const _0x19b309=_0x11ce6;_0x541f10||(_0x541f10=this[_0x19b309(0x96d)]()),(_0x541f10=Array['isArray'](_0x541f10)?_0x541f10:[_0x541f10])['forEach'](_0x11eafc=>this[_0x19b309(0x861)][_0x19b309(0x3a9)](_0x11eafc)),this[_0x19b309(0x1ad)][_0x19b309(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x19b309(0x575)],'content':{'type':_0x18f1c1[_0x19b309(0x8bf)],'label':this['label'],'ownerId':this[_0x19b309(0x8fc)][_0x19b309(0x9d8)](),'trackKinds':_0x541f10,'remainingTracks':this['subscribedTracks'][_0x19b309(0x84c)]}});}[_0x11ce6(0x9c8)](_0x2c2fcf){const _0x950dfb=_0x11ce6;return this[_0x950dfb(0x4e0)]['subscribe'](_0x2c2fcf);}[_0x11ce6(0x156)](){const _0x1b7b7c=_0x11ce6;return this[_0x1b7b7c(0x186)];}[_0x11ce6(0xbb)](_0x10c585){const _0x52376c=_0x11ce6;this['providerId']!==_0x10c585&&(this['providerId']=_0x10c585,this[_0x52376c(0x4e0)]['publish'](_0x10c585));}['unsubscribeTrackEndedListener'](_0xfe20a8){const _0x5ae06c=_0x11ce6;this[_0x5ae06c(0x9ed)]['get'](_0xfe20a8)?.(),this[_0x5ae06c(0x9ed)]['delete'](_0xfe20a8);}[_0x11ce6(0x80d)](_0x22769f){const _0x596d5b=_0x11ce6,_0x53766=this[_0x596d5b(0x402)][_0x596d5b(0x42d)]()['find'](_0xb54a6e=>_0xb54a6e[_0x596d5b(0x969)]===_0x22769f);_0x53766&&(this['mediaStream'][_0x596d5b(0x80d)](_0x53766),this[_0x596d5b(0x7ce)][_0x596d5b(0x7a1)](_0x130141=>_0x130141[_0x596d5b(0x80d)](_0x22769f)),this[_0x596d5b(0x9ed)][_0x596d5b(0x3f2)](_0x22769f)?.());}['setupRenderElement'](){const _0x252fc0=_0x11ce6;this[_0x252fc0(0x4bb)]&&(this[_0x252fc0(0x4bb)][_0x252fc0(0x8b6)]&&this[_0x252fc0(0x4bb)]['srcObject']===this[_0x252fc0(0x402)]||(this[_0x252fc0(0x4bb)][_0x252fc0(0x8b6)]=this[_0x252fc0(0x402)]));}['setupResizeHandler'](){const _0x259d2a=_0x11ce6;if(this[_0x259d2a(0x4bb)]&&!this['resizeHandler']&&_0x259d2a(0x126)!=typeof ResizeObserver){let _0x3a78d3=this[_0x259d2a(0x4bb)][_0x259d2a(0x1ab)],_0x5725d4=this[_0x259d2a(0x4bb)]['clientHeight'];const _0x3fef0c=new ResizeObserver(_0x25d0bb=>{const _0x16d9a5=_0x259d2a,{width:_0x44dcb4,height:_0x551ec7}=_0x25d0bb[0x0][_0x16d9a5(0x553)];_0x3a78d3===_0x44dcb4&&_0x5725d4===_0x551ec7||(_0x3a78d3=Math[_0x16d9a5(0x273)](_0x44dcb4),_0x5725d4=Math[_0x16d9a5(0x273)](_0x551ec7),this['update']({'video':{'maxResolution':{'width':_0x44dcb4,'height':_0x551ec7}}}));});_0x3fef0c['observe'](this[_0x259d2a(0x4bb)]),this[_0x259d2a(0x349)]=()=>_0x3fef0c[_0x259d2a(0x17d)]();}}[_0x11ce6(0x8dd)](_0x3adadf){const _0x26b0d6=_0x11ce6,_0x4ba49a=[];for(const _0x22ab32 of this[_0x26b0d6(0x861)])this[_0x26b0d6(0x80d)](_0x22ab32),_0x4ba49a['push'](_0x22ab32);this[_0x26b0d6(0x186)]&&this[_0x26b0d6(0x1ad)][_0x26b0d6(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x26b0d6(0x575)],'content':{'type':_0x18f1c1['RemoteMediaStreamTrackFail'],'label':this[_0x26b0d6(0x6e8)],'streamId':this[_0x26b0d6(0x9dd)],'ownerId':this[_0x26b0d6(0x8fc)][_0x26b0d6(0x9d8)](),'providerId':this[_0x26b0d6(0x186)],'trackKinds':_0x4ba49a}});}[_0x11ce6(0x4dc)](_0x4d3489){const _0xaa133=_0x11ce6,_0x4659d4=()=>this[_0xaa133(0x8dd)](_0x4d3489);_0x4d3489[_0xaa133(0x650)](_0xaa133(0x6f8),_0x4659d4),_0x4d3489[_0xaa133(0x650)](_0xaa133(0x6cd),_0x4659d4),this[_0xaa133(0x9ed)][_0xaa133(0x323)](_0x4d3489['kind'],()=>{const _0x1ea14a=_0xaa133;_0x4d3489[_0x1ea14a(0x40b)](_0x1ea14a(0x6f8),_0x4659d4),_0x4d3489[_0x1ea14a(0x40b)](_0x1ea14a(0x6cd),_0x4659d4),this[_0x1ea14a(0x9ed)][_0x1ea14a(0x3a9)](_0x4d3489[_0x1ea14a(0x969)]);});}}class _0x10d662 extends _0x468001{['localNode'];['clusterId'];[_0x11ce6(0x391)];['db'];[_0x11ce6(0x455)];['writes']=0x0;[_0x11ce6(0x738)]=0x0;[_0x11ce6(0x544)]=!0x1;constructor(_0x475a1,_0x593bb7,_0xc78d22,_0x1a2aa8,_0x710401){const _0x38cf4b=_0x11ce6;if(_0x38cf4b(0x9cc)!=typeof _0x593bb7)throw new _0x39299d(_0x1ffca6[_0x38cf4b(0x625)],_0x38cf4b(0x135));super(_0x475a1,_0x593bb7),this[_0x38cf4b(0xd3)]=_0x475a1,this[_0x38cf4b(0xa18)]=_0xc78d22,this[_0x38cf4b(0x391)]=_0x1a2aa8;const _0x2cb12b=_0x38cf4b(0x1b7)+this['vendorId']+'ccc'+this['clusterId']+_0x38cf4b(0x1b7)+this['label'];this['db']=new _0x710401(_0x2cb12b),this[_0x38cf4b(0x13c)]();}['getIsLoaded'](){const _0x3333b5=_0x11ce6;return this[_0x3333b5(0x544)];}[_0x11ce6(0x9a7)](_0x528a30){const _0x4c7a4f=_0x11ce6;this[_0x4c7a4f(0x544)]=_0x528a30;}[_0x11ce6(0x4d6)](){const _0xa348a=_0x11ce6;clearTimeout(this[_0xa348a(0x455)]),delete this[_0xa348a(0x455)],super[_0xa348a(0x4d6)]();}[_0x11ce6(0x17e)](){const _0x222205=_0x11ce6;this[_0x222205(0x1ad)][_0x222205(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x222205(0x575)],'content':{'type':_0x18f1c1[_0x222205(0x367)],'label':this[_0x222205(0x6e8)]}});}[_0x11ce6(0x7e8)](){this['sendStats']();}['getContentType'](){const _0x553744=_0x11ce6;return _0x4aea4d[_0x553744(0x43d)][_0x553744(0x9d3)];}[_0x11ce6(0x92e)](_0x217bc8,_0x2d5b80,_0x5f5b0e,_0x47d869){const _0x252a96=_0x11ce6,_0x2d87ef=this['db']['search'](_0x217bc8,_0x2d5b80,_0x5f5b0e,_0x47d869);return this[_0x252a96(0x738)]+=0x1,_0x5c02ff[_0x252a96(0x253)](_0x8fa077['VectorDatabase'],{'type':_0x252a96(0x92e),'label':this[_0x252a96(0x6e8)],'nodeId':this[_0x252a96(0xd3)][_0x252a96(0x9d8)](),'nodeType':this['localNode'][_0x252a96(0x789)],'clusterId':this[_0x252a96(0xa18)],'size':0x0}),this[_0x252a96(0x13c)](),_0x2d87ef;}[_0x11ce6(0x34a)](_0x52dc81,_0x53ab7b,_0x2ad11a,_0x4b0b30){const _0x4f0a96=_0x11ce6;this['db'][_0x4f0a96(0x34a)](_0x52dc81,_0x53ab7b,_0x2ad11a,_0x4b0b30),this['writes']+=0x1,_0x5c02ff['logServiceEvent'](_0x8fa077[_0x4f0a96(0x9d3)],{'type':'insert','label':this['label'],'nodeId':this[_0x4f0a96(0xd3)][_0x4f0a96(0x9d8)](),'nodeType':this['localNode']['type'],'clusterId':this[_0x4f0a96(0xa18)],'size':_0x4b0b30['reduce']((_0x39bc33,_0x29f57b)=>_0x39bc33+_0x29f57b['length'],0x0)}),this['sendStats']();}[_0x11ce6(0x3e3)](_0x5a4c38){const _0x44913d=_0x11ce6;this['db'][_0x44913d(0x3e3)](_0x5a4c38),this['writes']+=0x1,_0x5c02ff[_0x44913d(0x253)](_0x8fa077['VectorDatabase'],{'type':_0x44913d(0x3e3),'label':this[_0x44913d(0x6e8)],'nodeId':this[_0x44913d(0xd3)][_0x44913d(0x9d8)](),'nodeType':this[_0x44913d(0xd3)][_0x44913d(0x789)],'clusterId':this[_0x44913d(0xa18)],'size':0x0}),this[_0x44913d(0x13c)]();}[_0x11ce6(0xf4)](_0x577de5){const _0x5a8b33=_0x11ce6;this['db'][_0x5a8b33(0xf4)](_0x577de5);}[_0x11ce6(0x701)](_0x268403){const _0x262cd1=_0x11ce6;this['db'][_0x262cd1(0x701)](_0x268403);}['sendStats'](){const _0x309842=_0x11ce6;this[_0x309842(0x455)]&&clearTimeout(this[_0x309842(0x455)]),this[_0x309842(0x455)]=setTimeout(async()=>{const _0x404c4d=_0x309842;delete this[_0x404c4d(0x455)];const _0x497df7=this['db'][_0x404c4d(0x993)]()[_0x404c4d(0x713)];this[_0x404c4d(0x1ad)][_0x404c4d(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30['Content'],'content':{'type':_0x18f1c1[_0x404c4d(0x7ee)],'label':this[_0x404c4d(0x6e8)],'stats':{'timestamp':Date['now'](),'storage':_0x497df7,'messagesSent':this['messagesSent'],'messagesReceived':this[_0x404c4d(0x219)],'bytesSent':this[_0x404c4d(0x769)],'bytesReceived':this[_0x404c4d(0x8a5)],'writes':this[_0x404c4d(0x783)],'reads':this[_0x404c4d(0x738)],'prompts':0x0,'tokens':0x0}}}),_0x5c02ff['logStorage'](_0x8fa077['VectorDatabase'],_0x404c4d(0x1b7)+this[_0x404c4d(0xa18)]+'ccc'+this[_0x404c4d(0x6e8)],_0x497df7);},_0x59cbea);}}class _0xf98837{['id'];[_0x11ce6(0x907)];[_0x11ce6(0x8b9)];constructor(_0x15ba10,_0x3e9fb2=new Set(),_0x433c99){this['id']=_0x15ba10,this['remoteConnections']=_0x3e9fb2,this['rank']=_0x433c99;}[_0x11ce6(0x17e)](){const _0x12f755=_0x11ce6;this[_0x12f755(0x8b9)]=void 0x0,this[_0x12f755(0x907)][_0x12f755(0x918)]();}[_0x11ce6(0x9d8)](){return this['id'];}['getRank'](){const _0xe4ab09=_0x11ce6;return this[_0xe4ab09(0x8b9)];}['getRemoteConnections'](){const _0x321acc=_0x11ce6;return this[_0x321acc(0x907)];}}class _0x40c8c6 extends _0xf98837{['id'];[_0x11ce6(0x535)];[_0x11ce6(0x3fd)];[_0x11ce6(0x907)];[_0x11ce6(0x8b9)];[_0x11ce6(0x789)]=_0x4aea4d[_0x11ce6(0x552)][_0x11ce6(0x59b)];constructor(_0x5b1d92,_0x3ff34d,_0x55ffb1,_0x10ee06=new Set(),_0x2be1df){const _0x28636f=_0x11ce6;super(_0x5b1d92,_0x10ee06,_0x2be1df),this['id']=_0x5b1d92,this['displayName']=_0x3ff34d,this['email']=_0x55ffb1,this[_0x28636f(0x907)]=_0x10ee06,this[_0x28636f(0x8b9)]=_0x2be1df;}[_0x11ce6(0x7d2)](){const _0x335df1=_0x11ce6;return this[_0x335df1(0x535)];}[_0x11ce6(0x300)](){const _0x30b204=_0x11ce6;return this[_0x30b204(0x3fd)];}}class _0x5d67cc{[_0x11ce6(0x391)];[_0x11ce6(0xa18)];[_0x11ce6(0x3cc)];constructor(_0x39c32b,_0x327afc){const _0x5190a0=_0x11ce6;this['vendorId']=_0x39c32b,this[_0x5190a0(0xa18)]=_0x327afc,this[_0x5190a0(0x3cc)]=_0x5190a0(0x1b7)+this['vendorId']+_0x5190a0(0x1b7)+this['clusterId'];}async[_0x11ce6(0x9fd)](_0x26b565,_0x4268ff){const _0x1e5526=_0x11ce6,_0x65ce67=(0x0,_0x8e1eca[_0x1e5526(0x95f)])(_0x24cd47[_0x1e5526(0x920)](),_0x1e5526(0x21f)+this[_0x1e5526(0x3cc)]+_0x1e5526(0x4fc)+_0x4268ff+_0x1e5526(0x489)+_0x26b565['id']),_0x1b4a9a=(0x0,_0x8e1eca[_0x1e5526(0x669)])(_0x65ce67);_0x1b4a9a['remove'](),_0x26b565[_0x1e5526(0x2a3)]||delete _0x26b565[_0x1e5526(0x2a3)];try{await(0x0,_0x8e1eca[_0x1e5526(0x323)])(_0x65ce67,_0x26b565);}catch(_0x5332ad){throw await _0x1b4a9a[_0x1e5526(0x2f2)](),new _0x490cf1(_0x490cf1['codes'][_0x1e5526(0x79d)]);}if(!0x1===(await(0x0,_0x8e1eca[_0x1e5526(0x2ba)])((0x0,_0x8e1eca[_0x1e5526(0x95f)])(_0x24cd47['getDatabase'](),_0x1e5526(0x21f)+this[_0x1e5526(0x3cc)]+_0x1e5526(0x4fc)+_0x4268ff+_0x1e5526(0x4bc)),_0xd40a68=>_0xd40a68?_0xd40a68===_0x26b565[_0x1e5526(0x2a3)]?_0x26b565['id']:void 0x0:_0x26b565[_0x1e5526(0x2a3)]?_0x26b565[_0x1e5526(0x2a3)]:_0x26b565['id']))['committed'])throw await(0x0,_0x8e1eca[_0x1e5526(0x3e3)])(_0x65ce67),await _0x1b4a9a[_0x1e5526(0x2f2)](),new _0x490cf1(_0x490cf1[_0x1e5526(0x9fb)][_0x1e5526(0x3b4)]);await _0x1b4a9a[_0x1e5526(0x2f2)]();}async['getTransactions'](_0x38f12f,_0x413f51){const _0x1aa7b8=_0x11ce6;let _0x2f3764=[];const _0x6afe3e=(0x0,_0x8e1eca['ref'])(_0x24cd47['getDatabase'](),'clusters/'+this[_0x1aa7b8(0x3cc)]+_0x1aa7b8(0x4fc)+_0x38f12f+_0x1aa7b8(0xce));let _0x184bdb=await(0x0,_0x8e1eca[_0x1aa7b8(0x3f2)])((0x0,_0x8e1eca[_0x1aa7b8(0x837)])(_0x6afe3e,(0x0,_0x8e1eca[_0x1aa7b8(0xa00)])(0x65),(0x0,_0x8e1eca[_0x1aa7b8(0x642)])()));if(!_0x184bdb[_0x1aa7b8(0x1f1)]()){if(void 0x0!==_0x413f51)throw new _0x490cf1(_0x490cf1[_0x1aa7b8(0x9fb)]['ObjectStoreInvalidState']);return _0x2f3764;}const _0x555700=_0x184bdb['val']();for(;Object['keys'](_0x184bdb[_0x1aa7b8(0x248)]())[_0x1aa7b8(0x7ad)]>0x64;){const _0x25d228=Object[_0x1aa7b8(0x8ae)](_0x184bdb[_0x1aa7b8(0x248)]()),_0x4a7027=_0x25d228[_0x25d228[_0x1aa7b8(0x7ad)]-0x1];_0x184bdb=await(0x0,_0x8e1eca['get'])((0x0,_0x8e1eca[_0x1aa7b8(0x837)])(_0x6afe3e,(0x0,_0x8e1eca[_0x1aa7b8(0xa00)])(0x65),(0x0,_0x8e1eca[_0x1aa7b8(0x393)])(_0x4a7027),(0x0,_0x8e1eca[_0x1aa7b8(0x642)])())),Object[_0x1aa7b8(0x426)](_0x555700,_0x184bdb[_0x1aa7b8(0x248)]());}if(_0x2f3764=Object[_0x1aa7b8(0x8ea)](_0x555700)['filter'](_0x9646e0=>_0x1aa7b8(0x9cc)!=typeof _0x9646e0),0x0===_0x2f3764[_0x1aa7b8(0x7ad)]&&void 0x0!==_0x413f51)throw new _0x490cf1(_0x490cf1[_0x1aa7b8(0x9fb)]['ObjectStoreInvalidState']);if(_0x2f3764['length']>0x0&&void 0x0!==_0x413f51&&!_0x2f3764[_0x1aa7b8(0x957)](_0x4e1031=>_0x4e1031['id']===_0x413f51))throw new _0x490cf1(_0x490cf1[_0x1aa7b8(0x9fb)][_0x1aa7b8(0x7eb)]);const _0x2a85e3=[];let _0x14cf29=_0x2f3764[_0x1aa7b8(0x957)](_0x34e963=>_0x34e963[_0x1aa7b8(0x2a3)]===_0x413f51);for(;_0x14cf29;)_0x2a85e3['push'](_0x14cf29),_0x14cf29=_0x2f3764[_0x1aa7b8(0x957)](_0x2ab203=>_0x2ab203['parentId']===_0x14cf29['id']);return _0x2a85e3;}}class _0x1556aa{[_0x11ce6(0x102)];[_0x11ce6(0x809)];[_0x11ce6(0x417)];[_0x11ce6(0x77b)];[_0x11ce6(0x3f4)]=new Map();['remoteMediaStreams']=new Map();[_0x11ce6(0x34e)]=new Map();[_0x11ce6(0x46b)]=new Map();['externalStorageConnections']=new Map();[_0x11ce6(0x741)]=new Map();[_0x11ce6(0x1da)]=new Map();[_0x11ce6(0x78b)]=new Map();[_0x11ce6(0x76f)]=new Map();[_0x11ce6(0x88d)]=new Map();[_0x11ce6(0x493)];constructor(_0x4cd8c2,_0x39ff83,_0x1c4b44,_0x105436){const _0x3fe154=_0x11ce6;this[_0x3fe154(0x102)]=_0x4cd8c2,this['options']=_0x39ff83,this[_0x3fe154(0x417)]=_0x1c4b44,this['aiSearchApiKey']=_0x105436,this[_0x3fe154(0x493)]=new _0x5d67cc(this['configs'][_0x3fe154(0x391)],this[_0x3fe154(0x102)]['clusterId']);}[_0x11ce6(0x17e)](_0x2b1a1a=!0x1){const _0x354d32=_0x11ce6;this[_0x354d32(0x288)]['forEach']((_0x216050,_0xe7e416)=>{const _0x506d94=_0x354d32;_0x216050[_0x506d94(0x7a1)]((_0x166471,_0x33c89d)=>{const _0xe42312=_0x506d94;this[_0xe42312(0x4a9)](_0xe7e416,_0x33c89d);});}),_0x2b1a1a||(_0x543b18[_0x354d32(0x918)](),this[_0x354d32(0x3f4)][_0x354d32(0x7a1)]((_0xb8e3b,_0x409463)=>{const _0x5c47a5=_0x354d32;this[_0x5c47a5(0x395)](_0x409463);}),this[_0x354d32(0x34e)][_0x354d32(0x7a1)]((_0x58cd19,_0x46a637)=>{const _0x55b6bc=_0x354d32;this[_0x55b6bc(0x93e)](_0x46a637);}),this[_0x354d32(0x46b)][_0x354d32(0x7a1)]((_0x23fe8e,_0x7e4bfb)=>{this['removeObjectStore'](_0x7e4bfb);}),this[_0x354d32(0x7e7)][_0x354d32(0x7a1)]((_0x4b60b4,_0x26b58f)=>{const _0x12d7f6=_0x354d32;this[_0x12d7f6(0x432)](_0x26b58f);}),this['keyValueDatabases'][_0x354d32(0x7a1)]((_0xaa04d7,_0x2cbcc8)=>{const _0x499af7=_0x354d32;this[_0x499af7(0x567)](_0x2cbcc8);}),this[_0x354d32(0x76f)]['forEach']((_0x2eb5f3,_0x255f5b)=>{const _0x17347c=_0x354d32;this[_0x17347c(0x4a2)](_0x255f5b);}),this[_0x354d32(0x88d)]['forEach']((_0x433b5f,_0x4eb322)=>{const _0x1c5378=_0x354d32;this[_0x1c5378(0x8b5)](_0x4eb322);}),this[_0x354d32(0x1da)][_0x354d32(0x7a1)]((_0xb1c9cf,_0x119c55)=>{const _0x6d2988=_0x354d32;this[_0x6d2988(0x6c3)](_0x119c55);}),this['graphDatabases'][_0x354d32(0x7a1)]((_0x42e76d,_0x80ff1c)=>{this['removeGraphDatabase'](_0x80ff1c);}));}['createObjectStoreBucket'](_0x1473ac,_0x224cff,_0x280d01){const _0x4f4485=_0x11ce6;if(this[_0x4f4485(0x46b)]['has'](_0x1473ac))throw new _0x39299d(_0x1ffca6[_0x4f4485(0x2c7)],'Store\x20already\x20exists');const _0xb2f032=new _0x418fa5(this[_0x4f4485(0x102)][_0x4f4485(0xd3)],_0x1473ac,this[_0x4f4485(0x102)][_0x4f4485(0xa18)],this['configs']['vendorId'],this[_0x4f4485(0x493)],_0x224cff,()=>this['configs'][_0x4f4485(0x4f6)]['waitForArrayBufferSize'](),_0x280d01);return this['objectStores'][_0x4f4485(0x323)](_0x1473ac,_0xb2f032),this[_0x4f4485(0x102)]['mediator'][_0x4f4485(0x4da)](_0xb2f032),_0xb2f032;}[_0x11ce6(0x46f)](_0x5d21fa,_0x290e42){const _0x254dec=_0x11ce6;if(this[_0x254dec(0x46b)][_0x254dec(0x297)](_0x5d21fa))throw new _0x39299d(_0x1ffca6[_0x254dec(0x917)],_0x254dec(0x37f));const _0x3fed47=new _0x32e211(this['configs'][_0x254dec(0xd3)],_0x5d21fa,this[_0x254dec(0x102)][_0x254dec(0xa18)],this[_0x254dec(0x102)][_0x254dec(0x391)],_0x290e42);return this[_0x254dec(0x7e7)]['set'](_0x5d21fa,_0x3fed47),this[_0x254dec(0x102)]['mediator'][_0x254dec(0x4da)](_0x3fed47),_0x3fed47;}async[_0x11ce6(0x8de)](_0x2defd3,_0x4aaac5,_0x3f7251){const _0x25c258=_0x11ce6;if(this[_0x25c258(0x741)][_0x25c258(0x297)](_0x2defd3))throw new _0x39299d(_0x1ffca6[_0x25c258(0x774)],_0x25c258(0x1c1));try{const _0x18af5a=this[_0x25c258(0x102)][_0x25c258(0x4f6)]['isNodeReady']['bind'](this[_0x25c258(0x102)][_0x25c258(0x4f6)]),_0xf2ad8=new _0x44d718(this[_0x25c258(0x102)]['localNode'],_0x2defd3,this[_0x25c258(0x102)][_0x25c258(0xa18)],this[_0x25c258(0x102)][_0x25c258(0x391)],_0x4aaac5,_0x3f7251,_0x18af5a);return this['keyValueDatabases'][_0x25c258(0x323)](_0x2defd3,_0xf2ad8),this['configs']['mediator'][_0x25c258(0x4da)](_0xf2ad8),_0xf2ad8;}catch(_0xdddb0f){if(_0xdddb0f instanceof _0x39299d)throw _0xdddb0f;throw new _0x490cf1(_0x490cf1[_0x25c258(0x9fb)]['KeyValueDatabaseCreationFailed'],{'label':_0x2defd3,'clusterId':this[_0x25c258(0x102)]['clusterId'],'vendorId':this[_0x25c258(0x102)]['vendorId']});}}async['createJobDispatcher'](_0x5b4ef4,_0x10557a){const _0xf679bc=_0x11ce6;if(this[_0xf679bc(0x76f)][_0xf679bc(0x297)](_0x5b4ef4))throw new _0x39299d(_0x1ffca6[_0xf679bc(0x9ab)],_0xf679bc(0x604));try{const _0x19e19b=new _0xebcc88(this[_0xf679bc(0x102)]['localNode'],_0x5b4ef4,_0x10557a);return this['jobDispatchers']['set'](_0x5b4ef4,_0x19e19b),this[_0xf679bc(0x102)]['mediator'][_0xf679bc(0x4da)](_0x19e19b),_0x19e19b;}catch(_0x1c709f){if(_0x1c709f instanceof _0x39299d)throw _0x1c709f;throw new _0x490cf1(_0x490cf1[_0xf679bc(0x9fb)]['JobDispatcherCreationFailed'],{'label':_0x5b4ef4,'clusterId':this[_0xf679bc(0x102)][_0xf679bc(0xa18)],'vendorId':this[_0xf679bc(0x102)][_0xf679bc(0x391)]});}}async[_0x11ce6(0x825)](_0x52caa2,_0x16e124){const _0xe8868f=_0x11ce6;if(this[_0xe8868f(0x76f)][_0xe8868f(0x297)](_0x52caa2))throw new _0x39299d(_0x1ffca6[_0xe8868f(0x284)],_0xe8868f(0x9af));if(this['jobWorkers'][_0xe8868f(0x297)](_0x52caa2))throw new _0x39299d(_0x1ffca6[_0xe8868f(0x9d7)],_0xe8868f(0x726));try{const _0x107b06=new _0x3e4c62(this[_0xe8868f(0x102)][_0xe8868f(0xd3)],_0x52caa2,this['configs'][_0xe8868f(0x391)],_0x16e124);return this['jobDispatchers'][_0xe8868f(0x323)](_0x52caa2,_0x107b06),this['configs'][_0xe8868f(0x4f6)][_0xe8868f(0x4da)](_0x107b06),_0x107b06;}catch(_0x2477c5){if(_0x2477c5 instanceof _0x39299d)throw _0x2477c5;throw new _0x490cf1(_0x490cf1[_0xe8868f(0x9fb)][_0xe8868f(0x9f1)],{'label':_0x52caa2,'clusterId':this[_0xe8868f(0x102)][_0xe8868f(0xa18)],'vendorId':this[_0xe8868f(0x102)][_0xe8868f(0x391)]});}}async[_0x11ce6(0x24f)](_0x23fd92,_0x785de,_0x2c7967,_0x27d2dd,_0x2abb18,_0x70caf0,_0x58b515,_0x4732c0){const _0x55d3a1=_0x11ce6;if(this[_0x55d3a1(0x88d)][_0x55d3a1(0x297)](_0x23fd92))throw new _0x39299d(_0x1ffca6[_0x55d3a1(0x39a)],_0x55d3a1(0xa1b));if(this[_0x55d3a1(0x76f)][_0x55d3a1(0x297)](_0x23fd92))throw new _0x39299d(_0x1ffca6[_0x55d3a1(0x9d7)],'Label\x20already\x20in\x20use\x20by\x20AI\x20Service');try{const _0x9ff62e=new _0x1526b8(this[_0x55d3a1(0x102)][_0x55d3a1(0xd3)],_0x23fd92,this[_0x55d3a1(0x102)][_0x55d3a1(0x391)],_0x785de,this,_0x2c7967,_0x27d2dd,_0x2abb18,this[_0x55d3a1(0x417)],this[_0x55d3a1(0x77b)],_0x70caf0,_0x58b515,_0x4732c0);return this['jobWorkers']['set'](_0x23fd92,_0x9ff62e),this[_0x55d3a1(0x102)][_0x55d3a1(0x4f6)]['registerSystemSource'](_0x9ff62e),_0x9ff62e;}catch(_0x44c06c){if(_0x44c06c instanceof _0x39299d)throw _0x44c06c;throw new _0x490cf1(_0x490cf1[_0x55d3a1(0x9fb)][_0x55d3a1(0x32d)],{'label':_0x23fd92,'clusterId':this[_0x55d3a1(0x102)][_0x55d3a1(0xa18)],'vendorId':this[_0x55d3a1(0x102)][_0x55d3a1(0x391)]});}}[_0x11ce6(0x909)](_0x5eb867,_0xf883d4){const _0x2faa1c=_0x11ce6;if(this[_0x2faa1c(0x78b)][_0x2faa1c(0x297)](_0x5eb867))throw new _0x39299d(_0x1ffca6['GraphDatabaseAlreadyExists'],_0x2faa1c(0x1c1));try{const _0x2982da=new _0x4be644(this['configs'][_0x2faa1c(0xd3)],_0x5eb867,this[_0x2faa1c(0x102)][_0x2faa1c(0xa18)],this[_0x2faa1c(0x102)][_0x2faa1c(0x391)],_0xf883d4);return this[_0x2faa1c(0x78b)][_0x2faa1c(0x323)](_0x5eb867,_0x2982da),this[_0x2faa1c(0x102)][_0x2faa1c(0x4f6)][_0x2faa1c(0x4da)](_0x2982da),_0x2982da;}catch(_0x31665a){if(_0x31665a instanceof _0x39299d)throw _0x31665a;throw new _0x490cf1(_0x490cf1[_0x2faa1c(0x9fb)]['GraphDatabaseCreationFailed'],{'label':_0x5eb867,'clusterId':this[_0x2faa1c(0x102)][_0x2faa1c(0xa18)],'vendorId':this['configs'][_0x2faa1c(0x391)]});}}[_0x11ce6(0x6d8)](_0x2476b5,_0x4c569c){const _0x577093=_0x11ce6;if(this[_0x577093(0x3f4)][_0x577093(0x297)](_0x2476b5))throw new _0x39299d(_0x1ffca6[_0x577093(0x4c9)],_0x577093(0x6de));if(!this[_0x577093(0x809)][_0x577093(0x84d)])throw new _0x39299d(_0x1ffca6[_0x577093(0x90c)],_0x577093(0x889));const _0x5b8816=new _0x193340(this[_0x577093(0x102)]['localNode'],_0x2476b5,_0x4c569c,this[_0x577093(0x809)][_0x577093(0x266)],this[_0x577093(0x809)][_0x577093(0x84d)],this[_0x577093(0x102)]['clusterId']);return this[_0x577093(0x3f4)][_0x577093(0x323)](_0x2476b5,_0x5b8816),this[_0x577093(0x102)][_0x577093(0x4f6)][_0x577093(0x4da)](_0x5b8816),_0x5b8816['publish'](),_0x5b8816;}[_0x11ce6(0x509)](_0x22c8a8,_0x5ee8cc){const _0x156e50=_0x11ce6;if(this['localMediaStreams'][_0x156e50(0x297)](_0x22c8a8))throw new _0x39299d(_0x1ffca6[_0x156e50(0x4c9)],_0x156e50(0x2ef));const _0x1cd0cf=new _0x455d7b(this[_0x156e50(0x102)][_0x156e50(0xd3)],_0x22c8a8,_0x5ee8cc,this[_0x156e50(0x102)][_0x156e50(0xa18)]);return this[_0x156e50(0x3f4)][_0x156e50(0x323)](_0x22c8a8,_0x1cd0cf),this['configs'][_0x156e50(0x4f6)][_0x156e50(0x4da)](_0x1cd0cf),_0x1cd0cf['publish'](),_0x1cd0cf;}['createPubSubTopic'](_0x1ed0e2){const _0x201c4e=_0x11ce6;if(this[_0x201c4e(0x34e)][_0x201c4e(0x297)](_0x1ed0e2))throw new _0x39299d(_0x1ffca6['PubSubTopicAlreadyExists'],_0x201c4e(0x6e9));const _0x58671d=new _0x413d48(this[_0x201c4e(0x102)][_0x201c4e(0xd3)],_0x1ed0e2,this[_0x201c4e(0x102)][_0x201c4e(0xa18)]);return this[_0x201c4e(0x34e)][_0x201c4e(0x323)](_0x1ed0e2,_0x58671d),this[_0x201c4e(0x102)][_0x201c4e(0x4f6)][_0x201c4e(0x4da)](_0x58671d),_0x58671d;}[_0x11ce6(0x82a)](_0x80b3ff,_0x18b438,_0x481768,_0x59b472){const _0x192a2a=_0x11ce6;this['remoteMediaStreams'][_0x192a2a(0x297)](_0x80b3ff)||this[_0x192a2a(0x288)][_0x192a2a(0x323)](_0x80b3ff,new Map());const _0x14d327=this[_0x192a2a(0x288)]['get'](_0x80b3ff);if(_0x14d327[_0x192a2a(0x297)](_0x18b438))throw new _0x39299d(_0x1ffca6['RemoteMediaStreamAlreadyExists'],_0x192a2a(0x5b3));const _0x350847=new _0x40c8c6(_0x80b3ff,'',''),_0x21e0a4=new _0xab83b8(this[_0x192a2a(0x102)][_0x192a2a(0xd3)],_0x350847,_0x18b438,_0x481768,_0x59b472,this[_0x192a2a(0x102)]['clusterId']);return _0x14d327[_0x192a2a(0x323)](_0x18b438,_0x21e0a4),this['configs'][_0x192a2a(0x4f6)][_0x192a2a(0x4da)](_0x21e0a4),_0x21e0a4;}[_0x11ce6(0x71c)](_0x49cb6f,_0x2c4564){const _0x3d2093=_0x11ce6;if(this[_0x3d2093(0x1da)][_0x3d2093(0x297)](_0x49cb6f))throw new _0x39299d(_0x1ffca6[_0x3d2093(0x85e)],_0x3d2093(0x1c1));try{const _0x3f627e=new _0x10d662(this[_0x3d2093(0x102)][_0x3d2093(0xd3)],_0x49cb6f,this[_0x3d2093(0x102)][_0x3d2093(0xa18)],this[_0x3d2093(0x102)][_0x3d2093(0x391)],_0x2c4564);return this[_0x3d2093(0x1da)][_0x3d2093(0x323)](_0x49cb6f,_0x3f627e),this['configs'][_0x3d2093(0x4f6)]['registerSystemSource'](_0x3f627e),_0x3f627e;}catch(_0x4fdf58){if(_0x4fdf58 instanceof _0x39299d)throw _0x4fdf58;throw new _0x490cf1(_0x490cf1[_0x3d2093(0x9fb)][_0x3d2093(0x38b)],{'label':_0x49cb6f,'clusterId':this[_0x3d2093(0x102)]['clusterId'],'vendorId':this[_0x3d2093(0x102)][_0x3d2093(0x391)]});}}[_0x11ce6(0x755)](_0x540ac0){const _0x1f4bd2=_0x11ce6,_0x1e1b8c=Array[_0x1f4bd2(0x462)](this[_0x1f4bd2(0x46b)][_0x1f4bd2(0x8ea)]());return _0x540ac0?_0x1e1b8c['filter'](_0x540ac0):_0x1e1b8c;}[_0x11ce6(0x8b2)](_0x400e50){const _0x5c7111=_0x11ce6,_0x55c89f=Array[_0x5c7111(0x462)](this[_0x5c7111(0x7e7)][_0x5c7111(0x8ea)]());return _0x400e50?_0x55c89f[_0x5c7111(0x80e)](_0x400e50):_0x55c89f;}['getKeyValueDatabases'](_0x2634d6){const _0x5f1990=_0x11ce6,_0x15d35b=Array['from'](this[_0x5f1990(0x741)][_0x5f1990(0x8ea)]());return _0x2634d6?_0x15d35b[_0x5f1990(0x80e)](_0x2634d6):_0x15d35b;}[_0x11ce6(0x83f)](_0x441fd6){const _0x9fb0c9=_0x11ce6,_0x3b7e5e=Array['from'](this[_0x9fb0c9(0x76f)]['values']());return _0x441fd6?_0x3b7e5e['filter'](_0x441fd6):_0x3b7e5e;}['getJobWorkers'](_0x256ecd){const _0x1a656b=_0x11ce6,_0x284da5=Array[_0x1a656b(0x462)](this['jobWorkers'][_0x1a656b(0x8ea)]());return _0x256ecd?_0x284da5[_0x1a656b(0x80e)](_0x256ecd):_0x284da5;}['getGenerativeAIContexts'](_0x5549fa){const _0x5c891b=_0x11ce6,_0x26b183=Array[_0x5c891b(0x462)](this[_0x5c891b(0x76f)][_0x5c891b(0x8ea)]())[_0x5c891b(0x80e)](_0x598ccb=>_0x598ccb instanceof _0x3e4c62);return _0x5549fa?_0x26b183['filter'](_0x5549fa):_0x26b183;}[_0x11ce6(0x8f8)](_0x3fa3ac){const _0x494a5c=_0x11ce6,_0x2b21fe=Array[_0x494a5c(0x462)](this[_0x494a5c(0x88d)][_0x494a5c(0x8ea)]())[_0x494a5c(0x80e)](_0x51641c=>_0x51641c instanceof _0x1526b8);return _0x3fa3ac?_0x2b21fe[_0x494a5c(0x80e)](_0x3fa3ac):_0x2b21fe;}[_0x11ce6(0x697)](_0x34f5ce){const _0x452ea4=_0x11ce6,_0x206a7e=Array[_0x452ea4(0x462)](this['graphDatabases'][_0x452ea4(0x8ea)]());return _0x34f5ce?_0x206a7e['filter'](_0x34f5ce):_0x206a7e;}['getLocalMediaStreams'](_0x2d86e2){const _0x26ea0d=_0x11ce6,_0x1b1795=Array[_0x26ea0d(0x462)](this[_0x26ea0d(0x3f4)][_0x26ea0d(0x8ea)]());return _0x2d86e2?_0x1b1795[_0x26ea0d(0x80e)](_0x2d86e2):_0x1b1795;}[_0x11ce6(0x65f)](_0x4df89f){const _0x54922d=_0x11ce6,_0x39ed10=Array[_0x54922d(0x462)](this['pubSubTopics']['values']());return _0x4df89f?_0x39ed10[_0x54922d(0x80e)](_0x4df89f):_0x39ed10;}[_0x11ce6(0x3ad)](_0x1ee870){const _0x3c36ed=_0x11ce6,_0x1d3f36=Array[_0x3c36ed(0x462)](this[_0x3c36ed(0x288)][_0x3c36ed(0x8ea)]())[_0x3c36ed(0x484)]((_0x51c290,_0x287722)=>[..._0x51c290,...Array[_0x3c36ed(0x462)](_0x287722[_0x3c36ed(0x8ea)]())],[]);return _0x1ee870?_0x1d3f36[_0x3c36ed(0x80e)](_0x1ee870):_0x1d3f36;}[_0x11ce6(0x8a8)](_0x3a8716){const _0x163e70=_0x11ce6,_0x113887=Array['from'](this[_0x163e70(0x1da)][_0x163e70(0x8ea)]());return _0x3a8716?_0x113887[_0x163e70(0x80e)](_0x3a8716):_0x113887;}[_0x11ce6(0x6af)](_0x35fa98){const _0xa8c358=_0x11ce6,_0x3e0ac3=this[_0xa8c358(0x46b)][_0xa8c358(0x3f2)](_0x35fa98);if(!_0x3e0ac3)throw new _0x39299d(_0x1ffca6[_0xa8c358(0x5a3)],_0xa8c358(0x83c));return _0x3e0ac3;}[_0x11ce6(0x8ff)](_0x224c85){const _0x16bcdd=_0x11ce6,_0x32e096=_0x224c85[_0x16bcdd(0x82c)]('-'),_0xe662c0=this[_0x16bcdd(0x7e7)][_0x16bcdd(0x3f2)](_0x32e096[0x1]);if(!_0xe662c0)throw new _0x39299d(_0x1ffca6[_0x16bcdd(0x986)],_0x16bcdd(0x712));return _0xe662c0;}[_0x11ce6(0x5d1)](_0x265771){const _0x331df7=_0x11ce6,_0x21dfab=this[_0x331df7(0x78b)][_0x331df7(0x3f2)](_0x265771);if(!_0x21dfab)throw new _0x39299d(_0x1ffca6['GraphDatabaseDoesNotExist'],'GraphDatabase\x20not\x20found');return _0x21dfab;}[_0x11ce6(0x141)](_0x5f40a9){const _0x10946c=_0x11ce6,_0x1336c2=this[_0x10946c(0x741)][_0x10946c(0x3f2)](_0x5f40a9);if(!_0x1336c2)throw new _0x39299d(_0x1ffca6[_0x10946c(0x444)],_0x10946c(0x4f8));return _0x1336c2;}['getPubSubTopic'](_0xda2f0b){const _0x25d504=_0x11ce6,_0x54eb90=this[_0x25d504(0x34e)][_0x25d504(0x3f2)](_0xda2f0b);if(!_0x54eb90)throw new _0x39299d(_0x1ffca6['PubSubTopicDoesNotExist'],_0x25d504(0x569));return _0x54eb90;}[_0x11ce6(0x6eb)](_0x5ec8fa){const _0x5c8518=_0x11ce6,_0x482519=this[_0x5c8518(0x1da)]['get'](_0x5ec8fa);if(!_0x482519)throw new _0x39299d(_0x1ffca6[_0x5c8518(0x51d)],_0x5c8518(0x4dd));return _0x482519;}['handleContentSystemEvents'](_0x53b754){const _0xb79797=_0x11ce6;switch(_0x53b754[_0xb79797(0x1c4)][_0xb79797(0x789)]){case _0x18f1c1['PublishMediaStream']:this['handlePublishMediaStream'](_0x53b754[_0xb79797(0x1c4)]);break;case _0x18f1c1[_0xb79797(0x753)]:this[_0xb79797(0x2a4)](_0x53b754[_0xb79797(0x1c4)]);break;case _0x18f1c1[_0xb79797(0x303)]:this[_0xb79797(0x4a2)](_0x53b754['content'][_0xb79797(0x6e8)]);break;case _0x18f1c1[_0xb79797(0x61a)]:this[_0xb79797(0x8b5)](_0x53b754[_0xb79797(0x1c4)]['label']);break;case _0x18f1c1[_0xb79797(0x526)]:this[_0xb79797(0x395)](_0x53b754[_0xb79797(0x1c4)][_0xb79797(0x6e8)]);break;case _0x18f1c1[_0xb79797(0x144)]:this['removePubSubTopic'](_0x53b754[_0xb79797(0x1c4)]['label']);break;case _0x18f1c1[_0xb79797(0x1b5)]:this[_0xb79797(0x890)](_0x53b754[_0xb79797(0x1c4)][_0xb79797(0x6e8)]);break;case _0x18f1c1[_0xb79797(0x243)]:this[_0xb79797(0x432)](_0x53b754[_0xb79797(0x1c4)][_0xb79797(0x6e8)]);break;case _0x18f1c1[_0xb79797(0x1fa)]:this[_0xb79797(0x567)](_0x53b754[_0xb79797(0x1c4)][_0xb79797(0x6e8)]);break;case _0x18f1c1[_0xb79797(0x367)]:this[_0xb79797(0x6c3)](_0x53b754[_0xb79797(0x1c4)]['label']);break;case _0x18f1c1[_0xb79797(0x7b5)]:this['removeGraphDatabase'](_0x53b754['content'][_0xb79797(0x6e8)]);break;case _0x18f1c1[_0xb79797(0x8bf)]:this[_0xb79797(0x4b6)](_0x53b754['content']);break;case _0x18f1c1['KeyValueDatabaseSyncRequired']:this[_0xb79797(0x741)][_0xb79797(0x3f2)](_0x53b754['content']['label'])?.[_0xb79797(0x5e2)](_0x53b754['sourceId'],_0x53b754['content'][_0xb79797(0x978)]);break;case _0x18f1c1[_0xb79797(0x8f7)]:this[_0xb79797(0x741)][_0xb79797(0x3f2)](_0x53b754[_0xb79797(0x1c4)][_0xb79797(0x6e8)])?.['processContentSynchronized'](_0x53b754[_0xb79797(0x112)],_0x53b754[_0xb79797(0x1c4)][_0xb79797(0x978)]);break;case _0x18f1c1[_0xb79797(0x938)]:this[_0xb79797(0x741)][_0xb79797(0x3f2)](_0x53b754[_0xb79797(0x1c4)][_0xb79797(0x6e8)])?.['processContentAvailable'](_0x53b754[_0xb79797(0x112)],_0x53b754[_0xb79797(0x1c4)]['peaks']);break;case _0x18f1c1[_0xb79797(0x24d)]:this[_0xb79797(0x741)][_0xb79797(0x3f2)](_0x53b754['content'][_0xb79797(0x6e8)])?.[_0xb79797(0x49b)](_0x53b754[_0xb79797(0x112)],_0x53b754[_0xb79797(0x1c4)]['peakHeights']);break;case _0x18f1c1[_0xb79797(0x9fa)]:this[_0xb79797(0x741)][_0xb79797(0x3f2)](_0x53b754[_0xb79797(0x1c4)]['label'])?.[_0xb79797(0x9b8)](_0x53b754[_0xb79797(0x112)],_0x53b754[_0xb79797(0x1c4)]['transactionIds']);break;case _0x18f1c1[_0xb79797(0x8f2)]:this[_0xb79797(0x741)][_0xb79797(0x3f2)](_0x53b754[_0xb79797(0x1c4)][_0xb79797(0x6e8)])?.['processReceivedTransactions'](_0x53b754[_0xb79797(0x112)],_0x53b754['content']['transactions']);break;case _0x18f1c1[_0xb79797(0x882)]:this[_0xb79797(0x102)][_0xb79797(0x4f6)][_0xb79797(0x397)]('local-media-stream-track-fail',{'label':_0x53b754['content'][_0xb79797(0x6e8)],'trackKinds':_0x53b754['content']['trackKinds']});}}[_0x11ce6(0x866)]({content:_0x19d29d}){const _0x110a9b=_0x11ce6;switch(_0x19d29d[_0x110a9b(0x789)]){case _0x4c4cc3[_0x110a9b(0x61e)]:this[_0x110a9b(0x431)](_0x19d29d),this[_0x110a9b(0x403)](_0x19d29d);break;case _0x4c4cc3[_0x110a9b(0x55e)]:this[_0x110a9b(0x54e)](_0x19d29d),this['notifyObjectStoreOfNodeLeave'](_0x19d29d);}}['handleSubscriptionSystemEvents'](_0x563d27){const _0x4a443a=_0x11ce6;switch(_0x563d27[_0x4a443a(0x1c4)][_0x4a443a(0x789)]){case _0x32a36a['SubscribeMediaStream']:this[_0x4a443a(0x9a5)](_0x563d27['sourceId'],_0x563d27['content']);break;case _0x32a36a['UpdateMediaStream']:this[_0x4a443a(0x7af)](_0x563d27[_0x4a443a(0x112)],_0x563d27[_0x4a443a(0x1c4)]);break;case _0x32a36a[_0x4a443a(0x8bf)]:this[_0x4a443a(0x2ae)](_0x563d27[_0x4a443a(0x112)],_0x563d27[_0x4a443a(0x1c4)]);}}[_0x11ce6(0x4b6)](_0x2ee40){const _0x403f22=_0x11ce6;if(0x0===_0x2ee40['remainingTracks'])this[_0x403f22(0x288)]['get'](_0x2ee40[_0x403f22(0x3d1)])?.['get'](_0x2ee40[_0x403f22(0x6e8)])?.[_0x403f22(0x4d6)]();else{const _0x37ba53=this[_0x403f22(0x288)][_0x403f22(0x3f2)](_0x2ee40[_0x403f22(0x3d1)])?.[_0x403f22(0x3f2)](_0x2ee40[_0x403f22(0x6e8)]);if(!_0x37ba53)return;_0x2ee40[_0x403f22(0x238)][_0x403f22(0x7a1)](_0x1160d0=>_0x37ba53[_0x403f22(0x6d1)](_0x1160d0));}}['handlePublishMediaStream'](_0x12eb9f){const _0x320b5a=_0x11ce6,{label:_0x4b8ce3,ownerId:_0x4becb5,stream:{streamId:_0x4703cc,availableTrackKinds:_0xb95aaa}}=_0x12eb9f;if(this[_0x320b5a(0x288)][_0x320b5a(0x3f2)](_0x4becb5)?.[_0x320b5a(0x297)](_0x4b8ce3))return void _0x5c02ff['log'](_0x1e4869[_0x320b5a(0x575)],'Stream\x20already\x20exists',_0x4703cc);const _0x2176fd=this[_0x320b5a(0x82a)](_0x4becb5,_0x4b8ce3,_0x4703cc,_0xb95aaa);this[_0x320b5a(0x102)][_0x320b5a(0x4f6)][_0x320b5a(0x397)]('content-publish-media',{'ownerId':_0x4becb5,'stream':_0x2176fd});}['handleUnpublishMediaStream']({ownerId:_0x5034e,label:_0x5a876e}){const _0x34ebf6=_0x11ce6;this[_0x34ebf6(0x4a9)](_0x5034e,_0x5a876e),this[_0x34ebf6(0x102)]['mediator'][_0x34ebf6(0x397)](_0x34ebf6(0x442),{'ownerId':_0x5034e,'label':_0x5a876e});}[_0x11ce6(0x9a5)](_0x11eb04,_0x362698){const _0x42f828=_0x11ce6,{ownerId:_0x4d39d1,label:_0x5d7923}=_0x362698;let _0x436808;_0x436808=_0x4d39d1!==this[_0x42f828(0x102)]['localNode'][_0x42f828(0x9d8)]()?this['remoteMediaStreams'][_0x42f828(0x3f2)](_0x4d39d1)['get'](_0x5d7923):this[_0x42f828(0x3f4)][_0x42f828(0x3f2)](_0x5d7923),_0x436808['getShareableStream'](_0x11eb04,_0x362698[_0x42f828(0x479)])[_0x42f828(0x85a)](_0x362698,_0x436808['getPriority']());}[_0x11ce6(0x7af)](_0x1aca66,_0x59bd26){const _0x43ef2d=_0x11ce6,{ownerId:_0x3f0d23,label:_0x305514}=_0x59bd26;let _0x4a5ffd;_0x4a5ffd=_0x3f0d23!==this[_0x43ef2d(0x102)]['localNode'][_0x43ef2d(0x9d8)]()?this['remoteMediaStreams'][_0x43ef2d(0x3f2)](_0x3f0d23)[_0x43ef2d(0x3f2)](_0x305514):this['localMediaStreams'][_0x43ef2d(0x3f2)](_0x305514),_0x4a5ffd[_0x43ef2d(0x737)](_0x1aca66,_0x59bd26[_0x43ef2d(0x479)])[_0x43ef2d(0x967)](_0x59bd26);}[_0x11ce6(0x2ae)](_0xc4e986,_0x50ca45){const _0xe28256=_0x11ce6,{ownerId:_0x1fa64b,label:_0x129fb5}=_0x50ca45;let _0x28128a;_0x28128a=_0x1fa64b!==this[_0xe28256(0x102)][_0xe28256(0xd3)][_0xe28256(0x9d8)]()?this[_0xe28256(0x288)][_0xe28256(0x3f2)](_0x1fa64b)[_0xe28256(0x3f2)](_0x129fb5):this[_0xe28256(0x3f4)]['get'](_0x129fb5),_0x28128a['getShareableStream'](_0xc4e986)['unsubscribe'](_0x50ca45);}[_0x11ce6(0x431)]({id:_0x37f8ff}){const _0x429c59=_0x11ce6;this[_0x429c59(0x53c)]()[_0x429c59(0x7a1)](_0x263159=>{const _0x376e89=_0x429c59;_0x263159[_0x376e89(0xfa)](_0x37f8ff);});}[_0x11ce6(0x54e)]({id:_0x3b5cf1}){const _0x45b285=_0x11ce6;this[_0x45b285(0x3ad)](_0x2ecc60=>_0x2ecc60['getOwnerId']()===_0x3b5cf1)[_0x45b285(0x7a1)](_0x24387a=>{const _0x1c359f=_0x45b285;this[_0x1c359f(0x4a9)](_0x24387a[_0x1c359f(0x3d0)](),_0x24387a[_0x1c359f(0x555)]());});}[_0x11ce6(0x403)]({id:_0x2c2aad}){const _0xeb7f2e=_0x11ce6;this['objectStores']['forEach'](_0xbe5be6=>_0xbe5be6[_0xeb7f2e(0x8db)](_0x2c2aad));}[_0x11ce6(0x736)]({id:_0xa1c47}){const _0x10e2cb=_0x11ce6;this[_0x10e2cb(0x46b)]['forEach'](_0x5bd375=>_0x5bd375['handleNodeLeave'](_0xa1c47));}[_0x11ce6(0x4a2)](_0x59b0a5){const _0x348173=_0x11ce6;if(!this[_0x348173(0x76f)][_0x348173(0x297)](_0x59b0a5))throw new _0x39299d(_0x1ffca6[_0x348173(0x7a0)],'Job\x20Dispatcher\x20does\x20not\x20exist');const _0x577573=this[_0x348173(0x76f)][_0x348173(0x3f2)](_0x59b0a5);this[_0x348173(0x76f)][_0x348173(0x3a9)](_0x59b0a5),_0x577573['destroy'](),this['configs'][_0x348173(0x4f6)][_0x348173(0x579)](_0x577573);}[_0x11ce6(0x8b5)](_0x1a2f38){const _0x49439e=_0x11ce6;if(!this[_0x49439e(0x88d)]['has'](_0x1a2f38))throw new _0x39299d(_0x1ffca6[_0x49439e(0x999)],_0x49439e(0x912));const _0x3affc6=this['jobWorkers']['get'](_0x1a2f38);this[_0x49439e(0x88d)][_0x49439e(0x3a9)](_0x1a2f38),_0x3affc6[_0x49439e(0x4d6)](),this['configs']['mediator']['unregisterSystemSource'](_0x3affc6);}[_0x11ce6(0x890)](_0x3fadc1){const _0x1985f5=_0x11ce6;if(!this[_0x1985f5(0x46b)][_0x1985f5(0x297)](_0x3fadc1))throw new _0x39299d(_0x1ffca6[_0x1985f5(0x5a3)],_0x1985f5(0x451));const _0x5dc037=this[_0x1985f5(0x46b)][_0x1985f5(0x3f2)](_0x3fadc1);this[_0x1985f5(0x46b)]['delete'](_0x3fadc1),_0x5dc037[_0x1985f5(0x4d6)](),this[_0x1985f5(0x102)][_0x1985f5(0x4f6)][_0x1985f5(0x579)](_0x5dc037);}[_0x11ce6(0x432)](_0x3ad723){const _0x20d716=_0x11ce6;if(!this['externalStorageConnections'][_0x20d716(0x297)](_0x3ad723))throw new _0x39299d(_0x1ffca6[_0x20d716(0x986)],_0x20d716(0xa13));const _0x468597=this[_0x20d716(0x7e7)][_0x20d716(0x3f2)](_0x3ad723);this[_0x20d716(0x7e7)][_0x20d716(0x3a9)](_0x3ad723),_0x468597['destroy'](),this[_0x20d716(0x102)][_0x20d716(0x4f6)][_0x20d716(0x579)](_0x468597);}[_0x11ce6(0x93e)](_0x539ca8){const _0xb6b53=_0x11ce6;if(!this[_0xb6b53(0x34e)][_0xb6b53(0x297)](_0x539ca8))throw new _0x39299d(_0x1ffca6[_0xb6b53(0x53d)],_0xb6b53(0x451));const _0x1de693=this[_0xb6b53(0x34e)][_0xb6b53(0x3f2)](_0x539ca8);this[_0xb6b53(0x34e)][_0xb6b53(0x3a9)](_0x539ca8),_0x1de693['destroy'](),this[_0xb6b53(0x102)]['mediator'][_0xb6b53(0x579)](_0x1de693);}[_0x11ce6(0x567)](_0x2eb0c8){const _0x490f9d=_0x11ce6;if(!this[_0x490f9d(0x741)][_0x490f9d(0x297)](_0x2eb0c8))throw new _0x39299d(_0x1ffca6[_0x490f9d(0x444)],_0x490f9d(0xe7));const _0x262f38=this[_0x490f9d(0x741)][_0x490f9d(0x3f2)](_0x2eb0c8);this[_0x490f9d(0x741)][_0x490f9d(0x3a9)](_0x2eb0c8),_0x262f38[_0x490f9d(0x4d6)](),this['configs'][_0x490f9d(0x4f6)]['unregisterSystemSource'](_0x262f38);}[_0x11ce6(0x6c3)](_0x3a1320){const _0xeffd74=_0x11ce6;if(!this['vectorDatabases'][_0xeffd74(0x297)](_0x3a1320))throw new _0x39299d(_0x1ffca6['VectorDatabaseDoesNotExist'],_0xeffd74(0xe7));const _0xe9784d=this[_0xeffd74(0x1da)][_0xeffd74(0x3f2)](_0x3a1320);this[_0xeffd74(0x1da)][_0xeffd74(0x3a9)](_0x3a1320),_0xe9784d[_0xeffd74(0x4d6)](),this[_0xeffd74(0x102)][_0xeffd74(0x4f6)][_0xeffd74(0x579)](_0xe9784d);}['removeGraphDatabase'](_0x3407e2){const _0x2f03fe=_0x11ce6;if(!this['graphDatabases']['has'](_0x3407e2))throw new _0x39299d(_0x1ffca6[_0x2f03fe(0x280)],_0x2f03fe(0xe7));const _0x3e2cb6=this[_0x2f03fe(0x78b)]['get'](_0x3407e2);this['graphDatabases']['delete'](_0x3407e2),_0x3e2cb6[_0x2f03fe(0x4d6)](),this[_0x2f03fe(0x102)][_0x2f03fe(0x4f6)]['unregisterSystemSource'](_0x3e2cb6);}[_0x11ce6(0x395)](_0x2224c9){const _0x688459=_0x11ce6;if(!this['localMediaStreams']['has'](_0x2224c9))throw new _0x490cf1(_0x490cf1[_0x688459(0x9fb)][_0x688459(0x161)],{'label':_0x2224c9,'localId':this[_0x688459(0x102)][_0x688459(0xd3)]['getId']()});const _0x412740=this['localMediaStreams'][_0x688459(0x3f2)](_0x2224c9);this['configs'][_0x688459(0x4f6)]['unregisterSystemSource'](_0x412740),_0x412740['destroy'](),this[_0x688459(0x3f4)][_0x688459(0x3a9)](_0x2224c9);}['removeRemoteMediaStream'](_0x2c2610,_0x534583){const _0x57b057=_0x11ce6;if(!this[_0x57b057(0x288)][_0x57b057(0x297)](_0x2c2610))throw new _0x490cf1(_0x490cf1[_0x57b057(0x9fb)]['NodeDoesNotExist'],{'nodeId':_0x2c2610,'localId':this[_0x57b057(0x102)][_0x57b057(0xd3)]['getId']()});const _0x1d28c9=this[_0x57b057(0x288)][_0x57b057(0x3f2)](_0x2c2610);if(!_0x1d28c9['has'](_0x534583))throw new _0x490cf1(_0x490cf1[_0x57b057(0x9fb)][_0x57b057(0xf9)],{'nodeId':_0x2c2610,'label':_0x534583,'localId':this[_0x57b057(0x102)][_0x57b057(0xd3)][_0x57b057(0x9d8)]()});const _0x17a2fd=_0x1d28c9[_0x57b057(0x3f2)](_0x534583);this[_0x57b057(0x102)][_0x57b057(0x4f6)][_0x57b057(0x579)](_0x17a2fd),_0x17a2fd[_0x57b057(0x4d6)](),_0x1d28c9[_0x57b057(0x3a9)](_0x534583);}}var _0x104098,_0x66d80b,_0x244ba6;!function(_0x2a612a){const _0x33ca33=_0x11ce6;_0x2a612a[_0x33ca33(0x751)]=_0x33ca33(0x2fb),_0x2a612a[_0x33ca33(0x47a)]=_0x33ca33(0x756),_0x2a612a['TimePerFrame']=_0x33ca33(0x13d),_0x2a612a[_0x33ca33(0x439)]=_0x33ca33(0x157),_0x2a612a[_0x33ca33(0xe5)]='jitter',_0x2a612a['FramePerSecond']=_0x33ca33(0x868),_0x2a612a['RoundTripTime']=_0x33ca33(0x46a),_0x2a612a[_0x33ca33(0x519)]=_0x33ca33(0x328);}(_0x104098||(_0x104098={})),function(_0x2db592){const _0x517689=_0x11ce6;_0x2db592['CPUCycle']=_0x517689(0x4ba),_0x2db592[_0x517689(0x414)]=_0x517689(0x557),_0x2db592[_0x517689(0x519)]=_0x517689(0x9f5),_0x2db592[_0x517689(0x766)]=_0x517689(0x869),_0x2db592[_0x517689(0x439)]=_0x517689(0x82f),_0x2db592[_0x517689(0xe5)]=_0x517689(0x498),_0x2db592[_0x517689(0x50b)]='bandwidth.rtt';}(_0x66d80b||(_0x66d80b={})),function(_0x35c578){const _0x275d21=_0x11ce6;_0x35c578[_0x35c578['Problem']=0x0]=_0x275d21(0x2c5);}(_0x244ba6||(_0x244ba6={}));const _0xd5e98=[{'type':_0x104098['STVolatility'],'reportMetric':_0x2b86fc=>_0x2b86fc[_0x11ce6(0x751)],'maxThreshold':2.5},{'type':_0x104098['DTVolatility'],'reportMetric':_0x978a4c=>_0x978a4c['DTVolatility'],'maxThreshold':0.5}],_0x4a88e6=[{'type':_0x104098[_0x11ce6(0x414)],'reportMetric':_0x2e39eb=>{const _0x599b93=_0x11ce6,_0x4cab4e=0x3e8/_0x2e39eb[_0x599b93(0x84b)];return _0x2e39eb[_0x599b93(0x797)]/_0x4cab4e;},'maxThreshold':0.75},{'type':_0x104098[_0x11ce6(0x439)],'reportMetric':_0xf091d2=>{const _0x313504=_0x11ce6,_0x4c7f56=_0xf091d2[_0x313504(0x84b)]*_0xf091d2['frameWidth']*_0xf091d2['frameHeight']*0.12;return _0xf091d2[_0x313504(0x157)]/_0x4c7f56;},'minThreshold':0.25},{'type':_0x104098[_0x11ce6(0xe5)],'reportMetric':_0x5f1e5e=>_0x5f1e5e['jitter'],'maxThreshold':0.6},{'type':_0x104098[_0x11ce6(0x766)],'reportMetric':_0x1f6101=>_0x1f6101[_0x11ce6(0x84b)],'minThreshold':0xa}],_0x23f8c6=[{'type':_0x104098[_0x11ce6(0xe5)],'reportMetric':_0x39f078=>_0x39f078[_0x11ce6(0x87c)],'maxThreshold':0.6}],_0x1873ef=[{'type':_0x104098[_0x11ce6(0x50b)],'reportMetric':_0x4033d9=>_0x4033d9['roundTripTime'],'maxThreshold':0x1/0x0}],_0x2e9c00=[{'type':_0x104098['AudioVideoDelay'],'reportMetric':_0x1fb8eb=>_0x1fb8eb[_0x11ce6(0x519)],'maxThreshold':0x12c}],_0x431d70=[{'type':_0x66d80b['CPUCycle'],'issues':[{'type':_0x104098['STVolatility'],'threshold':0x5},{'type':_0x104098['DTVolatility'],'threshold':0x5}]},{'type':_0x66d80b[_0x11ce6(0x414)],'issues':[{'type':_0x104098[_0x11ce6(0x414)],'threshold':0x3}]},{'type':_0x66d80b['AudioVideoDelay'],'issues':[{'type':_0x104098[_0x11ce6(0x519)],'threshold':0x2}]},{'type':_0x66d80b[_0x11ce6(0x766)],'issues':[{'type':_0x104098[_0x11ce6(0x766)],'threshold':0x3}]},{'type':_0x66d80b[_0x11ce6(0x439)],'issues':[{'type':_0x104098['Bitrate'],'threshold':0x3}]},{'type':_0x66d80b[_0x11ce6(0xe5)],'issues':[{'type':_0x104098[_0x11ce6(0xe5)],'threshold':0x3}]},{'type':_0x66d80b[_0x11ce6(0x50b)],'issues':[{'type':_0x104098['RoundTripTime'],'threshold':0x3}]}];var _0x3096ad,_0x1c565e;!function(_0x2ed796){_0x2ed796[_0x2ed796['StreamReport']=0x0]='StreamReport',_0x2ed796[_0x2ed796['LocalReport']=0x1]='LocalReport';}(_0x3096ad||(_0x3096ad={}));class _0x1a3da0{['configs'];[_0x11ce6(0x5f7)]=[];['systemTopic'];constructor(_0x53e573){const _0x21aedc=_0x11ce6;this[_0x21aedc(0x102)]=_0x53e573,this[_0x21aedc(0x102)][_0x21aedc(0x4f6)][_0x21aedc(0x4da)](this);}[_0x11ce6(0xcc)](_0x7dc318){const _0x29796d=_0x11ce6;this[_0x29796d(0x1ad)]=_0x7dc318;}['unregisterSystemPublisher'](){const _0x5eceaa=_0x11ce6;this[_0x5eceaa(0x1ad)]=void 0x0;}['close'](){const _0x129edb=_0x11ce6;this[_0x129edb(0x102)][_0x129edb(0x4f6)][_0x129edb(0x579)](this),this[_0x129edb(0x5f7)]=[];}[_0x11ce6(0x385)](_0x13818b){const _0x1e44b9=_0x11ce6;switch(_0x13818b[_0x1e44b9(0x1c4)]['type']){case _0x3096ad['LocalReport']:this[_0x1e44b9(0x615)](_0x13818b[_0x1e44b9(0x1c4)][_0x1e44b9(0x4ff)]);break;case _0x3096ad[_0x1e44b9(0x785)]:this[_0x1e44b9(0x5ad)](_0x13818b[_0x1e44b9(0x1c4)][_0x1e44b9(0x4ff)]);}}[_0x11ce6(0x847)](_0x3d8263,_0x3e7230,_0x3b6000,_0x47da12){const _0x26d5bc=_0x11ce6,_0x11b163=_0x431d70[_0x26d5bc(0x957)](_0x273848=>_0x273848[_0x26d5bc(0x5f7)][_0x26d5bc(0x335)](_0x34fb37=>_0x34fb37[_0x26d5bc(0x789)]===_0x3d8263));_0x47da12>=_0x11b163[_0x26d5bc(0x5f7)][_0x26d5bc(0x957)](_0x221c57=>_0x221c57[_0x26d5bc(0x789)]===_0x3d8263)[_0x26d5bc(0x68a)]&&(this['addProblem'](_0x11b163['type'],_0x3e7230,_0x3b6000),this[_0x26d5bc(0x5f7)]=this['issues'][_0x26d5bc(0x80e)](_0x59413f=>!(_0x59413f[_0x26d5bc(0x789)]===_0x3d8263&&_0x59413f[_0x26d5bc(0x381)]===_0x3e7230&&_0x59413f[_0x26d5bc(0x415)]===_0x3b6000)));}[_0x11ce6(0x615)](_0x5b6949){const _0x193955=_0x11ce6;_0xd5e98[_0x193955(0x7a1)](_0xdbb1ed=>{const _0x9dcac2=_0x193955,_0x2f2a7c=_0xdbb1ed[_0x9dcac2(0x269)](_0x5b6949);_0xdbb1ed['maxThreshold']&&_0x2f2a7c>_0xdbb1ed[_0x9dcac2(0x7b3)]&&this[_0x9dcac2(0x79b)](_0xdbb1ed[_0x9dcac2(0x789)],this[_0x9dcac2(0x102)]['localNode'][_0x9dcac2(0x9d8)](),_0x3792ca[_0x9dcac2(0x32e)],_0x2f2a7c),_0xdbb1ed[_0x9dcac2(0x8cb)]&&_0x2f2a7c<_0xdbb1ed[_0x9dcac2(0x8cb)]&&this[_0x9dcac2(0x79b)](_0xdbb1ed[_0x9dcac2(0x789)],this[_0x9dcac2(0x102)][_0x9dcac2(0xd3)]['getId'](),_0x3792ca[_0x9dcac2(0x32e)],_0x2f2a7c);});}['detectStreamIssues'](_0x1f519f){const _0x3740f1=_0x11ce6;let _0x59f716=[];switch(_0x1f519f['origin']){case _0x3792ca[_0x3740f1(0x32e)]:_0x59f716=_0x1873ef;break;case _0x3792ca[_0x3740f1(0x188)]:_0x59f716=_0x2e9c00;}_0x1f519f[_0x3740f1(0x452)]&&this[_0x3740f1(0x695)](_0x1f519f[_0x3740f1(0x381)],_0x3792ca[_0x3740f1(0x32e)],_0x1f519f['video']),_0x1f519f[_0x3740f1(0x309)]&&this['detectAudioIssues'](_0x1f519f['nodeId'],_0x3792ca[_0x3740f1(0x32e)],_0x1f519f[_0x3740f1(0x309)]),_0x59f716[_0x3740f1(0x7a1)](_0x3a84a9=>{const _0x2ebe6d=_0x3740f1,_0x13aa57=_0x3a84a9['reportMetric'](_0x1f519f);_0x3a84a9[_0x2ebe6d(0x7b3)]&&_0x13aa57>_0x3a84a9[_0x2ebe6d(0x7b3)]&&this['addIssue'](_0x3a84a9[_0x2ebe6d(0x789)],_0x1f519f[_0x2ebe6d(0x381)],_0x3792ca[_0x2ebe6d(0x32e)],_0x13aa57),_0x3a84a9['minThreshold']&&_0x13aa57<_0x3a84a9[_0x2ebe6d(0x8cb)]&&this[_0x2ebe6d(0x79b)](_0x3a84a9[_0x2ebe6d(0x789)],_0x1f519f[_0x2ebe6d(0x381)],_0x3792ca[_0x2ebe6d(0x32e)],_0x13aa57);});}[_0x11ce6(0x695)](_0x4f3b60,_0x24522a,_0x4c4ca1){const _0x3bf903=_0x11ce6;0x0!==_0x4c4ca1[_0x3bf903(0x157)]&&_0x4a88e6[_0x3bf903(0x7a1)](_0x3073f5=>{const _0x135f2a=_0x3bf903,_0x43823a=_0x3073f5[_0x135f2a(0x269)](_0x4c4ca1);_0x3073f5['maxThreshold']&&_0x43823a>_0x3073f5[_0x135f2a(0x7b3)]&&this[_0x135f2a(0x79b)](_0x3073f5[_0x135f2a(0x789)],_0x4f3b60,_0x24522a,_0x43823a,_0x135f2a(0x452)),_0x3073f5[_0x135f2a(0x8cb)]&&_0x43823a<_0x3073f5['minThreshold']&&this[_0x135f2a(0x79b)](_0x3073f5[_0x135f2a(0x789)],_0x4f3b60,_0x24522a,_0x43823a,_0x135f2a(0x452));});}[_0x11ce6(0xa0d)](_0x1f33cc,_0x52399a,_0x214b6f){const _0x3550b5=_0x11ce6;0x0!==_0x214b6f[_0x3550b5(0x157)]&&_0x23f8c6[_0x3550b5(0x7a1)](_0x7c4c6b=>{const _0x54b27f=_0x3550b5,_0x3ddd5a=_0x7c4c6b[_0x54b27f(0x269)](_0x214b6f);_0x7c4c6b['maxThreshold']&&_0x3ddd5a>_0x7c4c6b['maxThreshold']&&this[_0x54b27f(0x79b)](_0x7c4c6b[_0x54b27f(0x789)],_0x1f33cc,_0x52399a,_0x3ddd5a,_0x54b27f(0x309)),_0x7c4c6b[_0x54b27f(0x8cb)]&&_0x3ddd5a<_0x7c4c6b[_0x54b27f(0x8cb)]&&this[_0x54b27f(0x79b)](_0x7c4c6b[_0x54b27f(0x789)],_0x1f33cc,_0x52399a,_0x3ddd5a,_0x54b27f(0x309));});}[_0x11ce6(0x79b)](_0x5266e4,_0xed4d87,_0x1d5dd4,_0x1f9145,_0x4f4db0){const _0x3be189=_0x11ce6;_0x5c02ff[_0x3be189(0x65b)](_0x1e4869[_0x3be189(0x2c6)],_0x3be189(0x115)+_0x5266e4,_0x5266e4,_0x1f9145),_0x5c02ff[_0x3be189(0x745)](_0x3be189(0x1ce),{'clusterId':this[_0x3be189(0x102)][_0x3be189(0xa18)],'nodeId':this['configs'][_0x3be189(0xd3)][_0x3be189(0x9d8)](),'nodeType':this[_0x3be189(0x102)][_0x3be189(0xd3)]['type'],'remoteId':_0xed4d87,'data':{'type':_0x5266e4,'value':_0x1f9145,'kind':_0x4f4db0}}),this[_0x3be189(0x5f7)]=this[_0x3be189(0x5f7)][_0x3be189(0x80e)](_0x19669a=>Date[_0x3be189(0x3bd)]()-_0x19669a[_0x3be189(0x951)]<0x7530),this[_0x3be189(0x5f7)]['push']({'timestamp':Date[_0x3be189(0x3bd)](),'type':_0x5266e4,'nodeId':_0xed4d87,'origin':_0x1d5dd4,'value':_0x1f9145,'kind':_0x4f4db0});const _0x45f878=this[_0x3be189(0x5f7)][_0x3be189(0x80e)](_0x411fa7=>_0x411fa7[_0x3be189(0x789)]===_0x5266e4&&_0x411fa7[_0x3be189(0x381)]===_0xed4d87&&_0x411fa7['origin']===_0x1d5dd4)['length'];this[_0x3be189(0x847)](_0x5266e4,_0xed4d87,_0x1d5dd4,_0x45f878);}[_0x11ce6(0x801)](_0x3c5d5e,_0x497369,_0x1cfd39){const _0x14b290=_0x11ce6;_0x5c02ff[_0x14b290(0x65b)](_0x1e4869['Detection'],_0x14b290(0x590)+_0x3c5d5e),_0x5c02ff[_0x14b290(0x745)](_0x14b290(0x57f),{'clusterId':this[_0x14b290(0x102)][_0x14b290(0xa18)],'nodeId':this[_0x14b290(0x102)][_0x14b290(0xd3)][_0x14b290(0x9d8)](),'nodeType':this[_0x14b290(0x102)][_0x14b290(0xd3)][_0x14b290(0x789)],'remoteId':_0x497369,'data':{'type':_0x3c5d5e}}),this['systemTopic']?.[_0x14b290(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x14b290(0x2c6)],'content':{'type':_0x244ba6[_0x14b290(0x2c5)],'data':{'timestamp':Date[_0x14b290(0x3bd)](),'nodeId':_0x497369,'origin':_0x3792ca[_0x14b290(0x32e)],'type':_0x3c5d5e}}});}}class _0x5577f9 extends _0xf98837{[_0x11ce6(0x789)]=_0x4aea4d[_0x11ce6(0x552)][_0x11ce6(0x68c)];}class _0x1747a7 extends _0x5577f9{[_0x11ce6(0x1ad)];[_0x11ce6(0x746)]=Date['now']();[_0x11ce6(0x619)];[_0x11ce6(0x25d)];[_0x11ce6(0x17e)](){const _0x3e53c3=_0x11ce6;this[_0x3e53c3(0x619)]&&(clearTimeout(this[_0x3e53c3(0x619)]),delete this[_0x3e53c3(0x619)]),delete this[_0x3e53c3(0x25d)],this['currentVersion']=Date[_0x3e53c3(0x3bd)](),super[_0x3e53c3(0x17e)]();}[_0x11ce6(0xcc)](_0x1d6263){const _0x2efa32=_0x11ce6;this[_0x2efa32(0x1ad)]=_0x1d6263;}[_0x11ce6(0x5c1)](){const _0x48e071=_0x11ce6;delete this[_0x48e071(0x1ad)];}['answerJoin'](_0x30c9f1){const _0x508c66=_0x11ce6;!this[_0x508c66(0x619)]&&this[_0x508c66(0x8b9)]&&this['systemTopic'][_0x508c66(0xfa)]({'sourceId':this['id'],'destinationIds':[_0x30c9f1],'propagate':!0x0,'messageType':_0x48fa30['Node'],'content':{'type':_0x4c4cc3['NodeUpdate'],'id':this['id'],'metaData':{'type':this[_0x508c66(0x789)]},'rank':this[_0x508c66(0x8c4)](),'remoteConnections':Array[_0x508c66(0x462)](this[_0x508c66(0x907)]),'version':this['currentVersion']}});}[_0x11ce6(0x473)](_0x3ba875){const _0x90e6ff=_0x11ce6;this['remoteConnections'][_0x90e6ff(0x297)](_0x3ba875)||(this[_0x90e6ff(0x907)]['add'](_0x3ba875),this[_0x90e6ff(0x4c3)](),this[_0x90e6ff(0x458)](!0x0));}['removeRemoteConnection'](_0x4b7731){const _0x22a78=_0x11ce6;this[_0x22a78(0x907)][_0x22a78(0x297)](_0x4b7731)&&(this[_0x22a78(0x907)][_0x22a78(0x3a9)](_0x4b7731),this[_0x22a78(0x4c3)](),this[_0x22a78(0x458)](!0x0));}[_0x11ce6(0x7e2)](){const _0x3ed298=_0x11ce6;return this[_0x3ed298(0x746)];}[_0x11ce6(0x6c1)](_0x10dc0c,_0xca39db=!0x0){const _0x5a15f3=_0x11ce6;this[_0x5a15f3(0x8b9)]!==_0x10dc0c&&(this[_0x5a15f3(0x8b9)]=_0x10dc0c,_0xca39db&&(this[_0x5a15f3(0x4c3)](),this['publishUserUpdate']()));}[_0x11ce6(0x4c3)](){this['currentVersion']=Date['now']();}[_0x11ce6(0x458)](_0x4e9f32=!0x1){const _0x172919=_0x11ce6;if(this[_0x172919(0x8b9)]){if(this['lastUpdated']||(this[_0x172919(0x25d)]=Date[_0x172919(0x3bd)]()),this['updateDebounceTimeout']){if(Date[_0x172919(0x3bd)]()-this[_0x172919(0x25d)]>0x2328)return;clearTimeout(this[_0x172919(0x619)]);}this['updateDebounceTimeout']=setTimeout(()=>{const _0x3d5a6d=_0x172919;delete this['lastUpdated'],delete this['updateDebounceTimeout'],this[_0x3d5a6d(0x1ad)]['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x48fa30[_0x3d5a6d(0x9d0)],'content':{'type':_0x4e9f32?_0x4c4cc3[_0x3d5a6d(0x826)]:_0x4c4cc3[_0x3d5a6d(0x779)],'id':this['id'],'metaData':{'type':this['type']},'rank':this[_0x3d5a6d(0x8c4)](),'remoteConnections':Array[_0x3d5a6d(0x462)](this[_0x3d5a6d(0x907)]),'version':this['currentVersion']}});},0x3e8);}}}class _0x835485 extends _0x40c8c6{[_0x11ce6(0x1ad)];['currentVersion']=Date[_0x11ce6(0x3bd)]();[_0x11ce6(0x619)];['lastUpdated'];[_0x11ce6(0x17e)](){const _0x28497d=_0x11ce6;this[_0x28497d(0x619)]&&(clearTimeout(this['updateDebounceTimeout']),delete this[_0x28497d(0x619)]),delete this[_0x28497d(0x25d)],this['currentVersion']=Date[_0x28497d(0x3bd)](),super[_0x28497d(0x17e)]();}[_0x11ce6(0xcc)](_0x119c9b){this['systemTopic']=_0x119c9b;}['unregisterSystemPublisher'](){delete this['systemTopic'];}[_0x11ce6(0x18c)](_0x2a65c6){const _0x24fca6=_0x11ce6;!this['updateDebounceTimeout']&&this[_0x24fca6(0x8b9)]&&this[_0x24fca6(0x1ad)][_0x24fca6(0xfa)]({'sourceId':this['id'],'destinationIds':[_0x2a65c6],'propagate':!0x0,'messageType':_0x48fa30[_0x24fca6(0x9d0)],'content':{'type':_0x4c4cc3[_0x24fca6(0x779)],'id':this['id'],'metaData':{'type':this[_0x24fca6(0x789)],'displayName':this[_0x24fca6(0x7d2)](),'email':this[_0x24fca6(0x300)]()},'rank':this[_0x24fca6(0x8c4)](),'remoteConnections':Array[_0x24fca6(0x462)](this['remoteConnections']),'version':this[_0x24fca6(0x746)]}});}[_0x11ce6(0x473)](_0x4e236f){const _0x2613e6=_0x11ce6;this[_0x2613e6(0x907)][_0x2613e6(0x297)](_0x4e236f)||(this['remoteConnections']['add'](_0x4e236f),this[_0x2613e6(0x4c3)](),this['publishUserUpdate'](!0x0));}['removeRemoteConnection'](_0x5de7f9){const _0x2a8880=_0x11ce6;this[_0x2a8880(0x907)][_0x2a8880(0x297)](_0x5de7f9)&&(this[_0x2a8880(0x907)][_0x2a8880(0x3a9)](_0x5de7f9),this[_0x2a8880(0x4c3)](),this[_0x2a8880(0x458)](!0x0));}['getCurrentVersion'](){const _0x141bf3=_0x11ce6;return this[_0x141bf3(0x746)];}['setDisplayName'](_0x125dab){const _0x1b88f9=_0x11ce6;this[_0x1b88f9(0x535)]!==_0x125dab&&(this['displayName']=_0x125dab,this[_0x1b88f9(0x4c3)](),this[_0x1b88f9(0x458)]());}['setEmail'](_0x18b73d){const _0x42fb6e=_0x11ce6;this[_0x42fb6e(0x3fd)]!==_0x18b73d&&(this[_0x42fb6e(0x3fd)]=_0x18b73d,this['incrementVersion'](),this[_0x42fb6e(0x458)]());}[_0x11ce6(0x6c1)](_0x37ef75,_0x557072=!0x0){const _0x2ac890=_0x11ce6;this[_0x2ac890(0x8b9)]!==_0x37ef75&&(this['rank']=_0x37ef75,_0x557072&&(this['incrementVersion'](),this[_0x2ac890(0x458)]()));}['incrementVersion'](){const _0x532e7e=_0x11ce6;this[_0x532e7e(0x746)]=Date['now']();}[_0x11ce6(0x458)](_0x1e9423=!0x1){const _0x3c50e3=_0x11ce6;if(this[_0x3c50e3(0x8b9)]){if(this[_0x3c50e3(0x25d)]||(this[_0x3c50e3(0x25d)]=Date['now']()),this[_0x3c50e3(0x619)]){if(Date['now']()-this[_0x3c50e3(0x25d)]>0x2328)return;clearTimeout(this[_0x3c50e3(0x619)]);}this[_0x3c50e3(0x619)]=setTimeout(()=>{const _0xedd3a2=_0x3c50e3;delete this['lastUpdated'],delete this[_0xedd3a2(0x619)],this['systemTopic']['publish']({'sourceId':this['id'],'propagate':!0x0,'messageType':_0x48fa30[_0xedd3a2(0x9d0)],'content':{'type':_0x1e9423?_0x4c4cc3[_0xedd3a2(0x826)]:_0x4c4cc3[_0xedd3a2(0x779)],'id':this['id'],'metaData':{'type':this[_0xedd3a2(0x789)],'displayName':this['getDisplayName'](),'email':this[_0xedd3a2(0x300)]()},'rank':this['getRank'](),'remoteConnections':Array[_0xedd3a2(0x462)](this[_0xedd3a2(0x907)]),'version':this[_0xedd3a2(0x746)]}});},0x3e8);}}}class _0x48952d{['id'];[_0x11ce6(0x7d9)];['vendorId'];[_0x11ce6(0x925)];[_0x11ce6(0x789)]=_0x4aea4d[_0x11ce6(0x552)]['Agent'];['lastCapacityReport'];constructor(_0x5319ac,_0x2409b0,_0x20f295,_0x29e0b6){const _0x1d7266=_0x11ce6;this['id']=_0x5319ac,this[_0x1d7266(0x7d9)]=_0x2409b0,this[_0x1d7266(0x391)]=_0x20f295,this['agentConfig']=_0x29e0b6;}[_0x11ce6(0x9d8)](){return this['id'];}[_0x11ce6(0xdb)](_0x5c4992){const _0x4eea93=_0x11ce6,_0x49d5d7=(0x0,_0x31eea4[_0x4eea93(0x41f)])((0x0,_0x31eea4[_0x4eea93(0x425)])(_0x24cd47[_0x4eea93(0x35a)](),_0x4eea93(0x8df)+this[_0x4eea93(0x391)]+'/resources/agent/items/'+this[_0x4eea93(0x7d9)]),_0x5214aa=>{const _0x5b337e=_0x4eea93;if(_0x5214aa[_0x5b337e(0x1f1)]()){const _0x654943=_0x5214aa['data']();if(this['agentConfig'][_0x5b337e(0x951)][_0x5b337e(0x9ba)](_0x654943[_0x5b337e(0x951)]))return;_0x5c02ff[_0x5b337e(0x65b)](_0x1e4869['Node'],_0x5b337e(0x587),{'agentId':this['id'],'groupId':this[_0x5b337e(0x7d9)],'oldConfig':this[_0x5b337e(0x925)],'newConfig':_0x654943}),this[_0x5b337e(0x925)]=_0x654943,_0x5c4992();}});return()=>_0x49d5d7();}[_0x11ce6(0x780)](_0x2941bd){const _0x2fbccf=_0x11ce6;return this[_0x2fbccf(0xa06)](this[_0x2fbccf(0x7d9)],_0x2941bd),_0x508bd4[_0x2fbccf(0x54a)](()=>this[_0x2fbccf(0xa06)](this['groupId'],_0x2941bd),0x7530);}[_0x11ce6(0xba)](){const _0x1bc492=_0x11ce6;if(!this[_0x1bc492(0x5da)])throw new _0x490cf1(_0x490cf1[_0x1bc492(0x9fb)][_0x1bc492(0x6dd)]);return this[_0x1bc492(0x5da)];}async[_0x11ce6(0xa06)](_0x112fa0,_0xeb972b){const _0x3db275=_0x11ce6,_0x179d14=await _0xeb972b();this[_0x3db275(0x5da)]=_0x179d14,await(0x0,_0x31eea4[_0x3db275(0x913)])((0x0,_0x31eea4['collection'])(_0x24cd47[_0x3db275(0x35a)](),'developers/'+this[_0x3db275(0x391)]+_0x3db275(0xfe)),{'agentId':this['id'],'groupId':_0x112fa0,'timestamp':(0x0,_0x31eea4['serverTimestamp'])(),'capacity':_0x179d14});}}!function(_0x4433a2){const _0x45c0cc=_0x11ce6;_0x4433a2[_0x4433a2['Online']=0x0]=_0x45c0cc(0x4ce),_0x4433a2[_0x4433a2[_0x45c0cc(0x430)]=0x1]=_0x45c0cc(0x430);}(_0x1c565e||(_0x1c565e={}));class _0x22f58b extends _0x5577f9{[_0x11ce6(0x746)];[_0x11ce6(0x373)]=_0x1c565e[_0x11ce6(0x4ce)];[_0x11ce6(0x25d)]=Date['now']();constructor(_0x40f010,_0x33e48b=new Set(),_0x11371b,_0x53e8c5){const _0x1c3a25=_0x11ce6;super(_0x40f010,_0x33e48b,_0x53e8c5),this[_0x1c3a25(0x746)]=_0x11371b;}[_0x11ce6(0x7e2)](){const _0x49d09c=_0x11ce6;return this[_0x49d09c(0x746)];}[_0x11ce6(0x663)](){const _0xee85f3=_0x11ce6;return this[_0xee85f3(0x373)];}[_0x11ce6(0x482)](){const _0x3fe934=_0x11ce6;return this[_0x3fe934(0x25d)];}['setRank'](_0x37d4d3){const _0x13476d=_0x11ce6;this[_0x13476d(0x8b9)]!==_0x37d4d3&&(this[_0x13476d(0x8b9)]=_0x37d4d3,this[_0x13476d(0x3cb)]());}[_0x11ce6(0x30e)](_0xe6698d){const _0x361760=_0x11ce6;let _0x423c8d=!0x1;for(const _0x493fce of this[_0x361760(0x907)])_0xe6698d[_0x361760(0x2a1)](_0x493fce)||(_0x423c8d=!0x0,this[_0x361760(0x907)][_0x361760(0x3a9)](_0x493fce));for(const _0x10bccf of _0xe6698d)this[_0x361760(0x907)][_0x361760(0x297)](_0x10bccf)||(_0x423c8d=!0x0,this[_0x361760(0x907)][_0x361760(0x5c9)](_0x10bccf));_0x423c8d&&this[_0x361760(0x3cb)]();}[_0x11ce6(0x8be)](_0x4d4c26){const _0x255c03=_0x11ce6;this[_0x255c03(0x746)]!==_0x4d4c26&&(this[_0x255c03(0x746)]=_0x4d4c26,this[_0x255c03(0x3cb)]());}[_0x11ce6(0x30d)](_0x80d3a9){const _0x121c79=_0x11ce6;this['status']!==_0x80d3a9&&(this['status']=_0x80d3a9,this[_0x121c79(0x3cb)](),_0x80d3a9===_0x1c565e[_0x121c79(0x430)]&&this[_0x121c79(0x17e)]());}[_0x11ce6(0x3cb)](){const _0x49c3af=_0x11ce6;this[_0x49c3af(0x25d)]=Date[_0x49c3af(0x3bd)]();}}class _0x40d8de extends _0x40c8c6{[_0x11ce6(0x746)];['status']=_0x1c565e[_0x11ce6(0x4ce)];[_0x11ce6(0x25d)]=Date[_0x11ce6(0x3bd)]();constructor(_0xcb7865,_0x516d01,_0x4c82a4,_0x3aeb87=new Set(),_0x142eb9,_0x1476fd){const _0x5afa67=_0x11ce6;super(_0xcb7865,_0x516d01,_0x4c82a4,_0x3aeb87,_0x1476fd),this[_0x5afa67(0x746)]=_0x142eb9;}[_0x11ce6(0x7e2)](){const _0x371f53=_0x11ce6;return this[_0x371f53(0x746)];}[_0x11ce6(0x663)](){const _0x534947=_0x11ce6;return this[_0x534947(0x373)];}['getLastUpdated'](){const _0x1a4644=_0x11ce6;return this[_0x1a4644(0x25d)];}[_0x11ce6(0x27b)](_0x4a5855){const _0x24b585=_0x11ce6;this['displayName']!==_0x4a5855&&(this[_0x24b585(0x535)]=_0x4a5855,this[_0x24b585(0x3cb)]());}[_0x11ce6(0x4a6)](_0x2fcfc1){const _0x1bd440=_0x11ce6;this[_0x1bd440(0x3fd)]!==_0x2fcfc1&&(this[_0x1bd440(0x3fd)]=_0x2fcfc1,this[_0x1bd440(0x3cb)]());}[_0x11ce6(0x6c1)](_0x335066){const _0x4a11b5=_0x11ce6;this['rank']!==_0x335066&&(this[_0x4a11b5(0x8b9)]=_0x335066,this[_0x4a11b5(0x3cb)]());}[_0x11ce6(0x30e)](_0x508e2f){const _0x5a6bed=_0x11ce6;let _0x3c7878=!0x1;for(const _0x96195e of this[_0x5a6bed(0x907)])_0x508e2f['includes'](_0x96195e)||(_0x3c7878=!0x0,this[_0x5a6bed(0x907)]['delete'](_0x96195e));for(const _0x2bcd6d of _0x508e2f)this[_0x5a6bed(0x907)][_0x5a6bed(0x297)](_0x2bcd6d)||(_0x3c7878=!0x0,this[_0x5a6bed(0x907)][_0x5a6bed(0x5c9)](_0x2bcd6d));_0x3c7878&&this['updateLastUpdated']();}['setCurrentVersion'](_0x4110e6){const _0xe3ae60=_0x11ce6;this[_0xe3ae60(0x746)]!==_0x4110e6&&(this[_0xe3ae60(0x746)]=_0x4110e6,this[_0xe3ae60(0x3cb)]());}['setStatus'](_0x1681d6){const _0xba5bb5=_0x11ce6;this[_0xba5bb5(0x373)]!==_0x1681d6&&(this['status']=_0x1681d6,this[_0xba5bb5(0x3cb)](),_0x1681d6===_0x1c565e[_0xba5bb5(0x430)]&&this[_0xba5bb5(0x17e)]());}[_0x11ce6(0x3cb)](){const _0x1a76b4=_0x11ce6;this[_0x1a76b4(0x25d)]=Date[_0x1a76b4(0x3bd)]();}}class _0x50d28c{[_0x11ce6(0x391)];[_0x11ce6(0xa18)];[_0x11ce6(0xd3)];[_0x11ce6(0x48c)];[_0x11ce6(0x5dd)]=_0x435863();[_0x11ce6(0x546)];[_0x11ce6(0x344)];[_0x11ce6(0x2ce)];[_0x11ce6(0x67a)]=!0x1;[_0x11ce6(0x3cc)];['nodeKey'];constructor(_0x3e9ea3,_0x21bd7b,_0x48a1f4,_0x423977){const _0x2799ef=_0x11ce6;this[_0x2799ef(0x391)]=_0x3e9ea3,this[_0x2799ef(0xa18)]=_0x21bd7b,this['localNode']=_0x48a1f4,this[_0x2799ef(0x48c)]=_0x423977,this['clusterKey']=_0x2799ef(0x1b7)+this[_0x2799ef(0x391)]+_0x2799ef(0x1b7)+this['clusterId'],this[_0x2799ef(0x83d)]='ccc'+this[_0x2799ef(0x391)]+_0x2799ef(0x1b7)+this[_0x2799ef(0xd3)][_0x2799ef(0x9d8)](),this[_0x2799ef(0x546)]=(0x0,_0x8e1eca[_0x2799ef(0x10f)])((0x0,_0x8e1eca[_0x2799ef(0x95f)])(_0x24cd47[_0x2799ef(0x920)](),_0x2799ef(0x6e4)),_0x4fe780=>{const _0xca9e4f=_0x2799ef;!0x0!==_0x4fe780['val']()?this[_0xca9e4f(0x67a)]&&_0x5c02ff[_0xca9e4f(0x89e)](_0xca9e4f(0x985),{'clusterId':this[_0xca9e4f(0xa18)],'nodeId':this[_0xca9e4f(0xd3)]['getId'](),'nodeType':this[_0xca9e4f(0xd3)][_0xca9e4f(0x789)]}):(this[_0xca9e4f(0x67a)]=!0x0,this[_0xca9e4f(0x263)](),_0x5c02ff[_0xca9e4f(0x275)](_0xca9e4f(0x646),{'clusterId':this[_0xca9e4f(0xa18)],'nodeId':this[_0xca9e4f(0xd3)][_0xca9e4f(0x9d8)](),'nodeType':this['localNode'][_0xca9e4f(0x789)]}));});}async[_0x11ce6(0x926)](){const _0x3f189e=_0x11ce6;await this['joinCluster']();const _0x5bab5e=await this[_0x3f189e(0x3f0)]();return this[_0x3f189e(0x344)]=(0x0,_0x8e1eca['onChildRemoved'])((0x0,_0x8e1eca['ref'])(_0x24cd47[_0x3f189e(0x920)](),_0x3f189e(0x21f)+this[_0x3f189e(0x3cc)]+_0x3f189e(0x711)),_0x5cc849=>{const _0x479662=_0x3f189e,_0x286fad=_0x5cc849['key'];if(!_0x286fad)return;const _0x35fee7=_0x286fad[_0x479662(0x7b8)](_0x479662(0x1b7)+this[_0x479662(0x391)]+_0x479662(0x1b7),'');this[_0x479662(0x5dd)][_0x479662(0xfa)](_0x35fee7);}),_0x5bab5e;}async[_0x11ce6(0x17e)](){const _0x43c414=_0x11ce6;this['childRemovedUnsubscriber']?.(),delete this[_0x43c414(0x344)],this['onDisconnectHandler']?.[_0x43c414(0x2f2)](),delete this[_0x43c414(0x2ce)],this[_0x43c414(0x546)]?.(),delete this['firebaseUnsubscriber'],await(0x0,_0x8e1eca[_0x43c414(0x3e3)])((0x0,_0x8e1eca[_0x43c414(0x95f)])(_0x24cd47['getDatabase'](),_0x43c414(0x21f)+this[_0x43c414(0x3cc)]+_0x43c414(0x665)+this['nodeKey']));}[_0x11ce6(0x51a)](_0x19535a){const _0x5c6769=_0x11ce6;return this['disconnectCallback'][_0x5c6769(0x85a)](_0x19535a);}async[_0x11ce6(0x3f0)](){const _0x3d3dbb=_0x11ce6,_0x3d81aa=[],_0x32f531=await(0x0,_0x8e1eca[_0x3d3dbb(0x3f2)])((0x0,_0x8e1eca[_0x3d3dbb(0x95f)])(_0x24cd47['getDatabase'](),_0x3d3dbb(0x21f)+this[_0x3d3dbb(0x3cc)]+_0x3d3dbb(0x711))),_0x16cb1f=[];return _0x32f531[_0x3d3dbb(0x7a1)](_0x514bde=>{const _0xc0fc00=_0x3d3dbb,_0x58c08d=_0x514bde[_0xc0fc00(0x559)]?.['replace']('ccc'+this[_0xc0fc00(0x391)]+_0xc0fc00(0x1b7),'');_0x16cb1f[_0xc0fc00(0x7bc)]({'id':_0x58c08d,'joinedAt':_0x514bde[_0xc0fc00(0x248)]()[_0xc0fc00(0x41b)],'priority':_0x514bde['val']()[_0xc0fc00(0xca)]});}),_0x16cb1f[_0x3d3dbb(0x96b)]((_0x167e40,_0x5d1c1d)=>_0x167e40[_0x3d3dbb(0x41b)]===_0x5d1c1d[_0x3d3dbb(0x41b)]?_0x167e40[_0x3d3dbb(0xca)]-_0x5d1c1d[_0x3d3dbb(0xca)]:_0x167e40[_0x3d3dbb(0x41b)]-_0x5d1c1d['joinedAt'])[_0x3d3dbb(0x416)](_0x16cb1f['findIndex'](_0x28414e=>_0x28414e['id']===this['localNode'][_0x3d3dbb(0x9d8)]())),_0x16cb1f[_0x3d3dbb(0x96b)]((_0x1f045d,_0x29c94f)=>_0x29c94f['joinedAt']===_0x1f045d[_0x3d3dbb(0x41b)]?_0x29c94f[_0x3d3dbb(0xca)]-_0x1f045d[_0x3d3dbb(0xca)]:_0x29c94f[_0x3d3dbb(0x41b)]-_0x1f045d[_0x3d3dbb(0x41b)])['forEach'](_0x255f63=>{const _0x547414=_0x3d3dbb;_0x3d81aa['length']>=this[_0x547414(0x48c)]||_0x3d81aa['push'](_0x255f63['id']);}),_0x5c02ff[_0x3d3dbb(0x745)](_0x3d3dbb(0x8a0),{'clusterId':this[_0x3d3dbb(0xa18)],'nodeId':this[_0x3d3dbb(0xd3)][_0x3d3dbb(0x9d8)](),'nodeType':this[_0x3d3dbb(0xd3)][_0x3d3dbb(0x789)],'data':{'ancestorIds':_0x3d81aa,'allNodes':_0x16cb1f}}),_0x3d81aa;}async[_0x11ce6(0x326)](){const _0x5e1660=_0x11ce6;await(0x0,_0x8e1eca[_0x5e1660(0x323)])((0x0,_0x8e1eca[_0x5e1660(0x95f)])(_0x24cd47[_0x5e1660(0x920)](),_0x5e1660(0x21f)+this[_0x5e1660(0x3cc)]+'/nodes/'+this['nodeKey']),{'joinedAt':(0x0,_0x8e1eca['serverTimestamp'])(),'priority':Math[_0x5e1660(0x140)]()});}['setOnDisconnectHandler'](){const _0x460ddb=_0x11ce6;this[_0x460ddb(0x2ce)]&&this['onDisconnectHandler'][_0x460ddb(0x2f2)](),this[_0x460ddb(0x2ce)]=(0x0,_0x8e1eca[_0x460ddb(0x669)])((0x0,_0x8e1eca['ref'])(_0x24cd47[_0x460ddb(0x920)](),_0x460ddb(0x21f)+this[_0x460ddb(0x3cc)]+_0x460ddb(0x665)+this[_0x460ddb(0x83d)])),this[_0x460ddb(0x2ce)][_0x460ddb(0x3e3)]();}}class _0x30e4c9{[_0x11ce6(0x102)];['graphService'];[_0x11ce6(0x480)];[_0x11ce6(0x318)];['discoveryUnsubscriber'];[_0x11ce6(0x82b)]=[];[_0x11ce6(0x1ad)];[_0x11ce6(0xde)]=new Map();[_0x11ce6(0x11b)];[_0x11ce6(0x33a)];[_0x11ce6(0x6ca)];[_0x11ce6(0x589)];[_0x11ce6(0x881)];[_0x11ce6(0x7d1)];constructor(_0x1a090d,_0x312e67){const _0x38ab3d=_0x11ce6;this[_0x38ab3d(0x102)]=_0x1a090d,this['graphService']=_0x312e67,this[_0x38ab3d(0x6ca)]=new Promise((_0x1e60a2,_0x4194e0)=>{const _0x524905=_0x38ab3d;this[_0x524905(0x589)]=_0x1e60a2,this['rejectReady']=_0x4194e0;}),this[_0x38ab3d(0x318)]=new _0x50d28c(this[_0x38ab3d(0x102)][_0x38ab3d(0x391)],this['configs']['clusterId'],this[_0x38ab3d(0x102)]['localNode'],this[_0x38ab3d(0x59f)][_0x38ab3d(0x1cb)]()),this[_0x38ab3d(0x4b9)]=this[_0x38ab3d(0x318)][_0x38ab3d(0x51a)](this['handleNodeDisconnect']['bind'](this)),this[_0x38ab3d(0x102)][_0x38ab3d(0x4f6)][_0x38ab3d(0x4da)](this[_0x38ab3d(0x102)][_0x38ab3d(0xd3)]),this[_0x38ab3d(0x102)][_0x38ab3d(0x4f6)][_0x38ab3d(0x4da)](this),this[_0x38ab3d(0x480)]=_0x508bd4[_0x38ab3d(0x54a)](()=>{const _0x5673d1=_0x38ab3d,_0x396004=Date[_0x5673d1(0x3bd)]();this['graphService'][_0x5673d1(0x652)]()[_0x5673d1(0x7a1)](_0x27c9eb=>{const _0x43075a=_0x5673d1;_0x27c9eb[_0x43075a(0x663)]()===_0x1c565e[_0x43075a(0x430)]&&_0x27c9eb[_0x43075a(0x482)]()<_0x396004-0x493e0&&this[_0x43075a(0x59f)][_0x43075a(0x5b5)](_0x27c9eb[_0x43075a(0x9d8)]());});},0xea60);}async['isReady'](){const _0x3f9c0e=_0x11ce6;return this[_0x3f9c0e(0x6ca)];}async['isNodeReady'](_0x34f361){return new Promise((_0x24ea0e,_0x4f0962)=>{const _0x34784f=a0_0x5c6e;let _0x48f282;const _0x468f53=setTimeout(()=>{const _0x512277=a0_0x5c6e;_0x48f282?.(),_0x4f0962(new Error(_0x512277(0x491)+_0x34f361+'\x27\x20is\x20not\x20ready'));},0x2710);if(this[_0x34784f(0x59f)][_0x34784f(0x583)](_0x34f361))return clearTimeout(_0x468f53),void _0x24ea0e(!0x0);_0x48f282=this[_0x34784f(0x59f)][_0x34784f(0x8ee)](()=>{const _0xacecda=_0x34784f;this[_0xacecda(0x59f)]['hasRemoteNode'](_0x34f361)&&(clearTimeout(_0x468f53),_0x24ea0e(!0x0),_0x48f282?.());});});}[_0x11ce6(0xcc)](_0x8d7653){const _0x4038a1=_0x11ce6;this[_0x4038a1(0x1ad)]=_0x8d7653;}[_0x11ce6(0x5c1)](){const _0xa89b84=_0x11ce6;delete this[_0xa89b84(0x1ad)];}['close'](){const _0x5edd71=_0x11ce6;this[_0x5edd71(0x11b)]&&(clearTimeout(this[_0x5edd71(0x11b)]),delete this[_0x5edd71(0x11b)]),delete this[_0x5edd71(0x33a)],this[_0x5edd71(0x102)]['localNode'][_0x5edd71(0x17e)](),this[_0x5edd71(0x480)](),this[_0x5edd71(0x4b9)](),this[_0x5edd71(0x102)][_0x5edd71(0x4f6)][_0x5edd71(0x579)](this[_0x5edd71(0x102)]['localNode']),this['configs']['mediator'][_0x5edd71(0x579)](this),this[_0x5edd71(0x318)][_0x5edd71(0x17e)]();}[_0x11ce6(0x293)](){const _0x1e21c3=_0x11ce6;return this[_0x1e21c3(0x82b)];}[_0x11ce6(0x950)](){const _0x45edda=_0x11ce6;return this[_0x45edda(0x102)]['localNode'][_0x45edda(0x9d8)]();}[_0x11ce6(0x643)](){return this['configs']['localNode'];}[_0x11ce6(0x652)](_0x223904){const _0x2e6087=_0x11ce6,_0x206339=Array['from'](this[_0x2e6087(0x59f)]['getRemoteNodes']()['values']())[_0x2e6087(0x80e)](_0x4710d4=>_0x4710d4[_0x2e6087(0x663)]()===_0x1c565e[_0x2e6087(0x4ce)]);return _0x223904?_0x206339[_0x2e6087(0x80e)](_0x223904):_0x206339;}async[_0x11ce6(0x8a0)](){const _0x5a6ff4=_0x11ce6;return this[_0x5a6ff4(0x82b)]=await this[_0x5a6ff4(0x318)][_0x5a6ff4(0x926)](),this['ancestors'][_0x5a6ff4(0x7ad)]<this[_0x5a6ff4(0x59f)]['getMinConnections']()&&(this['configs'][_0x5a6ff4(0xd3)][_0x5a6ff4(0x6c1)](this[_0x5a6ff4(0x82b)]['length']+0x1),this[_0x5a6ff4(0x33d)]()),this[_0x5a6ff4(0x82b)];}[_0x11ce6(0x4c5)](_0x5917fb,_0x5ddf08){const _0x4f8ce7=_0x11ce6,_0x1f38d4=this[_0x4f8ce7(0x102)][_0x4f8ce7(0xd3)][_0x4f8ce7(0x4d9)](),_0x1a3a86=new Set(_0x1f38d4),_0x1ac5f6=Array[_0x4f8ce7(0x462)](_0x1f38d4)[_0x4f8ce7(0x80e)](_0x1bb324=>_0x1bb324!==_0x5917fb)[_0x4f8ce7(0x99c)](_0x223fc3=>({'id':_0x223fc3,'distance':0x1}));for(;_0x1ac5f6[_0x4f8ce7(0x7ad)]>0x0;){const _0x6c3c03=_0x1ac5f6[_0x4f8ce7(0x52d)]();if(!_0x6c3c03)continue;if(_0x6c3c03['id']===_0x5ddf08)return _0x6c3c03[_0x4f8ce7(0xed)];const _0x1f62cb=this[_0x4f8ce7(0x59f)][_0x4f8ce7(0x2d0)](_0x6c3c03['id']);_0x1f62cb&&_0x1f62cb['getStatus']()!==_0x1c565e[_0x4f8ce7(0x430)]&&_0x1f62cb['getRemoteConnections']()[_0x4f8ce7(0x7a1)](_0x3e8e63=>{const _0x427a61=_0x4f8ce7;_0x1a3a86['has'](_0x3e8e63)||(_0x1a3a86[_0x427a61(0x5c9)](_0x3e8e63),_0x1ac5f6[_0x427a61(0x7bc)]({'id':_0x3e8e63,'distance':_0x6c3c03['distance']+0x1}));});}return-0x1;}['handleNodeSystemEvents'](_0x43bf02){const _0x1490d0=_0x11ce6;try{switch(_0x43bf02[_0x1490d0(0x1c4)][_0x1490d0(0x789)]){case _0x4c4cc3['NodeUpdate']:case _0x4c4cc3[_0x1490d0(0x826)]:this[_0x1490d0(0x279)](_0x43bf02[_0x1490d0(0x1c4)]),_0x5c02ff[_0x1490d0(0x65b)](_0x1e4869[_0x1490d0(0x9d0)],_0x1490d0(0x152),'\x27'+this['configs'][_0x1490d0(0xd3)]['getId']()+',\x20'+_0x43bf02['sourceId']+'\x27',_0x43bf02,_0x43bf02['content']);break;case _0x4c4cc3['NodeLeave']:this[_0x1490d0(0x86b)](_0x43bf02[_0x1490d0(0x1c4)]['id']),_0x5c02ff[_0x1490d0(0x65b)](_0x1e4869[_0x1490d0(0x9d0)],'NodeManager\x20-\x20NodeLeave','\x27'+this[_0x1490d0(0x102)]['localNode'][_0x1490d0(0x9d8)]()+',\x20'+_0x43bf02['sourceId']+'\x27',_0x43bf02,_0x43bf02[_0x1490d0(0x1c4)]);}}catch(_0x1d331a){if(_0x1d331a instanceof _0x56672e)return void _0x5c02ff['log'](_0x1e4869[_0x1490d0(0x9d0)],_0x1d331a[_0x1490d0(0x686)]);throw _0x1d331a;}}[_0x11ce6(0x7ed)](_0xb52d5f){const _0x101a7d=_0x11ce6;switch(_0xb52d5f[_0x101a7d(0x1c4)][_0x101a7d(0x789)]){case _0x1ed9f1['Success']:this[_0x101a7d(0x2af)](_0xb52d5f[_0x101a7d(0x112)]),_0x5c02ff[_0x101a7d(0x65b)](_0x1e4869[_0x101a7d(0x9d0)],_0x101a7d(0x62a),'\x27'+this[_0x101a7d(0x102)][_0x101a7d(0xd3)][_0x101a7d(0x9d8)]()+',\x20'+_0xb52d5f[_0x101a7d(0x112)]+'\x27',_0xb52d5f,_0xb52d5f[_0x101a7d(0x1c4)]);break;case _0x1ed9f1['Disconnect']:this[_0x101a7d(0xeb)](_0xb52d5f[_0x101a7d(0x112)]),_0x5c02ff[_0x101a7d(0x65b)](_0x1e4869[_0x101a7d(0x9d0)],_0x101a7d(0x3b1),this['configs'][_0x101a7d(0xd3)][_0x101a7d(0x9d8)](),_0xb52d5f,_0xb52d5f[_0x101a7d(0x1c4)]);}}[_0x11ce6(0x8db)](_0x339c61){const _0x39644d=_0x11ce6;this[_0x39644d(0x25c)](_0x339c61),this[_0x39644d(0x4a7)](_0x339c61);}['notifyJoin'](_0xb0e641){const _0x3065cc=_0x11ce6;this[_0x3065cc(0x102)][_0x3065cc(0xd3)]['answerJoin'](_0xb0e641['id']),this[_0x3065cc(0x98f)](_0xb0e641['id']),this[_0x3065cc(0xf6)](_0xb0e641);}['handleNodeUpdate'](_0x4204b0){const _0x52e371=_0x11ce6,{id:_0x3b5d96,metaData:_0x2dc15e,rank:_0x249401,remoteConnections:_0x311c50,version:_0xf11e6c}=_0x4204b0,_0x13d728=this[_0x52e371(0x59f)][_0x52e371(0x2d0)](_0x3b5d96);if(_0x13d728){if(!(_0xf11e6c<=_0x13d728[_0x52e371(0x7e2)]())){if(_0x13d728[_0x52e371(0x30e)](_0x311c50),_0x13d728[_0x52e371(0x8be)](_0xf11e6c),_0x13d728[_0x52e371(0x789)]===_0x4aea4d[_0x52e371(0x552)]['User']&&_0x2dc15e[_0x52e371(0x789)]===_0x4aea4d[_0x52e371(0x552)][_0x52e371(0x59b)]&&(_0x13d728[_0x52e371(0x27b)](_0x2dc15e[_0x52e371(0x535)]),_0x13d728[_0x52e371(0x4a6)](_0x2dc15e[_0x52e371(0x3fd)])),_0x249401&&_0x13d728[_0x52e371(0x6c1)](_0x249401),this[_0x52e371(0x6a6)](_0x3b5d96,_0x249401),_0x13d728[_0x52e371(0x663)]()===_0x1c565e[_0x52e371(0x430)])return _0x13d728[_0x52e371(0x30d)](_0x1c565e[_0x52e371(0x4ce)]),this[_0x52e371(0x33d)](),void this['notifyJoin'](_0x4204b0);this[_0x52e371(0x33d)](),this[_0x52e371(0x616)]({'id':_0x3b5d96,'metaData':_0x2dc15e,'remoteConnections':_0x311c50,'version':_0xf11e6c});}}else this[_0x52e371(0x8db)](_0x4204b0);}['setLocalRank'](_0x254284,_0x14cafa){const _0x1af071=_0x11ce6;_0x14cafa&&this[_0x1af071(0x82b)]['includes'](_0x254284)&&this[_0x1af071(0x102)][_0x1af071(0xd3)]['setRank'](_0x14cafa+this[_0x1af071(0x82b)][_0x1af071(0x558)](_0x254284)+0x1);}['handleConnectionSuccess'](_0x170a9e){const _0x44e513=_0x11ce6;this[_0x44e513(0x102)][_0x44e513(0xd3)][_0x44e513(0x473)](_0x170a9e);}[_0x11ce6(0x25c)]({id:_0x38138a,metaData:_0x20db41,rank:_0x22b129,remoteConnections:_0x23f129,version:_0x30e338}){const _0x55c4b7=_0x11ce6;if(this[_0x55c4b7(0x59f)]['hasRemoteNode'](_0x38138a))throw new _0x56672e(_0x55c4b7(0x95d)+_0x38138a);switch(_0x20db41[_0x55c4b7(0x789)]){case _0x4aea4d[_0x55c4b7(0x552)][_0x55c4b7(0x59b)]:const {displayName:_0x585798,email:_0x5c8b4c}=_0x20db41;this['graphService']['setRemoteNode'](_0x38138a,new _0x40d8de(_0x38138a,_0x585798,_0x5c8b4c,new Set(_0x23f129),_0x30e338,_0x22b129));break;case _0x4aea4d[_0x55c4b7(0x552)][_0x55c4b7(0x68c)]:this[_0x55c4b7(0x59f)][_0x55c4b7(0x494)](_0x38138a,new _0x22f58b(_0x38138a,new Set(_0x23f129),_0x30e338,_0x22b129));}const _0x554a06=this['getRemoteNodes'](),_0x4feb69=new Set(this[_0x55c4b7(0x82b)]);_0x554a06[_0x55c4b7(0x7a1)](_0x856cd0=>{const _0x3c2a3a=_0x55c4b7;_0x4feb69[_0x3c2a3a(0x297)](_0x856cd0[_0x3c2a3a(0x9d8)]())&&_0x4feb69[_0x3c2a3a(0x3a9)](_0x856cd0[_0x3c2a3a(0x9d8)]());}),0x0===_0x4feb69['size']&&this[_0x55c4b7(0x589)]&&(this[_0x55c4b7(0x7d1)]&&clearTimeout(this['readyDebounce']),this[_0x55c4b7(0x7d1)]=setTimeout(()=>{const _0x169aaa=_0x55c4b7;this[_0x169aaa(0x589)]?.(!0x0),delete this[_0x169aaa(0x589)],delete this[_0x169aaa(0x881)];},0x7d0)),this[_0x55c4b7(0x6a6)](_0x38138a,_0x22b129),this[_0x55c4b7(0x33d)]();}['publishNodeJoin'](_0x207b31){const _0x108e31=_0x11ce6;this[_0x108e31(0x1ad)]['publish']({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x108e31(0x9d0)],'content':{'type':_0x4c4cc3['NodeJoin'],'id':_0x207b31}});}[_0x11ce6(0xeb)](_0x13617f){const _0x366682=_0x11ce6;this[_0x366682(0x1ad)]?.[_0x366682(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x366682(0x9d0)],'content':{'type':_0x4c4cc3[_0x366682(0x55e)],'id':_0x13617f}});}['handleNodeDisconnect'](_0x472bc4){const _0x2b302f=_0x11ce6;if(_0x472bc4===this[_0x2b302f(0x102)][_0x2b302f(0xd3)][_0x2b302f(0x9d8)]())return this[_0x2b302f(0x102)][_0x2b302f(0x4f6)][_0x2b302f(0x397)](_0x2b302f(0x471),{'id':_0x472bc4}),this[_0x2b302f(0x102)][_0x2b302f(0x4f6)][_0x2b302f(0x17e)]({'force':!0x0},!0x0),this[_0x2b302f(0x102)]['mediator'][_0x2b302f(0x4ec)](),void this[_0x2b302f(0x102)][_0x2b302f(0x4f6)][_0x2b302f(0x9db)]();this[_0x2b302f(0xeb)](_0x472bc4);}[_0x11ce6(0x86b)](_0x47cb7d){const _0x332594=_0x11ce6;this[_0x332594(0x82b)]['includes'](_0x47cb7d)?this[_0x332594(0x51c)](_0x47cb7d):this[_0x332594(0x102)][_0x332594(0xd3)][_0x332594(0x4d9)]()[_0x332594(0x297)](_0x47cb7d)&&this[_0x332594(0x689)](_0x47cb7d),this[_0x332594(0x102)][_0x332594(0xd3)][_0x332594(0xf1)](_0x47cb7d);const _0x4db5ed=Array['from'](this['optimizationLayers']['entries']())[_0x332594(0x957)](([,_0x2f3d07])=>_0x2f3d07==_0x2f3d07);_0x4db5ed&&this[_0x332594(0xde)][_0x332594(0x3a9)](_0x4db5ed[0x0]);const _0x4aed62=this['graphService'][_0x332594(0x2d0)](_0x47cb7d);if(!_0x4aed62)return;const _0x5a355e=_0x4aed62['getRank'](),_0x376cf0=this[_0x332594(0x102)]['localNode']['getRank']();_0x376cf0&&_0x5a355e&&_0x5a355e<_0x376cf0&&this[_0x332594(0x102)]['localNode'][_0x332594(0x6c1)](_0x376cf0-0x1,!0x1),Array['from'](this['graphService']['getRemoteNodes']()[_0x332594(0x8ea)]())['forEach'](_0x44e06b=>{const _0x5bb216=_0x332594,_0x4b0d82=_0x44e06b[_0x5bb216(0x8c4)]();_0x4b0d82&&_0x5a355e&&_0x5a355e<_0x4b0d82&&_0x44e06b[_0x5bb216(0x6c1)](_0x4b0d82-0x1);}),_0x4aed62['setStatus'](_0x1c565e[_0x332594(0x430)]),this[_0x332594(0x102)]['mediator'][_0x332594(0x397)](_0x4aed62[_0x332594(0x789)]+'-leave',{'id':_0x47cb7d});}[_0x11ce6(0xf6)]({id:_0x35943a,metaData:_0x521681,remoteConnections:_0x2417f7}){const _0x5f0a60=_0x11ce6;switch(_0x521681[_0x5f0a60(0x789)]){case _0x4aea4d[_0x5f0a60(0x552)][_0x5f0a60(0x59b)]:this['configs'][_0x5f0a60(0x4f6)][_0x5f0a60(0x397)]('user-join',{'id':_0x35943a,'metaData':_0x521681,'remoteConnections':_0x2417f7});break;case _0x4aea4d[_0x5f0a60(0x552)][_0x5f0a60(0x68c)]:this[_0x5f0a60(0x102)][_0x5f0a60(0x4f6)][_0x5f0a60(0x397)](_0x5f0a60(0x38c),{'id':_0x35943a,'metaData':_0x521681,'remoteConnections':_0x2417f7});}}[_0x11ce6(0x616)]({id:_0x12e239,metaData:_0x2c923c,remoteConnections:_0x36f0d2}){const _0x310080=_0x11ce6;switch(_0x2c923c[_0x310080(0x789)]){case _0x4aea4d['NodeType'][_0x310080(0x59b)]:this[_0x310080(0x102)]['mediator'][_0x310080(0x397)](_0x310080(0x108),{'id':_0x12e239,'metaData':_0x2c923c,'remoteConnections':_0x36f0d2});break;case _0x4aea4d[_0x310080(0x552)][_0x310080(0x68c)]:this[_0x310080(0x102)][_0x310080(0x4f6)][_0x310080(0x397)](_0x310080(0x9d6),{'id':_0x12e239,'metaData':_0x2c923c,'remoteConnections':_0x36f0d2});}}['processRank'](){const _0xa92fa2=_0x11ce6;if(this[_0xa92fa2(0x33a)]||(this[_0xa92fa2(0x33a)]=Date[_0xa92fa2(0x3bd)]()),this[_0xa92fa2(0x11b)]){if(Date[_0xa92fa2(0x3bd)]()-this[_0xa92fa2(0x33a)]>0x2328)return;clearTimeout(this[_0xa92fa2(0x11b)]);}this[_0xa92fa2(0x11b)]=setTimeout(async()=>{const _0x4dd3a1=_0xa92fa2;delete this[_0x4dd3a1(0x33a)],delete this[_0x4dd3a1(0x11b)];const _0x43ec24=this[_0x4dd3a1(0x102)][_0x4dd3a1(0xd3)][_0x4dd3a1(0x8c4)]();if(!_0x43ec24)return;const _0x52eafe=this[_0x4dd3a1(0x59f)][_0x4dd3a1(0x225)](this[_0x4dd3a1(0x59f)][_0x4dd3a1(0x652)]()[_0x4dd3a1(0x84c)]);if(this['optimizationLayers'][_0x4dd3a1(0x84c)]>=_0x52eafe)return;let _0x25780a=0x1;for(;this['configs']['mediator'][_0x4dd3a1(0x791)]()[_0x4dd3a1(0x7ad)]<this['graphService'][_0x4dd3a1(0x2aa)]()&&_0x25780a<=_0x52eafe;){if(this[_0x4dd3a1(0xde)][_0x4dd3a1(0x297)](_0x25780a)){_0x25780a+=0x1;continue;}const _0x21ee25=this[_0x4dd3a1(0x59f)]['getNextTargetRank'](_0x43ec24,_0x25780a),_0xe4adf=Array['from'](this[_0x4dd3a1(0x59f)][_0x4dd3a1(0x652)]()[_0x4dd3a1(0x8ea)]())[_0x4dd3a1(0x957)](_0x46eaa4=>_0x46eaa4[_0x4dd3a1(0x8c4)]()===_0x21ee25&&_0x46eaa4[_0x4dd3a1(0x663)]()===_0x1c565e[_0x4dd3a1(0x4ce)]);if(_0xe4adf){try{await this['configs'][_0x4dd3a1(0x4f6)]['createConnection'](_0xe4adf[_0x4dd3a1(0x9d8)](),_0x49ddb9['Optimization']),this[_0x4dd3a1(0xde)]['set'](_0x25780a,_0xe4adf[_0x4dd3a1(0x9d8)]());}catch(_0x341bef){if(!(_0x341bef instanceof _0x490cf1&&_0x341bef['code']===_0x490cf1[_0x4dd3a1(0x9fb)]['RemoteConnectionExists']))throw _0x341bef;_0x5c02ff[_0x4dd3a1(0x65b)](_0x1e4869['Node'],this['configs'][_0x4dd3a1(0xd3)][_0x4dd3a1(0x9d8)](),_0xe4adf[_0x4dd3a1(0x9d8)](),_0x341bef['message']);}_0x25780a+=0x1;}else _0x25780a+=0x1;}},0x3e8);}async['manageAncestor'](_0x3317cf){const _0x408a88=_0x11ce6;this['ancestors'][_0x408a88(0x416)](this[_0x408a88(0x82b)][_0x408a88(0x558)](_0x3317cf),0x1);const _0x28eb16=await this['discoveryService']['getAncestors']();for(const _0xa07a76 of _0x28eb16)if(!this[_0x408a88(0x82b)][_0x408a88(0x2a1)](_0xa07a76)){const _0x5523ea=Array[_0x408a88(0x462)](this[_0x408a88(0xde)][_0x408a88(0x91c)]())[_0x408a88(0x957)](([,_0x52dc14])=>_0x52dc14===_0xa07a76);_0x5523ea&&this[_0x408a88(0xde)][_0x408a88(0x3a9)](_0x5523ea[0x0]),this[_0x408a88(0x102)][_0x408a88(0x4f6)]['createConnection'](_0xa07a76,_0x49ddb9[_0x408a88(0x199)]);}0x0===_0x28eb16[_0x408a88(0x7ad)]&&this[_0x408a88(0x102)][_0x408a88(0xd3)]['setRank'](0x1),this[_0x408a88(0x82b)]=_0x28eb16;}async[_0x11ce6(0x689)](_0x3d12cf){const _0x3156c6=_0x11ce6,_0x408695=this[_0x3156c6(0x102)][_0x3156c6(0xd3)][_0x3156c6(0x8c4)]();if(!_0x408695)return;const _0x14b27a=this['graphService'][_0x3156c6(0x2d0)](_0x3d12cf);if(!_0x14b27a||_0x14b27a['getStatus']()===_0x1c565e[_0x3156c6(0x430)])return;const _0x52e96b=_0x14b27a[_0x3156c6(0x8c4)]();if(!_0x52e96b||_0x52e96b<_0x408695)return;const _0x69773b=this[_0x3156c6(0x7d7)](this['configs'][_0x3156c6(0xd3)][_0x3156c6(0x4d9)](),_0x408695),_0x23a4bd=this[_0x3156c6(0x7d7)](_0x14b27a['getRemoteConnections'](),_0x52e96b)[_0x69773b[_0x3156c6(0x1f7)](([_0x2f4934])=>_0x2f4934===_0x3d12cf)];if(!_0x23a4bd||this[_0x3156c6(0x102)][_0x3156c6(0xd3)][_0x3156c6(0x4d9)]()[_0x3156c6(0x297)](_0x23a4bd[0x0]))return;const _0x3f77fa=this[_0x3156c6(0x59f)][_0x3156c6(0x2d0)](_0x23a4bd[0x0]);if(_0x3f77fa&&_0x3f77fa[_0x3156c6(0x663)]()!==_0x1c565e['Offline'])try{await this[_0x3156c6(0x102)][_0x3156c6(0x4f6)][_0x3156c6(0x94d)](_0x23a4bd[0x0],_0x49ddb9['Optimization']);const _0x13136c=Array[_0x3156c6(0x462)](this[_0x3156c6(0xde)][_0x3156c6(0x91c)]())[_0x3156c6(0x957)](([,_0x559af9])=>_0x559af9===_0x3d12cf);_0x13136c&&this[_0x3156c6(0xde)][_0x3156c6(0x323)](_0x13136c[0x0],_0x23a4bd[0x0]);}catch(_0x1a7a16){if(!(_0x1a7a16 instanceof _0x490cf1&&_0x1a7a16['code']===_0x490cf1[_0x3156c6(0x9fb)][_0x3156c6(0x7e1)]))throw _0x1a7a16;_0x5c02ff['log'](_0x1e4869[_0x3156c6(0x9d0)],this[_0x3156c6(0x102)][_0x3156c6(0xd3)][_0x3156c6(0x9d8)](),_0x23a4bd[0x0],_0x1a7a16[_0x3156c6(0x686)]);}}[_0x11ce6(0x7d7)](_0x128223,_0x2f5bd3){const _0x1edfda=_0x11ce6;return Array[_0x1edfda(0x462)](_0x128223)[_0x1edfda(0x484)]((_0x3e8030,_0x4a9e02)=>{const _0x3e2ae7=_0x1edfda,_0x137d2a=this[_0x3e2ae7(0x59f)][_0x3e2ae7(0x2d0)](_0x4a9e02);if(!_0x137d2a||_0x137d2a['getStatus']()===_0x1c565e['Offline'])return _0x3e8030;const _0x1a555b=_0x137d2a[_0x3e2ae7(0x8c4)]();if(!_0x1a555b)return _0x3e8030;const _0x55625a=_0x1a555b-_0x2f5bd3;return _0x55625a<=this[_0x3e2ae7(0x59f)][_0x3e2ae7(0x1cb)]()||_0x3e8030[_0x3e2ae7(0x7bc)]([_0x4a9e02,_0x55625a]),_0x3e8030;},[])[_0x1edfda(0x96b)](([,_0x4d8e19],[,_0xb961bc])=>_0x4d8e19-_0xb961bc);}}const _0x132e31=[{'problemType':_0x66d80b['CPUCycle'],'remediations':[{'type':_0x5f3e['Remediation'],'component':_0x11b7e7['Resolution'],'action':_0x2b0adb[_0x11ce6(0x1cd)]},{'type':_0x5f3e[_0x11ce6(0x298)],'component':_0x11b7e7[_0x11ce6(0xc3)],'action':_0x2b0adb['Downgrade']}]},{'problemType':_0x66d80b[_0x11ce6(0x414)],'remediations':[{'type':_0x5f3e[_0x11ce6(0x8a7)],'component':_0x11b7e7[_0x11ce6(0xc3)],'action':_0x2b0adb[_0x11ce6(0x1cd)]}]},{'problemType':_0x66d80b[_0x11ce6(0x519)],'remediations':[{'type':_0x5f3e[_0x11ce6(0x8a7)],'component':_0x11b7e7[_0x11ce6(0xc3)],'action':_0x2b0adb[_0x11ce6(0x1cd)]}]},{'problemType':_0x66d80b[_0x11ce6(0x766)],'remediations':[{'type':_0x5f3e[_0x11ce6(0x8a7)],'component':_0x11b7e7[_0x11ce6(0xc3)],'action':_0x2b0adb[_0x11ce6(0x1cd)]}]},{'problemType':_0x66d80b[_0x11ce6(0x439)],'remediations':[{'type':_0x5f3e[_0x11ce6(0x8a7)],'component':_0x11b7e7[_0x11ce6(0x439)],'action':_0x2b0adb[_0x11ce6(0x1cd)]}]},{'problemType':_0x66d80b['Jitter'],'remediations':[{'type':_0x5f3e[_0x11ce6(0x8a7)],'component':_0x11b7e7[_0x11ce6(0x439)],'action':_0x2b0adb[_0x11ce6(0x1cd)]}]},{'problemType':_0x66d80b['RoundTripTime'],'remediations':[{'type':_0x5f3e['Remediation'],'component':_0x11b7e7[_0x11ce6(0x439)],'action':_0x2b0adb[_0x11ce6(0x1cd)]}]}];class _0x4ae549{[_0x11ce6(0x102)];[_0x11ce6(0x1ad)];[_0x11ce6(0x40c)]=new Map();constructor(_0x352849){const _0x37c106=_0x11ce6;this['configs']=_0x352849,this['configs'][_0x37c106(0x4f6)][_0x37c106(0x4da)](this);}[_0x11ce6(0x17e)](){const _0x35e49f=_0x11ce6;this[_0x35e49f(0x102)]['mediator'][_0x35e49f(0x579)](this);}['registerSystemPublisher'](_0x19208a){const _0x200e5c=_0x11ce6;this[_0x200e5c(0x1ad)]=_0x19208a;}[_0x11ce6(0x5c1)](){const _0x17f35e=_0x11ce6;delete this[_0x17f35e(0x1ad)];}[_0x11ce6(0x750)](_0x502f96){const _0x44bb4a=_0x11ce6;_0x502f96[_0x44bb4a(0x1c4)]['type']===_0x244ba6[_0x44bb4a(0x2c5)]&&this['handleProblem'](_0x502f96[_0x44bb4a(0x1c4)][_0x44bb4a(0x4ff)]);}['handleRemediationSystemEvents'](_0x46b479){const _0x27322c=_0x11ce6;_0x46b479[_0x27322c(0x1c4)][_0x27322c(0x789)]===_0x5f3e['RemoteRemediation']&&this[_0x27322c(0x677)](_0x46b479[_0x27322c(0x112)],{'type':_0x5f3e[_0x27322c(0x8a7)],'component':_0x46b479[_0x27322c(0x1c4)][_0x27322c(0x4ff)][_0x27322c(0x6c9)],'action':_0x46b479[_0x27322c(0x1c4)][_0x27322c(0x4ff)][_0x27322c(0x28d)]});}[_0x11ce6(0x25f)](_0x862626){const _0x2730a9=_0x11ce6,_0x2b4373=_0x132e31[_0x2730a9(0x957)](_0x204f09=>_0x204f09[_0x2730a9(0x3a7)]===_0x862626[_0x2730a9(0x789)]);_0x2b4373['remediations']?.[_0x2730a9(0x7a1)](_0x131deb=>{const _0x550ada=_0x2730a9;this[_0x550ada(0x677)](_0x862626['nodeId'],{'type':_0x862626['origin']===_0x3792ca[_0x550ada(0x32e)]?_0x5f3e[_0x550ada(0x8a7)]:_0x5f3e[_0x550ada(0x298)],'component':_0x131deb[_0x550ada(0x6c9)],'action':_0x131deb[_0x550ada(0x28d)]});});}[_0x11ce6(0x677)](_0x3874ad,_0x53b0b5){const _0x513dd8=_0x11ce6;if(_0x53b0b5[_0x513dd8(0x789)]===_0x5f3e['Remediation']){const _0x107884=Date[_0x513dd8(0x3bd)](),_0x41e993=this['lastRemediations'][_0x513dd8(0x3f2)](_0x3874ad);if(_0x41e993&&_0x107884-_0x41e993<0x1388)return;this['lastRemediations']['set'](_0x3874ad,_0x107884);}_0x5c02ff[_0x513dd8(0x65b)](_0x1e4869[_0x513dd8(0x8a7)],'Apply\x20remediation',_0x53b0b5),_0x5c02ff[_0x513dd8(0x745)](_0x513dd8(0x3eb),{'clusterId':this[_0x513dd8(0x102)]['clusterId'],'nodeId':this['configs']['localNode']['getId'](),'nodeType':this[_0x513dd8(0x102)][_0x513dd8(0xd3)]['type'],'remoteId':_0x3874ad,'data':{'type':_0x53b0b5[_0x513dd8(0x789)],'component':_0x53b0b5[_0x513dd8(0x6c9)],'action':_0x53b0b5[_0x513dd8(0x28d)]}});let _0x56bf3e,_0x3ff350=_0x1f0abe;_0x53b0b5[_0x513dd8(0x789)]===_0x5f3e[_0x513dd8(0x298)]&&(_0x3ff350=this[_0x513dd8(0x102)][_0x513dd8(0xd3)][_0x513dd8(0x9d8)](),_0x56bf3e=[_0x3874ad]),this['systemTopic']['publish']({'sourceId':_0x3ff350,'destinationIds':_0x56bf3e,'messageType':_0x48fa30[_0x513dd8(0x8a7)],'content':{'type':_0x53b0b5['type'],'targetId':_0x3874ad,'data':_0x53b0b5}});}}const _0x340b0b=0x3e8,_0x178f8f=0x7530,_0x384738='outbound-rtp',_0x1ed731=_0x11ce6(0x3a2),_0x4001b5=_0x11ce6(0x31f),_0x11c6ad=[_0x384738,_0x1ed731],_0x27e526=[_0x4001b5];class _0x377065{[_0x11ce6(0x311)]=0x0;[_0x11ce6(0x9b2)]=0x0;[_0x11ce6(0x87c)]=0x0;[_0x11ce6(0x98e)]=0x0;[_0x11ce6(0x586)]=0x0;[_0x11ce6(0x853)]=0x0;['previousTimestamp']=0x0;[_0x11ce6(0xf0)]=0x0;[_0x11ce6(0xfb)]=0x0;get[_0x11ce6(0x157)](){const _0x3cb4a1=_0x11ce6;return this[_0x3cb4a1(0x853)]>0x0&&this[_0x3cb4a1(0x9b0)]>0x0&&Date['now']()-this['currentTimestamp']<_0x178f8f?(this[_0x3cb4a1(0xf0)]-this[_0x3cb4a1(0xfb)])/(this[_0x3cb4a1(0x853)]-this['previousTimestamp'])*0x8*0x3e8:0x0;}[_0x11ce6(0x972)](_0x39e4b1){const _0x21018a=_0x11ce6;switch(_0x39e4b1[_0x21018a(0x789)]){case _0x4001b5:this['processInboundReport'](_0x39e4b1);break;case _0x384738:this[_0x21018a(0x6a2)](_0x39e4b1);break;case _0x1ed731:this[_0x21018a(0x668)](_0x39e4b1);}}['getReport'](){const _0x34b62b=_0x11ce6;return{'bitrate':this[_0x34b62b(0x157)],'packetsLostPerc':this['getPacketsLostPerc'](),'roundTripTime':this['roundTripTime'],'jitter':this[_0x34b62b(0x87c)]};}[_0x11ce6(0x410)](_0x3eb87c){const _0x10ee8a=_0x11ce6;this[_0x10ee8a(0x213)](_0x3eb87c['bytesReceived']),this[_0x10ee8a(0x932)](_0x3eb87c[_0x10ee8a(0x951)]),this[_0x10ee8a(0x586)]=_0x3eb87c['packetsReceived'],this[_0x10ee8a(0x98e)]=_0x3eb87c[_0x10ee8a(0x98e)],void 0x0!==_0x3eb87c[_0x10ee8a(0x87c)]?this[_0x10ee8a(0x87c)]=_0x3eb87c[_0x10ee8a(0x87c)]:this[_0x10ee8a(0x87c)]=0x0,void 0x0!==_0x3eb87c[_0x10ee8a(0x9b2)]?this[_0x10ee8a(0x9b2)]=_0x3eb87c[_0x10ee8a(0x9b2)]:this[_0x10ee8a(0x9b2)]=0x0;}[_0x11ce6(0x6a2)](_0x181b32){const _0x2574ba=_0x11ce6;this['setBytes'](_0x181b32[_0x2574ba(0x769)]),this['setTimestamp'](_0x181b32[_0x2574ba(0x951)]),this[_0x2574ba(0x586)]=_0x181b32[_0x2574ba(0x8cd)];}['processRemoteInboundReport'](_0x2de35f){const _0x1c0080=_0x11ce6;this['roundTripTime']=0x3e8*_0x2de35f[_0x1c0080(0x311)],void 0x0!==_0x2de35f[_0x1c0080(0x87c)]?this[_0x1c0080(0x87c)]=_0x2de35f['jitter']:this['jitter']=0x0;}[_0x11ce6(0xe8)](){const _0x1c5d63=_0x11ce6;return this[_0x1c5d63(0x586)]>0x0?this[_0x1c5d63(0x98e)]/this[_0x1c5d63(0x586)]:0x0;}[_0x11ce6(0x932)](_0x34b8af){const _0xfccf5=_0x11ce6;_0x34b8af>this[_0xfccf5(0x853)]&&(this[_0xfccf5(0x9b0)]=this[_0xfccf5(0x853)],this[_0xfccf5(0x853)]=_0x34b8af);}[_0x11ce6(0x213)](_0x4c3a82){const _0x43ada0=_0x11ce6;this[_0x43ada0(0xfb)]=this['currentBytes'],this[_0x43ada0(0xf0)]=_0x4c3a82;}}class _0x18cf81 extends _0x377065{}class _0x476fa5 extends _0x377065{[_0x11ce6(0x7dc)]=0x0;['frameWidth']=0x0;[_0x11ce6(0x228)]=0x0;['currentFrames']=0x0;[_0x11ce6(0x6db)]=0x0;get[_0x11ce6(0x868)](){const _0x4ec33b=_0x11ce6;return this[_0x4ec33b(0x853)]>0x0&&this['previousTimestamp']>0x0&&Date[_0x4ec33b(0x3bd)]()-this[_0x4ec33b(0x853)]<_0x178f8f?(this[_0x4ec33b(0x537)]-this[_0x4ec33b(0x6db)])/(this[_0x4ec33b(0x853)]-this[_0x4ec33b(0x9b0)])*0x3e8:0x0;}get[_0x11ce6(0x797)](){const _0x34e651=_0x11ce6;return this[_0x34e651(0x7dc)]&&this[_0x34e651(0x537)]&&this['currentFrames']>0x0?this[_0x34e651(0x7dc)]/this[_0x34e651(0x537)]:0x0;}set[_0x11ce6(0x5b2)](_0x45287a){const _0x928f6d=_0x11ce6;this[_0x928f6d(0x6db)]=this[_0x928f6d(0x537)],this[_0x928f6d(0x537)]=_0x45287a;}[_0x11ce6(0x22b)](){const _0x265b51=_0x11ce6;return{...super[_0x265b51(0x22b)](),'FPS':this[_0x265b51(0x868)],'timePerFrame':this[_0x265b51(0x797)],'frameWidth':this['frameWidth'],'frameHeight':this['frameHeight']};}[_0x11ce6(0x410)](_0x10a761){const _0x38717c=_0x11ce6;super[_0x38717c(0x410)](_0x10a761),this['frameTime']=_0x10a761[_0x38717c(0x679)],this[_0x38717c(0x5b2)]=_0x10a761[_0x38717c(0x37a)],this[_0x38717c(0x43f)]=_0x10a761['frameWidth'],this[_0x38717c(0x228)]=_0x10a761['frameHeight'];}[_0x11ce6(0x6a2)](_0x4012e){const _0x181762=_0x11ce6;super[_0x181762(0x6a2)](_0x4012e),this[_0x181762(0x7dc)]=_0x4012e[_0x181762(0x70f)],this['frames']=_0x4012e[_0x181762(0x639)],this[_0x181762(0x43f)]=_0x4012e['frameWidth'],this[_0x181762(0x228)]=_0x4012e[_0x181762(0x228)];}}class _0x517bb4{[_0x11ce6(0x309)]=new _0x18cf81();['video']=new _0x476fa5();get['bitrate'](){const _0x61baf5=_0x11ce6;return this[_0x61baf5(0x309)][_0x61baf5(0x157)]+this[_0x61baf5(0x452)]['bitrate'];}[_0x11ce6(0x45b)](_0x59aa4e){const _0x7e6d53=_0x11ce6;return _0x59aa4e[_0x7e6d53(0x7a1)](_0x154509=>{const _0x243ff9=_0x7e6d53;switch(_0x154509[_0x243ff9(0x969)]){case _0x243ff9(0x309):this[_0x243ff9(0x309)]['processReport'](_0x154509);break;case _0x243ff9(0x452):this[_0x243ff9(0x452)][_0x243ff9(0x972)](_0x154509);}}),this[_0x7e6d53(0x22b)]();}[_0x11ce6(0x22b)](){const _0x5a20fa=_0x11ce6;return{'audio':this['audio'][_0x5a20fa(0x22b)](),'video':this[_0x5a20fa(0x452)]['getReport'](),'roundTripTime':this['getRoundTripTime'](),'AudioVideoDelay':this[_0x5a20fa(0x7c8)](),'bitrate':this[_0x5a20fa(0x157)]};}[_0x11ce6(0x627)](){const _0x2f02e7=_0x11ce6;return Math[_0x2f02e7(0x273)]((this[_0x2f02e7(0x309)]['roundTripTime']+this[_0x2f02e7(0x452)][_0x2f02e7(0x311)])/0x2);}[_0x11ce6(0x7c8)](){const _0x4ab239=_0x11ce6;return this['audio'][_0x4ab239(0x9b2)]-this[_0x4ab239(0x452)][_0x4ab239(0x9b2)];}}class _0x61d433{[_0x11ce6(0x17b)]=0x0;[_0x11ce6(0x7d6)]=0x0;['receiverCurrentTimestamp']=0x0;[_0x11ce6(0x361)]=0x0;[_0x11ce6(0x5e8)]=0x0;[_0x11ce6(0x6c2)]=0x0;[_0x11ce6(0x892)]=0x0;[_0x11ce6(0x8da)]=0x0;[_0x11ce6(0x286)]=0x0;[_0x11ce6(0x8c9)]=0x0;[_0x11ce6(0x4e3)]=0x0;[_0x11ce6(0xfd)]=0x0;[_0x11ce6(0x311)]=0x0;get[_0x11ce6(0x157)](){const _0x208fae=_0x11ce6;return this[_0x208fae(0x40f)]+this['receiverBitrate'];}get[_0x11ce6(0x40f)](){const _0x24d778=_0x11ce6;return this[_0x24d778(0x17b)]>0x0&&this['senderPreviousTimestamp']>0x0&&Date['now']()-this[_0x24d778(0x17b)]<_0x178f8f?(this[_0x24d778(0x5e8)]-this[_0x24d778(0x6c2)])/(this[_0x24d778(0x17b)]-this[_0x24d778(0x7d6)])*0x8*0x3e8:0x0;}get[_0x11ce6(0x915)](){const _0x286ce3=_0x11ce6;return this[_0x286ce3(0x48f)]>0x0&&this[_0x286ce3(0x361)]>0x0&&Date[_0x286ce3(0x3bd)]()-this[_0x286ce3(0x48f)]<_0x178f8f?(this[_0x286ce3(0x892)]-this[_0x286ce3(0x8da)])/(this['receiverCurrentTimestamp']-this[_0x286ce3(0x361)])*0x8*0x3e8:0x0;}[_0x11ce6(0x972)](_0x2cb9ac){const _0x1280a6=_0x11ce6;switch(_0x2cb9ac[_0x1280a6(0x415)]){case _0x3792ca[_0x1280a6(0x32e)]:this[_0x1280a6(0x970)](_0x2cb9ac);break;case _0x3792ca[_0x1280a6(0x188)]:this[_0x1280a6(0x90a)](_0x2cb9ac);}}[_0x11ce6(0x22b)](){const _0x2669ba=_0x11ce6;return{'bitrate':this[_0x2669ba(0x157)],'senderBitrate':this[_0x2669ba(0x40f)],'receiverBitrate':this['receiverBitrate'],'totalBytes':this[_0x2669ba(0x2e1)](),'senderTotalBytes':this[_0x2669ba(0x132)](),'receiverTotalBytes':this[_0x2669ba(0x55d)](),'totalMessages':this['senderTotalMessages']+this[_0x2669ba(0x8c9)],'senderTotalMessages':this[_0x2669ba(0x286)],'receiverTotalMessages':this[_0x2669ba(0x8c9)],'timeProcessing':this[_0x2669ba(0x4e3)]+this[_0x2669ba(0xfd)],'senderTimeProcessing':this['senderTimeProcessing'],'receiverTimeProcessing':this[_0x2669ba(0xfd)],'roundTripTime':this[_0x2669ba(0x311)]};}['getTotalBytes'](){const _0x28f9e0=_0x11ce6;return this[_0x28f9e0(0x5e8)]+this[_0x28f9e0(0x892)];}[_0x11ce6(0x132)](){return this['senderCurrentBytes'];}[_0x11ce6(0x55d)](){const _0x3a64e9=_0x11ce6;return this[_0x3a64e9(0x892)];}[_0x11ce6(0x970)](_0x23a202){const _0x5e55c6=_0x11ce6;this[_0x5e55c6(0x2b0)](_0x23a202['timestamp']),this[_0x5e55c6(0x213)](_0x23a202['bytesSent']),this[_0x5e55c6(0x286)]=_0x23a202[_0x5e55c6(0x299)],this['senderTimeProcessing']=_0x23a202[_0x5e55c6(0x4a3)],this[_0x5e55c6(0x311)]=_0x23a202[_0x5e55c6(0x311)];}[_0x11ce6(0x90a)](_0x5edb61){const _0x4de64e=_0x11ce6;this[_0x4de64e(0x39c)](_0x5edb61[_0x4de64e(0x951)]),this[_0x4de64e(0x64e)](_0x5edb61[_0x4de64e(0x8a5)]),this[_0x4de64e(0x8c9)]=_0x5edb61['messagesReceived'],this['receiverTimeProcessing']=_0x5edb61[_0x4de64e(0x19a)];}['setSenderTimestamp'](_0x58795d){const _0x435854=_0x11ce6;_0x58795d>this[_0x435854(0x17b)]&&(this['senderPreviousTimestamp']=this[_0x435854(0x17b)],this[_0x435854(0x17b)]=_0x58795d);}[_0x11ce6(0x39c)](_0x204a00){const _0x36b754=_0x11ce6;_0x204a00>this[_0x36b754(0x48f)]&&(this[_0x36b754(0x361)]=this[_0x36b754(0x48f)],this[_0x36b754(0x48f)]=_0x204a00);}[_0x11ce6(0x213)](_0x226dd2){const _0x23327=_0x11ce6;this[_0x23327(0x6c2)]=this[_0x23327(0x5e8)],this[_0x23327(0x5e8)]=_0x226dd2;}[_0x11ce6(0x64e)](_0x5413c1){const _0x31b164=_0x11ce6;this[_0x31b164(0x8da)]=this[_0x31b164(0x892)],this[_0x31b164(0x892)]=_0x5413c1;}}class _0x117159{[_0x11ce6(0x6ad)]=new Map();['receiverStreams']=new Map();[_0x11ce6(0x48e)]=new _0x61d433();get[_0x11ce6(0x40f)](){const _0x1ed48f=_0x11ce6;let _0x589923=0x0;return this[_0x1ed48f(0x6ad)][_0x1ed48f(0x7a1)](_0x3611e4=>{const _0x529edd=_0x1ed48f;_0x589923+=_0x3611e4[_0x529edd(0x157)];}),_0x589923+=this[_0x1ed48f(0x48e)]['senderBitrate'],_0x589923;}get[_0x11ce6(0x915)](){const _0xdba253=_0x11ce6;let _0xab53f=0x0;return this[_0xdba253(0x196)][_0xdba253(0x7a1)](_0x2ff33b=>{_0xab53f+=_0x2ff33b['bitrate'];}),_0xab53f+=this['dataChannel'][_0xdba253(0x915)],_0xab53f;}get[_0x11ce6(0x157)](){const _0x50118b=_0x11ce6;return this[_0x50118b(0x40f)]+this[_0x50118b(0x915)];}[_0x11ce6(0x45b)](_0x38dfa2,_0x476e57){const _0x3075d0=_0x11ce6,_0x303514=[],_0x9a35c3=[];return _0x38dfa2 instanceof Array?_0x38dfa2[_0x3075d0(0x7a1)](_0x5c49a0=>{const _0x312171=_0x3075d0;_0x5c49a0[_0x312171(0x7a1)](_0x35710e=>{const _0x2c46e2=_0x312171;_0x27e526[_0x2c46e2(0x2a1)](_0x35710e['type'])&&_0x303514['push'](_0x35710e),_0x11c6ad[_0x2c46e2(0x2a1)](_0x35710e[_0x2c46e2(0x789)])&&_0x9a35c3[_0x2c46e2(0x7bc)](_0x35710e);});}):this[_0x3075d0(0x48e)][_0x3075d0(0x972)](_0x38dfa2),_0x303514[_0x3075d0(0x7ad)]>0x0&&_0x476e57?{...this[_0x3075d0(0x710)](_0x476e57,_0x303514),'origin':_0x3792ca[_0x3075d0(0x188)],'streamId':_0x476e57}:_0x9a35c3[_0x3075d0(0x7ad)]>0x0&&_0x476e57?{...this[_0x3075d0(0x50f)](_0x476e57,_0x9a35c3),'origin':_0x3792ca[_0x3075d0(0x32e)],'streamId':_0x476e57}:void 0x0;}['getReport'](){const _0x16c138=_0x11ce6,_0x5ff25d={};this[_0x16c138(0x6ad)][_0x16c138(0x7a1)]((_0x132a4a,_0x4db53a)=>{const _0x23a335=_0x16c138;_0x5ff25d[_0x4db53a]=_0x132a4a[_0x23a335(0x22b)]();});const _0x4388d3={};return this[_0x16c138(0x196)]['forEach']((_0x146873,_0x2d06e0)=>{_0x4388d3[_0x2d06e0]=_0x146873['getReport']();}),{'bitrate':this[_0x16c138(0x157)],'senderBitrate':this[_0x16c138(0x40f)],'receiverBitrate':this[_0x16c138(0x915)],'senderStreams':_0x5ff25d,'receiverStreams':_0x4388d3,'dataChannel':this[_0x16c138(0x48e)][_0x16c138(0x22b)]()};}[_0x11ce6(0x710)](_0x405d14,_0x4b2b3d){const _0x38a789=_0x11ce6;return this[_0x38a789(0x196)][_0x38a789(0x297)](_0x405d14)||this[_0x38a789(0x196)][_0x38a789(0x323)](_0x405d14,new _0x517bb4()),this[_0x38a789(0x196)]['get'](_0x405d14)[_0x38a789(0x45b)](_0x4b2b3d);}[_0x11ce6(0x50f)](_0x4077c5,_0x50016c){const _0x140ab3=_0x11ce6;return this[_0x140ab3(0x6ad)][_0x140ab3(0x297)](_0x4077c5)||this[_0x140ab3(0x6ad)][_0x140ab3(0x323)](_0x4077c5,new _0x517bb4()),this[_0x140ab3(0x6ad)][_0x140ab3(0x3f2)](_0x4077c5)[_0x140ab3(0x45b)](_0x50016c);}}class _0x4d8511{[_0x11ce6(0x6b5)]=new Map();[_0x11ce6(0xa19)]=0x0;['durationTime']=0x0;['pubsubTopics']=new Map();[_0x11ce6(0x46b)]=new Map();[_0x11ce6(0x741)]=new Map();[_0x11ce6(0x531)]=new Map();[_0x11ce6(0x982)]=new Map();[_0x11ce6(0x1da)]=new Map();[_0x11ce6(0x78b)]=new Map();[_0x11ce6(0x8a4)]=new Map();[_0x11ce6(0x286)]=new Map();['receiverTotalMessages']=new Map();[_0x11ce6(0x4e3)]=new Map();[_0x11ce6(0xfd)]=new Map();[_0x11ce6(0x86d)]=new Map();[_0x11ce6(0x1ad)];[_0x11ce6(0x22b)](){const _0x44659d=_0x11ce6,_0x23ebc9={};this['nodes'][_0x44659d(0x7a1)]((_0x377cd1,_0x5d3712)=>{const _0x1d39c1=_0x44659d;_0x23ebc9[_0x5d3712]=_0x377cd1[_0x1d39c1(0x22b)]();});let _0x1d88aa=0x0;this[_0x44659d(0x4e3)]['forEach'](_0x2e1904=>{_0x1d88aa+=_0x2e1904;});let _0x53d2be=0x0;this[_0x44659d(0xfd)][_0x44659d(0x7a1)](_0x464eee=>{_0x53d2be+=_0x464eee;});const _0x364a7c=_0x1d88aa+_0x53d2be;let _0x27614f={'messages':{'total':0x0}};this[_0x44659d(0x86d)][_0x44659d(0x7a1)](_0x3d92cd=>{const _0x44c074=_0x44659d;Object[_0x44c074(0x8ae)](_0x3d92cd)[_0x44c074(0x7a1)](_0x14e4ef=>{const _0x227347=_0x44c074;_0x27614f[_0x14e4ef]||(_0x27614f[_0x14e4ef]={}),Object[_0x227347(0x8ae)](_0x3d92cd[_0x14e4ef])[_0x227347(0x7a1)](_0x3c17e0=>{_0x27614f[_0x14e4ef][_0x3c17e0]||(_0x27614f[_0x14e4ef][_0x3c17e0]=0x0),_0x27614f[_0x14e4ef][_0x3c17e0]+=_0x3d92cd[_0x14e4ef][_0x3c17e0];});});});let _0x3ba616=0x0,_0x387e3b=0x0,_0x4ab09c=0x0,_0x44c988=0x0,_0x3b266c=0x0;return this[_0x44659d(0x994)]['forEach'](_0x222ad0=>{const _0x2eefa2=_0x44659d;_0x387e3b+=_0x222ad0[_0x2eefa2(0x299)],_0x4ab09c+=_0x222ad0[_0x2eefa2(0x219)],_0x44c988+=_0x222ad0['bytesSent'],_0x3b266c+=_0x222ad0['bytesReceived'];}),this['objectStores']['forEach'](_0xe26f1a=>{const _0x4871e3=_0x44659d;_0x3ba616+=_0xe26f1a[_0x4871e3(0x92b)],_0x387e3b+=_0xe26f1a[_0x4871e3(0x299)],_0x4ab09c+=_0xe26f1a[_0x4871e3(0x219)],_0x44c988+=_0xe26f1a[_0x4871e3(0x769)],_0x3b266c+=_0xe26f1a[_0x4871e3(0x8a5)];}),this[_0x44659d(0x741)]['forEach'](_0x37b58e=>{const _0x3bef24=_0x44659d;_0x3ba616+=_0x37b58e[_0x3bef24(0x92b)],_0x387e3b+=_0x37b58e[_0x3bef24(0x299)],_0x4ab09c+=_0x37b58e[_0x3bef24(0x219)],_0x44c988+=_0x37b58e[_0x3bef24(0x769)],_0x3b266c+=_0x37b58e[_0x3bef24(0x8a5)];}),this[_0x44659d(0x531)][_0x44659d(0x7a1)](_0x1c0c00=>{const _0x1a1f04=_0x44659d;_0x3ba616+=_0x1c0c00[_0x1a1f04(0x92b)],_0x387e3b+=_0x1c0c00['messagesSent'],_0x4ab09c+=_0x1c0c00[_0x1a1f04(0x219)],_0x44c988+=_0x1c0c00[_0x1a1f04(0x769)],_0x3b266c+=_0x1c0c00[_0x1a1f04(0x8a5)];}),this[_0x44659d(0x982)]['forEach'](_0x4b5e65=>{const _0x1943a7=_0x44659d;_0x3ba616+=_0x4b5e65[_0x1943a7(0x92b)],_0x387e3b+=_0x4b5e65[_0x1943a7(0x299)],_0x4ab09c+=_0x4b5e65[_0x1943a7(0x219)],_0x44c988+=_0x4b5e65[_0x1943a7(0x769)],_0x3b266c+=_0x4b5e65[_0x1943a7(0x8a5)];}),this[_0x44659d(0x1da)][_0x44659d(0x7a1)](_0xfea06b=>{const _0xd112e1=_0x44659d;_0x3ba616+=_0xfea06b[_0xd112e1(0x92b)],_0x387e3b+=_0xfea06b['messagesSent'],_0x4ab09c+=_0xfea06b['messagesReceived'],_0x44c988+=_0xfea06b['bytesSent'],_0x3b266c+=_0xfea06b[_0xd112e1(0x8a5)];}),this[_0x44659d(0x78b)][_0x44659d(0x7a1)](_0x25f7ea=>{const _0x848cd9=_0x44659d;_0x3ba616+=_0x25f7ea[_0x848cd9(0x92b)],_0x387e3b+=_0x25f7ea[_0x848cd9(0x299)],_0x4ab09c+=_0x25f7ea['messagesReceived'],_0x44c988+=_0x25f7ea['bytesSent'],_0x3b266c+=_0x25f7ea['bytesReceived'];}),{'STVolatility':this[_0x44659d(0x162)](),'DTVolatility':this[_0x44659d(0x6f6)](),'bitrate':this['getBitrate'](),'senderBitrate':this[_0x44659d(0x696)](),'receiverBitrate':this[_0x44659d(0x73e)](),'totalStorageSize':_0x3ba616,'totalMessages':_0x387e3b+_0x4ab09c,'totalMessagesSent':_0x387e3b,'totalMessagesReceived':_0x4ab09c,'totalBytes':_0x44c988+_0x3b266c,'totalBytesSent':_0x44c988,'totalBytesReceived':_0x3b266c,'systemMessages':_0x27614f,'timeProcessing':_0x364a7c,'nodes':_0x23ebc9,'pubsubTopics':Object[_0x44659d(0x212)](this[_0x44659d(0x994)]),'objectStores':Object[_0x44659d(0x212)](this[_0x44659d(0x46b)]),'keyValueDatabases':Object[_0x44659d(0x212)](this[_0x44659d(0x741)]),'generativeAIContexts':Object[_0x44659d(0x212)](this[_0x44659d(0x531)]),'generativeAIWorkers':Object[_0x44659d(0x212)](this[_0x44659d(0x982)]),'vectorDatabases':Object['fromEntries'](this[_0x44659d(0x1da)]),'graphDatabases':Object[_0x44659d(0x212)](this['graphDatabases']),'externalStorages':Object['fromEntries'](this[_0x44659d(0x8a4)])};}[_0x11ce6(0x6c8)](_0x285a43){const _0x58e280=_0x11ce6;this[_0x58e280(0x6b5)][_0x58e280(0x323)](_0x285a43,new _0x117159());}['removeRemoteNode'](_0x4449f9){const _0x502793=_0x11ce6;this[_0x502793(0x6b5)][_0x502793(0x3a9)](_0x4449f9);}[_0x11ce6(0x45b)](_0x626f5,_0x439bfb,_0x5c9003){const _0x13b3f1=_0x11ce6;_0x439bfb instanceof Array||this[_0x13b3f1(0x672)](_0x626f5,_0x439bfb);const _0x109d0c=this[_0x13b3f1(0x6b5)][_0x13b3f1(0x3f2)](_0x626f5)?.['processReports'](_0x439bfb,_0x5c9003);_0x109d0c&&this['systemTopic']['publish']({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x13b3f1(0x6d9)],'content':{'type':_0x3096ad[_0x13b3f1(0x785)],'data':{..._0x109d0c,'nodeId':_0x626f5}}});}[_0x11ce6(0x5f1)](_0x29f3f1){const _0x17e4a6=_0x11ce6;this[_0x17e4a6(0x4fd)](_0x29f3f1[_0x17e4a6(0x9da)]),this[_0x17e4a6(0x2b1)](_0x29f3f1[_0x17e4a6(0x865)]),this[_0x17e4a6(0x1ad)][_0x17e4a6(0xfa)]({'sourceId':_0x1f0abe,'messageType':_0x48fa30[_0x17e4a6(0x6d9)],'content':{'type':_0x3096ad[_0x17e4a6(0x4b0)],'data':{'STVolatility':this[_0x17e4a6(0x162)](),'DTVolatility':this[_0x17e4a6(0x6f6)]()}}});}[_0x11ce6(0x9f7)](_0x5cf866,_0x1affba,_0x578880){const _0x5140b9=_0x11ce6;switch(_0x1affba){case _0x18f1c1['PubSubTopicStats']:this[_0x5140b9(0x994)][_0x5140b9(0x323)](_0x5cf866,_0x578880);break;case _0x18f1c1[_0x5140b9(0x38f)]:this[_0x5140b9(0x46b)]['set'](_0x5cf866,_0x578880);break;case _0x18f1c1['KeyValueDatabaseStats']:this[_0x5140b9(0x741)][_0x5140b9(0x323)](_0x5cf866,_0x578880);break;case _0x18f1c1[_0x5140b9(0x39b)]:this['generativeAIContexts'][_0x5140b9(0x323)](_0x5cf866,_0x578880);break;case _0x18f1c1[_0x5140b9(0x27d)]:this['generativeAIWorkers']['set'](_0x5cf866,_0x578880);break;case _0x18f1c1[_0x5140b9(0x7ee)]:this['vectorDatabases'][_0x5140b9(0x323)](_0x5cf866,_0x578880);break;case _0x18f1c1['GraphDatabaseStats']:this[_0x5140b9(0x78b)][_0x5140b9(0x323)](_0x5cf866,_0x578880);break;case _0x18f1c1[_0x5140b9(0xc5)]:this[_0x5140b9(0x8a4)]['set'](_0x5cf866,_0x578880);}}[_0x11ce6(0xcc)](_0x793bf9){const _0x3e2e3d=_0x11ce6;this[_0x3e2e3d(0x1ad)]=_0x793bf9;}['unregisterSystemPublisher'](){const _0x589f00=_0x11ce6;delete this[_0x589f00(0x1ad)];}[_0x11ce6(0x162)](){const _0x32d405=_0x11ce6;return this[_0x32d405(0xa19)]>0x0&&this['scheduleTime']-_0x340b0b>0x0?(this['scheduleTime']-_0x340b0b)/_0x340b0b:0x0;}[_0x11ce6(0x6f6)](){const _0x414d2c=_0x11ce6;return this[_0x414d2c(0x865)]>0x0&&this[_0x414d2c(0x865)]-0x64>0x0?(this[_0x414d2c(0x865)]-0x64)/0x64:0x0;}['getSenderBitrate'](){const _0x551037=_0x11ce6;let _0x37f32f=0x0;return this[_0x551037(0x6b5)][_0x551037(0x7a1)](_0x396064=>{_0x37f32f+=_0x396064['senderBitrate'];}),_0x37f32f;}['getReceiverBitrate'](){const _0x508834=_0x11ce6;let _0xf73115=0x0;return this[_0x508834(0x6b5)]['forEach'](_0x3ed80b=>{const _0x53ce8a=_0x508834;_0xf73115+=_0x3ed80b[_0x53ce8a(0x915)];}),_0xf73115;}['getBitrate'](){let _0x1da1ca=0x0;return this['nodes']['forEach'](_0x11d87c=>{_0x1da1ca+=_0x11d87c['bitrate'];}),_0x1da1ca;}['setScheduleTime'](_0x14b608){const _0x14c7ea=_0x11ce6;this[_0x14c7ea(0xa19)]=_0x14b608;}[_0x11ce6(0x2b1)](_0x187335){this['durationTime']=_0x187335;}[_0x11ce6(0x672)](_0x87c814,_0xfd092c){const _0x5f893d=_0x11ce6;switch(_0xfd092c[_0x5f893d(0x415)]){case _0x3792ca[_0x5f893d(0x32e)]:this[_0x5f893d(0x970)](_0x87c814,_0xfd092c);break;case _0x3792ca[_0x5f893d(0x188)]:this[_0x5f893d(0x90a)](_0x87c814,_0xfd092c);}}[_0x11ce6(0x970)](_0x34d434,_0x24a746){const _0x4a80c4=_0x11ce6;this[_0x4a80c4(0x286)]['set'](_0x34d434,_0x24a746['messagesSent']),this[_0x4a80c4(0x4e3)][_0x4a80c4(0x323)](_0x34d434,_0x24a746['timeSending']);}[_0x11ce6(0x90a)](_0x5d92c3,_0x452b2f){const _0x208fe8=_0x11ce6;this['receiverTotalMessages'][_0x208fe8(0x323)](_0x5d92c3,_0x452b2f[_0x208fe8(0x219)]),this['receiverTimeProcessing'][_0x208fe8(0x323)](_0x5d92c3,_0x452b2f[_0x208fe8(0x19a)]),this['systemMessages'][_0x208fe8(0x323)](_0x5d92c3,_0x452b2f[_0x208fe8(0x86d)]);}}class _0x521969{[_0x11ce6(0x102)];['remoteNodes']=new Set();['nextNodeId'];['statsCollection'];[_0x11ce6(0x2ab)];['statsReport']=new _0x4d8511();constructor(_0x7315bf){const _0x261f04=_0x11ce6;this[_0x261f04(0x102)]=_0x7315bf,this[_0x261f04(0x102)]['mediator']['registerSystemSource'](this[_0x261f04(0x680)]),this[_0x261f04(0x5ef)]=this[_0x261f04(0x60f)](),this[_0x261f04(0x2ab)]=this[_0x261f04(0x36e)]();}[_0x11ce6(0x17e)](){const _0x231c59=_0x11ce6;this['configs']['mediator'][_0x231c59(0x579)](this['statsReport']),this[_0x231c59(0x2ab)](),this[_0x231c59(0x5ef)]();}[_0x11ce6(0x6c8)](_0x5aa220){const _0x4209d0=_0x11ce6;this[_0x4209d0(0x7bf)]['add'](_0x5aa220),this[_0x4209d0(0x680)][_0x4209d0(0x6c8)](_0x5aa220);}[_0x11ce6(0x111)](_0x1070ef){const _0xaf212f=_0x11ce6;this[_0xaf212f(0x7bf)][_0xaf212f(0x3a9)](_0x1070ef),this[_0xaf212f(0x680)][_0xaf212f(0x111)](_0x1070ef);}[_0x11ce6(0x7ed)](_0x1a3040){const _0x1e80bd=_0x11ce6;if(_0x1a3040[_0x1e80bd(0x1c4)][_0x1e80bd(0x789)]===_0x1ed9f1[_0x1e80bd(0x6d9)]){const {nodeId:_0x5a18d4,streamId:_0xf60a36,stats:_0x5764fd}=_0x1a3040[_0x1e80bd(0x1c4)];this[_0x1e80bd(0x680)][_0x1e80bd(0x45b)](_0x5a18d4,_0x5764fd,_0xf60a36);}}[_0x11ce6(0x27c)](_0x2be26c){const _0x4e8fe6=_0x11ce6;switch(_0x2be26c[_0x4e8fe6(0x1c4)][_0x4e8fe6(0x789)]){case _0x18f1c1[_0x4e8fe6(0x38f)]:case _0x18f1c1[_0x4e8fe6(0x4e9)]:case _0x18f1c1[_0x4e8fe6(0x39f)]:case _0x18f1c1[_0x4e8fe6(0x39b)]:case _0x18f1c1[_0x4e8fe6(0x27d)]:case _0x18f1c1[_0x4e8fe6(0x7ee)]:case _0x18f1c1['GraphDatabaseStats']:case _0x18f1c1[_0x4e8fe6(0xc5)]:this['statsReport'][_0x4e8fe6(0x9f7)](_0x2be26c[_0x4e8fe6(0x1c4)]['label'],_0x2be26c[_0x4e8fe6(0x1c4)][_0x4e8fe6(0x789)],_0x2be26c[_0x4e8fe6(0x1c4)][_0x4e8fe6(0x1ec)]);}}[_0x11ce6(0x36e)](){const _0x570ae3=_0x11ce6;return _0x508bd4[_0x570ae3(0x54a)](()=>{const _0x34b45b=_0x570ae3,_0x359b06=this[_0x34b45b(0x680)][_0x34b45b(0x22b)]();_0x5c02ff[_0x34b45b(0x65b)](_0x1e4869['Stats'],_0x34b45b(0x2a6),_0x359b06),(0x0,_0x31eea4[_0x34b45b(0x913)])((0x0,_0x31eea4[_0x34b45b(0x270)])(_0x24cd47[_0x34b45b(0x35a)](),_0x34b45b(0x8df)+this[_0x34b45b(0x102)][_0x34b45b(0x391)]+_0x34b45b(0x119)),{'clusterId':this[_0x34b45b(0x102)][_0x34b45b(0xa18)],'nodeId':this[_0x34b45b(0x102)][_0x34b45b(0xd3)]['getId'](),'nodeType':this['configs'][_0x34b45b(0xd3)][_0x34b45b(0x789)],'timestamp':(0x0,_0x31eea4[_0x34b45b(0x5a5)])(),'report':_0x359b06}),_0x5c02ff[_0x34b45b(0x745)](_0x34b45b(0x1ec),{'clusterId':this[_0x34b45b(0x102)][_0x34b45b(0xa18)],'nodeId':this[_0x34b45b(0x102)][_0x34b45b(0xd3)][_0x34b45b(0x9d8)](),'nodeType':this[_0x34b45b(0x102)][_0x34b45b(0xd3)][_0x34b45b(0x789)],'data':{'report':_0x359b06}});},_0x178f8f);}[_0x11ce6(0x60f)](){const _0x55183c=_0x11ce6;let _0x13d0c6=!0x1,_0x383620=Date[_0x55183c(0x3bd)]();return _0x508bd4[_0x55183c(0x54a)](async()=>{const _0x5c56c5=_0x55183c;if(_0x13d0c6)return;if(_0x13d0c6=!0x0,0x0===this['remoteNodes'][_0x5c56c5(0x84c)])return delete this[_0x5c56c5(0xa07)],void(_0x13d0c6=!0x1);const _0x383bb9=Date[_0x5c56c5(0x3bd)]();this[_0x5c56c5(0x277)]();try{await this[_0x5c56c5(0x102)][_0x5c56c5(0x4f6)][_0x5c56c5(0x910)](this['nextNodeId']);}catch(_0x399076){}this[_0x5c56c5(0x680)][_0x5c56c5(0x5f1)]({'secheduleTime':_0x383bb9-_0x383620,'durationTime':Date[_0x5c56c5(0x3bd)]()-_0x383bb9}),_0x383620=_0x383bb9,_0x13d0c6=!0x1;},_0x340b0b);}[_0x11ce6(0x277)](){const _0x365d9e=_0x11ce6;let _0x11bfc5,_0x50c13f=!0x1;this[_0x365d9e(0xa07)]&&(this[_0x365d9e(0x7bf)][_0x365d9e(0x297)](this[_0x365d9e(0xa07)])||delete this[_0x365d9e(0xa07)]);for(const _0x297507 of this[_0x365d9e(0x7bf)])if(_0x11bfc5||(_0x11bfc5=_0x297507),this['nextNodeId']!==_0x297507){if(_0x50c13f)return void(this[_0x365d9e(0xa07)]=_0x297507);}else _0x50c13f=!0x0,delete this[_0x365d9e(0xa07)];this[_0x365d9e(0xa07)]||(this['nextNodeId']=_0x11bfc5);}}class _0x52f297{[_0x11ce6(0x877)];['destination'];[_0x11ce6(0x1ad)];constructor(_0x163505,_0x5530d0){const _0x5daeaa=_0x11ce6;this['source']=_0x163505,this[_0x5daeaa(0x9aa)]=_0x5530d0;}[_0x11ce6(0xcc)](_0x374acc){const _0x2291ff=_0x11ce6;this[_0x2291ff(0x1ad)]=_0x374acc;}[_0x11ce6(0x5c1)](){const _0x14d237=_0x11ce6;delete this[_0x14d237(0x1ad)];}}class _0x14118e extends _0x52f297{[_0x11ce6(0x877)];[_0x11ce6(0x9aa)];[_0x11ce6(0x479)];constructor(_0x69b5ee,_0x40548a,_0x4f9f79){const _0xbfcb03=_0x11ce6;super(_0x69b5ee,_0x40548a),this[_0xbfcb03(0x877)]=_0x69b5ee,this[_0xbfcb03(0x9aa)]=_0x40548a,this[_0xbfcb03(0x479)]=_0x4f9f79;}[_0x11ce6(0x85a)](_0x2a278a,_0x2dc5fc,_0x4a9cb1){const _0x5d9c09=_0x11ce6;if(this[_0x5d9c09(0x9aa)][_0x5d9c09(0x503)]()===_0x4aea4d[_0x5d9c09(0x43d)][_0x5d9c09(0x563)]){const _0x12a5ff={'type':_0x32a36a['SubscribeMediaStream'],'label':this[_0x5d9c09(0x9aa)]['getLabel'](),'ownerId':_0x2a278a,'trackKinds':_0x2dc5fc??this[_0x5d9c09(0x9aa)]['getAvailableTrackKinds'](),'params':_0x4a9cb1};this[_0x5d9c09(0x1ad)][_0x5d9c09(0xfa)]({'sourceId':this['source'][_0x5d9c09(0x950)](),'destinationIds':[this[_0x5d9c09(0x877)][_0x5d9c09(0x24e)]()],'messageType':_0x48fa30[_0x5d9c09(0x832)],'content':_0x12a5ff}),this['params']=_0x4a9cb1;}}[_0x11ce6(0x967)](_0x3362c1,_0x4794ea){const _0x518daa=_0x11ce6;if(this['destination']['getContentType']()===_0x4aea4d[_0x518daa(0x43d)][_0x518daa(0x563)]){const _0x2a1273={'type':_0x32a36a[_0x518daa(0x6c7)],'label':this[_0x518daa(0x9aa)][_0x518daa(0x555)](),'ownerId':_0x3362c1,'params':_0x4794ea};this['systemTopic'][_0x518daa(0xfa)]({'sourceId':this[_0x518daa(0x877)]['getLocalId'](),'destinationIds':[this[_0x518daa(0x877)][_0x518daa(0x24e)]()],'messageType':_0x48fa30[_0x518daa(0x832)],'content':_0x2a1273}),this[_0x518daa(0x479)]=_0x4794ea;}}['unsubscribe'](_0x1aa540,_0x2060db,_0x5a1d64){const _0x38bc9c=_0x11ce6;if(this['destination'][_0x38bc9c(0x503)]()===_0x4aea4d[_0x38bc9c(0x43d)][_0x38bc9c(0x563)]){const _0x17c36d={'type':_0x32a36a[_0x38bc9c(0x8bf)],'label':this[_0x38bc9c(0x9aa)]['getLabel'](),'ownerId':_0x1aa540,'trackKinds':_0x5a1d64??this[_0x38bc9c(0x9aa)]['getAvailableTrackKinds'](),'remainingTracks':_0x2060db};this[_0x38bc9c(0x1ad)][_0x38bc9c(0xfa)]({'sourceId':this['source'][_0x38bc9c(0x950)](),'destinationIds':[this['source']['getRemoteId']()],'messageType':_0x48fa30[_0x38bc9c(0x832)],'content':_0x17c36d});}}}class _0x1835f7{[_0x11ce6(0x7b6)];[_0x11ce6(0x43b)];[_0x11ce6(0x1cf)];[_0x11ce6(0x1ad)];['answers']=new Set();[_0x11ce6(0x839)]=Date[_0x11ce6(0x3bd)]();[_0x11ce6(0x479)];[_0x11ce6(0x172)]=0x0;constructor(_0x377414,_0x570145,_0x506a9a,_0x6003c6){const _0x1a7c17=_0x11ce6;this[_0x1a7c17(0x7b6)]=_0x570145,this[_0x1a7c17(0x43b)]=_0x506a9a,this[_0x1a7c17(0x1cf)]=_0x6003c6,_0x377414[_0x1a7c17(0x7a1)](_0x1a2561=>{const _0x5eb50c=_0x1a7c17;this[_0x5eb50c(0x5d6)][_0x5eb50c(0x5c9)]({'nodeId':_0x1a2561,'type':_0x4480d1[_0x5eb50c(0x5d7)]});});}[_0x11ce6(0x42d)](){const _0x2e9009=_0x11ce6;return this[_0x2e9009(0x1cf)];}[_0x11ce6(0xcc)](_0x1a5b74){const _0xfe8660=_0x11ce6;this[_0xfe8660(0x1ad)]=_0x1a5b74;}[_0x11ce6(0x5c1)](){const _0x39cf2b=_0x11ce6;delete this[_0x39cf2b(0x1ad)];}[_0x11ce6(0x7e8)](_0x5e7742,_0x2744ce){const _0x5aee42=_0x11ce6;this[_0x5aee42(0x839)]=Date[_0x5aee42(0x3bd)](),this['answers'][_0x5aee42(0x918)](),_0x5e7742[_0x5aee42(0x7a1)](_0x37ad42=>{const _0xa8fb3d=_0x5aee42;this[_0xa8fb3d(0x5d6)][_0xa8fb3d(0x5c9)]({'nodeId':_0x37ad42,'type':_0x4480d1[_0xa8fb3d(0x5d7)]});}),this[_0x5aee42(0x172)]+=0x1,this[_0x5aee42(0x7b6)]=_0x2744ce;}[_0x11ce6(0x822)](_0x1ddefd,_0xf69e58,_0x39be80,_0x3a124d,_0x447420){const _0x1f5cf8=_0x11ce6;if(this['retryCount']>0xa)throw new _0x490cf1(_0x490cf1[_0x1f5cf8(0x9fb)][_0x1f5cf8(0x3b6)],{'answers':Array[_0x1f5cf8(0x462)](this[_0x1f5cf8(0x5d6)])['map'](_0x49dcce=>({'nodeId':_0x49dcce['nodeId'],'type':_0x49dcce[_0x1f5cf8(0x789)]}))});const _0x3a3a01=Array[_0x1f5cf8(0x462)](this[_0x1f5cf8(0x5d6)])[_0x1f5cf8(0x99c)](_0x4f8927=>_0x4f8927[_0x1f5cf8(0x381)]);this['params']=_0x447420,this[_0x1f5cf8(0x1ad)][_0x1f5cf8(0xfa)]({'sourceId':_0x1ddefd,'destinationIds':_0x3a3a01,'messageType':_0x48fa30[_0x1f5cf8(0x832)],'content':{'type':_0x32a36a[_0x1f5cf8(0x6d6)],'label':_0x39be80,'ownerId':_0xf69e58,'trackKinds':_0x3a124d,'params':_0x447420}}),_0x5c02ff[_0x1f5cf8(0x65b)](_0x1e4869[_0x1f5cf8(0x832)],_0x1f5cf8(0x481),_0x1ddefd,_0x3a3a01);}[_0x11ce6(0x8a9)](_0xbdfa25,_0x1ad656){const _0x5d0009=_0x11ce6;switch(_0x1ad656[_0x5d0009(0x789)]){case _0x32a36a['CanProvideMediaStream']:{const _0x4479bb=this[_0x5d0009(0x7b6)]>=_0x1ad656['distance']&&_0x1ad656['distance']<=this[_0x5d0009(0x43b)],_0x30452e=Array[_0x5d0009(0x462)](this[_0x5d0009(0x5d6)])[_0x5d0009(0x957)](_0x50e61d=>_0x50e61d[_0x5d0009(0x381)]===_0xbdfa25);_0x30452e[_0x5d0009(0x789)]=_0x4479bb?_0x4480d1[_0x5d0009(0x638)]:_0x4480d1[_0x5d0009(0x841)],_0x30452e[_0x5d0009(0x631)]=_0x1ad656[_0x5d0009(0x631)],_0x30452e['distance']=_0x1ad656[_0x5d0009(0xed)],_0x30452e['streamId']=_0x1ad656[_0x5d0009(0x6cf)],_0x30452e['roundTripTime']=Date[_0x5d0009(0x3bd)]()-this[_0x5d0009(0x839)],_0x30452e[_0x5d0009(0x479)]=this['params'],_0x30452e[_0x5d0009(0x3d1)]=_0x1ad656[_0x5d0009(0x3d1)],_0x30452e[_0x5d0009(0x238)]=_0x1ad656[_0x5d0009(0x238)],_0x30452e[_0x5d0009(0x634)]=_0x1ad656[_0x5d0009(0x6e8)],_0x5c02ff[_0x5d0009(0x65b)](_0x1e4869['Subscription'],(_0x4479bb?_0x5d0009(0x638):_0x5d0009(0x841))+_0x5d0009(0x508),_0x30452e);break;}case _0x32a36a[_0x5d0009(0x527)]:{const _0xe20d02=Array[_0x5d0009(0x462)](this[_0x5d0009(0x5d6)])[_0x5d0009(0x957)](_0x10073f=>_0x10073f[_0x5d0009(0x381)]===_0xbdfa25);_0xe20d02[_0x5d0009(0x789)]=_0x4480d1[_0x5d0009(0x841)],_0x5c02ff[_0x5d0009(0x65b)](_0x1e4869[_0x5d0009(0x832)],'Rejected\x20answer',_0xe20d02);break;}}if(this['canChooseAnswer']())return this['chooseAnswer']();}['chooseAnswer'](){const _0x178614=_0x11ce6,_0xf5ec66=Array[_0x178614(0x462)](this[_0x178614(0x5d6)])[_0x178614(0x80e)](_0x168bef=>_0x168bef['type']===_0x4480d1[_0x178614(0x638)])[_0x178614(0x96b)]((_0x15d5b6,_0xb0eeda)=>_0x15d5b6[_0x178614(0x631)]===_0xb0eeda['cost']?_0x15d5b6[_0x178614(0x311)]-_0xb0eeda['roundTripTime']:_0x15d5b6['cost']-_0xb0eeda[_0x178614(0x631)]);if(0x0===_0xf5ec66['length'])throw new _0x490cf1(_0x490cf1['codes']['SubscriptionRequestNoAnswer'],{'answers':Array[_0x178614(0x462)](this['answers'])[_0x178614(0x99c)](_0x1c87c8=>({'nodeId':_0x1c87c8['nodeId'],'type':_0x1c87c8[_0x178614(0x789)]}))});return _0x5c02ff[_0x178614(0x65b)](_0x1e4869[_0x178614(0x832)],_0x178614(0x316),_0xf5ec66[0x0],this[_0x178614(0x5d6)]),_0xf5ec66[0x0];}[_0x11ce6(0x2c8)](){const _0xf66f58=_0x11ce6;for(const _0x2951b7 of this[_0xf66f58(0x5d6)])if(_0x2951b7[_0xf66f58(0x789)]===_0x4480d1[_0xf66f58(0x5d7)])return!0x1;return!0x0;}}class _0xcfd9ce{['label'];['contentType'];[_0x11ce6(0x504)]=_0x4332ba();constructor(_0x3224c2,_0x34015f){const _0x569b12=_0x11ce6;this['label']=_0x3224c2,this[_0x569b12(0x636)]=_0x34015f;}[_0x11ce6(0x555)](){return this['label'];}['getContentType'](){const _0x413872=_0x11ce6;return this[_0x413872(0x636)];}[_0x11ce6(0x5dc)](_0x2b80e4){const _0x411d39=_0x11ce6;_0x2b80e4[_0x411d39(0x1b4)](this);}[_0x11ce6(0x6f0)](_0x4afe46){_0x4afe46['registerSubscriber'](this);}[_0x11ce6(0xfa)](_0x47f8f4){const _0x2c1282=_0x11ce6;this[_0x2c1282(0x504)][_0x2c1282(0xfa)]({'topicLabel':this['label'],'contentType':this['contentType'],'uuid':(0x0,_0x5afa59['v4'])(),'recipients':[],..._0x47f8f4});}['subscribe'](_0x3a3ca4){const _0x56b38d=_0x11ce6;return this[_0x56b38d(0x504)][_0x56b38d(0x85a)](_0x3a3ca4);}[_0x11ce6(0x584)](_0x4ee292){const _0xbe5d45=_0x11ce6;_0x4ee292[_0xbe5d45(0x6f9)](this);}[_0x11ce6(0x965)](_0x12260f){_0x12260f['unregisterSubscriber'](this);}}class _0x2866a7{[_0x11ce6(0x5bc)]={'topics':new Map(),'subscriptions':new Map()};[_0x11ce6(0x94c)];constructor(_0x444fb7){const _0x4cc463=_0x11ce6;this[_0x4cc463(0x94c)]=_0x444fb7;}get[_0x11ce6(0xd0)](){const _0x5ba42b=_0x11ce6;return this[_0x5ba42b(0x5bc)]['subscriptions'];}get['topics'](){const _0x28a9e9=_0x11ce6;return this[_0x28a9e9(0x5bc)]['topics'];}['createSubscription'](_0x3e795d,_0x39f6a7){const _0x220d22=_0x11ce6,_0xc44c5b=this[_0x220d22(0x94c)](_0x39f6a7),_0x472848=_0x4f296(_0x3e795d);if(!_0xc44c5b[_0x220d22(0x351)])throw new _0x490cf1(_0x490cf1[_0x220d22(0x9fb)]['InvalidSubscription'],{'message':_0x472848+':\x20'+_0xc44c5b['remoteId']+_0x220d22(0x312)+_0xc44c5b[_0x220d22(0x636)],'subscriptionType':_0x3e795d,'subscription':_0x39f6a7,'subscriptonParts':_0xc44c5b});const _0x474773=_0x506707(_0x3e795d,_0xc44c5b);if(this['maps'][_0x220d22(0xd0)]['has'](_0x474773))throw new _0x490cf1(_0x490cf1[_0x220d22(0x9fb)][_0x220d22(0x2cc)],{'message':_0x472848+':\x20'+_0x474773+_0x220d22(0x86c),'subscriptionType':_0x3e795d,'subscription':_0x39f6a7,'subscriptonParts':_0xc44c5b});this[_0x220d22(0x5bc)][_0x220d22(0xd0)][_0x220d22(0x323)](_0x474773,_0x39f6a7),this[_0x220d22(0x5d3)](_0xc44c5b,_0x39f6a7);}[_0x11ce6(0x30f)](_0x7524fb,_0x354aa4){const _0x5650bc=_0x11ce6,_0x56d30e=_0x506707(_0x354aa4,_0x7524fb),_0x1493ae=this[_0x5650bc(0x5bc)]['subscriptions'][_0x5650bc(0x3f2)](_0x56d30e);if(!_0x1493ae)throw new _0x490cf1(_0x490cf1[_0x5650bc(0x9fb)][_0x5650bc(0x2cc)],{'message':_0x4f296(_0x354aa4)+':\x20'+_0x56d30e+_0x5650bc(0x6d5),'subscriptionType':_0x354aa4,'subscription':_0x1493ae,'subscriptonParts':_0x7524fb});this[_0x5650bc(0x3aa)](_0x1493ae,_0x56d30e,_0x7524fb);}[_0x11ce6(0x3aa)](_0x5d55b9,_0xa90dc8,_0x321488){const _0x332ecf=_0x11ce6;_0x321488=_0x321488||this[_0x332ecf(0x94c)](_0x5d55b9),this['maps'][_0x332ecf(0xd0)][_0x332ecf(0x3a9)](_0xa90dc8),this['removeTopic'](_0x321488,_0x5d55b9);}['createTopic'](_0x3fafa6,{source:_0x209e71,destination:_0x40c8af}){const _0x4ff0a9=_0x11ce6,{contentType:_0x1ee38c,label:_0x30e729,remoteId:_0x7dfd9e}=_0x3fafa6,_0x45d6b3=_0x246ede(_0x1ee38c,_0x30e729,_0x7dfd9e),_0x6a568f=new _0xcfd9ce(_0x45d6b3,_0x1ee38c);_0x6a568f[_0x4ff0a9(0x5dc)](_0x209e71),_0x6a568f['registerDestination'](_0x40c8af),this['maps']['topics'][_0x4ff0a9(0x323)](_0x6a568f[_0x4ff0a9(0x555)](),_0x6a568f);}[_0x11ce6(0x73f)](_0xfc3707,_0x1a0617){const _0x2a9318=_0x11ce6,{contentType:_0x479523,label:_0x1e0bb8,remoteId:_0x4c0f77}=_0xfc3707,_0x4c37d=_0x246ede(_0x479523,_0x1e0bb8,_0x4c0f77),_0x36056e=this[_0x2a9318(0x5bc)]['topics']['get'](_0x4c37d);_0x36056e&&(this[_0x2a9318(0x206)](_0x36056e,_0x1a0617),this[_0x2a9318(0x5bc)]['topics'][_0x2a9318(0x3a9)](_0x4c37d));}[_0x11ce6(0x206)](_0x1069d7,{source:_0x23dc6b,destination:_0x53b65c}){_0x1069d7['unregisterSource'](_0x23dc6b),_0x1069d7['unregisterDestination'](_0x53b65c);}[_0x11ce6(0x657)](_0x453370){const _0x40695a=_0x11ce6;this['maps'][_0x40695a(0xd0)][_0x40695a(0x7a1)]((_0x3df07f,_0x379eae)=>{const _0x54d0fa=_0x40695a;_0x379eae['endsWith'](_0x453370)&&this[_0x54d0fa(0x3aa)](_0x3df07f,_0x379eae);});}}class _0x120e6a{[_0x11ce6(0x102)];[_0x11ce6(0x43b)];[_0x11ce6(0x4d2)]=new Map();['subscriptionRequestsQueue']=_0xcb4706(new _0x3eaa58(this['requestSubscriptionAction'][_0x11ce6(0x23a)](this),()=>_0x508bd4[_0x11ce6(0x573)](0x64)),!0x0);[_0x11ce6(0x369)]=new Map();[_0x11ce6(0x5bc)];['chosenAnswers']=new Map();constructor(_0x8e92a3,_0x542fb4){const _0x3cbbb1=_0x11ce6;this[_0x3cbbb1(0x102)]=_0x8e92a3,this[_0x3cbbb1(0x43b)]=_0x542fb4,this[_0x3cbbb1(0x5bc)]=new _0x2866a7(({source:_0x24edd4,destination:_0x268d5a})=>_0x94d312(_0x268d5a,_0x24edd4));}[_0x11ce6(0x9e0)](_0xdade21,_0xdb8b20){const _0x30e794=_0x11ce6,_0x234c0f=this[_0x30e794(0x47e)](_0xdade21)&&this[_0x30e794(0x454)](_0xdb8b20)?new _0x14118e(_0xdade21,_0xdb8b20):new _0x52f297(_0xdade21,_0xdb8b20);this[_0x30e794(0x5bc)][_0x30e794(0x9e0)](_0x597d4e['Incoming'],_0x234c0f),this[_0x30e794(0x102)]['mediator'][_0x30e794(0x4da)](_0x234c0f);}['removeSubscription'](_0x263e45,_0x430a9b,_0x2a83d1=''){const _0xdf0e22=_0x11ce6,_0x1b0b92={'contentType':_0x430a9b,'label':_0x263e45,'remoteId':_0x2a83d1},_0x38f33b=_0x506707(_0x597d4e[_0xdf0e22(0x71e)],_0x1b0b92),_0x9a7016=this['maps'][_0xdf0e22(0xd0)][_0xdf0e22(0x3f2)](_0x38f33b);_0x9a7016&&this[_0xdf0e22(0x3aa)](_0x9a7016,_0x38f33b);}[_0x11ce6(0x249)](_0xe3b2a2){const _0x2d138b=_0x11ce6;this[_0x2d138b(0x618)](_0xe3b2a2);}['handleContentSubscribeMediaStream']({label:_0x5843cd,ownerId:_0x11c325,trackKinds:_0x3341ee,params:_0x1f9ce3}){const _0x43d5d4=_0x11ce6;this[_0x43d5d4(0x55f)](_0x5843cd,_0x11c325,_0x3341ee,_0x1f9ce3);}[_0x11ce6(0x314)]({ownerId:_0x1a0479,label:_0x12faef,params:_0x7964ee}){const _0x17cb23=_0x11ce6,{subscriptionLabel:_0x52dc05}=this[_0x17cb23(0x85b)](_0x12faef,_0x1a0479),_0x3932d5=this['getMediaSubscription'](_0x52dc05);_0x3932d5&&_0x3932d5[_0x17cb23(0x967)](_0x1a0479,_0x7964ee);}[_0x11ce6(0x4b6)]({ownerId:_0x39f190,label:_0x294f70,trackKinds:_0x2600d9,remainingTracks:_0x3db7a0}){const _0xb57542=_0x11ce6,_0x8ab29a=_0x506707(_0x597d4e[_0xb57542(0x71e)],{'contentType':_0x4aea4d['ContentType'][_0xb57542(0x563)],'label':_0x294f70,'remoteId':_0x39f190});this[_0xb57542(0x9cd)](_0x8ab29a);const _0x733850=this[_0xb57542(0x4d2)][_0xb57542(0x3f2)](_0x8ab29a);_0x733850&&(this[_0xb57542(0x102)][_0xb57542(0x4f6)][_0xb57542(0x579)](_0x733850),this[_0xb57542(0x4d2)][_0xb57542(0x3a9)](_0x8ab29a));const {parts:_0x29d80b,subscriptionLabel:_0xf75358}=this[_0xb57542(0x85b)](_0x294f70,_0x39f190),_0x39896d=this[_0xb57542(0x74c)](_0xf75358);_0x39896d&&(_0x39896d[_0xb57542(0x786)](_0x39f190,_0x3db7a0,_0x2600d9),0x0===_0x3db7a0&&this[_0xb57542(0x30f)](_0x29d80b[_0xb57542(0x6e8)],_0x29d80b[_0xb57542(0x636)],_0x29d80b[_0xb57542(0x682)]));}['handleSubscriptionRestartNeedMediaStream'](_0x223553,{label:_0x6c6fce,ownerId:_0x9beeb0,trackKinds:_0x4e4234,streamId:_0x497b14,params:_0x1b8bf7}){const _0x6e22f8=_0x11ce6,_0x2f5d36=_0x506707(_0x597d4e[_0x6e22f8(0x71e)],{'contentType':_0x4aea4d[_0x6e22f8(0x43d)][_0x6e22f8(0x563)],'label':_0x497b14,'remoteId':_0x223553}),_0x315452=this['maps'][_0x6e22f8(0xd0)][_0x6e22f8(0x3f2)](_0x2f5d36);if(!(_0x315452&&_0x315452 instanceof _0x14118e))throw new _0x490cf1(_0x490cf1[_0x6e22f8(0x9fb)]['SubscriptionRequestDoesNotExist'],{'label':_0x2f5d36,'ownerId':_0x9beeb0});this[_0x6e22f8(0x3aa)](_0x315452,_0x2f5d36),this[_0x6e22f8(0x55f)](_0x6c6fce,_0x9beeb0,_0x4e4234,_0x1b8bf7);}['handleSubscriptionProvideMediaStream'](_0x3cbe1c,_0x5e565f){const _0x1fe79c=_0x11ce6,{label:_0x47ce3b,ownerId:_0x2d06b7,trackKinds:_0x91ec79,params:_0x1ca1b8}=_0x5e565f,_0xa056d=_0x506707(_0x597d4e[_0x1fe79c(0x71e)],{'contentType':_0x4aea4d['ContentType'][_0x1fe79c(0x563)],'label':_0x47ce3b,'remoteId':_0x2d06b7});if(!this[_0x1fe79c(0x4d2)][_0x1fe79c(0x297)](_0xa056d))throw new _0x490cf1(_0x490cf1['codes'][_0x1fe79c(0x272)],{'label':_0xa056d,'ownerId':_0x2d06b7,'streamId':_0x5e565f[_0x1fe79c(0x6cf)],'requests':this[_0x1fe79c(0x4d2)]});const _0x248fc7=this['subscriptionRequests'][_0x1fe79c(0x3f2)](_0xa056d);if(_0x91ec79['length']===_0x248fc7[_0x1fe79c(0x42d)]()[_0x1fe79c(0x7ad)]&&_0x91ec79['every'](_0x4b7dd4=>_0x248fc7[_0x1fe79c(0x42d)]()[_0x1fe79c(0x2a1)](_0x4b7dd4)))try{const _0x2993cd=_0x248fc7['handleSubscriptionSystemEvents'](_0x3cbe1c,_0x5e565f);if(!_0x2993cd)return;this[_0x1fe79c(0x85a)](_0x2993cd,_0x2d06b7,_0x47ce3b,_0xa056d,_0x91ec79);}catch(_0xcb0c57){return void this['handleNoAnswer'](_0x47ce3b,_0x2d06b7,_0x91ec79,_0x1ca1b8);}}[_0x11ce6(0x295)](_0x5c736f,{label:_0x64cba4,ownerId:_0x53806e,trackKinds:_0x554be9}){const _0x10b35e=_0x11ce6,_0x5e1026=this['configs'][_0x10b35e(0x4f6)][_0x10b35e(0x41c)](_0x53806e,_0x64cba4);if(!_0x5e1026)return;const _0x3b2b51=_0x5e1026[_0x10b35e(0x98d)](),_0x56c320=_0x5e1026[_0x10b35e(0x977)]();_0x56c320[_0x10b35e(0x335)](_0x436592=>_0x554be9[_0x10b35e(0x2a1)](_0x436592))&&this[_0x10b35e(0x20e)](_0x5c736f,_0x64cba4,_0x3b2b51,_0x53806e,_0x56c320);}[_0x11ce6(0x3c1)]({label:_0x2a727e,providerId:_0x3596e2,ownerId:_0x314af5,streamId:_0x5b8a96,trackKinds:_0x2de539}){const _0x3a46f6=_0x11ce6;this[_0x3a46f6(0x20e)](_0x3596e2,_0x2a727e,_0x5b8a96,_0x314af5,_0x2de539);}[_0x11ce6(0x73d)](_0x56fd5b){const _0x20a8c7=_0x11ce6;for(const _0x1f573 of this[_0x20a8c7(0x33e)][_0x20a8c7(0x8ea)]()){const {streamLabel:_0xa9d73a,ownerId:_0x2853a2,trackKinds:_0x2de83f,params:_0x4e090d}=_0x1f573;if(!_0x2853a2||!_0x2de83f||!_0xa9d73a)return;this[_0x20a8c7(0x8b1)][_0x20a8c7(0x7bc)]({'label':_0xa9d73a,'ownerId':_0x2853a2,'trackKinds':_0x2de83f,'params':_0x4e090d,'remoteId':_0x56fd5b});}}[_0x11ce6(0x657)](_0x4365f5){const _0x35cadd=_0x11ce6;this[_0x35cadd(0x5bc)][_0x35cadd(0xd0)][_0x35cadd(0x7a1)]((_0x357881,_0xfe56c8)=>{const _0x13ac94=_0x35cadd;if(_0xfe56c8[_0x13ac94(0x301)](_0x4365f5)){if(_0x357881['destination'][_0x13ac94(0x503)]()===_0x4aea4d['ContentType']['Media']){const _0x40a17d=_0x357881[_0x13ac94(0x9aa)];if(_0x40a17d[_0x13ac94(0x977)]()[_0x13ac94(0x7ad)]>0x0){const _0x3c8475={'type':_0x32a36a['MediaStreamUnavailable'],'label':_0x40a17d[_0x13ac94(0x555)](),'ownerId':_0x40a17d[_0x13ac94(0x3d0)](),'trackKinds':_0x40a17d[_0x13ac94(0x977)]()};return void this[_0x13ac94(0x295)](_0x4365f5,_0x3c8475);}}this[_0x13ac94(0x3aa)](_0x357881,_0xfe56c8);}});}[_0x11ce6(0x17e)](){const _0x41e20c=_0x11ce6;this[_0x41e20c(0x5bc)][_0x41e20c(0xd0)][_0x41e20c(0x7a1)](this[_0x41e20c(0x3aa)][_0x41e20c(0x23a)](this));}[_0x11ce6(0x85a)](_0x5dc747,_0x5b25d3,_0x3494d9,_0x156296,_0x630878){const _0x46ae6b=_0x11ce6,_0x354032=this[_0x46ae6b(0x102)][_0x46ae6b(0x4f6)][_0x46ae6b(0x813)](_0x5dc747['nodeId']),_0x53106b=this[_0x46ae6b(0x102)][_0x46ae6b(0x4f6)][_0x46ae6b(0x41c)](_0x5b25d3,_0x3494d9);this['clearSubscriptionRequestTimeout'](_0x156296),this[_0x46ae6b(0x4d2)][_0x46ae6b(0x297)](_0x156296)&&(this['configs']['mediator'][_0x46ae6b(0x579)](this[_0x46ae6b(0x4d2)][_0x46ae6b(0x3f2)](_0x156296)),this[_0x46ae6b(0x4d2)][_0x46ae6b(0x3a9)](_0x156296)),this[_0x46ae6b(0x9f6)](_0x5dc747,_0x5b25d3,_0x3494d9,_0x53106b),_0x53106b[_0x46ae6b(0x9f9)](_0x5dc747[_0x46ae6b(0x6cf)]),_0x53106b[_0x46ae6b(0xbb)](_0x5dc747[_0x46ae6b(0x381)]);const _0x4762f1=_0x94d312(_0x53106b,_0x354032),_0x3b0d22=_0x506707(_0x597d4e[_0x46ae6b(0x71e)],_0x4762f1);this['maps'][_0x46ae6b(0xd0)]['has'](_0x3b0d22)||this[_0x46ae6b(0x9e0)](_0x354032,_0x53106b);const _0x5dd70c=this['maps'][_0x46ae6b(0xd0)][_0x46ae6b(0x3f2)](_0x3b0d22);if(!(_0x5dd70c&&_0x5dd70c instanceof _0x14118e))throw new _0x490cf1(_0x490cf1[_0x46ae6b(0x9fb)]['SubscriptionRequestDoesNotExist'],{'label':_0x156296,'ownerId':_0x5b25d3});_0x5c02ff[_0x46ae6b(0x745)](_0x46ae6b(0x50c),{'clusterId':this[_0x46ae6b(0x102)][_0x46ae6b(0xa18)],'nodeId':this[_0x46ae6b(0x102)]['localNode'][_0x46ae6b(0x9d8)](),'nodeType':this[_0x46ae6b(0x102)][_0x46ae6b(0xd3)][_0x46ae6b(0x789)],'data':{'subscriptionLabel':_0x3b0d22,'chosenAnswer':_0x5dc747}}),this[_0x46ae6b(0x33e)][_0x46ae6b(0x323)](_0x3b0d22,_0x5dc747),_0x5dd70c[_0x46ae6b(0x85a)](_0x5b25d3,_0x630878,_0x5dc747[_0x46ae6b(0x479)]);}[_0x11ce6(0x618)]({ownerId:_0x225ca7,label:_0x1cd460}){const _0x553d4c=_0x11ce6,_0x1aa2bb=this[_0x553d4c(0x102)][_0x553d4c(0x4f6)][_0x553d4c(0x41c)](_0x225ca7,_0x1cd460),[_0x372183,_0x341778]=Array[_0x553d4c(0x462)](this['maps'][_0x553d4c(0xd0)][_0x553d4c(0x91c)]())[_0x553d4c(0x957)](([_0x3316ac,_0x1b3f0b])=>-0x1!==_0x3316ac[_0x553d4c(0x558)](_0x1aa2bb[_0x553d4c(0x98d)]()));return this[_0x553d4c(0x3aa)](_0x341778,_0x372183);}[_0x11ce6(0x3aa)](_0x3b3b4e,_0x1417ef){const _0x36f7ac=_0x11ce6;this['configs'][_0x36f7ac(0x4f6)][_0x36f7ac(0x579)](_0x3b3b4e),this['maps']['closeSubscription'](_0x3b3b4e,_0x1417ef);}[_0x11ce6(0x47e)](_0x2af2fc){const _0x5df0ec=_0x11ce6;return _0x2af2fc[_0x5df0ec(0x6bd)]()[_0x5df0ec(0x2a1)](_0x4aea4d['ContentType'][_0x5df0ec(0x563)]);}[_0x11ce6(0x454)](_0x5ee84b){const _0xa7adcc=_0x11ce6;return _0x5ee84b['getContentType']()===_0x4aea4d[_0xa7adcc(0x43d)]['Media'];}async[_0x11ce6(0x1bd)](_0x37b590,_0x135685,_0x2f645b,_0x58adb9){const _0x5064b8=_0x11ce6;await _0x508bd4[_0x5064b8(0x573)](0x3e8);const _0x30d0d7=_0x506707(_0x597d4e[_0x5064b8(0x71e)],{'contentType':_0x4aea4d[_0x5064b8(0x43d)][_0x5064b8(0x563)],'label':_0x37b590,'remoteId':_0x135685});this['clearSubscriptionRequestTimeout'](_0x30d0d7);const _0x47e71f=this[_0x5064b8(0x4d2)][_0x5064b8(0x3f2)](_0x30d0d7);if(!_0x47e71f)throw new _0x490cf1(_0x490cf1['codes'][_0x5064b8(0x272)],{'label':_0x30d0d7,'ownerId':_0x135685});const _0x5795e9=this[_0x5064b8(0x102)]['mediator'][_0x5064b8(0x791)](_0x5958d4=>_0x5958d4[_0x5064b8(0x818)]()),_0x3904fe=this[_0x5064b8(0x102)][_0x5064b8(0x4f6)]['getDistance'](this[_0x5064b8(0x102)][_0x5064b8(0xd3)]['getId'](),_0x135685);_0x47e71f['reset'](_0x5795e9[_0x5064b8(0x99c)](_0x132084=>_0x132084[_0x5064b8(0x24e)]()),_0x3904fe);try{_0x47e71f[_0x5064b8(0x822)](this[_0x5064b8(0x102)][_0x5064b8(0xd3)][_0x5064b8(0x9d8)](),_0x135685,_0x37b590,_0x2f645b,_0x58adb9),this[_0x5064b8(0x117)](_0x37b590,_0x135685,_0x2f645b,_0x58adb9,_0x30d0d7,_0x47e71f);}catch(_0x2e2c89){this[_0x5064b8(0x8b1)][_0x5064b8(0x7bc)]({'label':_0x37b590,'ownerId':_0x135685,'trackKinds':_0x2f645b,'params':_0x58adb9});}}[_0x11ce6(0x55f)](_0x3f9f68,_0x238e50,_0x76b2f6,_0x24791b){const _0x4a1357=_0x11ce6;this[_0x4a1357(0x8b1)]['push']({'label':_0x3f9f68,'ownerId':_0x238e50,'trackKinds':_0x76b2f6,'params':_0x24791b});}[_0x11ce6(0x542)]({label:_0x4f8c36,ownerId:_0x46d78b,trackKinds:_0x4a785e,params:_0x24f41e,remoteId:_0x24f23d}){const _0x14b06e=_0x11ce6;if(!this[_0x14b06e(0x102)][_0x14b06e(0x4f6)][_0x14b06e(0x41c)](_0x46d78b,_0x4f8c36))return;if(!this[_0x14b06e(0x102)][_0x14b06e(0x4f6)][_0x14b06e(0x643)]()[_0x14b06e(0x8c4)]())throw new Error(_0x14b06e(0x467));if(_0x24f23d){const _0x57c710=this['configs'][_0x14b06e(0x4f6)][_0x14b06e(0x652)]()[_0x14b06e(0x957)](_0x31a6ba=>_0x31a6ba[_0x14b06e(0x9d8)]()===_0x24f23d),_0x4f16b4=_0x57c710?.[_0x14b06e(0x8c4)]();if(!_0x57c710||!_0x4f16b4)throw new Error(_0x14b06e(0x155));const _0xcd3ee5=this[_0x14b06e(0x102)][_0x14b06e(0x4f6)][_0x14b06e(0x652)]()[_0x14b06e(0x957)](_0x2dd3b7=>_0x2dd3b7['getId']()===_0x46d78b),_0x75d0d7=_0xcd3ee5?.[_0x14b06e(0x8c4)]();if(!_0xcd3ee5||!_0x75d0d7)throw new Error(_0x14b06e(0x35c));const _0x19dd4a=this[_0x14b06e(0x33e)][_0x14b06e(0x3f2)](_0x4f8c36);if(_0x19dd4a){const _0x467598=this['configs'][_0x14b06e(0x4f6)][_0x14b06e(0x652)]()['find'](_0x508d0e=>_0x508d0e['getId']()===_0x19dd4a[_0x14b06e(0x381)]),_0xdf6abd=_0x467598?.[_0x14b06e(0x8c4)]();if(!_0x467598||!_0xdf6abd)throw new Error(_0x14b06e(0x1e8));if(Math['abs'](_0xdf6abd-_0x75d0d7)<Math[_0x14b06e(0x8c6)](_0x4f16b4-_0x75d0d7))return;}}const _0x3b8f27=this[_0x14b06e(0x102)]['mediator'][_0x14b06e(0x791)](_0x5e9366=>_0x5e9366[_0x14b06e(0x818)]()&&(!_0x24f23d||_0x5e9366[_0x14b06e(0x24e)]()===_0x24f23d));if(!_0x3b8f27[_0x14b06e(0x7ad)]||0x0===_0x3b8f27[_0x14b06e(0x7ad)])throw new Error('No\x20connections\x20available\x20to\x20send\x20subscription\x20request');const _0x5d68e0=this[_0x14b06e(0x102)][_0x14b06e(0x4f6)][_0x14b06e(0x4c5)](this[_0x14b06e(0x102)][_0x14b06e(0xd3)][_0x14b06e(0x9d8)](),_0x46d78b),_0x2d161e=_0x506707(_0x597d4e[_0x14b06e(0x71e)],{'contentType':_0x4aea4d[_0x14b06e(0x43d)][_0x14b06e(0x563)],'label':_0x4f8c36,'remoteId':_0x46d78b});if(this[_0x14b06e(0x4d2)][_0x14b06e(0x297)](_0x2d161e)){if(_0x24f23d)throw new Error(_0x14b06e(0x506));const _0x303f53=this[_0x14b06e(0x4d2)][_0x14b06e(0x3f2)](_0x2d161e)[_0x14b06e(0x42d)]();if(_0x303f53[_0x14b06e(0x7ad)]===_0x4a785e[_0x14b06e(0x7ad)]&&_0x303f53[_0x14b06e(0x806)](_0x32b19d=>_0x4a785e[_0x14b06e(0x2a1)](_0x32b19d)))return;this['configs'][_0x14b06e(0x4f6)][_0x14b06e(0x579)](this[_0x14b06e(0x4d2)]['get'](_0x2d161e)),this[_0x14b06e(0x4d2)]['delete'](_0x2d161e),_0x4a785e=Array[_0x14b06e(0x462)](new Set(_0x4a785e[_0x14b06e(0x75b)](_0x303f53))),this[_0x14b06e(0x9cd)](_0x2d161e);}const _0x1f3c5d=new _0x1835f7(_0x3b8f27[_0x14b06e(0x99c)](_0x4fe000=>_0x4fe000[_0x14b06e(0x24e)]()),_0x5d68e0,this[_0x14b06e(0x43b)],_0x4a785e);this[_0x14b06e(0x102)][_0x14b06e(0x4f6)][_0x14b06e(0x4da)](_0x1f3c5d),this['subscriptionRequests'][_0x14b06e(0x323)](_0x2d161e,_0x1f3c5d),_0x1f3c5d['sendRequest'](this['configs']['localNode'][_0x14b06e(0x9d8)](),_0x46d78b,_0x4f8c36,_0x4a785e,_0x24f41e),this[_0x14b06e(0x117)](_0x4f8c36,_0x46d78b,_0x4a785e,_0x24f41e,_0x2d161e,_0x1f3c5d);}[_0x11ce6(0x9cd)](_0x43656a){const _0x32af04=_0x11ce6;this[_0x32af04(0x369)][_0x32af04(0x297)](_0x43656a)&&(clearTimeout(this['subscriptionRequestTimeouts'][_0x32af04(0x3f2)](_0x43656a)),this[_0x32af04(0x369)]['delete'](_0x43656a));}[_0x11ce6(0x117)](_0x119bd2,_0x466388,_0x45f625,_0xaf6863,_0x3287b9,_0xec9404){const _0x5ced32=_0x11ce6;this[_0x5ced32(0x9cd)](_0x3287b9),this['subscriptionRequestTimeouts'][_0x5ced32(0x323)](_0x3287b9,setTimeout(()=>{const _0x32fff2=_0x5ced32;this['subscriptionRequestTimeouts']['delete'](_0x3287b9);try{const _0x46228d=_0xec9404[_0x32fff2(0x469)]();this['subscribe'](_0x46228d,_0x466388,_0x119bd2,_0x3287b9,_0x45f625);}catch(_0x5a51df){this['handleNoAnswer'](_0x119bd2,_0x466388,_0x45f625,_0xaf6863);}},0x7d0));}[_0x11ce6(0x20e)](_0x734365,_0x42d778,_0x2131ea,_0x18fdf0,_0x3e1aad){const _0x3aaff2=_0x11ce6,{subscriptionLabel:_0x4e6b29}=this['getSubscriptionLabel'](_0x42d778,_0x18fdf0),_0x2c6a58=this['getMediaSubscription'](_0x4e6b29),_0x337f96=_0x2c6a58?.['params'];_0x2c6a58&&(_0x2c6a58[_0x3aaff2(0x786)](_0x18fdf0,0x0),this['removeSubscription'](_0x2131ea,_0x4aea4d['ContentType']['Media'],_0x734365)),this[_0x3aaff2(0x55f)](_0x42d778,_0x18fdf0,_0x3e1aad,_0x337f96);}['getMediaSubscription'](_0xd1678){const _0xd49233=_0x11ce6,_0x5b6d40=this[_0xd49233(0x5bc)][_0xd49233(0xd0)][_0xd49233(0x3f2)](_0xd1678);if(_0x5b6d40){if(!(_0x5b6d40 instanceof _0x14118e))throw new _0x490cf1(_0x490cf1[_0xd49233(0x9fb)][_0xd49233(0x2cc)],{'label':_0xd1678,'subscription':_0x5b6d40});return _0x5b6d40;}}['getSubscriptionLabel'](_0x1d66e4,_0x2a0560){const _0x457f7e=_0x11ce6,_0x374f08=this[_0x457f7e(0x69d)](_0x1d66e4,_0x2a0560);return{'parts':_0x374f08,'subscriptionLabel':_0x506707(_0x597d4e[_0x457f7e(0x71e)],_0x374f08)};}[_0x11ce6(0x69d)](_0x5afd32,_0x50d6c7){const _0x502ae1=_0x11ce6,_0x418a2c=this['configs']['mediator'][_0x502ae1(0x41c)](_0x50d6c7,_0x5afd32),_0x371829=_0x418a2c[_0x502ae1(0x156)]();if(!_0x371829)throw new _0x490cf1(_0x490cf1[_0x502ae1(0x9fb)][_0x502ae1(0x353)],{'label':_0x5afd32,'streamId':_0x418a2c['getInternalStreamId'](),'ownerId':_0x50d6c7,'localId':this['configs'][_0x502ae1(0xd3)][_0x502ae1(0x9d8)]()});return{'contentType':_0x4aea4d[_0x502ae1(0x43d)][_0x502ae1(0x563)],'label':_0x418a2c[_0x502ae1(0x98d)](),'remoteId':_0x371829};}[_0x11ce6(0x9f6)](_0x43daa2,_0x5e8563,_0x391f20,_0x27cc33){const _0x5d8e8b=_0x11ce6,_0x2ec511=_0x27cc33['getProviderId']();if(_0x2ec511&&_0x2ec511!==_0x43daa2[_0x5d8e8b(0x381)]){const {parts:_0x4cd7e9,subscriptionLabel:_0xcf93dc}=this[_0x5d8e8b(0x85b)](_0x391f20,_0x5e8563),_0x4d161f=this['getMediaSubscription'](_0xcf93dc);_0x4d161f&&(_0x4d161f[_0x5d8e8b(0x786)](_0x5e8563,0x0),this[_0x5d8e8b(0x30f)](_0x4cd7e9[_0x5d8e8b(0x6e8)],_0x4cd7e9[_0x5d8e8b(0x636)],_0x4cd7e9['remoteId']));}}}class _0x2b08df{[_0x11ce6(0x102)];['maxOutgoingSubscriptions'];[_0x11ce6(0x5bc)];constructor(_0x1610b2,_0x44e74e){const _0x5d4e4a=_0x11ce6;this[_0x5d4e4a(0x102)]=_0x1610b2,this[_0x5d4e4a(0x5d4)]=_0x44e74e,this[_0x5d4e4a(0x5bc)]=new _0x2866a7(({source:_0x434743,destination:_0x5b11fa})=>_0x94d312(_0x434743,_0x5b11fa));}[_0x11ce6(0x9e0)](_0x3cca10,_0x47ceb2){const _0x12816d=_0x11ce6,_0x3a0436={'source':_0x3cca10,'destination':_0x47ceb2};this[_0x12816d(0x5bc)][_0x12816d(0x9e0)](_0x597d4e[_0x12816d(0x9e5)],_0x3a0436);}[_0x11ce6(0x30f)](_0x4751a3,_0x50f498,_0x5911c1=''){const _0x488e46=_0x11ce6,_0x5477b9={'contentType':_0x50f498,'label':_0x4751a3,'remoteId':_0x5911c1};this[_0x488e46(0x5bc)][_0x488e46(0x30f)](_0x5477b9,_0x597d4e['Outgoing']);}[_0x11ce6(0x719)](_0x2ed861,_0x355a7){const _0x330526=_0x11ce6;let _0x5cb3d3;_0x5cb3d3=_0x355a7['ownerId']!==this[_0x330526(0x102)][_0x330526(0xd3)][_0x330526(0x9d8)]()?this[_0x330526(0x102)][_0x330526(0x4f6)]['getRemoteMediaStream'](_0x355a7['ownerId'],_0x355a7['label']):this[_0x330526(0x102)]['mediator'][_0x330526(0x2f0)](_0x355a7[_0x330526(0x6e8)]);const _0x14e252=_0x506707(_0x597d4e[_0x330526(0x9e5)],{'contentType':_0x4aea4d[_0x330526(0x43d)][_0x330526(0x563)],'label':_0x5cb3d3['getShareableStreamId'](),'remoteId':_0x2ed861}),_0x47d635=this[_0x330526(0x7da)]();if(!this['maps'][_0x330526(0xd0)][_0x330526(0x297)](_0x14e252)&&_0x47d635>=this[_0x330526(0x5d4)])return{'type':_0x32a36a[_0x330526(0x70d)],'ownerId':_0x355a7[_0x330526(0x3d1)],'label':_0x355a7[_0x330526(0x6e8)],'streamId':_0x5cb3d3[_0x330526(0x810)](),'trackKinds':_0x355a7[_0x330526(0x238)],'params':_0x355a7[_0x330526(0x479)]};_0x5cb3d3 instanceof _0xab83b8&&!_0x5cb3d3[_0x330526(0x11e)](_0x355a7[_0x330526(0x238)])&&_0x5cb3d3[_0x330526(0x85a)](_0x355a7[_0x330526(0x479)]),this[_0x330526(0x5bc)][_0x330526(0xd0)][_0x330526(0x297)](_0x14e252)||this[_0x330526(0x9e0)](_0x5cb3d3[_0x330526(0x737)](_0x2ed861),this[_0x330526(0x102)][_0x330526(0x4f6)]['getConnection'](_0x2ed861));}[_0x11ce6(0x289)](_0x3b6334,{label:_0x3e2899,ownerId:_0x51bb3f,remainingTracks:_0x5c1246}){const _0x59ec6e=_0x11ce6;if(_0x5c1246>0x0)return;let _0x3a4dd7;_0x3a4dd7=_0x51bb3f!==this[_0x59ec6e(0x102)][_0x59ec6e(0xd3)]['getId']()?this['configs'][_0x59ec6e(0x4f6)]['getRemoteMediaStream'](_0x51bb3f,_0x3e2899):this['configs']['mediator'][_0x59ec6e(0x2f0)](_0x3e2899);const _0x25fc26=_0x3a4dd7[_0x59ec6e(0x810)](),_0x195cad=_0x4aea4d[_0x59ec6e(0x43d)][_0x59ec6e(0x563)];this[_0x59ec6e(0x30f)](_0x25fc26,_0x195cad,_0x3b6334);}['handleContentUnsubscribeMediaStream'](_0x7f181c,{label:_0x28a8fb,ownerId:_0x485422,trackKinds:_0xe0e3e7}){const _0x59bc62=_0x11ce6;if(_0x7f181c!==_0x1f0abe)return[];let _0xd81f32=[];for(const _0xbb7686 of this['maps'][_0x59bc62(0xd0)]){const {source:_0x54ac47,destination:_0x195996}=_0xbb7686[0x1];_0x54ac47[_0x59bc62(0x555)]()===_0x28a8fb&&_0x54ac47[_0x59bc62(0x3d0)]()===_0x485422&&_0xd81f32['push']({'sourceId':this[_0x59bc62(0x102)][_0x59bc62(0xd3)][_0x59bc62(0x9d8)](),'destinationIds':[_0x195996[_0x59bc62(0x24e)]()],'messageType':_0x48fa30[_0x59bc62(0x832)],'content':{'type':_0x32a36a[_0x59bc62(0x124)],'label':_0x28a8fb,'ownerId':_0x485422,'trackKinds':_0xe0e3e7}});}return _0xd81f32;}[_0x11ce6(0x21c)](_0x2bd810,_0x58fe1a){const _0x345033=_0x11ce6,{label:_0x5e4cfe,ownerId:_0x5c02dd,trackKinds:_0x4e563a,params:_0x3fe75c}=_0x58fe1a,{hasTracks:_0x53a96c,streamId:_0x4b11ae,hasResolution:_0x5de93e,distance:_0xb531db,subscriptionLabel:_0x14260f}=this[_0x345033(0x1e4)](_0x2bd810,_0x58fe1a);let _0x5b6488=this[_0x345033(0x7da)]()<this[_0x345033(0x5d4)]&&(_0x53a96c||_0xb531db>-0x1)?_0x32a36a['CanProvideMediaStream']:_0x32a36a[_0x345033(0x527)];const _0x128d81=_0xb531db<0x0?0xa:_0xb531db;let _0xb08250=_0x53a96c?_0x5de93e?_0x128d81:_0x128d81+0x0:_0x128d81+0xa;return _0x14260f&&this['maps'][_0x345033(0xd0)][_0x345033(0x297)](_0x14260f)&&(_0x53a96c&&(_0xb08250=0x0),_0x5b6488=_0x32a36a[_0x345033(0x189)]),{'type':_0x5b6488,'cost':_0xb08250,'distance':_0xb531db,'label':_0x5e4cfe,'ownerId':_0x5c02dd,'streamId':_0x4b11ae,'trackKinds':_0x4e563a,'params':_0x3fe75c};}[_0x11ce6(0x249)](_0x5124aa){const _0x20dcf5=_0x11ce6,{label:_0x59fdab,ownerId:_0x278c1c}=_0x5124aa,_0x1a1b59=this[_0x20dcf5(0x102)]['mediator'][_0x20dcf5(0x41c)](_0x278c1c,_0x59fdab);this['maps'][_0x20dcf5(0xd0)]['forEach'](_0x3c1c7a=>{const _0x360bcd=_0x20dcf5;if(_0x3c1c7a[_0x360bcd(0x877)][_0x360bcd(0x98d)]()===_0x1a1b59[_0x360bcd(0x810)]()){const _0x4a9bbb=_0x3c1c7a['destination'];this[_0x360bcd(0x30f)](_0x1a1b59[_0x360bcd(0x810)](),_0x4aea4d['ContentType'][_0x360bcd(0x563)],_0x4a9bbb[_0x360bcd(0x24e)]());}});}['handleContentCloseMediaStream']({label:_0x402627}){const _0x2b7dc4=_0x11ce6,_0x1c8af7=this[_0x2b7dc4(0x102)][_0x2b7dc4(0x4f6)][_0x2b7dc4(0x2f0)](_0x402627);this['maps'][_0x2b7dc4(0xd0)]['forEach'](_0x19bb60=>{const _0x37f2c6=_0x2b7dc4;if(_0x19bb60[_0x37f2c6(0x877)][_0x37f2c6(0x98d)]()===_0x1c8af7['getShareableStreamId']()){const _0x5b271d=_0x19bb60[_0x37f2c6(0x9aa)];this[_0x37f2c6(0x30f)](_0x1c8af7[_0x37f2c6(0x810)](),_0x4aea4d['ContentType']['Media'],_0x5b271d['getRemoteId']());}});}[_0x11ce6(0x657)](_0x22ac1b){const _0x274ccf=_0x11ce6;this[_0x274ccf(0x5bc)][_0x274ccf(0x657)](_0x22ac1b);}['close'](){const _0x4359db=_0x11ce6;this[_0x4359db(0x5bc)][_0x4359db(0xd0)][_0x4359db(0x7a1)](this[_0x4359db(0x3aa)][_0x4359db(0x23a)](this));}[_0x11ce6(0x3aa)](_0x519231,_0x16d691){const _0x4dbbb4=_0x11ce6;this[_0x4dbbb4(0x5bc)][_0x4dbbb4(0x3aa)](_0x519231,_0x16d691);}[_0x11ce6(0x1e4)](_0x1e8622,{label:_0x2cd40f,ownerId:_0x368e6b,trackKinds:_0x2a841d,params:_0x51fdee}){const _0xf34d42=_0x11ce6;if(_0x368e6b!==this['configs'][_0xf34d42(0xd3)][_0xf34d42(0x9d8)]()){const _0x1bc133=this[_0xf34d42(0x102)][_0xf34d42(0x4f6)][_0xf34d42(0x41c)](_0x368e6b,_0x2cd40f);return _0x1bc133&&_0x1bc133[_0xf34d42(0x156)]()!==_0x1e8622?{'hasTracks':_0x1bc133[_0xf34d42(0x89b)](_0x2a841d),'hasResolution':this[_0xf34d42(0x285)](_0x1bc133[_0xf34d42(0x5b1)](),_0x51fdee),'streamId':_0x1bc133['getShareableStreamId'](),'distance':this['configs'][_0xf34d42(0x4f6)][_0xf34d42(0x4c5)](_0x1e8622,_0x368e6b),'subscriptionLabel':_0x506707(_0x597d4e['Outgoing'],{'contentType':_0x4aea4d[_0xf34d42(0x43d)]['Media'],'label':_0x1bc133[_0xf34d42(0x810)](),'remoteId':_0x1e8622})}:{'hasTracks':!0x1,'hasResolution':!0x1,'streamId':'','distance':-0x1,'subscriptionLabel':null};}const _0x36a04b=this['configs'][_0xf34d42(0x4f6)]['getLocalMediaStream'](_0x2cd40f);return{'hasTracks':!0x0,'hasResolution':!0x0,'streamId':_0x36a04b[_0xf34d42(0x810)](),'distance':0x0,'subscriptionLabel':_0x506707(_0x597d4e[_0xf34d42(0x9e5)],{'contentType':_0x4aea4d[_0xf34d42(0x43d)][_0xf34d42(0x563)],'label':_0x36a04b[_0xf34d42(0x810)](),'remoteId':_0x1e8622})};}[_0x11ce6(0x7da)](){const _0x25e89e=_0x11ce6;return Array[_0x25e89e(0x462)](this[_0x25e89e(0x5bc)][_0x25e89e(0xd0)][_0x25e89e(0x91c)]())[_0x25e89e(0x80e)](([_0x48822c,{source:_0x2180bd}])=>_0x48822c[_0x25e89e(0x534)](_0x597d4e['Outgoing'])&&_0x2180bd[_0x25e89e(0x503)]()===_0x4aea4d[_0x25e89e(0x43d)][_0x25e89e(0x563)])[_0x25e89e(0x7ad)];}['canProvideResolution'](_0x3f7b93,_0x4c7a7d){const _0x4bb781=_0x11ce6;if(!_0x4c7a7d||!_0x4c7a7d[_0x4bb781(0x452)]||'boolean'==typeof _0x4c7a7d[_0x4bb781(0x452)]||!_0x4c7a7d[_0x4bb781(0x452)]['maxResolution'])return!0x0;const {width:_0x3f04a9,height:_0x5d1b1b}=_0x4c7a7d['video'][_0x4bb781(0x6c0)];return _0x3f7b93[_0x4bb781(0x706)]>=_0x3f04a9&&_0x3f7b93[_0x4bb781(0x6d3)]>=_0x5d1b1b;}}class _0x126338{['configs'];[_0x11ce6(0x5d4)];['maxDistance'];['systemTopic'];[_0x11ce6(0x4b4)];[_0x11ce6(0x4f9)];constructor(_0x337de9,_0x3b254,_0xc350cb){const _0x4d7057=_0x11ce6;this[_0x4d7057(0x102)]=_0x337de9,this[_0x4d7057(0x5d4)]=_0x3b254,this[_0x4d7057(0x43b)]=_0xc350cb,this[_0x4d7057(0x102)]['mediator'][_0x4d7057(0x4da)](this),this[_0x4d7057(0x4b4)]=new _0x120e6a(this[_0x4d7057(0x102)],this['maxDistance']),this[_0x4d7057(0x4f9)]=new _0x2b08df(this['configs'],this[_0x4d7057(0x5d4)]);}[_0x11ce6(0xcc)](_0x5a6ed8){this['systemTopic']=_0x5a6ed8;}[_0x11ce6(0x5c1)](){const _0x1a6d03=_0x11ce6;delete this[_0x1a6d03(0x1ad)];}[_0x11ce6(0x17e)](){const _0x52423f=_0x11ce6;this[_0x52423f(0x4b4)][_0x52423f(0x17e)](),this[_0x52423f(0x4f9)][_0x52423f(0x17e)](),this['configs'][_0x52423f(0x4f6)][_0x52423f(0x579)](this);}[_0x11ce6(0x499)](_0x33f933,_0x4ac877){const _0x559ba6=_0x11ce6;this['incomingManager'][_0x559ba6(0x9e0)](_0x33f933,_0x4ac877);}[_0x11ce6(0x742)](_0x145a9b,_0x5a71b4){const _0xbdbc35=_0x11ce6;this[_0xbdbc35(0x4f9)][_0xbdbc35(0x9e0)](_0x145a9b,_0x5a71b4);}[_0x11ce6(0x21e)](_0xf8532d,_0xd98d4f,_0x3f852c=''){const _0x48ae6f=_0x11ce6;this[_0x48ae6f(0x4b4)][_0x48ae6f(0x30f)](_0xf8532d,_0xd98d4f,_0x3f852c);}['removeOutgoingSubscription'](_0x48441f,_0xdc8f5b,_0x3e1bd3=''){const _0x3bb274=_0x11ce6;try{this[_0x3bb274(0x4f9)][_0x3bb274(0x30f)](_0x48441f,_0xdc8f5b,_0x3e1bd3);}catch(_0x413338){if(_0x413338 instanceof _0x490cf1&&_0x413338[_0x3bb274(0x505)]===_0x490cf1[_0x3bb274(0x9fb)][_0x3bb274(0x2cc)])return;}}['handleSubscriptionSystemEvents'](_0x5d559d){const _0x52bd82=_0x11ce6;switch(_0x5d559d[_0x52bd82(0x1c4)][_0x52bd82(0x789)]){case _0x32a36a[_0x52bd82(0xa1a)]:this['handleSubscriptionSubscribeMediaStream'](_0x5d559d['sourceId'],_0x5d559d[_0x52bd82(0x1c4)]);break;case _0x32a36a[_0x52bd82(0x8bf)]:this[_0x52bd82(0x4f9)]['handleSubscriptionUnsubscribeMediaStream'](_0x5d559d[_0x52bd82(0x112)],_0x5d559d[_0x52bd82(0x1c4)]);break;case _0x32a36a[_0x52bd82(0x6d6)]:this[_0x52bd82(0x21c)](_0x5d559d['sourceId'],_0x5d559d[_0x52bd82(0x1c4)]);break;case _0x32a36a[_0x52bd82(0x70d)]:this[_0x52bd82(0x4b4)]['handleSubscriptionRestartNeedMediaStream'](_0x5d559d[_0x52bd82(0x112)],_0x5d559d[_0x52bd82(0x1c4)]);break;case _0x32a36a[_0x52bd82(0x189)]:case _0x32a36a[_0x52bd82(0x527)]:this[_0x52bd82(0x4b4)][_0x52bd82(0x608)](_0x5d559d[_0x52bd82(0x112)],_0x5d559d[_0x52bd82(0x1c4)]);break;case _0x32a36a['MediaStreamUnavailable']:this[_0x52bd82(0x4b4)][_0x52bd82(0x295)](_0x5d559d[_0x52bd82(0x112)],_0x5d559d[_0x52bd82(0x1c4)]);}}[_0x11ce6(0x27c)](_0x1bf0e3){const _0x45f162=_0x11ce6;switch(_0x1bf0e3['content'][_0x45f162(0x789)]){case _0x18f1c1[_0x45f162(0x753)]:this['incomingManager']['handleContentUnpublishMediaStream'](_0x1bf0e3[_0x45f162(0x1c4)]),this[_0x45f162(0x4f9)][_0x45f162(0x249)](_0x1bf0e3['content']);break;case _0x18f1c1['SubscribeMediaStream']:this['incomingManager'][_0x45f162(0x264)](_0x1bf0e3['content']);break;case _0x18f1c1[_0x45f162(0x6c7)]:this[_0x45f162(0x4b4)][_0x45f162(0x314)](_0x1bf0e3[_0x45f162(0x1c4)]);break;case _0x18f1c1[_0x45f162(0x8bf)]:this['handleContentUnsubscribeMediaStream'](_0x1bf0e3[_0x45f162(0x112)],_0x1bf0e3[_0x45f162(0x1c4)]);break;case _0x18f1c1[_0x45f162(0x526)]:this[_0x45f162(0x4f9)][_0x45f162(0x310)](_0x1bf0e3['content']);break;case _0x18f1c1[_0x45f162(0x144)]:this[_0x45f162(0x48d)](_0x1bf0e3[_0x45f162(0x1c4)][_0x45f162(0x6e8)],_0x4aea4d['ContentType'][_0x45f162(0x267)]);break;case _0x18f1c1['CloseObjectStoreBucket']:this[_0x45f162(0x48d)](_0x1bf0e3['content'][_0x45f162(0x6e8)],_0x4aea4d[_0x45f162(0x43d)][_0x45f162(0x968)]);break;case _0x18f1c1[_0x45f162(0x243)]:this[_0x45f162(0x48d)](_0x1bf0e3[_0x45f162(0x1c4)][_0x45f162(0x6e8)],_0x4aea4d[_0x45f162(0x43d)][_0x45f162(0x72b)]);break;case _0x18f1c1[_0x45f162(0x1fa)]:this[_0x45f162(0x48d)](_0x1bf0e3[_0x45f162(0x1c4)][_0x45f162(0x6e8)],_0x4aea4d['ContentType']['KeyValueDatabase']);break;case _0x18f1c1['CloseVectorDatabase']:this[_0x45f162(0x48d)](_0x1bf0e3['content'][_0x45f162(0x6e8)],_0x4aea4d[_0x45f162(0x43d)]['VectorDatabase']);break;case _0x18f1c1[_0x45f162(0x7b5)]:this[_0x45f162(0x48d)](_0x1bf0e3['content'][_0x45f162(0x6e8)],_0x4aea4d[_0x45f162(0x43d)]['GraphDatabase']);break;case _0x18f1c1[_0x45f162(0x303)]:case _0x18f1c1[_0x45f162(0x61a)]:this[_0x45f162(0x48d)](_0x1bf0e3['content'][_0x45f162(0x6e8)],_0x4aea4d[_0x45f162(0x43d)]['Job']);break;case _0x18f1c1[_0x45f162(0x1bc)]:this[_0x45f162(0x4b4)][_0x45f162(0x3c1)](_0x1bf0e3['content']);}}['handleNodeSystemEvents']({content:_0x141226}){const _0x533436=_0x11ce6;_0x141226[_0x533436(0x789)]===_0x4c4cc3[_0x533436(0x55e)]&&this[_0x533436(0x657)](_0x141226);}['handlePeerConnectionSystemEvents'](_0x3c2b44){const _0x509e46=_0x11ce6;_0x3c2b44[_0x509e46(0x1c4)][_0x509e46(0x789)]===_0x1ed9f1[_0x509e46(0x7cf)]&&this[_0x509e46(0x4b4)]['handleOptimizationConnectionSuccess'](_0x3c2b44[_0x509e46(0x112)]);}[_0x11ce6(0x4b6)](_0xd344d0,_0x50d2e0){const _0x231ef2=_0x11ce6;this[_0x231ef2(0x4b4)][_0x231ef2(0x4b6)](_0x50d2e0),this[_0x231ef2(0x4f9)]['handleContentUnsubscribeMediaStream'](_0xd344d0,_0x50d2e0)[_0x231ef2(0x7a1)](_0x49c07f=>this['systemTopic'][_0x231ef2(0xfa)](_0x49c07f));}[_0x11ce6(0x719)](_0x3fe307,_0x3fcc15){const _0x30ad75=_0x11ce6,_0x2b928e=this[_0x30ad75(0x4f9)][_0x30ad75(0x719)](_0x3fe307,_0x3fcc15);if(_0x2b928e&&(this['systemTopic'][_0x30ad75(0xfa)]({'sourceId':this['configs'][_0x30ad75(0xd3)]['getId'](),'destinationIds':[_0x3fe307],'messageType':_0x48fa30[_0x30ad75(0x832)],'content':_0x2b928e}),_0x2b928e[_0x30ad75(0x789)]===_0x32a36a[_0x30ad75(0x70d)]))throw new _0x56672e(_0x30ad75(0x729));}[_0x11ce6(0x21c)](_0x19aba3,_0x1caecd){const _0xc4b764=_0x11ce6,_0x3e6dc1=this['outgoingManager'][_0xc4b764(0x21c)](_0x19aba3,_0x1caecd);this[_0xc4b764(0x1ad)]['publish']({'sourceId':this[_0xc4b764(0x102)][_0xc4b764(0xd3)]['getId'](),'destinationIds':[_0x19aba3],'messageType':_0x48fa30['Subscription'],'content':_0x3e6dc1});}[_0x11ce6(0x48d)](_0x5a3403,_0x45aa34){const _0x5eb29e=_0x11ce6;this['removeIncomingSubscription'](_0x5a3403,_0x45aa34),this[_0x5eb29e(0x109)](_0x5a3403,_0x45aa34);}[_0x11ce6(0x657)]({id:_0x503d36}){const _0x1ee32f=_0x11ce6;this[_0x1ee32f(0x4b4)][_0x1ee32f(0x657)](_0x503d36),this[_0x1ee32f(0x4f9)][_0x1ee32f(0x657)](_0x503d36);}}class _0x765f45{['label'];['listener']=_0x4332ba();constructor(){const _0x4c3233=_0x11ce6;this[_0x4c3233(0x6e8)]=0x0;}['getLabel'](){return this['label'];}['getContentType'](){const _0x2f2287=_0x11ce6;return _0x4aea4d[_0x2f2287(0x43d)][_0x2f2287(0x2d1)];}[_0x11ce6(0x5dc)](_0xe3344c){_0xe3344c['registerSystemPublisher'](this);}[_0x11ce6(0x584)](_0x43b00d){_0x43b00d['unregisterSystemPublisher']();}[_0x11ce6(0xfa)](_0xb34172){const _0x56d7ba=_0x11ce6;_0x5c02ff[_0x56d7ba(0x65b)](_0x1e4869[_0x56d7ba(0x262)],'SystemTopic\x20publish',_0xb34172[_0x56d7ba(0x112)],_0xb34172),this[_0x56d7ba(0x504)][_0x56d7ba(0xfa)]({'topicLabel':this[_0x56d7ba(0x6e8)],'contentType':_0x4aea4d[_0x56d7ba(0x43d)][_0x56d7ba(0x2d1)],'uuid':_0xb34172[_0x56d7ba(0x1ee)]??(0x0,_0x5afa59['v4'])(),'recipients':_0xb34172[_0x56d7ba(0xe4)]??[],..._0xb34172});}['subscribe'](_0x29305b){const _0x473c2c=_0x11ce6;return this[_0x473c2c(0x504)][_0x473c2c(0x85a)](_0x29305b);}}class _0x4846f4{['options'];[_0x11ce6(0x718)]=[];[_0x11ce6(0x223)];[_0x11ce6(0x7bf)]=new Map();['nodeUpdate']=_0x4332ba();constructor(_0x3cc461){const _0xebdd3c=_0x11ce6;this['options']=_0x3cc461,this[_0xebdd3c(0x223)]=(this['options'][_0xebdd3c(0x8e5)]-0x2*this[_0xebdd3c(0x809)][_0xebdd3c(0x48c)])/0x2,this[_0xebdd3c(0x718)][_0xebdd3c(0x7bc)]({'start':0x1,'end':this['getNextTargetRank'](0x1,0x1)-0x1});for(let _0x2d9f14=0x0;_0x2d9f14<this['maxLayer'];++_0x2d9f14)this[_0xebdd3c(0x718)][_0xebdd3c(0x7bc)]({'start':this['getNextTargetRank'](0x1,_0x2d9f14+0x1),'end':this[_0xebdd3c(0x693)](0x1,_0x2d9f14+0x2)-0x1});}[_0x11ce6(0x693)](_0x106fb2,_0x3507b6=0x1){const _0x36bc26=_0x11ce6;let _0x6b72ba=this[_0x36bc26(0x809)][_0x36bc26(0x43b)]-this[_0x36bc26(0x809)]['minConnections'],_0x28a855=0x1;for(let _0x1adb43=0x1;_0x1adb43<_0x3507b6;++_0x1adb43)_0x6b72ba*=this[_0x36bc26(0x809)][_0x36bc26(0x43b)]-this[_0x36bc26(0x809)]['minConnections']-_0x1adb43,_0x28a855*=this['options'][_0x36bc26(0x43b)]-this[_0x36bc26(0x809)]['minConnections']-_0x1adb43+0x1;return _0x6b72ba*this[_0x36bc26(0x809)][_0x36bc26(0x48c)]+_0x106fb2-_0x28a855;}[_0x11ce6(0x225)](_0x17c3fe){const _0x419576=_0x11ce6;let _0x4b0287=0x0;for(;this[_0x419576(0x718)][_0x4b0287][_0x419576(0x4a5)]<_0x17c3fe;)_0x4b0287+=0x1;return _0x4b0287;}[_0x11ce6(0x1cb)](){const _0x45d3e4=_0x11ce6;return this['options'][_0x45d3e4(0x48c)];}['getMaxConnections'](){const _0x14a60e=_0x11ce6;return this['options'][_0x14a60e(0x8e5)];}[_0x11ce6(0x150)](){const _0xc406aa=_0x11ce6;return this['options'][_0xc406aa(0x43b)];}['getRemoteNodes'](){const _0x2105ee=_0x11ce6;return this[_0x2105ee(0x7bf)];}[_0x11ce6(0x494)](_0x30f2c4,_0x209b9e){const _0x2e031a=_0x11ce6;this['remoteNodes'][_0x2e031a(0x323)](_0x30f2c4,_0x209b9e),this[_0x2e031a(0xbd)][_0x2e031a(0xfa)]();}[_0x11ce6(0x5b5)](_0x10bda8){const _0x22af39=_0x11ce6;this[_0x22af39(0x7bf)][_0x22af39(0x3a9)](_0x10bda8),this['nodeUpdate'][_0x22af39(0xfa)]();}[_0x11ce6(0x583)](_0x5dd72c){const _0xebd10c=_0x11ce6;return this[_0xebd10c(0x7bf)]['has'](_0x5dd72c);}[_0x11ce6(0x2d0)](_0xd93f56){const _0x427c7f=_0x11ce6;return this['remoteNodes'][_0x427c7f(0x3f2)](_0xd93f56);}[_0x11ce6(0x81a)](_0x5c1540,_0xdb44e9){const _0x500819=_0x11ce6,_0x5d9956=this['getRemoteNode'](_0xdb44e9)?.[_0x500819(0x8c4)]()??0x0;return _0x5c1540[_0x500819(0x99c)](_0x233c97=>this['getRemoteNode'](_0x233c97))[_0x500819(0x80e)](_0x32ddad=>void 0x0!==_0x32ddad)[_0x500819(0x96b)]((_0x66ca7f,_0x229461)=>Math[_0x500819(0x8c6)](_0x5d9956-(_0x66ca7f&&_0x66ca7f['getRank']()||0x1/0x0))-Math['abs'](_0x5d9956-(_0x229461&&_0x229461[_0x500819(0x8c4)]()||0x1/0x0)))[_0x500819(0x99c)](_0x3dab4e=>_0x3dab4e[_0x500819(0x9d8)]());}[_0x11ce6(0x8ee)](_0x4c6b78){const _0x342559=_0x11ce6;return this[_0x342559(0xbd)]['subscribe'](_0x4c6b78);}}class _0x476952{[_0x11ce6(0x391)];['clusterId'];[_0x11ce6(0x87d)];[_0x11ce6(0x929)];[_0x11ce6(0x809)];[_0x11ce6(0x102)];['clusterEventEmitter'];[_0x11ce6(0x7ab)];[_0x11ce6(0x829)];[_0x11ce6(0x727)];[_0x11ce6(0x626)];[_0x11ce6(0x4ab)];[_0x11ce6(0x10a)];[_0x11ce6(0x648)];[_0x11ce6(0x59f)];[_0x11ce6(0x1ad)]=new _0x765f45();[_0x11ce6(0x409)];['localNode'];constructor(_0x2f5887,_0x40e238,_0xbb7e32,_0x3dfe23,_0x28416e,_0x4faf81,_0x210ba2){const _0x5b2906=_0x11ce6;switch(this[_0x5b2906(0x391)]=_0x2f5887,this[_0x5b2906(0xa18)]=_0x40e238,this['authNode']=_0xbb7e32,this['authService']=_0x3dfe23,this['options']=_0x28416e,this['configs']=_0x4faf81,this[_0x5b2906(0x6be)]=_0x210ba2,_0xbb7e32[_0x5b2906(0x789)]){case _0x4aea4d[_0x5b2906(0x552)][_0x5b2906(0x59b)]:this['localNode']=new _0x835485(_0xbb7e32[_0x5b2906(0x9d8)](),_0xbb7e32[_0x5b2906(0x7d2)](),_0xbb7e32[_0x5b2906(0x300)]());break;case _0x4aea4d[_0x5b2906(0x552)][_0x5b2906(0x68c)]:default:this[_0x5b2906(0xd3)]=new _0x1747a7(_0xbb7e32[_0x5b2906(0x9d8)]());}const _0x516397=this['getConfigs']();this[_0x5b2906(0x59f)]=new _0x4846f4(this[_0x5b2906(0x809)]),this[_0x5b2906(0x7ab)]=new _0x1556aa(_0x516397,this[_0x5b2906(0x809)],this['configs'][_0x5b2906(0x417)],this[_0x5b2906(0x102)][_0x5b2906(0x77b)]),this[_0x5b2906(0x829)]=new _0x3d1f47(_0x516397,this['authService'],this[_0x5b2906(0x59f)],this[_0x5b2906(0x102)][_0x5b2906(0xf3)],this[_0x5b2906(0x809)]),this[_0x5b2906(0x727)]=new _0x126338(_0x516397,this[_0x5b2906(0x809)][_0x5b2906(0x5d4)],this[_0x5b2906(0x59f)]['getMaxDistance']()),this[_0x5b2906(0x626)]=new _0x521969(_0x516397),this['detectionManager']=new _0x1a3da0(_0x516397),this[_0x5b2906(0x10a)]=new _0x4ae549(_0x516397),this[_0x5b2906(0x648)]=new _0x30e4c9(_0x516397,this['graphService']),this[_0x5b2906(0x409)]=this['initializeSystemTopic']();}['open'](){const _0x58e72c=_0x11ce6,_0x3853b5=this['getConfigs']();this['connectionManager']=new _0x3d1f47(_0x3853b5,this['authService'],this['graphService'],this['configs'][_0x58e72c(0xf3)],this[_0x58e72c(0x809)]),this[_0x58e72c(0x727)]=new _0x126338(_0x3853b5,this[_0x58e72c(0x809)]['maxOutgoingSubscriptions'],this[_0x58e72c(0x59f)][_0x58e72c(0x150)]()),this[_0x58e72c(0x626)]=new _0x521969(_0x3853b5),this['detectionManager']=new _0x1a3da0(_0x3853b5),this[_0x58e72c(0x10a)]=new _0x4ae549(_0x3853b5),this[_0x58e72c(0x648)]=new _0x30e4c9(_0x3853b5,this[_0x58e72c(0x59f)]);const _0x1f2d3a=this[_0x58e72c(0x829)][_0x58e72c(0x979)]();this[_0x58e72c(0x7ab)][_0x58e72c(0x65f)]()[_0x58e72c(0x7a1)](_0x4d28c4=>{const _0x97c81=_0x58e72c;this[_0x97c81(0x727)]['createOutgoingSubscription'](_0x4d28c4,_0x1f2d3a),this[_0x97c81(0x727)][_0x97c81(0x499)](_0x1f2d3a,_0x4d28c4),_0x4d28c4['reset']();}),this[_0x58e72c(0x7ab)][_0x58e72c(0x755)]()['forEach'](_0x2c6555=>{const _0x46f6a3=_0x58e72c;this[_0x46f6a3(0x727)][_0x46f6a3(0x742)](_0x2c6555,_0x1f2d3a),this[_0x46f6a3(0x727)][_0x46f6a3(0x499)](_0x1f2d3a,_0x2c6555),_0x2c6555[_0x46f6a3(0x7e8)](),_0x2c6555[_0x46f6a3(0x6ce)]();}),this[_0x58e72c(0x7ab)]['getKeyValueDatabases']()[_0x58e72c(0x7a1)](_0xe508ec=>{const _0x4ff729=_0x58e72c;this[_0x4ff729(0x727)][_0x4ff729(0x742)](_0xe508ec,_0x1f2d3a),this['subscriptionManager']['createIncomingSubscription'](_0x1f2d3a,_0xe508ec),_0xe508ec[_0x4ff729(0x7e8)](),this[_0x4ff729(0x52b)](_0xe508ec);}),this[_0x58e72c(0x7ab)][_0x58e72c(0x83f)]()['forEach'](_0x24cd95=>{const _0x56d61c=_0x58e72c;this[_0x56d61c(0x727)][_0x56d61c(0x742)](_0x24cd95,_0x1f2d3a),this[_0x56d61c(0x727)][_0x56d61c(0x499)](_0x1f2d3a,_0x24cd95),_0x24cd95[_0x56d61c(0x7e8)]();}),this['contentManager'][_0x58e72c(0xd5)]()[_0x58e72c(0x7a1)](_0x2fd455=>{const _0x1f8a62=_0x58e72c;this['subscriptionManager'][_0x1f8a62(0x742)](_0x2fd455,_0x1f2d3a),this[_0x1f8a62(0x727)]['createIncomingSubscription'](_0x1f2d3a,_0x2fd455),_0x2fd455[_0x1f8a62(0x7e8)]();}),this[_0x58e72c(0x7ab)][_0x58e72c(0x8a8)]()[_0x58e72c(0x7a1)](_0x1b2131=>{const _0x153017=_0x58e72c;this['subscriptionManager'][_0x153017(0x742)](_0x1b2131,_0x1f2d3a),this[_0x153017(0x727)][_0x153017(0x499)](_0x1f2d3a,_0x1b2131),_0x1b2131[_0x153017(0x7e8)]();}),this[_0x58e72c(0x7ab)]['getGraphDatabases']()['forEach'](_0x49730e=>{const _0x3e2c82=_0x58e72c;this[_0x3e2c82(0x727)][_0x3e2c82(0x742)](_0x49730e,_0x1f2d3a),this[_0x3e2c82(0x727)][_0x3e2c82(0x499)](_0x1f2d3a,_0x49730e),_0x49730e['reset']();}),this[_0x58e72c(0x409)]=this[_0x58e72c(0x39d)]();}['registerSystemSource'](_0x5f3802){const _0x27a803=_0x11ce6;try{this[_0x27a803(0x1ad)][_0x27a803(0x5dc)](_0x5f3802);}catch(_0x1353c1){this[_0x27a803(0x5e3)](_0x1353c1,{});}}[_0x11ce6(0x579)](_0x52c9e7){const _0x299770=_0x11ce6;try{this[_0x299770(0x1ad)][_0x299770(0x584)](_0x52c9e7);}catch(_0x4b8eb8){this['handleError'](_0x4b8eb8,{});}}[_0x11ce6(0x94d)](_0x2383c2,_0x28a733){const _0x5d76b4=_0x11ce6;return this[_0x5d76b4(0x829)]['createConnection'](_0x2383c2,_0x28a733);}['getConnection'](_0x1851eb){const _0x3a0654=_0x11ce6;try{return this[_0x3a0654(0x829)][_0x3a0654(0x813)](_0x1851eb);}catch(_0x968a05){throw this[_0x3a0654(0x5e3)](_0x968a05,{});}}[_0x11ce6(0x791)](_0x450f6a){const _0x3ce98c=_0x11ce6;try{return this[_0x3ce98c(0x829)][_0x3ce98c(0x791)](_0x450f6a);}catch(_0x495a24){throw this['handleError'](_0x495a24,{});}}[_0x11ce6(0x41c)](_0x380927,_0x5cd65e){const _0xae2733=_0x11ce6;try{return this['contentManager'][_0xae2733(0x3ad)](_0x16c398=>_0x16c398[_0xae2733(0x3d0)]()===_0x380927&&_0x16c398[_0xae2733(0x555)]()===_0x5cd65e)[0x0];}catch(_0x2172c4){throw this['handleError'](_0x2172c4,{});}}['getLocalMediaStream'](_0x65b2bf){const _0x3af322=_0x11ce6;try{return this['contentManager'][_0x3af322(0x53c)](_0x8fe15e=>_0x8fe15e['getLabel']()===_0x65b2bf)[0x0];}catch(_0x221cb0){throw this[_0x3af322(0x5e3)](_0x221cb0,{});}}[_0x11ce6(0x397)]=(..._0x46ecf8)=>{const _0x17d12e=_0x11ce6;try{return this[_0x17d12e(0x6be)][_0x17d12e(0x11c)](..._0x46ecf8);}catch(_0x363593){throw this[_0x17d12e(0x5e3)](_0x363593,{});}};[_0x11ce6(0x412)](_0x553f87){const _0x2f1630=_0x11ce6;try{this[_0x2f1630(0x626)][_0x2f1630(0x6c8)](_0x553f87);}catch(_0x3a5325){throw this[_0x2f1630(0x5e3)](_0x3a5325,{});}}[_0x11ce6(0x8c8)](_0x753613){const _0x2e271c=_0x11ce6;try{this[_0x2e271c(0x626)]['removeRemoteNode'](_0x753613);}catch(_0x2c3fc2){throw this[_0x2e271c(0x5e3)](_0x2c3fc2,{});}}[_0x11ce6(0x910)](_0x2c6a64){const _0xbf590d=_0x11ce6;return this['connectionManager'][_0xbf590d(0x910)](_0x2c6a64);}async[_0x11ce6(0x9db)](){const _0x29416f=_0x11ce6;try{await this[_0x29416f(0x829)][_0x29416f(0x9db)]();const _0x48a11e=await this['nodeManager'][_0x29416f(0x8a0)]();for(const _0x17a11a of _0x48a11e)this['connectionManager'][_0x29416f(0x94d)](_0x17a11a);}catch(_0x2edb49){throw this['handleError'](_0x2edb49,{});}}['updateUser'](_0x1d6fcb){const _0x1396ea=_0x11ce6;this[_0x1396ea(0xd3)]['type']===_0x4aea4d[_0x1396ea(0x552)][_0x1396ea(0x59b)]&&(this[_0x1396ea(0xd3)][_0x1396ea(0x4a6)](_0x1d6fcb[_0x1396ea(0x300)]()),this[_0x1396ea(0xd3)]['setDisplayName'](_0x1d6fcb[_0x1396ea(0x7d2)]()));}[_0x11ce6(0x17e)]({force:_0x11f41c=!0x1},_0x181e55=!0x1){const _0x222733=_0x11ce6;if(_0x5c02ff['warning'](_0x222733(0x38e),{'clusterId':this[_0x222733(0xa18)],'nodeId':this[_0x222733(0xd3)][_0x222733(0x9d8)](),'nodeType':this[_0x222733(0xd3)]['type']}),!_0x11f41c&&this['connectionManager'][_0x222733(0x2a9)]())throw new _0x39299d(_0x1ffca6[_0x222733(0x9e7)],_0x222733(0x688));_0x5c02ff[_0x222733(0x4a8)](),this[_0x222733(0x409)](),this[_0x222733(0x10a)][_0x222733(0x17e)](),this[_0x222733(0x4ab)]['close'](),this[_0x222733(0x626)][_0x222733(0x17e)](),this[_0x222733(0x727)]['close'](),this[_0x222733(0x829)][_0x222733(0x17e)](),this[_0x222733(0x7ab)][_0x222733(0x17e)](_0x181e55),this[_0x222733(0x648)]['close']();}[_0x11ce6(0x3db)](_0x3b9208){const _0x1be714=_0x11ce6;try{const _0x4eed9d=this['contentManager'][_0x1be714(0x75e)](_0x3b9208),_0x3e5fb5=this[_0x1be714(0x829)][_0x1be714(0x979)]();return this[_0x1be714(0x727)][_0x1be714(0x742)](_0x4eed9d,_0x3e5fb5),this[_0x1be714(0x727)][_0x1be714(0x499)](_0x3e5fb5,_0x4eed9d),_0x4eed9d;}catch(_0x457da5){throw this['handleError'](_0x457da5,{});}}async['openObjectStoreBucket'](_0x1df91f,_0x164b3c){const _0xd065bc=_0x11ce6;try{const _0xb15d7b=this['contentManager'][_0xd065bc(0x6a5)](_0x1df91f,this[_0xd065bc(0x809)]['objectStoreConnector'],_0x164b3c),_0x125571=this[_0xd065bc(0x829)]['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0xb15d7b,_0x125571),this[_0xd065bc(0x727)][_0xd065bc(0x499)](_0x125571,_0xb15d7b),await _0xb15d7b[_0xd065bc(0x6ce)](),_0xb15d7b;}catch(_0x1d09b){throw this[_0xd065bc(0x5e3)](_0x1d09b,{});}}async[_0x11ce6(0x343)](_0x1efefc,_0x29c707){const _0x40af4b=_0x11ce6;try{if(!this[_0x40af4b(0x809)][_0x40af4b(0x302)])throw new _0x39299d(_0x1ffca6[_0x40af4b(0x1ba)],'Missing\x20external\x20storage\x20connector');if(!(this['authNode']instanceof _0x48952d))throw new _0x39299d(_0x1ffca6['NodeInvalidType'],_0x40af4b(0x46d));const _0x5dd09e=this[_0x40af4b(0x809)][_0x40af4b(0x302)]['get'](_0x29c707);if(!_0x5dd09e)throw new _0x39299d(_0x1ffca6['ExternalStorageConnectorsMissing'],_0x40af4b(0x95c));const _0x1fe697=this['contentManager']['createExternalStorageConnection'](_0x1efefc,_0x5dd09e),_0x5f35e6=this[_0x40af4b(0x829)]['getConnectionGroup']();return this['subscriptionManager']['createOutgoingSubscription'](_0x1fe697,_0x5f35e6),this[_0x40af4b(0x727)]['createIncomingSubscription'](_0x5f35e6,_0x1fe697),await _0x1fe697[_0x40af4b(0x4ec)](),_0x1fe697;}catch(_0x1b2c29){throw this[_0x40af4b(0x5e3)](_0x1b2c29,{});}}async[_0x11ce6(0x46c)](_0x6c5fa9,_0x547bd5,_0x37bd47){const _0x3a6a10=_0x11ce6;try{_0x37bd47=_0x37bd47||this[_0x3a6a10(0x809)][_0x3a6a10(0x3de)];const _0xd1a99=await this[_0x3a6a10(0x7ab)]['createKeyValueDatabase'](_0x6c5fa9,_0x547bd5,_0x37bd47),_0x5e7848=this[_0x3a6a10(0x829)][_0x3a6a10(0x979)]();return this[_0x3a6a10(0x727)][_0x3a6a10(0x742)](_0xd1a99,_0x5e7848),this['subscriptionManager'][_0x3a6a10(0x499)](_0x5e7848,_0xd1a99),await _0xd1a99['open'](),this[_0x3a6a10(0x52b)](_0xd1a99),_0xd1a99;}catch(_0xc5ec8b){throw this[_0x3a6a10(0x5e3)](_0xc5ec8b,{});}}async['openJobDispatcher'](_0x58848f){const _0x293d2f=_0x11ce6;try{const _0x36476f=await this[_0x293d2f(0x7ab)][_0x293d2f(0x617)](_0x58848f,this[_0x293d2f(0x59f)]),_0x171315=this[_0x293d2f(0x829)][_0x293d2f(0x979)]();return this[_0x293d2f(0x727)][_0x293d2f(0x742)](_0x36476f,_0x171315),this[_0x293d2f(0x727)][_0x293d2f(0x499)](_0x171315,_0x36476f),_0x36476f[_0x293d2f(0x4ec)](),_0x36476f;}catch(_0x31173a){throw this['handleError'](_0x31173a,{});}}async[_0x11ce6(0x764)](_0x2ab710){throw new Error('Method\x20not\x20supported');}async[_0x11ce6(0x849)](_0x2fb5ee){const _0x27afca=_0x11ce6;try{const _0x3cf0fc=await this[_0x27afca(0x7ab)][_0x27afca(0x825)](_0x2fb5ee,this[_0x27afca(0x59f)]),_0x1f5b38=this[_0x27afca(0x829)][_0x27afca(0x979)]();return this[_0x27afca(0x727)]['createOutgoingSubscription'](_0x3cf0fc,_0x1f5b38),this[_0x27afca(0x727)][_0x27afca(0x499)](_0x1f5b38,_0x3cf0fc),_0x3cf0fc[_0x27afca(0x4ec)](),_0x3cf0fc;}catch(_0x1dec3b){throw console[_0x27afca(0x89e)](_0x1dec3b),this[_0x27afca(0x5e3)](_0x1dec3b,{});}}async['openGenerativeAIWorker'](_0x2e1a94){const _0x2bcbed=_0x11ce6;try{if(!this['options'][_0x2bcbed(0x5d9)]||!this[_0x2bcbed(0x809)][_0x2bcbed(0x7ae)]||!this[_0x2bcbed(0x809)][_0x2bcbed(0x95b)])throw new _0x39299d(_0x1ffca6['GenerativeAIWorkerMissingConnector'],'Missing\x20AI\x20worker\x20connector');if(!(this[_0x2bcbed(0x87d)]instanceof _0x48952d))throw new _0x39299d(_0x1ffca6[_0x2bcbed(0x52e)],_0x2bcbed(0x46d));const _0x4ed7fb=[];for(const _0x5a5168 of this[_0x2bcbed(0x809)]['generativeAIWorkerConnectors'])_0x4ed7fb['push'](new _0x5a5168());const _0x4b8493=new this[(_0x2bcbed(0x809))][(_0x2bcbed(0x7ae))](),_0x41c42e=new this[(_0x2bcbed(0x809))][(_0x2bcbed(0x95b))]();let _0x183675,_0x15e1bb,_0x7f7b30;this[_0x2bcbed(0x809)][_0x2bcbed(0x9fe)]&&(_0x183675=new this[(_0x2bcbed(0x809))]['searchConnector']()),this['options'][_0x2bcbed(0x7db)]&&(_0x15e1bb=new this['options']['aiSearchConnector']()),this[_0x2bcbed(0x809)]['queryFileConnector']&&(_0x7f7b30=new this[(_0x2bcbed(0x809))][(_0x2bcbed(0x390))]());const _0x56395b=await this[_0x2bcbed(0x7ab)][_0x2bcbed(0x24f)](_0x2e1a94,this[_0x2bcbed(0x87d)],_0x4ed7fb,_0x4b8493,_0x41c42e,_0x183675,_0x15e1bb,_0x7f7b30),_0x308651=this['connectionManager'][_0x2bcbed(0x979)]();this[_0x2bcbed(0x727)][_0x2bcbed(0x742)](_0x56395b,_0x308651),this[_0x2bcbed(0x727)]['createIncomingSubscription'](_0x308651,_0x56395b);const _0x47199d=this[_0x2bcbed(0x648)]['getAncestorIds']();return await _0x56395b[_0x2bcbed(0x4ec)](0x0===_0x47199d['length']||void 0x0),_0x56395b;}catch(_0x5cd23a){throw this[_0x2bcbed(0x5e3)](_0x5cd23a,{});}}[_0x11ce6(0x3c4)](_0x362c14){const _0x20e781=_0x11ce6;try{if(!this['options'][_0x20e781(0x961)])throw new _0x39299d(_0x1ffca6[_0x20e781(0x203)],'Missing\x20graph\x20database\x20connector');if(!(this[_0x20e781(0x87d)]instanceof _0x48952d))throw new _0x39299d(_0x1ffca6[_0x20e781(0x52e)],_0x20e781(0x46d));const _0xefe105=this[_0x20e781(0x7ab)][_0x20e781(0x909)](_0x362c14,this[_0x20e781(0x809)]['graphDatabaseConnector']),_0x3d05bf=this[_0x20e781(0x829)][_0x20e781(0x979)]();return this[_0x20e781(0x727)][_0x20e781(0x742)](_0xefe105,_0x3d05bf),this[_0x20e781(0x727)][_0x20e781(0x499)](_0x3d05bf,_0xefe105),_0xefe105;}catch(_0x4bc823){throw this[_0x20e781(0x5e3)](_0x4bc823,{});}}['openVectorDatabase'](_0x5a1af5){const _0x58ca45=_0x11ce6;try{if(!this[_0x58ca45(0x809)][_0x58ca45(0x899)])throw new _0x39299d(_0x1ffca6['VectorDatabaseMissingConnector'],'Missing\x20vector\x20database\x20connector');if(!(this[_0x58ca45(0x87d)]instanceof _0x48952d))throw new _0x39299d(_0x1ffca6[_0x58ca45(0x52e)],'Node\x20is\x20not\x20an\x20agent');const _0x35ba48=this[_0x58ca45(0x7ab)][_0x58ca45(0x71c)](_0x5a1af5,this[_0x58ca45(0x809)][_0x58ca45(0x899)]),_0x60b4c=this[_0x58ca45(0x829)][_0x58ca45(0x979)]();return this['subscriptionManager'][_0x58ca45(0x742)](_0x35ba48,_0x60b4c),this[_0x58ca45(0x727)][_0x58ca45(0x499)](_0x60b4c,_0x35ba48),_0x35ba48;}catch(_0x4127e4){throw this[_0x58ca45(0x5e3)](_0x4127e4,{});}}[_0x11ce6(0x65f)](_0x36e475){const _0xb86f1c=_0x11ce6;try{return this[_0xb86f1c(0x7ab)][_0xb86f1c(0x65f)](_0x36e475);}catch(_0x547249){throw this[_0xb86f1c(0x5e3)](_0x547249,{});}}[_0x11ce6(0x755)](_0x48d649){const _0x550b3e=_0x11ce6;try{return this[_0x550b3e(0x7ab)][_0x550b3e(0x755)](_0x48d649);}catch(_0x2783b9){throw this['handleError'](_0x2783b9,{});}}[_0x11ce6(0x8b2)](_0x3ae631){const _0x3bbafc=_0x11ce6;try{return this['contentManager'][_0x3bbafc(0x8b2)](_0x3ae631);}catch(_0x350bfe){throw this[_0x3bbafc(0x5e3)](_0x350bfe,{});}}[_0x11ce6(0x332)](_0x3f76d6){const _0x9d6153=_0x11ce6;try{return this['contentManager'][_0x9d6153(0x332)](_0x3f76d6);}catch(_0x54c33f){throw this[_0x9d6153(0x5e3)](_0x54c33f,{});}}['getGenerativeAIContexts'](_0x37106b){const _0x2fe569=_0x11ce6;try{return this['contentManager'][_0x2fe569(0x658)](_0x37106b);}catch(_0x17d802){throw this['handleError'](_0x17d802,{});}}[_0x11ce6(0x8f8)](_0x25be81){const _0x42bf87=_0x11ce6;try{return this[_0x42bf87(0x7ab)]['getGenerativeAIWorkers'](_0x25be81);}catch(_0x5de04e){throw this[_0x42bf87(0x5e3)](_0x5de04e,{});}}[_0x11ce6(0x697)](_0x5bb013){const _0xe56484=_0x11ce6;try{return this[_0xe56484(0x7ab)][_0xe56484(0x697)](_0x5bb013);}catch(_0x5b9c50){throw this[_0xe56484(0x5e3)](_0x5b9c50,{});}}[_0x11ce6(0x509)](_0x56c76f,_0x599455){const _0x33601c=_0x11ce6;if(!this['configs'][_0x33601c(0x95a)]['includes'](_0x4f2da1['MediaStream']))throw new _0x39299d(_0x1ffca6[_0x33601c(0x9dc)],_0x33601c(0x66e));try{return this['contentManager']['createLocalMediaStream'](_0x56c76f,_0x599455);}catch(_0x1958a4){throw this[_0x33601c(0x5e3)](_0x1958a4,{});}}[_0x11ce6(0x6d8)](_0x23cf63,_0x727686){const _0x64664a=_0x11ce6;if(!this[_0x64664a(0x102)][_0x64664a(0x95a)][_0x64664a(0x2a1)](_0x4f2da1[_0x64664a(0x545)]))throw new _0x39299d(_0x1ffca6[_0x64664a(0x9dc)],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x64664a(0x7ab)][_0x64664a(0x6d8)](_0x23cf63,_0x727686);}catch(_0x29fec6){throw this[_0x64664a(0x5e3)](_0x29fec6,{});}}[_0x11ce6(0x53c)](_0x1ef105){const _0x37d95c=_0x11ce6;if(!this['configs']['features'][_0x37d95c(0x2a1)](_0x4f2da1['MediaStream']))throw new _0x39299d(_0x1ffca6['FeatureNotEnabled'],'MediaStream\x20feature\x20not\x20enabled');try{return this[_0x37d95c(0x7ab)][_0x37d95c(0x53c)](_0x1ef105);}catch(_0x4770ae){throw this['handleError'](_0x4770ae,{});}}[_0x11ce6(0x3ad)](_0x30ae7d){const _0x21e143=_0x11ce6;if(!this[_0x21e143(0x102)]['features'][_0x21e143(0x2a1)](_0x4f2da1['MediaStream']))throw new _0x39299d(_0x1ffca6[_0x21e143(0x9dc)],_0x21e143(0x66e));try{return this['contentManager'][_0x21e143(0x3ad)](_0x30ae7d);}catch(_0x24c6f7){throw this[_0x21e143(0x5e3)](_0x24c6f7,{});}}[_0x11ce6(0x8a8)](_0x5ecc5a){const _0x4ae481=_0x11ce6;try{return this[_0x4ae481(0x7ab)][_0x4ae481(0x8a8)](_0x5ecc5a);}catch(_0x4a7430){throw this[_0x4ae481(0x5e3)](_0x4a7430,{});}}[_0x11ce6(0x4c5)](_0x5d4b82,_0x1f8e04){return this['nodeManager']['getDistance'](_0x5d4b82,_0x1f8e04);}[_0x11ce6(0x643)](){const _0x1a1d13=_0x11ce6;return this[_0x1a1d13(0x648)][_0x1a1d13(0x643)]();}[_0x11ce6(0x652)](_0xd9b3c1){const _0x52c63e=_0x11ce6;try{return this[_0x52c63e(0x648)][_0x52c63e(0x652)](_0xd9b3c1);}catch(_0x1a4eec){throw this[_0x52c63e(0x5e3)](_0x1a4eec,{});}}[_0x11ce6(0x35b)](){const _0x35125b=_0x11ce6;return this[_0x35125b(0x829)][_0x35125b(0x35b)]();}['isNodeReady'](_0xe71554){const _0x3e68fd=_0x11ce6;return this[_0x3e68fd(0x648)][_0x3e68fd(0x204)](_0xe71554);}async[_0x11ce6(0x5ca)](_0x3e5134){const _0x4f987f=_0x11ce6;try{if(_0x5c02ff[_0x4f987f(0x65b)](_0x1e4869[_0x4f987f(0x262)],_0x4f987f(0x656),this[_0x4f987f(0x648)][_0x4f987f(0x950)](),_0x3e5134),_0x3bc6c4(_0x3e5134,this[_0x4f987f(0x648)][_0x4f987f(0x950)]()))return void this[_0x4f987f(0x829)]['handleOutgoingSystemEvents'](_0x3e5134);switch(_0x3e5134[_0x4f987f(0x32c)]){case _0x48fa30['Content']:this['statsManager'][_0x4f987f(0x27c)](_0x3e5134),this[_0x4f987f(0x727)][_0x4f987f(0x27c)](_0x3e5134),this[_0x4f987f(0x7ab)][_0x4f987f(0x27c)](_0x3e5134);break;case _0x48fa30[_0x4f987f(0x9d0)]:this[_0x4f987f(0x727)]['handleNodeSystemEvents'](_0x3e5134),this[_0x4f987f(0x829)][_0x4f987f(0x866)](_0x3e5134),this[_0x4f987f(0x7ab)][_0x4f987f(0x866)](_0x3e5134),this[_0x4f987f(0x648)][_0x4f987f(0x866)](_0x3e5134);break;case _0x48fa30[_0x4f987f(0x2c6)]:this['remediationManager'][_0x4f987f(0x750)](_0x3e5134);break;case _0x48fa30[_0x4f987f(0x8a7)]:this[_0x4f987f(0x10a)][_0x4f987f(0x94e)](_0x3e5134);break;case _0x48fa30[_0x4f987f(0x6d9)]:this[_0x4f987f(0x4ab)][_0x4f987f(0x385)](_0x3e5134);break;case _0x48fa30['Subscription']:_0x3e5134[_0x4f987f(0x1c4)]['type']!==_0x32a36a[_0x4f987f(0x8bf)]?(this['subscriptionManager'][_0x4f987f(0x8a9)](_0x3e5134),this[_0x4f987f(0x7ab)]['handleSubscriptionSystemEvents'](_0x3e5134)):(this[_0x4f987f(0x7ab)][_0x4f987f(0x8a9)](_0x3e5134),this[_0x4f987f(0x727)][_0x4f987f(0x8a9)](_0x3e5134));break;case _0x48fa30['PeerConnection']:await this[_0x4f987f(0x829)][_0x4f987f(0x7ed)](_0x3e5134),this[_0x4f987f(0x626)]['handlePeerConnectionSystemEvents'](_0x3e5134),this[_0x4f987f(0x648)][_0x4f987f(0x7ed)](_0x3e5134),this[_0x4f987f(0x727)][_0x4f987f(0x7ed)](_0x3e5134);}}catch(_0x5a7bf9){throw _0x5c02ff[_0x4f987f(0x760)]('handleSystemEvents',_0x5a7bf9),this[_0x4f987f(0x5e3)](_0x5a7bf9,{});}}['handleError'](_0x241412,_0x517189){const _0x43c4fd=_0x11ce6;if(!(_0x241412 instanceof _0x56672e)){if(_0x241412 instanceof _0x39299d)throw _0x241412;if(!(_0x241412 instanceof Error))throw new _0x39299d(_0x1ffca6[_0x43c4fd(0x237)],_0x43c4fd(0x757)+_0x241412);if(!(_0x241412 instanceof _0x490cf1))throw new _0x39299d(_0x1ffca6[_0x43c4fd(0x237)],'Internal\x20error:\x20'+_0x241412[_0x43c4fd(0x686)]);switch(_0x241412[_0x43c4fd(0x505)]){case _0x490cf1[_0x43c4fd(0x9fb)]['MissingSystemTopic']:case _0x490cf1['codes'][_0x43c4fd(0x2be)]:case _0x490cf1[_0x43c4fd(0x9fb)]['PeerConnectionInvalidDestination']:case _0x490cf1['codes'][_0x43c4fd(0x362)]:case _0x490cf1['codes']['ConnectionNotConnected']:case _0x490cf1['codes'][_0x43c4fd(0x67d)]:case _0x490cf1[_0x43c4fd(0x9fb)][_0x43c4fd(0x90d)]:case _0x490cf1[_0x43c4fd(0x9fb)]['InvalidSubscriber']:case _0x490cf1[_0x43c4fd(0x9fb)][_0x43c4fd(0x272)]:case _0x490cf1[_0x43c4fd(0x9fb)][_0x43c4fd(0x988)]:case _0x490cf1['codes']['SubscriptionRequestNoAnswer']:case _0x490cf1[_0x43c4fd(0x9fb)][_0x43c4fd(0x2cc)]:}throw _0x5c02ff[_0x43c4fd(0x89e)](_0x43c4fd(0x580)+_0x241412[_0x43c4fd(0x686)],{'clusterId':this['clusterId'],'nodeId':this[_0x43c4fd(0xd3)][_0x43c4fd(0x9d8)](),'nodeType':this[_0x43c4fd(0xd3)]['type']},_0x241412),new _0x39299d(_0x1ffca6['InternalSDKError'],_0x43c4fd(0xc4)+_0x241412['message']);}}['getConfigs'](){const _0x544cd3=_0x11ce6;return{'mediator':this,'vendorId':this[_0x544cd3(0x391)],'clusterId':this['clusterId'],'localNode':this['localNode']};}[_0x11ce6(0x39d)](){const _0x3beb5c=_0x11ce6;return this['systemTopic'][_0x3beb5c(0x85a)](_0x1eec48=>{const _0x3562e0=_0x3beb5c,_0x2bfa4b=_0x31728e(_0x1eec48,this[_0x3562e0(0xd3)][_0x3562e0(0x9d8)]()),_0x50b387=_0x1eec48['messageType']===_0x48fa30[_0x3562e0(0x6d9)]||_0x1eec48[_0x3562e0(0x32c)]===_0x48fa30['PeerConnection']&&_0x1eec48[_0x3562e0(0x1c4)][_0x3562e0(0x789)]===_0x1ed9f1['Stats']?_0x1e4869[_0x3562e0(0x89c)]:_0x1e4869[_0x3562e0(0x18e)];_0x5c02ff[_0x3562e0(0x51e)](_0x50b387,_0x1eec48[_0x3562e0(0x1ee)]+_0x3562e0(0x5f3)+_0x2bfa4b,_0x1eec48),this[_0x3562e0(0x5ca)](_0x1eec48)[_0x3562e0(0x8e7)](_0x10d730=>{const _0x4d1092=_0x3562e0;console[_0x4d1092(0x89e)](_0x10d730);});});}async[_0x11ce6(0x52b)](_0x5e0176){const _0x1695be=_0x11ce6,{timingLogger:_0xa9a976,logger:_0x309f41,logBeforeSync:_0x4edaae,logAfterSync:_0x162509}=function(_0x361fe2,_0xc0c072){const _0x202a9e=a0_0x5c6e;if(!_0x5c02ff[_0x202a9e(0x4cd)](_0xc0c072))return _0x5c02ff[_0x202a9e(0x760)](_0x202a9e(0x7ef)+_0xc0c072),{..._0x20ab93(_0x361fe2,_0xc0c072),'syncStartTime':0x0,'logBeforeSync':()=>0x0,'logAfterSync':()=>{}};const {timingLogger:_0xdb1229,logger:_0xa74021}=_0x20ab93(_0x361fe2,_0xc0c072);let _0x460bc1=0x0;return _0x460bc1=Date[_0x202a9e(0x3bd)](),{'syncStartTime':_0x460bc1,'timingLogger':_0xdb1229,'logger':_0xa74021,'logBeforeSync':()=>(_0xf4ea6d(_0xc0c072,'Before\x20Synchronization'),_0xdb1229[_0x202a9e(0x3bd)]()),'logAfterSync':(_0x174eab,_0x1fe4f5)=>{const _0x49ef1c=_0x202a9e,_0x42695b=Date['now']();_0xf4ea6d(_0xc0c072,_0x49ef1c(0x3b3)+_0x1fe4f5);const _0x24167f=(_0x42695b-_0x460bc1)/0x3e8,_0x324adc=(_0x42695b-_0x174eab)/0x3e8;_0x5c02ff[_0x49ef1c(0x65b)](_0xc0c072,_0x49ef1c(0x1d3),_0x361fe2,_0x49ef1c(0xb7)+_0x24167f['toFixed'](0x2)+_0x49ef1c(0x30a),_0x49ef1c(0x1d1)+_0x324adc[_0x49ef1c(0x9df)](0x3)+'\x20seconds',_0x49ef1c(0x58c)+((_0x42695b-_0x460bc1)/0x3e8-_0x324adc)[_0x49ef1c(0x9df)](0x2)+'\x20seconds');}};}(_0x5e0176['getLabel'](),_0x1e4869[_0x1695be(0x45f)]);_0x309f41[_0x1695be(0x65b)](_0x1695be(0xfc));const _0x1a4303=this[_0x1695be(0x648)][_0x1695be(0x293)]()[_0x1695be(0x7ad)]>0x0;if(_0x1a4303){_0x309f41[_0x1695be(0x65b)]('SyncKeyValueDatabasse\x20-\x20Waiting\x20for\x20ancestors',()=>this['nodeManager'][_0x1695be(0x293)]()),_0xa9a976[_0x1695be(0x55a)](),await Promise[_0x1695be(0x3c5)](this[_0x1695be(0x648)][_0x1695be(0x293)]()[_0x1695be(0x99c)](async _0x2732a1=>await this[_0x1695be(0x648)]['isNodeReady'](_0x2732a1)))['catch'](_0xa9869d=>_0x5c02ff[_0x1695be(0x275)](_0x1695be(0x53b),{'nodeId':this[_0x1695be(0xd3)]['getId'](),'nodeType':this['localNode'][_0x1695be(0x789)]}));const _0x1cfd46=_0x309f41[_0x1695be(0x2d6)](()=>this['nodeManager'][_0x1695be(0x293)](),[]);_0xa9a976[_0x1695be(0x930)](_0x1695be(0x87a)+_0x1cfd46+_0x1695be(0x949));}_0x162509(_0x4edaae(),await _0x5e0176[_0x1695be(0x6ce)](_0x1a4303,async()=>{const _0xfde0ab=_0x1695be;_0xa9a976[_0xfde0ab(0x55a)](),await this[_0xfde0ab(0x648)]['isReady'](),_0xa9a976[_0xfde0ab(0x930)](_0xfde0ab(0x2d9)),_0x5e0176[_0xfde0ab(0x6ce)](!0x0,()=>{const _0x41816b=_0xfde0ab;_0x309f41[_0x41816b(0x65b)](_0x41816b(0x75d)),_0x5e0176['sync'](!0x1);},!0x0);}));}}class _0x5e9e70{['vendorId'];['clusterId'];[_0x11ce6(0x87d)];[_0x11ce6(0x8f4)];[_0x11ce6(0x7b4)];constructor(_0x27da32,_0x5f2769,_0x20cbcd,_0x619d2e,_0x1c1cfb,_0x26b5b2,_0x65957a=new _0x3754fe()){const _0x501edb=_0x11ce6;this[_0x501edb(0x391)]=_0x27da32,this[_0x501edb(0xa18)]=_0x5f2769,this[_0x501edb(0x87d)]=_0x20cbcd,this[_0x501edb(0x8f4)]=_0x65957a,this['orchestrator']=new _0x476952(this[_0x501edb(0x391)],this['clusterId'],_0x20cbcd,_0x619d2e,_0x1c1cfb,_0x26b5b2,this);}async[_0x11ce6(0x926)](){const _0x437295=_0x11ce6;await this['orchestrator'][_0x437295(0x9db)](),this['authNode']['type']===_0x4aea4d['NodeType'][_0x437295(0x59b)]&&this['authNode'][_0x437295(0x5a7)](this[_0x437295(0xa18)],_0x2fca41=>{const _0x5300bf=_0x437295;this['orchestrator'][_0x5300bf(0x8e1)](_0x2fca41);});}[_0x11ce6(0x1ac)](_0x1ff016={}){const _0x1065b7=_0x11ce6;this[_0x1065b7(0x7b4)][_0x1065b7(0x17e)](_0x1ff016),this[_0x1065b7(0x87d)][_0x1065b7(0x789)]===_0x4aea4d[_0x1065b7(0x552)][_0x1065b7(0x59b)]&&this[_0x1065b7(0x87d)]['unregisterCluster'](this[_0x1065b7(0xa18)]),this['emit'](_0x1065b7(0x9b4),void 0x0);}['openPubSubTopic'](_0x3b8111){const _0x349574=_0x11ce6,_0x451ffc=this[_0x349574(0x7b4)][_0x349574(0x3db)](_0x3b8111);return{'getName':_0x451ffc[_0x349574(0x107)][_0x349574(0x23a)](_0x451ffc),'getOwnerId':_0x451ffc[_0x349574(0x3d0)][_0x349574(0x23a)](_0x451ffc),'getContentType':_0x451ffc[_0x349574(0x503)][_0x349574(0x23a)](_0x451ffc),'publish':_0x451ffc['publish'][_0x349574(0x23a)](_0x451ffc),'subscribe':_0x451ffc[_0x349574(0x85a)][_0x349574(0x23a)](_0x451ffc),'unsubscribe':_0x451ffc[_0x349574(0x786)][_0x349574(0x23a)](_0x451ffc),'close':_0x451ffc[_0x349574(0x17e)]['bind'](_0x451ffc)};}async[_0x11ce6(0x2de)](_0x8b5bec,_0x27f960){const _0x14c979=_0x11ce6,_0x3068b6=await this[_0x14c979(0x7b4)][_0x14c979(0x2de)](_0x8b5bec,_0x27f960);return{'getName':_0x3068b6[_0x14c979(0x107)][_0x14c979(0x23a)](_0x3068b6),'getOwnerId':_0x3068b6['getOwnerId'][_0x14c979(0x23a)](_0x3068b6),'getContentType':_0x3068b6[_0x14c979(0x503)]['bind'](_0x3068b6),'publish':_0x3068b6['publish']['bind'](_0x3068b6),'unpublish':_0x3068b6['unpublish'][_0x14c979(0x23a)](_0x3068b6),'get':_0x3068b6[_0x14c979(0x3f2)][_0x14c979(0x23a)](_0x3068b6),'list':_0x3068b6[_0x14c979(0x138)][_0x14c979(0x23a)](_0x3068b6),'getSize':_0x3068b6[_0x14c979(0x20a)][_0x14c979(0x23a)](_0x3068b6),'subscribe':_0x3068b6[_0x14c979(0x85a)][_0x14c979(0x23a)](_0x3068b6),'unsubscribe':_0x3068b6[_0x14c979(0x786)][_0x14c979(0x23a)](_0x3068b6),'close':_0x3068b6[_0x14c979(0x17e)][_0x14c979(0x23a)](_0x3068b6)};}async[_0x11ce6(0x343)](_0x3aae02,_0x4d2209){const _0x3ccc54=_0x11ce6,_0x293982=await this[_0x3ccc54(0x7b4)][_0x3ccc54(0x343)](_0x3aae02,_0x4d2209);return{'getName':_0x293982[_0x3ccc54(0x107)][_0x3ccc54(0x23a)](_0x293982),'getOwnerId':_0x293982['getOwnerId'][_0x3ccc54(0x23a)](_0x293982),'getContentType':_0x293982[_0x3ccc54(0x503)]['bind'](_0x293982),'close':_0x293982[_0x3ccc54(0x17e)][_0x3ccc54(0x23a)](_0x293982),'get':_0x293982[_0x3ccc54(0x3f2)]['bind'](_0x293982),'list':_0x293982[_0x3ccc54(0x138)][_0x3ccc54(0x23a)](_0x293982),'subscribe':_0x293982[_0x3ccc54(0x85a)][_0x3ccc54(0x23a)](_0x293982),'unsubscribe':_0x293982[_0x3ccc54(0x786)][_0x3ccc54(0x23a)](_0x293982)};}async[_0x11ce6(0x46c)](_0x372e63,_0x531807,_0x19bb26){const _0x4454f9=_0x11ce6,_0x1fb867=await this[_0x4454f9(0x7b4)]['openKeyValueDatabase'](_0x372e63,_0x531807,_0x19bb26);return{'getName':_0x1fb867[_0x4454f9(0x107)]['bind'](_0x1fb867),'getOwnerId':_0x1fb867[_0x4454f9(0x3d0)][_0x4454f9(0x23a)](_0x1fb867),'getContentType':_0x1fb867[_0x4454f9(0x503)]['bind'](_0x1fb867),'getTable':_0x1fb867['getTable'][_0x4454f9(0x23a)](_0x1fb867),'subscribe':_0x1fb867[_0x4454f9(0x85a)][_0x4454f9(0x23a)](_0x1fb867),'unsubscribe':_0x1fb867[_0x4454f9(0x786)]['bind'](_0x1fb867),'close':_0x1fb867[_0x4454f9(0x17e)][_0x4454f9(0x23a)](_0x1fb867)};}async[_0x11ce6(0x6b0)](_0x32a4bd){const _0x59dfbe=_0x11ce6,_0x28c612=await this['orchestrator'][_0x59dfbe(0x6b0)](_0x32a4bd);return{'getName':_0x28c612[_0x59dfbe(0x107)][_0x59dfbe(0x23a)](_0x28c612),'getOwnerId':_0x28c612[_0x59dfbe(0x3d0)][_0x59dfbe(0x23a)](_0x28c612),'getContentType':_0x28c612[_0x59dfbe(0x503)]['bind'](_0x28c612),'createJob':_0x28c612[_0x59dfbe(0x620)]['bind'](_0x28c612),'getJob':_0x28c612[_0x59dfbe(0x368)]['bind'](_0x28c612),'getJobs':_0x28c612[_0x59dfbe(0x139)][_0x59dfbe(0x23a)](_0x28c612),'close':_0x28c612[_0x59dfbe(0x17e)]['bind'](_0x28c612)};}async[_0x11ce6(0x764)](_0x5df923){const _0x3e0573=_0x11ce6,_0xa60957=await this[_0x3e0573(0x7b4)]['openJobWorker'](_0x5df923);return{'close':_0xa60957['close'][_0x3e0573(0x23a)](_0xa60957)};}async[_0x11ce6(0x849)](_0x4a6354){const _0x4b9129=_0x11ce6,_0x1b2199=await this[_0x4b9129(0x7b4)]['openGenerativeAIContext'](_0x4a6354);return{'createAIJob':_0x1b2199[_0x4b9129(0x739)][_0x4b9129(0x23a)](_0x1b2199),'ratePrompt':_0x1b2199['ratePrompt']['bind'](_0x1b2199),'downloadDocument':_0x1b2199['downloadDocument'][_0x4b9129(0x23a)](_0x1b2199),'getDataBucketIds':_0x1b2199[_0x4b9129(0x92a)][_0x4b9129(0x23a)](_0x1b2199),'close':_0x1b2199[_0x4b9129(0x17e)][_0x4b9129(0x23a)](_0x1b2199)};}async['openGenerativeAIWorker'](_0x3d05ff){const _0x435987=_0x11ce6,_0x3e59a6=await this['orchestrator'][_0x435987(0x25e)](_0x3d05ff);return{'close':_0x3e59a6[_0x435987(0x17e)][_0x435987(0x23a)](_0x3e59a6)};}[_0x11ce6(0x3c4)](_0x123f3e){const _0xbe9ce=_0x11ce6,_0x16e88d=this[_0xbe9ce(0x7b4)][_0xbe9ce(0x3c4)](_0x123f3e);return{'getName':_0x16e88d[_0xbe9ce(0x107)][_0xbe9ce(0x23a)](_0x16e88d),'getOwnerId':_0x16e88d['getOwnerId']['bind'](_0x16e88d),'getContentType':_0x16e88d['getContentType'][_0xbe9ce(0x23a)](_0x16e88d),'addNode':_0x16e88d[_0xbe9ce(0x1a1)][_0xbe9ce(0x23a)](_0x16e88d),'addEdge':_0x16e88d[_0xbe9ce(0x4e7)][_0xbe9ce(0x23a)](_0x16e88d),'getContent':_0x16e88d['getContent'][_0xbe9ce(0x23a)](_0x16e88d),'remove':_0x16e88d[_0xbe9ce(0x3e3)][_0xbe9ce(0x23a)](_0x16e88d),'saveToDisk':_0x16e88d[_0xbe9ce(0xf4)][_0xbe9ce(0x23a)](_0x16e88d),'loadFromDisk':_0x16e88d[_0xbe9ce(0x701)]['bind'](_0x16e88d),'close':_0x16e88d[_0xbe9ce(0x17e)][_0xbe9ce(0x23a)](_0x16e88d)};}[_0x11ce6(0x502)](_0x103c63){const _0x557e97=_0x11ce6,_0x3c399c=this[_0x557e97(0x7b4)][_0x557e97(0x502)](_0x103c63);return{'getName':_0x3c399c[_0x557e97(0x107)]['bind'](_0x3c399c),'getOwnerId':_0x3c399c[_0x557e97(0x3d0)][_0x557e97(0x23a)](_0x3c399c),'getContentType':_0x3c399c[_0x557e97(0x503)]['bind'](_0x3c399c),'search':_0x3c399c[_0x557e97(0x92e)][_0x557e97(0x23a)](_0x3c399c),'insert':_0x3c399c[_0x557e97(0x34a)][_0x557e97(0x23a)](_0x3c399c),'remove':_0x3c399c['remove']['bind'](_0x3c399c),'saveToDisk':_0x3c399c[_0x557e97(0xf4)][_0x557e97(0x23a)](_0x3c399c),'loadFromDisk':_0x3c399c[_0x557e97(0x701)][_0x557e97(0x23a)](_0x3c399c),'close':_0x3c399c[_0x557e97(0x17e)]['bind'](_0x3c399c)};}[_0x11ce6(0x65f)](_0x5ec3ff){const _0x11196b=_0x11ce6;return this['orchestrator']['getPubSubTopics'](_0x5ec3ff)[_0x11196b(0x99c)](_0x59da1c=>({'getName':_0x59da1c[_0x11196b(0x107)][_0x11196b(0x23a)](_0x59da1c),'getOwnerId':_0x59da1c['getOwnerId'][_0x11196b(0x23a)](_0x59da1c),'getContentType':_0x59da1c[_0x11196b(0x503)][_0x11196b(0x23a)](_0x59da1c),'publish':_0x59da1c[_0x11196b(0xfa)][_0x11196b(0x23a)](_0x59da1c),'subscribe':_0x59da1c[_0x11196b(0x85a)][_0x11196b(0x23a)](_0x59da1c),'unsubscribe':_0x59da1c[_0x11196b(0x786)][_0x11196b(0x23a)](_0x59da1c),'close':_0x59da1c['close']['bind'](_0x59da1c)}));}[_0x11ce6(0x755)](_0xa2f062){const _0x888fa3=_0x11ce6;return this[_0x888fa3(0x7b4)][_0x888fa3(0x755)](_0xa2f062)['map'](_0x3fa8a2=>({'getName':_0x3fa8a2['getName'][_0x888fa3(0x23a)](_0x3fa8a2),'getOwnerId':_0x3fa8a2['getOwnerId'][_0x888fa3(0x23a)](_0x3fa8a2),'getContentType':_0x3fa8a2['getContentType'][_0x888fa3(0x23a)](_0x3fa8a2),'publish':_0x3fa8a2[_0x888fa3(0xfa)][_0x888fa3(0x23a)](_0x3fa8a2),'unpublish':_0x3fa8a2[_0x888fa3(0x5ce)][_0x888fa3(0x23a)](_0x3fa8a2),'get':_0x3fa8a2['get'][_0x888fa3(0x23a)](_0x3fa8a2),'list':_0x3fa8a2[_0x888fa3(0x138)][_0x888fa3(0x23a)](_0x3fa8a2),'getSize':_0x3fa8a2[_0x888fa3(0x20a)][_0x888fa3(0x23a)](_0x3fa8a2),'subscribe':_0x3fa8a2['subscribe']['bind'](_0x3fa8a2),'unsubscribe':_0x3fa8a2['unsubscribe'][_0x888fa3(0x23a)](_0x3fa8a2),'close':_0x3fa8a2[_0x888fa3(0x17e)][_0x888fa3(0x23a)](_0x3fa8a2)}));}['getExternalStorageConnections'](_0x22b46b){const _0x2a3a7a=_0x11ce6;return this[_0x2a3a7a(0x7b4)]['getExternalStorageConnections'](_0x22b46b)[_0x2a3a7a(0x99c)](_0x2ac58e=>({'getName':_0x2ac58e[_0x2a3a7a(0x107)][_0x2a3a7a(0x23a)](_0x2ac58e),'getOwnerId':_0x2ac58e[_0x2a3a7a(0x3d0)][_0x2a3a7a(0x23a)](_0x2ac58e),'getContentType':_0x2ac58e[_0x2a3a7a(0x503)][_0x2a3a7a(0x23a)](_0x2ac58e),'close':_0x2ac58e[_0x2a3a7a(0x17e)][_0x2a3a7a(0x23a)](_0x2ac58e),'get':_0x2ac58e[_0x2a3a7a(0x3f2)]['bind'](_0x2ac58e),'list':_0x2ac58e[_0x2a3a7a(0x138)]['bind'](_0x2ac58e),'subscribe':_0x2ac58e[_0x2a3a7a(0x85a)]['bind'](_0x2ac58e),'unsubscribe':_0x2ac58e[_0x2a3a7a(0x786)][_0x2a3a7a(0x23a)](_0x2ac58e)}));}['getKeyValueDatabases'](_0x2a1a77){const _0x1e652b=_0x11ce6;return this[_0x1e652b(0x7b4)][_0x1e652b(0x332)](_0x2a1a77)[_0x1e652b(0x99c)](_0x4efe83=>({'getName':_0x4efe83[_0x1e652b(0x107)][_0x1e652b(0x23a)](_0x4efe83),'getOwnerId':_0x4efe83[_0x1e652b(0x3d0)]['bind'](_0x4efe83),'getContentType':_0x4efe83[_0x1e652b(0x503)][_0x1e652b(0x23a)](_0x4efe83),'getTable':_0x4efe83[_0x1e652b(0x313)]['bind'](_0x4efe83),'subscribe':_0x4efe83[_0x1e652b(0x85a)][_0x1e652b(0x23a)](_0x4efe83),'unsubscribe':_0x4efe83[_0x1e652b(0x786)][_0x1e652b(0x23a)](_0x4efe83),'close':_0x4efe83['close']['bind'](_0x4efe83)}));}[_0x11ce6(0x658)](_0x2e4f07){const _0x434ce6=_0x11ce6;return this['orchestrator']['getGenerativeAIContexts'](_0x2e4f07)[_0x434ce6(0x99c)](_0x3790e8=>({'createAIJob':_0x3790e8[_0x434ce6(0x739)][_0x434ce6(0x23a)](_0x3790e8),'ratePrompt':_0x3790e8[_0x434ce6(0x998)]['bind'](_0x3790e8),'downloadDocument':_0x3790e8[_0x434ce6(0x3f7)][_0x434ce6(0x23a)](_0x3790e8),'getDataBucketIds':_0x3790e8['getDataBucketIds'][_0x434ce6(0x23a)](_0x3790e8),'close':_0x3790e8[_0x434ce6(0x17e)][_0x434ce6(0x23a)](_0x3790e8)}));}['getGenerativeAIWorkers'](_0x8c6395){const _0x596ed0=_0x11ce6;return this[_0x596ed0(0x7b4)]['getGenerativeAIWorkers'](_0x8c6395)[_0x596ed0(0x99c)](_0x41a45e=>({'close':_0x41a45e['close'][_0x596ed0(0x23a)](_0x41a45e)}));}[_0x11ce6(0x450)](_0x310644,_0x266db0){const _0x49a5fd=_0x11ce6,_0x319288=this[_0x49a5fd(0x7b4)]['createLocalMediaStream'](_0x310644,_0x266db0);return{'getLabel':_0x319288[_0x49a5fd(0x555)][_0x49a5fd(0x23a)](_0x319288),'getOwnerId':_0x319288['getOwnerId'][_0x49a5fd(0x23a)](_0x319288),'getContentType':_0x319288[_0x49a5fd(0x503)]['bind'](_0x319288),'getMediaStream':_0x319288[_0x49a5fd(0x52c)][_0x49a5fd(0x23a)](_0x319288),'setPriority':_0x319288[_0x49a5fd(0x91e)]['bind'](_0x319288),'unpublish':_0x319288[_0x49a5fd(0x5ce)][_0x49a5fd(0x23a)](_0x319288)};}['publishLocalDynamicMediaStream'](_0x458f3b,_0x5d9472){const _0x367beb=_0x11ce6,_0x40b882=this['orchestrator'][_0x367beb(0x6d8)](_0x458f3b,_0x5d9472);return{'getLabel':_0x40b882[_0x367beb(0x555)]['bind'](_0x40b882),'getOwnerId':_0x40b882[_0x367beb(0x3d0)][_0x367beb(0x23a)](_0x40b882),'getContentType':_0x40b882[_0x367beb(0x503)][_0x367beb(0x23a)](_0x40b882),'setPriority':_0x40b882['setPriority'][_0x367beb(0x23a)](_0x40b882),'unpublish':_0x40b882[_0x367beb(0x5ce)][_0x367beb(0x23a)](_0x40b882),'getMediaStream':_0x40b882[_0x367beb(0x52c)][_0x367beb(0x23a)](_0x40b882),'addTrack':_0x40b882['addTrack']['bind'](_0x40b882),'removeTrack':_0x40b882[_0x367beb(0x80d)][_0x367beb(0x23a)](_0x40b882),'replaceTrack':_0x40b882[_0x367beb(0x3a3)]['bind'](_0x40b882),'setTransformations':_0x40b882[_0x367beb(0x1f4)][_0x367beb(0x23a)](_0x40b882)};}[_0x11ce6(0x53c)](_0x529d5c){const _0x524e16=_0x11ce6;return this['orchestrator'][_0x524e16(0x53c)](_0x529d5c)['map'](_0x30a980=>({'getLabel':_0x30a980[_0x524e16(0x555)]['bind'](_0x30a980),'getOwnerId':_0x30a980[_0x524e16(0x3d0)][_0x524e16(0x23a)](_0x30a980),'getContentType':_0x30a980['getContentType']['bind'](_0x30a980),'getMediaStream':_0x30a980[_0x524e16(0x52c)][_0x524e16(0x23a)](_0x30a980),'setPriority':_0x30a980[_0x524e16(0x91e)][_0x524e16(0x23a)](_0x30a980),'unpublish':_0x30a980[_0x524e16(0x5ce)]['bind'](_0x30a980)}));}[_0x11ce6(0x3ad)](_0x4b1c84){const _0xd33e8a=_0x11ce6;return this['orchestrator'][_0xd33e8a(0x3ad)](_0x4b1c84)[_0xd33e8a(0x99c)](_0x14f637=>({'getLabel':_0x14f637[_0xd33e8a(0x555)][_0xd33e8a(0x23a)](_0x14f637),'getOwnerId':_0x14f637['getOwnerId']['bind'](_0x14f637),'getContentType':_0x14f637[_0xd33e8a(0x503)][_0xd33e8a(0x23a)](_0x14f637),'getMediaStream':_0x14f637[_0xd33e8a(0x52c)][_0xd33e8a(0x23a)](_0x14f637),'subscribe':_0x14f637[_0xd33e8a(0x85a)][_0xd33e8a(0x23a)](_0x14f637),'unsubscribe':_0x14f637['unsubscribe'][_0xd33e8a(0x23a)](_0x14f637),'getAvailableTrackKinds':_0x14f637['getAvailableTrackKinds'][_0xd33e8a(0x23a)](_0x14f637),'update':_0x14f637[_0xd33e8a(0x967)][_0xd33e8a(0x23a)](_0x14f637),'onProviderChange':_0x14f637['onProviderChange'][_0xd33e8a(0x23a)](_0x14f637)}));}['getGraphDatabases'](_0x5a4942){const _0x3ae910=_0x11ce6;return this['orchestrator'][_0x3ae910(0x697)](_0x5a4942)['map'](_0x5d81af=>({'getName':_0x5d81af[_0x3ae910(0x107)][_0x3ae910(0x23a)](_0x5d81af),'getOwnerId':_0x5d81af[_0x3ae910(0x3d0)][_0x3ae910(0x23a)](_0x5d81af),'getContentType':_0x5d81af[_0x3ae910(0x503)]['bind'](_0x5d81af),'addNode':_0x5d81af[_0x3ae910(0x1a1)][_0x3ae910(0x23a)](_0x5d81af),'addEdge':_0x5d81af[_0x3ae910(0x4e7)][_0x3ae910(0x23a)](_0x5d81af),'getContent':_0x5d81af[_0x3ae910(0x1a6)][_0x3ae910(0x23a)](_0x5d81af),'remove':_0x5d81af[_0x3ae910(0x3e3)][_0x3ae910(0x23a)](_0x5d81af),'saveToDisk':_0x5d81af[_0x3ae910(0xf4)][_0x3ae910(0x23a)](_0x5d81af),'loadFromDisk':_0x5d81af[_0x3ae910(0x701)][_0x3ae910(0x23a)](_0x5d81af),'close':_0x5d81af[_0x3ae910(0x17e)][_0x3ae910(0x23a)](_0x5d81af)}));}['getVectorDatabases'](_0xbee32b){const _0x336f47=_0x11ce6;return this[_0x336f47(0x7b4)]['getVectorDatabases'](_0xbee32b)[_0x336f47(0x99c)](_0x38312f=>({'getName':_0x38312f[_0x336f47(0x107)]['bind'](_0x38312f),'getOwnerId':_0x38312f[_0x336f47(0x3d0)][_0x336f47(0x23a)](_0x38312f),'getContentType':_0x38312f[_0x336f47(0x503)][_0x336f47(0x23a)](_0x38312f),'search':_0x38312f['search']['bind'](_0x38312f),'insert':_0x38312f['insert'][_0x336f47(0x23a)](_0x38312f),'remove':_0x38312f['remove'][_0x336f47(0x23a)](_0x38312f),'saveToDisk':_0x38312f[_0x336f47(0xf4)]['bind'](_0x38312f),'loadFromDisk':_0x38312f[_0x336f47(0x701)]['bind'](_0x38312f),'close':_0x38312f['close'][_0x336f47(0x23a)](_0x38312f)}));}[_0x11ce6(0x643)](){const _0xd2855d=_0x11ce6,_0x24ecd3=this[_0xd2855d(0x7b4)]['getLocalNode']();switch(_0x24ecd3[_0xd2855d(0x789)]){case _0x4aea4d[_0xd2855d(0x552)][_0xd2855d(0x59b)]:return{'type':_0x4aea4d[_0xd2855d(0x552)]['User'],'getId':_0x24ecd3['getId'][_0xd2855d(0x23a)](_0x24ecd3),'getDisplayName':_0x24ecd3[_0xd2855d(0x7d2)][_0xd2855d(0x23a)](_0x24ecd3),'getEmail':_0x24ecd3['getEmail'][_0xd2855d(0x23a)](_0x24ecd3),'getRemoteConnections':_0x24ecd3['getRemoteConnections'][_0xd2855d(0x23a)](_0x24ecd3),'setDisplayName':_0x24ecd3[_0xd2855d(0x27b)]['bind'](_0x24ecd3),'setEmail':_0x24ecd3[_0xd2855d(0x4a6)][_0xd2855d(0x23a)](_0x24ecd3)};case _0x4aea4d[_0xd2855d(0x552)][_0xd2855d(0x68c)]:default:return{'type':_0x4aea4d[_0xd2855d(0x552)][_0xd2855d(0x68c)],'getId':_0x24ecd3['getId']['bind'](_0x24ecd3),'getRemoteConnections':_0x24ecd3['getRemoteConnections'][_0xd2855d(0x23a)](_0x24ecd3)};}}[_0x11ce6(0x652)](_0x2c5725){const _0x175bbd=_0x11ce6;return this[_0x175bbd(0x7b4)][_0x175bbd(0x652)](_0x2c5725)[_0x175bbd(0x99c)](_0x9e6a7d=>{const _0x4afa2a=_0x175bbd;switch(_0x9e6a7d[_0x4afa2a(0x789)]){case _0x4aea4d[_0x4afa2a(0x552)][_0x4afa2a(0x59b)]:return{'type':_0x4aea4d[_0x4afa2a(0x552)][_0x4afa2a(0x59b)],'getId':_0x9e6a7d[_0x4afa2a(0x9d8)][_0x4afa2a(0x23a)](_0x9e6a7d),'getDisplayName':_0x9e6a7d[_0x4afa2a(0x7d2)][_0x4afa2a(0x23a)](_0x9e6a7d),'getEmail':_0x9e6a7d[_0x4afa2a(0x300)][_0x4afa2a(0x23a)](_0x9e6a7d),'getRemoteConnections':_0x9e6a7d[_0x4afa2a(0x4d9)]['bind'](_0x9e6a7d)};case _0x4aea4d['NodeType'][_0x4afa2a(0x68c)]:return{'type':_0x4aea4d[_0x4afa2a(0x552)][_0x4afa2a(0x68c)],'getId':_0x9e6a7d[_0x4afa2a(0x9d8)]['bind'](_0x9e6a7d),'getRemoteConnections':_0x9e6a7d[_0x4afa2a(0x4d9)][_0x4afa2a(0x23a)](_0x9e6a7d)};default:throw new _0x39299d(_0x1ffca6[_0x4afa2a(0x52e)],_0x4afa2a(0x694));}});}['on']=(..._0x5cb2da)=>{const _0x275004=_0x11ce6;this[_0x275004(0x8f4)]['on'](..._0x5cb2da);};[_0x11ce6(0x11c)]=(..._0x443568)=>this['eventEmitter']['emit'](..._0x443568);[_0x11ce6(0x536)](..._0x27aa01){const _0x417444=_0x11ce6;this['eventEmitter'][_0x417444(0x536)](..._0x27aa01);}}class _0x3f3964{['id'];[_0x11ce6(0x535)];[_0x11ce6(0x3fd)];[_0x11ce6(0x789)]=_0x4aea4d[_0x11ce6(0x552)]['User'];[_0x11ce6(0x85d)]=new Map();['observer']=_0x4332ba();constructor(_0x2aeda2,_0x150825,_0x168963){this['id']=_0x2aeda2,this['displayName']=_0x150825,this['email']=_0x168963;}[_0x11ce6(0x9d8)](){return this['id'];}[_0x11ce6(0x7d2)](){const _0x1bf9e3=_0x11ce6;return this[_0x1bf9e3(0x535)];}[_0x11ce6(0x300)](){const _0x4d171e=_0x11ce6;return this[_0x4d171e(0x3fd)];}['setDisplayName'](_0x579e28){const _0x2aa629=_0x11ce6;this[_0x2aa629(0x535)]!==_0x579e28&&(this[_0x2aa629(0x535)]=_0x579e28,this[_0x2aa629(0x700)]['publish'](this));}[_0x11ce6(0x4a6)](_0x8a9131){const _0x1514fc=_0x11ce6;this[_0x1514fc(0x3fd)]!==_0x8a9131&&(this[_0x1514fc(0x3fd)]=_0x8a9131,this['observer']['publish'](this));}[_0x11ce6(0x5a7)](_0x1a87d9,_0x10903d){const _0x525d77=_0x11ce6;if(this[_0x525d77(0x85d)][_0x525d77(0x297)](_0x1a87d9))return;const _0x2f1d63=this[_0x525d77(0x700)]['subscribe'](_0x10903d);this[_0x525d77(0x85d)]['set'](_0x1a87d9,_0x2f1d63);}[_0x11ce6(0x919)](_0x310c89){const _0x40830a=_0x11ce6;if(!this['joinedClusters'][_0x40830a(0x297)](_0x310c89))return;const _0x13c345=this[_0x40830a(0x85d)]['get'](_0x310c89);_0x13c345&&_0x13c345(),this[_0x40830a(0x85d)][_0x40830a(0x3a9)](_0x310c89);}}class _0x3f06eb{[_0x11ce6(0x391)];[_0x11ce6(0x76e)];constructor(_0x1ed8fd){this['vendorId']=_0x1ed8fd;}async['signInWithCredential'](_0x3c88ee){const _0x103c4d=_0x11ce6,_0x1156e8=await(0x0,_0x35a5d3[_0x103c4d(0x9cf)])(_0x24cd47[_0x103c4d(0x1c9)](),_0x103c4d(0x317))({'uid':_0x103c4d(0x1b7)+this[_0x103c4d(0x391)]+_0x103c4d(0x1b7)+_0x3c88ee['id']}),_0x4f2648=await(0x0,_0x10cec5['signInWithCustomToken'])(_0x24cd47[_0x103c4d(0x191)](),_0x1156e8[_0x103c4d(0x4ff)][_0x103c4d(0x77d)]);this['user']=_0x4f2648[_0x103c4d(0x76e)];}async[_0x11ce6(0x8f6)](){const _0x4a6533=_0x11ce6;await(0x0,_0x10cec5[_0x4a6533(0x8f6)])(_0x24cd47['getAuth']());}[_0x11ce6(0x60b)](){const _0x4b1ce3=_0x11ce6;return this[_0x4b1ce3(0x76e)]?.[_0x4b1ce3(0x60b)]()??Promise[_0x4b1ce3(0x67b)](_0x4b1ce3(0x76d));}}class _0x57ccb5{static [_0x11ce6(0x2c3)];[_0x11ce6(0x67c)]=[];constructor(){}static['getInstance'](){const _0x1d5b00=_0x11ce6;return _0x57ccb5[_0x1d5b00(0x2c3)]||(_0x57ccb5[_0x1d5b00(0x2c3)]=new _0x57ccb5()),_0x57ccb5[_0x1d5b00(0x2c3)];}['initialize'](){const _0x327b37=_0x11ce6;this[_0x327b37(0x635)](),this[_0x327b37(0x474)](),this[_0x327b37(0x171)](),this['checkAudioVolume'](),this[_0x327b37(0x84f)](),this[_0x327b37(0x3a5)](),this[_0x327b37(0x647)](),this[_0x327b37(0x1cc)](),this[_0x327b37(0x3e5)](),this[_0x327b37(0x6dc)](),_0x5c02ff['log'](_0x1e4869[_0x327b37(0x838)],'Support:\x20current\x20config',{'featureSupport':this[_0x327b37(0x67c)]});}['isFeatureSupported'](_0x54bce1){const _0x3ce9e2=_0x11ce6,_0x56f9cf=this['featureSupport']['find'](_0x10362a=>_0x10362a[_0x3ce9e2(0x768)]===_0x54bce1);return!!_0x56f9cf&&_0x56f9cf[_0x3ce9e2(0x175)];}[_0x11ce6(0x224)](_0x1136bc){const _0x2caa34=_0x11ce6;_0x5c02ff[_0x2caa34(0x745)](_0x2caa34(0x23b),{'nodeId':_0x1136bc[_0x2caa34(0x9d8)](),'nodeType':_0x1136bc[_0x2caa34(0x789)],'data':{'featureSupport':this[_0x2caa34(0x67c)]}});}[_0x11ce6(0x635)](){const _0x5a15bf=_0x11ce6,_0x35afef=_0x552c17[_0x5a15bf(0x46e)];let _0x2f38e=!0x1;_0x5a15bf(0x867)==typeof RTCPeerConnection&&_0x5a15bf(0x867)==typeof RTCIceCandidate&&_0x5a15bf(0x867)==typeof RTCSessionDescription?_0x2f38e=!0x0:_0x5c02ff['log'](_0x1e4869[_0x5a15bf(0x838)],_0x5a15bf(0x953)+_0x35afef+_0x5a15bf(0x23c)),this['featureSupport'][_0x5a15bf(0x7bc)]({'name':_0x35afef,'supported':_0x2f38e});}['checkMediaStream'](){const _0x9f056d=_0x11ce6,_0x2db6e2=_0x552c17[_0x9f056d(0x545)];let _0x5374a5=!0x1;_0x9f056d(0x867)==typeof MediaStream&&_0x9f056d(0x867)==typeof MediaStreamTrack&&_0x9f056d(0x56e)==typeof navigator&&'object'==typeof navigator['mediaDevices']&&'function'==typeof navigator['mediaDevices'][_0x9f056d(0x4b1)]?_0x5374a5=!0x0:_0x5c02ff[_0x9f056d(0x65b)](_0x1e4869[_0x9f056d(0x838)],_0x9f056d(0x953)+_0x2db6e2+_0x9f056d(0x23c)),this[_0x9f056d(0x67c)][_0x9f056d(0x7bc)]({'name':_0x2db6e2,'supported':_0x5374a5});}[_0x11ce6(0x171)](){const _0x1f0406=_0x11ce6,_0x85eae1=_0x552c17[_0x1f0406(0x200)];let _0xa5e11=!0x1;_0x1f0406(0x56e)==typeof navigator&&_0x1f0406(0x56e)==typeof navigator[_0x1f0406(0x1f8)]&&_0x1f0406(0x867)==typeof navigator[_0x1f0406(0x1f8)][_0x1f0406(0x8ad)]?_0xa5e11=!0x0:_0x5c02ff['log'](_0x1e4869[_0x1f0406(0x838)],_0x1f0406(0x953)+_0x85eae1+_0x1f0406(0x23c)),this[_0x1f0406(0x67c)]['push']({'name':_0x85eae1,'supported':_0xa5e11});}[_0x11ce6(0x76c)](){const _0x29d91c=_0x11ce6,_0x46ff8a=_0x552c17[_0x29d91c(0x776)];let _0x3c940c=!0x1;_0x29d91c(0x867)!=typeof AudioContext||_0x29d91c(0x867)!=typeof ScriptProcessorNode&&_0x29d91c(0x867)!=typeof AudioWorkletNode||'function'!=typeof MediaStreamAudioSourceNode?_0x5c02ff[_0x29d91c(0x65b)](_0x1e4869[_0x29d91c(0x838)],_0x29d91c(0x953)+_0x46ff8a+_0x29d91c(0x23c)):_0x3c940c=!0x0,this[_0x29d91c(0x67c)][_0x29d91c(0x7bc)]({'name':_0x46ff8a,'supported':_0x3c940c});}['checkDeviceConfig'](){const _0x4c31c8=_0x11ce6,_0x30e2d9=_0x552c17[_0x4c31c8(0x4e6)];let _0x25aed3=!0x1;_0x4c31c8(0x56e)==typeof navigator&&'object'==typeof navigator[_0x4c31c8(0x1f8)]&&_0x4c31c8(0x867)==typeof navigator[_0x4c31c8(0x1f8)][_0x4c31c8(0x5ac)]&&_0x4c31c8(0x867)==typeof MediaDeviceInfo?_0x25aed3=!0x0:_0x5c02ff[_0x4c31c8(0x65b)](_0x1e4869[_0x4c31c8(0x838)],_0x4c31c8(0x953)+_0x30e2d9+_0x4c31c8(0x23c)),this[_0x4c31c8(0x67c)][_0x4c31c8(0x7bc)]({'name':_0x30e2d9,'supported':_0x25aed3});}[_0x11ce6(0x3a5)](){const _0x42c81c=_0x11ce6,_0x485ea9=_0x552c17['AudioOutput'];let _0x310f63=!0x1;_0x42c81c(0x56e)==typeof document&&_0x42c81c(0x867)==typeof document['createElement']('video')[_0x42c81c(0x6ec)]?_0x310f63=!0x0:_0x5c02ff[_0x42c81c(0x65b)](_0x1e4869['Support'],_0x42c81c(0x953)+_0x485ea9+_0x42c81c(0x23c)),this['featureSupport']['push']({'name':_0x485ea9,'supported':_0x310f63});}async[_0x11ce6(0x647)](){const _0x2c8361=_0x11ce6,_0x3b52f4=_0x552c17['Recording'];let _0x4ea037=!0x1;try{const _0x546d81=document[_0x2c8361(0x69e)](_0x2c8361(0x6bc));if(MediaRecorder&&MediaSource&&_0x546d81[_0x2c8361(0x560)]){const _0x17bc30=_0x546d81[_0x2c8361(0x560)](),_0x97e240=new MediaRecorder(_0x17bc30);_0x97e240['start'](),await new Promise(_0x185132=>setTimeout(_0x185132,0x7d0)),_0x97e240[_0x2c8361(0x4ef)](),_0x4ea037='inactive'===_0x97e240[_0x2c8361(0x60e)];}}catch(_0x2372d8){_0x5c02ff['log'](_0x1e4869['Support'],_0x2c8361(0x953)+_0x3b52f4+'\x20check\x20failed',_0x2372d8);}this[_0x2c8361(0x67c)]['push']({'name':_0x3b52f4,'supported':_0x4ea037}),_0x4ea037||_0x5c02ff[_0x2c8361(0x65b)](_0x1e4869[_0x2c8361(0x838)],_0x2c8361(0x953)+_0x3b52f4+_0x2c8361(0x23c));}[_0x11ce6(0x1cc)](){const _0x148cc9=_0x11ce6,_0x14d0ef=_0x552c17[_0x148cc9(0x5fe)];let _0x119d0f=!0x1;try{document[_0x148cc9(0x69e)](_0x148cc9(0x6bc))[_0x148cc9(0x560)]&&(_0x119d0f=!0x0);}catch(_0x58cb94){_0x5c02ff[_0x148cc9(0x65b)](_0x1e4869[_0x148cc9(0x838)],_0x148cc9(0x953)+_0x14d0ef+_0x148cc9(0x698),_0x58cb94);}this['featureSupport'][_0x148cc9(0x7bc)]({'name':_0x14d0ef,'supported':_0x119d0f}),_0x119d0f||_0x5c02ff[_0x148cc9(0x65b)](_0x1e4869[_0x148cc9(0x838)],_0x148cc9(0x953)+_0x14d0ef+_0x148cc9(0x23c));}[_0x11ce6(0x3e5)](){const _0x19f752=_0x11ce6,_0x4de801=_0x552c17['WebGL'];let _0x171648=!0x1;try{const _0x2c4331=document[_0x19f752(0x69e)](_0x19f752(0x6bc));WebGLRenderingContext&&_0x2c4331[_0x19f752(0x83b)]('webgl')&&(_0x171648=!0x0);}catch(_0x2fc5c9){_0x5c02ff[_0x19f752(0x65b)](_0x1e4869[_0x19f752(0x838)],_0x19f752(0x953)+_0x4de801+_0x19f752(0x698),_0x2fc5c9);}this[_0x19f752(0x67c)]['push']({'name':_0x4de801,'supported':_0x171648}),_0x171648||_0x5c02ff[_0x19f752(0x65b)](_0x1e4869['Support'],_0x19f752(0x953)+_0x4de801+_0x19f752(0x23c));}[_0x11ce6(0x6dc)](){const _0x64f604=_0x11ce6,_0x190f16=_0x552c17[_0x64f604(0x420)];let _0x33e061=!0x1;_0x64f604(0x867)==typeof AudioContext?_0x33e061=!0x0:_0x5c02ff['log'](_0x1e4869['Support'],_0x64f604(0x953)+_0x190f16+_0x64f604(0x23c)),this[_0x64f604(0x67c)][_0x64f604(0x7bc)]({'name':_0x190f16,'supported':_0x33e061});}}const _0x15cdfa=_0x57ccb5[_0x11ce6(0x5d2)]();class _0x2a165f{static ['instance'];static [_0x11ce6(0x786)];static ['mode'];['authService'];[_0x11ce6(0x391)];[_0x11ce6(0x809)];[_0x11ce6(0x102)];[_0x11ce6(0x8d4)]=new Map();[_0x11ce6(0x886)];constructor(_0x2006b7,_0x1d77a5,_0x1c3ec1){const _0x297329=_0x11ce6;this['vendorId']=_0x2006b7,this['configs']=_0x1d77a5,this[_0x297329(0x929)]=new _0x3f06eb(this[_0x297329(0x391)]),_0x15cdfa[_0x297329(0x9db)](),this['options']={'audioContext':_0x1c3ec1?.[_0x297329(0x84d)]??(_0x15cdfa[_0x297329(0x3ca)](_0x552c17[_0x297329(0x420)])&&new AudioContext()||void 0x0),'maxOutgoingSubscriptions':_0x1c3ec1?.['maxOutgoingSubscriptions']??0x1,'minConnections':_0x1c3ec1?.[_0x297329(0x48c)]??0x3,'maxConnections':_0x1c3ec1?.['maxConnections']??(_0x1c3ec1?.[_0x297329(0x48c)]&&0x4*_0x1c3ec1[_0x297329(0x48c)])??0xc,'maxDistance':_0x1c3ec1?.['maxDistance']??0xa,'maxFps':_0x1c3ec1?.[_0x297329(0x266)]??0x18,'maxBpp':_0x1c3ec1?.['maxBpp']??0.12,'objectStoreConnector':_0x1c3ec1?.[_0x297329(0x3af)]??_0x576a0d['OPFSObjectStoreConnector'],'externalStorageConnectors':_0x1c3ec1?.[_0x297329(0x302)],'keyValueDatabaseConnector':_0x1c3ec1?.[_0x297329(0x3de)]??_0x7cef9f[_0x297329(0x514)],'loggingDatabaseConnector':_0x1c3ec1?.[_0x297329(0x1ae)]??_0x7cef9f[_0x297329(0x514)],'peerConnectionConnector':_0x1c3ec1?.[_0x297329(0x691)]??_0x4afe1e[_0x297329(0x44a)],'generativeAIWorkerConnectors':_0x1c3ec1?.['generativeAIWorkerConnectors'],'vectorDatabaseConnector':_0x1c3ec1?.[_0x297329(0x899)],'graphDatabaseConnector':_0x1c3ec1?.[_0x297329(0x961)],'documentParserConnector':_0x1c3ec1?.[_0x297329(0x7ae)],'nlpLibraryConnector':_0x1c3ec1?.[_0x297329(0x95b)],'searchConnector':_0x1c3ec1?.[_0x297329(0x9fe)],'aiSearchConnector':_0x1c3ec1?.[_0x297329(0x7db)],'queryFileConnector':_0x1c3ec1?.['queryFileConnector']},_0x1c3ec1?.[_0x297329(0x398)]&&this['options'][_0x297329(0x84d)]&&_0x508bd4[_0x297329(0xdd)](this['options'][_0x297329(0x84d)]),_0x5c02ff[_0x297329(0x5a4)](this[_0x297329(0x391)]),_0x1c3ec1?.[_0x297329(0xb8)]&&_0x5c02ff[_0x297329(0x5e1)](_0x1c3ec1[_0x297329(0xb8)]);}static async[_0x11ce6(0x5d2)](_0x3a96ba,_0x3b72e0,_0x52ccb0,_0x7943bc,_0xd85149){const _0x9acb36=_0x11ce6;this['mode']=_0x52ccb0;const _0x48ba35=await this['validateAccess'](_0x3a96ba,_0x3b72e0,_0xd85149);return _0x2a165f[_0x9acb36(0x2c3)]||(_0x2a165f['instance']=new _0x2a165f(_0x3a96ba,_0x48ba35,_0x7943bc)),{'close':_0x2a165f[_0x9acb36(0x2c3)][_0x9acb36(0x17e)]['bind'](_0x2a165f[_0x9acb36(0x2c3)]),'authenticateUser':_0x2a165f[_0x9acb36(0x2c3)][_0x9acb36(0x908)][_0x9acb36(0x23a)](_0x2a165f['instance']),'authenticateAgent':_0x2a165f[_0x9acb36(0x2c3)][_0x9acb36(0x35e)][_0x9acb36(0x23a)](_0x2a165f[_0x9acb36(0x2c3)]),'joinCluster':_0x2a165f[_0x9acb36(0x2c3)]['joinCluster'][_0x9acb36(0x23a)](_0x2a165f[_0x9acb36(0x2c3)])};}static async[_0x11ce6(0x951)](){const _0x109f94=_0x11ce6;return _0x24cd47[_0x109f94(0x1bb)]();}static[_0x11ce6(0x116)](){const _0x49f322=_0x11ce6;return _0x4d02a1[_0x49f322(0x116)];}async[_0x11ce6(0x17e)](_0x4a5dfd){const _0x5ce329=_0x11ce6;this[_0x5ce329(0x8d4)]['forEach'](_0x1fa363=>{const _0x4f0506=_0x5ce329;_0x1fa363[_0x4f0506(0x536)](),_0x1fa363[_0x4f0506(0x1ac)](_0x4a5dfd);}),this[_0x5ce329(0x8d4)][_0x5ce329(0x918)](),this[_0x5ce329(0x809)][_0x5ce329(0x84d)]&&_0x508bd4[_0x5ce329(0x49f)](),_0x2a165f[_0x5ce329(0x786)]?.(),_0x2a165f[_0x5ce329(0x786)]=void 0x0,this[_0x5ce329(0x886)]=void 0x0,await this[_0x5ce329(0x929)]['signOut'](),_0x2a165f[_0x5ce329(0x2c3)]=void 0x0;}static async[_0x11ce6(0x548)](_0xb5d4e9,_0x3a9ba8,_0x30f375){const _0x53ea2d=_0x11ce6;if(!this[_0x53ea2d(0x47c)])throw new _0x39299d(_0x1ffca6[_0x53ea2d(0x65c)],_0x53ea2d(0x32f));let _0x38bc20;try{_0x38bc20=await(0x0,_0x35a5d3[_0x53ea2d(0x9cf)])(_0x24cd47['getFunctions'](),_0x53ea2d(0x939))({'vendorId':_0xb5d4e9,'accessToken':_0x3a9ba8,'secretKey':_0x30f375});}catch(_0x40483a){throw new _0x39299d(_0x1ffca6['InvalidAccess'],_0x53ea2d(0x870));}if(!this[_0x53ea2d(0x7a3)](_0x38bc20['data']))throw new _0x39299d(_0x1ffca6[_0x53ea2d(0x370)],_0x53ea2d(0x870));const _0x4785f5=_0x38bc20[_0x53ea2d(0x4ff)];return _0x4785f5[_0x53ea2d(0x95a)]||(_0x4785f5['features']=[]),this['unsubscribe']||(this['unsubscribe']=_0x508bd4['setInterval'](async()=>{const _0x3eade1=_0x53ea2d;try{const _0xe45767=await this[_0x3eade1(0x548)](_0xb5d4e9,_0x3a9ba8,_0x30f375);this[_0x3eade1(0x47c)]===_0x4aea4d[_0x3eade1(0x552)]['Agent']&&(_0xe45767[_0x3eade1(0xf3)]=_0xe45767['iceServers'][_0x3eade1(0x80e)](_0x51c5c1=>_0x51c5c1[_0x3eade1(0x19b)]['startsWith'](_0x3eade1(0x7a9)))),_0x4785f5[_0x3eade1(0xf3)]=_0xe45767[_0x3eade1(0xf3)];}catch(_0x5128da){}},0x1b7740)),_0x4785f5;}async[_0x11ce6(0x908)](_0x3e13c2){const _0x532d44=_0x11ce6;if(_0x2a165f['mode']!==_0x4aea4d['NodeType'][_0x532d44(0x59b)])throw new _0x39299d(_0x1ffca6['NodeInvalidType'],_0x532d44(0x86e));await this['authService'][_0x532d44(0x101)](_0x3e13c2);const _0x22b648=new _0x3f3964(_0x3e13c2['id'],_0x3e13c2[_0x532d44(0x535)],_0x3e13c2[_0x532d44(0x3fd)]);return this[_0x532d44(0x886)]={'node':_0x22b648},_0x15cdfa[_0x532d44(0x224)](_0x22b648),{'type':_0x4aea4d[_0x532d44(0x552)][_0x532d44(0x59b)],'getId':_0x22b648[_0x532d44(0x9d8)]['bind'](_0x22b648),'getDisplayName':_0x22b648[_0x532d44(0x7d2)][_0x532d44(0x23a)](_0x22b648),'getEmail':_0x22b648[_0x532d44(0x300)]['bind'](_0x22b648),'setDisplayName':_0x22b648[_0x532d44(0x27b)][_0x532d44(0x23a)](_0x22b648),'setEmail':_0x22b648['setEmail'][_0x532d44(0x23a)](_0x22b648)};}async[_0x11ce6(0x35e)](_0x5c8527){const _0x1c4925=_0x11ce6;if(_0x2a165f[_0x1c4925(0x47c)]!==_0x4aea4d[_0x1c4925(0x552)]['Agent'])throw new _0x39299d(_0x1ffca6['NodeInvalidType'],_0x1c4925(0x86e));const {id:_0x29e094,groupId:_0x3cfacb}=_0x5c8527,_0x1263b6=await(0x0,_0x31eea4['getDoc'])((0x0,_0x31eea4[_0x1c4925(0x425)])(_0x24cd47['getFirestore'](),'developers/'+this['vendorId']+_0x1c4925(0x4ca)+_0x3cfacb));if(!_0x1263b6[_0x1c4925(0x1f1)]())throw new _0x39299d(_0x1ffca6[_0x1c4925(0x8c3)],'Agent\x20group\x20not\x20found');const _0x1f3fae=_0x1263b6[_0x1c4925(0x4ff)]();await this['authService'][_0x1c4925(0x101)]({'id':_0x29e094});const _0x7ea084=new _0x48952d(_0x29e094,_0x3cfacb,this[_0x1c4925(0x391)],_0x1f3fae);return this['authContext']={'node':_0x7ea084},_0x15cdfa[_0x1c4925(0x224)](_0x7ea084),this[_0x1c4925(0x160)](_0x7ea084),{'type':_0x4aea4d[_0x1c4925(0x552)][_0x1c4925(0x68c)],'getId':_0x7ea084[_0x1c4925(0x9d8)][_0x1c4925(0x23a)](_0x7ea084),'onConfigurationChange':_0x7ea084[_0x1c4925(0xdb)]['bind'](_0x7ea084),'setReportCapacity':_0x7ea084[_0x1c4925(0x780)][_0x1c4925(0x23a)](_0x7ea084)};}async['joinCluster'](_0x39a79b){const _0x5fec49=_0x11ce6;if(!this[_0x5fec49(0x886)])throw new _0x39299d(_0x1ffca6['NodeNotAuthenticated'],_0x5fec49(0x250));if(this[_0x5fec49(0x886)][_0x5fec49(0x940)][_0x5fec49(0x789)]!==_0x4aea4d[_0x5fec49(0x552)]['User'])throw new _0x39299d(_0x1ffca6[_0x5fec49(0x5e9)],_0x5fec49(0x325));if(this[_0x5fec49(0x8d4)][_0x5fec49(0x297)](_0x39a79b))throw new _0x39299d(_0x1ffca6[_0x5fec49(0x9bc)],_0x5fec49(0x7c4));const _0x396ef9=new _0x5e9e70(this[_0x5fec49(0x391)],_0x39a79b,this[_0x5fec49(0x886)][_0x5fec49(0x940)],this[_0x5fec49(0x929)],this['options'],this[_0x5fec49(0x102)]);return await _0x396ef9[_0x5fec49(0x926)](),this[_0x5fec49(0x2e5)](_0x39a79b,_0x396ef9),_0x5c02ff[_0x5fec49(0x745)](_0x5fec49(0x81e),{'clusterId':_0x39a79b,'nodeId':this[_0x5fec49(0x886)]['node'][_0x5fec49(0x9d8)](),'nodeType':this[_0x5fec49(0x886)]['node'][_0x5fec49(0x789)]}),{'leave':_0x396ef9[_0x5fec49(0x1ac)][_0x5fec49(0x23a)](_0x396ef9),'getLocalNode':_0x396ef9[_0x5fec49(0x643)]['bind'](_0x396ef9),'openPubSubTopic':_0x396ef9['openPubSubTopic'][_0x5fec49(0x23a)](_0x396ef9),'openObjectStoreBucket':_0x396ef9['openObjectStoreBucket'][_0x5fec49(0x23a)](_0x396ef9),'openExternalStorageConnection':_0x396ef9[_0x5fec49(0x343)][_0x5fec49(0x23a)](_0x396ef9),'openKeyValueDatabase':_0x396ef9[_0x5fec49(0x46c)][_0x5fec49(0x23a)](_0x396ef9),'openGenerativeAIContext':_0x396ef9['openGenerativeAIContext'][_0x5fec49(0x23a)](_0x396ef9),'openGenerativeAIWorker':_0x396ef9['openGenerativeAIWorker'][_0x5fec49(0x23a)](_0x396ef9),'openGraphDatabase':_0x396ef9['openGraphDatabase'][_0x5fec49(0x23a)](_0x396ef9),'openVectorDatabase':_0x396ef9['openVectorDatabase'][_0x5fec49(0x23a)](_0x396ef9),'publishLocalMediaStream':_0x396ef9[_0x5fec49(0x450)][_0x5fec49(0x23a)](_0x396ef9),'publishLocalDynamicMediaStream':_0x396ef9[_0x5fec49(0x8f0)][_0x5fec49(0x23a)](_0x396ef9),'getPubSubTopics':_0x396ef9[_0x5fec49(0x65f)][_0x5fec49(0x23a)](_0x396ef9),'getObjectStoreBuckets':_0x396ef9['getObjectStoreBuckets']['bind'](_0x396ef9),'getExternalStorageConnections':_0x396ef9[_0x5fec49(0x8b2)]['bind'](_0x396ef9),'getKeyValueDatabases':_0x396ef9[_0x5fec49(0x332)][_0x5fec49(0x23a)](_0x396ef9),'getGenerativeAIContexts':_0x396ef9[_0x5fec49(0x658)][_0x5fec49(0x23a)](_0x396ef9),'getGenerativeAIWorkers':_0x396ef9[_0x5fec49(0x8f8)][_0x5fec49(0x23a)](_0x396ef9),'getGraphDatabases':_0x396ef9[_0x5fec49(0x697)][_0x5fec49(0x23a)](_0x396ef9),'getVectorDatabases':_0x396ef9['getVectorDatabases'][_0x5fec49(0x23a)](_0x396ef9),'getLocalMediaStreams':_0x396ef9[_0x5fec49(0x53c)][_0x5fec49(0x23a)](_0x396ef9),'getRemoteMediaStreams':_0x396ef9[_0x5fec49(0x3ad)][_0x5fec49(0x23a)](_0x396ef9),'getRemoteNodes':_0x396ef9[_0x5fec49(0x652)]['bind'](_0x396ef9),'on':_0x396ef9['on'][_0x5fec49(0x23a)](_0x396ef9),'off':_0x396ef9[_0x5fec49(0x536)][_0x5fec49(0x23a)](_0x396ef9)};}async['connectAgent'](_0x2ae269){const _0x21309e=_0x11ce6;for(const _0x190023 of _0x2ae269[_0x21309e(0x925)][_0x21309e(0x8d4)]){const _0x41ab89=new _0x5e9e70(this[_0x21309e(0x391)],_0x190023['id'],_0x2ae269,this[_0x21309e(0x929)],this[_0x21309e(0x809)],this[_0x21309e(0x102)]);await _0x41ab89[_0x21309e(0x926)](),this['addCluster'](_0x190023['id'],_0x41ab89),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x93b),_0x190023['id']);for(const _0x23cbd3 of _0x190023[_0x21309e(0x34e)]??[])_0x41ab89[_0x21309e(0x3db)](_0x23cbd3),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x50d),_0x23cbd3);for(const _0x229afa of _0x190023[_0x21309e(0x9a9)]??[])await _0x41ab89[_0x21309e(0x2de)](_0x229afa),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x715),_0x229afa);for(const _0x44cb6b of _0x190023[_0x21309e(0x70e)]??[])await _0x41ab89['openObjectStoreBucket'](_0x44cb6b,{'standalone':!0x0}),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x9e4),_0x44cb6b);for(const _0x4401d5 of _0x190023[_0x21309e(0x7e7)]??[]){const _0x1d3ddf=_0x4401d5[_0x21309e(0x82c)]('-');await _0x41ab89[_0x21309e(0x343)](_0x1d3ddf[0x1],_0x1d3ddf[0x0]),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x2a5),_0x4401d5);}for(const _0x5ecb8d of _0x190023['keyValueDatabases']??[])await _0x41ab89[_0x21309e(0x46c)](_0x5ecb8d,{'version':0x1,'tables':{}}),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x7f1),_0x5ecb8d);for(const _0x52b27d of _0x190023[_0x21309e(0x78b)]??[])_0x41ab89['openGraphDatabase'](_0x52b27d),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x732),_0x52b27d);for(const _0x34db61 of _0x190023[_0x21309e(0x1da)]??[])_0x41ab89['openVectorDatabase'](_0x34db61),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x487),_0x34db61);for(const _0xc18194 of _0x190023[_0x21309e(0x531)]??[]){const _0x58e1c6=_0xdd6566(this[_0x21309e(0x391)],_0xc18194),_0x1c3300=_0x534825(),_0x45db2f=this[_0x21309e(0x809)]['loggingDatabaseConnector']??this[_0x21309e(0x809)][_0x21309e(0x3de)];await _0x41ab89[_0x21309e(0x46c)](_0x58e1c6,_0x1c3300,_0x45db2f),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x392),_0x58e1c6),await _0x41ab89[_0x21309e(0x25e)](_0xc18194),_0x5c02ff[_0x21309e(0x6b1)](_0x21309e(0x37c),_0xc18194);}}}[_0x11ce6(0x2e5)](_0x2054e2,_0x20c5e0){const _0x2e94cc=_0x11ce6;this[_0x2e94cc(0x8d4)][_0x2e94cc(0x323)](_0x2054e2,_0x20c5e0),_0x20c5e0['on'](_0x2e94cc(0x9b4),()=>{const _0x56194d=_0x2e94cc;_0x20c5e0[_0x56194d(0x536)](),this[_0x56194d(0x8d4)][_0x56194d(0x3a9)](_0x2054e2);});}static[_0x11ce6(0x7a3)](_0x4e7c9c){const _0x289411=_0x11ce6;return void 0x0!==_0x4e7c9c[_0x289411(0xf3)];}}return _0x47df68;})())));